/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: video.js
 (Apache 2.0 - Copyright Brightcove, Inc.), long.js (Apache 2.0),
 nodejs-langs (MIT - Copyright Andrew Lawson), promise-polyfill
 (MIT - Copyright (c) 2014 Taylor Hakes & Forbes Lindesay),
 shaka-player (Apache 2.0 - Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
 (http://www.apache.org/licenses/LICENSE-2.0), MIT
 (https://opensource.org/licenses/MIT)


 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 8.3.0
 Created: 2024-10-23T09:21:37.340Z
 */
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(t):"function"==typeof define&&define.amd?define([],(function(){return n(t)})):t.THEOplayer=n(t)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof s?s:"undefined"!=typeof global?global:this,(function(t){"use strict";var n,i,r={exports:{}},e=(r.exports,t.window),u=t.document,s=t.location,o=t.navigator,a=t.setTimeout,c=t.clearTimeout,h=t.setInterval,f=t.clearInterval,v=t.Error,l=t.TypeError,d=t.SyntaxError,g=t.Object,w=t.Math,y=t.parseInt,m=t.parseFloat,A=t.isNaN,p=t.Uint8Array,_=t.Worker,k=(t.WorkerGlobalScope,t.XMLHttpRequest),b=g.create,M=g.defineProperty,T=g.getOwnPropertyDescriptor,N=g.getOwnPropertyNames,D=g.getPrototypeOf,I=g.prototype.hasOwnProperty,E=function(t,n){return function(){return t&&(n=t(t=0)),n}},S=function(t,n){return function(){return n||t((n={exports:{}}).exports,n),n.exports}},L=function(t,n,i,r){if(n&&"object"==typeof n||"function"==typeof n)for(var e,u=N(n),s=0,o=u.length;s<o;s++)e=u[s],I.call(t,e)||e===i||M(t,e,{get:function(t){return n[t]}.bind(null,e),enumerable:!(r=T(n,e))||r.enumerable});return t},j=function(t,n,i){return i=null!=t?b(D(t)):{},L(!n&&t&&t.__esModule?i:M(i,"default",{value:t,enumerable:!0}),t)},C=E((function(){"function"==typeof Symbol&&Symbol.iterator?n=Symbol:(i=0,(n=function(t){return"ttn"+t+"_"+ ++i}).iterator=n("Symbol.iterator"))}));function x(t){return t&&void 0!==n&&t.constructor===n?"symbol":typeof t}var O,z,R,B,P,U,Q,Y,F,G,V,W,X,Z,H,K,q,J,$,tt,nt=E((function(){yt(),C()}));function it(t){var n=this.constructor;return this.then((function(i){return n.resolve(t()).then((function(){return i}))}),(function(i){return n.resolve(t()).then((function(){return n.reject(i)}))}))}function rt(t){return new this((function(n,i){if(!t||void 0===t.length)return i(new l((void 0===t?"undefined":x(t))+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(t);if(0===r.length)return n([]);var e=r.length;function u(t,i){if(i&&("object"==typeof i||"function"==typeof i)){var s=i.then;if("function"==typeof s)return void s.call(i,(function(n){u(t,n)}),(function(i){r[t]={status:"rejected",reason:i},0==--e&&n(r)}))}r[t]={status:"fulfilled",value:i},0==--e&&n(r)}for(var s=0;s<r.length;s++)u(s,r[s])}))}function et(t){return Boolean(t&&void 0!==t.length)}function ut(){}function st(t){if(!(this instanceof st))throw new l("Promises must be constructed via new");if("function"!=typeof t)throw new l("not a function");this.ja=0,this.ntn=!1,this.sTt=void 0,this.itn=[],vt(t,this)}function ot(t,n){for(;3===t.ja;)t=t.sTt;0!==t.ja?(t.ntn=!0,st.rtn((function(){var i=1===t.ja?n.onFulfilled:n.onRejected;if(null!==i){var r;try{r=i(t.sTt)}catch(t){return void ct(n.promise,t)}at(n.promise,r)}else(1===t.ja?at:ct)(n.promise,t.sTt)}))):t.itn.push(n)}function at(t,n){try{if(n===t)throw new l("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var i=n.then;if(n instanceof st)return t.ja=3,t.sTt=n,void ht(t);if("function"==typeof i)return void vt(function(t,n){return function(){t.apply(n,arguments)}}(i,n),t)}t.ja=1,t.sTt=n,ht(t)}catch(n){ct(t,n)}}function ct(t,n){t.ja=2,t.sTt=n,ht(t)}function ht(t){2===t.ja&&0===t.itn.length&&st.rtn((function(){t.ntn||st.etn(t.sTt)}));for(var n=0,i=t.itn.length;n<i;n++)ot(t,t.itn[n]);t.itn=null}function ft(t,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=i}function vt(t,n){var i=!1;try{t((function(t){i||(i=!0,at(n,t))}),(function(t){i||(i=!0,ct(n,t))}))}catch(t){if(i)return;i=!0,ct(n,t)}}function lt(t){return new W(V,{reason:t,promise:z.reject(t).catch((function(){})),cancelable:!0})}function dt(t){var n=new X(V,{detail:{reason:t},cancelable:!0});return g.defineProperty(n,"reason",{value:t}),n}function gt(t){var n=u.createEvent("CustomEvent");return n.initCustomEvent(V,!1,!0,{reason:t}),n}var wt=E((function(){var t,n,i,r;yt(),C(),nt(),O=a,st.prototype.catch=function(t){return this.then(null,t)},st.prototype.then=function(t,n){var i=new this.constructor(ut);return ot(this,new ft(t,n,i)),i},st.prototype.finally=it,st.all=function(t){return new st((function(n,i){if(!et(t))return i(new l("Promise.all accepts an array"));var r=Array.prototype.slice.call(t);if(0===r.length)return n([]);var e=r.length;function u(t,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var o=s.then;if("function"==typeof o)return void o.call(s,(function(n){u(t,n)}),i)}r[t]=s,0==--e&&n(r)}catch(t){i(t)}}for(var s=0;s<r.length;s++)u(s,r[s])}))},st.allSettled=rt,st.resolve=function(t){return t&&"object"==typeof t&&t.constructor===st?t:new st((function(n){n(t)}))},st.reject=function(t){return new st((function(n,i){i(t)}))},st.race=function(t){return new st((function(n,i){if(!et(t))return i(new l("Promise.race accepts an array"));for(var r=0,e=t.length;r<e;r++)st.resolve(t[r]).then(n,i)}))},st.rtn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){O(t,0)},st.etn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},z=function(){var t=self.Promise;if(void 0!==t)try{if(-1!==t.toString().indexOf("[native code]"))return t}catch(t){}}(),R=o?o.userAgent:"",B=R.match(/Firefox\/([0-9]+)/i),P=null!=B,U=B?Number(B[1]):0,Q=R.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),Y=null!=Q,F=Q?Number(Q[3]):0,G=function(){function t(t){this.GL=0,this.RV=0,this.zx=[],this.utn=t}return t.prototype.stn=function(t){var n=this.length();this.otn(n+1);var i=this.RV+n&this.utn-1;this.zx[i]=t,this.GL=n+1},t.prototype.push=function(t){var n=this.length()+1;if(this.utn<n)this.stn(t);else{var i=this.RV+n-1,r=this.utn-1;this.zx[i&r]=t,this.GL=n}},t.prototype.shift=function(){var t=this.RV,n=this.zx[t];return this.zx[t]=void 0,this.RV=t+1&this.utn-1,this.GL--,n},t.prototype.length=function(){return this.GL},t.prototype.otn=function(t){this.utn<t&&this.atn(this.utn<<1)},t.prototype.atn=function(t){var n=this.utn;this.utn=t;var i=this.RV+this.GL&n-1;!function(t,n,i,r){for(var e=0;e<r;++e)t[e+i]=t[e+n],t[e+n]=void 0}(this.zx,0,n,i)},t}(),V="unhandledrejection",W=self.PromiseRejectionEvent,X=self.CustomEvent,Z=function(t){return Z=function(){try{var t=z.resolve(),n="error",i=new W(V,{reason:n,promise:t});return V===i.type&&n===i.reason}catch(t){}return!1}()?lt:function(){try{var t="error",n=new X(V,{detail:{reason:t}});return V===n.type&&t===n.detail.reason}catch(t){}return!1}()?dt:gt,Z(t)},K=P&&U<60||Y&&F<15,z&&!K?(q=z,J=function(){}):(q=st,$=null!==(H=function(){var t=self.queueMicrotask;if("function"==typeof t)return function(n){return t(n)};var n=z;if(n&&"function"==typeof n.resolve){var i=n.resolve();return function(t){return i.then(t)}}}())&&void 0!==H?H:st.rtn,t=$,n=new G(16),i=!1,J=(tt={W4:function(e){n.push(e),i||(i=!0,t(r))},MG:r=function(){for(;n.length()>0;)n.shift()();i=!1}}).MG,st.rtn=tt.W4,st.etn=function(t){try{var n=Z(t);if(!self.dispatchEvent(n)||n.defaultPrevented)return}catch(t){}a((function(){throw new v("Unhandled promise rejection: ".concat(t))}),0)})})),yt=E((function(){wt()}));function mt(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),g.defineProperty(t,r.key,r)}}function At(t,n,i){return n&&mt(t.prototype,n),i&&mt(t,i),t}var pt=E((function(){yt(),C()}));function _t(t,n){return(_t=g.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}var kt=E((function(){yt(),C()}));function bt(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function");t.prototype=g.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&_t(t,n)}var Mt=E((function(){yt(),C(),kt()}));function Tt(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,r=new Array(n);i<n;i++)r[i]=t[i];return r}var Nt=E((function(){yt(),C()}));var Dt=E((function(){yt(),C(),Nt()}));var It=E((function(){yt(),C()}));var Et=E((function(){yt(),C()}));function St(t,n){if(t){if("string"==typeof t)return Tt(t,n);var i=g.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Tt(t,n):void 0}}var Lt=E((function(){yt(),C(),Nt()}));function jt(t){return function(t){if(Array.isArray(t))return Tt(t)}(t)||function(t){if(void 0!==n&&null!=t[n.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||St(t)||function(){throw new l("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ct=E((function(){yt(),C(),Dt(),It(),Et(),Lt()}));function xt(t,n,i,r,e,u,s){try{var o=t[u](s),a=o.value}catch(t){return void i(t)}o.done?n(a):q.resolve(a).then(r,e)}function Ot(t){return function(){var n=this,i=arguments;return new q((function(r,e){var u=t.apply(n,i);function s(t){xt(u,r,e,s,o,"next",t)}function o(t){xt(u,r,e,s,o,"throw",t)}s(void 0)}))}}var zt=E((function(){yt(),C()}));function Rt(t,i){var r,e,u,s,o={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof n&&(s[n.iterator]=function(){return this}),s;function a(n){return function(a){return function(n){if(r)throw new l("Generator is already executing.");for(;s&&(s=0,n[0]&&(o=0)),o;)try{if(r=1,e&&(u=2&n[0]?e.return:n[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,n[1])).done)return u;switch(e=0,u&&(n=[2&n[0],u.value]),n[0]){case 0:case 1:u=n;break;case 4:return o.label++,{value:n[1],done:!1};case 5:o.label++,e=n[1],n=[0];continue;case 7:n=o.ops.pop(),o.trys.pop();continue;default:if(!(u=o.trys,(u=u.length>0&&u[u.length-1])||6!==n[0]&&2!==n[0])){o=0;continue}if(3===n[0]&&(!u||n[1]>u[0]&&n[1]<u[3])){o.label=n[1];break}if(6===n[0]&&o.label<u[1]){o.label=u[1],u=n;break}if(u&&o.label<u[2]){o.label=u[2],o.ops.push(n);break}u[2]&&o.ops.pop(),o.trys.pop();continue}n=i.call(t,o)}catch(t){n=[6,t],e=0}finally{r=u=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,a])}}}function Bt(t){var i="function"==typeof n&&n.iterator,r=i&&t[i],e=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}};throw new l(i?"Object is not iterable.":"Symbol.iterator is not defined.")}var Pt=E((function(){yt(),C()})),Ut=E((function(){yt(),C(),Pt()}));var Qt=E((function(){yt(),C()}));var Yt=E((function(){yt(),C()}));var Ft=E((function(){yt(),C()}));function Gt(t,i){return function(t){if(Array.isArray(t))return t}(t)||function(t,i){var r=null==t?null:void 0!==n&&t[n.iterator]||t["@@iterator"];if(null!=r){var e,u,s=[],o=!0,a=!1;try{for(r=r.call(t);!(o=(e=r.next()).done)&&(s.push(e.value),!i||s.length!==i);o=!0);}catch(t){a=!0,u=t}finally{try{o||null==r.return||r.return()}finally{if(a)throw u}}return s}}(t,i)||St(t,i)||function(){throw new l("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Vt=E((function(){yt(),C(),Qt(),Yt(),Ft(),Lt()}));function Wt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Xt=E((function(){yt(),C()}));function Zt(t,n,i){return n in t?g.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}var Ht=E((function(){yt(),C()})),Kt=E((function(){yt(),C(),Pt()}));var qt=E((function(){yt(),C()}));function Jt(t,n,i){return(Jt=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}()?Reflect.construct:function(t,n,i){var r=[null];r.push.apply(r,n);var e=new(Function.bind.apply(t,r));return i&&_t(e,i.prototype),e}).apply(null,arguments)}var $t=E((function(){yt(),C(),qt(),kt()}));function tn(t,n){return!n||"object"!==x(n)&&"function"!=typeof n?Wt(t):n}var nn=E((function(){yt(),C(),Xt(),nt()}));function rn(t){return(rn=g.setPrototypeOf?g.getPrototypeOf:function(t){return t.__proto__||g.getPrototypeOf(t)})(t)}var en=E((function(){yt(),C()}));var un=E((function(){yt(),C()}));function sn(t){var n="function"==typeof Map?new Map:void 0;return sn=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new l("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,i)}function i(){return Jt(t,arguments,rn(this).constructor)}return i.prototype=g.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),_t(i,t)},sn(t)}var on,an,cn,hn=E((function(){yt(),C(),$t(),en(),un(),kt()})),fn=S((function(t,i){var r,u;yt(),C(),Xt(),zt(),$t(),pt(),Ht(),Mt(),nn(),Vt(),Ct(),nt(),hn(),Ut(),Kt(),r=t,u=function(t){var i,r=g.defineProperty,u=g.defineProperties,s=g.getOwnPropertyDescriptors,o=g.getOwnPropertySymbols,c=g.prototype.hasOwnProperty,d=g.prototype.propertyIsEnumerable,k=function(t,n,i){return n in t?r(t,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[n]=i},b=function(t,n){for(var i in n||(n={}))c.call(n,i)&&k(t,i,n[i]);if(o)for(var r=0,e=o(n);r<e.length;r++)i=e[r],d.call(n,i)&&k(t,i,n[i]);return t},M=function(t,n){return u(t,s(n))},T=function(t,n){var i={};for(var r in t)c.call(t,r)&&n.indexOf(r)<0&&(i[r]=t[r]);if(null!=t&&o)for(var e=0,u=o(t);e<u.length;e++)r=u[e],n.indexOf(r)<0&&d.call(t,r)&&(i[r]=t[r]);return i},N=("undefined"==typeof globalThis?"undefined":x(globalThis))<"u"?globalThis:(void 0===e?"undefined":x(e))<"u"?e:("undefined"==typeof global?"undefined":x(global))<"u"?global:("undefined"==typeof self?"undefined":x(self))<"u"?self:{};function D(t){return t&&t.__esModule&&g.prototype.hasOwnProperty.call(t,"default")?t.default:t}var I,E={exports:{}};I=E,function(t){var n,i={VERSION:"1.6.1"},r={},e=function(t,n){return function(){return n.apply(t,arguments)}},u=function(){var t,n,i=arguments,r=i[0];for(n=1;n<i.length;n++)for(t in i[n])!(t in r)&&i[n].hasOwnProperty(t)&&(r[t]=i[n][t]);return r},s=function(t,n){return{value:t,name:n}};i.TRACE=s(1,"TRACE"),i.DEBUG=s(2,"DEBUG"),i.INFO=s(3,"INFO"),i.TIME=s(4,"TIME"),i.WARN=s(5,"WARN"),i.ERROR=s(8,"ERROR"),i.OFF=s(99,"OFF");var o=function(t){this.context=t,this.setLevel(t.filterLevel),this.log=this.info};o.prototype={setLevel:function(t){t&&"value"in t&&(this.context.filterLevel=t)},getLevel:function(){return this.context.filterLevel},enabledFor:function(t){var n=this.context.filterLevel;return t.value>=n.value},trace:function(){this.invoke(i.TRACE,arguments)},debug:function(){this.invoke(i.DEBUG,arguments)},info:function(){this.invoke(i.INFO,arguments)},warn:function(){this.invoke(i.WARN,arguments)},error:function(){this.invoke(i.ERROR,arguments)},time:function(t){"string"==typeof t&&t.length>0&&this.invoke(i.TIME,[t,"start"])},timeEnd:function(t){"string"==typeof t&&t.length>0&&this.invoke(i.TIME,[t,"end"])},invoke:function(t,i){n&&this.enabledFor(t)&&n(i,u({level:t},this.context))}};var a,c=new o({filterLevel:i.OFF});(a=i).enabledFor=e(c,c.enabledFor),a.trace=e(c,c.trace),a.debug=e(c,c.debug),a.time=e(c,c.time),a.timeEnd=e(c,c.timeEnd),a.info=e(c,c.info),a.warn=e(c,c.warn),a.error=e(c,c.error),a.log=a.info,i.setHandler=function(t){n=t},i.setLevel=function(t){for(var n in c.setLevel(t),r)r.hasOwnProperty(n)&&r[n].setLevel(t)},i.getLevel=function(){return c.getLevel()},i.get=function(t){return r[t]||(r[t]=new o(u({name:t},c.context)))},i.createDefaultHandler=function(t){(t=t||{}).formatter=t.formatter||function(t,n){n.name&&t.unshift("["+n.name+"]")};var n={},r=function(t,n){Function.prototype.apply.call(t,console,n)};return("undefined"==typeof console?"undefined":x(console))>"u"?function(){}:function(e,u){e=Array.prototype.slice.call(e);var s,o=console.log;u.level===i.TIME?(s=(u.name?"["+u.name+"] ":"")+e[0],"start"===e[1]?console.time?console.time(s):n[s]=(new Date).getTime():console.timeEnd?console.timeEnd(s):r(o,[s+": "+((new Date).getTime()-n[s])+"ms"])):(u.level===i.WARN&&console.warn?o=console.warn:u.level===i.ERROR&&console.error?o=console.error:u.level===i.INFO&&console.info?o=console.info:u.level===i.DEBUG&&console.debug?o=console.debug:u.level===i.TRACE&&console.trace&&(o=console.trace),t.formatter(e,u),r(o,e))}},i.useDefaults=function(t){i.setLevel(t&&t.defaultLevel||i.DEBUG),i.setHandler(i.createDefaultHandler(t))},i.setDefaults=i.useDefaults,I.exports?I.exports=i:(i.ul=t.Logger,i.noConflict=function(){return t.Logger=i.ul,i},t.Logger=i)}(N);var S=D(E.exports),L="0.2.1",j=(null==(i=null==e?void 0:e.navigator)?void 0:i.userAgent)||"No user agent available",C="",O="",z="",R="",B="",P="",U="",Q=0,Y=[],F=function(t){C=""===C?t:C},G=function(t){O=""===O?t:O},V=function(t){z=""===z?t:z},W=function(t){R=""===R?t:R},X=function(t){B=""===B?t:B},Z=function(t){Q=0===Q?t:Q},H=function(t){P=t},K=function(t){U=""===U?t:U},J=function(t){60===Y.length&&Y.shift(),Y.push(t)},$=function(t,n){var i;void 0===t&&(t=60),void 0===n&&(n="JSON"),i=!Number.isInteger(t)||t>60||t<=0?60:t;var r={client:"@millicast/millicast-sdk",version:L,timestamp:(new Date).toISOString(),userAgent:j,clusterId:U,accountId:C,streamName:O,subscriberId:z,connection:P,stats:Y.slice(-i),connectionDurationMs:(new Date).getTime()-Q};return""!==B?r.feedId=B:""!==R&&(r.streamViewId=R),"CMCD"===n?function(t){function n(t,n){return{ts:w.round(n.timestamp)||"",ot:"audio"===t?"a":"v",bl:n.jitterBufferDelay||0,br:w.round(n.bitrateBitsPerSecond||0),pld:n.packetsLostDeltaPerSecond||0,j:n.jitter||0,mtp:n.packetRate||0,mid:n.mid||"",mimeType:n.mimeType||""}}return t.stats=t.stats.reduce((function(t,i){var r=0!==i.audio.inbounds.length?i.audio.inbounds.map((function(t){return n("audio",t)})):i.audio.outbounds.map((function(t){return n("audio",t)})),e=0!==i.video.inbounds.length?i.video.inbounds.map((function(t){return n("video",t)})):i.video.outbounds.map((function(t){return n("video",t)}));return t.concat(jt(r).concat(jt(e)))}),[]),t}(r):r};S.useDefaults({defaultLevel:S.TRACE});var tt=["TRACE","DEBUG","INFO","WARN","ERROR"],nt=function(t,n){t.unshift("[".concat(n.name||"Global","] ").concat((new Date).toISOString()," - ").concat(n.level.name," -"))},it=function(t,n){return n?t.value>=at[n].value:t.value>=ot.value},rt=S.createDefaultHandler({formatter:nt});S.setHandler((function(t,n){(function(t,n){t=(t=Array.prototype.slice.call(t)).map((function(t){return"object"==typeof t?JSON.stringify(t):t})),nt(t,n),0!==ut?(st.push(t.join(" ")),st.length>=ut&&(st=st.slice(-ut))):st=[]})(t,n),it(n.level,n.name)&&rt(t,n);for(var i=0;i<ct.length;i++){var r=ct[i],e=r.handler,u=r.level;n.level.value>=u.value&&e(t,n)}}));var et,ut=1e4,st=[],ot=S.OFF,at={},ct=[],ht=M(b({},S),{enabledFor:it,getHistory:function(){return st},getHistoryMaxSize:function(){return ut},setHistoryMaxSize:function(t){ut=t},setLevel:function(t){for(var n in ot=t,at)at[n]=t},getLevel:function(){return ot},get:function(t){at[t]||(at[t]=ot);var n=S.get(t);return n.setLevel=function(n){at[t]=n},n.getLevel=function(){return at[t]},n},setHandler:function(t,n){ct.push({handler:t,level:n})},diagnose:function(t){var n;void 0===t&&(t={});var i={statsCount:60,historySize:1e3,minLogLevel:"TRACE",statsFormat:"JSON"};"number"==typeof t?(i.statsCount=t,n=i):n=b(b({},i),t);var r=n.statsCount,e=n.historySize,u=n.minLogLevel,s=n.statsFormat,o=$(r,s),a=ht.getHistory();if(!Number.isInteger(e)||e<=0)throw new v("Invalid Argument Exception : historySize must be a positive integer.");if(!tt.includes(u.toUpperCase()))throw new v('Invalid Argument Exception : the minLogLevel parameter only excepts "trace", "debug", "info", "warn", and "error" as arguments.');if(tt.includes(u.toUpperCase())){var c=tt.slice(tt.indexOf(u.toUpperCase())),h=a.filter((function(t){return c.some((function(n){return t.includes(n)}))}));o.history=h.slice(-e)}return o},JSON:"JSON",CMCD:"CMCD",VERSION:L}),ft={exports:{}},vt="object"==typeof Reflect?Reflect:null,lt=vt&&"function"==typeof vt.apply?vt.apply:function(t,n,i){return Function.prototype.apply.call(t,n,i)};et=vt&&"function"==typeof vt.ownKeys?vt.ownKeys:g.getOwnPropertySymbols?function(t){return g.getOwnPropertyNames(t).concat(g.getOwnPropertySymbols(t))}:function(t){return g.getOwnPropertyNames(t)};var dt=Number.isNaN||function(t){return t!=t};function gt(){gt.init.call(this)}ft.exports=gt,ft.exports.once=function(t,n){return new q((function(i,r){function e(i){t.removeListener(n,u),r(i)}function u(){"function"==typeof t.removeListener&&t.removeListener("error",e),i([].slice.call(arguments))}Dt(t,n,u,{once:!0}),"error"!==n&&function(t,n,i){"function"==typeof t.on&&Dt(t,"error",n,i)}(t,e,{once:!0})}))},gt.EventEmitter=gt,gt.prototype.hd=void 0,gt.prototype.Nd=0,gt.prototype.Id=void 0;var wt=10;function yt(t){if("function"!=typeof t)throw new l('The "listener" argument must be of type Function. Received type '+(void 0===t?"undefined":x(t)))}function mt(t){return void 0===t.Id?gt.defaultMaxListeners:t.Id}function pt(t,n,i,r){var e,u,s;if(yt(i),void 0===(u=t.hd)?(u=t.hd=g.create(null),t.Nd=0):(void 0!==u.newListener&&(t.emit("newListener",n,i.listener?i.listener:i),u=t.hd),s=u[n]),void 0===s)s=u[n]=i,++t.Nd;else if("function"==typeof s?s=u[n]=r?[i,s]:[s,i]:r?s.unshift(i):s.push(i),(e=mt(t))>0&&s.length>e&&!s.warned){s.warned=!0;var o=new v("Possible EventEmitter memory leak detected. "+s.length+" "+String(n)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=t,o.type=n,o.count=s.length,function(t){console&&console.warn&&console.warn(t)}(o)}return t}function _t(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function kt(t,n,i){var r={fired:!1,wrapFn:void 0,target:t,type:n,listener:i},e=_t.bind(r);return e.listener=i,r.wrapFn=e,e}function Mt(t,n,i){var r=t.hd;if(void 0===r)return[];var e=r[n];return void 0===e?[]:"function"==typeof e?i?[e.listener||e]:[e]:i?function(t){for(var n=new Array(t.length),i=0;i<n.length;++i)n[i]=t[i].listener||t[i];return n}(e):Nt(e,e.length)}function Tt(t){var n=this.hd;if(void 0!==n){var i=n[t];if("function"==typeof i)return 1;if(void 0!==i)return i.length}return 0}function Nt(t,n){for(var i=new Array(n),r=0;r<n;++r)i[r]=t[r];return i}function Dt(t,n,i,r){if("function"==typeof t.on)r.once?t.once(n,i):t.on(n,i);else{if("function"!=typeof t.addEventListener)throw new l('The "emitter" argument must be of type EventEmitter. Received type '+(void 0===t?"undefined":x(t)));t.addEventListener(n,(function e(u){r.once&&t.removeEventListener(n,e),i(u)}))}}g.defineProperty(gt,"defaultMaxListeners",{enumerable:!0,get:function(){return wt},set:function(t){if("number"!=typeof t||t<0||dt(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");wt=t}}),gt.init=function(){(void 0===this.hd||this.hd===g.getPrototypeOf(this).hd)&&(this.hd=g.create(null),this.Nd=0),this.Id=this.Id||void 0},gt.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||dt(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this.Id=t,this},gt.prototype.getMaxListeners=function(){return mt(this)},gt.prototype.emit=function(t){for(var n=[],i=1;i<arguments.length;i++)n.push(arguments[i]);var r="error"===t,e=this.hd;if(void 0!==e)r=r&&void 0===e.error;else if(!r)return!1;if(r){var u;if(n.length>0&&(u=n[0]),u instanceof v)throw u;var s=new v("Unhandled error."+(u?" ("+u.message+")":""));throw s.context=u,s}var o=e[t];if(void 0===o)return!1;if("function"==typeof o)lt(o,this,n);else{var a=o.length,c=Nt(o,a);for(i=0;i<a;++i)lt(c[i],this,n)}return!0},gt.prototype.addListener=function(t,n){return pt(this,t,n,!1)},gt.prototype.on=gt.prototype.addListener,gt.prototype.prependListener=function(t,n){return pt(this,t,n,!0)},gt.prototype.once=function(t,n){return yt(n),this.on(t,kt(this,t,n)),this},gt.prototype.prependOnceListener=function(t,n){return yt(n),this.prependListener(t,kt(this,t,n)),this},gt.prototype.removeListener=function(t,n){var i,r,e,u,s;if(yt(n),void 0===(r=this.hd))return this;if(void 0===(i=r[t]))return this;if(i===n||i.listener===n)0==--this.Nd?this.hd=g.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,i.listener||n));else if("function"!=typeof i){for(e=-1,u=i.length-1;u>=0;u--)if(i[u]===n||i[u].listener===n){s=i[u].listener,e=u;break}if(e<0)return this;0===e?i.shift():function(t,n){for(;n+1<t.length;n++)t[n]=t[n+1];t.pop()}(i,e),1===i.length&&(r[t]=i[0]),void 0!==r.removeListener&&this.emit("removeListener",t,s||n)}return this},gt.prototype.off=gt.prototype.removeListener,gt.prototype.removeAllListeners=function(t){var n,i,r;if(void 0===(i=this.hd))return this;if(void 0===i.removeListener)return 0===arguments.length?(this.hd=g.create(null),this.Nd=0):void 0!==i[t]&&(0==--this.Nd?this.hd=g.create(null):delete i[t]),this;if(0===arguments.length){var e,u=g.keys(i);for(r=0;r<u.length;++r)"removeListener"!==(e=u[r])&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this.hd=g.create(null),this.Nd=0,this}if("function"==typeof(n=i[t]))this.removeListener(t,n);else if(void 0!==n)for(r=n.length-1;r>=0;r--)this.removeListener(t,n[r]);return this},gt.prototype.listeners=function(t){return Mt(this,t,!0)},gt.prototype.rawListeners=function(t){return Mt(this,t,!1)},gt.listenerCount=function(t,n){return"function"==typeof t.listenerCount?t.listenerCount(n):Tt.call(t,n)},gt.prototype.listenerCount=Tt,gt.prototype.eventNames=function(){return this.Nd>0?et(this.hd):[]};var It=ft.exports,Et=D(It),St={exports:{}};St.exports=Ct,St.exports.filter=function(t,n){var i=new Lt;return Ct(t,i,n),i};var Lt=It.EventEmitter;function Ct(t,n,i){Array.isArray(i)||(i=[i]);var r=[];return i.forEach((function(i){var e=function(){var t=[].slice.call(arguments);t.unshift(i),n.emit.apply(n,t)};r.push(e),t.on(i,e)})),function(){i.forEach((function(n,i){t.removeListener(n,r[i])}))}}var xt=D(St.exports),zt={exports:{}};!function(t,n){var i,r;self,t.exports=(i={7:function(t){var n,i=function(t){if("function"!=typeof t)throw new l('The "listener" argument must be of type Function. Received type '+(void 0===t?"undefined":x(t)))},r=function(t){return void 0===t.Id?y.defaultMaxListeners:t.Id},e=function(t,n,e,u){var s,o,a,c;if(i(e),void 0===(o=t.hd)?(o=t.hd=g.create(null),t.Nd=0):(void 0!==o.newListener&&(t.emit("newListener",n,e.listener?e.listener:e),o=t.hd),a=o[n]),void 0===a)a=o[n]=e,++t.Nd;else if("function"==typeof a?a=o[n]=u?[e,a]:[a,e]:u?a.unshift(e):a.push(e),(s=r(t))>0&&a.length>s&&!a.warned){a.warned=!0;var h=new v("Possible EventEmitter memory leak detected. "+a.length+" "+String(n)+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name="MaxListenersExceededWarning",h.emitter=t,h.type=n,h.count=a.length,c=h,console&&console.warn&&console.warn(c)}return t},u=function(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)},s=function(t,n,i){var r={fired:!1,wrapFn:void 0,target:t,type:n,listener:i},e=u.bind(r);return e.listener=i,r.wrapFn=e,e},o=function(t,n,i){var r=t.hd;if(void 0===r)return[];var e=r[n];return void 0===e?[]:"function"==typeof e?i?[e.listener||e]:[e]:i?function(t){for(var n=new Array(t.length),i=0;i<n.length;++i)n[i]=t[i].listener||t[i];return n}(e):c(e,e.length)},a=function(t){var n=this.hd;if(void 0!==n){var i=n[t];if("function"==typeof i)return 1;if(void 0!==i)return i.length}return 0},c=function(t,n){for(var i=new Array(n),r=0;r<n;++r)i[r]=t[r];return i},h=function(t,n,i,r){if("function"==typeof t.on)r.once?t.once(n,i):t.on(n,i);else{if("function"!=typeof t.addEventListener)throw new l('The "emitter" argument must be of type EventEmitter. Received type '+(void 0===t?"undefined":x(t)));t.addEventListener(n,(function e(u){r.once&&t.removeEventListener(n,e),i(u)}))}},f="object"==typeof Reflect?Reflect:null,d=f&&"function"==typeof f.apply?f.apply:function(t,n,i){return Function.prototype.apply.call(t,n,i)};n=f&&"function"==typeof f.ownKeys?f.ownKeys:g.getOwnPropertySymbols?function(t){return g.getOwnPropertyNames(t).concat(g.getOwnPropertySymbols(t))}:function(t){return g.getOwnPropertyNames(t)};var w=Number.isNaN||function(t){return t!=t};function y(){y.init.call(this)}t.exports=y,t.exports.once=function(t,n){return new q((function(i,r){function e(i){t.removeListener(n,u),r(i)}function u(){"function"==typeof t.removeListener&&t.removeListener("error",e),i([].slice.call(arguments))}var s,o;h(t,n,u,{once:!0}),"error"!==n&&(o=e,"function"==typeof(s=t).on&&h(s,"error",o,{once:!0}))}))},y.EventEmitter=y,y.prototype.hd=void 0,y.prototype.Nd=0,y.prototype.Id=void 0;var m=10;g.defineProperty(y,"defaultMaxListeners",{enumerable:!0,get:function(){return m},set:function(t){if("number"!=typeof t||t<0||w(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");m=t}}),y.init=function(){void 0!==this.hd&&this.hd!==g.getPrototypeOf(this).hd||(this.hd=g.create(null),this.Nd=0),this.Id=this.Id||void 0},y.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||w(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this.Id=t,this},y.prototype.getMaxListeners=function(){return r(this)},y.prototype.emit=function(t){for(var n=[],i=1;i<arguments.length;i++)n.push(arguments[i]);var r="error"===t,e=this.hd;if(void 0!==e)r=r&&void 0===e.error;else if(!r)return!1;if(r){var u;if(n.length>0&&(u=n[0]),u instanceof v)throw u;var s=new v("Unhandled error."+(u?" ("+u.message+")":""));throw s.context=u,s}var o=e[t];if(void 0===o)return!1;if("function"==typeof o)d(o,this,n);else{var a=o.length,h=c(o,a);for(i=0;i<a;++i)d(h[i],this,n)}return!0},y.prototype.addListener=function(t,n){return e(this,t,n,!1)},y.prototype.on=y.prototype.addListener,y.prototype.prependListener=function(t,n){return e(this,t,n,!0)},y.prototype.once=function(t,n){return i(n),this.on(t,s(this,t,n)),this},y.prototype.prependOnceListener=function(t,n){return i(n),this.prependListener(t,s(this,t,n)),this},y.prototype.removeListener=function(t,n){var r,e,u,s,o;if(i(n),void 0===(e=this.hd))return this;if(void 0===(r=e[t]))return this;if(r===n||r.listener===n)0==--this.Nd?this.hd=g.create(null):(delete e[t],e.removeListener&&this.emit("removeListener",t,r.listener||n));else if("function"!=typeof r){for(u=-1,s=r.length-1;s>=0;s--)if(r[s]===n||r[s].listener===n){o=r[s].listener,u=s;break}if(u<0)return this;0===u?r.shift():function(t,n){for(;n+1<t.length;n++)t[n]=t[n+1];t.pop()}(r,u),1===r.length&&(e[t]=r[0]),void 0!==e.removeListener&&this.emit("removeListener",t,o||n)}return this},y.prototype.off=y.prototype.removeListener,y.prototype.removeAllListeners=function(t){var n,i,r;if(void 0===(i=this.hd))return this;if(void 0===i.removeListener)return 0===arguments.length?(this.hd=g.create(null),this.Nd=0):void 0!==i[t]&&(0==--this.Nd?this.hd=g.create(null):delete i[t]),this;if(0===arguments.length){var e,u=g.keys(i);for(r=0;r<u.length;++r)"removeListener"!==(e=u[r])&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this.hd=g.create(null),this.Nd=0,this}if("function"==typeof(n=i[t]))this.removeListener(t,n);else if(void 0!==n)for(r=n.length-1;r>=0;r--)this.removeListener(t,n[r]);return this},y.prototype.listeners=function(t){return o(this,t,!0)},y.prototype.rawListeners=function(t){return o(this,t,!1)},y.listenerCount=function(t,n){return"function"==typeof t.listenerCount?t.listenerCount(n):a.call(t,n)},y.prototype.listenerCount=a,y.prototype.eventNames=function(){return this.Nd>0?n(this.hd):[]}},586:function(t,n,i){var r,e;!function(u){var s,o={VERSION:"1.6.1"},a={},c=function(t,n){return function(){return n.apply(t,arguments)}},h=function(){var t,n,i=arguments,r=i[0];for(n=1;n<i.length;n++)for(t in i[n])!(t in r)&&i[n].hasOwnProperty(t)&&(r[t]=i[n][t]);return r},f=function(t,n){return{value:t,name:n}};o.TRACE=f(1,"TRACE"),o.DEBUG=f(2,"DEBUG"),o.INFO=f(3,"INFO"),o.TIME=f(4,"TIME"),o.WARN=f(5,"WARN"),o.ERROR=f(8,"ERROR"),o.OFF=f(99,"OFF");var v=function(t){this.context=t,this.setLevel(t.filterLevel),this.log=this.info};v.prototype={setLevel:function(t){t&&"value"in t&&(this.context.filterLevel=t)},getLevel:function(){return this.context.filterLevel},enabledFor:function(t){var n=this.context.filterLevel;return t.value>=n.value},trace:function(){this.invoke(o.TRACE,arguments)},debug:function(){this.invoke(o.DEBUG,arguments)},info:function(){this.invoke(o.INFO,arguments)},warn:function(){this.invoke(o.WARN,arguments)},error:function(){this.invoke(o.ERROR,arguments)},time:function(t){"string"==typeof t&&t.length>0&&this.invoke(o.TIME,[t,"start"])},timeEnd:function(t){"string"==typeof t&&t.length>0&&this.invoke(o.TIME,[t,"end"])},invoke:function(t,n){s&&this.enabledFor(t)&&s(n,h({level:t},this.context))}};var l,d=new v({filterLevel:o.OFF});(l=o).enabledFor=c(d,d.enabledFor),l.trace=c(d,d.trace),l.debug=c(d,d.debug),l.time=c(d,d.time),l.timeEnd=c(d,d.timeEnd),l.info=c(d,d.info),l.warn=c(d,d.warn),l.error=c(d,d.error),l.log=l.info,o.setHandler=function(t){s=t},o.setLevel=function(t){for(var n in d.setLevel(t),a)a.hasOwnProperty(n)&&a[n].setLevel(t)},o.getLevel=function(){return d.getLevel()},o.get=function(t){return a[t]||(a[t]=new v(h({name:t},d.context)))},o.createDefaultHandler=function(t){(t=t||{}).formatter=t.formatter||function(t,n){n.name&&t.unshift("["+n.name+"]")};var n={},i=function(t,n){Function.prototype.apply.call(t,console,n)};return("undefined"==typeof console?"undefined":x(console))>"u"?function(){}:function(r,e){r=Array.prototype.slice.call(r);var u,s=console.log;e.level===o.TIME?(u=(e.name?"["+e.name+"] ":"")+r[0],"start"===r[1]?console.time?console.time(u):n[u]=(new Date).getTime():console.timeEnd?console.timeEnd(u):i(s,[u+": "+((new Date).getTime()-n[u])+"ms"])):(e.level===o.WARN&&console.warn?s=console.warn:e.level===o.ERROR&&console.error?s=console.error:e.level===o.INFO&&console.info?s=console.info:e.level===o.DEBUG&&console.debug?s=console.debug:e.level===o.TRACE&&console.trace&&(s=console.trace),t.formatter(r,e),i(s,r))}},o.useDefaults=function(t){o.setLevel(t&&t.defaultLevel||o.DEBUG),o.setHandler(o.createDefaultHandler(t))},o.setDefaults=o.useDefaults,void 0===(e="function"==typeof(r=o)?r.call(n,i,n,t):r)||(t.exports=e)}()},156:function(t,n,i){var r=this&&this.Dd||(g.create?function(t,n,i,r){void 0===r&&(r=i);var e=g.getOwnPropertyDescriptor(n,i);e&&!("get"in e?!n.__esModule:e.writable||e.configurable)||(e={enumerable:!0,get:function(){return n[i]}}),g.defineProperty(t,r,e)}:function(t,n,i,r){void 0===r&&(r=i),t[r]=n[i]}),e=this&&this.Ld||function(t,n){for(var i in t)"default"===i||g.prototype.hasOwnProperty.call(n,i)||r(n,t,i)},u=this&&this.Od||function(t){return t&&t.__esModule?t:{default:t}};g.defineProperty(n,"__esModule",{value:!0}),n.Logger=void 0;var s=i(586);g.defineProperty(n,"Logger",{enumerable:!0,get:function(){return u(s).default}}),e(i(284),n),e(i(280),n),e(i(738),n),e(i(767),n)},738:function(t,n){var i,r;g.defineProperty(n,"__esModule",{value:!0}),n.QualityLimitationReason=void 0,(r=i||(n.QualityLimitationReason=i={}))[r.none=0]="none",r[r.cpu=1]="cpu",r[r.bandwidth=2]="bandwidth",r[r.other=3]="other"},280:function(t,n){g.defineProperty(n,"__esModule",{value:!0})},767:function(t,n){g.defineProperty(n,"__esModule",{value:!0})},185:function(t,n){g.defineProperty(n,"__esModule",{value:!0}),n.calculatePacketsLostRatio=n.calculateRate=n.getMediaKind=void 0,n.getMediaKind=function(t){var n=t.kind||t.mediaType;return["audio","video"].includes(n)||"inbound-rtp"!==t.type||(n=t.id.toLocaleLowerCase().includes("video")?"video":"audio"),n},n.calculateRate=function(t,n,i,r){return i&&r?(n-r)/((t-i)/1e3):0},n.calculatePacketsLostRatio=function(t,n,i,r){return 0==n?0:(t-(null!=i?i:0))/(n-(null!=r?r:0))}},284:function(t,n,i){var r,e,u,s,o,a,c,v,d,w,y,m,A,p,_,k,b=this&&this.Rd||function(t,n,i,r){return new(i||(i=q))((function(e,u){function s(t){try{a(r.next(t))}catch(t){u(t)}}function o(t){try{a(r.throw(t))}catch(t){u(t)}}function a(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(t){t(n)}))).then(s,o)}a((r=r.apply(t,n||[])).next())}))},M=this&&this.zd||function(t,n,i,r,e){if("m"===r)throw new l("Private method is not writable");if("a"===r&&!e)throw new l("Private accessor was defined without a setter");if("function"==typeof n?t!==n||!e:!n.has(t))throw new l("Cannot write private member to an object whose class did not declare it");return"a"===r?e.call(t,i):e?e.value=i:n.set(t,i),i},T=this&&this.Bd||function(t,n,i,r){if("a"===i&&!r)throw new l("Private accessor was defined without a getter");if("function"==typeof n?t!==n||!r:!n.has(t))throw new l("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(t):r?r.value:n.get(t)},N=this&&this.Od||function(t){return t&&t.__esModule?t:{default:t}};g.defineProperty(n,"__esModule",{value:!0}),n.WebRTCStats=void 0;var D=i(7),I=N(i(586)),E=i(738),S=i(185),L=function(t){function n(n){var i;return i=t.call(this)||this,r.add(Wt(i)),e.set(Wt(i),void 0),u.set(Wt(i),void 0),s.set(Wt(i),void 0),o.set(Wt(i),null),a.set(Wt(i),void 0),c.set(Wt(i),null),i.start=function(){T(i,a,"f").info("WebRTC statistics collection is starting..."),M(Wt(i),c,null,"f"),M(Wt(i),o,h(T(Wt(i),v,"f"),T(Wt(i),u,"f")),"f")},i.stop=function(){T(Wt(i),o,"f")&&(f(T(Wt(i),o,"f")),M(Wt(i),o,null,"f"),T(i,a,"f").info("WebRTC statistics collection has stopped."))},v.set(Wt(i),(function(){return b(Wt(i),void 0,void 0,(function(){var t,n,i,u,o,h,f,v,l,d,w,A;return Rt(this,(function(b){switch(b.label){case 0:return b.trys.push([0,2,,3]),T(this,a,"f").trace("Requesting WebRTC statistics..."),[4,T(this,e,"f").call(this)];case 1:return t=b.sent(),n=(new Date).toISOString(),[3,3];case 2:return i=b.sent(),[2,(T(this,a,"f").error("Problem collecting the WebRTC statistics.",i),void this.emit("error","Problem collecting the WebRTC statistics - ".concat(i)))];case 3:u=Array.from(t.values()),o={timestamp:n,input:{audio:[],video:[]},output:{audio:[],video:[]}},T(this,s,"f")&&(o.rawStats=t),h=0,b.label=4;case 4:if(!(h<g.keys(u).length))return[3,19];switch((f=u[h]).type){case"outbound-rtp":return[3,5];case"inbound-rtp":return[3,11];case"candidate-pair":return[3,17]}return[3,18];case 5:return v=f,"audio"!==(l=(0,S.getMediaKind)(v))?[3,7]:[4,T(this,r,"m",y).call(this,t,v,o)];case 6:return b.sent(),[3,10];case 7:return"video"===l?[4,T(this,r,"m",m).call(this,t,v,o)]:[3,9];case 8:b.sent(),b.label=9;case 9:b.label=10;case 10:return[3,18];case 11:return d=f,"audio"!==(w=(0,S.getMediaKind)(d))?[3,13]:[4,T(this,r,"m",p).call(this,t,d,o)];case 12:return b.sent(),[3,16];case 13:return"video"===w?[4,T(this,r,"m",_).call(this,t,d,o)]:[3,15];case 14:b.sent(),b.label=15;case 15:b.label=16;case 16:return[3,18];case 17:(A=f).nominated&&T(this,r,"m",k).call(this,A,o),b.label=18;case 18:return h++,[3,4];case 19:return M(this,c,o,"f"),this.emit("stats",o),[2]}}))}))})),M(Wt(i),a,I.default.get("WebRTCStats"),"f"),M(Wt(i),e,n.getStats,"f"),M(Wt(i),u,n.getStatsInterval||1e3,"f"),M(Wt(i),s,!!n.includeRawStats,"f"),tn(i)}return bt(n,t),n}(D.EventEmitter);n.WebRTCStats=L,e=new WeakMap,u=new WeakMap,s=new WeakMap,o=new WeakMap,a=new WeakMap,c=new WeakMap,v=new WeakMap,r=new WeakSet,d=function(t,n){if(n){var i=t.get(n);if(i)return{mimeType:i.mimeType}}return{}},w=function(t,n,i){return b(this,void 0,void 0,(function(){var e,u,s,o,a,c,h;return Rt(this,(function(f){return a=(0,S.calculateRate)(n.timestamp,n.bytesSent,null==i?void 0:i.timestamp,null==i?void 0:i.totalBytesSent),c=(0,S.calculateRate)(n.timestamp,n.packetsSent,null==i?void 0:i.timestamp,null==i?void 0:i.totalPacketsSent),h=T(this,r,"m",d).call(this,t,n.codecId),[2,g.assign({id:n.id,timestamp:n.timestamp,mid:n.mid,totalBytesSent:n.bytesSent,bytesSentDelta:n.bytesSent-(null!==(e=null==i?void 0:i.totalBytesSent)&&void 0!==e?e:0),totalPacketsSent:n.packetsSent,packetsSentDelta:n.packetsSent-(null!==(u=null==i?void 0:i.totalPacketsSent)&&void 0!==u?u:0),bitrate:a,packetRate:c,targetBitrate:n.targetBitrate,retransmittedPacketsSent:n.retransmittedPacketsSent,retransmittedPacketsSentDelta:n.retransmittedPacketsSent-(null!==(s=null==i?void 0:i.retransmittedPacketsSent)&&void 0!==s?s:0),retransmittedBytesSent:n.retransmittedBytesSent,retransmittedBytesSentDelta:n.retransmittedBytesSent-(null!==(o=null==i?void 0:i.retransmittedBytesSent)&&void 0!==o?o:0)},h)]}))}))},y=function(t,n,i){return b(this,void 0,void 0,(function(){var e,u,s,o;return Rt(this,(function(a){switch(a.label){case 0:return(u=null===(e=T(this,c,"f"))||void 0===e?void 0:e.output.audio.find((function(t){return t.id===n.id})))&&n.timestamp-u.timestamp<=0?[2]:[4,T(this,r,"m",w).call(this,t,n,u)];case 1:return s=a.sent(),o=g.assign({},s),i.output.audio.push(o),[2]}}))}))},m=function(t,n,i){return b(this,void 0,void 0,(function(){var e,u,s,o,a;return Rt(this,(function(h){switch(h.label){case 0:return(u=null===(e=T(this,c,"f"))||void 0===e?void 0:e.output.video.find((function(t){return t.id===n.id})))&&n.timestamp-u.timestamp<=0?[2]:[4,T(this,r,"m",w).call(this,t,n,u)];case 1:return s=h.sent(),o=E.QualityLimitationReason.none,n.qualityLimitationReason&&(o=n.qualityLimitationReason),a=g.assign(g.assign({},s),{frameWidth:n.frameWidth,frameHeight:n.frameHeight,framesPerSecond:n.framesPerSecond,framesSent:n.framesSent,qualityLimitationReason:o,qualityLimitationDurations:n.qualityLimitationDurations}),i.output.video.push(a),[2]}}))}))},A=function(t,n,i){return b(this,void 0,void 0,(function(){var e,u,s,o,a,c,h;return Rt(this,(function(f){return s=(0,S.calculateRate)(n.timestamp,n.bytesReceived,null==i?void 0:i.timestamp,null==i?void 0:i.totalBytesReceived),o=(0,S.calculateRate)(n.timestamp,n.packetsReceived,null==i?void 0:i.timestamp,null==i?void 0:i.totalPacketsReceived),a=(0,S.calculatePacketsLostRatio)(n.packetsReceived,n.packetsLost,null==i?void 0:i.totalPacketsReceived,null==i?void 0:i.totalPacketsLost),c=(null!==(e=n.packetsLost)&&void 0!==e?e:0)-(null!==(u=null==i?void 0:i.totalPacketsLost)&&void 0!==u?u:0),h=T(this,r,"m",d).call(this,t,n.codecId),[2,g.assign({id:n.id,timestamp:n.timestamp,mid:n.mid,trackIdentifier:n.trackIdentifier,jitter:n.jitter,jitterBufferDelay:n.jitterBufferDelay,jitterBufferEmittedCount:n.jitterBufferEmittedCount,totalBytesReceived:n.bytesReceived,totalPacketsReceived:n.packetsReceived,totalPacketsLost:n.packetsLost,bitrate:s,packetRate:o,packetLossRatio:a,packetLossDelta:c},h)]}))}))},p=function(t,n,i){return b(this,void 0,void 0,(function(){var e,u,s;return Rt(this,(function(o){switch(o.label){case 0:return(u=null===(e=T(this,c,"f"))||void 0===e?void 0:e.input.audio.find((function(t){return t.id===n.id})))&&n.timestamp-u.timestamp<=0?[2]:[4,T(this,r,"m",A).call(this,t,n,u)];case 1:return s=o.sent(),i.input.audio.push(s),[2]}}))}))},_=function(t,n,i){return b(this,void 0,void 0,(function(){var e,u,s,o;return Rt(this,(function(a){switch(a.label){case 0:return(u=null===(e=T(this,c,"f"))||void 0===e?void 0:e.input.video.find((function(t){return t.id===n.id})))&&n.timestamp-u.timestamp<=0?[2]:[4,T(this,r,"m",A).call(this,t,n,u)];case 1:return s=a.sent(),o=g.assign(g.assign({},s),{keyFramesDecoded:n.keyFramesDecoded,frameHeight:n.frameHeight,frameWidth:n.frameWidth,framesDecoded:n.framesDecoded,framesDropped:n.framesDropped,framesPerSecond:n.framesPerSecond,framesReceived:n.framesReceived}),i.input.video.push(o),[2]}}))}))},k=function(t,n){n.totalRoundTripTime=t.totalRoundTripTime,n.currentRoundTripTime=t.currentRoundTripTime,n.responsesReceived=t.responsesReceived,n.availableOutgoingBitrate=t.availableOutgoingBitrate,n.availableIncomingBitrate=t.availableIncomingBitrate}}},r={},function t(n){var e=r[n];if(void 0!==e)return e.exports;var u=r[n]={exports:{}};return i[n].call(u.exports,u,u.exports,t),u.exports}(156))}(zt);var Pt=zt.exports,Ut=ht.get("PeerConnectionStats"),Qt="stats",Yt=function(t){function n(n,i){var r;return void 0===i&&(i={statsIntervalMs:1e3,autoInitStats:!0}),(r=t.call(this)||this).peer=n,r.collection=null,r.initialized=!1,i.autoInitStats&&r.init(i.statsIntervalMs),tn(r)}bt(n,t);var i=n.prototype;return i.init=function(t){var n=this;if(this.initialized)Ut.warn("PeerConnectionStats.init() has already been called. Automatic initialization occurs when the PeerConnectionStats object is constructed.");else{Ut.info("Initializing peer connection stats");var i=this.peer;try{this.collection=new Pt.WebRTCStats({getStatsInterval:t,getStats:function(){return i.getStats()},includeRawStats:!0}),this.collection.on("stats",(function(t){var i=function(t){var n=t,i=(n.input,n.output,n.rawStats,T(n,["input","output","rawStats"]));return M(b({},i),{audio:{inbounds:t.input.audio.map((function(t){var n=t,i=n.packetLossRatio,r=n.packetLossDelta,e=n.bitrate,u=T(n,["packetLossRatio","packetLossDelta","bitrate"]);return b({packetsLostRatioPerSecond:i,packetsLostDeltaPerSecond:r,bitrateBitsPerSecond:8*e,bitrate:e},u)})),outbounds:t.output.audio.map((function(t){var n=t,i=n.packetLossRatio,r=n.packetLossDelta,e=n.bitrate,u=T(n,["packetLossRatio","packetLossDelta","bitrate"]);return b({packetsLostRatioPerSecond:i,packetsLostDeltaPerSecond:r,bitrateBitsPerSecond:8*e,bitrate:e},u)}))},video:{inbounds:t.input.video.map((function(t){var n=t,i=n.packetLossRatio,r=n.packetLossDelta,e=n.bitrate,u=T(n,["packetLossRatio","packetLossDelta","bitrate"]);return b({packetsLostRatioPerSecond:i,packetsLostDeltaPerSecond:r,bitrateBitsPerSecond:8*e,bitrate:e},u)})),outbounds:t.output.video.map((function(t){var n=t,i=n.packetLossRatio,r=n.packetLossDelta,e=n.bitrate,u=T(n,["packetLossRatio","packetLossDelta","bitrate"]);return b({packetsLostRatioPerSecond:i,packetsLostDeltaPerSecond:r,bitrateBitsPerSecond:8*e,bitrate:e},u)}))},raw:t.rawStats})}(t);J(i),n.emit(Qt,i)})),this.collection.start(),this.initialized=!0}catch(t){Ut.error(t)}}},i.parseStats=function(t){return Ut.warn("The parseStats method is deprecated and will be removed in future releases."),null},i.stop=function(){Ut.info("Stopping peer connection stats"),this.collection.stop()},n}(Et),Ft={},Vt={},Xt={},Ht={exports:{}},Kt=Ht.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(t){return t.encoding?"rtpmap:%d %s/%s/%s":t.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(t){return null!=t.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(t){return null!=t.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(t){return"extmap:%d"+(t.direction?"/%s":"%v")+(t["encrypt-uri"]?" %s":"%v")+" %s"+(t.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(t){return null!=t.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(t){var n="candidate:%s %d %s %d %s %d typ %s";return n+=null!=t.raddr?" raddr %s rport %d":"%v%v",n+=null!=t.tcptype?" tcptype %s":"%v",null!=t.generation&&(n+=" generation %d"),n+=null!=t["network-id"]?" network-id %d":"%v",n+=null!=t["network-cost"]?" network-cost %d":"%v"}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(t){var n="ssrc:%d";return null!=t.attribute&&(n+=" %s",null!=t.value&&(n+=":%s")),n}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(t){return null!=t.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(t){return t.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(t){return"imageattr:%s %s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(t){return"simulcast:%s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(t){return"ts-refclk:%s"+(null!=t.clksrcExt?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(t){var n="mediaclk:";return n+=null!=t.id?"id=%s %s":"%v%s",n+=null!=t.mediaClockValue?"=%s":"",n+=null!=t.rateNumerator?" rate=%s":"",n+=null!=t.rateDenominator?"/%s":""}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};g.keys(Kt).forEach((function(t){Kt[t].forEach((function(t){t.reg||(t.reg=/(.*)/),t.format||(t.format="%s")}))}));var qt=Ht.exports;!function(t){var n=function(t){return String(Number(t))===t?Number(t):t},i=function(t,i,r){var e=t.name&&t.names;t.push&&!i[t.push]?i[t.push]=[]:e&&!i[t.name]&&(i[t.name]={});var u=t.push?{}:e?i[t.name]:i;(function(t,i,r,e){if(e&&!r)i[e]=n(t[1]);else for(var u=0;u<r.length;u+=1)null!=t[u+1]&&(i[r[u]]=n(t[u+1]))})(r.match(t.reg),u,t.names,t.name),t.push&&i[t.push].push(u)},r=qt,e=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(t){var n={},u=[],s=n;return t.split(/(\r\n|\r|\n)/).filter(e).forEach((function(t){var n=t[0],e=t.slice(2);"m"===n&&(u.push({rtp:[],fmtp:[]}),s=u[u.length-1]);for(var o=0;o<(r[n]||[]).length;o+=1){var a=r[n][o];if(a.reg.test(e))return i(a,s,e)}})),n.media=u,n};var u=function(t,i){var r=i.split(/=(.+)/,2);return 2===r.length?t[r[0]]=n(r[1]):1===r.length&&i.length>1&&(t[r[0]]=void 0),t};t.parseParams=function(t){return t.split(/;\s?/).reduce(u,{})},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(t){return t.toString().split(" ").map(Number)},t.parseRemoteCandidates=function(t){for(var i=[],r=t.split(" ").map(n),e=0;e<r.length;e+=3)i.push({component:r[e],ip:r[e+1],port:r[e+2]});return i},t.parseImageAttributes=function(t){return t.split(" ").map((function(t){return t.substring(1,t.length-1).split(",").reduce(u,{})}))},t.parseSimulcastStreamList=function(t){return t.split(";").map((function(t){return t.split(",").map((function(t){var i,r=!1;return"~"!==t[0]?i=n(t):(i=n(t.substring(1,t.length)),r=!0),{scid:i,paused:r}}))}))}}(Xt);var $t=qt,nn=/%[sdv%]/g,rn=function(t){var n=1,i=arguments,r=i.length;return t.replace(nn,(function(t){if(n>=r)return t;var e=i[n];switch(n+=1,t){case"%%":return"%";case"%s":return String(e);case"%d":return Number(e);case"%v":return""}}))},en=function(t,n,i){var r=[t+"="+(n.format instanceof Function?n.format(n.push?i:i[n.name]):n.format)];if(n.names)for(var e=0;e<n.names.length;e+=1){var u=n.names[e];n.name?r.push(i[n.name][u]):r.push(i[n.names[e]])}else r.push(i[n.name]);return rn.apply(null,r)},un=["v","o","s","i","u","e","p","c","b","t","r","z","a"],on=["i","c","b","a"],an=Xt,cn=function(t,n){n=n||{},null==t.version&&(t.version=0),null==t.name&&(t.name=" "),t.media.forEach((function(t){null==t.payloads&&(t.payloads="")}));var i=n.outerOrder||un,r=n.innerOrder||on,e=[];return i.forEach((function(n){$t[n].forEach((function(i){i.name in t&&null!=t[i.name]?e.push(en(n,i,t)):i.push in t&&null!=t[i.push]&&t[i.push].forEach((function(t){e.push(en(n,i,t))}))}))})),t.media.forEach((function(t){e.push(en("m",$t.m[0],t)),r.forEach((function(n){$t[n].forEach((function(i){i.name in t&&null!=t[i.name]?e.push(en(n,i,t)):i.push in t&&null!=t[i.push]&&t[i.push].forEach((function(t){e.push(en(n,i,t))}))}))}))})),e.join("\r\n")+"\r\n"};Vt.write=cn,Vt.parse=an.parse,Vt.parseParams=an.parseParams,Vt.parseFmtpConfig=an.parseFmtpConfig,Vt.parsePayloads=an.parsePayloads,Vt.parseRemoteCandidates=an.parseRemoteCandidates,Vt.parseImageAttributes=an.parseImageAttributes,Vt.parseSimulcastStreamList=an.parseSimulcastStreamList;var hn=function(){function t(t,n,i,r,e,u,s,o,a){this.foundation=t,this.componentId=n,this.transport=i,this.priority=r,this.address=e,this.port=u,this.type=s,this.relAddr=o,this.relPort=a}var n=t.prototype;return n.equals=function(t){return t.foundation===this.foundation&&t.componentId===this.componentId&&t.transport===this.transport&&t.priority===this.priority&&t.address===this.address&&t.port===this.port&&t.type===this.type&&t.relAddr===this.relAddr&&t.relPort===this.relPort},n.clone=function(){return new t(this.foundation,this.componentId,this.transport,this.priority,this.address,this.port,this.type,this.relAddr,this.relPort)},n.plain=function(){var t={foundation:this.foundation,componentId:this.componentId,transport:this.transport,priority:this.priority,address:this.address,port:this.port,type:this.type};return this.relAddr&&(t.relAddr=this.relAddr),this.relPort&&(t.relPort=this.relPort),t},n.getFoundation=function(){return this.foundation},n.getComponentId=function(){return this.componentId},n.getTransport=function(){return this.transport},n.getPriority=function(){return this.priority},n.getAddress=function(){return this.address},n.getPort=function(){return this.port},n.getType=function(){return this.type},n.getRelAddr=function(){return this.relAddr},n.getRelPort=function(){return this.relPort},t}();hn.expand=function(t){return"CandidateInfo"===t.constructor.name?t:new hn(t.foundation,t.componentId,t.transport,t.priority,t.address,t.port,t.type,t.relAddr,t.relPort)},hn.clone=function(t){return"CandidateInfo"===t.constructor.name?t.clone():hn.expand(t)};var fn=hn,vn=function(){function t(t,n){this.id=t,this.params=n||[]}var n=t.prototype;return n.clone=function(){return new t(this.id,this.params)},n.plain=function(){return this.params.length?{id:this.id,params:this.params}:{id:this.id}},n.getId=function(){return this.id},n.getParams=function(){return this.params},t}();vn.expand=function(t){return"RTCPFeedbackInfo"===t.constructor.name?t:new vn(t.id,t.params)},vn.clone=function(t){return"RTCPFeedbackInfo"===t.constructor.name?t.clone():vn.expand(t)};var ln=vn,dn=ln,gn=function(){function t(t,n,i){this.codec=t,this.type=n,this.params={},this.rtcpfbs=new Set,i&&this.addParams(i)}var n=t.prototype;return n.clone=function(){var n=new t(this.codec,this.type,this.params);this.hasRTX()&&n.setRTX(this.getRTX());for(var i=0,r=this.rtcpfbs;i<r.length;i++){var e=r[i];n.addRTCPFeedback(e.clone())}return this.hasChannels()&&n.setChannels(this.getChannels()),n},n.plain=function(){var t={codec:this.codec,type:this.type};this.rtx&&(t.rtx=this.rtx),this.channels&&(t.channels=this.channels),g.keys(this.params).length&&(t.params=this.params);for(var n=0,i=this.rtcpfbs;n<i.length;n++){var r=i[n];t.rtcpfbs||(t.rtcpfbs=[]),t.rtcpfbs.push(r.plain())}return t},n.setRTX=function(t){this.rtx=t},n.getType=function(){return this.type},n.setType=function(t){this.type=t},n.getCodec=function(){return this.codec},n.getParams=function(){return this.params},n.addParams=function(t){for(var n in t)this.params[n]=t[n]},n.addParam=function(t,n){this.params[t]=n},n.hasParam=function(t){return g.hasOwnProperty.call(this.params,t)},n.getParam=function(t,n){if(void 0===n&&(n=void 0),this.hasParam(t))return this.params[t];if(void 0===n)throw new v("param ".concat(t," not found and no default value provided"));return""+n},n.hasRTX=function(){return this.rtx},n.getRTX=function(){return this.rtx},n.hasChannels=function(){return this.channels},n.getChannels=function(){return this.channels},n.setChannels=function(t){this.channels=t},n.addRTCPFeedback=function(t){this.rtcpfbs.add(t)},n.getRTCPFeedbacks=function(){return this.rtcpfbs},t}();gn.expand=function(t){if("CodecInfo"===t.constructor.name)return t;var n=new gn(t.codec,t.type,t.params);t.rtx&&n.setRTX(t.rtx),t.channels&&n.setChannels(t.channels);for(var i=0,r=t.rtcpfbs||[];i<r.length;i++){var e=r[i],u=dn.expand(e);n.addRTCPFeedback(u)}return n},gn.clone=function(t){return"CodecInfo"===t.constructor.name?t.clone():gn.expand(t)},gn.MapFromNames=function(t,n,i){for(var r,e=new Map,u=96,s=0;s<t.length;s++){var o=void 0,a=t[s].split(";"),c=a.shift().toLowerCase().trim();o="pcmu"===c?0:"pcma"===c?8:++u;var h=new gn(c,o);"opus"===c?h.setChannels(2):"multiopus"===c&&h.setChannels(6),n&&"ulpfec"!==c&&"flexfec-03"!==c&&"red"!==c&&h.setRTX(++u);for(var f=0,v=i||[];f<v.length;f++){var l=v[f];h.addRTCPFeedback(new dn(l.id,l.params))}for(var d=0;d<a.length;d++){var g=a[d].split("=");h.addParam(g[0].trim(),null===(r=g[1])||void 0===r?void 0:r.trim())}e.set(o,h)}return e};var wn=gn,yn=function t(){var i=this;if(!(this instanceof t))return new(Function.prototype.bind.apply(t,[null].concat(Array.prototype.slice.call(arguments))));Array.from(arguments).forEach((function(t){i[t]=n.for("Ud"+t)}))},mn=yn("ACTIVE","PASSIVE","ACTPASS","INACTIVE");mn.byValue=function(t){switch(t){case mn.ACTIVE:case mn.PASSIVE:case mn.ACTPASS:case mn.INACTIVE:return t}return mn[t.toUpperCase()]},mn.toString=function(t){switch(t){case mn.ACTIVE:return"active";case mn.PASSIVE:return"passive";case mn.ACTPASS:return"actpass";case mn.INACTIVE:return"inactive"}},mn.reverse=function(t,n){switch(t){case mn.ACTIVE:return mn.PASSIVE;case mn.PASSIVE:return mn.ACTIVE;case mn.ACTPASS:return n?mn.ACTIVE:mn.PASSIVE;case mn.INACTIVE:return mn.INACTIVE}};var An=mn,pn=An,_n=function(){function t(t,n,i){this.setup=t,this.hash=n,this.fingerprint=i}var n=t.prototype;return n.clone=function(){return new t(this.setup,this.hash,this.fingerprint)},n.plain=function(){return{setup:pn.toString(this.setup),hash:this.hash,fingerprint:this.fingerprint}},n.getFingerprint=function(){return this.fingerprint},n.getHash=function(){return this.hash},n.getSetup=function(){return this.setup},n.setSetup=function(t){this.setup=t},t}();_n.expand=function(t){return"DTLSInfo"===t.constructor.name?t:new _n(t.setup?pn.byValue(t.setup):pn.ACTPASS,t.hash,t.fingerprint)},_n.clone=function(t){return"DTLSInfo"===t.constructor.name?t.clone():_n.expand(t)};var kn=_n,bn=function(){function t(t,n,i,r){this.tag=t,this.suite=n,this.keyParams=i,this.sessionParams=r}var n=t.prototype;return n.clone=function(){return new t(this.tag,this.suite,this.keyParams,this.sessionParams)},n.plain=function(){return{tag:this.tag,suite:this.suite,keyParams:this.keyParams,sessionParams:this.sessionParams}},n.getSessionParams=function(){return this.sessionParams},n.getKeyParams=function(){return this.keyParams},n.getSuite=function(){return this.suite},n.getTag=function(){return this.tag},t}();bn.expand=function(t){return"CryptoInfo"===t.constructor.name?t:new bn(t.tag,t.suite,t.keyParams,t.sessionParams)},bn.clone=function(t){return"CryptoInfo"===t.constructor.name?t.clone():bn.expand(t)};for(var Mn=bn,Tn={exports:{}},Nn={exports:{}},Dn={},In={byteLength:function(t){var n=xn(t),i=n[0],r=n[1];return 3*(i+r)/4-r},toByteArray:function(t){var n,i,r=xn(t),e=r[0],u=r[1],s=new Ln(function(t,n,i){return 3*(n+i)/4-i}(0,e,u)),o=0,a=u>0?e-4:e;for(i=0;i<a;i+=4)n=Sn[t.charCodeAt(i)]<<18|Sn[t.charCodeAt(i+1)]<<12|Sn[t.charCodeAt(i+2)]<<6|Sn[t.charCodeAt(i+3)],s[o++]=n>>16&255,s[o++]=n>>8&255,s[o++]=255&n;return 2===u&&(n=Sn[t.charCodeAt(i)]<<2|Sn[t.charCodeAt(i+1)]>>4,s[o++]=255&n),1===u&&(n=Sn[t.charCodeAt(i)]<<10|Sn[t.charCodeAt(i+1)]<<4|Sn[t.charCodeAt(i+2)]>>2,s[o++]=n>>8&255,s[o++]=255&n),s},fromByteArray:function(t){for(var n,i=t.length,r=i%3,e=[],u=16383,s=0,o=i-r;s<o;s+=u)e.push(zn(t,s,s+u>o?o:s+u));return 1===r?(n=t[i-1],e.push(En[n>>2]+En[n<<4&63]+"==")):2===r&&(n=(t[i-2]<<8)+t[i-1],e.push(En[n>>10]+En[n>>4&63]+En[n<<2&63]+"=")),e.join("")}},En=[],Sn=[],Ln=(void 0===p?"undefined":x(p))<"u"?p:Array,jn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Cn=0;Cn<64;++Cn)En[Cn]=jn[Cn],Sn[jn.charCodeAt(Cn)]=Cn;function xn(t){var n=t.length;if(n%4>0)throw new v("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");return-1===i&&(i=n),[i,i===n?0:4-i%4]}function On(t){return En[t>>18&63]+En[t>>12&63]+En[t>>6&63]+En[63&t]}function zn(t,n,i){for(var r,e=[],u=n;u<i;u+=3)r=(t[u]<<16&16711680)+(t[u+1]<<8&65280)+(255&t[u+2]),e.push(On(r));return e.join("")}Sn[45]=62,Sn[95]=63;var Rn={read:function(t,n,i,r,e){var u,s,o=8*e-r-1,a=(1<<o)-1,c=a>>1,h=-7,f=i?e-1:0,v=i?-1:1,l=t[n+f];for(f+=v,u=l&(1<<-h)-1,l>>=-h,h+=o;h>0;u=256*u+t[n+f],f+=v,h-=8);for(s=u&(1<<-h)-1,u>>=-h,h+=r;h>0;s=256*s+t[n+f],f+=v,h-=8);if(0===u)u=1-c;else{if(u===a)return s?NaN:1/0*(l?-1:1);s+=w.pow(2,r),u-=c}return(l?-1:1)*s*w.pow(2,u-r)},write:function(t,n,i,r,e,u){var s,o,a,c=8*u-e-1,h=(1<<c)-1,f=h>>1,v=23===e?w.pow(2,-24)-w.pow(2,-77):0,l=r?0:u-1,d=r?1:-1,g=n<0||0===n&&1/n<0?1:0;for(n=w.abs(n),A(n)||n===1/0?(o=A(n)?1:0,s=h):(s=w.floor(w.log(n)/w.LN2),n*(a=w.pow(2,-s))<1&&(s--,a*=2),(n+=s+f>=1?v/a:v*w.pow(2,1-f))*a>=2&&(s++,a/=2),s+f>=h?(o=0,s=h):s+f>=1?(o=(n*a-1)*w.pow(2,e),s+=f):(o=n*w.pow(2,f-1)*w.pow(2,e),s=0));e>=8;t[i+l]=255&o,l+=d,o/=256,e-=8);for(s=s<<e|o,c+=e;c>0;t[i+l]=255&s,l+=d,s/=256,c-=8);t[i+l-d]|=128*g}};(function(t){var i=In,r=Rn,e="function"==typeof n&&"function"==typeof n.for?n.for("nodejs.util.inspect.custom"):null;t.Buffer=o,t.SlowBuffer=function(t){return+t!=t&&(t=0),o.alloc(+t)},t.INSPECT_MAX_BYTES=50;var u=2147483647;function s(t){if(t>u)throw new RangeError('The value "'+t+'" is invalid for option "size"');var n=new p(t);return g.setPrototypeOf(n,o.prototype),n}function o(t,n,i){if("number"==typeof t){if("string"==typeof n)throw new l('The "string" argument must be of type string. Received type number');return h(t)}return a(t,n,i)}function a(t,i,r){if("string"==typeof t)return function(t,n){if(("string"!=typeof n||""===n)&&(n="utf8"),!o.isEncoding(n))throw new l("Unknown encoding: "+n);var i=0|A(t,n),r=s(i),e=r.write(t,n);return e!==i&&(r=r.slice(0,e)),r}(t,i);if(ArrayBuffer.isView(t))return function(t){if(X(t,p)){var n=new p(t);return d(n.buffer,n.byteOffset,n.byteLength)}return f(t)}(t);if(null==t)throw new l("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+(void 0===t?"undefined":x(t)));if(X(t,ArrayBuffer)||t&&X(t.buffer,ArrayBuffer)||("undefined"==typeof SharedArrayBuffer?"undefined":x(SharedArrayBuffer))<"u"&&(X(t,SharedArrayBuffer)||t&&X(t.buffer,SharedArrayBuffer)))return d(t,i,r);if("number"==typeof t)throw new l('The "value" argument must not be of type number. Received type number');var e=t.valueOf&&t.valueOf();if(null!=e&&e!==t)return o.from(e,i,r);var u=function(t){if(o.isBuffer(t)){var n=0|m(t.length),i=s(n);return 0===i.length||t.copy(i,0,0,n),i}return void 0!==t.length?"number"!=typeof t.length||Z(t.length)?s(0):f(t):"Buffer"===t.type&&Array.isArray(t.data)?f(t.data):void 0}(t);if(u)return u;if((void 0===n?"undefined":x(n))<"u"&&null!=n.toPrimitive&&"function"==typeof t[n.toPrimitive])return o.from(t[n.toPrimitive]("string"),i,r);throw new l("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+(void 0===t?"undefined":x(t)))}function c(t){if("number"!=typeof t)throw new l('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function h(t){return c(t),s(t<0?0:0|m(t))}function f(t){for(var n=t.length<0?0:0|m(t.length),i=s(n),r=0;r<n;r+=1)i[r]=255&t[r];return i}function d(t,n,i){if(n<0||t.byteLength<n)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<n+(i||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===n&&void 0===i?new p(t):void 0===i?new p(t,n):new p(t,n,i),g.setPrototypeOf(r,o.prototype),r}function m(t){if(t>=u)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u.toString(16)+" bytes");return 0|t}function A(t,n){if(o.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||X(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new l('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+(void 0===t?"undefined":x(t)));var i=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===i)return 0;for(var e=!1;;)switch(n){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return G(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return V(t).length;default:if(e)return r?-1:G(t).length;n=(""+n).toLowerCase(),e=!0}}function _(t,n,i){var r=!1;if((void 0===n||n<0)&&(n=0),n>this.length||((void 0===i||i>this.length)&&(i=this.length),i<=0)||(i>>>=0)<=(n>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return z(this,n,i);case"utf8":case"utf-8":return L(this,n,i);case"ascii":return C(this,n,i);case"latin1":case"binary":return O(this,n,i);case"base64":return S(this,n,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,n,i);default:if(r)throw new l("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function k(t,n,i){var r=t[n];t[n]=t[i],t[i]=r}function b(t,n,i,r,e){if(0===t.length)return-1;if("string"==typeof i?(r=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),Z(i=+i)&&(i=e?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(e)return-1;i=t.length-1}else if(i<0){if(!e)return-1;i=0}if("string"==typeof n&&(n=o.from(n,r)),o.isBuffer(n))return 0===n.length?-1:M(t,n,i,r,e);if("number"==typeof n)return n&=255,"function"==typeof p.prototype.indexOf?e?p.prototype.indexOf.call(t,n,i):p.prototype.lastIndexOf.call(t,n,i):M(t,[n],i,r,e);throw new l("val must be string, number or Buffer")}function M(t,n,i,r,e){var u,s=1,o=t.length,a=n.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||n.length<2)return-1;s=2,o/=2,a/=2,i/=2}function c(t,n){return 1===s?t[n]:t.readUInt16BE(n*s)}if(e){var h=-1;for(u=i;u<o;u++)if(c(t,u)===c(n,-1===h?0:u-h)){if(-1===h&&(h=u),u-h+1===a)return h*s}else-1!==h&&(u-=u-h),h=-1}else for(i+a>o&&(i=o-a),u=i;u>=0;u--){for(var f=!0,v=0;v<a;v++)if(c(t,u+v)!==c(n,v)){f=!1;break}if(f)return u}return-1}function T(t,n,i,r){i=Number(i)||0;var e=t.length-i;r?(r=Number(r))>e&&(r=e):r=e;var u=n.length;r>u/2&&(r=u/2);for(var s=0;s<r;++s){var o=y(n.substr(2*s,2),16);if(Z(o))return s;t[i+s]=o}return s}function N(t,n,i,r){return W(G(n,t.length-i),t,i,r)}function D(t,n,i,r){return W(function(t){for(var n=[],i=0;i<t.length;++i)n.push(255&t.charCodeAt(i));return n}(n),t,i,r)}function I(t,n,i,r){return W(V(n),t,i,r)}function E(t,n,i,r){return W(function(t,n){for(var i,r,e,u=[],s=0;s<t.length&&!((n-=2)<0);++s)i=t.charCodeAt(s),r=i>>8,e=i%256,u.push(e),u.push(r);return u}(n,t.length-i),t,i,r)}function S(t,n,r){return 0===n&&r===t.length?i.fromByteArray(t):i.fromByteArray(t.slice(n,r))}function L(t,n,i){i=w.min(t.length,i);for(var r=[],e=n;e<i;){var u,s,o,a,c=t[e],h=null,f=c>239?4:c>223?3:c>191?2:1;if(e+f<=i)switch(f){case 1:c<128&&(h=c);break;case 2:128==(192&(u=t[e+1]))&&(a=(31&c)<<6|63&u)>127&&(h=a);break;case 3:u=t[e+1],s=t[e+2],128==(192&u)&&128==(192&s)&&(a=(15&c)<<12|(63&u)<<6|63&s)>2047&&(a<55296||a>57343)&&(h=a);break;case 4:u=t[e+1],s=t[e+2],o=t[e+3],128==(192&u)&&128==(192&s)&&128==(192&o)&&(a=(15&c)<<18|(63&u)<<12|(63&s)<<6|63&o)>65535&&a<1114112&&(h=a)}null===h?(h=65533,f=1):h>65535&&(h-=65536,r.push(h>>>10&1023|55296),h=56320|1023&h),r.push(h),e+=f}return function(t){var n=t.length;if(n<=j)return String.fromCharCode.apply(String,t);for(var i="",r=0;r<n;)i+=String.fromCharCode.apply(String,t.slice(r,r+=j));return i}(r)}t.kMaxLength=u,o.TYPED_ARRAY_SUPPORT=function(){try{var t=new p(1),n={foo:function(){return 42}};return g.setPrototypeOf(n,p.prototype),g.setPrototypeOf(t,n),42===t.foo()}catch(t){return!1}}(),!o.TYPED_ARRAY_SUPPORT&&("undefined"==typeof console?"undefined":x(console))<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),g.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),g.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),o.poolSize=8192,o.from=function(t,n,i){return a(t,n,i)},g.setPrototypeOf(o.prototype,p.prototype),g.setPrototypeOf(o,p),o.alloc=function(t,n,i){return function(t,n,i){return c(t),t<=0?s(t):void 0!==n?"string"==typeof i?s(t).fill(n,i):s(t).fill(n):s(t)}(t,n,i)},o.allocUnsafe=function(t){return h(t)},o.allocUnsafeSlow=function(t){return h(t)},o.isBuffer=function(t){return null!=t&&!0===t.Qd&&t!==o.prototype},o.compare=function(t,n){if(X(t,p)&&(t=o.from(t,t.offset,t.byteLength)),X(n,p)&&(n=o.from(n,n.offset,n.byteLength)),!o.isBuffer(t)||!o.isBuffer(n))throw new l('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===n)return 0;for(var i=t.length,r=n.length,e=0,u=w.min(i,r);e<u;++e)if(t[e]!==n[e]){i=t[e],r=n[e];break}return i<r?-1:r<i?1:0},o.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(t,n){if(!Array.isArray(t))throw new l('"list" argument must be an Array of Buffers');if(0===t.length)return o.alloc(0);var i;if(void 0===n)for(n=0,i=0;i<t.length;++i)n+=t[i].length;var r=o.allocUnsafe(n),e=0;for(i=0;i<t.length;++i){var u=t[i];if(X(u,p))e+u.length>r.length?o.from(u).copy(r,e):p.prototype.set.call(r,u,e);else{if(!o.isBuffer(u))throw new l('"list" argument must be an Array of Buffers');u.copy(r,e)}e+=u.length}return r},o.byteLength=A,o.prototype.Qd=!0,o.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var n=0;n<t;n+=2)k(this,n,n+1);return this},o.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var n=0;n<t;n+=4)k(this,n,n+3),k(this,n+1,n+2);return this},o.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var n=0;n<t;n+=8)k(this,n,n+7),k(this,n+1,n+6),k(this,n+2,n+5),k(this,n+3,n+4);return this},o.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?L(this,0,t):_.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(t){if(!o.isBuffer(t))throw new l("Argument must be a Buffer");return this===t||0===o.compare(this,t)},o.prototype.inspect=function(){var n="",i=t.INSPECT_MAX_BYTES;return n=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(n+=" ... "),"<Buffer "+n+">"},e&&(o.prototype[e]=o.prototype.inspect),o.prototype.compare=function(t,n,i,r,e){if(X(t,p)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(t))throw new l('The "target" argument must be one of type Buffer or Uint8Array. Received type '+(void 0===t?"undefined":x(t)));if(void 0===n&&(n=0),void 0===i&&(i=t?t.length:0),void 0===r&&(r=0),void 0===e&&(e=this.length),n<0||i>t.length||r<0||e>this.length)throw new RangeError("out of range index");if(r>=e&&n>=i)return 0;if(r>=e)return-1;if(n>=i)return 1;if(this===t)return 0;for(var u=(e>>>=0)-(r>>>=0),s=(i>>>=0)-(n>>>=0),a=w.min(u,s),c=this.slice(r,e),h=t.slice(n,i),f=0;f<a;++f)if(c[f]!==h[f]){u=c[f],s=h[f];break}return u<s?-1:s<u?1:0},o.prototype.includes=function(t,n,i){return-1!==this.indexOf(t,n,i)},o.prototype.indexOf=function(t,n,i){return b(this,t,n,i,!0)},o.prototype.lastIndexOf=function(t,n,i){return b(this,t,n,i,!1)},o.prototype.write=function(t,n,i,r){if(void 0===n)r="utf8",i=this.length,n=0;else if(void 0===i&&"string"==typeof n)r=n,i=this.length,n=0;else{if(!isFinite(n))throw new v("Buffer.write(string, encoding, offset[, length]) is no longer supported");n>>>=0,isFinite(i)?(i>>>=0,void 0===r&&(r="utf8")):(r=i,i=void 0)}var e=this.length-n;if((void 0===i||i>e)&&(i=e),t.length>0&&(i<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var u=!1;;)switch(r){case"hex":return T(this,t,n,i);case"utf8":case"utf-8":return N(this,t,n,i);case"ascii":case"latin1":case"binary":return D(this,t,n,i);case"base64":return I(this,t,n,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,n,i);default:if(u)throw new l("Unknown encoding: "+r);r=(""+r).toLowerCase(),u=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this.Fd||this,0)}};var j=4096;function C(t,n,i){var r="";i=w.min(t.length,i);for(var e=n;e<i;++e)r+=String.fromCharCode(127&t[e]);return r}function O(t,n,i){var r="";i=w.min(t.length,i);for(var e=n;e<i;++e)r+=String.fromCharCode(t[e]);return r}function z(t,n,i){var r=t.length;(!n||n<0)&&(n=0),(!i||i<0||i>r)&&(i=r);for(var e="",u=n;u<i;++u)e+=H[t[u]];return e}function R(t,n,i){for(var r=t.slice(n,i),e="",u=0;u<r.length-1;u+=2)e+=String.fromCharCode(r[u]+256*r[u+1]);return e}function B(t,n,i){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+n>i)throw new RangeError("Trying to access beyond buffer length")}function P(t,n,i,r,e,u){if(!o.isBuffer(t))throw new l('"buffer" argument must be a Buffer instance');if(n>e||n<u)throw new RangeError('"value" argument is out of bounds');if(i+r>t.length)throw new RangeError("Index out of range")}function U(t,n,i,r,e,u){if(i+r>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function Q(t,n,i,e,u){return n=+n,i>>>=0,u||U(t,0,i,4),r.write(t,n,i,e,23,4),i+4}function Y(t,n,i,e,u){return n=+n,i>>>=0,u||U(t,0,i,8),r.write(t,n,i,e,52,8),i+8}o.prototype.slice=function(t,n){var i=this.length;(t=~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),(n=void 0===n?i:~~n)<0?(n+=i)<0&&(n=0):n>i&&(n=i),n<t&&(n=t);var r=this.subarray(t,n);return g.setPrototypeOf(r,o.prototype),r},o.prototype.readUintLE=o.prototype.readUIntLE=function(t,n,i){t>>>=0,n>>>=0,i||B(t,n,this.length);for(var r=this[t],e=1,u=0;++u<n&&(e*=256);)r+=this[t+u]*e;return r},o.prototype.readUintBE=o.prototype.readUIntBE=function(t,n,i){t>>>=0,n>>>=0,i||B(t,n,this.length);for(var r=this[t+--n],e=1;n>0&&(e*=256);)r+=this[t+--n]*e;return r},o.prototype.readUint8=o.prototype.readUInt8=function(t,n){return t>>>=0,n||B(t,1,this.length),this[t]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(t,n){return t>>>=0,n||B(t,2,this.length),this[t]|this[t+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(t,n){return t>>>=0,n||B(t,2,this.length),this[t]<<8|this[t+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(t,n){return t>>>=0,n||B(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(t,n){return t>>>=0,n||B(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},o.prototype.readIntLE=function(t,n,i){t>>>=0,n>>>=0,i||B(t,n,this.length);for(var r=this[t],e=1,u=0;++u<n&&(e*=256);)r+=this[t+u]*e;return r>=(e*=128)&&(r-=w.pow(2,8*n)),r},o.prototype.readIntBE=function(t,n,i){t>>>=0,n>>>=0,i||B(t,n,this.length);for(var r=n,e=1,u=this[t+--r];r>0&&(e*=256);)u+=this[t+--r]*e;return u>=(e*=128)&&(u-=w.pow(2,8*n)),u},o.prototype.readInt8=function(t,n){return t>>>=0,n||B(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},o.prototype.readInt16LE=function(t,n){t>>>=0,n||B(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},o.prototype.readInt16BE=function(t,n){t>>>=0,n||B(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},o.prototype.readInt32LE=function(t,n){return t>>>=0,n||B(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},o.prototype.readInt32BE=function(t,n){return t>>>=0,n||B(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},o.prototype.readFloatLE=function(t,n){return t>>>=0,n||B(t,4,this.length),r.read(this,t,!0,23,4)},o.prototype.readFloatBE=function(t,n){return t>>>=0,n||B(t,4,this.length),r.read(this,t,!1,23,4)},o.prototype.readDoubleLE=function(t,n){return t>>>=0,n||B(t,8,this.length),r.read(this,t,!0,52,8)},o.prototype.readDoubleBE=function(t,n){return t>>>=0,n||B(t,8,this.length),r.read(this,t,!1,52,8)},o.prototype.writeUintLE=o.prototype.writeUIntLE=function(t,n,i,r){t=+t,n>>>=0,i>>>=0,r||P(this,t,n,i,w.pow(2,8*i)-1,0);var e=1,u=0;for(this[n]=255&t;++u<i&&(e*=256);)this[n+u]=t/e&255;return n+i},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(t,n,i,r){t=+t,n>>>=0,i>>>=0,r||P(this,t,n,i,w.pow(2,8*i)-1,0);var e=i-1,u=1;for(this[n+e]=255&t;--e>=0&&(u*=256);)this[n+e]=t/u&255;return n+i},o.prototype.writeUint8=o.prototype.writeUInt8=function(t,n,i){return t=+t,n>>>=0,i||P(this,t,n,1,255,0),this[n]=255&t,n+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(t,n,i){return t=+t,n>>>=0,i||P(this,t,n,2,65535,0),this[n]=255&t,this[n+1]=t>>>8,n+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(t,n,i){return t=+t,n>>>=0,i||P(this,t,n,2,65535,0),this[n]=t>>>8,this[n+1]=255&t,n+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(t,n,i){return t=+t,n>>>=0,i||P(this,t,n,4,4294967295,0),this[n+3]=t>>>24,this[n+2]=t>>>16,this[n+1]=t>>>8,this[n]=255&t,n+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(t,n,i){return t=+t,n>>>=0,i||P(this,t,n,4,4294967295,0),this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t,n+4},o.prototype.writeIntLE=function(t,n,i,r){if(t=+t,n>>>=0,!r){var e=w.pow(2,8*i-1);P(this,t,n,i,e-1,-e)}var u=0,s=1,o=0;for(this[n]=255&t;++u<i&&(s*=256);)t<0&&0===o&&0!==this[n+u-1]&&(o=1),this[n+u]=(t/s>>0)-o&255;return n+i},o.prototype.writeIntBE=function(t,n,i,r){if(t=+t,n>>>=0,!r){var e=w.pow(2,8*i-1);P(this,t,n,i,e-1,-e)}var u=i-1,s=1,o=0;for(this[n+u]=255&t;--u>=0&&(s*=256);)t<0&&0===o&&0!==this[n+u+1]&&(o=1),this[n+u]=(t/s>>0)-o&255;return n+i},o.prototype.writeInt8=function(t,n,i){return t=+t,n>>>=0,i||P(this,t,n,1,127,-128),t<0&&(t=255+t+1),this[n]=255&t,n+1},o.prototype.writeInt16LE=function(t,n,i){return t=+t,n>>>=0,i||P(this,t,n,2,32767,-32768),this[n]=255&t,this[n+1]=t>>>8,n+2},o.prototype.writeInt16BE=function(t,n,i){return t=+t,n>>>=0,i||P(this,t,n,2,32767,-32768),this[n]=t>>>8,this[n+1]=255&t,n+2},o.prototype.writeInt32LE=function(t,n,i){return t=+t,n>>>=0,i||P(this,t,n,4,2147483647,-2147483648),this[n]=255&t,this[n+1]=t>>>8,this[n+2]=t>>>16,this[n+3]=t>>>24,n+4},o.prototype.writeInt32BE=function(t,n,i){return t=+t,n>>>=0,i||P(this,t,n,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t,n+4},o.prototype.writeFloatLE=function(t,n,i){return Q(this,t,n,!0,i)},o.prototype.writeFloatBE=function(t,n,i){return Q(this,t,n,!1,i)},o.prototype.writeDoubleLE=function(t,n,i){return Y(this,t,n,!0,i)},o.prototype.writeDoubleBE=function(t,n,i){return Y(this,t,n,!1,i)},o.prototype.copy=function(t,n,i,r){if(!o.isBuffer(t))throw new l("argument should be a Buffer");if(i||(i=0),!r&&0!==r&&(r=this.length),n>=t.length&&(n=t.length),n||(n=0),r>0&&r<i&&(r=i),r===i||0===t.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-n<r-i&&(r=t.length-n+i);var e=r-i;return this===t&&"function"==typeof p.prototype.copyWithin?this.copyWithin(n,i,r):p.prototype.set.call(t,this.subarray(i,r),n),e},o.prototype.fill=function(t,n,i,r){if("string"==typeof t){if("string"==typeof n?(r=n,n=0,i=this.length):"string"==typeof i&&(r=i,i=this.length),void 0!==r&&"string"!=typeof r)throw new l("encoding must be a string");if("string"==typeof r&&!o.isEncoding(r))throw new l("Unknown encoding: "+r);if(1===t.length){var e=t.charCodeAt(0);("utf8"===r&&e<128||"latin1"===r)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(n<0||this.length<n||this.length<i)throw new RangeError("Out of range index");if(i<=n)return this;var u;if(n>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0),"number"==typeof t)for(u=n;u<i;++u)this[u]=t;else{var s=o.isBuffer(t)?t:o.from(t,r),a=s.length;if(0===a)throw new l('The value "'+t+'" is invalid for argument "value"');for(u=0;u<i-n;++u)this[u+n]=s[u%a]}return this};var F=/[^+/0-9A-Za-z-_]/g;function G(t,n){n=n||1/0;for(var i,r=t.length,e=null,u=[],s=0;s<r;++s){if((i=t.charCodeAt(s))>55295&&i<57344){if(!e){if(i>56319){(n-=3)>-1&&u.push(239,191,189);continue}if(s+1===r){(n-=3)>-1&&u.push(239,191,189);continue}e=i;continue}if(i<56320){(n-=3)>-1&&u.push(239,191,189),e=i;continue}i=65536+(e-55296<<10|i-56320)}else e&&(n-=3)>-1&&u.push(239,191,189);if(e=null,i<128){if((n-=1)<0)break;u.push(i)}else if(i<2048){if((n-=2)<0)break;u.push(i>>6|192,63&i|128)}else if(i<65536){if((n-=3)<0)break;u.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new v("Invalid code point");if((n-=4)<0)break;u.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return u}function V(t){return i.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(F,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function W(t,n,i,r){for(var e=0;e<r&&!(e+i>=n.length||e>=t.length);++e)n[e+i]=t[e];return e}function X(t,n){return t instanceof n||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===n.name}function Z(t){return t!=t}var H=function(){for(var t="0123456789abcdef",n=new Array(256),i=0;i<16;++i)for(var r=16*i,e=0;e<16;++e)n[r+e]=t[i]+t[e];return n}()})(Dn),function(t,n){var i=Dn,r=i.Buffer;function e(t,n){for(var i in t)n[i]=t[i]}function u(t,n,i){return r(t,n,i)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=i:(e(i,n),n.Buffer=u),u.prototype=g.create(r.prototype),e(r,u),u.from=function(t,n,i){if("number"==typeof t)throw new l("Argument must not be a number");return r(t,n,i)},u.alloc=function(t,n,i){if("number"!=typeof t)throw new l("Argument must be a number");var e=r(t);return void 0!==n?"string"==typeof i?e.fill(n,i):e.fill(n):e.fill(0),e},u.allocUnsafe=function(t){if("number"!=typeof t)throw new l("Argument must be a number");return r(t)},u.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new l("Argument must be a number");return i.SlowBuffer(t)}}(Nn,Nn.exports);var Bn=65536,Pn=Nn.exports.Buffer,Un=N.crypto||N.msCrypto;Un&&Un.getRandomValues?Tn.exports=function(t,n){if(t>4294967295)throw new RangeError("requested too many random bytes");var i=Pn.allocUnsafe(t);if(t>0)if(t>Bn)for(var r=0;r<t;r+=Bn)Un.getRandomValues(i.slice(r,r+Bn));else Un.getRandomValues(i);return"function"==typeof n?process.nextTick((function(){n(null,i)})):i}:Tn.exports=function(){throw new v("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")};var Qn=Tn.exports,Yn=function(){function t(t,n){this.ufrag=t,this.pwd=n,this.lite=!1,this.endOfCandidates=!1}var n=t.prototype;return n.clone=function(){var n=new t(this.ufrag,this.pwd);return n.setLite(this.lite),n.setEndOfCandidates(this.endOfCandidates),n},n.plain=function(){var t={ufrag:this.ufrag,pwd:this.pwd};return this.lite&&(t.lite=this.lite),this.endOfCandidates&&(t.endOfCandidates=this.endOfCandidates),t},n.getUfrag=function(){return this.ufrag},n.getPwd=function(){return this.pwd},n.isLite=function(){return this.lite},n.setLite=function(t){this.lite=t},n.isEndOfCandidates=function(){return this.endOfCandidates},n.setEndOfCandidates=function(t){this.endOfCandidates=t},t}();Yn.generate=function(t){var n=new Yn,i=Qn(8),r=Qn(24);return n.ufrag=i.toString("hex"),n.pwd=r.toString("hex"),n.lite=t,n},Yn.expand=function(t){if("ICEInfo"===t.constructor.name)return t;var n=new Yn(t.ufrag,t.pwd);return n.setLite(t.lite),n.setEndOfCandidates(t.endOfCandidates),n},Yn.clone=function(t){return"ICEInfo"===t.constructor.name?t.clone():Yn.expand(t)};var Fn=Yn,Gn=yn("SEND","RECV");Gn.byValue=function(t){return Gn[t.toUpperCase()]},Gn.toString=function(t){switch(t){case Gn.SEND:return"send";case Gn.RECV:return"recv"}},Gn.reverse=function(t){switch(t){case Gn.SEND:return Gn.RECV;case Gn.RECV:return Gn.SEND}};var Vn=Gn,Wn=Vn,Xn=function(){function t(t,n){this.id=t,this.direction=n,this.formats=[],this.params=new Map}var n=t.prototype;return n.clone=function(){var n=new t(this.id,this.direction);return n.setFormats(this.formats),n.setParams(this.params),n},n.plain=function(){var t={id:this.id,direction:Wn.toString(this.direction)};this.formats&&(t.formats=this.formats);for(var n=0,i=this.params.entries();n<i.length;n++){var r=Gt(i[n],2),e=r[0],u=r[1];t.params||(t.params={}),t.params[e]=u}return t},n.getId=function(){return this.id},n.getDirection=function(){return this.direction},n.setDirection=function(t){this.direction=t},n.getFormats=function(){return this.formats},n.setFormats=function(t){this.formats=[];for(var n=0;n<t.length;++n)this.formats.push(y(t[n]))},n.getParams=function(){return this.params},n.setParams=function(t){this.params=new Map(t)},n.addParam=function(t,n){this.params.set(t,n)},t}();Xn.expand=function(t){if("RIDInfo"===t.constructor.name)return t;for(var n=new Xn(t.id,Wn.byValue(t.direction)),i=0,r=g.entries(t.params||{});i<r.length;i++){var e=Gt(r[i],2),u=e[0],s=e[1];n.addParam(u,s)}return t.formats&&n.setFormats(t.formats),n},Xn.clone=function(t){return"RIDInfo"===t.constructor.name?t.clone():Xn.expand(t)};var Zn=Xn,Hn=function(){function t(t,n){this.paused=n,this.id=t}var n=t.prototype;return n.clone=function(){return new t(this.id,this.paused)},n.plain=function(){return{id:this.id,paused:this.paused}},n.isPaused=function(){return this.paused},n.getId=function(){return this.id},t}();Hn.expand=function(t){return"SimulcastStreamInfo"===t.constructor.name?t:new Hn(t.id,t.paused)},Hn.clone=function(t){return"SimulcastStreamInfo"===t.constructor.name?t.clone():Hn.expand(t)};var Kn=Hn,qn=Kn,Jn=Vn,$n=function(){function t(){this.send=[],this.recv=[]}var n=t.prototype;return n.clone=function(){for(var n=new t,i=0,r=this.send;i<r.length;i++){var e=r[i];n.addSimulcastAlternativeStreams(Jn.SEND,e.map((function(t){return t.clone()})))}for(var u=0,s=this.recv;u<s.length;u++){var o=s[u];n.addSimulcastAlternativeStreams(Jn.RECV,o.map((function(t){return t.clone()})))}return n},n.plain=function(){for(var t={send:[],recv:[]},n=0,i=this.send;n<i.length;n++){var r=i[n];t.send.push(r.map((function(t){return t.plain()})))}for(var e=0,u=this.recv;e<u.length;e++){var s=u[e];t.recv.push(s.map((function(t){return t.plain()})))}return t},n.addSimulcastAlternativeStreams=function(t,n){return t===Jn.SEND?this.send.push(n):this.recv.push(n)},n.addSimulcastStream=function(t,n){return t===Jn.SEND?this.send.push([n]):this.recv.push([n])},n.getSimulcastStreams=function(t){return t===Jn.SEND?this.send:this.recv},t}();$n.expand=function(t){if("SimulcastInfo"===t.constructor.name)return t;for(var n=new $n,i=0,r=t.send||[];i<r.length;i++){var e=r[i];n.addSimulcastAlternativeStreams(Jn.SEND,e.map(qn.expand))}for(var u=0,s=t.recv||[];u<s.length;u++){var o=s[u];n.addSimulcastAlternativeStreams(Jn.RECV,o.map(qn.expand))}return n},$n.clone=function(t){return"SimulcastInfo"===t.constructor.name?t.clone():$n.expand(t)};var ti=$n,ni=yn("SENDRECV","SENDONLY","RECVONLY","INACTIVE");ni.byValue=function(t){return ni[t.toUpperCase()]},ni.toString=function(t){switch(t){case ni.SENDRECV:return"sendrecv";case ni.SENDONLY:return"sendonly";case ni.RECVONLY:return"recvonly";case ni.INACTIVE:return"inactive"}},ni.reverse=function(t){switch(t){case ni.SENDRECV:return ni.SENDRECV;case ni.SENDONLY:return ni.RECVONLY;case ni.RECVONLY:return ni.SENDONLY;case ni.INACTIVE:return ni.INACTIVE}};var ii=ni,ri=function(){function t(t,n){this.port=t,this.maxMessageSize=n}var n=t.prototype;return n.clone=function(){return new t(this.port,this.maxMessageSize)},n.plain=function(){return{port:this.port,maxMessageSize:this.maxMessageSize}},n.getPort=function(){return this.port},n.getMaxMessageSize=function(){return this.maxMessageSize},t}();ri.expand=function(t){return"DataChannelInfo"===t.constructor.name?t:new ri(t.port,t.maxMessageSize)},ri.clone=function(t){return"DataChannelInfo"===t.constructor.name?t.clone():ri.expand(t)};var ei=ri,ui=wn,si=Zn,oi=ti,ai=ii,ci=Vn,hi=ei,fi=function(){function t(t,n){this.id=t,this.type=n,this.direction=ai.SENDRECV,this.extensions=new Map,this.codecs=new Map,this.rids=new Map,this.simulcast=null,this.bitrate=0,this.control=null,this.dataChannel=null}var n=t.prototype;return n.clone=function(){var n=new t(this.id,this.type);n.setDirection(this.direction),n.setBitrate(this.bitrate);for(var i=0,r=this.codecs.values();i<r.length;i++){var e=r[i];n.addCodec(e.clone())}for(var u=0,s=this.extensions.entries();u<s.length;u++){var o=Gt(s[u],2),a=o[0],c=o[1];n.addExtension(a,c)}for(var h=0,f=this.rids.values();h<f.length;h++){var v=f[h];n.addRID(v.clone())}return this.simulcast&&n.setSimulcast(this.simulcast.clone()),this.control&&n.setControl(this.control),this.dataChannel&&n.setDataChannel(this.dataChannel.clone()),n},n.plain=function(){var t={id:this.id,type:this.type,direction:ai.toString(this.direction),codecs:[]};this.dataChannel&&(t.dataChannel=this.dataChannel.plain()),this.bitrate&&(t.bitrate=this.bitrate);for(var n=0,i=this.codecs.values();n<i.length;n++){var r=i[n];t.codecs.push(r.plain())}for(var e=0,u=this.extensions.entries();e<u.length;e++){var s=Gt(u[e],2),o=s[0],a=s[1];t.extensions||(t.extensions={}),t.extensions[o]=a}for(var c=0,h=this.rids.values();c<h.length;c++){var f=h[c];t.rids||(t.rids=[]),t.rids.push(f.plain())}return this.simulcast&&(t.simulcast=this.simulcast.plain()),this.control&&(t.control=this.control),t},n.getType=function(){return this.type},n.getId=function(){return this.id},n.setId=function(t){this.id=t},n.addExtension=function(t,n){this.extensions.set(t,n)},n.addRID=function(t){this.rids.set(t.getId(),t)},n.addCodec=function(t){this.codecs.set(t.getType(),t)},n.setCodecs=function(t){this.codecs=t},n.getCodecForType=function(t){return this.codecs.get(t)},n.getCodec=function(t){for(var n=0,i=this.codecs.values();n<i.length;n++){var r=i[n];if(r.getCodec().toLowerCase()===t.toLowerCase())return r}return null},n.hasCodec=function(t){return null!==this.getCodec(t)},n.getCodecs=function(){return this.codecs},n.hasRTX=function(){for(var t=0,n=this.codecs.values();t<n.length;t++)if(n[t].hasRTX())return!0;return!1},n.getExtensions=function(){return this.extensions},n.getRIDs=function(){return this.rids},n.getRID=function(t){return this.rids.get(t)},n.getBitrate=function(){return this.bitrate},n.setBitrate=function(t){this.bitrate=t},n.getDirection=function(){return this.direction},n.setDirection=function(t){this.direction=t},n.hasControl=function(){return!!this.control},n.getControl=function(){return this.control},n.setControl=function(t){this.control=t},n.hasDataChannel=function(){return!!this.dataChannel},n.getDataChannel=function(){return this.dataChannel},n.setDataChannel=function(t){this.dataChannel=t},n.answer=function(n){var i=new t(this.id,this.type);if(n){i.setDirection(ai.reverse(this.direction));var r=n.codecs,e=n.dataChannel;if(r){var u;u=Array.isArray(r)?ui.MapFromNames(r,n.rtx,n.rtcpfbs):r;for(var s=0,o=this.codecs.values();s<o.length;s++)for(var a=o[s],c=0,h=u.values();c<h.length;c++){var f=h[c];if(!(f.getCodec().toLowerCase()!==a.getCodec().toLowerCase()||"h264"===f.getCodec()&&f.hasParam("packetization-mode")&&f.getParam("packetization-mode")!=a.getParam("packetization-mode","0")||"h264"===f.getCodec()&&f.hasParam("profile-level-id")&&a.hasParam("profile-level-id")&&f.getParam("profile-level-id")!=a.getParam("profile-level-id")||"multiopus"===f.getCodec()&&f.hasParam("num_streams")&&a.hasParam("num_streams")&&f.getParam("num_streams")!=a.getParam("num_streams"))){var v=f.clone();v.setType(a.getType()),v.hasRTX()&&v.setRTX(a.getRTX()),a.hasChannels()&&v.setChannels(a.getChannels()),v.addParams(a.getParams()),i.addCodec(v);break}}}for(var l=new Set(n.extensions),d=0,g=this.extensions;d<g.length;d++){var w=Gt(g[d],2),y=w[0],m=w[1];l.has(m)&&i.addExtension(y,m)}if(n.simulcast&&this.simulcast){var A=new oi,p=this.simulcast.getSimulcastStreams(ci.SEND);if(p)for(var _=0;_<p.length;_++){var k=p[_].map((function(t){return t.clone()}));A.addSimulcastAlternativeStreams(ci.RECV,k)}var b=this.simulcast.getSimulcastStreams(ci.RECV);if(b)for(var M=0;M<b.length;M++){var T=b[M].map((function(t){return t.clone()}));A.addSimulcastAlternativeStreams(ci.SEND,T)}for(var N=0,D=this.rids.values();N<D.length;N++){var I=D[N],E=I.clone();E.setDirection(ci.reverse(I.getDirection())),i.addRID(E)}i.setSimulcast(A)}if(e&&this.dataChannel){var S=new hi(this.dataChannel.getPort(),e.maxMessageSize?e.maxMessageSize:this.dataChannel.getMaxMessageSize());i.setDataChannel(S)}}else i.setDirection(ai.INACTIVE);return i},n.getSimulcast=function(){return this.simulcast},n.setSimulcast=function(t){this.simulcast=t},t}();function vi(t){var n=t.toString();if(!/^\d+$/.test(n))throw new v("invalid integer ".concat(n));return y(n)}fi.create=function(t,n){var i=new fi(t,t);if(n){var r=n.codecs;r&&(Array.isArray(r)?i.setCodecs(ui.MapFromNames(r,n.rtx,n.rtcpfbs)):i.setCodecs(r))}else i.setDirection(ai.INACTIVE);return i},fi.expand=function(t){if("MediaInfo"===t.constructor.name)return t;var n=new fi(t.id,t.type);if(t.direction&&n.setDirection(ai.byValue(t.direction)),n.setBitrate(t.bitrate),t.dataChannel){var i=hi.expand(t.dataChannel);i&&n.setDataChannel(i)}for(var r=0,e=g.entries(t.extensions);r<e.length;r++){var u=Gt(e[r],2),s=u[0],o=u[1];n.addExtension(vi(s),o)}for(var a=0,c=t.codecs;a<c.length;a++){var h=c[a],f=ui.expand(h);f&&n.addCodec(f)}for(var v=0,l=t.rids||[];v<l.length;v++){var d=l[v],w=si.expand(d);n.addRID(w)}return t.simulcast&&n.setSimulcast(oi.expand(t.simulcast)),t.control&&n.setControl(t.control),n},fi.clone=function(t){return"MediaInfo"===t.constructor.name?t.clone():fi.expand(t)};var li=fi,di=function(){function t(t,n){this.semantics=t,this.ssrcs=[];for(var i=0;i<n.length;++i)this.ssrcs.push(y(n[i]))}var n=t.prototype;return n.clone=function(){return new t(this.semantics,this.ssrcs)},n.plain=function(){for(var t={semantics:this.semantics,ssrcs:[]},n=0;n<this.ssrcs.length;++n)t.ssrcs.push(this.ssrcs[n]);return t},n.getSemantics=function(){return this.semantics},n.getSSRCs=function(){return this.ssrcs},t}();di.expand=function(t){return"SourceGroupInfo"===t.constructor.name?t:new di(t.semantics,t.ssrcs)},di.clone=function(t){return"SourceGroupInfo"===t.constructor.name?t.clone():di.expand(t)};var gi=di,wi=function(){function t(t){this.ssrc=t}var n=t.prototype;return n.clone=function(){var n=new t(this.ssrc);return n.setCName(this.cname),n.setStreamId(this.streamId),n.setTrackId(this.trackId),n},n.plain=function(){var t={ssrc:this.ssrc};return this.cname&&(t.cname=this.cname),this.streamId&&(t.streamId=this.streamId),this.trackId&&(t.trackId=this.trackId),t},n.getCName=function(){return this.cname},n.setCName=function(t){this.cname=t},n.getStreamId=function(){return this.streamId},n.setStreamId=function(t){this.streamId=t},n.getTrackId=function(){return this.trackId},n.setTrackId=function(t){this.trackId=t},n.getSSRC=function(){return this.ssrc},t}();wi.expand=function(t){if("SourceInfo"===t.constructor.name)return t;var n=new wi(t.ssrc);return n.setCName(t.cname),n.setStreamId(t.streamId),n.setTrackId(t.trackId),n},wi.clone=function(t){return"SourceInfo"===t.constructor.name?t.clone():wi.expand(t)};var yi=wi,mi=wn,Ai=function(){function t(t,n){void 0===n&&(n=!1),this.id=t,this.paused=n,this.codecs=new Map,this.params=new Map}var n=t.prototype;return n.clone=function(){for(var n=new t(this.id,this.paused),i=0,r=this.codecs.values();i<r.length;i++){var e=r[i];n.addCodec(e.clone())}return n.setParams(this.params),n},n.plain=function(){for(var t={id:this.id,paused:this.paused,codecs:{},params:{}},n=0,i=this.codecs.entries();n<i.length;n++){var r=Gt(i[n],2),e=r[0],u=r[1];t.codecs[e]=u.plain()}for(var s=0,o=this.params.entries();s<o.length;s++){var a=Gt(o[s],2),c=(e=a[0],a[1]);t.params[e]=c}return t},n.getId=function(){return this.id},n.getCodecs=function(){return this.codecs},n.addCodec=function(t){this.codecs.set(t.getType(),t)},n.getParams=function(){return this.params},n.setParams=function(t){this.params=new Map(t)},n.addParam=function(t,n){this.params.set(t,n)},n.isPaused=function(){return this.paused},t}();Ai.expand=function(t){if("TrackEncodingInfo"===t.constructor.name)return t;for(var n=new Ai(t.id,t.paused),i=0,r=g.values(t.codecs||{});i<r.length;i++){var e=r[i];n.addCodec(mi.expand(e))}for(var u=0,s=g.entries(t.params||{});u<s.length;u++){var o=Gt(s[u],2),a=o[0],c=o[1];n.addParam(a,c)}return n},Ai.clone=function(t){return"TrackEncodingInfo"===t.constructor.name?t.clone():Ai.expand(t)};var pi=Ai,_i=gi,ki=pi,bi=function(){function t(t,n){this.media=t,this.id=n,this.ssrcs=[],this.groups=[],this.encodings=[]}var n=t.prototype;return n.clone=function(){var n=new t(this.media,this.id);this.mediaId&&n.setMediaId(this.mediaId);for(var i=0;i<this.ssrcs.length;++i)n.addSSRC(this.ssrcs[i]);for(var r=0;r<this.groups.length;++r)n.addSourceGroup(this.groups[r].clone());for(var e=0;e<this.encodings.length;++e){for(var u=[],s=0;s<this.encodings[e].length;++s)u.push(this.encodings[e][s].clone());n.addAlternativeEncodings(u)}return n},n.plain=function(){var t={media:this.media,id:this.id,ssrcs:[]};this.mediaId&&(t.mediaId=this.mediaId);for(var n=0;n<this.ssrcs.length;++n)t.ssrcs.push(this.ssrcs[n]);for(var i=0;i<this.groups.length;++i)t.groups||(t.groups=[]),t.groups.push(this.groups[i].plain());for(var r=0;r<this.encodings.length;++r){for(var e=[],u=0;u<this.encodings[r].length;++u)e.push(this.encodings[r][u].plain());e.length&&(t.encodings||(t.encodings=[]),t.encodings.push(e))}return t},n.getMedia=function(){return this.media},n.setMediaId=function(t){this.mediaId=t},n.getMediaId=function(){return this.mediaId},n.getId=function(){return this.id},n.addSSRC=function(t){this.ssrcs.push(t)},n.getSSRCs=function(){return this.ssrcs},n.addSourceGroup=function(t){this.groups.push(t)},n.getSourceGroup=function(t){for(var n=0,i=this.groups;n<i.length;n++){var r=i[n];if(r.getSemantics().toLowerCase()===t.toLowerCase())return r}return null},n.getSourceGroups=function(){return this.groups},n.hasSourceGroup=function(t){for(var n=0,i=this.groups;n<i.length;n++)if(i[n].getSemantics().toLowerCase()===t.toLowerCase())return!0;return!1},n.getEncodings=function(){return this.encodings},n.addEncoding=function(t){this.encodings.push([t])},n.addAlternativeEncodings=function(t){this.encodings.push(t)},n.setEncodings=function(t){this.encodings=t},t}();bi.expand=function(t){if("TrackInfo"===t.constructor.name)return t;var n=new bi(t.media,t.id);t.mediaId&&n.setMediaId(t.mediaId);for(var i=0,r=t.ssrcs||[];i<r.length;i++){var e=r[i];n.addSSRC(e)}for(var u=0,s=t.groups||[];u<s.length;u++){var o=s[u];n.addSourceGroup(_i.expand(o))}for(var a=0,c=t.encodings||[];a<c.length;a++){for(var h=c[a],f=[],v=0;v<h.length;v++){var l=h[v];f.push(ki.expand(l))}n.addAlternativeEncodings(f)}return n},bi.clone=function(t){return"TrackInfo"===t.constructor.name?t.clone():bi.expand(t)};var Mi=bi,Ti=Mi,Ni=function(){function t(t){this.id=t,this.tracks=new Map}var n=t.prototype;return n.clone=function(){for(var n=new t(this.id),i=0,r=this.tracks.values();i<r.length;i++){var e=r[i];n.addTrack(e.clone())}return n},n.plain=function(){for(var t={id:this.id,tracks:[]},n=0,i=this.tracks.values();n<i.length;n++){var r=i[n];t.tracks.push(r.plain())}return t},n.getId=function(){return this.id},n.addTrack=function(t){this.tracks.set(t.getId(),t)},n.removeTrack=function(t){return this.tracks.delete(t.getId())},n.removeTrackById=function(t){return this.tracks.delete(t)},n.getFirstTrack=function(t){for(var n=0,i=this.tracks.values();n<i.length;n++){var r=i[n];if(r.getMedia().toLowerCase()===t.toLowerCase())return r}return null},n.getTracks=function(){return this.tracks},n.removeAllTracks=function(){this.tracks.clear()},n.getTrack=function(t){return this.tracks.get(t)},t}();Ni.expand=function(t){if("StreamInfo"===t.constructor.name)return t;for(var n=new Ni(t.id),i=0,r=t.tracks||[];i<r.length;i++){var e=r[i],u=Ti.expand(e);u&&n.addTrack(u)}return n},Ni.clone=function(t){return"StreamInfo"===t.constructor.name?t.clone():Ni.expand(t)};var Di,Ii,Ei=Ni,Si=Vt,Li=(Di="en-US",Ii=new Intl.Collator(Di,{sensitivity:"base"}),function(t,n){return 0==Ii.compare(t,n)}),ji=fn,Ci=wn,xi=ln,Oi=kn,zi=Mn,Ri=Fn,Bi=li,Pi=An,Ui=ii,Qi=Vn,Yi=gi,Fi=yi,Gi=Ei,Vi=Mi,Wi=pi,Xi=ti,Zi=Kn,Hi=Zn,Ki=ei,qi=function(){function t(t){this.version=t||1,this.streams=new Map,this.medias=new Array,this.candidates=new Array,this.ice=null,this.dtls=null,this.crypto=null,this.extmapAllowMixed=!0}var n=t.prototype;return n.clone=function(){for(var n=new t(this.version),i=0,r=this.medias;i<r.length;i++){var e=r[i];n.addMedia(e.clone())}for(var u=0,s=this.streams.values();u<s.length;u++){var o=s[u];n.addStream(o.clone())}for(var a=0,c=this.candidates;a<c.length;a++){var h=c[a];n.addCandidate(h.clone())}return n.setICE(this.ice.clone()),this.dtls&&n.setDTLS(this.dtls.clone()),this.crypto&&n.setCrypto(this.crypto.clone()),n.setExtmapAllowMixed(this.extmapAllowMixed),n},n.plain=function(){for(var t={version:this.version,streams:[],medias:[],candidates:[]},n=0,i=this.medias;n<i.length;n++){var r=i[n];t.medias.push(r.plain())}for(var e=0,u=this.streams.values();e<u.length;e++){var s=u[e];t.streams.push(s.plain())}for(var o=0,a=this.candidates;o<a.length;o++){var c=a[o];t.candidates.push(c.plain())}return this.ice&&(t.ice=this.ice.plain()),this.dtls&&(t.dtls=this.dtls.plain()),this.crypto&&(t.crypto=this.crypto.plain()),this.extmapAllowMixed||(t.extmapAllowMixedNotSupported=!this.extmapAllowMixed),t},n.unify=function(){for(var n=new t(this.version),i=0,r=this.medias;i<r.length;i++){var e=r[i];n.addMedia(e.clone())}for(var u={audio:n.getMediasByType("audio"),video:n.getMediasByType("video")},s=0,o=this.streams.values();s<o.length;s++){for(var a=o[s].clone(),c=0,h=a.getTracks().values();c<h.length;c++){var f=h[c],v=u[f.getMedia()].pop();v||((v=this.getMedia(f.getMedia()).clone()).setId(f.getId()),n.addMedia(v)),f.setMediaId(v.getId())}n.addStream(a)}for(var l=0,d=this.candidates;l<d.length;l++){var g=d[l];n.addCandidate(g.clone())}return this.ice&&n.setICE(this.ice.clone()),this.dtls&&n.setDTLS(this.dtls.clone()),this.crypto&&n.setCrypto(this.crypto.clone()),n},n.setVersion=function(t){this.version=t},n.addMedia=function(t){this.medias.push(t)},n.getMedia=function(t){for(var n in this.medias){var i=this.medias[n];if(Li(i.getType(),t))return i}return null},n.getMediasByType=function(t){var n=[];for(var i in this.medias){var r=this.medias[i];Li(r.getType(),t)&&n.push(r)}return n},n.getMediaById=function(t){for(var n=0,i=this.medias;n<i.length;n++){var r=i[n];if(Li(r.getId(),t))return r}return null},n.replaceMedia=function(t){for(var n in this.medias)if(this.medias[n].getId()==t.getId())return this.medias[n]=t,!0;return!1},n.getMedias=function(){return this.medias},n.getVersion=function(){return this.version},n.getDTLS=function(){return this.dtls},n.setDTLS=function(t){this.dtls=t},n.hasCrypto=function(){return!!this.crypto},n.getCrypto=function(){return this.crypto},n.setCrypto=function(t){this.crypto=t},n.hasICE=function(){return!!this.ice},n.getICE=function(){return this.ice},n.setICE=function(t){this.ice=t},n.addCandidate=function(t){for(var n=0,i=this.candidates;n<i.length;n++)if(i[n].equals(t))return;this.candidates.push(t)},n.addCandidates=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.addCandidate(i)}},n.getCandidates=function(){return this.candidates},n.getStream=function(t){return this.streams.get(t)},n.getStreams=function(){return this.streams},n.getFirstStream=function(){for(var t=0,n=this.streams.values();t<n.length;t++)return n[t];return null},n.addStream=function(t){this.streams.set(t.getId(),t)},n.removeStream=function(t){return this.streams.delete(t.getId())},n.removeAllStreams=function(){this.streams.clear()},n.getTrackByMediaId=function(t){for(var n=0,i=this.streams.values();n<i.length;n++)for(var r=0,e=i[n].getTracks();r<e.length;r++){var u=Gt(e[r],2),s=(u[0],u[1]);if(s.getMediaId()==t)return s}return null},n.getStreamByMediaId=function(t){for(var n=0,i=this.streams.values();n<i.length;n++)for(var r=i[n],e=0,u=r.getTracks();e<u.length;e++){var s=Gt(u[e],2);if(s[0],s[1].getMediaId()==t)return r}return null},n.getExtmapAllowMixed=function(){return this.extmapAllowMixed},n.setExtmapAllowMixed=function(t){this.extmapAllowMixed=t},n.answer=function(n){var i=new t;n.ice&&(n.ice instanceof Ri?i.setICE(n.ice.clone()):i.setICE(Ri.expand(n.ice))),n.dtls&&(n.dtls instanceof Oi?i.setDTLS(n.dtls):i.setDTLS(Oi.expand(n.dtls))),n.crypto&&(n.crypto instanceof zi?i.setCrypto(n.crypto):i.setCrypto(zi.expand(n.crypto)));for(var r=0;n.candidates&&r<n.candidates.length;++r)n.candidates[r]instanceof ji?i.addCandidate(n.candidates[r].clone()):i.addCandidate(ji.expand(n.candidates[r]));for(var e=0,u=this.medias;e<u.length;e++){var s=u[e],o=n&&n.capabilities&&n.capabilities[s.getType()];i.addMedia(s.answer(o))}return i.setExtmapAllowMixed(this.extmapAllowMixed),i},n.toString=function(){var t={version:0,media:[]};t.version=0,t.origin={username:"-",sessionId:(new Date).getTime(),sessionVersion:this.version,netType:"IN",ipVer:4,address:"127.0.0.1"},t.name="semantic-sdp",t.connection={version:4,ip:"0.0.0.0"},t.timing={start:0,stop:0},this.hasICE()&&this.getICE().isLite()&&(t.icelite="ice-lite"),t.msidSemantic={semantic:"WMS",token:"*"},t.groups=[],this.extmapAllowMixed&&(t.extmapAllowMixed="extmap-allow-mixed");for(var n=[],i=0,r=this.medias;i<r.length;i++){var e=r[i],u={type:e.getType(),port:9,protocol:"",fmtp:[],rtp:[],rtcpFb:[],ext:[],bandwidth:[],candidates:[],ssrcGroups:[],ssrcs:[],rids:[]};u.direction=Ui.toString(e.getDirection()),this.extmapAllowMixed&&(u.extmapAllowMixed="extmap-allow-mixed"),u.mid=e.getId(),n.push(e.getId()),e.hasControl()&&(u.control=e.getControl()),e.getBitrate()>0&&(u.bandwidth.push({type:"AS",limit:e.getBitrate()}),u.bandwidth.push({type:"TIAS",limit:1e3*e.getBitrate()}));for(var s=this.getCandidates(),o=0;o<s.length;o++){var a=s[o];u.candidates.push({foundation:a.getFoundation(),component:a.getComponentId(),transport:a.getTransport(),priority:a.getPriority(),ip:a.getAddress(),port:a.getPort(),type:a.getType(),raddr:a.getRelAddr(),rport:a.getRelPort()})}if(this.getICE()&&(u.iceUfrag=this.getICE().getUfrag(),u.icePwd=this.getICE().getPwd()),Li("audio",e.getType())||Li("video",e.getType())){u.rtcpMux="rtcp-mux",u.rtcpRsize="rtcp-rsize",this.getDTLS()?(u.protocol="UDP/TLS/RTP/SAVPF",u.fingerprint={type:this.getDTLS().getHash(),hash:this.getDTLS().getFingerprint()},u.setup=Pi.toString(this.getDTLS().getSetup())):this.getCrypto()?(u.protocol="RTP/SAVPF",u.crypto=[{id:this.getCrypto().getTag(),suite:this.getCrypto().getSuite(),config:this.getCrypto().getKeyParams()}]):u.protocol="RTP/AVP";for(var c=0,h=e.getCodecs().values();c<h.length;c++){var f=h[c];Li("video",e.getType())?u.rtp.push({payload:f.getType(),codec:f.getCodec().toUpperCase(),rate:9e4}):Li("opus",f.getCodec())||Li("multiopus",f.getCodec())?u.rtp.push({payload:f.getType(),codec:f.getCodec(),rate:48e3,encoding:f.getChannels()}):u.rtp.push({payload:f.getType(),codec:f.getCodec(),rate:8e3});for(var v=0,l=f.getRTCPFeedbacks();v<l.length;v++){var d=l[v];u.rtcpFb.push({payload:f.getType(),type:d.getId(),subtype:d.getParams().join(" ")})}f.hasRTX()&&(u.rtp.push({payload:f.getRTX(),codec:"rtx",rate:9e4}),u.fmtp.push({payload:f.getRTX(),config:"apt="+f.getType()}));var w=f.getParams();if(g.keys(w).length){var y={payload:f.getType(),config:""};for(var m in w)y.config.length&&(y.config+=";"),g.hasOwnProperty.call(w,m)?y.config+=m+"="+w[m]:y.config+=m;u.fmtp.push(y)}}for(var A=[],p=0,_=u.rtp;p<_.length;p++){var k=_[p];A.push(k.payload)}u.payloads=A.join(" ");for(var b=0,M=e.getExtensions().entries();b<M.length;b++){var T=Gt(M[b],2),N=T[0],D=T[1];u.ext.push({value:N,uri:D})}for(var I=0,E=e.getRIDs().values();I<E.length;I++){var S=E[I],L={id:S.getId(),direction:Qi.toString(S.getDirection()),params:""};S.getFormats().length&&(L.params="pt="+S.getFormats().join(","));for(var j=0,C=S.getParams().entries();j<C.length;j++){var x=Gt(C[j],2),O=x[0],z=x[1];L.params+=(L.params.length?";":"")+O+"="+z}u.rids.push(L)}var R=e.getSimulcast();if(R){var B=1;u.simulcast={};var P=R.getSimulcastStreams(Qi.SEND),U=R.getSimulcastStreams(Qi.RECV);if(P&&P.length){for(var Q="",Y=0;Y<P.length;Y++){for(var F=P[Y],G="",V=0;V<F.length;V++){var W=F[V];G+=(G.length?",":"")+(W.isPaused()?"~":"")+W.getId()}Q+=(Q.length?";":"")+G}u.simulcast["dir"+B]="send",u.simulcast["list"+B]=Q,B++}if(U&&U.length){for(var X="",Z=0;Z<U.length;Z++){for(var H=U[Z],K="",q=0;q<H.length;q++){var J=H[q];K+=(K.length?",":"")+(J.isPaused()?"~":"")+J.getId()}X+=(X.length?";":"")+K}u.simulcast["dir"+B]="recv",u.simulcast["list"+B]=X,B++}}}else if(e.hasDataChannel()){u.protocol="UDP/DTLS/SCTP",u.payloads="webrtc-datachannel";var $=e.getDataChannel();u.sctpPort=$.getPort(),u.maxMessageSize=$.getMaxMessageSize()}t.media.push(u)}for(var tt=0,nt=this.streams.values();tt<nt.length;tt++)for(var it=nt[tt],rt=0,et=it.getTracks().values();rt<et.length;rt++){var ut=et[rt];for(var st in t.media){var ot=t.media[st];if(ut.getMediaId()){if(ut.getMediaId()==ot.mid){var at=ut.getSourceGroups();for(var ct in at){var ht=at[ct];ot.ssrcGroups.push({semantics:ht.getSemantics(),ssrcs:ht.getSSRCs().join(" ")})}var ft=ut.getSSRCs();for(var vt in ft)ot.ssrcs.push({id:ft[vt],attribute:"cname",value:it.getId()}),ot.ssrcs.push({id:ft[vt],attribute:"msid",value:it.getId()+" "+ut.getId()});ot.msid=it.getId()+" "+ut.getId();break}}else if(Li(ot.type,ut.getMedia())){var lt=ut.getSourceGroups();for(var dt in lt){var gt=lt[dt];ot.ssrcGroups.push({semantics:gt.getSemantics(),ssrcs:gt.getSSRCs().join(" ")})}var wt=ut.getSSRCs();for(var yt in wt)ot.ssrcs.push({id:wt[yt],attribute:"cname",value:it.getId()}),ot.ssrcs.push({id:wt[yt],attribute:"msid",value:it.getId()+" "+ut.getId()});break}}}var mt={type:"BUNDLE",mids:n.join(" ")};return t.groups.push(mt),Si.write(t)},n.toIceFragmentString=function(){var t={version:0,media:[],candidates:[]};this.hasICE()&&this.getICE().isLite()&&(t.icelite="ice-lite"),this.getICE()&&(t.iceUfrag=this.getICE().getUfrag(),t.icePwd=this.getICE().getPwd());for(var n=0,i=this.getCandidates();n<i.length;n++){var r=i[n];t.candidates.push({foundation:r.getFoundation(),component:r.getComponentId(),transport:r.getTransport(),priority:r.getPriority(),ip:r.getAddress(),port:r.getPort(),type:r.getType(),raddr:r.getRelAddr(),rport:r.getRelPort()})}return Si.write(t).slice(10)},t}();qi.create=function(t){var n=new qi;t.ice&&(t.ice instanceof Ri?n.setICE(t.ice.clone()):n.setICE(Ri.expand(t.ice))),t.dtls&&(t.dtls instanceof Oi?n.setDTLS(t.dtls):n.setDTLS(Oi.expand(t.dtls))),t.crypto&&(t.crypto instanceof zi?n.setCrypto(t.crypto):n.setCrypto(zi.expand(t.crypto)));for(var i=0,r=t.candidates||[];i<r.length;i++){var e=r[i];e instanceof ji?n.addCandidate(e.clone()):n.addCandidate(ji.expand(e))}for(var u=96,s=1,o=0,a=g.entries(t.capabilities||{});o<a.length;o++){for(var c=Gt(a[o],2),h=c[0],f=c[1],v=Bi.create(h,f),l=0,d=v.getCodecs();l<d.length;l++){var w=Gt(d[l],2),y=(w[0],w[1]);y.getType()>=96&&y.setType(u++),y.getRTX()&&y.setRTX(u++)}if(f.extensions)for(var m=0,A=f.extensions;m<A.length;m++){var p=A[m];15===s&&s++,v.addExtension(s++,p)}n.addMedia(v)}return n},qi.expand=function(t){if("SDPInfo"===t.constructor.name)return t;for(var n=new qi(t.version),i=0,r=t.medias||[];i<r.length;i++){var e=r[i],u=Bi.expand(e);u&&n.addMedia(u)}for(var s=0,o=t.streams||[];s<o.length;s++){var a=o[s],c=Gi.expand(a);c&&n.addStream(c)}for(var h=0,f=t.candidates||[];h<f.length;h++){var v=f[h],l=ji.expand(v);l&&n.addCandidate(l)}return t.ice&&n.setICE(Ri.expand(t.ice)),t.dtls&&n.setDTLS(Oi.expand(t.dtls)),t.crypto&&n.setCrypto(zi.expand(t.crypto)),t.extmapAllowMixedNotSupported&&(this.extmapAllowMixed=!t.extmapAllowMixedNotSupported),n},qi.clone=function(t){return"SDPInfo"===t.constructor.name?t.clone():qi.expand(t)},qi.process=function(t){return qi.parse(t)},qi.parse=function(t){var n=Si.parse(t),i=new qi;if(i.setVersion(n.version),n.iceUfrag&&n.icePwd){var r=String(n.iceUfrag),e=String(n.icePwd),u=new Ri(r,e);u.setLite("ice-lite"==n.icelite),u.setEndOfCandidates("end-of-candidates"==n.endOfCandidates),i.setICE(u)}for(var s in n.media){var o=n.media[s],a=o.type,c=o.mid?o.mid.toString():s,h=new Bi(c,a);if(o.iceUfrag&&o.icePwd){var f=String(o.iceUfrag),v=String(o.icePwd),l=new Ri(f,v);l.setLite("ice-lite"==n.icelite),l.setEndOfCandidates("end-of-candidates"==o.endOfCandidates),i.setICE(l)}for(var d=0;o.candidates&&d<o.candidates.length;++d){var g=o.candidates[d],w=new ji(g.foundation,g.component,g.transport,g.priority,g.ip,g.port,g.type,g.raddr,g.rport);i.addCandidate(w)}var m=o.fingerprint||n.fingerprint;if(m){var A=m.type,p=m.hash,_=Pi.ACTPASS;o.setup&&(_=Pi.byValue(o.setup)),i.setDTLS(new Oi(_,A,p))}if(o.crypto){var k=o.crypto[0];i.setCrypto(new zi(k.id,k.suite,k.config,k.sessionConfig))}var b=Ui.SENDRECV;o.direction&&(b=Ui.byValue(o.direction),h.setDirection(b)),o.control&&h.setControl(o.control),i.setExtmapAllowMixed("extmap-allow-mixed"==o.extmapAllowMixed||"extmap-allow-mixed"==n.extmapAllowMixed);var M=new Map;for(var T in o.rtp){var N=o.rtp[T],D=N.payload,I=N.codec;if("RED"!==I.toUpperCase()&&"ULPFEC"!==I.toUpperCase()){var E={};for(var S in o.fmtp){var L=o.fmtp[S];if(L.payload===D){var j=L.config.split(";");for(var C in j){var x=j[C].split("="),O=x[0].trim(),z=x.splice(1).join("=").trim();E[O]=z}}}if("RTX"===I.toUpperCase())M.set(y(E.apt),D);else{var R=new Ci(I,D,E);N.encoding>1&&R.setChannels(N.encoding),h.addCodec(R)}}}for(var B=0,P=M.entries();B<P.length;B++){var U=P[B],Q=h.getCodecForType(U[0]);Q&&Q.setRTX(U[1])}for(var Y=0;o.rtcpFb&&Y<o.rtcpFb.length;++Y){var F=h.getCodecForType(o.rtcpFb[Y].payload);if(F){var G=o.rtcpFb[Y].type,V=o.rtcpFb[Y].subtype?o.rtcpFb[Y].subtype.split(" "):null;F.addRTCPFeedback(new xi(G,V))}}var W=o.ext;for(var X in W){var Z=W[X];h.addExtension(Z.value,Z.uri)}var H=o.rids;for(var K in H){var q=H[K],J=new Hi(q.id,Qi.byValue(q.direction)),$=[],tt=new Map;if(q.params){var nt=Si.parseParams(q.params);for(var it in nt)"pt"===it?$=nt[it].split(","):tt.set(it,nt[it]);J.setFormats($),J.setParams(tt)}h.addRID(J)}var rt=[];if(o.simulcast){var et=new Xi;if(o.simulcast.dir1)for(var ut=Qi.byValue(o.simulcast.dir1),st=Si.parseSimulcastStreamList(o.simulcast.list1),ot=0;ot<st.length;++ot){for(var at=[],ct=0;ct<st[ot].length;++ct)at.push(new Zi(st[ot][ct].scid,st[ot][ct].paused));et.addSimulcastAlternativeStreams(ut,at)}if(o.simulcast.dir2)for(var ht=Qi.byValue(o.simulcast.dir2),ft=Si.parseSimulcastStreamList(o.simulcast.list2),vt=0;vt<ft.length;++vt){for(var lt=[],dt=0;dt<ft[vt].length;++dt)lt.push(new Zi(ft[vt][dt].scid,ft[vt][dt].paused));et.addSimulcastAlternativeStreams(ht,lt)}for(var gt=0,wt=et.getSimulcastStreams(Qi.SEND);gt<wt.length;gt++){for(var yt=wt[gt],mt=[],At=0;At<yt.length;At++){var pt=new Wi(yt[At].getId(),yt[At].isPaused()),_t=h.getRID(pt.getId());if(_t){for(var kt=_t.getFormats(),bt=0;kt&&bt<kt.length;++bt){var Mt=h.getCodecForType(kt[bt]);Mt&&pt.addCodec(Mt)}pt.setParams(_t.getParams()),mt.push(pt)}}mt.length&&rt.push(mt)}h.setSimulcast(et)}var Tt=new Map;if(o.ssrcs)for(var Nt in o.ssrcs){var Dt=o.ssrcs[Nt],It=Dt.id,Et=Dt.attribute,St=Dt.value,Lt=Tt.get(It);if(Lt||(Lt=new Fi(It),Tt.set(Lt.getSSRC(),Lt)),Li("cname",Et))Lt.setCName(St);else if(Li("msid",Et)){var jt=St.split(" "),Ct=jt[0],xt=jt[1];Lt.setStreamId(Ct),Lt.setTrackId(xt);var Ot=i.getStream(Ct);Ot||(Ot=new Gi(Ct),i.addStream(Ot));var zt=Ot.getTrack(xt);zt||((zt=new Vi(a,xt)).setMediaId(c),zt.setEncodings(rt),Ot.addTrack(zt)),zt.addSSRC(It)}}if(o.msid){var Rt=o.msid.split(" "),Bt=Rt[0],Pt=Rt[1],Ut=i.getStream(Bt);Ut||(Ut=new Gi(Bt),i.addStream(Ut));var Qt=Ut.getTrack(Pt);Qt||((Qt=new Vi(a,Pt)).setMediaId(c),Qt.setEncodings(rt),Ut.addTrack(Qt));for(var Yt=0,Ft=Tt.entries();Yt<Ft.length;Yt++){var Vt=Gt(Ft[Yt],2),Wt=Vt[0],Xt=Vt[1];Xt.getStreamId()||(Xt.setStreamId(Bt),Xt.setTrackId(Pt),Qt.addSSRC(Wt))}}for(var Zt=0,Ht=Tt.entries();Zt<Ht.length;Zt++){var Kt=Gt(Ht[Zt],2),qt=Kt[0],Jt=Kt[1];if(!Jt.getStreamId()){var $t=Jt.getCName(),tn=c;Jt.setStreamId($t),Jt.setTrackId(tn);var nn=i.getStream($t);nn||(nn=new Gi($t),i.addStream(nn));var rn=nn.getTrack(tn);rn||((rn=new Vi(a,tn)).setMediaId(c),rn.setEncodings(rt),nn.addTrack(rn)),rn.addSSRC(qt)}}if(o.ssrcGroups)for(var en in o.ssrcGroups){var un=o.ssrcGroups[en],sn=un.ssrcs.split(" "),on=new Yi(un.semantics,sn),an=Tt.get(y(sn[0]));an&&i.getStream(an.getStreamId()).getTrack(an.getTrackId()).addSourceGroup(on)}if("application"==o.type&&"webrtc-datachannel"==o.payloads){var cn=new Ki(o.sctpPort,o.maxMessageSize);h.setDataChannel(cn)}i.addMedia(h)}return i};var Ji=qi;g.defineProperty(Ft,"__esModule",{value:!0});var $i=Ft.SDPInfo=Ji;Ft.CandidateInfo=fn,Ft.CodecInfo=wn,Ft.DTLSInfo=kn,Ft.CryptoInfo=Mn,Ft.ICEInfo=Fn;var tr=Ft.MediaInfo=li;Ft.Setup=An,Ft.SourceGroupInfo=gi,Ft.SourceInfo=yi,Ft.StreamInfo=Ei,Ft.TrackInfo=Mi,Ft.RTCPFeedbackInfo=ln,Ft.TrackEncodingInfo=pi,Ft.RIDInfo=Zn,Ft.SimulcastInfo=ti,Ft.SimulcastStreamInfo=Kn,Ft.DataChannelInfo=ei;var nr=Ft.Direction=ii,ir={exports:{}};!function(t,n){!function(i,r){var e="function",u="undefined",s="object",o="string",a="major",c="model",h="name",f="type",v="vendor",l="version",d="architecture",g="console",w="mobile",y="tablet",m="smarttv",A="wearable",p="embedded",_="Amazon",k="Apple",b="ASUS",M="BlackBerry",T="Browser",N="Chrome",D="Firefox",I="Google",E="Huawei",S="LG",L="Microsoft",j="Motorola",C="Opera",O="Samsung",z="Sharp",R="Sony",B="Xiaomi",P="Zebra",U="Facebook",Q="Chromium OS",Y="Mac OS",F=function(t){for(var n={},i=0;i<t.length;i++)n[t[i].toUpperCase()]=t[i];return n},G=function(t,n){return(void 0===t?"undefined":x(t))===o&&-1!==V(n).indexOf(V(t))},V=function(t){return t.toLowerCase()},W=function(t,n){if((void 0===t?"undefined":x(t))===o)return t=t.replace(/^\s\s*/,""),(void 0===n?"undefined":x(n))===u?t:t.substring(0,500)},X=function(t,n){for(var i,u,o,a,c,h,f=0;f<n.length&&!c;){var v=n[f],l=n[f+1];for(i=u=0;i<v.length&&!c&&v[i];)if(c=v[i++].exec(t))for(o=0;o<l.length;o++)h=c[++u],(void 0===(a=l[o])?"undefined":x(a))===s&&a.length>0?2===a.length?x(a[1])==e?this[a[0]]=a[1].call(this,h):this[a[0]]=a[1]:3===a.length?x(a[1])!==e||a[1].exec&&a[1].test?this[a[0]]=h?h.replace(a[1],a[2]):r:this[a[0]]=h?a[1].call(this,h,a[2]):r:4===a.length&&(this[a[0]]=h?a[3].call(this,h.replace(a[1],a[2])):r):this[a]=h||r;f+=2}},Z=function(t,n){for(var i in n)if(x(n[i])===s&&n[i].length>0){for(var e=0;e<n[i].length;e++)if(G(n[i][e],t))return"?"===i?r:i}else if(G(n[i],t))return"?"===i?r:i;return t},H={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},K={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[l,[h,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[l,[h,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[h,l],[/opios[\/ ]+([\w\.]+)/i],[l,[h,C+" Mini"]],[/\bopr\/([\w\.]+)/i],[l,[h,C]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[l,[h,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[h,l],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[l,[h,"UC"+T]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[l,[h,"WeChat"]],[/konqueror\/([\w\.]+)/i],[l,[h,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[l,[h,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[l,[h,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[l,[h,"Smart Lenovo "+T]],[/(avast|avg)\/([\w\.]+)/i],[[h,/(.+)/,"$1 Secure "+T],l],[/\bfocus\/([\w\.]+)/i],[l,[h,D+" Focus"]],[/\bopt\/([\w\.]+)/i],[l,[h,C+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[l,[h,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[l,[h,"Dolphin"]],[/coast\/([\w\.]+)/i],[l,[h,C+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[l,[h,"MIUI "+T]],[/fxios\/([-\w\.]+)/i],[l,[h,D]],[/\bqihu|(qi?ho?o?|360)browser/i],[[h,"360 "+T]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[h,/(.+)/,"$1 "+T],l],[/samsungbrowser\/([\w\.]+)/i],[l,[h,O+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[h,/_/g," "],l],[/metasr[\/ ]?([\d\.]+)/i],[l,[h,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[h,"Sogou Mobile"],l],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[h,l],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[h],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[h,U],l],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[h,l],[/\bgsa\/([\w\.]+) .*safari\//i],[l,[h,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[l,[h,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[l,[h,N+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[h,N+" WebView"],l],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[l,[h,"Android "+T]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[h,l],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[l,[h,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[l,h],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[h,[l,Z,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[h,l],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[h,"Netscape"],l],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[l,[h,D+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[h,l],[/(cobalt)\/([\w\.]+)/i],[h,[l,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[d,"amd64"]],[/(ia32(?=;))/i],[[d,V]],[/((?:i[346]|x)86)[;\)]/i],[[d,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[d,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[d,"armhf"]],[/windows (ce|mobile); ppc;/i],[[d,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[d,/ower/,"",V]],[/(sun4\w)[;\)]/i],[[d,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[d,V]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[c,[v,O],[f,y]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[c,[v,O],[f,w]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[c,[v,k],[f,w]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[c,[v,k],[f,y]],[/(macintosh);/i],[c,[v,k]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[c,[v,z],[f,w]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[c,[v,E],[f,y]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[c,[v,E],[f,w]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[c,/_/g," "],[v,B],[f,w]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[c,/_/g," "],[v,B],[f,y]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[c,[v,"OPPO"],[f,w]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[c,[v,"Vivo"],[f,w]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[c,[v,"Realme"],[f,w]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[c,[v,j],[f,w]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[c,[v,j],[f,y]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[c,[v,S],[f,y]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[c,[v,S],[f,w]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[c,[v,"Lenovo"],[f,y]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[c,/_/g," "],[v,"Nokia"],[f,w]],[/(pixel c)\b/i],[c,[v,I],[f,y]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[c,[v,I],[f,w]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[c,[v,R],[f,w]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[c,"Xperia Tablet"],[v,R],[f,y]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[c,[v,"OnePlus"],[f,w]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[c,[v,_],[f,y]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[c,/(.+)/g,"Fire Phone $1"],[v,_],[f,w]],[/(playbook);[-\w\),; ]+(rim)/i],[c,v,[f,y]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[c,[v,M],[f,w]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[c,[v,b],[f,y]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[c,[v,b],[f,w]],[/(nexus 9)/i],[c,[v,"HTC"],[f,y]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[v,[c,/_/g," "],[f,w]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[c,[v,"Acer"],[f,y]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[c,[v,"Meizu"],[f,w]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[c,[v,"Ulefone"],[f,w]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[v,c,[f,w]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[v,c,[f,y]],[/(surface duo)/i],[c,[v,L],[f,y]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[c,[v,"Fairphone"],[f,w]],[/(u304aa)/i],[c,[v,"AT&T"],[f,w]],[/\bsie-(\w*)/i],[c,[v,"Siemens"],[f,w]],[/\b(rct\w+) b/i],[c,[v,"RCA"],[f,y]],[/\b(venue[\d ]{2,7}) b/i],[c,[v,"Dell"],[f,y]],[/\b(q(?:mv|ta)\w+) b/i],[c,[v,"Verizon"],[f,y]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[c,[v,"Barnes & Noble"],[f,y]],[/\b(tm\d{3}\w+) b/i],[c,[v,"NuVision"],[f,y]],[/\b(k88) b/i],[c,[v,"ZTE"],[f,y]],[/\b(nx\d{3}j) b/i],[c,[v,"ZTE"],[f,w]],[/\b(gen\d{3}) b.+49h/i],[c,[v,"Swiss"],[f,w]],[/\b(zur\d{3}) b/i],[c,[v,"Swiss"],[f,y]],[/\b((zeki)?tb.*\b) b/i],[c,[v,"Zeki"],[f,y]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[v,"Dragon Touch"],c,[f,y]],[/\b(ns-?\w{0,9}) b/i],[c,[v,"Insignia"],[f,y]],[/\b((nxa|next)-?\w{0,9}) b/i],[c,[v,"NextBook"],[f,y]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[v,"Voice"],c,[f,w]],[/\b(lvtel\-)?(v1[12]) b/i],[[v,"LvTel"],c,[f,w]],[/\b(ph-1) /i],[c,[v,"Essential"],[f,w]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[c,[v,"Envizen"],[f,y]],[/\b(trio[-\w\. ]+) b/i],[c,[v,"MachSpeed"],[f,y]],[/\btu_(1491) b/i],[c,[v,"Rotor"],[f,y]],[/(shield[\w ]+) b/i],[c,[v,"Nvidia"],[f,y]],[/(sprint) (\w+)/i],[v,c,[f,w]],[/(kin\.[onetw]{3})/i],[[c,/\./g," "],[v,L],[f,w]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[c,[v,P],[f,y]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[c,[v,P],[f,w]],[/smart-tv.+(samsung)/i],[v,[f,m]],[/hbbtv.+maple;(\d+)/i],[[c,/^/,"SmartTV"],[v,O],[f,m]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[v,S],[f,m]],[/(apple) ?tv/i],[v,[c,k+" TV"],[f,m]],[/crkey/i],[[c,N+"cast"],[v,I],[f,m]],[/droid.+aft(\w+)( bui|\))/i],[c,[v,_],[f,m]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[c,[v,z],[f,m]],[/(bravia[\w ]+)( bui|\))/i],[c,[v,R],[f,m]],[/(mitv-\w{5}) bui/i],[c,[v,B],[f,m]],[/Hbbtv.*(technisat) (.*);/i],[v,c,[f,m]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[v,W],[c,W],[f,m]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[f,m]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[v,c,[f,g]],[/droid.+; (shield) bui/i],[c,[v,"Nvidia"],[f,g]],[/(playstation [345portablevi]+)/i],[c,[v,R],[f,g]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[c,[v,L],[f,g]],[/((pebble))app/i],[v,c,[f,A]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[c,[v,k],[f,A]],[/droid.+; (glass) \d/i],[c,[v,I],[f,A]],[/droid.+; (wt63?0{2,3})\)/i],[c,[v,P],[f,A]],[/(quest( 2| pro)?)/i],[c,[v,U],[f,A]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[v,[f,p]],[/(aeobc)\b/i],[c,[v,_],[f,p]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[c,[f,w]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[c,[f,y]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[f,y]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[f,w]],[/(android[-\w\. ]{0,9});.+buil/i],[c,[v,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[l,[h,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[l,[h,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[h,l],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[l,h]],os:[[/microsoft (windows) (vista|xp)/i],[h,l],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[h,[l,Z,H]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[l,Z,H],[h,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[l,/_/g,"."],[h,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[h,Y],[l,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[l,h],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[h,l],[/\(bb(10);/i],[l,[h,M]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[l,[h,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[l,[h,D+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[l,[h,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[l,[h,"watchOS"]],[/crkey\/([\d\.]+)/i],[l,[h,N+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[h,Q],l],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[h,l],[/(sunos) ?([\w\.\d]*)/i],[[h,"Solaris"],l],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[h,l]]},q=function(t,n){if((void 0===t?"undefined":x(t))===s&&(n=t,t=r),!(this instanceof q))return new q(t,n).getResult();var g=(void 0===i?"undefined":x(i))!==u&&i.navigator?i.navigator:r,m=t||(g&&g.userAgent?g.userAgent:""),A=g&&g.userAgentData?g.userAgentData:r,p=n?function(t,n){var i={};for(var r in t)n[r]&&n[r].length%2==0?i[r]=n[r].concat(t[r]):i[r]=t[r];return i}(K,n):K,_=g&&g.userAgent==m;return this.getBrowser=function(){var t={};return t[h]=r,t[l]=r,X.call(t,m,p.browser),t[a]=function(t){return(void 0===t?"undefined":x(t))===o?t.replace(/[^\d\.]/g,"").split(".")[0]:r}(t[l]),_&&g&&g.brave&&x(g.brave.isBrave)==e&&(t[h]="Brave"),t},this.getCPU=function(){var t={};return t[d]=r,X.call(t,m,p.cpu),t},this.getDevice=function(){var t={};return t[v]=r,t[c]=r,t[f]=r,X.call(t,m,p.device),_&&!t[f]&&A&&A.mobile&&(t[f]=w),_&&"Macintosh"==t[c]&&g&&x(g.standalone)!==u&&g.maxTouchPoints&&g.maxTouchPoints>2&&(t[c]="iPad",t[f]=y),t},this.getEngine=function(){var t={};return t[h]=r,t[l]=r,X.call(t,m,p.engine),t},this.getOS=function(){var t={};return t[h]=r,t[l]=r,X.call(t,m,p.os),_&&!t[h]&&A&&"Unknown"!=A.platform&&(t[h]=A.platform.replace(/chrome os/i,Q).replace(/macos/i,Y)),t},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return m},this.setUA=function(t){return m=(void 0===t?"undefined":x(t))===o&&t.length>500?W(t,500):t,this},this.setUA(m),this};q.VERSION="0.7.37",q.BROWSER=F([h,l,a]),q.CPU=F([d]),q.DEVICE=F([c,v,f,g,w,m,y,A,p]),q.ENGINE=q.OS=F([h,l]),t.exports&&(n=t.exports=q),n.UAParser=q;var J=(void 0===i?"undefined":x(i))!==u&&(i.jQuery||i.Zepto);if(J&&!J.ua){var $=new q;J.ua=$.getResult(),J.ua.get=function(){return $.getUA()},J.ua.set=function(t){$.setUA(t);var n=$.getResult();for(var i in n)J.ua[i]=n[i]}}}("object"==typeof e?e:N)}(ir,ir.exports);var rr=D(ir.exports),er=["iOS"],ur=function(t){function n(){return t.call(this,e.navigator.userAgent)}bt(n,t);var i=n.prototype;return i.isChromium=function(){return this.getUA().match(/Chrome/i)},i.isChrome=function(){var t=this.getBrowser();if(!t.name)return!1;var n,i=this.getOS();return n=!new RegExp(er.join("|"),"i").test(i.name),t.name.match(/Chrome/i)&&n},i.isFirefox=function(){var t=this.getBrowser();return!!t.name&&t.name.match(/Firefox/i)},i.isOpera=function(){var t=this.getBrowser();return!!t.name&&t.name.match(/Opera/i)},i.isSafari=function(){var t=this.getBrowser();return!!t.name&&t.name.match(/Safari/i)},n}(rr),sr=ht.get("SdpParser"),or=Array.from({length:31},(function(t,n){return n+35})),ar=Array.from({length:32},(function(t,n){return n+96})),cr=Array.from({length:14},(function(t,n){return n+1})),hr=Array.from({length:240},(function(t,n){return n+16})),fr={setSimulcast:function(t,n){if(sr.info("Setting simulcast. Codec: ",n),!(new ur).isChromium())return sr.warn("Your browser does not appear to support Simulcast. For a better experience, use a Chromium based browser."),t;if("h264"!==n&&"vp8"!==n)return sr.warn("Your selected codec ".concat(n," does not appear to support Simulcast.  To broadcast using simulcast, please use H.264 or VP8.")),t;if(!/m=video/.test(t))return sr.warn("There is no available video for simulcast to be enabled."),t;try{for(var i=new RegExp("m=video.*?a=ssrc:(\\d*) cname:(.+?)\\r\\n","s"),r=new RegExp("m=video.*?a=ssrc:(\\d*) msid:(.+?)\\r\\n","s"),e=i.exec(t),u=e[1],s=e[2],o=r.exec(t)[2],a=[u],c=0;c<2;++c){var h=100+2*c,f=h+1;a.push(h),t+="a=ssrc-group:FID "+h+" "+f+"\r\na=ssrc:"+h+" cname:"+s+"\r\na=ssrc:"+h+" msid:"+o+"\r\na=ssrc:"+f+" cname:"+s+"\r\na=ssrc:"+f+" msid:"+o+"\r\n"}return t+="a=ssrc-group:SIM "+a.join(" ")+"\r\n",sr.info("Simulcast setted"),sr.debug("Simulcast SDP: ",t),t}catch(t){throw sr.error("Error setting SDP for simulcast: ",t),t}},setStereo:function(t){return sr.info("Replacing SDP response for support stereo"),t=t.replace(/useinbandfec=1/g,"useinbandfec=1; stereo=1"),sr.info("Replaced SDP response for support stereo"),sr.debug("New SDP value: ",t),t},setDTX:function(t){return sr.info("Replacing SDP response for support dtx"),t=t.replace("useinbandfec=1","useinbandfec=1; usedtx=1"),sr.info("Replaced SDP response for support dtx"),sr.debug("New SDP value: ",t),t},setAbsoluteCaptureTime:function(t){var n="a=extmap:"+fr.getAvailableHeaderExtensionIdRange(t)[0]+" http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time\r\n";return t=t.replace(/(m=.*\r\n(?:.*\r\n)*?)(a=extmap.*\r\n)/gm,(function(t,i,r){return i+n+r})),sr.info("Replaced SDP response for setting absolute capture time"),sr.debug("New SDP value: ",t),t},setDependencyDescriptor:function(t){var n="a=extmap:"+fr.getAvailableHeaderExtensionIdRange(t)[0]+" https://aomediacodec.github.io/av1-rtp-spec/#dependency-descriptor-rtp-header-extension\r\n";return t=t.replace(/(m=.*\r\n(?:.*\r\n)*?)(a=extmap.*\r\n)/gm,(function(t,i,r){return i+n+r})),sr.info("Replaced SDP response for setting depency descriptor"),sr.debug("New SDP value: ",t),t},setVideoBitrate:function(t,n){if(n<1)sr.info("Remove bitrate restrictions"),t=t.replace(/b=AS:.*\r\n/,"").replace(/b=TIAS:.*\r\n/,"");else{var i=$i.parse(t),r=i.getMedia("video");sr.info("Setting video bitrate"),r.setBitrate(n),t=i.toString()}return t},removeSdpLine:function(t,n){return sr.debug("SDP before trimming: ",t),t=t.split("\n").filter((function(t){return t.trim()!==n})).join("\n"),sr.debug("SDP trimmed result: ",t),t},adaptCodecName:function(t,n,i){if(!t)return t;var r=new RegExp("".concat(n),"i");return t.replace(r,i)},setMultiopus:function(t,n){if(!(new ur).isFirefox()&&(!n||vr(n)))if(t.includes("multiopus/48000/6"))sr.info("Multiopus already setted");else{sr.info("Setting multiopus");var i=/m=audio 9 UDP\/TLS\/RTP\/SAVPF (.*)\r\n/.exec(t)[0],r=fr.getAvailablePayloadTypeRange(t)[0],e=i.replace("\r\n"," ")+r+"\r\na=rtpmap:"+r+" multiopus/48000/6\r\na=fmtp:"+r+" channel_mapping=0,4,1,2,3,5;coupled_streams=2;minptime=10;num_streams=4;useinbandfec=1\r\n";t=t.replace(i,e),sr.info("Multiopus offer created"),sr.debug("SDP parsed for multioups: ",t)}return t},getAvailablePayloadTypeRange:function(t){for(var n=function(t){var n=i[t][1].split(" ").map((function(t){return y(t)}));r=r.filter((function(t){return!n.includes(t)}))},i=t.matchAll(/m=(?:.*) (?:.*) UDP\/TLS\/RTP\/SAVPF (.*)\r\n/gm),r=ar.concat(or),e=0;e<i.length;e++)n(e);return r},getAvailableHeaderExtensionIdRange:function(t){for(var n=function(t){var n=i[t][1].split(" ").map((function(t){return y(t)}));r=r.filter((function(t){return!n.includes(t)}))},i=t.matchAll(/a=extmap:(\d+)(?:.*)\r\n/gm),r=cr.concat(hr),e=0;e<i.length;e++)n(e);return r},renegotiate:function(t,n){for(var i=$i.parse(t),r=$i.parse(n),e=0,u=i.getMedias();e<u.length;e++){var s=u[e],o=r.getMediaById(s.getId());if(!o){(o=new tr(s.getId(),s.getType())).setDirection(nr.reverse(s.getDirection()));var a=r.getMedia(s.getType());if(a){o.setCodecs(a.getCodecs());for(var c=0,h=a.getExtensions();c<h.length;c++){var f=Gt(h[c],2),v=f[0],l=f[1];o.addExtension(v,l)}}r.addMedia(o)}}return r.toString()},updateMissingVideoExtensions:function(t,n){var i,r=$i.parse(t),e=null==(i=$i.parse(n).getMediasByType("video")[0])?void 0:i.getExtensions();if(e||e.length){for(var u=function(n,i){var r=i[n],u=r.getExtensions();e.forEach((function(n,i){if(!u.get(i)){var e=r.getId(),s="a=extmap:"+i+" "+n+"\r\n",o=new RegExp("(a=mid:"+e+"\r\n(?:.*\r\n)*?)","g");t=t.replace(o,(function(t,n,i){return n+s}))}}))},s=0,o=r.getMediasByType("video");s<o.length;s++)u(s,o);return t}},getCodecPayloadType:function(t){for(var n=t.matchAll(/a=rtpmap:(\d+) (\w+)\/\d+/g),i={},r=0;r<n.length;r++){var e=n[r];i[e[1]]=e[2]}return i}},vr=function(t){return t.getAudioTracks().some((function(t){return t.getSettings().channelCount>2}))},lr={VP8:"vp8",VP9:"vp9",H264:"h264",AV1:"av1",H265:"h265"},dr={OPUS:"opus",MULTIOPUS:"multiopus"},gr=ht.get("PeerConnection"),wr="Publisher",yr="Viewer",mr={track:"track",connectionStateChange:"connectionStateChange"},Ar={stereo:!1,mediaStream:null,codec:"h264",simulcast:!1,scalabilityMode:null,disableAudio:!1,disableVideo:!1,setSDPToPeer:!0},pr=function(t){function n(){var n;return(n=t.call(this)||this).mode=null,n.sessionDescription=null,n.peer=null,n.peerConnectionStats=null,tn(n)}bt(n,t);var i=n.prototype;return i.createRTCPeer=function(t,n){void 0===t&&(t={autoInitStats:!0,statsIntervalMs:1e3}),void 0===n&&(n=yr);var i=this;return Ot((function(){return Rt(this,(function(r){return gr.info("Creating new RTCPeerConnection"),gr.debug("RTC configuration provided by user: ",t),i.peer=br(i,t),i.mode=n,t.autoInitStats&&i.initStats(t),[2]}))}))()},i.getRTCPeer=function(){return gr.info("Getting RTC Peer"),this.peer},i.closeRTCPeer=function(){var t=this;return Ot((function(){var n;return Rt(this,(function(i){return gr.info("Closing RTCPeerConnection"),null==(n=t.peer)||n.close(),t.peer=null,t.stopStats(),t.emit(mr.connectionStateChange,"closed"),[2]}))}))()},i.setRTCRemoteSDP=function(t){var n=this;return Ot((function(){var i,r;return Rt(this,(function(e){switch(e.label){case 0:gr.info("Setting RTC Remote SDP"),i={type:"answer",sdp:t},e.label=1;case 1:return e.trys.push([1,3,,4]),[4,n.peer.setRemoteDescription(i)];case 2:return e.sent(),gr.info("RTC Remote SDP was set successfully."),gr.debug("RTC Remote SDP new value: ",t),[3,4];case 3:throw r=e.sent(),gr.error("Error while setting RTC Remote SDP: ",r),r;case 4:return[2]}}))}))()},i.getRTCLocalSDP=function(t){void 0===t&&(t=Ar);var n=this;return Ot((function(){var i,r;return Rt(this,(function(e){switch(e.label){case 0:return gr.info("Getting RTC Local SDP"),t=b(b({},Ar),t),gr.debug("Options: ",t),(i=kr(t.mediaStream))?Tr(n.peer,i,t):Nr(n.peer,t),gr.info("Creating peer offer"),[4,n.peer.createOffer()];case 1:return r=e.sent(),gr.info("Peer offer created"),gr.debug("Peer offer response: ",r.sdp),n.sessionDescription=r,t.disableAudio||(t.stereo&&(n.sessionDescription.sdp=fr.setStereo(n.sessionDescription.sdp)),t.dtx&&(n.sessionDescription.sdp=fr.setDTX(n.sessionDescription.sdp)),n.sessionDescription.sdp=fr.setMultiopus(n.sessionDescription.sdp,i)),!t.disableVideo&&t.simulcast&&(n.sessionDescription.sdp=fr.setSimulcast(n.sessionDescription.sdp,t.codec)),t.absCaptureTime&&(n.sessionDescription.sdp=fr.setAbsoluteCaptureTime(n.sessionDescription.sdp)),t.dependencyDescriptor&&(n.sessionDescription.sdp=fr.setDependencyDescriptor(n.sessionDescription.sdp)),t.setSDPToPeer?[4,n.peer.setLocalDescription(n.sessionDescription)]:[3,3];case 2:e.sent(),gr.info("Peer local description set"),e.label=3;case 3:return[2,n.sessionDescription.sdp]}}))}))()},i.addRemoteTrack=function(t,n){var i=this;return Ot((function(){var r,e;return Rt(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),r=i.peer.addTransceiver(t,{direction:"recvonly",streams:n}),[4,Dr(r,n)];case 1:return[2,(r=u.sent(),r)];case 2:throw e=u.sent(),gr.error("Error while adding the remote track: ",e),e;case 3:return[2]}}))}))()},i.updateBandwidthRestriction=function(t,n){if(this.mode===yr)throw gr.error("Viewer attempting to update bitrate, this is not allowed"),new v("It is not possible for a viewer to update the bitrate.");return gr.info("Updating bandwidth restriction, bitrate value: ",n),gr.debug("SDP value: ",t),fr.setVideoBitrate(t,n)},i.updateBitrate=function(t){void 0===t&&(t=0);var n=this;return Ot((function(){var i;return Rt(this,(function(r){switch(r.label){case 0:if(n.mode===yr)throw gr.error("Viewer attempting to update bitrate, this is not allowed"),new v("It is not possible for a viewer to update the bitrate.");if(!n.peer)throw gr.error("Cannot update bitrate. No peer found."),new v("Cannot update bitrate. No peer found.");return gr.info("Updating bitrate to value: ",t),[4,n.peer.createOffer()];case 1:return n.sessionDescription=r.sent(),[4,n.peer.setLocalDescription(n.sessionDescription)];case 2:return r.sent(),i=n.updateBandwidthRestriction(n.peer.remoteDescription.sdp,t),[4,n.setRTCRemoteSDP(i)];case 3:return r.sent(),gr.info("Bitrate restrictions updated: ","".concat(t>0?t:"unlimited"," kbps")),[2]}}))}))()},i.getRTCPeerStatus=function(){if(gr.info("Getting RTC peer status"),!this.peer)return null;var t=Ir(this.peer);return gr.info("RTC peer status getted, value: ",t),t},i.replaceTrack=function(t){if(this.peer){var n=this.peer.getSenders().find((function(n){return n.track.kind===t.kind}));n?n.replaceTrack(t):gr.error("There is no ".concat(t.kind," track in active broadcast."))}else gr.error("Could not change track if there is not an active connection.")},i.getTracks=function(){var t,n;return null==(n=null==(t=this.peer)?void 0:t.getSenders())?void 0:n.map((function(t){return t.track}))},i.initStats=function(t){this.peerConnectionStats?gr.warn("PeerConnection.initStats() has already been called. Automatic initialization occurs via View.connect(), Publish.connect() or this.createRTCPeer(). See options"):this.peer?(this.peerConnectionStats=new Yt(this.peer,t),xt(this.peerConnectionStats,this,[Qt])):gr.warn("Cannot init peer stats: RTCPeerConnection not initialized")},i.stopStats=function(){var t;null==(t=this.peerConnectionStats)||t.stop(),this.peerConnectionStats=null},n.getCapabilities=function(t){var n=new ur,i=RTCRtpSender.getCapabilities(t);if(i){var r={},e=new RegExp("^video/(".concat(g.values(lr).join("|"),")x?$"),"i");"audio"===t&&(e=new RegExp("^audio/(".concat(g.values(dr).join("|"),")$"),"i"),n.isChrome()&&(r.multiopus={mimeType:"audio/multiopus",channels:6}));for(var u=0,s=i.codecs;u<s.length;u++){var o=s[u],a=o.mimeType.match(e);if(a){var c=a[1].toLowerCase();if(r[c]=M(b({},r[c]),{mimeType:o.mimeType}),o.scalabilityModes){var h=r[c].scalabilityModes||[];h=jt(h).concat(jt(o.scalabilityModes)),r[c].scalabilityModes=jt(new Set(h))}o.channels&&(r[c].channels=o.channels)}}i.codecs=g.keys(r).map((function(t){return b({codec:t},r[t])}))}return i},n}(Et),_r=function(t){return(null==t?void 0:t.getAudioTracks().length)<=1&&(null==t?void 0:t.getVideoTracks().length)<=1},kr=function(t){if(!t)return null;if(t instanceof MediaStream&&_r(t))return t;if(!(t instanceof MediaStream)){gr.info("Creating MediaStream to add received tracks.");for(var n=new MediaStream,i=0;i<t.length;i++){var r=t[i];n.addTrack(r)}if(_r(n))return n}throw gr.error("MediaStream must have 1 audio track and 1 video track, or at least one of them."),new v("MediaStream must have 1 audio track and 1 video track, or at least one of them.")},br=function(t,n){var i=new RTCPeerConnection(n);return Mr(t,i),i},Mr=function(t,n){n.ontrack=function(n){gr.info("New track from peer."),gr.debug("Track event value: ",n),t.emit(mr.track,n)},n.connectionState?n.onconnectionstatechange=function(i){gr.info("Peer connection state change: ",n.connectionState),t.emit(mr.connectionStateChange,n.connectionState)}:n.oniceconnectionstatechange=function(i){gr.info("Peer ICE connection state change: ",n.iceConnectionState),t.emit(mr.connectionStateChange,n.iceConnectionState)},n.onnegotiationneeded=Ot((function(t){var i,r;return Rt(this,(function(t){switch(t.label){case 0:return n.remoteDescription?(gr.info("Peer onnegotiationneeded, updating local description"),[4,n.createOffer()]):[2];case 1:return i=t.sent(),gr.info("Peer onnegotiationneeded, got local offer",i.sdp),i.sdp=fr.updateMissingVideoExtensions(i.sdp,n.remoteDescription.sdp),[4,n.setLocalDescription(i)];case 2:return t.sent(),r=fr.renegotiate(i.sdp,n.remoteDescription.sdp),gr.info("Peer onnegotiationneeded, updating remote description",r),[4,n.setRemoteDescription({type:"answer",sdp:r})];case 3:return t.sent(),gr.info("Peer onnegotiationneeded, renegotiation done"),[2]}}))}))},Tr=function(t,n,i){gr.info("Adding mediaStream tracks to RTCPeerConnection");for(var r=0,e=n.getTracks();r<e.length;r++){var u=e[r],s={streams:[n]};"audio"===u.kind&&(s.direction=i.disableAudio?"inactive":"sendonly"),"video"===u.kind&&(s.direction=i.disableVideo?"inactive":"sendonly",i.scalabilityMode&&(new ur).isChrome()?(gr.debug("Video track with scalability mode: ".concat(i.scalabilityMode,".")),s.sendEncodings=[{scalabilityMode:i.scalabilityMode}]):i.scalabilityMode&&gr.warn("SVC is only supported in Google Chrome")),t.addTransceiver(u,s),gr.info("Track '".concat(u.label,"' added: "),"id: ".concat(u.id),"kind: ".concat(u.kind))}},Nr=function(t,n){var i=new ur;if(!n.disableVideo){var r=t.addTransceiver("video",{direction:"recvonly"});i.isOpera()&&r.setCodecPreferences(RTCRtpReceiver.getCapabilities("video").codecs.filter((function(t){return"video/H264"!==t.mimeType||t.sdpFmtpLine.includes("profile-level-id=4")})))}n.disableAudio||t.addTransceiver("audio",{direction:"recvonly"});for(var e=0;e<n.multiplexedAudioTracks;e++)t.addTransceiver("audio",{direction:"recvonly"})},Dr=Ot((function(t,n,i){return Rt(this,(function(r){return void 0===i&&(i=0),[2,new q((function(r,e){if(t.mid){for(var u=0;u<n.length;u++)n[u].addTrack(t.receiver.track);r(t)}else i>=10?e(new v("Error, maximum number of retries has been reached")):(i++,a((function(){Dr(t,n,i).then(r).catch(e)}),50))}))]}))})),Ir=function(t){var n,i=null!=(n=t.connectionState)?n:t.iceConnectionState;switch(i){case"checking":return"connecting";case"completed":return"connected";default:return i}},Er={};g.defineProperty(Er,"__esModule",{value:!0}),Er.TypedEmitter=It.EventEmitter;var Sr=Er.TypedEmitter,Lr=function(t){function n(n,i){var r;return(r=t.call(this)||this).namespace=n,r.tm=i,tn(r)}bt(n,t);var i=n.prototype;return i.cmd=function(t,n){return this.tm.cmd(t,n,this.namespace)},i.event=function(t,n){return this.tm.event(t,n,this.namespace)},i.close=function(){return this.tm.namespaces.delete(this.namespace)},n}(Sr),jr=function(t){function n(n){var i;return(i=t.call(this)||this).maxId=0,i.namespaces=new Map,i.transactions=new Map,i.transport=n,i.listener=function(t){var n;try{n=JSON.parse(t.utf8Data||t.data||t)}catch(t){return}switch(n.type){case"cmd":var r=n.transId,e={name:n.name,data:n.data,namespace:n.namespace,accept:function(t){i.Yd({type:"response",transId:r,data:t})},reject:function(t){i.Yd({type:"error",transId:r,data:t})}};if(e.namespace){var u=i.namespaces.get(e.namespace);u?u.emit("cmd",e):i.emit("cmd",e)}else i.emit("cmd",e);break;case"response":var s=i.transactions.get(n.transId);if(!s)return;i.transactions.delete(n.transId),s.resolve(n.data);break;case"error":var o=i.transactions.get(n.transId);if(!o)return;i.transactions.delete(n.transId),o.reject(n.data);break;case"event":var a={name:n.name,data:n.data,namespace:n.namespace};if(a.namespace){var c=i.namespaces.get(a.namespace);c?c.emit("event",a):i.emit("event",a)}else i.emit("event",a)}},i.transport.addListener?i.transport.addListener("message",i.listener):i.transport.addEventListener("message",i.listener),tn(i)}bt(n,t);var i=n.prototype;return i.Yd=function(t){this.transport.send(JSON.stringify(t))},i.cmd=function(t,n,i){var r=this;return void 0===i&&(i=void 0),new q((function(e,u){if(!t||0===t.length)throw new v("Bad command name");var s={type:"cmd",transId:r.maxId++,name:t,data:n};i&&(s.namespace=i),r.transactions.set(s.transId,M(b({},s),{resolve:e,reject:u}));try{r.Yd(s)}catch(t){throw r.transactions.delete(s.transId),t}}))},i.event=function(t,n,i){if(void 0===i&&(i=void 0),!t||0===t.length)throw new v("Bad event name");var r={type:"event",name:t,data:n};i&&(r.namespace=i),this.Yd(r)},i.namespace=function(t){var n=this.namespaces.get(t);return n||(n=new Lr(t,this),this.namespaces.set(t,n),n)},i.close=function(){for(var t=0,n=this.namespaces.values();t<n.length;t++)n[t].close();this.transport.removeListener?this.transport.removeListener("message",this.listener):this.transport.removeEventListener("message",this.listener)},n}(Sr),Cr=D(jr),xr=ht.get("Signaling"),Or="wsConnectionSuccess",zr="wsConnectionError",Rr="wsConnectionClose",Br="broadcastEvent",Pr=function(t){function n(n){var i;return void 0===n&&(n={streamName:null,url:"ws://localhost:8080/"}),(i=t.call(this)||this).streamName=n.streamName,i.wsUrl=n.url,i.webSocket=null,i.transactionManager=null,i.serverId=null,i.clusterId=null,i.streamViewId=null,tn(i)}bt(n,t);var i=n.prototype;return i.connect=function(){var t=this;return Ot((function(){var n;return Rt(this,(function(i){return[2,(xr.info("Connecting to Signaling Server"),t.transactionManager&&(null==(n=t.webSocket)?void 0:n.readyState)===WebSocket.OPEN?(xr.info("Connected to server: ",t.webSocket.url),xr.debug("WebSocket value: ",{url:t.webSocket.url,protocol:t.webSocket.protocol,readyState:t.webSocket.readyState,binaryType:t.webSocket.binaryType,extensions:t.webSocket.extensions}),t.emit(Or,{ws:t.webSocket,tm:t.transactionManager}),t.webSocket):new q((function(n,i){t.webSocket=new WebSocket(t.wsUrl),t.transactionManager=new Cr(t.webSocket),t.webSocket.onopen=function(){xr.info("WebSocket opened"),t.transactionManager.on("event",(function(n){t.emit(Br,n)})),xr.info("Connected to server: ",t.webSocket.url),xr.debug("WebSocket value: ",{url:t.webSocket.url,protocol:t.webSocket.protocol,readyState:t.webSocket.readyState,binaryType:t.webSocket.binaryType,extensions:t.webSocket.extensions}),t.emit(Or,{ws:t.webSocket,tm:t.transactionManager}),n(t.webSocket)},t.webSocket.onerror=function(){xr.error("WebSocket not connected: ",t.webSocket.url),t.emit(zr,t.webSocket.url),i(t.webSocket.url)},t.webSocket.onclose=function(){t.webSocket=null,t.transactionManager=null,xr.info("Connection closed with Signaling Server."),t.emit(Rr)}})))]}))}))()},i.close=function(){var t;xr.info("Closing connection with Signaling Server."),null==(t=this.webSocket)||t.close()},i.subscribe=function(t,n,i,r){void 0===i&&(i=null),void 0===r&&(r=null);var e=this;return Ot((function(){var u,s,o,a,c,h,f,v,l;return Rt(this,(function(d){switch(d.label){case 0:xr.info("Starting subscription to streamName: ",e.streamName),xr.debug("Subcription local description: ",t),c=Ur(n,i,r),t=fr.adaptCodecName(t,"AV1X",lr.AV1),h={sdp:t,streamId:e.streamName,pinnedSourceId:c.pinnedSourceId,excludedSourceIds:c.excludedSourceIds},c.vad&&(h.vad=!0),Array.isArray(c.events)&&(h.events=c.events),c.forcePlayoutDelay&&(h.forcePlayoutDelay=c.forcePlayoutDelay),c.layer&&(h.layer=c.layer),d.label=1;case 1:return d.trys.push([1,4,,5]),[4,e.connect()];case 2:return d.sent(),xr.info("Sending view command"),[4,e.transactionManager.cmd("view",h)];case 3:return f=d.sent(),v=null==(a=null==(o=null==(s=null==(u=RTCRtpReceiver.getCapabilities)?void 0:u.call(RTCRtpReceiver,"video"))?void 0:s.codecs)?void 0:o.find)?void 0:a.call(o,(function(t){return"video/AV1X"===t.mimeType})),[2,(f.sdp=v?fr.adaptCodecName(f.sdp,lr.AV1,"AV1X"):f.sdp,xr.info("Command sent, subscriberId: ",f.subscriberId),xr.debug("Command result: ",f),e.serverId=f.subscriberId,e.clusterId=f.clusterId,e.streamViewId=f.streamViewId,G(e.streamName),V(e.serverId),W(f.streamViewId),K(e.clusterId),f.sdp)];case 4:throw l=d.sent(),xr.error("Error sending view command, error: ",l),l;case 5:return[2]}}))}))()},i.publish=function(t,n,i,r){void 0===i&&(i=null),void 0===r&&(r=null);var e=this;return Ot((function(){var u,s,o,a,c,h,f,l,d,w,y,m,A,p,_;return Rt(this,(function(k){switch(k.label){case 0:if(d=Qr(n,i,r),xr.info("Starting publishing to streamName: ".concat(e.streamName,", codec: ").concat(d.codec)),xr.debug("Publishing local description: ",t),w=null!=(a=null==(o=null==(s=null==(u=pr.getCapabilities)?void 0:u.call(pr,"video"))?void 0:s.codecs)?void 0:o.map((function(t){return t.codec})))?a:[],-1===(y=g.values(lr)).indexOf(d.codec))throw xr.error("Invalid codec ".concat(d.codec,". Possible values are: "),y),new v("Invalid codec ".concat(d.codec,". Possible values are: ").concat(y));if(w.length>0&&-1===w.indexOf(d.codec))throw xr.error("Unsupported codec ".concat(d.codec,". Possible values are: "),w),new v("Unsupported codec ".concat(d.codec,". Possible values are: ").concat(w));if(d.codec===lr.AV1&&(t=fr.adaptCodecName(t,"AV1X",lr.AV1)),m={name:e.streamName,sdp:t,codec:d.codec,sourceId:d.sourceId},d.priority){if(!(Number.isInteger(d.priority)&&d.priority>=-2147483648&&d.priority<=2147483647))throw new v("Invalid value for priority option. It should be a decimal integer between the range [-2^31, +2^31 - 1]");m.priority=d.priority}null!==d.record&&(m.record=d.record),Array.isArray(d.events)&&(m.events=d.events),k.label=1;case 1:return k.trys.push([1,4,,5]),[4,e.connect()];case 2:return k.sent(),xr.info("Sending publish command"),[4,e.transactionManager.cmd("publish",m)];case 3:return A=k.sent(),d.codec===lr.AV1&&(p=null==(l=null==(f=null==(h=null==(c=RTCRtpSender.getCapabilities)?void 0:c.call(RTCRtpSender,"video"))?void 0:h.codecs)?void 0:f.find)?void 0:l.call(f,(function(t){return"video/AV1X"===t.mimeType})),A.sdp=p?fr.adaptCodecName(A.sdp,lr.AV1,"AV1X"):A.sdp),[2,(xr.info("Command sent, publisherId: ",A.publisherId),xr.debug("Command result: ",A),e.serverId=A.publisherId,e.clusterId=A.clusterId,G(e.streamName),V(e.serverId),X(A.feedId),K(e.clusterId),A.sdp)];case 4:throw _=k.sent(),xr.error("Error sending publish command, error: ",_),_;case 5:return[2]}}))}))()},i.cmd=function(t,n){var i=this;return Ot((function(){return Rt(this,(function(r){return[2,(xr.info("Sending cmd: ".concat(t)),i.transactionManager.cmd(t,n))]}))}))()},n}(Et),Ur=function(t,n,i){var r="object"==typeof t?t:{};return 0===g.keys(r).length&&(r={vad:t,pinnedSourceId:n,excludedSourceIds:i}),r},Qr=function(t,n,i){var r="object"==typeof t?t:{};return 0===g.keys(r).length&&(r={codec:null!=t?t:lr.H264,record:n,sourceId:i}),r},Yr=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).name="FetchError",r.status=i,tn(r)}return bt(n,t),n}(sn(v)),Fr=ht.get("Director"),Gr="WebRtc",Vr="",Wr="https://director.millicast.com",Xr={setEndpoint:function(t){Wr=t.replace(/\/$/,"")},getEndpoint:function(){return Wr},setLiveDomain:function(t){Vr=t.replace(/\/$/,"")},getLiveDomain:function(){return Vr},getPublisher:Ot((function(t,n,i){var r,e,u,s,o,a,c;return Rt(this,(function(h){switch(h.label){case 0:void 0===n&&(n=null),void 0===i&&(i=Gr),r=Zr(t,n,i),Fr.info("Getting publisher connection path for stream name: ",r.streamName),e={streamName:r.streamName,streamType:r.streamType},u={"Content-Type":"application/json",Authorization:"Bearer ".concat(r.token)},s="".concat(Xr.getEndpoint(),"/api/director/publish"),h.label=1;case 1:return h.trys.push([1,4,,5]),[4,fetch(s,{method:"POST",headers:u,body:JSON.stringify(e)})];case 2:return[4,(o=h.sent()).json()];case 3:if("fail"===(a=h.sent()).status)throw new Yr(a.data.message,o.status);return[2,(a=Kr(a),Fr.debug("Getting publisher response: ",a),F(a.data.streamAccountId),a.data)];case 4:throw c=h.sent(),Fr.error("Error while getting publisher connection path. ",c),c;case 5:return[2]}}))})),getSubscriber:Ot((function(t,n,i){var r,e,u,s,o,a,c;return Rt(this,(function(h){switch(h.label){case 0:void 0===n&&(n=null),void 0===i&&(i=null),r=Hr(t,n,i),F(r.streamAccountId),Fr.info("Getting subscriber connection data for stream name: ".concat(r.streamName," and account id: ").concat(r.streamAccountId)),e={streamAccountId:r.streamAccountId,streamName:r.streamName},u={"Content-Type":"application/json"},r.subscriberToken&&(u=M(b({},u),{Authorization:"Bearer ".concat(r.subscriberToken)})),s="".concat(Xr.getEndpoint(),"/api/director/subscribe"),h.label=1;case 1:return h.trys.push([1,4,,5]),[4,fetch(s,{method:"POST",headers:u,body:JSON.stringify(e)})];case 2:return[4,(o=h.sent()).json()];case 3:if("fail"===(a=h.sent()).status)throw new Yr(a.data.message,o.status);return[2,(a=Kr(a),Fr.debug("Getting subscriber response: ",a),a.data)];case 4:throw c=h.sent(),Fr.error("Error while getting subscriber connection path. ",c),c;case 5:return[2]}}))}))},Zr=function(t,n,i){var r="object"==typeof t?t:{};return 0===g.keys(r).length&&(r={token:t,streamName:n,streamType:i}),r},Hr=function(t,n,i){var r="object"==typeof t?t:{};return 0===g.keys(r).length&&(r={streamName:t,streamAccountId:n,subscriberToken:i}),r},Kr=function(t){if(Xr.getLiveDomain()){var n=/\/\/(.*?)\//,i=t.data.urls.map((function(t){var i=n.exec(t);return t.replace(i[1],Xr.getLiveDomain())}));t.data.urls=i}return t};function qr(t){this.message=t}qr.prototype=new v,qr.prototype.name="InvalidCharacterError";var Jr=(void 0===e?"undefined":x(e))<"u"&&e.atob&&e.atob.bind(e)||function(t){var n=String(t).replace(/=+$/,"");if(n.length%4==1)throw new qr("'atob' failed: The string to be decoded is not correctly encoded.");for(var i,r,e=0,u=0,s="";r=n.charAt(u++);~r&&(i=e%4?64*i+r:r,e++%4)?s+=String.fromCharCode(255&i>>(-2*e&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return s};function $r(t){this.message=t}function te(t,n){if("string"!=typeof t)throw new $r("Invalid token specified");var i=!0===(n=n||{}).header?0:1;try{return JSON.parse(function(t){var n=t.replace(/-/g,"+").replace(/_/g,"/");switch(n.length%4){case 0:break;case 2:n+="==";break;case 3:n+="=";break;default:throw"Illegal base64url string!"}try{return function(t){return decodeURIComponent(Jr(t).replace(/(.)/g,(function(t,n){var i=n.charCodeAt(0).toString(16).toUpperCase();return i.length<2&&(i="0"+i),"%"+i})))}(n)}catch(t){return Jr(n)}}(t.split(".")[i]))}catch(t){throw new $r("Invalid token specified: "+t.message)}}$r.prototype=new v,$r.prototype.name="InvalidTokenError";var ne={exports:{}};!function(t,n){!function(i){if(null!=n&&"number"!=typeof n.nodeType)t.exports=i();else{var r=i(),e=("undefined"==typeof self?"undefined":x(self))<"u"?self:xs.global;"function"!=typeof e.btoa&&(e.btoa=r.btoa),"function"!=typeof e.atob&&(e.atob=r.atob)}}((function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function n(t){this.message=t}return n.prototype=new v,n.prototype.name="InvalidCharacterError",{btoa:function(i){for(var r,e,u,s,o=String(i),a=0,c="";a<o.length;){if(r=o.charCodeAt(a++),e=o.charCodeAt(a++),u=o.charCodeAt(a++),r>255||e>255||u>255)throw new n("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");c+=t.charAt((s=r<<16|e<<8|u)>>18&63)+t.charAt(s>>12&63)+t.charAt(s>>6&63)+t.charAt(63&s)}switch(o.length%3){case 0:return c;case 1:return c.slice(0,-2)+"==";case 2:return c.slice(0,-1)+"="}},atob:function(i){var r=String(i).replace(/[=]+$/,"");if(r.length%4==1)throw new n("'atob' failed: The string to be decoded is not correctly encoded.");for(var e,u,s=0,o=0,a="";u=r.charAt(o++);~u&&(e=s%4?64*e+u:u,s++%4)?a+=String.fromCharCode(255&e>>(-2*s&6)):0)u=t.indexOf(u);return a}}}))}(ne,ne.exports);var ie=ne.exports,re={exports:{}};!function(t,i){self,t.exports=function(){return t={7629:function(t,n,i){var r=i(375),e=i(8571),u=i(9474),s=i(1687),o=i(8652),a=i(8160),c=i(3292),h=i(6354),f=i(8901),l=i(9708),d=i(6914),w=i(2294),y=i(6133),m=i(1152),A=i(8863),p=i(2036),_={Base:function(){function t(t){this.type=t,this.$_root=null,this.sf={},this.Gd()}var n=t.prototype;return n.Gd=function(){this.Vd=new w.Ids,this.Wd=null,this.Hd=new y.Manager,this.Xd=null,this.Zd=null,this.qd=null,this.Kd={},this.Jd=[],this.$d=new Map,this.$_terms={},this.$_temp={ruleset:null,whens:{}}},n.describe=function(){return r("function"==typeof l.describe,"Manifest functionality disabled"),l.describe(this)},n.allow=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return a.verifyFlat(n,"allow"),this.tf(n,"Zd")},n.alter=function(t){r(t&&"object"==typeof t&&!Array.isArray(t),"Invalid targets argument"),r(!this.ef(),"Cannot set alterations inside a ruleset");var n=this.clone();for(var i in n.$_terms.alterations=n.$_terms.alterations||[],t){var e=t[i];r("function"==typeof e,"Alteration adjuster for",i,"must be a function"),n.$_terms.alterations.push({target:i,adjuster:e})}return n.$_temp.ruleset=!1,n},n.artifact=function(t){return r(void 0!==t,"Artifact cannot be undefined"),r(!this.Xd,"Cannot set an artifact with a rule cache"),this.$_setFlag("artifact",t)},n.cast=function(t){return r(!1===t||"string"==typeof t,"Invalid to value"),r(!1===t||this.sf.cast[t],"Type",this.type,"does not support casting to",t),this.$_setFlag("cast",!1===t?void 0:t)},n.default=function(t,n){return this.nf("default",t,n)},n.description=function(t){return r(t&&"string"==typeof t,"Description must be a non-empty string"),this.$_setFlag("description",t)},n.empty=function(t){var n=this.clone();return void 0!==t&&(t=n.$_compile(t,{override:!1})),n.$_setFlag("empty",t,{clone:!1})},n.error=function(t){return r(t,"Missing error"),r(t instanceof v||"function"==typeof t,"Must provide a valid Error object or a function"),this.$_setFlag("error",t)},n.example=function(t,n){return void 0===n&&(n={}),r(void 0!==t,"Missing example"),a.assertOptions(n,["override"]),this.rf("examples",t,{single:!0,override:n.override})},n.external=function(t,n){return"object"==typeof t&&(r(!n,"Cannot combine options with description"),n=t.description,t=t.method),r("function"==typeof t,"Method must be a function"),r(void 0===n||n&&"string"==typeof n,"Description must be a non-empty string"),this.rf("externals",{method:t,description:n},{single:!0})},n.failover=function(t,n){return this.nf("failover",t,n)},n.forbidden=function(){return this.presence("forbidden")},n.id=function(t){return t?(r("string"==typeof t,"id must be a non-empty string"),r(/^[^\.]+$/.test(t),"id cannot contain period character"),this.$_setFlag("id",t)):this.$_setFlag("id",void 0)},n.invalid=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return this.tf(n,"qd")},n.label=function(t){return r(t&&"string"==typeof t,"Label name must be a non-empty string"),this.$_setFlag("label",t)},n.meta=function(t){return r(void 0!==t,"Meta cannot be undefined"),this.rf("metas",t,{single:!0})},n.note=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];r(n.length,"Missing notes");for(var e=0;e<n.length;e++){var u=n[e];r(u&&"string"==typeof u,"Notes must be non-empty strings")}return this.rf("notes",n)},n.only=function(t){return void 0===t&&(t=!0),r("boolean"==typeof t,"Invalid mode:",t),this.$_setFlag("only",t)},n.optional=function(){return this.presence("optional")},n.prefs=function(t){r(t,"Missing preferences"),r(void 0===t.context,"Cannot override context"),r(void 0===t.externals,"Cannot override externals"),r(void 0===t.warnings,"Cannot override warnings"),r(void 0===t.debug,"Cannot override debug"),a.checkPreferences(t);var n=this.clone();return n.Wd=a.preferences(n.Wd,t),n},n.presence=function(t){return r(["optional","required","forbidden"].includes(t),"Unknown presence mode",t),this.$_setFlag("presence",t)},n.raw=function(t){return void 0===t&&(t=!0),this.$_setFlag("result",t?"raw":void 0)},n.result=function(t){return r(["raw","strip"].includes(t),"Unknown result mode",t),this.$_setFlag("result",t)},n.required=function(){return this.presence("required")},n.strict=function(t){var n=this.clone(),i=void 0!==t&&!t;return n.Wd=a.preferences(n.Wd,{convert:i}),n},n.strip=function(t){return void 0===t&&(t=!0),this.$_setFlag("result",t?"strip":void 0)},n.tag=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];r(n.length,"Missing tags");for(var e=0;e<n.length;e++){var u=n[e];r(u&&"string"==typeof u,"Tags must be non-empty strings")}return this.rf("tags",n)},n.unit=function(t){return r(t&&"string"==typeof t,"Unit name must be a non-empty string"),this.$_setFlag("unit",t)},n.valid=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];a.verifyFlat(n,"valid");var r=this.allow.apply(this,jt(n));return r.$_setFlag("only",!!r.Zd,{clone:!1}),r},n.when=function(t,n){var i=this.clone();i.$_terms.whens||(i.$_terms.whens=[]);var e=c.when(i,t,n);if(!["any","link"].includes(i.type))for(var u=e.is?[e]:e.switch,s=0;s<u.length;s++){var o=u[s];r(!o.then||"any"===o.then.type||o.then.type===i.type,"Cannot combine",i.type,"with",o.then&&o.then.type),r(!o.otherwise||"any"===o.otherwise.type||o.otherwise.type===i.type,"Cannot combine",i.type,"with",o.otherwise&&o.otherwise.type)}return i.$_terms.whens.push(e),i.$_mutateRebuild()},n.cache=function(t){r(!this.ef(),"Cannot set caching inside a ruleset"),r(!this.Xd,"Cannot override schema cache"),r(void 0===this.Kd.artifact,"Cannot cache a rule with an artifact");var n=this.clone();return n.Xd=t||o.provider.provision(),n.$_temp.ruleset=!1,n},n.clone=function(){var t=g.create(g.getPrototypeOf(this));return this.hf(t)},n.concat=function(t){var n=function(t,n){var r=n[t];i.$d.has(r)&&(i.Jd=i.Jd.filter((function(t){return t.keep||t.name!==r})),i.$d.delete(r))};r(a.isSchema(t),"Invalid schema object"),r("any"===this.type||"any"===t.type||t.type===this.type,"Cannot merge type",this.type,"with another type:",t.type),r(!this.ef(),"Cannot concatenate onto a schema with open ruleset"),r(!t.ef(),"Cannot concatenate a schema with open ruleset");var i=this.clone();if("any"===this.type&&"any"!==t.type){for(var e=t.clone(),u=0,o=g.keys(i);u<o.length;u++){var c=o[u];"type"!==c&&(e[c]=i[c])}i=e}i.Vd.concat(t.Vd),i.Hd.register(t,y.toSibling),i.Wd=i.Wd?a.preferences(i.Wd,t.Wd):t.Wd,i.Zd=p.merge(i.Zd,t.Zd,t.qd),i.qd=p.merge(i.qd,t.qd,t.Zd);for(var h=0,f=t.$d.keys();h<f.length;h++)n(h,f);for(var v=0,l=t.Jd;v<l.length;v++){var d=l[v];t.sf.rules[d.method].multi||i.$d.set(d.name,d),i.Jd.push(d)}if(i.Kd.empty&&t.Kd.empty){i.Kd.empty=i.Kd.empty.concat(t.Kd.empty);var w=g.assign({},t.Kd);delete w.empty,s(i.Kd,w)}else if(t.Kd.empty){i.Kd.empty=t.Kd.empty;var m=g.assign({},t.Kd);delete m.empty,s(i.Kd,m)}else s(i.Kd,t.Kd);for(var A in t.$_terms){var _=t.$_terms[A];_?i.$_terms[A]?i.$_terms[A]=i.$_terms[A].concat(_):i.$_terms[A]=_.slice():i.$_terms[A]||(i.$_terms[A]=_)}return this.$_root.uf&&this.$_root.uf.cf(i,[this,t]),i.$_mutateRebuild()},n.extend=function(t){return r(!t.base,"Cannot extend type with another base"),f.type(this,t)},n.extract=function(t){return t=Array.isArray(t)?t:t.split("."),this.Vd.reach(t)},n.fork=function(t,n){r(!this.ef(),"Cannot fork inside a ruleset");for(var i=this,e=0,u=[].concat(t);e<u.length;e++){var s=u[e];s=Array.isArray(s)?s:s.split("."),i=i.Vd.fork(s,n,i)}return i.$_temp.ruleset=!1,i},n.rule=function(t){var n=this.sf;a.assertOptions(t,g.keys(n.modifiers)),r(!1!==this.$_temp.ruleset,"Cannot apply rules to empty ruleset or the last rule added does not support rule properties");var i=null===this.$_temp.ruleset?this.Jd.length-1:this.$_temp.ruleset;r(i>=0&&i<this.Jd.length,"Cannot apply rules to empty ruleset");for(var u=this.clone(),s=i;s<u.Jd.length;++s){var o=u.Jd[s],c=e(o);for(var h in t)n.modifiers[h](c,t[h]),r(c.name===o.name,"Cannot change rule name");u.Jd[s]=c,u.$d.get(c.name)===o&&u.$d.set(c.name,c)}return u.$_temp.ruleset=!1,u.$_mutateRebuild()},n.tailor=function(t){t=[].concat(t),r(!this.ef(),"Cannot tailor inside a ruleset");var n=this;if(this.$_terms.alterations)for(var i=0,e=this.$_terms.alterations;i<e.length;i++){var u=e[i],s=u.target,o=u.adjuster;t.includes(s)&&(n=o(n),r(a.isSchema(n),"Alteration adjuster for",s,"failed to return a schema object"))}return(n=n.$_modify({each:function(n){return n.tailor(t)},ref:!1})).$_temp.ruleset=!1,n.$_mutateRebuild()},n.tracer=function(){return m.location?m.location(this):this},n.validate=function(t,n){return A.entry(t,this,n)},n.validateAsync=function(t,n){return A.entryAsync(t,this,n)},n.$_addRule=function(t){for(var n in"string"==typeof t&&(t={name:t}),r(t&&"object"==typeof t,"Invalid options"),r(t.name&&"string"==typeof t.name,"Invalid rule name"),t)r("_"!==n[0],"Cannot set private rule properties");var i=g.assign({},t);i.lf=[],i.method=i.method||i.name;var e=this.sf.rules[i.method],u=i.args;r(e,"Unknown rule",i.method);var s=this.clone();if(u)for(var o in r(1===g.keys(u).length||g.keys(u).length===this.sf.rules[i.name].args.length,"Invalid rule definition for",this.type,i.name),u){var c=u[o];if(e.argsByName){var h=e.argsByName.get(o);if(h.ref&&a.isResolvable(c))i.lf.push(o),s.$_mutateRegister(c);else if(h.normalize&&(c=h.normalize(c),u[o]=c),h.assert){var f=a.validateArg(c,o,h);r(!f,f,"or reference")}}void 0!==c?u[o]=c:delete u[o]}return e.multi||(s.df(i.name,{clone:!1}),s.$d.set(i.name,i)),!1===s.$_temp.ruleset&&(s.$_temp.ruleset=null),e.priority?s.Jd.unshift(i):s.Jd.push(i),s},n.$_compile=function(t,n){return c.schema(this.$_root,t,n)},n.$_createError=function(t,n,i,r,e,u){void 0===u&&(u={});var s=!1!==u.flags?this.Kd:{},o=u.messages?d.merge(this.sf.messages,u.messages):this.sf.messages;return new h.Report(t,n,i,s,o,r,e)},n.$_getFlag=function(t){return this.Kd[t]},n.$_getRule=function(t){return this.$d.get(t)},n.$_mapLabels=function(t){return t=Array.isArray(t)?t:t.split("."),this.Vd.labels(t)},n.$_match=function(t,n,i,r){(i=g.assign({},i)).abortEarly=!0,i._f=!1,n.snapshot();var e=!A.validate(t,this,n,i,r).errors;return n.restore(),e},n.$_modify=function(t){return a.assertOptions(t,["each","once","ref","schema"]),w.schema(this,t)||this},n.$_mutateRebuild=function(){var t=this;return r(!this.ef(),"Cannot add this rule inside a ruleset"),this.Hd.reset(),this.Vd.reset(),this.$_modify({each:function(n,i){var r=i.source,e=i.name,u=(i.path,i.key),s=t.sf[r][e]&&t.sf[r][e].register;!1!==s&&t.$_mutateRegister(n,{family:s,key:u})}}),this.sf.rebuild&&this.sf.rebuild(this),this.$_temp.ruleset=!1,this},n.$_mutateRegister=function(t,n){var i=void 0===n?{}:n,r=i.family,e=i.key;this.Hd.register(t,r),this.Vd.register(t,{key:e})},n.$_property=function(t){return this.sf.properties[t]},n.$_reach=function(t){return this.Vd.reach(t)},n.$_rootReferences=function(){return this.Hd.roots()},n.$_setFlag=function(t,n,i){void 0===i&&(i={}),r("_"===t[0]||!this.ef(),"Cannot set flag inside a ruleset");var e=this.sf.flags[t]||{};if(u(n,e.default)&&(n=void 0),u(n,this.Kd[t]))return this;var s=!1!==i.clone?this.clone():this;return void 0!==n?(s.Kd[t]=n,s.$_mutateRegister(n)):delete s.Kd[t],"_"!==t[0]&&(s.$_temp.ruleset=!1),s},n.$_parent=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;return(e=this[t][a.symbols.parent]).call.apply(e,[this].concat(jt(i)))},n.$_validate=function(t,n,i){return A.validate(t,this,n,i)},n.hf=function(t){for(var n in t.type=this.type,t.$_root=this.$_root,t.$_temp=g.assign({},this.$_temp),t.$_temp.whens={},t.Vd=this.Vd.clone(),t.Wd=this.Wd,t.Zd=this.Zd&&this.Zd.clone(),t.qd=this.qd&&this.qd.clone(),t.Jd=this.Jd.slice(),t.$d=e(this.$d,{shallow:!0}),t.Hd=this.Hd.clone(),t.Kd=g.assign({},this.Kd),t.Xd=null,t.$_terms={},this.$_terms)t.$_terms[n]=this.$_terms[n]?this.$_terms[n].slice():null;for(var i in t.$_super={},this.$_super)t.$_super[i]=this.gf[i].bind(t);return t},n.wf=function(){var t=this.clone();t.Gd();var n=t.sf.terms;for(var i in n){var r=n[i];t.$_terms[i]=r.init}return t.$_mutateRebuild()},n.nf=function(t,n,i){var e;return void 0===i&&(i={}),a.assertOptions(i,"literal"),r(void 0!==n,"Missing",t,"value"),r("function"==typeof n||!i.literal,"Only function value supports literal option"),"function"==typeof n&&i.literal&&(Zt(e={},a.symbols.literal,!0),Zt(e,"literal",n),n=e),this.$_setFlag(t,n)},n.vf=function(t,n,i){if(!this.$_terms.whens)return{schema:this};for(var r=[],e=[],u=0;u<this.$_terms.whens.length;++u){var s=this.$_terms.whens[u];if(s.concat)r.push(s.concat),e.push("".concat(u,".concat"));else{for(var o=s.ref?s.ref.resolve(t,n,i):t,a=s.is?[s]:s.switch,c=e.length,h=0;h<a.length;++h){var f=a[h],v=f.is,l=f.then,d=f.otherwise,g="".concat(u).concat(s.switch?"."+h:"");if(v.$_match(o,n.nest(v,"".concat(g,".is")),i)){if(l){var w=n.localize(jt(n.path).concat(["".concat(g,".then")]),n.ancestors,n.schemas),y=l.vf(t,w,i),m=y.schema,A=y.id;r.push(m),e.push("".concat(g,".then").concat(A?"(".concat(A,")"):""));break}}else if(d){var p=n.localize(jt(n.path).concat(["".concat(g,".otherwise")]),n.ancestors,n.schemas),_=d.vf(t,p,i),k=_.schema,b=_.id;r.push(k),e.push("".concat(g,".otherwise").concat(b?"(".concat(b,")"):""));break}}if(s.break&&e.length>c)break}}var M=e.join(", ");if(n.mainstay.tracer.debug(n,"rule","when",M),!M)return{schema:this};if(!n.mainstay.tracer.active&&this.$_temp.whens[M])return{schema:this.$_temp.whens[M],id:M};var T=this;this.sf.generate&&(T=this.sf.generate(this,t,n,i));for(var N=0;N<r.length;N++){var D=r[N];T=T.concat(D)}return this.$_root.uf&&this.$_root.uf.cf(T,[this].concat(jt(r))),this.$_temp.whens[M]=T,{schema:T,id:M}},n.rf=function(t,n,i){var e;void 0===i&&(i={}),r(!this.ef(),"Cannot set ".concat(t," inside a ruleset"));var u=this.clone();return u.$_terms[t]&&!i.override||(u.$_terms[t]=[]),i.single?u.$_terms[t].push(n):(e=u.$_terms[t]).push.apply(e,jt(n)),u.$_temp.ruleset=!1,u},n.ef=function(){return null!==this.$_temp.ruleset&&!1!==this.$_temp.ruleset},n.df=function(t,n){if(void 0===n&&(n={}),!this.$d.has(t))return this;var i=!1!==n.clone?this.clone():this;i.$d.delete(t);for(var r=[],e=0;e<i.Jd.length;++e){var u=i.Jd[e];u.name!==t||u.keep?r.push(u):i.ef()&&e<i.$_temp.ruleset&&--i.$_temp.ruleset}return i.Jd=r,i},n.tf=function(t,n){a.verifyFlat(t,n.slice(1,-1));var i=this.clone(),e=t[0]===a.symbols.override;if(e&&(t=t.slice(1)),!i[n]&&t.length?i[n]=new p:e&&(i[n]=t.length?new p:null,i.$_mutateRebuild()),!i[n])return i;e&&i[n].override();for(var u=0;u<t.length;u++){var s=t[u];r(void 0!==s,"Cannot call allow/valid/invalid with undefined"),r(s!==a.symbols.override,"Override must be the first value");var o="qd"===n?"Zd":"qd";i[o]&&(i[o].remove(s),i[o].length||(r("Zd"===n||!i.Kd.only,"Setting invalid value",s,"leaves schema rejecting all values due to previous valid rule"),i[o]=null)),i[n].add(s,i.Hd)}return i},At(t,[{key:"ruleset",get:function(){r(!this.ef(),"Cannot start a new ruleset without closing the previous one");var t=this.clone();return t.$_temp.ruleset=t.Jd.length,t}},{key:"$",get:function(){return this.ruleset}}]),t}()};_.Base.prototype[a.symbols.any]={version:a.version,compile:c.compile,root:"$_root"},_.Base.prototype.isImmutable=!0,_.Base.prototype.deny=_.Base.prototype.invalid,_.Base.prototype.disallow=_.Base.prototype.invalid,_.Base.prototype.equal=_.Base.prototype.valid,_.Base.prototype.exist=_.Base.prototype.required,_.Base.prototype.not=_.Base.prototype.invalid,_.Base.prototype.options=_.Base.prototype.prefs,_.Base.prototype.preferences=_.Base.prototype.prefs,t.exports=new _.Base},8652:function(t,n,i){var r=i(375),e=i(8571),u=i(8160),s={max:1e3,supported:new Set(["undefined","boolean","number","string"])};n.provider={provision:function(t){return new s.Cache(t)}},s.Cache=function(){function t(t){void 0===t&&(t={}),u.assertOptions(t,["max"]),r(void 0===t.max||t.max&&t.max>0&&isFinite(t.max),"Invalid max cache size"),this.yf=t.max||s.max,this.mf=new Map,this.pf=new s.List}var n=t.prototype;return n.set=function(t,n){if(null===t||s.supported.has(void 0===t?"undefined":x(t))){var i=this.mf.get(t);if(i)return i.value=n,void this.pf.first(i);i=this.pf.unshift({key:t,value:n}),this.mf.set(t,i),this.Af()}},n.get=function(t){var n=this.mf.get(t);if(n)return this.pf.first(n),e(n.value)},n.Af=function(){if(this.mf.size>this.yf){var t=this.pf.pop();this.mf.delete(t.key)}},At(t,[{key:"length",get:function(){return this.mf.size}}]),t}(),s.List=function(){function t(){this.tail=null,this.head=null}var n=t.prototype;return n.unshift=function(t){return t.next=null,t.prev=this.head,this.head&&(this.head.next=t),this.head=t,this.tail||(this.tail=t),t},n.first=function(t){t!==this.head&&(this.Mf(t),this.unshift(t))},n.pop=function(){return this.Mf(this.tail)},n.Mf=function(t){var n=t.next,i=t.prev;return n.prev=i,i&&(i.next=n),t===this.tail&&(this.tail=n),t.prev=null,t.next=null,t},t}()},8160:function(t,i,r){var e,u,s=r(375),o=r(7916),a=r(5934),c={isoDate:/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/};i.version=a.version,i.defaults={abortEarly:!0,allowUnknown:!1,artifacts:!1,cache:!0,context:null,convert:!0,dateFormat:"iso",errors:{escapeHtml:!1,label:"path",language:null,render:!0,stack:!1,wrap:{label:'"',array:"[]"}},externals:!0,messages:{},nonEnumerables:!1,noDefaults:!1,presence:"optional",skipFunctions:!1,stripUnknown:!1,warnings:!1},i.symbols={any:n.for("@hapi/joi/schema"),arraySingle:n("arraySingle"),deepDefault:n("deepDefault"),errors:n("errors"),literal:n("literal"),override:n("override"),parent:n("parent"),prefs:n("prefs"),ref:n("ref"),template:n("template"),values:n("values")},i.assertOptions=function(t,n,i){void 0===i&&(i="Options"),s(t&&"object"==typeof t&&!Array.isArray(t),"Options must be of type object");var r=g.keys(t).filter((function(t){return!n.includes(t)}));s(0===r.length,"".concat(i," contain unknown keys: ").concat(r))},i.checkPreferences=function(t){var n=(u=u||r(3378)).preferences.validate(t);if(n.error)throw new o([n.error.details[0].message])},i.compare=function(t,n,i){switch(i){case"=":return t===n;case">":return t>n;case"<":return t<n;case">=":return t>=n;case"<=":return t<=n}},i.default=function(t,n){return void 0===t?n:t},i.isIsoDate=function(t){return c.isoDate.test(t)},i.isNumber=function(t){return"number"==typeof t&&!A(t)},i.isResolvable=function(t){return!!t&&(t[i.symbols.ref]||t[i.symbols.template])},i.isSchema=function(t,n){void 0===n&&(n={});var r=t&&t[i.symbols.any];return!!r&&(s(n.legacy||r.version===i.version,"Cannot mix different versions of joi schemas"),!0)},i.isValues=function(t){return t[i.symbols.values]},i.limit=function(t){return Number.isSafeInteger(t)&&t>=0},i.preferences=function(t,n){e=e||r(6914),t=t||{},n=n||{};var u=g.assign({},t,n);return n.errors&&t.errors&&(u.errors=g.assign({},t.errors,n.errors),u.errors.wrap=g.assign({},t.errors.wrap,n.errors.wrap)),n.messages&&(u.messages=e.compile(n.messages,t.messages)),delete u[i.symbols.prefs],u},i.tryWithPath=function(t,n,i){void 0===i&&(i={});try{return t()}catch(t){throw void 0!==t.path?t.path=n+"."+t.path:t.path=n,i.append&&(t.message="".concat(t.message," (").concat(t.path,")")),t}},i.validateArg=function(t,n,r){var e=r.assert,u=r.message;if(i.isSchema(e)){var s=e.validate(t);return s.error?s.error.message:void 0}if(!e(t))return n?"".concat(n," ").concat(u):u},i.verifyFlat=function(t,n){for(var i=0;i<t.length;i++){var r=t[i];s(!Array.isArray(r),"Method no longer accepts array arguments:",n)}}},3292:function(t,n,i){var r=i(375),e=i(8160),u=i(6133),s={};n.schema=function(t,n,i){void 0===i&&(i={}),e.assertOptions(i,["appendPath","override"]);try{return s.schema(t,n,i)}catch(t){throw i.appendPath&&void 0!==t.path&&(t.message="".concat(t.message," (").concat(t.path,")")),t}},s.schema=function(t,n,i){var u,o;r(void 0!==n,"Invalid undefined schema"),Array.isArray(n)&&(r(n.length,"Invalid empty array schema"),1===n.length&&(n=n[0]));var a=function(n){for(var r=arguments.length,e=new Array(r>1?r-1:0),s=1;s<r;s++)e[s-1]=arguments[s];return!1!==i.override?(u=n).valid.apply(u,[t.override].concat(jt(e))):(o=n).valid.apply(o,jt(e))};if(s.simple(n))return a(t,n);if("function"==typeof n)return t.custom(n);if(r("object"==typeof n,"Invalid schema content:",void 0===n?"undefined":x(n)),e.isResolvable(n))return a(t,n);if(e.isSchema(n))return n;if(Array.isArray(n)){for(var c,h=0;h<n.length;h++){var f=n[h];if(!s.simple(f))return(c=t.alternatives()).try.apply(c,jt(n))}return a.apply(void 0,[t].concat(jt(n)))}return n instanceof RegExp?t.string().regex(n):n instanceof Date?a(t.date(),n):(r(g.getPrototypeOf(n)===g.getPrototypeOf({}),"Schema can only contain plain objects"),t.object().keys(n))},n.ref=function(t,n){return u.isRef(t)?t:u.create(t,n)},n.compile=function(t,i,u){void 0===u&&(u={}),e.assertOptions(u,["legacy"]);var o=i&&i[e.symbols.any];if(o)return r(u.legacy||o.version===e.version,"Cannot mix different versions of joi schemas:",o.version,e.version),i;if("object"!=typeof i||!u.legacy)return n.schema(t,i,{appendPath:!0});var a=s.walk(i);return a?a.compile(a.root,i):n.schema(t,i,{appendPath:!0})},s.walk=function(t){if("object"!=typeof t)return null;if(Array.isArray(t)){for(var n=0;n<t.length;n++){var i=t[n],u=s.walk(i);if(u)return u}return null}var o=t[e.symbols.any];if(o)return{root:t[o.root],compile:o.compile};for(var a in r(g.getPrototypeOf(t)===g.getPrototypeOf({}),"Schema can only contain plain objects"),t){var c=s.walk(t[a]);if(c)return c}return null},s.simple=function(t){return null===t||["boolean","string","number"].includes(void 0===t?"undefined":x(t))},n.when=function(t,i,o){if(void 0===o&&(r(i&&"object"==typeof i,"Missing options"),o=i,i=u.create(".")),Array.isArray(o)&&(o={switch:o}),e.assertOptions(o,["is","not","then","otherwise","switch","break"]),e.isSchema(i))return r(void 0===o.is,'"is" can not be used with a schema condition'),r(void 0===o.not,'"not" can not be used with a schema condition'),r(void 0===o.switch,'"switch" can not be used with a schema condition'),s.condition(t,{is:i,then:o.then,otherwise:o.otherwise,break:o.break});if(r(u.isRef(i)||"string"==typeof i,"Invalid condition:",i),r(void 0===o.not||void 0===o.is,'Cannot combine "is" with "not"'),void 0===o.switch){var a=o;void 0!==o.not&&(a={is:o.not,then:o.otherwise,otherwise:o.then,break:o.break});var c=void 0!==a.is?t.$_compile(a.is):t.$_root.invalid(null,!1,0,"").required();return r(void 0!==a.then||void 0!==a.otherwise,'options must have at least one of "then", "otherwise", or "switch"'),r(void 0===a.break||void 0===a.then||void 0===a.otherwise,"Cannot specify then, otherwise, and break all together"),void 0===o.is||u.isRef(o.is)||e.isSchema(o.is)||(c=c.required()),s.condition(t,{ref:n.ref(i),is:c,then:a.then,otherwise:a.otherwise,break:a.break})}r(Array.isArray(o.switch),'"switch" must be an array'),r(void 0===o.is,'Cannot combine "switch" with "is"'),r(void 0===o.not,'Cannot combine "switch" with "not"'),r(void 0===o.then,'Cannot combine "switch" with "then"');for(var h={ref:n.ref(i),switch:[],break:o.break},f=0;f<o.switch.length;++f){var v=o.switch[f],l=f===o.switch.length-1;e.assertOptions(v,l?["is","then","otherwise"]:["is","then"]),r(void 0!==v.is,'Switch statement missing "is"'),r(void 0!==v.then,'Switch statement missing "then"');var d={is:t.$_compile(v.is),then:t.$_compile(v.then)};if(u.isRef(v.is)||e.isSchema(v.is)||(d.is=d.is.required()),l){r(void 0===o.otherwise||void 0===v.otherwise,'Cannot specify "otherwise" inside and outside a "switch"');var g=void 0!==o.otherwise?o.otherwise:v.otherwise;void 0!==g&&(r(void 0===h.break,"Cannot specify both otherwise and break"),d.otherwise=t.$_compile(g))}h.switch.push(d)}return h},s.condition=function(t,n){for(var i=0,r=["then","otherwise"];i<r.length;i++){var e=r[i];void 0===n[e]?delete n[e]:n[e]=t.$_compile(n[e])}return n}},6354:function(t,n,i){var r=i(5688),e=i(8160),u=i(3328);n.Report=function(){function t(t,i,r,e,u,s,o){if(this.code=t,this.flags=e,this.messages=u,this.path=s.path,this.prefs=o,this.state=s,this.value=i,this.message=null,this.template=null,this.local=r||{},this.local.label=n.label(this.flags,this.state,this.prefs,this.messages),void 0===this.value||this.local.hasOwnProperty("value")||(this.local.value=this.value),this.path.length){var a=this.path[this.path.length-1];"object"!=typeof a&&(this.local.key=a)}}var i=t.prototype;return i.bf=function(t){if(this.template=t,!this.flags.label&&0===this.path.length){var n=this.Tf(this.template,"root");n&&(this.local.label=n)}},i.toString=function(){if(this.message)return this.message;var t=this.code;if(!this.prefs.errors.render)return this.code;var n=this.Tf(this.template)||this.Tf(this.prefs.messages)||this.Tf(this.messages);return void 0===n?'Error code "'.concat(t,'" is not defined, your custom type is missing the correct messages definition'):(this.message=n.render(this.value,this.state,this.prefs,this.local,{errors:this.prefs.errors,messages:[this.prefs.messages,this.messages]}),this.prefs.errors.label||(this.message=this.message.replace(/^"" /,"").trim()),this.message)},i.Tf=function(t,i){return n.template(this.value,t,i||this.code,this.state,this.prefs)},t}(),n.path=function(t){for(var n="",i=0;i<t.length;i++){var r=t[i];"object"!=typeof r&&("string"==typeof r?(n&&(n+="."),n+=r):n+="[".concat(r,"]"))}return n},n.template=function(t,n,i,r,s){if(n){if(u.isTemplate(n))return"root"!==i?n:null;var o=s.errors.language;if(e.isResolvable(o)&&(o=o.resolve(t,r,s)),o&&n[o]){if(void 0!==n[o][i])return n[o][i];if(void 0!==n[o]["*"])return n[o]["*"]}return n[i]?n[i]:n["*"]}},n.label=function(t,i,r,e){if(t.label)return t.label;if(!r.errors.label)return"";var u=i.path;return"key"===r.errors.label&&i.path.length>1&&(u=i.path.slice(-1)),n.path(u)||n.template(null,r.messages,"root",i,r)||e&&n.template(null,e,"root",i,r)||"value"},n.process=function(t,i,r){if(!t)return null;var e=n.details(t),u=e.override,s=e.message,o=e.details;if(u)return u;if(r.errors.stack)return new n.ValidationError(s,o,i);var a=v.stackTraceLimit;v.stackTraceLimit=0;var c=new n.ValidationError(s,o,i);return v.stackTraceLimit=a,c},n.details=function(t,n){void 0===n&&(n={});for(var i=[],r=[],e=0;e<t.length;e++){var u=t[e];if(u instanceof v){if(!1!==n.override)return{override:u};var s=u.toString();i.push(s),r.push({message:s,type:"override",context:{error:u}})}else{var o=u.toString();i.push(o),r.push({message:o,path:u.path.filter((function(t){return"object"!=typeof t})),type:u.code,context:u.local})}}return i.length>1&&(i=jt(new Set(i))),{message:i.join(". "),details:r}},n.ValidationError=function(t){function i(n,i,r){var e;return(e=t.call(this,n)||this).Sf=r,e.details=i,tn(e)}return bt(i,t),i.isError=function(t){return t instanceof n.ValidationError},i}(sn(v)),n.ValidationError.prototype.isJoi=!0,n.ValidationError.prototype.name="ValidationError",n.ValidationError.prototype.annotate=r.error},8901:function(t,n,i){var r=i(375),e=i(8571),u=i(8160),s=i(6914),o={};n.type=function(t,n){var i=function(t){var n=v.rules[t];r("object"==typeof n,"Invalid rule definition for",v.type,t);var i=n.method;if(void 0===i&&(i=function(){return this.$_addRule(t)}),i&&(r(!h[t],"Rule conflict in",v.type,t),h[t]=i),r(!m[t],"Rule conflict in",v.type,t),m[t]=n,n.alias)for(var e=[].concat(n.alias),s=0;s<e.length;s++){var o=e[s];h[o]=n.method}n.args&&(n.argsByName=new Map,n.args=n.args.map((function(t){return"string"==typeof t&&(t={name:t}),r(!n.argsByName.has(t.name),"Duplicated argument name",t.name),u.isSchema(t.assert)&&(t.assert=t.assert.strict().label(t.name)),n.argsByName.set(t.name,t),t})))},a=function(t){r(!h[t],"Rule conflict in",v.type,t);var n=v.modifiers[t];r("function"==typeof n,"Invalid modifier definition for",v.type,t);var i=function(n){return this.rule(Zt({},t,n))};h[t]=i,p[t]=n},c=g.getPrototypeOf(t),h=e(c),f=t.hf(g.create(h)),v=g.assign({},n);delete v.base,h.sf=v;var l=c.sf||{};v.messages=s.merge(l.messages,v.messages),v.properties=g.assign({},l.properties,v.properties),f.type=v.type,v.flags=g.assign({},l.flags,v.flags);var d=g.assign({},l.terms);if(v.terms)for(var w in v.terms){var y=v.terms[w];r(void 0===f.$_terms[w],"Invalid term override for",v.type,w),f.$_terms[w]=y.init,d[w]=y}v.terms=d,v.args||(v.args=l.args),v.prepare=o.prepare(v.prepare,l.prepare),v.coerce&&("function"==typeof v.coerce&&(v.coerce={method:v.coerce}),v.coerce.from&&!Array.isArray(v.coerce.from)&&(v.coerce={method:v.coerce.method,from:[].concat(v.coerce.from)})),v.coerce=o.coerce(v.coerce,l.coerce),v.validate=o.validate(v.validate,l.validate);var m=g.assign({},l.rules);if(v.rules)for(var A in v.rules)i(A);v.rules=m;var p=g.assign({},l.modifiers);if(v.modifiers)for(var _ in v.modifiers)a(_);if(v.modifiers=p,v.overrides){for(var k in h.gf=c,f.$_super={},v.overrides)r(c[k],"Cannot override missing",k),v.overrides[k][u.symbols.parent]=c[k],f.$_super[k]=c[k].bind(f);g.assign(h,v.overrides)}v.cast=g.assign({},l.cast,v.cast);var b=g.assign({},l.manifest,v.manifest);return b.build=o.build(v.manifest&&v.manifest.build,l.manifest&&l.manifest.build),v.manifest=b,v.rebuild=o.rebuild(v.rebuild,l.rebuild),f},o.build=function(t,n){return t&&n?function(i,r){return n(t(i,r),r)}:t||n},o.coerce=function(t,n){return t&&n?{from:t.from&&n.from?jt(new Set(jt(t.from).concat(jt(n.from)))):null,method:function(i,r){var e;if((!n.from||n.from.includes(void 0===i?"undefined":x(i)))&&(e=n.method(i,r))){if(e.errors||void 0===e.value)return e;i=e.value}if(!t.from||t.from.includes(void 0===i?"undefined":x(i))){var u=t.method(i,r);if(u)return u}return e}}:t||n},o.prepare=function(t,n){return t&&n?function(i,r){var e=t(i,r);if(e){if(e.errors||void 0===e.value)return e;i=e.value}return n(i,r)||e}:t||n},o.rebuild=function(t,n){return t&&n?function(i){n(i),t(i)}:t||n},o.validate=function(t,n){return t&&n?function(i,r){var e=n(i,r);if(e){if(e.errors&&(!Array.isArray(e.errors)||e.errors.length))return e;i=e.value}return t(i,r)||e}:t||n}},5107:function(t,n,i){var r,e,u,s=i(375),o=i(8571),a=i(8652),c=i(8160),h=i(3292),f=i(6354),l=i(8901),d=i(9708),w=i(6133),y=i(3328),m=i(1152),A={types:{alternatives:i(4946),any:i(8068),array:i(546),boolean:i(4937),date:i(7500),function:i(390),link:i(8785),number:i(3832),object:i(8966),string:i(7417),symbol:i(8826)},aliases:{alt:"alternatives",bool:"boolean",func:"function"},root:function(){for(var t=function(t,n){var r=n[t];i[r]=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return s(!n.length||["alternatives","link","object"].includes(r),"The",r,"type does not allow arguments"),A.generate(this,A.types[r],n)}},n=function(t,n){var r=n[t];i[r]=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var e;return(e=this.any())[r].apply(e,jt(n))}},i={Nf:new Set(g.keys(A.types))},r=0,e=i.Nf;r<e.length;r++)t(r,e);for(var u=0,o=["allow","custom","disallow","equal","exist","forbidden","invalid","not","only","optional","options","prefs","preferences","required","strip","valid","when"];u<o.length;u++)n(u,o);for(var a in g.assign(i,A.methods),A.aliases){var c=A.aliases[a];i[a]=i[c]}return i.x=i.expression,m.setup&&m.setup(i),i}};A.methods={ValidationError:f.ValidationError,version:c.version,cache:a.provider,assert:function(t,n){for(var i=arguments.length,r=new Array(i>2?i-2:0),e=2;e<i;e++)r[e-2]=arguments[e];A.assert(t,n,!0,r)},attempt:function(t,n){for(var i=arguments.length,r=new Array(i>2?i-2:0),e=2;e<i;e++)r[e-2]=arguments[e];return A.assert(t,n,!1,r)},build:function(t){return s("function"==typeof d.build,"Manifest functionality disabled"),d.build(this,t)},checkPreferences:function(t){c.checkPreferences(t)},compile:function(t,n){return h.compile(this,t,n)},defaults:function(t){var n=function(n,r){var e=r[n],u=t(i[e]());s(c.isSchema(u),"modifier must return a valid schema object"),i[e]=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return A.generate(this,u,n)}};s("function"==typeof t,"modifier must be a function");for(var i=g.assign({},this),r=0,e=i.Nf;r<e.length;r++)n(r,e);return i},expression:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return Jt(y,jt(n))},extend:function(){for(var t,n=function(n){var i,r=function(t){var n=c[t];s(void 0===a[n.type]||a.Nf.has(n.type),"Cannot override name",n.type);var r=n.base||i.any(),e=l.type(r,n);a.Nf.add(n.type),a[n.type]=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return A.generate(this,e,n)}},o=e[n];"function"==typeof o&&(o=o(a)),t.assert(o,u.extension);for(var c=A.expandExtension(o,a),h=0;h<c.length;h++)i=t,r(h)},r=arguments.length,e=new Array(r),o=0;o<r;o++)e[o]=arguments[o];c.verifyFlat(e,"extend"),u=u||i(3378),s(e.length,"You need to provide at least one extension"),this.assert(e,u.extensions);var a=g.assign({},this);a.Nf=new Set(a.Nf);for(var h=0;h<e.length;h++)t=this,n(h);return a},isError:f.ValidationError.isError,isExpression:y.isTemplate,isRef:w.isRef,isSchema:c.isSchema,in:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(r=w).in.apply(r,jt(n))},override:c.symbols.override,ref:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=w).create.apply(e,jt(n))},types:function(){for(var t={},n=0,i=this.Nf;n<i.length;n++){var r=i[n];t[r]=this[r]()}for(var e in A.aliases)t[e]=this[e]();return t}},A.assert=function(t,n,i,r){var e=r[0]instanceof v||"string"==typeof r[0]?r[0]:null,u=null!==e?r[1]:r[0],s=n.validate(t,c.preferences({errors:{stack:!0}},u||{})),a=s.error;if(!a)return s.value;if(e instanceof v)throw e;var h=i&&"function"==typeof a.annotate?a.annotate():a.message;throw a instanceof f.ValidationError==0&&(a=o(a)),a.message=e?"".concat(e," ").concat(h):h,a},A.generate=function(t,n,i){var r;return s(t,"Must be invoked on a Joi instance."),n.$_root=t,n.sf.args&&i.length?(r=n.sf).args.apply(r,[n].concat(jt(i))):n},A.expandExtension=function(t,n){if("string"==typeof t.type)return[t];for(var i=[],r=0,e=n.Nf;r<e.length;r++){var u=e[r];if(t.type.test(u)){var s=g.assign({},t);s.type=u,s.base=n[u](),i.push(s)}}return i},t.exports=A.root()},6914:function(t,n,i){var r=i(375),e=i(8571),u=i(3328);n.compile=function(t,n){if("string"==typeof t)return r(!n,"Cannot set single message string"),new u(t);if(u.isTemplate(t))return r(!n,"Cannot set single message template"),t;for(var i in r("object"==typeof t&&!Array.isArray(t),"Invalid message options"),n=n?e(n):{},t){var s=t[i];if("root"===i||u.isTemplate(s))n[i]=s;else if("string"!=typeof s){r("object"==typeof s&&!Array.isArray(s),"Invalid message for",i);var o=i;for(i in n[o]=n[o]||{},s){var a=s[i];"root"===i||u.isTemplate(a)?n[o][i]=a:(r("string"==typeof a,"Invalid message for",i,"in",o),n[o][i]=new u(a))}}else n[i]=new u(s)}return n},n.decompile=function(t){var n={};for(var i in t){var r=t[i];if("root"!==i)if(u.isTemplate(r))n[i]=r.describe({compact:!0});else{var e=i;for(i in n[e]={},r){var s=r[i];"root"!==i?n[e][i]=s.describe({compact:!0}):n[e].root=s}}else n.root=r}return n},n.merge=function(t,i){if(!t)return n.compile(i);if(!i)return t;if("string"==typeof i)return new u(i);if(u.isTemplate(i))return i;var s=e(t);for(var o in i){var a=i[o];if("root"===o||u.isTemplate(a))s[o]=a;else if("string"!=typeof a){r("object"==typeof a&&!Array.isArray(a),"Invalid message for",o);var c=o;for(o in s[c]=s[c]||{},a){var h=a[o];"root"===o||u.isTemplate(h)?s[c][o]=h:(r("string"==typeof h,"Invalid message for",o,"in",c),s[c][o]=new u(h))}}else s[o]=new u(a)}return s}},2294:function(t,n,i){var r=i(375),e=i(8160),u=i(6133),s={};n.Ids=s.Ids=function(){function t(){this.If=new Map,this.Df=new Map,this.Ef=!1}var n=t.prototype;return n.clone=function(){var t=new s.Ids;return t.If=new Map(this.If),t.Df=new Map(this.Df),t.Ef=this.Ef,t},n.concat=function(t){t.Ef&&(this.Ef=!0);for(var n=0,i=t.If.entries();n<i.length;n++){var e=Gt(i[n],2),u=e[0],s=e[1];r(!this.Df.has(u),"Schema id conflicts with existing key:",u),this.If.set(u,s)}for(var o=0,a=t.Df.entries();o<a.length;o++){var c=Gt(a[o],2),h=c[0],f=c[1];r(!this.If.has(h),"Schema key conflicts with existing id:",h),this.Df.set(h,f)}},n.fork=function(t,n,i){var u=this.kf(t);u.push({schema:i});var o=u.shift(),a={id:o.id,schema:n(o.schema)};r(e.isSchema(a.schema),"adjuster function failed to return a joi schema type");for(var c=0;c<u.length;c++){var h=u[c];a={id:h.id,schema:s.fork(h.schema,a.id,a.schema)}}return a.schema},n.labels=function(t,n){void 0===n&&(n=[]);var i=t[0],r=this.Lf(i);if(!r)return jt(n).concat(jt(t)).join(".");var e=t.slice(1);return n=jt(n).concat([r.schema.Kd.label||i]),e.length?r.schema.Vd.labels(e,n):n.join(".")},n.reach=function(t,n){void 0===n&&(n=[]);var i=t[0],e=this.Lf(i);r(e,"Schema does not contain path",jt(n).concat(jt(t)).join("."));var u=t.slice(1);return u.length?e.schema.Vd.reach(u,jt(n).concat([i])):e.schema},n.register=function(t,n){var i=(void 0===n?{}:n).key;if(t&&e.isSchema(t)){(t.$_property("schemaChain")||t.Vd.Ef)&&(this.Ef=!0);var u=t.Kd.id;if(u){var s=this.If.get(u);r(!s||s.schema===t,"Cannot add different schemas with the same id:",u),r(!this.Df.has(u),"Schema id conflicts with existing key:",u),this.If.set(u,{schema:t,id:u})}i&&(r(!this.Df.has(i),"Schema already contains key:",i),r(!this.If.has(i),"Schema key conflicts with existing id:",i),this.Df.set(i,{schema:t,id:i}))}},n.reset=function(){this.If=new Map,this.Df=new Map,this.Ef=!1},n.kf=function(t,n,i){void 0===n&&(n=[]),void 0===i&&(i=[]);var e=t[0],u=this.Lf(e);r(u,"Schema does not contain path",jt(n).concat(jt(t)).join(".")),i=[u].concat(jt(i));var s=t.slice(1);return s.length?u.schema.Vd.kf(s,jt(n).concat([e]),i):i},n.Lf=function(t){return this.If.get(t)||this.Df.get(t)},t}(),s.fork=function(t,i,r){var e=n.schema(t,{each:function(t,n){var e=n.key;if(i===(t.Kd.id||e))return r},ref:!1});return e?e.$_mutateRebuild():t},n.schema=function(t,n){var i;for(var r in t.Kd)if("_"!==r[0]){var e=s.scan(t.Kd[r],{source:"flags",name:r},n);void 0!==e&&((i=i||t.clone()).Kd[r]=e)}for(var u=0;u<t.Jd.length;++u){var o=t.Jd[u],a=s.scan(o.args,{source:"rules",name:o.name},n);if(void 0!==a){i=i||t.clone();var c=g.assign({},o);c.args=a,i.Jd[u]=c,i.$d.get(o.name)===o&&i.$d.set(o.name,c)}}for(var h in t.$_terms)if("_"!==h[0]){var f=s.scan(t.$_terms[h],{source:"terms",name:h},n);void 0!==f&&((i=i||t.clone()).$_terms[h]=f)}return i},s.scan=function(t,n,i,r,o){var a=r||[];if(null!==t&&"object"==typeof t){var c;if(Array.isArray(t)){for(var h=0;h<t.length;++h){var f="terms"===n.source&&"keys"===n.name&&t[h].key,v=s.scan(t[h],n,i,[h].concat(jt(a)),f);void 0!==v&&((c=c||t.slice())[h]=v)}return c}if(!1!==i.schema&&e.isSchema(t)||!1!==i.ref&&u.isRef(t)){var l=i.each(t,M(b({},n),{path:a,key:o}));return l===t?void 0:l}for(var d in t)if("_"!==d[0]){var w=s.scan(t[d],n,i,[d].concat(jt(a)),o);void 0!==w&&((c=c||g.assign({},t))[d]=w)}return c}}},6133:function(t,i,r){var e,u=r(375),s=r(8571),o=r(9621),a=r(8160),c={symbol:n("ref"),defaults:{adjust:null,in:!1,iterables:null,map:null,separator:".",type:"value"}};i.create=function(t,n){void 0===n&&(n={}),u("string"==typeof t,"Invalid reference key:",t),a.assertOptions(n,["adjust","ancestor","in","iterables","map","prefix","render","separator"]),u(!n.prefix||"object"==typeof n.prefix,"options.prefix must be of type object");var i=g.assign({},c.defaults,n);delete i.prefix;var r=i.separator,e=c.context(t,r,n.prefix);if(i.type=e.type,t=e.key,"value"===i.type)if(e.root&&(u(!r||t[0]!==r,"Cannot specify relative path with root prefix"),i.ancestor="root",t||(t=null)),r&&r===t)t=null,i.ancestor=0;else if(void 0!==i.ancestor)u(!r||!t||t[0]!==r,"Cannot combine prefix with ancestor option");else{var s=Gt(c.ancestor(t,r),2),o=s[0],h=s[1];h&&""===(t=t.slice(h))&&(t=null),i.ancestor=o}return i.path=r?null===t?[]:t.split(r):[t],new c.Ref(i)},i.in=function(t,n){return void 0===n&&(n={}),i.create(t,M(b({},n),{in:!0}))},i.isRef=function(t){return!!t&&!!t[a.symbols.ref]},c.Ref=function(){function t(t){u("object"==typeof t,"Invalid reference construction"),a.assertOptions(t,["adjust","ancestor","in","iterables","map","path","render","separator","type","depth","key","root","display"]),u([!1,void 0].includes(t.separator)||"string"==typeof t.separator&&1===t.separator.length,"Invalid separator"),u(!t.adjust||"function"==typeof t.adjust,"options.adjust must be a function"),u(!t.map||Array.isArray(t.map),"options.map must be an array"),u(!t.map||!t.adjust,"Cannot set both map and adjust options"),g.assign(this,c.defaults,t),u("value"===this.type||void 0===this.ancestor,"Non-value references cannot reference ancestors"),Array.isArray(this.map)&&(this.map=new Map(this.map)),this.depth=this.path.length,this.key=this.path.length?this.path.join(this.separator):null,this.root=this.path[0],this.updateDisplay()}var n=t.prototype;return n.resolve=function(t,n,i,r,e){return void 0===e&&(e={}),u(!this.in||e.in,"Invalid in() reference usage"),"global"===this.type?this.lf(i.context,n,e):"local"===this.type?this.lf(r,n,e):this.ancestor?"root"===this.ancestor?this.lf(n.ancestors[n.ancestors.length-1],n,e):(u(this.ancestor<=n.ancestors.length,"Invalid reference exceeds the schema root:",this.display),this.lf(n.ancestors[this.ancestor-1],n,e)):this.lf(t,n,e)},n.lf=function(t,n,i){var r;if("value"===this.type&&n.mainstay.shadow&&!1!==i.shadow&&(r=n.mainstay.shadow.get(this.absolute(n))),void 0===r&&(r=o(t,this.path,{iterables:this.iterables,functions:!0})),this.adjust&&(r=this.adjust(r)),this.map){var e=this.map.get(r);void 0!==e&&(r=e)}return n.mainstay&&n.mainstay.tracer.resolve(n,this,r),r},n.toString=function(){return this.display},n.absolute=function(t){return jt(t.path.slice(0,-this.ancestor)).concat(jt(this.path))},n.clone=function(){return new c.Ref(this)},n.describe=function(){var t={path:this.path};"value"!==this.type&&(t.type=this.type),"."!==this.separator&&(t.separator=this.separator),"value"===this.type&&1!==this.ancestor&&(t.ancestor=this.ancestor),this.map&&(t.map=jt(this.map));for(var n=0,i=["adjust","iterables","render"];n<i.length;n++){var r=i[n];null!==this[r]&&void 0!==this[r]&&(t[r]=this[r])}return!1!==this.in&&(t.in=!0),{ref:t}},n.updateDisplay=function(){var t=null!==this.key?this.key:"";if("value"===this.type)if(this.separator)if(this.ancestor)if("root"!==this.ancestor)if(1!==this.ancestor){var n=new Array(this.ancestor+1).fill(this.separator).join("");this.display="ref:".concat(n).concat(t||"")}else this.display="ref:".concat(t||"..");else this.display="ref:root:".concat(t);else this.display="ref:".concat(this.separator).concat(t);else this.display="ref:".concat(t);else this.display="ref:".concat(this.type,":").concat(t)},t}(),c.Ref.prototype[a.symbols.ref]=!0,i.build=function(t){return"value"===(t=g.assign({},c.defaults,t)).type&&void 0===t.ancestor&&(t.ancestor=1),new c.Ref(t)},c.context=function(t,n,i){if(void 0===i&&(i={}),t=t.trim(),i){var r=void 0===i.global?"$":i.global;if(r!==n&&t.startsWith(r))return{key:t.slice(r.length),type:"global"};var e=void 0===i.local?"#":i.local;if(e!==n&&t.startsWith(e))return{key:t.slice(e.length),type:"local"};var u=void 0===i.root?"/":i.root;if(u!==n&&t.startsWith(u))return{key:t.slice(u.length),type:"value",root:!0}}return{key:t,type:"value"}},c.ancestor=function(t,n){if(!n)return[1,0];if(t[0]!==n)return[1,0];if(t[1]!==n)return[0,1];for(var i=2;t[i]===n;)++i;return[i-1,i]},i.toSibling=0,i.toParent=1,i.Manager=function(){function t(){this.refs=[]}var n=t.prototype;return n.register=function(t,n){if(t)if(n=void 0===n?i.toParent:n,Array.isArray(t))for(var u=0;u<t.length;u++){var s=t[u];this.register(s,n)}else if(a.isSchema(t))for(var o=0,c=t.Hd.refs;o<c.length;o++){var h=c[o];h.ancestor-n>=0&&this.refs.push({ancestor:h.ancestor-n,root:h.root})}else i.isRef(t)&&"value"===t.type&&t.ancestor-n>=0&&this.refs.push({ancestor:t.ancestor-n,root:t.root}),(e=e||r(3328)).isTemplate(t)&&this.register(t.refs(),n)},n.clone=function(){var t=new i.Manager;return t.refs=s(this.refs),t},n.reset=function(){this.refs=[]},n.roots=function(){return this.refs.filter((function(t){return!t.ancestor})).map((function(t){return t.root}))},At(t,[{key:"length",get:function(){return this.refs.length}}]),t}()},3378:function(t,n,i){var r=i(5107),e={};e.wrap=r.string().min(1).max(2).allow(!1),n.preferences=r.object({allowUnknown:r.boolean(),abortEarly:r.boolean(),artifacts:r.boolean(),cache:r.boolean(),context:r.object(),convert:r.boolean(),dateFormat:r.valid("date","iso","string","time","utc"),debug:r.boolean(),errors:{escapeHtml:r.boolean(),label:r.valid("path","key",!1),language:[r.string(),r.object().ref()],render:r.boolean(),stack:r.boolean(),wrap:{label:e.wrap,array:e.wrap,string:e.wrap}},externals:r.boolean(),messages:r.object(),noDefaults:r.boolean(),nonEnumerables:r.boolean(),presence:r.valid("required","optional","forbidden"),skipFunctions:r.boolean(),stripUnknown:r.object({arrays:r.boolean(),objects:r.boolean()}).or("arrays","objects").allow(!0,!1),warnings:r.boolean()}).strict(),e.nameRx=/^[a-zA-Z0-9]\w*$/,e.rule=r.object({alias:r.array().items(r.string().pattern(e.nameRx)).single(),args:r.array().items(r.string(),r.object({name:r.string().pattern(e.nameRx).required(),ref:r.boolean(),assert:r.alternatives([r.function(),r.object().schema()]).conditional("ref",{is:!0,then:r.required()}),normalize:r.function(),message:r.string().when("assert",{is:r.function(),then:r.required()})})),convert:r.boolean(),manifest:r.boolean(),method:r.function().allow(!1),multi:r.boolean(),validate:r.function()}),n.extension=r.object({type:r.alternatives([r.string(),r.object().regex()]).required(),args:r.function(),cast:r.object().pattern(e.nameRx,r.object({from:r.function().maxArity(1).required(),to:r.function().minArity(1).maxArity(2).required()})),base:r.object().schema().when("type",{is:r.object().regex(),then:r.forbidden()}),coerce:[r.function().maxArity(3),r.object({method:r.function().maxArity(3).required(),from:r.array().items(r.string()).single()})],flags:r.object().pattern(e.nameRx,r.object({setter:r.string(),default:r.any()})),manifest:{build:r.function().arity(2)},messages:[r.object(),r.string()],modifiers:r.object().pattern(e.nameRx,r.function().minArity(1).maxArity(2)),overrides:r.object().pattern(e.nameRx,r.function()),prepare:r.function().maxArity(3),rebuild:r.function().arity(1),rules:r.object().pattern(e.nameRx,e.rule),terms:r.object().pattern(e.nameRx,r.object({init:r.array().allow(null).required(),manifest:r.object().pattern(/.+/,[r.valid("schema","single"),r.object({mapped:r.object({from:r.string().required(),to:r.string().required()}).required()})])})),validate:r.function().maxArity(3)}).strict(),n.extensions=r.array().items(r.object(),r.function().arity(1)).strict(),e.desc={buffer:r.object({buffer:r.string()}),func:r.object({function:r.function().required(),options:{literal:!0}}),override:r.object({override:!0}),ref:r.object({ref:r.object({type:r.valid("value","global","local"),path:r.array().required(),separator:r.string().length(1).allow(!1),ancestor:r.number().min(0).integer().allow("root"),map:r.array().items(r.array().length(2)).min(1),adjust:r.function(),iterables:r.boolean(),in:r.boolean(),render:r.boolean()}).required()}),regex:r.object({regex:r.string().min(3)}),special:r.object({special:r.valid("deep").required()}),template:r.object({template:r.string().required(),options:r.object()}),value:r.object({value:r.alternatives([r.object(),r.array()]).required()})},e.desc.entity=r.alternatives([r.array().items(r.link("...")),r.boolean(),r.function(),r.number(),r.string(),e.desc.buffer,e.desc.func,e.desc.ref,e.desc.regex,e.desc.special,e.desc.template,e.desc.value,r.link("/")]),e.desc.values=r.array().items(null,r.boolean(),r.function(),r.number().allow(1/0,-1/0),r.string().allow(""),r.symbol(),e.desc.buffer,e.desc.func,e.desc.override,e.desc.ref,e.desc.regex,e.desc.template,e.desc.value),e.desc.messages=r.object().pattern(/.+/,[r.string(),e.desc.template,r.object().pattern(/.+/,[r.string(),e.desc.template])]),n.description=r.object({type:r.string().required(),flags:r.object({cast:r.string(),default:r.any(),description:r.string(),empty:r.link("/"),failover:e.desc.entity,id:r.string(),label:r.string(),only:!0,presence:["optional","required","forbidden"],result:["raw","strip"],strip:r.boolean(),unit:r.string()}).unknown(),preferences:{allowUnknown:r.boolean(),abortEarly:r.boolean(),artifacts:r.boolean(),cache:r.boolean(),convert:r.boolean(),dateFormat:["date","iso","string","time","utc"],errors:{escapeHtml:r.boolean(),label:["path","key"],language:[r.string(),e.desc.ref],wrap:{label:e.wrap,array:e.wrap}},externals:r.boolean(),messages:e.desc.messages,noDefaults:r.boolean(),nonEnumerables:r.boolean(),presence:["required","optional","forbidden"],skipFunctions:r.boolean(),stripUnknown:r.object({arrays:r.boolean(),objects:r.boolean()}).or("arrays","objects").allow(!0,!1),warnings:r.boolean()},allow:e.desc.values,invalid:e.desc.values,rules:r.array().min(1).items({name:r.string().required(),args:r.object().min(1),keep:r.boolean(),message:[r.string(),e.desc.messages],warn:r.boolean()}),keys:r.object().pattern(/.*/,r.link("/")),link:e.desc.ref}).pattern(/^[a-z]\w*$/,r.any())},493:function(t,i,r){var e=r(8571),u=r(9621),s=r(8160),o={value:n("value")};t.exports=o.State=function(){function t(t,n,i){this.path=t,this.ancestors=n,this.mainstay=i.mainstay,this.schemas=i.schemas,this.debug=null}var n=t.prototype;return n.localize=function(t,n,i){void 0===n&&(n=null),void 0===i&&(i=null);var r=new o.State(t,n,this);return i&&r.schemas&&(r.schemas=[o.schemas(i)].concat(jt(r.schemas))),r},n.nest=function(t,n){var i=new o.State(this.path,this.ancestors,this);return i.schemas=i.schemas&&[o.schemas(t)].concat(jt(i.schemas)),i.debug=n,i},n.shadow=function(t,n){this.mainstay.shadow=this.mainstay.shadow||new o.Shadow,this.mainstay.shadow.set(this.path,t,n)},n.snapshot=function(){this.mainstay.shadow&&(this.xf=e(this.mainstay.shadow.node(this.path))),this.mainstay.snapshot()},n.restore=function(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this.xf),this.xf=void 0),this.mainstay.restore()},n.commit=function(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this.xf),this.xf=void 0),this.mainstay.commit()},t}(),o.schemas=function(t){return s.isSchema(t)?{schema:t}:t},o.Shadow=function(){function t(){this.tf=null}var n=t.prototype;return n.set=function(t,n,i){if(t.length&&("strip"!==i||"number"!=typeof t[t.length-1])){this.tf=this.tf||new Map;for(var r=this.tf,e=0;e<t.length;++e){var u=t[e],s=r.get(u);s||(s=new Map,r.set(u,s)),r=s}r[o.value]=n}},n.get=function(t){var n=this.node(t);if(n)return n[o.value]},n.node=function(t){if(this.tf)return u(this.tf,t,{iterables:!0})},n.override=function(t,n){if(this.tf){var i=t.slice(0,-1),r=t[t.length-1],e=u(this.tf,i,{iterables:!0});n?e.set(r,n):e&&e.delete(r)}},t}()},3328:function(t,i,r){var e=r(375),u=r(8571),s=r(5277),o=r(1447),a=r(8160),c=r(6354),h=r(6133),f={symbol:n("template"),opens:new Array(1e3).join("\0"),closes:new Array(1e3).join("\x01"),dateFormat:{date:Date.prototype.toDateString,iso:Date.prototype.toISOString,string:Date.prototype.toString,time:Date.prototype.toTimeString,utc:Date.prototype.toUTCString}};t.exports=f.Template=function(){function t(t,n){if(e("string"==typeof t,"Template source must be a string"),e(!t.includes("\0")&&!t.includes("\x01"),"Template source cannot contain reserved control characters"),this.source=t,this.rendered=t,this.Tf=null,n){var i=n,r=i.functions,s=T(i,["functions"]);this.jf=g.keys(s).length?u(s):void 0,this.Rf=r,this.Rf&&(e(g.keys(this.Rf).every((function(t){return"string"==typeof t})),"Functions keys must be strings"),e(g.values(this.Rf).every((function(t){return"function"==typeof t})),"Functions values must be functions"))}else this.jf=void 0,this.Rf=void 0;this.Cf()}var n=t.prototype;return n.Cf=function(){if(this.source.includes("{")){var t=f.encode(this.source),n=f.split(t),i=!1,r=[],e=n.shift();e&&r.push(e);for(var u=0;u<n.length;u++){var s=n[u],o="{"!==s[0],a=o?"}":"}}",c=s.indexOf(a);if(-1!==c&&"{"!==s[1]){var h=s.slice(o?0:1,c),v=":"===h[0];v&&(h=h.slice(1));var l=this.Of(f.decode(h),{raw:o,wrapped:v});r.push(l),"string"!=typeof l&&(i=!0);var d=s.slice(c+a.length);d&&r.push(f.decode(d))}else r.push("{".concat(f.decode(s)))}i?this.Tf=r:this.rendered=r.join("")}},n.describe=function(t){if(void 0===t&&(t={}),!this.jf&&t.compact)return this.source;var n={template:this.source};return this.jf&&(n.options=this.jf),this.Rf&&(n.functions=this.Rf),n},n.isDynamic=function(){return!!this.Tf},n.refs=function(){var t;if(this.Tf){for(var n=[],i=0,r=this.Tf;i<r.length;i++){var e=r[i];"string"!=typeof e&&(t=n).push.apply(t,jt(e.refs))}return n}},n.resolve=function(t,n,i,r){return this.Tf&&1===this.Tf.length?this.Pf(this.Tf[0],t,n,i,r,{}):this.render(t,n,i,r)},n.Pf=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;return t.ref?(e=t.ref).resolve.apply(e,jt(i)):t.formula.evaluate(i)},n.render=function(t,n,i,r,e){if(void 0===e&&(e={}),!this.isDynamic())return this.rendered;for(var u=[],o=0,a=this.Tf;o<a.length;o++){var c=a[o];if("string"==typeof c)u.push(c);else{var h=this.Pf(c,t,n,i,r,e),v=f.stringify(h,t,n,i,r,e);if(void 0!==v){var l=c.raw||!1===(e.errors&&e.errors.escapeHtml)?v:s(v);u.push(f.wrap(l,c.wrapped&&i.errors.wrap.label))}}}return u.join("")},n.Of=function(t,n){var i=this,r=n.raw,e=n.wrapped,u=[],s=function(t){var n=h.create(t,i.jf);return u.push(n),function(t){var i,r=(i=n).resolve.apply(i,jt(t));return void 0!==r?r:null}};try{var a=this.Rf?b(b({},f.functions),this.Rf):f.functions,c=new o.Parser(t,{reference:s,functions:a,constants:f.constants})}catch(n){throw n.message='Invalid template variable "'.concat(t,'" fails due to: ').concat(n.message),n}if(c.single){if("reference"===c.single.type){var v=u[0];return{ref:v,raw:r,refs:u,wrapped:e||"local"===v.type&&"label"===v.key}}return f.stringify(c.single.value)}return{formula:c,raw:r,refs:u}},n.toString=function(){return this.source},t.date=function(t,n){return f.dateFormat[n.dateFormat].call(t)},t.build=function(t){return new f.Template(t.template,t.options||t.functions?M(b({},t.options),{functions:t.functions}):void 0)},t.isTemplate=function(t){return!!t&&!!t[a.symbols.template]},t}(),f.Template.prototype[a.symbols.template]=!0,f.Template.prototype.isImmutable=!0,f.encode=function(t){return t.replace(/\\(\{+)/g,(function(t,n){return f.opens.slice(0,n.length)})).replace(/\\(\}+)/g,(function(t,n){return f.closes.slice(0,n.length)}))},f.decode=function(t){return t.replace(/\u0000/g,"{").replace(/\u0001/g,"}")},f.split=function(t){for(var n=[],i="",r=0;r<t.length;++r){var e=t[r];if("{"===e){for(var u="";r+1<t.length&&"{"===t[r+1];)u+="{",++r;n.push(i),i=u}else i+=e}return n.push(i),n},f.wrap=function(t,n){return n?1===n.length?"".concat(n).concat(t).concat(n):"".concat(n[0]).concat(t).concat(n[1]):t},f.stringify=function(t,n,i,r,e,u){void 0===u&&(u={});var s=void 0===t?"undefined":x(t),o=r&&r.errors&&r.errors.wrap||{},a=!1;if(h.isRef(t)&&t.render&&(a=t.in,t=t.resolve(n,i,r,e,b({in:t.in},u))),null===t)return"null";if("string"===s)return f.wrap(t,u.arrayItems&&o.string);if("number"===s||"function"===s||"symbol"===s)return t.toString();if("object"!==s)return JSON.stringify(t);if(t instanceof Date)return f.Template.date(t,r);if(t instanceof Map){for(var c=[],v=0,l=t.entries();v<l.length;v++){var d=Gt(l[v],2),g=d[0],w=d[1];c.push("".concat(g.toString()," -> ").concat(w.toString()))}t=c}if(!Array.isArray(t))return t.toString();for(var y=[],m=0;m<t.length;m++){var A=t[m];y.push(f.stringify(A,n,i,r,e,b({arrayItems:!0},u)))}return f.wrap(y.join(", "),!a&&o.array)},f.constants={true:!0,false:!1,null:null,second:1e3,minute:6e4,hour:36e5,day:864e5},f.functions={if:function(t,n,i){return t?n:i},length:function(t){return"string"==typeof t?t.length:t&&"object"==typeof t?Array.isArray(t)?t.length:g.keys(t).length:null},msg:function(t){var n=Gt(this,5),i=n[0],r=n[1],e=n[2],u=n[3],s=n[4],o=s.messages;if(!o)return"";var a=c.template(i,o[0],t,r,e)||c.template(i,o[1],t,r,e);return a?a.render(i,r,e,u,s):""},number:function(t){return"number"==typeof t?t:"string"==typeof t?m(t):"boolean"==typeof t?t?1:0:t instanceof Date?t.getTime():null}}},4946:function(t,n,i){var r,e,u=i(375),s=i(1687),o=i(8068),a=i(8160),c=i(3292),h=i(6354),f=i(6133),v={};t.exports=o.extend({type:"alternatives",flags:{match:{default:"any"}},terms:{matches:{init:[],register:f.toSibling}},args:function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),u=1;u<n;u++)i[u-1]=arguments[u];return 1===i.length&&Array.isArray(i[0])?(r=t).try.apply(r,jt(i[0])):(e=t).try.apply(e,jt(i))},validate:function(t,n){var i=n.schema,r=n.error,e=n.state,u=n.prefs;if(i.Kd.match){for(var o=[],a=[],c=0;c<i.$_terms.matches.length;++c){var f=i.$_terms.matches[c],l=e.nest(f.schema,"match.".concat(c));l.snapshot();var d=f.schema.$_validate(t,l,u);d.errors?(a.push(d.errors),l.restore()):(o.push(d.value),l.commit())}if(0===o.length)return{errors:r("alternatives.any",{details:a.map((function(t){return h.details(t,{override:!1})}))})};if("one"===i.Kd.match)return 1===o.length?{value:o[0]}:{errors:r("alternatives.one")};if(o.length!==i.$_terms.matches.length)return{errors:r("alternatives.all",{details:a.map((function(t){return h.details(t,{override:!1})}))})};var g=function(t){return t.$_terms.matches.some((function(t){return"object"===t.schema.type||"alternatives"===t.schema.type&&g(t.schema)}))};return g(i)?{value:o.reduce((function(t,n){return s(t,n,{mergeArrays:!1})}))}:{value:o[o.length-1]}}for(var w=[],y=0;y<i.$_terms.matches.length;++y){var m=i.$_terms.matches[y];if(m.schema){var A=e.nest(m.schema,"match.".concat(y));A.snapshot();var p=m.schema.$_validate(t,A,u);if(!p.errors)return A.commit(),p;A.restore(),w.push({schema:m.schema,reports:p.errors})}else for(var _=m.ref?m.ref.resolve(t,e,u):t,k=m.is?[m]:m.switch,b=0;b<k.length;++b){var M=k[b],T=M.is,N=M.then,D=M.otherwise,I="match.".concat(y).concat(m.switch?"."+b:"");if(T.$_match(_,e.nest(T,"".concat(I,".is")),u)){if(N)return N.$_validate(t,e.nest(N,"".concat(I,".then")),u)}else if(D)return D.$_validate(t,e.nest(D,"".concat(I,".otherwise")),u)}}return v.errors(w,n)},rules:{conditional:{method:function(t,n){u(!this.Kd.zf,"Unreachable condition"),u(!this.Kd.match,"Cannot combine match mode",this.Kd.match,"with conditional rule"),u(void 0===n.break,"Cannot use break option with alternatives conditional");for(var i=this.clone(),r=c.when(i,t,n),e=r.is?[r]:r.switch,s=0;s<e.length;s++){var o=e[s];if(o.then&&o.otherwise){i.$_setFlag("zf",!0,{clone:!1});break}}return i.$_terms.matches.push(r),i.$_mutateRebuild()}},match:{method:function(t){if(u(["any","one","all"].includes(t),"Invalid alternatives match mode",t),"any"!==t)for(var n=0,i=this.$_terms.matches;n<i.length;n++){var r=i[n];u(r.schema,"Cannot combine match mode",t,"with conditional rules")}return this.$_setFlag("match",t)}},try:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];u(n.length,"Missing alternative schemas"),a.verifyFlat(n,"try"),u(!this.Kd.zf,"Unreachable condition");for(var r=this.clone(),e=0;e<n.length;e++){var s=n[e];r.$_terms.matches.push({schema:r.$_compile(s)})}return r.$_mutateRebuild()}}},overrides:{label:function(t){return this.$_parent("label",t).$_modify({each:function(n,i){return"is"!==i.path[0]&&"string"!=typeof n.Kd.label?n.label(t):void 0},ref:!1})}},rebuild:function(t){t.$_modify({each:function(n){a.isSchema(n)&&"array"===n.type&&t.$_setFlag("Bf",!0,{clone:!1})}})},manifest:{build:function(t,n){if(n.matches)for(var i=0,r=n.matches;i<r.length;i++){var e=r[i],u=e.schema,s=e.ref,o=e.is,a=e.not,c=e.then,h=e.otherwise;t=u?t.try(u):s?t.conditional(s,{is:o,then:c,not:a,otherwise:h,switch:e.switch}):t.conditional(o,{then:c,otherwise:h})}return t}},messages:{"alternatives.all":"{{#label}} does not match all of the required types","alternatives.any":"{{#label}} does not match any of the allowed types","alternatives.match":"{{#label}} does not match any of the allowed types","alternatives.one":"{{#label}} matches more than one allowed type","alternatives.types":"{{#label}} must be one of {{#types}}"}}),v.errors=function(t,n){var i=n.error,r=n.state;if(!t.length)return{errors:i("alternatives.any")};if(1===t.length)return{errors:t[0].reports};for(var e=new Set,u=[],s=0;s<t.length;s++){var o=t[s],a=o.reports,c=o.schema;if(a.length>1)return v.unmatched(t,i);var f=a[0];if(f instanceof h.Report==0)return v.unmatched(t,i);if(f.state.path.length===r.path.length)if("any.only"!==f.code){var l=Gt(f.code.split("."),2),d=l[0];"base"===l[1]?e.add(d):u.push({type:c.type,report:f})}else for(var g=0,w=f.local.valids;g<w.length;g++){var y=w[g];e.add(y)}else u.push({type:c.type,report:f})}return u.length?1===u.length?{errors:u[0].report}:v.unmatched(t,i):{errors:i("alternatives.types",{types:jt(e)})}},v.unmatched=function(t,n){for(var i,r=[],e=0;e<t.length;e++){var u=t[e];(i=r).push.apply(i,jt(u.reports))}return{errors:n("alternatives.match",h.details(r,{override:!1}))}}},8068:function(t,n,i){var r=i(375),e=i(7629),u=i(8160),s=i(6914);t.exports=e.extend({type:"any",flags:{only:{default:!1}},terms:{alterations:{init:null},examples:{init:null},externals:{init:null},metas:{init:[]},notes:{init:[]},shared:{init:null},tags:{init:[]},whens:{init:null}},rules:{custom:{method:function(t,n){return r("function"==typeof t,"Method must be a function"),r(void 0===n||n&&"string"==typeof n,"Description must be a non-empty string"),this.$_addRule({name:"custom",args:{method:t,description:n}})},validate:function(t,n,i){var r=i.method;try{return r(t,n)}catch(t){return n.error("any.custom",{error:t})}},args:["method","description"],multi:!0},messages:{method:function(t){return this.prefs({messages:t})}},shared:{method:function(t){r(u.isSchema(t)&&t.Kd.id,"Schema must be a schema with an id");var n=this.clone();return n.$_terms.shared=n.$_terms.shared||[],n.$_terms.shared.push(t),n.$_mutateRegister(t),n}},warning:{method:function(t,n){return r(t&&"string"==typeof t,"Invalid warning code"),this.$_addRule({name:"warning",args:{code:t,local:n},warn:!0})},validate:function(t,n,i){var r=i.code,e=i.local;return n.error(r,e)},args:["code","local"],multi:!0}},modifiers:{keep:function(t,n){void 0===n&&(n=!0),t.keep=n},message:function(t,n){t.message=s.compile(n)},warn:function(t,n){void 0===n&&(n=!0),t.warn=n}},manifest:{build:function(t,n){for(var i in n){var r=n[i];if(["examples","externals","metas","notes","tags"].includes(i))for(var e=0;e<r.length;e++){var u=r[e];t=t[i.slice(0,-1)](u)}else if("alterations"!==i)if("whens"!==i){if("shared"===i)for(var s=0;s<r.length;s++){var o=r[s];t=t.shared(o)}}else for(var a=0;a<r.length;a++){var c=r[a],h=c.ref,f=c.is,v=c.not,l=c.then,d=c.otherwise,g=c.concat;t=g?t.concat(g):h?t.when(h,{is:f,not:v,then:l,otherwise:d,switch:c.switch,break:c.break}):t.when(f,{then:l,otherwise:d,break:c.break})}else{for(var w={},y=0;y<r.length;y++){var m=r[y],A=m.target,p=m.adjuster;w[A]=p}t=t.alter(w)}}return t}},messages:{"any.custom":"{{#label}} failed custom validation because {{#error.message}}","any.default":"{{#label}} threw an error when running default method","any.failover":"{{#label}} threw an error when running failover method","any.invalid":"{{#label}} contains an invalid value","any.only":'{{#label}} must be {if(#valids.length == 1, "", "one of ")}{{#valids}}',"any.ref":"{{#label}} {{#arg}} references {{:#ref}} which {{#reason}}","any.required":"{{#label}} is required","any.unknown":"{{#label}} is not allowed"}})},546:function(t,n,i){var r,e,u=i(375),s=i(9474),o=i(9621),a=i(8068),c=i(8160),h=i(3292),f={};t.exports=a.extend({type:"array",flags:{single:{default:!1},sparse:{default:!1}},terms:{items:{init:[],manifest:"schema"},ordered:{init:[],manifest:"schema"},Uf:{init:[]},Qf:{init:[]},Ff:{init:[]}},coerce:{from:"object",method:function(t,n){var i=n.schema,r=n.state,e=n.prefs;if(Array.isArray(t)){var u=i.$_getRule("sort");return u?f.sort(i,t,u.args.options,r,e):void 0}}},validate:function(t,n){var i=n.schema,r=n.error;if(!Array.isArray(t)){if(i.Kd.single){var e=[t];return e[c.symbols.arraySingle]=!0,{value:e}}return{errors:r("array.base")}}if(i.$_getRule("items")||i.$_terms.externals)return{value:t.slice()}},rules:{has:{method:function(t){t=this.$_compile(t,{appendPath:!0});var n=this.$_addRule({name:"has",args:{schema:t}});return n.$_mutateRegister(t),n},validate:function(t,n,i){for(var r=n.state,e=n.prefs,u=n.error,s=i.schema,o=[t].concat(jt(r.ancestors)),a=0;a<t.length;++a){var c=r.localize(jt(r.path).concat([a]),o,s);if(s.$_match(t[a],c,e))return t}var h=s.Kd.label;return h?u("array.hasKnown",{patternLabel:h}):u("array.hasUnknown",null)},multi:!0},items:{method:function(){for(var t=function(t){var i=c.tryWithPath((function(){return n.$_compile(r[t])}),t,{append:!0});u.$_terms.items.push(i)},n=this,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];c.verifyFlat(r,"items");for(var u=this.$_addRule("items"),s=0;s<r.length;++s)t(s);return u.$_mutateRebuild()},validate:function(t,n){var i=n.schema,r=n.error,e=n.state,u=n.prefs,s=n.errorsArray,o=i.$_terms.Ff.slice(),a=i.$_terms.ordered.slice(),h=jt(i.$_terms.Qf).concat(jt(o)),v=!t[c.symbols.arraySingle];delete t[c.symbols.arraySingle];for(var l=s(),d=t.length,g=0;g<d;++g){var w=t[g],y=!1,m=!1,A=v?g:new Number(g),p=jt(e.path).concat([A]);if(i.Kd.sparse||void 0!==w){for(var _=[t].concat(jt(e.ancestors)),k=0,b=i.$_terms.Uf;k<b.length;k++){var M=b[k];if(M.$_match(w,e.localize(p,_,M),u,{presence:"ignore"})){if(l.push(r("array.excludes",{pos:g,value:w},e.localize(p))),u.abortEarly)return l;y=!0,a.shift();break}}if(!y){if(i.$_terms.ordered.length){if(a.length){var T,N=a.shift(),D=N.$_validate(w,e.localize(p,_,N),u);if(D.errors){if((T=l).push.apply(T,jt(D.errors)),u.abortEarly)return l}else if("strip"===N.Kd.result)f.fastSplice(t,g),--g,--d;else{if(!i.Kd.sparse&&void 0===D.value){if(l.push(r("array.sparse",{key:A,path:p,pos:g,value:void 0},e.localize(p))),u.abortEarly)return l;continue}t[g]=D.value}continue}if(!i.$_terms.items.length){if(l.push(r("array.orderedLength",{pos:g,limit:i.$_terms.ordered.length})),u.abortEarly)return l;break}}for(var I=[],E=o.length,S=0;S<E;++S){var L=e.localize(p,_,o[S]);L.snapshot();var j=o[S].$_validate(w,L,u);if(I[S]=j,!j.errors){if(L.commit(),t[g]=j.value,m=!0,f.fastSplice(o,S),--S,--E,!i.Kd.sparse&&void 0===j.value&&(l.push(r("array.sparse",{key:A,path:p,pos:g,value:void 0},e.localize(p))),u.abortEarly))return l;break}L.restore()}if(!m){var C=u.stripUnknown&&!!u.stripUnknown.arrays||!1;E=h.length;for(var x=0;x<h.length;x++){var O=h[x],z=void 0,R=o.indexOf(O);if(-1!==R)z=I[R];else{var B=e.localize(p,_,O);if(B.snapshot(),!(z=O.$_validate(w,B,u)).errors){B.commit(),"strip"===O.Kd.result?(f.fastSplice(t,g),--g,--d):i.Kd.sparse||void 0!==z.value?t[g]=z.value:(l.push(r("array.sparse",{key:A,path:p,pos:g,value:void 0},e.localize(p))),y=!0),m=!0;break}B.restore()}if(1===E){var P;if(C){f.fastSplice(t,g),--g,--d,m=!0;break}if((P=l).push.apply(P,jt(z.errors)),u.abortEarly)return l;y=!0;break}}if(!y&&(i.$_terms.Qf.length||i.$_terms.Ff.length)&&!m){if(C){f.fastSplice(t,g),--g,--d;continue}if(l.push(r("array.includes",{pos:g,value:w},e.localize(p))),u.abortEarly)return l}}}}else{if(l.push(r("array.sparse",{key:A,path:p,pos:g,value:void 0},e.localize(p))),u.abortEarly)return l;a.shift()}}return o.length&&f.fillMissedErrors(i,l,o,t,e,u),a.length&&(f.fillOrderedErrors(i,l,a,t,e,u),l.length||f.fillDefault(a,t,e,u)),l.length?l:t},priority:!0,manifest:!1},length:{method:function(t){return this.$_addRule({name:"length",args:{limit:t},operator:"="})},validate:function(t,n,i,r){var e=i.limit,u=r.name,s=r.operator,o=r.args;return c.compare(t.length,e,s)?t:n.error("array."+u,{limit:o.limit,value:t})},args:[{name:"limit",ref:!0,assert:c.limit,message:"must be a positive integer"}]},max:{method:function(t){return this.$_addRule({name:"max",method:"length",args:{limit:t},operator:"<="})}},min:{method:function(t){return this.$_addRule({name:"min",method:"length",args:{limit:t},operator:">="})}},ordered:{method:function(){for(var t=function(t){var i=c.tryWithPath((function(){return n.$_compile(r[t])}),t,{append:!0});f.validateSingle(i,u),u.$_mutateRegister(i),u.$_terms.ordered.push(i)},n=this,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];c.verifyFlat(r,"ordered");for(var u=this.$_addRule("items"),s=0;s<r.length;++s)t(s);return u.$_mutateRebuild()}},single:{method:function(t){var n=void 0===t||!!t;return u(!n||!this.Kd.Bf,"Cannot specify single rule when array has array items"),this.$_setFlag("single",n)}},sort:{method:function(t){void 0===t&&(t={}),c.assertOptions(t,["by","order"]);var n={order:t.order||"ascending"};return t.by&&(n.by=h.ref(t.by,{ancestor:0}),u(!n.by.ancestor,"Cannot sort by ancestor")),this.$_addRule({name:"sort",args:{options:n}})},validate:function(t,n,i){var r=n.error,e=n.state,u=n.prefs,s=n.schema,o=i.options,a=f.sort(s,t,o,e,u),c=a.value,h=a.errors;if(h)return h;for(var v=0;v<t.length;++v)if(t[v]!==c[v])return r("array.sort",{order:o.order,by:o.by?o.by.key:"value"});return t},convert:!0},sparse:{method:function(t){var n=void 0===t||!!t;return this.Kd.sparse===n?this:(n?this.clone():this.$_addRule("items")).$_setFlag("sparse",n,{clone:!1})}},unique:{method:function(t,n){void 0===n&&(n={}),u(!t||"function"==typeof t||"string"==typeof t,"comparator must be a function or a string"),c.assertOptions(n,["ignoreUndefined","separator"]);var i={name:"unique",args:{options:n,comparator:t}};if(t)if("string"==typeof t){var r=c.default(n.separator,".");i.path=r?t.split(r):[t]}else i.comparator=t;return this.$_addRule(i)},validate:function(t,n,i,r){for(var e=n.state,a=n.error,c=(n.schema,i.comparator),h=i.options,f=r.comparator,v=r.path,l={string:g.create(null),number:g.create(null),undefined:g.create(null),boolean:g.create(null),bigint:g.create(null),object:new Map,function:new Map,custom:new Map},d=f||s,w=h.ignoreUndefined,y=0;y<t.length;++y){var m=v?o(t[y],v):t[y],A=f?l.custom:l[void 0===m?"undefined":x(m)];if(u(A,"Failed to find unique map container for type",void 0===m?"undefined":x(m)),A instanceof Map){for(var p=A.entries(),_=void 0;!(_=p.next()).done;)if(d(_.value[0],m)){var k=e.localize(jt(e.path).concat([y]),[t].concat(jt(e.ancestors))),b={pos:y,value:t[y],dupePos:_.value[1],dupeValue:t[_.value[1]]};return v&&(b.path=c),a("array.unique",b,k)}A.set(m,y)}else{if((!w||void 0!==m)&&void 0!==A[m]){var M={pos:y,value:t[y],dupePos:A[m],dupeValue:t[A[m]]};return v&&(M.path=c),a("array.unique",M,e.localize(jt(e.path).concat([y]),[t].concat(jt(e.ancestors))))}A[m]=y}}return t},args:["comparator","options"],multi:!0}},cast:{set:{from:Array.isArray,to:function(t,n){return new Set(t)}}},rebuild:function(t){t.$_terms.Qf=[],t.$_terms.Uf=[],t.$_terms.Ff=[];for(var n=0,i=t.$_terms.items;n<i.length;n++){var r=i[n];f.validateSingle(r,t),"required"===r.Kd.presence?t.$_terms.Ff.push(r):"forbidden"===r.Kd.presence?t.$_terms.Uf.push(r):t.$_terms.Qf.push(r)}for(var e=0,u=t.$_terms.ordered;e<u.length;e++){var s=u[e];f.validateSingle(s,t)}},manifest:{build:function(t,n){return n.items&&(t=(r=t).items.apply(r,jt(n.items))),n.ordered&&(t=(e=t).ordered.apply(e,jt(n.ordered))),t}},messages:{"array.base":"{{#label}} must be an array","array.excludes":"{{#label}} contains an excluded value","array.hasKnown":"{{#label}} does not contain at least one required match for type {:#patternLabel}","array.hasUnknown":"{{#label}} does not contain at least one required match","array.includes":"{{#label}} does not match any of the allowed types","array.includesRequiredBoth":"{{#label}} does not contain {{#knownMisses}} and {{#unknownMisses}} other required value(s)","array.includesRequiredKnowns":"{{#label}} does not contain {{#knownMisses}}","array.includesRequiredUnknowns":"{{#label}} does not contain {{#unknownMisses}} required value(s)","array.length":"{{#label}} must contain {{#limit}} items","array.max":"{{#label}} must contain less than or equal to {{#limit}} items","array.min":"{{#label}} must contain at least {{#limit}} items","array.orderedLength":"{{#label}} must contain at most {{#limit}} items","array.sort":"{{#label}} must be sorted in {#order} order by {{#by}}","array.sort.mismatching":"{{#label}} cannot be sorted due to mismatching types","array.sort.unsupported":"{{#label}} cannot be sorted due to unsupported type {#type}","array.sparse":"{{#label}} must not be a sparse array item","array.unique":"{{#label}} contains a duplicate value"}}),f.fillMissedErrors=function(t,n,i,r,e,u){for(var s=[],o=0,a=0;a<i.length;a++){var c=i[a].Kd.label;c?s.push(c):++o}s.length?o?n.push(t.$_createError("array.includesRequiredBoth",r,{knownMisses:s,unknownMisses:o},e,u)):n.push(t.$_createError("array.includesRequiredKnowns",r,{knownMisses:s},e,u)):n.push(t.$_createError("array.includesRequiredUnknowns",r,{unknownMisses:o},e,u))},f.fillOrderedErrors=function(t,n,i,r,e,u){for(var s=[],o=0;o<i.length;o++){var a=i[o];"required"===a.Kd.presence&&s.push(a)}s.length&&f.fillMissedErrors(t,n,s,r,e,u)},f.fillDefault=function(t,n,i,r){for(var e,u=[],s=!0,o=t.length-1;o>=0;--o){var a=t[o],c=[n].concat(jt(i.ancestors)),h=a.$_validate(void 0,i.localize(i.path,c,a),r).value;if(s){if(void 0===h)continue;s=!1}u.unshift(h)}u.length&&(e=n).push.apply(e,jt(u))},f.fastSplice=function(t,n){for(var i=n;i<t.length;)t[i++]=t[i];--t.length},f.validateSingle=function(t,n){("array"===t.type||t.Kd.Bf)&&(u(!n.Kd.single,"Cannot specify array item with single rule enabled"),n.$_setFlag("Bf",!0,{clone:!1}))},f.sort=function(t,n,i,r,e){var u="ascending"===i.order?1:-1,s=-1*u,o=u,a=function(a,c){var h=f.compare(a,c,s,o);if(null!==h||(i.by&&(a=i.by.resolve(a,r,e),c=i.by.resolve(c,r,e)),null!==(h=f.compare(a,c,s,o))))return h;var v=void 0===a?"undefined":x(a);if(v!==(void 0===c?"undefined":x(c)))throw t.$_createError("array.sort.mismatching",n,null,r,e);if("number"!==v&&"string"!==v)throw t.$_createError("array.sort.unsupported",n,{type:v},r,e);return"number"===v?(a-c)*u:a<c?s:o};try{return{value:n.slice().sort(a)}}catch(t){return{errors:t}}},f.compare=function(t,n,i,r){return t===n?0:void 0===t?1:void 0===n?-1:null===t?r:null===n?i:null}},4937:function(t,n,i){var r,e,u=i(375),s=i(8068),o=i(8160),a=i(2036),c={isBool:function(t){return"boolean"==typeof t}};t.exports=s.extend({type:"boolean",flags:{sensitive:{default:!1}},terms:{falsy:{init:null,manifest:"values"},truthy:{init:null,manifest:"values"}},coerce:function(t,n){var i=n.schema;if("boolean"!=typeof t){if("string"==typeof t){var r=i.Kd.sensitive?t:t.toLowerCase();t="true"===r||"false"!==r&&t}return"boolean"!=typeof t&&(t=i.$_terms.truthy&&i.$_terms.truthy.has(t,null,null,!i.Kd.sensitive)||(!i.$_terms.falsy||!i.$_terms.falsy.has(t,null,null,!i.Kd.sensitive))&&t),{value:t}}},validate:function(t,n){var i=n.error;if("boolean"!=typeof t)return{value:t,errors:i("boolean.base")}},rules:{truthy:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];o.verifyFlat(n,"truthy");var r=this.clone();r.$_terms.truthy=r.$_terms.truthy||new a;for(var e=0;e<n.length;++e){var s=n[e];u(void 0!==s,"Cannot call truthy with undefined"),r.$_terms.truthy.add(s)}return r}},falsy:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];o.verifyFlat(n,"falsy");var r=this.clone();r.$_terms.falsy=r.$_terms.falsy||new a;for(var e=0;e<n.length;++e){var s=n[e];u(void 0!==s,"Cannot call falsy with undefined"),r.$_terms.falsy.add(s)}return r}},sensitive:{method:function(t){return void 0===t&&(t=!0),this.$_setFlag("sensitive",t)}}},cast:{number:{from:c.isBool,to:function(t,n){return t?1:0}},string:{from:c.isBool,to:function(t,n){return t?"true":"false"}}},manifest:{build:function(t,n){return n.truthy&&(t=(r=t).truthy.apply(r,jt(n.truthy))),n.falsy&&(t=(e=t).falsy.apply(e,jt(n.falsy))),t}},messages:{"boolean.base":"{{#label}} must be a boolean"}})},7500:function(t,n,i){var r=i(375),e=i(8068),u=i(8160),s=i(3328),o={isDate:function(t){return t instanceof Date}};t.exports=e.extend({type:"date",coerce:{from:["number","string"],method:function(t,n){var i=n.schema;return{value:o.parse(t,i.Kd.format)||t}}},validate:function(t,n){var i=n.schema,r=n.error,e=n.prefs;if(!(t instanceof Date)||A(t.getTime())){var u=i.Kd.format;return e.convert&&u&&"string"==typeof t?{value:t,errors:r("date.format",{format:u})}:{value:t,errors:r("date.base")}}},rules:{compare:{method:!1,validate:function(t,n,i,r){var e=i.date,s=r.name,o=r.operator,a=r.args,c="now"===e?Date.now():e.getTime();return u.compare(t.getTime(),c,o)?t:n.error("date."+s,{limit:a.date,value:t})},args:[{name:"date",ref:!0,normalize:function(t){return"now"===t?t:o.parse(t)},assert:function(t){return null!==t},message:"must have a valid date format"}]},format:{method:function(t){return r(["iso","javascript","unix"].includes(t),"Unknown date format",t),this.$_setFlag("format",t)}},greater:{method:function(t){return this.$_addRule({name:"greater",method:"compare",args:{date:t},operator:">"})}},iso:{method:function(){return this.format("iso")}},less:{method:function(t){return this.$_addRule({name:"less",method:"compare",args:{date:t},operator:"<"})}},max:{method:function(t){return this.$_addRule({name:"max",method:"compare",args:{date:t},operator:"<="})}},min:{method:function(t){return this.$_addRule({name:"min",method:"compare",args:{date:t},operator:">="})}},timestamp:{method:function(t){return void 0===t&&(t="javascript"),r(["javascript","unix"].includes(t),'"type" must be one of "javascript, unix"'),this.format(t)}}},cast:{number:{from:o.isDate,to:function(t,n){return t.getTime()}},string:{from:o.isDate,to:function(t,n){var i=n.prefs;return s.date(t,i)}}},messages:{"date.base":"{{#label}} must be a valid date","date.format":'{{#label}} must be in {msg("date.format." + #format) || #format} format',"date.greater":"{{#label}} must be greater than {{:#limit}}","date.less":"{{#label}} must be less than {{:#limit}}","date.max":"{{#label}} must be less than or equal to {{:#limit}}","date.min":"{{#label}} must be greater than or equal to {{:#limit}}","date.format.iso":"ISO 8601 date","date.format.javascript":"timestamp or number of milliseconds","date.format.unix":"timestamp or number of seconds"}}),o.parse=function(t,n){if(t instanceof Date)return t;if("string"!=typeof t&&(A(t)||!isFinite(t))||/^\s*$/.test(t))return null;if("iso"===n)return u.isIsoDate(t)?o.date(t.toString()):null;var i=t;if("string"==typeof t&&/^[+-]?\d+(\.\d+)?$/.test(t)&&(t=m(t)),n){if("javascript"===n)return o.date(1*t);if("unix"===n)return o.date(1e3*t);if("string"==typeof i)return null}return o.date(t)},o.date=function(t){var n=new Date(t);return A(n.getTime())?null:n}},390:function(t,n,i){var r=i(375),e=i(7824);t.exports=e.extend({type:"function",properties:{typeof:"function"},rules:{arity:{method:function(t){return r(Number.isSafeInteger(t)&&t>=0,"n must be a positive integer"),this.$_addRule({name:"arity",args:{n:t}})},validate:function(t,n,i){var r=i.n;return t.length===r?t:n.error("function.arity",{n:r})}},class:{method:function(){return this.$_addRule("class")},validate:function(t,n){return/^\s*class\s/.test(t.toString())?t:n.error("function.class",{value:t})}},minArity:{method:function(t){return r(Number.isSafeInteger(t)&&t>0,"n must be a strict positive integer"),this.$_addRule({name:"minArity",args:{n:t}})},validate:function(t,n,i){var r=i.n;return t.length>=r?t:n.error("function.minArity",{n:r})}},maxArity:{method:function(t){return r(Number.isSafeInteger(t)&&t>=0,"n must be a positive integer"),this.$_addRule({name:"maxArity",args:{n:t}})},validate:function(t,n,i){var r=i.n;return t.length<=r?t:n.error("function.maxArity",{n:r})}}},messages:{"function.arity":"{{#label}} must have an arity of {{#n}}","function.class":"{{#label}} must be a class","function.maxArity":"{{#label}} must have an arity lesser or equal to {{#n}}","function.minArity":"{{#label}} must have an arity greater or equal to {{#n}}"}})},7824:function(t,n,i){var r=i(978),e=i(375),u=i(8571),s=i(3652),o=i(8068),a=i(8160),c=i(3292),h=i(6354),f=i(6133),v=i(3328),l={renameDefaults:{alias:!1,multiple:!1,override:!1}};t.exports=o.extend({type:"Yf",properties:{typeof:"object"},flags:{unknown:{default:!1}},terms:{dependencies:{init:null},keys:{init:null,manifest:{mapped:{from:"schema",to:"key"}}},patterns:{init:null},renames:{init:null}},args:function(t,n){return t.keys(n)},validate:function(t,n){var i=n.schema,r=n.error,e=n.state,u=n.prefs;if(!t||(void 0===t?"undefined":x(t))!==i.$_property("typeof")||Array.isArray(t))return{value:t,errors:r("object.base",{type:i.$_property("typeof")})};if(i.$_terms.renames||i.$_terms.dependencies||i.$_terms.keys||i.$_terms.patterns||i.$_terms.externals){t=l.clone(t,u);var s=[];if(i.$_terms.renames&&!l.rename(i,t,e,u,s))return{value:t,errors:s};if(!i.$_terms.keys&&!i.$_terms.patterns&&!i.$_terms.dependencies)return{value:t,errors:s};var o=new Set(g.keys(t));if(i.$_terms.keys)for(var a=[t].concat(jt(e.ancestors)),c=0,h=i.$_terms.keys;c<h.length;c++){var f=h[c],v=f.key,d=t[v];o.delete(v);var w=e.localize(jt(e.path).concat([v]),a,f),y=f.schema.$_validate(d,w,u);if(y.errors){var m;if(u.abortEarly)return{value:t,errors:y.errors};void 0!==y.value&&(t[v]=y.value),(m=s).push.apply(m,jt(y.errors))}else"strip"===f.schema.Kd.result||void 0===y.value&&void 0!==d?delete t[v]:void 0!==y.value&&(t[v]=y.value)}if(o.size||i.Kd.Gf){var A=l.unknown(i,t,o,s,e,u);if(A)return A}if(i.$_terms.dependencies)for(var p=0,_=i.$_terms.dependencies;p<_.length;p++){var k=_[p];if(null===k.key||!1!==l.isPresent(k.options)(k.key.resolve(t,e,u,null,{shadow:!1}))){var b=l.dependencies[k.rel](i,k,t,e,u);if(b){var M=i.$_createError(b.code,t,b.context,e,u);if(u.abortEarly)return{value:t,errors:M};s.push(M)}}}return{value:t,errors:s}}},rules:{and:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return a.verifyFlat(n,"and"),l.dependency(this,"and",null,n)}},append:{method:function(t){return null==t||0===g.keys(t).length?this:this.keys(t)}},assert:{method:function(t,n,i){v.isTemplate(t)||(t=c.ref(t)),e(void 0===i||"string"==typeof i,"Message must be a string"),n=this.$_compile(n,{appendPath:!0});var r=this.$_addRule({name:"assert",args:{subject:t,schema:n,message:i}});return r.$_mutateRegister(t),r.$_mutateRegister(n),r},validate:function(t,n,i){var r=n.error,e=n.prefs,u=n.state,s=i.subject,o=i.schema,a=i.message,c=s.resolve(t,u,e),h=f.isRef(s)?s.absolute(u):[];return o.$_match(c,u.localize(h,[t].concat(jt(u.ancestors)),o),e)?t:r("object.assert",{subject:s,message:a})},args:["subject","schema","message"],multi:!0},instance:{method:function(t,n){return e("function"==typeof t,"constructor must be a function"),n=n||t.name,this.$_addRule({name:"instance",args:{constructor:t,name:n}})},validate:function(t,n,i){var r=i.constructor,e=i.name;return t instanceof r?t:n.error("object.instance",{type:e,value:t})},args:["constructor","name"]},keys:{method:function(t){var n=this;e(void 0===t||"object"==typeof t,"Object schema must be a valid object"),e(!a.isSchema(t),"Object schema cannot be a joi schema");var i=this.clone();if(t)if(g.keys(t).length){var r=function(r){a.tryWithPath((function(){return i.$_terms.keys.push({key:r,schema:n.$_compile(t[r])})}),r)};for(var u in i.$_terms.keys=i.$_terms.keys?i.$_terms.keys.filter((function(n){return!t.hasOwnProperty(n.key)})):new l.Keys,t)r(u)}else i.$_terms.keys=new l.Keys;else i.$_terms.keys=null;return i.$_mutateRebuild()}},length:{method:function(t){return this.$_addRule({name:"length",args:{limit:t},operator:"="})},validate:function(t,n,i,r){var e=i.limit,u=r.name,s=r.operator,o=r.args;return a.compare(g.keys(t).length,e,s)?t:n.error("object."+u,{limit:o.limit,value:t})},args:[{name:"limit",ref:!0,assert:a.limit,message:"must be a positive integer"}]},max:{method:function(t){return this.$_addRule({name:"max",method:"length",args:{limit:t},operator:"<="})}},min:{method:function(t){return this.$_addRule({name:"min",method:"length",args:{limit:t},operator:">="})}},nand:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return a.verifyFlat(n,"nand"),l.dependency(this,"nand",null,n)}},or:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return a.verifyFlat(n,"or"),l.dependency(this,"or",null,n)}},oxor:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return l.dependency(this,"oxor",null,n)}},pattern:{method:function(t,n,i){void 0===i&&(i={});var r=t instanceof RegExp;r||(t=this.$_compile(t,{appendPath:!0})),e(void 0!==n,"Invalid rule"),a.assertOptions(i,["fallthrough","matches"]),r&&e(!t.flags.includes("g")&&!t.flags.includes("y"),"pattern should not use global or sticky mode"),n=this.$_compile(n,{appendPath:!0});var u,s=this.clone();s.$_terms.patterns=s.$_terms.patterns||[];var o=(Zt(u={},r?"regex":"schema",t),Zt(u,"rule",n),u);return i.matches&&(o.matches=this.$_compile(i.matches),"array"!==o.matches.type&&(o.matches=o.matches.$_root.array().items(o.matches)),s.$_mutateRegister(o.matches),s.$_setFlag("Gf",!0,{clone:!1})),i.fallthrough&&(o.fallthrough=!0),s.$_terms.patterns.push(o),s.$_mutateRegister(n),s}},ref:{method:function(){return this.$_addRule("ref")},validate:function(t,n){return f.isRef(t)?t:n.error("object.refType",{value:t})}},regex:{method:function(){return this.$_addRule("regex")},validate:function(t,n){return t instanceof RegExp?t:n.error("object.regex",{value:t})}},rename:{method:function(t,n,i){void 0===i&&(i={}),e("string"==typeof t||t instanceof RegExp,"Rename missing the from argument"),e("string"==typeof n||n instanceof v,"Invalid rename to argument"),e(n!==t,"Cannot rename key to same name:",t),a.assertOptions(i,["alias","ignoreUndefined","override","multiple"]);var u=this.clone();u.$_terms.renames=u.$_terms.renames||[];for(var s=0,o=u.$_terms.renames;s<o.length;s++){var c=o[s];e(c.from!==t,"Cannot rename the same key multiple times")}return n instanceof v&&u.$_mutateRegister(n),u.$_terms.renames.push({from:t,to:n,options:r(l.renameDefaults,i)}),u}},schema:{method:function(t){return void 0===t&&(t="any"),this.$_addRule({name:"schema",args:{type:t}})},validate:function(t,n,i){var r=i.type;return!a.isSchema(t)||"any"!==r&&t.type!==r?n.error("object.schema",{type:r}):t}},unknown:{method:function(t){return this.$_setFlag("unknown",!1!==t)}},with:{method:function(t,n,i){return void 0===i&&(i={}),l.dependency(this,"with",t,n,i)}},without:{method:function(t,n,i){return void 0===i&&(i={}),l.dependency(this,"without",t,n,i)}},xor:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return a.verifyFlat(n,"xor"),l.dependency(this,"xor",null,n)}}},overrides:{default:function(t,n){return void 0===t&&(t=a.symbols.deepDefault),this.$_parent("default",t,n)}},rebuild:function(t){if(t.$_terms.keys){for(var n=function(t,n){var r=n[t];a.tryWithPath((function(){return i.add(r,{after:r.schema.$_rootReferences(),group:r.key})}),r.key)},i=new s.Sorter,r=0,e=t.$_terms.keys;r<e.length;r++)n(r,e);t.$_terms.keys=Jt(l.Keys,jt(i.nodes))}},manifest:{build:function(t,n){if(n.keys&&(t=t.keys(n.keys)),n.dependencies)for(var i=0,r=n.dependencies;i<r.length;i++){var e=r[i],u=e.rel,s=e.key,o=void 0===s?null:s,a=e.peers,c=e.options;t=l.dependency(t,u,o,a,c)}if(n.patterns)for(var h=0,f=n.patterns;h<f.length;h++){var v=f[h],d=v.regex,g=v.schema,w=v.rule,y=v.fallthrough,m=v.matches;t=t.pattern(d||g,w,{fallthrough:y,matches:m})}if(n.renames)for(var A=0,p=n.renames;A<p.length;A++){var _=p[A],k=_.from,b=_.to,M=_.options;t=t.rename(k,b,M)}return t}},messages:{"object.and":"{{#label}} contains {{#presentWithLabels}} without its required peers {{#missingWithLabels}}","object.assert":'{{#label}} is invalid because {if(#subject.key, `"` + #subject.key + `" failed to ` + (#message || "pass the assertion test"), #message || "the assertion failed")}',"object.base":"{{#label}} must be of type {{#type}}","object.instance":"{{#label}} must be an instance of {{:#type}}","object.length":'{{#label}} must have {{#limit}} key{if(#limit == 1, "", "s")}',"object.max":'{{#label}} must have less than or equal to {{#limit}} key{if(#limit == 1, "", "s")}',"object.min":'{{#label}} must have at least {{#limit}} key{if(#limit == 1, "", "s")}',"object.missing":"{{#label}} must contain at least one of {{#peersWithLabels}}","object.nand":"{{:#mainWithLabel}} must not exist simultaneously with {{#peersWithLabels}}","object.oxor":"{{#label}} contains a conflict between optional exclusive peers {{#peersWithLabels}}","object.pattern.match":"{{#label}} keys failed to match pattern requirements","object.refType":"{{#label}} must be a Joi reference","object.regex":"{{#label}} must be a RegExp object","object.rename.multiple":"{{#label}} cannot rename {{:#from}} because multiple renames are disabled and another key was already renamed to {{:#to}}","object.rename.override":"{{#label}} cannot rename {{:#from}} because override is disabled and target {{:#to}} exists","object.schema":"{{#label}} must be a Joi schema of {{#type}} type","object.unknown":"{{#label}} is not allowed","object.with":"{{:#mainWithLabel}} missing required peer {{:#peerWithLabel}}","object.without":"{{:#mainWithLabel}} conflict with forbidden peer {{:#peerWithLabel}}","object.xor":"{{#label}} contains a conflict between exclusive peers {{#peersWithLabels}}"}}),l.clone=function(t,n){if("object"==typeof t){if(n.nonEnumerables)return u(t,{shallow:!0});var i=g.create(g.getPrototypeOf(t));return g.assign(i,t),i}var r=function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t.apply(this,i)};return r.prototype=u(t.prototype),g.defineProperty(r,"name",{value:t.name,writable:!1}),g.defineProperty(r,"length",{value:t.length,writable:!1}),g.assign(r,t),r},l.dependency=function(t,n,i,r,u){e(null===i||"string"==typeof i,n,"key must be a strings"),u||(u=r.length>1&&"object"==typeof r[r.length-1]?r.pop():{}),a.assertOptions(u,["separator","isPresent"]),r=[].concat(r);for(var s=a.default(u.separator,"."),o=[],h=0;h<r.length;h++){var f=r[h];e("string"==typeof f,n,"peers must be strings"),o.push(c.ref(f,{separator:s,ancestor:0,prefix:!1}))}null!==i&&(i=c.ref(i,{separator:s,ancestor:0,prefix:!1}));var v=t.clone();return v.$_terms.dependencies=v.$_terms.dependencies||[],v.$_terms.dependencies.push(new l.Dependency(n,i,o,r,u)),v},l.dependencies={and:function(t,n,i,r,e){for(var u=[],s=[],o=n.peers.length,a=l.isPresent(n.options),c=0,h=n.peers;c<h.length;c++){var f=h[c];!1===a(f.resolve(i,r,e,null,{shadow:!1}))?u.push(f.key):s.push(f.key)}if(u.length!==o&&s.length!==o)return{code:"object.and",context:{present:s,presentWithLabels:l.keysToLabels(t,s),missing:u,missingWithLabels:l.keysToLabels(t,u)}}},nand:function(t,n,i,r,e){for(var u=[],s=l.isPresent(n.options),o=0,a=n.peers;o<a.length;o++){var c=a[o];s(c.resolve(i,r,e,null,{shadow:!1}))&&u.push(c.key)}if(u.length===n.peers.length){var h=n.paths[0],f=n.paths.slice(1);return{code:"object.nand",context:{main:h,mainWithLabel:l.keysToLabels(t,h),peers:f,peersWithLabels:l.keysToLabels(t,f)}}}},or:function(t,n,i,r,e){for(var u=l.isPresent(n.options),s=0,o=n.peers;s<o.length;s++)if(u(o[s].resolve(i,r,e,null,{shadow:!1})))return;return{code:"object.missing",context:{peers:n.paths,peersWithLabels:l.keysToLabels(t,n.paths)}}},oxor:function(t,n,i,r,e){for(var u=[],s=l.isPresent(n.options),o=0,a=n.peers;o<a.length;o++){var c=a[o];s(c.resolve(i,r,e,null,{shadow:!1}))&&u.push(c.key)}if(u.length&&1!==u.length){var h={peers:n.paths,peersWithLabels:l.keysToLabels(t,n.paths)};return h.present=u,h.presentWithLabels=l.keysToLabels(t,u),{code:"object.oxor",context:h}}},with:function(t,n,i,r,e){for(var u=l.isPresent(n.options),s=0,o=n.peers;s<o.length;s++){var a=o[s];if(!1===u(a.resolve(i,r,e,null,{shadow:!1})))return{code:"object.with",context:{main:n.key.key,mainWithLabel:l.keysToLabels(t,n.key.key),peer:a.key,peerWithLabel:l.keysToLabels(t,a.key)}}}},without:function(t,n,i,r,e){for(var u=l.isPresent(n.options),s=0,o=n.peers;s<o.length;s++){var a=o[s];if(u(a.resolve(i,r,e,null,{shadow:!1})))return{code:"object.without",context:{main:n.key.key,mainWithLabel:l.keysToLabels(t,n.key.key),peer:a.key,peerWithLabel:l.keysToLabels(t,a.key)}}}},xor:function(t,n,i,r,e){for(var u=[],s=l.isPresent(n.options),o=0,a=n.peers;o<a.length;o++){var c=a[o];s(c.resolve(i,r,e,null,{shadow:!1}))&&u.push(c.key)}if(1!==u.length){var h={peers:n.paths,peersWithLabels:l.keysToLabels(t,n.paths)};return 0===u.length?{code:"object.missing",context:h}:(h.present=u,h.presentWithLabels=l.keysToLabels(t,u),{code:"object.xor",context:h})}}},l.keysToLabels=function(t,n){return Array.isArray(n)?n.map((function(n){return t.$_mapLabels(n)})):t.$_mapLabels(n)},l.isPresent=function(t){return"function"==typeof t.isPresent?t.isPresent:function(t){return void 0!==t}},l.rename=function(t,n,i,r,e){for(var u={},s=0,o=t.$_terms.renames;s<o.length;s++){var a=o[s],c=[],h="string"!=typeof a.from;if(h){for(var f in n)if(!(void 0===n[f]&&a.options.ignoreUndefined||f===a.to)){var l=a.from.exec(f);l&&c.push({from:f,to:a.to,match:l})}}else!g.prototype.hasOwnProperty.call(n,a.from)||void 0===n[a.from]&&a.options.ignoreUndefined||c.push(a);for(var d=0;d<c.length;d++){var w=c[d],y=w.from,m=w.to;if(m instanceof v&&(m=m.render(n,i,r,w.match)),y!==m){if(!a.options.multiple&&u[m]&&(e.push(t.$_createError("object.rename.multiple",n,{from:y,to:m,pattern:h},i,r)),r.abortEarly)||g.prototype.hasOwnProperty.call(n,m)&&!a.options.override&&!u[m]&&(e.push(t.$_createError("object.rename.override",n,{from:y,to:m,pattern:h},i,r)),r.abortEarly))return!1;void 0===n[y]?delete n[m]:n[m]=n[y],u[m]=!0,a.options.alias||delete n[y]}}}return!0},l.unknown=function(t,n,i,r,e,u){if(t.$_terms.patterns){for(var s=!1,o=t.$_terms.patterns.map((function(t){if(t.matches)return s=!0,[]})),c=[n].concat(jt(e.ancestors)),f=0;f<i.length;f++)for(var v=i[f],l=n[v],d=jt(e.path).concat([v]),g=0;g<t.$_terms.patterns.length;++g){var w=t.$_terms.patterns[g];if(w.regex){var y=w.regex.test(v);if(e.mainstay.tracer.debug(e,"rule","pattern.".concat(g),y?"pass":"error"),!y)continue}else if(!w.schema.$_match(v,e.nest(w.schema,"pattern.".concat(g)),u))continue;i.delete(v);var m=e.localize(d,c,{schema:w.rule,key:v}),A=w.rule.$_validate(l,m,u);if(A.errors){var p;if(u.abortEarly)return{value:n,errors:A.errors};(p=r).push.apply(p,jt(A.errors))}if(w.matches&&o[g].push(v),n[v]=A.value,!w.fallthrough)break}if(s)for(var _=0;_<o.length;++_){var k=o[_];if(k){var b=t.$_terms.patterns[_].matches,M=e.localize(e.path,c,b),T=b.$_validate(k,M,u);if(T.errors){var N=h.details(T.errors,{override:!1});N.matches=k;var D=t.$_createError("object.pattern.match",n,N,e,u);if(u.abortEarly)return{value:n,errors:D};r.push(D)}}}}if(i.size&&(t.$_terms.keys||t.$_terms.patterns)){if(u.stripUnknown&&!t.Kd.unknown||u.skipFunctions)for(var I=!(!u.stripUnknown||!0!==u.stripUnknown&&!u.stripUnknown.objects),E=0;E<i.length;E++){var S=i[E];I?(delete n[S],i.delete(S)):"function"==typeof n[S]&&i.delete(S)}if(!a.default(t.Kd.unknown,u.allowUnknown))for(var L=0;L<i.length;L++){var j=i[L],C=e.localize(jt(e.path).concat([j]),[]),x=t.$_createError("object.unknown",n[j],{child:j},C,u,{flags:!1});if(u.abortEarly)return{value:n,errors:x};r.push(x)}}},l.Dependency=function(){function t(t,n,i,r,e){this.rel=t,this.key=n,this.peers=i,this.paths=r,this.options=e}return t.prototype.describe=function(){var t={rel:this.rel,peers:this.paths};return null!==this.key&&(t.key=this.key.key),"."!==this.peers[0].separator&&(t.options=M(b({},t.options),{separator:this.peers[0].separator})),this.options.isPresent&&(t.options=M(b({},t.options),{isPresent:this.options.isPresent})),t},t}(),l.Keys=function(t){function n(){return t.apply(this,arguments)}return bt(n,t),n.prototype.concat=function(t){for(var n=this.slice(),i=new Map,r=0;r<n.length;++r)i.set(n[r].key,r);for(var e=0;e<t.length;e++){var u=t[e],s=u.key,o=i.get(s);void 0!==o?n[o]={key:s,schema:n[o].schema.concat(u.schema)}:n.push(u)}return n},n}(sn(Array))},8785:function(t,n,i){var r=i(375),e=i(8068),u=i(8160),s=i(3292),o=i(6354),a={};t.exports=e.extend({type:"link",properties:{schemaChain:!0},terms:{link:{init:null,manifest:"single",register:!1}},args:function(t,n){return t.ref(n)},validate:function(t,n){var i=n.schema,e=n.state,u=n.prefs;r(i.$_terms.link,"Uninitialized link schema");var s=a.generate(i,t,e,u),o=i.$_terms.link[0].ref;return s.$_validate(t,e.nest(s,"link:".concat(o.display,":").concat(s.type)),u)},generate:function(t,n,i,r){return a.generate(t,n,i,r)},rules:{ref:{method:function(t){r(!this.$_terms.link,"Cannot reinitialize schema"),t=s.ref(t),r("value"===t.type||"local"===t.type,"Invalid reference type:",t.type),r("local"===t.type||"root"===t.ancestor||t.ancestor>0,"Link cannot reference itself");var n=this.clone();return n.$_terms.link=[{ref:t}],n}},relative:{method:function(t){return void 0===t&&(t=!0),this.$_setFlag("relative",t)}}},overrides:{concat:function(t){r(this.$_terms.link,"Uninitialized link schema"),r(u.isSchema(t),"Invalid schema object"),r("link"!==t.type,"Cannot merge type link with another link");var n=this.clone();return n.$_terms.whens||(n.$_terms.whens=[]),n.$_terms.whens.push({concat:t}),n.$_mutateRebuild()}},manifest:{build:function(t,n){return r(n.link,"Invalid link description missing link"),t.ref(n.link)}}}),a.generate=function(t,n,i,r){var e=i.mainstay.links.get(t);if(e)return e.vf(n,i,r).schema;var u=t.$_terms.link[0].ref,s=a.perspective(u,i),o=s.perspective,c=s.path;a.assert(o,"which is outside of schema boundaries",u,t,i,r);try{e=c.length?o.$_reach(c):o}catch(n){a.assert(!1,"to non-existing schema",u,t,i,r)}return a.assert("link"!==e.type,"which is another link",u,t,i,r),t.Kd.relative||i.mainstay.links.set(t,e),e.vf(n,i,r).schema},a.perspective=function(t,n){if("local"===t.type){for(var i=0,r=n.schemas;i<r.length;i++){var e=r[i],u=e.schema,s=e.key;if((u.Kd.id||s)===t.path[0])return{perspective:u,path:t.path.slice(1)};if(u.$_terms.shared)for(var o=0,a=u.$_terms.shared;o<a.length;o++){var c=a[o];if(c.Kd.id===t.path[0])return{perspective:c,path:t.path.slice(1)}}}return{perspective:null,path:null}}return"root"===t.ancestor?{perspective:n.schemas[n.schemas.length-1].schema,path:t.path}:{perspective:n.schemas[t.ancestor]&&n.schemas[t.ancestor].schema,path:t.path}},a.assert=function(t,n,i,e,u,s){t||r(!1,'"'.concat(o.label(e.Kd,u,s),'" contains link reference "').concat(i.display,'" ').concat(n))}},3832:function(t,n,i){var r=i(375),e=i(8068),u=i(8160),s={numberRx:/^\s*[+-]?(?:(?:\d+(?:\.\d*)?)|(?:\.\d+))(?:e([+-]?\d+))?\s*$/i,precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,exponentialPartRegex:/[eE][+-]?\d+$/,leadingSignAndZerosRegex:/^[+-]?(0*)?/,dotRegex:/\./,trailingZerosRegex:/0+$/,decimalPlaces:function(t){var n=t.toString(),i=n.indexOf("."),r=n.indexOf("e");return(i<0?0:(r<0?n.length:r)-i-1)+(r<0?0:w.max(0,-y(n.slice(r+1))))}};t.exports=e.extend({type:"number",flags:{unsafe:{default:!1}},coerce:{from:"string",method:function(t,n){var i=n.schema,r=n.error;if(t.match(s.numberRx)){t=t.trim();var e={value:m(t)};if(0===e.value&&(e.value=0),!i.Kd.unsafe)if(t.match(/e/i)){if(s.extractSignificantDigits(t)!==s.extractSignificantDigits(String(e.value)))return e.errors=r("number.unsafe"),e}else{var u=e.value.toString();if(u.match(/e/i))return e;if(u!==s.normalizeDecimal(t))return e.errors=r("number.unsafe"),e}return e}}},validate:function(t,n){var i=n.schema,r=n.error,e=n.prefs;if(t===1/0||t===-1/0)return{value:t,errors:r("number.infinity")};if(!u.isNumber(t))return{value:t,errors:r("number.base")};var s={value:t};if(e.convert){var o=i.$_getRule("precision");if(o){var a=w.pow(10,o.args.limit);s.value=w.round(s.value*a)/a}}return 0===s.value&&(s.value=0),!i.Kd.unsafe&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER)&&(s.errors=r("number.unsafe")),s},rules:{compare:{method:!1,validate:function(t,n,i,r){var e=i.limit,s=r.name,o=r.operator,a=r.args;return u.compare(t,e,o)?t:n.error("number."+s,{limit:a.limit,value:t})},args:[{name:"limit",ref:!0,assert:u.isNumber,message:"must be a number"}]},greater:{method:function(t){return this.$_addRule({name:"greater",method:"compare",args:{limit:t},operator:">"})}},integer:{method:function(){return this.$_addRule("integer")},validate:function(t,n){return w.trunc(t)-t==0?t:n.error("number.integer")}},less:{method:function(t){return this.$_addRule({name:"less",method:"compare",args:{limit:t},operator:"<"})}},max:{method:function(t){return this.$_addRule({name:"max",method:"compare",args:{limit:t},operator:"<="})}},min:{method:function(t){return this.$_addRule({name:"min",method:"compare",args:{limit:t},operator:">="})}},multiple:{method:function(t){var n="number"==typeof t?s.decimalPlaces(t):null,i=w.pow(10,n);return this.$_addRule({name:"multiple",args:{base:t,baseDecimalPlace:n,pfactor:i}})},validate:function(t,n,i,r){var e=i.base,u=i.baseDecimalPlace,o=i.pfactor;return s.decimalPlaces(t)>u?n.error("number.multiple",{multiple:r.args.base,value:t}):w.round(o*t)%w.round(o*e)==0?t:n.error("number.multiple",{multiple:r.args.base,value:t})},args:[{name:"base",ref:!0,assert:function(t){return"number"==typeof t&&isFinite(t)&&t>0},message:"must be a positive number"},"baseDecimalPlace","pfactor"],multi:!0},negative:{method:function(){return this.sign("negative")}},port:{method:function(){return this.$_addRule("port")},validate:function(t,n){return Number.isSafeInteger(t)&&t>=0&&t<=65535?t:n.error("number.port")}},positive:{method:function(){return this.sign("positive")}},precision:{method:function(t){return r(Number.isSafeInteger(t),"limit must be an integer"),this.$_addRule({name:"precision",args:{limit:t}})},validate:function(t,n,i){var r=i.limit,e=t.toString().match(s.precisionRx);return w.max((e[1]?e[1].length:0)-(e[2]?y(e[2],10):0),0)<=r?t:n.error("number.precision",{limit:r,value:t})},convert:!0},sign:{method:function(t){return r(["negative","positive"].includes(t),"Invalid sign",t),this.$_addRule({name:"sign",args:{sign:t}})},validate:function(t,n,i){var r=i.sign;return"negative"===r&&t<0||"positive"===r&&t>0?t:n.error("number.".concat(r))}},unsafe:{method:function(t){return void 0===t&&(t=!0),r("boolean"==typeof t,"enabled must be a boolean"),this.$_setFlag("unsafe",t)}}},cast:{string:{from:function(t){return"number"==typeof t},to:function(t,n){return t.toString()}}},messages:{"number.base":"{{#label}} must be a number","number.greater":"{{#label}} must be greater than {{#limit}}","number.infinity":"{{#label}} cannot be infinity","number.integer":"{{#label}} must be an integer","number.less":"{{#label}} must be less than {{#limit}}","number.max":"{{#label}} must be less than or equal to {{#limit}}","number.min":"{{#label}} must be greater than or equal to {{#limit}}","number.multiple":"{{#label}} must be a multiple of {{#multiple}}","number.negative":"{{#label}} must be a negative number","number.port":"{{#label}} must be a valid port","number.positive":"{{#label}} must be a positive number","number.precision":"{{#label}} must have no more than {{#limit}} decimal places","number.unsafe":"{{#label}} must be a safe number"}}),s.extractSignificantDigits=function(t){return t.replace(s.exponentialPartRegex,"").replace(s.dotRegex,"").replace(s.trailingZerosRegex,"").replace(s.leadingSignAndZerosRegex,"")},s.normalizeDecimal=function(t){return(t=t.replace(/^\+/,"").replace(/\.0*$/,"").replace(/^(-?)\.([^\.]*)$/,"$10.$2").replace(/^(-?)0+([0-9])/,"$1$2")).includes(".")&&t.endsWith("0")&&(t=t.replace(/0+$/,"")),"-0"===t?"0":t}},8966:function(t,n,i){var r=i(7824);t.exports=r.extend({type:"object",cast:{map:{from:function(t){return t&&"object"==typeof t},to:function(t,n){return new Map(g.entries(t))}}}})},7417:function(t,n,i){var r=i(375),e=i(5380),u=i(1745),s=i(9959),o=i(6064),a=i(9926),c=i(5752),h=i(8068),f=i(8160),v={tlds:a instanceof Set&&{tlds:{allow:a,deny:null}},base64Regex:{true:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}==|[\w\-]{3}=)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/},false:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}(==)?|[\w\-]{3}=?)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/}},dataUriRegex:/^data:[\w+.-]+\/[\w+.-]+;((charset=[\w-]+|base64),)?(.*)$/,hexRegex:{withPrefix:/^0x[0-9a-f]+$/i,withOptionalPrefix:/^(?:0x)?[0-9a-f]+$/i,withoutPrefix:/^[0-9a-f]+$/i},ipRegex:s.regex({cidr:"forbidden"}).regex,isoDurationRegex:/^P(?!$)(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?$/,guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5",uuidv6:"6",uuidv7:"7",uuidv8:"8"},guidSeparators:new Set([void 0,!0,!1,"-",":"]),normalizationForms:["NFC","NFD","NFKC","NFKD"]};t.exports=h.extend({type:"string",flags:{insensitive:{default:!1},truncate:{default:!1}},terms:{replacements:{init:null}},coerce:{from:"string",method:function(t,n){var i=n.schema,r=n.state,e=n.prefs,u=i.$_getRule("normalize");u&&(t=t.normalize(u.args.form));var s=i.$_getRule("case");s&&(t="upper"===s.args.direction?t.toLocaleUpperCase():t.toLocaleLowerCase());var o=i.$_getRule("trim");if(o&&o.args.enabled&&(t=t.trim()),i.$_terms.replacements)for(var a=0,c=i.$_terms.replacements;a<c.length;a++){var h=c[a];t=t.replace(h.pattern,h.replacement)}var l=i.$_getRule("hex");if(l&&l.args.options.byteAligned&&t.length%2!=0&&(t="0".concat(t)),i.$_getRule("isoDate")){var d=v.isoDate(t);d&&(t=d)}if(i.Kd.truncate){var g=i.$_getRule("max");if(g){var w=g.args.limit;if(f.isResolvable(w)&&(w=w.resolve(t,r,e),!f.limit(w)))return{value:t,errors:i.$_createError("any.ref",w,{ref:g.args.limit,arg:"limit",reason:"must be a positive integer"},r,e)};t=t.slice(0,w)}}return{value:t}}},validate:function(t,n){var i=n.schema,r=n.error;if("string"!=typeof t)return{value:t,errors:r("string.base")};if(""===t){var e=i.$_getRule("min");return e&&0===e.args.limit?void 0:{value:t,errors:r("string.empty")}}},rules:{alphanum:{method:function(){return this.$_addRule("alphanum")},validate:function(t,n){return/^[a-zA-Z0-9]+$/.test(t)?t:n.error("string.alphanum")}},base64:{method:function(t){return void 0===t&&(t={}),f.assertOptions(t,["paddingRequired","urlSafe"]),t=b({urlSafe:!1,paddingRequired:!0},t),r("boolean"==typeof t.paddingRequired,"paddingRequired must be boolean"),r("boolean"==typeof t.urlSafe,"urlSafe must be boolean"),this.$_addRule({name:"base64",args:{options:t}})},validate:function(t,n,i){var r=i.options;return v.base64Regex[r.paddingRequired][r.urlSafe].test(t)?t:n.error("string.base64")}},case:{method:function(t){return r(["lower","upper"].includes(t),"Invalid case:",t),this.$_addRule({name:"case",args:{direction:t}})},validate:function(t,n,i){var r=i.direction;return"lower"===r&&t===t.toLocaleLowerCase()||"upper"===r&&t===t.toLocaleUpperCase()?t:n.error("string.".concat(r,"case"))},convert:!0},creditCard:{method:function(){return this.$_addRule("creditCard")},validate:function(t,n){for(var i=t.length,r=0,e=1;i--;){var u=t.charAt(i)*e;r+=u-9*(u>9),e^=3}return r>0&&r%10==0?t:n.error("string.creditCard")}},dataUri:{method:function(t){return void 0===t&&(t={}),f.assertOptions(t,["paddingRequired"]),t=b({paddingRequired:!0},t),r("boolean"==typeof t.paddingRequired,"paddingRequired must be boolean"),this.$_addRule({name:"dataUri",args:{options:t}})},validate:function(t,n,i){var r=i.options,e=t.match(v.dataUriRegex);return!e||e[2]&&"base64"===e[2]&&!v.base64Regex[r.paddingRequired].false.test(e[3])?n.error("string.dataUri"):t}},domain:{method:function(t){t&&f.assertOptions(t,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);var n=v.addressOptions(t);return this.$_addRule({name:"domain",args:{options:t},address:n})},validate:function(t,n,i,r){var u=r.address;return e.isValid(t,u)?t:n.error("string.domain")}},email:{method:function(t){void 0===t&&(t={}),f.assertOptions(t,["allowFullyQualified","allowUnicode","ignoreLength","maxDomainSegments","minDomainSegments","multiple","separator","tlds"]),r(void 0===t.multiple||"boolean"==typeof t.multiple,"multiple option must be an boolean");var n=v.addressOptions(t),i=new RegExp("\\s*[".concat(t.separator?o(t.separator):",","]\\s*"));return this.$_addRule({name:"email",args:{options:t},regex:i,address:n})},validate:function(t,n,i,r){for(var e=i.options,s=r.regex,o=r.address,a=e.multiple?t.split(s):[t],c=[],h=0;h<a.length;h++){var f=a[h];u.isValid(f,o)||c.push(f)}return c.length?n.error("string.email",{value:t,invalids:c}):t}},guid:{alias:"uuid",method:function(t){void 0===t&&(t={}),f.assertOptions(t,["version","separator"]);var n="";if(t.version){var i=[].concat(t.version);r(i.length>=1,"version must have at least 1 valid version specified");for(var e=new Set,u=0;u<i.length;++u){var s=i[u];r("string"==typeof s,"version at position "+u+" must be a string");var o=v.guidVersions[s.toLowerCase()];r(o,"version at position "+u+" must be one of "+g.keys(v.guidVersions).join(", ")),r(!e.has(o),"version at position "+u+" must not be a duplicate"),n+=o,e.add(o)}}r(v.guidSeparators.has(t.separator),'separator must be one of true, false, "-", or ":"');var a=void 0===t.separator?"[:-]?":!0===t.separator?"[:-]":!1===t.separator?"[]?":"\\".concat(t.separator),c=new RegExp("^([\\[{\\(]?)[0-9A-F]{8}(".concat(a,")[0-9A-F]{4}\\2?[").concat(n||"0-9A-F","][0-9A-F]{3}\\2?[").concat(n?"89AB":"0-9A-F","][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$"),"i");return this.$_addRule({name:"guid",args:{options:t},regex:c})},validate:function(t,n,i,r){var e=r.regex.exec(t);return e?v.guidBrackets[e[1]]!==e[e.length-1]?n.error("string.guid"):t:n.error("string.guid")}},hex:{method:function(t){return void 0===t&&(t={}),f.assertOptions(t,["byteAligned","prefix"]),t=b({byteAligned:!1,prefix:!1},t),r("boolean"==typeof t.byteAligned,"byteAligned must be boolean"),r("boolean"==typeof t.prefix||"optional"===t.prefix,'prefix must be boolean or "optional"'),this.$_addRule({name:"hex",args:{options:t}})},validate:function(t,n,i){var r=i.options;return("optional"===r.prefix?v.hexRegex.withOptionalPrefix:!0===r.prefix?v.hexRegex.withPrefix:v.hexRegex.withoutPrefix).test(t)?r.byteAligned&&t.length%2!=0?n.error("string.hexAlign"):t:n.error("string.hex")}},hostname:{method:function(){return this.$_addRule("hostname")},validate:function(t,n){return e.isValid(t,{minDomainSegments:1})||v.ipRegex.test(t)?t:n.error("string.hostname")}},insensitive:{method:function(){return this.$_setFlag("insensitive",!0)}},ip:{method:function(t){void 0===t&&(t={}),f.assertOptions(t,["cidr","version"]);var n=s.regex(t),i=n.cidr,r=n.versions,e=n.regex,u=t.version?r:void 0;return this.$_addRule({name:"ip",args:{options:{cidr:i,version:u}},regex:e})},validate:function(t,n,i,r){var e=i.options;return r.regex.test(t)?t:e.version?n.error("string.ipVersion",{value:t,cidr:e.cidr,version:e.version}):n.error("string.ip",{value:t,cidr:e.cidr})}},isoDate:{method:function(){return this.$_addRule("isoDate")},validate:function(t,n){var i=n.error;return v.isoDate(t)?t:i("string.isoDate")}},isoDuration:{method:function(){return this.$_addRule("isoDuration")},validate:function(t,n){return v.isoDurationRegex.test(t)?t:n.error("string.isoDuration")}},length:{method:function(t,n){return v.length(this,"length",t,"=",n)},validate:function(t,n,i,r){var e=i.limit,u=i.encoding,s=r.name,o=r.operator,a=r.args,c=!u&&t.length;return f.compare(c,e,o)?t:n.error("string."+s,{limit:a.limit,value:t,encoding:u})},args:[{name:"limit",ref:!0,assert:f.limit,message:"must be a positive integer"},"encoding"]},lowercase:{method:function(){return this.case("lower")}},max:{method:function(t,n){return v.length(this,"max",t,"<=",n)},args:["limit","encoding"]},min:{method:function(t,n){return v.length(this,"min",t,">=",n)},args:["limit","encoding"]},normalize:{method:function(t){return void 0===t&&(t="NFC"),r(v.normalizationForms.includes(t),"normalization form must be one of "+v.normalizationForms.join(", ")),this.$_addRule({name:"normalize",args:{form:t}})},validate:function(t,n,i){var r=n.error,e=i.form;return t===t.normalize(e)?t:r("string.normalize",{value:t,form:e})},convert:!0},pattern:{alias:"regex",method:function(t,n){void 0===n&&(n={}),r(t instanceof RegExp,"regex must be a RegExp"),r(!t.flags.includes("g")&&!t.flags.includes("y"),"regex should not use global or sticky mode"),"string"==typeof n&&(n={name:n}),f.assertOptions(n,["invert","name"]);var i=["string.pattern",n.invert?".invert":"",n.name?".name":".base"].join("");return this.$_addRule({name:"pattern",args:{regex:t,options:n},errorCode:i})},validate:function(t,n,i,r){var e=i.regex,u=i.options,s=r.errorCode;return e.test(t)^u.invert?t:n.error(s,{name:u.name,regex:e,value:t})},args:["regex","options"],multi:!0},replace:{method:function(t,n){"string"==typeof t&&(t=new RegExp(o(t),"g")),r(t instanceof RegExp,"pattern must be a RegExp"),r("string"==typeof n,"replacement must be a String");var i=this.clone();return i.$_terms.replacements||(i.$_terms.replacements=[]),i.$_terms.replacements.push({pattern:t,replacement:n}),i}},token:{method:function(){return this.$_addRule("token")},validate:function(t,n){return/^\w+$/.test(t)?t:n.error("string.token")}},trim:{method:function(t){return void 0===t&&(t=!0),r("boolean"==typeof t,"enabled must be a boolean"),this.$_addRule({name:"trim",args:{enabled:t}})},validate:function(t,n,i){return i.enabled&&t!==t.trim()?n.error("string.trim"):t},convert:!0},truncate:{method:function(t){return void 0===t&&(t=!0),r("boolean"==typeof t,"enabled must be a boolean"),this.$_setFlag("truncate",t)}},uppercase:{method:function(){return this.case("upper")}},uri:{method:function(t){void 0===t&&(t={}),f.assertOptions(t,["allowRelative","allowQuerySquareBrackets","domain","relativeOnly","scheme","encodeUri"]),t.domain&&f.assertOptions(t.domain,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);var n=c.regex(t),i=n.regex,r=n.scheme,e=t.domain?v.addressOptions(t.domain):null;return this.$_addRule({name:"uri",args:{options:t},regex:i,domain:e,scheme:r})},validate:function(t,n,i,r){var u=i.options,s=r.regex,o=r.domain,a=r.scheme;if(["http:/","https:/"].includes(t))return n.error("string.uri");var c=s.exec(t);if(!c&&n.prefs.convert&&u.encodeUri){var h=encodeURI(t);(c=s.exec(h))&&(t=h)}if(c){var f=c[1]||c[2];return!o||u.allowRelative&&!f||e.isValid(f,o)?t:n.error("string.domain",{value:f})}return u.relativeOnly?n.error("string.uriRelativeOnly"):u.scheme?n.error("string.uriCustomScheme",{scheme:a,value:t}):n.error("string.uri")}}},manifest:{build:function(t,n){if(n.replacements)for(var i=0,r=n.replacements;i<r.length;i++){var e=r[i],u=e.pattern,s=e.replacement;t=t.replace(u,s)}return t}},messages:{"string.alphanum":"{{#label}} must only contain alpha-numeric characters","string.base":"{{#label}} must be a string","string.base64":"{{#label}} must be a valid base64 string","string.creditCard":"{{#label}} must be a credit card","string.dataUri":"{{#label}} must be a valid dataUri string","string.domain":"{{#label}} must contain a valid domain name","string.email":"{{#label}} must be a valid email","string.empty":"{{#label}} is not allowed to be empty","string.guid":"{{#label}} must be a valid GUID","string.hex":"{{#label}} must only contain hexadecimal characters","string.hexAlign":"{{#label}} hex decoded representation must be byte aligned","string.hostname":"{{#label}} must be a valid hostname","string.ip":"{{#label}} must be a valid ip address with a {{#cidr}} CIDR","string.ipVersion":"{{#label}} must be a valid ip address of one of the following versions {{#version}} with a {{#cidr}} CIDR","string.isoDate":"{{#label}} must be in iso format","string.isoDuration":"{{#label}} must be a valid ISO 8601 duration","string.length":"{{#label}} length must be {{#limit}} characters long","string.lowercase":"{{#label}} must only contain lowercase characters","string.max":"{{#label}} length must be less than or equal to {{#limit}} characters long","string.min":"{{#label}} length must be at least {{#limit}} characters long","string.normalize":"{{#label}} must be unicode normalized in the {{#form}} form","string.token":"{{#label}} must only contain alpha-numeric and underscore characters","string.pattern.base":"{{#label}} with value {:[.]} fails to match the required pattern: {{#regex}}","string.pattern.name":"{{#label}} with value {:[.]} fails to match the {{#name}} pattern","string.pattern.invert.base":"{{#label}} with value {:[.]} matches the inverted pattern: {{#regex}}","string.pattern.invert.name":"{{#label}} with value {:[.]} matches the inverted {{#name}} pattern","string.trim":"{{#label}} must not have leading or trailing whitespace","string.uri":"{{#label}} must be a valid uri","string.uriCustomScheme":"{{#label}} must be a valid uri with a scheme matching the {{#scheme}} pattern","string.uriRelativeOnly":"{{#label}} must be a valid relative uri","string.uppercase":"{{#label}} must only contain uppercase characters"}}),v.addressOptions=function(t){if(!t)return v.tlds||t;if(r(void 0===t.minDomainSegments||Number.isSafeInteger(t.minDomainSegments)&&t.minDomainSegments>0,"minDomainSegments must be a positive integer"),r(void 0===t.maxDomainSegments||Number.isSafeInteger(t.maxDomainSegments)&&t.maxDomainSegments>0,"maxDomainSegments must be a positive integer"),!1===t.tlds)return t;if(!0===t.tlds||void 0===t.tlds)return r(v.tlds,"Built-in TLD list disabled"),g.assign({},t,v.tlds);r("object"==typeof t.tlds,"tlds must be true, false, or an object");var n=t.tlds.deny;if(n)return Array.isArray(n)&&(t=g.assign({},t,{tlds:{deny:new Set(n)}})),r(t.tlds.deny instanceof Set,"tlds.deny must be an array, Set, or boolean"),r(!t.tlds.allow,"Cannot specify both tlds.allow and tlds.deny lists"),v.validateTlds(t.tlds.deny,"tlds.deny"),t;var i=t.tlds.allow;return i?!0===i?(r(v.tlds,"Built-in TLD list disabled"),g.assign({},t,v.tlds)):(Array.isArray(i)&&(t=g.assign({},t,{tlds:{allow:new Set(i)}})),r(t.tlds.allow instanceof Set,"tlds.allow must be an array, Set, or boolean"),v.validateTlds(t.tlds.allow,"tlds.allow"),t):t},v.validateTlds=function(t,n){for(var i=0;i<t.length;i++){var u=t[i];r(e.isValid(u,{minDomainSegments:1,maxDomainSegments:1}),"".concat(n," must contain valid top level domain names"))}},v.isoDate=function(t){if(!f.isIsoDate(t))return null;/.*T.*[+-]\d\d$/.test(t)&&(t+="00");var n=new Date(t);return A(n.getTime())?null:n.toISOString()},v.length=function(t,n,i,e,u){return r(!u||!1,"Invalid encoding:",u),t.$_addRule({name:n,method:"length",args:{limit:i,encoding:u},operator:e})}},8826:function(t,i,r){var e=r(375),u=r(8068),s={};s.Map=function(t){function n(){return t.apply(this,arguments)}return bt(n,t),n.prototype.slice=function(){return new s.Map(this)},n}(sn(Map)),t.exports=u.extend({type:"symbol",terms:{map:{init:new s.Map}},coerce:{method:function(t,n){var i=n.schema,r=n.error,e=i.$_terms.map.get(t);return e&&(t=e),i.Kd.only&&"symbol"!=(void 0===t?"undefined":x(t))?{value:t,errors:r("symbol.map",{map:i.$_terms.map})}:{value:t}}},validate:function(t,n){var i=n.error;if("symbol"!=(void 0===t?"undefined":x(t)))return{value:t,errors:i("symbol.base")}},rules:{map:{method:function(t){var i;t&&!t[n.iterator]&&"object"==typeof t&&(t=g.entries(t)),e(t&&t[n.iterator],"Iterable must be an iterable or object");for(var r=this.clone(),u=[],s=0;s<t.length;s++){var o=t[s];e(o&&o[n.iterator],"Entry must be an iterable");var a=Gt(o,2),c=a[0],h=a[1];e("object"!=typeof c&&"function"!=typeof c&&"symbol"!=(void 0===c?"undefined":x(c)),"Key must not be of type object, function, or Symbol"),e("symbol"==(void 0===h?"undefined":x(h)),"Value must be a Symbol"),r.$_terms.map.set(c,h),u.push(h)}return(i=r).valid.apply(i,jt(u))}}},manifest:{build:function(t,n){return n.map&&(t=t.map(n.map)),t}},messages:{"symbol.base":"{{#label}} must be a symbol","symbol.map":"{{#label}} must be one of {{#map}}"}})},8863:function(t,i,r){var e=r(375),u=r(8571),s=r(738),o=r(9621),a=r(8160),c=r(6354),h=r(493),f={result:n("result")};i.entry=function(t,n,i){var r=a.defaults;i&&(e(void 0===i.warnings,"Cannot override warnings preference in synchronous validation"),e(void 0===i.artifacts,"Cannot override artifacts preference in synchronous validation"),r=a.preferences(a.defaults,i));var u=f.entry(t,n,r);e(!u.mainstay.externals.length,"Schema with external rules must use validateAsync()");var s={value:u.value};return u.error&&(s.error=u.error),u.mainstay.warnings.length&&(s.warning=c.details(u.mainstay.warnings)),u.mainstay.debug&&(s.debug=u.mainstay.debug),u.mainstay.artifacts&&(s.artifacts=u.mainstay.artifacts),s},i.entryAsync=Ot((function(t,n,i){var r,e,u,s,h,v,l,d,g;return Rt(this,(function(w){switch(w.label){case 0:if(r=a.defaults,i&&(r=a.preferences(a.defaults,i)),e=f.entry(t,n,r),u=e.mainstay,e.error)throw u.debug&&(e.error.debug=u.debug),e.error;if(!u.externals.length)return[3,5];s=function(n,e){var s,l,d,g,w,y,m,A,p,_,k,b,M,T,N,D;return Rt(this,(function(I){switch(I.label){case 0:if(s=e[n],l=s.state.path,d="link"===s.schema.type?u.links.get(s.schema):null,g=void 0,w=void 0,y=h,m=l.length?[h]:[],A=l.length?o(t,l):t,l.length){for(g=l[l.length-1],p=h,_=0,k=l.slice(0,-1);_<k.length;_++)b=k[_],p=p[b],m.unshift(p);w=m[0],y=w[g]}I.label=1;case 1:return I.trys.push([1,3,,4]),M=function(t,n){return(d||s.schema).$_createError(t,y,n,s.state,r)},[4,s.method(y,{schema:s.schema,linked:d,state:s.state,prefs:i,original:A,error:M,errorsArray:f.errorsArray,warn:function(t,n){return u.warnings.push((d||s.schema).$_createError(t,y,n,s.state,r))},message:function(t,n){return(d||s.schema).$_createError("external",y,n,s.state,r,{messages:t})}})];case 2:return void 0===(T=I.sent())||T===y?[2,"continue"]:T instanceof c.Report?(u.tracer.log(s.schema,s.state,"rule","external","error"),v.push(T),r.abortEarly?[2,"break"]:[2,"continue"]):Array.isArray(T)&&T[a.symbols.errors]?(u.tracer.log(s.schema,s.state,"rule","external","error"),(N=v).push.apply(N,jt(T)),r.abortEarly?[2,"break"]:[2,"continue"]):(w?(u.tracer.value(s.state,"rule",y,T,"external"),w[g]=T):(u.tracer.value(s.state,"rule",h,T,"external"),h=T),[3,4]);case 3:throw D=I.sent(),r.errors.label&&(D.message+=" (".concat(s.label,")")),D;case 4:return[2]}}))},h=e.value,v=[],l=0,d=u.externals,w.label=1;case 1:return l<d.length?[5,Bt(s(l,d))]:[3,4];case 2:if("break"===w.sent())return[3,4];w.label=3;case 3:return l++,[3,1];case 4:if(e.value=h,v.length)throw e.error=c.process(v,t,r),u.debug&&(e.error.debug=u.debug),e.error;w.label=5;case 5:return r.warnings||r.debug||r.artifacts?(g={value:e.value},[2,(u.warnings.length&&(g.warning=c.details(u.warnings)),u.debug&&(g.debug=u.debug),u.artifacts&&(g.artifacts=u.artifacts),g)]):[2,e.value]}}))})),f.Mainstay=function(){function t(t,n,i){this.externals=[],this.warnings=[],this.tracer=t,this.debug=n,this.links=i,this.shadow=null,this.artifacts=null,this.Vf=[]}var n=t.prototype;return n.snapshot=function(){this.Vf.push({externals:this.externals.slice(),warnings:this.warnings.slice()})},n.restore=function(){var t=this.Vf.pop();this.externals=t.externals,this.warnings=t.warnings},n.commit=function(){this.Vf.pop()},t}(),f.entry=function(t,n,r){var e=f.tracer(n,r),u=e.tracer,s=e.cleanup,o=r.debug?[]:null,a=n.Vd.Ef?new Map:null,v=new f.Mainstay(u,o,a),l=n.Vd.Ef?[{schema:n}]:null,d=new h([],[],{mainstay:v,schemas:l}),g=i.validate(t,n,d,r);s&&n.$_root.untrace();var w=c.process(g.errors,t,r);return{value:g.value,error:w,mainstay:v}},f.tracer=function(t,n){return t.$_root.uf?{tracer:t.$_root.uf.Wf(t)}:n.debug?(e(t.$_root.trace,"Debug mode not supported"),{tracer:t.$_root.trace().Wf(t),cleanup:!0}):{tracer:f.ignore}},i.validate=function(t,n,i,r,e){if(void 0===e&&(e={}),n.$_terms.whens&&(n=n.vf(t,i,r).schema),n.Wd&&(r=f.prefs(n,r)),n.Xd&&r.cache){var u=n.Xd.get(t);if(i.mainstay.tracer.debug(i,"validate","cached",!!u),u)return u}var s=function(e,u,s){return n.$_createError(e,t,u,s||i,r)},o={original:t,prefs:r,schema:n,state:i,error:s,errorsArray:f.errorsArray,warn:function(t,n,r){return i.mainstay.warnings.push(s(t,n,r))},message:function(e,u){return n.$_createError("custom",t,u,i,r,{messages:e})}};i.mainstay.tracer.entry(n,i);var c=n.sf;if(c.prepare&&void 0!==t&&r.convert){var h=c.prepare(t,o);if(h){if(i.mainstay.tracer.value(i,"prepare",t,h.value),h.errors)return f.finalize(h.value,[].concat(h.errors),o);t=h.value}}if(c.coerce&&void 0!==t&&r.convert&&(!c.coerce.from||c.coerce.from.includes(void 0===t?"undefined":x(t)))){var v=c.coerce.method(t,o);if(v){if(i.mainstay.tracer.value(i,"coerced",t,v.value),v.errors)return f.finalize(v.value,[].concat(v.errors),o);t=v.value}}var l=n.Kd.empty;l&&l.$_match(f.trim(t,n),i.nest(l),a.defaults)&&(i.mainstay.tracer.value(i,"empty",t,void 0),t=void 0);var d=e.presence||n.Kd.presence||(n.Kd.zf?null:r.presence);if(void 0===t){if("forbidden"===d)return f.finalize(t,null,o);if("required"===d)return f.finalize(t,[n.$_createError("any.required",t,null,i,r)],o);if("optional"===d){if(n.Kd.default!==a.symbols.deepDefault)return f.finalize(t,null,o);i.mainstay.tracer.value(i,"default",t,{}),t={}}}else if("forbidden"===d)return f.finalize(t,[n.$_createError("any.unknown",t,null,i,r)],o);var g=[];if(n.Zd){var w=n.Zd.get(t,i,r,n.Kd.insensitive);if(w)return r.convert&&(i.mainstay.tracer.value(i,"valids",t,w.value),t=w.value),i.mainstay.tracer.filter(n,i,"valid",w),f.finalize(t,null,o);if(n.Kd.only){var y=n.$_createError("any.only",t,{valids:n.Zd.values({display:!0})},i,r);if(r.abortEarly)return f.finalize(t,[y],o);g.push(y)}}if(n.qd){var m=n.qd.get(t,i,r,n.Kd.insensitive);if(m){i.mainstay.tracer.filter(n,i,"invalid",m);var A=n.$_createError("any.invalid",t,{invalids:n.qd.values({display:!0})},i,r);if(r.abortEarly)return f.finalize(t,[A],o);g.push(A)}}if(c.validate){var p=c.validate(t,o);if(p&&(i.mainstay.tracer.value(i,"base",t,p.value),t=p.value,p.errors)){var _;if(!Array.isArray(p.errors))return g.push(p.errors),f.finalize(t,g,o);if(p.errors.length)return(_=g).push.apply(_,jt(p.errors)),f.finalize(t,g,o)}}return n.Jd.length?f.rules(t,g,o):f.finalize(t,g,o)},f.rules=function(t,n,i){for(var r=i.schema,e=i.state,u=i.prefs,s=0,o=r.Jd;s<o.length;s++){var c=o[s],h=r.sf.rules[c.method];if(h.convert&&u.convert)e.mainstay.tracer.log(r,e,"rule",c.name,"full");else{var v=void 0,l=c.args;if(c.lf.length){l=g.assign({},l);for(var d=0,w=c.lf;d<w.length;d++){var y=w[d],m=h.argsByName.get(y),A=l[y].resolve(t,e,u),p=m.normalize?m.normalize(A):A,_=a.validateArg(p,null,m);if(_){v=r.$_createError("any.ref",A,{arg:y,ref:l[y],reason:_},e,u);break}l[y]=p}}v=v||h.validate(t,i,l,c);var k=f.rule(v,c);if(k.errors){var b;if(e.mainstay.tracer.log(r,e,"rule",c.name,"error"),c.warn){var M;(M=e.mainstay.warnings).push.apply(M,jt(k.errors));continue}if(u.abortEarly)return f.finalize(t,k.errors,i);(b=n).push.apply(b,jt(k.errors))}else e.mainstay.tracer.log(r,e,"rule",c.name,"pass"),e.mainstay.tracer.value(e,"rule",t,k.value,c.name),t=k.value}}return f.finalize(t,n,i)},f.rule=function(t,n){return t instanceof c.Report?(f.error(t,n),{errors:[t],value:null}):Array.isArray(t)&&t[a.symbols.errors]?(t.forEach((function(t){return f.error(t,n)})),{errors:t,value:null}):{errors:null,value:t}},f.error=function(t,n){return n.message&&t.bf(n.message),t},f.finalize=function(t,n,i){n=n||[];var r=i.schema,u=i.state,s=i.prefs;if(n.length){var o=f.default("failover",void 0,n,i);void 0!==o&&(u.mainstay.tracer.value(u,"failover",t,o),t=o,n=[])}if(n.length&&r.Kd.error)if("function"==typeof r.Kd.error){n=r.Kd.error(n),Array.isArray(n)||(n=[n]);for(var a=0;a<n.length;a++){var h=n[a];e(h instanceof v||h instanceof c.Report,"error() must return an Error object")}}else n=[r.Kd.error];if(void 0===t){var l=f.default("default",t,n,i);u.mainstay.tracer.value(u,"default",t,l),t=l}if(r.Kd.cast&&void 0!==t){var d=r.sf.cast[r.Kd.cast];if(d.from(t)){var g=d.to(t,i);u.mainstay.tracer.value(u,"cast",t,g,r.Kd.cast),t=g}}if(r.$_terms.externals&&s.externals&&!1!==s._f)for(var w=0,y=r.$_terms.externals;w<y.length;w++){var m=y[w].method;u.mainstay.externals.push({method:m,schema:r,state:u,label:c.label(r.Kd,u,s)})}var A={value:t,errors:n.length?n:null};return r.Kd.result&&(A.value="strip"===r.Kd.result?void 0:i.original,u.mainstay.tracer.value(u,r.Kd.result,t,A.value),u.shadow(t,r.Kd.result)),r.Xd&&!1!==s.cache&&!r.Hd.length&&r.Xd.set(i.original,A),void 0===t||A.errors||void 0===r.Kd.artifact||(u.mainstay.artifacts=u.mainstay.artifacts||new Map,u.mainstay.artifacts.has(r.Kd.artifact)||u.mainstay.artifacts.set(r.Kd.artifact,[]),u.mainstay.artifacts.get(r.Kd.artifact).push(u.path)),A},f.prefs=function(t,n){var i=n===a.defaults;return i&&t.Wd[a.symbols.prefs]?t.Wd[a.symbols.prefs]:(n=a.preferences(n,t.Wd),i&&(t.Wd[a.symbols.prefs]=n),n)},f.default=function(t,n,i,r){var e=r.schema,s=r.state,o=r.prefs,c=e.Kd[t];if(o.noDefaults||void 0===c)return n;if(s.mainstay.tracer.log(e,s,"rule",t,"full"),!c)return c;if("function"==typeof c){var h=c.length?[u(s.ancestors[0]),r]:[];try{return c.apply(void 0,jt(h))}catch(n){return void i.push(e.$_createError("any.".concat(t),null,{error:n},s,o))}}return"object"!=typeof c?c:c[a.symbols.literal]?c.literal:a.isResolvable(c)?c.resolve(n,s,o):u(c)},f.trim=function(t,n){if("string"!=typeof t)return t;var i=n.$_getRule("trim");return i&&i.args.enabled?t.trim():t},f.ignore={active:!1,debug:s,entry:s,filter:s,log:s,resolve:s,value:s},f.errorsArray=function(){var t=[];return t[a.symbols.errors]=!0,t}},2036:function(t,n,i){var r=i(375),e=i(9474),u=i(8160),s={};t.exports=s.Values=function(){function t(t,n){this.tf=new Set(t),this.Hd=new Set(n),this.Hf=s.lowercases(t),this.Xf=!1}var n=t.prototype;return n.add=function(t,n){u.isResolvable(t)?this.Hd.has(t)||(this.Hd.add(t),n&&n.register(t)):this.has(t,null,null,!1)||(this.tf.add(t),"string"==typeof t&&this.Hf.set(t.toLowerCase(),t))},n.remove=function(t){u.isResolvable(t)?this.Hd.delete(t):(this.tf.delete(t),"string"==typeof t&&this.Hf.delete(t.toLowerCase()))},n.has=function(t,n,i,r){return!!this.get(t,n,i,r)},n.get=function(t,n,i,r){if(!this.length)return!1;if(this.tf.has(t))return{value:t};if("string"==typeof t&&t&&r){var u=this.Hf.get(t.toLowerCase());if(u)return{value:u}}if(!this.Hd.size&&"object"!=typeof t)return!1;if("object"==typeof t)for(var s=0,o=this.tf;s<o.length;s++){var a=o[s];if(e(a,t))return{value:a}}if(n)for(var c=0,h=this.Hd;c<h.length;c++){var f=h[c],v=f.resolve(t,n,i,null,{in:!0});if(void 0!==v)for(var l=f.in&&"object"==typeof v?Array.isArray(v)?v:g.keys(v):[v],d=0;d<l.length;d++){var w=l[d];if((void 0===w?"undefined":x(w))==(void 0===t?"undefined":x(t)))if(r&&t&&"string"==typeof t){if(w.toLowerCase()===t.toLowerCase())return{value:w,ref:f}}else if(e(w,t))return{value:w,ref:f}}}return!1},n.override=function(){this.Xf=!0},n.values=function(t){if(t&&t.display){for(var n=[],i=0,r=jt(this.tf).concat(jt(this.Hd));i<r.length;i++){var e=r[i];void 0!==e&&n.push(e)}return n}return Array.from(jt(this.tf).concat(jt(this.Hd)))},n.clone=function(){var t=new s.Values(this.tf,this.Hd);return t.Xf=this.Xf,t},n.concat=function(t){r(!t.Xf,"Cannot concat override set of values");var n=new s.Values(jt(this.tf).concat(jt(t.tf)),jt(this.Hd).concat(jt(t.Hd)));return n.Xf=this.Xf,n},n.describe=function(){var t=[];this.Xf&&t.push({override:!0});for(var n=0,i=this.tf.values();n<i.length;n++){var r=i[n];t.push(r&&"object"==typeof r?{value:r}:r)}for(var e=0,u=this.Hd.values();e<u.length;e++){var s=u[e];t.push(s.describe())}return t},t.merge=function(t,n,i){if(t=t||new s.Values,n){if(n.Xf)return n.clone();for(var r=0,e=jt(n.tf).concat(jt(n.Hd));r<e.length;r++){var u=e[r];t.add(u)}}if(i)for(var o=0,a=jt(i.tf).concat(jt(i.Hd));o<a.length;o++){var c=a[o];t.remove(c)}return t.length?t:null},At(t,[{key:"length",get:function(){return this.tf.size+this.Hd.size}}]),t}(),s.Values.prototype[u.symbols.values]=!0,s.Values.prototype.slice=s.Values.prototype.clone,s.lowercases=function(t){var n=new Map;if(t)for(var i=0;i<t.length;i++){var r=t[i];"string"==typeof r&&n.set(r.toLowerCase(),r)}return n}},978:function(t,n,i){var r=i(375),e=i(8571),u=i(1687),s=i(9621),o={};t.exports=function(t,n,i){if(void 0===i&&(i={}),r(t&&"object"==typeof t,"Invalid defaults value: must be an object"),r(!n||!0===n||"object"==typeof n,"Invalid source value: must be true, falsy or an object"),r("object"==typeof i,"Invalid options: must be an object"),!n)return null;if(i.shallow)return o.applyToDefaultsWithShallow(t,n,i);var s=e(t);if(!0===n)return s;var a=void 0!==i.nullOverride&&i.nullOverride;return u(s,n,{nullOverride:a,mergeArrays:!1})},o.applyToDefaultsWithShallow=function(t,n,i){var a=i.shallow;r(Array.isArray(a),"Invalid keys");for(var c=new Map,h=!0===n?null:new Set,f=0;f<a.length;f++){var v=a[f];v=Array.isArray(v)?v:v.split(".");var l=s(t,v);l&&"object"==typeof l?c.set(l,h&&s(n,v)||l):h&&h.add(v)}var d=e(t,{},c);if(!h)return d;for(var g=0;g<h.length;g++){var w=h[g];o.reachCopy(d,n,w)}var y=void 0!==i.nullOverride&&i.nullOverride;return u(d,n,{nullOverride:y,mergeArrays:!1})},o.reachCopy=function(t,n,i){for(var r=0;r<i.length;r++){var e=i[r];if(!(e in n))return;var u=n[e];if("object"!=typeof u||null===u)return;n=u}for(var s=n,o=t,a=0;a<i.length-1;++a){var c=i[a];"object"!=typeof o[c]&&(o[c]={}),o=o[c]}o[i[i.length-1]]=s}},375:function(t,n,i){var r=i(7916);t.exports=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];if(!t)throw 1===i.length&&i[0]instanceof v?i[0]:new r(i)}},8571:function(t,n,i){var r=i(9621),e=i(4277),u=i(7043),s={needsProtoHack:new Set([e.set,e.map,e.weakSet,e.weakMap])};t.exports=s.clone=function(t,n,i){if(void 0===n&&(n={}),void 0===i&&(i=null),"object"!=typeof t||null===t)return t;var r=s.clone,o=i;if(n.shallow){if(!0!==n.shallow)return s.cloneWithShallow(t,n);r=function(t){return t}}else if(o){var a=o.get(t);if(a)return a}else o=new Map;var c=e.getInternalProto(t);if(c===e.buffer)return!1;if(c===e.date)return new Date(t.getTime());if(c===e.regex)return new RegExp(t);var h=s.base(t,c,n);if(h===t)return t;if(o&&o.set(t,h),c===e.set)for(var f=0;f<t.length;f++){var v=t[f];h.add(r(v,n,o))}else if(c===e.map)for(var l=0;l<t.length;l++){var d=Gt(t[l],2),w=d[0],y=d[1];h.set(w,r(y,n,o))}for(var m=u.keys(t,n),A=0;A<m.length;A++){var p=m[A];if("__proto__"!==p)if(c!==e.array||"length"!==p){var _=g.getOwnPropertyDescriptor(t,p);_?_.get||_.set?g.defineProperty(h,p,_):_.enumerable?h[p]=r(t[p],n,o):g.defineProperty(h,p,{enumerable:!1,writable:!0,configurable:!0,value:r(t[p],n,o)}):g.defineProperty(h,p,{enumerable:!0,writable:!0,configurable:!0,value:r(t[p],n,o)})}else h.length=t.length}return h},s.cloneWithShallow=function(t,n){var i=n.shallow;(n=g.assign({},n)).shallow=!1;for(var e=new Map,u=0;u<i.length;u++){var o=i[u],a=r(t,o);"object"!=typeof a&&"function"!=typeof a||e.set(a,a)}return s.clone(t,n,e)},s.base=function(t,n,i){if(!1===i.prototype)return s.needsProtoHack.has(n)?new n.constructor:n===e.array?[]:{};var r=g.getPrototypeOf(t);if(r&&r.isImmutable)return t;if(n===e.array){var u=[];return r!==n&&g.setPrototypeOf(u,r),u}if(s.needsProtoHack.has(n)){var o=new r.constructor;return r!==n&&g.setPrototypeOf(o,r),o}return g.create(r)}},9474:function(t,n,i){var r=i(4277),e={mismatched:null};t.exports=function(t,n,i){return i=g.assign({prototype:!0},i),!!e.isDeepEqual(t,n,i,[])},e.isDeepEqual=function(t,n,i,u){if(t===n)return 0!==t||1/t==1/n;var s=void 0===t?"undefined":x(t);if(s!==(void 0===n?"undefined":x(n))||null===t||null===n)return!1;if("function"===s){if(!i.deepFunction||t.toString()!==n.toString())return!1}else if("object"!==s)return t!=t&&n!=n;var o=e.getSharedType(t,n,!!i.prototype);switch(o){case r.buffer:return!1;case r.promise:return t===n;case r.regex:return t.toString()===n.toString();case e.mismatched:return!1}for(var a=u.length-1;a>=0;--a)if(u[a].isSame(t,n))return!0;u.push(new e.SeenEntry(t,n));try{return!!e.isDeepEqualObj(o,t,n,i,u)}finally{u.pop()}},e.getSharedType=function(t,n,i){if(i)return g.getPrototypeOf(t)!==g.getPrototypeOf(n)?e.mismatched:r.getInternalProto(t);var u=r.getInternalProto(t);return u!==r.getInternalProto(n)?e.mismatched:u},e.valueOf=function(t){var n=t.valueOf;if(void 0===n)return t;try{return n.call(t)}catch(t){return t}},e.hasOwnEnumerableProperty=function(t,n){return g.prototype.propertyIsEnumerable.call(t,n)},e.isSetSimpleEqual=function(t,n){for(var i=0,r=Set.prototype.values.call(t);i<r.length;i++){var e=r[i];if(!Set.prototype.has.call(n,e))return!1}return!0},e.isDeepEqualObj=function(t,n,i,u,s){var o=e.isDeepEqual,a=e.valueOf,c=e.hasOwnEnumerableProperty,h=g.keys,f=g.getOwnPropertySymbols;if(t===r.array){if(!u.part){if(n.length!==i.length)return!1;for(var v=0;v<n.length;++v)if(!o(n[v],i[v],u,s))return!1;return!0}for(var l=0;l<n.length;l++)for(var d=n[l],w=0;w<i.length;w++)if(o(d,i[w],u,s))return!0}else if(t===r.set){if(n.size!==i.size)return!1;if(!e.isSetSimpleEqual(n,i))for(var y=new Set(Set.prototype.values.call(i)),m=0,A=Set.prototype.values.call(n);m<A.length;m++){var p=A[m];if(!y.delete(p)){for(var _=!1,k=0;k<y.length;k++){var b=y[k];if(o(p,b,u,s)){y.delete(b),_=!0;break}}if(!_)return!1}}}else if(t===r.map){if(n.size!==i.size)return!1;for(var M=0,T=Map.prototype.entries.call(n);M<T.length;M++){var N=Gt(T[M],2),D=N[0],I=N[1];if(void 0===I&&!Map.prototype.has.call(i,D)||!o(I,Map.prototype.get.call(i,D),u,s))return!1}}else if(t===r.error&&(n.name!==i.name||n.message!==i.message))return!1;var E=a(n),S=a(i);if((n!==E||i!==S)&&!o(E,S,u,s))return!1;var L=h(n);if(!u.part&&L.length!==h(i).length&&!u.skip)return!1;for(var j=0,C=0;C<L.length;C++){var x=L[C];if(u.skip&&u.skip.includes(x))void 0===i[x]&&++j;else if(!c(i,x)||!o(n[x],i[x],u,s))return!1}if(!u.part&&L.length-j!==h(i).length)return!1;if(!1!==u.symbols){for(var O=f(n),z=new Set(f(i)),R=0;R<O.length;R++){var B=O[R];if(!u.skip||!u.skip.includes(B))if(c(n,B)){if(!c(i,B)||!o(n[B],i[B],u,s))return!1}else if(c(i,B))return!1;z.delete(B)}for(var P=0;P<z.length;P++)if(c(i,z[P]))return!1}return!0},e.SeenEntry=function(){function t(t,n){this.obj=t,this.ref=n}return t.prototype.isSame=function(t,n){return this.obj===t&&this.ref===n},t}()},7916:function(t,n,i){var r=i(8761);t.exports=function(t){function i(i){var e;return e=t.call(this,i.filter((function(t){return""!==t})).map((function(t){return"string"==typeof t?t:t instanceof v?t.message:r(t)})).join(" ")||"Unknown error")||this,"function"==typeof v.captureStackTrace&&v.captureStackTrace(Wt(e),n.assert),tn(e)}return bt(i,t),i}(sn(v))},5277:function(t){var n={};t.exports=function(t){if(!t)return"";for(var i="",r=0;r<t.length;++r){var e=t.charCodeAt(r);n.isSafe(e)?i+=t[r]:i+=n.escapeHtmlChar(e)}return i},n.escapeHtmlChar=function(t){return n.namedHtml.get(t)||(t>=256?"&#"+t+";":"&#x".concat(t.toString(16).padStart(2,"0"),";"))},n.isSafe=function(t){return n.safeCharCodes.has(t)},n.namedHtml=new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[34,"&quot;"],[160,"&nbsp;"],[162,"&cent;"],[163,"&pound;"],[164,"&curren;"],[169,"&copy;"],[174,"&reg;"]]),n.safeCharCodes=function(){for(var t=new Set,n=32;n<123;++n)(n>=97||n>=65&&n<=90||n>=48&&n<=57||32===n||46===n||44===n||45===n||58===n||95===n)&&t.add(n);return t}()},6064:function(t){t.exports=function(t){return t.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}},738:function(t){t.exports=function(){}},1687:function(t,n,i){var r=i(375),e=i(8571),u=i(7043),s={};t.exports=s.merge=function(t,n,i){if(r(t&&"object"==typeof t,"Invalid target value: must be an object"),r(null==n||"object"==typeof n,"Invalid source value: must be null, undefined, or an object"),!n)return t;if(i=g.assign({nullOverride:!0,mergeArrays:!0},i),Array.isArray(n)){r(Array.isArray(t),"Cannot merge array onto an object"),i.mergeArrays||(t.length=0);for(var o=0;o<n.length;++o)t.push(e(n[o],{symbols:i.symbols}));return t}for(var a=u.keys(n,i),c=0;c<a.length;++c){var h=a[c];if("__proto__"!==h&&g.prototype.propertyIsEnumerable.call(n,h)){var f=n[h];if(f&&"object"==typeof f){if(t[h]===f)continue;!t[h]||"object"!=typeof t[h]||Array.isArray(t[h])!==Array.isArray(f)||f instanceof Date||f instanceof RegExp?t[h]=e(f,{symbols:i.symbols}):s.merge(t[h],f,i)}else(null!=f||i.nullOverride)&&(t[h]=f)}}return t}},9621:function(t,n,i){var r=i(375),e={};t.exports=function(t,n,i){if(!1===n||null==n)return t;"string"==typeof(i=i||{})&&(i={separator:i});var u=Array.isArray(n);r(!u||!i.separator,"Separator option is not valid for array-based chain");for(var s=u?n:n.split(i.separator||"."),o=t,a=0;a<s.length;++a){var c=s[a],h=i.iterables&&e.iterables(o);if(Array.isArray(o)||"set"===h){var f=Number(c);Number.isInteger(f)&&(c=f<0?o.length+f:f)}if(!o||"function"==typeof o&&!1===i.functions||!h&&void 0===o[c]){r(!i.strict||a+1===s.length,"Missing segment",c,"in reach path ",n),r("object"==typeof o||!0===i.functions||"function"!=typeof o,"Invalid segment",c,"in reach path ",n),o=i.default;break}o=h?"set"===h?jt(o)[c]:o.get(c):o[c]}return o},e.iterables=function(t){return t instanceof Set?"set":t instanceof Map?"map":void 0}},8761:function(t){t.exports=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];try{var r;return(r=JSON).stringify.apply(r,jt(n))}catch(t){return"[Cannot display object: "+t.message+"]"}}},4277:function(t,n){var i={};n=t.exports={array:Array.prototype,buffer:!1,date:Date.prototype,error:v.prototype,generic:g.prototype,map:Map.prototype,promise:q.prototype,regex:RegExp.prototype,set:Set.prototype,weakMap:WeakMap.prototype,weakSet:WeakSet.prototype},i.typeMap=new Map([["[object Error]",n.error],["[object Map]",n.map],["[object Promise]",n.promise],["[object Set]",n.set],["[object WeakMap]",n.weakMap],["[object WeakSet]",n.weakSet]]),n.getInternalProto=function(t){if(Array.isArray(t))return n.array;if(t instanceof Date)return n.date;if(t instanceof RegExp)return n.regex;if(t instanceof v)return n.error;var r=g.prototype.toString.call(t);return i.typeMap.get(r)||n.generic}},7043:function(t,n){n.keys=function(t,n){return void 0===n&&(n={}),!1!==n.symbols?Reflect.ownKeys(t):g.getOwnPropertyNames(t)}},3652:function(t,n,i){var r=i(375),e={};n.Sorter=function(){function t(){this.Xu=[],this.nodes=[]}var n=t.prototype;return n.add=function(t,n){var i=[].concat((n=n||{}).before||[]),e=[].concat(n.after||[]),u=n.group||"?",s=n.sort||0;r(!i.includes(u),"Item cannot come before itself: ".concat(u)),r(!i.includes("?"),"Item cannot come before unassociated items"),r(!e.includes(u),"Item cannot come after itself: ".concat(u)),r(!e.includes("?"),"Item cannot come after unassociated items"),Array.isArray(t)||(t=[t]);for(var o=0;o<t.length;o++){var a=t[o],c={seq:this.Xu.length,sort:s,before:i,after:e,group:u,node:a};this.Xu.push(c)}if(!n.manual){var h=this.Zf();r(h,"item","?"!==u?"added into group ".concat(u):"","created a dependencies error")}return this.nodes},n.merge=function(t){Array.isArray(t)||(t=[t]);for(var n=0;n<t.length;n++){var i=t[n];if(i)for(var u=0,s=i.Xu;u<s.length;u++){var o=s[u];this.Xu.push(g.assign({},o))}}this.Xu.sort(e.mergeSort);for(var a=0;a<this.Xu.length;++a)this.Xu[a].seq=a;var c=this.Zf();return r(c,"merge created a dependencies error"),this.nodes},n.sort=function(){var t=this.Zf();return r(t,"sort created a dependencies error"),this.nodes},n.Zf=function(){for(var t,n={},i=g.create(null),r=g.create(null),e=0,u=this.Xu;e<u.length;e++){var s=u[e],o=s.seq,a=s.group;r[a]=r[a]||[],r[a].push(o),n[o]=s.before;for(var c=0,h=s.after;c<h.length;c++){var f=h[c];i[f]=i[f]||[],i[f].push(o)}}for(var v in n){var l=[];for(var d in n[v]){var w,y=n[v][d];r[y]=r[y]||[],(w=l).push.apply(w,jt(r[y]))}n[v]=l}for(var m in i)if(r[m])for(var A=0,p=r[m];A<p.length;A++)(t=n[p[A]]).push.apply(t,jt(i[m]));var _={};for(var k in n)for(var b=n[k],M=0;M<b.length;M++){var T=b[M];_[T]=_[T]||[],_[T].push(k)}for(var N={},D=[],I=0;I<this.Xu.length;++I){var E=I;if(_[I]){E=null;for(var S=0;S<this.Xu.length;++S)if(!0!==N[S]){_[S]||(_[S]=[]);for(var L=_[S].length,j=0,C=0;C<L;++C)N[_[S][C]]&&++j;if(j===L){E=S;break}}}null!==E&&(N[E]=!0,D.push(E))}if(D.length!==this.Xu.length)return!1;for(var x={},O=0,z=this.Xu;O<z.length;O++){var R=z[O];x[R.seq]=R}this.Xu=[],this.nodes=[];for(var B=0;B<D.length;B++){var P=x[D[B]];this.nodes.push(P.node),this.Xu.push(P)}return!0},t}(),e.mergeSort=function(t,n){return t.sort===n.sort?0:t.sort<n.sort?-1:1}},5380:function(t,n,i){var r=i(443),e=i(2178),u={minDomainSegments:2,nonAsciiRx:/[^\x00-\x7f]/,domainControlRx:/[\x00-\x20@\:\/\\#!\$&\'\(\)\*\+,;=\?]/,tldSegmentRx:/^[a-zA-Z](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,domainSegmentRx:/^[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,URL:r.URL||URL};n.analyze=function(t,n){if(void 0===n&&(n={}),!t)return e.code("DOMAIN_NON_EMPTY_STRING");if("string"!=typeof t)throw new v("Invalid input: domain must be a string");if(t.length>256)return e.code("DOMAIN_TOO_LONG");if(u.nonAsciiRx.test(t)){if(!1===n.allowUnicode)return e.code("DOMAIN_INVALID_UNICODE_CHARS");t=t.normalize("NFC")}if(u.domainControlRx.test(t))return e.code("DOMAIN_INVALID_CHARS");t=u.punycode(t),n.allowFullyQualified&&"."===t[t.length-1]&&(t=t.slice(0,-1));var i=n.minDomainSegments||u.minDomainSegments,r=t.split(".");if(r.length<i)return e.code("DOMAIN_SEGMENTS_COUNT");if(n.maxDomainSegments&&r.length>n.maxDomainSegments)return e.code("DOMAIN_SEGMENTS_COUNT_MAX");var s=n.tlds;if(s){var o=r[r.length-1].toLowerCase();if(s.deny&&s.deny.has(o)||s.allow&&!s.allow.has(o))return e.code("DOMAIN_FORBIDDEN_TLDS")}for(var a=0;a<r.length;++a){var c=r[a];if(!c.length)return e.code("DOMAIN_EMPTY_SEGMENT");if(c.length>63)return e.code("DOMAIN_LONG_SEGMENT");if(a<r.length-1){if(!u.domainSegmentRx.test(c))return e.code("DOMAIN_INVALID_CHARS")}else if(!u.tldSegmentRx.test(c))return e.code("DOMAIN_INVALID_TLDS_CHARS")}return null},n.isValid=function(t,i){return!n.analyze(t,i)},u.punycode=function(t){t.includes("%")&&(t=t.replace(/%/g,"%25"));try{return new u.URL("http://".concat(t)).host}catch(n){return t}}},1745:function(t,n,i){var r=i(9848),e=i(5380),u=i(2178),s={nonAsciiRx:/[^\x00-\x7f]/,encoder:new(r.TextEncoder||TextEncoder)};n.analyze=function(t,n){return s.email(t,n)},n.isValid=function(t,n){return!s.email(t,n)},s.email=function(t,n){if(void 0===n&&(n={}),"string"!=typeof t)throw new v("Invalid input: email must be a string");if(!t)return u.code("EMPTY_STRING");var i=!s.nonAsciiRx.test(t);if(!i){if(!1===n.allowUnicode)return u.code("FORBIDDEN_UNICODE");t=t.normalize("NFC")}var r=t.split("@");if(2!==r.length)return r.length>2?u.code("MULTIPLE_AT_CHAR"):u.code("MISSING_AT_CHAR");var o=Gt(r,2),a=o[0],c=o[1];if(!a)return u.code("EMPTY_LOCAL");if(!n.ignoreLength){if(t.length>254)return u.code("ADDRESS_TOO_LONG");if(s.encoder.encode(a).length>64)return u.code("LOCAL_TOO_LONG")}return s.local(a,i)||e.analyze(c,n)},s.local=function(t,n){for(var i=t.split("."),r=0;r<i.length;r++){var e=i[r];if(!e.length)return u.code("EMPTY_LOCAL_SEGMENT");if(n){if(!s.atextRx.test(e))return u.code("INVALID_LOCAL_CHARS")}else for(var o=0;o<e.length;o++){var a=e[o];if(!s.atextRx.test(a)){var c=s.binary(a);if(!s.atomRx.test(c))return u.code("INVALID_LOCAL_CHARS")}}}},s.binary=function(t){return Array.from(s.encoder.encode(t)).map((function(t){return String.fromCharCode(t)})).join("")},s.atextRx=/^[\w!#\$%&'\*\+\-/=\?\^`\{\|\}~]+$/,s.atomRx=new RegExp(["(?:[\\xc2-\\xdf][\\x80-\\xbf])","(?:\\xe0[\\xa0-\\xbf][\\x80-\\xbf])|(?:[\\xe1-\\xec][\\x80-\\xbf]{2})|(?:\\xed[\\x80-\\x9f][\\x80-\\xbf])|(?:[\\xee-\\xef][\\x80-\\xbf]{2})","(?:\\xf0[\\x90-\\xbf][\\x80-\\xbf]{2})|(?:[\\xf1-\\xf3][\\x80-\\xbf]{3})|(?:\\xf4[\\x80-\\x8f][\\x80-\\xbf]{2})"].join("|"))},2178:function(t,n){n.codes={EMPTY_STRING:"Address must be a non-empty string",FORBIDDEN_UNICODE:"Address contains forbidden Unicode characters",MULTIPLE_AT_CHAR:"Address cannot contain more than one @ character",MISSING_AT_CHAR:"Address must contain one @ character",EMPTY_LOCAL:"Address local part cannot be empty",ADDRESS_TOO_LONG:"Address too long",LOCAL_TOO_LONG:"Address local part too long",EMPTY_LOCAL_SEGMENT:"Address local part contains empty dot-separated segment",INVALID_LOCAL_CHARS:"Address local part contains invalid character",DOMAIN_NON_EMPTY_STRING:"Domain must be a non-empty string",DOMAIN_TOO_LONG:"Domain too long",DOMAIN_INVALID_UNICODE_CHARS:"Domain contains forbidden Unicode characters",DOMAIN_INVALID_CHARS:"Domain contains invalid character",DOMAIN_INVALID_TLDS_CHARS:"Domain contains invalid tld character",DOMAIN_SEGMENTS_COUNT:"Domain lacks the minimum required number of segments",DOMAIN_SEGMENTS_COUNT_MAX:"Domain contains too many segments",DOMAIN_FORBIDDEN_TLDS:"Domain uses forbidden TLD",DOMAIN_EMPTY_SEGMENT:"Domain contains empty dot-separated segment",DOMAIN_LONG_SEGMENT:"Domain contains dot-separated segment that is too long"},n.code=function(t){return{code:t,error:n.codes[t]}}},9959:function(t,n,i){var r=i(375),e=i(5752);n.regex=function(t){void 0===t&&(t={}),r(void 0===t.cidr||"string"==typeof t.cidr,"options.cidr must be a string");var n=t.cidr?t.cidr.toLowerCase():"optional";r(["required","optional","forbidden"].includes(n),"options.cidr must be one of required, optional, forbidden"),r(void 0===t.version||"string"==typeof t.version||Array.isArray(t.version),"options.version must be a string or an array of string");var i=t.version||["ipv4","ipv6","ipvfuture"];Array.isArray(i)||(i=[i]),r(i.length>=1,"options.version must have at least 1 version specified");for(var u=0;u<i.length;++u)r("string"==typeof i[u],"options.version must only contain strings"),i[u]=i[u].toLowerCase(),r(["ipv4","ipv6","ipvfuture"].includes(i[u]),"options.version contains unknown version "+i[u]+" - must be one of ipv4, ipv6, ipvfuture");i=Array.from(new Set(i));var s="(?:".concat(i.map((function(t){if("forbidden"===n)return e.ip[t];var i="\\/".concat("ipv4"===t?e.ip.v4Cidr:e.ip.v6Cidr);return"required"===n?"".concat(e.ip[t]).concat(i):"".concat(e.ip[t],"(?:").concat(i,")?")})).join("|"),")"),o=new RegExp("^".concat(s,"$"));return{cidr:n,versions:i,regex:o,raw:s}}},5752:function(t,n,i){var r=i(375),e=i(6064),u={generate:function(){var t={},n="\\dA-Fa-f",i="["+n+"]",r="\\w-\\.~",e="!\\$&'\\(\\)\\*\\+,;=",u="%"+n,s=r+u+e+":@",o="["+s+"]",a="(?:0{0,2}\\d|0?[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";t.ipv4address="(?:"+a+"\\.){3}"+a;var c=i+"{1,4}",h="(?:"+c+":"+c+"|"+t.ipv4address+")",f="(?:"+c+":){6}"+h,v="::(?:"+c+":){5}"+h,l="(?:"+c+")?::(?:"+c+":){4}"+h,d="(?:(?:"+c+":){0,1}"+c+")?::(?:"+c+":){3}"+h,g="(?:(?:"+c+":){0,2}"+c+")?::(?:"+c+":){2}"+h,w="(?:(?:"+c+":){0,3}"+c+")?::"+c+":"+h,y="(?:(?:"+c+":){0,4}"+c+")?::"+h,m="(?:(?:"+c+":){0,5}"+c+")?::"+c,A="(?:(?:"+c+":){0,6}"+c+")?::";t.ipv4Cidr="(?:\\d|[1-2]\\d|3[0-2])",t.ipv6Cidr="(?:0{0,2}\\d|0?[1-9]\\d|1[01]\\d|12[0-8])",t.ipv6address="(?:"+f+"|"+v+"|"+l+"|"+d+"|"+g+"|"+w+"|"+y+"|"+m+"|"+A+")",t.ipvFuture="v"+i+"+\\.["+r+e+":]+",t.scheme="[a-zA-Z][a-zA-Z\\d+-\\.]*",t.schemeRegex=new RegExp(t.scheme);var p="["+r+u+e+":]*",_="["+r+u+e+"]{1,255}",k="(?:\\[(?:"+t.ipv6address+"|"+t.ipvFuture+")\\]|"+t.ipv4address+"|"+_+")",b="(?:"+p+"@)?"+k+"(?::\\d*)?",M="(?:"+p+"@)?("+k+")(?::\\d*)?",T=o+"*",N=o+"+",D="(?:\\/"+T+")*",I="\\/(?:"+N+D+")?",E=N+D,S="["+r+u+e+"@]+"+D,L="(?:\\/\\/\\/"+T+D+")";return t.hierPart="(?:(?:\\/\\/"+b+D+")|"+I+"|"+E+"|"+L+")",t.hierPartCapture="(?:(?:\\/\\/"+M+D+")|"+I+"|"+E+")",t.relativeRef="(?:(?:\\/\\/"+b+D+")|"+I+"|"+S+"|)",t.relativeRefCapture="(?:(?:\\/\\/"+M+D+")|"+I+"|"+S+"|)",t.query="["+s+"\\/\\?]*(?=#|$)",t.queryWithSquareBrackets="["+s+"\\[\\]\\/\\?]*(?=#|$)",t.fragment="["+s+"\\/\\?]*",t}};u.rfc3986=u.generate(),n.ip={v4Cidr:u.rfc3986.ipv4Cidr,v6Cidr:u.rfc3986.ipv6Cidr,ipv4:u.rfc3986.ipv4address,ipv6:u.rfc3986.ipv6address,ipvfuture:u.rfc3986.ipvFuture},u.createRegex=function(t){var n=u.rfc3986,i="(?:\\?"+(t.allowQuerySquareBrackets?n.queryWithSquareBrackets:n.query)+")?(?:#"+n.fragment+")?",s=t.domain?n.relativeRefCapture:n.relativeRef;if(t.relativeOnly)return u.wrap(s+i);var o="";if(t.scheme){r(t.scheme instanceof RegExp||"string"==typeof t.scheme||Array.isArray(t.scheme),"scheme must be a RegExp, String, or Array");var a=[].concat(t.scheme);r(a.length>=1,"scheme must have at least 1 scheme specified");for(var c=[],h=0;h<a.length;++h){var f=a[h];r(f instanceof RegExp||"string"==typeof f,"scheme at position "+h+" must be a RegExp or String"),f instanceof RegExp?c.push(f.source.toString()):(r(n.schemeRegex.test(f),"scheme at position "+h+" must be a valid scheme"),c.push(e(f)))}o=c.join("|")}var v="(?:"+(o?"(?:"+o+")":n.scheme)+":"+(t.domain?n.hierPartCapture:n.hierPart)+")",l=t.allowRelative?"(?:"+v+"|"+s+")":v;return u.wrap(l+i,o)},u.wrap=function(t,n){return{raw:t="(?=.)(?!https?:/(?:$|[^/]))(?!https?:///)(?!https?:[^/])".concat(t),regex:new RegExp("^".concat(t,"$")),scheme:n}},u.uriRegex=u.createRegex({}),n.regex=function(t){return void 0===t&&(t={}),t.scheme||t.allowRelative||t.relativeOnly||t.allowQuerySquareBrackets||t.domain?u.createRegex(t):u.uriRegex}},1447:function(t,i){var r={operators:["!","^","*","/","%","+","-","<","<=",">",">=","==","!=","&&","||","??"],operatorCharacters:["!","^","*","/","%","+","-","<","=",">","&","|","?"],operatorsOrder:[["^"],["*","/","%"],["+","-"],["<","<=",">",">="],["==","!="],["&&"],["||","??"]],operatorsPrefix:["!","n"],literals:{'"':'"',"`":"`","'":"'","[":"]"},numberRx:/^(?:[0-9]*(\.[0-9]*)?){1}$/,tokenRx:/^[\w\$\#\.\@\:\{\}]+$/,symbol:n("formula"),settings:n("settings")};i.Parser=function(){function t(t,n){if(void 0===n&&(n={}),!n[r.settings]&&n.constants)for(var i in n.constants){var e=n.constants[i];if(null!==e&&!["boolean","number","string"].includes(void 0===e?"undefined":x(e)))throw new v("Formula constant ".concat(i," contains invalid ").concat(void 0===e?"undefined":x(e)," value type"))}var u;this.settings=n[r.settings]?n:g.assign((Zt(u={},r.settings,!0),Zt(u,"constants",{}),Zt(u,"functions",{}),u),n),this.single=null,this.Kf=null,this.Cf(t)}var n=t.prototype;return n.Cf=function(t){for(var n=this,e=[],u="",s=0,o=!1,a=function(t){if(s)throw new v("Formula missing closing parenthesis");var a=e.length?e[e.length-1]:null;if(o||u||t){if(a&&"reference"===a.type&&")"===t)return a.type="function",a.value=n.qf(u,a.value),void(u="");if(")"===t){var c=new i.Parser(u,n.settings);e.push({type:"segment",value:c})}else if(o){if("]"===o)return e.push({type:"reference",value:u}),void(u="");e.push({type:"literal",value:u})}else if(r.operatorCharacters.includes(u))a&&"operator"===a.type&&r.operators.includes(a.value+u)?a.value+=u:e.push({type:"operator",value:u});else if(u.match(r.numberRx))e.push({type:"constant",value:m(u)});else if(void 0!==n.settings.constants[u])e.push({type:"constant",value:n.settings.constants[u]});else{if(!u.match(r.tokenRx))throw new v("Formula contains invalid token: ".concat(u));e.push({type:"reference",value:u})}u=""}},c=0;c<t.length;c++){var h=t[c];o?h===o?(a(),o=!1):u+=h:s?"("===h?(u+=h,++s):")"===h?--s?u+=h:a(h):u+=h:h in r.literals?o=r.literals[h]:"("===h?(a(),++s):r.operatorCharacters.includes(h)?(a(),u=h,a()):" "!==h?u+=h:a()}a(),e=e.map((function(t,n){return"operator"!==t.type||"-"!==t.value||n&&"operator"!==e[n-1].type?t:{type:"operator",value:"n"}}));for(var f=!1,l=0;l<e.length;l++){var d=e[l];if("operator"===d.type){if(r.operatorsPrefix.includes(d.value))continue;if(!f)throw new v("Formula contains an operator in invalid position");if(!r.operators.includes(d.value))throw new v("Formula contains an unknown operator ".concat(d.value))}else if(f)throw new v("Formula missing expected operator");f=!f}if(!f)throw new v("Formula contains invalid trailing operator");1===e.length&&["reference","literal","constant"].includes(e[0].type)&&(this.single={type:"reference"===e[0].type?"reference":"value",value:e[0].value}),this.Kf=e.map((function(t){if("operator"===t.type)return r.operatorsPrefix.includes(t.value)?t:t.value;if("reference"!==t.type)return t.value;if(n.settings.tokenRx&&!n.settings.tokenRx.test(t.value))throw new v("Formula contains invalid reference ".concat(t.value));return n.settings.reference?n.settings.reference(t.value):r.reference(t.value)}))},n.qf=function(t,n){var e=this,u=this.settings.functions[n];if("function"!=typeof u)throw new v("Formula contains unknown function ".concat(n));var s=[];if(t){for(var o="",a=0,c=!1,h=function(){if(!o)throw new v("Formula contains function ".concat(n," with invalid arguments ").concat(t));s.push(o),o=""},f=0;f<t.length;++f){var l=t[f];c?(o+=l,l===c&&(c=!1)):l in r.literals&&!a?(o+=l,c=r.literals[l]):","!==l||a?(o+=l,"("===l?++a:")"===l&&--a):h()}h()}return s=s.map((function(t){return new i.Parser(t,e.settings)})),function(t){for(var n,i=[],r=0;r<s.length;r++){var e=s[r];i.push(e.evaluate(t))}return(n=u).call.apply(n,[t].concat(jt(i)))}},n.evaluate=function(t){for(var n=this.Kf.slice(),i=n.length-2;i>=0;--i){var e=n[i];if(e&&"operator"===e.type){var u=n[i+1];n.splice(i+1,1);var s=r.evaluate(u,t);n[i]=r.single(e.value,s)}}return r.operatorsOrder.forEach((function(i){for(var e=1;e<n.length-1;)if(i.includes(n[e])){var u=n[e],s=r.evaluate(n[e-1],t),o=r.evaluate(n[e+1],t);n.splice(e,2);var a=r.calculate(u,s,o);n[e-1]=0===a?0:a}else e+=2})),r.evaluate(n[0],t)},t}(),i.Parser.prototype[r.symbol]=!0,r.reference=function(t){return function(n){return n&&void 0!==n[t]?n[t]:null}},r.evaluate=function(t,n){return null===t?null:"function"==typeof t?t(n):t[r.symbol]?t.evaluate(n):t},r.single=function(t,n){if("!"===t)return!n;var i=-n;return 0===i?0:i},r.calculate=function(t,n,i){if("??"===t)return r.exists(n)?n:i;if("string"==typeof n||"string"==typeof i){if("+"===t)return(n=r.exists(n)?n:"")+(r.exists(i)?i:"")}else switch(t){case"^":return w.pow(n,i);case"*":return n*i;case"/":return n/i;case"%":return n%i;case"+":return n+i;case"-":return n-i}switch(t){case"<":return n<i;case"<=":return n<=i;case">":return n>i;case">=":return n>=i;case"==":return n===i;case"!=":return n!==i;case"&&":return n&&i;case"||":return n||i}return null},r.exists=function(t){return null!=t}},9926:function(){},5688:function(){},9708:function(){},1152:function(){},443:function(){},9848:function(){},5934:function(t){t.exports=JSON.parse('{"version":"17.13.0"}')}},i={},function n(r){var e=i[r];if(void 0!==e)return e.exports;var u=i[r]={exports:{}};return t[r](u,u.exports,n),u.exports}(5107);var t,i}()}(re);var ee,ue=D(re.exports),se=function(t){function n(n,i,r,e){var u;if(u=t.call(this)||this,ee=r,!i)throw ee.error("Token generator is required to construct this module."),new v("Token generator is required to construct this module.");return u.webRTCPeer=new pr,u.signaling=null,u.autoReconnect=e,u.reconnectionInterval=1e3,u.alreadyDisconnected=!1,u.firstReconnection=!0,u.stopReconnection=!1,u.isReconnecting=!1,u.tokenGenerator=i,u.options=null,tn(u)}bt(n,t);var i=n.prototype;return i.getRTCPeerConnection=function(){return this.webRTCPeer?this.webRTCPeer.getRTCPeer():null},i.stop=function(){var t;ee.info("Stopping"),this.webRTCPeer.closeRTCPeer(),null==(t=this.signaling)||t.close(),this.signaling=null,this.stopReconnection=!0,this.webRTCPeer=new pr},i.isActive=function(){var t=this.webRTCPeer.getRTCPeerStatus();return ee.info("Broadcast status: ",t||"not_established"),"connected"===t},i.setReconnect=function(){var t=this;this.signaling.on("migrate",(function(){return t.replaceConnection()})),this.autoReconnect&&(this.signaling.on(zr,(function(){(t.firstReconnection||!t.alreadyDisconnected)&&(t.firstReconnection=!1,t.reconnect({error:new v("Signaling error: wsConnectionError")}))})),this.webRTCPeer.on(mr.connectionStateChange,(function(n){H(n),"connected"===n&&Z(new Date),("failed"===n||"disconnected"===n&&t.alreadyDisconnected)&&t.firstReconnection?(t.firstReconnection=!1,t.reconnect({error:new v("Connection state change: RTCPeerConnectionState disconnected")})):"disconnected"===n?(t.alreadyDisconnected=!0,a((function(){return t.reconnect({error:new v("Connection state change: RTCPeerConnectionState disconnected")})}),1500)):t.alreadyDisconnected=!1})))},i.reconnect=function(t){var n=this;return Ot((function(){var i;return Rt(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),ee.info("Attempting to reconnect..."),n.isActive()||n.stopReconnection||n.isReconnecting?[3,2]:(n.stop(),n.emit("reconnect",{timeout:oe(n.reconnectionInterval),error:null!=t&&t.error?null==t?void 0:t.error:new v("Attempting to reconnect")}),n.isReconnecting=!0,[4,n.connect(n.options)]);case 1:r.sent(),n.alreadyDisconnected=!1,n.reconnectionInterval=1e3,n.firstReconnection=!0,n.isReconnecting=!1,r.label=2;case 2:return[3,4];case 3:return i=r.sent(),n.isReconnecting=!1,n.reconnectionInterval=oe(n.reconnectionInterval),ee.error("Reconnection failed, retrying in ".concat(n.reconnectionInterval,"ms. "),i),a((function(){return n.reconnect({error:i})}),n.reconnectionInterval),[3,4];case 4:return[2]}}))}))()},n}(Et),oe=function(t){return t<32e3?2*t:t},ae=e.RTCRtpSender&&!!RTCRtpSender.prototype.createEncodedStreams&&e.RTCRtpReceiver&&!!RTCRtpReceiver.prototype.createEncodedStreams,ce="RTCRtpScriptTransform"in e,he="KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2NsYXNzIHd7Y29uc3RydWN0b3IodCl7dGhpcy5kYXRhPXQsdGhpcy5iaXRPZmZzZXQ9MH1yZWFkQml0cyh0KXtpZih0aGlzLmJpdE9mZnNldCt0PnRoaXMuZGF0YS5sZW5ndGgqOCl0aHJvdyBuZXcgRXJyb3IoIkF0dGVtcHRlZCB0byByZWFkIHBhc3QgdGhlIGVuZCBvZiB0aGUgYml0c3RyZWFtIik7bGV0IGU9MDtmb3IobGV0IGk9MDtpPHQ7aSsrKXtjb25zdCBzPU1hdGguZmxvb3IodGhpcy5iaXRPZmZzZXQvOCksYT03LXRoaXMuYml0T2Zmc2V0JTgscj10aGlzLmRhdGFbc10+PmEmMTtlfD1yPDx0LTEtaSx0aGlzLmJpdE9mZnNldCsrfXJldHVybiBlfXNraXAodCl7dGhpcy5iaXRPZmZzZXQrPXR9cmVhZEV4cEdvbG9tYlVuc2lnbmVkKCl7bGV0IHQ9LTE7Zm9yKGxldCBlPTA7ZT09PTA7dCsrKWU9dGhpcy5yZWFkQml0cygxKTtyZXR1cm4oMTw8dCktMSt0aGlzLnJlYWRCaXRzKHQpfXJlYWRFeHBHb2xvbWJTaWduZWQoKXtjb25zdCB0PXRoaXMucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCk7cmV0dXJuIHQlMj09PTA/LSh0LzIpOih0KzEpLzJ9fWNvbnN0IF89e1NMSUNFX05PTl9JRFI6MSxTTElDRV9QQVJUSVRJT05fQToyLFNMSUNFX0lEUjo1LFNFSV9IMjY0OjYsU0VJX0gyNjVfUFJFRklYOjM5LFNFSV9IMjY1X1NVRkZJWDo0MCxTUFNfSDI2NDo3LFNQU19IMjY1OjMzLFBQU19IMjY0OjgsUFBTX0gyNjU6MzR9LEg9e1BJQ19USU1JTkc6MSxVU0VSX0RBVEFfVU5SRUdJU1RFUkVEOjV9LGg9e0xFR0FDWToxLE5FVzoyLFRJTUVDT0RFOjMsT1RIRVI6NH0sUj0iNmU5Y2ZkMmEtNTkwNy00OWZmLWIzNjMtODk3OGE2ZTgzNDBlIixOPSI5YTIxZjNiZS0zMWYwLTRiNzgtYjBiZS1jN2Y3ZGJiOTcyNTAiLEE9ImQ0MGUzOGVhLWQ0MTktNGM2Mi05NGVkLTIwYWMzN2I0ZTRmYSI7Y2xhc3Mgentjb25zdHJ1Y3Rvcih0PSJIMjY0Iil7dGhpcy5zcHM9bmV3IE1hcCx0aGlzLnBwcz1uZXcgTWFwLHRoaXMuYWN0aXZlU1BTPW51bGwsdGhpcy5jb2RlYz10fWNvbGxlY3RQUFModCl7dGhpcy5jb2RlYz09PSJIMjY0Ij90aGlzLmNvbGxlY3RIMjY0UFBTKHQpOnRoaXMuY29sbGVjdEgyNjVQUFModCl9Y29sbGVjdFNQUyh0KXt0aGlzLmNvZGVjPT09IkgyNjQiP3RoaXMuY29sbGVjdEgyNjRTUFModCk6dGhpcy5jb2xsZWN0SDI2NVNQUyh0KX1jb2xsZWN0SDI2NFNQUyh0KXtjb25zdCBlPW5ldyB3KHQpLGk9ZS5yZWFkQml0cyg4KSxzPVsxMDAsMTEwLDEyMiwyNDQsNDQsODMsODYsMTE4LDEyOCwxMzgsMTM5LDEzNCwxMzVdO2Uuc2tpcCg4KSxlLnNraXAoOCk7Y29uc3QgYT1lLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpO2lmKGE+MzF8fGE8MCl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgc2VxX3BhcmFtZXRlcl9zZXRfaWQiKTtpZihzLmluY2x1ZGVzKGkpKXtjb25zdCBvPWUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCk7aWYobz09PTMmJmUuc2tpcCgxKSxlLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpLGUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCksZS5za2lwKDEpLGUucmVhZEJpdHMoMSkpe2NvbnN0IG09byE9PTM/ODoxMjtmb3IobGV0IHA9MDtwPG07cCsrKWlmKGUucmVhZEJpdHMoMSkpe2NvbnN0IEU9cDw2PzE2OjY0O2xldCBkPTgsdT04O2ZvcihsZXQgST0wO0k8RTtJKyspe2lmKHUhPT0wKXtjb25zdCBsPWUucmVhZEV4cEdvbG9tYlNpZ25lZCgpO3U9KGQrbCsyNTYpJTI1Nn1kPXU9PT0wP2Q6dX19fX1lLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpO2NvbnN0IHI9ZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKTtpZihyPT09MCllLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpO2Vsc2UgaWYocj09PTEpe2Uuc2tpcCgxKSxlLnJlYWRFeHBHb2xvbWJTaWduZWQoKSxlLnJlYWRFeHBHb2xvbWJTaWduZWQoKTtjb25zdCBvPWUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCk7Zm9yKGxldCBmPTA7ZjxvO2YrKyllLnJlYWRFeHBHb2xvbWJTaWduZWQoKX1lLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpLGUuc2tpcCgxKSxlLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpLGUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCksZS5yZWFkQml0cygxKT09PTAmJmUuc2tpcCgxKSxlLnNraXAoMSksZS5yZWFkQml0cygxKSYmKGUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCksZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKSxlLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpLGUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCkpO2xldCBjO2lmKGUucmVhZEJpdHMoMSkpe2xldCBmPWZ1bmN0aW9uKGQpe2NvbnN0IHU9ZC5yZWFkRXhwR29sb21iVW5zaWduZWQoKTtkLnNraXAoNCksZC5za2lwKDQpO2ZvcihsZXQgVT0wO1U8PXU7VSsrKWQucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCksZC5yZWFkRXhwR29sb21iVW5zaWduZWQoKSxkLnNraXAoMSk7ZC5za2lwKDUpO2NvbnN0IEk9ZC5yZWFkQml0cyg1KSxsPWQucmVhZEJpdHMoNSksRz1kLnJlYWRCaXRzKDUpO3JldHVybntjcGJfcmVtb3ZhbF9kZWxheV9sZW5ndGhfbWludXMxOkksZHBiX291dHB1dF9kZWxheV9sZW5ndGhfbWludXMxOmwsdGltZV9vZmZzZXRfbGVuZ3RoOkd9fTtlLnJlYWRCaXRzKDEpJiZlLnJlYWRCaXRzKDgpPT09MjU1JiYoZS5za2lwKDE2KSxlLnNraXAoMTYpKSxlLnJlYWRCaXRzKDEpJiZlLnNraXAoMSksZS5yZWFkQml0cygxKSYmKGUuc2tpcCgzKSxlLnNraXAoMSksZS5yZWFkQml0cygxKSYmZS5za2lwKDI0KSksZS5yZWFkQml0cygxKSYmKGUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCksZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKSk7Y29uc3Qgbz1lLnJlYWRCaXRzKDEpP3tudW1fdW5pdHNfaW5fdGljazplLnJlYWRCaXRzKDMyKSx0aW1lX3NjYWxlOmUucmVhZEJpdHMoMzIpLGZpeGVkX2ZyYW1lX3JhdGVfZmxhZzplLnJlYWRCaXRzKDEpfTp2b2lkIDAsbT1lLnJlYWRCaXRzKDEpP2YoZSk6dm9pZCAwLHA9ZS5yZWFkQml0cygxKT9mKGUpOnZvaWQgMDsobXx8cCkmJmUuc2tpcCgxKTtjb25zdCBFPWUucmVhZEJpdHMoMSk7Yz17dGltaW5nX2luZm86byxuYWxfaHJkX3BhcmFtZXRlcnM6bSx2Y2xfaHJkX3BhcmFtZXRlcnM6cCxwaWNfc3RydWN0X3ByZXNlbnRfZmxhZzpFfX10aGlzLnNwcy5zZXQoYSx7dnVpX3BhcmFtZXRlcnM6Y30pfWNvbGxlY3RIMjY1U1BTKHQpe31jb2xsZWN0SDI2NFBQUyh0KXtjb25zdCBlPW5ldyB3KHQpLGk9ZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKTtpZihpPjI1NXx8aTwwKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBwaWNfcGFyYW1ldGVyX3NldF9pZCIpO2NvbnN0IHM9ZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKTt0aGlzLnBwcy5zZXQoaSx7c2VxX3BhcmFtZXRlcl9zZXRfaWQ6c30pfWNvbGxlY3RIMjY1UFBTKHQpe31maW5kQWN0aXZlU1BTKHQpe2NvbnN0IGU9bmV3IHcodCk7ZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKSxlLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpO2NvbnN0IGk9ZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKSxzPXRoaXMucHBzLmdldChpKTtpZihzKXtjb25zdCBhPXRoaXMuc3BzLmdldChzLnNlcV9wYXJhbWV0ZXJfc2V0X2lkKTtpZihhKXt0aGlzLmFjdGl2ZVNQUz1hO3JldHVybn19dGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgZmluZCB0aGUgYWN0aXZlIFNQUyIpfX1jb25zdCBnPW5ldyB6O2Z1bmN0aW9uIEMobix0KXtmb3IoO3Q8bi5ieXRlTGVuZ3RoLTQ7KXtpZihuW3RdPT09MCYmblt0KzFdPT09MCYmKG5bdCsyXT09PTF8fG5bdCsyXT09PTAmJm5bdCszXT09PTEpKXJldHVybiB0O3QrPTF9cmV0dXJuLTF9ZnVuY3Rpb24gUChuKXtjb25zdCB0PW5ldyBVaW50OEFycmF5KG4uYnl0ZUxlbmd0aCk7bGV0IGU9MCxpPTA7Zm9yKGxldCBzPTI7czxuLmJ5dGVMZW5ndGg7cysrKW5bc109PT0zJiZuW3MtMV09PT0wJiZuW3MtMl09PT0wJiYodC5zZXQobi5zdWJhcnJheShpLHMpLGUpLGUrPXMtaSxpPXMrMSk7cmV0dXJuIGk8bi5ieXRlTGVuZ3RoJiZ0LnNldChuLnN1YmFycmF5KGkpLGUpLHR9ZnVuY3Rpb24gVyhuLHQpe2xldCBlPTA7Y29uc3QgaT10PT09IkgyNjQiPzE6MixzPVtdO2Zvcig7ZTxuLmJ5dGVMZW5ndGgtNDspe2NvbnN0IGE9QyhuLGUpO2lmKGE+PWUpe2NvbnN0IHI9blthKzJdPT09MT8zOjQsYz1DKG4sYStyK2kpO2lmKGM+YSlzLnB1c2gobi5zdWJhcnJheShhLGMpKSxlPWM7ZWxzZXtzLnB1c2gobi5zdWJhcnJheShhKSk7YnJlYWt9fWVsc2UgYnJlYWt9cmV0dXJuIHN9ZnVuY3Rpb24gRihuLHQpe2xldCBlPSEwO3JldHVybiBXKG4sdCkuZmlsdGVyKGk9Pntjb25zdCBzPWlbMl09PT0xPzM6NCxhPXQ9PT0iSDI2NCI/MToyLHI9aVtzXSxjPXQ9PT0iSDI2NCI/ciYzMTpyPj4xJjYzO2lmKGUpc3dpdGNoKGMpe2Nhc2UgXy5QUFNfSDI2NDpjYXNlIF8uUFBTX0gyNjU6Zy5jb2xsZWN0UFBTKFAoaS5zdWJhcnJheShzK2EpKSk7YnJlYWs7Y2FzZSBfLlNQU19IMjY0OmNhc2UgXy5TUFNfSDI2NTpnLmNvbGxlY3RTUFMoUChpLnN1YmFycmF5KHMrYSkpKTticmVhaztjYXNlIF8uU0xJQ0VfSURSOmNhc2UgXy5TTElDRV9OT05fSURSOmNhc2UgXy5TTElDRV9QQVJUSVRJT05fQTp0cnl7Zy5maW5kQWN0aXZlU1BTKFAoaS5zdWJhcnJheShzK2EpKSksZT0hMX1jYXRjaChvKXtjb25zb2xlLmluZm8oIkZhaWxlZCB0byBmaW5kIGFjdGl2ZSBTUFMuIFdpbGwgbm90IGJlIGFibGUgdG8gZXh0cmFjdCBQSUMgdGltaW5nIG1ldGFkYXRhIil9YnJlYWt9cmV0dXJuW18uU0VJX0gyNjQsXy5TRUlfSDI2NV9QUkVGSVgsXy5TRUlfSDI2NV9TVUZGSVhdLmluY2x1ZGVzKGMpfSl9ZnVuY3Rpb24gcShuKXtsZXQgdD0wLGU9MDtmb3IoO25bZV09PT0yNTU7KXQrPTI1NSxlKys7dCs9bltlXSxlKys7bGV0IGk9MDtmb3IoO25bZV09PT0yNTU7KWkrPTI1NSxlKys7cmV0dXJuIGkrPW5bZV0sZSsrLHt0eXBlOnQsY29udGVudDpuLnN1YmFycmF5KGUsZStpKX19ZnVuY3Rpb24gVihuKXtjb25zdCB0PW5ldyBVaW50OEFycmF5KFQoTikpLGU9bmV3IFVpbnQ4QXJyYXkoVChSKSksaT1uZXcgVWludDhBcnJheShUKEEpKTtyZXR1cm4gdC5ldmVyeSgocyxhKT0+cz09PW5bYV0pP2guVElNRUNPREU6ZS5ldmVyeSgocyxhKT0+cz09PW5bYV0pP2guTEVHQUNZOmkuZXZlcnkoKHMsYSk9PnM9PT1uW2FdKT9oLk5FVzpoLk9USEVSfWZ1bmN0aW9uIFkobix0KXtsZXQgZT0wO24udXVpZD10LnN1YmFycmF5KGUsZSsxNiksZSs9MTY7Y29uc3QgaT1WKG4udXVpZCkscz10LnN1YmFycmF5KGUpO3N3aXRjaChpKXtjYXNlIGguTEVHQUNZOmNhc2UgaC5PVEhFUjpuLnVucmVnaXN0ZXJlZD1zO2JyZWFrO2Nhc2UgaC5USU1FQ09ERTpuLnRpbWVjb2RlPUQocyk7YnJlYWs7Y2FzZSBoLk5FVzp7bGV0IGE9MDtjb25zdCByPUwoRGF0ZS5ub3coKSkubGVuZ3RoLGM9cy5zdWJhcnJheShhLHIpO2ErPXI7Y29uc3Qgbz1zLnN1YmFycmF5KGEpO24udGltZWNvZGU9RChjKSxuLnVucmVnaXN0ZXJlZD1vO2JyZWFrfX19ZnVuY3Rpb24gRChuKXtjb25zdCB0PW4ucmVkdWNlKChhLHIpPT4oYTw8QmlnSW50KDgpKStCaWdJbnQociksQmlnSW50KDApKSxlPU51bWJlcih0KSxpPW5ldyBEYXRlKGUpO3JldHVybiBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoaS50b0lTT1N0cmluZygpKX1mdW5jdGlvbiBqKG4sdCl7dmFyIGYsbSxwLEUsZDtpZighZy5hY3RpdmVTUFMpe2NvbnNvbGUud2FybigiQ2Fubm90IGZpbmQgdGhlIGFjdGl2ZSBTUFMiKTtyZXR1cm59Y29uc3QgZT0oZj1nLmFjdGl2ZVNQUy52dWlfcGFyYW1ldGVycy5uYWxfaHJkX3BhcmFtZXRlcnMpIT1udWxsP2Y6Zy5hY3RpdmVTUFMudnVpX3BhcmFtZXRlcnMudmNsX2hyZF9wYXJhbWV0ZXJzLGk9e2NwYl9kcGJfZGVsYXlzX3ByZXNlbnRfZmxhZzplPzE6MCxjcGJfcmVtb3ZhbF9kZWxheV9sZW5ndGhfbWludXMxOihtPWU9PW51bGw/dm9pZCAwOmUuY3BiX3JlbW92YWxfZGVsYXlfbGVuZ3RoX21pbnVzMSkhPW51bGw/bToyMyxkcGJfb3V0cHV0X2RlbGF5X2xlbmd0aF9taW51czE6KHA9ZT09bnVsbD92b2lkIDA6ZS5kcGJfb3V0cHV0X2RlbGF5X2xlbmd0aF9taW51czEpIT1udWxsP3A6MjMsdGltZV9vZmZzZXRfbGVuZ3RoOmU/KEU9ZS50aW1lX29mZnNldF9sZW5ndGgpIT1udWxsP0U6MjQ6dm9pZCAwLHBpY19zdHJ1Y3RfcHJlc2VudF9mbGFnOihkPWcuYWN0aXZlU1BTLnZ1aV9wYXJhbWV0ZXJzLnBpY19zdHJ1Y3RfcHJlc2VudF9mbGFnKSE9bnVsbD9kOjB9O2lmKCFpLnBpY19zdHJ1Y3RfcHJlc2VudF9mbGFnKXtjb25zb2xlLndhcm4oInBpY19zdHJ1Y3RfcHJlc2VudF9mbGFnIGlzIG5vdCBwcmVzZW50Iik7cmV0dXJufWNvbnN0IHM9bmV3IHcodCk7aS5jcGJfZHBiX2RlbGF5c19wcmVzZW50X2ZsYWcmJihzLnNraXAoaS5jcGJfcmVtb3ZhbF9kZWxheV9sZW5ndGhfbWludXMxKzEpLHMuc2tpcChpLmRwYl9vdXRwdXRfZGVsYXlfbGVuZ3RoX21pbnVzMSsxKSk7Y29uc3QgYT1bMSwxLDEsMiwyLDMsMywyLDNdLHI9cy5yZWFkQml0cyg0KTtpZihyPj1hLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgcGljX3N0cnVjdCIpO2NvbnN0IGM9YVtyXSxvPVtdO2ZvcihsZXQgdT0wO3U8Yzt1KyspaWYocy5yZWFkQml0cygxKSl7Y29uc3QgbD17fTtzLnNraXAoMikscy5za2lwKDEpLHMuc2tpcCg1KTtjb25zdCBHPXMucmVhZEJpdHMoMSk7aWYocy5za2lwKDIpLGwubl9mcmFtZXM9cy5yZWFkQml0cyg4KSxHPyhsLnNlY29uZHNfdmFsdWU9cy5yZWFkQml0cyg2KSxsLm1pbnV0ZXNfdmFsdWU9cy5yZWFkQml0cyg2KSxsLmhvdXJzX3ZhbHVlPXMucmVhZEJpdHMoNSkpOnMucmVhZEJpdHMoMSkmJihsLnNlY29uZHNfdmFsdWU9cy5yZWFkQml0cyg2KSxzLnJlYWRCaXRzKDEpJiYobC5taW51dGVzX3ZhbHVlPXMucmVhZEJpdHMoNikscy5yZWFkQml0cygxKSYmKGwuaG91cnNfdmFsdWU9cy5yZWFkQml0cyg1KSkpKSxpLnRpbWVfb2Zmc2V0X2xlbmd0aCl0cnl7bC50aW1lX29mZnNldD1zLnJlYWRCaXRzKGkudGltZV9vZmZzZXRfbGVuZ3RoKX1jYXRjaChVKXtjb25zb2xlLmVycm9yKCJGYWlsZWQgdG8gcmVhZCB0aW1lX29mZnNldCIsVSksbC50aW1lX29mZnNldD0wfWVsc2UgbC50aW1lX29mZnNldD0wO28ucHVzaChsKX1uLnNlaVBpY1RpbWluZ1RpbWVDb2RlQXJyYXk9b31mdW5jdGlvbiBYKG4sdCl7aWYodCE9PSJIMjY0IiYmdCE9PSJIMjY1Iil0aHJvdyBuZXcgRXJyb3IoIlVuc3VwcG9ydGVkIGNvZGVjICIuY29uY2F0KHQpKTtjb25zdCBlPXt9O3JldHVybiBnLmNvZGVjPXQsRihuZXcgVWludDhBcnJheShuLmRhdGEpLHQpLmZvckVhY2goaT0+e2NvbnN0IHM9aVsyXT09PTE/Mzo0LGE9dD09PSJIMjY0Ij8xOjIscj1QKGkuc3ViYXJyYXkocythKSksYz1xKHIpO3N3aXRjaChjLnR5cGUpe2Nhc2UgSC5QSUNfVElNSU5HOmooZSxjLmNvbnRlbnQpO2JyZWFrO2Nhc2UgSC5VU0VSX0RBVEFfVU5SRUdJU1RFUkVEOlkoZSxjLmNvbnRlbnQpO2JyZWFrfX0pLGV9ZnVuY3Rpb24gJChuKXtyZXR1cm4vXlswLTlhLWZBLUZdezh9LVswLTlhLWZBLUZdezR9LVswLTlhLWZBLUZdezR9LVswLTlhLWZBLUZdezR9LVswLTlhLWZBLUZdezEyfSQvLnRlc3Qobil9ZnVuY3Rpb24gVChuKXtyZXR1cm4gbi5yZXBsYWNlKC8tL2csIiIpLm1hdGNoKC8uezEsMn0vZykubWFwKHQ9PnBhcnNlSW50KHQsMTYpKX1mdW5jdGlvbiBKKG4sdCxlKXtjb25zdCBpPW5ldyBVaW50OEFycmF5KFQobikpLHM9TChlKSxhPW5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShKU09OLnN0cmluZ2lmeSh0KSkscj1uZXcgVWludDhBcnJheShpLmxlbmd0aCtzLmxlbmd0aCthLmxlbmd0aCk7cmV0dXJuIHIuc2V0KGkpLHIuc2V0KHMsaS5sZW5ndGgpLHIuc2V0KGEscy5sZW5ndGgraS5sZW5ndGgpLHJ9ZnVuY3Rpb24gSyhuKXtjb25zdCB0PVtdLGU9TWF0aC5mbG9vcihuLmJ5dGVMZW5ndGgvMjU1KSxpPW4uYnl0ZUxlbmd0aCUyNTU7Zm9yKGxldCBzPTA7czxlO3MrKyl0LnB1c2goMjU1KTtyZXR1cm4gdC5wdXNoKGkpLG5ldyBVaW50OEFycmF5KFs1LC4uLnRdKX1mdW5jdGlvbiBaKG4pe2NvbnN0IHQ9W107Zm9yKGxldCBlPTA7ZTxuLmJ5dGVMZW5ndGg7ZSsrKWUrMjxuLmJ5dGVMZW5ndGgmJlswLDEsMiwzXS5pbmNsdWRlcyhuW2UrMl0pJiZuW2VdPT09MCYmbltlKzFdPT09MD8odC5wdXNoKG5bZV0pLHQucHVzaChuW2UrMV0pLGUrPTIsdC5wdXNoKDMpKTp0LnB1c2gobltlXSk7cmV0dXJuIHQucHVzaCgxMjgpLG5ldyBVaW50OEFycmF5KHQpfWZ1bmN0aW9uIEwobil7Y29uc3QgdD1bXTtpZighaXNOYU4obikpe2NvbnN0IGU9QmlnSW50KG4pO2ZvcihsZXQgaT0wO2k8TWF0aC5jZWlsKE1hdGguZmxvb3IoTWF0aC5sb2cyKG5ldyBOdW1iZXIobikpKzEpLzgpO2krKyl0LnVuc2hpZnQobmV3IE51bWJlcihlPj5CaWdJbnQoOCppKSZCaWdJbnQoMjU1KSkpfXJldHVybiBuZXcgVWludDhBcnJheSh0KX1mdW5jdGlvbiBRKHt1dWlkOm4scGF5bG9hZDp0LHRpbWVjb2RlOmV9KXtjb25zdCBpPVswLDAsMCwxXSxzPVsxMDJdLGE9SihuLHQsZSkscj1LKGEpLGM9WihhKSxvPW5ldyBVaW50OEFycmF5KGkubGVuZ3RoK3MubGVuZ3RoK3IubGVuZ3RoK2MubGVuZ3RoKTtyZXR1cm4gby5zZXQoaSksby5zZXQocyxpLmxlbmd0aCksby5zZXQocixpLmxlbmd0aCtzLmxlbmd0aCksby5zZXQoYyxpLmxlbmd0aCtzLmxlbmd0aCtyLmxlbmd0aCksb31mdW5jdGlvbiBlZSh7dXVpZDpuLHBheWxvYWQ6dCx0aW1lY29kZTplfSxpKXtpZihuPT09IiJ8fHQ9PT0iIil0aHJvdyBuZXcgRXJyb3IoInV1aWQgYW5kIHBheWxvYWQgY2Fubm90IGJlIGVtcHR5Iik7JChuKXx8KGNvbnNvbGUud2FybigiSW52YWxpZCBVVUlELiBVc2luZyBkZWZhdWx0IFVVSUQuIiksbj1BLGU9RGF0ZS5ub3coKSk7Y29uc3Qgcz1RKHt1dWlkOm4scGF5bG9hZDp0LHRpbWVjb2RlOmV9KSxhPW5ldyBEYXRhVmlldyhpLmRhdGEpLHI9bmV3IEFycmF5QnVmZmVyKGkuZGF0YS5ieXRlTGVuZ3RoK3MuYnl0ZUxlbmd0aCksYz1uZXcgRGF0YVZpZXcocik7Zm9yKGxldCBvPTA7bzxpLmRhdGEuYnl0ZUxlbmd0aDtvKyspYy5zZXRVaW50OChvLGEuZ2V0VWludDgobykpO2ZvcihsZXQgbz0wO288cy5ieXRlTGVuZ3RoO28rKyljLnNldFVpbnQ4KGkuZGF0YS5ieXRlTGVuZ3RoK28sc1tvXSk7aS5kYXRhPXJ9Y29uc3QgdGU9MmUzLHk9W107bGV0IFM9IiIsaz17fTtjb25zdCBiPXt9O2xldCB4PVtdO2Z1bmN0aW9uIHYobil7cmV0dXJuIG5ldyBUcmFuc2Zvcm1TdHJlYW0oe3N0YXJ0KCl7fSxmbHVzaCgpe30sYXN5bmMgdHJhbnNmb3JtKHQsZSl7dmFyIGkscztpZih0IGluc3RhbmNlb2YgUlRDRW5jb2RlZFZpZGVvRnJhbWUpe2NvbnN0IGE9KChpPWtbdC5nZXRNZXRhZGF0YSgpLnBheWxvYWRUeXBlXSk9PW51bGw/dm9pZCAwOmkudG9VcHBlckNhc2UoKSl8fChTPT1udWxsP3ZvaWQgMDpTLnRvVXBwZXJDYXNlKCkpO2lmKGE9PT0iSDI2NCIpe2NvbnN0IHI9WCh0LGEpOyhyLnRpbWVjb2RlfHxyLnVucmVnaXN0ZXJlZHx8KChzPXIuc2VpUGljVGltaW5nVGltZUNvZGVBcnJheSk9PW51bGw/dm9pZCAwOnMubGVuZ3RoKT4wKSYmc2VsZi5wb3N0TWVzc2FnZSh7bWlkOm4sbWV0YWRhdGE6cn0pfX1lLmVucXVldWUodCl9fSl9ZnVuY3Rpb24gTygpe09iamVjdC5rZXlzKGIpLnNvcnQoKS5qb2luKCk9PT14LnNvcnQoKS5qb2luKCkmJih5LnNoaWZ0KCkseD1bXSl9ZnVuY3Rpb24gbmUobil7Y29uc3QgdD1uZXcgRGF0ZSgpLmdldFRpbWUoKTtiW25dPXQsT2JqZWN0LmtleXMoYikuZmlsdGVyKGk9PnQtYltpXT50ZSkuZm9yRWFjaChpPT57ZGVsZXRlIGJbaV0sZGVsZXRlIHhbaV19KSxPKCl9ZnVuY3Rpb24gTSgpe3JldHVybiBuZXcgVHJhbnNmb3JtU3RyZWFtKHtzdGFydCgpe30sZmx1c2goKXt9LGFzeW5jIHRyYW5zZm9ybShuLHQpe2lmKG4gaW5zdGFuY2VvZiBSVENFbmNvZGVkVmlkZW9GcmFtZSl7Y29uc3QgaT1uLmdldE1ldGFkYXRhKCkuc3luY2hyb25pemF0aW9uU291cmNlO2lmKG5lKGkpLCF4LmluY2x1ZGVzKGkpJiZ5Lmxlbmd0aCl0cnl7aWYoIS8oaDI2WzRdKS8udGVzdChTKSl0aHJvdyBuZXcgRXJyb3IoIlNlbmRpbmcgbWV0YWRhdGEgaXMgbm90IHN1cHBvcnRlZCB3aXRoIGFueSBvdGhlciBjb2RlYyBvdGhlciB0aGFuIEguMjY0Iik7eVswXS51dWlkPT09QSYmKHlbMF0udGltZWNvZGU9RGF0ZS5ub3coKSksZWUoeVswXSxuKSx4LnB1c2goaSl9Y2F0Y2gocyl7Y29uc29sZS5lcnJvcihzKX1maW5hbGx5e08oKX19dC5lbnF1ZXVlKG4pfX0pfWZ1bmN0aW9uIEIoe3JlYWRhYmxlOm4sd3JpdGFibGU6dH0sZSl7bi5waXBlVGhyb3VnaChlKS5waXBlVG8odCl9YWRkRXZlbnRMaXN0ZW5lcigicnRjdHJhbnNmb3JtIixuPT57bGV0IHQ7aWYobi50cmFuc2Zvcm1lci5vcHRpb25zLm5hbWU9PT0ic2VuZGVyVHJhbnNmb3JtIilTPW4udHJhbnNmb3JtZXIub3B0aW9ucy5jb2RlYyx0PU0oKTtlbHNlIGlmKG4udHJhbnNmb3JtZXIub3B0aW9ucy5uYW1lPT09InJlY2VpdmVyVHJhbnNmb3JtIilrPW4udHJhbnNmb3JtZXIub3B0aW9ucy5wYXlsb2FkVHlwZUNvZGVjfHx7fSxTPW4udHJhbnNmb3JtZXIub3B0aW9ucy5jb2RlY3x8IiIsdD12KG4udHJhbnNmb3JtZXIub3B0aW9ucy5taWQpO2Vsc2UgcmV0dXJuO0Iobi50cmFuc2Zvcm1lcix0KX0pLGFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLG49Pntjb25zdHthY3Rpb246dH09bi5kYXRhO3N3aXRjaCh0KXtjYXNlImluc2VydGFibGUtc3RyZWFtcy1zZW5kZXIiOlM9bi5kYXRhLmNvZGVjLEIobi5kYXRhLE0oKSk7YnJlYWs7Y2FzZSJpbnNlcnRhYmxlLXN0cmVhbXMtcmVjZWl2ZXIiOms9bi5kYXRhLnBheWxvYWRUeXBlQ29kZWN8fHt9LFM9bi5kYXRhLmNvZGVjfHwiIixCKG4uZGF0YSx2KG4uZGF0YS5taWQpKTticmVhaztjYXNlIm1ldGFkYXRhLXNlaS11c2VyLWRhdGEtdW5yZWdpc3RlcmVkIjp5LnB1c2goe3V1aWQ6bi5kYXRhLnV1aWQscGF5bG9hZDpuLmRhdGEucGF5bG9hZH0pO2JyZWFrfX0pfSkoKTsK",fe=(void 0===e?"undefined":x(e))<"u"&&e.Blob&&new Blob([function(t){return p.from(atob(t),(function(t){return t.charCodeAt(0)}))}(he)],{type:"text/javascript;charset=utf-8"});function ve(t){var n;try{if(!(n=fe&&(e.URL||e.webkitURL).createObjectURL(fe)))throw"";var i=new _(n,{name:null==t?void 0:t.name});return i.addEventListener("error",(function(){(e.URL||e.webkitURL).revokeObjectURL(n)})),i}catch(n){return new _("data:text/javascript;base64,"+he,{name:null==t?void 0:t.name})}finally{n&&(e.URL||e.webkitURL).revokeObjectURL(n)}}var le=ht.get("Publish"),de={mediaStream:null,bandwidth:0,metadata:!1,disableVideo:!1,disableAudio:!1,codec:lr.H264,simulcast:!1,scalabilityMode:null,peerConfig:{autoInitStats:!0,statsIntervalMs:1e3}},ge=function(t){function n(n,i,r){return void 0===r&&(r=!0),n&&le.warn("The streamName property has been deprecated. In a future release, this will be removed. Please do not rely on this value. Instead, set via token generator"),tn(t.call(this,null,i,le,r)||this)}bt(n,t);var i=n.prototype;return i.connect=function(t){void 0===t&&(t=de);var n=this;return Ot((function(){var i,r,e,u,s;return Rt(this,(function(o){switch(o.label){case 0:return r=ue.object({sourceId:ue.string(),stereo:ue.boolean(),dtx:ue.boolean(),absCaptureTime:ue.boolean(),dependencyDescriptor:ue.boolean(),mediaStream:ue.alternatives().try(ue.array().items(ue.object()),ue.object()),bandwidth:ue.number(),metadata:ue.boolean(),disableVideo:ue.boolean(),disableAudio:ue.boolean(),codec:(i=ue.string()).valid.apply(i,jt(g.values(lr))),simulcast:ue.boolean(),scalabilityMode:ue.string(),peerConfig:ue.object(),record:ue.boolean(),events:ue.array().items(ue.string().valid("active","inactive","viewercount")),priority:ue.number()}),e=r.validate(t),u=e.error,s=e.value,u&&le.warn(u,s),n.options=M(b(b({},de),t),{peerConfig:b(b({},de.peerConfig),t.peerConfig),setSDPToPeer:!1}),n.options.metadata=n.options.metadata&&n.options.codec===lr.H264&&!n.options.disableVideo,[4,n.initConnection({migrate:!1})];case 1:return o.sent(),[2]}}))}))()},i.reconnect=function(n){var i=this;return Ot((function(){var r,e;return Rt(this,(function(u){return i.options.mediaStream=null!=(e=null==(r=i.webRTCPeer)?void 0:r.getTracks())?e:i.options.mediaStream,t.prototype.reconnect.call(i,n),[2]}))}))()},i.replaceConnection=function(){var t=this;return Ot((function(){var n,i;return Rt(this,(function(r){switch(r.label){case 0:return le.info("Migrating current connection"),t.options.mediaStream=null!=(i=null==(n=t.webRTCPeer)?void 0:n.getTracks())?i:t.options.mediaStream,[4,t.initConnection({migrate:!0})];case 1:return r.sent(),[2]}}))}))()},i.record=function(){var t=this;return Ot((function(){var n;return Rt(this,(function(i){switch(i.label){case 0:return t.recordingAvailable?(t.options.record=!0,[4,null==(n=t.signaling)?void 0:n.cmd("record")]):[3,2];case 1:return i.sent(),le.info("Broadcaster start recording"),[3,3];case 2:le.error("Record not available"),i.label=3;case 3:return[2]}}))}))()},i.unrecord=function(){var t=this;return Ot((function(){var n;return Rt(this,(function(i){switch(i.label){case 0:return t.recordingAvailable?(t.options.record=!1,[4,null==(n=t.signaling)?void 0:n.cmd("unrecord")]):[3,2];case 1:return i.sent(),le.info("Broadcaster stop recording"),[3,3];case 2:le.error("Unrecord not available"),i.label=3;case 3:return[2]}}))}))()},i.stop=function(){var n;t.prototype.stop.call(this),null==(n=this.worker)||n.terminate(),this.worker=null},i.initConnection=function(t){var n=this;return Ot((function(){var i,r,e,u,s,o,a,c,h,f,l,d,g,w,y,m;return Rt(this,(function(A){switch(A.label){case 0:if(le.debug("Broadcast option values: ",n.options),n.stopReconnection=!1,!n.options.mediaStream)throw le.error("Error while broadcasting. MediaStream required"),new v("MediaStream required");if(!t.migrate&&n.isActive())throw le.warn("Broadcast currently working"),new v("Broadcast currently working");A.label=1;case 1:return A.trys.push([1,3,,4]),[4,n.tokenGenerator()];case 2:return u=A.sent(),n.options.peerConfig.iceServers=null==u?void 0:u.iceServers,n.options.peerConfig.encodedInsertableStreams=n.options.metadata,[3,4];case 3:throw s=A.sent(),le.error("Error generating token."),s instanceof Yr&&(401!==s.status&&n.autoReconnect?n.reconnect():n.stopReconnection=!0),s;case 4:if(!u)throw le.error("Error while broadcasting. Publisher data required"),new v("Publisher data required");if(o=te(u.jwt),n.streamName=o.millicast.streamName,n.recordingAvailable=o[ie.atob("bWlsbGljYXN0")].record,n.options.record&&!n.recordingAvailable)throw le.error("Error while broadcasting. Record option detected but recording is not available"),new v("Record option detected but recording is not available");return a=new Pr({streamName:n.streamName,url:"".concat(u.urls[0],"?token=").concat(u.jwt)}),[4,(c=t.migrate?new pr:n.webRTCPeer).createRTCPeer(n.options.peerConfig,wr)];case 5:return A.sent(),null==(i=n.stopReemitingWebRTCPeerInstanceEvents)||i.call(n),null==(r=n.stopReemitingSignalingInstanceEvents)||r.call(n),n.stopReemitingWebRTCPeerInstanceEvents=xt(c,n,[mr.connectionStateChange]),n.stopReemitingSignalingInstanceEvents=xt(a,n,[Br]),h=c.getRTCLocalSDP(n.options),f=a.connect(),[4,q.all([h,f])];case 6:return e=A.sent(),l=e[0],n.options.metadata&&(n.worker||(n.worker=new ve),n.getRTCPeerConnection().getSenders().forEach((function(t){if(ce)t.transform=new RTCRtpScriptTransform(n.worker,{name:"senderTransform",codec:n.options.codec});else if(ae){var i=t.createEncodedStreams(),r=i.readable,e=i.writable;n.worker.postMessage({action:"insertable-streams-sender",codec:n.options.codec,readable:r,writable:e},[r,e])}}))),d=n.signaling,n.signaling=a,g=n.signaling.publish(l,n.options),w=c.peer.setLocalDescription(c.sessionDescription),[4,q.all([g,w])];case 7:return e=A.sent(),y=e[0],!n.options.disableVideo&&n.options.bandwidth>0&&(y=c.updateBandwidthRestriction(y,n.options.bandwidth)),[4,c.setRTCRemoteSDP(y)];case 8:return A.sent(),le.info("Broadcasting to streamName: ",n.streamName),m=n.webRTCPeer,n.webRTCPeer=c,n.setReconnect(),t.migrate&&n.webRTCPeer.on(mr.connectionStateChange,(function(t){var n,i;["connected","disconnected","failed","closed"].includes(t)&&(null==(n=null==d?void 0:d.close)||n.call(d),null==(i=null==m?void 0:m.closeRTCPeer)||i.call(m),d=m=null)})),[2]}}))}))()},i.sendMetadata=function(t,n){var i;if(void 0===n&&(n="d40e38ea-d419-4c62-94ed-20ac37b4e4fa"),null!=(i=this.options)&&i.metadata&&this.worker)this.worker.postMessage({action:"metadata-sei-user-data-unregistered",uuid:n,payload:t});else{var r="Could not send metadata due to:";this.options?this.options.metadata?this.worker||(r+="\n- Stream not being published."):(r+="\n- Metadata option is not enabled.",this.options.codec!==lr.H264&&(r+="\n- Incompatible codec. Only H264 available."),this.options.disableVideo&&(r+="\n- Video disabled.")):r+="\n- Stream not being published.",le.warn(r)}},n}(se),we=ht.get("View"),ye={metadata:!1,disableVideo:!1,disableAudio:!1,peerConfig:{autoInitStats:!0,statsIntervalMs:1e3}},me=function(t){function n(n,i,r,e){var u;return void 0===r&&(r=null),void 0===e&&(e=!0),n&&we.warn("The streamName property has been deprecated. In a future release, this will be removed. Please do not rely on this value. Instead, set via token generator"),(u=t.call(this,null,i,we,e)||this).payloadTypeCodec={},u.tracksMidValues={},r&&u.on(mr.track,(function(t){r.srcObject=t.streams[0]})),tn(u)}bt(n,t);var i=n.prototype;return i.connect=function(t){void 0===t&&(t=ye);var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return n.options=M(b(b({},ye),t),{peerConfig:b(b({},ye.peerConfig),t.peerConfig),setSDPToPeer:!1}),[4,n.initConnection({migrate:!1})];case 1:return i.sent(),[2]}}))}))()},i.select=function(t){void 0===t&&(t={});var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return we.debug("Viewer select layer values: ",t),[4,n.signaling.cmd("select",{layer:t})];case 1:return i.sent(),we.info("Connected to streamName: ",n.streamName),[2]}}))}))()},i.addRemoteTrack=function(t,n){var i=this;return Ot((function(){return Rt(this,(function(r){return[2,(we.info("Viewer adding remote % track",t),i.webRTCPeer.addRemoteTrack(t,n))]}))}))()},i.project=function(t,n){var i=this;return Ot((function(){var r,e;return Rt(this,(function(u){switch(u.label){case 0:for(r=function(t){var r=n[t];if(!r.trackId&&!r.media)throw we.error("Error in projection mapping, trackId or mediaId must be set"),new v("Error in projection mapping, trackId or mediaId must be set");var e=i.webRTCPeer.getRTCPeer();if(r.mediaId&&!e.getTransceivers().find((function(t){return t.mid===r.mediaId.toString()})))throw we.error("Error in projection mapping, ".concat(r.mediaId," mid not found in local transceivers")),new v("Error in projection mapping, ".concat(r.mediaId," mid not found in local transceivers"))},e=0;e<n.length;e++)r(e);return we.debug("Viewer project source: layer mappings: ",t,n),[4,i.signaling.cmd("project",{sourceId:t,mapping:n})];case 1:return u.sent(),we.info("Projection done"),[2]}}))}))()},i.unproject=function(t){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return we.debug("Viewer unproject mediaIds: ",t),[4,n.signaling.cmd("unproject",{mediaIds:t})];case 1:return i.sent(),we.info("Unprojection done"),[2]}}))}))()},i.replaceConnection=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return we.info("Migrating current connection"),[4,t.initConnection({migrate:!0})];case 1:return n.sent(),[2]}}))}))()},i.stop=function(){var n;t.prototype.stop.call(this),null==(n=this.worker)||n.terminate(),this.worker=null,this.payloadTypeCodec={},this.tracksMidValues={}},i.initConnection=function(t){var n=this;return Ot((function(){var i,r,e,u,s,o,c,h,f,l,d,w,y,m,A,p;return Rt(this,(function(_){switch(_.label){case 0:if(we.debug("Viewer connect options values: ",n.options),n.stopReconnection=!1,!t.migrate&&n.isActive())throw we.warn("Viewer currently subscribed"),new v("Viewer currently subscribed");_.label=1;case 1:return _.trys.push([1,3,,4]),[4,n.tokenGenerator()];case 2:return u=_.sent(),n.options.peerConfig.iceServers=null==u?void 0:u.iceServers,n.options.metadata&&(n.options.peerConfig.encodedInsertableStreams=ae),[3,4];case 3:throw s=_.sent(),we.error("Error generating token."),s instanceof Yr&&(401!==s.status&&n.autoReconnect?n.reconnect():n.stopReconnection=!0),s;case 4:if(!u)throw we.error("Error while subscribing. Subscriber data required"),new v("Subscriber data required");return o=te(u.jwt),n.streamName=o.millicast.streamName,c=new Pr({streamName:n.streamName,url:"".concat(u.urls[0],"?token=").concat(u.jwt)}),[4,(h=t.migrate?new pr:n.webRTCPeer).createRTCPeer(n.options.peerConfig)];case 5:return _.sent(),null==(i=n.stopReemitingWebRTCPeerInstanceEvents)||i.call(n),null==(r=n.stopReemitingSignalingInstanceEvents)||r.call(n),n.stopReemitingWebRTCPeerInstanceEvents=xt(h,n,g.values(mr)),n.stopReemitingSignalingInstanceEvents=xt(c,n,[Br]),n.options.metadata&&(n.worker||(n.worker=new ve),h.on("track",(function(t){var i,r,e;if(n.tracksMidValues[null==(i=t.transceiver)?void 0:i.mid]=t.track,ce)t.receiver.transform=new RTCRtpScriptTransform(n.worker,{name:"receiverTransform",payloadTypeCodec:b({},n.payloadTypeCodec),codec:n.options.metadata&&"h264",mid:null==(r=t.transceiver)?void 0:r.mid});else if(ae){var u=t.receiver.createEncodedStreams(),s=u.readable,o=u.writable;n.worker.postMessage({action:"insertable-streams-receiver",payloadTypeCodec:b({},n.payloadTypeCodec),codec:n.options.metadata&&"h264",mid:null==(e=t.transceiver)?void 0:e.mid,readable:s,writable:o},[s,o])}})),n.worker.onmessage=function(t){var i=new TextDecoder,r=t.data.metadata;if(r.mid=t.data.mid,r.track=n.tracksMidValues[t.data.mid],r.uuid){var e=r.uuid;r.uuid=e.reduce((function(t,n){return t+n.toString(16).padStart(2,"0")}),""),r.uuid=r.uuid.replace(/(.{8})(.{4})(.{4})(.{4})(.{12})/,"$1-$2-$3-$4-$5")}if(r.timecode&&(r.timecode=new Date(i.decode(r.timecode))),r.unregistered){var u=i.decode(r.unregistered);try{var s=JSON.parse(u);r.unregistered=s}catch(t){we.info("The content could not be converted to JSON, returning raw bytes instead")}}n.emit("metadata",r),n.emit("onMetadata",r)}),f=h.getRTCLocalSDP(M(b({},n.options),{stereo:!0})),l=c.connect(),[4,q.all([f,l])];case 6:return e=_.sent(),d=e[0],w=n.signaling,n.signaling=c,y=n.signaling.subscribe(d,M(b({},n.options),{vad:n.options.multiplexedAudioTracks>0})),m=h.peer.setLocalDescription(h.sessionDescription),[4,q.all([y,m])];case 7:return e=_.sent(),A=e[0],n.payloadTypeCodec=fr.getCodecPayloadType(A),[4,h.setRTCRemoteSDP(A)];case 8:return _.sent(),we.info("Connected to streamName: ",n.streamName),p=n.webRTCPeer,n.webRTCPeer=h,n.setReconnect(),t.migrate&&n.webRTCPeer.on(mr.connectionStateChange,(function(t){var n,i;"connected"===t?a((function(){var t,n;null==(t=null==w?void 0:w.close)||t.call(w),null==(n=null==p?void 0:p.closeRTCPeer)||n.call(p),w=p=null,we.info("Current connection migrated")}),1e3):["disconnected","failed","closed"].includes(t)&&(null==(n=null==w?void 0:w.close)||n.call(w),null==(i=null==p?void 0:p.closeRTCPeer)||i.call(p),w=p=null)})),[2]}}))}))()},n}(se);t.Director=Xr,t.Logger=ht,t.PeerConnection=pr,t.Publish=ge,t.Signaling=Pr,t.View=me,g.defineProperty(t,n.toStringTag,{value:"Module"})},"object"==typeof t&&(void 0===i?"undefined":x(i))<"u"?u(t):"function"==typeof define&&define.amd?define(["exports"],u):u((r=("undefined"==typeof globalThis?"undefined":x(globalThis))<"u"?globalThis:r||self).millicast={})})),vn=S((function(t,n){yt(),C(),n.exports=function(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}})),ln=S((function(t,n){yt(),C(),n.exports=function(t,n){var i=n[0],r=n[1],e=n[2],u=n[3],s=i+i,o=r+r,a=e+e,c=i*s,h=r*s,f=r*o,v=e*s,l=e*o,d=e*a,g=u*s,w=u*o,y=u*a;return t[0]=1-f-d,t[1]=h+y,t[2]=v-w,t[3]=0,t[4]=h-y,t[5]=1-c-d,t[6]=l+g,t[7]=0,t[8]=v+w,t[9]=l-g,t[10]=1-c-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}})),dn=S((function(t,n){yt(),C(),n.exports=function(t,n,i){var r,e,u,s=i[0],o=i[1],a=i[2],c=w.sqrt(s*s+o*o+a*a);if(w.abs(c)<1e-6)return null;return s*=c=1/c,o*=c,a*=c,r=w.sin(n),e=w.cos(n),u=1-e,t[0]=s*s*u+e,t[1]=o*s*u+a*r,t[2]=a*s*u-o*r,t[3]=0,t[4]=s*o*u-a*r,t[5]=o*o*u+e,t[6]=a*o*u+s*r,t[7]=0,t[8]=s*a*u+o*r,t[9]=o*a*u-s*r,t[10]=a*a*u+e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}})),gn=S((function(t,n){yt(),C(),n.exports=function(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}})),wn=S((function(t,n){yt(),C(),n.exports=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}})),yn=S((function(t,n){yt(),C(),n.exports=function(t,n){var i=n[0],r=n[1],e=n[2],u=n[3],s=n[4],o=n[5],a=n[6],c=n[7],h=n[8],f=n[9],v=n[10],l=n[11],d=n[12],g=n[13],w=n[14],y=n[15],m=i*o-r*s,A=i*a-e*s,p=i*c-u*s,_=r*a-e*o,k=r*c-u*o,b=e*c-u*a,M=h*g-f*d,T=h*w-v*d,N=h*y-l*d,D=f*w-v*g,I=f*y-l*g,E=v*y-l*w,S=m*E-A*I+p*D+_*N-k*T+b*M;if(!S)return null;return S=1/S,t[0]=(o*E-a*I+c*D)*S,t[1]=(e*I-r*E-u*D)*S,t[2]=(g*b-w*k+y*_)*S,t[3]=(v*k-f*b-l*_)*S,t[4]=(a*N-s*E-c*T)*S,t[5]=(i*E-e*N+u*T)*S,t[6]=(w*p-d*b-y*A)*S,t[7]=(h*b-v*p+l*A)*S,t[8]=(s*I-o*N+c*M)*S,t[9]=(r*N-i*I-u*M)*S,t[10]=(d*k-g*p+y*m)*S,t[11]=(f*p-h*k-l*m)*S,t[12]=(o*T-s*D-a*M)*S,t[13]=(i*D-r*T+e*M)*S,t[14]=(g*A-d*_-w*m)*S,t[15]=(h*_-f*A+v*m)*S,t}})),mn=S((function(t,n){yt(),C(),n.exports=function(t,n,i){var r=n[0],e=n[1],u=n[2],s=n[3],o=n[4],a=n[5],c=n[6],h=n[7],f=n[8],v=n[9],l=n[10],d=n[11],g=n[12],w=n[13],y=n[14],m=n[15],A=i[0],p=i[1],_=i[2],k=i[3];return t[0]=A*r+p*o+_*f+k*g,t[1]=A*e+p*a+_*v+k*w,t[2]=A*u+p*c+_*l+k*y,t[3]=A*s+p*h+_*d+k*m,A=i[4],p=i[5],_=i[6],k=i[7],t[4]=A*r+p*o+_*f+k*g,t[5]=A*e+p*a+_*v+k*w,t[6]=A*u+p*c+_*l+k*y,t[7]=A*s+p*h+_*d+k*m,A=i[8],p=i[9],_=i[10],k=i[11],t[8]=A*r+p*o+_*f+k*g,t[9]=A*e+p*a+_*v+k*w,t[10]=A*u+p*c+_*l+k*y,t[11]=A*s+p*h+_*d+k*m,A=i[12],p=i[13],_=i[14],k=i[15],t[12]=A*r+p*o+_*f+k*g,t[13]=A*e+p*a+_*v+k*w,t[14]=A*u+p*c+_*l+k*y,t[15]=A*s+p*h+_*d+k*m,t}})),An=S((function(t,n){yt(),C(),n.exports=function(t,n,i,r,e){var u=1/w.tan(n/2),s=1/(r-e);return t[0]=u/i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(e+r)*s,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*e*r*s,t[15]=0,t}})),pn=S((function(t,n){yt(),C(),n.exports=function(t,n,i,r){var e,u,s,o,a,c,h,f,v,l,d,g,y,m,A,p,_,k,b,M,T,N,D,I,E=r[0],S=r[1],L=r[2],j=w.sqrt(E*E+S*S+L*L);if(w.abs(j)<1e-6)return null;E*=j=1/j,S*=j,L*=j,e=w.sin(i),u=w.cos(i),s=1-u,o=n[0],a=n[1],c=n[2],h=n[3],f=n[4],v=n[5],l=n[6],d=n[7],g=n[8],y=n[9],m=n[10],A=n[11],p=E*E*s+u,_=S*E*s+L*e,k=L*E*s-S*e,b=E*S*s-L*e,M=S*S*s+u,T=L*S*s+E*e,N=E*L*s+S*e,D=S*L*s-E*e,I=L*L*s+u,t[0]=o*p+f*_+g*k,t[1]=a*p+v*_+y*k,t[2]=c*p+l*_+m*k,t[3]=h*p+d*_+A*k,t[4]=o*b+f*M+g*T,t[5]=a*b+v*M+y*T,t[6]=c*b+l*M+m*T,t[7]=h*b+d*M+A*T,t[8]=o*N+f*D+g*I,t[9]=a*N+v*D+y*I,t[10]=c*N+l*D+m*I,t[11]=h*N+d*D+A*I,n!==t&&(t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]);return t}})),_n=S((function(t,n){yt(),C(),n.exports=function(t,n,i){var r,e,u,s,o,a,c,h,f,v,l,d,g=i[0],w=i[1],y=i[2];n===t?(t[12]=n[0]*g+n[4]*w+n[8]*y+n[12],t[13]=n[1]*g+n[5]*w+n[9]*y+n[13],t[14]=n[2]*g+n[6]*w+n[10]*y+n[14],t[15]=n[3]*g+n[7]*w+n[11]*y+n[15]):(r=n[0],e=n[1],u=n[2],s=n[3],o=n[4],a=n[5],c=n[6],h=n[7],f=n[8],v=n[9],l=n[10],d=n[11],t[0]=r,t[1]=e,t[2]=u,t[3]=s,t[4]=o,t[5]=a,t[6]=c,t[7]=h,t[8]=f,t[9]=v,t[10]=l,t[11]=d,t[12]=r*g+o*w+f*y+n[12],t[13]=e*g+a*w+v*y+n[13],t[14]=u*g+c*w+l*y+n[14],t[15]=s*g+h*w+d*y+n[15]);return t}})),kn={};!function(t,n){for(var i in n)M(t,i,{get:n[i],enumerable:!0})}(kn,{ChromelessPlayer:function(){return oB},ErrorCategory:function(){return Zv},ErrorCode:function(){return Xv},Player:function(){return evt},cache:function(){return H7},cast:function(){return x2},features:function(){return hB},playerSuiteVersion:function(){return vB},players:function(){return lB},registerContentProtectionIntegration:function(){return dB},utils:function(){return cB},version:function(){return fB},videojs:function(){return nht}}),r.exports=(on=kn,L(M({},"__esModule",{value:!0}),on)),yt(),C(),yt(),C(),yt(),C(),pt(),Mt(),yt(),C(),yt(),C(),pt(),Ct(),yt(),C(),Ct(),yt(),C(),pt(),yt(),C(),function(t){t.gE="web",t.wE="android",t.vE="android-tv",t.mE="ios",t.pE="tvos",t.AE="chromecast",t.yE="theoliveweb"}(cn||(cn={}));var bn=o?o.userAgent:"",Mn=bn.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),Tn=bn.match(/Edg\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),Nn=bn.match(/Android ([0-9\.]+)/i),Dn=bn.match(/Windows NT ([0-9\.]+)/i),In=bn.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),En=bn.match(/Firefox\/([0-9\.]+)/i),Sn=bn.match(/OPR\/(\d+\.\d+)/i),Ln=bn.match(/Tizen ([0-9\.]+)/i),jn=bn.match(/(iPhone OS|iPad OS|iPod OS|Mac OS X) (\d+)_(\d+)_?(\d+)?/),Cn=function(){function t(){this.bE=Boolean("ontouchstart"in self||self.DocumentTouch&&u instanceof self.DocumentTouch||o&&o.msMaxTouchPoints),this.SE=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(bn)||/(macintosh|mac(?=_powerpc)\s)/i.test(bn),this.DE=/Windows NT/i.test(bn),this.kE=Dn?m(Dn[1]):0,this.xE=/Android/i.test(bn),this.OE=Nn?m(Nn[1]):0,this.RE=/windows phone (8|8\.1)/i.test(bn),this.zE=/iPhone/i.test(bn),this.UE=/iPad/i.test(bn),this.FE=this.SE&&this.bE&&!this.UE,this.GE=/iPod/i.test(bn),this.KE=/Mobile Safari/i.test(bn),this.ZE=/EOS\d*STB/i.test(bn),this.qE=/APP\d*STB/i.test(bn),this.VE=(this.zE||this.UE||this.FE||this.GE)&&!this.RE,this.HE=jn?m(jn[2]):0,this.JE=this.RE||this.VE||this.xE||this.KE,this.ek=/CriOS/i.test(bn),this.rk=Boolean(self.chrome&&/google/i.test(o.vendor))||this.ek,this.fk=this.rk&&/Edg\//i.test(o.userAgent),this.gk=Tn?y(Tn[1],10):0,this.cL=Boolean(self.chrome||/Chrome/i.test(bn)||/CriOS/i.test(bn)),this.lk=Mn?y(Mn[1],10):0,this.vk=/SMART-TV.*Tizen/i.test(bn),this.Ak=Ln?m(Ln[1]):0,this.ck=this.Ak>0?function(t){return t>=8?108:t>=7?94:t>=6.5?85:t>=6?76:t>=5.5?69:t>=5?63:t>=4?56:t>=3?47:0}(this.Ak):void 0,this.Mk=/webos|web0s/i.test(bn),this.Tk=/VIZIO/i.test(bn),this.Nk=/Edge\/\d+/i.test(bn),this.Dk=/Trident/i.test(bn),this.Lk=this.Dk&&!self.ActiveXObject&&"ActiveXObject"in self,this.Ck=/Vivaldi/i.test(bn),this.jk=/Firefox/i.test(bn)&&!/Seamonkey/i.test(bn),this.Pk=En?m(En[1]):0,this.Bk=/Safari/i.test(bn)&&!/Chrome/i.test(bn)&&!this.RE&&!this.vk,this.Qk=In?m(In[2]):0,this.Yk=Boolean(Sn),this.Vk=Sn?m(Sn[1]):0,this.Hk=/CrKey/.test(bn),this.Zk=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv|vizio)\b/i.test(bn),this.Jk="web"===cn.vE,this.tL="web"===cn.wE,this.eL=this.tL||this.Jk,this.nL="web"===cn.mE,this.oL="web"===cn.pE,this.aL="web"===cn.AE}return At(t,[{key:"Je",get:function(){return this.bE}},{key:"TE",get:function(){return this.SE}},{key:"NE",get:function(){return this.DE}},{key:"EE",get:function(){return this.kE}},{key:"LE",get:function(){return this.xE}},{key:"CE",get:function(){return this.OE}},{key:"jE",get:function(){return this.RE}},{key:"PE",get:function(){return this.zE}},{key:"BE",get:function(){return this.UE}},{key:"QE",get:function(){return this.FE}},{key:"YE",get:function(){return this.GE}},{key:"Ga",get:function(){return this.VE}},{key:"WE",get:function(){return this.HE}},{key:"XE",get:function(){return this.ZE||this.qE}},{key:"td",get:function(){return this.KE}},{key:"Qs",get:function(){return this.JE}},{key:"$E",get:function(){return this.ek}},{key:"nk",get:function(){return this.rk}},{key:"hk",get:function(){var t;return null!=(t=this.ck)?t:this.lk}},{key:"dk",get:function(){return this.fk}},{key:"_k",get:function(){return this.gk}},{key:"wk",get:function(){return this.vk}},{key:"pk",get:function(){return this.Ak}},{key:"yk",get:function(){return this.Mk}},{key:"bk",get:function(){return this.Tk}},{key:"Sk",get:function(){return this.Nk}},{key:"Ik",get:function(){return this.Dk}},{key:"Ek",get:function(){return this.Lk}},{key:"xk",get:function(){return this.Ck}},{key:"Ok",get:function(){return this.jk}},{key:"Rk",get:function(){return this.Pk}},{key:"zk",get:function(){return this.Bk}},{key:"Uk",get:function(){return this.Qk}},{key:"Fk",get:function(){return this.Yk}},{key:"Gk",get:function(){return this.Vk}},{key:"Wk",get:function(){return this.Hk}},{key:"Xk",get:function(){return this.Zk}},{key:"qk",get:function(){return!(!this.yk&&!this.wk)&&this.hk<=56}},{key:"Kk",get:function(){return this.Jk}},{key:"$k",get:function(){return this.tL}},{key:"iL",get:function(){return this.eL}},{key:"sL",get:function(){return this.nL}},{key:"rL",get:function(){return this.oL}},{key:"hL",get:function(){return this.aL}},{key:"uL",get:function(){return this.cL}}]),t}();Cn.lL=new Cn;var xn=Cn.lL;yt(),C();var On={}.hasOwnProperty,zn={}.toString;function Rn(t){return null!=t}function Bn(t){return void 0===t}var Pn=Array.isArray||function(t){return"[object Array]"===zn.call(t)};function Un(t){return Qn(t)&&On.call(t,"length")&&Xn(t.length)}function Qn(t){return"object"==typeof t&&null!==t}function Yn(t){return Qn(t)&&t.constructor&&t.constructor===g}function Fn(t){return"string"==typeof t}function Gn(t){return"boolean"==typeof t}function Vn(t){return Rn(t)&&"function"==typeof t.then}function Wn(t){return"[object Date]"===zn.call(t)}function Xn(t){return"number"==typeof t}function Zn(t){return"function"==typeof t}function Hn(t){return Zn(t)||Qn(t)}yt(),C();var Kn=function(){},qn=function(t){return t};function Jn(t,n){var i=-1/0;return function(){for(var r=arguments.length,e=new Array(r),u=0;u<r;u++)e[u]=arguments[u];var s=an.m_();s-i>=n&&(t.apply(this,e),i=s)}}function $n(t,n){var i=0;return function(){for(var r=arguments.length,e=new Array(r),u=0;u<r;u++)e[u]=arguments[u];var s=this;0!==i&&an.p_(i),i=an.A_((function(){i=0,t.apply(s,e)}),n)}}function ti(t){var n;return function(){return void 0!==t&&(n=t(),t=void 0),n}}var ni=!(xn.Ik&&!xn.Ek),ii=self.console;function ri(t){if(Qn(t))try{return JSON.stringify(t)}catch(t){}return t}function ei(t){return t.map(ri).join(" ")}function ui(t){var n=ii&&ii[t];return n?n.bind&&ni?n.bind(ii):function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];ii[t](ei(i))}:void 0}var si=ui("log")||Kn,oi=ui("warn")||si.bind(void 0,"WARNING:"),ai=ui("error")||si.bind(void 0,"ERROR:"),ci=function(){var t=ii&&ii.assert;return t?t.bind&&ni?t.bind(ii):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];ii.assert(t,ei(i))}:function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];t||ai.apply(void 0,["Assertion failed:"].concat(jt(i)))}}();yt(),C(),yt(),C(),yt(),C();var hi=null;try{hi=new WebAssembly.Instance(new WebAssembly.Module(new p([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(on){}function fi(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function vi(t){return!0===(t&&t.iy)}function li(t){var n=w.clz32(t&-t);return t?31-n:n}fi.prototype.iy,g.defineProperty(fi.prototype,"iy",{value:!0}),fi.isLong=vi;var di={},gi={};function wi(t,n){var i,r,e;return n?(e=0<=(t>>>=0)&&t<256)&&(r=gi[t])?r:(i=mi(t,0,!0),e&&(gi[t]=i),i):(e=-128<=(t|=0)&&t<128)&&(r=di[t])?r:(i=mi(t,t<0?-1:0,!1),e&&(di[t]=i),i)}function yi(t,n){if(A(t))return n?Di:Ni;if(n){if(t<0)return Di;if(t>=bi)return ji}else{if(t<=-Mi)return Ci;if(t+1>=Mi)return Li}return t<0?yi(-t,n).neg():mi(t%ki|0,t/ki|0,n)}function mi(t,n,i){return new fi(t,n,i)}fi.fromInt=wi,fi.fromNumber=yi,fi.fromBits=mi;var Ai=w.pow;function pi(t,n,i){if(0===t.length)throw v("empty string");if("number"==typeof n?(i=n,n=!1):n=!!n,"NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return n?Di:Ni;if((i=i||10)<2||36<i)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw v("interior hyphen");if(0===r)return pi(t.substring(1),n,i).neg();for(var e=yi(Ai(i,8)),u=Ni,s=0;s<t.length;s+=8){var o=w.min(8,t.length-s),a=y(t.substring(s,s+o),i);if(o<8){var c=yi(Ai(i,o));u=u.mul(c).add(yi(a))}else u=(u=u.mul(e)).add(yi(a))}return u.unsigned=n,u}function _i(t,n){return"number"==typeof t?yi(t,n):"string"==typeof t?pi(t,n):mi(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}fi.fromString=pi,fi.fromValue=_i;var ki=4294967296,bi=ki*ki,Mi=bi/2,Ti=wi(1<<24),Ni=wi(0);fi.ZERO=Ni;var Di=wi(0,!0);fi.UZERO=Di;var Ii=wi(1);fi.ONE=Ii;var Ei=wi(1,!0);fi.UONE=Ei;var Si=wi(-1);fi.NEG_ONE=Si;var Li=mi(-1,2147483647,!1);fi.MAX_VALUE=Li;var ji=mi(-1,-1,!0);fi.MAX_UNSIGNED_VALUE=ji;var Ci=mi(0,-2147483648,!1);fi.MIN_VALUE=Ci;var xi=fi.prototype;xi.toInt=function(){return this.unsigned?this.low>>>0:this.low},xi.toNumber=function(){return this.unsigned?(this.high>>>0)*ki+(this.low>>>0):this.high*ki+(this.low>>>0)},xi.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Ci)){var n=yi(t),i=this.div(n),r=i.mul(n).sub(this);return i.toString(t)+r.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var e=yi(Ai(t,6),this.unsigned),u=this,s="";;){var o=u.div(e),a=(u.sub(o.mul(e)).toInt()>>>0).toString(t);if((u=o).isZero())return a+s;for(;a.length<6;)a="0"+a;s=""+a+s}},xi.getHighBits=function(){return this.high},xi.getHighBitsUnsigned=function(){return this.high>>>0},xi.getLowBits=function(){return this.low},xi.getLowBitsUnsigned=function(){return this.low>>>0},xi.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Ci)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},xi.isZero=function(){return 0===this.high&&0===this.low},xi.eqz=xi.isZero,xi.isNegative=function(){return!this.unsigned&&this.high<0},xi.isPositive=function(){return this.unsigned||this.high>=0},xi.isOdd=function(){return 1==(1&this.low)},xi.isEven=function(){return 0==(1&this.low)},xi.equals=function(t){return vi(t)||(t=_i(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},xi.eq=xi.equals,xi.notEquals=function(t){return!this.eq(t)},xi.neq=xi.notEquals,xi.ne=xi.notEquals,xi.lessThan=function(t){return this.comp(t)<0},xi.lt=xi.lessThan,xi.lessThanOrEqual=function(t){return this.comp(t)<=0},xi.lte=xi.lessThanOrEqual,xi.le=xi.lessThanOrEqual,xi.greaterThan=function(t){return this.comp(t)>0},xi.gt=xi.greaterThan,xi.greaterThanOrEqual=function(t){return this.comp(t)>=0},xi.gte=xi.greaterThanOrEqual,xi.ge=xi.greaterThanOrEqual,xi.compare=function(t){if(vi(t)||(t=_i(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},xi.comp=xi.compare,xi.negate=function(){return!this.unsigned&&this.eq(Ci)?Ci:this.not().add(Ii)},xi.neg=xi.negate,xi.add=function(t){vi(t)||(t=_i(t));var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,a=0,c=0,h=0,f=0;return h+=(f+=e+(65535&t.low))>>>16,c+=(h+=r+o)>>>16,a+=(c+=i+s)>>>16,a+=n+u,mi((h&=65535)<<16|(f&=65535),(a&=65535)<<16|(c&=65535),this.unsigned)},xi.subtract=function(t){return vi(t)||(t=_i(t)),this.add(t.neg())},xi.sub=xi.subtract,xi.multiply=function(t){if(this.isZero())return this;if(vi(t)||(t=_i(t)),hi)return mi(hi.mul(this.low,this.high,t.low,t.high),hi.get_high(),this.unsigned);if(t.isZero())return this.unsigned?Di:Ni;if(this.eq(Ci))return t.isOdd()?Ci:Ni;if(t.eq(Ci))return this.isOdd()?Ci:Ni;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(Ti)&&t.lt(Ti))return yi(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,a=65535&t.low,c=0,h=0,f=0,v=0;return f+=(v+=e*a)>>>16,h+=(f+=r*a)>>>16,f&=65535,h+=(f+=e*o)>>>16,c+=(h+=i*a)>>>16,h&=65535,c+=(h+=r*o)>>>16,h&=65535,c+=(h+=e*s)>>>16,c+=n*a+i*o+r*s+e*u,mi((f&=65535)<<16|(v&=65535),(c&=65535)<<16|(h&=65535),this.unsigned)},xi.mul=xi.multiply,xi.divide=function(t){if(vi(t)||(t=_i(t)),t.isZero())throw v("division by zero");var n,i,r;if(hi)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?mi((this.unsigned?hi.div_u:hi.div_s)(this.low,this.high,t.low,t.high),hi.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?Di:Ni;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return Di;if(t.gt(this.shru(1)))return Ei;r=Di}else{if(this.eq(Ci))return t.eq(Ii)||t.eq(Si)?Ci:t.eq(Ci)?Ii:(n=this.shr(1).div(t).shl(1)).eq(Ni)?t.isNegative()?Ii:Si:(i=this.sub(t.mul(n)),r=n.add(i.div(t)));if(t.eq(Ci))return this.unsigned?Di:Ni;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();r=Ni}for(i=this;i.gte(t);){n=w.max(1,w.floor(i.toNumber()/t.toNumber()));for(var e=w.ceil(w.log(n)/w.LN2),u=e<=48?1:Ai(2,e-48),s=yi(n),o=s.mul(t);o.isNegative()||o.gt(i);)o=(s=yi(n-=u,this.unsigned)).mul(t);s.isZero()&&(s=Ii),r=r.add(s),i=i.sub(o)}return r},xi.div=xi.divide,xi.modulo=function(t){return vi(t)||(t=_i(t)),hi?mi((this.unsigned?hi.rem_u:hi.rem_s)(this.low,this.high,t.low,t.high),hi.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},xi.mod=xi.modulo,xi.rem=xi.modulo,xi.not=function(){return mi(~this.low,~this.high,this.unsigned)},xi.countLeadingZeros=function(){return this.high?w.clz32(this.high):w.clz32(this.low)+32},xi.clz=xi.countLeadingZeros,xi.countTrailingZeros=function(){return this.low?li(this.low):li(this.high)+32},xi.ctz=xi.countTrailingZeros,xi.and=function(t){return vi(t)||(t=_i(t)),mi(this.low&t.low,this.high&t.high,this.unsigned)},xi.or=function(t){return vi(t)||(t=_i(t)),mi(this.low|t.low,this.high|t.high,this.unsigned)},xi.xor=function(t){return vi(t)||(t=_i(t)),mi(this.low^t.low,this.high^t.high,this.unsigned)},xi.shiftLeft=function(t){return vi(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?mi(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):mi(0,this.low<<t-32,this.unsigned)},xi.shl=xi.shiftLeft,xi.shiftRight=function(t){return vi(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?mi(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):mi(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},xi.shr=xi.shiftRight,xi.shiftRightUnsigned=function(t){return vi(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?mi(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):mi(32===t?this.high:this.high>>>t-32,0,this.unsigned)},xi.shru=xi.shiftRightUnsigned,xi.shr_u=xi.shiftRightUnsigned,xi.rotateLeft=function(t){var n;return vi(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?mi(this.high,this.low,this.unsigned):t<32?(n=32-t,mi(this.low<<t|this.high>>>n,this.high<<t|this.low>>>n,this.unsigned)):(n=32-(t-=32),mi(this.high<<t|this.low>>>n,this.low<<t|this.high>>>n,this.unsigned))},xi.rotl=xi.rotateLeft,xi.rotateRight=function(t){var n;return vi(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?mi(this.high,this.low,this.unsigned):t<32?(n=32-t,mi(this.high<<n|this.low>>>t,this.low<<n|this.high>>>t,this.unsigned)):(n=32-(t-=32),mi(this.low<<n|this.high>>>t,this.high<<n|this.low>>>t,this.unsigned))},xi.rotr=xi.rotateRight,xi.toSigned=function(){return this.unsigned?mi(this.low,this.high,!1):this},xi.toUnsigned=function(){return this.unsigned?this:mi(this.low,this.high,!0)},xi.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},xi.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},xi.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},fi.fromBytes=function(t,n,i){return i?fi.fromBytesLE(t,n):fi.fromBytesBE(t,n)},fi.fromBytesLE=function(t,n){return new fi(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},fi.fromBytesBE=function(t,n){return new fi(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var Oi=fi;function zi(t,n){return t.lessThan(n)?t:n}yt(),C();var Ri=9007199254740991,Bi=w.pow(2,-52);function Pi(t,n,i){return w.min(w.max(t,n),i)}function Ui(t,n,i){return t===n||w.abs(t-n)<=i}function Qi(t,n){if(t===n)return!0;var i=w.abs(t-n);return i<Bi||i<w.max(w.abs(t),w.abs(n))*Bi}function Yi(t,n){return t%n+(t<0?n:0)}function Fi(t){return t!=t}function Gi(t,n){return t===n||Fi(t)&&Fi(n)}function Vi(t,n){for(var i=t,r=n;0!==r;){var e=i%r;i=r,r=e}return i<0?-i:i}function Wi(t,n){return t.reduce((function(t,i){return t+n(i)}),0)}function Xi(t){return!A(t.getTime())}function Zi(){return Date.now()||(new Date).getTime()}function Hi(t){return t/1e3}function Ki(t){return 1e3*t}var qi=1/6,Ji=Oi.fromNumber(Ri);function $i(t,n){if(0===n)return t.isZero()?NaN:t.isNegative()?-1/0:1/0;if(t.lessThanOrEqual(Ji))return t.toNumber()/n;var i=t.divide(n),r=t.subtract(i.multiply(n));return i.toNumber()+r.toNumber()/n}function tr(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),g.defineProperty(t,r.key,r)}}function nr(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var r=new Array(i),e=1;e<i;e*=2){ir(t,n,e,r);var u=t;t=r,r=u}return t}(t,n);return i!==t&&ir(i,null,t.length,t),t}function ir(t,n,i,r){var e,u,s,o,a,c=t.length,h=0,f=2*i;for(e=0;e<c;e+=f)for(s=(u=e+i)+i,u>c&&(u=c),s>c&&(s=c),o=e,a=u;;)if(o<u&&a<s)n(t[o],t[a])<=0?r[h++]=t[o++]:r[h++]=t[a++];else if(o<u)r[h++]=t[o++];else{if(!(a<s))break;r[h++]=t[a++]}}yt(),C();var rr=/[a-zA-Z]/,er=/[0-9]/,ur=/[0-9a-fA-F]/,sr=/^0x/i,or=/^[0-9]+$/,ar=/^[0-9a-fA-F]+$/,cr=/^[0-7]+$/,hr=g.prototype.toString,fr=Array.isArray||function(t){return"[object Array]"===hr.call(t)},vr=void 0!==n&&"symbol"==typeof n.iterator;function lr(t){return fr(t)?t:Array.from(t)}function dr(t,n,i){var r=t[n];t[n]=t[i],t[i]=r}function gr(t){return t>=65&&t<=90}function wr(t){return gr(t)||function(t){return t>=97&&t<=122}(t)}function yr(t){return t>=48&&t<=57}function mr(t){return yr(t)||wr(t)}function Ar(t){return yr(t)||t>=65&&t<=70||t>=97&&t<=102}function pr(t){return gr(t)?t+32:t}function _r(t){return yr(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function kr(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var br=w.min,Mr=String.fromCharCode,Tr=16384;function Nr(t){for(var n=t.length,i=[],r=0;r<n;r+=Tr){var e=br(r+Tr,n);i.push(Mr.apply(null,t.slice(r,e)))}return i.join("")}var Dr=2147483647,Ir=/[^\0-\x7E]/,Er=/[\x2E\u3002\uFF0E\uFF61]/g,Sr={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Lr=w.floor,jr=String.fromCharCode;function Cr(t){throw new RangeError(Sr[t])}function xr(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}var Or,zr,Rr,Br=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},Pr=function(t,n,i){var r=0;for(t=i?Lr(t/700):t>>1,t+=Lr(t/n);t>455;r+=36)t=Lr(t/35);return Lr(r+36*t/(t+38))},Ur=function(t){return function(t,n){var i=t.split("@"),r="";i.length>1&&(r=i[0]+"@",t=i[1]);var e=function(t,n){for(var i=[],r=t.length;r--;)i[r]=n(t[r]);return i}((t=t.replace(Er,".")).split("."),n).join(".");return r+e}(t,(function(t){return Ir.test(t)?"xn--"+function(t){for(var n=[],i=(t=xr(t)).length,r=128,e=0,u=72,s=0,o=t;s<o.length;s++){var a=o[s];a<128&&n.push(jr(a))}var c=n.length,h=c;for(c&&n.push("-");h<i;){for(var f=Dr,v=0,l=t;v<l.length;v++){var d=l[v];d>=r&&d<f&&(f=d)}var g=h+1;f-r>Lr((Dr-e)/g)&&Cr("overflow"),e+=(f-r)*g,r=f;for(var w=0,y=t;w<y.length;w++){var m=y[w];if(m<r&&++e>Dr&&Cr("overflow"),m==r){for(var A=e,p=36;;p+=36){var _=p<=u?1:p>=u+26?26:p-u;if(A<_)break;var k=A-_,b=36-_;n.push(jr(Br(_+k%b,0))),A=Lr(k/b)}n.push(jr(Br(A,0))),u=Pr(e,g,h==c),e=0,++h}}++e,++r}return n.join("")}(t):t}))};function Qr(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return Nr(n)}function Yr(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Fr(t,n){return t>>n&63|128}function Gr(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Yr(t),n.push(t>>12&15|224),n.push(Fr(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Fr(t,12)),n.push(Fr(t,6))),n.push(63&t|128)):n.push(t)}function Vr(t){for(var n=[],i=0;i<t.length;i++){Gr(t[i],n)}return n}function Wr(){if(Rr>=zr)throw new v("Invalid byte index");var t=255&Or[Rr];if(Rr++,128==(192&t))return 63&t;throw new v("Invalid continuation byte")}function Xr(){var t,n;if(Rr>zr)throw new v("Invalid byte index");if(Rr===zr)return!1;if(t=255&Or[Rr],Rr++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|Wr())>=128)return n;throw new v("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|Wr()<<6|Wr())>=2048)return Yr(n),n;throw new v("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|Wr()<<12|Wr()<<6|Wr())>=65536&&n<=1114111)return n;throw new v("Invalid UTF-8 detected")}function Zr(t){return[37,kr(t>>4),kr(15&t)]}function Hr(t){return function(t){return t>=0&&t<=31}(t)||t>126}function Kr(t){return Hr(t)||32===t||34===t||60===t||62===t||96===t}function qr(t){return Kr(t)||35===t||63===t||123===t||125===t}function Jr(t){return qr(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function $r(t){return t<33||t>126||34===t||35===t||60===t||62===t}function te(t){return $r(t)||39===t}function ne(t,n){if(!n(t))return[t];for(var i=Vr([t]),r=[],e=0;e<i.length;e++){var u=i[e];r.push.apply(r,Zr(u))}return r}function ie(t,n){for(var i=[],r=0,e=xr(t);r<e.length;r++){var u=e[r];i.push.apply(i,ne(u,n))}return Qr(i)}function re(t){return function(t){for(var n=[],i=t.length,r=0;r<i;r++){var e=t[r];if(37===e&&r+2<i&&Ar(t[r+1])&&Ar(t[r+2])){var u=_r(t[r+1])<<4|_r(t[r+2]);n.push(u),r+=2}else n.push(e)}return n}(Vr(t))}function ee(t){return Qr(function(t){Or=t.slice(),zr=Or.length,Rr=0;for(var n,i=[];!1!==(n=Xr());)i.push(n);return i}(re(xr(t))))}function ue(t){var n=t.length,i=[0,0,0,0,0,0,0,0],r=0,e=null,u=0;if(u<n&&":"===t[u]){if(!(u+1<n&&":"===t[u+1]))throw new l;u+=2,e=r+=1}for(;u<n;){if(8===r)throw new l("Too many groups");if(":"!==t[u]){for(var s=0,o=0;o<4&&u<n&&ur.test(t[u]);)s=s<<4|y(t[u],16),u+=1,o+=1;if("."===t[u]){if(0===o)throw new l;if(u-=o,r>6)throw new l;for(var a=0;u<n;){var c=null;if(a>0){if(!("."===t[u]&&a<4))throw new l;u+=1}if(!er.test(t[u]))throw new l;for(;u<n&&er.test(t[u]);){var h=y(t[u],10);if(null===c)c=h;else{if(0===c)throw new l;if((c=10*c+h)>255)throw new l}u+=1}i[r]=i[r]<<8|c,2!==(a+=1)&&4!==a||(r+=1)}if(4!==a)throw new l;break}if(":"===t[u]){if((u+=1)===n)throw new l}else if(u<n)throw new l;i[r]=s,r+=1}else{if(null!==e)throw new l("Too many :: groups");u+=1,e=r+=1}}if(null!==e){var f=r-e;for(r=7;0!==r&&f>0;)dr(i,r,e+f-1),r-=1,f-=1}else if(8!==r)throw new l;return i}function se(t){var n=10,i=or;return sr.test(t)?(t=t.slice(2),n=16,i=ar):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=cr),""===t?0:i.test(t)?y(t,n):void 0}var oe={z2:4},ae=/[\0\t\n\r #%/:?@\[\\\]]/,ce=/[\0\t\n\r #/:?@\[\\\]]/;function he(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new l("Invalid IPv6 address");return{z2:2,met:ue(t.slice(1,-1))}}if(!n)return function(t){if(ce.test(t))throw new l("Invalid code point in opaque host");var n=ie(t,Hr);return""===n?oe:{z2:3,zx:n}}(t);var i=function(t){var n=function(t){return Ur(t.toLowerCase())}(t);return n}(ee(t));if(ae.test(i))throw new l("Invalid code point in host");var r=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],r=0;r<n.length;r++){var e=n[r];if(""===e)return;var u=se(e);if(void 0===u)return;i.push(u)}for(var s=0;s<i.length-1;s++)if(i[s]>255)throw new l;if(i[i.length-1]>=w.pow(256,5-i.length))throw new l;for(var o=i.pop(),a=0;a<i.length;a++)o+=i[a]*w.pow(256,3-a);return o}}(i);return void 0!==r?{z2:1,met:r}:""===i?oe:{z2:0,pet:i}}function fe(t){switch(t.z2){case 0:return t.pet;case 1:return function(t){for(var n=[],i=t,r=1;r<=4;r++)n.push(""+(255&i)),4!==r&&n.push("."),i>>>=8;return n.reverse().join("")}(t.met);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,r=0,e=0,u=0;u<8;u++)0===t[u]?(0===e&&(r=u),e++):(e>i&&(n=r,i=e),e=0);return e>i&&(n=r,i=e),i>1?n:null}(t),r=!1,e=0;e<8;e++){if(r){if(0===t[e])continue;r=!1}i!==e?(n+=t[e].toString(16),7!==e&&(n+=":")):(n+=0===e?"::":":",r=!0)}return n}(t.met)+"]";case 3:return t.zx;case 4:return""}}var ve=/\+/g;function le(t){return 42===t||45===t||46===t||95===t||mr(t)}function de(t){for(var n=t.split("&"),i=[],r=0;r<n.length;r++){var e=n[r];if(""!==e){var u=e.indexOf("="),s=void 0,o=void 0;-1!==u?(s=e.slice(0,u),o=e.slice(u+1)):(s=e,o=""),s=s.replace(ve," "),o=o.replace(ve," ");var a=ee(s),c=ee(o);i.push([a,c])}}return i}function ge(t){for(var n="",i=0;i<t.length;i++){var r=t[i];i>0&&(n+="&"),n+=we(Vr(xr(r[0])))+"="+we(Vr(xr(r[1])))}return n}function we(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];32===r?n.push(43):le(r)?n.push(r):n.push.apply(n,Zr(r))}return Nr(n)}var ye=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function me(t){var n=""+t,i=ye.exec(n);return i?function(t,n){for(var i=t.length,r=[],e=n;e<i;e++){var u=t.charCodeAt(e);if(pe(u))if(_e(u)||e===i-1)r.push(Ae);else{var s=t.charCodeAt(e+1);_e(s)?(r.push(u,s),e++):r.push(Ae)}else r.push(u)}return t.slice(0,n)+Nr(r)}(n,i.index):n}var Ae=65533,pe=function(t){return 55296==(63488&t)},_e=function(t){return 0!=(1024&t)};function ke(t,n){var i=t[0],r=n[0];return i===r?0:i<r?-1:1}function be(t){t.pf.length=0}function Me(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.pf,de(n))}function Te(t){if(t.Ju){var n=ge(t.pf);""===n&&(n=null),t.Ju.Ju.Aet=n}}var Ne=function(){function t(t){if(void 0===t&&(t=void 0),this.Ju=null,null==t)this.pf=[];else if("object"==typeof t||"function"==typeof t)if(function(t){return t instanceof Ne&&!!fr(t.pf)&&(!vr||t[n.iterator]===De)}(t))this.pf=t.pf.slice();else if(function(t){return null!=t&&(!!fr(t)||!!vr&&"function"==typeof t[n.iterator])}(t)){this.pf=[];for(var i=0,r=lr(t);i<r.length;i++){var e=lr(r[i]);if(2!==e.length)throw new l("Invalid name-value pair");this.pf.push([me(e[0]),me(e[1])])}}else for(var u in this.pf=[],t)g.prototype.hasOwnProperty.call(t,u)&&this.pf.push([me(u),me(t[u])]);else(t=me(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.pf=de(t)}var i=t.prototype;return i.append=function(t,n){t=me(t),n=me(n),this.pf.push([t,n]),Te(this)},i.delete=function(t){t=me(t);for(var n=this.pf,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}Te(this)},i.get=function(t){t=me(t);for(var n=this.pf,i=0;i<n.length;i++){var r=n[i];if(r[0]===t)return r[1]}return null},i.getAll=function(t){t=me(t);for(var n=this.pf,i=[],r=0;r<n.length;r++){var e=n[r];e[0]===t&&i.push(e[1])}return i},i.has=function(t){t=me(t);for(var n=this.pf,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},i.set=function(t,n){t=me(t),n=me(n);for(var i=this.pf,r=!1,e=0;e<i.length;){var u=i[e];u[0]===t?r?i.splice(e,1):(u[1]=n,r=!0,e++):e++}r||i.push([t,n]),Te(this)},i.sort=function(){nr(this.pf,ke),Te(this)},i.toString=function(){return ge(this.pf)},i.entries=function(){return new Le(this.pf,Ie)},i.keys=function(){return new Le(this.pf,Ee)},i.values=function(){return new Le(this.pf,Se)},i.forEach=function(t){var n=this;this.pf.forEach((function(i){return t(i[1],i[0],n)}))},t}(),De=Ne.prototype.entries;vr&&(Ne.prototype[n.iterator]=De);var Ie=function(t){return[t[0],t[1]]},Ee=function(t){return t[0]},Se=function(t){return t[1]},Le=function(){function t(t,n){this.yet=0,this.pf=t,this.Met=n}return t.prototype.next=function(){return this.yet<this.pf.length?{done:!1,value:this.Met(this.pf[this.yet++])}:{done:!0,value:void 0}},t}(),je="null";var Ce=g.create(null);Ce.ftp=21,Ce.file=0,Ce.gopher=70,Ce.http=80,Ce.https=443,Ce.ws=80,Ce.wss=443;var xe=/^(?:\.|%2e)$/i,Oe=/^(?:\.|%2e){2}$/i;function ze(t){return xe.test(t)}function Re(t){return Oe.test(t)}function Be(t){return void 0!==Ce[t]}function Pe(t){return Be(t.fP)}function Ue(t){return""!==t.bet||""!==t.Tet}function Qe(t){var n=t.length;if(!(n>=2))return!1;if(!Fe(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function Ye(t){return 2===t.length&&rr.test(t[0])&&(":"===t[1]||"|"===t[1])}function Fe(t){return 2===t.length&&Ye(Nr(t))}function Ge(t){return Ye(t)&&":"===t[1]}function Ve(t){var n=t.Net;0!==n.length&&("file"===t.fP&&1===n.length&&Ge(n[0])||n.pop())}function We(t){return null===t.Iet||oe===t.Iet||t.Det||"file"===t.fP}var Xe=-1,Ze=/\t|\n|\r/g,He=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function Ke(t,n,i,r){void 0===i&&(i=null),void 0===r&&(r=null),i||(i=new Je,t=t.replace(He,""));var e=null!==r?r:0;n=n||null;for(var u=[],s=!1,o=!1,a=!1,c=xr(t=t.replace(Ze,"")),h=c.length,f=0;f<=h;){var v=f<h?c[f]:Xe;switch(e){case 0:if(!wr(v)){if(null===r){u.length=0,e=2;continue}throw new l("Invalid scheme")}u.push(pr(v)),e=1;break;case 1:if(mr(v)||43===v||45===v||46===v)u.push(pr(v));else{if(58!==v){if(null===r){u.length=0,e=2,f=0;continue}throw new l("Invalid scheme")}var d=Qr(u);if(null!==r){if(Be(i.fP)&&!Be(d))return;if(!Be(i.fP)&&Be(d))return;if((Ue(i)||null!==i.E7)&&"file"===d)return;if("file"===i.fP&&(i.Iet===oe||null===i.Iet))return}if(i.fP=d,null!==r)return void(Pe(i)&&i.E7===Ce[i.fP]&&(i.E7=null));u.length=0,"file"===i.fP?e=13:Pe(i)&&n&&n.fP===i.fP?e=3:Pe(i)?e=7:47===c[f+1]?(e=4,f+=1):(i.Det=!0,i.Net.push(""),e=18)}break;case 2:if(!n||n.Det&&35!==v)throw new l("Invalid scheme");n.Det&&35===v?(i.fP=n.fP,i.Net=n.Net.slice(),i.Aet=n.Aet,i.Eet="",i.Det=!0,e=20):"file"!==n.fP?(e=5,f-=1):(e=13,f-=1);break;case 3:47===v&&47===c[f+1]?e=8:(e=5,f-=1);break;case 4:47===v?e=9:(e=17,f-=1);break;case 5:i.fP=n.fP,Xe===v?(i.bet=n.bet,i.Tet=n.Tet,i.Iet=n.Iet,i.E7=n.E7,i.Net=n.Net.slice(),i.Aet=n.Aet):47===v?e=6:63===v?(i.bet=n.bet,i.Tet=n.Tet,i.Iet=n.Iet,i.E7=n.E7,i.Net=n.Net.slice(),i.Aet="",e=19):35===v?(i.bet=n.bet,i.Tet=n.Tet,i.Iet=n.Iet,i.E7=n.E7,i.Net=n.Net.slice(),i.Aet=n.Aet,i.Eet="",e=20):92===v&&Pe(i)?e=6:(i.bet=n.bet,i.Tet=n.Tet,i.Iet=n.Iet,i.E7=n.E7,i.Net=n.Net.slice(),i.Net.pop(),e=17,f-=1);break;case 6:!Pe(i)||47!==v&&92!==v?47===v?e=9:(i.bet=n.bet,i.Tet=n.Tet,i.Iet=n.Iet,i.E7=n.E7,e=17,f-=1):e=8;break;case 7:if(47!==v||47!==c[f+1]){e=8;continue}e=8,f+=1;break;case 8:47!==v&&92!==v&&(e=9,f-=1);break;case 9:if(64===v){s&&u.unshift(37,52,48),s=!0;for(var g=0;g<u.length;g++){var w=u[g];if(58!==w||a){var m=Qr(ne(w,Jr));a?i.Tet+=m:i.bet+=m}else a=!0}u.length=0}else if(Xe===v||47===v||63===v||35===v||Pe(i)&&92===v){if(s&&0===u.length)throw new l("Invalid host");f-=u.length+1,u.length=0,e=10}else u.push(v);break;case 10:case 11:if(null!==r&&"file"===i.fP)f-=1,e=15;else if(58!==v||o)if(Xe===v||47===v||63===v||35===v||Pe(i)&&92===v){if(f-=1,Pe(i)&&0===u.length)throw new l("Invalid host");if(null!==r&&0===u.length&&(Ue(i)||null!==i.E7))return;var A=he(Qr(u),Pe(i));if(i.Iet=A,u.length=0,e=16,null!==r)return}else 91===v?o=!0:93===v&&(o=!1),u.push(v);else{if(0===u.length)throw new l("Invalid host");var p=he(Qr(u),Pe(i));if(i.Iet=p,u.length=0,e=12,11===r)return}break;case 12:if(yr(v))u.push(v);else{if(!(Xe===v||47===v||63===v||35===v||Pe(i)&&92===v||null!==r))throw new l("Invalid port");if(0!==u.length){var _=y(Qr(u),10);if(_>65535)throw new l("Invalid port");i.E7=_===Ce[i.fP]?null:_,u.length=0}if(null!==r)return;e=16,f-=1}break;case 13:i.fP="file",47===v||92===v?e=14:n&&"file"===n.fP?Xe===v?(i.Iet=n.Iet,i.Net=n.Net.slice(),i.Aet=n.Aet):63===v?(i.Iet=n.Iet,i.Net=n.Net.slice(),i.Aet="",e=19):35===v?(i.Iet=n.Iet,i.Net=n.Net.slice(),i.Aet=n.Aet,i.Eet="",e=20):(Qe(c.slice(f))||(i.Iet=n.Iet,i.Net=n.Net.slice(),Ve(i)),e=17,f-=1):(e=17,f-=1);break;case 14:47===v||92===v?e=15:(n&&"file"===n.fP&&!Qe(c.slice(f))&&(Ge(n.Net[0])?i.Net.push(n.Net[0]):i.Iet=n.Iet),e=17,f-=1);break;case 15:if(Xe===v||47===v||92===v||63===v||35===v)if(f-=1,null===r&&Fe(u))e=17;else if(0===u.length){if(i.Iet=oe,null!==r)return;e=16}else{var k=he(Qr(u),Pe(i));if(0===k.z2&&"localhost"===k.pet&&(k=oe),i.Iet=k,null!==r)return;u.length=0,e=16}else u.push(v);break;case 16:Pe(i)?(e=17,47!==v&&92!==v&&(f-=1)):null===r&&63===v?(i.Aet="",e=19):null===r&&35===v?(i.Eet="",e=20):Xe!==v&&(e=17,47!==v&&(f-=1));break;case 17:if(Xe===v||47===v||Pe(i)&&92===v||null===r&&(63===v||35===v)){var b=Qr(u);if(Re(b)?(Ve(i),47===v||Pe(i)&&92===v||i.Net.push("")):!ze(b)||47===v||Pe(i)&&92===v?ze(b)||("file"===i.fP&&0===i.Net.length&&Fe(u)&&(oe!==i.Iet&&null!==i.Iet&&(i.Iet=oe),u[1]=58,b=Qr(u)),i.Net.push(b)):i.Net.push(""),u.length=0,"file"===i.fP&&(Xe===v||63===v||35===v))for(;i.Net.length>1&&""===i.Net[0];)i.Net.shift();63===v?(i.Aet="",e=19):35===v&&(i.Eet="",e=20)}else u.push.apply(u,ne(v,qr));break;case 18:63===v?(i.Aet="",e=19):35===v?(i.Eet="",e=20):Xe!==v&&(i.Net[0]+=Qr(ne(v,Hr)));break;case 19:null===r&&35===v?(i.Eet="",e=20):Xe!==v&&(i.Aet+=Qr(ne(v,Pe(i)?te:$r)));break;case 20:Xe===v||0===v||(i.Eet+=Qr(ne(v,Kr)))}f++}return i}function qe(t,n,i,r){try{Ke(t,n,i,r)}catch(t){}}var Je=function(){this.fP="",this.bet="",this.Tet="",this.Iet=null,this.E7=null,this.Net=[],this.Aet=null,this.Eet=null,this.Det=!1};function $e(t){switch(t.fP){case"blob":var n;try{n=Ke(t.Net[0],null)}catch(t){return je}return $e(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return function(t,n,i){return t+"://"+fe(n)+(null===i?"":":"+i)}(t.fP,t.Iet,t.E7);default:return je}}var tu,nu,iu,ru,eu,uu,su,ou=function(){function t(t,n){var i,r=null;if(null!=n)if(function(t){return null!=t&&t instanceof ou&&"object"==typeof t.Ju}(n))r=n.Ju;else try{r=Ke(String(n),null)}catch(t){throw new l("Invalid base URL: "+t.message)}try{i=Ke(String(t),r)}catch(t){throw new l("Invalid URL: "+t.message)}var e=i.Aet;this.Ju=i,this.Aet=function(t){var n=new Ne;return null!==t&&Me(n,t),n}(e),this.Aet.Ju=this}var n=t.prototype;return n.toString=function(){return this.href},n.toJSON=function(){return this.href},function(t,n,i){n&&tr(t.prototype,n),i&&tr(t,i)}(t,[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.fP+":";if(null!==t.Iet?(i+="//",Ue(t)&&(i+=t.bet,""!==t.Tet&&(i+=":"+t.Tet),i+="@"),i+=fe(t.Iet),null!==t.E7&&(i+=":"+t.E7)):null===t.Iet&&"file"===t.fP&&(i+="//"),t.Det)i+=t.Net[0];else for(var r=0,e=t.Net;r<e.length;r++)i+="/"+e[r];return null!==t.Aet&&(i+="?"+t.Aet),n||null===t.Eet||(i+="#"+t.Eet),i}(this.Ju)},set:function(t){var n;try{n=Ke(String(t),null)}catch(t){throw new l("Invalid URL: "+t.message)}this.Ju=n,be(this.Aet);var i=this.Ju.Aet;null!==i&&Me(this.Aet,i)}},{key:"origin",get:function(){return $e(this.Ju)}},{key:"protocol",get:function(){return this.Ju.fP+":"},set:function(t){qe(t+":",null,this.Ju,0)}},{key:"username",get:function(){return this.Ju.bet},set:function(t){We(this.Ju)||(this.Ju.bet=ie(t,Jr))}},{key:"password",get:function(){return this.Ju.Tet},set:function(t){We(this.Ju)||(this.Ju.Tet=ie(t,Jr))}},{key:"host",get:function(){var t=this.Ju,n=t.Iet;if(null===n)return"";var i=t.E7,r=fe(n);return null!==i&&(r+=":"+i),r},set:function(t){this.Ju.Det||qe(t,null,this.Ju,10)}},{key:"hostname",get:function(){var t=this.Ju.Iet;return null===t?"":fe(t)},set:function(t){this.Ju.Det||qe(t,null,this.Ju,11)}},{key:"port",get:function(){var t=this.Ju.E7;return null===t?"":""+t},set:function(t){We(this.Ju)||(""===t?this.Ju.E7=null:qe(t,null,this.Ju,12))}},{key:"pathname",get:function(){var t=this.Ju.Net;return this.Ju.Det?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.Ju.Det||(this.Ju.Net.length=0,qe(t,null,this.Ju,16))}},{key:"search",get:function(){var t=this.Ju.Aet;return null===t||""===t?"":"?"+t},set:function(t){t=me(t);var n=this.Ju;if(""===t)return n.Aet=null,void be(this.Aet);"?"===t[0]&&(t=t.slice(1)),n.Aet="",qe(t,null,n,19),Me(this.Aet,t)}},{key:"searchParams",get:function(){return this.Aet}},{key:"hash",get:function(){var t=this.Ju.Eet;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.Ju.Eet="",qe(t,null,this.Ju,20)):this.Ju.Eet=null}}]),t}();function au(t){return t.document&&t.document.baseURI||t.location.href||""}function cu(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function hu(t){for(var n;Rn(n=t.firstChild);)t.removeChild(n)}function fu(t,n){t.insertBefore(n,t.firstChild)}function vu(t){var n=t.className;return"string"==typeof n?n:n&&"string"==typeof n.baseVal?n.baseVal:""}function lu(t,n){var i=t.className;"string"==typeof i?t.className=n:i&&"string"==typeof i.baseVal&&(i.baseVal=n)}function du(t,n){return void 0!==t.classList?t.classList.contains(n):void 0!==t.className&&-1!==(" "+vu(t)+" ").indexOf(" "+n+" ")}function gu(t,n){if(void 0!==t.classList)t.classList.add(n);else if(void 0!==t.className){var i=vu(t);-1===(" "+i+" ").indexOf(" "+n+" ")&&lu(t,(i+" "+n).trim())}}function wu(t,n){if(void 0!==t.classList)t.classList.remove(n);else if(void 0!==t.className){for(var i=" "+vu(t)+" ",r=" "+n+" ";-1!==i.indexOf(r);)i=i.replace(r," ");lu(t,i.trim())}}function yu(t,n,i){void 0===i&&(i=!du(t,n)),i?gu(t,n):wu(t,n)}function mu(t){t.stopPropagation()}function Au(t,n){xn.wk&&xn.pk<3?function(t,n){var i=n;switch(n){case"flex":i="-webkit-flex";break;case"inline-flex":i="-webkit-inline-flex"}t.display=i}(t,n):function(t,n){if(t.display=n,t.display!==n){var i=n;switch(n){case"flex":i="-ms-flexbox";break;case"inline-flex":i="-ms-inline-flexbox"}t.display=i}}(t,n)}function pu(t,n){var i=n.style;if(i)for(var r=0,e=g.keys(t);r<e.length;r++){var u=e[r],s=t[u];void 0!==s&&(i[u]=s)}}function _u(t){var n=t.style;n.position="absolute",n.left="0",n.right="0",n.top="0",n.bottom="0",n.width="100%",n.height="100%"}function ku(t){var n=t.style;n.position="",n.left="",n.right="",n.top="",n.bottom="",n.width="",n.height=""}function bu(t){t.removeAttribute("title")}function Mu(t){try{return Boolean(t)&&t===t.top}catch(t){return!1}}function Tu(t){try{return Boolean(t)&&t.parent!==t}catch(t){return!1}}function Nu(t){return"video"===function(t){return t&&t.nodeName&&t.nodeName.toLowerCase()||""}(t)}function Du(t){t.src&&(t.removeAttribute("src"),t.load()),t.srcObject&&(t.srcObject=null,t.load())}function Iu(){return void 0!==u?u.createElement("video"):void 0}function Eu(){return su||(su=Iu()),su}yt(),C(),yt(),C(),yt(),C(),pt(),Mt(),yt(),C(),pt(),Mt(),yt(),C(),pt(),Mt(),yt(),C(),pt(),yt(),C(),yt(),C();var Su=!!("ontouchstart"in self||self.DocumentTouch&&u instanceof self.DocumentTouch)||!(!o||!o.msMaxTouchPoints),Lu=Eu(),ju=!(!Lu||!Lu.webkitShowPlaybackTargetPicker),Cu=function(){function t(){this.Let=void 0,this.Fet=!1,this.Je=Su,this.Qs=!1,this.Mtt=!0}var n=t.prototype;return n.xet=function(){return 0},n.Uet=function(t,n){return!0},n.Qet=function(t){return t>=2*qi},At(t,[{key:"ket",get:function(){return void 0===this.Let&&(this.Let=this.xet()),this.Let}},{key:"Cet",get:function(){return!xn.Xk}},{key:"Oet",get:function(){if(e.screen)return{width:e.screen.width,height:e.screen.height}}},{key:"h5",get:function(){return e.devicePixelRatio||1}},{key:"jet",get:function(){return ju}},{key:"G3",get:function(){return!1}},{key:"P3",get:function(){return!0}},{key:"ep",get:function(){return xn.zk||xn.Ga}},{key:"Ret",get:function(){return!xn.Ga}},{key:"DR",get:function(){return!0}},{key:"op",get:function(){return!0}},{key:"rp",get:function(){return!1}},{key:"Pet",get:function(){}},{key:"zet",get:function(){return!0}},{key:"D0",get:function(){return!1}},{key:"Bet",get:function(){return xn.bk}}]),t}();yt(),C();var xu=function(){var t=Iu();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}(),Ou=function(){if(xn.QE)return!1;var t=Iu();if(!t)return!1;var n=t.volume;return t.volume=n/2+.1,n!==t.volume}();var zu=function(t){function n(n){var i;return(i=t.call(this)||this).Yet=n,i.Yet&&(i.Fet=i.Yet.Fet,i.Je=i.Yet.Je,i.Mtt=xu&&i.Yet.Mtt),i}bt(n,t);var i=n.prototype;return i.xet=function(){return this.Yet?this.Yet.ket:t.prototype.xet.call(this)},i.Uet=function(n,i){return this.Yet?this.Yet.Uet(n,i):t.prototype.Uet.call(this,n,i)},i.Qet=function(n){return this.Yet?this.Yet.Qet(n):t.prototype.Qet.call(this,n)},At(n,[{key:"Pet",get:function(){var t;return null==(t=this.Yet)?void 0:t.Pet}},{key:"zet",get:function(){var t,n;return null==(n=null==(t=this.Yet)?void 0:t.zet)||n}}]),n}(Cu),Ru=function(t){function n(n){var i;return(i=t.call(this,n)||this).Fet=!0,i.Qs=!0,i}return bt(n,t),At(n,[{key:"rp",get:function(){return xn.Ga}}]),n}(zu);yt(),C();var Bu=function(){function t(t){this.L1=Pu(t)}var n=t.prototype;return n.E1=function(){return new this.L1},n.C1=function(t){return this.L1.isTypeSupported(t)},t}();function Pu(t){return t&&Hn(ru.ManagedMediaSource)?ru.ManagedMediaSource:Hn(ru.MediaSource)?ru.MediaSource:void 0}var Uu=function(t){function n(){return t.apply(this,arguments)}return bt(n,t),n.prototype.xet=function(){return Pu(!0)?t.prototype.xet.call(this):1},At(n,[{key:"rp",get:function(){return!0}}]),n}(Ru);yt(),C(),pt(),Mt();var Qu=function(t){function n(){return t.apply(this,arguments)}return bt(n,t),n.prototype.Uet=function(n,i){return t.prototype.Uet.call(this,n,i)},At(n,[{key:"G3",get:function(){return xn.pk<3}},{key:"P3",get:function(){return xn.pk>=3}},{key:"Oet",get:function(){var t=this;return e.tizen&&!this.Get&&e.tizen.systeminfo.getPropertyValue("DISPLAY",(function(n){var i=n.resolutionWidth,r=n.resolutionHeight;1===i&&1===r||(t.Get={width:i,height:r})})),this.Get}},{key:"D0",get:function(){return xn.pk<3}}]),n}(zu);yt(),C(),Mt();var Yu=function(t){function n(){return t.call(this)}return bt(n,t),n}(Cu);yt(),C(),pt(),Mt();var Fu=function(t){function n(){return t.apply(this,arguments)}return bt(n,t),n.prototype.Uet=function(t,n){if(t&&t.Vet&&n&&n.Vet){var i=Gu(t.Vet,"mp4a.40.2")&&Gu(n.Vet,"mp4a.40.5"),r=Gu(t.Vet,"mp4a.40.5")&&Gu(n.Vet,"mp4a.40.2"),e=Gu(t.Vet,"mp4a.40.2")&&Gu(n.Vet,"mp4a.40.34"),u=Gu(t.Vet,"mp4a.40.34")&&Gu(n.Vet,"mp4a.40.2"),s=Gu(t.Vet,"mp4a.40.5")&&Gu(n.Vet,"mp4a.40.34"),o=Gu(t.Vet,"mp4a.40.34")&&Gu(n.Vet,"mp4a.40.5");return!(i||r||e||u||s||o)}return!0},At(n,[{key:"Pet",get:function(){if(xn.TE)return 4096}}]),n}(Yu);function Gu(t,n){return t.indexOf(n)>-1}yt(),C(),Mt();var Vu=function(t){function n(){return t.apply(this,arguments)}return bt(n,t),n.prototype.Qet=function(t){return t>=2},n}(Yu);yt(),C(),Mt();var Wu=function(t){function n(){var n;return(n=t.call(this)||this).Fet=xn.Uk>=11,n.Mtt=xn.zk&&!(xn.Ga&&xn.Uk<10),n}return bt(n,t),n}(Yu);yt(),C(),pt(),Mt();var Xu=function(t){function n(){return t.apply(this,arguments)}return bt(n,t),At(n,[{key:"Oet",get:function(){var t=this;return e.webOS&&!this.Get&&e.webOS.deviceInfo((function(n){t.Get={width:n.screenWidth,height:n.screenHeight}})),this.Get}},{key:"DR",get:function(){return!1}}]),n}(zu);yt(),C(),pt(),Mt();var Zu=function(t){function n(){return t.apply(this,arguments)}return bt(n,t),At(n,[{key:"zet",get:function(){return!xn.NE||(xn.dk?92!==xn._k:xn.hk>=100)}}]),n}(Yu);yt(),C(),pt(),Mt();var Hu=function(t){function n(){return t.apply(this,arguments)}return bt(n,t),At(n,[{key:"rp",get:function(){return!0}}]),n}(zu),Ku=function(){function t(){this.qet=new qu,this.Jet=function(){var t=function(){if(xn.Ok)return new Fu;if(xn.Sk||xn.Ik)return new Vu;if(xn.zk)return new Wu;if(xn.nk)return new Zu;return new Yu}();return xn.Ga?new Uu(t):xn.Qs?new Ru(t):xn.wk?new Qu(t):xn.yk?new Xu(t):xn.TE?new Hu(t):new zu(t)}(),this.Ket=Ju(),self.performance&&self.performance.now?this.m_=function(){return self.performance.now()}:this.m_=Zi}var n=t.prototype;return n.Wet=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];si.apply(void 0,jt(n))},n.vp=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];oi.apply(void 0,jt(n))},n.Het=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];ai.apply(void 0,jt(n))},n.Xet=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];ci.apply(void 0,[t].concat(jt(i)))},n.A_=function(t,n){return a(t,n)},n.f1=function(t,n){return h(t,n)},n.p_=function(t){c(t)},n.g1=function(t){f(t)},n.IO=function(){return this.Zet.IO()},n.pO=function(){return this.Zet.pO()},n.yO=function(){return this.Zet.yO()},n.AO=function(){return this.Zet.AO()},n.vO=function(){return this.Zet.vO()},n.bO=function(t,n){return this.Zet.bO(t,n)},n.mO=function(t){return this.Zet.mO(t)},n.Dh=function(t,n){var i;return void 0===n&&(n=au(ru)),i="object"!=typeof n||n instanceof ou?n:n.href,new ou(t,i)},n.wp=function(t,n){if(void 0===n&&(n=au(ru)),this.Ket){var i=Fn(n)?n:n.toString();return new self.URL(t,i).href}return this.Dh(t,n).href},At(t,[{key:"AR",get:function(){return this.qet}},{key:"Ys",get:function(){return this.Jet}},{key:"np",get:function(){return{hp:o&&o.userAgent.match(/Android /i)?"Android":"other",sp:Boolean(o&&o.userAgent.match(/Android 8.0.0/i))}}},{key:"dH",get:function(){return self&&self.location&&"https:"===self.location.protocol}},{key:"$et",get:function(){return"languages"in o?o.languages.slice():[o.language]}}]),t}(),qu=function(){function t(){}return At(t,[{key:"yR",get:function(){return o.oscpu}},{key:"Ys",get:function(){return o.platform}},{key:"MR",get:function(){return o.vendor}},{key:"bR",get:function(){return o.vendorSub}}]),t}();function Ju(){if(self.URL)try{var t=new self.URL("b","http://a");return t.pathname="c d","http://a/c%20d"===t.href}catch(t){}return!1}function $u(){return $u=g.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var r in i)g.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},$u.apply(this,arguments)}function ts(){var t=g.create(null);return t.t_=void 0,delete t.t_,t}function ns(){return new ss}function is(){return new as}function rs(t){var n=ns();for(var i in t)On.call(t,i)&&n.set(i,t[i]);return n}function es(t){var n=[];return t.forEach((function(t){return n.push(t)})),n}yt(),C(),zt(),yt(),C(),Ut(),yt(),C(),pt(),Vt();var us="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,ss=us||function(){var t=function(){function t(t,n){this.index=0,this.data=t,this.selector=n,this.keys=g.keys(t)}return t.prototype.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}();return function(){function n(){this.data=ts(),this.size=0}var i=n.prototype;return i.get=function(t){return this.data[t]},i.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},i.has=function(t){return t in this.data},i.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},i.clear=function(){this.data=ts(),this.size=0},i.keys=function(){return new t(this.data,(function(t,n){return n}))},i.values=function(){return new t(this.data,(function(t,n){return t[n]}))},i.entries=function(){return new t(this.data,(function(t,n){return[n,t[n]]}))},i.forEach=function(t){for(var n in this.data)t(this.data[n],n)},n}()}();var os,as=us||function(){var t=function(){function t(t,n){this.i_=t,this.e_=n}return t.prototype.next=function(){var t=this.i_.next();return t.done?t:{value:this.e_(t.value),done:!1}},t}();return function(){function n(){this.mf=ns()}var i=n.prototype;return i.get=function(t){return this.mf.get(""+t)},i.set=function(t,n){return this.mf.set(""+t,n),this},i.has=function(t){return this.mf.has(""+t)},i.delete=function(t){return this.mf.delete(""+t)},i.clear=function(){this.mf.clear()},i.keys=function(){return new t(this.mf.keys(),(function(t){return Number(t)}))},i.values=function(){return this.mf.values()},i.entries=function(){return new t(this.mf.entries(),(function(t){var n=Gt(t,2),i=n[0],r=n[1];return[Number(i),r]}))},i.forEach=function(t){this.mf.forEach((function(n,i){t(n,Number(i))}))},At(n,[{key:"size",get:function(){return this.mf.size}}]),n}()}();yt(),C(),yt(),C(),function(t){t.Dp="9a04f079-9840-4286-ab92-e65be0885f95",t.Ep="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",t.Lp="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",t.kp="94ce86fb-07ff-4f43-adb8-93d2fa968ca2"}(os||(os={}));var cs,hs="urn:mpeg:dash:mp4protection:2011",fs="cenc",vs="sinf",ls="skd",ds="9a04f079-9840-4286-ab92-e65be0885f95",gs="urn:uuid:"+ds,ws="com.microsoft.playready",ys="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",ms="urn:uuid:"+ys,As="com.widevine.alpha",ps="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",_s="urn:uuid:"+ps,ks="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",bs="urn:uuid:"+ks,Ms="com.apple.fps.1_0",Ts="com.apple.streamingkeydelivery",Ns="identity";yt(),C(),function(t){t.Dp="playready",t.Ep="widevine",t.kp="fairplay",t.Lp="clearkey",t.xp="aes128"}(cs||(cs={}));var Ds={Av:cs.Dp,dL:ws,fL:"cenc",_L:ds,gL:gs,wL:"PlayReady"},Is={Av:cs.Ep,dL:As,fL:"cenc",_L:ys,gL:ms,wL:"Widevine"},Es={Av:cs.kp,dL:Ms,fL:"skd",_L:ks,gL:bs,wL:"FairPlay"},Ss={Av:cs.kp,dL:"com.apple.fps",fL:"sinf",_L:ks,gL:bs,wL:"FairPlay"},Ls={Av:cs.Lp,dL:"org.w3.clearkey",fL:"cenc",_L:ps,gL:_s,wL:"ClearKey"},js=[Ds,Is,Es,Ls],Cs=[Ds,Is,Ss,Ls];function Os(t){return js.filter((function(n){return n.gL===t.toLowerCase()}))}yt(),C(),Ct();var zs="function"==typeof String.prototype.replaceAll?function(t,n,i){return t.replaceAll(n,i)}:function(t,n,i){return t.split(n).join(i)};function Rs(t,n){return Rn(t)&&-1!==t.indexOf(n)}var Bs="function"==typeof String.prototype.startsWith?function(t,n){return Rn(t)&&t.startsWith(n)}:function(t,n){return Rn(t)&&t.substr(0,n.length)===n},Ps="function"==typeof String.prototype.endsWith?function(t,n){return Rn(t)&&t.endsWith(n)}:function(t,n){return Rn(t)&&t.substr(t.length-n.length,n.length)===n};function Us(t,n){return t.length===n.length&&t.toUpperCase()===n.toUpperCase()}var Qs="function"==typeof String.prototype.repeat?function(t,n){return t.repeat(n)}:function(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var r=t,e="";1==(1&i)&&(e+=r),0!=(i>>>=1);)r+=r;return e},Ys="function"==typeof String.prototype.padStart?function(t,n,i){return void 0===i&&(i=" "),t.padStart(n,i)}:function(t,n,i){void 0===i&&(i=" ");var r=i,e=(0|n)-t.length;return e<=0?t:(e>r.length&&(r+=Qs(r,e/r.length)),r.slice(0,e)+t)},Fs=(String.prototype.padEnd,16384),Gs="function"==typeof String.fromCodePoint?function(t){var n;return t.length<=Fs?(n=String).fromCodePoint.apply(n,jt(t)):Ws(t,String.fromCodePoint)}:function(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return Vs(n)};function Vs(t){var n;return t.length<=Fs?(n=String).fromCharCode.apply(n,jt(t)):Ws(t,String.fromCharCode)}function Ws(t,n){for(var i=[],r=0;r<t.length;r+=Fs)i.push(n.apply(void 0,jt(t.slice(r,r+Fs))));return i.join("")}function Xs(t){return t.replace(/[\\"]/g,(function(t){return"\\"+t}))}var Zs=xn.nk&&xn.hk>=42||xn.Ok&&xn.Rk>=38||xn.Sk||xn.Ek||xn.Fk&&xn.Gk>=29;function Hs(t,n){return Rs(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[$u({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[$u({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}function Ks(){return void 0!==o&&"function"==typeof o.requestMediaKeySystemAccess}function qs(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest}var Js,$s=function(){function t(t){this.MO=ns(),this.DO=void 0,this.SO=t}var n=t.prototype;return n.vO=function(){return this.mO(Is)},n.pO=function(){return this.mO(Ls)},n.AO=function(){return this.mO(Ds)},n.yO=function(){return this.mO(Es)},n.mO=function(t){var n=t.gL,i=this.MO.get(n);if(i)return i;var r=this.bO(t,'video/mp4; codecs="avc1.42000a"');return this.MO.set(n,r),r},n.bO=function(t,n){var i=this;return Ot((function(){return Rt(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,7]),[4,i.SO.TO(t.dL,[Hs(n,!0)])];case 1:return r.sent(),[2,!0];case 2:r.sent(),r.label=3;case 3:return r.trys.push([3,5,,6]),[4,i.SO.TO(t.dL,[Hs(n,!1)])];case 4:return r.sent(),[2,!0];case 5:return r.sent(),[2,!1];case 6:return[3,7];case 7:return[2]}}))}))()},n.IO=function(){return this.DO||(this.DO=this.EO()),this.DO},n.EO=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return"https:"===eu.protocol?[2,!1]:Zs?[4,t.pO()]:[2,!1];case 1:return n.sent()?[2,!1]:[2,!0]}}))}))()},t}();function to(t,n){return io(t.slice(),n)}function no(t,n){var i=io(t,n);return i!==t&&ro(i,void 0,t.length,t),t}function io(t,n){var i=t,r=i.length;if(r<=1)return i;for(var e=new Array(r),u=1;u<r;u*=2){ro(i,n,u,e);var s=i;i=e,e=s}return i}function ro(t,n,i,r){var e,u,s,o,a,c=t.length,h=0,f=2*i;for(u=0;u<c;u+=f)for(e=(s=u+i)+i,s>c&&(s=c),e>c&&(e=c),o=u,a=s;;)if(o<s&&a<e)n&&n(t[o],t[a])<=0?r[h++]=t[o++]:r[h++]=t[a++];else if(o<s)r[h++]=t[o++];else{if(!(a<e))break;r[h++]=t[a++]}}yt(),C(),yt(),C(),zt(),Ut(),yt(),C(),zt(),pt(),Ut(),yt(),C(),zt(),Ut(),yt(),C(),Xt(),pt(),Mt(),yt(),C(),Mt(),yt(),C(),zt(),Ct(),Ut(),yt(),C(),yt(),C(),function(t){t[t.Zr=0]="Zr",t[t.Jf=1]="Jf",t[t.$f=-1]="$f"}(Js||(Js={}));var eo=function(t,n){return(0|t)-(0|n)},uo=function(t,n){return t===n?0:t<n?-1:t>n?1:A(t)?A(n)?0:1:-1};function so(t,n,i){return Ui(t,n,i)?0:uo(t,n)}var oo=function(t,n){return Qi(t,n)?0:uo(t,n)};var ao="function"==typeof Array.prototype.find?function(t,n){return t.find(n)}:function(t,n){var i=vo(t,n);return-1===i?void 0:t[i]},co=ao,ho="function"==typeof Array.prototype.findLast?function(t,n){return t.findLast(n)}:function(t,n){var i=lo(t,n);return-1===i?void 0:t[i]},fo=ho,vo="function"==typeof Array.prototype.findIndex?function(t,n){return t.findIndex(n)}:function(t,n){for(var i=0;i<t.length;i+=1){if(n(t[i],i,t))return i}return-1},lo="function"==typeof Array.prototype.findLastIndex?function(t,n){return t.findLastIndex(n)}:function(t,n){for(var i=t.length-1;i>=0;i-=1){if(n(t[i],i,t))return i}return-1};function go(t,n){var i=t.indexOf(n);return-1!==i&&(wo(t,i),!0)}function wo(t,n){0===n?t.shift():t.splice(n,1)}function yo(t,n){for(var i=new Array(t.length),r=0,e=0;e<t.length;){if(t[e]===n){e++,i.length-=1;break}i[r++]=t[e++]}for(;e<t.length;)i[r++]=t[e++];return i}function mo(t,n){return-1!==t.indexOf(n)}function Ao(t,n,i){if(t===n)return!0;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r+=1)if(!i(t[r],n[r]))return!1;return!0}function po(t){t.length=0}function _o(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++){if(!mo(n,t[i]))return!1}return!0}Array.prototype.flat;var ko="function"==typeof Array.prototype.flatMap?function(t,n){return t.flatMap(n)}:function(t,n){for(var i=[],r=0;r<t.length;r++){var e;(e=i).push.apply(e,jt(n(t[r],r)))}return i};function bo(t,n){return To(t,(function(t,i){return uo(n(t),n(i))}))}function Mo(t,n){return No(t,(function(t,i){return uo(n(t),n(i))}))}function To(t,n){if(0!==t.length)return t.reduce((function(t,i){return n(t,i)<=0?t:i}))}function No(t,n){return To(t,(function(t,i){return n(i,t)}))}function Do(t){return t.filter((function(n,i){return t.indexOf(n)===i}))}function Io(t,n){return q.all(t.map(n)).then((function(n){return t.filter((function(t,i){return n[i]}))}))}function Eo(t,n){return So.apply(this,arguments)}function So(){return So=Ot((function(t,n){var i,r;return Rt(this,(function(e){switch(e.label){case 0:i=0,e.label=1;case 1:return i<t.length?(r=t[i],[4,n(r)]):[3,4];case 2:if(e.sent())return[2,!0];e.label=3;case 3:return i++,[3,1];case 4:return[2,!1]}}))})),So.apply(this,arguments)}function Lo(){return Lo=Ot((function(t,n){var i,r;return Rt(this,(function(e){switch(e.label){case 0:i=0,e.label=1;case 1:return i<t.length?(r=t[i],[4,n(r)]):[3,4];case 2:if(!e.sent())return[2,!1];e.label=3;case 3:return i++,[3,1];case 4:return[2,!0]}}))})),Lo.apply(this,arguments)}function jo(t,n,i){if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(!i(t[r],n[r]))return!1;return!0}yt(),C(),pt(),Mt(),yt(),C(),Xt(),pt(),Mt();var Co=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];v.apply(this,n)};(Co.prototype=g.create(v.prototype)).constructor=Co;var xo=function(t){function n(n,i){var r;return(r=t.call(this)||this).message=n||"Unknown error",r.cause=i,v.captureStackTrace&&v.captureStackTrace(Wt(r),r.constructor),r}return bt(n,t),At(n,[{key:"name",get:function(){return"BaseError"}}]),n}(Co);yt(),C(),pt();var Oo=function(){function t(){this.n_=!1,this.r_=!1,this.o_=[],this.a_=[]}var n=t.prototype;return n.s_=function(){if(!this.n_&&!this.r_){this.n_=!0;for(var t=0,n=this.o_.slice();t<n.length;t++){(0,n[t])()}this.h_()}},n.h_=function(){if(!this.r_){this.r_=!0;for(var t=0,n=this.a_.slice();t<n.length;t++){(0,n[t])()}po(this.o_),po(this.a_)}},n.u_=function(t){this.r_||this.o_.push(t)},n.c_=function(t){this.r_||go(this.o_,t)},n.l_=function(t){this.r_||this.a_.push(t)},n.d_=function(t){this.r_||go(this.a_,t)},t}(),zo=function(){function t(){this.__=new Oo}var n=t.prototype;return n.g_=function(){this.__.s_()},n.h_=function(){this.__.h_()},n.w_=function(t){var n=this.__;if(!n.n_)if(t.n_)n.s_();else if(!n.r_&&!t.r_){var i=function(){r(),n.s_()},r=function(){t.c_(i),t.d_(r),n.c_(i),n.d_(r)};t.u_(i),t.l_(r),n.u_(i),n.l_(r)}},n.v_=function(){var n=new t,i=new t,r=n.f_,e=i.f_,u=this.__,s=function(){r.n_&&e.r_||e.n_&&r.r_?u.s_():r.r_&&e.r_&&u.h_()};r.u_(s),e.u_(s),r.l_(s),e.l_(s),n.w_(u),i.w_(u);return u.l_((function(){r.c_(s),e.c_(s),r.d_(s),e.d_(s)})),[n,i]},At(t,[{key:"f_",get:function(){return this.__}}]),t}(),Ro=function(t){function n(n,i){return t.call(this,n||"Aborted",i)}return bt(n,t),At(n,[{key:"name",get:function(){return"AbortError"}}]),n}(xo);function Bo(t){return t instanceof v&&"AbortError"===t.name}function Po(t){if(t&&t.n_)throw new Ro}function Uo(t){if(Bo(t))throw t}function Qo(t){if(!Bo(t))throw t}function Yo(t,n){return n?new q((function(i,r){if(n.n_)return t.catch(Kn),r(new Ro);var e=function(){n.c_(e),r(new Ro)};n.u_(e),t.then((function(t){n.c_(e),i(t)}),(function(t){n.c_(e),r(t)}))})):t}function Fo(t,n){return t.then((function(t){return n.g_(),t}),(function(t){throw n.g_(),t}))}function Go(t,n){var i=new zo;return n&&i.w_(n),Fo(t(i.f_),i)}yt(),C(),zt(),Ut();var Vo=q.resolve(),Wo="function"==typeof queueMicrotask?queueMicrotask:function(t){Vo.then(t)};function Xo(t){t.then(Kn,Kn)}function Zo(t){return Ho.apply(this,arguments)}function Ho(){return Ho=Ot((function(t){var n;return Rt(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,4]),[4,q.all(t)];case 1:return[2,i.sent()];case 2:return n=i.sent(),[4,q.all(t.map((function(t){return t.catch(Kn)})))];case 3:throw i.sent(),n;case 4:return[2]}}))})),Ho.apply(this,arguments)}function Ko(t,n){return new q((function(i,r){if(void 0!==n&&n.n_)r(new Ro);else{var e=an.A_((function(){void 0!==n&&n.c_(u),i()}),t),u=function(){an.p_(e),r(new Ro)};void 0!==n&&n.u_(u)}}))}function qo(t,n){return Go((function(i){return q.race([t,Ko(n,i).then((function(){throw new v("Timeout")}))])}))}function Jo(t,n,i){if("function"==typeof i)i.call(t,n);else for(var r=0;r<i.length;r++){i[r].call(t,n)}}var $o=function(){function t(t){var n=this;this.M_=ts(),this.S_=void 0,this.b_=0,this.Ds=function(t){n.Co(t)},this.N_=null!=t?t:this}var n=t.prototype;return n.yn=function(t,n){if("function"==typeof n)if("string"==typeof t)this.y_(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this.y_(r,n)}},n.y_=function(t,n){var i=this.M_[t];void 0===i?this.M_[t]=n:"function"==typeof i?this.M_[t]=[i,n]:0===this.b_?i.push(n):this.M_[t]=i.concat(n)},n.T_=function(t){if("function"==typeof t){var n=this.S_;void 0===n?this.S_=t:"function"==typeof n?this.S_=[n,t]:0===this.b_?n.push(t):this.S_=n.concat(t)}},n.Vo=function(){this.M_=ts(),this.S_=void 0},n.Co=function(t){this.b_++;var n=this.M_[t.type],i=this.S_;void 0!==n&&Jo(this.N_,t,n),void 0!==i&&Jo(this.N_,t,i),this.b_--},n.fn=function(t,n){if("function"==typeof n)if("string"==typeof t)this.I_(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this.I_(r,n)}},n.I_=function(t,n){var i=this.M_[t];void 0!==i&&("function"==typeof i?i===n&&(this.M_[t]=void 0):0===this.b_?go(i,n):this.M_[t]=yo(i,n))},n.D_=function(t){if("string"==typeof t)this.M_[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.M_[i]=void 0}},n.E_=function(t){var n=this.S_;void 0!==n&&("function"==typeof n?n===t&&(this.S_=void 0):0===this.b_?go(n,t):this.S_=yo(n,t))},n.k_=function(t,n){var i=this;return new q((function(r,e){if(n&&n.n_)return e(new Ro);var u=function(t){o(),r(t)},s=function(){o(),e(new Ro)},o=function(){i.fn(t,u),n&&n.c_(s)};i.yn(t,u),n&&n.u_(s)}))},t}(),ta=function(t){function n(){return t.apply(this,arguments)}return bt(n,t),n.prototype.Co=function(n){var i=this;Wo((function(){t.prototype.Co.call(i,n)}))},n}($o),na=function(t){function n(){return t.apply(this,arguments)}bt(n,t);var i=n.prototype;return i.T_=function(n){t.prototype.T_.call(this,n)},i.E_=function(n){t.prototype.E_.call(this,n)},n}($o);yt(),C(),Mt(),yt(),C();var ia,ra=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},ea=["cenc"],ua=["cbcs","cbcs-1-9"],sa=function(t){function n(n){var i;return(i=t.call(this,"vL")||this).mL=n,i}return bt(n,t),n}(ra),oa=function(t){function n(n,i,r,e){var u;return(u=t.call(this,"pL")||this).mL=n,u.AL=i,u.pL=r,u.yL=e,u}return bt(n,t),n}(ra),aa=function(t){function n(){return t.call(this,"lt")}return bt(n,t),n}(ra);!function(t){t.Cv="ML",t.bL="TL"}(ia||(ia={}));var ca=function(t){function n(n,i){var r;return(r=t.call(this,"ML")||this).fL=n,r.SL=i,r}return bt(n,t),n}(ra),ha=function(t){function n(){return t.call(this,"TL")}return bt(n,t),n}(ra);yt(),C(),pt();var fa=new p([0]).buffer,va=function(){function t(){this.Xu=[]}var n=t.prototype;return n.NL=function(t){for(var n=0,i=this.Xu;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n.IL=function(t){for(var n=0,i=this.Xu;n<i.length;n++){var r=i[n];if(r[0]===t)return r[1]}},n.DL=function(t,n){this.Xu.forEach((function(n){return t(n[1],n[0])}),n)},n.EL=function(t,n){this.Xu.push([t,n])},n.kL=function(){po(this.Xu)},At(t,[{key:"By",get:function(){return this.Xu.length}}]),t}();yt(),C(),pt(),yt(),C(),yt(),C();var la="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),da=16383,ga=/[\t\n\f\r ]/g;function wa(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:ya()}function ya(){throw new v("Invalid base64 input")}function ma(t){var n=t;ga.test(n)&&(n=n.replace(ga,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var r=i%4;if(1===r)return ya();for(var e,u=0===r?0:4-r,s=new p(function(t,n){return 3*(t+n)/4-n}(i,u)),o=u>0?i-4:i,a=0,c=0;a<o;a+=4)e=wa(n.charCodeAt(a))<<18|wa(n.charCodeAt(a+1))<<12|wa(n.charCodeAt(a+2))<<6|wa(n.charCodeAt(a+3)),s[c++]=e>>16&255,s[c++]=e>>8&255,s[c++]=255&e;return 2===u?(e=wa(n.charCodeAt(a))<<2|wa(n.charCodeAt(a+1))>>4,s[c++]=255&e):1===u&&(e=wa(n.charCodeAt(a))<<10|wa(n.charCodeAt(a+1))<<4|wa(n.charCodeAt(a+2))>>2,s[c++]=e>>8&255,s[c++]=255&e),s}function Aa(t,n,i){return la[t>>2]+la[(3&t)<<4|n>>4]+la[(15&n)<<2|i>>6]+la[63&i]}function pa(t,n,i){for(var r=[],e=n;e<i;e+=3)r.push(Aa(t[e],t[e+1],t[e+2]));return r.join("")}function _a(t){for(var n=t.length,i=n%3,r=[],e=n-i,u=0;u<e;u+=da)r.push(pa(t,u,w.min(e,u+da)));if(1===i){var s=t[n-1];r.push(la[s>>2]+la[(3&s)<<4]+"==")}else if(2===i){var o=t[n-2],a=t[n-1];r.push(la[o>>2]+la[(3&o)<<4|a>>4]+la[(15&a)<<2]+"=")}return r.join("")}function ka(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/[=]/g,"")}var ba=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],Ma=ArrayBuffer.isView||function(t){return t&&mo(ba,zn.call(t))};function Ta(t,n){return t===n||t.byteLength===n.byteLength&&Na(new p(t),new p(n))}function Na(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}function Da(t){var n=t.reduce((function(t,n){return t+n.byteLength}),0);return Ia(t,n)}function Ia(t,n){for(var i=new p(n),r=0,e=0;e<t.length;e++){var u=t[e];i.set(u,r),r+=u.byteLength}return i}function Ea(t,n,i){var r=new p(t.byteLength+n.byteLength),e=Nc(t,0,i),u=Nc(t,i);return r.set(e),r.set(n,i),r.set(u,i+n.byteLength),r}function Sa(t){return ma(t).buffer}function La(t){return _a(new p(t))}function ja(t){return _a(mc(t))}function Ca(t,n){var i=n.Ku,r=t.getUint8(i>>3),e=1<<7-(7&i);return n.KA(1),(r&e)===e?1:0}function xa(t,n,i){for(var r=0,e=0;e<i;e++)r=2*r+Ca(t,n);return r}yt(),C(),pt();var Oa=function(){function t(t){void 0===t&&(t=0),this.Zu=t}var n=t.prototype;return n.KA=function(t){this.Zu+=t},n.JA=function(t){this.Zu=t},n.$A=function(){return new t(this.Ku)},At(t,[{key:"Ku",get:function(){return this.Zu}}]),t}();var za=w.clz32||function(t){var n=32,i=t>>16;return i&&(n-=16,t=i),(i=t>>8)&&(n-=8,t=i),(i=t>>4)&&(n-=4,t=i),(i=t>>2)&&(n-=2,t=i),(i=t>>1)?n-2:n-t};function Ra(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Ba(t,n){return t>>n&63|128}function Pa(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Ra(t),n.push(t>>12&15|224),n.push(Ba(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Ba(t,12)),n.push(Ba(t,6))),n.push(63&t|128)):n.push(t)}function Ua(t,n){if(n.Ku>=t.length)throw new v("Invalid byte index");var i=255&t[n.Ku];if(n.KA(1),128==(192&i))return 63&i;throw new v("Invalid continuation byte")}function Qa(t,n){var i=n.Ku;if(i>t.length)throw new v("Invalid byte index");if(i===t.length)return!1;var r=255&t[i];if(n.KA(1),0==(128&r))return r;if(192==(224&r)){var e=(31&r)<<6|Ua(t,n);if(e>=128)return e;throw new v("Invalid continuation byte")}if(224==(240&r)){var u=(15&r)<<12|Ua(t,n)<<6|Ua(t,n);if(u>=2048)return Ra(u),u;throw new v("Invalid continuation byte")}if(240==(248&r)){var s=(7&r)<<18|Ua(t,n)<<12|Ua(t,n)<<6|Ua(t,n);if(s>=65536&&s<=1114111)return s}throw new v("Invalid UTF-8 detected")}yt(),C(),yt(),C();var Ya=65279;var Fa=[128,64,32,16,8,4,2,1],Ga=function(){function t(t){this.sy=t}return t.prototype.ey=function(t){return Va(this.sy,t)},t}();function Va(t,n){return(t&n)===n}function Wa(t,n){return Va(t,Fa[n])}function Xa(t,n){var i=t.getUint8(n.Ku);return n.KA(1),i}function Za(t,n,i){t.setUint8(n.Ku,i),n.KA(1)}function Ha(t,n,i){var r=Nc(Ec(t),n.Ku,n.Ku+i);return n.KA(r.byteLength),r}function Ka(t,n,i){Ec(t).set(Ec(i),n.Ku),n.KA(i.byteLength)}function qa(t,n,i){return n.Ku+i<=t.byteLength}function Ja(t,n,i,r){return void 0===r&&(r=!1),r?function(t,n,i){for(var r=0,e=1,u=0;u<i;u++)r+=Xa(t,n)*e,e*=256;return r}(t,n,i):function(t,n,i){for(var r=0,e=0;e<i;e++)r=256*r+Xa(t,n);return r}(t,n,i)}function $a(t,n){var i=t.getUint8(n.Ku);return n.KA(1),i}function tc(t,n,i){void 0===i&&(i=!1);var r=t.getUint16(n.Ku,i);return n.KA(2),r}function nc(t,n,i,r){void 0===r&&(r=!1),t.setUint16(n.Ku,i,r),n.KA(2)}function ic(t,n,i){void 0===i&&(i=!1);var r=t.getUint32(n.Ku,i);return n.KA(4),r}function rc(t,n,i,r){void 0===r&&(r=!1),t.setUint32(n.Ku,i,r),n.KA(4)}function ec(t,n,i){void 0===i&&(i=!1);var r=ic(t,n,i),e=ic(t,n,i),u=i?e:r,s=i?r:e;return Oi.fromBits(s,u,!0)}function uc(t,n,i,r){void 0===r&&(r=!1);var e=i.getHighBitsUnsigned(),u=i.getLowBitsUnsigned(),s=r?e:u;rc(t,n,r?u:e,r),rc(t,n,s,r)}function sc(t,n){return cc(t,n)}function oc(t,n,i){return Vs(xc(Ha(t,n,i)))}function ac(t,n){var i,r=Xa(t,n);return 0==(128&r)?i=r:192==(224&r)?i=64*(31&r)+(63&Xa(t,n)):224==(240&r)?i=4096*(15&r)+64*(63&Xa(t,n))+(63&Xa(t,n)):240==(248&r)&&(i=262144*(7&r)+4096*(63&Xa(t,n))+64*(63&Xa(t,n))+(63&Xa(t,n))),i}function cc(t,n){return hc(t,n,!0)}function hc(t,n,i){for(var r=[];n.Ku<t.byteLength;){var e=Xa(t,n);if(i&&!e)break;r.push(e)}return Vs(r)}function fc(t,n,i){for(var r=i.length,e=0;e<r;e+=1){Za(t,n,i.charCodeAt(e))}}function vc(t,n){if(n.Ku+2<=t.byteLength){var i=t.getUint8(n.Ku),r=t.getUint8(n.Ku+1);return(254!==i||255!==r)&&(255===i&&254===r||void 0)}}function lc(t,n){var i=vc(t,n);return void 0!==i&&n.KA(2),dc(t,n,!0===i)}function dc(t,n,i){return void 0===i&&(i=!1),gc(t,n,i,!0)}function gc(t,n,i,r){for(var e=[];n.Ku+2<=t.byteLength;){var u=tc(t,n,i);if(r&&!u)break;e.push(u)}return Vs(e)}function wc(t,n,i,r){void 0===r&&(r=!1);for(var e=i.length,u=0;u<e;u+=1){nc(t,n,i.charCodeAt(u),r)}}function yc(t){return hc(Ic(t),new Oc,!1)}function mc(t){var n=new p(t.length);return fc(Ic(n),new Oc,t),n}function Ac(t,n){return void 0===n&&(n=!1),gc(Ic(t),new Oc,n,!1)}function pc(t,n){void 0===n&&(n=!1);var i=new p(2*t.length);return wc(Ic(i),new Oc,t,n),i}function _c(t,n){return n.Ku+3<=t.byteLength&&(239===t.getUint8(n.Ku)&&187===t.getUint8(n.Ku+1)&&191===t.getUint8(n.Ku+2))}function kc(t,n){return function(t,n,i){var r=[],e=_c(t,n);e&&n.KA(3);for(;n.Ku<t.byteLength;){var u=ac(t,n);if(void 0===u)break;if(i&&0===u)break;r.push(u)}return Gs(r)}(t,n,!0)}function bc(t){return function(t){return Gs(t)}(function(t,n){var i,r=[],e=new Oc;if(!n){if(!1===(i=Qa(t,e)))return r;i===Ya||r.push(i)}for(;!1!==(i=Qa(t,e));)r.push(i);return r}(Ec(t)))}function Mc(t){return new p(function(t){for(var n=[],i=0;i<t.length;i++)Pa(t[i],n);return n}(function(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}(t)))}function Tc(t,n){if(_c(t,n))return kc(t,n);if(void 0!==vc(t,n))return lc(t,n);if(n.Ku+4<=t.byteLength){if(0===t.getUint8(n.Ku)&&0===t.getUint8(n.Ku+2))return dc(t,n,!1);if(0===t.getUint8(n.Ku+1)&&0===t.getUint8(n.Ku+3))return dc(t,n,!0)}return kc(t,n)}function Nc(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new p(t.buffer,t.byteOffset+n,i-n)}function Dc(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function Ic(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ec(t){return new p(t.buffer,t.byteOffset,t.byteLength)}function Sc(t){return t instanceof ArrayBuffer||Ma(t)}function Lc(t){return t instanceof ArrayBuffer?new p(t):Ec(t)}function jc(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):Cc(Nc(t,n,i))}function Cc(t){if(t.slice)return t.slice(0);var n=new p(t.byteLength);return n.set(t,0),n}function xc(t){return[].slice.call(t)}var Oc=function(){function t(t){void 0===t&&(t=0),this.Zu=t}var n=t.prototype;return n.KA=function(t){this.Zu+=t},n.JA=function(t){this.Zu=t},n.$A=function(){return new t(this.Ku)},n.oy=function(){return new Oa(this.Ku<<3)},At(t,[{key:"Ku",get:function(){return this.Zu}}]),t}();function zc(t){var n=t.toLowerCase(),i=0,r=0;Bs(n,"0x")&&(n=n.substring(2));var e=new p(w.ceil(n.length/2));for(1==(1&n.length)&&(i=1,e[r++]=y(n[0],16));i<n.length;i+=2)e[r++]=y(n.substr(i,2),16);return e}function Rc(t){return.001*t}yt(),C();var Bc=function(){function t(){var t=this;this.OL=new q((function(n,i){t.lf=n,t.CL=i}))}var n=t.prototype;return n.LL=function(t){this.lf&&(this.lf(t),this.h_())},n.xL=function(t){this.CL&&(this.CL(t),this.h_())},n.g_=function(){this.OL.catch(Kn),this.xL(new Ro)},n.w_=function(t){var n=this;t.then((function(t){return n.LL(t)}),(function(t){return n.xL(t)}))},n.h_=function(){this.lf=void 0,this.CL=void 0},t}();function Pc(){return new p([8,4]).buffer}function Uc(t,n){return t===ws?function(t){if(t.byteLength<2*Qc.length)return t;var n=new DataView(t,0,2*Qc.length),i=Ac(n,!0);if(i===Qc)return t;return function(t){var n='<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">',i='</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',r=""+n+La(t)+i;return pc(r,!0).buffer}(t)}(n):n}yt(),C();var Qc="<PlayReady";yt(),C(),yt(),C(),Mt();var Yc=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,e)||this).jL=i,u.RL=r,u}return bt(n,t),n}(xo);yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C();var Fc=function(t,n){return(Fc=g.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)g.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])})(t,n)};function Gc(t,n){if("function"!=typeof n&&null!==n)throw new l("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}Fc(t,n),t.prototype=null===n?g.create(n):(i.prototype=n.prototype,new i)}function Vc(t,n,i){return t.indexOf?t.indexOf(n,i):Array.prototype.indexOf.call(t,n,i)}yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C();!function(){function t(t,n){this.PL=t,this.zL=n}t.prototype.get=function(t){var n=this.PL.get(t);if(0===this.zL||void 0===n)return n;var i=this.PL.get(t+1)||0,r=n&(1<<8-this.zL)-1,e=i>>8-this.zL;return(r<<this.zL)+e},t.prototype.getBit=function(t){if(!(t<0)){var n=this.PL.get(w.floor((t+this.zL)/8));if(void 0!==n)return(n&1<<7-this.zL-t%8)>0?1:0}},g.defineProperty(t.prototype,"bitLength",{get:function(){return this.PL.bitLength-this.zL},enumerable:!1,configurable:!0}),g.defineProperty(t.prototype,"length",{get:function(){return this.PL.length},enumerable:!1,configurable:!0})}();yt(),C(),yt(),C();w.pow(2,-52);function Wc(t,n,i){return w.min(w.max(t,n),i)}function Xc(t,n){return t>>8-n}function Zc(t,n){return t&(1<<n)-1}var Hc=function(){function t(t){this.BL=t,this.UL=0,this.QL=0}return g.defineProperty(t.prototype,"totalBitsRead",{get:function(){return 8*this.UL+this.QL},enumerable:!1,configurable:!0}),g.defineProperty(t.prototype,"done",{get:function(){return this.UL===this.BL.length&&0===this.QL},enumerable:!1,configurable:!0}),g.defineProperty(t.prototype,"location",{get:function(){return{byte:this.UL,bit:this.QL}},enumerable:!1,configurable:!0}),t.prototype.copy=function(){var n=new t(this.BL);return n.seek(this.UL,this.QL),n},t.prototype.canReadBits=function(t){return 8*this.UL+t+this.QL<=8*this.BL.length},t.prototype.canReadBytes=function(t){return 0===this.QL?this.UL+t<=this.BL.length:this.UL+t<this.BL.length},t.prototype.incBit=function(){this.QL++,this.QL>7&&(this.UL++,this.QL=0)},t.prototype.seek=function(t,n){this.UL=t,this.QL=n},t.prototype.peekBit=function(){if(!this.canReadBits(1))throw new v("Cannot read past end of buffer.");return this.BL.get(this.UL)>>7-this.QL&1},t.prototype.readBit=function(){var t=this.peekBit();return this.incBit(),t},t.prototype.readByte=function(){if(!this.canReadBytes(1))throw new v("Cannot read past end of buffer.");if(0===this.QL)return this.BL.get(this.UL++);var t=Zc(this.BL.get(this.UL),8-this.QL),n=Xc(this.BL.get(this.UL+1),this.QL);return this.UL++,t<<this.QL|n},t.prototype.readBits=function(t){if(!this.canReadBits(t))throw new v("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readBit());return n},t.prototype.readUInt=function(t){if(t>32)throw new v("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new v("Cannot read past end of buffer.");var n=0;if(0===this.QL&&t%8==0)for(var i=t-8;i>=0;i-=8)n|=this.readByte()<<i;else for(i=t-1;i>=0;i--)n|=this.readBit()<<i;return n},t.prototype.readInt=function(t){if(t>32)throw new v("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new v("Cannot read past end of buffer.");var n=this.readUInt(t);return 0===(n&1<<t-1)?n:n-w.pow(2,t)},t.prototype.readExponentialGolombCode=function(){for(var t=0;0===this.readBit();)t++;var n=1<<t;return n+=this.readUInt(t)-1},t.prototype.readSignedExponentialGolombCode=function(){var t=this.readExponentialGolombCode();return 1&t?(t+1)/2:-t/2},t.prototype.skipBits=function(t){if(!this.canReadBits(t))throw new v("Skipping over the buffer edge is not allowed.");var n=this.QL+t;this.UL+=n>>3,this.QL=7&n},t.prototype.readBool=function(){return this.readBit()>0},t.prototype.readString=function(t){if(!this.canReadBytes(t))throw new v("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readByte());return String.fromCharCode.apply(String,n)},t}();yt(),C(),yt(),C(),yt(),C();var Kc=function(t,n){return t===n?0:t<n?-1:t>n?1:A(t)?A(n)?0:1:-1},qc=function(){function t(){this.FL=[],this.YL=[],this.GL=0}return t.from=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var r=new t,e=0,u=n;e<u.length;e++){var s=u[e];r.pushRange(s)}return r},t.prototype.pushRange=function(t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=t.length),i<0)throw new v("The buffer length must be positive.");if(0!==i){if(0===this.YL.length)this.YL.push(0);else{var r=this.YL[this.YL.length-1]+this.FL[this.FL.length-1].length;this.YL.push(r)}this.FL.push(t.subarray(n,n+i)),this.GL+=i}},t.prototype.concat=function(n){var i=new t;return i.pushRange(this.join()),i.pushRange(n.join()),i},t.prototype.copy=function(t,n,i,r){if(void 0===n&&(n=0),void 0===i&&(i=0),void 0===r&&(r=this.length),n<0||i<0||r<0)throw new RangeError;return this.slice(i,r).copyInternal(t,n)},t.prototype.copyInternal=function(t,n){for(var i=0,r=n,e=0,u=this.FL;e<u.length;e++){var s=u[e];t.set(s,r),i+=s.length,r+=s.length}return i},t.prototype.clear=function(){this.FL=[],this.YL=[],this.GL=0},t.prototype.get=function(t){if(!(t<0||t>=this.length)){var n=this.findContainingBufferIndex(t),i=t-this.YL[n];return this.FL[n][i]}},g.defineProperty(t.prototype,"first",{get:function(){return this.get(0)},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){if(this.FL.length<1)return-1;if(this.FL.length>1){var n=this.join();this.clear(),this.pushRange(n)}var i=this.FL[0];return"number"==typeof t?Vc(i,t):"undefined"!=typeof Buffer?Buffer.from(i.buffer,i.byteOffset,i.byteLength).indexOf(t):function(t,n){if(0===n.length)return 0;for(var i=n[0],r=n.length,e=t.length-r,u=0;u<=e&&!((u=Vc(t,i,u))<0||u>e);u++){for(var s=u+1,o=u+r,a=1;s<o&&t[s]===n[a];s++,a++);if(s===o)return u}return-1}(i,t)},t.prototype.findContainingBufferIndex=function(t){return function(t,n,i){if(0!==t.length){var r=0,e=t.length-1;if(1!==i(t[r],n)){if(1===i(n,t[e]))return e;for(;r!==e;){var u=w.ceil((r+e)/2);i(t[u],n)<=0?r=u:e=u-1}return r}}}(this.YL,t,Kc)},t.prototype.join=function(){if(1===this.FL.length)return this.FL[0];var t=new p(this.length);return this.copyInternal(t,0),t},g.defineProperty(t.prototype,"length",{get:function(){return this.GL},enumerable:!1,configurable:!0}),g.defineProperty(t.prototype,"bitLength",{get:function(){return 8*this.length},enumerable:!1,configurable:!0}),t.prototype.readUIntBE=function(t,n){if(n<=0||n>4)throw new v("Expected byteLength to be between 0 and 4 but was "+n);if(t<0||t>this.length-n)throw new v("Offset must be between 0 and buffer.length - byteLength, but was "+t+" (max allowed "+(this.length-n)+")");if(1===n)return this.get(t);for(var i=0,r=0;r<n;r++)i+=this.get(t+r)*w.pow(2,8*(n-r-1));return i},t.prototype.slice=function(n,i){void 0===i&&(i=this.length);var r=Wc(n,0,this.length),e=Wc(i,0,this.length);if(r>e)return new t;if(r===e)return new t;for(var u=new t,s=this.findContainingBufferIndex(r),o=this.FL[s],a=r,c=a-this.YL[s];a+o.length-c<e;)u.pushRange(o,c,o.length-c),s+=1,c=(a+=o.length-c)-this.YL[s],o=this.FL[s];var h=e-a;return u.pushRange(o,c,h),u},t.prototype.trim=function(){if(0===this.length)return new t;for(var n=this.length-1,i=this.FL.length-1,r=this.FL[i],e=r.length-1;n>=0&&i>=0;){if(0!==r[e])break;if(0===e){if(0===i)return new t;i-=1,e=(r=this.FL[i]).length-1}else e-=1;n-=1}return this.slice(0,n+1)},t}(),Jc=function(){function t(n){this.VL=n||t.BUFFER_CHUNK_SIZE,this.WL=!1,this.HL=new qc,this.BL=new p(this.VL),this.XL=0,this.ZL=0,this.QL=7}return t.prototype.closeByte=function(){this.BL[this.XL++]=this.ZL,this.XL>=this.VL&&this.closeBuffer(),this.ZL=0,this.QL=7},t.prototype.closeBuffer=function(t){void 0===t&&(t=!0),0!==this.XL&&(this.HL.pushRange(this.BL,0,this.XL),t&&(this.BL=new p(this.VL)),this.XL=0)},g.defineProperty(t.prototype,"isWritingStartBit",{get:function(){return 7===this.QL},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(this.WL)throw new v("Cannot close a closed BitWriter.");return this.isWritingStartBit||this.closeByte(),this.closeBuffer(!1),this.WL=!0,this.HL},t.prototype.writeBit=function(t){if(this.WL)throw new v("Cannot write to a closed BitWriter.");this.ZL|=t<<this.QL,0===this.QL?this.closeByte():this.QL--},t.prototype.writeByte=function(t){if(this.WL)throw new v("Cannot write to a closed BitWriter.");this.isWritingStartBit?(this.ZL=t,this.closeByte()):this.writeByteUnaligned(t)},t.prototype.writeByteUnaligned=function(t){var n=this.QL;this.ZL|=Xc(t,n+1),this.closeByte(),this.ZL=Zc(t,8-n)<<n+1,this.QL=n},t.prototype.writeBits=function(t){for(var n=0,i=t;n<i.length;n++){var r=i[n];this.writeBit(r)}},t.prototype.writeBytes=function(t){if(this.WL)throw new v("Cannot write to a closed BitWriter.");this.isWritingStartBit?this.writeBytesAligned(t):this.writeBytesUnaligned(t)},t.prototype.writeBytesAligned=function(t){this.XL+t.length<=this.VL?(this.BL.set(t,this.XL),this.XL+=t.length,this.XL===this.VL&&this.closeBuffer()):(this.closeBuffer(),this.HL.pushRange(t))},t.prototype.writeBytesUnaligned=function(t){if(0!==t.length){var n=this.QL;this.ZL|=Xc(t[0],n+1),this.closeByte();for(var i=1;i<t.length;i++){var r=Zc(t[i-1],8-n),e=Xc(t[i],n+1);this.ZL=r<<n+1|e,this.closeByte()}this.ZL=Zc(t[t.length-1],8-n)<<n+1,this.QL=n}},t.prototype.writeUInt=function(t,n){if(t<0)throw new v("Received a negative number.");if(n>32)throw new v("The max bitlength that can be provided is 32.");if(t>=w.pow(2,n))throw new v("Uint "+t+" cannot be represented in "+n+" bit(s).");if(this.isWritingStartBit&&n%8==0)for(var i=n-8;i>=0;i-=8)this.writeByte(t>>i&255);else for(i=n-1;i>=0;i--)this.writeBool((t&1<<i)>0)},t.prototype.writeInt=function(t,n){if(n>32)throw new v("The max bitlength that can be provided is 32.");if(w.abs(t)>=w.pow(2,n-1))throw new v("Signed integer "+t+" cannot be represented in "+n+" bit(s).");t<0?this.writeUInt(t+w.pow(2,n),n):this.writeUInt(t,n)},t.prototype.writeExponentialGolombCode=function(t){if(t<0)throw new v("Received a negative number.");for(var n=w.floor(w.log2(t+1))+1,i=0;i<n-1;i++)this.writeBit(0);this.writeUInt(t+1,n)},t.prototype.writeSignedExponentialGolombCode=function(t){0===t?this.writeExponentialGolombCode(0):t<0?this.writeExponentialGolombCode(-2*t):this.writeExponentialGolombCode(2*t-1)},t.prototype.padByte=function(t){for(;!this.isWritingStartBit;)this.writeBit(t)},t.prototype.writeBool=function(t){this.writeBit(t?1:0)},t.prototype.writeString=function(t){for(var n=function(t){for(var n=new p(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(t),i=0;i<n.length;i++)this.writeByte(n[i])},t.BUFFER_CHUNK_SIZE=1024,t}();yt(),C();var $c=function(){function t(t){this.rb=new qc,this.qL=t}return t.prototype.closeWriter=function(){void 0!==this.qL&&(this.rb=this.rb.concat(this.qL.close()),this.qL=void 0)},g.defineProperty(t.prototype,"writer",{get:function(){return void 0===this.qL&&(this.qL=new Jc),this.qL},enumerable:!1,configurable:!0}),t.prototype.concat=function(t){this.closeWriter(),this.rb=this.rb.concat(t)},t.prototype.toRangedBuffer=function(){return this.closeWriter(),this.rb},t}(),th=function(){function t(t){if(this.boxType=t,4!==t.length&&16!==t.length)throw new v("The provided box type does not conform to either a 4 character type or a 16 byte uuid.")}return t.prototype.serializeCommonBoxHeader=function(n){var i=this.getSize(),r=i>=t.LARGE_SIZE/8,e=16===this.boxType.length;n.writeUInt(r?1:i,32),n.writeString(e?"uuid":this.boxType),r&&(n.writeUInt(w.floor(i/t.LARGE_SIZE),32),n.writeUInt(i%t.LARGE_SIZE,32)),e&&n.writeString(this.boxType)},t.prototype.getSize=function(){var n=8+(this.boxType.length>4?16:0),i=this.getBoxContentSize()+n;return i>=t.LARGE_SIZE/8&&(i+=8),i},t.prototype.serialize=function(){var t=new $c;return this.serializeCommonBoxHeader(t.writer),this.serializeBoxContent(t),t.toRangedBuffer()},t.LARGE_SIZE=w.pow(2,32),t}();function nh(t,n){return t instanceof Oi?64===n:t<w.pow(2,n)}function ih(t,n){return w.round(t*w.pow(2,n))}function rh(t,n){for(var i=0;i<n.length;i++)t.writeByte(n[i])}function eh(t,n){return t/w.pow(2,n)}yt(),C();var uh=function(t){function n(n,i,r){var e=t.call(this,n)||this;if(e.version=i,!nh(i,8))throw new v("the provided version cannot fit in 8 bits.");return e.flags=r,e}return Gc(n,t),g.defineProperty(n.prototype,"flags",{get:function(){return this.Kd},set:function(t){this.Kd=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new v("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(th);yt(),C(),yt(),C();var sh=function(t){function n(n,i){var r=t.call(this,n)||this;return r.data=i,r}return Gc(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(qc.from(this.data))},n}(th);yt(),C(),yt(),C();var oh=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t}();yt(),C();var ah=16384;function ch(t){var n=t.length;if(n<=ah)return String.fromCharCode.apply(String,t);for(var i=[],r=0;r<n;r+=ah)i.push(String.fromCharCode.apply(String,t.slice(r,r+ah)));return i.join("")}var hh=function(){function t(t){this.raw=t}return t.prototype.isSet=function(t){return function(t,n){return(t&n)===n}(this.raw,t)},t}();function fh(t,n){var i=t.getUint8(n.offset);return n.shift(1),i}function vh(t,n,i){var r=Ah(kh(t),n.offset,n.offset+i);return n.shift(r.byteLength),r}function lh(t,n,i){return n.offset+i<=t.byteLength}function dh(t,n,i){void 0===i&&(i=!1);var r=t.getUint32(n.offset,i);return n.shift(4),r}function gh(t,n,i){void 0===i&&(i=!1);var r=dh(t,n,i),e=dh(t,n,i),u=i?e:r,s=i?r:e;return Oi.fromBits(s,u,!0)}function wh(t,n,i){return ch(function(t){return[].slice.call(t)}(vh(t,n,i)))}function yh(t,n){var i,r=fh(t,n);return 0==(128&r)?i=r:192==(224&r)?i=64*(31&r)+(63&fh(t,n)):224==(240&r)?i=4096*(15&r)+64*(63&fh(t,n))+(63&fh(t,n)):240==(248&r)&&(i=262144*(7&r)+4096*(63&fh(t,n))+64*(63&fh(t,n))+(63&fh(t,n))),i}function mh(t,n){return function(t,n,i){var r=[],e=function(t,n){return n.offset+3<=t.byteLength&&239===t.getUint8(n.offset)&&187===t.getUint8(n.offset+1)&&191===t.getUint8(n.offset+2)}(t,n);e&&n.shift(3);for(;n.offset<t.byteLength;){var u=yh(t,n);if(void 0===u)break;if(i&&0===u)break;r.push(u)}return function(t){for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return ch(n)}(r)}(t,n,!0)}function Ah(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new p(t.buffer,t.byteOffset+n,i-n)}function ph(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function _h(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function kh(t){return new p(t.buffer,t.byteOffset,t.byteLength)}var bh=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t.prototype.toBit=function(){return new oh(this.offset<<3)},t}();yt(),C();var Mh=function(){function t(t,n){this.data=t,this.cursor=n}return t.prototype.nextUint8=function(){return fh(this.data,this.cursor)},t.prototype.nextUint16=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getUint16(n.offset,i);return n.shift(2),r}(this.data,this.cursor)},t.prototype.nextInt16=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt16(n.offset,i);return n.shift(2),r}(this.data,this.cursor)},t.prototype.nextUint32=function(){return dh(this.data,this.cursor)},t.prototype.nextInt32=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt32(n.offset,i);return n.shift(4),r}(this.data,this.cursor)},t.prototype.nextInt64=function(){return function(t,n,i){void 0===i&&(i=!1);var r=dh(t,n,i),e=dh(t,n,i),u=i?e:r,s=i?r:e;return Oi.fromBits(s,u,!1)}(this.data,this.cursor)},t.prototype.nextUint64=function(){return gh(this.data,this.cursor)},t.prototype.nextUint8Array=function(t){return vh(this.data,this.cursor,t)},t.prototype.nextUint32Array=function(t){return function(t,n,i){for(var r=[],e=0;e<i;e++)r.push(dh(t,n));return r}(this.data,this.cursor,t)},t.prototype.nextChars=function(t){return wh(this.data,this.cursor,t)},t.prototype.nextUTF8String=function(){return mh(this.data,this.cursor)},t.prototype.skip=function(t){this.cursor.shift(t)},t.prototype.clone=function(){return new t(this.data,this.cursor.clone())},t}();function Th(t,n){return t.type===n}var Nh=8;function Dh(t){var n=function(t,n){var i=[];for(;n.offset<t.byteLength;){var r=Ih(t,n);if(!r.complete)return{complete:!1,boxes:i};i.push(r.box)}return{complete:!0,boxes:i}}(t.data,t.cursor);if(!n.complete)throw new v("Data incomplete");return n.boxes}function Ih(t,n){var i=n.offset,r=function(t,n){var i=n.offset;if(!lh(t,n,Nh)){return{complete:!1,neededOffset:u=n.offset+Nh}}var r=dh(t,n),e=wh(t,n,4);if(1===r){if(!lh(t,n,8)){var u=n.offset+8;return n.seek(i),{complete:!1,neededOffset:u}}r=gh(t,n).toNumber()}if("uuid"===e){if(!lh(t,n,16)){u=n.offset+16;return n.seek(i),{complete:!1,neededOffset:u}}e=wh(t,n,16)}var s=n.offset,o={type:e,size:r,headerSize:s-i};return{complete:!0,header:o}}(t,n);if(!r.complete)return r;var e=r.header,u=e.size;0===u&&(u=t.byteLength-i);var s=i+u;if(s>t.byteLength){var o=s;return n.seek(i),{complete:!1,neededOffset:o}}var a={type:e.type,offset:i,data:new Mh(ph(t,i,s),new bh(e.headerSize))};return n.seek(s),{complete:!0,box:a}}function Eh(t){return{version:t>>24,flags:new hh(16777215&t)}}function Sh(t,n){var i,r,e,u;return 1===n?(i=t.nextUint64(),r=t.nextUint64(),e=t.nextUint32(),u=t.nextUint64()):(i=t.nextUint32(),r=t.nextUint32(),e=t.nextUint32(),u=t.nextUint32()),{creation:i,modification:r,scale:e,duration:u}}function Lh(t){return t.skipBits(4),{isLeading:t.readUInt(2),sampleDependsOn:t.readUInt(2),sampleIsDependedOn:t.readUInt(2),sampleHasRedundancy:t.readUInt(2),samplePaddingValue:t.readUInt(3),sampleIsNonSyncSample:Boolean(t.readBit()),sampleDegradationPriority:t.readUInt(16)}}function jh(t){var n=t.nextUint32Array(9);return{a:eh(n[0],16),b:eh(n[1],16),u:eh(n[2],30),c:eh(n[3],16),d:eh(n[4],16),v:eh(n[5],30),x:eh(n[6],16),y:eh(n[7],16),w:eh(n[8],30)}}function Ch(t){return new sh(t.type,Ah(kh(t.data.data),t.data.cursor.offset))}var xh=function(t){function n(n,i,r,e){void 0===r&&(r=0),void 0===e&&(e=0);var u=t.call(this,"hdlr",r,e)||this;return u.name=i,u.handlerType=n,u}return Gc(n,t),g.defineProperty(n.prototype,"handlerType",{get:function(){return this.KL},set:function(t){this.KL=t},enumerable:!1,configurable:!0}),n.prototype.serializeReserved=function(t){t.writer.writeUInt(0,32),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)},n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+4+4+12+(null!==(i=null===(n=this.name)||void 0===n?void 0:n.length)&&void 0!==i?i:0)+1},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeString(this.handlerType),this.serializeReserved(n),this.name&&n.writer.writeString(this.name),n.writer.writeByte(0)},n}(uh);function Oh(t){var n=t.data,i=Eh(n.nextUint32()),r=i.version,e=i.flags;n.skip(4);var u=n.nextChars(4);n.skip(12);var s=n.nextUTF8String();return new xh(u,s,r,e.raw)}!function(t){function n(){return t.call(this,"mdir")||this}Gc(n,t),n.prototype.serializeReserved=function(t){t.writer.writeString("appl"),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)}}(xh);yt(),C(),yt(),C(),yt(),C();var zh=function(){function t(t,n){void 0===n&&(n=!1),this.fixed28BitMode=n,this.tag=t}return t.prototype.encodeSize=function(t){for(var n=[];t>0;)n.length>0&&(n[n.length-1]+=128),n.push(t%128),t>>=7;if(this.fixed28BitMode)for(;n.length<4;)n.push(128);return n.reverse()},g.defineProperty(t.prototype,"tag",{get:function(){return this.JL},set:function(t){if(!nh(t,8))throw new v("Provided tag does not fit in 8 bits.");this.JL=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return this.getDescriptorSize()+1+this.encodeSize(this.getDescriptorSize()).length},t.prototype.serialize=function(t){t.writer.writeByte(this.tag);for(var n=0,i=this.encodeSize(this.getDescriptorSize());n<i.length;n++){var r=i[n];t.writer.writeByte(r)}this.serializeDescriptorContent(t)},t}();yt(),C();!function(t){function n(n,i,r,e,u,s,o){void 0===o&&(o={});var a=t.call(this,4,o.fixed28BitMode)||this;return a.upStream=r,a.decoderSpecificInfo=s,a.objectTypeIndication=n,a.streamType=i,a.bufferSizeDb=e,a.maxBitrate=u.max,a.avgBitrate=u.avg,a}Gc(n,t),g.defineProperty(n.prototype,"objectTypeIndication",{get:function(){return this.$L},set:function(t){if(!nh(t,8))throw new v("Provided objectTypeIndication does not fit in 8 bits.");this.$L=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"streamType",{get:function(){return this.tx},set:function(t){if(!nh(t,6))throw new v("Provided streamType does not fit in 6 bits.");this.tx=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.ix},set:function(t){if(!nh(t,24))throw new v("Provided bufferSizeDb does not fit in 24 bits.");this.ix=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"maxBitrate",{get:function(){return this.sx},set:function(t){if(!nh(t,32))throw new v("Provided maxBitrate does not fit in 32 bits.");this.sx=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"avgBitrate",{get:function(){return this.nx},set:function(t){if(!nh(t,32))throw new v("Provided avgBitrate does not fit in 32 bits.");this.nx=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 13+this.decoderSpecificInfo.reduce((function(t,n){return t+n.getSize()}),0)},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.objectTypeIndication),t.writer.writeUInt(this.streamType,6),t.writer.writeBool(this.upStream),t.writer.writeBit(1),t.writer.writeUInt(this.bufferSizeDb,24),t.writer.writeUInt(this.maxBitrate,32),t.writer.writeUInt(this.avgBitrate,32);for(var n=0,i=this.decoderSpecificInfo;n<i.length;n++){i[n].serialize(t)}}}(zh);yt(),C();!function(t){function n(n,i){void 0===i&&(i={});var r=t.call(this,5,i.fixed28BitMode)||this;return r.data=n,r}Gc(n,t),n.prototype.getDescriptorSize=function(){return this.data.length},n.prototype.serializeDescriptorContent=function(t){t.concat(qc.from(this.data))}}(zh);yt(),C(),yt(),C();var Rh=function(t){function n(n){void 0===n&&(n=!1);var i=t.call(this,6,n)||this;return i.predefined=2,i}return Gc(n,t),n.prototype.getDescriptorSize=function(){return 1},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.predefined)},n}(zh);!function(t){function n(n,i,r,e){void 0===e&&(e={});var u=t.call(this,3,e.fixed28BitMode)||this;return u.decoderConfigDescriptor=r,u.esId=n,u.streamPriority=i,u.dependsOnEsId=null==e?void 0:e.dependsOnEsId,u.urlString=null==e?void 0:e.url,u.ocrEsId=null==e?void 0:e.ocrEsId,u.slConfigDescriptor=new Rh(e.fixed28BitMode),u}Gc(n,t),g.defineProperty(n.prototype,"streamDependenceFlag",{get:function(){return void 0!==this.dependsOnEsId},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"urlFlag",{get:function(){return void 0!==this.urlString},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"ocrStreamFlag",{get:function(){return void 0!==this.ocrEsId},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"esId",{get:function(){return this.ox},set:function(t){if(!nh(t,16))throw new v("Provided esId does not fit in 16 bits.");this.ox=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"streamPriority",{get:function(){return this.hx},set:function(t){if(!nh(t,5))throw new v("Provided streamPriority does not fit in 5 bits.");this.hx=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"dependsOnEsId",{get:function(){return this.ux},set:function(t){if(t&&!nh(t,16))throw new v("Provided dependsOnEsId does not fit in 16 bits.");this.ux=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"ocrEsId",{get:function(){return this.lx},set:function(t){if(t&&!nh(t,16))throw new v("Provided ocrEsId does not fit in 16 bits.");this.lx=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 3+(this.streamDependenceFlag?2:0)+(this.urlFlag?1+this.urlString.length:0)+(this.ocrStreamFlag?2:0)+this.decoderConfigDescriptor.getSize()+this.slConfigDescriptor.getSize()},n.prototype.serializeDescriptorContent=function(t){t.writer.writeUInt(this.esId,16),t.writer.writeBool(this.streamDependenceFlag),t.writer.writeBool(this.urlFlag),t.writer.writeBool(this.ocrStreamFlag),t.writer.writeUInt(this.streamPriority,5),this.streamDependenceFlag&&t.writer.writeUInt(this.dependsOnEsId,16),this.urlFlag&&(t.writer.writeByte(this.urlString.length),t.writer.writeString(this.urlString)),this.ocrStreamFlag&&t.writer.writeUInt(this.ocrEsId,16),this.decoderConfigDescriptor.serialize(t),this.slConfigDescriptor.serialize(t)}}(zh);yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C();var Bh=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.boxes=[],n}return Gc(n,t),n.prototype.getSize=function(){return t.prototype.getSize.call(this)+this.boxes.reduce((function(t,n){return t+n.getSize()}),0)},n.prototype.serialize=function(){for(var n=t.prototype.serialize.call(this),i=0,r=this.boxes;i<r.length;i++){var e=r[i];n=n.concat(e.serialize())}return n},n}(th),Ph=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Gc(n,t),n.prototype.serializeBoxContent=function(t){},n.prototype.getBoxContentSize=function(){return 0},n}(Bh),Uh=function(t){function n(n,i){var r=t.call(this,n)||this;return r.dataReferenceIndex=i,r}return Gc(n,t),g.defineProperty(n.prototype,"dataReferenceIndex",{get:function(){return this._x},set:function(t){if(!nh(t,16))throw new v("Provided dataReferenceIndex does not fit in 16 bits.");this._x=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){for(var n=0;n<6;n++)t.writer.writeByte(0);t.writer.writeUInt(this.dataReferenceIndex,16)},n}(Ph),Qh=function(t){function n(n,i,r,e){var u,s,o=this;return(o=t.call(this,n,i)||this).extra=e,o.channelCount=null!==(u=r.channelCount)&&void 0!==u?u:2,o.sampleSize=null!==(s=r.sampleSize)&&void 0!==s?s:16,o.sampleRate=r.sampleRate,o}return Gc(n,t),g.defineProperty(n.prototype,"channelCount",{get:function(){return this.gx},set:function(t){if(!nh(t,16))throw new v("Provided channelCount does not fit in 16 bits.");this.gx=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"sampleSize",{get:function(){return this.wx},set:function(t){if(!nh(t,16))throw new v("Provided sampleSize does not fit in 16 bits.");this.wx=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"sampleRate",{get:function(){return this.vx},set:function(t){if(!nh(ih(t,16),32))throw new v("Provided rate does not fit in 32 bits (fixed 16.16).");this.vx=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+8+2+2+2+2+(void 0!==this.sampleRate?4:0)+(null!==(i=null===(n=this.extra)||void 0===n?void 0:n.length)&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.channelCount,16),n.writer.writeUInt(this.sampleSize,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(ih(this.sampleRate,16),32),this.extra&&rh(n.writer,this.extra)},n}(Uh);yt(),C();!function(t){function n(n){var i=t.call(this,"stco",0,0)||this;return i.entries=n,i}Gc(n,t),g.defineProperty(n.prototype,"entries",{get:function(){return this.mx},set:function(t){if(!nh(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!nh(t,32)})))throw new v("Not all entries can be represented in 32 bits.");this.mx=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];n.writer.writeUInt(e,32)}}}(uh);yt(),C();!function(t){function n(n){var i=t.call(this,"clap")||this;return i.cleanApertureWidthN=n.cleanApertureWidthN,i.cleanApertureWidthD=n.cleanApertureWidthD,i.cleanApertureHeightN=n.cleanApertureHeightN,i.cleanApertureHeightD=n.cleanApertureHeightD,i.horizOffN=n.horizOffN,i.horizOffD=n.horizOffD,i.vertOffN=n.vertOffN,i.vertOffD=n.vertOffD,i}Gc(n,t),g.defineProperty(n.prototype,"cleanApertureWidthN",{get:function(){return this.Ax},set:function(t){if(!nh(t,32))throw new v("Provided cleanApertureWidthN does not fit in 32 bits.");this.Ax=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"cleanApertureWidthD",{get:function(){return this.yx},set:function(t){if(!nh(t,32))throw new v("Provided cleanApertureWidthD does not fit in 32 bits.");this.yx=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"cleanApertureHeightN",{get:function(){return this.Mx},set:function(t){if(!nh(t,32))throw new v("Provided cleanApertureHeightN does not fit in 32 bits.");this.Mx=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"cleanApertureHeightD",{get:function(){return this.bx},set:function(t){if(!nh(t,32))throw new v("Provided cleanApertureHeightD does not fit in 32 bits.");this.bx=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"horizOffN",{get:function(){return this.Tx},set:function(t){if(!nh(t,32))throw new v("Provided horizOffN does not fit in 32 bits.");this.Tx=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"horizOffD",{get:function(){return this.Sx},set:function(t){if(!nh(t,32))throw new v("Provided horizOffD does not fit in 32 bits.");this.Sx=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"vertOffN",{get:function(){return this.Nx},set:function(t){if(!nh(t,32))throw new v("Provided vertOffN does not fit in 32 bits.");this.Nx=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"vertOffD",{get:function(){return this.Ix},set:function(t){if(!nh(t,32))throw new v("Provided vertOffD does not fit in 32 bits.");this.Ix=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 32},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.cleanApertureWidthN,32),t.writer.writeUInt(this.cleanApertureWidthD,32),t.writer.writeUInt(this.cleanApertureHeightN,32),t.writer.writeUInt(this.cleanApertureHeightD,32),t.writer.writeUInt(this.horizOffN,32),t.writer.writeUInt(this.horizOffD,32),t.writer.writeUInt(this.vertOffN,32),t.writer.writeUInt(this.vertOffD,32)}}(th);yt(),C();!function(t){function n(n,i){var r=t.call(this,"ctts",n,0)||this;return r.entries=i,r}Gc(n,t),g.defineProperty(n.prototype,"entries",{get:function(){return this.mx},set:function(t){if(!nh(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!nh(t.sampleCount,32)||!nh(t.sampleOffset,32)})))throw new v("Not all entries can be represented in 64 bits.");this.mx=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];n.writer.writeUInt(e.sampleCount,32),0===this.version?n.writer.writeUInt(e.sampleOffset,32):1===this.version&&n.writer.writeInt(e.sampleOffset,32)}}}(uh);yt(),C();!function(t){function n(n){var i=t.call(this,"url ",0,void 0===n?1:0)||this;return i.location=n,i}Gc(n,t),g.defineProperty(n.prototype,"location",{get:function(){return this.Dx},set:function(t){this.flags=void 0===t?1:0,this.Dx=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this);return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(uh);yt(),C();!function(t){function n(n,i,r){var e=t.call(this,"urn ",0,r)||this;return e.name=n,e.location=i,e}Gc(n,t),g.defineProperty(n.prototype,"location",{get:function(){return this.Dx},set:function(t){if(1&this.flags)throw new v("The moov containment flag is set, a DataEntryUrlBox should be used instead.");this.Dx=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+this.name.length+1;return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.name),n.writer.writeByte(0),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(uh);yt(),C();!function(t){function n(){return t.call(this,"dinf")||this}Gc(n,t)}(Ph);yt(),C(),yt(),C();var Yh=function(t){function n(n,i,r){var e=t.call(this,n)||this;if(e.version=i,!nh(i,8))throw new v("the provided version cannot fit in 8 bits.");return e.flags=r,e}return Gc(n,t),g.defineProperty(n.prototype,"flags",{get:function(){return this.Kd},set:function(t){this.Kd=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new v("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(Bh);!function(t){function n(){return t.call(this,"dref",0,0)||this}Gc(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(Yh);yt(),C(),yt(),C();var Fh=function(t){function n(n,i,r){void 0===r&&(r=0);var e=t.call(this,"elst",i,r)||this;return e.entries=n,e}return Gc(n,t),g.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"entries",{get:function(){return this.mx},set:function(t){for(var n=0,i=t;n<i.length;n++){var r=i[n];if(!nh(r.segmentDuration,this.bitSize))throw new v("SegmentDuration of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!nh(r.mediaTime,this.bitSize))throw new v("MediaTime of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!nh(r.mediaRateInteger,16))throw new v("Provided mediaRateInteger does not fit in 16 bits.");if(r.mediaRateFraction&&!nh(r.mediaRateFraction,16))throw new v("Provided mediaRateFraction does not fit in 16 bits.")}this.mx=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(2*this.bitSize/8+2+2)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32),this.serializeElstBoxContent(n)},n}(uh),Gh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return Gc(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,r=this.entries;i<r.length;i++){var e=r[i];t.writer.writeUInt(e.segmentDuration,32),t.writer.writeInt(e.mediaTime,32),t.writer.writeUInt(e.mediaRateInteger,16),t.writer.writeUInt(null!==(n=e.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(Fh),Vh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return Gc(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,r=this.entries;i<r.length;i++){var e=r[i];t.writer.writeUInt(e.segmentDuration.getHighBitsUnsigned(),32),t.writer.writeUInt(e.segmentDuration.getLowBitsUnsigned(),32),t.writer.writeInt(e.mediaTime.getHighBits(),32),t.writer.writeInt(e.mediaTime.getLowBits(),32),t.writer.writeUInt(e.mediaRateInteger,16),t.writer.writeUInt(null!==(n=e.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(Fh);function Wh(t){for(var n=t.data,i=Eh(n.nextUint32()),r=i.version,e=i.flags,u=n.nextUint32(),s=[],o=0;o<u;o++){var a=void 0,c=void 0;0===r?(a=n.nextUint32(),c=n.nextInt32()):(a=n.nextUint64(),c=n.nextInt64());var h=n.nextInt16(),f=n.nextInt16();s.push({segmentDuration:a,mediaTime:c,mediaRateFraction:f,mediaRateInteger:h})}return 0===r?new Gh(s,e.raw):new Vh(s,e.raw)}var Xh=function(t){function n(){return t.call(this,"edts")||this}return Gc(n,t),n}(Ph);function Zh(t){for(var n=new Xh,i=0,r=Dh(t.data);i<r.length;i++){var e=r[i];Th(e,"elst")?n.boxes.push(Wh(e)):n.boxes.push(Ch(e))}return n}yt(),C(),yt(),C();var Hh=function(t){function n(n,i,r,e){var u=t.call(this,n)||this;return u.majorBrand=i,u.minorVersion=r,u.compatibleBrands=e,u}return Gc(n,t),g.defineProperty(n.prototype,"majorBrand",{get:function(){return this.Ex},set:function(t){if(4!==t.length)throw new v("the provided major brand does not conform to the 4 character requirement");this.Ex=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"minorVersion",{get:function(){return this.kx},set:function(t){if(!nh(t,32))throw new v("the provided minor version does not fit in 32 bits.");this.kx=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"compatibleBrands",{get:function(){return this.Lx},set:function(t){if(t.some((function(t){return 4!==t.length})))throw new v("Some of the compatible brands do not conform to the 4 character requirement");this.Lx=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4*(2+this.compatibleBrands.length)},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.majorBrand),t.writer.writeUInt(this.minorVersion,32);for(var n=0,i=this.compatibleBrands;n<i.length;n++){var r=i[n];t.writer.writeString(r)}},n}(th),Kh=function(t){function n(n,i,r){return t.call(this,"ftyp",n,i,r)||this}return Gc(n,t),n}(Hh);function qh(t){for(var n=t.data,i=n.nextChars(4),r=n.nextUint32(),e=[];n.cursor.offset<n.data.byteLength;)e.push(n.nextChars(4));return new Kh(i,r,e)}yt(),C();var Jh=function(t){function n(n,i){void 0===i&&(i="free");var r=t.call(this,i)||this;return r.data=n,r}return Gc(n,t),n.prototype.getBoxContentSize=function(){var t,n;return null!==(n=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==n?n:0},n.prototype.serializeBoxContent=function(t){this.data&&t.concat(qc.from(this.data))},n}(th);yt(),C(),yt(),C();var $h=function(t){function n(n,i,r,e){void 0===e&&(e=0);var u=t.call(this,"mdhd",r,e)||this;return u.creationTime=n.creation,u.modificationTime=n.modification,u.timescale=n.scale,u.duration=n.duration,u.language=i,u}return Gc(n,t),g.defineProperty(n.prototype,"creationTime",{get:function(){return this.xx},set:function(t){if(!nh(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.xx=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"modificationTime",{get:function(){return this.Cx},set:function(t){if(!nh(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Cx=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"timescale",{get:function(){return this.Ox},set:function(t){if(!nh(t,32))throw new v("Provided sequence number does not fit in 32 bits.");this.Ox=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"duration",{get:function(){return this.jx},set:function(t){if(!nh(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.jx=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"language",{get:function(){return this.Rx},set:function(t){if(!ef(t))throw new v("Expected an ISO-639-2/T language code");this.Rx=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMdiaContent(n),n.writer.writeBit(0);for(var i=0,r=this.language;i<r.length;i++){var e=r[i];n.writer.writeUInt(e.charCodeAt(0)-96,5)}n.writer.writeUInt(0,16)},n}(uh),tf=function(t){function n(n,i,r){return void 0===r&&(r=0),t.call(this,n,i,0,r)||this}return Gc(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}($h),nf=function(t){function n(n,i,r){return void 0===r&&(r=0),t.call(this,n,i,1,r)||this}return Gc(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}($h);function rf(t){var n=t.data,i=Eh(n.nextUint32()),r=i.version,e=i.flags,u=Sh(n,r),s=new Hc(qc.from(n.nextUint8Array(2)));s.skipBits(1);for(var o=[],a=0;a<3;a++)o.push(s.readUInt(5));var c=o.map((function(t){return String.fromCharCode(t+96)})).join("");return ef(c)||(c="und"),n.skip(2),0===r?new tf(u,c,e.raw):new nf(u,c,e.raw)}function ef(t){return/^[a-z]{3}$/.test(t)}var uf=function(t){function n(){return t.call(this,"mdia")||this}return Gc(n,t),n}(Ph);function sf(t){for(var n=new uf,i=0,r=Dh(t.data);i<r.length;i++){var e=r[i];Th(e,"mdhd")?n.boxes.push(rf(e)):Th(e,"hdlr")?n.boxes.push(Oh(e)):n.boxes.push(Ch(e))}return n}yt(),C();var of=function(t){function n(){var n=t.call(this,"mdat")||this;return n.data=new qc,n}return Gc(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(this.data)},n}(th);function af(t){var n=t.data,i=n.nextUint8Array(n.data.byteLength-n.cursor.offset),r=new of;return r.data.pushRange(i),r}yt(),C();!function(t){function n(){return t.call(this,"minf")||this}Gc(n,t)}(Ph);yt(),C();var cf;!function(t){function n(n){var i=t.call(this,"meta",0,0)||this;return i.handler=n,i}Gc(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.handler.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.handler.serialize())}}(Yh);yt(),C(),yt(),C(),function(t){t.VIDEO="vide",t.AUXILIARY_VIDEO="auxv",t.AUDIO="soun",t.METADATA="meta",t.HINT="hint",t.TEXT="text",t.SUBTITLE="subt",t.FONT="fdsm"}(cf||(cf={})),yt(),C();var hf,ff,vf={a:1,b:0,u:0,c:0,d:1,v:0,x:0,y:0,w:1};function lf(t,n){n.writer.writeUInt(ih(t.a,16),32),n.writer.writeUInt(ih(t.b,16),32),n.writer.writeUInt(ih(0,30),32),n.writer.writeUInt(ih(t.c,16),32),n.writer.writeUInt(ih(t.d,16),32),n.writer.writeUInt(ih(0,30),32),n.writer.writeUInt(ih(t.x,16),32),n.writer.writeUInt(ih(t.y,16),32),n.writer.writeUInt(ih(1,30),32)}function df(t,n){var i,r,e,u;n.writer.writeUInt(null!==(i=t.isLeading)&&void 0!==i?i:hf.UNKNOWN,2),n.writer.writeUInt(null!==(r=t.sampleDependsOn)&&void 0!==r?r:ff.UNKNOWN,2),n.writer.writeUInt(null!==(e=t.sampleIsDependedOn)&&void 0!==e?e:ff.UNKNOWN,2),n.writer.writeUInt(null!==(u=t.sampleHasRedundancy)&&void 0!==u?u:ff.UNKNOWN,2)}function gf(t,n){var i,r,e;n.writer.writeUInt(0,4),df(t,n),n.writer.writeUInt(null!==(i=t.samplePaddingValue)&&void 0!==i?i:0,3),n.writer.writeBool(null!==(r=t.sampleIsNonSyncSample)&&void 0!==r&&r),n.writer.writeUInt(null!==(e=t.sampleDegradationPriority)&&void 0!==e?e:0,16)}yt(),C(),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WITH_DEPENDENCY=1]="WITH_DEPENDENCY",t[t.NO=2]="NO",t[t.WITHOUT_DEPENDENCY=3]="WITHOUT_DEPENDENCY"}(hf||(hf={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.YES=1]="YES",t[t.NO=2]="NO",t[t.RESERVED=3]="RESERVED"}(ff||(ff={})),yt(),C(),yt(),C();var wf=function(){};yt(),C(),yt(),C(),yt(),C();var yf=function(t){function n(n,i,r){var e=t.call(this,"pssh",n,0)||this;return e.systemId=i,e.data=r,e}return Gc(n,t),g.defineProperty(n.prototype,"systemId",{get:function(){return this.Px},set:function(t){if(16!==t.length)throw new v("Provided systemId length is not 16.");this.Px=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"data",{get:function(){return this.zx},set:function(t){if(!nh(t.length,32))throw new v("Provided data length does not fit in 32 bits.");this.zx=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+16+4+this.data.length},n.prototype.serializeVersionBoxContent=function(t){},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(qc.from(this.systemId)),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.data.length,32),n.concat(qc.from(this.data))},n}(uh),mf=function(t){function n(n,i){return t.call(this,0,n,i)||this}return Gc(n,t),n}(yf),Af=function(t){function n(n,i,r){var e=t.call(this,1,n,i)||this;return e.kIds=r,e}return Gc(n,t),g.defineProperty(n.prototype,"kIds",{get:function(){return this.Bx},set:function(t){if(!nh(t.length,32))throw new v("Provided kIds length cannot fit in 32 bits.");if(t.some((function(t){return 16!==t.length})))throw new v("Not all provided key ids are 16 bytes long.");this.Bx=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+16*this.kIds.length},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.kIds.length,32);for(var n=0,i=this.kIds;n<i.length;n++){var r=i[n];t.concat(qc.from(r))}},n}(yf);function pf(t){var n=t.data.nextUint8();t.data.skip(3);var i=t.data.nextUint8Array(16),r=[];if(1===n)for(var e=t.data.nextUint32(),u=0;u<e;u++)r.push(t.data.nextUint8Array(16));var s=t.data.nextUint32(),o=t.data.nextUint8Array(s);return 1===n?new Af(i,o,r):new mf(i,o)}yt(),C(),yt(),C();var _f=function(t){function n(n,i,r){void 0===r&&(r=0);var e=t.call(this,"mehd",i,r)||this;return e.fragmentDuration=n,e}return Gc(n,t),g.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"fragmentDuration",{get:function(){return this.Ux},set:function(t){if(!nh(t,this.bitSize))throw new v("The provided fragmentDuration does not fit in ".concat(this.bitSize," bits."));this.Ux=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(uh),kf=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return Gc(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration,32)},n}(_f),bf=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return Gc(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration.getHighBitsUnsigned(),32),n.writer.writeUInt(this.fragmentDuration.getLowBitsUnsigned(),32)},n}(_f);function Mf(t){var n=t.data,i=Eh(n.nextUint32()),r=i.version,e=i.flags;return 0===r?new kf(n.nextUint32(),e.raw):new bf(n.nextUint64(),e.raw)}yt(),C();var Tf=function(t){function n(n,i,r,e){void 0===i&&(i={}),void 0===r&&(r=0),void 0===e&&(e=0);var u,s,o,a=this;return(a=t.call(this,"trex",r,e)||this).trackId=n,a.defaultSampleDescriptionIndex=null!==(u=null==i?void 0:i.sampleDescriptionIndex)&&void 0!==u?u:0,a.defaultSampleDuration=null!==(s=i.sampleDuration)&&void 0!==s?s:0,a.defaultSampleSize=null!==(o=i.sampleSize)&&void 0!==o?o:0,a.defaultSampleFlags=i.sampleFlags,a}return Gc(n,t),g.defineProperty(n.prototype,"trackId",{get:function(){return this.Qx},set:function(t){if(!nh(t,32))throw new v("Provided track id does not fit in 32 bits.");this.Qx=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Fx},set:function(t){if(!nh(t,32))throw new v("Provided default sample description index does not fit in 32 bits.");this.Fx=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.Yx},set:function(t){if(!nh(t,32))throw new v("Provided default sample duration does not fit in 32 bits.");this.Yx=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Gx},set:function(t){if(!nh(t,32))throw new v("Provided default sample size does not fit in 32 bits.");this.Gx=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.Vx},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!nh(t.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!nh(t.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");this.Vx=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+20},n.prototype.serializeBoxContent=function(n){var i;t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),n.writer.writeUInt(this.defaultSampleDescriptionIndex,32),n.writer.writeUInt(this.defaultSampleDuration,32),n.writer.writeUInt(this.defaultSampleSize,32),gf(null!==(i=this.defaultSampleFlags)&&void 0!==i?i:{},n)},n}(uh);function Nf(t){var n=t.data,i=Eh(n.nextUint32()),r=i.version,e=i.flags,u=n.nextUint32(),s=n.nextUint32(),o=n.nextUint32(),a=n.nextUint32(),c=Lh(new Hc(qc.from(n.nextUint8Array(4))));return new Tf(u,{sampleDescriptionIndex:s,sampleDuration:o,sampleSize:a,sampleFlags:c},r,e.raw)}var Df=function(t){function n(){return t.call(this,"mvex")||this}return Gc(n,t),n}(Ph);function If(t){for(var n=new Df,i=0,r=Dh(t.data);i<r.length;i++){var e=r[i];Th(e,"mehd")?n.boxes.push(Mf(e)):Th(e,"trex")?n.boxes.push(Nf(e)):n.boxes.push(Ch(e))}return n}yt(),C();var Ef=function(t){function n(i,r,e,u,s){void 0===s&&(s=0);var o,a,c,h=this;return(h=t.call(this,"mvhd",u,s)||this).creationTime=i.creation,h.modificationTime=i.modification,h.timescale=i.scale,h.duration=i.duration,h.rate=null!==(o=e.rate)&&void 0!==o?o:n.DEFAULT_RATE,h.volume=null!==(a=e.volume)&&void 0!==a?a:n.DEFAULT_VOLUME,h.matrix=null!==(c=e.matrix)&&void 0!==c?c:vf,h.Wx=r,h}return Gc(n,t),g.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"creationTime",{get:function(){return this.xx},set:function(t){if(!nh(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.xx=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"modificationTime",{get:function(){return this.Cx},set:function(t){if(!nh(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Cx=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"timescale",{get:function(){return this.Ox},set:function(t){if(!nh(t,32))throw new v("Provided sequence number does not fit in 32 bits.");this.Ox=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"duration",{get:function(){return this.jx},set:function(t){if(!nh(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.jx=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"rate",{get:function(){return this.Hx},set:function(t){if(!nh(ih(t,16),32))throw new v("Provided rate does not fit in 32 bits (fixed 16.16).");this.Hx=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"volume",{get:function(){return this.Xx},set:function(t){if(!nh(ih(t,8),16))throw new v("Provided volume does not fit in 16 bits (fixed 8.8).");this.Xx=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"matrix",{get:function(){return this.Zx},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new v("(u, v, w) does not match the required (0, 0, 1)");this.Zx=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"nextTrackId",{get:function(){return this.Wx},set:function(t){if(0===t)throw new v("NextTrackId cannot be 0.");if(!nh(t,32))throw new v("NextTrackId cannot exceed 32 bits.");this.Wx=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+2+2+8+36+24+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMvhdContent(n),n.writer.writeUInt(ih(this.rate,16),32),n.writer.writeUInt(ih(this.volume,8),16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),lf(this.matrix,n);for(var i=0;i<6;i++)n.writer.writeUInt(0,32);n.writer.writeUInt(this.nextTrackId,32)},n.DEFAULT_RATE=1,n.DEFAULT_VOLUME=1,n}(uh),Sf=function(t){function n(n,i,r,e){return void 0===r&&(r={}),void 0===e&&(e=0),t.call(this,n,i,r,0,e)||this}return Gc(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(Ef),Lf=function(t){function n(n,i,r,e){return void 0===r&&(r={}),void 0===e&&(e=0),t.call(this,n,i,r,1,e)||this}return Gc(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Ef);function jf(t){var n=t.data,i=Eh(n.nextUint32()),r=i.version,e=i.flags,u=Sh(n,r),s=eh(n.nextUint32(),16),o=eh(n.nextUint16(),8);n.skip(2),n.skip(8);var a=jh(n);n.skip(24);var c=n.nextUint32();return 0===r?new Sf(u,c,{rate:s,volume:o,matrix:a},e.raw):new Lf(u,c,{rate:s,volume:o,matrix:a},e.raw)}yt(),C(),yt(),C();var Cf=function(t){function n(n,i,r,e,u,s,o){void 0===o&&(o={});var a,c,h,f=this;return f=t.call(this,"tkhd",n,function(t){var n,i,r,e;return{trackEnabled:null===(n=null==t?void 0:t.trackEnabled)||void 0===n||n,trackInMovie:null===(i=null==t?void 0:t.trackInMovie)||void 0===i||i,trackInPreview:null===(r=null==t?void 0:t.trackInPreview)||void 0===r||r,trackSizeIsAspectRatio:null!==(e=null==t?void 0:t.trackSizeIsAspectRatio)&&void 0!==e&&e}}(o))||this,f.creationTime=i.creation,f.modificationTime=i.modification,f.trackId=r,f.duration=i.duration,f.volume=e,f.width=u,f.height=s,f.layer=null!==(a=o.layer)&&void 0!==a?a:0,f.alternateGroup=null!==(c=o.alternateGroup)&&void 0!==c?c:0,f.matrix=null!==(h=o.matrix)&&void 0!==h?h:vf,f}return Gc(n,t),g.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"creationTime",{get:function(){return this.xx},set:function(t){if(!nh(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.xx=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"modificationTime",{get:function(){return this.Cx},set:function(t){if(!nh(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Cx=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"trackId",{get:function(){return this.Qx},set:function(t){if(0===t)throw new v("trackId cannot be 0.");if(!nh(t,32))throw new v("trackId cannot exceed 32 bits.");this.Qx=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"duration",{get:function(){return this.jx},set:function(t){if(!nh(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.jx=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"volume",{get:function(){return this.Xx},set:function(t){if(!nh(ih(t,8),16))throw new v("Provided volume does not fit in 16 bits (fixed 8.8).");this.Xx=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"width",{get:function(){return this.qx},set:function(t){if(!nh(ih(t,16),32))throw new v("Provided width does not fit in 32 bits (fixed 16.16).");this.qx=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"height",{get:function(){return this.Kx},set:function(t){if(!nh(ih(t,16),32))throw new v("Provided height does not fit in 32 bits (fixed 16.16).");this.Kx=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"layer",{get:function(){return this.Jx},set:function(t){if(!nh(t,16))throw new v("Provided layer does not fit in 16 bits.");this.Jx=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"alternateGroup",{get:function(){return this.$x},set:function(t){if(!nh(t,16))throw new v("Provided alternateGroup does not fit in 16 bits.");this.$x=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"matrix",{get:function(){return this.Zx},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new v("(u, v, w) does not match the required (0, 0, 1)");this.Zx=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+8+2+2+2+2+36+4+4},n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,20),t.writer.writeBool(this.flags.trackSizeIsAspectRatio),t.writer.writeBool(this.flags.trackInPreview),t.writer.writeBool(this.flags.trackInMovie),t.writer.writeBool(this.flags.trackEnabled)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeTkhdContent(n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.layer,16),n.writer.writeUInt(this.alternateGroup,16),n.writer.writeUInt(ih(this.volume,8),16),n.writer.writeUInt(0,16),lf(this.matrix,n),n.writer.writeUInt(ih(this.width,16),32),n.writer.writeUInt(ih(this.height,16),32)},n}(uh),xf=function(t){function n(n,i,r,e,u,s){return t.call(this,0,n,i,r,e,u,s)||this}return Gc(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration,32)},n}(Cf),Of=function(t){function n(n,i,r,e,u,s){return t.call(this,1,n,i,r,e,u,s)||this}return Gc(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Cf);function zf(t){var n,i,r,e,u=t.data,s=Eh(u.nextUint32()),o=s.version,a=s.flags,c=a.isSet(8),h=a.isSet(4),f=a.isSet(2),v=a.isSet(1);0===o?(n=u.nextUint32(),i=u.nextUint32(),r=u.nextUint32(),u.skip(4),e=u.nextUint32()):(n=u.nextUint64(),i=u.nextUint64(),r=u.nextUint32(),u.skip(4),e=u.nextUint64()),u.skip(8);var l=u.nextInt16(),d=u.nextInt16(),g=eh(u.nextInt16(),8);u.skip(2);var w=jh(u),y=eh(u.nextUint32(),16),m=eh(u.nextUint32(),16);return 0===o?new xf({creation:n,modification:i,duration:e},r,g,y,m,{layer:l,matrix:w,alternateGroup:d,trackSizeIsAspectRatio:c,trackEnabled:v,trackInPreview:h,trackInMovie:f}):new Of({creation:n,modification:i,duration:e},r,g,y,m,{layer:l,matrix:w,alternateGroup:d,trackSizeIsAspectRatio:c,trackEnabled:v,trackInPreview:h,trackInMovie:f})}var Rf=function(t){function n(){return t.call(this,"trak")||this}return Gc(n,t),n}(Ph);function Bf(t){for(var n=new Rf,i=0,r=Dh(t.data);i<r.length;i++){var e=r[i];Th(e,"tkhd")?n.boxes.push(zf(e)):Th(e,"mdia")?n.boxes.push(sf(e)):Th(e,"edts")?n.boxes.push(Zh(e)):n.boxes.push(Ch(e))}return n}var Pf=function(t){function n(){return t.call(this,"moov")||this}return Gc(n,t),n}(Ph);function Uf(t){for(var n=new Pf,i=0,r=Dh(t.data);i<r.length;i++){var e=r[i];Th(e,"mvhd")?n.boxes.push(jf(e)):Th(e,"trak")?n.boxes.push(Bf(e)):Th(e,"mvex")?n.boxes.push(If(e)):Th(e,"pssh")?n.boxes.push(pf(e)):n.boxes.push(Ch(e))}return n}yt(),C(),yt(),C(),yt(),C();var Qf=function(t){function n(n,i,r){void 0===r&&(r=0);var e=t.call(this,"tfdt",i,r)||this;return e.baseMediaDecodeTime=n,e}return Gc(n,t),g.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"baseMediaDecodeTime",{get:function(){return this.tC},set:function(t){if(!nh(t,this.bitSize))throw new v("Provided baseMediaDecodeTime does not fit in ".concat(this.bitSize," bits."));this.tC=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(uh),Yf=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return Gc(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime,32)},n}(Qf),Ff=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return Gc(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseMediaDecodeTime.getLowBitsUnsigned(),32)},n}(Qf);function Gf(t){var n=t.data,i=Eh(n.nextUint32()),r=i.version,e=i.flags;return 0===r?new Yf(n.nextUint32(),e.raw):new Ff(n.nextUint64(),e.raw)}yt(),C();var Vf=function(t){function n(n,i){void 0===i&&(i=0);var r=t.call(this,"tfhd",i,function(t){return{baseDataOffsetPresent:void 0!==t.baseDataOffset,sampleDescriptionIndexPresent:void 0!==t.sampleDescriptionIndex,defaultSampleDurationPresent:void 0!==t.defaultSampleDuration,defaultSampleSizePresent:void 0!==t.defaultSampleSize,defaultSampleFlagsPresent:void 0!==t.defaultSampleFlags,durationIsEmpty:t.durationIsEmpty,defaultBaseIsMoof:t.defaultBaseIsMoof}}(n))||this;return r.trackId=n.trackId,r.baseDataOffset=n.baseDataOffset,r.sampleDescriptionIndex=n.sampleDescriptionIndex,r.defaultSampleDuration=n.defaultSampleDuration,r.defaultSampleSize=n.defaultSampleSize,r.defaultSampleFlags=n.defaultSampleFlags,r}return Gc(n,t),g.defineProperty(n.prototype,"trackId",{get:function(){return this.Qx},set:function(t){if(!nh(t,32))throw new v("Provided track id does not fit in 32 bits.");this.Qx=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"baseDataOffset",{get:function(){return this.iC},set:function(t){if(void 0===t&&this.flags.baseDataOffsetPresent)throw new v("The base data offset present flag is set.");if(void 0!==t&&!this.flags.baseDataOffsetPresent)throw new v("The base data offset present flag is not set.");if(t&&!nh(t,64))throw new v("Provided baseDataOffset does not fit in 32 bits.");this.iC=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"sampleDescriptionIndex",{get:function(){return this.eC},set:function(t){if(void 0===t&&this.flags.sampleDescriptionIndexPresent)throw new v("The sample description index flag is set.");if(void 0!==t&&!this.flags.sampleDescriptionIndexPresent)throw new v("The sample description index flag is not set.");if(t&&!nh(t,32))throw new v("Provided sampleDescriptionIndex does not fit in 32 bits.");this.eC=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.Yx},set:function(t){if(void 0===t&&this.flags.defaultSampleDurationPresent)throw new v("The default sample duration present flag is set.");if(void 0!==t&&!this.flags.defaultSampleDurationPresent)throw new v("The default sample duration present flag is not set.");if(t&&!nh(t,32))throw new v("Provided defaultSampleDuration does not fit in 32 bits.");this.Yx=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Gx},set:function(t){if(void 0===t&&this.flags.defaultSampleSizePresent)throw new v("The default sample size present flag is set.");if(void 0!==t&&!this.flags.defaultSampleSizePresent)throw new v("The default sample size present flag is not set.");if(t&&!nh(t,32))throw new v("Provided defaultSampleSize does not fit in 32 bits.");this.Gx=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.Vx},set:function(t){if(void 0===t&&this.flags.defaultSampleFlagsPresent)throw new v("The default sample flags present flag is set.");if(void 0!==t&&!this.flags.defaultSampleFlagsPresent)throw new v("The default sample flags present flag is not set.");if((null==t?void 0:t.samplePaddingValue)&&!nh(t.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!nh(t.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");this.Vx=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,6),t.writer.writeBool(this.flags.defaultBaseIsMoof),t.writer.writeBool(this.flags.durationIsEmpty),t.writer.writeByte(0),t.writer.writeUInt(0,2),t.writer.writeBool(this.flags.defaultSampleFlagsPresent),t.writer.writeBool(this.flags.defaultSampleSizePresent),t.writer.writeBool(this.flags.defaultSampleDurationPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.sampleDescriptionIndexPresent),t.writer.writeBool(this.flags.baseDataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.baseDataOffsetPresent&&(n+=8),this.flags.sampleDescriptionIndexPresent&&(n+=4),this.flags.defaultSampleDurationPresent&&(n+=4),this.flags.defaultSampleSizePresent&&(n+=4),this.flags.defaultSampleFlagsPresent&&(n+=4),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),this.flags.baseDataOffsetPresent&&(n.writer.writeUInt(this.baseDataOffset.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseDataOffset.getLowBitsUnsigned(),32)),this.flags.sampleDescriptionIndexPresent&&n.writer.writeUInt(this.sampleDescriptionIndex,32),this.flags.defaultSampleDurationPresent&&n.writer.writeUInt(this.defaultSampleDuration,32),this.flags.defaultSampleSizePresent&&n.writer.writeUInt(this.defaultSampleSize,32),this.flags.defaultSampleFlagsPresent&&gf(this.defaultSampleFlags,n)},n}(uh);function Wf(t){var n=t.data,i=n.nextUint8(),r=new Hc(qc.from(n.nextUint8Array(3)));r.skipBits(6);var e=Boolean(r.readBit()),u=Boolean(r.readBit());r.skipBits(10);var s=Boolean(r.readBit()),o=Boolean(r.readBit()),a=Boolean(r.readBit());r.skipBits(1);var c=Boolean(r.readBit()),h=Boolean(r.readBit()),f=n.nextUint32(),v=h?n.nextUint64():void 0,l=c?n.nextUint32():void 0,d=a?n.nextUint32():void 0,g=o?n.nextUint32():void 0,w=s?Lh(new Hc(qc.from(n.nextUint8Array(4)))):void 0;return new Vf({trackId:f,defaultBaseIsMoof:e,durationIsEmpty:u,baseDataOffset:v,sampleDescriptionIndex:l,defaultSampleDuration:d,defaultSampleSize:g,defaultSampleFlags:w},i)}yt(),C();var Xf=function(t){function n(n,i,r){var e=t.call(this,"trun",n,function(t){var n,i,r,e;return{dataOffsetPresent:void 0!==t.dataOffset,firstSampleFlagsPresent:void 0!==t.firstSampleFlags,sampleDurationPresent:null!==(n=t.sampleDurationPresent)&&void 0!==n&&n,sampleSizePresent:null!==(i=t.sampleSizePresent)&&void 0!==i&&i,sampleFlagsPresent:null!==(r=t.sampleFlagsPresent)&&void 0!==r&&r,sampleCompositionTimeOffsetsPresent:null!==(e=t.sampleCompositionTimeOffsetsPresent)&&void 0!==e&&e}}(i))||this;return e.dataOffset=i.dataOffset,e.samples=r,e.firstSampleFlags=i.firstSampleFlags,e}return Gc(n,t),g.defineProperty(n.prototype,"dataOffset",{get:function(){return this.sC},set:function(t){if(t&&!nh(t,32))throw new v("Provided data offset does not fit in 32 bits.");this.sC=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"firstSampleFlags",{get:function(){return this.nC},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!nh(t.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!nh(t.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");this.nC=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"samples",{get:function(){return this.rC},set:function(t){var n,i;if(!nh(t.length,32))throw new v("The sample count cannot be represented in 32 bits.");for(var r=0,e=t;r<e.length;r++){var u=e[r];if(void 0===u.duration&&this.flags.sampleDurationPresent)throw new v("The sample duration present flag is set.");if(void 0!==u.duration&&!this.flags.sampleDurationPresent)throw new v("The sample duration present flag is not set.");if(u.duration&&!nh(u.duration,32))throw new v("Provided sample duration does not fit in 32 bits.");if(void 0===u.size&&this.flags.sampleSizePresent)throw new v("The sample size present flag is set.");if(void 0!==u.size&&!this.flags.sampleSizePresent)throw new v("The sample size present flag is not set.");if(u.size&&!nh(u.size,32))throw new v("Provided sample size does not fit in 32 bits.");if(void 0===u.flags&&this.flags.sampleFlagsPresent)throw new v("The sample flags present flag is set.");if(void 0!==u.flags&&!this.flags.sampleFlagsPresent)throw new v("The sample flags present flag is not set.");if((null===(n=u.flags)||void 0===n?void 0:n.samplePaddingValue)&&!nh(u.flags.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null===(i=u.flags)||void 0===i?void 0:i.sampleDegradationPriority)&&!nh(u.flags.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");if(void 0===u.compositionTimeOffset&&this.flags.sampleCompositionTimeOffsetsPresent)throw new v("The sample compositionTimeOffset present flag is set.");if(void 0!==u.compositionTimeOffset&&!this.flags.sampleCompositionTimeOffsetsPresent)throw new v("The sample compositionTimeOffset present flag is not set.");if(u.compositionTimeOffset&&!nh(u.compositionTimeOffset,32))throw new v("Provided sample compositionTimeOffset does not fit in 32 bits.")}this.rC=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeByte(0),t.writer.writeUInt(0,4),t.writer.writeBool(this.flags.sampleCompositionTimeOffsetsPresent),t.writer.writeBool(this.flags.sampleFlagsPresent),t.writer.writeBool(this.flags.sampleSizePresent),t.writer.writeBool(this.flags.sampleDurationPresent),t.writer.writeUInt(0,5),t.writer.writeBool(this.flags.firstSampleFlagsPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.dataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.dataOffsetPresent&&(n+=4),this.flags.firstSampleFlagsPresent&&(n+=4),this.flags.sampleDurationPresent&&(n+=4*this.samples.length),this.flags.sampleSizePresent&&(n+=4*this.samples.length),this.flags.sampleFlagsPresent&&(n+=4*this.samples.length),this.flags.sampleCompositionTimeOffsetsPresent&&(n+=4*this.samples.length),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32),this.flags.dataOffsetPresent&&n.writer.writeUInt(this.dataOffset,32),this.flags.firstSampleFlagsPresent&&gf(this.firstSampleFlags,n);for(var i=0,r=this.samples;i<r.length;i++){var e=r[i];this.flags.sampleDurationPresent&&n.writer.writeUInt(e.duration,32),this.flags.sampleSizePresent&&n.writer.writeUInt(e.size,32),this.flags.sampleFlagsPresent&&gf(e.flags,n),this.flags.sampleCompositionTimeOffsetsPresent&&(0===this.version?n.writer.writeUInt(e.compositionTimeOffset,32):n.writer.writeInt(e.compositionTimeOffset,32))}},n}(uh);function Zf(t){var n=t.data,i=n.nextUint8(),r=new Hc(qc.from(n.nextUint8Array(3)));r.skipBits(12);var e=Boolean(r.readBit()),u=Boolean(r.readBit()),s=Boolean(r.readBit()),o=Boolean(r.readBit());r.skipBits(5);var a=Boolean(r.readBit());r.skipBits(1);var c=Boolean(r.readBit()),h=n.nextUint32(),f={sampleDurationPresent:o,sampleSizePresent:s,sampleFlagsPresent:u,sampleCompositionTimeOffsetsPresent:e};c&&(f.dataOffset=n.nextInt32()),a&&(f.firstSampleFlags=Lh(new Hc(qc.from(n.nextUint8Array(4)))));for(var v=[],l=0;l<h;l++){var d={};o&&(d.duration=n.nextUint32()),s&&(d.size=n.nextUint32()),u&&(d.flags=Lh(new Hc(qc.from(n.nextUint8Array(4))))),e&&(d.compositionTimeOffset=0===i?n.nextUint32():n.nextInt32()),v.push(d)}return new Xf(i,f,v)}var Hf=function(t){function n(){return t.call(this,"traf")||this}return Gc(n,t),n}(Ph);function Kf(t){for(var n=new Hf,i=0,r=Dh(t.data);i<r.length;i++){var e=r[i];Th(e,"tfhd")?n.boxes.push(Wf(e)):Th(e,"tfdt")?n.boxes.push(Gf(e)):Th(e,"trun")?n.boxes.push(Zf(e)):n.boxes.push(Ch(e))}return n}var qf=function(t){function n(){return t.call(this,"moof")||this}return Gc(n,t),n}(Ph);function Jf(t){for(var n=new qf,i=0,r=Dh(t.data);i<r.length;i++){var e=r[i];Th(e,"traf")?n.boxes.push(Kf(e)):Th(e,"pssh")?n.boxes.push(pf(e)):n.boxes.push(Ch(e))}return n}yt(),C();!function(t){function n(n){var i=t.call(this,"mfhd",0,0)||this;return i.sequenceNumber=n,i}Gc(n,t),g.defineProperty(n.prototype,"sequenceNumber",{get:function(){return this.oC},set:function(t){if(!nh(t,32))throw new v("Provided sequence number does not fit in 32 bits.");this.oC=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.sequenceNumber,32)}}(uh);yt(),C();var $f=function(t){function n(n){var i=t.call(this,"frma")||this;return i.codingName=n,i}return Gc(n,t),g.defineProperty(n.prototype,"codingName",{get:function(){return this.hC},set:function(t){if(4!==t.length)throw new v("Provided coding name was not 4 characters long.");this.hC=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.codingName)},n}(th);yt(),C();!function(t){function n(n,i){var r=t.call(this,"pasp")||this;return r.hSpacing=n,r.vSpacing=i,r}Gc(n,t),g.defineProperty(n.prototype,"hSpacing",{get:function(){return this.aC},set:function(t){if(!nh(t,32))throw new v("Provided hSpacing does not fit in 32 bits.");this.aC=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"vSpacing",{get:function(){return this.uC},set:function(t){if(!nh(t,32))throw new v("Provided vSpacing does not fit in 32 bits.");this.uC=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.hSpacing,32),t.writer.writeUInt(this.vSpacing,32)}}(th);yt(),C();!function(t){function n(n,i,r){var e=t.call(this,n)||this;return e.sample=i,e.sinf=r,e}Gc(n,t),n.prototype.getBoxContentSize=function(){return this.sample.getBoxContentSize()+this.sinf.getSize()},n.prototype.serializeBoxContent=function(t){this.sample.serializeBoxContent(t),t.concat(this.sinf.serialize())}}(Ph);yt(),C();!function(t){function n(n,i,r){var e=t.call(this,"sinf")||this;return e.schm=i,e.schi=r,e.frma=new $f(n),e}Gc(n,t),n.prototype.getBoxContentSize=function(){var t,n,i,r;return this.frma.getSize()+(null!==(n=null===(t=this.schm)||void 0===t?void 0:t.getSize())&&void 0!==n?n:0)+(null!==(r=null===(i=this.schi)||void 0===i?void 0:i.getSize())&&void 0!==r?r:0)},n.prototype.serializeBoxContent=function(t){t.concat(this.frma.serialize()),this.schm&&t.concat(this.schm.serialize()),this.schi&&t.concat(this.schi.serialize())}}(th);yt(),C();var nv=function(t){function n(n,i,r){var e=t.call(this,"saio",n,void 0===r?0:1)||this;return e.entries=i,e.explicitAuxInfoType=r,e}return Gc(n,t),g.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"entries",{get:function(){return this.mx},set:function(t){var n=this;if(!nh(t.length,32))throw new v("Number of entries provided does not fit in 32 bits.");if(t.some((function(t){return!nh(t,n.bitSize)})))throw new v("Not all provided entries fit in ".concat(this.bitSize," bits."));this.mx=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.cC},set:function(t){if(void 0===t)this.flags=0;else{if(!nh(t.auxInfoType,32))throw new v("Provided auxInfoType does not fit in 32 bits.");if(!nh(t.auxInfoTypeParameter,32))throw new v("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.cC=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+4+this.entries.length*this.bitSize/8},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeUInt(this.entries.length,32),this.serializeSaioContent(n)},n}(uh);(function(t){function n(){return null!==t&&t.apply(this,arguments)||this}Gc(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var r=i[n];t.writer.writeUInt(r,32)}}})(nv),function(t){function n(){return null!==t&&t.apply(this,arguments)||this}Gc(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var r=i[n];t.writer.writeUInt(r.getHighBitsUnsigned(),32),t.writer.writeUInt(r.getLowBitsUnsigned(),32)}}}(nv);yt(),C();!function(t){function n(n,i,r){var e=t.call(this,"saiz",0,void 0===r?0:1)||this;return e.defaultSampleInfoSize=n,e.sampleInfoSizes=i,e.explicitAuxInfoType=r,e}Gc(n,t),g.defineProperty(n.prototype,"defaultSampleInfoSize",{get:function(){return this.lC},set:function(t){if(!nh(t,8))throw new v("Provided defaultSampleInfoSize does not fit in a single byte.");this.lC=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"sampleInfoSizes",{get:function(){return this.dC},set:function(t){if(!nh(t.length,32))throw new v("Number of sampleInfoSizes provided does not fit in 32 bits.");if(t.some((function(t){return!nh(t,8)})))throw new v("Not all provided sampleInfoSizes fit in a byte.");this.dC=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.cC},set:function(t){if(void 0===t)this.flags=0;else{if(!nh(t.auxInfoType,32))throw new v("Provided auxInfoType does not fit in 32 bits.");if(!nh(t.auxInfoTypeParameter,32))throw new v("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.cC=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+1+4+(0!==this.defaultSampleInfoSize?0:this.sampleInfoSizes.length)},n.prototype.serializeBoxContent=function(n){if(0!==this.defaultSampleInfoSize&&this.sampleInfoSizes.length>0)throw new v("Both a default size and specific sizes are provided.  This is prohibited.");t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeByte(this.defaultSampleInfoSize),n.writer.writeUInt(this.sampleInfoSizes.length,32);for(var i=0,r=this.sampleInfoSizes;i<r.length;i++){var e=r[i];n.writer.writeByte(e)}}}(uh);yt(),C();!function(t){function n(n){var i=t.call(this,"sdtp",0,0)||this;return i.samples=n,i}Gc(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.samples.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n);for(var i=0,r=this.samples;i<r.length;i++){df(r[i],n)}}}(uh);yt(),C();!function(t){function n(n){return t.call(this,"stsd",n,0)||this}Gc(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(Yh);yt(),C();var iv=function(t){function n(n,i,r){var e=t.call(this,"sgpd",n,0)||this;return e.entries=r,e.groupingType=i,e}return Gc(n,t),g.defineProperty(n.prototype,"groupingType",{get:function(){return this.fC},set:function(t){if(4!==t.length)throw new v("The provided groupingType does not equal 4 characters.");this.fC=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.groupingType),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];this.serializeEntryBoxContent(n,e)}},n.prototype.serializeEntryBoxContent=function(t,n){n.serializeBoxContent(t)},n}(uh);(function(t){function n(n,i){return t.call(this,0,n,i)||this}Gc(n,t),n.prototype.serializeVersionBoxContent=function(t){}})(iv),function(t){function n(n,i,r){var e=t.call(this,1,n,r)||this;return e.defaultLength=i,e}Gc(n,t),g.defineProperty(n.prototype,"defaultLength",{get:function(){return this._C},set:function(t){if(!nh(t,32))throw new v("The provided defaultLength does not fit in 32 bits.");this._C=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(this.defaultLength||4)},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultLength,32)},n.prototype.serializeEntryBoxContent=function(t,n){0===this.defaultLength&&t.writer.writeUInt(n.getBoxContentSize(),32),n.serializeBoxContent(t)}}(iv),function(t){function n(n,i,r,e){void 0===e&&(e=0);var u=this;if(n<2)throw new v("This constructor is only meant for versions 2 and up.");return(u=t.call(this,n,i,r)||this).defaultSampleDescriptionIndex=e,u}Gc(n,t),g.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Fx},set:function(t){if(!nh(t,32))throw new v("The provided defaultSampleDescriptionIndex does not fit in 32 bits.");this.Fx=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultSampleDescriptionIndex,32)}}(iv);yt(),C();(function(t){function n(n){void 0===n&&(n=[]);var i=t.call(this,"stsz",0,0)||this;return i.sampleSizes=n,i}Gc(n,t),g.defineProperty(n.prototype,"sampleSizes",{get:function(){return this.gC},set:function(t){if(!nh(t.length,32))throw new v("Number of allowed samples cannot fit in 32 bits.");if(t.some((function(t){return!nh(t,32)})))throw new v("Not all sampleSizes can be represented in 32 bits.");this.gC=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+4*this.sampleSizes.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(this.sampleSizes.length,32);for(var i=0,r=this.sampleSizes;i<r.length;i++){var e=r[i];n.writer.writeUInt(e,32)}}})(uh),function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=0);var r=t.call(this,"stsz",0,0)||this;return r.defaultSampleSize=n,r.samples=i,r}Gc(n,t),g.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Gx},set:function(t){if(!nh(t,32))throw new v("Provided defaultSampleSize does not fit in 32 bits.");this.Gx=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"samples",{get:function(){return this.rC},set:function(t){if(!nh(t,32))throw new v("Number of allowed samples cannot fit in 32 bits.");this.rC=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.defaultSampleSize,32),n.writer.writeUInt(this.samples,32)}}(uh);yt(),C();!function(t){function n(){return t.call(this,"stbl")||this}Gc(n,t)}(Ph);yt(),C();!function(t){function n(n){var i=t.call(this,"stsc",0,0)||this;return i.entries=n,i}Gc(n,t),g.defineProperty(n.prototype,"entries",{get:function(){return this.mx},set:function(t){if(!nh(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!nh(t.firstChunk,32)||!nh(t.sampleDescriptionIndex,32)||!nh(t.samplesPerChunk,32)})))throw new v("Not all entries can be represented in 96 bits.");this.mx=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+12*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];n.writer.writeUInt(e.firstChunk,32),n.writer.writeUInt(e.samplesPerChunk,32),n.writer.writeUInt(e.sampleDescriptionIndex,32)}}}(uh);yt(),C();!function(t){function n(){return t.call(this,"schi")||this}Gc(n,t)}(Ph);yt(),C();!function(t){function n(n,i,r){var e=t.call(this,"schm",0,void 0===r?0:1)||this;return e.schemeType=n,e.schemeVersion=i,e.schemeUri=r,e}Gc(n,t),g.defineProperty(n.prototype,"schemeType",{get:function(){return this.wC},set:function(t){if(4!==t.length)throw new v("The provided schemeType does not have a length of 4.");this.wC=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"schemeVersion",{get:function(){return this.vC},set:function(t){if(!nh(t,32))throw new v("The provided schemeVersion does not fit in 23 bits.");this.vC=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"schemeUri",{get:function(){return this.mC},set:function(t){if(t&&4!==t.length)throw new v("The provided schemeUri does not have a length of 4.");this.flags=void 0===t?0:1,this.mC=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+(void 0===this.schemeUri?0:this.schemeUri.length+1)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeType),n.writer.writeUInt(this.schemeVersion,32),this.schemeUri&&(n.writer.writeString(this.schemeUri),n.writer.writeByte(0))}}(uh);yt(),C();var rv=function(t){function n(n,i,r,e,u,s,o){void 0===o&&(o=0);var a=t.call(this,"sidx",n,o)||this;return a.referenceId=i,a.timescale=r,a.earliestPresentationTime=e,a.firstOffset=u,a.references=s,a}return Gc(n,t),g.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"referenceId",{get:function(){return this.pC},set:function(t){if(!nh(t,32))throw new v("Provided referenceId does not fit in 32 bits.");this.pC=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"timescale",{get:function(){return this.Ox},set:function(t){if(!nh(t,32))throw new v("Provided timescale does not fit in 32 bits.");this.Ox=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"earliestPresentationTime",{get:function(){return this.AC},set:function(t){if(!nh(t,this.bitSize))throw new v("Provided earliestPresentationTime does not fit in ".concat(this.bitSize," bits."));this.AC=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"firstOffset",{get:function(){return this.yC},set:function(t){if(!nh(t,this.bitSize))throw new v("Provided timescale does not fit in ".concat(this.bitSize," bits."));this.yC=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"references",{get:function(){return this.MC},set:function(t){if(!nh(t.length,16))throw new v("The number of provided reference items does not fit in 16 bits.");for(var n=0,i=t;n<i.length;n++){var r=i[n];if(!nh(r.referencedSize,31))throw new v("Provided referenced size does not fit in 31 bits.");if(!nh(r.subsegmentDuration,32))throw new v("Provided subsegment duration does not fit in 31 bits.");if(!nh(r.sapType,3))throw new v("Provided SAP type does not fit in 3 bits.");if(!nh(r.sapDeltaTime,28))throw new v("Provided SAP delta time does not fit in 28 bits.")}this.MC=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+this.bitSize/8*2+2+2+12*this.references.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.referenceId,32),n.writer.writeUInt(this.timescale,32),this.serializeSidxBoxContent(n),n.writer.writeUInt(0,16),n.writer.writeUInt(this.references.length,16);for(var i=0,r=this.references;i<r.length;i++){var e=r[i];n.writer.writeBit(e.referenceType),n.writer.writeUInt(e.referencedSize,31),n.writer.writeUInt(e.subsegmentDuration,32),n.writer.writeBool(e.startsWithSap),n.writer.writeUInt(e.sapType,3),n.writer.writeUInt(e.sapDeltaTime,28)}},n}(uh),ev=function(t){function n(n,i,r,e,u,s){return void 0===s&&(s=0),t.call(this,0,n,i,r,e,u,s)||this}return Gc(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime,32),t.writer.writeUInt(this.firstOffset,32)},n}(rv),uv=function(t){function n(n,i,r,e,u,s){return void 0===s&&(s=0),t.call(this,1,n,i,r,e,u,s)||this}return Gc(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.earliestPresentationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getHighBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getLowBitsUnsigned(),32)},n}(rv);yt(),C();var sv=function(t){function n(n,i,r){return t.call(this,"styp",n,i,r)||this}return Gc(n,t),n}(Hh);function ov(t){for(var n=t.data,i=n.nextChars(4),r=n.nextUint32(),e=[];n.cursor.offset<n.data.byteLength;)e.push(n.nextChars(4));return new sv(i,r,e)}yt(),C();!function(t){function n(n){void 0===n&&(n=0);var i=t.call(this,"smhd",0,0)||this;return i.balance=n,i}Gc(n,t),g.defineProperty(n.prototype,"balance",{get:function(){return this.bC},set:function(t){if(t<-1||t>1)throw new v("Provided balance does not fit in the allowed range [-1, 1].");if(!nh(ih(t,8),16))throw new v("Provided balance does not fit in 16 bits (fixed 8.8).");this.bC=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(ih(this.balance,8),16),n.writer.writeUInt(0,16)}}(uh);yt(),C();!function(t){function n(n){var i=t.call(this,"stss",0,0)||this;return i.entries=n,i}Gc(n,t),g.defineProperty(n.prototype,"entries",{get:function(){return this.mx},set:function(t){if(!nh(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!nh(t,32)})))throw new v("Not all entries can be represented in 32 bits.");this.mx=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];n.writer.writeUInt(e,32)}}}(uh);yt(),C();!function(t){function n(n){var i=t.call(this,"stts",0,0)||this;return i.entries=n,i}Gc(n,t),g.defineProperty(n.prototype,"entries",{get:function(){return this.mx},set:function(t){if(!nh(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!nh(t.sampleCount,32)||!nh(t.sampleDelta,32)})))throw new v("Not all entries can be represented in 64 bits.");this.mx=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];n.writer.writeUInt(e.sampleCount,32),n.writer.writeUInt(e.sampleDelta,32)}}}(uh);yt(),C();!function(t){function n(n){var i=t.call(this,"trep",0,0)||this;return i.trackId=n,i}Gc(n,t),g.defineProperty(n.prototype,"trackId",{get:function(){return this.Qx},set:function(t){if(!nh(t,32))throw new v("The provided trackId does not fit in 32 bits.");this.Qx=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32)}}(Yh);yt(),C();!function(t){function n(){return t.call(this,"udta")||this}Gc(n,t)}(Ph);yt(),C();var av={red:0,green:0,blue:0};!function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=av);var r=t.call(this,"vmhd",0,1)||this;return r.graphicsMode=n,r.opColor=i,r}Gc(n,t),g.defineProperty(n.prototype,"opColor",{get:function(){return this.TC},set:function(t){if(!nh(t.red,16)||!nh(t.green,16)||!nh(t.blue,16))throw new v("Not all colors could be represented in 16 bits.");this.TC=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+6},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.graphicsMode,16),n.writer.writeUInt(this.opColor.red,16),n.writer.writeUInt(this.opColor.green,16),n.writer.writeUInt(this.opColor.blue,16)}}(uh);yt(),C();var cv=function(t){function n(n,i,r,e,u){void 0===e&&(e={}),void 0===u&&(u=void 0);var s,o,a,c,h,f=this;return(f=t.call(this,n,i)||this).width=r.width,f.height=r.height,f.horizontalResolution=null!==(s=r.horizontal)&&void 0!==s?s:72,f.verticalResolution=null!==(o=r.vertical)&&void 0!==o?o:72,f.compressorName=null!==(a=e.compressorName)&&void 0!==a?a:"",f.frameCount=null!==(c=e.frameCount)&&void 0!==c?c:1,f.depth=null!==(h=e.depth)&&void 0!==h?h:24,f.clap=e.clap,f.pasp=e.pasp,f.extra=u,f}return Gc(n,t),g.defineProperty(n.prototype,"width",{get:function(){return this.qx},set:function(t){if(!nh(t,16))throw new v("Provided width does not fit in 16 bits.");this.qx=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"height",{get:function(){return this.Kx},set:function(t){if(!nh(t,16))throw new v("Provided height does not fit in 16 bits.");this.Kx=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"horizontalResolution",{get:function(){return this.SC},set:function(t){if(!nh(ih(t,16),32))throw new v("Provided horizontalResolution does not fit in 32 bits (fixed 16.16).");this.SC=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"verticalResolution",{get:function(){return this.NC},set:function(t){if(!nh(ih(t,16),32))throw new v("Provided verticalResolution does not fit in 32 bits (fixed 16.16).");this.NC=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"compressorName",{get:function(){return this.IC},set:function(t){if(t.length>31)throw new v("The provided compressorName should at most be 31 characters long.");this.IC=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"frameCount",{get:function(){return this.DC},set:function(t){if(!nh(t,16))throw new v("Provided frameCount does not fit in 16 bits.");this.DC=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"depth",{get:function(){return this.EC},set:function(t){if(!nh(t,16))throw new v("Provided depth does not fit in 16 bits.");this.EC=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i,r,e,u,s;return t.prototype.getBoxContentSize.call(this)+2+2+12+2+2+4+4+4+2+32+2+2+(null!==(i=null===(n=this.clap)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)+(null!==(e=null===(r=this.pasp)||void 0===r?void 0:r.getSize())&&void 0!==e?e:0)+(null!==(s=null===(u=this.extra)||void 0===u?void 0:u.length)&&void 0!==s?s:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.width,16),n.writer.writeUInt(this.height,16),n.writer.writeUInt(ih(this.horizontalResolution,16),32),n.writer.writeUInt(ih(this.verticalResolution,16),32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.frameCount,16),n.writer.writeByte(this.compressorName.length),n.writer.writeString(this.compressorName);for(var i=0;i<31-this.compressorName.length;i++)n.writer.writeByte(0);n.writer.writeUInt(this.depth,16),n.writer.writeInt(-1,16),this.clap&&n.concat(this.clap.serialize()),this.pasp&&n.concat(this.pasp.serialize()),this.extra&&rh(n.writer,this.extra)},n}(Uh);yt(),C(),yt(),C();!function(t){function n(n){var i=t.call(this,"esds",0,0)||this;return i.esDescriptor=n,i}Gc(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(this.esDescriptor instanceof p?this.esDescriptor.length:this.esDescriptor.getSize())},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor instanceof p?n.concat(qc.from(this.esDescriptor)):this.esDescriptor.serialize(n)}}(uh);yt(),C();!function(t){function n(n,i,r){var e=t.call(this,"mp4a",n,r)||this;return e.esd=i,e}Gc(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esd.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.esd.serialize())}}(Qh);yt(),C();!function(t){function n(n,i,r,e){void 0===e&&(e={});var u=t.call(this,"mp4v",n,i,e)||this;return u.esDescriptor=r,u}Gc(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(cv);yt(),C();!function(t){function n(n,i){var r=t.call(this,"mp4s",n)||this;return r.esDescriptor=i,r}Gc(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(Uh);yt(),C(),yt(),C();!function(t){function n(n){var i=t.call(this,"avcC")||this;return i.decoderConfig=n,i}Gc(n,t),n.prototype.getBoxContentSize=function(){return this.decoderConfig.getSize()},n.prototype.serializeBoxContent=function(t){this.decoderConfig.serialize(t)}}(th);yt(),C();!function(){function t(t,n,i,r,e,u){void 0===u&&(u=1),this.lengthSizeMinusOne=i,this.version=u,this.profileIndication=t.indication,this.profileCompatibility=t.compatibility,this.levelIndication=n,this.spsSets=r,this.ppsSets=e}g.defineProperty(t.prototype,"version",{get:function(){return this.kC},set:function(t){if(!nh(t,8))throw new v("Provided version does not fit in 8 bits.");this.kC=t},enumerable:!1,configurable:!0}),g.defineProperty(t.prototype,"profileIndication",{get:function(){return this.LC},set:function(t){if(!nh(t,8))throw new v("Provided profileIndication does not fit in 8 bits.");this.LC=t},enumerable:!1,configurable:!0}),g.defineProperty(t.prototype,"profileCompatibility",{get:function(){return this.xC},set:function(t){if(!nh(t,8))throw new v("Provided profileCompatibility does not fit in 8 bits.");this.xC=t},enumerable:!1,configurable:!0}),g.defineProperty(t.prototype,"levelIndication",{get:function(){return this.OC},set:function(t){if(!nh(t,8))throw new v("Provided levelIndication does not fit in 8 bits.");this.OC=t},enumerable:!1,configurable:!0}),g.defineProperty(t.prototype,"spsSets",{get:function(){return this.jC},set:function(t){if(!nh(t.length,5))throw new v("Provided number of spsSets exceeds the max (32)");this.jC=t},enumerable:!1,configurable:!0}),g.defineProperty(t.prototype,"ppsSets",{get:function(){return this.RC},set:function(t){if(!nh(t.length,8))throw new v("Provided number of ppsSets exceeds the max (256)");this.RC=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return 7+2*this.spsSets.length+this.spsSets.reduce((function(t,n){return t+n.length}),0)+2*this.ppsSets.length+this.ppsSets.reduce((function(t,n){return t+n.length}),0)},t.prototype.serialize=function(t){t.writer.writeByte(this.version),t.writer.writeByte(this.profileIndication),t.writer.writeByte(this.profileCompatibility),t.writer.writeByte(this.levelIndication),t.writer.writeBits([1,1,1,1,1,1]),t.writer.writeUInt(this.lengthSizeMinusOne,2),t.writer.writeBits([1,1,1]),t.writer.writeUInt(this.spsSets.length,5);for(var n=0,i=this.spsSets;n<i.length;n++){var r=i[n];t.writer.writeUInt(r.length,16),t.concat(qc.from(r))}t.writer.writeByte(this.ppsSets.length);for(var e=0,u=this.ppsSets;e<u.length;e++){var s=u[e];t.writer.writeUInt(s.length,16),t.concat(qc.from(s))}}}();yt(),C();!function(t){function n(n,i,r,e,u){void 0===e&&(e={}),void 0===u&&(u=void 0);var s=t.call(this,"avc1",n,i,e)||this;return s.configurationBox=r,s.bitrateBox=u,s}Gc(n,t),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+this.configurationBox.getSize()+(null!==(i=null===(n=this.bitrateBox)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.configurationBox.serialize()),this.bitrateBox&&n.concat(this.bitrateBox.serialize())}}(cv);yt(),C();!function(t){function n(n,i,r){var e=t.call(this,"btrt")||this;return e.bufferSizeDb=n,e.max=i,e.avg=r,e}Gc(n,t),g.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.ix},set:function(t){if(!nh(t,32))throw new v("Provided bufferSizeDb does not fit in 32 bits.");this.ix=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"max",{get:function(){return this.yf},set:function(t){if(!nh(t,32))throw new v("Provided max does not fit in 32 bits.");this.yf=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"avg",{get:function(){return this.zC},set:function(t){if(!nh(t,32))throw new v("Provided avg does not fit in 32 bits.");this.zC=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 12},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.bufferSizeDb,32),t.writer.writeUInt(this.max,32),t.writer.writeUInt(this.avg,32)}}(th);yt(),C(),yt(),C(),yt(),C();var hv=function(t){function n(n,i){var r,e,u,s,o=this;if(o=t.call(this,"tenc",n,0)||this,i.perSampleIvSize>0&&(null!==(e=null===(r=i.constantIv)||void 0===r?void 0:r.length)&&void 0!==e?e:0)>0)throw new v("Either perSampleSize should be > 0 or constantIv should be defined. Not both.");return o.kId=i.kId,o.isProtected=null!==(u=i.isProtected)&&void 0!==u?u:1,i.perSampleIvSize>0?o.perSampleIvSize=i.perSampleIvSize:o.constantIv=null!==(s=i.constantIv)&&void 0!==s?s:new p(0),o}return Gc(n,t),g.defineProperty(n.prototype,"isProtected",{get:function(){return this.BC},set:function(t){if(!nh(t,8))throw new v("Provided isProtected does not fit in 1 byte.");this.BC=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"perSampleIvSize",{get:function(){return this.QC},set:function(t){if(![8,16].includes(t))throw new v("Provided perSampleIvSize does not match any allowed value [8, 16].");this.QC=t,this.FC=new p(0)},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"kId",{get:function(){return this.YC},set:function(t){if(16!==t.length)throw new v("Provided kId length is not 16.");this.YC=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"constantIv",{get:function(){return this.FC},set:function(t){if(![8,16].includes(t.length))throw new v("Provided constant IV length does not match any allowed value [8, 16].");this.FC=t,this.QC=0},enumerable:!1,configurable:!0}),n.prototype.getTencHeaderSize=function(){return 20+(this.constantIv.length>0?1+this.constantIv.length:0)},n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.getTencHeaderSize()},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeByte(0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeOwnContent(n)},n.prototype.serializeOwnContent=function(t){t.writer.writeByte(0),this.serializeVersionBoxContent(t),t.writer.writeByte(this.isProtected),t.writer.writeByte(this.perSampleIvSize),rh(t.writer,this.kId),0===this.perSampleIvSize&&(t.writer.writeByte(this.constantIv.length),rh(t.writer,this.constantIv))},n}(uh),fv=(function(t){function n(n){return t.call(this,0,n)||this}Gc(n,t)}(hv),function(t){function n(n){var i=t.call(this,1,n)||this;return i.cryptByteBlocks=n.cryptByteBlock,i.skipByteBlocks=n.skipByteBlock,i}return Gc(n,t),g.defineProperty(n.prototype,"cryptByteBlocks",{get:function(){return this.GC},set:function(t){if(!nh(t,4))throw new v("Provided cryptByteBlocks does not fit in 4 bits.");this.GC=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"skipByteBlocks",{get:function(){return this.VC},set:function(t){if(!nh(t,4))throw new v("Provided skipByteBlocks does not fit in 4 bits.");this.VC=t},enumerable:!1,configurable:!0}),n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.cryptByteBlocks,4),t.writer.writeUInt(this.skipByteBlocks,4)},n}(hv));!function(t){function n(n){var i=t.call(this)||this;return i.tencBox=new fv(n),i}Gc(n,t),n.prototype.serializeBoxContent=function(t){this.tencBox.serializeOwnContent(t)},n.prototype.getBoxContentSize=function(){return this.tencBox.getTencHeaderSize()}}(wf);function vv(t){return void 0!==t.iv}function lv(t){return void 0!==t.subsamples}yt(),C();!function(t){function n(n){var i=t.call(this,"senc",0,{useSubsampleEncryption:!1})||this;return i.samples=n,i}Gc(n,t),g.defineProperty(n.prototype,"samples",{get:function(){return this.rC},set:function(t){var n;if(!nh(t.length,32))throw new v("The number of samples provided does not fit in 32 bits.");for(var i=0,r=t;i<r.length;i++){var e=r[i];if(vv(e)&&![8,16].includes(e.iv.length))throw new v("IV of one of the provided samples did not satisfy the required length constraints. [8, 16]");if(void 0===n&&(n=lv(e)),!0===n&&!lv(e)||!1===n&&lv(e))throw new v("Mix of samples with and without subsamples detected.");if(lv(e)){if(!nh(e.subsamples.length,16))throw new v("Subsample length of one of the provided samples does not fit in 16 bits.");for(var u=0,s=e.subsamples;u<s.length;u++){var o=s[u];if(!nh(o.clearData,16))throw new v("Subsample clearData of one of the provided samples does not fit in 16 bits.");if(!nh(o.protectedData,23))throw new v("Subsample protectedData of one of the provided samples does not fit in 23 bits.")}}}this.flags.useSubsampleEncryption=null!=n&&n,this.rC=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){for(var n=0,i=0,r=this.samples;i<r.length;i++){var e=r[i];vv(e)&&(n+=e.iv.length),lv(e)&&(n+=2+6*e.subsamples.length)}return t.prototype.getBoxContentSize.call(this)+4+n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32);for(var i=0,r=this.samples;i<r.length;i++){var e=r[i];if(vv(e)&&rh(n.writer,e.iv),lv(e)){n.writer.writeUInt(e.subsamples.length,16);for(var u=0,s=e.subsamples;u<s.length;u++){var o=s[u];n.writer.writeUInt(o.clearData,16),n.writer.writeUInt(o.protectedData,32)}}}},n.prototype.serializeFlags=function(t){t.writer.writeUInt(this.flags.useSubsampleEncryption?2:0,24)}}(uh);yt(),C(),yt(),C();!function(t){function n(n,i,r,e,u){var s=t.call(this,"emsg",0,0)||this;return s.schemeIdUri=n,s.value=i,s.data=u,s.id=r,s.timescale=e.timescale,s.presentationTimeDelta=e.presentationTimeDelta,s.eventDuration=e.eventDuration,s}Gc(n,t),g.defineProperty(n.prototype,"timescale",{get:function(){return this.Ox},set:function(t){if(!nh(t,32))throw new v("The provided timescale does not fit in 32 bits.");this.Ox=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"presentationTimeDelta",{get:function(){return this.WC},set:function(t){if(!nh(t,32))throw new v("The provided presentationTimeDelta does not fit in 32 bits.");this.WC=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"eventDuration",{get:function(){return this.HC},set:function(t){if(!nh(t,32))throw new v("The provided eventDuration does not fit in 32 bits.");this.HC=t},enumerable:!1,configurable:!0}),g.defineProperty(n.prototype,"id",{get:function(){return this.uS},set:function(t){if(!nh(t,32))throw new v("The provided id does not fit in 32 bits.");this.uS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.schemeIdUri.length+1+this.value.length+1+16+this.data.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeIdUri),n.writer.writeByte(0),n.writer.writeString(this.value),n.writer.writeByte(0),n.writer.writeUInt(this.timescale,32),n.writer.writeUInt(this.presentationTimeDelta,32),n.writer.writeUInt(this.eventDuration,32),n.writer.writeUInt(this.id,32),n.concat(qc.from(this.data))}}(uh);yt(),C(),yt(),C(),yt(),C();var dv=function(){function t(){this.boxes=[]}return t.prototype.serialize=function(){for(var t=new $c,n=0,i=this.boxes;n<i.length;n++){var r=i[n];t.concat(r.serialize())}return t.toRangedBuffer()},t}();function gv(t,n){return function(i){var r=function(t,n){for(var i=t.data,r=t.cursor;r.offset<i.byteLength;){var e=Ih(i,r);if(!e.complete)return;if(Th(e.box,n))return e.box}}(new Mh(_h(i),new bh),t);if(!r)throw new v("".concat(t," box not found"));return n(r)}}var wv=gv("moov",Uf),yv=gv("sidx",(function(t){var n,i,r=t.data,e=Eh(r.nextUint32()),u=e.version,s=e.flags,o=r.nextUint32(),a=r.nextUint32();0===u?(n=r.nextUint32(),i=r.nextUint32()):(n=r.nextUint64(),i=r.nextUint64()),r.skip(2);for(var c=r.nextUint16(),h=[],f=0;f<c;f++){var v=new Hc(qc.from(r.nextUint8Array(12))),l=v.readBit(),d=v.readUInt(31),g=v.readUInt(32),w=Boolean(v.readBit()),y=v.readUInt(3),m=v.readUInt(28);h.push({referenceType:l,referencedSize:d,subsegmentDuration:g,startsWithSap:w,sapType:y,sapDeltaTime:m})}return 0===u?new ev(o,a,n,i,h,s.raw):new uv(o,a,n,i,h,s.raw)})),mv=gv("moof",Jf),Av=gv("pssh",pf);function pv(t){return function(t){for(var n=new dv,i=0,r=Dh(t);i<r.length;i++){var e=r[i];Th(e,"ftyp")?n.boxes.push(qh(e)):Th(e,"styp")?n.boxes.push(ov(e)):Th(e,"moov")?n.boxes.push(Uf(e)):Th(e,"moof")?n.boxes.push(Jf(e)):Th(e,"mdat")?n.boxes.push(af(e)):n.boxes.push(Ch(e))}return n}(new Mh(_h(t),new bh))}var _v=function(t){function n(n,i){var r;(r=t.call(this)||this).KC=n,r.Fp=i,r.iO=!1,r.oO=function(){r.nO()},r.hO=function(t){r.Co(new oa(Wt(r),t.messageType,Uc(r.Fp,t.message)))},r.aO=function(){r.iO=!0,r.$C.By>0&&(r.$C.kL(),r.Co(new sa(Wt(r)))),r.KC.removeEventListener("keystatuseschange",r.oO),r.KC.removeEventListener("message",r.hO)},r.KC.addEventListener("keystatuseschange",r.oO),r.KC.addEventListener("message",r.hO),r.$C=new va;var e=[];return r.KC.closed&&e.push(q.resolve(r.KC.closed)),r.eO=new Bc,e.push(r.eO.OL),r.ZC=q.race(e).then(r.aO,r.aO),r.nO(),r}bt(n,t);var i=n.prototype;return i.Ws=function(){if(this.iO)return this.ZC;var t=[];return t.push(q.resolve(this.KC.close())),t.push(Ko(1e3)),this.eO.w_(q.race(t).catch(kv)),this.iO=!0,this.ZC},i.sO=function(t,n,i){if(xn.XE){var r=Av(Lc(n));if(1===r.version)n=new mf(r.systemId,r.data).serialize().join()}return q.resolve(this.KC.generateRequest(t,n)).catch(kv)},i.$n=function(t){return q.resolve(this.KC.load(t)).catch(kv)},i.rS=function(){return q.resolve(this.KC.remove()).catch(kv)},i.Yn=function(t){return q.resolve(this.KC.update(t)).catch(kv)},i.nO=function(){var t=this;this.$C.kL(),this.KC.keyStatuses.forEach((function(n,i){t.rO(i,n)})),this.Co(new sa(this))},i.rO=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var r=Lc(t);if(this.Fp===ws&&16===r.byteLength){var e=Ic(r),u=e.getUint32(0,!0),s=e.getUint16(4,!0),o=e.getUint16(6,!0);e.setUint32(0,u,!1),e.setUint16(4,s,!1),e.setUint16(6,o,!1)}this.Fp===ws&&"status-pending"===n&&(n="usable"),this.$C.EL(r,n)},At(n,[{key:"XC",get:function(){return this.ZC}},{key:"qC",get:function(){return this.KC.expiration}},{key:"JC",get:function(){return this.$C}},{key:"tO",get:function(){return this.KC.sessionId}}]),n}($o);function kv(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|y(i[1],16))}throw new Yc(t.message,void 0,n,t)}var bv=function(){function t(t,n,i){this.cO=t,this.Qp=n,this.wd=i}var n=t.prototype;return n.uO=function(t){var n=this;return Ot((function(){return Rt(this,(function(i){return[2,new _v(n.cO.createSession(t),n.Qp)]}))}))()},n.lO=function(t){return q.resolve(this.cO.setServerCertificate(t))},n.bn=function(t){return q.resolve(t.setMediaKeys(this.cO))},n.dO=function(t){return q.resolve(t.setMediaKeys(null))},n.tr=function(){return q.resolve()},t}(),Mv=function(){function t(t,n,i){this.fO=t,this.Fp=n,this.gO=i}var n=t.prototype;return n._O=function(){var t=this;return Ot((function(){var n;return Rt(this,(function(i){switch(i.label){case 0:return[4,t.fO.createMediaKeys()];case 1:return n=i.sent(),[2,new bv(n,t.Fp,t.gO)]}}))}))()},n.wO=function(){return this.gO},At(t,[{key:"Qp",get:function(){return this.fO.keySystem}}]),t}();yt(),C(),yt(),C(),Vt();var Tv={VIDEO_H264:"video/avc",VIDEO_H265:"video/hevc",VIDEO_MP4:"video/mp4",VIDEO_MPEG:"video/mpeg",VIDEO_MPEG2:"video/mpeg2",VIDEO_WEBM:"video/webm",VIDEO_UNKNOWN:"video/x-unknown",AUDIO_AAC:"audio/mp4a-latm",AUDIO_MP4:"audio/mp4",AUDIO_WEBM:"audio/webm",AUDIO_UNKOWN:"audio/x-unknown",IMAGE_JPEG:"image/jpeg",APPLICATION_TTML_XML:"application/ttml+xml",APPLICATION_MP4:"application/mp4",TEXT_VTT:"text/vtt"};function Nv(t){return Rs(t,Tv.APPLICATION_MP4)||Rs(t,Tv.VIDEO_MP4)||Rs(t,Tv.AUDIO_MP4)}function Dv(t){return Rs(t,Tv.VIDEO_WEBM)||Rs(t,Tv.AUDIO_WEBM)}var Iv=function(){function t(t,n){this.Av=t,this.WI=n}return t.prototype.VI=function(t){for(var n=0,i=this.WI;n<i.length;n++){var r=Gt(i[n],2),e=r[0],u=r[1];if(e.toLowerCase()===t.toLowerCase())return u}},t}();function Ev(t){var n=t.trim(),i=n.indexOf(";");if(i<0)return new Iv(n,[]);for(var r=n.substr(0,i).trim(),e=n.substr(i+1).trim(),u=[],s=0,o=!1,a=0;a<e.length;a++){var c=e[a];if(o||";"!==c)'"'===c&&(o=!o);else{var h=Sv(e.substr(s,a));h&&u.push(h),s=a+1}}if(s!==e.length){var f=Sv(e.substr(s));f&&u.push(f)}return new Iv(r,u)}function Sv(t){var n=t.indexOf("=");if(!(n<0)){var i=t.substr(0,n).trim(),r=t.substr(n+1).trim();return'"'===r[0]&&(r=r.substring(1,r.length-1)),[i,r]}}function Lv(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function jv(t){var n=t,i=n.match(/^avc1\.(\d+)\.(\d+)$/);if(i){var r=Number(i[1]),e=Number(i[2]);n="avc1."+Ys((r<<16|e).toString(16),6,"0")}return n}function Cv(t,n,i,r){var e=!1;if(!(r.persistentState&&"optional"!==r.persistentState||r.distinctiveIdentifier&&"optional"!==r.distinctiveIdentifier)){var u={audioCapabilities:[],videoCapabilities:[],persistentState:r.persistentState||"optional",distinctiveIdentifier:r.distinctiveIdentifier||"optional",initDataTypes:r.initDataTypes,sessionTypes:["temporary"],label:r.label,kO:r.kO},s=!1;if(r.audioCapabilities){var o=r.audioCapabilities.filter((function(t){return Boolean(t.contentType)}));o.length&&(u.audioCapabilities=o.filter((function(r){return xv(t,n,i,r)})),s=!0,u.audioCapabilities.length&&(e=!0))}if(r.videoCapabilities){var a=r.videoCapabilities.filter((function(t){return Boolean(t.contentType)}));a.length&&(u.videoCapabilities=a.filter((function(r){return xv(t,n,i,r)})),s=!0,u.videoCapabilities.length&&(e=!0))}return s||(e=t(i,"video/mp4")),e?u:void 0}}function xv(t,n,i,r){return!!r.contentType&&(!(r.encryptionScheme&&!mo(n,r.encryptionScheme))&&(!r.robustness&&t(i,Lv(r.contentType))))}function Ov(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var r=i[n];if(r.contentType)return r.contentType}if(t.audioCapabilities)for(var e=0,u=t.audioCapabilities;e<u.length;e++){var s=u[e];if(s.contentType)return s.contentType}}function zv(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r.encryptionScheme&&n.push({contentType:r.contentType,robustness:r.robustness})}return t.concat(n)}function Rv(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(Bv))||!(!t.videoCapabilities||!t.videoCapabilities.some(Bv))}function Bv(t){return!t.robustness}function Pv(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];e.robustness?i.push(e):i.push($u({},e,{robustness:n}))}return i}var Uv=function(){function t(){}return t.prototype.TO=function(t,n){return Ot((function(){var i,r,e,u,s,a,c;return Rt(this,(function(h){switch(h.label){case 0:for(n=n.filter((function(t){return!t.kO})),i=0;i<n.length;i++)(r=n[i]).audioCapabilities&&(r.audioCapabilities=zv(r.audioCapabilities)),r.videoCapabilities&&(r.videoCapabilities=zv(r.videoCapabilities));if(t!==As||!n.some(Rv))return[3,4];e=n.map((function(t){return function(t,n){return $u({},t,{videoCapabilities:t.videoCapabilities?Pv(t.videoCapabilities,n):void 0,audioCapabilities:t.audioCapabilities?Pv(t.audioCapabilities,n):void 0})}(t,"SW_SECURE_CRYPTO")})),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,o.requestMediaKeySystemAccess(t,e)];case 2:return u=h.sent(),s=u.getConfiguration(),[2,new Mv(u,t,s)];case 3:return h.sent(),[3,4];case 4:return[4,o.requestMediaKeySystemAccess(t,n)];case 5:return a=h.sent(),c=a.getConfiguration(),[2,new Mv(a,t,c)]}}))}))()},t.LO=function(){return Ks()},t}();yt(),C(),yt(),C(),pt(),yt(),C(),zt(),Ut(),yt(),C(),Xt(),zt(),pt(),Mt(),Ut();var Qv=function(t){function n(n,i){var r;return(r=t.call(this)||this).zO=n,r.BO=i,r.iO=!1,r.YO=void 0,r.RO=void 0,r.xO=void 0,r.aO=function(){r.iO=!0,r.CO.LL(void 0),r.xO&&(r.xO.removeEventListener("mskeyclose",r.aO),r.xO.removeEventListener("mskeymessage",r.UO),r.xO.removeEventListener("mskeyerror",r.Ss),r.xO.removeEventListener("mskeyadded",r.QO))},r.UO=function(t){r.RO&&(r.RO.LL(void 0),r.RO=void 0),r.Co(new oa(Wt(r),"license-request",Cc(t.message).buffer,t.destinationURL||void 0))},r.Ss=function(){var t=r.xO&&r.xO.error;if(t){var n=new Yc("Unknown CDM error",t.code,t.systemCode);if(r.RO)r.RO.xL(n),r.RO=void 0;else if(r.YO)r.YO.xL(n),r.YO=void 0;else switch(n.jL){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:r.FO("output-not-allowed");break;default:r.FO("internal-error")}}},r.QO=function(){r.RO&&(r.FO("usable"),r.RO.LL(void 0),r.RO=void 0),r.YO&&(r.FO("usable"),r.YO.LL(void 0),r.YO=void 0)},r.CO=new Bc,r.OO=new va,r}bt(n,t);var i=n.prototype;return i.sO=function(t,n,i){var r=this;return Ot((function(){return Rt(this,(function(t){switch(t.label){case 0:return r.jO(),r.RO=new Bc,r.uO(Lc(n),i),[4,r.RO.OL];case 1:return t.sent(),[2]}}))}))()},i.uO=function(t,n){if(!t)throw new l("Expected initData to be defined but was "+t+".");var i,r=n&&n.playready&&n.playready.PO;return(i=n?this.zO.createSession(this.BO,t,r):this.zO.createSession(this.BO,t)).addEventListener("mskeyclose",this.aO),i.addEventListener("mskeymessage",this.UO),i.addEventListener("mskeyerror",this.Ss),i.addEventListener("mskeyadded",this.QO),this.xO=i,this.FO("status-pending"),i},i.$n=function(t){var n=this;return Ot((function(){return Rt(this,(function(t){return n.jO(),[2,!0]}))}))()},i.Yn=function(t){var n=this;return Ot((function(){var i;return Rt(this,(function(r){switch(r.label){case 0:if(n.YO=new Bc,n.jO(),!n.xO)return[2,q.resolve()];if(0===(i=Lc(t)).byteLength)throw new l("Cannot call update with an empty response.");return n.xO.update(i),[4,n.YO.OL];case 1:return r.sent(),[2]}}))}))()},i.Ws=function(){return!this.iO&&this.xO&&(this.iO=!0,this.xO.close()),this.CO.OL},i.rS=function(){var t=this;return Ot((function(){return Rt(this,(function(n){return t.jO(),[2]}))}))()},i.jO=function(){if(this.iO)throw new l("Already closing or closed.")},i.FO=function(t){this.OO.kL(),this.OO.EL(fa,t),this.Co(new sa(this))},At(n,[{key:"tO",get:function(){return this.xO&&this.xO.sessionId||""}},{key:"qC",get:function(){return NaN}},{key:"XC",get:function(){return this.CO.OL}},{key:"JC",get:function(){return this.OO}}]),n}($o),Yv=function(){function t(t,n,i){this.zO=t,this.Qp=n,this.wd=i;var r=Ov(i)||"video/mp4";this.BO=Lv(r)}var n=t.prototype;return n.uO=function(t){var n=this;return Ot((function(){return Rt(this,(function(t){return[2,new Qv(n.zO,n.BO)]}))}))()},n.lO=function(t){return q.resolve(!1)},n.bn=function(t){var n=this,i=function(){t.msSetMediaKeys(n.zO),t.removeEventListener("loadedmetadata",i)};return t.readyState>=1?t.msSetMediaKeys(this.zO):t.addEventListener("loadedmetadata",i),q.resolve()},n.dO=function(t){return q.resolve()},n.tr=function(){return q.resolve()},t}(),Fv=function(){function t(t,n){this.Fp=t,this.GO=n}var n=t.prototype;return n.wO=function(){return this.GO},n._O=function(){var t=new ru.MSMediaKeys(this.Fp);return q.resolve(new Yv(t,this.Fp,this.GO))},At(t,[{key:"Qp",get:function(){return this.Fp}}]),t}(),Gv=function(){function t(){}return t.prototype.TO=function(t,n){try{return q.resolve(function(t,n){if(!Vv())throw new l("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=Cv(Wv,ea,t,r);if(e)return new Fv(t,e)}throw new l("Unsupported key system configuration for "+t)}(t,n))}catch(t){return q.reject(t)}},t.LO=function(){return Vv()},t}();function Vv(){return void 0!==ru.MSMediaKeys&&"function"==typeof ru.MSMediaKeys.isTypeSupported}function Wv(t,n){return ru.MSMediaKeys.isTypeSupported(t,n)}yt(),C(),yt(),C(),pt(),yt(),C(),zt(),Ut(),yt(),C(),Xt(),zt(),pt(),Mt(),Ut();var Xv,Zv,Hv=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).XO=n,e.BO=i,e.HO=r,e.CO=new Bc,e.qO=void 0,e.OO=new va,e.VO=void 0,e.ZO=new Bc,e.Ss=function(){var t=e.VO&&e.VO.error;if(t){var n=new Yc("Unknown CDM error",t.code,t.systemCode);e.qO?(e.qO.xL(n),e.qO=void 0):n.jL===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?e.FO("output-not-allowed"):e.FO("internal-error"),e.Co(new aa)}},e.UO=function(t){e.Co(new oa(Wt(e),"license-request",Cc(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},e.QO=function(){e.qO&&(e.qO.LL(void 0),e.qO=void 0),e.FO("usable")},e}bt(n,t);var i=n.prototype;return i.sO=function(t,n,i){var r=i&&i.fairplay&&i.fairplay.WO;if(!r)throw new l("Expected FairPlay contentId to be defined but was "+r+".");var e=function(t,n,i){var r=bc(t),e=2*r.length,u=2*n.length,s=new ArrayBuffer(4+e+4+u+4+i.byteLength),o=new DataView(s),a=new Oc;return rc(o,a,e,!0),wc(o,a,r,!0),rc(o,a,u,!0),wc(o,a,n,!0),rc(o,a,i.byteLength,!0),Ka(o,a,i),new p(s)}(Lc(n),r,this.HO);return this.VO=this.XO.createSession(this.BO,e),this.VO.addEventListener("webkitkeymessage",this.UO,!1),this.VO.addEventListener("webkitkeyadded",this.QO,!1),this.VO.addEventListener("webkitkeyerror",this.Ss,!1),this.FO("status-pending"),this.ZO.LL(this.VO),this.ZO=new Bc,q.resolve()},i.$n=function(t){return q.resolve(!0)},i.Yn=function(t){var n=this;return Ot((function(){var i,r;return Rt(this,(function(e){switch(e.label){case 0:if(0===(i=Lc(t)).byteLength)throw new l("Cannot call update with an empty response.");return n.qO=new Bc,(r=n.VO)?[3,2]:[4,n.ZO.OL];case 1:r=e.sent(),e.label=2;case 2:return r.update(i),[4,n.qO.OL];case 3:return e.sent(),[2]}}))}))()},i.Ws=function(){var t,n=this.VO;return n&&(n.removeEventListener("webkitkeymessage",this.UO,!1),n.removeEventListener("webkitkeyadded",this.QO,!1),n.removeEventListener("webkitkeyerror",this.Ss,!1),n.close()),this.ZO.g_(),null==(t=this.qO)||t.g_(),this.CO.LL(void 0),this.CO.OL},i.rS=function(){return q.resolve(void 0)},i.FO=function(t){this.OO.kL(),this.OO.EL(fa,t),this.Co(new sa(this))},At(n,[{key:"tO",get:function(){return this.VO?this.VO.sessionId:""}},{key:"qC",get:function(){return NaN}},{key:"XC",get:function(){return this.CO.OL}},{key:"JC",get:function(){return this.OO}}]),n}($o);yt(),C(),pt(),Mt(),yt(),C(),function(t){t[t.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",t[t.LICENSE_ERROR=2e3]="LICENSE_ERROR",t[t.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",t[t.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",t[t.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",t[t.LICENSE_INVALID_FEATURE=2004]="LICENSE_INVALID_FEATURE",t[t.SOURCE_INVALID=3e3]="SOURCE_INVALID",t[t.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",t[t.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",t[t.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",t[t.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",t[t.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",t[t.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",t[t.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",t[t.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",t[t.MEDIA_ABORTED=5004]="MEDIA_ABORTED",t[t.NETWORK_ERROR=6e3]="NETWORK_ERROR",t[t.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",t[t.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",t[t.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",t[t.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",t[t.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",t[t.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",t[t.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",t[t.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",t[t.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",t[t.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",t[t.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",t[t.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",t[t.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",t[t.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",t[t.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",t[t.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",t[t.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",t[t.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",t[t.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",t[t.AD_ERROR=1e4]="AD_ERROR",t[t.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",t[t.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",t[t.CACHE_SOURCE_ERROR=12e3]="CACHE_SOURCE_ERROR",t[t.CACHE_CONTENT_PROTECTION_ERROR=12001]="CACHE_CONTENT_PROTECTION_ERROR",t[t.THEO_LIVE_UNKNOWN_ERROR=13e3]="THEO_LIVE_UNKNOWN_ERROR",t[t.THEO_LIVE_CHANNEL_NOT_FOUND=13001]="THEO_LIVE_CHANNEL_NOT_FOUND",t[t.THEO_LIVE_END_OF_DEMO=13002]="THEO_LIVE_END_OF_DEMO",t[t.THEO_LIVE_ANALYTICS_ERROR=13003]="THEO_LIVE_ANALYTICS_ERROR"}(Xv||(Xv={})),function(t){t[t.CONFIGURATION=1]="CONFIGURATION",t[t.LICENSE=2]="LICENSE",t[t.SOURCE=3]="SOURCE",t[t.MANIFEST=4]="MANIFEST",t[t.MEDIA=5]="MEDIA",t[t.NETWORK=6]="NETWORK",t[t.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",t[t.SUBTITLE=8]="SUBTITLE",t[t.VR=9]="VR",t[t.AD=10]="AD",t[t.FULLSCREEN=11]="FULLSCREEN",t[t.CACHE=12]="CACHE",t[t.THEOLIVE=13]="THEOLIVE"}(Zv||(Zv={})),function(t){t.fromCode=function(n){var i=w.floor(n/1e3);if(i in t)return i;throw new l("Invalid error code: "+n)}}(Zv||(Zv={}));var Kv=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).code=n,e}return bt(n,t),At(n,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return Zv.fromCode(this.code)}}]),n}(xo);function qv(t,n){return t instanceof Kv?t:t instanceof v?new Kv(n,t.message,t):new Kv(n,String(t))}var Jv=function(){function t(t,n,i){this.XO=t,this.Qp=n,this.wd=i,this.HO=void 0;var r=Ov(i)||"video/mp4";this.BO=Lv(r)}var n=t.prototype;return n.getInternalMediaKeys=function(){return this.XO},n.uO=function(t){var n=this;return Ot((function(){return Rt(this,(function(t){if(!n.HO)throw new Kv(Xv.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");return[2,new Hv(n.XO,n.BO,n.HO)]}))}))()},n.lO=function(t){return this.HO=Lc(t),q.resolve(!0)},n.bn=function(t){return t.webkitSetMediaKeys(this.XO),q.resolve()},n.dO=function(t){return t.webkitSetMediaKeys(null),q.resolve()},n.tr=function(){return q.resolve()},t}(),$v=function(){function t(t,n){this.Fp=t,this.GO=n}var n=t.prototype;return n.wO=function(){return this.GO},n._O=function(){var t=new ru.WebKitMediaKeys(this.Fp);return q.resolve(new Jv(t,this.Fp,this.GO))},At(t,[{key:"Qp",get:function(){return this.Fp}}]),t}(),tl=function(){function t(){}return t.prototype.TO=function(t,n){try{return q.resolve(function(t,n){if(t!==Ms)throw new l(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!nl())throw new l("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=Cv(il,ua,t,r);if(e)return new $v(t,e)}throw new l("Unsupported key system configuration for "+t)}(t,n))}catch(t){return q.reject(t)}},t.LO=function(){return nl()},t}();function nl(){return void 0!==ru.WebKitMediaKeys&&"function"==typeof ru.WebKitMediaKeys.isTypeSupported}function il(t,n){return ru.WebKitMediaKeys.isTypeSupported(t,n)}yt(),C(),zt(),Ut();var rl=function(){function t(t){this.KO=t}return t.prototype.TO=function(t,n){var i=this;return Ot((function(){var r,e,u;return Rt(this,(function(s){switch(s.label){case 0:r=0,e=i.KO,s.label=1;case 1:if(!(r<e.length))return[3,6];u=e[r],s.label=2;case 2:return s.trys.push([2,4,,5]),[4,u.TO(t,n)];case 3:return[2,s.sent()];case 4:return s.sent(),[3,5];case 5:return r++,[3,1];case 6:throw new l("Unsupported key system configuration for "+t)}}))}))()},t}();yt(),C(),yt(),C(),yt(),C(),zt(),Ut(),yt(),C(),zt(),pt(),Mt(),Ut(),yt(),C();var el=function(){function t(t){var n=this;this.tj=[],this.ij=void 0,this.$O=new zo,this.ej=function(){return 0===n.tj.length?n.nj?ul(n.nj,n.$O.f_).then(n.rj,n.rj):n.rj():n.tj.shift()().then(n.ej)},this.rj=function(){if(0!==n.tj.length)return n.ej();n.ij=void 0},this.nj=t}var n=t.prototype;return n.JO=function(t,n){var i=this;return new q((function(r){var e=new zo;e.w_(i.$O.f_),n&&e.w_(n);var u=function(){e.h_()};i.tj.push((function(){var n=ul(t,e.f_);return r(n),n.then(u,u)})),i.ij||(i.ij=i.ej())}))},n.g_=function(){return this.sj(!0)},n.gn=function(){return this.nj=void 0,this.sj(!1)},n.sj=function(t){var n=this.ij;return this.$O.g_(),t&&(this.$O=new zo),q.resolve(n)},t}();function ul(t,n){return new q((function(i){return i(t(n))}))}var sl,ol=new el,al=function(t){function n(n){var i;return(i=t.call(this)||this).Fp=n,i.RO=void 0,i.qO=void 0,i.WL=!1,i.wj=void 0,i.lj=void 0,i.CO=new Bc,i.gj="",i.dj=new Bc,i._j=new va,i}bt(n,t);var i=n.prototype;return i.hj=function(){this.qO&&(this.FO("usable"),this.qO.LL(void 0),this.qO=void 0)},i.aj=function(t){var n=new Yc("Unknown CDM error",t.errorCode,t.systemCode);this.qO?(this.qO.xL(n),this.qO=void 0):this.RO?(this.RO.xL(n),this.RO=void 0):n.jL===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.FO("output-restricted"):1===n.RL?this.FO("expired"):this.FO("internal-error")},i.uj=function(t){0!==t.message.byteLength?(this.RO&&(this.RO.LL(void 0),this.RO=void 0),this.Co(new oa(this,"license-request",Uc(this.Fp,Cc(t.message).buffer),t.defaultURL||void 0))):this.RO&&(this.RO.xL("Empty key message"),this.RO=void 0)},i.cj=function(t){this.lj||(this.lj=t,this.dj.LL(t))},i.Ws=function(){var t=this;return Ot((function(){return Rt(this,(function(n){return t.throwIfClosed(),t.qO&&(t.qO.xL(void 0),t.qO=void 0),t.WL=!0,t.CO.LL(void 0),[2]}))}))()},i.sO=function(t,n){var i=this;return Ot((function(){var t;return Rt(this,(function(r){switch(r.label){case 0:return i.throwIfClosed(),i.RO=new Bc,i.wj=Lc(n),(t=i.lj)?[3,2]:[4,i.dj.OL];case 1:t=r.sent(),r.label=2;case 2:return t.webkitGenerateKeyRequest(i.Fp,i.wj),[4,i.RO.OL];case 3:return r.sent(),[2]}}))}))()},i.$n=function(t){var n=this;return Ot((function(){return Rt(this,(function(t){return n.throwIfClosed(),[2,!1]}))}))()},i.rS=function(){var t=this;return Ot((function(){return Rt(this,(function(n){return t.throwIfClosed(),[2]}))}))()},i.Yn=function(t){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return n.throwIfClosed(),n.qO=new Bc,xn.yk||xn.wk?[2,ol.JO(Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return[4,n.doUpdate(t)];case 1:return i.sent(),[2]}}))})))]:[4,n.doUpdate(t)];case 1:return i.sent(),[2]}}))}))()},i.doUpdate=function(t){var n=this;return Ot((function(){var i;return Rt(this,(function(r){switch(r.label){case 0:return void 0===n.qO?[2]:(i=n.lj)?[3,2]:[4,n.dj.OL];case 1:i=r.sent(),r.label=2;case 2:return i.webkitAddKey(n.Fp,Lc(t),n.wj,n.tO),[4,n.qO.OL];case 3:return r.sent(),xn.wk?[4,Ko(500)]:[3,5];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))()},i.throwIfClosed=function(){if(this.WL)throw new l("Already closing or closed.")},i.FO=function(t){this._j.kL(),this._j.EL(fa,t),this.Co(new sa(this))},i.vj=function(){var t=this;return Ot((function(){var n,i;return Rt(this,(function(r){switch(r.label){case 0:return(i=t.lj)?[3,2]:[4,t.dj.OL];case 1:i=r.sent(),r.label=2;case 2:if(!(n=i).webkitCancelKeyRequest)return[3,7];r.label=3;case 3:return r.trys.push([3,4,5,7]),n.webkitCancelKeyRequest(t.Fp,t.gj),[3,7];case 4:return r.sent(),[3,7];case 5:return[4,Ko(500)];case 6:return r.sent(),[7];case 7:return[2]}}))}))()},At(n,[{key:"JC",get:function(){return this._j}},{key:"tO",get:function(){return this.gj},set:function(t){this.gj=t}},{key:"XC",get:function(){return this.CO.OL}},{key:"qC",get:function(){return NaN}}]),n}($o),cl=function(){function t(t,n){var i=this;this.Qp=t,this.wd=n,this.lj=void 0,this.Aj=ns(),this.yj=[],this.QO=function(t){var n=i.Mj(t.sessionId);n&&n.hj()},this.mj=function(t){var n=i.Mj(t.sessionId);n&&n.aj(t)},this.pj=function(t){var n=i.Mj(t.sessionId);n&&n.uj(t)}}var n=t.prototype;return n.bn=function(t){return this.lj=t,this.lj.addEventListener("webkitkeyadded",this.QO),this.lj.addEventListener("webkitkeyerror",this.mj),this.lj.addEventListener("webkitkeymessage",this.pj),this.Aj.forEach((function(n,i){return n.cj(t)})),this.yj.forEach((function(n){return n.cj(t)})),q.resolve()},n.dO=function(t){return t.removeEventListener("webkitkeyadded",this.QO),t.removeEventListener("webkitkeyerror",this.mj),t.removeEventListener("webkitkeymessage",this.pj),this.lj=void 0,q.resolve()},n.tr=function(){var t=this;return Ot((function(){var n,i;return Rt(this,(function(r){switch(r.label){case 0:n=t.Aj.entries(),i=n.next(),r.label=1;case 1:return i.done?[3,3]:[4,i.value[1].vj()];case 2:return r.sent(),i=n.next(),[3,1];case 3:return t.Aj.clear(),[2]}}))}))()},n.uO=function(t,n,i){var r=this;return Ot((function(){var t;return Rt(this,(function(n){return t=new al(r.Qp),r.lj&&t.cj(r.lj),r.yj.push(t),[2,t]}))}))()},n.lO=function(t){return q.resolve(!1)},n.Mj=function(t){if(t){var n=this.Aj.get(t);return n||((n=this.yj.shift())?(n.tO=t,this.Aj.set(t,n),n):void 0)}},t}(),hl=function(){function t(t,n){this.Qp=t,this.bj=n}var n=t.prototype;return n._O=function(){return q.resolve(new cl(this.Qp,this.bj))},n.wO=function(){return this.bj},t}(),fl=function(){function t(){}return t.prototype.TO=function(t,n){try{return q.resolve(function(t,n){if(!fl.LO())throw new l("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=Cv(vl,ea,t,r);if(e)return new hl(t,e)}throw new l("Unsupported key system configuration for "+t)}(t,n))}catch(t){return q.reject(t)}},t.LO=function(){return qs()},t}();function vl(t,n){var i=Eu();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function ll(){return sl||(sl=function(){var t=[];tl.LO()&&t.push(new tl);Uv.LO()&&t.push(new Uv);Gv.LO()&&t.push(new Gv);fl.LO()&&t.push(new fl);return new rl(t)}()),sl}yt(),C(),Mt(),yt(),C();var dl=function(){function t(){this.OF=ns()}var n=t.prototype;return n.kL=function(t){this.OF.delete(t)},n.jF=function(){this.OF.clear()},n.IL=function(t){return this.OF.get(t)},n.EP=function(t,n){this.OF.set(t,n)},t}(),gl=function(){function t(){}return t.RF=function(){return t.lL||(t.lL=wl.LO()?new wl:new dl),t.lL},t.kL=function(n){t.RF().kL(n)},t.jF=function(){t.RF().jF()},t.IL=function(n){return t.RF().IL(n)},t.EP=function(n,i){t.RF().EP(n,i)},t}();gl.lL=void 0;var wl=function(t){function n(){return t.apply(this,arguments)}bt(n,t);var i=n.prototype;return i.kL=function(t){self.sessionStorage.removeItem(t)},i.jF=function(){self.sessionStorage.clear()},i.IL=function(t){var n;return null!=(n=self.sessionStorage.getItem(t))?n:void 0},i.EP=function(t,n){self.sessionStorage.setItem(t,n)},n.LO=function(){var t="foobar";try{return self.sessionStorage.setItem(t,t),self.sessionStorage.removeItem(t),!0}catch(t){return!1}},n}(gl);yt(),C(),yt(),C();var yl=function(){var t=self.Blob;if(t)try{new t;return function(t){return function(n,i){return new t(n,i)}}(t)}catch(t){}var n=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder;if(n)return function(t){return function(n,i){var r=new t;if(n)for(var e=0;e<n.length;e++){var u=n[e];r.append(u)}return r.getBlob(i&&i.type||"")}}(n)}();function ml(t,n,i){var r=yl([n],{type:"application/octet-stream"}),e=URL.createObjectURL(r),s=function(t,n){var i=t,r=i.indexOf("?");if(r>=0&&(i=i.substr(0,r)),i=i.substr(i.lastIndexOf("/")+1),n){var e=i.indexOf(".");e<0&&(e=i.length),i=i.substr(0,e)+n+i.substr(e)}return i}(t,i),o=u.createElement("a");o.href=e,o.download=s,u.body.appendChild(o),o.click(),u.body.removeChild(o),URL.revokeObjectURL(e)}yt(),C();var Al,pl,_l="default";yt(),C(),pt(),yt(),C(),yt(),C(),function(t){t.Mv="bv",t.Tv="Sv",t.Nv="contentprotectionerror",t.Iv="contentprotectionsuccess",t.Dv="currentsourcechange",t.Ev="destroy",t.Lv="durationchange",t.xv="emptied",t.Cv="encrypted",t.Ov="ended",t.Rv="Pv",t.zv="Bv",t.Uv="Qv",t.Fv="Yv",t.Gv="loadstart",t.Vv="manifestupdate",t.Wv="nosupportedrepresentationfound",t.Hv="offline",t.Xv="online",t.Sh="pause",t.jh="play",t.Zv="progress",t.qv="ratechange",t.Kv="representationchange",t.Jv="resize",t.$v="seeked",t.im="seeking",t.nm="segmentnotfound",t.hm="um",t.lm="dm",t.lo="sourcechange",t.fm="timeupdate",t._m="volumechange",t.gm="wm",t.vm="metricschange"}(Al||(Al={})),yt(),C(),Mt(),yt(),C(),function(t){t.SD="arraybuffer",t.ND="json",t.DD="stream",t.Ru="text"}(pl||(pl={})),yt(),C(),Vt();var kl=function(){function t(n){var i=this;this.mf={},n instanceof t?n.asList().forEach((function(t){var n=Gt(t,2),r=n[0],e=n[1];i.append(r,e)})):Array.isArray(n)?n.forEach((function(t){var n=Gt(t,2),r=n[0],e=n[1];i.append(r,e)})):n&&g.getOwnPropertyNames(n).forEach((function(t){i.append(t,n[t])}))}var n=t.prototype;return n.append=function(t,n){var i=t,r=n;i=bl(i),r=Ml(r);var e=i.toLowerCase();if(this.mf.hasOwnProperty(e)){var u=this.mf[e],s=u[1];u[1]=s?s+", "+r:r}else this.mf[e]=[i,r]},n.delete=function(t){var n=bl(t).toLowerCase();delete this.mf[n]},n.get=function(t){var n=bl(t).toLowerCase();return this.mf.hasOwnProperty(n)?this.mf[n][1]:null},n.has=function(t){var n=bl(t).toLowerCase();return this.mf.hasOwnProperty(n)},n.set=function(t,n){var i=t,r=(i=bl(i)).toLowerCase();this.mf[r]=[i,Ml(n)]},n.forEach=function(t,n){for(var i in this.mf)this.mf.hasOwnProperty(i)&&t.call(n,this.mf[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.mf)if(this.mf.hasOwnProperty(n)){var i=Gt(this.mf[n],2),r=i[0],e=i[1];t.push([r,e])}return t},n.ED=function(){var t={};return this.forEach((function(n,i){t[i]=n})),t},n.kD=function(t){var n=this;t.forEach((function(t,i){n.append(i,t)}))},n.LD=function(t){var n=this;t.forEach((function(t,i){n.set(i,t)}))},t}();function bl(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new l("Invalid character in header field name");return n}function Ml(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}yt(),C(),pt(),Mt(),yt(),C(),pt(),Mt(),Vt(),yt(),C(),yt(),C();var Tl="function"==typeof n&&"symbol"==typeof n.iterator?n:function(t){return"Symbol("+t+")"};function Nl(){}var Dl=Number.isNaN||function(t){return t!=t},Il=Nl;function El(t){return"object"==typeof t&&null!==t||"function"==typeof t}function Sl(t){return t.slice()}function Ll(t,n,i,r,e){new p(t).set(new p(i,r,e),n)}function jl(t){return!1!==function(t){if("number"!=typeof t)return!1;if(Dl(t))return!1;if(t<0)return!1;return!0}(t)&&t!==1/0}function Cl(t,n,i){if("function"!=typeof t)throw new l("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function xl(t,n,i,r){var e=t[n];if(void 0!==e){if("function"!=typeof e)throw new l(e+" is not a method");switch(i){case 0:return function(){return zl(e,t,r)};case 1:return function(n){var i=[n].concat(r);return zl(e,t,i)}}}return function(){return Gl(void 0)}}function Ol(t,n,i){var r=t[n];if(void 0!==r)return Cl(r,t,i)}function zl(t,n,i){try{return Gl(Cl(t,n,i))}catch(t){return Vl(t)}}function Rl(t){if(t=Number(t),Dl(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function Bl(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new l("size property of a queuing strategy must be a function");return function(n){return t(n)}}var Pl=q,Ul=q.prototype.then,Ql=q.resolve.bind(Pl),Yl=q.reject.bind(Pl);function Fl(t){return new Pl(t)}function Gl(t){return Ql(t)}function Vl(t){return Yl(t)}function Wl(t,n,i){return Ul.call(t,n,i)}function Xl(t,n,i){Wl(Wl(t,n,i),void 0,Il)}function Zl(t,n){Xl(t,n)}function Hl(t,n){Xl(t,void 0,n)}function Kl(t,n,i){return Wl(t,n,i)}function ql(t){Wl(t,void 0,Il)}var Jl=function(){function t(){this.OV=0,this.jV=0,this.RV={PV:[],zV:void 0},this.BV=this.RV,this.OV=0,this.jV=0}return g.defineProperty(t.prototype,"length",{get:function(){return this.jV},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.BV,i=n;16383===n.PV.length&&(i={PV:[],zV:void 0}),n.PV.push(t),i!==n&&(this.BV=i,n.zV=i),++this.jV},t.prototype.shift=function(){var t=this.RV,n=t,i=this.OV,r=i+1,e=t.PV,u=e[i];return 16384===r&&(n=t.zV,r=0),--this.jV,this.OV=r,t!==n&&(this.RV=n),e[i]=void 0,u},t.prototype.forEach=function(t){for(var n=this.OV,i=this.RV,r=i.PV;!(n===r.length&&void 0===i.zV||n===r.length&&(n=0,0===(r=(i=i.zV).PV).length));)t(r[n]),++n},t.prototype.peek=function(){var t=this.RV,n=this.OV;return t.PV[n]},t}();function $l(t,n,i){var r=null;!0===i&&(r=g.prototype);var e=g.create(r);return e.value=t,e.done=n,e}function td(t,n){t.QV=!0,t.FV=n,n.YV=t,"readable"===n.ja?ed(t):"closed"===n.ja?function(t){ed(t),od(t)}(t):ud(t,n.GV)}function nd(t,n){return hw(t.FV,n)}function id(t){"readable"===t.FV.ja?sd(t,new l("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){ud(t,n)}(t,new l("Reader was released and can no longer be used to monitor the stream's closedness")),t.FV.YV=void 0,t.FV=void 0}function rd(t){return new l("Cannot "+t+" a stream using a released reader")}function ed(t){t.ZC=Fl((function(n,i){t.VV=n,t.WV=i}))}function ud(t,n){ed(t),sd(t,n)}function sd(t,n){ql(t.ZC),t.WV(n),t.VV=void 0,t.WV=void 0}function od(t){t.VV(void 0),t.VV=void 0,t.WV=void 0}var ad=Tl("[[CancelSteps]]"),cd=Tl("[[PullSteps]]");function hd(t,n){void 0===n&&(n=!1);var i=new yd(t);return i.QV=n,i}function fd(t){return Fl((function(n,i){var r={lf:n,CL:i};t.YV.HV.push(r)}))}function vd(t,n,i){var r=t.YV;r.HV.shift().lf($l(n,i,r.QV))}function ld(t){return t.YV.HV.length}function dd(t){var n=t.YV;return void 0!==n&&!!md(n)}var gd,wd,yd=function(){function t(t){if(!1===aw(t))throw new l("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===cw(t))throw new l("This stream has already been locked for exclusive reading by another reader");td(this,t),this.HV=new Jl}return g.defineProperty(t.prototype,"closed",{get:function(){return md(this)?this.ZC:Vl(pd("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return md(this)?void 0===this.FV?Vl(rd("cancel")):nd(this,t):Vl(pd("cancel"))},t.prototype.read=function(){return md(this)?void 0===this.FV?Vl(rd("read from")):Ad(this):Vl(pd("read"))},t.prototype.releaseLock=function(){if(!md(this))throw pd("releaseLock");if(void 0!==this.FV){if(this.HV.length>0)throw new l("Tried to release a reader lock when that reader has pending read() calls un-settled");id(this)}},t}();function md(t){return!!El(t)&&!!g.prototype.hasOwnProperty.call(t,"HV")}function Ad(t){var n=t.FV;return n.XV=!0,"closed"===n.ja?Gl($l(void 0,!0,t.QV)):"errored"===n.ja?Vl(n.GV):n.ZV[cd]()}function pd(t){return new l("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}"symbol"==typeof Tl.asyncIterator&&((gd={})[Tl.asyncIterator]=function(){return this},wd=gd,g.defineProperty(wd,Tl.asyncIterator,{enumerable:!1}));var _d={next:function(){if(!1===kd(this))return Vl(bd("next"));var t=this.qV;return void 0===t.FV?Vl(rd("iterate")):Kl(Ad(t),(function(n){var i=n.done;return i&&id(t),$l(n.value,i,!0)}))},return:function(t){if(!1===kd(this))return Vl(bd("next"));var n=this.qV;if(void 0===n.FV)return Vl(rd("finish iterating"));if(n.HV.length>0)return Vl(new l("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.KV){var i=nd(n,t);return id(n),Kl(i,(function(){return $l(t,!0,!0)}))}return id(n),Gl($l(t,!0,!0))}};function kd(t){return!!El(t)&&!!g.prototype.hasOwnProperty.call(t,"qV")}function bd(t){return new l("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function Md(t){var n=t.JV.shift();return t.$V-=n.size,t.$V<0&&(t.$V=0),n.value}function Td(t,n,i){if(!jl(i=Number(i)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.JV.push({value:n,size:i}),t.$V+=i}function Nd(t){t.JV=new Jl,t.$V=0}void 0!==wd&&g.setPrototypeOf(_d,wd),g.defineProperty(_d,"next",{enumerable:!1}),g.defineProperty(_d,"return",{enumerable:!1});var Dd=Tl("[[AbortSteps]]"),Id=Tl("[[ErrorSteps]]"),Ed=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),Ld(this);var i=n.size,r=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var e=Bl(i);void 0===r&&(r=1),function(t,n,i,r){var e=g.create(Hd.prototype);function u(){return Ol(n,"start",[e])}var s=xl(n,"write",1,[e]),o=xl(n,"close",0,[]),a=xl(n,"abort",1,[]);Kd(t,e,u,s,o,a,i,r)}(this,t,r=Rl(r),e)}return g.defineProperty(t.prototype,"locked",{get:function(){if(!1===jd(this))throw rg("locked");return Cd(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===jd(this)?Vl(rg("abort")):!0===Cd(this)?Vl(new l("Cannot abort a stream that already has a writer")):xd(this,t)},t.prototype.close=function(){return!1===jd(this)?Vl(rg("close")):!0===Cd(this)?Vl(new l("Cannot close a stream that already has a writer")):!0===Pd(this)?Vl(new l("Cannot close an already-closing stream")):Od(this)},t.prototype.getWriter=function(){if(!1===jd(this))throw rg("getWriter");return Sd(this)},t}();function Sd(t){return new Yd(t)}function Ld(t){t.ja="writable",t.GV=void 0,t.qL=void 0,t.tW=void 0,t.iW=new Jl,t.eW=void 0,t.sW=void 0,t.nW=void 0,t.rW=void 0,t.oW=!1}function jd(t){return!!El(t)&&!!g.prototype.hasOwnProperty.call(t,"tW")}function Cd(t){return void 0!==t.qL}function xd(t,n){var i=t.ja;if("closed"===i||"errored"===i)return Gl(void 0);if(void 0!==t.rW)return t.rW.hW;var r=!1;"erroring"===i&&(r=!0,n=void 0);var e=Fl((function(i,e){t.rW={hW:void 0,lf:i,CL:e,aW:n,uW:r}}));return t.rW.hW=e,!1===r&&Rd(t,n),e}function Od(t){var n=t.ja;if("closed"===n||"errored"===n)return Vl(new l("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i=Fl((function(n,i){var r={lf:n,CL:i};t.sW=r})),r=t.qL;return void 0!==r&&!0===t.oW&&"writable"===n&&dg(r),function(t){Td(t,"close",0),$d(t)}(t.tW),i}function zd(t,n){"writable"!==t.ja?Bd(t):Rd(t,n)}function Rd(t,n){var i=t.tW;t.ja="erroring",t.GV=n;var r=t.qL;void 0!==r&&Wd(r,n),!1===function(t){if(void 0===t.eW&&void 0===t.nW)return!1;return!0}(t)&&!0===i.cW&&Bd(t)}function Bd(t){t.ja="errored",t.tW[Id]();var n=t.GV;if(t.iW.forEach((function(t){t.CL(n)})),t.iW=new Jl,void 0!==t.rW){var i=t.rW;if(t.rW=void 0,!0===i.uW)return i.CL(n),void Ud(t);Xl(t.tW[Dd](i.aW),(function(){i.lf(),Ud(t)}),(function(n){i.CL(n),Ud(t)}))}else Ud(t)}function Pd(t){return void 0!==t.sW||void 0!==t.nW}function Ud(t){void 0!==t.sW&&(t.sW.CL(t.GV),t.sW=void 0);var n=t.qL;void 0!==n&&ag(n,t.GV)}function Qd(t,n){var i=t.qL;void 0!==i&&n!==t.oW&&(!0===n?function(t){hg(t)}(i):dg(i)),t.oW=n}var Yd=function(){function t(t){if(!1===jd(t))throw new l("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===Cd(t))throw new l("This stream has already been locked for exclusive writing by another writer");this.lW=t,t.qL=this;var n=t.ja;if("writable"===n)!1===Pd(t)&&!0===t.oW?hg(this):vg(this),sg(this);else if("erroring"===n)fg(this,t.GV),sg(this);else if("closed"===n)vg(this),function(t){sg(t),cg(t)}(this);else{var i=t.GV;fg(this,i),og(this,i)}}return g.defineProperty(t.prototype,"closed",{get:function(){return!1===Fd(this)?Vl(eg("closed")):this.ZC},enumerable:!0,configurable:!0}),g.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Fd(this))throw eg("desiredSize");if(void 0===this.lW)throw ug("desiredSize");return function(t){var n=t.lW,i=n.ja;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return Jd(n.tW)}(this)},enumerable:!0,configurable:!0}),g.defineProperty(t.prototype,"ready",{get:function(){return!1===Fd(this)?Vl(eg("ready")):this.dW},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===Fd(this)?Vl(eg("abort")):void 0===this.lW?Vl(ug("abort")):function(t,n){var i=t.lW;return xd(i,n)}(this,t)},t.prototype.close=function(){if(!1===Fd(this))return Vl(eg("close"));var t=this.lW;return void 0===t?Vl(ug("close")):!0===Pd(t)?Vl(new l("Cannot close an already-closing stream")):Gd(this)},t.prototype.releaseLock=function(){if(!1===Fd(this))throw eg("releaseLock");void 0!==this.lW&&Xd(this)},t.prototype.write=function(t){return!1===Fd(this)?Vl(eg("write")):void 0===this.lW?Vl(ug("write to")):Zd(this,t)},t}();function Fd(t){return!!El(t)&&!!g.prototype.hasOwnProperty.call(t,"lW")}function Gd(t){return Od(t.lW)}function Vd(t,n){"pending"===t.fW?ag(t,n):function(t,n){og(t,n)}(t,n)}function Wd(t,n){"pending"===t._W?lg(t,n):function(t,n){fg(t,n)}(t,n)}function Xd(t){var n=t.lW,i=new l("Writer was released and can no longer be used to monitor the stream's closedness");Wd(t,i),Vd(t,i),n.qL=void 0,t.lW=void 0}function Zd(t,n){var i=t.lW,r=i.tW,e=function(t,n){try{return t.gW(n)}catch(n){return tg(t,n),1}}(r,n);if(i!==t.lW)return Vl(ug("write to"));var u=i.ja;if("errored"===u)return Vl(i.GV);if(!0===Pd(i)||"closed"===u)return Vl(new l("The stream is closing or closed and cannot be written to"));if("erroring"===u)return Vl(i.GV);var s=function(t){return Fl((function(n,i){var r={lf:n,CL:i};t.iW.push(r)}))}(i);return function(t,n,i){var r={chunk:n};try{Td(t,r,i)}catch(n){return void tg(t,n)}var e=t.wW;if(!1===Pd(e)&&"writable"===e.ja){Qd(e,ng(t))}$d(t)}(r,n,e),s}var Hd=function(){function t(){throw new l("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1===function(t){if(!El(t))return!1;if(!g.prototype.hasOwnProperty.call(t,"wW"))return!1;return!0}(this))throw new l("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this.wW.ja&&ig(this,t)},t.prototype[Dd]=function(t){var n=this.vW(t);return qd(this),n},t.prototype[Id]=function(){Nd(this)},t}();function Kd(t,n,i,r,e,u,s,o){n.wW=t,t.tW=n,n.JV=void 0,n.$V=void 0,Nd(n),n.cW=!1,n.gW=o,n.mW=s,n.pW=r,n.AW=e,n.vW=u;var a=ng(n);Qd(t,a),Xl(Gl(i()),(function(){n.cW=!0,$d(n)}),(function(i){n.cW=!0,zd(t,i)}))}function qd(t){t.pW=void 0,t.AW=void 0,t.vW=void 0,t.gW=void 0}function Jd(t){return t.mW-t.$V}function $d(t){var n=t.wW;if(!1!==t.cW&&void 0===n.eW)if("erroring"!==n.ja){if(0!==t.JV.length){var i=function(t){return t.JV.peek().value}(t);"close"===i?function(t){var n=t.wW;(function(t){t.nW=t.sW,t.sW=void 0})(n),Md(t);var i=t.AW();qd(t),Xl(i,(function(){!function(t){t.nW.lf(void 0),t.nW=void 0,"erroring"===t.ja&&(t.GV=void 0,void 0!==t.rW&&(t.rW.lf(),t.rW=void 0)),t.ja="closed";var n=t.qL;void 0!==n&&cg(n)}(n)}),(function(t){!function(t,n){t.nW.CL(n),t.nW=void 0,void 0!==t.rW&&(t.rW.CL(n),t.rW=void 0),zd(t,n)}(n,t)}))}(t):function(t,n){var i=t.wW;!function(t){t.eW=t.iW.shift()}(i);var r=t.pW(n);Xl(r,(function(){!function(t){t.eW.lf(void 0),t.eW=void 0}(i);var n=i.ja;if(Md(t),!1===Pd(i)&&"writable"===n){var r=ng(t);Qd(i,r)}$d(t)}),(function(n){"writable"===i.ja&&qd(t),function(t,n){t.eW.CL(n),t.eW=void 0,zd(t,n)}(i,n)}))}(t,i.chunk)}}else Bd(n)}function tg(t,n){"writable"===t.wW.ja&&ig(t,n)}function ng(t){return Jd(t)<=0}function ig(t,n){var i=t.wW;qd(t),Rd(i,n)}function rg(t){return new l("WritableStream.prototype."+t+" can only be used on a WritableStream")}function eg(t){return new l("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function ug(t){return new l("Cannot "+t+" a stream using a released writer")}function sg(t){t.ZC=Fl((function(n,i){t.VV=n,t.WV=i,t.fW="pending"}))}function og(t,n){sg(t),ag(t,n)}function ag(t,n){ql(t.ZC),t.WV(n),t.VV=void 0,t.WV=void 0,t.fW="rejected"}function cg(t){t.VV(void 0),t.VV=void 0,t.WV=void 0,t.fW="resolved"}function hg(t){t.dW=Fl((function(n,i){t.yW=n,t.MW=i})),t._W="pending"}function fg(t,n){hg(t),lg(t,n)}function vg(t){hg(t),dg(t)}function lg(t,n){ql(t.dW),t.MW(n),t.yW=void 0,t.MW=void 0,t._W="rejected"}function dg(t){t.yW(void 0),t.yW=void 0,t.MW=void 0,t._W="fulfilled"}function gg(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}var wg="undefined"!=typeof DOMException?DOMException:void 0;var yg=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(wg)?wg:function(){var t=function(t,n){this.message=t||"",this.name=n||"Error",v.captureStackTrace&&v.captureStackTrace(this,this.constructor)};return t.prototype=g.create(v.prototype),g.defineProperty(t.prototype,"constructor",{value:t,writable:!0,configurable:!0}),t}();function mg(t,n,i,r,e,u){var s=hd(t),o=Sd(n);t.XV=!0;var a=!1,c=Gl(void 0);return Fl((function(h,f){var v,d,g,w;if(void 0!==u){if(v=function(){var i=new yg("Aborted","AbortError"),u=[];!1===r&&u.push((function(){return"writable"===n.ja?xd(n,i):Gl(void 0)})),!1===e&&u.push((function(){return"readable"===t.ja?hw(t,i):Gl(void 0)})),p((function(){return q.all(u.map((function(t){return t()})))}),!0,i)},!0===u.aborted)return void v();u.addEventListener("abort",v)}if(A(t,s.ZC,(function(t){!1===r?p((function(){return xd(n,t)}),!0,t):_(!0,t)})),A(n,o.ZC,(function(n){!1===e?p((function(){return hw(t,n)}),!0,n):_(!0,n)})),d=t,g=s.ZC,w=function(){!1===i?p((function(){return function(t){var n=t.lW,i=n.ja;return!0===Pd(n)||"closed"===i?Gl(void 0):"errored"===i?Vl(n.GV):Gd(t)}(o)})):_()},"closed"===d.ja?w():Zl(g,w),!0===Pd(n)||"closed"===n.ja){var y=new l("the destination writable stream closed before all data could be piped to it");!1===e?p((function(){return hw(t,y)}),!0,y):_(!0,y)}function m(){var t=c;return Wl(c,(function(){return t!==c?m():void 0}))}function A(t,n,i){"errored"===t.ja?i(t.GV):Hl(n,i)}function p(t,i,r){function e(){Xl(t(),(function(){return k(i,r)}),(function(t){return k(!0,t)}))}!0!==a&&(a=!0,"writable"===n.ja&&!1===Pd(n)?Zl(m(),e):e())}function _(t,i){!0!==a&&(a=!0,"writable"===n.ja&&!1===Pd(n)?Zl(m(),(function(){return k(t,i)})):k(t,i))}function k(t,n){Xd(o),id(s),void 0!==u&&u.removeEventListener("abort",v),t?f(n):h(void 0)}ql(Fl((function(t,n){!function i(r){r?t():Wl(!0===a?Gl(!0):Wl(o.dW,(function(){return Wl(Ad(s),(function(t){return!0===t.done||(c=Wl(Zd(o,t.value),void 0,Nl),!1)}))})),i,n)}(!1)})))}))}var Ag=function(){function t(){throw new l}return g.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===pg(this))throw Sg("desiredSize");return Dg(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===pg(this))throw Sg("close");if(!1===Ig(this))throw new l("The stream is not in a state that permits close");Mg(this)},t.prototype.enqueue=function(t){if(!1===pg(this))throw Sg("enqueue");if(!1===Ig(this))throw new l("The stream is not in a state that permits enqueue");return Tg(this,t)},t.prototype.error=function(t){if(!1===pg(this))throw Sg("error");Ng(this,t)},t.prototype[ad]=function(t){Nd(this);var n=this.bW(t);return bg(this),n},t.prototype[cd]=function(){var t=this.TW;if(this.JV.length>0){var n=Md(this);return!0===this.SW&&0===this.JV.length?(bg(this),fw(t)):_g(this),Gl($l(n,!1,t.YV.QV))}var i=fd(t);return _g(this),i},t}();function pg(t){return!!El(t)&&!!g.prototype.hasOwnProperty.call(t,"TW")}function _g(t){!1!==kg(t)&&(!0!==t.NW?(t.NW=!0,Xl(t.IW(),(function(){t.NW=!1,!0===t.DW&&(t.DW=!1,_g(t))}),(function(n){Ng(t,n)}))):t.DW=!0)}function kg(t){var n=t.TW;return!1!==Ig(t)&&(!1!==t.cW&&(!0===cw(n)&&ld(n)>0||Dg(t)>0))}function bg(t){t.IW=void 0,t.bW=void 0,t.gW=void 0}function Mg(t){var n=t.TW;t.SW=!0,0===t.JV.length&&(bg(t),fw(n))}function Tg(t,n){var i=t.TW;if(!0===cw(i)&&ld(i)>0)vd(i,n,!1);else{var r=void 0;try{r=t.gW(n)}catch(n){throw Ng(t,n),n}try{Td(t,n,r)}catch(n){throw Ng(t,n),n}}_g(t)}function Ng(t,n){var i=t.TW;"readable"===i.ja&&(Nd(t),bg(t),vw(i,n))}function Dg(t){var n=t.TW.ja;return"errored"===n?null:"closed"===n?0:t.mW-t.$V}function Ig(t){var n=t.TW.ja;return!1===t.SW&&"readable"===n}function Eg(t,n,i,r,e,u,s){n.TW=t,n.JV=void 0,n.$V=void 0,Nd(n),n.cW=!1,n.SW=!1,n.DW=!1,n.NW=!1,n.gW=s,n.mW=u,n.IW=r,n.bW=e,t.ZV=n,Xl(Gl(i()),(function(){n.cW=!0,_g(n)}),(function(t){Ng(n,t)}))}function Sg(t){return new l("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}var Lg=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&w.floor(t)===t},jg=function(){function t(){throw new l("ReadableStreamBYOBRequest cannot be used directly")}return g.defineProperty(t.prototype,"view",{get:function(){if(!1===Og(this))throw qg("view");return this.QI},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===Og(this))throw qg("respond");if(void 0===this.EW)throw new l("This BYOB request has been invalidated");this.QI.buffer,function(t,n){if(n=Number(n),!1===jl(n))throw new RangeError("bytesWritten must be a finite");Vg(t,n)}(this.EW,t)},t.prototype.respondWithNewView=function(t){if(!1===Og(this))throw qg("respond");if(void 0===this.EW)throw new l("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new l("You can only respond with array buffer views");t.buffer,function(t,n){var i=t.kW.peek();if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=n.buffer,Vg(t,n.byteLength)}(this.EW,t)},t}(),Cg=function(){function t(){throw new l("ReadableByteStreamController constructor cannot be used directly")}return g.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===xg(this))throw Jg("byobRequest");if(void 0===this.LW&&this.kW.length>0){var t=this.kW.peek(),n=new p(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),i=g.create(jg.prototype);!function(t,n,i){t.EW=n,t.QI=i}(i,this,n),this.LW=i}return this.LW},enumerable:!0,configurable:!0}),g.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===xg(this))throw Jg("desiredSize");return Hg(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===xg(this))throw Jg("close");if(!0===this.SW)throw new l("The stream has already been closed; do not close it again!");var t=this.xW.ja;if("readable"!==t)throw new l("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.xW;if(t.$V>0)return void(t.SW=!0);if(t.kW.length>0){if(t.kW.peek().bytesFilled>0){var i=new l("Insufficient bytes to fill elements in the given buffer");throw Zg(t,i),i}}Xg(t),fw(n)}(this)},t.prototype.enqueue=function(t){if(!1===xg(this))throw Jg("enqueue");if(!0===this.SW)throw new l("stream is closed or draining");var n=this.xW.ja;if("readable"!==n)throw new l("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new l("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var i=t.xW,r=n.buffer,e=n.byteOffset,u=n.byteLength,s=r;if(!0===dd(i)){if(0===ld(i))Pg(t,s,e,u);else vd(i,new p(s,e,u),!1)}else!0===nw(i)?(Pg(t,s,e,u),Gg(t)):Pg(t,s,e,u);zg(t)}(this,t)},t.prototype.error=function(t){if(!1===xg(this))throw Jg("error");Zg(this,t)},t.prototype[ad]=function(t){this.kW.length>0&&(this.kW.peek().bytesFilled=0);Nd(this);var n=this.bW(t);return Xg(this),n},t.prototype[cd]=function(){var t=this.xW;if(this.$V>0){var n=this.JV.shift();this.$V-=n.byteLength,Yg(this);var i=void 0;try{i=new p(n.buffer,n.byteOffset,n.byteLength)}catch(t){return Vl(t)}return Gl($l(i,!1,t.YV.QV))}var r=this.OW;if(void 0!==r){var e=void 0;try{e=new ArrayBuffer(r)}catch(t){return Vl(t)}var u={buffer:e,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,ctor:p,readerType:"default"};this.kW.push(u)}var s=fd(t);return zg(this),s},t}();function xg(t){return!!El(t)&&!!g.prototype.hasOwnProperty.call(t,"xW")}function Og(t){return!!El(t)&&!!g.prototype.hasOwnProperty.call(t,"EW")}function zg(t){var n=function(t){var n=t.xW;if("readable"!==n.ja)return!1;if(!0===t.SW)return!1;if(!1===t.cW)return!1;if(!0===dd(n)&&ld(n)>0)return!0;if(!0===nw(n)&&tw(n)>0)return!0;var i=Hg(t);if(i>0)return!0;return!1}(t);!1!==n&&(!0!==t.NW?(t.NW=!0,Xl(t.IW(),(function(){t.NW=!1,!0===t.DW&&(t.DW=!1,zg(t))}),(function(n){Zg(t,n)}))):t.DW=!0)}function Rg(t,n){var i=!1;"closed"===t.ja&&(i=!0);var r=Bg(n);"default"===n.readerType?vd(t,r,i):function(t,n,i){var r=t.YV,e=r.jW.shift();e.lf($l(n,i,r.QV))}(t,r,i)}function Bg(t){var n=t.bytesFilled,i=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/i)}function Pg(t,n,i,r){t.JV.push({buffer:n,byteOffset:i,byteLength:r}),t.$V+=r}function Ug(t,n){var i=n.elementSize,r=n.bytesFilled-n.bytesFilled%i,e=w.min(t.$V,n.byteLength-n.bytesFilled),u=n.bytesFilled+e,s=u-u%i,o=e,a=!1;s>r&&(o=s-n.bytesFilled,a=!0);for(var c=t.JV;o>0;){var h=c.peek(),f=w.min(o,h.byteLength),v=n.byteOffset+n.bytesFilled;Ll(n.buffer,v,h.buffer,h.byteOffset,f),h.byteLength===f?c.shift():(h.byteOffset+=f,h.byteLength-=f),t.$V-=f,Qg(t,f,n),o-=f}return a}function Qg(t,n,i){Fg(t),i.bytesFilled+=n}function Yg(t){0===t.$V&&!0===t.SW?(Xg(t),fw(t.xW)):zg(t)}function Fg(t){void 0!==t.LW&&(t.LW.EW=void 0,t.LW.QI=void 0,t.LW=void 0)}function Gg(t){for(;t.kW.length>0;){if(0===t.$V)return;var n=t.kW.peek();!0===Ug(t,n)&&(Wg(t),Rg(t.xW,n))}}function Vg(t,n){var i=t.kW.peek();if("closed"===t.xW.ja){if(0!==n)throw new l("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=n.buffer;var i=t.xW;if(!0===nw(i))for(;tw(i)>0;)Rg(i,Wg(t))}(t,i)}else!function(t,n,i){if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range");if(Qg(t,n,i),!(i.bytesFilled<i.elementSize)){Wg(t);var r=i.bytesFilled%i.elementSize;if(r>0){var e=i.byteOffset+i.bytesFilled,u=i.buffer.slice(e-r,e);Pg(t,u,0,u.byteLength)}i.buffer=i.buffer,i.bytesFilled-=r,Rg(t.xW,i),Gg(t)}}(t,n,i);zg(t)}function Wg(t){var n=t.kW.shift();return Fg(t),n}function Xg(t){t.IW=void 0,t.bW=void 0}function Zg(t,n){var i=t.xW;"readable"===i.ja&&(!function(t){Fg(t),t.kW=new Jl}(t),Nd(t),Xg(t),vw(i,n))}function Hg(t){var n=t.xW.ja;return"errored"===n?null:"closed"===n?0:t.mW-t.$V}function Kg(t,n,i){var r=g.create(Cg.prototype);var e=xl(n,"pull",0,[r]),u=xl(n,"cancel",1,[]),s=n.autoAllocateChunkSize;if(void 0!==s&&(s=Number(s),!1===Lg(s)||s<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,i,r,e,u,s){n.xW=t,n.DW=!1,n.NW=!1,n.LW=void 0,n.JV=n.$V=void 0,Nd(n),n.SW=!1,n.cW=!1,n.mW=Rl(u),n.IW=r,n.bW=e,n.OW=s,n.kW=new Jl,t.ZV=n,Xl(Gl(i()),(function(){n.cW=!0,zg(n)}),(function(t){Zg(n,t)}))}(t,r,(function(){return Ol(n,"start",[r])}),e,u,i,s)}function qg(t){return new l("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function Jg(t){return new l("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function $g(t){return Fl((function(n,i){var r={lf:n,CL:i};t.YV.jW.push(r)}))}function tw(t){return t.YV.jW.length}function nw(t){var n=t.YV;return void 0!==n&&!!rw(n)}var iw=function(){function t(t){if(!aw(t))throw new l("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===xg(t.ZV))throw new l("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(cw(t))throw new l("This stream has already been locked for exclusive reading by another reader");td(this,t),this.jW=new Jl}return g.defineProperty(t.prototype,"closed",{get:function(){return rw(this)?this.ZC:Vl(ew("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return rw(this)?void 0===this.FV?Vl(rd("cancel")):nd(this,t):Vl(ew("cancel"))},t.prototype.read=function(t){return rw(this)?void 0===this.FV?Vl(rd("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?Vl(new l("view must have non-zero byteLength")):function(t,n){var i=t.FV;if(i.XV=!0,"errored"===i.ja)return Vl(i.GV);return function(t,n){var i=t.xW,r=1;n.constructor!==DataView&&(r=n.constructor.BYTES_PER_ELEMENT);var e=n.constructor,u={buffer:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:r,ctor:e,readerType:"byob"};if(t.kW.length>0)return t.kW.push(u),$g(i);if("closed"===i.ja)return Gl($l(new e(u.buffer,u.byteOffset,0),!0,i.YV.QV));if(t.$V>0){if(!0===Ug(t,u)){var s=Bg(u);return Yg(t),Gl($l(s,!1,i.YV.QV))}if(!0===t.SW){var o=new l("Insufficient bytes to fill elements in the given buffer");return Zg(t,o),Vl(o)}}t.kW.push(u);var a=$g(i);return zg(t),a}(i.ZV,n)}(this,t)):Vl(new l("view must be an array buffer view")):Vl(ew("read"))},t.prototype.releaseLock=function(){if(!rw(this))throw ew("releaseLock");if(void 0!==this.FV){if(this.jW.length>0)throw new l("Tried to release a reader lock when that reader has pending read() calls un-settled");id(this)}},t}();function rw(t){return!!El(t)&&!!g.prototype.hasOwnProperty.call(t,"jW")}function ew(t){return new l("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}var uw=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),ow(this);var i=n.size,r=n.highWaterMark,e=t.type;if("bytes"===String(e)){if(void 0!==i)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===r&&(r=0),Kg(this,t,r=Rl(r))}else{if(void 0!==e)throw new RangeError("Invalid type is specified");var u=Bl(i);void 0===r&&(r=1),function(t,n,i,r){var e=g.create(Ag.prototype),u=xl(n,"pull",0,[e]),s=xl(n,"cancel",1,[]);Eg(t,e,(function(){return Ol(n,"start",[e])}),u,s,i,r)}(this,t,r=Rl(r),u)}}return g.defineProperty(t.prototype,"locked",{get:function(){if(!1===aw(this))throw lw("locked");return cw(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===aw(this)?Vl(lw("cancel")):!0===cw(this)?Vl(new l("Cannot cancel a stream that already has a reader")):hw(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===aw(this))throw lw("getReader");if(void 0===n)return hd(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var i=new iw(t);return i.QV=n,i}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var i=t.writable,r=t.readable,e=void 0===n?{}:n,u=e.preventClose,s=e.preventAbort,o=e.preventCancel,a=e.signal;if(!1===aw(this))throw lw("pipeThrough");if(!1===jd(i))throw new l("writable argument to pipeThrough must be a WritableStream");if(!1===aw(r))throw new l("readable argument to pipeThrough must be a ReadableStream");if(u=Boolean(u),s=Boolean(s),o=Boolean(o),void 0!==a&&!gg(a))throw new l("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===cw(this))throw new l("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===Cd(i))throw new l("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return ql(mg(this,i,u,s,o,a)),r},t.prototype.pipeTo=function(t,n){var i=void 0===n?{}:n,r=i.preventClose,e=i.preventAbort,u=i.preventCancel,s=i.signal;return!1===aw(this)?Vl(lw("pipeTo")):!1===jd(t)?Vl(new l("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(r=Boolean(r),e=Boolean(e),u=Boolean(u),void 0===s||gg(s)?!0===cw(this)?Vl(new l("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===Cd(t)?Vl(new l("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):mg(this,t,r,e,u,s):Vl(new l("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===aw(this))throw lw("tee");var t=function(t,n){var i,r,e,u,s,o=hd(t),a=!1,c=!1,h=!1,f=Fl((function(t){s=t}));function v(){return!0===a||(a=!0,ql(Kl(Ad(o),(function(t){if(a=!1,!0===t.done)return!1===c&&Mg(e.ZV),void(!1===h&&Mg(u.ZV));var n=t.value,i=n,r=n;!1===c&&Tg(e.ZV,i),!1===h&&Tg(u.ZV,r)})))),Gl(void 0)}function l(){}return e=sw(l,v,(function(n){if(c=!0,i=n,!0===h){var e=Sl([i,r]),u=hw(t,e);s(u)}return f})),u=sw(l,v,(function(n){if(h=!0,r=n,!0===c){var e=Sl([i,r]),u=hw(t,e);s(u)}return f})),Hl(o.ZC,(function(t){Ng(e.ZV,t),Ng(u.ZV,t)})),[e,u]}(this);return Sl(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,i=void 0!==n&&n;if(!1===aw(this))throw lw("getIterator");return function(t,n){void 0===n&&(n=!1);var i=hd(t),r=g.create(_d);return r.qV=i,r.KV=Boolean(n),r}(this,i)},t}();function sw(t,n,i,r,e){void 0===r&&(r=1),void 0===e&&(e=function(){return 1});var u=g.create(uw.prototype);return ow(u),Eg(u,g.create(Ag.prototype),t,n,i,r,e),u}function ow(t){t.ja="readable",t.YV=void 0,t.GV=void 0,t.XV=!1}function aw(t){return!!El(t)&&!!g.prototype.hasOwnProperty.call(t,"ZV")}function cw(t){return void 0!==t.YV}function hw(t,n){return t.XV=!0,"closed"===t.ja?Gl(void 0):"errored"===t.ja?Vl(t.GV):(fw(t),Kl(t.ZV[ad](n),Nl))}function fw(t){t.ja="closed";var n=t.YV;void 0!==n&&(md(n)&&(n.HV.forEach((function(t){t.lf($l(void 0,!0,n.QV))})),n.HV=new Jl),od(n))}function vw(t,n){t.ja="errored",t.GV=n;var i=t.YV;void 0!==i&&(md(i)?(i.HV.forEach((function(t){t.CL(n)})),i.HV=new Jl):(i.jW.forEach((function(t){t.CL(n)})),i.jW=new Jl),sd(i,n))}function lw(t){return new l("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}"symbol"==typeof Tl.asyncIterator&&g.defineProperty(uw.prototype,Tl.asyncIterator,{value:uw.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});!function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}t.prototype.size=function(t){return t.byteLength}}();var dw=function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}return t.prototype.size=function(){return 1},t}(),gw=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={});var r=n.size,e=n.highWaterMark,u=i.size,s=i.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var o=Bl(r);if(void 0===e&&(e=1),e=Rl(e),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var a,c=Bl(u);void 0===s&&(s=0),s=Rl(s),function(t,n,i,r,e,u){function s(){return n}function o(n){return function(t,n){var i=t.RW;if(!0===t.oW){return Kl(t.PW,(function(){var r=t.zW;if("erroring"===r.ja)throw r.GV;return Mw(i,n)}))}return Mw(i,n)}(t,n)}function a(n){return function(t,n){return yw(t,n),Gl(void 0)}(t,n)}function c(){return function(t){var n=t.BW,i=t.RW,r=i.UW();return kw(i),Kl(r,(function(){if("errored"===n.ja)throw n.GV;var t=n.ZV;!0===Ig(t)&&Mg(t)}),(function(i){throw yw(t,i),n.GV}))}(t)}function h(){return function(t){return Aw(t,!1),t.PW}(t)}function f(n){return mw(t,n),Gl(void 0)}t.zW=function(t,n,i,r,e,u){void 0===e&&(e=1),void 0===u&&(u=function(){return 1});var s=g.create(Ed.prototype);return Ld(s),Kd(s,g.create(Hd.prototype),t,n,i,r,e,u),s}(s,o,c,a,i,r),t.BW=sw(s,h,f,e,u),t.oW=void 0,t.PW=void 0,t.QW=void 0,Aw(t,!0),t.RW=void 0}(this,Fl((function(t){a=t})),e,o,s,c),function(t,n){var i=g.create(pw.prototype),r=function(t){try{return bw(i,t),Gl(void 0)}catch(t){return Vl(t)}},e=n.transform;if(void 0!==e){if("function"!=typeof e)throw new l("transform is not a method");r=function(t){return zl(e,n,[t,i])}}var u=xl(n,"flush",0,[i]);!function(t,n,i,r){n.FW=t,t.RW=n,n.YW=i,n.UW=r}(t,i,r,u)}(this,t);var h=Ol(t,"start",[this.RW]);a(h)}return g.defineProperty(t.prototype,"readable",{get:function(){if(!1===ww(this))throw Nw("readable");return this.BW},enumerable:!0,configurable:!0}),g.defineProperty(t.prototype,"writable",{get:function(){if(!1===ww(this))throw Nw("writable");return this.zW},enumerable:!0,configurable:!0}),t}();function ww(t){return!!El(t)&&!!g.prototype.hasOwnProperty.call(t,"RW")}function yw(t,n){Ng(t.BW.ZV,n),mw(t,n)}function mw(t,n){kw(t.RW),tg(t.zW.tW,n),!0===t.oW&&Aw(t,!1)}function Aw(t,n){void 0!==t.PW&&t.QW(),t.PW=Fl((function(n){t.QW=n})),t.oW=n}var pw=function(){function t(){throw new l("TransformStreamDefaultController instances cannot be created directly")}return g.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===_w(this))throw Tw("desiredSize");return Dg(this.FW.BW.ZV)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===_w(this))throw Tw("enqueue");bw(this,t)},t.prototype.error=function(t){if(!1===_w(this))throw Tw("error");!function(t,n){yw(t.FW,n)}(this,t)},t.prototype.terminate=function(){if(!1===_w(this))throw Tw("terminate");!function(t){var n=t.FW,i=n.BW.ZV;!0===Ig(i)&&Mg(i);var r=new l("TransformStream terminated");mw(n,r)}(this)},t}();function _w(t){return!!El(t)&&!!g.prototype.hasOwnProperty.call(t,"FW")}function kw(t){t.YW=void 0,t.UW=void 0}function bw(t,n){var i=t.FW,r=i.BW.ZV;if(!1===Ig(r))throw new l("Readable side is not in a state that permits enqueue");try{Tg(r,n)}catch(t){throw mw(i,t),i.BW.GV}var e=function(t){return!0!==kg(t)}(r);e!==i.oW&&Aw(i,!0)}function Mw(t,n){return Kl(t.YW(n),void 0,(function(n){throw yw(t.FW,n),n}))}function Tw(t){return new l("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function Nw(t){return new l("TransformStream.prototype."+t+" can only be used on a TransformStream")}yt(),C(),pt(),Mt();var Dw,Iw=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return bt(n,t),At(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(xo);function Ew(t){return function(t){return new uw({start:function(n){for(var i=0;i<t.length;i++){var r=t[i];n.enqueue(r)}n.close()}})}([t])}function Sw(t){return Ew(function(t){return new p(t)}(t))}function Lw(t,n){var i=n,r=t.getReader(),e=new Bc,u=function(){s();var t=new Ro;r.cancel(t).catch(Kn),e.xL(t)},s=function(){i&&(i.c_(u),i=void 0)};i&&(i.n_?u():i.u_(u));var o=[],a=function(t){return t.done?(s(),q.resolve(o)):(o.push(t.value),q.resolve(r.read()).then(a))};return q.resolve(r.read()).then(a).then((function(t){s(),e.LL(t)}),(function(t){s(),e.xL(t)})),e.OL}function jw(t,n){return Lw(t,n).then((function(t){return Da(t).buffer}))}function Cw(t,n){var i=n,r=new gw,e=r.readable,u=r.writable,s=u.getWriter(),o=function(){i&&i.g_()};return s.closed.then(o,o),t.then((function(t){return i=void 0,s.releaseLock(),t.pipeTo(u).catch(Kn)}),(function(t){return i=void 0,s.releaseLock(),u.abort(t).catch(Kn)})),e}function xw(t){var n=new gw,i=n.readable,r=n.writable;return t.pipeTo(r,{preventCancel:!0}).catch((function(n){var i;i=Pn(n)?n[0]===n[1]||Bo(n[0])&&Bo(n[1])?n[0]:new Iw(n):n,t.cancel(i).catch(Kn)})),i.tee()}function Ow(t){return bc(new p(t))}function zw(t){return Mc(t).buffer}yt(),C(),function(t){t[t.DD=0]="DD",t[t.GW=1]="GW"}(Dw||(Dw={}));var Rw="content-type",Bw="text/plain;charset=UTF-8",Pw=function(){function t(){}var n=t.prototype;return n.SR=function(t){return this.uE(t).then(JSON.parse)},n.sR=function(t,n){switch(t){case pl.SD:return this.GR(n);case pl.ND:return this.SR(n);case pl.DD:return this.VW();case pl.Ru:return this.uE(n);default:throw new l}},t}();function Uw(t,n,i){if(t instanceof Pw)return t;if(t instanceof uw)return function(t,n){return new Yw({Av:0,VW:t,Nz:Qw(n)})}(t,i);var r=Qw(i),e=q.resolve(t).then((function(t){return function(t,n){if(t){if("string"==typeof t)return{Av:pl.Ru,HD:t,Nz:n||Bw};if(t instanceof ArrayBuffer||Ma(t))return{Av:pl.SD,HD:Hw(t),Nz:n};if(Yn(t)||Pn(t))return{Av:pl.ND,HD:t,Nz:n};throw new l("Unsupported BodyInit type")}return{Av:pl.Ru,HD:null,Nz:n}}(t,r)}));return new Yw({Av:1,OL:e,WW:n})}function Qw(t){return(t.get(Rw)||"").toLowerCase()}var Yw=function(t){function n(n){var i;return(i=t.call(this)||this).XW=!1,i.JW=new Bc,i.JW.OL.catch(Kn),i.iH(n),i}bt(n,t);var i=n.prototype;return i.KW=function(){return this.JW.OL},i.uE=function(t){return this.$W(Fw,t)},i.SR=function(t){return this.$W(Vw,t)},i.GR=function(t){return this.$W(Xw,t)},i.VW=function(){return this.tH(function(t){return 0===t.Av?t.VW:Cw(t.OL.then(Zw).then(Sw),t.WW)}(this.qW))},i.$W=function(t,n){if(this.XW)return q.reject(new l("Already used"));this.XW=!0;var i=t(this.qW,n);return this.JW.w_(i.then(Kn)),i},i.tH=function(t){if(this.XW)throw new l("Already used");if(t.locked)throw new l("Body stream is locked");this.XW=!0;var n=new gw,i=q.resolve(t.pipeTo(n.writable));return this.JW.w_(i),n.readable},i.iH=function(t){this.qW=t,1===t.Av&&t.OL.catch(Kn)},i.eH=function(){if(this.XW)throw new l("Already used");var t=function(t){if(0===t.Av){var n=Gt(t.VW.tee(),2),i=n[0],r=n[1];return[{Av:t.Av,VW:i,Nz:t.Nz},{Av:t.Av,VW:r,Nz:t.Nz}]}var e=Gt(t.WW.v_(),2),u=e[0],s=e[1];return[{Av:t.Av,OL:t.OL,WW:u},{Av:t.Av,OL:t.OL,WW:s}]}(this.qW),i=t[0],r=t[1];return this.iH(i),new n(r)},At(n,[{key:"HW",get:function(){return this.XW}},{key:"ZW",get:function(){return 0===this.qW.Av}}]),n}(Pw);function Fw(t,n){return 0===t.Av?jw(t.VW,n).then(Ow):(n&&t.WW.w_(n),Fo(t.OL.then(Gw),t.WW))}function Gw(t){switch(t.Av){case pl.Ru:return q.resolve(t.HD||"");case pl.SD:return q.resolve(t.HD).then(Ow);case pl.ND:return q.resolve(t.HD).then(JSON.stringify)}}function Vw(t,n){return 0===t.Av?Fw(t,n).then(JSON.parse):(n&&t.WW.w_(n),Fo(t.OL.then(Ww),t.WW))}function Ww(t){return t.Av===pl.ND?q.resolve(t.HD):Gw(t).then(JSON.parse)}function Xw(t,n){return 0===t.Av?jw(t.VW,n):(n&&t.WW.w_(n),Fo(t.OL.then(Zw),t.WW))}function Zw(t){switch(t.Av){case pl.SD:return q.resolve(t.HD);case pl.Ru:case pl.ND:return Gw(t).then(zw)}}function Hw(t){return t instanceof ArrayBuffer?t:Cc(Ec(t)).buffer}var Kw=function(t){function n(n){var i;return(i=t.call(this)||this).sH=n,i}bt(n,t);var i=n.prototype;return i.KW=function(){return this.sH.KW()},i.uE=function(t){return this.sH.uE(t)},i.SR=function(t){return this.sH.SR(t)},i.GR=function(t){return this.sH.GR(t)},i.VW=function(t){return this.sH.VW(t)},i.eH=function(){return this.sH.eH()},At(n,[{key:"HW",get:function(){return this.sH.HW}},{key:"ZW",get:function(){return this.sH.ZW}}]),n}(Pw);function qw(t){return t.fD>=200&&t.fD<=299||304===t.fD}var Jw,$w,ty,ny,iy,ry=function(t){function n(n,i){var r,e,u,s,o,a;i?(e=i.XD,u=i.qD,s=i.fD,o=i.NR,a=i.nH):(e=[],u=pl.Ru,s=200,o="OK",a=!1);var c=n.uD,h=new kl(n.XD||e),f=n.qD||u,v=n.cE||(i&&i.uD===c?i.cE:c.zu),l=i?i.sH:null,d=Uw(void 0!==n.ly?n.ly:l,n.WW||new zo,h);return(r=t.call(this,d)||this).XD=h,r.uD=c,r.cE=v,r.qD=f,r.fD=void 0!==n.fD?n.fD:s,r.NR=void 0!==n.NR?String(n.NR):o,r.nH=n.nH||a,r}bt(n,t);var i=n.prototype;return i.ly=function(t){return this.sR(this.qD,t)},i.$A=function(){return new n({ly:this.eH(),uD:this.uD},this)},n}(Kw);yt(),C(),function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(Jw||(Jw={})),function(t){t.jT="",t.xD="manifest",t.CD="segment",t.OD="preload-hint",t.jD="content-protection"}($w||($w={})),function(t){t.jT="",t.RD="initialization-segment",t.PD="fairplay-license",t.zD="fairplay-certificate",t.BD="widevine-license",t.UD="widevine-certificate",t.QD="playready-license",t.FD="clearkey-license",t.YD="aes128-key"}(ty||(ty={})),function(t){t.jT="",t.WA="audio",t.VA="video",t.Ru="text",t.OT="image"}(ny||(ny={})),function(t){t.GD="same-origin",t.mp="no-cors",t.VD="cors",t.WD="navigate"}(iy||(iy={}));var ey=function(t,n){var i,r,e,u,s,o,a,c,h,f,v,l,d,g,w,y,m,A,p=t.zu;n?(i=n.HD,r=n.XD,e=n.ZD,u=n.qD,s=n._D,o=n.KD,a=n.f_,c=n.Av,h=n.JD,f=n.$D,v=n.tE,l=n.iE,d=n._v,g=n.eE,w=n.sE):(i=null,r={},e="GET",u=pl.Ru,s=0,o=0,c="",h="",f="",v=!1,d=void 0,g=!1,w=void 0),this.zu=p,this.HD=t.HD||i,this.XD=new kl(t.XD||r),this.ZD=t.ZD||e,this.qD=t.qD||u,this._D=void 0!==t._D?Number(t._D)||0:s,this.KD=void 0!==t.KD?Number(t.KD)||0:o,this.f_=t.f_||a||(new zo).f_,this.Av=t.Av||c,this.JD=t.JD||h,this.$D=t.$D||f,this.tE=void 0!==t.tE?Boolean(t.tE):v,this.iE=t.iE||l,this._v=null!=(y=t._v)?y:d,this.eE=null!=(m=t.eE)?m:g,this.sE=null!=(A=t.sE)?A:w},uy=function(){function t(){}var n=t.prototype;return n.uD=function(t){var n=function(t){return new ry({ly:null,XD:{},uD:t,cE:t.zu,qD:t.qD,fD:0,NR:Al.Hv})}(new ey(t));return q.resolve(n)},n.NG=function(t){},n.gn=function(){},t}();var sy=function(){function t(t,n){void 0===n&&(n=!0),this.aH=t,this.cH=n}var n=t.prototype;return n.uD=function(t){var n=this.hH(t);return this.aH.uD(n)},n.NG=function(t){return this.aH.NG(this.uH(t))},n.hH=function(n){var i=new ey(n);if(!this.cH){var r=t.lH(i.zu);i=new ey({zu:r},i)}return i},n.uH=function(n){var i=n.zu;return this.cH||(i=t.lH(i)),{zu:i,HD:n.HD}},n.gn=function(){this.aH.gn()},t.lH=function(t){return an.dH&&Bs(t,"http://")?t.replace(":","s:"):t},At(t,null,[{key:"rH",get:function(){return t.oH||(t.oH=new t(new uy)),t.oH}}]),t}();function oy(t,n){var i=an.Dh(t);return ay(i,n),i.toString()}function ay(t,n){for(var i=0,r=g.keys(n);i<r.length;i++){var e=r[i];t.searchParams.set(e,n[e])}}function cy(t,n){var i=an.wp(t);return n&&!Ps(i,"/")&&(i+="/"),i}sy.oH=void 0,yt(),C(),yt(),C(),zt(),pt(),Mt(),Vt(),Ut(),yt(),C();var hy,fy=/cache:(.+)?(?=&|$)/,vy="http://webcache.googleusercontent.com/search?q=cache:";function ly(t){if(!Bs(t,vy))return"";var n=an.Dh(t).search.match(fy);return n&&n.length>1?n[1]:""}function dy(t){return an.Dh(".",t)}yt(),C(),pt(),Mt(),yt(),C(),pt(),Mt(),function(t){t.oD="HttpOpenError",t.hD="HttpResponseError",t.aD="HttpTimeoutError"}(hy||(hy={}));var gy=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).cD=n,e}return bt(n,t),At(n,[{key:"uD",get:function(){return this.cD}}]),n}(xo);var wy=function(t){function n(n,i){return t.call(this,n,function(t){return"Error while opening "+t+". Invalid URL."}(n.zu),i)}return bt(n,t),At(n,[{key:"name",get:function(){return hy.oD}}]),n}(gy);yt(),C(),pt(),Mt();var yy=function(t){function n(n,i,r){var e;return(e=t.call(this,n.uD,null!=r?r:function(t){return"Error while loading "+t.uD.zu+", status code "+t.fD}(n),i)||this).dD=n,e}return bt(n,t),At(n,[{key:"name",get:function(){return hy.hD}},{key:"lD",get:function(){return this.dD}}]),n}(gy);yt(),C(),pt(),Mt();var my=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.zu+" timed out after "+t._D+" seconds."}(n),i)}return bt(n,t),At(n,[{key:"name",get:function(){return hy.aD}}]),n}(gy);yt(),C();var Ay=self.fetch,py=self.Request,_y=self.Response,ky=self.Headers,by=self.ReadableStream,My=self.AbortSignal,Ty=self.AbortController,Ny=ti((function(){try{return Zn(Ay)&&Hn(py)&&Hn(_y)&&Hn(ky)&&"forEach"in ky.prototype&&Ju()}catch(t){return!1}})),Dy=["http:","https:"];var Iy=ti((function(){try{return Ny()&&Hn(My)&&Hn(Ty)&&"signal"in py.prototype}catch(t){return!1}})),Ey=ti((function(){try{return Ny()&&Hn(by)&&"body"in _y.prototype&&!xn.XE}catch(t){return!1}}));function Sy(t){return t instanceof gy}function Ly(t){return t instanceof yy}function jy(t,n){var i,r=t.XD.has("content-length")?Number(t.XD.get("content-length")):void 0;return i=t.ZW?function(t,n,i){return t.pipeThrough(new gw(new Cy(n,i)))}(t.VW(),n,r):function(t,n,i){return xy.apply(this,arguments)}(t.GR(),n,r),new ry({ly:i,uD:t.uD},t)}yt(),C(),yt(),C(),zt(),Ut();var Cy=function(){function t(t,n){this.ist=t,this.sst=n,this.tst=0}var n=t.prototype;return n.transform=function(t,n){this.tst+=t.byteLength,this.ist(this.tst,this.sst),n.enqueue(t)},n.flush=function(t){var n;this.ist(this.tst,null!=(n=this.sst)?n:this.tst)},t}();function xy(){return xy=Ot((function(t,n,i){var r,e;return Rt(this,(function(u){switch(u.label){case 0:return[4,q.resolve()];case 1:return u.sent(),n(0,i),[4,t];case 2:return r=u.sent(),e=r.byteLength,n(e,null!=i?i:e),[2,r]}}))})),xy.apply(this,arguments)}var Oy=function(){function t(t){this.$O=new zo,this.dD=void 0,this.Dm=0,this.rst=!1,this.cD=t,this.$O.w_(t.f_),this.lD=this.nst()}var n=t.prototype;return n.nst=function(){var t=this;return Ot((function(){var n,i,r,e,u,s,o,h,f;return Rt(this,(function(v){switch(v.label){case 0:(n=t.cD)._D&&(t.Dm=a((function(){t.rst=!0,t.$O.g_()}),n._D),t.$O.f_.l_((function(){c(t.Dm)})));try{i=Ay(n.zu,{method:n.ZD,headers:n.XD.ED(),body:n.HD,credentials:n.tE?"include":"same-origin",signal:By(t.$O.f_),mode:n._v,keepalive:n.sE})}catch(t){throw new wy(n,t)}v.label=1;case 1:return v.trys.push([1,3,,4]),[4,i];case 2:return r=v.sent(),[3,4];case 3:throw e=v.sent(),Bo(u=t.ost(e))&&t.$O.g_(),u;case 4:if(s=r.url||n.zu,o=0===r.status&&"file:"===function(t){return an.Dh(t).protocol}(s)?200:r.status,h=new zy(t,r,t.$O),!qw(f=new ry({ly:h,uD:n,qD:n.qD,XD:Py(r.headers),fD:o,NR:r.statusText,cE:s})))throw new yy(f);return n.iE&&(f=jy(f,n.iE)),[2,f]}}))}))()},n.ost=function(t){return Sy(t)?t:Bo(t)?this.rst?new my(this.cD):new Ro(t.message,t):this.dD?new yy(this.dD,t):new wy(this.cD,t)},t}(),zy=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).JW=new Bc,e.ast=n,e.hst=i,e.$O=r,e.JW.OL.catch(Kn),e}bt(n,t);var i=n.prototype;return i.KW=function(){return this.JW.OL},i.uE=function(t){return this.$W(this.hst.text(),t)},i.GR=function(t){return this.$W(this.hst.arrayBuffer(),t)},i.VW=function(){var t=this.hst.body;return t?this.tH(t):Cw(this.GR().then(Sw),this.$O)},i.eH=function(){var t=this.hst.clone(),i=Gt(this.$O.v_(),2),r=i[0],e=i[1];return this.$O=r,new n(this.ast,t,e)},i.$W=function(t,n){var i=this;n&&this.$O.w_(n);var r=Yo(q.resolve(t),this.$O.f_).catch((function(t){throw i.ast.ost(t)}));return r=Fo(r,this.$O),this.JW.w_(r.then(Kn)),r},i.tH=function(t){var n=this;return new uw(new Qy(t,(function(t){return n.ast.ost(t)}),this.$O,this.JW),{highWaterMark:0})},At(n,[{key:"HW",get:function(){return this.hst.bodyUsed}},{key:"ZW",get:function(){return Rn(this.hst.body)}}]),n}(Pw),Ry="abort";function By(t){if(Iy()){var n=new Ty;if(t.n_)n.abort();else if(!t.r_){var i=function(){r(),n.abort()},r=function(){n.signal.removeEventListener(Ry,i),t.c_(i),t.d_(r)};n.signal.addEventListener(Ry,i),t.u_(i),t.l_(r)}return n.signal}}function Py(t){if(function(t){return Qn(t)&&"function"==typeof t.forEach}(t)){var n=new kl;return t.forEach((function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)})),n}return new kl(t)}var Uy,Qy=function(){function t(t,n,i,r){this.ust=t,this.cst=n,this.$O=i,this.JW=r}var n=t.prototype;return n.start=function(t){this.YV=this.ust.getReader()},n.pull=function(t){var n=this;return Ot((function(){var i,r,e;return Rt(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Yo(n.YV.read(),n.$O.f_)];case 1:return i=u.sent(),[3,3];case 2:return r=u.sent(),e=n.cst(r),n.JW.xL(e),n.$O.g_(),n.YV.cancel(e).catch(Kn),t.error(e),[2];case 3:return i.done?(n.JW.LL(),n.$O.g_(),t.close()):t.enqueue(i.value),[2]}}))}))()},n.cancel=function(t){return this.$O.g_(),this.JW.xL(t),this.YV.cancel(t)},t}();yt(),C(),pt(),function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(Uy||(Uy={}));var Yy=function(){function t(t){var n=this;this.$O=new zo,this.dD=void 0,this.lst=new Bc,this.pst=!1,this.mst=function(){var t;n.fst(),null==(t=n.dst)||t.abort()},this.cD=t,this.$O.w_(t.f_),this.dst=new k,this.nst()}var n=t.prototype;return n.nst=function(){var t=this,n=this.dst,i=this.cD;if(i.f_.n_)return this.fst();n.onreadystatechange=function(){return t._st()},n.onprogress=function(n){return t.ist(n)},n.onload=function(){return t.gst()},n.onloadend=function(){return t.wst()},n.onerror=function(){return t.Iq()},n.ontimeout=function(){return t.vst()},n.onabort=function(){return t.fst()},n.open(i.ZD,i.zu,!0),n.withCredentials=Boolean(i.tE),"responseType"in n&&i.qD&&(i.qD===pl.Ru?n.responseType="text":n.responseType="arraybuffer"),i.XD.forEach((function(t,i){n.setRequestHeader(i,t)})),i._D&&(n.timeout=i._D),this.$O.f_.u_(this.mst);var r=i.HD;r?n.send(r):n.send()},n._st=function(){var t=this.dst;void 0!==t&&t.readyState>=2&&!this.pst&&(this.pst=!0,this.Ast())},n.Ast=function(){var t,n,i=this.dst,r=function(t){var n=new kl,i=t.replace(/\r?\n[\t ]+/g," ");return i.split(/\r?\n/).forEach((function(t){var i=t.split(":"),r=i.shift().trim();if(r){var e=i.join(":").trim();n.append(r,e)}})),n}(i.getAllResponseHeaders()||""),e=this.cD;this.yst=new Bc,this.dD=new ry({uD:e,qD:e.qD,ly:this.yst.OL,fD:i.status,NR:i.statusText,XD:r,cE:null!=(n=i.responseURL)?n:r.get("X-Request-URL")}),null==(t=this.lst)||t.LL(this.dD)},n.gst=function(){var t,n=this.dst;if(void 0!==n){var i=n.response;if(!Rn(i)){var r=this.cD.qD;i=r===pl.Ru?n.responseText:r===pl.SD?new ArrayBuffer(0):{}}null==(t=this.yst)||t.LL(i)}},n.wst=function(){this.gn()},n.ist=function(t){void 0!==this.dst&&(null==this.cD.iE||this.cD.iE.call(this.cD,t.loaded,t.lengthComputable?t.total:void 0))},n.Iq=function(){var t=new v("Network request failed");this.dD?this.Ss(new yy(this.dD,t)):this.Ss(new wy(this.cD,t))},n.vst=function(){this.Ss(new my(this.cD))},n.fst=function(){this.Ss(new Ro),this.gn()},n.Ss=function(t){var n,i;null==(n=null!=(i=this.yst)?i:this.lst)||n.xL(t)},n.gn=function(){this.dst=void 0,this.dD=void 0,this.lst=void 0,this.yst=void 0,this.$O.h_()},At(t,[{key:"lD",get:function(){return this.lst.OL}}]),t}();function Fy(t,n,i){return new q((function(r,e){if(i&&i.n_)return e(new Ro);var u=function(t){o(),r(t)},s=function(){o(),e(new Ro)},o=function(){t.removeEventListener(n,u),i&&i.c_(s)};t.addEventListener(n,u),i&&i.u_(s)}))}yt(),C();var Gy,Vy=function(){function t(){}var n=t.prototype;return n.uD=function(t){return function(t){if(!Ny()||!function(t){try{return Dy.indexOf(new self.URL(t,self.location.href).protocol)>=0}catch(t){return!1}}(t.zu))return!1;if(!Ey()&&t.iE)return!1;if(!t.eE){if(xn.yk&&xn.hk<=68)return!1;if(xn.wk)return!1}return!0}(t)?new Oy(t).lD:new Yy(t).lD},n.NG=function(t){if(uu&&uu.sendBeacon)uu.sendBeacon(t.zu,yl([t.HD],{type:t.Nz}));else{var n=t.Nz?{"Content-type":t.Nz}:void 0;this.uD(new ey({ZD:Jw.POST,zu:t.zu,HD:t.HD,XD:n,_v:iy.mp})).then((function(t){Xo(t.GR())}),Kn)}},n.gn=function(){},t}();function Wy(t){return 1===t.CI}function Xy(t){return 3===t.CI}yt(),C(),pt(),Mt(),yt(),C(),function(t){t[t.OI=1]="OI",t[t.jI=2]="jI",t[t.Ru=3]="Ru",t[t.RI=4]="RI",t[t.zI=9]="zI"}(Gy||(Gy={})),yt(),C(),Mt();var Zy=function(t){function n(n){return t.call(this,"Invalid XML",n)}return bt(n,t),n}(xo),Hy=function(){function t(){}return t.prototype.KI=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new Zy(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new Zy;return new im(n)},t}(),Ky=function(){function t(t){this.Mst=t}var n=t.prototype;return n.xI=function(t){return this.Mst.isEqualNode(t.Mst)},n.UI=function(n){return new t(this.Mst.cloneNode(n))},At(t,[{key:"CI",get:function(){return Gy.jI}},{key:"qI",get:function(){var t;return null!=(t=this.Mst.localName)?t:um(this.Mst.nodeName)}},{key:"l",get:function(){return this.Mst.nodeName}},{key:"bst",get:function(){var t;return null!=(t=this.Mst.namespaceURI)?t:void 0}},{key:"Tst",get:function(){var t;return null!=(t=this.Mst.prefix)?t:void 0}},{key:"lT",get:function(){return this.Mst.nodeValue}}]),t}(),qy=function(){function t(t){this.Sst=void 0,this.Nst=t}var n=t.prototype;return n.XI=function(t){return this.iD.filter((function(n){return rm(n)&&n.WR===t}))},n.HI=function(t,n){return this.iD.filter((function(i){return rm(i)&&i.qI===n&&i.bst===t}))},n.eD=function(t){this.Nst.appendChild(t.TI),this.Sst&&this.Sst.push(t)},n.xI=function(t){return this.Nst.isEqualNode(t.TI)},At(t,[{key:"iD",get:function(){return void 0===this.Sst&&(this.Sst=function(t){for(var n=[],i=0;i<t.length;i++){var r=em(t.item(i));r&&n.push(r)}return n}(this.Nst.childNodes)),this.Sst}},{key:"m",get:function(){return this.iD.filter(rm)}},{key:"TI",get:function(){return this.Nst}}]),t}(),Jy=function(t){function n(n){return t.call(this,n)}bt(n,t);var i=n.prototype;return i.$I=function(t){if(this.Nst.hasAttribute(t))return this.Nst.getAttribute(t)},i.tD=function(t,n){if(this.Nst.hasAttributeNS(t,n))return this.Nst.getAttributeNS(t,n)},i.GI=function(t){this.Nst.removeAttribute(t)},i.Ist=function(t,n){this.Nst.removeAttributeNS(t,n)},i.Dst=function(t,n){this.Nst.setAttribute(t,n)},i.Est=function(t,n,i){this.Nst.setAttributeNS(t,n,i)},i.UI=function(t){return new n(this.Nst.cloneNode(t))},At(n,[{key:"CI",get:function(){return Gy.OI}},{key:"qI",get:function(){var t;return null!=(t=this.Nst.localName)?t:um(this.Nst.nodeName)}},{key:"bst",get:function(){var t;return null!=(t=this.Nst.namespaceURI)?t:void 0}},{key:"Tst",get:function(){var t;return null!=(t=this.Nst.prefix)?t:void 0}},{key:"WR",get:function(){return this.Nst.nodeName}},{key:"ZI",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new Ky(t.item(i)));return n}(this.Nst.attributes)}},{key:"PR",get:function(){return this.Nst.textContent}}]),n}(qy),$y=function(){function t(t){this.Nst=t}return t.prototype.xI=function(t){return this.ly===t.ly},At(t,[{key:"ly",get:function(){return this.Nst.nodeValue}},{key:"TI",get:function(){return this.Nst}}]),t}(),tm=function(t){function n(n){return t.call(this,n)}return bt(n,t),n.prototype.UI=function(t){return new n(this.Nst.cloneNode(t))},At(n,[{key:"CI",get:function(){return Gy.Ru}}]),n}($y),nm=function(t){function n(n){return t.call(this,n)}return bt(n,t),n.prototype.UI=function(t){return new n(this.Nst.cloneNode(t))},At(n,[{key:"CI",get:function(){return Gy.RI}}]),n}($y),im=function(t){function n(n){return t.call(this,n)}return bt(n,t),n.prototype.UI=function(t){return new n(this.Nst.cloneNode(t))},At(n,[{key:"CI",get:function(){return Gy.zI}},{key:"JI",get:function(){return new Jy(this.Nst.documentElement)}}]),n}(qy);function rm(t){return Wy(t)}function em(t){switch(t.nodeType){case Gy.OI:return new Jy(t);case Gy.Ru:return new tm(t);case Gy.RI:return new nm(t)}}function um(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}var sm=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).kst=void 0,n.xst=Ey(),n.Cst=xn.qk||xn.XE,n.Ost=(xn.qk||xn.yk&&xn.hk<=68||xn.XE)&&!(xn.wk&&xn.pk<3),n.Ust=void 0,n.Qst=new Hy,n}return bt(n,t),n.prototype.KI=function(t){return this.Qst.KI(t)},At(n,[{key:"Zet",get:function(){return this.kst||(this.kst=new $s(ll())),this.kst}},{key:"Lst",get:function(){return this.xst}},{key:"n1",get:function(){return this.Cst}},{key:"S1",get:function(){return this.Ost}},{key:"jst",get:function(){return!1}},{key:"NP",get:function(){return gl.RF()}},{key:"Rst",get:function(){return{Pst:ml}}},{key:"zst",get:function(){return o.connection&&o.connection.effectiveType||_l}},{key:"Bst",get:function(){return o.connection&&o.connection.type||"unknown"}},{key:"Hj",get:function(){return this.Ust||(this.Ust=new sy(new Vy)),this.Ust}}]),n}(Ku);!function(t){an=t}(new sm),yt(),C(),zt(),pt(),Mt(),Ut(),yt(),C(),Mt();var om=function(t){function n(n,i){var r;return(r=t.call(this,Al.fm)||this).currentTime=n,r.currentProgramDateTime=i,r}return bt(n,t),n}(ra);yt(),C(),Mt(),yt(),C(),pt(),Mt(),yt(),C(),Mt(),yt(),C(),Mt(),yt(),C(),pt(),Mt();var am=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Xa=void 0,r}return bt(n,t),At(n,[{key:"va",get:function(){return this.Xa||(this.Xa=this.fa()),this.Xa}}]),n}(ra);function cm(t){return Boolean(t&&t.va)}var hm,fm=function(t){function n(n){return t.call(this,n)}return bt(n,t),n}(am),vm=function(t){function n(n){return t.call(this,n)}return bt(n,t),n}(ra);yt(),C(),function(t){t.hw="aw",t.uw="cw"}(hm||(hm={}));var lm=function(t){function n(n){var i;return(i=t.call(this,hm.hw)||this).Lt=n,i}return bt(n,t),n.prototype.fa=function(){return new dm(this.Lt.va)},n}(fm),dm=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return bt(n,t),n}(vm);yt(),C(),Mt();var gm,wm=function(t){function n(n){var i;return(i=t.call(this,hm.uw)||this).Lt=n,i}return bt(n,t),n.prototype.fa=function(){return new ym(this.Lt.va)},n}(fm),ym=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return bt(n,t),n}(vm);yt(),C(),function(t){t.lw="dw",t.fw="_w",t.gw="ww",t.mw="pw",t.Aw="yw",t.Mw="Tw",t.ra="Sw",t.Nw="Iw",t.Dw="Ew",t.Lw="Yn",t.xw="Cw",t.Ow="jw",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(gm||(gm={}));var mm=function(t){function n(){var n;return(n=t.call(this)||this).Pw=[],n.Xa=void 0,n}bt(n,t);var i=n.prototype;return i.zw=function(t){return this.Pw[t]},i.tt=function(t){return!(!t||mo(this.Pw,t))&&(this.Pw.push(t),this.Xa&&this.Xa.push(t.va),t.yn(gm.ra,this.Ds),this.Co(new lm(t)),!0)},i.it=function(t){if(!t)return!1;var n=this.Pw.indexOf(t);return!(n<0)&&(wo(this.Pw,n),this.Xa&&wo(this.Xa,n),t.fn(gm.ra,this.Ds),this.Co(new wm(t)),!0)},i.Bw=function(t){return mo(this.Pw,t)},i.tr=function(){for(var t=this.Pw,n=t.length-1;n>=0;n-=1)this.it(t[n])},i.gn=function(){this.tr(),this.Vo()},At(n,[{key:"Rw",get:function(){return this.Pw}},{key:"va",get:function(){return this.Xa||(this.Xa=this.fa()),this.Xa}},{key:"U",get:function(){return this.Pw.length}}]),n}($o);yt(),C(),yt(),C(),yt(),C();var Am=g.freeze||qn;function pm(t,n,i){g.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function _m(t){return Am(t)}function km(t,n){for(var i=0,r=g.getOwnPropertyNames(n);i<r.length;i++){var e=r[i];g.defineProperty(t,e,g.getOwnPropertyDescriptor(n,e))}return t}function bm(t){if(Yn(t)){var n={};for(var i in t)On.call(t,i)&&(n[i]=bm(t[i]));return n}if(Pn(t)){for(var r=new Array(t.length),e=0;e<r.length;e++)e in t&&(r[e]=bm(t[e]));return r}return t}function Mm(t,n){return t===n||!(!t||!n)&&(!(!Qn(t)||!Qn(n))&&(Un(t)?!!Un(n)&&function(t,n){var i=t.length,r=n.length;if(i!==r)return!1;for(var e=0;e<i;e+=1)if(!Mm(t[e],n[e]))return!1;return!0}(t,n):!Un(n)&&function(t,n){var i=g.keys(t),r=g.keys(n);if(!i||!r||i.length!==r.length)return!1;for(var e=0;e<i.length;e++){var u=i[e];if(!On.call(n,u)||!Mm(t[u],n[u]))return!1}return!0}(t,n)))}function Tm(t,n){if(!Qn(t))return!1;for(var i=0;i<n.length;i++){if(!(n[i]in t))return!1}return!0}function Nm(t,n){return t.constructor===n.constructor}function Dm(t){for(var n={},i=0,r=g.keys(t);i<r.length;i++){var e=r[i],u=t[e];null!=u&&(n[e]=u)}return n}function Im(t){for(var n={},i=0,r=g.keys(t);i<r.length;i++){var e=r[i],u=t[e];if(Un(u)){for(var s=[],o=0;o<u.length;o+=1){var a=u[o];if(null!=a){var c=Qn(a)?Im(a):a;s.push(c)}}n[e]=s}else null!=u&&(n[e]=Qn(u)?Im(u):u)}return n}function Em(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function Sm(t){return Rn(t)?Em(t):void 0}function Lm(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function jm(t){var n=Lm(t);if(A(n))throw new v("Expected a valid number.");return n}function Cm(t){return"string"==typeof t?t:""}function xm(t,n){if(!Un(t))return[];for(var i=0|t.length,r=new Array(i),e=0;e<i;e++)r[e]=n(t[e]);return r}function Om(t,n){return Un(t)?xm(t,n):n(t)}yt(),C();var zm,Rm=[hm.hw,hm.uw,gm.ra];function Bm(t){var n,i=t.Rw.map((function(t){return t.va}));return i.item=function(n){var i=0|n,r=t.zw(i);return r&&r.va||void 0},i.addEventListener=function(t,i){n.yn(t,i)},i.removeEventListener=function(t,i){n.fn(t,i)},n=new ta(i),t.yn(Rm,(function(t){return n.Co(t.va)})),i}function Pm(t){switch(t){case 0:return"caption";case 2:return"sign";case 1:return"description";case 3:return"enhanced audio intelligibility";case 4:return"easy reader";case 5:return"transcribes spoken dialog";case 6:return"describes music and sound";case 7:return"describes video"}}function Um(){}function Qm(t){var n,i=[gm.Lw,gm.ra,gm.xw,gm.Ow,gm.QUALITY_UNAVAILABLE],r={get activeQuality(){return t.Hw&&t.Hw.va},get enabled(){return t.Rt},set enabled(n){t.Rt=Em(n)},get id(){return t.o},get uid(){return t.Xw},get kind(){return t.zt},get label(){return t.kh},set label(n){t.kh=Cm(n)},get accessibility(){var n,i;return null!=(i=null==(n=t.Zw)?void 0:n.map(Pm))?i:[]},get language(){return t.gs},get qualities(){return t.qw.va},set targetQuality(n){var i;i=n?function(t,n){for(var i=[],r=0,e=t.qw.Rw;r<e.length;r++)for(var u=e[r],s=0;s<n.length;s++){var o=n[s];u.va===o&&i.push(u)}return i}(t,Pn(n)?n:[n]):[],i.length>0?t.Kw=i:t.Kw=void 0},get targetQuality(){if(t.Kw)return 1===t.Kw.length?t.Kw[0].va:t.Kw.map((function(t){return t.va}))},addEventListener:function(t,i){var r=Om(t,Cm);n.yn(r,i)},removeEventListener:function(t,i){var r=Om(t,Cm);n.fn(r,i)}};return n=new ta(r),t.yn(i,(function(t){return n.Co(t.va)})),g.defineProperty(r,"constructor",{value:Um}),r}function Ym(){}function Fm(t){var n=Bm(t);return g.defineProperty(n,"constructor",{value:Ym}),n}yt(),C(),function(t){t[t.Jw=0]="Jw",t[t.$w=1]="$w",t[t.rv=2]="rv",t[t.ov=3]="ov",t[t.hv=4]="hv",t[t.TRANSCRIBES_SPOKEN_DIALOG=5]="TRANSCRIBES_SPOKEN_DIALOG",t[t.DESCRIBES_MUSIC_AND_SOUND=6]="DESCRIBES_MUSIC_AND_SOUND",t[t.uv=7]="uv"}(zm||(zm={}));var Gm,Vm=function(t){function n(){return t.apply(this,arguments)}bt(n,t);var i=n.prototype;return i.tt=function(n){return t.prototype.tt.call(this,n)},i.fa=function(){return Fm(this)},n}(mm);yt(),C(),yt(),C(),function(t){t.WA="audio",t.VA="video",t.Ru="text",t.OT="image",t.jT="unknown"}(Gm||(Gm={})),yt(),C(),Xt(),pt(),Mt(),yt(),C(),pt(),Mt();var Wm,Xm=function(t){function n(n,i,r,e,u,s,o,a){var c;return(c=t.call(this,n,i,r)||this).url=e,c.status=u,c.statusText=s,c.response=o,c.systemCode=a,c}return bt(n,t),At(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(Kv);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(Wm||(Wm={}));var Zm=function(t){function n(n,i,r,e){var u;return(u=t.call(this,i)||this).code=n,u.message=null!=i?i:"Unknown error",u.cause=r,u.systemCode=e,v.captureStackTrace&&v.captureStackTrace(Wt(u),u.constructor),u}return bt(n,t),At(n,[{key:"name",get:function(){return"MediaError"}}]),n}(Co);function Hm(t){pm(t,"MEDIA_ERR_ABORTED",1),pm(t,"MEDIA_ERR_NETWORK",2),pm(t,"MEDIA_ERR_DECODE",3),pm(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",4),pm(t,"MEDIA_ERR_ENCRYPTED",5)}function Km(t){var n,i;return function(t){return t.category===Zv.CONTENT_PROTECTION}(t)?new Zm(5,t.message,null==(n=t.cause)?void 0:n.message,t.systemCode):new Zm(qm(t.code),t.message,null==(i=t.cause)?void 0:i.message)}function qm(t){if(t===Xv.MEDIA_ABORTED)return 1;if(t===Xv.MANIFEST_LOAD_ERROR||t===Xv.MEDIA_LOAD_ERROR||t===Xv.SUBTITLE_LOAD_ERROR)return 2;if(t===Xv.MEDIA_DECODE_ERROR)return 3;if(t===Xv.MEDIA_NOT_SUPPORTED)return 4;var n=Zv.fromCode(t);return n===Zv.NETWORK?2:n===Zv.SOURCE?4:n===Zv.LICENSE?6:n===Zv.CONTENT_PROTECTION?5:n===Zv.AD?7:3}function Jm(t){return new Kv($m(t.code),t.message,t)}function $m(t){switch(t){case 1:return Xv.MEDIA_ABORTED;case 2:return Xv.NETWORK_ERROR;case 3:return Xv.MEDIA_DECODE_ERROR;case 4:return Xv.SOURCE_NOT_SUPPORTED;case 5:return Xv.CONTENT_PROTECTION_ERROR;case 6:return Xv.LICENSE_ERROR;case 7:return Xv.AD_ERROR}}Hm(Zm),Hm(Zm.prototype),yt(),C(),pt(),Mt(),yt(),C(),Mt();var tA=function(t){function n(){return t.apply(this,arguments)}return bt(n,t),n}(na);yt(),C(),pt(),yt(),C();var nA=function(){function t(){this.sS=[],this.Xa=void 0}var n=t.prototype;return n.nS=function(t){this.sS.push(t),this.Xa&&this.Xa.push(t.va)},n.rS=function(t){go(this.sS,t),this.Xa&&go(this.Xa,t.va)},n.zw=function(t){return this.sS[t]},n.oS=function(t){return Pn(t)?function(t,n){for(var i=0;i<n.length;i++)if(!mo(t,n[i]))return!1;return!0}(this.sS,t):mo(this.sS,t)},n.tr=function(){po(this.sS),this.Xa&&po(this.Xa)},At(t,[{key:"Rw",get:function(){return this.sS}},{key:"U",get:function(){return this.sS.length}},{key:"va",get:function(){return this.Xa||(this.Xa=function(t){var n=t.Rw.map((function(t){return t.va}));return n.item=function(n){var i=0|n,r=t.zw(i);return r&&r.va||void 0},n}(this)),this.Xa}}]),t}();yt(),C(),Mt();var iA=function(t){function n(n){var i;return(i=t.call(this,gm.ra)||this).Lt=n,i}return bt(n,t),n.prototype.fa=function(){return new rA(this.Lt.va)},n}(fm),rA=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return bt(n,t),n}(vm);yt(),C(),Mt();var eA=function(t){function n(n){var i;return(i=t.call(this,gm.Lw)||this).Lt=n,i}return bt(n,t),n.prototype.fa=function(){return new uA(this.Lt.va)},n}(fm),uA=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return bt(n,t),n}(vm);yt(),C();var sA=0;function oA(){return sA++}var aA=0;var cA=0;function hA(){return cA++}var fA=0;function vA(){return fA++}var lA=0;var dA=function(t){function n(n){var i;return(i=t.call(this)||this).Av=Gm.WA,i.Le=!1,i.Xa=void 0,i.aS=n,i.cS=oA(),i.uS=lA+++"",i.lS=n.label,i.sS=new nA,i._S(),i}bt(n,t);var i=n.prototype;return i.fS=function(t){this.Rt=t},i._S=function(){this.Rt=this.hS},At(n,[{key:"Hw",get:function(){}},{key:"Rt",get:function(){return this.Le},set:function(t){this.Le!==t&&(this.Le=t,this.hS=t,this.Co(new iA(this)))}},{key:"hS",get:function(){return this.aS.enabled},set:function(t){this.aS.enabled=t}},{key:"va",get:function(){return this.Xa||(this.Xa=Qm(this)),this.Xa}},{key:"o",get:function(){return this.uS}},{key:"Xw",get:function(){return this.cS}},{key:"zt",get:function(){return this.aS.kind}},{key:"kh",get:function(){return this.lS},set:function(t){t!==this.lS&&(this.lS=t,this.Co(new eA(this)))}},{key:"gs",get:function(){return this.aS.language}},{key:"_v",get:function(){return this.Rt?"enabled":"disabled"}},{key:"dS",get:function(){return this.aS}},{key:"qw",get:function(){return this.sS}},{key:"Kw",get:function(){},set:function(t){}}]),n}($o);yt(),C(),pt(),Mt();var gA=0;var wA=function(t){function n(n){var i;return(i=t.call(this)||this).Av=Gm.VA,i.Le=!1,i.Xa=void 0,i.aS=n,i.cS=oA(),i.uS=gA+++"",i.sS=new nA,i.lS=n.label,i._S(),i}bt(n,t);var i=n.prototype;return i._S=function(){this.Rt=this.hS},i.fS=function(t){this.Rt=t},At(n,[{key:"Hw",get:function(){}},{key:"Rt",get:function(){return this.Le},set:function(t){this.Le!==t&&(this.Le=t,this.hS=t,this.Co(new iA(this)))}},{key:"hS",get:function(){return!!this.aS.selected},set:function(t){this.aS.selected=t}},{key:"va",get:function(){return this.Xa||(this.Xa=Qm(this)),this.Xa}},{key:"o",get:function(){return this.uS}},{key:"Xw",get:function(){return this.cS}},{key:"zt",get:function(){return"main"}},{key:"kh",get:function(){return this.lS},set:function(t){t!==this.lS&&(this.lS=t,this.Co(new eA(this)))}},{key:"gs",get:function(){return this.aS.language}},{key:"_v",get:function(){return this.Rt?"enabled":"disabled"}},{key:"dS",get:function(){return this.aS}},{key:"qw",get:function(){return this.sS}},{key:"Kw",get:function(){},set:function(t){}}]),n}($o);yt(),C(),Mt();var yA,mA,AA,pA=function(t){function n(n){var i;return(i=t.call(this,Al.Mv)||this).K_=n,i}return bt(n,t),n}(ra);function _A(t){switch(t){case"":case"srt":case"ttml":case"webvtt":case"emsg":case"eventstream":case"id3":case"cea608":case"daterange":return!0;default:return!1}}yt(),C(),zt(),Mt(),Ut(),yt(),C(),function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(yA||(yA={})),yt(),C(),function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(mA||(mA={})),yt(),C(),yt(),C(),function(t){t.gS="cue",t.wS="region",t.vS="stylesheet"}(AA||(AA={})),yt(),C(),pt(),Mt(),yt(),C();var kA,bA={"line-left":"start",center:"middle","line-right":"end"},MA={start:"line-left",middle:"center",end:"line-right"};function TA(t,n){if("auto"===t)switch(n){case"start":case"left":return"line-left";case"end":case"right":return"line-right";default:return"center"}return t}function NA(t,n){if("auto"===t)switch(n){case"left":return 0;case"right":return 100;default:return 50}return function(t,n){var i="number"==typeof t?t:m(t);return A(i)?n:i}(t,50)}yt(),C(),yt(),C(),yt(),C(),Mt(),function(t){t.mS="mo",t.pS="So",t.Lw="Yn"}(kA||(kA={}));var DA=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).yS=i,r}return bt(n,t),n}(fm),IA=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).cue=i,r}return bt(n,t),n}(vm);function EA(t){var n,i=[kA.mS,kA.pS,kA.Lw],r={get track(){return t.Lt.va},get id(){return t.o},get uid(){return t.Xw},get startTime(){return t.MS},set startTime(n){t.MS=n},get endTime(){return t.bS},set endTime(n){t.bS=n},get content(){return t.O},addEventListener:function(t,i){var r=Om(t,Cm);n.yn(r,i)},removeEventListener:function(t,i){var r=Om(t,Cm);n.fn(r,i)}};return n=new ta(r),t.yn(i,(function(t){return n.Co(t.va)})),r}function SA(){}function LA(t){return km(EA(t),{get align(){return t.TS},get line(){return t.SS},get lineAlign(){return t.NS},get position(){return t.po},get positionAlign(){return t.IS},get region(){return t.DS?t.DS.va:null},get size(){return t.By},get snapToLines(){return t.ES},get text(){return t.O},get vertical(){return t.Pt}})}yt(),C(),pt(),Mt(),yt(),C(),Mt();var jA=function(t){function n(n){return t.call(this,kA.Lw,n)}return bt(n,t),n.prototype.fa=function(){return new CA(this.yS.va)},n}(DA),CA=function(t){function n(n){return t.call(this,"update",n)}return bt(n,t),n}(IA);yt(),C(),Mt();var xA=function(t){function n(n){var i;return(i=t.call(this,gm.gw)||this).yS=n,i}return bt(n,t),n.prototype.fa=function(){return new OA(this.yS.va)},n}(fm),OA=function(t){function n(n){var i;return(i=t.call(this,"updatecue")||this).cue=n,i}return bt(n,t),n}(vm),zA=.02;function RA(t,n){return Ui(t.kS,n.kS,zA)&&Ui(t.LS,n.LS,zA)&&t.o===n.o}var BA=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).Xa=void 0,s.CS=void 0,s.ho=!1,s.GS=-1,s.cS=vA(),s.xS=n,s.RS=i,s.kS=n,s.LS=i,s.PS=r,s.US=Boolean(e),s.uS=null!=u?u:"",s}bt(n,t);var i=n.prototype;return i.fa=function(){return EA(this)},i.QS=function(t){return this===t||Nm(this,t)&&RA(this,t)&&this.FS(t)},i.FS=function(t){return Mm(this.O,t.O)},i.YS=function(t,n){this.xS=t,this.RS=n,this.kS=t,this.LS=n},i.gn=function(){this.Vo()},At(n,[{key:"MS",get:function(){return this.xS},set:function(t){var n,i;this.xS!==t&&(this.xS=t,null==(n=this.CS)||n.jS(this),this.Co(new jA(this)),null==(i=this.CS)||i.Co(new xA(this)))}},{key:"bS",get:function(){return this.RS},set:function(t){var n,i;this.RS!==t&&(this.RS=t,null==(n=this.CS)||n.jS(this),this.Co(new jA(this)),null==(i=this.CS)||i.Co(new xA(this)))}},{key:"o",get:function(){return this.uS}},{key:"Xw",get:function(){return this.cS}},{key:"va",get:function(){return this.Xa||(this.Xa=this.fa()),this.Xa}},{key:"ro",get:function(){return this.ho},set:function(t){this.ho=t}},{key:"Lt",get:function(){return this.CS},set:function(t){this.CS=t}},{key:"O",get:function(){return this.PS},set:function(t){var n;this.PS!==t&&(this.PS=t,this.Co(new jA(this)),null==(n=this.CS)||n.Co(new xA(this)))}},{key:"zS",get:function(){return this.US},set:function(t){this.US=t}}]),n}($o);function PA(t,n){return t.O===n.O&&t.SS===n.SS&&t.NS===n.NS&&t.po===n.po&&t.IS===n.IS&&t.DS===n.DS&&t.ES===n.ES&&t.By===n.By&&t.TS===n.TS&&t.Pt===n.Pt}var UA=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i,r,e,u)||this).SS="auto",s.NS="start",s.po="auto",s.IS="auto",s.DS=void 0,s.ES=!0,s.By=100,s.TS="center",s.Pt="",s}return bt(n,t),n.prototype.FS=function(t){return PA(this,t)},At(n,[{key:"va",get:function(){return this.Xa||(this.Xa=LA(this)),this.Xa}},{key:"Av",get:function(){return AA.gS}}]),n}(BA);function QA(t){var n=t.SS,i=Xn(n);return i&&!t.ES&&(n<0||n>100)?100:i?Number(n):t.ES?-1:100}function YA(t){return NA(t.po,t.TS)}function FA(t){return TA(t.IS,t.TS)}function GA(t){var n,i=FA(t),r=YA(t);switch(i){case"line-left":n=100-r;break;case"line-right":n=r;break;case"center":n=r<=50?2*r:2*(100-r)}return w.min(t.By,n)}function VA(t){return{get id(){return t.o},get identifier(){return t.o},get lines(){return t.VS},get regionAnchorX(){return t.WS},get regionAnchorY(){return t.HS},get scrollValue(){return t.XS},get viewportAnchorX(){return t.ZS},get viewportAnchorY(){return t.qS},get width(){return t.ji}}}yt(),C(),pt(),yt(),C();var WA=function(){function t(t,n,i,r,e,u,s,o){this.o=t,this.ji=n,this.VS=i,this.WS=r,this.HS=e,this.ZS=u,this.qS=s,this.XS=o}return At(t,[{key:"va",get:function(){return this.Xa||(this.Xa=VA(this)),this.Xa}},{key:"Av",get:function(){return AA.wS}}]),t}();yt(),C(),yt(),C();var XA=1e6,ZA=function(){function t(){}var n=t.prototype;return n.KS=function(t){return this.JS()*t},n.$S=function(t){return this.tN(t)>0},n.iN=function(t){return this.tN(t)>=0},n.eN=function(t,n){return this.nN(t).sN(n)},n.QS=function(t){return 0===this.tN(t)},n.rN=function(t){return this.tN(t)<0},n.sN=function(t){return this.tN(t)<=0},n.oN=function(){return this.hN()?this.aN():this},n.uN=function(t){return this.nS(t.aN())},n.nN=function(t){return this.uN(t).oN()},t}();function HA(t,n){return t.cN()?n.cN()?Js.Zr:Js.Jf:n.cN()?Js.$f:t.lN()?n.lN()&&t.hN()===n.hN()?Js.Zr:t.hN()?Js.$f:Js.Jf:n.hN()?Js.Jf:Js.$f}yt(),C(),Mt(),Vt(),yt(),C(),Vt();var KA=4294967296,qA=KA*KA,JA=qA*qA,$A=JA/2,tp=function(){function t(t,n){this.bN=t,this.yN=n}var n=t.prototype;return n.AN=function(){return this.yN.unsigned},n.MN=function(){return this.bN.isZero()&&this.yN.isZero()},n.hN=function(){return this.yN.isNegative()},n.TN=function(){return this.AN()?t.dN(this.bN,this.yN,!1):this},n.SN=function(){return this.AN()?this:t.dN(this.bN,this.yN,!0)},n.NN=function(){return this.bN},n.JS=function(){return this.hN()?-this.aN().JS():this.yN.toNumber()*qA+this.bN.toUnsigned().toNumber()},n.DN=function(){return this.bN.toInt()},n.QS=function(t){return(this.AN()===t.AN()||this.yN.getHighBits()>>>31!=1||t.yN.getHighBits()>>>31!=1)&&(this.yN.toUnsigned().eq(t.yN.toUnsigned())&&this.bN.toUnsigned().eq(t.bN.toUnsigned()))},n.tN=function(t){if(this.QS(t))return Js.Zr;var n=this.hN(),i=t.hN();if(n&&!i)return Js.$f;if(!n&&i)return Js.Jf;if(!this.AN())return this.uN(t).hN()?Js.$f:Js.Jf;var r=this.SN(),e=t.SN(),u=e.yN.comp(r.yN);return u>0||0===u&&e.bN.gt(r.bN)?Js.$f:Js.Jf},n.rN=function(t){return this.tN(t)<0},n.sN=function(t){return this.tN(t)<=0},n.EN=function(t){return this.tN(t)>0},n.kN=function(t){return this.tN(t)>=0},n.LN=function(){return new t(this.bN.not(),this.yN.not())},n.xN=function(n){return new t(this.bN.and(n.bN),this.yN.and(n.yN))},n.CN=function(n){return new t(this.bN.or(n.bN),this.yN.or(n.yN))},n.ON=function(n){var i=127&n;return 0===i?this:i<64?t.dN(this.bN.shl(i),this.yN.shl(i).or(this.bN.shru(64-i)),this.AN()):t.dN(Oi.ZERO,this.bN.shl(i-64),this.AN())},n.jN=function(n){var i=127&n;return 0===i?this:i<64?t.dN(this.bN.shru(i).or(this.yN.shl(64-i)),this.yN.shr(i),this.AN()):t.dN(this.yN.shr(i-64),this.yN.isNegative()?Oi.NEG_ONE:Oi.ZERO,this.AN())},n.RN=function(n){var i=127&n;return 0===i?this:i<64?t.dN(this.bN.shru(i).or(this.yN.shl(64-i)),this.yN.shru(i),this.AN()):64===i?t.dN(this.yN,Oi.ZERO,this.AN()):t.dN(this.yN.shru(i-64),Oi.ZERO,this.AN())},n.nS=function(n){var i=this.yN.high>>>16,r=65535&this.yN.high,e=this.yN.low>>>16,u=65535&this.yN.low,s=this.bN.high>>>16,o=65535&this.bN.high,a=this.bN.low>>>16,c=65535&this.bN.low,h=n.yN.high>>>16,f=65535&n.yN.high,v=n.yN.low>>>16,l=65535&n.yN.low,d=n.bN.high>>>16,g=65535&n.bN.high,w=n.bN.low>>>16,y=0,m=0,A=0,p=0,_=0,k=0,b=0,M=0;b+=(M+=c+(65535&n.bN.low))>>>16,M&=65535,k+=(b+=a+w)>>>16,b&=65535,_+=(k+=o+g)>>>16,k&=65535,p+=(_+=s+d)>>>16,_&=65535,A+=(p+=u+l)>>>16,p&=65535,m+=(A+=e+v)>>>16,A&=65535,y+=(m+=r+f)>>>16,m&=65535,y+=i+h,y&=65535;var T=this.AN(),N=Oi.fromBits(A<<16|p,y<<16|m,T),D=Oi.fromBits(b<<16|M,_<<16|k,T);return t.dN(D,N,T)},n.uN=function(t){return this.nS(t.aN())},n.aN=function(){return this.LN().nS(t.PN)},n.zN=function(n){if(this.MN()||n.MN())return this.AN()?t.gN:t.wN;if(this.hN())return n.hN()?this.aN().zN(n.aN()):this.aN().zN(n).aN();if(n.hN())return this.zN(n.aN()).aN();if(this.yN.isZero()&&0===this.bN.high&&n.yN.isZero()&&0===n.bN.high)return t.fN(this.bN.multiply(n.bN));var i=Oi.fromBits(4294967295,0,!0),r=this.bN.and(i),e=this.bN.shru(32),u=this.yN.and(i),s=this.yN.shru(32),o=n.bN.and(i),a=n.bN.shru(32),c=n.yN.and(i),h=n.yN.shru(32),f=Oi.UZERO,v=Oi.UZERO,l=Oi.UZERO,d=Oi.UZERO;f=f.add(r.mul(o)),v=v.add(f.shru(32)),f=f.and(i),v=v.add(e.mul(o)),l=l.add(v.shru(32)),v=(v=v.and(i)).add(r.mul(a)),l=l.add(v.shru(32)),v=v.and(i),l=l.add(u.mul(o)),d=d.add(l.shru(32)),l=(l=l.and(i)).add(e.mul(a)),d=d.add(l.shru(32)),l=(l=l.and(i)).add(r.mul(c)),d=d.add(l.shru(32)),l=l.and(i),d=d.add(s.mul(o)).add(u.mul(a)).add(e.mul(c)).add(r.mul(h)).and(i);var g=Oi.fromBits(f.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),w=Oi.fromBits(l.getLowBitsUnsigned(),d.getLowBitsUnsigned(),!0);return t.dN(g,w,this.AN())},n.BN=function(n){var i,r,e=n;if(e.MN())throw new RangeError("division by zero");if(this.MN())return this.AN()?[t.gN,t.gN]:[t.wN,t.wN];if(this.AN()){if(e.AN()||(e=e.SN()),e.EN(this))return[t.gN,this];if(e.EN(this.RN(1)))return[r=t.UN,i=this.uN(e)];r=t.gN}else{if(this.QS(t.mN)){if(e.QS(t.PN)||e.QS(t.QN))return[t.mN,t.wN];if(e.QS(t.mN))return[t.PN,t.wN];var u=this.jN(1).FN(e).ON(1);return u.QS(t.wN)?r=e.hN()?t.PN:t.QN:(i=this.uN(e.zN(u)),r=u.nS(i.FN(e))),[r,i=this.uN(e.zN(r))]}if(e.QS(t.mN))return this.AN()?[t.gN,this]:[t.wN,this];var s,o;if(this.hN())return e.hN()?this.aN().BN(e.aN()):(r=(s=Gt(this.aN().BN(e),2))[0],i=s[1],[r.aN(),i.aN()]);if(e.hN())return r=(o=Gt(this.BN(e.aN()),2))[0],i=o[1],[r.aN(),i.aN()];r=t.wN}for(i=this;i.kN(e);){for(var a=w.max(1,w.floor(i.JS()/e.JS())),c=w.ceil(w.log(a)/w.LN2),h=c<=48?1:w.pow(2,c-48),f=t._N(a),v=f.zN(e);v.hN()||v.EN(i);)a-=h,v=(f=t._N(a,this.AN())).zN(e);f.MN()&&(f=t.PN),r=r.nS(f),i=i.uN(v)}return[r,i]},n.FN=function(t){return this.BN(t)[0]},n.YN=function(t){return this.BN(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.MN())return"0";if(this.hN()){if(this.QS(t.mN)){var r=t._N(i),e=this.FN(r),u=e.zN(r).uN(this);return e.toString(i)+u.DN().toString(i)}return"-"+this.aN().toString(i)}for(var s=t._N(w.pow(i,6),this.AN()),o=this,a="";;){var c=o.FN(s),h=(o.uN(c.zN(s)).DN()>>>0).toString(i);if((o=c).MN())return h+a;for(;h.length<6;)h="0"+h;a=String(h)+a}},t.dN=function(n,i,r){return r?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.fN=function(n){return n.unsigned?new t(n,Oi.UZERO):new t(n,n.isNegative()?Oi.NEG_ONE:Oi.ZERO)},t._N=function(n,i){if(A(n))return i?t.gN:t.wN;if(i){if(n<0)return t.gN;if(n>=JA)return t.vN}else{if(n<=-$A)return t.mN;if(n+1>=$A)return t.pN}return n<0?t._N(-n,i).aN():t.dN(Oi.fromNumber(n%qA),Oi.fromNumber(n/qA),i)},t}();tp.wN=tp.fN(Oi.ZERO),tp.gN=tp.fN(Oi.UZERO),tp.PN=tp.fN(Oi.ONE),tp.UN=tp.fN(Oi.UONE),tp.QN=tp.fN(Oi.NEG_ONE),tp.pN=tp.dN(Oi.NEG_ONE,Oi.MAX_VALUE,!1),tp.vN=tp.dN(Oi.MAX_UNSIGNED_VALUE,Oi.MAX_UNSIGNED_VALUE,!0),tp.mN=tp.dN(Oi.ZERO,Oi.MIN_VALUE,!1),yt(),C(),pt();var np=function(){function t(t,n){void 0===n&&(n=1),this.GN=t,this.cM=n}var n=t.prototype;return n.nS=function(n){return this.cM>=n.cM?new t(this.GN+n.ZN(this.cM).GN,this.cM):new t(this.ZN(n.cM).GN+n.GN,n.cM)},n.$S=function(t){return t.rN(this)},n.iN=function(t){return t.sN(this)},n.nN=function(n){return this.cM>=n.cM?new t(w.abs(this.GN-n.ZN(this.cM).GN),this.cM):n.nN(this)},n.eN=function(t,n){return this.nN(t).sN(n)},n.tN=function(t){return function(t,n){return t.cM>=n.cM?oo(t.GN,n.ZN(t.cM).GN):oo(t.ZN(n.cM).GN,n.GN)}(this,t)},n.QS=function(t){return 0===this.tN(t)},n.rN=function(t){return this.tN(t)<0},n.sN=function(t){return this.tN(t)<=0},n.ZN=function(n){return new t(this.GN*(n/this.cM),n)},n.uN=function(n){return this.cM>=n.cM?new t(this.GN-n.ZN(this.cM).GN,this.cM):new t(this.ZN(n.cM).GN-n.GN,n.cM)},n.qN=function(n){return new t(this.GN*n,this.cM)},t.VN=function(n){return new t(w.ceil(n.GN),n.cM)},t.WN=function(n){return new t(w.floor(n.GN),n.cM)},t.HN=function(t,n){return t.iN(n)?t:n},t.XN=function(t,n){return t.sN(n)?t:n},At(t,[{key:"lN",get:function(){return!isFinite(this.GN)}},{key:"Kl",get:function(){return this.GN/this.cM}}]),t}();np.Zl=new np(1/6,1),np.wN=new np(0),np.KN=new np(1/0),np.JN=1e6;var ip=function(t){function n(n,i){var r;return(r=t.call(this)||this).lT=n.toSigned(),r.cM=i>>>0,r}bt(n,t);var i=n.prototype;return i.hN=function(){return this.lT.isNegative()},i.MN=function(){return 0!==this.cM&&this.lT.isZero()},i.lN=function(){return 0===this.cM&&!this.lT.isZero()},i.cN=function(){return 0===this.cM&&this.lT.isZero()},i.JS=function(){if(0===this.cM)return this.lT.isZero()?NaN:this.lT.isNegative()?-1/0:1/0;var t=this.lT.divide(this.cM),n=this.lT.subtract(t.multiply(this.cM));return t.toNumber()+n.toNumber()/this.cM},i.NN=function(){if(0===this.cM)throw new v("Failed to convert timestamp");return this.lT},i.oI=function(){return new Date(0===this.cM?NaN:this.ZN(1e3).lT.toNumber())},i.hI=function(){return new np(0===this.cM?this.JS():this.lT.toNumber(),this.cM)},i.ZN=function(t,i){void 0===i&&(i=rp.aI);var r=this.cM;if(r===t)return this;if(0===r)return this;var e=Vi(r,t),u=function(t,n,i){var r=Gt(t.BN(n),2),e=r[0],u=r[1];if(u.MN())return e;if(i===rp.aI)return u.hN()?e.uN(tp.PN):e;if(i===rp.uI)return u.hN()?e:e.nS(tp.PN);var s=u.zN(tp._N(2));return s.hN()?s.aN().rN(n)?e:e.uN(tp.PN):s.rN(n)?e:e.nS(tp.PN)}(tp.fN(this.lT).zN(tp._N(t/e)),tp._N(r/e),i);return new n(u.NN(),t)},i.tN=function(t){if(this===t)return Js.Zr;if(0===this.cM||0===t.cM)return HA(this,t);if(this.MN())return t.MN()?Js.Zr:t.hN()?Js.Jf:Js.$f;if(t.MN())return this.hN()?Js.$f:Js.Jf;var n=w.min(this.cM,t.cM),i=this.ZN(n,rp.cI).lT,r=t.ZN(n,rp.cI).lT;return i.compare(r)},i.aN=function(){return 0===this.cM?function(t){0;return t.cN()?t:t.hN()?ip.iI:ip.eI}(this):new n(this.lT.negate(),this.cM)},i.nS=function(t){if(0===this.cM||0===t.cM)return function(t,n){0;if(t.cN()||n.cN())return ip.tI;if(t.lN()&&n.lN())return t.hN()===n.hN()?t:ip.tI;return t.lN()?t:n}(this,t);if(this.MN())return t;if(t.MN())return this;var i=w.max(this.cM,t.cM),r=this.ZN(i,rp.cI),e=t.ZN(i,rp.cI);return new n(r.lT.add(e.lT),i)},i.zN=function(t){if(this.cN()||A(t))return n.tI;if(this.lN()||!isFinite(t)){if(this.MN()||0===t)return n.tI;var i=this.hN()?n.eI:n.iI;return t<0?i.aN():i}return this.MN()?this:new n(0===t?Oi.ZERO:this.lT.multiply(t),this.cM)},i.FN=function(t){if(this.cN()||A(t))return n.tI;if(this.lN())return isFinite(t)?0===t?1/t<0?this.aN():this:t<0?this.aN():this:n.tI;if(!isFinite(t))return new n(Oi.ZERO,this.cM);if(this.MN())return 0===t?n.tI:new n(Oi.ZERO,this.cM);if(0===t){var i=this.hN()?n.eI:n.iI;return 1/t<0?i.aN():i}return new n(this.lT.divide(t),this.cM)},i.lI=function(){return[this.lT.low,this.lT.high,this.cM]},n.$N=function(t,i){return void 0===i&&(i=XA),n._N(t*i,i)},n._N=function(t,i){return A(t)?n.tI:t===1/0?n.iI:t===-1/0?n.eI:new n(Oi.fromNumber(t),i)},n.fN=function(t,i){return new n(t,i)},n.sI=function(t){return n.$N(t.Kl,XA)},n.nI=function(t){return new n(Oi.fromNumber(t.getTime()),1e3)},n.HN=function(t,n){return t.iN(n)?t:n},n.XN=function(t,n){return t.sN(n)?t:n},n.rI=function(t,i,r){return n.HN(i,n.XN(r,t))},n}(ZA);ip.wN=new ip(Oi.ZERO,XA),ip.tI=new ip(Oi.ZERO,0),ip.iI=new ip(Oi.ONE,0),ip.eI=new ip(Oi.NEG_ONE,0),yt(),C(),pt(),Mt(),nt();var rp,ep=function(t){function n(n,i){var r;return(r=t.call(this)||this).lT=BigInt.asIntN(64,n),r.cM=i>>>0,r}bt(n,t);var i=n.prototype;return i.hN=function(){return this.lT<BigInt(0)},i.MN=function(){return 0!==this.cM&&this.lT===BigInt(0)},i.lN=function(){return 0===this.cM&&this.lT!==BigInt(0)},i.cN=function(){return 0===this.cM&&this.lT===BigInt(0)},i.JS=function(){if(0===this.cM)return this.lT===BigInt(0)?NaN:this.lT<BigInt(0)?-1/0:1/0;var t=this.lT/BigInt(this.cM),n=this.lT-t*BigInt(this.cM);return Number(t)+Number(n)/this.cM},i.NN=function(){if(0===this.cM)throw new v("Failed to convert timestamp");return this.wI()},i.wI=function(){var t=this.lT&BigInt(4294967295),n=this.lT>>BigInt(32)&BigInt(4294967295);return Oi.fromBits(Number(t),Number(n))},i.oI=function(){return new Date(0===this.cM?NaN:Number(this.ZN(1e3).lT))},i.hI=function(){return new np(0===this.cM?this.JS():Number(this.lT),this.cM)},i.ZN=function(t,i){void 0===i&&(i=rp.aI);var r=this.cM;if(r===t)return this;if(0===r)return this;var e=Vi(r,t),u=function(t,n,i){var r=t/n,e=t-r*n;if(e===BigInt(0))return r;if(i===rp.aI)return e<BigInt(0)?r-BigInt(1):r;if(i===rp.uI)return e<BigInt(0)?r:r+BigInt(1);var u=e*BigInt(2);return u<BigInt(0)?-u<n?r:r-BigInt(1):u<n?r:r+BigInt(1)}(this.lT*BigInt(t/e),BigInt(r/e),i);return new n(u,t)},i.tN=function(t){if(this===t)return Js.Zr;if(0===this.cM||0===t.cM)return HA(this,t);if(this.MN())return t.MN()?Js.Zr:t.hN()?Js.Jf:Js.$f;if(t.MN())return this.hN()?Js.$f:Js.Jf;var n=w.min(this.cM,t.cM),i=this.ZN(n,rp.cI).lT,r=t.ZN(n,rp.cI).lT;return i>r?Js.Jf:i<r?Js.$f:Js.Zr},i.aN=function(){return 0===this.cM?function(t){0;return t.cN()?t:t.hN()?ep.iI:ep.eI}(this):new n(-this.lT,this.cM)},i.nS=function(t){if(0===this.cM||0===t.cM)return function(t,n){0;if(t.cN()||n.cN())return ep.tI;if(t.lN()&&n.lN())return t.hN()===n.hN()?t:ep.tI;return t.lN()?t:n}(this,t);if(this.MN())return t;if(t.MN())return this;var i=w.max(this.cM,t.cM),r=this.ZN(i,rp.cI),e=t.ZN(i,rp.cI);return new n(r.lT+e.lT,i)},i.zN=function(t){if(this.cN()||A(t))return n.tI;if(this.lN()||!isFinite(t)){if(this.MN()||0===t)return n.tI;var i=this.hN()?n.eI:n.iI;return t<0?i.aN():i}return this.MN()?this:new n(0===t?BigInt(0):this.lT*BigInt(t),this.cM)},i.FN=function(t){if(this.cN()||A(t))return n.tI;if(this.lN())return isFinite(t)?0===t?1/t<0?this.aN():this:t<0?this.aN():this:n.tI;if(!isFinite(t))return new n(BigInt(0),this.cM);if(this.MN())return 0===t?n.tI:new n(BigInt(0),this.cM);if(0===t){var i=this.hN()?n.eI:n.iI;return 1/t<0?i.aN():i}return new n(this.lT/BigInt(t),this.cM)},i.lI=function(){var t=this.wI();return[t.low,t.high,this.cM]},n.$N=function(t,i){return void 0===i&&(i=XA),n._N(t*i,i)},n._N=function(t,i){return A(t)?n.tI:t===1/0?n.iI:t===-1/0?n.eI:new n(BigInt(w.floor(t)),i)},n.fN=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.sI=function(t){return n.$N(t.Kl,XA)},n.nI=function(t){return n._N(t.getTime(),1e3)},n.HN=function(t,n){return t.iN(n)?t:n},n.XN=function(t,n){return t.sN(n)?t:n},n.rI=function(t,i,r){return n.HN(i,n.XN(r,t))},At(n,null,[{key:"wN",get:function(){return n.dI||(n.dI=new n(BigInt(0),XA)),n.dI}},{key:"tI",get:function(){return n.fI||(n.fI=new n(BigInt(0),0)),n.fI}},{key:"iI",get:function(){return n._I||(n._I=new n(BigInt(1),0)),n._I}},{key:"eI",get:function(){return n.gI||(n.gI=new n(BigInt(-1),0)),n.gI}}]),n}(ZA);ep.dI=void 0,ep.fI=void 0,ep._I=void 0,ep.gI=void 0,function(t){t[t.aI=0]="aI",t[t.uI=1]="uI",t[t.cI=2]="cI"}(rp||(rp={}));var up=function(){try{return"function"==typeof BigInt&&"bigint"===x(BigInt(0))}catch(t){return!1}}()?ep:ip;function sp(t,n){return t.tN(n)}function op(t,n){return void 0!==t?void 0!==n?up.XN(t,n):t:n}yt(),C();var ap=9e4,cp=w.pow(2,33),hp=ti((function(){return up._N(cp,ap)})),fp=ti((function(){return hp().FN(2)}));yt(),C();var vp,lp,dp,gp,wp,yp={vI:0,mI:1/0,pI:0},mp=6,Ap=["WEBVTT","WEBVTT ","WEBVTT\t","WEBVTT\n"],pp=[" ","\t","\n","\f","\r"],_p=/^\d*$/,kp=/.*[0-9]+.*/,bp=/^[\d.-]+$/,Mp=/(^\.|\.$)/,Tp=/(\D\.|\.\D)/;function Np(t,n){return void 0===n&&(n=yp),Dp(Tc(Ic(t),new Oc),n)}function Dp(t,n){void 0===n&&(n=yp);var i={L:[],AI:[],yI:[]},r=Ip(t),e=new Oc;if(Up(r),Ep(r,(function(t){return"\n"!==t}),e),e.Ku>=r.length)return i;(e.KA(1),"\n"!==r.charAt(e.Ku))?xp(Sp(r,e,false,!0,i,n),i):e.KA(1);for(Ep(r,(function(t){return"\n"===t}),e);e.Ku<r.length;){xp(Sp(r,e,false,!1,i,n),i),Ep(r,(function(t){return"\n"===t}),e)}return i}function Ip(t){var n=zs(t,"\0"," "),i=zs(n,"\r\n","\n");return zs(i,"\r","\n")}function Ep(t,n,i){for(var r=i.Ku;i.Ku<t.length&&n(t.charAt(i.Ku));)i.KA(1);return t.substring(r,i.Ku)}function Sp(t,n,i,r,e,u){for(var s,o=0,a=n.Ku,c="",h=!1,f=!1,v=null,l=null,d=null;!h;)if(s=Ep(t,(function(t){return"\n"!==t}),n),o++,n.Ku>=t.length?h=!0:n.KA(1),Rs(s,"--\x3e")){if(r||1!==o&&(2!==o||f)){n.JA(a);break}f=!0,a=n.Ku,v=new UA(0,0,"",!1,c);try{Op(s,e.AI,v,u),c=""}catch(t){an.vp(t),v=null}}else{if(""===s)break;r&&Bs(s,"X-TIMESTAMP-MAP")&&(e.MI=Lp(s)),r||2!==o||i||(Us("STYLE",c.replace(/ /g,""))?(l={Av:AA.vS},c=""):Us("REGION",c.replace(/ /g,""))&&(d=new WA("",100,3,0,100,0,100,""),c="")),c&&(c+="\n"),c+=s,a=n.Ku}if(v)return v.O=c,v;if(l);else if(d)return function(t,n){for(var i=t.split(/\s/),r=":",e=0;e<i.length;e++){var u=i[e];if(0!==u.length&&Rs(u,r)&&u.charAt(0)!==r&&u.charAt(u.length-1)!==r){var s=u.indexOf(r),o=u.substring(0,s),a=u.substring(s+1,u.length);switch(o.toUpperCase()){case"ID":Jp(a,n);break;case"WIDTH":n_(a,n);break;case"LINES":t_(a,n);break;case"REGIONANCHOR":var c=qp(a);c&&(n.WS=c[0],n.HS=c[1]);break;case"VIEWPORTANCHOR":var h=qp(a);h&&(n.ZS=h[0],n.qS=h[1]);break;case"SCROLL":$p(a,n)}}}}(c,d),d;return null}function Lp(t){var n,i=t.split("=")[1].trim().split(","),r=Cp(i[0].trim(),"MPEGTS")?i[0]:i[1],e=Cp(i[0].trim(),"LOCAL")?i[0]:i[1];return{bI:jp(Number(r.split(/:(.*)/)[1].trim())||0),lh:up.$N(null!=(n=Bp(e.split(/:(.*)/)[1].trim(),new Oc))?n:0)}}function jp(t){return up._N(t,ap)}function Cp(t,n){return Bs(t,n)}function xp(t,n){t&&function(t){return"cue"===t.Av}(t)?n.L.push(t):t&&function(t){return"region"===t.Av}(t)?n.AI.push(t):t&&function(t){return"stylesheet"===t.Av}(t)&&n.yI.push(t)}function Op(t,n,i,r){var e=new Oc;Yp(t,e);var u=zp(Bp(t,e),r);if(Yp(t,e),"--\x3e"!==t.substring(e.Ku,e.Ku+3))throw v("Something went wrong with parsing a WebVTT Cue");e.KA(3),Yp(t,e);var s=zp(Bp(t,e),r);i.YS(u,s),function(t,n,i){for(var r=t.split(/\s/),e=":",u=0;u<r.length;u++){var s=r[u];if(0!==s.length&&Rs(s,e)&&s.charAt(0)!==e&&s.charAt(s.length-1)!==e){var o=s.indexOf(e),a=s.substring(0,o),c=s.substring(o+1,s.length);switch(a.toUpperCase()){case"REGION":Xp(c,n,i);break;case"VERTICAL":Hp(c,n);break;case"D":Kp(c,n);break;case"LINE":case"L":Vp(c,n);break;case"POSITION":case"T":Wp(c,n);break;case"SIZE":case"S":Zp(c,n);break;case"ALIGN":case"A":Gp(c,n)}}}}(t.substring(e.Ku,t.length),i,n)}function zp(t,n){return t+n.vI}function Rp(t){return/^[0-9]$/.test(t)}function Bp(t,n){var i,r,e,u=zs(t,",","."),s=!1;if(n.Ku>=u.length||!Rp(u.charAt(n.Ku)))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");var o=Ep(u,Rp,n),a=y(o,10);if((o.length>2||a>59)&&(s=!0),n.Ku>=u.length||":"!==u.charAt(n.Ku))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.KA(1);var c=Ep(u,Rp,n);if(2!==c.length)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");var h=y(c,10);if(s||n.Ku<u.length&&":"===u.charAt(n.Ku)){if(n.Ku>=u.length||":"!==u.charAt(n.Ku))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.KA(1);var f=Ep(u,Rp,n);if(2!==c.length)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");i=a,r=h,e=y(f,10)}else i=0,r=a,e=h;if(n.Ku>=u.length||"."!==u.charAt(n.Ku))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.KA(1);var l=Ep(u,Rp,n),d=y(l,10);if(h>59||e>59)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*r+e+d/1e3}function Pp(t){return Up(Ip(t))}function Up(t){if(t.length<mp)return!1;for(var n=0;n<Ap.length;n++){var i=Ap[n];if(Bs(t,i))return!0}return!1}function Qp(t){return mo(pp,t)}function Yp(t,n){for(;n.Ku<t.length&&Qp(t.charAt(n.Ku));)n.KA(1)}function Fp(t){var n=t.lastIndexOf("%");if(n>-1){var i=m(t.substring(0,n));if(!A(i)&&i>=0&&i<=100)return i}return null}function Gp(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.TS=i;break;case"middle":n.TS="center"}}function Vp(t,n){var i,r,e=t.indexOf(",");if(e>=0?(i=t.substring(0,e),r=t.substring(e+1,t.length)):(i=t,r=""),kp.test(i)){var u,s;if(Ps(i,"%")){var o=Fp(i);if(null===o)return;u=o,s=!1}else{if(!bp.test(i)||i.lastIndexOf("-")>0)return;var a=i.indexOf(".");if(a>=0&&(a!==i.lastIndexOf(".")||!Tp.test(i)||Mp.test(i)))return;if(u=m(i),A(u))return;s=!0}switch(n.SS=u,n.ES=s,r=r.toLowerCase()){case"start":case"center":case"end":n.NS=r;break;case"middle":n.NS="center"}}}function Wp(t,n){var i,r,e=t.indexOf(",");e>=0?(i=t.substring(0,e),r=t.substring(e+1,t.length)):(i=t,r="");var u=Fp(i);if(null!==u)switch(n.po=u,r=r.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.IS=r;break;case"start":n.IS="line-left";break;case"middle":n.IS="center";break;case"end":n.IS="line-right"}}function Xp(t,n,i){var r=fo(i,(function(n){return n.o===t}));void 0!==r&&(n.DS=r)}function Zp(t,n){var i=Fp(t);null!==i&&(n.By=i)}function Hp(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.Pt="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.Pt="lr";break;default:n.Pt=""}}function Kp(t,n){"VERTICAL"===t.toUpperCase()?n.Pt="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.Pt="lr")}function qp(t){if(t.indexOf(",")>=0){var n=Fp(t.substring(0,t.indexOf(","))),i=Fp(t.substring(t.indexOf(",")+1,t.length));return[Pi(n||0,0,100),Pi(i||100,0,100)]}return null}function Jp(t,n){n.o=t}function $p(t,n){"up"===t.toLowerCase()&&(n.XS="up")}function t_(t,n){_p.test(t)&&(n.VS=y(t))}function n_(t,n){var i=Fp(t);null!==i&&(n.ji=i)}yt(),C(),Vt(),yt(),C(),yt(),C(),function(t){t.Kp="moov",t.Jp="mvhd",t.$p="trak",t.tA="tkhd",t.iA="mdia",t.eA="mdhd",t.sA="hdlr",t.nA="minf",t.rA="stbl",t.oA="stsd",t.hA="stsc",t.aA="mvex",t.uA="trex",t.cA="avc1",t.lA="avcC",t.dA="hev1",t.fA="hvc1",t._A="hvcC",t.gA="vp09",t.wA="vpcC",t.vA="av01",t.mA="av1C",t.pA="colr",t.AA="pasp",t.yA="mp4a",t.MA="esds",t.bA="fLaC",t.TA="dfLa",t.SA="wvtt",t.NA="vttC",t.IA="vlab",t.DA="enca",t.EA="encv",t.kA="moof",t.LA="mfhd",t.xA="traf",t.CA="tfhd",t.OA="trun",t.jA="tfdt",t.RA="senc",t.PA="mdat",t.zA="pssh",t.BA="emsg",t.UA="sidx",t.QA="styp",t.FA="ftyp",t.YA="sinf",t.GA="frma"}(vp||(vp={})),function(t){t.VA="vide",t.WA="soun",t.HA="subt",t.XA="hint",t.ZA="meta",t.qA="auxv"}(lp||(lp={})),function(t){t.ON_SCREEN_COLOURS="nclx",t.RESTRICTED_ICC_PROFILE="rICC",t.UNRESTRICED_ICC_PROFILE="prof"}(dp||(dp={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=65536]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(gp||(gp={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(wp||(wp={})),yt(),C();var i_=function(){function t(t,n){this.ly=t,this._y=n}var n=t.prototype;return n.uy=function(){return Xa(this.ly,this._y)},n.gy=function(){return tc(this.ly,this._y)},n.wy=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt16(n.Ku,i);return n.KA(2),r}(this.ly,this._y)},n.vy=function(){return ic(this.ly,this._y)},n.py=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt32(n.Ku,i);return n.KA(4),r}(this.ly,this._y)},n.Ay=function(){return ec(this.ly,this._y)},n.yy=function(t){return Ha(this.ly,this._y,t)},n.My=function(t){return function(t,n,i){for(var r=[],e=0;e<i;e++)r.push(ic(t,n));return r}(this.ly,this._y,t)},n.Ty=function(t){return oc(this.ly,this._y,t)},n.Sy=function(){return kc(this.ly,this._y)},n.Ny=function(t){this._y.KA(t)},n.$A=function(){return new t(this.ly,this._y.$A())},t}();yt(),C(),pt(),Mt(),yt(),C();function r_(t,n){return t.Av===n}function e_(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r_(r,n))return r}}var u_=function(t){function n(n,i){var r;return(r=t.call(this)||this).Iy=n,r.Dy=i,r}return bt(n,t),At(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(xo),s_=function(){function t(){}return t.Ey=function(n){var i=n.ly,r=n._y,e=t.Ly(i,r,!1);if(!e.xy)throw new u_(r.Ku,e.m);return e.m},t.Ly=function(n,i,r){for(var e=[];i.Ku<n.byteLength;){var u=t.Cy(n,i,r);if(!u.xy)return{xy:!1,m:e};e.push(u.Oy)}return{xy:!0,m:e}},t.jy=function(n,i){var r=t.Cy(n,i,!1);if(!r.xy)throw new u_(i.Ku);return r.Oy},t.Ry=function(n,i){for(var r=n.ly,e=n._y;e.Ku<r.byteLength;){var u=t.Cy(r,e,!1);if(!u.xy)return;if(u.Oy.Av===i)return u.Oy}},t.Cy=function(n,i,r){var e=i.Ku,u=t.Py(n,i);if(!u.xy)return u;var s=u.zy,o=s.By;if(0===o){if(r)return i.JA(e),{xy:!1,Uy:1/0};o=n.byteLength-e}var a=e+o;if(a>n.byteLength){var c=a;return i.JA(e),{xy:!1,Uy:c}}var h={Av:s.Av,Ku:e,ly:new i_(Dc(n,e,a),new Oc(s.Qy))};return i.JA(a),{xy:!0,Oy:h}},t.Py=function(t,n){var i=n.Ku;if(!qa(t,n,8))return{xy:!1,Uy:n.Ku+8};var r=ic(t,n),e=oc(t,n,4);if(1===r){if(!qa(t,n,8)){var u=n.Ku+8;return n.JA(i),{xy:!1,Uy:u}}r=ec(t,n).toNumber()}if("uuid"===e){if(!qa(t,n,16)){var s=n.Ku+16;return n.JA(i),{xy:!1,Uy:s}}e=oc(t,n,16)}return{xy:!0,zy:{Av:e,By:r,Qy:n.Ku-i}}},t.Fy=function(t,n,i){var r=t.ly,e=t._y,u=Nc(Ec(r),e.Ku,r.byteLength);return i&&(u=Cc(u)),e.KA(u.byteLength),{Av:n,ly:u}},t.Yy=function(n,i,r){var e=h_(n.vy());return{Av:i,Gy:e.version,Vy:e.flags,ly:t.Fy(n,i,r).ly}},t}();function o_(t,n){var i=a_(t,n);if(!i)throw new v("Missing "+n+" atom");return i}function a_(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.Av===n)return r.ly}}function c_(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];e.Av===n&&i.push(e.ly)}return i}function h_(t){return{version:t>>24,flags:new Ga(16777215&t)}}var f_=function(){function t(){}return t.Wy=function(n){for(var i=[],r=s_.Ey(new i_(n,new Oc)),e=0;e<r.length;e++){var u=r[e],s=t.Hy(u);s&&i.push(s)}return i},t.Xy=function(t){return s_.Ly(t,new Oc,!1).m.some(this.Zy)},t.qy=function(n){return c_(s_.Ey(new i_(n,new Oc)),vp.zA).map(t.Ky)},t.Jy=function(n){return c_(s_.Ey(n.ly),vp.zA).map(t.Ky)},t.Zy=function(t){return t.Av===vp.FA||t.Av===vp.QA||t.Av===vp.Kp||t.Av===vp.kA||t.Av===vp.PA||t.Av===vp.UA||t.Av===vp.BA},t.Hy=function(n){switch(n.Av){case vp.Kp:return t.$y(n.ly);case vp.kA:return t.tM(n.ly,n.Ku);case vp.PA:return t.iM(n.ly);case vp.UA:return t.eM(n.ly);case vp.BA:return t.sM(n.ly)}},t.$y=function(n){var i=s_.Ey(n),r=o_(i,vp.Jp),e=c_(i,vp.$p),u=a_(i,vp.aA),s=t.nM(r),o=e.map(t.rM),a=u?t.oM(u):void 0;return{Av:vp.Kp,zy:s,Z:o,hM:a}},t.nM=function(t){var n=h_(t.vy()),i=n.version,r=n.flags,e=1===i?t.Ay():t.vy(),u=1===i?t.Ay():t.vy(),s=t.vy(),o=1===i?t.Ay():t.vy(),a=t.vy(),c=t.gy()>>8;t.Ny(2),t.Ny(8);var h=t.My(9);t.Ny(24);var f=t.vy();return{Av:vp.Jp,Gy:i,Vy:r,aM:e,uM:u,cM:s,ct:o,lM:a,zg:c,dM:h,fM:f}},t.rM=function(n){var i=s_.Ey(n),r=o_(i,vp.tA),e=o_(i,vp.iA),u=t._M(r),s=t.gM(e);return{Av:vp.$p,zy:u,wM:s}},t._M=function(t){var n=h_(t.vy()),i=n.version,r=n.flags,e=1===i?t.Ay():t.vy(),u=1===i?t.Ay():t.vy(),s=t.vy();t.Ny(4);var o=1===i?t.Ay():t.vy();t.Ny(8);var a=t.wy(),c=t.wy(),h=t.wy()/w.pow(2,8);t.Ny(2);var f=t.My(9),v=t.vy()/w.pow(2,16),l=t.vy()/w.pow(2,16);return{Av:vp.tA,vM:r.ey(1),mM:r.ey(2),pM:r.ey(4),aM:e,uM:u,AM:s,ct:o,yM:a,MM:c,zg:h,dM:f,ji:v,Ti:l}},t.gM=function(n){var i=s_.Ey(n),r=o_(i,vp.eA),e=o_(i,vp.sA),u=o_(i,vp.nA),s=t.bM(r),o=t.TM(e),a=t.SM(u);return{Av:vp.iA,zy:s,NM:o,IM:a}},t.bM=function(t){var n=h_(t.vy()),i=n.version,r=n.flags,e=1===i?t.Ay():t.vy(),u=1===i?t.Ay():t.vy(),s=t.vy(),o=1===i?t.Ay():t.vy();t.gy();return t.Ny(2),{Av:vp.eA,Gy:i,Vy:r,aM:e,uM:u,cM:s,ct:o}},t.TM=function(t){var n=h_(t.vy()),i=n.version,r=n.flags;t.Ny(4);var e=t.Ty(4);t.Ny(12);var u=t.Sy();return{Av:vp.sA,Gy:i,Vy:r,DM:e,l:u}},t.SM=function(n){var i=o_(s_.Ey(n),vp.rA),r=t.EM(i);return{Av:vp.nA,kM:r}},t.EM=function(n){var i=o_(s_.Ey(n),vp.oA),r=t.LM(i);return{Av:vp.rA,xM:r}},t.LM=function(n){for(var i=h_(n.vy()),r=i.version,e=i.flags,u=(n.vy(),[]),s=s_.Ey(n),o=0;o<s.length;o++){var a=s[o],c=t.CM(a.ly,a.Av);c&&u.push(c)}return{Av:vp.oA,Gy:r,Vy:e,OM:u}},t.CM=function(n,i){var r=t.jM(n,i);return r||((r=t.RM(n,i))||(i===vp.SA?t.PM(n):void 0))},t.jM=function(n,i){return i===vp.yA?t.zM(n):i===vp.bA||i===vp.bA.toLowerCase()||i===vp.bA.toUpperCase()?t.BM(n):i===vp.DA?t.UM(n):void 0},t.RM=function(n,i){return i===vp.cA?t.QM(n):i===vp.dA||i===vp.fA?t.FM(n,i):i===vp.gA?t.YM(n,i):i===vp.vA?t.GM(n,i):i===vp.EA?t.VM(n):void 0},t.WM=function(t,n){return t.Ny(6),{Av:n,HM:t.gy()}},t.XM=function(n,i){var r=t.WM(n,i);n.Ny(8);var e=n.gy(),u=n.gy();return n.Ny(2),n.Ny(2),$u({},r,{ZM:e,qM:u,KM:n.vy()>>>16})},t.JM=function(n,i){var r=t.WM(n,i);n.Ny(2),n.Ny(2),n.Ny(12);var e=n.gy(),u=n.gy(),s=n.vy(),o=n.vy();n.Ny(4);var a=n.gy();n.Ny(32);var c=n.gy();return n.Ny(2),$u({},r,{ji:e,Ti:u,$M:s,ib:o,eb:a,sb:c})},t.zM=function(n){var i=t.XM(n,vp.yA),r=o_(s_.Ey(n),vp.MA);return $u({},i,{ob:t.hb(r)})},t.BM=function(n){var i=t.XM(n,vp.bA),r=o_(s_.Ey(n),vp.TA);return $u({},i,{ub:t.fb(r)})},t.PM=function(n){var i=t.WM(n,vp.SA),r=s_.Ey(n),e=o_(r,vp.NA),u=t._b(e),s=a_(r,vp.IA);return $u({},i,{gb:u,wb:s?t.vb(s):void 0})},t._b=function(t){return{Av:vp.NA,wd:t.Sy()}},t.vb=function(t){return{Av:vp.IA,kh:t.Sy()}},t.hb=function(t){return s_.Yy(t,vp.MA,!0)},t.fb=function(t){return s_.Yy(t,vp.TA,!0)},t.QM=function(n){var i=t.JM(n,vp.cA),r=s_.Ey(n),e=o_(r,vp.lA),u=a_(r,vp.AA);return $u({},i,{mb:t.pb(e),Ab:u?t.yb(u):void 0})},t.FM=function(n,i){var r=t.JM(n,i),e=o_(s_.Ey(n),vp._A);return $u({},r,{Mb:t.bb(e)})},t.YM=function(n,i){var r=t.JM(n,i),e=o_(s_.Ey(n),vp.wA);return $u({},r,{Tb:t.Sb(e)})},t.GM=function(n,i){var r=t.JM(n,i),e=s_.Ey(n),u=o_(e,vp.mA),s=t.Nb(u),o=a_(e,vp.pA);return $u({},r,{Ib:s,Db:o?t.Eb(o):void 0})},t.VM=function(n){var i=n.$A(),r=t.JM(n,vp.EA),e=o_(s_.Ey(n),vp.YA),u=t.kb(e);return $u({},r,{Lb:t.RM(i,u.Cb.xb),Ob:u})},t.UM=function(n){var i=n.$A(),r=t.XM(n,vp.DA),e=o_(s_.Ey(n),vp.YA),u=t.kb(e);return $u({},r,{Lb:t.jM(i,u.Cb.xb),Ob:u})},t.kb=function(n){var i=o_(s_.Ey(n),vp.GA),r=t.jb(i);return{Av:vp.YA,Cb:r}},t.jb=function(t){var n=t.Ty(4);return{Av:vp.GA,xb:n}},t.pb=function(t){return s_.Fy(t,vp.lA,!0)},t.bb=function(t){return s_.Fy(t,vp._A,!0)},t.Sb=function(t){return s_.Fy(t,vp.wA,!0)},t.Nb=function(t){return s_.Fy(t,vp.mA,!0)},t.Eb=function(t){var n=t.Ty(4);switch(n){case"nclx":return{Rb:dp.ON_SCREEN_COLOURS,Pb:t.gy(),zb:t.gy(),Bb:t.gy(),Ub:0!=(128&t.uy())};case"rICC":return{Rb:dp.RESTRICTED_ICC_PROFILE};case"prof":return{Rb:dp.UNRESTRICED_ICC_PROFILE};default:throw v("Could not parse ColourInformationBox: unknown type '"+n+"'.")}},t.yb=function(t){var n=t.vy(),i=t.vy();return{Av:vp.AA,Qb:n,Fb:i}},t.oM=function(n){var i=c_(s_.Ey(n),vp.uA).map(t.Yb);return{Av:vp.aA,Z:i}},t.Yb=function(t){var n=h_(t.vy()),i=n.version,r=n.flags,e=t.vy(),u=t.vy(),s=t.vy(),o=t.vy(),a=t.vy();return{Av:vp.uA,Gy:i,Vy:r,AM:e,Gb:u,Vb:s,Wb:o,Hb:a}},t.tM=function(n,i){var r=s_.Ey(n),e=o_(r,vp.LA),u=c_(r,vp.xA),s=t.Xb(e),o=u.map(t.Zb);return{Av:vp.kA,qb:i,zy:s,Z:o}},t.Xb=function(t){var n=h_(t.vy()),i=n.version,r=n.flags,e=t.vy();return{Av:vp.LA,Gy:i,Vy:r,Kb:e}},t.Zb=function(n){var i=s_.Ey(n),r=o_(i,vp.CA),e=c_(i,vp.OA),u=a_(i,vp.jA),s=t.Jb(r),o=e.map((function(n){return t.$b(n,s)})),a=u?t.tT(u):void 0;return{Av:vp.xA,zy:s,iT:o,eT:a}},t.Jb=function(t){var n=h_(t.vy()),i=n.version,r=n.flags,e=t.vy(),u=r.ey(gp.BASE_DATA_OFFSET_PRESENT)?t.Ay():void 0,s=r.ey(gp.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.vy():void 0,o=r.ey(gp.DEFAULT_SAMPLE_DURATION_PRESENT)?t.vy():void 0,a=r.ey(gp.DEFAULT_SAMPLE_SIZE_PRESENT)?t.vy():void 0,c=r.ey(gp.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.vy():void 0;return{Av:vp.CA,Gy:i,Vy:r,AM:e,sT:u,nT:s,Vb:o,Wb:a,Hb:c}},t.$b=function(n,i){for(var r=h_(n.vy()),e=r.version,u=r.flags,s=n.vy(),o=u.ey(wp.DATA_OFFSET_PRESENT)?n.py():void 0,a=u.ey(wp.FIRST_SAMPLE_FLAGS_PRESENT)?n.vy():void 0,c=[],h=0;h<s;h++){var f=t.rT(n,u,e,i);0===h&&void 0!==a&&(f.Vy=a),c.push(f)}return{Av:vp.OA,Gy:e,Vy:u,oT:s,qb:o,hT:a,aT:c}},t.rT=function(t,n,i,r){return{ct:n.ey(wp.SAMPLE_DURATION_PRESENT)?t.vy():r.Vb,By:n.ey(wp.SAMPLE_SIZE_PRESENT)?t.vy():r.Wb,Vy:n.ey(wp.SAMPLE_FLAGS_PRESENT)?t.vy():r.Hb,uT:n.ey(wp.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.vy():t.py():void 0}},t.sM=function(t){var n=t.ly,i=t._y,r=h_(ic(n,i)),e=r.version,u=r.flags;if(1===e){var s=ic(n,i),o=ec(n,i),a=ic(n,i),c=ic(n,i),h=sc(n,i),f=sc(n,i),v=jc(Ec(n),i.Ku,n.byteLength);return i.KA(v.byteLength),{Av:vp.BA,Gy:e,Vy:u,cT:h,lT:f,cM:s,dT:o,fT:a,o:c,_T:v}}var l=sc(n,i),d=sc(n,i),g=ic(n,i),w=ic(n,i),y=ic(n,i),m=ic(n,i),A=jc(Ec(n),i.Ku,n.byteLength);return i.KA(A.byteLength),{Av:vp.BA,Vy:u,Gy:e,cT:l,lT:d,cM:g,gT:w,fT:y,o:m,_T:A}},t.iM=function(t){return s_.Fy(t,vp.PA,!1)},t.Ky=function(n){var i=n.ly,r=n._y,e=Cc(Ec(i)).buffer,u=h_(ic(i,r)),s=u.version,o=u.flags,a=t.wT(i,r),c=[];if(s>0)for(var h=ic(i,r),f=0;f<h;f++){var v=Ha(i,r,16);c.push(v)}var l=ic(i,r),d=new p(e,r.Ku,l);return r.KA(i.byteLength),{Av:vp.zA,Gy:s,Vy:o,vT:a,mT:c,pT:l,ly:d,AT:e}},t.wT=function(t,n){for(var i="",r=0;r<4;r++){var e=Xa(t,n).toString(16);i+=1===e.length?"0"+e:e}i+="-";for(var u=0;u<2;u++){var s=Xa(t,n).toString(16);i+=1===s.length?"0"+s:s}i+="-";for(var o=0;o<2;o++){var a=Xa(t,n).toString(16);i+=1===a.length?"0"+a:a}i+="-";for(var c=0;c<2;c++){var h=Xa(t,n).toString(16);i+=1===h.length?"0"+h:h}i+="-";for(var f=0;f<6;f++){var v=Xa(t,n).toString(16);i+=1===v.length?"0"+v:v}return i.toLowerCase()},t.eM=function(t){var n,i,r=t.ly,e=t._y,u=h_(ic(r,e)),s=u.version,o=u.flags,a=ic(r,e),c=ic(r,e);0===s?(n=Oi.fromBits(ic(r,e),0,!0),i=Oi.fromBits(ic(r,e),0,!0)):(n=ec(r,e),i=ec(r,e)),e.KA(2);for(var h=tc(r,e),f=[],v=0;v<h;v+=1){var l=ic(r,e),d=l>>31&1,g=2147483647&l,w=ic(r,e),y=ic(r,e),m=y>>31&1,A=y>>28&7,p=268435455&y;f.push({yT:d,MT:g,ct:w,bT:m,TT:A,ST:p})}return{Av:vp.UA,Gy:s,Vy:o,NT:a,cM:c,IT:n,DT:i,ET:h,kT:f}},t.tT=function(t){var n,i=t.ly,r=t._y,e=h_(ic(i,r)),u=e.version,s=e.flags;return n=0===u?Oi.fromBits(ic(i,r),0,!0):ec(i,r),{Av:vp.jA,Gy:u,Vy:s,eT:n}},t}();function v_(t){return t&&"TI"in t?t.TI:t}yt(),C(),pt(),Mt(),yt(),C();var l_=function(t){function n(n,i,r,e,u,s,o,a){var c;return(c=t.call(this,n,i,r,e)||this).NI=u,c.DI=s,c.EI=o,c.LI=a||void 0,c}return bt(n,t),n.prototype.FS=function(t){return!!Mm(this.SI,t.SI)&&(!!Mm(this.II,t.II)&&(!!Mm(this.AI,t.AI)&&(this.kI&&t.kI?!!this.kI.xI(t.kI)&&(this.O&&t.O?this.O.xI(t.O):this.O===t.O):this.kI===t.kI)))},At(n,[{key:"SI",get:function(){return this.NI}},{key:"II",get:function(){return this.DI}},{key:"AI",get:function(){return this.EI}},{key:"kI",get:function(){return this.LI}},{key:"va",get:function(){return this.Xa||(this.Xa=function(t){return km(EA(t),{get extent(){return t.SI},get styles(){return t.II},get regions(){return t.AI},get metadata(){return v_(t.kI)},get content(){return v_(t.O)}})}(this)),this.Xa}}]),n}(BA);yt(),C(),pt();var d_=function(){function t(t,n,i){this.FI=t,this.YI=n,Wy(i)?this.QI=function(t,n,i){for(var r=0,e=["begin","end","dur"];r<e.length;r++){var u=e[r];i.GI(u)}return i}(0,0,i):this.QI=i}return At(t,[{key:"BI",get:function(){return this.QI.UI(!0)}},{key:"MS",get:function(){return this.FI}},{key:"bS",get:function(){return this.YI}}]),t}();yt(),C(),Ct();var g_="http://www.w3.org/XML/1998/namespace";function w_(t,n,i,r){var e=t.HI(i,n);return 0===e.length&&(e=t.XI(r+":"+n)),e}function y_(t,n){return function(t,n){var i=t.m.slice(),r=[];for(;i.length>0;){var e,u=i.shift();if(n(u))r.push(u);else(e=i).push.apply(e,jt(u.m))}return r}(t,(function(t){return t.WR===n}))}function m_(t){for(var n={},i=0,r=t.ZI;i<r.length;i++){var e=r[i];n[e.qI]=e.lT}return n}var A_,p_,__=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,k_=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,b_="http://www.w3.org/ns/ttml";function M_(t,n,i,r){void 0===i&&(i=yp),void 0===r&&(r=Tv.APPLICATION_TTML_XML);var e=[],u=Ic(t);return r===Tv.APPLICATION_MP4?e=function(t,n,i){var r=f_.Wy(t),e=e_(r,vp.PA);if(!e)return[];return D_(Ic(e.ly),n,i)}(u,n,i):r===Tv.APPLICATION_TTML_XML&&(e=D_(u,n,i)),e}function T_(t,n,i){return void 0===i&&(i=yp),I_(t,n,i)}function N_(t,n){for(var i=x_(n.BI),r={},e=0;e<i.length;e++){var u=i[e];r[u]=t[u]}return r}function D_(t,n,i){return I_(Tc(t,new Oc),n,i)}function I_(t,n,i){var r,e=[];try{r=an.KI(t)}catch(t){return e}var u=r.JI;if("tt"!==u.qI)return e;var s=u.HI(b_,"head")[0],o=u.HI(b_,"body")[0];if(!o||!s)return e;for(var a=S_(u.$I("tts:extent")),c=a?{width:a[0],height:a[1]}:void 0,h=function(t){for(var n={},i=t.HI(b_,"styling")[0],r=i&&i.HI(b_,"style")||[],e=0;e<r.length;e++){var u=r[e];n[u.tD(g_,"id")]=m_(u)}return n}(s),f=function(t){for(var n={},i=t.HI(b_,"layout")[0],r=i&&i.HI(b_,"region")||[],e=0;e<r.length;e++){var u=r[e],s=u.tD(g_,"id");if(s){n[s]=m_(u);var o=C_(u);for(var a in o)On.call(o,a)&&(n[s][a]=o[a])}}return n}(s),v=a?function(t,n){for(var i=bm(t),r=0,e=g.keys(i);r<e.length;r++){var u=e[r],s=S_(i[u].extent);if(s){var o=E_(s[0],n[0]),a=E_(s[1],n[1]);i[u].extent=o+" "+a}var c=S_(i[u].origin);if(c){var h=E_(c[0],n[0]),f=E_(c[1],n[1]);i[u].origin=h+" "+f}}return i}(f,a):f,l=s.HI(b_,"metadata")[0],d=L_(o,i.vI,i.mI,i.pI),w=0;w<d.length;w++){var y=d[w],m=N_(v,y);e.push(new l_(y.MS,y.bS,y.BI,!1,c,h,m,l))}return e}function E_(t,n){return t/n*100+"%"}function S_(t){if(t){var n=t.split(" ",2);if(2===n.length){var i=Gt(n,2),r=i[0],e=i[1];if(Ps(r,"px")&&Ps(e,"px"))return[Number(r.slice(0,-2)),Number(e.slice(0,-2))]}}}function L_(t,n,i,r){var e,u=function(n){var i=function(t,n,i){for(var r=[],e=0;e<i.length;e++){var u=i[e].MS,s=i[e].bS;(u>=t&&s<=n||u<n&&s>=n||u<t&&s>t)&&r.push(i[e])}return r}(d[n],d[n+1],a);if(i.length<=0&&function(t){if(Wy(t)){var n=t.qI.toUpperCase(),i=Boolean(t.$I("smpte:backgroundImage"));return"BR"===n||i}return t.CI===Gy.Ru}(t)){var r=t.UI(!1);c.push(new d_(d[n],d[n+1],r))}else if(i.length>0){var e=t.UI(!1);i.forEach((function(t){return e.eD(t.BI)})),c.push(new d_(d[n],d[n+1],e))}},s=n,o=i,a=[],c=[];if(Wy(t)){var h,f;s=null!=(h=j_(t.$I("begin"),r))?h:s,e=j_(t.$I("dur"),0),o=null!=(f=j_(t.$I("end"),r))?f:void 0!==e?s+e:o;for(var v=t.iD,l=0;l<v.length;l++)("body"===t.qI||"div"===t.qI)&&v[l].CI>1||(a=a.concat(L_(v[l],s,o,r)))}for(var d=function(t,n,i){var r=[];r.push(t,n);for(var e=0;e<i.length;e++){var u=i[e];r.push(u.MS,u.bS)}r.sort(uo);for(var s=r.length,o=0;o<s-1;o++)r[o+1]===r[o]&&(wo(r,o+1),o--,s=r.length);return r}(s,o,a),g=0;g<d.length-1;g++)u(g);return c}function j_(t,n){if(t){if(__.test(t)){var i=__.exec(t);if(!i)return;var r=Number(i[1])||0,e=Number(i[2])||0,u=Number(i[3])||0,s=i[6];return 3600*r+60*e+u+(s?Number(s)*w.pow(.1,s.length):0)+n}if(k_.test(t)){var o=k_.exec(t);if(!o)return;var a,c=Number(o[1]);switch(o[4]){case"h":a=3600*c;break;case"m":a=60*c;break;case"s":a=c;break;case"ms":a=.001*c;break;default:a=NaN}return a+n}}}function C_(t){for(var n={},i=t.XI("style")||[],r=0;r<i.length;r++){var e=m_(i[r]);for(var u in e)On.call(e,u)&&(n[u]=e[u])}return n}function x_(t){var n,i=[];if(Wy(t)){(n=t.$I("region"))&&i.push(n);for(var r=t.iD,e=0;e<r.length;e++)i=i.concat(x_(r[e]))}return i}function O_(t){var n=function(t){try{return an.KI(t).JI}catch(t){}}(t);return"tt"===(null==n?void 0:n.qI)}function z_(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case"disabled":case"hidden":case"showing":return n}}else if("number"==typeof t)switch(t){case 0:return"disabled";case 1:return"hidden";case 2:return"showing"}return"disabled"}function R_(){}function B_(t){var n,i=[gm.ra,gm.Lw,gm.lw,gm.fw,gm.mw,gm.Aw,gm.gw,gm.Mw,gm.Nw,gm.Dw],r=[p_.ha],e={get kind(){return t.zt},get label(){return t.kh},set label(n){t.kh=Cm(n)},get language(){return t.gs},get id(){return t.o},get uid(){return t.Xw},get inBandMetadataTrackDispatchType(){return t.fv},get mode(){return t._v},set mode(n){n!==A_.Jn&&n!==A_.vv&&n!==A_.Ch||t.mv(n)},get forced(){return Boolean(t.pv)},get accessibility(){var n,i;return null!=(i=null==(n=t.Zw)?void 0:n.map(Pm))?i:[]},get type(){return t.Av},get readyState(){return t.Sg},get cues(){return t._v===A_.Ch?null:t.L.va},get activeCues(){return t._v===A_.Ch?null:t.q.va},get src(){return t.yv||""},addEventListener:function(t,i){var r=Om(t,Cm);n.yn(r,i)},removeEventListener:function(t,i){var r=Om(t,Cm);n.fn(r,i)}};return n=new ta(t),t.yn(i,(function(t){return n.Co(t.va)})),t.yn(r,(function(t){return n.Co(t)})),g.defineProperty(e,"constructor",{value:R_}),e}function P_(){}function U_(t){var n=Bm(t);return g.defineProperty(n,"constructor",{value:P_}),n}yt(),C(),zt(),Mt(),Ut(),yt(),C(),function(t){t.Ch="disabled",t.vv="hidden",t.Jn="showing"}(A_||(A_={})),yt(),C(),Mt(),yt(),C(),yt(),C(),function(t){t.ha="error"}(p_||(p_={}));var Q_,Y_=function(t){function n(){return t.apply(this,arguments)}bt(n,t);var i=n.prototype;return i.tt=function(n){return t.prototype.tt.call(this,n)},i.it=function(n){var i=t.prototype.it.call(this,n);return i&&(n._v=A_.Ch),i},i.fa=function(){return U_(this)},n}(mm);yt(),C(),yt(),C(),function(t){t.HA="subtitles",t.sD="captions",t.nD="descriptions",t.Fn="chapters",t.ZA="metadata",t.rD="thumbnails"}(Q_||(Q_={}));var F_=["subtitles","captions","descriptions","chapters","metadata","thumbnails"];function G_(t){return"string"==typeof t&&mo(F_,t)}function V_(t,n){return!(!G_(t)||!G_(n))&&(t===n||"subtitles"===t&&"captions"===n||"captions"===t&&"subtitles"===n)}yt(),C(),Mt();var W_,X_=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i,u)||this).url=r,s.status=e,s}return bt(n,t),n}(Kv);function Z_(t){return t===Q_.HA||t===Q_.sD}function H_(t){return t.some(K_)}function K_(t){return Rs(t,"stpp")}function q_(t){return t.some(J_)}function J_(t){return Rs(t,"vtt")||Rs(t,"wvtt")}function $_(t,n){return Nv(t)&&q_(n)}function tk(t,n){return t===Q_.rD||t===Q_.ZA&&n===Q_.rD}function nk(t,n,i,r){for(var e=0,u=t.L.Rw;e<u.length;e++){var s=u[e];if(s.MS>i)break;n<=s.bS&&!mo(r,s)&&r.push(s)}}function ik(t,n){return eo(t.Xw,n.Xw)}function rk(t,n,i,r){var e=function(t){switch(t){case mA.WEBVTT:return"WebVTT";case mA.SRT:return"SRT";case mA.TTML:return"TTML";default:return""}}(t);return new X_(Xv.SUBTITLE_PARSE_ERROR,"Could not parse the "+(e?e+" ":"")+"subtitle file.",n,i,r)}function ek(t,n){for(var i=[],r=0,e=t.L.Rw;r<e.length;r++){var u=e[r];if(u.bS<=n)i.push(u);else if(u.MS>=n)break}for(var s=0;s<i.length;s++){var o=i[s];t.gD(o)}}function uk(t,n){if(t.U>0)for(var i=t.Cn(0),r=w.max(0,i-10),e=0;e<n.length;e++){n[e].wD(r)}}!function(t){t.vD="vtt",t.SA="wvtt",t.mD="stpp"}(W_||(W_={}));var sk=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Z=new Y_,n.pD=function(t){var i=t.Lt;n.yD(i)},n}bt(n,t);var i=n.prototype;return i.tt=function(t){t.yn(gm.ra,this.pD),this.Z.tt(t),this.yD(t)},i.it=function(t){t.fn(gm.ra,this.pD),t._v=A_.Ch,this.Z.it(t)},i.MD=function(t){},i.bD=function(t){},i.yD=function(t){t._v!==A_.Ch?this.MD(t):this.bD(t)},i.TD=function(){for(var t=0,n=this.Z.Rw;t<n.length;t++){var i=n[t];i.fn(gm.ra,this.pD),i.gn()}},i.wD=function(t){if(t>0)for(var n=0,i=this.Z.Rw;n<i.length;n++){ek(i[n],t)}},i.tr=function(){return this.TD(),this.Z.tr(),q.resolve()},i.gn=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return t.Vo(),[4,t.tr()];case 1:return n.sent(),t.Z.gn(),[2]}}))}))()},n}($o);yt(),C(),pt(),Mt();var ok=function(t){function n(n){var i;return(i=t.call(this,p_.ha)||this).errorObject=n,i}return bt(n,t),n.prototype.fa=function(){return this},At(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(am),ak=function(t){function n(n,i){var r;return(r=t.call(this)||this).dE=new zo,r.oE=n,r.aE=i,r}bt(n,t);var i=n.prototype;return i.nE=function(t){if(t.src){var n=t.kind||Q_.HA,i=this.oE.rE(n,t.id,t.label,t.srclang,t.default);return i.yv=cy(t.src),this.tt(i),i}},i.hE=function(t,n){var i=this;return Ot((function(){var r,e,u,s,o,a,c,h,f,v;return Rt(this,(function(l){switch(l.label){case 0:t.Sg=yA.LOADING,r=new ey({zu:t.yv,qD:pl.Ru,ZD:Jw.GET,f_:n}),l.label=1;case 1:return l.trys.push([1,4,,5]),[4,i.aE.uD(r)];case 2:return s=l.sent(),u=s.fD,[4,s.uE()];case 3:return e=l.sent(),[3,5];case 4:return Uo(o=l.sent()),t.Sg=yA.ERROR,t.Co(new ok(function(t,n){var i=n,r=0;if(Sy(t)&&t.name===hy.oD)i=t.uD.zu;else if(Ly(t)){var e=t.lD;if(i=e.cE,0===(r=e.fD))return new X_(Xv.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",i,r,t)}return new X_(Xv.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",i,r,t)}(o,t.yv))),[2];case 5:try{for(a=function(t){return Pp(t)?mA.WEBVTT:O_(t)?mA.TTML:mA.SRT}(e),t.Av=a,c=[],a===mA.WEBVTT||a===mA.SRT?(h=Dp(e),c=h.L):a===mA.TTML&&(c=T_(e,t)),f=0;f<c.length;f++)v=c[f],t.lE(v)}catch(n){return Uo(n),t.Sg=yA.ERROR,t.Co(new ok(rk(t.Av,t.yv,u,n))),[2]}return t.Sg=yA.LOADED,[2]}}))}))()},i.MD=function(t){mo(this.Z.Rw,t)&&t.Sg===yA.NONE&&this.hE(t,this.dE.f_).catch(Qo)},i.$n=function(){},i.tr=function(){var n=this;return Ot((function(){var i,r,e;return Rt(this,(function(u){switch(u.label){case 0:for(n.dE.g_(),n.dE=new zo,i=0,r=n.Z.Rw;i<r.length;i++)e=r[i],n.oE.fE(e);return[4,t.prototype.tr.call(n)];case 1:return u.sent(),[2]}}))}))()},n}(sk);function ck(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.zt===n&&r._E)return r}}function hk(t,n){fk(ck(t.Rw,n))}function fk(t){void 0!==t&&(t._v=A_.Jn)}function vk(t,n){var i=ck(t.Rw,n)||function(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.zt===n)return r}}(t.Rw,n);fk(i)}function lk(t){for(var n=0;n<F_.length;n++){var i=F_[n];i===Q_.Fn?vk(t,i):hk(t,i)}}yt(),C(),yt(),C(),Mt();var dk,gk,wk=function(t){function n(){return t.call(this,Al.Jv)}return bt(n,t),n}(ra);yt(),C(),yt(),C(),function(t){t[t.Tj=0]="Tj",t[t.Sj=1]="Sj"}(dk||(dk={})),yt(),C(),function(t){t.pm="canplay",t.Am="canplaythrough",t.ym="loadeddata",t.Mm="loadedmetadata",t.Nw="readystatechange",t.Tm="waiting",t.Sm="playing"}(gk||(gk={}));var yk=["canplay","canplaythrough","loadeddata","loadedmetadata","readystatechange","waiting","playing"];yt(),C(),pt(),Mt(),yt(),C(),Mt();var mk,Ak=function(t){function n(n,i){var r;return(r=t.call(this,gk.Nw)||this).currentTime=n,r.readyState=i,r}return bt(n,t),n}(ra);yt(),C(),function(t){t[t.BT=0]="BT",t[t.Xn=1]="Xn",t[t.UT=2]="UT",t[t.QT=3]="QT",t[t.FT=4]="FT"}(mk||(mk={})),yt(),C(),Mt();var pk=function(t){function n(n,i){var r;return void 0===i&&(i=mk.Xn),(r=t.call(this,gk.Mm)||this).currentTime=n,r.readyState=i,r}return bt(n,t),n}(ra);yt(),C(),Mt();var _k=function(t){function n(n,i){var r;return void 0===i&&(i=mk.UT),(r=t.call(this,gk.ym)||this).currentTime=n,r.readyState=i,r}return bt(n,t),n}(ra);yt(),C(),Mt();var kk=function(t){function n(n){var i;return(i=t.call(this,gk.Tm)||this).currentTime=n,i}return bt(n,t),n}(ra);yt(),C(),Mt();var bk=function(t){function n(n,i){var r;return void 0===i&&(i=mk.QT),(r=t.call(this,gk.pm)||this).currentTime=n,r.readyState=i,r}return bt(n,t),n}(ra);yt(),C(),Mt();var Mk=function(t){function n(n,i){var r;return void 0===i&&(i=mk.FT),(r=t.call(this,gk.Am)||this).currentTime=n,r.readyState=i,r}return bt(n,t),n}(ra);yt(),C(),Mt();var Tk=function(t){function n(n){var i;return(i=t.call(this,gk.Sm)||this).currentTime=n,i}return bt(n,t),n}(ra),Nk=[gk.Nw,gk.Sm,Al.jh,Al.Sh],Dk=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this)||this).Dj=n,r.Cj=i,r.Oj=mk.BT,r.Bj=!0,r.Lj=!1,r.Ij=!1,r.Yj=function(t){var n=r.Dj.Sg;n!==r.Oj&&r.Co(new Ak(t.currentTime,n)),n===mk.BT&&(r.Lj=!1,r.Ij=!1),r.Nj(n),r.Ej(n),r.zj(n),r.maybeDispatchCanPlayThroughEvent(n),r.xj(n),r.Rj(n),r.Oj=n},r.Qj=function(){r.Rj(r.Oj),r.xj(r.Oj),r.Bj=r.Dj.fg},r.Fj=function(){r.Bj=r.Dj.fg},r.Uj=function(t){r.Co(new Tk(t.currentTime))},r.Dj.yn(gk.Nw,r.Yj),r.Dj.yn(Al.jh,r.Qj),r.Dj.yn(Al.Sh,r.Fj),r.Cj&&r.Dj.yn(gk.Sm,r.Uj),r}bt(n,t);var i=n.prototype;return i.Nj=function(t){!this.Ij&&t>=mk.Xn&&(this.Ij=!0,this.Co(new pk(this.Dj.U_,t)))},i.Ej=function(t){!this.Lj&&t>=mk.UT&&(this.Lj=!0,this.Co(new _k(this.Dj.U_,t)))},i.xj=function(t){this.Cj||(t>=mk.QT&&this.Oj<mk.QT&&!this.Dj.fg||this.jj&&t>=mk.QT)&&this.Co(new Tk(this.Dj.U_))},i.Rj=function(t){!this.Pj(t)||this.Dj.G_||this.Dj.lt||this.Co(new kk(this.Dj.U_))},i.zj=function(t){this.Oj<=mk.UT&&t>=mk.QT&&this.Co(new bk(this.Dj.U_,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===mk.FT&&this.Co(new Mk(this.Dj.U_,t))},i.Pj=function(t){var n=!this.Dj.fg&&t<=mk.UT,i=!this.Bj&&this.Oj<=mk.UT;return n&&!i},i.tr=function(){this.Oj=mk.BT,this.Bj=!0,this.Lj=!1,this.Ij=!1},i.gn=function(){this.Vo(),this.Cj&&this.Dj.fn(gk.Sm,this.Uj),this.Dj.fn(Al.jh,this.Qj),this.Dj.fn(Al.Sh,this.Fj),this.Dj.fn(gk.Nw,this.Yj)},At(n,[{key:"jj",get:function(){return!this.Dj.fg&&this.Bj}}]),n}($o),Ik=function(t){function n(n){var i;return(i=t.call(this)||this).Dj=n,i.Dj.yn(Nk,i.Ds),i}return bt(n,t),n.prototype.h_=function(){this.Vo(),this.Dj.fn(Nk,this.Ds)},At(n,[{key:"U_",get:function(){return this.Dj.U_}},{key:"G_",get:function(){return this.Dj.G_}},{key:"lt",get:function(){return this.Dj.lt}},{key:"fg",get:function(){return this.Dj.fg}},{key:"Sg",get:function(){return this.Dj.Sg}}]),n}($o);yt(),C(),yt(),C();var Ek="titanium",Sk="conax",Lk="ezdrm",jk="irdeto",Ck="vudrm",xk="verimatrix",Ok="keyos",zk="drmtoday",Rk="expressplay",Bk="azure",Pk="xstream",Uk="vimond",Qk="axinom",Yk="uplynk",Fk="comcast",Gk="custom";yt(),C(),zt(),Mt(),Ut(),yt(),C(),zt(),Mt(),Ut(),yt(),C(),zt(),pt(),Ut();var Vk=function(){function t(t,n,i,r,e){this.Vj=void 0,this.Qp=t,this.fR=n,this._R=i,this.aE=r,this.dR=e,this.qj=this.gR(n)}var n=t.prototype;return n.Gj=function(){return this.Vj},n.Wj=function(t){this.Vj=t},n.Kj=function(){return this.qj.licenseAcquisitionURL||this.Gj()},n.$j=function(t){return q.resolve()},n.tR=function(t,n){return q.resolve(void 0)},n.iR=function(t,n,i,r){var e=this;return Ot((function(){var u,s;return Rt(this,(function(o){switch(o.label){case 0:if(""===(u=e.eR(t,n,i,r)).zu)throw new Xm(Xv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");o.label=1;case 1:return o.trys.push([1,4,,6]),[4,e.Hj.uD(u)];case 2:return[4,o.sent().sR(n)];case 3:return[2,o.sent()];case 4:return Uo(s=o.sent()),[4,e.nR(s,u.zu,r)];case 5:return o.sent(),[2];case 6:return[2]}}))}))()},n.eR=function(t,n,i,r){var e=this.rR().ED(),u=this.tE,s={zu:this.oR(),qD:n,XD:e,HD:t,tE:u,ZD:Jw.POST,_D:0,f_:r,Av:$w.jD,JD:i};return new ey(s)},n.hR=function(t,n){return q.resolve(t)},n.aR=function(t,n,i,r){return q.resolve(t)},n.rR=function(){return new kl(this.qj.headers||{})},n.nR=function(t,n,i){return Ot((function(){return Rt(this,(function(n){throw new Xm(Xv.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",t)}))}))()},n.oR=function(t,n){var i=n,r=this.qj.queryParameters;if(!i){var e=this.Kj();if(!e)return"";i=e}if(r||t){var u=an.Dh(i);t&&ay(u,t),r&&ay(u,r),i=u.href}return i},n.uR=function(t,n){return Wk(t)},n.cR=function(t){return new p(t)},n.lR=function(t,n,i){var r=this;return Ot((function(){var e,u;return Rt(this,(function(s){switch(s.label){case 0:return[4,r.uR(t,i)];case 1:return e=s.sent(),[4,r.iR(e,r.dR,n,i)];case 2:return u=s.sent(),[2,r.cR(u)]}}))}))()},n.gn=function(){},At(t,[{key:"Hj",get:function(){return this.aE}},{key:"Xj",get:function(){return!1}},{key:"Zj",get:function(){var t=this.qj.certificate;if(t)return Fn(t)?ma(t):Lc(t)}},{key:"Jj",get:function(){return!1}},{key:"tE",get:function(){return Boolean(this.qj.useCredentials)}}]),t}();function Wk(t){return q.resolve(Cc(t).buffer)}var Xk,Zk=function(t){function n(n,i,r,e){return t.call(this,Is,n,i,r,e)}bt(n,t);var i=n.prototype;return i.gR=function(t){return t.widevine||{}},i.wR=function(t,n){var i=this;return Ot((function(){return Rt(this,(function(r){return i.Zj?[2,i.Zj]:[2,i.vR(new p(t),n)]}))}))()},i.vR=function(n,i){return t.prototype.lR.call(this,n,ty.BD,i)},n}(Vk);function Hk(t,n){if(null==t)return{};var i,r,e={},u=g.keys(t);for(r=0;r<u.length;r++)i=u[r],n.indexOf(i)>=0||(e[i]=t[i]);return e}function Kk(t){return Rn(t.token&&t.deviceId)}function qk(t){var n,i=null==(n=t.fairplay)?void 0:n.headers;return void 0!==i&&Rn(i.PreAuthorization)}function Jk(t){var n=t;return Kk(n)&&""!==n.token&&""!==n.deviceId&&!qk(n)}yt(),C(),yt(),C(),Ht(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),function(t){t.Cp=!1,t.Op=!1,t.jp=!1,t.Rp=!1,t.LOG_ADS_DETAILS=!1,t.LOG_CHROMECAST_DETAILS=!1,t.LOG_CUSTOM_DRM=!1,t.LOG_BUFFERING_VIDEO_MAIN=!1,t.LOG_BUFFERING_VIDEO_SELECTION=!1,t.LOG_BUFFERING_AUDIO_MAIN=!1,t.LOG_BUFFERING_AUDIO_SELECTION=!1,t.Pp=!1,t.zp=!1,t.LOG_LCEVC_DETAILS=!1}(Xk||(Xk={})),yt(),C(),pt();var $k,tb=function(){function t(t,n,i){this.Up=t,this.Fp=n,this.Gp=i}return t.prototype.Yp=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new l("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new l("ContentProtectionIntegration.onCertificateResponse is not a function.");var r=t.onLicenseRequest;if(void 0!==r&&"function"!=typeof r)throw new l("ContentProtectionIntegration.onLicenseRequest is not a function.");var e=t.onLicenseResponse;if(void 0!==e&&"function"!=typeof e)throw new l("ContentProtectionIntegration.onLicenseResponse is not a function.");var u=t.extractFairplayContentId;if(void 0!==u&&"function"!=typeof u)throw new l("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.Gp.build(t))},At(t,[{key:"Bp",get:function(){return this.Up}},{key:"Qp",get:function(){return this.Fp}}]),t}();yt(),C(),function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}($k||($k={}));var nb=function(){function t(){this.Wp=[]}var n=t.prototype;return n.registerContentProtectionIntegration=function(t,n,i){switch(this.Vp(t,n,i)){case $k.FAILED:throw new Xm(Xv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+n+".");case $k.OVERRIDDEN:var r=Ab(n);an.vp("Warning: Overwriting an earlier registered integration for "+t+" and "+r+".");break;case $k.SUCCEEDED:Ab(n);0}},n.Vp=function(t,n,i){var r=Ab(n);if(!r)return $k.FAILED;for(var e=$k.SUCCEEDED,u=0,s=this.Wp.slice();u<s.length;u++){var o=s[u];o.Bp===t&&o.Qp===r&&(e=$k.OVERRIDDEN,go(this.Wp,o))}return this.Wp.push(new tb(t,r,i)),e},n.Hp=function(t,n){return void 0!==this.Xp(t,n)},n.Zp=function(t,n,i){var r=this.Xp(t,n);if(!r)throw v("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return r.Yp(i)},n.Xp=function(t,n){for(var i=0,r=this.Wp;i<r.length;i++){var e=r[i];if(e.Bp===t&&(!n||e.Qp===n))return e}},t}();nb.qp=new nb;var ib={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function rb(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,r=t.keys,e=t.headers,u=t.useCredentials,s=t.queryParameters;return!(n||i||r||e||u||s)}function eb(t){return t&&void 0!==t.licenseAcquisitionURL}var ub,sb=eb,ob=eb;function ab(t){if(!t)return!0;if(vb(t))return!1;var n=t.fairplay,i=t.playready,r=t.widevine,e=t.clearkey,u=t.aes128;return rb(n)&&rb(i)&&rb(r)&&void 0===e&&rb(u)}function cb(t){var n=Jk(t),i=function(t){var n,i=t;return qk(i)&&""!==(null==(n=i.fairplay)?void 0:n.headers.PreAuthorization)&&!Kk(i)}(t);return(!n||!i)&&(n||i)}function hb(t){return t.integration===jk}function fb(t){var n=t;if(!n)return!1;if(ab(n))return!1;var i=n.fairplay,r=n.playready,e=n.widevine,u=n.clearkey;if(vb(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(r&&!sb(r))return!1;if(e&&!ob(e))return!1;if(u&&!function(t){return void 0!==t}(u))return!1;if(n.integration){if(nb.qp.Hp(n.integration))return!0;switch(n.integration){case Ek:if(!function(t){var n=t,i=n.integration===Ek;return i&&(lb(t)||db(t))}(t))return!1;break;case Ck:if(!gb(t))return!1;break;case xk:if(!function(t){var n=t;return n.integration===xk}(t))return!1;break;case jk:if(!hb(t))return!1;break;case Sk:if(!cb(t))return!1;break;case Lk:if(!function(t){var n=t;return n.integration===Lk}(t))return!1;break;case Ok:if(!vb(t))return!1;break;case zk:if(!function(t){var n=t;return n.integration===zk&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case Rk:if(!function(t){var n=t;return n.integration===Rk}(t))return!1;break;case Pk:if(!wb(t))return!1;break;case Uk:if(!function(t){return t.integration===Uk}(t))return!1;break;case Qk:if(!yb(t))return!1;break;case Bk:if(!function(t){var n=t;return n.integration===Bk&&void 0!==n.token}(t))return!1;break;case Yk:if(!function(t){var n=t;return n.integration===Yk}(t))return!1;break;case Fk:if(!function(t){var n=t;return n&&Rn(n.releasePid)&&Rn(n.accountId)&&Rn(n.token)}(t))return!1;break;case Gk:return!0;default:return!1}}return!0}function vb(t){return t.integration===Ok}function lb(t){return void 0!==t.authToken}function db(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function gb(t){var n=t;return n.integration===Ck&&void 0!==n.token}function wb(t){var n=t;return n&&n.integration===Pk&&Fn(n.ticketAcquisitionURL)&&Fn(n.streamId)}function yb(t){var n=t;return n.integration===Qk&&void 0!==n.token}function mb(t,n){var i,r,e,u=n[t],s=null!=(i=null==u?void 0:u.licenseAcquisitionURL)?i:ib[t],o=null!=(r=null==u?void 0:u.customdata)?r:n.customdata,a=o?{customData:o}:{},c=$u({},null!=(e=null==u?void 0:u.headers)?e:{},a),h=null!=u?u:{};h.customdata;return $u({},Hk(h,["customdata"]),{licenseAcquisitionURL:s,headers:c})}function Ab(t){switch(t.toLowerCase()){case"widevine":case ms:return ms;case"playready":case gs:return gs;case"fairplay":case bs:return bs}}function pb(t,n){switch(t){case fs:return function(t){for(var n={},i=f_.qy(new DataView(t)),r=0;r<i.length;r++){var e=i[r];n[e.vT]=e.AT}return n}(n);case vs:case ls:return function(t){return Zt({},ks,t)}(n);default:throw new Kv(Xv.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}!function(t){t.Ep="Widevine",t.mR="PlayreadyV2",t.pR="PlayreadyV3",t.Dp="PlayreadyV2",t.kp="Fairplay"}(ub||(ub={}));var _b={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function kb(t,n){var i,r,e,u,s=_b[n],o=t.accountName;return{CustomerName:t.customerName,AccountName:o,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(i=an.AR)?void 0:i.Ys,OSVersion:null==(r=an.AR)?void 0:r.yR,DRMProvider:s.DRMProvider,DRMVersion:s.DRMVersion,DRMType:s.DRMType,DeviceVendor:null==(e=an.AR)?void 0:e.MR,DeviceModel:null==(u=an.AR)?void 0:u.bR}}}function bb(t,n){if(!t.accountName)throw new Xm(Xv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration, accountName is not set.");if(!t.customerName)throw new Xm(Xv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration, customerName is not set.");if(!t.portalId)throw new Xm(Xv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration, portalId is not set.");throw new Xm(Xv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration.")}function Mb(t,n,i){var r;if(lb(t))r={AuthToken:t.authToken,Payload:n};else{if(!db(t))throw bb(t,i);r={LatensRegistration:kb(t,i),Payload:n}}return ja(JSON.stringify(r))}function Tb(t,n,i){return Nb.apply(this,arguments)}function Nb(){return Nb=Ot((function(t,n,i){var r,e,u,s;return Rt(this,(function(o){switch(o.label){case 0:if(!(r=t.lD))throw new Xm(Xv.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,n);e=r,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,e.SR(i)];case 2:return u=o.sent(),s=function(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}return}(u),[3,4];case 3:return o.sent(),s="",[3,4];case 4:throw new Xm(Xv.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,e.uD.zu,e.fD,e.NR,s)}}))})),Nb.apply(this,arguments)}yt(),C(),zt(),Ut();var Db=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,pl.ND)||this).ER=void 0,e}bt(n,t);var i=n.prototype;return i.nR=function(t,n,i){return Tb(t,n,i)},i.$j=function(t){return this.ER?Yo(this.ER.OL,t):(this.ER=new Bc,q.resolve())},i.uR=function(t,n){var i=this;return Ot((function(){var n,r;return Rt(this,(function(e){if(!(n=i.fR))throw new Xm(Xv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");return r=_a(t),[2,Mb(n,r,ub.Ep)]}))}))()},i.cR=function(t){if(!t.license)throw new Xm(Xv.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return ma(t.license)},i.kR=function(t){return q.resolve(new p(t))},i.wR=function(t,n){var i=this;return Ot((function(){var r,e;return Rt(this,(function(u){switch(u.label){case 0:return i.LR(),[4,i.uR(t,n)];case 1:return r=u.sent(),[4,i.iR(r,pl.SD,ty.UD,n)];case 2:return e=u.sent(),[4,i.kR(e)];case 3:return[2,u.sent()]}}))}))()},i.vR=function(n,i){var r=this;return Ot((function(){var e;return Rt(this,(function(u){switch(u.label){case 0:return[4,t.prototype.vR.call(r,n,i)];case 1:return e=u.sent(),r.LR(),[2,e]}}))}))()},i.LR=function(){this.ER||(this.ER=new Bc),this.ER.LL()},i.gn=function(){this.ER&&this.ER.g_(),t.prototype.gn.call(this)},n.IR=function(){return an.Ys.DR?"required":"optional"},n}(Zk);yt(),C(),zt(),pt(),Mt(),Ut();var Ib=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,pl.SD)||this).Wj("https://widevine-proxy.drm.technology/proxy"),e}return bt(n,t),n.prototype.uR=function(t,n){var i=this;return Ot((function(){var n,r,e,u;return Rt(this,(function(s){switch(s.label){case 0:return[4,Wk(t)];case 1:if(n=s.sent(),r=i._R,e=xc(new p(n)),!(u=i.xR))throw new Xm(Xv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");return[2,JSON.stringify({token:u,drm_info:e,kid:r})]}}))}))()},At(n,[{key:"xR",get:function(){if(gb(this.fR))return this.fR.token}}]),n}(Zk);function Eb(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=$u({},i,{SessionId:t.sessionId,Ticket:t.ticket})),$u({},i,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}yt(),C(),Mt(),yt(),C();var Sb=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,pl.SD)||this).Wj("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),e}return bt(n,t),n.prototype.oR=function(n,i){var r=n;return hb(this.fR)&&(r=Eb(this.fR,r)),t.prototype.oR.call(this,r,i)},n}(Zk);yt(),C(),Mt(),yt(),C();var Lb="Conax-Custom-Data";function jb(t,n,i){var r=t&&cb(t)&&t;if(r&&!i.has(Lb)){var e=Jk(r)?r.token:void 0,u=Jk(r)?r.deviceId:void 0,s=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:e,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:u}});i.set(Lb,s)}return i}var Cb=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,pl.SD)||this).Wj("https://connect.conax.com:8094/license"),e}return bt(n,t),n.prototype.rR=function(){var n=t.prototype.rR.call(this);return jb(this.fR,"Widevine",n)},n}(Zk);function xb(t){var n=yc(new p(t));return ma(JSON.parse(n).license)}function Ob(t){return"string"==typeof t.token?t.token:ja(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function zb(t,n,i){var r;return r=i.token?"x-dt-auth-token":"dt-custom-data",t.set(r,n),t}yt(),C(),pt(),Mt(),yt(),C();var Rb=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,pl.SD)||this).Wj("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),e}bt(n,t);var i=n.prototype;return i.cR=function(t){return xb(t)},i.rR=function(){return zb(t.prototype.rR.call(this),this.xR,this.fR)},At(n,[{key:"xR",get:function(){return Ob(this.fR)}}]),n}(Zk);yt(),C(),Mt();var Bb=function(t){function n(n,i,r){return t.call(this,n,i,r,pl.SD)}return bt(n,t),n.prototype.rR=function(){var n=t.prototype.rR.call(this),i=this.fR.token;return n.set("Authorization","Bearer "+i),n},n}(Zk);function Pb(t,n,i,r){return Ub.apply(this,arguments)}function Ub(){return Ub=Ot((function(t,n,i,r){var e,u,s,o,a,c;return Rt(this,(function(h){switch(h.label){case 0:if(!wb(t))throw new Xm(Xv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");return(e=new kl).append("Cache-Control","no-cache"),e.append("Content-Type","application/json"),(u=t.sessionId)&&e.append("XSSESSION",u),s=t.streamId,o=t.fairplay?"persistent"===t.fairplay.licenseType?"persistent":"non-persistent":t.widevine&&"persistent"===t.widevine.licenseType?"persistent":"non-persistent",a={drmType:n,licenseType:o,streamId:s},c={zu:t.ticketAcquisitionURL,qD:pl.ND,XD:e,ZD:Jw.POST,HD:JSON.stringify(a),f_:r},[4,i.uD(c)];case 1:return[4,h.sent().SR()];case 2:return[2,h.sent()]}}))})),Ub.apply(this,arguments)}yt(),C(),zt(),Mt(),Ut(),yt(),C(),zt(),Ut();var Qb=function(t){function n(n,i,r){return t.call(this,n,i,r,pl.ND)}bt(n,t);var i=n.prototype;return i.rR=function(){var n=t.prototype.rR.call(this);return n.set("Content-Type","application/json"),n},i.uR=function(n,i){var r=this;return Ot((function(){var e,u,s;return Rt(this,(function(o){switch(o.label){case 0:return e=La(n.buffer),[4,Pb(r.fR,"widevine_modular",r.Hj,i)];case 1:return u=o.sent(),r.Wj(u.licenseServerUrl),s=mc(JSON.stringify({payload:e,ticket:u.ticket})),[2,t.prototype.uR.call(r,s,i)]}}))}))()},i.cR=function(t){return ma(t.license)},n}(Zk);yt(),C(),Mt();var Yb=function(t){function n(n,i,r){return t.call(this,n,i,r,pl.SD)}return bt(n,t),n.prototype.rR=function(){if(!yb(this.fR))throw new Xm(Xv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var n=t.prototype.rR.call(this);return n.set("X-AxDRM-Message",this.fR.token),n},n}(Zk);function Fb(t){for(var n=new p(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}yt(),C(),zt(),Mt(),Ut();var Gb=function(t){function n(n,i,r){var e;return(e=t.call(this,Ds,n,i,r,pl.SD)||this).OR=void 0,e}bt(n,t);var i=n.prototype;return i.gR=function(t){return t.playready||{}},i.rR=function(){var n=new kl(this.OR);return n.LD(t.prototype.rR.call(this)),n},i.jR=function(t){return t.length>=1&&t[0].iD.length>0},i.tR=function(n){var i=this.fR.playready.customData;if(i){var r=Fb(i),e=Fb('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+_a(r)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return q.resolve({playready:{PO:e}})}return t.prototype.tR.call(this,n)},i.uR=function(t,n){var i=this;return Ot((function(){var n;return Rt(this,(function(r){switch(r.label){case 0:return[4,Wk(t)];case 1:return n=r.sent(),[2,i.RR(n)]}}))}))()},i.RR=function(t){var n=this;return Ot((function(){var i,r,e,u,s,o,a,c,h,f,v,l,d,g,w,y;return Rt(this,(function(m){e=null,u=new DataView(t),s=dc(u,new Oc,!0);try{o=an.KI(s)}catch(t){return[2,e]}for(a=null==(i=o.XI("PlayReadyKeyMessage")[0])?void 0:i.XI("LicenseAcquisition")[0],h=null!=(c=null==a?void 0:a.XI("Challenge"))?c:[],n.jR(h)&&(e=Sa(h[0].PR)),f=new kl,l=null!=(v=null==a||null==(r=a.XI("HttpHeaders")[0])?void 0:r.XI("HttpHeader"))?v:[],d=0;d<l.length;d++)g=l[d],w=g.XI("name")[0].PR,y=g.XI("value")[0].PR,f.append(w,y);return n.OR=f,[2,e]}))}))()},i.wR=function(t,n){return q.resolve(t)},i.vR=function(n,i){return t.prototype.lR.call(this,n,ty.QD,i)},n}(Vk);yt(),C(),zt(),Mt(),Ut(),yt(),C(),pt();var Vb=function(){function t(n){this.QR=n,this.kC=t.zR(n)}return t.prototype.UR=function(){var t={};if(this.kC===ub.pR){var n={LatensRegistration:kb(this.QR,ub.pR)};t["X-TITANIUM-DRM-CDATA"]=ja(JSON.stringify(n))}return t},t.zR=function(t){return"3"===t.version?ub.pR:ub.mR},At(t,[{key:"FR",get:function(){return this.kC}},{key:"kO",get:function(){return this.kC===ub.mR}}]),t}();var Wb=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).YR=new Vb(e.fR),e}bt(n,t);var i=n.prototype;return i.tR=function(t){var n=this.fR;if(!this.fR)throw new Xm(Xv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(db(n)){var i={};return i.playready={PO:Xb(n,this.YR.FR)},q.resolve(i)}return q.reject(bb(n,ub.Dp))},i.rR=function(){var n=new kl(this.YR.UR());return n.LD(t.prototype.rR.call(this)),n},i.nR=function(t,n,i){return Ot((function(){var r,e,u,s,o,a,c,h;return Rt(this,(function(f){switch(f.label){case 0:if(!(r=t.lD))throw new Xm(Xv.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,n);f.label=1;case 1:return f.trys.push([1,3,,4]),[4,r.GR(i)];case 2:return s=f.sent(),o=yc(new p(s)),(a=an.KI(o))&&(c=y_(a,"CustomData")).length>0&&(e=JSON.parse(c[0].PR),u=null==(h=e.DrmErr)?void 0:h.desc),[3,4];case 3:return f.sent(),[3,4];case 4:throw new Xm(Xv.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,n,r.fD,r.NR,u)}}))}))()},i.jR=function(t){if(1!==t.length)throw new Xm(Xv.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},n}(Gb);function Xb(t,n){var i=kb(t,n),r=i.DeviceInfo.FormatVersion,e=function(t){return t.replace(/&lt;/g,"<").replace(/&gt;/g,">")}(function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}("<TitaniumCustomData>"+ja('<LatensRegistration formatversion="'+r+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+r+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>")+"</TitaniumCustomData>")),u=pc(e,!0);return pc('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+_a(u)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}yt(),C(),pt(),Mt();var Zb=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).Wj("https://playready-license.drm.technology/rightsmanager.asmx"),e}bt(n,t);var i=n.prototype;return i.jR=function(t){if(1!==t.length)throw new Xm(Xv.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},i.oR=function(n,i){var r=$u({},n||{},{token:this.xR});return t.prototype.oR.call(this,r,i)},At(n,[{key:"xR",get:function(){if(gb(this.fR))return this.fR.token}}]),n}(Gb);yt(),C(),Mt();var Hb=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).Wj("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),e}return bt(n,t),n.prototype.oR=function(n,i){var r=n;return hb(this.fR)&&(r=Eb(this.fR,r)),t.prototype.oR.call(this,r,i)},n}(Gb);yt(),C(),Mt();var Kb=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).Wj("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),e}return bt(n,t),n.prototype.rR=function(){var n=t.prototype.rR.call(this);return jb(this.fR,"PlayReady",n)},n}(Gb);yt(),C(),pt(),Mt();var qb,Jb=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).Wj("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),e}bt(n,t);var i=n.prototype;return i.cR=function(n){var i=function(t){var n=yc(new p(t));return Bs(n,"<?xml")?0:1}(n);return 1===i?xb(n):t.prototype.cR.call(this,new p(n))},i.rR=function(){return zb(t.prototype.rR.call(this),this.xR,this.fR)},At(n,[{key:"xR",get:function(){return Ob(this.fR)}}]),n}(Gb);!function(t){t[t.HR=0]="HR",t[t.SR=1]="SR"}(qb||(qb={})),yt(),C(),zt(),Mt(),Ut();var $b=function(t){function n(n,i,r){return t.call(this,n,i,r)}bt(n,t);var i=n.prototype;return i.rR=function(){var n=t.prototype.rR.call(this);return this.XR&&n.set("Ticket",this.XR),n.set("Content-Type","text/xml"),n},i.uR=function(n,i){var r=this;return Ot((function(){var e;return Rt(this,(function(u){switch(u.label){case 0:return[4,Pb(r.fR,"playready",r.Hj,i)];case 1:return e=u.sent(),r.Wj(e.licenseServerUrl),r.XR=e.ticket,[2,t.prototype.uR.call(r,n,i)]}}))}))()},n}(Gb);yt(),C(),Mt();var tM,nM=function(t){function n(){return t.apply(this,arguments)}return bt(n,t),n.prototype.rR=function(){if(!yb(this.fR))throw new Xm(Xv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var n=t.prototype.rR.call(this);return n.set("X-AxDRM-Message",this.fR.token),n},n}(Gb);yt(),C(),zt(),pt(),Mt(),Ut(),yt(),C(),function(t){t.ND="application/json",t.ZR="application/x-www-form-urlencoded",t.qR="application/octet-stream",t.Ru="text/plain;charset=UTF-8"}(tM||(tM={}));var iM=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n.Qp,i,r,e,u)||this).iP="",s.JR=void 0,s.nP=n.hP,s}bt(n,t);var i=n.prototype;return i.KR=function(){return this.qj.certificateURL||this.JR},i.$R=function(t){this.JR=t},i.uR=function(t){return q.resolve(this.tP(t,this.iP))},i.tP=function(t,n){return"spc="+encodeURIComponent(_a(t))+"&assetId="+encodeURIComponent(n)},i.gR=function(t){return t.fairplay||{}},i.sP=function(t){var n=t.indexOf("?");if(n>=0)return q.resolve(t.substr(n+1));var i=t.split("skd://").pop();if(i){if(/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/.test(i))return q.resolve(i)}var r=t.split("/");return q.resolve(r[r.length-1])},i.tR=function(t){var n=this;return Ot((function(){var i,r,e,u;return Rt(this,(function(s){switch(s.label){case 0:return r=null!=(i=n.nP)?i:bc(new p(t)),[4,n.sP(r)];case 1:return e=s.sent(),n.iP=e,(u={}).fairplay={WO:e},[2,u]}}))}))()},i.rR=function(){var n=t.prototype.rR.call(this);return n.set("Content-Type",this.eP),n},i.wR=function(t,n){var i=this;return Ot((function(){return Rt(this,(function(t){switch(t.label){case 0:return i.Zj?[2,i.Zj]:[4,i.rP(n)];case 1:return[2,t.sent()]}}))}))()},i.vR=function(n,i){return t.prototype.lR.call(this,n,ty.PD,i)},i.oP=function(t){var n=this.KR(),i=this.rR(),r={zu:n,qD:pl.SD,XD:i,ZD:Jw.GET,tE:!1,HD:null,_D:0,f_:t,Av:$w.jD,JD:ty.zD};return new ey(r)},i.rP=function(t){var n=this;return Ot((function(){var i,r;return Rt(this,(function(e){switch(e.label){case 0:return i=n.oP(t),[4,n.Hj.uD(i)];case 1:return[4,e.sent().GR()];case 2:return r=e.sent(),[2,new p(r)]}}))}))()},i.cR=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=ma(i)}else n=new p(t);return n},i.oR=function(n,i){var r=t.prototype.oR.call(this,n,i);return Bs(r,"skd:")&&(r=r.substr(4)),r},At(n,[{key:"Jj",get:function(){return!0}},{key:"eP",get:function(){return tM.ZR}}]),n}(Vk);yt(),C(),zt(),pt(),Mt(),Ut();var rM=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,pl.SD)}bt(n,t);var i=n.prototype;return i.sP=function(n){var i=n.split("://",1);return"skd"!==i[0].slice(-3).toLowerCase()?q.resolve(""):(i=n.split(";",2)).length>1?q.resolve(i[1]):q.resolve(t.prototype.sP.call(this,n))},i.uR=function(t){return Ot((function(){return Rt(this,(function(n){return[2,t]}))}))()},i.cR=function(t){return new p(t)},i.oR=function(n,i){var r=n||{};return r.p1=Zi(),t.prototype.oR.call(this,r,i)},At(n,[{key:"eP",get:function(){return tM.qR}}]),n}(iM);yt(),C(),pt(),Mt();var eM=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,pl.SD)||this).Wj("https://fairplay-license.drm.technology/license"),u.$R("https://fairplay-license.drm.technology/certificate"),u}bt(n,t);var i=n.prototype;return i.tP=function(t,n){var i={token:this.xR,contentId:n,payload:_a(t)};return JSON.stringify(i)},i.cR=function(t){return new p(t)},i.rR=function(){var n=t.prototype.rR.call(this);return n.set("x-vudrm-token",this.xR),n},At(n,[{key:"eP",get:function(){return tM.ND}},{key:"xR",get:function(){if(!gb(this.fR))throw new Xm(Xv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.fR.token}}]),n}(iM);yt(),C(),Mt();var uM="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",sM="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",oM=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,pl.SD)}return bt(n,t),n.prototype.cR=function(n){var i=function(t){var n;try{n=JSON.parse(t).ckc}catch(t){throw new Xm(Xv.CONTENT_PROTECTION_LICENSE_INVALID,uM)}if(!n)throw new Xm(Xv.CONTENT_PROTECTION_LICENSE_ERROR,sM);return n}(yc(new DataView(n)));return t.prototype.cR.call(this,i)},n}(iM);yt(),C(),zt(),pt(),Mt(),Ut();var aM=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,pl.ND)}bt(n,t);var i=n.prototype;return i.uR=function(t){var n=this;return Ot((function(){var i,r;return Rt(this,(function(e){if(!(i=n.fR))throw new Xm(Xv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");return r=_a(t),[2,Mb(i,r,ub.kp)]}))}))()},i.cR=function(t){try{var n;if(Fn(t)){var i=t.trim();n=JSON.parse(i)}else n=t;if(n.license){var r=Sa(n.license);return new p(r)}throw new Xm(Xv.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server")}catch(t){throw new Xm(Xv.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server")}},i.nR=function(t,n,i){return Tb(t,n,i)},At(n,[{key:"eP",get:function(){return tM.ND}}]),n}(iM);yt(),C(),zt(),pt(),Mt(),Ut();var cM=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,pl.SD)||this).Wj("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),u.$R("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),u}bt(n,t);var i=n.prototype;return i.KR=function(){var n=t.prototype.KR.call(this);if(!n)return n;var i=an.Dh(n),r=this.fR;return hb(r)&&ay(i,{accountId:r.accountId,applicationId:r.applicationId||""}),i.href},i.sP=function(n){return hb(this.fR)?q.resolve(this.fR.contentId):t.prototype.sP.call(this,n)},i.uR=function(t){return Ot((function(){return Rt(this,(function(n){return[2,t]}))}))()},i.cR=function(t){return new p(t)},i.oR=function(n,i){var r=n;return hb(this.fR)&&(r=function(t,n){return $u({},Eb(t,n),{KeyId:t.keyId})}(this.fR,r)),t.prototype.oR.call(this,r,i)},At(n,[{key:"eP",get:function(){return tM.qR}}]),n}(iM);yt(),C(),zt(),Mt(),Ut();var hM=function(t){function n(n,i,r,e){var u;if(u=t.call(this,n,i,r,e,pl.Ru)||this,!cb(i))throw new Xm(Xv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return u.Wj("https://connect.conax.com:8097/license"),u}bt(n,t);var i=n.prototype;return i.rR=function(){var n=t.prototype.rR.call(this);return jb(this.fR,"FairPlay",n)},i.rP=function(t){var n=this;return Ot((function(){var i,r,e;return Rt(this,(function(u){switch(u.label){case 0:return i=n.KR(),r={zu:i,qD:pl.SD,XD:{},ZD:Jw.GET,tE:!1,HD:null,_D:0,f_:t,Av:$w.jD,JD:ty.zD},[4,n.Hj.uD(r)];case 1:return[4,u.sent().GR()];case 2:return e=u.sent(),[2,new p(e)]}}))}))()},i.uR=function(t){return Ot((function(){return Rt(this,(function(n){return[2,t]}))}))()},i.sP=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring(6,i):t.substring(6),q.resolve(function(t){return yc(ma(t))}(n))):q.resolve("unknown")},i.cR=function(t){try{var n=JSON.parse(t);return new p(Sa(n.CkcMessage))}catch(t){throw new v("CFLRW-66")}},n}(iM);yt(),C(),Mt();var fM=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,pl.Ru)||this).Wj(ib[cs.kp]),u}bt(n,t);var i=n.prototype;return i.sP=function(t){return Bs(t,"skd://")?q.resolve(t.substring(6,40)):q.reject(new Xm(Xv.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},i.tP=function(t,n){return"spc="+_a(t)+"&assetId="+n},n}(iM);yt(),C(),pt(),Mt();var vM=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,pl.Ru)||this).Wj("https://lic.drmtoday.com/license-server-fairplay/"),u}bt(n,t);var i=n.prototype;return i.tP=function(t,n){var i="spc="+encodeURIComponent(_a(t))+"&"+encodeURI(n);return"persistent"===this.qj.licenseType?i+"&offline=true":i},i.rR=function(){return zb(t.prototype.rR.call(this),this.xR,this.fR)},At(n,[{key:"xR",get:function(){return Ob(this.fR)}}]),n}(iM);yt(),C(),zt(),pt(),Mt(),Ut();var lM=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,pl.SD)}bt(n,t);var i=n.prototype;return i.sP=function(t){var n=t;return Bs(n,"skd:")&&(n="http:"+n.substring(4)),Bs(n,"http:")||Bs(n,"https:")?q.resolve(an.Dh(n).hostname):q.reject(new v("Could not parse ExpressPlay FairPlay content ID."))},i.uR=function(t){return Ot((function(){return Rt(this,(function(n){return[2,t]}))}))()},i.cR=function(t){return new p(t)},At(n,[{key:"eP",get:function(){return tM.qR}}]),n}(iM);yt(),C(),Mt();var dM=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,pl.Ru)}return bt(n,t),n.prototype.rR=function(){var n=t.prototype.rR.call(this),i=this.fR.token;return n.set("Authorization","Bearer "+i),n},n}(iM);yt(),C(),zt(),pt(),Mt(),Ut();var gM=function(t){function n(n,i,r,e){var u=t.call(this,n,i,r,e,pl.ND);if(!wb(i))throw new v("Invalid Xstream DRM configuration");return u}bt(n,t);var i=n.prototype;return i.rP=function(t){var n=this;return Ot((function(){var i,r,e,u;return Rt(this,(function(s){switch(s.label){case 0:return i=n.KR(),r=n.rR(),e={zu:i,qD:pl.ND,XD:r,ZD:Jw.POST,f_:t,Av:$w.jD,JD:ty.zD},[4,n.Hj.uD(e)];case 1:return[4,s.sent().SR()];case 2:return u=s.sent(),[2,new p(ma(u.certificate))]}}))}))()},i.vR=function(t,n,i){void 0===i&&(i=pl.Ru);var r=this;return Ot((function(){var i,e,u,s;return Rt(this,(function(o){switch(o.label){case 0:return i=_a(t),[4,Pb(r.fR,"fairplay",r.Hj,n)];case 1:return e=o.sent(),u=mc(JSON.stringify({spc:i,ticket:e.ticket})),s={zu:r.Kj(),qD:pl.ND,XD:r.rR(),ZD:Jw.POST,HD:u,_D:0,f_:n,Av:$w.jD,JD:ty.PD},[4,r.Hj.uD(s)];case 2:return[4,o.sent().SR()];case 3:return[2,ma(o.sent().licence)]}}))}))()},At(n,[{key:"eP",get:function(){return tM.ND}}]),n}(iM);yt(),C(),Mt();var wM=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,pl.Ru)}bt(n,t);var i=n.prototype;return i.tP=function(t,n){return _a(t)},i.cR=function(n){if(0===n.length)throw new Xm(Xv.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.cR.call(this,n)},i.rR=function(){var n=t.prototype.rR.call(this);return n.set("Content-Type","text/plain"),n},n}(iM);yt(),C(),pt(),Mt();var yM=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,pl.SD)}bt(n,t);var i=n.prototype;return i.tP=function(t,n){return t},i.cR=function(t){return new p(t)},i.rR=function(){if(!yb(this.fR))throw new Xm(Xv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var n=t.prototype.rR.call(this);return n.set("X-AxDRM-Message",this.fR.token),n},At(n,[{key:"eP",get:function(){return tM.ND}}]),n}(iM);yt(),C(),pt(),Mt();var mM=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,pl.ND)||this).aP=void 0,u}bt(n,t);var i=n.prototype;return i.tP=function(t,n){var i={spc:_a(t)};return JSON.stringify(i)},i.sP=function(t){var n=an.Dh(t);return this.aP=t,n.searchParams.has("b")?q.resolve(n.searchParams.get("b")):q.reject(new Xm(Xv.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},i.oR=function(n,i){var r=this.Kj();return!r&&this.aP&&(r=this.aP),r&&(r=r.replace("skd://","https://")),t.prototype.oR.call(this,n,i||r)},i.cR=function(t){try{var n;if((n=Fn(t)?JSON.parse(t.trim()):t).ckc)return ma(n.ckc)}catch(t){throw new Xm(Xv.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server")}throw new Xm(Xv.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server")},At(n,[{key:"eP",get:function(){return tM.Ru}}]),n}(iM);yt(),C(),zt(),Mt(),Ut(),yt(),C(),zt(),Ut(),yt(),C();var AM=function(){function t(t,n){this.cP=t,this.dP=n}var n=t.prototype;return n.uP=function(t){return this.cP(t)},n.lP=function(t,n){throw new l(n+" must be "+this.dP+". (Received: "+t+")")},t}(),pM=(new AM((function(t){return!0}),"any"),new AM(Xn,"a number")),_M=new AM(Fn,"a string"),kM=new AM(Gn,"a boolean"),bM=(new AM(Wn,"a date"),new AM(Bn,"undefined")),MM=new AM(Qn,"an object"),TM=new AM((function(t){return null===t}),"null");new AM((function(t){return null==t}),"null or undefined");function NM(t,n){throw new l(n+" has an incorrect type")}var DM=function(){function t(t){this.fP=t}var n=t.prototype;return n.uP=function(t){if(!Qn(t))return!1;for(var n=0,i=g.keys(this.fP);n<i.length;n++){var r=i[n];if(!this.fP[r].uP(t[r]))return!1}return!0},n.lP=function(t,n){if(!Qn(t))throw new l(n+" must be an object.");for(var i=0,r=g.keys(this.fP);i<r.length;i++){var e=r[i],u=this.fP[e];if(!u.uP(t[e]))return u.lP(t[e],n+"."+String(e))}throw new l},t}();function IM(t){return new DM(t)}function EM(t){return g.keys(t).map((function(n){return t[n]}))}var SM=function(){function t(t){this.tf=t}var n=t.prototype;return n.uP=function(t){return mo(this.tf,t)},n.lP=function(t,n){return NM(0,n)},t}();function LM(t){return new SM(t)}var jM=function(){function t(t){this._P=t}var n=t.prototype;return n.uP=function(t){return this._P.some((function(n){return n.uP(t)}))},n.lP=function(t,n){return NM(0,n)},t}();function CM(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return new jM(n)}var xM=function(){function t(t){this.gP=t}var n=t.prototype;return n.uP=function(t){var n=this;return Pn(t)&&t.every((function(t){return n.gP.uP(t)}))},n.lP=function(t,n){if(!Pn(t))throw new l(n+" must be an array.");for(var i=0;i<t.length;i++){var r=t[i];this.gP.uP(r)||this.gP.lP(r,n+"["+i+"]")}return NM(0,n)},t}();function OM(t){return new xM(t)}var zM=function(){function t(t){this.gP=t}var n=t.prototype;return n.uP=function(t){var n=this;return Qn(t)&&g.keys(t).every((function(i){return n.gP.uP(t[i])}))},n.lP=function(t,n){if(!Qn(t))throw new l(n+" must be an object.");for(var i=0,r=g.keys(t);i<r.length;i++){var e=r[i];if(!this.gP.uP(t[e]))return this.gP.lP(t[e],n+"."+e)}return NM(0,n)},t}();function RM(t){return new zM(t)}var BM=function(){function t(t){this.gP=ti(t)}var n=t.prototype;return n.uP=function(t){return this.gP().uP(t)},n.lP=function(t,n){return this.gP().lP(t,n)},t}();var PM=IM({responseCode:pM,isException:kM,description:_M,title:_M,correlationId:_M});function UM(t,n,i,r,e){return QM.apply(this,arguments)}function QM(){return QM=Ot((function(t,n,i,r,e){var u;return Rt(this,(function(s){switch(s.label){case 0:return u=function(t,n,i,r){var e={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(oy(i,e)),s=new kl({});s.append("Content-Type","application/json");var o=_a(t),a={getFairplayLicense:{releasePid:n.releasePid,spcMessage:o}};return{zu:u,qD:pl.Ru,XD:s,ZD:Jw.POST,HD:JSON.stringify(a),f_:r,Av:$w.jD,JD:ty.PD}}(t,n,i,e),[4,YM(u,r)];case 1:return[2,s.sent()]}}))})),QM.apply(this,arguments)}function YM(t,n){return FM.apply(this,arguments)}function FM(){return FM=Ot((function(t,n){var i;return Rt(this,(function(r){switch(r.label){case 0:return[4,n.uD(t)];case 1:return[4,r.sent().SR()];case 2:if(i=r.sent(),PM.uP(i))throw new Xm(Xv.CONTENT_PROTECTION_LICENSE_ERROR,i.description,void 0,t.zu,i.responseCode);return[2,ma(i.getFairplayLicenseResponse.ckcResponse)]}}))})),FM.apply(this,arguments)}var GM=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,pl.SD)||this).wP=i,u}bt(n,t);var i=n.prototype;return i.sP=function(n){var i=n.replace("FairPlay",this.wP.releasePid);return t.prototype.sP.call(this,i)},i.vR=function(t,n){var i=this;return Ot((function(){return Rt(this,(function(r){switch(r.label){case 0:return[4,UM(t,i.wP,i.Kj(),i.Hj,n)];case 1:return[2,r.sent()]}}))}))()},n}(iM);yt(),C(),zt(),Mt(),Ut();var VM=function(t){function n(n,i,r){return t.call(this,Ls,n,i,r,pl.SD)}bt(n,t);var i=n.prototype;return i.gR=function(t){return t.clearkey||{}},i.iR=function(n,i,r,e){var u=this;return Ot((function(){var i,s;return Rt(this,(function(o){if(i=u.qj,u.Kj())return[2,t.prototype.iR.call(u,n,u.dR,r,e)];if(i.keys&&i.keys.length)return s={keys:i.keys.map((function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}}))},[2,Mc(JSON.stringify(s)).buffer];throw new Xm(Xv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.")}))}))()},i.wR=function(t,n){return q.resolve(new p(0))},i.vR=function(n,i){var r=this;return Ot((function(){var e,u,s,o,a;return Rt(this,(function(c){switch(c.label){case 0:return[4,t.prototype.lR.call(r,n,ty.FD,i)];case 1:if(e=c.sent(),(u=JSON.parse(bc(e))).keys)for(s=0,o=u.keys;s<o.length;s++)(a=o[s]).k&&(a.k=ka(a.k)),a.kid&&(a.kid=ka(a.kid));return[2,Mc(JSON.stringify(u))]}}))}))()},n}(Vk);yt(),C(),Mt();var WM=function(t){function n(){return t.apply(this,arguments)}return bt(n,t),n}(Zk);yt(),C(),zt(),Mt(),Ut(),yt(),C(),zt(),Ut();var XM={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function ZM(t,n,i){return HM.apply(this,arguments)}function HM(){return HM=Ot((function(t,n,i){var r,e,u;return Rt(this,(function(s){switch(s.label){case 0:return r=cT(n),(e=t.onCertificateRequest)&&"function"==typeof e?[4,Yo(q.resolve(e.call(t,r)),i)]:[2,q.resolve(n)];case 1:return Sc(u=s.sent())?[2,Lc(u)]:[2,aT($u({},XM,u))]}}))})),HM.apply(this,arguments)}function KM(t,n,i,r,e){return qM.apply(this,arguments)}function qM(){return qM=Ot((function(t,n,i,r,e){var u,s;return Rt(this,(function(o){switch(o.label){case 0:return u=t.onCertificateResponse,s=oT(n,i,r),u&&"function"==typeof u?[4,Yo(q.resolve(u.call(t,s)),e)]:[2,q.resolve(n)];case 1:return[2,Lc(o.sent())]}}))})),qM.apply(this,arguments)}function JM(t,n,i,r){return $M.apply(this,arguments)}function $M(){return $M=Ot((function(t,n,i,r){var e;return Rt(this,(function(u){switch(u.label){case 0:return[4,iT(t,n,i,r)];case 1:return(e=u.sent())instanceof ArrayBuffer?[2,e]:[2,aT(e)]}}))})),$M.apply(this,arguments)}function tT(t,n,i,r,e,u){return nT.apply(this,arguments)}function nT(){return nT=Ot((function(t,n,i,r,e,u){var s;return Rt(this,(function(o){switch(o.label){case 0:return s=sT(i,e),[4,eT(t,new p(n),s,r,u)];case 1:return[2,Lc(o.sent())]}}))})),nT.apply(this,arguments)}function iT(t,n,i,r){return rT.apply(this,arguments)}function rT(){return rT=Ot((function(t,n,i,r){var e,u,s;return Rt(this,(function(o){switch(o.label){case 0:return e=null==t?void 0:t.onLicenseRequest,u=sT(n,i),e&&"function"==typeof e?[4,Yo(q.resolve(e.call(t,u)),r)]:[2,q.resolve(u)];case 1:return Sc(s=o.sent())?[2,Lc(s).buffer]:[2,$u({fairplaySkdUrl:void 0},XM,s)]}}))})),rT.apply(this,arguments)}function eT(t,n,i,r,e){return uT.apply(this,arguments)}function uT(){return uT=Ot((function(t,n,i,r,e){var u,s;return Rt(this,(function(o){switch(o.label){case 0:return u=null==t?void 0:t.onLicenseResponse,s=oT(n,i,r),u&&"function"==typeof u?[4,Yo(q.resolve(u.call(t,s)),e)]:[2,q.resolve(n)];case 1:return[2,Lc(o.sent())]}}))})),uT.apply(this,arguments)}function sT(t,n){return $u({},cT(t),{fairplaySkdUrl:n})}function oT(t,n,i){return{url:i.cE,status:i.fD,statusText:i.NR,headers:i.XD.ED(),body:t,request:n}}function aT(t){return new ey({zu:t.url,ZD:t.method,XD:t.headers,HD:t.body,tE:t.useCredentials})}function cT(t){var n;return{url:t.zu,body:null!=(n=hT(t.HD))?n:null,headers:t.XD.ED(),method:t.ZD,useCredentials:t.tE}}function hT(t){if(t)return"string"==typeof t?Mc(t):t instanceof ArrayBuffer?new p(t):Ma(t)?Ec(t):void 0}var fT=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r)||this).vP=e,u}bt(n,t);var i=n.prototype;return i.wR=function(t,n){return q.resolve(t)},i.vR=function(t,n){var i=this;return Ot((function(){var r,e,u,s,o,a;return Rt(this,(function(c){switch(c.label){case 0:return[4,i.RR(Cc(t).buffer)];case 1:return r=c.sent(),e=i.eR(r,pl.SD,ty.QD,n),[4,JM(i.vP,e,void 0,n)];case 2:if((u=c.sent())instanceof ArrayBuffer)return[2,new p(u)];if(""===u.zu)throw new Xm(Xv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");c.label=3;case 3:return c.trys.push([3,7,,8]),[4,i.Hj.uD(u)];case 4:return[4,(s=c.sent()).GR(n)];case 5:return o=c.sent(),[4,tT(i.vP,o,e,s,void 0,n)];case 6:return[2,c.sent()];case 7:throw Uo(a=c.sent()),new Xm(Xv.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",a);case 8:return[2]}}))}))()},n}(Gb);yt(),C(),zt(),Mt(),Ut();var vT=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,pl.SD)||this).vP=e,u}bt(n,t);var i=n.prototype;return i.wR=function(t,n){var i=this;return Ot((function(){var r,e,u,s,o,a;return Rt(this,(function(c){switch(c.label){case 0:return i.Zj?[2,i.Zj]:(r=i.eR(t,pl.SD,ty.UD,n),[4,ZM(i.vP,r,n)]);case 1:if((e=c.sent())instanceof p)return[2,e];if(""===e.zu)throw new Xm(Xv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");c.label=2;case 2:return c.trys.push([2,5,,6]),[4,i.Hj.uD(e)];case 3:return[4,(u=c.sent()).GR(n)];case 4:return s=c.sent(),[3,6];case 5:throw Uo(o=c.sent()),new Xm(Xv.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",o);case 6:return a=sT(r,void 0),[4,KM(i.vP,new p(s),a,u,n)];case 7:return[2,c.sent()]}}))}))()},i.vR=function(t,n){var i=this;return Ot((function(){var r,e,u,s,o;return Rt(this,(function(a){switch(a.label){case 0:return r=i.eR(t,pl.SD,ty.BD,n),[4,JM(i.vP,r,void 0,n)];case 1:if((e=a.sent())instanceof ArrayBuffer)return[2,new p(e)];if(""===e.zu)throw new Xm(Xv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");a.label=2;case 2:return a.trys.push([2,6,,7]),[4,i.Hj.uD(e)];case 3:return[4,(u=a.sent()).GR(n)];case 4:return s=a.sent(),[4,tT(i.vP,s,r,u,void 0,n)];case 5:return[2,a.sent()];case 6:throw Uo(o=a.sent()),new Xm(Xv.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",o);case 7:return[2]}}))}))()},n}(WM);yt(),C(),zt(),Mt(),Ut();var lT=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i,r,e,pl.SD)||this).vP=u,s}bt(n,t);var i=n.prototype;return i.wR=function(t,n){var i=this;return Ot((function(){var t,r,e,u,s,o;return Rt(this,(function(a){switch(a.label){case 0:return i.Zj?[2,i.Zj]:(t=i.oP(n),[4,ZM(i.vP,t,n)]);case 1:if(r=a.sent(),Ma(r))return[2,r];a.label=2;case 2:return a.trys.push([2,6,,7]),[4,i.Hj.uD(r)];case 3:return[4,(e=a.sent()).GR()];case 4:return u=a.sent(),s=sT(t,void 0),[4,KM(i.vP,new p(u),s,e,n)];case 5:return[2,a.sent()];case 6:throw Uo(o=a.sent()),new Xm(Xv.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",o);case 7:return[2]}}))}))()},i.vR=function(t,n){var i=this;return Ot((function(){var r,e,u,s,o;return Rt(this,(function(a){switch(a.label){case 0:return r=i.eR(t,pl.SD,ty.PD,n),[4,JM(i.vP,r,i.mP,n)];case 1:if((e=a.sent())instanceof ArrayBuffer)return[2,new p(e)];if(""===e.zu)throw new Xm(Xv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");a.label=2;case 2:return a.trys.push([2,6,,7]),[4,i.Hj.uD(e)];case 3:return[4,(u=a.sent()).GR(n)];case 4:return s=a.sent(),[4,tT(i.vP,s,r,u,i.mP,n)];case 5:return[2,a.sent()];case 6:throw Uo(o=a.sent()),new Xm(Xv.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",o);case 7:return[2]}}))}))()},i.sP=function(n){var i;return this.mP=n,(null==(i=this.vP)?void 0:i.extractFairplayContentId)?q.resolve(this.vP.extractFairplayContentId(n)):t.prototype.sP.call(this,n)},n}(iM),dT=function(){function t(){}var n=t.prototype;return n.pP=function(t,n,i,r){switch(t.Qp.Av){case cs.Ep:return this.AP(n,i,r);case cs.Dp:return this.yP(n,i,r);case cs.kp:return this.MP(t,n,i,r);case cs.Lp:default:return this.bP(n,i,r)}},n.AP=function(t,n,i){var r=function(t){return t.integration===Gk&&Fn(t.customIntegrationId)}(t)?t.customIntegrationId:t.integration;if(r&&nb.qp.Hp(r,ms)){var e=nb.qp.Zp(r,ms,t);return new vT(t,n,i,e)}switch(r){case Ek:return new Db(t,n,i);case Ck:return new Ib(t,n,i);case jk:return new Sb(t,n,i);case Sk:return new Cb(t,n,i);case zk:return new Rb(t,n,i);case Bk:return new Bb(t,n,i);case Pk:return new Qb(t,n,i);case Qk:return new Yb(t,n,i);default:return new WM(t,n,i,pl.SD)}},n.yP=function(t,n,i){var r=t.integration;if(r&&nb.qp.Hp(r,gs)){var e=nb.qp.Zp(r,gs,t);return new fT(t,n,i,e)}switch(r){case Ek:return new Wb(t,n,i);case Ck:return new Zb(t,n,i);case jk:return new Hb(t,n,i);case Sk:return new Kb(t,n,i);case zk:return new Jb(t,n,i);case Pk:return new $b(t,n,i);case Qk:return new nM(t,n,i);default:return new Gb(t,n,i)}},n.MP=function(t,n,i,r){var e=n.integration;if(e&&nb.qp.Hp(e,bs)){var u=nb.qp.Zp(e,bs,n);return new lT(t,n,i,r,u)}switch(e){case Lk:return new rM(t,n,i,r);case Ck:return new eM(t,n,i,r);case xk:return new oM(t,n,i,r);case Ek:return new aM(t,n,i,r);case jk:return new cM(t,n,i,r);case Sk:return new hM(t,n,i,r);case Ok:return new fM(t,n,i,r);case zk:return new vM(t,n,i,r);case Rk:return new lM(t,n,i,r);case Bk:return new dM(t,n,i,r);case Pk:return new gM(t,n,i,r);case Uk:return new wM(t,n,i,r);case Qk:return new yM(t,n,i,r);case Yk:return new mM(t,n,i,r);case Fk:return new GM(t,n,i,r);default:return new iM(t,n,i,r,pl.Ru)}},n.bP=function(t,n,i){return new VM(t,n,i)},n.TP=function(t){return t.Av===cs.Dp||t.Av===cs.Ep||t.Av===cs.kp||t.Av===cs.Lp},n.kO=function(t,n){var i;if(t.Av!==cs.Dp)return!1;if(Rn(null==(i=n.playready)?void 0:i.customData))return!0;var r=n.integration;return(!r||!nb.qp.Hp(r,bs))&&(r===Ek&&new Vb(n).kO)},n.IR=function(t,n){if(t.Av===cs.Ep){var i=n.integration;if(!i||!nb.qp.Hp(i,bs))return i===Ek?Db.IR():void 0}},t}();yt(),C(),yt(),C(),pt(),Mt();var gT=function(t){function n(n){var i;return(i=t.call(this,p_.ha)||this).errorObject=n,i}return bt(n,t),n.prototype.fa=function(){return this},At(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(am);yt(),C(),yt(),C(),Ht();var wT,yT="theoplayer-stored-network-info-v2",mT=25e5,AT=function(){function t(){var t=this;this.IP=_l,this.xP=void 0,this.CP=Jn((function(){var n,i=Zt({},t.IP,{availableBandwidth:t.xP,storedTimestamp:Zi()});null==(n=an.NP)||n.EP(yT,JSON.stringify(i))}),1e4)}var n=t.prototype;return n.SP=function(t){var n,i=null==(n=an.NP)?void 0:n.IL(t);if(void 0!==i){var r=JSON.parse(i);if(void 0!==r&&void 0!==r[this.IP]){if(!this.DP(r))return r[this.IP].availableBandwidth;var e;null==(e=an.NP)||e.EP(t,JSON.stringify({}))}}},n.kP=function(){var t=this.SP(yT);if(void 0!==t)return t;var n=this.SP("theoplayer-stored-network-info");return n?8*n:void 0},n.DP=function(t){var n=t[this.IP].storedTimestamp;return!!n&&Zi()-n>36e5},n.LP=function(t){this.xP=t,this.CP()},n.OP=function(){var t;return null!=this.xP||(this.xP=null!=(t=this.kP())?t:mT),this.xP},t}();AT.lL=new AT,yt(),C(),function(t){t[t.jP=0]="jP",t[t.RP=1]="RP",t[t.PP=2]="PP",t[t.zP=3]="zP",t[t.BP=4]="BP",t[t.Mp=5]="Mp",t[t.UP=6]="UP",t[t.QP=7]="QP",t[t.Np=8]="Np",t[t.FP=9]="FP",t[t.Ip=10]="Ip",t[t.YP=11]="YP"}(wT||(wT={})),yt(),C(),pt();var pT=function(){function t(){}return t.prototype.WP=function(t){},At(t,[{key:"GP",get:function(){return 0}},{key:"VP",get:function(){return 0}}]),t}();yt(),C();var _T=function(){function t(t,n){void 0===n&&(n=new dT),this.QR=void 0,this.aE=t,this.ZP=n}var n=t.prototype;return n.HP=function(t){this.QR=t},n.IR=function(t){var n=this.QR;if(void 0!==n)return this.ZP.IR(t,n)},n.kO=function(t){var n=this.QR;return void 0!==n&&this.ZP.kO(t,n)},n.qP=function(t){var n={Qp:t.Qp,KP:t.KP||[],JP:t.JP,hP:t.hP},i=this.ZP.pP(n,this.QR||{},t._R,this.aE);return n.JP&&i.Wj(n.JP),new kT(i)},t}(),kT=function(){function t(t){this.$P=t}var n=t.prototype;return n.$j=function(t){return this.$P.$j(t)},n.tR=function(t,n,i){return this.$P.tR(n,i)},n.Jj=function(){return this.$P.Jj||void 0!==this.$P.Zj},n.wR=function(t,n){return this.$P.wR(t,n)},n.vR=function(t,n,i){return n&&this.$P.Wj(n),this.$P.vR(t,i)},n.h_=function(){this.$P.gn()},t}();yt(),C(),Mt();var bT=function(t){function n(n){var i;(i=t.call(this)||this).iz=[],i.oz=function(t){i.tt(t.Lt)},i.cz=function(t){var n=t.Lt;i.rz(n)||i.it(n)};for(var r=0;r<n.length;r++){var e=n[r];i.tz(e)}return i}bt(n,t);var i=n.prototype;return i.tz=function(t){this.iz.push(t);for(var n=0,i=t.Rw;n<i.length;n++){var r=i[n];this.tt(r)}this.ez(t)},i.sz=function(t){go(this.iz,t),this.nz(t);for(var n=0,i=t.Rw;n<i.length;n++){var r=i[n];this.rz(r)||this.it(r)}},i.rz=function(t){for(var n=0,i=this.iz;n<i.length;n++){if(i[n].Bw(t))return!0}return!1},i.ez=function(t){t.yn(hm.hw,this.oz),t.yn(hm.uw,this.cz)},i.nz=function(t){t.fn(hm.hw,this.oz),t.fn(hm.uw,this.cz)},i.gn=function(){for(;this.iz.length>0;)this.sz(this.iz[0]);t.prototype.gn.call(this)},i.fa=function(){return U_(this)},n}(mm);yt(),C(),pt(),yt(),C();var MT,TT={forceSeekOffset:0,maximumOffset:0,maximumPlaybackRate:0,minimumOffset:0,minimumPlaybackRate:0,targetOffset:0},NT=function(){function t(){}var n=t.prototype;return n.ka=function(t){this.fz=t,void 0!==this.Le&&(this.fz.Rt=this.Le)},n.tr=function(){this.fz=void 0,this.Le=void 0},At(t,[{key:"va",get:function(){return null!=this.Xa||(this.Xa=function(t){return{get enabled(){return t.Rt},set enabled(n){t.Rt=Em(n)},get monitoringLivePlayback(){return t.lz},get currentLatency(){return t.Km},get currentConfiguration(){return function(t){if(void 0!==t)return{get minimumOffset(){return t.minimumOffset},get maximumOffset(){return t.maximumOffset},get targetOffset(){return t.targetOffset},get forceSeekOffset(){return t.forceSeekOffset},get minimumPlaybackRate(){return t.minimumPlaybackRate},get maximumPlaybackRate(){return t.maximumPlaybackRate}}}(t.wd)}}}(this)),this.Xa}},{key:"Rt",get:function(){var t,n;return null!=(n=this.Le)?n:Boolean(null==(t=this.fz)?void 0:t.Rt)},set:function(t){this.Le=t,this.fz&&(this.fz.Rt=t)}},{key:"lz",get:function(){var t,n;return null!=(n=null==(t=this.fz)?void 0:t.Lm)&&n}},{key:"Km",get:function(){var t;return null==(t=this.fz)?void 0:t.qm}},{key:"wd",get:function(){return this.fz?this.fz.xm:TT}}]),t}();function DT(){return MT||(MT=ru&&ru.document&&ru.document.createElement("video")),MT}var IT=!(!ru||!ru.TextTrack),ET=function(t){function n(n,i,r,e,u,s,o,a){var c;return void 0===o&&(o=new dT),void 0===a&&(a=ll()),(c=t.call(this)||this).yz=void 0,c.bc=void 0,c.vz=void 0,c.mz=void 0,c.Sz=new pT,c.bz=new NT,c.Xz=function(t){var n=t.lt,i=n.code,r=new Kv($m(i),"Something went wrong during native playback.",n),e=new Zm(i,r.message,n.message);c.rB(r,e)},c.wc=function(){c.Co(new om(c.U_,c.R_))},c.Vz=function(t){c.fg||(c.wz=void 0),c.Co(t)},c.Vm=function(t){c.wz=void 0},c.qz=function(){c.Co(new pA(c.K_))},c.Wz=function(){c.Rg>0&&c.Cg>0&&c.Co(new wk)},c.$z=function(t){var n=c.Fm.pz.audioTracks;if(n)for(var i=0;i<n.length;i++){var r=n[i];jT(c.YT,r)||c.YT.tt(new dA(r))}},c.tB=function(t){var n=[],i=c.Fm.pz.audioTracks;if(i){for(var r=0,e=c.YT.Rw;r<e.length;r++){var u=e[r];CT(i,u.dS)||n.push(u)}for(var s=0;s<n.length;s++){var o=n[s];c.YT.it(o)}}},c.iB=function(){c.nh(c.YT)},c.eB=function(t){var n=c.Fm.pz.videoTracks;if(n)for(var i=0;i<n.length;i++){var r=n[i];jT(c.VT,r)||c.VT.tt(new wA(r))}},c.sB=function(t){var n=[],i=c.Fm.pz.videoTracks;if(i){for(var r=0,e=c.VT.Rw;r<e.length;r++){var u=e[r];CT(i,u.dS)||n.push(u)}for(var s=0;s<n.length;s++){var o=n[s];c.VT.it(o)}}},c.nB=function(){c.nh(c.VT)},c.Zz=function(t){c.Co(t),c.rB(t.errorObject,Km(t.errorObject))},c.Yz=i,c.aE=r,c.SO=a,c.Fm=c.Yz.oB(Gm.VA),c.Az=c.Fm.pz.preload,c.zz=new Dk(c.Fm,!0),c.zz.yn(yk,c.Ds),c.Lz=new _T(r,o),c.Fm.Qz=c.Lz,c.Gz(),c.YT=new Vm,c.VT=new Vm,c.Jz(),c.Rz=new ak(c.Fm,c.aE),c.Dl=new bT([c.Fm.nt]),c.ge(),c}bt(n,t);var i=n.prototype;return i.F_=function(t,n){this.K_&&(this.wz=t),this.Fm.JA(t)},i.be=function(){this.Fm.be()},i.ge=function(){this.Fm.ge()},i.ga=function(t,n,i){var r=this;return Ot((function(){var e;return Rt(this,(function(u){switch(u.label){case 0:return Po(i),r.bc=t,e={Av:dk.Tj,yv:t.src,Nz:t.type,Iz:r.Dz(t),yg:r.Az,Ez:t.crossOrigin,kz:n.metadata&&n.metadata.title},r.Lz.HP(t.contentProtection),[4,r.Fm.$n(e)];case 1:return r.yz=u.sent(),Po(i),n.textTracks&&r.xz(n.textTracks),lk(r.nt),[2]}}))}))()},i.xz=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(this.Fm.Cz()&&xn.Ga&&IT&&!tk(i.kind,i.label)&&this.Oz(i)){var r,e=null!=(r=i.kind)?r:Q_.HA;this.Fm.jz(i.src,e,i.label,i.srclang,i.default)}else{if(void 0===i.src)continue;this.Rz.nE(i)}}},i.Oz=function(t){return!t.format||"webvtt"===t.format},i.Xg=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,t.Fm.Xg()];case 1:case 4:return n.sent(),[3,3];case 2:return n.sent(),[3,3];case 3:return t._z?[3,5]:[4,t.Fm.k_(Al.Zv)];case 5:return[2]}}))}))()},i.Hg=function(){this.Fm.Hg()},i.qg=function(){return void 0!==this.Fm.pz.webkitShowPlaybackTargetPicker},i.Kg=function(){this.Fm.pz.webkitShowPlaybackTargetPicker&&this.Fm.pz.webkitShowPlaybackTargetPicker()},i.Jg=function(){this.Fm.pz.webkitShowPlaybackTargetPicker&&this.Fm.pz.webkitShowPlaybackTargetPicker()},i.Vg=function(){return this.Fm.pz},i.Gg=function(){return this.Fm.ya},i.tr=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return t.bc=void 0,t.vz=void 0,t.mz=void 0,t.yz=void 0,[4,t.Rz.tr()];case 1:return n.sent(),t.Fm.Pz(),[4,t.Fm.tr()];case 2:return n.sent(),t.zz.tr(),t.yg=t.Az,t.ht.tr(),t.rt.tr(),t.wz=void 0,[2]}}))}))()},i.gn=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return[4,t.tr()];case 1:return n.sent(),t.Vo(),t.Bz(),t.Uz(),t.zz.gn(),t.Fm.Qz=void 0,[4,t.Yz.Fz(t.Fm)];case 2:return n.sent(),t.YT.gn(),t.VT.gn(),t.Dl.gn(),[4,t.Rz.gn()];case 3:return n.sent(),[2]}}))}))()},i.Gz=function(){this.Fm.yn(Al.jh,this.Ds),this.Fm.yn(Al.Sh,this.Ds),this.Fm.yn(Al.fm,this.wc),this.Fm.yn(Al.Zv,this.Ds),this.Fm.yn(Al.Gv,this.Ds),this.Fm.yn(Al.im,this.Ds),this.Fm.yn(Al.$v,this.Vz),this.Fm.yn(Al.Ov,this.Ds),this.Fm.yn(Al.qv,this.Ds),this.Fm.yn(Al._m,this.Ds),this.Fm.yn(Al.Lv,this.Ds),this.Fm.yn(Al.Jv,this.Wz),this.Fm.yn(gk.Sm,this.Vm),this.Fm.yn(p_.ha,this.Xz),this.Fm.yn(Al.Iv,this.Ds),this.Fm.yn(Al.Nv,this.Zz),this.Fm.pz.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.qz)},i.Bz=function(){this.Fm.fn(Al.jh,this.Ds),this.Fm.fn(Al.Sh,this.Ds),this.Fm.fn(Al.fm,this.wc),this.Fm.fn(Al.Zv,this.Ds),this.Fm.fn(Al.Gv,this.Ds),this.Fm.fn(Al.im,this.Ds),this.Fm.fn(Al.$v,this.Vz),this.Fm.fn(Al.Ov,this.Ds),this.Fm.fn(Al.qv,this.Ds),this.Fm.fn(Al._m,this.Ds),this.Fm.fn(Al.Lv,this.Ds),this.Fm.fn(Al.Jv,this.Wz),this.Fm.fn(gk.Sm,this.Vm),this.Fm.fn(p_.ha,this.Xz),this.Fm.fn(Al.Iv,this.Ds),this.Fm.fn(Al.Nv,this.Zz),this.Fm.pz.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.qz)},i.Dz=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{Qp:Es,Kz:[{initDataTypes:[Es.fL],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.Jz=function(){var t=this.Fm.pz.audioTracks,n=this.Fm.pz.videoTracks;t&&(t.addEventListener("addtrack",this.$z),t.addEventListener("removetrack",this.tB),t.addEventListener("change",this.iB)),n&&(n.addEventListener("addtrack",this.eB),n.addEventListener("removetrack",this.sB),n.addEventListener("change",this.nB))},i.Uz=function(){var t=this.Fm.pz.audioTracks,n=this.Fm.pz.videoTracks;t&&(t.removeEventListener("addtrack",this.$z),t.removeEventListener("removetrack",this.tB),t.removeEventListener("change",this.iB)),n&&(n.removeEventListener("addtrack",this.eB),n.removeEventListener("removetrack",this.sB),n.removeEventListener("change",this.nB))},i.nh=function(t){for(var n=0;n<t.U;n++){t.zw(n)._S()}},i.$g=function(){this.Fm.$g()},i.iw=function(){},i.rB=function(t,n){this.vz||(this.vz=n,this.mz=t,this.Co(new gT(t)))},At(n,[{key:"Km",get:function(){}},{key:"_z",get:function(){var t=this.Fm.O_,n=this.U_;return t.gr(n,.01)}},{key:"ht",get:function(){return this.YT}},{key:"O_",get:function(){return this.Fm.O_.ks()}},{key:"R_",get:function(){return this.Fm.R_},set:function(t){t&&this.Fm.gz(t)}},{key:"bt",get:function(){return this.bc}},{key:"U_",get:function(){return void 0!==this.wz?this.wz:this.Fm.U_},set:function(t){this.F_(t)}},{key:"ct",get:function(){return this.Fm.ct}},{key:"G_",get:function(){return this.Fm.G_}},{key:"lt",get:function(){return this.vz}},{key:"H_",get:function(){return this.mz}},{key:"Z_",get:function(){}},{key:"K_",get:function(){return this.Fm.K_}},{key:"eg",get:function(){return $u({},{HT:0,XT:0,ZT:0,qT:0,KT:0,JT:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.Fm.rg())}},{key:"og",get:function(){return this.Fm.og},set:function(t){this.Fm.og=t}},{key:"cg",get:function(){return!0}},{key:"fg",get:function(){return this.Fm.fg}},{key:"gg",get:function(){return this.Fm.gg},set:function(t){this.Fm.gg=t}},{key:"pg",get:function(){return this.Fm.pz.played}},{key:"yg",get:function(){return this.Az},set:function(t){this.Az=t,this.yz&&(this.yz.yg=t)}},{key:"Sg",get:function(){return this.Fm.Sg}},{key:"Ig",get:function(){return this.Fm.Ig.ks()}},{key:"Eg",get:function(){return this.Fm.Eg}},{key:"Mz",get:function(){return this.Fm.Mz}},{key:"nt",get:function(){return this.Dl}},{key:"rt",get:function(){return this.VT}},{key:"Cg",get:function(){return this.Fm.Cg}},{key:"Rg",get:function(){return this.Fm.Rg}},{key:"zg",get:function(){return this.Fm.zg},set:function(t){this.Fm.zg=t}},{key:"Qg",get:function(){return this.bz}},{key:"Yg",get:function(){return this.Fm.Yg},set:function(t){this.Fm.Yg=t}},{key:"Tz",get:function(){return this.Sz}}]),n}(na);function ST(t){if(!Boolean(DT().canPlayType&&DT().canPlayType(t.type)))return!1;if(t.useNativePlayback)return!0;if(!t.useManagedMediaSource&&(xn.Ga||xn.sL))return!0;var n=t.contentProtection;if(n&&!ab(n)){if(!fb(n))return!1;if(n.fairplay)return!0}return!1}var LT=function(){function t(){this.uB=wT.YP}var n=t.prototype;return n.Yp=function(t,n,i,r,e,u,s){return new ET(t,n,i,r,e,u)},n.hB=function(t,n){return ST(t)},n.aB=function(){return!1},t}();function jT(t,n){for(var i=0,r=t.Rw;i<r.length;i++){var e=r[i];if(e.dS===n)return e}}function CT(t,n){for(var i=0;i<t.length;i++)if(t[i]===n)return!0;return!1}yt(),C(),yt(),C(),pt();var xT=function(){function t(t,n){var i=this;this.Yst=!1,this.Gst=!1,this.Vst=function(t){i.Wst.wG(t.error,i.U_)},this.Hst=function(){i.Wst.dG(i.Fst),i.Qo.removeEventListener("playing",i.Hst),i.Yst=!1},this.js=function(){var t,n,r;if(i.Yst||(i.Qo.addEventListener("playing",i.Hst),i.Yst=!0),(null==(n=i.Qo.source)||null==(t=n.ads)?void 0:t.some((function(t){return"theoads"===t.integration})))&&!i.Gst)i.Gst=!0,null==(r=i.Qo.ads)||r.addEventListener("adbreakbegin",i.Xst);else if(i.Gst){var e;i.Gst=!1,null==(e=i.Qo.ads)||e.removeEventListener("adbreakbegin",i.Xst)}},this.Xst=function(t){"theoads"===t.adBreak.integration&&i.Wst.gG()},this.Wst=n,this.Qo=t,this.Qo.addEventListener("error",this.Vst),this.Qo.addEventListener("sourcechange",this.js),this.js()}return t.prototype.tr=function(){},At(t,[{key:"U_",get:function(){var t=this.Qo.currentTime;return isFinite(t)?t:"now"}},{key:"Fst",get:function(){return this.Qo.src||""}}]),t}();yt(),C(),Mt(),yt(),C(),zt(),pt(),Mt(),Ut();var OT,zT=function(t){function n(n,i){var r;return(r=t.call(this)||this).ow=function(t){r.nw(t)||r.Co(t)},r.Qo=n,r.fit=!i,r.bB(),r}bt(n,t);var i=n.prototype;return i.hit=function(){return this.Qo.Qtt},i.ait=function(){return this.Qo.Oc},i.uit=function(){return this.Qo.Gtt},i.Gg=function(){return this.Qo.ya},i.dit=function(){return this.Qo.cit},i.L_=function(){return this.Qo.ht},i.j_=function(){return this.Qo.j_()},i.P_=function(){return this.Qo.R_},i.z_=function(t){this.Qo.R_=t},i.B_=function(){return this.Qo.bt},i.Q_=function(){return this.Qo.Q_()},i.F_=function(t,n){this.Qo.F_(t,n)},i.Ktt=function(){return this.Qo.Ktt()},i.Td=function(){return this.Qo.Td()},i.Y_=function(){return this.Qo.we},i.V_=function(){return this.Qo.G_},i.W_=function(){return this.Qo.W_()},i.X_=function(){return this.Qo.X_()},i.q_=function(){return this.Qo.Z_},i.rg=function(){return this.Qo.eg},i.hg=function(){return this.Qo.og},i.ag=function(t){this.Qo.ag(t)},i._g=function(){return this.Qo.fg},i.wg=function(){return this.Qo.gg},i.vg=function(t){this.Qo.gg=t},i.Ag=function(){return this.Qo.Ag()},i.Mg=function(){return this.Qo.yg},i.Tg=function(t){this.Qo.yg=t},i.Ng=function(){return this.Qo.Sg},i.Dg=function(){return this.Qo.Dg()},i.Lg=function(){return this.Qo.Eg},i.xg=function(){return this.Qo.nt},i.Og=function(){return this.Qo.Cg},i.jg=function(){return this.Qo.rt},i.Pg=function(){return this.Qo.Rg},i.Bg=function(){return this.Qo.zg},i.Ug=function(t){this.Qo.Ug(t)},i.Wg=function(){this.Qo.Wg()},i.Hg=function(){this.Qo.Hg()},i.Xg=function(){this.Qo.Xg()},i.ge=function(){this.Qo.ge()},i.be=function(){this.Qo.be()},i.cs=function(){return this.Qo.cs()},i.Vg=function(){return this.Qo.Vg()},i.$g=function(){this.Qo.$g()},i.iw=function(){this.Qo.iw()},i.ka=function(){this.Qo.ka()},i.Wa=function(){return this.Qo.Wa()},i.ga=function(t,n){return this.Qo.ga(t,n)},i.Zg=function(){return this.Qo.Zg()},i.nw=function(t){return!1},i.bB=function(){this.fit&&this.Qo.T_(this.ow)},i.TB=function(){this.fit&&this.Qo.E_(this.ow)},i.gn=function(t){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return n.Vo(),t?[3,2]:[4,n.Qo.gn()];case 1:i.sent(),i.label=2;case 2:return n.TB(),[2]}}))}))()},At(n,[{key:"Qtt",get:function(){return this.hit()}},{key:"Oc",get:function(){return this.ait()}},{key:"sit",get:function(){return this.Qo.sit}},{key:"Gtt",get:function(){return this.uit()}},{key:"eS",get:function(){return this.Qo.eS},set:function(t){this.Qo.eS=t}},{key:"iit",get:function(){return this.Qo.iit}},{key:"YF",get:function(){return this.Qo.YF}},{key:"qtt",get:function(){return this.Qo.qtt}},{key:"wd",get:function(){return this.Qo.wd}},{key:"Iu",get:function(){return this.Qo.Iu}},{key:"ya",get:function(){return this.Gg()}},{key:"Hj",get:function(){return this.Qo.Hj}},{key:"Qg",get:function(){return this.Qo.Qg}},{key:"Jtt",get:function(){return this.Qo.Jtt}},{key:"jX",get:function(){return this.Qo.jX}},{key:"hF",get:function(){return this.Qo.hF}},{key:"tit",get:function(){return this.Qo.tit}},{key:"Htt",get:function(){return this.Qo.Htt}},{key:"Ytt",get:function(){return this.Qo.Ytt}},{key:"Ol",get:function(){return this.Qo.Ol}},{key:"cit",get:function(){return this.dit()}},{key:"Xw",get:function(){return this.Qo.Xw}},{key:"Bo",get:function(){return this.Qo.Bo}},{key:"ht",get:function(){return this.L_()}},{key:"R_",get:function(){return this.P_()},set:function(t){this.z_(t)}},{key:"bt",get:function(){return this.B_()}},{key:"we",get:function(){return this.Y_()}},{key:"G_",get:function(){return this.V_()}},{key:"Z_",get:function(){return this.q_()}},{key:"Yg",get:function(){return this.Qo.Yg},set:function(t){this.Qo.Yg=t}},{key:"eg",get:function(){return this.rg()}},{key:"og",get:function(){return this.hg()},set:function(t){this.ag(t)}},{key:"fg",get:function(){return this._g()}},{key:"gg",get:function(){return this.wg()},set:function(t){this.vg(t)}},{key:"yg",get:function(){return this.Mg()},set:function(t){this.Tg(t)}},{key:"Sg",get:function(){return this.Ng()}},{key:"ba",get:function(){return this.Qo.ba},set:function(t){this.Qo.ba=t}},{key:"Eg",get:function(){return this.Lg()}},{key:"nt",get:function(){return this.xg()}},{key:"Cg",get:function(){return this.Og()}},{key:"rt",get:function(){return this.jg()}},{key:"Rg",get:function(){return this.Pg()}},{key:"zg",get:function(){return this.Bg()},set:function(t){this.Ug(t)}}]),n}(na);!function(t){t[t.Za=0]="Za",t[t._it=1]="_it",t[t.Ip=2]="Ip",t[t.git=3]="git",t[t.wit=4]="wit",t[t.vit=5]="vit"}(OT||(OT={}));var RT=[0,1,2,3,4,5],BT={};function PT(t,n){(BT[n]||(BT[n]=[])).push(t)}var UT={};function QT(t,n){(UT[n]||(UT[n]=[])).push(t)}var YT=[];function FT(t){for(var n=0;n<YT.length;n++){(0,YT[n])(t)}}!function(t){YT.push(t)}((function(t){new xT(t.va,t.sit)})),yt(),C(),Mt(),yt(),C(),Mt();var GT=function(){function t(){}return t.RF=function(){return t.lL||(t.lL=VT.LO()?new VT:new dl),t.lL},t.kL=function(n){t.RF().kL(n)},t.jF=function(){t.RF().jF()},t.IL=function(n){return t.RF().IL(n)},t.EP=function(n,i){t.RF().EP(n,i)},t.eZ=function(n){var i=t.IL(n);if(void 0!==i)return m(i)},t.sZ=function(n){return"true"===t.IL(n)},t}();GT.lL=void 0;var VT=function(t){function n(){return t.apply(this,arguments)}bt(n,t);var i=n.prototype;return i.kL=function(t){self.localStorage.removeItem(t)},i.jF=function(){self.localStorage.clear()},i.IL=function(t){var n;return null!=(n=self.localStorage.getItem(t))?n:void 0},i.EP=function(t,n){self.localStorage.setItem(t,n)},n.LO=function(){var t="foobar";try{return self.localStorage.setItem(t,t),self.localStorage.removeItem(t),!0}catch(t){}return!1},n}(GT),WT="theoplayer-stored-volume",XT="theoplayer-stored-mutedstate";PT((function(t){return function(t){function n(n,i){var r;if(r=t.call(this,n,i)||this,i.persistVolume){var e=GT.eZ(WT);(void 0===e||A(e))&&(e=1);var u=GT.sZ(XT)||!1;r.zg=e,r.og=u}return r}bt(n,t);var i=n.prototype;return i.ag=function(n){this.wd.persistVolume&&GT.EP(XT,""+Boolean(n)),t.prototype.ag.call(this,n)},i.Ug=function(n){this.wd.persistVolume&&GT.EP(WT,""+Number(n)),t.prototype.Ug.call(this,n)},n}(t)}),OT.Za),yt(),C(),yt(),C(),Xt(),zt(),pt(),Mt(),Ut(),yt(),C(),zt(),pt(),Mt(),Ct(),Ut(),yt(),C(),zt(),pt(),Mt(),Ut(),yt(),C(),zt(),pt(),Mt(),Ut();var ZT=function(t){function n(n){var i;return(i=t.call(this)||this).ow=function(t){i.nw(t)||i.Co(t)},i.x_=n,n.T_(i.ow),i}bt(n,t);var i=n.prototype;return i.L_=function(){return this.x_.ht},i.C_=function(){return this.x_.C_()},i.j_=function(){return this.x_.O_},i.P_=function(){return this.x_.R_},i.z_=function(t){this.x_.R_=t},i.B_=function(){return this.x_.bt},i.Q_=function(){return this.x_.U_},i.F_=function(t,n){this.x_.F_(t,n)},i.Td=function(){return this.x_.ct},i.Y_=function(){return this.x_.we},i.V_=function(){return this.x_.G_},i.W_=function(){return this.x_.lt},i.X_=function(){return this.x_.H_},i.q_=function(){return this.x_.Z_},i.J_=function(){return this.x_.K_},i.rg=function(){return this.x_.eg},i.hg=function(){return this.x_.og},i.ag=function(t){this.x_.og=t},i.dg=function(){return this.x_.cg},i._g=function(){return this.x_.fg},i.wg=function(){return this.x_.gg},i.vg=function(t){this.x_.gg=t},i.Ag=function(){return this.x_.pg},i.Mg=function(){return this.x_.yg},i.Tg=function(t){this.x_.yg=t},i.Ng=function(){return this.x_.Sg},i.Dg=function(){return this.x_.Ig},i.Lg=function(){return this.x_.Eg},i.Wa=function(){return this.x_.Wa()},i.ga=function(t,n){return this.x_.ga(t,n)},i.xg=function(){return this.x_.nt},i.Og=function(){return this.x_.Cg},i.jg=function(){return this.x_.rt},i.Pg=function(){return this.x_.Rg},i.Fg=function(){return this.x_.Qg},i.Bg=function(){return this.x_.zg},i.Ug=function(t){this.x_.zg=t},i.Gg=function(){return this.x_.Gg()},i.Vg=function(){return this.x_.Vg()},i.ur=function(t){this.x_.ur(t)},i.ar=function(){this.x_.ar()},i.be=function(){this.x_.be()},i.Wg=function(){this.x_.Wg()},i.Hg=function(){this.x_.Hg()},i.Xg=function(){this.x_.Xg()},i.ge=function(){this.x_.ge()},i.Zg=function(){return this.x_.Zg()},i.qg=function(){return this.x_.qg()},i.Kg=function(){this.x_.Kg()},i.Jg=function(){this.x_.Jg()},i.tr=function(){return this.x_.tr()},i.$g=function(){this.x_.$g()},i.iw=function(){this.x_.iw()},i.ew=function(t){return this.x_.ew(t)},i.nw=function(t){return!1},i.gn=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return t.Vo(),[4,t.x_.gn()];case 1:return n.sent(),[2]}}))}))()},At(n,[{key:"ht",get:function(){return this.L_()}},{key:"O_",get:function(){return this.j_()}},{key:"R_",get:function(){return this.P_()},set:function(t){this.z_(t)}},{key:"bt",get:function(){return this.B_()}},{key:"U_",get:function(){return this.Q_()},set:function(t){this.F_(t)}},{key:"ct",get:function(){return this.Td()}},{key:"we",get:function(){return this.Y_()}},{key:"G_",get:function(){return this.V_()}},{key:"lt",get:function(){return this.W_()}},{key:"H_",get:function(){return this.X_()}},{key:"Z_",get:function(){return this.q_()}},{key:"K_",get:function(){return this.J_()}},{key:"eg",get:function(){return this.rg()}},{key:"og",get:function(){return this.hg()},set:function(t){this.ag(t)}},{key:"cg",get:function(){return this.dg()}},{key:"fg",get:function(){return this._g()}},{key:"gg",get:function(){return this.wg()},set:function(t){this.vg(t)}},{key:"pg",get:function(){return this.Ag()}},{key:"yg",get:function(){return this.Mg()},set:function(t){this.Tg(t)}},{key:"Sg",get:function(){return this.Ng()}},{key:"Ig",get:function(){return this.Dg()}},{key:"Eg",get:function(){return this.Lg()}},{key:"nt",get:function(){return this.xg()}},{key:"Cg",get:function(){return this.Og()}},{key:"rt",get:function(){return this.jg()}},{key:"Rg",get:function(){return this.Pg()}},{key:"zg",get:function(){return this.Bg()},set:function(t){this.Ug(t)}},{key:"Qg",get:function(){return this.Fg()}},{key:"Yg",get:function(){return this.x_.Yg},set:function(t){this.x_.Yg=t}}]),n}(na);yt(),C(),Mt(),yt(),C(),pt(),Mt();var HT=function(t){function n(){var n;return(n=t.call(this)||this).Qw=void 0,n.Vw=function(t){var i=t.Lt;n.tt(i)},n.Ww=function(t){var i=t.Lt;n.it(i)},n}bt(n,t);var i=n.prototype;return i.Gw=function(t){t.yn(hm.hw,this.Vw),t.yn(hm.uw,this.Ww)},i.Fw=function(t){t.fn(hm.hw,this.Vw),t.fn(hm.uw,this.Ww)},i.gn=function(n){!n&&this.Qw&&this.Qw.gn(),t.prototype.gn.call(this)},At(n,[{key:"Uw",get:function(){return this.Qw},set:function(t){var n=this.Qw;if(t!==n){if(n){this.Fw(n);for(var i=0,r=n.Rw;i<r.length;i++){var e=r[i];t&&t.Bw(e)||this.it(e)}}if(this.Qw=t,t){for(var u=[],s=0,o=t.Rw;s<o.length;s++){var a=o[s];this.tt(a),this.Yw(a)&&u.push(a)}this.Gw(t);for(var c=0;c<u.length;c++){var h=u[c];h.Co(new iA(h))}}}}}]),n}(mm),KT=function(t){function n(){return t.apply(this,arguments)}bt(n,t);var i=n.prototype;return i.fa=function(){return Fm(this)},i.Yw=function(t){return t.Rt},n}(HT);yt(),C(),Mt();var qT=function(t){function n(){return t.apply(this,arguments)}bt(n,t);var i=n.prototype;return i.fa=function(){return U_(this)},i.Yw=function(t){return t._v===A_.Jn},n}(HT);yt(),C(),pt(),Mt(),yt(),C(),pt(),Mt(),yt(),C(),Mt(),yt(),C(),pt(),Mt(),Ct(),yt(),C();var JT=.92,$T=1.08,tN=.25,nN=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).ho=!1,e.Le=!1,e.Qm=!1,e.Xm=0,e.Dm=void 0,e.zm=[],e.jm=void 0,e.Gm=function(){var t=e.Fm.O_,n=e.Fm.U_,i=t.Jm(n);i&&(e.Xm=Pi(i.jn(0)-n,e.Xm,.5),e.Rm())},e.Vm=function(){e.Qm=!0,e.Qo.fn(gk.Sm,e.Vm),e.Le&&e.Cn()},e.Em=function(){e.Im(),e.Nm();var t=e.qm;if(t){var n=e.$m();if(t>e.Cm.forceSeekOffset)return e.Co(new ra("latencyrecoveryseek")),void e.tp();var i=e.Cm,r=i.minimumOffset,u=i.targetOffset,s=i.maximumOffset,o=e.Fm.gg;n>s?e.Ym(e.Cm.maximumPlaybackRate):n<r&&!an.Ys.ep?e.Ym(e.Cm.minimumPlaybackRate):(o>1&&n<u||o<1&&n>u)&&e.Ym(1)}},e.Qo=n,e.Fm=i,e.Zm=r,e.Cm=r,e.Qo.yn(gk.Tm,e.Gm),e.Qo.yn(gk.Sm,e.Vm),e}bt(n,t);var i=n.prototype;return i.Nm=function(){var t=this;this.Im(),this.Dm=an.A_((function(){return t.Em()}),500)},i.Im=function(){void 0!==this.Dm&&(an.p_(this.Dm),this.Dm=void 0)},i.Pm=function(t){this.zm.push(t),this.Rm()},i.Bm=function(t){go(this.zm,t),this.Rm()},i.Rm=function(){this.Cm=this.Um(),this.ho&&this.Em()},i.Cn=function(){this.Le&&this.Qm&&(this.ho||this.Fm.yn(Al.fm,this.Em),this.Nm(),this.ho=!0)},i.Zg=function(){this.ho&&(this.Im(),this.Fm.fn(Al.fm,this.Em),this.Ym(1),this.ho=!1)},i.h_=function(){this.Zg(),this.Qo.fn(gk.Tm,this.Gm),this.Qo.fn(gk.Sm,this.Vm),this.Vo()},i.Ym=function(t){this.Fm.Hm.Wm||this.Qo.gg!==t&&(this.Qo.gg=t)},i.Um=function(){var t,n=this.Xm,i=[null!=(t=this.jm)?t:this.Zm].concat(jt(this.zm)),r=i.reduce((function(t,n){var i;return w.max(t,null!=(i=null==n?void 0:n.minimumOffset)?i:0)}),n),e=i.reduce((function(t,n){var i;return w.max(t,null!=(i=null==n?void 0:n.targetOffset)?i:0)}),r+tN),u=i.reduce((function(t,n){var i;return w.max(t,null!=(i=null==n?void 0:n.maximumOffset)?i:0)}),e+tN);return{minimumOffset:r,targetOffset:e,maximumOffset:u,forceSeekOffset:i.reduce((function(t,n){var i;return w.max(t,null!=(i=null==n?void 0:n.forceSeekOffset)?i:0)}),u+tN),minimumPlaybackRate:JT,maximumPlaybackRate:$T}},At(n,[{key:"Lm",get:function(){return this.Le&&this.ho}},{key:"xm",get:function(){return this.Cm}},{key:"Om",get:function(){return this.jm},set:function(t){this.jm=t,this.Rm()}},{key:"Rt",get:function(){return this.Le},set:function(t){this.Le=t,t?this.Cn():this.Zg()}},{key:"qm",get:function(){return this.Qo.Km}}]),n}($o);yt(),C();var iN=.25,rN=400,eN={minimumOffset:.2,targetOffset:.45,maximumOffset:.7,forceSeekOffset:3,minimumPlaybackRate:JT,maximumPlaybackRate:$T},uN={minimumOffset:.4,targetOffset:.65,maximumOffset:1,forceSeekOffset:3,minimumPlaybackRate:JT,maximumPlaybackRate:$T},sN={minimumOffset:.4,targetOffset:.7,maximumOffset:.9,forceSeekOffset:3,minimumPlaybackRate:JT,maximumPlaybackRate:$T},oN={minimumOffset:.2,targetOffset:.45,maximumOffset:1,forceSeekOffset:3,minimumPlaybackRate:JT,maximumPlaybackRate:$T},aN={minimumOffset:.5,targetOffset:1.125,maximumOffset:1.75,forceSeekOffset:2.55,minimumPlaybackRate:JT,maximumPlaybackRate:$T};function cN(t){if(an.np.sp){var n=(rN+250)/1e3,i=w.max(n,t.minimumOffset),r=w.max(i+iN,t.targetOffset),e=w.max(r+iN,t.maximumOffset);return{minimumOffset:i,targetOffset:r,maximumOffset:e,forceSeekOffset:w.max(e+iN,t.forceSeekOffset),minimumPlaybackRate:JT,maximumPlaybackRate:$T}}return t}function hN(){var t;return t=an.Ys.ep?oN:an.Ys.rp?uN:an.Ys.op?"Android"===an.np.hp?sN:eN:aN,an.np.sp?cN(t):t}function fN(t){return{minimumOffset:t.windowStart,maximumOffset:t.windowEnd,targetOffset:t.target,forceSeekOffset:t.maxOffset,minimumPlaybackRate:JT,maximumPlaybackRate:$T}}function vN(t){return{windowStart:t.minimumOffset,windowEnd:t.maximumOffset,target:t.targetOffset,maxOffset:t.forceSeekOffset}}var lN=function(t){function n(n,i,r){return t.call(this,n,i,r)}bt(n,t);var i=n.prototype;return i.$m=function(){var t=this.Fm.O_;return 0===t.U?0:t.jn(t.U-1)-this.Fm.U_},i.tp=function(){this.Qo.tp()},i.Um=function(){return cN(t.prototype.Um.call(this))},n}(nN),dN=function(t){function n(){var n;return(n=t.apply(this,arguments)||this)._p=void 0,n}return bt(n,t),n.prototype.tp=function(){},At(n,[{key:"ap",get:function(){return vN(hN())}},{key:"cp",get:function(){}},{key:"Km",get:function(){}},{key:"lp",get:function(){}},{key:"dp",get:function(){return!1}},{key:"fp",get:function(){}},{key:"va",get:function(){var t;return null!=(t=this.Xa)?t:this.Xa=gN(this)}}]),n}($o);function gN(t){return{goLive:function(){return t.tp()},get isLive(){return t.dp},get currentServerLiveTime(){return t.cp},get currentLatency(){return t.Km},get latencies(){return t.lp},get latency(){return t.ap},set latency(n){if(!function(t){if(!Qn(t))return!1;var n=t;return"number"==typeof n.target&&"number"==typeof n.windowEnd&&"number"==typeof n.windowStart&&"number"==typeof n.maxOffset&&n.windowStart>=0&&n.windowStart<=n.target&&n.target<=n.windowEnd&&n.maxOffset>=n.windowEnd}(n))throw new v("Invalid latency configuration");t._p=n},get manifest(){return t.fp},addEventListener:function(n,i){t.yn(yN(n),i)},removeEventListener:function(n,i){t.fn(yN(n),i)}}}var wN=["golive","latencyrecoveryseek"];function yN(t){var n=Om(t,Cm);return(Fn(n)?[n]:n).filter((function(t){return mo(wN,t)}))}var mN=function(t){function n(){var n;return(n=t.call(this)||this).Qw=void 0,n.Xa=void 0,n.gp=void 0,n.Qw=void 0,n}bt(n,t);var i=n.prototype;return i.Gw=function(t){t.yn(wN,this.Ds)},i.Fw=function(t){t.fn(wN,this.Ds)},i.tp=function(){var t;null==(t=this.Qw)||t.tp()},i.gn=function(){this.Vo(),this.Qw&&this.Fw(this.Qw),this.Qw=void 0},At(n,[{key:"Uw",get:function(){return this.Qw},set:function(t){var n=this.Qw;t!==n&&(n&&this.Fw(n),t&&this.Gw(t),this.Qw=t,this.Qw&&(this.Qw._p=this.gp))}},{key:"va",get:function(){return this.Xa||(this.Xa=gN(this)),this.Xa}},{key:"cp",get:function(){var t;return null==(t=this.Qw)?void 0:t.cp}},{key:"Km",get:function(){var t;return null==(t=this.Qw)?void 0:t.Km}},{key:"lp",get:function(){var t;return null==(t=this.Qw)?void 0:t.lp}},{key:"dp",get:function(){return!!this.Qw&&this.Qw.dp}},{key:"ap",get:function(){return this.Qw?this.Qw.ap:null!=(t=this.gp)?t:vN(hN());var t}},{key:"_p",get:function(){return this.Qw?this.Qw._p:this.gp},set:function(t){this.Qw&&(this.Qw._p=t),this.gp=t}},{key:"fp",get:function(){var t;return null==(t=this.Qw)?void 0:t.fp}}]),n}($o);yt(),C(),yt(),C();var AN,pN,_N,kN,bN="8E80B9CE";function MN(t){return{appID:t&&t.appID?Cm(t.appID):bN}}function TN(t){if(null!==t)return t}function NN(t){var n={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:TN(t.streamActivityMonitorID),adTagParameters:Qn(t.adTagParameters)?t.adTagParameters:{},authToken:TN(t.authToken),omidAccessModeRules:TN(t.omidAccessModeRules)};if("vod"===(null==t?void 0:t.availabilityType)||function(t){var n=t;return Boolean(n.videoID&&n.contentSourceID)}(t)){var i=t.videoID,r=t.contentSourceID;return i?r?$u({},n,{availabilityType:"vod",videoID:i,contentSourceID:r}):void an.vp("A VOD DAI configuration was provided without valid contentSourceID which is required."):void an.vp("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){var n=t;return Boolean(n.assetKey)}(t)){var e=t.assetKey;return e?$u({},n,{availabilityType:"live",assetKey:e}):void an.vp("A Live DAI configuration was provided without valid assetKey which is required.")}an.vp("A DAI configuration was provided without a valid availabilityType which is required.")}function DN(t){switch(t.integration){case"google-dai":return NN(t);case"imagine":return function(t){return{integration:t.integration}}(t);default:return $u({},t,{integration:String(t.integration)})}}function IN(t,n,i){var r=function(t,n,i){var r,e=function(t,n){var i=pN.mp;return t.useCredentials?i=pN.Ap:t.crossOrigin&&(i=KN(t.crossOrigin)),i===pN.mp&&n&&n.vr&&n.vr[360]&&(i=pN.pp),{useCredentials:i===pN.Ap,crossOrigin:i}}(t,n),u=e.useCredentials,s=e.crossOrigin,o=t.liveOffset;Rn(o)||(o=i&&Rn(i.liveOffset)?i.liveOffset:void 0);var a=t.timeServer;Rn(a)||(a=n&&Rn(n.timeServer)?n.timeServer:void 0);var c=t.hlsDateRange;Rn(c)||(c=i&&Rn(i.hlsDateRange)?Boolean(i.hlsDateRange):void 0);var h,f=Boolean(t.experimentalRendering),v=Boolean(t.nativeUiRendering),l=Boolean(t.lowLatency),d=Boolean(t.useNativePlayback),g=Boolean(t.useManagedMediaSource),w=Rn(t.dash)?SN(t.dash):void 0,y=Rn(t.hls)?LN(t.hls):void 0,m=xN(CN(t.abr),null==i?void 0:i.abr),A=Sm(t.lcevc),p=Rn(t.ignoreEmbeddedTextTrackTypes)?dD(t.ignoreEmbeddedTextTrackTypes):[],_=VN(null!=(h=t.seamlessSwitchStrategy)?h:null==(r=t.dash)?void 0:r.useSeamlessPeriodSwitch),k=GN(t.latencyConfiguration);return{crossOrigin:s,useCredentials:u,liveOffset:o,timeServer:a,hlsDateRange:c,experimentalRendering:f,nativeUiRendering:v,lowLatency:l,useNativePlayback:d,useManagedMediaSource:g,dash:w,hls:y,abr:m,lcevc:A,ignoreEmbeddedTextTrackTypes:p,seamlessSwitchStrategy:_,latencyConfiguration:k}}(t,n,i),e=TN(t.src),u=t.type;u||(u=t.src?HN(t.src):void 0);var s=function(t,n){var i;i=Rn(t.contentProtection)?t.contentProtection:Rn(t.drm)?t.drm:Rn(n)&&Rn(n.contentProtection)?n.contentProtection:Rn(n)&&Rn(n.drm)?n.drm:void 0;return EN(i)}(t,n);return $u({},r,{src:e,type:u,contentProtection:s,ssai:Rn(t.ssai)?DN(t.ssai):void 0,integrationData:void 0,isAdvertisement:Boolean(t.isAdvertisement)})}function EN(t){return fb(t)&&t.integration&&t.integration===Ok?function(t){var n=mb(cs.Ep,t),i=mb(cs.Dp,t),r=t[cs.kp]&&mb(cs.kp,t);return $u({integration:"keyos",widevine:n,playready:i},r?{fairplay:r}:{})}(t):t}function SN(t){return{useSeamlessPeriodSwitch:VN(null==t?void 0:t.useSeamlessPeriodSwitch),needsTimescaleShifting:Sm(null==t?void 0:t.needsTimescaleShifting),desiredTimescale:void 0!==(null==t?void 0:t.desiredTimescale)?Lm(null==t?void 0:t.desiredTimescale):void 0,forceSeekToSynchronize:Sm(null==t?void 0:t.forceSeekToSynchronize),ignoreAvailabilityWindow:Sm(null==t?void 0:t.ignoreAvailabilityWindow),forceHardSwitchWhenSeekingBackwards:Sm(null==t?void 0:t.forceHardSwitchWhenSeekingBackwards)}}function LN(t){return{discontinuityAlignment:jN(null==t?void 0:t.discontinuityAlignment),delaySubtitlePreload:Em(null==t?void 0:t.delaySubtitlePreload)}}function jN(t){if(!t||!Fn(t))return"auto";switch(t){case"playlist":return"playlist";case"media":return"media";default:return"auto"}}function CN(t){if(Rn(t))return ON(xm(null==t?void 0:t.preferredAudioCodecs,Cm),xm(null==t?void 0:t.preferredVideoCodecs,Cm),Sm(null==t?void 0:t.restrictToPlayerSize))}function xN(t,n){var i;if(Rn(t)||Rn(n))return ON(zN(null==t?void 0:t.preferredAudioCodecs,null==n?void 0:n.preferredAudioCodecs),zN(null==t?void 0:t.preferredVideoCodecs,null==n?void 0:n.preferredVideoCodecs),null!=(i=null==t?void 0:t.restrictToPlayerSize)?i:null==n?void 0:n.restrictToPlayerSize)}function ON(t,n,i){if(0!==t.length||0!==n.length||void 0!==i)return{preferredAudioCodecs:0===t.length?void 0:t,preferredVideoCodecs:0===n.length?void 0:n,restrictToPlayerSize:i}}function zN(t,n){return void 0!==t&&(null==t?void 0:t.length)>0?t:null!=n?n:[]}function RN(t,n){if(void 0!==n)switch(t){case Gm.VA:return n.preferredVideoCodecs;case Gm.WA:return n.preferredAudioCodecs;default:return}}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(AN||(AN={})),yt(),C(),yt(),C(),function(t){t.mp="",t.pp="anonymous",t.Ap="use-credentials"}(pN||(pN={})),function(t){t.yp="application/dash+xml",t.Mp="application/vnd.apple.mpegurl",t.bp="application/x-mpegurl",t.Tp="video/mp4",t.Sp="application/vnd.theoplayer.hesp+json",t.Np="application/vnd.theo.hesp+json",t.Ip="millicast"}(_N||(_N={})),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),function(t){t.LT="auto",t.xT="playlist",t.CT="media"}(kN||(kN={})),yt(),C(),yt(),C();var BN,PN,UN,QN=.66,YN=1.5,FN=3;function GN(t){if(Rn(t)){var n,i,r,e,u,s=t.targetOffset;return{minimumOffset:null!=(n=t.minimumOffset)?n:s*QN,targetOffset:s,maximumOffset:null!=(i=t.maximumOffset)?i:s*YN,forceSeekOffset:null!=(r=t.forceSeekOffset)?r:s*FN,minimumPlaybackRate:null!=(e=t.minimumPlaybackRate)?e:JT,maximumPlaybackRate:null!=(u=t.maximumPlaybackRate)?u:$T}}}function VN(t){if(!t||!Fn(t))return"auto";switch(t){case"always":return"always";case"never":return"never";case"clear-only":return"clear-only";case"same-drm-only":return"same-drm-only";default:return"auto"}}!function(t){t.LT="auto",t.PT="always",t.zT="never",t.CLEAR_ONLY="clear-only",t.SAME_DRM_ONLY="same-drm-only"}(BN||(BN={})),function(t){t.VERIZON_MEDIA="verizon-media",t.MEDIATAILOR="mediatailor",t.THEOLIVE="theolive"}(PN||(PN={})),yt(),C(),yt(),C(),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(UN||(UN={})),yt(),C();var WN,XN=!1;function ZN(t){return!!t&&Rs(t,"mpd")}function HN(t){var n=_N.Tp;return ZN(t)&&(n=_N.yp),function(t){return!!t&&Rs(t,"m3u8")}(t)&&(n=_N.Mp),n}function KN(t){switch(t){case pN.pp:case pN.Ap:return t;default:return pN.mp}}function qN(t){if(!t)return!1;var n=t.toLowerCase();return Bs(n,_N.yp)}function JN(t){if(!t)return!1;var n=t.toLowerCase();return Bs(n,_N.Mp)||Bs(n,_N.bp)}function $N(t){return Qn(t)&&Qn(t.ssai)&&"google-dai"===t.ssai.integration}function tD(t){return Qn(t)&&"verizon-media"===t.integration}function nD(t){return Qn(t)&&"theolive"===t.integration}function iD(t){return Qn(t)&&"mediatailor"===t.integration}function rD(t){return Qn(t)&&"millicast"===t.type}function eD(t){if(Fn(t))return!t;if(tD(t))return!t.id;if($N(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,r="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&r)}return rD(t)?!t.streamName||!t.streamAccountId:!t.src}function uD(t){return Boolean(Qn(t)&&Fn(t.src))}function sD(t){return t.type===_N.Sp||t.type===_N.Np}function oD(t){return Fn(t)||uD(t)||$N(t)||tD(t)||rD(t)}function aD(t){if(t){if(oD(t))return eD(t);for(var n=0;n<t.length;n++){if(!eD(t[n]))return!1}return!0}return!0}function cD(){return{crossOrigin:pN.mp,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,useManagedMediaSource:!1,dash:void 0,hls:void 0,abr:void 0,lcevc:void 0,ignoreEmbeddedTextTrackTypes:[],seamlessSwitchStrategy:BN.LT,latencyConfiguration:void 0}}function hD(){return $u({},cD(),{src:void 0,type:_N.Tp,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function fD(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:UN.ENABLED,googleIma:{useNativeIma:!1,bitrate:-1,language:void 0,uiElements:void 0},theoads:XN};return void 0===t||(void 0!==t.preload&&(n.preload=function(t){return"none"===t?WN.NONE:WN.MIDROLL_AND_POSTROLL}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=Em(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return UN.INSECURE;case"disabled":return UN.DISABLED;default:return UN.ENABLED}}(t.vpaidMode)),Pn(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(Fn)),void 0!==t.googleIma&&(n.googleIma=function(t){return void 0===t?{useNativeIma:!1,bitrate:-1,language:void 0,uiElements:void 0}:{useNativeIma:Em(t.useNativeIma),bitrate:null!=(n=t.bitrate)?n:-1,language:Rn(t.language)?Cm(t.language):void 0,uiElements:t.uiElements};var n}(t.googleIma)),void 0!==t.theoads?n.theoads=Em(t.theoads):n.theoads=XN),n}function vD(t){if(!Un(t))return[];for(var n=[],i=0;i<t.length;i++){var r=t[i];Qn(r)&&n.push(r)}return n}function lD(t){return Fn(t.src)||rD(t)}function dD(t){return Pn(t)?t.filter(_A):[]}yt(),C(),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(WN||(WN={})),yt(),C(),Mt();var gD=function(t){function n(n,i){var r;return void 0===i&&(i=mk.BT),(r=t.call(this,Al.xv)||this).currentTime=n,r.readyState=i,r}return bt(n,t),n}(ra);yt(),C(),Mt();var wD=function(t){function n(n){var i;return(i=t.call(this,Al.Sh)||this).currentTime=n,i}return bt(n,t),n}(ra);yt(),C(),Mt();var yD=function(t){function n(n){var i;return(i=t.call(this,Al.jh)||this).currentTime=n,i}return bt(n,t),n}(ra);yt(),C(),Mt();var mD=function(t){function n(n){var i;return(i=t.call(this,Al.Lv)||this).duration=n,i}return bt(n,t),n}(ra);yt(),C(),Mt();var AD=function(t){function n(n,i){var r;return(r=t.call(this,Al.qv)||this).currentTime=n,r.playbackRate=i,r}return bt(n,t),n}(ra);yt(),C(),Mt();var pD=function(t){function n(n){var i;return(i=t.call(this,Al.Ov)||this).currentTime=n,i}return bt(n,t),n}(ra);yt(),C(),Mt();var _D=function(t){function n(n){var i;return(i=t.call(this,Al.im)||this).currentTime=n,i}return bt(n,t),n}(ra);yt(),C(),Mt();var kD=function(t){function n(n){var i;return(i=t.call(this,Al.$v)||this).currentTime=n,i}return bt(n,t),n}(ra);yt(),C(),Mt();var bD=function(t){function n(n,i){var r;return(r=t.call(this,Al._m)||this).currentTime=n,r.volume=i,r}return bt(n,t),n}(ra);function MD(t,n){return TD.apply(this,arguments)}function TD(){return TD=Ot((function(t,n,i,r,e){var u,s,o;return Rt(this,(function(a){switch(a.label){case 0:void 0===i&&(i=3),void 0===r&&(r=1e3),void 0===e&&(e=1/0),u=0,a.label=1;case 1:0,a.label=2;case 2:return a.trys.push([2,4,,7]),[4,t(n)];case 3:return[2,a.sent()];case 4:return Uo(s=a.sent()),u<i?(o=w.min(r*w.pow(2,u),e),u++,[4,Ko(o,n)]):[3,6];case 5:return a.sent(),[3,1];case 6:throw s;case 7:return[3,1];case 8:return[2]}}))})),TD.apply(this,arguments)}yt(),C(),zt(),Ut();var ND,DD={maxRetries:1/0,minimumBackoff:200,maximumBackoff:3e4};function ID(t){switch(t){case"all":case"content":return t;default:return"none"}}function ED(t){var n=bm(t||{});return n.libraryLocation&&(n.libraryLocation=cy(n.libraryLocation,!0)),n.isEmbeddable=Boolean(n.isEmbeddable),n.cast=function(t){var n=MN(t?t.chromecast:void 0),i=function(t){switch(t){case"auto":return"auto";case"manual":default:return"manual";case"disabled":return"disabled"}}(t?t.strategy:void 0);return{chromecast:n,strategy:i}}(n.cast),n.ads=fD(n.ads),n.analytics=vD(n.analytics),n.mutedAutoplay=ID(n.mutedAutoplay),n.allowNativeFullscreen=Boolean(n.allowNativeFullscreen),n.allowMixedContent=Boolean(n.allowMixedContent),n.persistVolume=Boolean(n.persistVolume),n.liveOffset=function(t){return Number(t)||void 0}(n.liveOffset),n.hlsDateRange=function(t){return Boolean(t)}(n.hlsDateRange),n.retainPlaybackRateOnSourceChange=Boolean(n.retainPlaybackRateOnSourceChange),n.license=function(t){return Fn(t)?t:void 0}(n.license),n.licenseUrl=function(t){if(!t)return;try{return cy(t)}catch(t){return void an.vp("Invalid 'licenseUrl', falling back to default URL")}}(n.licenseUrl),n.vr=function(t){return{useWebXR:Boolean(t&&t.useWebXR)}}(n.vr),n.abr=CN(n.abr),n.retryConfiguration=function(t){var n=$u({},DD);return void 0!==t&&(void 0!==t.maxRetries&&(n.maxRetries=Number(t.maxRetries)),void 0!==t.minimumBackoff&&(n.minimumBackoff=Number(t.minimumBackoff)),void 0!==t.maximumBackoff&&(n.maximumBackoff=Number(t.maximumBackoff))),n}(n.retryConfiguration),n.hideDeprecationWarnings=Boolean(n.hideDeprecationWarnings),n.theoLive=function(t){if(!t)return t;return $u({},t,{externalSessionId:t.externalSessionId?Cm(t.externalSessionId):void 0,fallbackEnabled:Sm(t.fallbackEnabled)})}(n.theoLive),n}function SD(t){return{bt:t.bt,U_:t.U_,ct:t.ct,G_:t.G_,lt:t.lt,H_:t.H_,og:t.og,fg:t.fg,gg:t.gg,Sg:t.Sg,Eg:t.Eg,Cg:t.Cg,Rg:t.Rg,zg:t.zg}}function LD(t,n){var i=n.zg,r=n.og;t.zg=i,t.og=r}function jD(t,n,i){if(n!==i){var r=n.bt!==i.bt,e=n.U_,u=n.ct,s=n.og,o=n.fg,a=n.gg,c=n.Sg,h=n.Eg,f=(n.Rg,n.Cg,n.zg),v=i.U_,l=i.ct,d=i.G_,g=i.H_,w=i.og,y=i.fg,m=i.gg,p=i.Sg,_=i.Eg,k=(i.Rg,i.Cg,i.zg);(r||c>mk.BT&&p===mk.BT)&&t.Co(new gD(v,p)),y&&!o?t.Co(new wD(v)):!y&&o&&t.Co(new yD(v)),p>=mk.Xn&&(r||c<mk.Xn)&&t.Co(new pk(v,p)),l===u||A(l)&&A(u)||t.Co(new mD(l)),m!==a&&t.Co(new AD(v,m)),v!==e&&t.Co(new om(v,void 0)),d&&t.Co(new pD(v)),p>=mk.UT&&(r||c<mk.UT)&&t.Co(new _k(v,p)),_&&!h?t.Co(new _D(v)):!_&&h&&t.Co(new kD(v)),k===f&&w===s||t.Co(new bD(v,k)),p>=mk.QT&&(r||c<mk.QT)&&t.Co(new bk(v,p)),p>=mk.FT&&(r||c<mk.FT)&&t.Co(new Mk(v,p)),p!==c&&t.Co(new Ak(v,p)),g&&t.Co(new gT(g))}}!function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(ND||(ND={})),yt(),C(),Mt();var CD=function(t){function n(n){var i;return(i=t.call(this,Al.Dv)||this).currentSource=n,i}return bt(n,t),n}(ra);yt(),C(),Mt();var xD=function(t){function n(){return t.call(this,Al.Rv)}return bt(n,t),n}(ra);yt(),C(),Mt();var OD=function(t){function n(){return t.call(this,Al.zv)}return bt(n,t),n}(ra),zD=function(t){function n(n){var i;return(i=t.call(this,n)||this).YT=new KT,i.VT=new KT,i.Dl=new qT,i.GT=new mN,i.YT.Uw=n.ht,i.VT.Uw=n.rt,i.Dl.Uw=n.nt,i.GT.Uw=n.Z_,i}bt(n,t);var i=n.prototype;return i.L_=function(){return this.YT},i.q_=function(){return this.GT},i.xg=function(){return this.Dl},i.jg=function(){return this.VT},i.WT=function(t){var n=this.x_;if(n!==t){n.E_(this.ow);var i=SD(this),r=this.B_(),e=this.Gg(),u=this.Vg();this.x_=t,this.YT.Uw=t.ht,this.VT.Uw=t.rt,this.Dl.Uw=t.nt,this.GT.Uw=t.Z_,void 0!==i&&jD(this,i,this);var s=this.B_();s!==r&&this.Co(new CD(s)),this.Gg()!==e&&this.Co(new xD),this.Vg()!==u&&this.Co(new OD),t.T_(this.ow)}},i.gn=function(){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return i.sent(),n.YT.gn(),n.VT.gn(),n.Dl.gn(),n.GT.gn(),[2]}}))}))()},At(n,[{key:"Z_",get:function(){return this.q_()}}]),n}(ZT);yt(),C();var RD=function(t){function n(n){var i;return(i=t.call(this,n)||this).$T=[],i.bo=!1,i.eS=!1,i.tS(n),i}bt(n,t);var i=n.prototype;return i.rg=function(){return function(t){for(var n=0,i=0,r=0,e=0,u=0,s=0,o=0,a=0;a<t.length;a++){var c=t[a];n+=c.HT,i+=c.XT,r+=c.ZT,e+=c.qT,u+=c.KT,s+=c.JT.amountOfBufferedAudioSegments,o+=c.JT.amountOfBufferedVideoSegments}return{HT:n,XT:i,ZT:r,qT:e,KT:u,JT:{amountOfBufferedAudioSegments:s,amountOfBufferedVideoSegments:o}}}(this.$T.map((function(t){return t.eg})))},i.Zg=function(){return Zo(this.$T.map((function(t){return t.Zg()}))).then(Kn)},i.tr=function(){return Zo(this.$T.map((function(t){return t.tr()}))).then(Kn)},i.Wg=function(){if(!this.bo){for(var t=0,n=this.$T;t<n.length;t++){n[t].Wg()}this.bo=!0}},i.C_=function(){for(var t=[],n=0,i=this.$T;n<i.length;n++){var r,e=i[n];(r=t).push.apply(r,jt(e.C_()))}return t},i.ew=function(t){for(var n=!1,i=0,r=this.$T;i<r.length;i++){n=r[i].ew(t)||n}return n},i.Co=function(n){this.ew(n)||t.prototype.Co.call(this,n)},i.tS=function(t){this.$T.push(t)},i.iS=function(t){go(this.$T,t)},i.WT=function(n){if(n!==this.x_){var i=this.x_;i.ar(),t.prototype.WT.call(this,n),n.ur(i)}},i.$g=function(){for(var t=0,n=this.$T;t<n.length;t++){n[t].$g()}},i.gn=function(){var n=this;return Ot((function(){var i,r,e;return Rt(this,(function(u){switch(u.label){case 0:n.Vo(),n.x_.ar(),i=0,r=n.$T,u.label=1;case 1:return i<r.length?(e=r[i],n.x_===e?[3,3]:[4,e.gn()]):[3,4];case 2:u.sent(),u.label=3;case 3:return i++,[3,1];case 4:return[4,t.prototype.gn.call(n)];case 5:return u.sent(),[2]}}))}))()},At(n,[{key:"Uw",get:function(){return this.x_},set:function(t){this.WT(t)}}]),n}(zD);yt(),C(),zt(),pt(),Mt(),Ut(),yt(),C(),zt(),Mt(),Ut(),yt(),C(),pt();var BD=function(){function t(){this.fB=new LT,this.dB=[]}var n=t.prototype;return n.lB=function(t){this.dB.push(t)},n.Yp=function(t,n,i,r,e,u,s){for(var o=this.fB.Yp(t,n,i,r,e,u,s),a=0,c=this.dB;a<c.length;a++){o=(0,c[a])(o,i,r)}return o},n.hB=function(t,n){return this.fB.hB(t,n)},n.aB=function(){return!1},t.cB=function(){return this.lL},At(t,[{key:"uB",get:function(){return this.fB.uB}}]),t}();function PD(t,n){return eo(t.uB,n.uB)}BD.lL=new BD,yt(),C(),zt(),Ut(),yt(),C();var UD=function(){function t(){this.gB=[]}var n=t.prototype;return n._B=function(t){this.gB.push(t),this.gB.sort(PD)},n.wB=function(t,n){var i=this;return Ot((function(){var r,e,u,s,o;return Rt(this,(function(a){switch(a.label){case 0:r=0,e=i.gB,a.label=1;case 1:return r<e.length?(u=e[r],Vn(s=u.hB(t,n))?[4,s]:[3,3]):[3,6];case 2:return o=a.sent(),[3,4];case 3:o=Boolean(s),a.label=4;case 4:if(o)return[2,u];a.label=5;case 5:return r++,[3,1];case 6:return[2,void 0]}}))}))()},t}();function QD(t){YD.lL._B(t)}var YD=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).mB=BD.cB(),n}bt(n,t);var i=n.prototype;return i.vB=function(t){this.mB=t},i.pB=function(){return this.mB},i.AB=function(t,n){var i=this;return Ot((function(){var r,e,u,s,o,a;return Rt(this,(function(c){switch(c.label){case 0:r=i.mB,e=0,c.label=1;case 1:return e<t.length?(u=t[e],[4,i.wB(u,n)]):[3,7];case 2:return(s=c.sent())?[2,{yc:u,t:s}]:Vn(o=r.hB(u,n))?[4,o]:[3,4];case 3:return a=c.sent(),[3,5];case 4:a=Boolean(o),c.label=5;case 5:if(a)return[2,{yc:u,t:r}];c.label=6;case 6:return e++,[3,1];case 7:return[2,{yc:t[0],t:r}]}}))}))()},n}(UD);YD.lL=new YD,yt(),C();var FD,GD=function(){function t(t){this.Us=ru&&ru.document&&ru.document.createElement("div"),_u(this.Us),t.appendChild(this.Us)}return t.prototype.gn=function(){cu(this.Us)},t}();yt(),C(),zt(),pt(),Mt(),Ut(),yt(),C(),function(t){t.YP="",t.yB="none",t.ZA="metadata",t.LT="auto"}(FD||(FD={}));var VD=[p_.ha,Al.xv,Al.Cv,Al.vm,Al.Mv,Al.Rv,Al.zv,Al.Hv,Al.Xv,Al.hm,Al.lm,gk.pm,gk.Am,gk.ym,gk.Mm,gk.Nw,gk.Tm,gk.Sm,Al.Nv,Al.Iv,Al.Lv,Al.Ov,Al.Gv,Al.Vv,Al.jh,Al.Zv,Al.Sh,Al.qv,Al.Jv,Al.im,Al.$v,Al.fm,Al._m,Al.Kv,Al.Wv,Al.nm],WD=function(t){function n(n,i){var r;return(r=t.call(this)||this).IB=void 0,r.MB=void 0,r.Az=FD.yB,r.SB=void 0,r.EB=!0,r.YT=new KT,r.VT=new KT,r.Dl=new qT,r.GT=new mN,r.NB=n,r.Qo=i,r.Qo.yg=r.yg,r.bB(),r}bt(n,t);var i=n.prototype;return i.Hg=function(){this.Qo.Hg()},i.Xg=function(){var t=this.Qo.Xg();Vn(t)&&Xo(t)},i.Zg=function(){return this.ga(void 0)},i.Wg=function(){},i.bB=function(){this.YT.Uw=this.Qo.ht,this.VT.Uw=this.Qo.rt,this.Dl.Uw=this.Qo.nt,this.GT.Uw=this.Qo.Z_,this.Qo.yn(VD,this.Ds)},i.TB=function(){this.Qo.fn(VD,this.Ds),this.YT.Uw=void 0,this.VT.Uw=void 0,this.Dl.Uw=void 0,this.GT.Uw=void 0},i.Wa=function(){return this.SB},i.ga=function(t,n){var i=this;return Ot((function(){var r,e,u,s,o,a;return Rt(this,(function(c){switch(c.label){case 0:return Po(n),i.SB=t,t?aD(r=t.sources.filter(lD))?[2]:[4,i.NB.AB(r,t)]:[2];case 1:return e=c.sent(),Po(n),u=e.yc,s=e.t,o=i.Gg(),a=SD(i),i.IB!==s||i.lt?(i.TB(),[4,i.Qo.gn()]):[3,3];case 2:c.sent(),Po(n),i.IB=s,i.Qo=i.DB(s,u),function(t,n){t.og!==n.og&&(t.og=n.og);t.zg!==n.zg&&(t.zg=n.zg);t.gg!==n.gg&&(t.gg=n.gg)}(i.Qo,a),jD(i,a,i),i.bB(),c.label=3;case 3:return i.Qo.yg=i.yg,i.EB?i.Qo.ge():i.Qo.be(),[4,i.Qo.ga(u,t,n)];case 4:return c.sent(),Po(n),i.kB(u),i.Gg()!==o&&i.Co(new xD),[2]}}))}))()},i.kB=function(t){this.MB!==t&&(this.MB=t,this.Co(new CD(t)))},i.qg=function(){return this.Qo.qg()},i.Kg=function(){this.Qo.Kg()},i.Jg=function(){this.Qo.Jg()},i.Gg=function(){return this.Qo.Gg()},i.$g=function(){this.Qo.$g()},i.iw=function(){this.Qo.iw()},i.tr=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return t.SB=void 0,t.kB(void 0),[4,t.Qo.tr()];case 1:return n.sent(),[2]}}))}))()},i.gn=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return t.Vo(),[4,t.tr()];case 1:return n.sent(),[4,t.Qo.gn()];case 2:return n.sent(),t.YT.gn(),t.VT.gn(),t.Dl.gn(),t.GT.gn(),[2]}}))}))()},i.ge=function(){this.EB=!0,this.Qo.ge()},i.be=function(){this.EB=!1,this.Qo.be()},At(n,[{key:"ht",get:function(){return this.YT}},{key:"O_",get:function(){return this.Qo.O_}},{key:"lt",get:function(){return this.Qo.lt}},{key:"H_",get:function(){return this.Qo.H_}},{key:"R_",get:function(){return this.Qo.R_},set:function(t){this.Qo.R_=t}},{key:"bt",get:function(){return this.MB}},{key:"U_",get:function(){return this.Qo.U_},set:function(t){this.Qo.U_=t}},{key:"ct",get:function(){return this.Qo.ct}},{key:"G_",get:function(){return this.Qo.G_}},{key:"Z_",get:function(){return this.GT}},{key:"K_",get:function(){return this.Qo.K_}},{key:"eg",get:function(){return this.Qo.eg}},{key:"og",get:function(){return this.Qo.og},set:function(t){this.Qo.og=t}},{key:"cg",get:function(){return this.Qo.cg}},{key:"fg",get:function(){return this.Qo.fg}},{key:"gg",get:function(){return this.Qo.gg},set:function(t){this.Qo.gg=t}},{key:"pg",get:function(){return this.Qo.pg}},{key:"yg",get:function(){return this.Az},set:function(t){this.Az=t,this.Qo&&(this.Qo.yg=this.Az)}},{key:"Sg",get:function(){return this.Qo.Sg}},{key:"Ig",get:function(){return this.Qo.Ig}},{key:"Eg",get:function(){return this.Qo.Eg}},{key:"nt",get:function(){return this.Dl}},{key:"Cg",get:function(){return this.Qo.Cg}},{key:"rt",get:function(){return this.VT}},{key:"Rg",get:function(){return this.Qo.Rg}},{key:"zg",get:function(){return this.Qo.zg},set:function(t){this.Qo.zg=t}},{key:"Qg",get:function(){return this.Qo.Qg}},{key:"Tz",get:function(){return this.Qo.Tz}}]),n}(na);function XD(t,n,i){return i?t<=n:t<n}yt(),C(),zt(),pt(),Mt(),Ut(),yt(),C(),zt(),pt(),Mt(),Ut(),yt(),C(),pt();var ZD,HD=function(){function t(t,n){this.U=t.length>>1,this.xB=t,this.OB=n||function(t){for(var n=new Array(2*t),i=0,r=0;i<t;i+=1,r+=2)n[r]=!0,n[r+1]=!1;return n}(this.U)}var n=t.prototype;return n.Cn=function(t){return this.xB[2*t]},n.jn=function(t){return this.xB[2*t+1]},n.CB=function(t){return this.OB[2*t]},n.jB=function(t){return this.OB[2*t+1]},n.ks=function(){var t=this;return{get length(){return t.U},start:function(n){var i=0|n;return t.RB(i),t.Cn(i)},end:function(n){var i=0|n;return t.RB(i),t.jn(i)}}},n.PB=function(){for(var n=new Array(2*this.U),i=new Array(2*this.U),r=0;r<this.U;r++)n[2*r]=this.Cn(r),n[2*r+1]=this.jn(r),i[2*r]=!0,i[2*r+1]=!0;return new t(n,i)},n.RB=function(t){if(t<0)throw new v("The index provided ("+t+") must be non-negative");if(t>=this.U)throw new v("The index provided ("+t+") is greater than the maximum bound ("+this.U+")")},n.zB=function(t){if(0===this.U)return 0;if(this.gr(t))return t;if(t<=this.Cn(0))return this.Cn(0);if(t>=this.jn(this.U-1))return this.jn(this.U-1);for(var n=0,i=1/0,r=0;r<this.U;r++){var e=this.Cn(r),u=w.abs(e-t);u<i&&(n=e,i=u);var s=this.jn(r),o=w.abs(s-t);o<i&&(n=s,i=o)}return n},n.Sn=function(n){for(var i=0,r=0,e=[],u=[];i<this.U&&r<n.U;){var s=this.Cn(i),o=this.jn(i),a=this.CB(i),c=this.jB(i),h=n.Cn(r),f=n.jn(r),v=n.CB(r),l=n.jB(r),d=w.max(s,h),g=w.min(o,f),y=void 0;y=s===h?a&&v:d===s?a:v;var m=void 0;m=o===f?c&&l:g===o?c:l,(d<g||y&&m&&d===g)&&(e.push(d,g),u.push(y,m)),o===f?(i+=1,r+=1):o<f?i+=1:r+=1}return new t(e,u)},n.BB=function(){var n=this.UB(),i=n.U;if(0===i)return new t([-1/0,1/0],[!1,!1]);var r=[],e=[],u=n.Cn(0);u!==-1/0&&(r.push(-1/0,u),e.push(!1,!n.CB(0)));for(var s=0;s<i-1;s++)r.push(n.jn(s),n.Cn(s+1)),e.push(!n.jB(s),!n.CB(s+1));var o=n.jn(i-1);return o!==1/0&&(r.push(o,1/0),e.push(!n.jB(i-1),!1)),new t(r,e)},n.QB=function(n){for(var i=0,r=0,e=this.U,u=n.U,s=new Array(2*(e+u)),o=new Array(2*(e+u)),a=0;i<e&&r<u;){var c=this.Cn(i),h=this.jn(i),f=n.Cn(r),v=n.jn(r);c<f||c===f&&h<v?(s[a]=c,s[a+1]=h,o[a]=this.CB(i),o[a+1]=this.jB(i),i++):(s[a]=f,s[a+1]=v,o[a]=n.CB(r),o[a+1]=n.jB(r),r++),a+=2}for(;i<e;)s[a]=this.Cn(i),s[a+1]=this.jn(i),o[a]=this.CB(i),o[a+1]=this.jB(i),i++,a+=2;for(;r<u;)s[a]=n.Cn(r),s[a+1]=n.jn(r),o[a]=n.CB(r),o[a+1]=n.jB(r),r++,a+=2;return new t(s,o)},n.FB=function(n){void 0===n&&(n=0);var i=this.U;if(i<2)return this;for(var r=[],e=[],u=this.Cn(0),s=this.jn(0),o=this.CB(0),a=this.jB(0),c=1;c<i;c++){var h=this.Cn(c),f=this.jn(c),v=this.CB(c),l=this.jB(c);u<h&&s>f||(u===h&&(o=v=o||v),s===f&&(a=l=a||l),XD(h,s+n,a||v)?(s=f,a=l):(r.push(u,s),e.push(o,a),u=h,s=f,o=v,a=l))}return r.push(u,s),e.push(o,a),new t(r,e).UB()},n.UB=function(){for(var n=[],i=[],r=0;r<this.U;r++){var e=this.Cn(r),u=this.jn(r),s=this.CB(r),o=this.jB(r);e===u?(s||o)&&(n.push(e,u),i.push(!0,!0)):(n.push(e,u),i.push(s,o))}return new t(n,i)},n.YB=function(t){return 0===this.U?t:0===t.U?this:this.QB(t).FB()},n.GB=function(t){var n=this.UB(),i=t.UB(),r=n.BB(),e=i.BB(),u=r.Sn(i),s=e.Sn(n);return u.YB(s)},n.KA=function(n){if(0===this.U||0===n)return this;for(var i=[],r=[],e=0;e<this.U;e++){var u=this.Cn(e)+n,s=this.jn(e)+n;i.push(u,s),r.push(this.CB(e),this.jB(e))}return new t(i,r)},n.VB=function(t){return 0===this.U||0===t.U?this:this.UB().Sn(t.UB().BB())},n.gr=function(t,n){return this.WB(t,n)>=0},n.HB=function(t,n,i,r,e){return this.XB(t,n,i,r,e)>=0},n.ZB=function(t,n,i,r,e){return this.qB(t,n,i,r,e)>=0},n.KB=function(t){if(t.U!==this.U)return!1;for(var n=0;n<this.U;n++)if(this.Cn(n)!==t.Cn(n)||this.jn(n)!==t.jn(n)||this.CB(n)!==t.CB(n)||this.jB(n)!==t.jB(n))return!1;return!0},n.JB=function(n){for(var i=[],r=[],e=0;e<this.U;e++){var u=this.Cn(e),s=this.jn(e),o=this.CB(e),a=this.jB(e);n(u,s,o,a)&&(i.push(u,s),r.push(o,a))}return new t(i,r)},n.qB=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!0),void 0===e&&(e=0);for(var u=t-e,s=n+e,o=0;o<this.U;o+=1)if(XD(this.Cn(o),s,!r||this.CB(o))&&XD(u,this.jn(o),!i||this.jB(o)))return o;return-1},n.XB=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!1),void 0===e&&(e=0);for(var u=t+e,s=n-e,o=0;o<this.U;o+=1)if(XD(this.Cn(o),u,!i||this.CB(o))&&XD(s,this.jn(o),!r||this.jB(o)))return o;return-1},n.WB=function(t,n){return this.XB(t,t,!0,!0,n)},n.$B=function(t,n){void 0===n&&(n=0);for(var i=t+n,r=this.U-1;r>=0;r-=1)if(XD(this.Cn(r),i,this.CB(r)))return r;return-1},n.tU=function(t,n){void 0===n&&(n=0);for(var i=t-n,r=0;r<this.U;r+=1)if(XD(i,this.jn(r),this.jB(r)))return r;return-1},n.iU=function(t,n){void 0===n&&(n=0);for(var i=t+n,r=0;r<this.U;r+=1)if(this.Cn(r)>i)return r;return-1},n.eU=function(n){return this.RB(n),new t([this.Cn(n),this.jn(n)],[this.CB(n),this.jB(n)])},n.Jm=function(t,n){var i=this.WB(t,n);return i<0?void 0:this.eU(i)},t.xn=function(n){for(var i=[],r=0;r<n.length;r++)i.push(n.start(r),n.end(r));return new t(i)},t.nU=function(n){return new t([n,n],[!0,!0])},t.rU=function(n,i){return n<=i?new t([n,i]):t.oU()},t.oU=function(){return KD},At(t,[{key:"LB",get:function(){return this.xB.slice()}},{key:"sU",get:function(){for(var t=0,n=0;n<this.U;n++){t+=this.jn(n)-this.Cn(n)}return t}}]),t}(),KD=new HD([]);yt(),C(),pt(),Mt(),yt(),C(),function(t){t.ra="fullscreenchange",t.ca="fullscreensupportchange",t.ha="fullscreenerror"}(ZD||(ZD={})),yt(),C(),Mt();var qD=function(t){function n(){return t.call(this,ZD.ha)}return bt(n,t),n}(ra),JD=(ZD.ra,ZD.ca,ZD.ha,function(t){function n(){return t.apply(this,arguments)}bt(n,t);var i=n.prototype;return i.mo=function(){this.Co(new qD)},i.So=function(){},i.gn=function(){this.Vo()},At(n,[{key:"cs",get:function(){return!1}},{key:"ta",get:function(){return!1}}]),n}($o)),$D=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).hU=0,n.uU=!1,n.cU=!0,n.lU=1,n.aU=!1,n.Xx=1,n.ht=new Vm,n.O_=HD.oU().ks(),n.ct=NaN,n.G_=!1,n.lt=void 0,n.H_=void 0,n.Z_=void 0,n.K_=!1,n.cg=!0,n.pg=HD.oU().ks(),n.yg=FD.yB,n.Sg=mk.BT,n.Ig=HD.oU().ks(),n.Mz=void 0,n.nt=new Y_,n.Cg=0,n.rt=new Vm,n.Rg=0,n.Qg=new NT,n.Sz=new pT,n.dU=new JD,n}bt(n,t);var i=n.prototype;return i.F_=function(t,n){this.hU!==t&&(this.hU=t,this.aU=!0,this.Co(new _D(this.U_)))},i.ge=function(){},i.be=function(){},i.Xg=function(){this.cU&&(this.cU=!1,this.Co(new yD(this.U_)),this.Co(new kk(this.U_)))},i.Hg=function(){this.cU||(this.cU=!0,this.Co(new om(this.U_,this.R_)),this.Co(new wD(this.U_)))},i.ga=function(t,n){return q.resolve()},i.qg=function(){return!1},i.Kg=function(){},i.Jg=function(){},i.Gg=function(){return this.dU},i.$g=function(){},i.iw=function(){},i.tr=function(){var t=this;return Ot((function(){return Rt(this,(function(n){return t.hU=0,t.aU=!1,t.Hg(),t.Co(new gD(t.hU)),[2]}))}))()},i.gn=function(){var t=this;return Ot((function(){return Rt(this,(function(n){return t.Vo(),t.ht.gn(),t.nt.gn(),t.rt.gn(),[2]}))}))()},At(n,[{key:"R_",get:function(){},set:function(t){}},{key:"bt",get:function(){}},{key:"U_",get:function(){return this.hU},set:function(t){this.F_(t)}},{key:"eg",get:function(){return{HT:0,XT:0,ZT:0,qT:0,KT:0,JT:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"og",get:function(){return this.uU},set:function(t){this.uU!==t&&(this.uU=t,this.Co(new bD(this.U_,this.zg)))}},{key:"fg",get:function(){return this.cU}},{key:"gg",get:function(){return this.lU},set:function(t){this.lU!==t&&(this.lU=t,this.Co(new AD(this.U_,this.gg)))}},{key:"Eg",get:function(){return this.aU}},{key:"zg",get:function(){return this.Xx},set:function(t){this.Xx!==t&&(this.Xx=t,this.Co(new bD(this.U_,this.zg)))}},{key:"Yg",get:function(){return!1},set:function(t){}},{key:"Tz",get:function(){return this.Sz}},{key:"Km",get:function(){}}]),n}($o),tI=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Yz=void 0,n.Fm=void 0,n}bt(n,t);var i=n.prototype;return i.Vg=function(){var t;return null==(t=this.Fm)?void 0:t.pz},i.F_=function(t,n){this.U_=t},i.gn=function(){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return i.sent(),n.Fm?[4,n.Yz.Fz(n.Fm)]:[3,3];case 2:i.sent(),n.Fm=void 0,i.label=3;case 3:return[2]}}))}))()},At(n,[{key:"fU",set:function(t){this.Yz=t,this.Fm=t.oB(Gm.VA)}}]),n}($D),nI=function(t){function n(n,i,r,e,u,s,o){var a,c=new tI;return(a=t.call(this,YD.lL,c)||this).pu=n,a.GO=i,a.aE=r,a.wU=e,a.vU=u,a.mU=o,a.gU=new tu(s,a.mU),a.gU.yU(a.pu),c.fU=a.gU,a.AU=new GD(a.pu),a}bt(n,t);var i=n.prototype;return i.Wg=function(){t.prototype.Wg.call(this),this.gU._U()},i.ur=function(t){LD(this,t)},i.ar=function(){},i.ew=function(t){return!1},i.ga=function(n,i){var r=this;return Ot((function(){var e,u;return Rt(this,(function(s){switch(s.label){case 0:return e=r.Gg(),u=r.Vg(),[4,t.prototype.ga.call(r,n,i)];case 1:return s.sent(),r.Gg()!==e&&r.Co(new xD),r.Vg()!==u&&r.Co(new OD),[2]}}))}))()},i.F_=function(t,n){this.Qo.F_(t,n)},i.DB=function(t,n){return t.Yp(this.pu,this.gU,this.aE,this.GO,this.wU,this.vU,this.mU,n)},i.Vg=function(){return this.Qo.Vg()},i.C_=function(){return this.gU.pU.map((function(t){return t.pz}))},i.gn=function(){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return i.sent(),n.gU.gn(),n.AU.gn(),[2]}}))}))()},At(n,[{key:"we",get:function(){return this.pu}},{key:"Yg",get:function(){return this.Qo.Yg},set:function(t){this.Qo.Yg=t}}]),n}(WD);yt(),C(),zt(),pt(),Mt(),Ut(),yt(),C();var iI=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).dU=new JD,e.bz=new NT,e.pu=n,e.bU=i,e.MU=new Vm,e.SU=new Y_,e.TU=r,e}bt(n,t);var i=n.prototype;return i.F_=function(t,n){},i.ew=function(t){return!0},i.be=function(){},i.Xg=function(){throw this.Co(new gT(this.TU)),this.bU},i.Hg=function(){},i.Wa=function(){},i.ga=function(t,n){var i=this;return Ot((function(){return Rt(this,(function(t){throw Po(n),i.Co(new gT(i.TU)),i.bU}))}))()},i.ge=function(){},i.Zg=function(){return q.resolve()},i.Vg=function(){},i.Gg=function(){return this.dU},i.C_=function(){return[]},i.Wg=function(){},i.ur=function(t){},i.ar=function(){},i.qg=function(){return!1},i.Kg=function(){},i.Jg=function(){},i.$g=function(){},i.iw=function(){},i.tr=function(){return q.resolve()},i.gn=function(){return this.Vo(),this.MU.gn(),this.SU.gn(),q.resolve()},At(n,[{key:"ht",get:function(){return this.MU}},{key:"O_",get:function(){return HD.oU().ks()}},{key:"R_",get:function(){return new Date(NaN)},set:function(t){}},{key:"bt",get:function(){}},{key:"U_",get:function(){return 0},set:function(t){}},{key:"ct",get:function(){return 0}},{key:"we",get:function(){return this.pu}},{key:"G_",get:function(){return!0}},{key:"lt",get:function(){return this.bU}},{key:"H_",get:function(){return this.TU}},{key:"Z_",get:function(){}},{key:"eg",get:function(){return{HT:0,XT:0,ZT:0,qT:0,KT:0,JT:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"og",get:function(){return!1},set:function(t){}},{key:"cg",get:function(){return!0}},{key:"fg",get:function(){return!0}},{key:"gg",get:function(){return 0},set:function(t){}},{key:"pg",get:function(){return HD.oU().ks()}},{key:"yg",get:function(){return FD.yB},set:function(t){}},{key:"Sg",get:function(){return mk.BT}},{key:"Ig",get:function(){return HD.oU().ks()}},{key:"Eg",get:function(){return!1}},{key:"nt",get:function(){return this.SU}},{key:"Cg",get:function(){return 0}},{key:"rt",get:function(){return this.MU}},{key:"Rg",get:function(){return 0}},{key:"zg",get:function(){return 1},set:function(t){}},{key:"Qg",get:function(){return this.bz}},{key:"Yg",get:function(){return!1},set:function(t){}},{key:"K_",get:function(){return!1}}]),n}(na);function rI(t){if(t&&Qn(t))return $u({},t,{integration:eI(t.integration),fairplay:hI(t.fairplay),widevine:uI(t.widevine),playready:sI(t.playready),clearkey:fI(t.clearkey),aes128:vI(t.aes128),integrationParameters:lI(t.integrationParameters),preferredKeySystems:dI(t.preferredKeySystems)})}function eI(t){if(Fn(t))return t}function uI(t){if(t&&Qn(t))return{persistentState:oI(t.persistentState),distinctiveIdentifier:oI(t.distinctiveIdentifier),audioRobustness:aI(t.audioRobustness),videoRobustness:aI(t.videoRobustness),licenseAcquisitionURL:Fn(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:cI(t.licenseType),headers:t.headers,useCredentials:!!Gn(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:Fn(t.certificate)||Sc(t.certificate)?t.certificate:void 0}}function sI(t){if(t){var n=uI(t);if(n)return $u({},n,{customData:Fn(t.customData)?t.customData:void 0})}}function oI(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function aI(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function cI(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function hI(t){if(t){var n=uI(t);if(n)return $u({},n,{certificateURL:Fn(t.certificateURL)?t.certificateURL:void 0})}}function fI(t){if(t){var n=uI(t);if(n){var i=Pn(t.keys)?t.keys.map((function(t){return function(t){if(!t||!Qn(t))return;var n=t.id,i=t.value;if(!Fn(n)||!Fn(i))return;return{id:n,value:i}}(t)})).filter(Rn):void 0;return $u({},n,{keys:i})}}}function vI(t){if(Qn(t))return{useCredentials:Gn(t.useCredentials)?t.useCredentials:void 0}}function lI(t){if(Qn(t))return t}function dI(t){return t&&Pn(t)?t.map((function(t){return Ab(t)})).filter(Rn):[ms,gs,bs]}yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),pt(),Mt(),yt(),C(),Mt(),yt(),C();var gI=function(t){function n(n){var i;return(i=t.call(this,"presentationmodechange")||this).presentationMode=n,i}return bt(n,t),n}(ra);yt(),C(),yt(),C(),Mt();var wI,yI=function(t){function n(n,i,r){var e;return void 0===i&&(i=!1),(e=t.call(this,r)||this).IU=[],e.EU=function(t){Wo((function(){e.Ds(t)}))},e.hd=n,e.NU=i?e.EU:e.Ds,e}bt(n,t);var i=n.prototype;return i.Qa=function(t){for(var n=0,i=this.hd;n<i.length;n++){var r=i[n];t.yn(r,this.NU)}this.IU.push(t)},i.DU=function(t){for(var n=0,i=this.hd;n<i.length;n++){var r=i[n];t.fn(r,this.NU)}this.IU.push(t)},i.gn=function(){this.Vo();for(var t=0,n=this.IU;t<n.length;t++){var i=n[t];this.DU(i)}po(this.IU)},n}($o),mI=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this,n)||this).IU=[],r.EU=function(t){Wo((function(){r.Ds(t)}))},r.kU=i?r.EU:r.Ds,r}bt(n,t);var i=n.prototype;return i.Qa=function(t){t.T_(this.kU),this.IU.push(t)},i.DU=function(t){t.E_(this.kU),go(this.IU,t)},i.gn=function(){this.Vo();for(var t=0,n=this.IU;t<n.length;t++){n[t].E_(this.kU)}po(this.IU)},n}(na);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(wI||(wI={}));var AI,pI=function(t){function n(n){var i;return(i=t.call(this)||this).CU="inline",i.LU="inline",i.xU=!1,i.jU=!1,i.OU="inline",i.RU="inline",i.Xa=void 0,i.zU=function(){return i.wi()},i.BU=function(){return i.PU()},i.dU=n,i.dU.yn(ZD.ra,i.zU),i.dU.yn(ZD.ha,i.BU),i.Yr(),i}bt(n,t);var i=n.prototype;return i.fa=function(){return function(t){var n,i={get currentMode(){return t.qo()},requestMode:function(n){var i=kI(n);i&&t.Zo(i)},supportsMode:function(n){var i=kI(n);return!!i&&t.Go(i)},addEventListener:function(t,i){n.yn(t,i)},removeEventListener:function(t,i){n.fn(t,i)}};return(n=new mI(i,!0)).Qa(t),i}(this)},i.Zo=function(t){this.Xo(t,t)},i.Xo=function(t,n){this.LU!==n&&(this.xU=!0,this.CU=t,this.Jo(n,this.LU),"fullscreen"!==t&&(this.OU=t),this.xU=!1,this.Yr())},i.qo=function(){return this.jU?"fullscreen":"inline"},i.Go=function(t){switch(t){case"fullscreen":return this.dU.ta;case"inline":return!0}return!1},i.Yr=function(){if(!this.xU){var t=this.LU,n=this.qo();this.LU=n,"fullscreen"!==n&&(this.RU=n),t!==n&&this.Co(new gI(n))}},i.Jo=function(t,n){var i="fullscreen"===t;this.jU=i,i!==this.dU.cs&&(i?this.dU.mo():this.dU.So())},i.wi=function(){if(!this.xU){var t=this.dU.cs;this.jU=t,t?this.Xo("fullscreen","fullscreen"):t||"fullscreen"!==this.CU?this.Yr():this.Xo(this.OU,this.RU)}},i.PU=function(){this.wi(),this.Co(new gT(new Kv(Xv.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},i.gn=function(){this.dU.gn(),this.Vo()},At(n,[{key:"va",get:function(){return this.Xa||(this.Xa=this.fa()),this.Xa}}]),n}(na),_I={bt:void 0,U_:0,ct:NaN,G_:!1,lt:void 0,H_:void 0,og:!1,fg:!0,gg:1,Sg:mk.BT,Eg:!1,Cg:0,Rg:0,zg:1};function kI(t){switch(t){case wI.INLINE:case wI.FULLSCREEN:case wI.PICTURE_IN_PICTURE:return t;default:return}}yt(),C(),pt(),function(t){t.DEFAULT="",t.THEO="theo",t.CSAI="csai",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel",t.MEDIATAILOR="mediatailor",t.THEOADS="theoads"}(AI||(AI={}));var bI,MI,TI,NI,DI,II=function(){function t(){this.QU=[]}var n=t.prototype;return n.FU=function(t){var n=this.QU.filter((function(n){return n.YU(t)}));if(n.length>1)0;else if(0===n.length)throw v("Unknown ad integration: "+t.integration);return n[0]||null},n.GU=function(t){this.QU.push(t)},At(t,[{key:"UU",get:function(){return this.QU}}]),t}();II.lL=new II,yt(),C(),Xt(),Mt(),yt(),C(),yt(),C(),Mt(),yt(),C(),pt(),Mt(),function(t){t.Sm="PLAYING",t.VU="PAUSED",t.WU="SEEK",t.HU="STALLED",t.XU="FAILED",t.ZU="INITIAL_BUFFERING",t.qU="NO_ACCESS"}(bI||(bI={})),function(t){t.KU="HTTP_REQUEST_STATUS_CODE_1XX",t.JU="HTTP_REQUEST_STATUS_CODE_2XX",t.$U="HTTP_REQUEST_STATUS_CODE_3XX",t.tQ="HTTP_REQUEST_STATUS_CODE_4XX",t.iQ="HTTP_REQUEST_STATUS_CODE_5XX",t.eQ="BUFFER_LENGTH",t.sQ="BYTES_RECEIVED",t.nQ="SEGMENT_READ_BITRATE",t.rQ="SEGMENT_PROFILE_BITRATE",t.oQ="VIDEO_PROFILE_BITRATE",t.hQ="NUMBER_OF_FRAMES_DROPPED",t.aQ="PLAYBACK_POSITION",t.uQ="NUMBER_OF_FRAMES_DECODED",t.cQ="PLAYBACK_DELTA_TO_ORIGIN",t.lQ="STREAM_DELTA_TO_ORIGIN",t.dQ="ORIGIN_TIMESTAMP"}(MI||(MI={})),function(t){t.fQ="MANIFEST_URI",t._Q="ASSET_DURATION",t.gQ="NUMBER_OF_CONTENT_PROFILES",t.wQ="CDN",t.vQ="CONTENT_TITLE",t.mQ="SERVICE_NAME",t.pQ="CONTENT_TYPE",t.AQ="CONTENT_DESCRIPTION"}(TI||(TI={})),function(t){t.yQ="shutdown_normal_shutdown"}(NI||(NI={})),function(t){t.MQ="session/",t.bQ="content/",t.TQ="internalError/",t.SQ="drmError/",t.NQ="caError/",t.IQ="networkError/"}(DI||(DI={}));var EI,SI=function(){function t(t,n){this.category=t,this.statusCode=n}return At(t,[{key:"code",get:function(){return this.category+this.statusCode}}]),t}();!function(t){t.DQ="userAction",t.EQ="endOfStreamReached"}(EI||(EI={}));var LI,jI=function(t){function n(){return t.apply(this,arguments)}return bt(n,t),n}($o);yt(),C(),Mt(),yt(),C(),function(t){t.PAUSE="kQ",t.RESUME="LQ"}(LI||(LI={}));var CI=function(t){function n(){return t.call(this,"xQ")}return bt(n,t),n}(ra),xI=function(t){function n(n,i){var r;return(r=t.call(this)||this).Qo=n,r.RQ=i,r.OQ=!1,r.zQ=function(){r.jQ(),r.OQ=!1},r.BQ=function(){r.OQ=!0},r.RQ.yn(LI.PAUSE,r.zQ),r.RQ.yn(LI.RESUME,r.BQ),r}bt(n,t);var i=n.prototype;return i.CQ=function(){this.OQ=!0},i.jQ=function(){},i.gn=function(){this.OQ=!1,this.RQ.fn(LI.PAUSE,this.zQ),this.RQ.fn(LI.RESUME,this.BQ)},i.UQ=function(){return isFinite(this.Qo.Td())},n}($o),OI=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).ZQ=!1,n.sF=!1,n.nF=!1,n.YQ=function(){n.sF&&!n.nF&&n.JQ(bI.HU)},n.VQ=function(){n.Qo.fg||(n.sF||n.iF(new SI(DI.bQ,"firstFrameDisplayed"),"now"),n.sF=!0,n.JQ(bI.Sm))},n.GQ=function(){n.Qo.fg&&(n.sF=!0,n.JQ(bI.VU))},n.WQ=function(){n.ZQ&&(n.nF=!0,n.ZQ=!1,n.JQ(bI.WU))},n.HQ=function(){n.nF=!1,n.Qo.fg&&n.JQ(bI.VU)},n}bt(n,t);var i=n.prototype;return i.CQ=function(){t.prototype.CQ.call(this),this.QQ()},i.gn=function(){this.FQ(),t.prototype.gn.call(this)},i.QQ=function(){this.Qo.yn(gk.Tm,this.YQ),this.Qo.yn(Al.Sh,this.GQ),this.Qo.yn(gk.Sm,this.VQ),this.Qo.yn(Al.im,this.WQ),this.Qo.yn(Al.$v,this.HQ)},i.FQ=function(){this.Qo.fn(gk.Tm,this.YQ),this.Qo.fn(Al.Sh,this.GQ),this.Qo.fn(gk.Sm,this.VQ),this.Qo.fn(Al.im,this.WQ),this.Qo.fn(Al.$v,this.HQ)},i.XQ=function(){this.ZQ=!0},i.qQ=function(){var t=this.Qo.W_(),n=new SI(DI.TQ,String(t.code));this.KQ(bI.XU,n,t.message)},i.JQ=function(t){this.OQ&&(this.RQ.$Q(t),this.Co(new CI))},i.KQ=function(t,n,i){this.RQ.tF(t,n,i),this.Co(new CI)},i.iF=function(t,n){this.RQ.eF(t,n)},n}(xI);yt(),C(),Mt();var zI=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).uF=function(){n.UQ()&&n.dF(TI._Q,w.round(n.Qo.Td()))},n.aF=function(t){"manifest"===t.request.type&&n.dF(TI.fQ,t.url)},n.rF=function(){var t=co(n.Qo.rt.Rw,(function(t){return t.Rt}));t&&n.dF(TI.gQ,t.qw.U)},n}bt(n,t);var i=n.prototype;return i.CQ=function(){t.prototype.CQ.call(this),this.rF(),this.QQ()},i.gn=function(){this.FQ(),t.prototype.gn.call(this)},i.QQ=function(){this.Qo.rt.yn(gm.ra,this.rF),this.Qo.hF.oF(this.aF),this.Qo.yn(Al.Lv,this.uF)},i.FQ=function(){this.Qo.rt.fn(gm.ra,this.rF),this.Qo.hF.cF(this.aF),this.Qo.fn(Al.Lv,this.uF)},i.lF=function(t){t.serviceName&&this.dF(TI.mQ,t.serviceName),t.cdn&&this.dF(TI.wQ,t.cdn),t.contentTitle&&this.dF(TI.vQ,t.contentTitle),t.contentType&&this.dF(TI.pQ,t.contentType),t.contentDescription&&this.dF(TI.AQ,t.contentDescription)},i.dF=function(t,n){this.OQ&&this.RQ.fF(t,n)},n}(xI);yt(),C(),Mt();var RI=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).NF=ns(),n.bF=0,n._F=0,n.gF=0,n.wF=[],n.vF=function(){n.IF(),n.DF(),n.LF()},n.AF=function(t){t.$D===Gm.VA&&(n.MF(t.KT),n.EF(),n.kF(t.CF),n.mF())},n.pF=function(t){var i=t.status.toString()[0],r=n.NF.get(i)||0;n.NF.set(i,r+1),n.SF(MI.KU,"1"),n.SF(MI.JU,"2"),n.SF(MI.$U,"3"),n.SF(MI.tQ,"4"),n.SF(MI.iQ,"5")},n}bt(n,t);var i=n.prototype;return i.CQ=function(){t.prototype.CQ.call(this),this._F=this.Qo.eg.HT,this.gF=this.Qo.eg.ZT,this.QQ(),this.wF.push(h(this.vF,1e3))},i.jQ=function(){t.prototype.jQ.call(this),this.mF()},i.gn=function(){this.mF(),this.FQ(),this.wF.forEach(f),po(this.wF),t.prototype.gn.call(this)},i.QQ=function(){this.Qo.hF.oF(this.pF),this.Qo.yn(Al.lm,this.AF)},i.FQ=function(){this.Qo.hF.cF(this.pF),this.Qo.fn(Al.lm,this.AF)},i.yF=function(){this.mF()},i.MF=function(t){this.bF+=t,this.TF(MI.sQ,this.bF)},i.SF=function(t,n){var i=this.NF.get(n)||0;this.TF(t,i)},i.IF=function(){var t=this.Qo.eg.HT-this._F;this.TF(MI.hQ,t)},i.DF=function(){var t=this.Qo.eg.ZT-this.gF;this.TF(MI.uQ,t)},i.EF=function(){var t=AT.lL.OP();this.TF(MI.nQ,Rc(t))},i.kF=function(t){this.TF(MI.rQ,Rc(t)),this.TF(MI.oQ,Rc(t))},i.mF=function(){if(this.UQ()){var t=w.round(Ki(this.Qo.Q_()));this.TF(MI.aQ,t)}},i.LF=function(){var t=HD.xn(this.Qo.j_()),n=this.Qo.Q_(),i=t.Jm(n),r=i?Ki(i.jn(0)-n):0;this.TF(MI.eQ,r)},i.TF=function(t,n){this.OQ&&this.RQ.xF(t,n)},n}(xI);yt(),C();var BI;function PI(t){return t&&t.integration===ZI}function UI(t){if(!Fn(t.asset))throw new l("Agama source configuration: expected 'asset' to be a string");if(!function(t){return!!Fn(t)&&("live"===t||"vod"===t)}(t.streamType))throw new l("Agama source configuration: expected 'streamType' to be 'live' or 'vod'");if(void 0!==t.serviceName&&!function(t){return!!Fn(t)&&("live"===t||"svod"===t||"nvod"===t||"tvod"===t||"avod"===t||"catchuptv"===t)}(t.serviceName))throw new l("Agama source configuration: expected 'serviceName' to be 'live', 'svod', 'nvod','tvod', 'avod' or 'catchuptv'");if(void 0!==t.cdn&&!Fn(t.cdn))throw new l("Agama source configuration: expected 'cdn' to be a string");if(void 0!==t.contentTitle&&!Fn(t.contentTitle))throw new l("Agama source configuration: expected 'contentTitle' to be a string");if(void 0!==t.contentType&&!Fn(t.contentType))throw new l("Agama source configuration: expected 'contentType' to be a string");if(void 0!==t.contentDescription&&!Fn(t.contentDescription))throw new l("Agama source configuration: expected 'contentDescription' to be a string");return t}function QI(t){if(!Fn(t.config))throw new l("Agama player configuration: expected 'config' to be a string");if(void 0!==t.logLevel&&!function(t){return!!Fn(t)&&("info"===t||"debug"===t||"warning"===t||"error"===t||"fatal"===t)}(t.logLevel))throw new l("Agama player configuration: expected 'logLevel' to be 'info', 'debug', 'warning','error' or 'fatal'");if(void 0!==t.application&&!Fn(t.application))throw new l("Agama player configuration: expected 'application' to be a string");if(void 0!==t.applicationVersion&&!Fn(t.applicationVersion))throw new l("Agama player configuration: expected 'applicationVersion' to be a string");if(void 0!==t.userAccountID&&!Fn(t.userAccountID))throw new l("Agama player configuration: expected 'userAccountID' to be a string");if(void 0!==t.deviceID&&!Fn(t.deviceID))throw new l("Agama player configuration: expected 'deviceID' to be a string");return t}function YI(){var t="00000000-0000-0000-0000-000000000000",n=e.navigator,i=e.screen,r=""+n.mimeTypes.length;r+=n.userAgent.replace(/\D+/g,""),r+=n.plugins.length,r+=i.height||"",r+=i.width||"",r+=i.pixelDepth||"";var u=function(t){var n,i=0;if(0===t.length)return"0";for(n=0;n<t.length;n++)i=(i<<5)-i+t.charCodeAt(n),i|=0;return w.abs(i).toString().substring(0,12)}(r+=w.floor(1e3*w.random()));return t=[t.slice(0,t.length-u.length),u].join("")}function FI(t,n,i){var r=n,e=function(t,n){return JN(n)?t.DsProtocol.APPLE_HLS:t.DsProtocol.MPEG_DASH}(t,r.type),u=function(t,n){var i=t.DsPlaylistType.VOD;"live"===n&&(i=t.DsPlaylistType.LIVE);return i}(t,i.streamType);return{asset:i.asset,playlistType:u,protocol:e,uri:r.src}}yt(),C(),function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(BI||(BI={}));var GI,VI,WI,XI=function(){function t(t,n,i){var r=this;this.Qo=t,this.RQ=n,this.do=function(){r.iY(),r.HF()},this.iY=function(){var t=r.Qo.Wa(),n=t&&t.analytics;r.eY=function(t){void 0===t&&(t=[]);for(var n=0;n<t.length;n++){var i=t[n];if(PI(i))return UI(i)}}(n)},this.HF=function(){r.PF(),r.Qo.fn(Al.jh,r.WF),!r.VF()&&r.RQ.sY()&&r.Qo.bt&&r.eY&&(r.XF(),r.Qo.fg||r.Qo.G_?r.Qo.yn(Al.jh,r.WF):r.WF())},this.WF=function(){r.Qo.bt&&r.eY&&(r.RQ.nY(r.Qo.bt,r.eY),r.CQ(),r.lF(r.eY),r.FF(),r.Qo.yn(p_.ha,r.zF),r.Qo.fn(Al.jh,r.WF))},this.GF=function(){r.VF()&&r.PF()},this.zF=function(){r.tY(),r.PF()},this.JF=function(){r.qF&&r.qF.yF()};var e=function(t){void 0===t&&(t=[]);for(var n=0;n<t.length;n++){var i=t[n];if(PI(i))return QI(i)}}(i.analytics);e&&this.RQ.rY()&&(this.RQ.Wg(e),this.RQ.sY()?(this.RQ.oY(),this.Qo.yn(Al.lo,this.do),this.Qo.yn(Al.Ov,this.HF)):console.warn("An error occurred while initializing an Agama EMP client. Please check your configuration"))}var n=t.prototype;return n.PF=function(){this.Qo.fn(p_.ha,this.zF),this.BF(),this.UF(),this.RQ.QF()},n.FF=function(){this.Qo.YF.va.chromecast&&this.Qo.YF.va.chromecast.addEventListener("statechange",this.GF)},n.UF=function(){this.Qo.YF.va.chromecast&&this.Qo.YF.va.chromecast.removeEventListener("statechange",this.GF)},n.VF=function(){return void 0!==this.Qo.YF.va.chromecast&&this.Qo.YF.va.chromecast.state===BI.CONNECTED},n.gn=function(){this.Qo.fn(Al.lo,this.do),this.Qo.fn(Al.jh,this.WF),this.Qo.fn(Al.Ov,this.HF),this.PF(),this.RQ.gn()},n.XF=function(){this.ZF||(this.ZF=new OI(this.Qo,this.RQ)),this.qF||(this.qF=new RI(this.Qo,this.RQ)),this.KF||(this.KF=new zI(this.Qo,this.RQ))},n.CQ=function(){this.ZF&&(this.ZF.CQ(),this.ZF.yn("xQ",this.JF)),this.qF&&this.qF.CQ(),this.KF&&this.KF.CQ()},n.BF=function(){this.ZF&&(this.ZF.fn("xQ",this.JF),this.ZF.gn(),this.ZF=void 0),this.qF&&(this.qF.gn(),this.qF=void 0),this.KF&&(this.KF.gn(),this.KF=void 0)},n.lF=function(t){this.KF&&this.KF.lF(t)},n.tY=function(){this.ZF&&this.ZF.qQ()},n.XQ=function(){this.ZF&&this.ZF.XQ()},t}(),ZI="agama";function HI(t){switch(t){case"":return GI.NONE;case"horizontal":return GI.HORIZONTAL;case"vertical":return GI.VERTICAL;default:throw new l}}function KI(t,n){if(n)return VI.PM360;if(null==t)return VI.NONE;switch(t){case"":return VI.NONE;case"360":return VI.PM360;case"180":return VI.PM180;default:throw new l("Provided panoramaMode value is not recognized. Expected '', '360' or '180' but value was "+t)}}yt(),C(),yt(),C(),function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(GI||(GI={})),yt(),C(),function(t){t.NONE="",t.PM360="360",t.PM180="180"}(VI||(VI={})),yt(),C(),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(WI||(WI={})),yt(),C();var qI="https://content.uplynk.com";function JI(t){if(!t)return!0;var n=!function(t){return oD(t)||Un(t)&&oD(t[0])}(t.sources)||aD(t.sources),i=!t.ads||$I(t.ads),r=""!==t.poster&&!t.poster;return n&&i&&r}function $I(t){return!t||Pn(t)&&0===t.length}function tE(t){if(t&&t.sources)return nE(t.sources)}function nE(t){return Fn(t)?HN(t):uD(t)?t.type||t.src&&HN(t.src):Un(t)&&t.length>0?nE(t[0]):void 0}function iE(t){if(t&&t.sources)return rE(t.sources)}function rE(t){return Fn(t)?t:uD(t)?t.src:Un(t)&&t.length>0?rE(t[0]):void 0}function eE(t,n,i){return tD(t)?function(t,n,i){var r=$u({},cD(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:PN.VERIZON_MEDIA,id:"",prefix:qI,preplayParameters:{},playbackUrlParameters:{},assetType:WI.ASSET,contentProtected:!1,assetInfo:!0});r.id=function(t){if(Fn(t))return t;if(Un(t)&&Fn(t[0]))return t;if(function(t){return Qn(t)&&Fn(t.userId)&&(Un(t.externalId)||Fn(t.externalId))}(t))return t;return""}(t.id),t.preplayParameters&&(r.preplayParameters=t.preplayParameters);t.playbackUrlParameters&&(r.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(r.assetType=function(t){switch(t){case"channel":return WI.CHANNEL;case"event":return WI.EVENT;default:return WI.ASSET}}(t.assetType));t.contentProtected&&(r.contentProtected=Em(t.contentProtected));t.assetInfo?r.assetInfo=Em(t.assetInfo):r.assetInfo="asset"===r.assetType;t.prefix&&(r.prefix=Cm(t.prefix)||qI);return r.ping=function(t,n){var i=!1,r=!1,e=!1;n?(i=!!Gn(n.adImpressions)&&n.adImpressions,r=!!Gn(n.freeWheelVideoViews)&&n.freeWheelVideoViews,e=Gn(n.linearAdData)?n.linearAdData:t!==WI.ASSET):t!==WI.ASSET&&(e=!0);return{adImpressions:i,freeWheelVideoViews:r,linearAdData:e}}(r.assetType,t.ping),r=sE(r,t),r=aE(r,n,i),r=oE(r,t,i),r}(t,n,i):iD(t)?function(t,n,i){var r;return $u({},uE(t,n,i),{integration:PN.MEDIATAILOR,adParams:null!=(r=t.adParams)?r:{}})}(t,n,i):nD(t)?function(t,n,i){return $u({},uE(t,n,i),{integration:PN.THEOLIVE})}(t,n,i):rD(t)?function(t,n,i){return $u({},uE(t,n,i),{type:_N.Ip,streamName:t.streamName,streamAccountId:t.streamAccountId,subscriberToken:t.subscriberToken})}(t,n,i):uE(t,n,i)}function uE(t,n,i){var r=hD(),e=n&&(n.contentProtection||n.drm);if(Fn(t)){if(r.src=t,r.type=HN(t),e){var u=rI(e);r.contentProtection=EN(u)}}else if(uD(t)||$N(t)||rD(t)){r.src=t.src,r.type=t.type||HN(t.src),r.isAdvertisement=t.isAdvertisement;var s=sD(t)?t.hesp:void 0;void 0!==s&&(r.hesp=s),iD(t)&&(r.integration=t.integration);var o=rI(t.contentProtection||t.drm||e);r.contentProtection=EN(o),t.ssai&&(r.ssai=DN(t.ssai)),r=sE(r,t)}return r=oE(r=aE(r,n,i),t,i)}function sE(t,n){var i,r;n.useCredentials?t.crossOrigin=pN.Ap:n.crossOrigin&&(t.crossOrigin=KN(n.crossOrigin)),Fn(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=Em(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=Em(n.useNativePlayback)),n.useManagedMediaSource&&(t.useManagedMediaSource=Em(n.useManagedMediaSource)),n.dash&&(t.dash=SN(n.dash)),n.hls&&(t.hls=LN(n.hls)),n.lcevc&&(t.lcevc=Em(n.lcevc)),n.ignoreEmbeddedTextTrackTypes&&(t.ignoreEmbeddedTextTrackTypes=dD(n.ignoreEmbeddedTextTrackTypes)),n.latencyConfiguration&&(t.latencyConfiguration=GN(n.latencyConfiguration)),t.seamlessSwitchStrategy=VN(null!=(r=n.seamlessSwitchStrategy)?r:null==(i=n.dash)?void 0:i.useSeamlessPeriodSwitch);var e=Sm(n.experimentalRendering);void 0!==e&&(t.experimentalRendering=e);var u=Sm(n.nativeUiRendering);return void 0!==u&&(t.nativeUiRendering=u),t}function oE(t,n,i){return t.abr=xN(Fn(n)?void 0:CN(n.abr),null==i?void 0:i.abr),t}function aE(t,n,i){var r,e=n&&n.timeServer;return i&&i.liveOffset&&!Rn(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!Rn(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===pN.mp&&(null==n||null==(r=n.vr)?void 0:r[360])&&(t.crossOrigin=pN.pp),t.useCredentials=t.crossOrigin===pN.Ap,Fn(e)&&!t.timeServer&&(t.timeServer=e),t}function cE(t){var n={src:""};if(t&&t.src){if(n.src=Cm(t.src),"default"in t&&(n.default=Em(t.default)),n.kind=function(t){var n=String(t||"").toLowerCase();return G_(n)?n:n?"metadata":"subtitles"}(t.kind),_A(t.format)&&(n.format=t.format),"srclang"in t){var i=t.srclang;"string"==typeof i&&""!==i&&(n.srclang=i)}if("label"in t){var r=t.label;"string"==typeof r&&""!==r&&(n.label=r)}}return n}function hE(t,n){if(Qn(t))try{return n.FU(t).hY(t)}catch(t){return}}function fE(t,n,i){if(void 0===i&&(i=II.lL),JI(t))return{sources:[hD()]};var r=bm(t);if(r.sources=function(t,n,i){if(oD(t))return[eE(t,n,i)];if(Un(t)&&oD(t[0])){for(var r=[],e=0;e<t.length;e++){var u=t[e];r.push(eE(u,n,i))}return r}return[hD()]}(r.sources,r,n),"contentProtection"in r&&delete r.contentProtection,"drm"in r&&delete r.drm,"ads"in r){var e=function(t,n){if(!Un(t))return[];for(var i=[],r=0;r<t.length;r++){var e=t[r];(e=hE(e,n))&&i.push(e)}return i}(r.ads,i);0===e.length?delete r.ads:r.ads=e}var u=!aD(r.sources),s=r.ads&&r.ads.length>0;if(u&&!s?delete r.ads:s&&!u&&(r.sources=[]),"textTracks"in r){var o=function(t){if(!Un(t))return[];for(var n=[],i=0;i<t.length;i++){var r=t[i];""!==(r=cE(r)).src&&n.push(r)}return n}(r.textTracks);0===o.length?delete r.textTracks:r.textTracks=o}if("poster"in r&&(r.poster=Cm(r.poster)),"streamType"in r&&(r.streamType=function(t){switch(t){case"live":case"dvr":case"vod":return t}}(r.streamType)),"vr"in r&&(r.vr=function(t){var n=t||{};return n.stereoMode=function(t){return function(t){switch(t){case"":case"horizontal":case"vertical":return!0;default:return!1}}(t)?t:""}(n.stereoMode),{panoramaMode:KI(n.panoramaMode,Boolean(n[360])),stereoMode:n.stereoMode?HI(n.stereoMode):GI.NONE,nativeVR:Boolean(n.nativeVR)}}(r.vr)),"analytics"in r||(null==n?void 0:n.analytics)){var a=vD(r.analytics),c=n&&n.analytics||[];r.analytics=function(t,n){for(var i=function(i){var e=n[i],u=!t.some((function(t){return t.integration===e.integration}));u&&e.integration!==ZI&&r.push(e)},r=bm(t),e=0;e<n.length;e++)i(e);return r}(a,c)}return"mutedAutoplay"in r&&(r.mutedAutoplay=ID(r.mutedAutoplay)),"timeServer"in r&&delete r.timeServer,"playAdsAfterTime"in r&&(r.playAdsAfterTime=Lm(r.playAdsAfterTime)),r.blockContentIfAdError=function(t){return void 0!==t&&"boolean"==typeof t&&Boolean(t)}(r.blockContentIfAdError),r}yt(),C(),yt(),C(),yt(),C();var vE=function(){function t(t){this.aY=t}return t.prototype.uY=function(t){var n,i,r,e,u,s,o,a=[];if(!t)return"";var c=t.length%4;if(c>0)for(;c++<4;)t+=this.aY.charAt(64);for(n=0;n<t.length;n+=4)i=(o=this.aY.indexOf(t.charAt(n))<<18|this.aY.indexOf(t.charAt(n+1))<<12|(u=this.aY.indexOf(t.charAt(n+2)))<<6|(s=this.aY.indexOf(t.charAt(n+3))))>>>16&255,r=o>>>8&255,e=255&o,a[n/4]=String.fromCharCode(i,r,e),64===s&&(a[n/4]=String.fromCharCode(i,r)),64===u&&(a[n/4]=String.fromCharCode(i));return a.join("")},t.prototype.cY=function(t,n){var i,r,e,u,s,o,a,c=[],h="";if((o=t.length%3)>0)for(;o++<3;)h+=this.aY.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)r=(i=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,e=i>>12&63,u=i>>6&63,s=63&i,c[o/3]=this.aY.charAt(r)+this.aY.charAt(e)+this.aY.charAt(u)+this.aY.charAt(s);return a=(a=c.join("")).slice(0,a.length-h.length),n||(a+=h),a},t.lh=new t(function(){var t,n,i,r,e=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)r=n.charAt(i),-1===e.indexOf(r)&&e.push(r);return e.join("")}()),t.lY=new t(function(t){return t.uY("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")}(t.lh)),t}();function lE(t){return"string"==typeof t}function dE(t){return"number"==typeof t}yt(),C(),yt(),C(),yt(),C();var gE={}.toString;var wE,yE=Array.isArray||function(t){return"[object Array]"===gE.call(t)};function mE(t,n){return yE(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf",t.THEOLIVEWEB="theoliveweb",t.KEPLER="kepler"}(wE||(wE={}));var AE,pE=g.keys(wE).map((function(t){return wE[t]}));function _E(t){return-1!==pE.indexOf(t)}!function(t){t.HESP="hesp",t.MULTIVIEW="multiview",t.THEOADS="theoads",t.MILLICAST="millicast"}(AE||(AE={}));var kE,bE=g.keys(AE).map((function(t){return AE[t]}));function ME(t){return-1!==bE.indexOf(t)}function TE(t){try{var n=vE.lY.uY(t),i=JSON.parse(n);if(!function(t,n){var i,r=function(t){return"object"==typeof t&&null!==t}(t),e=lE(t.key),u=lE(t.customer_id),s=dE(t.generation_date),o=dE(t.expiration_date),a=mE(t.domains_page,lE),c=mE(t.domains_source,lE),h=mE(t.sdks,n?_E:lE),f=function(t){return"boolean"==typeof t}(t.send_impression);t.features?i=mE(t.features,n?ME:lE):(i=!0,t.features=[]);if(!(r&&e&&u&&s&&o&&a&&c&&h&&f&&i))return!1;return!0}(i,!1))throw new v("The provided license could not be decoded correctly.");return i}catch(t){throw new v("The provided license could not be decoded correctly.")}}function NE(){return kE||(kE={zu:eu.href,dY:ru.parent&&ru.parent!==e,fY:EE()}),kE}var DE,IE=["http:","https:","ftp:","ws:","wss:"];function EE(){var t;try{if(null==ru?void 0:ru.top)return ru.top.location.href}catch(t){}return null==ru||null==(t=ru.document)?void 0:t.referrer}!function(t){t[t._Y=0]="_Y",t[t.gY=1]="gY",t[t.wY=2]="wY"}(DE||(DE={}));var SE,LE=function(t,n,i,r,e,u,s,o,a){void 0===e&&(e=[]),void 0===u&&(u=""),void 0===s&&(s=Date.now()),void 0===o&&(o=[]),void 0===a&&(a=!0),this.vY=t,this.mY=n,this.pY=i,this.AY=r,this.yY=e,this.MY=u,this.bY=s,this.TY=o,this.SY=a};!function(t){t.gY="expired",t.NY="invaliddomain",t.IY="invalidsource",t.DY="invalidfeature",t.ha="error"}(SE||(SE={}));var jE=function(){function t(t,n,i){this.GY=t,this.XY=n,this.Dx=i,this.QY=QE(this.Dx)}var n=t.prototype;return n.EY=function(t,n){var i=[];oD(t.sources)?i=[t.sources]:Un(t.sources)&&(i=t.sources),this.kY(t,i,n),this.LY(i,n)},n.kY=function(t,n,i){var r=this;if(!JI(t)&&0!==i.pY.length&&!BE(i.pY)&&!n.every((function(t){return r.xY(t,i)}))){var e="invalidsource",u=FE.CY(e);throw new Kv(xE(e),u)}},n.LY=function(t,n){for(var i=0;i<t.length;i++){var r=t[i];uD(r)&&sD(r)&&!r.bypassLicense&&this.OY([AE.HESP],n)}},n.jY=function(n){return this.RY(n.TY)&&this.PY(n)?t.zY(n.AY)?0:1:2},n.OY=function(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(!mo(n.yY,r)){var e="invalidfeature",u=FE.BY(e,r);throw new Kv(xE(e),u)}}},n.RY=function(t){var n=this;return 0===t.length||t.some((function(t){return n.UY(t)}))},n.UY=function(t){return"web"===function(t){switch(t){case wE.ANDROID:return cn.wE;case wE.ANDROIDTV:case wE.FIRETV:return cn.vE;case wE.IOS:return cn.mE;case wE.TVOS:return cn.pE;case wE.CHROMECAST:case wE.CHROMECASTCAF:return cn.AE;case wE.THEOLIVEWEB:return cn.yE;default:return cn.gE}}(t)},n.PY=function(t){return!(this.QY&&0!==t.mY.length&&!BE(t.mY))||!!(this.QY&&this.FY(t.mY)&&this.YY(t.mY))},n.FY=function(t){return PE(this.Dx.zu,t)},n.YY=function(t){if(!this.Dx.dY)return!0;if(this.GY)return!0;var n=this.VY();return!!n&&PE(n,t)},n.VY=function(){if(this.Dx.dY){var t=s.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.Dx.fY?this.Dx.fY:void 0}},n.xY=function(n,i){return!!t.WY(n,i.pY)},t.zY=function(t){var n=Number(new Date);return!!t&&n<=t},t.WY=function(t,n){return PE(this.HY(t),n)},t.HY=function(t){return Fn(t)?t:uD(t)&&t.src||""},t}(),CE=function(){function t(){}var n=t.prototype;return n.jY=function(t){return 0},n.EY=function(t,n){},n.OY=function(t,n){},t}();function xE(t){switch(t){case"invaliddomain":return Xv.LICENSE_INVALID_DOMAIN;case"invalidsource":return Xv.LICENSE_INVALID_SOURCE;case"expired":return Xv.LICENSE_EXPIRED;case"invalidfeature":return Xv.LICENSE_INVALID_FEATURE;case"error":return Xv.LICENSE_ERROR}}var OE="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",zE=ti((function(){var t="\\.",n="(\\*|"+OE+")";return new RegExp("ip-range\\("+n+t+n+t+n+t+n+"\\)")}));function RE(t,n){var i=t,r=n;if(!i)return!1;if("*"===(r=r.trim()))return!0;if(r===(i=i.replace(/\.+$/,"")))return!0;if(Bs(r,"ip-range(")){var e="\\.",u=r.match(zE()),s=function(t){return"*"===t?"("+OE+")":t};if(null!==u&&5===u.length){var o=new RegExp("^"+u[1]+e+s(u[2])+e+s(u[3])+e+s(u[4])+"$");return null!==i.match(o)}}return r="."+r,-1!==i.indexOf(r,i.length-r.length)}function BE(t){return t.some((function(t){return"*"===t}))}function PE(t,n){var i=an.Dh(t);if(!UE(i))return!0;for(var r=0;r<n.length;r++){var e=n[r];if(RE(i.hostname,e))return!0;if(RE(ly(t),e))return!0}return!1}function UE(t){return-1!==IE.indexOf(t.protocol)}function QE(t){var n=an.Dh(t.zu);return UE(n)&&!function(t){return RE(t.hostname,"localhost")}(n)&&!function(t){return RE(t.hostname,"theoplayer.doubleclick.net")}(n)}var YE,FE=function(){function t(){}return t.BY=function(t,n){return"The requested feature '"+n+"' is not available with the license for this player."},t.CY=function(t){return"invaliddomain"===t?this.ZY:"invalidsource"===t?this.qY:"expired"===t?this.KY:"invalidfeature"===t?this.JY:this.$Y},t}();function GE(t){var n=[t.Kb,t.tG,t.iG];switch(t.tG){case 1:n.push(t.yv);break;case 4:n.push(t.U_),n.push(t.lt);break;case 5:n.push(t.lt)}return n}FE.$Y="The license for this player is invalid.",FE.KY="The usage license for this video player has expired.",FE.ZY="The current domain is incompatible with the license for this player.",FE.qY="The provided video source is incompatible with the license for this player.",FE.JY="The requested feature is not available with the license for this player.",yt(),C(),zt(),pt(),Ut(),yt(),C(),function(t){t[t.eG=1]="eG",t[t.sG=4]="sG",t[t.nG=5]="nG",t[t.rG=9]="rG"}(YE||(YE={})),yt(),C();var VE,WE=new Array(256);for(VE=0;VE<256;VE+=1)WE[VE]=(VE<16?"0":"")+VE.toString(16);function XE(){var t=Zi(),n=(4294967296*w.random()|0)+t&3029421624,i=(4294967296*w.random()|0)+t&3595553209,r=(4294967296*w.random()|0)+t&1130486254,e=(4294967296*w.random()|0)+t&1284287105;return WE[255&n]+WE[n>>>8&255]+WE[n>>>16&255]+WE[n>>>24&255]+"-"+WE[255&i]+WE[i>>>8&255]+"-"+WE[i>>>16&15|64]+WE[i>>>24&255]+"-"+WE[63&r|128]+WE[r>>>8&255]+"-"+WE[r>>>16&255]+WE[r>>>24&255]+WE[255&e]+WE[e>>>8&255]+WE[e>>>16&255]+WE[e>>>24&255]}function ZE(t){return zc(t.replace(/-/g,""))}function HE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=16*w.random()|0;return("x"===t?n:3&n|8).toString(16)}))}function KE(){return an.m_()}yt(),C(),yt(),C(),yt(),C();var qE,JE="theoplayer-session-id";function $E(){if(!qE){var t=gl.IL(JE);t?qE=t:(qE=XE(),gl.EP(JE,qE))}return qE}yt(),C(),yt(),C();var tS=/[^\x00-\x7E]/g;function nS(t){return"\\u"+Ys(t.charCodeAt(0).toString(16),4,"0")}var iS="https://license.theoplayer.com";function rS(t){var n=function(t){var n=[];return function(t,n,i){return JSON.stringify(t,n,i).replace(tS,nS)}(t,(function(t,i){if(Qn(i)){if(-1!==n.indexOf(i))return null;n.push(i)}return i}))}(function(t){return[t.oG,t.tO,t.vY,t.Gy,t.hG,t.aG,t.uG.map(GE)]}(t));return vE.lY.cY(n)}var eS=function(){function t(t,n,i,r,e,u){var s=this;void 0===r&&(r=vE.lh),void 0===e&&(e=0),void 0===u&&(u=1),this.kC=t,this.aE=n,this._G=i,this.mG=r,this.AG=e,this.SG=u,this.hd=[],this.lG=null,this.DG=0,this.TG="unknown",this.oC=0,this.CG=function(){KE()-s.DG>6e4&&s.MG()},this.kG=function(){s.MG(!0)},iu.OG(this.kG),this.xG=h(this.CG,6e4)}var n=t.prototype;return n.cG=function(){return Boolean(this.hG)},n.dG=function(t){var n=this;return Ot((function(){var i;return Rt(this,(function(r){switch(r.label){case 0:return[4,n._G.fG()];case 1:return r.sent().SY?(i={tG:YE.eG,iG:Zi(),yv:t},[4,n.iF(i)]):[2];case 2:return r.sent(),[2]}}))}))()},n.gG=function(){var t=this;return Ot((function(){var n;return Rt(this,(function(i){switch(i.label){case 0:return[4,t._G.fG()];case 1:return i.sent().SY?(n={tG:YE.rG,iG:Zi()},[4,t.iF(n)]):[2];case 2:return i.sent(),[2]}}))}))()},n.wG=function(t,n){var i=this;return Ot((function(){var r;return Rt(this,(function(e){switch(e.label){case 0:return r={tG:YE.sG,iG:Zi(),U_:n,lt:t},[4,i.iF(r)];case 1:return e.sent(),[2]}}))}))()},n.vG=function(t){var n=this;return Ot((function(){var i;return Rt(this,(function(r){switch(r.label){case 0:return i={tG:YE.nG,iG:Zi(),lt:t},[4,n.iF(i)];case 1:return r.sent(),[2]}}))}))()},n.iF=function(t){var n=this;return Ot((function(){var i;return Rt(this,(function(r){switch(r.label){case 0:return[4,n._G.fG()];case 1:return i=r.sent(),"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"===n.mG.cY(i.vY)&&t.tG!==YE.nG?[2]:(t.tG===YE.eG?n.pG():n.cG()||n.pG(),t.Kb=n.oC++,n.hd.push(t),function(t){return t===YE.eG||t===YE.nG}(t.tG)?[4,n.MG()]:[3,3]);case 2:case 4:return r.sent(),[3,5];case 3:return n.hd.length>n.AG?[4,n.yG()]:[3,5];case 5:return[2]}}))}))()},n.MG=function(t){void 0===t&&(t=!1);var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return n.hd.length>0?[4,n.yG(t)]:[3,2];case 1:return i.sent(),[3,0];case 2:return[2]}}))}))()},n.bG=function(t){var n=this;return Ot((function(){var i;return Rt(this,(function(r){switch(r.label){case 0:return[4,n._G.fG()];case 1:return i=r.sent(),[2,{oG:Zi(),tO:$E(),vY:n.mG.cY(i.vY)||"dev",Gy:n.kC,hG:n.lG,aG:n.TG,uG:t}]}}))}))()},n.yG=function(t){void 0===t&&(t=!1);var n=this;return Ot((function(){var i,r;return Rt(this,(function(e){switch(e.label){case 0:return i=n.hd.splice(0,n.SG),[4,n.bG(i)];case 1:return r=e.sent(),t?n.NG(r):n.IG(r),n.DG=KE(),[2]}}))}))()},n.IG=function(t){var n=this;return Ot((function(){var i,r;return Rt(this,(function(e){switch(e.label){case 0:i=rS(t),r=new ey({zu:iS,HD:i,tE:!1,qD:pl.Ru,XD:{"Content-Type":tM.ZR},_D:4e3,ZD:Jw.POST}),e.label=1;case 1:return e.trys.push([1,4,,5]),[4,n.aE.uD(r)];case 2:return[4,e.sent().GR()];case 3:return e.sent(),[3,5];case 4:return e.sent(),(new Image).src="https://licensing.theoplayer.com/t?"+i,[3,5];case 5:return[2]}}))}))()},n.NG=function(t){var n=rS(t);this.aE.NG({zu:iS,HD:n,Nz:tM.ZR})},n.pG=function(){this.cG()&&this.MG(),this.lG=XE(),this.oC=0},n.gn=function(){iu.EG(this.kG),f(this.xG),this.MG()},At(t,[{key:"uG",get:function(){return this.hd}},{key:"hG",get:function(){return this.lG}}]),t}();yt(),C(),pt(),Ct(),yt(),C(),Ct(),yt(),C();var uS=0;var sS=c,oS=self.requestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame,aS=self.cancelAnimationFrame||self.webkitCancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelRequestAnimationFrame;oS&&aS||(oS=function(t){var n=KE(),i=w.max(0,16-(n-uS)),r=a((function(){return t(n+i)}),i);return uS=n+i,r},aS=sS),oS=oS.bind(self),aS=aS.bind(self);var cS=xn.Ik||xn.Ga&&xn.Uk<13;function hS(t,n,i){var r=t.getImageData(n,i,1,1).data;return 0===r[0]&&0===r[1]&&0===r[2]&&0===r[3]}var fS,vS=function(){function t(t){var n=this;this.QG=void 0,this.Xa=void 0,this.qG=void 0,this.VG=is(),this.YG=1,this.ZG=!0,this.JG=function(){n.ZG=!0},this.KG=function(){n.QG=n.t.Vg(),n.VG.forEach((function(t,i){t.HG(),t.HG=n.GG(t.WG,i)}))},this.t=t,this.t.yn(Al.zv,this.KG),this.t.yn(Al.$v,this.JG),this.KG()}var n=t.prototype;return n.jG=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e,u=this.QG;return void 0!==u&&((e=t).drawImage.apply(e,[u].concat(jt(i))),!0)},n.zG=function(t,n,i,r,e,u){var s=this.QG;return void 0!==s&&(cS&&(s=this.FG(s)),t.texImage2D(n,i,r,e,u,s),!0)},n.BG=function(t){var n=this.YG++,i=this.GG(t,n);return this.VG.set(n,{WG:t,HG:i}),n},n.UG=function(t){var n=this.VG.get(t);void 0!==n&&(this.VG.delete(t),n.HG())},n.GG=function(t,n){var i=this,r=this.QG;if(void 0===r)return Kn;if(r instanceof HTMLVideoElement&&r.requestVideoFrameCallback){var e=r.requestVideoFrameCallback((function(r,e){i.VG.delete(n),t(r,e)}));return function(){return r.cancelVideoFrameCallback(e)}}var u,s=function(r){i.XG()?(i.VG.delete(n),i.ZG=!1,t(r,void 0)):u=oS(s)};return u=oS(s),function(){return aS(u)}},n.XG=function(){return(!this.t.fg||this.ZG)&&!this.t.Eg&&this.t.Sg>=mk.UT},n.FG=function(t){var n=this.qG;void 0===n&&(n=u.createElement("canvas"),this.qG=n);var i=n.getContext("2d"),r=this.t,e=r.Rg,s=r.Cg,o=n.width,a=n.height;i.clearRect(0,0,n.width,n.height),o===e&&a===s||(n.width=e,n.height=s),i.drawImage(t,0,0,e,s);var c=!1;return e>0&&hS(i,e-1,0)&&(n.width=o,c=!0),s>0&&hS(i,0,s-1)&&(n.height=a,c=!0),c&&i.drawImage(t,0,0,e,s),n},n.gn=function(){this.VG.forEach((function(t){return t.HG()})),this.VG.clear(),this.t.fn(Al.zv,this.KG),this.t.fn(Al.$v,this.JG),this.QG=void 0,this.qG=void 0},At(t,[{key:"va",get:function(){var t;return null!=(t=this.Xa)?t:this.Xa=function(t){return{drawImage:function(n){for(var i=arguments.length,r=new Array(i>1?i-1:0),e=1;e<i;e++)r[e-1]=arguments[e];var u;return(u=t).jG.apply(u,[n].concat(jt(r)))},texImage2D:function(n,i,r,e,u,s){return t.zG(n,i,r,e,u,s)},requestVideoFrameCallback:function(n){return t.BG(n)},cancelVideoFrameCallback:function(n){return t.UG(n)}}}(this)}}]),t}();yt(),C(),pt(),Mt(),yt(),C(),Mt(),yt(),C(),pt(),Mt(),function(t){t.pn="dimensionchange"}(fS||(fS={}));var lS=function(t){function n(){return t.apply(this,arguments)}return bt(n,t),At(n,[{key:"_u",get:function(){return 0}},{key:"ku",get:function(){return 0}}]),n}($o),dS=function(t){function n(n,i){var r;return(r=t.call(this,fS.pn)||this).width=n,r.height=i,r}return bt(n,t),n}(ra);yt(),C(),pt(),Mt(),yt(),C();var gS,wS=function(t,n){this.we=t,this.WG=n},yS=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).$G=0,r.tV=0,r.eV=function(t){if(t.length>0){var n=t[t.length-1].contentRect;r.tV=n.width,r.$G=n.height,r.WG(r.tV,r.$G)}},r.iV=new ru.ResizeObserver(r.eV),r.iV.observe(r.we),r}return bt(n,t),n.prototype.gn=function(){this.iV.disconnect()},At(n,[{key:"_u",get:function(){return this.$G}},{key:"ku",get:function(){return this.tV}}]),n}(wS);yt(),C(),pt(),Mt(),yt(),C();var mS=["Webkit","Moz","O","ms"],AS=function(){var t=!1;try{if(void 0!==ru&&"function"==typeof ru.addEventListener){var n=g.defineProperty({},"passive",{get:function(){t=!0}});ru.addEventListener("testPassiveEventSupport",Kn,n),ru.removeEventListener("testPassiveEventSupport",Kn,n)}}catch(t){}return t}(),pS=ns();function _S(t){return pS.has(t)||pS.set(t,function(t){var n=(gS||(gS=ru&&ru.document&&ru.document.createElement("span")),gS);if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<mS.length;r++){var e=mS[r]+i;if(void 0!==n.style[e])return e}return t}(t)),pS.get(t)}function kS(t){var n=t.style;n.position="absolute",n.left="0",n.right="0",n.bottom="0",n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function bS(t){var n=t.style;n.position="absolute",n.left="0",n.top="0",n[_S("transition")]="0s"}var MS=function(t){function n(n,i,r){var s;(s=t.call(this,n,i)||this).sV=0,s.tV=NaN,s.$G=NaN,s.uV=void 0,s.tr=function(){var t=1e5;s.cV.style.width=t+"px",s.cV.style.height=t+"px",s.nV.scrollLeft=t,s.nV.scrollTop=t,s.oV.scrollLeft=t,s.oV.scrollTop=t,0===s.oV.scrollTop&&oS(s.tr)},s.lV=function(){var t=s.ku,n=s._u;s.WG(t,n),s.tV=t,s.$G=n,s.tr(),s.sV=0},s.rV=function(){if(!s.sV){var t=s.ku,n=s._u;t===s.tV&&n===s.$G||(s.sV=oS(s.lV))}},s.aV=function(){s.uV||(s.uV=a(s.dV,66))},s.dV=function(){s.uV=void 0,s.fV()},s.fV=function(){s.rV()};var o=function(t,n){return e.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");r||"static"!==o||(n.style.position="relative");var c=u.createElement("div");return s.hV=c,s.nV=u.createElement("div"),s.cV=u.createElement("div"),s.oV=u.createElement("div"),s._V=u.createElement("div"),kS(s.nV),kS(s.oV),bS(s.cV),function(t){bS(t),t.style.width="200%",t.style.height="200%"}(s._V),c.appendChild(s.nV),c.appendChild(s.oV),s.nV.appendChild(s.cV),s.oV.appendChild(s._V),n.appendChild(c),s.nV.addEventListener("scroll",s.rV),s.oV.addEventListener("scroll",s.rV),e&&e.addEventListener("resize",s.aV),s.rV(),s}return bt(n,t),n.prototype.gn=function(){aS(this.sV),this.sV=0,this.nV.removeEventListener("scroll",this.rV),this.oV.removeEventListener("scroll",this.rV),cu(this.hV),e&&e.removeEventListener("resize",this.aV)},At(n,[{key:"_u",get:function(){return this.we.getBoundingClientRect().height||this.$G||0}},{key:"ku",get:function(){return this.we.getBoundingClientRect().width||this.tV||0}}]),n}(wS),TS=function(t){function n(n){var i;return(i=t.call(this)||this).iV=void 0,i.eV=function(t,n){i.Co(new dS(t,n))},i.we=n,i}bt(n,t);var i=n.prototype;return i.bn=function(t){this.iV||("function"==typeof ru.ResizeObserver?this.iV=new yS(this.we,this.eV):this.iV=new MS(this.we,this.eV,t))},i.gn=function(){this.Vo(),this.iV&&(this.iV.gn(),this.iV=void 0)},At(n,[{key:"_u",get:function(){return this.iV?this.iV._u:0}},{key:"ku",get:function(){return this.iV?this.iV.ku:0}}]),n}($o);yt(),C(),pt(),Mt(),yt(),C(),Mt();var NS=function(t){function n(){return t.call(this,ZD.ra)}return bt(n,t),n}(ra);yt(),C();var DS=function(){if(u)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in u)return{gV:i[0],wV:i[1],vV:i[2],mV:i[3],Qe:i[4],pV:i[5]}}}();yt(),C(),Mt();var IS=function(t){function n(){return t.call(this,ZD.ca)}return bt(n,t),n}(ra),ES=function(t){function n(i){var r;return(r=t.call(this)||this).cs=!1,r.AV=function(){return r.zU()},r.yV=function(){return r.BU()},r.we=i,r.ta=n.ia(i),u.addEventListener(DS.Qe,r.AV),r.zU(),r}bt(n,t);var i=n.prototype;return i.mo=function(){var t=this.we[DS.gV]();t&&t.then?t.then(this.AV,this.yV):(u.removeEventListener(DS.pV,this.yV),u.addEventListener(DS.pV,this.yV))},i.So=function(){var t=u[DS.wV]();t&&t.then?t.then(this.AV,this.yV):(u.removeEventListener(DS.pV,this.yV),u.addEventListener(DS.pV,this.yV))},i.zU=function(){var t=this.cs,n=this.we===u[DS.vV];this.cs=n,t!==n&&this.Co(new NS)},i.BU=function(){this.Co(new qD)},i.gn=function(){this.Vo(),u.removeEventListener(DS.Qe,this.AV),u.removeEventListener(DS.pV,this.yV)},n.ia=function(t){return Boolean(DS&&u[DS.mV]&&DS.gV in t)},n}($o),SS=function(t){function n(i){var r;return(r=t.call(this)||this).cs=!1,r.AV=function(){return r.zU()},r.we=i,r.ta=n.ia(i),r.we.addEventListener("webkitbeginfullscreen",r.AV),r.we.addEventListener("webkitendfullscreen",r.AV),r.we.addEventListener("webkitpresentationmodechanged",r.AV),r.zU(),r}bt(n,t);var i=n.prototype;return i.mo=function(){var t=this;this.we.webkitSupportsPresentationMode&&this.we.webkitSupportsPresentationMode("fullscreen")?xn.Ga?requestAnimationFrame((function(){return t.we.webkitSetPresentationMode("fullscreen")})):this.we.webkitSetPresentationMode("fullscreen"):this.we.webkitEnterFullscreen()},i.So=function(){this.we.webkitSupportsPresentationMode&&this.we.webkitSupportsPresentationMode("inline")?this.we.webkitSetPresentationMode("inline"):this.we.webkitExitFullscreen()},i.zU=function(){var t,n=this.cs;t=this.we.webkitPresentationMode?"fullscreen"===this.we.webkitPresentationMode:Boolean(this.we.webkitDisplayingFullscreen),this.cs=t,n!==t&&this.Co(new NS)},i.gn=function(){this.Vo(),this.we.removeEventListener("webkitbeginfullscreen",this.AV),this.we.removeEventListener("webkitendfullscreen",this.AV),this.we.removeEventListener("webkitpresentationmodechanged",this.AV)},n.ia=function(t){return xn.Ga&&("webkitEnterFullscreen"in t||"webkitSupportsPresentationMode"in t)},n}($o),LS=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).bV=[],n.MV=void 0,n.jU=!1,n.zU=function(){var t=n.jU,i=n.DV();t!==i&&(n.jU=i,n.Co(new NS))},n}bt(n,t);var i=n.prototype;return i.mo=function(){this.MV?this.MV.mo():this.Co(new qD)},i.So=function(){for(var t=0,n=this.bV;t<n.length;t++){var i=n[t];i.cs&&i.So()}},i.TV=function(t){this.MV=t},i.SV=function(t){this.bV.push(t),t.yn(ZD.ra,this.zU),t.yn(ZD.ha,this.Ds),this.zU()},i.NV=function(t){go(this.bV,t),t.fn(ZD.ra,this.zU),t.fn(ZD.ha,this.Ds)},i.DV=function(){for(var t=0,n=this.bV;t<n.length;t++){if(n[t].cs)return!0}return!1},i.tr=function(){this.MV=void 0,this.jU=!1;for(var t=this.bV.slice(),n=0;n<t.length;n++){var i=t[n];this.NV(i),i.gn()}this.zU()},i.gn=function(){this.Vo(),this.tr()},At(n,[{key:"ta",get:function(){return!!this.MV&&this.MV.ta}},{key:"cs",get:function(){return this.jU}}]),n}($o),jS=function(t){function n(n,i){var r;return(r=t.call(this)||this).oa=!1,r.CV=function(){return r.Yn()},r.zU=function(t){r.oa||r.Co(t)},r.t=n,r.EV=i,r.kV=new JD,r.LV(),r.t.yn(Al.Rv,r.CV),r.Yn(),r}bt(n,t);var i=n.prototype;return i.mo=function(){this.EV&&this.kV.mo()},i.So=function(){this.kV.So()},i.LV=function(){this.kV.yn([ZD.ra,ZD.ca],this.zU),this.kV.yn(ZD.ha,this.Ds)},i.xV=function(){this.kV.fn([ZD.ra,ZD.ca],this.zU),this.kV.fn(ZD.ha,this.Ds)},i.Yn=function(){var t=this.kV,n=this.t.Gg();if(t!==n){this.oa=!0;var i=this.cs,r=this.ta;i&&this.So(),this.xV(),this.kV=n,this.LV(),i&&!this.cs&&this.ta?this.mo():this.So(),this.oa=!1,r!==this.ta&&this.Co(new IS),i!==this.cs&&this.Co(new NS)}},i.gn=function(){this.Vo(),this.xV(),this.t.fn(Al.Rv,this.CV)},At(n,[{key:"ta",get:function(){return!!this.EV&&this.kV.ta}},{key:"cs",get:function(){return this.kV.cs}}]),n}($o);function CS(t){var n;return{get url(){return t.zu},get method(){return t.ZD},get headers(){return n||(n=t.XD.ED()),n},get body(){return t.HD},get useCredentials(){return t.tE},get type(){return t.Av},get subType(){return t.JD},get mediaType(){return t.$D},get responseType(){return t.qD}}}function xS(t){switch(t.toLowerCase()){case"arraybuffer":return pl.SD;case"json":return pl.ND;case"stream":return pl.DD;default:return pl.Ru}}function OS(t){switch(t.toUpperCase()){case"POST":return Jw.POST;case"PUT":return Jw.PUT;case"DELETE":return Jw.DELETE;case"HEAD":return Jw.HEAD;case"OPTIONS":return Jw.OPTIONS;default:return Jw.GET}}function zS(t){switch(t.toLowerCase()){case"manifest":return $w.xD;case"segment":return $w.CD;case"preload-hint":return $w.OD;case"content-protection":return $w.jD;default:return $w.jT}}function RS(t){switch(t.toLowerCase()){case"initialization-segment":return ty.RD;case"fairplay-license":return ty.PD;case"fairplay-certificate":return ty.zD;case"widevine-license":return ty.BD;case"widevine-certificate":return ty.UD;case"playready-license":return ty.QD;case"clearkey-license":return ty.FD;case"aes128-key":return ty.YD;default:return ty.jT}}function BS(t){switch(t.toLowerCase()){case"audio":return ny.WA;case"video":return ny.VA;case"text":return ny.Ru;case"image":return ny.OT;default:return ny.jT}}yt(),C(),zt(),Mt(),Ut(),yt(),C(),pt(),Mt(),yt(),C(),yt(),C(),zt(),pt(),Ut();var PS=function(){function t(t,n){this.EH=t,this.NH=n,this._H=new Bc,this.MH=[],this.Xa=void 0,this.vH=!1,this.dD=void 0,this.AH=0}var n=t.prototype;return n.xy=function(){this.vH=!0,this._H.LL(null)},n.yH=function(){this._H.xL(new Iw(this.MH))},n.bH=function(t){if(!this.mH)throw new l("Cannot respond more than once");if(!Qn(t))throw new l("Expected valid response");this.dD=this.TH(t),this.xy()},n.SH=function(){try{var t=this.NH(this.va);t?this.IH(t):this.pH||this.wH||this.xy()}catch(t){this.MH.push(t),this.yH()}},n.IH=function(t){if(this.wH)throw new v("Request has been redirected or a response already exists");if(Vn(t))this.DH(t);else{if("function"!=typeof t)throw new l("Expected promise or function");var n=new Bc;try{var i=t((function(t){t?n.xL(t):n.LL(void 0)}));Vn(i)&&n.w_(i)}catch(t){n.xL(t)}this.DH(n.OL)}},n.DH=function(t){var n=this;return Ot((function(){var i;return Rt(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),n.AH++,[4,t];case 1:return r.sent(),n.AH--,n.pH||n.wH||(n.MH.length?n.yH():n.xy()),[3,3];case 2:return i=r.sent(),n.AH--,n.MH.push(i),n.pH||n.wH||n.yH(),[3,3];case 3:return[2]}}))}))()},At(t,[{key:"fH",get:function(){return this._H.OL}},{key:"va",get:function(){return this.Xa||(this.Xa=this.gH()),this.Xa}},{key:"wH",get:function(){return this.vH}},{key:"mH",get:function(){return!this.vH}},{key:"pH",get:function(){return this.AH>0}},{key:"lD",get:function(){return this.dD}}]),t}(),US=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).kH=r,e.SH(),e}bt(n,t);var i=n.prototype;return i.gH=function(){return function(t){var n,i=CS(t.uD);return{get closed(){return!t.mH},get request(){return i},get url(){return t.zu},get status(){return t.fD},get statusText(){return t.NR},get headers(){return n||(n=t.XD.ED()),n},get body(){return t.HD},respondWith:function(n){return t.bH(n)},waitUntil:function(n){return t.IH(n)}}}(this)},i.TH=function(t){return n.LH(t,this.EH,this.kH)},n.LH=function(t,n,i){var r=void 0===t.body?i:t.body;return new ry({ly:r,uD:n.uD,qD:n.uD.qD,XD:t.headers,fD:t.status,NR:t.statusText,cE:t.url,nH:!0},n)},At(n,[{key:"HD",get:function(){return this.kH}},{key:"XD",get:function(){return this.EH.XD}},{key:"uD",get:function(){return this.EH.uD}},{key:"lD",get:function(){return this.dD}},{key:"fD",get:function(){return this.EH.fD}},{key:"NR",get:function(){return this.EH.NR}},{key:"zu",get:function(){return this.EH.cE}}]),n}(PS);yt(),C(),pt(),Mt();var QS=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).OH=void 0,e.xH=r,e.SH(),e}bt(n,t);var i=n.prototype;return i.gH=function(){return function(t){var n;return{get url(){return t.zu},get method(){return t.ZD},get headers(){return n||(n=t.XD.ED()),n},get body(){return t.HD},get closed(){return!t.mH},get useCredentials(){return t.tE},get type(){return t.Av},get subType(){return t.JD},get mediaType(){return t.$D},get responseType(){return t.qD},redirect:function(n){return t.jH(n)},respondWith:function(n){return t.bH(n)},waitUntil:function(n){return t.IH(n)}}}(this)},i.TH=function(t){var n=this.EH.HD,i=new ry({ly:n,XD:{},uD:this.EH,cE:this.EH.zu,qD:this.EH.qD,fD:200,NR:"OK"});return US.LH(t,i,n)},i.jH=function(t){if(!this.mH)throw new l("Cannot redirect, already redirected or has a response");var n;n=Fn(t)?{url:t}:t,this.OH=function(t,n){return new ey({zu:void 0===t.url?n.zu:t.url,ZD:void 0!==t.method?OS(t.method):void 0,XD:t.headers,HD:t.body,tE:t.useCredentials,Av:void 0!==t.type?zS(t.type):void 0,JD:void 0!==t.subType?RS(t.subType):void 0,$D:void 0!==t.mediaType?BS(t.mediaType):void 0,qD:void 0!==t.responseType?xS(t.responseType):void 0},n)}(n,this.EH),this.xy()},At(n,[{key:"HD",get:function(){return this.EH.HD}},{key:"mH",get:function(){return this.xH&&!this.vH}},{key:"XD",get:function(){return this.EH.XD}},{key:"ZD",get:function(){return this.EH.ZD}},{key:"CH",get:function(){return this.OH}},{key:"lD",get:function(){return this.dD}},{key:"qD",get:function(){return this.EH.qD}},{key:"_D",get:function(){return this.EH._D}},{key:"KD",get:function(){return this.EH.KD}},{key:"f_",get:function(){return this.EH.f_}},{key:"Av",get:function(){return this.EH.Av}},{key:"JD",get:function(){return this.EH.JD}},{key:"$D",get:function(){return this.EH.$D}},{key:"zu",get:function(){return this.EH.zu}},{key:"tE",get:function(){return this.EH.tE}},{key:"eE",get:function(){return this.EH.eE}},{key:"iE",get:function(){return this.EH.iE}},{key:"_v",get:function(){return this.EH._v}},{key:"sE",get:function(){return this.EH.sE}}]),n}(PS);var YS=function(t){function n(n,i){var r;void 0===i&&(i=!0);var e=new FS(n);return(r=t.call(this,e,i)||this).PH=e,r}bt(n,t);var i=n.prototype;return i.RH=function(t){this.PH.RH(t)},i.zH=function(t){this.PH.zH(t)},i.BH=function(t){this.PH.BH(t)},i.oF=function(t){this.PH.oF(t)},i.cF=function(t){this.PH.cF(t)},n}(sy),FS=function(){function t(t){this.YH=[],this.GH=[],this.aH=t}var n=t.prototype;return n.uD=function(t){var n=this;return Ot((function(){var i,r;return Rt(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,5]),[4,n.UH(t,t.f_)];case 1:return i=e.sent(),[3,5];case 2:return(r=e.sent())instanceof gy?[4,n.QH(r,t.f_)]:[3,4];case 3:return[2,e.sent()];case 4:throw r;case 5:return[4,n.FH(i,t.f_)];case 6:if(qw(i=e.sent()))return[2,i];throw new yy(i)}}))}))()},n.NG=function(t){return this.aH.NG(t)},n.UH=function(t,n){var i=this;return Ot((function(){var r,e,u,s,o,a;return Rt(this,(function(c){switch(c.label){case 0:Po(n),r=t,u=0,s=i.YH.slice(),c.label=1;case 1:if(!(u<s.length))return[3,7];if(o=s[u],Po(n),(a=new QS(r,o,!e)).wH)return[3,5];c.label=2;case 2:return c.trys.push([2,4,,5]),[4,a.fH];case 3:return c.sent(),[3,5];case 4:return c.sent(),[3,6];case 5:a.CH&&!e?r=a.CH:a.lD&&!e&&(e=a.lD),c.label=6;case 6:return u++,[3,1];case 7:return e?[2,e]:[2,i.aH.uD(r)]}}))}))()},n.QH=function(t,n){var i=this;return Ot((function(){var r,e,u;return Rt(this,(function(s){switch(s.label){case 0:return t instanceof yy?r=t.lD:(e=t.uD,r=new ry({ly:null,uD:e,qD:e.qD,fD:0,NR:""})),[4,i.FH(r,n)];case 1:if((u=s.sent())===r)throw t;if(qw(u))return[2,u];throw new yy(u)}}))}))()},n.FH=function(t,n){var i=this;return Ot((function(){var r,e,u,s,o,a;return Rt(this,(function(c){switch(c.label){case 0:r=t,e=0,u=i.GH.slice(),c.label=1;case 1:return e<u.length?(s=u[e],Po(n),[4,q.resolve(r.$A().ly(n))]):[3,8];case 2:if(o=c.sent(),(a=new US(r,s,o)).wH)return[3,6];c.label=3;case 3:return c.trys.push([3,5,,6]),[4,a.fH];case 4:return c.sent(),[3,6];case 5:return c.sent(),[3,7];case 6:r=a.lD||r,c.label=7;case 7:return e++,[3,1];case 8:return[2,r]}}))}))()},n.RH=function(t){this.YH.unshift(t)},n.zH=function(t){this.YH.push(t)},n.BH=function(t){go(this.YH,t)},n.oF=function(t){this.GH.unshift(t)},n.cF=function(t){go(this.GH,t)},n.gn=function(){this.aH.gn(),po(this.YH),po(this.GH)},t}();yt(),C(),pt(),Mt();var GS,VS=function(){function t(t){this.aE=t}var n=t.prototype;return n.RH=function(t){this.aE.RH(t)},n.BH=function(t){this.aE.BH(t)},n.oF=function(t){this.aE.oF(t)},n.cF=function(t){this.aE.cF(t)},At(t,[{key:"va",get:function(){return this.Xa||(this.Xa=function(t){return{addRequestInterceptor:function(n){t.RH(n)},removeRequestInterceptor:function(n){t.BH(n)},addResponseInterceptor:function(n){t.oF(n)},removeResponseInterceptor:function(n){t.cF(n)}}}(this)),this.Xa}}]),t}(),WS=function(t){function n(n,i,r){var e;return(e=t.call(this,i)||this).KH=n,e.aE=i,e.wU=r,e.JH=function(t){e.Co(t)},e.$H=function(t){e.Co(t)},e.KH.yn(Al.Xv,e.JH),e.KH.yn(Al.Hv,e.$H),e}bt(n,t);var i=n.prototype;return i.WH=function(t){this.wU.WH(t)},i.RH=function(t){this.aE.RH(t)},i.BH=function(t){this.aE.BH(t)},i.oF=function(t){this.aE.oF(t)},i.cF=function(t){this.aE.cF(t)},i.gn=function(){this.Vo(),this.KH.fn(Al.Xv,this.JH),this.KH.fn(Al.Hv,this.$H)},At(n,[{key:"va",get:function(){return this.Xa||(this.Xa=function(t){return{get online(){return t.cg},get estimator(){return function(t){return{get bandwidth(){return t.GP},get roundTripTime(){return t.VP}}}(t.VH)},setEstimator:function(n){t.WH(function(t){if(!t)return;return{get GP(){return jm(t.bandwidth)},get VP(){return jm(t.roundTripTime)},WP:function(n){return function(t){if(!t)return;return{HH:function(n){t.markRequestStart(n)},XH:function(n){t.markResponseStart(n)},ZH:function(n,i){t.markResponseData(n,i)},qH:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(CS(n)))}}}(n))},addRequestInterceptor:function(n){t.RH(n)},removeRequestInterceptor:function(n){t.BH(n)},addResponseInterceptor:function(n){t.oF(n)},removeResponseInterceptor:function(n){t.cF(n)},addEventListener:function(n,i){t.yn(n,i)},removeEventListener:function(n,i){t.fn(n,i)}}}(this)),this.Xa}},{key:"cg",get:function(){return this.KH.cg}},{key:"VH",get:function(){return this.wU.VH}}]),n}($o);yt(),C(),Xt(),pt(),Mt(),yt(),C(),yt(),C(),function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(GS||(GS={})),yt(),C();function XS(t,n,i,r,e,u){var s=[],o=t-w.max(u,1),a=t+e;if(n&&i){var c=Pi(i,1,5),h=n-c;o=w.min(o,h);var f=n+i+c;a=w.max(a,f)}return 0!==o&&r.ZB(0,o)&&s.push([0,o]),r.ZB(a,1/0)&&s.push([a,1/0]),s}function ZS(t){return t instanceof v&&"QuotaExceededError"===t.name}yt(),C();var HS={type:GS.BANDWIDTH};function KS(t){var n=bm(HS);return Fn(t)?n.type=qS(t):Qn(t)&&function(t){switch(t){case GS.PERFORMANCE:case GS.QUALITY:case GS.BANDWIDTH:return!0;default:return!1}}(t.type)&&(n.type=qS(t.type)),Qn(t)&&Qn(t.metadata)&&(n.metadata=function(t){var n={},i=Lm(t.bitrate);return A(i)||(n.bitrate=i),n}(t.metadata)),n}function qS(t){switch(t){case"bandwidth":return GS.BANDWIDTH;case"performance":return GS.PERFORMANCE;case"quality":return GS.QUALITY}}yt(),C(),Mt();var JS=function(t){function n(n){var i;return(i=t.call(this,"tX")||this).iX=n,i}return bt(n,t),n}(ra);yt(),C(),Mt();var $S=function(t){function n(n){var i;return(i=t.call(this,"eX")||this).sX=n,i}return bt(n,t),n}(ra);yt(),C(),Mt();var tL=function(t){function n(n){var i;return(i=t.call(this,"nX")||this).rX=n,i}return bt(n,t),n}(ra),nL=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Xa=function(t){return{get strategy(){return function(t){return{metadata:t.metadata,type:t.type}}(t.sX)},set strategy(n){t.sX=KS(n)},get targetBuffer(){return t.iX},set targetBuffer(n){var i=Lm(n);A(i)||(t.iX=i)},get bufferLookbackWindow(){return t.rX},set bufferLookbackWindow(n){var i=Lm(n);A(i)||(t.rX=i<=0?30:i)},get maxBufferLength(){return t._X},get clearBufferWhenSettingTargetQuality(){return t.vX},set clearBufferWhenSettingTargetQuality(n){t.vX=Em(n)}}}(Wt(n)),n.uX=HS,n.cX=20,n.fX=30,n.dX=1/0,n.mX=!1,n.gX=void 0,n}bt(n,t);var i=n.prototype;return i.oX=function(t){this.hX=t},i.WH=function(t){this.gX=t},i.wX=function(t){var n=w.min(t,.8*this.dX);if(n=w.max(10,n),this.dX===n)return!1;var i=this.lX;this.dX=n;var r=this.lX;return r!==i&&this.Co(new JS(r)),!0},At(n,[{key:"aX",get:function(){switch(this.uX.type){case GS.PERFORMANCE:return 0;case GS.QUALITY:return 1/0;case GS.BANDWIDTH:return this.uX.metadata&&void 0!==this.uX.metadata.bitrate?this.uX.metadata.bitrate:AT.lL.OP();default:return AT.lL.OP()}}},{key:"va",get:function(){return this.Xa}},{key:"sX",get:function(){return this.uX},set:function(t){this.uX=t,this.Co(new $S(t))}},{key:"iX",get:function(){return this.cX},set:function(t){this.cX=t,this.Co(new JS(t))}},{key:"lX",get:function(){return w.min(this.cX,this.dX)}},{key:"rX",get:function(){return this.fX},set:function(t){this.fX=t,this.Co(new tL(t))}},{key:"_X",get:function(){return this.dX}},{key:"VH",get:function(){var t;return null!=(t=this.gX)?t:this.hX.Tz}},{key:"vX",get:function(){return this.mX},set:function(t){this.mX=t}}]),n}($o);yt(),C(),pt(),Mt(),yt(),C(),Mt();var iL=function(t){function n(){return t.call(this,"Sw")}return bt(n,t),n.prototype.fa=function(){return new rL},n}(am),rL=function(t){function n(){return t.call(this,"change")}return bt(n,t),n}(ra);yt(),C(),yt(),C(),Mt();var eL=function(t){function n(n,i,r){var e;(e=t.call(this,r)||this).AX=function(t){cm(t)&&Wo((function(){e.Co(t.va)}))},e.pX=n,e.hd=i;for(var u=0,s=e.hd;u<s.length;u++){var o=s[u];e.pX.yn(o,e.AX)}return e}return bt(n,t),n.prototype.gn=function(){this.Vo();for(var t=0,n=this.hd;t<n.length;t++){var i=n[t];this.pX.fn(i,this.AX)}},n}($o),uL=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).AX=function(t){cm(t)&&Wo((function(){r.Co(t.va)}))},r.pX=n,r.pX.T_(r.AX),r}return bt(n,t),n.prototype.gn=function(){this.Vo(),this.pX.E_(this.AX)},n}(na);var sL=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).xS=0,n.RS=1/0,n}bt(n,t);var i=n.prototype;return i.tr=function(){0===this.xS&&this.RS===1/0||(this.xS=0,this.RS=1/0,this.Co(new iL))},i.yX=function(){return new HD([this.MS,this.bS],[!0,!0])},At(n,[{key:"MS",get:function(){return this.xS},set:function(t){if(this.bS<=t)throw new v("Start time of a clip should be smaller than the end time.");this.xS!==t&&(this.xS=t,this.Co(new iL))}},{key:"bS",get:function(){return this.RS},set:function(t){if(t<=this.MS)throw new v("End time of a clip should be larger than the start time.");this.RS!==t&&(this.RS=t,this.Co(new iL))}},{key:"va",get:function(){return this.Xa||(this.Xa=function(t){var n,i={get startTime(){return t.MS},set startTime(n){t.MS=n},get endTime(){return t.bS},set endTime(n){t.bS=n},addEventListener:function(t,i){n.yn(t,i)},removeEventListener:function(t,i){n.fn(t,i)}};return n=new uL(t,i),i}(this)),this.Xa}}]),n}(na);yt(),C(),zt(),pt(),Mt(),Ut();var oL=function(t){function n(i,r){var e;return(e=t.call(this,i)||this).TX=!1,e.xX=void 0,e.CX=!1,e.IX=function(){e.NX(),e.bX()},e.wc=function(){e.DX(),e.bX(),e.LX&&e.U_>=e.MX.bS-n.OX&&!e.G_&&(e.xX=oS(e.wc))},e.EX=function(){e.CX=!0},e.kX=function(){e.CX&&(e.CX=!1,e.bX())},e.MX=r,e.MX.yn("Sw",e.IX),e.x_.yn(Al.fm,e.wc),e}bt(n,t);var i=n.prototype;return i.F_=function(n,i){var r=this.MX.yX().zB(n);t.prototype.F_.call(this,r,i),this.bX()},i.V_=function(){return t.prototype.V_.call(this)||this.TX},i.Dg=function(){return HD.xn(t.prototype.Dg.call(this)).Sn(this.MX.yX()).ks()},i.Xg=function(){this.V_()?this.F_(this.SX.start(0)):this.NX(),t.prototype.Xg.call(this),this.bX()},i.ga=function(n,i){var r=this;return Ot((function(){return Rt(this,(function(e){switch(e.label){case 0:return Po(i),r.TX=!1,r.MX.tr(),[4,t.prototype.ga.call(r,n,i)];case 1:return e.sent(),[2]}}))}))()},i.gn=function(){return this.MX.fn("Sw",this.IX),this.x_.fn(Al.fm,this.wc),this.DX(),t.prototype.gn.call(this)},i.nw=function(n){switch(n.type){case Al.im:return this.Co(n),this.EX(),!0;case Al.$v:case Al.xv:return this.Co(n),this.kX(),!0;case Al.Ov:if(this.LX)return!0}return t.prototype.nw.call(this,n)},i.DX=function(){this.xX&&(aS(this.xX),this.xX=void 0)},i.bX=function(){var t=this.U_,i=this.LX&&t>=this.MX.bS-n.Zl;this.TX&&!i?(this.TX=!1,this.fg&&this.Xg()):this.TX||!i||this.Eg||this.CX||(this.TX=!0,this.Co(new pD(t)),this.Hg())},i.NX=function(){if(this.ct!==1/0){var t=this.SX,i=HD.xn(t).zB(this.U_);Ui(this.U_,i,n.Zl)||this.F_(i)}},At(n,[{key:"SX",get:function(){return this.Dg().length?this.Dg():this.MX.yX().ks()}},{key:"LX",get:function(){return this.MX.bS<this.ct}}]),n}(ZT);oL.OX=1,oL.Zl=.001,yt(),C(),pt();var aL=function(){function t(){this.RX=!1}return At(t,[{key:"jX",get:function(){return this.RX},set:function(t){this.RX=t}}]),t}();yt(),C(),Mt();var cL=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).zX=!1,r.PX=!1,r.RX=i,r}bt(n,t);var i=n.prototype;return i.V_=function(){return!this.RX.jX&&t.prototype.V_.call(this)},i.Hg=function(){this.PX=!0,t.prototype.Hg.call(this)},i.Xg=function(){this.PX=!1,t.prototype.Xg.call(this)},i.nw=function(n){if(this.RX.jX)switch(n.type){case Al.Ov:return this.U_=0,this.PX||(this.Eg?this.zX=!0:this.Xg()),!0;case Al.$v:this.zX&&(this.zX=!1,this.Xg());break;case Al.Sh:if(this.zX||t.prototype.V_.call(this))return!0}return t.prototype.nw.call(this,n)},n}(ZT);yt(),C(),pt(),yt(),C();var hL=function(){function t(t){this.Qo=t,this.Xa=function(t){return{get currentBandwidthEstimate(){return t.qT},get corruptedVideoFrames(){return t.XT},get droppedVideoFrames(){return t.HT},get totalVideoFrames(){return t.ZT},get totalBytesLoaded(){return t.KT},get bufferedSegments(){return t.JT}}}(this)}return At(t,[{key:"va",get:function(){return this.Xa}},{key:"XT",get:function(){return this.Qo.eg.XT}},{key:"qT",get:function(){return this.Qo.eg.qT}},{key:"HT",get:function(){return this.Qo.eg.HT}},{key:"BX",get:function(){throw new v("Not implemented")}},{key:"UX",get:function(){throw new v("Not implemented")}},{key:"KT",get:function(){return this.Qo.eg.KT}},{key:"ZT",get:function(){return this.Qo.eg.ZT}},{key:"JT",get:function(){return this.Qo.eg.JT}}]),t}();function fL(t){if(!t||!Nu(t))return{HT:0,XT:0,ZT:0,qT:0,KT:0,JT:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}};if("function"==typeof t.getVideoPlaybackQuality){var n=t.getVideoPlaybackQuality();return{HT:n.droppedVideoFrames,XT:n.corruptedVideoFrames||0,ZT:n.totalVideoFrames}}return{HT:t.webkitDroppedFrameCount||0,XT:0,ZT:t.webkitDecodedFrameCount||0}}yt(),C(),pt(),Mt(),yt(),C(),Mt();var vL=function(t){function n(){return t.call(this,"QX")}return bt(n,t),n.prototype.fa=function(){return new lL},n}(am),lL=function(t){function n(){return t.call(this,"castingchange")}return bt(n,t),n}(ra);yt(),C();var dL=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).YX=void 0,n.GX=void 0,n.JX=!1,n.Xa=void 0,n.qX=function(){var t=n.JX,i=n.FX;t!==i&&(n.JX=i,n.Co(new vL))},n}bt(n,t);var i=n.prototype;return i.HX=function(t){this.YX=t,this.XX(t)},i.ZX=function(t){this.GX=t,this.XX(t)},i.XX=function(t){t.yn("statechange",this.qX)},i.KX=function(t){t.fn("statechange",this.qX)},i.gn=function(){this.Vo(),this.YX&&(this.KX(this.YX),this.YX=void 0),this.GX&&(this.KX(this.GX),this.GX=void 0)},At(n,[{key:"FX",get:function(){var t,n;return(null==(t=this.YX)?void 0:t.FX)||(null==(n=this.GX)?void 0:n.FX)||!1}},{key:"VX",get:function(){return this.YX}},{key:"WX",get:function(){return this.GX}},{key:"va",get:function(){return this.Xa||(this.Xa=function(t){var n,i={get casting(){return t.FX},get airplay(){var n;return null==(n=t.VX)?void 0:n.va},get chromecast(){var n;return null==(n=t.WX)?void 0:n.va},addEventListener:function(t,i){n.yn(t,i)},removeEventListener:function(t,i){n.fn(t,i)}};return n=new eL(t,["QX"],i),i}(this)),this.Xa}}]),n}($o);yt(),C(),zt(),Ut(),yt(),C(),zt(),Ut();var gL=function(){function t(){}return t.$X=function(t,n){return Ot((function(){var i;return Rt(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),i=new ey({zu:t,qD:pl.Ru,ZD:Jw.GET}),[4,n.uD(i)];case 1:return[4,r.sent().ly()];case 2:return[2,r.sent().trim()];case 3:return Bo(r.sent()),[2,void 0];case 4:return[2]}}))}))()},t.tZ=function(t){try{var n=TE(t);return new LE(n.key,n.domains_page,n.domains_source,n.expiration_date,n.features,n.customer_id,n.generation_date,n.sdks,n.send_impression)}catch(t){throw new Kv(Xv.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.iZ=function(t){void 0===t&&(t=vE.lh),an.vp("The baked-in license is used. Please update the configuration with your license.");var n=t.uY("F2b-iL'[FL[S"),i=JSON.parse('["F$(:_L50F|aY"]').map((function(n){return t.uY(n)})),r=JSON.parse('[".$hsF|b9_Ess*rS:F]Y\\""]').map((function(n){return t.uY(n)})),e=Number(new Date(Number(t.uY('COD|aHpHa:p3Ceo3Co""')))),u=JSON.parse("[]").map((function(n){return t.uY(n)}));return new LE(n,i,r,e,u)},t.convertLicenseToDummyLicense=function(t){return new LE(t.vY,t.mY,t.pY,864e13,t.yY,t.MY,Date.now(),t.TY,t.SY)},t}(),wL="https://validate.theoplayer.com/1/",yL=72e5,mL=w.floor(14399999*w.random()-yL),AL="THEOplayer.license",pL=function(){function t(t,n,i,r,e,u){this.aE=t,this.uZ=n,this._Z=i,this._G=r,this.oZ=e,this.Dx=u,this.QY=QE(u)}var n=t.prototype;return n.nZ=function(){var t=this;return Ot((function(){var n;return Rt(this,(function(i){switch(i.label){case 0:return[4,t.rZ(t.oZ.license,t.oZ.licenseUrl)];case 1:return n=i.sent(),t._G.hZ(n),[2]}}))}))()},n.rZ=function(t,n){var i=this;return Ot((function(){var r,e,u,s,o,a,c,h;return Rt(this,(function(f){switch(f.label){case 0:return r=n,t?e=gL.tZ(t):r||(e=gL.iZ()),r||(r=wL+e.vY),u=i.aZ(),e?(s=i.uZ.jY(e))!==DE._Y?[3,3]:i.cZ(e.AY)&&i.cZ(null==u?void 0:u.AY)?[4,i.lZ(r)]:[3,2]:[3,3];case 1:if(o=f.sent())return[2,o];f.label=2;case 2:return[2,e];case 3:return u?i.uZ.jY(u)!==DE._Y?[3,6]:i.cZ(null==u?void 0:u.AY)?[4,i.lZ(r)]:[3,5]:[3,7];case 4:if(a=f.sent())return[2,a];f.label=5;case 5:return[2,u];case 6:GT.kL(AL),f.label=7;case 7:return[4,gL.$X(r,i.aE)];case 8:if(c=f.sent()){if(h=gL.tZ(c),i.uZ.jY(h)===DE._Y)return GT.EP(AL,c),[2,h];GT.kL(AL)}else if(!i.QY&&e&&s===DE.gY&&r===wL+e.vY)return[2,gL.convertLicenseToDummyLicense(e)];if(!e&&!h)throw new Kv(Xv.LICENSE_ERROR,"The given license is invalid!");return i.dZ(null!=e?e:h,new Kv(Xv.LICENSE_ERROR,"The given license is invalid!")),[2]}}))}))()},n.EY=function(t){var n=this;return Ot((function(){var i,r,e,u,s,o,a;return Rt(this,(function(c){switch(c.label){case 0:return[4,n._G.fG()];case 1:return i=c.sent(),n.cZ(i.AY)?(e=null!=(r=n.oZ.licenseUrl)?r:wL+i.vY,[4,n.lZ(e)]):[3,3];case 2:(u=c.sent())&&(n._G.hZ(u),i=u),c.label=3;case 3:try{if((s=n.uZ.jY(i))===DE.wY)throw o=SE.NY,new Kv(xE(o),FE.CY(o));if(s===DE.gY)throw a=SE.gY,new Kv(xE(a),FE.CY(a));n.uZ.EY(t,i)}catch(t){n.fZ(t)}return[2]}}))}))()},n.OY=function(t){var n=this;return Ot((function(){var i;return Rt(this,(function(r){switch(r.label){case 0:return[4,n._G.fG()];case 1:i=r.sent();try{n.uZ.OY(t,i)}catch(t){n.fZ(t)}return[2]}}))}))()},n.lZ=function(t){var n=this;return Ot((function(){var i,r;return Rt(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,gL.$X(t,n.aE)];case 1:return void 0===(i=e.sent())?[2,void 0]:(r=gL.tZ(i),n.uZ.jY(r)===DE._Y?(GT.EP(AL,i),[2,r]):[2,void 0]);case 2:return e.sent(),[2,void 0];case 3:return[2]}}))}))()},n.cZ=function(t){return!t||Number(new Date)+2592e5+mL>=t},n.aZ=function(){var t=GT.IL(AL);if(t)return gL.tZ(t)},n.dZ=function(t,n){this._G.hZ(t),this.fZ(n)},n.fZ=function(t){throw ai(t.message),this._Z.vG(t.message),t},t}();yt(),C(),zt(),pt(),Ut();var _L=function(){function t(){this.wZ=new Bc}var n=t.prototype;return n.hZ=function(t){this.gZ=t,this.wZ.LL()},n.fG=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return t.gZ?[2,q.resolve(t.gZ)]:[4,t.wZ.OL];case 1:return n.sent(),[2,t.gZ]}}))}))()},At(t,[{key:"vZ",get:function(){return this.gZ}}]),t}();yt(),C(),pt(),Mt(),yt(),C(),Mt();var kL=function(t){function n(){return t.call(this,"Sw")}return bt(n,t),n.prototype.fa=function(){return new bL},n}(am),bL=function(t){function n(){return t.call(this,"change")}return bt(n,t),n}(ra);function ML(t){var n,i={get fontFamily(){return t.mZ},set fontFamily(n){t.mZ=n},get fontColor(){return t.pZ},set fontColor(n){t.pZ=n},get fontSize(){return t.AZ},set fontSize(n){t.AZ=n},get backgroundColor(){return t.yZ},set backgroundColor(n){t.yZ=n},get windowColor(){return t.MZ},set windowColor(n){t.MZ=n},get edgeStyle(){return t.bZ},set edgeStyle(n){t.bZ=n},get marginTop(){return t.TZ},set marginTop(n){t.TZ=n},get marginBottom(){return t.SZ},set marginBottom(n){t.SZ=n},get marginLeft(){return t.NZ},set marginLeft(n){t.NZ=n},get marginRight(){return t.IZ},set marginRight(n){t.IZ=n},addEventListener:function(t,i){var r=Om(t,Cm);n.yn(r,i)},removeEventListener:function(t,i){var r=Om(t,Cm);n.fn(r,i)}};return n=new ta(i),t.yn(["Sw"],(function(t){return n.Co(t.va)})),i}yt(),C();var TL={mZ:void 0,pZ:void 0,AZ:void 0,yZ:void 0,MZ:void 0,bZ:void 0,DZ:void 0,TZ:void 0,SZ:void 0,NZ:void 0,IZ:void 0},NL="THEOplayer.textTrackStyle.",DL=function(t){function n(){var i;return(i=t.call(this)||this).Xa=void 0,i.kZ=n.xZ(),i}return bt(n,t),n.prototype.Yn=function(t){this.kZ=$u({},this.kZ,t),n.LZ(this.kZ),this.Co(new kL)},n.xZ=function(){var t=$u({},TL);return t.mZ=GT.IL(NL+"fontFamily")||t.mZ,t.pZ=GT.IL(NL+"fontColor")||t.pZ,t.AZ=GT.IL(NL+"fontSize")||t.AZ,t.yZ=GT.IL(NL+"backgroundColor")||t.yZ,t.MZ=GT.IL(NL+"windowColor")||t.MZ,t.bZ=GT.IL(NL+"edgeStyle")||t.bZ,t},n.LZ=function(t){GT.EP(NL+"fontFamily",t.mZ||""),GT.EP(NL+"fontColor",t.pZ||""),GT.EP(NL+"fontSize",t.AZ||""),GT.EP(NL+"backgroundColor",t.yZ||""),GT.EP(NL+"windowColor",t.MZ||""),GT.EP(NL+"edgeStyle",t.bZ||"")},At(n,[{key:"EZ",get:function(){return this.kZ}},{key:"mZ",get:function(){return this.kZ.mZ},set:function(t){this.Yn({mZ:t})}},{key:"pZ",get:function(){return this.kZ.pZ},set:function(t){this.Yn({pZ:t})}},{key:"AZ",get:function(){return this.kZ.AZ},set:function(t){this.Yn({AZ:t})}},{key:"yZ",get:function(){return this.kZ.yZ},set:function(t){this.Yn({yZ:t})}},{key:"MZ",get:function(){return this.kZ.MZ},set:function(t){this.Yn({MZ:t})}},{key:"bZ",get:function(){return this.kZ.bZ},set:function(t){this.Yn({bZ:t})}},{key:"DZ",get:function(){return this.kZ.DZ}},{key:"TZ",get:function(){return this.kZ.TZ},set:function(t){this.Yn({TZ:t})}},{key:"SZ",get:function(){return this.kZ.SZ},set:function(t){this.Yn({SZ:t})}},{key:"IZ",get:function(){return this.kZ.IZ},set:function(t){this.Yn({IZ:t})}},{key:"NZ",get:function(){return this.kZ.NZ},set:function(t){this.Yn({NZ:t})}},{key:"va",get:function(){return this.Xa||(this.Xa=ML(this)),this.Xa}}]),n}($o);function IL(t,n){var i,r;t.style.marginLeft=(null!=(i=n.NZ)?i:0)+"px",t.style.marginRight=(null!=(r=n.IZ)?r:0)+"px",t.style.width="calc(100% - "+t.style.marginLeft+" - "+t.style.marginRight+")"}yt(),C(),zt(),pt(),Ct(),Ut(),yt(),C(),pt(),Mt(),yt(),C(),Xt(),zt(),pt(),Mt(),Ut(),Kt(),yt(),C();var EL,SL=[Al.jh,Al.Sh,gk.Sm,Al.fm,Al.Zv,Al.Gv,Al.im,Al.$v,Al.Ov,Al.qv,Al._m,Al.Lv,gk.Nw,Al.Jv,p_.ha,ia.Cv,ia.bL,Al.Iv,Al.Nv,Al.gm,Al.Uv,Al.Fv,Al.zv,Al.Rv],LL={Wm:!1};function jL(t){return t.wd.Av===dk.Sj}yt(),C(),function(t){t.CZ="OZ"}(EL||(EL={}));var CL,xL=["OZ"];!function(t){t[t.jZ=0]="jZ",t[t.DD=1]="DD",t[t.RZ=2]="RZ"}(CL||(CL={})),yt(),C(),zt(),pt(),Mt(),Ut(),yt(),C(),zt(),pt(),Mt(),Ut();var OL,zL=["loadstart","encrypted","waitingforkey","webkitneedkey","msneedkey"];!function(t){t.EQ="PZ",t.zZ="BZ"}(OL||(OL={}));var RL=function(t){function n(n,i,r,e){var u;(u=t.call(this)||this).JZ=!1,u.$Z=new Bc,u.YZ=!1,u.XZ=new el,u.cO=void 0,u.WZ=function(){u.YZ=!0},u.HZ=function(){u.KZ(!0)},u.GO=n,u.Fm=i,u.lj=i.pz,u.VZ=r,u.SO=e,u.lj.addEventListener("loadedmetadata",u.WZ);for(var s=0;s<zL.length;s++){var o=zL[s];u.lj.addEventListener(o,u.HZ)}return u}bt(n,t);var i=n.prototype;return i.UZ=function(t,n){var i=this;return Ot((function(){var r;return Rt(this,(function(e){switch(e.label){case 0:return[4,i.SO.TO(t.dL,n)];case 1:return[4,e.sent()._O()];case 2:return r=e.sent(),[4,i.QZ(r)];case 3:return e.sent(),[2,r]}}))}))()},i.FZ=function(t){var n=this,i=this.cO;return i?0!==t.Iz.length&&t.Iz.some((function(t){return t.Qp.dL===i.Qp})):0!==this.GO.Iz.length?t.Iz.some((function(t){return n.GO.Iz.some((function(n){return t.Qp===n.Qp}))})):0===t.Iz.length||!this.YZ},i.GZ=function(t){return this.VZ.GZ(t),this.GO=t,q.resolve()},i.h_=function(){var t=this;return Ot((function(){var n,i;return Rt(this,(function(r){switch(r.label){case 0:for(t.Vo(),t.lj.removeEventListener("loadedmetadata",t.WZ),n=0;n<zL.length;n++)i=zL[n],t.lj.removeEventListener(i,t.HZ);return[4,t.XZ.gn()];case 1:return r.sent(),t.ZZ(),[4,t.VZ.tr()];case 2:return r.sent(),[4,t.qZ(void 0)];case 3:return r.sent(),[2]}}))}))()},i.KZ=function(t){t!==this.JZ&&(this.JZ=t,t?this.$Z.LL(void 0):this.$Z=new Bc)},i.QZ=function(t){var n=this;return this.XZ.JO((function(){return n.qZ(t)}))},i.qZ=function(t){var n=this;return Ot((function(){var i;return Rt(this,(function(r){switch(r.label){case 0:if(t&&!n.lj.src&&!n.lj.srcObject)throw new Xm(Xv.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");if(!t&&(n.lj.src||n.lj.srcObject))throw new Xm(Xv.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");return!t||n.JZ?[3,2]:[4,n.$Z.OL];case 1:r.sent(),r.label=2;case 2:return(i=n.cO)?[4,i.dO(n.lj)]:[3,4];case 3:r.sent(),n.cO=void 0,r.label=4;case 4:return t?[4,t.bn(n.lj)]:[3,6];case 5:r.sent(),n.cO=t,r.label=6;case 6:return[2]}}))}))()},i.ga=function(t){var n=this;return this.XZ.JO((function(){return n.tq(t)}))},i.tq=function(t){this.KZ(!1);var n=this.Fm.gg;if(Fn(t))this.lj.src=t;else if(function(t){if(void 0!==e.ManagedMediaSource&&t instanceof e.ManagedMediaSource)return!0;if("undefined"!=typeof MediaSource&&t instanceof MediaSource)return!0;return!1}(t))if(function(t){return"srcObject"in t&&xn.Ga&&xn.Uk>=17}(this.lj))try{this.lj.srcObject=t}catch(n){this.lj.src=URL.createObjectURL(t)}else this.lj.src=URL.createObjectURL(t);else BL(t)&&(this.lj.srcObject=t);this.Fm.gg=n},i.iq=function(t){var n=this;return this.XZ.JO((function(){return n.nq(t)}))},i.nq=function(t){this.tq(t),this.lj.load()},i.ZZ=function(){this.KZ(!1),Du(this.lj)},i.rq=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return t.cO?[4,t.cO.tr()]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))()},At(n,[{key:"wd",get:function(){return this.GO}},{key:"pz",get:function(){return this.lj}}]),n}($o);function BL(t){return"undefined"!=typeof MediaStream&&t instanceof MediaStream}var PL=function(t){function n(){return t.apply(this,arguments)}bt(n,t);var i=n.prototype;return i.oX=function(){var t=this;return Ot((function(){var n;return Rt(this,(function(i){switch(i.label){case 0:switch((n=t.wd).Ez){case pN.pp:case pN.Ap:t.lj.setAttribute("crossorigin",n.Ez);break;case pN.mp:default:t.lj.removeAttribute("crossorigin")}return void 0!==n.yg?t.lj.preload=n.yg:t.lj.preload=FD.YP,void 0!==n.kz?t.lj.title=n.kz:bu(t.lj),n.uq?[4,t.iq(n.uq)]:[3,2];case 1:return i.sent(),[3,4];case 2:return[4,t.ga(n.yv)];case 3:i.sent(),i.label=4;case 4:return t.VZ.$n(t,n),[2]}}))}))()},i.FZ=function(t){return!1},i.GZ=function(t){return q.resolve(void 0)},i.cq=function(t){return!1},i.lq=function(){return!BL(this.GO.uq)},i.h_=function(){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return bu(n.lj),[4,t.prototype.h_.call(n)];case 1:return i.sent(),[2]}}))}))()},n.dq=function(t,n){return!!n.canPlayType&&Boolean(n.canPlayType(t.Nz))},At(n,[{key:"O_",get:function(){return HD.xn(this.lj.buffered)}},{key:"ct",get:function(){return this.lj.duration}},{key:"oq",get:function(){var t=this.ct;if(!isFinite(t))return!1;var n=this.O_;return 0!==n.U&&t-n.jn(n.U-1)<qi}},{key:"yg",get:function(){return this.lj.preload},set:function(t){this.lj.preload=t}},{key:"Ig",get:function(){return HD.xn(this.lj.seekable)}},{key:"hq",get:function(){return this.O_}},{key:"aq",get:function(){if(Nu(this.lj)&&(this.lj.videoWidth>0||this.lj.videoHeight>0))return this.O_}}]),n}(RL);yt(),C(),Mt();var UL=function(t){function n(n){var i;return(i=t.call(this,Al.Zv)||this).currentTime=n,i}return bt(n,t),n}(ra);yt(),C(),Mt();var QL,YL=function(t){function n(){return t.call(this,Al.Gv)}return bt(n,t),n}(ra);yt(),C(),Xt(),zt(),pt(),Mt(),Ut(),yt(),C(),pt(),Mt(),function(t){t.fq="_q"}(QL||(QL={}));var FL=function(t){function n(n){var i;return(i=t.call(this,"_q")||this).gq=n,i}return bt(n,t),n}(ra),GL=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).vq=HD.oU(),n}bt(n,t);var i=n.prototype;return i.mq=function(t,n){var i=new HD([t,n]);this.vq=this.vq.YB(i),this.Co(new FL(i))},i.pq=function(t,n){this.vq=this.vq.VB(new HD([t,n]))},i.tr=function(){this.vq=HD.oU()},i.gn=function(){this.Vo()},At(n,[{key:"wq",get:function(){return this.vq}}]),n}($o);yt(),C(),zt(),pt(),Mt(),Ut(),yt(),C(),zt(),pt(),Mt(),Ut(),yt(),C();var VL=function(){function t(t,n){var i=this,r=n.size,e=void 0===r?function(){return 1}:r,u=n.highWaterMark,s=void 0===u?1:u;this.JV=[],this.$V=0,this.wZ=void 0,this.bq=!1,this.Sq=void 0,this.Nq=function(t){return t.done?(i.Mq(),void i.wZ.close()):(i.JV.push(t.value),i.$V+=i.Dq(t.value),i.bq&&i.Mq(),i.Aq()?i.YV.read().then(i.Nq):void 0)},this.Iq=function(t){i.Mq(),i.wZ.error(t)},this.YV=t.getReader(),this.Dq=e,this.Tq=s}var n=t.prototype;return n.start=function(t){this.wZ=t,this.Aq()&&this.yq()},n.pull=function(){this.JV.length>0?this.Mq():this.bq=!0,this.Aq()&&this.yq()},n.cancel=function(t){return po(this.JV),this.$V=0,this.bq=!1,this.YV.cancel(t)},n.Mq=function(){if(0!==this.JV.length){var t=this.JV;this.JV=[],this.$V=0,this.bq=!1,this.wZ.enqueue(t)}},n.Aq=function(){return!!this.bq||this.Tq-this.$V>0},n.yq=function(){var t=this;if(!this.Sq){var n=this.YV.read().then(this.Nq).catch(this.Iq);this.Sq=n;var i=function(){t.Sq===n&&(t.Sq=void 0)};n.then(i,i)}},t}();yt(),C(),yt(),C(),pt(),Mt(),yt(),C(),yt(),C();var WL,XL=function(){function t(){this.kq=[],this.By=0}var n=t.prototype;return n.Eq=function(t){this.kq.push(t),this.By+=t.byteLength},n.Lq=function(t){if(this.By<=t)return this.xq();for(var n=this.kq,i=0,r=0;r<n.length&&i+n[r].byteLength<=t;)i+=n[r].byteLength,r++;var e=n.slice(0,r);if(r<n.length&&i<t){var u=t-i;0,e.push(Nc(n[r],0,u)),i+=u}return{kq:e,By:i}},n.Cq=function(t){var n=this.Lq(t);return 1===n.kq.length?n.kq[0]:Ia(n.kq,n.By)},n.xq=function(){return{kq:this.kq,By:this.By}},n.Oq=function(t){if(this.By<=t)return this.jq();for(var n=this.kq,i=0,r=0;r<n.length&&i+n[r].byteLength<=t;)i+=n[r].byteLength,r++;var e=n.splice(0,r);if(n.length>0&&i<t){var u=t-i;0,e.push(Nc(n[0],0,u)),n[0]=Nc(n[0],u),i+=u}return this.By-=i,{kq:e,By:i}},n.Rq=function(t){var n=this.Oq(t);return 1===n.kq.length?n.kq[0]:Ia(n.kq,n.By)},n.jq=function(){var t=this.xq();return this.kq=[],this.By=0,t},n.Pq=function(){var t=1===this.kq.length?this.kq[0]:Ia(this.kq,this.By);return this.kq=[],this.By=0,t},t}();!function(t){t[t.zq=0]="zq",t[t.Bq=1]="Bq",t[t.Uq=2]="Uq"}(WL||(WL={}));var ZL=function(){function t(){this.JV=new XL,this.ja=0,this.Hq=0,this.eK=0,this.Kq()}var n=t.prototype;return n.Qq=function(t,n){},n.Fq=function(){},n.Yq=function(t){this.JV.Eq(t),this.Gq(!1)},n.Vq=function(){this.Gq(!0)},n.Wq=function(){return 0!==this.ja||0!==this.JV.By},n.Gq=function(t){for(;0!==this.JV.By;){if(!t&&this.Hq>this.JV.By)return;switch(this.ja){case 0:this.Xq(t);break;case 1:this.Zq(t);break;case 2:this.qq(t)}}},n.Kq=function(){this.ja=0,this.Hq=8},n.Xq=function(t){var n=Ic(this.JV.Cq(this.Hq)),i=new Oc,r=s_.Py(n,i);if(!r.xy)return this.Hq=r.Uy,void(t&&this.Hq>this.JV.By&&this.Jq(this.JV.By));var e=r.zy.Av,u=r.zy.By;0===u&&(u=1/0),this.Qq(e,u),this.$q(e)?this.tK(u):this.Jq(u)},n.tK=function(t){this.ja=1,this.Hq=t},n.Zq=function(t){var n=Ic(this.JV.Rq(this.Hq)),i=new Oc,r=s_.Cy(n,i,!t);if(!r.xy)throw new u_(i.Ku);this.Fq(),this.iK(r.Oy),this.Kq()},n.Jq=function(t){this.ja=2,this.Hq=0,this.eK=t},n.qq=function(t){var n=this.JV.Oq(this.eK);this.eK-=n.By;for(var i=0,r=n.kq;i<r.length;i++){var e=r[i];this.sK(e)}(0===this.eK||t&&this.eK===1/0)&&(this.Fq(),this.Kq())},t}();function HL(t){return t instanceof Pf}function KL(t){return t instanceof Rf}function qL(t){return t instanceof xf||t instanceof Of}function JL(t){return t instanceof uf}function $L(t){return t instanceof xh}function tj(t){return t instanceof Df}function nj(t){return t instanceof Tf}function ij(t){return t instanceof qf}function rj(t){return t instanceof Hf}function ej(t){return t instanceof Vf}function uj(t){return t instanceof Xf}function sj(t,n){var i=co(t.boxes,ej);if(i&&i.flags.baseDataOffsetPresent)i.baseDataOffset=i.baseDataOffset.add(n);else for(var r=0,e=t.boxes;r<e.length;r++){var u=e[r];u instanceof Xf&&u.flags.dataOffsetPresent&&(u.dataOffset=u.dataOffset+n)}}yt(),C();var oj=function(t){function n(n){var i;return(i=t.call(this)||this).lK=is(),i.wK=n,i}bt(n,t);var i=n.prototype;return i.start=function(t){this.wZ=t},i.transform=function(t){this.Yq(t)},i.flush=function(){this.Vq()},i.$q=function(t){return t===vp.Kp||t===vp.kA||t===vp.UA},i.iK=function(t){var n=this.nK(t);this.wZ.enqueue(n)},i.sK=function(t){this.wZ.enqueue(t)},i.nK=function(t){var n=Ec(t.ly.ly);switch(t.Av){case"moov":return this.rK(n);case"sidx":return this.oK(n);case"moof":return this.hK(n)}return n},i.cK=function(t){var n=this.lK.get(t);if(void 0===n)throw new v("Expected to have found a media header timescale for track ID "+t+".");return n},i.rK=function(t){for(var n=wv(t),i=0;i<n.boxes.length;i++){var r=n.boxes[i];r instanceof Sf?n.boxes[i]=this.dK(r):r instanceof Lf?n.boxes[i]=this.fK(r):r instanceof Rf&&this._K(r)}for(var e=0,u=n.boxes;e<u.length;e++){var s=u[e];s instanceof Df&&this.gK(s)}return n.serialize().join()},i.dK=function(t){this.uK=t.timescale;var n=hj(Oi.fromNumber(t.duration,!0),this.aK,this.wK);return 0!==n.getHighBits()?this.fK(function(t){return new Lf({creation:Oi.fromNumber(t.creationTime,!0),modification:Oi.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:Oi.fromNumber(t.duration,!0)},t.nextTrackId,{rate:t.rate,volume:t.volume,matrix:t.matrix},t.flags)}(t)):(t.timescale=this.wK,t.duration=n.toInt(),t)},i.fK=function(t){return this.uK=t.timescale,t.timescale=this.wK,t.duration=hj(t.duration,this.aK,this.wK),t},i._K=function(t){for(var n,i=0;i<t.boxes.length;i++){var r=t.boxes[i];r instanceof xf?(n=r.trackId,t.boxes[i]=this.vK(r)):r instanceof Of?(n=r.trackId,t.boxes[i]=this.mK(r)):r instanceof uf?this.pK(r,n):r instanceof Xh&&this.AK(r)}},i.vK=function(t){var n=hj(Oi.fromNumber(t.duration,!0),this.aK,this.wK);return 0!==n.getHighBits()?this.mK(function(t){return new Of({creation:Oi.fromNumber(t.creationTime,!0),modification:Oi.fromNumber(t.modificationTime,!0),duration:Oi.fromNumber(t.duration,!0)},t.trackId,t.volume,t.width,t.height,{layer:t.layer,alternateGroup:t.alternateGroup,matrix:t.matrix})}(t)):(t.duration=n.toInt(),t)},i.mK=function(t){return t.duration=hj(t.duration,this.aK,this.wK),t},i.pK=function(t,n){for(var i=0;i<t.boxes.length;i++){var r=t.boxes[i];r instanceof tf?t.boxes[i]=this.yK(r,n):r instanceof nf&&(t.boxes[i]=this.MK(r,n))}},i.yK=function(t,n){this.lK.set(n,t.timescale);var i=hj(Oi.fromNumber(t.duration,!0),t.timescale,this.wK);return 0!==i.getHighBits()?this.MK(function(t){return new nf({creation:Oi.fromNumber(t.creationTime,!0),modification:Oi.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:Oi.fromNumber(t.duration,!0)},t.language,t.flags)}(t),n):(t.timescale=this.wK,t.duration=i.toInt(),t)},i.MK=function(t,n){return this.lK.set(n,t.timescale),t.timescale=this.wK,t.duration=hj(t.duration,t.timescale,this.wK),t},i.AK=function(t){for(var n=0,i=t.boxes;n<i.length;n++){var r=i[n];r instanceof Gh?this.bK(r):r instanceof Vh&&this.TK(r)}},i.bK=function(t){for(var n=0,i=t.entries;n<i.length;n++){var r=i[n];r.mediaTime=cj(r.mediaTime,this.aK,this.wK),r.segmentDuration=cj(r.segmentDuration,this.aK,this.wK)}},i.TK=function(t){for(var n=0,i=t.entries;n<i.length;n++){var r=i[n];r.mediaTime=hj(r.mediaTime,this.aK,this.wK),r.segmentDuration=hj(r.segmentDuration,this.aK,this.wK)}},i.gK=function(t){for(var n=0;n<t.boxes.length;n++){var i=t.boxes[n];i instanceof Tf?this.SK(i):i instanceof kf?t.boxes[n]=this.NK(i):i instanceof bf&&(t.boxes[n]=this.IK(i))}},i.SK=function(t){var n=this.cK(t.trackId);t.defaultSampleDuration=cj(t.defaultSampleDuration,n,this.wK)},i.NK=function(t){var n=hj(Oi.fromNumber(t.fragmentDuration,!0),this.aK,this.wK);return 0!==n.getHighBits()?this.IK(function(t){return new bf(Oi.fromNumber(t.fragmentDuration,!0),t.flags)}(t)):(t.fragmentDuration=n.toInt(),t)},i.IK=function(t){return t.fragmentDuration=hj(t.fragmentDuration,this.aK,this.wK),t},i.oK=function(t){var n=yv(t);return(n=n instanceof ev?this.DK(n):this.EK(n)).serialize().join()},i.DK=function(t){var n=t.timescale,i=hj(Oi.fromNumber(t.earliestPresentationTime,!0),n,this.wK);if(0!==i.getHighBits())return this.EK(function(t){return new uv(t.referenceId,t.timescale,Oi.fromNumber(t.earliestPresentationTime,!0),Oi.fromNumber(t.firstOffset,!0),t.references,t.flags)}(t));t.timescale=this.wK,t.earliestPresentationTime=i.toInt();for(var r=0,e=t.references;r<e.length;r++){var u=e[r];u.subsegmentDuration=cj(u.subsegmentDuration,n,this.wK)}return t},i.EK=function(t){var n=t.timescale;t.timescale=this.wK,t.earliestPresentationTime=hj(t.earliestPresentationTime,n,this.wK);for(var i=0,r=t.references;i<r.length;i++){var e=r[i];e.subsegmentDuration=cj(e.subsegmentDuration,n,this.wK)}return t},i.hK=function(t){for(var n=mv(t),i=n.getSize(),r=0,e=n.boxes;r<e.length;r++){var u=e[r];u instanceof Hf&&this.kK(u)}var s=n.getSize();if(s!==i)for(var o=s-i,a=0,c=n.boxes;a<c.length;a++){var h=c[a];h instanceof Hf&&sj(h,o)}return n.serialize().join()},i.kK=function(t){for(var n,i=0;i<t.boxes.length;i++){var r=t.boxes[i];r instanceof Vf?(n=this.cK(r.trackId),this.LK(r,n)):r instanceof Yf?t.boxes[i]=this.xK(r,n):r instanceof Ff?t.boxes[i]=this.CK(r,n):r instanceof Xf&&this.jK(r,n)}},i.LK=function(t,n){void 0!==t.defaultSampleDuration&&(t.defaultSampleDuration=cj(t.defaultSampleDuration,n,this.wK))},i.xK=function(t,n){var i=hj(Oi.fromNumber(t.baseMediaDecodeTime,!0),n,this.wK);return 0!==i.getHighBits()?this.CK(function(t){return new Ff(Oi.fromNumber(t.baseMediaDecodeTime,!0),t.flags)}(t),n):(t.baseMediaDecodeTime=i.toInt(),t)},i.CK=function(t,n){return t.baseMediaDecodeTime=hj(t.baseMediaDecodeTime,n,this.wK),t},i.jK=function(t,n){for(var i=0,r=0,e=0,u=t.samples;e<u.length;e++){var s=u[e];if(void 0!==s.duration){var o=cj(r+=s.duration,n,this.wK);s.duration=o-i,i=o}void 0!==s.compositionTimeOffset&&(s.compositionTimeOffset=aj(s.compositionTimeOffset,n,this.wK))}},At(n,[{key:"aK",get:function(){if(void 0===this.uK)throw new v("Expected to have found a movie header timescale.");return this.uK}}]),n}(ZL);function aj(t,n,i){return Oi.fromInt(t,!1).multiply(i).divide(n).toNumber()}function cj(t,n,i){return Oi.fromInt(t,!0).multiply(i).divide(n).toNumber()}function hj(t,n,i){return tp.fN(t).zN(tp._N(i,!0)).FN(tp._N(n,!0)).NN()}var fj,vj,lj,dj=function(){function t(t){this.PK=new oj(t)}return t.prototype.RK=function(t){return t.pipeThrough(new gw(this.PK))},t}();function gj(t,n,i){var r=Xa(t,n);if(r!==i)throw new l("Expected descriptor with tag "+i+", but found "+r)}function wj(t,n){gj(t,n,3);var i,r,e,u=yj(t,n),s=n.Ku+u,o=tc(t,n),a=Xa(t,n),c=0!=(64&a),h=0!=(32&a),f=31&a;(0!=(128&a)&&(i=tc(t,n)),c)&&(r=oc(t,n,Xa(t,n)));h&&(e=oc(t,n,2));var v=function(t,n){gj(t,n,4);var i,r=yj(t,n),e=n.Ku+r,u=Xa(t,n),s=Xa(t,n),o=s>>2,a=0!=(2&s),c=Ja(t,n,3),h=ic(t,n),f=ic(t,n);if(n.Ku<e){var v=function(t,n){return t.getUint8(n.Ku)}(t,n);5===v&&(i=function(t,n){gj(t,n,5);var i=yj(t,n),r=Ha(t,n,i);return{zK:5,BK:r}}(t,n))}return n.JA(e),{zK:4,UK:u,QK:o,FK:a,YK:c,GK:h,VK:f,WK:i}}(t,n);return n.JA(s),{zK:3,o:o,HK:i,zu:r,XK:f,ZK:e,qK:v}}function yj(t,n){for(var i=0,r=0;r<4;r++){var e=Xa(t,n);if(i=i<<7|127&e,!(128&e))break}return i}function mj(t,n){for(var i=Xa(t,n),r=Xa(t,n),e=Xa(t,n),u=Xa(t,n),s=3&Xa(t,n),o=31&Xa(t,n),a=[],c=0;c<o;c++){var h=tc(t,n);a.push(Ha(t,n,h))}for(var f=Xa(t,n),v=[],l=0;l<f;l++){var d=tc(t,n);v.push(Ha(t,n,d))}return{KK:i,JK:r,$K:e,tJ:u,iJ:s,eJ:a,sJ:v}}function Aj(t,n,i){if(!(i&&n.byte>=i)){var r=t.IL(n.byte);return n.byte+=1,r}}function pj(t,n){return function(t,n,i){for(var r=0,e=i;e>0;)e-=1,r=256*r+Aj(t,n);return r}(t,n,2)}yt(),C(),yt(),C(),function(t){t[t.nJ=3]="nJ",t[t.rJ=4]="rJ",t[t.oJ=5]="oJ"}(fj||(fj={})),function(t){t[t.hJ=64]="hJ",t[t.aJ=103]="aJ",t[t.uJ=107]="uJ"}(vj||(vj={})),yt(),C(),yt(),C(),function(t){t[t.cJ=0]="cJ",t[t.lJ=1]="lJ",t[t.aJ=2]="aJ",t[t.dJ=5]="dJ",t[t.fJ=34]="fJ"}(lj||(lj={})),yt(),C(),yt(),C(),yt(),C(),yt(),C(),pt();var _j=function(){function t(){this.wJ=0,this.gJ=[],this.kI={}}var n=t.prototype;return n._J=function(t){this.gJ=this.gJ.concat(t.gJ),this.wJ+=t.U},n.vJ=function(t,n,i){var r=this.wJ,e=i-n;e>0&&(this.gJ.push({mJ:n,pJ:i,AJ:e,yJ:r,MJ:t}),this.wJ+=e)},n.IL=function(t){for(var n=0,i=this.gJ;n<i.length;n++){var r=i[n];if(r.yJ<=t&&t<r.yJ+r.AJ)return r.MJ[t+r.mJ-r.yJ]}},n.bJ=function(t,n){for(var i=n,r=0,e=this.gJ;r<e.length;r++)for(var u=e[r],s=u.pJ,o=u.mJ;o<s;o+=1,i+=1)t[i]=u.MJ[o];return i},n.TJ=function(){for(var t=new p(this.wJ),n=0,i=0,r=this.gJ;i<r.length;i++)for(var e=r[i],u=e.pJ,s=e.mJ;s<u;s+=1,n+=1)t[n]=e.MJ[s];return t},n.$A=function(n){for(var i=new t,r=0,e=this.gJ;r<e.length;r++){var u=e[r];i.vJ(u.MJ,u.mJ,u.pJ)}return i.kI=n||$u({},this.kI),i},At(t,[{key:"U",get:function(){return this.wJ},set:function(t){var n=this.gJ,i=this.wJ-t;if(!(t>=this.wJ))if(this.wJ=t,0!==t)for(var r=n.length-1;r>=0;r-=1){var e=n[r];if(i<=e.AJ)return e.pJ-=i,e.AJ-=i,void(n.length!==r+1&&(n.length=r+1));i-=e.AJ}else n.length=0}},{key:"ly",get:function(){for(var t=new Array(this.wJ),n=0,i=0,r=this.gJ;i<r.length;i++)for(var e=r[i],u=e.pJ,s=e.mJ;s<u;s+=1,n+=1)t[n]=e.MJ[s];return t}}]),t}();yt(),C();var kj,bj=[128,64,32,16,8,4,2,1];function Mj(t,n){var i=w.floor(n.bit/8),r=0==(t.IL(i)&bj[n.bit%8])?0:1;return n.bit+=1,r}function Tj(t,n,i){for(var r=0,e=i;e>0;)e-=1,r=2*r+Mj(t,n);return r}function Nj(t,n){for(var i=0;0===Mj(t,n)&&i<32;)i+=1;return Tj(t,n,i)+w.pow(2,i)-1}function Dj(t,n){var i=Nj(t,n);return 1&i?w.floor((i+1)/2):-w.floor(i/2)}function Ij(t,n){var i,r=[],e={byte:1};do{r.push(Sj(t,n,e)),i=n.IL(e.byte)}while(void 0!==i&&128!==i);return r}function Ej(t,n){var i,r=0;do{r+=i=Aj(t,n)}while(255===i);return r}function Sj(t,n,i){var r=Ej(n,i),e=Ej(n,i),u=i.byte,s=u+e;return i.byte=s,{SJ:t,NJ:r,IJ:e,DJ:u,EJ:s,kJ:n}}!function(t){t[t.LJ=1]="LJ",t[t.xJ=2]="xJ",t[t.CJ=3]="CJ",t[t.OJ=4]="OJ",t[t.jJ=5]="jJ",t[t.RJ=6]="RJ",t[t.PJ=7]="PJ",t[t.zJ=8]="zJ",t[t.BJ=9]="BJ"}(kj||(kj={}));var Lj=[void 0,[1,1],[12,11],[10,11],[16,11],[40,33],[24,11],[20,11],[32,11],[80,33],[18,11],[15,11],[64,33],[160,99],[4,3],[3,2],[2,1]];function jj(t,n,i){for(var r=8,e=8,u=0;u<i;u+=1){if(0!==e)e=(r+Dj(t,n)+256)%256;r=0===e?r:e}}var Cj=function(){function t(t){this.QJ=[],this.FJ=0,this.YJ=t}var n=t.prototype;return n.UJ=function(){for(var t=this.QJ,n=w.max(0,this.FJ+t.length-2),i=this.YJ,r=i.U,e=0;n<r;n+=1){var u=i.IL(n);0===u?e+=1:(3===u&&e>=2&&t.push(n),e=0)}this.FJ=n-t.length},n.GJ=function(t){for(var n=this.QJ,i=t,r=0;r<n.length;r++){if(!(n[r]<=i))return i;i+=1}return i},n.IL=function(t){if(!(t>this.YJ.U))return t>this.FJ&&this.UJ(),this.YJ.IL(this.GJ(t))},t}();function xj(t){var n,i,r,e,u,s,o=new Cj(t),a=0,c=0,h=0,f=0,v=o.IL(1),l={bit:32};if(Nj(o,l),100===v||110===v||122===v||144===v){var d=Nj(o,l);if(3===d&&(n=Mj(o,l)),Nj(o,l),Nj(o,l),Mj(o,l),1===Mj(o,l))for(var g=0;g<(3!==d?8:12);g+=1){1===Mj(o,l)&&jj(o,l,g<6?16:64)}}var y=Nj(o,l),m=Nj(o,l);if(0===m)Nj(o,l);else if(1===m){Mj(o,l),Dj(o,l),Dj(o,l);for(var A=Nj(o,l),p=0;p<A;p+=1)Dj(o,l)}Nj(o,l),Mj(o,l);var _=Nj(o,l),k=Nj(o,l),b=Mj(o,l);if(0===b&&Mj(o,l),Mj(o,l),1===Mj(o,l)&&(a=Nj(o,l),c=Nj(o,l),h=Nj(o,l),f=Nj(o,l)),1===Mj(o,l)){if(1===Mj(o,l)){var M=Tj(o,l,8);if(255===M)i=Tj(o,l,16),r=Tj(o,l,16);else{var T=Lj[M];T&&(i=T[0],r=T[1])}}if(1===Mj(o,l)&&Mj(o,l),1===Mj(o,l))Tj(o,l,3),Mj(o,l),1===Mj(o,l)&&(Tj(o,l,8),Tj(o,l,8),Tj(o,l,8));1===Mj(o,l)&&(Nj(o,l),Nj(o,l)),1===(e=Mj(o,l))&&(u=Tj(o,l,32),s=Tj(o,l,32),Mj(o,l))}return{width:w.floor(16*(_+1)-2*a-2*c),height:w.floor((2-b)*(k+1)*16-2*h-2*f),Qb:i,Fb:r,VJ:e?s/(2*u):void 0,WJ:n,HJ:y}}function Oj(t,n,i){void 0===i&&(i=1);var r=e_(f_.Wy(t),vp.kA);if(r&&0!==r.Z.length)return function(t,n,i){void 0===i&&(i=1);var r,e;e=void 0!==n?co(t.Z,(function(t){return t.zy.AM===n})):t.Z[0];var u=null==e||null==(r=e.eT)?void 0:r.eT;return u?$i(u,i):void 0}(r,n,i)}function zj(t){var n=e_(f_.Wy(t),vp.Kp);if(n){for(var i=n.zy.cM,r=[],e=0,u=n.Z;e<u.length;e++){for(var s=u[e],o=s.zy.AM,a=s.wM.zy.cM,c=void 0,h=void 0,f=void 0,v=0,l=s.wM.IM.kM.xM.OM;v<l.length;v++){var d,g,w,y=Rj(l[v]);if(y)c=null!=(d=y.XJ)?d:c,h=null!=(g=y.ZJ)?g:h,f=null!=(w=y.qJ)?w:f}r.push({AM:o,cM:a,XJ:c,ZJ:h,qJ:f})}return{cM:i,Z:r}}}function Rj(t){var n,i,r;if(t.Av===vp.cA){var e,u=mj(Ic(t.mb.ly),new Oc);n=function(t){return"avc1."+Bj(t.JK,2)+Bj(t.$K,2)+Bj(t.tJ,2)}(u),r=null==(e=function(t){if(0===t.eJ.length)return;var n=t.eJ[0],i=new _j;return i.vJ(n,0,n.byteLength),xj(i)}(u))?void 0:e.VJ}else if(t.Av===vp.dA||t.Av===vp.fA){var s=function(t,n){for(var i=n.oy(),r=xa(t,i,8),e=xa(t,i,2),u=xa(t,i,1),s=xa(t,i,5),o=xa(t,i,32),a=[],c=0;c<6;c++)a.push(xa(t,i,8));var h=xa(t,i,8);i.KA(4);var f=xa(t,i,12);i.KA(6);var v=xa(t,i,2);i.KA(6);var l=xa(t,i,2);i.KA(5);var d=xa(t,i,3);i.KA(5);for(var g=xa(t,i,3),w=xa(t,i,16),y=xa(t,i,2),m=xa(t,i,3),A=xa(t,i,1),p=xa(t,i,2),_=xa(t,i,8),k=[],b=0;b<_;b++){var M=xa(t,i,1);i.KA(1);for(var T=xa(t,i,6),N=xa(t,i,16),D=[],I=0;I<N;I++){var E=xa(t,i,16),S=Ha(t,new Oc(i.Ku>>3),E);i.KA(8*E),D.push({KJ:E,JJ:S})}k.push({$J:M,t$:T,i$:N,e$:D})}return{KK:r,s$:e,n$:u,r$:s,o$:a,h$:h,a$:f,u$:v,c$:o,l$:l,d$:d,f$:g,_$:w,g$:m,w$:A,v$:y,iJ:p,m$:_,p$:k}}(Ic(t.Mb.ly),new Oc);n=function(t,n){var i=t.toString()+".";switch(n.s$){case 0:break;case 1:i+="A";break;case 2:i+="B";break;case 3:i+="C";break;default:return}switch(i+=n.r$.toString()+".",i+=function(t){var n=t;return n=n>>>1&1431655765|(1431655765&n)<<1,n=n>>>2&858993459|(858993459&n)<<2,n=n>>>4&252645135|(252645135&n)<<4,n=n>>>8&16711935|(16711935&n)<<8,n=n>>>16|n<<16,n}(n.c$).toString(16)+".",n.n$){case 0:i+="L";break;case 1:i+="H";break;default:return}i+=n.h$.toString();for(var r=n.o$.reduce((function(t,n){return 0===t?n:n+1}),0),e=0;e<r;e++)i+="."+n.o$[e].toString(16).toUpperCase();return i}(t.Av,s)}else if(t.Av===vp.gA){var o=function(t,n){var i=n.oy(),r=xa(t,i,8);i.KA(24);for(var e=xa(t,i,8),u=xa(t,i,8),s=xa(t,i,4),o=xa(t,i,3),a=Ca(t,i),c=xa(t,i,8),h=xa(t,i,8),f=xa(t,i,8),v=xa(t,i,16),l=new Array(8),d=0;d<v;d++)l[d]=xa(t,i,8);return{KK:r,A$:e,y$:u,M$:s,b$:o,T$:a,Pb:c,zb:h,Bb:f,S$:v,N$:l}}(Ic(t.Tb.ly),new Oc);n=function(t,n){var i=t.toString()+".";return i+="0"+n.A$+".",i+=Ys(""+n.y$,2,"0")+".",i+=Ys(""+n.M$,2,"0")+".",i+=Ys(""+n.b$,2,"0")+".",i+=Ys(""+n.Pb,2,"0")+".",i+=Ys(""+n.zb,2,"0")+".",i+=Ys(""+n.Bb,2,"0")+".",i+="0"+n.T$,i}(t.Av,o)}else if(t.Av===vp.vA){var a=function(t,n){var i=n.oy();i.KA(1);var r=xa(t,i,7),e=xa(t,i,3),u=xa(t,i,5),s=Ca(t,i),o=Ca(t,i),a=Ca(t,i),c=Ca(t,i),h=Ca(t,i),f=Ca(t,i),v=xa(t,i,2);i.KA(3);var l,d=Ca(t,i);return d?l=xa(t,i,4):i.KA(4),{Gy:r,I$:e,D$:u,E$:s,k$:o,L$:a,x$:c,C$:h,O$:f,j$:v,R$:d,P$:l}}(Ic(t.Ib.ly),new Oc);n=function(t,n,i){var r=t.toString()+".";if(r+=n.I$+".",r+=""+Ys(""+n.D$,2,"0"),r+=(0===n.E$?"M":"H")+".",r+=(1===n.L$?12:10)+".",r+=(1===n.I$?0:n.x$)+".",r+=""+n.C$+n.O$+(1===n.C$&&1===n.O$?n.j$:"0"),i&&i.Rb===dp.ON_SCREEN_COLOURS){var e=i;r+="."+Ys(""+e.Pb,2,"0")+"."+Ys(""+e.zb,2,"0")+"."+Ys(""+e.Bb,2,"0")+"."+(e.Ub?1:0)}return r}(t.Av,a,t.Db)}else if(t.Av===vp.yA){i=function(t){var n=t.qK;switch(n.UK){case vj.hJ:return function(t){var n;if(!(null==(n=t.WK)?void 0:n.BK))return"mp4a.40";var i=function(t,n){var i=xa(t,n,5);31===i&&(i=32+xa(t,n,6));var r,e=xa(t,n,4);return 15===e&&(r=xa(t,n,24)),{z$:i,B$:e,U$:r,Q$:xa(t,n,4)}}(Ic(t.WK.BK),new Oa);return"mp4a.40."+i.z$}(n);case vj.aJ:return"mp4a.40.2";case vj.uJ:return"mp4a.40.34"}}(wj(Ic(t.ob.ly),new Oc))}else{if(t.Av!==vp.bA)return(t.Av===vp.EA||t.Av===vp.DA)&&t.Lb?Rj(t.Lb):void 0;i="fLaC"}return{XJ:n,ZJ:i,qJ:r}}function Bj(t,n){var i=t.toString(16);return Ys(i,n,"0")}function Pj(t,n){var i=f_.Wy(Ic(t)),r=function(t,n){for(var i,r=function(t,r){var e,u=r[t],s=null==(e=u.eT)?void 0:e.eT;if(s){var o=u.zy.AM,a=co(n.Z,(function(t){return t.AM===o})),c=up.fN(s,a.cM);i&&!c.rN(i)||(i=c)}},e=0,u=t.Z;e<u.length;e++)r(e,u);return i}(e_(i,vp.kA),n),e=e_(i,vp.PA);return{MS:r.JS(),F$:e.ly}}function Uj(t,n){return Qj.apply(this,arguments)}function Qj(){return Qj=Ot((function(t,n){var i;return Rt(this,(function(r){switch(r.label){case 0:switch(t.Av){case CL.jZ:return[3,1];case CL.DD:return[3,2];case CL.RZ:return[3,4]}return[3,5];case 1:return[2,t];case 2:return[4,jw(t.ly,n)];case 3:return i=r.sent(),Po(n),[2,{Av:CL.jZ,ly:new p(i)}];case 4:throw new v("MediaBufferWrapper - Cannot convert opaque SegmentData to ArraySegmentData.");case 5:return[2]}}))})),Qj.apply(this,arguments)}yt(),C(),zt(),Ut();var Yj=xn.zk,Fj=function(t){function n(n,i,r,e,u){var s,o;if((s=t.call(this)||this).cX=20,s.fX=30,s.Y$=!1,s.l0=!1,s.b0=void 0,s.S0=new zo,s.t0=!1,s.i0=void 0,s.q$=!1,s.K$=void 0,s.N0=function(){s.Y$=!1},s.I0=function(t){t.removedRanges&&s.Co(new ra(EL.CZ))},s._0=i,s.o0=n,s.G$=r,s.G$.addEventListener("updateend",s.N0),s.G$.addEventListener("bufferedchange",s.I0),s.p0=e,s.y0=u,s.q$=Gj(e.Nz,u),null==(o=i.wd)?void 0:o.D0){var a,c=null!=(a=i.wd.E0)?a:1e5;s.s0=new dj(c)}return s}bt(n,t);var i=n.prototype;return i.V$=function(t,n,i){var r=this;switch(t.Av){case CL.jZ:case CL.DD:return this.W$((function(i){return r.H$(t,n,i)}),i);case CL.RZ:throw new v("Opaque segments are not supported on web.")}},i.X$=function(t,n){var i=this;switch(t.Av){case CL.jZ:return this.W$((function(n){return i.Z$(t,n)}),n);case CL.DD:throw new v("Streaming initialization segments are not supported on web.");case CL.RZ:throw new v("Opaque initialization segments are not supported on web.")}},i.Z$=function(t,n){var i=this;return Ot((function(){return Rt(this,(function(r){switch(r.label){case 0:return i.q$?(i.K$=zj(Ic(t.ly)),[2]):[4,i.J$(t,void 0,n)];case 1:return r.sent(),Yj&&(i.t0=!1,i.i0=t),[2]}}))}))()},i.H$=function(t,n,i){var r=this;return Ot((function(){var e,u,s;return Rt(this,(function(o){switch(o.label){case 0:return Yj&&r.t0&&r.i0?[4,r.Z$(r.i0,i)]:[3,2];case 1:o.sent(),o.label=2;case 2:return o.trys.push([2,,6,7]),Po(i),r.q$&&r.K$?[4,Uj(t,i)]:[3,4];case 3:e=o.sent(),u=Pj(e.ly,r.K$),t={Av:CL.jZ,ly:u.F$},n=$u({},n,{pI:u.MS+(null!=(s=n.pI)?s:0)}),o.label=4;case 4:return[4,r.J$(t,n,i)];case 5:return o.sent(),r.Co(new ra(EL.CZ)),[3,7];case 6:return t.Av===CL.DD&&t.ly.cancel(new Ro).catch(Kn),[7];case 7:return[2]}}))}))()},i.J$=function(t,n,i){var r=this;return Ot((function(){var e,u;return Rt(this,(function(s){switch(s.label){case 0:return Po(i),n?[4,r.e0(n)]:[3,2];case 1:s.sent(),s.label=2;case 2:switch(t.Av){case CL.jZ:return[3,3];case CL.DD:return[3,7]}return[3,11];case 3:return r.s0?(e=r.s0.RK(Ew(t.ly)),[4,r.n0(e,i)]):[3,5];case 4:return[2,s.sent()];case 5:return[4,r.r0(t.ly)];case 6:return[2,s.sent()];case 7:return r.s0?(u=r.s0.RK(t.ly),[4,r.n0(u,i)]):[3,9];case 8:return[2,s.sent()];case 9:return[4,r.n0(t.ly,i)];case 10:return[2,s.sent()];case 11:return[2]}}))}))()},i.n0=function(t,n){var i=this;return Ot((function(){var r,e,u,s,o,a,c,h,f;return Rt(this,(function(v){switch(v.label){case 0:r=i.o0.O_,e=function(t,n){return void 0===n&&(n=new dw({highWaterMark:1/0})),new uw(new VL(t,n),{highWaterMark:0})}(t),u=e.getReader(),s=!1,v.label=1;case 1:v.trys.push([1,6,,12]),v.label=2;case 2:return[4,Yo(u.read(),n)];case 3:return(o=v.sent()).done?(s=!1,[3,5]):(Po(n),a=Da(o.value),s=!0,[4,i.r0(a)]);case 4:return v.sent(),[3,2];case 5:return[3,12];case 6:return c=v.sent(),u.cancel(c).catch(Kn),s?[4,i.h0()]:[3,11];case 7:v.sent(),h=i.o0.O_.Sn(r.BB()),f=0,v.label=8;case 8:return f<h.U?[4,i.a0(h.Cn(f),h.jn(f))]:[3,11];case 9:v.sent(),v.label=10;case 10:return f++,[3,8];case 11:throw c;case 12:return[2]}}))}))()},i.u0=function(t,n){var i=this;return this.W$((function(){return i.c0(t,n)}))},i.c0=function(t,n){var i=this;return Ot((function(){return Rt(this,(function(r){switch(r.label){case 0:return i.G$.appendWindowStart===t&&i.G$.appendWindowEnd===n?[3,2]:[4,i.h0()];case 1:r.sent(),i.G$.appendWindowStart=0,i.G$.appendWindowEnd=n,i.G$.appendWindowStart=t,r.label=2;case 2:return[2]}}))}))()},i.e0=function(t){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:if(n.G$.timestampOffset===t.pI)return[2];i.label=1;case 1:return i.trys.push([1,2,,4]),n.G$.timestampOffset=t.pI,[3,4];case 2:return i.sent(),[4,n.h0()];case 3:return i.sent(),n.G$.timestampOffset=t.pI,[3,4];case 4:return[2]}}))}))()},i.r0=function(t){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return n.G$.appendBuffer(t),n.l0=!0,[4,n.d0()];case 1:return i.sent(),[2]}}))}))()},i.f0=function(t,n,i){var r=this;return this.W$((function(i){return r.a0(t,n,i)}),i)},i.a0=function(t,n,i){var r=this;return Ot((function(){return Rt(this,(function(e){switch(e.label){case 0:return Po(i),r.G$.remove(t,n),[4,r.d0()];case 1:return e.sent(),[2]}}))}))()},i.d0=function(){var t=this,n=this.o0.O_;return new q((function(i,r){var e,u=!1,s=function(){u=!0},o=function(){u=!1,e="error"},a=function(){u=!1,e="aborted"},c=function(){u=!1,e="sourceclose",h()},h=function(){f(),u&&!e?(n.KB(t.o0.O_)||t.Co(new ra(EL.CZ)),i()):r(new v(e))},f=function(){t.G$.removeEventListener("update",s),t.G$.removeEventListener("error",o),t.G$.removeEventListener("abort",a),t.G$.removeEventListener("updateend",h),t._0.fn(OL.zZ,c)};t.G$.addEventListener("update",s),t.G$.addEventListener("error",o),t.G$.addEventListener("abort",a),t.G$.addEventListener("updateend",h),xn.wk&&xn.pk<3&&t._0.yn(OL.zZ,c)}))},i.g0=function(){var t=this;return this.W$((function(){return t.h0()}))},i.h0=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:if(t._0.Sg!==oC.oD)return[2];Yj&&(t.t0=!0),t.G$.updating&&(t.Y$=!0);try{t.G$.abort()}catch(n){0,t.Y$=!1}return t.oa?[4,t.d0().catch(Kn)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))()},i.w0=function(){return"function"==typeof this.G$.changeType},i.GZ=function(t){if(this.v0(),this._0.Sg!==oC.m0){var n;this.p0=t;var i=null!=(n=this._0.A0(t.Nz))?n:t.Nz;this.q$=Gj(t.Nz,this.y0),this.w0()&&!Us(this.y0,i)&&(this.y0=i,this.G$.changeType(this.y0))}},i.M0=function(){this._0.Sg!==oC.Ov||this.b0||this.oa||(this.G$.timestampOffset=this.G$.timestampOffset,this._0.T0())},i.W$=function(t,n){var i=this;return Ot((function(){var r;return Rt(this,(function(e){switch(e.label){case 0:i.v0(),(r=new zo).w_(i.S0.f_),n&&r.w_(n),e.label=1;case 1:return e.trys.push([1,,5,6]),i.b0=t(r.f_),[4,i.b0];case 2:return e.sent(),i._0.T0(),i.oa?[4,i.d0()]:[3,4];case 3:e.sent(),e.label=4;case 4:return[3,6];case 5:return i.b0=void 0,r.h_(),[7];case 6:return[2]}}))}))()},i.v0=function(){if(this.b0)throw new v("Internal error")},i.h_=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return t.Vo(),t.S0.g_(),t.b0?[4,t.b0.catch(Kn)]:[3,2];case 1:n.sent(),t.b0=void 0,n.label=2;case 2:return t.G$.removeEventListener("updateend",t.N0),t.G$.removeEventListener("bufferedchange",t.I0),[2]}}))}))()},At(n,[{key:"iX",get:function(){return this.cX},set:function(t){this.cX=t}},{key:"rX",get:function(){return this.fX},set:function(t){this.fX=t}},{key:"oa",get:function(){return this.Y$||this.G$.updating}}]),n}($o);function Gj(t,n){return Bs(t,"audio/mp4")&&Bs(n,"audio/mpeg")}yt(),C(),pt();var Vj=function(){function t(t,n){this.L0=void 0,this.k0=n,this.G$=t}var n=t.prototype;return n.oq=function(){return!!this.L0&&this.O_.PB().gr(this.L0)},n.x0=function(){var t=this.O_;this.L0=t.U>0?t.jn(t.U-1):0,this.k0.C0()},n.M0=function(){this.L0=void 0},At(t,[{key:"O_",get:function(){if(this.k0.Sg===oC.m0)return HD.oU();var t=HD.xn(this.G$.buffered).Sn(new HD([0,1/0])),n=this.L0;return void 0!==n&&t.U>0&&t.jn(t.U-1)===n&&(t=t.YB(HD.nU(n))),t}}]),t}();function Wj(t){var n=t.VI("codecs");return n?n.split(",").map((function(t){return t.trim()})):[]}function Xj(t,n){return!("opus"===t)&&!("opus"===n)||t===n}function Zj(t,n){var i=Hj(t)||Kj(t),r=Hj(n)||Kj(n);return!i&&!r||t===n}function Hj(t){return/^(ac-3|dac3|ec-3|dec3|ec\+3|ac-4|dac4)/.test(t)}function Kj(t){return/^(dvav|dva1|dvhe|dvh1)/.test(t)}function qj(t,n){if(t===n)return!0;var i=t.split("."),r=n.split("."),e=i[0];if(e!==r[0])return!1;if("mp4a"===e){var u=Gt(i,3),s=u[1],o=u[2],a=Gt(r,3),c=a[1],h=a[2];if(s!==c)return!1;if(Number(o)!==Number(h))return!1}return!0}function Jj(t,n,i,r,e,u,s){var o=new Vj(e,t),a=new Fj(o,t,e,i,u);return new $j(t,n,i,r,o,a,s)}yt(),C(),Vt();var $j=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this)||this).F0=ns(),a._0=n,a.GO=r,a.BO=r.Nz,a.j0=e,a.Fm=i,a.o0=u,a.z0=s,a.P0=o,a.z0.yn(EL.CZ,a.Ds),a}bt(n,t);var i=n.prototype;return i.oq=function(){return this.o0.oq()},i.x0=function(){this.o0.x0()},i.M0=function(){this.o0.M0(),this.z0.M0()},i.B0=function(t,n){this.P0.mq(t,n)},i.U0=function(t,n){this.P0.pq(t,n)},i.Q0=function(){return this.z0.g0()},i.V$=function(t,n,i){return this.z0.V$(t,n,i)},i.X$=function(t,n,i){return this.z0.X$(t,i)},i.u0=function(t,n){return xn.wk&&xn.pk<3?this.z0.u0(t,1/0):this.z0.u0(t,n)},i.rS=function(t,n,i){var r=this;return Ot((function(){var e,u;return Rt(this,(function(s){switch(s.label){case 0:return r.U0(t,n),e=r.O_,[4,r.z0.f0(t,n,i)];case 1:return s.sent(),u=0!==e.U&&0===r.O_.U,(xn.Wk||xn.yk)&&u&&r.Fm.JA(r.Fm.U_),[2]}}))}))()},i.FZ=function(t){var n=t.Nz;if(this.BO===n)return!0;var i=this.F0.get(n);if(void 0!==i)return i;var r=this.Y0(t);return this.F0.set(n,r),r},i.Y0=function(t){var n=this._0.A0(t.Nz);if(void 0===n)return!1;var i=Ev(this.BO),r=Ev(n),e=Wj(i),u=Wj(r);if(this.z0.w0()){if(!function(t,n){return jo(t,n,Zj)}(e,u))return!1;if(xn.Xk&&!function(t,n){return jo(t,n,Xj)}(e,u))return!1}else{if(i.Av!==r.Av)return!1;if(!function(t,n){return jo(t,n,qj)}(e,u))return!1}return!0},i.GZ=function(t){var n=this;return Ot((function(){var i;return Rt(this,(function(r){return i=t.Nz,n.BO!==i&&(n.F0.clear(),n.z0.GZ(t),n.BO=i),n.GO=t,n._0.G0(),[2]}))}))()},i.h_=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:t.F0.clear(),t.Vo(),t.P0.gn(),n.label=1;case 1:return n.trys.push([1,3,,4]),t.z0.fn(EL.CZ,t.Ds),[4,t.z0.h_()];case 2:return n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return[2]}}))}))()},At(n,[{key:"O_",get:function(){return this.o0.O_}},{key:"wd",get:function(){return this.GO}},{key:"Nz",get:function(){return this.BO}},{key:"O0",get:function(){return this.j0}},{key:"R0",get:function(){return this.P0.wq}},{key:"iX",get:function(){return this.z0.iX},set:function(t){this.z0.iX=t}},{key:"rX",get:function(){return this.z0.rX},set:function(t){this.z0.rX=t}},{key:"oa",get:function(){return this.z0.oa}}]),n}($o);yt(),C();var tC=function(){function t(t,n,i,r){void 0===i&&(i=!1),void 0===r&&(r=!1),this.Cn=t,this.jn=n,this.W0=i,this.H0=r,this.X0=an.m_()}return t.prototype.V0=function(){var t=this.Cn,n=this.jn;if(this.W0||this.H0){var i=.001*(an.m_()-this.X0);this.W0&&(t+=i),this.H0&&(n+=i)}return HD.rU(t,n)},t}();yt(),C(),pt();var nC=.5,iC=[Al.jh,Al.Sh,Al.im,Al.$v,Al.Uv,Al.Fv,Al.Ov,Al.qv,gk.Nw,p_.ha],rC=function(){function t(t,n,i,r){var e=this;this.o0=t,this.$0=n,this.Fm=i,this.s1=!1,this.q0=[],this.e1=0,this.c1=0,this.M1=0,this.o1=0,this.w1=0,this.d1=0,this.b1=1,this.K0=function(t){var n=e.Fm.U_,i=t.gq.gr(n),r=t.gq.gr(n,nC)&&e.Fm.Sg<=mk.UT;(i||r)&&e.cq(n)},this.t1=$n((function(t){if(!e.s1&&e.$0.Sg<=mk.UT){var n=e.Fm.U_;e.cq(n)||e._1()}}),100),this.Jl=$n((function(t){e.l1()}),100),this.i1=function(){e.v1()?0===e.d1&&(e.Fm.yn(Al.fm,e.Jl),e.c1=an.A_((function(){e.l1()}),3500)):e.J0()},this._1=function(){var t=e.M1,n=e.w1,i=e.Fm.U_,r=an.m_(),u=e.o0.O_;if(t!==i)return e.M1=i,e.w1=r,e.b1=1,void(e.T1=an.S1?2e3:1e3);if(e.v1()&&0!==u.U&&n>0&&r>n+e.T1){var s,o,a=e.wq.PB().VB(u),c=a.tU(i);if(-1!==c){var h=a.Cn(c);if(h-i<1){var f=a.jn(c);0,s=f}}if(!s)(s=null==(o=e.N1)?void 0:o.determineStallJumpTarget())||(s=i+.01*e.b1,u.gr(s)||(s=e.A1(i,u)));0,e.M1=s,e.b1++,e.T1=w.min(2*e.T1,1e4),e.a1(s)}},this.$0.yn(gk.Nw,this.t1),this.Fm.yn(Al.Zv,this.t1),this.Fm.yn(iC,this.i1),this.N1=r,this.T1=an.S1?2e3:1e3}var n=t.prototype;return n.Z0=function(t){this.q0.push(t),t.yn(QL.fq,this.K0)},n.gn=function(){var t=this;this.J0(),this.$0.fn(gk.Nw,this.t1),this.Fm.fn(Al.Zv,this.t1),this.Fm.fn(iC,this.i1),this.q0.forEach((function(n){return n.fn(QL.fq,t.K0)})),0!==this.e1&&(an.p_(this.e1),this.e1=0),this.s1=!0},n.cq=function(t){var n=this;if(this.Fm.G_)return!1;if(0!==this.e1)return!1;var i=this.o0.O_,r=i.WB(t);if(r>=0&&t+nC<i.jn(r))return!1;var e=r>=0?r+1:i.iU(t);if(e<0||e>=i.U)return!1;var u=i.Cn(e);return!(HD.rU(t,u).VB(this.wq).sU>1)&&(an.n1?(this.o1=this.Fm.U_,this.e1=an.A_((function(){n.o1===n.Fm.U_&&n.a1(u),n.e1=0}),250),!0):!(w.abs(u-t)<=.001)&&(this.a1(u),!0))},n.a1=function(t){this.Fm.JA(t,!1,!0)},n.u1=function(){0!==this.c1&&(an.p_(this.c1),this.c1=0),this.Fm.fn(Al.fm,this.Jl)},n.l1=function(){this.s1||0===this.d1&&(this.u1(),this.d1=an.f1(this._1,250))},n.J0=function(){0!==this.d1&&(an.g1(this.d1),this.d1=0),this.u1(),this.Fm.Eg||(this.w1=0)},n.v1=function(){return!this.Fm.fg&&!this.Fm.Eg&&0!==this.Fm.gg&&!this.Fm.G_&&!this.Fm.lt&&(this.m1()||this.$0.Sg>=mk.QT)},n.m1=function(){var t=this.Fm.U_,n=this.o0.O_,i=n.WB(t);return-1!==i&&n.jn(i)>t+nC},n.A1=function(t,n){var i=n.WB(t);return i>-1?n.jn(i):t},At(t,[{key:"wq",get:function(){return this.q0.reduce((function(t,n){return t.YB(n.wq)}),HD.oU())}}]),t}();function eC(t){var n=[];if(t.I1&&n.push(t.I1.O_),t.D1&&n.push(t.D1.O_),0===n.length)return HD.oU();for(var i=0,r=0;r<n.length;r++){var e=n[r];e.U>0&&(i=w.max(i,e.jn(e.U-1)))}for(var u=t.oq,s=new HD([0,i],[!0,u]),o=0;o<n.length;o++){var a=n[o];u&&a.U>0&&(a=a.YB(new HD([a.jn(a.U-1),i],[!0,!0]))),s=s.Sn(a)}return s}function uC(t,n,i){var r,e=t.O_,u=e.WB(n);if(u>=0){if(!(u+1<e.U))return q.resolve();r=e.Cn(u+1)}else{if(!((u=e.iU(n))>=0))return q.resolve();r=e.Cn(u)}return t.rS(r,1/0,i)}function sC(t,n,i){if(!t.gr(n)){var r=t.WB(n,i);if(r>=0){var e=t.Cn(r);if(n<e)return e}}return n}yt(),C();var oC,aC=xn.Sk||xn.Ik,cC=xn.Ok||xn.zk&&xn.Uk>=17;!function(t){t.m0="closed",t.oD="open",t.Ov="ended"}(oC||(oC={}));var hC=function(t){function n(n,i,r,e,u,s,o){var a;return void 0===s&&(s=new Bu(n.t2)),(a=t.call(this,n,i,e,u)||this).O1=void 0,a.V1=void 0,a.j1=void 0,a.W1=void 0,a.U1=new tC(0,1/0),a.R1=void 0,a.H1=!1,a.Z1=function(){a.Co(new ra(OL.zZ))},a.q1=function(){a.X1()},a.I0=function(){a.Fm.I0()},a.J1=s,a.yz=a.J1.E1(),a.yz.addEventListener("sourceclose",a.Z1),a.Fm.yn([Al.im,Al.Uv],a.q1),a.G1=new rC(Wt(a),r,a.Fm,o),a}bt(n,t);var i=n.prototype;return i.P1=function(t){if(A(t)||t<0)throw new v("Invalid duration");this.z1()?this.B1(t):this.R1=t},i.B1=function(t){var n=t===1/0;if(n&&this.yz.setLiveSeekableRange){var i=w.pow(2,39);this.yz.setLiveSeekableRange(0,i)}this.yz.duration=n?cC?1/0:Ri:t,this.R1=void 0},i.Q1=function(t,n,i,r){this.U1=new tC(t,n,!!i,!!r)},i.oX=function(){var t=this;return Ot((function(){var n,i,r,e,u,s,o,a,c;return Rt(this,(function(h){switch(h.label){case 0:return n=t.GO,i=co(n.F1,(function(t){return Bs(t.Nz,"audio")})),r=co(n.F1,(function(t){return Bs(t.Nz,"video")})),t.lj.disableRemotePlayback=!0,[4,t.Y1()];case 1:return h.sent(),i&&(e=new GL,t.G1.Z0(e),s=null!=(u=t.A0(i.Nz))?u:i.Nz,t.V1=t.yz.addSourceBuffer(s),t.O1=Jj(t,t.Fm,i,Gm.WA,t.V1,s,e),t.O1.yn(EL.CZ,t.I0)),r&&(o=new GL,t.G1.Z0(o),c=null!=(a=t.A0(r.Nz))?a:r.Nz,t.W1=t.yz.addSourceBuffer(c),t.j1=Jj(t,t.Fm,r,Gm.VA,t.W1,c,o),t.j1.yn(EL.CZ,t.I0)),t.VZ.$n(t,n),[2]}}))}))()},i.Y1=function(){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return[4,t.prototype.iq.call(n,n.yz)];case 1:return i.sent(),"open"===n.Sg?[3,3]:[4,Fy(n.yz,"sourceopen")];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))()},i.z1=function(){if("open"!==this.Sg)return!1;var t=this.O1&&this.O1.oa,n=this.j1&&this.j1.oa;return!(t||n)},i.x0=function(){this.H1=!0,this.O1&&this.O1.x0(),this.j1&&this.j1.x0(),this.H1=!1,this.X1()},i.M0=function(){this.O1&&this.O1.M0(),this.j1&&this.j1.M0()},i.FZ=function(n){var i=co(n.F1,(function(t){return Bs(t.Nz,"audio")})),r=co(n.F1,(function(t){return Bs(t.Nz,"video")}));if(this.O1){if(!i)return!1;if(!this.O1.FZ(i))return!1}else if(i)return!1;if(this.j1){if(!r)return!1;if(!this.j1.FZ(r))return!1}else if(r)return!1;return!!t.prototype.FZ.call(this,n)},i.GZ=function(n){var i=this;return Ot((function(){var r,e,u;return Rt(this,(function(s){switch(s.label){case 0:return r=co(n.F1,(function(t){return Bs(t.Nz,"audio")})),e=co(n.F1,(function(t){return Bs(t.Nz,"video")})),u=[],i.O1&&u.push(i.O1.GZ(r)),i.j1&&u.push(i.j1.GZ(e)),[4,q.all(u)];case 1:return s.sent(),[4,t.prototype.GZ.call(i,n)];case 2:return s.sent(),[2]}}))}))()},i.h_=function(){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return n.yz.removeEventListener("sourceclose",n.Z1),xn.yk?[4,n.rq()]:[3,2];case 1:i.sent(),i.label=2;case 2:return n.O1?[4,n.O1.h_()]:[3,4];case 3:if(i.sent(),n.O1=void 0,qs()&&(xn.yk||xn.wk))try{n.yz.removeSourceBuffer(n.V1)}catch(t){}n.V1=void 0,i.label=4;case 4:return n.j1?[4,n.j1.h_()]:[3,6];case 5:if(i.sent(),n.j1=void 0,qs()&&(xn.yk||xn.wk))try{n.yz.removeSourceBuffer(n.W1)}catch(t){}n.W1=void 0,i.label=6;case 6:return n.lj.src&&URL.revokeObjectURL(n.lj.src),n.lj.disableRemotePlayback=!1,n.Fm.fn([Al.im,Al.Uv],n.q1),n.G1.gn(),xn.wk?[4,n.rq()]:[3,8];case 7:i.sent(),i.label=8;case 8:return[4,t.prototype.h_.call(n)];case 9:return i.sent(),[2]}}))}))()},i.G0=function(){var t=this,n=this.GO,i=n.F1.map((function(n){return Bs(n.Nz,"audio")&&t.O1?t.O1.wd:Bs(n.Nz,"video")&&t.j1?t.j1.wd:n}));this.GO=$u({},n,{F1:i})},i.C0=function(){this.H1||this.X1()},i.X1=function(){this.K1&&this.z1()&&(this.yz.endOfStream(),this.R1=void 0,this.Co(new ra(OL.EQ)),this.Fm.I0())},i.T0=function(){this.z1()&&(this.oq?this.X1():void 0!==this.R1&&this.B1(this.R1))},i.cq=function(t){return this.G1.cq(t)},i.lq=function(){return!0},i.A0=function(t){return fC(this.J1,t)},n.dq=function(t){var n=Pu(t.t2);if(void 0===n)return!1;if("function"!=typeof n.isTypeSupported)return!1;for(var i=new Bu(t.t2),r=0,e=t.F1;r<e.length;r++){if(void 0===fC(i,e[r].Nz))return!1}return!0},At(n,[{key:"I1",get:function(){return this.O1}},{key:"D1",get:function(){return this.j1}},{key:"ct",get:function(){if(this.R1)return this.R1;var t=this.yz.duration;return t===Ri?1/0:t}},{key:"O_",get:function(){return aC?eC(this):function(t,n){var i=n;return i.U>0&&t.oq&&(i=i.YB(HD.nU(i.jn(i.U-1)))),i}(this,HD.xn(this.lj.buffered))}},{key:"hq",get:function(){var t;return null==(t=this.O1)?void 0:t.O_}},{key:"aq",get:function(){var t;return null==(t=this.j1)?void 0:t.O_}},{key:"Ig",get:function(){return this.U1.V0().Sn(new HD([0,this.ct],[!0,!0]))}},{key:"oq",get:function(){return(!this.O1||this.O1.oq())&&(!this.j1||this.j1.oq())}},{key:"Sg",get:function(){return this.yz.readyState}},{key:"K1",get:function(){if(!this.oq)return!1;var t=this.O_;return 0!==t.U&&t.Cn(t.U-1)<=this.Fm.U_}}]),n}(RL);function fC(t,n){var i=Ev(n),r=Wj(i),e="audio/mp4"===i.Av,u=e&&1===r.length&&"mp4a.40.34"===r[0];if(t.C1(n)&&(!u||!xn.zk))return n;if(u)for(var s=['audio/mp4; codecs="mp3"',"audio/mpeg"],o=0;o<s.length;o++){var a=s[o];if(t.C1(a))return a}if(e&&1===r.length&&"flac"===r[0].toLowerCase())for(var c=["flac","fLaC","FLAC"],h=0;h<c.length;h++){var f='audio/mp4; codecs="'+c[h]+'"';if(t.C1(n))return f}}yt(),C(),pt(),Mt(),yt(),C(),Mt();var vC=function(t){function n(n){var i;return(i=t.call(this,Al.Uv)||this).currentTime=n,i}return bt(n,t),n}(ra),lC=[Al._m,Al.qv,Al.im,Al.Uv,Al.jh,Al.Sh],dC=function(t){function n(n,i,r,e,u,s,o,a,c,h,f){var v;return(v=t.call(this)||this).hU=n,v.jx=i,v.o2=r,v.cU=e,v.aU=u,v.uU=s,v.lU=o,v.Xx=a,v.h2=c,v.e2=h,v.n2=f,v}bt(n,t);var i=n.prototype;return i.JA=function(t,n,i){this.hU!==t&&(this.hU=t,this.e2=n,i&&!this.aU?(this.n2=!0,this.Co(new vC(this.U_))):(this.n2=!1,this.aU=!0,this.Co(new _D(this.U_))))},i.Hg=function(){this.cU||(this.cU=!0,this.Co(new wD(this.U_)))},i.Xg=function(){this.cU&&(this.cU=!1,this.Co(new yD(this.U_)))},i.h_=function(){this.Vo()},At(n,[{key:"U_",get:function(){return this.hU}},{key:"i2",get:function(){return this.e2}},{key:"s2",get:function(){return this.n2}},{key:"ct",get:function(){return this.jx}},{key:"G_",get:function(){return this.o2}},{key:"fg",get:function(){return this.cU}},{key:"Sg",get:function(){return this.h2}},{key:"Eg",get:function(){return this.aU}},{key:"og",get:function(){return this.uU},set:function(t){this.og!==t&&(this.uU=t,this.Co(new bD(this.U_,this.zg)))}},{key:"gg",get:function(){return this.lU},set:function(t){this.gg!==t&&(this.lU=t,this.Co(new AD(this.U_,this.gg)))}},{key:"zg",get:function(){return this.Xx},set:function(t){this.zg!==t&&(this.Xx=t,this.Co(new bD(this.U_,this.zg)))}}]),n}($o);function gC(t){return new dC(t.U_,t.ct,t.G_,t.fg,t.Eg,t.og,t.gg,t.zg,t.Sg,!1,t.s2)}function wC(t,n){n.ct===t.ct||A(n.ct)&&A(t.ct)||t.Co(new mD(t.ct)),t.og=n.og,t.zg=n.zg,t.gg=n.gg,n.fg?t.Hg():t.Xg().catch(Kn),n.U_!==t.U_||n.Sg>mk.BT&&t.Sg===mk.BT?t.JA(n.U_,n.i2,n.s2):!n.Eg&&t.Eg?t.Co(new _D(t.U_)):n.Eg&&!t.Eg&&t.Sg>=mk.UT&&t.Co(new kD(t.U_)),!n.G_&&t.G_&&t.Co(new pD(t.U_))}yt(),C(),Mt(),yt(),C(),pt(),Mt();var yC=function(t){function n(n){var i;return(i=t.call(this)||this).Oj=mk.BT,i.c2=function(){i.u2()},i.Fm=n,i}bt(n,t);var i=n.prototype;return i.a2=function(t){this.Oj!==t&&(this.Oj=t,this.Co(new Ak(this.Fm.U_,t)))},i.u2=function(){this.a2(this.Ng())},i.tr=function(){this.a2(mk.BT)},i.h_=function(){this.Vo()},At(n,[{key:"Sg",get:function(){return this.Ng()}}]),n}($o);yt(),C(),Mt();var mC=["emptied","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","timeupdate","progress","seeking","seeked"],AC=function(t){function n(n){var i;i=t.call(this,n)||this;for(var r=0;r<mC.length;r++){var e=mC[r];i.Fm.pz.addEventListener(e,i.c2)}return i}bt(n,t);var i=n.prototype;return i.Ng=function(){var t=this.Fm.pz.readyState;return t>mk.UT&&this.Fm.l2?mk.UT:(this.Fm.pz.seeking&&t>mk.Xn&&(t=mk.Xn),t)},i.h_=function(){for(var n=0;n<mC.length;n++){var i=mC[n];this.Fm.pz.removeEventListener(i,this.c2)}t.prototype.h_.call(this)},n}(yC);yt(),C();var pC=function(t){function n(n){var i;(i=t.call(this,n)||this).Fm.yn([Al.im,Al.Uv],i.c2);for(var r=0;r<mC.length;r++){var e=mC[r];i.Fm.pz.addEventListener(e,i.c2)}return i}bt(n,t);var i=n.prototype;return i.Ng=function(){if(this.Fm.pz.readyState===mk.BT)return mk.BT;var t=this.d2(),n=t?t.jn-t.Cn:0;if(!t)return mk.Xn;var i=this.Fm.gg;return this.f2()||n>=3*i?mk.FT:n>=3?mk.QT:mk.UT},i.d2=function(){var t=this.Fm.U_,n=this.Fm.O_.FB(.04),i=n.WB(t);if(!(i<0))return{Cn:t,jn:n.jn(i)}},i.f2=function(){if(this.Fm.G_)return!0;var t=this.Fm.ct,n=this.d2();return!!n&&t-n.jn<=.16666666666666666},i.h_=function(){this.Fm.fn([Al.im,Al.Uv],this.c2);for(var n=0;n<mC.length;n++){var i=mC[n];this.Fm.pz.removeEventListener(i,this.c2)}t.prototype.h_.call(this)},n}(yC);yt(),C(),Mt(),yt(),C(),Mt();var _C=[gk.Nw,Al.jh,Al.Sh,Al.im,Al.$v,Al.Uv,Al.Fv,Al.Ov,p_.ha],kC=function(t){function n(n){var i;return(i=t.call(this)||this).m2=!1,i.CV=function(){i.Yn()},i.Dj=n,i.Dj.yn(_C,i.CV),i}bt(n,t);var i=n.prototype;return i._2=function(){return(!this.Dj.s2||!this.Dj.g2)&&this.Dj.Sg<mk.QT},i.w2=function(){return!this.Dj.Eg&&!(this.Dj.fg||this.Dj.G_||this.Dj.lt||this._2())},i.Yn=function(){var t=this.m2;this.m2=this.w2(),!t&&this.m2&&this.Co(new Tk(this.Dj.U_))},i.tr=function(){this.m2=!1},i.h_=function(){this.Vo(),this.Dj.fn(_C,this.CV)},n}($o),bC=function(t){function n(n){var i;return(i=t.call(this,n)||this).A2=!1,i.Uj=function(){i.A2=!0,i.Yn()},i.lj=n.pz,i.lj.addEventListener(gk.Sm,i.Uj),i}bt(n,t);var i=n.prototype;return i.w2=function(){return this.A2&&t.prototype.w2.call(this)},i.Yn=function(){this.A2&&(this.lj.paused||this.lj.ended||this.lj.error)&&(this.A2=!1),t.prototype.Yn.call(this)},i.tr=function(){t.prototype.tr.call(this),this.A2=!1},i.h_=function(){this.lj.removeEventListener(gk.Sm,this.Uj),t.prototype.h_.call(this)},n}(kC);yt(),C(),Mt();var MC=function(t){function n(n){var i;return(i=t.call(this,p_.ha)||this).lt=n,i}return bt(n,t),n}(ra);function TC(t,n){return t.MS<=n&&t.bS>n}function NC(t,n){return function(t,n){return so(t.MS,n.MS,zA)}(t,n)||function(t,n){return so(t.bS,n.bS,zA)}(t,n)}function DC(t,n){return function(t,n){return so(t.kS,n.kS,zA)}(t,n)||function(t,n){return so(t.LS,n.LS,zA)}(t,n)}function IC(t,n,i){var r=function(t,n,i,r,e,u,s){void 0===e&&(e=!1),void 0===u&&(u=0),void 0===s&&(s=t.length);for(var o=u,a=s-1;o<=a;){var c=o+(a-o>>1),h=r(i(t[c]),n);if(h<0)o=c+1;else if(h>0)a=c-1;else{if(!(e&&c>u&&0===r(i(t[c-1]),n)))return c;a=c-1}}return~o}(t,n,qn,i,!0);if(r<0)return r;for(;r<t.length&&i(n,t[r])===Js.Zr;r++)if(t[r].QS(n))return r;return-(r+1)}function EC(t,n,i){var r=IC(t,n,i);return r>=0?r:-(r+1)}function SC(t){var n=t.Lt;if(!n)return-1;if(t instanceof BA)return n.M2(t);var i=n.L;if(!i)return-1;var r=IC(i.Rw,t,NC);return r>=0?r:-1}function LC(t,n){var i=function(t,n,i){for(var r=t.length,e=n.length,u=0,s=0,o=[],a=[];u<r&&s<e;){var c=t[u],h=n[s];c===h?(u++,s++):i(h,c)<=0?(o.push(h),s++):(a.push(c),u++)}for(;u<r;)a.push(t[u]),u++;for(;s<e;)o.push(n[s]),s++;return{b2:o,T2:a}}(t,n,NC);return function(t,n){for(var i=n.length,r=0;r<i;r++)t[r]=n[r];t.length=i}(t,n),i}yt(),C(),pt(),Mt(),yt(),C(),yt(),C(),yt(),C(),pt();var jC=function(){function t(t){this.Xa=void 0,this.S2=t}var n=t.prototype;return n.fa=function(){return function(t){for(var n=[],i=0;i<t.U;i++)n[i]=t.IL(i).va;return n.item=function(n){var i=0|n,r=t.IL(i);return r&&r.va||void 0},g.defineProperty(n,"constructor",{value:SA}),n}(this)},n.oS=function(t){for(var n=this.S2,i=n.length-1;i>=0;i-=1){var r=n[i];if(t.QS(r))return!0}return!1},n.IL=function(t){return this.S2[t]},At(t,[{key:"Rw",get:function(){return this.S2}},{key:"U",get:function(){return this.S2.length}},{key:"va",get:function(){if(this.Xa){var t=this.S2;this.Xa.length=t.length;for(var n=0;n<t.length;n++)this.Xa[n]=t[n].va}else this.Xa=this.fa();return this.Xa}}]),t}();yt(),C(),Mt();var CC=function(t){function n(n,i){var r;return(r=t.call(this,gm.Nw)||this).Lt=n,r.Sg=i,r}return bt(n,t),n.prototype.fa=function(){return new xC(this.Lt.va,this.Sg)},n}(fm),xC=function(t){function n(n,i){var r;return(r=t.call(this,"readystatechange")||this).track=n,r.readyState=i,r}return bt(n,t),n}(vm);yt(),C(),Mt();var OC=function(t){function n(n){var i;return(i=t.call(this,gm.Dw)||this).Lt=n,i}return bt(n,t),n.prototype.fa=function(){return new zC(this.Lt.va)},n}(fm),zC=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return bt(n,t),n}(vm);yt(),C(),Mt();var RC=function(t){function n(n){var i;return(i=t.call(this,gm.lw)||this).yS=n,i}return bt(n,t),n.prototype.fa=function(){return new BC(this.yS.va)},n}(fm),BC=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return bt(n,t),n}(vm);yt(),C(),Mt();var PC=function(t){function n(n){var i;return(i=t.call(this,gm.fw)||this).yS=n,i}return bt(n,t),n.prototype.fa=function(){return new UC(this.yS.va)},n}(fm),UC=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return bt(n,t),n}(vm),QC=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return(h=t.call(this)||this).cS=oA(),h.nf=!1,h.CU=A_.Ch,h.h2=yA.NONE,h.P2=void 0,h.S2=[],h.B2=[],h.j2=[],h.G2=0,h.R2=0,h.uS=i||"",h.L2=a||"",h.C2=n,h.Rx=e||"",h.nf=Boolean(u),h.E2=Boolean(o),h.z2=s||mA.DEFAULT,h.lS=r||"",h.O2=c||[],h.I2=new jC(h.S2),h.N2=new jC(h.j2),h}bt(n,t);var i=n.prototype;return i.D2=function(t){return co(this.I2.Rw,(function(n){return n.o===t}))},i.fa=function(){return B_(this)},i.Xo=function(t){var n=z_(t);n!==this._v&&(this.CU=n,n===A_.Ch&&(this.j2.forEach((function(t){t.ro=!1})),po(this.j2),this.R2=0),this.Co(new iA(this)))},i.lE=function(t){if(t&&!t.Lt){var n=IC(this.B2,t,DC);if(!(n>=0)){t.Lt=this;var i=-(n+1);this.B2.splice(i,0,t);var r=EC(this.L.Rw,t,NC);this.U2(t,r),this.Co(new RC(t))}}},i.U2=function(t,n){this.S2.splice(n,0,t),this.Q2(n),t.GS=n,n<this.R2&&(this.R2=n)},i.gD=function(t){if(t&&t.Lt===this){var n=this.M2(t);if(!(n<0)){t.ro=!1;var i=this.j2,r=IC(i,t,NC);r>=0&&wo(i,r);var e=IC(this.B2,t,DC);e>=0&&wo(this.B2,e),this.F2(t,n),this.Co(new PC(t))}}},i.F2=function(t,n){wo(this.S2,n),this.Q2(n),t.GS=-1,this.R2>n&&--this.R2},i.jS=function(t){if(t&&t.Lt===this){var n=this.M2(t);if(!(n<0)){this.F2(t,n);var i=EC(this.L.Rw,t,NC);this.U2(t,i);var r=vo(this.j2,(function(n){return n===t}));if(r>=0){wo(this.j2,r);var e=EC(this.j2,t,NC);this.j2.splice(e,0,t)}}}},i.Y2=function(t,n){var i=this.j2,r=this.S2,e=this.R2,u=!1,s=1/0;n&&(e=0);for(var o=i.length-1;o>=0;o--){var a=i[o];TC(a,t)?a.bS<s&&(s=a.bS):(u=!0,wo(i,o))}for(;e<r.length&&r[e].MS<=t;){var c=r[e];TC(c,t)&&(mo(i,c)||(u=!0,i.push(c)),c.bS<s&&(s=c.bS)),e++}return e<r.length&&r[e].MS<s&&(s=r[e].MS),u&&no(i,NC),this.R2=e,s},i.M2=function(t){return(-1===t.GS||t.GS>=this.G2)&&this.V2(),t.GS},i.V2=function(){for(var t=this.S2,n=this.G2;n<t.length;n++)t[n].GS=n;this.G2=t.length},i.Q2=function(t){t<this.G2&&(this.G2=w.max(t,0))},i.mv=function(t){this.pv||(this._v=t)},i.gn=function(){this.Vo();for(var t=this.S2.slice(),n=0;n<t.length;n++){t[n].gn()}po(this.S2),po(this.B2),po(this.j2)},At(n,[{key:"q",get:function(){return this.N2}},{key:"L",get:function(){return this.I2}},{key:"_E",get:function(){return this.nf},set:function(t){this.nf=t}},{key:"pv",get:function(){return this.E2}},{key:"va",get:function(){return this.Xa||(this.Xa=this.fa()),this.Xa}},{key:"o",get:function(){return this.uS}},{key:"Xw",get:function(){return this.cS}},{key:"fv",get:function(){return this.L2},set:function(t){this.L2=t}},{key:"zt",get:function(){return this.C2}},{key:"kh",get:function(){return this.lS},set:function(t){t!==this.lS&&(this.lS=t,this.Co(new eA(this)))}},{key:"gs",get:function(){return this.Rx}},{key:"Zw",get:function(){return this.O2}},{key:"_v",get:function(){return this.CU},set:function(t){this.Xo(t)}},{key:"Sg",get:function(){return this.h2},set:function(t){this.h2!==t&&(this.h2=t,this.Co(new CC(this,this.h2)))}},{key:"yv",get:function(){return this.P2},set:function(t){this.P2=t}},{key:"Av",get:function(){return this.z2},set:function(t){this.z2!==t&&(this.z2=t,this.Co(new OC(this)))}}]),n}($o);yt(),C(),pt(),Mt(),yt(),C(),pt(),Mt(),yt(),C(),Mt();var YC=function(t){function n(n,i){var r;return(r=t.call(this,kA.mS,n)||this).GN=i,r}return bt(n,t),n.prototype.fa=function(){return new FC(this.yS.va)},n}(DA),FC=function(t){function n(n){return t.call(this,"enter",n)}return bt(n,t),n}(IA);yt(),C(),Mt();var GC=function(t){function n(n,i){var r;return(r=t.call(this,kA.pS,n)||this).GN=i,r}return bt(n,t),n.prototype.fa=function(){return new VC(this.yS.va)},n}(DA),VC=function(t){function n(n){return t.call(this,"exit",n)}return bt(n,t),n}(IA);yt(),C(),Mt();var WC=function(t){function n(n){var i;return(i=t.call(this,gm.mw)||this).yS=n,i}return bt(n,t),n.prototype.fa=function(){return new XC(this.yS.va)},n}(fm),XC=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return bt(n,t),n}(vm);yt(),C(),Mt();var ZC=function(t){function n(n){var i;return(i=t.call(this,gm.Aw)||this).yS=n,i}return bt(n,t),n.prototype.fa=function(){return new HC(this.yS.va)},n}(fm),HC=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return bt(n,t),n}(vm),KC=function(t){function n(n){var i;return(i=t.call(this)||this).PS=void 0,i.CS=void 0,i.Xa=void 0,i.ho=!1,i.H2=function(){i.ro=!0},i.X2=function(){i.ro=!1},i.cS=vA(),i.W2=n,i.kS=n.startTime,i.LS=n.endTime,i.W2.addEventListener("enter",i.H2),i.W2.addEventListener("exit",i.X2),i}bt(n,t);var i=n.prototype;return i.fa=function(){return EA(this)},i.QS=function(t){return this===t||Nm(this,t)&&RA(this,t)&&this.FS(t)},i.FS=function(t){return Mm(this.O,t.O)},i.gn=function(){this.Vo(),this.W2.removeEventListener("enter",this.H2),this.W2.removeEventListener("exit",this.X2)},At(n,[{key:"Xw",get:function(){return this.cS}},{key:"MS",get:function(){return this.W2.startTime},set:function(t){this.W2.startTime=t}},{key:"bS",get:function(){return this.W2.endTime},set:function(t){this.W2.endTime=t}},{key:"O",get:function(){return this.PS},set:function(t){this.PS=t}},{key:"zS",get:function(){return!!this.W2.pauseOnExit},set:function(t){this.W2.pauseOnExit=!!t}},{key:"Lt",get:function(){return this.CS},set:function(t){this.CS=t}},{key:"o",get:function(){return this.W2.id||""}},{key:"va",get:function(){return this.Xa||(this.Xa=this.fa()),this.Xa}},{key:"ro",get:function(){return this.ho},set:function(t){this.ro!==t&&(this.ho=t,t?(this.Co(new YC(this,this.MS)),this.CS&&this.CS.Co(new WC(this))):(this.Co(new GC(this,this.bS)),this.CS&&this.CS.Co(new ZC(this))))}}]),n}(na);yt(),C(),Mt();var qC=function(t){function n(n){var i;return(i=t.call(this,gm.Mw)||this).Lt=n,i}return bt(n,t),n.prototype.fa=function(){return new JC(this.Lt.va)},n}(fm),JC=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return bt(n,t),n}(vm);function $C(t){if(t){var n=t.THEOplayerVTTRegion;return n||(n=new tx(t),t.THEOplayerVTTRegion=n),n}}yt(),C(),pt(),Mt(),yt(),C(),pt();var tx=function(){function t(t){this.Xa=void 0,this.q2=t}return At(t,[{key:"Z2",get:function(){return this.q2}},{key:"o",get:function(){return this.q2.id||""}},{key:"ji",get:function(){return+this.q2.width||0},set:function(t){this.q2.width=t||0}},{key:"VS",get:function(){return+this.q2.lines||0},set:function(t){this.q2.lines=t||0}},{key:"WS",get:function(){return+this.q2.regionAnchorX||0},set:function(t){this.q2.regionAnchorX=t||0}},{key:"HS",get:function(){return+this.q2.regionAnchorY||0},set:function(t){this.q2.regionAnchorY=t||0}},{key:"ZS",get:function(){return+this.q2.viewportAnchorX||0},set:function(t){this.q2.viewportAnchorX=t||0}},{key:"qS",get:function(){return+this.q2.viewportAnchorY||0},set:function(t){this.q2.viewportAnchorY=t||0}},{key:"XS",get:function(){return this.q2.scroll||""}},{key:"va",get:function(){return this.Xa||(this.Xa=VA(this)),this.Xa}}]),t}();var nx=function(t){function n(n){return t.call(this,n)}bt(n,t);var i=n.prototype;return i.fa=function(){return LA(this)},i.FS=function(t){return PA(this,t)},At(n,[{key:"O",get:function(){return this.W2.text},set:function(t){this.W2.text=t}},{key:"Pt",get:function(){return this.W2.vertical||""},set:function(t){this.W2.vertical=t||""}},{key:"ES",get:function(){return this.W2.snapToLines},set:function(t){this.W2.snapToLines=t}},{key:"SS",get:function(){return this.W2.line},set:function(t){this.W2.line=t}},{key:"By",get:function(){return+this.W2.size},set:function(t){this.W2.size=Pi(t,0,100)}},{key:"va",get:function(){return this.Xa||(this.Xa=this.fa()),this.Xa}}]),n}(KC),ix=function(t){function n(n){return t.call(this,n)}return bt(n,t),At(n,[{key:"DS",get:function(){return $C(this.W2.region)}},{key:"NS",get:function(){return this.W2.lineAlign||"start"},set:function(t){this.W2.lineAlign=t||"start"}},{key:"po",get:function(){return this.W2.position},set:function(t){this.W2.position=t}},{key:"IS",get:function(){return this.W2.positionAlign||"auto"},set:function(t){this.W2.positionAlign=t||"auto"}},{key:"TS",get:function(){return this.W2.align||"center"},set:function(t){this.W2.align=t||"center"}}]),n}(nx),rx=function(t){function n(n){return t.call(this,n)}return bt(n,t),At(n,[{key:"DS",get:function(){return $C(this.Z2)}},{key:"Z2",get:function(){return function(t,n){if(void 0!==n){var i=t&&t.regions;return i&&i.getRegionById(n)||void 0}}(this.W2.track,this.W2.regionId)}},{key:"NS",get:function(){return function(t){return"middle"===t?"center":t}(this.W2.lineAlign||"start")},set:function(t){this.W2.lineAlign=function(t){return"center"===t?"middle":t}(t||"start")}},{key:"po",get:function(){return this.W2.position},set:function(t){this.W2.position=function(t,n){return NA(t,n)}(t,this.TS)}},{key:"IS",get:function(){return function(t){return MA[t]}(this.W2.positionAlign||"middle")},set:function(t){this.W2.positionAlign=function(t,n){return bA[TA(t,n)]}(t||"center",this.TS)}},{key:"TS",get:function(){return function(t){return"middle"===t?"center":t}(this.W2.align||"middle")},set:function(t){this.W2.align=function(t){return"center"===t?"middle":t}(t||"center")}}]),n}(nx);function ex(t,n){return t.O===n.O}function ux(t,n){if(0!==n.length){var i=n.length-1;if(n[i].MS<t.MS)sx(n,i,t.MS);else{var r=n[0];if(r.MS>t.MS)t.bS=r.MS;else{var e=IC(n,t,NC);if(!(e>=0)){var u=-(e+1),s=u-1;if(s>=0)n[s].MS<t.MS&&sx(n,s,t.MS);if(u<n.length){var o=n[u];t.bS=o.MS}}}}}}function sx(t,n,i){for(var r=t[n].MS,e=n;e>=0&&t[e].MS===r;e--)t[e].bS=i}function ox(t){return EA(t)}yt(),C(),yt(),C(),pt(),Mt(),yt(),C(),yt(),C();var ax,cx,hx=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).K2=i,r}bt(n,t);var i=n.prototype;return i.fa=function(){return ox(this)},i.FS=function(t){return ex(this,t)},At(n,[{key:"O",get:function(){return this.K2}},{key:"va",get:function(){return this.Xa||(this.Xa=this.fa()),this.Xa}}]),n}(KC);function fx(t){switch(t){case 0:case 1:case 2:case 3:return!0}return!1}function vx(t){switch(t){case 0:return cc;case 1:return lc;case 2:return dc;case 3:return kc}}function lx(t,n){var i=n.Ku,r=t.byteLength,e=Ec(t);return n.KA(r-i),jc(e,i,r).buffer}function dx(t,n){return{id:t||"",data:n instanceof ArrayBuffer?n:void 0}}function gx(t,n,i){var r=Xa(t,n);if(fx(r)){var e=vx(r);return{id:i,language:oc(t,n,3),description:e(t,n),text:e(t,n)}}}function wx(t,n,i){var r=Xa(t,n);if(fx(r)){var e=vx(r);return{id:i,mimeType:cc(t,n),fileName:e(t,n),description:e(t,n),data:lx(t,n)}}}function yx(t,n,i){var r=Xa(t,n);if(fx(r)){for(var e=vx(r),u=[];n.Ku<t.byteLength;)u.push({involvement:e(t,n),involvee:e(t,n)});return{id:i,entries:u}}}function mx(t,n,i){var r=Xa(t,n);if(fx(r)){for(var e=vx(r),u=oc(t,n,3),s=Xa(t,n),o=Xa(t,n),a=e(t,n),c=!1,h=[];n.Ku<t.byteLength;){var f=void 0;if(1===r){var v=vc(t,n);void 0===v?v=c:c=v,f=dc(t,n,v)}else f=e(t,n);if(!f||n.Ku+4>t.byteLength)break;h.push({text:f,timestamp:ic(t,n)})}return{id:i,language:u,format:s,contentType:o,description:a,entries:h}}}function Ax(t,n,i){return{id:i,ownerIdentifier:cc(t,n),identifier:lx(t,n)}}function px(t,n,i){var r=Xa(t,n);if(fx(r)){var e=vx(r);return{id:i,language:oc(t,n,3),description:e(t,n),text:e(t,n)}}}function _x(t,n,i){var r=Xa(t,n);if(fx(r))return{id:i,text:vx(r)(t,n)}}function kx(t,n,i){return{id:i,url:cc(t,n)}}function bx(t,n,i){var r=Xa(t,n);if(fx(r)){var e=vx(r);return{id:i,description:e(t,n),text:e(t,n)}}}function Mx(t,n,i){var r=Xa(t,n);if(fx(r))return{id:i,description:vx(r)(t,n),url:cc(t,n)}}function Tx(t,n,i){switch(i){case"COM":return gx(t,n,i);case"GEO":return wx(t,n,i);case"IPL":return yx(t,n,i);case"PIC":return function(t,n,i){var r=Xa(t,n);if(fx(r)){var e,u,s=vx(r),o=oc(t,n,3),a=Xa(t,n),c=s(t,n);return"--\x3e"===o?(e=o,u=cc(t,n)):(e="image/"+o.toLowerCase(),u=lx(t,n)),{id:i,mimeType:e,pictureType:a,description:c,data:u}}}(t,n,i);case"SLT":return mx(t,n,i);case"TXX":return bx(t,n,i);case"UFI":return Ax(t,n,i);case"ULT":return px(t,n,i);case"WXX":return Mx(t,n,i);default:if("T"===i.charAt(0))return _x(t,n,i);if("W"===i.charAt(0))return kx(t,n,i)}}function Nx(t,n,i){switch(i){case"APIC":return function(t,n,i){var r=Xa(t,n);if(fx(r)){var e=vx(r),u=cc(t,n);return{id:i,mimeType:u,pictureType:Xa(t,n),description:e(t,n),data:"--\x3e"===u?cc(t,n):lx(t,n)}}}(t,n,i);case"COMM":return gx(t,n,i);case"COMR":return function(t,n,i){var r=Xa(t,n);if(fx(r)){var e,u,s=vx(r),o=cc(t,n),a=oc(t,n,8),c=cc(t,n),h=Xa(t,n),f=s(t,n),v=s(t,n);return n.Ku<t.byteLength&&(e=cc(t,n)||"image/",u=lx(t,n)),{id:i,price:o,validUntil:a,contactURL:c,receivedAs:h,nameOfSeller:f,description:v,pictureMimeType:e,sellerLogo:u}}}(t,n,i);case"GEOB":return wx(t,n,i);case"IPLS":return yx(t,n,i);case"PRIV":return function(t,n,i){return{id:i,ownerIdentifier:cc(t,n),data:lx(t,n)}}(t,n,i);case"POSS":return function(t,n,i){return{id:i,format:Xa(t,n),position:ic(t,n)}}(t,n,i);case"SYLT":return mx(t,n,i);case"TXXX":return bx(t,n,i);case"UFID":return Ax(t,n,i);case"USER":return function(t,n,i){var r=Xa(t,n);if(fx(r)){var e=vx(r);return{id:i,language:oc(t,n,3),text:e(t,n)}}}(t,n,i);case"USLT":return px(t,n,i);case"WXXX":return Mx(t,n,i);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return _x(t,n,i);default:var r=i.charAt(0);if("T"===r)return _x(t,n,i);if("W"===r)return kx(t,n,i)}}yt(),C(),yt(),C(),function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(ax||(ax={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(cx||(cx={}));var Dx=10;function Ix(t,n){return(127&Xa(t,n))<<21|(127&Xa(t,n))<<14|(127&Xa(t,n))<<7|127&Xa(t,n)}function Ex(t,n){switch(t){case 4:return{J2:Wa(n,0),t4:Wa(n,1),i4:Wa(n,2),e4:Wa(n,3)};case 3:return{J2:Wa(n,0),t4:Wa(n,1),i4:Wa(n,2)};case 2:return{J2:Wa(n,0),s4:Wa(n,1)}}}function Sx(t,n,i){switch(i.Gy){case 3:i.Vy.t4&&function(t,n){var i=n.Ku,r=ic(t,n)+4,e=32768&tc(t,n);n.JA(i+r),e&&ic(t,n)}(t,n);break;case 4:i.Vy.t4&&function(t,n){var i=n.Ku,r=Ix(t,n);n.JA(i+r)}(t,n)}}function Lx(t,n){if(t.byteLength-n.Ku<Dx)return null;if(73!==Xa(t,n)||68!==Xa(t,n)||51!==Xa(t,n))return null;var i=Xa(t,n),r=Xa(t,n);if(!function(t){switch(t){case 2:case 3:case 4:return!0}return!1}(i))return null;var e=Xa(t,n),u=Ix(t,n);return{Gy:i,n4:r,Vy:Ex(i,e),r4:u}}function jx(t,n,i){switch(i){case 2:return function(t,n){if(!(n.Ku+6>t.byteLength))return{o:oc(t,n,3),By:Ja(t,n,3)}}(t,n);case 3:return function(t,n){if(!(n.Ku+10>t.byteLength)){var i=oc(t,n,4),r=ic(t,n);Xa(t,n);var e=Xa(t,n);return{o:i,By:r,Vy:{s4:Wa(e,0),o4:Wa(e,1),groupingIdentity:Wa(e,2)}}}}(t,n);case 4:return function(t,n){if(!(n.Ku+10>t.byteLength)){var i=oc(t,n,4),r=Ix(t,n);Xa(t,n);var e=Xa(t,n);return{o:i,By:r,Vy:{groupingIdentity:Wa(e,1),s4:Wa(e,4),o4:Wa(e,5),J2:Wa(e,6),h4:Wa(e,7)}}}}(t,n)}}function Cx(t){for(var n=Ec(t),i=new p(n.byteLength),r=0,e=0;e<n.byteLength;e++){var u=n[e];255===u&&e++,i[r]=u,r++}return Ic(jc(i,0,r))}function xx(t,n){var i=n||new Oc,r=Lx(t,i);if(!r)return null;var e=function(t,n,i){var r=[],e=n.Ku,u=Dc(t,e,e+i.r4),s=new Oc;switch(n.KA(i.r4),i.Gy){case 2:case 3:i.Vy.J2&&(u=Cx(u))}Sx(t,n,i);for(;s.Ku<u.byteLength;){var o=Ox(u,s,i);if(void 0===o)break;r.push(o)}return r}(t,i,r);return{zy:r,a4:e}}function Ox(t,n,i){var r=jx(t,n,i.Gy);if(void 0!==r&&0!==r.o.charCodeAt(0)&&0!==r.By){var e,u,s=n.Ku,o=Dc(t,s,s+r.By);switch(n.KA(r.By),i.Gy){case 2:var a=r;e=Tx(u=o,new Oc,a.o);break;case 3:var c=r,h=new Oc;!function(t,n,i){var r,e,u,s=i.Vy;s.s4&&(r=ic(t,n)),s.o4&&(e=Xa(t,n)),s.groupingIdentity&&(u=Xa(t,n))}(o,h,c),e=Nx(u=Dc(o,h.Ku,o.byteLength),new Oc,c.o);break;case 4:var f=r,v=new Oc;f.Vy.J2&&(o=Cx(o)),function(t,n,i){var r,e,u,s,o=i.Vy;o.groupingIdentity&&(r=Xa(t,n)),o.s4&&(e=ic(t,n)),o.o4&&(u=Xa(t,n)),o.h4&&(s=Ix(t,n))}(o,v,f),e=Nx(u=Dc(o,v.Ku,o.byteLength),new Oc,f.o)}if(!e){var l=Cc(Ec(u));e=dx(r.o,l.buffer)}return e}}yt(),C();function zx(t){return Rn(t)&&"org.id3"===t.type&&Rn(t.value)}function Rx(t){return function(t,n,i){return _x(t,n,i)}(new DataView(t.data),new Oc,t.key)}function Bx(t){switch(t.key){case"APIC":case"PIC":return function(t){return{id:t.key,mimeType:t.type,pictureType:16,description:t.info,data:t.data}}(t);case"GEOB":case"GEO":return function(t){return{id:t.key,mimeType:t.type,fileName:t.name,description:t.info,data:t.data}}(t);case"PRIV":return function(t){return{id:t.key,ownerIdentifier:t.info,data:t.data}}(t);case"TXXX":case"TXX":return function(t){return{id:t.key,description:t.info,text:t.data}}(t);case"WXXX":case"WXX":return function(t){return{id:t.key,description:t.info,url:t.data}}(t);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return Rx(t);default:var n=t.key.charAt(0);if("T"===n)return function(t){return{id:t.key,text:t.data}}(t);if("W"===n)return function(t){return{id:t.key,url:t.data}}(t)}return function(t){return dx(t.key,t.data)}(t)}yt(),C(),yt(),C();var Px=function(t){function n(n,i,r){var e;return void 0===r&&(r=!0),(e=t.call(this)||this).S2=[],e.j2=[],e.CU=A_.Ch,e.h2=yA.NONE,e.P2=void 0,e.z2=mA.DEFAULT,e.w4=!1,e.m4=0,e.S4=function(){e.c4(),e.aS.removeEventListener("cuechange",e.S4)},e.v4=function(){e._v!==A_.Ch&&(e.T4(),e.Y2(),e.S2.length&&e.l4(yA.LOADING))},e.N4=function(){e.l4(yA.LOADED)},e.I4=function(){e.l4(yA.ERROR)},e.aS=n,e.g4=r,e.aS.addEventListener("cuechange",e.S4),e.aS.addEventListener("cuechange",e.v4),e.u4=i,e.u4&&(e.P2=cy(e.u4.src),e.u4.addEventListener("load",e.N4),e.u4.addEventListener("error",e.I4)),e.cS=oA(),e.lS=n.label||"",e.I2=new jC(e.S2),e.N2=new jC(e.j2),e._v=e.d4,Wo((function(){e.v4(),e.l4(yA.NONE)})),e}bt(n,t);var i=n.prototype;return i.fa=function(){return B_(this)},i.lE=function(t){t.Lt!==this&&(t.Lt=this,this.aS.addCue(t.W2),this.v4())},i.gD=function(t){t.Lt===this&&(t.Lt=void 0,this.aS.removeCue(t.W2),this.v4())},i.D2=function(t){var n,i=null==(n=this.aS.cues)?void 0:n.getCueById(t);if(i){var r=Ux(i);return r&&Un(r)?r[0]:r}},i.wD=function(t){this.m4>=t||(this.m4=t,ek(this,t))},i.c4=function(){var t=this._v;this._4||t!==A_.Jn?this.d4=t:this.d4=A_.vv},i.A4=function(){var t=this._v,n=this.d4;t!==n&&(this._4||t!==A_.Jn||n!==A_.vv)&&("metadata"===this.zt&&n===A_.Ch?this._v=t:this.w4&&n===A_.Ch&&t===A_.Jn?this.d4=t:this._v=n)},i.u2=function(t){this.h2!==t&&(this.h2=t,this.Co(new CC(this,t)))},i.l4=function(t){var n=w.max(this.h2,this.f4,t);this.u2(n)},i.y4=function(t){var n=Ux(t);if(n)return n;if(Un(n=this.M4(t)))for(var i=0;i<n.length;i++){n[i].Lt=this}else n.Lt=this;return t.THEOplayerTextTrackCue=n,n},i.M4=function(t){return t.endTime<this.m4?[]:zx(t)?(this.Av=mA.ID3,function(t){var n;try{n=Bx(t.value)}catch(t){n=dx("")}return new hx(t,n)}(t)):function(t){return t&&t.data instanceof ArrayBuffer}(t)?(this.Av=mA.ID3,function(t){var n=[];try{var i=xx(new DataView(t.data));if(i)for(var r=0,e=i.a4;r<e.length;r++){var u=e[r];n.push(new hx(t,u))}}catch(t){}return n}(t)):function(t){return"text"in t}(t)?(this.Av=mA.WEBVTT,function(t){return"regionId"in t}(t)?new rx(t):new ix(t)):new KC(t)},i.b4=function(t){var n=[];if(!t)return n;for(var i=t.length,r=0;r<i;r++){var e,u=this.y4(null!=(e=t[r])?e:t.item(r));if(Un(u))for(var s=0;s<u.length;s++){var o=u[s];n.push(o)}else n.push(u)}return n},i.T4=function(){for(var t=this.b4(this.aS.cues),n=LC(this.S2,t),i=0,r=n.T2;i<r.length;i++){var e=r[i];e.fn(kA.pS,this.v4),e.fn(kA.mS,this.v4),this.Co(new PC(e))}for(var u=0,s=n.b2;u<s.length;u++){var o=s[u];o.yn(kA.mS,this.v4),o.yn(kA.pS,this.v4),this.Co(new RC(o))}},i.Y2=function(){for(var t=this.b4(this.aS.activeCues),n=LC(this.j2,t),i=0,r=n.T2;i<r.length;i++){r[i].ro=!1}for(var e=0,u=n.b2;e<u.length;e++){u[e].ro=!0}(n.b2.length||n.T2.length)&&this.Co(new qC(this))},i.mv=function(t){this._v=t},i.gn=function(){this.Vo();for(var t=this.S2.slice(),n=0;n<t.length;n++){t[n].gn()}po(this.S2),po(this.j2),this.aS.removeEventListener("cuechange",this.S4),this.aS.removeEventListener("cuechange",this.v4),this.u4&&(this.u4.removeEventListener("load",this.N4),this.u4.removeEventListener("error",this.I4),cu(this.u4))},At(n,[{key:"q",get:function(){return this.N2}},{key:"_E",get:function(){return this.u4?this.u4.default:void 0}},{key:"L",get:function(){return this.I2}},{key:"va",get:function(){return this.Xa||(this.Xa=this.fa()),this.Xa}},{key:"o",get:function(){return this.aS.id||this.u4&&this.u4.id||""}},{key:"Xw",get:function(){return this.cS}},{key:"fv",get:function(){return this.aS.inBandMetadataTrackDispatchType||""}},{key:"zt",get:function(){return this.aS.kind||Q_.HA}},{key:"kh",get:function(){return this.lS},set:function(t){t!==this.lS&&(this.lS=t,void 0!==this.u4&&(this.u4.label=t),this.Co(new eA(this)))}},{key:"gs",get:function(){return this.aS.language||""}},{key:"_v",get:function(){return this.CU},set:function(t){var n=this._v;this.CU=z_(t),this.c4();var i=this._v;n!==i&&this.Co(new iA(this)),i!==A_.Ch&&this.l4(yA.LOADING)}},{key:"d4",get:function(){return z_(this.aS.mode)},set:function(t){this.aS.mode=t}},{key:"dS",get:function(){return this.aS}},{key:"Sg",get:function(){return this.h2}},{key:"f4",get:function(){return this.u4?+this.u4.readyState||yA.NONE:yA.LOADED}},{key:"yv",get:function(){return this.P2}},{key:"Av",get:function(){return this.z2},set:function(t){this.z2!==t&&(this.z2=t,this.Co(new OC(this)))}},{key:"_4",get:function(){return this.g4},set:function(t){var n=this;this.g4=t,t&&(this.w4=!0,a((function(){n.w4=!1}),50)),this.c4()}}]),n}($o);function Ux(t){return null==t?void 0:t.THEOplayerTextTrackCue}yt(),C(),Mt(),yt(),C();function Qx(t,n){return uo(t.GN,n.GN)||function(t,n){return t.Lt===n.Lt?eo(SC(t),SC(n)):ik(t.Lt,n.Lt)}(t.yS,n.yS)||function(t,n){return t===n?Js.Zr:t===kA.mS?Js.$f:Js.Jf}(t.type,n.type)}var Yx=function(){function t(t,n){var i=this;this.Dl=[],this.L4=0,this.An=0,this.D4=[],this.Y4=[],this.x4=[],this.C4=!1,this.O4=!1,this.j4=0,this.X4=function(){i.L4=0,i.K4(),i.V4()},this.J4=function(){i.K4(),i.V4()},this.t3=function(){i.C4=!0,i.J4()},this.i3=function(){i.O4=!0,i.j4=0,i.E4()},this.e3=function(){i.K4(),i.V4()},this.R4=function(){i.P4(),i.K4(),i.V4()},this.U4=function(t){var n=t.yS;mo(i.Y4,n)||i.Y4.push(n),i.q4(n),i.G4()},this.Q4=function(t){var n=t.yS;go(i.D4,n),go(i.Y4,n),i.q4(n),i.G4()},this.F4=function(t){i.q4(t.yS),i.G4()},this.H4=n,this.Qo=t,t.yn(Al.fm,this.J4),t.yn(Al.jh,this.t3),t.yn(gk.Sm,this.J4),t.yn(Al.Sh,this.J4),t.yn(Al.im,this.i3),t.yn(Al.$v,this.e3),this.G4()}var n=t.prototype;return n.tr=function(){po(this.D4);for(var t=0,n=this.Dl.slice();t<n.length;t++){var i=n[t];this.it(i)}this.E4(),this.L4=0,this.An=0,po(this.x4),this.C4=!1,this.O4=!1,this.j4=0},n.tt=function(t){mo(this.Dl,t)||(this.Dl.push(t),t.yn(gm.ra,this.R4),t._v!==A_.Ch&&this.P4())},n.it=function(t){go(this.Dl,t)&&(t.fn(gm.ra,this.R4),t._v!==A_.Ch&&this.P4())},n.P4=function(){var t=this.x4,n=this.Dl.filter((function(t){return t._v!==A_.Ch}));this.x4=n;for(var i=0;i<t.length;i++){var r=t[i];mo(n,r)||this.z4(r)}for(var e=0;e<n.length;e++){var u=n[e];mo(t,u)||this.B4(u)}this.j4=0},n.B4=function(t){if(t.yn(gm.lw,this.U4),t.yn(gm.fw,this.Q4),t.yn(gm.gw,this.F4),t.L.U>0){for(var n=0,i=t.L.Rw;n<i.length;n++){var r=i[n];this.Y4.push(r)}this.G4()}},n.z4=function(t){if(t.fn(gm.lw,this.U4),t.fn(gm.fw,this.Q4),t.fn(gm.gw,this.F4),t.L.U>0){for(var n=0,i=t.L.Rw;n<i.length;n++){var r=i[n];go(this.D4,r),go(this.Y4,r)}this.G4()}},n.V4=function(){this.Qo.Eg||this.Qo.fg?this.E4():this.G4()},n.G4=function(){this.C4&&0!==this.x4.length&&(this.j4-this.Qo.U_>.25*this.Qo.gg||this.L4||(this.L4=this.H4.W4(this.X4)))},n.E4=function(){this.L4&&(this.H4.Z4(this.L4),this.L4=0)},n.q4=function(t){0!==this.j4&&(t.ro!==TC(t,this.Qo.U_)?this.j4=0:this.An<t.MS&&t.MS<this.j4?this.j4=t.MS:this.An<t.bS&&t.bS<this.j4&&(this.j4=t.bS))},n.K4=function(){if(this.C4&&0!==this.x4.length&&!this.Qo.Eg){var t=this.x4,n=this.An,i=this.Qo.U_,r=i-n<-.1,e=this.O4||r;e&&i>n&&i-n<.1&&(e=!1),this.O4=!1;for(var u=[],s=1/0,o=0;o<t.length;o++){var a=t[o],c=a.Y2(i,e);c<s&&(s=c);for(var h=0,f=a.q.Rw;h<f.length;h++){var v=f[h];u.push(v)}}var l=this.D4.slice();if(e);else for(var d=0;d<t.length;d++){nk(t[d],n-qi,i,l)}for(var g=l.length-1;g>=0;g--)mo(u,l[g])&&wo(l,g);var y=[];if(!e)for(var m=l.length-1;m>=0;m--){var A=l[m];A.MS>n&&A.bS<=i&&(y.push(A),wo(l,m))}for(var p=0,_=this.Y4;p<_.length;p++){go(y,_[p])}po(this.Y4);for(var k=[],b=[],M=0;M<y.length;M++){var T=y[M];T.ro||k.push(new YC(T,T.MS)),k.push(new GC(T,w.max(T.MS,T.bS))),T.ro=!1}for(var N=0;N<l.length;N++){var D=l[N];D.ro&&(k.push(new GC(D,w.max(D.MS,D.bS))),D.ro=!1)}for(var I=0;I<u.length;I++){var E=u[I];E.ro||(k.push(new YC(E,E.MS)),E.ro=!0)}k.sort(Qx);for(var S=0;S<k.length;S++){var L=k[S],j=L.yS;j.Co(L);var C=j.Lt;C&&(L.type===kA.mS?C.Co(new WC(j)):C.Co(new ZC(j)),mo(b,C)||b.push(C))}b.sort(ik);for(var x=0;x<b.length;x++){var O=b[x];O.Co(new qC(O))}this.An=i,this.D4=u,this.j4=s}},n.gn=function(){this.tr(),this.Qo.fn(Al.fm,this.J4),this.Qo.fn(Al.jh,this.t3),this.Qo.fn(gk.Sm,this.J4),this.Qo.fn(Al.Sh,this.J4),this.Qo.fn(Al.im,this.i3),this.Qo.fn(Al.$v,this.e3)},t}();yt(),C();var Fx=function(){function t(){}var n=t.prototype;return n.W4=function(t){return oS(t)},n.Z4=function(t){aS(t)},t}(),Gx=new Fx,Vx=function(t){function n(n,i){return void 0===i&&(i=Gx),t.call(this,n,i)}return bt(n,t),n}(Yx);yt(),C(),Xt(),pt(),Mt(),yt(),C(),pt(),Mt();var Wx=function(t){function n(n,i,r){return t.call(this,n,1/0,i,!1,r)}return bt(n,t),n.prototype.FS=function(t){return ex(this,t)},At(n,[{key:"va",get:function(){return this.Xa||(this.Xa=ox(this)),this.Xa}}]),n}(BA);yt(),C(),Mt(),yt(),C(),Mt();var Xx=function(t){function n(n,i,r){return void 0===r&&(r=mA.DEFAULT),t.call(this,Q_.ZA,"",i||"","",!1,r,!1,n)}return bt(n,t),n}(QC),Zx=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Av=mA.ID3,r}bt(n,t);var i=n.prototype;return i.lE=function(n){ux(n,this.S2),t.prototype.lE.call(this,n)},i.fa=function(){return B_(this)},n}(Xx),Hx=function(t){function n(n){var i;return(i=t.call(this,n.inBandMetadataTrackDispatchType,n.label)||this).m4=0,i.v4=function(){i._v!==A_.Ch&&(i.T4(),i.l4(yA.LOADED))},i.aS=n,i.aS.addEventListener("cuechange",i.v4),i._v=i.d4,Wo((function(){i.v4()})),i}bt(n,t);var i=n.prototype;return i.Xo=function(n){t.prototype.Xo.call(this,n),this.d4=this._v},i.lE=function(n){t.prototype.lE.call(this,n),n.W2.track!==this.aS&&this.aS.addCue(n.W2)},i.gD=function(n){t.prototype.gD.call(this,n),n.W2.track===this.aS&&this.aS.removeCue(n.W2)},i.wD=function(t){this.m4>=t||(this.m4=t,ek(this,t))},i.l4=function(t){this.Sg=w.max(this.Sg,t)},i.T4=function(){var t=this.aS.cues;if(t){for(var n=t.length,i=[],r=[],e=0;e<n;e++){var u,s=null!=(u=t[e])?u:t.item(e);if(zx(s)&&s.endTime>=this.m4){var o,a=null!=(o=null==s?void 0:s.THEOplayerTextTrackCue)?o:new Kx(s);i.push(a)}else r.push(s)}no(i,NC);for(var c=LC(this.L.Rw.slice(),i),h=0;h<r.length;h++){var f=r[h];this.aS.removeCue(f)}for(var v=0,l=c.T2;v<l.length;v++){var d=l[v];d.gn(),this.gD(d)}for(var g=0,w=c.b2;g<w.length;g++){var y=w[g];this.lE(y)}}},i.gn=function(){this.aS.removeEventListener("cuechange",this.v4),t.prototype.gn.call(this)},At(n,[{key:"o",get:function(){return this.aS.id||""}},{key:"fv",get:function(){return this.aS.inBandMetadataTrackDispatchType||""}},{key:"gs",get:function(){return this.aS.language||""}},{key:"d4",get:function(){return z_(this.aS.mode)},set:function(t){this.aS.mode=t}},{key:"dS",get:function(){return this.aS}}]),n}(Zx),Kx=function(t){function n(n){var i,r=n.startTime,e=Bx(n.value);return(i=t.call(this,r,e,n.id)||this).W2=n,i.W2.THEOplayerTextTrackCue=Wt(i),i}return bt(n,t),n.prototype.gn=function(){t.prototype.gn.call(this),this.W2.THEOplayerTextTrackCue=void 0},n}(Wx);function qx(t){return"TXXX"===t.id||"TXX"===t.id}yt(),C(),Xt(),zt(),Mt(),Ut(),yt(),C();var Jx=function(t){function n(n,i){var r;(r=t.call(this)||this).oE=n,r.n3=i,r.a3=is();var e=Wt(r);return r.oz=Ot((function(t){var n;return Rt(this,(function(i){switch(i.label){case 0:return(n=t.Lt).Av?[3,2]:[4,n.k_(gm.Dw)];case 1:i.sent(),i.label=2;case 2:if(n.Av!==mA.ID3)return[2];i.label=3;case 3:return 0!==n.L.U?[3,5]:[4,n.k_(gm.lw)];case 4:return i.sent(),[3,3];case 5:return e.o3(n),[2]}}))})),r.cz=function(t){var n=t.Lt;if(n.Av===mA.ID3&&r.a3.has(n.Xw)){var i=r.a3.get(n.Xw);r.it(i),r.oE.fE(i),n.fn(gm.lw,r.l3)}},r.l3=function(t){$x(t.yS)&&r.u3(t.yS)},r.s3(),r}bt(n,t);var i=n.prototype;return i.s3=function(){this.n3.yn(hm.hw,this.oz),this.n3.yn(hm.uw,this.cz)},i.r3=function(){this.n3.fn(hm.hw,this.oz),this.n3.fn(hm.uw,this.cz)},i.o3=function(t){var n=t.L.Rw[0];if($x(n)){var i=function(t){var n=t.match(tO);if(!n)return;return{Lt:n[1],gs:n[2]}}(n.O.description),r=i.Lt,e=i.gs;if(!this.h3(r,e)){var u=this.oE.rE(Q_.HA,t.o,r,e,!1,mA.TTML);this.tt(u),this.a3.set(t.Xw,u);for(var s=0,o=t.L.Rw;s<o.length;s++){var a=o[s];$x(a)&&this.u3(a)}t.yn(gm.lw,this.l3)}}},i.h3=function(t,n){return this.Z.Rw.some((function(i){return i.kh===t&&i.gs===n}))},i.u3=function(t){if(t.Lt)for(var n=this.a3.get(t.Lt.Xw),i=T_(t.O.text,n,{vI:0,mI:1/0,pI:t.MS}),r=0;r<i.length;r++){var e=i[r];n.lE(e)}},i.tr=function(){var n=this;return Ot((function(){var i,r,e,u,s;return Rt(this,(function(o){switch(o.label){case 0:for(i=0,r=n.n3.Rw;i<r.length;i++)r[i].fn(gm.lw,n.l3);for(e=0,u=n.Z.Rw;e<u.length;e++)s=u[e],n.oE.fE(s);return n.a3.clear(),[4,t.prototype.tr.call(n)];case 1:return o.sent(),[2]}}))}))()},i.gn=function(){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return n.r3(),[4,t.prototype.gn.call(n)];case 1:return i.sent(),[2]}}))}))()},n}(sk);function $x(t){return function(t){return qx(t)&&tO.test(t.description)}(t.O)}var tO=/^Track:(.+),Lang:(.+)$/;yt(),C(),zt(),pt(),Mt(),Ut(),yt(),C(),pt(),Mt();var nO=function(t){function n(n){var i;return(i=t.call(this,Al.Nv)||this).errorObject=n,i}return bt(n,t),At(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(ra);yt(),C(),zt(),pt(),Mt(),Ut(),yt(),C(),zt(),Mt(),Ut(),yt(),C(),Mt();var iO=function(t){function n(n){var i;return(i=t.call(this,Al.Iv)||this).d3=n,i}return bt(n,t),n}(ra);yt(),C(),Mt();var rO=function(t){function n(n){var i;return(i=t.call(this,"wm")||this).d3=n,i}return bt(n,t),n}(ra),eO=new el,uO=function(t){function n(n){var i;return(i=t.call(this,"Ws")||this).session=n,i}return bt(n,t),n}(ra),sO=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).v3=n,e.g3=i,e.w3=r,e.f3=!1,e.b3=!1,e.$O=new zo,e.hO=function(t){if(!e.$O.f_.n_)switch(t.AL){case"license-request":case"license-renewal":e.hR(t.pL,t.yL).catch((function(t){return e.Ss(t)}));break;default:e.Ss(new Xm(Xv.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.AL))}},e.y3=function(t){e.v3.JC.DL((function(t,n){switch(t){case"usable":an.A_((function(){e.b3=!0,e.Co(new iO(n))}),100);break;case"expired":case"status-pending":default:break;case"output-restricted":case"internal-error":e.Co(new rO(n))}}))},e.M3=function(t){e.Ss(new Xm(Xv.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},n.yn("pL",e.hO),n.yn("vL",e.y3),n.yn("lt",e.M3),n.XC.then((function(){return e.A3()}),(function(t){return e.Ss(t)})),e}bt(n,t);var i=n.prototype;return i.sO=function(){var t=this;return this.f3=!0,eO.JO((function(n){return t._3(n)}),this.$O.f_)},i._3=function(t){var n=this;return Ot((function(){var i,r,e,u;return Rt(this,(function(s){switch(s.label){case 0:return s.trys.push([0,4,,5]),Po(t),[4,n.g3.$j(t)];case 1:return s.sent(),[4,n.g3.tR(n.w3.fL,n.w3.SL,t)];case 2:return i=s.sent(),[4,n.v3.sO(n.w3.fL,n.w3.SL,i)];case 3:return s.sent(),[3,5];case 4:throw Uo(r=s.sent()),e=r instanceof Yc?r.RL:void 0,u=new Xm(Xv.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",r,void 0,void 0,void 0,void 0,e),n.Ss(u),u;case 5:return[2]}}))}))()},i.hR=function(t,n){var i=this;return Ot((function(){var r,e,u,s,o,a;return Rt(this,(function(c){switch(c.label){case 0:return c.trys.push([0,5,,6]),function(t){return Ta(t,Pc())}(t)?[4,i.g3.wR(new p(t),i.$O.f_)]:[3,2];case 1:return r=c.sent(),[3,4];case 2:return[4,i.g3.vR(new p(t),n,i.$O.f_)];case 3:r=c.sent(),c.label=4;case 4:return[3,6];case 5:if(Bo(e=c.sent()))return[2];throw e;case 6:if(i.$O.f_.n_)return[2];u=i.m3,s=new Bc,i.m3=s,c.label=7;case 7:return c.trys.push([7,10,11,14]),[4,i.v3.Yn(r)];case 8:return c.sent(),[4,Ko(100)];case 9:return c.sent(),[3,14];case 10:throw o=c.sent(),a=o instanceof Yc?o.RL:void 0,new Xm(Xv.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",o,void 0,void 0,void 0,void 0,a);case 11:return void 0===u?[3,13]:[4,u.OL];case 12:c.sent(),c.label=13;case 13:return s.LL(),i.m3===s&&(i.m3=void 0),[7];case 14:return[2]}}))}))()},i.Ss=function(t){var n=t instanceof Xm?t:new Xm(Xv.CONTENT_PROTECTION_ERROR,t.message,t);this.Co(new nO(n)),this.Ws()},i.A3=function(){this.v3.fn("pL",this.hO),this.v3.fn("vL",this.y3),this.v3.fn("lt",this.M3),this.b3=!1,this.$O.g_(),this.Co(new uO(this))},i.Ws=function(){var t=this;return Ot((function(){var n;return Rt(this,(function(i){switch(i.label){case 0:t.Vo(),i.label=1;case 1:return void 0===(n=t.m3)?[3,3]:[4,n.OL];case 2:i.sent(),i.label=3;case 3:if(t.m3!==n)return[3,1];i.label=4;case 4:return t.A3(),[4,t.v3.Ws().catch(Kn)];case 5:return i.sent(),[2]}}))}))()},n}($o);yt(),C();var oO=[Al.Iv,Al.Nv,Al.gm],aO=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).L3=[],e.N3=void 0,e.E3=[],e.x3=function(t){t.session.fn(oO,e.Ds),t.session.fn("Ws",e.x3),go(e.L3,t.session)},e.Fp=n,e.cO=i,e.T3=r,e}bt(n,t);var i=n.prototype;return i.Jj=function(){return this.T3.Jj()},i.S3=function(t){return this.N3||(this.N3=this.I3(t)),this.N3},i.I3=function(t){var n=this;return Ot((function(){var i;return Rt(this,(function(r){switch(r.label){case 0:return Po(t),[4,n.T3.wR(new p(Pc()),t)];case 1:if(i=r.sent(),Po(t),!n.cO)throw new v("Invalid MediaKeys when setting ServerCertificate");return[4,n.cO.lO(i.buffer)];case 2:return r.sent(),[2]}}))}))()},i.D3=function(t){var n=this;return Ot((function(){var i,r;return Rt(this,(function(e){switch(e.label){case 0:if(!n.cO)throw new v("Invalid MediaKeys when creating KeySession");e.label=1;case 1:return e.trys.push([1,,3,4]),n.E3.push(t),[4,n.cO.uO("temporary")];case 2:return i=e.sent(),r=new sO(i,n.T3,t),n.L3.push(r),r.yn(oO,n.Ds),r.yn("Ws",n.x3),[2,r];case 3:return go(n.E3,t),[7];case 4:return[2]}}))}))()},i.C3=function(t){if(t.O3)return!1;for(var n=0,i=this.L3;n<i.length;n++){if(cO(i[n].w3,t))return!0}for(var r=0,e=this.E3;r<e.length;r++){if(cO(e[r],t))return!0}return!1},i.gn=function(){var t=this;return Ot((function(){var n;return Rt(this,(function(i){switch(i.label){case 0:return t.cO=void 0,t.Vo(),n=t.L3.slice(),po(t.L3),[4,q.all(n.map((function(t){return t.Ws()})))];case 1:return i.sent(),t.T3.h_(),[2]}}))}))()},At(n,[{key:"Qp",get:function(){return this.Fp}}]),n}($o);function cO(t,n){return!t.O3&&t.fL===n.fL&&Ta(t.SL,n.SL)}var hO=function(t){function n(n){var i;return(i=t.call(this)||this).$O=new zo,i.XZ=new el,i.GO=void 0,i.T3=void 0,i.yz=void 0,i.Fp=void 0,i.H3=function(t){i.Q3(t.fL,t.SL,i.$O.f_).catch((function(t){return i.Ss(t)}))},i.Fm=n,i.Fm.yn(ia.Cv,i.H3),i}bt(n,t);var i=n.prototype;return i.$n=function(t,n){this.yz=t,this.GZ(n)},i.GZ=function(t){this.GO=t,this.R3(this.$O.f_).catch(Qo)},i.R3=function(t){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return an.Ys.P3?[4,n.z3(t)]:[3,2];case 1:if(i.sent())return[2];i.label=2;case 2:return n.GO&&n.GO.B3?[4,n.U3(t)]:[3,4];case 3:return[2,i.sent()];case 4:return[2]}}))}))()},i.z3=function(t){var n=this;return Ot((function(){var i,r,e,u,s,o,a,c,h,f,v;return Rt(this,(function(l){switch(l.label){case 0:if(!(null==(i=n.GO)?void 0:i.Iz))return[2,!1];e=!1,s=0,o=null!=(u=null==(r=n.GO)?void 0:r.Iz)?u:[],l.label=1;case 1:if(!(s<o.length))return[3,9];a=o[s],h=0,f=null!=(c=a.KP)?c:[],l.label=2;case 2:if(!(h<f.length))return[3,7];v=f[h],l.label=3;case 3:return l.trys.push([3,5,,6]),[4,n.Q3(a.Qp.fL,v,t)];case 4:return l.sent(),e=!0,[3,6];case 5:return Uo(l.sent()),[3,6];case 6:return h++,[3,2];case 7:if(e)return[2,!0];l.label=8;case 8:return s++,[3,1];case 9:return[2,!1]}}))}))()},i.Q3=function(t,n,i){var r=this;return Ot((function(){var e,u,s,o,a,c,h,f,v,l;return Rt(this,(function(d){switch(d.label){case 0:if(Po(i),!n.byteLength)return[2];if(!r.GO||!r.GO.Iz.length)throw new Xm(Xv.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");if(t!==fs&&t!==ls&&t!==vs)return[2];e=pb(t,n),u=r.GO.Iz,o=0,d.label=1;case 1:if(!(o<u.length))return[3,11];if(a=u[o],Po(i),!(c=e[a.Qp._L])||a.Qp.fL!==t)return[3,10];d.label=2;case 2:return d.trys.push([2,9,,10]),[4,r.F3(a,i)];case 3:return(h=d.sent()).Jj()?[4,h.S3()]:[3,5];case 4:d.sent(),d.label=5;case 5:return f=r.Fm.K_,v={fL:a.Qp.fL,SL:c,O3:f},r.Y3(h,v)?[4,h.D3(v)]:[3,8];case 6:return[4,d.sent().sO()];case 7:d.sent(),d.label=8;case 8:return[2];case 9:return Uo(l=d.sent()),s=l,[3,10];case 10:return o++,[3,1];case 11:return[4,an.IO()];case 12:throw d.sent()?new Xm(Xv.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",s):new Xm(Xv.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",s)}}))}))()},i.U3=function(t){var n=this;return Ot((function(){var i,r,e,u,s;return Rt(this,(function(o){switch(o.label){case 0:if(!(r=null==(i=n.GO)?void 0:i.Iz))return[2];e=0,o.label=1;case 1:if(!(e<r.length))return[3,8];u=r[e],Po(t),o.label=2;case 2:return o.trys.push([2,6,,7]),[4,n.F3(u,t)];case 3:return(s=o.sent()).Jj()?[4,s.S3()]:[3,5];case 4:o.sent(),o.label=5;case 5:return[2];case 6:return Uo(o.sent()),[3,7];case 7:return e++,[3,1];case 8:return[2]}}))}))()},i.Y3=function(t,n){return an.Ys.G3||this.Fm.Hm.Wm||!t.C3(n)},i.F3=function(t,n){var i=this;return this.XZ.JO((function(n){return i.V3(t,n)}),n)},i.V3=function(t,n){var i=this;return Ot((function(){var r,e,u,s,o;return Rt(this,(function(a){switch(a.label){case 0:if(Po(n),!i.GO||!i.T3||!i.yz)throw new v("Not initialized");if(i.Fp){if(i.Fp.Qp!==t.Qp)throw new v("Internal key system error");return[2,i.Fp]}return r=i.T3,e=$u({},t,{Kz:t.Kz.map((function(n){var i;return $u({},n,{persistentState:null!=(i=n.persistentState)?i:r.IR(t.Qp),kO:n.kO||r.kO(t.Qp)})}))}),[4,i.yz.UZ(e.Qp,e.Kz)];case 1:return u=a.sent(),s=r.qP(e),(o=new aO(e.Qp,u,s)).yn([Al.Iv,Al.Nv,Al.gm],i.Ds),i.Fp=o,[2,o]}}))}))()},i.Ss=function(t){if(!Bo(t)){var n=t instanceof Xm?t:new Xm(Xv.CONTENT_PROTECTION_ERROR,t.message,t);this.Co(new nO(n))}},i.tr=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return t.yz=void 0,t.GO=void 0,t.$O.g_(),t.$O=new zo,[4,t.W3()];case 1:return n.sent(),[2]}}))}))()},i.W3=function(){var t=this;return Ot((function(){var n;return Rt(this,(function(i){switch(i.label){case 0:return[4,t.XZ.g_()];case 1:return i.sent(),(n=t.Fp)?(n.fn(Al.gm,t.Ds),t.Fp=void 0,[4,n.gn()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))()},i.h_=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return t.Vo(),t.Fm.fn(ia.Cv,t.H3),[4,t.tr()];case 1:return n.sent(),[4,t.XZ.gn()];case 2:return n.sent(),[2]}}))}))()},At(n,[{key:"j3",get:function(){var t;return null==(t=this.Fp)?void 0:t.Qp}},{key:"Qz",get:function(){return this.T3},set:function(t){this.T3=t}}]),n}($o);yt(),C();yt(),C(),Mt();var fO=function(t){function n(n){var i;return(i=t.call(this,Al.Fv)||this).currentTime=n,i}return bt(n,t),n}(ra);yt(),C(),pt(),Mt();var vO=function(t){function n(n){var i;return(i=t.call(this)||this).q3=n,i}bt(n,t);var i=n.prototype;return i.u2=function(){var t;null==(t=this.X3)||t.u2()},i.tr=function(){var t;null==(t=this.X3)||t.tr()},i.h_=function(){this.Vo(),void 0!==this.X3&&(this.X3.h_(),this.X3=void 0)},i.Z3=function(t){if(this.X3!==t){var n=this.Sg;void 0!==this.X3&&this.X3.h_(),this.X3=t,void 0!==t&&(t.yn(gk.Nw,this.Ds),t.u2());var i=this.Sg;n!==i&&this.Co(new Ak(this.q3.U_,i))}},At(n,[{key:"Sg",get:function(){return void 0!==this.X3?this.X3.Sg:mk.BT}}]),n}($o),lO=xn.Sk||xn.Ik,dO=xn.uL,gO=xn.zk,wO=xn.zk&&xn.Ga,yO=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).vz=void 0,u.EB=!0,u.yz=void 0,u.n6=new el,u.e5=void 0,u.dU=new JD,u.X5=[],u.s5=void 0,u.j5=0,u.O5=NaN,u.i5=void 0,u.l6=void 0,u.s6=0,u.aU=!1,u.n2=!1,u.V6=mk.BT,u.u5=0,u.x5=q.resolve(),u.L5=new zo,u.D5=[],u.Uo=HD.oU(),u.l5=void 0,u.f5=1,u.w5=!1,u.g5=1,u.J3=!1,u.d6=!1,u.f6=!1,u.P5=!1,u.r5=!1,u.o5=!1,u.t5=!1,u.Q6=!1,u.g6=0,u.v5=!1,u.Z5=function(t){var n=t.track,i=u.i6(n);if(!AO(u.H5,n)){if(xn.zk){if(n.kind===Q_.ZA)return void u.J5(n);if(n.kind===Q_.sD&&""===n.label&&""===n.language&&!pO(n))return void u.t6(n,i)}u.H5.tt(new Px(n,i))}},u.q5=function(t){var n=AO(u.H5,t.track);n&&u.H5.it(n)},u.K5=function(){for(var t=0;t<u.H5.U;t++){var n=u.H5.zw(t);n instanceof Px&&n.A4()}},u.o6=function(){if(void 0!==u.yz&&jL(u.yz)){var t=u.yz,n=t.I1,i=t.D1;if(n&&i)if(t.oq)u.u6();else if(t.Sg!==oC.m0){var r=n.O_,e=i.O_;if(0!==r.U||0!==e.U){var s=u.U_;if(s<r.Cn(0)||s<e.Cn(0))u.u6();else if(r.gr(s)!==e.gr(s)){if(t.cq(s))return;u.a6()}else{if(u.u6(),!u.g6&&u.T5.w2())r.GB(e).ZB(s,s+.5)&&(u.g6=oS(u.W6))}}else u.u6()}}},u.W6=function(){u.g6=0,u.o6()},u.h6=function(){if(!u.Eg&&!u.s2&&!(u.a5.Sg>=mk.QT)&&void 0!==u.yz&&jL(u.yz)){var t=u.yz,n=t.I1,i=t.D1;if(n&&i){var r=u.U_,e=n.O_,s=i.O_;if(e.gr(r)&&s.gr(r))e.GB(s).ZB(r-5,r)&&(u.t5?u.u6():u.c6())}}},u.y6=function(){u.Co(new yD(u.U_))},u.M6=function(){u.k5(new Ro),u.Co(new wD(u.U_))},u.m6=function(){u.S5(),u.Co(new Tk(u.U_))},u.I6=function(){u.d5()},u.E6=function(){u.Co(new mD(u.ct))},u.T6=function(){u.Co(new UL(u.U_))},u.S6=function(){u.Co(new YL)},u.b6=function(){var t=u.U_,n=u.Eg,i=u.a5.Sg<mk.QT&&!u.G_,r=void 0!==u.l6,e=r&&u.l6!==t;u.e6(),(n||!r||e&&!i)&&u.G5()},u.N6=function(){!u.J3&&u.G_&&(u.J3=!0,u.Co(new pD(u.U_)))},u.L6=function(){if(null!==u.lj.error){var t,n=u.lj.error;u.rB(new Zm(null!=(t=n.code)?t:Wm.DECODE,n.message||"Error decoding media",void 0,n.msExtendedCode))}},u.x6=function(){u.d6&&(u.v6(),u.f6=!0)},u.H6=function(t){if(an.p_(u.u5),u.u5=0,t.readyState<=mk.UT)if(u.aU||u.n2){var n=an.m_()-u.j5;if(n<250)return void(u.u5=an.A_((function(){return u.H6(t)}),250-n))}else if(void 0!==u.yz&&u.yz.cq(u.U_))return void(u.u5=an.A_((function(){return u.H6(t)}),250));u.V6!==t.readyState&&(u.V6=t.readyState,u.Co(t))},u.D6=function(){u.c5()},u.k6=function(){u.Rg>0&&u.Cg>0&&u.Co(new wk)},u.C6=function(t){u.Co(new ca(t.initDataType,t.initData||new ArrayBuffer(0)))},u.O6=function(){u.Co(new ha)},u.P6=function(t){var n=t.initData,i=n?Cc(n).buffer:new ArrayBuffer(0);u.Co(new ca(fs,i))},u.j6=function(t){if(t.initData){var n=function(t){try{var n=Ic(t),i=new Oc;return mc(Ac(Ha(n,i,ic(n,i,!0)),!0))}catch(t){return}}(t.initData);if(!n)return;u.Co(new ca(ls,n))}else u.Co(new ca(ls,new ArrayBuffer(0)))},u.R6=function(t){var n=t.initData,i=n?Cc(n).buffer:new ArrayBuffer(0);u.Co(new ca(fs,i))},u.M5=function(){u.S5()},u.b5=function(t){u.k5(t)},u.X6=function(t){u.Co(t),t.type===Al.Nv&&u.rB(Km(t.errorObject))},u.lj=n,u.SO=i,u.Wu=r,u.mU=e,u.a5=new vO(Wt(u)),u.a5.yn(gk.Nw,u.H6),u.a5.Z3(new AC(Wt(u))),u.T5=new bC(Wt(u)),u.T5.yn(gk.Sm,u.m6),u.VZ=new hO(Wt(u)),u.VZ.yn([Al.Iv,Al.Nv,Al.gm],u.X6),u.Dl=new Y_,u.H5=new Y_,u.A6=new bT([u.Dl,u.H5]),u.p6=new Jx(Wt(u),u.A6),u.V5=new bT([u.A6,u.p6.Z]),u.W5=new Vx(Wt(u)),u._6(),u.Jz(),u}bt(n,t);var i=n.prototype;return i.K3=function(){this.pz.ended||this.U_===this.ct||(this.J3=!1)},i.n5=function(){return void 0!==this.s5&&this.ct===this.s5},i.d5=function(){var t=this.gg;this.f5!==t&&(this.f5=t,this.Co(new AD(this.U_,t)))},i.c5=function(){var t=this.zg,n=this.og;this.g5===t&&this.w5===n||(this.g5=t,this.w5=n,this.Co(new bD(this.U_,this.zg)))},i.rg=function(){return fL(this.lj)},i.Xg=function(){this.v5||(this.v5=!0);var t=this.m5();return this.A5(),t},i.A5=function(){this.r5?this.o5&&(this.o5=!1,this.Co(new yD(this.U_))):this.y5()},i.y5=function(){if(this.e5)this.e5.Xg();else{xn.zk&&!xn.Ga&&this.lj.preload===FD.yB&&(this.lj.preload=FD.ZA);var t=this.gg,n=this.lj.play();t!==this.pz.playbackRate&&(this.gg=t),Vn(n)?n.then(this.M5,this.b5):this.T5.w2()&&this.S5()}},i.Hg=function(){this.r5?this.o5||(this.o5=!0,this.Co(new wD(this.U_))):this.N5()},i.N5=function(){this.e5?this.e5.Hg():(this.lj.pause(),this.T5.Yn()),this.I5(new Ro)},i.m5=function(){var t=new Bc;return this.D5.push(t),t.OL},i.E5=function(){for(var t=0,n=this.D5;t<n.length;t++){n[t].LL(void 0)}po(this.D5)},i.I5=function(t){for(var n=0,i=this.D5;n<i.length;n++){i[n].xL(t)}po(this.D5)},i.S5=function(){this.r5||this.e5||this.E5()},i.k5=function(t){this.r5||this.e5||this.I5(t)},i.JA=function(t,n,i){void 0===n&&(n=!1),void 0===i&&(i=!1),this.e5?this.e5.JA(t,n,i):(this.L5.g_(),this.L5=new zo,this.x5=this.C5(t,n,i,this.x5,this.L5.f_).catch(Kn))},i.gz=function(t){var n=this.Mz;if(n&&!A(n.getTime())){var i=(t.getTime()-n.getTime())/1e3;this.JA(i)}},i.C5=function(t,n,i,r,e){var u=this;return Ot((function(){var s,o,a,c,h;return Rt(this,(function(f){switch(f.label){case 0:return f.trys.push([0,9,,10]),s=function(){var t,i,r,s,f,v;return Rt(this,(function(l){switch(l.label){case 0:return(a=u.Ig).U>0&&!a.gr(o)&&(o=a.zB(o),c=!0),n&&!u.lj.fastSeek&&((t=u.O_).gr(o)||(i=sC(t,o,1))!==o&&(o=i,c=!0)),gO&&void 0!==(r=u.B5())&&o>r&&(o=r,c=!0),h?[3,3]:void 0!==(s=u.U5())&&o>s?(h=!0,[4,u.Q5(s,!1,e)]):[3,3];case 1:return l.sent(),[4,Fy(u.lj,"seeked",e)];case 2:l.sent(),Po(e),c=!0,l.label=3;case 3:return c?(c=!1,[4,u.Q5(o,n,e)]):[3,7];case 4:l.sent(),Po(e),f=u.U_,a=u.Ig,o=a.zB(o),v=1,l.label=5;case 5:return w.abs(o-f)>=qi?(a=u.Ig,o=function(t,n,i){void 0===i&&(i=0);if(!n.U)return 0;var r=n.zB(t),e=mO*i;r===n.Cn(0)?r+=e:r===n.jn(n.U-1)&&(r-=e);return r}(o,a,v),[4,u.Q5(o,n,e)]):[3,7];case 6:return l.sent(),Po(e),f=u.U_,v++,[3,5];case 7:return u.lj.seeking||u.a5.Sg<mk.UT?[4,Go((function(t){var n;return q.race([Fy(u.lj,"seeked",t),u.k_([Al.Zv,Al.Lv],t),u.a5.k_(gk.Nw,t),null==(n=u.yz)?void 0:n.k_(OL.EQ,t)].filter(Rn))}),e)]:[2,"break"];case 8:return l.sent(),Po(e),[2]}}))},u.s5=t,u.O5=t,u.j5=an.m_(),i&&!u.aU?u.n2=!0:(u.aU=!0,u.n2=!1),u.J3&&!u.n5()&&(u.J3=!1),u.n2?u.Co(new vC(u.U_)):u.Co(new _D(t)),[4,r.catch(Kn)];case 1:return f.sent(),Po(e),u.yz&&!u.yz.lq()?(u.R5(),[2]):(u.P5&&u.z5(),u.a5.Sg!==mk.BT?[3,3]:[4,u.a5.k_(gk.Nw,e)]);case 2:f.sent(),f.label=3;case 3:return 0===u.lj.seekable.length||wO&&!u.v5?[4,q.race([Fy(u.lj,"timeupdate",e),Ko(100,e)])]:[3,5];case 4:return f.sent(),Po(e),[3,3];case 5:o=sC(u.O_,t,.05),a=u.Ig,c=!0,h=!1,f.label=6;case 6:return[5,Bt(s())];case 7:return"break"===f.sent()?[3,8]:[3,6];case 8:return u.R5(),[3,10];case 9:return Bo(f.sent())?[2]:[3,10];case 10:return[2]}}))}))()},i.Q5=function(t,n,i){var r=this;return Ot((function(){var e,u,s;return Rt(this,(function(o){switch(o.label){case 0:if(Po(i),e=r.Ig,t=e.zB(t),!r.P5)return[3,4];u=!0,o.label=1;case 1:return u||r.a5.Sg<mk.QT?((e=r.Ig).gr(t)||(t=e.zB(t),u=!0),u?(u=!1,r.s5=t,r.F5(r.U_),[3,1]):[4,Go((function(t){return q.race([r.k_(Al.Lv,t),r.a5.k_(gk.Nw,t)])}),i)]):[3,3];case 2:return o.sent(),[3,1];case 3:Po(i),o.label=4;case 4:return s=Fy(r.lj,"seeking",i),n&&r.lj.fastSeek?r.lj.fastSeek(t):r.lj.currentTime=t,r.s5=void 0,r.F5(r.U_),r.lj.seeking?[4,s]:[3,6];case 5:o.sent(),o.label=6;case 6:return[2]}}))}))()},i.B5=function(){if(this.yz&&this.yz.oq){var t=this.yz.hq,n=this.yz.aq,i=t&&n?t.Sn(n):t||n;if(i&&0!==i.U){var r=i.Cn(i.U-1),e=i.jn(i.U-1);return w.max(r,e-.001)}}},i.U5=function(){if(this.yz&&this.yz.oq){var t=this.yz.aq;if(t&&0!==t.U){var n=t.Cn(t.U-1),i=t.jn(t.U-1)-.02;return i-=.001,w.max(n,i)}}},i.F5=function(t){this.O5!==t&&(this.O5=t,this.n2?this.Co(new vC(t)):this.Co(new _D(t)))},i.R5=function(){var t=this.n2;this.aU=!1,this.n2=!1,this.j5=0,this.O5=NaN,this.P5&&this.Y5(),t?(this.Co(new fO(this.U_)),this.G5()):this.Co(new kD(this.U_))},i.z5=function(){this.r5||(this.o5=this.fg,this.r5=!0,this.N5())},i.Y5=function(){this.r5&&(this.r5=!1,this.o5||this.A5())},i.dq=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.Av===dk.Tj&&PL.dq(i,this.lj))return i;if(i.Av===dk.Sj&&hC.dq(i))return i}},i.be=function(){this.EB=!1,Nu(this.lj)&&(this.lj.style.display="none")},i.ge=function(){this.EB=!0,Nu(this.lj)&&(this.lj.style.display="block")},i.rE=function(t,n,i,r,e,u,s,o,a){var c=new QC(t,n,i,r,e,u,s,a,o);return this.Dl.tt(c),this.W5.tt(c),c},i.Cz=function(){return!0},i.jz=function(t,n,i,r,e){var s=u.createElement("track");s.src=cy(t),s.kind=n,s.label=null!=i?i:"",r&&(s.srclang=r),s.default=!!e,s.id=XE(),this.lj.appendChild(s);var o=this.lj.textTracks.getTrackById(s.id),a=new Px(o,s);return this.H5.tt(a),this.X5.push(a),a},i.fE=function(t){this.Dl.it(t),this.W5.it(t)},i.Pz=function(){for(var t=0,n=this.Dl.Rw.slice();t<n.length;t++){n[t].gn()}this.Dl.tr();for(var i=0,r=this.X5.slice();i<r.length;i++){var e=r[i];this.H5.it(e),e.gn()}po(this.X5)},i.Jz=function(){var t=this.lj.textTracks;t&&t.addEventListener&&(t.addEventListener("addtrack",this.Z5),t.addEventListener("removetrack",this.q5),t.addEventListener("change",this.K5))},i.Uz=function(){var t=this.lj.textTracks;t&&t.removeEventListener&&(t.removeEventListener("addtrack",this.Z5),t.removeEventListener("removetrack",this.q5),t.removeEventListener("change",this.K5))},i.J5=function(t){t.mode=A_.vv;var n=new Hx(t);this.H5.tt(n),this.W5.tt(n)},i.t6=function(t,n){var i=this,r=function(){pO(t)&&(t.removeEventListener("cuechange",r),i.H5.tt(new Px(t,n)))};t.addEventListener("cuechange",r),t.mode=A_.vv},i.i6=function(t){for(var n=this.lj.getElementsByTagName("track"),i=0;i<n.length;i++){var r=n[i]||n.item(i);if(r.track===t)return r}},i.e6=function(){if(0!==this.H5.U){var t=this.Ig;if(0!==t.U){var n=t.Cn(0);if(this.s6!==n){for(var i=0,r=this.H5.Rw;i<r.length;i++){r[i].wD(n)}this.s6=n}}}},i.$n=function(t){var n=this;return this.n6.JO(Ot((function(i){var r,e;return Rt(this,(function(u){switch(u.label){case 0:if(Po(i),n.yz)throw new v("Already loaded a media source");if(t.Av===dk.Tj)r=new PL(t,n,n.VZ,n.SO),n.P5=!1,n.a5.Z3(n.r6());else{if(t.Av!==dk.Sj)throw new v("Unsupported configuration");n.P5=lO,e=n.r6(),r=new hC(t,n,e,n.VZ,n.SO,void 0,n.N1),n.a5.Z3(e),dO&&(n.yn(Al.fm,n.o6),n.a5.yn(gk.Nw,n.h6))}return n.yz=r,[4,r.oX()];case 1:return u.sent(),[2,r]}}))})))},i.r6=function(){return this.P5?new pC(this):new AC(this)},i.a6=function(){if(!this.t5){var t=this.gg;this.t5=!0,this.gg=t,this.lj.playbackRate=0,this.a5&&this.a5.u2()}},i.u6=function(){if(this.t5){var t=this.gg;this.t5=!1,this.gg=t,this.c6()}},i.c6=function(){this.lj.currentTime=this.lj.currentTime,this.a5&&this.a5.u2()},i.tr=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return t.aU=!1,t.n2=!1,an.p_(t.u5),t.u5=0,t.Uo=HD.oU(),t.L5.g_(),t.s5=void 0,t.O5=NaN,t.i5=void 0,t.P5=!1,t.r5=!1,t.vz=void 0,t.J3=!1,t.l6=void 0,t.s6=0,t.d6=!1,t.v5=!1,t.f6&&(t._6(),t.f6=!1),t.I5(new Ro),t.a5.Z3(new AC(t)),t.T5.tr(),t.H5.tr(),t.u6(),dO&&(aS(t.g6),t.g6=0,t.fn(Al.fm,t.o6)),[4,t.n6.g_()];case 1:return n.sent(),[4,t.n6.JO(Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return t.yz?[4,t.yz.h_()]:[3,2];case 1:n.sent(),t.yz=void 0,xn.wk&&xn.pk<3&&t.w6(),n.label=2;case 2:return[2]}}))})))];case 2:return n.sent(),[2]}}))}))()},i.w6=function(){this.v6();var t=this.lj,n=t.parentElement,i=t.tagName.toLowerCase();this.lj=oR(i),this.retainMediaElementState(t),aR(t),null==n||n.replaceChild(this.lj,t),this._6(),this.a5.Z3(this.r6()),this.T5.fn(gk.Sm,this.m6),this.T5.h_(),this.T5=new bC(this),this.T5.yn(gk.Sm,this.m6),this.EB?this.ge():this.be(),this.Co(new xD),this.Co(new OD)},i.retainMediaElementState=function(t){this.pz.muted=t.muted,this.pz.volume=t.volume},i.h_=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return t.f6=!1,t.v6(),t.Uz(),[4,t.tr()];case 1:return n.sent(),[4,t.n6.gn()];case 2:return n.sent(),t.T5.h_(),t.a5.h_(),[4,t.VZ.h_()];case 3:return n.sent(),t.Pz(),t.Dl.gn(),t.H5.gn(),[4,t.p6.gn()];case 4:return n.sent(),t.A6.gn(),t.V5.gn(),t.Vo(),[2]}}))}))()},i._6=function(){this.pz.addEventListener("play",this.y6),this.pz.addEventListener("pause",this.M6),this.pz.addEventListener("timeupdate",this.b6),this.pz.addEventListener("progress",this.T6),this.pz.addEventListener("loadstart",this.S6),this.pz.addEventListener("ended",this.N6),this.pz.addEventListener("ratechange",this.I6),this.pz.addEventListener("volumechange",this.D6),this.pz.addEventListener("durationchange",this.E6),this.pz.addEventListener("resize",this.k6),this.pz.addEventListener("loadedmetadata",this.k6),this.pz.addEventListener("error",this.L6),this.pz.addEventListener("emptied",this.x6),Ks()?(this.lj.addEventListener("encrypted",this.C6),this.lj.addEventListener("waitingforkey",this.O6)):void 0!==ru.WebKitMediaKeys&&"function"==typeof ru.WebKitMediaKeys.isTypeSupported?this.lj.addEventListener("webkitneedkey",this.j6):qs()?this.lj.addEventListener("webkitneedkey",this.R6):void 0!==ru.MSMediaKeys&&"function"==typeof ru.MSMediaKeys.isTypeSupported&&this.lj.addEventListener("msneedkey",this.P6)},i.v6=function(){this.pz.removeEventListener("play",this.y6),this.pz.removeEventListener("pause",this.M6),this.pz.removeEventListener("timeupdate",this.b6),this.pz.removeEventListener("progress",this.T6),this.pz.removeEventListener("loadstart",this.S6),this.pz.removeEventListener("ended",this.N6),this.pz.removeEventListener("ratechange",this.I6),this.pz.removeEventListener("volumechange",this.D6),this.pz.removeEventListener("durationchange",this.E6),this.pz.removeEventListener("resize",this.k6),this.pz.removeEventListener("loadedmetadata",this.k6),this.pz.removeEventListener("error",this.L6),this.pz.removeEventListener("encrypted",this.C6),this.pz.removeEventListener("waitingforkey",this.O6),this.pz.removeEventListener("webkitneedkey",this.j6),this.pz.removeEventListener("webkitneedkey",this.R6),this.pz.removeEventListener("msneedkey",this.P6),this.pz.removeEventListener("emptied",this.x6)},i.z6=function(){this.e5||(this.Uo=this.pg,this.e5=gC(this),this.v6(),this.e5.yn(lC,this.Ds))},i.B6=function(){if(this.e5){var t=this.e5;this.e5=void 0,this.a5.u2(),wC(this,t),t.h_(),this._6()}},i.G5=function(){var t=this.U_;this.Co(new om(t,void 0)),this.l6=t},i.rB=function(t){this.vz=t,this.I5(this.vz),this.Co(new MC(this.vz))},i.F6=function(){this.U6||(hR(this.lj,an.Ys),this.Q6=!0)},i.Y6=function(t){t.appendChild(this.lj)},i.I0=function(){dO&&this.o6(),this.a5.u2()},i.$g=function(){this.VZ.W3().catch(Kn),this.H5.tr()},At(n,[{key:"l2",get:function(){return this.t5}},{key:"O_",get:function(){return this.yz?this.yz.O_:HD.oU()}},{key:"R_",get:function(){var t=this.Mz;if(t&&!A(t.getTime())){var n=1e3*this.U_;return new Date(t.getTime()+n)}}},{key:"Mz",get:function(){if(this.pz.getStartDate)return this.aU&&this.i5||(this.i5=this.pz.getStartDate()),this.i5}},{key:"U_",get:function(){return this.e5?this.e5.U_:void 0!==this.s5?this.s5:this.lj.currentTime}},{key:"Iu",get:function(){return this.Wu}},{key:"ct",get:function(){return this.e5?this.e5.ct:this.yz?this.yz.ct:this.lj.duration}},{key:"G_",get:function(){return this.Eg?this.n5():this.e5?this.e5.G_:this.lj.ended||this.J3}},{key:"lt",get:function(){return this.vz}},{key:"pz",get:function(){return this.lj}},{key:"fg",get:function(){return this.r5?this.o5:this.e5?this.e5.fg:this.lj.paused}},{key:"pg",get:function(){return this.Uo.YB(HD.xn(this.lj.played))}},{key:"Ti",get:function(){return this.lj.offsetHeight*an.Ys.h5}},{key:"ji",get:function(){return this.lj.offsetWidth*an.Ys.h5}},{key:"ya",get:function(){return this.dU}},{key:"Sg",get:function(){return this.a5.Sg}},{key:"Ig",get:function(){return this.yz?this.yz.Ig:HD.oU()}},{key:"Eg",get:function(){return this.e5?this.e5.Eg:this.aU}},{key:"s2",get:function(){return this.e5?this.e5.s2:this.n2}},{key:"g2",get:function(){return 0!==this.u5}},{key:"og",get:function(){return this.e5?this.e5.og:this.lj.muted},set:function(t){this.e5?this.e5.og=t:(this.lj.muted=t,this.c5())}},{key:"gg",get:function(){return this.e5?this.e5.gg:void 0!==this.l5?this.l5:this.lj.playbackRate},set:function(t){this.e5?this.e5.gg=t:this.fg||this.t5?(this.l5=t,this.d5()):(this.l5=void 0,this.lj.playbackRate=t,this.d5())}},{key:"_5",get:function(){return this.EB}},{key:"zg",get:function(){return this.e5?this.e5.zg:this.lj.volume},set:function(t){this.e5?this.e5.zg=t:(this.lj.volume=t,this.c5())}},{key:"nt",get:function(){return this.V5}},{key:"Ol",get:function(){return this.mU}},{key:"K_",get:function(){return!!this.lj.webkitCurrentPlaybackTargetIsWireless}},{key:"U6",get:function(){return this.Q6}},{key:"Hm",get:function(){return $u({},LL)}},{key:"Qz",get:function(){return this.VZ.Qz},set:function(t){this.VZ.Qz=t}},{key:"G6",get:function(){return this.N1},set:function(t){this.N1=t}},{key:"j3",get:function(){return this.VZ.j3}},{key:"Yg",get:function(){return this.d6},set:function(t){this.d6=t,this.f6&&!this.d6&&(this.f6=!1,this._6())}}]),n}($o);var mO=.01;function AO(t,n){for(var i=0,r=t.Rw;i<r.length;i++){var e=r[i];if(e.dS===n)return e}}function pO(t){return!!t.cues&&t.cues.length>0}yt(),C(),pt(),Mt();var _O={mZ:void 0,pZ:void 0,AZ:void 0,yZ:void 0,MZ:void 0,bZ:void 0,DZ:void 0,TZ:void 0,SZ:void 0,NZ:void 0,IZ:void 0},kO=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Xa=void 0,n}return bt(n,t),At(n,[{key:"va",get:function(){return this.Xa||(this.Xa=ML(this)),this.Xa}},{key:"mZ",get:function(){}},{key:"pZ",get:function(){}},{key:"AZ",get:function(){}},{key:"yZ",get:function(){}},{key:"MZ",get:function(){}},{key:"bZ",get:function(){}},{key:"DZ",get:function(){}},{key:"TZ",get:function(){}},{key:"SZ",get:function(){}},{key:"NZ",get:function(){}},{key:"IZ",get:function(){}}]),n}($o),bO=function(t){function n(n,i,r){return t.call(this,n,i,r,new kO)}return bt(n,t),n.prototype.Vg=function(){},At(n,[{key:"Cg",get:function(){return 0}},{key:"Rg",get:function(){return 0}}]),n}(yO);yt(),C(),zt(),pt(),Mt(),Ut(),yt(),C(),pt();var MO=function(){function t(t){void 0===t&&(t=5);var n=ru.document.createElement("div");n.className="theoplayer-texttracks",n.style.position="absolute",n.style.display="none",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.width="100%",n.style.height="100%",n.style.lineHeight="1.3em",n.style.zIndex=""+t,this.Z6=n,this.ge()}var n=t.prototype;return n.be=function(){this.Z6.style.display="none"},n.ge=function(){this.Z6.style.display="block"},n.Y6=function(t){t.appendChild(this.Z6)},n.gn=function(){cu(this.Z6)},At(t,[{key:"we",get:function(){return this.Z6}}]),t}();function TO(t,n){return $u({},n,Dm(function(t){return{mZ:t.mZ,pZ:t.pZ,AZ:t.AZ,yZ:t.yZ,MZ:t.MZ,bZ:t.bZ,DZ:t.DZ,TZ:t.TZ,SZ:t.SZ,NZ:t.NZ,IZ:t.IZ}}(t)))}function NO(t){return t.AZ&&Ps(t.AZ,"%")?Number(t.AZ.replace("%",""))/100:t.AZ&&Ps(t.AZ,"em")?Number(t.AZ.replace("em","")):1}yt(),C(),pt(),yt(),C(),Mt(),Vt(),Ct(),yt(),C(),pt(),yt(),C(),yt(),C(),pt();var DO,IO,EO,SO=function(){function t(t,n,i,r){this.K6=t,this.t9=n,this.ji=i,this.Ti=r}var n=t.prototype;return n.i9=function(t){return this.K6<t.q6&&this.q6>t.K6&&this.t9<t.J6&&this.J6>t.t9},n.oS=function(t){return this.K6<=t.K6&&t.q6<=this.q6&&this.t9<=t.t9&&t.J6<=this.J6},n.$A=function(){return new t(this.K6,this.t9,this.ji,this.Ti)},n.e9=function(n){return new t(this.K6+n,this.t9+n,w.max(0,this.ji-2*n),w.max(0,this.Ti-2*n))},n.s9=function(n){var i=w.min(this.K6,n.K6),r=w.max(this.q6,n.q6),e=w.min(this.t9,n.t9);return new t(i,e,r-i,w.max(this.J6,n.J6)-e)},At(t,[{key:"q6",get:function(){return this.K6+this.ji},set:function(t){this.K6=t-this.ji}},{key:"J6",get:function(){return this.t9+this.Ti},set:function(t){this.t9=t-this.Ti}}]),t}(),LO=function(){function t(t,n,i,r,e){var u=this;this.m9=is(),this.C9=!0,this.c9=$u({},_O),this.j9=[],this.p9=function(t){return u.lE(t.yS)},this.A9=function(t){return u.gD(t.yS)},this.y9=function(){return u.k9()},this.T9=function(t){return u.D9(t.yS)},this.S9=function(t){return u.E9(t.yS)},this.N9=function(t){return u.O9(t.yS)},this.d9=function(t){return u.re(t.width,t.height)},this.CS=t,this._9=this.a9=e,this.lj=this.U9(i),this.Wu=r,n.appendChild(this.lj)}var n=t.prototype;return n.n9=function(t){var n=this.r9(t);if(!n)return!1;for(var i=0;i<n.length;i++){cu(n[i])}return this.o9(t),!0},n.oX=function(){var t=this;this.l9(),this.CS.L.Rw.forEach((function(n){return t.lE(n)})),this.Iu.yn(fS.pn,this.d9),this.re(this.Iu.ku,this.Iu._u)},n.f9=function(t){this.c9=t,this.a9=TO(this.c9,this._9),this.a9.mZ&&(this.pz.style.fontFamily=this.a9.mZ),this.a9.DZ&&(this.pz.style.visibility=this.a9.DZ),this.re(this.Iu.ku,this.Iu._u),this.g9(!0)},n.w9=function(){return this.a9},n.v9=function(t){return this.m9.has(t.Xw)},n.l9=function(){this.CS.yn(gm.lw,this.p9),this.CS.yn(gm.fw,this.A9),this.CS.yn(gm.ra,this.y9)},n.M9=function(){this.CS.fn(gm.lw,this.p9),this.CS.fn(gm.fw,this.A9),this.CS.fn(gm.ra,this.y9)},n.b9=function(t){t.yn(kA.mS,this.T9),t.yn(kA.pS,this.S9),t.yn(kA.Lw,this.N9)},n.I9=function(t){t.fn(kA.mS,this.T9),t.fn(kA.pS,this.S9),t.fn(kA.Lw,this.N9)},n.lE=function(t){this.b9(t),t.ro&&this.D9(t)},n.gD=function(t){this.I9(t),this.E9(t)},n.k9=function(){this.CS._v===A_.Jn?this.L9():this.x9()},n.L9=function(){if(this.C9){this.C9=!1;var t=this.Iu.ku,n=this.Iu._u;this.re(t,n),this.g9(!1)}},n.x9=function(){this.C9||(this.C9=!0,this.g9(!0))},n.D9=function(t){this.C9||t.ro&&!this.v9(t)&&this.g9(!1)},n.E9=function(t){this.v9(t)&&this.g9(!0)},n.O9=function(t){(t.ro||this.v9(t))&&this.g9(!0)},n.g9=function(t){var n=this.j9,i=this.C9?[]:this.CS.q.Rw.slice();this.R9(i,n,t),this.j9=i},n.r9=function(t){return this.m9.get(t.Xw)},n.P9=function(t,n){this.m9.set(t.Xw,n)},n.o9=function(t){this.m9.delete(t.Xw)},n.z9=function(t){var n=[],i=this.a9;if(void 0!==i.TZ){var r=t.$A();r.Ti=i.TZ,n.push(r)}if(void 0!==i.SZ){var e=t.$A();e.Ti=i.SZ,e.J6=t.J6,n.push(e)}return n},n.B9=function(){return this.j9.slice()},n.gn=function(){var t=this;cu(this.pz),this.m9.clear(),this.M9(),this.CS.L.Rw.forEach((function(n){return t.I9(n)})),this.Iu.fn(fS.pn,this.d9)},At(t,[{key:"Lt",get:function(){return this.CS}},{key:"pz",get:function(){return this.lj}},{key:"Iu",get:function(){return this.Wu}},{key:"h9",get:function(){return this.a9}},{key:"u9",get:function(){return this.c9}}]),t}();function jO(t,n,i,r,e){var u=t.$A(),s=u,o=1,a=!1,c=m(getComputedStyle(n).lineHeight)/4;if(!A(c)&&c>0){for(var h=0;h<i.length&&!a;h++){for(;!zO(t,r,i[h],.01)&&(!r.oS(t)||CO(t,e));)OO(t,i[h],c);if(r.oS(t)){s=t.$A(),a=!0;break}var f=RO(t,r);o>f&&(s=t.$A(),o=f),t=u.$A()}r.oS(t)||(s=u.$A())}n.style.left=(s.K6-r.K6)/r.ji*100+"%",n.style.top=(s.t9-r.t9)/r.Ti*100+"%"}function CO(t,n){return n.some((function(n){return t.i9(n)}))}function xO(t){return new SO(t.left,t.top,t.width,t.height)}function OO(t,n,i){switch(n){case 0:t.K6+=i;break;case 1:t.K6-=i;break;case 2:t.t9+=i;break;case 3:t.t9-=i}}function zO(t,n,i,r){switch(i){case 0:return t.q6>n.q6+r;case 1:return t.K6<n.K6-r;case 2:return t.J6>n.J6+r;case 3:return t.t9<n.t9-r}}function RO(t,n){return w.max(0,w.min(t.q6,n.q6)-w.max(t.K6,n.K6))*w.max(0,w.min(t.J6,n.J6)-w.max(t.t9,n.t9))/(t.ji*t.Ti)}function BO(t,n){return t?{Q9:t.Q9,F9:t.F9,Y9:t.Y9,Ml:n}:null}function PO(t){var n=t?t.match(/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i):null;return n?{Q9:y(n[1],16),F9:y(n[2],16),Y9:y(n[3],16)}:null}function UO(t){return("0"+t.toString(16)).slice(-2)}function QO(t){var n=t?t.match(/^rgba\(([0-9]+),\s*([0-9]+),\s*([0-9]+),\s*([0-9.]+)\)$/i):null;return n?{Q9:y(n[1],10),F9:y(n[2],10),Y9:y(n[3],10),Ml:m(n[4])}:null}function YO(t){return FO[t||"none"]}!function(t){t[t.POS_X=0]="POS_X",t[t.NEG_X=1]="NEG_X",t[t.POS_Y=2]="POS_Y",t[t.NEG_Y=3]="NEG_Y"}(DO||(DO={})),yt(),C(),function(t){t.qc='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.Wc='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.Gc='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.Xc='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(IO||(IO={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(EO||(EO={}));var FO={none:"",dropshadow:"#222 2px 2px 3px, #222 2px 2px 4px, #222 2px 2px 5px",raised:"#222 1px 1px, #222 2px 2px, #222 3px 3px",depressed:"#ccc 1px 1px, #ccc 0px 1px, #222 -1px -1px, #222 0px -1px",uniform:"#222 -1px -1px 0, #222 1px -1px 0, #222 -1px 1px 0, #222 1px 1px 0"},GO=rs({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif"}),VO=16,WO="1.3em",XO={pZ:EO.WHITE,mZ:"Arial, Helvetica, Sans-Serif",AZ:"100%",yZ:EO.TRANSPARENT,MZ:EO.TRANSPARENT,bZ:"uniform",DZ:"visible",TZ:void 0,SZ:void 0,NZ:void 0,IZ:void 0},ZO=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,XO)}bt(n,t);var i=n.prototype;return i.U9=function(t){var n=u.createElement("div");n.className="theoplayer-ttml-texttrack-"+t;var i=n.style;return i.position="absolute",Au(i,"flex"),i.flexDirection=i.webkitFlexDirection="column",i.overflow="hidden",i.pointerEvents="none",i.top="0",i.left="0",i.width="100%",i.height="100%",i.fontSize=VO+"px",i.lineHeight=WO,n},i.re=function(t,n){var i=w.min(t/640,n/360),r=VO*i*NO(this.h9);this.pz.style.fontSize=r+"px"},i.R9=function(t,n,i){for(var r,e=0;e<n.length;e++){var u=n[e];!i&&u.ro||this.n9(u)}var s=[],o=xO(this.pz.getBoundingClientRect());(r=s).push.apply(r,jt(this.z9(o)));for(var a=0;a<t.length;a++)for(var c=t[a],h=this.G9(c,s,o),f=0;f<h.length;f++){var v=h[f];s.push(v.e9(.1))}},i.G9=function(t,n,i){var r=this.r9(t);r||(r=this.V9(t),this.P9(t,r));for(var e=0;e<r.length;e++){var u=r[e];this.pz.appendChild(u)}for(var s=[],o=[DO.POS_Y,DO.NEG_Y,DO.POS_X,DO.NEG_X],a=0;a<r.length;a++){var c=r[a];jO(oz(c),c,o,i,n),s.push(oz(c))}return s},i.V9=function(t){var n=[],i=t.II,r=t.AI,e=t.kI,s=t.O,o=t.SI,a=o?w.min(640/o.width,360/o.height):1,c=this.h9;if(0===g.keys(r).length){var h=u.createElement("div");uz(h),HO(s,i,e,h,h,a,c),KO(h,"body",c),h.firstChild&&n.push(h)}else for(var f=0,v=g.keys(r);f<v.length;f++){var l=v[f],d=u.createElement("div");d.id=l,uz(d),$O(d,"region",r[l],i,a),HO(s,i,e,d,d,a,c),KO(d,"body",c),d.firstChild&&n.push(d)}return n},i.f9=function(n){return IL(this.pz,n),t.prototype.f9.call(this,n)},n}(LO);function HO(t,n,i,r,e,s,o){if(Wy(t)&&function(t){var n=t.qI.toUpperCase();return"SPAN"===n||"P"===n||"BR"===n||"DIV"===n||"BODY"===n}(t)){var a=qO(t);if(!a||(null==e?void 0:e.id)===a){var c;if("BODY"===t.qI.toUpperCase())c=e;else{if(c=function(t){var n;switch(t.qI.toUpperCase()){case"BR":n=u.createElement("br");break;case"SPAN":sz(n=u.createElement("span")),JO(n,t);break;case"P":(function(t){sz(t);var n=t.style;n.textAlign="inherit",n.padding="0",n.margin="0"})(n=u.createElement("p")),JO(n,t);break;case"DIV":JO(n=u.createElement("div"),t)}return n}(t),!c)return;r.appendChild(c)}!function(t,n,i,r,e){var u=n.$I("style");iz(t,n.qI,u,i,r,e),function(t,n,i,r){for(var e=0,u=n.ZI;e<u.length;e++){var s=u[e];rz(t,n.qI,s.qI,s.lT,i,r)}}(t,n,r,e)}(c,t,n,e,s),function(t,n,i){var r=null==n?void 0:n.$I("smpte:backgroundImage");if(r){r=r.replace("#","");var e=i&&tz(i,(function(t){return t.ZI.some((function(t){return"id"===t.qI&&t.lT===r}))}));e&&nz(t,e,n,!0)}!function(t,n){var i=n.m[0];if(!i||"metadata"!==i.qI.toLowerCase())return;var r=i.m[0];nz(t,r,n)}(t,n)}(c,t,i),KO(c,t.qI,o);for(var h=0,f=t.iD;h<f.length;h++){HO(f[h],n,i,c,e,s,o)}}}else if(Xy(t)){var v=u.createTextNode(t.ly);if("SPAN"!==r.nodeName.toUpperCase()){var l=u.createElement("span");sz(l),KO(l,"span",o),l.appendChild(v),r.appendChild(l)}else r.appendChild(v)}}function KO(t,n,i){if(i){var r=t.style;switch(i.mZ&&(r.fontFamily=i.mZ),i.pZ&&(r.color=i.pZ),n.toLowerCase()){case"span":i.yZ&&(r.background=i.yZ);break;case"p":case"div":i.MZ&&(r.backgroundColor=i.MZ);break;case"body":i.bZ&&(r.textShadow=YO(i.bZ))}}}function qO(t){var n=t.$I("region");if("p"===t.qI.toLowerCase())return n;for(var i,r=[],e=0,u=t.m;e<u.length;e++){var s=u[e];r.push(qO(s))}return Do(r),0===r.length?n:1===r.length?null!=(i=r[0])?i:n:void 0}function JO(t,n){var i=n.tD(g_,"id");i&&(t.id=i)}function $O(t,n,i,r,e){iz(t,n,i.style,r,t,e);for(var u=0,s=g.keys(i);u<s.length;u++){var o=s[u];rz(t,n,o,i[o],t,e)}}function tz(t,n){if(n(t))return t;for(var i=0,r=t.m;i<r.length;i++){var e=tz(r[i],n);if(e)return e}return null}function nz(t,n,i,r){void 0===r&&(r=!1),r&&(t.style.width=t.style.height="100%");var e=u.createElement("img");e.src=function(t){var n=t&&t.iD.length>0?t.iD[0]:null;return n&&Xy(n)?"data:image/png;base64,"+n.ly:""}(n),e.id=t.id,e.style.height="100%",e.style.maxWidth="100%",function(t,n){var i=t.style;Au(i,"flex"),i.flexDirection=i.webkitFlexDirection="column";var r=n.$I("smpte:backgroundImageVertical"),e="center";if(r)switch(r.toLowerCase()){case"left":e="flex-start";break;case"center":e="center";break;case"right":e="flex-end";break;case"inherit":e="inherit"}i.justifyContent=i.webkitJustifyContent=e;var u=n.$I("smpte:backgroundImageHorizontal"),s="center";if(u)switch(u.toLowerCase()){case"left":s="flex-start";break;case"center":s="center";break;case"right":s="flex-end";break;case"inherit":s="inherit"}i.alignItems=i.webkitAlignItems=s}(t,i),t.appendChild(e)}function iz(t,n,i,r,e,u){if(i)for(var s=0,o=i.split(" ");s<o.length;s++){var a=o[s];if(r[a])for(var c=0,h=g.keys(r[a]);c<h.length;c++){var f=h[c];"style"===f.toLowerCase()?iz(t,n,r[a][f],r,e,u):rz(t,n,f,r[a][f],e,u)}}}function rz(t,n,i,r,e,u){var s=t.style;switch(i){case"backgroundColor":s.backgroundColor=r;break;case"color":s.color=r;break;case"direction":s.direction=r;break;case"display":"none"===r&&(s.display="none");break;case"fontFamily":var o;s.fontFamily=null!=(o=GO.get(r))?o:r;break;case"fontSize":var a=r;if(Ps(a,"px")){var c=Number(a.slice(0,-2));a=c*u/VO+"em"}else Ps(a,"c")&&(a=a.replace("c","em"));s.fontSize=a,s.lineHeight&&"inherit"!==s.lineHeight||(s.lineHeight=WO);break;case"fontStyle":s.fontStyle=r;break;case"fontWeight":s.fontWeight=r;break;case"lineHeight":var h=r;if(Ps(h,"px")){var f=Number(h.slice(0,-2));h=f*u+"px"}s.lineHeight=h;break;case"opacity":s.opacity=r;break;case"overflow":s.overflow=r;break;case"padding":s.padding=r;break;case"textAlign":s.textAlign=r;break;case"textDecoration":switch(r){case"lineThrough":s.textDecoration="line-through";break;case"underline":case"overline":s.textDecoration=r;break;case"noUnderline":case"noLineThrough":case"noOverline":s.textDecoration="none"}break;case"unicodeBidi":switch(r){case"bidiOverride":s.unicodeBidi="bidi-override";break;case"normal":case"embed":case"isolate":s.unicodeBidi=r}break;case"visibility":s.visibility=r;break;case"zIndex":s.zIndex=r;break;case"displayAlign":var v;switch(r.toLowerCase()){case"before":v="flex-start";break;case"center":v="center";break;case"after":v="flex-end";break;case"justify":v="space-between";break;default:return}s.justifyContent=s.webkitJustifyContent=v;break;case"extent":var l,d,g=ez(n.toLowerCase())?e:t,w=r.split(" ",2);2===w.length?(l=w[0],d=w[1]):l=d="100%",g&&(g.style.height=d,g.style.width=l);break;case"origin":var y=ez(n.toLowerCase())?e:t,m=Gt(r.split(" ",2),2),A=m[0],p=m[1];y&&(A||p)&&(A&&(y.style.left=A),p&&(y.style.top=p));break;case"showBackground":case"textOutline":break;case"wrapOption":switch(r){case"wrap":s.whiteSpace="normal";break;case"noWrap":s.whiteSpace="nowrap"}break;case"writingMode":var _,k,b,M;switch(r){case"lrtb":case"lr":_="horizontal-tb";break;case"rltb":_="horizontal-tb",k="rtl",M="bidi-override";break;case"tbrl":case"tb":_="vertical-rl",b="upright";break;case"tblr":_="vertical-lr",b="upright";break;case"rl":_="horizontal-tb",k="rtl";break;default:return}s.writingMode=_,s.setProperty("-webkit-writing-mode",_),k&&(s.direction=k),b&&(s.textOrientation=b,s.setProperty("-webkit-text-orientation",b)),M&&(s.unicodeBidi=M);break;case"linePadding":if(Ps(r,"c")){var T=r.replace("c","em");s.paddingLeft=s.paddingRight=T}break;case"multiRowAlign":"auto"===r.toLowerCase()?s.textAlign="":s.textAlign=r}}function ez(t){return"div"===t||"p"===t||"span"===t}function uz(t){var n=t.style;Au(n,"flex"),n.flexDirection=n.webkitFlexDirection="column",n.top="auto",n.left="5%",n.width="90%",n.height="100%",n.maxHeight="100%",n.maxWidth="100%",n.overflow="visible",n.position="absolute",n.fontFamily=XO.mZ,n.color=XO.pZ,n.textShadow=YO(XO.bZ),n.textAlign="start",n.writingMode="horizontal-tb",n.setProperty("-webkit-writing-mode","horizontal-tb"),n.padding="0",n.margin="0",n.fontSize="inherit",n.lineHeight="inherit"}function sz(t){var n=t.style;n.fontFamily="inherit",n.color="inherit",n.fontSize="inherit",n.lineHeight="inherit"}function oz(t){var n=xO(t.getBoundingClientRect());if("visible"===getComputedStyle(t).overflow&&t.scrollHeight>t.clientHeight)for(var i=t.children,r=0;r<i.length;r++){var e=i[r];n=n.s9(xO(e.getBoundingClientRect()))}return n}yt(),C(),Mt(),Vt(),Ct(),yt(),C();var az,cz,hz=void 0;function fz(t){return hz||(hz=ru.document.createElement("textarea")),hz.innerHTML=t,hz.value}function vz(t,n){for(var i="Data",r="",e=[],u=t.charAt(n.Ku),s="",o={Av:"starttag",WR:"",W9:[]};n.Ku<t.length+1;){switch(u=n.Ku<t.length?t.charAt(n.Ku):"EOF",i){case"Data":switch(u){case"&":var a=t.substring(n.Ku).match(/&#?[0-9a-zA-Z]+;/);a?(r+=fz(a[0]),n.KA(a[0].length-1)):r+="&";break;case"<":if(r)return{Av:"string",O:r};i="Tag";break;case"EOF":return{Av:"string",O:r};default:r+=u}break;case"Tag":switch(u){case"\t":case"\n":case"\f":case" ":i="StartTagAnnotation";break;case".":i="StartTagClass";break;case"/":i="EndTag";break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r=u,i="TimestampTag";break;case">":return n.KA(1),o;case"EOF":return o;default:r=u,i="StartTag"}break;case"StartTag":switch(u){case"\t":case"\f":case" ":i="StartTagAnnotation";break;case"\n":s=u,i="StartTagAnnotation";break;case".":i="StartTagClass";break;case">":return n.KA(1),{Av:"starttag",WR:r,W9:[]};case"EOF":return{Av:"starttag",WR:r,W9:[]};default:r+=u}break;case"StartTagClass":switch(u){case"\t":case"\f":case" ":e.push(s),s="",i="StartTagAnnotation";break;case"\n":e.push(s),s=u,i="StartTagAnnotation";break;case".":e.push(s),s="";break;case">":return n.KA(1),e.push(s),{Av:"starttag",WR:r,W9:e};case"EOF":return e.push(s),{Av:"starttag",WR:r,W9:e};default:s+=u}break;case"StartTagAnnotation":switch(u){case"&":i="CharRefInAnnotation";break;case">":n.KA(1);var c=s.trim();return{Av:"starttag",WR:r,W9:e,H9:c=c.replace(/\s/," ")};default:s+=u}break;case"CharRefInAnnotation":for(var h="",f=n.Ku;">"===t.charAt(f);f++)h+=t.charAt(f);s+=h||"&",i="StartTagAnnotation";break;case"EndTag":switch(u){case">":return n.KA(1),{Av:"endtag",WR:r};case"EOF":return{Av:"endtag",WR:r};default:r+=u}break;case"TimestampTag":switch(u){case">":return n.KA(1),{Av:"timestamp",X9:r};case"EOF":return{Av:"timestamp",X9:r};default:r+=u}}n.KA(1)}return o}function lz(t){var n;if(t.getBoundingClientRect&&t.parentNode&&(n=t.getBoundingClientRect()),!n)return{left:0,top:0};var i=u.documentElement,r=u.body,s=i.clientLeft||r.clientLeft||0,o=e.pageXOffset||r.scrollLeft,a=n.left+o-s,c=i.clientTop||r.clientTop||0,h=e.pageYOffset||r.scrollTop,f=n.top+h-c;return{left:w.round(a),top:w.round(f)}}function dz(t,n,i,r){if(void 0===r&&(r=0),t&&n){t.style.left="0px";var e=t.getClientRects(),u=n.getClientRects();if(0!==e.length&&0!==u.length){var s=e[0],o=u[0],a=s.width/2+s.left;gz(t,o.width/2+o.left-a,i,r)}}}function gz(t,n,i,r){void 0===r&&(r=0),wz(t,n,"left","right",i,r)}function wz(t,n,i,r,e,u){void 0===u&&(u=0);var s=t.getClientRects();if(e&&s.length>0){var o=s[0];n=Pi(n,e[i]+u-o[i],e[r]-u-o[r])}t.style[i]=n+"px"}function yz(t,n){void 0===t.textContent?t.innerText=n:t.textContent=n}!function(t){t.Z9="Data",t.q9="Tag",t.K9="StartTag",t.J9="StartTagClass",t.t8="StartTagAnnotation",t.i8="CharRefInAnnotation",t.e8="EndTag",t.s8="TimestampTag"}(az||(az={})),function(t){t.n8="string",t.r8="starttag",t.o8="endtag",t.h8="timestamp"}(cz||(cz={})),yt(),C();var mz={pZ:EO.WHITE,mZ:"sans-serif",AZ:"100%",yZ:"rgba(0,0,0,0.8)",MZ:EO.TRANSPARENT,bZ:"none",DZ:"visible",TZ:void 0,SZ:void 0,NZ:void 0,IZ:void 0},Az="theoplayer-webvtt-region-",pz="theoplayer-webvtt-styling-",_z="theoplayer-webvtt-default-style",kz=5.23,bz=1.14,Mz=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,mz)||this).l8=ns(),u.c8=Sz(3),u}bt(n,t);var i=n.prototype;return i.U9=function(t){var n=u.createElement("div");n.className="theoplayer-webvtt-texttrack-"+t,_u(n),n.style.overflow="hidden",n.style.pointerEvents="none";var i=this.h9.mZ;return i&&(n.style.fontFamily=i),n.style.whiteSpace="pre-line",function(){if(u.getElementById(_z))return;for(var t=[],n=0;n<xz.length;n++){var i=Gt(xz[n],2),r=i[0],e=i[1];t.push("."+pz+r+" { color: "+e+" !important; }"),t.push("."+pz+"a8"+r+" { background-color: "+e+" !important; }"),t.push("video::cue(."+r+") { color: "+e+"; }"),t.push("u8"+r+") { background-color: "+e+"; }")}var s=u.createElement("style");s.id=_z,s.innerHTML=t.join("\n"),u.body.appendChild(s)}(),n},i.oX=function(){this.pz.appendChild(this.c8),t.prototype.oX.call(this)},i.re=function(t,n){var i=this,r=w.min(t/100,n/100),e=NO(this.h9);this.l8.forEach((function(t){var n=t.DS,u=t.d8;i.f8(u,r,e,n)})),this.f8(this.c8,r,e)},i.f9=function(n){IL(this.pz,n),t.prototype.f9.call(this,n)},i.R9=function(t,n,i){for(var r,e=this,u=this.pz,s=this.Iu._u/100,o=[],a=0;a<t.length;a++){var c=t[a];void 0!==c.DS&&(mo(o,c.DS)||o.push(c.DS))}this.l8.forEach((function(t,n){var r=t.DS,u=t.d8;!i&&mo(o,r)||(cu(u),e.l8.delete(n))}));for(var h=0;h<n.length;h++){var f=n[h];!i&&f.ro||this.n9(f)}var v=[],l=xO(this.c8.getBoundingClientRect());(r=v).push.apply(r,jt(this.z9(l)));for(var d=0;d<o.length;d++){var g=o[d],w=void 0;this.l8.has(g.o)?w=this.l8.get(g.o).d8:(w=Lz(g,s),u.appendChild(w),this.l8.set(g.o,{DS:g,d8:w})),v.push(xO(w.getBoundingClientRect()))}t.sort(Oz);for(var y=0;y<t.length;y++){var m=t[y],A=this.G9(m,v,l);void 0!==A&&v.push(A.e9(.1))}},i.G9=function(t,n,i){var r,e;t.DS?(e=this.l8.get(t.DS.o).d8,"up"===t.DS.XS&&e.children.length>=1&&(e.style.transitionProperty="top",e.style.transitionDuration="0.433s")):e=this.c8;var u=null==(r=this.r9(t))?void 0:r[0];if(u||(u=this._8(t),this.P9(t,[u])),e.appendChild(u),t.DS||(Tz(u,t),t.ES?function(t,n,i,r){var e=jz(t),u=e?i.Ti:i.ji,s=m(getComputedStyle(n).lineHeight);if(0===s||A(s))return;var o=xO(n.getBoundingClientRect()),a=w.round(QA(t));"rl"===t.Pt&&(a=-(a+1));var c=s*a;"rl"===t.Pt&&(c=c-o.ji+s);a<0&&(c+=u,s=-s);e?o.t9+=c:o.K6+=c;var h=o.$A(),f=!1;for(;!i.oS(o)||CO(o,r);)if(e)if(s<0&&o.t9<i.t9||s>0&&o.J6>i.J6){if(o.t9=h.t9,f)break;s=-s,f=!0}else o.t9+=s;else if(s<0&&o.K6<i.K6||s>0&&o.q6>i.q6){if(o.K6=h.K6,f)break;s=-s,f=!0}else o.K6+=s;e?n.style.top=(o.t9-i.t9)/i.Ti*100+"%":n.style.left=(o.K6-i.K6)/i.ji*100+"%"}(t,u,i,n):function(t,n,i,r){var e,u=xO(n.getBoundingClientRect());if(0===u.ji||0===u.Ti)return;jz(t)?"center"===t.NS?u.t9-=u.Ti/2:"end"===t.NS&&(u.t9-=u.Ti):"center"===t.NS?u.K6-=u.ji/2:"end"===t.NS&&(u.K6-=u.ji);e=""===t.Pt?[DO.POS_Y,DO.NEG_Y,DO.POS_X,DO.NEG_X]:"lr"===t.Pt?[DO.POS_X,DO.NEG_X,DO.POS_Y,DO.NEG_Y]:[DO.NEG_X,DO.POS_X,DO.POS_Y,DO.NEG_Y];jO(u,n,e,i,r)}(t,u,i,n)),!t.DS)return xO(u.getBoundingClientRect())},i._8=function(t){for(var n=new Oc,i=t.O,r=this.g8(t),e={w8:void 0,we:r},s=e,o="",a="",c=[e],h=[],f=[];n.Ku<i.length;){var v=vz(i,n);if(v.Av===cz.n8){var l=u.createElement("span");yz(l,v.O),Nz(l,c),""!==o&&(l.lang=o),this.v8(l,a),s.we.appendChild(l)}else if(v.Av===cz.r8){var d=v.WR.toLowerCase();switch(d){case"i":case"b":case"u":case"ruby":var g=u.createElement(d);s.we.appendChild(g),s={w8:v,we:g},c.push(s);break;case"rt":var w;if("ruby"===(null==(w=s.w8)?void 0:w.WR.toLowerCase())){var y=u.createElement("rt");s.we.appendChild(y),s={w8:v,we:y},c.push(s)}break;case"c":case"v":s={w8:v,we:s.we},c.push(s);break;case"font":var m,A=null==(m=v.H9)?void 0:m.match(/(?:^| )color=["']([^"']+)/i);A&&(a=A[1],f.push(a),s={w8:v,we:s.we},c.push(s));break;case"lang":var p;o=null!=(p=v.H9)?p:"",h.push(o)}}else if(v.Av===cz.o8){var _,k=v.WR.toLowerCase(),b=null==(_=s.w8)?void 0:_.WR.toLowerCase();b===k?(c.pop(),s=c[c.length-1],"font"===k&&(f.pop(),a=f.length>0?f[f.length-1]:"")):"rt"===b&&"ruby"===k?(c.pop(),c.pop(),s=c[c.length-1]):"lang"===k&&(h.pop(),o=h.length>0?h[h.length-1]:"")}else if(v.Av===cz.h8){var M=v.X9,T=new Oc;try{Bp(M,T)}catch(t){ai("ERROR collecting timestamp",t)}}}return r},i.v8=function(t,n){var i=this.h9,r=this.u9;i.yZ&&(t.style.background=i.yZ);var e=r.pZ||n||i.pZ;e&&(t.style.color=e)},i.f8=function(t,n,i,r){if(r){var e=Dz(r,n);t.style.height=e*i+"px",t.style.left=Iz(r)+"%",t.style.top=Ez(r,n)+"px"}t.style.fontSize=kz*n*i+"px"},i.g8=function(t){var n=u.createElement("div");n.style.position="absolute",n.style.margin="0",n.style.padding="0",n.style.unicodeBidi="plaintext",n.style.wordWrap="break-word",n.style.overflowWrap="break-word",n.style.width="auto",n.style.textAlign=t.TS,function(t,n){"rl"===n.Pt?t.style.writingMode="vertical-rl":"lr"===n.Pt?t.style.writingMode="vertical-lr":t.style.writingMode="horizontal-tb"}(n,t),function(t,n){var i=GA(n);jz(n)?(t.style.width=i+"%",t.style.height="auto"):(t.style.height=i+"%",t.style.width="auto")}(n,t),Tz(n,t);var i=this.h9.MZ;i&&(n.style.background=i);var r=this.h9.pZ;return r&&(n.style.color=r),n.style.textShadow=YO(this.h9.bZ),n},n}(LO);function Tz(t,n){var i,r,e=FA(n),u=YA(n),s=GA(n);if(jz(n)){switch(e){case"line-left":i=u;break;case"center":i=u-s/2;break;case"line-right":i=u-s}r=n.ES?0:QA(n)}else{switch(e){case"line-left":r=u;break;case"center":r=u-s/2;break;case"line-right":r=u-s}i=n.ES?0:QA(n)}t.style.left=i+"%",t.style.top=r+"%"}function Nz(t,n){for(var i=0;i<n.length;i++){var r=n[i];if(r.w8){for(var e=0,u=r.w8.W9;e<u.length;e++){var s=u[e];gu(t,pz+s)}"v"===r.w8.WR.toLowerCase()&&r.w8.H9&&gu(t,"theoplayer-webvtt-voice-"+r.w8.H9)}}}function Dz(t,n){return t.VS*(kz*n)*bz}function Iz(t){return t.ZS-t.WS*t.ji/100}function Ez(t,n){var i=t.qS,r=t.HS*Dz(t,n)/100;return w.max(0,i-r)}function Sz(t){var n=u.createElement("div");return n.className=Az+"default",_u(n),n.style.wordWrap="break-word",n.style.writingMode="horizontal-tb",n.style.pointerEvents="none",n.style.width="auto",n.style.height="auto",n.style.maxHeight="100%",n.style.minHeight="0px",n.style.padding="0",n.style.boxSizing="border-box",n.style.fontSize=kz*t+"px",n.style.lineHeight=bz+"em",n}function Lz(t,n){var i=Sz(n);i.className=Az+t.o;var r=t.ji,e=Dz(t,n);return i.style.width=r+"%",i.style.height=e+"px",i.style.left=Iz(t)+"%",i.style.right="",i.style.top=Ez(t,n)+"px",i.style.bottom="",i.style.boxSizing="border-box",i}function jz(t){return""===t.Pt}var Cz,xz=[["white","#fff"],["lime","#0f0"],["cyan","#0ff"],["red","#f00"],["yellow","#ff0"],["magenta","#f0f"],["blue","#00f"],["black","#000"]];function Oz(t,n){var i=QA(t),r=QA(n),e=zz(i,t.ES),u=zz(r,n.ES);return e&&u?i-r||NC(n,t)||n.Xw-t.Xw:NC(t,n)||t.Xw-n.Xw}function zz(t,n){return n?t<0?t>-8:t>8:t>50}yt(),C(),pt(),Mt(),yt(),C(),pt(),yt(),C(),function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(Cz||(Cz={}));var Rz={pZ:EO.WHITE,mZ:IO.Gc,AZ:"100%",yZ:EO.BLACK,MZ:"transparent",bZ:"none",m8:"regular",DZ:"visible",TZ:void 0,SZ:void 0,NZ:void 0,IZ:void 0},Bz=[{p8:EO.WHITE,m8:"regular",A8:0},{p8:EO.WHITE,m8:"underline",A8:0},{p8:EO.GREEN,m8:"regular",A8:0},{p8:EO.GREEN,m8:"underline",A8:0},{p8:EO.BLUE,m8:"regular",A8:0},{p8:EO.BLUE,m8:"underline",A8:0},{p8:EO.CYAN,m8:"regular",A8:0},{p8:EO.CYAN,m8:"underline",A8:0},{p8:EO.RED,m8:"regular",A8:0},{p8:EO.RED,m8:"underline",A8:0},{p8:EO.YELLOW,m8:"regular",A8:0},{p8:EO.YELLOW,m8:"underline",A8:0},{p8:EO.MAGENTA,m8:"regular",A8:0},{p8:EO.MAGENTA,m8:"underline",A8:0},{p8:EO.WHITE,m8:"italics",A8:0},{p8:EO.WHITE,m8:"underline-italics",A8:0},{p8:EO.WHITE,m8:"regular",A8:0},{p8:EO.WHITE,m8:"underline",A8:0},{p8:EO.WHITE,m8:"regular",A8:4},{p8:EO.WHITE,m8:"underline",A8:4},{p8:EO.WHITE,m8:"regular",A8:8},{p8:EO.WHITE,m8:"underline",A8:8},{p8:EO.WHITE,m8:"regular",A8:12},{p8:EO.WHITE,m8:"underline",A8:12},{p8:EO.WHITE,m8:"regular",A8:16},{p8:EO.WHITE,m8:"underline",A8:16},{p8:EO.WHITE,m8:"regular",A8:20},{p8:EO.WHITE,m8:"underline",A8:20},{p8:EO.WHITE,m8:"regular",A8:24},{p8:EO.WHITE,m8:"underline",A8:24},{p8:EO.WHITE,m8:"regular",A8:28},{p8:EO.WHITE,m8:"underline",A8:28}],Pz=[11,-1,1,2,3,4,12,13,14,15,5,6,7,8,9,10];function Uz(t,n){return sp(t.y8,n.y8)||eo(t.Kb,n.Kb)}yt(),C(),Vt();var Qz=32,Yz=/CC([1-4])=(.*)/;function Fz(t){if(!t)return[];var n=[],i=t.trim().split(";");if(i.every((function(t){return t.match(Yz)})))for(var r=0;r<i.length;r++){var e=Gt(i[r].match(Yz),3),u=e[1],s=e[2];n.push({M8:Number(u),b8:s})}else for(var o=0;o<i.length;o++)n.push({M8:o+1,b8:i[o]});return n}var Gz=function(){function t(t,n,i){this.N8=t,this.z8=n,this.a9=i}var n=t.prototype;return n.pr=function(){return this.x8=this.C8(),this.O8(),this.j8(),this.x8},n.C8=function(){var t=u.createElement("div");t.style.position="absolute",t.style.margin="0",t.style.padding="0",t.style.whiteSpace="pre",t.style.width=this.E8/Qz*this.z8.P8*100+"%",t.style.height=1.2*this.k8+"em",t.style.lineHeight="1.2em",t.style.letterSpacing=this.z8.B8?"calc(1em - 1ch)":"";var n=this.a9.mZ;n&&(t.style.fontFamily=n);var i=this.a9.MZ;return i&&(t.style.backgroundColor=i),t},n.O8=function(){if(this.x8){var t=this.T8.L8/15*100,n=this.T8.A8/Qz*100,i=(Qz-this.I8.A8-1)/Qz*100,r=(15-this.I8.L8-1)/15*100;this.z8.U8||(n=i=1,this.x8.style.width="98%"),r<t?this.x8.style.bottom=r*this.z8.P8+"%":this.x8.style.top=t*this.z8.P8+"%",i<n?this.x8.style.right=i+"%":this.x8.style.left=n+"%"}},n.j8=function(){for(var t=this.N8.Q8.sort(Vz),n=0;n<t.length;n++)this.F8(t[n-1],t[n]),this.Y8(t[n]);this.F8(t[t.length-1],void 0)},n.Y8=function(n){var i,r=TO(this.a9,n.G8),e=t.V8(r);yz(e,n.W8),null==(i=this.x8)||i.appendChild(e)},n.F8=function(t,n){var i=t?t.D8.L8:this.N8.S8.L8,r=n?n.S8.L8:this.N8.D8.L8,e=t?t.D8.A8:this.N8.S8.A8,u=n?n.S8.A8:this.N8.D8.A8;i<r&&(!n||t&&t.S8.L8!==n.S8.L8?this.H8():this.X8(this.N8.D8.A8-e),e=this.N8.S8.A8),e<u&&(n?this.X8(u-e):this.H8())},n.H8=function(){var t,n=u.createElement("br");null==(t=this.x8)||t.appendChild(n)},n.X8=function(t){var n;if(!(t<=0)){var i=u.createElement("span");i.style.display="inline-block",yz(i,Qs(" ",t)),null==(n=this.x8)||n.appendChild(i)}},t.V8=function(t){var n=u.createElement("span");n.style.display="inline-block",t.m8!==Cz.FONT_ITALICS&&t.m8!==Cz.FONT_UNDERLINE_ITALICS||(n.style.fontStyle="italic"),t.m8!==Cz.FONT_UNDERLINE&&t.m8!==Cz.FONT_UNDERLINE_ITALICS||(n.style.textDecoration="underline");var i=t.pZ;i&&(n.style.color=i);var r=t.yZ;return r&&(n.style.backgroundColor=r),n.style.textShadow=YO(t.bZ),n.style.height="1.2em",n},At(t,[{key:"T8",get:function(){return this.N8.S8}},{key:"I8",get:function(){return this.N8.D8}},{key:"E8",get:function(){return this.N8.D8.A8-this.N8.S8.A8+1}},{key:"k8",get:function(){return this.N8.D8.L8-this.N8.S8.L8+1}}]),t}();function Vz(t,n){return function(t,n){if(t.L8!==n.L8)return t.L8-n.L8;return t.A8-n.A8}(t.S8,n.S8)}var Wz=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Rz)}bt(n,t);var i=n.prototype;return i.U9=function(t){var n=u.createElement("div");return n.className="theoplayer-cea608-texttrack-"+t,n.style.position="absolute",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="10%",n.style.bottom="10%",this.h9.mZ&&(n.style.fontFamily=this.h9.mZ),n},i.re=function(t,n){this.ll()},i.ll=function(){var t=NO(this.h9);this.Z8=function(t){return{P8:t/100,B8:t<=100,U8:t<=150}}(100*t);var n=this.q8/Qz;this.K8=n*t,this.pz.style.fontSize=this.K8+"px"},i.R9=function(t,n,i){for(var r=0;r<n.length;r++){var e=n[r];!i&&e.ro||this.n9(e)}for(var u=0;u<t.length;u++){var s=t[u];this.G9(s)}},i.G9=function(t){this.Z8&&this.Z8.U8?this.J8(80):this.J8(100),this.ll();var n=this.r9(t);n||(n=this.V9(t),this.P9(t,n));for(var i=0;i<n.length;i++){var r=n[i];this.pz.appendChild(r)}},i.V9=function(t){var n=this;return t.O.map((function(t){return new Gz(t,n.Z8,n.h9).pr()}))},i.J8=function(t){var n=(100-t)/2;this.pz.style.left=n+"%",this.pz.style.width=t+"%"},At(n,[{key:"q8",get:function(){var t=this.pz.offsetWidth;return this.Z8&&this.Z8.U8||(t*=.8),t}}]),n}(LO),Xz=function(){function t(t,n,i,r,e){var u=this;this.i7=[],this.l7=function(t){var n=t.Lt;n.yn(gm.Nw,u.u7),n.yn(gm.Dw,u.u7),n instanceof Px&&(n._4=u._4),u.h7(n)},this.u7=function(t){var n=t.Lt;u.h7(n)},this.d7=function(t){var n=t.Lt;n.fn(gm.Nw,u.u7),n.fn(gm.Dw,u.u7),u.o7(n)},this.f7=function(){for(var t=u._4,n=0,i=u.Dl.Rw;n<i.length;n++){var r=i[n];r instanceof Px&&(r._4=t)}},this._7=function(){for(var t=0,n=u.i7;t<n.length;t++){n[t].f9(u.mU)}},this.g7=function(){for(var t=0,n=u.i7;t<n.length;t++){var i=n[t];i.f9($u({},i.w9(),{DZ:"hidden"}))}},this.w7=function(){for(var t=0,n=u.i7;t<n.length;t++){var i=n[t];i.f9($u({},i.w9(),{DZ:"visible"}))}},this.n7=t,this.Wu=n,this.Dl=i,this.a7=e,this.mU=r,this.Dl.yn(hm.hw,this.l7),this.Dl.yn(hm.uw,this.d7),this.Dl.yn(gm.ra,this.u7),this.a7.yn(ZD.ra,this.f7),this.mU.yn("Sw",this._7),this.f7()}var n=t.prototype;return n.t7=function(t){for(var n=0,i=this.i7;n<i.length;n++){var r=i[n];if(r.Lt===t)return r}},n.s7=function(t){switch(t.Av){case mA.TTML:return new ZO(t,this.n7,t.kh,this.Wu);case mA.SRT:case mA.WEBVTT:return new Mz(t,this.n7,t.kh,this.Wu);case mA.CEA608:return new Wz(t,this.n7,t.kh,this.Wu)}},n.r7=function(t){var n=this.t7(t);n||(n=this.s7(t))&&(n.oX(),n.f9(this.mU),this.i7.push(n),t._v===A_.Jn&&n.L9())},n.o7=function(t){for(var n=this.i7,i=n.length-1;i>=0;i-=1){var r=n[i];r.Lt===t&&(r.gn(),wo(n,i))}},n.h7=function(n){Z_(n.zt)&&t.e7(n)&&(n.Sg===yA.ERROR?this.o7(n):this.r7(n))},n.tr=function(){for(var t=0,n=this.i7;t<n.length;t++){var i=n[t];i.Lt.fn(gm.Nw,this.u7),i.Lt.fn(gm.Dw,this.u7),i.gn()}po(this.i7)},n.gn=function(){this.tr();for(var t=0,n=this.i7;t<n.length;t++){n[t].gn()}this.Dl.fn(hm.hw,this.l7),this.Dl.fn(hm.uw,this.d7),this.Dl.fn(gm.ra,this.u7),this.a7.fn(ZD.ra,this.f7),this.mU.fn("Sw",this._7)},t.e7=function(t){switch(t.Av){case mA.TTML:case mA.SRT:case mA.WEBVTT:case mA.CEA608:return!0}return!1},At(t,[{key:"_4",get:function(){return this.a7.cs}}]),t}();function Zz(t){var n=new LS,i=function(t){var n=[];return ES.ia(t)&&n.push(new ES(t)),SS.ia(t)&&n.push(new SS(t)),n}(t);if(i.length>0){for(var r=0;r<i.length;r++){var e=i[r];n.SV(e)}n.TV(i[0])}return n}var Hz=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e)||this).v7=Zz(n),u.m7=new MO,u.p7=new Xz(u.m7.we,u.Iu,u.nt,u.Ol,u.ya),u}bt(n,t);var i=n.prototype;return i.Vg=function(){return this.lj},i.h_=function(){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return n.v7.gn(),n.m7.gn(),n.p7.gn(),[4,t.prototype.h_.call(n)];case 1:return i.sent(),[2]}}))}))()},i.be=function(){t.prototype.be.call(this),this.m7.be()},i.ge=function(){t.prototype.ge.call(this),this.m7.ge()},i.Y6=function(n){t.prototype.Y6.call(this,n),this.m7.Y6(n)},At(n,[{key:"pz",get:function(){return this.lj}},{key:"Cg",get:function(){return this.lj.videoHeight}},{key:"Rg",get:function(){return this.lj.videoWidth}},{key:"ya",get:function(){return this.v7}}]),n}(yO);yt(),C(),Xt(),zt(),pt(),Mt(),Ct(),Ut(),yt(),C();yt(),C(),zt(),Ut(),yt(),C();var Kz,qz=!1;!function(t){t.A7="HELLO",t.y7="HI_THERE",t.M7="INITIALIZE",t.b7="APPEND_INIT",t.T7="APPEND_DATA",t.S7="ACK",t.N7="REMOVE",t.I7="DESTROY_SESSION"}(Kz||(Kz={}));var Jz=function(){function t(){this.XZ=new el}var n=t.prototype;return n.D7=function(t){var n=this;return this.XZ.JO(Ot((function(t){var i,r,e,u,s,a,c;return Rt(this,(function(h){switch(h.label){case 0:return Po(t),i=new MessageChannel,r=i.port1,e=i.port2,o.serviceWorker.controller?[3,2]:[4,Fy(o.serviceWorker,"install",t)];case 1:h.sent(),h.label=2;case 2:return"activated"===o.serviceWorker.controller.state?[3,4]:[4,Fy(o.serviceWorker.controller,"activate",t)];case 3:h.sent(),h.label=4;case 4:u={kind:"HELLO",port:e},o.serviceWorker.controller.postMessage(u,[e]),r.start(),n.E7=r,h.label=5;case 5:return h.trys.push([5,7,,8]),[4,Fy(r,"message",t)];case 6:if(s=h.sent(),"HI_THERE"!==(a=s.data).kind)throw new v("Could not set up message channel");return n.gj=a.sessionId,[3,8];case 7:throw Bo(c=h.sent())&&n.k7(),c;case 8:return[2]}}))})),t)},n.L7=function(t,n){this.E7;var i=this;return this.XZ.JO(Ot((function(){return Rt(this,(function(r){switch(r.label){case 0:if(!i.E7)throw new v("MessageSession not set up yet or already closed.");return n||(n=[]),i.E7.postMessage(t,n),[4,Fy(i.E7,"message")];case 1:return[2,r.sent().data]}}))})))},n.x7=function(){var t=this;return this.XZ.JO((function(){return t.k7()}))},n.k7=function(){if(o.serviceWorker.controller&&"activated"===o.serviceWorker.controller.state&&this.E7){var t={kind:"DESTROY_SESSION"};qz,this.E7.postMessage(t),this.E7.close(),this.E7=void 0}},t}();yt(),C(),pt();var $z,tR=function(){function t(){this.O7=1/0}var n=t.prototype;return n.j7=function(t,n){var i=t-n;this.O7=i>this.C7?this.O7:i},n.R7=function(t){this.O7=t},At(t,[{key:"C7",get:function(){return this.O7}}]),t}();yt(),C(),zt(),pt(),Ut(),yt(),C(),zt(),pt(),Mt(),Ut(),yt(),C(),function(t){t.WA="audio",t.VA="video",t.ZA="metadata"}($z||($z={}));var nR=function(t){function n(n,i){var r;return(r=t.call(this)||this).TG=n,r.Y7=i,r.P7=void 0,r.z7=void 0,r.XZ=new el,r.U7=!1,r.B7=!1,r}bt(n,t);var i=n.prototype;return i.B0=function(t,n){},i.U0=function(t,n){},i.oq=function(){return this.B7},i.Q0=function(){return Ot((function(){return Rt(this,(function(t){return[2]}))}))()},i.u0=function(t,n){return Ot((function(){return Rt(this,(function(t){return[2]}))}))()},i.V$=function(t,n,i){var r=this;return Ot((function(){var e,u;return Rt(this,(function(s){if(t.Av!==CL.jZ)throw new v("Streaming or opaque segments are not supported yet.");return e=t.ly,u=Ot((function(){var t,i,u;return Rt(this,(function(s){switch(s.label){case 0:return t=e.buffer,i={kind:Kz.T7,mediaType:iR(r.TG),segment:e,startPts:n.F7,totalDuration:n.ct},[4,r.Y7.L7(i,[t])];case 1:return s.sent(),void 0===r.P7&&(u=n.F7+n.pI,r.P7=u,r.z7=u),r.z7=r.z7+n.ct,r.Co(new ra(EL.CZ)),[2]}}))})),[2,r.XZ.JO(Ot((function(t){return Rt(this,(function(n){switch(n.label){case 0:Po(t),n.label=1;case 1:return n.trys.push([1,,3,4]),r.U7=!0,[4,u()];case 2:return n.sent(),[3,4];case 3:return r.U7=!1,[7];case 4:return[2]}}))})),i)]}))}))()},i.X$=function(t,n,i){var r=this;return Ot((function(){var n,e;return Rt(this,(function(u){if(t.Av!==CL.jZ)throw new v("Streaming or opaque initialization segments are not supported yet.");return n=t.ly,e=Ot((function(){var t;return Rt(this,(function(i){switch(i.label){case 0:return t={kind:Kz.b7,mediaType:iR(r.TG),segment:n},[4,r.Y7.L7(t,[])];case 1:return i.sent(),[2]}}))})),[2,r.XZ.JO(Ot((function(t){return Rt(this,(function(n){switch(n.label){case 0:Po(t),n.label=1;case 1:return n.trys.push([1,,3,4]),r.U7=!0,[4,e()];case 2:return n.sent(),[3,4];case 3:return r.U7=!1,[7];case 4:return[2]}}))})),i)]}))}))()},i.x0=function(){this.B7=!0},i.M0=function(){this.B7=!1},i.rS=function(t,n,i){var r=this;return Ot((function(){var t;return Rt(this,(function(e){return t=Ot((function(){var t;return Rt(this,(function(i){switch(i.label){case 0:return t={kind:Kz.N7,mediaType:iR(r.TG),endTime:n},[4,r.Y7.L7(t)];case 1:return i.sent(),r.P7=void 0,r.z7=void 0,r.Co(new ra(EL.CZ)),[2]}}))})),[2,r.XZ.JO(Ot((function(n){return Rt(this,(function(i){switch(i.label){case 0:Po(n),i.label=1;case 1:return i.trys.push([1,,3,4]),r.U7=!0,[4,t()];case 2:return i.sent(),[3,4];case 3:return r.U7=!1,[7];case 4:return[2]}}))})),i)]}))}))()},i.FZ=function(t){return this.TG===t.Nz},i.GZ=function(t){return this.TG=t.Nz,q.resolve()},i.h_=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return t.Vo(),[4,t.XZ.gn()];case 1:return n.sent(),[2]}}))}))()},At(n,[{key:"O_",get:function(){return void 0===this.P7||void 0===this.z7?HD.oU():new HD([this.P7,this.z7])}},{key:"wd",get:function(){return{Nz:this.TG}}},{key:"O0",get:function(){return Bs(this.TG,"audio")?Gm.WA:Bs(this.TG,"video")?Gm.VA:Gm.jT}},{key:"aG",get:function(){return this.TG}},{key:"R0",get:function(){return HD.oU()}},{key:"iX",get:function(){return 30},set:function(t){}},{key:"rX",get:function(){return 30},set:function(t){}},{key:"oa",get:function(){return this.U7}},{key:"Q7",get:function(){return this.P7}},{key:"bS",get:function(){return this.z7}}]),n}($o);function iR(t){return t.match(/video/)?$z.VA:$z.WA}var rR=function(){function t(t,n,i,r){this.cO=void 0,this.GO=t,this.j1=co(n,(function(t){return Boolean(t.aG.match(/video/))})),this.O1=co(n,(function(t){return Boolean(t.aG.match(/audio/))})),this.SO=i,this.lj=r,this.V7()}var n=t.prototype;return n.V7=function(){},n.h_=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return[4,q.all([t.O1,t.j1].filter(Rn).map((function(t){return t.h_()})))];case 1:return n.sent(),[2]}}))}))()},n.P1=function(t){},n.Q1=function(t,n,i,r){},n.x0=function(){var t,n;null==(t=this.O1)||t.x0(),null==(n=this.j1)||n.x0()},n.M0=function(){var t,n;null==(t=this.O1)||t.M0(),null==(n=this.j1)||n.M0()},n.FZ=function(t){return!0},n.GZ=function(t){return this.GO=t,q.resolve()},n.UZ=function(t,n){var i=this;return Ot((function(){var r;return Rt(this,(function(e){switch(e.label){case 0:return[4,i.SO.TO(t.dL,n)];case 1:return[4,e.sent()._O()];case 2:return r=e.sent(),[4,i.QZ(r)];case 3:return e.sent(),[2,r]}}))}))()},n.QZ=function(t){var n=this;return Ot((function(){var i;return Rt(this,(function(r){switch(r.label){case 0:if(t&&!n.lj.src)throw new Xm(Xv.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");if(!t&&n.lj.src)throw new Xm(Xv.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");return(i=n.cO)?[4,i.dO(n.lj)]:[3,2];case 1:r.sent(),n.cO=void 0,r.label=2;case 2:return t?[4,t.bn(n.lj)]:[3,4];case 3:r.sent(),n.cO=t,r.label=4;case 4:return[2]}}))}))()},t.G7=function(n,i,r,e){for(var u=[],s=0;s<n.F1.length;s++){var o=n.F1[s].Nz;u.push(new nR(o,i))}return new t(n,u,r,e)},At(t,[{key:"W7",get:function(){return[this.O1,this.j1].filter(Rn)}},{key:"I1",get:function(){return this.O1}},{key:"O_",get:function(){return eC(this)}},{key:"wd",get:function(){return this.GO}},{key:"ct",get:function(){return 0}},{key:"oq",get:function(){var t,n,i,r,e=null==(i=null==(t=this.O1)?void 0:t.oq())||i,u=null==(r=null==(n=this.j1)?void 0:n.oq())||r;return e&&u}},{key:"Ig",get:function(){return new HD([0,1/0])}},{key:"D1",get:function(){return this.j1}}]),t}(),eR=function(t){function n(n,i,r,e){var u;(u=t.call(this)||this)._tt=!0,u.Y7=new Jz,u.ctt=new tR,u.wtt=!0,u.ptt=new Bc,u.aU=!1,u.x5=q.resolve(),u.L5=new zo,u.mtt=!0,u.Uo=HD.oU(),u.Q6=!1,u.Z7=function(){u.fg||u.dtt.U<=0||u.O_.U<=0||u.ctt.j7(u.O_.jn(u.O_.U-1),u.dtt.jn(u.dtt.U-1))},u.q7=function(){u.Co(new pD(u.U_))},u.K7=function(){u.Co(new om(u.U_,u.R_))},u.J7=function(){u.Co(new AD(u.U_,u.gg))},u.ttt=function(){u.Co(new bD(u.U_,u.zg))},u.itt=function(){u.Co(new mD(u.ct))},u.ett=function(){u.Co(new Tk(u.U_))},u.stt=function(){u.JA(u.U_)};var s=Wt(u);return u.ntt=Ot((function(){return Rt(this,(function(t){return s.mtt&&s.Co(new yD(s.U_)),s.wtt=!1,s.mtt=!0,[2]}))})),u.ott=function(){u.wtt=!0,u.Co(new wD(u.U_))},u.C6=function(t){var n,i=t.initDataType,r=null!=(n=t.initData)?n:new ArrayBuffer(0);u.Co(new ca(i,r))},u.X7=n,u.a5=new AC(Wt(u)),u.ytt=r,u.mU=e,u.X7.playsInline=!0,u.X7.style.width="100%",u.X7.style.height="100%",u.H7(),u.att(),u.v7=Zz(u.X7),u.VZ=new hO(Wt(u)),u.SO=i,u.Dl=new Y_,u.W5=new Vx(Wt(u)),u.m7=new MO,u.p7=new Xz(u.m7.we,u.Iu,u.nt,u.Ol,u.ya),u}bt(n,t);var i=n.prototype;return i.H7=function(){this.X7.addEventListener("timeupdate",this.Z7),this.X7.addEventListener("ended",this.q7),this.X7.addEventListener("timeupdate",this.K7),this.X7.addEventListener("ratechange",this.J7),this.X7.addEventListener("volumechange",this.ttt),this.X7.addEventListener("durationchange",this.itt),this.X7.addEventListener("playing",this.ett),this.X7.addEventListener("seeking",this.stt),this.X7.addEventListener("play",this.ntt),this.X7.addEventListener("pause",this.ott),this.X7.addEventListener("encrypted",this.C6)},i.htt=function(){this.X7.removeEventListener("timeupdate",this.Z7),this.X7.removeEventListener("ended",this.q7),this.X7.removeEventListener("timeupdate",this.K7),this.X7.removeEventListener("ratechange",this.J7),this.X7.removeEventListener("volumechange",this.ttt),this.X7.removeEventListener("durationchange",this.itt),this.X7.removeEventListener("playing",this.ett),this.X7.removeEventListener("seeking",this.stt),this.X7.removeEventListener("play",this.ntt),this.X7.removeEventListener("pause",this.ott)},i.att=function(){this.a5.yn(gk.Nw,this.Ds)},i.utt=function(){this.a5.fn(gk.Nw,this.Ds)},i.JA=function(t,n,i){this.L5.g_(),this.L5=new zo,this.x5=this.C5(t,this.x5,this.L5.f_).catch(Kn)},i.C5=function(t,n,i){var r=this;return Ot((function(){var e,u,s,o,a;return Rt(this,(function(c){switch(c.label){case 0:return r.Uo=r.pg,(s=null==(u=r.yz)?void 0:u.W7)?(o=(e=w).max.apply(e,jt(s.map((function(t){return t.Q7?t.Q7:1/0})))),r.aU=!0,r.Co(new _D(t)),[4,n.catch(Kn)]):[2];case 1:c.sent(),Po(i),c.label=2;case 2:return c.trys.push([2,7,8,9]),r._tt||r.gtt(),r.X7.load(),r.wtt?[3,4]:(r.mtt=!1,[4,Yo(r.X7.play(),i)]);case 3:c.sent(),c.label=4;case 4:return r.Sg<mk.UT?[4,r.a5.k_(gk.Nw,i)]:[3,6];case 5:return c.sent(),[3,4];case 6:return r.ptt.LL(),r._tt=!1,r.aU=!1,r.Co(new kD(r.U_)),[3,9];case 7:throw a=c.sent(),r.ptt.xL(a),a;case 8:return r.Att(),r.ctt.R7(o),[7];case 9:return[2]}}))}))()},i.Hg=function(){this.wtt=!0,this.X7.pause()},i.Xg=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return t.wtt?(t.X7.src||t.F6(),[4,t.ptt.OL]):[2];case 1:return n.sent(),[4,t.X7.play()];case 2:return n.sent(),[2]}}))}))()},i.h_=function(){var t=this;return Ot((function(){return Rt(this,(function(n){return t.Y7&&t.Y7.x7().catch(Kn),t.L5.g_(),t.htt(),t.utt(),t.a5.h_(),t.Vo(),t.Dl.gn(),t.m7.gn(),t.p7.gn(),[2]}))}))()},i.tr=function(){var t=this;return Ot((function(){return Rt(this,(function(n){return t.Y7&&t.Y7.x7().catch(Kn),t.L5.g_(),t.X7.removeAttribute("src"),t.X7.removeAttribute("x-webkit-wirelessvideoplaybackdisabled"),t.X7.removeAttribute("x-airplay-deny"),t.X7.disableRemotePlayback=!1,t.X7.load(),t.a5.tr(),t.Uo=HD.oU(),[2]}))}))()},i.F6=function(){this.U6||(hR(this.X7,an.Ys),this.Q6=!0)},i.gtt=function(){var t,n=this.X7.getClientRects();if(n.length>0){var i,r,e=(t=n[0]).width,u=this.X7.videoWidth/this.X7.videoHeight,s=t.height;e/s>u?(i=s*u,r=s):(r=e/u,i=e),this.X7.style.width=i+"px",this.X7.style.height=r+"px",this.X7.style.marginLeft=(e-i)/2+"px",this.X7.style.marginTop=(s-r)/2+"px",this.X7.style.backgroundColor="black"}},i.Att=function(){this.X7.style.width="100%",this.X7.style.height="100%",this.X7.style.marginLeft="",this.X7.style.marginTop="",this.X7.style.backgroundColor=""},i.jz=function(t,n,i,r,e){},i.rE=function(t,n,i,r,e,u,s,o,a){var c=new QC(t,n,i,r,e,u,s,a,o);return this.Dl.tt(c),this.W5.tt(c),c},i.dq=function(t){},i.rg=function(){return fL(this.X7)},i.ge=function(){this.X7.style.display="block",this.m7.ge()},i.be=function(){this.X7.style.display="none",this.m7.be()},i.z6=function(){},i.$n=function(t){var n=this;return Ot((function(){var i,r;return Rt(this,(function(e){switch(e.label){case 0:if(t.Av===dk.Tj)throw new v("Not yet implemented");return[4,n.Y7.D7()];case 1:return e.sent(),i=co(t.Iz,(function(t){return t.Qp.Av===cs.kp})),r={kind:Kz.M7,mediaBufferConfigs:t.F1.map((function(t){return t.Nz})),fairPlaySdkUri:null==i?void 0:i.hP},[4,n.Y7.L7(r)];case 2:return e.sent(),n.yz=rR.G7(t,n.Y7,n.SO,n.X7),n.VZ.$n(n.yz,t),n.X7.setAttribute("x-webkit-airplay","deny"),n.X7.setAttribute("x-webkit-wirelessvideoplaybackdisabled",""),n.X7.disableRemotePlayback=!0,n.X7.preload="none",n.X7.src="https://theo.proxy/"+n.Y7.gj+"/master.m3u8",[2,n.yz]}}))}))()},i.B6=function(){},i.fE=function(t){this.Dl.it(t),this.W5.it(t)},i.Pz=function(){for(var t=0,n=this.Dl.Rw.slice();t<n.length;t++){n[t].gn()}this.Dl.tr()},i.gz=function(t){},i.Cz=function(){return!1},i.Y6=function(t){t.appendChild(this.X7),this.m7.Y6(t)},i.Vg=function(){return this.X7},i.K3=function(){},i.$g=function(){},At(n,[{key:"pz",get:function(){return this.X7}},{key:"l2",get:function(){return!1}},{key:"U_",get:function(){return this.X7.currentTime+this.ctt.C7}},{key:"fg",get:function(){return this.X7.paused}},{key:"zg",get:function(){return this.X7.volume},set:function(t){this.X7.volume=t}},{key:"gg",get:function(){return this.X7.playbackRate},set:function(t){this.X7.playbackRate=t}},{key:"ltt",get:function(){return this.X7.defaultPlaybackRate}},{key:"O_",get:function(){var t,n;return null!=(n=null==(t=this.yz)?void 0:t.O_)?n:HD.oU()}},{key:"dtt",get:function(){return HD.xn(this.X7.buffered)}},{key:"pg",get:function(){var t=this.ftt;return this.Uo.YB(t.KA(this.ctt.C7))}},{key:"ftt",get:function(){return HD.xn(this.X7.played)}},{key:"Eg",get:function(){return this.aU}},{key:"s2",get:function(){return!1}},{key:"g2",get:function(){return!1}},{key:"ct",get:function(){return this.X7.duration}},{key:"og",get:function(){return this.X7.muted},set:function(t){this.X7.muted=t}},{key:"G8",get:function(){return this.X7.style}},{key:"Hm",get:function(){return $u({},LL,{Wm:!0})}},{key:"Sg",get:function(){return this.a5.Sg}},{key:"Cg",get:function(){return this.X7.videoHeight}},{key:"Rg",get:function(){return this.X7.videoWidth}},{key:"G_",get:function(){return this.X7.ended}},{key:"Ti",get:function(){return this.X7.offsetHeight*an.Ys.h5}},{key:"ji",get:function(){return this.X7.offsetWidth*an.Ys.h5}},{key:"K_",get:function(){return!1}},{key:"U6",get:function(){return this.Q6}},{key:"R_",get:function(){}},{key:"Iu",get:function(){return this.ytt}},{key:"lt",get:function(){}},{key:"ya",get:function(){return this.v7}},{key:"Ig",get:function(){return this.yz?this.yz.Ig:HD.oU()}},{key:"Mz",get:function(){}},{key:"nt",get:function(){return this.Dl}},{key:"Ol",get:function(){return this.mU}},{key:"Yg",get:function(){return!1},set:function(t){}},{key:"_5",get:function(){return"block"===this.X7.style.display}},{key:"Qz",get:function(){return this.VZ.Qz},set:function(t){this.VZ.Qz=t}},{key:"G6",get:function(){},set:function(t){}},{key:"j3",get:function(){}}]),n}($o),uR=[Gm.WA,Gm.VA],sR=function(){function t(t,n,i,r,e){void 0===i&&(i=2),void 0===r&&(r=uR),void 0===e&&(e=ll()),this.ont=i,this.$st=jt(r),this.SO=e,this.Wu=t,this.mU=n,this.tnt=ns(),this.rnt()}var n=t.prototype;return n.yU=function(t){for(var n=0,i=this.pU;n<i.length;n++){i[n].Y6(t)}},n.oB=function(t){var n=co(this.tnt.get(t),(function(t){return t.snt}));if(n)return n.snt=!1,n.int},n.nnt=function(t){if(!this.ent){var n,i=null==(n=this.tnt.get(Gm.VA))?void 0:n[0].int.pz;if(!i)throw new v("Error creating iOS Safari MediaController");this.ent=new eR(i,this.SO,this.Wu,this.mU),i.parentElement&&this.ent.Y6(i.parentElement)}return this.ent},n.Fz=function(t){var n=this;return Ot((function(){var i,r,e;return Rt(this,(function(u){switch(u.label){case 0:return i=t.pz,r=i.tagName.toLowerCase(),[4,t.tr()];case 1:return u.sent(),cR(i),(e=co(n.tnt.get(r)||[],(function(n){return t===n.int})))&&(e.snt=!0),[2]}}))}))()},n._U=function(){for(var t=0,n=this.pU;t<n.length;t++){n[t].F6()}},n.gn=function(){for(var t=0,n=this.pU;t<n.length;t++){var i=n[t],r=i.pz;i.h_(),aR(r),cu(r)}this.tnt.clear(),this.ent=void 0},n.rnt=function(){for(var t=0,n=this.$st;t<n.length;t++){var i=n[t],r=[];this.tnt.set(i,r);for(var e=0;e<this.ont;e++){var u=oR(i),s=i===Gm.WA?new bO(u,this.SO,this.Wu):new Hz(u,this.SO,this.Wu,this.mU);r.push({int:s,snt:!0})}}},At(t,[{key:"pU",get:function(){for(var t=[],n=0,i=this.$st;n<i.length;n++){var r=i[n],e=this.tnt.get(r);if(e){var u,s=e.map((function(t){return t.int}));(u=t).push.apply(u,jt(s))}}return this.ent&&t.push(this.ent),t}}]),t}();function oR(t){var n=u.createElement(t);return Nu(n)&&n.addEventListener("contextmenu",fR),cR(n),n}function aR(t){cR(t),t.removeEventListener("contextmenu",fR)}function cR(t){t.removeAttribute("id"),t.removeAttribute("class"),t.removeAttribute("style"),hu(t),Du(t),t.pause(),t.playbackRate=1,t.disableRemotePlayback=!1,t.preload=FD.LT,t.controls=!1,t.style.display="none",Nu(t)&&(t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",t.playsInline=!0,t.setAttribute("webkit-playsinline",""))}function hR(t,n){if(n.Mtt){var i=t.muted;t.muted=!0,t.muted=!1,t.muted=i}else if(t.paused){var r=t.play();Vn(r)&&Xo(r),t.pause()}}function fR(t){t.preventDefault()}yt(),C(),zt(),Mt(),Ut(),yt(),C();var vR=function(){function t(t){this.aE=t}var n=t.prototype;return n.uD=function(t){return this.aE.uD(t)},n.NG=function(t){this.aE.NG(t)},n.gn=function(){this.aE.gn()},t}(),lR=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).wU=i,r}bt(n,t);var i=n.prototype;return i.uD=function(t){var n=new ey(t),i=this.wU.VH.WP(n);return i?this.btt(n,i):this.aE.uD(n)},i.btt=function(t,n){var i=this;return Ot((function(){var r,e,u;return Rt(this,(function(s){switch(s.label){case 0:return n.HH(an.m_()/1e3),[4,i.aE.uD(t)];case 1:return r=s.sent(),n.XH(an.m_()/1e3),e=r.ZW?r.VW().pipeThrough(new gw(new dR(n))):r.GR().then((function(t){var i=an.m_()/1e3;return n.ZH(i,new p(t)),n.qH(i),t})),u={ly:e,uD:r.uD},[2,new ry(u,r)]}}))}))()},n}(vR),dR=function(){function t(t){this.Ttt=t}var n=t.prototype;return n.start=function(t){this.wZ=t},n.transform=function(t){this.Ttt.ZH(an.m_()/1e3,t),this.wZ.enqueue(t)},n.flush=function(){this.Ttt.qH(an.m_()/1e3)},t}();function gR(t){return{get ratio(){return t.Lo},get thresholds(){return t.Stt.slice()}}}function wR(t){var n=[],i=w.floor(1/t);if(A(i))return[];for(var r=0;r<=i;r++){var e=Pi(r*t,0,1);n.push(e)}return n}yt(),C(),pt(),yt(),C(),pt(),Mt(),yt(),C();var yR=function(){function t(t,n,i){this.Ntt=1,this.Xa=void 0,this.Itt=wR(n);var r=this.Dtt(i);this.Ett=new e.IntersectionObserver(r,{root:null,threshold:this.Itt}),this.Ett.observe(t)}var n=t.prototype;return n.Dtt=function(t){var n=this;return function(i){var r=i[i.length-1];n.Ntt=r.intersectionRatio,t(r.intersectionRatio)}},n.Zg=function(){this.Ett.disconnect()},At(t,[{key:"Lo",get:function(){return this.Ntt}},{key:"Stt",get:function(){return this.Itt}},{key:"va",get:function(){return this.Xa||(this.Xa=gR(this)),this.Xa}}]),t}(),mR=function(){function t(t,n){this.Ntt=1,this.Ltt=-1,this.Xa=void 0,this.Itt=wR(t),this.xtt=n}return t.prototype.ktt=function(t){this.Ntt=t;var n=this.Itt,i=0;if(t>0)for(;i<n.length&&n[i]<=t;)++i;this.Ltt!==i&&(this.Ltt=i,this.xtt(t))},At(t,[{key:"Lo",get:function(){return this.Ntt}},{key:"Stt",get:function(){return this.Itt}},{key:"va",get:function(){return this.Xa||(this.Xa=gR(this)),this.Xa}}]),t}(),AR=function(t){function n(n,i,r){var u;return(u=t.call(this,i,r)||this).Ott=Jn((function(){return u.ktt(u.Ctt())}),50),u.yo=n,e.addEventListener("scroll",u.Ott,!!AS&&{passive:!0}),Wo((function(){return u.ktt(u.Ctt())})),u}bt(n,t);var i=n.prototype;return i.Ctt=function(){var t=this.yo.getBoundingClientRect();return Pi(w.max(0,w.min(e.innerWidth,t.right)-w.max(0,t.left))*w.max(0,w.min(e.innerHeight,t.bottom)-w.max(0,t.top))/(t.width*t.height),0,1)},i.Zg=function(){e.removeEventListener("scroll",this.Ott)},n}(mR),pR=function(){function t(t){this.Rtt=1,this.Ptt=0,this.Utt=[],this.Xa=void 0,this.yo=t,this.Fo(.1,this.Btt())}var n=t.prototype;return n.Btt=function(t){var n=this;return function(i){n.Rtt=i,null==t||t(n.Rtt)}},n.Fo=function(t,n){if(A(t))throw new l("step is not of the right type");if(t>1||t<=0)throw new RangeError("The step must be a number greater than 0 and smaller than or equal to 1");var i;return i="function"==typeof e.IntersectionObserver?new yR(this.yo,t,this.Btt(n)):new AR(this.yo,t,this.Btt(n)),this.Utt.push(i),i},n.Ro=function(t){t.Zg(),go(this.Utt,t)},n.ztt=function(t){for(var n=0,i=this.Utt;n<i.length;n++){var r=i[n];if(r.va===t)return r}},n.gn=function(){for(var t=0,n=this.Utt;t<n.length;t++){n[t].Zg()}po(this.Utt)},At(t,[{key:"jtt",get:function(){return this.Rtt}},{key:"zo",get:function(){return this.Ptt},set:function(t){if(A(t)||t<0||t>1)throw new RangeError("The threshold must be a value between 0 and 1");this.Ptt=t}},{key:"va",get:function(){return this.Xa||(this.Xa=function(t){return{get ratio(){return t.jtt},get visible(){return t.jtt>t.zo},get visibleThreshold(){return t.zo},set visibleThreshold(n){n=Lm(n),t.zo=n},addObserver:function(n,i){return n=Lm(n),t.Fo(n,i).va},removeObserver:function(n){var i=t.ztt(n);i&&t.Ro(i)}}}(this)),this.Xa}}]),t}();yt(),C(),Mt();var _R=function(t){function n(){return t.call(this,Al.Ev)}return bt(n,t),n}(ra),kR=function(t){function n(n,i,r){var e;(e=t.call(this)||this).Ftt=!1,e.bo=!1,e.SB=void 0,e.nit=!1,e.ba=void 0,e.$tt=function(t){if(!e.nit){e.nit=!0;var n=e.rit,i=Km(t);e.Ytt.Uw=new iI(e.we,i,t),Xo(n.gn())}},e.oit=function(t){t.type!==Al.Xv&&t.type!==Al.Hv&&e.Co(t)};var u=Lm(i.uid);A(u)?e.cS=aA++:e.cS=u,e.wd=i;var s=an.Hj,o=new _L;e.sit=new eS("8.3.0",s,o),e.wU=new nL,e.vU=new NT;var a=new lR(s,e.wU);e.Hj=new YS(a,i.allowMixedContent),e.uZ=null!=r?r:new jE(i.isEmbeddable,"8.3.0",NE()),e.Jtt=new pL(s,e.uZ,e.sit,o,i,NE()),e.Jtt.nZ().catch(e.$tt),e.Htt=new TS(n),e.Htt.yn(fS.pn,e.Ds),e.mU=new DL,e.MX=new sL,e.RX=new aL;var c=new nI(n,i,e.Hj,e.wU,e.vU,e.Htt,e.mU);e.wU.oX(c);var h=c;return h=new oL(h,e.qtt),h=new cL(h,e.jX),e.rit=h,e.Ytt=new RD(e.rit),e.Ytt.T_(e.oit),e.Xtt=new hL(e.Ytt),e.Ztt=new WS(e.Ytt,e.Hj,e.wU),e.iit=new vS(Wt(e)),e.eit=new jS(e.Ytt,i.allowNativeFullscreen),e.tit=new pI(e.eit),e.Htt.bn(),e.Bo=new pR(n),e.gU=new tu(e.Htt,e.mU,1,[Gm.VA]),e.Vtt=new nu(e.gU),e.Wtt=new dL,e}bt(n,t);var i=n.prototype;return i.j_=function(){return this.Ytt.O_},i.Q_=function(){return this.Ytt.U_},i.F_=function(t,n){this.Ytt.F_(t,n)},i.Ktt=function(){return this.Q_()},i.Td=function(){return this.Ytt.ct},i.W_=function(){return this.Ytt.lt},i.X_=function(){return this.Ytt.H_},i.ag=function(t){this.Ytt.og=t,t||this.fg||this.Wg()},i.Ag=function(){return this.Ytt.pg},i.Dg=function(){return this.Ytt.Ig},i.Ug=function(t){this.Ytt.zg=t},i.ka=function(){jD(this,_I,this)},i.Xg=function(){this.Ytt.Xg()},i.Hg=function(){this.Ytt.Hg()},i.Wa=function(){return this.SB},i.ga=function(t,n){var i=this;return Ot((function(){var r;return Rt(this,(function(e){switch(e.label){case 0:return i.SB=t,t?(i.Jtt.EY(t).catch(i.$tt),r=function(t){t.sources;var n=t.sources.filter((function(t){return Bn(t.integration)}));return t.sources=n,t}(t),[4,i.Ytt.ga(r,n)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))()},i.Wg=function(){if(!this.bo){this.Ytt.Wg(),this.Vtt.Wg();for(var t=this.we.getElementsByTagName("video"),n=0;n<t.length;n++){var i=t[n];"Advertisement"===i.title&&hR(i,an.Ys)}this.bo=!0}},i.cs=function(){return this.tit.qo()===wI.FULLSCREEN},i.ge=function(){this.Ytt.ge()},i.be=function(){this.Ytt.be()},i.Vg=function(){return this.Ytt.Vg()},i.$g=function(){this.Ytt.$g()},i.iw=function(){this.Ytt.iw()},i.Zg=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return t.SB=void 0,[4,t.Ytt.Zg()];case 1:return n.sent(),[4,t.Ytt.tr()];case 2:return n.sent(),[2]}}))}))()},i.gn=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return t.Co(new _R),t.Vo(),t.Wtt.gn(),t.Hj.gn(),t.Ztt.gn(),t.iit.gn(),t.eit.gn(),t.tit.gn(),t.Htt.gn(),t.sit.gn(),t.Vtt.gn(),t.gU.gn(),[4,t.Ytt.gn()];case 1:return n.sent(),[2]}}))}))()},At(n,[{key:"Qtt",get:function(){return this.wU}},{key:"eS",get:function(){return this.Ftt},set:function(t){this.Ftt=t,this.Ytt.eS=t}},{key:"Gtt",get:function(){return this.Vtt}},{key:"ht",get:function(){return this.Ytt.ht}},{key:"YF",get:function(){return this.Wtt}},{key:"Iu",get:function(){return this.Htt}},{key:"Z_",get:function(){return this.Ytt.Z_}},{key:"eg",get:function(){return this.Xtt}},{key:"hF",get:function(){return this.Ztt}},{key:"nt",get:function(){return this.Ytt.nt}},{key:"Ol",get:function(){return this.mU}},{key:"rt",get:function(){return this.Ytt.rt}},{key:"O_",get:function(){return this.j_()}},{key:"qtt",get:function(){return this.MX}},{key:"jX",get:function(){return this.RX}},{key:"U_",get:function(){return this.Q_()},set:function(t){this.F_(t)}},{key:"R_",get:function(){return this.Ytt.R_},set:function(t){this.Ytt.R_=t}},{key:"bt",get:function(){return this.Ytt.bt}},{key:"ct",get:function(){return this.Td()}},{key:"we",get:function(){return this.Ytt.we}},{key:"G_",get:function(){return this.Ytt.G_}},{key:"lt",get:function(){return this.W_()}},{key:"H_",get:function(){return this.X_()}},{key:"ya",get:function(){return this.Ytt.Gg()}},{key:"Yg",get:function(){return this.Ytt.Yg},set:function(t){this.Ytt.Yg=t}},{key:"og",get:function(){return this.Ytt.og},set:function(t){var n=Boolean(t);this.ag(n)}},{key:"fg",get:function(){return this.Ytt.fg}},{key:"gg",get:function(){return this.Ytt.gg},set:function(t){this.Ytt.gg=t}},{key:"pg",get:function(){return this.Ag()}},{key:"yg",get:function(){return this.Ytt.yg},set:function(t){this.Ytt.yg=t}},{key:"Sg",get:function(){return this.Ytt.Sg}},{key:"Ig",get:function(){return this.Dg()}},{key:"Eg",get:function(){return this.Ytt.Eg}},{key:"Xw",get:function(){return this.cS}},{key:"Cg",get:function(){return this.Ytt.Cg}},{key:"Rg",get:function(){return this.Ytt.Rg}},{key:"zg",get:function(){return this.Ytt.zg},set:function(t){var n=Pi(Number(t),0,1)||0;this.Ug(n)}},{key:"Qg",get:function(){return this.vU}}]),n}(na);yt(),C();var bR=self.CustomEvent;var MR=function(){try{var t=new bR("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=u.createEvent("CustomEvent");return i.initCustomEvent(t,(null==n?void 0:n.bubbles)||!1,(null==n?void 0:n.cancelable)||!1,null==n?void 0:n.detail),i};yt(),C(),pt();var TR=function(){function t(){this.$T=[],this.Xa=void 0}var n=t.prototype;return n.zw=function(t){return this.$T[t]},n.Eq=function(t){this.$T.push(t),this.va.push(t.va)},n.rS=function(t){var n=this.$T.indexOf(t);n<0||(wo(this.$T,n),this.Xa&&wo(this.Xa,n))},n.mit=function(t){for(var n=0,i=this.$T;n<i.length;n++){var r=i[n];if(r.Xw===t)return r}},At(t,[{key:"U",get:function(){return this.$T.length}},{key:"va",get:function(){var t;return null!=(t=this.Xa)?t:this.Xa=function(t){for(var n=[],i=0;i<t.U;i++)n[i]=t.zw(i).va;return n.getPlayerByUID=function(n){var i=t.mit(n);return i&&i.va},n}(this)}}]),t}();var NR=new TR;yt(),C(),Xt(),zt(),pt(),Mt(),Ut(),yt(),C(),yt(),C(),Mt();var DR=function(t){function n(n){var i;return(i=t.call(this,Al.lo)||this).source=n,i}return bt(n,t),n}(ra);yt(),C(),pt(),Mt();var IR=function(t){function n(){var n;return(n=t.call(this)||this).hU=0,n.cU=!0,n.aU=!1,n.lU=1,n}bt(n,t);var i=n.prototype;return i.Q_=function(){return this.hU},i.Ktt=function(){return this.Q_()},i.F_=function(t,n){this.aU&&this.hU===t||(this.hU=t,this.aU=!0,this.Co(new _D(this.hU)))},i.Xg=function(){this.cU&&(this.cU=!1,this.Co(new yD(this.hU)),this.Co(new kk(this.hU)))},i.Hg=function(){this.cU||(this.cU=!0,this.Co(new om(this.hU,this.R_)),this.Co(new wD(this.hU)))},i.tr=function(){this.hU=0,this.aU=!1,this.lU=1,this.Hg()},i.gn=function(){this.Vo()},i.be=function(){},i.ge=function(){},At(n,[{key:"R_",get:function(){},set:function(t){}},{key:"U_",get:function(){return this.Q_()},set:function(t){this.F_(t)}},{key:"fg",get:function(){return this.cU}},{key:"gg",get:function(){return this.lU},set:function(t){this.lU!==t&&(this.lU=t,this.Co(new AD(this.hU,this.gg)))}},{key:"Sg",get:function(){return mk.BT}},{key:"Eg",get:function(){return this.aU}}]),n}(na);yt(),C(),pt();var ER,SR={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},LR={visibility:"hidden"},jR={visibility:"visible"},CR=function(){function t(t){var n=this;this.Mit=!1,this.Tit=function(t){var i;n.Mit=!n.Qo.fg,n.pit=null==(i=t.source)?void 0:i.poster,n.Yn()},this.Qj=function(){n.Mit=!0,n.be()},this.Qo=t,this.bB(),this.Us=function(){var t=ru&&ru.document&&ru.document.createElement("div");return t.className="theoplayer-poster",pu(SR,t),t}(),t.we.appendChild(this.Us)}var n=t.prototype;return n.Yn=function(){var t=this.Qo.fg,n=this.Mit;this.zu?this.Us.style.backgroundImage='url("'+Xs(this.zu)+'")':this.Us.style.backgroundImage="",t&&this.zu&&!n?this.ge():this.be()},n.ge=function(){pu(LR,this.Qo.we),pu(jR,this.Us)},n.be=function(){pu(LR,this.Us),pu(jR,this.Qo.we)},n.bB=function(){this.Qo.yn(Al.lo,this.Tit),this.Qo.yn(Al.jh,this.Qj)},n.gn=function(){this.Qo.fn(Al.lo,this.Tit),this.Qo.fn(Al.jh,this.Qj),cu(this.Us)},At(t,[{key:"zu",get:function(){return void 0!==this.pit?this.pit:void 0!==this.Ait?this.Ait:void 0}},{key:"yit",set:function(t){this.Ait=t,this.Yn()}}]),t}();function xR(t){var n,i={get playing(){return t.Fc},get currentAds(){return t.Sit.map((function(t){return t.Nit()}))},get currentAdBreak(){var n,i;return null!=(i=null==(n=t.Iit)?void 0:n.Nit())?i:null},get scheduledAds(){return t.Dit.map((function(t){return t.Nit()}))},get scheduledAdBreaks(){return t.Eit.map((function(t){return t.Nit()}))},skip:function(){t.Ny()},schedule:function(n){var i=hE(n,II.lL);i?t.W4(i,ER.kit,!1):console.error("Invalid ad description")},registerServerSideIntegration:function(n,i){t.Lit(n,i)},addEventListener:function(t,i){n.yn(t,i)},removeEventListener:function(t,i){n.fn(t,i)},get theoads(){var n;return null==(n=t.xit)?void 0:n.va}};return n=new uL(t,i),i}yt(),C(),pt(),Mt(),yt(),C(),yt(),C(),function(t){t[t.kit=0]="kit",t[t.Cit=1]="Cit"}(ER||(ER={})),yt(),C(),Mt(),yt(),C(),pt(),Mt();var OR=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).Xl=i,r}return bt(n,t),n}(am),zR=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).adBreak=i,r}return bt(n,t),At(n,[{key:"ad",get:function(){return this.adBreak}}]),n}(ra),RR=function(t){function n(n){return t.call(this,"Oit",n)}return bt(n,t),n.prototype.fa=function(){return new BR(this.Xl.Nit())},n}(OR),BR=function(t){function n(n){return t.call(this,"removeadbreak",n)}return bt(n,t),n}(zR);yt(),C(),Mt();var PR=function(t){function n(n){return t.call(this,"jit",n)}return bt(n,t),n.prototype.fa=function(){return new UR(this.Xl.Nit())},n}(OR),UR=function(t){function n(n){return t.call(this,"addadbreak",n)}return bt(n,t),n}(zR);yt(),C(),Mt(),yt(),C(),Mt();var QR=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).Rit=i,r}return bt(n,t),n}(am),YR=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).ad=i,r}return bt(n,t),n}(ra),FR=function(t){function n(n){return t.call(this,"Pit",n)}return bt(n,t),n.prototype.fa=function(){return new GR(this.Rit.Nit())},n}(QR),GR=function(t){function n(n){return t.call(this,"addad",n)}return bt(n,t),n}(YR);yt(),C(),Mt();var VR=function(t){function n(n){return t.call(this,"zit",n)}return bt(n,t),n.prototype.fa=function(){return new WR(this.Xl.Nit())},n}(OR),WR=function(t){function n(n){return t.call(this,"adbreakend",n)}return bt(n,t),n}(zR);yt(),C(),Mt();var XR=function(t){function n(n){return t.call(this,"Bit",n)}return bt(n,t),n.prototype.fa=function(){return new ZR(this.Xl.Nit())},n}(OR),ZR=function(t){function n(n){return t.call(this,"adbreakbegin",n)}return bt(n,t),n}(zR);yt(),C(),Mt();var HR=function(t){function n(n,i){var r;return(r=t.call(this,"Uit",n)||this).currentTime=i,r}return bt(n,t),n.prototype.fa=function(){return new KR(this.Rit.Nit(),this.currentTime)},n}(QR),KR=function(t){function n(n,i){var r;return(r=t.call(this,"adbegin",n)||this).currentTime=i,r}return bt(n,t),n}(YR);yt(),C(),Mt();var qR=function(t){function n(n,i){var r;return(r=t.call(this,"Qit",n)||this).currentTime=i,r}return bt(n,t),n.prototype.fa=function(){return new JR(this.Rit.Nit(),this.currentTime)},n}(QR),JR=function(t){function n(n,i){var r;return(r=t.call(this,"adend",n)||this).currentTime=i,r}return bt(n,t),n}(YR);yt(),C(),Mt();var $R=function(t){function n(){return t.call(this,"Fit")}return bt(n,t),n.prototype.fa=function(){return new tB},n}(am),tB=function(t){function n(){return t.call(this,"adadded")}return bt(n,t),n}(ra),nB=function(t){function n(n){var i;return(i=t.call(this)||this).Xa=void 0,i.Qo=n,i}bt(n,t);var i=n.prototype;return i.W4=function(t,n,i){var r;null==(r=this.Ic)||r.W4(t,n,i)},i.Yit=function(t){var n;null==(n=this.Ic)||n.Yit(t)},i.Ny=function(){var t;null==(t=this.Ic)||t.Ny()},i.Git=function(t){var n;null==(n=this.Ic)||n.Git(t)},i.Lit=function(t,n){var i;null==(i=this.Ic)||i.Lit(t,n)},i.gn=function(){var t;return this.Vo(),null==(t=this.Ic)||t.E_(this.Ds),this.Ic=void 0,q.resolve()},At(n,[{key:"Fc",get:function(){return!!this.Ic&&this.Ic.Fc}},{key:"Sit",get:function(){return this.Ic?this.Ic.Sit:[]}},{key:"Iit",get:function(){return this.Ic?this.Ic.Iit:null}},{key:"Dit",get:function(){return this.Ic?this.Ic.Dit:[]}},{key:"Eit",get:function(){return this.Ic?this.Ic.Eit:[]}},{key:"xit",get:function(){var t;return null==(t=this.Ic)?void 0:t.xit}},{key:"va",get:function(){var t;return null!=(t=this.Xa)?t:this.Xa=xR(this)}},{key:"Uw",get:function(){return this.Ic},set:function(t){var n=this.Ic;if(n!==t){var i=this.Sit,r=this.Iit,e=this.Dit,u=this.Eit;null==n||n.E_(this.Ds),this.Ic=t,null==t||t.T_(this.Ds);for(var s=this.Sit,o=this.Iit,a=this.Dit,c=this.Eit,h=[],f=!1,v=0;v<u.length;v++){var l=u[v];mo(c,l)||h.push(new RR(l))}for(var d=0;d<c.length;d++){var g=c[d];mo(u,g)||h.push(new PR(g))}for(var w=0;w<a.length;w++){var y=a[w];mo(e,y)||(h.push(new FR(y)),f=!0)}f&&h.push(new $R),r!==o&&(r&&h.push(new VR(r)),o&&h.push(new XR(o)));for(var m=0;m<i.length;m++){var A=i[m];mo(s,A)||h.push(new qR(A,this.Qo.Q_()))}for(var p=0;p<s.length;p++){var _=s[p];mo(i,_)||h.push(new HR(_,this.Qo.Q_()))}for(var k=0;k<h.length;k++){var b=h[k];this.Co(b)}}}}]),n}(na);yt(),C(),pt(),Mt();var iB=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Xa=void 0,n.Zit=[],n.Vit=[],n}bt(n,t);var i=n.prototype;return i.W4=function(t,n,i){this.Vit.push({Wit:t,Hit:n,Xit:i})},i.Ny=function(){},i.Git=function(t){},i.Lit=function(t,n){this.Zit.push({Bp:t,qit:n})},i.Yit=function(t){var n=this.Zit.slice(),i=this.Vit.slice();this.tr();for(var r=0;r<n.length;r++){var e=n[r];t.Lit(e.Bp,e.qit)}for(var u=0;u<i.length;u++){var s=i[u];t.W4(s.Wit,s.Hit,s.Xit)}},i.Kit=function(){var t=this.Vit.map((function(t){return t.Wit}));return this.tr(),t},i.tr=function(){po(this.Zit),po(this.Vit)},i.gn=function(){return this.Vo(),this.tr(),q.resolve()},At(n,[{key:"Fc",get:function(){return!1}},{key:"Sit",get:function(){return[]}},{key:"Iit",get:function(){return null}},{key:"Dit",get:function(){return[]}},{key:"Eit",get:function(){return[]}},{key:"va",get:function(){var t;return null!=(t=this.Xa)?t:this.Xa=xR(this)}}]),n}(na);function rB(t){return function(n){function i(i,r){var e;return(e=n.call(this)||this).fet=!0,e.V6=mk.BT,e.cet=!1,e.SB=void 0,e.vz=void 0,e.bU=void 0,e.eet=function(t){t.type!==Al.qv&&e.let.push(t)},e._et=function(t){(t.type!==Al.jh||e.Qo.fg)&&(t.type===Al.Sh&&e.Qo.fg||t.type===Al.im&&e.Qo.Eg&&e.Qo.Q_()===t.currentTime||t.type===Al.qv&&e.Qo.gg===t.playbackRate||e.Co(t))},e.ew=function(t){if(e.cet){if(t.type===gk.Tm)return;t.type!==gk.pm&&t.type!==gk.Sm||(e.cet=!1)}if(t.type===Al.jh){if(!e.fet)return;e.fet=!1}else if(t.type===Al.Sh){if(e.fet)return;e.fet=!0}else if(t.type===gk.Nw){if(e.V6===t.readyState)return;e.V6=t.readyState}else if(t.type===Al.Ev)return;e.Co(t)},e.Jit=new t(i,r),e.det=new IR,e.Qo=e.Jit,e.tet=new CR(Wt(e)),e.Jit.Oc&&(e.Ic=new nB(Wt(e)),e.Ic.Uw=e.Jit.Oc,e.wet=new iB),e.XZ=new el,e.let=[],e.EB=!0,e.bB(),e}bt(i,n);var r=i.prototype;return r.JO=function(t,n){var i=this;return Ot((function(){return Rt(this,(function(r){return[2,i.XZ.JO(t,n).catch(Qo)]}))}))()},r.iet=function(t,n){var i=this;return Ot((function(){return Rt(this,(function(r){switch(r.label){case 0:Po(n),i.Jit.T_(i.eet),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,i.Jit.ga(t,n)];case 2:return r.sent(),[3,4];case 3:return i.Jit.E_(i.eet),[7];case 4:return[2]}}))}))()},r.$it=function(){var t=this;return Ot((function(){var n;return Rt(this,(function(i){switch(i.label){case 0:return[4,t.net()];case 1:return n=i.sent(),t.ret(n),[2]}}))}))()},r.net=function(){var t=this;return Ot((function(){var n;return Rt(this,(function(i){return(n=t.Wa())&&!JI(n)&&t.eS&&t.fg?[2,t.Gtt.oet(t.og)]:[2,"none"]}))}))()},r.ret=function(t){var n,i=(null==(n=this.Wa())?void 0:n.mutedAutoplay)||this.wd.mutedAutoplay;switch(t){case"all":this.het();break;case"muted":(this.og||i===ND.ALL)&&(this.og=!0,this.Xg())}},r.ga=function(t){JI(this.SB)||this.Co(new gD(0,mk.BT)),this.tr(),this.SB=t;var n=this;Xo(this.JO(Ot((function(i){var r,e;return Rt(this,(function(u){switch(u.label){case 0:Po(i),u.label=1;case 1:return u.trys.push([1,3,4,5]),[4,n.iet(t,i)];case 2:return u.sent(),[3,5];case 3:return Uo(r=u.sent()),n.SB=void 0,n.rB(qv(r,Xv.SOURCE_NOT_SUPPORTED)),[2];case 4:return n.aet(n.Jit),[7];case 5:return[4,n.net()];case 6:return e=u.sent(),n.Co(new DR(n.Wa())),n.ret(e),[2]}}))}))))},r.F_=function(t,n){this.Qo.F_(t,n)},r.W_=function(){var t;return null!=(t=this.bU)?t:this.Jit.W_()},r.X_=function(){var t;return null!=(t=this.vz)?t:this.Jit.X_()},r.rB=function(t){void 0===this.X_()&&(this.vz=t,this.bU=Km(t),this.Co(new gT(t)))},r.Xg=function(){this.Qo.Xg()},r.het=function(){this.og||this.Wg(),this.Xg()},r.Wg=function(){this.Jit.Wg()},r.Hg=function(){this.Qo.Hg()},r.Zg=function(){this.ga(void 0)},r.ge=function(){this.EB=!0,this.Qo.ge()},r.be=function(){this.EB=!1,this.Qo.be()},r.ka=function(){this.Jit.ka()},r.Ug=function(t){this.Jit.Ug(t)},r.ag=function(t){this.Jit.ag(t)},r.wa=function(t){this.uet=t,t.Eq(this)},r.cs=function(){return this.Jit.cs()},r.Wa=function(){return this.SB},r.Vg=function(){return this.Jit.Vg()},r.Q_=function(){return this.Qo.Q_()},r.Ktt=function(){return this.Qo.Ktt()},r.Td=function(){return this.Jit.Td()},r.j_=function(){return this.Jit.j_()},r.Ag=function(){return this.Jit.Ag()},r.Dg=function(){return this.Jit.Dg()},r.$g=function(){this.Jit.$g()},r.iw=function(){this.Jit.iw()},r.tr=function(){this.SB=void 0,this.vz=void 0,this.bU=void 0,this.cet=!0,po(this.let),this.det.tr(),this.aet(this.det),this.XZ.g_();var t=this;Xo(this.XZ.JO(Ot((function(n){return Rt(this,(function(i){switch(i.label){case 0:return Po(n),[4,t.Jit.Zg()];case 1:return i.sent(),[2]}}))}))))},r.gn=function(){this.Co(new _R),this.tet.gn(),this.TB(),this.tr();var t=this;Xo(this.JO(Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return[4,t.Jit.gn()];case 1:return n.sent(),t.uet&&(t.uet.rS(t),t.uet=void 0),t.XZ.gn(),[2]}}))})))),this.Vo()},r.aet=function(t){if(this.Qo!==t){var n=this.Qo.fg,i=this.Qo.Q_(),r=this.Qo.gg,e=this.Qo.Sg,u=this.Qo.Eg;this.fet=n,this.V6=e,this.TB(),t.T_(this._et),t===this.Jit?(void 0!==this.Ic&&(this.Ic.Uw=t.Oc,this.wet.Yit(this.Ic)),(u||t.Q_()!==i)&&t.F_(i),t.gg!==r&&(t.gg=r),n?t.Hg():t.Xg()):(void 0!==this.Ic&&(this.Ic.Uw=this.wet,this.wet.tr()),this.wd.retainPlaybackRateOnSourceChange?t.gg=r:1!==r&&this.Co(new AD(this.Q_(),1))),t.E_(this._et),this.Qo=t,this.bB();for(var s=0,o=this.let;s<o.length;s++){var a=o[s];this.Co(a)}po(this.let),this.EB?t.ge():t.be()}},r.bB=function(){this.Qo.T_(this.ew)},r.TB=function(){this.Qo.E_(this.ew)},r.fa=function(){return function(t){var n,i,r=function(n){i=n;var r=fE(n,t.wd);t.ga(r)},e={get abr(){return t.Qtt.va},get ads(){var n;return null==(n=t.Oc)?void 0:n.va},get audioTracks(){return t.ht.va},get autoplay(){return t.eS},set autoplay(n){t.eS=Boolean(n)},get buffered(){return t.j_()},get canvas(){return t.iit.va},get cast(){var n;return null==(n=t.YF)?void 0:n.va},get clip(){return t.qtt.va},get currentProgramDateTime(){var n;return null!=(n=t.R_)?n:null},set currentProgramDateTime(n){t.R_=null!=n?n:void 0},get currentTime(){return t.Q_()},set currentTime(n){t.F_(Number(n))},get duration(){return t.Td()},get element(){return t.we},get ended(){return t.G_},get error(){return t.W_()},get errorObject(){return t.X_()},get loop(){return t.jX.jX},set loop(n){t.jX.jX=Boolean(n)},get metrics(){return t.eg.va},get muted(){return t.og},set muted(n){t.ag(n)},get network(){return t.hF.va},get paused(){return t.fg},get playbackRate(){return t.gg},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.gg=i},get played(){return t.Ag()},get poster(){return t.mi},set poster(n){t.mi=Cm(n)},get preload(){return t.yg},set preload(n){t.yg=function(t){switch(t){case"auto":case"":return"auto";case"metadata":return"metadata";default:return"none"}}(n)},get presentation(){return t.tit.va},get readyState(){return t.Sg},get seekable(){return t.Dg()},get seeking(){return t.Eg},get source(){return i},set source(t){r(t)},get src(){return iE(t.Wa())},set src(t){r({sources:t})},get textTracks(){return t.nt.va},get textTrackStyle(){return t.Ol.va},get theoLive(){return t.cit},get uid(){return t.Xw},get videoHeight(){return t.Cg},get videoTracks(){return t.rt.va},get videoWidth(){return t.Rg},get visibility(){return t.Bo.va},get volume(){return t.zg},set volume(n){t.Ug(Number(n))},get latency(){return t.Qg.va},destroy:function(){t.gn(),t=null,i=void 0},play:function(){t.het()},pause:function(){t.Hg()},stop:function(){i=void 0,t.Zg()},prepareWithUserAction:function(){t.Wg()},addEventListener:function(t,i){n.yn(t,i)},removeEventListener:function(t,i){n.fn(t,i)},setSource:function(t){r(t)}};return(n=new mI(e,!0)).Qa(t),n.yn("destroy",(function(){n.gn()})),e}(this)},At(i,[{key:"sit",get:function(){return this.Jit.sit}},{key:"Oc",get:function(){return this.Ic}},{key:"iit",get:function(){return this.Jit.iit}},{key:"wd",get:function(){return this.Jit.wd}},{key:"Hj",get:function(){return this.Jit.Hj}},{key:"ya",get:function(){return this.Jit.ya}},{key:"tit",get:function(){return this.Jit.tit}},{key:"Htt",get:function(){return this.Jit.Htt}},{key:"Ytt",get:function(){return this.Jit.Ytt}},{key:"Qtt",get:function(){return this.Jit.Qtt}},{key:"eS",get:function(){return this.Jit.eS},set:function(t){this.Jit.eS=t,this.$it()}},{key:"Gtt",get:function(){return this.Jit.Gtt}},{key:"ht",get:function(){return this.Jit.ht}},{key:"YF",get:function(){return this.Jit.YF}},{key:"Iu",get:function(){return this.Jit.Htt}},{key:"va",get:function(){return this.Xa||(this.Xa=this.fa()),this.Xa}},{key:"Z_",get:function(){return this.Jit.Z_}},{key:"Yg",get:function(){return this.Jit.Yg},set:function(t){this.Jit.Yg=t}},{key:"eg",get:function(){return this.Jit.eg}},{key:"hF",get:function(){return this.Jit.hF}},{key:"nt",get:function(){return this.Jit.nt}},{key:"Ol",get:function(){return this.Jit.Ol}},{key:"rt",get:function(){return this.Jit.rt}},{key:"qtt",get:function(){return this.Jit.qtt}},{key:"jX",get:function(){return this.Jit.jX}},{key:"R_",get:function(){return this.Qo.R_},set:function(t){this.Qo.R_=t}},{key:"bt",get:function(){return this.Jit.bt}},{key:"we",get:function(){return this.Jit.we}},{key:"G_",get:function(){return this.Jit.G_}},{key:"og",get:function(){return this.Jit.og},set:function(t){this.ag(t)}},{key:"fg",get:function(){return this.Qo.fg}},{key:"mi",get:function(){return this.tet.zu||""},set:function(t){this.tet.yit=t}},{key:"gg",get:function(){return this.Jit.gg},set:function(t){this.Qo.gg=t}},{key:"yg",get:function(){return this.Jit.yg},set:function(t){this.Jit.yg=t}},{key:"Sg",get:function(){return this.Qo.Sg}},{key:"ba",get:function(){return this.Jit.ba},set:function(t){this.Jit.ba=t}},{key:"Eg",get:function(){return this.Qo.Eg}},{key:"cit",get:function(){return this.Jit.cit}},{key:"Xw",get:function(){return this.Jit.Xw}},{key:"Cg",get:function(){return this.Jit.Cg}},{key:"Rg",get:function(){return this.Jit.Rg}},{key:"zg",get:function(){return this.Jit.zg},set:function(t){this.Ug(t)}},{key:"Qg",get:function(){return this.Jit.Qg}},{key:"Jtt",get:function(){return this.Jit.Jtt}},{key:"Bo",get:function(){return this.Jit.Bo}}]),i}(na)}yt(),C(),Mt();var eB,uB=function(t){function n(n){var i;return(i=t.call(this,"tizen2retry")||this).originalErrorEvent=n,i}return bt(n,t),n}(ra);function sB(){if(!eB){var t=kR;t=function(t){return function(n){function i(i,r){for(var e=new t(i,r),u=0;u<RT.length;u++){var s=RT[u];if(UT[s])for(var o=0,a=UT[s];o<a.length;o++)e=(0,a[o])(e)}return n.call(this,e)}return bt(i,n),i}(zT)}(t);var n=rB(t);xn.wk&&xn.pk<3&&(n=function(t){return function(t){function n(){var n;return(n=t.apply(this,arguments)||this).vet=0,n}bt(n,t);var i=n.prototype;return i.ga=function(n){this.vet=0,t.prototype.ga.call(this,n)},i.Co=function(n){if(n.type===p_.ha&&this.vet<3)return this.vet++,t.prototype.Co.call(this,new uB(n)),void t.prototype.ga.call(this,this.Wa());t.prototype.Co.call(this,n)},n}(t)}(n)),n=function(t){for(var n=t,i=0;i<RT.length;i++){var r=RT[i];if(BT[r])for(var e=0,u=BT[r];e<u.length;e++)n=(0,u[e])(n)}return n}(n),eB=n}return eB}function oB(t,n){var i=ED(n),r=new(sB())(t,i);r.ba=r;var e=r.va;return r.ka(),r.wa(NR),g.defineProperty(e,"constructor",{value:oB}),e=_m(e),FT(r),e}Wo((function(){self.dispatchEvent&&self.dispatchEvent(MR("theoplayerready"))})),yt(),C();var aB=function(){function t(){}var n=t.prototype;return n.encode=function(t){return _a(t)},n.decode=function(t){return ma(t)},t}(),cB={base64:new aB};yt(),C();var hB=JSON.parse('["dash","hesp","millicast","hls","chromecast","ads","theoads","airplay","spotx","vr","vr-webxr","cache","webaudio","youbora","mediamelon","moat","google-dai","streamone","lcevc","freewheel","agama","verizonmedia","mediatailor","ui","relatedcontent","social","upnext","contextmenu","texttrackstyle-ui","activequalitylabel","upcomingadnotification"]'),fB="8.3.0",vB="2024.4.0",lB=NR.va,dB=nb.qp.registerContentProtectionIntegration.bind(nb.qp);yt(),C(),yt(),C(),yt(),C(),zt(),Ut();var gB=function(){function t(t){this.gU=t,this.hnt=new el}var n=t.prototype;return n.oet=function(t){var n=this;return this.hnt.JO((function(){return n.ant(t)}))},n.Wg=function(){this.gU._U()},n.ant=function(n){var i=this;return Ot((function(){var r,e,u;return Rt(this,(function(s){switch(s.label){case 0:return r=i.gU.oB(Gm.VA),e=r.pz,[4,t.unt(e,n)];case 1:return u=s.sent(),[4,i.gU.Fz(r)];case 2:return s.sent(),[2,u]}}))}))()},n.gn=function(){this.hnt.gn()},t.unt=function(n,i){return Ot((function(){var r;return Rt(this,(function(e){switch(e.label){case 0:return xn.yk||xn.wk?[2,"all"]:(n.src||(n.src="data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"),[4,t.cnt()]);case 1:return e.sent(),(r=!i)?[4,t.lnt(n,!1)]:[3,3];case 2:r=e.sent(),e.label=3;case 3:return r?[2,"all"]:[4,t.lnt(n,!0)];case 4:return e.sent()?[2,"muted"]:[2,"none"]}}))}))()},t.lnt=function(t,n){return Ot((function(){var i,r;return Rt(this,(function(e){switch(e.label){case 0:t.muted=n,i=t.play(),e.label=1;case 1:return e.trys.push([1,3,4,5]),Vn(i)?(r=Ko(250),[4,q.race([i,r])]):[2,!xn.Qs];case 2:return e.sent(),[2,!0];case 3:return e.sent(),[2,!1];case 4:return t.pause(),t.muted=!0,[7];case 5:return[2]}}))}))()},t.cnt=function(){return new q((function(t){if("function"==typeof MessageChannel){var n=new MessageChannel;n.port1.onmessage=function(){return t()},n.port2.postMessage("")}else a(t,0)}))},t}(),wB={OG:function(t){ru.addEventListener("beforeunload",t)},EG:function(t){ru.removeEventListener("beforeunload",t)}};!function(t){tu=t.Zst,nu=t.qst,iu=t.Kst,ru=t.Jst,eu=ru&&ru.location,uu=ru&&ru.navigator}({Zst:sR,qst:gB,Kst:wB,Jst:e}),yt(),C(),yt(),C(),Mt(),yt(),C(),zt(),Mt(),Ut(),yt(),C(),zt(),Ut();var yB=function(){function t(){}return t.prototype.hB=function(n){return Ot((function(){var i;return Rt(this,(function(r){switch(r.label){case 0:return qN(n.type)?!(i=n.contentProtection)||ab(i)?[3,2]:fb(i)?[4,t.dnt(i)]:[2,!1]:[2,!1];case 1:if(!r.sent())return[2,!1];r.label=2;case 2:return[2,!0]}}))}))()},t.dnt=function(t){return Ot((function(){var n,i,r;return Rt(this,(function(e){switch(e.label){case 0:return(n=t.playready)?[4,an.AO()]:[3,2];case 1:n=e.sent(),e.label=2;case 2:return n?[2,!0]:(i=t.widevine)?[4,an.vO()]:[3,4];case 3:i=e.sent(),e.label=4;case 4:return i?[2,!0]:(r=t.clearkey)?[4,an.pO()]:[3,6];case 5:r=e.sent(),e.label=6;case 6:return r?[2,!0]:[4,an.IO()];case 7:return e.sent()?[2,!0]:[2,!1]}}))}))()},t}(),mB=function(t){function n(){return t.apply(this,arguments)}return bt(n,t),n.prototype.hB=function(n){var i=this;return Ot((function(){return Rt(this,(function(r){return Pu(n.useManagedMediaSource)?[2,t.prototype.hB.call(i,n)]:[2,!1]}))}))()},n}(yB);function AB(t){return cy(t)}function pB(t,n){var i=cy(t);return n?""+i+n:""+i}yt(),C(),zt(),Ut(),yt(),C();var _B=function(){function t(t,n,i,r){this.gnt=t,this.vnt=n,this.pnt=i,this.Ant=r}var n=t.prototype;return n.fnt=function(t){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return[4,n.gnt._nt(t.map(AB))];case 1:return[2,i.sent().shift()]}}))}))()},n.wnt=function(t,n){var i=pB(t,n);return this.vnt.NL(i)},n.mnt=function(t,n){var i=this;return Ot((function(){var r,e;return Rt(this,(function(u){switch(u.label){case 0:return e=pB(t,n),[4,i.pnt.IL(e)];case 1:return[2,null==(r=u.sent())?void 0:r.data]}}))}))()},n.aZ=function(t){return this.Ant.IL(t)},t}();yt(),C(),pt(),yt(),C(),yt(),C();var kB=function(){function t(){}var n=t.prototype;return n.ynt=function(t){return q.resolve(!1)},n.Mnt=function(t){return q.reject(bB)},n.bnt=function(t){return q.reject(bB)},n.NL=function(t){return q.resolve(!1)},n.IL=function(t){return q.resolve(void 0)},n.Tnt=function(t,n){return q.resolve(void 0)},n._nt=function(t){return q.resolve([])},n.Snt=function(){return q.resolve([])},n.Nnt=function(t){return q.resolve([])},n.Int=function(t,n){return q.resolve([])},n.rS=function(t){return q.reject(bB)},n.Dnt=function(t){return q.reject(bB)},n.Ent=function(){return q.reject(bB)},t}(),bB="Storage disabled",MB=function(){function t(){this.Rnt=new kB,this.jnt=new kB,this.Pnt=new kB,this.znt=new kB,this.Bnt=new kB}return t.prototype.Cnt=function(t){return q.reject(TB)},t.G7=function(){return q.resolve(new t)},t}(),TB="Storage disabled";yt(),C(),zt(),Ut(),yt(),C(),zt(),pt(),Ut(),yt(),C(),zt(),pt(),Ut();var NB,DB=function(){function t(t){var n=this;this.__=new Bc,this.Lnt=void 0,this.__.w_(t),this.__.OL.then((function(t){n.Lnt=t}))}var n=t.prototype;return n.ynt=function(t){var n=this;return Ot((function(){var i;return Rt(this,(function(r){switch(r.label){case 0:return(i=n.Lnt)?[3,2]:[4,n.knt];case 1:i=r.sent(),r.label=2;case 2:return[2,i.ynt(t)]}}))}))()},n.Mnt=function(t,n){var i=this;return Ot((function(){var r;return Rt(this,(function(e){switch(e.label){case 0:return(r=i.Lnt)?[3,2]:[4,i.knt];case 1:r=e.sent(),e.label=2;case 2:return[2,r.Mnt(t,n)]}}))}))()},n.bnt=function(t,n){var i=this;return Ot((function(){var r;return Rt(this,(function(e){switch(e.label){case 0:return(r=i.Lnt)?[3,2]:[4,i.knt];case 1:r=e.sent(),e.label=2;case 2:return[2,r.bnt(t,n)]}}))}))()},n.NL=function(t){var n=this;return Ot((function(){var i;return Rt(this,(function(r){switch(r.label){case 0:return(i=n.Lnt)?[3,2]:[4,n.knt];case 1:i=r.sent(),r.label=2;case 2:return[2,i.NL(t)]}}))}))()},n.IL=function(t){var n=this;return Ot((function(){var i;return Rt(this,(function(r){switch(r.label){case 0:return(i=n.Lnt)?[3,2]:[4,n.knt];case 1:i=r.sent(),r.label=2;case 2:return[2,i.IL(t)]}}))}))()},n.Tnt=function(t,n){var i=this;return Ot((function(){var r;return Rt(this,(function(e){switch(e.label){case 0:return(r=i.Lnt)?[3,2]:[4,i.knt];case 1:r=e.sent(),e.label=2;case 2:return[2,r.Tnt(t,n)]}}))}))()},n._nt=function(t){var n=this;return Ot((function(){var i;return Rt(this,(function(r){switch(r.label){case 0:return(i=n.Lnt)?[3,2]:[4,n.knt];case 1:i=r.sent(),r.label=2;case 2:return[2,i._nt(t)]}}))}))()},n.Snt=function(){var t=this;return Ot((function(){var n;return Rt(this,(function(i){switch(i.label){case 0:return(n=t.Lnt)?[3,2]:[4,t.knt];case 1:n=i.sent(),i.label=2;case 2:return[2,n.Snt()]}}))}))()},n.Nnt=function(t){var n=this;return Ot((function(){var i;return Rt(this,(function(r){switch(r.label){case 0:return(i=n.Lnt)?[3,2]:[4,n.knt];case 1:i=r.sent(),r.label=2;case 2:return[2,i.Nnt(t)]}}))}))()},n.Int=function(t,n){var i=this;return Ot((function(){var r;return Rt(this,(function(e){switch(e.label){case 0:return(r=i.Lnt)?[3,2]:[4,i.knt];case 1:r=e.sent(),e.label=2;case 2:return[2,r.Int(t,n)]}}))}))()},n.rS=function(t){var n=this;return Ot((function(){var i;return Rt(this,(function(r){switch(r.label){case 0:return(i=n.Lnt)?[3,2]:[4,n.knt];case 1:i=r.sent(),r.label=2;case 2:return[2,i.rS(t)]}}))}))()},n.Dnt=function(t){var n=this;return Ot((function(){var i;return Rt(this,(function(r){switch(r.label){case 0:return(i=n.Lnt)?[3,2]:[4,n.knt];case 1:i=r.sent(),r.label=2;case 2:return[2,i.Dnt(t)]}}))}))()},n.Ent=function(){var t=this;return Ot((function(){var n;return Rt(this,(function(i){switch(i.label){case 0:return(n=t.Lnt)?[3,2]:[4,t.knt];case 1:n=i.sent(),i.label=2;case 2:return[2,n.Ent()]}}))}))()},At(t,[{key:"knt",get:function(){return this.__.OL}}]),t}(),IB=function(){function t(t){var n=this;this.__=new Bc,this.Ont=void 0,this.__.w_(t);var i=this.__.OL;i.then((function(t){n.Ont=t})),this.jnt=new DB(i.then((function(t){return t.jnt}))),this.Rnt=new DB(i.then((function(t){return t.Rnt}))),this.Pnt=new DB(i.then((function(t){return t.Pnt}))),this.znt=new DB(i.then((function(t){return t.znt}))),this.Bnt=new DB(i.then((function(t){return t.Bnt})))}return t.prototype.Cnt=function(t){var n=this;return Ot((function(){var i;return Rt(this,(function(r){switch(r.label){case 0:return(i=n.Ont)?[3,2]:[4,n.xnt];case 1:i=r.sent(),r.label=2;case 2:return[4,i.Cnt(t)];case 3:return[2,r.sent()]}}))}))()},At(t,[{key:"xnt",get:function(){return this.__.OL}}]),t}();function EB(t){return new v("This storage cannot handle persistency type "+t)}yt(),C(),yt(),C(),Ct(),yt(),C(),function(t){t.Unt="readonly",t.Qnt="readwrite"}(NB||(NB={}));var SB=function(){function t(){this.mx=[]}var n=t.prototype;return n.ynt=function(t){return q.resolve("temporary"===t)},n.Mnt=function(t,n){return void 0===n&&(n="temporary"),"temporary"!==n?q.reject(EB(n)):(this.Fnt(t.key),this.mx.push(t),q.resolve())},n.bnt=function(t,n){if(void 0===n&&(n="temporary"),"temporary"!==n)return q.reject(EB(n));for(var i=0;i<t.length;i++){var r=t[i];this.Fnt(r.key)}for(var e=0;e<t.length;e++){var u=t[e];this.mx.push(u)}return q.resolve()},n.NL=function(t){return q.resolve(Boolean(this.Ynt(t)))},n.IL=function(t){return q.resolve(this.Ynt(t))},n.Tnt=function(t,n){return q.resolve(this.Gnt(t,n))},n._nt=function(t){var n=this,i=t?t.map((function(t){return n.Ynt(t)})):this.mx;return q.resolve(i.filter(Rn))},n.Snt=function(){return q.resolve(jt(this.mx))},n.Nnt=function(t){return this.Int(t,"key")},n.Int=function(t,n){var i=this.mx.filter((function(i){return i[n]===t}));return q.resolve(i)},n.rS=function(t){return this.Fnt(t),q.resolve()},n.Dnt=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Fnt(i)}return q.resolve()},n.Ent=function(){return po(this.mx),q.resolve()},n.Ynt=function(t){return this.Gnt(t,"key")},n.Gnt=function(t,n){for(var i=0,r=this.mx;i<r.length;i++){var e=r[i];if(e[n]===t)return e}},n.Fnt=function(t){var n=this.Ynt(t);n&&go(this.mx,n)},t}(),LB=function(){function t(){this.Rnt=new SB,this.jnt=new SB,this.Pnt=new SB,this.znt=new SB,this.Bnt=new SB}return t.prototype.Cnt=function(t){return t(this)},t.G7=function(){return q.resolve(new t)},t}();yt(),C(),zt(),pt(),Ut(),yt(),C(),zt(),Ct(),Ut();var jB=function(){function t(t){this.Vnt=t}var n=t.prototype;return n.ynt=function(t){var n=this;return Ot((function(){var i,r;return Rt(this,(function(e){switch(e.label){case 0:i=0,r=n.Vnt,e.label=1;case 1:return i<r.length?[4,r[i].ynt(t)]:[3,4];case 2:if(e.sent())return[2,!0];e.label=3;case 3:return i++,[3,1];case 4:return[2,!1]}}))}))()},n.Mnt=function(t,n){void 0===n&&(n="persistent");var i=this;return Ot((function(){var r,e,u;return Rt(this,(function(s){switch(s.label){case 0:r=0,e=i.Vnt,s.label=1;case 1:return r<e.length?[4,(u=e[r]).ynt(n)]:[3,4];case 2:if(s.sent())return[2,u.Mnt(t)];s.label=3;case 3:return r++,[3,1];case 4:throw EB(n)}}))}))()},n.bnt=function(t,n){void 0===n&&(n="persistent");var i=this;return Ot((function(){var r,e,u;return Rt(this,(function(s){switch(s.label){case 0:r=0,e=i.Vnt,s.label=1;case 1:return r<e.length?[4,(u=e[r]).ynt(n)]:[3,4];case 2:if(s.sent())return[2,u.bnt(t)];s.label=3;case 3:return r++,[3,1];case 4:throw EB(n)}}))}))()},n.NL=function(t){var n=this;return Ot((function(){var i,r;return Rt(this,(function(e){switch(e.label){case 0:i=0,r=n.Vnt,e.label=1;case 1:return i<r.length?[4,r[i].NL(t)]:[3,4];case 2:if(e.sent())return[2,!0];e.label=3;case 3:return i++,[3,1];case 4:return[2,!1]}}))}))()},n.IL=function(t){var n=this;return Ot((function(){var i,r,e;return Rt(this,(function(u){switch(u.label){case 0:i=0,r=n.Vnt,u.label=1;case 1:return i<r.length?[4,r[i].IL(t)]:[3,4];case 2:if(e=u.sent())return[2,e];u.label=3;case 3:return i++,[3,1];case 4:return[2,void 0]}}))}))()},n.Tnt=function(t,n){var i=this;return Ot((function(){var r,e,u;return Rt(this,(function(s){switch(s.label){case 0:r=0,e=i.Vnt,s.label=1;case 1:return r<e.length?[4,e[r].Tnt(t,n)]:[3,4];case 2:if(u=s.sent())return[2,u];s.label=3;case 3:return r++,[3,1];case 4:return[2,void 0]}}))}))()},n._nt=function(t){var n=this;return Ot((function(){var i,r,e,u,s,o,a,c;return Rt(this,(function(h){switch(h.label){case 0:i=[],r=0,e=n.Vnt,h.label=1;case 1:return r<e.length?(u=e[r],a=(o=(s=i).push).apply,c=[s],[4,u._nt(t)]):[3,4];case 2:a.apply(o,c.concat([jt.apply(void 0,[h.sent()])])),h.label=3;case 3:return r++,[3,1];case 4:return[2,i]}}))}))()},n.Snt=function(){var t=this;return Ot((function(){var n,i,r,e,u,s,o,a;return Rt(this,(function(c){switch(c.label){case 0:n=[],i=0,r=t.Vnt,c.label=1;case 1:return i<r.length?(e=r[i],o=(s=(u=n).push).apply,a=[u],[4,e.Snt()]):[3,4];case 2:o.apply(s,a.concat([jt.apply(void 0,[c.sent()])])),c.label=3;case 3:return i++,[3,1];case 4:return[2,n]}}))}))()},n.Nnt=function(t){var n=this;return Ot((function(){var i,r,e,u,s,o,a,c;return Rt(this,(function(h){switch(h.label){case 0:i=[],r=0,e=n.Vnt,h.label=1;case 1:return r<e.length?(u=e[r],a=(o=(s=i).push).apply,c=[s],[4,u.Nnt(t)]):[3,4];case 2:a.apply(o,c.concat([jt.apply(void 0,[h.sent()])])),h.label=3;case 3:return r++,[3,1];case 4:return[2,i]}}))}))()},n.Int=function(t,n){var i=this;return Ot((function(){var r,e,u,s,o,a,c,h;return Rt(this,(function(f){switch(f.label){case 0:r=[],e=0,u=i.Vnt,f.label=1;case 1:return e<u.length?(s=u[e],c=(a=(o=r).push).apply,h=[o],[4,s.Int(t,n)]):[3,4];case 2:c.apply(a,h.concat([jt.apply(void 0,[f.sent()])])),f.label=3;case 3:return e++,[3,1];case 4:return[2,r]}}))}))()},n.rS=function(t){var n=this;return Ot((function(){var i,r;return Rt(this,(function(e){switch(e.label){case 0:i=0,r=n.Vnt,e.label=1;case 1:return i<r.length?[4,r[i].rS(t)]:[3,4];case 2:e.sent(),e.label=3;case 3:return i++,[3,1];case 4:return[2]}}))}))()},n.Dnt=function(t){var n=this;return Ot((function(){var i,r;return Rt(this,(function(e){switch(e.label){case 0:i=0,r=n.Vnt,e.label=1;case 1:return i<r.length?[4,r[i].Dnt(t)]:[3,4];case 2:e.sent(),e.label=3;case 3:return i++,[3,1];case 4:return[2]}}))}))()},n.Ent=function(){var t=this;return Ot((function(){var n,i;return Rt(this,(function(r){switch(r.label){case 0:n=0,i=t.Vnt,r.label=1;case 1:return n<i.length?[4,i[n].Ent()]:[3,4];case 2:r.sent(),r.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))()},t}();function CB(t){return Ot((function(){var n;return Rt(this,(function(i){switch(i.label){case 0:return[4,q.all(t.map((function(t){return t()})))];case 1:return n=i.sent(),[2,xB.G7(n)]}}))}))}var xB=function(){function t(t){this.Knt=t,this.Wnt=new jB(t.map((function(t){return t.znt}))),this.Hnt=new jB(t.map((function(t){return t.Bnt}))),this.Xnt=new jB(t.map((function(t){return t.Pnt}))),this.Znt=new jB(t.map((function(t){return t.Rnt}))),this.qnt=new jB(t.map((function(t){return t.jnt})))}return t.prototype.Cnt=function(n){var i=this;if(0===this.Knt.length)return n(this);var r=[],e=0,u=function(s){return r.push(s),++e<i.Knt.length?i.Knt[e].Cnt(u):n(new t(r))};return this.Knt[e].Cnt(u)},t.G7=function(n){return q.resolve(new t(n))},At(t,[{key:"znt",get:function(){return this.Wnt}},{key:"Bnt",get:function(){return this.Hnt}},{key:"Pnt",get:function(){return this.Xnt}},{key:"Rnt",get:function(){return this.Znt}},{key:"jnt",get:function(){return this.qnt}}]),t}(),OB=function(){function t(t){this.rrt=[],this.nrt=!0,this.ort=t}var n=t.prototype;return n.G7=function(){return new IB(this.ert())},n.ert=function(){var t=this;return Ot((function(){var n,i,r;return Rt(this,(function(e){switch(e.label){case 0:return t.nrt?[4,q.resolve()]:[3,2];case 1:e.sent(),t.nrt=!1,e.label=2;case 2:n=0,i=t.rrt,e.label=3;case 3:if(!(n<i.length))return[3,8];r=i[n],e.label=4;case 4:return e.trys.push([4,6,,7]),[4,CB([LB.G7,r])()];case 5:return[2,e.sent()];case 6:return e.sent(),[3,7];case 7:return n++,[3,3];case 8:return[4,CB([LB.G7,t.ort])()];case 9:return[2,e.sent()]}}))}))()},n.wa=function(t){if(!this.nrt)throw new v("Registration overdue");this.rrt.push(t)},t}(),zB=function(){function t(){}return t.wa=function(n){t.ZP.wa(n)},At(t,null,[{key:"lL",get:function(){return t.Jnt||(t.Jnt=t.ZP.G7()),t.Jnt}}]),t}();function RB(t){return void 0!==t.Cg}function BB(t){var n=xn.yk||xn.wk,i=void 0!==t&&void 0!==t.preferredAudioCodecs&&t.preferredAudioCodecs.some((function(t){return"ac-3"===t||"ec-3"===t})),r=n&&!i,e=new Bu(!0);return Ot((function(t){var n,i,u;return Rt(this,(function(s){switch(s.label){case 0:return n=t.Nz,e.C1(n)||function(t,n){return!!t&&(Nv(t)?H_(n)||q_(n):Rs(t,Tv.APPLICATION_TTML_XML)||Rs(t,Tv.TEXT_VTT)||Rs(t,Tv.IMAGE_JPEG))}(t.aG,t.$nt)?(i=t.$nt.some((function(t){return"ac-3"===t||"ec-3"===t})),r&&i?[2,!1]:t.trt?(u=t.trt,[4,Eo(ko(u,(function(t){return Os(t.irt)})).filter(Rn),(function(t){return an.bO(t,n)}))]):[3,2]):[2,!1];case 1:if(!s.sent())return[2,!1];s.label=2;case 2:return[2,!0]}}))}))}zB.ZP=new OB(MB.G7),zB.Jnt=void 0,yt(),C(),Xt(),zt(),pt(),Mt(),Ut(),yt(),C(),yt(),C(),zt(),Ut(),yt(),C(),pt();var PB=function(){function t(t){this.hrt=t}return At(t,[{key:"Ti",get:function(){return this.hrt.offsetHeight*an.Ys.h5}},{key:"ji",get:function(){return this.hrt.offsetWidth*an.Ys.h5}}]),t}();yt(),C(),pt();var UB=function(){function t(t,n){this.Dl=new Y_,this.W5=new Yx(t,n)}var n=t.prototype;return n.rE=function(t,n,i,r,e,u,s,o){var a=new QC(t,n,i,r,e,u,s,void 0,o);return this.Dl.tt(a),this.W5.tt(a),a},n.fE=function(t){this.Dl.it(t),this.W5.it(t),t.gn()},n.tr=function(){for(var t=0,n=this.Dl.Rw.slice();t<n.length;t++){n[t].gn()}this.Dl.tr(),this.W5.tr()},n.gn=function(){this.tr(),this.Dl.gn(),this.W5.gn()},At(t,[{key:"nt",get:function(){return this.Dl}}]),t}();yt(),C(),zt(),Mt(),Ut(),yt(),C();var QB=function(){function t(t){this.ZP=t}var n=t.prototype;return n.oB=function(t){return this.ZP.oB(t)},n.nnt=function(t){return this.ZP.nnt(t)},n.Fz=function(t){return this.ZP.Fz(t)},t}();yt(),C(),pt(),Mt(),yt(),C(),pt(),Mt(),yt(),C(),zt(),pt(),Mt(),Ut();var YB=function(t){function n(n){var i;return(i=t.call(this)||this).yz=void 0,i._rt=new qT,i.yrt=function(t){return i.ew(t)},i.Fm=n,i._rt.Uw=n.nt,i.Fm.yn(SL,i.yrt),i}bt(n,t);var i=n.prototype;return i.j_=function(){return this.Fm.O_},i.P_=function(){return this.Fm.R_},i.Q_=function(){return this.Fm.U_},i.Td=function(){return this.Fm.ct},i.urt=function(){return this.Fm.Mz},i.crt=function(){return this.Fm.G_},i.Gg=function(){return this.Fm.ya},i.lrt=function(){return this.Fm.fg},i.Ag=function(){return this.Fm.pg},i.Ng=function(){return this.Fm.Sg},i.Dg=function(){return this.Fm.Ig},i.Lg=function(){return this.Fm.Eg},i.drt=function(){return this.Fm.s2},i.frt=function(){return this.Fm.g2},i.xg=function(){return this._rt},i.w9=function(){return this.Fm.Ol},i.grt=function(){return this.Fm.Qz},i.wrt=function(t){this.Fm.Qz=t},i.vrt=function(t){this.Fm.G6=t},i.mrt=function(){return this.Fm.j3},i.rg=function(){return this.Fm.rg()},i.Xg=function(){return this.Fm.Xg()},i.Hg=function(){this.Fm.Hg()},i.JA=function(t,n,i){this.Fm.JA(t,n,i)},i.gz=function(t){this.Fm.gz(t)},i.ge=function(){this.Fm.ge()},i.be=function(){this.Fm.be()},i.rE=function(t,n,i,r,e,u,s,o){return this.Fm.rE(t,n,i,r,e,u,s,o)},i.Cz=function(){return this.Fm.Cz()},i.jz=function(t,n,i,r,e){return this.Fm.jz(t,n,i,r,e)},i.fE=function(t){this.Fm.fE(t)},i.Pz=function(){this.Fm.Pz()},i.dq=function(t){return this.Fm.dq(t)},i.$n=function(t){var n=this;return Ot((function(){var i,r;return Rt(this,(function(e){switch(e.label){case 0:return[4,n.Fm.$n(t)];case 1:return i=e.sent(),r=t.Av===dk.Tj?n.prt(i):n.Art(i),n.yz=r,[2,r]}}))}))()},i.tr=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return t.yz?[4,t.yz.h_()]:[3,2];case 1:n.sent(),t.yz=void 0,n.label=2;case 2:return[4,t.Fm.tr()];case 3:return n.sent(),[2]}}))}))()},i.z6=function(){this.Fm.z6()},i.B6=function(){this.Fm.B6()},i.h_=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return t.Vo(),t.Fm.fn(SL,t.yrt),t._rt.Uw=void 0,t._rt.gn(),t.yz?[4,t.yz.h_()]:[3,2];case 1:n.sent(),t.yz=void 0,n.label=2;case 2:return[2]}}))}))()},i.F6=function(){this.Fm.F6()},i.Mrt=function(t){this.Fm.fn(SL,this.yrt),this.Fm=t,this._rt.Uw=t.nt,this.Fm.yn(SL,this.yrt)},i.ew=function(t){this.Co(t)},At(n,[{key:"art",get:function(){return this.Fm}},{key:"O_",get:function(){return this.j_()}},{key:"R_",get:function(){return this.P_()}},{key:"U_",get:function(){return this.Q_()}},{key:"Iu",get:function(){return this.Fm.Iu}},{key:"ct",get:function(){return this.Td()}},{key:"Mz",get:function(){return this.urt()}},{key:"G_",get:function(){return this.crt()}},{key:"lt",get:function(){return this.Fm.lt}},{key:"Ti",get:function(){return this.Fm.Ti}},{key:"ji",get:function(){return this.Fm.ji}},{key:"ya",get:function(){return this.Gg()}},{key:"og",get:function(){return this.Fm.og},set:function(t){this.Fm.og=t}},{key:"fg",get:function(){return this.lrt()}},{key:"gg",get:function(){return this.Fm.gg},set:function(t){this.Fm.gg=t}},{key:"pg",get:function(){return this.Ag()}},{key:"Sg",get:function(){return this.Ng()}},{key:"Ig",get:function(){return this.Dg()}},{key:"Eg",get:function(){return this.Lg()}},{key:"s2",get:function(){return this.drt()}},{key:"g2",get:function(){return this.frt()}},{key:"nt",get:function(){return this.xg()}},{key:"Ol",get:function(){return this.w9()}},{key:"_5",get:function(){return this.Fm._5}},{key:"zg",get:function(){return this.Fm.zg},set:function(t){this.Fm.zg=t}},{key:"U6",get:function(){return this.Fm.U6}},{key:"K_",get:function(){return this.Fm.K_}},{key:"Hm",get:function(){return this.Fm.Hm}},{key:"Qz",get:function(){return this.grt()},set:function(t){this.wrt(t)}},{key:"G6",get:function(){return this.Fm.G6},set:function(t){this.vrt(t)}},{key:"j3",get:function(){return this.mrt()}}]),n}($o),FB=function(t){function n(n){return t.call(this,n)}bt(n,t);var i=n.prototype;return i.Y6=function(t){this.Fm.Y6(t)},i.K3=function(){this.Fm.K3()},i.$g=function(){this.Fm.$g()},At(n,[{key:"pz",get:function(){return this.Fm.pz}},{key:"l2",get:function(){return this.Fm.l2}},{key:"Yg",get:function(){return this.Fm.Yg},set:function(t){this.Fm.Yg=t}}]),n}(YB);yt(),C(),pt(),Mt(),yt(),C(),pt(),Mt(),yt(),C(),pt();var GB=function(){function t(t){this.yz=t}var n=t.prototype;return n.wO=function(){return this.yz.wd},n.Dg=function(){return this.yz.Ig},n.FZ=function(t){return this.yz.FZ(t)},n.GZ=function(t){return this.yz.GZ(t)},n.h_=function(){return q.resolve()},At(t,[{key:"wd",get:function(){return this.wO()}},{key:"Ig",get:function(){return this.Dg()}}]),t}(),VB=function(t){function n(n){var i;return(i=t.call(this,n)||this).O1=void 0,i.j1=void 0,i.Irt=function(t){return i.Drt(t)},i}bt(n,t);var i=n.prototype;return i.j_=function(){return this.yz.O_},i.Td=function(){return this.yz.ct},i.brt=function(){return this.yz.oq},i.P1=function(t){this.yz.P1(t)},i.Q1=function(t,n,i,r){this.yz.Q1(t,n,i,r)},i.x0=function(){this.yz.x0()},i.M0=function(){this.yz.M0()},i.h_=function(){return this.O1&&(this.O1.h_(),this.O1=void 0),this.j1&&(this.j1.h_(),this.j1=void 0),t.prototype.h_.call(this)},i.Trt=function(t){this.yz=t,this.O1?t.I1?this.O1.Srt(t.I1):(this.O1.h_(),this.O1=void 0):t.I1&&(this.O1=this.Nrt(t.I1),this.O1.yn(xL,this.Irt)),this.j1?t.D1?this.j1.Srt(t.D1):(this.j1.h_(),this.j1=void 0):t.D1&&(this.j1=this.Nrt(t.D1),this.j1.yn(xL,this.Irt))},i.Drt=function(t){},At(n,[{key:"I1",get:function(){return this.O1}},{key:"D1",get:function(){return this.j1}},{key:"O_",get:function(){return this.j_()}},{key:"ct",get:function(){return this.Td()}},{key:"oq",get:function(){return this.brt()}}]),n}(GB);yt(),C(),zt(),pt(),Mt(),Vt(),Ut(),yt(),C(),pt(),Mt(),yt(),C(),pt(),Mt();var WB=function(t){function n(n){var i;return(i=t.call(this)||this).cX=0,i.fX=0,i.GO=n,i}bt(n,t);var i=n.prototype;return i.V$=function(t,n,i){return q.reject(new v("Invalid media buffer"))},i.Q0=function(){return q.reject(new v("Invalid media buffer"))},i.X$=function(t,n,i){return q.reject(new v("Invalid media buffer"))},i.oq=function(){return!1},i.x0=function(){},i.B0=function(t,n){},i.U0=function(t,n){},i.rS=function(t,n,i){return q.resolve()},i.u0=function(t,n){return q.reject(new v("Invalid media buffer"))},i.fS=function(t,n){return q.reject(new v("Invalid media buffer"))},i.FZ=function(t){return!1},i.GZ=function(t){return q.reject(new v("Invalid media buffer"))},i.h_=function(){this.Vo()},At(n,[{key:"rX",get:function(){return this.fX},set:function(t){this.fX=t}},{key:"O_",get:function(){return HD.oU()}},{key:"wd",get:function(){return this.GO}},{key:"O0",get:function(){return Gm.jT}},{key:"R0",get:function(){return HD.oU()}},{key:"Ert",get:function(){return!1}},{key:"iX",get:function(){return this.cX},set:function(t){this.cX=t}}]),n}($o),XB=function(t){function n(n){var i;return(i=t.call(this)||this).Rrt=function(t){return i.ew(t)},i.xrt=n,i.xrt.yn(xL,i.Rrt),i}bt(n,t);var i=n.prototype;return i.krt=function(){return this.xrt.rX},i.Lrt=function(t){this.xrt.rX=t},i.j_=function(){return this.xrt.O_},i.wO=function(){return this.xrt.wd},i.Crt=function(){return this.xrt.R0},i.Ort=function(){return this.xrt.iX},i.jrt=function(t){this.xrt.iX=t},i.V$=function(t,n,i){return this.xrt.V$(t,n,i)},i.Q0=function(){return this.xrt.Q0()},i.X$=function(t,n,i){return this.xrt.X$(t,n,i)},i.oq=function(){return this.xrt.oq()},i.x0=function(){this.xrt.x0()},i.B0=function(t,n){this.xrt.B0(t,n)},i.U0=function(t,n){this.xrt.U0(t,n)},i.rS=function(t,n,i){return this.xrt.rS(t,n,i)},i.u0=function(t,n){return this.xrt.u0(t,n)},i.FZ=function(t){return this.xrt.FZ(t)},i.GZ=function(t){return this.xrt.GZ(t)},i.ew=function(t){this.Co(t)},i.h_=function(){this.Vo(),this.Srt(new WB(this.wd))},i.Srt=function(t){this.xrt.fn(xL,this.Rrt),this.xrt=t,this.xrt.yn(xL,this.Rrt)},At(n,[{key:"rX",get:function(){return this.krt()},set:function(t){this.Lrt(t)}},{key:"O_",get:function(){return this.j_()}},{key:"wd",get:function(){return this.wO()}},{key:"O0",get:function(){return this.xrt.O0}},{key:"R0",get:function(){return this.Crt()}},{key:"iX",get:function(){return this.Ort()},set:function(t){this.jrt(t)}}]),n}($o),ZB=function(t){function n(n){var i;return(i=t.call(this,n)||this).Fm=void 0,i}bt(n,t);var i=n.prototype;return i.V$=function(t,n,i){var r=this;return Ot((function(){return Rt(this,(function(e){switch(e.label){case 0:return Po(i),[4,r.Prt(r.Fm.U_,null==n?void 0:n.F7,null==n?void 0:n.ct)];case 1:return e.sent(),Po(i),t.Av!==CL.DD?[3,3]:[4,r.zrt(t,n,i)];case 2:case 4:return[2,e.sent()];case 3:return[4,r.Brt(t,n,i)];case 5:return[2]}}))}))()},i.zrt=function(t,n,i){var r=this;return Ot((function(){var e,u,s,o,a;return Rt(this,(function(c){switch(c.label){case 0:e=t,c.label=1;case 1:0,u=Gt(xw(e.ly),2),s=u[0],o=u[1],e={Av:CL.DD,ly:s},c.label=2;case 2:return c.trys.push([2,4,,7]),[4,r.Urt(e,n,i)];case 3:return c.sent(),o.cancel(new Ro).catch(Kn),[2];case 4:return ZS(a=c.sent())?[4,r.Prt(r.Fm.U_,n.F7,n.ct,i)]:[3,6];case 5:if(c.sent())return e={Av:CL.DD,ly:o},[3,1];c.label=6;case 6:throw o.cancel(a).catch(Kn),a;case 7:return[3,1];case 8:return[2]}}))}))()},i.Brt=function(t,n,i){var r=this;return Ot((function(){var e;return Rt(this,(function(u){switch(u.label){case 0:0,u.label=1;case 1:return u.trys.push([1,3,,6]),Po(i),[4,r.Urt(t,n,i)];case 2:return[2,u.sent()];case 3:return ZS(e=u.sent())?[4,r.Prt(r.Fm.U_,n.F7,n.ct,i)]:[3,5];case 4:if(u.sent())return[3,0];u.label=5;case 5:throw e;case 6:return[3,0];case 7:return[2]}}))}))()},i.Prt=function(t,n,i,r){var e=this;return Ot((function(){var u,s,o,a,c;return Rt(this,(function(h){switch(h.label){case 0:u=XS(t,n,i,e.O_,e.iX,e.rX),s=0,h.label=1;case 1:return s<u.length?(o=Gt(u[s],2),a=o[0],c=o[1],[4,e.Qrt(a,c,r)]):[3,4];case 2:h.sent(),h.label=3;case 3:return s++,[3,1];case 4:return[2,u.length>0]}}))}))()},i.Urt=function(n,i,r){return t.prototype.V$.call(this,n,i,r)},i.Qrt=function(n,i,r){return t.prototype.rS.call(this,n,i,r)},At(n,[{key:"int",get:function(){return this.Fm},set:function(t){this.Fm=t}}]),n}(XB),HB=function(t){function n(n){var i;return(i=t.call(this,n)||this).Fm=void 0,i.Trt(n),i}return bt(n,t),n.prototype.Nrt=function(t){var n=new ZB(t);return n.int=this.Fm,n},At(n,[{key:"int",get:function(){return this.Fm},set:function(t){this.Fm=t,this.O1&&(this.O1.int=t),this.j1&&(this.j1.int=t)}}]),n}(VB);yt(),C(),pt(),Mt();var KB=function(t){function n(){return t.apply(this,arguments)}return bt(n,t),At(n,[{key:"yg",get:function(){return this.yz.yg},set:function(t){this.yz.yg=t}}]),n}(GB);yt(),C(),pt(),Mt();var qB=function(t){function n(n){return t.call(this,n)}bt(n,t);var i=n.prototype;return i.Y6=function(t){this.Fm.Y6(t)},i.K3=function(){this.Fm.K3()},i.$g=function(){this.Fm.$g()},i.Vg=function(){return this.Fm.Vg()},At(n,[{key:"pz",get:function(){return this.Fm.pz}},{key:"l2",get:function(){return this.Fm.l2}},{key:"Rg",get:function(){return this.Fm.Rg}},{key:"Cg",get:function(){return this.Fm.Cg}},{key:"Yg",get:function(){return this.Fm.Yg},set:function(t){this.Fm.Yg=t}}]),n}(YB),JB=function(t){function n(){return t.apply(this,arguments)}bt(n,t);var i=n.prototype;return i.Art=function(t){var n=new HB(t);return n.int=this,n},i.prt=function(t){return new KB(t)},At(n,[{key:"art",get:function(){return this.Fm}}]),n}(FB),$B=function(t){function n(){return t.apply(this,arguments)}bt(n,t);var i=n.prototype;return i.Art=function(t){var n=new HB(t);return n.int=this,n},i.prt=function(t){return new KB(t)},At(n,[{key:"art",get:function(){return this.Fm}}]),n}(qB),tP=function(t){function n(){return t.apply(this,arguments)}bt(n,t);var i=n.prototype;return i.oB=function(n){return n===Gm.VA?new $B(t.prototype.oB.call(this,n)):n===Gm.WA?new JB(t.prototype.oB.call(this,n)):void 0},i.Fz=function(n){var i=this;return Ot((function(){var r;return Rt(this,(function(e){switch(e.label){case 0:return[4,(r=n).h_()];case 1:return e.sent(),[4,t.prototype.Fz.call(i,r.art)];case 2:return e.sent(),[2]}}))}))()},n}(QB);yt(),C();var nP=function(){function t(t){var n=this;this.Yrt=function(t){t.persisted&&n.Frt()},this.Qo=t,e.addEventListener("pageshow",this.Yrt)}var n=t.prototype;return n.Frt=function(){this.Qo.iw()},n.gn=function(){e.removeEventListener("pageshow",this.Yrt)},t}();yt(),C(),Xt(),zt(),pt(),Mt(),Ct(),Ut(),yt(),C(),zt(),pt(),Mt(),Ut(),Kt(),yt(),C(),zt(),pt(),Ut(),yt(),C(),yt(),C();var iP,rP=function(){function t(){}var n=t.prototype;return n.Grt=function(t,n,i){return q.resolve()},n.Vrt=function(t,n,i,r){var e=[];if(r){var u={vI:n.MS,mI:n.bS,pI:i.Wrt.pI};r.Av===mA.TTML?e=M_(t,r,u,i.aG):r.Av===mA.WEBVTT&&(e=Np(t,u).L)}return e},n.tr=function(){},t}();yt(),C(),Ct(),yt(),C(),Ht(),yt(),C(),function(t){t.NA="vttc",t.Hrt="vsid",t.Xrt="iden",t.Zrt="ctim",t.qrt="sttg",t.Krt="payl",t.Jrt="vtte",t.$rt="vtta"}(iP||(iP={}));var eP,uP=function(){function t(){}return t.tot=function(n){return Boolean(t.iot[n])},t.Wy=function(n){for(var i=[],r=s_.Ey(new i_(n,new Oc)),e=0;e<r.length;e++){var u=r[e];t.tot(u.Av)&&i.push(t.iot[u.Av](u.ly))}return i},t.eot=function(n){var i=s_.Ey(n),r=a_(i,iP.Hrt),e=a_(i,iP.Xrt),u=a_(i,iP.Zrt),s=a_(i,iP.qrt),o=a_(i,iP.Krt);return{Av:iP.NA,rot:r?t.oot(r):void 0,hot:e?t.aot(e):void 0,uot:u?t.cot(u):void 0,lot:s?t.fot(s):void 0,_ot:o?t.got(o):void 0}},t.oot=function(t){return{Av:iP.Hrt,wot:t.py()}},t.aot=function(t){return{Av:iP.Xrt,hot:t.Sy()}},t.cot=function(t){return{Av:iP.Zrt,vot:t.Sy()}},t.fot=function(t){return{Av:iP.qrt,mot:t.Sy()}},t.got=function(t){return{Av:iP.Krt,pot:t.Sy()}},t.Aot=function(t){return{Av:iP.Jrt}},t.yot=function(t){return{Av:iP.$rt,Mot:t.Sy()}},t}();uP.iot=(Zt(eP={},iP.NA,uP.eot),Zt(eP,iP.Jrt,uP.Aot),Zt(eP,iP.$rt,uP.yot),eP);var sP=function(){function t(){this.Tot=NaN}var n=t.prototype;return n.Grt=function(t,n,i){var r=new DataView(t.bot),e=f_.Wy(r),u=co(e,(function(t){return t.Av===vp.Kp}));return u&&(this.Tot=u.Z[0].wM.zy.cM),q.resolve()},n.Vrt=function(t,n,i){if(A(this.Tot))return[];var r=Ic(t),e=f_.Wy(r),u=e_(e,vp.kA),s=e_(e,vp.PA);if(!u||0===u.Z.length||!s)return[];var o=function(t,n,i){for(var r=t.Z[0],e=r.eT?r.eT.eT.toNumber()/i:n.MS,u=[],s=0,o=r.iT;s<o.length;s++){var a,c=o[s];(a=u).push.apply(a,jt(c.aT))}return{Sot:e,aT:u}}(u,n,this.Tot),a=i.Wrt.pI;return function(t,n,i,r){for(var e=uP.Wy(Ic(n.ly)),u=t.aT,s=t.Sot+r,o=[],a=0,c=0;c<u.length;c++){var h,f=u[c],v=e[c],l=(null!=(h=f.ct)?h:0)/i,d=void 0;v.Av===iP.NA&&(d=oP(v,a,l,s)),d&&o.push(d),a+=l}return o}(o,s,this.Tot,a)},n.tr=function(){this.Tot=NaN},t}();function oP(t,n,i,r){if(t._ot){var e=t.uot?function(t){return Bp(t.vot,new Oc(0))}(t.uot):n,u=r+e,s=u+i,o=t._ot.pot;return new UA(u,s,o,!1)}}yt(),C(),Mt(),yt(),C(),zt(),pt(),Mt(),Vt(),Ut(),yt(),C(),zt(),pt(),Mt(),Ut();var aP,cP,hP=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).jot=is(),n}bt(n,t);var i=n.prototype;return i.$n=function(t){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return[4,n.tr()];case 1:return i.sent(),n.Dot=t,n.Eot(t),[2]}}))}))()},i.Eot=function(t){for(var n=0,i=t.kot;n<i.length;n++){var r=i[n],e=this.Lot(r);this.xot(e,r),e.Sg=yA.LOADED,this.tt(e)}},i.it=function(n){this.Cot(n),t.prototype.it.call(this,n)},i.MD=function(t){var n=this.Oot(t);if(n&&this.Not!==n){this.Not=n;for(var i=0,r=this.Z.Rw;i<r.length;i++){var e=r[i];e!==n&&(e._v=A_.Ch)}}},i.bD=function(t){var n=this.Oot(t);n&&this.Not===n&&(this.Not=void 0)},i.Oot=function(t){return co(this.Z.Rw,(function(n){return t.Xw===n.Xw}))},i.xot=function(t,n){this.jot.set(t.Xw,n)},i.Rot=function(t){return this.jot.get(t.Xw)},i.Cot=function(t){this.jot.delete(t.Xw)},i.Pot=function(){if(this.Not){var t=this.Rot(this.Not);if(t)return n.zot(t)}},n.zot=function(t){return t.Bot&&t.Bot.length>0?t.Bot[0]:void 0},At(n,[{key:"Not",get:function(){return this.Iot},set:function(t){this.Iot=t}},{key:"Rt",get:function(){for(var t=0,n=this.Z.Rw;t<n.length;t++){if(n[t]._v!==A_.Ch)return!0}return!1}}]),n}(sk);yt(),C(),Ht(),function(t){t[t.XU=0]="XU",t[t.Uot=1]="Uot",t[t.Qot=10]="Qot",t[t.Fot=11]="Fot",t[t.Yot=12]="Yot",t[t.Got=13]="Got",t[t.Vot=14]="Vot",t[t.Wot=15]="Wot",t[t.Hot=20]="Hot",t[t.Xot=21]="Xot",t[t.Zot=22]="Zot",t[t.qot=23]="qot",t[t.Kot=24]="Kot",t[t.Jot=30]="Jot",t[t.$ot=31]="$ot",t[t.tht=32]="tht",t[t.iht=33]="iht",t[t.eht=34]="eht",t[t.sht=35]="sht",t[t.nht=40]="nht",t[t.rht=41]="rht",t[t.oht=42]="oht",t[t.hht=43]="hht",t[t.aht=44]="aht",t[t.uht=50]="uht",t[t.cht=51]="cht",t[t.dht=60]="dht",t[t.fht=61]="fht",t[t._ht=62]="_ht",t[t.ght=63]="ght",t[t.wht=70]="wht",t[t.vht=71]="vht",t[t.mht=72]="mht",t[t.pht=73]="pht",t[t.Aht=74]="Aht",t[t.yht=75]="yht",t[t.Mht=76]="Mht",t[t.bht=77]="bht",t[t.Tht=90]="Tht",t[t.Sht=91]="Sht"}(aP||(aP={}));var fP;Zt(cP={},0,"Failed because"),Zt(cP,1,"Created"),Zt(cP,10,"Starting because unknown reason"),Zt(cP,11,"Starting because new track loading"),Zt(cP,12,"Starting because manifest changed"),Zt(cP,13,"Starting because seek"),Zt(cP,14,"Starting because timeupdate"),Zt(cP,15,"Starting because buffering is being resumed"),Zt(cP,20,"Interrupting because unknown reason"),Zt(cP,21,"Interrupting because segment has a gap"),Zt(cP,22,"Interrupting because segment is missing"),Zt(cP,23,"Interrupting because seeking"),Zt(cP,24,"Interrupting because buffer is full"),Zt(cP,30,"Pausing because unknown reason"),Zt(cP,31,"Pausing because target buffer reached"),Zt(cP,32,"Pausing because no target time"),Zt(cP,33,"Pausing because no segment selected"),Zt(cP,34,"Pausing because end of stream is reached"),Zt(cP,35,"Pausing because initialization segment is missing"),Zt(cP,40,"Stopping because unknown reason"),Zt(cP,41,"Stopping because manifest went offline"),Zt(cP,42,"Stopping because seeking"),Zt(cP,43,"Stopping because buffering is being paused"),Zt(cP,44,"Stopping because unload"),Zt(cP,50,"Resetting because unknown reason"),Zt(cP,51,"Resetting because player was reset"),Zt(cP,63,"Marking gap at"),Zt(cP,60,"Target time is"),Zt(cP,70,"[Selection 1] Select nothing if the target time has already been appended."),Zt(cP,71,"[Selection 2] Select nothing if the time-based lookup failed."),Zt(cP,72,"[Selection 3] If the segment has not been appended, select time-based lookup."),Zt(cP,73,"[Selection 4A] Select the first unappended segment that occurs before the segment."),Zt(cP,74,"[Selection 4B] Notify gap if no previous segment is available."),Zt(cP,75,"[Selection 5A] Select the first unappended segment that occurs after the segment."),Zt(cP,76,"[Selection 5B] Select nothing if no next segment is available."),Zt(cP,77,"[Selection 6] Unreachable"),Zt(cP,61,"Selected segment is"),Zt(cP,62,"Appended segment is"),Zt(cP,90,"Test setup"),Zt(cP,91,"Test");function vP(t,n){var i=n.JB((function(n,i){return t.ZB(n,i,!1,!1)}));return t.YB(i)}function lP(t,n){var i=n.Sn(t.BB()).JB((function(n,i){return t.gr(i)}));return t.YB(i)}yt(),C(),yt(),C(),Mt(),yt(),C(),zt(),pt(),Mt(),Ut(),yt(),C(),function(t){t.Nht="Iht",t.Dht="Eht"}(fP||(fP={})),yt(),C(),Mt();var dP,gP=function(t){function n(n,i,r){var e;return(e=t.call(this,"kht")||this).Cn=n,e.jn=i,e.Lht=r,e}return bt(n,t),n}(xo),wP=function(t){function n(){return t.call(this,"xht")}return bt(n,t),n}(ra);!function(t){t.Cht="Oht",t.jht="Rht",t.Pht="zht",t.XU="Bht"}(dP||(dP={}));var yP=[Al.hm,Al.lm,Al.nm,Al.Tv],mP=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).gat=n,s.rat=i,s.Vht=r,s.Fht=e,s.q3=u,s.Hht="Oht",s.vz=void 0,s.iat=new Bc,s.uat=new zo,s.Jht=new zo,s.We=function(t){s.qht||s.sat||!an.jst&&s.Fht.wat(t.currentTime)||(s.uat.g_(),s.uat=new zo,s._at(s.uat.f_).catch(Qo))},s.od=Jn((function(){if(s.Kht){try{if(s.Fht.vat(),s.Fht.mat())return}catch(t){if(!(t instanceof gP))throw t}s.Cn(aP.Vot)}}),250),s.nat(),s}bt(n,t);var i=n.prototype;return i.Xht=function(t){this.Hht!==t&&(this.Hht=t,this.Co(new wP))},i.Cn=function(t){var n=this;return Ot((function(){var t;return Rt(this,(function(i){switch(i.label){case 0:return n.qht||n.Kht?(t=n.k_("xht"),n.qht?(n.Jht.g_(),n.Jht=new zo,n.$ht(n.Jht.f_)):(n.iat.LL(void 0),n.iat=new Bc),[4,t]):[2];case 1:return i.sent(),[2]}}))}))()},i.Zg=function(t){var n=this;return Ot((function(){return Rt(this,(function(t){switch(t.label){case 0:if(!n.eat&&!n.Kht)return[2];0,n.Jht.g_(),t.label=1;case 1:return n.qht||n.sat?[3,3]:[4,n.k_("xht")];case 2:return t.sent(),[3,1];case 3:return[2]}}))}))()},i.tr=function(t){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return n.sat?(n.vz=void 0,n.Xht("Oht"),[3,3]):[3,1];case 1:return[4,n.Zg(t)];case 2:i.sent(),i.label=3;case 3:return n.Fht.tr(),n.Vht.tr(),[2]}}))}))()},i.rB=function(t){this.vz=t,this.Xht("Bht"),this.Co(new gT(t))},i.nat=function(){this.q3.yn(Al.fm,this.od),this.q3.yn([Al.im,Al.Uv],this.We),this.Fht.yn(yP,this.Ds),this.rat.yn(fP.Nht,this.od)},i.oat=function(){this.q3.fn(Al.fm,this.od),this.q3.fn([Al.im,Al.Uv],this.We),this.Fht.fn(yP,this.Ds),this.rat.fn(fP.Nht,this.od)},i.aat=function(t){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return n.oat(),n.uat.g_(),[4,n.Zg(null!=t?t:aP.hht)];case 1:return i.sent(),n.Fht.tr(),[2]}}))}))()},i.dat=function(t){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return n.nat(),[4,n.Cn(null!=t?t:aP.Wot)];case 1:return i.sent(),[2]}}))}))()},i.gn=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return t.Vo(),t.oat(),t.uat.g_(),[4,t.Zg(aP.aht)];case 1:return n.sent(),t.Fht.gn(),[2]}}))}))()},i.$ht=function(t){var n=this;return Ot((function(){var i,r;return Rt(this,(function(e){switch(e.label){case 0:0,e.label=1;case 1:return e.trys.push([1,4,,5]),Po(t),n.Xht("zht"),[4,n.Fht.fat(t)];case 2:return e.sent(),Po(t),n.Xht("Rht"),[4,Yo(n.iat.OL,t)];case 3:return e.sent(),[3,5];case 4:return Bo(i=e.sent())?n.Xht("Oht"):(r=i instanceof Kv?i:new Kv(Xv.MEDIA_LOAD_ERROR,i.message,i),n.rB(r)),[3,6];case 5:return[3,0];case 6:return[2]}}))}))()},i._at=function(t){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return Po(t),[4,n.Zg(aP.oht)];case 1:return i.sent(),n.Fht.tr(),Po(t),[4,n.Cn(aP.Got)];case 2:return i.sent(),[2]}}))}))()},At(n,[{key:"Uht",get:function(){var t,n;return(null==(t=this.Fht.Qht)?void 0:t.Lht)||(null==(n=this.Fht.Yht)?void 0:n.Lht)}},{key:"Ght",get:function(){return this.Vht}},{key:"Wht",get:function(){return this.Fht.Wht},set:function(t){this.Fht.Wht=t}},{key:"fD",get:function(){return this.Hht}},{key:"Zht",get:function(){return this.Vht.Lt.Zht}},{key:"lt",get:function(){return this.vz}},{key:"qht",get:function(){return"Oht"===this.Hht}},{key:"Kht",get:function(){return"Rht"===this.Hht}},{key:"eat",get:function(){return"zht"===this.Hht}},{key:"sat",get:function(){return"Bht"===this.Hht}}]),n}($o);yt(),C(),zt(),Ut(),yt(),C();var AP=function(){function t(t,n){this.aE=t,this.Nat=n}var n=t.prototype;return n.pat=function(t,n){return this.Aat(t,!1,n)},n.yat=function(t,n){return this.Aat(t,!0,n)},n.Aat=function(n,i,r){var e=this;return Ot((function(){var u;return Rt(this,(function(s){switch(s.label){case 0:return Po(r.f_),[4,e.Mat(n,i,r)];case 1:return(u=s.sent()).ZW?[2,t.bat(u)]:[2,e.Tat(u)]}}))}))()},n.Tat=function(t){return t},n.Mat=function(t,n,i){var r,e=new ey({zu:t.zu,qD:pl.SD,XD:t.Sat?{Range:"bytes="+t.Sat[0]+"-"+(null!=(r=t.Sat[1])?r:"")}:void 0,tE:t.tE,ZD:Jw.GET,Av:$w.CD,JD:n?ty.RD:ty.jT,$D:this.Nat,_D:i.Iat,KD:i.KD,f_:i.f_,eE:i.eE});return this.aE.uD(e)},t.bat=function(t){return t},t}();yt(),C(),pt(),yt(),C();var pP=function(){function t(t){this.j7=0,this.Lat=0,this.Eat=w.exp(w.log(.5)/t)}var n=t.prototype;return n.Dat=function(t,n){var i=w.pow(this.Eat,t),r=n*(1-i)+i*this.j7;A(r)||(this.j7=r,this.Lat+=t)},n.xat=function(){var t=1-w.pow(this.Eat,this.Lat);return this.j7/t},t}(),_P=function(){function t(t,n,i){void 0===t&&(t=2),void 0===n&&(n=5),void 0===i&&(i=128e3),this.Cat=0,this.Pat=mT,this.Oat=new pP(t),this.jat=new pP(n),this.zat=i}var n=t.prototype;return n.Dat=function(t,n){var i=8e3*n/t,r=t/1e3;this.Cat+=n,this.Oat.Dat(r,i),this.jat.Dat(r,i)},n.xat=function(){return this.Rat()?w.min(this.Oat.xat(),this.jat.xat()):this.Pat},n.Rat=function(){return this.Cat>=this.zat},t}(),kP=function(){function t(t,n){this.Yat=n,!n||t!==Gm.VA&&t!==Gm.WA?(this.Xat=16e3,this.Uat=new _P):t===Gm.VA?(this.Xat=5e3,this.Uat=new _P(.05,1,0)):(this.Xat=0,this.Uat=new _P(.005,.1,0))}return t.prototype.Qat=function(t){var n=t.Fat,i=this.Yat?t.Gat-t.Vat:t.Gat-t.Wat,r=t.Hat;!r&&n<this.Xat||(r?this.Uat.Dat(2*i,n):this.Uat.Dat(i,n))},At(t,[{key:"Bat",get:function(){return this.Uat.xat()}},{key:"Rat",get:function(){return this.Uat.Rat()}}]),t}();yt(),C(),yt(),C(),zt(),Mt(),Ut();var bP=["um","dm"],MP=function(t){function n(n){var i;(i=t.call(this)||this).qat=n;for(var r=0,e=i.qat;r<e.length;r++){e[r].yn(bP,i.Ds)}return i}bt(n,t);var i=n.prototype;return i.Zat=function(t,n){var i=this;return Ot((function(){var r,e,u,s,o;return Rt(this,(function(a){switch(a.label){case 0:e=0,u=i.qat,a.label=1;case 1:if(!(e<u.length))return[3,6];s=u[e],a.label=2;case 2:return a.trys.push([2,4,,5]),[4,s.Zat(t,n)];case 3:return[2,a.sent()];case 4:return Uo(o=a.sent()),r=o,[3,5];case 5:return e++,[3,1];case 6:throw r}}))}))()},i.Kat=function(t,n){var i=this;return Ot((function(){var r,e,u,s,o;return Rt(this,(function(a){switch(a.label){case 0:e=0,u=i.qat,a.label=1;case 1:if(!(e<u.length))return[3,6];s=u[e],a.label=2;case 2:return a.trys.push([2,4,,5]),[4,s.Kat(t,n)];case 3:return[2,a.sent()];case 4:return Uo(o=a.sent()),r=o,[3,5];case 5:return e++,[3,1];case 6:throw r}}))}))()},i.gn=function(){for(var t=0,n=this.qat;t<n.length;t++){var i=n[t];i.fn(bP,this.Ds),i.gn()}},n}($o);yt(),C(),zt(),Mt(),Ut(),yt(),C(),pt(),Vt(),yt(),C();var TP=function(){function t(t){this.qL=t}var n=t.prototype;return n.transform=function(t,n){this.qL.write(t).catch(Kn),n.enqueue(t)},n.flush=function(){this.qL.close().catch(Kn)},t}(),NP=function(){function t(t,n,i){this.bot=t,this.$at=n,this.tut=i}return t.prototype.Jat=function(){return new DP(Sw(this.bot),this.$at,this.tut)},t}(),DP=function(){function t(t,n,i){this.iut=t,this.$at=n,this.tut=i}var n=t.prototype;return n.GR=function(t){return jw(this.iut,t)},n.$A=function(){var n=Gt(xw(this.iut),2),i=n[0],r=n[1];return this.iut=i,new t(r,this.$at,this.tut)},n.eut=function(){var n=Gt(function(t){var n=new gw,i=n.writable.getWriter(),r=new gw(new TP(i));return t.pipeTo(r.writable).catch((function(t){i.abort(t).catch(Kn)})),[r.readable,n.readable]}(this.iut),2),i=n[0],r=n[1];return this.iut=i,new t(r,this.$at,this.tut)},n.sut=function(t){var n=this;return this.GR(t).then((function(t){return new NP(t,n.$at,n.tut)}))},At(t,[{key:"VW",get:function(){return this.iut}}]),t}();yt(),C(),Mt();var IP=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).nut=n,e}return bt(n,t),n}(xo),EP="Cache lookup failed.",SP=function(t){function n(n){var i;return(i=t.call(this)||this).rut=n,i}bt(n,t);var i=n.prototype;return i.Zat=function(t,n){var i=this;return Ot((function(){var r,e;return Rt(this,(function(u){switch(u.label){case 0:return Po(n),[4,i.rut.mnt(t.zu.zu,t.zu.Sat)];case 1:if(r=u.sent(),Po(n),!r)throw new IP(t,EP);return e=new NP(r.buffer,r.byteLength,r.reference),[2,{nut:t.nut,out:{Av:CL.jZ,ly:e},Lht:t.Lht,zu:t.zu}]}}))}))()},i.Kat=function(t,n){var i=this;return Ot((function(){var r,e;return Rt(this,(function(u){switch(u.label){case 0:return Po(n),[4,i.rut.mnt(t.zu,t.Sat)];case 1:if(r=u.sent(),Po(n),!r)throw new IP(t,EP);return e=new NP(r.buffer,r.byteLength,r.reference),[2,{Av:CL.jZ,ly:e}]}}))}))()},i.gn=function(){this.Vo()},n}($o);function LP(t){return Xn(t.hut)}function jP(t){return LP(t)?t.hut:t.aut}yt(),C(),zt(),Mt(),Ut(),yt(),C(),yt(),C(),Mt(),yt(),C(),Mt();var CP=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n)||this).uut=i,o.CF=r,o.Kb=e,o.AM=u,o.$D=s,o}return bt(n,t),n}(ra),xP=function(t){function n(n,i,r,e,u){return t.call(this,Al.hm,n,i,r,e,u)}return bt(n,t),n}(CP);yt(),C(),pt(),Mt(),yt(),C(),pt(),Mt();var OP=function(t,n){this.cut=t,this.lut=n},zP=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).fut=0,n}bt(n,t);var i=n.prototype;return i.start=function(){},i.transform=function(t,n){this.fut+=t.byteLength,n.enqueue(t)},i.flush=function(){this._ut(!1)},i.g_=function(){this._ut(!0)},i._ut=function(t){this.cut(this.lut,an.m_(),this.Fat,t)},At(n,[{key:"Fat",get:function(){return this.fut}}]),n}(OP),RP=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).fut=0,n.gut=!1,n}bt(n,t);var i=n.prototype;return i.start=function(){this.lut=an.m_()},i.transform=function(t,n){this.fut+=t.byteLength,this.gut||this.wut(t)&&this._ut(!1),n.enqueue(t)},i.flush=function(){},i.g_=function(){this._ut(!0)},i.wut=function(t){var n=this.vut(t),i=this.mut(n);return Boolean(co(i,BP))},i.vut=function(t){return this.Aut&&void 0!==this.yut?(this.Aut=Da([this.Aut,t]),new i_(Ic(this.Aut),new Oc(this.yut))):(this.Aut=t,new i_(Ic(t),new Oc))},i.mut=function(t){var n=s_.Ly(t.ly,t._y,!0);return n.xy?(this.Aut=void 0,this.yut=void 0):this.yut=t._y.Ku,n.m},i._ut=function(t){this.gut||(this.cut(this.lut,an.m_(),this.Fat,t),this.gut=!0)},At(n,[{key:"Fat",get:function(){return this.fut}}]),n}(OP);function BP(t){return t.Av===vp.PA}var PP=function(){function t(t){var n=this;this.Dut=t,this.Sut=new Bc,this.Qat=function(t,i,r,e){var u={Wat:n.but,Vat:t,Gat:i,Fat:r,Hat:e};n.Dut.Qat(u),n.Dut.Rat&&AT.lL.LP(n.Dut.Bat)},this.Sut.OL.catch(Kn),this.but=an.m_()}var n=t.prototype;return n.Mut=function(t){var n=t.nH?this.but:an.m_(),i=this.Tut(n),r=new gw(i),e=t.VW().pipeTo(r.writable).then((function(){return{eg:{Fat:i.Fat}}}),(function(t){throw i.g_(),t}));return this.Sut.w_(e),r.readable},n.Nut=function(t){var n=this,i=t.nH?this.but:an.m_(),r=t.GR(),e=r.then((function(t){var r=an.m_();return n.Qat(i,r,t.byteLength,!1),{eg:{Fat:t.byteLength}}}),(function(t){var r=an.m_();throw n.Qat(i,r,0,!0),t}));return this.Sut.w_(e),r},At(t,[{key:"Iut",get:function(){return this.Sut.OL}}]),t}(),UP=function(t){function n(){return t.apply(this,arguments)}return bt(n,t),n.prototype.Tut=function(t){return new zP(this.Qat,t)},n}(PP),QP=function(t){function n(){return t.apply(this,arguments)}return bt(n,t),n.prototype.Tut=function(t){return new RP(this.Qat,t)},n}(PP);yt(),C(),Mt();var YP=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,Al.lm,n,i,r,e,u)||this).Eut=s,a.KT=o,a}return bt(n,t),n}(CP);yt(),C(),Mt();var FP=function(t){function n(n,i,r){var e;return(e=t.call(this,"Error downloading segment "+jP(i),n)||this).kut=i.MS,e.Lut=i.bS,e.xut=r,e}return bt(n,t),n}(xo),GP=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).jut=n,e.Dut=i,e.Yat=r,e}bt(n,t);var i=n.prototype;return i.Cut=function(){return this.Yat?new QP(this.Dut):new UP(this.Dut)},i.Zat=function(t,n){var i=this;return Ot((function(){var r,e,u,s,o,a,c,h,f,v;return Rt(this,(function(l){switch(l.label){case 0:Po(n),r=t.Lht,e=t.zu,u=t.nut,s=jP(u),o=r.Lht?r.Lht.Xw:-1,a=function(t){var n,i=t.Lht;n=i===function(t){return t.Bot.reduce((function(t,n){return t.GP<n.GP?t:n}))}(i.Out)?Ki(5*t.nut.ct):Ki(1.2*t.nut.ct);return Pi(n,1e3,18e3)}(t),i.Co(new xP(e,r.GP,s,o,r.Av)),l.label=1;case 1:return l.trys.push([1,4,,5]),c=i.Cut(),[4,i.jut.pat(e,{eE:i.Yat,Iat:a,f_:n})];case 2:return h=l.sent(),[4,i.Rut(h,h.ZW,n,c)];case 3:return f=l.sent(),Xo(i.Put(c.Iut,r,e,s,o,h)),[2,{out:f,Lht:r,nut:u,zu:e}];case 4:throw Uo(v=l.sent()),new FP(v,u,r);case 5:return[2]}}))}))()},i.Kat=function(t,n){var i=this;return Ot((function(){var r,e;return Rt(this,(function(u){switch(u.label){case 0:return Po(n),r=!1,[4,i.jut.yat(t,{eE:r,Iat:1e4,f_:n})];case 1:return e=u.sent(),[4,i.Rut(e,r,n)];case 2:return[2,u.sent()]}}))}))()},i.Rut=function(t,n,i,r){return Ot((function(){var e,u,s;return Rt(this,(function(o){switch(o.label){case 0:return n?(e=r?r.Mut(t):t.VW(),[2,{Av:CL.DD,ly:new DP(e)}]):[3,1];case 1:return r?[4,r.Nut(t)]:[3,3];case 2:return s=o.sent(),[3,5];case 3:return[4,t.GR(i)];case 4:s=o.sent(),o.label=5;case 5:return u=s,[2,{Av:CL.jZ,ly:new NP(u)}];case 6:return[2]}}))}))()},i.Put=function(t,n,i,r,e,u){var s=this;return Ot((function(){var o;return Rt(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,t];case 1:return o=a.sent(),s.Co(new YP(i,n.GP,r,e,n.Av,u.fD,o.eg.Fat)),[3,3];case 2:return a.sent(),[3,3];case 3:return[2]}}))}))()},i.gn=function(){this.Vo()},n}($o);var VP=function(){function t(){}var n=t.prototype;return n.zut=function(t,n,i,r,e){var u=new SP(e),s=this.But(t,i,r);return new MP([u,s])},n.But=function(t,n,i){return new GP(t,n,i)},t}();yt(),C(),pt();var WP=.001,XP=function(){function t(t,n,i,r){this.Uut=t,this.q3=n,this.$0=i,this.wU=r}return At(t,[{key:"O_",get:function(){return this.Uut.O_}},{key:"Qut",get:function(){return this.Uut.Qut}},{key:"wq",get:function(){return this.Uut.wq}},{key:"Fut",get:function(){if(this.$0.Sg<mk.Xn)return!1;if(this.Uut.jn<=this.Yut&&this.Uut.Gut())return!0;var t=this.Uut._z;if(!t||0===t.U)return!1;var n=HD.rU(this.q3.U_,1/0);return t.Sn(n).VB(this.Uut.wq).sU>=this.wU.lX}},{key:"Yut",get:function(){var t,n=this.Uut._z;if(n&&n.U>0)t=n.jn(0);else{t=this.q3.U_;var i=this.Uut.wq,r=i.WB(t);r>=0&&(t=i.jn(r))}var e=this.Uut.Ig.Cn(0);if(e>t){if(this.Uut.Cn<=t&&this.Uut.jn>=t&&e>t+WP)throw new gP(t,e);t=e}return t=this.Uut.Vut.zB(t)}}]),t}();yt(),C(),pt();var ZP=function(){function t(t){this.mf=function(t){for(var n=ns(),i=0;i<t.length;i++){var r=t[i];n.set(r.o,HD.oU())}return n}(t)}var n=t.prototype;return n.Hut=function(t){return this.mf.get(t.o)},n.Xut=function(){var t=HD.oU();return this.mf.forEach((function(n){t=t.YB(n)})),t},n.Zut=function(t){var n=!1;return this.mf.forEach((function(i){n=n||i.gr(t)})),n},n.qut=function(t,n){var i=this.mf.get(n.o);return!!i&&i.gr(t)},n.HB=function(t,n){var i=!1;return this.mf.forEach((function(r){i=i||r.HB(t,n)})),i},n.Kut=function(t,n){var i=this.mf.get(n.o).YB(t);this.mf.set(n.o,i)},n.Jut=function(t){var n=this;this.mf.forEach((function(i,r){var e=i.YB(t);n.mf.set(r,e)}))},n.$ut=function(t){var n=this;this.mf.forEach((function(i,r){n.mf.set(r,i.Sn(t))}))},n.tr=function(){var t=this;this.mf.forEach((function(n,i){t.mf.set(i,HD.oU())}))},At(t,[{key:"Wut",get:function(){if(0===this.mf.size)return HD.oU();var t=HD.rU(0,1/0);return this.mf.forEach((function(n){t=t.Sn(n)})),t}}]),t}(),HP=function(){function t(t){this.jnt=[],this.Lt=t,this.ict=new ZP(t.Bot),this.vq=new ZP(t.Bot)}var n=t.prototype;return n.ect=function(t){for(var n=0,i=this.jnt;n<i.length;n++){var r=i[n];if(r.sct>t)break;if(r.nct>t)return r}},n.rct=function(t){for(var n=0,i=this.jnt;n<i.length;n++){var r=i[n];if(r.hct>t)break;if(r.act>=t)return r}},n.uct=function(t,n){for(var i=[],r=0,e=this.jnt;r<e.length;r++){var u=e[r];if(u.sct>t)break;u.nct>=n&&i.push(u)}return i},n.cct=function(){return this.jnt},n.lct=function(t,n){var i=HD.rU(t.hct,t.act),r=i.BB();this.ict.$ut(r),this.ict.Kut(i,n),this.dct(r);var e=vo(this.jnt,(function(n){return t.sct<=n.sct}));e<0?this.jnt.push(t):this.jnt[e].nct<=t.nct?this.jnt.splice(e,1,t):this.jnt.splice(e,0,t)},n.mq=function(t,n){this.vq.Kut(t,n)},n.fct=function(t){this.vq.Jut(t)},n.$ut=function(t){this.ict.$ut(t),this.vq.$ut(t);var n=this.ict.Xut();this.dct(n)},n.dct=function(t){this.jnt=this.jnt.filter((function(n){return t.ZB(n.hct,n.act)})).map((function(n){return n._ct&&!t.HB(n.hct,n.act)?function(t,n){return{sct:t.sct,nct:t.nct,hct:t.hct,act:t.act,_ct:n}}(n,!1):n}))},n.tr=function(){this.ict.tr(),this.vq.tr(),this.jnt=[]},n.gn=function(){this.tr()},At(t,[{key:"tct",get:function(){return this.ict}},{key:"wq",get:function(){return this.vq}}]),t}();yt(),C(),yt(),C(),zt(),pt(),Ut();var KP=function(){function t(t,n,i){this.gat=t,this.Vht=n,this.Met=i}var n=t.prototype;return n.wct=function(t,n,i){var r=this;return Ot((function(){var e,u,s,o,a,c,h,f;return Rt(this,(function(l){switch(l.label){case 0:return Po(i),u=r.Vht.rct(t),e=u&&Ui(u.act,t,1e-5)?u.nct:t,s=r.vct(e),o=function(t){return qP.bind(void 0,t)}(e),[4,r.Met.mct(o,s,n,i)];case 1:a=l.sent(),Po(i),l.label=2;case 2:return a&&r.pct(a.nut)?(c=rU(a.nut),h=a.Lht,[4,r.Met.mct(c,[h],n,i)]):[3,4];case 3:return a=l.sent(),Po(i),[3,2];case 4:return a?r.Act(a.nut)?(f=r.yct(a.nut),t<f.Cn?[4,r.findFirstNonAppendedSegmentBeforeSegment(a,n,i,f)]:[3,6]):[2,a]:[2,void 0];case 5:return[2,l.sent()];case 6:return t>=f.jn?[4,r.findFirstNonAppendedSegmentAfterSegment(a,n,i)]:[3,8];case 7:return[2,l.sent()];case 8:if(a.Lht.Mct(a.nut))return[2,void 0];throw new v("Fatal buffering error")}}))}))()},n.findFirstNonAppendedSegmentAfterSegment=function(t,n,i){var r=this;return Ot((function(){var e,u,s;return Rt(this,(function(o){switch(o.label){case 0:e=t,o.label=1;case 1:return u=rU(e.nut),s=t.Lht,[4,r.Met.mct(u,[s],n,i)];case 2:e=o.sent(),Po(i),o.label=3;case 3:if(e&&r.Act(e.nut))return[3,1];o.label=4;case 4:return e?[2,e]:[2,void 0]}}))}))()},n.findFirstNonAppendedSegmentBeforeSegment=function(t,n,i,r){var e=this;return Ot((function(){var u,s,o,a;return Rt(this,(function(c){switch(c.label){case 0:u=t,c.label=1;case 1:return s=function(t){return $P.bind(void 0,t)}(u.nut),o=t.Lht,[4,e.Met.mct(s,[o],n,i)];case 2:u=c.sent(),Po(i),c.label=3;case 3:if(u&&e.Act(u.nut))return[3,1];c.label=4;case 4:if(!u)throw a=t.Lht.bct.Cn,new gP(a,r.Cn,t.Lht);return[2,u]}}))}))()},n.Tct=function(t){return this.Vht.tct.Zut(t)},n.Sct=function(t){return this.Vht.uct(t.MS,t.bS)},n.Act=function(t){var n=this.Sct(t);return n.length>0&&function(t,n){return function(t){for(var n=HD.oU(),i=0;i<t.length;i++){var r=t[i];n=n.YB(HD.rU(r.sct,r.nct))}return n}(t).HB(n.MS,n.bS)}(n,t)&&n.every(eU)},n.pct=function(t){return this.Vht.wq.HB(t.MS,t.bS)},n.yct=function(t){var n=this.Sct(t);return{Cn:n[0].hct,jn:n[n.length-1].act}},n.vct=function(t){var n=this.Nct(t);if(0===n.length){var i=this.gct?this.gct:this.Vht.Lt.Bot;return[i[i.length-1]]}var r=n.filter((function(t){return!t.Ict}));return r.length>0?r:[n[n.length-1]]},n.Nct=function(t){var n=this;return(this.gct?this.gct:this.Vht.Lt.Bot).filter((function(i){return!n.Vht.wq.qut(t,i)}))},At(t,[{key:"Wht",get:function(){return this.gct},set:function(t){this.gct=t}},{key:"Zht",get:function(){return this.Vht.Lt.Zht}}]),t}();function qP(t,n,i,r){return JP.apply(this,arguments)}function JP(){return JP=Ot((function(t,n,i,r){var e,u;return Rt(this,(function(s){switch(s.label){case 0:return e=n.Wrt,(u=e.Dct(t))?n.Ect(u)?[4,n.Lct(u,i,r)]:[3,2]:[2,void 0];case 1:return[2,s.sent().kct(t)];case 2:return[2,u]}}))})),JP.apply(this,arguments)}function $P(t,n,i,r){return tU.apply(this,arguments)}function tU(){return tU=Ot((function(t,n,i,r){var e;return Rt(this,(function(u){switch(u.label){case 0:return LP(t)?0===t.hut?[2,void 0]:(e=n.Wrt.xct(t))?[4,n.Lct(e,i,r)]:[2,void 0]:[3,2];case 1:return[2,u.sent().Cct(t.hut-1)];case 2:return[2,n.Wrt.Oct(t)];case 3:return[2]}}))})),tU.apply(this,arguments)}function nU(t,n,i,r){return iU.apply(this,arguments)}function iU(){return iU=Ot((function(t,n,i,r){var e,u;return Rt(this,(function(s){switch(s.label){case 0:return LP(t)?(e=n.Wrt.xct(t))?[4,n.Lct(e,i,r)]:[2,void 0]:[3,2];case 1:return u=s.sent(),t.hut+1===u.U?[2,void 0]:[2,u.Cct(t.hut+1)];case 2:return[2,n.Wrt.jct(t)];case 3:return[2]}}))})),iU.apply(this,arguments)}function rU(t){return nU.bind(void 0,t)}function eU(t){return t._ct}yt(),C(),zt(),Ut();var uU=function(){function t(t,n,i,r){this.Uct=t,this.Uut=n,this.wU=i,this.Pct=r,this.Qct=!1}var n=t.prototype;return n.mct=function(t,n,i,r){var e=this;return Ot((function(){var u,s,o;return Rt(this,(function(a){switch(a.label){case 0:return Po(r),(u=e.Rct(n,i))?[4,t(u,e.Pct,r)]:[2,void 0];case 1:return(s=a.sent())?(o=u.zct(s),[2,{Lht:u,nut:s,zu:o}]):[2,void 0]}}))}))()},n.Rct=function(t,n){if(0!==t.length){var i=this.Uct.Bct(t,this.Qct?n:void 0,this.Uut,this.wU.aX);return this.Qct||(this.Qct=!0),i}},t}();yt(),C(),zt(),Ut();var sU=function(){function t(t,n,i,r){this.Uct=t,this.Uut=n,this.rut=i,this.Pct=r}return t.prototype.mct=function(t,n,i,r){var e=this;return Ot((function(){var u,s,o,a,c,h,f;return Rt(this,(function(v){switch(v.label){case 0:if(Po(r),!(u=e.Uct.Fct(n,i,e.Uut)).length)return[2,void 0];o=0,v.label=1;case 1:if(!(o<u.length))return[3,8];a=u[o],v.label=2;case 2:return v.trys.push([2,6,,7]),Po(r),[4,t(a,e.Pct,r)];case 3:return(c=v.sent())?(h=a.zct(c),[4,e.rut.wnt(h.zu,h.Sat)]):[3,5];case 4:if(v.sent())return[2,{nut:c,Lht:a,zu:h}];v.label=5;case 5:return[3,7];case 6:return Uo(f=v.sent()),s=f,[3,7];case 7:return o++,[3,1];case 8:if(s)throw s;return[2,void 0]}}))}))()},t}();function oU(t){return void 0!==t.gg}function aU(t,n){var i=t.ji&&n.ji,r=t.Ti&&n.Ti;return i||r?i&&r?t.ji*t.Ti-n.ji*n.Ti:i?t.ji-n.ji:r?t.Ti-n.Ti:(t.ji||1)*(t.Ti||1)-(n.ji||1)*(n.Ti||1):0}function cU(t,n){return aU(t,n)||function(t,n){return t.GP-n.GP}(t,n)}yt(),C(),Ct(),nt(),yt(),C();var hU=function(){function t(t,n,i,r,e,u){this.Jd=t,this.Vct=n,this.Jet=i,this.Zct=r,this.Yct=e,this.qct=u}var n=t.prototype;return n.Bct=function(n,i,r,e){var u=t.sortByQuality(n);if(void 0!==this.Yct&&void 0===i&&n.length>1){var s=t.Gct(u,this.Yct);s&&(u=s)}var o=this.Fct(u,i,r,e);return o.length?o[o.length-1]:u[0]},n.Fct=function(n,i,r,e){for(var u,s=t.sortByQuality(n),o={Bat:void 0===e||this.Vct.Rat?this.Vct.Bat:e,gg:oU(r)&&r.gg?r.gg:1,Wct:r.ji,Hct:r.Ti,Xct:null==(u=this.Zct)?void 0:u.restrictToPlayerSize},a=s,c=0,h=this.Jd;c<h.length;c++){a=(0,h[c])(a,i,o,this.Jet,this.qct)}return a},t.Kct=function(n){return t.sortByQuality(n)[0]},t.Jct=function(n,i){var r;return i?t.Kct(null!=(r=t.Gct(n,i))?r:n):t.Kct(n)},t.Gct=function(t,n){for(var i=function(i){var r=n[i],e=t.filter((function(t){return qj(t.Vet,r)}));if(e.length>0)return{v:e}},r=0;r<n.length;r++){var e=i(r);if("object"===x(e))return e.v}},t.sortByQuality=function(t){var n=jt(t);return n.sort(cU),n},t}();yt(),C();var fU=function(t,n,i,r,e){return t.filter((function(t){return e.FZ(t)&&r.Uet(n,t)}))};yt(),C();var vU=function(t,n,i){return t.filter((function(t){return function(t,n,i){var r=i.Bat;if(r<=0)return!1;return.8*r>t.GP*i.gg}(t,0,i)}))};yt(),C();var lU=function(t,n,i,r,e){var u=i.Xct;if(void 0===u&&!r.Qs)return t;if(!1===u)return t;if(t.length>0&&t[0].Av!==Gm.VA)return t;for(var s=t.length-1;s>=0;s--){var o=t[s];if(o.Ti===i.Hct&&o.ji===i.Wct)return t.slice(0,s+1);if(o.Ti<i.Hct||o.ji<i.Wct)return t.slice(0,s+2)}return[]};yt(),C(),zt(),Ut();var dU=function(){function t(t){this.$ct=t}return t.prototype.mct=function(t,n,i,r){var e=this;return Ot((function(){var u,s,o,a,c,h;return Rt(this,(function(f){switch(f.label){case 0:s=0,o=e.$ct,f.label=1;case 1:if(!(s<o.length))return[3,6];a=o[s],f.label=2;case 2:return f.trys.push([2,4,,5]),[4,a.mct(t,n,i,r)];case 3:return(c=f.sent())?[2,c]:[3,5];case 4:return h=f.sent(),u=h,[3,5];case 5:return s++,[3,1];case 6:if(u)throw u;return[2,void 0]}}))}))()},t}();yt(),C(),yt(),C(),zt(),Ut();var gU=function(){function t(t){this.ilt=t}return t.prototype.tlt=function(t,n,i,r){var e=this;return Ot((function(){var u,s,o,a,c;return Rt(this,(function(h){switch(h.label){case 0:s=0,o=e.ilt,h.label=1;case 1:if(!(s<o.length))return[3,6];a=o[s],h.label=2;case 2:return h.trys.push([2,4,,5]),[4,a.tlt(t,n,i,r)];case 3:return[2,h.sent()];case 4:return Uo(c=h.sent()),u=c,[3,5];case 5:return s++,[3,1];case 6:throw u}}))}))()},t}();yt(),C(),zt(),Ut();var wU=function(){function t(t){this.aE=t}return t.prototype.tlt=function(t,n,i,r){var e=this;return Ot((function(){var u;return Rt(this,(function(s){switch(s.label){case 0:return[4,e.aE.uD({zu:t,qD:pl.SD,XD:n?{Range:"bytes="+n[0]+"-"+(null!=(u=n[1])?u:"")}:void 0,tE:i,ZD:Jw.GET,Av:$w.jT,f_:r})];case 1:return[4,s.sent().GR()];case 2:return[2,s.sent()]}}))}))()},t}();yt(),C(),zt(),Ut();var yU=function(){function t(t){this.rut=t}return t.prototype.tlt=function(t,n,i,r){var e=this;return Ot((function(){var i,r;return Rt(this,(function(u){switch(u.label){case 0:return[4,e.rut.mnt(t,n)];case 1:return(i=u.sent())?[2,i.buffer]:n?[4,e.rut.mnt(t)]:[3,3];case 2:if(r=u.sent())return[2,jc(new p(r.buffer),n[0],n[1])];u.label=3;case 3:throw new IP({zu:t,Sat:n,tE:!1})}}))}))()},t}();yt(),C();var mU=1.05,AU=function(t,n,i,r){if(!1===i.Xct)return t;if(r.Cet)return t;for(var e,u,s=r.Oet,o=(null!=(e=null==s?void 0:s.width)?e:i.Wct)*mU,a=(null!=(u=null==s?void 0:s.height)?u:i.Hct)*mU,c=t.length-1;c>=0;c--){var h=t[c];if(h.Ti<=a&&h.ji<=o)return t.slice(0,c+1)}return[]},pU=function(){function t(){}return t.G7=function(t,n,i,r,e,u,s,o,a,c){var h=function(t,n){return new gU([new yU(n),new wU(t)])}(u,s),f=new hU([fU],e,an.Ys,o,a,c),v=new sU(f,n,s,h),l=new hU([vU,fU,lU,AU],e,an.Ys,o,a,c),d=new uU(l,n,r,h),g=new dU([v,d]);return new KP(t,i,g)},t}();yt(),C();var _U=function(){function t(t){this.Uut=t}var n=t.prototype;return n.elt=function(t,n,i,r){return this.Uut.elt(t,n,i,r)},n.slt=function(t,n,i){return this.Uut.Grt(t,n,i)},n.nlt=function(t,n,i){return this.Uut.nlt(t,n,i)},n.mq=function(t,n){this.Uut.mq(t,n)},n.pq=function(t,n){this.Uut.pq(t,n)},n.x0=function(){this.Uut.x0()},n.wX=function(){return this.Uut.wX()},t}();yt(),C(),zt(),pt(),Mt(),Ut(),yt(),C(),Mt();var kU=function(t){function n(n,i,r,e,u,s){var o;return void 0===s&&(s=0),(o=t.call(this,Al.nm)||this).segmentStartTime=n,o.error=i,o.trackType=r,o.track=e,o.quality=u,o.retryCount=s,o}return bt(n,t),n}(ra);yt(),C(),Mt();var bU=function(t){function n(n,i){var r;return(r=t.call(this,Al.Tv)||this).track=n,r.segments=i,r}return bt(n,t),n}(ra),MU=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).rlt=n,r}return bt(n,t),n}(xo),TU=[Al.hm,Al.lm],NU=function(t){function n(n,i,r,e,u,s,o,a){var c;return(c=t.call(this)||this).gat=n,c.Vht=i,c.llt=r,c.ult=e,c.Ult=u,c.Ilt=s,c.qct=o,c.Mlt=a,c.olt=void 0,c.i0=void 0,c.hlt=void 0,c.Elt=void 0,c.plt=0,c.Alt=0,c.blt=HD.oU(),c.Ult.yn(TU,c.Ds),c}bt(n,t);var i=n.prototype;return i.clt=function(t){return!this.i0||!t||!Ta(this.i0.bot,t.bot)},i.wat=function(t){if(!this.olt)return!1;var n=this.olt.nut,i=HD.rU(n.MS,n.bS),r=this.llt.Qut,e=r.WB(t);return e<0?i.gr(t,WP):i.ZB(t,r.jn(e),!0,!0,WP)},i.fat=function(t){var n=this;return Ot((function(){var i,r,e,u,s,o,a,c,h,f,v;return Rt(this,(function(l){switch(l.label){case 0:i=n.Vht.Lt.Bot,l.label=1;case 1:0,l.label=2;case 2:return l.trys.push([2,12,16,17]),Po(t),n.vat(),n.mat()?[3,18]:(r=n.dlt(),[4,n.mct(r,t)]);case 3:return void 0===(e=l.sent())?[3,18]:(n.olt=e,function(t){var n=t.Lht,i=n.Wrt,r=LP(t.nut)?i.xct(t.nut):t.nut;return i.Ylt(r,n.jlt.Olt())}(n.olt)?[3,5]:[4,n.flt(n.olt,t)]);case 4:return l.sent(),[3,1];case 5:return!n.hlt||qj(n.hlt.Lht.Nz,n.olt.Lht.Nz)?[3,7]:[4,n.qct.GZ(n.olt.Lht)];case 6:l.sent(),l.label=7;case 7:return[4,n._lt(r,n.olt.nut,t)];case 8:return l.sent(),[4,n.glt(n.olt.Lht,t)];case 9:return n.i0=l.sent(),[4,n.Zat(n.olt,t)];case 10:return u=l.sent(),s=n.llt.O_,o=n.hlt,[4,n.wlt(u,t)];case 11:return n.hlt=l.sent(),a=n.llt.O_,n.vlt(o,n.olt,s,a),i.forEach((function(t){return t.Ict=!1})),n.plt=0,n.Alt=0,[3,17];case 12:return(c=l.sent())instanceof gP?(n.B0(c.Cn,c.jn,c.Lht),[3,1]):[3,13];case 13:if(!(c instanceof MU))return[3,15];if(h=500,i.every((function(t){return t.Ict}))){if(2===n.plt){if(f=n.llt.O_,n.ylt(n.olt),n.vlt(n.hlt,n.olt,f,f),i.forEach((function(t){return t.Ict=!1})),n.Alt+=1,n.plt=0,n.Alt===n.Mlt.maxRetries)throw new Kv(Xv.MEDIA_LOAD_ERROR,"The segments could not be loaded.",c);return[3,1]}n.plt++,v=n.Mlt.minimumBackoff*w.pow(2,n.plt-1),h=w.min(v,n.Mlt.maximumBackoff)}return[4,Ko(h,t)];case 14:return l.sent(),[3,1];case 15:throw n.blt=HD.oU(),c;case 16:return n.olt=void 0,[7];case 17:return[3,1];case 18:return[2]}}))}))()},i.vlt=function(t,n,i,r){var e=r.VB(i),u=n.Lht.Tlt(n.nut),s=n.Lht.Mct(n.nut),o=n.nut.MS,a=n.nut.bS;u&&(o=w.min(o,w.max(0,n.Lht.bct.Cn-.05))),s&&(a=w.max(a,n.Lht.bct.jn));var c=HD.rU(o,a).VB(r);if(0===e.U)return 0===this.blt.U&&this.blt.YB(HD.rU(i.jn(i.U-1),o)),this.blt=this.blt.YB(c),void this.Vht.fct(this.blt);if(u||this.blt.U>0){var h=c.Sn(HD.rU(o,e.Cn(0)));this.Slt(h)}var f=e.BB().Sn(HD.rU(e.Cn(0),e.jn(e.U-1)));if(this.Slt(f),s){var v=c.Sn(HD.rU(e.jn(e.U-1),a));this.Slt(v)}if(this.blt.U>0){var l=this.blt.VB(e);this.Slt(l),this.blt=HD.oU()}var d,g=n.Lht.Wrt,y=LP(n.nut)?void 0:g.Oct(n.nut),m=null!=(d=null==t?void 0:t.nut)?d:this.Nlt(y)?y:void 0;if(m){var A=this.Vht.uct(m.MS,m.bS);if(A.length>0){var p=HD.rU(A[A.length-1].act,e.Cn(0));this.Slt(p)}}var _=LP(n.nut)?void 0:g.jct(n.nut);if(_&&this.Nlt(_)){var k=this.Vht.uct(_.MS,_.bS);if(k.length>0){var b=HD.rU(e.jn(e.U-1),k[0].hct);this.Slt(b)}}},i.Nlt=function(t){return!!t&&this.Vht.uct(t.MS,t.bS).length>0},i.Slt=function(t){for(var n=t.VB(this.llt.O_),i=0;i<n.U;i++)n.Cn(i)!==n.jn(i)&&this.Ilt.mq(n.Cn(i),n.jn(i))},i.Dlt=function(t,n){throw new MU(t,n)},i.vat=function(){if(!(this.blt.U>0)){var t,n=this.llt.Qut.YB(null!=(t=this.llt.wq.PB().Jm(this.llt.Yut))?t:HD.oU());this.Vht.$ut(n),this.Elt&&!this.klt(this.Elt)&&(this.Elt=void 0),this.Co(new bU(this.Vht.Lt.Zht,this.Vht.cct()))}},i.mat=function(){return this.hlt&&this.hlt.Lht.Mct(this.hlt.nut)?(this.Ilt.x0(),!0):(this.Elt&&this.Elt.Lht.Mct(this.Elt.nut)&&this.klt(this.Elt)&&this.Ilt.x0(),!!this.llt.Fut)},i.klt=function(t){return this.Vht.tct.HB(t.Llt,t.xlt)},i.Clt=function(t,n,i){(!this.Elt||this.Elt.nut.bS<t.nut.bS)&&(this.Elt=$u({},t,{Llt:n,xlt:i}))},i.dlt=function(){var t=this.llt.Yut;return t},i.mct=function(t,n){var i=this;return Ot((function(){var r,e;return Rt(this,(function(u){switch(u.label){case 0:return Po(n),r=i.hlt?i.hlt.Lht:void 0,[4,i.ult.wct(t,r,n)];case 1:return(e=u.sent())?[2,e]:[2,void 0]}}))}))()},i.flt=function(t,n){var i=this;return Ot((function(){var r,e,u,s,o,a;return Rt(this,(function(c){switch(c.label){case 0:return r=t.Lht,e=r.Wrt,u=LP(t.nut)?e.xct(t.nut):t.nut,s=r.jlt.Olt(),(o=e.Rlt(u))&&o.getTime()<=s.getTime()?[2,i.Dlt(aP.Zot,"Segment is not available.")]:(a=e.Plt(u).getTime()-s.getTime(),[4,Go((function(t){return q.race([Ko(a,t),r.k_(fP.Nht,t)])}),n)]);case 1:return c.sent(),[2]}}))}))()},i.glt=function(t,n,i){void 0===i&&(i=0);var r=this;return Ot((function(){var e,u,s,o;return Rt(this,(function(a){switch(a.label){case 0:if(Po(n),!(e=t.zlt))return[2,r.i0];a.label=1;case 1:return a.trys.push([1,4,,7]),t.Blt?[3,3]:[4,r.Ult.Kat(e,n)];case 2:u=a.sent(),t.Blt=u.ly,a.label=3;case 3:return[3,7];case 4:return Uo(s=a.sent()),Sy(s)?2===i?(t.Ict=!0,[2,r.Dlt(aP.sht,"Could not fetch the initializer.")]):[4,Ko(w.min(r.Mlt.minimumBackoff*w.pow(2,i),r.Mlt.maximumBackoff),n)]:[3,6];case 5:return a.sent(),[2,r.glt(t,n,i+1)];case 6:throw new Kv(Xv.MEDIA_LOAD_ERROR,s.message,s);case 7:Po(n),a.label=8;case 8:return a.trys.push([8,11,,12]),r.clt(t.Blt)?[4,r.Ilt.slt(t.Blt,t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,12];case 11:if(Uo(o=a.sent()),Sy(o))return[2,r.Dlt(aP.sht,"Could not append the initializer.")];throw new Kv(Xv.MEDIA_DECODE_ERROR,o.message,o);case 12:return[2,t.Blt]}}))}))()},i.Zat=function(t,n,i){void 0===i&&(i=0);var r=this;return Ot((function(){var e;return Rt(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,6]),Po(n),[4,r.Ult.Zat(t,n)];case 1:case 4:return[2,u.sent()];case 2:return Uo(e=u.sent()),e instanceof FP?function(t){return t instanceof my}(e.cause)?(r.Qlt(new FP(e,t.nut,t.Lht),i),[2,r.Dlt(aP.Zot,"Could not append the segment.")]):2===i?(t.Lht.Ict=!0,r.Qlt(e,i),[2,r.Dlt(aP.Zot,"Could not fetch the segment.")]):[4,Ko(w.min(r.Mlt.minimumBackoff*w.pow(2,i),r.Mlt.maximumBackoff),n)]:[3,5];case 3:return u.sent(),[4,r.Zat(t,n,i+1)];case 5:throw new Kv(Xv.MEDIA_LOAD_ERROR,e.message,e);case 6:return[2]}}))}))()},i._lt=function(t,n,i){var r=this;return Ot((function(){var e,u,s,o,a,c,h,f,v,l;return Rt(this,(function(d){switch(d.label){case 0:for(e=r.Vht.uct(n.MS,n.bS),u=r.llt.Qut.Jm(t),s=HD.oU(),o=0;o<e.length;o++)a=e[o],Po(i),c=a.hct,h=a.act,(f=u&&u.ZB(c,h)?w.max(c,u.jn(0)):c)<(v=h)&&(s=s.YB(HD.rU(f,v)));l=0,d.label=1;case 1:return l<s.U?[4,r.Ilt.nlt(s.Cn(l),s.jn(l),i)]:[3,4];case 2:d.sent(),d.label=3;case 3:return l++,[3,1];case 4:return r.vat(),[2]}}))}))()},i.wlt=function(t,n){var i=this;return Ot((function(){var r,e;return Rt(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),Po(n),[4,i.Ilt.elt(t.out,t.nut,t.Lht,n)];case 1:return r=u.sent(),i.Flt(t,r.Llt,r.xlt),i.Clt(t,r.Llt,r.xlt),[2,t];case 2:if(Uo(e=u.sent()),Sy(e))return i.Qlt(new FP(e,t.nut,t.Lht),0),[2,i.Dlt(aP.Zot,"Could not append the segment.")];if(ZS(e)&&i.Ilt.wX())return[2,i.Dlt(aP.Kot,"Buffer is full. Could not reduce the buffer.")];throw new Kv(Xv.MEDIA_DECODE_ERROR,e.message,e);case 3:return[2]}}))}))()},i.Flt=function(t,n,i){var r=t.Lht,e=t.nut;this.lct(e,r,n,i)},i.lct=function(t,n,i,r){this.Vht.lct({sct:t.MS,nct:t.bS,hct:i,act:r,_ct:!0},n),this.Ilt.pq(i,r)},i.B0=function(t,n,i){var r=HD.rU(t,n);i?this.Vht.mq(r,i):this.Vht.fct(r),this.Ilt.mq(t,n)},i.ylt=function(t){var n=HD.rU(t.nut.MS,t.nut.bS);t.Lht?this.Vht.mq(n,t.Lht):this.Vht.fct(n)},i.Qlt=function(t,n){var i=t.kut,r=this.Vht.Lt.Zht,e=this.Vht.Lt.va,u=t.xut.Lht&&t.xut.Lht.va,s=new kU(i,t.message,r,e,u,n);this.Co(s)},i.tr=function(){this.i0=void 0,this.hlt=void 0},i.gn=function(){this.tr(),this.Elt=void 0,this.Ult.fn(TU,this.Ds),this.Ult.gn()},At(n,[{key:"Qht",get:function(){return this.olt}},{key:"Yht",get:function(){return this.hlt}},{key:"Wht",get:function(){return this.ult.Wht},set:function(t){this.ult.Wht=t}},{key:"Zht",get:function(){return this.Vht.Lt.Zht}}]),n}($o);var DU=0,IU=function(){function t(t,n,i,r,e,u,s,o,a,c,h){this.Uut=t,this.q3=n,this.$0=i,this.aE=r,this.wU=e,this.Glt=u,this.rut=s,this.Zct=o,this.Yct=a,this.qct=c,this.Mlt=h}return t.prototype.G7=function(t){var n=DU++,i=this.Uut.O0,r=new HP(t),e=new kP(i,this.Glt),u=new XP(this.Uut,this.q3,this.$0,this.wU),s=pU.G7(n,this.Uut,r,this.wU,e,this.aE,this.rut,this.Zct,this.Yct,this.qct),o=function(t){switch(t){case Gm.WA:return ny.WA;case Gm.VA:return ny.VA;case Gm.Ru:return ny.Ru;case Gm.OT:return ny.OT;default:return ny.jT}}(i),a=new AP(this.aE,o),c=this.zut(a,e,this.Glt),h=new _U(this.Uut),f=new NU(n,r,u,s,c,h,this.qct,this.Mlt);return new mP(n,t.Out,r,f,this.q3)},t}(),EU=function(t){function n(){return t.apply(this,arguments)}return bt(n,t),n.prototype.zut=function(t,n,i){return(new VP).zut(t,this.Uut,n,i,this.rut)},n}(IU),SU=function(t){function n(){return t.apply(this,arguments)}bt(n,t);var i=n.prototype;return i.Vlt=function(n,i){var r={Zht:Gm.Ru,Out:i,Bot:i.Bot,va:n.va};return t.prototype.G7.call(this,r)},i.zut=function(t,n){return(new VP).zut(t,this.Uut,n,!1,this.rut)},n}(IU);yt(),C();var LU=function(){function t(t){this.xrt=t}var n=t.prototype;return n.FZ=function(t){return this.xrt.FZ(t)},n.GZ=function(t){return this.xrt.GZ(t)},t}(),jU=function(){function t(){}var n=t.prototype;return n.FZ=function(t){return!0},n.GZ=function(t){return q.resolve(void 0)},t}();yt(),C(),Xt(),pt(),Mt(),Ct(),yt(),C(),Mt();var CU=function(t){function n(n,i){var r;return(r=t.call(this,gm.Ow)||this).qw=n||[],r.Lt=i,r}return bt(n,t),n.prototype.fa=function(){return new xU(this.qw.map((function(t){return t.va})))},n}(am),xU=function(t){function n(n){var i;return(i=t.call(this,"targetqualitychanged")||this).qualities=n,i.quality=i.qualities.length>0?i.qualities[0]:void 0,i}return bt(n,t),n}(ra);yt(),C(),Mt();var OU=function(t){function n(n){var i;return(i=t.call(this,gm.QUALITY_UNAVAILABLE)||this).quality=n,i}return bt(n,t),n.prototype.fa=function(){return new zU(this.quality.va)},n}(fm),zU=function(t){function n(n){var i;return(i=t.call(this,"qualityunavailable")||this).quality=n,i}return bt(n,t),n}(vm);yt(),C(),Mt();var RU=function(t){function n(){return t.call(this,gm.NO_QUALITY)}return bt(n,t),n}(ra);function BU(t){return{GP:t.GP,Vet:t.$nt,Ti:PU(t)?t.Ti:0,Av:PU(t)?Gm.VA:Gm.WA,ji:PU(t)?t.ji:0}}function PU(t){var n=t;return void 0!==n.Ti&&void 0!==n.ji}yt(),C();var UU=0,QU=function(t){function n(n,i,r){var e;return void 0===r&&(r="alternative"),(e=t.call(this)||this).$lt=void 0,e.Le=!1,e.Xa=void 0,e.edt=void 0,e.uS="",e.fdt=!1,e.sS=new nA,e.odt=[],e.Klt=void 0,e.sdt=void 0,e.Xlt=function(){return e.Co(new eA(Wt(e)))},e.adt=[],e.rat=n,e.uS=String(UU++),e.cS=oA(),e.C2=r,e.Rx=n.b8,e.lS=n.kh,e.udt=n.Av,e.odt=n.Bot,e.Hlt(i),e}bt(n,t);var i=n.prototype;return i.Hlt=function(t){for(var n=0;n<t.length;n++){var i=t[n];i.yn("update",this.Xlt),this.sS.nS(i)}},i.Zlt=function(t){if(this.sS.oS(t)){t.bD();var n=this.qlt();if(this.Klt&&mo(this.Klt,t)){var i=this.Klt.filter((function(t){return t.snt}));0===i.length&&n.length>0?this.Kw=n:this.Kw=i}else this.Kw=n;this.Co(new OU(t))}},i.Jlt=function(t){if(this.sS.oS(t)){var n=this.qlt();t.MD(),this.Klt&&!function(t,n){return Ao(t,n,(function(t,n){return t===n}))}(this.Klt,n)||(this.Kw=this.qlt())}},i.qlt=function(){for(var t=[],n=0,i=this.sS.Rw;n<i.length;n++){var r=i[n];r.snt&&t.push(r)}return t},i.tdt=function(t){this.$lt=t.Lht,this.Co(t)},i.ndt=function(t){if(t&&0!==t.length){for(var n=[],i=0,r=this.Bot;i<r.length;i++)for(var e=r[i],u=0;u<t.length;u++){var s=t[u];s===e.Lht&&s.snt&&n.push(e)}return n}},i.hdt=function(t){var n;this.adt.push(t),(n=this.odt).push.apply(n,jt(t.Bot));var i=t.Bot.map((function(t){return t.Lht}));this.Hlt(i)},i.fS=function(t){this.Le=t,this.edt&&(t?this.edt.MD(this):this.edt.bD(this))},i.ddt=function(t){this.Le=t,this.fdt!==t&&(this.fdt=t,this.Co(new iA(this)))},i.gn=function(){for(var t=0,n=this.sS.Rw;t<n.length;t++){n[t].fn("update",this.Xlt)}this.sS.tr()},At(n,[{key:"Zw",get:function(){return this.rat.Wlt.map(YU).filter(Rn)}},{key:"Hw",get:function(){return this.$lt}},{key:"Out",get:function(){return this.rat}},{key:"Rt",get:function(){return this.Le},set:function(t){this.fS(t)}},{key:"va",get:function(){return this.Xa||(this.Xa=Qm(this)),this.Xa}},{key:"idt",get:function(){return this.edt},set:function(t){this.edt=t}},{key:"o",get:function(){return this.uS}},{key:"Xw",get:function(){return this.cS}},{key:"zt",get:function(){return this.C2}},{key:"gs",get:function(){return this.Rx}},{key:"kh",get:function(){return this.lS},set:function(t){t!==this.lS&&(this.lS=t,this.Co(new eA(this)))}},{key:"_v",get:function(){return this.Rt?"enabled":"disabled"}},{key:"Kw",get:function(){return this.Klt},set:function(t){var n=this,i=[];if(t){var r=(null!=t?t:[]).filter((function(t){var i=n.Hw?BU(n.Hw):void 0;return an.Ys.Uet(i,BU(t))}));if(0===r.length)return;i=r.filter((function(t){return t.snt}))}else i=this.qlt();0===i.length&&this.Co(new RU),this.Klt=t&&this.sS.oS(t)?t:void 0,this.sdt=this.ndt(this.Klt),this.Co(new CU(t,this))}},{key:"rdt",get:function(){return this.sdt}},{key:"qw",get:function(){return this.sS}},{key:"Bot",get:function(){return this.odt}},{key:"Zht",get:function(){return this.udt}},{key:"cdt",get:function(){return this.adt}},{key:"ldt",get:function(){return this.Bot.every((function(t){return t.ldt}))}}]),n}($o);function YU(t){if("urn:mpeg:dash:role:2011"===t.irt)return FU(t);if("urn:tva:metadata:cs:AudioPurposeCS:2007"===t.irt){if("1"===t.lT)return zm.$w;if("2"===t.lT)return zm.ov}}function FU(t){if(void 0!==(null==t?void 0:t.lT))switch(t.lT){case"caption":return zm.Jw;case"sign":return zm.rv;case"description":return zm.$w;case"enhanced-audio-intelligibility":return zm.ov;default:return}}var GU=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).Kx=0,s.lU=1,s.mdt=void 0,s.gdt={},s.vdt={},s.qx=0,s.Tdt=function(t){0},s.q3=n,s.aE=i,s.wU=r,s.bdt=e,s.rut=u,s}bt(n,t);var i=n.prototype;return i.x0=function(){},i.Gut=function(){return this.Qut.gr(this.jn)},i.elt=function(t,n,i,r){var e=this;return Ot((function(){var u,s,o,a,c,h,f,v,l,d;return Rt(this,(function(g){switch(g.label){case 0:return t.Av!==CL.jZ?[3,1]:(s=t.ly.bot,[3,3]);case 1:return[4,t.ly.GR(r)];case 2:s=g.sent(),g.label=3;case 3:for(u=s,o=e.findTrackForRepresentation(i),a=e.gdt[o.Xw],c=n.MS,h=n.bS,f=new HD([c,h]),a||(e.gdt[o.Xw]=HD.oU(),e.vdt[o.Xw]=HD.oU()),e.Prt(r),v=e.Vrt(new p(u),n,i,o),l=0;l<v.length;l++)d=v[l],o.lE(d);return e.gdt[o.Xw]=e.gdt[o.Xw].YB(f),[2,{Llt:c,xlt:h}]}}))}))()},i.Prt=function(t){for(var n=XS(this.q3.U_,void 0,void 0,this.O_,this.wU.lX,this.wU.rX),i=0;i<n.length;i++){var r=Gt(n[i],2),e=r[0],u=r[1];Xo(this.nlt(e,u,t))}},i.Grt=function(t,n,i){return this.bdt.Grt(t,n,i)},i.Vrt=function(t,n,i,r){return this.bdt.Vrt(t,n,i,r)},i.nlt=function(t,n,i){for(var r=t,e=n,u=new HD([t,n]),s=0,o=this.Z.Rw;s<o.length;s++){for(var a=o[s],c=[],h=0,f=a.L.Rw;h<f.length;h++){var v=f[h];v.MS>=r&&v.bS<=e?c.push(v):u=u.VB(new HD([v.MS,v.bS]))}for(var l=0;l<c.length;l++){var d=c[l];a.gD(d)}var g=this.gdt[a.Xw];g&&(this.gdt[a.Xw]=g.VB(u))}return q.resolve()},i.mq=function(t,n){},i.pq=function(t,n){},i.wX=function(){return!1},i.MD=function(n){if(t.prototype.MD.call(this,n),this.bdt.tr(),this.mdt&&(this.mdt.gn(),this.mdt=void 0),this.Not){var i=this.Rot(this.Not);this.mdt=new SU(this,this.q3,this.q3,this.aE,this.wU,!1,this.rut,void 0,void 0,new jU,DD).Vlt(this.Not,i),this.mdt.yn(p_.ha,this.Tdt),this.mdt.Cn(aP.Fot)}},i.bD=function(n){this.Not===n&&(t.prototype.bD.call(this,n),this.mdt&&(this.mdt.gn(),this.mdt=void 0))},i.Lot=function(t){var n=function(t){var n=t.Bot&&t.Bot.length>0&&t.Bot[0],i=n&&H_(n.$nt),r=H_(t.$nt),e=t.aG===Tv.APPLICATION_TTML_XML;return i||r||e?mA.TTML:t.aG===Tv.TEXT_VTT||$_(t.aG,t.$nt)?mA.WEBVTT:mA.DEFAULT}(t);if(!n)throw new v("Unknown TextTrack type for Representation");var i=t.Sdt.concat(t.Wlt);return this.Ndt(function(t){return mo(t.filter((function(t){return"urn:mpeg:dash:role:2011"===t.irt})).map((function(t){return t.lT})).filter(Rn),"caption")?Q_.sD:Q_.HA}(i),t.kh,t.b8,!1,n,t,function(t){return t.filter((function(t){return"urn:mpeg:dash:role:2011"===t.irt})).some((function(t){return function(t){return"forced-subtitle"===t||"forced_subtitle"===t}(t.lT)}))}(t.Sdt),t.Wlt.map(FU).filter(Rn))},i.tr=function(){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return[4,t.prototype.tr.call(n)];case 1:return i.sent(),n.mdt?[4,n.mdt.tr(aP.cht)]:[3,3];case 2:i.sent(),n.mdt.fn(p_.ha,n.Tdt),n.mdt=void 0,i.label=3;case 3:return n.Dot=void 0,n.gdt={},n.vdt={},[2]}}))}))()},i.Idt=function(){this.gdt={},this.vdt={}},i.findTrackForRepresentation=function(t){for(var n=0,i=this.Z.Rw;n<i.length;n++){var r=i[n],e=this.Rot(r);if(e&&hP.zot(e)===t)return r}},At(n,[{key:"_z",get:function(){var t=this.q3.U_;return this.Qut.Jm(t,.01)}},{key:"_dt",get:function(){return this.Not&&this.gdt[this.Not.Xw]?this.gdt[this.Not.Xw]:HD.oU()}},{key:"wdt",get:function(){return this.Not&&this.vdt[this.Not.Xw]?this.vdt[this.Not.Xw]:HD.oU()}},{key:"Vut",get:function(){return new HD([0,1/0])}},{key:"O_",get:function(){return this._dt}},{key:"wq",get:function(){return this.mdt?this.mdt.Ght.wq.Wut:HD.oU()}},{key:"Qut",get:function(){return vP(this.O_,this.wq).FB(2*this.pdt)}},{key:"Cn",get:function(){return this.Dot?this.Dot.bct.Cn:NaN}},{key:"jn",get:function(){return this.Dot?this.Dot.bct.jn:NaN}},{key:"G_",get:function(){var t=this.jn;return!!t&&this.q3.U_>=t}},{key:"pdt",get:function(){var t,n,i=this.Pot();return i?1/(null!=(n=this.Not&&(null==i||null==(t=i.Adt)?void 0:t.JS()))?n:25):.04}},{key:"Ti",get:function(){return this.Kx}},{key:"O0",get:function(){return Gm.Ru}},{key:"gg",get:function(){return this.lU},set:function(t){this.lU=t}},{key:"pg",get:function(){return this.wdt}},{key:"Ig",get:function(){if(!this.Not)return HD.nU(0);var t=this.Rot(this.Not),n=null==t?void 0:t.ydt,i=null==t?void 0:t.Mdt;if(void 0===i||void 0===n)return HD.nU(0);var r=w.max(n,this.q3.U_);return new HD([i,r]).PB()}},{key:"ji",get:function(){return this.qx}}]),n}(hP),VU=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n,i,r,e,u)||this).oE=s,o}bt(n,t);var i=n.prototype;return i.Ndt=function(t,n,i,r,e,u,s,o){var a,c,h=u.Bot.reduce((function(t,n){return t||n.o}),void 0),f=null!=(c=null!=h?h:null==(a=u.o)?void 0:a.toString())?c:"";return this.oE.rE(t,f,n,i,r,e,s,o)},i.gn=function(){for(var n=0,i=this.Z.Rw;n<i.length;n++){var r=i[n];this.oE.fE(r)}return t.prototype.gn.call(this)},n}(GU),WU=function(){function t(t,n,i,r,e){this.kdt=[],this.Dl=new bT([]),this.q3=t,this.aE=n,this.wU=i,this.rut=r,this.oE=e}var n=t.prototype;return n.hE=function(t){var n=this;return Ot((function(){var i,r;return Rt(this,(function(e){switch(e.label){case 0:return t.Av!==Gm.Ru?[2]:(i=function(t,n){return H_(n)||t===Tv.APPLICATION_TTML_XML||t===Tv.TEXT_VTT?new rP:$_(t,n)?new sP:void 0}(t.aG,t.$nt),i?(r=n.Ddt(i),n.Edt(r),[4,r.$n(t)]):[3,2]);case 1:return e.sent(),[2,r];case 2:return[2]}}))}))()},n.Ddt=function(t){return new VU(this.q3,this.aE,this.wU,t,this.rut,this.oE)},n.Edt=function(t){this.kdt.push(t),this.Dl.tz(t.Z)},n.tr=function(){var t=this;return Ot((function(){var n,i;return Rt(this,(function(r){switch(r.label){case 0:n=0,i=t.kdt.slice(),r.label=1;case 1:return n<i.length?[4,i[n].tr()]:[3,4];case 2:r.sent(),r.label=3;case 3:return n++,[3,1];case 4:return po(t.kdt),t.Dl.tr(),[2]}}))}))()},n.gn=function(){var t=this;return Ot((function(){var n,i;return Rt(this,(function(r){switch(r.label){case 0:n=0,i=t.kdt,r.label=1;case 1:return n<i.length?[4,i[n].gn()]:[3,4];case 2:r.sent(),r.label=3;case 3:return n++,[3,1];case 4:return po(t.kdt),t.Dl.gn(),[2]}}))}))()},At(t,[{key:"nt",get:function(){return this.Dl}}]),t}();yt(),C(),Mt();var XU,ZU,HU=function(t){function n(n){var i;return(i=t.call(this,Al.Wv)||this).error=n,i}return bt(n,t),n}(ra);yt(),C(),function(t){t.Tj="static",t.Sj="dynamic"}(XU||(XU={})),yt(),C(),Mt(),yt(),C(),function(t){t.Ldt="xdt"}(ZU||(ZU={}));var KU=function(t){function n(){return t.call(this,ZU.Ldt)}return bt(n,t),n}(ra);yt(),C(),zt(),pt(),Mt(),Vt(),Ut(),yt(),C();var qU=0;yt(),C(),Mt();var JU,$U,tQ,nQ=function(t){function n(n,i){var r;return(r=t.call(this,Al.Kv)||this).representation=n,r.previousRepresentation=i,r}return bt(n,t),n}(ra);function iQ(t,n,i){return i===JU.Cdt?i:n!==$U.Odt&&n!==$U.jdt||i!==JU.Rdt&&i!==JU.Pdt?t?n===$U.zdt?JU.Bdt:n===$U.Udt?JU.Qdt:JU.Cdt:JU.Fdt:JU.Pdt}function rQ(t,n,i,r){var e={byte:i},u=JU.Rdt,s=[],o=31&Aj(n,e,r);e.byte+=1;for(var a=0;a<o;a+=1){var c=Aj(n,e,r),h=4&c,f=3&c;u=iQ(Boolean(h),f,u);var v=Aj(n,e,r),l=Aj(n,e,r);s.push({Ydt:t,Kb:-1,Gdt:!a,Vdt:Boolean(h),Av:f,Wdt:u,Hdt:v,Xdt:l})}return s}function eQ(t,n,i){var r=Aj(t,n,i);if(!A(r))return String.fromCharCode(r)}function uQ(t){var n=t.kJ,i={byte:t.DJ},r=t.EJ,e=Aj(n,i,r);if(255===e&&(i.byte+=1),181===e){var u=pj(n,i);if(47===u||49===u){if(49===u){var s=function(t,n,i){for(var r="",e=i;e>0;)e-=1,r+=eQ(t,n);return r}(n,i,4);if("GA94"!==s)return}if(3===Aj(n,i,r)){47===u&&(i.byte+=1);var o=t;return o.Zdt=i.byte,o}}}}function sQ(t){return 4===t.NJ}function oQ(t){for(var n=t.filter(sQ).map(uQ).filter(Rn),i=[],r=0;r<n.length;r++){var e,u=n[r];(e=i).push.apply(e,jt(rQ(u.SJ,u.kJ,u.Zdt,u.EJ)))}return i}yt(),C(),Mt(),yt(),C(),Ct(),yt(),C(),function(t){t[t.Cdt=0]="Cdt",t[t.Rdt=1]="Rdt",t[t.Pdt=2]="Pdt",t[t.Qdt=3]="Qdt",t[t.Bdt=4]="Bdt",t[t.Fdt=5]="Fdt"}(JU||(JU={})),function(t){t[t.Odt=0]="Odt",t[t.jdt=1]="jdt",t[t.zdt=2]="zdt",t[t.Udt=3]="Udt"}($U||($U={})),function(t){t[t.qdt=47]="qdt",t[t.Kdt=49]="Kdt"}(tQ||(tQ={})),yt(),C();var aQ="und";function cQ(t){if(t!==aQ)for(var n=t.toLowerCase(),i=0;i<hQ.length;i++){var r=hQ[i];if(r[1]===n||r[2]===n||r["2T"]===n||r["2B"]===n||r[3]===n)return r}}var hQ=[{l:"Abkhaz",lh:"\u0410\u04a7\u0441\u0443\u0430",1:"ab",2:"abk","2T":"abk","2B":"abk",3:"abk"},{l:"Afar",lh:"Afaraf",1:"aa",2:"aar","2T":"aar","2B":"aar",3:"aar"},{l:"Afrikaans",lh:"Afrikaans",1:"af",2:"afr","2T":"afr","2B":"afr",3:"afr"},{l:"Akan",lh:"Akan",1:"ak",2:"aka","2T":"aka","2B":"aka",3:"aka"},{l:"Albanian",lh:"Shqip",1:"sq",2:"sqi","2T":"sqi","2B":"alb",3:"sqi"},{l:"Amharic",lh:"\u12a0\u121b\u122d\u129b",1:"am",2:"amh","2T":"amh","2B":"amh",3:"amh"},{l:"Arabic",lh:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",1:"ar",2:"ara","2T":"ara","2B":"ara",3:"ara"},{l:"Aragonese",lh:"Aragon\xe9s",1:"an",2:"arg","2T":"arg","2B":"arg",3:"arg"},{l:"Armenian",lh:"\u0540\u0561\u0575\u0565\u0580\u0565\u0576",1:"hy",2:"hye","2T":"hye","2B":"arm",3:"hye"},{l:"Assamese",lh:"\u0985\u09b8\u09ae\u09c0\u09af\u09bc\u09be",1:"as",2:"asm","2T":"asm","2B":"asm",3:"asm"},{l:"Avaric",lh:"\u0410\u0432\u0430\u0440",1:"av",2:"ava","2T":"ava","2B":"ava",3:"ava"},{l:"Avestan",lh:"avesta",1:"ae",2:"ave","2T":"ave","2B":"ave",3:"ave"},{l:"Aymara",lh:"Aymar",1:"ay",2:"aym","2T":"aym","2B":"aym",3:"aym"},{l:"Azerbaijani",lh:"Az\u0259rbaycanca",1:"az",2:"aze","2T":"aze","2B":"aze",3:"aze"},{l:"Bambara",lh:"Bamanankan",1:"bm",2:"bam","2T":"bam","2B":"bam",3:"bam"},{l:"Bashkir",lh:"\u0411\u0430\u0448\u04a1\u043e\u0440\u0442\u0441\u0430",1:"ba",2:"bak","2T":"bak","2B":"bak",3:"bak"},{l:"Basque",lh:"Euskara",1:"eu",2:"eus","2T":"eus","2B":"baq",3:"eus"},{l:"Belarusian",lh:"\u0411\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0430\u044f",1:"be",2:"bel","2T":"bel","2B":"bel",3:"bel"},{l:"Bengali",lh:"\u09ac\u09be\u0982\u09b2\u09be",1:"bn",2:"ben","2T":"ben","2B":"ben",3:"ben"},{l:"Bihari",lh:"\u092d\u094b\u091c\u092a\u0941\u0930\u0940",1:"bh",2:"bih","2T":"bih","2B":"bih",3:"bih"},{l:"Bislama",lh:"Bislama",1:"bi",2:"bis","2T":"bis","2B":"bis",3:"bis"},{l:"Bosnian",lh:"Bosanski",1:"bs",2:"bos","2T":"bos","2B":"bos",3:"bos"},{l:"Breton",lh:"Brezhoneg",1:"br",2:"bre","2T":"bre","2B":"bre",3:"bre"},{l:"Bulgarian",lh:"\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438",1:"bg",2:"bul","2T":"bul","2B":"bul",3:"bul"},{l:"Burmese",lh:"\u1019\u103c\u1014\u103a\u1019\u102c\u1018\u102c\u101e\u102c",1:"my",2:"mya","2T":"mya","2B":"bur",3:"mya"},{l:"Catalan",lh:"Catal\xe0",1:"ca",2:"cat","2T":"cat","2B":"cat",3:"cat"},{l:"Chamorro",lh:"Chamoru",1:"ch",2:"cha","2T":"cha","2B":"cha",3:"cha"},{l:"Chechen",lh:"\u041d\u043e\u0445\u0447\u0438\u0439\u043d",1:"ce",2:"che","2T":"che","2B":"che",3:"che"},{l:"Chichewa",lh:"Chichewa",1:"ny",2:"nya","2T":"nya","2B":"nya",3:"nya"},{l:"Chinese",lh:"\u4e2d\u6587",1:"zh",2:"zho","2T":"zho","2B":"chi",3:"zho"},{l:"Chuvash",lh:"\u0427\u04d1\u0432\u0430\u0448\u043b\u0430",1:"cv",2:"chv","2T":"chv","2B":"chv",3:"chv"},{l:"Cornish",lh:"Kernewek",1:"kw",2:"cor","2T":"cor","2B":"cor",3:"cor"},{l:"Corsican",lh:"Corsu",1:"co",2:"cos","2T":"cos","2B":"cos",3:"cos"},{l:"Cree",lh:"\u14c0\u1426\u1403\u152d\u140d\u140f\u1423",1:"cr",2:"cre","2T":"cre","2B":"cre",3:"cre"},{l:"Croatian",lh:"Hrvatski",1:"hr",2:"hrv","2T":"hrv","2B":"hrv",3:"hrv"},{l:"Czech",lh:"\u010ce\u0161tina",1:"cs",2:"ces","2T":"ces","2B":"cze",3:"ces"},{l:"Danish",lh:"Dansk",1:"da",2:"dan","2T":"dan","2B":"dan",3:"dan"},{l:"Divehi",lh:"Divehi",1:"dv",2:"div","2T":"div","2B":"div",3:"div"},{l:"Dutch",lh:"Nederlands",1:"nl",2:"nld","2T":"nld","2B":"dut",3:"nld"},{l:"Dzongkha",lh:"\u0f62\u0fab\u0f7c\u0f44\u0f0b\u0f41",1:"dz",2:"dzo","2T":"dzo","2B":"dzo",3:"dzo"},{l:"English",lh:"English",1:"en",2:"eng","2T":"eng","2B":"eng",3:"eng"},{l:"Esperanto",lh:"Esperanto",1:"eo",2:"epo","2T":"epo","2B":"epo",3:"epo"},{l:"Estonian",lh:"Eesti",1:"et",2:"est","2T":"est","2B":"est",3:"est"},{l:"Ewe",lh:"E\u028begbe",1:"ee",2:"ewe","2T":"ewe","2B":"ewe",3:"ewe"},{l:"Faroese",lh:"F\xf8royskt",1:"fo",2:"fao","2T":"fao","2B":"fao",3:"fao"},{l:"Fijian",lh:"Na Vosa Vaka-Viti",1:"fj",2:"fij","2T":"fij","2B":"fij",3:"fij"},{l:"Finnish",lh:"Suomi",1:"fi",2:"fin","2T":"fin","2B":"fin",3:"fin"},{l:"French",lh:"Fran\xe7ais",1:"fr",2:"fra","2T":"fra","2B":"fre",3:"fra"},{l:"Fula",lh:"Fulfulde",1:"ff",2:"ful","2T":"ful","2B":"ful",3:"ful"},{l:"Galician",lh:"Galego",1:"gl",2:"glg","2T":"glg","2B":"glg",3:"glg"},{l:"Georgian",lh:"\u10e5\u10d0\u10e0\u10d7\u10e3\u10da\u10d8",1:"ka",2:"kat","2T":"kat","2B":"geo",3:"kat"},{l:"German",lh:"Deutsch",1:"de",2:"deu","2T":"deu","2B":"ger",3:"deu"},{l:"Greek",lh:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",1:"el",2:"ell","2T":"ell","2B":"gre",3:"ell"},{l:"Guaran\xed",lh:"Ava\xf1e'\u1ebd",1:"gn",2:"grn","2T":"grn","2B":"grn",3:"grn"},{l:"Gujarati",lh:"\u0a97\u0ac1\u0a9c\u0ab0\u0abe\u0aa4\u0ac0",1:"gu",2:"guj","2T":"guj","2B":"guj",3:"guj"},{l:"Haitian",lh:"Krey\xf2l Ayisyen",1:"ht",2:"hat","2T":"hat","2B":"hat",3:"hat"},{l:"Hausa",lh:"\u0647\u064e\u0648\u064f\u0633\u064e",1:"ha",2:"hau","2T":"hau","2B":"hau",3:"hau"},{l:"Hebrew",lh:"\u05e2\u05d1\u05e8\u05d9\u05ea",1:"he",2:"heb","2T":"heb","2B":"heb",3:"heb"},{l:"Herero",lh:"Otjiherero",1:"hz",2:"her","2T":"her","2B":"her",3:"her"},{l:"Hindi",lh:"\u0939\u093f\u0928\u094d\u0926\u0940",1:"hi",2:"hin","2T":"hin","2B":"hin",3:"hin"},{l:"Hiri Motu",lh:"Hiri Motu",1:"ho",2:"hmo","2T":"hmo","2B":"hmo",3:"hmo"},{l:"Hungarian",lh:"Magyar",1:"hu",2:"hun","2T":"hun","2B":"hun",3:"hun"},{l:"Interlingua",lh:"Interlingua",1:"ia",2:"ina","2T":"ina","2B":"ina",3:"ina"},{l:"Indonesian",lh:"Bahasa Indonesia",1:"id",2:"ind","2T":"ind","2B":"ind",3:"ind"},{l:"Interlingue",lh:"Interlingue",1:"ie",2:"ile","2T":"ile","2B":"ile",3:"ile"},{l:"Irish",lh:"Gaeilge",1:"ga",2:"gle","2T":"gle","2B":"gle",3:"gle"},{l:"Igbo",lh:"Igbo",1:"ig",2:"ibo","2T":"ibo","2B":"ibo",3:"ibo"},{l:"Inupiaq",lh:"I\xf1upiak",1:"ik",2:"ipk","2T":"ipk","2B":"ipk",3:"ipk"},{l:"Ido",lh:"Ido",1:"io",2:"ido","2T":"ido","2B":"ido",3:"ido"},{l:"Icelandic",lh:"\xcdslenska",1:"is",2:"isl","2T":"isl","2B":"ice",3:"isl"},{l:"Italian",lh:"Italiano",1:"it",2:"ita","2T":"ita","2B":"ita",3:"ita"},{l:"Inuktitut",lh:"\u1403\u14c4\u1483\u144e\u1450\u1466",1:"iu",2:"iku","2T":"iku","2B":"iku",3:"iku"},{l:"Japanese",lh:"\u65e5\u672c\u8a9e",1:"ja",2:"jpn","2T":"jpn","2B":"jpn",3:"jpn"},{l:"Javanese",lh:"Basa Jawa",1:"jv",2:"jav","2T":"jav","2B":"jav",3:"jav"},{l:"Kalaallisut",lh:"Kalaallisut",1:"kl",2:"kal","2T":"kal","2B":"kal",3:"kal"},{l:"Kannada",lh:"\u0c95\u0ca8\u0ccd\u0ca8\u0ca1",1:"kn",2:"kan","2T":"kan","2B":"kan",3:"kan"},{l:"Kanuri",lh:"Kanuri",1:"kr",2:"kau","2T":"kau","2B":"kau",3:"kau"},{l:"Kashmiri",lh:"\u0643\u0634\u0645\u064a\u0631\u064a",1:"ks",2:"kas","2T":"kas","2B":"kas",3:"kas"},{l:"Kazakh",lh:"\u049a\u0430\u0437\u0430\u049b\u0448\u0430",1:"kk",2:"kaz","2T":"kaz","2B":"kaz",3:"kaz"},{l:"Khmer",lh:"\u1797\u17b6\u179f\u17b6\u1781\u17d2\u1798\u17c2\u179a",1:"km",2:"khm","2T":"khm","2B":"khm",3:"khm"},{l:"Kikuyu",lh:"G\u0129k\u0169y\u0169",1:"ki",2:"kik","2T":"kik","2B":"kik",3:"kik"},{l:"Kinyarwanda",lh:"Kinyarwanda",1:"rw",2:"kin","2T":"kin","2B":"kin",3:"kin"},{l:"Kyrgyz",lh:"\u041a\u044b\u0440\u0433\u044b\u0437\u0447\u0430",1:"ky",2:"kir","2T":"kir","2B":"kir",3:"kir"},{l:"Komi",lh:"\u041a\u043e\u043c\u0438",1:"kv",2:"kom","2T":"kom","2B":"kom",3:"kom"},{l:"Kongo",lh:"Kongo",1:"kg",2:"kon","2T":"kon","2B":"kon",3:"kon"},{l:"Korean",lh:"\ud55c\uad6d\uc5b4",1:"ko",2:"kor","2T":"kor","2B":"kor",3:"kor"},{l:"Kurdish",lh:"Kurd\xee",1:"ku",2:"kur","2T":"kur","2B":"kur",3:"kur"},{l:"Kwanyama",lh:"Kuanyama",1:"kj",2:"kua","2T":"kua","2B":"kua",3:"kua"},{l:"Latin",lh:"Latina",1:"la",2:"lat","2T":"lat","2B":"lat",3:"lat"},{l:"Luxembourgish",lh:"L\xebtzebuergesch",1:"lb",2:"ltz","2T":"ltz","2B":"ltz",3:"ltz"},{l:"Ganda",lh:"Luganda",1:"lg",2:"lug","2T":"lug","2B":"lug",3:"lug"},{l:"Limburgish",lh:"Limburgs",1:"li",2:"lim","2T":"lim","2B":"lim",3:"lim"},{l:"Lingala",lh:"Ling\xe1la",1:"ln",2:"lin","2T":"lin","2B":"lin",3:"lin"},{l:"Lao",lh:"\u0e9e\u0eb2\u0eaa\u0eb2\u0ea5\u0eb2\u0ea7",1:"lo",2:"lao","2T":"lao","2B":"lao",3:"lao"},{l:"Lithuanian",lh:"Lietuvi\u0173",1:"lt",2:"lit","2T":"lit","2B":"lit",3:"lit"},{l:"Luba-Katanga",lh:"Tshiluba",1:"lu",2:"lub","2T":"lub","2B":"lub",3:"lub"},{l:"Latvian",lh:"Latvie\u0161u",1:"lv",2:"lav","2T":"lav","2B":"lav",3:"lav"},{l:"Manx",lh:"Gaelg",1:"gv",2:"glv","2T":"glv","2B":"glv",3:"glv"},{l:"Macedonian",lh:"\u041c\u0430\u043a\u0435\u0434\u043e\u043d\u0441\u043a\u0438",1:"mk",2:"mkd","2T":"mkd","2B":"mac",3:"mkd"},{l:"Malagasy",lh:"Malagasy",1:"mg",2:"mlg","2T":"mlg","2B":"mlg",3:"mlg"},{l:"Malay",lh:"Bahasa Melayu",1:"ms",2:"msa","2T":"msa","2B":"may",3:"msa"},{l:"Malayalam",lh:"\u0d2e\u0d32\u0d2f\u0d3e\u0d33\u0d02",1:"ml",2:"mal","2T":"mal","2B":"mal",3:"mal"},{l:"Maltese",lh:"Malti",1:"mt",2:"mlt","2T":"mlt","2B":"mlt",3:"mlt"},{l:"M\u0101ori",lh:"M\u0101ori",1:"mi",2:"mri","2T":"mri","2B":"mao",3:"mri"},{l:"Marathi",lh:"\u092e\u0930\u093e\u0920\u0940",1:"mr",2:"mar","2T":"mar","2B":"mar",3:"mar"},{l:"Marshallese",lh:"Kajin M\u0327aje\u013c",1:"mh",2:"mah","2T":"mah","2B":"mah",3:"mah"},{l:"Mongolian",lh:"\u041c\u043e\u043d\u0433\u043e\u043b",1:"mn",2:"mon","2T":"mon","2B":"mon",3:"mon"},{l:"Nauru",lh:"Dorerin Naoero",1:"na",2:"nau","2T":"nau","2B":"nau",3:"nau"},{l:"Navajo",lh:"Din\xe9 Bizaad",1:"nv",2:"nav","2T":"nav","2B":"nav",3:"nav"},{l:"Northern Ndebele",lh:"isiNdebele",1:"nd",2:"nde","2T":"nde","2B":"nde",3:"nde"},{l:"Nepali",lh:"\u0928\u0947\u092a\u093e\u0932\u0940",1:"ne",2:"nep","2T":"nep","2B":"nep",3:"nep"},{l:"Ndonga",lh:"Owambo",1:"ng",2:"ndo","2T":"ndo","2B":"ndo",3:"ndo"},{l:"Norwegian Bokm\xe5l",lh:"Norsk (Bokm\xe5l)",1:"nb",2:"nob","2T":"nob","2B":"nob",3:"nob"},{l:"Norwegian Nynorsk",lh:"Norsk (Nynorsk)",1:"nn",2:"nno","2T":"nno","2B":"nno",3:"nno"},{l:"Norwegian",lh:"Norsk",1:"no",2:"nor","2T":"nor","2B":"nor",3:"nor"},{l:"Nuosu",lh:"\ua188\ua320\ua4bf Nuosuhxop",1:"ii",2:"iii","2T":"iii","2B":"iii",3:"iii"},{l:"Southern Ndebele",lh:"isiNdebele",1:"nr",2:"nbl","2T":"nbl","2B":"nbl",3:"nbl"},{l:"Occitan",lh:"Occitan",1:"oc",2:"oci","2T":"oci","2B":"oci",3:"oci"},{l:"Ojibwe",lh:"\u140a\u14c2\u1511\u14c8\u142f\u14a7\u140e\u14d0",1:"oj",2:"oji","2T":"oji","2B":"oji",3:"oji"},{l:"Old Church Slavonic",lh:"\u0421\u043b\u043e\u0432\u0463\u0301\u043d\u044c\u0441\u043a\u044a",1:"cu",2:"chu","2T":"chu","2B":"chu",3:"chu"},{l:"Oromo",lh:"Afaan Oromoo",1:"om",2:"orm","2T":"orm","2B":"orm",3:"orm"},{l:"Oriya",lh:"\u0b13\u0b21\u0b3f\u0b3c\u0b06",1:"or",2:"ori","2T":"ori","2B":"ori",3:"ori"},{l:"Ossetian",lh:"\u0418\u0440\u043e\u043d \xe6\u0432\u0437\u0430\u0433",1:"os",2:"oss","2T":"oss","2B":"oss",3:"oss"},{l:"Panjabi",lh:"\u0a2a\u0a70\u0a1c\u0a3e\u0a2c\u0a40",1:"pa",2:"pan","2T":"pan","2B":"pan",3:"pan"},{l:"P\u0101li",lh:"\u092a\u093e\u0934\u093f",1:"pi",2:"pli","2T":"pli","2B":"pli",3:"pli"},{l:"Persian",lh:"\u0641\u0627\u0631\u0633\u06cc",1:"fa",2:"fas","2T":"fas","2B":"per",3:"fas"},{l:"Polish",lh:"Polski",1:"pl",2:"pol","2T":"pol","2B":"pol",3:"pol"},{l:"Pashto",lh:"\u067e\u069a\u062a\u0648",1:"ps",2:"pus","2T":"pus","2B":"pus",3:"pus"},{l:"Portuguese",lh:"Portugu\xeas",1:"pt",2:"por","2T":"por","2B":"por",3:"por"},{l:"Quechua",lh:"Runa Simi",1:"qu",2:"que","2T":"que","2B":"que",3:"que"},{l:"Romansh",lh:"Rumantsch",1:"rm",2:"roh","2T":"roh","2B":"roh",3:"roh"},{l:"Kirundi",lh:"Kirundi",1:"rn",2:"run","2T":"run","2B":"run",3:"run"},{l:"Romanian",lh:"Rom\xe2n\u0103",1:"ro",2:"ron","2T":"ron","2B":"rum",3:"ron"},{l:"Russian",lh:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",1:"ru",2:"rus","2T":"rus","2B":"rus",3:"rus"},{l:"Sanskrit",lh:"\u0938\u0902\u0938\u094d\u0915\u0943\u0924\u092e\u094d",1:"sa",2:"san","2T":"san","2B":"san",3:"san"},{l:"Sardinian",lh:"Sardu",1:"sc",2:"srd","2T":"srd","2B":"srd",3:"srd"},{l:"Sindhi",lh:"\u0633\u0646\u068c\u064a\u200e",1:"sd",2:"snd","2T":"snd","2B":"snd",3:"snd"},{l:"Northern Sami",lh:"S\xe1megiella",1:"se",2:"sme","2T":"sme","2B":"sme",3:"sme"},{l:"Samoan",lh:"Gagana S\u0101moa",1:"sm",2:"smo","2T":"smo","2B":"smo",3:"smo"},{l:"Sango",lh:"S\xe4ng\xf6",1:"sg",2:"sag","2T":"sag","2B":"sag",3:"sag"},{l:"Serbian",lh:"\u0421\u0440\u043f\u0441\u043a\u0438",1:"sr",2:"srp","2T":"srp","2B":"srp",3:"srp"},{l:"Gaelic",lh:"G\xe0idhlig",1:"gd",2:"gla","2T":"gla","2B":"gla",3:"gla"},{l:"Shona",lh:"ChiShona",1:"sn",2:"sna","2T":"sna","2B":"sna",3:"sna"},{l:"Sinhala",lh:"\u0dc3\u0dd2\u0d82\u0dc4\u0dbd",1:"si",2:"sin","2T":"sin","2B":"sin",3:"sin"},{l:"Slovak",lh:"Sloven\u010dina",1:"sk",2:"slk","2T":"slk","2B":"slo",3:"slk"},{l:"Slovene",lh:"Sloven\u0161\u010dina",1:"sl",2:"slv","2T":"slv","2B":"slv",3:"slv"},{l:"Somali",lh:"Soomaaliga",1:"so",2:"som","2T":"som","2B":"som",3:"som"},{l:"Southern Sotho",lh:"Sesotho",1:"st",2:"sot","2T":"sot","2B":"sot",3:"sot"},{l:"Spanish",lh:"Espa\xf1ol",1:"es",2:"spa","2T":"spa","2B":"spa",3:"spa"},{l:"Sundanese",lh:"Basa Sunda",1:"su",2:"sun","2T":"sun","2B":"sun",3:"sun"},{l:"Swahili",lh:"Kiswahili",1:"sw",2:"swa","2T":"swa","2B":"swa",3:"swa"},{l:"Swati",lh:"SiSwati",1:"ss",2:"ssw","2T":"ssw","2B":"ssw",3:"ssw"},{l:"Swedish",lh:"Svenska",1:"sv",2:"swe","2T":"swe","2B":"swe",3:"swe"},{l:"Tamil",lh:"\u0ba4\u0bae\u0bbf\u0bb4\u0bcd",1:"ta",2:"tam","2T":"tam","2B":"tam",3:"tam"},{l:"Telugu",lh:"\u0c24\u0c46\u0c32\u0c41\u0c17\u0c41",1:"te",2:"tel","2T":"tel","2B":"tel",3:"tel"},{l:"Tajik",lh:"\u0422\u043e\u04b7\u0438\u043a\u04e3",1:"tg",2:"tgk","2T":"tgk","2B":"tgk",3:"tgk"},{l:"Thai",lh:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",1:"th",2:"tha","2T":"tha","2B":"tha",3:"tha"},{l:"Tigrinya",lh:"\u1275\u130d\u122d\u129b",1:"ti",2:"tir","2T":"tir","2B":"tir",3:"tir"},{l:"Tibetan Standard",lh:"\u0f56\u0f7c\u0f51\u0f0b\u0f61\u0f72\u0f42",1:"bo",2:"bod","2T":"bod","2B":"tib",3:"bod"},{l:"Turkmen",lh:"T\xfcrkmen\xe7e",1:"tk",2:"tuk","2T":"tuk","2B":"tuk",3:"tuk"},{l:"Tagalog",lh:"Tagalog",1:"tl",2:"tgl","2T":"tgl","2B":"tgl",3:"tgl"},{l:"Tswana",lh:"Setswana",1:"tn",2:"tsn","2T":"tsn","2B":"tsn",3:"tsn"},{l:"Tonga",lh:"faka Tonga",1:"to",2:"ton","2T":"ton","2B":"ton",3:"ton"},{l:"Turkish",lh:"T\xfcrk\xe7e",1:"tr",2:"tur","2T":"tur","2B":"tur",3:"tur"},{l:"Tsonga",lh:"Xitsonga",1:"ts",2:"tso","2T":"tso","2B":"tso",3:"tso"},{l:"Tatar",lh:"\u0422\u0430\u0442\u0430\u0440\u0447\u0430",1:"tt",2:"tat","2T":"tat","2B":"tat",3:"tat"},{l:"Twi",lh:"Twi",1:"tw",2:"twi","2T":"twi","2B":"twi",3:"twi"},{l:"Tahitian",lh:"Reo M\u0101\u2019ohi",1:"ty",2:"tah","2T":"tah","2B":"tah",3:"tah"},{l:"Uyghur",lh:"\u0626\u06c7\u064a\u063a\u06c7\u0631\u0686\u0647",1:"ug",2:"uig","2T":"uig","2B":"uig",3:"uig"},{l:"Ukrainian",lh:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",1:"uk",2:"ukr","2T":"ukr","2B":"ukr",3:"ukr"},{l:"Urdu",lh:"\u0627\u0631\u062f\u0648",1:"ur",2:"urd","2T":"urd","2B":"urd",3:"urd"},{l:"Uzbek",lh:"O\u2018zbek",1:"uz",2:"uzb","2T":"uzb","2B":"uzb",3:"uzb"},{l:"Venda",lh:"Tshiven\u1e13a",1:"ve",2:"ven","2T":"ven","2B":"ven",3:"ven"},{l:"Vietnamese",lh:"Ti\u1ebfng Vi\u1ec7t",1:"vi",2:"vie","2T":"vie","2B":"vie",3:"vie"},{l:"Volap\xfck",lh:"Volap\xfck",1:"vo",2:"vol","2T":"vol","2B":"vol",3:"vol"},{l:"Walloon",lh:"Walon",1:"wa",2:"wln","2T":"wln","2B":"wln",3:"wln"},{l:"Welsh",lh:"Cymraeg",1:"cy",2:"cym","2T":"cym","2B":"wel",3:"cym"},{l:"Wolof",lh:"Wolof",1:"wo",2:"wol","2T":"wol","2B":"wol",3:"wol"},{l:"Western Frisian",lh:"Frysk",1:"fy",2:"fry","2T":"fry","2B":"fry",3:"fry"},{l:"Xhosa",lh:"isiXhosa",1:"xh",2:"xho","2T":"xho","2B":"xho",3:"xho"},{l:"Yiddish",lh:"\u05d9\u05d9\u05b4\u05d3\u05d9\u05e9",1:"yi",2:"yid","2T":"yid","2B":"yid",3:"yid"},{l:"Yoruba",lh:"Yor\xf9b\xe1",1:"yo",2:"yor","2T":"yor","2B":"yor",3:"yor"},{l:"Zhuang",lh:"Cuengh",1:"za",2:"zha","2T":"zha","2B":"zha",3:"zha"},{l:"Zulu",lh:"isiZulu",1:"zu",2:"zul","2T":"zul","2B":"zul",3:"zul"}];yt(),C(),Ct();function fQ(t){var n,i=null!=(n=function(t){var n=t.eJ,i=new _j;return i.vJ(n,0,n.byteLength),xj(i).VJ}(t))?n:24;return t.Jdt/i}function vQ(t){return t.Av===vp.kA}var lQ;function dQ(t,n,i,r,e){for(var u,s=function(t,n,i,r){var e=i.Jdt,u=Oi.fromNumber(t.uT||0),s=r.nS(up.fN(u,e));return{$dt:r.JS(),tft:r,ift:s,eft:r}}(t,0,i,r),o=up._N(t.ct||0,i.Jdt),a=t.Vy||0,c=!(65536&a)&&1!==(a>>24&3),h=Ic(e),f=new Oc;f.Ku<h.byteLength;){var v=ic(h,f);if((31&Ja(h,f,1))===kj.RJ){var l,d=new _j;d.vJ(e,f.Ku-1,f.Ku+v-1);var g=new Cj(d),w=Ij(s.ift,g);(l=u=u||[]).push.apply(l,jt(oQ(w)))}f.KA(v-1)}return $u({},s,{ct:o.JS(),sft:o,nft:s.ift.JS(),rft:s.$dt,oft:c,hft:u,aft:!1,uft:!1})}function gQ(t){return{AM:t.zy.AM,Jdt:t.wM.zy.cM}}function wQ(t){return t.Av===vp.Kp}!function(t){t[t.SAMPLE_DEPENDS_ON_UNKNOWN=0]="SAMPLE_DEPENDS_ON_UNKNOWN",t[t.SAMPLE_DEPENDS_ON_OTHERS=1]="SAMPLE_DEPENDS_ON_OTHERS",t[t.SAMPLE_DEPENDS_ON_NO_OTHER=2]="SAMPLE_DEPENDS_ON_NO_OTHER",t[t.SAMPLE_DEPENDS_ON_RESERVED=3]="SAMPLE_DEPENDS_ON_RESERVED"}(lQ||(lQ={})),yt(),C(),Mt(),yt(),C(),Mt(),yt(),C(),Ct(),yt(),C(),yt(),C(),yt(),C(),Mt(),yt(),C(),yt(),C();var yQ=function(){function t(t,n){this.L8=t,this.A8=n}return t.prototype.QS=function(t){return this.L8===t.L8&&this.A8===t.A8},t}();yt(),C(),pt();var mQ=function(){function t(t,n){this.kZ=t,this.lft=n,this.cft=""}var n=t.prototype;return n.dft=function(t){this.cft+=t},n.fft=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.dft(i)}},At(t,[{key:"W8",get:function(){return this.cft}},{key:"Q8",get:function(){return[this]}},{key:"G8",get:function(){return this.kZ}},{key:"S8",get:function(){return this.lft}},{key:"D8",get:function(){return new yQ(this.S8.L8,this.S8.A8+this.W8.length-1)}}]),t}();function AQ(t,n){return t===n||t.W8===n.W8&&t.S8.QS(n.S8)&&Mm(t.G8,n.G8)}function pQ(t,n){return t===n||t.S8.QS(n.S8)&&t.D8.QS(n.D8)&&Ao(t.Q8,n.Q8,AQ)}var _Q=function(t){function n(n,i,r){return t.call(this,n,i,r,!1)}return bt(n,t),n.prototype.FS=function(t){return Ao(this.O,t.O,pQ)},n}(BA);yt(),C(),pt();var kQ=function(){function t(){}var n=t.prototype;return n._ft=function(t){return t.lI(this)},n.gft=function(t){var n=this;return ko(t,(function(t,i){return t.lI(n,i)}))},n.wft=function(t,n){return new bQ(t,n).vft()},t}(),bQ=function(){function t(t,n){this.L8=t,this.Tft=n,this.yft=[],this.bft=null}var n=t.prototype;return n.vft=function(){if(this.mft)return[];for(var t=0;t<this.L8.length;t++)this.pft(t);return this.Aft(),this.yft},n.Mft=function(t){this.bft=new mQ(Rz,new yQ(this.Tft,t))},n.Aft=function(){this.bft&&(this.yft.push(this.bft),this.bft=null)},n.pft=function(t){var n=this.L8[t];MQ(n)?this.bft&&this.Aft():(this.bft||this.Mft(t),this.bft.dft(n))},At(t,[{key:"mft",get:function(){return this.L8.every(MQ)}}]),t}();function MQ(t){return null==t}var TQ=function(){function t(){}return t.Sft=function(t,n,i){if(!(n>=i)){var r=ko(t,(function(t,n){return new bQ(t.map((function(t){return t?t.Nft():null})),n).vft()}));if(0!==r.length)return new _Q(n,i,r)}},t}(),NQ="black",DQ="white";yt(),C(),yt(),C();var IQ=[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce((function(t,n){return t[n[0]]=n[1],t}),{}),EQ=function(){function t(){this.Dft=[],this.Lft=0;for(var t=0;t<Qz;t++)this.Dft.push(null);this.Oft=!1}var n=t.prototype;return n.Ift=function(t){for(var n=0;n<Qz;n++)t&&(this.Dft[n]=t.Dft[n])},n.QS=function(t){for(var n=0;n<Qz;n++)if(this.Dft[n]!==t.Dft[n])return!1;return!0},n.Eft=function(){for(var t=0;t<Qz;t++)if(null!==this.Dft[t])return!1;return!0},n.kft=function(t){this.Lft!==t&&(this.Lft=t),this.Lft<0?this.Lft=0:this.Lft>Qz&&(this.Lft=31)},n.xft=function(t){var n=this.Lft+t;this.kft(n)},n.Cft=function(){this.xft(-1),this.Dft[this.Lft]=null},n.dft=function(t){t>=144&&this.Cft();var n=function(t){return IQ[t]?String.fromCharCode(IQ[t]):String.fromCharCode(t)}(t);this.addParsedChar(n)},n.addParsedChar=function(t){this.Lft>=Qz||(32===Number(t)?(this.Dft[this.Lft]=this.Oft?"</i>":"<i>",this.Oft=!this.Oft):this.Dft[this.Lft]=t,this.xft(1))},n.jft=function(t){for(var n=t;n<Qz;n++)this.Dft[n]=null},n.kL=function(){this.jft(0),this.Lft=0},n.Rft=function(){this.jft(this.Lft)},n.Pft=function(t,n){for(var i=this.Dft,r=null,e=0;e<Qz;e++){var u=i[e];null===u?r=null:(r||(r={Gh:e,Xh:t,ji:0,Ti:1,Dft:[[]]},n.push(r)),r.Dft[0].push(u),r.ji++)}},n.lI=function(t,n){return t.wft(this.Dft,n)},t}();var SQ,LQ=function(){function t(t,n){this.Qft=new Array(jQ+1);for(var i=0;i<=jQ;i++)this.Qft[i]=new EQ;this.Gft=1,this.Xft=0,this.Bft=t,this.Uft=n,this.i_t=!1,this.s_t=!1,this.r_t=DQ,this.h_t=NQ,this.tr()}var n=t.prototype;return n.zft=function(t,n){var i="CC"+(this.Bft<<1|this.Uft+1);if(t>=n)return null;var r=(new kQ).gft(this.Qft.slice(1));return 0===r.length?null:{yS:new _Q(t,n,r),VW:i,Fft:this.Bft<<1|this.Uft+1}},n.tr=function(){this.Yft(),this.Gft=1},n.Vft=function(){return this.Gft},n.Wft=function(t){this.Gft=t},n.kft=function(t){this.Qft[this.Gft].kft(t)},n.xft=function(t){this.Qft[this.Gft].xft(t)},n.Hft=function(){return this.Xft},n.Zft=function(t){this.Xft=t},n.dft=function(t,n){if(!(n<32||n>127)){var i="";switch(t){case 0:i=void 0!==xQ[n]?xQ[n]:String.fromCharCode(n);break;case 1:i=OQ[n];break;case 2:this.qft(),i=zQ[n];break;case 3:this.qft(),i=RQ[n]}i&&this.Qft[this.Gft].addParsedChar(i)}},n.qft=function(){this.Qft[this.Gft].Cft()},n.Kft=function(t,n,i){if(t>=n)for(var r=i-1;r>=0;r--)this.Qft[t+r]=this.Qft[n+r];else for(var e=0;e<i;e++)this.Qft[t+e]=this.Qft[n+e]},n.Jft=function(t,n){for(var i=0;i<=n;i++)this.Qft[t+i]=new EQ},n.Yft=function(){this.Jft(0,jQ)},n.$ft=function(){this.Gft=this.Xft>0?this.Xft:0,this.Yft()},n.t_t=function(t){this.i_t=t},n.e_t=function(t){this.s_t=t},n.n_t=function(t){this.r_t=t},n.o_t=function(t){this.h_t=t},t}(),jQ=15;!function(t){t[t.a_t=0]="a_t",t[t.u_t=1]="u_t",t[t.c_t=2]="c_t",t[t.l_t=3]="l_t"}(SQ||(SQ={}));var CQ,xQ={39:"\u2019",42:"\xe1",92:"\xe9",94:"\xed",95:"\xf3",96:"\xfa",123:"\xe7",124:"\xf7",125:"\xd1",126:"\xf1",127:"\u2588"},OQ={48:"\xae",49:"\xb0",50:"\xbd",51:"\xbf",52:"\u2122",53:"\xa2",54:"\xa3",55:"\u266a",56:"\xe0",57:"\u2800",58:"\xe8",59:"\xe2",60:"\xea",61:"\xee",62:"\xf4",63:"\xfb"},zQ={32:"\xc1",33:"\xc9",34:"\xd3",35:"\xda",36:"\xdc",37:"\xfc",38:"\u2018",39:"\xa1",40:"*",41:"'",42:"\u2500",43:"\xa9",44:"\u2120",45:"\xb7",46:"\u201c",47:"\u201d",48:"\xc0",49:"\xc2",50:"\xc7",51:"\xc8",52:"\xca",53:"\xcb",54:"\xeb",55:"\xce",56:"\xcf",57:"\xef",58:"\xd4",59:"\xd9",60:"\xf9",61:"\xdb",62:"\xab",63:"\xbb"},RQ={32:"\xc3",33:"\xe3",34:"\xcd",35:"\xcc",36:"\xec",37:"\xd2",38:"\xf2",39:"\xd5",40:"\xf5",41:"{",42:"}",43:"\\",44:"^",45:"_",46:"|",47:"~",48:"\xc4",49:"\xe4",50:"\xd6",51:"\xf6",52:"\xdf",53:"\xa5",54:"\xa4",55:"\u2502",56:"\xc5",57:"\xe5",58:"\xd8",59:"\xf8",60:"\u250c",61:"\u2510",62:"\u2514",63:"\u2518"},BQ=function(){function t(t,n){this.z2=0,this.m_t=new LQ(t,n),this.g_t=new LQ(t,n),this.v_t=new LQ(t,n),this.__t=this.g_t,this.f_t=0,this.w_t=void 0,this.d_t=!1}var n=t.prototype;return n.tr=function(){this.d_t=!0,this.f_t=0,this.z2=0,this.__t=this.g_t,this.w_t=void 0,this.g_t.tr(),this.v_t.tr(),this.m_t.tr()},n.p_t=function(t,n){return[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&t)<<1|n>>5&1]},n.A_t=function(t,n){var i=this.p_t(t,n),r=(30&n)>>1,e=DQ,u=!1;r<7?e=QQ[r]:7===r&&(u=!0);var s=1==(1&n);if(4!==this.z2){var o=this.__t;if(3===this.z2&&i!==o.Vft()){var a=1+o.Vft()-o.Hft(),c=1+i-o.Hft();o.Kft(c,a,o.Hft()),o.Jft(0,c-1),o.Jft(i+1,jQ-i)}o.Wft(i);var h=Pz[t<<1&14|n>>5&1]-1;if(!(h<0)){var f=function(t,n){var i=n>95?n-96:n-64;return{p8:Bz[i].p8,m8:Bz[i].m8,A8:Bz[i].A8,L8:t}}(h,n);o.kft(f.A8),this.__t.t_t(s),this.__t.e_t(u),this.__t.n_t(e),this.__t.o_t(NQ)}}},n.y_t=function(t,n){this.__t.t_t(!1),this.__t.e_t(!1),this.__t.n_t(DQ);var i=this.M_t(t,SQ.a_t," ".charCodeAt(0)),r=DQ,e=!1,u=1==(1&n);return"white_italics"===(r=QQ[(14&n)>>1])&&(r="white",e=!0),this.__t.t_t(u),this.__t.e_t(e),this.__t.n_t(r),i},n.M_t=function(t,n,i){if(this.__t.dft(n,i),2===this.z2||3===this.z2){var r=this.b_t(this.__t,this.f_t,t);return this.f_t=t,r}return null},n.b_t=function(t,n,i){return this.d_t?null:2===this.z2||3===this.z2?t.zft(i,i+10):t.zft(n,i)},n.T_t=function(t,n){var i=NQ;0==(7&t)&&(i=UQ[(14&n)>>1]),this.__t.o_t(i)},n.S_t=function(t){var n=PQ,i=t.N_t,r=t.I_t,e=null;switch(i){case n.RCL:this.D_t();break;case n.BS:this.E_t();break;case n.AOD:case n.AON:case n.DER:break;case n.RU2:e=this.k_t(2,r);break;case n.RU3:e=this.k_t(3,r);break;case n.RU4:e=this.k_t(4,r);break;case n.FON:e=this.L_t(r);break;case n.RDC:this.x_t(r);break;case n.TR:this.C_t();break;case n.RTD:this.O_t();break;case n.EDM:e=this.j_t(r);break;case n.CR:e=this.R_t(r);break;case n.ENM:this.P_t();break;case n.EOC:e=this.z_t(r)}return e},n.R_t=function(t){var n=this.__t;if(3!==this.z2)return null;var i=this.b_t(n,this.f_t,t),r=n.Vft()-n.Hft()+1;return n.Kft(r-1,r,n.Hft()),n.Jft(0,r-1),n.Jft(n.Vft(),jQ-n.Vft()),this.f_t=t,i},n.k_t=function(t,n){this.__t=this.g_t;var i=this.__t,r=null;return 3!==this.z2&&4!==this.z2&&(r=this.b_t(i,this.f_t,n),this.g_t.$ft(),this.v_t.$ft(),this.d_t=!1,i.Wft(jQ)),this.z2=3,i.Zft(t),r},n.L_t=function(t){return this.M_t(t,SQ.a_t," ".charCodeAt(0))},n.j_t=function(t){var n=this.g_t,i=null;return 4!==this.z2&&(i=this.b_t(n,this.f_t,t)),n.Yft(),this.d_t=!1,i},n.x_t=function(t){this.z2=2,this.__t=this.g_t,this.__t.Zft(0),this.f_t=t},n.P_t=function(){this.v_t.Yft()},n.z_t=function(t){var n=null;4!==this.z2&&(n=this.b_t(this.g_t,this.f_t,t));var i=this.v_t;return this.v_t=this.g_t,this.g_t=i,this.D_t(),this.f_t=t,n},n.D_t=function(){this.z2=1,this.__t=this.v_t,this.__t.Zft(0)},n.E_t=function(){this.__t.qft()},n.C_t=function(){this.m_t.tr(),this.d_t=!1,this.O_t()},n.O_t=function(){this.__t=this.m_t,this.z2=4},n.B_t=function(t,n,i){return this.__t.dft(SQ.a_t,n),this.M_t(t,SQ.a_t,i)},n.U_t=function(t,n,i){var r=1&n?SQ.l_t:SQ.c_t;return this.M_t(t,r,i)},n.Q_t=function(t){var n=t.F_t,i=t.N_t,r=t.I_t;if(this.w_t===(n<<8|i))return this.w_t=void 0,null;if(this.w_t=n<<8|i,this.Y_t(n,i))this.A_t(n,i);else{if(this.G_t(n,i))return this.y_t(r,i);if(this.V_t(n,i))this.T_t(n,i);else{if(this.W_t(n,i))return this.M_t(r,SQ.u_t,i);if(this.H_t(n,i))return this.U_t(r,n,i);if(this.X_t(n,i))return this.S_t(t);this.isTabOffset(n)&&this.__t.xft(i-32)}}return null},n.isTabOffset=function(t){return 23===t||31===t},n.X_t=function(t,n){return 20==(246&t)&&32==(240&n)},n.Y_t=function(t,n){return 16==(240&t)&&64==(192&n)},n.G_t=function(t,n){return 17==(247&t)&&32==(240&n)},n.V_t=function(t,n){return 16==(247&t)&&32==(240&n)||23==(247&t)&&45==(255&n)},n.W_t=function(t,n){return 17==(247&t)&&48==(240&n)},n.H_t=function(t,n){return 18==(246&t)&&32==(224&n)},t.Z_t=function(t){return 16==(112&t)},t}(),PQ={RCL:32,BS:33,AOD:34,AON:35,DER:36,RU2:37,RU3:38,RU4:39,FON:40,RDC:41,TR:42,RTD:43,EDM:44,CR:45,ENM:46,EOC:47};!function(t){t[t.yB=0]="yB",t[t.q_t=1]="q_t",t[t.K_t=2]="K_t",t[t.J_t=3]="J_t",t[t.Ru=4]="Ru"}(CQ||(CQ={}));var UQ=["black","green","blue","cyan","red","yellow","magenta","black"],QQ=["white","green","blue","cyan","red","yellow","magenta","white_italics"];yt(),C(),Ut(),yt(),C(),yt(),C();var YQ,FQ=function(){function t(t,n,i,r,e){this.$_t=t,this.i_t=n,this.s_t=i,this.h_t=r,this.r_t=e}var n=t.prototype;return n.Nft=function(){return this.$_t},n.tgt=function(){return this.i_t},n.igt=function(){return this.s_t},n.egt=function(){return this.h_t},n.sgt=function(){return this.r_t},t}(),GQ=function(){function t(t){this.xgt=t,this.EB=!1,this.agt=!1,this.ogt=0,this.rgt=0,this.hgt=0,this.ugt=0,this.cgt=0,this.kgt=2,this.dgt=[],this.xS=0,this.Gft=0,this.wgt=0,this.s_t=!1,this.i_t=!1,this.r_t=DQ,this.h_t=NQ,this.lgt()}var n=t.prototype;return n.ngt=function(t,n,i,r,e,u,s){this.EB=t,this.rgt=n,this.ogt=i,this.hgt=r,this.agt=e,this.ugt=u,this.cgt=s},n.lgt=function(){this.dgt=[];for(var t=0;t<WQ;t++)this.dgt.push(this.fgt())},n.fgt=function(){for(var t=[],n=0;n<VQ;n++)t.push(null);return t},n._gt=function(t){this.ggt()&&(this.dgt[this.Gft][this.wgt]=new FQ(t,this.i_t,this.s_t,this.h_t,this.r_t),this.wgt++)},n.vgt=function(){this.ggt()&&(this.wgt<=0&&this.Gft<=0||(this.wgt<=0?(this.wgt=this.cgt-1,this.Gft--):this.wgt--,this.dgt[this.Gft][this.wgt]=null))},n.ggt=function(){var t=this.Gft<this.ugt&&this.Gft>=0,n=this.wgt<this.cgt&&this.wgt>=0;return t&&n},n.mgt=function(){return this.EB},n.pgt=function(t){for(var n=0,i=t;i<WQ;i++,n++)this.dgt[n]=this.dgt[i];for(var r=0;r<t;r++,n++)this.dgt[n]=this.fgt()},n.Agt=function(){if(this.Gft+1>=this.ugt)return this.pgt(1),void(this.wgt=0);this.Gft++,this.wgt=0},n.ygt=function(){this.dgt[this.Gft]=this.fgt(),this.wgt=0},n.zft=function(t,n){if(this.xS>=t)return null;var i=TQ.Sft(this.dgt,this.xS,t);return i?(this.Mgt(t),{yS:i,VW:"svc"+n,Fft:n}):null},n.bgt=function(t,n){this.Gft=t,this.wgt=n},n.Tgt=function(t){this.h_t=t},n.Sgt=function(t){this.r_t=t},n.Ngt=function(t){this.i_t=t},n.Igt=function(t){this.s_t=t},n.Dgt=function(){this.Gft=0,this.wgt=0,this.i_t=!1,this.s_t=!1,this.r_t=DQ,this.h_t=NQ},n.Egt=function(t){this.kgt=t},n.Lgt=function(){this.EB=!0},n.be=function(){this.EB=!1},n.wh=function(){this.EB=!this.EB},n.Mgt=function(t){this.xS=t},t}();!function(t){t[t.Cgt=0]="Cgt",t[t.Ogt=1]="Ogt",t[t.jgt=2]="jgt",t[t.Rgt=3]="Rgt"}(YQ||(YQ={}));var VQ=42,WQ=15,XQ=function(){function t(t){this.Xgt=t,this.nwt=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],this.Hgt=void 0}var n=t.prototype;return n.Pgt=function(t){var n=t.zgt(),i=n.lT,r=n.I_t;i===JQ&&(i=i<<16|t.zgt().lT);return i>=0&&i<=31?this.Bgt(i,r):i>=128&&i<=159?this.Ugt(t,i,r):(i>=4096&&i<=4127?this.Qgt(t,255&i):i>=4224&&i<=4255?this.Fgt(t,255&i):i>=32&&i<=127?this.Ygt(i):i>=160&&i<=255?this.Ggt(i):i>=4128&&i<=4223?this.Vgt(255&i):i>=4256&&i<=4351&&this.Wgt(255&i),null)},n.Ygt=function(t){this.Hgt&&(127!==t?this.Hgt._gt(String.fromCharCode(t)):this.Hgt._gt("\u266a"))},n.Ggt=function(t){this.Hgt&&this.Hgt._gt(String.fromCharCode(t))},n.Vgt=function(t){if(this.Hgt)if(void 0!==$Q[t]){var n=$Q[t];this.Hgt._gt(n)}else this.Hgt._gt("_")},n.Wgt=function(t){this.Hgt&&(160===t?this.Hgt._gt("[CC]"):this.Hgt._gt("_"))},n.Bgt=function(t,n){if(!this.Hgt)return null;var i=this.Hgt,r=null;switch(t){case ZQ:i.vgt();break;case KQ:i.mgt()&&(r=i.zft(n,this.Xgt)),i.Agt();break;case qQ:i.mgt()&&(r=i.zft(n,this.Xgt)),i.ygt();break;case HQ:i.mgt()&&(r=i.zft(n,this.Xgt)),i.lgt(),i.bgt(0,0)}return r},n.Ugt=function(t,n,i){if(n>=128&&n<=135){var r=7&n;this.Zgt(r)}else{if(136===n){var e=t.zgt().lT;return this.qgt(e,i)}if(137===n){var u=t.zgt().lT;this.Kgt(u,i)}else{if(138===n){var s=t.zgt().lT;return this.Jgt(s,i)}if(139===n){var o=t.zgt().lT;return this.$gt(o,i)}if(140===n){var a=t.zgt().lT;return this.twt(a,i)}if(143===n)return this.tr(i);if(144===n)this.iwt(t);else if(145===n)this.ewt(t);else if(146===n)this.bgt(t);else if(151===n)this.swt(t);else if(n>=152&&n<=159){var c=(15&n)-8;this.ngt(t,c,i)}}}return null},n.Qgt=function(t,n){n>=8&&n<=15?t.Ny(1):n>=16&&n<=23?t.Ny(2):n>=24&&n<=31&&t.Ny(3)},n.Fgt=function(t,n){n>=128&&n<=135?t.Ny(4):n>=136&&n<=143&&t.Ny(5)},n.Zgt=function(t){this.nwt[t]&&(this.Hgt=this.nwt[t])},n.rwt=function(t){var n;return Rt(this,(function(i){switch(i.label){case 0:n=0,i.label=1;case 1:return n<8?1==(1&t)&&this.nwt[n]?[4,n]:[3,3]:[3,5];case 2:i.sent(),i.label=3;case 3:t>>=1,i.label=4;case 4:return n++,[3,1];case 5:return[2]}}))},n.qgt=function(t,n){for(var i=null,r=0,e=this.rwt(t);r<e.length;r++){var u=e[r],s=this.nwt[u];s.mgt()&&(i=s.zft(n,this.Xgt)),s.lgt()}return i},n.Kgt=function(t,n){for(var i=0,r=this.rwt(t);i<r.length;i++){var e=r[i],u=this.nwt[e];u.mgt()||u.Mgt(n),u.Lgt()}},n.Jgt=function(t,n){for(var i=null,r=0,e=this.rwt(t);r<e.length;r++){var u=e[r],s=this.nwt[u];s.mgt()&&(i=s.zft(n,this.Xgt)),s.be()}return i},n.$gt=function(t,n){for(var i=null,r=0,e=this.rwt(t);r<e.length;r++){var u=e[r],s=this.nwt[u];s.mgt()?i=s.zft(n,this.Xgt):s.Mgt(n),s.wh()}return i},n.twt=function(t,n){for(var i=null,r=0,e=this.rwt(t);r<e.length;r++){var u=e[r],s=this.nwt[u];s.mgt()&&(i=s.zft(n,this.Xgt)),this.nwt[u]=void 0}return i},n.tr=function(t){var n=this.twt(255,t);return this.kL(),n},n.kL=function(){this.Hgt=void 0,this.nwt=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0]},n.iwt=function(t){t.Ny(1);var n=t.zgt().lT;if(this.Hgt){var i=(128&n)>0,r=(64&n)>0;this.Hgt.Igt(i),this.Hgt.Ngt(r)}},n.ewt=function(t){var n=t.zgt().lT,i=t.zgt().lT;if(t.Ny(1),this.Hgt){var r=3&n,e=(12&n)>>2,u=(48&n)>>4,s=3&i,o=(12&i)>>2,a=(48&i)>>4,c=this.owt(u,e,r),h=this.owt(a,o,s);this.Hgt.Sgt(c),this.Hgt.Tgt(h)}},n.bgt=function(t){var n=t.zgt().lT,i=t.zgt().lT;if(this.Hgt){var r=15&n,e=63&i;this.Hgt.bgt(r,e)}},n.swt=function(t){t.Ny(1),t.Ny(1);var n=t.zgt().lT;if(t.Ny(1),this.Hgt){var i=3&n;this.Hgt.Egt(i)}},n.ngt=function(t,n,i){var r=void 0!==this.nwt[n];if(!r){var e=new GQ(n);e.Mgt(i),this.nwt[n]=e}var u=t.zgt().lT,s=t.zgt().lT,o=t.zgt().lT,a=t.zgt().lT,c=t.zgt().lT,h=t.zgt().lT,f=(32&u)>0,v=127&s,l=(128&s)>0,d=o,g=1+(15&a),w=(240&a)>>4,y=1+(63&c);r&&0===(7&h)||this.nwt[n].Dgt(),this.nwt[n].ngt(f,v,d,w,l,g,y),this.Hgt=this.nwt[n]},n.owt=function(t,n,i){var r={0:0,1:0,2:1,3:1};return tY[r[t]<<2|r[n]<<1|r[i]]},t}(),ZQ=8,HQ=12,KQ=13,qQ=14,JQ=16,$Q={32:" ",33:"\xa0",37:"\u2026",42:"\u0160",44:"\u0152",48:"\u2588",49:"\u2018",50:"\u2019",51:"\u201c",52:"\u201d",53:"\u2022",57:"\u2122",58:"\u0161",60:"\u0153",61:"\u2120",63:"\u0178",118:"\u215b",119:"\u215c",120:"\u215d",121:"\u215e",122:"\u2502",123:"\u2510",124:"\u2514",125:"\u2500",126:"\u2518",127:"\u250c"},tY=["black","blue","green","cyan","red","magenta","yellow","white"];yt(),C();var nY=function(){function t(){this.cwt=[],this.uwt=null,this.awt=0}var n=t.prototype;return n.hwt=function(t){if(t.Av===$U.Udt){var n=63&t.lT;return this.awt=2*n-1,void(this.uwt=[])}if(this.uwt&&(this.awt>0&&(this.uwt.push(t),this.awt--),0===this.awt)){var i=new iY(this.uwt);this.cwt.push(i),this.uwt=null,this.awt=0}},n.lwt=function(){return this.cwt},n.dwt=function(){this.cwt=[]},n.kL=function(){this.cwt=[],this.uwt=[],this.awt=0},t}(),iY=function(){function t(t){this._wt=0,this.gwt=t}var n=t.prototype;return n.fwt=function(){return this._wt<this.gwt.length},n.wwt=function(){return this._wt},n.zgt=function(){if(!this.fwt())throw new Kv(Xv.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");return this.gwt[this._wt++]},n.Ny=function(t){if(this._wt+t>this.gwt.length)throw new Kv(Xv.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");this._wt+=t},t}(),rY=function(){function t(){this.Iwt=!1,this.mwt=[],this.pwt=[],this.Awt=new nY,this.vwt=0,this.Twt=rs({CC1:new BQ(0,0),CC2:new BQ(0,1),CC3:new BQ(1,0),CC4:new BQ(1,1)}),this.Mwt=0,this.bwt=0,this.ywt=is(),this.tr()}var n=t.prototype;return n.kL=function(){this.vwt=0,this.mwt=[],this.pwt=[],this.Awt.kL(),this.tr(),this.ywt.forEach((function(t){t.kL()}))},n.tr=function(){this.Mwt=0,this.bwt=0,this.Twt.forEach((function(t){t.tr()}))},n.Swt=function(t,n){if(t.Vdt){var i=t.Hdt,r=t.Xdt,e=t.Av;e===$U.Odt||e===$U.jdt?this.mwt.push({I_t:n,Av:e,F_t:i,N_t:r,Nwt:this.mwt.length}):this.Iwt&&(this.pwt.push({I_t:n,Av:e,lT:i,Nwt:this.pwt.length}),this.pwt.push({I_t:n,Av:$U.zdt,lT:r,Nwt:this.pwt.length}))}},n.uY=function(){var t=[];this.mwt.sort((function(t,n){return t.I_t-n.I_t||t.Nwt-n.Nwt})),this.pwt.sort((function(t,n){return t.I_t-n.I_t||t.Nwt-n.Nwt}));for(var n=0,i=this.mwt;n<i.length;n++){var r=i[n],e=this.Dwt(r);e&&t.push(e)}for(var u=0,s=this.pwt;u<s.length;u++){var o=s[u];this.Awt.hwt(o)}for(var a=this.Awt.lwt(),c=0;c<a.length;c++){var h,f=a[c],v=this.Ewt(f);(h=t).push.apply(h,jt(v))}return this.Awt.dwt(),this.mwt=[],this.pwt=[],t},n.Dwt=function(t){var n=t.Av;if(BQ.Z_t(t.F_t)){var i=t.F_t>>3&1;0===n?this.Mwt=i:this.bwt=i}var r="CC"+(n<<1|(n?this.bwt:this.Mwt)+1),e=this.Twt.get(r);return 255===t.F_t&&255===t.N_t||!t.F_t&&!t.N_t||!this.kwt(t.F_t)||!this.kwt(t.N_t)?(++this.vwt>=45&&this.tr(),null):(this.vwt=0,t.F_t&=127,t.N_t&=127,t.F_t||t.N_t?BQ.Z_t(t.F_t)?e.Q_t(t):e.B_t(t.I_t,t.F_t,t.N_t):null)},n.Ewt=function(t){var n=[];try{for(;t.fwt();){var i=t.zgt().lT,r=(224&i)>>5,e=31&i;if(7===r&&0!==e)r=63&t.zgt().lT;if(0!==r){if(!this.ywt.has(r)){var u=new XQ(r);this.ywt.set(r,u)}for(var s=this.ywt.get(r),o=t.wwt();t.wwt()-o<e;){var a=s.Pgt(t);a&&n.push(a)}}}}catch(t){if(!(t instanceof Kv&&t.code===Xv.SUBTITLE_PARSE_ERROR))throw t}return n},n.kwt=function(t){for(var n=0;t;)n^=1&t,t>>=1;return 1===n},t}();yt(),C(),Mt();var eY=function(t){function n(n,i){var r;return(r=t.call(this,"Lwt")||this).Fft=n,r.yS=i,r}return bt(n,t),n}(ra),uY=up.$N(.1),sY=function(t){function n(){var n;return(n=t.call(this)||this).Cwt=new rY,n}bt(n,t);var i=n.prototype;return i.xwt=function(t,n){this.Cwt.Swt(t,n)},i.uY=function(){for(var t=this.Cwt.uY(),n=0;n<t.length;n++){var i=t[n];this.Co(new eY(i.Fft,i.yS))}},i.tr=function(){this.Cwt.kL()},i.gn=function(){this.Vo(),this.Cwt.kL()},n}($o),oY=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).zwt=[],n}bt(n,t);var i=n.prototype;return i.Owt=function(t,n,i,r){var e=this.Rwt(t,r);this.Pwt(e,n,i),this.uY()},i.Rwt=function(t,n){var i,r=t.slice().sort(Uz),e=this.zwt;if(0===e.length)return r;if(0===r.length)return e;var u=e[0].y8,s=e[e.length-1].y8,o=r[0].y8,a=e[0].Lht===r[0].Lht;if(s.uN(o).oN().rN(up.$N(2.5*n))&&a)i=e.concat(r).sort(Uz);else if(o.iN(u)){for(var c=0;c<e.length&&e[c].y8.rN(o);)c++;for(var h=!1,f=!1,v=c,l=0;v<e.length&&l<r.length;v++,l++)aY(e[v],r[l])?h=!0:f=!0;var d=h&&!f,g=h&&f;!h&&f?i=e.concat(r).sort(Uz):d?i=e.slice(0,c).concat(r):(i=r,g&&this.tr())}else i=r,this.tr();return i},i.Pwt=function(t,n,i){for(var r=0;r<t.length;r++){var e=t[r],u=e.y8.JS();if(!i&&n-u<uY.JS())return void(this.zwt=t.slice(r));this.xwt(e,u)}this.zwt=[]},n}(sY);function aY(t,n){return t.y8.QS(n.y8)&&t.Av===n.Av&&t.Hdt===n.Hdt&&t.Xdt===n.Xdt}var cY=function(t){function n(n){var i;return(i=t.call(this)||this).Gwt=void 0,i.Wwt=NaN,i.Hwt=NaN,i.Zwt=function(t){for(var n=i.Qwt({M8:t.Fft,b8:""}),r=t.yS,e=0,u=n.L.Rw;e<u.length;e++){var s=u[e];r.MS<s.MS&&r.bS>s.MS?r.bS=s.MS:r.MS>s.MS&&s.bS>r.MS?s.bS=r.MS:r.MS===s.MS&&(r.bS=s.bS)}n.lE(r)},i.oE=n,i.Uwt=is(),i.Xwt=new oY,i.Xwt.yn("Lwt",i.Zwt),i}bt(n,t);var i=n.prototype;return i.Bwt=function(t){return this.Uwt.get(t)},i.Qwt=function(t){var n=this.Uwt.get(t.M8);return n||(n=this.Fwt(t),this.Uwt.set(t.M8,n)),n},i.Fwt=function(t){var n,i=[zm.Jw],r=cQ(t.b8),e=r?r.l:"";t.Ywt&&(e="easy "+e,i.push(zm.hv)),n=t.kh?"CC "+t.kh:e?"CC "+e:"CC"+t.M8;var u=this.oE.rE(Q_.sD,n,n,t.b8,!1,mA.CEA608,void 0,i);return this.tt(u),u},i.Grt=function(t){var n=f_.Wy(Ic(t));this.Gwt=function(t){for(var n=0,i=t.Z;n<i.length;n++){var r=i[n],e=gQ(r),u=r.wM.IM.kM.xM.OM,s=co(u,(function(t){return t.Av===vp.cA}));if(!s){var o=u.filter((function(t){return t.Av===vp.EA})),a=co(o,(function(t){var n;return(null==(n=t.Lb)?void 0:n.Av)===vp.cA}));a&&(s=a.Lb)}if(s){var c=mj(Ic(s.mb.ly),new Oc),h=s.Ab;return $u({},e,{AM:r.zy.AM,mb:xc(s.mb.ly),ji:s.ji,Ti:s.Ti,Fb:h&&h.Fb,Qb:h&&h.Qb,A$:c.JK,Vwt:c.$K,y$:c.tJ,eJ:c.eJ[0],sJ:c.sJ[0]})}}}(co(n,wQ))},i.elt=function(t,n,i,r,e,u){var s;if(this.Gwt&&(A(this.Wwt)||!Ui(this.Wwt,n,1e-5))){A(this.Hwt)||Ui(this.Hwt,n,.1)||this.Xwt.tr();for(var o,a=function(t,n,i,r,e){for(var u=function(n){var r=o[n],u=co(r.Z,(function(t){return t.zy.AM===i.AM}));if(!u)return"continue";for(var c,h=u.zy.Vb||0,f=u.zy.Wb||0,v=u.eT?u.eT.eT:Oi.ZERO,l=r.qb+(null!=(c=u.zy.sT)?c:Oi.ZERO).toNumber(),d=0,g=u.iT;d<g.length;d++)for(var w=g[d],y=l+(w.qb||0),m=0,A=w.aT;m<A.length;m++){var p=A[m],_=p.By||f,k=new _j;k.vJ(t,y,y+_);var b=up.fN(v,i.Jdt);k.kI=e(p,r,i,b,jc(t,y,y+_)),s.push(k),y+=_,v=v.add(p.ct||h||a)}},s=[],o=n.filter(vQ),a=r(i),c=0;c<o.length;c++)u(c);return s}(t,f_.Wy(Ic(t)),this.Gwt,fQ,dQ),c=null!=(o=null==(s=No(a,(function(t){return t.kI.ct})))?void 0:s.kI.ct)?o:0,h=function(t){for(var n=[],i=0;i<t.length;i++){var r,e=t[i];e.kI.hft&&(r=n).push.apply(r,jt(e.kI.hft)),delete e.kI.hft}for(var u=0;u<n.length;u+=1)n[u].Kb=u;return n}(a),f=up.$N(r),v=[],l=0;l<h.length;l++){var d=h[l];v.push($u({},d,{Lht:e,y8:d.Ydt.nS(f)}))}this.Xwt.Owt(v,i,u,c),this.Wwt=n,this.Hwt=i}},i.tr=function(){var n=this;return this.Xwt.tr(),this.Uwt.forEach((function(t){t.gn(),n.it(t),n.oE.fE(t)})),this.Uwt.clear(),this.Gwt=void 0,this.Wwt=NaN,this.Hwt=NaN,t.prototype.tr.call(this)},i.gn=function(){return this.Xwt.fn("Lwt",this.Zwt),this.Xwt.gn(),t.prototype.gn.call(this)},n}(sk);yt(),C(),yt(),C(),Vt();var hY=/(.*)=(.*)/,fY=/(.*):(.*)/;function vY(t){if(!t)return[];for(var n=[],i=t.trim().split(";"),r=0;r<i.length;r++){var e=i[r].match(hY);if(e){for(var u=Gt(e,3),s=u[1],o="",a=!1,c=0,h=u[2].trim().split(",");c<h.length;c++){var f=h[c];if(f.match(fY)){var v=Gt(f.match(fY),3),l=v[1],d=v[2];switch(l){case"lang":o=d;break;case"er":a=Boolean(Number(d))}}}n.push({M8:Number(s),b8:o,Ywt:a})}}return n}var lY={1:1,2:3,3:2,4:4},dY="urn:scte:dash:cc:cea-608:2015",gY="urn:scte:dash:cc:cea-708:2015";yt(),C(),Mt(),yt(),C(),Mt();var wY=function(t){function n(n,i,r){var e;return(e=t.call(this,gm.xw)||this).Lht=n,e.xut=i,e.qwt=r,e}return bt(n,t),n.prototype.fa=function(){return new yY(this.Lht&&this.Lht.va)},n}(am),yY=function(t){function n(n){var i;return(i=t.call(this,"activequalitychanged")||this).quality=n,i}return bt(n,t),n}(ra),mY=[Al.jh,gk.Nw,Al.fm],AY=function(t){function n(n,i){var r;return(r=t.call(this)||this).Jwt=function(t){var n=r.$wt,i=r.Kwt(t.currentTime)||r.mdt.Uht;i&&n!==i&&(r.$wt=i,i.Lht&&r.Co(new wY(i.Lht,null==i?void 0:i.va,null==n?void 0:n.va)))},r.Fm=n,r.Fm.yn(mY,r.Jwt),r.mdt=i,r}bt(n,t);var i=n.prototype;return i.Kwt=function(t){for(var n=this.mdt.Ght,i=0,r=n.Lt.Bot;i<r.length;i++){var e=r[i];if(n.tct.qut(t,e))return e}},i.gn=function(){this.Vo(),this.Fm.fn(mY,this.Jwt)},n}($o);function pY(t,n,i){var r=new i_(Ic(t),new Oc),e=s_.Ry(r,vp.Kp);if(e){var u=s_.Ey(e.ly),s=co(u,(function(t){return t.Av===vp.$p})),o=co(u,(function(t){return t.Av===vp.zA}));if(s){var a=s_.Ry(s.ly,vp.iA);if(a){var c=s_.Ry(a.ly,vp.nA);if(c){var h=s_.Ry(c.ly,vp.rA);if(h){var f=s_.Ey(h.ly),v=co(f,(function(t){return t.Av===vp.oA}));if(v){var l=s_.Yy(v.ly,vp.oA,!1),d=new i_(Ic(l.ly),new Oc);d.Ny(4);for(var g=s_.Ey(d),w=[],y=0;y<g.length;y++){var m=g[y];if(m.Av===vp.DA||m.Av===vp.EA)return;m.Av===vp.cA?w.push({tvt:m,ivt:vp.EA}):m.Av===vp.yA&&w.push({tvt:m,ivt:vp.DA})}if(function(t,n){return void 0===t&&void 0!==n&&n.length>0}(o,n)||0!==w.length){var A=Cc(t),_=co(u,(function(t){return t.Av===vp.aA})),k=_?s_.Ry(_.ly,vp.uA):void 0,b=k?function(t){var n=t.ly.$A();return n.Ny(4),n.Ny(4),n.vy()}(k):1,M=co(f,(function(t){return t.Av===vp.hA}));M&&function(t,n,i){var r=bY(Ic(t),n),e=s_.jy(r,new Oc),u=e.ly;u.Ny(4);for(var s=u.vy(),o=0;o<s;o++){u.Ny(4),u.Ny(4);var a=u._y.$A(),c=u.vy();rc(u.ly,a,c+i)}}(A,M,w.length),k&&function(t,n,i){var r=bY(Ic(t),n),e=s_.jy(r,new Oc),u=e.ly;u.Ny(4),u.Ny(4),rc(u.ly,u._y,i)}(A,k,1),A=function(t,n,i,r){if(i||!r)return t;for(var e=t,u=0;u<r.length;u++){var s=r[u];e=_Y(e,n,new p(s))}return e}(A,e,o,n);for(var T=[e,s,a,c,h,v],N=w.length-1;N>=0;N--){var D=w[N];A=kY(A,D.tvt,v,T,D.ivt,i)}return{evt:A,svt:{nvt:w.length,Gb:b}}}}}}}}}}function _Y(t,n,i){var r=Ea(t,i,n.ly.ly.byteOffset+n.ly.ly.byteLength);return MY(bY(Ic(r),n),i.byteLength),r}function kY(t,n,i,r,e,u){var s=function(t,n,i){0;var r=t.ly.ly,e=EY(),u=new p(r.byteLength+e.byteLength),s=Ic(u);u.set(Ec(r),0),MY(s,e.byteLength),fc(s,new Oc(jY),n),u.set(e,r.byteLength),fc(s,new Oc(r.byteLength+SY),t.Av),i&&Ka(s,new Oc(r.byteLength+LY),i);return u}(n,e,u),o=Ea(t,s,n.ly.ly.byteOffset),a=Ic(o);!function(t,n){var i=s_.jy(t,new Oc),r=s_.Yy(i.ly,vp.oA,!1),e=Ic(r.ly),u=e.getUint32(0);e.setUint32(0,u+n)}(bY(a,i),1);for(var c=0;c<r.length;c++){MY(bY(a,r[c]),s.byteLength)}return o}function bY(t,n){var i=n.ly.ly.byteOffset;return Dc(t,i,i+n.ly.ly.byteLength)}function MY(t,n){var i=new Oc,r=ic(t,i);if(0===r);else if(1===r){i.KA(4);var e=ec(t,i.$A());uc(t,i,e.add(n))}else i.JA(0),rc(t,i,r+n)}yt(),C(),Mt();var TY=function(t){function n(n){var i;return(i=t.call(this)||this).avt=[],i.ovt=n,i}bt(n,t);var i=n.prototype;return i.start=function(t){this.wZ=t},i.transform=function(t){this.Yq(t),this.rvt()},i.flush=function(){this.Vq(),this.rvt()},i.$q=function(t){return t===vp.kA},i.iK=function(t){var n=Cc(Ec(t.ly.ly)),i=s_.jy(Ic(n),new Oc);n=NY(n,i,this.ovt),this.avt.push(n)},i.sK=function(t){this.avt.push(t)},i.rvt=function(){for(var t=0,n=function(t){if(t.length<2)return t;for(var n=[],i=t[0],r=i.buffer,e=i.byteOffset,u=i.byteLength,s=1;s<t.length;s++){var o,a=t[s];r===a.buffer&&e+u===a.byteOffset?u+=a.byteLength:(n.push(new p(r,e,u)),r=(o=a).buffer,e=o.byteOffset,u=o.byteLength)}return n.push(new p(r,e,u)),n}(this.avt);t<n.length;t++){var i=n[t];this.wZ.enqueue(i)}po(this.avt)},n}(ZL);function NY(t,n,i){for(var r=t,e=s_.Ey(n.ly),u=e.length-1;u>=0;u--){var s=e[u];s.Av===vp.xA&&(r=DY(r,s,n,i))}return r}function DY(t,n,i,r){var e=bY(Ic(t),n),u=s_.jy(e,new Oc),s=s_.Ey(u.ly),o=co(s,(function(t){return t.Av===vp.CA}));if(!o)return t;var a=o.ly,c=a._y.$A(),h=a.vy(),f=h_(h).flags;a.Ny(4),f.ey(gp.BASE_DATA_OFFSET_PRESENT)&&a.Ny(8);var v=a._y.$A();if(f.ey(gp.SAMPLE_DESCRIPTION_INDEX_PRESENT)){var l=ic(a.ly,v);return rc(a.ly,a._y,l+r.nvt),t}rc(a.ly,c,h|gp.SAMPLE_DESCRIPTION_INDEX_PRESENT);var d=new p(4);Ic(d).setUint32(0,r.Gb+r.nvt);for(var g=a.ly.byteOffset+v.Ku,w=0,y=s.filter((function(t){return t.Av===vp.OA}));w<y.length;w++){IY(y[w],d.byteLength)}for(var m=0,A=[o,n,i];m<A.length;m++){var _=A[m];MY(bY(Ic(t),_),d.byteLength)}return Ea(t,d,g)}function IY(t,n){var i=t.ly,r=h_(i.vy()).flags;if(i.Ny(4),r.ey(wp.DATA_OFFSET_PRESENT)){var e=i.$A().vy();rc(i.ly,i._y,e+n)}}var EY=ti((function(){return new p([0,0,0,80,115,105,110,102,0,0,0,12,102,114,109,97,0,0,0,0,0,0,0,20,115,99,104,109,0,0,0,0,99,101,110,99,0,1,0,0,0,0,0,40,115,99,104,105,0,0,0,32,116,101,110,99,0,0,0,0,0,0,1,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])})),SY=16,LY=64,jY=4,CY=[p_.ha,Al.nm,Al.hm,Al.lm,Al.Tv],xY=function(t){function n(n,i,r,e,u,s,o,a,c,h,f,v){var l;return(l=t.call(this)||this).Iot=void 0,l.mdt=void 0,l.Rvt=!1,l.dE=new zo,l.Cvt=void 0,l.dvt=void 0,l.xrt=void 0,l.qct=new jU,l.Mvt=void 0,l.yvt=void 0,l.uvt=new bT([]),l.vvt=function(){!l.eat()&&l.Gut()&&l._vt.vvt()},l.tdt=function(t){l.Iot.tdt(t),l.Co(new nQ(t.xut,t.qwt))},l.zvt=function(t){l.Yvt(t)},l.uS=function(){var t=qU;return qU+=1,t}(),l.j0=n,l.aE=e,l.wU=u,l._vt=i,l.Fm=r,l.rut=s,l.oE=o,l.Avt=a,l.Zct=c,l.Yct=c?RN(n,c):void 0,l.Mlt=h,l.jvt=f,l.Glt=v,l}bt(n,t);var i=n.prototype;return i.gvt=function(){var t;return null==(t=this.Iot)?void 0:t.Out.bct.jn},i.eat=function(){return void 0!==this.mdt&&this.mdt.eat},i.Gut=function(){if(void 0===this.dvt)return!1;var t=this.lvt().PB(),n=t.WB(this.dvt);return!(n<0)&&t.Cn(n)!==this.dvt},i.x0=function(){var t=this._vt.Vut,n=this.lvt().Sn(t);this.dvt=n.U>0?n.jn(n.U-1):0;var i=t.jn(0);isFinite(i)&&this.dvt<i&&this.mq(this.dvt,i),this.vvt()},i.elt=function(t,n,i,r){var e=this;return Ot((function(){var u,s,o;return Rt(this,(function(a){switch(a.label){case 0:return u=i.Wrt.pI,s=e.mvt(t,n,i,u,r),[4,Zo([e.pvt(t,n,i,u,r),s])];case 1:return o=Gt.apply(void 0,[a.sent(),1]),[2,o[0]]}}))}))()},i.mvt=function(t,n,i,r,e){var u=this;return Ot((function(){var s,o,a,c;return Rt(this,(function(h){switch(h.label){case 0:return Nv(i.aG)?t.Av!==CL.DD?[3,2]:[4,t.ly.eut().GR(e)]:[2];case 1:return o=h.sent(),s=new p(o),[3,3];case 2:s=new p(t.ly.bot),h.label=3;case 3:return a=[],void 0!==u.Avt&&(u.Avt.elt(s,n.MS,r),a.push(u.Avt)),void 0!==u.yvt&&(c=i.Mct(n),u.yvt.elt(s,n.MS,n.bS,r,i.Lht,c),a.push(u.yvt)),uk(u.O_,a),[2]}}))}))()},i.pvt=function(t,n,i,r,e){var u=this;return Ot((function(){var s,o,a,c,h,f,v,l;return Rt(this,(function(d){switch(d.label){case 0:return Po(e),t.Av===CL.DD?(a=t.ly.VW,u.Mvt&&(a=function(t,n){return t.pipeThrough(new gw(new TY(n)))}(a,u.Mvt)),o={Av:CL.DD,ly:a}):(c=new p(t.ly.bot),u.Mvt&&(c=function(t,n){for(var i=Cc(t),r=new i_(Ic(i),new Oc),e=s_.Ey(r),u=e.length-1;u>=0;u--){var s=e[u];s.Av===vp.kA&&(i=NY(i,s,n))}return i}(c,u.Mvt)),o={Av:CL.jZ,ly:c}),h={F7:n.MS,ct:n.ct,pI:r,y$:null==(s=i.Lht)?void 0:s.Xw},f=u.xrt.O_,[4,u.bvt()];case 1:return d.sent(),[4,u.xrt.V$(o,h,e)];case 2:return d.sent(),v=u.xrt.O_,l=u.xrt.R0,[2,OY(f,v,l,n)]}}))}))()},i.Grt=function(t,n,i){var r=this;return Ot((function(){var e,u,s,o,a,c,h;return Rt(this,(function(f){switch(f.label){case 0:return Po(i),r.yvt&&r.yvt.Grt(new p(t.bot)),u=new p(t.bot),r.Tvt(n)&&(s=r._vt.Svt,o=[],s&&(o=ko(s.Nvt,(function(t){return t.KP})),a=s.Ivt._R?ZE(s.Ivt._R):void 0),(c=pY(u,o,a))?(r.Mvt=c.svt,u=c.evt):r.Mvt=void 0),h={Av:CL.jZ,ly:u},[4,r.bvt()];case 1:return f.sent(),[4,r.xrt.X$(h,{y$:null==(e=n.Lht)?void 0:e.Xw},i)];case 2:return f.sent(),[2]}}))}))()},i.nlt=function(t,n,i){return this.xrt.rS(t,n,i)},i.mq=function(t,n){this.xrt.B0(t,n)},i.pq=function(t,n){this.xrt.U0(t,n)},i.lvt=function(){return this.xrt?this.xrt.O_:HD.oU()},i.cvt=function(){return this.xrt?this.xrt.R0:HD.oU()},i.Dvt=function(){return this.xrt?this.xrt.rS(0,1/0):q.resolve()},i.Evt=function(){return this.xrt&&(this.xrt.fn(EL.CZ,this.Ds),this.xrt=void 0),q.resolve()},i.kvt=function(t){var n=this;return Ot((function(){var i,r,e;return Rt(this,(function(u){switch(u.label){case 0:return r=hU.Jct(null!=(i=t.rdt)?i:t.Bot,n.Yct),e=r.aG,n.xrt||(n.xrt=n._vt.Lvt(e),n.xrt.yn(EL.CZ,n.Ds),n.qct=new LU(n.xrt)),[4,n.bvt()];case 1:return u.sent(),[2]}}))}))()},i.$n=function(t,n){var i=new zo;n&&i.w_(n),this.dE.g_(),this.dE=i;var r=this.xvt(t,this.Cvt,i.f_);return this.Cvt=r,r},i.Ovt=function(t){if(!mo(this.jvt,mA.CEA608)){var n=t.Out.Wlt;if(function(t){return t.some((function(t){return t.irt===dY||t.irt===gY}))}(n)){this.yvt=new cY(this.oE);for(var i=function(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];if(r.irt===dY)for(var e=Fz(r.lT),u=0;u<e.length;u++){var s=e[u];n.push(s)}else if(r.irt===gY)for(var o=vY(r.lT),a=0;a<o.length;a++){var c=o[a];if(c.M8<=4){var h=lY[c.M8];n.push($u({},c,{M8:h}))}}}return n}(n),r=0;r<i.length;r++){var e=i[r];this.yvt.Qwt(e)}this.uvt.tz(this.yvt.Z)}}},i.xvt=function(t,n,i){var r=this;return Ot((function(){return Rt(this,(function(e){switch(e.label){case 0:return Po(i),n?[4,n.catch(Kn)]:[3,2];case 1:e.sent(),e.label=2;case 2:return r.Iot===t&&r.Rvt?[2]:[4,r.Pvt()];case 3:return e.sent(),Po(i),[4,r.Dvt()];case 4:return e.sent(),Po(i),t?[4,r.hE(t)]:[3,6];case 5:e.sent(),e.label=6;case 6:return[2]}}))}))()},i.Pvt=function(){var t=this;return Ot((function(){var n;return Rt(this,(function(i){switch(i.label){case 0:return n=t.Iot,t.Iot=void 0,t.Rvt=!1,t.dvt=void 0,n&&(n.fn(gm.Ow,t.zvt),n.ddt(!1),n.fn(gm.NO_QUALITY,t.Ds)),t.Bvt&&(t.Bvt.gn(),t.Bvt=void 0),t.mdt?[4,t.mdt.gn()]:[3,2];case 1:i.sent(),t.mdt=void 0,i.label=2;case 2:return t.yvt?(t.uvt.sz(t.yvt.Z),[4,t.yvt.gn()]):[3,4];case 3:i.sent(),i.label=4;case 4:return[2]}}))}))()},i.hE=function(t){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return n.Iot=t,n.Ovt(t),t.yn(gm.Ow,n.zvt),t.yn(gm.NO_QUALITY,n.Ds),[4,n.kvt(t)];case 1:return i.sent(),n.mdt=n.Uvt(t),n.mdt.yn(CY,n.Ds),n.mdt.yn("xht",n.vvt),n.mdt.Wht=t.rdt,n.Bvt=new AY(n.Fm,n.mdt),n.Bvt.yn(gm.xw,n.tdt),t.ddt(!0),n.Rvt=!0,[2]}}))}))()},i.Uvt=function(t){return new EU(this,this.Fm,this.Fm,this.aE,this.wU,this.Glt,this.rut,this.Zct,this.Yct,this.qct,this.Mlt).G7(t)},i.tr=function(t){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return n.dE.g_(),n.Cvt?[4,n.Cvt.catch(Kn)]:[3,2];case 1:i.sent(),n.Cvt=void 0,i.label=2;case 2:return[4,n.Pvt()];case 3:return i.sent(),t?[3,5]:[4,n.Dvt()];case 4:i.sent(),i.label=5;case 5:return[4,n.Evt()];case 6:return i.sent(),[2]}}))}))()},i.Qvt=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return[4,t.Pvt()];case 1:return n.sent(),[2]}}))}))()},i.Fvt=function(t){var n=this;return Ot((function(){var i,r,e,u;return Rt(this,(function(s){switch(s.label){case 0:return(r=null==(i=n.mdt)?void 0:i.Ght.tct.Hut(t))&&r.U>0?[4,n.aat()]:[3,7];case 1:s.sent(),e=0,s.label=2;case 2:return e<r.U?[4,null==(u=n.xrt)?void 0:u.rS(r.Cn(e),r.jn(e))]:[3,5];case 3:s.sent(),s.label=4;case 4:return e++,[3,2];case 5:return[4,n.dat()];case 6:s.sent(),s.label=7;case 7:return[2]}}))}))()},i.Yvt=function(t){var n=this,i=t.Lt.rdt;return void 0===i||i.some((function(t){return n.qct.FZ(t)}))?this.Gvt(t):void this.Co(new ra("Vvt"))},i.Gvt=function(t){this.mdt&&this.Iot&&this.Iot===t.Lt&&(this.mdt.Wht=this.Iot.rdt)},i.aat=function(t){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return n.mdt?[4,n.mdt.aat(t)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))()},i.dat=function(t){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return n.mdt?[4,n.mdt.dat(t)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))()},i.wX=function(){var t=this.O_.sU;return this.wU.wX(t)},i.bvt=function(){var t=this._vt.Vut,n=w.max(0,t.Cn(0)-.1),i=t.jn(0)+.01;return this.xrt.u0(n,i)},i.Tvt=function(t){return!!Nv(t.aG)&&(!!this._vt.j3||void 0!==this._vt.Svt)},i.gn=function(t){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:n.Vo(),i.label=1;case 1:return i.trys.push([1,4,,5]),[4,n.tr(t)];case 2:return i.sent(),[4,n.Qvt()];case 3:return i.sent(),[3,5];case 4:return i.sent(),[3,5];case 5:return[2]}}))}))()},At(n,[{key:"Not",get:function(){return this.Iot}},{key:"o",get:function(){return this.uS}},{key:"O0",get:function(){return this.j0}},{key:"nt",get:function(){return this.uvt}},{key:"Adt",get:function(){return function(t){var n=29.97,i=1024,r=44100;return t===Gm.WA?r/i:n}(this.j0)}},{key:"pdt",get:function(){return 1/this.Adt}},{key:"Rt",get:function(){return Boolean(this.Iot&&this.Iot.Rt)}},{key:"wq",get:function(){var t=this.mdt?this.mdt.Ght.wq.Wut:HD.oU();return this.cvt().YB(t)}},{key:"O_",get:function(){var t=this.lvt(),n=this.dvt;return void 0!==n&&t.PB().gr(n)&&(t=t.YB(HD.nU(n))),t}},{key:"Qut",get:function(){return vP(this.lvt(),this.wq.YB(this.fvt)).FB(2*this.pdt)}},{key:"fvt",get:function(){var t=this.dvt;if(t&&isFinite(t)){var n=this._vt.jn;if(isFinite(n)&&t<n)return new HD([t,n],[!1,!0])}return HD.oU()}},{key:"Ig",get:function(){var t=this.Iot;if(!t)return HD.nU(0);var n=t.Out.ydt,i=t.Out.Mdt;if(void 0===i||void 0===n)return HD.nU(0);var r=i,e=n>=t.Out.bct.jn?w.max(n,this.jn):n;return e=w.max(r,e),HD.rU(r,e).PB()}},{key:"_z",get:function(){return this.Qut.Jm(this.U_)}},{key:"Vut",get:function(){return this._vt.Vut}},{key:"U_",get:function(){return this.Fm.U_}},{key:"Cn",get:function(){return this.Iot?this.Iot.Out.bct.Cn:NaN}},{key:"jn",get:function(){var t=this.gvt(),n=this.dvt;return void 0===t?NaN:void 0!==n?n:t}},{key:"Ti",get:function(){return this._vt.Ti}},{key:"ji",get:function(){return this._vt.ji}},{key:"wvt",get:function(){return this.dvt}}]),n}($o);function OY(t,n,i,r){var e,u,s=n.VB(t.PB());return 0===(s=s.VB(i.VB(n))).U?u=e=r.bS:(e=s.Cn(0),u=s.jn(0)),{Llt:e,xlt:u}}var zY=function(t){function n(n,i,r,e,u,s,o,a,c,h,f,v,l){var d;return(d=t.call(this)||this).YT=new Vm,d.VT=new Vm,d.fmt=[],d.lmt=new zo,d.amt=!0,d.kdt=[],d.Cvt=void 0,d.imt=Jn((function(){d.Co(new UL(d.U_))}),350),d.gmt=function(t){var n=t.ymt.Not;if(n)for(var i=0,r=d.fmt;i<r.length;i++){var e,u=r[i];u.Not&&u.Not!==n&&u.Av===(null==(e=n.idt)?void 0:e.Av)&&(u.fn("_mt",d.gmt),u.Not.Rt=!1,u.yn("_mt",d.gmt))}d.Ds(t)},d.pmt=function(t){Bo(t)||d.Co(new gT(new Kv(Xv.MEDIA_LOAD_ERROR,t.message,t)))},d.umt=function(t){var n=t.d3;n&&d.Amt(n)},d.cmt=function(t){var n=t.d3;if(n)for(var i=0,r=d.mmt;i<r.length;i++)for(var e=r[i],u=0,s=e.Out.Bot;u<s.length;u++){var o=s[u],a=(o.trt||[]).some((function(t){return t._R&&Na(Lc(n),ZE(t._R))}));o.ldt&&a&&(o.ldt=!1,o.Lht&&e.Jlt(o.Lht))}},d.aE=r,d.wU=e,d.rut=u,d.Fm=n,d.cS=oA(),d.fmt=[],d.Zvt=o,d.smt=a,d.oE=h,d.qvt=new WU(n,r,e,u,h),d.Dl=new bT([d.qvt.nt]),d.Mlt=v,d.jvt=l,d.Zvt.yn(fP.Dht,d.Ds),d.vu=c,d._0=i,d.Glt=s.lowLatency,d.Avt=f,d.Jvt=s.abr,d.Fm.yn(Al.gm,d.umt),d.Fm.yn(Al.Iv,d.cmt),d}bt(n,t);var i=n.prototype;return i.oX=function(t,n){return this.Wvt(t,n)},i.Wvt=function(t,n){var i=this;return Ot((function(){var r,e,u,s,o;return Rt(this,(function(a){switch(a.label){case 0:for(r=0;r<t.length;r++)e=t[r],i.Hvt(e);return[4,i.$n(n)];case 1:a.sent(),u=0,s=i.Zvt.Xvt,a.label=2;case 2:return u<s.length?(o=s[u]).Av!==Gm.Ru?[3,5]:o.Bot&&0!==o.Bot.length?[3,3]:(i.Co(new HU("No supported representation found in the AdaptationSet with mimetype : "+o.Av)),[3,5]):[3,6];case 3:return[4,i.qvt.hE(o)];case 4:a.sent(),a.label=5;case 5:return u++,[3,2];case 6:return[2]}}))}))()},i.Kvt=function(t){return new xY(t,this,this.Fm,this.aE,this.wU,this.rut,this.oE,this.Avt,this.Jvt,this.Mlt,this.jvt,this.Glt)},i.eat=function(){return this.kdt.some((function(t){return t.eat()}))},i.Gut=function(){return 0!==this.kdt.length&&this.kdt.every((function(t){return t.Gut()}))},i.vvt=function(){this.$vt()&&this.Co(new KU)},i.Lvt=function(t){if(Bs(t,"audio")){if(this._0.I1)return this._0.I1}else if(Bs(t,"video")&&this._0.D1)return this._0.D1;throw new v("Cannot allocate source buffer for mime type "+t)},i.tmt=function(t){t.yn([p_.ha,Al.Kv,Al.nm,Al.hm,Al.lm,Al.Tv],this.Ds),t.yn(EL.CZ,this.imt),t.yn("Vvt",this.Ds)},i.emt=function(t){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return[4,q.all(n.kdt.map((function(n){return n.gn(t)})))];case 1:return i.sent(),po(n.kdt),[2]}}))}))()},i.$vt=function(){if(this.eat())return!1;if(!this.Gut())return!1;var t=this.O_;if(0===t.U)return!1;var n=this.U_;if(this.nmt)return t.Cn(t.U-1)<=n;var i=t.Sn(this.Vut);if(0===i.U)return!0;var r=i.Cn(i.U-1),e=i.jn(i.U-1)+.1;return r<=n&&n<=e},i.aat=function(t){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return n.amt?[2]:(n.amt=!0,[4,q.all(n.kdt.map((function(n){return n.aat(t)})))]);case 1:return i.sent(),[2]}}))}))()},i.dat=function(t){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return n.amt?(n.amt=!1,[4,q.all(n.kdt.map((function(n){return n.dat(t)})))]):[2];case 1:return i.sent(),[2]}}))}))()},i.gn=function(t){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return n.Fm.fn(Al.gm,n.umt),n.Fm.fn(Al.Iv,n.cmt),n.Vo(),n.Zvt.fn(fP.Dht,n.Ds),n.lmt.g_(),n.Cvt?[4,n.Cvt.catch(Kn)]:[3,2];case 1:i.sent(),n.Cvt=void 0,i.label=2;case 2:return[4,n.emt(t)];case 3:return i.sent(),[4,n.qvt.gn()];case 4:return i.sent(),n.YT.gn(),n.VT.gn(),n.Dl.gn(),n.dmt(),[2]}}))}))()},i.Hvt=function(t){this.fmt.push(t),t.yn("_mt",this.gmt);for(var n=t.Av===Gm.WA?this.YT:this.VT,i=0,r=t.Z;i<r.length;i++){var e=r[i];n.tt(e)}},i.wmt=function(t){for(var n=t.Av===Gm.WA?this.YT:this.VT,i=0,r=t.Z;i<r.length;i++){var e=r[i];n.it(e),e.gn()}t.gn(),go(this.fmt,t)},i.dmt=function(){for(var t=this.fmt.length-1;t>=0;t--)this.wmt(this.fmt[t])},i.$n=function(t,n){return this.lmt.g_(),this.lmt=new zo,n&&this.lmt.w_(n),this.Cvt=Fo(this.nst(t,this.Cvt,this.lmt.f_),this.lmt).catch(this.pmt),this.Cvt},i.nst=function(t,n,i){var r=this;return Ot((function(){var e,u,s,o,a,c,h,f,v;return Rt(this,(function(l){switch(l.label){case 0:return n?[4,n.catch(Kn)]:[3,2];case 1:l.sent(),l.label=2;case 2:Po(i),e=[],u=r.kdt.slice(),s=t.slice(),po(r.kdt),o=0,l.label=3;case 3:return o<u.length?(a=u[o],(c=a.Not)&&mo(s,c)?(r.kdt.push(a),e.push(a.$n(c,i)),go(s,c),[3,6]):[3,4]):[3,7];case 4:return r.Dl.sz(a.nt),[4,a.gn()];case 5:l.sent(),Po(i),l.label=6;case 6:return o++,[3,3];case 7:for(h=0;h<s.length;h++)f=s[h],v=r.Kvt(f.Zht),r.Dl.tz(v.nt),r.kdt.push(v),r.tmt(v),e.push(v.$n(f,i));return[4,q.all(e)];case 8:return l.sent(),[2]}}))}))()},i.GZ=function(t,n,i){var r=this;return Ot((function(){return Rt(this,(function(e){switch(e.label){case 0:return r._0===i?[3,2]:(r._0=i,[4,r.emt(!1)]);case 1:e.sent(),e.label=2;case 2:return[4,r.$n(t)];case 3:return e.sent(),r.smt=n,[2]}}))}))()},i.Amt=function(t){var n=this;return Ot((function(){var i,r,e;return Rt(this,(function(u){switch(u.label){case 0:i=function(i,r){var e,u,s,o;return Rt(this,(function(a){switch(a.label){case 0:e=function(i,r){var e,s,o,a;return Rt(this,(function(c){switch(c.label){case 0:if(e=r[i],s=e.trt||[],!s.some((function(n){return n._R&&Na(Lc(t),ZE(n._R))}))||e.ldt)return[3,5];e.ldt=!0,e.Lht&&u.Zlt(e.Lht),o=0,a=n.kdt,c.label=1;case 1:return o<a.length?[4,a[o].Fvt(e)]:[3,4];case 2:c.sent(),c.label=3;case 3:return o++,[3,1];case 4:n.Co(new nO(new Xm(Xv.CONTENT_PROTECTION_OUTPUT_RESTRICTED,"Content unavailable due to DRM restrictions"))),c.label=5;case 5:return[2]}}))},u=r[i],s=0,o=u.Out.Bot,a.label=1;case 1:return s<o.length?[5,Bt(e(s,o))]:[3,4];case 2:a.sent(),a.label=3;case 3:return s++,[3,1];case 4:return[2]}}))},r=0,e=n.mmt,u.label=1;case 1:return r<e.length?[5,Bt(i(r,e))]:[3,4];case 2:u.sent(),u.label=3;case 3:return r++,[3,1];case 4:return[2]}}))}))()},At(n,[{key:"Xw",get:function(){return this.cS}},{key:"ct",get:function(){return this.Fm.ct}},{key:"Rt",get:function(){return this.kdt.some((function(t){return t.Rt}))}},{key:"ht",get:function(){return this.YT}},{key:"O_",get:function(){if(0===this.kdt.length)return HD.oU();for(var t=this.kdt.map((function(t){return t.O_})),n=HD.rU(0,1/0),i=0;i<t.length;i++){var r=t[i];n=n.Sn(r)}if(0===n.U)return n;if(this.Gut()){var e=n.Sn(this.Vut);if(0===e.U)return n;for(var u=e.jn(e.U-1),s=0,o=0,a=this.kdt;o<a.length;o++){var c=a[o];s=w.max(s,c.wvt)}u<=s&&(n=n.YB(new HD([u,s],[!0,!0])))}return n}},{key:"j3",get:function(){return this.Fm.j3}},{key:"U_",get:function(){return this.Fm.U_}},{key:"Svt",get:function(){return this.smt}},{key:"jn",get:function(){if(this.nmt){var t=this.ct;if(!A(t)&&t!==Ri)return t}if(!this.kdt.length)return NaN;for(var n=0,i=0,r=this.kdt;i<r.length;i++){var e=r[i];n=w.max(n,e.jn)}return n}},{key:"nmt",get:function(){var t=this.Zvt.jlt;if(t.Av===XU.Sj)return!1;var n=t.omt;return 0!==n.length&&this.Zvt===n[n.length-1]}},{key:"Ig",get:function(){if(!this.kdt.length)return HD.oU();for(var t=new HD([0,1/0]),n=0,i=this.kdt;n<i.length;n++){var r=i[n];t=t.Sn(r.Ig)}if(t.U>0&&this.nmt&&isFinite(this.ct)){var e=this.ct,u=t.jn(t.U-1);e>u&&(t=t.YB(HD.rU(u,e).PB()))}return t}},{key:"yc",get:function(){return this.Zvt}},{key:"nt",get:function(){return this.Dl}},{key:"rt",get:function(){return this.VT}},{key:"ji",get:function(){return this.vu.ji}},{key:"Ti",get:function(){return this.vu.Ti}},{key:"_z",get:function(){var t=this.U_,n=this.O_,i=n.WB(t);if(-1!==i)return{Cn:n.Cn(i),jn:n.jn(i)}}},{key:"Vut",get:function(){var t=this.Zvt.Cn,n=this.nmt?1/0:this.Zvt.jn;return HD.rU(t,n)}},{key:"hmt",get:function(){return this.amt}},{key:"vmt",get:function(){return this.fmt.map((function(t){return t.Not})).filter(Rn)}},{key:"mmt",get:function(){return this.kdt.map((function(t){return t.Not})).filter(Rn)}}]),n}($o);yt(),C(),zt(),pt(),Ut(),yt(),C(),Vt(),yt(),C(),pt();var RY,BY=/^P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)D)?(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d*\.?\d*)S)?)?$/,PY=function(){function t(t){this.Mmt=t}var n=t.prototype;return n.bmt=function(){return this.Mmt},n.Tmt=function(){return 1e3*this.Mmt},t.Wy=function(n){var i=n.match(BY);if(!i)throw new v("The given value could not be parsed as a valid DateTimeInterval");return new t(31536e3*(Number(i[1])||0)+2592e3*(Number(i[2])||0)+86400*(Number(i[3])||0)+3600*(Number(i[4])||0)+60*(Number(i[5])||0)+(Number(i[6])||0))},At(t,[{key:"$dt",get:function(){return up.$N(this.Mmt,1e3)}}]),t}();yt(),C(),function(t){t.Smt="progressive",t.Nmt="interlaced",t.jT="unknown"}(RY||(RY={})),yt(),C();var UY=function(){function t(t,n){this.Imt=t,this.Dmt=n}return t.prototype.JS=function(){return this.Imt/this.Dmt},t}(),QY=/^(?:true|false)$/i,YY=/^(-?)(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(?:Z|([+-])(\d{2}):(\d{2}))?$/;function FY(t){if(void 0!==t)return PY.Wy(t)}function GY(t){if(void 0!==t){var n=t.match(YY);if(!n)throw new v("The given value could not be parsed as a valid Date");var i=Gt(n,12),r=i[1],e=i[2],u=i[3],s=i[4],o=i[5],a=i[6],c=i[7],h=i[8],f=i[9],l=i[10],d=i[11],g=("-"===r?-1:1)*Number(e),y=Number(u)-1,m=Number(s),p=Number(o),_=Number(a),k=Number(c),b=Number("0."+(h||"")),M=w.round(1e3*b);if(f)_-=("-"===f?-1:1)*(60*Number(l)+Number(d));var T=new Date(Date.UTC(g,y,m,p,_,k,M));if(A(T.getTime()))throw new v("The given value could not be parsed as a valid Date");return T}}function VY(t){if(t){var n=/(\d+)-(\d+)/.exec(t);if(n)return[XY(n[1]),XY(n[2])]}}function WY(t){if(void 0!==t){if(!A(Number(t)))try{return Oi.fromString(t,!0)}catch(t){}throw new v("The given value could not be parsed as a valid unsigned long")}}function XY(t){if(void 0!==t){var n=Number(t);if(!A(n))return n;throw new v("The given value could not be parsed as a valid Number")}}function ZY(t){if(void 0!==t){var n=t.split("/"),i=Number(n[0]),r=Number(n[1]||1);if(!A(i)&&!A(r))return new UY(i,r);throw new v("The given value could not be parsed as a valid frame rate")}}function HY(t){if(void 0!==t){if(QY.test(t))return"true"===t.toLowerCase();if(!A(y(t)))return Boolean(y(t));throw new v("The given value could not be parsed as a valid Boolean.")}}function KY(t){return{zu:t.PR,Emt:HY(t.$I("availabilityTimeComplete")),kmt:XY(t.$I("availabilityTimeOffset"))}}function qY(t){return t.map(KY)}function JY(t){var n,i=aF(t),r=function(t,n,i,r){var e=t.tD(i,n);return void 0===e&&(e=t.$I(r+":"+n)),e}(t,"default_KID","urn:mpeg:cenc:2013","cenc"),e=w_(t,"pssh","urn:mpeg:cenc:2013","cenc")[0];if(void 0!==e&&(n=Sa(e.PR)),!n){var u=w_(t,"pro","urn:microsoft:playready","mspr")[0];void 0!==u&&(n=function(t){var n=ma(t.PR),i=new p([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),r=n.length,e=12+i.length+4+r,u=new ArrayBuffer(e),s=new p(u),o=new DataView(u),a=new Oc;rc(o,a,e),rc(o,a,1886614376),rc(o,a,0),Ka(o,a,i),rc(o,a,r),Ka(o,a,n),!1;return s.buffer}(u))}return{_R:r,Lmt:n,irt:i.irt,lT:i.lT}}function $Y(t){return{xmt:t.$I("sourceURL"),Sat:VY(t.$I("range"))}}function tF(t,n){var i=t.$I("d"),r=t.$I("t"),e=XY(t.$I("r"));n.push({ct:i,MS:r,Cmt:e})}function nF(t){return{aut:t.$I("index"),Omt:VY(t.$I("indexRange")),wM:t.$I("media"),jmt:VY(t.$I("mediaRange"))}}function iF(t){var n=eF(t),i=function(t){var n=t.map(nF);return n.length>0?n:void 0}(t.XI("SegmentURL"));return $u({},n,{Rmt:i,Pmt:t.$I("xlink:href"),zmt:t.$I("xlink:actuate")})}function rF(t){var n=HY(t.$I("availabilityTimeComplete")),i=XY(t.$I("availabilityTimeOffset")),r=VY(t.$I("indexRange")),e=HY(t.$I("indexRangeExact")),u=t.XI("Initialization");if(u.length>1)throw new v("The provided MPEG-DASH document's "+t.WR+" element can not have more than one Initialization element.");var s=1===u.length?$Y(u[0]):void 0,o=WY(t.$I("presentationTimeOffset")),a=t.XI("RepresentationIndex");if(a.length>1)throw new v("The provided MPEG-DASH document's "+t.WR+" element can not have more than one RepresentationIndex element.");return{Emt:n,kmt:i,Omt:r,Bmt:e,Umt:s,Qmt:o,Fmt:1===a.length?$Y(a[0]):void 0,Ymt:FY(t.$I("timeShiftBufferDepth")),cM:XY(t.$I("timescale"))}}function eF(t){var n=rF(t),i=t.XI("BitstreamSwitching"),r=i.length>0?$Y(i[0]):void 0,e=XY(t.$I("duration")),u=t.XI("SegmentTimeline");if(u.length>1)throw new v("The provided MPEG-DASH document's "+t.WR+" element can not have more than one SegmentTimeline element.");var s=1===u.length?function(t){for(var n=[],i=t.XI("S"),r=0;r<i.length;r++)tF(i[r],n);return n}(u[0]):void 0;return $u({},n,{Gmt:r,ct:e,Wrt:s,Vmt:XY(t.$I("startNumber")),Wmt:XY(t.$I("endNumber"))})}function uF(t){return{Hmt:function(t){if(t){var n=t.split(/\s/);return n.length>1?(n.length=2,n.map(XY)):1===n.length?n.map(XY)[0]:void 0}}(t.$I("audioSamplingRate")),$nt:t.$I("codecs"),Xmt:HY(t.$I("codingDependency")),trt:function(t){if(0!==t.length)return t.map(JY)}(t.XI("ContentProtection")),Zmt:function(t){return t.map(cF)}(t.XI("EssentialProperty")),qmt:function(t){return t.map(hF)}(t.XI("SupplementalProperty")),Adt:ZY(t.$I("frameRate")),Ti:XY(t.$I("height")),Kmt:XY(t.$I("maxPlayoutRate")),Jmt:XY(t.$I("maximumSAPPeriod")),aG:t.$I("mimeType"),$mt:t.$I("profiles"),tpt:t.$I("sar"),ipt:function(t){switch(t){case RY.Smt:case RY.Nmt:case RY.jT:return t;default:return}}(t.$I("scanType")),ept:t.$I("segmentProfiles"),spt:XY(t.$I("startWithSAP")),ji:XY(t.$I("width"))}}function sF(t){var n=qY(t.XI("BaseURL")),i=t.XI("SegmentBase");if(i.length>1)throw new v("The provided MPEG-DASH document's "+t.qI+" element can not have more than one SegmentBase element.");var r=1===i.length?rF(i[0]):void 0,e=function(t){var n=t.map(iF);return n.length>0?n:void 0}(t.XI("SegmentList")),u=t.XI("SegmentTemplate");if(u.length>1)throw new v("The provided MPEG-DASH document's "+t.qI+" element can not have more than one SegmentTemplate element.");var s=1===u.length?function(t){return $u({},eF(t),{npt:t.$I("bitstreamSwitching"),rpt:t.$I("index"),opt:t.$I("initialization"),hpt:t.$I("media")})}(u[0]):void 0;return{upt:n,cpt:r,lpt:e,dpt:s}}function oF(t){var n=uF(t),i=sF(t),r=XY(t.$I("bandwidth")),e=t.$I("dependencyId"),u=t.$I("id"),s=t.$I("mediaStreamStructureId"),o=XY(t.$I("qualityRanking"));if(t.XI("SegmentBase").length>1)throw new v("The provided MPEG-DASH document's Representation element can not have more than one SegmentBase element.");return $u({},n,i,{GP:r,fpt:e,o:u,_pt:s,gpt:o})}function aF(t){return{irt:t.$I("schemeIdUri"),lT:t.$I("value")}}function cF(t){return aF(t)}function hF(t){return aF(t)}function fF(t){return aF(t)}function vF(t){return aF(t)}function lF(t){var n,i=uF(t),r=sF(t),e=function(t){return t.map(vF)}(t.XI("Accessibility")),u=HY(t.$I("bitstreamSwitching")),s=t.$I("contentType"),o=XY(t.$I("group")),a=XY(t.$I("id")),c=(null==(n=t.XI("Label")[0])?void 0:n.PR)||"",h=t.$I("lang"),f=XY(t.$I("maxBandwidth")),l=ZY(t.$I("maxFrameRate")),d=XY(t.$I("maxHeight")),g=XY(t.$I("maxWidth")),w=XY(t.$I("minBandwidth")),y=ZY(t.$I("minFrameRate")),m=XY(t.$I("minHeight")),A=XY(t.$I("minWidth")),p=t.$I("par"),_=function(t){return t.map(oF)}(t.XI("Representation"));if(0===_.length)throw new v("The provided MPEG-DASH document has an AdaptationSet with no valid Representation's");var k,b=function(t){return t.map(fF)}(t.XI("Role")),M=HY(t.$I("segmentAlignment"))||!1,T=XY(t.$I("selectionPriority")),N=T||1,D=HY(t.$I("subsegmentAlignment"))||!1;try{k=XY(t.$I("subsegmentStartsWithSAP"))}catch(t){}return $u({},i,r,{Wlt:e,Gmt:u,Nz:s,idt:o,o:a,kh:c,gs:h,wpt:f,vpt:l,mpt:d,ppt:g,Apt:w,ypt:y,Mpt:m,bpt:A,Tpt:p,Bot:_,Sdt:b,Spt:M,uB:N,Npt:D,Ipt:k,Dpt:t.$I("xlink:actuate")||"onRequest",Ept:t.$I("xlink:href")})}function dF(t){var n=WY(t.$I("presentationTime"))||Oi.ZERO,i=WY(t.$I("duration")),r=XY(t.$I("id")),e=function(t){for(var n=t.ZI,i={},r=0;r<n.length;r++)i[n[r].l]=n[r].lT;return i}(t),u=t.PR;return{dT:n,ct:i,o:r,ZI:e,ly:""!==u.trim()?u:t.$I("messageData")||""}}function gF(t){return{Ept:t.$I("xlink:href"),Dpt:t.$I("xlink:actuate"),irt:t.$I("schemeIdUri"),lT:t.$I("value"),cM:XY(t.$I("timescale")),Qmt:WY(t.$I("presentationTimeOffset")),uG:t.XI("Event").map(dF)}}function wF(t){var n=sF(t),i=t.XI("AssetIdentifier");if(i.length>1)throw new v("The provided MPEG-DASH document's Period element can not have more than one AssetIdentifier element.");var r=1===i.length?function(t){return aF(t)}(i[0]):void 0,e=function(t){return t.map(lF)}(t.XI("AdaptationSet")),u=HY(t.$I("bitstreamSwitching")),s=FY(t.$I("duration")),o=function(t){return t.map(gF)}(t.XI("EventStream")),a=t.$I("id"),c=FY(t.$I("start")),h=(t.XI("Subset"),t.$I("xlink:href"));return $u({},n,{kot:e,kpt:r,Gmt:u,ct:s,Lpt:o,o:a,Cn:c,Dpt:t.$I("xlink:actuate"),Ept:h})}function yF(t){var n=t.$I("schemeIdUri");if(n)return{irt:n,lT:t.$I("value")}}function mF(t,n){var i=GY(t.$I("availabilityEndTime")),r=GY(t.$I("availabilityStartTime")),e=qY(t.XI("BaseURL")),u=t.$I("id"),s=function(t){return t.map((function(t){return""+t.PR}))}(t.XI("Location")),o=FY(t.$I("maxSegmentDuration")),a=FY(t.$I("maxSubsegmentDuration")),c=FY(t.$I("mediaPresentationDuration")),h=(t.XI("Metrics"),FY(t.$I("minBufferTime")));if(!h)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'minimumBufferTime' attribute.");var f=FY(t.$I("minimumUpdatePeriod")),l=function(t){return t.map((function(t){return wF(t)}))}(t.XI("Period"));if(!l.length)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'Period' element.");var d=t.$I("profiles");if(!d)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'profiles' attribute.");var g=GY(t.$I("publishTime")),w=FY(t.$I("suggestedPresentationDelay")),y=FY(t.$I("timeShiftBufferDepth")),m=function(t){switch(t){case XU.Tj:case XU.Sj:return t;default:return}}(t.$I("type")),A=function(t){for(var n=[],i=0;i<t.length;i++){var r=yF(t[i]);r&&n.push(r)}return n}(t.XI("UTCTiming")),p=function(t){if(0===t.length)return;var n=t[0],i=n.XI("Latency");if(0===i.length)return;var r=function(t){var n=t[0],i=XY(n.$I("target"));if(void 0===i)return;var r=XY(n.$I("min")),e=XY(n.$I("max"));return{xpt:i,XN:r,HN:e}}(i);if(void 0===r)return;var e=function(t){if(0===t.length)return;var n=t[0],i=XY(n.$I("max")),r=XY(n.$I("min"));return{XN:r,HN:i}}(n.XI("PlaybackRate"));return{Cpt:r,gg:e}}(t.XI("ServiceDescription"));return{Opt:i,jpt:r,upt:e,o:u,Rpt:s,Ppt:n,zpt:o,Bpt:a,Upt:c,Qpt:h,Fpt:f,omt:l,$mt:d,Ypt:g,Gpt:w,Ymt:y,Av:m,Vpt:A,Wpt:p}}var AF=function(){function t(){}return t.prototype.Hpt=function(t,n){return function(t,n){if(!t)throw new v("The provided MPEG-DASH document does not contain a valid MPD root element.");return mF(t,n)}(an.KI(t).JI,n)},t}();function pF(t){return{get bandwidth(){return t.GP},get codecs(){return t.$nt},get id(){return t.o},get uid(){return t.Xw},get name(){return t.kh},get averageBandwidth(){return t.Xpt},get label(){return t.kh},set label(n){t.kh=Cm(n)},get available(){return t.snt},get score(){return t.Zpt},addEventListener:function(n,i){t.yn(n,i)},removeEventListener:function(n,i){t.fn(n,i)}}}function _F(t){return km(pF(t),{get height(){return t.Ti},get width(){return t.ji},get frameRate(){return t.Adt},get firstFrame(){return t.qpt}})}function kF(t){return km(pF(t),{get audioSamplingRate(){return t.Hmt}})}yt(),C(),pt(),yt(),C(),zt(),pt(),Mt(),Ct(),Ut(),yt(),C(),zt(),pt(),Mt(),Ut(),yt(),C(),zt(),pt(),Mt(),Ut(),yt(),C(),pt(),Mt(),yt(),C(),pt(),Mt(),yt(),C(),yt(),C(),Mt();var bF=function(t){function n(n){var i;return(i=t.call(this,"update")||this).quality=n,i}return bt(n,t),n}(ra),MF=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).o=n,s.GP=i,s.$nt=r,s.Jpt=u,s.Xw=hA(),s.lS=e||"",s.Kpt=!0,s}bt(n,t);var i=n.prototype;return i.bD=function(){this.Kpt=!1,this.Co(new bF(this.va))},i.MD=function(){this.Kpt=!0,this.Co(new bF(this.va))},At(n,[{key:"kh",get:function(){return this.lS},set:function(t){this.lS!==t&&(this.lS=t,this.Co(new bF(this.va)))}},{key:"Xpt",get:function(){}},{key:"snt",get:function(){return this.Kpt}},{key:"Zpt",get:function(){}}]),n}($o),TF=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return void 0===c&&(c=0),(h=t.call(this,n,i,r,e,u)||this).Adt=s,h.ji=o,h.Ti=a,h.qpt=c,h.Xa=void 0,h}return bt(n,t),At(n,[{key:"va",get:function(){return this.Xa||(this.Xa=_F(this)),this.Xa}}]),n}(MF),NF=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n,i,r,e,u)||this).Hmt=s,o.Xa=void 0,o}return bt(n,t),At(n,[{key:"va",get:function(){return this.Xa||(this.Xa=kF(this)),this.Xa}}]),n}(MF);yt(),C(),yt(),C(),pt(),Mt();var DF=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).eAt=function(t){n.Co(t)},n}return bt(n,t),At(n,[{key:"$pt",get:function(){var t=this.tAt();return null==t?void 0:t.Cn}},{key:"iAt",get:function(){var t=this.tAt();return null==t?void 0:t.jn}}]),n}($o),IF=function(t){function n(n,i){var r;if((r=t.call(this)||this).Xa=void 0,r.rAt=void 0,r.uAt=!1,r.cAt=!1,r.rat=n,r.sAt=i,r.sAt.yn(fP.Nht,r.eAt),r.Av===Gm.VA){var e,u,s=null!=(u=null==(e=r.Adt)?void 0:e.JS())?u:NaN;r.hAt=new TF(r.o,r.GP,r.Vet,"","",s,r.ji,r.Ti)}else r.Av===Gm.WA?r.hAt=new NF(r.o,r.GP,r.Vet,"","",r.Hmt):r.hAt=void 0;return r}bt(n,t);var i=n.prototype;return i.zct=function(t){var n=LP(t)?this.sAt.lAt(t):this.sAt.zct(t);return{zu:n.zu,Sat:n.Sat,tE:this.jlt.tE}},i.dAt=function(){return this.sAt.dAt()},i.tAt=function(){return this.sAt.tAt()},i.fAt=function(){return this.sAt.fAt()},i.Ect=function(t){return this.sAt.Ect(t)},i.Lct=function(t,n,i){return this.sAt.Lct(t,this.jlt.tE,n,i)},i.Tlt=function(t){return LP(t)?this.Wrt._At(t,this.sAt):this.Wrt.Tlt(t)},i.Mct=function(t){return LP(t)?this.Wrt.gAt(t,this.sAt):this.Wrt.Mct(t)},i.gn=function(){this.sAt.fn(fP.Nht,this.eAt)},At(n,[{key:"Out",get:function(){return this.rat}},{key:"Hmt",get:function(){var t;return null!=(t=this.sAt.ly.Hmt)?t:this.Out.Hmt}},{key:"GP",get:function(){return this.sAt.ly.GP||0}},{key:"$nt",get:function(){var t=this.sAt.ly;return t.$nt?[t.$nt]:this.Out.$nt}},{key:"nAt",get:function(){var t=this.sAt.ly;return t.$nt?[t.$nt]:[]}},{key:"Vet",get:function(){return this.sAt.ly.$nt||this.Out.Vet}},{key:"Xmt",get:function(){return this.sAt.ly.Xmt||this.Out.Xmt}},{key:"trt",get:function(){return this.sAt.ly.trt||this.Out.trt}},{key:"Nz",get:function(){return this.aG+'; codecs="'+this.Vet+'"'}},{key:"Zmt",get:function(){var t=this.sAt.ly;return t.Zmt.length?t.Zmt:this.Out.Zmt}},{key:"va",get:function(){return this.Xa||(this.Xa=function(t){return{get id(){return t.o},get type(){return t.Av},get bandwidth(){return t.GP},get width(){return t.ji},get height(){return t.Ti},get frameRate(){var n,i;return null!=(i=null==(n=t.Adt)?void 0:n.JS())?i:NaN},get audioSamplingRate(){return t.Hmt}}}(this))}},{key:"Adt",get:function(){var t;return null!=(t=this.sAt.ly.Adt)?t:this.Out.Adt}},{key:"Ti",get:function(){return this.sAt.ly.Ti||this.Out.Ti}},{key:"o",get:function(){return this.sAt.ly.o||""}},{key:"Blt",get:function(){return this.rAt},set:function(t){this.rAt=t}},{key:"zlt",get:function(){var t=this.sAt.oAt();if(t)return{zu:t.zu,Sat:t.Sat,tE:this.jlt.tE}}},{key:"Kmt",get:function(){return this.sAt.ly.Kmt||this.Out.Kmt||1}},{key:"Jmt",get:function(){return this.sAt.ly.Jmt||this.Out.Jmt}},{key:"jlt",get:function(){return this.bct.jlt}},{key:"aG",get:function(){return this.sAt.ly.aG||this.Out.aG}},{key:"bct",get:function(){return this.Out.bct}},{key:"$mt",get:function(){return this.sAt.ly.$mt||this.Out.$mt}},{key:"Lht",get:function(){return this.hAt}},{key:"tpt",get:function(){return this.sAt.ly.tpt||this.Out.tpt}},{key:"ipt",get:function(){return this.sAt.ly.ipt||this.Out.ipt}},{key:"aAt",get:function(){return this.sAt.aAt}},{key:"ept",get:function(){return this.sAt.ly.ept||this.Out.ept}},{key:"Wrt",get:function(){return this.sAt.Wrt}},{key:"spt",get:function(){return this.sAt.ly.spt||this.Out.spt}},{key:"Av",get:function(){var t=this.aG.split("/")[0];return"application"===t||"text"===t||$_(this.aG,this.$nt)?Gm.Ru:"video"===t?Gm.VA:"audio"===t?Gm.WA:"image"===t?Gm.OT:Gm.jT}},{key:"ji",get:function(){return this.sAt.ly.ji||this.Out.ji}},{key:"Ict",get:function(){return this.uAt},set:function(t){this.uAt=t}},{key:"ldt",get:function(){return this.cAt},set:function(t){this.cAt=t}}]),n}(DF),EF=function(t){function n(n,i){var r;return(r=t.call(this)||this).odt=[],r.Zvt=n,r.sAt=i,r.sAt.yn(fP.Nht,r.eAt),r}bt(n,t);var i=n.prototype;return i.Yn=function(t,n){var i=this;return Ot((function(){var r;return Rt(this,(function(e){switch(e.label){case 0:return 0!==i.odt.length?[3,2]:(r=i.sAt.Bot.map((function(r){return i.vAt(r,t,n)})),[4,q.all(r)]);case 1:i.odt=e.sent().filter(Rn),e.label=2;case 2:return i.mAt(),[2]}}))}))()},i.vAt=function(t,n,i){var r=this;return Ot((function(){var e,u;return Rt(this,(function(s){switch(s.label){case 0:return e=new IF(r,t),[4,n(e)];case 1:return u=s.sent(),Po(i),u?[2,e]:[2,void 0]}}))}))()},i.mAt=function(){if(!this.odt.length)throw new v("Detected an AdaptationSet without any supported Representations.")},i.tAt=function(){return this.sAt.tAt()},i.fAt=function(){return this.sAt.fAt()},i.gn=function(){this.sAt.fn(fP.Nht,this.eAt);for(var t=0,n=this.odt;t<n.length;t++){n[t].gn()}po(this.odt)},At(n,[{key:"Wlt",get:function(){return this.sAt.ly.Wlt}},{key:"Hmt",get:function(){var t;return null!=(t=this.sAt.ly.Hmt)?t:-1}},{key:"$nt",get:function(){if(this.sAt.ly.$nt)return[this.sAt.ly.$nt];for(var t=[],n=0,i=this.Bot;n<i.length;n++){var r=i[n];r.nAt.length&&-1===t.indexOf(r.Vet)&&t.push(r.Vet)}return t}},{key:"Vet",get:function(){return this.$nt.join()}},{key:"Xmt",get:function(){return this.sAt.ly.Xmt}},{key:"trt",get:function(){return this.sAt.ly.trt}},{key:"Nz",get:function(){return this.aG+'; codecs="'+this.Vet+'"'}},{key:"Zmt",get:function(){return this.sAt.Zmt}},{key:"qmt",get:function(){return this.sAt.qmt}},{key:"Adt",get:function(){return this.sAt.ly.Adt}},{key:"idt",get:function(){return this.sAt.ly.idt}},{key:"Ti",get:function(){return this.sAt.ly.Ti||0}},{key:"o",get:function(){return this.sAt.ly.o}},{key:"kh",get:function(){return this.sAt.ly.kh||""}},{key:"Kmt",get:function(){return this.sAt.ly.Kmt}},{key:"Jmt",get:function(){return this.sAt.ly.Jmt}},{key:"jlt",get:function(){return this.bct.jlt}},{key:"aG",get:function(){return this.sAt.ly.aG||this.odt[0].aG}},{key:"bct",get:function(){return this.Zvt}},{key:"$mt",get:function(){return this.sAt.ly.$mt}},{key:"Bot",get:function(){return this.odt}},{key:"Sdt",get:function(){return this.sAt.ly.Sdt||[]}},{key:"tpt",get:function(){return this.sAt.ly.tpt}},{key:"ipt",get:function(){return this.sAt.ly.ipt}},{key:"ept",get:function(){return this.sAt.ly.ept}},{key:"uB",get:function(){return this.sAt.ly.uB}},{key:"spt",get:function(){return this.sAt.ly.spt}},{key:"Av",get:function(){var t=(this.sAt.ly.Nz||this.aG).split("/")[0];return"application"===t||"text"===t||"subtitle"===t||$_(this.aG,this.$nt)?Gm.Ru:"video"===t?Gm.VA:"audio"===t?Gm.WA:"image"===t?Gm.OT:Gm.jT}},{key:"ji",get:function(){return this.sAt.ly.ji||0}},{key:"b8",get:function(){return this.sAt.ly.gs||""}},{key:"Mdt",get:function(){return this.$pt}},{key:"ydt",get:function(){var t=this.Mdt,n=this.iAt;if(void 0!==t&&void 0!==n){var i=w.min(n,this.jlt.wAt);return w.max(t,i)}}}]),n}(DF);function SF(t,n){for(var i=[],r=0;r<n.length;r++)for(var e=n[r],u=0;u<t.length;u++){var s=t[u];i.push(an.Dh(s,e))}return i}yt(),C(),pt(),Mt(),yt(),C(),pt(),Mt(),yt(),C(),yt(),C(),pt(),Mt(),yt(),C(),pt(),Mt(),yt(),C(),Mt(),yt(),C(),pt();var LF=function(){function t(t,n){this.Zvt=t,this.PAt=n,this.Ox=n.cM,this.jAt=n.kmt,this.YAt=n.Qmt}var n=t.prototype;return n.pAt=function(t){var n=t-this.Zvt.Cn;if(!(n<0||n>=this.Zvt.ct)){var i=this.AAt();return void 0!==i&&Ui(i,n,1e-5)?this.yAt():this.MAt(n)}},n.Dct=function(t){var n=t-this.Zvt.Cn;if(!(n<0))return this.bAt(w.min(n,this.Zvt.ct))},n.yAt=function(){return this.TAt(0)},n.SAt=function(){var t=this.Zvt.ct;if(isFinite(t))return this.bAt(t)},n.dAt=function(t){if(this.Zvt.DAt.Av===XU.Sj){if(this.NAt){var n=this.yAt(),i=this.EAt();if(void 0===n||void 0===i)return;return{kAt:t,LAt:n,xAt:i}}var r=this.CAt(t);if(!r)return;return{kAt:t,LAt:this.OAt(t),xAt:r}}var e=this.yAt();if(e)return{kAt:t,LAt:e,xAt:this.SAt()}},n.fAt=function(t,n){if(n){var i=this.Rlt(n.LAt),r=this.jct(n.xAt);if(r){var e=this.Plt(r);(!i||e.getTime()<i.getTime())&&(i=e)}return i}var u=this.yAt();if(u){var s=this.Plt(u);if(t.getTime()<s.getTime())return s}var o=this.Zvt.DAt.jpt;return t.getTime()<o.getTime()?o:void 0},n.CAt=function(t){var n=(t.getTime()-this.Zvt.DAt.jpt.getTime())/1e3-this.Zvt.Cn+this.jAt,i=this.bAt(Pi(n,0,this.Zvt.ct));if(i&&(i=this.RAt(i,t))){for(var r=this.jct(i);r&&this.Ylt(r,t);)i=r,r=this.jct(i);return i}},n.OAt=function(t){var n,i=this.PAt.Ymt;if(i){var r=(t.getTime()-this.Zvt.DAt.jpt.getTime())/1e3-this.Zvt.Cn-i.bmt();(n=this.bAt(Pi(r,0,this.Zvt.ct)))||(n=this.yAt())}else n=this.yAt();if(n&&(n=this.RAt(n,t))){for(var e=this.Oct(n);e&&this.Ylt(e,t);)n=e,e=this.Oct(n);return n}},n.RAt=function(t,n){for(var i=t;i&&this.Plt(i).getTime()>n.getTime();)i=this.Oct(i);if(i){var r=this.Rlt(i);if(r&&r.getTime()<=n.getTime()){var e=this.Oct(i);for(e&&this.Ylt(e,n)&&(i=e);i;){if(this.Plt(i).getTime()>n.getTime())return;if(this.Ylt(i,n))break;i=this.jct(i)}if(!i)return}return i}},n.Ylt=function(t,n){if(this.NAt)return!0;if(this.Plt(t).getTime()>n.getTime())return!1;var i=this.Rlt(t);return!(i&&n.getTime()>=i.getTime())},n.zAt=function(t,n){if(this.NAt)return!0;if(this.BAt(t).getTime()>n.getTime())return!1;var i=this.Rlt(t);return!(i&&n.getTime()>=i.getTime())},n.UAt=function(t,n,i){var r=$i(n,this.Ox)+this.Zvt.Cn;return{aut:t,QAt:n,MS:r,ct:i,bS:r+i}},n.BAt=function(t){return this.Zvt.DAt.Av===XU.Sj?new Date(this.Zvt.DAt.jpt.getTime()+1e3*(t.MS+t.ct)):this.Zvt.DAt.jpt},n.Plt=function(t){var n=this.BAt(t);return this.Zvt.DAt.Av===XU.Sj?new Date(n.getTime()-1e3*this.jAt):n},n.Rlt=function(t){var n=1/0;if(this.Zvt.DAt.Av===XU.Sj){var i=this.PAt.Ymt;i&&(n=this.BAt(t).getTime()+1e3*t.ct+i.Tmt())}var r=this.Zvt.DAt.Opt;return r&&(n=w.min(n,r.getTime())),n===1/0?void 0:new Date(n)},n.FAt=function(t,n){return t.aut+n},n.Ect=function(t){return!1},n.Lct=function(t,n,i,r,e){var u=this.GAt(t);if(!u)return q.reject(new v("Invalid segment"));var s=this.VAt(u.aut,n);return s?q.resolve(s):Yo(this.WAt(u.aut,n,i,r),e)},n.VAt=function(t,n){},n.WAt=function(t,n,i,r){return q.reject(new v("Not supported"))},n.Oct=function(t){var n=this.GAt(t);if(n)return this.TAt(n.aut-1)},n.jct=function(t){var n=this.GAt(t);if(n)return this.TAt(n.aut+1)},n.GAt=function(t){var n=this.TAt(t.aut);if(n&&n.MS===t.MS)return n;var i=this.pAt(t.MS);return i&&i.MS===t.MS?i:void 0},n.HAt=function(t,n){var i=this.xct(t);if(i&&this.Ect(i.aut)){var r=this.VAt(i.aut,n);if(r)return r.HAt(t)}},n.xct=function(t){return this.TAt(t.XAt)},n.Tlt=function(t){var n=this.GAt(t);return!!n&&0===n.aut},n._At=function(t,n){var i=this.HAt(t,n);return!!i&&0===i.hut},n.Mct=function(t){var n=this.GAt(t);if(!n)return!1;var i=this.SAt();return!!i&&n.aut===i.aut},n.gAt=function(t,n){var i=this.HAt(t,n);if(!i)return!1;var r=this.SAt();if(!r||i.XAt!==r.aut)return!1;var e=this.VAt(i.XAt,n);return i.hut+1===e.U},n.h_=function(){},At(t,[{key:"NAt",get:function(){return this.Zvt.DAt.IAt&&void 0!==this.EAt()}},{key:"pI",get:function(){return this.Zvt.Cn-$i(this.YAt,this.Ox)}},{key:"Qmt",get:function(){return $i(this.YAt,this.Ox)}}]),t}(),jF=function(t){function n(n,i){var r;r=t.call(this,i,n)||this;var e=n.tyt,u=n.ct;if(void 0===e||void 0===u)throw new v("MultipleSegmentBase does not have a segment duration specified.");return r.ZAt=e,r.KAt=u,r}bt(n,t);var i=n.prototype;return i.TAt=function(t){if(!(t<0)){var n=this.ZAt.multiply(t),i=$i(n,this.Ox),r=this.Zvt.ct;if(!(i>=r)){var e=this.qAt();if(void 0!==e){if(t>e)return;if(t===e&&isFinite(r))return this.UAt(t,n,r-i)}return isFinite(r)&&i+this.KAt>r?this.UAt(t,n,r-i):this.UAt(t,n,this.KAt)}}},i.AAt=function(){return 0},i.MAt=function(t){var n=w.floor(t/this.KAt),i=this.qAt();return void 0!==i&&n>=i?this.TAt(i):this.TAt(n)},i.bAt=function(t){if(t>=this.Zvt.ct){var n=w.ceil(this.Zvt.ct/this.KAt)-1,i=this.qAt();return void 0!==i&&n>=i?this.TAt(i):this.TAt(n)}return this.MAt(t)},i.qAt=function(){var t,n=this.PAt.Wmt;if(void 0!==n)return n-(null!=(t=this.PAt.Vmt)?t:1);var i=this.PAt.JAt;return void 0!==i&&i>0?i-1:void 0},i.EAt=function(){if(isFinite(this.Zvt.ct))return this.SAt()},i.$At=function(t,n){return this.ZAt.multiply(t.aut+(n-1))},i.Yn=function(){},n}(LF);function CF(t,n,i){var r=n.length;if(0===r)return-1;for(var e=0,u=r-1,s=t.iyt(n[e]),o=t.eyt(n[u]);e<=u&&t.syt(s,i)<=0&&t.syt(i,o)<0;){var a=e+w.floor(t.nyt(i,s,o)*(u-e)),c=n[a],h=t.iyt(c),f=a+1<r?t.iyt(n[a+1]):t.eyt(c);if(t.syt(f,i)<=0)e=a+1,s=f;else{if(!(t.syt(i,h)<0))return a;u=a-1,o=h}}return-1}function xF(t,n){return CF(OF.lL,t,n)}yt(),C(),Mt(),yt(),C(),pt(),yt(),C();var OF=function(){function t(){}var n=t.prototype;return n.iyt=function(t){return t.MS},n.eyt=function(t){return t.bS},n.syt=function(t,n){return t.compare(n)},n.nyt=function(t,n,i){return t.subtract(n).toNumber()/i.subtract(n).toNumber()},At(t,null,[{key:"lL",get:function(){return null!=this.Jnt||(this.Jnt=new t),this.Jnt}}]),t}(),zF=function(t){function n(n,i){var r;return(r=t.call(this,i,n)||this).ryt=[],r.hyt=void 0,r.Wwt=Oi.ZERO,r.Yn(),r}bt(n,t);var i=n.prototype;return i.TAt=function(t){if(!(t<0))return t<this.ryt.length?this.ryt[t].nut:this.oyt(t-this.ryt.length)},i.AAt=function(){if(this.ryt.length>0)return $i(this.ryt[0].MS,this.Ox)},i.MAt=function(t){if(this.hyt&&$i(this.hyt.MS,this.Ox)<=t){var n=$i(this.hyt.MS,this.Ox),i=$i(this.hyt.ct,this.Ox),r=w.floor((t-n)/i);return this.oyt(r)}if(this.ryt.length>0&&Ui(t,$i(this.ryt[0].MS,this.Ox),1e-5))return this.ryt[0].nut;var e=xF(this.ryt,Oi.fromNumber(t*this.Ox));return e<0?void 0:this.ryt[e].nut},i.bAt=function(t){if(!this.hyt&&this.ryt.length>0){var n=this.ryt[this.ryt.length-1];if(function(t,n,i){return so(t,n,i)>=0}(t,$i(n.bS,this.Ox),1e-5))return n.nut}var i=this.AAt();return i&&t<i?this.ryt[0].nut:this.MAt(t)},i.EAt=function(){return isFinite(this.Zvt.ct)?this.SAt():this.TAt(this.ryt.length-1)},i.$At=function(t){return this.ayt(t)},i.oyt=function(t){if(this.hyt){var n=this.hyt.MS,i=this.hyt.ct,r=n.add(i.multiply(t)),e=$i(r,this.Ox),u=this.Zvt.ct;if(!(e>=u)){var s=this.ryt.length+t,o=w.min($i(i,this.Ox),e+u);return this.UAt(s,r,o)}}},i.ayt=function(t){return t.QAt.add(this.YAt)},i.Yn=function(){var t=this.PAt.ly.Wrt;if(!t)throw new v("MultipleSegmentBaseTO does not have a SegmentTimeline specified.");this.uyt(t)},i.uyt=function(t){var n=this.YAt;this.cyt(t,n);var i=this.lyt(t);this.dyt(t,n,i.fyt,i.XAt)},i.cyt=function(t,n){var i=this.ryt;if(0===t.length)po(i);else{for(var r=t[0],e=r.MS?Oi.fromString(r.MS,!1).subtract(n):Oi.ZERO,u=0;u<i.length&&i[u].MS.lessThan(e);)u++;u>0&&i.splice(0,u)}},i.lyt=function(t){for(var n=this.ryt,i=this.Wwt,r=0,e=0;r<t.length&&e<n.length;){var u=t[r].Cmt||0;if(u<0)break;var s=e+u;if(s>=n.length)break;if(n[s].MS.greaterThanOrEqual(i))break;if(n[e].nut.aut===e)e=s+1;else for(;e<=s;)n[e].nut.aut=e,e++;0,r++}return{fyt:r,XAt:e}},i.dyt=function(t,n,i,r){for(var e,u=this.ryt,s=i,o=r;s<t.length;){var a=t[s],c=Oi.fromString(a.ct,!1),h=a.Cmt||0,f=void 0;if(a.MS){if(f=Oi.fromString(a.MS,!1).subtract(n),o>0){var v=u[o-1];v.bS.greaterThan(f)&&(v.ct=f.subtract(v.MS),v.bS=v.MS.add(v.ct))}}else f=o>0?u[o-1].bS:Oi.ZERO;if(h<0){if(s+1===t.length){e={MS:f,ct:c};break}for(var l=Oi.fromString(t[s+1].MS,!1).subtract(n);f.lessThan(l);){var d=f.add(c);this._yt(u,o,f,c,d),f=d,o++}}else for(var g=o+h;o<=g;){var w=f.add(c);this._yt(u,o,f,c,w),f=w,o++}s++}o<u.length&&u.splice(o),u.length>0&&(this.Wwt=u[u.length-1].MS),this.hyt=e},i._yt=function(t,n,i,r,e){if(n<t.length){var u=t[n];0,u.ct.equals(r)?u.nut.aut=n:t[n]={MS:i,ct:r,bS:e,nut:this.UAt(n,i,$i(r,this.Ox))}}else t.push({MS:i,ct:r,bS:e,nut:this.UAt(n,i,$i(r,this.Ox))})},n}(LF);yt(),C(),pt();var RF=function(){function t(t,n,i){this.wyt=void 0,this.myt=void 0,this.bct=t,this.gyt=n,this.zx=i}var n=t.prototype;return n.vyt=function(){if(this.myt=this.pyt(),this.myt)return this.myt;if(this.gyt)return this.gyt.Wrt;throw new v("Missing media segment information.")},n.oAt=function(t){var n=this.Umt;if(n)return{zu:(void 0!==n.xmt?an.Dh(n.xmt,t.upt[0]):t.upt[0]).href,Sat:n.Sat};var i=this.Omt;return i?{zu:t.upt[0].href,Sat:[0,i[0]-1]}:void 0},n.Yn=function(t){this.zx=t,this.myt&&this.myt.Yn()},n.h_=function(){this.myt&&(this.myt.h_(),this.myt=void 0)},At(t,[{key:"ly",get:function(){return this.zx}},{key:"kmt",get:function(){return this.zx&&void 0!==this.zx.kmt?this.zx.kmt:this.gyt?this.gyt.kmt:0}},{key:"Qmt",get:function(){return this.zx&&void 0!==this.zx.Qmt?this.zx.Qmt:this.gyt?this.gyt.Qmt:Oi.ZERO}},{key:"Ymt",get:function(){return this.zx&&void 0!==this.zx.Ymt?this.zx.Ymt:this.gyt?this.gyt.Ymt:this.bct.DAt.Ymt}},{key:"cM",get:function(){return this.zx&&void 0!==this.zx.cM?this.zx.cM:this.gyt&&this.gyt.cM?this.gyt.cM:1}},{key:"Omt",get:function(){return this.zx&&void 0!==this.zx.Omt?this.zx.Omt:this.gyt?this.gyt.Omt:void 0}},{key:"Umt",get:function(){return this.zx&&void 0!==this.zx.Umt?this.zx.Umt:this.gyt?this.gyt.Umt:void 0}},{key:"Wrt",get:function(){return this.wyt||(this.wyt=this.vyt()),this.wyt}}]),t}(),BF=function(t){function n(){return t.apply(this,arguments)}return bt(n,t),n.prototype.pyt=function(){return void 0!==this.zx.Wrt?new zF(this,this.bct):void 0!==this.zx.ct?new jF(this,this.bct):void 0},At(n,[{key:"ct",get:function(){return void 0!==this.zx.ct?this.zx.ct/this.cM:this.gyt&&PF(this.gyt)?this.gyt.ct:void 0}},{key:"tyt",get:function(){return void 0!==this.zx.ct?Oi.fromNumber(this.zx.ct):this.gyt&&PF(this.gyt)?this.gyt.tyt:void 0}},{key:"Vmt",get:function(){return void 0!==this.zx.Vmt?this.zx.Vmt:this.gyt&&PF(this.gyt)?this.gyt.Vmt:void 0}},{key:"Wmt",get:function(){return void 0!==this.zx.Wmt?this.zx.Wmt:this.gyt&&PF(this.gyt)?this.gyt.Wmt:void 0}}]),n}(RF);function PF(t){return t instanceof BF}yt(),C();var UF=function(){function t(t){this.Ayt=t}return t.prototype.LL=function(t){return this.Ayt.replace(/\$\$|\$(RepresentationID|Number|Bandwidth|Time)(?:%0(\d+)([diuxXo]))?\$/g,(function(n,i,r,e){if("$$"===n)return"$";var u=t[i];if(void 0===u)return n;if(void 0===r)return u.toString();var s=function(t,n){switch(n){case"d":case"i":case"u":return t.toString(10);case"x":return t.toString(16);case"X":return t.toString(16).toUpperCase();case"o":return t.toString(8);default:return}}(u,e);return void 0===s?n:s=Ys(s,Number(r),"0")}))},t}();var QF=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).yyt=r.opt?new UF(r.opt):void 0,e.Myt=r.hpt?new UF(r.hpt):void 0,e}bt(n,t);var i=n.prototype;return i.oAt=function(n){var i=this.opt;if(!i)return t.prototype.oAt.call(this,n);var r=i.LL({Bandwidth:n.ly.GP,RepresentationID:n.ly.o});return{zu:an.wp(r,n.upt[0])}},i.zct=function(t,n){var i,r=null!=(i=n.aAt.Vmt)?i:1,e=this.hpt.LL({Bandwidth:n.ly.GP,Number:n.Wrt.FAt(t,r),RepresentationID:n.ly.o,Time:n.Wrt.$At(t,r)});return{zu:an.wp(e,n.upt[0])}},i.lAt=function(t,n){},At(n,[{key:"opt",get:function(){return this.yyt?this.yyt:this.gyt&&this.gyt instanceof n?this.gyt.opt:void 0}},{key:"hpt",get:function(){return this.Myt?this.Myt:this.gyt&&this.gyt instanceof n?this.gyt.hpt:void 0}},{key:"JAt",get:function(){}}]),n}(BF);yt(),C(),pt(),Mt();var YF=function(t){function n(){return t.apply(this,arguments)}bt(n,t);var i=n.prototype;return i.zct=function(t,n){var i=this.Rmt[t.aut],r=n.upt[0];return{zu:(i.wM?an.Dh(i.wM,r):r).href,Sat:i.jmt}},i.lAt=function(t,n){},At(n,[{key:"Rmt",get:function(){return void 0!==this.zx.Rmt?this.zx.Rmt:this.gyt&&this.gyt instanceof n?this.gyt.Rmt:void 0}},{key:"JAt",get:function(){var t;return null==(t=this.Rmt)?void 0:t.length}}]),n}(BF);yt(),C(),pt(),Mt(),yt(),C(),zt(),Mt(),Vt(),Ut(),yt(),C(),pt(),Mt(),yt(),C();var FF=function(){function t(){}return t.prototype.HAt=function(t){var n=this.Cct(t.hut);if(n&&n.MS===t.MS)return n;var i=this.byt(t.MS);return i&&i.MS===t.MS?i:void 0},t}(),GF=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).XAt=n,s.cM=i,s.Iyt=r,s.Qmt=e,s.Tyt=u,s}bt(n,t);var i=n.prototype;return i.Cct=function(t){if(t>=0&&t<this.U)return this.Syt(this.Tyt[t])},i.byt=function(t){var n=this.Nyt(t);if(this.Tyt.length>0){var i=this.Tyt[0];if(n<=$i(i.MS,this.cM))return this.Syt(i)}var r=xF(this.Tyt,Oi.fromNumber(n*this.cM));if(!(r<0))return this.Syt(this.Tyt[r])},i.kct=function(t){var n=this.Nyt(t);if(this.Tyt.length>0){var i=this.Tyt[this.Tyt.length-1];if(n>=$i(i.bS,this.cM))return this.Syt(i)}return this.byt(t)},i.Syt=function(t){var n=$i(t.MS,this.cM)-this.Qmt,i=n+this.Iyt,r=$i(t.ct,this.cM);return{XAt:this.XAt,hut:t.aut,MS:i,QAt:Oi.fromNumber(n*this.cM),ct:r,bS:i+r,Dyt:[t.Eyt,t.kyt]}},i.Nyt=function(t){return t-this.Iyt+this.Qmt},At(n,[{key:"U",get:function(){return this.Tyt.length}}]),n}(FF);yt(),C(),yt(),C(),yt(),C();var VF=function(){function t(t){this.ly=t,this._y=new Oc}var n=t.prototype;return n.fwt=function(){return this._y.Ku<this.ly.byteLength},n.Lyt=function(){var n,i=this.xyt(),r=this.Cyt(),e=this._y.Ku,u=this.ly.byteLength,s=e+(n=t.Oyt(r)?u-e:t.jyt(r))<=u?n:u-e,o=Ha(this.ly,this._y,s);return new XF(i,Ic(o))},n.xyt=function(){var t=this.Cyt();if(t.length>7)throw new RangeError("Invalid EBML ID size");for(var n=0,i=0;i<t.length;i++)n=256*n+t[i];return n},n.Cyt=function(){var t=Xa(this.ly,this._y.$A());if(0===t)throw new RangeError("EBML variable sized integer is invalid");var n=8-(31-za(t));return an.Xet(n<=8&&n>=1,"Incorrect log2 value"),Ha(this.ly,this._y,n)},t.jyt=function(t){if(8===t.length&&224&t[1])throw new l("EBML variable sized integer is too large");for(var n=0,i=0;i<t.length;i++){var r=t[i];if(0===i)n=r&(1<<8-t.length)-1;else n=256*n+r}return n},t.Oyt=function(t){for(var n=0;n<WF.length;n++){var i=WF[n];if(Na(t,new p(i)))return!0}return!1},t}(),WF=[[255],[127,255],[63,255,255],[31,255,255,255],[15,255,255,255,255],[7,255,255,255,255,255],[3,255,255,255,255,255,255],[1,255,255,255,255,255,255,255]],XF=function(){function t(t,n){this.id=t,this.Pyt=n}var n=t.prototype;return n.Ryt=function(){return this.Pyt.byteOffset},n.zyt=function(){return new VF(this.Pyt)},n.Byt=function(){var t=this.Pyt.byteLength;if(t>8)throw new RangeError("EMBL integer field size is too large");if(8===t&&224&this.Pyt.getUint8(0))throw new RangeError("EMBL integer field value is too large");for(var n=0,i=0;i<t;i++){n=256*n+this.Pyt.getUint8(i)}return n},n.eZ=function(){if(4===this.Pyt.byteLength)return this.Pyt.getFloat32(0);if(8===this.Pyt.byteLength)return this.Pyt.getFloat64(0);throw new RangeError("Invalid size for EMBL floating-point field")},t}();function ZF(t,n){var i=function(t){var n=new VF(Ic(t)),i=n.Lyt();if(i.id!==KF)throw new l("Missing WebM EBML header");var r=n.Lyt();if(r.id!==qF)throw new l("Missing WebM SegmentElement");var e=r.Ryt(),u=function(t){var n,i=t.zyt();for(;i.fwt();){var r=i.Lyt();if(r.id===JF){n=r;break}}if(!n)throw new l("Missing WebM InfoElement");return function(t){var n,i=t.zyt(),r=1e6;for(;i.fwt();){var e=i.Lyt();e.id===$F?r=e.Byt():e.id===tG&&(n=e.eZ())}if(void 0===n)throw new l("Missing Duration in WebM InfoElement");var u=r/1e9,s=n*u;return{timecodeScale:u,duration:s}}(n)}(r);return{segmentOffset:e,timecodeScale:u.timecodeScale,duration:u.duration}}(n),r=new VF(Ic(t)).Lyt();if(r.id!==nG)throw new l("Missing WebM CuesElement");var e=function(t,n,i,r){var e,u,s=[],o=t.zyt();for(;o.fwt();){var a=o.Lyt();if(a.id===iG){var c=HF(a);if(c){var h=c.unscaledTime,f=n+c.relativeOffset;void 0!==e&&s.push({aut:s.length,MS:e,ct:h.subtract(e),bS:h,Eyt:u,kyt:f-1}),e=h,u=f}}}if(void 0!==e){0;var v=Oi.fromNumber(r/i);s.push({aut:s.length,MS:e,ct:v.subtract(e),bS:v,Eyt:u,kyt:void 0})}return s}(r,i.segmentOffset,i.timecodeScale,i.duration);return{cM:w.round(1/i.timecodeScale),Uyt:e}}function HF(t){var n=t.zyt(),i=n.Lyt();if(i.id!==rG)throw new l("Missing CueTime in WebM CuePointElement");var r=Oi.fromNumber(i.Byt()),e=n.Lyt();if(e.id!==eG)throw new l("Missing CueTrackPositions in WebM CuePointElement");for(var u=e.zyt(),s=0;u.fwt();){var o=u.Lyt();if(o.id===uG){s=o.Byt();break}}return{unscaledTime:r,relativeOffset:s}}var KF=440786851,qF=408125543,JF=357149030,$F=2807729,tG=17545,nG=475249515,iG=187,rG=179,eG=183,uG=241,sG=function(t){function n(n,i){var r;return(r=t.call(this,i,n)||this).Gyt=ns(),r.Vyt=ns(),r.Wyt=new zo,r.Yyt=n.Omt,r.Qyt=r.UAt(0,Oi.ZERO,r.Zvt.ct),r}bt(n,t);var i=n.prototype;return i.TAt=function(t){if(0===t)return this.Qyt},i.AAt=function(){return 0},i.MAt=function(t){return this.Qyt},i.bAt=function(t){return this.MAt(t)},i.EAt=function(){return this.Qyt},i.$At=function(t,n){return Oi.ZERO},i.dAt=function(t){var n=this.Fyt(t);return n&&{kAt:t,LAt:n,xAt:n}},i.Fyt=function(t){var n=this.Qyt;return this.Ylt(n,t)?n:void 0},i.CAt=function(t){return this.Fyt(t)},i.OAt=function(t){return this.Fyt(t)},i.Yn=function(){},i.Ect=function(t){return 0===t&&void 0!==this.Yyt},i.VAt=function(t,n){var i=n.upt[0].href;return this.Gyt.get(i)},i.WAt=function(t,n,i,r){var e=n.upt[0].href,u=this.Vyt.get(e);if(void 0===u){var s=n.aG,o=this.Wyt.f_;if(Nv(s))u=this.Hyt(t,e,i,r,o);else{if(!Dv(s))throw new Kv(Xv.MEDIA_NOT_SUPPORTED,"Unsupported MIME type for segment index: "+s);u=this.Xyt(t,e,n,i,r,o)}this.Vyt.set(e,u)}return u},i.Hyt=function(t,n,i,r,e){var u=this;return Ot((function(){var s,o,a;return Rt(this,(function(c){switch(c.label){case 0:return s=u.Yyt,[4,r.tlt(n,s,i,e)];case 1:return o=c.sent(),a=u.Zyt(t,o),u.Gyt.set(n,a),[2,a]}}))}))()},i.Zyt=function(t,n){var i=this.Yyt,r=s_.jy(new DataView(n),new Oc);if(r.Av!==vp.UA)throw new v("Invalid segment index");var e=f_.eM(r.ly),u=function(t,n){for(var i=[],r=t.IT,e=n+t.DT.toNumber(),u=0,s=0,o=t.kT;s<o.length;s++){var a=o[s],c=a.MT,h=Oi.fromNumber(a.ct),f=r.add(h);0===a.yT&&i.push({aut:u++,MS:r,ct:h,bS:f,Eyt:e,kyt:e+c-1}),e+=c,r=f}return i}(e,i[1]+1);return new GF(t,e.cM,this.Zvt.Cn,$i(this.YAt,this.Ox),u)},i.Xyt=function(t,n,i,r,e,u){var s=this;return Ot((function(){var o,a,c,h,f,v,l,d;return Rt(this,(function(g){switch(g.label){case 0:return o=i.oAt(),a=s.Yyt,c=e.tlt(o.zu,o.Sat,r,u),h=e.tlt(n,a,r,u),[4,q.all([c,h])];case 1:return f=Gt.apply(void 0,[g.sent(),2]),v=f[0],l=f[1],d=s.qyt(t,l,v),s.Gyt.set(n,d),[2,d]}}))}))()},i.qyt=function(t,n,i){var r=ZF(new p(n),new p(i));return new GF(t,r.cM,this.Zvt.Cn,$i(this.YAt,this.Ox),r.Uyt)},i.h_=function(){t.prototype.h_.call(this),this.Wyt.g_()},n}(LF),oG=function(t){function n(){return t.apply(this,arguments)}bt(n,t);var i=n.prototype;return i.zct=function(t,n){return{zu:n.upt[0].href}},i.lAt=function(t,n){return{zu:n.upt[0].href,Sat:t.Dyt}},i.pyt=function(){return new sG(this,this.bct)},At(n,[{key:"Vmt",get:function(){}}]),n}(RF);yt(),C(),Mt();var aG=function(t){function n(){return t.call(this,fP.Nht)}return bt(n,t),n}(ra);yt(),C();var cG=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).PAt=void 0,e.rMt=1/0,e.iMt=void 0,e.ast=i,e.tMt(n,r),e}bt(n,t);var i=n.prototype;return i.Jyt=function(){var t,n;return null!=(n=this.PAt)?n:null==(t=this.ast)?void 0:t.Jyt()},i.$yt=function(t){var n=this.bct,i=this.ast&&this.ast.Jyt();this.zx.dpt?this.PAt=new QF(n,i,this.zx.dpt):this.zx.lpt?this.PAt=new YF(n,i,this.zx.lpt[0]):this.zx.cpt?this.PAt=new oG(n,i,this.zx.cpt):t&&!i&&(this.PAt=new oG(n,i,void 0))},i.tMt=function(t,n){this.zx=t,this.Kyt=t.upt&&t.upt.length>0?SF(t.upt.map((function(t){return t.zu})),n):n.slice(),this.PAt&&(t.dpt?this.PAt.Yn(t.dpt):t.lpt?this.PAt.Yn(t.lpt[0]):t.cpt&&this.PAt.Yn(t.cpt))},i.tAt=function(){var t;return null==(t=this.iMt)?void 0:t.eMt},i.fAt=function(){var t;return null==(t=this.iMt)?void 0:t.sMt},i.nMt=function(t){var n=this.rMt,i=this.bct.ct,r=this.iMt,e=this.oMt(t);r&&Ui(i,n,1e-5)&&lG(r,e)||(this.rMt=i,this.iMt=e,this.Co(new aG))},i.h_=function(){this.Vo(),this.PAt&&(this.PAt.h_(),this.PAt=void 0)},At(n,[{key:"ly",get:function(){return this.zx}},{key:"upt",get:function(){return this.Kyt}}]),n}($o);function hG(t){for(var n,i=0;i<t.length;i++){var r=t[i].tAt();if(r){n=r.Cn;break}}if(void 0!==n){for(var e,u=t.length-1;u>=0;u--){var s=t[u].tAt();if(s){e=s.jn;break}}if(void 0!==e)return{Cn:n,jn:e}}}function fG(t){if(0!==t.length){for(var n=0,i=1/0,r=0;r<t.length;r++){var e=t[r].tAt();if(!e)return;if((n=w.max(n,e.Cn))>=(i=w.min(i,e.jn)))return}return{Cn:n,jn:i}}}function vG(t){for(var n,i=0;i<t.length;i++){var r=t[i].fAt();r&&(!n||r.getTime()<n.getTime())&&(n=r)}return n}function lG(t,n){return function(t,n){return t&&n?t.getTime()===n.getTime():t===n}(t.sMt,n.sMt)&&function(t,n){return t&&n?Ui(t.Cn,n.Cn,1e-5)&&Ui(t.jn,n.jn,1e-5):t===n}(t.eMt,n.eMt)}var dG=function(t){function n(n,i,r){var e;(e=t.call(this)||this).Zvt=n,e.uS=i,e.hMt=r.slice();for(var u=0;u<r.length;u++){r[u].yn(fP.Nht,e.eAt)}return e}bt(n,t);var i=n.prototype;return i.tAt=function(){return fG(this.hMt)},i.fAt=function(){for(var t,n=0,i=this.hMt;n<i.length;n++){var r=i[n].fAt();r&&(!t||r.getTime()<t.getTime())&&(t=r)}return t},i.gn=function(){this.Vo();for(var t=0,n=this.hMt;t<n.length;t++){n[t].fn(fP.Nht,this.eAt)}},At(n,[{key:"kot",get:function(){return this.hMt}},{key:"$nt",get:function(){return this.kot.reduce((function(t,n){for(var i=0,r=n.$nt;i<r.length;i++){var e=r[i];mo(t,e)||t.push(e)}return t}),[])}},{key:"Vet",get:function(){return this.$nt.length>0?this.$nt[0]:""}},{key:"Av",get:function(){return this.hMt[0].Av}},{key:"o",get:function(){return this.uS}},{key:"jlt",get:function(){return this.Zvt.jlt}},{key:"aG",get:function(){return this.hMt[0].aG}},{key:"bct",get:function(){return this.Zvt}},{key:"Bot",get:function(){return ko(this.kot,(function(t){return t.Bot}))}}]),n}(DF);yt(),C(),Mt();var gG=function(t){function n(){return t.call(this,fP.Dht)}return bt(n,t),n}(ra);function wG(t){for(var n=function(n){var r=t[n],e=void 0,u=r.idt;void 0===u||(e=co(i,(function(t){return t.o===u}))),e||(e={o:u,kot:[]},i.push(e)),e.kot.push(r)},i=[],r=0;r<t.length;r++)n(r);return i}yt(),C();var yG=function(t){function n(n,i){var r;return(r=t.call(this)||this).hMt=[],r.aMt=[],r.uMt=!1,r.cMt=n,r.sAt=i,r.sAt.yn(fP.Nht,r.eAt),r}bt(n,t);var i=n.prototype;return i.wMt=function(t,n){if(0!==this.aMt.length){for(var i=t,r=0,e=this.aMt;r<e.length;r++){var u=e[r],s=u.Av;if(s===Gm.WA||s===Gm.VA){var o=u.iAt;if(void 0===o)return;i=n(i,o)}}return i}},i.mMt=function(){this.uMt||(this.uMt=!0,this.Co(new gG),this.gn())},i.Yn=function(t,n){var i=this;return Ot((function(){return Rt(this,(function(r){switch(r.label){case 0:return 0!==i.hMt.length?[3,2]:[4,i.pMt(i.sAt.kot,t,n)];case 1:return r.sent(),i.AMt(i.hMt),Po(n),[3,4];case 2:return[4,i.yMt(t,n)];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))()},i.pMt=function(t,n,i){var r=this;return Ot((function(){var e,u,s;return Rt(this,(function(o){switch(o.label){case 0:e=0,o.label=1;case 1:if(!(e<t.length))return[3,6];u=t[e],s=new EF(r,u),o.label=2;case 2:return o.trys.push([2,4,,5]),[4,s.Yn(n,i)];case 3:return o.sent(),r.hMt.push(s),[3,5];case 4:return Uo(o.sent()),[3,5];case 5:return e++,[3,1];case 6:return[2]}}))}))()},i.AMt=function(t){for(var n=wG(t),i=0;i<n.length;i++){var r=n[i],e=new dG(this,r.o,r.kot);this.aMt.push(e)}},i.yMt=function(t,n){var i=this;return Ot((function(){var r,e;return Rt(this,(function(u){switch(u.label){case 0:r=0,e=i.hMt,u.label=1;case 1:return r<e.length?[4,e[r].Yn(t,n)]:[3,4];case 2:u.sent(),u.label=3;case 3:return r++,[3,1];case 4:return[2]}}))}))()},i.tAt=function(){return this.sAt.tAt()},i.fAt=function(){return this.sAt.fAt()},i.gn=function(){this.Vo(),this.sAt.fn(fP.Nht,this.eAt);for(var t=0,n=this.aMt;t<n.length;t++){n[t].gn()}for(var i=0,r=this.hMt;i<r.length;i++){r[i].gn()}po(this.hMt),po(this.aMt)},At(n,[{key:"kot",get:function(){return this.hMt}},{key:"Xvt",get:function(){return this.aMt}},{key:"kpt",get:function(){return this.sAt.ly.kpt}},{key:"ct",get:function(){return this.sAt.ct}},{key:"jn",get:function(){return this.Cn+this.ct}},{key:"Lpt",get:function(){return this.sAt.ly.Lpt||[]}},{key:"o",get:function(){return this.sAt.o}},{key:"Eht",get:function(){return this.uMt}},{key:"jlt",get:function(){return this.cMt}},{key:"lMt",get:function(){return this.cMt.dMt(this)}},{key:"bct",get:function(){return this}},{key:"fMt",get:function(){return this.cMt._Mt(this)}},{key:"gMt",get:function(){return this.wMt(1/0,w.min)}},{key:"vMt",get:function(){return this.wMt(0,w.max)}},{key:"Cn",get:function(){return this.sAt.Cn}},{key:"tE",get:function(){return this.jlt.tE}}]),n}(DF);yt(),C(),Mt();var mG,AG=function(t){function n(){return t.call(this,Al.Vv)}return bt(n,t),n}(ra);yt(),C(),Mt(),yt(),C(),function(t){t.MMt="bMt"}(mG||(mG={}));var pG=function(t){function n(){return t.call(this,mG.MMt)}return bt(n,t),n}(ra);yt(),C(),pt(),Mt(),yt(),C(),Xt(),pt(),Mt(),yt(),C(),Xt(),pt(),Mt(),yt(),C(),pt(),Mt();var _G=function(t){function n(n,i){var r;return(r=t.call(this,n,i,i.upt)||this).TMt=void 0,r.rat=i,r.$yt(!0),r}bt(n,t);var i=n.prototype;return i.Ect=function(t){var n=this.aG;return!(!Nv(n)&&!Dv(n))&&this.Wrt.Ect(t.aut)},i.Lct=function(t,n,i,r){return this.Wrt.Lct(t,this,n,i,r)},i.oAt=function(){return this.aAt.oAt(this)},i.zct=function(t){return this.aAt.zct(t,this)},i.lAt=function(t){return this.aAt.lAt(t,this)},i.dAt=function(){return this.TMt},i.oMt=function(t){var n=this.Wrt,i=n.dAt(t),r=i&&function(t,n){var i,r=t.LAt,e=t.xAt,u=t.kAt,s=r.MS,o=n.BAt(e);if(o.getTime()<=u.getTime())i=e.bS;else{var a=(o.getTime()-u.getTime())/1e3,c=w.max(e.ct-a,0);i=e.MS+c}return{Cn:s,jn:i}}(i,n),e=this.Wrt.fAt(t,i);return this.TMt=i,{kAt:t,eMt:r,sMt:e}},i.Yn=function(t){this.tMt(t,this.rat.upt)},At(n,[{key:"Out",get:function(){return this.rat}},{key:"bct",get:function(){return this.rat.bct}},{key:"DAt",get:function(){return this.rat.DAt}},{key:"aG",get:function(){return this.zx.aG||this.rat.aG}},{key:"aAt",get:function(){return this.Jyt()}},{key:"Wrt",get:function(){return this.aAt.Wrt}}]),n}(cG),kG=function(t){function n(n,i){var r;return(r=t.call(this,n,i,i.upt)||this).Zvt=i,r.$yt(!1),r.odt=n.Bot.map((function(t){return new _G(t,Wt(r))})),r}bt(n,t);var i=n.prototype;return i.Yn=function(t){this.tMt(t,this.Zvt.upt);var n=t.Bot||[];if(this.odt.length!==n.length)throw new v("Expected "+this.odt.length+' representations in adaptation set "'+t.o+'", found '+n.length);for(var i=0;i<n.length;i++)this.odt[i].Yn(n[i])},i.nMt=function(n){for(var i=0,r=this.odt;i<r.length;i++){r[i].nMt(n)}t.prototype.nMt.call(this,n)},i.oMt=function(t){return{kAt:t,eMt:fG(this.odt),sMt:vG(this.odt)}},i.h_=function(){for(var n=0,i=this.odt;n<i.length;n++){i[n].h_()}t.prototype.h_.call(this)},At(n,[{key:"Bot",get:function(){return this.odt}},{key:"bct",get:function(){return this.Zvt}},{key:"DAt",get:function(){return this.Zvt.DAt}},{key:"idt",get:function(){return this.zx.idt}},{key:"aG",get:function(){var t;return this.zx.aG||(null==(t=this.odt[0])?void 0:t.ly.aG)||""}},{key:"Zmt",get:function(){return this.ly.Zmt}},{key:"qmt",get:function(){return this.ly.qmt}}]),n}(cG),bG=function(t){function n(n,i,r,e){var u;return(u=t.call(this,i,void 0,n.upt)||this).aMt=[],u.SMt=n,u.FI=r,u.jx=e,u.$yt(!1),u.hMt=(i.kot||[]).map((function(t){return new kG(t,Wt(u))})),u.aMt=wG(u.hMt),u}bt(n,t);var i=n.prototype;return i.Yn=function(t,n){this.tMt(t,this.SMt.upt),this.jx=n;var i=t.kot||[];if(this.hMt.length!==i.length)throw new v("Expected "+this.hMt.length+' adaptation sets in period "'+t.o+'", found '+i.length);for(var r=0;r<i.length;r++)this.hMt[r].Yn(i[r])},i.nMt=function(n){for(var i=0,r=this.hMt;i<r.length;i++){r[i].nMt(n)}t.prototype.nMt.call(this,n)},i.oMt=function(t){return{kAt:t,eMt:fG(this.hMt),sMt:vG(this.hMt)}},i.h_=function(){for(var n=0,i=this.hMt;n<i.length;n++){i[n].h_()}t.prototype.h_.call(this)},At(n,[{key:"kot",get:function(){return this.hMt}},{key:"Xvt",get:function(){return this.aMt}},{key:"bct",get:function(){return this}},{key:"DAt",get:function(){return this.SMt}},{key:"o",get:function(){return this.zx.o}},{key:"Cn",get:function(){return this.FI}},{key:"ct",get:function(){return this.jx}}]),n}(cG);yt(),C(),pt();var MG=function(){function t(t){this.IMt=t}return At(t,[{key:"NMt",get:function(){return this.IMt.Cpt.XN}},{key:"DMt",get:function(){return this.IMt.Cpt.HN}},{key:"EMt",get:function(){return this.IMt.Cpt.xpt}},{key:"kMt",get:function(){var t;return null==(t=this.IMt.gg)?void 0:t.XN}},{key:"LMt",get:function(){var t;return null==(t=this.IMt.gg)?void 0:t.XN}}]),t}(),TG=new Date("2000-01-01"),NG=function(t){function n(n,i,r,e,u){var s;if((s=t.call(this)||this).iMt=void 0,s.OMt=void 0,s.xMt=void 0,s.RMt=[],s.UMt=i,s.CMt=u,s.Yn(n,r,e),n.Av===XU.Sj){var o=s.EAt();o&&o.Opt&&o.Opt.getTime()<TG.getTime()&&(s.xMt=new Date(s.Ypt.getTime()-1e3*(o.nut.MS+o.nut.ct)),s.nMt(e))}return s}bt(n,t);var i=n.prototype;return i.tAt=function(){var t;return null==(t=this.iMt)?void 0:t.eMt},i.fAt=function(){var t;return null==(t=this.iMt)?void 0:t.sMt},i.Yn=function(t,n,i,r){var e,u=void 0!==this.zx&&this.zx.Av===XU.Sj;this.zx=t,this.zMt=null!=r?r:i,this.An=i;var s=[dy(n)];this.Kyt=t.upt&&t.upt.length>0?SF(t.upt.map((function(t){return t.zu})),s):s,this.jMt=t.Rpt&&t.Rpt.length>0?SF(t.Rpt,this.Kyt):[];var o=this.jMt.map((function(t){return t.href})),a=n.href;mo(o,a)||(this.jMt.push(n),o.push(a));var c=this.UMt.href;mo(o,c)||(this.jMt.push(this.UMt),o.push(c)),this.OMt=null==(e=t.Upt)?void 0:e.bmt(),t.Wpt&&(this.IMt=new MG(t.Wpt));var h=t.Av===XU.Sj,f=function(t,n,i){for(var r=[],e=0;e<t.length;e++){var u=t[e],s=void 0;if(u.Cn)s=u.Cn.bmt();else if(e>0&&t[e-1].ct){s=r[e-1]+t[e-1].ct.bmt()}else{if(0!==e||n)break;s=0}r.push(s)}for(var o=[],a=0;a<r.length-1;a++)o.push({ly:t[a],Cn:r[a],ct:r[a+1]-r[a]});if(r.length>0){var c=r.length-1,h=t[c],f=r[c],v=1/0;n||(v=h.ct?h.ct.bmt():i-f),o.push({ly:h,Cn:f,ct:v})}return o}(t.omt,h,this.OMt);this.QMt(f,u,h),this.nMt(i)},i.QMt=function(t,n,i){var r=this.RMt;if(0!==t.length){for(var e=t[0].ly.o,u=0;u<r.length&&r[u].o!==e;)u++;for(var s=r.splice(0,u),o=0;o<s.length;o++){s[o].h_()}if(n&&!i&&r.length>0&&t.length>0){var a,c,h=null!=(a=DG(r[0].ly))?a:up.wN,f=null!=(c=DG(t[0].ly))?c:up.wN;if(f.$S(h)){var v=f.uN(h);void 0!==this.OMt&&(this.OMt+=v.JS());for(var l=0;l<t.length;l++){var d=t[l];if(l<r.length){var g=r[l];d.Cn=g.Cn,jG(d.ly,g.ly)}l===t.length-1&&(d.ct+=v.JS())}}}for(var w=0;w<t.length;w++){var y=t[w];if(w<r.length){var m=r[w];0,m.Yn(y.ly,y.ct)}else r.push(new bG(this,y.ly,y.Cn,y.ct))}}else po(r)},i.nMt=function(t){for(var n=0,i=this.RMt;n<i.length;n++){i[n].nMt(t)}var r=this.iMt,e=this.oMt(t);r&&lG(r,e)||(this.iMt=e,this.Co(new aG))},i.oMt=function(t){return{kAt:t,eMt:hG(this.RMt),sMt:vG(this.RMt)}},i.EAt=function(){if(0!==this.RMt.length){var t=this.RMt[this.RMt.length-1];if(!isFinite(t.ct)&&0!==t.kot.length){var n=t.kot[0];if(0!==n.Bot.length){var i=n.Bot[0].Wrt,r=i.EAt();if(r)return{nut:r,Opt:i.Rlt(r)}}}}},i.h_=function(){this.Vo();for(var t=0,n=this.RMt;t<n.length;t++){n[t].h_()}},At(n,[{key:"ly",get:function(){return this.zx}},{key:"Av",get:function(){return this.zx.Av||XU.Tj}},{key:"jpt",get:function(){return this.xMt||this.zx.jpt||this.Ypt}},{key:"Opt",get:function(){return this.zx.Opt}},{key:"IAt",get:function(){var t,n;return null!=(n=null==(t=this.CMt)?void 0:t.ignoreAvailabilityWindow)&&n}},{key:"Upt",get:function(){return this.OMt}},{key:"upt",get:function(){return this.Kyt}},{key:"Rpt",get:function(){return this.jMt}},{key:"omt",get:function(){return this.RMt}},{key:"Ypt",get:function(){return this.zx.Ypt||this.An}},{key:"Ymt",get:function(){return this.zx.Ymt}},{key:"PMt",get:function(){return this.zMt}},{key:"BMt",get:function(){return this.An}},{key:"Wpt",get:function(){return this.IMt}}]),n}($o);function DG(t){for(var n,i,r=SG(t),e=0,u=null!=(n=t.kot)?n:[];e<u.length;e++){r=op(r,IG(u[e]))}for(var s=0,o=null!=(i=t.Lpt)?i:[];s<o.length;s++){r=op(r,LG(o[s]))}return r}function IG(t){for(var n=SG(t),i=0,r=t.Bot;i<r.length;i++){n=op(n,EG(r[i]))}return n}function EG(t){return SG(t)}function SG(t){var n;if(void 0!==t.dpt&&(n=op(n,LG(t.dpt))),void 0!==t.cpt&&(n=op(n,LG(t.cpt))),void 0!==t.lpt)for(var i=0,r=t.lpt;i<r.length;i++){n=op(n,LG(r[i]))}return n}function LG(t){var n,i;return up.fN(null!=(n=t.Qmt)?n:Oi.ZERO,null!=(i=t.cM)?i:1)}function jG(t,n){if(OG(t,n),t.Cn=n.Cn,void 0!==t.kot&&void 0!==n.kot&&t.kot.length===n.kot.length)for(var i=0;i<t.kot.length;i++)CG(t.kot[i],n.kot[i]);if(void 0!==t.Lpt&&void 0!==n.Lpt&&t.Lpt.length===n.Lpt.length)for(var r=0;r<t.Lpt.length;r++)zG(t.Lpt[r],n.Lpt[r])}function CG(t,n){if(OG(t,n),void 0!==t.Bot&&void 0!==n.Bot&&t.Bot.length===n.Bot.length)for(var i=0;i<t.Bot.length;i++)xG(t.Bot[i],n.Bot[i])}function xG(t,n){OG(t,n)}function OG(t,n){if(void 0!==t.dpt&&void 0!==n.dpt&&zG(t.dpt,n.dpt),void 0!==t.cpt&&void 0!==n.cpt&&zG(t.cpt,n.cpt),void 0!==t.lpt&&void 0!==n.lpt&&t.lpt.length===n.lpt.length)for(var i=0;i<t.lpt.length;i++)zG(t.lpt[i],n.lpt[i])}function zG(t,n){t.cM=n.cM,t.Qmt=n.Qmt}yt(),C(),zt(),Ut();var RG=function(){function t(t,n,i){this.aE=t,this.YMt=n,this.GMt=i,this.VMt=0}var n=t.prototype;return n.oX=function(t){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return[4,n.FMt(t,n.aE,n.YMt,n.GMt).catch(Qo)];case 1:return i.sent(),[2]}}))}))()},n.Olt=function(){return new Date(Zi()+this.VMt)},n.FMt=function(t,n,i,r){var e=this;return Ot((function(){var u,s,o;return Rt(this,(function(a){switch(a.label){case 0:return r?[4,e.WMt(n,r,i)]:[3,2];case 1:u=a.sent(),a.label=2;case 2:if(void 0!==u)return[3,6];Po(i),s=0,a.label=3;case 3:return s<t.length?(o=t[s],[4,e.HMt(n,o,i)]):[3,6];case 4:if(void 0!==(u=a.sent()))return[3,6];a.label=5;case 5:return s++,[3,3];case 6:return e.VMt=void 0===u?0:u-Zi(),[2]}}))}))()},n.HMt=function(t,n,i){var r=this;return Ot((function(){var e,u,s;return Rt(this,(function(o){switch(o.label){case 0:switch(n.irt){case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2012":case"urn:mpeg:dash:utc:http-iso:2014":return[3,1];case"urn:mpeg:dash:utc:direct:2012":case"urn:mpeg:dash:utc:direct:2014":return[3,4]}return[3,5];case 1:return(e=n.lT)?[4,r.WMt(t,e,i)]:[3,3];case 2:return[2,o.sent()];case 3:return[3,6];case 4:return(u=n.lT)&&(s=new Date(u).getTime(),!A(s))?[2,s]:[3,6];case 5:case 6:return[2]}}))}))()},n.WMt=function(t,n,i){return Ot((function(){var r,e;return Rt(this,(function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),[4,t.uD({zu:n,ZD:Jw.GET,qD:pl.Ru,f_:i})];case 1:return[4,u.sent().uE()];case 2:return r=u.sent(),e=new Date(r).getTime(),A(e)?[3,4]:[2,e];case 3:return Uo(u.sent()),[3,4];case 4:return[2]}}))}))()},t}(),BG=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).sAt=void 0,s.KMt=!0,s.RMt=[],s.hbt=void 0,s.sbt=n,s.qMt=n.yv,s.obt=i,s.aE=r,s.abt=e,s.rbt=new RG(s.aE,s.abt,s.sbt.ubt),s.CMt=u,s}bt(n,t);var i=n.prototype;return i.JMt=function(t){var n=this.cg;this.KMt=t,n!==this.cg&&this.Co(new pG)},i.Yn=function(t,n,i){var r=this;return Ot((function(){var e,u,s,o,a,c,h,f,v,l,d,g;return Rt(this,(function(w){switch(w.label){case 0:return u=[],s=[],o=t.Ppt?an.Dh(t.Ppt,r.qMt):r.qMt,void 0!==r.sAt?[3,2]:[4,r.rbt.oX(t.Vpt)];case 1:return w.sent(),r.sAt=new NG(t,r.qMt,o,r.Olt(),r.CMt),r.sAt.yn(fP.Nht,r.Ds),[3,3];case 2:r.sAt.Yn(t,o,r.Olt(),n),w.label=3;case 3:if(0===(a=r.sAt.omt).length)c=r.RMt.slice(),po(r.RMt);else{for(h=a[0].o,f=0;f<r.RMt.length&&r.RMt[f].o!==h;)f++;for(c=r.RMt.splice(0,f),v=0;v<a.length;v++)l=a[v],d=void 0,v<r.RMt.length?d=r.RMt[v]:(d=new yG(r,l),u.push(d)),s.push(d.Yn(r.obt,i))}return[4,q.all(s)];case 4:for(w.sent(),(e=r.RMt).push.apply(e,jt(u)),g=0;g<c.length;g++)c[g].mMt();return r.Co(new AG),[2]}}))}))()},i.Olt=function(){return this.rbt.Olt()},i._Mt=function(t){var n=this.RMt.indexOf(t);if(n>0)return this.RMt[n-1]},i.dMt=function(t){var n=this.RMt.indexOf(t);if(n>=0&&n+1<this.RMt.length)return this.RMt[n+1]},i.tAt=function(){return this.sAt?this.sAt.tAt():void 0},i.fAt=function(){return this.sAt&&this.sAt.fAt()},i.nMt=function(t){this.sAt&&this.sAt.nMt(t)},i.gn=function(){this.Vo(),this.hbt=void 0,this.JMt(!1);for(var t=0,n=this.RMt;t<n.length;t++){n[t].gn()}po(this.RMt),this.sAt&&this.sAt.h_()},At(n,[{key:"Opt",get:function(){return this.sAt&&this.sAt.Opt}},{key:"jpt",get:function(){return this.sAt&&this.sAt.jpt}},{key:"IAt",get:function(){return this.sAt&&this.sAt.IAt}},{key:"o",get:function(){return this.sAt&&this.sAt.ly.o}},{key:"PMt",get:function(){var t;return null==(t=this.sAt)?void 0:t.PMt}},{key:"XMt",get:function(){var t;return null==(t=this.sAt)?void 0:t.BMt}},{key:"Rpt",get:function(){return this.sAt?this.sAt.Rpt.map((function(t){return t.href})):[this.ZMt]}},{key:"ZMt",get:function(){return this.qMt.href}},{key:"zpt",get:function(){return this.sAt&&this.sAt.ly.zpt}},{key:"Bpt",get:function(){return this.sAt&&this.sAt.ly.Bpt}},{key:"Upt",get:function(){return this.sAt&&this.sAt.ly.Upt}},{key:"Qpt",get:function(){return this.sAt&&this.sAt.ly.Qpt}},{key:"Fpt",get:function(){var t,n,i=(null==(n=this.sAt)||null==(t=n.ly.Fpt)?void 0:t.Tmt())||0;return w.max(i,UG)}},{key:"cg",get:function(){return this.KMt}},{key:"omt",get:function(){return this.RMt}},{key:"$Mt",get:function(){return this.Av===XU.Sj?this.wAt:this.tbt}},{key:"ibt",get:function(){var t=this.$Mt;if(void 0!==t)for(var n=0,i=this.omt;n<i.length;n++){var r=i[n];if(r.Cn<=t&&r.jn>t)return r}}},{key:"$mt",get:function(){return this.sAt&&this.sAt.ly.$mt}},{key:"Ypt",get:function(){return this.sAt&&this.sAt.Ypt}},{key:"gMt",get:function(){for(var t=this.RMt.length-1;t>=0;t-=1){var n=this.RMt[t].gMt;if(n)return n}}},{key:"wAt",get:function(){var t=this.gMt;if(void 0!==t){var n=t-this.ebt;return w.max(n,this.tbt)}}},{key:"tbt",get:function(){for(var t=0,n=this.RMt;t<n.length;t++){var i=n[t].$pt;if(void 0!==i)return i}}},{key:"tE",get:function(){return Boolean(this.sbt.tE)}},{key:"ebt",get:function(){var t,n;if(this.sbt.nbt&&this.Av===XU.Sj)return this.sbt.nbt;var i=null==(n=this.sAt)||null==(t=n.ly.Gpt)?void 0:t.bmt();return void 0!==i?i:this.Av===XU.Sj?1.5*this.Qpt.bmt():0}},{key:"Ymt",get:function(){return this.sAt&&this.sAt.Ymt}},{key:"Av",get:function(){return this.sAt?this.sAt.Av:void 0}},{key:"Wpt",get:function(){var t;return null==(t=this.sAt)?void 0:t.Wpt}}]),n}($o),PG=function(){function t(t,n,i,r,e){this.cMt=new BG(t,n,i,r,e)}return At(t,[{key:"jlt",get:function(){return this.cMt}}]),t}(),UG=1e3,QG=w.pow(2,31)-1,YG=function(){function t(t,n,i,r,e){this.lbt=new zo;var u=this;this.dbt=Ot((function(t){var n,i,r;return Rt(this,(function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),n=u.sAt.jlt.Olt(),[4,u.bbt(u.sAt.jlt.Rpt,t)];case 1:return i=e.sent(),[4,u.sAt.jlt.Yn(i,n,t)];case 2:return e.sent(),[3,4];case 3:throw Sy(r=e.sent())&&u.sAt.jlt.JMt(!1),r;case 4:return[2]}}))})),this.Sbt=r,this.sAt=new PG(t,n,i,this.lbt.f_,e)}var n=t.prototype;return n.nst=function(t){var n=this;return Ot((function(){var i;return Rt(this,(function(r){switch(r.label){case 0:n.sAt.jlt.Co(new YL),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.dbt(t)];case 2:return r.sent(),n.sAt.jlt.JMt(!0),[3,4];case 3:throw Uo(i=r.sent()),n.cbt=void 0,n.sAt.jlt.JMt(!1),new v("The provided MPEG-DASH document could not be loaded - "+i.message);case 4:return n.fbt=n._bt(n.lbt.f_),[2]}}))}))()},n._bt=function(t){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:i.trys.push([0,4,,5]),i.label=1;case 1:return n.sAt.jlt.Av!==XU.Sj?[3,3]:[4,Yo(n.gbt,t)];case 2:return i.sent(),[3,1];case 3:return[3,5];case 4:return i.sent(),[3,5];case 5:return[2]}}))}))()},n.vbt=function(t){var n=this;return Ot((function(){var i,r;return Rt(this,(function(e){switch(e.label){case 0:return Po(t),(i=n.mbt())>0?[4,Ko(w.min(i,QG),t)]:[3,2];case 1:e.sent(),e.label=2;case 2:return e.trys.push([2,4,5,6]),[4,n.dbt(t)];case 3:return e.sent(),n.sAt.jlt.JMt(!0),[3,6];case 4:throw r=e.sent(),new v("The provided MPEG-DASH manifest could not be loaded - "+r.message);case 5:return n.pbt=void 0,[7];case 6:return[2]}}))}))()},n.mbt=function(){var t=this.sAt.jlt.Olt().getTime()-this.sAt.jlt.PMt.getTime();return this.sAt.jlt.Fpt-t},n.Abt=function(t){var n=this.sAt.jlt.fAt();if(n){var i=n.getTime()-t.getTime();if(i>0)return i}this.sAt.jlt.nMt(t);var r=this.sAt.jlt.fAt();return r?r.getTime()-t.getTime():NaN},n.wbt=function(t){var n=this;return Ot((function(){var i;return Rt(this,(function(r){switch(r.label){case 0:n.pbt||(n.pbt=n.vbt(t)),(i=new zo).w_(t),r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,q.race([n.pbt,n.ybt(i.f_)].filter(Rn))];case 2:return r.sent(),[3,5];case 3:return Qo(r.sent()),[3,5];case 4:return i.g_(),[7];case 5:return[2]}}))}))()},n.ybt=function(t){var n=this.sAt.jlt.Olt(),i=this.Abt(n);if(!A(i)&&!this.Tr.jlt.IAt)return this.Mbt(i,t)},n.Mbt=function(t,n){var i=this;return Ot((function(){var r;return Rt(this,(function(e){switch(e.label){case 0:return[4,Ko(t,n)];case 1:return e.sent(),r=i.sAt.jlt.Olt(),i.sAt.jlt.nMt(r),[2]}}))}))()},n.bbt=function(t,n){var i=this;return Ot((function(){var r;return Rt(this,(function(e){switch(e.label){case 0:return[4,i.Sbt.Tbt(t,{},n)];case 1:return r=e.sent(),[2,(new AF).Hpt(r.Nbt,r.cE)]}}))}))()},n.gn=function(){return this.lbt.g_(),this.fbt=void 0,this.cbt=void 0,this.pbt=void 0,this.sAt.jlt.gn(),q.resolve()},At(t,[{key:"Tr",get:function(){return this.sAt}},{key:"W",get:function(){return this.cbt||(this.cbt=this.nst(this.lbt.f_),Xo(this.cbt)),this.cbt}},{key:"gbt",get:function(){return this.sAt.jlt.XMt&&this.sAt.jlt.Av===XU.Sj?this.wbt(this.lbt.f_):this.W}}]),t}();yt(),C(),Xt(),pt(),Mt(),yt(),C(),Mt();var FG=function(t){function n(n,i){var r;return(r=t.call(this,"_mt")||this).ymt=n,r.Not=i,r}return bt(n,t),n}(ra),GG=function(t){function n(n,i){var r;(r=t.call(this)||this).Iot=void 0,r.z2=n,r.Pw=i;for(var e=0,u=r.Pw;e<u.length;e++){u[e].idt=Wt(r)}return r}bt(n,t);var i=n.prototype;return i.MD=function(t){t&&this.Iot!==t&&this.Ibt(t)},i.bD=function(t){this.Iot===t&&this.Ibt(void 0)},i.Ibt=function(t){this.Iot=t,this.Co(new FG(this,this.Iot))},i.gn=function(){this.Vo();for(var t=0,n=this.Pw;t<n.length;t++){n[t].idt=void 0}po(this.Pw)},At(n,[{key:"Not",get:function(){return this.Iot}},{key:"Av",get:function(){return this.z2}},{key:"Z",get:function(){return this.Pw.slice()}}]),n}($o);yt(),C(),yt(),C(),yt(),C(),Mt();var VG,WG=function(t){function n(n,i,r){var e;return(e=t.call(this,Al.Cv)||this).currentTime=n,e.initDataType=i,e.initData=r,e}return bt(n,t),n}(ra);function XG(t,n,i,r,e){for(var u=[],s=[],o=0;o<n.length;o++){var a=n[o];a.Av===Gm.WA?u=u.concat(a.Z):a.Av===Gm.VA&&(s=s.concat(a.Z))}return[ZG(t,u,i,r,null==e?void 0:e.preferredAudioCodecs),HG(t,s,i,r,null==e?void 0:e.preferredVideoCodecs)].filter(Rn)}function ZG(t,n,i,r,e){var u=co(r||[],(function(t){return t.Zht===Gm.WA&&t.Rt})),s=[qG(u,i,t),JG(u),$G(u,e),tV(),function(t){var n=t.filter((function(t){return"main"===t.zt}));return n.length>0?n:t}];return KG(n,s)}function HG(t,n,i,r,e){var u=co(r||[],(function(t){return t.Zht===Gm.VA&&t.Rt})),s=[qG(u,i,t),$G(u,e),tV(),function(t){var n=t.filter((function(t){return"main"===t.zt}));return n.length>0?n:t}];return KG(n,s)}function KG(t,n){if(0!==t.length){for(var i=t,r=0;r<n.length;r++){var e=n[r];if(1===i.length)return i[0];i=e(i)}return i[0]}}function qG(t,n,i){return function(r){var e=t?t.Out.o:void 0;if(!Rn(e))return r;var u=null==n?void 0:n.kpt,s=i.kpt,o=u&&s&&u.lT===s.lT,a=co(r,(function(t){return t.Out.o===e}));return o&&a?[a]:r}}function JG(t){return function(n){var i=t?t.gs:"",r=n.some((function(t){return""!==t.gs}))?n.filter((function(t){return""!==t.gs})):n;if(""===i)return r;var e=r.filter((function(t){return t.gs===i}));return e.length>0?e:r}}function $G(t,n){return function(t){if(n&&n.length>0)for(var i=function(i){var r=n[i],e=t.filter((function(t){return t.qw.Rw.some((function(t){return qj(t.$nt,r)}))}));if(e.length>0)return{v:e}},r=0;r<n.length;r++){var e=i(r);if("object"===x(e))return e.v}return t}}function tV(){return function(t){for(var n=[],i=-1/0,r=0;r<t.length;r++){var e=t[r],u=e.Out.uB;u>i?(i=u,n=[e]):u===i&&n.push(e)}return n}}yt(),C(),nt(),yt(),C(),function(t){t.Dbt="api",t.Ebt="start"}(VG||(VG={})),yt(),C(),zt(),Ut();var nV={maxRetries:3,minimumBackoff:1e3,maximumBackoff:1/0},iV=function(){function t(t,n,i){void 0===i&&(i=nV),this.aE=t,this.xbt=n,this.Mlt=i}var n=t.prototype;return n.kbt=function(t,n,i){var r=this,e=this.Mlt.maxRetries===1/0?nV:this.Mlt;return MD((function(){return r.Lbt(t,n,i)}),i,e.maxRetries,e.minimumBackoff,e.maximumBackoff)},n.Lbt=function(t,n,i){var r=this;return Ot((function(){var e,u,s,o,a,c;return Rt(this,(function(h){switch(h.label){case 0:u=0,h.label=1;case 1:if(!(u<t.length))return[3,7];s=t[u],h.label=2;case 2:return h.trys.push([2,5,,6]),o=new ey({zu:s,qD:pl.Ru,XD:n,tE:r.xbt,ZD:Jw.GET,Av:$w.xD,JD:ty.jT,f_:i,_D:15e3,KD:5e3}),[4,r.aE.uD(o)];case 3:return[4,(a=h.sent()).uE(i)];case 4:return[2,{Nbt:h.sent(),Cbt:s,cE:a.cE}];case 5:return c=h.sent(),e=c,[3,6];case 6:return u++,[3,1];case 7:throw e}}))}))()},t}();yt(),C(),zt(),Ut();var rV=function(){function t(t){this.Obt=t}return t.prototype.Tbt=function(t,n,i){var r=this;return Ot((function(){var e,u,s,o,a;return Rt(this,(function(c){switch(c.label){case 0:u=0,s=r.Obt,c.label=1;case 1:if(!(u<s.length))return[3,6];o=s[u],c.label=2;case 2:return c.trys.push([2,4,,5]),[4,o.Tbt(t,n,i)];case 3:return[2,c.sent()];case 4:return Uo(a=c.sent()),e=a,[3,5];case 5:return u++,[3,1];case 6:throw e}}))}))()},t}(),eV=function(){function t(t){this.rut=t}return t.prototype.Tbt=function(t,n,i){var r=this;return Ot((function(){var n;return Rt(this,(function(i){switch(i.label){case 0:return[4,r.rut.fnt(t)];case 1:if(n=i.sent())return[2,{Nbt:n.data,Cbt:n.locationURL,cE:n.responseURL}];throw new v("Manifest fetch from cache unsuccesful")}}))}))()},t}(),uV=function(){function t(t){this.jbt=t}return t.prototype.Tbt=function(t,n,i){var r=this;return Ot((function(){return Rt(this,(function(e){switch(e.label){case 0:return[4,r.jbt.kbt(t,n,i)];case 1:return[2,e.sent()]}}))}))()},t}();function sV(t,n){return new rV([new eV(n),new uV(t)])}var oV=function(){function t(t,n,i){this.Sbt=t,this.Xd=n,this.Pbt=i}var n=t.prototype;return n.Tbt=function(t,n,i){var r=this;return Ot((function(){var e;return Rt(this,(function(u){switch(u.label){case 0:return[4,r.Sbt.Tbt(t,n,i)];case 1:return e=u.sent(),[4,r.Rbt(e)];case 2:return u.sent(),[2,e]}}))}))()},n.Rbt=function(t){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return[4,n.Xd.Mnt({key:AB(t.Cbt),locationURL:cy(t.Cbt),responseURL:cy(t.cE),data:t.Nbt,references:[n.Pbt.o]})];case 1:return i.sent(),[2]}}))}))()},t}();yt(),C(),Mt();var aV=function(t){function n(){return t.call(this,Al.Xv)}return bt(n,t),n}(ra);yt(),C(),Mt();var cV=function(t){function n(){return t.call(this,Al.Hv)}return bt(n,t),n}(ra);yt(),C(),zt(),Mt(),Ut(),yt(),C(),Mt();var hV=function(t){function n(){return t.call(this)}bt(n,t);var i=n.prototype;return i.zbt=function(t){return t.Sg=yA.LOADED,this.tt(t),t},i.Bbt=function(t){for(var n=0,i=this.Z.Rw;n<i.length;n++){var r=i[n];if(r.fv===t)return r}},n}(sk);function fV(t,n){return""===n?t:t+" "+n}yt(),C(),yt(),C(),pt(),Mt(),yt(),C();var vV=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i,r,!1,null==u?void 0:u.toString())||this).ZI=e,s.Ubt=u,s}return bt(n,t),n.prototype.FS=function(t){return this.O===t.O},At(n,[{key:"va",get:function(){return this.Xa||(this.Xa=function(t){return km(EA(t),{get attributes(){return t.ZI},get eventID(){var n;return""+(null!=(n=t.Ubt)?n:"")}})}(this)),this.Xa}}]),n}(BA),lV=function(t){function n(n){var i;return(i=t.call(this)||this).SMt=void 0,i.Ybt=function(){var t,n,r=null!=(n=null==(t=i.SMt.tAt())?void 0:t.Cn)?n:0;if(r>0)for(var e=0,u=i.Z.Rw;e<u.length;e++){ek(u[e],r)}for(var s=0,o=i.SMt.omt;s<o.length;s++){var a=o[s];if(a.jn>r)for(var c=0,h=a.Lpt;c<h.length;c++){var f=h[c];i.Fbt(f,a,r)}}},i.oE=n,i}bt(n,t);var i=n.prototype;return i.Qbt=function(t){var n=this.oE.rE(Q_.ZA,"","","",void 0,mA.EVENT_STREAM);return n.fv=t,this.zbt(n),n},i.Fbt=function(t,n,i){var r,e,u,s=t.irt,o=null!=(r=t.lT)?r:"",a=null!=(e=t.cM)?e:1,c=null!=(u=t.Qmt)?u:Oi.ZERO,h=fV(s,o),f=this.Bbt(h);f||(f=this.Qbt(h));for(var v=0,l=t.uG;v<l.length;v++){var d=l[v];if(!dV(d,f)){var g=gV(d,a,c,n);g.bS>i&&f.lE(g)}}},i.$n=function(t){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return[4,n.tr()];case 1:return i.sent(),n.SMt=t,n.SMt.yn(Al.Vv,n.Ybt),n.Ybt(),[2]}}))}))()},i.tr=function(){var n=this;return Ot((function(){var i,r,e;return Rt(this,(function(u){switch(u.label){case 0:for(n.SMt&&(n.SMt.fn(Al.Vv,n.Ybt),n.SMt=void 0),i=0,r=n.Z.Rw;i<r.length;i++)e=r[i],n.oE.fE(e);return[4,t.prototype.tr.call(n)];case 1:return u.sent(),[2]}}))}))()},n}(hV);function dV(t,n){var i=t.o;if(void 0!==i&&co(n.L.Rw,(function(n){return n.Ubt===i&&n.O===t.ly})))return!0;return!1}function gV(t,n,i,r){var e=t.o,u=t.dT.toSigned().subtract(i),s=t.ct,o=t.ly,a=t.ZI,c=u.toNumber()/n+r.Cn,h=s?s.toNumber()/n:void 0,f=void 0!==h?c+h:r.vMt;return new vV(c,f,o,a,e)}function wV(t,n,i,r,e){var u=[],s=co(i,(function(t){return t.irt===hs}));if(void 0!==s){var o=s.lT?function(t){var n=t.split(":",1)[0];switch(n){case"cbcs":case"cenc":return n;default:return}}(s.lT.toLowerCase()):"cenc";if(void 0!==o){for(var a=0;a<i.length;a++){var c=i[a];if(c.irt!==hs)for(var h=0,f=Os(c.irt);h<f.length;h++){var v=f[h],l=e&&c.Lmt?[c.Lmt]:[];u.push({Qp:v,KP:l,JP:void 0,hP:void 0})}}if(u.length)return{fR:t,Ivt:{Gbt:o,_R:s._R},Nvt:u,Vbt:n===Gm.WA?r.slice():[],Wbt:n===Gm.VA?r.slice():[],B3:!1}}}}function yV(t,n){if(!t)return n;if(!n)return t;var i,r=[],e=ns();return mV(r,e,t.Nvt),mV(r,e,n.Nvt),{fR:t.fR,Ivt:{Gbt:t.Ivt.Gbt,_R:null!=(i=t.Ivt._R)?i:n.Ivt._R},Nvt:r,Vbt:AV(t.Vbt,n.Vbt,mo),Wbt:AV(t.Wbt,n.Wbt,mo),B3:t.B3||n.B3||!1}}function mV(t,n,i){for(var r=0;r<i.length;r++){var e=i[r],u=e.Qp.gL,s=void 0;n.has(u)?(s=n.get(u)).KP=AV(s.KP,e.KP,pV):(s=$u({},e),t.push(s),n.set(u,s))}}function AV(t,n,i){for(var r=t.slice(),e=0;e<n.length;e++){var u=n[e];i(r,u)||r.push(u)}return r}function pV(t,n){for(var i=0;i<t.length;i++){if(Ta(t[i],n))return!0}return!1}function _V(t,n,i){var r,e=t.trt;if(e){for(var u=t.aG,s=[],o=0,a=t.$nt;o<a.length;o++){var c=a[o];s.push(u+'; codecs="'+c+'"')}r=wV(n||{},t.Av,e,s,i)}for(var h=0,f=t.Bot;h<f.length;h++){r=yV(r,kV(f[h],n,i))}return r}function kV(t,n,i){return wV(n||{},t.Av,t.trt||[],[t.Nz],i)}function bV(t){return t?t.Nvt.map((function(n){var i=MV(t.fR,n.Qp),r=t.Ivt.Gbt;return{Qp:n.Qp,KP:n.KP,hP:n.hP,Kz:[{initDataTypes:[n.Qp.fL],audioCapabilities:TV(t.Vbt,r,null==i?void 0:i.audioRobustness),videoCapabilities:TV(t.Wbt,r,null==i?void 0:i.videoRobustness),persistentState:null==i?void 0:i.persistentState,distinctiveIdentifier:null==i?void 0:i.distinctiveIdentifier}]}})):[]}function MV(t,n){switch(n.Av){case cs.Ep:return t.widevine;case cs.Dp:return t.playready;case cs.kp:return t.fairplay;case cs.Lp:return t.clearkey}}function TV(t,n,i){if(0!==t.length)return t.map((function(t){return{contentType:t,encryptionScheme:n,robustness:i}}))}function NV(t,n){var i=function(t){var i=n.indexOf(t.Qp.gL);return i>=0?i:n.length};return to(t,(function(t,n){return i(t)-i(n)}))}yt(),C(),yt(),C(),Xt(),zt(),Mt(),Vt(),Ut();var DV=function(t){function n(n){var i;(i=t.call(this)||this).odt=[],i.Yn=function(){for(var t=[],n=0,r=i.SMt.omt;n<r.length;n++)for(var e=0,u=r[n].kot;e<u.length;e++){var s=u[e];if(s.Av===Gm.OT&&s.Bot.length>0){var o=s.Bot[0];t.push(o),i.$bt(o)||i.Qbt(o),-1===i.odt.indexOf(o)&&(i.odt.push(o),o.yn(fP.Nht,i.Kbt)),i.iTt(o)}}i.Hbt(t)},i.iTt=function(t){var n=i.tTt(t);n&&t&&n._v!==A_.Ch&&(i.Jbt(),function(t,n){var i=t.Wrt,r=t.dAt();if(!r)return;var e=r.LAt,u=r.xAt,s=t.ji,o=t.Ti,a=Gt(function(t){for(var n=0;n<t.length;n++){var i=t[n];if(Us(i.irt,EV)||Us(i.irt,SV)){var r=i.lT.match(IV);if(r){var e=Gt(r,3),u=e[1],s=e[2];return[Number(u),Number(s)]}}}return[1,1]}(t.Zmt),2),c=a[0],h=a[1],f=e;for(;f&&f.aut<=u.aut;){for(var v=t.aAt.ct||f.ct,l=LV(n,f,t.zct(f).zu,s,o,c,h,v),d=0;d<l.length;d++){var g=l[d];n.lE(g)}f=i.jct(f)}}(t,n))},i.oE=n;var r=Wt(i);return i.Kbt=function(){r.iTt(this)},i}bt(n,t);var i=n.prototype;return i.Qbt=function(t){var n=this.oE.rE(Q_.ZA,t.o,"thumbnails","",!1,mA.DEFAULT);return n._v=A_.Jn,this.zbt(n),n},i.$n=function(t){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return[4,n.tr()];case 1:return i.sent(),n.SMt=t,n.SMt.yn(Al.Vv,n.Yn),n.Yn(),[2]}}))}))()},i.Hbt=function(t){this.Xbt(t),this.Zbt()},i.Zbt=function(){for(var t=[],n=0,i=this.Z.Rw;n<i.length;n++){var r=i[n];this.qbt(r)||t.push(r)}for(var e=0;e<t.length;e++){var u=t[e];this.it(u)}},i.Xbt=function(t){for(var n=[],i=0,r=this.odt;i<r.length;i++){var e=r[i];-1===t.indexOf(e)&&n.push(e)}for(var u=0;u<n.length;u++){var s=n[u];go(this.odt,s)}},i.tr=function(){var n=this;return Ot((function(){var i,r,e,u,s;return Rt(this,(function(o){switch(o.label){case 0:for(n.SMt&&(n.SMt.fn(Al.Vv,n.Yn),n.SMt=void 0),i=0,r=n.odt;i<r.length;i++)r[i].fn(fP.Nht,n.Kbt);for(n.odt.length=0,e=0,u=n.Z.Rw;e<u.length;e++)s=u[e],n.oE.fE(s);return[4,t.prototype.tr.call(n)];case 1:return o.sent(),[2]}}))}))()},i.gn=function(){return this.Kbt=void 0,t.prototype.gn.call(this)},i.Jbt=function(){var t,n,i=null!=(n=null==(t=this.SMt.tAt())?void 0:t.Cn)?n:0;if(i>0)for(var r=0,e=this.Z.Rw;r<e.length;r++){ek(e[r],i)}},i.$bt=function(t){return this.Z.Rw.some((function(n){return n.o===t.o}))},i.tTt=function(t){return co(this.Z.Rw,(function(n){return n.o===t.o}))},i.qbt=function(t){return this.odt.some((function(n){return t.o===n.o}))},n}(hV),IV=/^(\d+)x(\d+)$/,EV="http://dashif.org/guidelines/thumbnail_tile",SV="http://dashif.org/thumbnail_tile";function LV(t,n,i,r,e,u,s,o){var a=[],c=n.MS,h=u*s,f=r/u,v=e/s,l=w.round(f),d=w.round(v),g=o/h;if(1===h){var y=c+g;return jV(t,c,y,i)?a:[new BA(c,y,i,!1)]}for(var m=0;m<s;m++)for(var A=0;A<u;A++){var p=c+(m*u+A)*g,_=p+g,k=i+"#xywh="+w.round(A*f)+","+w.round(m*v)+","+l+","+d;if(jV(t,p,_,k)||a.push(new BA(p,_,k,!1)),_>=n.bS)return a}return a}function jV(t,n,i,r){return t.L.Rw.some((function(t){return t.MS===n&&t.bS===i&&t.O===r}))}yt(),C(),zt(),Mt(),Ut(),yt(),C(),zt(),Mt(),Ut(),yt(),C(),pt(),Mt(),yt(),C();var CV=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n,i,s,!1)||this).eTt=r,o.sTt=e,o.rTt=u,o}return bt(n,t),n.prototype.FS=function(t){return Na(this.O,t.O)},At(n,[{key:"cT",get:function(){return this.eTt}},{key:"lT",get:function(){return this.sTt}},{key:"nTt",get:function(){return this.rTt}},{key:"va",get:function(){return this.Xa||(this.Xa=function(t){return km(EA(t),{get schemeIDURI(){return t.cT},get value(){return t.lT},get emsgID(){return t.nTt}})}(this)),this.Xa}}]),n}(BA),xV=function(t){function n(n){var i;return(i=t.call(this)||this).oE=n,i}bt(n,t);var i=n.prototype;return i.elt=function(t,i,r){var e=f_.Wy(Ic(t));if(e){var u=function(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];r_(e,n)&&i.push(e)}return i}(e,vp.BA);if(u.length){var s=n.oTt(e,i,r);this.hTt(u,s,r)}}},i.hTt=function(t,n,i){for(var r=0;r<t.length;r++){var e=t[r],u=void 0,s=(u=1===e.Gy?e.dT.toNumber()/e.cM+i:n+e.gT/e.cM)+e.fT/e.cM;"https://aomedia.org/emsg/ID3"===e.cT||"https://developer.apple.com/streaming/emsg-id3"===e.cT?this.aTt(e,u):this.uTt(e,u,s)}},i.uTt=function(t,n,i){var r=fV(t.cT,t.lT),e=this.Bbt(r);e||(e=this.cTt(r),this.zbt(e)),e.lE(new CV(n,i,t.cT,t.lT,t.o,t._T))},i.aTt=function(t,n){var i=xx(Ic(t._T));if(i){var r=fV(t.cT,t.lT),e=this.Bbt(r);e||(e=this.lTt(r),this.zbt(e));for(var u=0,s=i.a4;u<s.length;u++){var o=s[u],a=new Wx(n,o);ux(a,e.L.Rw),e.lE(a)}}},i.cTt=function(t){var n=this.oE.rE(Q_.ZA,"","","",void 0,mA.EMSG);return n.fv=t,n._v=A_.vv,n},i.lTt=function(t){var n=this.oE.rE(Q_.ZA,"","","",void 0,mA.ID3);return n.fv=t,n._v=A_.vv,n},i.tr=function(){var n=this;return Ot((function(){var i,r,e;return Rt(this,(function(u){switch(u.label){case 0:for(i=0,r=n.Z.Rw;i<r.length;i++)e=r[i],n.oE.fE(e);return[4,t.prototype.tr.call(n)];case 1:return u.sent(),[2]}}))}))()},n.oTt=function(t,n,i){var r=e_(t,vp.UA);return r?$i(r.IT,r.cM)+i:n},n}(hV),OV=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Ybt=function(){var t,i,r=null!=(i=null==(t=n.SMt.tAt())?void 0:t.Cn)?i:0;n.wD(r)},n}bt(n,t);var i=n.prototype;return i.$n=function(t){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return[4,n.tr()];case 1:return i.sent(),n.SMt=t,n.SMt.yn(Al.Vv,n.Ybt),n.Ybt(),[2]}}))}))()},i.tr=function(){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return n.SMt&&(n.SMt.fn(Al.Vv,n.Ybt),n.SMt=void 0),[4,t.prototype.tr.call(n)];case 1:return i.sent(),[2]}}))}))()},n}(xV);yt(),C(),yt(),C(),zt(),Ut();var zV=function(){function t(t){this.dTt=!1,this.rut=t}var n=t.prototype;return n.wnt=function(t,n){return this.dTt?this.rut.wnt(t,n):q.resolve(!1)},n.mnt=function(t,n){return this.dTt?this.rut.mnt(t,n):q.resolve(void 0)},n.fnt=function(t){var n=this;return Ot((function(){var i;return Rt(this,(function(r){switch(r.label){case 0:return[4,n.rut.fnt(t)];case 1:return i=r.sent(),n.dTt=void 0!==i,[2,i]}}))}))()},n.aZ=function(t){return this.rut.aZ(t)},t}();yt(),C(),Mt();var RV=function(t){function n(n,i,r){return t.call(this,n,i,r)}bt(n,t);var i=n.prototype;return i.$m=function(){var t;return null!=(t=this.qm)?t:0},i.tp=function(){this.Qo.U_=1/0},n}(nN),BV=[Al.Zv,Al.Kv,Al.nm,Al.Wv,Al.hm],PV=[Al.qv,Al._m,Al.zv,Al.Rv],UV=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this)||this).CTt=void 0,a.WTt=void 0,a.v5=!1,a.TNt=NaN,a.vz=void 0,a.mz=void 0,a.r5=!1,a.HTt=void 0,a.s5=void 0,a.INt=!1,a.SNt=0,a.NNt=0,a.rSt=!1,a.dE=new zo,a.xTt=new Bc,a.ANt=!1,a.sAt=void 0,a.kSt=void 0,a.KMt=!0,a.tSt=!0,a.JSt=void 0,a.Uo=HD.oU(),a.Az=FD.yB,a.wNt=void 0,a.Bj=!0,a.bc=void 0,a.aNt=void 0,a.Jvt=void 0,a.jvt=[],a.aU=!1,a.ITt=new zo,a.LTt=q.resolve(),a.L5=new zo,a.x5=q.resolve(),a.SSt=!1,a.DTt=new zo,a.ETt=q.resolve(),a.UTt=void 0,a.Avt=void 0,a.KTt=0,a.JTt=0,a.$Tt=0,a.Sz=new pT,a.YSt=void 0,a.mTt={HT:0,XT:0,ZT:0},a.yz=void 0,a.fz=void 0,a.pSt=function(){a.NTt()},a.wc=function(){a.Co(new om(a.U_,a.R_))},a.H3=function(t){a.Co(new WG(a.U_,t.fL,t.SL))},a._St=function(t){a.KTt+=t.KT,a.Co(t)},a.gSt=function(t){var n=t.segments.filter((function(t){return t._ct}));t.track===Gm.WA?a.JTt=n.length:t.track===Gm.VA&&(a.$Tt=n.length)},a.E6=function(){var t=a.ct;A(t)||t===a.TNt||(a.TNt=t,a.Co(new mD(a.TNt)))},a.ENt=function(){a.STt(),a.KSt()},a.N6=function(t){a.G_&&a.Co(t)},a.lNt=function(t){a.Ds(t),a.rSt||(a.rSt=!0,a.DNt.CNt())},a.cNt=function(){a.sAt.jlt.fn(Al.Gv,a.cNt),a.Co(new YL)},a.vSt=function(t){var n;if(t.errorObject.code===Xv.CONTENT_PROTECTION_OUTPUT_RESTRICTED&&(null==(n=a.CTt)?void 0:n.mmt.every((function(t){return!t.ldt}))))return;a.rB(t.errorObject),a.Co(t)},a.wSt=function(t){a.rB(t.errorObject)},a.pmt=function(t){Bo(t)||a.rB(new Kv(Xv.MEDIA_DECODE_ERROR,t.message,t))},a.STt=function(){if(!a.fg)if(a.XTt())if(a.qTt()){var t=a.sAt.jlt.$Mt;a.JA(t,!0)}else;else{var n=a.sAt.jlt.$Mt;a.JA(n,!0)}},a.iNt=function(t){a.INt=a.Eg,a.Co(t)},a.nNt=function(t){var n=a.INt,i=a.Eg;a.INt=i,n&&!i&&a.Co(t)},a.mSt=function(){var t=a.Rg,n=a.Cg;a.SNt===t&&a.NNt===n||(a.SNt=t,a.NNt=n,a.Co(new wk))},a.VSt=function(t){var n=t.Lt;n._v===A_.Jn?(a.RSt(n),a.zSt=n):n===a.zSt&&n._v===A_.Ch&&(a.zSt=void 0,a.BSt())},a.tNt=function(){a.r5||a.JSt&&(a.JSt.LL(),a.JSt=void 0)},a.ZSt=function(t){a.r5||a.JSt&&(a.JSt.xL(t),a.JSt=void 0)},a.dNt=function(){a.gNt().catch(a.pmt)},a.xNt=function(t){a.rB(Jm(t.lt))},a.kNt=function(){a._Tt()},a.LNt=function(){a.gTt()},a.aE=n,a.rut=new zV(u),a.Fm=s,a.MTt=o,a.wU=r,a.wU.yn("tX",a.kNt),a.wU.yn("nX",a.LNt),a.bz=e,a.Mlt=i.retryConfiguration,a.YT=new KT,a.VT=new KT,a.Lz=new _T(n),a.Fm.yn(Al.Lv,a.E6),a.Fm.yn(ia.Cv,a.H3),a.Fm.yn(Al.Ov,a.N6),a.Fm.yn(Al.im,a.iNt),a.Fm.yn(Al.$v,a.nNt),a.Fm.yn(Al.Jv,a.mSt),a.Fm.yn(Al.fm,a.wc),a.Fm.yn([Al.jh,Al.Sh],a.ENt),a.Fm.yn(PV,a.Ds),a.Fm.yn(p_.ha,a.xNt),a.Fm.Qz=a.Lz,a.Fm.G6=Wt(a),a.Fm.yn([Al.Iv,Al.Nv],a.Ds),a.DNt=new QV(Wt(a),a.Fm),a.zz=new Dk(a.DNt,!0),a.zz.yn(gk.Tm,a.STt),a.zz.yn(yk,a.Ds),a.GSt=new qT,a.GSt.yn(gm.ra,a.VSt),a.QSt=new qT,a.oE=a.ONt(),a.fNt=new lV(a.oE),a._Nt=new DV(a.oE),a.Rz=new ak(a.Fm,a.aE),a.Dl=new bT([a.GSt,a.fNt.Z,a._Nt.Z,a.Rz.Z]),a}bt(n,t);var i=n.prototype;return i.fTt=function(t){return!!this.yz&&this.yz.FZ(t)},i.E1=function(t){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return[4,n.Fm.$n(t)];case 1:return n.yz=i.sent(),n._Tt(),n.gTt(),n.yz.P1(n.ct),[2]}}))}))()},i.wTt=function(t){return this.yz.GZ(t)},i.vTt=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return t.mTt=t.pTt,t.yz?[4,t.Fm.tr()]:[3,2];case 1:n.sent(),t.yz=void 0,n.label=2;case 2:return[2]}}))}))()},i.x0=function(){this.yz.x0()},i.M0=function(){var t=this.ct;this.yz.ct<t&&this.yz.P1(t),this.yz.M0()},i.ATt=function(t){var n=this;return Ot((function(){var i,r;return Rt(this,(function(e){switch(e.label){case 0:return i=n.yz,r=[],i.I1&&r.push(uC(i.I1,t)),i.D1&&r.push(uC(i.D1,t)),[4,q.all(r)];case 1:return e.sent(),[2]}}))}))()},i.yTt=function(t,n,i,r,e,u){var s=this.Fm,o=this.yz;return new zY(s,o,t,n,i,r,e,u,this.MTt,s,this.Avt,this.Mlt,this.jvt)},i.bTt=function(t,n,i){return t.GZ(n,i,this.yz)},i.TTt=function(t,n,i,r){var e=this;return Ot((function(){var u;return Rt(this,(function(s){switch(s.label){case 0:return(u=e.yTt(e.aE,e.wU,e.rut,e.bc,t,r)).yn(fP.Dht,e.STt),u.yn(Al.Wv,e.Ds),[4,u.oX(n,i)];case 1:return s.sent(),[2,u]}}))}))()},i.NTt=function(t){void 0===t&&(t=!1),this.ITt.g_(),this.L5.g_(),this.DTt.g_(),this.DTt=new zo,this.ETt=this.kTt(this.LTt,this.x5,this.ETt,t,this.DTt.f_).catch(this.pmt)},i.kTt=function(t,n,i,r,e){var u=this;return Ot((function(){var s,o,a,c,h,f;return Rt(this,(function(v){switch(v.label){case 0:return[4,q.all([t,n,i])];case 1:return v.sent(),Po(e),[4,Yo(u.xTt.OL,e)];case 2:return v.sent(),[4,(s=u.CTt).aat()];case 3:return v.sent(),u.M0(),Po(e),o=s.yc,a=s.mmt,c=s.vmt,h=u.OTt(o,c,o,a,!1),f=u.jTt(c,h),r||!u.fTt(f)?[3,5]:[4,u.RTt(c,h,f)];case 4:return v.sent(),[3,7];case 5:return h=u.OTt(o,c,o,a,!0),f=u.jTt(c,h),[4,u.PTt(c,h,f,e)];case 6:v.sent(),v.label=7;case 7:return Po(e),u.Eg?u.JA(u.U_):u.zTt(),u.BTt(),[2]}}))}))()},i.RTt=function(t,n,i){var r=this;return Ot((function(){var e;return Rt(this,(function(u){switch(u.label){case 0:return e=r.CTt,[4,r.wTt(i)];case 1:return u.sent(),r.UTt=i,[4,r.bTt(e,t,n)];case 2:return u.sent(),[4,e.dat(aP.Fot)];case 3:return u.sent(),[2]}}))}))()},i.PTt=function(t,n,i,r){var e=this;return Ot((function(){var u,s,o;return Rt(this,(function(a){switch(a.label){case 0:return u=e.CTt,e.z5(),e.QTt(),s=e.FTt,[4,e.vTt()];case 1:return a.sent(),[4,e.E1(i)];case 2:return a.sent(),e.UTt=i,[4,e.bTt(u,t,n)];case 3:a.sent(),a.label=4;case 4:return a.trys.push([4,,7,8]),o=e.YTt(s,!1,!0,r),[4,u.dat(aP.Fot)];case 5:return a.sent(),[4,o];case 6:return a.sent(),[3,8];case 7:return e.Y5(),e.GTt(),[7];case 8:return[2]}}))}))()},i.F_=function(t,n){this.JA(t,t===1/0)},i.XTt=function(){var t,n,i=this.ZTt;return 0===i.U||(null!=(n=null==(t=this._z)?void 0:t.jn)?n:this.FTt)>=i.Cn(0)},i.qTt=function(){var t;if(!this.sAt)return!1;if(this.sAt.jlt.Av!==XU.Sj)return!1;var n=null==(t=this.CTt)?void 0:t.yc;if(n&&n.Eht)return!0;for(var i=[],r=0,e=this.sAt.jlt.omt;r<e.length;r++){var u=e[r],s=u.$pt,o=u.vMt;void 0!==s&&void 0!==o&&i.push(s,o)}var a=new HD(i).FB();return function(t,n,i){if(!n.U||!i.U)return HD.oU();var r=n.Cn(0),e=n.jn(n.U-1),u=t.Sn(i).BB().Sn(t).YB(n);return HD.rU(u.Cn(0),u.jn(u.U-1)).GB(u).JB((function(t,n){return t<r&&n<=e&&n-t>qi}))}(this.VTt,this.ZTt,a).U>0},i.sSt=function(t){this.Uo=this.Uo.YB(t)},i.fSt=function(t){t.yn(BV,this.Ds),t.yn(Al.lm,this._St),t.yn(Al.Tv,this.gSt),t.yn(p_.ha,this.wSt),t.yn(Al.Nv,this.vSt),t.yn(Al.Kv,this.mSt),t.yn("_mt",this.pSt),t.yn("Vvt",this.pSt)},i.ASt=function(t){t.fn(BV,this.Ds),t.fn(Al.lm,this._St),t.fn(Al.Tv,this.gSt),t.fn(p_.ha,this.wSt),t.fn(Al.Nv,this.vSt),t.fn(Al.Kv,this.mSt),t.fn("_mt",this.pSt),t.fn("Vvt",this.pSt)},i.ySt=function(t){t.yn(Al.Zv,this.Ds)},i.MSt=function(t){t.fn(Al.Zv,this.Ds)},i.lSt=function(){if(this.CTt){var t=co(this.CTt.vmt,(function(t){return t.Zht===Gm.VA}));if(t)return t.Hw}},i.oSt=function(t){var n,i=null==(n=this.sAt)?void 0:n.jlt;if(!i)return HD.oU();var r=i.tbt,e=t?i.gMt:i.wAt;if(void 0===r||void 0===e)return HD.oU();if(!t){var u=this.eSt;u.U>0&&u.jn(u.U-1)>e&&(e=w.min(u.jn(u.U-1),i.gMt))}var s=this.ct;return isFinite(s)&&s>e&&(e=s),HD.rU(r,e).PB()},i.$n=function(t,n){var i=this;return Ot((function(){var r,e,u,s,o,a,c,h;return Rt(this,(function(f){switch(f.label){case 0:Po(n),u=i.sAt.jlt;try{r=u.ibt,e=u.$Mt}catch(t){throw new v("Something went wrong determining the start of the provided MPEG-DASH stream")}if(!r)throw new v("Something went wrong determining the initial Period of the provided MPEG-DASH stream");if(void 0===e)throw new v("Something went wrong determining the start time of the provided MPEG-DASH stream");return t.textTracks&&i.bSt(t.textTracks),i.z5(),s=i.Eot(r),o=XG(r,s,void 0,void 0,i.Jvt),a=i.OTt(r,o,r,o,!0),o.forEach((function(t){return t.Rt=!0})),c=i.jTt(o,a),[4,i.E1(c)];case 1:return f.sent(),i.UTt=c,Po(n),[4,i.TTt(r,s,o,a)];case 2:return h=f.sent(),Po(n),i.TSt(h),i.Y5(),Po(n),[4,h.dat()];case 3:return f.sent(),Po(n),!i.SSt&&e>0&&i.JA(e,!0,VG.Ebt),i.aU||(i.zTt(),i.NSt()),[2]}}))}))()},i.zTt=function(){this.ITt.g_(),this.ITt=new zo,this.LTt=this.ISt(this.LTt,this.ETt,this.ITt.f_).catch(this.pmt)},i.DSt=function(){this.ITt.g_()},i.ISt=function(t,n,i){var r=this;return Ot((function(){var e,u;return Rt(this,(function(s){switch(s.label){case 0:return[4,q.all([t,n])];case 1:s.sent(),Po(i),s.label=2;case 2:return(u=null==(e=r.CTt)?void 0:e.yc)?[4,r.ESt(u,i)]:[3,4];case 3:return s.sent()?[3,2]:[3,4];case 4:return[2]}}))}))()},i.ESt=function(t,n){var i=this;return Ot((function(){var r,e,u;return Rt(this,(function(s){switch(s.label){case 0:Po(n),e=i.CTt,s.label=1;case 1:return i.sAt.jlt.Av!==XU.Sj||void 0!==(null==(r=i.dMt(t))?void 0:r.$pt)?[3,4]:[4,Yo(i.kSt.gbt,n)];case 2:return s.sent(),[4,i.LSt()];case 3:return s.sent(),[3,1];case 4:return Po(n),[4,i.LSt()];case 5:s.sent(),Po(n),s.label=6;case 6:return e.$vt()?[3,9]:[4,e.k_(ZU.Ldt,n)];case 7:return s.sent(),[4,i.LSt()];case 8:return s.sent(),[3,6];case 9:return Po(n),[4,i.LSt()];case 10:return s.sent(),Po(n),(u=i.dMt(t))?i.xSt(u)?[4,i.CSt(u,n)]:[3,12]:(i.x0(),[2,!1]);case 11:return s.sent(),[3,14];case 12:return[4,i.OSt(u,n)];case 13:s.sent(),s.label=14;case 14:return[2,!0]}}))}))()},i.xSt=function(t){var n,i,r,e,u,s=null!=(u=null==(n=this.bc)?void 0:n.seamlessSwitchStrategy)?u:BN.LT;if(s===BN.PT)return!0;if(s===BN.zT)return!1;var o=this.CTt,a=null==o?void 0:o.yc,c=null==o?void 0:o.vmt,h=XG(t,this.Eot(t),a,c,this.Jvt),f=this.OTt(t,h,a,c,!1);if(s===BN.CLEAR_ONLY&&((null==(i=this.CTt)?void 0:i.Svt)||f)||s===BN.SAME_DRM_ONLY&&!((null==(r=this.CTt)?void 0:r.Svt)&&f||!(null==(e=this.CTt)?void 0:e.Svt)&&!f))return!1;var v=this.jTt(h,f);return this.fTt(v)},i.jSt=function(){return!0},i.RSt=function(t){for(var n=this.PSt(),i=0;i<n.length;i++){var r=n[i];r!==t&&(r._v=A_.Ch)}},i.BTt=function(){if(void 0!==this.zSt){if(this.zSt.pv){var t=co(this.ht.Rw,(function(t){return t.Rt}));void 0!==t&&this.zSt.gs===t.gs||(this.zSt._v=A_.Ch)}}else this.BSt()},i.BSt=function(){if(!this.PSt().length){var t=co(this.ht.Rw,(function(t){return t.Rt}));if(void 0!==t)for(var n=this.nt.Rw.filter((function(t){return t.pv})),i=0;i<n.length;i++){var r=n[i];if(r.gs===t.gs)return r._v=A_.Jn,void(this.zSt=r)}}},i.PSt=function(){return this.nt.Rw.filter((function(t){return t._v===A_.Jn&&(t.zt===Q_.sD||t.zt===Q_.HA)}))},i.USt=function(t){if(t&&this.zSt){var n=function(t,n){if(""!==t.gs)return n.filter((function(n){return n.gs===t.gs}))[0]}(this.zSt,t.nt.Rw);n&&(n._v=A_.Jn)}},i.CSt=function(t,n){var i=this;return Ot((function(){var r,e,u,s,o,a,c,h,f,v,l,d;return Rt(this,(function(g){switch(g.label){case 0:u=i.CTt,s=i.WTt,o=i.UTt,g.label=1;case 1:return g.trys.push([1,16,,22]),Po(n),a=u.yc,c=u.vmt,h=i.Eot(t),f=XG(t,h,a,c,i.Jvt),v=i.OTt(t,f,a,c,!1),f.forEach((function(t){return t.Rt=!0})),l=i.jTt(f,v),[4,u.aat()];case 2:return g.sent(),i.M0(),Po(n),s&&s.yc===t?i.fTt(l)?[4,i.wTt(l)]:[3,4]:[3,5];case 3:g.sent(),g.label=4;case 4:return i.UTt=l,[3,11];case 5:return s?[4,s.gn(!0)]:[3,7];case 6:g.sent(),g.label=7;case 7:return i.fTt(l)?[4,i.wTt(l)]:[3,9];case 8:g.sent(),g.label=9;case 9:return i.UTt=l,[4,i.TTt(t,h,f,v)];case 10:s=g.sent(),i.WTt=s,i.ySt(s),i.QSt.Uw=s.nt,g.label=11;case 11:return[4,s.dat()];case 12:g.sent(),Po(n),g.label=13;case 13:return i.FTt<t.Cn?[4,i.Fm.k_(Al.fm,n)]:[3,15];case 14:return g.sent(),[3,13];case 15:return Po(n),i.TSt(s),[3,22];case 16:return Bo(d=g.sent())?s?[4,s.aat()]:[3,18]:[3,21];case 17:g.sent(),g.label=18;case 18:return o&&i.UTt!==o?i.fTt(o)?[4,i.wTt(o)]:[3,20]:[3,21];case 19:g.sent(),g.label=20;case 20:i.UTt=o,g.label=21;case 21:throw d;case 22:return(null==(e=i.bc)||null==(r=e.dash)?void 0:r.forceSeekToSynchronize)?[4,i.FSt(t,n)]:[3,24];case 23:g.sent(),g.label=24;case 24:return[2]}}))}))()},i.FSt=function(t,n){var i=this;return Ot((function(){var r,e;return Rt(this,(function(u){switch(u.label){case 0:return r=Date.now()/1e3,void 0!==i.YSt?[3,1]:(i.YSt=r,[3,5]);case 1:if(!(r-i.YSt>900))return[3,5];i.YSt=r,i.QTt(),e=w.max(i.FTt,t.Cn),u.label=2;case 2:return u.trys.push([2,,4,5]),[4,i.YTt(e,!1,!0,n)];case 3:return u.sent(),[3,5];case 4:return i.GTt(),[7];case 5:return[2]}}))}))()},i.OSt=function(t,n){var i=this;return Ot((function(){var r,e,u,s,o,a,c,h,f;return Rt(this,(function(v){switch(v.label){case 0:return Po(n),[4,i.CTt.aat()];case 1:return v.sent(),i.M0(),[4,i.ATt(t.Cn)];case 2:v.sent(),Po(n),i.x0(),v.label=3;case 3:return!i.Fm.G_&&i.FTt<t.Cn?[4,i.Fm.k_([Al.fm,Al.Ov],n)]:[3,5];case 4:return v.sent(),[3,3];case 5:return Po(n),r=i.CTt.yc,e=i.CTt.vmt,u=i.Eot(t),s=XG(t,u,r,e,i.Jvt),o=i.OTt(t,s,r,e,!0),s.forEach((function(t){return t.Rt=!0})),a=i.jTt(s,o),i.CTt?(i.GSt.fn(gm.ra,i.VSt),[4,i.CTt.gn()]):[3,7];case 6:v.sent(),i.GSt.yn(gm.ra,i.VSt),i.CTt=void 0,v.label=7;case 7:return i.WTt?[4,i.WTt.gn()]:[3,9];case 8:v.sent(),i.WTt=void 0,v.label=9;case 9:return i.QTt(),i.z5(),c=w.max(i.FTt,t.Cn),[4,i.vTt()];case 10:return v.sent(),[4,i.E1(a)];case 11:return v.sent(),i.UTt=a,[4,i.TTt(t,u,s,o)];case 12:h=v.sent(),i.TSt(h),v.label=13;case 13:return v.trys.push([13,,16,17]),f=i.YTt(c,!1,!0,n),[4,h.dat()];case 14:return v.sent(),[4,Go((function(t){return q.race([f,h.k_([ZU.Ldt],t)])}),n)];case 15:return v.sent(),[3,17];case 16:return i.Y5(),i.GTt(),[7];case 17:return[2]}}))}))()},i.LSt=function(){var t=this;return Ot((function(){var n;return Rt(this,(function(i){switch(i.label){case 0:return(n=t.WTt)?n.yc.Eht?[4,n.gn(!0)]:[3,2]:[2];case 1:i.sent(),t.WTt=void 0,i.label=2;case 2:return[2]}}))}))()},i.Eot=function(t){for(var i=[],r=[],e=0,u=t.Xvt;e<u.length;e++){var s=u[e];if(s.Av===Gm.WA||s.Av===Gm.VA)if(0===s.Bot.length)this.Co(new HU("No supported representation found in the AdaptationSet with mimetype : "+s.Av));else if(s.Av===Gm.WA){var o;(o=i).push.apply(o,jt(s.kot))}else{var a;(a=r).push.apply(a,jt(s.kot))}}var c=[];return i.length>0&&c.push(n.WSt(Gm.WA,i)),r.length>0&&c.push(n.WSt(Gm.VA,r)),c},i.jTt=function(t,n){var i,r,e,u,s,o,a,c,h,f=this,v=t.map((function(t){var n;return hU.Jct(null!=(n=t.rdt)?n:t.Bot,RN(t.Zht,f.Jvt))})).map((function(t){return{Nz:t.Nz}})),l=null==(r=this.bc)||null==(i=r.dash)?void 0:i.desiredTimescale,d=(null==(e=this.bc)?void 0:e.seamlessSwitchStrategy)!==BN.zT&&(null==(u=this.bc)?void 0:u.seamlessSwitchStrategy)!==BN.CLEAR_ONLY&&(null==(s=this.bc)?void 0:s.seamlessSwitchStrategy)!==BN.SAME_DRM_ONLY&&(null!=(h=null==(a=this.bc)||null==(o=a.dash)?void 0:o.needsTimescaleShifting)?h:an.Ys.D0),g=null==(c=this.bc)?void 0:c.useManagedMediaSource;return{Av:dk.Sj,F1:v,Iz:bV(n),B3:null==n?void 0:n.B3,D0:d,E0:l,t2:g}},i.OTt=function(t,i,r,e,u){var s,o,a,c=this.bc.contentProtection,h=n.HSt(i,c);if(void 0!==h)return h;var f=null!=(a=null==(s=this.bc)?void 0:s.seamlessSwitchStrategy)?a:BN.LT;if(f!==BN.zT&&f!==BN.CLEAR_ONLY&&f!==BN.SAME_DRM_ONLY){var v=null==(o=this.CTt)?void 0:o.Svt;if(!u&&void 0!==v){var l=!v.B3;if(f===BN.LT&&l&&!this.jSt())return;return v}var d=!u&&f===BN.LT;if(void 0!==(h=this.XSt(t,c,r,e,d)))return h.B3=!0,h}},i.XSt=function(t,i,r,e,u){for(var s=t,o=!1;;)if(void 0!==(s=o?this._Mt(s):this.dMt(s))){var a=XG(s,this.Eot(s),r,e,this.Jvt),c=n.HSt(a,i);if(u){var h=this.jTt(a,c);if(!this.fTt(h))return}if(void 0!==c)return c}else{if(o)return;o=!0,s=t}},i.bSt=function(t){for(var n=0;n<t.length;n++){var i=t[n];i.src&&this.Rz.nE(i)}lk(this.Rz.Z)},i.Hg=function(){var t,n=this.fg;this.tSt=!0,n||(this.r5||(this.ZSt(new Ro),this.qSt()),(null==(t=this.fz)?void 0:t.Lm)&&this.fz.Zg(),this.KSt())},i.Xg=function(){this.JSt||(this.JSt=new Bc),this.$St();var t=this.JSt.OL;return Xo(t),t},i.$St=function(){if(this.tSt=!1,this.v5=!0,this.nSt(),this.G_){var t=this.ZTt;t.U>0&&this.JA(t.Cn(0))}this.r5||this.A5().then(this.tNt,this.ZSt),this.STt(),this.KSt()},i.A5=function(){return this.Fm.Xg()},i.qSt=function(){this.Fm.Hg()},i.z5=function(){this.r5||(this.tSt=this.fg,this.r5=!0,this.qSt())},i.Y5=function(){this.r5&&(this.r5=!1,this.tSt||this.A5().then(this.tNt,this.ZSt),this.STt(),this.KSt())},i.KSt=function(){var t=this.Bj,n=this.fg;t!==n&&(this.Bj=n,n?this.Co(new wD(this.U_)):this.Co(new yD(this.U_)))},i.JA=function(t,n,i){return void 0===n&&(n=!1),void 0===i&&(i=VG.Dbt),this.SSt=!0,this.ITt.g_(),this.L5.g_(),this.aU=!0,this.s5=t,this.sSt(this.eSt),this.iNt(new _D(this.U_)),this.L5=new zo,this.x5=this.C5(t,this.LTt,this.x5,this.ETt,this.L5.f_,n,i).catch(this.pmt),this.x5},i.eNt=function(){this.L5.g_()},i.C5=function(t,n,i,r,e,u,s,o){void 0===u&&(u=!1),void 0===s&&(s=VG.Dbt),void 0===o&&(o=!1);var a=this;return Ot((function(){var c,h,f,v,l,d,g,w,y,m,A,p,_,k,b,M,T,N;return Rt(this,(function(D){switch(D.label){case 0:null==(c=a.fz)||c.Zg(),0,D.label=1;case 1:return D.trys.push([1,30,,31]),[4,q.all([n,i,r])];case 2:return D.sent(),Po(e),[4,Yo(a.xTt.OL,e)];case 3:return D.sent(),v=a.ZTt.zB(t),a.s5=v,l=o||(null==(f=a.bc)||null==(h=f.dash)?void 0:h.forceHardSwitchWhenSeekingBackwards)&&v<=a.U_,d=a.sNt(v),g=a.CTt,l||!g||!g.Ig.gr(v)&&s!==VG.Ebt&&g.yc!==d?[3,8]:!(w=a.WTt)||w.hmt?[3,7]:[4,w.aat()];case 4:return D.sent(),a.M0(),y=a.jTt(g.mmt,g.Svt),a.fTt(y)?[4,a.wTt(y)]:[3,6];case 5:D.sent(),D.label=6;case 6:a.UTt=y,D.label=7;case 7:return[3,27];case 8:return d?(m=a.WTt,a.z5(),g?[4,g.aat()]:[3,10]):[3,27];case 9:D.sent(),D.label=10;case 10:return!m||m.yc!==d||l?[3,13]:(A=a.jTt(m.mmt,m.Svt),a.M0(),a.fTt(A)?[4,a.wTt(A)]:[3,12]);case 11:D.sent(),D.label=12;case 12:return a.UTt=A,[3,25];case 13:return m?[4,m.gn(!0)]:[3,15];case 14:D.sent(),D.label=15;case 15:return p=a.Eot(d),_=null==g?void 0:g.yc,k=null==g?void 0:g.vmt,b=XG(d,p,_,k,a.Jvt),M=a.OTt(d,b,_,k,!1),b.forEach((function(t){return t.Rt=!0})),T=a.jTt(b,M),!a.xSt(d)||l?[3,18]:(a.M0(),a.fTt(T)?[4,a.wTt(T)]:[3,17]);case 16:D.sent(),D.label=17;case 17:return[3,23];case 18:return M=a.OTt(d,b,_,k,!0),T=a.jTt(b,M),g?(a.GSt.fn(gm.ra,a.VSt),[4,g.gn()]):[3,20];case 19:D.sent(),a.GSt.yn(gm.ra,a.VSt),a.CTt=void 0,D.label=20;case 20:return[4,a.vTt()];case 21:return D.sent(),[4,a.E1(T)];case 22:D.sent(),D.label=23;case 23:return a.UTt=T,[4,a.TTt(d,p,b,M)];case 24:m=D.sent(),a.WTt=m,a.QSt.Uw=m.nt,a.ySt(m),D.label=25;case 25:return[4,m.dat(aP.Got)];case 26:return D.sent(),a.TSt(m),[3,27];case 27:return N=a.YTt(v,u,!1,e),a.s5=void 0,[4,a.CTt.dat(aP.Got)];case 28:return D.sent(),Po(e),a.zTt(),[4,N];case 29:return D.sent(),Po(e),a.Y5(),a.aU=!1,a.nNt(new kD(a.U_)),a.NSt(),[3,31];case 30:return Bo(D.sent())?[2]:[3,31];case 31:return[2]}}))}))()},i.NSt=function(){if(!this.fg&&!this.Eg&&void 0!==this.Km){var t,n,i=this.U_;if(this.U_+this.Km-this.Qg.wd.maximumOffset<i)null==(t=this.fz)||t.Cn();else null==(n=this.fz)||n.Zg()}},i.YTt=function(t,n,i,r){var e=this;return Ot((function(){var u,s,o,a,c,h;return Rt(this,(function(f){switch(f.label){case 0:u=!0,s=t,f.label=1;case 1:if((c=e.hSt).U>0&&(h=c.zB(t),s!==h&&(c.gr(s)&&e.sAt.jlt.Av===XU.Sj||(s=h,u=!0))),u)u=!1,o&&Xo(o),null==a||a.g_(),(a=new zo).w_(r),o=e.rNt(s,n,i,a.f_);else if(!e.aSt&&!e.s2)return[3,3];return[4,Go((function(t){return q.race([o,e.k_([Al.nm,Al.Lv],t),e.sAt.jlt.k_(fP.Nht,t)])}),r)];case 2:return f.sent(),[3,1];case 3:return[2]}}))}))()},i.rNt=function(t,n,i,r){var e=this;return Ot((function(){return Rt(this,(function(u){switch(u.label){case 0:e.Fm.JA(t,n,i),u.label=1;case 1:return e.aSt||e.s2?[4,e.Fm.k_([Al.$v,Al.Fv],r)]:[3,3];case 2:return u.sent(),[3,1];case 3:return[2]}}))}))()},i.QTt=function(){void 0===this.HTt&&(this.HTt=this.FTt,this.Fm.fn(Al.im,this.iNt),this.Fm.fn(Al.$v,this.nNt))},i.GTt=function(){if(void 0!==this.HTt){var t=this.FTt;this.HTt=void 0,this.Fm.yn(Al.im,this.iNt),this.Fm.yn(Al.$v,this.nNt),this.FTt!==t&&this.wc()}},i.oNt=function(t){this.Uo=this.Uo.YB(t)},i.sNt=function(t){var n=this.sAt.jlt,i=n.omt.filter((function(t){return t.ct>=.2}));if(0!==i.length){var r=i[0];if(t<=r.Cn)return r;for(var e=0;e<i.length;e++){var u=i[e];if(u.jn>t)return u}return n.Av!==XU.Sj?i[i.length-1]:void 0}},i._Mt=function(t){for(var n=t.fMt;n&&n.ct<.2;)n=n.fMt;return n},i.dMt=function(t){for(var n=t.lMt;n&&n.ct<.2;)n=n.lMt;return n},i.ga=function(t,n,i){var r=this;return Ot((function(){var e,u,s,o,a;return Rt(this,(function(c){switch(c.label){case 0:return r.Lz.HP(t.contentProtection),r.hNt(),!r.bc||aD(r.bc)?[3,2]:[4,r.tr()];case 1:c.sent(),c.label=2;case 2:return!t||aD(t)?[2]:(r.dE=new zo,i&&r.dE.w_(i),r.bc=t,r.aNt=n,r.Jvt=t.abr,r.jvt=t.ignoreEmbeddedTextTrackTypes,u=new iV(r.aE,Boolean(r.bc.useCredentials),r.Mlt),s=sV(u,r.rut),r.JMt(!0),r.kSt=new YG({yv:an.Dh(r.bc.src),nbt:null!=(o=null==(e=r.bc.latencyConfiguration)?void 0:e.targetOffset)?o:r.bc.liveOffset,ubt:r.bc.timeServer,tE:r.bc.useCredentials},r.uNt(r.Jvt),r.aE,s,r.bc.dash),r.sAt=r.kSt.Tr,r.sAt.jlt.yn(Al.Gv,r.cNt),r.sAt.jlt.yn(Al.Vv,r.lNt),r.sAt.jlt.yn(mG.MMt,r.dNt),r.sAt.jlt.yn(fP.Nht,r.STt),[4,r.fNt.$n(r.sAt.jlt)]);case 3:return c.sent(),[4,r._Nt.$n(r.sAt.jlt)];case 4:return c.sent(),mo(r.jvt,mA.EMSG)?[3,6]:(r.Avt=new OV(r.oE),r.Dl.tz(r.Avt.Z),[4,r.Avt.$n(r.sAt.jlt)]);case 5:c.sent(),c.label=6;case 6:return t.latencyConfiguration&&(a=t.latencyConfiguration,r.fz=new RV(r,r.Fm,a),r.fz.Rt=!0,r.bz.ka(r.fz)),r.nSt(),[2]}}))}))()},i.gNt=function(){var t=this;return Ot((function(){var n,i,r;return Rt(this,(function(e){switch(e.label){case 0:return n=t.sAt.jlt.cg,t.JMt(n),n?(t.pSt(),[3,3]):[3,1];case 1:return[4,q.all([null==(i=t.CTt)?void 0:i.aat(aP.rht),null==(r=t.WTt)?void 0:r.aat(aP.rht)].filter(Rn))];case 2:e.sent(),t.DSt(),t.eNt(),t.DTt.g_(),e.label=3;case 3:return[2]}}))}))()},i.JMt=function(t){this.KMt!==t&&(this.KMt=t,this.Co(t?new aV:new cV))},i.nSt=function(){return this.sAt?(this.wNt=this.vNt(this.wNt,this.dE.f_),this.wNt.catch(this.pmt)):q.resolve()},i.vNt=function(t,n){var i=this;return Ot((function(){var r;return Rt(this,(function(e){switch(e.label){case 0:return t?[4,t]:[3,2];case 1:e.sent(),Po(n),e.label=2;case 2:return e.trys.push([2,7,,8]),i.yg===FD.LT||i.v5?[4,i.mNt(n)]:[3,4];case 3:return e.sent(),[3,6];case 4:return i.yg!==FD.ZA?[3,6]:[4,i.pNt(n)];case 5:return e.sent(),[3,6];case 6:return[3,8];case 7:throw Uo(r=e.sent()),i.rB(new Kv(Xv.MANIFEST_LOAD_ERROR,r.message,r)),r;case 8:return[2]}}))}))()},i.mNt=function(t){var n=this;return Ot((function(){var i;return Rt(this,(function(r){switch(r.label){case 0:return[4,n.pNt(t)];case 1:r.sent(),n.ANt||(n.ANt=!0,n.xTt.w_(n.$n(n.aNt,t))),r.label=2;case 2:return r.trys.push([2,4,,5]),[4,n.xTt.OL];case 3:return r.sent(),[3,5];case 4:return Uo(i=r.sent()),n.rB(new Kv(Xv.MEDIA_DECODE_ERROR,i.message,i)),[3,5];case 5:return[2]}}))}))()},i.pNt=function(t){var n=this;return Ot((function(){var i,r,e,u,s,o;return Rt(this,(function(a){switch(a.label){case 0:return[4,Yo(n.kSt.W,t)];case 1:return a.sent(),i=n.sAt.jlt,void 0===n.fz&&i.Av===XU.Sj&&(r=i.Wpt,e=(null==r?void 0:r.EMt)?(null==r?void 0:r.EMt)/1e3:i.ebt,u=(null==r?void 0:r.NMt)?(null==r?void 0:r.NMt)/1e3:.5*e,s=(null==r?void 0:r.DMt)?(null==r?void 0:r.DMt)/1e3:1.5*e,o={minimumOffset:u,maximumOffset:s,targetOffset:e,forceSeekOffset:2.5*e,minimumPlaybackRate:JT,maximumPlaybackRate:$T},n.fz=new RV(n,n.Fm,o),n.bz.ka(n.fz)),[2]}}))}))()},i.TSt=function(t){var i=this.CTt;t!==i&&(this.CTt&&this.ASt(this.CTt),this.WTt&&this.MSt(this.WTt),i&&this.sSt(this.eSt),this.CTt=t,this.WTt=i,this.fSt(this.CTt),this.WTt&&this.ySt(this.WTt),this.YT.Uw=t.ht,this.VT.Uw=t.rt,this.USt(t),this.GSt.fn(gm.ra,this.VSt),n.yNt(this.GSt),this.GSt.yn(gm.ra,this.VSt),this.GSt.Uw=t.nt,this.QSt.Uw=void 0,this.BSt())},i.ge=function(){this.Fm.ge()},i.be=function(){this.Fm.be()},i.rB=function(t){this.vz||(Xo(this.tr()),this.vz=Km(t),this.mz=t,this.Co(new gT(t)))},i.hNt=function(){this.vz=void 0,this.mz=void 0},i._Tt=function(){var t=this.yz;t&&(t.D1&&(t.D1.iX=this.wU.lX),t.I1&&(t.I1.iX=this.wU.lX))},i.gTt=function(){var t=this.yz;t&&(t.D1&&(t.D1.rX=this.wU.rX),t.I1&&(t.I1.rX=this.wU.rX))},i.determineStallJumpTarget=function(){if(this.CTt)return this.CTt.$vt()&&this.U_>this.CTt.jn-nC&&!this.CTt.nmt?this.CTt.jn:void 0},i.tr=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:if(t.MNt)return[2,t.MNt];n.label=1;case 1:return n.trys.push([1,,3,4]),t.MNt=t.bNt(),[4,t.MNt];case 2:return n.sent(),[3,4];case 3:return t.MNt=void 0,[7];case 4:return[2]}}))}))()},i.bNt=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return t.gg=1,t.dE.g_(),t.eNt(),t.DSt(),t.DTt.g_(),t.xTt.g_(),t.SSt=!1,t.Hg(),t.v5=!1,t.YT.Uw=void 0,t.VT.Uw=void 0,t.GSt.Uw=void 0,t.QSt.Uw=void 0,t.wNt?[4,t.wNt.catch(Kn)]:[3,2];case 1:n.sent(),t.wNt=void 0,n.label=2;case 2:return[4,q.all([t.LTt,t.x5,t.ETt,t.xTt.OL.catch(Kn)])];case 3:return n.sent(),t.CTt?[4,t.CTt.gn(!0)]:[3,5];case 4:n.sent(),t.CTt=void 0,n.label=5;case 5:return t.WTt?(t.MSt(t.WTt),[4,t.WTt.gn(!0)]):[3,7];case 6:n.sent(),t.WTt=void 0,n.label=7;case 7:return[4,t.vTt()];case 8:return n.sent(),t.UTt=void 0,t.zSt=void 0,t.zz.tr(),[4,t.fNt.tr()];case 9:return n.sent(),[4,t._Nt.tr()];case 10:return n.sent(),void 0===t.Avt?[3,12]:(t.Dl.sz(t.Avt.Z),[4,t.Avt.gn()]);case 11:n.sent(),t.Avt=void 0,n.label=12;case 12:return t.oE.tr(),t.sAt?(t.sAt.jlt.fn(Al.Gv,t.cNt),t.sAt.jlt.fn(Al.Vv,t.lNt),t.sAt.jlt.fn(mG.MMt,t.dNt),[4,t.kSt.gn()]):[3,14];case 13:n.sent(),t.sAt=void 0,n.label=14;case 14:return t.rSt=!1,t.TNt=NaN,t.SNt=0,t.NNt=0,t.HTt=void 0,t.r5=!1,t.Uo=HD.oU(),t.Bj=!0,t.s5=void 0,t.INt=!1,t.aU=!1,t.ANt=!1,t.xTt=new Bc,t.KTt=0,t.JTt=0,t.$Tt=0,t.bc=void 0,t.aNt=void 0,t.jvt=[],t.YSt=void 0,t.bz.tr(),t.fz=void 0,t.mTt={HT:0,XT:0,ZT:0},[4,t.Rz.tr()];case 15:return n.sent(),t.Fm.Pz(),[2]}}))}))()},i.gn=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return t.Vo(),t.hNt(),[4,t.tr()];case 1:return n.sent(),t.Vo(),t.YT.gn(),t.VT.gn(),t.GSt.gn(),t.QSt.gn(),t.Dl.gn(),t.zz.gn(),t.DNt.h_(),[4,t.fNt.gn()];case 2:return n.sent(),[4,t._Nt.gn()];case 3:return n.sent(),t.oE.gn(),t.Fm.fn(Al.Lv,t.E6),t.Fm.fn(ia.Cv,t.H3),t.Fm.fn(Al.Ov,t.N6),t.Fm.fn(Al.im,t.iNt),t.Fm.fn(Al.$v,t.nNt),t.Fm.fn(Al.Jv,t.mSt),t.Fm.fn(Al.fm,t.wc),t.Fm.fn([Al.jh,Al.Sh],t.ENt),t.Fm.fn(PV,t.Ds),[4,t.Rz.gn()];case 4:return n.sent(),t.Dl.gn(),t.wU.fn("tX",t.kNt),t.wU.fn("nX",t.LNt),t.Fm.fn(p_.ha,t.xNt),t.Fm.fn([Al.Iv,Al.Nv],t.Ds),t.Fm.Qz=void 0,t.Fm.G6=void 0,[2]}}))}))()},i.Gg=function(){return this.Fm.ya},i.qg=function(){return!1},i.Kg=function(){},i.Jg=function(){},i.$g=function(){},i.iw=function(){this.NTt(!0)},n.WSt=function(t,n){for(var i=function(t){var i=n[t];if(-1!==e.indexOf(i))return"continue";var r=function(t,n){var i=t.filter((function(t){return"urn:mpeg:dash:role:2011"===t.irt})).map((function(t){return t.lT})).filter(Rn);if(n||mo(i,"main"))return mo(i,"caption")?"captions":mo(i,"subtitle")?"subtitles":mo(i,"dub")?"translation":"main";if(mo(i,"sign"))return"sign";if(mo(i,"description"))return"descriptions";if(mo(i,"commentary"))return"commentary";return"alternative"}(i.Wlt.concat(i.Sdt),s);s=!1;for(var o=i.Bot.map((function(t){return t.Lht})),a=new QU(i,o,r),c=function(t,n){for(var i,r,e=function(t){var i=s[t],r=Number(i),e=co(n,(function(t){return t.o===r}));e&&o.push(e)},u=co(jt(t.Zmt).concat(jt(t.qmt)),(function(t){return"urn:mpeg:dash:adaptation-set-switching:2016"===t.irt})),s=null!=(r=null==u||null==(i=u.lT)?void 0:i.split(","))?r:[],o=[],a=0;a<s.length;a++)e(a);return o}(i,n),h=0;h<c.length;h++){var f=c[h];a.hdt(f),e.push(f)}u.push(a)},r=n.some((function(t){return t.Sdt.some((function(t){return"main"===t.lT}))})),e=[],u=[],s=!r,o=0;o<n.length;o++)i(o);return new GG(t,u)},n.HSt=function(t,n){if(t.length){for(var i,r=0;r<t.length;r++){var e=t[r],u=0===e.cdt.length;i=yV(i,_V(e.Out,n,u))}return(null==n?void 0:n.preferredKeySystems)&&i&&(i.Nvt=NV(i.Nvt,n.preferredKeySystems)),i}},n.yNt=function(t){for(var n=0,i=t.Rw;n<i.length;n++){i[n]._v=A_.Ch}},At(n,[{key:"ht",get:function(){return this.YT}},{key:"_z",get:function(){var t=this.FTt,n=this.VTt,i=n.WB(t);if(-1!==i)return{Cn:n.Cn(i),jn:n.jn(i)}}},{key:"VTt",get:function(){var t,n,i,r,e=null!=(i=null==(t=this.CTt)?void 0:t.O_)?i:HD.oU(),u=null!=(r=null==(n=this.WTt)?void 0:n.O_)?r:HD.oU();return e.YB(u)}},{key:"O_",get:function(){return this.VTt.ks()}},{key:"R_",get:function(){var t,n=null==(t=this.sAt)?void 0:t.jlt,i=null==n?void 0:n.jpt;if(n&&i){var r=i.getTime(),e=1e3*this.U_;return new Date(e+r)}},set:function(t){var n,i=null==(n=this.sAt)?void 0:n.jlt,r=null==i?void 0:i.jpt;if(t&&i&&r){var e=r.getTime()/1e3,u=t.getTime()/1e3;this.JA(u-e)}}},{key:"bt",get:function(){return this.bc}},{key:"FTt",get:function(){return void 0!==this.s5?this.s5:void 0!==this.HTt?this.HTt:this.Fm.U_}},{key:"U_",get:function(){return this.FTt},set:function(t){this.F_(t)}},{key:"ct",get:function(){var t=NaN;return this.CTt&&this.CTt.nmt?t=this.CTt.jn:this.sAt&&void 0!==this.sAt.jlt.Av&&(t=this.sAt.jlt.Upt?this.sAt.jlt.Upt.bmt():1/0),t}},{key:"jn",get:function(){return this.ct}},{key:"G_",get:function(){return!(!this.CTt||!this.CTt.nmt)&&(this.Eg?this.FTt===this.CTt.jn:this.Fm.G_)}},{key:"lt",get:function(){return this.vz}},{key:"H_",get:function(){return this.mz}},{key:"Z_",get:function(){}},{key:"eg",get:function(){return $u({},this.pTt,{qT:AT.lL.OP(),KT:this.KTt,JT:{amountOfBufferedAudioSegments:this.JTt,amountOfBufferedVideoSegments:this.$Tt}})}},{key:"pTt",get:function(){return function(t,n){return{HT:t.HT+n.HT,XT:t.XT+n.XT,ZT:t.ZT+n.ZT}}(this.mTt,this.Fm.rg())}},{key:"og",get:function(){return this.Fm.og},set:function(t){this.Fm.og=t}},{key:"fg",get:function(){return this.r5?this.tSt:this.CTt&&this.CTt.nmt?this.iSt:this.tSt}},{key:"gg",get:function(){return this.Fm.gg},set:function(t){this.Fm.gg=t}},{key:"pg",get:function(){var t=this.Uo;return this.CTt&&(t=t.YB(this.eSt)),t.FB(.1).ks()}},{key:"eSt",get:function(){return this.Fm.pg}},{key:"yg",get:function(){return this.Az},set:function(t){this.Az=t,this.nSt()}},{key:"Sg",get:function(){var t=this.Fm.Sg;return this.rSt&&(t=w.max(mk.Xn,t)),t}},{key:"ZTt",get:function(){return this.oSt(!1)}},{key:"hSt",get:function(){return this.oSt(!0)}},{key:"Ig",get:function(){return this.ZTt.ks()}},{key:"Eg",get:function(){return this.aU||this.aSt}},{key:"aSt",get:function(){return this.Fm.Eg}},{key:"s2",get:function(){return this.Fm.s2}},{key:"Mz",get:function(){}},{key:"uSt",get:function(){var t,n;return null!=(n=null==(t=this.sAt)?void 0:t.jlt.Av)?n:XU.Tj}},{key:"nt",get:function(){return this.Dl}},{key:"rt",get:function(){return this.VT}},{key:"Cg",get:function(){var t;return this.cSt||(null==(t=this.lSt())?void 0:t.Ti)||0}},{key:"Rg",get:function(){var t;return this.dSt||(null==(t=this.lSt())?void 0:t.ji)||0}},{key:"zg",get:function(){return this.Fm.zg},set:function(t){this.Fm.zg=Pi(t,0,1)}},{key:"Qg",get:function(){return this.bz}},{key:"Yg",get:function(){return!1},set:function(t){}},{key:"Tz",get:function(){return this.Sz}},{key:"iSt",get:function(){return this.Fm.fg}},{key:"cg",get:function(){return this.KMt}},{key:"K_",get:function(){return!1}},{key:"Km",get:function(){var t,n=null==(t=this.sAt)?void 0:t.jlt;if(n&&n.Av===XU.Sj&&n.jpt)return n.Olt().getTime()/1e3-n.jpt.getTime()/1e3-this.U_}}]),n}($o),QV=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).Qo=n,r}return bt(n,t),n.prototype.CNt=function(){this.Co(new Ak(this.U_,this.Sg))},At(n,[{key:"Sg",get:function(){return this.Qo.Sg}}]),n}(Ik);var YV=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,n,i,r,e,u,s,new PB(o))||this).hrt=o,xn.zk&&(a.jNt=new nP(Wt(a))),a}bt(n,t);var i=n.prototype;return i.Vg=function(){if(RB(this.Fm))return this.Fm.Vg()},i.gn=function(){var n=this;return Ot((function(){var i;return Rt(this,(function(r){switch(r.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return r.sent(),null==(i=n.jNt)||i.gn(),[2]}}))}))()},i.xSt=function(n){var i,r;return((null!=(r=null==(i=this.bc)?void 0:i.seamlessSwitchStrategy)?r:BN.LT)!==BN.LT||!xn.Kk)&&t.prototype.xSt.call(this,n)},i.jSt=function(){return!(xn.wk&&xn.pk<3)&&t.prototype.jSt.call(this)},i.ONt=function(){return new UB(this,new Fx)},i.uNt=function(t){return BB(t)},At(n,[{key:"cSt",get:function(){return RB(this.Fm)?this.Fm.Cg:0}},{key:"dSt",get:function(){return RB(this.Fm)?this.Fm.Rg:0}}]),n}(UV),FV=function(t){function n(n,i,r,e,u,s,o,a){var c,h=new tP(s),f=h.oB(o);return(c=t.call(this,n,i,r,e,u,f,a)||this).Yz=h,c}return bt(n,t),n.prototype.gn=function(){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return i.sent(),[4,n.Yz.Fz(n.Fm)];case 2:return i.sent(),[2]}}))}))()},n}(YV);yt(),C(),zt(),Mt(),Ut(),yt(),C(),zt(),Mt(),Ut(),yt(),C(),Xt(),pt(),Mt(),yt(),C(),pt(),Mt(),yt(),C(),pt(),Mt();var GV=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).ast=n,r}bt(n,t);var i=n.prototype;return i.j_=function(){return t.prototype.j_.call(this).KA(this.RNt)},i.Crt=function(){return t.prototype.Crt.call(this).KA(this.RNt)},i.V$=function(n,i,r){var e=this.RNt;return t.prototype.V$.call(this,n,{F7:i.F7-e,ct:i.ct,pI:i.pI-e},r)},i.u0=function(n,i){var r=this.RNt;return t.prototype.u0.call(this,w.max(0,n-r),w.max(0,i-r))},i.rS=function(n,i,r){var e=this.RNt;return t.prototype.rS.call(this,w.max(0,n-e),w.max(0,i-e),r)},i.B0=function(n,i){var r=this.RNt;t.prototype.B0.call(this,w.max(0,n-r),w.max(0,i-r))},i.U0=function(n,i){var r=this.RNt;t.prototype.U0.call(this,w.max(0,n-r),w.max(0,i-r))},At(n,[{key:"RNt",get:function(){return this.ast.RNt}}]),n}(XB),VV=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).Trt(i),r.ast=n,r}bt(n,t);var i=n.prototype;return i.Td=function(){return t.prototype.Td.call(this)+this.RNt},i.P1=function(n){t.prototype.P1.call(this,n-this.RNt)},i.Dg=function(){return t.prototype.Dg.call(this).KA(this.RNt)},i.Q1=function(n,i,r,e){var u=this.RNt;t.prototype.Q1.call(this,n-u,i-u,r,e)},i.Nrt=function(t){return new GV(this,t)},At(n,[{key:"RNt",get:function(){return this.ast.RNt}}]),n}(VB),WV=function(t){function n(n){var i;return(i=t.call(this,n)||this).PNt=0,i.oE=new UB(Wt(i),new Fx),i.Dl=new bT([i.oE.nt,t.prototype.xg.call(Wt(i))]),i.m7=new MO,i.m7.Y6(i.pz.parentElement),i.p7=new Xz(i.m7.we,i.Iu,i.Dl,i.Ol,i.ya),i}bt(n,t);var i=n.prototype;return i.j_=function(){return t.prototype.j_.call(this).KA(this.PNt)},i.P_=function(){return XV(t.prototype.P_.call(this),this.PNt)},i.Q_=function(){return t.prototype.Q_.call(this)+this.PNt},i.Td=function(){return t.prototype.Td.call(this)+this.PNt},i.Ag=function(){return t.prototype.Ag.call(this).KA(this.PNt)},i.Dg=function(){return t.prototype.Dg.call(this).KA(this.PNt)},i.JA=function(n,i,r){var e=w.max(0,n-this.PNt);t.prototype.JA.call(this,e,i,r)},i.gz=function(n){t.prototype.gz.call(this,XV(n,-this.PNt))},i.xg=function(){return this.Dl},i.rE=function(t,n,i,r,e,u,s,o){return this.oE.rE(t,n,i,r,e,u,s,o)},i.fE=function(t){this.oE.fE(t)},i.Pz=function(){this.oE.tr(),t.prototype.Pz.call(this)},i.Cz=function(){return!1},i.jz=function(t,n,i,r,e){throw new v("Not supported")},i.h_=function(){return this.p7.gn(),this.m7.gn(),this.oE.gn(),this.Dl.gn(),t.prototype.h_.call(this)},i.Art=function(t){return new VV(this,t)},i.prt=function(t){return new KB(t)},i.ew=function(n){var i;switch(n.type){case Al.jh:i=new yD(n.currentTime+this.PNt);break;case Al.Sh:i=new wD(n.currentTime+this.PNt);break;case gk.Sm:i=new Tk(n.currentTime+this.PNt);break;case Al.fm:i=new om(n.currentTime+this.PNt,XV(n.currentProgramDateTime,this.PNt));break;case Al.Zv:i=new UL(n.currentTime+this.PNt);break;case Al.im:i=new _D(n.currentTime+this.PNt);break;case Al.$v:i=new kD(n.currentTime+this.PNt);break;case Al.Uv:i=new vC(n.currentTime+this.PNt);break;case Al.Fv:i=new fO(n.currentTime+this.PNt);break;case Al.Ov:i=new pD(n.currentTime+this.PNt);break;case Al.qv:i=new AD(n.currentTime+this.PNt,n.playbackRate);break;case Al._m:i=new bD(n.currentTime+this.PNt,n.volume);break;case Al.Lv:i=new mD(n.duration+this.PNt);break;case gk.Nw:i=new Ak(n.currentTime+this.PNt,n.readyState);break;default:i=n}t.prototype.ew.call(this,i)},i.be=function(){t.prototype.be.call(this),this.m7.be()},i.ge=function(){t.prototype.ge.call(this),this.m7.ge()},At(n,[{key:"art",get:function(){return this.Fm}},{key:"RNt",get:function(){return this.PNt},set:function(t){this.PNt=t}}]),n}(qB);function XV(t,n){return t?new Date(t.getTime()+1e3*n):void 0}var ZV=function(t){function n(){return t.apply(this,arguments)}bt(n,t);var i=n.prototype;return i.oB=function(n){if(n===Gm.VA)return new WV(t.prototype.oB.call(this,n))},i.Fz=function(n){var i=this;return Ot((function(){var r;return Rt(this,(function(e){switch(e.label){case 0:return[4,(r=n).h_()];case 1:return e.sent(),[4,t.prototype.Fz.call(i,r.art)];case 2:return e.sent(),[2]}}))}))()},n}(QB),HV=function(t){function n(n,i,r,e,u,s,o,a){var c,h=new ZV(new tP(s)),f=h.oB(o);return(c=t.call(this,n,i,r,e,u,f,a)||this).Yz=h,c.zNt=void 0,c}bt(n,t);var i=n.prototype;return i.E1=function(n){var i=this;return Ot((function(){return Rt(this,(function(r){switch(r.label){case 0:return[4,t.prototype.E1.call(i,n)];case 1:return r.sent(),void 0===i.zNt&&(i.zNt=i.BNt(),i.Fm.RNt=i.zNt),[2]}}))}))()},i.BNt=function(){if(this.ct===1/0){var t=this.ZTt;if(t.U>0)return w.max(0,t.Cn(0)-300)}return 0},i.C5=function(n,i,r,e,u,s,o,a){return void 0===s&&(s=!1),void 0===o&&(o=VG.Dbt),void 0===a&&(a=!1),a||(a=this.ct===1/0&&xn.wk&&xn.pk<3&&n<=this.U_),t.prototype.C5.call(this,n,i,r,e,u,s,o,a)},i.tr=function(){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return[4,t.prototype.tr.call(n)];case 1:return i.sent(),n.zNt=void 0,n.Fm.RNt=0,[2]}}))}))()},i.gn=function(){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return i.sent(),[4,n.Fm.h_()];case 2:return i.sent(),[4,n.Yz.Fz(n.Fm)];case 3:return i.sent(),[2]}}))}))()},n.LO=function(t){var n;return(!t||"google-dai"!==(null==t||null==(n=t.ssai)?void 0:n.integration))&&(xn.wk&&xn.pk<4)},n}(YV);yt(),C(),zt(),Mt(),Ut(),yt(),C(),zt(),Mt(),Ut(),yt(),C(),pt(),Mt(),yt(),C(),Xt(),zt(),pt(),Mt(),Ut(),yt(),C(),pt(),Mt();var KV=function(t){function n(n){return t.call(this,n)}return bt(n,t),At(n,[{key:"art",get:function(){return this.Fm}},{key:"Cg",get:function(){return this.Fm.Cg}},{key:"Rg",get:function(){return this.Fm.Rg}}]),n}(YB);yt(),C(),zt(),Mt(),Ut(),yt(),C(),zt(),Mt(),Ut(),yt(),C(),zt(),Mt(),Ut();var qV=function(t){function n(n){var i;return(i=t.call(this,n)||this).b0=void 0,i.UNt=void 0,i.fX=0,i.QNt=HD.oU(),i.FNt=HD.oU(),i.HNt=[],i.B7=!1,i.WNt=!1,i.cX=0,i.GO=n.wd,i}bt(n,t);var i=n.prototype;return i.krt=function(){return this.UNt?this.fX:t.prototype.krt.call(this)},i.Lrt=function(n){this.UNt?this.fX=n:t.prototype.Lrt.call(this,n)},i.j_=function(){return this.UNt?this.QNt:t.prototype.j_.call(this)},i.wO=function(){return this.UNt?this.GO:t.prototype.wO.call(this)},i.Crt=function(){return this.UNt?this.FNt:t.prototype.Crt.call(this)},i.Ort=function(){return this.UNt?this.cX:t.prototype.Ort.call(this)},i.jrt=function(n){this.UNt?this.cX=n:t.prototype.jrt.call(this,n)},i.V$=function(t,n,i){var r=this;return this.W$((function(i){return r.YNt(t,n,i)}),i)},i.YNt=function(n,i,r){return t.prototype.V$.call(this,n,i,r)},i.Q0=function(){var t=this;return this.W$((function(){return t.GNt()}))},i.GNt=function(){return t.prototype.Q0.call(this)},i.X$=function(t,n,i){var r=this;return this.W$((function(i){return r.VNt(t,n,i)}),i)},i.VNt=function(n,i,r){return t.prototype.X$.call(this,n,i,r)},i.oq=function(){return this.UNt?this.B7:t.prototype.oq.call(this)},i.x0=function(){this.UNt?this.WNt=!0:t.prototype.x0.call(this)},i.B0=function(t,n){this.v0(),this.UNt?(this.FNt=this.FNt.YB(new HD([t,n])),this.HNt.push({Av:"Kut",MS:t,bS:n})):this.XNt(t,n)},i.XNt=function(n,i){t.prototype.B0.call(this,n,i)},i.u0=function(t,n){var i=this;return this.W$((function(){return i.ZNt(t,n)}))},i.ZNt=function(n,i){return t.prototype.u0.call(this,n,i)},i.U0=function(t,n){this.v0(),this.UNt?(this.FNt=this.FNt.VB(new HD([t,n])),this.HNt.push({Av:"rS",MS:t,bS:n})):this.qNt(t,n)},i.qNt=function(n,i){t.prototype.U0.call(this,n,i)},i.rS=function(t,n,i){var r=this;return this.W$((function(i){return r.KNt(t,n,i)}),i)},i.KNt=function(n,i,r){return t.prototype.rS.call(this,n,i,r)},i.GZ=function(t){var n=this;return this.W$((function(){return n.JNt(t)}))},i.JNt=function(n){return t.prototype.GZ.call(this,n)},i.W$=function(t,n){var i=this;return Ot((function(){return Rt(this,(function(r){switch(r.label){case 0:return i.v0(),i.UNt?[4,Yo(i.UNt.OL,n)]:[3,2];case 1:r.sent(),i.v0(),r.label=2;case 2:Po(n),r.label=3;case 3:return r.trys.push([3,,5,6]),i.b0=t(n),[4,i.b0];case 4:return r.sent(),[3,6];case 5:return i.b0=void 0,[7];case 6:return[2]}}))}))()},i.v0=function(){if(this.b0)throw new v("Internal error")},i.$Nt=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:if(t.UNt)throw new l("Already locked");return t.UNt=new Bc,t.tIt(),t.b0?[4,t.b0.catch(Kn)]:[3,2];case 1:n.sent(),t.tIt(),n.label=2;case 2:return[2]}}))}))()},i.iIt=function(){var t;null==(t=this.UNt)||t.LL(),this.UNt=void 0,this.eIt()},i.tIt=function(){this.GO=t.prototype.wO.call(this),this.fX=t.prototype.krt.call(this),this.cX=t.prototype.Ort.call(this),this.QNt=t.prototype.j_.call(this),this.FNt=t.prototype.Crt.call(this),this.B7=t.prototype.oq.call(this),this.WNt=!1},i.eIt=function(){this.v0(),t.prototype.Lrt.call(this,this.fX),t.prototype.jrt.call(this,this.cX);var n=this.HNt.slice();po(this.HNt);for(var i=0;i<n.length;i++){var r=n[i];"Kut"===r.Av?this.XNt(r.MS,r.bS):this.qNt(r.MS,r.bS)}this.WNt&&t.prototype.x0.call(this),this.QNt.KB(t.prototype.j_.call(this))||this.Co(new ra(EL.CZ))},i.h_=function(){var n;null==(n=this.UNt)||n.g_(),this.UNt=void 0,t.prototype.h_.call(this)},n}(XB),JV=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).sIt=void 0,r.ast=n,r}bt(n,t);var i=n.prototype;return i.j_=function(){var n,i;return t.prototype.j_.call(this).YB(null!=(i=null==(n=this.sIt)?void 0:n.O_)?i:HD.oU())},i.Crt=function(){var n,i;return t.prototype.Crt.call(this).YB(null!=(i=null==(n=this.sIt)?void 0:n.R0)?i:HD.oU())},i.Lrt=function(n){t.prototype.Lrt.call(this,n),this.sIt&&(this.sIt.rX=n)},i.jrt=function(n){t.prototype.jrt.call(this,n),this.sIt&&(this.sIt.iX=n)},i.XNt=function(n,i){t.prototype.XNt.call(this,n,i),this.sIt&&this.sIt.B0(n,i)},i.qNt=function(n,i){t.prototype.qNt.call(this,n,i),this.sIt&&this.sIt.U0(n,i)},i.KNt=function(n,i,r){var e=this;return Ot((function(){var u;return Rt(this,(function(s){switch(s.label){case 0:return Po(r),(u=[]).push(t.prototype.KNt.call(e,n,i,r)),e.sIt&&u.push(e.sIt.rS(n,i,r)),[4,q.all(u)];case 1:return s.sent(),[2]}}))}))()},i.FZ=function(n){return!!t.prototype.FZ.call(this,n)||this.ast.nIt(n)},i.JNt=function(n){return t.prototype.FZ.call(this,n)?t.prototype.JNt.call(this,n):this.ast.rIt(n)},i.oIt=function(t){var n,i;null==(n=this.sIt)||n.fn(xL,this.Rrt),this.sIt=t,null==(i=this.sIt)||i.yn(xL,this.Rrt)},n}(qV),$V=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).hIt=void 0,r.jx=NaN,r.fIt=!1,r._It=!1,r.gIt=void 0,r.Trt(i),r.ast=n,r}bt(n,t);var i=n.prototype;return i.FZ=function(n){var i=void 0!==this.O1,r=void 0!==this.j1,e=n.F1.some((function(t){return Bs(t.Nz,"audio")})),u=n.F1.some((function(t){return Bs(t.Nz,"video")}));return i===e&&r===u&&(!!t.prototype.FZ.call(this,n)||(!(!this.hIt||!this.hIt.FZ(n))||this.ast.aIt(n)))},i.GZ=function(n){var i=this;return Ot((function(){return Rt(this,(function(r){switch(r.label){case 0:return t.prototype.FZ.call(i,n)?[4,t.prototype.GZ.call(i,n)]:[3,2];case 1:case 3:case 6:return[2,r.sent()];case 2:return i.hIt&&i.hIt.FZ(n)?(i.uIt(),[4,i.GZ(n)]):[3,4];case 4:return[4,i.ast.cIt(n)];case 5:return r.sent(),[4,i.GZ(n)];case 7:return[2]}}))}))()},i.nIt=function(t){return this.FZ(this.lIt(t))},i.rIt=function(t){return this.GZ(this.lIt(t))},i.lIt=function(t){var n=this.wd,i=n.F1.map((function(n){return Bs(t.Nz,"audio")&&Bs(n.Nz,"audio")||Bs(t.Nz,"video")&&Bs(n.Nz,"video")?t:n}));return $u({},n,{F1:i})},i.Q1=function(n,i,r,e){t.prototype.Q1.call(this,n,i,r,e),this.hIt&&this.hIt.Q1(n,i,r,e)},i.dIt=function(){return!this.fIt&&this._It},i.Td=function(){return void 0!==this.gIt?this.gIt:this.dIt()?this.jx:t.prototype.Td.call(this)},i.P1=function(n){this.jx=n,this.gIt=void 0,this.dIt()||t.prototype.P1.call(this,n)},i.brt=function(){return!this.dIt()&&t.prototype.brt.call(this)},i.x0=function(){this.gIt=w.max(nW(this.yz.I1),nW(this.yz.D1)),this.dIt()||t.prototype.x0.call(this)},i.M0=function(){this.gIt=void 0,this.dIt()||t.prototype.M0.call(this)},i.Nrt=function(t){return new JV(this,t)},i.wIt=function(){this.fIt=!this.fIt},i.uIt=function(){var t=this.yz,n=this.hIt;n&&(this.fIt=!this.fIt,this.Trt(n),this.vIt(t),this.dIt()&&this.mIt())},i.vIt=function(t){var n,i;this.hIt=t,null==(n=this.O1)||n.oIt(null==t?void 0:t.I1),null==(i=this.j1)||i.oIt(null==t?void 0:t.D1)},i.pIt=function(t){var n=this.yz,i=this.hIt;if(i){var r=this.fIt,e=r?n:i,u=(r?i:n).O_.Jm(t);if(u){var s=lP(e.O_,this.Crt()).Jm(u.jn(0),qi);if(s&&!(u.jn(0)+qi>=s.jn(0)))return w.max(u.jn(0),s.Cn(0))}}},i.AIt=function(t,n){var i=this;if(this._It)return q.resolve();var r=this.fIt?this.hIt:this.yz;return r?(this._It=!0,this.yIt((function(n){if(Po(n),i._It)return function(t,n,i){return tW.apply(this,arguments)}(r,t,n)}),n)):q.resolve()},i.mIt=function(){if(this._It){var t=this.fIt?this.hIt:this.yz;if(t){var n;0,this._It=!1;var i=null!=(n=this.gIt)?n:this.jx;t.ct<i&&t.P1(i),t.M0()}}},i.MIt=function(t){var n,i=null!=(n=this.gIt)?n:this.jx;t.P1(i),this.fIt?this.Trt(t):this.vIt(t)},i.Crt=function(){var t,n,i,r,e=null!=(i=null==(t=this.O1)?void 0:t.R0)?i:HD.oU(),u=null!=(r=null==(n=this.j1)?void 0:n.R0)?r:HD.oU();return e.YB(u)},i.yIt=function(t,n){var i=this;return Ot((function(){var r;return Rt(this,(function(e){switch(e.label){case 0:r=[],i.O1&&r.push(i.O1.$Nt()),i.j1&&r.push(i.j1.$Nt()),e.label=1;case 1:return e.trys.push([1,,4,5]),[4,q.all(r)];case 2:return e.sent(),[4,t(n)];case 3:return e.sent(),[3,5];case 4:return i.O1&&i.O1.iIt(),i.j1&&i.j1.iIt(),[7];case 5:return[2]}}))}))()},i.Drt=function(n){n.type===EL.CZ&&this.ast.I0(),t.prototype.Drt.call(this,n)},n}(VB);function tW(){return tW=Ot((function(t,n,i){var r;return Rt(this,(function(e){switch(e.label){case 0:return Po(i),r=[],t.I1&&r.push(uC(t.I1,n,i)),t.D1&&r.push(uC(t.D1,n,i)),[4,q.all(r)];case 1:return e.sent(),t.x0(),[2]}}))})),tW.apply(this,arguments)}function nW(t){if(!t)return 0;var n=t.O_;return n.U>0?n.jn(n.U-1):0}function iW(t){return t.wd.Av===dk.Sj}yt(),C();var rW=function(t){function n(n,i,r){var e;return(e=t.call(this,n)||this).SIt=!1,e.s5=void 0,e.O5=NaN,e.Uo=HD.oU(),e.cU=!0,e.RIt=!1,e.EB=!0,e.LIt=void 0,e.IIt=void 0,e.NIt=new zo,e.L5=new zo,e.TIt=i,e.EIt=n,e.Fm.ge(),e.TIt.be(),e.oE=new UB(Wt(e),r),e.Dl=new bT([e.oE.nt,t.prototype.xg.call(Wt(e))]),e}bt(n,t);var i=n.prototype;return i.j_=function(){return t.prototype.j_.call(this).YB(this.TIt.O_)},i.Td=function(){if(!this.SIt){var n=this.yz;if(n&&iW(n))return n.ct}return t.prototype.Td.call(this)},i.crt=function(){return!!t.prototype.crt.call(this)&&!(!this.SIt&&!this.oq())},i.lrt=function(){return!!t.prototype.lrt.call(this)&&!(!this.SIt&&t.prototype.crt.call(this)&&!this.oq())},i.oq=function(){var t=this.yz;return!(!t||!iW(t))&&t.oq},i.Ag=function(){return this.Uo.YB(this.Fm.pg)},i.Dg=function(){return t.prototype.Dg.call(this).YB(this.TIt.Ig)},i.Ng=function(){return t.prototype.Ng.call(this)},i.urt=function(){var n;return null!=(n=t.prototype.urt.call(this))?n:this.TIt.Mz},i.Xg=function(){return this.cU=!1,t.prototype.Xg.call(this)},i.Hg=function(){this.cU=!0,t.prototype.Hg.call(this)},i.z6=function(){this.SIt=!0,t.prototype.z6.call(this),this.TIt.z6()},i.B6=function(){this.SIt=!1,t.prototype.B6.call(this),this.TIt.z6()},i.Q_=function(){var n;return null!=(n=this.s5)?n:t.prototype.Q_.call(this)},i.Lg=function(){return void 0!==this.s5||t.prototype.Lg.call(this)},i.JA=function(t,n,i){void 0===n&&(n=!1),void 0===i&&(i=!1),this.NIt.g_(),this.L5.g_(),this.L5=new zo,this.IIt=this.C5(t,n,i,this.IIt,this.L5.f_).catch(Kn)},i.C5=function(n,i,r,e,u){var s=this;return Ot((function(){return Rt(this,(function(o){switch(o.label){case 0:return s.s5=n,s.O5=n,s.Co(new _D(n)),e?[4,e.catch(Kn)]:[3,2];case 1:o.sent(),o.label=2;case 2:return Po(u),s.yz&&iW(s.yz)&&s.yz.mIt(),s.s5=void 0,t.prototype.JA.call(s,n,i,r),s.TIt.JA(n,i,r),s.DIt(),[2]}}))}))()},i.gz=function(t){var n=this.Mz;if(n&&!A(n.getTime())){var i=(t.getTime()-n.getTime())/1e3;this.JA(i)}},i.F6=function(){t.prototype.F6.call(this),this.TIt.F6()},i.be=function(){this.EB&&(this.EB=!1,this.EIt.be())},i.ge=function(){this.EB||(this.EB=!0,this.EIt.ge())},i.kIt=function(){var t=this;return Ot((function(){var n;return Rt(this,(function(i){switch(i.label){case 0:return t.s5=void 0,t.O5=NaN,t.Uo=HD.oU(),null==(n=t.LIt)||n.g_(),t.NIt.g_(),t.L5.g_(),t.IIt?[4,t.IIt.catch(Kn)]:[3,2];case 1:i.sent(),t.IIt=void 0,i.label=2;case 2:return[2]}}))}))()},i.wrt=function(n){t.prototype.wrt.call(this,n),this.TIt.Qz=n},i.vrt=function(n){t.prototype.vrt.call(this,n),this.TIt.G6=n},i.xg=function(){return this.Dl},i.rE=function(t,n,i,r,e,u,s,o){return this.oE.rE(t,n,i,r,e,u,s,o)},i.fE=function(t){this.oE.fE(t)},i.Pz=function(){this.oE.tr(),t.prototype.Pz.call(this)},i.$n=function(n){var i=this;return Ot((function(){var r;return Rt(this,(function(e){switch(e.label){case 0:return[4,t.prototype.$n.call(i,n)];case 1:return iW(r=e.sent())&&i.DIt(),[2,r]}}))}))()},i.tr=function(){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return[4,n.kIt()];case 1:return i.sent(),[4,t.prototype.tr.call(n)];case 2:return i.sent(),[4,n.TIt.tr()];case 3:return i.sent(),[2]}}))}))()},i.h_=function(){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return[4,n.kIt()];case 1:return i.sent(),n.oE.gn(),n.Dl.gn(),[4,t.prototype.h_.call(n)];case 2:return i.sent(),[2]}}))}))()},i.Art=function(t){return new $V(this,t)},i.prt=function(t){return new KB(t)},i.DIt=function(){this.NIt.g_(),this.NIt=new zo,this.IIt=this.xIt(this.IIt,this.NIt.f_).catch(Kn)},i.xIt=function(t,n){var i=this;return Ot((function(){var r;return Rt(this,(function(e){switch(e.label){case 0:return t?[4,t.catch(Kn)]:[3,2];case 1:e.sent(),e.label=2;case 2:if(!i.yz||!iW(i.yz))return[2];e.label=3;case 3:0,Po(n),i.CIt()&&i.wIt(),r=void 0,i.yz.mIt(),Po(n),e.label=4;case 4:return Po(n),i.CIt()?[3,8]:void 0===(r=i.yz.pIt(i.Q_()))?[3,6]:(i.OIt(),[4,i.yz.AIt(r,n)]);case 5:return e.sent(),Po(n),i.TIt.JA(r),[3,8];case 6:return[4,Go((function(t){return q.race([i.k_(Al.fm,t),i.jIt(t)])}),n)];case 7:return e.sent(),[3,4];case 8:Po(n),e.label=9;case 9:return i.CIt()?[3,11]:[4,i.Fm.k_([Al.fm,Al.Ov,gk.Nw],n)];case 10:return e.sent(),[3,9];case 11:return[3,3];case 12:return[2]}}))}))()},i.CIt=function(){var t=this.yz;if(void 0===t||!iW(t))return!1;var n=this.Q_(),i=this.Fm.O_;return!(!this.Fm.G_&&i.gr(n))&&!!lP(this.TIt.O_,t.Crt()).ZB(n,n+qi)},i.wIt=function(){if(!this.RIt){0,this.RIt=!0,this.Uo=this.Ag();var t=gC(this),n=this.Lg(),i=this.Ng(),r=this.Fm,e=this.TIt,u=this.yz;u.mIt(),u.wIt(),wC(e,t),this.Mrt(e),this.TIt=r,r.Hg(),r.og=!0,this.RIt=!1;var s=this.Lg();n!==s&&(s?this.Co(new _D(this.U_)):this.Co(new kD(this.U_)));var o=this.Ng();i!==o&&this.Co(new Ak(this.U_,o)),s||this.OIt()}},i.OIt=function(){var t=this.Fm,n=this.EIt;if(n!==t){0;var i=this.Rg,r=this.Cg;this.EIt=t,this.EB&&(n.be(),t.ge());var e=this.Rg,u=this.Cg;e>0&&u>0&&(i!==e||r!==u)&&this.Co(new wk)}},i.aIt=function(t){return void 0!==this.TIt.dq([t])},i.cIt=function(t){var n=this;return Ot((function(){var i,r,e;return Rt(this,(function(u){switch(u.label){case 0:return n.OIt(),i=n.yz,[4,(r=n.TIt).tr()];case 1:return u.sent(),[4,r.$n(t)];case 2:return e=u.sent(),i.MIt(e),[2]}}))}))()},i.jIt=function(t){return this.LIt=new Bc,Yo(this.LIt.OL,t)},i.I0=function(){var t;null==(t=this.LIt)||t.LL()},i.ew=function(n){n.type===Al.im&&this.O5===n.currentTime||(n.type===Al.$v&&(this.O5=NaN,this.OIt()),n.type!==gk.Nw&&n.type!==Al.Sh&&n.type!==Al.Ov||this.RIt||!this.CIt()?(n.type!==Al.Ov||this.G_)&&t.prototype.ew.call(this,n):this.DIt())},At(n,[{key:"bIt",get:function(){return this.TIt}},{key:"Cg",get:function(){return this.EIt.Cg}},{key:"Rg",get:function(){return this.EIt.Rg}}]),n}(KV),eW=function(t){function n(n,i){var r;return(r=t.call(this,n,i,new Fx)||this).m7=new MO,r.m7.Y6(n.pz.parentElement),r.p7=new Xz(r.m7.we,r.Iu,r.nt,r.Ol,r.ya),r}bt(n,t);var i=n.prototype;return i.be=function(){t.prototype.be.call(this),this.m7.be()},i.ge=function(){t.prototype.ge.call(this),this.m7.ge()},i.Y6=function(t){this.Fm.Y6(t),this.TIt.Y6(t)},i.K3=function(){this.Fm.K3()},i.$g=function(){this.Fm.$g(),this.TIt.$g()},i.Vg=function(){return this.Fm.Vg()},i.Mrt=function(n){var i=this.Gg(),r=this.Vg();t.prototype.Mrt.call(this,n),this.Gg()!==i&&this.Co(new xD),this.Vg()!==r&&this.Co(new OD)},i.h_=function(){return this.p7.gn(),this.m7.gn(),t.prototype.h_.call(this)},At(n,[{key:"art",get:function(){return this.Fm}},{key:"bIt",get:function(){return this.TIt}},{key:"pz",get:function(){return this.Fm.pz}},{key:"l2",get:function(){return this.Fm.l2}},{key:"Yg",get:function(){return this.Fm.Yg},set:function(t){this.Fm.Yg=t}}]),n}(rW),uW=function(t){function n(){return t.apply(this,arguments)}bt(n,t);var i=n.prototype;return i.oB=function(n){if(n===Gm.VA){var i=t.prototype.oB.call(this,n),r=t.prototype.oB.call(this,n);return new eW(i,r)}return t.prototype.oB.call(this,n)},i.Fz=function(n){var i=this,r=function(){return t.prototype.Fz};return Ot((function(){return Rt(this,(function(t){switch(t.label){case 0:return n instanceof eW?[4,n.h_()]:[3,4];case 1:return t.sent(),[4,r().call(i,n.art)];case 2:return t.sent(),[4,r().call(i,n.bIt)];case 3:return t.sent(),[3,6];case 4:return[4,r().call(i,n)];case 5:t.sent(),t.label=6;case 6:return[2]}}))}))()},n}(QB),sW=function(t){function n(n,i,r,e,u,s,o,a){var c,h=new tP(new uW(s)),f=h.oB(o);return(c=t.call(this,n,i,r,e,u,f,a)||this).Yz=h,c}return bt(n,t),n.prototype.gn=function(){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return i.sent(),[4,n.Yz.Fz(n.Fm)];case 2:return i.sent(),[2]}}))}))()},n.LO=function(t){var n;return!xn.Qs&&!xn.Xk&&!(t&&"google-dai"===(null==(n=t.ssai)?void 0:n.integration))},n}(YV);yt(),C(),zt(),Mt(),Ut(),yt(),C(),zt(),pt(),Mt(),Ut(),yt(),C(),zt(),Mt(),Ut();var oW=function(t){function n(n){var i;return(i=t.call(this,n)||this).PIt=!1,i.QNt=HD.oU(),i.jx=0,i.zIt=!1,i.B7=!1,i.WNt=void 0,i.U1=HD.oU(),i.BIt=void 0,i.Trt(n),i.GO=n.wd,i}bt(n,t);var i=n.prototype;return i.Nrt=function(t){return new qV(t)},i.wO=function(){return this.PIt?this.GO:t.prototype.wO.call(this)},i.j_=function(){return this.PIt?this.QNt:t.prototype.j_.call(this)},i.Td=function(){return this.PIt?this.jx:t.prototype.Td.call(this)},i.P1=function(n){this.PIt?(this.jx=n,this.zIt=!0):t.prototype.P1.call(this,n)},i.Dg=function(){return this.PIt?this.BIt?this.BIt.V0():this.U1:t.prototype.Dg.call(this)},i.Q1=function(n,i,r,e){this.PIt?this.BIt=new tC(n,i,r,e):t.prototype.Q1.call(this,n,i,r,e)},i.brt=function(){return this.PIt?this.B7&&!1!==this.WNt:t.prototype.brt.call(this)},i.x0=function(){this.PIt?this.WNt=!0:t.prototype.x0.call(this)},i.M0=function(){this.PIt?this.WNt=!1:t.prototype.M0.call(this)},i.FZ=function(n){return!this.PIt&&t.prototype.FZ.call(this,n)},i.GZ=function(n){return this.PIt?q.reject(new l("Not supported")):t.prototype.GZ.call(this,n)},i.$Nt=function(){var t=this;return Ot((function(){var n;return Rt(this,(function(i){switch(i.label){case 0:if(t.PIt)throw new l("Already locked");return t.PIt=!0,t.tIt(),n=[],t.O1&&n.push(t.O1.$Nt()),t.j1&&n.push(t.j1.$Nt()),[4,q.all(n)];case 1:return i.sent(),[2]}}))}))()},i.iIt=function(){this.PIt=!1,this.O1&&this.O1.iIt(),this.j1&&this.j1.iIt(),this.eIt()},i.tIt=function(){this.GO=t.prototype.wO.call(this),this.QNt=t.prototype.j_.call(this),this.jx=t.prototype.Td.call(this),this.U1=t.prototype.Dg.call(this),this.zIt=!1,this.WNt=void 0,this.BIt=void 0},i.eIt=function(){if(this.zIt&&(t.prototype.P1.call(this,this.jx),this.zIt=!1),void 0!==this.BIt){var n=this.BIt;t.prototype.Q1.call(this,n.Cn,n.jn,n.W0,n.H0),this.BIt=void 0}void 0!==this.WNt&&(this.WNt?t.prototype.x0.call(this):t.prototype.M0.call(this),this.WNt=void 0)},n}(VB),aW=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).QIt=!1,n.YIt=!1,n.XIt=void 0,n.HIt=void 0,n.WIt=new zo,n}bt(n,t);var i=n.prototype;return i.Xg=function(){return void 0!==this.yz&&iW(this.yz)&&this.G_&&this.JA(0),t.prototype.Xg.call(this)},i.JA=function(n,i,r){void 0!==this.yz&&iW(this.yz)&&this.G_&&n<this.ct&&this.UIt(),t.prototype.JA.call(this,n,i,r)},i.z6=function(){this.QIt=!0,t.prototype.z6.call(this)},i.B6=function(){this.QIt=!1,this.FIt()||t.prototype.B6.call(this)},i.FIt=function(){return this.QIt||this.YIt},i.GIt=function(){this.YIt||(this.YIt=!0,t.prototype.z6.call(this))},i.VIt=function(){this.YIt&&(this.YIt=!1,this.FIt()||t.prototype.B6.call(this))},i.$n=function(t){this.WIt.g_();var n=this.nst(t,this.HIt);return this.XIt=n,n},i.nst=function(n,i){var r=this;return Ot((function(){return Rt(this,(function(e){switch(e.label){case 0:return i?[4,i.catch(Kn)]:[3,2];case 1:e.sent(),e.label=2;case 2:return r.VIt(),[4,t.prototype.$n.call(r,n)];case 3:return[2,e.sent()]}}))}))()},i.Art=function(t){return new oW(t)},i.prt=function(t){return new KB(t)},i.tr=function(){this.WIt.g_();var t=this.bNt(this.HIt);return this.XIt=t,t},i.bNt=function(n){var i=this;return Ot((function(){return Rt(this,(function(r){switch(r.label){case 0:return n?[4,n.catch(Kn)]:[3,2];case 1:r.sent(),r.label=2;case 2:return i.VIt(),[4,t.prototype.tr.call(i)];case 3:return[2,r.sent()]}}))}))()},i.UIt=function(){this.GIt(),this.WIt.g_(),this.WIt=new zo,this.HIt=Fo(this.ZIt(this.XIt,this.HIt,this.WIt.f_),this.WIt).catch(Qo)},i.ZIt=function(t,n,i){var r=this;return Ot((function(){var e,u,s;return Rt(this,(function(o){switch(o.label){case 0:return t?[4,t.catch(Kn)]:[3,2];case 1:o.sent(),o.label=2;case 2:return n?[4,n.catch(Kn)]:[3,4];case 3:o.sent(),o.label=4;case 4:return Po(i),(e=r.yz)&&iW(e)?(u=e.wd,[4,e.$Nt()]):[2];case 5:return o.sent(),[4,r.Fm.tr()];case 6:return o.sent(),[4,r.Fm.$n(u)];case 7:return(s=o.sent()).P1(e.ct),e.Trt(s),e.iIt(),r.VIt(),[2]}}))}))()},i.h_=function(){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return n.WIt.g_(),n.HIt?[4,n.HIt.catch(Kn)]:[3,2];case 1:i.sent(),n.HIt=void 0,i.label=2;case 2:return n.FIt()&&t.prototype.B6.call(n),[4,t.prototype.h_.call(n)];case 3:return i.sent(),[2]}}))}))()},At(n,[{key:"art",get:function(){return this.Fm}}]),n}(qB),cW=function(t){function n(){return t.apply(this,arguments)}bt(n,t);var i=n.prototype;return i.oB=function(n){if(n===Gm.VA)return new aW(t.prototype.oB.call(this,n))},i.Fz=function(n){var i=this;return Ot((function(){var r;return Rt(this,(function(e){switch(e.label){case 0:return[4,(r=n).h_()];case 1:return e.sent(),[4,t.prototype.Fz.call(i,r.art)];case 2:return e.sent(),[2]}}))}))()},n.LO=function(){return xn.qk},n}(QB),hW=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).uB=wT.zP,n}bt(n,t);var i=n.prototype;return i.Yp=function(t,n,i,r,e,u,s,o){var a,c=new _B(zB.lL.Pnt,zB.lL.Rnt,zB.lL.jnt,zB.lL.Bnt);a=HV.LO(o)?HV:sW.LO(o)?sW:FV;var h=n;return cW.LO()&&(h=new cW(h)),new a(i,r,e,u,c,h,Gm.VA,t)},i.aB=function(){return!0},n}(mB);QD(new hW),yt(),C(),yt(),C(),Mt(),PT((function(t){return function(t){function n(){return t.apply(this,arguments)}return bt(n,t),n.prototype.fa=function(){var n=this.Z_.va;return km(t.prototype.fa.call(this),{get hesp(){return n}})},n}(t)}),OT.Za),yt(),C(),Mt(),yt(),C(),zt(),Mt(),Ut(),yt(),C(),Xt(),zt(),pt(),Mt(),Ut(),yt(),C(),zt(),Ut(),yt(),C(),Ct();var fW=0;function vW(t,n){if(void 0===n&&(n=!0),t){var i=t;return"/"===i.charAt(0)&&(i=i.substring(1)),n&&"/"!==i.charAt(i.length-1)&&(i+="/"),i}}function lW(t){var n,i,r;return $u({},t,{baseUrl:vW(t.baseUrl),id:null!=(n=t.id)?n:String(fW++),timeBounds:$u({},t.timeBounds,{scale:null!=(i=t.timeBounds.timescale)?i:1e3}),currentTime:t.currentTime?{value:t.currentTime.timestamp,scale:null!=(r=t.currentTime.timescale)?r:1e3}:void 0,audio:t.audio.map(AW),video:t.video.map(_W),metadata:t.metadata.map(bW),events:t.events.map(IW)})}var dW=0;function gW(t){var n,i=vW(t.initPattern,!1),r=vW(t.contPattern,!1);return $u({},t,{id:null!=(n=t.id)?n:String(dW++),continuationPattern:r?zs(r,"${segmentId}","{segmentId}"):void 0,initializationPattern:i?zs(i,"${initId}","{initId}"):void 0})}function wW(t){var n,i=vW(t.initPattern,!1),r=vW(t.contPattern,!1);return $u({},t,{continuationPattern:r?zs(r,"${segmentId}","{segmentId}"):void 0,initializationPattern:i?zs(i,"${initId}","{initId}"):void 0,segmentDuration:t.segmentDuration?{value:t.segmentDuration.duration,scale:t.segmentDuration.timescale}:void 0,segments:t.segments.map(yW),activeSegment:null==(n=co(t.segments,(function(t){return t.active})))?void 0:n.id})}function yW(t){var n;return $u({},t,{timeBounds:$u({},t.timeBounds,{endTime:void 0!==t.timeBounds.duration?t.timeBounds.startTime+t.timeBounds.duration:void 0,scale:null!=(n=t.timeBounds.timescale)?n:1e3})})}function mW(t){return t&&"-"===t.charAt(0)}function AW(t){var n;try{var i;n=y(null!=(i=t.channels)?i:"2")}catch(t){n=2}return mW(t.contPattern)||mW(t.initPattern)?function(t,n){var i=t.initPattern,r=t.contPattern;return t.initPattern=void 0,t.contPattern=void 0,$u({},gW(t),{baseUrl:vW(t.baseUrl),language:"eng",channels:n,sampleRate:t.samplerate,tracks:t.tracks.map((function(t){var n,e;return t.initPattern=null!=(n=t.initPattern)?n:i,t.contPattern=null!=(e=t.contPattern)?e:r,pW(t)}))})}(t,n):$u({},gW(t),{baseUrl:vW(t.baseUrl),language:"eng",channels:n,sampleRate:t.samplerate,tracks:t.tracks.map(pW)})}function pW(t){var n;try{var i;n=y(null!=(i=t.channels)?i:"2")}catch(t){n=2}return mW(t.contPattern)||mW(t.initPattern)?function(t,n){return t.contPattern=t.baseUrl+t.contPattern,t.initPattern=t.baseUrl+t.initPattern,$u({},wW(t),{baseUrl:"./",channels:n,sampleRate:t.samplerate})}(t,n):$u({},wW(t),{baseUrl:vW(t.baseUrl),channels:n,sampleRate:t.samplerate})}function _W(t){return mW(t.contPattern)||mW(t.initPattern)?function(t){var n=t.initPattern,i=t.contPattern;return t.initPattern=void 0,t.contPattern=void 0,$u({},gW(t),{baseUrl:vW(t.baseUrl),frameRate:t.framerate?{value:t.framerate.rate,scale:t.framerate.scale}:void 0,tracks:t.tracks.map((function(t){return t.initPattern=n,t.contPattern=i,kW(t)}))})}(t):$u({},gW(t),{baseUrl:vW(t.baseUrl),frameRate:t.framerate?{value:t.framerate.rate,scale:t.framerate.scale}:void 0,tracks:t.tracks.map(kW)})}function kW(t){var n,i;return mW(t.contPattern)||mW(t.initPattern)?function(t){var n,i;return t.contPattern=t.baseUrl+t.contPattern,t.initPattern=t.baseUrl+t.initPattern,$u({},wW(t),{baseUrl:"./",frameRate:t.framerate?{value:t.framerate.rate,scale:t.framerate.scale}:void 0,resolution:$u({},t.resolution,{sarWidth:null==(n=t.resolution.sar)?void 0:n.width,sarHeight:null==(i=t.resolution.sar)?void 0:i.height})})}(t):$u({},wW(t),{baseUrl:vW(t.baseUrl),frameRate:t.framerate?{value:t.framerate.rate,scale:t.framerate.scale}:void 0,resolution:$u({},t.resolution,{sarWidth:null==(n=t.resolution.sar)?void 0:n.width,sarHeight:null==(i=t.resolution.sar)?void 0:i.height})})}function bW(t){var n;return $u({},t,{id:null!=(n=t.id)?n:String(dW++),schemeId:"",tracks:t.tracks.map(MW)})}function MW(t){return $u({},t,{segments:t.segments.map(NW)})}var TW=0;function NW(t){return{id:TW++,timeBounds:$u({},t.timeBounds,{scale:t.timeBounds.timescale})}}var DW=0;function IW(t){var n,i;return $u({},t,{id:null!=(n=t.id)?n:String(DW++),timeBounds:$u({},t.timestamp,{scale:null!=(i=t.timestamp.timescale)?i:1e3})})}var EW=function(){function t(t){this.Hj=t}return t.prototype.qIt=function(t,n){var i=this;return Ot((function(){var r,e,u;return Rt(this,(function(s){switch(s.label){case 0:return r={zu:t,f_:n},[4,i.Hj.uD(r)];case 1:return[4,s.sent().SR(n)];case 2:return e=s.sent(),function(t){var n,i,r=t;if(Fn(r.manifestVersion)&&Rs(r.manifestVersion,"alpha"))return!0;for(var e=0,u=r.presentations;e<u.length;e++){for(var s=u[e],o=0,a=jt(s.video).concat(jt(s.audio));o<a.length;o++){var c=a[o];if(c.tracks.length>0){n=c.tracks[0],i=c;break}}if(Rn(n))break}return(Fn(null==i?void 0:i.initPattern)||Fn(null==n?void 0:n.initPattern))&&!Fn(null==n?void 0:n.initializationPattern)&&!Fn(null==i?void 0:i.initializationPattern)}(u=e)&&(u=function(t){return $u({},t,{availabilityDuration:{value:t.dvrDuration?t.dvrDuration.duration/t.dvrDuration.timescale:0},manifestVersion:"1.0.0",presentations:t.presentations.map(lW),contentBaseUrl:t.contentBaseUrl||"./"})}(u)),[2,u]}}))}))()},t}();yt(),C(),pt(),Mt();var SW=function(t){function n(n){var i;return(i=t.call(this)||this).KIt=n,i}bt(n,t);var i=n.prototype;return i.tp=function(){return this.KIt.tp()},i.yn=function(t,n){this.KIt.yn(t,n)},i.fn=function(t,n){this.KIt.fn(t,n)},At(n,[{key:"va",get:function(){return this.Xa||(this.Xa=gN(this)),this.Xa}},{key:"cp",get:function(){return this.KIt.JIt}},{key:"Km",get:function(){return this.KIt.Km}},{key:"lp",get:function(){return this.KIt.lp}},{key:"dp",get:function(){return this.KIt.dp}},{key:"ap",get:function(){return this.KIt.$It}},{key:"_p",get:function(){return this.KIt.tDt},set:function(t){this.KIt.tDt=t}},{key:"fp",get:function(){return this.KIt.fp}}]),n}($o);yt(),C(),pt(),yt(),C(),pt(),yt(),C(),pt();var LW=function(){function t(t){this.sDt=0,this.eDt=0,this.iDt=w.exp(w.log(.5)/t)}var n=t.prototype;return n.Dat=function(t,n){var i=w.pow(this.iDt,t),r=n*(1-i)+i*this.sDt;A(r)||(this.sDt=r,this.eDt+=t)},n.GZ=function(t){var n=w.exp(w.log(.5)/t);if(n!==this.iDt)if(0!==this.eDt){var i=this.j7,r=1-w.pow(n,this.eDt);this.sDt=i*r,this.iDt=n}else this.iDt=n},At(t,[{key:"j7",get:function(){var t=1-w.pow(this.iDt,this.eDt);return this.sDt/t}}]),t}(),jW=function(){function t(n,i,r,e){void 0===n&&(n=t.gDt),void 0===i&&(i=t.wDt),void 0===r&&(r=t.Pat),void 0===e&&(e=!1),this.cDt=0,this.lDt=[],this.aDt=void 0,this.uDt=6e4,this.dDt=10,this.fDt=n,this._Dt=i,this.oDt=r,this.hDt=e,this.nDt=new LW(n),this.rDt=new LW(i)}var n=t.prototype;return n.Dat=function(t){var n=an.m_(),i=t;this.hDt&&void 0!==this.aDt&&n-this.aDt>=this.uDt&&this.tr(),this.cDt+=1,this.nDt.Dat(1,i),this.rDt.Dat(1,i),this.lDt.push(i),this.lDt.length>this.dDt&&this.lDt.shift(),this.aDt=n},n.Rat=function(){return void 0!==this.aDt&&an.m_()-this.aDt<=this.uDt},n.tr=function(){this.nDt=new LW(this.fDt),this.rDt=new LW(this._Dt),this.cDt=0,this.lDt=[],this.aDt=void 0},At(t,[{key:"j7",get:function(){return this.Rat()?w.max(this.nDt.j7,this.rDt.j7):this.oDt}}]),t}();jW.gDt=2,jW.wDt=5,jW.Pat=.1,yt(),C();var CW=function(){function t(t){this.vDt=t}var n=t.prototype;return n.HH=function(t){for(var n=0,i=this.vDt;n<i.length;n++){i[n].HH(t)}},n.XH=function(t){for(var n=0,i=this.vDt;n<i.length;n++){i[n].XH(t)}},n.ZH=function(t,n){for(var i=0,r=this.vDt;i<r.length;i++){r[i].ZH(t,n)}},n.qH=function(t){for(var n=0,i=this.vDt;n<i.length;n++){i[n].qH(t)}},t}();yt(),C();var xW=function(){function t(t){this.mDt=0,this.pDt=t}var n=t.prototype;return n.HH=function(t){this.mDt=t},n.XH=function(t){this.pDt.Dat(t-this.mDt)},n.ZH=function(t){},n.qH=function(t){},t}();yt(),C();var OW=function(){function t(t){this.ADt=0,this.Uat=t}var n=t.prototype;return n.XH=function(t){this.ADt=t},n.ZH=function(t,n){this.Uat.Dat(t-this.ADt,n.byteLength),this.ADt=t},n.qH=function(t){},n.HH=function(t){},t}();yt(),C(),Mt();var zW,RW=function(){function t(t,n){void 0===n&&(n=0),this.MDt=new BW,this.An=0,this.yDt=0,this.Uat=t,this.TDt=n}var n=t.prototype;return n.HH=function(t){},n.ZH=function(t,n){var i=n.byteLength,r=this.yDt;this.yDt=i;var e=t-this.An;this.An=t,this.MDt.Yq(n);var u=!this.MDt.bDt(),s=i>=this.TDt;r!==an.Ys.Pet&&u&&s&&this.Uat.Dat(e,i)},n.XH=function(t){this.An=t},n.qH=function(t){},t}(),BW=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).NDt=void 0,n.SDt=!1,n}bt(n,t);var i=n.prototype;return i.bDt=function(){return this.SDt},i.Yq=function(n){this.SDt=!1,t.prototype.Yq.call(this,n)},i.Qq=function(n,i){this.NDt&&this.NDt!==vp.PA||(this.SDt=!0),t.prototype.Qq.call(this,n,i),this.NDt=n},i.$q=function(t){return!1},i.iK=function(t){},i.sK=function(t){},n}(ZL);yt(),C(),Mt(),function(t){t.IDt="sample"}(zW||(zW={}));var PW=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).DDt=0,n}return bt(n,t),n.prototype.LP=function(){if(this.Rat()){var t=an.m_();t-this.DDt>1e3&&(this.DDt=t,AT.lL.LP(this.j7))}},n}($o);yt(),C(),pt(),Mt();var UW=function(t){function n(n){var i;return(i=t.call(this)||this).rC=[],i.LDt=0,i.EDt=n,i.sDt=n,i}bt(n,t);var i=n.prototype;return i.Rat=function(){return this.rC.length>=3},i.Dat=function(t,n){if(0!==t){var i={GP:8*n/t,kDt:n};if(this.rC.push(i),this.LDt+=i.kDt,this.rC.length>30){var r=this.rC.shift();this.LDt-=r.kDt}for(var e=this.rC.slice().sort((function(t,n){return t.GP-n.GP})),u=0,s=0;s<e.length;s++){var o=e[s];if(u+=o.kDt/this.LDt,this.sDt=o.GP,u>=.5)break}this.LP(),this.Co(new ra(zW.IDt))}},At(n,[{key:"j7",get:function(){return this.Rat()?this.sDt:this.EDt}}]),n}(PW);yt(),C(),pt(),Mt();var QW=function(t){function n(i,r,e,u){var s;return void 0===i&&(i=n.gDt),void 0===r&&(r=n.wDt),void 0===e&&(e=n.ODt),void 0===u&&(u=n.Pat),(s=t.call(this)||this).xDt=0,s.CDt=e,s.nDt=new LW(i),s.rDt=new LW(r),s.oDt=u,s}bt(n,t);var i=n.prototype;return i.Dat=function(t,n){var i=8*n/t;this.nDt.Dat(t,i),this.rDt.Dat(t,i),this.xDt+=n,this.LP(),this.Co(new ra(zW.IDt))},i.Rat=function(){return this.xDt>=this.CDt},At(n,[{key:"j7",get:function(){return this.Rat()?w.min(this.nDt.j7,this.rDt.j7):this.oDt}}]),n}(PW);QW.ODt=128e3,QW.Pat=mT,QW.gDt=.5,QW.wDt=5;var YW=function(){function t(t,n){var i=this;this.zDt=[],this.RDt=function(){for(var t=0,n=i.zDt;t<n.length;t++){(0,n[t])()}},this.UDt=t>0?t:QW.Pat,this.QDt=new jW(jW.gDt,jW.wDt,n>0?n:jW.Pat),this.jDt(this.UDt)}var n=t.prototype;return n.jDt=function(t){var n;null==(n=this.Uat)||n.fn(zW.IDt,this.RDt),this.Uat=new UW(t),this.Uat.yn(zW.IDt,this.RDt)},n.PDt=function(t){this.zDt.push(t)},n.BDt=function(t){go(this.zDt,t)},n.WP=function(t){if("segment"===t.Av&&"video"===t.$D){var n=[new xW(this.QDt)];return this.Uat&&("stream"===t.qD&&"initialization-segment"!==t.JD?n.push(new RW(this.Uat,1e3)):n.push(new OW(this.Uat))),new CW(n)}},At(t,[{key:"GP",get:function(){var t,n;return null!=(n=null==(t=this.Uat)?void 0:t.j7)?n:this.UDt}},{key:"VP",get:function(){return this.QDt.j7}}]),t}();yt(),C(),pt();var FW=function(){function t(){}var n=t.prototype;return n.FDt=function(t,n){var i=n-t;(!this.YDt||i<this.YDt)&&(this.YDt=i)},n.GDt=function(t,n){this.VDt=n-t},n.HDt=function(t){var n=this.WDt;if(void 0!==n)return n-t},n.tr=function(){this.YDt=void 0,this.VDt=void 0},At(t,[{key:"WDt",get:function(){return void 0!==this.VDt?an.m_()/1e3+this.VDt:void 0!==this.YDt?an.m_()/1e3+this.YDt:void 0}}]),t}();yt(),C(),zt(),pt(),Mt(),Vt(),Ut(),yt(),C();var GW=function(){function t(){this.QNt=[]}var n=t.prototype;return n.XDt=function(t){for(var n=0,i=this.QNt;n<i.length;n++){var r=i[n];r[1]=r[1].Sn(t)}},n.ZDt=function(t,n){for(var i=!0,r=0,e=this.QNt;r<e.length;r++){var u=e[r],s=u[1];s=s.VB(n),t===u[0]&&(s=s.YB(n),i=!1),u[1]=s.FB(1e-5)}i&&this.QNt.push([t,n])},n.qDt=function(t){for(var n=0,i=this.QNt;n<i.length;n++){var r=i[n];r[1]=r[1].VB(t)}},n.KDt=function(t){for(var n=0;n<this.QNt.length;n++)if(this.QNt[n][1].gr(t))return this.QNt[n][0]},t}(),VW=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).JDt=[],u.iEt=void 0,u.S0=new zo,u.Fm=i,u.xrt=n,u.hAt=r,u.rEt=e,u.$Dt=new GW,u.xrt.yn(EL.CZ,u.Ds),u}bt(n,t);var i=n.prototype;return i.KDt=function(t){return this.$Dt.KDt(t)},i.appendStream=function(t,n){var i=this;return Ot((function(){var r,e,u,s,o,a,c,h,f;return Rt(this,(function(l){switch(l.label){case 0:if(i.tEt)throw new v("Concurrent appends are not supported.");r=i.S0.f_,i.$Dt.XDt(i.O_),i.iEt=new Bc,e=t.getReader(),l.label=1;case 1:l.trys.push([1,,6,7]),l.label=2;case 2:return[4,Yo(e.read(),r)];case 3:return(u=l.sent()).done?[3,5]:(s=u.value,o={Av:CL.jZ,ly:s.nut},a={ct:s.ct,F7:s.I_t,pI:-n.Lht.sEt},[4,i.H$(o,a,r)]);case 4:return l.sent(),c=a.F7+a.pI,h=c+a.ct,i.$Dt.ZDt(n.Lht,HD.rU(c,h)),[3,2];case 5:return[3,7];case 6:return n.nEt(),f=i.iEt,i.iEt=void 0,f.LL(),[7];case 7:return[2]}}))}))()},i.V$=function(t,n,i,r){var e=this;return Ot((function(){var u,s,o,a;return Rt(this,(function(c){switch(c.label){case 0:if(e.tEt)throw new v("Concurrent appends are not supported.");(u=new zo).w_(e.S0.f_),r&&u.w_(r),c.label=1;case 1:return c.trys.push([1,,3,4]),e.iEt=new Bc,[4,e.H$(t,n,u.f_)];case 2:return c.sent(),s=n.F7+n.pI,o=s+n.ct,e.$Dt.XDt(e.O_),e.$Dt.ZDt(i,HD.rU(s,o)),[3,4];case 3:return a=e.iEt,e.iEt=void 0,null==a||a.LL(),[7];case 4:return[2]}}))}))()},i.H$=function(t,n,i){var r=this;return Ot((function(){var e,u,s,o;return Rt(this,(function(a){switch(a.label){case 0:return(e=new zo).w_(r.S0.f_),i&&e.w_(i),r.xrt.O0===Gm.VA&&r.rEt.elt(t.ly,n.F7,n.F7+n.ct,n.pI,r.hAt,!1),u=r.Fm.Hm.Wm,s=r.xrt.O_.gr(r.Fm.U_),u||s?[4,r.oEt()]:[3,3];case 1:return a.sent(),[4,r.xrt.V$(t,n,e.f_)];case 2:case 4:return[2,a.sent()];case 3:return r.JDt.push([t,n]),o=r.JDt[0][1].F7,r.JDt[r.JDt.length-1][1].F7-o>=.4?[4,r.oEt()]:[3,5];case 5:return[2]}}))}))()},i.X$=function(t){var n=this;return Ot((function(){var i;return Rt(this,(function(r){switch(r.label){case 0:if(n.tEt)throw new v("Concurrent appends are not supported.");r.label=1;case 1:return r.trys.push([1,,4,5]),n.iEt=new Bc,[4,n.oEt()];case 2:return r.sent(),[4,n.xrt.X$(t,{},n.S0.f_)];case 3:return r.sent(),n.xrt.O0===Gm.VA&&n.rEt.Grt(t.ly),[3,5];case 4:return i=n.iEt,n.iEt=void 0,null==i||i.LL(),[7];case 5:return[2]}}))}))()},i.rS=function(t,n){var i=this;return Ot((function(){var r;return Rt(this,(function(e){switch(e.label){case 0:if(i.tEt)throw new v("Concurrent appends are not supported.");e.label=1;case 1:return e.trys.push([1,,4,5]),i.iEt=new Bc,[4,i.oEt()];case 2:return e.sent(),[4,i.xrt.rS(t,n,i.S0.f_)];case 3:return e.sent(),i.$Dt.qDt(HD.rU(t,n)),[3,5];case 4:return r=i.iEt,i.iEt=void 0,null==r||r.LL(),[7];case 5:return[2]}}))}))()},i.MG=function(){var t=this;return Ot((function(){var n;return Rt(this,(function(i){switch(i.label){case 0:if(t.tEt)throw new v("Concurrent appends are not supported.");i.label=1;case 1:return i.trys.push([1,,3,4]),t.iEt=new Bc,[4,t.oEt()];case 2:return i.sent(),[3,4];case 3:return n=t.iEt,t.iEt=void 0,null==n||n.LL(),[7];case 4:return[2]}}))}))()},i.oEt=function(){var t=this;return Ot((function(){var n,i,r,e,u;return Rt(this,(function(s){switch(s.label){case 0:n=0,i=t.JDt,s.label=1;case 1:return n<i.length?(r=Gt(i[n],2),e=r[0],u=r[1],[4,t.xrt.V$(e,u,t.S0.f_)]):[3,4];case 2:s.sent(),s.label=3;case 3:return n++,[3,1];case 4:return po(t.JDt),[2]}}))}))()},i.h_=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:t.S0.h_(),n.label=1;case 1:return t.tEt?[4,t.eEt]:[3,3];case 2:return n.sent(),[3,1];case 3:return[2]}}))}))()},At(n,[{key:"O_",get:function(){for(var t=HD.oU(),n=0,i=this.JDt;n<i.length;n++){var r=Gt(i[n],2)[1],e=r.F7+r.pI,u=e+r.ct;t=t.YB(HD.rU(e,u))}return this.xrt.O_.YB(t)}},{key:"tEt",get:function(){return void 0!==this.iEt}},{key:"eEt",get:function(){return this.iEt?this.iEt.OL:q.resolve()}}]),n}($o);yt(),C(),Xt(),zt(),pt(),Mt(),Ut(),yt(),C(),zt(),pt(),Mt(),Ut(),yt(),C(),zt(),Ut();var WW,XW=function(){function t(t){this.aEt=0,this.uEt=t}var n=t.prototype;return n.hEt=function(t,n){var i=this;return Ot((function(){return Rt(this,(function(r){switch(r.label){case 0:if(i.aEt>=i.uEt.maxRetries)throw t;return[4,Ko(i.cEt(i.aEt++),n)];case 1:return r.sent(),[2]}}))}))()},n.cEt=function(t){var n=0;return 0!==t&&(n+=w.min(this.uEt.maximumBackoff,this.uEt.minimumBackoff*(w.pow(2,t)-1))),n},t}();yt(),C(),Mt(),yt(),C(),Mt(),function(t){t.lEt="emsgdata"}(WW||(WW={}));var ZW=function(t){function n(n,i){var r;return(r=t.call(this,"emsgdata")||this).value=n,r.data=i,r}return bt(n,t),n}(ra);yt(),C();var HW,KW=function(){function t(){}var n=t.prototype;return n.start=function(t){this.wZ=t},n.dEt=function(t){this.wZ.enqueue(t)},t}();yt(),C(),yt(),C(),function(t){t.fEt="initdata",t.MANIFEST_UPDATE="manifestupdate",t._Et="timestamps:v1"}(HW||(HW={}));var qW="urn:theo:hesp:2020";function JW(t){if(t.cT===qW){var n=t.lT;if(n===HW.fEt)return function(t){if(t&&Qn(t)){var n=t;if(Xn(n.index)&&Xn(n.offset)&&!(n.index<0&&n.offset<0))return{Av:"initdata",index:n.index,offset:n.offset}}}(JSON.parse(kc(Ic(t._T),new Oc)));if(n===HW.MANIFEST_UPDATE)return function(t){if(t&&Qn(t)){var n=t;if(!Rn(n.url)||Fn(n.url))return{Av:"manifestupdate",url:n.url}}}(JSON.parse(kc(Ic(t._T),new Oc)));if(n===HW._Et){var i,r=Ic(t._T),e=new Oc,u=ec(r,e).toNumber()/t.cM,s=ec(r,e).toNumber()/1e3,o=ic(r,e)/1e3;return e.Ku+8<=r.byteLength&&(i={hours:ic(r,e),minutes:$a(r,e),seconds:$a(r,e),frames:tc(r,e)}),{Av:HW._Et,gEt:u,wEt:s,vEt:o,mEt:i}}}}var $W=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).pEt=new $o,n}bt(n,t);var i=n.prototype;return i.transform=function(t){if(t.Av===vp.BA)try{var n=JW(f_.sM(t.ly));n&&this.pEt.Co(new ZW(n.Av,n))}catch(t){false}this.dEt(t)},i.h_=function(){this.pEt.Vo()},n}(KW);yt(),C(),Mt();var tX=function(){function t(){}var n=t.prototype;return n.start=function(t){this.rf=new nX(t)},n.transform=function(t){this.rf.Yq(t)},n.flush=function(){this.rf.Vq()},t}(),nX=function(t){function n(n){var i;return(i=t.call(this)||this).wZ=n,i}bt(n,t);var i=n.prototype;return i.$q=function(t){return!0},i.iK=function(t){this.wZ.enqueue(t)},i.sK=function(t){},n}(ZL);yt(),C(),zt(),Mt(),Ut(),yt(),C();var iX=Oi.fromNumber(Ri);var rX,eX=function(t){function n(n,i){var r;return(r=t.call(this)||this).aE=n,r.AEt=i,r}return bt(n,t),n.prototype.uD=function(t){var n=this;return Ot((function(){var i;return Rt(this,(function(r){switch(r.label){case 0:0,r.label=1;case 1:return r.trys.push([1,3,,5]),[4,n.aE.uD(t)];case 2:return[2,r.sent()];case 3:if(Bo(i=r.sent()))throw i;return[4,n.AEt.hEt(i,t.f_)];case 4:return r.sent(),[3,5];case 5:return[3,0];case 6:return[2]}}))}))()},n}($o);function uX(t,n,i,r,e,u,s,o){var a=new kl;return e&&a.LD(function(t,n){return void 0===n&&(n=iX),new kl({Range:"bytes="+t.toString()+"-"+n.toString()})}(e.start,e.end)),{zu:t,XD:a,tE:!1,f_:o,Av:$w.CD,JD:i,$D:r,_D:u,KD:s,qD:n,eE:n===pl.DD}}yt(),C(),Mt(),yt(),C(),function(t){t[t.INITIALIZER=0]="INITIALIZER",t[t.FRAMES=1]="FRAMES"}(rX||(rX={}));var sX=function(t){function n(n,i){var r;return(r=t.call(this)||this).yEt=[],r.TG=n,r.Nat=r.TG.match(/video/)?$z.VA:$z.WA,r.Ox=i,r}bt(n,t);var i=n.prototype;return i.transform=function(t){this.yEt.push(t),t.Av===vp.PA&&this.MEt(this.yEt.splice(0),rX.FRAMES)},i.MEt=function(t,n){var i={cM:this.Ox,aG:this.TG},r=Da(t.map((function(t){return Ec(t.ly.ly)}))),e=co(t,oX),u=f_.Wy(e.ly.ly)[0],s={$D:this.Nat,SL:i,nut:r,Av:n,ct:this.Td(u)/this.Ox,I_t:$i(this.bEt(u),this.Ox)};this.dEt(s)},i.Td=function(t){var n,i=t.Z[0];if(!i||0===i.iT.length)return 0;var r=null!=(n=i.zy.Vb)?n:0;return i.iT[0].aT.reduce((function(t,n){var i;return t+(null!=(i=n.ct)?i:r)}),0)},i.bEt=function(t){var n,i;return null!=(i=null==(n=t.Z[0].eT)?void 0:n.eT)?i:Oi.UZERO},n}(KW);function oX(t){return t.Av===vp.kA}yt(),C();var aX=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).IEt="now",e.jEt=new zo,e.iEt=void 0,e.TEt=n,e.AEt=new XW(r),e.QEt=new $W,e.QEt.pEt.yn(WW.lEt,e.Ds),e.aE=i,e.Nat=function(t){switch(t){case $z.WA:return ny.WA;case $z.VA:return ny.VA;default:return ny.jT}}(n.Av),e.REt=new eX(e.aE,e.AEt),e}bt(n,t);var i=n.prototype;return i.jct=function(t){return t+1},i.JA=function(t){this.IEt=t,this.DEt=void 0,this.EEt=void 0},i.kEt=function(){return void 0!==this.DEt},i.LEt=function(){var t=this;return Ot((function(){var n,i,r,e,u,s,o,a,c,h,f,l,d,g;return Rt(this,(function(w){switch(w.label){case 0:if(t.tEt)throw new v("Concurrent downloads are not supported.");w.label=1;case 1:return w.trys.push([1,,4,5]),t.iEt=new Bc,"now"===t.IEt?n=an.wp(t.TEt.xEt("now"),t.TEt.CEt):(i=t.IEt,r=0===i?1:t.TEt.OEt(i),n=an.wp(t.TEt.xEt(r),t.TEt.CEt)),e=uX(n,pl.SD,ty.RD,t.Nat,void 0,3e3,1e3,t.jEt.f_),[4,t.REt.uD(e)];case 2:return[4,w.sent().GR(t.jEt.f_)];case 3:return u=w.sent(),s=new p(u),o=function(t){var n=s_.Ey(new i_(Ic(t),new Oc)),i=co(n,(function(t){return t.Av===vp.QA||t.Av===vp.kA}));if(void 0===i)return{PEt:t,wM:void 0};var r=Nc(t,0,i.Ku),e=Nc(t,i.Ku);return{PEt:r,wM:0===e.byteLength?void 0:e}}(s),a=o.PEt,c=o.wM,h=f_.Wy(Ic(s)),t.Ox=function(t){var n=co(t,(function(t){return t.Av===vp.Kp}));return n.Z[0].wM.zy.cM}(h),f=function(t){var n=t.filter((function(t){return t.Av===vp.BA})),i=n.map((function(t){return JW(t)})),r=co(i,(function(t){return(null==t?void 0:t.Av)===HW.fEt}));if(!r)throw new v("No init data in init response");return r}(h),t.DEt=f.index,t.EEt=f.offset,c&&(d=f_.Wy(Ic(s)),l=function(t,n,i){var r,e,u,s=co(t,(function(t){return t.Av===vp.kA})),o=$i(null!=(e=null==(r=s.Z[0].eT)?void 0:r.eT)?e:Oi.UZERO,i),a=s.Z[0],c=null!=(u=a.zy.Vb)?u:0,h=a.iT[0],f=h.aT.reduce((function(t,n){var i;return t+(null!=(i=n.ct)?i:c)}),0)/i;return{F7:o,ct:f,pI:n}}(d,-t.Lht.sEt,t.Ox)),[2,{initialization:a,data:c,metadata:l}];case 4:return g=t.iEt,t.iEt=void 0,null==g||g.LL(),[7];case 5:return[2]}}))}))()},i.zEt=function(){if(this.tEt)throw new v("Concurrent downloads are not supported.");this.iEt=new Bc;var t=void 0!==this.EEt?Oi.fromNumber(this.EEt):void 0;return Cw(this.BEt(this.DEt,t,this.jEt.f_)).pipeThrough(new gw(new sX(this.Lht.aG,this.Ox))).pipeThrough(new gw(new cX(this.jEt.f_)))},i.BEt=function(t,n,i){var r=this;return Ot((function(){var e;return Rt(this,(function(u){switch(u.label){case 0:return e=r.UEt(t,n,i),[4,r.REt.uD(e)];case 1:return[2,u.sent().VW().pipeThrough(new gw(new tX)).pipeThrough(new gw(r.QEt))]}}))}))()},i.UEt=function(t,n,i){var r=this.TEt.FEt(t),e=void 0!==n?{start:n,end:void 0}:void 0;return uX(an.wp(r,this.TEt.CEt),pl.DD,ty.jT,this.Nat,e,25e3,1e3,i)},i.nEt=function(){void 0!==this.DEt&&(this.DEt=this.jct(this.DEt)),this.EEt=void 0;var t=this.iEt;this.iEt=void 0,null==t||t.LL()},i.cancelDownload=function(){var t;this.jEt.g_(),this.jEt=new zo,this.iEt=null!=(t=this.iEt)?t:new Bc,this.DEt=void 0,this.EEt=void 0;var n=this.iEt;this.iEt=void 0,null==n||n.LL()},i.h_=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return t.Vo(),t.QEt.h_(),t.jEt.g_(),[4,t.eEt];case 1:return n.sent(),t.DEt=void 0,t.EEt=void 0,[2]}}))}))()},At(n,[{key:"Lht",get:function(){return this.TEt}},{key:"SEt",get:function(){return!1}},{key:"NEt",get:function(){return this.IEt}},{key:"tEt",get:function(){return void 0!==this.iEt}},{key:"eEt",get:function(){return this.iEt?this.iEt.OL:q.resolve()}}]),n}($o);var cX=function(){function t(t){var n=this;this.YEt=function(){n.wZ.error(new Ro)},this.__=t}var n=t.prototype;return n.start=function(t){this.wZ=t,this.__.u_(this.YEt)},n.flush=function(){this.__.c_(this.YEt)},t}();function hX(t){var n;return t.value/(null!=(n=t.scale)?n:1)}yt(),C(),pt(),yt(),C(),pt(),yt(),C(),Xt(),pt(),Mt(),yt(),C(),pt(),Mt(),yt(),C();var fX="{initId}",vX=/{initId(?::0(?:\d+)d)?}/,lX=/{segmentId(?::0(?:\d+)d)?}/,dX=function(){function t(t,n,i){var r,e,u,s;this.ryt=[],this.CS=t,this.nkt=i,this.uS=t.id,this.xP=t.bandwidth,this.GEt=t.averageBandwidth,this.ZEt=null!=(r=t.baseUrl)?r:"",this.KEt=null!=(e=t.codecs)?e:n.codecs,this.$Et=null!=(u=t.continuationPattern)?u:n.continuationPattern,this.ikt=null!=(s=t.initializationPattern)?s:n.initializationPattern,this.lS=t.label,this.ekt=t.mediaTimeOffset?hX(t.mediaTimeOffset):0,this.KAt=t.segmentDuration?hX(t.segmentDuration):0,this.Yn(t)}return t.prototype.Yn=function(t){this.WEt=t.activeSegment,this.XEt=t.activeSequenceNumber,this.ryt=t.segments},At(t,[{key:"o",get:function(){return this.uS}},{key:"GP",get:function(){return this.xP}},{key:"Xpt",get:function(){return this.GEt}},{key:"jnt",get:function(){return this.ryt}},{key:"VEt",get:function(){return this.WEt}},{key:"HEt",get:function(){return this.XEt}},{key:"CEt",get:function(){return an.wp(this.ZEt,this.qEt.CEt)}},{key:"$nt",get:function(){return this.KEt}},{key:"kh",get:function(){return this.lS}},{key:"JEt",get:function(){return this.$Et}},{key:"tkt",get:function(){return this.ikt}},{key:"sEt",get:function(){return this.ekt}},{key:"skt",get:function(){return this.KAt}}]),t}(),gX=function(t){function n(n,i,r){var e,u,s,o,a;return(e=t.call(this,n,i,r)||this).okt=null!=(u=n.channels)?u:1,e.hkt=null!=(o=null!=(s=n.frameRate)?s:i.frameRate)?o:1024,e.vx=null!=(a=n.sampleRate)?a:i.sampleRate,e}return bt(n,t),At(n,[{key:"Av",get:function(){return $z.WA}},{key:"qEt",get:function(){return this.nkt}},{key:"rkt",get:function(){return this.okt}},{key:"Adt",get:function(){return this.hkt}},{key:"KM",get:function(){return this.vx}},{key:"aG",get:function(){return'audio/mp4; codecs="'+this.$nt+'"'}}]),n}(dX),wX=function(t){function n(n,i,r){var e,u;return(e=t.call(this,n,i,r)||this).Get=n.resolution,e.hkt=hX(null!=(u=n.frameRate)?u:i.frameRate),e}return bt(n,t),At(n,[{key:"Av",get:function(){return $z.VA}},{key:"qEt",get:function(){return this.nkt}},{key:"akt",get:function(){return this.Get}},{key:"Adt",get:function(){return this.hkt}},{key:"aG",get:function(){return'video/mp4; codecs="'+this.$nt+'"'}}]),n}(dX);function yX(t,n){var i=String(n);if(t===fX||"now"===n)return i;var r=y(t.substring(9,t.lastIndexOf("d")));return Ys(i,r,"0")}function mX(t,n){var i=String(n);if(t===fX)return i;var r=y(t.substring(12,t.lastIndexOf("d")));return Ys(i,r,"0")}var AX=function(){function t(t,n,i){var r;this.nkt=t,this.Pw=i,this.ukt=n,this.uS=t.id,this.lkt=t.alignId,this.ZEt=null!=(r=t.baseUrl)?r:"",this.lS=t.label,this.ekt=t.mediaTimeOffset?hX(t.mediaTimeOffset):0,this.fkt=t.protection,this.Yn(t)}return t.prototype.Yn=function(t){for(var n=function(n,i){var r=i[n],e=co(t.tracks,(function(t){return r.o===t.id}));e&&r.Yn(e)},i=0,r=this.Pw;i<r.length;i++)n(i,r)},At(t,[{key:"tit",get:function(){return this.ukt}},{key:"o",get:function(){return this.uS}},{key:"ckt",get:function(){return this.lkt}},{key:"CEt",get:function(){return an.wp(this.ZEt,this.tit.CEt)}},{key:"kh",get:function(){return this.lS}},{key:"sEt",get:function(){return this.ekt}},{key:"dkt",get:function(){return this.fkt}}]),t}(),pX=function(t){function n(n,i){var r,e=[];r=t.call(this,n,i,e)||this;for(var u=0,s=n.tracks;u<s.length;u++){var o=s[u];e.push(new gX(o,n,Wt(r)))}return r}return bt(n,t),n.prototype.Yn=function(n){var i,r;t.prototype.Yn.call(this,n),this.Rx=n.language,this.okt=null!=(i=n.channels)?i:1,this.TG=null!=(r=n.mimeType)?r:"audio/mp4"},At(n,[{key:"qEt",get:function(){return this.nkt}},{key:"Z",get:function(){return this.Pw}},{key:"gs",get:function(){return this.Rx}},{key:"rkt",get:function(){return this.okt}}]),n}(AX),_X=function(t){function n(n,i){var r,e=[];r=t.call(this,n,i,e)||this;for(var u=0,s=n.tracks;u<s.length;u++){var o=s[u];e.push(new wX(o,n,Wt(r)))}return r}return bt(n,t),n.prototype.Yn=function(n){var i;t.prototype.Yn.call(this,n),this.TG=null!=(i=n.mimeType)?i:"video/mp4"},At(n,[{key:"qEt",get:function(){return this.nkt}},{key:"Z",get:function(){return this.Pw}}]),n}(AX),kX=function(){function t(t,n){var i,r,e;this.pkt=[],this.ykt=[],this.gkt=t,this.uS=n.id,this.ZEt=null!=(i=n.baseUrl)?i:"";for(var u=0,s=null!=(r=n.audio)?r:[];u<s.length;u++){var o=s[u];this.pkt.push(new pX(o,this))}for(var a=0,c=null!=(e=n.video)?e:[];a<c.length;a++){var h=c[a];this.ykt.push(new _X(h,this))}this.Yn(n)}return t.prototype.Yn=function(t){var n;this.vkt=t.timeBounds,this.hd=null!=(n=t.events)?n:[],this.hU=t.currentTime?hX(t.currentTime):void 0},At(t,[{key:"o",get:function(){return this.uS}},{key:"CEt",get:function(){return an.wp(this.ZEt,this.gkt._kt)}},{key:"wkt",get:function(){return this.vkt}},{key:"U_",get:function(){return this.hU}},{key:"uG",get:function(){return this.hd}},{key:"mkt",get:function(){return this.pkt}},{key:"Akt",get:function(){return this.ykt}}]),t}(),bX=function(){function t(t,n){this.Lkt=[],this.jkt=t,this.gkt=n,this.Yn(n)}return t.prototype.Yn=function(t){var n,i,r=function(t,i){var r=i[t],e=co(n.Lkt,(function(t){return t.o===r.id}));e?e.Yn(r):n.Lkt.push(new kX(n,r))};this.bkt=hX(t.availabilityDuration),this.Skt=t.creationDate,this.Ikt=t.fallbackPollRate,this.Ekt=t.manifestVersion,this.tx=t.streamType,this.Ckt=t.activePresentation,this.Okt=t.contentBaseUrl,this.Pkt=null==(i=t.timeSource)?void 0:i.url,this.gkt=t;for(var e=0,u=t.presentations;e<u.length;e++)n=this,r(e,u);this.Lkt=this.Lkt.filter((function(n){return t.presentations.some((function(t){return t.id===n.o}))}))},At(t,[{key:"fp",get:function(){return this.gkt}},{key:"Mkt",get:function(){return this.bkt}},{key:"Tkt",get:function(){return this.Skt}},{key:"Nkt",get:function(){return this.Ikt}},{key:"Dkt",get:function(){return this.Ekt}},{key:"kkt",get:function(){return this.Lkt}},{key:"QK",get:function(){return this.tx}},{key:"xkt",get:function(){return this.Ckt}},{key:"_kt",get:function(){var t;return an.wp(null!=(t=this.Okt)?t:"",this.jkt)}},{key:"Rkt",get:function(){return this.Pkt}}]),t}();yt(),C(),pt(),Mt(),yt(),C(),pt(),Mt();var MX,TX,NX=0,DX=function(t){function n(n){var i;return(i=t.call(this)||this).cS=NX++,i.zkt=n,i}bt(n,t);var i=n.prototype;return i.OEt=function(t){var n=(t-this.zkt.qEt.tit.U_)*this.framesPerSecond();return w.round(this.zkt.HEt+n)},i.Bkt=function(t){return t+1},i.xEt=function(t){for(var n,i,r=this.zkt.tkt;i=null==(n=r.match(vX))?void 0:n.pop();)r=r.split(i).join(yX(i,t));return r+("now"===t?"?uuid="+HE():"")},i.FEt=function(t){for(var n,i,r=this.zkt.JEt;i=null==(n=r.match(lX))?void 0:n.pop();)r=r.split(i).join(mX(i,t));return r},i.bD=function(){},i.MD=function(){},At(n,[{key:"snt",get:function(){return!0}},{key:"Xpt",get:function(){return this.zkt.Xpt}},{key:"GP",get:function(){return this.zkt.GP}},{key:"$nt",get:function(){return this.zkt.$nt}},{key:"o",get:function(){return this.zkt.o}},{key:"kh",get:function(){var t;return null!=(t=this.zkt.kh)?t:""}},{key:"Xw",get:function(){return this.cS}},{key:"Jpt",get:function(){return this.zkt.CEt}},{key:"Zpt",get:function(){}},{key:"aG",get:function(){return this.zkt.aG}},{key:"sEt",get:function(){return this.zkt.sEt}},{key:"CEt",get:function(){return this.zkt.CEt}},{key:"Av",get:function(){return this.zkt.Av}}]),n}($o),IX=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).Xa=void 0,r.CS=i,r}return bt(n,t),n.prototype.framesPerSecond=function(){return this.zkt.KM/this.zkt.Adt},At(n,[{key:"Ukt",get:function(){return this.zkt}},{key:"Hmt",get:function(){return this.zkt.KM}},{key:"Lt",get:function(){return this.CS}},{key:"va",get:function(){return this.Xa||(this.Xa=kF(this)),this.Xa}}]),n}(DX),EX=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).Xa=void 0,r.CS=i,r}return bt(n,t),n.prototype.framesPerSecond=function(){return this.zkt.Adt},At(n,[{key:"Ukt",get:function(){return this.zkt}},{key:"qpt",get:function(){return 0}},{key:"Adt",get:function(){return this.zkt.Adt}},{key:"Ti",get:function(){return this.zkt.akt.height}},{key:"ji",get:function(){return this.zkt.akt.width}},{key:"akt",get:function(){return this.zkt.akt}},{key:"Lt",get:function(){return this.CS}},{key:"va",get:function(){return this.Xa||(this.Xa=_F(this)),this.Xa}}]),n}(DX);yt(),C(),function(t){t.Qkt="alternative",t.Fkt="main",t.Ykt="commentary",t.Gkt="",t.nD="descriptions",t.Vkt="main-desc",t.Wkt="translation"}(MX||(MX={})),function(t){t.Qkt="alternative",t.Fkt="main",t.Ykt="commentary",t.Gkt="",t.sD="captions",t.rv="sign",t.HA="subtitles"}(TX||(TX={}));var SX=0,LX=function(t){function n(n,i,r){var e;(e=t.call(this)||this).sS=new nA,e.cS=SX++,e.Le=!1,e.gct=void 0,e.nkt=i,e.qkt=r,e.Kkt=new GG(n,[]);for(var u=0,s=i.Z;u<s.length;u++){var o=s[u];e.sS.nS(e.createQuality(o))}return e}bt(n,t);var i=n.prototype;return i.fS=function(t){this.Rt=t},i.Jkt=function(t){for(var n=0,i=this.sS.Rw;n<i.length;n++){var r=i[n];r===t&&this.Co(new wY(r))}},At(n,[{key:"Hw",get:function(){return this.Hkt()}},{key:"Rt",get:function(){return this.Le},set:function(t){this.Rt!==t&&(this.Le=t,t&&this.Xkt(),this.qkt.Zkt(),this.Co(new iA(this)))}},{key:"va",get:function(){return this.Xa||(this.Xa=Qm(this)),this.Xa}},{key:"idt",get:function(){return this.Kkt}},{key:"o",get:function(){return this.nkt.o}},{key:"Xw",get:function(){return this.cS}},{key:"kh",get:function(){var t;return null!=(t=this.nkt.kh)?t:""}},{key:"_v",get:function(){return this.Rt?"enabled":"disabled"},set:function(t){"enabled"===t?this.Rt=!0:"disabled"===t&&(this.Rt=!1)}},{key:"qw",get:function(){return this.sS}},{key:"Kw",get:function(){return this.gct},set:function(t){this.gct=t,this.qkt.Zkt(),this.Co(new CU(t,this))}}]),n}($o),jX=function(t){function n(n,i){return t.call(this,Gm.WA,n,i)}bt(n,t);var i=n.prototype;return i.Xkt=function(){this.qkt.$kt(this)},i.Hkt=function(){var t=this.qkt.tLt;return(null==t?void 0:t.Lt)===this?t:void 0},i.createQuality=function(t){return new IX(t,this)},At(n,[{key:"Av",get:function(){return $z.WA}},{key:"zt",get:function(){return MX.Fkt}},{key:"gs",get:function(){return this.nkt.gs}},{key:"qEt",get:function(){return this.nkt}}]),n}(LX),CX=function(t){function n(n,i){return t.call(this,Gm.VA,n,i)}bt(n,t);var i=n.prototype;return i.Xkt=function(){this.qkt.iLt(this)},i.Hkt=function(){var t=this.qkt.eLt;return(null==t?void 0:t.Lt)===this?t:void 0},i.createQuality=function(t){return new EX(t,this)},At(n,[{key:"Av",get:function(){return $z.VA}},{key:"zt",get:function(){return TX.Fkt}},{key:"gs",get:function(){return""}},{key:"qEt",get:function(){return this.nkt}}]),n}(LX);function xX(t,n,i,r){if(t){var e=function(t,n,i){for(var r=[],e=0;e<n.length;e++){var u,s,o=n[e],a=null!=(u=o.mimeType)?u:"audio/mp4",c=null!=(s=o.codecs)?s:o.tracks.map((function(t){return t.codecs}))[0];r.push(a+'; codecs="'+c+'"')}return OX(t,n,r,[],i)}(t,n?[n]:[],!r),u=function(t,n,i){for(var r=[],e=0;e<n.length;e++){var u,s,o=n[e],a=null!=(u=o.mimeType)?u:"video/mp4",c=null!=(s=o.codecs)?s:o.tracks.map((function(t){return t.codecs}))[0];r.push(a+'; codecs="'+c+'"')}return OX(t,n,[],r,i)}(t,i?[i]:[],!r),s=yV(e,u);return t.preferredKeySystems&&(null==s?void 0:s.Nvt)&&(s.Nvt=NV(s.Nvt,t.preferredKeySystems)),s}}function OX(t,n,i,r,e){var u=n.map((function(t){return t.protection})).filter(Rn);if(u.length){var s=u[0].type,o=ko(u,(function(t){return t.systems})),a=ko(o,(function(t){return function(t,n){void 0===n&&(n=!0);for(var i=[],r=n?function(t){return Cs.filter((function(n){return n._L===t.toLowerCase()}))}(t.schemeId):function(t){return js.filter((function(n){return n._L===t.toLowerCase()}))}(t.schemeId),e=0;e<r.length;e++){var u=r[e];i.push({hP:zX(t)?t.uri:void 0,Qp:u,JP:void 0,KP:t.pssh?[ma(t.pssh).buffer]:[]})}return i}(t,e)}));return{fR:t,Ivt:{Gbt:s},Nvt:a,Vbt:i,Wbt:r}}}function zX(t){return t.schemeId===os.kp&&void 0!==t.keyFormat&&void 0!==t.keyFormatVersions}yt(),C(),yt(),C(),zt(),pt(),Ut(),yt(),C();var RX,BX;function PX(t){var n=t.U_,i=t.O_.Jm(n);return i?i.jn(0)-n:0}RX="Android"===an.np.hp?200:300,function(t){t[t.sLt=0]="sLt",t[t.nLt=1]="nLt"}(BX||(BX={}));var UX=an.Ys.rp?1:.5,QX=function(){function t(t,n,i,r,e){var u=this;this.Fm=t,this.fz=n,this._Lt=i,this.ILt=r,this.hLt=e,this.ja=0,this.gLt=q.resolve(),this.MLt=void 0,this.lLt=function(){var t,n;if(!u.ILt.Eg){var i=null==(t=u._Lt.tLt)?void 0:t.Lt,r=null==(n=u._Lt.eLt)?void 0:n.Lt,e=bo(u.mLt(i,r),(function(t){return t.pLt}));e&&(Xo(u.ALt(e)),u.Fm.Hm.Wm&&u.ILt.tp())}},this.cLt=function(){u.uLt.yn(gk.Tm,u.lLt),u.uLt.fn(gk.Sm,u.cLt)},this.aLt=function(){if(u.dLt){u.dLt.oT+=1;var t=u.dLt.yLt.pLt;u.hLt.GP<t&&(u.dLt=void 0,u.Bm())}},this.uLt=new Dk(this.Fm)}var n=t.prototype;return n.Cn=function(){var t=this;1!==this.ja&&(this.ja=1,this.rLt=an.f1((function(){t.oLt()}),RX),this.hLt.PDt(this.aLt),this.Fm.fg?this.uLt.yn(gk.Sm,this.cLt):this.cLt())},n.Zg=function(){0!==this.ja&&(this.ja=0,void 0!==this.rLt&&an.g1(this.rLt),this.hLt.BDt(this.aLt),this.uLt.fn(gk.Tm,this.lLt),this.uLt.fn(gk.Sm,this.cLt),this.dLt=void 0,this.Bm())},n.oLt=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return[4,t.gLt];case 1:return n.sent(),t.gLt=t.wLt(),[4,t.gLt];case 2:return n.sent(),[2]}}))}))()},n.vLt=function(t,n){for(var i=this.mLt(t,n),r=this.hLt.GP,e=0;e<i.length;e++){var u=i[e];if(u.pLt<=r)return u}return i[i.length-1]},n.wLt=function(){var t=this;return Ot((function(){var n,i,r,e,u,s,o;return Rt(this,(function(a){switch(a.label){case 0:return r=null==(n=t._Lt.tLt)?void 0:n.Lt,e=null==(i=t._Lt.eLt)?void 0:i.Lt,0===(u=t.mLt(r,e)).length?[2]:(s=t.maybeSwitchToTargetQuality(u))?[4,t.ALt(s)]:[3,2];case 1:case 3:return a.sent(),[2];case 2:return(o=t.maybeGetUpSwitch(u))?[4,t.ALt(o)]:[3,4];case 4:return[2]}}))}))()},n.maybeSwitchToTargetQuality=function(t){var n=this.fLt;if(!t.some((function(t){return FX(t,n)}))){for(var i=this.hLt.GP,r=0;r<t.length;r++){var e=t[r];if(e.pLt<=i)return e}return t[t.length-1]}},n.maybeGetUpSwitch=function(t){for(var n,i,r,e,u,s=this.hLt.GP,o=(null!=(r=null==(n=this._Lt.tLt)?void 0:n.GP)?r:0)+(null!=(e=null==(i=this._Lt.eLt)?void 0:i.GP)?e:0),a=0;a<t.length;a++){var c=t[a];if(c.pLt<s&&c.pLt>o){u={yLt:c,$dt:an.m_(),oT:0};break}}if(this.dLt&&FX(this.dLt.yLt,null==u?void 0:u.yLt)){var h=an.m_()-this.dLt.$dt,f=this.dLt.oT>3;if(h>1e3&&f){if(this.Fm.Hm.Wm||an.Ys.ep){var v=2*this.hLt.VP;if(!(PX(this.Fm)>v))return}else{var l=w.max(2*this.hLt.VP+UX,this.fz.xm.minimumOffset);if(!(PX(this.Fm)>l))return void(this.MLt&&this.MLt.minimumOffset===l||(this.Bm(),this.MLt={minimumOffset:l},this.fz.Pm(this.MLt)))}return this.dLt.yLt}}else this.dLt=u},n.ALt=function(t){var n=this;return Ot((function(){var i,r,e;return Rt(this,(function(u){switch(u.label){case 0:return n.dLt=void 0,n.Bm(),(i=n.fLt).bLt===t.bLt&&i.TLt===t.TLt?[2]:(r=t.bLt,e=t.TLt,i.TLt&&e&&i.TLt.GP>e.GP&&n.hLt.jDt(t.pLt),[4,n._Lt.SLt(e,r)]);case 1:return u.sent(),[2]}}))}))()},n.Bm=function(){this.MLt&&(this.fz.Bm(this.MLt),this.MLt=void 0)},n.mLt=function(t,n){var i,r=[],e=[];t&&(r=(null==(i=t.Kw)?void 0:i.length)?t.Kw:t.qw.Rw);if(n){var u,s=(null==(u=n.Kw)?void 0:u.length)?n.Kw:n.qw.Rw,o=s.slice().sort((function(t,n){return t.GP-n.GP})),a=this.NLt(o);0===a.length&&s.length>0&&a.push(bo(s,(function(t){return t.GP}))),e=a}for(var c=[],h=r.length>0?r:[void 0],f=e.length>0?e:[void 0],v=0;v<h.length;v++)for(var l=h[v],d=0;d<f.length;d++){var g=f[d];c.push(YX(l,g))}return function(t){return t.sort((function(t,n){return n.pLt-t.pLt}))}(c)},n.NLt=function(t){for(var n=0;n<t.length;n++){var i=t[n].akt;if(i.height>=this.Fm.Ti&&i.width>=this.Fm.ji)return t.slice(0,n+1)}return t.slice()},n.h_=function(){this.dLt=void 0,this.uLt.tr(),this.Bm()},At(t,[{key:"fLt",get:function(){return YX(this._Lt.tLt,this._Lt.eLt)}}]),t}();function YX(t,n){var i,r;return{bLt:t,TLt:n,pLt:(null!=(i=null==t?void 0:t.GP)?i:0)+(null!=(r=null==n?void 0:n.GP)?r:0)}}function FX(t,n){var i,r,e,u;return void 0===t||void 0===n?t===n:(null==(i=t.bLt)?void 0:i.o)===(null==(r=n.bLt)?void 0:r.o)&&(null==(e=t.TLt)?void 0:e.o)===(null==(u=n.TLt)?void 0:u.o)&&t.pLt===n.pLt}yt(),C(),zt(),pt(),Vt(),Ut();var GX=20,VX=function(){function t(t,n,i){this.$O=new zo,this.DLt=t,this.xIt(n,i,this.$O.f_).catch(Kn)}var n=t.prototype;return n.xIt=function(t,n,i){var r=this;return Ot((function(){return Rt(this,(function(e){switch(e.label){case 0:return i.n_?[3,6]:[4,Ko(6e5,i)];case 1:e.sent(),e.label=2;case 2:return e.trys.push([2,4,,5]),[4,WX(t,n,i)];case 3:return r.DLt=e.sent(),[3,5];case 4:return Uo(e.sent()),[3,5];case 5:return[3,0];case 6:return[2]}}))}))()},n.h_=function(){this.$O.g_()},t.create=function(n,i,r){return Ot((function(){return Rt(this,(function(e){switch(e.label){case 0:return[4,WX(n,i,r)];case 1:return[2,new t(e.sent(),n,i)]}}))}))()},At(t,[{key:"kAt",get:function(){return(this.DLt.serverTimeMs+(an.m_()-this.DLt.localTimeMs))/1e3}},{key:"ELt",get:function(){return(this.DLt.localTimeMs-this.DLt.serverTimeMs)/1e3}}]),t}();function WX(t,n,i){return XX.apply(this,arguments)}function XX(){return XX=Ot((function(t,n,i){var r,e,u,s,o;return Rt(this,(function(a){switch(a.label){case 0:return[4,ZX(t,n,i)];case 1:return r=Gt.apply(void 0,[a.sent(),3]),e=r[0],u=r[1],s=r[2],u>GX?[4,ZX(t,n,i)]:[3,3];case 2:o=Gt.apply(void 0,[a.sent(),3]),e=o[0],u=o[1],s=o[2],a.label=3;case 3:return[2,{localTimeMs:e,serverTimeMs:s-u/2}]}}))})),XX.apply(this,arguments)}function ZX(t,n,i){return HX.apply(this,arguments)}function HX(){return HX=Ot((function(t,n,i){var r,e,u,s,o;return Rt(this,(function(a){switch(a.label){case 0:return r=an.m_(),[4,n.uD({ZD:Jw.GET,zu:t,f_:i})];case 1:return e=a.sent(),u=an.m_()-r,[4,e.uE(i)];case 2:return s=a.sent(),o=1e3*Number(s),[2,[r,u,o]]}}))})),HX.apply(this,arguments)}var KX,qX=function(t){function n(){return t.call(this,"seek")}return bt(n,t),n}(ra);!function(t){t.WU="seek"}(KX||(KX={}));var JX=[Al.jh,gk.Nw,Al.fm],$X=function(t){function n(n,i,r,e,u,s,o,a,c,h){var f;return(f=t.call(this)||this).YLt=!1,f.axt=!1,f.YT=new Vm,f.VT=new Vm,f.uxt=void 0,f.xLt=void 0,f.CLt=void 0,f.jLt=new Bc,f.yz=void 0,f.Cvt=void 0,f.RLt=new Bc,f.dE=new zo,f.JLt=void 0,f.KLt=new zo,f.x5=void 0,f.L5=new zo,f.XLt=void 0,f.kLt=void 0,f.rxt=void 0,f.ZLt=void 0,f.LLt=void 0,f.nxt=void 0,f.oxt=void 0,f.Vm=function(){f.axt=!0},f.updateActiveQualities=function(){var t,n,i=f.Fm.U_,r=null==(t=f.kLt)?void 0:t.KDt(i),e=null==(n=f.LLt)?void 0:n.KDt(i);if(f.xLt!==r&&(f.xLt=r,r))for(var u=0,s=f.YT.Rw;u<s.length;u++){s[u].Jkt(r)}if(f.CLt!==e&&(f.CLt=e,e))for(var o=0,a=f.VT.Rw;o<a.length;o++){a[o].Jkt(e)}},f.cxt=function(t){var n=t.data;if(n.Av===HW._Et){var i,r=n.wEt,e=n.vEt,u=n.gEt,s=n.mEt;if(f.ULt){var o=f.ULt.kAt,a=f.Fm.U_;f.axt&&0!==a&&(f.FLt={theolive:o-r+u-a,engine:e,distribution:o-(r+e),player:u-a},f.PLt.GDt(f.ULt.ELt+r,u))}if(s)f.uxt||(f.uxt=f.Fm.rE(Q_.ZA,"timecode","timecode",void 0,!1,mA.DEFAULT,!1,void 0)),f.uxt.lE(new BA(u,u,s,!1,void 0)),ek(f.uxt,null!=(i=f.Fm.O_.Cn(0))?i:-1)}},f.M3=function(t){Bo(t)||(f.Zg(),f.Co(new gT(new Kv(Xv.MEDIA_LOAD_ERROR,t.message))))},f.bc=n,f.BLt=i,f.Fm=r,f.aE=u,f.PLt=s,f.wU=new QX(r,o,Wt(f),c,e),f.Mlt=a,f.sxt=h,f.yn(WW.lEt,f.cxt),f.Fm.yn(gk.Sm,f.Vm),f.Fm.yn(JX,f.updateActiveQualities),f}bt(n,t);var i=n.prototype;return i.zLt=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return t.kLt?[4,t.kLt.rS(0,1/0)]:[3,2];case 1:n.sent(),n.label=2;case 2:return t.LLt?[4,t.LLt.rS(0,1/0)]:[3,4];case 3:n.sent(),n.label=4;case 4:return[2]}}))}))()},i.$n=function(){if(!this.bc.src)throw new Kv(Xv.SOURCE_INVALID,"No src property found in given source.");this.Cvt||(this.Cvt=this.nst(this.dE.f_).catch(this.M3))},i.nst=function(t){var n=this;return Ot((function(){var i,r,e;return Rt(this,(function(u){switch(u.label){case 0:return n.Co(new YL),i=n.bc.src,[4,n.BLt.qIt(i,t)];case 1:return r=u.sent(),n.gkt=new bX(i,r),n.gkt.Rkt?[4,VX.create(n.gkt.Rkt,n.aE,t)]:[3,3];case 2:n.ULt=u.sent(),u.label=3;case 3:return n.QLt(),e=n.gkt.kkt[n.gkt.kkt.length-1],n.createTracksForPresentation(e),n.jLt.LL(),n.Zkt(),[2]}}))}))()},i.$kt=function(t){for(var n=0,i=this.YT.Rw;n<i.length;n++){var r=i[n];r.fS(r===t)}},i.iLt=function(t){for(var n=0,i=this.VT.Rw;n<i.length;n++){var r=i[n];r.fS(r===t)}},i.Zkt=function(){var t=co(this.YT.Rw,(function(t){return t.Rt})),n=co(this.VT.Rw,(function(t){return t.Rt})),i=this.wU.vLt(t,n);Xo(this.SLt(i.TLt,i.bLt))},i.QLt=function(){var t=this;if(this.gkt&&"live"===this.gkt.QK&&this.ULt){var n=this.gkt.kkt.filter((function(n){return n.o===t.gkt.xkt}))[0].U_,i=this.ULt.ELt+new Date(this.gkt.Tkt).getTime()/1e3;this.PLt.GDt(i,n)}},i.createTracksForPresentation=function(t){for(var n,i,r,e,u=0,s=null!=(r=t.mkt)?r:[];u<s.length;u++){var o=s[u];this.YT.tt(new jX(o,this))}for(var a=0,c=null!=(e=t.Akt)?e:[];a<c.length;a++){var h=c[a];this.VT.tt(new CX(h,this))}null==(n=this.YT.zw(0))||n.fS(!0),null==(i=this.VT.zw(0))||i.fS(!0)},i.Cn=function(){this.YLt=!0,this.GLt()},i.Zg=function(){var t;this.YLt=!1,this.VLt().catch(this.M3),"live"===(null==(t=this.fp)?void 0:t.QK)&&(this.WLt(),this.HLt())},i.WLt=function(){this.XLt&&this.XLt.cancelDownload()},i.HLt=function(){this.ZLt&&this.ZLt.cancelDownload()},i.tp=function(t){this.L5.g_(),this.L5=new zo,this.x5=this.qLt(t,this.x5,this.L5.f_).catch(this.M3),this.Co(new qX)},i.qLt=function(t,n,i){var r=this;return Ot((function(){var e,u;return Rt(this,(function(s){switch(s.label){case 0:return n?[4,n]:[3,2];case 1:s.sent(),s.label=2;case 2:return[4,Yo(r.W,i)];case 3:if(s.sent(),"live"!==r.gkt.QK)throw new v("The current video source does not support Live playback.");return Po(i),[4,r.VLt()];case 4:if(s.sent(),Po(i),!r.XLt||!r.XLt.kEt()&&r.XLt.NEt===(null!=t?t:"now"))return[3,10];if(r.WLt(),!r.kLt)return[3,9];s.label=5;case 5:return r.kLt.tEt?[4,Yo(r.kLt.eEt,i)]:[3,7];case 6:return s.sent(),[3,5];case 7:return[4,r.kLt.rS(0,1/0)];case 8:s.sent(),s.label=9;case 9:null==(e=r.XLt)||e.JA(null!=t?t:"now"),s.label=10;case 10:if(!r.ZLt||!r.ZLt.kEt()&&r.ZLt.NEt===(null!=t?t:"now"))return[3,16];if(r.HLt(),!r.LLt)return[3,15];s.label=11;case 11:return r.LLt.tEt?[4,Yo(r.LLt.eEt,i)]:[3,13];case 12:return s.sent(),[3,11];case 13:return[4,r.LLt.rS(0,1/0)];case 14:s.sent(),s.label=15;case 15:null==(u=r.ZLt)||u.JA(null!=t?t:"now"),s.label=16;case 16:return Po(i),r.x5=void 0,r.GLt(),[2]}}))}))()},i.JA=function(t){this.L5.g_(),this.L5=new zo,this.x5=this.C5(t,this.x5,this.L5.f_).catch(this.M3),this.Co(new qX)},i.C5=function(t,n,i){var r=this;return Ot((function(){var e,u;return Rt(this,(function(s){switch(s.label){case 0:return n?[4,n]:[3,2];case 1:s.sent(),s.label=2;case 2:return[4,Yo(r.W,i)];case 3:return s.sent(),Po(i),[4,r.VLt()];case 4:return s.sent(),Po(i),r.XLt&&(r.XLt.kEt()||r.XLt.NEt!==t)&&r.WLt(),r.ZLt&&(r.ZLt.kEt()||r.ZLt.NEt!==t)&&r.HLt(),Po(i),null==(e=r.XLt)||e.JA(t),null==(u=r.ZLt)||u.JA(t),r.x5=void 0,r.GLt(),[2]}}))}))()},i.SLt=function(t,n){var i,r;return(null==(i=this.XLt)?void 0:i.Lht)===n&&(null==(r=this.ZLt)?void 0:r.Lht)===t?q.resolve():(this.KLt.g_(),this.KLt=new zo,this.JLt=this.$Lt(t,n,this.JLt,this.KLt.f_).catch(this.M3),this.JLt)},i.$Lt=function(t,n,i,r){var e=this;return Ot((function(){return Rt(this,(function(u){switch(u.label){case 0:return i?[4,i]:[3,2];case 1:u.sent(),u.label=2;case 2:return[4,Yo(e.jLt.OL,r)];case 3:return u.sent(),Po(r),[4,e.VLt()];case 4:return u.sent(),Po(r),[4,e.txt(t,n)];case 5:return u.sent(),[4,e.ixt(t,n)];case 6:return u.sent(),Po(r),e.JLt=void 0,e.GLt(),[2]}}))}))()},i.txt=function(t,n){var i=this;return Ot((function(){var r,e,u,s,o,a,c,h,f,v,l,d,g,w,y,m,A,p;return Rt(this,(function(_){switch(_.label){case 0:return s=null!=(u=i.JIt)?u:"now",(null==(r=i.XLt)?void 0:r.Lht)===n?[3,5]:(a=i.XLt&&!i.XLt.kEt(),c=null==(o=i.XLt)?void 0:o.NEt,i.XLt?[4,i.XLt.h_()]:[3,2]);case 1:_.sent(),i.XLt=void 0,_.label=2;case 2:return i.kLt?[4,i.kLt.eEt]:[3,4];case 3:_.sent(),_.label=4;case 4:n&&(v=null!=(f=null==(h=i.kLt)?void 0:h.O_)?f:HD.oU(),l=a?c:v.jn(v.U-1),i.XLt=new aX(n,i.aE,i.Mlt),i.XLt.JA(null!=l?l:s)),_.label=5;case 5:return(null==(e=i.ZLt)?void 0:e.Lht)===t?[3,10]:(g=i.ZLt&&!i.ZLt.kEt(),w=null==(d=i.ZLt)?void 0:d.NEt,i.ZLt?[4,i.ZLt.h_()]:[3,7]);case 6:_.sent(),i.ZLt=void 0,_.label=7;case 7:return i.LLt?[4,i.LLt.eEt]:[3,9];case 8:_.sent(),_.label=9;case 9:t&&(A=null!=(m=null==(y=i.LLt)?void 0:y.O_)?m:HD.oU(),p=g?w:A.jn(A.U-1),i.ZLt=new aX(t,i.aE,i.Mlt),i.ZLt.yn(WW.lEt,i.Ds),i.ZLt.JA(null!=p?p:s)),_.label=10;case 10:return[2]}}))}))()},i.ixt=function(t,n){var i=this;return Ot((function(){var r,e,u,s,o,a,c;return Rt(this,(function(h){switch(h.label){case 0:if(r=function(t,n,i,r,e){var u=xX(t,null==n?void 0:n.Lt.qEt.qEt,null==i?void 0:i.Lt.qEt.qEt,r),s=bV(u),o=[];n&&o.push({Nz:n.aG});i&&o.push({Nz:i.aG});return{Av:dk.Sj,F1:o,Iz:s,t2:e&&!r}}(i.bc.contentProtection,n,t,i.Fm.Hm.Wm,i.bc.useManagedMediaSource),!i.yz||!i.yz.FZ(r))return[3,12];if(s=!(null==(e=i.XLt)?void 0:e.kEt()),!i.kLt||!s)return[3,5];h.label=1;case 1:return i.kLt.tEt?[4,i.kLt.eEt]:[3,3];case 2:return h.sent(),[3,1];case 3:return[4,i.kLt.MG()];case 4:h.sent(),h.label=5;case 5:if(o=!(null==(u=i.ZLt)?void 0:u.kEt()),!i.LLt||!o)return[3,10];h.label=6;case 6:return(null==(a=i.LLt)?void 0:a.tEt)?[4,i.LLt.eEt]:[3,8];case 7:return h.sent(),[3,6];case 8:return[4,null==(c=i.LLt)?void 0:c.MG()];case 9:h.sent(),h.label=10;case 10:return[4,i.yz.GZ(r)];case 11:return h.sent(),[3,21];case 12:return i.WLt(),i.HLt(),i.kLt?[4,i.kLt.h_()]:[3,14];case 13:h.sent(),i.kLt=void 0,h.label=14;case 14:return i.LLt?[4,i.LLt.h_()]:[3,16];case 15:h.sent(),i.LLt=void 0,h.label=16;case 16:i.Fm.z6(),h.label=17;case 17:return h.trys.push([17,,20,21]),[4,i.Fm.tr()];case 18:return h.sent(),[4,i.Fm.$n(r)];case 19:return i.yz=h.sent(),i.RLt.LL(),i.yz.I1&&i.XLt&&(i.yz.I1.yn(EL.CZ,i.Ds),i.kLt=new VW(i.yz.I1,i.Fm,n,i.sxt)),i.yz.D1&&i.ZLt&&(i.yz.D1.yn(EL.CZ,i.Ds),i.LLt=new VW(i.yz.D1,i.Fm,t,i.sxt)),"live"===i.gkt.QK&&i.yz.P1(1/0),[3,21];case 20:return i.Fm.B6(),[7];case 21:return[2]}}))}))()},i.GLt=function(){!this.YLt||this.x5||this.JLt||this.nxt||this.rxt||(this.wU.Cn(),this.oxt=new zo,this.ZLt&&this.LLt&&(this.nxt=this.hxt(this.ZLt,this.LLt,this.oxt.f_).catch(this.M3)),this.XLt&&this.kLt&&(this.rxt=this.hxt(this.XLt,this.kLt,this.oxt.f_).catch(this.M3)))},i.VLt=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return t.wU.Zg(),t.oxt&&(t.oxt.g_(),t.oxt=void 0),t.nxt?[4,t.nxt]:[3,2];case 1:n.sent(),t.nxt=void 0,n.label=2;case 2:return t.rxt?[4,t.rxt]:[3,4];case 3:n.sent(),t.rxt=void 0,n.label=4;case 4:return[2]}}))}))()},i.hxt=function(t,n,i){var r=this;return Ot((function(){var e,u,s,o,a,c,h,f,v,l,d;return Rt(this,(function(g){switch(g.label){case 0:return[4,r.W];case 1:g.sent(),g.label=2;case 2:return t.tEt?[4,Yo(t.eEt,i)]:[3,4];case 3:return g.sent(),[3,2];case 4:return n.tEt?[4,Yo(n.eEt,i)]:[3,6];case 5:return g.sent(),[3,4];case 6:return t.kEt()?[3,13]:(e=an.m_()/1e3,u="now"===t.NEt,[4,t.LEt()]);case 7:return s=g.sent(),o=s.initialization,a=s.data,c=s.metadata,h={Av:CL.jZ,ly:o},f=a?{Av:CL.jZ,ly:a}:void 0,v=n.O_,!an.Ys.Ret&&!r.Fm.Hm.Wm&&c&&v.jn(v.U-1)>c.F7?[4,n.rS(c.F7,1/0)]:[3,9];case 8:g.sent(),g.label=9;case 9:return[4,n.X$(h)];case 10:return g.sent(),f?[4,n.V$(f,c,t.Lht)]:[3,12];case 11:g.sent(),g.label=12;case 12:l=n.O_.VB(v),u&&l.U>0&&r.PLt.FDt(e,l.jn(l.U-1)),g.label=13;case 13:return t.SEt?[3,15]:(Po(i),d=t.zEt(),[4,Yo(n.appendStream(d,t),i)]);case 14:return g.sent(),[3,13];case 15:return[2]}}))}))()},i.h_=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return t.dE.g_(),t.Cvt?[4,t.Cvt.catch(Kn)]:[3,2];case 1:n.sent(),n.label=2;case 2:return t.x5?(t.L5.g_(),t.WLt(),t.HLt(),[4,t.x5.catch(Kn)]):[3,4];case 3:n.sent(),n.label=4;case 4:return t.JLt?(t.KLt.g_(),t.WLt(),t.HLt(),[4,t.JLt.catch(Kn)]):[3,6];case 5:n.sent(),n.label=6;case 6:return[4,t.VLt()];case 7:return n.sent(),t.XLt?[4,t.XLt.h_()]:[3,9];case 8:n.sent(),n.label=9;case 9:return t.ZLt?[4,t.ZLt.h_()]:[3,11];case 10:n.sent(),n.label=11;case 11:return t.XLt=void 0,t.ZLt=void 0,t.RLt.g_(),t.jLt.g_(),t.yz?[4,t.Fm.tr()]:[3,13];case 12:n.sent(),t.yz=void 0,n.label=13;case 13:return t.kLt=void 0,t.LLt=void 0,t.Fm.fn(gk.Sm,t.Vm),t.Fm.fn(JX,t.updateActiveQualities),t.YT.tr(),t.xLt=void 0,t.VT.tr(),t.CLt=void 0,t.gkt=void 0,t.ULt&&(t.ULt.h_(),t.ULt=void 0),t.YLt=!1,[2]}}))}))()},At(n,[{key:"fp",get:function(){return this.gkt}},{key:"O_",get:function(){return this.kLt&&this.LLt?this.kLt.O_.Sn(this.LLt.O_):this.kLt?this.kLt.O_:this.LLt?this.LLt.O_:HD.oU()}},{key:"tLt",get:function(){return this.xLt}},{key:"eLt",get:function(){return this.CLt}},{key:"ht",get:function(){return this.YT}},{key:"rt",get:function(){return this.VT}},{key:"OLt",get:function(){return this.jLt.OL}},{key:"W",get:function(){return this.RLt.OL}},{key:"Ig",get:function(){return this.gkt?function(t,n,i){var r,e=null==(r=t.kkt[0])?void 0:r.U_,u=t.Mkt;if(void 0===e||void 0===u)return i>0&&i<Ri?new HD([0,i],[!0,!0]):HD.oU();var s=n.WDt;if(!s){var o=GY(t.Tkt).getTime()/1e3;s=e+(Date.now()/1e3-o)}return new HD([s-u,s],[!0,!0])}(this.gkt,this.PLt,this.Fm.ct):HD.oU()}},{key:"lp",get:function(){return this.FLt}},{key:"JIt",get:function(){var t=this.PLt.WDt;if(void 0!==t)return t}}]),n}($o);var tZ=[Al.Jv,Al.fm,Al.Ov,Al.qv,Al._m,Al.Lv,Al.zv,Al.Rv],nZ=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this)._Lt=void 0,s.aU=!1,s.L5=new zo,s.x5=void 0,s.MNt=void 0,s.Dxt=new zo,s.wtt=!0,s.axt=!1,s.YT=new KT,s.VT=new KT,s.mz=void 0,s.vz=void 0,s.mxt=FD.yB,s.lxt=function(){s.Fm.fg!==s.wtt&&(s.Fm.fg?s.Hg():s.Xg().catch(Kn))},s.VQ=function(){s.axt=!0},s.Mxt=function(t){s.mz=t.errorObject,s.vz=Km(s.mz),s.Axt(s.mz)},s.dxt=function(t){s.mz=Jm(t.lt),s.vz=t.lt,s.Axt(s.mz)},s.Fm=n,s.zz=new Dk(s.Fm,!0),s.aE=i,s.Sz=new YW(r.aX,r.VH.VP),s.Lz=new _T(i),s.Fm.Qz=s.Lz,s.sxt=new cY(s.Fm),s.Dl=new bT([s.Fm.nt,s.sxt.Z]),s.PLt=new FW,s.gxt=new SW(Wt(s)),s.vU=e,s.Mlt=u.retryConfiguration,s.Gw(),s}bt(n,t);var i=n.prototype;return i.Gw=function(){this.Fm.yn(tZ,this.Ds),this.Fm.yn(gk.Sm,this.VQ),this.Fm.yn([Al.jh,Al.Sh],this.lxt),this.Fm.yn(p_.ha,this.dxt),this.zz.yn(yk,this.Ds)},i.Fw=function(){this.Fm.fn(tZ,this.Ds),this.Fm.fn(gk.Sm,this.VQ),this.Fm.fn([Al.jh,Al.Sh],this.lxt),this.Fm.fn(p_.ha,this.dxt),this.zz.fn(yk,this.Ds)},i.qg=function(){return!1},i.Gg=function(){return this.Fm.ya},i.be=function(){this.Fm.be()},i.ge=function(){return this.Fm.ge()},i.$g=function(){},i.iw=function(){},i.Kg=function(){},i.Jg=function(){},i.F_=function(t,n){this.L5.g_(),this.L5=new zo,this.x5=this.C5(t,this.L5.f_,this.x5)},i._xt=function(){var t=this.fp;if(t){for(var n=new Date(t.creationDate).getTime(),i=NaN,r=0,e=t.presentations;r<e.length;r++){var u=e[r];u.currentTime&&(i=u.currentTime.value/(u.currentTime.scale||1)*1e3)}if(!A(i))return new Date(n-i)}},i.pxt=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return t.mxt!==FD.yB&&t._Lt?(t._Lt.$n(),t.mxt!==FD.LT&&t.mxt!==FD.YP?[3,2]:[4,t._Lt.OLt]):[2];case 1:n.sent(),"vod"===t._Lt.fp.QK&&t._Lt.Cn(),n.label=2;case 2:return[2]}}))}))()},i.ga=function(t,n,i){var r=this;return Ot((function(){var n,e;return Rt(this,(function(u){switch(u.label){case 0:return Po(i),[4,r.tr()];case 1:return u.sent(),Po(i),sD(t)?(n=t,r.bc=n,e=new EW(r.aE),r.wxt=r.yxt(t),r.fz=new lN(r,r.Fm,r.wxt),r.fz.Rt=!0,r.fz.yn("latencyrecoveryseek",r.Ds),r.vxt=void 0,r.Qg.ka(r.fz),r._Lt=new $X(n,e,r.Fm,r.Sz,r.aE,r.PLt,r.fz,r.Mlt,r,r.sxt),r._Lt.yn(Al.Gv,r.Ds),r._Lt.yn(p_.ha,r.Mxt),r.YT.Uw=r._Lt.ht,r.VT.Uw=r._Lt.rt,r.Lz.HP(t.contentProtection),Xo(r.pxt()),[2]):(r.mz=new Kv(Xv.SOURCE_INVALID,"HESP source incorrectly configured"),r.vz=Km(r.mz),r.Axt(r.mz),[2,q.resolve()])}}))}))()},i.yxt=function(t){return t.latencyConfiguration?t.latencyConfiguration:this.vxt?fN(this.vxt):hN()},i.Xg=function(){var t=this;return Ot((function(){var n,i;return Rt(this,(function(r){switch(r.label){case 0:return t._Lt?(t.wtt=!1,t._Lt.$n(),[4,t._Lt.W]):[2];case 1:return r.sent(),t.Co(new yD(t.U_)),i=t._Lt.k_(KX.WU),t.tp(),[4,i];case 2:return r.sent(),t._Lt.Cn(),[4,t.Fm.Xg()];case 3:return r.sent(),null==(n=t.fz)||n.Cn(),[2]}}))}))()},i.Hg=function(){var t;this._Lt&&(this.wtt=!0,this.Co(new wD(this.U_)),this._Lt.Zg(),null==(t=this.fz)||t.Zg(),this.Fm.Hg())},i.tp=function(){if(this.MNt)throw new v("Cannot seek while resetting");this.L5.g_(),this.L5=new zo,this.x5=this.qLt(this.x5,this.L5.f_)},i.bxt=function(){var t;null==(t=this._Lt)||t.Zg()},i.Axt=function(t){this.Co(new gT(t)),this.bxt()},i.C5=function(t,n,i){var r=this;return Ot((function(){var e,u,s,o;return Rt(this,(function(a){switch(a.label){case 0:if(r.MNt)throw new v("Cannot seek while resetting");return u=t,r.Txt(u),r.Ig.length>0&&(u=HD.xn(r.Ig).zB(u),r.Txt(u)),r._Lt?i?[4,i.catch(Kn)]:[3,2]:[2];case 1:a.sent(),Po(n),a.label=2;case 2:(null==(e=r.fz)?void 0:e.Lm)&&r.fz.Zg(),a.label=3;case 3:return a.trys.push([3,5,,6]),s=r.Fm.k_(Al.$v,n),r.Fm.JA(u),r._Lt.JA(u),[4,s];case 4:return a.sent(),[3,6];case 5:throw Uo(o=a.sent()),r._Lt.Zg(),r.Sxt(),o;case 6:return r.Nxt(),[2]}}))}))()},i.qLt=function(t,n){var i=this;return Ot((function(){var r,e,u,s,o,a,c;return Rt(this,(function(h){switch(h.label){case 0:return i.Co(new ra("golive")),r=i.JIt,i.Txt(r),i._Lt?t?[4,t.catch(Kn)]:[3,2]:[2];case 1:h.sent(),Po(n),h.label=2;case 2:return h.trys.push([2,11,,13]),e=i.fz.xm.targetOffset,[4,i._Lt.OLt];case 3:if(h.sent(),u=r&&e>=1?r-(e-.4):i.JIt?i.JIt-.2:void 0,i._Lt.tp(u),!(i.VTt.U>0))return[3,6];h.label=4;case 4:return i.VTt.U>0?[4,i._Lt.k_(EL.CZ,n)]:[3,6];case 5:return h.sent(),[3,4];case 6:s=i.VTt,h.label=7;case 7:return 0!==i.VTt.VB(s).U?[3,9]:[4,i._Lt.k_(EL.CZ,n)];case 8:return h.sent(),[3,7];case 9:return u=i.VTt.Cn(i.VTt.U-1),u=i.Ixt(u),i.Txt(u),o=i.Fm.k_(Al.$v,n),i.Fm.JA(u,!0),[4,o];case 10:return h.sent(),[3,13];case 11:if(Bo(a=h.sent()))throw null==(c=i.fz)||c.Cn(),a;return i._Lt.Zg(),[4,i._Lt.zLt()];case 12:throw h.sent(),i.Sxt(),a;case 13:return i.Nxt(),[2]}}))}))()},i.Txt=function(t){this.aU=!0,this.fxt=t,this.Co(new _D(this.U_))},i.Nxt=function(){this.aU&&(this.fxt=void 0,this.aU=!1,this.Co(new kD(this.U_)))},i.Sxt=function(){this.fxt=void 0,this.aU=!1},i.Ixt=function(t){return t},i.bNt=function(t,n,i){var r=this;return Ot((function(){var e;return Rt(this,(function(u){switch(u.label){case 0:return Po(i),t?[4,t.catch(Kn)]:[3,2];case 1:u.sent(),u.label=2;case 2:return n?[4,n.catch(Kn)]:[3,4];case 3:u.sent(),u.label=4;case 4:return[4,r.sxt.tr()];case 5:return u.sent(),null==(e=r.fz)||e.Zg(),r._Lt?[4,r._Lt.h_()]:[3,7];case 6:u.sent(),r._Lt=void 0,u.label=7;case 7:return Po(i),[4,r.Fm.tr()];case 8:return u.sent(),Po(i),r.Fm.Pz(),r.VT.tr(),r.YT.tr(),r.Sxt(),r.zz.tr(),r.PLt.tr(),r.mz=void 0,r.vz=void 0,r.wtt=!0,r.axt=!1,r.bc=void 0,r.MNt=void 0,r.wxt=void 0,[2]}}))}))()},i.tr=function(){return this.L5.g_(),this.L5=new zo,this.Dxt.g_(),this.Dxt=new zo,this.MNt=this.bNt(this.x5,this.MNt,this.Dxt.f_),this.MNt},i.gn=function(){var t=this;return Ot((function(){var n,i;return Rt(this,(function(r){switch(r.label){case 0:return t.Fw(),t.zz.gn(),t.bc?[4,t.tr()]:[3,2];case 1:r.sent(),r.label=2;case 2:return t.Vo(),t.Fm.Qz=void 0,null==(n=t.fz)||n.fn("latencyrecoveryseek",t.Ds),null==(i=t.fz)||i.h_(),[4,t.sxt.gn()];case 3:return r.sent(),t.Dl.gn(),t.YT.gn(),t.VT.gn(),[2]}}))}))()},At(n,[{key:"ht",get:function(){return this.YT}},{key:"rt",get:function(){return this.VT}},{key:"fp",get:function(){var t,n;return null==(n=this._Lt)||null==(t=n.fp)?void 0:t.fp}},{key:"zg",get:function(){return this.Fm.zg},set:function(t){this.Fm.zg=t}},{key:"Yg",get:function(){return!1},set:function(t){}},{key:"Tz",get:function(){return this.Sz}},{key:"og",get:function(){return this.Fm.og},set:function(t){this.Fm.og=t}},{key:"U_",get:function(){var t;return null!=(t=this.fxt)?t:this.Fm.U_},set:function(t){this.F_(t)}},{key:"R_",get:function(){var t=this._xt();if(t)return new Date(t.getTime()+1e3*this.U_)},set:function(t){var n=this._xt();t&&n&&(this.U_=n.getTime()-t.getTime())}},{key:"bt",get:function(){return this.bc}},{key:"gg",get:function(){return this.Fm.gg},set:function(t){this.Fm.gg=t}},{key:"ct",get:function(){var t=this.Fm.ct;return t===Ri?1/0:t}},{key:"G_",get:function(){return!1}},{key:"H_",get:function(){return this.mz}},{key:"lt",get:function(){return this.vz}},{key:"Z_",get:function(){return this.gxt}},{key:"K_",get:function(){return!1}},{key:"eg",get:function(){return $u({},{HT:0,XT:0,ZT:0,qT:0,KT:0,JT:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.Fm.rg())}},{key:"cg",get:function(){return!0}},{key:"Eg",get:function(){return this.aU}},{key:"Mz",get:function(){}},{key:"nt",get:function(){return this.Dl}},{key:"Cg",get:function(){return this.Fm.Cg}},{key:"Rg",get:function(){return this.Fm.Rg}},{key:"O_",get:function(){return this.VTt.ks()}},{key:"VTt",get:function(){return this._Lt?this._Lt.O_:HD.oU()}},{key:"pg",get:function(){return this.Fm.pg.ks()}},{key:"Ig",get:function(){var t,n;return null!=(n=null==(t=this._Lt)?void 0:t.Ig.ks())?n:HD.oU().ks()}},{key:"fg",get:function(){return this.wtt}},{key:"dp",get:function(){return!0}},{key:"Qg",get:function(){return this.vU}},{key:"$It",get:function(){return this.fz?vN(this.fz.xm):null!=(n=this.tDt)?n:vN(null!=(t=this.wxt)?t:hN());var t,n}},{key:"tDt",get:function(){if(!this.fz)return this.vxt;var t=this.fz.Om;return t?vN(t):void 0},set:function(t){this.fz?this.fz.Om=t?fN(t):void 0:this.vxt=t}},{key:"JIt",get:function(){var t;return null==(t=this._Lt)?void 0:t.JIt}},{key:"Km",get:function(){if(!this.fg&&this.axt){var t=this.U_,n=this.PLt.HDt(t);if(void 0!==n){var i=this.VTt,r=0;if(i.U>0){var e=i.jn(i.U-1);r=w.max(e-t,0)}return w.max(n,r)}}}},{key:"lp",get:function(){var t;return null==(t=this._Lt)?void 0:t.lp}},{key:"Sg",get:function(){return this.Fm.Sg}},{key:"yg",get:function(){return this.mxt},set:function(t){this.mxt=t,this.pxt()}}]),n}($o),iZ=function(t){function n(n,i,r,e,s,o){var a;return(a=t.call(this,n,i,r,e,o)||this).Ext=!1,a.kxt=function(){var t=a.og||0===a.zg;"hidden"===u.visibilityState&&!a.fg&&t?(a.Hg(),a.Ext=!0):"visible"===u.visibilityState&&a.Ext&&(Xo(a.Xg()),a.Ext=!1)},a.Yz=s,a.Lxt=n,u.addEventListener("visibilitychange",a.kxt),a}bt(n,t);var i=n.prototype;return i.Vg=function(){if(RB(this.Fm))return this.Fm.Vg()},i.tr=function(){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return n.Ext=!1,[4,t.prototype.tr.call(n)];case 1:return i.sent(),[2]}}))}))()},i.gn=function(){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return u.removeEventListener("visibilitychange",n.kxt),[4,t.prototype.gn.call(n)];case 1:return i.sent(),[4,n.Fm.h_()];case 2:return i.sent(),[4,n.Yz.Fz(n.Lxt)];case 3:return i.sent(),[2]}}))}))()},i.Ixt=function(t){return xn.zk&&xn.Uk>=15&&xn.QE?t+.25:t},n}(nZ);yt(),C(),zt(),pt(),Ut();var rZ=function(){function t(){}return t.prototype.hB=function(t,n){return Ot((function(){return Rt(this,(function(n){return[2,eZ(t.type)]}))}))()},At(t,[{key:"uB",get:function(){return wT.Np}}]),t}();function eZ(t){if(!t)return!1;var n=t.toLowerCase();return Bs(n,_N.Sp)||Bs(n,_N.Np)}var uZ=function(t){function n(){return t.apply(this,arguments)}bt(n,t);var i=n.prototype;return i.Yp=function(t,n,i,r,e,u,s){var o=new tP(n),a=o.oB(Gm.VA);return new iZ(a,i,e,u,o,r)},i.hB=function(n,i){return Pu(n.useManagedMediaSource)?t.prototype.hB.call(this,n,i):q.resolve(!1)},i.aB=function(){return!1},n}(rZ);QD(new uZ),yt(),C(),zt(),pt(),Mt(),Ut(),yt(),C(),zt(),Mt(),Ut();var sZ=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n,i,r,e,s)||this).Yz=u,o}bt(n,t);var i=n.prototype;return i.Vg=function(){if(RB(this.Fm))return this.Fm.Vg()},i.gn=function(){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return i.sent(),[4,n.Yz.Fz(n.Fm)];case 2:return i.sent(),[2]}}))}))()},n}(nZ),oZ=function(t){function n(){return t.apply(this,arguments)}bt(n,t);var i=n.prototype;return i.hB=function(n,i){var r=this;return Ot((function(){var e,u,s,a;return Rt(this,(function(c){switch(c.label){case 0:return[4,t.prototype.hB.call(r,n,i)];case 1:if(s=c.sent(),!(null!=(a=null==(u=Eu())||null==(e=u.canPlayType)?void 0:e.call(u,_N.Mp))?a:"")||!s||!("serviceWorker"in o))return[2,!1];c.label=2;case 2:return c.trys.push([2,4,,5]),[4,qo(o.serviceWorker.ready,1e3)];case 3:return c.sent(),[2,!0];case 4:return c.sent(),[2,!1];case 5:return[2]}}))}))()},i.Yp=function(t,n,i,r,e,u,s){if(t instanceof HTMLDivElement){var o=n.nnt(Gm.VA);return new sZ(o,i,e,u,n,r)}throw new Kv(Xv.CONFIGURATION_ERROR,"Container Div element expected.")},i.aB=function(){return!1},At(n,[{key:"uB",get:function(){return wT.FP}}]),n}(rZ);xn.zk&&xn.Ga&&QD(new oZ),yt(),C(),yt(),C(),yt(),C(),Xt(),zt(),pt(),Mt(),Ut(),yt(),C(),pt();var aZ="theo_live_user_id",cZ=function(){function t(t){this.externalId=t,this.id=HE(),this.userId=hZ(),this.oC=0}return t.prototype.incrementSequenceNumber=function(){this.oC+=1},At(t,[{key:"sequenceNumber",get:function(){return this.oC}}]),t}();function hZ(){try{var t=localStorage.getItem(aZ);if(t)return t;var n=HE();return localStorage.setItem(aZ,n),n}catch(t){return HE()}}yt(),C(),zt(),pt(),Mt(),Ut();var fZ=function(){function t(t,n){this.aE=t,this.xxt=new Map,this.Cxt=n}return t.prototype.Bwt=function(t){var n=this.xxt.get(t.id);if(n)return n;var i=new vZ(t,this.aE,this.Cxt);return this.xxt.set(t.id,i),i},t}(),vZ=function(){function t(t,n,i){this.uS=t,this.aE=n,this.Bxt=new kl,i.discoveryHeader&&this.Bxt.append("x-theolive-discovery",i.discoveryHeader),this.Yn()}var n=t.prototype;return n.Yn=function(){var t=this;this.Rxt=!1,this.jxt=Zi(),this.Pxt=this.Tbt(),this.Pxt.catch((function(){return t.Rxt=!0}))},n.Tbt=function(){var t=this;return Ot((function(){var n,i,r,e,u,s,o,a,c,h;return Rt(this,(function(f){switch(f.label){case 0:return n=t.uS,i=n.id,r=n.discovery,Ps(r.pathname,"manifest.json")?[2,lZ(t.uS)]:[4,t.zxt(t.uS,t.Bxt)];case 1:if(!(e=f.sent()))throw new gZ(i);if(u=e.mode,s=e.status,o=e.fallback,a=e.metadata,"locked"===u)throw new wZ(i);if("deleted"===s)throw new yZ(i);return c={id:t.uS,name:a.name,mode:u,status:s,source:mZ(e)},o?[4,t.Uxt(o,r,t.Bxt)]:[3,3];case 2:return h=f.sent(),[3,4];case 3:h=void 0,f.label=4;case 4:return[2,(c.fallback=h,c.insights=null==a?void 0:a.insights,c.enhancedLogging=null==a?void 0:a.enhancedLogging,c.customization=null==a?void 0:a.customization,c)]}}))}))()},n.Uxt=function(t,n,i){var r=this;return Ot((function(){var e,u;return Rt(this,(function(s){switch(s.label){case 0:return"theo.live"!==t.type?[2,{src:t.src,type:t.type}]:(e={id:t.src,discovery:n},[4,r.zxt(e,i)]);case 1:return(u=s.sent())?[2,mZ(u)]:[2,void 0]}}))}))()},n.zxt=function(t,n){var i=t.id,r=t.discovery,e=this;return Ot((function(){return Rt(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,e.aE.uD({zu:an.Dh(i,r.toString()).toString(),XD:n})];case 1:return[4,t.sent().SR()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,void 0];case 4:return[2]}}))}))()},At(t,[{key:"Oxt",get:function(){return Zi()-this.jxt>36e5}},{key:"M8",get:function(){return(this.Rxt||this.Oxt)&&this.Yn(),this.Pxt}}]),t}();function lZ(t){return{id:{id:t.id,discovery:an.Dh("dev://")},name:"demo",mode:"demo",status:"playing",source:{src:t.id,type:"theo.live"},customization:{autoplay:!0}}}var dZ=function(t){function n(n,i,r){var e;return(e=t.call(this,n,"Could not load channel with id "+i+": "+r)||this).channelId=i,e.reason=r,e}return bt(n,t),n}(Kv),gZ=function(t){function n(n){return t.call(this,Xv.THEO_LIVE_CHANNEL_NOT_FOUND,n,"The channel could not be found")}return bt(n,t),n}(dZ),wZ=function(t){function n(n){return t.call(this,Xv.THEO_LIVE_CHANNEL_NOT_FOUND,n,"This account has been locked")}return bt(n,t),n}(dZ),yZ=function(t){function n(n){return t.call(this,Xv.THEO_LIVE_CHANNEL_NOT_FOUND,n,"The channel got deleted")}return bt(n,t),n}(dZ);function mZ(t){var n;return{src:t.hespSrc,type:"theo.live",targetLatency:null==(n=t.metadata.customization)?void 0:n.targetLatency,contentProtection:t.drmConfig?AZ(t.drmConfig):void 0}}function AZ(t){var n=t.integration,i=t.widevine,r=t.playready,e=t.fairplay;return $u({integration:n},i&&{widevine:{licenseAcquisitionURL:i.licenseUrl}},r&&{playready:{licenseAcquisitionURL:r.licenseUrl}},e&&{fairplay:{licenseAcquisitionURL:e.licenseUrl,certificateURL:e.certificateUrl}})}function pZ(t,n){return{id:t,discovery:an.Dh(t,n)}}function _Z(t,n){var i=an.Dh(t),r=HE();return i.searchParams.append("CMCD","rid="+r+"&sid="+n.id),i.searchParams.append("userId",n.userId),n.externalId&&i.searchParams.append("externalSessionId",n.externalId),i.href}yt(),C(),Mt(),yt(),C(),yt(),C(),pt();var kZ=function(){function t(){this.Vxt=!1,this.amountOfSamples=0,this.currentAverage=0,this.Yxt=1/0}return t.prototype.Gxt=function(t){this.Vxt=!0,this.currentAverage=this.currentAverage+(t-this.currentAverage)/(this.amountOfSamples+1),this.amountOfSamples+=1,this.Yxt=w.min(this.Fxt,t)},At(t,[{key:"Qxt",get:function(){return this.amountOfSamples>0?this.currentAverage:0}},{key:"Fxt",get:function(){return this.Yxt}}]),t}(),bZ=function(){function t(){this.Wxt=0,this.Hxt=1/0,this.Xxt=0,this.Zxt=0,this.qxt=0}var n=t.prototype;return n.Gxt=function(t){this.Wxt+=1,this.Hxt=w.min(this.Hxt,t),this.Xxt=w.max(this.Xxt,t),this.Zxt+=(t-this.Zxt)/this.Wxt,this.qxt=t},n.Kxt=function(){if(0!==this.Wxt)return{weight:this.Wxt,minimum:w.round(this.Hxt),average:w.round(this.Zxt)}},n.Jxt=function(){if(0!==this.Wxt)return{weight:this.Wxt,minimum:w.round(this.Hxt),average:w.round(this.Zxt),latest:w.round(this.qxt)}},n.$xt=function(){if(0!==this.Wxt)return{weight:this.Wxt,maximum:w.round(this.Xxt),average:w.round(this.Zxt)}},t}(),MZ=function(t){function n(){return t.call(this,Xv.THEO_LIVE_ANALYTICS_ERROR,"Illegal configuration: unexpected property analyticsEnabled")}return bt(n,t),n}(Kv),TZ=function(){function t(t,n,i){var r=this;this.GCt=an.m_(),this.nCt=!1,this.axt=!1,this.aCt=!1,this.VCt=!1,this.WCt=0,this.FCt=[],this.HCt=0,this.xCt=[],this.CCt=[],this.OCt=[],this.zCt=1/0,this.BCt=-1/0,this.UCt=new kZ,this.rCt=-1/0,this.LCt=[],this.SCt=void 0,this.XCt=void 0,this.ja=void 0,this.lCt=function(){var t,n;r.Qo.rt.zw(0).yn(gm.xw,r.jCt),r.tCt("qualities",{qualities:null==(n=r.Qo.rt.zw(0))||null==(t=n.qw)?void 0:t.Rw.map((function(t){return{id:t.o,bandwidth:t.GP,label:t.kh,width:t.ji,height:t.Ti}}))})},this.bCt=function(){r.tCt("exit"),r.Ta("end");for(var t=r.ICt(),n=0,i=r.FCt;n<i.length;n++){var e=i[n];r.YCt(e)}r.FCt.length=0,r.YCt(t)},this.TCt=function(){r.tCt("visibilitychange",{visibility:u.visibilityState})},this.mCt=function(t){t.redirect($u({},t,{url:_Z(t.url,r.hCt)}))},this.uCt=function(t){r.tCt("error",{message:t.errorObject.message})},this.cCt=function(){r.tCt("volumechange",{volume:r.Qo.zg,muted:r.Qo.og})},this.jCt=function(t){var n,i=t.Lht.GP;r.tCt("qualitychange",{from:r.XCt,to:i}),r.XCt=i;var e,u=r.QCt(t.Lht);r.tCt("bandwidth-distribution",u),r.Ta(null!=(e=null==(n=r.ja)?void 0:n.state)?e:"loading")},this.dCt=function(t){var n;r.tCt("playbackratechange",{rate:t.playbackRate,latency:null==(n=r.Qo.Z_)?void 0:n.Km})},this.ett=function(){var t;r.axt||(r.axt=!0,r.tCt("firstplaying",{targetLatency:null==(t=r.Qo.Z_)?void 0:t.Km}));var n,i,e,u,s=r.nCt;(r.nCt=!0,s)?r.tCt("playing",{activeQuality:null==(i=r.Qo.rt.zw(0))||null==(n=i.Hw)?void 0:n.GP}):r.tCt("playing",{timeSincePlay:(an.m_()-r.GCt)/1e3,activeQuality:null==(u=r.Qo.rt.zw(0))||null==(e=u.Hw)?void 0:e.GP});r.Ta("play")},this.ott=function(t){r.tCt("pause"),r.nCt=!1,r.Ta("pause")},this.ntt=function(){r.tCt("play"),r.GCt=an.m_()},this.fCt=function(){an.m_()-r.rCt>100&&r.tCt("liveseek",{when:r.nCt?"playback":"after-pause"})},this._Ct=function(){r.rCt=an.m_(),r.tCt("latencyrecoveryseek",{when:r.nCt?"playback":"after-pause"})},this.gCt=function(t){r.VCt||(r.VCt=!0,r.WCt=Zi(),r.tCt("stallstart",{when:r.nCt?"playback":"after-pause"})),r.Ta("stall")},this.wCt=function(t){if(r.VCt){r.VCt=!1;var n=(Zi()-r.WCt)/1e3;r.tCt("stallend",{stallDuration:n})}},this.vCt=$n((function(t){var n,i;r.tCt("dimensionchange",{width:t.width,height:t.height}),r.Ta(null!=(i=null==(n=r.ja)?void 0:n.state)?i:"loading")}),1e3),this.MCt=function(t){r.tCt("aderror",null==t?void 0:t.message)},this.ACt=function(t){switch(t.type){case"Bit":r.tCt("adbreakbegin");break;case"zit":r.tCt("adbreakend");break;case"Uit":r.tCt("adbegin");break;case"Qit":r.tCt("adend");break;case"pCt":r.tCt("adskip")}},this.tCt=function(t,n){r.xCt.push({sequenceNumber:r.HCt++,currentTime:Zi()/1e3,type:t,extra:n})},this.Qo=t,this.hCt=n,this.Cxt=i}var n=t.prototype;return n.Ta=function(t){var n,i,r,e={state:t,width:this.Qo.we.clientWidth,height:this.Qo.we.clientHeight,activeQuality:null!=(r=null==(i=this.Qo.rt.zw(0))||null==(n=i.Hw)?void 0:n.GP)?r:-1,time:an.m_()};this.ja&&function(t,n){return t.state===n.state&&t.activeQuality===n.activeQuality&&t.height===n.height&&t.width===n.width}(this.ja,e)||(this.ja=e,this.tCt("statechange",e))},n.iCt=function(t){var n,i;this.Ta("loading");var r,e,u=Ps(an.Dh(t.source.src).host,"fastly.net");if(!this.eCt()&&!u)throw new MZ;this.sCt=t,this.nCt=!1,this.axt=!1,this.rCt=-1/0,this.oCt({type:"session",channelId:t.id.id,channelStatus:t.status,sessionId:this.hCt.id,externalSessionId:this.hCt.externalId,backup:null==(n=t.fallback)?void 0:n.src,autoplay:null!=(r=null==(i=t.customization)?void 0:i.autoplay)&&r,userAgent:o.userAgent,clientVersion:"8.3.0",clientType:"theoplayer"}),this.tCt("loadchannel",{targetLatency:null!=(e=t.source.targetLatency)?e:0})},n.Cn=function(){var t=this;if(!this.aCt){var n,i;this.aCt=!0,this.Qo.yn(p_.ha,this.uCt),this.Qo.yn(Al._m,this.cCt),this.Qo.rt.yn(hm.hw,this.lCt),this.Qo.yn(Al.qv,this.dCt),this.Qo.yn(gk.Sm,this.ett),this.Qo.yn(Al.Sh,this.ott),this.Qo.yn(Al.jh,this.ntt),this.Qo.Z_.yn("golive",this.fCt),this.Qo.Z_.yn("latencyrecoveryseek",this._Ct),this.Qo.yn(gk.Tm,this.gCt),this.Qo.yn(Al.fm,this.wCt),this.Qo.yn(fS.pn,this.vCt),this.Qo.hF.RH(this.mCt),null==(n=this.Qo.Oc)||n.yn(["Bit","zit","Uit","Qit","pCt"],this.ACt),null==(i=this.Qo.Oc)||i.yn("yCt",this.MCt),e.addEventListener("beforeunload",this.bCt),u.addEventListener("visibilitychange",this.TCt),this.tCt("visibilitychange",{visibility:u.visibilityState});var r=this.Qo.we;this.tCt("dimensionchange",{width:r.clientWidth,height:r.clientHeight}),this.SCt=an.m_(),this.NCt=an.f1((function(){var n=t.ICt();t.oCt(n)}),3e4),this.DCt=an.f1((function(){t.ECt()}),5e3),this.kCt=an.f1((function(){t.LCt.push(t.Qo.hF.VH.GP)}),100)}},n.Zg=function(){if(this.xCt.length>0){var t=this.ICt();this.oCt(t)}var n,i,r;(this.xCt=[],this.CCt=[],this.OCt=[],this.aCt)&&(this.aCt=!1,this.Qo.fn(p_.ha,this.uCt),this.Qo.fn(Al._m,this.cCt),this.Qo.rt.fn(hm.hw,this.lCt),null==(n=this.Qo.rt.zw(0))||n.fn(gm.xw,this.jCt),this.Qo.fn(Al.qv,this.dCt),this.Qo.fn(gk.Sm,this.ett),this.Qo.fn(Al.Sh,this.ott),this.Qo.fn(Al.jh,this.ntt),this.Qo.Z_.fn("golive",this.fCt),this.Qo.Z_.fn("latencyrecoveryseek",this._Ct),this.Qo.fn(gk.Tm,this.gCt),this.Qo.fn(Al.fm,this.wCt),this.Qo.fn(fS.pn,this.vCt),this.Qo.hF.BH(this.mCt),null==(i=this.Qo.Oc)||i.fn(["Bit","zit","Uit","Qit","pCt"],this.ACt),null==(r=this.Qo.Oc)||r.fn("yCt",this.MCt),e.removeEventListener("beforeunload",this.bCt),u.removeEventListener("visibilitychange",this.TCt),an.g1(this.NCt),an.g1(this.DCt),an.g1(this.kCt))},n.RCt=function(){this.tCt("intenttofallback")},n.PCt=function(){this.tCt("fallback")},n.ECt=function(){var t,n=this.Qo.j_();if(n.length){var i=n.end(n.length-1)-this.Qo.Q_();this.CCt.push(i)}this.OCt.push(this.Qo.hF.VH.GP);var r=null==(t=this.Qo.Z_)?void 0:t.Km;void 0===r||this.Qo.fg||(this.zCt=w.min(this.zCt,r),this.BCt=w.max(this.BCt,r),this.UCt.Gxt(r))},n.QCt=function(t){var n;this.LCt.sort((function(t,n){return t-n}));var i,r,e,u,s,o,a,c=null!=(n=this.LCt[0])?n:0,h=null!=(i=this.LCt[w.round(.05*this.LCt.length)])?i:0,f=null!=(r=this.LCt[w.round(.25*this.LCt.length)])?r:0,v=null!=(e=this.LCt[w.round(.5*this.LCt.length)])?e:0,l=null!=(u=this.LCt[w.round(.75*this.LCt.length)])?u:0,d=null!=(s=this.LCt[w.round(.95*this.LCt.length)])?s:0,g=null!=(o=this.LCt[this.LCt.length-1])?o:0,y=an.m_(),m=(y-(null!=(a=this.SCt)?a:0))/1e3;return this.LCt.length=0,this.SCt=y,{activeQuality:t.GP,duration:m,min:c,p5:h,p25:f,median:v,p75:l,p95:d,max:g}},n.ICt=function(){var t,n,i;this.tCt("beacon",{activeQuality:null==(n=this.Qo.rt.zw(0))||null==(t=n.Hw)?void 0:t.GP,averageLatency:this.UCt.Qxt,minLatency:this.zCt,maxLatency:this.BCt}),this.UCt=new kZ,this.zCt=1/0,this.BCt=-1/0;var r=null==(i=this.Qo.rt.zw(0))?void 0:i.Hw;if(r){var e=this.QCt(r);this.tCt("bandwidth-distribution",e)}var u=this.xCt.slice(0),s=w.round(this.OCt.reduce((function(t,n){return t+n}),0)/w.max(this.OCt.length,1)),a=this.CCt.reduce((function(t,n){return t+n}),0)/w.max(this.CCt.length,1);return this.OCt=[],this.CCt=[],this.xCt.splice(0),{type:"events",channelId:this.sCt.id.id,userId:this.hCt.userId,currentTime:Zi()/1e3,latency:this.Qo.Z_.Km,paused:this.Qo.fg,events:u,rtt:w.round(1e3*this.Qo.hF.VH.VP),sessionId:this.hCt.id,externalSessionId:this.hCt.externalId,userAgent:o.userAgent,weightedAverageBandwidth:s,weightedAverageBufferSize:a}},n.eCt=function(){var t,n,i,r;return!1!==(null==(t=this.Cxt)?void 0:t.analyticsEnabled)&&(null==(r=null==(i=this.sCt)||null==(n=i.insights)?void 0:n.enabled)||r)},n.oCt=function(t){var n=this;if(this.eCt()){this.FCt.push(t);for(var i=0,r=this.Cxt.analyticsUrls;i<r.length;i++){var e=r[i];this.Qo.Hj.uD({zu:e,ZD:Jw.POST,XD:{Accept:"application/json","Content-Type":"application/json"},_v:iy.mp,HD:JSON.stringify(t)}).then((function(i){go(n.FCt,t),Xo(i.GR())})).catch((function(){go(n.FCt,t)}))}}},n.YCt=function(t){if(this.eCt())for(var n=0,i=this.Cxt.analyticsUrls;n<i.length;n++){var r=i[n];this.Qo.Hj.NG({zu:r,HD:JSON.stringify(t)})}},t}();yt(),C(),pt();var NZ=function(){function t(t,n,i,r,e){var u=this;void 0===r&&(r=i.target),void 0===e&&(e=0),this.channelId=n,this.defaultLatency=i,this.$Ct=0,this.JCt=1/0,this.cu=t,this.zCt=w.max(r,i.target),this.BCt=this.zCt+e;var s=localStorage.getItem("theolive/"+n+"/latency");this.ZCt(s?Number(s):r),this.eOt=an.f1((function(){return u.qCt()}),1e3),this.sOt=an.f1((function(){return u.tOt()}),6e4)}var n=t.prototype;return n.ZCt=function(t){var n=w.min(w.max(t,this.zCt),this.BCt);localStorage.setItem("theolive/"+this.channelId+"/latency",n.toString());var i=n-this.defaultLatency.target;this.cu.Z_._p={windowStart:this.defaultLatency.windowStart+i,target:n,windowEnd:this.defaultLatency.windowEnd+i,maxOffset:this.defaultLatency.maxOffset+i}},n.qCt=function(){if(!this.cu.fg){var t=this.KCt;this.JCt=w.min(this.JCt,t),this.$Ct+=1}},n.tOt=function(){if(!(this.$Ct<10)){var t=.25-this.JCt,n=this.iOt+t;n=w.max(n,this.iOt-.1),n=w.min(n,this.iOt+.1),this.ZCt(n),this.JCt=1/0,this.$Ct=0}},n.h_=function(){an.g1(this.eOt),an.g1(this.sOt)},At(t,[{key:"KCt",get:function(){for(var t=this.cu.j_(),n=this.cu.Q_(),i=0;i<t.length;i++)if(t.start(i)<=n&&n<=t.end(i))return t.end(i)-n;return 0}},{key:"iOt",get:function(){return this.cu.Z_.ap.target}}]),t}();yt(),C(),yt(),C(),pt(),Mt();var DZ=function(){function t(t){var n,i;this.FI=an.m_(),this.rOt=new bZ,this.xP=new bZ,this.bz=new bZ,this.Qo=t,this.hAt=null==(i=this.Qo.rt.zw(0))||null==(n=i.Hw)?void 0:n.o}return t.prototype.nOt=function(){var t=this.Qo.hF.VH.GP,n=this.Qo.Z_.Km?1e3*this.Qo.Z_.Km:void 0,i=function(t){for(var n=t.Q_(),i=t.j_(),r=0;r<i.length;r++)if(i.start(r)<=n&&n<=i.end(r))return 1e3*(i.end(r)-n);return 0}(this.Qo);t>0&&this.xP.Gxt(t),void 0!==i&&this.rOt.Gxt(i),void 0!==n&&this.bz.Gxt(n)},At(t,[{key:"ct",get:function(){return w.round(an.m_()-this.FI)}}]),t}(),IZ=function(t){function n(n,i,r){var e;return(e=t.call(this,n)||this).aW=i,e.vz=r,e}bt(n,t);var i=n.prototype;return i.Yp=function(){return{type:"loading",reason:this.aW,duration:this.ct,error:this.vz}},i.oOt=function(){return new n(this.Qo,this.aW,this.vz)},n}(DZ),EZ=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).ln=i,r}bt(n,t);var i=n.prototype;return i.Yp=function(){var t;return{type:"stalling",duration:this.ct,bandwidth:this.xP.Kxt(),quality:null!=(t=this.hAt)?t:"unknown"}},i.oOt=function(){return new n(this.Qo,this.ln)},n}(DZ),SZ=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n)||this).sS=i,s.gct=r,s.qx=e,s.Kx=u,s}bt(n,t);var i=n.prototype;return i.Yp=function(){var t;return{type:"playing",duration:this.ct,bandwidth:this.xP.Jxt(),buffer:this.rOt.Kxt(),latency:this.bz.$xt(),qualities:this.sS,targetQualities:this.gct,width:this.qx,height:this.Kx,quality:null!=(t=this.hAt)?t:"unknown"}},i.oOt=function(){return new n(this.Qo,this.sS,this.gct,this.qx,this.Kx)},n}(DZ),LZ=function(t){function n(n){return t.call(this,n)}bt(n,t);var i=n.prototype;return i.Yp=function(){var t;return{type:"paused",duration:this.ct,quality:null!=(t=this.hAt)?t:"unknown"}},i.oOt=function(){return new n(this.Qo)},n}(DZ),jZ=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).aW=i,r}bt(n,t);var i=n.prototype;return i.Yp=function(){var t;return{type:"seeking",duration:this.ct,reason:this.aW,quality:null!=(t=this.hAt)?t:"unknown"}},i.oOt=function(){return new n(this.Qo,this.aW)},n}(DZ);var CZ=function(){function t(t,n,i){var r=this;this.cOt=[],this.AOt=!1,this.axt=!1,this.nF=!1,this.gOt=function(){var t;r.aOt(new IZ(r.Qo,"fallback",null==(t=r.Qo.X_())?void 0:t.message))},this.wOt=function(){r.aOt(new IZ(r.Qo,"loadChannel"))},this.vOt=function(){r.aOt(new IZ(r.Qo,"offline"))},this.oz=function(t){t.Lt.yn(gm.xw,r.Jr)},this.Jr=function(){var t=r.Qo.rt.zw(0);if(t){var n=r.AOt;if(r.AOt=!0,n){var i,e=null!=(i=t.Kw)?i:[],u=Array.isArray(e)?e:[e];r.aOt(new SZ(r.Qo,t.qw.Rw.map((function(t){return xZ(t)})),u.map((function(t){return t.o})),r.Qo.we.clientWidth,r.Qo.we.clientHeight))}}},this.Vm=function(){r.axt=!0,r.nF=!1;var t,n=r.Qo.rt.zw(0),i=n.qw.Rw,e=null!=(t=n.Kw)?t:[],u=Array.isArray(e)?e:[e];r.aOt(new SZ(r.Qo,i.map((function(t){return xZ(t)})),u.map((function(t){return t.o})),r.Qo.we.clientWidth,r.Qo.we.clientHeight))},this.fOt=function(){r.axt&&!r.nF&&(r.nF=!0,r.aOt(new jZ(r.Qo,"latencyRecovery")))},this._Ot=function(){r.axt&&!r.nF&&(r.nF=!0,r.aOt(new jZ(r.Qo,"goLive")))},this.Gm=function(){r.Qo.Eg||r.aOt(new EZ(r.Qo,"visible"===u.visibilityState))},this.dOt=function(){r.aOt(new LZ(r.Qo))},this.mOt=function(t){var n=function(t){var n=t.pathname;if(Ps(n,"/manifest.json"))return"manifest";if(Ps(n,".hspc")){if(Rs(n,"/video/"))return"video-segment";if(Rs(n,"/audio/"))return"audio-segment"}else if(Ps(n,".hspi")){if(Rs(n,"/video/"))return"video-init";if(Rs(n,"/audio/"))return"audio-init"}return"unknown"}(an.Dh(t.url));if("unknown"!==n){r.hCt.incrementSequenceNumber();var i=$u({},t.headers,{"X-Theolive-Version":"8.3.0","X-Theolive-Playertype":"theoplayer","X-Theolive-Sequence":""+r.hCt.sequenceNumber});"video-segment"===n&&(i=$u({},i,r.hOt())),t.redirect($u({},t,{headers:i}))}},this.lOt=function(){Xo(r.Qo.Hj.uD({zu:r.yOt,XD:r.hOt(),sE:!0}))},this.Qo=t,this.sCt=n,this.hCt=i,this.yOt=_Z(an.Dh("bye",n.source.src).href,i),e.addEventListener("beforeunload",this.lOt),this.Qo.yn(gk.Sm,this.Vm),this.Qo.yn(gk.Tm,this.Gm),this.Qo.yn(Al.Sh,this.dOt),this.Qo.Z_.yn("latencyrecoveryseek",this.fOt),this.Qo.Z_.yn("golive",this._Ot),this.Qo.hF.RH(this.mOt),this.Qo.rt.yn(hm.hw,this.oz),this.Qo.cit.addEventListener("intenttofallback",this.gOt),this.Qo.cit.addEventListener("publicationloadstart",this.wOt),this.Qo.cit.addEventListener("publicationoffline",this.vOt),this.uOt=new IZ(this.Qo,"loadChannel"),this.pOt=an.f1((function(){r.uOt.nOt()}),1e3)}var n=t.prototype;return n.hOt=function(){var t;if(void 0===(null==(t=this.Qo.rt.zw(0))?void 0:t.Hw))return{};this.aOt(this.uOt.oOt());var n={channel:{name:this.sCt.name},states:this.cOt};return this.cOt=[],{"X-THEOLIVE-SEGMENT-METRICS-V1":""+JSON.stringify(n)}},n.aOt=function(t){this.cOt.push(this.uOt.Yp()),this.uOt=t},n.destroy=function(){var t=this;this.lOt(),e.removeEventListener("beforeunload",this.lOt),this.Qo.fn(gk.Sm,this.Vm),this.Qo.fn(gk.Tm,this.Gm),this.Qo.fn(Al.Sh,this.dOt),this.Qo.Z_.fn("latencyrecoveryseek",this.fOt),this.Qo.Z_.fn("golive",this._Ot),this.Qo.rt.fn(hm.hw,this.oz),this.Qo.rt.Rw.forEach((function(n){return n.fn(gm.xw,t.Jr)})),this.Qo.cit.removeEventListener("intenttofallback",this.gOt),this.Qo.cit.removeEventListener("publicationloadstart",this.wOt),this.Qo.cit.removeEventListener("publicationoffline",this.vOt),this.Qo.hF.BH(this.mOt),an.g1(this.pOt)},t}();function xZ(t){return[t.o,t.GP,t.ji,t.Ti]}yt(),C(),zt(),pt(),Mt(),Ut();var OZ=function(t){function n(n){var i;return(i=t.call(this,"publicationloadstart")||this).publicationId=n,i}return bt(n,t),n}(ra),zZ=function(t){function n(n){var i;return(i=t.call(this,"publicationoffline")||this).publicationId=n,i}return bt(n,t),n}(ra),RZ=function(t){function n(n){var i;return(i=t.call(this,"publicationloaded")||this).publicationId=n,i}return bt(n,t),n}(ra),BZ=function(t){function n(){return t.call(this,"intenttofallback")}return bt(n,t),n}(ra),PZ=function(t){function n(){return t.call(this,"enterbadnetworkmode")}return bt(n,t),n}(ra),UZ=function(t){function n(){return t.call(this,"exitbadnetworkmode")}return bt(n,t),n}(ra),QZ=function(t){function n(n){var i;return(i=t.call(this)||this).Qo=n,i}return bt(n,t),n.prototype.bOt=function(t){return this.Qo.bOt(t)},At(n,[{key:"va",get:function(){return this.Xa||(this.Xa=function(t){return{addEventListener:function(n,i){t.yn(n,i)},removeEventListener:function(n,i){t.fn(n,i)},get badNetworkMode(){return t.MOt},set badNetworkMode(n){t.MOt=n},preloadPublications:function(n){return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return[4,t.bOt(n)];case 1:return[2,i.sent().map((function(t){return{name:t.name}}))]}}))}))()}}}(this)),this.Xa}},{key:"MOt",get:function(){return this.Qo.MOt},set:function(t){this.Qo.MOt=t}}]),n}($o);var YZ=["https://theo-insights-prod-5cb0.ew.r.appspot.com/"],FZ=8e5,GZ=function(t){function n(n,i){var r,e,u;(r=t.call(this,n,i)||this).YLt=!1,r.$O=new zo,r.NOt=void 0,r.axt=!1,r.XOt=[],r.kOt=!1,r.oz=function(t){var n,i=t.Lt;i.yn(gm.xw,r.Jr);var e=VZ(null!=(n=i.Kw)?n:i.qw.Rw);i.Kw=e.length>0?e:VZ(i.qw.Rw)},r.Jr=function(t){var n,i=t.Lht;(!i||(null!=(n=i.Xpt)?n:i.GP)>=FZ)&&r.xOt()};var s=Wt(r);r.fOt=Ot((function(){return Rt(this,(function(t){switch(t.label){case 0:return s.LOt(),s.XOt.push(an.m_()),s.XOt=s.XOt.filter((function(t){return an.m_()-t<=3e5})),s.XOt.length>=3?(s.XOt=[],[4,s.zOt(!0)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}));var o=Wt(r);r.DOt=Ot((function(){return Rt(this,(function(t){switch(t.label){case 0:return o.jOt?[4,o.jOt.M8]:[2];case 1:return"demo"!==t.sent().mode?[3,3]:(o.jOt.Yn(),[4,o.jOt.M8]);case 2:if("playing"!==t.sent().status)return o.Co(new gT(new Kv(Xv.THEO_LIVE_END_OF_DEMO,"This demo channel has been stopped automatically after 5 minutes"))),[2];t.label=3;case 3:return[4,o.zOt(!0)];case 4:return t.sent(),[2]}}))})),r.ROt=function(t){if("manifest"===t.type||"segment"===t.type||""===t.type){var n=an.Dh(t.url);n.searchParams.append("enhancedLogging","true"),t.redirect({url:n.toString()})}},r.EOt=new QZ(Wt(r));var a,c,h,f,v=n.wd.theoLive;return r.OOt={sessionId:null!=(a=null==v?void 0:v.sessionId)?a:HE(),userId:null!=(c=null==v?void 0:v.userId)?c:hZ(),externalSessionId:null==v?void 0:v.externalSessionId,analyticsEnabled:!1!==(null==v?void 0:v.analyticsEnabled),fallbackEnabled:!1!==(null==v?void 0:v.fallbackEnabled),discoveryUrl:null!=(h=null==v?void 0:v.discoveryUrl)?h:"https://discovery.theo.live/channels/",analyticsUrls:null!=(f=null==v?void 0:v.analyticsUrls)?f:YZ},r.hCt=new cZ(null==(e=r.OOt)?void 0:e.externalSessionId),r.IOt=new TZ(Wt(r),r.hCt,r.OOt),r.COt=new fZ(n.Hj,{discoveryHeader:null==(u=r.OOt)?void 0:u.discoveryHeader}),r.VOt=n.Z_.ap,r.Qo.Z_.yn("latencyrecoveryseek",r.fOt),r}bt(n,t);var i=n.prototype;return i.TOt=function(){this.Qo.Z_.yn("latencyrecoveryseek",this.fOt),this.Qo.rt.yn(hm.hw,this.oz)},i.SOt=function(){this.Qo.Z_.fn("latencyrecoveryseek",this.fOt),this.Qo.rt.fn(hm.hw,this.oz)},i.nw=function(n){var i=this;return this.YLt?n.type===gk.Sm?(void 0!==this.NOt?(an.p_(this.NOt),this.NOt=void 0,this.axt||this.Co(new Tk(this.Q_()))):this.Co(new Tk(this.Q_())),this.axt=!0,!0):n.type===gk.Tm?(this.NOt||(this.NOt=an.A_((function(){i.Co(new kk(i.Q_())),i.NOt=void 0}),100)),!0):"error"===n.type?(this.IOt.Zg(),Xo(this.DOt()),!0):t.prototype.nw.call(this,n):t.prototype.nw.call(this,n)},i.dit=function(){return this.EOt.va},i.LOt=function(){if(!this.kOt&&(this.kOt=!0,this.EOt.Co(new PZ),0!==this.Qo.rt.U)){var t,n=this.rt.zw(0),i=To(n.qw.Rw,(function(t){return t.GP}));(null!=(t=i.Xpt)?t:i.GP)<FZ?(n.Kw=[i],q.resolve().then((function(){return n.Kw=n.qw.Rw.slice()}))):this.xOt()}},i.xOt=function(){if(this.kOt&&(this.kOt=!1,this.EOt.Co(new UZ),0!==this.Qo.rt.U)){var t,n=this.Qo.rt.zw(0),i=VZ(null!=(t=n.Kw)?t:n.qw.Rw);n.Kw=i.length>0?i:VZ(n.qw.Rw)}},i.bOt=function(t){var n=this;return q.all(t.map(Ot((function(t){return Rt(this,(function(i){switch(i.label){case 0:return[4,Yo(n.COt.Bwt(pZ(t,n.OOt.discoveryUrl)).M8,n.$O.f_)];case 1:return[2,i.sent()]}}))}))))},i.ga=function(n,i){var r=this;return Ot((function(){var e,u,s,o,a,c,h,f,v,l,d,g,y,m,A;return Rt(this,(function(p){switch(p.label){case 0:r.YLt=!1,u=0,s=null!=(e=null==n?void 0:n.sources)?e:[],p.label=1;case 1:if(!(u<s.length))return[3,10];if((o=s[u]).integration!==PN.THEOLIVE)return[3,8];if(void 0===o.src)return[3,9];r.TOt(),r.YLt=!0,r.EOt.Co(new OZ(o.src)),a=pZ(o.src,r.OOt.discoveryUrl),c=r.EOt.k_("publicationloaded"),p.label=2;case 2:return p.trys.push([2,5,,6]),r.bc=n,r.MB=o,r.jOt=r.COt.Bwt(a),[4,r.jOt.M8];case 3:return v=p.sent(),r.IOt.iCt(v),l=v.enhancedLogging,d=v.source.targetLatency,(null==l?void 0:l.enabled)&&w.random()<=l.percentage&&r.Qo.hF.RH(r.ROt),(null==(h=r.OOt)?void 0:h.analyticsEnabled)&&(null==(f=r.OOt)?void 0:f.experimentalAnalyticsEnabled)&&"theo.live"===v.source.type&&(r.POt=new CZ(r,v,r.hCt)),g=r.Qo.Z_.ap,y=(null!=d?d:.45)-g.target,r.Qo.Z_._p={windowStart:g.windowStart+y,target:g.target+y,windowEnd:g.windowEnd+y,maxOffset:g.maxOffset+y},[4,Yo(r.zOt(r.Qo.eS),i)];case 4:return p.sent(),[3,6];case 5:throw m=p.sent(),r.W3(),r.dispatchErrorEvent(m),m;case 6:return[4,Yo(c,i).catch(Uo)];case 7:return p.sent(),[2];case 8:if("web"===cn.yE&&(null==n?void 0:n.contentProtection)&&(!lD(o)||o.type!==_N.Np))throw A=new Kv(Xv.CONFIGURATION_ERROR,"Content protection is not supported for this source type"),r.dispatchErrorEvent(A),A;p.label=9;case 9:return u++,[3,1];case 10:return[4,t.prototype.ga.call(r,n,i)];case 11:return[2,p.sent()]}}))}))()},i.zOt=function(t){var n=this;return Ot((function(){var i,r;return Rt(this,(function(e){switch(e.label){case 0:return n.W3(),n.jOt?[4,n.jOt.M8]:[2];case 1:return i=e.sent().source,[4,n.BOt(i)];case 2:if("live"!==(r=e.sent()))return[3,11];if("primary"!==n.UOt)return[3,8];e.label=3;case 3:return e.trys.push([3,5,,7]),[4,n.QOt(t)];case 4:return e.sent(),[3,7];case 5:return e.sent(),[4,n.FOt(t)];case 6:return e.sent(),[3,7];case 7:return[3,10];case 8:return[4,n.FOt(t)];case 9:e.sent(),e.label=10;case 10:return[3,17];case 11:return"offline"!==r?[3,13]:[4,n.vOt()];case 12:return e.sent(),[3,17];case 13:return e.trys.push([13,15,,17]),[4,n.QOt(t)];case 14:return e.sent(),[3,17];case 15:return e.sent(),[4,n.vOt()];case 16:return e.sent(),[3,17];case 17:return[2]}}))}))()},i.BOt=function(t){var n=this;return Ot((function(){var i;return Rt(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,n.Qo.Hj.uD({zu:_Z(t.src,n.hCt)})];case 1:return(i=r.sent()).fD>=200&&i.fD<300?[2,"live"]:404===i.fD||503===i.fD?[2,"offline"]:[2,"error"];case 2:return r.sent(),[2,"error"];case 3:return[2]}}))}))()},i.FOt=function(t){var n=this;return Ot((function(){var i;return Rt(this,(function(r){switch(r.label){case 0:return n.jOt?[4,n.jOt.M8]:[2];case 1:return i=r.sent(),n.UOt="primary",n.tq(i.source,t),[2]}}))}))()},i.vOt=function(){var t=this;return Ot((function(){var n;return Rt(this,(function(i){switch(i.label){case 0:return t.jOt?[4,t.jOt.M8]:[2];case 1:return n=i.sent(),t.EOt.Co(new zZ(n.id.id)),t.YOt=an.A_((function(){return t.zOt(t.Qo.eS)}),15e3),[2]}}))}))()},i.tq=function(t,n){var i,r,e,u,s=this;this.IOt.Cn();var o=fE({sources:[{type:WZ(t.type),src:t.src,contentProtection:t.contentProtection,useManagedMediaSource:!0}],ads:this.axt?[]:null==(i=this.bc)?void 0:i.ads,blockContentIfAdError:null==(r=this.bc)?void 0:r.blockContentIfAdError});o.sources[0].bypassLicense=!0,this.Qo.ga(o,(new zo).f_).then((function(){n&&s.Qo.Xg()})).catch(this.dispatchErrorEvent);var a=t.targetLatency,c=this.jOt.uS.id;null==(e=this.GOt)||e.h_(),this.GOt=new NZ(this,c,this.VOt,a,null==(u=this.MB)?void 0:u.targetLatencyLeniency),this.EOt.Co(new RZ(c))},i.QOt=function(t){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return n.IOt.RCt(),n.EOt.Co(new BZ),[4,n.WOt()];case 1:if(!i.sent())throw new v("fallback not live");return[4,n.HOt(t)];case 2:return i.sent(),[2]}}))}))()},i.HOt=function(t){var n=this;return Ot((function(){var i,r;return Rt(this,(function(e){switch(e.label){case 0:return[4,null==(i=n.jOt)?void 0:i.M8];case 1:return(null==(r=e.sent())?void 0:r.fallback)?(n.IOt.PCt(),n.UOt="fallback",n.tq(r.fallback,t),[2]):[2]}}))}))()},i.WOt=function(){var t=this;return Ot((function(){var n,i,r,e;return Rt(this,(function(u){switch(u.label){case 0:return[4,null==(n=t.jOt)?void 0:n.M8];case 1:return r=u.sent(),(null==(i=t.OOt)?void 0:i.fallbackEnabled)&&(null==r?void 0:r.fallback)?[4,t.Qo.Hj.uD({zu:_Z(r.fallback.src,t.hCt)})]:[2,!1];case 2:return[2,(e=u.sent()).fD>=200&&e.fD<300]}}))}))()},i.dispatchErrorEvent=function(t){if(t instanceof Kv)return this.Co(new gT(t));this.Co(new gT(new Kv(Xv.THEO_LIVE_UNKNOWN_ERROR,t.message,t)))},i.W3=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return[4,t.Qo.Zg()];case 1:return n.sent(),void 0!==t.YOt&&(an.p_(t.YOt),t.YOt=void 0),[2]}}))}))()},i.Zg=function(){var n,i;return this.$O.g_(),this.$O=new zo,this.SOt(),void 0!==this.NOt&&(an.p_(this.NOt),this.NOt=void 0),this.YLt=!1,this.axt=!1,null==(n=this.GOt)||n.h_(),this.GOt=void 0,this.IOt.Zg(),null==(i=this.POt)||i.destroy(),this.bc=void 0,this.MB=void 0,this.jOt=void 0,this.UOt=void 0,this.XOt=[],this.Qo.hF.BH(this.ROt),this.kOt&&this.xOt(),t.prototype.Zg.call(this)},i.gn=function(n){var i=this;return Ot((function(){var r;return Rt(this,(function(e){switch(e.label){case 0:return i.$O.g_(),void 0!==i.NOt&&(an.p_(i.NOt),i.NOt=void 0),i.Vo(),i.SOt(),null==(r=i.POt)||r.destroy(),i.Qo.Z_.fn("latencyrecoveryseek",i.fOt),[4,t.prototype.gn.call(i,n)];case 1:return e.sent(),[2]}}))}))()},At(n,[{key:"MOt",get:function(){return this.kOt},set:function(t){this.YLt&&(t?this.LOt():this.xOt())}}]),n}(zT);function VZ(t){return t.filter((function(t){var n;return(null!=(n=t.Xpt)?n:t.GP)>=FZ}))}function WZ(t){switch(t){case"theo.live":return"application/vnd.theo.hesp+json";case"hls":return"application/x-mpegurl";case"dash":return"application/dash+xml";default:throw new v("Unknown source type: "+t)}}QT((function(t){return new GZ(t)}),OT.Za),yt(),C(),yt(),C(),pt(),yt(),C(),zt(),pt(),Mt(),Ut(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C(),yt(),C();var XZ=j(fn());yt(),C(),pt(),Mt(),yt(),C(),pt(),Mt();var ZZ=function(t){function n(n,i){var r;return(r=t.call(this)||this).cS=hA(),r.Xa=void 0,r.Jx=n,r.ZOt=i,r}bt(n,t);var i=n.prototype;return i.Yn=function(t,n){this.Jx=t,this.ZOt=n,this.Xa&&this.Co(new bF(this.Xa))},i.MD=function(){throw new v("Method not implemented.")},i.bD=function(){throw new v("Method not implemented.")},i.gn=function(){this.Vo()},At(n,[{key:"yM",get:function(){return this.ZOt}},{key:"va",get:function(){var t;return null!=(t=this.Xa)?t:this.Xa=_F(this)}},{key:"Adt",get:function(){return 0}},{key:"ji",get:function(){return this.Jx.targetWidth}},{key:"Ti",get:function(){return this.Jx.targetHeight}},{key:"qpt",get:function(){return 0}},{key:"o",get:function(){return this.Jx.id}},{key:"Xw",get:function(){return this.cS}},{key:"GP",get:function(){return this.Jx.bitrate}},{key:"Xpt",get:function(){}},{key:"$nt",get:function(){return""}},{key:"kh",get:function(){return""}},{key:"Jpt",get:function(){return""}},{key:"snt",get:function(){return!0}},{key:"Zpt",get:function(){}}]),n}($o),HZ=function(t){function n(n,i){var r;return(r=t.call(this)||this).cS=oA(),r.sS=new nA,r.qOt=n,r.JOt=i,r.Yn(n),r}bt(n,t);var i=n.prototype;return i.Yn=function(t){var n,i=function(i,r){var e=r[i],u=co(t.layers,(function(t){return t.encodingId===e.id})),s=co(n.sS.Rw,(function(t){return t.o===e.id}));s?s.Yn(e,u):n.sS.nS(new ZZ(e,u))};this.qOt=t;for(var r=0,e=t.active;r<e.length;r++)n=this,i(r,e);this.Co(new eA(this))},i.fS=function(t){},i.gn=function(){this.Vo(),this.JOt=void 0;for(var t=0,n=this.sS.Rw;t<n.length;t++){n[t].gn()}this.sS.tr()},At(n,[{key:"Av",get:function(){return Gm.VA}},{key:"Rt",get:function(){return!0},set:function(t){this.fS(t)}},{key:"Hw",get:function(){}},{key:"qw",get:function(){return this.sS}},{key:"Kw",get:function(){return this.KOt},set:function(t){if(this.KOt=t,this.Rt){var n,i=1===(null==t?void 0:t.length)?t[0].yM:void 0;null==(n=this.JOt)||n.$Ot(i)}this.Co(new CU(this.sS.Rw.slice(),this))}},{key:"va",get:function(){var t;return null!=(t=this.Xa)?t:this.Xa=Qm(this)}},{key:"idt",get:function(){}},{key:"zt",get:function(){return TX.Fkt}},{key:"o",get:function(){return"millitrack"}},{key:"Xw",get:function(){return this.cS}},{key:"kh",get:function(){return""}},{key:"gs",get:function(){return""}},{key:"_v",get:function(){return this.Rt?"enabled":"disabled"},set:function(t){this.fS("enabled"===t)}},{key:"Zw",get:function(){}}]),n}($o);yt(),C(),pt();var KZ,qZ=function(){function t(){}var n=t.prototype;return n.Yn=function(t){this.tjt=t},n.WP=function(t){},At(t,[{key:"GP",get:function(){var t,n,i,r,e,u;return(null!=(e=null==(n=this.tjt)||null==(t=n.video.inbounds)?void 0:t.reduce((function(t,n){return t+n.bitrateBitsPerSecond}),0))?e:0)+(null!=(u=null==(r=this.tjt)||null==(i=r.audio.inbounds)?void 0:i.reduce((function(t,n){return t+n.bitrateBitsPerSecond}),0))?u:0)}},{key:"VP",get:function(){var t,n;return null!=(n=null==(t=this.tjt)?void 0:t.currentRoundTripTime)?n:0}}]),t}(),JZ=[Al.jh,Al.Sh,gk.Sm,Al.fm,Al.Zv,Al.Gv,Al.im,Al.$v,Al.Ov,Al.qv,Al._m,Al.Lv,Al.Jv,Al.Iv,Al.Nv,Al.zv,Al.Rv],$Z=["active","inactive","stopped","vad","layers","migrate","viewercount"],tH=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).gU=n,e.wU=i,e.vU=r,e.$O=new zo,e.Cvt=void 0,e.ejt=void 0,e.VT=new Vm,e.YT=new Vm,e.Sz=new qZ,e.Ss=function(t){e.rB(new Kv(Xv.MEDIA_LOAD_ERROR,"Millicast error",t.lt))},e.pmt=function(t){Bo(t)||e.rB(new Kv(Xv.MEDIA_DECODE_ERROR,t.message,t))},e.Fm=e.gU.oB(Gm.VA),e.zz=new Dk(e.Fm,!0),e.Fm.yn(JZ,e.Ds),e.Fm.yn(p_.ha,e.Ss),e.zz.yn(yk,e.Ds),e}bt(n,t);var i=n.prototype;return i.$Ot=function(t){var n;null==(n=this.QI)||n.select(t)},i.Vg=function(){return this.Fm.Vg()},i.F_=function(t,n){},i.ge=function(){this.Fm.ge()},i.be=function(){this.Fm.be()},i.Xg=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return t.$n(),[4,t.Fm.Xg()];case 1:return n.sent(),[2]}}))}))()},i.Hg=function(){this.Fm.Hg()},i.tr=function(){var t=this;return Ot((function(){var n,i,r;return Rt(this,(function(e){switch(e.label){case 0:return t.bc=void 0,t.$O.g_(),null==(n=t.QI)||n.stop(),t.QI=void 0,t.Cvt?[4,t.Cvt.catch(Kn)]:[3,2];case 1:e.sent(),t.Cvt=void 0,e.label=2;case 2:return t.ejt=void 0,[4,t.Fm.tr()];case 3:for(e.sent(),i=0,r=t.VT.Rw;i<r.length;i++)r[i].gn();return t.YT.tr(),t.VT.tr(),[2]}}))}))()},i.gn=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return t.Vo(),[4,t.tr()];case 1:return n.sent(),t.YT.gn(),t.VT.gn(),t.zz.gn(),t.Fm.fn(JZ,t.Ds),t.Fm.fn(p_.ha,t.Ss),[4,t.gU.Fz(t.Fm)];case 2:return n.sent(),[2]}}))}))()},i.ga=function(t,n,i){var r=this;return Ot((function(){var n,e;return Rt(this,(function(u){return Po(i),r.hNt(),n=t,r.bc=n,r.$O=new zo,e=function(){return XZ.Director.getSubscriber({streamName:n.streamName,streamAccountId:n.streamAccountId,subscriberToken:n.subscriberToken})},r.QI=new XZ.View(n.streamName,e,void 0,!0),r.sjt(),[2]}))}))()},i.$n=function(){if(void 0===this.Cvt){var t=this.QI;void 0!==t&&(this.Cvt=this.nst(t,this.$O.f_).catch(this.pmt))}},i.nst=function(t,n){return Ot((function(){var i;return Rt(this,(function(r){switch(r.label){case 0:Po(n),r.label=1;case 1:return r.trys.push([1,3,,5]),[4,Yo(t.connect({events:$Z}),n)];case 2:return r.sent(),t.webRTCPeer.initStats({autoInitStats:!0,statsIntervalMs:1e3}),[3,5];case 3:return Uo(i=r.sent()),an.vp("[THEOplayer] Millicast connect error, reconnecting.",i),[4,Yo(t.reconnect(),n)];case 4:return r.sent(),[3,5];case 5:return[2]}}))}))()},i.njt=function(t,n){var i=this;return Ot((function(){return Rt(this,(function(r){switch(r.label){case 0:Po(n),r.label=1;case 1:return r.trys.push([1,,4,5]),i.Fm.z6(),i.ejt=t,[4,i.Fm.tr()];case 2:return r.sent(),[4,i.Fm.$n({Av:dk.Tj,yv:"",uq:t,Nz:_N.Ip,Iz:[]})];case 3:return r.sent(),[3,5];case 4:return i.Fm.B6(),[7];case 5:return[2]}}))}))()},i.sjt=function(){var t=this,n=this.QI;n.once("track",(function(n){t.njt(n.streams[0],t.$O.f_).catch(t.pmt)})),n.on("broadcastEvent",(function(n){switch(n.name){case"active":t.Co(new aV);break;case"inactive":case"stopped":t.Co(new cV);break;case"viewercount":default:break;case"layers":var i=n.data;if(0===t.VT.U){var r=new HZ(i.medias[0],t);t.VT.tt(r)}else t.VT.zw(0).Yn(i.medias[0])}})),n.webRTCPeer.on("stats",(function(n){t.ijt=n,t.Sz.Yn(n)}))},i.rB=function(t){this.vz||(Xo(this.tr()),this.vz=Km(t),this.mz=t,this.Co(new gT(t)))},i.hNt=function(){this.vz=void 0,this.mz=void 0},i.qg=function(){return!1},i.Kg=function(){},i.Jg=function(){},i.$g=function(){this.Fm.$g()},i.iw=function(){var t=this.ejt;void 0!==t&&this.njt(t,this.$O.f_).catch(this.pmt)},i.Gg=function(){return this.Fm.ya},At(n,[{key:"Yg",get:function(){return!1}},{key:"ht",get:function(){return this.YT}},{key:"O_",get:function(){return this.Fm.O_.ks()}},{key:"R_",get:function(){return this.Fm.R_},set:function(t){}},{key:"bt",get:function(){return this.bc}},{key:"U_",get:function(){return this.Fm.U_},set:function(t){this.F_(t)}},{key:"ct",get:function(){return this.Fm.ct}},{key:"G_",get:function(){return this.Fm.G_}},{key:"lt",get:function(){return this.vz}},{key:"H_",get:function(){return this.mz}},{key:"Z_",get:function(){}},{key:"K_",get:function(){return this.Fm.K_}},{key:"eg",get:function(){var t,n,i,r,e,u,s=this.ijt,o=null==s||null==(t=s.video.inbounds)?void 0:t[0],a=null==s||null==(n=s.audio.inbounds)?void 0:n[0];return{qT:this.wU.VH.GP,HT:null!=(i=null==o?void 0:o.framesDropped)?i:0,XT:0,ZT:null!=(r=null==o?void 0:o.framesReceived)?r:0,KT:(null!=(e=null==o?void 0:o.totalBytesReceived)?e:0)+(null!=(u=null==a?void 0:a.totalBytesReceived)?u:0),JT:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"og",get:function(){return this.Fm.og},set:function(t){this.Fm.og=t}},{key:"cg",get:function(){var t,n;return null!=(n=null==(t=this.QI)?void 0:t.isActive())&&n}},{key:"fg",get:function(){return this.Fm.fg}},{key:"gg",get:function(){return 1},set:function(t){}},{key:"pg",get:function(){return this.Fm.pg.ks()}},{key:"yg",get:function(){return FD.yB},set:function(t){}},{key:"Sg",get:function(){return this.Fm.Sg}},{key:"Ig",get:function(){return this.Fm.Ig.ks()}},{key:"Eg",get:function(){return this.Fm.Eg}},{key:"Mz",get:function(){return this.Fm.Mz}},{key:"nt",get:function(){return this.Fm.nt}},{key:"Cg",get:function(){return this.Fm.Cg}},{key:"rt",get:function(){return this.VT}},{key:"Rg",get:function(){return this.Fm.Rg}},{key:"zg",get:function(){return this.Fm.zg},set:function(t){this.Fm.zg=t}},{key:"Qg",get:function(){return this.vU}},{key:"Tz",get:function(){return this.Sz}},{key:"Km",get:function(){return this.vU.Km}}]),n}($o),nH=function(){function t(){}var n=t.prototype;return n.Yp=function(t,n,i,r,e,u,s,o){return new tH(n,e,u)},n.hB=function(t,n){return t.type===_N.Ip},n.aB=function(){return!1},At(t,[{key:"uB",get:function(){return wT.Ip}}]),t}();QD(new nH),yt(),C(),yt(),C(),Xt(),zt(),pt(),Mt(),Ut(),yt(),C(),Xt(),zt(),pt(),Mt(),Vt(),Ct(),nt(),Ut(),Kt(),yt(),C(),function(t){t.rjt="currentbufferingrenditionchange",t.ojt="hjt",t.ajt="ujt",t.cjt="ljt"}(KZ||(KZ={})),yt(),C(),Xt(),pt(),Mt(),yt(),C();var iH=function(t,n){var i,r;this.$nt=void 0,this.Xw=hA(),this.djt=n,this.Av=t.Av,this.fjt=t.fjt,this._jt=t._jt,this.gjt=t.gjt,this.l=t.l,this.gs=t.gs,this.wjt=t.wjt,this.vjt=t.vjt,this.mjt=void 0===t.Jpt,this.pjt=null!=(r=null==(i=t.pjt)?void 0:i.split(","))?r:[]};function rH(t,n){return t.Av===n.Av&&(t.l===n.l||!(!t.fjt||!n.fjt))}function eH(t,n){return void 0!==t&&void 0!==n&&uH(t,n)}function uH(t,n){return t.djt===n.djt}function sH(t,n){return uH(t,n)&&t.wjt===n.wjt}function oH(t,n){for(var i=0;i<t.length;i++){if(sH(t[i],n))return!0}return!1}var aH,cH=function(t){function n(n,i,r,e,u){var s,o;(s=t.call(this)||this).z2=n,s.Qo=i,s.wU=r,s.fh=e,s.qw=u,s.gct=void 0,s.Ojt=void 0,s.jjt=function(){return s.Co(new eA(Wt(s)))},s.xjt=function(){var t=s.Hw;t&&s.Ojt!==t&&(s.Ojt=t,s.Co(new wY(t)))},s.Cjt=function(){var t=s.Rt;s.Rjt!==t&&(s.Rjt=t,s.fh.Co(new iA(Wt(s))),s.Co(new iA(Wt(s))))},s.Ojt=s.Hw,s.Rjt=s.Rt;var a,c,h=u.zw(0);s.lS=null!=(a=null==h?void 0:h.Mjt.l)?a:"",s.Rx=null!=(c=null==h?void 0:h.Mjt.gs)?c:"",s.Ajt=null==h||null==(o=h.Mjt)?void 0:o.pjt.map(gH).filter(Rn),s.cS=oA(),s.Qo.yn(KZ.rjt,s.xjt),s.Qo.yn(KZ.ojt,s.Cjt);for(var f=0;f<s.qw.U;f++){s.qw.zw(f).yn("update",s.jjt)}return s}bt(n,t);var i=n.prototype;return i.fS=function(t){this.Rt=t},i.gn=function(){this.Vo(),this.Qo.fn(KZ.rjt,this.xjt),this.Qo.fn(KZ.ojt,this.Cjt);for(var t=0,n=this.qw.Rw;t<n.length;t++){n[t].gn()}this.qw.tr()},At(n,[{key:"Zw",get:function(){return this.Ajt}},{key:"Rt",get:function(){var t=this.yjt();if(!t)return!1;for(var n=0,i=this.qw.Rw;n<i.length;n++){if(i[n].Mjt===t)return!0}return!1},set:function(t){if(t!==this.Rt)if(t){for(var n,i=null==(n=this.qw.zw(0))?void 0:n.Mjt,r=this.Qo.bjt,e=0,u=this.qw.Rw;e<u.length;e++){var s=u[e];if(s.Tjt===r){i=s.Mjt;break}}this.Sjt(i)}else this.Sjt(void 0)}},{key:"Hw",get:function(){if(this.Rt)for(var t=this.Qo.Njt,n=0,i=this.qw.Rw;n<i.length;n++){var r=i[n];if(oH(t,r.Mjt))return r}}},{key:"va",get:function(){return this.Xa||(this.Xa=Qm(this)),this.Xa}},{key:"o",get:function(){return this.cS.toString()}},{key:"Xw",get:function(){return this.cS}},{key:"kh",get:function(){return this.lS},set:function(t){t!==this.lS&&(this.lS=t,this.Co(new eA(this)))}},{key:"gs",get:function(){return this.Rx}},{key:"_v",get:function(){return this.Rt?"enabled":"disabled"}},{key:"Kw",get:function(){return this.gct},set:function(t){var n=this,i=[];t?i=t.filter((function(t){var i=n.Hw?BU(n.Hw):void 0;return an.Ys.Uet(i,BU(t))})).filter((function(i){return n.qw.oS(t)&&i.snt})):i=this.qw.Rw.filter((function(t){return t.snt}));if(0!==i.length){if(!(t===this.gct||this.gct&&_o(this.gct,i))){if(this.gct=t?i:void 0,this.Qo.Ijt(i.map((function(t){return t.Tjt}))),1===i.length){var r=i[0].Tjt,e=this.z2===Gm.VA,u=this.wU.vX;Xo(this.Qo.Djt(r,{Ejt:!0,kjt:u&&e,Ljt:u&&!e}))}this.Co(new CU(i,this))}}else this.Co(new RU)}}]),n}($o),hH=function(t){function n(n,i,r,e){return t.call(this,Gm.WA,n,i,r,e)}bt(n,t);var i=n.prototype;return i.yjt=function(){return this.Qo.Pjt},i.Sjt=function(t){Xo(this.Qo.zjt(t))},At(n,[{key:"zt",get:function(){return MX.Fkt}}]),n}(cH),fH=function(t){function n(n,i,r,e){return t.call(this,Gm.VA,n,i,r,e)}bt(n,t);var i=n.prototype;return i.yjt=function(){return this.Qo.Bjt},i.Sjt=function(t){Xo(this.Qo.Ujt(t))},At(n,[{key:"zt",get:function(){return TX.Fkt}}]),n}(cH),vH=function(t){function n(n,i){var r;return(r=t.call(this)||this).Tjt=n,r.Mjt=i,r.lS="",r.snt=!0,r}bt(n,t);var i=n.prototype;return i.bD=function(){},i.MD=function(){},i.gn=function(){this.Vo()},At(n,[{key:"o",get:function(){return String(this.Tjt.o)}},{key:"Xw",get:function(){return this.Tjt.o}},{key:"GP",get:function(){return this.Tjt.GP}},{key:"Xpt",get:function(){return this.Tjt.Xpt}},{key:"kh",get:function(){var t;return null!=(t=this.lS)?t:this.Mjt.l},set:function(t){this.kh!==t&&(this.lS=t,this.Co(new bF(this.va)))}},{key:"Jpt",get:function(){return this.Mjt.djt.Qjt()}},{key:"Zpt",get:function(){return this.Tjt.Zpt}}]),n}($o),lH=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Xa=void 0,r}return bt(n,t),n.prototype.fa=function(){return kF(this)},At(n,[{key:"Hmt",get:function(){return 0}},{key:"$nt",get:function(){var t;return(null==(t=this.Tjt.$nt)?void 0:t.mkt)||""}},{key:"va",get:function(){return this.Xa||(this.Xa=this.fa()),this.Xa}}]),n}(vH),dH=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Xa=void 0,r.Fjt=0,r.hkt=void 0,r}return bt(n,t),n.prototype.fa=function(){return _F(this)},At(n,[{key:"$nt",get:function(){var t;return(null==(t=this.Tjt.$nt)?void 0:t.Akt)||""}},{key:"qpt",get:function(){return this.Fjt},set:function(t){this.Fjt!==t&&(this.Fjt=t,this.Co(new bF(this.va)))}},{key:"Adt",get:function(){var t,n;return null!=(n=null!=(t=this.hkt)?t:this.Tjt.Adt)?n:0},set:function(t){this.Adt!==t&&(this.hkt=t,this.Co(new bF(this.va)))}},{key:"Ti",get:function(){var t,n;return null!=(n=null==(t=this.Tjt.akt)?void 0:t.Ti)?n:0}},{key:"ji",get:function(){var t,n;return null!=(n=null==(t=this.Tjt.akt)?void 0:t.ji)?n:0}},{key:"va",get:function(){return this.Xa||(this.Xa=this.fa()),this.Xa}}]),n}(vH);function gH(t){return"public.accessibility.describes-video"===t?zm.uv:"public.accessibility.transcribes-spoken-dialog"===t?zm.TRANSCRIBES_SPOKEN_DIALOG:"public.accessibility.describes-music-and-sound"===t?zm.DESCRIBES_MUSIC_AND_SOUND:"public.accessibility.easy-to-read"===t?zm.hv:void 0}yt(),C(),yt(),C(),Ct(),function(t){t.Yjt="FATAL",t.ha="ERROR",t.Gjt="WARNING",t.Vjt="INFO",t.Wjt="DEBUG"}(aH||(aH={}));var wH=function(){function t(){this.Rt=function(){return!1}}var n=t.prototype;return n.Hjt=function(t){if(!this.Rt())return!1;var n=[];return!(n.length>0)||n.some((function(n){return n.toLowerCase()===t.toLowerCase()}))},n.Xjt=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;this.Hjt(t)&&(e=an).Wet.apply(e,["DEBUG "+t+" -"].concat(jt(i)))},n.IM=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;this.Hjt(t)&&(e=an).Wet.apply(e,["INFO "+t+" -"].concat(jt(i)))},n.Zjt=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;this.Hjt(t)&&(e=an).vp.apply(e,["WARNING "+t+" -"].concat(jt(i)))},n.lt=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;this.Hjt(t)&&(e=an).Het.apply(e,["ERROR "+t+" -"].concat(jt(i)))},n.qjt=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;this.Hjt(t)&&(e=an).Het.apply(e,["FATAL "+t+" -"].concat(jt(i)))},t}(),yH=new wH,mH="HLSPlaylistParser",AH="Discontinuity",pH="Buffering",_H=function(){function t(t,n,i,r){this.Qo=t,this.wU=n,this.tRt=i,this.iRt=r}var n=t.prototype;return n.Eot=function(){var t,n=null==(t=this.Qo.Tr)?void 0:t.Kjt;if(n&&0!==n.length){for(var i,r=null!=(i=co(n,(function(t){return 0!==t.Jjt.length&&0!==t.$jt.length})))?i:n[0],e=n.filter((function(t){return t!==r})),u=0,s=r.Jjt;u<s.length;u++){var o=s[u],a=new nA,c=[];a.nS(new lH(r,o)),c.push(o);for(var h=0;h<e.length;h++)for(var f=e[h],v=0,l=f.Jjt;v<l.length;v++){var d=l[v];if(rH(d,o)&&!oH(c,d)){a.nS(new lH(f,d)),c.push(d);break}}this.tRt.tt(new hH(this.Qo,this.wU,this.tRt,a))}for(var g=0,w=r.$jt;g<w.length;g++){var y=w[g],m=new nA,A=[];m.nS(new dH(r,y)),A.push(y);for(var p=0;p<e.length;p++)for(var _=e[p],k=0,b=_.$jt;k<b.length;k++){var M=b[k];if(rH(M,y)&&!oH(A,M)){m.nS(new dH(_,M)),A.push(M);break}}this.iRt.tt(new fH(this.Qo,this.wU,this.iRt,m))}}else yH.Zjt("LLHLSTrackConfigurator","The HLSModel contains no variant streams.")},n.eRt=function(){this.sRt(this.tRt),this.sRt(this.iRt)},n.sRt=function(t){for(var n=[],i=0,r=t.Rw;i<r.length;i++){for(var e=r[i],u=[],s=0,o=e.qw.Rw;s<o.length;s++){var a=o[s];mo(a.Tjt.nRt,a.Mjt)||u.push(a)}for(var c=0;c<u.length;c++){var h=u[c];e.qw.rS(h),h.gn()}0===e.qw.U&&n.push(e)}for(var f=0;f<n.length;f++){var v=n[f];t.it(v),v.gn()}},n.rRt=function(t,n){var i=this.oRt(t);void 0!==i&&(i.Adt=n)},n.hRt=function(t,n){var i=this.oRt(t);void 0!==i&&(i.qpt=n)},n.oRt=function(t){for(var n=0,i=this.iRt.Rw;n<i.length;n++){var r=i[n],e=co(r.qw.Rw,(function(n){return n.Mjt===t}));if(void 0!==e)return e}},t}();yt(),C(),pt();var kH=function(){function t(t){var n=t.GP>0?t.GP:QW.Pat,i=t.VP>0?t.VP:jW.Pat;this.Uat=new QW(QW.gDt,QW.wDt,1,n),this.QDt=new jW(jW.gDt,jW.wDt,i)}var n=t.prototype;return n.WP=function(t){if("segment"===t.Av||"preload-hint"===t.Av){var n=[new xW(this.QDt)];return"stream"!==t.qD||!function(t){return"segment"===t.Av&&"initialization-segment"!==t.JD}(t)&&"preload-hint"!==t.Av?n.push(new OW(this.Uat)):n.push(new RW(this.Uat,1e3)),new CW(n)}},n.jDt=function(t){this.Uat=new QW(QW.gDt,QW.wDt,1,t)},At(t,[{key:"GP",get:function(){return this.Uat.j7}},{key:"VP",get:function(){return this.QDt.j7}}]),t}();yt(),C(),Mt();var bH=function(t){function n(n){var i;return(i=t.call(this,KZ.cjt)||this).lt=n,i}return bt(n,t),n}(ra);yt(),C();var MH=function(){function t(t){this.int=t}return t.prototype.dq=function(t,n){var i={Av:dk.Sj,Iz:[],F1:t.map((function(t){return{Nz:t}})),t2:n};return q.resolve(void 0!==this.int.dq([i]))},t}();yt(),C(),zt(),pt(),Ut(),yt(),C();var TH=function(t,n,i,r,e){return t.filter((function(t){return!!mo(r,t)||1.1*t.GP<=i.GP}))},NH=function(t,n,i,r,e){return t.filter((function(t){if(mo(r,t))return!0;for(var u=1/0,s=0,o=t.nRt;s<o.length;s++){var a,c,h=o[s];u=w.min(u,null!=(c=null!=(a=h.djt.aRt)?a:h.djt.uRt)?c:1/0)}u===1/0&&(u=1);var f=2*i.VP+t.GP*u/i.GP;return t.GP<=n.GP||e.cRt>f}))},DH=function(t,n,i,r,e){return to(t,(function(t,n){return n.GP-t.GP}))},IH=function(t,n,i,r,e){return t.every((function(t){return t.Zpt&&!A(t.Zpt)}))?to(t,(function(t,n){return n.Zpt-t.Zpt})):t},EH=function(t,n,i,r,e){return 0===r.length?t:to(t,(function(t,n){var i=mo(r,t)?1:0;return(mo(r,n)?1:0)-i}))},SH=function(t,n,i,r,e,u){return t.filter((function(t){return!t.$nt||!n.$nt||!(void 0!==n.$nt.Akt&&void 0!==t.$nt.Akt&&!qj(n.$nt.Akt,t.$nt.Akt)&&!u.lRt({Nz:'video/mp4; codecs="'+t.$nt.Akt+'"'}))&&!(void 0!==n.$nt.mkt&&void 0!==t.$nt.mkt&&!qj(n.$nt.mkt,t.$nt.mkt)&&!u.dRt({Nz:'audio/mp4; codecs="'+t.$nt.mkt+'"'}))}))},LH=function(t,n,i,r,e){if(!1===e.Xct)return t;if(an.Ys.Cet)return t;for(var u,s,o=an.Ys.Oet,a=(null!=(u=null==o?void 0:o.width)?u:e.ji)*mU,c=(null!=(s=null==o?void 0:o.height)?s:e.Ti)*mU,h=0;h<t.length;h++){var f=t[h];if(void 0===f.akt)return t;var v=f.akt.Ti,l=f.akt.ji;if(v<=c&&l<=a)return t.slice(h,t.length)}return[]},jH=function(t,n,i,r,e){return function(t,n){var i=n.Xct;if(void 0===i&&!an.Ys.Qs)return t;if(!1===i)return t;for(var r=0;r<t.length;r++){var e=t[r];if(void 0===e.akt)return t;var u=e.akt.Ti,s=e.akt.ji;if(u===n.Ti&&s===n.ji)return t.slice(r,t.length);if(u<n.Ti||s<n.ji)return t.slice(0===r?r:r-1,t.length)}return[]}(t,e)};var CH,xH,OH,zH,RH="AbrEvaluator",BH=function(){function t(t){this.wU=t,this.Jd=[SH,TH,NH,DH,LH,jH,IH,EH]}var n=t.prototype;return n._Rt=function(t){this.Jd=t},n.gRt=function(t,n,i,r,e){var u=this;return Ot((function(){return Rt(this,(function(s){switch(s.label){case 0:return[4,u.wRt(t,n,i,r,e)];case 1:return[2,s.sent()[0]]}}))}))()},n.wRt=function(t,n,i,r,e){var u=this;return Ot((function(){var s,o,a,c,h,f;return Rt(this,(function(l){switch(l.label){case 0:if(0===t.length)throw new v("AbrEvaluator - Unable to select optimal variant stream from an empty list.");yH.Xjt(RH,"Performing optimal variant stream selection."),s=u.fRt,o=t,a=0,c=u.Jd,l.label=1;case 1:return a<c.length?(h=c[a],f=h(o,n,s,i,r,e),Pn(f)?(o=f,[3,4]):[3,2]):[3,5];case 2:return[4,f];case 3:o=l.sent(),l.label=4;case 4:return a++,[3,1];case 5:return 0===o.length?(yH.Zjt(RH,"No possible variant stream remains after ABR rule evaluation. Selecting the lowest bandwidth variant stream."),[2,[bo(t,(function(t){return t.GP}))]]):[2,o]}}))}))()},At(t,[{key:"fRt",get:function(){return this.wU.VH}}]),t}();function PH(t,n){return[t,void 0!==n?t+n-1:Ri]}function UH(t){return Boolean(t.wM)}function QH(t){return Boolean(t.jnt)}function YH(t){return t?t.Dyt?t.lT+"@"+t.Dyt.Cn+"-"+(null!=(n=t.Dyt.U)?n:""):""+t.lT:"";var n}function FH(t,n){if(n===t)return!0;if(n.lT!==t.lT)return!1;if(!t.Dyt)return!0;if(n.Dyt){var i=PH(t.Dyt.Cn,t.Dyt.U),r=PH(n.Dyt.Cn,n.Dyt.U);if(i[0]<=r[0])return void 0===i[1]||void 0!==r[1]&&i[1]>=r[1]}return!1}function GH(t,n){return t===n||t.lT===n.lT&&(t.Dyt&&n.Dyt?t.Dyt.Cn===n.Dyt.Cn&&t.Dyt.U===n.Dyt.U:t.Dyt===n.Dyt)}function VH(t){var n=!!t.vRt||void 0;return{o:t.o,mRt:t.mRt,Mz:t.Mz,pRt:t.pRt,ct:t.ct,ARt:t.ARt,vRt:n,yRt:t.MRt,bRt:t.TRt,SRt:t.SRt,NRt:t.NRt}}function WH(t,n){var i,r,e;return{mkt:null!=(i=n.mkt)?i:null==t?void 0:t.mkt,Akt:null!=(r=n.Akt)?r:null==t?void 0:t.Akt,IRt:null!=(e=n.IRt)?e:null==t?void 0:t.IRt}}function XH(t,n,i,r,e){return ZH.apply(this,arguments)}function ZH(){return ZH=Ot((function(t,n,i,r,e){var u,s,o,a,c,h,f,v,l,d,g;return Rt(this,(function(w){switch(w.label){case 0:return u=n.filter((function(t){return Rs(t,"audio")})),s=n.filter((function(t){return Rs(t,"video")})),o=[],a=i.map((function(t){return function(t,n,i){return HH.apply(this,arguments)}(t,r,e)})),[4,q.all(a)];case 1:for(c=w.sent().filter(Rn),f=function(t,n){if(0===n.length)return t;var i=function(t){var i=n.indexOf(t.Qp.gL);return i>=0?i:n.length};return to(t,(function(t,n){return i(t)-i(n)}))}(c,null!=(h=null==t?void 0:t.preferredKeySystems)?h:[]),v=0;v<f.length;v++)l=f[v],d=MV(null!=t?t:{},l.Qp),g="cbcs",o.push({Qp:l.Qp,KP:l.KP,JP:l.JP,hP:l.hP,Kz:[{initDataTypes:[l.Qp.fL],audioCapabilities:TV(u,g,null==d?void 0:d.audioRobustness),videoCapabilities:TV(s,g,null==d?void 0:d.videoRobustness),persistentState:null==d?void 0:d.persistentState,distinctiveIdentifier:null==d?void 0:d.distinctiveIdentifier}]});return[2,o]}}))})),ZH.apply(this,arguments)}function HH(){return HH=Ot((function(t,n,i){var r,e;return Rt(this,(function(u){switch(u.label){case 0:return t.Jpt&&t.DRt?t.ZD!==OH.ERt?[2]:(r=KH(t.DRt))?r.gL!==bs?[3,1]:[2,{Qp:r,KP:[],JP:void 0,hP:t.Jpt}]:[2]:[2];case 1:return r.gL!==_s||t.DRt!==Ns?[3,2]:[2,{Qp:r,KP:[],JP:t.Jpt,hP:void 0}];case 2:return yH.IM("HLSDrmUtils","Fetching key uri "+t.Jpt+"."),[4,n.uD({zu:t.Jpt,tE:i})];case 3:return[4,u.sent().GR()];case 4:return e=u.sent(),[2,{Qp:r,KP:[e],JP:void 0,hP:void 0}];case 5:return[2]}}))})),HH.apply(this,arguments)}function KH(t){return t===ms?Is:t===ws?Ds:t===Ts?Ss:t===Ns?Ls:void 0}function qH(t){if("#"!==t[0])throw new v("HLSPlaylistParser - Could not extract M3U8 tag or comment: "+t);return t.split(":",1)[0]}function JH(t){return"#"!==t[0]?t:t.split(":",1)[0]}function $H(t){var n=t.indexOf(":");if(-1===n||t.length<n+1)throw new v("HLSPlaylistParser - Could not extract M3U8 parameter: "+t);return t.substring(n+1)}function tK(t){var n=uK($H(t));if(void 0===n)throw new v("HLSPlaylistParser - Could not extract M3U8 float parameter: "+t);return n}function nK(t){for(var n={},i=/[:,] ?([A-Z0-9-]+)=([^",]+|"([^"]*)")/gi,r=i.exec(t);null!==r;){var e=r[1],u=void 0;u=void 0!==r[3]?r[3]:r[2],null!==e?n[e]=u:yH.Zjt(mH,"Ignoring unparsable M3U8 attribute name: "+t+"."),r=i.exec(t)}return n}function iK(t,n){var i,r,e=nK(t);try{i=e.URI?an.wp(e.URI,n):void 0,r=function(t){switch(t){case"AUDIO":return CH.WA;case"VIDEO":return CH.VA;case"SUBTITLES":return CH.HA;case"CLOSED-CAPTIONS":return CH.kRt}throw new v("HLSPlaylistParser - Could not parse M3U8 media type: "+t+".")}(e.TYPE)}catch(n){throw new v("HLSPlaylistParser - Could not parse #EXT-X-MEDIA tag: "+t+".")}var u=e["GROUP-ID"],s=e.LANGUAGE,o=e["ASSOC-LANGUAGE"],a=e.NAME,c="YES"===e.DEFAULT,h="YES"===e.AUTOSELECT,f="YES"===e.FORCED,l=e["INSTREAM-ID"],d=e.CHARACTERISTICS,g=e.CHANNELS;if(u||yH.Zjt(mH,"#EXT-X-MEDIA tag has no GROUP-ID attribute: "+t+"."),s||yH.Zjt(mH,"#EXT-X-MEDIA tag has no LANGUAGE attribute: "+t+"."),a||yH.Zjt(mH,"#EXT-X-MEDIA tag has no NAME attribute: "+t+"."),r===CH.kRt?(i&&yH.Zjt(mH,"#EXT-X-MEDIA tag of type CAPTIONS must not have a URI: "+t+"."),l?/^(CC[0-4])|(SERVICE([1-9]|[1-5][0-9]|6[0-3]))$/.test(l)||yH.Zjt(mH,"#EXT-X-MEDIA's INSTREAM-ID is invalid: "+t+"."):yH.Zjt(mH,"#EXT-X-MEDIA tag of type CAPTIONS must have an INSTREAM-ID attribute: "+t+".")):l&&yH.Zjt(mH,"#EXT-X-MEDIA tag must not have an INSTREAM-ID attribute if the TYPE is not CAPTIONS: "+t+"."),c&&!h&&(h=!0,e.AUTOSELECT&&yH.Zjt(mH,"#EXT-X-MEDIA tag with DEFAULT=YES attribute must have AUTOSELECT=YES attribute: "+t+".")),e.FORCED&&r!==CH.HA&&yH.Zjt(mH,"#EXT-X-MEDIA tag must not have a FORCED attribute if the TYPE is not SUBTITLES: "+t+"."),void 0===u||void 0===a)throw new v("HLSPlaylistParser - Could not parse #EXT-X-MEDIA tag: "+t+".");return{LRt:o,rkt:g,pjt:d,wjt:u,_jt:h,fjt:c,gjt:f,vjt:l,gs:s,l:a,Av:r,Jpt:i}}function rK(t,n,i){var r,e,u,s=nK(t);try{r=an.wp(i,n),u=function(t){if(void 0===t)return;var n=t.split("x"),i=Number(n[0]),r=Number(n[1]);if(A(i)||A(r))throw new v("HLSPlaylistParser - Could not parse RESOLUTION attribute: "+t+".");return{ji:i,Ti:r}}(s.RESOLUTION),e=function(t){if(!t)return;for(var n,i,r,e=t.split(","),u=0;u<e.length;u++){var s=e[u].trim();Bs(s,"mp4a")?n="mp4a.40.05"===s?"mp4a.40.5":"mp4a.40.02"===s?"mp4a.40.2":s:"ac-3"===s||"ec-3"===s||"flac"===s.toLowerCase()?n=s:Bs(s,"avc")||Bs(s,"hvc1")||Bs(s,"hev1")||Bs(s,"dvh")||Bs(s,"vp09")||Bs(s,"av01")?i=s:r=r?r+","+s:s}return{mkt:n,Akt:i,IRt:r}}(s.CODECS)}catch(n){throw new v("HLSPlaylistParser - Could not parse #EXT-X-STREAM-INF tag: "+t+".")}var o=uK(s.BANDWIDTH),a=uK(s["AVERAGE-BANDWIDTH"]),c=uK(s.SCORE),h=uK(s["FRAME-RATE"]),f=s["HDCP-LEVEL"],l=[];if(void 0!==s["ALLOWED-CPC"]){var d,g=s["ALLOWED-CPC"].split(",");(d=l).push.apply(d,jt(g.map((function(t){var n=t.split(":");return{keysystem:n[0],label:n[1]}}))))}var w=s["VIDEO-RANGE"],y=s.AUDIO,m=s.VIDEO,p=s.SUBTITLES,_=s["CLOSED-CAPTIONS"];if(void 0===o?yH.Zjt(mH,"#EXT-X-STREAM-INF tag has no valid BANDWIDTH attribute: "+t+"."):void 0!==a&&a>o&&yH.Zjt(mH,"#EXT-X-STREAM-INF tag must have BANDWIDTH attribute higher or equal to AVERAGE-BANDWIDTH attribute: "+t+"."),e||yH.IM(mH,"#EXT-X-STREAM-INF tag should have a CODECS attribute: "+t+"."),e&&e.Akt&&void 0===u&&yH.IM(mH,"#EXT-X-STREAM-INF tag should have a valid RESOLUTION attribute if it contains video codecs: "+t+"."),void 0===f||mo(["TYPE-0","TYPE-1","NONE"],f)||yH.Zjt(mH,"#EXT-X-STREAM-INF tag has an invalid HDCP-LEVEL attribute: "+t+"."),void 0===w||mo(["SDR","PQ","HLG"],w)||yH.Zjt(mH,"#EXT-X-STREAM-INF tag has an invalid VIDEO-RANGE attribute: "+t+"."),void 0===o)throw new v("HLSPlaylistParser - Could not parse #EXT-X-STREAM-INF tag: "+t+".");return{xRt:l,CRt:y,Xpt:a,GP:o,ORt:_,$nt:e,Adt:h,jRt:f,akt:u,Zpt:c,RRt:p,Jpt:r,PRt:m,zRt:w}}function eK(t,n){var i=nK(t);if(!i.URI)throw new v("HLSPlaylistParser - Could not parse #EXT-X-I-FRAME-STREAM-INF tag: "+t+".");try{return rK(t,n,i.URI)}catch(n){throw new v("HLSPlaylistParser - Could not parse #EXT-X-I-FRAME-STREAM-INF tag: "+t+".")}}function uK(t){var n=Number(t);return A(n)?void 0:n}function sK(t,n){var i,r,e=nK(t);try{i=function(t){switch(t){case"NONE":return OH.yB;case"AES-128":return OH.BRt;case"SAMPLE-AES":return OH.ERt;case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return t}throw new v("LLHLSPlaylistParser - Could not parse M3U8 key method: "+t+".")}(e.METHOD),r=e.URI?dK(e.URI,n):void 0}catch(n){throw new v("HLSPlaylistParser - Could not parse #EXT-X-KEY tag: "+t+".")}var u,s,o,a,c,h=e.KEYFORMAT,f=e.IV,l=e.KEYFORMATVERSIONS;if(i!==OH.yB){if(o=h||Ns,"SAMPLE-AES-CENC"===i||"SAMPLE-AES-CTR"===i){if(KH(o)!==Is)throw new v("HLSPlaylistParser - #EXT-X-KEY tag with METHOD="+i+" is only compatible with Widevine.");u=OH.ERt}else u=i;s=r,a=f?zc(f):void 0,c=l?l.split("/").map((function(t){return Number(t)})):[1]}else u=OH.yB,(r||h||l||f)&&yH.Zjt(mH,"#EXT-X-KEY tag with METHOD=NONE must not have additional attributes: "+t+".");return{ZD:u,Jpt:s,URt:a,DRt:o,QRt:c}}function oK(t){var n=$H(t);if(!n)return[void 0,""];var i=Gt(n.split(","),2),r=i[0],e=i[1];return[uK(r),e]}function aK(t,n){var i=t.split("@"),r=uK(i[0]),e=i.length>1?uK(i[1]):n;if(void 0===r||void 0===e)throw new v("HLSPlaylistParser - Could not parse #EXT-X-BYTERANGE tag: "+t+".");return{Cn:e,U:r}}function cK(t){if(void 0!==t)return aK(t,void 0)}function hK(t,n){return aK($H(t),n)}function fK(t,n){var i=nK(t);try{return{lT:dK(i.URI,n),Dyt:cK(i.BYTERANGE)}}catch(n){throw new v("HLSPlaylistParser - Could not parse #EXT-X-MAP tag: "+t+".")}}function vK(t){var n=$H(t);if(!n)throw new v("HLSPlaylistParser - Could not parse #EXT-X-PROGRAM-DATE-TIME tag: "+t+".");var i=new Date(n);if(!Xi(i))throw new v("HLSPlaylistParser - Could not parse #EXT-X-PROGRAM-DATE-TIME tag: "+t+".");return i}function lK(t){var n,i,r,e=nK(t),u=e["START-DATE"],s=e["END-DATE"],o=uK(e["PLANNED-DURATION"]),a=uK(e.DURATION);void 0!==e["SCTE35-CMD"]&&(n=zc(e["SCTE35-CMD"]).buffer),e["SCTE35-IN"]&&(i=zc(e["SCTE35-IN"]).buffer),e["SCTE35-OUT"]&&(r=zc(e["SCTE35-OUT"]).buffer);var c,h,f="YES"===e["END-ON-NEXT"],l=function(t){for(var n={},i=0,r=g.keys(t);i<r.length;i++){var e=r[i],u=t[e];void 0!==u&&Bs(e,"X-")&&(n[e]=u)}return n}(e),d=e.ID,w=e.CLASS;if(void 0===u)yH.Zjt(mH,"Could not parse #EXT-X-DATERANGE tag without START-DATE attribute: "+u+".");else if(c=new Date(u),h=void 0!==s?new Date(s):void 0,Xi(c)||yH.Zjt(mH,"Could not parse EXT-X-DATERANGE tag with invalid START-DATE attribute: "+c+"."),void 0!==a){var y=new Date(c.getTime()+1e3*a);h?h.getTime()!==y.getTime()&&(yH.Zjt(mH,"DURATION and END-DATE attributes of #EXT-X-DATERANGE tag are not aligned, updating the END-DATE: "+t+"."),h=y):h=y}else h&&(a=(c.getTime()-h.getTime())/1e3);if(f&&(e.CLASS||yH.Zjt(mH,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute without CLASS attribute: "+t+"."),e.DURATION&&yH.Zjt(mH,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute with DURATION attribute: "+t+"."),h&&yH.Zjt(mH,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute with END-DATE attribute: "+t+".")),void 0===d&&yH.Zjt(mH,"Could not parse #EXT-X-DATERANGE tag without valid ID attribute: "+t+"."),void 0===d||void 0===c)throw new v("HLSPlaylistParser - Could not parse #EXT-X-DATERANGE tag: "+t+".");return{o:d,mRt:w,Mz:c,pRt:h,ct:a,ARt:o,TRt:n,NRt:i,SRt:r,vRt:f,MRt:l}}function dK(t,n){if(void 0===t)throw new v("HLSPlaylistParser - Unable to parse URL from string: "+t+".");return an.wp(t,n)}function gK(t,n){var i=nK(t),r=uK(i.DURATION),e=dK(i.URI,n),u=cK(i.BYTERANGE),s="YES"===i.INDEPENDENT,o="YES"===i.GAP;if(void 0===r)throw new v("HLSPlaylistParser - Unable to parse #EXT-X-PART without valid DURATION: "+t);return{ct:r,Jpt:{lT:e,Dyt:u},FRt:s,YRt:o}}function wK(t){var n=nK(t);return{GRt:"YES"===n["CAN-BLOCK-RELOAD"],VRt:uK(n["CAN-SKIP-UNTIL"]),WRt:"YES"===n["CAN-SKIP-DATERANGES"],HRt:uK(n["HOLD-BACK"]),XRt:uK(n["PART-HOLD-BACK"])}}function yK(t,n){var i=nK(t);if(void 0===i.URI)throw new v("HLSPlaylistParser - Could not parse #EXT-X-RENDITION-REPORT: "+t+".");var r=dK(i.URI,n),e=uK(i["LAST-MSN"]),u=uK(i["LAST-PART"]);if(void 0===e)throw new v("HLSPlaylistParser - Could not parse #EXT-X-RENDITION-REPORT: "+t+".");return{Jpt:r,ZRt:e,qRt:u}}function mK(t,n){var i,r=nK(t),e=uK(r["SKIPPED-SEGMENTS"]),u=null==(i=r["RECENTLY-REMOVED-DATERANGES"])?void 0:i.split("\t");if(void 0===e)throw new v("HLSPlaylistParser - Could not parse #EXT-X-SKIP tag without valid SKIPPED-SEGMENTS attribute: "+t+".");return{KRt:e,JRt:u,$Rt:n}}function AK(t){var n=uK(nK(t)["PART-TARGET"]);if(void 0===n)throw new v("HLSPlaylistParser - Could not parse #EXT-X-PART-TARGET-DURATION tag: "+t+".");return n}function pK(t){switch($H(t)){case"VOD":return zH.tPt;case"EVENT":return zH.iPt;default:return yH.Zjt(mH,"Found #EXT-X-PLAYLIST-TYPE tag with invalid value: "+t+"."),zH.jT}}function _K(t,n){var i,r,e=nK(t);try{i=function(t){if(void 0===t)throw new v("HLSPlaylistParser - Could not parse PRELOAD-HINT type: "+t+".");if("MAP"===t)return xH.ePt;if("PART"===t)return xH.sPt;throw new v("HLSPlaylistParser - Could not parse PRELOAD-HINT type: "+t+".")}(e.TYPE),r=dK(e.URI,n)}catch(n){throw new v("HLSPlaylistParser - Could not parse #EXT-X-PRELOAD-HINT tag: "+t+".")}var u,s=uK(e["BYTERANGE-START"]),o=uK(e["BYTERANGE-LENGTH"]);return void 0===s&&void 0===o||(u={Cn:s||0,U:o}),{Av:i,Jpt:{lT:r,Dyt:u}}}yt(),C(),pt(),yt(),C(),zt(),pt(),Mt(),Ut(),yt(),C(),Vt(),yt(),C(),yt(),C(),function(t){t[t.WA=0]="WA",t[t.VA=1]="VA",t[t.HA=2]="HA",t[t.kRt=3]="kRt"}(CH||(CH={})),function(t){t[t.ePt=0]="ePt",t[t.sPt=1]="sPt"}(xH||(xH={})),function(t){t[t.yB=0]="yB",t[t.BRt=1]="BRt",t[t.ERt=2]="ERt"}(OH||(OH={})),function(t){t[t.jT=0]="jT",t[t.tPt=1]="tPt",t[t.iPt=2]="iPt"}(zH||(zH={})),yt(),C(),Vt(),Ct(),yt(),C(),zt(),Ut(),yt(),C();var kK=function(){function t(n){this.oPt=0,this.rPt=t.aPt(n)}var n=t.prototype;return n.nPt=function(){var t=this.rPt[this.oPt];return this.oPt+=1,t},n.hPt=function(){return this.rPt[this.oPt]},n.$A=function(){var n=new t("");return n.oPt=0,n.rPt=this.rPt.slice(this.oPt),n},t.aPt=function(t){return t?t.split(/[\r\n]+/).map((function(t){return t.trim()})).filter((function(t){return t})):[]},t}();function bK(t,n,i){var r=t.Jpt,e=t.Gy,u=t.uPt,s=t.Cn;switch(i){case"#EXT-X-VERSION":e=function(t){var n=tK(t);return A(n)?(yH.Zjt(mH,"Playlist version is NaN: "+t+"."),1):n}(n);break;case"#EXT-X-INDEPENDENT-SEGMENTS":u=!0;break;case"#EXT-X-START":s=function(t){var n=nK(t),i=uK(n["TIME-OFFSET"]);if(void 0===i)throw new v("HLSPlaylistParser - #EXT-X-START is missing a TIME-OFFSET: "+t+".");return{cPt:i,lPt:"YES"===n.PRECISE}}(n);break;case"#EXT-X-DEFINE":yH.Zjt(mH,"Ignoring unsupported #EXT-X-DEFINE: "+n+".");break;default:yH.IM(mH,"Ignoring unrecognized line or comment: "+n+".")}return{Jpt:r,Gy:e,uPt:u,Cn:s}}function MK(t,n){return t.map((function(t){return t.ZD===OH.yB||t.URt?t:$u({},t,{URt:TK(n)})}))}function TK(t){var n=new DataView(new ArrayBuffer(16)),i=new Oc;return i.KA(8),uc(n,i,Oi.fromNumber(t)),new p(n.buffer)}function NK(t,n,i){yH.IM(mH,"Parsing M3U8 playlist at "+t+".");var r=new kK(i);if("#EXTM3U"!==r.nPt())throw new v("HLSPlaylistParser - Could not parse M3U8 playlist. Playlist does not start with #EXTM3U.");return function(t){return/^#EXT-X-(MEDIA|STREAM-INF|I-FRAME-STREAM-INF|SESSION-DATA|SESSION-KEY):/m.test(t)}(i)?function(t,n){var i;try{i=an.wp(t)}catch(n){throw yH.Zjt(mH,"The master playlist has no valid base URI: "+t+"."),new v("HLSPlaylistParser - Could not parse HLS master playlist: "+t)}for(var r={Jpt:i,uPt:void 0,Cn:void 0,Gy:void 0},e=[],u=[],s=[],o=[];;){var a=n.nPt();if(!a)break;try{var c=qH(a);switch(c){case"#EXT-X-MEDIA":var h=iK(a,i);e.push(h);break;case"#EXT-X-STREAM-INF":var f=rK(a,i,n.nPt());u.push(f);break;case"#EXT-X-I-FRAME-STREAM-INF":var l=eK(a,i);s.push(l);break;case"#EXT-X-SESSION-DATA":yH.Zjt(mH,"Ignoring unsupported #EXT-X-SESSION-DATA: "+a+".");break;case"#EXT-X-SESSION-KEY":var d=sK(a,i);o.push(d);break;default:r=bK(r,a,c)}}catch(t){yH.Zjt(mH,"Ignoring unparsable line: "+a,t)}}var g,w=r.Gy,y=null!=(g=r.uPt)&&g,m=r.Cn;return void 0===w&&(yH.Zjt(mH,"The playlist has no #EXT-X-VERSION, assuming version is 2."),w=2),w>=8&&(u.some((function(t){return void 0!==t.Zpt}))||s.some((function(t){return void 0!==t.Zpt})))&&(u.some((function(t){return void 0===t.Zpt}))||s.some((function(t){return void 0===t.Zpt})))&&yH.Zjt(mH,"If one master playlist variant stream has a SCORE, all variants should have it."),{Jpt:i,Gy:w,uPt:y,Cn:m,dPt:s,fPt:o,wM:e,_Pt:u}}(t,r):function(t,n,i){var r,e,u,s,o,a,c,h,f,l,d,g,w,y,m,A,p,_,k={Jpt:t,uPt:void 0,Cn:void 0,Gy:void 0},b=[],M=!1,T=!1,N=[],D=ns(),I=[],E=[],S=!1,L=!1,j=[],C=[],x=0,O=!1,z=zH.jT,R=!1,B=0;try{_=an.wp(t)}catch(n){throw yH.Zjt(mH,"The media playlist has no valid base URI: "+t+".",n),new v("HLSPlaylistParser - Could not parse HLS media playlist.")}for(var P=i.$A();void 0===m||void 0===A;){var U=P.nPt();if(!U)break;try{switch(JH(U)){case"#EXT-X-MEDIA-SEQUENCE":m=tK(U);break;case"#EXT-X-DISCONTINUITY-SEQUENCE":A=tK(U)}}catch(t){yH.Zjt(mH,"Ignoring unparsable line: "+U,t)}}void 0===m&&(yH.IM(mH,"#EXT-X-MEDIA-SEQUENCE tag is missing, assuming first segment media sequence number is 0."),m=0),void 0===A&&(yH.IM(mH,"#EXT-X-DISCONTINUITY-SEQUENCE tag is missing, assuming first segment discontinuity sequence number is 0."),A=0);for(var Q=m,Y=A;;){var F=i.nPt();if(!F)break;var G=!1;try{var V=JH(F);switch(V){case"#EXTINF":var W;G=!0,o=(W=Gt(oK(F),2))[0],a=W[1];break;case"#EXT-X-BYTERANGE":G=!0,(c=hK(F,x))&&(x=c.Cn+c.U);break;case"#EXT-X-DISCONTINUITY":G=!0,S=!0,Y++;break;case"#EXT-X-KEY":var X;G=!0;var Z,H=sK(F,_);if(H.ZD===OH.yB){D.clear(),w=void 0;break}var K=null!=(Z=null==(X=H.DRt)?void 0:X.toString())?Z:"identity";D.set(K,H),H.ZD===OH.BRt&&(w=H);break;case"#EXT-X-MAP":G=!0,f=fK(F,_),l=w;break;case"#EXT-X-PROGRAM-DATE-TIME":G=!0,d=vK(F);break;case"#EXT-X-GAP":G=!0,L=!0;break;case"#EXT-X-BITRATE":G=!0,g=tK(F);break;case"#EXT-X-TARGETDURATION":r=tK(F);break;case"#EXT-X-DATERANGE":var q=lK(F);b.push(q);break;case"#EXT-X-PART":G=!0;var J=gK(F,_);E.push(J);break;case"#EXT-X-PRELOAD-HINT":var $=_K(F,_);j.push($);break;case"#EXT-X-SKIP":N.length>0&&yH.Zjt(mH,"#EXT-X-SKIP must appear before any #EXTINF tags."),G=!0;var tt=mK(F,Q);B=tt.KRt,p=tt.JRt,Q+=tt.KRt;break;case"#EXT-X-SERVER-CONTROL":var nt=wK(F);M=nt.GRt,e=nt.VRt,T=nt.WRt,u=nt.HRt,s=nt.XRt;break;case"#EXT-X-RENDITION-REPORT":var it=yK(F,_);C.push(it);break;case"#EXT-X-PART-INF":y=AK(F);break;case"#EXT-X-MEDIA-SEQUENCE":G&&yH.Zjt(mH,"#EXT-X-MEDIA-SEQUENCE must appear before any media segment tags.");break;case"#EXT-X-DISCONTINUITY-SEQUENCE":G&&yH.Zjt(mH,"#EXT-X-DISCONTINUITY-SEQUENCE must appear before any media segment tags.");break;case"#EXT-X-ENDLIST":O=!0;break;case"#EXT-X-PLAYLIST-TYPE":z=pK(F);break;case"#EXT-X-I-FRAMES-ONLY":R=!0;break;default:if(Bs(V,"#"))k=bK(k,F,V);else{h=an.wp(F,_);var rt=f?{Jpt:f,gPt:l}:void 0,et={fPt:MK(es(D),Q),kI:I,wPt:E,ct:o,kz:a,vPt:S,Jpt:{Dyt:c,lT:h},mPt:rt,pPt:d,YRt:L,APt:g,$Rt:Q,yPt:Y};N.push(et),Q++,I=[],E=[],o=void 0,a=void 0,S=!1,c=void 0,h=void 0,d=void 0,L=!1,g=void 0}}}catch(t){yH.Zjt(mH,"Ignoring unparsable line: "+F,t)}}if(E.length){var ut=f?{Jpt:f,gPt:w}:void 0,st={fPt:MK(es(D),Q),kI:I,wPt:E,ct:o,kz:a,vPt:S,Jpt:void 0,mPt:ut,pPt:d,YRt:L,APt:g,$Rt:Q,yPt:Y};N.push(st)}var ot,at=k.Gy,ct=null!=(ot=k.uPt)&&ot,ht=k.Cn;void 0===at&&(yH.Zjt(mH,"The media playlist has no #EXT-X-VERSION tag, assuming version is 2."),at=2),void 0===r&&yH.Zjt(mH,"Could not parse the HLS media playlist: no #EXT-X-TARGET-DURATION tag was found.");var ft=N.length,vt=ft>0;vt||yH.Zjt(mH,"The HLS media playlist contains no segments.");var lt=vt&&N[ft-1].wPt.length>0;return lt&&void 0===y&&yH.Zjt(mH,"Could not parse the HLS media playlist: no #EXT-X-PART-TARGET-DURATION tag was found, but it is required when some or all segments contain parts."),lt&&void 0===s&&yH.Zjt(mH,"Could not parse the HLS media playlist: The #EXT-X-SERVER-CONTROL tag has no PART-HOLDBACK attribute, but it is required when some or all segments contain parts."),{GRt:M,VRt:e,WRt:T,MPt:b,yPt:A,bPt:O,uPt:ct,HRt:u,TPt:R,$Rt:m,KRt:B,XRt:s,aRt:y,SPt:z,NPt:j,JRt:p,IPt:C,DPt:r,jnt:N,Cn:ht,Jpt:_,EPt:n,Gy:at}}(t,n,r)}yt(),C(),pt(),Ct(),yt(),C(),pt();var DK=function(){function t(t,n,i){var r,e,u,s;this.o=IK++,this.Zpt=void 0,this.akt=void 0,this.Xpt=void 0,this.kPt=!1,this.CPt=[],this.djt=n,this.GP=t.GP,this.Xpt=t.Xpt,this.Zpt=t.Zpt,this.LPt=t.$nt?EK(t.$nt):void 0,this.KEt=this.LPt,this.akt=t.akt,this.Adt=t.Adt,this.CRt=null!=(r=t.CRt)?r:"BPt"+this.o,this.PRt=null!=(e=t.PRt)?e:"UPt"+this.o,this.RRt=null!=(u=t.RRt)?u:"QPt"+this.o,this.ORt=null!=(s=t.ORt)?s:"FPt"+this.o,this.CPt=i}var n=t.prototype;return n.RPt=function(t){for(var n=0,i=this.CPt;n<i.length;n++){var r=i[n].djt.RPt(t);if(void 0!==r)return r}},n.PPt=function(t){for(var n=0,i=this.CPt;n<i.length;n++){var r=i[n].djt.PPt(t);if(void 0!==r)return r}},n.zPt=function(t){go(this.CPt,t)},At(t,[{key:"Jpt",get:function(){return this.djt.Jpt}},{key:"$nt",get:function(){return this.KEt},set:function(t){this.KEt=t?EK(t):void 0,this.kPt=function(t,n){return!(void 0!==(null==t?void 0:t.mkt)&&void 0===(null==n?void 0:n.mkt)||void 0!==(null==t?void 0:t.Akt)&&void 0===(null==n?void 0:n.Akt))}(this.LPt,this.KEt)}},{key:"xPt",get:function(){return this.kPt}},{key:"nRt",get:function(){return this.CPt}},{key:"Jjt",get:function(){return this.CPt.filter((function(t){return t.Av===CH.WA}))}},{key:"$jt",get:function(){return this.CPt.filter((function(t){return t.Av===CH.VA}))}},{key:"OPt",get:function(){return this.CPt.filter((function(t){return t.Av===CH.HA}))}},{key:"jPt",get:function(){return this.CPt.filter((function(t){return t.Av===CH.kRt}))}}]),t}(),IK=0;function EK(t){return $u({},t,{Akt:t.Akt?jv(t.Akt):void 0})}yt(),C(),pt(),Vt(),yt(),C(),pt(),yt(),C(),pt();var SK,LK=function(){function t(t,n,i,r,e){this.F7=void 0,this.WPt=t,this.XPt=n,this.xS=i,this.VPt=r,this.ct=e.ct,this.Jpt=e.Jpt,this.FRt=e.FRt,this.YRt=e.YRt}return t.prototype.HPt=function(t,n){this.xS=t,this.VPt=n},At(t,[{key:"MS",get:function(){var t;return this.xS+(null!=(t=this.YPt)?t:0)}},{key:"GPt",get:function(){return this.VPt}},{key:"fPt",get:function(){return this.WPt.fPt}}]),t}(),jK=function(){function t(t,n,i,r,e){this.F7=void 0,this.Kf=[],this.izt=0,this.xS=t,this.mPt=e.mPt,this.$Pt=i,this.VPt=r,this.jx=e.ct,this.pPt=e.pPt,this.KPt=e.Jpt,this.YRt=e.YRt,this.$Rt=e.$Rt,this.vPt=e.vPt,this.yPt=n,this.fPt=e.fPt,this.ozt(e.wPt)}var n=t.prototype;return n.ezt=function(t){return this.Kf[t]},n.szt=function(t){for(var n=0;n<this.Kf.length;n++){var i=this.Kf[n],r=i.MS,e=r+i.ct;if(r<=t&&t<=e)return t===e&&n+1<this.Kf.length?this.Kf[n+1]:i}},n.nzt=function(t){for(var n=this.Kf.length-1;n>=0;n--){var i=this.Kf[n];if(i.MS<=t)return i}},n.rzt=function(t){for(var n=this.nzt(t);n&&!n.FRt&&n.XPt>0;)n=this.ezt(n.XPt-1);return n},n.HPt=function(t,n,i){var r=t.wPt.length!==this.Kf.length||i!==this.VPt;this.$Pt=n,this.VPt=i,this.jx=t.ct,null!=this.pPt||(this.pPt=t.pPt),void 0===this.KPt&&(this.KPt=t.Jpt),r&&this.ozt(t.wPt)},n.ozt=function(t){this.Kf.length>t.length&&(this.Kf.length=t.length);for(var n=0,i=0;i<t.length;i++){var r=t[i],e=this.VPt&&i===t.length-1,u=this.xS+n;if(i<this.Kf.length)this.Kf[i].HPt(u,e);else{var s=new LK(this,i,u,e,r);s.YPt=this.ZPt,this.Kf.push(s)}n+=r.ct}this.izt=n},n.hzt=function(){po(this.Kf),this.izt=0},At(t,[{key:"MS",get:function(){var t;return this.xS+(null!=(t=this.ZPt)?t:0)}},{key:"qPt",get:function(){return this.xS}},{key:"ct",get:function(){return this.jx}},{key:"Jpt",get:function(){return this.KPt}},{key:"JPt",get:function(){return this.$Pt}},{key:"GPt",get:function(){return this.VPt}},{key:"wPt",get:function(){return this.Kf}},{key:"tzt",get:function(){return this.izt}},{key:"bS",get:function(){var t;return this.MS+(null!=(t=this.jx)?t:this.izt)}},{key:"YPt",get:function(){return this.ZPt},set:function(t){this.ZPt=t;for(var n=0,i=this.Kf;n<i.length;n++){i[n].YPt=t}}}]),t}();yt(),C(),function(t){t.azt="YES",t.uzt="v2"}(SK||(SK={})),yt(),C(),Mt();var CK=function(t){function n(){return t.apply(this,arguments)}return bt(n,t),n}(xo);yt(),C(),Mt(),yt(),C(),pt(),Mt(),yt(),C();var xK=function(t){function n(n,i){var r,e=OK(i,n.ct,n.Mz,n.pRt);return(r=t.call(this,i,e,void 0,!1,n.o)||this).czt=n.mRt,r.lzt=n.Mz,r.dzt=n.pRt,r.jx=n.ct,r.fzt=n.ARt,r._zt=Boolean(n.vRt),r.mzt=n.yRt||{},r.gzt=n.bRt,r.wzt=n.SRt,r.vzt=n.NRt,r.pzt(),r.Azt(),r}bt(n,t);var i=n.prototype;return i.Yn=function(t){var n,i=!1;(void 0===this.czt&&void 0!==t.mRt&&(i=!0,this.czt=t.mRt),void 0===this.dzt&&void 0!==t.pRt&&(i=!0,this.dzt=t.pRt),void 0===this.jx&&void 0!==t.ct&&(i=!0,this.jx=t.ct),void 0===this.fzt&&void 0!==t.ARt&&(i=!0,this.fzt=t.ARt),!this._zt&&t.vRt&&(i=!0,this._zt=t.vRt),i=this.updateCustomAttributes(t,i),void 0===this.gzt&&void 0!==t.bRt&&(i=!0,this.gzt=t.bRt),void 0===this.wzt&&void 0!==t.SRt&&(i=!0,this.wzt=t.SRt),void 0===this.vzt&&void 0!==t.NRt&&(i=!0,this.vzt=t.NRt),this.pzt(),this.Azt(),this.yzt(),i)&&(this.Co(new jA(this)),null==(n=this.CS)||n.Co(new xA(this)))},i.updateCustomAttributes=function(t,n){var i=n;if(t.yRt)for(var r=0,e=g.keys(t.yRt);r<e.length;r++){var u=e[r];void 0===this.mzt[u]&&(i=!0,this.mzt[u]=t.yRt[u])}return i},i.pzt=function(){this.jx&&!this.dzt&&(this.dzt=new Date(this.lzt.getTime()+Ki(this.jx)))},i.Azt=function(){this.dzt&&!this.jx&&(this.jx=Hi(this.dzt.getTime()-this.lzt.getTime()))},i.yzt=function(){this.RS===1/0&&(this.dzt||this.jx)&&(this.RS=OK(this.xS,this.jx,this.lzt,this.dzt))},At(n,[{key:"va",get:function(){return this.Xa||(this.Xa=function(t){return km(EA(t),{get content(){return t.O},get class(){return t.mRt},get startDate(){return t.Mz},get endDate(){return t.pRt},get duration(){return t.ct},get plannedDuration(){return t.ARt},get endOnNext(){return t.vRt},get scte35Cmd(){return t.bRt},get scte35Out(){return t.SRt},get scte35In(){return t.NRt},get customAttributes(){return t.yRt}})}(this)),this.Xa}},{key:"mRt",get:function(){return this.czt}},{key:"Mz",get:function(){return this.lzt}},{key:"pRt",get:function(){return this.dzt}},{key:"ct",get:function(){return this.jx}},{key:"ARt",get:function(){return this.fzt}},{key:"vRt",get:function(){return this._zt}},{key:"bRt",get:function(){return this.gzt}},{key:"SRt",get:function(){return this.wzt}},{key:"NRt",get:function(){return this.vzt}},{key:"yRt",get:function(){return this.mzt}}]),n}(BA);function OK(t,n,i,r){return Rn(n)?t+n:r?t+(Hi(r.getTime())-Hi(i.getTime())):1/0}var zK=function(t){function n(){return t.call(this,void 0,void 0,mA.DATE_RANGE)}bt(n,t);var i=n.prototype;return i.Yn=function(t,n){RK(this,BK(t),n)},i.lE=function(n){PK(this.L.Rw,n),t.prototype.lE.call(this,n)},n}(Xx);function RK(t,n,i){for(var r=function(i){var r=e[i],u=co(n,(function(t){return t.o===r.o}));u?r.Yn(u):t.gD(r)},e=t.L.Rw,u=e.length-1;u>=0;u--)r(u);for(var s=0;s<n.length;s++){var o=n[s],a=o.Mz;if(void 0!==a&&!t.D2(o.o)){var c=i(a),h=new xK(o,c);PK(t.L.Rw,h),t.lE(h)}}}function BK(t){for(var n=ns(),i=[],r=0;r<t.length;r++){var e=t[r];if(n.has(e.o)){var u=n.get(e.o),s=$u({},u,Dm(e),{yRt:$u({},u.yRt,e.yRt)});n.set(e.o,s)}else n.set(e.o,e),i.push(e.o)}return i.map((function(t){return n.get(t)}))}function PK(t,n){var i=fo(t,(function(t){return t.mRt===n.mRt}));i&&i.vRt&&i.Yn({o:i.o,pRt:n.Mz})}var UK=String.fromCharCode(95),QK=UK+"HLS_msn",YK=UK+"HLS_part",FK=UK+"HLS_skip",GK="HLSMediaPlaylist",VK=function(){function t(t,n,i){this.Rzt=void 0,this.zzt=void 0,this.Xzt=void 0,this.Zzt=void 0,this.Tzt=void 0,this.Szt=void 0,this.Nzt=void 0,this.Izt=void 0,this.ryt=[],this.Bzt=[],this.Dzt=!1,this.Ezt=void 0,this.kzt=!1,this.Lzt=zH.jT,this.U1=HD.oU(),this.bzt=HD.oU(),this.jx=void 0,this.Qzt=-1/0,this.Yzt=void 0,this.Jpt=t,this.FI=n,this.eBt=i}var n=t.prototype;return n.Qjt=function(t){if(!t)return this.Jpt;var n=an.Dh(this.Jpt);return void 0!==t.$Rt&&n.searchParams.append(QK,String(t.$Rt)),void 0!==t.Gzt&&n.searchParams.append(YK,String(t.Gzt)),void 0!==t.Ny&&n.searchParams.append(FK,t.Ny),n.href},n.Aat=function(t){var n=this.ryt;if(0!==n.length){var i=t-n[0].$Rt;if(!(i<0||i>=n.length))return n[i]}},n.Vzt=function(t){if(0!==this.ryt.length){var n=CF(WK.lL,this.ryt,t);if(!(n<0)){var i=this.ryt[n];return t===i.bS&&n+1<this.ryt.length?this.ryt[n+1]:i}var r=this.ryt[this.ryt.length-1];return t===r.bS?r:void 0}},n.Wzt=function(t){if(0!==this.ryt.length){var n=this.ryt[0];if(t<n.bS)return n;var i=this.ryt[this.ryt.length-1];return t>=i.MS?i:this.Vzt(t)}},n.RPt=function(t){var n=this.Wzt(t);if(void 0!==n)for(var i=n.$Rt-this.ryt[0].$Rt;i>=0;i--){var r=this.ryt[i];if(void 0!==r.pPt)return new Date(r.pPt.getTime()+1e3*(t-r.MS))}},n.PPt=function(t){for(var n,i=0,r=this.ryt;i<r.length;i++){var e=r[i];if(XK(e))if(void 0===n)n=e;else{if(!(e.pPt.getTime()<=t.getTime()))break;n=e}}if(void 0!==n)return n.MS+(t.getTime()-n.pPt.getTime())/1e3},n.Hzt=function(t){switch(t){case xH.ePt:return this.Xzt;case xH.sPt:return this.Zzt;default:return}},n.HPt=function(t){var n;void 0===this.Tzt&&(this.Tzt=null!=(n=t.DPt)?n:this.qzt(t));void 0===this.Nzt&&void 0!==t.HRt&&(this.Nzt=t.HRt),void 0===this.Szt&&void 0!==t.aRt&&(this.Szt=t.aRt),void 0===this.Izt&&void 0!==t.XRt&&(this.Izt=t.XRt),this.Dzt=t.GRt,this.Ezt=t.VRt,this.kzt=t.WRt,this.Lzt=t.SPt,this.uyt(t),this.Kzt(t);var i=co(t.NPt,(function(t){return t.Av===xH.ePt})),r=co(t.NPt,(function(t){return t.Av===xH.sPt}));this.Xzt=i?{Jpt:i.Jpt,Av:i.Av,yPt:t.yPt}:void 0,this.Zzt=r?{Jpt:r.Jpt,Av:r.Av,yPt:t.yPt}:void 0,this.Rzt=an.m_()/1e3;var e=this.U1.jn(this.U1.U-1);this.Jzt();var u=this.U1.jn(this.U1.U-1);(!this.zzt||u-e>0)&&(this.zzt=this.Rzt),null!=this.FI||(this.FI=t.Cn)},n.Jzt=function(){this.bzt=this.$zt(),this.U1=this.tBt(this.bzt),this.jx=this.iBt()},n.$zt=function(){var t=this.jnt;if(0===t.length)return HD.oU();var n=t[0].MS,i=t[t.length-1].bS;return new HD([n,i])},n.tBt=function(t){if(0===t.U||this.bPt)return t;var n=t.Cn(0),i=t.jn(0)-this.nbt;return i<n?HD.nU(n):new HD([n,i])},n.iBt=function(){return 0===this.ryt.length?0:this.bPt?Wi(this.ryt,(function(t){var n;return null!=(n=t.ct)?n:t.tzt})):1/0},n.qzt=function(t){for(var n,i=0,r=t.jnt;i<r.length;i++){var e=r[i];if(void 0!==e.ct){var u=w.max(1,w.round(e.ct));(void 0===n||n<u)&&(n=u)}}if(void 0===n)throw new v("HLSModel - Could not determine required segment target duration.");return n},n.uyt=function(t){if(0===t.jnt.length)return po(this.ryt),void this.sBt();var n=this.nBt(t);if(n){var i,r,e;n.rBt>0&&this.ryt.splice(0,n.rBt);var u=t.KRt;if(u>0){if(u>this.ryt.length)throw new CK("New playlist skips over missing segments.");var s=this.ryt[u-1];if(void 0===s.ct)throw new CK("New playlist skips over an incomplete segment.");i=s.qPt+s.ct,e=s.yPt-t.yPt,r=u;for(var o=0;o<u;o++)this.ryt[o].hzt()}else i=n.oBt,e=0,r=0;for(var a=0;a<t.jnt.length;a++,r++){var c=t.jnt[a],h=0===a,f=t.bPt&&a===t.jnt.length-1,v=c.ct,l=c.yPt+e;if(r<this.ryt.length){var d=this.ryt[r];0,d.HPt(c,h,f)}else{var g=c;if(this.ryt.length>0&&void 0===g.mPt)g=$u({},g,{mPt:this.ryt[this.ryt.length-1].mPt});var w=new jK(i,l,h,f,g);w.YPt=this.ZPt,this.ryt.push(w)}void 0!==v&&(i+=v)}}},n.nBt=function(t){if(0===this.ryt.length)return{rBt:0,oBt:0};var n=this.ryt[0].$Rt,i=this.ryt[this.ryt.length-1].$Rt,r=t.jnt[0].$Rt-t.KRt,e=t.jnt[t.jnt.length-1].$Rt,u=0,s=0;if(r<n){var o=this.jnt[0].pPt,a=t.jnt[0].pPt;if(!(o&&a&&o<a))return void yH.Zjt(GK,"Ignoring older playlist (first media sequence number is "+r+", but previous playlist already started at "+n+")");u=this.ryt.length,this.sBt()}else{if(e<i)return void yH.Zjt(GK,"Ignoring older playlist (last media sequence number is "+e+", but previous playlist already ended at "+i+")");if(i<r){var c;s=null!=(c=function(t,n){var i=fo(t,(function(t){return void 0!==t.pPt}));if(void 0===i)return;var r=function(t){for(var n=0,i=0;i<t.length;i++){var r,e=t[i];if(e.vPt)return;if(e.pPt)return[e,n];n+=null!=(r=e.ct)?r:0}return}(n.jnt);if(void 0===r)return;var e=Gt(r,2),u=e[0],s=e[1];if(i.yPt!==u.yPt)return;var o=(u.pPt.getTime()-i.pPt.getTime())/1e3;return i.qPt+o-s}(this.ryt,t))?c:function(t,n,i){var r,e=t[t.length-1],u=null!=(r=e.ct)?r:w.max(i,e.tzt),s=i*(n-e.$Rt-1);return e.qPt+u+s}(this.ryt,r,this.Tzt),yH.Xjt(GK,"New playlist (starting at "+r+") is entirely after previous playlist (ending at "+i+"), resetting playlist and restarting at "+s+"s"),u=this.ryt.length,this.sBt()}else{0;var h=vo(this.ryt,(function(t){return t.$Rt===r}));0,s=this.ryt[h].qPt,h>0&&(u=h)}}return{rBt:u,oBt:s}},n.Kzt=function(t){var n=t.MPt.map(VH);if(t.WRt&&t.EPt.Ny===SK.uzt&&(n=this.Bzt.concat(n)),this.Bzt=BK(n),t.JRt)for(var i,r=function(t,n){var r=n[t],e=vo(i.Bzt,(function(t){return t.o===r}));e>=0&&wo(i.Bzt,e)},e=0,u=t.JRt;e<u.length;e++)i=this,r(e,u)},n.hBt=function(t,n){if(this.ZPt!==t){this.ZPt=t;for(var i=0,r=this.ryt;i<r.length;i++){r[i].YPt=this.ZPt}this.Jzt()}this.Yzt=n},n.sBt=function(){this.ZPt=void 0,this.Yzt=void 0},At(t,[{key:"bPt",get:function(){return 0!==this.ryt.length&&this.ryt[this.ryt.length-1].GPt}},{key:"ct",get:function(){return this.jx}},{key:"Ig",get:function(){return this.U1}},{key:"Mzt",get:function(){return this.bzt}},{key:"uRt",get:function(){return this.Tzt}},{key:"aRt",get:function(){return this.Szt}},{key:"HRt",get:function(){return this.bPt?0:this.Nzt?this.Nzt:this.Tzt?3*this.Tzt:void 0}},{key:"XRt",get:function(){var t;return null!=(t=this.Izt)?t:this.Szt?3*this.Szt:void 0}},{key:"GRt",get:function(){return this.Dzt}},{key:"VRt",get:function(){return this.Ezt}},{key:"WRt",get:function(){return this.kzt}},{key:"SPt",get:function(){return this.Lzt}},{key:"xzt",get:function(){return void 0!==this.aRt}},{key:"Czt",get:function(){if(this.bPt)return!0;var t=an.m_()/1e3,n=this.Ozt,i=this.jzt;return void 0!==n&&t-n<i}},{key:"Ozt",get:function(){return this.Rzt}},{key:"Pzt",get:function(){if(this.zzt)return an.m_()/1e3-this.zzt}},{key:"YPt",get:function(){return this.ZPt}},{key:"jzt",get:function(){var t;return null!=(t=this.Tzt)?t:void 0===this.Rzt?5:1}},{key:"jnt",get:function(){return this.ryt}},{key:"MPt",get:function(){return this.Bzt}},{key:"Uzt",get:function(){return this.Qzt},set:function(t){this.Qzt=t}},{key:"Cn",get:function(){return this.FI}},{key:"Fzt",get:function(){return this.Yzt}},{key:"nbt",get:function(){return this.bPt?0:null!=(i=null!=(n=null!=(t=this.eBt)?t:this.XRt)?n:this.HRt)?i:0;var t,n,i}}]),t}(),WK=function(){function t(){}var n=t.prototype;return n.iyt=function(t){return t.MS},n.eyt=function(t){return t.bS},n.syt=function(t,n){return uo(t,n)},n.nyt=function(t,n,i){return(t-n)/(i-n)},At(t,null,[{key:"lL",get:function(){return null!=this.Jnt||(this.Jnt=new t),this.Jnt}}]),t}();function XK(t){return void 0!==t.pPt}function ZK(t){return void 0!==t.wPt}function HK(t){return ZK(t)?t.JPt:0===t.XPt&&t.WPt.JPt}function KK(t,n){return ZK(t)?ZK(n)?t.$Rt+1===n.$Rt:0===n.XPt&&KK(t,n.WPt):t.XPt===t.WPt.wPt.length-1?KK(t.WPt,n):!ZK(n)&&t.WPt===n.WPt&&t.XPt+1===n.XPt}yt(),C(),yt(),C(),yt(),C(),pt(),Mt();var qK=function(t){function n(){return t.call(this,"Tried to wait for multiple discontinuity mappings at the same time")}return bt(n,t),At(n,[{key:"name",get:function(){return"DiscontinuityMisalignmentError"}}]),n}(xo);var JK=function(){function t(){this.DBt=[],this.uBt=is(),this.dBt=[],this.yBt=-1}var n=t.prototype;return n.aBt=function(t){var n=this.uBt.get(t);return void 0!==n&&$K(n)},n.cBt=function(t){if(this.lBt()>t)return q.reject(new qK);for(var n=[],i=0,r=this.dBt;i<r.length;i++){var e,u=r[i];if(u<t)null==(e=this.uBt.get(u))||e.fBt.xL(new qK),this.uBt.delete(u);else n.push(u)}return this.dBt=n,-1===this.dBt.indexOf(t)&&this.dBt.push(t),this._Bt(t).fBt.OL},n.gBt=function(t){var n=this.uBt.get(t);if(!n||!$K(n))throw new v("LLHLSPlayer - Missing timestamp mapping for discontinuity #"+t);return n},n.wBt=function(t){return this.gBt(t).pI},n.vBt=function(t,n){var i=ZK(n)?n:n.WPt,r=this.gBt(i.yPt),e=t.nS(r.pI);if(r.mBt){var u=up.$N(n.MS).uN(e);if(u.oN().$S(fp())){var s=w.round(u.JS()/hp().JS());e=e.nS(hp().zN(s))}}return e},n.pBt=function(t,n){return this.vBt(t,n).uN(t)},n.ABt=function(t,n,i,r,e,u){this.yBt<t&&(this.yBt=t);var s=this._Bt(t);void 0===s.pI&&(s.MBt.some((function(t){return t.Zht===n}))||(s.MBt.push({Zht:n,bBt:i,TBt:r.ZN(i.cM),SBt:e,mBt:u}),this.NBt(s,t)))},n.NBt=function(t,n){if(!t.pI&&this.IBt(t)){var i=function(t){return No(t,tq)}(t.MBt);t.pI=i.TBt.uN(i.bBt),t.mBt=t.MBt.some((function(t){return t.mBt})),t.fBt.LL(),po(t.MBt),go(this.dBt,n)}},n.IBt=function(t){return this.DBt.length>0&&this.DBt.every((function(n){return t.MBt.some((function(t){return t.Zht===n}))}))},n._Bt=function(t){if(this.uBt.has(t))return this.uBt.get(t);var n={pI:void 0,mBt:!1,fBt:new Bc,MBt:[]};return this.uBt.set(t,n),n},n.EBt=function(t){var n=this;this.DBt=t,this.uBt.forEach((function(t,i){return n.NBt(t,i)}))},n.kBt=function(){this.yBt=-1},n.lBt=function(){return this.yBt},n.h_=function(){this.uBt.forEach((function(t){return t.fBt.g_()})),this.uBt.clear()},t}();function $K(t){return void 0!==t.pI}function tq(t,n){return-function(t,n){if(t.mBt||n.mBt)return function(t,n){var i=t.uN(n);return t.lN()||n.lN()||(i.iN(fp())?i=i.uN(hp()):i.rN(fp().aN())&&(i=i.nS(hp()))),i}(t.bBt,n.bBt).tN(up.wN);return t.bBt.tN(n.bBt)}(t,n)||function(t,n){return t.SBt===n.SBt?Js.Zr:t.SBt?Js.Jf:Js.$f}(t,n)||function(t,n){return t.TBt.tN(n.TBt)}(t,n)}var nq=function(){function t(t,n){this.CBt=[],this.xBt=[],this.QBt=ns(),this.OBt=new JK,this.VBt=t,this.eBt=n}var n=t.prototype;return n.HPt=function(t,n){if(QH(t))if(0===this.CBt.length)this.jBt(t);else{if(!n)return void yH.Zjt("HLSModel","No rendition was provided to update the playlist. Ignoring the update.");n.djt.HPt(t)}else{if(0!==this.CBt.length)return void yH.Zjt("HLSModel","Master playlist can only be applied once. Ignoring the update.");this.RBt(t)}},n.jBt=function(t){var n=this.PBt(t.Jpt);n.HPt(t);var i=this.zBt(CH.WA,n),r=this.zBt(CH.VA,n),e=new DK({Jpt:n.Jpt,GP:0,Xpt:0,Zpt:NaN,$nt:void 0,akt:void 0,Adt:0,xRt:[],jRt:void 0,zRt:void 0,CRt:void 0,PRt:void 0,RRt:void 0,ORt:void 0},n,[i,r]);this.CBt.push(e)},n.RBt=function(t){var n,i,r=function(i,r){var u=r[i],s=e.filter((function(t){return function(t,n){return iq(t.Av,t.wjt,n)&&(!t.mjt||t.djt.Jpt===n.Jpt)}(t,u)}));n.UBt(u,s);var o=new DK(u,n.PBt(u.Jpt,t.Cn),s);n.CBt.push(o)};(i=this.xBt).push.apply(i,jt(t.fPt));for(var e=this.BBt(t),u=0,s=t._Pt;u<s.length;u++)n=this,r(u,s)},n.PBt=function(t,n){var i=this.QBt.get(t);return void 0===i&&(i=new VK(t,n,this.eBt),this.QBt.set(t,i)),i},n.BBt=function(t){for(var n=[],i=0,r=t.wM;i<r.length;i++){var e=r[i];if(void 0===e.Jpt)for(var u=0,s=t._Pt;u<s.length;u++){var o=s[u];if(iq(e.Av,e.wjt,o)){var a=new iH(e,this.PBt(o.Jpt));n.push(a)}}else{var c=new iH(e,this.PBt(e.Jpt));n.push(c)}}return n},n.zBt=function(t,n){return new iH({Av:t,Jpt:void 0,wjt:"",gs:void 0,LRt:void 0,l:"",fjt:!0,_jt:!1,gjt:!1,pjt:void 0,vjt:void 0,rkt:void 0},n)},n.UBt=function(t,n){var i=n.filter((function(t){return t.Av===CH.WA})),r=n.filter((function(t){return t.Av===CH.VA})),e=t.$nt&&(t.$nt.Akt||t.$nt.mkt);if((!e||t.$nt.Akt)&&0===r.length){var u=this.zBt(CH.VA,this.PBt(t.Jpt));n.push(u)}if((!e||t.$nt.mkt)&&0===i.length){var s=this.zBt(CH.WA,this.PBt(t.Jpt));n.push(s)}t.$nt&&t.$nt.IRt},n.FBt=function(t){for(var n=0,i=this.CBt;n<i.length;n++)for(var r=0,e=i[n].nRt;r<e.length;r++){var u=e[r];if(u===t)return u}},n.YBt=function(t){for(var n=0,i=this.CBt;n<i.length;n++){var r=i[n];if(r===t)return r}},n.GBt=function(t){for(var n=0,i=this.CBt;n<i.length;n++){var r=i[n];if(mo(r.nRt,t))return r}},n.h_=function(){po(this.CBt),po(this.xBt),this.QBt.clear(),this.OBt.h_()},At(t,[{key:"LBt",get:function(){return this.xBt}},{key:"Kjt",get:function(){return this.CBt}},{key:"kT",get:function(){return this.OBt}}]),t}();function iq(t,n,i){switch(t){case CH.WA:return i.CRt===n;case CH.VA:return i.PRt===n;case CH.HA:return i.RRt===n;case CH.kRt:return i.ORt===n}return!1}yt(),C(),Mt();var rq=function(t){function n(n){var i;return(i=t.call(this,eq.WBt)||this).Mjt=n,i}return bt(n,t),n}(ra);yt(),C(),Mt();var eq,uq=function(t){function n(n){var i;return(i=t.call(this,eq.HBt)||this).Mjt=n,i}return bt(n,t),n}(ra),sq="HlsModelUpdater";!function(t){t.WBt="XBt",t.HBt="ZBt"}(eq||(eq={}));var oq=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).aE=n,s.rut=i,s.xbt=r,s.KBt=!1,s.$Bt=!1,s.fUt=void 0,s.iUt=void 0,s.dUt=is(),s.sAt=new nq(e,u),s}bt(n,t);var i=n.prototype;return i.eUt=function(t){var n=this;return Ot((function(){var i,r,e;return Rt(this,(function(u){switch(u.label){case 0:if(!(i=n.sAt.VBt))throw new v("HLSModelUpdater - Could not load HLS playlist: The provided source is empty.");return n.Co(new YL),[4,n.sUt(i,{},2,!0,t)];case 1:if(r=u.sent(),!UH(e=r.djt)&&!QH(e))throw new v("HLSModelUpdater - Could not load HLS playlist: The playlist is invalid.");return UH(e)||yH.IM(sq,"Detected media playlist only HLS stream."),n.nUt(e),r.rUt?(n.$Bt=!0,[4,n.oUt(t)]):[3,3];case 2:u.sent(),u.label=3;case 3:return n.KBt=!0,[2]}}))}))()},i.hUt=function(t,n,i,r){var e=this;return Ot((function(){var u,s,o,a;return Rt(this,(function(c){switch(c.label){case 0:if(!(u=e.sAt.FBt(t)))throw new v("HLSModelUpdater - Could not load HLS playlist for rendition: the rendition does not exist on the internal model.");s={$Rt:n,Gzt:i,Ny:fq(u)},o=Ki(w.max(1,3*t.djt.jzt)),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,e.aUt(u,s,r,o)];case 2:return c.sent(),[3,4];case 3:throw Uo(a=c.sent()),e.uUt(u),a;case 4:return[2]}}))}))()},i.cUt=function(t,n){var i=this.sAt.FBt(t);if(!i)throw new v("HLSModelUpdater - Could not load HLS playlist for rendition: the rendition does not exist on the internal model.");var r={$Rt:void 0,Gzt:void 0,Ny:fq(i)},e=Ki(w.max(1,3*t.djt.jzt));return this.aUt(i,r,n,e)},i.lUt=function(t,n){return this.dUt.has(t.Xw)||this.dUt.set(t.Xw,new Bc),Yo(this.dUt.get(t.Xw).OL,n)},i.uUt=function(t){this.Co(new uq(t))},i.aUt=function(t,n,i,r){var e=this;return Ot((function(){var u,s,o,a,c;return Rt(this,(function(h){switch(h.label){case 0:u=t.djt.Qjt(n),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,e.sUt(u,n,0,e.$Bt,i,r)];case 2:return o=h.sent(),s=o.djt,[3,4];case 3:throw Uo(a=h.sent()),t.djt.Uzt=an.m_(),a;case 4:if(!QH(s))throw new v("HLSModelUpdater - Could not load HLS playlist for rendition: the playlist is not a media playlist.");if(!e.fUt||t===e.fUt||e.fUt.djt.Czt)return[3,8];h.label=5;case 5:return h.trys.push([5,7,,8]),[4,e.cUt(e.fUt,i)];case 6:return h.sent(),[3,8];case 7:return Uo(h.sent()),e.fUt=t,e._Ut(),[3,8];case 8:try{e.nUt(s,t)}catch(u){if(u instanceof CK&&void 0!==n.Ny)return c=$u({},n,{Ny:void 0}),[2,e.aUt(t,c,i,r)];throw u}return e.gUt(t),e.fUt=t,[2]}}))}))()},i.sUt=function(t,n,i,r,e,u){var s=this;return Ot((function(){var o;return Rt(this,(function(a){switch(a.label){case 0:return yH.IM(sq,"Loading HLS playlist at "+t+"."),r?[4,s.wUt(t,e)]:[3,2];case 1:if(void 0!==(o=a.sent()))return[2,{djt:o,rUt:!0}];a.label=2;case 2:return[4,s.vUt(t,n,i,e,u)];case 3:return[2,{djt:a.sent(),rUt:!1}]}}))}))()},i.wUt=function(t,n){var i=this;return Ot((function(){var r;return Rt(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,i.rut.fnt([t])];case 1:return r=e.sent(),Po(n),void 0!==r?[2,NK(r.responseURL,{},r.data)]:[3,3];case 2:return Uo(e.sent()),[3,3];case 3:return[2]}}))}))()},i.vUt=function(t,n,i,r,e){var u=this;return Ot((function(){var s,o;return Rt(this,(function(a){switch(a.label){case 0:return s={zu:t,qD:pl.Ru,tE:u.xbt,ZD:Jw.GET,Av:$w.xD,f_:r,_D:e},[4,MD((function(){return u.mUt(s)}),r,i)];case 1:return[2,NK((o=a.sent()).cE,n,o.ly)]}}))}))()},i.mUt=function(t){var n=this;return Ot((function(){var i;return Rt(this,(function(r){switch(r.label){case 0:return[4,n.aE.uD(t)];case 1:return[4,(i=r.sent()).uE()];case 2:return[2,{ly:r.sent(),cE:i.cE}]}}))}))()},i.oUt=function(t){var n=this;return Ot((function(){var i,r,e,u,s,o,a;return Rt(this,(function(c){switch(c.label){case 0:for(Po(t),i=[],r=0,e=n.sAt.Kjt;r<e.length;r++)for(u=e[r],s=0,o=u.nRt;s<o.length;s++)a=o[s],i.push(n.pUt(a,t));return[4,q.all(i)];case 1:return c.sent(),[2]}}))}))()},i.pUt=function(t,n){var i=this;return Ot((function(){var r;return Rt(this,(function(e){switch(e.label){case 0:return e.trys.push([0,4,,5]),[4,i.rut.fnt([t.djt.Jpt])];case 1:return r=e.sent(),Po(n),void 0===r||t.djt.Czt?[3,3]:[4,i.cUt(t,n)];case 2:e.sent(),e.label=3;case 3:return[3,5];case 4:return Uo(e.sent()),[3,5];case 5:return[2]}}))}))()},i._Ut=function(){for(var t=0,n=this.sAt.Kjt;t<n.length;t++)for(var i=0,r=n[t].nRt;i<r.length;i++){var e=r[i];e!==this.fUt&&(void 0!==e.djt.YPt&&(e.djt.Czt?this.gUt(e):e.djt.sBt()))}},i.gUt=function(t){if(0!==t.djt.jnt.length){if(!this.fUt)return this.fUt=t,void this.fUt.djt.hBt(0,void 0);if(this.AUt(this.fUt),!this.AUt(t)&&void 0===t.djt.YPt){var n=this.yUt(t,this.fUt);yH.Xjt(sq,"Assuming global timeline offset of "+n+"s for rendition "+t.djt.Jpt+"."),t.djt.hBt(n,void 0)}}},i.yUt=function(t,n){if(aq(t)){var i=t.djt.jnt[0],r=n.djt.jnt[0];return yH.Xjt(sq,"Synchronizing by start of VOD: "+r.MS+" vs "+i.MS),r.MS-i.qPt}var e=function(t,n){var i=t.length-1,r=n.length-1;for(;i>=0&&r>=0;){var e=t[i],u=n[r];if(e.yPt>u.yPt)i--;else if(e.yPt<u.yPt)r--;else if(e.vPt){if(u.vPt)return{segment:e,referenceSegment:u};r--}else i--}return}(t.djt.jnt,n.djt.jnt);if(void 0!==e){var u=e.segment,s=e.referenceSegment;return yH.Xjt(sq,"Synchronizing by start of discontinuity #"+s.yPt+": "+s.MS+" vs "+u.MS),s.MS-u.qPt}var o=hq(t.djt.jnt);if(void 0!==o){var a=hq(n.djt.jnt);if(void 0!==a)return yH.Xjt(sq,"Synchronizing by PDT:",a.pPt.toISOString()+" vs "+o.pPt.getTime()),a.MS-o.qPt-(a.pPt.getTime()-o.pPt.getTime())/1e3}var c,h=cq(n),f=cq(t),v=null!=(c=t.djt.YPt)?c:0;return yH.Xjt(sq,"Synchronizing by last segment:",h+" vs "+f),h-f+v},i.AUt=function(t){var n=this.sAt.FBt(t);if(!n)return!1;if(aq(n))return!1;var i=function(t,n){return fo(t,(function(t){return void 0!==t.F7&&n.aBt(t.yPt)}))}(n.djt.jnt,this.sAt.kT);if(void 0===i)return!1;if(n.djt.Fzt===i.yPt)return!0;var r=this.sAt.kT.vBt(i.F7,i).JS()-i.qPt;return yH.Xjt(sq,"Synchronize by media timestamp: "+r+"s for rendition "+t.djt.Jpt+"."),n.djt.hBt(r,i.yPt),(void 0===this.fUt||void 0===this.fUt.djt.Fzt||this.fUt.djt.Fzt<i.yPt)&&(this.fUt=n),!0},i.nUt=function(t,n){var i;(this.sAt.HPt(t,n),QH(t)&&n)&&(this.iUt=n,this.Co(new rq(n)),null==(i=this.dUt.get(n.Xw))||i.LL(),this.dUt.delete(n.Xw));this.Co(new AG)},i.MUt=function(t,n){for(var i=0,r=this.sAt.Kjt;i<r.length;i++){var e=r[i],u=co(e.$jt,(function(t){return t.djt===n}));void 0!==u&&void 0!==t.Akt&&(u.$nt=WH(u.$nt,t));var s=co(e.Jjt,(function(t){return t.djt===n}));void 0!==s&&void 0!==t.mkt&&(s.$nt=WH(s.$nt,t)),e.xPt||void 0===u&&void 0===s||(e.$nt=WH(e.$nt,t))}},i.bUt=function(t,n){for(var i=0,r=this.sAt.Kjt;i<r.length;i++){var e=r[i],u=co(e.$jt,(function(t){return t.djt===n}));void 0!==u&&void 0===t.Akt&&e.zPt(u);var s=co(e.Jjt,(function(t){return t.djt===n}));void 0!==s&&void 0===t.mkt&&e.zPt(s)}},i.h_=function(){this.Vo(),this.sAt.h_(),this.dUt.forEach((function(t){return t.g_()})),this.dUt.clear()},At(n,[{key:"qBt",get:function(){return this.KBt}},{key:"JBt",get:function(){return this.$Bt}},{key:"Tr",get:function(){return this.sAt}},{key:"tUt",get:function(){return this.iUt}}]),n}($o);function aq(t){return t.djt.bPt||t.djt.SPt===zH.iPt}function cq(t){var n=t.djt.jnt;return n[n.length-1].bS}function hq(t){return fo(t,(function(t){return void 0!==t.pPt}))}function fq(t){if(void 0!==t.djt.VRt&&!t.djt.bPt&&!(void 0===t.djt.Ozt||an.m_()/1e3-t.djt.Ozt>=t.djt.VRt/2))return t.djt.WRt?SK.uzt:SK.azt}var vq=function(){function t(t,n){var i=this;this.SUt=function(t){i.Kzt(t.Mjt)},this.kSt=t,this.Fm=n,this.uvt=new Y_,this.kSt.yn(eq.WBt,this.SUt)}return t.prototype.Kzt=function(t){if(0!==t.djt.MPt.length){this.TUt||(this.TUt=this.Fm.rE(Q_.ZA,void 0,void 0,void 0,void 0,mA.DATE_RANGE),this.uvt.tt(this.TUt));RK(this.TUt,t.djt.MPt,(function(n){var i;return null!=(i=t.djt.PPt(n))?i:NaN}))}},At(t,[{key:"nt",get:function(){return this.uvt}}]),t}();yt(),C(),Mt();var lq=function(t){function n(){return t.call(this,KZ.rjt)}return bt(n,t),n}(ra);yt(),C(),pt(),yt(),C(),zt(),pt(),Ut(),yt(),C(),pt();var dq=function(){function t(t){this.xrt=t,this.ryt=[],this.i0=void 0,this.dvt=void 0}var n=t.prototype;return n.IUt=function(t){var n;return null==(n=this.DUt(t))?void 0:n.Mjt},n.slt=function(t){this.i0=t,this.EUt()},n.elt=function(t,n,i,r,e,u){this.ryt.push({Mjt:t,nut:n,kUt:HD.rU(e,u),LUt:HD.rU(i,r)}),this.EUt()},n.DUt=function(t){return co(this.ryt,(function(n){return n.LUt.gr(t)}))},n.Aat=function(t){return co(this.ryt,(function(n){return n.nut===t}))},n.Oct=function(t,n){return co(this.ryt,(function(i){return i.Mjt===t&&KK(i.nut,n)}))},n.x0=function(){var t=this.O_;t.U>0&&(this.dvt=t.jn(t.U-1))},n.EUt=function(){var t=this.xrt.O_;this.ryt=this.ryt.filter((function(n){return 0!==t.Sn(n.LUt).U}))},At(t,[{key:"NUt",get:function(){return this.i0}},{key:"O_",get:function(){return vP(this.xrt.O_,this.xrt.R0)}},{key:"jnt",get:function(){return this.ryt}},{key:"wvt",get:function(){return this.dvt}}]),t}(),gq=function(){function t(t,n,i,r,e){var u=this;this.RUt=void 0,this.$O=new zo,this.jUt=HD.oU(),this.GUt=function(t){u.RUt&&(t?ZS(t)&&u.xUt?u.XUt.wX(u.xrt.O_.sU)?u.RUt.LL():u.RUt.xL(t):Bo(t)?u.RUt.LL():u.RUt.xL(t):u.RUt.LL(),u.RUt=void 0)},this.z2=t,this.YUt=i,this.xrt=n,this.Vht=r,this.XUt=e}var n=t.prototype;return n.PUt=function(){if(this.tEt)throw new v("Cannot perform new operation while BufferAppender is still busy")},n.Srt=function(t){this.xrt!==t&&(this.PUt(),this.xrt=t,this.Vht=new dq(t))},n.zUt=function(){return this.RUt?this.RUt.OL:q.resolve()},n.BUt=function(t){var n=this.Vht.wvt;return void 0!==n&&this.UUt(t,n)},n.UUt=function(t,n){var i,r,e=w.min(t,n);return null!=(r=null==(i=this.Vht.O_.PB().VB(this.OUt).Jm(e))?void 0:i.gr(n))&&r},n.QUt=function(t){return this.Vht.IUt(t)},n.g_=function(){this.$O.g_(),this.$O=new zo},n.X$=function(t){var n=this;this.PUt(),this.RUt=new Bc;var i=function(i){n.YUt.FUt(t),n.GUt(i)};this.Z$(t,this.$O.f_).then(i,i)},n.Z$=function(t,n){var i=this;return Ot((function(){return Rt(this,(function(r){switch(r.label){case 0:return yH.Xjt(pH,"Appending initializer",YH(t.VUt.Jpt)),[4,i.xrt.X$(t,n)];case 1:return r.sent(),yH.Xjt(pH,"Appended initializer",YH(t.VUt.Jpt)),i.Vht.slt(t),[2]}}))}))()},n.wlt=function(t){var n=this;this.PUt(),this.RUt=new Bc;var i=function(i){n.YUt.FUt(t),n.GUt(i)};this.WUt(t,this.$O.f_).then(i,i)},n.WUt=function(t,n){var i=this;return Ot((function(){var r,e,u,s,o,a,c,h,f,l,d,g,w,y,m,A,p,_,k,b,M,T;return Rt(this,(function(N){switch(N.label){case 0:if(void 0===(r=t.Mjt).djt.uRt)throw new v("MediaBufferWrapper - Cannot append HLSAsset to "+i.z2+" MediaBuffer for a HLSRendition with an undefined targetDuration.");return e=i.Vht.O_.LB,u=i.xrt.O_,yH.Xjt(pH,"Appending",YH(t.VUt.Jpt)),[4,i.xrt.V$(t,n)];case 1:return N.sent(),yH.Xjt(pH,"Appended",YH(t.VUt.Jpt),e,i.Vht.O_.LB),s=t.MS,o=s+t.ct,a=t.VUt,c=a.MS,f=a.MS+(null!=(h=a.ct)?h:0),i.Vht.elt(r,a,s,o,c,f),l=i.xrt.O_.VB(u),d=i.Vht.Oct(r,a),i.Av===Gm.VA&&(d?i.HUt(d)?0===l.U?void 0===i.Vht.Aat(a)&&(g=i.xrt.R0.Sn(new HD([s,o])),i.jUt=i.jUt.YB(g)):(w=l.Cn(0),y=new HD([w,o]),i.jUt=i.jUt.VB(y),w>s&&(m=i.xrt.R0.Sn(new HD([s,w])),i.jUt=i.jUt.YB(m))):(A=l.U>0&&l.Cn(0)<s?l.Cn(0):s,i.jUt=i.jUt.VB(new HD([A,o]))):0===l.U?(p=i.xrt.R0.Sn(new HD([s,o])),i.jUt=i.jUt.YB(p)):(k=l.Cn(0),b=null==(_=u.Jm(s))?void 0:_.jn(0),k>(M=b&&b>s?b:s)&&(T=i.xrt.R0.Sn(new HD([M,l.Cn(0)])),i.jUt=i.jUt.YB(T)))),t.VUt.GPt&&i.Vht.x0(),[2]}}))}))()},n.HUt=function(t){var n=t.LUt,i=n.Cn(0),r=n.jn(n.U-1),e=n.CB(0),u=n.jB(n.U-1);return this.jUt.HB(i,r,e,u)},At(t,[{key:"Av",get:function(){return this.z2}},{key:"xUt",get:function(){return this.z2===Gm.WA||this.z2===Gm.VA}},{key:"CUt",get:function(){return this.Vht}},{key:"OUt",get:function(){return this.jUt}},{key:"tEt",get:function(){return void 0!==this.RUt}}]),t}();yt(),C(),zt(),pt(),Mt(),Vt(),Ut(),yt(),C(),zt(),Ut();var wq=function(){function t(t,n,i){this.KUt=t,this.aE=n,this.xbt=i,this.JUt=void 0}var n=t.prototype;return n.ZUt=function(t,n,i,r){var e=this;return Ot((function(){var u;return Rt(this,(function(s){switch(s.label){case 0:return[4,e.qUt(n,r)];case 1:return u=s.sent(),[4,e.KUt.ZUt(t,u,i)];case 2:return[2,s.sent()]}}))}))()},n.qUt=function(t,n){var i=this;return Ot((function(){var r,e,u;return Rt(this,(function(s){switch(s.label){case 0:return(null==(r=i.JUt)?void 0:r.zu)===t?[3,3]:(yH.Xjt("HLSDecryptor","Fetching new AES-128 decryption key from "+t+"."),[4,i.aE.uD({zu:t,qD:pl.SD,ZD:Jw.GET,f_:n,Av:$w.jD,JD:ty.YD,tE:i.xbt})]);case 1:return[4,s.sent().GR()];case 2:e=s.sent(),u=new p(e),i.JUt={zu:t,ly:u},s.label=3;case 3:return[2,i.JUt.ly]}}))}))()},t}();yt(),C(),zt(),Ut();var yq=function(){function t(t,n,i,r,e){void 0===e&&(e=2),this.aE=t,this.rut=n,this.Nat=i,this.xbt=r,this.vet=e}var n=t.prototype;return n.uD=function(t,n,i,r,e){var u=this;return Ot((function(){var s,o;return Rt(this,(function(a){switch(a.label){case 0:return[4,u.$Ut(t,n,i,pl.SD,r,e)];case 1:return[4,(s=a.sent()).GR(e)];case 2:return o=a.sent(),[2,{httpStatusCode:s.fD,response:new p(o)}]}}))}))()},n.tQt=function(t,n,i,r,e){var u=this;return Ot((function(){return Rt(this,(function(s){switch(s.label){case 0:return[4,u.$Ut(t,n,i,pl.DD,r,e)];case 1:return[2,s.sent().VW(e)]}}))}))()},n.$Ut=function(t,n,i,r,e,u){var s=this;return Ot((function(){var o,a,c,h;return Rt(this,(function(f){switch(f.label){case 0:t.Dyt&&0===(o=PH(t.Dyt.Cn,t.Dyt.U))[0]&&o[1]===Ri&&(o=void 0),a=o?{Range:"bytes="+o[0]+"-"+o[1]}:void 0,c=new ey({zu:t.lT,qD:r,XD:a,tE:s.xbt,ZD:Jw.GET,Av:n,JD:i,$D:s.Nat,eE:r===pl.DD,iE:e,f_:u}),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,s.rut.mnt(t.lT,o)];case 2:return h=f.sent(),Po(u),void 0!==h?(null==e||e(h.buffer.byteLength,h.buffer.byteLength),[2,new ry({uD:c,qD:c.qD,ly:h.buffer})]):[3,4];case 3:return Uo(f.sent()),[3,4];case 4:return[4,MD((function(){return Yo(s.aE.uD(c),c.f_)}),u,s.vet)];case 5:return[2,f.sent()]}}))}))()},t}();yt(),C(),zt(),Ut();var mq,Aq=function(){function t(t,n){this.aQt=void 0,this.lQt=new zo,this.An=-1/0,this.nQt=void 0,this.uQt=!1,this.kSt=t,this.eQt=n,this.oQt()}var n=t.prototype;return n.iQt=function(){return this.eQt.djt.GRt},n.sQt=function(t,n,i){var r=this;return Ot((function(){var e,u;return Rt(this,(function(s){switch(s.label){case 0:if(!r.iQt())throw new v("Could not perform blocking playlist update.");return e=r.nQt,u={$Rt:t,Gzt:n},void 0!==e&&function(t,n,i){if(t.$Rt===n.$Rt){if(t.Gzt===n.Gzt)return!0;if(0===t.Gzt&&void 0===n.Gzt)return!0}if(t.$Rt===n.$Rt+1&&0===t.Gzt&&void 0!==n.Gzt){var r=i.Aat(n.$Rt);if(r&&r.Jpt&&n.Gzt>=r.wPt.length)return!0}return!1}(e,u,r.eQt.djt)?[3,2]:[4,r.rQt()];case 1:s.sent(),r.oQt(u),s.label=2;case 2:return[2,r.kSt.lUt(r.eQt,i)]}}))}))()},n.hQt=function(t){return this.oQt(),this.kSt.lUt(this.eQt,t)},n.oQt=function(t){var n=this;if(!this.aQt&&!this.uQt){var i=function(){n.aQt=void 0};this.aQt=this.cQt(t,this.lQt.f_).then(i,i)}},n.rQt=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return t.aQt?(t.lQt.g_(),t.lQt=new zo,[4,t.aQt.catch(Kn)]):[3,2];case 1:n.sent(),t.aQt=void 0,n.label=2;case 2:return[2]}}))}))()},n.cQt=function(t,n){var i=this;return Ot((function(){var r,e,u,s;return Rt(this,(function(o){switch(o.label){case 0:r=t,o.label=1;case 1:if(Po(n),i.eQt.djt.bPt&&i.eQt.djt.Czt)return[2];null!=r||(r=i.dQt()),i.nQt=r,o.label=2;case 2:return o.trys.push([2,9,,10]),r?[4,i.kSt.hUt(i.eQt,r.$Rt,r.Gzt,n)]:[3,4];case 3:return o.sent(),[3,8];case 4:return e=an.m_()-i.An,u=1e3*i.eQt.djt.jzt,e<u?[4,Ko(u-e,n)]:[3,6];case 5:o.sent(),o.label=6;case 6:return[4,i.kSt.cUt(i.eQt,n)];case 7:o.sent(),o.label=8;case 8:return[3,10];case 9:throw s=o.sent(),i.nQt=void 0,Uo(s),i.kSt.uUt(i.eQt),s;case 10:return r=void 0,i.An=an.m_(),[3,1];case 11:return[2]}}))}))()},n.dQt=function(){var t=this.eQt.djt;if(t.GRt&&!t.bPt&&0!==t.jnt.length){var n=t.jnt[t.jnt.length-1];return n.Jpt?{$Rt:n.$Rt+1,Gzt:t.xzt?0:void 0}:{$Rt:n.$Rt,Gzt:n.wPt.length}}},n.h_=function(){this.uQt=!0,Xo(this.rQt())},t}();yt(),C(),function(t){t[t.ePt=0]="ePt",t[t.sPt=1]="sPt",t[t.CD=2]="CD",t[t.OD=3]="OD"}(mq||(mq={})),yt(),C(),zt(),Ut(),yt(),C(),zt(),pt(),Ut();var pq="AssetExtractor",_q=function(){function t(){this._Qt=[]}var n=t.prototype;return n.fQt=function(t,n,i){for(var r=n,e=0,u=this._Qt;e<u.length;e++){var s=u[e];if(r>=t)return!0;if(r<s.Cn)return!1;if(r<s.jn){if(i<=s.jn)return!0;r=s.jn}}return r>=t},n.gQt=function(t,n){for(var i=[],r=0;r<this._Qt.length;r+=1){var e=this._Qt[r],u=t-e.Cn,s=e.ly.length,o=w.min(s,w.max(u,0)),a=w.max(0,n+u),c=jc(e.ly,o,a);c.length&&(r=this.wQt(r,e,t,o,a),i.push(c))}return i},n.vQt=function(t,n){this._Qt.push({Cn:t,jn:t+n.length,ly:n})},n.wQt=function(t,n,i,r,e){var u=t;this._Qt.splice(u,1),u-=1,n.Cn<i&&(u+=1,this._Qt.splice(u,0,{Cn:n.Cn,jn:i,ly:jc(n.ly,0,r)}));var s=i+e-r;return s<n.jn&&(u+=1,this._Qt.splice(u,0,{Cn:s,jn:n.jn,ly:jc(n.ly,e)})),u},t}(),kq=function(){function t(t,n){this.pQt=n,this.YV=t.getReader()}var n=t.prototype;return n.AQt=function(){var t=this;return Ot((function(){var n;return Rt(this,(function(i){switch(i.label){case 0:return[4,t.YV.read()];case 1:if((n=i.sent()).done)throw t.pQt=1/0,new v("No more data can be read from the given stream.");return t.pQt+=n.value.length,[2,n.value]}}))}))()},n.yQt=function(t){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return[4,n.YV.cancel(t)];case 1:return i.sent(),[2]}}))}))()},At(t,[{key:"mQt",get:function(){return this.pQt}}]),t}(),bq=function(){function t(t,n,i,r){this.EQt=new Bc,this.KPt=t,this.YV=n,this.SQt=i,this.DQt=r,this.NQt=new Bc,this.bQt=new Bc}var n=t.prototype;return n.MQt=function(){this.bQt.LL(),this.bQt=new Bc},n.TQt=function(t){var n=Tq(this.KPt.Dyt),i=n.Eyt,r=n.kyt,e=this.SQt.gQt(i,r-i);yH.Xjt(pq,"Collected "+e.length+" chunks.");for(var u=0;u<e.length;u++){var s=e[u];t.enqueue(s)}},n.readAndSliceOutAssetBytes=function(t){var n=this;return Ot((function(){var i,r,e,u,s,o,a,c,h,f,v,l,d;return Rt(this,(function(g){switch(g.label){case 0:return[4,n.NQt.OL];case 1:g.sent(),i=Tq(n.KPt.Dyt),r=i.Eyt,e=i.kyt,g.label=2;case 2:g.trys.push([2,11,,12]),g.label=3;case 3:return u=n.YV.mQt,[4,n.YV.AQt()];case 4:return s=g.sent(),o=s.length,yH.Xjt(pq,"Read "+o+" at "+u+" for extraction of "+YH(n.KPt)),a=w.min(u+o,r),(c=a-u)>0?(h=jc(s,0,c),f=jc(s,c),yH.Xjt(pq,"Of the read "+o+" bytes, the first "+c+" will be stored locally for extraction of "+YH(n.KPt)),n.SQt.vQt(u,h),f.length>0?(yH.Xjt(pq,"Extracting "+f.length+" bytes for extraction of "+YH(n.KPt)),t.enqueue(f),n.MQt(),[2,Xo(n.readAndSliceOutAssetBytes(t))]):[3,9]):[3,5];case 5:return u+o<=e?(yH.Xjt(pq,"Extracting the read data range for extraction of "+YH(n.KPt)),t.enqueue(s),n.MQt(),[2,Xo(n.readAndSliceOutAssetBytes(t))]):[3,6];case 6:return l=jc(s,0,v=e-u),d=jc(s,v),l.length>0&&(yH.Xjt(pq,"Extracting "+l.length+" bytes for extraction of "+YH(n.KPt)),t.enqueue(l)),yH.Xjt(pq,"Of the read "+o+" bytes, the last "+d.length+" will be stored locally for extraction of "+YH(n.KPt)),n.SQt.vQt(u+v,d),yH.Xjt(pq,"Extraction of "+YH(n.KPt)+" completed as the entire request has been fulfilled."),n.IQt(t),n.DQt?(yH.Xjt(pq,"Aborting stream upstream as no more bytes are needed from "+YH(n.KPt)+"."),[4,n.YV.yQt("AssetExtraction - AbortOnEnd")]):[3,8];case 7:g.sent(),g.label=8;case 8:return[2];case 9:return[3,3];case 10:return[3,12];case 11:return g.sent(),yH.Xjt(pq,"Extraction of "+YH(n.KPt)+" completed as the entire source stream has been read."),n.IQt(t),[3,12];case 12:return[2]}}))}))()},n.IQt=function(t){t.close(),this.MQt(),this.EQt.LL()},n.start=function(t){yH.Xjt(pq,"Preparing to push all collected data to controller for extraction of "+YH(this.KPt)),this.TQt(t),yH.Xjt(pq,"Collected data pushed to controller for extraction of "+YH(this.KPt));var n=Tq(this.KPt.Dyt).kyt;this.YV.mQt>=n?(yH.Xjt(pq,"Extraction of "+YH(this.KPt)+" completed as the entire request has been fulfilled."),this.IQt(t)):(yH.Xjt(pq,"Continuing read from original stream for extraction of "+YH(this.KPt)),Xo(this.readAndSliceOutAssetBytes(t)))},n.pull=function(){return this.NQt.LL(),this.NQt=new Bc,this.bQt.OL},At(t,[{key:"kQt",get:function(){return this.EQt.OL}}]),t}(),Mq=function(){function t(t,n){this.KPt=n;var i=Tq(this.KPt.Dyt).Eyt;this.LQt=new kq(t,i),this.SQt=new _q}var n=t.prototype;return n.oS=function(t){if(!FH(this.KPt,t))return!1;var n=Tq(t.Dyt),i=n.Eyt,r=n.kyt;return this.SQt.fQt(this.LQt.mQt,i,r)},n.Swt=function(t,n){void 0===n&&(n=!1);var i=this;return Ot((function(){var r,e,u;return Rt(this,(function(s){switch(s.label){case 0:return r=i.LQt,e=i.SQt,yH.IM(pq,"Extracting data from "+YH(t)+" out of "+YH(i.KPt)),i.xQt?(yH.Xjt(pq,"Awaiting previous extraction before extracting "+YH(t)+" out of "+YH(i.KPt)),[4,i.xQt]):[3,2];case 1:s.sent(),s.label=2;case 2:if(!i.oS(t))throw new v("The extractor does not contain the data requested");return u=new bq(t,r,e,n),i.xQt=u.kQt,[2,new uw(u)]}}))}))()},t}();function Tq(t){if(t){var n=t.Cn;return{Eyt:n,kyt:void 0!==t.U?n+t.U:Ri}}return{Eyt:0,kyt:Ri}}var Nq=function(){function t(t,n){this.KPt=t,this.CQt=n,this.$O=new zo,this.Cvt=this.$n()}var n=t.prototype;return n.$n=function(){var t=this;return Ot((function(){var n;return Rt(this,(function(i){switch(i.label){case 0:return[4,t.CQt.tQt(t.KPt,$w.OD,ty.jT,void 0,t.$O.f_)];case 1:return n=i.sent(),[2,new Mq(n,t.KPt)]}}))}))()},n.oS=function(t){return FH(this.KPt,t)},n.Swt=function(t,n){void 0===n&&(n=!1);var i=this;return Ot((function(){return Rt(this,(function(r){switch(r.label){case 0:return[4,i.Cvt];case 1:return[4,Yo(r.sent().Swt(t,n),i.$O.f_)];case 2:return[2,r.sent()]}}))}))()},n.g_=function(){this.Cvt.catch(Kn),this.$O.g_()},t}();yt(),C(),Mt();var Dq=function(t){function n(n){var i;return(i=t.call(this,Cq.OQt)||this).$D=n,i}return bt(n,t),n}(ra);yt(),C(),Mt();var Iq=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,Cq.jQt)||this).uri=n,a.RQt=i,a.$D=r,a.mediaSequenceNumeber=e,a.mediaTrackId=u,a.PQt=s,a.httpStatusCode=o,a}return bt(n,t),n}(ra);function Eq(t,n,i){var r=ZK(i)?i:i.WPt;if(n.aBt(r.yPt)){if(void 0!==i.F7)return n.vBt(i.F7,i).JS();if(i!==r&&void 0!==r.F7){var e=n.vBt(r.F7,r).JS();return i.MS+(e-r.MS)}}var u=t.djt.Aat(r.$Rt-1);if(void 0!==u&&n.aBt(u.yPt)){if(u.wPt.length>0){var s=u.ezt(u.wPt.length-1);if(void 0!==s.F7){var o=n.vBt(s.F7,s).JS();return i.MS+(o-s.MS)}}if(void 0!==u.F7){var a=n.vBt(u.F7,u).JS();return i.MS+(a-u.MS)}}var c=t.djt.Aat(r.$Rt+1);if(void 0!==c&&n.aBt(c.yPt)){if(c.wPt.length>0){var h=c.ezt(0);if(void 0!==h.F7){var f=n.vBt(h.F7,h).JS();return i.MS+(f-h.MS)}}if(void 0!==c.F7){var v=n.vBt(c.F7,c).JS();return i.MS+(v-c.MS)}}return i.MS}function Sq(t){return void 0!==t.F7}function Lq(t,n,i,r){for(var e=n;e<t.length;e++){var u=t[e];if(u.yPt!==i)break;if(Sq(u))if(r(u,e))break}}function jq(t,n,i,r){for(var e=n;e>=0;e--){var u=t[e];if(u.yPt!==i)break;if(Sq(u))if(r(u,e))break}}yt(),C();var Cq,xq="HlsPlaylistDownloader";!function(t){t.OQt="segmentdownloadprogress",t.jQt="segmentdownloaded"}(Cq||(Cq={}));var Oq=function(t){function n(n,i,r,e,u,s,o,a){var c;return(c=t.call(this)||this).UQt=void 0,c.GQt=void 0,c.MFt=void 0,c.bFt=0,c.TFt=0,c.SFt=0,c.NFt=0,c.HQt=new zo,c.XQt=void 0,c.QQt=0,c.FQt=void 0,c.YQt=void 0,c.qQt=void 0,c.ZQt=void 0,c.sFt=function(t){c.UQt&&(c.eQt=c.UQt,c.UQt=void 0,c.QQt=0,c.FQt=void 0,c.YQt=void 0),c.GQt&&(t&&!Bo(t)?c.GQt.xL(t):c.GQt.LL(),c.GQt=void 0)},c.pFt=function(t,n){c.SFt=t,t>0&&0===c.bFt&&(c.bFt=an.m_()),void 0!==n&&(c.NFt=n),c.Co(new Dq(c.z2))},c.z2=n,c.kSt=r,c.YUt=e,c.eQt=i,c.BQt=new Aq(r,i),c.yFt=new wq(o,u,a),c.CQt=new yq(u,s,function(t){switch(t){case CH.VA:return ny.VA;case CH.WA:return ny.WA;case CH.HA:case CH.kRt:return ny.Ru;default:return ny.jT}}(i.Av),a),c}bt(n,t);var i=n.prototype;return i.zQt=function(t){this.BQt.h_(),this.BQt=new Aq(this.kSt,t),this.tEt?this.UQt=t:(this.eQt=t,this.QQt=0,this.FQt=void 0,this.YQt=void 0)},i.zUt=function(){return this.GQt?this.GQt.OL:q.resolve()},i.VQt=function(){return this.YUt.VQt()},i.WQt=function(t){this.YUt.WQt(t)},i.g_=function(){var t,n,i;this.HQt.g_(),this.HQt=new zo,null==(t=this.XQt)||t.g_(),this.XQt=void 0,null==(n=this.ZQt)||n.g_(),null==(i=this.qQt)||i.g_(),this.ZQt=void 0,this.qQt=void 0,this.QQt=0,this.FQt=void 0,this.YQt=void 0},i.h_=function(){this.BQt.h_()},i.KQt=function(t){var n=this.eQt.djt.Vzt(t);if(!n)return!1;if(void 0!==this.FQt){var i=n.$Rt===this.FQt;return void 0!==this.YQt?n.szt(t)===n.ezt(this.YQt)&&i:i}return!1},i.JQt=function(t){var n;if(void 0===this.FQt||t<this.QQt-1e-6)n=this.$Qt(t);else if(void 0!==(n=this.tFt(this.FQt,this.YQt))){var i=Gt(n,2),r=i[0],e=i[1],u=Eq(this.eQt,this.kSt.Tr.kT,null!=e?e:r),s=3*this.eQt.djt.uRt;w.abs(u-t)>=s&&(n=this.$Qt(t))}else if(this.eQt.djt.bPt){if(this.eQt.djt.Aat(this.FQt).GPt&&void 0!==(n=this.$Qt(t))&&n[0].$Rt===this.FQt)return}if(n){this.QQt=t;var o=Gt(n,2),a=o[0],c=o[1];return 0===(null==c?void 0:c.XPt)&&void 0!==a.ct?[a,void 0]:[a,c]}},i.$Qt=function(t){var n,i,r=this.eQt.djt.jnt;if(0!==r.length){var e,u=this.kSt.Tr.kT,s=up.$N(t),o=function(t,n,i){var r=t.djt.jnt;if(0!==r.length){var e=t.djt.Wzt(i.JS());if(n.aBt(e.yPt)){var u,s,o,a=e.$Rt-r[0].$Rt,c=e.yPt,h=0;if(!(jq(r,a,c,(function(t,n){return u=t,h=n,!0})),void 0===u&&(Lq(r,a+1,c,(function(t,n){return u=t,h=n,!0})),void 0===u)||(n.vBt(u.F7,u).sN(i)?(s=u,Lq(r,h+1,c,(function(t){return n.vBt(t.F7,t).$S(i)?(o=t,!0):(s=t,!1)}))):(o=u,jq(r,h-1,c,(function(t){return n.vBt(t.F7,t).sN(i)?(s=t,!0):(o=t,!1)}))),void 0===s||void 0===o)))return[s,o]}}}(this.eQt,u,s);if(void 0!==o){var a=Gt(o,2),c=a[0],h=a[1],f=u.vBt(c.F7,c),v=u.vBt(h.F7,h),l=s.uN(f).JS()/v.uN(f).JS()*(h.MS-c.MS);e=c.MS+l}else e=t;var d=r[r.length-1];return d.bS<=e?(n=d,i=d.rzt(e)):i=r[0].MS>e?(n=r[0]).ezt(0):null==(n=this.eQt.djt.Vzt(e))?void 0:n.rzt(e),n?[n,i]:void 0}},i.tFt=function(t,n){var i,r;if((i=this.eQt.djt.Aat(t))&&void 0!==n){if(0===i.wPt.length)return[i,void 0];r=i.ezt(n+1)}return void 0!==i&&void 0!==r||(r=null==(i=this.eQt.djt.Aat(t+1))?void 0:i.ezt(0)),i?[i,r]:void 0},i.PUt=function(){if(this.tEt)throw new v("Cannot perform new operation while PlaylistDownloader is still busy")},i.iFt=function(t){this.PUt(),this.GQt=new Bc,this.eFt(t,this.HQt.f_).then(this.sFt,this.sFt)},i.nFt=function(){this.BQt.oQt()},i.eFt=function(t,n){var i=this;return Ot((function(){var r,e;return Rt(this,(function(u){switch(u.label){case 0:return i.eQt.djt.bPt?[2]:(r=i.JQt(t))||!i.BQt.iQt()||void 0===i.FQt?[3,2]:[4,i.BQt.sQt(void 0===i.YQt?i.FQt+1:i.FQt,void 0!==i.YQt?i.YQt+1:void 0,n)];case 1:u.sent(),r=i.JQt(t),u.label=2;case 2:return r||!i.BQt.iQt()||void 0===i.FQt?[3,4]:[4,i.BQt.sQt(i.FQt+1,0,n)];case 3:u.sent(),r=i.JQt(t),u.label=4;case 4:return r?[3,6]:(yH.IM(xq,"No next segment / part available, need to update playlist before continuing."),[4,i.BQt.hQt(n)]);case 5:return u.sent(),e=i.Mjt.djt.jnt,e[0].MS>t&&(i.YQt=void 0,i.FQt=void 0),e[e.length-1].$Rt<i.FQt&&(i.YQt=void 0,i.FQt=void 0),r=i.JQt(t),[3,4];case 6:return[2]}}))}))()},i.rFt=function(){return this.YUt.oFt()},i.hFt=function(){this.PUt();try{var t=this.eQt.djt.Hzt(xH.ePt);t&&this.aFt(t);var n=this.eQt.djt.Hzt(xH.sPt);n&&this.uFt(n)}catch(t){throw Uo(t),this.eQt.djt.Uzt=an.m_(),this.kSt.uUt(this.eQt),t}},i.aFt=function(t){this.qQt&&!this.qQt.oS(t.Jpt)&&(this.qQt.g_(),this.qQt=void 0),this.qQt||(this.qQt=new Nq(t.Jpt,this.CQt))},i.uFt=function(t){this.ZQt&&!this.ZQt.oS(t.Jpt)&&(this.ZQt.g_(),this.ZQt=void 0),this.ZQt||(this.ZQt=new Nq(t.Jpt,this.CQt))},i.pat=function(t,n,i){var r=this;this.PUt(),yH.IM(xq,"Starting download of segment "+YH(t.Jpt)+" and part "+(null==n?void 0:n.XPt)),this.GQt=new Bc,this.cFt(t,n,i,this.HQt.f_).catch((function(t){throw Uo(t),r.eQt.djt.Uzt=an.m_(),r.kSt.uUt(r.eQt),t})).then(this.sFt,this.sFt)},i.cFt=function(t,n,i,r){var e=this;return Ot((function(){var u,s,o,a,c;return Rt(this,(function(h){switch(h.label){case 0:return t.mPt&&(i&&GH(i.VUt.Jpt,null==(s=t.mPt)?void 0:s.Jpt)&&t.yPt===i.yPt||(null==(a=e.XQt)||a.g_(),e.XQt=new Bc,c=e.lFt(t.mPt,t,r).then((function(){e.XQt=void 0})),e.XQt.w_(c)),u=null==(o=e.XQt)?void 0:o.OL),[4,e.dFt(t,n,u,r)];case 1:return h.sent(),[2]}}))}))()},i.lFt=function(t,n,i){var r=this;return Ot((function(){var e,u;return Rt(this,(function(s){switch(s.label){case 0:return[4,r.fFt(t,n,i)];case 1:return e=s.sent(),u=e.mPt.ly.ly.byteLength,r.YUt._Ft(e),r.Co(new Iq(e.mPt.VUt.Jpt,e.Av,r.z2,n.$Rt,e.Mjt.Xw,u,e.mPt.Eut)),yH.Xjt(pH,"Download initializer complete",YH(t.Jpt)),[2]}}))}))()},i.dFt=function(t,n,i,r){var e=this;return Ot((function(){var u,s,o;return Rt(this,(function(a){switch(a.label){case 0:return[4,e.gFt(t,n,r)];case 1:return u=a.sent(),s=u.nut.ly.ly.byteLength,i?[4,Yo(i,r)]:[3,3];case 2:a.sent(),a.label=3;case 3:return e.YUt._Ft(u),e.Co(new Iq(u.nut.VUt.Jpt,u.Av,e.z2,t.$Rt,u.Mjt.Xw,s,u.nut.Eut)),yH.Xjt(pH,"Download complete",YH(null!=(o=null==n?void 0:n.Jpt)?o:t.Jpt)),[2]}}))}))()},i.gFt=function(t,n,i){var r=this;return Ot((function(){var e,u,s,o;return Rt(this,(function(a){switch(a.label){case 0:return n?r.ZQt?r.ZQt.oS(n.Jpt)?[4,r.ZQt.Swt(n.Jpt)]:[3,4]:[3,5]:[3,8];case 1:return[4,jw(a.sent(),i)];case 2:return u=a.sent(),s=new p(u),[4,r.ZUt(s,n.fPt,i)];case 3:return o=a.sent(),e=Bq(n,o,200),[3,5];case 4:r.ZQt.g_(),r.ZQt=void 0,a.label=5;case 5:return e?[3,7]:(yH.Xjt(pH,"Start download",YH(n.Jpt)),[4,r.wFt(n,i)]);case 6:e=a.sent(),a.label=7;case 7:return[3,10];case 8:return yH.Xjt(pH,"Start download",YH(t.Jpt)),[4,r.Mat(t,i)];case 9:e=a.sent(),a.label=10;case 10:return r.FQt=t.$Rt,r.YQt=null==n?void 0:n.XPt,[2,{Av:"nut",nut:e,Mjt:r.eQt,yPt:t.yPt}]}}))}))()},i.fFt=function(t,n,i){var r=this;return Ot((function(){var e,u,s,o,a;return Rt(this,(function(c){switch(c.label){case 0:return r.qQt?r.qQt.oS(t.Jpt)?[4,Yo(r.qQt.Swt(t.Jpt),i)]:[3,4]:[3,5];case 1:return[4,jw(c.sent(),i)];case 2:return s=c.sent(),o=new p(s),[4,r.ZUt(o,t.gPt?[t.gPt]:[],i)];case 3:a=c.sent(),e=zq(t,n,a,200),c.label=4;case 4:yH.IM(xq,"MAP is required for segment, downloading MAP data."),null==(u=r.qQt)||u.g_(),r.qQt=void 0,c.label=5;case 5:return e?[3,7]:(yH.Xjt(pH,"Start download",YH(t.Jpt)),[4,r.vFt(t,n,i)]);case 6:e=c.sent(),c.label=7;case 7:return[2,{Av:"mPt",mPt:e,Mjt:r.eQt,MS:n.MS,yPt:n.yPt,fPt:n.fPt}]}}))}))()},i.vFt=function(t,n,i){var r=this;return Ot((function(){var e,u,s,o,a;return Rt(this,(function(c){switch(c.label){case 0:return[4,r.CQt.uD(t.Jpt,$w.CD,ty.RD,void 0,i)];case 1:return e=c.sent(),u=e.response,s=e.httpStatusCode,o=t.gPt?[t.gPt]:[],[4,r.ZUt(u,o,i)];case 2:return a=c.sent(),[2,zq(t,n,a,s)]}}))}))()},i.Mat=function(t,n){var i=this;return Ot((function(){var r,e,u,s;return Rt(this,(function(o){switch(o.label){case 0:if(!t.Jpt)throw new v("Internal error: attempted to download an incomplete segment");o.label=1;case 1:return o.trys.push([1,,3,4]),i.mFt(t),[4,i.CQt.uD(t.Jpt,$w.CD,ty.jT,i.pFt,n)];case 2:return u=o.sent(),r=u.response,e=u.httpStatusCode,[3,4];case 3:return i.AFt(),[7];case 4:return[4,i.ZUt(r,t.fPt,n)];case 5:return s=o.sent(),[2,Rq(t,s,e)]}}))}))()},i.wFt=function(t,n){var i=this;return Ot((function(){var r,e,u,s;return Rt(this,(function(o){switch(o.label){case 0:return o.trys.push([0,,2,3]),i.mFt(t),[4,i.CQt.uD(t.Jpt,$w.CD,ty.jT,i.pFt,n)];case 1:return u=o.sent(),r=u.response,e=u.httpStatusCode,[3,3];case 2:return i.AFt(),[7];case 3:return[4,i.ZUt(r,t.fPt,n)];case 4:return s=o.sent(),[2,Bq(t,s,e)]}}))}))()},i.ZUt=function(t,n,i){var r=this;return Ot((function(){var e;return Rt(this,(function(u){switch(u.label){case 0:return(e=co(n,(function(t){return t.ZD===OH.BRt})))?e.Jpt&&e.URt?[4,r.yFt.ZUt(t,e.Jpt,e.URt,i)]:(yH.lt(xq,"Encountered an AES-128 encrypted segment for which no initialization vector could be determined."),[2,t]):[2,t];case 1:return[2,u.sent()]}}))}))()},i.mFt=function(t){var n,i,r;this.MFt=t,this.bFt=0,this.TFt=an.m_(),this.SFt=0,this.NFt=null!=(r=null==(i=t.Jpt)||null==(n=i.Dyt)?void 0:n.U)?r:0},i.AFt=function(){this.MFt=void 0,this.bFt=0,this.TFt=0,this.SFt=0,this.NFt=0},i.IFt=function(){if(void 0!==this.MFt)return{nut:this.MFt,DFt:this.SFt,EFt:this.NFt,kFt:an.m_()-this.TFt}},i.LFt=function(t){return void 0!==this.MFt&&(0!==this.bFt&&(!(this.NFt>0&&this.SFt>=this.NFt)&&!(t-this.bFt<500)))},At(n,[{key:"tEt",get:function(){return void 0!==this.GQt}},{key:"Mjt",get:function(){var t;return null!=(t=this.UQt)?t:this.eQt}},{key:"SEt",get:function(){if(!this.eQt.djt.bPt||void 0===this.FQt)return!1;var t=this.eQt.djt.Aat(this.FQt);if(!t.GPt)return!1;if(void 0!==this.YQt&&!t.ezt(this.YQt).GPt)return!1;return!0}}]),n}($o);function zq(t,n,i,r){return{ly:{ly:i,Av:CL.jZ},Av:mq.ePt,Eut:r,VUt:t,yPt:n.yPt}}function Rq(t,n,i){return{ly:{ly:n,Av:CL.jZ},Av:mq.CD,Eut:i,VUt:t,yPt:t.yPt}}function Bq(t,n,i){return{ly:{ly:n,Av:CL.jZ},Eut:i,Av:mq.sPt,VUt:t,yPt:t.WPt.yPt}}yt(),C(),pt();var Pq=function(){function t(t){this.OFt=[],this.RFt=ns(),this.zFt=void 0,this.xFt=void 0,this.OBt=t}var n=t.prototype;return n._Ft=function(t){"mPt"===t.Av&&(this.xFt=t.mPt),this.OFt.push(t),this.zFt&&(this.zFt.LL(),this.zFt=void 0)},n.VQt=function(){return this.OFt[0]},n.WQt=function(t){go(this.OFt,t)},n.oFt=function(){return null!=this.zFt||(this.zFt=new Bc),this.zFt.OL},n.BFt=function(t){this.UFt(t.Zht).BFt(t)},n.QFt=function(t){return this.UFt(t).QFt()},n.FUt=function(t){this.UFt(t.Zht).FUt(t)},n.FFt=function(t){var n;null==(n=this.RFt.get(t))||n.h_()},n.YFt=function(t){return this.UFt(t).YFt()},n.UFt=function(t){if(this.RFt.has(t))return this.RFt.get(t);var n=new Uq;return this.RFt.set(t,n),n},n.kL=function(){this.GFt(),this.VFt()},n.GFt=function(){this.xFt=void 0,po(this.OFt)},n.VFt=function(){this.RFt.forEach((function(t){return t.kL()}))},n.h_=function(){this.RFt.forEach((function(t){return t.h_()})),this.RFt.clear(),this.kL(),this.zFt&&(this.zFt.g_(),this.zFt=void 0)},At(t,[{key:"NUt",get:function(){return this.xFt}},{key:"CFt",get:function(){for(var t=[],n=0,i=this.OFt;n<i.length;n++){var r=i[n];if("nut"===r.Av){var e,u=r.nut.VUt,s=Eq(r.Mjt,this.OBt,u);t.push({nut:u,Mjt:r.Mjt,MS:s,bS:s+(null!=(e=u.ct)?e:0)})}}return t}},{key:"jFt",get:function(){var t=[];return this.RFt.forEach((function(n){for(var i=0,r=n.PFt;i<r.length;i++){var e=r[i];"nut"===e.Av&&t.push({nut:e.VUt,Mjt:e.Mjt,MS:e.MS,bS:e.MS+e.ct})}})),t}}]),t}(),Uq=function(){function t(){this.WFt=[],this.HFt=void 0}var n=t.prototype;return n.BFt=function(t){this.WFt.push(t),this.HFt&&(this.HFt.LL(),this.HFt=void 0)},n.QFt=function(){return this.WFt[0]},n.FUt=function(t){go(this.WFt,t)},n.YFt=function(){return null!=this.HFt||(this.HFt=new Bc),this.HFt.OL},n.kL=function(){po(this.WFt)},n.h_=function(){this.kL(),this.HFt&&(this.HFt.g_(),this.HFt=void 0)},At(t,[{key:"PFt",get:function(){return this.WFt}}]),t}();yt(),C(),zt(),pt(),Ut();var Qq=1e-6,Yq=function(){function t(t,n){this.QNt=HD.oU(),this.FNt=HD.oU(),this.ZFt=t,this.OBt=n}var n=t.prototype;return n.X$=function(t,n){var i=this;return Ot((function(){var r,e,u,s;return Rt(this,(function(o){switch(o.label){case 0:return r=t.ly.ly,i.XFt(r),i.ZFt.Av!==mA.TTML?[3,3]:i.OBt.aBt(t.yPt)?[3,2]:[4,Yo(i.OBt.cBt(t.yPt),n)];case 1:o.sent(),o.label=2;case 2:for(e=i.qFt(r,t.yPt),u=0;u<e.length;u++)s=e[u],i.ZFt.lE(s);o.label=3;case 3:return[2]}}))}))()},n.V$=function(t,n){var i=this;return Ot((function(){var r,e;return Rt(this,(function(u){switch(u.label){case 0:return void 0===t.ly?[2]:(r=t.MS,e=r+t.ct,i.QNt=i.QNt.YB(HD.rU(r,e)).FB(Qq),i.B0(t.KFt,t.JFt),i.U0(r,e),i.OBt.aBt(t.yPt)?[3,2]:[4,Yo(i.OBt.cBt(t.yPt),n)]);case 1:u.sent(),u.label=2;case 2:return i.H$(t.ly.ly,t.yPt,t.VUt),[2]}}))}))()},n.H$=function(t,n,i){var r;this.XFt(t),r=this.ZFt.Av===mA.WEBVTT?this.$Ft(t,i):this.qFt(t,n);for(var e=0;e<r.length;e++){var u=r[e];this.ZFt.lE(u)}},n.$Ft=function(t,n){for(var i,r=Np(t),e=r.L,u=null!=(i=r.MI)?i:{bI:up.wN,lh:up.wN},s=0;s<e.length;s++){var o=e[s],a=up.$N(o.MS).uN(u.lh).nS(u.bI),c=this.OBt.vBt(a,n).JS(),h=c+(o.bS-o.MS);o.YS(c,h)}return e},n.qFt=function(t,n){var i=this.OBt.wBt(n).JS();return M_(t,this.ZFt,{vI:0,mI:1/0,pI:i},Tv.APPLICATION_MP4)},n.XFt=function(t){this.ZFt.Av===mA.DEFAULT&&(this.ZFt.Av=this.tYt(t)?mA.WEBVTT:mA.TTML)},n.tYt=function(t){return Pp(Tc(Dc(Ic(t),0,w.min(t.byteLength,16)),new Oc))},n.B0=function(t,n){this.FNt=this.FNt.YB(HD.rU(t,n)).FB(Qq)},n.U0=function(t,n){this.FNt=this.FNt.VB(HD.rU(t,n))},At(t,[{key:"O_",get:function(){return this.QNt}},{key:"R0",get:function(){return this.FNt}}]),t}();yt(),C(),zt(),Mt(),Ut(),yt(),C(),pt(),Mt(),yt(),C(),Mt();var Fq=function(t){function n(n,i){var r;return(r=t.call(this,Wq.iYt)||this).Mjt=n,r.$nt=i,r}return bt(n,t),n}(ra);yt(),C(),Mt();var Gq=function(t){function n(n){var i;return(i=t.call(this,Wq.eYt)||this).Mjt=n,i}return bt(n,t),n}(ra);yt(),C(),Mt();var Vq=function(t){function n(n,i){var r;return(r=t.call(this,Wq.sYt)||this).Mjt=n,r.Adt=i,r}return bt(n,t),n}(ra);yt(),C(),Mt();var Wq,Xq=function(t){function n(n,i){var r;return(r=t.call(this,Wq.nYt)||this).Mjt=n,r.rYt=i,r}return bt(n,t),n}(ra);!function(t){t.iYt="oYt",t.sYt="hYt",t.nYt="aYt",t.eYt="uYt"}(Wq||(Wq={}));var Zq=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).fYt=void 0,e.$O=new zo,e.YUt=n,e.OBt=i,e.lYt=r,e}bt(n,t);var i=n.prototype;return i.dYt=function(t){for(var n=0,i=this.lYt;n<i.length;n++){var r=i[n];mo(t,r)||this.YUt.FFt(r)}this.lYt=t},i.zUt=function(){var t,n;return null!=(n=null==(t=this.fYt)?void 0:t.OL)?n:q.resolve()},i.PUt=function(){if(this.tEt)throw new v("Cannot perform new operation while transmuxer is still busy")},i._Yt=function(t,n){},i.gYt=function(t){var n=this;this.PUt(),this.fYt=new Bc;var i=function(i){n.wYt(t,i)};this.vYt(t,this.$O.f_).then(i,i)},i.mYt=function(t){var n=this;this.PUt(),this.fYt=new Bc;var i=function(i){n.wYt(t,i)};this.pYt(t,this.$O.f_).then(i,i)},i.wYt=function(t,n){this.fYt&&(!n||Bo(n)||function(t){return t instanceof qK}(n)?(Bo(n)||this.YUt.WQt(t),this.fYt.LL(),this.fYt=void 0):this.fYt.xL(n))},i.AYt=function(t,n){this.Co(new Fq(t,n))},i.yYt=function(t,n){this.Co(new Vq(t,n))},i.MYt=function(t,n,i){HK(n)&&this.Co(new Xq(t,i))},i.bYt=function(t){this.Co(new Gq(t))},i.BFt=function(t){mo(this.lYt,t.Zht)&&this.YUt.BFt(t)},i.TYt=function(t){return this.YUt.QFt(t)},i.FUt=function(t){this.YUt.FUt(t)},i.SYt=function(t){return this.YUt.YFt(t)},i.g_=function(){this.$O.g_(),this.$O=new zo},At(n,[{key:"cYt",get:function(){return this.lYt}},{key:"tEt",get:function(){return void 0!==this.fYt}}]),n}($o);function Hq(t,n){return HK(t)?0:w.min(t.MS,n)}function Kq(t,n){var i;return w.max(t.MS,n)+(null!=(i=t.ct)?i:0)}var qq=function(t){function n(n,i,r){return t.call(this,n,i,[r])}bt(n,t);var i=n.prototype;return i.vYt=function(t,n){Po(n);var i={Av:"PEt",ly:t.mPt.ly,Zht:this.cYt[0],yPt:t.yPt,NYt:{$nt:"",fPt:t.fPt},MS:t.MS,Mjt:t.Mjt,VUt:t.mPt.VUt};return this.BFt(i),q.resolve()},i.pYt=function(t,n){var i=this;return Ot((function(){var r,e,u,s,o,a;return Rt(this,(function(c){switch(c.label){case 0:return Po(n),void 0===(r=t.nut.VUt).F7?[3,3]:i.OBt.aBt(t.yPt)?[3,2]:[4,Yo(i.OBt.cBt(t.yPt),n)];case 1:c.sent(),c.label=2;case 2:return e=i.OBt.vBt(r.F7,r).JS(),[3,4];case 3:e=r.MS,c.label=4;case 4:return u=Hq(r,e),s=Kq(r,u),a={Av:"nut",ly:t.nut.ly,Zht:i.cYt[0],KFt:u,JFt:s,MS:e,ct:null!=(o=r.ct)?o:0,pI:0,yPt:t.yPt,Mjt:t.Mjt,VUt:t.nut.VUt},i.BFt(a),[2]}}))}))()},n}(Zq);function Jq(t,n){for(var i=function(i){var e=t[i],u=e.MS;if(e.Mjt.djt.bPt&&HK(e.nut))u=0;else{var s=function(t){return e.Mjt===t.Mjt&&KK(t.nut,e.nut)},o=co(t,s);if(void 0!==o)u=w.min(u,o.bS);else{var a=co(n,s);void 0!==a&&(u=w.min(u,a.LUt.jn(0)))}}r=r.YB(HD.rU(u,e.bS))},r=HD.oU(),e=0;e<t.length;e++)i(e);return r}yt(),C();var $q=.001,tJ=function(){function t(t,n,i,r){this.EYt=t,this.xYt=n,this.kYt=i,this.wU=r,this.DYt=[]}var n=t.prototype;return n.zQt=function(t){this.EYt.zQt(t)},n.LYt=function(t){for(var n,i=function(t){var i=n.DYt[t];if(!i.xUt)throw new v("Invalid state");var e=vo(r,(function(t){return t.Av===i.Av}));e>=0?(i.Srt(r[e]),wo(r,e)):wo(n.DYt,t)},r=t.slice(),e=this.DYt.length-1;e>=0;e--)n=this,i(e);for(var u=0;u<r.length;u++){var s=r[u],o=new dq(s);this.DYt.push(new gq(s.Av,s,this.xYt,o,this))}r.length>0&&this.xYt.kL();var a=t.map((function(t){return t.Av}));this.kYt.dYt(a)},n.wX=function(t){var n,i=(null==(n=this.wU)?void 0:n.wX(t))||!1;return i&&(this.g_(),this.xYt.kL()),i},n.CYt=function(t){for(var n=0,i=this.DYt;n<i.length;n++){var r=i[n];if(r.Av!==Gm.Ru||r.tEt)throw new v("Invalid state")}var e=new dq(t),u=new gq(Gm.Ru,t,this.xYt,e,this);this.DYt=[u]},n.vat=function(){for(var t=0,n=this.DYt;t<n.length;t++){n[t].CUt.EUt()}},n.dlt=function(t){var n=this.OYt.Jm(t,$q);return n?n.jn(n.U-1):t},n.KQt=function(t){return!!this.OYt.Jm(t,$q)||this.EYt.KQt(t)},n.RYt=function(t){return this.jYt.gr(t,$q)},n.PYt=function(t,n,i){for(var r=0,e=this.DYt;r<e.length;r++){var u=e[r].CUt,s=u.wvt;if(void 0!==s&&n>=s&&!u.O_.PB().gr(s))return!0}return n-t<i},n.g_=function(){this.zYt(),this.BYt()},n.zYt=function(){this.EYt.g_()},n.BYt=function(){this.kYt.g_(),this.IYt.forEach((function(t){return t.g_()}))},n.h_=function(){this.g_(),this.EYt.h_()},At(t,[{key:"IYt",get:function(){return this.DYt}},{key:"Mjt",get:function(){return this.EYt.Mjt}},{key:"tEt",get:function(){return this.EYt.tEt||this.kYt.tEt||this.DYt.some((function(t){return t.tEt}))}},{key:"NUt",get:function(){var t=this.xYt.NUt;if(t)return t;if(this.DYt.length>0){var n=this.DYt[0].CUt.NUt;if(n&&this.DYt.every((function(t){return t.CUt.NUt===n})))return n}}},{key:"OYt",get:function(){if(0===this.DYt.length)return HD.oU();for(var t=Jq(this.xYt.CFt.concat(this.xYt.jFt),ko(this.DYt,(function(t){return t.CUt.jnt}))).PB(),n=new HD([0,1/0]),i=0,r=this.DYt;i<r.length;i++){var e=r[i];n=n.Sn(e.CUt.O_)}for(var u=0,s=this.DYt;u<s.length;u++){var o=s[u];n=n.VB(o.OUt)}return(n=n.YB(t)).FB($q)}},{key:"jYt",get:function(){if(0===this.DYt.length)return HD.oU();for(var t=Jq(this.xYt.jFt,ko(this.DYt,(function(t){return t.CUt.jnt}))).PB(),n=new HD([0,1/0]),i=0,r=this.DYt;i<r.length;i++){var e=r[i];n=n.Sn(e.CUt.O_)}return n=n.YB(t)}}]),t}();yt(),C(),Mt();var nJ=function(t){function n(){return t.call(this,KZ.ajt)}return bt(n,t),n}(ra);yt(),C(),Mt();var iJ=function(t){function n(){return t.call(this,KZ.ojt)}return bt(n,t),n}(ra);yt(),C(),zt(),pt(),Ut(),yt(),C(),zt(),pt(),Mt(),Ut();var rJ="LazyMediaBuffer",eJ=function(t){function n(n,i){var r;return(r=t.call(this)||this).z2=n,r.GYt=i,r.BO=void 0,r.xrt=void 0,r.FYt=new Bc,r.cX=20,r.UYt=!1,r.fX=30,r.P0=new GL,r}bt(n,t);var i=n.prototype;return i.oq=function(){return this.xrt?this.xrt.oq():this.UYt},i.B0=function(t,n){yH.Xjt(rJ,"Marking gap from "+t+" to "+n+"."),this.P0.mq(t,n),this.xrt&&this.xrt.B0(t,n)},i.U0=function(t,n){yH.Xjt(rJ,"Removing gap from "+t+" to "+n+"."),this.P0.pq(t,n),this.xrt&&this.xrt.U0(t,n)},i.QYt=function(t){this.xrt=t,this.xrt.rX=this.fX,this.xrt.iX=this.cX;for(var n,i=this.P0.wq,r=0;r<i.U;r++)this.xrt.B0(i.Cn(r),i.jn(r));this.UYt&&(yH.Xjt(rJ,"End of stream"),null==(n=this.xrt)||n.x0());this.xrt.yn(EL.CZ,this.Ds),this.FYt.LL(t)},i.YYt=function(t){return Yo(this.FYt.OL,t)},i.V$=function(t,n,i){var r=this;return Ot((function(){return Rt(this,(function(e){switch(e.label){case 0:return[4,r.YYt(i)];case 1:return[4,e.sent().V$(t,n,i)];case 2:return e.sent(),[2]}}))}))()},i.Q0=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return[4,t.YYt()];case 1:return[4,n.sent().Q0()];case 2:return n.sent(),[2]}}))}))()},i.X$=function(t,n,i){var r=this;return Ot((function(){return Rt(this,(function(e){switch(e.label){case 0:return[4,r.YYt(i)];case 1:return[4,e.sent().X$(t,n,i)];case 2:return e.sent(),[2]}}))}))()},i.rS=function(t,n,i){var r=this;return Ot((function(){return Rt(this,(function(e){switch(e.label){case 0:return[4,r.YYt(i)];case 1:return[4,e.sent().rS(t,n,i)];case 2:return e.sent(),[2]}}))}))()},i.u0=function(t,n){var i=this;return Ot((function(){return Rt(this,(function(r){switch(r.label){case 0:return[4,i.YYt()];case 1:return[4,r.sent().u0(t,n)];case 2:return r.sent(),[2]}}))}))()},i.x0=function(){this.UYt=!0,this.xrt&&this.xrt.x0()},i.FZ=function(t){return!!this.xrt&&this.xrt.FZ(t)},i.GZ=function(t){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return[4,n.YYt()];case 1:return[4,i.sent().GZ(t)];case 2:return i.sent(),[2]}}))}))()},i.gn=function(){var t=this;return Ot((function(){var n;return Rt(this,(function(i){return t.Vo(),null==(n=t.xrt)||n.fn(EL.CZ,t.Ds),[2]}))}))()},At(n,[{key:"Nz",get:function(){return this.BO}},{key:"O0",get:function(){return this.z2}},{key:"wd",get:function(){if(!this.xrt)throw new Kv(Xv.MEDIA_LOAD_ERROR,"Cannot get the configuration of an uninitialized MediaBuffer.");return this.xrt.wd}},{key:"iX",get:function(){return this.cX},set:function(t){this.cX=t,this.xrt&&(this.xrt.iX=t)}},{key:"O_",get:function(){return this.xrt?this.xrt.O_:HD.oU()}},{key:"R0",get:function(){return this.xrt?this.xrt.R0:this.P0.wq}},{key:"rX",get:function(){return this.fX},set:function(t){this.fX=t,this.xrt&&(this.xrt.rX=t)}}]),n}($o),uJ="LazyMediaSource",sJ=function(){function t(t,n,i){this.Fm=t,this.VYt=void 0,this.WYt=void 0,this.JYt=new Bc,this.yz=void 0,this.KYt=!1,this.jx=NaN,this.B7=!1,this.HYt=0,this.XYt=1/0,this.ZYt=!1,this.qYt=!1,n&&(yH.Xjt(uJ,"Created lazy media buffer for audio."),this.VYt=new eJ(Gm.WA,this)),i&&(yH.Xjt(uJ,"Created lazy media buffer for video."),this.WYt=new eJ(Gm.VA,this))}var n=t.prototype;return n.P1=function(t){this.jx=t,this.yz&&this.yz.P1(t)},n.x0=function(){this.B7=!0,this.yz&&this.yz.x0()},n.M0=function(){this.B7=!1,this.yz&&this.yz.M0()},n.Q1=function(t,n,i,r){this.HYt=t,this.XYt=n,this.ZYt=Boolean(i),this.qYt=Boolean(r),this.yz&&this.yz.Q1(t,n,i,r)},n.FZ=function(t){return!this.yz||this.yz.FZ(t)},n.GZ=function(t){var n=this;return Ot((function(){var i,r,e;return Rt(this,(function(u){switch(u.label){case 0:if(!n.FZ(t))throw new v("LazyMediaSource - Unable to reconfigure MediaSource.");return n.yz?[3,2]:(n.Fm.z6(),[4,n.Fm.$n(t)]);case 1:return e=u.sent(),A(n.jx)||e.P1(n.jx),n.B7&&e.x0(),e.Q1(n.HYt,n.XYt,n.ZYt,n.qYt),yH.Xjt(uJ,"The MediaSource has been loaded."),n.KYt=!0,n.yz=e,null==(i=n.VYt)||i.QYt(n.yz.I1),null==(r=n.WYt)||r.QYt(n.yz.D1),n.JYt.LL(e),n.Fm.B6(),[3,4];case 2:return[4,n.yz.GZ(t)];case 3:u.sent(),u.label=4;case 4:return[2]}}))}))()},n.h_=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return t.yz?[4,t.yz.h_()]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))()},At(t,[{key:"wd",get:function(){return{Av:dk.Sj,F1:[],Iz:[]}}},{key:"I1",get:function(){return this.VYt}},{key:"D1",get:function(){return this.WYt}},{key:"O_",get:function(){return this.yz?this.yz.O_:HD.oU()}},{key:"ct",get:function(){return this.yz?this.yz.ct:this.jx}},{key:"oq",get:function(){return!!this.yz&&this.yz.oq}},{key:"Ig",get:function(){return this.yz?this.yz.Ig:new HD([0,1/0])}}]),t}();function oJ(t,n){return void 0===n&&(n=!1),function(i,r){void 0===r&&(r="*");var e,u,s,o=cJ(i,"tag"),a=cJ(null==r?"*":r,"range"),c=[],h=-1;for(;++h<a.length;)if(e=a[h].toLowerCase(),n||"*"!==e){for(u=-1,s=[];++u<o.length;)if(t(o[u].toLowerCase(),e)){if(!n)return o[u];c.push(o[u])}else s.push(o[u]);o=s}return n?c:void 0}}yt(),C();oJ((function(t,n){return"*"===n||t===n||Rs(t,n+"-")}),!0),oJ((function(t,n){var i=t.split("-"),r=n.split("-"),e=0,u=0;if("*"!==r[u]&&i[e]!==r[u])return!1;for(e++,u++;u<r.length;)if("*"!==r[u]){if(!i[e])return!1;if(i[e]!==r[u]){if(1===i[e].length)return!1;e++}else e++,u++}else u++;return!0}),!0);var aJ=oJ((function(t,n){for(var i,r=n;;){if("*"===r||t===r)return!0;if((i=r.lastIndexOf("-"))<0)return!1;"-"===r.charAt(i-2)&&(i-=2),r=r.slice(0,i)}}));function cJ(t,n){var i=t&&"string"==typeof t?[t]:t;if(!i||"object"!=typeof i||!("length"in i))throw new v("Invalid "+n+" `"+i+"`, expected non-empty string");return i}yt(),C(),zt(),pt(),Ut(),yt(),C();var hJ,fJ=16384,vJ=71,lJ=188,dJ=2,gJ=3;function wJ(t){return yJ(t)?1:function(t){return function(t){if(t.length<dJ*lJ)return-1;for(var n=t.length<gJ*lJ?dJ:gJ,i=w.min(1e3,t.length-n*lJ),r=0;r<=i;r++){for(var e=!0,u=0;u<n;u++)if(t[r+u*lJ]!==vJ){e=!1;break}if(e)return r}return-1}(t)>=0}(t)?2:function(t){return null!==Lx(Ic(t),new Oc)}(t)?3:0}function yJ(t){var n=Nc(t,0,w.min(t.length,fJ));return f_.Xy(Ic(n))}!function(t){t[t.jT=0]="jT",t[t.Tp=1]="Tp",t[t.$Yt=2]="$Yt",t[t.tGt=3]="tGt"}(hJ||(hJ={}));var mJ=function(){function t(t,n,i,r){this.z2=t,this.xrt=n,this.Avt=i,this.sxt=r}var n=t.prototype;return n.iGt=function(t){return this.xrt===t},n.X$=function(t,n){var i=this;return Ot((function(){var r;return Rt(this,(function(e){switch(e.label){case 0:return i.xrt.wd.Nz===t.NYt.$nt?[3,2]:(r={Nz:t.NYt.$nt},i.xrt.FZ(r)?[4,i.xrt.GZ(r)]:[3,2]);case 1:e.sent(),Po(n),e.label=2;case 2:return[4,i.xrt.X$(t.ly,{y$:t.Mjt.Xw},n)];case 3:return e.sent(),void 0!==i.sxt&&i.z2===Gm.VA&&yJ(t.ly.ly)&&i.sxt.Grt(t.ly.ly),[2]}}))}))()},n.V$=function(t,n){var i=this;return Ot((function(){var r,e,u;return Rt(this,(function(s){switch(s.label){case 0:return Po(n),yH.IM("HlsMediaBuffer","Got media data, appending to "+i.z2+" MediaBuffer: "+YH(t.VUt.Jpt)),r=t.KFt,e=t.JFt,u={F7:t.MS,ct:t.ct,pI:t.pI,y$:t.Mjt.Xw},void 0===t.ly?[3,2]:[4,i.xrt.V$(t.ly,u,n)];case 1:s.sent(),i.eGt(t.ly,t),s.label=2;case 2:return i.sGt(r,e),[2]}}))}))()},n.eGt=function(t,n){var i;if(yJ(t.ly)){var r=n.MS,e=r+n.ct,u=n.pI;if(null==(i=this.Avt)||i.elt(t.ly,r,u),void 0!==this.sxt&&this.z2===Gm.VA){var s=n.VUt.GPt;this.sxt.elt(t.ly,r,e,u,n.Mjt,s)}var o=[];void 0!==this.Avt&&o.push(this.Avt),void 0!==this.sxt&&o.push(this.sxt),uk(this.O_,o)}},n.sGt=function(t,n){for(var i=this.xrt.O_,r=new HD([t,n]).VB(i),e=0;e<r.U;e++)this.xrt.B0(r.Cn(e),r.jn(e));for(var u=0;u<i.U;u++)this.xrt.U0(i.Cn(u),i.jn(u))},n.B0=function(t,n){this.xrt.B0(t,n)},n.U0=function(t,n){this.xrt.U0(t,n)},At(t,[{key:"Av",get:function(){return this.z2}},{key:"O_",get:function(){return this.xrt.O_}},{key:"R0",get:function(){return this.xrt.R0}}]),t}();function AJ(t){if(t.Av===CH.kRt&&void 0!==t.vjt){var n=t.vjt.match(/^CC([1-4])$/);if(n)return Number(n[1]);var i=t.vjt.match(/^SERVICE([\d+])$/);return i?Number(i[1]):void 0}}yt(),C(),yt(),C(),yt(),C();var pJ=function(){function t(t){this.yz=t}var n=t.prototype;return n.lRt=function(t){var n,i,r;return null==(r=null==(i=this.yz)||null==(n=i.D1)?void 0:n.FZ(t))||r},n.dRt=function(t){var n,i,r;return null==(r=null==(i=this.yz)||null==(n=i.I1)?void 0:n.FZ(t))||r},t}(),_J="LLHLSPlayer",kJ=[gk.Am,gk.ym,gk.Mm,gk.Nw],bJ=[Al.qv,Al.Iv,Al.zv,Al.Rv],MJ=2e3,TJ=function(t){function n(n,i,r,e,u,s,o,a){var c;(c=t.call(this)||this).wU=r,c.vU=e,c.KUt=u,c.QGt=s,c.oVt=is(),c.xGt=!0,c.LGt=!0,c.SGt=!1,c.yGt=void 0,c.yz=void 0,c.Cvt=void 0,c.dE=new zo,c.kSt=void 0,c.iVt=void 0,c.sVt=void 0,c.nVt=void 0,c.uGt=void 0,c.rGt=void 0,c.nGt=void 0,c.vGt=void 0,c.$Gt=void 0,c.bVt=[],c.O1=void 0,c.j1=void 0,c.jGt=void 0,c.hGt=void 0,c.hVt=void 0,c.UGt=void 0,c.TVt=new zo,c.DGt=void 0,c.L5=new zo,c.x5=void 0,c.gGt=-1,c.KVt=void 0,c.$Vt=void 0,c.eWt=void 0,c.qVt=void 0,c.JVt=void 0,c.iWt=void 0,c.KMt=!0,c.dVt=0,c.lVt=!1,c.Az=FD.yB,c.vz=void 0,c.mz=void 0,c.U1=HD.oU(),c.AWt=[],c.MGt=void 0,c.bGt=void 0,c.SSt=!1,c.v5=!1,c.TNt=void 0,c.SNt=0,c.NNt=0,c.TGt=void 0,c.NGt=0,c.rSt=!1,c.cWt=!1,c.PGt=BN.LT,c.dLt=void 0,c.yWt=void 0,c.KTt=0,c.handleContentProtectionErrorEvent=function(t){c.vz=Km(t.errorObject),c.mz=t.errorObject,c.Ds(t)},c.handleBufferingErrorEvent=function(t){c.rB(new Kv(Xv.MEDIA_LOAD_ERROR,t.lt.message,t.lt))},c.gWt=function(){c.Jzt();var t=c.ct;t!==c.TNt&&(c.TNt=t,c.Co(new mD(c.TNt)))},c.Mh=function(){c.G_&&c.Co(new pD(c.U_))},c.dOt=function(){c.Co(new wD(c.U_))},c.wWt=function(){c.STt(),c.Co(new yD(c.U_))},c.Vm=function(){void 0!==c.yWt&&(an.p_(c.yWt),c.yWt=void 0),c.Co(new Tk(c.U_))},c.vWt=function(){c.Co(new UL(c.U_))},c.Yj=function(){c.Co(new Ak(c.U_,c.Sg))},c.J4=function(){var t=c.Njt;_o(c.AWt,t)||(c.Co(new lq),c.AWt=t),c.Co(new om(c.U_,c.R_))},c.zVt=Jn((function(t){t.$D===Gm.VA&&c.oGt()&&Xo(c.aGt())}),200),c.BVt=function(t){var n;c.KTt+=t.PQt;var i=c.rt.U>0?t.$D===Gm.VA:t.$D===Gm.WA;"nut"===t.RQt&&i&&Xo(c._Vt()),c.Co(new YP(function(t){if(t){if(void 0!==t.Dyt){var n,i,r=t.Dyt.Cn+(null!=(i=t.Dyt.U)?i:0);return{zu:t.lT,Sat:[null==(n=t.Dyt)?void 0:n.Cn,r],tE:!0}}return{zu:t.lT.toString()||"",tE:!0}}return{zu:"",tE:!0}}(t.uri),(null==(n=c.bjt)?void 0:n.GP)||0,t.mediaSequenceNumeber,t.mediaTrackId,t.$D,t.httpStatusCode,t.PQt))},c.We=function(){c.Co(new _D(c.U_))},c.Vz=function(){c.Co(new kD(c.U_))},c.mWt=function(){c.mSt()},c.pWt=function(){c.Co(new bD(c.U_,c.zg))},c.fWt=function(){c.Fm.Eg?c.Co(new kk(c.U_)):(null!=c.yWt||(c.yWt=an.A_((function(){c.cWt&&(c.dLt=void 0,Xo(c.lGt()))}),2500)),c.STt(),c.Co(new kk(c.U_)))},c._Wt=function(){c.cWt=!0,c.Co(new bk(c.U_,c.Sg))},c.EGt=function(t){Bo(t)||Sy(t)||Ly(t)||(c.EVt(),Xo(c.LVt()),c.Co(new bH(t)))},c.SUt=function(){c.Jzt()},c.zGt=function(t){Xo(c.yVt(t.Mjt,c.dE.f_))},c.pmt=function(t){if(!Bo(t)){var n=t instanceof Kv?t:new Kv(Xv.MEDIA_DECODE_ERROR,t.message,t);c.rB(n)}},c.onTextTrackChange=function(t){if(c.uGt){var n=t.Lt,i=c.rVt(n);i&&(n._v===A_.vv||n._v===A_.Jn?(Xo(c.AVt(i)),c.oVt.forEach((function(t){t!==n&&(t._v=A_.Ch)}))):c.vGt&&c.vGt===i&&Xo(c.RGt(c.rGt,c.nGt,void 0)))}};var h=Wt(c);return c.retryOfflineRenditionsCallback=Ot((function(t,n){return Rt(this,(function(i){switch(i.label){case 0:return h.wGt!==t&&h.Pjt!==t&&h.Bjt!==t?[2]:[4,h.kSt.cUt(t,n)];case 1:return i.sent(),t.djt.Uzt=-1/0,[2]}}))})),c.kNt=function(){c._Tt()},c.LNt=function(){c.gTt()},c.UVt=function(t){var n=c.uGt,i=null==n?void 0:n.xPt;if(c.kSt.MUt(t.$nt,t.Mjt.djt),!i&&(c.kSt.bUt(t.$nt,t.Mjt.djt),c.GGt.eRt(),n)){var r=void 0!==c.rGt&&!mo(n.Jjt,c.rGt),e=void 0!==c.nGt&&!mo(n.$jt,c.nGt);(r||e)&&c.RGt(r?void 0:c.rGt,e?void 0:c.nGt,c.vGt).catch(Kn)}},c.QVt=function(t){c.GGt.rRt(t.Mjt,t.Adt)},c.FVt=function(t){c.GGt.hRt(t.Mjt,t.rYt.JS())},c.YVt=function(t){c.kSt.AUt(t.Mjt)},c.rut=new zV(o),c.Fm=n,c.aE=i,c.Sz=new kH(c.wU.VH),c.mVt=new MH(c.Fm),c.gVt=new BH(c.wU),c.Mlt=a.retryConfiguration,c.YT=new Vm,c.VT=new Vm,c.GGt=new _H(Wt(c),c.wU,c.YT,c.VT),c.cVt=new Y_,c.Rz=new ak(c.Fm,c.aE),c.Avt=new xV(c.Fm),c.sxt=new cY(c.Fm),c.Dl=new bT([c.cVt,c.Rz.Z,c.Avt.Z,c.sxt.Z,c.Fm.nt]),c.Lz=new _T(c.aE),c.Fm.Qz=c.Lz,c.DNt=new DJ(Wt(c),c.Fm),c.uWt=new Dk(c.DNt,!0),c.dWt(),c}bt(n,t);var i=n.prototype;return i.oGt=function(){if(void 0===this.hGt)return!1;var t=an.m_();if(!this.hGt.EYt.LFt(t))return!1;var n=this.hGt.EYt.IFt();if(void 0===n||void 0===n.nut.ct)return!1;var i=this.U_,r=this.gg,e=this.hGt.OYt.Jm(i);return!((void 0!==e?e.jn(0)-i:0)>=2*n.nut.ct*r)&&(n.DFt>0&&0===n.EFt?n.kFt>1e3*n.nut.ct*.8:8*n.EFt/this.wU.VH.GP>=1.8*n.nut.ct)},i.aGt=function(){var t=this;return Ot((function(){var n,i,r,e,u,s,o;return Rt(this,(function(a){switch(a.label){case 0:return[4,t.gRt()];case 1:return void 0===(i=a.sent())||void 0===(r=null==(n=t.hGt)?void 0:n.EYt.IFt())?[2]:(e=t.uGt,r.EFt>0&&(u=w.max(0,r.EFt-r.DFt),s=r.EFt*(i.GP/e.GP),u<=s)?[2]:(o=i.GP<e.GP,[4,t.Djt(i,{Ejt:o})]));case 2:return a.sent(),[2]}}))}))()},i.cGt=function(t){return bo(t,(function(t){return t.GP}))},i.lGt=function(){var t=this;return Ot((function(){var n,i,r;return Rt(this,(function(e){switch(e.label){case 0:return[4,t.dGt()];case 1:return 0===(n=e.sent()).length?[2]:[4,t.fGt(n)];case 2:return(i=e.sent()).length>0&&(n=i),void 0===(r=t.cGt(n))?[3,4]:[4,t.Djt(r,{Ejt:!0})];case 3:e.sent(),t.Sz.jDt(r.GP),e.label=4;case 4:return[2]}}))}))()},i.F_=function(t,n){var i,r,e,u,s=this;yH.IM(_J,"Seeking to "+t+" s.");var o={pGt:null!=(r=null==n?void 0:n.pGt)?r:t===1/0,AGt:null==(e=null==n?void 0:n.AGt)||e,lPt:null!=(u=null==n?void 0:n.lPt)&&u};this.MGt=t,this.bGt=o,this.TGt=!0,this.SSt=!0,null==(i=this.fz)||i.Zg(),this.Co(new _D(t)),this.L5.g_(),this.SGt&&(an.p_(this.NGt),o.AGt?this.NGt=an.A_((function(){return s.IGt(t,o)}),50):this.IGt(t,o))},i.IGt=function(t,n){an.p_(this.NGt);var i=[this.Cvt,this.DGt,this.x5].filter(Rn);this.L5=new zo,this.L5.w_(this.dE.f_),this.x5=this.C5(i,t,n,this.L5.f_).catch(this.EGt)},i.Jzt=function(){var t=function(t){if(0===t.length)return HD.oU();for(var n=new HD([0,1/0]),i=0,r=0;r<t.length;r++){var e=t[r].djt.Ig;e.U>0&&(n=n.Sn(e),i=w.max(i,e.Cn(0)))}if(n.U>0)return n;return HD.nU(i)}([this.rGt,this.nGt].filter(Rn));0!==t.U&&(this.yz&&this._Gt&&this.yz.ct!==1/0&&(t=new HD([t.Cn(0),this.yz.ct])),this.U1=t,this.LGt&&this.Avt.wD(t.Cn(0)),this.xGt&&this.sxt.wD(t.Cn(0)))},i.qg=function(){return!1},i.Gg=function(){return this.Fm.ya},i.be=function(){yH.IM(_J,"Hiding the player."),this.Fm.be()},i.Hg=function(){var t;yH.IM(_J,"Pausing the player."),this.Fm.Hg(),(null==(t=this.fz)?void 0:t.Lm)&&this.fz.Zg()},i.Xg=function(){var t=this;return Ot((function(){var n,i;return Rt(this,(function(r){switch(r.label){case 0:return t.v5=!0,n=t.Fm.Xg(),t.G_&&(i=t.ZTt).U>0&&t.F_(i.Cn(0),{AGt:!1}),t.SGt?[3,2]:[4,t.kGt()];case 1:r.sent(),r.label=2;case 2:return t.STt(),[4,n];case 3:return r.sent(),t.NSt(),[2]}}))}))()},i.STt=function(){var t;if(!this.XTt())if(null==(t=this.bjt)?void 0:t.djt.bPt){var n,i=!0,r=0,e=null==(n=this.uGt)?void 0:n.djt.Cn;if(!this.SSt&&e&&(i=!e.lPt,(r=e.cPt)<0)){var u=this.bjt.djt.Mzt;r+=u.jn(u.U-1)}this.IGt(r,{pGt:i})}else this.IGt(1/0,{pGt:!0});this.CGt()&&this.IGt(1/0,{pGt:!0})},i.XTt=function(){var t,n=this.ZTt;if(0===n.U)return!0;var i=null==(t=this.OGt)?void 0:t.WB(this.U_);return(i&&i>0?this.OGt.jn(i):this.U_)>=n.Cn(0)},i.CGt=function(){return OJ(this.U_,this.rGt)||OJ(this.U_,this.nGt)},i.hNt=function(){this.vz=void 0,this.mz=void 0},i.rB=function(t){this.vz||(Xo(this.tr()),this.vz=Km(t),this.mz=t,this.Co(new gT(t)))},i.ge=function(){yH.IM(_J,"Showing the player."),this.Fm.ge()},i.Kg=function(){throw new v("Not implemented")},i.Jg=function(){throw new v("Not implemented")},i.$g=function(){},i.iw=function(){this.SGt&&Xo(this.RGt(this.rGt,this.nGt,this.vGt,{iw:!0}))},i.ga=function(t,n,i){var r=this;return Ot((function(){var e,u,s,o;return Rt(this,(function(a){switch(a.label){case 0:return yH.IM(_J,"Setting the player source to "+t.src+"."),r.hNt(),!r.yGt||aD(r.yGt)?[3,2]:[4,r.tr()];case 1:a.sent(),Po(i),a.label=2;case 2:return!t.src||aD(t)||(r.dE=new zo,r.Lz.HP(t.contentProtection),r.yGt=t,r.PGt=t.seamlessSwitchStrategy,r.xGt=!mo(t.ignoreEmbeddedTextTrackTypes,mA.CEA608),r.LGt=!mo(t.ignoreEmbeddedTextTrackTypes,mA.EMSG),r.yn(KZ.cjt,r.handleBufferingErrorEvent),s=null!=(u=null==(e=t.latencyConfiguration)?void 0:e.targetOffset)?u:t.liveOffset,r.kSt=new oq(r.aE,r.rut,t.useCredentials,an.wp(t.src),s),r.kSt.yn(eq.WBt,r.SUt),r.kSt.yn(eq.HBt,r.zGt),r.kSt.yn(Al.Gv,r.Ds),r.kSt.yn(Al.Vv,r.Ds),t.hlsDateRange&&(r.BGt=new vq(r.kSt,r.Fm),r.Dl.tz(r.BGt.nt)),null!=r.UGt||(r.UGt=r.QGt.G7()),n.textTracks&&r.xz(n.textTracks),t.latencyConfiguration&&(o=t.latencyConfiguration,r.fz=new RV(r,r.Fm,o),r.fz.Rt=!0,r.Qg.ka(r.fz)),lk(r.Dl),r.kGt()),[2]}}))}))()},i.kGt=function(){return this.Cvt=this.FGt(this.Cvt,this.dE.f_).catch(this.pmt),this.Cvt},i.FGt=function(t,n){var i=this;return Ot((function(){var r;return Rt(this,(function(e){switch(e.label){case 0:return t?[4,t]:[3,2];case 1:e.sent(),Po(n),e.label=2;case 2:return i.kSt?(r=i.Az)===FD.LT||i.v5?[4,i.nst(n)]:[3,4]:[2];case 3:return e.sent(),[3,6];case 4:return r!==FD.ZA?[3,6]:[4,i.YGt(n)];case 5:e.sent(),e.label=6;case 6:return[2]}}))}))()},i.YGt=function(t){var n=this;return Ot((function(){var i,r,e,u,s,o;return Rt(this,(function(a){switch(a.label){case 0:if(void 0===n.kSt||n.rSt)return[2];if(n.kSt.qBt)return[3,5];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,n.kSt.eUt(t)];case 2:return a.sent(),[3,4];case 3:throw Uo(i=a.sent()),n.cg=!1,new Kv(Xv.MANIFEST_LOAD_ERROR,"The provided HLS document could not be loaded - "+i.message,i);case 4:n.GGt.Eot(),a.label=5;case 5:return[4,n.VGt()];case 6:return r=a.sent(),n.WGt(r),e=n.HGt(r.Jjt),u=n.XGt(r.$jt),(s=n.ZGt(r.OPt))||(o=EJ(r.jPt))&&(yH.IM(_J,"Detected initial closed caption rendition."),n.qGt(r,o)),[4,n.RGt(e,u,s,{KGt:!0})];case 7:return a.sent(),n.rSt=!0,n.DNt.CNt(),n.JGt(),[2]}}))}))()},i.JGt=function(){var t,n=[this.rGt,this.nGt].filter(Rn);if(!n.some((function(t){return t.djt.bPt}))&&!this.fz){var i=(t=w).max.apply(t,jt(n.map((function(t){var n;return null!=(n=t.djt.nbt)?n:0})))),r={minimumOffset:.66*i,maximumOffset:2*i,targetOffset:1*i,forceSeekOffset:3*i,minimumPlaybackRate:JT,maximumPlaybackRate:$T};this.fz=new RV(this,this.Fm,r),this.vU.ka(this.fz)}},i.VGt=function(){var t=this;return Ot((function(){var n,i;return Rt(this,(function(r){switch(r.label){case 0:if(t.$Gt=t.kSt.Tr.Kjt,!t.$Gt.length)throw new Kv(Xv.MANIFEST_LOAD_ERROR,"LLHLSPlayer - Could not select initial variant stream: the HLS stream contains no variant streams.");return[4,t.tVt(t.$Gt)];case 1:if(0===(n=r.sent()).length)throw new Kv(Xv.MANIFEST_LOAD_ERROR,"LLHLSPlayer - Could not select initial variant stream: the HLS stream contains no variant stream with a supported codec.");return[4,t.fGt(n)];case 2:return(i=r.sent()).length>0&&(n=i),yH.IM(_J,"Selecting initial active variant stream."),[2,SJ(n,t.yGt.abr,t.wU,t.Mlt.maximumBackoff)]}}))}))()},i.HGt=function(t){if(this.iVt){var n=this.eVt(this.iVt);if(n)return n}return jJ(t)},i.XGt=function(t){if(this.sVt){var n=this.eVt(this.sVt);if(n)return n}return jJ(t)},i.ZGt=function(t){for(var n=0,i=this.Dl.Rw;n<i.length;n++){var r=i[n];r._v===A_.Jn&&(this.nVt=this.rVt(r))}if(this.nVt){var e=this.eVt(this.nVt);if(e)return e}return EJ(t)},i.rVt=function(t){var n=this;return co(this.uGt.OPt,(function(i){return t===n.oVt.get(i.Xw)}))},i.nst=function(t){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return n.SGt?[2]:[4,n.YGt(t)];case 1:return i.sent(),Po(t),n.SGt=!0,[4,n.RGt(n.rGt,n.nGt,n.vGt,{KGt:!0})];case 2:return i.sent(),[2]}}))}))()},i.xz=function(t){for(var n=0;n<t.length;n++){var i=t[n];i.src&&this.Rz.nE(i)}},i.qGt=function(t,n){if(this.xGt){for(var i=function(t){for(var n=[],i=0;i<t.length;i++){var r=t[i],e=AJ(r);void 0!==e&&n.push({M8:e,b8:r.gs||"",kh:r.l})}return n}(t.jPt),r=0;r<i.length;r++){var e=i[r];this.sxt.Qwt(e)}if(void 0!==n){var u=AJ(n);this.sxt.Bwt(u)._v=A_.Jn}}},i.Ijt=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(!this.aVt(i))throw new v("LLHLSPlayer - Could not set an allowed variant stream that does not exists in the internal HLS model.")}this.$Gt=t},i.aVt=function(t){var n=this.Tr;return!!n&&mo(n.Kjt,t)},i.eVt=function(t){if(t&&this.uGt)return co(this.uGt.nRt,(function(n){return n===t}))},i.WGt=function(t){var n;if(yH.IM(_J,"Setting active variant stream."),this.uGt!==t){var i=(null==(n=this.uGt)?void 0:n.RRt)!==(null==t?void 0:t.RRt);if(this.uGt&&i)for(var r=0,e=this.uGt.OPt;r<e.length;r++){var u=e[r];this.fE(u)}if(this.uGt=t,this.Co(new nJ),this.mSt(),t&&i)for(var s=0,o=t.OPt;s<o.length;s++){var a=o[s];this.uVt(a)}}},i.uVt=function(t){var n=this.Fm.rE(Q_.HA,void 0,t.l,t.gs,t.fjt,void 0,void 0,t.pjt.map(gH).filter(Rn));n.yn(gm.ra,this.onTextTrackChange),this.oVt.set(t.Xw,n),this.cVt.tt(n)},i.fE=function(t){var n=this.oVt.get(t.Xw);n&&(n.fn(gm.ra,this.onTextTrackChange),this.cVt.it(n),this.oVt.delete(t.Xw),this.Fm.fE(n))},i.dGt=function(){var t=this;return Ot((function(){var n,i,r,e;return Rt(this,(function(u){switch(u.label){case 0:return 0!==(i=null!=(n=t.$Gt)?n:t.Tr.Kjt).length||t.$Gt?1!==i.length||t.$Gt?[4,t.tVt(i)]:(yH.IM(_J,"The HLS stream contains only a single variant stream, skipping ABR selection."),[2,[]]):(yH.IM(_J,"The HLS stream does not contain any variant streams, skipping ABR selection."),[2,[]]);case 1:return 0===(r=u.sent()).length?(yH.Zjt(_J,"LLHLSPlayer - No variant streams with supported codecs available to perform ABR selection on."),[2,[]]):0!==(e=CJ(r,t.Mlt.maximumBackoff)).length?[3,3]:t.lVt?[2,[]]:(yH.Zjt(_J,"LLHLSPlayer - No variant streams with online renditions available to perform ABR selection on."),t.dVt++,[4,t.fVt(r)]);case 2:return u.sent(),[2,[]];case 3:return[2,e]}}))}))()},i._Vt=function(){var t=this;return Ot((function(){var n,i;return Rt(this,(function(r){switch(r.label){case 0:return[4,t.gRt()];case 1:return void 0===(n=r.sent())?[2]:(i=!!t.uGt&&n.GP<t.uGt.GP,[4,t.Djt(n,{Ejt:i})]);case 2:return r.sent(),[2]}}))}))()},i.gRt=function(){var t=this;return Ot((function(){var n,i,r,e,u,s,o,a;return Rt(this,(function(c){switch(c.label){case 0:return[4,t.dGt()];case 1:return 0===(r=c.sent()).length?[2,void 0]:(e=PX(t.Fm),[4,t.fGt(r)]);case 2:return u=c.sent(),s={ji:t.Fm.ji,Ti:t.Fm.Ti,cRt:e,Xct:null==(i=t.yGt)||null==(n=i.abr)?void 0:n.restrictToPlayerSize},[4,t.gVt.gRt(r,t.uGt,u,s,new pJ(t.yz))];case 3:return o=c.sent(),a=!!t.uGt&&o.GP<t.uGt.GP,[2,a||t.wVt(o,e)?o:void 0]}}))}))()},i.wVt=function(t,n){var i;if(t===this.bjt)return!1;var r=this.bjt&&xJ(this.bjt,this.Mlt.maximumBackoff),e=xJ(t,this.Mlt.maximumBackoff);if(!r&&e)return!0;(!this.dLt||this.dLt.Tjt.GP>t.GP)&&(this.dLt={Tjt:t,$dt:an.m_()});var u,s=an.m_()-this.dLt.$dt,o=null!=(u=null==(i=this.Bjt)?void 0:i.djt.uRt)?u:1/0;return n>=w.max(o-1,5)||s>1e3},i.fVt=function(t){var n=this;return Ot((function(){var i,r,e,u;return Rt(this,(function(s){switch(s.label){case 0:n.lVt=!0,i=!1,r=0,s.label=1;case 1:if(!(r<t.length))return[3,6];e=t[r],s.label=2;case 2:return s.trys.push([2,4,,5]),void 0===(u=n.nGt?co(e.$jt,(function(t){return rH(t,n.nGt)})):void 0)?[3,5]:[4,n.cUt(u)];case 3:return s.sent(),u.djt.Uzt=-1/0,i=!0,[3,5];case 4:return s.sent(),[3,5];case 5:return r++,[3,1];case 6:return i?(n.dVt=0,[4,n.vVt()]):[3,8];case 7:return s.sent(),[3,10];case 8:return n.dVt>=n.Mlt.maxRetries?(n.rB(new Kv(Xv.MEDIA_LOAD_ERROR,"The provided video renditions could not be loaded.")),[2]):[4,Ko(w.min(n.Mlt.minimumBackoff*w.pow(2,n.dVt-1),n.Mlt.maximumBackoff))];case 9:s.sent(),s.label=10;case 10:return n.lVt=!1,[4,n._Vt()];case 11:return s.sent(),[2]}}))}))()},i.tVt=function(t){var n=this;return Ot((function(){var i;return Rt(this,(function(r){switch(r.label){case 0:return[4,Io(t,Ot((function(t){var i,r,e,u;return Rt(this,(function(s){switch(s.label){case 0:return 0===(u=[(null==(i=t.$nt)?void 0:i.mkt)?'audio/mp4; codecs="'+t.$nt.mkt+'"':void 0,(null==(r=t.$nt)?void 0:r.Akt)?'video/mp4; codecs="'+t.$nt.Akt+'"':void 0].filter(Rn)).length?[2,!0]:[4,n.mVt.dq(u,null==(e=n.yGt)?void 0:e.useManagedMediaSource)];case 1:return[2,s.sent()]}}))})))];case 1:return(i=r.sent()).some((function(t){var n;return null==(n=t.$nt)?void 0:n.Akt}))&&(i=i.filter((function(t){return!t.$nt||t.$nt.Akt||0!==t.$jt.length}))),i.some((function(t){var n;return null==(n=t.$nt)?void 0:n.mkt}))&&(i=i.filter((function(t){return!t.$nt||t.$nt.mkt||0!==t.Jjt.length}))),[2,i]}}))}))()},i.fGt=function(t){var n=this;return this.kSt.JBt?Io(t,(function(t){return function(t,n){return Lo.apply(this,arguments)}([jJ(t.Jjt),jJ(t.$jt),EJ(t.OPt),EJ(t.jPt)].filter(Rn),(function(t){return n.pVt(t)}))})):q.resolve([])},i.pVt=function(t){var n=this;return Ot((function(){var i,r,e;return Rt(this,(function(u){switch(u.label){case 0:if(0===t.djt.jnt.length)return[2,!1];if(!(i=t.djt.jnt[0]).Jpt)return[2,!1];r=i.Jpt,e=r.Dyt?PH(r.Dyt.Cn,r.Dyt.U):void 0,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,n.rut.wnt(r.lT,e)];case 2:return[2,u.sent()];case 3:return u.sent(),[2,!1];case 4:return[2]}}))}))()},i.Djt=function(t,n){var i=this;return Ot((function(){var r,e,u;return Rt(this,(function(s){switch(s.label){case 0:if(!i.SGt)throw new v("LLHLSPlayer - The LLHLSPlayer is not loaded.");if(!t)throw new v("LLHLSPlayer - Cannot explicitly set the active variant stream to undefined.");if(!i.aVt(t))throw new v("LLHLSPlayer - Trying to set an active variant stream that does not exists on the internal model.");return t===i.uGt?(yH.IM(_J,"Trying to set the already active variant stream, ignoring."),[2]):(r=i.rGt?co(t.Jjt,(function(t){return rH(t,i.rGt)})):void 0,e=i.nGt?co(t.$jt,(function(t){return rH(t,i.nGt)})):void 0,u=i.vGt?co(t.OPt,(function(t){return rH(t,i.vGt)})):void 0,i.WGt(t),i.dLt=void 0,[4,i.RGt(r,e,u,n)]);case 1:return s.sent(),[2]}}))}))()},i.zjt=function(t){var n=this;return Ot((function(){var i;return Rt(this,(function(r){switch(r.label){case 0:if(!n.uGt)return n.iVt=t,[2];if(i=n.eVt(t),t&&!i)throw new v("LLHLSPlayer - Trying to set an invalid rendition as the active audio rendition.");return n.Pjt===i?[2]:(yH.IM(_J,"Switching audio rendition"),[4,n.RGt(i,n.nGt,n.vGt,{Ljt:!0})]);case 1:return r.sent(),[2]}}))}))()},i.Ujt=function(t){var n=this;return Ot((function(){var i;return Rt(this,(function(r){switch(r.label){case 0:if(!n.uGt)return n.sVt=t,[2];if(i=n.eVt(t),t&&!i)throw new v("LLHLSPlayer - Trying to set an invalid rendition as the active video rendition.");return n.Bjt===i?[2]:(yH.IM(_J,"Switching video rendition"),[4,n.RGt(n.rGt,i,n.vGt,{kjt:!0})]);case 1:return r.sent(),[2]}}))}))()},i.AVt=function(t){var n=this;return Ot((function(){var i;return Rt(this,(function(r){switch(r.label){case 0:if(!t)throw new v("LLHLSPlayer - Cannot explicitly set the active subtitle rendition to undefined.");if(!n.rSt)return n.nVt=t,[2];if(!(i=n.eVt(t)))throw new v("LLHLSPlayer - Trying to set an invalid rendition as the active subtitle rendition.");return yH.IM(_J,"Switching subtitle rendition"),[4,n.RGt(n.rGt,n.nGt,i)];case 1:return r.sent(),[2]}}))}))()},i.yVt=function(t,n){var i=this;return Ot((function(){var r;return Rt(this,(function(e){switch(e.label){case 0:return i.lVt?[2]:(r=0===i.rt.U,t.Av===CH.VA||t.Av===CH.WA&&r?[3,2]:[4,i.MVt(t,n)]);case 1:return e.sent(),[3,10];case 2:return i.$Gt&&i.$Gt.length<=1?t.Av!==CH.VA||i.nGt===t?[3,4]:[4,i.RGt(i.rGt,t,i.vGt)]:[3,8];case 3:return e.sent(),[3,6];case 4:return t.Av===CH.WA&&r&&i.rGt!==t?[4,i.RGt(t,i.nGt,i.vGt)]:[3,6];case 5:e.sent(),e.label=6;case 6:return[4,i.MVt(t,n)];case 7:return e.sent(),[3,10];case 8:return[4,i._Vt()];case 9:e.sent(),e.label=10;case 10:return[2]}}))}))()},i.cUt=function(t,n){var i=this;return Ot((function(){var r;return Rt(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,5]),[4,i.kSt.cUt(t,n)];case 1:return e.sent(),[3,5];case 2:return Uo(r=e.sent()),Sy(r)||Ly(r)?[4,i.yVt(t,n)]:[3,4];case 3:e.sent(),e.label=4;case 4:throw r;case 5:return[2]}}))}))()},i.MVt=function(t,n){var i=this;return Ot((function(){var r,e;return Rt(this,(function(u){switch(u.label){case 0:if(mo(i.bVt,t))return[2];i.bVt.push(t),u.label=1;case 1:return u.trys.push([1,3,4,7]),r=t.Av===CH.HA||t.Av===CH.kRt?1/0:i.Mlt.maxRetries,[4,MD((function(){return i.retryOfflineRenditionsCallback(t,n)}),n,r,i.Mlt.minimumBackoff,i.Mlt.maximumBackoff)];case 2:return u.sent(),[3,7];case 3:return e=u.sent(),i.rB(new Kv(Xv.MEDIA_LOAD_ERROR,e.message,e)),[3,7];case 4:return go(i.bVt,t),t.djt.Uzt!==-1/0?[3,6]:[4,i.vVt()];case 5:u.sent(),u.label=6;case 6:return[7];case 7:return[2]}}))}))()},i.RGt=function(t,n,i,r){void 0===r&&(r={});var e={Ejt:r.Ejt||!1,Ljt:r.Ljt||!1,kjt:r.kjt||!1,iw:r.iw||!1,KGt:r.KGt||!1};return e.KGt||e.iw||this.rGt!==t||this.nGt!==n||this.vGt!==i?void 0===t&&void 0===n?q.reject(new v("Trying to buffer no media renditions.")):(this.rGt=t,this.nGt=n,this.vGt=i,this.Jzt(),this.Co(new iJ),this.L5.g_(),this.L5=new zo,this.L5.w_(this.dE.f_),this.TVt.g_(),this.TVt=new zo,this.TVt.w_(this.dE.f_),this.DGt=this.SVt([this.DGt,this.x5].filter(Rn),t,n,i,e,this.TVt.f_).catch(this.EGt),this.DGt):q.resolve()},i.NVt=function(t,n,i,r){var e=this;return Ot((function(){var u,s,o,a;return Rt(this,(function(c){return(o=[]).push(e.IVt(n,r)),eH(t,n)||o.push(e.IVt(t,r)),(null==(s=e.yGt)||null==(u=s.hls)?void 0:u.delaySubtitlePreload)?[2,q.all(o).then((function(){return e.IVt(i,r)}))]:(a=e.IVt(i,r),[2,q.all(jt(o).concat([a]))])}))}))()},i.IVt=function(t,n){var i=this;return Ot((function(){var r;return Rt(this,(function(e){switch(e.label){case 0:if(!t)return[2];e.label=1;case 1:return e.trys.push([1,3,,6]),[4,i.kSt.cUt(t,n)];case 2:return e.sent(),[3,6];case 3:return Uo(r=e.sent()),Sy(r)||Ly(r)?[4,i.DVt(t,n)]:[3,5];case 4:e.sent(),e.label=5;case 5:return[3,6];case 6:return[2]}}))}))()},i.DVt=function(t,n){var i=this;return Ot((function(){var r,e,u,s,o;return Rt(this,(function(a){switch(a.label){case 0:return i.lVt?[2]:(r=0===i.rt.U,t.Av===CH.VA||t.Av===CH.WA&&r?[3,2]:[4,i.MVt(t,n)]);case 1:return a.sent(),[3,7];case 2:return i.$Gt&&i.$Gt.length<=1?[4,i.MVt(t,n)]:[3,4];case 3:return a.sent(),[3,7];case 4:return[4,i.VGt()];case 5:return e=a.sent(),i.WGt(e),u=i.HGt(e.Jjt),s=i.XGt(e.$jt),o=i.ZGt(e.OPt),[4,i.RGt(u,s,o)];case 6:a.sent(),a.label=7;case 7:return[2]}}))}))()},i.SVt=function(t,n,i,r,e,u){var s=this;return Ot((function(){var o,a,c,h,f,v,l,d;return Rt(this,(function(g){switch(g.label){case 0:return s.SGt?[3,2]:[4,s.NVt(n,i,r,u)];case 1:return g.sent(),[2];case 2:return[4,q.all(t.map((function(t){return t.catch(Kn)})))];case 3:return g.sent(),s.EVt(),[4,s.kVt(u)];case 4:return g.sent(),[4,s.LVt()];case 5:return g.sent(),a=[],e.Ljt&&s.yz&&s.yz.I1&&a.push(s.yz.I1.rS(0,1/0)),e.kjt&&s.yz&&s.yz.D1&&a.push(s.yz.D1.rS(0,1/0)),[4,q.all(a)];case 6:return g.sent(),Po(u),[4,s.xVt(n,i,e.iw,u)];case 7:c=g.sent(),s.CVt(n,i,e.Ejt||c),s.OVt(r,e.Ejt),Po(u),h=[i,eH(n,i)?void 0:n,r].filter(Rn),g.label=8;case 8:return g.trys.push([8,10,,11]),[4,q.all(h.filter((function(t){return!t.djt.Czt})).map((function(t){var n;return null==(n=s.kSt)?void 0:n.lUt(t,u)})))];case 9:return g.sent(),[3,11];case 10:return Uo(g.sent()),[3,11];case 11:return Po(u),s.B1(),s.Jzt(),void 0!==s.MGt?s.IGt(s.MGt,s.bGt):!s.SSt&&(null==(o=s.uGt)?void 0:o.djt.Cn)?(f=s.uGt.djt,v=f.Cn,l=v.cPt,v.cPt<0&&(d=f.Mzt,l+=d.jn(d.U-1)),s.IGt(l,{pGt:!v.lPt})):!s.SSt&&h.every((function(t){return!t.djt.bPt}))?s.IGt(1/0,{pGt:!0}):s.mGt.length>0&&s.jVt(),[2]}}))}))()},i.xVt=function(t,n,i,r){var e=this;return Ot((function(){var u,s,o,a,c,h,f,v,l,d;return Rt(this,(function(g){switch(g.label){case 0:return o=void 0!==t&&t!==n,a=void 0!==n,[4,e.RVt(t,n,e.uGt)];case 1:return c=g.sent(),Po(r),i||!e.yz||c?(h=void 0!==(null==(u=e.yz)?void 0:u.I1),f=void 0!==(null==(s=e.yz)?void 0:s.D1),v=o!==h||a!==f,!i&&!v&&c&&e.yz&&e.yz.FZ(c)?[4,e.kVt(r)]:[3,4]):[2,!1];case 2:return g.sent(),[4,e.yz.GZ(c)];case 3:return g.sent(),[2,!0];case 4:for(l=0,d=e.mGt;l<d.length;l++)d[l].IYt.forEach((function(t){return t.g_()}));e.Fm.z6(),g.label=5;case 5:return g.trys.push([5,,9,10]),e.yz?[4,e.Fm.tr()]:[3,7];case 6:g.sent(),g.label=7;case 7:return[4,e.PVt(c,o,a)];case 8:return e.yz=g.sent(),[3,10];case 9:return e.Fm.B6(),[7];case 10:return[2,!0]}}))}))()},i.RVt=function(t,n,i){var r=this;return Ot((function(){var e,u,s,o,a,c,h,f,v,l,d,g,w,y,m,A,p,_;return Rt(this,(function(k){switch(k.label){case 0:if(s=i.$nt,o=[],void 0!==t){if(!(h=null!=(c=null==(a=t.$nt)?void 0:a.mkt)?c:null==s?void 0:s.mkt))return[2,void 0];f='audio/mp4; codecs="'+h+'"',yH.IM(_J,"Configuring MediaSource for initial audio rendition with codec: "+f+"."),o.push(f)}if(void 0!==n){if(!(d=null!=(l=null==(v=n.$nt)?void 0:v.Akt)?l:null==s?void 0:s.Akt))return[2,void 0];g='video/mp4; codecs="'+d+'"',yH.IM(_J,"Configuring MediaSource for initial video rendition with codec: "+g+"."),o.push(g)}return 0===o.length?(yH.Zjt(_J,"No codecs found on the active variant stream."),[2,void 0]):(y=null!=(w=null==n||null==(e=n.djt.jnt[0])?void 0:e.fPt)?w:[],A=null!=(m=null==t||null==(u=t.djt.jnt[0])?void 0:u.fPt)?m:[],p=r.kSt.Tr,[4,XH(r.yGt.contentProtection,o,p.LBt.concat(A).concat(y),r.aE,r.yGt.useCredentials)]);case 1:return _=k.sent(),[2,{Av:dk.Sj,F1:o.map((function(t){return{Nz:t}})),Iz:_,t2:r.yGt.useManagedMediaSource}]}}))}))()},i.PVt=function(t,n,i){var r=this;return Ot((function(){var e;return Rt(this,(function(u){switch(u.label){case 0:return t?[4,r.Fm.$n(t)]:[3,2];case 1:return e=u.sent(),[3,3];case 2:e=new sJ(r.Fm,n,i),u.label=3;case 3:return r.yz=e,r.B1(),r._Tt(),r.gTt(),[2,e]}}))}))()},i.B1=function(){var t=this.yz;if(t&&A(t.ct)){var n,i,r,e=null!=(r=null==(n=this.rGt)?void 0:n.djt.ct)?r:null==(i=this.nGt)?void 0:i.djt.ct;void 0!==e&&e>0&&t.P1(e)}this.Jzt()},i._Tt=function(){var t=this.yz;t&&(t.D1&&(t.D1.iX=this.wU.lX),t.I1&&(t.I1.iX=this.wU.lX))},i.gTt=function(){var t=this.yz;t&&(t.D1&&(t.D1.rX=this.wU.rX),t.I1&&(t.I1.rX=this.wU.rX))},i.CVt=function(t,n,i){if(!this.yz)throw new v("Invalid state");this.yz.I1?this.O1&&this.O1.iGt(this.yz.I1)||(this.O1=new mJ(Gm.WA,this.yz.I1,this.LGt?this.Avt:void 0,this.xGt?this.sxt:void 0)):this.O1=void 0,this.yz.D1?this.j1&&this.j1.iGt(this.yz.D1)||(this.j1=new mJ(Gm.VA,this.yz.D1,this.LGt?this.Avt:void 0,this.xGt?this.sxt:void 0)):this.j1=void 0;var r,e=eH(t,n);if(this.j1&&n){var u=e&&this.O1?[this.j1,this.O1]:[this.j1];this.hGt?this.hGt.Mjt!==n&&(i&&(this.hGt.g_(),this.hGt.xYt.kL()),this.hGt.zQt(n)):(this.hGt=function(t,n,i,r,e,u,s,o,a,c){var h=r.Tr.kT,f=new Pq(h),v=new Oq(Gm.VA,t,r,f,e,u,s,c),l=n.map((function(t){return t.Av})),d=o.Qbt(f,r.Tr.kT,l),g=new tJ(v,f,d,a);return g.LYt(n),g}(n,u,this.Fm,this.kSt,this.aE,this.rut,this.KUt,this.UGt,this.wU,this.yGt.useCredentials),this.hGt.EYt.yn(Cq.OQt,this.zVt),this.hGt.EYt.yn(Cq.jQt,this.BVt),this.hGt.kYt.yn(Wq.iYt,this.UVt),this.hGt.kYt.yn(Wq.sYt,this.QVt),this.hGt.kYt.yn(Wq.nYt,this.FVt),this.hGt.kYt.yn(Wq.eYt,this.YVt)),this.hGt.LYt(u)}else{var s;null==(s=this.hGt)||s.h_(),this.hGt=void 0}this.O1&&t&&!e?(this.jGt?this.jGt.Mjt!==t&&(i&&(this.jGt.g_(),this.jGt.xYt.kL()),this.jGt.zQt(t)):(this.jGt=function(t,n,i,r,e,u,s,o,a,c){var h=r.Tr.kT,f=new Pq(h),v=new Oq(Gm.WA,t,r,f,e,u,s,c),l=o.Qbt(f,r.Tr.kT,[n.Av]),d=new tJ(v,f,l,a);return d.LYt([n]),d}(t,this.O1,this.Fm,this.kSt,this.aE,this.rut,this.KUt,this.UGt,this.wU,this.yGt.useCredentials),this.jGt.EYt.yn(Cq.jQt,this.BVt),this.jGt.kYt.yn(Wq.iYt,this.UVt),this.jGt.kYt.yn(Wq.eYt,this.YVt)),this.jGt.LYt([this.O1])):(null==(r=this.jGt)||r.h_(),this.jGt=void 0);this.GVt()},i.OVt=function(t,n){this.hVt&&(this.hVt.EYt.Mjt===t?n&&(this.hVt.g_(),this.hVt.xYt.kL()):(this.hVt.h_(),this.hVt=void 0));if(!this.hVt&&t){var i=this.oVt.get(t.Xw);i._v=A_.Jn,this.hVt=function(t,n,i,r,e,u,s){var o=i.Tr.kT,a=new Yq(n,o),c=new Pq(o),h=new Oq(Gm.Ru,t,i,c,r,e,u,s),f=new qq(c,o,Gm.Ru),v=new tJ(h,c,f);return v.CYt(a),v}(t,i,this.kSt,this.aE,this.rut,this.KUt,this.yGt.useCredentials)}},i.GVt=function(){var t=[this.O1,this.j1].filter(Rn).map((function(t){return t.Av}));this.kSt.Tr.kT.EBt(t)},i.C5=function(t,n,i,r){var e=this;return Ot((function(){var u,s,o,a;return Rt(this,(function(c){switch(c.label){case 0:return[4,q.all(t.map((function(t){return t.catch(Kn)})))];case 1:return c.sent(),Po(r),[4,e.LVt()];case 2:return c.sent(),Po(r),e.MGt=void 0,e.TGt=void 0,e.SSt=!0,i.lPt?(s=[e.rGt,e.nGt].filter(Rn),u=IJ(s)):u=e.ZTt,o=u.zB(n),a=e.Fm.k_(Al.$v,r),e.Fm.JA(o,i.pGt),e.SGt&&e.mGt.length>0&&(e.kSt.Tr.kT.kBt(),e.VVt(e.Fm.U_),e.jVt()),[4,a];case 3:return c.sent(),e.NSt(),[2]}}))}))()},i.NSt=function(){var t=this.Km;if(!this.fg&&!this.Eg&&void 0!==t){var n,i,r=this.U_;if(t+this.U_-this.Qg.wd.maximumOffset<r)null==(n=this.fz)||n.Cn();else null==(i=this.fz)||i.Zg()}},i.VVt=function(t){for(var n=0,i=this.mGt;n<i.length;n++){var r=i[n];r.KQt(t)||(r.zYt(),r.xYt.GFt()),r.RYt(t)||(r.BYt(),r.xYt.VFt())}},i.EVt=function(){for(var t=0,n=this.mGt;t<n.length;t++){n[t].g_()}},i.LVt=function(){return q.all([this.VLt(),this.WVt(),this.HVt()])},i.jVt=function(){this.GLt(),this.XVt(),this.ZVt()},i.vVt=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return t.SGt&&t.mGt.length>0?(t.mGt.forEach((function(t){return t.zYt()})),[4,t.VLt()]):[3,2];case 1:n.sent(),t.GLt(),t.mGt.forEach((function(t){return t.EYt.nFt()})),n.label=2;case 2:return[2]}}))}))()},i.GLt=function(){var t=this;if(!this.qVt){var n=function(){t.qVt=void 0};this.KVt=new zo,this.KVt.w_(this.dE.f_),this.qVt=this.hxt(this.KVt.f_).catch(this.EGt).then(n,n)}},i.VLt=function(){var t=this;return Ot((function(){var n,i;return Rt(this,(function(r){switch(r.label){case 0:return null==(n=t.KVt)||n.g_(),i=t.qVt,t.qVt=void 0,i?[4,i]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))()},i.hxt=function(t){var n=this;return Ot((function(){var i,r;return Rt(this,(function(e){switch(e.label){case 0:i=function(){var i,e,u,s,o,a,c,h,f,v,l;return Rt(this,(function(d){switch(d.label){case 0:for(i=[],e=n.Fm.U_,u=0;u<r.length;u++)if(s=r[u],o=s.EYt,a=s.dlt(e),o.tEt)i.push(o.zUt());else if(s.PYt(e,a,n.wU.lX)){if(void 0===(c=o.JQt(a))){if(o.Mjt.djt.bPt)continue;(h=o.Mjt.djt.jnt).length&&h[0].MS>a&&(n.U_=1/0),o.hFt(),o.iFt(a)}else f=Gt(c,2),v=f[0],l=f[1],o.pat(v,l,s.NUt),s.kYt._Yt(v,l);i.push(o.zUt())}return[4,Go((function(t){if(0===i.length){r.every((function(t){return t.EYt.SEt}))||i.push(n.Fm.k_(Al.fm,t));for(var e=0;e<r.length;e++){var u=r[e];i.push(u.kYt.k_(Wq.eYt,t))}}return Yo(q.race(i),t)}),t)];case 1:return d.sent(),[2]}}))},Po(t),r=n.mGt,e.label=1;case 1:return[5,Bt(i())];case 2:return e.sent(),[3,1];case 3:return[2]}}))}))()},i.XVt=function(){var t=this;if(!this.JVt){var n=function(){t.JVt=void 0};this.$Vt=new zo,this.$Vt.w_(this.dE.f_),this.JVt=this.tWt(this.$Vt.f_).catch(this.EGt).then(n,n)}},i.WVt=function(){var t=this;return Ot((function(){var n,i;return Rt(this,(function(r){switch(r.label){case 0:return null==(n=t.$Vt)||n.g_(),i=t.JVt,t.JVt=void 0,i?[4,i]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))()},i.tWt=function(t){var n=this;return Ot((function(){var i,r,e,u,s,o,a;return Rt(this,(function(c){switch(c.label){case 0:Po(t),i=n.mGt,c.label=1;case 1:for(r=[],e=0;e<i.length;e++)u=i[e],s=u.EYt,(o=u.kYt).tEt?r.push(o.zUt()):(a=s.VQt())?"nut"===a.Av?(o.mYt(a),r.push(o.zUt())):"mPt"===a.Av&&(o.gYt(a),r.push(o.zUt())):r.push(s.rFt());return 0!==r.length?[3,2]:[3,5];case 2:return[4,Yo(q.race(r),t)];case 3:c.sent(),c.label=4;case 4:return[3,1];case 5:return[2]}}))}))()},i.ZVt=function(){var t=this;if(!this.iWt){this.eWt=new zo,this.eWt.w_(this.dE.f_);var n=function(){t.iWt=void 0};this.iWt=this.sWt(this.eWt.f_).catch(this.EGt).then(n,n)}},i.HVt=function(){var t=this;return Ot((function(){var n,i;return Rt(this,(function(r){switch(r.label){case 0:return null==(n=t.eWt)||n.g_(),i=t.iWt,t.iWt=void 0,i?[4,i]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))()},i.sWt=function(t){var n=this;return Ot((function(){var i;return Rt(this,(function(r){switch(r.label){case 0:i=function(){var i,r,e,u,s,o,a,c,h,f,v,l;return Rt(this,(function(d){switch(d.label){case 0:for((i=n.mGt).forEach((function(t){return t.vat()})),r=n.Fm.U_,e=[],u=[],s=0;s<i.length;s++)for(o=i[s],a=o.kYt,c=0,h=o.IYt;c<h.length;c++)f=h[c],v=f.xUt?e:u,f.tEt?v.push(f.zUt()):f.BUt(r)||((l=a.TYt(f.Av))?"nut"===l.Av&&l.yPt===n.gGt?(f.wlt(l),v.push(f.zUt())):"PEt"===l.Av&&l.yPt===n.gGt&&(f.X$(l),v.push(f.zUt())):u.push(a.SYt(f.Av)));return 0!==e.length?[3,2]:[4,n.nWt(i,r,t)];case 1:if(d.sent())return[2,"continue"];d.label=2;case 2:return 0===e.length&&0===u.length?(i.every((function(t){return t.IYt.length>0&&t.IYt.every((function(t){return t.BUt(r)}))}))&&n.yz.x0(),[2,"break"]):[4,Yo(q.race(jt(e).concat(jt(u))),t)];case 3:return d.sent(),[2]}}))},r.label=1;case 1:return[5,Bt(i())];case 2:return"break"===r.sent()?[3,3]:[3,1];case 3:return[2]}}))}))()},i.nWt=function(t,n,i){var r=this;return Ot((function(){var e,u,s,o,a,c,h,f,v,l,d,g,w,y,m,A,p,_,k,b;return Rt(this,(function(M){switch(M.label){case 0:for(e=[],u=[],s=0;s<t.length;s++)for(o=t[s],a=o.dlt(n),c=0,h=o.IYt;c<h.length;c++)if((f=h[c]).xUt)if(void 0!==(v=o.kYt.TYt(f.Av))){if(v.yPt===r.gGt)return[2,!1];e.push(v)}else{if(o.tEt||o.PYt(n,a,r.wU.lX)||!f.UUt(n,a))return[2,!1];void 0!==(l=f.CUt.NUt)&&u.push(l)}return 0===e.length?[2,!1]:(d=Mo(e,(function(t){return t.yPt})).yPt,e.every((function(t){return"PEt"===t.Av&&t.yPt===d}))?(g=bo(e,(function(t){return t.MS})).MS,w=jt(e).concat(jt(u)),[4,r.rWt(w)]):[3,6]);case 1:return y=M.sent(),r.oWt(y)?(yH.Xjt(AH,"Seamless switch from",r.yz.wd,"to",y),[4,r.yz.GZ(y)]):[3,3];case 2:return M.sent(),yH.Xjt(AH,"Seamless switch complete."),[3,5];case 3:return[4,r.hWt(g,y,i)];case 4:M.sent(),M.label=5;case 5:return r.gGt=e[0].yPt,[3,7];case 6:for(m=0;m<t.length;m++)for(A=t[m],p=0,_=A.IYt;p<_.length;p++)for(k=_[p],b=A.kYt.TYt(k.Av);void 0!==b&&("PEt"!==b.Av||b.yPt!==d);)yH.Xjt(AH,"Removing append for other discontinuity, expecting "+d,b),A.kYt.FUt(b),b=A.kYt.TYt(k.Av);M.label=7;case 7:return[2,!0]}}))}))()},i.oWt=function(t){return this.PGt===BN.PT||this.PGt!==BN.zT&&this.yz.FZ(t)},i.rWt=function(t){var n=this;return Ot((function(){var i,r,e,u,s;return Rt(this,(function(o){switch(o.label){case 0:return r=t.map((function(t){return t.NYt.$nt})),e=r.map((function(t){return{Nz:t}})),u=ko(t,(function(t){return t.NYt.fPt})),(i=u).push.apply(i,jt(n.kSt.Tr.LBt)),[4,XH(n.yGt.contentProtection,r,u,n.aE,n.yGt.useCredentials)];case 1:return 0===(s=o.sent()).length&&n.yz&&n.yz.wd.Iz.length>0&&(s=n.yz.wd.Iz),[2,{Av:dk.Sj,F1:e,Iz:s,t2:n.yGt.useManagedMediaSource}]}}))}))()},i.hWt=function(t,n,i){var r=this;return Ot((function(){var e,u,s,o,a,c,h;return Rt(this,(function(f){switch(f.label){case 0:if(u=r.yz,s=u.ct,!(o=r.O_.length>0&&r.U_<t))return[3,6];f.label=1;case 1:f.trys.push([1,5,,6]),yH.Xjt(AH,"Marking end of stream and waiting for ended to switch discontinuity."),u.x0(),f.label=2;case 2:return!r.Fm.G_&&r.Fm.U_<t?[4,r.Fm.k_([Al.fm,Al.Ov],i)]:[3,4];case 3:return f.sent(),[3,2];case 4:return[3,6];case 5:throw a=f.sent(),u.M0(),u.P1(s),a;case 6:yH.Xjt(AH,"Perform hard switch from",null==(e=r.yz)?void 0:e.wd,"to",n),f.label=7;case 7:return f.trys.push([7,,10,11]),r.Fm.z6(),r.U_<t&&r.Fm.JA(t,!0,!0),r.j1=void 0,r.O1=void 0,r.GVt(),[4,r.Fm.tr()];case 8:return f.sent(),[4,r.Fm.$n(n)];case 9:return r.yz=f.sent(),r.B1(),r._Tt(),r.gTt(),r.yz.D1&&(r.j1=new mJ(Gm.VA,r.yz.D1,r.LGt?r.Avt:void 0,r.xGt?r.sxt:void 0),r.j1.B0(t-1,t)),r.yz.I1&&(r.O1=new mJ(Gm.WA,r.yz.I1,r.LGt?r.Avt:void 0,r.xGt?r.sxt:void 0),r.O1.B0(t-1,t)),r.GVt(),[3,11];case 10:return o&&Xo(r.Fm.Xg()),r.Fm.B6(),[7];case 11:return r.hGt&&(c=void 0!==r.O1&&void 0===r.jGt,h=c?[r.j1,r.O1]:[r.j1],r.hGt.LYt(h)),r.jGt&&r.jGt.LYt([r.O1]),yH.Xjt(AH,"Hard switch complete."),[2]}}))}))()},i.kVt=function(t){return Yo(Zo(ko(this.mGt,(function(t){return t.IYt.map((function(t){return t.zUt()}))}))),t)},i.mSt=function(){var t=this.Rg,n=this.Cg;this.SNt===t&&this.NNt===n||(this.SNt=t,this.NNt=n,this.Co(new wk))},i.gn=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return yH.IM(_J,"Unloading the player."),t.aWt(),t.hNt(),[4,t.tr()];case 1:return n.sent(),t.Fm.Qz=void 0,t.cVt.gn(),[4,t.Rz.gn()];case 2:return n.sent(),[4,t.Avt.gn()];case 3:return n.sent(),[4,t.sxt.gn()];case 4:return n.sent(),t.YT.gn(),t.VT.gn(),t.Dl.gn(),t.uWt.gn(),t.DNt.h_(),t.KUt.h_(),t.UGt&&(t.UGt.h_(),t.UGt=void 0),[2]}}))}))()},i.tr=function(){var t=this;return Ot((function(){var n;return Rt(this,(function(i){switch(i.label){case 0:return yH.IM(_J,"Resetting the player."),t.fn(KZ.cjt,t.handleBufferingErrorEvent),t.gGt=-1,t.dE.g_(),t.L5.g_(),t.L5=new zo,t.L5.w_(t.dE.f_),t.TVt.g_(),t.TVt=new zo,t.TVt.w_(t.dE.f_),n=[t.Cvt,t.x5,t.DGt].filter(Rn),[4,q.all(n.map((function(t){return t.catch(Kn)})))];case 1:return i.sent(),t.Cvt=void 0,t.x5=void 0,t.DGt=void 0,t.rGt=void 0,t.nGt=void 0,t.vGt=void 0,t.$Gt=void 0,t.iVt=void 0,t.sVt=void 0,t.nVt=void 0,t.iVt=void 0,t.sVt=void 0,t.nVt=void 0,t.fz=void 0,t.vU.tr(),t.bVt=[],t.WGt(void 0),t.EVt(),[4,t.LVt()];case 2:return i.sent(),t.jGt&&(t.jGt.h_(),t.jGt=void 0),t.hGt&&(t.hGt.h_(),t.hGt=void 0),t.hVt&&(t.hVt.h_(),t.hVt=void 0),t.O1=void 0,t.j1=void 0,t.yz=void 0,t.kSt&&(t.kSt.h_(),t.kSt=void 0),t.BGt&&(t.Dl.sz(t.BGt.nt),t.BGt=void 0),[4,t.Rz.tr()];case 3:return i.sent(),[4,t.Avt.tr()];case 4:return i.sent(),[4,t.sxt.tr()];case 5:return i.sent(),t.Fm.Pz(),[4,t.Fm.tr()];case 6:return i.sent(),t.yGt=void 0,t.SGt=!1,t.U1=HD.oU(),t.MGt=void 0,t.TNt=void 0,t.SNt=0,t.NNt=0,t.TGt=void 0,t.SSt=!1,t.v5=!1,an.p_(t.NGt),t.rSt=!1,t.cWt=!1,t.KTt=0,t.PGt=BN.LT,t.uWt.tr(),t.lWt(),t.Co(new gD(t.U_,t.Sg)),[2]}}))}))()},i.lWt=function(){for(var t=0,n=this.YT.Rw;t<n.length;t++){n[t].gn()}for(var i=0,r=this.VT.Rw;i<r.length;i++){r[i].gn()}for(var e=0,u=this.Dl.Rw;e<u.length;e++){u[e].gn()}this.YT.tr(),this.VT.tr(),this.Dl.tr(),this.oVt.clear()},i.dWt=function(){this.uWt.yn(kJ,this.Ds),this.uWt.yn(gk.Sm,this.Vm),this.uWt.yn(gk.Tm,this.fWt),this.uWt.yn(gk.pm,this._Wt),this.wU.yn("tX",this.kNt),this.wU.yn("nX",this.LNt),this.Fm.yn(bJ,this.Ds),this.Fm.yn(Al.Nv,this.handleContentProtectionErrorEvent),this.Fm.yn(Al.Lv,this.gWt),this.Fm.yn(Al.Ov,this.Mh),this.Fm.yn(Al.Sh,this.dOt),this.Fm.yn(Al.jh,this.wWt),this.Fm.yn(Al.Zv,this.vWt),this.Fm.yn(gk.Nw,this.Yj),this.Fm.yn(Al.fm,this.J4),this.Fm.yn(Al.im,this.We),this.Fm.yn(Al.$v,this.Vz),this.Fm.yn(Al.Jv,this.mWt),this.Fm.yn(Al._m,this.pWt)},i.aWt=function(){this.uWt.fn(kJ,this.Ds),this.uWt.fn(gk.Sm,this.Vm),this.uWt.fn(gk.Tm,this.fWt),this.uWt.fn(gk.pm,this._Wt),this.wU.fn("tX",this.kNt),this.wU.fn("nX",this.LNt),this.Fm.fn(bJ,this.Ds),this.Fm.fn(Al.Nv,this.handleContentProtectionErrorEvent),this.Fm.fn(Al.Lv,this.gWt),this.Fm.fn(Al.Ov,this.Mh),this.Fm.fn(Al.Sh,this.dOt),this.Fm.fn(Al.jh,this.wWt),this.Fm.fn(Al.Zv,this.vWt),this.Fm.fn(gk.Nw,this.Yj),this.Fm.fn(Al.fm,this.J4),this.Fm.fn(Al.im,this.We),this.Fm.fn(Al.$v,this.Vz),this.Fm.fn(Al.Jv,this.mWt),this.Fm.fn(Al._m,this.pWt)},At(n,[{key:"Km",get:function(){var t,n=[this.nGt,this.rGt].filter(Rn);if(0!==n.length&&this.ct===1/0){var i,r=null==(t=this.R_)?void 0:t.getTime();if(r)return(Date.now()-r)/1e3;for(var e=0;e<n.length;e++){var u=n[e],s=u.djt.Ig;if(0!==s.U){var o=s.jn(s.U-1)+u.djt.nbt,a=u.djt.Pzt,c=o+(null!=a?a:0)-this.U_;(!i||i<c)&&(i=c)}}return i}}},{key:"_Gt",get:function(){for(var t=[this.rGt,this.nGt].filter(Rn),n=0;n<t.length;n++){var i=t[n];if(!i.djt.bPt)return!1;var r=i.djt.jnt,e=r[r.length-1];if(e&&e.yPt!==this.gGt)return!1}return!0}},{key:"bjt",get:function(){return this.uGt}},{key:"Pjt",get:function(){return this.rGt}},{key:"Bjt",get:function(){return this.nGt}},{key:"wGt",get:function(){return this.vGt}},{key:"ht",get:function(){return this.YT}},{key:"O_",get:function(){return this.Fm.O_.ks()}},{key:"Njt",get:function(){var t=[];if(this.uGt)for(var n=this.Fm.U_,i=0,r=this.mGt;i<r.length;i++)for(var e=0,u=r[i].IYt;e<u.length;e++){var s=u[e].QUt(n);s&&!mo(t,s)&&t.push(s)}return t}},{key:"R_",get:function(){if(this.uGt){var t=this.Fm.U_;return this.uGt.RPt(t)}},set:function(t){if(t&&this.uGt){var n=this.uGt.PPt(t);void 0!==n&&this.F_(n,{pGt:!1,AGt:!0})}}},{key:"bt",get:function(){return this.yGt}},{key:"U_",get:function(){var t;return null!=(t=this.MGt)?t:this.Fm.U_},set:function(t){this.F_(t)}},{key:"ct",get:function(){var t,n,i,r,e,u,s;if(!this._Gt)return null!=(s=null!=(u=null!=(e=null==(t=this.rGt)?void 0:t.djt.ct)?e:null==(n=this.nGt)?void 0:n.djt.ct)?u:null==(r=this.kSt)||null==(i=r.tUt)?void 0:i.djt.ct)?s:[this.rGt,this.nGt].filter(Rn).every((function(t){return function(t){if(void 0===t)return!1;return t.djt.jnt.length>0&&!t.djt.bPt}(t)}))?1/0:NaN;var o=this.Fm.ct;if(A(o)){var a,c,h=null==(c=this.kSt)||null==(a=c.tUt)?void 0:a.djt.ct;if(void 0!==h)return h}return o}},{key:"G_",get:function(){if(!this._Gt)return!1;if(this.Eg&&this.SGt){var t,n,i=this.U_,r=null==(t=this.rGt)?void 0:t.djt.ct,e=null==(n=this.nGt)?void 0:n.djt.ct;return!(void 0!==r&&i<r)&&!(void 0!==e&&i<e)}return this.Fm.G_}},{key:"lt",get:function(){return this.vz}},{key:"H_",get:function(){return this.mz}},{key:"Z_",get:function(){}},{key:"K_",get:function(){return!1}},{key:"eg",get:function(){return $u({},{HT:0,XT:0,ZT:0,qT:0,KT:0,JT:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.Fm.rg(),{KT:this.KTt,qT:this.wU.VH.GP})}},{key:"Tr",get:function(){var t;return null==(t=this.kSt)?void 0:t.Tr}},{key:"og",get:function(){return this.Fm.og},set:function(t){this.Fm.og=t}},{key:"cg",get:function(){return this.KMt},set:function(t){this.KMt!==t&&(this.KMt=t,this.Co(t?new aV:new cV))}},{key:"fg",get:function(){return this.Fm.fg}},{key:"gg",get:function(){return this.Fm.gg},set:function(t){yH.IM(_J,"Setting playback rate to "+t+"."),this.Fm.gg=t}},{key:"pg",get:function(){return this.eSt.ks()}},{key:"eSt",get:function(){return this.Fm.pg}},{key:"yg",get:function(){return this.Az},set:function(t){this.Az!==t&&(this.Az=t,this.kGt())}},{key:"Sg",get:function(){var t=this.Fm.Sg;return this.rSt&&(t=w.max(mk.Xn,t)),t}},{key:"Ig",get:function(){return this.ZTt.ks()}},{key:"ZTt",get:function(){var t=this.U1,n=[this.rGt,this.nGt].filter(Rn);if(t.U>0&&n.some((function(t){return!t.djt.bPt}))){var i=this.eSt,r=t.jn(t.U-1);if(i.U>0&&i.jn(i.U-1)>r){var e=i.jn(i.U-1),u=IJ(n);u.U>0&&(e=w.min(e,u.jn(u.U-1))),t=t.YB(new HD([r,e]))}}return t}},{key:"Eg",get:function(){var t;return null!=(t=this.TGt)?t:this.Fm.Eg}},{key:"Mz",get:function(){}},{key:"nt",get:function(){return this.Dl}},{key:"rt",get:function(){return this.VT}},{key:"Cg",get:function(){var t,n;return this.Fm.Cg||(null==(n=this.uGt)||null==(t=n.akt)?void 0:t.Ti)||0}},{key:"Rg",get:function(){var t,n;return this.Fm.Rg||(null==(n=this.uGt)||null==(t=n.akt)?void 0:t.ji)||0}},{key:"zg",get:function(){return this.Fm.zg},set:function(t){yH.IM(_J,"Setting volume to "+t+"."),this.Fm.zg=t}},{key:"Qg",get:function(){return this.vU}},{key:"Yg",get:function(){return!1},set:function(t){}},{key:"Tz",get:function(){return this.Sz}},{key:"OGt",get:function(){var t,n,i=null==(t=this.jGt)?void 0:t.OYt,r=null==(n=this.hGt)?void 0:n.OYt;return i?r?r.Sn(i):i:r}},{key:"mGt",get:function(){return[this.jGt,this.hGt,this.hVt].filter(Rn)}}]),n}($o),NJ=function(){function t(){}var n=t.prototype;return n.hB=function(t,n){var i=this;return Ot((function(){var n;return Rt(this,(function(r){switch(r.label){case 0:return JN(t.type)?t.useNativePlayback?[2,!1]:!(n=t.contentProtection)||ab(n)?[3,2]:fb(n)?[4,i.dnt(n)]:[2,!1]:[2,!1];case 1:if(!r.sent())return[2,!1];r.label=2;case 2:return[2,!0]}}))}))()},n.dnt=function(t){return Ot((function(){var n,i,r;return Rt(this,(function(e){switch(e.label){case 0:return t.aes128?[2,!0]:(n=t.playready)?[4,an.AO()]:[3,2];case 1:n=e.sent(),e.label=2;case 2:return n?[2,!0]:(i=t.widevine)?[4,an.vO()]:[3,4];case 3:i=e.sent(),e.label=4;case 4:return i?[2,!0]:(r=t.clearkey)?[4,an.pO()]:[3,6];case 5:r=e.sent(),e.label=6;case 6:return r?[2,!0]:t.fairplay?[2,!1]:[4,an.IO()];case 7:return[2,e.sent()]}}))}))()},t}(),DJ=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).Qo=n,r}return bt(n,t),n.prototype.CNt=function(){this.Co(new Ak(this.U_,this.Sg))},At(n,[{key:"Sg",get:function(){return this.Qo.Sg}}]),n}(Ik);function IJ(t){return t.reduce((function(t,n){return t.Sn(n.djt.Mzt)}),new HD([0,1/0]))}function EJ(t){var n=co(t,(function(t){return t.fjt})),i=t.filter((function(t){return t._jt})),r=an.$et,e=i.map((function(t){return t.gs})).filter(Rn),u=aJ(e,r);return u?co(i,(function(t){return t.gs===u})):n}function SJ(t,n,i,r){void 0===r&&(r=DD.maximumBackoff);var e=function(t,n){if(void 0===n)return t;var i=n.preferredVideoCodecs,r=n.preferredAudioCodecs;if(void 0!==i){for(var e,u=function(n){var u=i[n],s=t.filter((function(t){return t.$nt&&t.$nt.Akt&&qj(t.$nt.Akt,u)}));if(0===s.length)return"continue";if(void 0===r)return{v:s};void 0===e&&(e=s);var o=LJ(s,r);return void 0!==o?{v:o}:void 0},s=0;s<i.length;s++){var o=u(s);if("object"===x(o))return o.v}if(void 0!==e)return e}if(void 0!==r){var a=LJ(t,r);if(void 0!==a)return a}return t}(t,n),u=CJ(e,r);switch(i.sX.type){case GS.BANDWIDTH:var s=i.aX,o=u.filter((function(t){return t.GP<=s}));if(o.length>0)return Mo(o,(function(t){return t.GP}));case GS.PERFORMANCE:return bo(u,(function(t){return t.GP}));case GS.QUALITY:return Mo(u,(function(t){return t.GP}))}}function LJ(t,n){for(var i=function(i){var r=n[i],e=t.filter((function(t){return t.$nt&&t.$nt.mkt&&qj(t.$nt.mkt,r)}));return 0===e.length?"continue":{v:e}},r=0;r<n.length;r++){var e=i(r);if("object"===x(e))return e.v}}function jJ(t){var n;return null!=(n=EJ(t))?n:t[0]}function CJ(t,n){return t.filter((function(t){return xJ(t,n)}))}function xJ(t,n){var i=n+MJ,r=0===t.$jt.length||t.$jt.some((function(t){return t.djt.Uzt<an.m_()-i})),e=0===t.Jjt.length||t.Jjt.some((function(t){return t.djt.Uzt<an.m_()-i}));return r&&e}function OJ(t,n){if(!n||n.djt.bPt)return!1;var i=n.djt.jnt;return 0!==i.length&&i[0].MS>t}yt(),C(),yt(),C(),zt(),Ut();var zJ=function(){function t(){}var n=t.prototype;return n.ZUt=function(t,n,i){return Ot((function(){var r,e;return Rt(this,(function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),[4,crypto.subtle.importKey("raw",n,{name:"AES-CBC"},!1,["decrypt"])];case 1:return r=u.sent(),[4,crypto.subtle.decrypt({name:"AES-CBC",iv:i},r,t)];case 2:return e=u.sent(),[2,new p(e)];case 3:throw u.sent(),new Kv(Xv.CONTENT_PROTECTION_INTERNAL_ERROR,"Error during AES128 decrypt.");case 4:return[2]}}))}))()},n.h_=function(){},t.LO=function(){return"undefined"!=typeof crypto&&void 0!==crypto.subtle&&void 0!==crypto.subtle.decrypt},t}();yt(),C(),yt(),C(),zt(),Ut(),yt(),C(),pt(),Mt(),yt(),C(),Mt();var RJ=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).data=i,r}return bt(n,t),n}(ra),BJ=["message","messageerror","error"];yt(),C(),Mt();var PJ=function(t){function n(n){var i;return(i=t.call(this,p_.ha)||this).error=n,i}return bt(n,t),n}(ra),UJ=function(t){function n(n){var i;return(i=t.call(this)||this).SWt=void 0,i.NWt=[],i.EWt=function(t){if(i.MWt)t.DWt();else{i.SWt=t,i.SWt.yn(BJ,i.Ds);for(var n=0,r=i.NWt;n<r.length;n++){var e=r[n];t.TWt(e.pL,e.IWt)}po(i.NWt)}},i.kWt=function(t){if(!i.MWt){var n=t instanceof v?t:new v("Could not create Worker.");i.Co(new PJ(n)),i.DWt()}},i.bWt=new zo,n(i.bWt.f_).then(i.EWt,i.kWt),i}bt(n,t);var i=n.prototype;return i.TWt=function(t,n){this.MWt||(void 0!==this.SWt?this.SWt.TWt(t,n):this.NWt.push({pL:t,IWt:n}))},i.DWt=function(){this.MWt||(this.bWt.g_(),po(this.NWt),void 0!==this.SWt&&this.SWt.DWt())},At(n,[{key:"MWt",get:function(){return this.bWt.f_.n_}}]),n}($o);yt(),C(),yt(),C(),Mt();var QJ=function(t){function n(n,i){var r;return(r=t.call(this)||this).LWt=function(t){r.Co(new RJ("message",t.data))},r.xWt=function(t){r.Co(new RJ("messageerror",t.data))},r.L6=function(t){null==t.preventDefault||t.preventDefault.call(t);var n=t.error instanceof v?t.error:new v(t.message);r.Co(new PJ(n)),r.DWt()},r.SWt=new _(n,i),r.SWt.addEventListener("message",r.LWt),r.SWt.addEventListener("messageerror",r.xWt),r.SWt.addEventListener("error",r.L6),r}bt(n,t);var i=n.prototype;return i.TWt=function(t,n){n?this.SWt.postMessage(t,n):this.SWt.postMessage(t)},i.DWt=function(){this.Vo(),this.SWt.removeEventListener("message",this.LWt),this.SWt.removeEventListener("messageerror",this.xWt),this.SWt.removeEventListener("error",this.L6),this.SWt.terminate()},n}($o);yt(),C(),Mt();var YJ=0,FJ=function(t){function n(n,i){var r;(r=t.call(this)||this).OWt=function(){r.CWt.removeEventListener("load",r.OWt),r.CWt.contentWindow.postMessage({type:"initialize",id:r.uS,script:r.RWt},"*")},r.jWt=function(t){t.origin===r.PWt&&t.data.id===r.uS&&("initialized"===t.data.type||("error"===t.data.type?(r.Co(new PJ(new v(t.data.data.message))),r.DWt()):r.Co(new RJ("message",t.data.data))))},r.uS=YJ++,r.RWt=n;var e=an.Dh("iframe.html",i);return r.CWt=function(t){var n=u.createElement("iframe");return n.width="0",n.height="0",n.style.display="none",n.role="",n.src=t,u.body.appendChild(n),n}(e.href),r.PWt=e.origin,r.CWt.addEventListener("load",r.OWt),self.addEventListener("message",r.jWt),r}bt(n,t);var i=n.prototype;return i.TWt=function(t,n){n?this.CWt.contentWindow.postMessage({type:"message",data:t},"*",n):this.CWt.contentWindow.postMessage({type:"message",data:t},"*")},i.DWt=function(){var t;this.CWt.removeEventListener("load",this.OWt),self.removeEventListener("message",this.jWt),null==(t=this.CWt.contentWindow)||t.postMessage({type:"terminate"},"*"),cu(this.CWt)},n}($o);function GJ(t,n,i){var r=an.wp(t,n);return new UJ((function(t){return function(t,n,i,r){return ZJ.apply(this,arguments)}(r,n,i,t)}))}var VJ,WJ,XJ=!0;function ZJ(){return ZJ=Ot((function(t,n,i,r){var e,u,s,o,a,c,h;return Rt(this,(function(f){switch(f.label){case 0:return f.trys.push([0,2,,3]),[4,HJ(e=new QJ(t,i),r)];case 1:return f.sent(),[2,e];case 2:return u=f.sent(),null==e||e.DWt(),Uo(u),[3,3];case 3:if(!XJ||!yl)return[3,13];f.label=4;case 4:return f.trys.push([4,7,,8]),[4,an.Hj.uD({zu:t,ZD:Jw.GET,qD:pl.Ru,f_:r})];case 5:return[4,f.sent().uE(r)];case 6:return s=f.sent(),[3,8];case 7:return Uo(f.sent()),[3,8];case 8:if(!s)return[3,13];f.label=9;case 9:return f.trys.push([9,11,12,13]),a=yl([s],{type:"application/javascript"}),o=URL.createObjectURL(a),[4,HJ(e=new QJ(o,i),r)];case 10:return f.sent(),[2,e];case 11:return c=f.sent(),null==e||e.DWt(),Uo(c),XJ=!1,[3,13];case 12:return o&&URL.revokeObjectURL(o),[7];case 13:return f.trys.push([13,15,,16]),[4,HJ(e=new FJ(t,n),r)];case 14:return f.sent(),[2,e];case 15:throw h=f.sent(),null==e||e.DWt(),h;case 16:return[2]}}))})),ZJ.apply(this,arguments)}function HJ(t,n){return KJ.apply(this,arguments)}function KJ(){return KJ=Ot((function(t,n){var i;return Rt(this,(function(r){switch(r.label){case 0:return[4,t.k_(["message","error"],n)];case 1:if("error"===(i=r.sent()).type)throw function(t){return new Kv(Xv.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check the configuration of the libraryLocation.",t)}(i.error);if(!function(t){return Yn(t)&&"8.3.0"===t.zWt}(i.data))throw new Kv(Xv.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check that the worker's version matches THEOplayer's version (8.3.0).");return[2,i]}}))})),KJ.apply(this,arguments)}yt(),C(),function(t){t.BWt="ZUt",t.UWt="yQt"}(VJ||(VJ={})),function(t){t.QWt="FWt",t.YWt="GWt"}(WJ||(WJ={}));var qJ=function(){function t(t){var n=this;this.SWt=void 0,this.qWt=0,this.eHt=ns(),this.XWt=function(t){var i=t.data,r=i.sHt,e=n.eHt.get(r);if(e)if(n.eHt.delete(r),i.nHt===WJ.QWt)e.LL(i.rHt);else if(i.nHt===WJ.YWt){var u=i.oHt,s=i.hHt?new v(i.hHt):void 0,o=new Kv(Xv.CONTENT_PROTECTION_INTERNAL_ERROR,"Error during AES128 decrypt. (code: "+u+")",s);e.xL(o)}},this.ZWt=function(t){var i=new Kv(Xv.CONTENT_PROTECTION_INTERNAL_ERROR,t.error.message,t.error);n.h_(i)},this.HWt=t;try{this.WWt=an.wp("theoplayer.d.js",t)}catch(t){throw new Kv(Xv.CONFIGURATION_ERROR,"Invalid player configuration: missing libraryLocation",t)}}var n=t.prototype;return n.VWt=function(){var t=GJ(this.WWt,this.HWt,{name:"THEOplayer decrypt worker"});return t.yn("message",this.XWt),t.yn("error",this.ZWt),t},n.ZUt=function(t,n,i){var r=""+ ++this.qWt,e={KWt:VJ.BWt,JWt:r,$Wt:t,tHt:n,iHt:i},u=new Bc;return this.eHt.set(r,u),null!=this.SWt||(this.SWt=this.VWt()),this.SWt.TWt(e),u.OL},n.h_=function(t){void 0===t&&(t=new Ro),this.eHt.forEach((function(n){return n.xL(t)})),this.eHt.clear(),this.SWt&&(this.SWt.DWt(),this.SWt=void 0)},t}();function JJ(t){return zJ.LO()?new zJ:new qJ(t)}function $J(t){var n=co(t.boxes,JL);if(n){var i=co(n.boxes,$L);if(i)return i.handlerType}}function t$(t){var n,i=new dv;return(n=i.boxes).push.apply(n,jt(t.boxes)),i}function n$(t){var n,i=new Df;return(n=i.boxes).push.apply(n,jt(t.boxes)),i}yt(),C(),Mt(),yt(),C(),zt(),Mt(),Ut(),yt(),C(),zt(),Mt(),Ut(),yt(),C(),Ct();var i$=8;function r$(t,n){for(var i=function(t){var n,i=new Pf;return(n=i.boxes).push.apply(n,jt(t.boxes)),i}(t),r=u$(n),e=0;e<i.boxes.length;e++){var u=i.boxes[e];if(u===n)i.boxes[e]=new Jh(new p(n.getSize()-i$));else if(tj(u)){var s=u,o=vo(s.boxes,(function(t){return t instanceof Tf&&t.trackId===r}));if(o>=0){var a=s.boxes[o],c=n$(s);c.boxes[o]=new Jh(new p(a.getSize()-i$)),i.boxes[e]=c}}}return i}function e$(t,n){for(var i=function(t){var n,i=new qf;return(n=i.boxes).push.apply(n,jt(t.boxes)),i}(t),r=0;r<i.boxes.length;r++){var e=i.boxes[r];if(rj(e)){var u=co(e.boxes,ej);u&&u.trackId===n&&(i.boxes[r]=new Jh(new p(e.getSize()-i$)))}}return i}function u$(t){return co(t.boxes,qL).trackId}function s$(t,n,i,r){for(var e=co(t.boxes,ej),u=i.ZN(n).NN(),s=Oi.ZERO,o=0,a=t.boxes;o<a.length;o++){var c=a[o];if(c instanceof Ff){s=zi(c.baseMediaDecodeTime,u),c.baseMediaDecodeTime=c.baseMediaDecodeTime.subtract(s);break}if(c instanceof Yf){s=zi(Oi.fromNumber(c.baseMediaDecodeTime),u),c.baseMediaDecodeTime-=s.toNumber();break}}if(!s.isZero()){var h=co(t.boxes,uj);if(void 0!==h&&h.samples.length>0){var f=h.samples;if(!h.flags.sampleDurationPresent){h.flags.sampleDurationPresent=!0;for(var v=null!=r?r:e.defaultSampleDuration,l=0;l<f.length;l++){f[l].duration=v}}f[0].duration+=s.toNumber(),h.samples=f}}}yt(),C();var o$="Mp4Transmuxer",a$=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).K$=void 0,n.aHt=void 0,n.dHt=void 0,n.fHt=void 0,n.lHt=void 0,n}bt(n,t);var i=n.prototype;return i.vYt=function(t,n){Po(n);var i=t.Mjt,r=zj(Ic(t.mPt.ly.ly));if(!r)throw new v("Mp4Transmuxer - Unable to parse "+i.Av+" MP4 initializer.");this.K$=r;var e=function(t){for(var n,i,r=0,e=t.Z;r<e.length;r++){var u=e[r];n||(n=u.ZJ),i||(i=u.XJ)}if(n||i)return{mkt:n,Akt:i,IRt:void 0};return}(r);e&&this.AYt(i,e);var u=function(t){for(var n=0,i=t.Z;n<i.length;n++){var r=i[n];if(void 0!==r.qJ)return r.qJ}return}(r);void 0!==u&&this.yYt(i,u);var s=function(t){var n,i,r,e,u,s=pv(t),o=co(s.boxes,HL),a=o.boxes.filter(KL),c=co(a,(function(t){return $J(t)===cf.AUDIO})),h=co(a,(function(t){return $J(t)===cf.VIDEO})),f={mkt:{AM:c?u$(c):void 0},Akt:{AM:h?u$(h):void 0}},v=null==(n=co(o.boxes,tj))?void 0:n.boxes.filter(nj),l=v?{mkt:null!=(i=co(v,(function(t){return t.trackId===f.mkt.AM})))?i:void 0,Akt:null!=(r=co(v,(function(t){return t.trackId===f.Akt.AM})))?r:void 0}:void 0;if(l&&(f.mkt.Vb=null==(e=l.mkt)?void 0:e.defaultSampleDuration,f.Akt.Vb=null==(u=l.Akt)?void 0:u.defaultSampleDuration),!c||!h)return{mkt:c?t:void 0,Akt:h?t:void 0,kI:f};var d=t$(s),g=t$(s),w=s.boxes.indexOf(o);d.boxes[w]=r$(o,h),g.boxes[w]=r$(o,c);var y=d.serialize().join(),m=g.serialize().join();return{mkt:y,Akt:m,kI:f}}(t.mPt.ly.ly);if(this.aHt=s.kI,s.Akt){var o=co(r.Z,(function(t){return t.AM===s.kI.Akt.AM})),a={Av:"PEt",ly:{Av:CL.jZ,ly:s.Akt},Zht:Gm.VA,yPt:t.yPt,NYt:{$nt:'video/mp4; codecs="'+o.XJ+'"',fPt:t.fPt},MS:t.MS,Mjt:t.Mjt,VUt:t.mPt.VUt};this.BFt(a)}if(s.mkt){var c=co(r.Z,(function(t){return t.AM===s.kI.mkt.AM})),h={Av:"PEt",ly:{Av:CL.jZ,ly:s.mkt},Zht:Gm.WA,yPt:t.yPt,NYt:{$nt:'audio/mp4; codecs="'+c.ZJ+'"',fPt:t.fPt},MS:t.MS,Mjt:t.Mjt,VUt:t.mPt.VUt};this.BFt(h)}return q.resolve()},i.pYt=function(t,n){var i=this;return Ot((function(){var r,e,u,s,o,a,c,h,f,v,l,d,g,w,y,m,A,p,_,k,b,M,T;return Rt(this,(function(N){switch(N.label){case 0:if(Po(n),r=t.nut.VUt,yH.IM(o$,"Transmuxing fMP4: "+YH(r.Jpt)),e=t.nut.ly,u=c$(e.ly,i.K$),void 0!==(s=To(u.map((function(t){return t.Q7})),sp))&&(r.F7=s,i.bYt(t.Mjt)),i.OBt.aBt(t.yPt))return[3,2];if(o=up.$N(r.MS),u.length>0){for(a=To(u.map((function(t){return t.uHt})),sp),c=0,h=i.cYt;c<h.length;c++)f=h[c],i.OBt.ABt(t.yPt,f,a,o,h$(r),!1);i.bYt(t.Mjt)}return i.OBt.aBt(t.yPt)?[3,2]:[4,Yo(i.OBt.cBt(t.yPt),n)];case 1:N.sent(),N.label=2;case 2:return v=i.OBt.wBt(t.yPt),l=r.F7?i.OBt.vBt(r.F7,r).JS():r.MS,d=Hq(r,l),g=Kq(r,d),y={KFt:d,JFt:g,MS:l,ct:null!=(w=r.ct)?w:0,pI:v.JS(),yPt:t.yPt,Mjt:t.Mjt,VUt:t.nut.VUt},m=function(t,n){if(void 0===n.mkt.AM)return{mkt:void 0,Akt:t};if(void 0===n.Akt.AM)return{mkt:t,Akt:void 0};for(var i=pv(t),r=t$(i),e=t$(i),u=0;u<i.boxes.length;u++){var s=i.boxes[u];ij(s)&&(r.boxes[u]=e$(s,n.Akt.AM),e.boxes[u]=e$(s,n.mkt.AM))}var o=r.serialize().join(),a=e.serialize().join();return{mkt:o,Akt:a}}(e.ly,i.aHt),m.Akt&&(p=i.aHt.Akt.AM,_=co(i.K$.Z,(function(t){return t.AM===p})),k=co(u,(function(t){return t.AM===p})),b=i.cHt(m.Akt,_,k,null==(A=i.aHt)?void 0:A.Akt.Vb,r),i.lHt=_,i.MYt(t.Mjt,r,k.Q7.uN(s)),M=$u({Av:"nut",ly:{Av:CL.jZ,ly:b},Zht:Gm.VA},y),i.BFt(M)),m.mkt&&(T=$u({Av:"nut",ly:{Av:CL.jZ,ly:m.mkt},Zht:Gm.WA},y),i.BFt(T)),i.dHt=r,i.fHt=u,[2]}}))}))()},i.cHt=function(t,n,i,r,e){if(!h$(e))return t;if(!this.dHt||!this.lHt||!this.fHt)return t;var u=this.lHt.AM,s=co(this.fHt,(function(t){return t.AM===u})),o=this.OBt.vBt(s._Ht,this.dHt),a=this.OBt.vBt(i.Q7,e).uN(o).ZN(n.cM);if(a.sN(up.wN))return t;if(a.$S(up.$N(.5)))return t;var c=ZK(e)?e:e.WPt;return yH.Xjt(o$,"Stretching first video frame of segment #"+c.$Rt+" to fill gap of "+a.JS()+"s"),function(t,n,i,r){var e=pv(t),u=co(e.boxes,ij);if(u){for(var s=u.getSize(),o=0,a=u.boxes;o<a.length;o++){var c=a[o];c instanceof Hf&&s$(c,n,i,r)}var h=u.getSize();if(h!==s)for(var f=h-s,v=0,l=u.boxes;v<l.length;v++){var d=l[v];d instanceof Hf&&sj(d,f)}}return e.serialize().join()}(t,n.cM,a,r)},n}(Zq);function c$(t,n){var i=e_(f_.Wy(Ic(t)),vp.kA);if(!i)throw new v("Mp4Transmuxer - Unable to parse segment or part.");return function(t,n){for(var i=function(t,i){var e=i[t];if(!e.eT||0===e.iT.length||0===e.iT[0].aT.length)return"continue";for(var u=e.zy.AM,s=co(n.Z,(function(t){return t.AM===u})),o=0,a=1/0,c=0,h=e.zy.Vb||0,f=0,v=e.iT;f<v.length;f++)for(var l=0,d=v[f].aT;l<d.length;l++){var g,w=d[l],y=w.uT||0,m=o+y,A=(o+=null!=(g=w.ct)?g:h)+y;m<a&&(a=m),A>c&&(c=A)}var p=up.fN(e.eT.eT,s.cM);r.push({AM:u,uHt:p,Q7:p.nS(up._N(a,s.cM)),gHt:p.nS(up._N(o,s.cM)),_Ht:p.nS(up._N(c,s.cM))})},r=[],e=0,u=t.Z;e<u.length;e++)i(e,u);return r}(i,n)}function h$(t){return ZK(t)?t.vPt:0===t.XPt&&t.WPt.vPt}var f$,v$="MpegtsTransmuxer",l$=function(t){function n(n,i,r,e){var u;return(u=t.call(this,i,r,e)||this).MHt=void 0,u.THt=void 0,u.NHt=void 0,u.DHt=void 0,u.SHt=-1,u.IHt=-1,u.pHt=void 0,u.AHt=is(),u.ast=n,u}bt(n,t);var i=n.prototype;return i.vYt=function(n,i){return t.prototype.vYt.call(this,n,i)},i._Yt=function(n,i){if(t.prototype._Yt.call(this,n,i),!this.ast.wHt()){var r,e=null!=(r=null==i?void 0:i.Jpt)?r:n.Jpt;if(e)/\.(ts|aac|mp3)/i.test(e.lT)&&this.ast.vHt()}},i.mHt=function(t){var n;return t.Mjt===this.pHt&&this.AHt.has(t.yPt)?n=this.AHt.get(t.yPt):(n=wJ(t.nut.ly.ly),this.pHt=t.Mjt,this.AHt.set(t.yPt,n)),n},i.pYt=function(n,i){var r=this;return Ot((function(){var e,u,s,o,a,c,h,f,v,l,d,g,w,y,m,A,p,_,k,b,M,T,N,D,I,E,S,L,j,C,x,O,z;return Rt(this,(function(R){switch(R.label){case 0:if(Po(i),e=r.mHt(n),u=n.nut,e!==hJ.$Yt&&e!==hJ.tGt)return[2,t.prototype.pYt.call(r,n,i)];if(u.VUt.fPt.some(g$))throw new Kv(Xv.CONTENT_PROTECTION_NOT_SUPPORTED,"SAMPLE-AES encryption is not supported for MPEG-TS or Packed Audio segments");return s=r.ast.vHt(),e!==hJ.$Yt?[3,2]:(yH.IM(v$,"Transmuxing MPEG-TS: "+YH(u.VUt.Jpt)),[4,s.yHt({data:u.ly.ly,metadata:r.MHt})]);case 1:return o=R.sent(),[3,4];case 2:return yH.IM(v$,"Transmuxing raw audio: "+YH(u.VUt.Jpt)),[4,s.bHt({data:u.ly.ly,metadata:r.MHt})];case 3:o=R.sent(),R.label=4;case 4:if(Po(i),r.AYt(n.Mjt,{mkt:o.metadata.audio_codec,Akt:o.metadata.video_codec,IRt:void 0}),o.metadata.video_frame_rate&&r.yYt(n.Mjt,o.metadata.video_frame_rate),a=w$(o.metadata.first_decode_timestamp),c=w$(o.metadata.first_presentation_timestamp),h=void 0!==o.metadata.first_video_presentation_timestamp?w$(o.metadata.first_video_presentation_timestamp):void 0,u.VUt.F7=c,r.bYt(n.Mjt),void 0!==h&&r.MYt(n.Mjt,u.VUt,function(t,n){var i=t.uN(n);return i.rN(up.wN)&&(i=i.nS(hp())),i}(h,c)),r.OBt.aBt(n.yPt))return[3,6];for(f=up.$N(u.VUt.MS),v=0,l=r.cYt;v<l.length;v++)d=l[v],r.OBt.ABt(n.yPt,d,a,f,h$(u.VUt),!0);return r.bYt(n.Mjt),r.OBt.aBt(n.yPt)?[3,6]:[4,Yo(r.OBt.cBt(n.yPt),i)];case 5:R.sent(),R.label=6;case 6:if(g=r.OBt.pBt(a,u.VUt),r.MHt=o.metadata,w=r.OBt.vBt(c,u.VUt).JS(),y=Hq(u.VUt,w),m=Kq(u.VUt,y),p={KFt:y,JFt:m,MS:w,ct:null!=(A=u.VUt.ct)?A:0,pI:g.JS(),yPt:n.yPt,Mjt:n.Mjt,VUt:u.VUt},void 0===o.data.audio_media&&void 0===o.data.video_media){for(_=0,k=r.cYt;_<k.length;_++)b=k[_],M=$u({Av:"nut",ly:void 0,Zht:b},p),r.BFt(M);return[2]}return T=[],void 0!==o.data.audio_media?(!o.data.audio_init||r.THt&&r.SHt===n.yPt&&Na(r.THt,o.data.audio_init)||(N=r.OBt.vBt(u.VUt.F7,u.VUt).JS(),D={Av:"PEt",ly:{Av:CL.jZ,ly:o.data.audio_init},Zht:Gm.WA,yPt:n.yPt,NYt:{$nt:'audio/mp4; codecs="'+o.metadata.audio_codec+'"',fPt:u.VUt.fPt},MS:N,Mjt:n.Mjt,VUt:u.VUt},r.THt=o.data.audio_init,r.SHt=n.yPt,r.BFt(D)),I=$u({Av:"nut",ly:{Av:CL.jZ,ly:o.data.audio_media},Zht:Gm.WA},p),r.BFt(I)):n.nut.VUt.GPt&&mo(r.cYt,Gm.WA)&&(E=$u({Av:"nut",ly:void 0,Zht:Gm.WA},p),r.BFt(E)),void 0!==o.data.video_media?(!o.data.video_init||r.NHt&&r.IHt===n.yPt&&Na(r.NHt,o.data.video_init)||(S=r.OBt.vBt(u.VUt.F7,u.VUt).JS(),L={Av:"PEt",ly:{Av:CL.jZ,ly:o.data.video_init},Zht:Gm.VA,yPt:n.yPt,NYt:{$nt:'video/mp4; codecs="'+o.metadata.video_codec+'"',fPt:u.VUt.fPt},MS:S,Mjt:n.Mjt,VUt:u.VUt},r.NHt=o.data.video_init,r.IHt=n.yPt,r.DHt=zj(Ic(o.data.video_init)),r.BFt(L)),j=r.DHt.Z[0],C=c$(o.data.video_media,r.DHt)[0],x=r.cHt(o.data.video_media,j,C,void 0,u.VUt),r.lHt=j,O=$u({Av:"nut",ly:{Av:CL.jZ,ly:x},Zht:Gm.VA},p),r.BFt(O),T.push(C)):n.nut.VUt.GPt&&mo(r.cYt,Gm.VA)&&(z=$u({Av:"nut",ly:void 0,Zht:Gm.VA},p),r.BFt(z)),r.dHt=u.VUt,r.fHt=T,[2]}}))}))()},i.g_=function(){this.THt=void 0,this.NHt=void 0,this.SHt=-1,this.IHt=-1,t.prototype.g_.call(this)},n}(a$),d$=function(){function t(){}return t.prototype.Qbt=function(t,n,i){return new l$(this,t,n,i)},t}();function g$(t){return t.ZD===OH.ERt}function w$(t){return up.fN(Oi.fromBits(t.low,t.high),t.base)}yt(),C(),yt(),C(),function(t){t[t.MPEGTS_TO_FMP4=0]="MPEGTS_TO_FMP4",t[t.RAW_AUDIO_TO_FMP4=1]="RAW_AUDIO_TO_FMP4"}(f$||(f$={}));var y$=function(){var t=function(){if("undefined"==typeof WebAssembly)return!1;var t=xn.hk;if(t>0&&t<=56)return!1;try{return void 0!==new WebAssembly.Module(ma("AGFzbQEAAAA="))}catch(t){return!1}}();return y$=function(){return t},t};var m$=function(){function t(t){var n=this;this.qWt=0,this.eHt=is(),this.XWt=function(t){var i=t.data;if(void 0!==i.requestId){var r=n.eHt.get(i.requestId);if(!r)return;n.eHt.delete(i.requestId),i.success?r.LL(i.output):r.xL(new Kv(i.errorCode,i.error))}else i.success||n.h_(new Kv(i.errorCode,i.error))},this.ZWt=function(t){var i=new Kv(Xv.MEDIA_DECODE_ERROR,t.error.message,t.error);n.h_(i)},this.HWt=t;var i=y$()?"THEOplayer.transmux.js":"THEOplayer.transmux.asmjs.js";try{this.WWt=an.wp(i,t)}catch(t){throw new Kv(Xv.CONFIGURATION_ERROR,"Invalid player configuration: missing libraryLocation",t)}this.SWt=this.VWt()}var n=t.prototype;return n.yHt=function(t){return this.EHt(f$.MPEGTS_TO_FMP4,t)},n.bHt=function(t){return this.EHt(f$.RAW_AUDIO_TO_FMP4,t)},n.VWt=function(){var t=GJ(this.WWt,this.HWt,{name:"THEOplayer transmux worker"});return t.yn("message",this.XWt),t.yn("error",this.ZWt),t},n.EHt=function(t,n){var i=++this.qWt,r={type:t,id:i,input:n},e=new Bc;return this.eHt.set(i,e),this.SWt.TWt(r),e.OL},n.h_=function(t){void 0===t&&(t=new Ro),this.eHt.forEach((function(n){return n.xL(t)})),this.eHt.clear(),this.SWt.DWt()},t}(),A$=function(t){function n(n){var i;return(i=t.call(this)||this).kHt=n,i.SWt=void 0,i}bt(n,t);var i=n.prototype;return i.wHt=function(){return void 0!==this.SWt},i.vHt=function(){var t;return null!=(t=this.SWt)?t:this.SWt=new m$(this.kHt)},i.h_=function(){this.SWt&&(this.SWt.h_(),this.SWt=void 0)},n}(d$),p$=function(){function t(t){this.kHt=t}return t.prototype.G7=function(){return new A$(this.kHt)},t}(),_$=function(t){function n(n,i,r,e,u,s,o,a){var c;return c=t.call(this,n,i,r,e,u,s,o,a)||this,xn.zk&&(c.jNt=new nP(Wt(c))),c}bt(n,t);var i=n.prototype;return i.Vg=function(){if(RB(this.Fm))return this.Fm.Vg()},i.gn=function(){var n=this;return Ot((function(){var i;return Rt(this,(function(r){switch(r.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return r.sent(),null==(i=n.jNt)||i.gn(),[2]}}))}))()},At(n,[{key:"Yg",get:function(){return!1},set:function(t){}}]),n}(TJ),k$=function(t){function n(n,i,r,e,u,s,o,a){var c,h=new tP(n),f=h.oB(Gm.VA);return(c=t.call(this,f,i,r,e,u,s,o,a)||this).Yz=h,c}return bt(n,t),n.prototype.gn=function(){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return i.sent(),[4,n.Yz.Fz(n.Fm)];case 2:return i.sent(),[2]}}))}))()},n}(_$),b$=function(t){function n(){return t.apply(this,arguments)}bt(n,t);var i=n.prototype;return i.hB=function(n,i){var r=this;return Ot((function(){return Rt(this,(function(e){return Pu(n.useManagedMediaSource)&&(n.useManagedMediaSource||!xn.Ga&&!xn.sL)?[2,t.prototype.hB.call(r,n,i)]:[2,!1]}))}))()},i.dnt=function(n){var i=this;return Ot((function(){return Rt(this,(function(r){return n.clearkey&&xn.zk?[2,!1]:[2,t.prototype.dnt.call(i,n)]}))}))()},n}(NJ),M$=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).uB=wT.Mp,n}bt(n,t);var i=n.prototype;return i.Yp=function(t,n,i,r,e,u,s){return new k$(n,i,e,u,JJ(r.libraryLocation),new p$(r.libraryLocation),new _B(zB.lL.Pnt,zB.lL.Rnt,zB.lL.jnt,zB.lL.Bnt),r)},i.aB=function(){return!0},n}(b$);QD(new M$),yH.Rt=function(){var t;return Boolean(null==(t=e)?void 0:t.THEOplayerDebugLogsEnabled)},yt(),C(),yt(),C(),Xt(),zt(),Mt(),Ut(),yt(),C(),zt(),Mt(),Ut(),yt(),C();var T$=function(){function t(){}var n=t.prototype;return n.wnt=function(t,n){return q.resolve(!1)},n.mnt=function(t,n){return q.resolve(void 0)},n.fnt=function(t){return q.resolve(void 0)},n.aZ=function(t){return q.resolve(void 0)},t}(),N$=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).xHt=void 0,e.BHt=void 0,e.OHt=void 0,e.UHt=function(){e.Co(new AG)},e.bc=n,e.kSt=new oq(r,new T$,n.useCredentials,n.src,n.liveOffset),e.kSt.yn(Al.Vv,e.Ds),e.f3=!1,e}bt(n,t);var i=n.prototype;return i.LHt=function(){var t;return null==(t=this.xHt)?void 0:t.djt},i.Cn=function(t){var n=this;Xo(MD((function(){return n.CHt(t)}),t))},i.CHt=function(t){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return[4,n.kSt.eUt(t)];case 1:return i.sent(),n.OHt&&(n.jHt(n.OHt.ji,n.OHt.Ti),n.OHt=void 0),n.f3=!0,[2]}}))}))()},i.RHt=function(t,n){this.f3?this.jHt(t,n):this.OHt={ji:t,Ti:n}},i.jHt=function(t,n){var i=this.PHt(t,n),r=null==i?void 0:i.$jt[0];r!==this.xHt&&(this.zHt(),void 0!==r&&(this.xHt=r,this.BHt=new Aq(this.kSt,r),this.BHt.oQt()))},i.zHt=function(){this.xHt=void 0,this.BHt&&(this.BHt.h_(),this.BHt=void 0)},i.PHt=function(t,n){var i=co(this.kSt.Tr.Kjt,(function(i){return void 0!==i.akt&&i.akt.ji===t&&i.akt.Ti===n}));return null!=i?i:this.kSt.Tr.Kjt[0]},i.gn=function(){this.Vo(),this.zHt(),this.kSt.h_()},n}($o);yt(),C(),pt(),Mt();var D$=function(t){function n(n){var i;(i=t.call(this)||this).X3=n;for(var r=0;r<VD.length;r++){var e=VD[r];i.X3.yn(e,i.Ds)}return i}bt(n,t);var i=n.prototype;return i.F_=function(t,n){this.U_=t},i.qg=function(){return this.X3.qg()},i.Gg=function(){return this.X3.Gg()},i.Vg=function(){return this.X3.Vg()},i.be=function(){return this.X3.be()},i.$g=function(){return this.X3.$g()},i.iw=function(){return this.X3.iw()},i.Hg=function(){return this.X3.Hg()},i.Xg=function(){return this.X3.Xg()},i.tr=function(){return this.X3.tr()},i.ga=function(t,n,i){return this.X3.ga(t,n,i)},i.ge=function(){return this.X3.ge()},i.Kg=function(){return this.X3.Kg()},i.Jg=function(){return this.X3.Jg()},i.gn=function(){this.Vo();for(var t=0;t<VD.length;t++){var n=VD[t];this.X3.fn(n,this.Ds)}return this.X3.gn()},At(n,[{key:"ht",get:function(){return this.X3.ht}},{key:"O_",get:function(){return this.X3.O_}},{key:"R_",get:function(){return this.X3.R_},set:function(t){this.X3.R_=t}},{key:"bt",get:function(){return this.X3.bt}},{key:"U_",get:function(){return this.X3.U_},set:function(t){this.X3.U_=t}},{key:"ct",get:function(){return this.X3.ct}},{key:"G_",get:function(){return this.X3.G_}},{key:"H_",get:function(){return this.X3.H_}},{key:"Z_",get:function(){return this.X3.Z_}},{key:"lt",get:function(){return this.X3.lt}},{key:"K_",get:function(){return this.X3.K_}},{key:"eg",get:function(){return this.X3.eg}},{key:"og",get:function(){return this.X3.og},set:function(t){this.X3.og=t}},{key:"cg",get:function(){return this.X3.cg}},{key:"fg",get:function(){return this.X3.fg}},{key:"gg",get:function(){return this.X3.gg},set:function(t){this.X3.gg=t}},{key:"pg",get:function(){return this.X3.pg}},{key:"yg",get:function(){return this.X3.yg},set:function(t){this.X3.yg=t}},{key:"Sg",get:function(){return this.X3.Sg}},{key:"Ig",get:function(){return this.X3.Ig}},{key:"Eg",get:function(){return this.X3.Eg}},{key:"Mz",get:function(){return this.X3.Mz}},{key:"nt",get:function(){return this.X3.nt}},{key:"Cg",get:function(){return this.X3.Cg}},{key:"rt",get:function(){return this.X3.rt}},{key:"Rg",get:function(){return this.X3.Rg}},{key:"zg",get:function(){return this.X3.zg},set:function(t){this.X3.zg=t}},{key:"Qg",get:function(){return this.X3.Qg}},{key:"Yg",get:function(){return this.X3.Yg},set:function(t){this.X3.Yg=t}},{key:"Tz",get:function(){return this.X3.Tz}},{key:"Km",get:function(){}}]),n}(na),I$=function(t){function n(n,i,r){var e;return(e=t.call(this,n)||this).QHt=void 0,e.YHt=!1,e.TUt=void 0,e.handleManifestUpdate=function(){var t=e.QHt.LHt();if(t){var n=e.Mz;if(n){var i=n.getTime(),r=e.TUt;r||(r=new zK,e.TUt=r),r.Yn(t.MPt,(function(t){return(t.getTime()-i)/1e3})),!e.YHt&&r.L.U>0&&(e.nt.tt(r),e.W5.tt(r),e.YHt=!0)}}},e.mWt=function(){e.QHt&&e.QHt.RHt(e.Rg,e.Cg)},e.FHt=i,e.W5=new Vx(Wt(e)),e.yn(Al.Jv,e.mWt),e}bt(n,t);var i=n.prototype;return i.ga=function(n,i,r){var e=this;return Ot((function(){return Rt(this,(function(u){switch(u.label){case 0:return[4,t.prototype.ga.call(e,n,i,r)];case 1:return u.sent(),n.hlsDateRange&&e.Hpt(n,i,r),[2]}}))}))()},i.Hpt=function(t,n,i){this.QHt=new N$(t,n,this.FHt),this.QHt.yn(Al.Vv,this.handleManifestUpdate),this.QHt.Cn(i)},i.tr=function(){return this.TUt&&(this.nt.it(this.TUt),this.W5.it(this.TUt),this.TUt.gn(),this.TUt=void 0,this.YHt=!1),this.QHt&&(this.QHt.gn(),this.QHt=void 0),this.W5.tr(),t.prototype.tr.call(this)},i.gn=function(){return this.fn(Al.Jv,this.mWt),this.QHt&&(this.QHt.gn(),this.QHt=void 0),this.W5.gn(),t.prototype.gn.call(this)},n}(D$);!function(t){BD.cB().lB(t)}((function(t,n,i){return new I$(t,n,i)})),yt(),C(),yt(),C(),yt(),C(),zt(),Mt(),Ut(),yt(),C(),zt(),Ut(),yt(),C(),pt(),Mt();var E$=function(t){function n(n,i){var r;return void 0===i&&(i=""),(r=t.call(this,"An error occurred while casting.")||this).errorCode=n,r.description=i,r}return bt(n,t),At(n,[{key:"name",get:function(){return"CastError"}}]),n}(xo);function S$(t){return L$.apply(this,arguments)}function L$(){return L$=Ot((function(t){return Rt(this,(function(n){switch(n.label){case 0:return z$()?[3,2]:[4,j$(t)];case 1:n.sent(),n.label=2;case 2:return O$()?[3,4]:[4,Ko(100,t)];case 3:n.sent(),n.label=4;case 4:return O$()?[3,6]:(an.vp('Detected the Chromecast library was loaded without the CAF framework. It is strongly encouraged to load it with the CAF framework by using this URL: "//www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1"'),[4,x$()]);case 5:n.sent(),n.label=6;case 6:return[2]}}))})),L$.apply(this,arguments)}function j$(t){return C$.apply(this,arguments)}function C$(){return C$=Ot((function(t){var n,i,r,u,s,o;return Rt(this,(function(a){return(null==t?void 0:t.n_)?[2,q.reject(new Ro)]:(n=function(){var t,n;return{OL:new q((function(i,r){t=i,n=r})),LL:t,xL:n}}(),i=n.OL,r=n.LL,u=n.xL,s=e.__onGCastApiAvailable,o=function(){e.__onGCastApiAvailable=s,u(new Ro)},e.__onGCastApiAvailable=function(n,i){n?r():u(new v(i)),null==t||t.c_(o),e.__onGCastApiAvailable=s,s&&s(n,i)},null==t||t.u_(o),[2,i])}))})),C$.apply(this,arguments)}var x$=ti((function(){return function(t){return new q((function(n,i){var r=u.createElement("script");r.onload=function(){return n()},r.onerror=function(t){return i((null==t?void 0:t.error)||t)},r.type="text/javascript",r.src=t,(u.head||u.documentElement).appendChild(r)}))}("//www.gstatic.com/cast/sdk/libs/sender/1.0/cast_framework.js").catch((function(){throw new E$("API_NOT_INITIALIZED","The Chromecast library could not be loaded successfully.")}))}));function O$(){return Boolean("undefined"!=typeof cast&&cast.framework)}function z$(){return"undefined"!=typeof chrome&&chrome&&chrome.cast&&chrome.cast.isAvailable}function R$(t,n,i,r){if(Rn(n))for(var e=0,u=g.keys(n);e<u.length;e++){var s=u[e];if("type"!==s&&"images"!==s){var o=n[s];Rn(o)&&(t[s]=o)}}!function(t,n,i,r){if(!Rn(i)&&!Rn(null==n?void 0:n.images))return;t.images=[],i&&t.images.push(new r.Image(i));if(null==n?void 0:n.images)if(Fn(n.images))t.images.push(new r.Image(n.images));else if(Pn(n.images))for(var e=0,u=n.images;e<u.length;e++){var s,o,a=u[e],c=void 0;if(Fn(a))c=new r.Image(a);else(c=new r.Image(a.src)).height=null!=(s=a.height)?s:null,c.width=null!=(o=a.width)?o:null;t.images.push(c)}}(t,n,i,r)}function B$(t,n,i){return void 0===i&&(i=chrome),function(t,n,i){switch(null==t?void 0:t.type){case"movie":var r=new i.MovieMediaMetadata;return R$(r,t,n,i),r;case"audio":var e=new i.MusicTrackMediaMetadata;return R$(e,t,n,i),!Rn(e.artist)&&Rn(t.artistName)&&(e.artist=t.artistName),e;case"tv-show":var u=new i.TvShowMediaMetadata;return R$(u,t,n,i),!Rn(u.title)&&Rn(t.episodeTitle)&&(u.title=t.episodeTitle),!Rn(u.season)&&Rn(t.seasonNumber)&&(u.season=t.seasonNumber),!Rn(u.episode)&&Rn(t.episodeNumber)&&(u.episode=t.episodeNumber),u;default:var s=new i.GenericMediaMetadata;return R$(s,t,n,i),s}}(t,n,function(t){return{GenericMediaMetadata:t.cast.media.GenericMediaMetadata,MovieMediaMetadata:t.cast.media.MovieMediaMetadata,TvShowMediaMetadata:t.cast.media.TvShowMediaMetadata,MusicTrackMediaMetadata:t.cast.media.MusicTrackMediaMetadata,Image:t.cast.Image}}(i))}function P$(t){switch(t){case chrome.cast.ErrorCode.CANCEL:return"CANCEL";case chrome.cast.ErrorCode.TIMEOUT:return"TIMEOUT";case chrome.cast.ErrorCode.API_NOT_INITIALIZED:return"API_NOT_INITIALIZED";case chrome.cast.ErrorCode.INVALID_PARAMETER:return"INVALID_PARAMETER";case chrome.cast.ErrorCode.EXTENSION_NOT_COMPATIBLE:return"EXTENSION_NOT_COMPATIBLE";case chrome.cast.ErrorCode.EXTENSION_MISSING:return"EXTENSION_MISSING";case chrome.cast.ErrorCode.RECEIVER_UNAVAILABLE:return"RECEIVER_UNAVAILABLE";case chrome.cast.ErrorCode.SESSION_ERROR:return"SESSION_ERROR";case chrome.cast.ErrorCode.CHANNEL_ERROR:return"CHANNEL_ERROR";case chrome.cast.ErrorCode.LOAD_MEDIA_FAILED:return"LOAD_MEDIA_FAILED";default:return"CANCEL"}}function U$(t){if(t.items&&t.items.length>0&&t.currentItemId>=0)return co(t.items,(function(n){return n.itemId===t.currentItemId}))}yt(),C(),zt(),Mt(),Ut(),yt(),C(),pt(),Mt(),yt(),C(),yt(),C(),yt(),C();var Q$,Y$="urn:x-cast:com.theoplayer.cast";yt(),C(),yt(),C(),function(t){t.GHt="theoplayer_receiver_info",t.VHt="theoplayer_trackpropertychange",t.WHt="theoplayer_propertychange"}(Q$||(Q$={})),yt(),C();var F$;!function(t){t.SKIP_AD="SKIP_AD"}(F$||(F$={})),yt(),C();function G$(t){u.createElement("img").src=t}yt(),C(),yt(),C(),zt(),pt(),Ut(),yt(),C();var V$=new RegExp(/^(\d\d):(\d\d):(\d\d)(?:\.(\d{3}))?$/);function W$(t){if(Fn(t)){var n=t.match(V$);if(n)return 3600*y(n[1],10)+60*y(n[2],10)+Number(n[3])+(Number(n[4])||0)/1e3}}function X$(t){if(void 0!==t){var n=t.match(/^([1-9]?\d|100)%$/);if(n)return y(n[1])/100}}function Z$(t,n){return"vmap"===t.type||!Rn(t.type)&&!Rn(n)}function H$(t,n){return"vast"===t.type||!Rn(t.type)&&Rn(n)}yt(),C(),zt(),Ut(),yt(),C(),pt(),Mt(),yt(),C();var K$=function(){},q$=function(t){function n(n){var i;return(i=t.call(this)||this).Ic=n.sort((function(t,n){return t.Kb-n.Kb})),i}return bt(n,t),n.prototype.XHt=function(){return null!=this.ZHt||(this.ZHt=ko(this.Ic,(function(t){return t.XHt()}))),this.ZHt},At(n,[{key:"HHt",get:function(){return this.Ic}}]),n}(K$);yt(),C(),pt(),Mt(),yt(),C(),pt(),Mt();var J$=function(t){function n(n,i){var r;return(r=t.call(this)||this).qHt=n,r.KHt=i,r.$Ht=!1,r}return bt(n,t),At(n,[{key:"o",get:function(){return this.qHt}},{key:"Kb",get:function(){return this.KHt}},{key:"JHt",get:function(){return this.$Ht}}]),n}(K$),$$=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,n,i)||this).sXt=r,a.rXt=e,a.hXt=u,a.iXt=s,a.vz=o,a}return bt(n,t),n.prototype.XHt=function(){if(void 0===this.aXt){for(var t,n,i,r=[],e=0,u=this.iXt;e<u.length;e++){var s=u[e];s.uXt&&(t=s.uXt),s.cXt&&(n=s.cXt),s.lXt&&(i=s.lXt),r=r.concat(s.universalAdIds)}this.aXt={oXt:this.oXt,uXt:t,dXt:n,lXt:i,lt:this.lt,fXt:r}}return[this.aXt]},At(n,[{key:"tXt",get:function(){return this.iXt}},{key:"eXt",get:function(){return this.sXt}},{key:"nXt",get:function(){return this.rXt}},{key:"oXt",get:function(){return this.hXt}},{key:"lt",get:function(){return this.vz}}]),n}(J$);yt(),C(),pt(),Mt(),yt(),C(),pt();var t0,n0=function(){function t(t,n){this.gXt=t,this.vXt=n}return At(t,[{key:"_Xt",get:function(){return this.gXt}},{key:"wXt",get:function(){return this.vXt}}]),t}(),i0=function(){function t(t,n,i,r,e,u){this.pXt=t,this.yXt=n,this.bXt=i,this.SXt=r,this.kXt=!1,this.DXt=e,this.sXt=u}return t.prototype.LXt=function(){this.kXt=!0},At(t,[{key:"mXt",get:function(){return this.pXt}},{key:"AXt",get:function(){return this.yXt}},{key:"MXt",get:function(){return this.bXt}},{key:"TXt",get:function(){return this.SXt}},{key:"Xl",get:function(){return this.NXt},set:function(t){this.NXt=t}},{key:"IXt",get:function(){return this.DXt}},{key:"EXt",get:function(){return this.kXt}},{key:"eXt",get:function(){return this.sXt}}]),t}();yt(),C(),pt(),function(t){t.xXt="all",t.CXt="any",t.yB="none"}(t0||(t0={}));var r0=function(){function t(t,n){this.jXt=t,this.PXt=n}return At(t,[{key:"OXt",get:function(){return this.jXt}},{key:"RXt",get:function(){return this.PXt}}]),t}(),e0=function(){function t(t,n,i,r,e,u,s,o,a,c,h,f,v,l,d,g){this.qx=t,this.Kx=n,this.uS=i,this.BXt=r,this.QXt=e,this.YXt=u,this.VXt=s,this.HXt=o,this.ZXt=a,this.KXt=c,this.pXt=h,this.yXt=f,this.bXt=v,this.$Xt=l,this.tZt=d,this.eZt=g}return At(t,[{key:"o",get:function(){return this.uS}},{key:"ji",get:function(){return this.qx}},{key:"Ti",get:function(){return this.Kx}},{key:"zXt",get:function(){return this.BXt}},{key:"UXt",get:function(){return this.QXt}},{key:"FXt",get:function(){return this.YXt}},{key:"GXt",get:function(){return this.VXt}},{key:"WXt",get:function(){return this.HXt}},{key:"XXt",get:function(){return this.ZXt}},{key:"qXt",get:function(){return this.KXt}},{key:"mXt",get:function(){return this.pXt}},{key:"AXt",get:function(){return this.yXt}},{key:"MXt",get:function(){return this.bXt}},{key:"JXt",get:function(){return this.$Xt}},{key:"wXt",get:function(){return this.tZt}},{key:"iZt",get:function(){return this.eZt}}]),t}();yt(),C(),pt();var u0=function(){function t(t,n){this.uS=t,this.KPt=n}return At(t,[{key:"id",get:function(){return this.uS}},{key:"uri",get:function(){return this.KPt}}]),t}(),s0=function(){function t(t,n,i,r){this.nZt=t,this.oZt=n,this.aZt=i,this.cZt=r}return At(t,[{key:"sZt",get:function(){return this.nZt}},{key:"rZt",get:function(){return this.oZt}},{key:"hZt",get:function(){return this.aZt}},{key:"uZt",get:function(){return this.cZt}}]),t}(),o0=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return(h=t.call(this,n,i)||this).hXt=r,h.dZt=e,h._Zt=u,h.iXt=s,h.wZt=o,h.mZt=a,h.vz=c,h}bt(n,t);var i=n.prototype;return i.XHt=function(){var t=this;return void 0===this.dZt?[]:(null!=this.ZHt||(this.ZHt=this.dZt.XHt().map((function(n){return t.pZt(n)}))),this.ZHt)},i.pZt=function(t){for(var n,i,r,e=0,u=this.tXt;e<u.length;e++){var s=u[e];s.uXt&&(n=s.uXt),s.cXt&&(i=s.cXt),s.lXt&&(r=s.lXt)}var o=t.oXt.concat(this.oXt),a=t.uXt;if(n&&t.uXt){var c=new s0(t.uXt.AZt.sZt,t.uXt.AZt.rZt,t.uXt.AZt.hZt.concat(n.AZt.hZt),t.uXt.AZt.uZt.concat(n.AZt.uZt));(a=t.uXt).AZt=c,a.wXt=a.wXt.concat(n.wXt)}var h=t.dXt;if(i&&i._Xt){for(var f,v,l=[],d=0,g=i._Xt;d<g.length;d++){var w=g[d];l.concat(w.TXt.hZt)}for(var y,m,A=[],p=0,_=null!=(y=null==(f=t.dXt)?void 0:f._Xt)?y:[];p<_.length;p++){var k,b,M,T=_[p],N=new s0(T.TXt.sZt,T.TXt.rZt,T.TXt.hZt.concat(l),(null!=(b=null==(k=t.uXt)?void 0:k.AZt.uZt)?b:[]).concat(null!=(M=null==n?void 0:n.AZt.uZt)?M:[]));A.push(new i0(T.mXt,T.AXt,T.MXt,N,T.IXt,T.eXt))}h=new n0(A,(null!=(m=null==(v=t.dXt)?void 0:v.wXt)?m:[]).concat(i.wXt))}var D=t.lXt;if(D){var I,E,S,L=D.OXt;r&&r.OXt&&(L=r.OXt),D=new r0(L,(null!=(E=null==(I=t.lXt)?void 0:I.RXt)?E:[]).concat(null!=(S=null==r?void 0:r.RXt)?S:[]))}var j=t.lt;return this.lt&&(j=this.lt),{oXt:o,uXt:a,dXt:h,lXt:D,lt:j,fXt:t.fXt}},At(n,[{key:"oXt",get:function(){return this.hXt}},{key:"lZt",get:function(){return this.dZt}},{key:"fZt",get:function(){return this._Zt}},{key:"tXt",get:function(){return this.iXt}},{key:"gZt",get:function(){return this.wZt}},{key:"vZt",get:function(){return this.mZt}},{key:"lt",get:function(){return this.vz}}]),n}(J$);yt(),C(),pt();var a0=function(){function t(t,n,i,r,e,u,s,o){this.uS=t,this.MZt=n,this.TZt=i,this.HXt=r,this.SZt=e,this.NZt=u,this.IZt=s,this.DZt=o}return At(t,[{key:"o",get:function(){return this.uS}},{key:"yZt",get:function(){return this.MZt}},{key:"bZt",get:function(){return this.TZt}},{key:"WXt",get:function(){return this.HXt}},{key:"uXt",get:function(){return this.SZt}},{key:"cXt",get:function(){return this.NZt}},{key:"lXt",get:function(){return this.IZt}},{key:"universalAdIds",get:function(){return this.DZt}}]),t}();yt(),C(),pt();var c0,h0=function(){function t(t,n,i,r,e,u,s){this.EZt=t,this.LZt=n,this.vXt=i,this.xZt=r,this.OZt=e,this.kXt=!1,this.DXt=u,this.sXt=s}return t.prototype.LXt=function(){this.kXt=!0},At(t,[{key:"ct",get:function(){return this.EZt}},{key:"kZt",get:function(){return this.LZt}},{key:"wXt",get:function(){return this.vXt},set:function(t){this.vXt=t}},{key:"AZt",get:function(){return this.xZt},set:function(t){this.xZt=t}},{key:"CZt",get:function(){return this.OZt},set:function(t){this.OZt=t}},{key:"jZt",get:function(){return this.kXt}},{key:"Xl",get:function(){return this.NXt},set:function(t){this.NXt=t}},{key:"IXt",get:function(){return this.DXt}},{key:"eXt",get:function(){return this.sXt}}]),t}();function f0(t,n){return g0(t)&&t.getAttribute(n)||void 0}function v0(t,n){return l0(t,n,void 0,!1)}function l0(t,n,i,r){return n===(t.localName?t.localName:t.nodeName)&&(r&&i?i===t.namespaceURI:!i||!t.namespaceURI||i===t.namespaceURI)}function d0(t,n){for(var i=[],r=0;r<t.childNodes.length;r+=1){var e=t.childNodes.item(r);g0(e)&&v0(e,n)&&i.push(e)}return i}function g0(t){return t&&1===t.nodeType}function w0(t,n){var i=(new DOMParser).parseFromString(t,n);if(!i||i.getElementsByTagName("parsererror").length>0)throw new v('Invalid document for MIME type "'+n+'"');return i}function y0(t){return w0(t,"text/xml")}function m0(t){return t.replace(/[<>&'"]/g,(function(t){switch(t){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&apos;";case'"':return"&quot;";default:return t}}))}function A0(t){return"data:application/xml,"+encodeURIComponent(t)}function p0(t){switch(t){case"breakStart":case"breakEnd":case"error":return!0;default:return!1}}yt(),C(),yt(),C(),pt(),function(t){t.RZt="mute",t.PZt="unmute",t.Sh="pause",t.zZt="resume",t.BZt="rewind",t.UZt="skip",t.QZt="playerExpand",t.FZt="playerCollapse",t.Ah="fullscreen",t.YZt="exitFullscreen",t.GZt="expand",t.COLLAPSE="collapse",t.Ebt="start",t.VZt="firstQuartile",t.WZt="thirdQuartile",t.HZt="midpoint",t.XZt="complete",t.ZZt="acceptInvitationLinear",t.qZt="acceptInvitation",t.KZt="timeSpentViewing",t.JZt="otherAdInteraction",t.Zv="progress",t.$Zt="creativeView",t.tqt="adExpand",t.iqt="adCollapse",t.eqt="minimize",t.sqt="close",t.nqt="closeLinear",t.rqt="overlayViewDuration",t.oqt="breakStart",t.hqt="breakEnd",t.ha="error"}(c0||(c0={}));var _0=["mute","unmute","pause","resume","rewind","skip","closeLinear","close","playerExpand","playerCollapse","fullscreen","exitFullscreen","expand","collapse","creativeView","start","firstQuartile","midpoint","thirdQuartile","complete","acceptInvitationLinear","acceptInvitation","timeSpentViewing","otherAdInteraction","progress"];function k0(t){return void 0!==t&&-1!==_0.indexOf(t)}var b0=["start","firstQuartile","midpoint","thirdQuartile","complete","mute","unmute","pause","resume","rewind","skip","playerExpand","playerCollapse","expand","collapse","fullscreen","exitFullscreen","creativeView","acceptInvitation","adExpand","adCollapse","minimize","close","overlayViewDuration","otherAdInteraction","progress"];function M0(t){return void 0!==t&&-1!==b0.indexOf(t)}var T0=["mute","unmute","pause","resume","rewind","skip","playerExpand","playerCollapse","creativeView"];function N0(t){return void 0!==t&&-1!==T0.indexOf(t)}function D0(t,n){if(void 0!==t&&""!==t&&void 0!==n){var i=t.match(/^(\d+):(\d+):(\d+)$/);return i?m(i[1]||"0")+60*m(i[2]||"0")+m(i[3]||"0"):(i=t.match(/^(100|[1-9]\d|\d)%$/))?m(i[1]||"0")*n/100:void 0}}var I0=function(){function t(t,n,i){this.aqt=t,this.uqt=n,this.cqt=i}return At(t,[{key:"eF",get:function(){return this.aqt}},{key:"Ku",get:function(){return this.uqt}},{key:"eventURL",get:function(){return this.cqt}}]),t}();yt(),C(),pt(),Mt();var E0=function(){function t(t){this.dqt=t}return At(t,[{key:"lqt",get:function(){return this.dqt}}]),t}(),S0=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n)||this)._qt=i,u.nZt=r,u.eZt=e,u}return bt(n,t),At(n,[{key:"sZt",get:function(){return this.nZt}},{key:"iZt",get:function(){return this.eZt}},{key:"fqt",get:function(){return this._qt}}]),n}(E0),L0=function(t){function n(n){return t.call(this,n)}return bt(n,t),n}(E0),j0=function(t){function n(n){return t.call(this,n)}return bt(n,t),n}(E0);yt(),C(),pt();var C0={gqt:{jL:100,pL:"XML parsing error."},wqt:{jL:303,pL:"Empty or invalid VAST error."},vqt:{jL:400,pL:"General linear error"},mqt:{jL:403,pL:"Unsupported MIME-type or missing mediafiles error"},pqt:{jL:500,pL:"General nonlinear error"},IQ:{jL:900,pL:"Network error"}},x0=function(){function t(t){this.yqt=t}return t.prototype.Mqt=function(t){if(this.Aqt){var n=this.Aqt.replace(/\[ERRORCODE]/,""+t.jL);G$(n)}},At(t,[{key:"Aqt",get:function(){return this.yqt}}]),t}();yt(),C(),pt(),Mt();var O0,z0,R0=function(t){function n(n,i,r,e){var u;return(u=t.call(this,r||i&&B0[i]||n,e)||this).Tqt=n,u.Nqt=i,u.Iqt=r,u}return bt(n,t),At(n,[{key:"bqt",get:function(){return this.Tqt}},{key:"Sqt",get:function(){var t;return null!=(t=this.Nqt)?t:900}}]),n}(xo);!function(t){t.ADBLOCK="adblock",t.NETWORK="network",t.PARSING="parsing",t.PLAYBACK="playback",t.GENERAL="general"}(O0||(O0={})),function(t){t[t.VAST_MALFORMED_RESPONSE=100]="VAST_MALFORMED_RESPONSE",t[t.VAST_SCHEMA_VALIDATION_ERROR=101]="VAST_SCHEMA_VALIDATION_ERROR",t[t.VAST_UNSUPPORTED_VERSION=102]="VAST_UNSUPPORTED_VERSION",t[t.VAST_TRAFFICKING_ERROR=200]="VAST_TRAFFICKING_ERROR",t[t.VAST_UNEXPECTED_LINEARITY=201]="VAST_UNEXPECTED_LINEARITY",t[t.VAST_UNEXPECTED_DURATION_ERROR=202]="VAST_UNEXPECTED_DURATION_ERROR",t[t.UNEXPECTED_SIZE=203]="UNEXPECTED_SIZE",t[t.VAST_WRAPPER_ERROR=300]="VAST_WRAPPER_ERROR",t[t.VAST_LOAD_TIMEOUT=301]="VAST_LOAD_TIMEOUT",t[t.VAST_TOO_MANY_REDIRECTS=302]="VAST_TOO_MANY_REDIRECTS",t[t.VAST_NO_ADS_AFTER_WRAPPER=303]="VAST_NO_ADS_AFTER_WRAPPER",t[t.GENERAL_LINEAR_ERROR=400]="GENERAL_LINEAR_ERROR",t[t.FILE_NOT_FOUND=401]="FILE_NOT_FOUND",t[t.VAST_MEDIA_LOAD_TIMEOUT=402]="VAST_MEDIA_LOAD_TIMEOUT",t[t.VAST_LINEAR_ASSET_MISMATCH=403]="VAST_LINEAR_ASSET_MISMATCH",t[t.VAST_PROBLEM_DISPLAYING_MEDIA_FILE=405]="VAST_PROBLEM_DISPLAYING_MEDIA_FILE",t[t.MEZZANINE_FILE_REQUIRES=406]="MEZZANINE_FILE_REQUIRES",t[t.MEZZANINE_FILE_DOWNLOADED_FIRST_TIME=407]="MEZZANINE_FILE_DOWNLOADED_FIRST_TIME",t[t.AD_IN_VAST_REJECTED=408]="AD_IN_VAST_REJECTED",t[t.INTERACTIVE_CREATIVE_NOT_EXECUTED=409]="INTERACTIVE_CREATIVE_NOT_EXECUTED",t[t.VERIFICATION_CODE_NOT_EXECUTED=410]="VERIFICATION_CODE_NOT_EXECUTED",t[t.GENERAL_NON_LINEAR_ERROR=500]="GENERAL_NON_LINEAR_ERROR",t[t.NONLINEAR_DIMENSIONS_ERROR=501]="NONLINEAR_DIMENSIONS_ERROR",t[t.OVERLAY_AD_LOADING_FAILED=502]="OVERLAY_AD_LOADING_FAILED",t[t.VAST_NONLINEAR_ASSET_MISMATCH=503]="VAST_NONLINEAR_ASSET_MISMATCH",t[t.GENERAL_COMPANION_AD_ERROR=600]="GENERAL_COMPANION_AD_ERROR",t[t.INVALID_DIMENSIONS_COMPANION_AD=601]="INVALID_DIMENSIONS_COMPANION_AD",t[t.COMPANION_REQUIRED_ERROR=602]="COMPANION_REQUIRED_ERROR",t[t.COMPANION_AD_LOADING_FAILED=603]="COMPANION_AD_LOADING_FAILED",t[t.UNABLE_TO_FIND_SUPPORTED_COMPANION=604]="UNABLE_TO_FIND_SUPPORTED_COMPANION",t[t.UNKNOWN_ERROR=900]="UNKNOWN_ERROR",t[t.GENERAL_VPAID_ERROR=901]="GENERAL_VPAID_ERROR",t[t.MALFORMED_URI=1005]="MALFORMED_URI",t[t.VAST_ASSET_NOT_FOUND=1007]="VAST_ASSET_NOT_FOUND",t[t.VAST_EMPTY_RESPONSE=1009]="VAST_EMPTY_RESPONSE",t[t.UNKNOWN_AD_RESPONSE=1010]="UNKNOWN_AD_RESPONSE",t[t.UNSUPPORTED_LOCALE=1011]="UNSUPPORTED_LOCALE",t[t.INVALID_ARGUMENTS=1101]="INVALID_ARGUMENTS",t[t.INVALID_ADX_EXTENSION=1105]="INVALID_ADX_EXTENSION",t[t.AUTOPLAY_DISALLOWED=1205]="AUTOPLAY_DISALLOWED"}(z0||(z0={}));var B0={100:"XML parsing error.",101:"VAST schema validation error.",102:"VAST version of response not supported.",200:"Trafficking error. The video player received an ad type that it was not expecting and/or cannot display.",201:"Video player expecting different linearity.",202:"Video player expecting different duration.",203:"Video player expecting different size.",300:"General wrapper error.",301:"Timeout of VAST URI provided in wrapper element, or of VAST URI provided in a subsequent wrapper element. This includes request errors such as invalid URI, unreachable or request timeout for URI, and security or other exceptions related to requesting a VAST URI.",302:"Wrapper limit reached, as defined by the video player. Too many wrapper responses have been received with no InLine response. This can be caused by a circular loop of daisy chaining (one network bouncing to another and another).",303:"No ads VAST response after one or more wrappers. This also includes the number of empty VAST responses from fallback.",400:"General linear error. The video player is unable to display the linear ad.",401:"File not found. Unable to find Linear/MediaFile from URI.",402:"Unable to download or timeout of MediaFile URI.",403:"Could not find a media file that is supported by this video player, based on the attributes of the MediaFile element.",405:"Problem displaying a media file.",406:"A mezzanine file was required, but not provided.",407:"The mezzanine file was downloaded for the first time, so the ad did not serve. This can occur when an ad insertion is missed because the creative is being transcoded. It continues to occur until the creative is available for insertion.",408:"The ad returned in the VAST response was rejected.",409:"The interactive creative defined in the InteractiveCreativeFile node was not executed.",410:"The code referenced in the Verification node was not executed.",500:"General NonLinearAds error.",501:"Unable to display non-linear ad because creative dimensions do not align with creative display area (in other words, the creative dimension was too large). This can occur if you use CSS styles to set width and height of the video ,content element. You should instead use the width and height HTML attributes.",502:"Unable to fetch NonLinearAds/NonLinear resource.",503:"Could not find NonLinearResource with supported type. This can occur when a creative size is larger than the player size.",600:"General CompanionAds error.",601:"Unable to display companion because creative dimensions do not fit within the companion display area (in other words, space was not available).",602:"Unable to display required companion.",603:"Unable to fetch CompanionAds/Companion resource.",604:"Could not find Companion resource with supported type.",900:"VAST 2 error. Even if you request VAST 3 or your DFP network default is VAST 3, this can occur if you have a VAST redirect that returns a VAST 2 response.",901:"General VPAID error",1005:"URI malformed."};function P0(t){if(!t)return!1;switch(t.toLocaleLowerCase()){case _N.Mp:case _N.bp:case _N.yp:return!0;default:return!1}}function U0(t){var n=Eu();return!!(P0(t)||t&&n&&(null==n?void 0:n.canPlayType)&&n.canPlayType(t))||(Y0("Invalid or unsupported MediaFile Content delivery type, skipping mediafile"),!1)}function Q0(t,n){for(var i=0;i<n.length;i++){var r=n[i];new x0(r).Mqt(t)}}function Y0(t){0}yt(),C(),yt(),C(),pt();var F0,G0=function(){function t(t,n){this.Eqt=t,this.Lqt=n}return At(t,[{key:"Dqt",get:function(){return this.Eqt}},{key:"kqt",get:function(){return this.Lqt}}]),t}();!function(t){t.xqt="linear",t.Cqt="nonlinear",t.Oqt="companion",t.jqt="vmap"}(F0||(F0={}));var V0,W0=function(){function t(){}var n=t.prototype;return n.Rqt=function(n,i){var r=this;return Ot((function(){var e,u,s,o;return Rt(this,(function(a){switch(a.label){case 0:return Z$(n.sources,n.timeOffset)?[4,t.Pqt(n.sources.src,i)]:[3,7];case 1:if(e=a.sent(),!(u=e&&e.documentElement))throw new R0(O0.NETWORK,z0.VAST_SCHEMA_VALIDATION_ERROR,"Ad source is not a valid XML document.");return v0(u,"VMAP")?[4,r.zqt(u,n,i)]:[3,3];case 2:return[2,a.sent()];case 3:return v0(u,"VAST")?[4,r.Bqt(u,i,!1)]:[3,5];case 4:return(s=a.sent())?(o=new J0("",!0,!0,s),[2,[new K0("start",o,V0.xqt,"",[],!1,!0,n)]]):[2,[]];case 5:throw new R0(O0.GENERAL,z0.VAST_MALFORMED_RESPONSE,"Only VMAP and VAST files are allowed as ad source.");case 6:return[3,8];case 7:if(H$(n.sources,n.timeOffset))return[2,[new q0(String(n.timeOffset),n,i)]];throw new R0(O0.GENERAL,z0.VAST_MALFORMED_RESPONSE,"Something went wrong parsing the ad source; only VMAP and VAST files are allowed as ad source.");case 8:return[2]}}))}))()},n.Uqt=function(n,i,r,e){void 0===e&&(e=[]);var u=this;return Ot((function(){var s,o,a;return Rt(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,t.Pqt(n,i)];case 1:return s=c.sent(),[3,3];case 2:throw o=c.sent(),Q0(o instanceof R0&&o.Sqt===z0.VAST_MALFORMED_RESPONSE?C0.wqt:C0.IQ,e),o;case 3:return(a=s&&s.documentElement)&&v0(a,"VAST")?[4,u.Bqt(a,i,r,e)]:[3,5];case 4:return[2,c.sent()];case 5:return[2,void 0]}}))}))()},n.Qqt=function(t,n,i,r){var e=this;return Ot((function(){var u,s,o,a;return Rt(this,(function(c){switch(c.label){case 0:if(!(null==(u=t.sources)?void 0:u.src))throw new R0(O0.GENERAL,z0.MALFORMED_URI,"Property src on adSource is missing.");return[4,e.Uqt(t.sources.src,r,!1)];case 1:return s=c.sent(),o=new J0("",!0,!0,s),(a=new K0(n,o,V0.xqt,"",[],!1,!0,t)).Fqt=i,[2,a]}}))}))()},n.Bqt=function(t,n,i,r){void 0===r&&(r=[]);var e=this;return Ot((function(){var u,s,o,a,c,h,f,v,l,d,g,w;return Rt(this,(function(y){switch(y.label){case 0:if(u=[],s=[],o=[],!t||!v0(t,"VAST")){if(i)throw Q0(C0.wqt,r),new R0(O0.PARSING,z0.VAST_NO_ADS_AFTER_WRAPPER,"No VAST element found after wrapper.");return[2,void 0]}if(0===d0(t,"Ad").length)return[3,7];a=0,c=d0(t,"Ad"),y.label=1;case 1:if(!(a<c.length))return[3,6];h=c[a],y.label=2;case 2:return y.trys.push([2,4,,5]),[4,e.Yqt(h,n,r)];case 3:return 0===(f=y.sent()).Kb?u.push(f):s.push(f),[3,5];case 4:return v=y.sent(),o.push(v),[3,5];case 5:return a++,[3,1];case 6:if(0===u.length&&0===s.length&&o.length>0)throw o[0];return 1===u.length&&0===s.length?[2,u[0]]:0===u.length&&0!==s.length?[2,new q$(s)]:u.length>0||s.length>0?[2,new q$(s.concat(u))]:[3,8];case 7:if(0!==d0(t,"Error").length){for(l=0,d=d0(t,"Error");l<d.length;l++)g=d[l],Y0(C0.gqt.pL),(w=g.textContent)&&r.push(w),Q0(C0.gqt,r);throw new R0(O0.GENERAL,z0.VAST_MALFORMED_RESPONSE,"The Ad Server responded with a VAST Error")}if(i)throw Q0(C0.wqt,r),new R0(O0.PARSING,z0.VAST_NO_ADS_AFTER_WRAPPER,"No VAST element found after wrapper.");return[2,void 0];case 8:return[2]}}))}))()},n.zqt=function(t,n,i){var r=this;return Ot((function(){var e,u,s,o,a,c;return Rt(this,(function(h){switch(h.label){case 0:e=[],u=d0(t,"AdBreak"),s=0,h.label=1;case 1:if(!(s<u.length))return[3,6];o=u[s],h.label=2;case 2:return h.trys.push([2,4,,5]),[4,r.Gqt(o,n,i)];case 3:return(a=h.sent())&&e.push(a),[3,5];case 4:return c=h.sent(),an.Wet(c),[3,5];case 5:return s++,[3,1];case 6:return[2,e]}}))}))()},n.Yqt=function(n,i,r){var e=this;return Ot((function(){var u,s,o,a;return Rt(this,(function(c){switch(c.label){case 0:return u=f0(n,"id")||"",(s=XY(f0(n,"sequence")))||(s=0),o=d0(n,"InLine"),0===(a=d0(n,"Wrapper")).length?[3,2]:[4,e.Vqt(a[0],u,s,i,r)];case 1:return[2,c.sent()];case 2:if(0!==o.length)return[2,t.Wqt(o[0],u,s,r)];c.label=3;case 3:throw new R0(O0.PARSING,z0.VAST_SCHEMA_VALIDATION_ERROR,"An Ad tag without a Wrapper or inline element cannot be parsed")}}))}))()},n.Vqt=function(n,i,r,e,u){var s=this;return Ot((function(){var o,a,c,h,f,v,l,d,g,w,y,m,A,p,_,k;return Rt(this,(function(b){switch(b.label){case 0:for(o=d0(n,"Error")[0],a="",o&&o.textContent&&(a=o.textContent,u.push(a)),c=d0(n,"AdSystem")[0],h="",c&&(h=c.textContent||h),f=[],v=0,l=d0(n,"Impression");v<l.length;v++)(d=l[v]).textContent&&f.push(d.textContent);return g=d0(n,"VASTAdTagURI")[0],w="",g&&g.textContent&&(w=g.textContent),[4,s.Uqt(w,e,!0,u)];case 1:return y=b.sent(),m=d0(n,"Creatives")[0],A=[],m&&(A=t.Xqt(m,h,u)),(p=HY(f0(n,"followAdditionalWrappers")))||(p=!0),(_=HY(f0(n,"allowMultipleAds")))||(_=!0),(k=HY(f0(n,"fallbackOnNoAd")))||(k=!1),[2,new o0(i,r,f,y,p,A,_,k,new x0(a))]}}))}))()},n.Gqt=function(n,i,r){var e=this;return Ot((function(){var u,s,o,a,c,h,f,v,l,d,g,w,y,m,A,p,_;return Rt(this,(function(k){switch(k.label){case 0:if(u=f0(n,"timeOffset")||"0",s=f0(n,"breakType")||V0.jT,o=f0(n,"breakId"),a=HY(f0(n,"repeatAfter")),c=void 0!==Z0.sKt(u),void 0===o&&(o=""),void 0===a&&(a=!1),!c)throw new R0(O0.PARSING,z0.VAST_SCHEMA_VALIDATION_ERROR,"Invalid TimeOffset type");if(h=d0(n,"AdSource")[0],f=d0(n,"TrackingEvents")[0],v=[],f&&(v=t.Jqt(f,p0,"vmap")),(l=f0(h,"id"))||(l=""),void 0===(d=HY(f0(h,"allowMultipleAds")))&&(d=!0),(g=HY(f0(h,"followRedirects")))||(g=!0),w=d0(h,"AdTagURI")[0],y="",m=d0(h,"VASTAdData")[0],!w||!w.textContent)return[3,1];try{return y=w.textContent,(A=bm(i)).sources.src=y,[2,new q0(u,A,r)]}catch(t){return[2,void 0]}return[3,6];case 1:return m?m.firstElementChild&&l0(m.firstElementChild,"VAST")?[4,e.Bqt(m.firstElementChild,r,!1)]:[3,3]:[3,5];case 2:return(p=k.sent())?(_=new J0(l,d,g,p),[2,new K0(u,_,s,o,v,a,!1,i)]):[2,void 0];case 3:throw new R0(O0.PARSING,z0.VAST_SCHEMA_VALIDATION_ERROR,"vmap:VASTAdData does not have a VAST-structure as a child element");case 4:return[3,6];case 5:throw new R0(O0.PARSING,z0.VAST_SCHEMA_VALIDATION_ERROR,"Invalid AdTagURI source or invalid VASTAdData in Adbreak Element");case 6:return[2]}}))}))()},t.requestSuccessOnly=function(t,n){return Ot((function(){var i,r;return Rt(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,n.uD(t)];case 1:return i=e.sent(),[3,3];case 2:throw r=e.sent(),new R0(O0.NETWORK,z0.UNKNOWN_ERROR,"Something went wrong while requesting xml from server.",r);case 3:if(!qw(i))throw new R0(O0.NETWORK,z0.UNKNOWN_ERROR,"Something went wrong while requesting xml from server.");return[2,i]}}))}))()},t.Pqt=function(t,n){var i=this;return Ot((function(){var r,e;return Rt(this,(function(u){switch(u.label){case 0:return r=new ey({zu:t,qD:pl.Ru,ZD:Jw.GET}),[4,i.requestSuccessOnly(r,n)];case 1:e=u.sent(),u.label=2;case 2:return u.trys.push([2,4,,5]),[4,e.ly()];case 3:return[2,y0.apply(void 0,[u.sent()])];case 4:throw u.sent(),new R0(O0.NETWORK,z0.VAST_MALFORMED_RESPONSE,"The ad source could not be loaded.");case 5:return[2]}}))}))()},t.Wqt=function(n,i,r,e){var u,s=d0(n,"Error")[0];s&&s.textContent&&(u=s.textContent,e.push(u));var o,a=d0(n,"AdSystem")[0],c="";a&&(c=a.textContent||c);var h=d0(n,"AdTitle")[0];h&&(o=h.textContent||void 0);for(var f=[],v=0,l=d0(n,"Impression");v<l.length;v++){var d=l[v];d.textContent&&f.push(d.textContent)}var g=t.Hqt(d0(n,"Creatives")[0],c,e);return new $$(i,r,c,o,f,g,new x0(u))},t.Xqt=function(n,i,r){for(var e=[],u=0,s=d0(n,"Creative");u<s.length;u++){var o=s[u],a=f0(o,"id");a||(a="");var c=XY(f0(o,"sequence"));c||(c=0);var h=f0(o,"adId");h||(h="");var f=d0(o,"Linear")[0],v=void 0;f&&(v=t.Zqt(f,"wrapper",a,i,r));var l=d0(o,"NonLinearAds")[0],d=void 0;if(l)try{d=t.qqt(l,a,i)}catch(t){}var g=d0(o,"CompanionAds")[0],w=void 0;g&&(w=t.Kqt(g)),e.push(new a0(a,h,c,"",v,d,w,[]))}return e},t.Hqt=function(n,i,r){for(var e=[],u=0,s=d0(n,"Creative");u<s.length;u++){var o=s[u],a=f0(o,"id");a||(a="");var c=XY(f0(o,"sequence"));c||(c=0);var h=f0(o,"adId");h||(h="");var f=f0(o,"apiFramework");f||(f="");var v=d0(o,"Linear")[0],l=void 0;if(v)try{l=t.Zqt(v,"inline",a,i,r)}catch(t){}var d=d0(o,"NonLinearAds")[0],g=void 0;if(d)try{g=t.qqt(d,a,i)}catch(t){}var w=d0(o,"CompanionAds")[0],y=void 0;w&&(y=t.Kqt(w));var m=d0(o,"UniversalAdId"),A=t.parseUniversalAdIds(m);e.push(new a0(a,h,c,f,l,g,y,A))}return e},t.Zqt=function(n,i,r,e,u){var s=d0(n,"Duration")[0],o=0;if(s)o=W$(s.textContent)||0;else if(!s&&"inline"===i)throw new R0(O0.PARSING,z0.VAST_SCHEMA_VALIDATION_ERROR,"Missing duration element in inLine linear");var a=f0(n,"skipoffset"),c=-1;if(a){var h=W$(a);if(void 0===h&&a.indexOf("%")>-1){var f=w.abs(Number(a.replace(/(?![0-9])./g,"")))/100;A(f)||(h=o*f)}void 0!==h&&(c=h)}var v=d0(n,"MediaFiles")[0],l=[];if(v&&(l=function(t,n){for(var i=[],r=0,e=d0(t,"MediaFile");r<e.length;r++){var u=e[r],s=f0(u,"delivery"),o=f0(u,"type");if(o){if(n(o)){var a=XY(f0(u,"width")),c=XY(f0(u,"height"));a||(Y0(),a=0),c||(Y0(),c=0);var h={delivery:s,type:o,width:a,height:c,contentURL:""+u.textContent};i.push(h)}}else Y0()}return i}(v,U0)),"inline"===i&&(!v||0===l.length))throw Q0(C0.mqt,u),new R0(O0.PARSING,z0.VAST_LINEAR_ASSET_MISMATCH,"Missing MediaFiles in linear element");var d=d0(n,"TrackingEvents")[0],g=[];d&&(g=t.Jqt(d,k0,"linear"));var y=d0(n,"VideoClicks")[0],m=t.$qt(y);return new h0(o,l,g,m,c,r,e)},t.$qt=function(n){if(!n)return new s0("","",[],[]);var i,r=d0(n,"ClickThrough")[0],e="";r&&(i=r.textContent||void 0,e=f0(r,"id")||"");var u=t.tKt(d0(n,"ClickTracking")),s=t.tKt(d0(n,"CustomClick"));return new s0(i,e,u,s)},t.tKt=function(t){for(var n=[],i=0;i<t.length;i++){var r=t[i],e=r.textContent;if(e){var u=f0(r,"id")||"";n.push(new u0(u,e))}}return n},t.Jqt=function(t,n,i){for(var r=[],e=0,u=d0(t,"Tracking");e<u.length;e++){var s=u[e],o=f0(s,"event");if(n(o)){var a="";"linear"===i&&(a=f0(t,"offset")||"0");var c=s.textContent;c&&r.push(new I0(o,a,c))}else Y0()}return r},t.qqt=function(n,i,r){for(var e=[],u=0,s=d0(n,"NonLinear");u<s.length;u++){var o=s[u],a=d0(o,"NonLinearClickThrough")[0],c=void 0;a&&(c=a.textContent||void 0);var h=t.tKt(d0(o,"NonLinearClickTracking")),f=d0(o,"StaticResource")[0],v=void 0;if(f&&f.parentNode){var l=f0(f,"creativeType"),d=f.textContent||"",g=d0(f.parentNode,"NonLinearClickThrough")[0],w="";g&&(w=g.textContent||""),v=new S0(d,l,w,"")}var y=t.iKt(o),m=t.parseHtmlResource(o);if(v||y||m){var A=new s0(c,"",h,[]);e.push(new i0(v,y,m,A,i,r))}else Y0()}if(0===e.length)throw new R0(O0.PARSING,z0.VAST_SCHEMA_VALIDATION_ERROR,"nonLinearAds element found with no nonLinear elements");var p=d0(n,"TrackingEvents")[0],_=[];return p&&(_=t.Jqt(p,M0,"nonlinear")),new n0(e,_)},t.parseUniversalAdIds=function(t){for(var n=[],i=0;i<t.length;i++){var r,e,u,s=t[i],o=null!=(r=f0(s,"idRegistry"))?r:"",a=null!=(u=null!=(e=f0(s,"idValue"))?e:s.textContent)?u:"";n.push(new G0(o,a))}return n},t.Kqt=function(n){var i=f0(n,"requiredType");(function(t){switch(t){case"all":case"any":case"none":return!0;default:return!1}})(i)||(i=t0.yB);for(var r=[],e=0,u=d0(n,"Companion");e<u.length;e++){var s=u[e],o=XY(f0(s,"width")),a=XY(f0(s,"height")),c=f0(s,"id"),h=XY(f0(s,"assetWidth")),f=XY(f0(s,"assetHeight")),v=XY(f0(s,"expandedWidth")),l=XY(f0(s,"rxpandedHeight")),d=f0(s,"apiFramework"),g=f0(s,"adSlotId"),w=XY(f0(s,"pxratio")),y=d0(s,"AltText")[0],m=y?y.textContent:"";o||(Y0(),o=0),a||(Y0(),a=0),c||(c=""),h||(h=0),f||(f=0),v||(v=0),l||(l=0),d||(d=""),g||(g=""),w||(w=1),m||(m="");var A=t.eKt(s),p=t.iKt(s),_=t.parseHtmlResource(s),k=d0(s,"TrackingEvents")[0],b=[];k&&(b=t.Jqt(k,N0,"companion"));var M=d0(s,"CompanionClickThrough")[0],T=void 0;M&&(T=M.textContent||void 0);var N=t.tKt(d0(s,"CompanionClickTracking"));(A||p||_)&&r.push(new e0(o,a,c,h,f,v,l,d,g,w,A,p,_,new s0(T,"",N,[]),b,m))}return new r0(i,r)},t.eKt=function(t){var n,i=d0(t,"StaticResource")[0];if(i&&i.parentNode){var r=f0(i,"creativeType");r||(r="");var e,u=i.textContent,s=d0(i.parentNode,"AltText")[0],o=d0(i.parentNode,"CompanionClickThrough")[0],a="";s&&(a=s.textContent||""),o&&(e=o.textContent||void 0),u&&(n=new S0(u,r,e,a))}return n},t.iKt=function(t){var n,i=d0(t,"IFrameResource")[0];if(i){var r=i.textContent||"";n=new L0(r)}return n},t.parseHtmlResource=function(t){var n,i=d0(t,"HTMLResource")[0];if(i){var r=i.textContent||"";n=new j0(r)}return n},t}();!function(t){t.jT="",t.xqt="linear",t.nKt="nonlinear",t.rKt="display"}(V0||(V0={}));var X0,Z0=function(){function t(){}return t.oKt=function(t){switch(t){case"linear":case"nonlinear":case"display":return!0;default:return!1}},t.hKt=function(t){},t.aKt=function(t){if(void 0!==t)return"start"===t?0:"end"===t?-1:void 0},t.uKt=function(t){var n=t.split(":"),i=0;return i+=3600*Number(n[0]),i+=60*Number(n[1]),i+=Number(n[2])},t.cKt=function(t){if(t<=0)return"00:00:00.000";var n=w.floor(t),i=t-n;return this.lKt(n/3600,2)+":"+this.lKt(n/60%60,2)+":"+this.lKt(n%60,2)+"."+this.lKt(1e3*i,3)},t.lKt=function(t,n){return("00"+w.floor(t)).slice(-n)},t.dKt=function(t,n){var i=this.sKt(t);if(0===i)switch(t){case"start":return 0;case"end":return-1}else{if(2===i)return X$(t)*n;if(1===i)return W$(t);if(3===i)return this.aKt(t);if(4===i){var r=Number(t);if(!A(r)&&r>=-1)return r}}},t.sKt=function(t){return"start"===t||"end"===t?0:void 0!==W$(t.toString())?1:void 0!==X$(t.toString())?2:void 0!==this.hKt(t.toString())?3:A(Number(t))?void 0:4},t}();!function(t){t[t.n8=0]="n8",t[t.fKt=1]="fKt",t[t._Kt=2]="_Kt",t[t.gKt=3]="gKt",t[t.wKt=4]="wKt"}(X0||(X0={}));var H0,K0=function(){function t(t,n,i,r,e,u,s,o){this.OZt=-1,this.AKt=n,this.yKt=t,this.DKt=i,this.bKt=r,this.SKt=u,this.tZt=e,this.EKt=s,this.mKt=o}return t.prototype.$n=function(){return q.resolve()},At(t,[{key:"vKt",get:function(){return this.mKt.integration}},{key:"pKt",get:function(){return this.AKt}},{key:"cPt",get:function(){return this.yKt}},{key:"CZt",get:function(){return this.OZt},set:function(t){this.OZt=t}},{key:"wXt",get:function(){return this.tZt}},{key:"MKt",get:function(){return this.bKt}},{key:"TKt",get:function(){return this.SKt}},{key:"Wit",get:function(){return this.mKt}},{key:"NKt",get:function(){return this.Fqt.Kl}},{key:"W",get:function(){return!0}},{key:"Fqt",get:function(){return this.IKt},set:function(t){this.IKt=t}}]),t}(),q0=function(){function t(t,n,i){this.tst=!1,this.aE=i,this.NXt=new K0(t,void 0,"","",[],!1,!1,n)}var n=t.prototype;return n.$n=function(){var t;return null!=(t=this.kKt)?t:this.kKt=this.nst()},n.nst=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return[4,(new W0).Qqt(t.Wit,t.cPt,t.Fqt,t.aE)];case 1:return t.NXt=n.sent(),t.tst=!0,[2]}}))}))()},At(t,[{key:"vKt",get:function(){return this.NXt.vKt}},{key:"pKt",get:function(){return this.NXt.pKt}},{key:"cPt",get:function(){return this.NXt.cPt}},{key:"CZt",get:function(){return this.NXt.CZt},set:function(t){this.NXt.CZt=t}},{key:"wXt",get:function(){return this.NXt.wXt}},{key:"MKt",get:function(){return this.NXt.MKt}},{key:"TKt",get:function(){return this.NXt.TKt}},{key:"Wit",get:function(){return this.NXt.Wit}},{key:"NKt",get:function(){return this.NXt.NKt}},{key:"W",get:function(){return this.tst}},{key:"Fqt",get:function(){return this.NXt.Fqt},set:function(t){this.NXt.Fqt=t}}]),t}(),J0=function(){function t(t,n,i,r){this.uS=t,this.LKt=n,this.OKt=r,this.CKt=i}return At(t,[{key:"o",get:function(){return this.uS}},{key:"gZt",get:function(){return this.LKt}},{key:"xKt",get:function(){return this.CKt}},{key:"HHt",get:function(){return this.OKt}}]),t}();function $0(t,n){var i;if(t.vastAdsRequest&&(i=function(t){if(t.adTagUrl)return t.adTagUrl;if(t.adsResponse)return A0(t.adsResponse);return}(t.vastAdsRequest)),!i){var r=function(t){var n=t.contentUrl||t.contentId;if(!n)return;var i=t.contentType||"video/mp4",r=ZN(i)||JN(t.contentType)?"streaming":"progressive",e=void 0!==t.duration?"<Duration>"+Z0.cKt(t.duration)+"</Duration>":"",u=void 0!==t.whenSkippable&&t.whenSkippable>=0?' skipoffset="'+Z0.cKt(t.whenSkippable)+'"':"",s='<MediaFile delivery="'+r+'" type="'+i+'">'+m0(n)+"</MediaFile>",o=t.clickThroughUrl?"<VideoClicks><ClickThrough>"+m0(t.clickThroughUrl)+"</ClickThrough></VideoClicks>":"",a="<Linear"+u+">"+e+"<MediaFiles>"+s+"</MediaFiles>"+o+"</Linear>",c=t.title?"<AdTitle>"+m0(t.title)+"</AdTitle>":"";return'<VAST version="3.0"><Ad>'+c+"<InLine><Creatives><Creative>"+a+"</Creative></Creatives></InLine></Ad></VAST>"}(t);r&&(i=A0(r))}var e=t.customData;if(i){var u={integration:null==e?void 0:e.integration,sources:{src:i,type:"vast"},timeOffset:n};return u.integration&&"csai"!==u.integration&&"theo"!==u.integration||(u.skipOffset=t.whenSkippable),u}}!function(t){t.jKt="error",t.RKt="sourceupdate"}(H0||(H0={}));var t1=function(t){function n(n){var i;return(i=t.call(this,"error")||this).lt=n,i}return bt(n,t),n}(ra),n1=function(t){function n(n,i){var r;return(r=t.call(this,"sourceupdate")||this).bt=n,r.yc=i,r}return bt(n,t),n}(ra),i1=function(t){function n(n,i,r){var e;return(e=t.call(this,i)||this).tJt=0,e.XKt=function(t){e.Co(new t1(t))},e.HKt=function(t){var n,i=new E$(P$(t.code),null!=(n=t.description)?n:void 0);e.XKt(i)},e.hCt=n,e.BKt=i,e.PKt=r,e}bt(n,t);var i=n.prototype;return i.zKt=function(t){this.BKt.zKt(t)},i.UKt=function(t){this.BKt.UKt(t)},i.QKt=function(t){this.BKt.QKt(t)},i.FKt=function(t){this.BKt.FKt(t)},i.YKt=function(t){this.PKt.addUpdateListener(t)},i.GKt=function(t){this.PKt.removeUpdateListener(t)},i.VKt=function(){var t=this,n=new Bc,i=new chrome.cast.media.GetStatusRequest;return this.PKt.getStatus(i,(function(){n.LL({bt:t.B_(),yc:t.Wa()})}),(function(t){return n.xL(t)})),n.OL},i.B_=function(){var t;return null==(t=this.PKt.customData)?void 0:t.currentSource},i.Wa=function(){var t,n;if(null==(t=this.hCt.WKt())?void 0:t.version){var i;n=null==(i=this.PKt.customData)?void 0:i.sourceDescription}else{var r,e=null==(r=U$(this.PKt))?void 0:r.customData;(function(t){return Qn(t)&&t.theoplayer_version>=1&&Rn(t.streamStart)&&Rn(t.isLive)&&Rn(t.sourceDescription)})(e)&&(n=e.sourceDescription),n||(n=function(t){return{sources:[{src:t.contentId,type:t.contentType}],ads:r1(t)}}(this.PKt.media))}return n},i.Hg=function(){var t=new chrome.cast.media.PauseRequest;this.PKt.pause(t,Kn,this.HKt)},i.Zg=function(){var t=new chrome.cast.media.StopRequest;this.PKt.stop(t,Kn,this.HKt)},i.Xg=function(){var t=new chrome.cast.media.PlayRequest;this.PKt.play(t,Kn,this.HKt)},i.JA=function(t,n){var i=this,r=new chrome.cast.media.SeekRequest;return r.currentTime=t,r.resumeState=n?chrome.cast.media.ResumeState.PLAYBACK_PAUSE:chrome.cast.media.ResumeState.PLAYBACK_START,new q((function(t,n){i.PKt.seek(r,t,(function(t){var i;n(new E$(P$(t.code),null!=(i=t.description)?i:void 0))}))}))},i.vg=function(t){this.BKt.L7(Y$,function(t){return{type:Q$.WHt,properties:{playbackRate:t}}}(t)).catch(this.XKt)},i.ZKt=function(t){var n=new chrome.cast.media.EditTracksInfoRequest(t);this.PKt.editTracksInfo(n,Kn,this.HKt)},i.qKt=function(){return this.PKt.getEstimatedTime()},i.KKt=function(){return this.PKt.getEstimatedBreakClipTime()},i.JKt=function(){return this.PKt.getEstimatedBreakTime()},i.$Kt=function(){this.BKt.L7("urn:x-cast:com.google.cast.media",{type:F$.SKIP_AD,requestId:this.tJt++,mediaSessionId:this.PKt.mediaSessionId}).catch(this.XKt)},i.gn=function(){this.Vo()},At(n,[{key:"wM",get:function(){return this.PKt}}]),n}($o);function r1(t){return t.vmapAdsRequest&&t.vmapAdsRequest.adTagUrl?[{sources:{src:t.vmapAdsRequest.adTagUrl,type:"vmap"}}]:t.breaks&&t.breakClips?ko(t.breaks,(function(n){return function(t,n){var i=function(i,e){var u=e[i],s=co(n,(function(t){return t.id===u}));if(s){var o=$0(s,t.position);o&&r.push(o)}},r=[];if(t.isWatched)return r;for(var e=0,u=t.breakClipIds;e<u.length;e++)i(e,u);return r}(n,t.breakClips)})):[]}yt(),C();var e1,u1=function(){function t(t){this.hCt=t}var n=t.prototype;return n.iJt=function(t,n){this.hCt.addMessageListener(t,n)},n.eJt=function(t,n){this.hCt.removeMessageListener(t,n)},n.L7=function(t,n){var i=this;return new q((function(r,e){i.hCt.sendMessage(t,n,r,(function(t){var n;e(new E$(P$(t.code),null!=(n=t.description)?n:void 0))}))}))},n.gn=function(){},t}();function s1(t){return"vmap"===t||"adrule"===t}function o1(t){if(t)return Fn(t)&&""!==t?{src:Cm(t),type:void 0}:function(t){return Qn(t)&&Boolean(t.src)}(t)&&""!==t.src?{src:Cm(t.src),type:a1(t.type)}:void 0}function a1(t){if(Fn(t)){var n=t.toLowerCase();switch(n){case"vast":case"vmap":case"adrule":return n;default:return void oi("The ad source type provided in the configuration could not be recognized: '"+t+"'.")}}else t||oi("For better performance it is highly recommended to add the type to the configuration of your ad sources.")}function c1(t){if(void 0!==t&&""!==t&&("string"==typeof t||"number"==typeof t)){switch(t){case"start":case"00:00:00":case"00:00:00.000":case"0%":case"0":return 0;case"end":case"100%":return-1}if("string"==typeof t){if(function(t){return V$.test(t)}(t))return Z0.uKt(t);if(h1(t))return t}return Number(t)>=0?Number(t):void 0}}function h1(t){return new RegExp(/^\d{1,2}%$/).test(t)}function f1(t){for(var n=[],i=function(t,r){if(Pn(r))for(var e=0,u=r.length;e<u;e++){var s=Qn(r[e])&&r[e]?String(e):"";i(t+"["+encodeURIComponent(s)+"]",r[e])}else if(Qn(r))for(var o=0,a=g.keys(r);o<a.length;o++){var c=a[o];i(t+"["+encodeURIComponent(c)+"]",r[c])}else!function(t,i){n.push(t+"="+encodeURIComponent(null!=i?i:""))}(t,String(r))},r=0,e=g.keys(t);r<e.length;r++){var u=e[r];i(encodeURIComponent(u),t[u])}return n.join("&")}yt(),C(),yt(),C(),yt(),C(),function(t){t.GHt="receiver_info",t.iPt="event",t.sJt="propertychange",t.VHt="trackevent"}(e1||(e1={}));var v1,l1=function(){function t(t){var n=this;this.rJt=[],this.oJt=[],this.cJt=function(t,i){var r=n.nJt(i);if(r)if(r.type===e1.sJt)for(var e=0,u=n.rJt;e<u.length;e++)for(var s=u[e],o=0,a=g.keys(r.properties);o<a.length;o++){var c=a[o];s(c,r.properties[c])}else if(r.type===e1.iPt)for(var h=0,f=n.oJt;h<f.length;h++){(0,f[h])(r.event)}else r.type===e1.VHt&&n.aJt&&r.event.trackState&&n.aJt(r.event.trackId,r.event.trackState.targetQualityIds)},this.uJt=t,this.uJt.iJt(Y$,this.cJt)}var n=t.prototype;return n.nJt=function(t){var n;try{n=JSON.parse(t)}catch(t){0}return n},n.zKt=function(t){this.rJt.push(t)},n.UKt=function(t){go(this.rJt,t)},n.QKt=function(t){this.oJt.push(t)},n.FKt=function(t){go(this.oJt,t)},n.hJt=function(t){this.aJt=t},n.L7=function(t,n){return this.uJt.L7(t,n)},n.gn=function(){this.uJt.eJt(Y$,this.cJt),po(this.oJt),po(this.rJt),this.aJt=void 0},t}();yt(),C(),yt(),C(),function(t){t.lJt="medialoadedchange",t._m="volumechange",t.jKt="casterror",t.dJt="playererror",t.fJt="targetqualitychanged",t._Jt="receiverinfochanged"}(v1||(v1={}));var d1,g1=function(t){function n(){return t.call(this,"medialoadedchange")}return bt(n,t),n}(ra),w1=function(t){function n(n,i){var r;return(r=t.call(this,"volumechange")||this).zg=n,r.og=i,r}return bt(n,t),n}(ra),y1=function(t){function n(n){var i;return(i=t.call(this,"casterror")||this).lt=n,i}return bt(n,t),n}(ra),m1=function(t){function n(n){var i;return(i=t.call(this,"playererror")||this).lt=n,i}return bt(n,t),n}(ra),A1=function(t){function n(n,i){var r;return(r=t.call(this,"targetqualitychanged")||this).AM=n,r.gJt=i,r}return bt(n,t),n}(ra),p1=function(t){function n(){return t.call(this,"receiverinfochanged")}return bt(n,t),n}(ra),_1=function(t){function n(n){var i;(i=t.call(this)||this).pJt=void 0,i.XKt=function(t){i.Co(new y1(t))},i.xJt=function(t,n){"error"===t&&i.Co(new m1(n))},i.CJt=function(t,n){i.Co(new A1(t,n))},i.mJt=function(t,n){var r=JSON.parse(n);r.type===e1.GHt&&(i.pJt=r.info,i.Co(new p1))},i.bJt=function(){var t=i.AJt().receiver.volume,n=t.level,r=t.muted;i.Co(new w1(null!=n?n:void 0,null!=r?r:void 0))},i.LJt=function(){return i.yJt(i.hCt.getMediaSession())},i.TJt=function(t){var n;t||(null==(n=i.MJt)||n.GKt(i.TJt),i.MJt=void 0,i.Co(new g1))},i.EJt=function(t){var n,r=new E$(P$(t.code),null!=(n=t.description)?n:void 0);i.XKt(r)},i.hCt=n,i.hCt.addEventListener(cast.framework.SessionEventType.MEDIA_SESSION,i.LJt),i.uJt=new u1(n.getSessionObj()),i.BKt=new l1(i.uJt),i.BKt.zKt(i.xJt),i.BKt.hJt(i.CJt),i.AJt().addUpdateListener(i.bJt),i.bJt(),i.vJt();var r=i.hCt.getMediaSession();return r&&i.yJt(r),i}bt(n,t);var i=n.prototype;return i.wJt=function(t,n,i){this.BKt.L7(Y$,function(t,n,i){return{type:Q$.VHt,trackID:t,trackType:n,properties:{targetQuality:i}}}(t,n,i)).catch(this.XKt)},i.vJt=function(){this.uJt.iJt(Y$,this.mJt),this.BKt.L7(Y$,{type:Q$.GHt}).catch(Kn)},i.WKt=function(){return this.pJt},i.AJt=function(){return this.hCt.getSessionObj()},i.yJt=function(t){!this.MJt&&t&&t.idleReason!==chrome.cast.media.IdleReason.FINISHED&&(this.MJt=new i1(this,this.BKt,t),this.bJt(),this.Co(new g1),this.MJt.YKt(this.TJt))},i.SJt=function(){return this.MJt},i.NJt=function(t){var n=this;return Ot((function(){var i,r,e;return Rt(this,(function(u){switch(u.label){case 0:i=function(t){var n=function(t,n,i,r){var e=iE(t)||"",u=tE(t)||"",s=new chrome.cast.media.MediaInfo(e,u);return s.metadata=B$(t.metadata,t.poster),s.streamType=r,function(t,n,i){for(var r,e=function(t){var e=n[t],c=o1(e.sources);if(c)if(Z$(c,e.timeOffset))(r=new chrome.cast.media.VastAdsRequest).adTagUrl=c.src;else if(H$(c,e.timeOffset)){var h,f,v=null!=(h=e.timeOffset)?h:0,l=e.skipOffset,d=null!=(f=Z0.dKt(v,i))?f:0,g=void 0!==l?Z0.dKt(l,i):void 0,w=new chrome.cast.media.BreakClip("bc"+a++);w.vastAdsRequest=new chrome.cast.media.VastAdsRequest,w.vastAdsRequest.adTagUrl=c.src,w.whenSkippable=g,w.customData={integration:e.integration};var y=co(s,(function(t){return t.position===d}));void 0===y&&(y=new chrome.cast.media.Break("b"+o++,[],d),s.push(y)),y.breakClipIds.push(w.id),u.push(w)}else 0;else 0},u=[],s=[],o=0,a=0,c=0;c<n.length;c++)e(c);t.breakClips=u,t.breaks=s,t.vmapAdsRequest=r}(s,n,i),s}(t.IJt,t.Oc,t.ct,t.QK),i=new chrome.cast.media.LoadRequest(n);return i.autoplay=!0,i.currentTime=t.U_,i.customData=t.DJt,i}(t),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,n.hCt.loadMedia(i)];case 2:return r=u.sent(),[3,4];case 3:return e=u.sent(),r=e,[3,4];case 4:if(r)throw new E$(P$(r));return[2]}}))}))()},i.ag=function(t){this.AJt().setReceiverMuted(t,Kn,this.EJt)},i.Ug=function(t){this.AJt().setReceiverVolumeLevel(t,Kn,this.EJt)},i.kJt=function(){return this.AJt().receiver.friendlyName},i.gn=function(){this.Vo(),this.hCt.removeEventListener(cast.framework.SessionEventType.MEDIA_SESSION,this.LJt),this.AJt().removeUpdateListener(this.bJt),this.uJt.eJt(Y$,this.mJt),this.BKt.gn(),this.uJt.gn()},n}($o);!function(t){t.OJt="statechange"}(d1||(d1={}));var k1=function(t){function n(n){var i;return(i=t.call(this,"statechange")||this).Wdt=n,i}return bt(n,t),n}(ra),b1=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).r2t=void 0,n.n2t=void 0,n.qX=function(){var t=n.V1t();n.r2t=t===BI.CONNECTED?new _1(n.o2t.getCurrentSession()):void 0,n.Co(new k1(t))},n}bt(n,t);var i=n.prototype;return i.M1t=function(t){this.n2t=t},i.b1t=function(){return this.n2t},i.S1t=function(){return this.r2t},i.V1t=function(){switch(this.o2t.getCastState()){case cast.framework.CastState.CONNECTED:return BI.CONNECTED;case cast.framework.CastState.CONNECTING:return BI.CONNECTING;case cast.framework.CastState.NOT_CONNECTED:return BI.AVAILABLE;case cast.framework.CastState.NO_DEVICES_AVAILABLE:default:return BI.UNAVAILABLE}},i.oX=function(t,n){var i=this;return Ot((function(){return Rt(this,(function(r){switch(r.label){case 0:return[4,S$(n)];case 1:return r.sent(),i.o2t=cast.framework.CastContext.getInstance(),i.o2t.addEventListener(cast.framework.CastContextEventType.CAST_STATE_CHANGED,i.qX),i.o2t.setOptions({receiverApplicationId:t.appID,autoJoinPolicy:chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED}),[2]}}))}))()},i.k1t=function(){var t=this;return Ot((function(){var n,i;return Rt(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,t.o2t.requestSession()];case 1:if(n=r.sent())throw n;return[3,3];case 2:throw i=r.sent(),new E$(P$(i));case 3:return[2]}}))}))()},i.x1t=function(t){var n;return null==(n=this.n2t)?void 0:n.onStart(t)},i.U1t=function(t){var n;return null==(n=this.n2t)?void 0:n.onStop(t)},i.O1t=function(t){var n;return null==(n=this.n2t)?void 0:n.onJoin(t)},i.B1t=function(t){var n;return null==(n=this.n2t)?void 0:n.onLeave(t)},i.F1t=function(t){this.o2t.endCurrentSession(t)},n}($o);yt(),C(),Xt(),zt(),Mt(),Ut(),yt(),C(),zt(),pt(),Mt(),Ut(),yt(),C(),Xt(),zt(),pt(),Mt(),Ut(),yt(),C(),Mt();var M1,T1=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return(h=t.call(this)||this).Qo=n,h.jJt=0,h.YT=new Vm,h.VT=new Vm,h.Dl=new Y_,h.Ic=new iB,h.jJt=i,h.hU=r-i,h.jx=e,h.o2=u,h.cU=s,h.lU=o,h.PJt=a,h.zJt=c,h}bt(n,t);var i=n.prototype;return i.ait=function(){return this.Ic},i.j_=function(){return HD.oU()},i.Q_=function(){return this.hU+this.jJt},i.Ktt=function(){return this.Q_()},i.P_=function(){},i.Td=function(){return this.jx},i.V_=function(){return this.o2},i.W_=function(){},i._g=function(){return this.cU},i.RJt=function(){},i.wg=function(){return this.lU},i.vg=function(t){this.lU!==t&&(this.lU=t,this.Co(new AD(this.Qo.U_,t)))},i.Ng=function(){return mk.BT},i.Ag=function(){return HD.oU()},i.Dg=function(){return HD.oU()},i.Lg=function(){return!1},i.L_=function(){return this.YT},i.jg=function(){return this.VT},i.xg=function(){return this.Dl},i.ZKt=function(t){},i.Pg=function(){return this.PJt},i.Og=function(){return this.zJt},i.Xg=function(){this.cU=!1},i.Hg=function(){this.cU=!0},i.JA=function(t){this.hU=t-this.jJt},i.BJt=function(){return this.jJt},i.UJt=function(t){this.jJt=t},i.Yit=function(t){this.Ic.Yit(t)},i.Zg=function(){},i.gn=function(){this.Vo(),this.YT.gn(),this.VT.gn(),this.Dl.gn(),this.Ic.gn()},n}($o);yt(),C(),Mt(),Vt(),yt(),C(),pt(),Mt(),yt(),C(),Mt(),yt(),C(),function(t){t.QJt="ccmodechangerequest",t.FJt="cctargetqualitychangerequest",t.YJt="cctrackchangerequest"}(M1||(M1={}));var N1,D1,I1=function(t){function n(n,i,r){var e;return(e=t.call(this,M1.QJt)||this).track=n,e.trackId=i,e.mode=r,e}return bt(n,t),n}(ra);function E1(t){return"AUDIO"===t.type}function S1(t){return"VIDEO"===t.type}function L1(t){return"TEXT"===t.type}yt(),C(),function(t){t.Ru="TEXT",t.WA="AUDIO",t.VA="VIDEO"}(N1||(N1={})),function(t){t.HA="SUBTITLES",t.sD="CAPTIONS",t.nD="DESCRIPTIONS",t.Fn="CHAPTERS",t.ZA="METADATA"}(D1||(D1={}));var j1=function(t){function n(n){var i;(i=t.call(this)||this).Xa=void 0;var r=n.customData;return i.Xw=Number(n.trackId)||0,i.o=""+(r&&r.id||i.Xw),i.lS=r&&r.label||n.name||"",i.gs=r&&r.language||n.language||"",i.fv=r&&r.inBandMetadataTrackDispatchType||"",i.zt=r&&r.kind||function(t){switch(t){case D1.HA:return Q_.HA;case D1.sD:return Q_.sD;case D1.nD:return Q_.nD;case D1.Fn:return Q_.Fn;case D1.ZA:return Q_.ZA}return}(n.subtype)||"subtitles",i.Sg=yA.NONE,i.Av=r&&void 0!==r.type?function(t){return _A(t)?t:mA.DEFAULT}(r.type):mA.WEBVTT,i.S2=[],i.I2=new jC(i.S2),i.j2=[],i.N2=new jC(i.j2),i.CU=z_(r&&r.mode||A_.Ch),i.GJt=i.CU,i}bt(n,t);var i=n.prototype;return i.D2=function(t){return co(this.I2.Rw,(function(n){return n.o===t}))},i.mv=function(t){this._v=t},i.WJt=function(t){},i.gn=function(){},i.tr=function(){},At(n,[{key:"va",get:function(){return this.Xa||(this.Xa=B_(this)),this.Xa}},{key:"kh",get:function(){return this.lS},set:function(t){t!==this.lS&&(this.lS=t,this.Co(new eA(this)))}},{key:"q",get:function(){return this.N2}},{key:"L",get:function(){return this.I2}},{key:"_v",get:function(){return this.CU},set:function(t){var n=z_(t);this.CU!==n&&(this.CU=n,this.GJt!==n&&this.Co(new I1(this,this.Xw,n)),this.Co(new iA(this)))}},{key:"VJt",get:function(){return this.GJt},set:function(t){var n=z_(t),i=this.CU!==n;this.CU=n,this.GJt=n,i&&this.Co(new iA(this))}}]),n}($o);yt(),C(),Xt(),pt(),Mt(),yt(),C(),Mt();var C1=function(t){function n(n,i){var r;return(r=t.call(this,M1.YJt)||this).trackId=n,r.enabled=i,r}return bt(n,t),n}(ra);yt(),C(),Mt();var x1,O1=function(t){function n(n,i){var r;return(r=t.call(this,M1.FJt)||this).track=n,r.targetQuality=i,r}return bt(n,t),n}(ra);yt(),C(),function(t){t.WA="audio",t.VA="video",t.Ru="text"}(x1||(x1={}));var z1,R1=function(t){function n(n){var i;(i=t.call(this)||this).$lt=void 0,i.sS=new nA,i.Klt=void 0,i.Xa=void 0,i.jjt=function(){return i.Co(new eA(Wt(i)))};var r=n.customData;if(i.Xw=Number(n.trackId)||0,i.o=""+(r&&r.id||i.Xw),i.lS=r&&r.label||n.name||"",i.gs=r&&r.language||n.language||"",i.zt=r&&r.kind||"main",i.Le=r&&r.enabled,i.XJt=i.Le,E1(n)){i.O0=x1.WA;var e=n.customData&&n.customData.qualities;if(e)for(var u=0;u<e.length;u++){var s=e[u],o=new NF(s.id,s.bandwidth,s.codecs,s.name,"",s.audioSamplingRate);o.yn("update",i.jjt),i.sS.nS(o)}}else{i.O0=x1.VA;var a=n.customData&&n.customData.qualities;if(a)for(var c=0;c<a.length;c++){var h=a[c],f=new TF(h.id,h.bandwidth,h.codecs,h.name,"",h.frameRate,h.width,h.height);f.yn("update",i.jjt),i.sS.nS(f)}}return i}bt(n,t);var i=n.prototype;return i.fS=function(t){this.Rt=t},i.WJt=function(t){if(t.targetQualityIds){for(var n=[],i=0,r=this.sS.Rw;i<r.length;i++){var e=r[i];t.targetQualityIds.indexOf(e.o)>-1&&n.push(e)}var u=n.length?n:void 0;this.HJt(u)}},i.HJt=function(t){(function(t,n){return!t&&n||t&&!n||t&&n&&!_o(t,n)})(this.Klt,t)&&(this.Klt=t&&this.sS.oS(t)?t:void 0,this.Co(new CU(this.Klt,this)))},i.unload=function(){for(var t=0,n=this.sS.Rw;t<n.length;t++){n[t].fn("update",this.jjt)}this.sS.tr()},At(n,[{key:"Hw",get:function(){return this.$lt}},{key:"Kw",get:function(){return this.Klt},set:function(t){this.HJt(t),this.Co(new O1(this,t))}},{key:"qw",get:function(){return this.sS}},{key:"kh",get:function(){return this.lS},set:function(t){t!==this.lS&&(this.lS=t,this.Co(new eA(this)))}},{key:"Rt",get:function(){return this.Le},set:function(t){this.Le!==t&&(this.Le=t,this.XJt!==t&&this.Co(new C1(this.Xw,t)),this.Co(new iA(this)))}},{key:"ZJt",get:function(){return this.XJt},set:function(t){var n=this.Le!==t;this.Le=t,this.XJt=t,n&&this.Co(new iA(this))}},{key:"va",get:function(){return this.Xa||(this.Xa=Qm(this)),this.Xa}},{key:"_v",get:function(){return this.Rt?"enabled":"disabled"}}]),n}($o);yt(),C(),function(t){t.qJt="legacy",t.KJt="caf"}(z1||(z1={})),yt(),C(),pt(),Mt(),yt(),C(),pt(),Mt(),yt(),C(),yt(),C();var B1=function(){function t(t){this.JJt=0,this.Ic=t}var n=t.prototype;return n.Mc=function(){if(!(this.JJt>=this.Ic.length)){var t=this.Ic[this.JJt];return this.JJt+=1,t}},n.lt=function(){return this.Mc()},t}();function P1(t){var n,i,r;return null!=(r=null==(i=t.pKt)||null==(n=i.HHt)?void 0:n.XHt())?r:[]}var U1,Q1=function(){},Y1=function(){function t(){this.Xa=void 0}return t.prototype.Nit=function(){var t;return null!=(t=this.Xa)?t:this.Xa=function(t){return{get ads(){return t.Oc.map((function(t){return t.Nit()}))},get integration(){return t.vKt},get maxDuration(){return t.$Jt},get maxRemainingDuration(){return t.t$t},get timeOffset(){return t.cPt},get customData(){return t.DJt}}}(this)},t}(),F1=function(){function t(t,n){this.e$t=t,this.Qo=n}return At(t,[{key:"i$t",get:function(){return this.e$t}},{key:"t",get:function(){return this.Qo}}]),t}(),G1=function(t){function n(n,i){var r;return(r=t.call(this)||this).o$t=[],r.a$t=[],r.IKt=n,r.h$t=i,r}bt(n,t);var i=n.prototype;return i.n$t=function(t,n,i,r){var e=co(this.o$t,(function(n){return n.uXt===t}));if(void 0!==e)return e;var u=new Z1(t,n,this,this.h$t,i,r);return this.o$t.push(u),u},i.r$t=function(t,n,i,r,e){var u=co(this.a$t,(function(n){return n.dXt===t}));if(void 0!==u)return u;var s=new X1(t,n,i,this,this.h$t,r,e);return this.a$t.push(s),s},At(n,[{key:"Fqt",get:function(){return this.IKt}},{key:"Oc",get:function(){for(var t=[],n=0,i=this.IKt.s$t;n<i.length;n++)for(var r=i[n],e=0,u=P1(r);e<u.length;e++){var s,o,a=u[e],c=null!=(o=null==(s=a.lXt)?void 0:s.RXt)?o:[];if(a.uXt&&t.push(this.n$t(a.uXt,c,a.fXt,r.Wit)),a.dXt)for(var h=0,f=a.dXt._Xt;h<f.length;h++){var v=f[h];t.push(this.r$t(v,c,a.dXt,a.fXt,r.Wit))}}return t}},{key:"vKt",get:function(){return AI.CSAI}},{key:"cPt",get:function(){var t=this.IKt.Kl;return t>=0?t:this.h$t.t.Td()}},{key:"t$t",get:function(){for(var t=0,n=0,i=this.IKt.s$t;n<i.length;n++)for(var r=0,e=P1(i[n]);r<e.length;r++){var u=e[r];u.uXt&&!u.uXt.jZt&&(t+=u.uXt.ct)}return this.h$t&&this.h$t.i$t&&(t+=this.h$t.i$t.ct-this.h$t.i$t.U_),t}},{key:"$Jt",get:function(){for(var t=0,n=0,i=this.IKt.s$t;n<i.length;n++)for(var r=0,e=P1(i[n]);r<e.length;r++){var u=e[r];u.uXt&&(t+=u.uXt.ct)}return t}},{key:"DJt",get:function(){}}]),n}(Y1),V1={height:0,width:0,clickThrough:"",contentHTML:"",resourceURI:"",altText:""},W1=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this)||this).c$t=!1,o.v$t=n,o.PXt=i,o.NXt=r,o.h$t=e,o.DZt=u,o.mKt=s,o}bt(n,t);var i=n.prototype;return i.u$t=function(){return this.c$t},i.l$t=function(){this.c$t=!0},i.d$t=function(t){return $u({},V1,{resourceURI:t.lqt||""})},i.f$t=function(t){return $u({},V1,{contentHTML:t.lqt.trim(),type:"HTMLResource"})},i._$t=function(t){var n,i;return $u({},V1,{clickThrough:(null==(n=t.sZt)?void 0:n.trim())||"",resourceURI:(null==(i=t.lqt)?void 0:i.trim())||"",altText:t.iZt||"",type:"StaticResource"})},i.g$t=function(t,n,i){if(t&&n){var r="<img "+(i?"title='"+i+"' ":"")+"src='"+encodeURI(t)+"'>";return"<a href='"+encodeURI(n)+"' target='_blank' rel='noopener'>"+r+"</a>"}},i.lXt=function(t){var n=this;return t?t.map((function(t){var i,r={adSlotId:t.XXt||"",height:t.Ti||0,width:t.ji||0};if(t.mXt){var e,u=n._$t(t.mXt),s=u.clickThrough||(null==(e=t.JXt)?void 0:e.sZt);i=$u({},u,{contentHTML:n.g$t(u.resourceURI,s,u.altText)||""})}else if(t.MXt)i=n.f$t(t.MXt);else{if(!t.AXt)return;i=n.d$t(t.AXt)}return km(i,r)})).filter((function(t){return void 0!==t})):[]},i.w$t=function(){return this.v$t.eXt},At(n,[{key:"Xl",get:function(){return this.NXt}},{key:"Wit",get:function(){return this.mKt}},{key:"fXt",get:function(){return this.DZt}}]),n}(Q1),X1=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,n,i,e,u,s,o)||this).m$t=r,a}bt(n,t);var i=n.prototype;return i.fa=function(){var t=this.NXt,n={companions:this.lXt(this.PXt),type:"nonlinear",id:this.v$t.IXt,skipOffset:this.CZt,integration:this.mKt.integration,adSystem:this.v$t.eXt,get adBreak(){return t.Nit()},creativeId:this.v$t.IXt,universalAdIds:this.DZt.map((function(t){return{adIdRegistry:t.Dqt,adIdValue:t.kqt}}))};return this.v$t.AXt?km(this.d$t(this.v$t.AXt),n):this.v$t.MXt?km(this.f$t(this.v$t.MXt),n):this.v$t.mXt?km(this._$t(this.v$t.mXt),n):n},i.Nit=function(){var t;return null!=(t=this.Xa)?t:this.Xa=this.fa()},i.p$t=function(){var t,n;return null!=(n=null==(t=this.v$t.mXt)?void 0:t.lqt)?n:""},i.A$t=function(){var t,n,i;return null!=(i=null==(n=this.v$t)||null==(t=n.mXt)?void 0:t.fqt)?i:""},At(n,[{key:"dXt",get:function(){return this.v$t}},{key:"cXt",get:function(){return this.m$t}},{key:"CZt",get:function(){var t,n=this.v$t.Xl;return n&&n.Wit&&void 0!==n.Wit.skipOffset?Z0.dKt(n.Wit.skipOffset,this.h$t.i$t.ct):(null==(t=this.v$t.Xl)?void 0:t.CZt)||-1}}]),n}(W1),Z1=function(t){function n(n,i,r,e,u,s){return t.call(this,n,i,r,e,u,s)}bt(n,t);var i=n.prototype;return i.fa=function(){var t,n=this.NXt;return{companions:this.lXt(this.PXt),duration:this.v$t.ct,id:this.v$t.IXt,mediaFiles:this.v$t.kZt,skipOffset:this.CZt,type:"linear",integration:this.mKt.integration,adSystem:this.v$t.eXt,width:void 0,height:void 0,get adBreak(){return n.Nit()},clickThrough:null==(t=this.v$t.AZt)?void 0:t.sZt,creativeId:this.v$t.IXt,universalAdIds:this.DZt.map((function(t){return{adIdRegistry:t.Dqt,adIdValue:t.kqt}}))}},i.Nit=function(){var t;return null!=(t=this.Xa)?t:this.Xa=this.fa()},i.p$t=function(){return this.v$t.kZt.length>0?this.v$t.kZt[0].contentURL:""},i.A$t=function(){return this.v$t.kZt.length>0?this.v$t.kZt[0].type:""},At(n,[{key:"uXt",get:function(){return this.v$t}},{key:"CZt",get:function(){var t=this.v$t.Xl;return t&&t.Wit&&void 0!==t.Wit.skipOffset?Z0.dKt(t.Wit.skipOffset,this.h$t.i$t.ct):this.v$t.CZt||-1}}]),n}(W1);function H1(t){return t instanceof Z1}yt(),C(),function(t){t.y$t="csai",t.M$t="google-ima",t.so="google-dai",t.b$t="freewheel",t.T$t="mediatailor",t.AE="chromecast",t.git="theoads"}(U1||(U1={})),yt(),C(),Mt();var K1=function(t){function n(n){return t.call(this,"S$t",n)}return bt(n,t),n.prototype.fa=function(){return new q1(this.Rit.Nit())},n}(QR),q1=function(t){function n(n){return t.call(this,"updatead",n)}return bt(n,t),n}(YR);yt(),C(),Mt();var J1=function(t){function n(n){return t.call(this,"N$t",n)}return bt(n,t),n.prototype.fa=function(){return new $1(this.Rit.Nit())},n}(QR),$1=function(t){function n(n){return t.call(this,"adloaded",n)}return bt(n,t),n}(YR),t2=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).D$t=[],e.I$t=void 0,e.v$t=void 0,e.Xa=void 0,e.Yr=function(t){var n;if(t){var i=e.PKt.wM,r=i.breakStatus,u=i.media,s=u.breakClips,o=u.breaks,a=null==(n=U$(i))?void 0:n.media,c=[];o&&s&&e.x$t(o,s,a,c),e.R$t(r,c);for(var h=0;h<c.length;h++){var f=c[h];e.Co(f)}}},e.Qo=n,e.PKt=i,e.k$t=r,e.PKt.YKt(e.Yr),e}bt(n,t);var i=n.prototype;return i.W4=function(t,n,i){throw new l("Scheduling ads while casting is not supported.")},i.Ny=function(){this.PKt.$Kt()},i.Git=function(t){var n;null==(n=this.k$t)||n.Git(t)},i.Lit=function(t,n){var i;null==(i=this.k$t)||i.Lit(t,n)},i.L$t=function(t){return co(this.D$t,(function(n){return n.o===t}))},i.x$t=function(t,n,i,r){for(var e=this.D$t,u=[],s=!1,o=0;o<t.length;o++){var a=t[o],c=this.L$t(a.id);void 0===c&&(c=new n2(a),r.push(new PR(c))),!Rn(c.C$t)&&Rn(i)&&(c.C$t=this.O$t(c.j$t,i));var h=c.Oc;c.Yn(a,n,i,r);for(var f=c.Oc,v=0;v<f.length;v++){var l=f[v];mo(h,l)||(r.push(new FR(l)),s=!0)}u.push(c)}this.D$t=u,s&&r.push(new $R);for(var d=0;d<e.length;d++){var g=e[d];mo(u,g)||r.push(new RR(g))}},i.R$t=function(t,n){var i,r,e=this.I$t,u=this.v$t;if(t){var s,o=t.breakId,a=t.breakClipId;i=o?this.L$t(o):void 0,r=a?null==(s=this.I$t)?void 0:s.P$t(a):void 0}if(this.I$t=i,this.v$t=r,i!==e&&(void 0!==e&&(e.z$t=void 0,n.push(new VR(e))),void 0!==i&&(i.z$t=this.PKt,n.push(new XR(i)))),r!==u){var c=this.Qo.Q_();void 0!==u&&n.push(new qR(u,c)),void 0!==r&&n.push(new HR(r,c))}},i.O$t=function(t,n){if(n&&n.breaks){var i=co(n.breaks,(function(n){return n.id===t.id}));return i}},i.Yit=function(t){for(var n=[],i=0,r=this.D$t;i<r.length;i++){var e=r[i],u=e.Oc;if(e===this.I$t&&void 0!==this.v$t){var s=u.indexOf(this.v$t);s>=0&&(u=u.slice(s))}else if(e.E$t())continue;for(var o=0;o<u.length;o++){var a=u[o].B$t();a&&n.push(a)}}for(var c=0;c<n.length;c++){var h=n[c];t.W4(h,ER.kit,!1)}},i.gn=function(){return this.Vo(),this.PKt.GKt(this.Yr),void 0!==this.I$t&&(this.I$t.z$t=void 0,this.I$t=void 0),this.v$t=void 0,po(this.D$t),q.resolve(void 0)},At(n,[{key:"Fc",get:function(){return void 0!==this.I$t}},{key:"Sit",get:function(){return this.v$t?[this.v$t]:[]}},{key:"Iit",get:function(){var t;return null!=(t=this.I$t)?t:null}},{key:"Dit",get:function(){var t=this;return ko(this.D$t,(function(n){var i=n.Oc;if(n===t.I$t&&void 0!==t.v$t){var r=i.indexOf(t.v$t);if(r>=0)return i.slice(r+1)}return n.E$t()?[]:i}))}},{key:"Eit",get:function(){var t=this;return this.D$t.filter((function(n){return n===t.I$t||!n.E$t()}))}},{key:"va",get:function(){var t;return null!=(t=this.Xa)?t:this.Xa=xR(this)}}]),n}(na),n2=function(t){function n(n){var i;return(i=t.call(this)||this).C$t=void 0,i.Ic=[],i.z$t=void 0,i.U$t=n,i}bt(n,t);var i=n.prototype;return i.E$t=function(){return this.U$t.isWatched},i.P$t=function(t){return co(this.Ic,(function(n){return n.o===t}))},i.Yn=function(t,n,i,r){for(var e,u=function(u){var o=t.breakClipIds[u],a=co(n,(function(t){return t.id===o}));if(void 0===a)return"continue";var c=u<e.Ic.length?e.Ic[u]:new i2(a,e);!Rn(c.Q$t)&&Rn(i)&&(c.Q$t=e.F$t(i,o,u)),c.Yn(a,r),s.push(c)},s=[],o=0;o<t.breakClipIds.length;o++)e=this,u(o);this.U$t=t,this.Ic=s},i.F$t=function(t,n,i){if(t&&t.breakClips){var r=co(t.breakClips,(function(t){return t.id===n}));if(!r){var e,u=null==(e=this.C$t)?void 0:e.breakClipIds[i];u&&(r=co(t.breakClips,(function(t){return t.id===u})))}return r}},At(n,[{key:"j$t",get:function(){return this.U$t}},{key:"o",get:function(){return this.U$t.id}},{key:"Oc",get:function(){return this.Ic}},{key:"vKt",get:function(){return U1.AE}},{key:"$Jt",get:function(){var t=this.U$t.duration;return void 0===t&&this.Ic.length>0&&(t=Wi(this.Ic,(function(t){return t.ct})),A(t)&&(t=void 0)),t}},{key:"t$t",get:function(){var t=this.$Jt;if(void 0!==t&&void 0!==this.z$t){var n=this.z$t.JKt();if(void 0!==n)return w.max(0,t-n)}return t}},{key:"cPt",get:function(){return this.U$t.position}},{key:"DJt",get:function(){}}]),n}(Y1),i2=function(){function t(t,n){this.Xa=void 0,this.G$t=t,this.Xl=n}var n=t.prototype;return n.w$t=function(){return""},n.A$t=function(){var t;return null!=(t=this.G$t.contentType)?t:""},n.p$t=function(){var t,n;return null!=(n=null!=(t=this.G$t.contentUrl)?t:this.G$t.contentId)?n:""},n.Yn=function(t,n){var i=this.o,r=this.ct,e=this.G$t.contentUrl;this.G$t=t;var u=this.o,s=this.ct,o=this.G$t.contentUrl;i===u&&(r===s||A(r)&&A(s))&&e===o||n.push(new K1(this)),A(r)&&!A(s)&&n.push(new J1(this))},n.B$t=function(){var t;return this.Q$t&&(t=$0(this.Q$t,this.Xl.cPt)),t||(t=$0(this.G$t,this.Xl.cPt)),t},n.Nit=function(){var t;return null!=(t=this.Xa)?t:this.Xa=this.fa()},n.fa=function(){var t=this;return{get companions(){return t.RXt},get duration(){return t.ct},get id(){return t.o},get mediaFiles(){return t.kZt},get skipOffset(){return t.CZt},type:"linear",integration:U1.AE,get adSystem(){return t.w$t()},width:void 0,height:void 0,get adBreak(){return t.Xl.Nit()},get resourceURI(){return t.p$t()},get clickThrough(){return t.sZt},get creativeId(){return t.IXt},get customData(){return t.DJt},get isSlate(){return!1},get universalAdIds(){return t.fXt.map((function(t){return{adIdRegistry:t.Dqt,adIdValue:t.kqt}}))}}},At(t,[{key:"Y$t",get:function(){return this.G$t}},{key:"o",get:function(){return this.G$t.id}},{key:"RXt",get:function(){return[]}},{key:"ct",get:function(){var t;return null!=(t=this.G$t.duration)?t:NaN}},{key:"kZt",get:function(){var t=this.p$t();return t?[{contentURL:t,delivery:"progressive",type:this.A$t(),width:0,height:0}]:[]}},{key:"CZt",get:function(){var t=this.G$t.whenSkippable;return void 0===t?void 0:t<0?-1:t}},{key:"sZt",get:function(){return this.G$t.clickThroughUrl}},{key:"IXt",get:function(){}},{key:"fXt",get:function(){return[]}},{key:"DJt",get:function(){}}]),t}();yt(),C(),pt(),Mt();var r2,e2=function(t){function n(n,i){var r;return void 0===i&&(i=an.Ys.Je),(r=t.call(this)||this).Le=!1,r.X$t=function(t){t.stopPropagation(),r.Co(new ra("clickstart"))},r.Z$t=function(t){t.stopPropagation(),r.Co(new ra("click"))},r.ast=n,r.H$t=i,r.Us=u.createElement("a"),r.Us.style.position="absolute",r.Us.style.zIndex="11",r.Us.target="Du",r.H$t?(yz(r.Us,"learn more"),r.Us.className="theoplayer-ad-overlay-component theoplayer-ad-touch-clickthrough",r.Us.setAttribute("rel","noopener")):_u(r.Us),r.ast.appendChild(r.Us),r.bD(),r}bt(n,t);var i=n.prototype;return i.MD=function(){if(!this.Le){this.Le=!0,this.Us.style.display="",this.H$t||(this.ast.style.cursor="pointer");var t=this.H$t?this.Us:this.ast;an.Ys.Je?(t.addEventListener("touchstart",this.X$t),t.addEventListener("touchend",this.Z$t)):(t.addEventListener("mousedown",this.X$t),t.addEventListener("click",this.Z$t))}},i.bD=function(){if(this.Le){this.Le=!1,this.Us.style.display="none",this.H$t||(this.ast.style.cursor="");var t=this.H$t?this.Us:this.ast;an.Ys.Je?(t.removeEventListener("touchstart",this.X$t),t.removeEventListener("touchend",this.Z$t)):(t.removeEventListener("mousedown",this.X$t),t.removeEventListener("click",this.Z$t))}},i.h_=function(){this.Vo(),this.bD(),this.ast.removeChild(this.Us)},At(n,[{key:"V$t",get:function(){return this.W$t},set:function(t){this.W$t!==t&&(this.W$t=t,this.Us.href=null!=t?t:"",t?this.MD():this.bD())}}]),n}($o);yt(),C(),pt(),Mt(),yt(),C(),function(t){t.q$t="theo-size-xs",t.K$t="theo-size-s",t.J$t="theo-size-m",t.$$t="theo-size-l",t.t0t="theo-size-xl"}(r2||(r2={}));var u2=[1200,992,768,576],s2={1200:"theo-size-xl",992:"theo-size-l",768:"theo-size-m",576:"theo-size-s"},o2=function(){function t(t,n){var i=this;this.Us=t,this.Wu=n,this.mn=function(t){i.i0t(t.width)},this.e0t=a2(n.ku),gu(this.Us,this.e0t),n.yn(fS.pn,this.mn)}var n=t.prototype;return n.i0t=function(t){var n=a2(t);n!==this.e0t&&(gu(this.Us,n),wu(this.Us,this.e0t),this.e0t=n)},n.gn=function(){this.Wu.fn(fS.pn,this.mn)},t}();function a2(t){for(var n=0;n<u2.length;n++){var i=u2[n];if(t>i)return s2[i]}return"theo-size-xs"}var c2=function(t){function n(n,i){var r;return(r=t.call(this)||this).h0t=function(){r.Co(new ra("Ny"))},r.Us=u.createElement("div"),r.we.className="theoplayer-ad-overlay-component theoplayer-ad-skip theoplayer-ad-skip-countdown",r.we.style.position="absolute",r.Ql=u.createElement("span"),r.we.appendChild(r.Ql),i&&(r.a0t=u.createElement("div"),r.a0t.className="theoplayer-ad-skip-poster",r.a0t.style.backgroundImage='url("'+Xs(i)+'")',r.we.appendChild(r.a0t)),r.CU="countdown",r.qu=new o2(r.we,n),r}bt(n,t);var i=n.prototype;return i.s0t=function(t){"countdown"!==this.CU&&(this.CU="countdown",this.n0t(),this.we.classList.remove("theoplayer-ad-skip-button"),this.we.classList.add("theoplayer-ad-skip-countdown")),this.uE="You can skip in "+w.round(t)+" seconds"},i.r0t=function(){"skip"!==this.CU&&(this.CU="skip",this.uE="Skip Ad",this.o0t(),this.we.classList.remove("theoplayer-ad-skip-countdown"),this.we.classList.add("theoplayer-ad-skip-button"))},i.o0t=function(){this.we.addEventListener("mouseup",this.h0t),this.we.addEventListener("touchend",this.h0t)},i.n0t=function(){this.we.removeEventListener("mouseup",this.h0t),this.we.removeEventListener("touchend",this.h0t)},i.gn=function(){this.Vo(),this.n0t(),this.qu.gn(),cu(this.Us),cu(this.Ql),this.a0t&&cu(this.a0t)},At(n,[{key:"we",get:function(){return this.Us}},{key:"_v",get:function(){return this.CU}},{key:"uE",get:function(){return this.Ql.textContent||""},set:function(t){yz(this.Ql,t)}}]),n}($o),h2=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).QNt=HD.oU(),s.k0t=void 0,s.o2=!1,s.vz=void 0,s.M0t=void 0,s.h2=mk.BT,s.C0t=!1,s.Uo=HD.oU(),s.U1=void 0,s.aU=!1,s.YT=new Vm,s.VT=new Vm,s.Dl=new Y_,s.TNt=NaN,s.E0t=void 0,s.y0t=!1,s.D0t=NaN,s.N0t=void 0,s.g0t=0,s.F0t=function(t,n){switch(t){case"buffered":s.QNt=new HD(n),s.Co(new UL(s.Q_()));break;case"currentProgramDateTime":s.k0t=new Date(n).getTime()-s.Q_();break;case"played":s.Uo=new HD(n);break;case"seekable":s.m0t();break;case"videoHeight":s.S0t(void 0,n);break;case"videoWidth":s.S0t(n,void 0)}},s.t1=function(t){switch(t.type){case Al.im:s.We(t.currentTime);break;case Al.$v:s.Vz();break;case Al.Kv:s.Co(new nQ(t.representation,t.previousRepresentation));break;case Al.nm:s.Co(new kU(t.segmentStartTime,t.error,t.trackType,t.track,t.quality,t.retryCount));break;case Al.Cv:s.Co(new WG(t.currentTime,t.initDataType,t.initData));break;case Al.Nv:s.Co(new nO(new Xm(Xv.CONTENT_PROTECTION_ERROR,t.error,void 0,t.licenseAcquisitionURL,t.status,t.statusText,t.licenseAcquisitionMessage,t.systemCode)));break;case Al.Iv:s.Co(new iO)}},s.TJt=function(t){s.m0t(),s.A0t(),s.th(),s.b0t(),s.I0t(),s.v0t(),s.l0t(),s.u0t(),s.O0t(),s.R0t(),s.B0t(),t||f2(s.PKt.wM)&&s.Mh()},s.od=function(){s.I0t(),s.B0t()},s.Y0t=function(t){s.Co(t)},s.L0t=$n((function(t){return s.C5(t)}),50),s.XKt=function(t){s.E0t=void 0,s.Co(new t1(t))},s.z0t=function(){s.Hg()},s.Q0t=function(){s.Ic.Ny()},s.Qo=n,s.hCt=r,s.PKt=e,s.Ic=new t2(n,e,i.Oc),s.jJt=u.BJt(),s.jx=u.Td()-s.jJt,s.cU=u._g(),s.lU=u.wg(),s.PJt=u.Pg(),s.zJt=u.Og(),s.PKt.QKt(s.t1),s.PKt.zKt(s.F0t),s.PKt.YKt(s.TJt),s.PKt.yn(H0.jKt,s.Y0t),s.PKt.VKt().then((function(t){s.Co(new n1(t.bt,t.yc))}),s.XKt),s}bt(n,t);var i=n.prototype;return i.u0t=function(){var t=this.PKt.wM.activeTrackIds;if(t){if(this.c0t()){var n=this.VT.Rw.map((function(t){return t.o})),i=this.YT.Rw.map((function(t){return t.o}));mo(n.concat(i),"0")&&t.push(0)}g2(t,this.YT),g2(t,this.VT),function(t,n){for(var i=!1,r=0,e=n.Rw;r<e.length;r++){var u=e[r];u.VJt=mo(t,u.Xw)?A_.Jn:A_.Ch}}(t,this.Dl)}},i.l0t=function(){var t,n=null==(t=this.PKt.wM.media)?void 0:t.tracks;if(n){var i=n.filter(E1),r=n.filter(S1),e=n.filter(L1);if(this.c0t()&&0===r.length&&0!==this.Pg()){var u=this.d0t();r.push(u)}if(this.c0t()&&0===i.length){var s=this.f0t();i.push(s)}l2(this.YT,i.map((function(t){return t.trackId}))),l2(this.VT,r.map((function(t){return t.trackId}))),l2(this.Dl,e.map((function(t){return t.trackId}))),d2(i,this.YT),d2(r,this.VT),function(t,n){for(var i=!1,r=0;r<t.length;r++){var e=t[r],u=v2(n,e.trackId);u||(u=new j1(e),n.tt(u),i=!0)}}(e,this.Dl)}},i._0t=function(){this.cU||(this.g0t=h(this.od,250))},i.w0t=function(){f(this.g0t)},i.v0t=function(){this.w0t(),this._0t()},i.m0t=function(){var t,n,i=this.PKt.wM,r=i.media,e=null!=(n=null==r?void 0:r.duration)?n:NaN,u=(null==r?void 0:r.streamType)===chrome.cast.media.StreamType.LIVE||e<0,s=u?1/0:e;this.jx=s,this.p0t();var o=i.getEstimatedLiveSeekableRange(),a=null==(t=i.customData)?void 0:t.buffers;if(Rn(o)){var c=o.start,h=o.end,f=o.isMovingWindow,v=void 0===f?u:f,l=o.isLiveDone,d=void 0!==l&&l;this.Jzt(c,h,v,d)}else if(Rn(a)){var g=Gt(a.seekable,2),w=g[0],y=g[1];this.Jzt(w,y,u,!1)}else u?this.Jzt(void 0,void 0,!0,!1):this.Jzt(0,s,!1,!1)},i.A0t=function(){var t=this.PKt.wM,n=function(t){return void 0!==t&&t.playerState===chrome.cast.media.PlayerState.PAUSED}(t)||f2(t);this.y0t=n,this.cU!==n&&(this.cU=n,this.cU?this.Co(new wD(this.Q_())):this.Co(new yD(this.Q_())))},i.th=function(){var t=this.PKt.wM.playbackRate;this.M0t!==t&&(this.M0t=void 0,this.lU!==t&&(this.lU=t,this.Co(new AD(this.Q_(),t))))},i.b0t=function(){var t;switch(this.PKt.wM.playerState){case chrome.cast.media.PlayerState.IDLE:t=mk.BT;break;case chrome.cast.media.PlayerState.BUFFERING:t=mk.Xn;break;case chrome.cast.media.PlayerState.PAUSED:case chrome.cast.media.PlayerState.PLAYING:t=mk.QT}this.u2(t),this.T0t()},i.Jzt=function(t,n,i,r){Rn(t)&&Rn(n)?this.U1=new tC(t,n,i,i&&!r):this.U1=void 0},i.S0t=function(t,n){this.zJt=null!=n?n:this.zJt,this.PJt=null!=t?t:this.PJt,this.Co(new wk)},i.We=function(t){this.N0t!==t?(this.aU=!0,this.Co(new _D(this.Q_()))):this.N0t=void 0},i.Vz=function(){if(this.aU){this.aU=!1;var t=this.Q_();this.Co(new om(t,this.P_())),this.Co(new kD(t))}},i.Mh=function(){this.o2=!0,this.V_()&&this.Co(new pD(this.Q_()))},i.p0t=function(){var t=this.TNt,n=this.Td();t===n||A(t)&&A(n)||(this.TNt=n,this.Co(new mD(n)))},i.I0t=function(){var t=this.Q_();this.aU||this.D0t===t||(this.D0t=t,this.Co(new om(t,this.P_())))},i.RJt=function(){this.cU&&(this.cU=!1,this.Co(new yD(this.Q_())),this.u2(mk.BT))},i.ait=function(){return this.Ic},i.j_=function(){return this.QNt.KA(this.jJt)},i.Q_=function(){if(this.Ic.Fc){var t=this.PKt.KKt();if(void 0!==t)return t}return this.Ktt()},i.Ktt=function(){return void 0!==this.E0t?this.jJt+this.E0t:this.o2?this.Td():this.jJt+this.PKt.qKt()},i.P_=function(){if(this.k0t)return new Date(this.Ktt()+this.k0t)},i.Td=function(){if(this.Ic.Fc){var t,n=null==(t=this.Ic.Sit[0])?void 0:t.ct;if(void 0!==n&&!A(n))return n}return this.jJt+this.jx},i.W_=function(){return this.vz},i.V_=function(){return!this.Ic.Fc&&this.o2},i._g=function(){return this.cU},i.wg=function(){return this.lU},i.vg=function(t){this.lU!==t&&(this.M0t=this.lU,this.lU=t,this.Co(new AD(this.Q_(),t)),this.PKt.vg(t))},i.Ng=function(){return this.h2},i.Ag=function(){return this.Ic.Fc?HD.rU(0,this.Q_()):this.Uo.KA(this.jJt)},i.Dg=function(){var t,n;if(this.Ic.Fc)return HD.oU();var i=null!=(n=null==(t=this.U1)?void 0:t.V0().KA(this.jJt))?n:HD.oU();if(i.U>0){var r=i.jn(i.U-1);i=i.YB(HD.rU(r,this.Q_()))}return i},i.Lg=function(){return this.aU},i.L_=function(){return this.YT},i.jg=function(){return this.VT},i.xg=function(){return this.Dl},i.d0t=function(){return{customData:{activeQuality:{averageBandwidth:0,bandwidth:0,codecs:"",frameRate:0,height:this.Og(),id:"0",name:"",width:this.Pg()},enabled:!0,id:"0",kind:"main",label:"",language:"",qualities:[],uid:0},language:"",name:"",trackContentId:"",trackContentType:"",trackId:0,type:N1.VA}},i.f0t=function(){return{customData:{activeQuality:{averageBandwidth:0,bandwidth:0,codecs:"",id:"0",name:"",audioSamplingRate:0},qualities:[],enabled:!0,id:"0",kind:"main",label:"",language:"",uid:0},language:"",name:"",trackContentId:"",trackContentType:"",trackId:0,type:N1.WA}},i.c0t=function(){var t,n;return!(void 0!==(null==(t=this.hCt.WKt())?void 0:t.version))||(null==(n=this.hCt.WKt())?void 0:n.sdkType)===z1.KJt},i.ZKt=function(t){this.c0t()&&go(t,0),this.PKt.ZKt(t)},i.Pg=function(){return this.PJt},i.Og=function(){return this.zJt},i.Xg=function(){this.cU&&(this.cU=!1,this.y0t=!1,this.Co(new yD(this.Q_()))),this.PKt.Xg()},i.Hg=function(){this.cU||(this.cU=!0,this.y0t=!0,this.Co(new wD(this.Q_()))),this.PKt.Hg()},i.JA=function(t){if(!this.Ic.Fc){var n=w.max(0,t-this.jJt);n=w.round(1e6*n)/1e6;var i=this.E0t;this.E0t=n,this.y0t=this._g(),this.N0t=n,this.aU=!0,this.Co(new _D(this.Q_())),void 0===i&&(this.c0t()?this.L0t(n):this.C5(n))}},i.C5=function(t){this.PKt.JA(t,this.y0t).then(this.x0t(t)).catch(this.XKt)},i.x0t=function(t){var n=this;return function(){void 0!==n.E0t&&(n.E0t===t?n.E0t=void 0:n.C5(n.E0t))}},i.u2=function(t){this.h2!==t&&(this.h2=t,this.Co(new Ak(this.Q_(),t))),void 0===this.E0t&&this.aU&&t>=mk.UT&&this.Vz(),this.T0t()},i.T0t=function(){if(this.cU)this.C0t=!1;else{var t=this.h2>=mk.QT;this.C0t!==t&&(this.C0t=t,t?this.Co(new Tk(this.Q_())):this.Co(new kk(this.Q_())))}},i.O0t=function(){this.j0t||(this.j0t=u.createElement("div"),this.Qo.we.appendChild(this.j0t),this.j0t.className="theoplayer-ad-linear theoplayer-chromecast-ad",this.j0t.style.zIndex="10",_u(this.j0t)),this.j0t.style.display=this.Ic.Fc?"":"none"},i.R0t=function(){var t,n=null==(t=this.Ic.Sit[0])?void 0:t.sZt;n&&!this.P0t?(this.P0t=new e2(this.j0t,!0),this.P0t.V$t=n,this.P0t.yn("clickstart",this.z0t)):this.P0t&&(this.P0t.V$t=n)},i.B0t=function(){var t,n=null==(t=this.Ic.Sit[0])?void 0:t.CZt;if(void 0===n||n<0)this.U0t&&(this.U0t.gn(),this.U0t=void 0);else{if(!this.U0t){var i,r=null==(i=this.Qo.ba)?void 0:i.mi;this.U0t=new c2(this.Qo.Iu,r),this.j0t.appendChild(this.U0t.we),this.U0t.yn("Ny",this.Q0t)}var e=this.PKt.KKt();void 0!==e&&(e<n?this.U0t.s0t(n-e):this.U0t.r0t())}},i.BJt=function(){return this.jJt},i.UJt=function(t){this.jJt=t},i.Yit=function(t){},i.Zg=function(){this.PKt.Zg()},i.gn=function(){this.Vo(),this.Ic.gn(),this.P0t&&(this.P0t.h_(),this.P0t=void 0),this.U0t&&(this.U0t.gn(),this.U0t=void 0),this.j0t&&(cu(this.j0t),this.j0t=void 0),this.PKt.FKt(this.t1),this.PKt.UKt(this.F0t),this.PKt.GKt(this.TJt),this.PKt.fn(H0.jKt,this.Y0t),this.PKt.gn()},n}($o);function f2(t){return void 0!==t&&t.playerState===chrome.cast.media.PlayerState.IDLE&&t.idleReason===chrome.cast.media.IdleReason.FINISHED}function v2(t,n){for(var i=0,r=t.Rw;i<r.length;i++){var e=r[i];if(e.Xw===n)return e}}function l2(t,n){for(var i=!1,r=0;r<t.U;r++){var e=t.zw(r);-1===n.indexOf(e.Xw)&&(t.it(e),r--,i=!0)}return i}function d2(t,n){for(var i=!1,r=0;r<t.length;r++){var e=t[r],u=v2(n,e.trackId);u||(u=new R1(e),n.tt(u),i=!0)}return i}function g2(t,n){for(var i=0,r=n.Rw;i<r.length;i++){var e=r[i];e.ZJt=mo(t,e.Xw)}return!1}yt(),C();var w2=function(){function t(){}var n=t.prototype;return n.oet=function(t){return q.resolve("all")},n.Wg=function(){},n.gn=function(){},t}();yt(),C();var y2=60;function m2(t,n,i){return A(t)?i:t===1/0?"live"===i||"dvr"===i?i:n&&n.length>0&&n.end(n.length-1)-n.start(0)>y2?"dvr":"live":"vod"}var A2=[Al.Ov,Al.Lv,Al.qv,Al.Jv,Al.Sh,Al.jh,Al.Zv,Al.fm,Al.im,Al.$v,gk.Tm,gk.Sm,Al.Kv,Al.nm,Al.Cv,Al.Nv,Al.Iv],p2=function(t){function n(n,i){var r;return(r=t.call(this,n,!0)||this).ho=!1,r._1t=Kn,r.Oj=mk.BT,r.Ij=!1,r.Lj=!1,r.q0t=!1,r.X0t=void 0,r.vz=void 0,r.mz=void 0,r.YT=new KT,r.VT=new KT,r.Dl=new qT,r.dU=new JD,r.GT=new dN,r.Vtt=new w2,r.u1t=void 0,r.c1t=void 0,r.l1t=void 0,r.w1t=function(t){var n,i;(Rn(t.zg)&&!Ui(t.zg,r.Xx,1e-5)||Rn(t.og)&&t.og!==r.uU)&&(r.Xx=null!=(n=t.zg)?n:r.Xx,r.uU=null!=(i=t.og)?i:r.uU,r.Co(new bD(r.U_,r.Xx)))},r.v1t=function(){var t=r.hCt.SJt();r.Wdt=t?new h2(Wt(r),r.Qo,r.hCt,t,r.ja):r.g1t()},r.W0t=function(t){r.kB(t.bt),r.G0t(t.yc)},r.m1t=function(t){var n=r.V0t(t.AM);if(n){var i={targetQualityIds:t.gJt};n.WJt(i)}},r.Y0t=function(t){r.J0t(t.lt)},r.J0t=function(t){r._1t&&r._1t(t)},r.DOt=function(t){r.vz=t.lt,r.mz=Jm(r.vz),r.Co(new gT(r.mz))},r.r1t=function(t){if(t.enabled)for(var n=0,i=(r.rt.Rw.some((function(n){return n.Xw===t.trackId}))?r.rt:r.ht).Rw;n<i.length;n++){var e=i[n];e.Rt&&e.Xw!==t.trackId&&(e.Rt=!1)}},r.o1t=function(t){if(t.mode===A_.Jn)for(var n=0,i=r.nt.Rw;n<i.length;n++){var e=i[n];e._v===A_.Jn&&e.Xw!==t.trackId&&V_(e.zt,t.track.zt)&&(e._v=A_.Ch)}},r.u0t=$n((function(){r.h1t()}),50),r.s1t=function(){var t,n,i=[],e=null!=(t=co(r.ht.Rw,(function(t){return S2(t,r.u1t)})))?t:co(r.ht.Rw,(function(t){return t.Rt}));e&&i.push(e.Xw);var u,s=null!=(n=co(r.nt.Rw,(function(t){return S2(t,r.c1t)})))?n:co(r.nt.Rw,(function(t){return t._v===A_.Jn}));s&&i.push(s.Xw);var o=null!=(u=co(r.rt.Rw,(function(t){return S2(t,r.l1t)})))?u:co(r.rt.Rw,(function(t){return t.Rt}));o&&i.push(o.Xw),0!==i.length&&r.ja.ZKt(i)},r.zvt=function(t){var n=r.d1t(t.targetQuality),i=t.track;r.hCt.wJt(i.Xw,i.O0,n)},r.Yj=function(t){r.Co(t);var n=t.readyState;!r.Ij&&r.Oj===mk.BT&&n>=mk.Xn&&(r.Ij=!0,r.Co(new pk(t.currentTime))),!r.Lj&&r.Oj<=mk.Xn&&n>=mk.UT&&(r.Lj=!0,r.Co(new _k(t.currentTime))),r.Oj<=mk.UT&&n>=mk.QT&&r.Co(new bk(t.currentTime)),r.Oj<=mk.QT&&n===mk.FT&&r.Co(new Mk(t.currentTime)),r.Oj=n},r.Xx=r.Qo.zg,r.uU=r.Qo.og,r.hCt=i,r.hCt.yn(v1.jKt,r.Y0t),r.hCt.yn(v1.dJt,r.DOt),r.hCt.yn(v1._m,r.w1t),r.hCt.yn(v1.lJt,r.v1t),r.hCt.yn(v1.fJt,r.m1t),r.Ic=new nB(Wt(r)),r.MB=r.Qo.bt,r.bc=r.Qo.Wa(),r.Wdt=new T1(Wt(r),0,r.Qo.Ktt(),r.Qo.Td(),r.Qo.G_,r.Qo.fg,r.Qo.gg,r.Qo.Rg,r.Qo.Cg),r.$0t(),r}bt(n,t);var i=n.prototype;return i.kB=function(t){t&&(Mm(this.MB&&Im(this.MB),t&&Im(t))||(this.MB=t,this.Co(new CD(t))))},i.G0t=function(t){if(t){var n=fE(t,this.Qo.wd);Mm(this.bc&&Im(this.bc),n&&Im(n))||(this.ja.UJt(0),this.bc=n,this.Co(new DR(n)),this.ja.RJt())}},i.V0t=function(t){for(var n=0,i=this.rt.Rw;n<i.length;n++){var r=i[n];if(r.Xw===t)return r}for(var e=0,u=this.ht.Rw;e<u.length;e++){var s=u[e];if(s.Xw===t)return s}},i.ait=function(){return this.Ic},i.uit=function(){return this.Vtt},i.L_=function(){return this.YT},i.j_=function(){return this.ja.j_().ks()},i.$n=function(t,n){var i=this;return Ot((function(){var r;return Rt(this,(function(e){switch(e.label){case 0:return t?[4,i.NJt(t,null!=(r=t.ads)?r:[],t.streamType,NaN,0,null!=n?n:0)]:[2];case 1:return e.sent(),[2]}}))}))()},i.Z0t=function(t){var n=this;return Ot((function(){var i,r,e,u,s,o,a,c,h;return Rt(this,(function(f){switch(f.label){case 0:return(r=null!=(i=n.X0t)?i:n.bc)?(u=n.X0t?null!=(e=n.X0t.ads)?e:[]:n.Kit(),s=n.Qo.Td(),o=n.Qo.Dg(),a=m2(s,o,r.streamType),c=o.length>0?o.start(0):0,h=null!=t?t:n.Ktt(),[4,n.NJt(r,u,a,s,c,h)]):[2];case 1:return f.sent(),[2]}}))}))()},i.Kit=function(){var t=new iB;return this.Ic.Yit(t),t.Kit()},i.P_=function(){return this.ja.P_()},i.B_=function(){return this.MB},i.Q_=function(){return this.ja.Q_()},i.Ktt=function(){return this.ja.Ktt()},i.F_=function(t,n){this.q0t||(this.hCt.SJt()||this.q0t||!this.bc?this.ja.JA(t):this.$n(this.bc,t))},i.Td=function(){return this.ja.Td()},i.V_=function(){return this.ja.V_()},i.W_=function(){return this.vz},i.X_=function(){return this.mz},i.q_=function(){return this.GT},i.rg=function(){return this.Qo.eg},i.hg=function(){return this.uU},i.ag=function(t){this.uU=t,this.Co(new bD(this.U_,this.zg)),this.hCt.ag(t)},i._g=function(){return this.ja._g()},i.wg=function(){return this.ja.wg()},i.vg=function(t){this.ja.vg(t)},i.Ag=function(){return this.ja.Ag().ks()},i.Mg=function(){return FD.LT},i.Tg=function(t){},i.Ng=function(){return this.ja.Ng()},i.Dg=function(){return this.ja.Dg().ks()},i.Lg=function(){return this.ja.Lg()},i.Wa=function(){return this.bc},i.ga=function(t){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return n.bc=t,[4,n.$n(t)];case 1:return i.sent(),n.X0t=void 0,n.ja.RJt(),[2]}}))}))()},i.xg=function(){return this.Dl},i.Og=function(){return this.ja.Og()},i.Pg=function(){return this.ja.Pg()},i.jg=function(){return this.VT},i.Bg=function(){return this.Xx},i.Ug=function(t){this.Xx=t,this.Co(new bD(this.U_,this.zg)),this.hCt.Ug(t)},i.Vg=function(){},i.Gg=function(){return this.dU},i.Wg=function(){},i.Xg=function(){this.hCt.SJt()||this.q0t||!this.bc?this.ja.Xg():this.$n(this.bc)},i.Hg=function(){this.ja.Hg()},i.ur=function(){this.ho=!0},i.ar=function(){this.MB=void 0,this.ho=!1},i.ge=function(){},i.be=function(){},i.NJt=function(t,n,i,r,e,u){var s=this;return Ot((function(){var o,a,c,h;return Rt(this,(function(f){switch(f.label){case 0:s.q0t=!0,s.K0t(),s.ja.UJt(e),a=function(t,n,i){return{theoplayer_version:1,streamStart:t,isLive:n,sourceDescription:i}}(e,o="live"===i||"dvr"===i,t),c={IJt:t,Oc:n,U_:w.max(0,u-e),ct:r,QK:o?chrome.cast.media.StreamType.LIVE:chrome.cast.media.StreamType.BUFFERED,DJt:a},f.label=1;case 1:return f.trys.push([1,3,4,5]),[4,s.hCt.NJt(c)];case 2:return f.sent(),[3,5];case 3:return h=f.sent(),s.J0t(h),[3,5];case 4:return s.q0t=!1,[7];case 5:return[2]}}))}))()},i.$0t=function(){this.t1t(this.YT),this.t1t(this.VT),this.i1t(this.Dl)},i.t1t=function(t){for(var n=this,i=0,r=t.Rw;i<r.length;i++){var e=r[i];this.e1t(e)}t.yn(hm.hw,(function(t){n.e1t(t.Lt),n.s1t()}))},i.i1t=function(t){for(var n=this,i=0,r=t.Rw;i<r.length;i++){var e=r[i];this.n1t(e)}t.yn(hm.hw,(function(t){n.n1t(t.Lt),n.s1t()}))},i.e1t=function(t){t.yn(M1.FJt,this.zvt),t.yn(M1.YJt,this.r1t),t.yn(M1.YJt,this.u0t)},i.n1t=function(t){t.yn(M1.QJt,this.o1t),t.yn(M1.QJt,this.u0t)},i.h1t=function(){for(var t=[],n=0,i=this.rt.Rw;n<i.length;n++){var r=i[n];r.Rt&&t.push(r.Xw)}for(var e=0,u=this.ht.Rw;e<u.length;e++){var s=u[e];s.Rt&&t.push(s.Xw)}for(var o=0,a=this.nt.Rw;o<a.length;o++){var c=a[o];c._v===A_.Jn&&t.push(c.Xw)}this.ja.ZKt(t)},i.a1t=function(t,n,i){this.u1t=t,this.c1t=n,this.l1t=i},i.d1t=function(t){var n,i;return!!t&&((null!=(i=null==(n=this.hCt.WKt())?void 0:n.version)?i:-1)>=2?t.map((function(t){return t.o})):[t[0].o])},i.f1t=function(t){this._1t=t},i.$g=function(){},i.iw=function(){},i.Zg=function(){var t=this;return Ot((function(){return Rt(this,(function(n){return t.ja.Zg(),t.K0t(),[2]}))}))()},i.K0t=function(){this.Oj=mk.BT,this.Ij=!1,this.Lj=!1,this.vz=void 0,this.mz=void 0},i.gn=function(){var t=this;return Ot((function(){return Rt(this,(function(n){return t.K0t(),t.Vo(),t.Wdt=t.g1t(),t.hCt.fn(v1.jKt,t.Y0t),t.hCt.fn(v1.dJt,t.DOt),t.hCt.fn(v1._m,t.w1t),t.hCt.fn(v1.lJt,t.v1t),t.hCt.fn(v1.fJt,t.m1t),t.hCt.gn(),[2]}))}))()},i.g1t=function(){return new T1(this,this.ja.BJt(),this.ja.Q_(),this.ja.Td(),this.ja.V_(),this.ja._g(),this.ja.wg(),this.ja.Pg(),this.ja.Og())},At(n,[{key:"Wdt",get:function(){return this.ja},set:function(t){var n=this.ja;n&&(n.fn(H0.jKt,this.Y0t),n.fn(H0.RKt,this.W0t),n.fn(A2,this.Ds),n.fn(gk.Nw,this.Yj),t.UJt(n.BJt()),n.Yit(t.ait())),this.ja=t,this.YT.Uw=t.L_(),this.VT.Uw=t.jg(),this.Dl.Uw=t.xg(),this.Ic.Uw=t.ait(),n&&n.gn(),t.yn(H0.jKt,this.Y0t),t.yn(H0.RKt,this.W0t),t.yn(A2,this.Ds),t.yn(gk.Nw,this.Yj)}},{key:"ro",get:function(){return this.ho}},{key:"Oc",get:function(){return this.ait()}},{key:"H0t",get:function(){return this.X0t||this.bc},set:function(t){this.X0t=t}},{key:"U_",get:function(){return this.Q_()},set:function(t){this.F_(t)}},{key:"Yg",get:function(){return!1},set:function(t){}}]),n}(zT);yt(),C(),Mt();var _2=function(t){function n(n){var i;return(i=t.call(this,"error")||this).lt=n,i}return bt(n,t),n.prototype.fa=function(){return new k2(this.lt)},n}(am),k2=function(t){function n(n){var i;return(i=t.call(this,"error")||this).error=n,i}return bt(n,t),n}(ra);yt(),C(),Mt();var b2=function(t){function n(n){var i;return(i=t.call(this,"statechange")||this).state=n,i}return bt(n,t),n}(ra);function M2(t,n){var i=void 0;return{get casting(){return t.FX},get error(){return t.lt},get receiverName(){return t.p1t},get state(){return t.Wdt},start:function(){t.Cn()},stop:function(){t.Zg()},join:function(){t.A1t()},leave:function(){t.y1t()},set connectionCallback(t){null==n||n.M1t(t)},get connectionCallback(){return null==n?void 0:n.b1t()},get source(){return i||t.yc},set source(n){i=n,t.yc=n},addEventListener:function(n,i){var r=Om(n,Cm);t.yn(r,i)},removeEventListener:function(n,i){var r=Om(n,Cm);t.fn(r,i)}}}yt(),C();var T2=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).vz=void 0,u.Xa=void 0,u.Qo=void 0,u.ja=BI.UNAVAILABLE,u.I1t=!1,u.dE=new zo,u.G1t=function(){u.T1t.yn(d1.OJt,u.Y1t),u.Wdt=u.T1t.V1t()},u.Y1t=function(t){var n=t.Wdt;u.Wdt=n,n!==BI.UNAVAILABLE&&n!==BI.AVAILABLE||u.C1t(!1).catch(u.M3)},u.X0t=void 0,u.M3=function(t){Bo(t)||t instanceof E$&&(u.vz=t,u.Co(new _2(t).va))},u.KH=n,u.N1t=i,u.T1t=e,u.GO=r.chromecast,u.E1t=u.T1t.oX(u.GO,u.dE.f_),u.E1t.then(u.G1t).catch(u.M3),u}bt(n,t);var i=n.prototype;return i.D1t=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:if(!t.E1t)throw new v("Chromecast must be initialized before starting a session");return[4,t.E1t];case 1:return n.sent(),t.T1t.S1t()?[3,3]:[4,t.T1t.k1t()];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))()},i.Cn=function(){var t=this;return Ot((function(){var n,i,r;return Rt(this,(function(e){switch(e.label){case 0:t.I1t=!0,e.label=1;case 1:return e.trys.push([1,5,,6]),t.Wdt=BI.CONNECTING,[4,t.D1t()];case 2:return e.sent(),[4,t.L1t()];case 3:return e.sent(),t.Qo&&(n=t.N1t.Wa(),i=t.T1t.x1t(n),t.Qo.H0t=i?fE(i,t.N1t.wd):t.X0t,t.Qo.Z0t()),t.Wdt=BI.CONNECTED,[4,t.N1t.Zg()];case 4:return e.sent(),[3,6];case 5:return r=e.sent(),t.C1t(!1).catch(Kn),t.Wdt=BI.AVAILABLE,Bo(r)||t.M3(r),[3,6];case 6:return[2]}}))}))()},i.A1t=function(){var t=this;return Ot((function(){var n,i,r;return Rt(this,(function(e){switch(e.label){case 0:t.I1t=!0,e.label=1;case 1:return e.trys.push([1,5,,7]),t.Wdt=BI.CONNECTING,[4,t.D1t()];case 2:return e.sent(),[4,t.L1t()];case 3:return e.sent(),t.Qo&&(n=t.N1t.Wa(),(i=t.T1t.O1t(n))&&(t.Qo.H0t=fE(i,t.N1t.wd))),t.Wdt=BI.CONNECTED,[4,t.N1t.Zg()];case 4:return e.sent(),[3,7];case 5:return r=e.sent(),[4,t.C1t(!0).catch(Kn)];case 6:return e.sent(),t.Wdt=BI.AVAILABLE,Bo(r)||t.M3(r),[3,7];case 7:return[2]}}))}))()},i.j1t=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return t.T1t.S1t()?[4,t.Cn()]:[2];case 1:return n.sent(),[2]}}))}))()},i.L1t=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return null!=t.Qo||(t.Qo=t.R1t()),t.vz=void 0,t.N1t.Hg(),[4,t.KH.P1t(t.Qo)];case 1:return n.sent(),[2]}}))}))()},i.R1t=function(){var t=new p2(this.N1t,this.T1t.S1t());return t.f1t(this.M3),t},i.z1t=function(){this.Qo&&(this.Qo.gn(),this.Qo=void 0)},i.C1t=function(t){var n=this;return Ot((function(){var i,r,e,u;return Rt(this,(function(s){switch(s.label){case 0:if(n.I1t=!1,!n.Qo)return[2];i=n.Qo.ro,r=n.Qo.Wa(),e=n.Qo.Ktt(),s.label=1;case 1:return s.trys.push([1,,4,5]),i?(null!=(u=t?n.T1t.B1t(r):n.T1t.U1t(r))||(u=r),[4,n.KH.Q1t(u,u===r)]):[3,3];case 2:s.sent(),n.N1t.F_(e),n.N1t.Xg(),s.label=3;case 3:return[3,5];case 4:return n.z1t(),[7];case 5:return[2]}}))}))()},i.y1t=function(){this.FX&&(this.T1t.F1t(!1),this.C1t(!0).catch(this.M3))},i.Zg=function(){this.FX&&(this.T1t.F1t(!0),this.C1t(!1).catch(this.M3))},i.gn=function(){this.dE.g_(),this.T1t.fn(d1.OJt,this.Y1t),this.Vo(),this.z1t()},At(n,[{key:"FX",get:function(){return this.Wdt===BI.CONNECTING||this.Wdt===BI.CONNECTED}},{key:"lt",get:function(){return this.vz}},{key:"va",get:function(){return this.Xa||(this.Xa=M2(this,this.T1t)),this.Xa}},{key:"p1t",get:function(){var t;return null==(t=this.T1t.S1t())?void 0:t.kJt()}},{key:"yc",get:function(){return this.Qo?this.Qo.H0t:this.X0t},set:function(t){this.X0t=t?fE(t,this.N1t.wd):void 0,this.Qo&&(this.Qo.H0t=this.X0t,this.X0t&&this.Qo.$n(this.X0t))}},{key:"Wdt",get:function(){return this.ja},set:function(t){var n=t;this.I1t||n!==BI.CONNECTING&&n!==BI.CONNECTED||(n=BI.AVAILABLE),this.ja!==n&&(this.ja=n,this.Co(new b2(this.Wdt)))}}]),n}(na);yt(),C(),pt(),Mt();var N2=function(t){function n(){return t.apply(this,arguments)}bt(n,t);var i=n.prototype;return i.A1t=function(){an.vp("Joining a Chromecast session is not possible when JoinStrategy is configured to disabled")},i.y1t=function(){an.vp("Leaving a Chromecast session is not possible when JoinStrategy is configured to disabled")},i.Cn=function(){an.vp("Starting a Chromecast session is not possible when JoinStrategy is configured to disabled")},i.Zg=function(){an.vp("Stopping a Chromecast session is not possible when JoinStrategy is configured to disabled")},i.j1t=function(){return q.resolve()},i.gn=function(){},At(n,[{key:"FX",get:function(){return!1}},{key:"lt",get:function(){}},{key:"p1t",get:function(){}},{key:"yc",get:function(){},set:function(t){}},{key:"Wdt",get:function(){return BI.UNAVAILABLE}},{key:"va",get:function(){return this.Xa||(this.Xa=M2(this)),this.Xa}}]),n}(na);function D2(t){return{bt:t.bt,U_:t.Q_(),ct:t.Td(),G_:t.G_,lt:t.W_(),H_:t.X_(),og:t.og,fg:t.fg,gg:t.gg,Sg:t.Sg,Eg:t.Eg,Cg:t.Cg,Rg:t.Rg,zg:t.zg}}yt(),C(),Xt(),zt(),pt(),Mt(),Ut(),yt(),C();var I2=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).YT=new KT,r.VT=new KT,r.Dl=new qT,r.GT=new mN,r.YT.Uw=n.ht,r.VT.Uw=n.rt,r.Dl.Uw=n.nt,r.GT.Uw=n.Z_,r.Ic=new nB(Wt(r)),r.Ic.Uw=n.Oc,r}bt(n,t);var i=n.prototype;return i.ait=function(){return this.Ic},i.L_=function(){return this.YT},i.q_=function(){return this.GT},i.xg=function(){return this.Dl},i.jg=function(){return this.VT},i.WT=function(t){if(this.Qo!==t){var n;this.TB(),this.fit&&(n=D2(this));var i=this.B_(),r=this.Gg(),e=this.Vg();if(this.Qo=t,this.YT.Uw=t.ht,this.VT.Uw=t.rt,this.Dl.Uw=t.nt,this.GT.Uw=t.Z_,this.Ic.Uw=t.Oc,void 0!==n)jD(this,n,D2(this));var u=this.B_();u!==i&&this.Co(new CD(u)),this.Gg()!==r&&this.Co(new xD),this.Vg()!==e&&this.Co(new OD),this.bB()}},i.gn=function(n){var i=this;return Ot((function(){return Rt(this,(function(r){switch(r.label){case 0:return[4,t.prototype.gn.call(i,n)];case 1:return r.sent(),i.YT.gn(n),i.VT.gn(n),i.Dl.gn(n),i.GT.gn(),[4,i.Ic.gn()];case 2:return r.sent(),[2]}}))}))()},At(n,[{key:"Z_",get:function(){return this.q_()}}]),n}(zT),E2=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).XZ=new el,r.J1t=void 0,r.zSt=void 0,r.$1t=void 0,r.i2t=function(t){var n=t.Lt;S2(r.J1t,n)&&(n.Rt=!0)},r.e2t=function(t){var n=t.Lt;S2(r.zSt,n)&&(n._v=A_.Jn)},r.s2t=function(t){var n=t.Lt;S2(r.$1t,n)&&(n.Rt=!0)},r.K1t=function(){r.q1t.ht.fn(hm.hw,r.i2t),r.q1t.nt.fn(hm.hw,r.e2t),r.q1t.rt.fn(hm.hw,r.s2t)},r.q1t=n,r.wd.cast.strategy!==AN.DISABLED?r.W1t=new T2(Wt(r),n,r.wd.cast,i):r.W1t=new N2,r.YF.ZX(r.W1t),r}bt(n,t);var i=n.prototype;return i.Wa=function(){var n=t.prototype.Wa.call(this);return!n&&this.W1t.FX&&this.W1t.yc?this.W1t.yc:n},i.ga=function(n,i){var r=this;return this.XZ.JO((function(i){return r.H1t=new zo,r.H1t.w_(i),t.prototype.ga.call(r,n,r.H1t.f_)}),i)},i.Xg=function(){t.prototype.Xg.call(this),this.wd.cast.strategy!==AN.AUTO||this.W1t.FX||this.W1t.j1t()},i.P1t=function(t){var n=this;return this.XZ.JO((function(i){return n.X1t(t,i)}))},i.Q1t=function(t,n){var i=this;return void 0===t&&(t=void 0),void 0===n&&(n=!1),this.XZ.JO((function(r){return i.Z1t(t,n,r)}))},i.X1t=function(t,n){Po(n),this.q1t.Oc&&this.q1t.Oc.Yit(t.Oc),this.K1t(),this.J1t=co(this.q1t.ht.Rw,(function(t){return t.Rt})),this.zSt=co(this.q1t.nt.Rw,(function(t){return"showing"===t._v})),this.$1t=co(this.q1t.rt.Rw,(function(t){return t.Rt})),this.t2t=t,this.t2t.a1t(this.J1t,this.zSt,this.$1t),this.WT(t),this.t2t.ur()},i.Z1t=function(t,n,i){var r=this;return Ot((function(){var e,u;return Rt(this,(function(s){switch(s.label){case 0:if(Po(i),void 0===(e=r.t2t))return[2];s.label=1;case 1:return s.trys.push([1,5,6,7]),t?[4,r.q1t.Zg()]:[3,4];case 2:return s.sent(),Po(i),u=fE(t,r.q1t.wd),n&&(u.ads=void 0),r.H1t=new zo,r.H1t.w_(i),[4,r.q1t.ga(u,r.H1t.f_)];case 3:s.sent(),s.label=4;case 4:return n&&r.q1t.Oc&&e.Oc.Yit(r.q1t.Oc),[3,7];case 5:return Qo(s.sent()),[3,7];case 6:return e.ar(),r.WT(r.q1t),r.J1t=co(r.t2t.ht.Rw,(function(t){return t.Rt})),r.zSt=co(r.t2t.nt.Rw,(function(t){return"showing"===t._v})),r.$1t=co(r.t2t.rt.Rw,(function(t){return t.Rt})),r.q1t.ht.yn(hm.hw,r.i2t),r.q1t.nt.yn(hm.hw,r.e2t),r.q1t.rt.yn(hm.hw,r.s2t),r.q1t.yn(gk.Mm,r.K1t),r.t2t===e&&(r.t2t=void 0),[7];case 7:return[2]}}))}))()},i.Zg=function(){var n,i=this;return this.J1t=void 0,this.zSt=void 0,this.$1t=void 0,this.K1t(),null==(n=this.H1t)||n.g_(),this.XZ.JO((function(){return t.prototype.Zg.call(i)}))},i.gn=function(){var n=this;return Ot((function(){var i;return Rt(this,(function(r){switch(r.label){case 0:return null==(i=n.H1t)||i.g_(),n.W1t.gn(),[4,n.Q1t()];case 1:return r.sent(),[4,n.XZ.gn()];case 2:return r.sent(),[4,t.prototype.gn.call(n)];case 3:return r.sent(),[2]}}))}))()},n}(I2);function S2(t,n){return void 0!==t&&void 0!==n&&(t.gs===n.gs&&n.kh===t.kh)}yt(),C(),zt(),pt(),Ut();var L2=function(){function t(t){this.E1t=void 0,this.Xa=void 0,this.T1t=t}var n=t.prototype;return n.oX=function(t){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return n.E1t||(n.E1t=n.a2t(t)),[4,n.E1t];case 1:return i.sent(),[2]}}))}))()},n.a2t=function(t){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return[4,n.T1t.oX(t)];case 1:return i.sent(),[2]}}))}))()},n.k1t=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:if(!t.E1t)throw new v("Chromecast must be initialized before starting a session");return[4,t.E1t];case 1:return n.sent(),t.T1t.S1t()?[3,3]:[4,t.T1t.k1t()];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))()},n.u2t=function(){this.T1t.F1t(!1)},n.h2t=function(){this.T1t.F1t(!0)},At(t,[{key:"va",get:function(){return this.Xa||(this.Xa=function(t){return{initialize:function(n){var i=t.oX(MN(n));return i.catch(Kn),i},startSession:function(){var n=t.k1t();return n.catch(Kn),n},endSession:function(){t.h2t()}}}(this)),this.Xa}}]),t}();var j2=new b1,C2=new L2(j2),x2={get chromecast(){return C2.va}};QT((function(t){return new E2(t,j2)}),OT.wit),yt(),C(),yt(),C(),yt(),C(),yt(),C(),Xt(),zt(),pt(),Mt(),Ut(),yt(),C(),Xt(),zt(),pt(),Mt(),Ct(),Ut(),yt(),C(),zt(),Ut();var O2=function(){function t(t){this.p2t=t,this.g2t=ns(),this.v2t=ns()}var n=t.prototype;return n.c2t=function(t,n,i,r){var e=this;t.UU.forEach((function(t){if(!e.l2t(t.d2t)){var u=t.f2t(n,i,r);u&&e._2t(u)}}))},n.l2t=function(t){return this.g2t.get(t)},n._2t=function(t){this.g2t.set(t.w2t,t),this.v2t.set(t.w2t,t.m2t),this.p2t.Qa(t.A2t)},n.Git=function(t){this.v2t.has(t.w2t)||(this.v2t.set(t.w2t,t),this.p2t.Qa(t.A2t))},n.y2t=function(t){return this.v2t.forEach(t)},n.M2t=function(t){return this.g2t.forEach(t)},n.b2t=function(t){var n=!1;return this.g2t.forEach((function(i){n=i.b2t(t)||n})),n},n.gn=function(){var t=this;return Ot((function(){var n;return Rt(this,(function(i){switch(i.label){case 0:return n=[],t.g2t.forEach((function(t){return n.push(t.gn())})),t.v2t.forEach((function(t){return n.push(t.gn())})),[4,q.all(n)];case 1:return i.sent(),t.g2t.clear(),t.v2t.clear(),[2]}}))}))()},t}();yt(),C(),Mt();var z2=function(t){function n(n,i,r,e){var u;return(u=t.call(this,"yCt")||this).bqt=n,u.pL=i,u.jL=r,u.yc=e,u}return bt(n,t),n.prototype.fa=function(){return new R2(this.bqt,this.pL,this.jL,this.yc)},n.T2t=function(t){return new n(O0.GENERAL,t.pL,t.Sqt)},n.S2t=function(t,i){return new n(t.bqt,t.message,t.Sqt,i)},n}(am),R2=function(t){function n(n,i,r,e){var u;return(u=t.call(this,"aderror")||this).problemType=n,u.message=i,u.errorCode=r,u.source=e,u}return bt(n,t),n}(ra),B2=function(t){function n(n){var i;return(i=t.call(this)||this).Xa=void 0,i.k2t=n,i.I2t=new O2(Wt(i)),i}bt(n,t);var i=n.prototype;return i.Yit=function(t){this.D2t((function(n){n.Yit(t)}))},i.Ny=function(){this.D2t((function(t){t.Ny()}))},i.Git=function(t){this.I2t.Git(t)},i.Lit=function(t,n){return this.k2t.Lit(t,n)},i.L2t=function(t){this.I2t.M2t((function(n){n.L2t(t)}))},i.b2t=function(t){return this.I2t.b2t(t)},i.D2t=function(t){return this.I2t.y2t(t)},i.Wg=function(){this.I2t.M2t((function(t){return t.Wg()}))},i.tr=function(){var t=this;return Ot((function(){var n;return Rt(this,(function(i){switch(i.label){case 0:return n=[],t.I2t.M2t((function(t){return n.push(t.Zg())})),[4,q.all(n)];case 1:return i.sent(),[2]}}))}))()},i.gn=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return t.Vo(),[4,t.I2t.gn()];case 1:return n.sent(),[2]}}))}))()},At(n,[{key:"N2t",get:function(){return this.I2t}},{key:"Fc",get:function(){var t=!1;return this.D2t((function(n){t=t||n.E2t})),t}},{key:"Sit",get:function(){var t=[];return this.D2t((function(n){var i,r=n.Sit;r.length&&(i=t).push.apply(i,jt(r))})),t}},{key:"Iit",get:function(){var t=null;return this.D2t((function(n){null!=t||(t=n.Iit)})),t}},{key:"Dit",get:function(){var t=[];return this.D2t((function(n){var i;(i=t).push.apply(i,jt(n.Dit))})),t}},{key:"Eit",get:function(){var t=[];return this.D2t((function(n){var i;(i=t).push.apply(i,jt(n.Eit))})),t}},{key:"va",get:function(){var t;return null!=(t=this.Xa)?t:this.Xa=xR(this)}}]),n}(mI),P2=function(t){function n(n){var i;return(i=t.call(this,n)||this).x2t=!1,i.v5=!1,i.O2t=function(t){if(i.x2t){var n=new Zm(Wm.ADVERTISEMENT_ERROR,t.pL),r=new Kv(Xv.AD_BLOCKER_DETECTED,t.pL+" Turn off your AdBlocker and try again.",n);i.k2t.rB(r)}},i.ntt=function(){i.v5=!0},i.yn("yCt",i.O2t),n.yn(Al.jh,i.ntt),i}bt(n,t);var i=n.prototype;return i.W4=function(t,n,i){try{this.x2t=i;var r=II.lL.FU(t);if(r.d2t===U1.git)return;var e=this.I2t.l2t(r.d2t);if(!e)throw new R0(O0.ADBLOCK,void 0,"Ads could not be loaded.");n!==ER.Cit&&this.v5||this.k2t.C2t(e),r.W4(t,n,e,this.x2t)}catch(n){0,this.Co(z2.S2t(n,t.sources))}},i.tr=function(){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return[4,t.prototype.tr.call(n)];case 1:return i.sent(),n.v5=!1,[2]}}))}))()},i.gn=function(){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return i.sent(),n.k2t.fn(Al.jh,n.ntt),n.fn("yCt",n.O2t),[2]}}))}))()},n}(B2);yt(),C(),zt(),pt(),Ut(),yt(),C(),pt(),Mt(),yt(),C(),pt(),Mt();var U2,Q2,Y2=function(t){function n(n){var i;return(i=t.call(this)||this).yKt=n,i.Ic=[],i.j2t=-1,i.R2t=-1,i.P2t=void 0,i.B2t=!1,i}bt(n,t);var i=n.prototype;return i.z2t=function(){this.B2t=!0},i.U2t=function(t){this.Ic.push(t),this.B2t=!1},i.Q2t=function(t){go(this.Ic,t)},At(n,[{key:"Oc",get:function(){return this.Ic}},{key:"$Jt",get:function(){return this.j2t},set:function(t){this.j2t=t}},{key:"t$t",get:function(){return this.R2t},set:function(t){this.R2t=t}},{key:"cPt",get:function(){return this.yKt},set:function(t){this.yKt=t}},{key:"DJt",get:function(){return this.P2t}},{key:"pg",get:function(){return this.B2t}}]),n}(Y1),F2=function(t){function n(n,i){var r;return(r=t.call(this,i.timeOffset)||this).Y2t=[],r.F2t=n,r.Yn(i),r}bt(n,t);var i=n.prototype;return i.Yn=function(t){void 0!==t.maxDuration&&(this.j2t=t.maxDuration),void 0!==t.customData&&(this.P2t=t.customData)},i.G2t=function(t){var n=this.Ic.indexOf(t);return n>=0&&n<this.Ic.length-1},i.U2t=function(n){t.prototype.U2t.call(this,n),this.Y2t.push(n)},i.V2t=function(t){go(this.Y2t,t)},i.Q2t=function(n){t.prototype.Q2t.call(this,n),go(this.Y2t,n)},At(n,[{key:"vKt",get:function(){return this.F2t}},{key:"Dit",get:function(){return this.Y2t}}]),n}(Y2);yt(),C(),pt(),Mt(),Ct(),yt(),C(),pt(),Mt(),function(t){t.xqt="linear",t.Cqt="nonlinear",t.jT="unknown"}(U2||(U2={})),function(t){t.NONE="none",t.READY="ready"}(Q2||(Q2={}));var G2=function(t){function n(n,i){var r;return(r=t.call(this)||this).q2t=i,r.uS=void 0,r.OZt=void 0,r.qx=void 0,r.Kx=void 0,r.jx=void 0,r.DZt=[],r.PXt=[],r.H2t="none",r.P2t=void 0,r.J2t=!1,r.Xl=n,r}bt(n,t);var i=n.prototype;return i.W2t=function(t,n,i,r,e,u){this.uS=t,this.qx=n,this.Kx=i,this.jx=r,this.PXt=e,this.OZt=u,this.H2t="ready"},i.Nit=function(){var t;return null!=(t=this.Xa)?t:this.Xa=this.fa()},i.w$t=function(){},i.A$t=function(){return""},i.p$t=function(){return this.$2t},At(n,[{key:"X2t",get:function(){return this.H2t}},{key:"RXt",get:function(){return this.PXt}},{key:"ct",get:function(){return this.jx}},{key:"Ti",get:function(){return this.Kx}},{key:"o",get:function(){return this.uS}},{key:"CZt",get:function(){return this.OZt}},{key:"ji",get:function(){return this.qx}},{key:"Z2t",get:function(){return this.q2t}},{key:"sZt",get:function(){return this.nZt}},{key:"IXt",get:function(){return this.DXt}},{key:"fXt",get:function(){return this.DZt}},{key:"DJt",get:function(){return this.P2t}},{key:"K2t",get:function(){return this.J2t}}]),n}(Q1);function V2(t){return{get adSystem(){return t.w$t()},get readyState(){return t.X2t},get adBreak(){return t.Xl.Nit()},get duration(){return t.ct},get companions(){return t.RXt.map((function(t){return t.va}))},get resourceURI(){return t.p$t()},get clickThrough(){return t.sZt},get width(){return t.ji},get type(){return function(t){switch(t){case"linear":case"unknown":return"linear";case"nonlinear":return"nonlinear"}}(t.Z2t)},get height(){return t.Ti},get id(){return t.o},get skipOffset(){return t.CZt},get integration(){return t.vKt},get creativeId(){return t.IXt},get universalAdIds(){return t.fXt},get customData(){return t.DJt},get isSlate(){return t.K2t}}}yt(),C(),pt();var W2=function(){function t(t){var n;this.Xa=void 0,this.nZt=void 0,this.$2t=void 0,this.ZXt=t.XXt,this.qx=t.ji,this.Kx=t.Ti,this.i4t=t.t4t,this.nZt=t.sZt,this.$2t=t.lqt,this.eZt=null!=(n=t.iZt)?n:"",this.e4t(t)}return t.prototype.e4t=function(t){if(!t.sZt||!t.lqt){var n=function(t){try{return w0(t,"text/html")}catch(t){return}}(t.t4t);n&&(this.nZt=X2(n,"a","href"),this.$2t=X2(n,"img","src"))}},At(t,[{key:"XXt",get:function(){return this.ZXt}},{key:"iZt",get:function(){return this.eZt}},{key:"t4t",get:function(){return this.i4t}},{key:"sZt",get:function(){return this.nZt}},{key:"Ti",get:function(){return this.Kx}},{key:"lqt",get:function(){return this.$2t}},{key:"ji",get:function(){return this.qx}},{key:"va",get:function(){var t;return null!=(t=this.Xa)?t:this.Xa=function(t){return{get adSlotId(){return t.XXt},get altText(){return t.iZt},get contentHTML(){return t.t4t},get clickThrough(){return t.sZt},get height(){return t.Ti},get resourceURI(){return t.lqt},get width(){return t.ji}}}(this)}}]),t}();function X2(t,n,i){var r=t.querySelector(n);return r&&r.getAttribute(i)||""}var Z2=function(t){function n(n,i,r){var e;return(e=t.call(this,r,function(t){return"linear"===t?U2.xqt:"nonlinear"===t?U2.Cqt:U2.jT}(i.type))||this).n4t=0,e.F2t=n,e.Yn(i),e}bt(n,t);var i=n.prototype;return i.fa=function(){return V2(this)},i.Yn=function(t){t.id&&(this.uS=t.id),void 0!==t.skipOffset&&(this.OZt=t.skipOffset),void 0!==t.width&&(this.qx=t.width),void 0!==t.height&&(this.Kx=t.height),void 0!==t.duration&&(this.jx=t.duration),void 0!==t.readyState&&(this.H2t=function(t){return"ready"===t?Q2.READY:Q2.NONE}(t.readyState)),void 0!==t.resourceURI&&(this.$2t=t.resourceURI),void 0!==t.clickThrough&&(this.nZt=t.clickThrough),void 0!==t.companions&&(this.PXt=jt(t.companions).map(H2)),void 0!==t.creativeId&&(this.DXt=t.creativeId),void 0!==t.universalAdIds&&(this.DZt=t.universalAdIds),void 0!==t.customData&&(this.P2t=t.customData)},At(n,[{key:"vKt",get:function(){return this.F2t}},{key:"s4t",get:function(){return this.n4t},set:function(t){this.n4t=t}}]),n}(G2);function H2(t){var n={XXt:t.adSlotId,iZt:t.altText,t4t:t.contentHTML,Nz:void 0,sZt:t.clickThrough,Ti:t.height,lqt:t.resourceURI,ji:t.width};return new W2(n)}yt(),C(),pt(),Mt();var K2=function(t){function n(n,i){var r;return(r=t.call(this,"pCt",n)||this).o4t=i,r}return bt(n,t),n.prototype.fa=function(){return new q2(this.Rit.Nit(),this.r4t)},At(n,[{key:"r4t",get:function(){return this.o4t}}]),n}(QR),q2=function(t){function n(n,i){var r;return(r=t.call(this,"adskip",n)||this).playedPercentage=i,r}return bt(n,t),n}(YR);yt(),C(),Mt();var J2=function(t){function n(n){return t.call(this,"h4t",n)}return bt(n,t),n.prototype.fa=function(){return new $2(this.Xl.Nit())},n}(OR),$2=function(t){function n(n){return t.call(this,"updateadbreak",n)}return bt(n,t),n}(zR);yt(),C(),Mt();var t4=function(t){function n(n){return t.call(this,"a4t",n)}return bt(n,t),n.prototype.fa=function(){return new n4(this.Xl.Nit())},n}(OR),n4=function(t){function n(n){return t.call(this,"adbreakchange",n)}return bt(n,t),n}(zR);yt(),C(),Mt();var i4=function(t){function n(n,i){var r;return(r=t.call(this,"u4t",n)||this).currentTime=i,r}return bt(n,t),n.prototype.fa=function(){return new r4(this.Rit.Nit(),this.currentTime)},n}(QR),r4=function(t){function n(n,i){var r;return(r=t.call(this,"adfirstquartile",n)||this).currentTime=i,r}return bt(n,t),n}(YR);yt(),C(),Mt();var e4=function(t){function n(n,i){var r;return(r=t.call(this,"c4t",n)||this).currentTime=i,r}return bt(n,t),n.prototype.fa=function(){return new u4(this.Rit.Nit(),this.currentTime)},n}(QR),u4=function(t){function n(n,i){var r;return(r=t.call(this,"admidpoint",n)||this).currentTime=i,r}return bt(n,t),n}(YR);yt(),C(),Mt();var s4=function(t){function n(n,i){var r;return(r=t.call(this,"l4t",n)||this).currentTime=i,r}return bt(n,t),n.prototype.fa=function(){return new o4(this.Rit.Nit(),this.currentTime)},n}(QR),o4=function(t){function n(n,i){var r;return(r=t.call(this,"adthirdquartile",n)||this).ad=n,r.currentTime=i,r}return bt(n,t),n}(YR),a4=function(){function t(t,n){this.A2t=new mI,this.Ic=[],this.D$t=[],this.T4t=[],this.vKt=t,this.k2t=n}var n=t.prototype;return n.Ny=function(){var t;if(0!==this.T4t.length){var n=this.T4t[0];(null==(t=this.T3)?void 0:t.skipAd)?this.T3.skipAd(n.Nit()):this.$Kt(n)}},n.Yit=function(t){},n.d4t=function(t,n){var i,r=null!=n?n:this.S4t({timeOffset:null!=(i=t.timeOffset)?i:0}),e=new Z2(this.vKt,t,r);return r.U2t(e),this.Ic.push(e),this.A2t.Co(new FR(e)),e},n._4t=function(t,n){t.Yn(n),this.A2t.Co(new K1(t))},n.w4t=function(t,n){if(!mo(this.T4t,t))throw new v("Cannot update ad progress on a non-started ad");var i=t.s4t,r=w.max(i,n);t.s4t=r;var e=this.k2t.Q_();i<.25&&r>=.25&&this.A2t.Co(new i4(t,e)),i<.5&&r>=.5&&this.A2t.Co(new e4(t,e)),i<.75&&r>=.75&&this.A2t.Co(new s4(t,e))},n.V2t=function(t){mo(this.T4t,t)||(this.T4t.push(t),t.Xl.V2t(t),this.N4t(t.Xl),this.A2t.Co(new HR(t,this.k2t.Q_())))},n.$Kt=function(t){if(mo(this.T4t,t)){var n=t.Xl.G2t(t);this.A2t.Co(new K2(t,t.s4t)),this.I4t(t,n)}},n.v4t=function(t){if(mo(this.T4t,t)){var n=t.Xl.G2t(t);this.A2t.Co(new qR(t,this.k2t.Q_())),this.I4t(t,n)}},n.Q2t=function(t){if(mo(this.Ic,t)){var n=t.Xl.G2t(t);go(this.Ic,t),t.Xl.Q2t(t),this.A2t.Co(new t4(t.Xl)),this.I4t(t,n)}},n.m4t=function(t){var n=new F2(this.vKt,t);return this.D$t.push(n),this.A2t.Co(new PR(n)),n},n.p4t=function(t,n){t.Yn(n),this.A2t.Co(new J2(t))},n.A4t=function(t){if(mo(this.D$t,t)){for(var n=0,i=t.Oc.slice();n<i.length;n++){var r=i[n];this.Q2t(r)}go(this.D$t,t),this.A2t.Co(new RR(t))}},n.y4t=function(){for(var t=0,n=this.D$t.slice();t<n.length;t++){var i=n[t];this.A4t(i)}},n.M4t=function(t){this.A2t.Co(new z2(O0.GENERAL,t.message))},n.b4t=function(t,n){var i=new Kv(null!=n?n:Xv.AD_ERROR,t.message,t);this.k2t.rB(i)},n.D4t=function(t){return co(this.D$t,(function(n){return n.cPt===t}))},n.S4t=function(t){var n;return null!=(n=this.D4t(t.timeOffset))?n:this.m4t(t)},n.I4t=function(t,n){go(this.T4t,t);var i=t.Xl;0!==this.T4t.length||this.I$t!==i||n||(i.z2t(),this.N4t(void 0))},n.N4t=function(t){this.I$t!==t&&(void 0!==this.I$t&&this.A2t.Co(new VR(this.I$t)),this.I$t=t,void 0!==t&&this.A2t.Co(new XR(t)))},n.g4t=function(t){var n=co(this.Ic,(function(n){return n.Nit()===t}));if(void 0===n)throw new v('Invalid ad for integration "'+this.vKt+'"');return n},n.f4t=function(t){var n=co(this.D$t,(function(n){return n.Nit()===t}));if(void 0===n)throw new v('Invalid ad break for integration "'+this.vKt+'"');return n},n.ga=function(t,n){var i=this;return Ot((function(){var r,e;return Rt(this,(function(u){switch(u.label){case 0:return Po(n),(null==(r=i.T3)?void 0:r.setSource)?[4,q.resolve(i.T3.setSource(t))]:[3,2];case 1:return JI(e=u.sent())&&(e=t),[2,fE(e,i.k2t.wd)];case 2:return[2,t];case 3:return[2]}}))}))()},n.E4t=function(){var t=this;return Ot((function(){var n;return Rt(this,(function(i){switch(i.label){case 0:return(null==(n=t.T3)?void 0:n.resetSource)?[4,q.resolve(t.T3.resetSource())]:[3,2];case 1:return i.sent(),[3,3];case 2:t.y4t(),i.label=3;case 3:return[2]}}))}))()},n.gn=function(){var t=this;return Ot((function(){var n;return Rt(this,(function(i){switch(i.label){case 0:return(null==(n=t.T3)?void 0:n.destroy)?[4,q.resolve(t.T3.destroy()).catch(Kn)]:[3,2];case 1:i.sent(),i.label=2;case 2:return t.y4t(),t.N4t(void 0),t.T3=void 0,t.A2t.gn(),[2]}}))}))()},At(t,[{key:"Oc",get:function(){return this.Ic}},{key:"s$t",get:function(){return this.D$t}},{key:"va",get:function(){var t;return null!=(t=this.Xa)?t:this.Xa=function(t){return{get integration(){return t.vKt},get ads(){return t.Oc.map((function(t){return t.Nit()}))},get adBreaks(){return t.s$t.map((function(t){return t.Nit()}))},createAd:function(n,i){return t.d4t(n,i?t.f4t(i):void 0).Nit()},updateAd:function(n,i){t._4t(t.g4t(n),i)},updateAdProgress:function(n,i){var r=Pi(Number(i),0,1);t.w4t(t.g4t(n),r)},beginAd:function(n){t.V2t(t.g4t(n))},endAd:function(n){t.v4t(t.g4t(n))},skipAd:function(n){t.$Kt(t.g4t(n))},removeAd:function(n){t.Q2t(t.g4t(n))},createAdBreak:function(n){return t.m4t(n).Nit()},updateAdBreak:function(n,i){t.p4t(t.f4t(n),i)},removeAdBreak:function(n){t.A4t(t.f4t(n))},removeAllAds:function(){t.y4t()},error:function(n){t.M4t(n)},fatalError:function(n,i){var r=i?Number(i):void 0;t.b4t(n,r)}}}(this)}},{key:"NM",get:function(){return this.T3},set:function(t){this.T3=t}},{key:"E2t",get:function(){return this.T4t.some((function(t){return t.Z2t===U2.xqt}))}},{key:"w2t",get:function(){return this.vKt}},{key:"Sit",get:function(){return this.T4t}},{key:"Iit",get:function(){var t;return null!=(t=this.I$t)?t:null}},{key:"Dit",get:function(){return ko(this.D$t,(function(t){return t.Dit}))}},{key:"Eit",get:function(){return this.D$t.filter((function(t){return!t.pg}))}}]),t}();var c4=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).j4t=[],r.vz=void 0,r.bU=void 0,r.R4t=1,r.q1t=n,r.k4t=new P2(Wt(r)),r.k4t.N2t.c2t(i,n,Wt(r),n.wd),r}bt(n,t);var i=n.prototype;return i.ait=function(){return this.k4t},i.Wg=function(){this.q1t.Wg(),this.k4t.Wg()},i.Xg=function(){void 0===this.vz?(void 0!==this.C4t&&this.O4t(this.C4t),t.prototype.Xg.call(this)):this.Co(new gT(this.vz))},i.ga=function(n,i){var r=this;return Ot((function(){var e,u,s,o,a,c,h;return Rt(this,(function(f){switch(f.label){case 0:if(Po(i),!(e=n))return[3,4];u=0,s=r.j4t,f.label=1;case 1:return u<s.length?[4,s[u].ga(e,i)]:[3,4];case 2:e=f.sent(),f.label=3;case 3:return u++,[3,1];case 4:return[4,t.prototype.ga.call(r,e,i)];case 5:if(f.sent(),Po(i),null==e?void 0:e.ads)for(o=Boolean(e.blockContentIfAdError),r.k4t.L2t(e.playAdsAfterTime),a=0,c=e.ads;a<c.length;a++)h=c[a],r.k4t.W4(h,ER.Cit,o);return[2]}}))}))()},i.Zg=function(){var n=this;return Ot((function(){var i,r;return Rt(this,(function(e){switch(e.label){case 0:return n.vz=void 0,n.bU=void 0,[4,n.k4t.tr()];case 1:return e.sent(),n.Q1t(),[4,t.prototype.Zg.call(n)];case 2:e.sent(),i=0,r=n.j4t,e.label=3;case 3:return i<r.length?[4,r[i].E4t()]:[3,6];case 4:e.sent(),e.label=5;case 5:return i++,[3,3];case 6:return[2]}}))}))()},i.O4t=function(t){this.R4t=this.Qo.gg;var n=this.Qo.zg,i=this.Qo.og;t.Ug(n),t.ag(i),this.x4t=t,this.C4t=void 0,this.WT(t)},i.C2t=function(t){void 0===this.x4t&&(this.C4t=t)},i.Q1t=function(){this.C4t=void 0,void 0!==this.x4t&&(this.q1t.gg=this.R4t,this.q1t.zg=this.zg,this.q1t.og=this.og,this.WT(this.q1t),this.x4t=void 0)},i.W_=function(){var n;return null!=(n=this.bU)?n:t.prototype.W_.call(this)},i.X_=function(){var n;return null!=(n=this.vz)?n:t.prototype.X_.call(this)},i.rB=function(t){void 0===this.X_()&&(this.vz=t,this.bU=Km(t),this.Co(new gT(t)))},i.nw=function(t){return void 0===this.x4t&&this.k4t.b2t(t)},i.Lit=function(t,n){try{var i=new a4(t,this);i.NM=n(i.va),this.k4t.Git(i),this.j4t.push(i)}catch(n){this.k4t.Co(new z2(O0.GENERAL,'Error while constructing ad integration "'+t+'": '+n+'"'))}},i.gn=function(){var n=this;return Ot((function(){var i,r;return Rt(this,(function(e){switch(e.label){case 0:i=0,r=n.j4t,e.label=1;case 1:return i<r.length?[4,r[i].gn().catch(Kn)]:[3,4];case 2:e.sent(),e.label=3;case 3:return i++,[3,1];case 4:return[4,n.k4t.gn()];case 5:return e.sent(),n.Q1t(),[4,t.prototype.gn.call(n)];case 6:return e.sent(),[2]}}))}))()},At(n,[{key:"L4t",get:function(){return this.x4t}}]),n}(I2);QT((function(t){return new c4(t,II.lL)}),OT._it),yt(),C(),pt(),yt(),C(),Xt(),zt(),pt(),Mt(),Ct(),Ut(),yt(),C(),zt(),pt(),Mt(),Ut();var h4=0!==xn.Uk?xn.Uk:xn.WE,f4=xn.Ga&&h4<12,v4=function(t){function n(n,i){var r;return(r=t.call(this,n,!0)||this).k2t=i,r.Q4t=!1,r.VT=new Vm,r.YT=new Vm,r.Dl=new Y_,r.GT=new dN,r.P4t=new mI,r.dU=new JD,r.bz=new NT,r.F4t=function(){r.Qo.ge()},r.Y4t=function(){r.G4t()},r.Qo.yn(Al.Dv,r.Ds),r}bt(n,t);var i=n.prototype;return i.Ktt=function(){return this.Qo.Ktt()},i.j_=function(){return HD.oU().ks()},i.P_=function(){},i.z_=function(t){},i.wg=function(){return 1},i.vg=function(t){},i.Ag=function(){return new HD([0,this.U_]).ks()},i.Lg=function(){return!1},i.xg=function(){return this.Dl},i.jg=function(){return this.VT},i.cs=function(){return this.Gg().cs},i.Gg=function(){return this.dU},i.ka=function(){},i.gn=function(){var t=this;return Ot((function(){return Rt(this,(function(n){return t.Vo(),t.YT.gn(),t.VT.gn(),t.Dl.gn(),t.P4t.gn(),t.Qo.fn(Al.Dv,t.Ds),[2]}))}))()},i.z4t=function(){f4&&this.B4t(),this.E2t||this.k2t.O4t(this)},i.Q1t=function(){this.E2t&&(f4&&this.U4t(),xn.sL&&this.we.querySelectorAll("video[src]").forEach((function(t){t.src=""})),an.Ys.Bet&&this.Qo.iw(),this.k2t.Q1t())},i.B4t=function(){this.Q4t||(ru.addEventListener("blur",this.F4t),ru.addEventListener("focus",this.Y4t),this.Q4t=!0)},i.U4t=function(){ru.removeEventListener("blur",this.F4t),ru.removeEventListener("focus",this.Y4t),this.Q4t=!1},i.G4t=function(){var t=this;requestAnimationFrame((function(){return t.Qo.be()}))},At(n,[{key:"U_",get:function(){return this.Q_()},set:function(t){this.F_(t)}},{key:"ct",get:function(){return this.Td()}},{key:"Z_",get:function(){return this.GT}},{key:"Ig",get:function(){return this.Dg()}},{key:"Qg",get:function(){return this.bz}},{key:"A2t",get:function(){return this.P4t}},{key:"ht",get:function(){return this.YT}},{key:"E2t",get:function(){return this.k2t.L4t===this}}]),n}(zT);yt(),C(),zt(),pt(),Ut(),yt(),C(),pt();var l4=0,d4="theoplayer-wrapper",g4=function(){function t(n,i,r,e){this.W4t=i,this.Qo=r,this.K4t=e,this.r3t=NaN,this.a3t=!1,this.c3t=!1,this.e3t=!1,this.f3t=[],this.Ftt=!1,this.uU=!1,this.X4t=[],this.Xw=++l4,this.w3t=n.timeOffset,this.n3t=t.x3t(this.w3t),this.o3t(),this.X4t.push(n)}var n=t.prototype;return n.J4t=function(t){var n=this.$4t===t.timeOffset;return!this.t3t&&n},n.o3t=function(){if(A(this.r3t)){var t=this.$4t;if(void 0===t)return void(this.r3t=0);if("string"==typeof t&&h1(t)){var n=this.Qo.Td();A(n)||n===1/0||(t=X$(t)*n)}A(t)||(this.r3t=t)}},n._3t=function(t){this.f3t.push(t)},n.g3t=function(){if(!this.t3t){var t,n,i=this.W4t===ER.Cit&&void 0===this.w3t&&1===this.X4t.length,r=this.X4t[0];if(s1(r.sources.type)||i)t=r.sources.src;else{if(A(this.Qo.Td())&&"end"===this.v3t())return;n=this.m3t()}var e=this.Qo.Td();(A(e)||e===1/0)&&(e=-3),this.t3t={p3t:this.Qo.we.offsetWidth,A3t:this.Qo.we.offsetHeight,y3t:this.Qo.we.offsetWidth,M3t:this.Qo.we.offsetHeight,b3t:this.Ftt,T3t:this.uU,S3t:t,N3t:n,I3t:r.omidAccessModeRules,D3t:e}}return this.t3t},n.m3t=function(){var t=this;return'<vmap:VMAP xmlns:vmap="http://www.iab.net/videosuite/vmap" version="1.0">'+this.X4t.map((function(n,i){return t.E3t(n.sources,i)})).join("\n")+"</vmap:VMAP>"},n.E3t=function(t,n){var i=this.v3t(),r=t.src;return'<vmap:AdBreak timeOffset="'+i+'" breakType="linear,nonlinear" breakId="theoplayer-break-'+this.Xw+"-"+n+'"><vmap:AdSource allowMultipleAds="true" followRedirects="true"><vmap:VASTAdData><VAST version="3.0"><Ad id="'+d4+"-"+this.Xw+"-"+n+'"><Wrapper allowMultipleAds="true" followAdditionalWrappers="true"><VASTAdTagURI><![CDATA['+r+"]]></VASTAdTagURI></Wrapper></Ad></VAST></vmap:VASTAdData></vmap:AdSource></vmap:AdBreak>"},n.v3t=function(){if(0===this.$4t)return"start";if(this.$4t===1/0)return"end";var t=this.$4t;if("string"==typeof t&&h1(t)){var n=X$(t)*this.Qo.Td();return Z0.cKt(n)}return Z0.cKt(this.$4t||0)},n.k3t=function(t){this.X4t.push(t)},n.L3t=function(t){for(var n=d4+"-"+this.Xw+"-",i=0;i<t.length;i++){var r=t[i];if(Bs(r,n)){var e=Number(r.slice(n.length));if(!A(e)&&e>=0&&e<this.X4t.length)return e}}return-1},n.C3t=function(){this.e3t=!0},t.x3t=function(t){if(void 0!==t)return-1===t?1/0:t},At(t,[{key:"V4t",get:function(){return this.W4t}},{key:"H4t",get:function(){return this.X4t}},{key:"Z4t",get:function(){return 1===this.X4t.length&&s1(this.X4t[0].sources.type)}},{key:"q4t",get:function(){return this.K4t}},{key:"i3t",get:function(){return this.e3t}},{key:"s3t",get:function(){return h1(this.n3t)&&!this.t3t}},{key:"$4t",get:function(){return this.n3t}},{key:"Kl",get:function(){return this.r3t}},{key:"h3t",get:function(){return this.a3t},set:function(t){this.a3t=t}},{key:"u3t",get:function(){return this.c3t},set:function(t){this.c3t=t,this.l3t=!1}},{key:"d3t",get:function(){return this.f3t}},{key:"eS",get:function(){return this.Ftt},set:function(t){this.Ftt=t}},{key:"og",get:function(){return this.uU},set:function(t){this.uU=t}}]),t}();yt(),C(),pt();var w4,y4=function(){function t(t){this.Y3t=!1,this.j3t=t,this.P3t=void 0}var n=t.prototype;return n.L2t=function(t){this.P3t=t},n.z3t=function(t){return!(this.O3t&&!this.O3t.i3t&&"nonlinear"!==this.R3t.Z2t)||this.O3t.Kl>t.Kl&&this.O3t.Kl!==t.Kl},n.B3t=function(t){if(t.length)return t.sort((function(t,n){return t.Kl-n.Kl}))[0]},n.U3t=function(){if(this.Dit.length)return this.B3t(this.Q3t(this.t.Q_()))},n.F3t=function(){var t=this;if(!(void 0!==this.P3t&&this.P3t>=0))return this.Dit.filter((function(n){return!n.h3t&&0===n.Kl&&n!==t.O3t}))[0]},n.Q3t=function(t){var n=this;if(!this.Y3t&&(this.Y3t=!this.Dit.some((function(t){return A(t.Kl)})),!this.Y3t))return[];var i=this.Dit.filter((function(n){return!n.h3t&&(n.Z4t||!A(n.Kl)&&t<=n.Kl)}));return void 0===this.P3t?i:i.filter((function(t){return t.Z4t||void 0===t.$4t||t.Kl>n.P3t}))},At(t,[{key:"O3t",get:function(){return this.j3t.O3t}},{key:"R3t",get:function(){return this.j3t.R3t}},{key:"Dit",get:function(){return this.j3t.Dit}},{key:"t",get:function(){return this.j3t.t}}]),t}();!function(t){t[t.G3t=0]="G3t",t[t.V3t=1]="V3t",t[t.W3t=2]="W3t"}(w4||(w4={}));var m4,A4,p4,_4,k4=function(){function t(t,n,i,r,e){var u=this;this.i5t=0,this.Cvt=void 0,this.w5t=!1,this.uF=function(){for(var t=u.Y2t.filter((function(t){return t.s3t})),n=0;n<t.length;n++){var i=t[n];i.o3t();var r=i.$4t;u.J3t.p5t(r,i.Kl)}u.bo&&u.v5t&&u.X3t()},this.Y2t=[],this.t5t=t,this.bo=!1,this.H3t=!1,this.Qo=n,this.k2t=i,this.O3t=void 0,this.a5t=0,this._5t=new y4(this),this.Vtt=r,this.J3t=e,this.Qo.yn(Al.Lv,this.uF)}var n=t.prototype;return n.Wg=function(){this.bo=!0,this.H3t&&this.X3t()},n.Z3t=function(t,n){this.q3t(t,n);var i=co(this.Dit,(function(n){return n.J4t(t)}));if(i)i.k3t(t);else{var r,e=new g4(t,n,this.Qo,null==(r=t.replaceContent)||r);this.Y2t.push(e),2===this.K3t&&this.J3t.m4t(e.Kl,e,e.$4t),this.$3t(n,e)}},n.e5t=function(){if(go(this.Dit,this.O3t),this.O3t){for(var t=0,n=this.O3t.d3t;t<n.length;t++){n[t];this.J3t.s5t()}this.O3t=void 0}},n.n5t=function(){for(var t=0,n=this.Y2t;t<n.length;t++)for(var i=0,r=n[t].d3t;i<r.length;i++){var e=r[i];this.J3t.r5t(e,!0)}po(this.Y2t)},n.o5t=function(t){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return n.e5t(),n.h5t=!0,n.O3t=t,n.a5t=t.Kl,n.Cvt=n.u5t(t),[4,n.Cvt];case 1:return i.sent(),n.Cvt=void 0,[2]}}))}))()},n.u5t=function(t){var n=this;return Ot((function(){var i,r;return Rt(this,(function(e){switch(e.label){case 0:if(n.c5t(t),!(i=t.g3t()))return n.h5t=!1,n.O3t=void 0,[2];r=n.t5t.l5t(i),t.h3t=!0,e.label=1;case 1:return e.trys.push([1,3,,5]),[4,r];case 2:return e.sent(),t.V4t===ER.kit&&n.t5t.d5t(),[3,5];case 3:return e.sent(),n.O3t=void 0,[4,n.X3t()];case 4:return e.sent(),[3,5];case 5:return[2]}}))}))()},n.c5t=function(t){this.bo?t.eS=!0:t.eS=this.k2t.eS,t.og=this.k2t.og},n.f5t=function(){var t;return null!=(t=this._5t.F3t())?t:this._5t.U3t()},n.X3t=function(){var t=this;return Ot((function(){var n;return Rt(this,(function(i){switch(i.label){case 0:return t.O3t&&!t.O3t.i3t?[2,t.Cvt]:(n=t.f5t())?[4,t.o5t(n)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))()},n.tr=function(){this.e5t(),po(this.Y2t),this.a5t=0,this.O3t=void 0,this.Cvt=void 0,this.h5t=!1},n.u3t=function(){this.h5t=!1,this.O3t&&(this.O3t.u3t=!0)},n.$3t=function(t,n){var i=this;return Ot((function(){return Rt(this,(function(r){switch(r.label){case 0:return t===ER.kit&&i.bo&&i._5t.z3t(n)?i.KGt||"linear"===i.t5t.Z2t||!(!i.O3t||i.O3t&&i.O3t.h3t)?[3,3]:[4,q.resolve()]:[3,3];case 1:return r.sent(),[4,i.o5t(n)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))()},n.C3t=function(){this.O3t&&this.O3t.C3t()},n.m5t=function(){var t=this;return Ot((function(){var n;return Rt(this,(function(i){switch(i.label){case 0:return t.v5t?(n=t.f5t())?[4,t.o5t(n)]:[3,2]:[2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))()},n.q3t=function(t,n){var i=t.sources.type,r=n===ER.Cit&&void 0===t.timeOffset,e=s1(i)||r?1:2;e!==this.i5t&&(this.i5t=e,this.n5t(),this.t5t.i$t&&!this.KGt&&"linear"!==this.t5t.Z2t&&(this.t5t.i$t.h_(),this.O3t=void 0,this.Cvt=void 0),this.a5t=0,this.H3t=!0)},n.L2t=function(t){this._5t.L2t(t)},n.gn=function(){this.Qo.fn(Al.Lv,this.uF)},At(t,[{key:"R3t",get:function(){return this.t5t}},{key:"Dit",get:function(){return this.Y2t}},{key:"t",get:function(){return this.Qo}},{key:"KGt",get:function(){return Boolean(this.Cvt)}},{key:"K3t",get:function(){return this.i5t}},{key:"O3t",get:function(){return this.g5t},set:function(t){this.g5t=t}},{key:"h5t",get:function(){return this.w5t},set:function(t){this.w5t=t}},{key:"v5t",get:function(){var t=this;return!this.KGt&&!this.h5t&&(!(this.O3t&&!this.O3t.i3t)&&(!!this.Y2t.filter((function(n){return t.O3t!==n})).length&&Boolean(this.f5t())))}}]),t}();function b4(t,n){if(t===m4.A5t){var i=n;return{y5t:i.adBreakDuration,M5t:i.adPosition,U_:i.currentTime,ct:i.duration,b5t:i.totalAds}}return n}function M4(t){switch(t){case google.ima.AdError.Type.AD_LOAD:return _4.T5t;case google.ima.AdError.Type.AD_PLAY:return _4.S5t}}function T4(t){return Qn(t)&&Zn(t.getVastErrorCode)}function N4(t){var n=t.getInnerError(),i=n&&T4(n)?N4(n):void 0;return{pL:t.getMessage(),Sqt:t.getErrorCode(),N5t:t.getVastErrorCode(),Av:M4(t.getType()),I5t:i}}function D4(t){if(Rn(t))return t}yt(),C(),Xt(),zt(),Mt(),Ut(),yt(),C(),function(t){t.D5t="contentResumeRequested",t.E5t="contentPauseRequested",t.k5t="click",t.Lv="durationChange",t.L5t="expandedChanged",t.nLt="start",t.x5t="impression",t.VU="pause",t.C5t="resume",t.A5t="adProgress",t.O5t="adBuffering",t.j5t="firstQuartile",t.HZt="midpoint",t.R5t="thirdQuartile",t.XZt="complete",t.P5t="userClose",t.z5t="linearChanged",t.B5t="loaded",t.U5t="adCanPlay",t.Q5t="adMetadata",t.F5t="adBreakReady",t.Y5t="interaction",t.G5t="allAdsCompleted",t.V5t="skip",t.W5t="skippableStateChanged",t.H5t="log",t.X5t="viewableImpression",t.Z5t="volumeChange",t.q5t="mute"}(m4||(m4={})),yt(),C(),function(t){t.K5t="adError"}(A4||(A4={})),yt(),C(),function(t){t[t.J5t=-1]="J5t",t[t.$5t=-1]="$5t",t[t.t6t=-1]="t6t",t[t.i6t=101]="i6t",t[t.e6t=102]="e6t",t[t.s6t=200]="s6t",t[t.n6t=201]="n6t",t[t.r6t=202]="r6t",t[t.o6t=300]="o6t",t[t.h6t=301]="h6t",t[t.a6t=302]="a6t",t[t.u6t=303]="u6t",t[t.c6t=400]="c6t",t[t.l6t=402]="l6t",t[t.d6t=403]="d6t",t[t.f6t=405]="f6t",t[t._6t=500]="_6t",t[t.g6t=501]="g6t",t[t.w6t=-1]="w6t",t[t.v6t=503]="v6t",t[t.m6t=602]="m6t",t[t.p6t=900]="p6t",t[t.A6t=901]="A6t",t[t.y6t=1005]="y6t",t[t.M6t=1007]="M6t",t[t.b6t=1009]="b6t",t[t.T6t=1010]="T6t",t[t.S6t=1011]="S6t",t[t.N6t=1012]="N6t",t[t.I6t=1013]="I6t",t[t.D6t=1020]="D6t",t[t.E6t=1021]="E6t",t[t.k6t=1101]="k6t",t[t.L6t=1204]="L6t",t[t.x6t=1205]="x6t",t[t.C6t=1300]="C6t",t[t.O6t=-1]="O6t",t[t.j6t=-1]="j6t",t[t.R6t=-1]="R6t",t[t.P6t=-1]="P6t"}(p4||(p4={})),function(t){t.T5t="adLoadError",t.S5t="adPlayError"}(_4||(_4={})),yt(),C(),Ht(),yt(),C();var I4=function(t){function n(n,i,r){var e;(e=t.call(this)||this).t5t=n,e.Qo=i,e.t9t=r,e.j9t=!1,e.L9t=void 0,e.x9t=void 0,e.c9t=0,e._9t=function(t){if(t.Rit&&t.Rit.p9t){var n=t.Rit.p9t;e.t9t.p4t(n.cPt,n.b5t,n.$Jt)}},e.g9t=function(t){var n,i,r;if(!(e.c9t>=5)){e.c9t++;var u=t.e9t;if(function(t){return Qn(t)&&void 0!==t.y5t&&void 0!==t.b5t}(u)){var s=null==(r=e.e$t)||null==(i=r.w9t())||null==(n=i.p9t)?void 0:n.cPt;void 0!==s&&e.t9t.p4t(s,u.b5t,u.y5t)}}};var u=Wt(e);e.U6t=Ot((function(t){return Rt(this,(function(n){switch(n.label){case 0:return t.e9t.R9t?[4,u.o9t(t.e9t.R9t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}));var s=Wt(e);e.Y6t=Ot((function(){return Rt(this,(function(t){switch(t.label){case 0:return s.j9t=!0,s.t5t.C3t(),[4,s.F6t()];case 1:return t.sent(),[2]}}))})),e.G6t=function(t){if(t.Rit){0;var n=t.Rit;e.t5t.b9t(n),e.t5t.ge(),e.t5t.P9t(),e.t9t.z9t(n);var i=n.ct;if(e.i9t(i),n.l9t){var r=e.t5t.U_,u=e.t5t.Sg;e.t5t.a2(mk.QT),e.z6t(new _k(r,u)),e.z6t(new bk(r,u)),e.z6t(new Mk(r,u)),e.t5t.fg||e.z6t(new Tk(e.t5t.U_)),e.setCountdownTimer(),e.K6t(!0)}else e.t5t.Q1t(),e.Qo.ge(),e.t5t.fg||e.Qo.Xg()}},e.V6t=function(t){var n;if(t.Rit){0;var i=t.Rit;if(e.g1(),e.t9t.M9t(e.t5t.ct,i.l9t),e.t5t.Sg!==mk.BT){var r=mk.BT;e.t5t.a2(r);var u=e.t5t.U_;e.z6t(new gD(u,r))}e.i9t(NaN),e.t5t.B9t=!1,null==(n=e.e$t)||n.Ug(e.t5t.d9t())}},e.W6t=function(t){t.Rit&&(e.V6t(t),e.t9t.W6t(t.Rit,e.t5t.U_,e.t5t.ct))},e.H6t=function(t){t.Rit&&(e.t9t.M9t(-1,t.Rit.l9t),e.t5t.C3t(),!t.Rit.l9t&&e.t5t.v5t()&&e.t5t.m5t())},e.X6t=function(t){t.Rit&&(t.Rit.l9t?e.t5t.Hg():e.Qo.Hg())},e.Z6t=function(){var t;(e.t5t.B9t=!0,e.t5t.U9t)&&(null==(t=e.e$t)||t.Hg(),e.t5t.U9t=!1)},e.Q6t=function(t){var n;if(t.Rit){0,e.t5t.k9t&&(e.x9t=e.Qo.Q_(),e.Qo.$g(),e.Qo.Yg=!0),e.t5t.Q9t=!0;var i=t.Rit;e.t9t.Md(i);var r=i.ct;e.t5t.b9t(i),e.i9t(r),e.t5t.q6t(!1),e.t5t.ge(),e.t5t.z4t(),e.t5t.k9t||e.Qo.be(),e.Qo.Hg(),e.t5t.F9t(i),0===(null==(n=i.p9t)?void 0:n.cPt)||e.t5t.Co(new kk(e.t5t.U_))}};var o=Wt(e);return e.F6t=Ot((function(t){var n,i,r,e,u;return Rt(this,(function(s){switch(s.label){case 0:return n=null==t?void 0:t.Rit,o.t5t.Q9t=!1,"linear"===o.t5t.Z2t&&o.t9t.Pd(),n&&n.ct>=0&&o.i9t(n.ct),o.Qo.Td()===1/0&&o.t5t.Y9t(),o.t5t.B9t=!1,o.j9t?[4,o.y9t()]:[3,2];case 1:s.sent(),s.label=2;case 2:o.t5t.q6t(!0),s.label=3;case 3:return s.trys.push([3,5,,6]),[4,o.E9t()];case 4:return s.sent(),[3,6];case 5:return Bo(i=s.sent())||o.Co(new PJ(i)),[2];case 6:return o.t5t.Q1t(),o.t5t.be(),o.Qo.G_||o.Qo.Xg(),n&&o.t5t.b9t(n),o.t5t.N9t&&(o.t5t.k9t&&(e=o.Qo.Vg(),u=null==(r=o.Qo.bt)?void 0:r.src,e&&u&&(e.src=u)),o.t5t.I9t=!0),o.Qo.Yg=!1,o.t5t.v5t()?[4,o.t5t.m5t()]:[3,8];case 7:s.sent(),s.label=8;case 8:return[2]}}))})),e}bt(n,t);var i=n.prototype;return i.z6t=function(t){this.t5t.Co(t)},i.B6t=function(t){var n=this;this.e$t=t,this.e$t.yn(A4.K5t,this.U6t),this.e$t.yn(m4.E5t,this.Q6t),this.e$t.yn(m4.D5t,this.F6t),this.e$t.yn(m4.G5t,this.Y6t),this.e$t.yn(m4.nLt,this.G6t),this.e$t.yn(m4.XZt,this.V6t),this.e$t.yn(m4.V5t,this.W6t),this.e$t.yn(m4.P5t,this.H6t),this.e$t.yn(m4.k5t,this.X6t),this.e$t.yn(m4.U5t,this.Z6t),this.e$t.yn(m4.VU,(function(){n.t5t.fg||(n.t5t.q6t(!0),n.t5t.Co(new wD(n.t5t.U_))),n.K6t(!0)})),this.e$t.yn(m4.C5t,(function(){n.t5t.fg&&(n.t5t.q6t(!1),n.t5t.Co(new yD(n.t5t.U_)))})),this.e$t.yn(m4.q5t,(function(){var i=t.Bg();i>=0&&n.J6t(i)})),this.e$t.yn(m4.Z5t,(function(){var i=t.Bg();i>=0&&n.J6t(i)})),this.e$t.yn(m4.Q5t,(function(t){n.t9t.$6t(t.type)})),this.e$t.yn(m4.Lv,(function(t){t.Rit&&n.i9t(t.Rit.ct)}));var i=this;this.e$t.yn(m4.H5t,Ot((function(t){var n,r;return Rt(this,(function(e){switch(e.label){case 0:return n=t.e9t.adError,(r=T4(n)?N4(n):void 0)?i.s9t(r)?[4,i.n9t(t)]:[3,2]:[2];case 1:return e.sent(),[3,5];case 2:return i.r9t(r)?[4,i.o9t(r)]:[3,4];case 3:return e.sent(),[3,5];case 4:i.h9t(r)&&i.a9t(r),e.label=5;case 5:return[2]}}))}))),this.e$t.yn(m4.B5t,(function(t){if(t.Rit&&(n.t5t.u3t(),n.t9t.u9t(t.Rit),n.c9t=0,t.Rit.l9t)){var i,r=n.t5t.Sg,e=mk.BT;n.t5t.a2(e);var u=n.t5t.U_,s=n.t5t.Sg;s!==r&&n.z6t(new gD(u,s)),null==(i=n.e$t)||i.Ug(n.t5t.d9t()),n.z6t(new pk(u,e))}})),this.e$t.yn([m4.O5t,m4.x5t,m4.j5t,m4.HZt,m4.R5t],(function(t){t.Rit&&n.t9t.f9t(t.Rit,t.type,n.t5t.U_)})),this.e$t.yn(m4.j5t,this._9t),this.e$t.yn(m4.A5t,this.g9t)},i.switchToPlayerIfNoNextAd=function(){var t=this;return Ot((function(){var n,i;return Rt(this,(function(r){switch(r.label){case 0:return t.e$t?(n=t.e$t.w9t())&&t.v9t(n)?[3,3]:t.t5t.v5t()?[4,t.t5t.m5t()]:[3,2]:[3,4];case 1:return r.sent(),[3,3];case 2:t.t5t.m9t(),t.Qo.fg&&!t.Qo.G_&&t.Qo.Xg(),r.label=3;case 3:return[3,7];case 4:return t.t5t.v5t()?[4,t.t5t.m5t()]:[3,6];case 5:return r.sent(),[3,7];case 6:i=t.t5t.fg,t.t5t.m9t(),i||t.Qo.Xg(),r.label=7;case 7:return[2]}}))}))()},i.v9t=function(t){var n=t.p9t,i=null==n?void 0:n.b5t;return(null==n?void 0:n.M5t)!==i},i.g1=function(){this.t5t.jc&&(f(this.t5t.jc),this.t5t.jc=null)},i.h9t=function(t){return t.Av===_4.T5t},i.r9t=function(t){return t.Av===_4.S5t},i.s9t=function(t){return t.Sqt===p4.b6t},i.o9t=function(t){var n=this;return Ot((function(){var i,r,e;return Rt(this,(function(u){switch(u.label){case 0:return n.a9t(t),r=[p4.c6t,p4.A6t,p4.E6t,p4.x6t],n.t5t.Xit||mo(r,t.Sqt)||mo(r,null==(i=t.I5t)?void 0:i.Sqt)?[3,2]:(n.t5t.A9t.h5t=!1,null==(e=n.t5t.A9t.O3t)||e.C3t(),[4,n.switchToPlayerIfNoNextAd()]);case 1:u.sent(),u.label=2;case 2:return[2]}}))}))()},i.a9t=function(t){this.t5t.M4t(t)},i.y9t=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return t.t9t.s5t(),t.t5t.C3t(),"nonlinear"===t.t5t.Z2t&&(t.t9t.M9t(-1,!1),t.t5t.b9t(void 0)),"nonlinear"!==t.t5t.Z2t&&"none"!==t.t5t.Z2t?[3,2]:t.t5t.v5t()?[4,t.t5t.m5t()]:[3,2];case 1:n.sent(),n.label=2;case 2:return t.t5t.T9t(),t.t5t.E2t?t.t5t.Q1t():t.S9t()&&t.Qo.Co(new pD(t.Qo.Q_())),[2]}}))}))()},i.S9t=function(){return this.t5t.N9t&&!this.t5t.I9t&&this.Qo.G_},i.setCountdownTimer=function(){var t=this;this.g1(),this.t5t.jc=h((function(){return t.K6t()}),250)},i.n9t=function(t){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return void 0===t.Rit?[2]:(n.t5t.A9t.h5t=!1,n.t5t.C3t(),n.t5t.v5t()?[4,n.t5t.m5t()]:[3,2]);case 1:return i.sent(),[3,3];case 2:n.t5t.q6t(!0),i.label=3;case 3:return[2]}}))}))()},i.i9t=function(t){this.t5t.ct!==t&&t>=0&&(this.t5t.P1(t),this.z6t(new mD(this.t5t.ct)))},i.J6t=function(t){this.t5t.d9t()!==t&&(0===t?this.t5t.D9t(t,!0,!1):this.t5t.D9t(t,!1,!1))},i.E9t=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return t.t5t.k9t&&void 0!==t.Qo.W_()?(t.L9t=new zo,[4,t.Qo.ga(t.Qo.Wa(),t.L9t.f_)]):[3,2];case 1:n.sent(),t.x9t&&t.Qo.F_(t.x9t),t.x9t=void 0,n.label=2;case 2:return[2]}}))}))()},i.K6t=function(t){if(this.e$t){var n=this.e$t.C9t();n>this.t5t.ct&&this.i9t(w.round(n))}var i=this.t5t.U_;(t||!this.t5t.fg&&i!==this.t5t.O9t)&&(this.t5t.Co(new om(i,void 0)),this.t5t.O9t=i)},i.tr=function(){this.L9t&&(this.L9t.g_(),this.L9t=void 0),this.j9t=!1,this.c9t=0},i.gn=function(){this.tr(),this.Vo()},n}($o);yt(),C(),pt(),Mt(),yt(),C(),pt(),Mt();var E4=function(t){function n(n,i,r){var e;return(e=t.call(this,n)||this).G9t=i,e.V9t=r,e}return bt(n,t),At(n,[{key:"vKt",get:function(){return U1.M$t}}]),n}(Y2);yt(),C(),pt(),Mt(),yt(),C(),yt(),C(),pt(),Mt();var S4=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).H9t=0,r.X9t=void 0,r}bt(n,t);var i=n.prototype;return i.w$t=function(){var t;return null==(t=this.X9t)?void 0:t.eXt},i.fa=function(){return function(t,n){return km(t,{bitrate:0,contentType:void 0,mediaUrl:void 0,traffickingParameters:void 0,traffickingParametersString:void 0,universalAdIds:[],get apiFramework(){return n.Z9t},get creativeId(){return n.IXt},get title(){return n.kz},get wrapperAdIds(){return n.q9t},get wrapperAdSystems(){return n.K9t},get wrapperCreativeIds(){return n.J9t}})}(V2(this),this)},i.$9t=function(t){this.X9t=t;var n=L4(t);this.W2t(t.yZt,t.t8t,t.i8t,t.ct,n,-1)},At(n,[{key:"W9t",get:function(){return this.H9t},set:function(t){this.H9t=t}},{key:"vKt",get:function(){return U1.so}},{key:"Z9t",get:function(){var t;return null==(t=this.X9t)?void 0:t.WXt}},{key:"IXt",get:function(){var t;return null==(t=this.X9t)?void 0:t.IXt}},{key:"kz",get:function(){var t;return null==(t=this.X9t)?void 0:t.kz}},{key:"q9t",get:function(){var t,n;return null!=(n=null==(t=this.X9t)?void 0:t.q9t)?n:[]}},{key:"K9t",get:function(){var t,n;return null!=(n=null==(t=this.X9t)?void 0:t.K9t)?n:[]}},{key:"J9t",get:function(){var t,n;return null!=(n=null==(t=this.X9t)?void 0:t.J9t)?n:[]}}]),n}(G2);function L4(t){return t.lXt.map((function(t){return new W2(t)}))}var j4=function(t){function n(n){var i;return(i=t.call(this,n,U2.jT)||this).X9t=void 0,i.u8t=void 0,i}bt(n,t);var i=n.prototype;return i.fa=function(){return function(t,n){return km(t,{get adSystem(){return n.w$t()},get apiFramework(){return n.Z9t},get bitrate(){return n.e8t},get contentType(){return n.Nz},get creativeId(){return n.IXt},get mediaUrl(){return n.s8t},get title(){return n.kz},get traffickingParameters(){return n.n8t},get traffickingParametersString(){return n.r8t},get wrapperAdIds(){return n.q9t},get wrapperAdSystems(){return n.K9t},get wrapperCreativeIds(){return n.J9t},get universalAdIds(){return n.fXt}})}(V2(this),this)},i.$9t=function(t){this.X9t=t,this.W2t(t.yZt,t.t8t,t.i8t,t.ct,L4(t),t.o8t),this.q2t=t.l9t?U2.xqt:U2.Cqt},i.w$t=function(){return this.X9t?C4(this.X9t.eXt):void 0},At(n,[{key:"vKt",get:function(){return U1.M$t}},{key:"Z9t",get:function(){return this.X9t?C4(this.X9t.WXt):void 0}},{key:"e8t",get:function(){return this.X9t?this.X9t.h8t:0}},{key:"Nz",get:function(){return this.X9t?C4(this.X9t.Nz):void 0}},{key:"IXt",get:function(){return this.X9t?C4(this.X9t.IXt):void 0}},{key:"a8t",get:function(){return this.X9t?C4(this.X9t.a8t):void 0}},{key:"s8t",get:function(){var t,n=null==(t=this.X9t)?void 0:t.s8t;return Rn(n)?n:this.u8t},set:function(t){this.u8t=t}},{key:"kz",get:function(){var t;return null==(t=this.X9t)?void 0:t.kz}},{key:"n8t",get:function(){return this.X9t?C4(this.X9t.n8t):void 0}},{key:"r8t",get:function(){return this.X9t?C4(this.X9t.r8t):void 0}},{key:"q9t",get:function(){var t,n;return null!=(n=null==(t=this.X9t)?void 0:t.q9t)?n:[]}},{key:"K9t",get:function(){var t,n;return null!=(n=null==(t=this.X9t)?void 0:t.K9t)?n:[]}},{key:"J9t",get:function(){var t,n;return null!=(n=null==(t=this.X9t)?void 0:t.J9t)?n:[]}},{key:"fXt",get:function(){var t,n;return null!=(n=null==(t=this.X9t)?void 0:t.fXt.map((function(t){return{adIdRegistry:t.c8t,adIdValue:t.l8t}})))?n:[]}}]),n}(G2);function C4(t){return null===t?void 0:t}yt(),C(),pt(),yt(),C(),pt();var x4=function(){function t(t,n){this.t9t=t,this.d8t=n}var n=t.prototype;return n.Yit=function(t){this.t9t.Yit(t)},n.Ny=function(){this.t9t.Ny()},n.gn=function(){return q.resolve()},At(t,[{key:"A2t",get:function(){return this.t9t.A2t}},{key:"w2t",get:function(){return this.d8t}},{key:"E2t",get:function(){return this.t9t.E2t}},{key:"Iit",get:function(){var t;return null!=(t=this.t9t.Iit)?t:null}},{key:"Sit",get:function(){var t=this.t9t.f8t;return t?[t]:[]}},{key:"Dit",get:function(){return this.t9t.Dit}},{key:"Eit",get:function(){return this.t9t.Eit}}]),t}(),O4=function(){function t(t,n){this.P4t=t,this.D$t=[],this.w8t=!1,this.g8t=new x4(this,n)}return At(t,[{key:"_8t",get:function(){return this.g8t}},{key:"A2t",get:function(){return this.P4t}},{key:"E2t",get:function(){return this.w8t}},{key:"f8t",get:function(){return this.v$t}},{key:"Iit",get:function(){return this.I$t}},{key:"Dit",get:function(){var t=this;return ko(this.D$t,(function(n){if(n.pg)return[];var i=n.Oc;if(n===t.I$t&&void 0!==t.v$t){var r=i.indexOf(t.v$t);if(r>=0)return i.slice(r+1)}return i}))}},{key:"Eit",get:function(){return this.D$t.filter((function(t){return!t.pg}))}}]),t}();yt(),C(),Mt();var z4=function(t){function n(n){return t.call(this,"v8t",n)}return bt(n,t),n.prototype.fa=function(){return new R4(this.Rit.Nit())},n}(QR),R4=function(t){function n(n){return t.call(this,"adimpression",n)}return bt(n,t),n}(YR);yt(),C(),Mt();var B4=function(t){function n(n){var i;return(i=t.call(this,"m8t")||this).Rit=n,i}return bt(n,t),n.prototype.fa=function(){return new P4(this.Rit.Nit())},n}(am),P4=function(t){function n(n){var i;return(i=t.call(this,"adbuffering")||this).ad=n,i}return bt(n,t),n}(ra);yt(),C(),Mt();var U4=function(t){function n(){return t.call(this,"p8t")}return bt(n,t),n.prototype.fa=function(){return new Q4},n}(am),Q4=function(t){function n(){return t.call(this,"admetadata")}return bt(n,t),n}(ra),Y4=function(t){function n(n,i){var r;return(r=t.call(this,n,U1.M$t)||this).M8t=i,r.S8t=[],r.T8t=[],r}bt(n,t);var i=n.prototype;return i.A8t=function(t,n){for(var i=0;i<t;i++){var r=new j4(n);n.U2t(r),this.A2t.Co(new FR(r))}},i.m4t=function(t,n,i){var r=t;r===1/0&&(r=-1);var e=new E4(r,i,n);this.D$t.push(e),n._3t(e),this.A2t.Co(new PR(e))},i.p5t=function(t,n){for(var i=0,r=this.D$t;i<r.length;i++){var e=r[i];A(e.cPt)&&e.G9t===t&&(e.cPt=n,this.A2t.Co(new J2(e)))}},i.r5t=function(t,n){void 0===n&&(n=!1),n&&go(this.D$t,t),this.A2t.Co(new RR(t))},i.s5t=function(){if(this.Iit){this.r5t(this.Iit,!0);var t=Boolean(this.v$t&&this.v$t.Z2t===U2.xqt);this.y8t(void 0,t)}},i._4t=function(t,n){var i=n.p9t;if(i){var r=i.M5t-1,e=t.Oc[r];return e.$9t(n),this.A2t.Co(new K1(e)),e.Xl.$Jt=i.$Jt,e}},i.b8t=function(t){if(!mo(this.T8t,t)){if(t){if(this.v$t===t)return;this.v$t=t;for(var n=0,i=this.S8t;n<i.length;n++){var r=i[n];0,this.$6t(r,t,this.M8t.U_)}}else{if(!this.v$t)return;var e=new qR(this.v$t,this.v$t.Xl.cPt);this.T8t.push(this.v$t),this.v$t=void 0,this.P4t.Co(e)}po(this.S8t)}},i.y8t=function(t,n){if(t){var i;if((null==(i=this.Iit)?void 0:i.cPt)===t.cPt)return;this.I$t=t,n&&this.A2t.Co(new XR(this.I$t))}else{if(!this.I$t)return;var r=new VR(this.I$t);this.I$t=void 0,po(this.T8t),n&&this.P4t.Co(r)}},i.N8t=function(t){return this.D$t.filter((function(n){return Ui(n.cPt,t,.01)}))[0]},i.Md=function(t){if(t.p9t){var n=t.p9t,i=this.N8t(n.cPt);i&&(po(this.S8t),this.y8t(i,t.l9t))}},i.Pd=function(){this.Iit&&this.A2t.Co(new VR(this.Iit)),po(this.S8t),this.s5t()},i.z9t=function(t){if(!this.I$t&&t.p9t){var i=this.N8t(t.p9t.cPt);this.y8t(i,t.l9t)}if(this.I$t){var r=n.I8t(this.I$t,t);if(!r)return;this._4t(this.I$t,t);var e=t.s8t;Rn(e)&&!Rn(r.s8t)&&(r.s8t=e,this.A2t.Co(new K1(r))),this.b8t(r),this.A2t.Co(new HR(this.v$t,r.Xl.cPt))}else 0},i.M9t=function(t,n){if(this.b8t(void 0),!n&&this.Iit){var i=this.Iit;this.y8t(void 0,!1),this.r5t(i)}},i.u9t=function(t){var n=t.p9t;if(n){var i=this.N8t(n.cPt);if(i){this.p4t(n.cPt,n.b5t,n.$Jt);var r=this._4t(i,t);r&&this.A2t.Co(new J1(r))}}},i.p4t=function(t,n,i){var r=this.N8t(t);if(r){var e=r.Oc.length;if(n>e){var u=n-e;this.A8t(u,r),r.$Jt=i,this.A2t.Co(new J2(r))}}},i.W6t=function(t,i,r){if(this.I$t){var e=n.I8t(this.I$t,t);if(e){var u=i/r;this.A2t.Co(new K2(e,u))}}},i.f9t=function(t,i,r){if(this.I$t){var e=this.v$t;if(!e){var u=n.I8t(this.I$t,t);if(!u||mo(this.T8t,u))return void this.S8t.push(i);e=u,this._4t(this.I$t,t),this.b8t(e)}this.$6t(i,e,r)}},i.$6t=function(t,n,i){t===m4.Q5t?this.A2t.Co(new U4):t===m4.x5t&&n?this.A2t.Co(new z4(n)):t===m4.O5t&&n?this.A2t.Co(new B4(n)):t===m4.j5t&&n&&i?this.A2t.Co(new i4(n,i)):t===m4.HZt&&n&&i?this.A2t.Co(new e4(n,i)):t===m4.R5t&&n&&i&&this.A2t.Co(new s4(n,i))},i.Ny=function(){this.M8t.Ny()},i.Yit=function(t){this.M8t.Yit(t)},i.tr=function(){var t=Boolean(this.v$t&&this.v$t.Z2t===U2.xqt);this.b8t(void 0),this.y8t(void 0,t);for(var n=0,i=this.D$t;n<i.length;n++){var r=i[n];this.r5t(r)}po(this.D$t),po(this.S8t),po(this.T8t)},i.gn=function(){this.tr()},n.I8t=function(t,n){if(n.p9t)return t.Oc[n.p9t.M5t-1]},At(n,[{key:"E2t",get:function(){return this.M8t.E2t}}]),n}(O4);function F4(t){var n=e.google.ima.settings;t.ads&&t.ads.vpaidMode&&e.google.ima.settings.setVpaidMode(function(t){var n=e.google.ima.ImaSdkSettings.VpaidMode;switch(t){case UN.ENABLED:return n.ENABLED;case UN.INSECURE:return n.INSECURE;case UN.DISABLED:default:return n.DISABLED}}(t.ads.vpaidMode)),n.setPlayerVersion("8.3.0"),n.setPlayerType("THEOplayer"),n.setAutoPlayAdBreaks(!0),n.setDisableCustomPlaybackForIOS10Plus(!G4(t));var i=function(t){var n,i,r,e=null==(i=t.ads)||null==(n=i.googleIma)?void 0:n.language;if(void 0!==e)return e;var u=null==(r=t.ui)?void 0:r.language;if(Fn(u))return u;return}(t);i&&n.setLocale(i)}function G4(t){return xn.Ga&&t.allowNativeFullscreen}yt(),C();var V4=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,n,i)||this).bo=!1,a.x2t=!1,a.P8t=void 0,a.z8t=void 0,a.o7t=-1,a.q2t="none",a.B8t=!1,a.x8t=!1,a.F8t=new zo,a.C8t=!1,a.j8t=!1,a.u7t=function(t){a.A2t.Co(t)},a.h7t=function(t){a.P8t=new Zm(Wm.ADVERTISEMENT_ERROR,"Error while recovering from failed IMA ad.",t.error.message),a.z8t=Jm(a.P8t)},a.O9t=NaN,a.U8t=function(){a.bo||a.Wg()},a.oZ=r,a.cU=!0,a.jx=NaN,a.h2=mk.BT,a.O8t=!1,a.R8t=!1,a.J3t=new Y4(a.A2t,Wt(a)),a.$8t=new I4(Wt(a),a.Qo,a.J3t),a.$8t.yn(p_.ha,a.h7t),a.Qo.yn(Al.jh,a.U8t),a.j3t=new k4(Wt(a),a.Qo,a.k2t,e,a.J3t),a.H8t=o,a.W8t=s,a.X8t=u,a.be(),a.W8t.yn("a7t",a.u7t),a}bt(n,t);var i=n.prototype;return i.E8t=function(t,n,i){n===ER.Cit&&void 0!==i&&(this.x2t=i),this.j3t.Z3t(t,n)},i.Yit=function(t){for(var n=this.L8t(),i=0;i<n.length;i++){var r=n[i];Z$(r.sources,r.timeOffset)||t.W4(r,ER.kit,!1)}},i.L8t=function(){for(var t=[],n=this.m2t,i=n.Sit,r=n.Dit,e=[],u=0,s=i.concat(r);u<s.length;u++){var o=s[u],a=o.Xl.V9t;if(!mo(e,a.Xw)){var c,h,f=a.L3t(o.q9t);if(f>=0)(c=t).push.apply(c,jt(a.H4t.slice(f)));else(h=t).push.apply(h,jt(a.H4t));e.push(a.Xw)}}for(var v=0,l=this.j3t.Dit;v<l.length;v++){var d,g=l[v];if(!g.h3t)(d=t).push.apply(d,jt(g.H4t))}return Do(t)},i.Q_=function(){if(!this.i$t)return 0;var t=this.i$t.C9t();return A(this.ct)||t<0?0:this.ct-t},i.F_=function(t,n){},i.Td=function(){return this.jx||NaN},i.P1=function(t){this.jx=t},i.hg=function(){return this.Qo.og},i.ag=function(t){this.D9t(this.zg,t,!0)},i._g=function(){return this.cU},i.q6t=function(t){this.cU=t},i.Og=function(){var t,n,i;return null!=(i=null==(n=this.i$t)||null==(t=n.w9t())?void 0:t.i8t)?i:0},i.Pg=function(){var t,n,i;return null!=(i=null==(n=this.i$t)||null==(t=n.w9t())?void 0:t.t8t)?i:0},i.C_=function(){return[]},i.L2t=function(t){this.P3t=t,this.j3t.L2t(t)},i.d5t=function(){!this.x8t&&this.i$t&&(this.i$t.Cn(),this.x8t=!0)},i.b9t=function(t){this.Z2t=t?t.l9t?"linear":"nonlinear":"none"},i.Dg=function(){return HD.oU().ks()},i.Bg=function(){return this.Qo.zg},i.Ug=function(t){this.D9t(t,this.og,!0)},i.d9t=function(){return this.Qo.og?0:this.Qo.zg},i.D9t=function(t,n,i){var r=this.Qo.zg!==t||this.Qo.og!==n;r&&(this.Qo.zg=t,this.Qo.og=n),this.i$t&&i&&this.i$t.Ug(this.d9t()),r&&this.Co(new bD(this.U_,this.zg))},i.V_=function(){return!1},i.W_=function(){if(this.P8t&&this.x2t)return this.P8t},i.X_=function(){if(this.z8t&&this.x2t)return this.z8t},i.Ng=function(){return this.h2},i.a2=function(t){this.h2=t,this.Co(new Ak(this.U_,t))},i.Wg=function(){this.Qo.fn(Al.jh,this.U8t),this.bo||(this.bo=!0,this.j3t.Wg(),this.P9t())},i.Xg=function(){var t=this;return Ot((function(){var n,i;return Rt(this,(function(r){switch(r.label){case 0:if(t.Q8t)return[2];t.F8t.g_(),t.F8t=new zo,n=t.fg,t.q6t(!1),t.Co(new yD(t.U_)),t.Y8t()||(t.k9t||t.Qo.be(),t.Co(new kk(t.U_))),t.B9t||(t.U9t=!1),i=Boolean(t.i$t),t.Q8t=t.j3t.X3t(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,t.Q8t];case 2:return r.sent(),[3,4];case 3:return t.Q8t=void 0,[7];case 4:try{Po(t.F8t.f_)}catch(t){return[2]}if(t.bo||t.U8t(),t.P8t&&t.x2t)return[2];if(t.i$t){if(n)if(i)try{Po(t.F8t.f_),t.i$t.G8t(),t.Co(new Tk(t.U_))}catch(t){return[2]}else t.d5t()}else t.x2t||(t.Q1t(),t.k2t.Xg());return[2]}}))}))()},i.Hg=function(){var t;this.fg||(this.q6t(!0),this.Co(new wD(this.U_))),this.F8t.g_(),this.B9t?null==(t=this.i$t)||t.Hg():this.U9t=!0},i.Ny=function(){var t;null==(t=this.i$t)||t.Ny()},i.T9t=function(){this.i$t&&(this.W8t.V8t(),this.i$t.Zg(),this.i$t.h_(),this.i$t=void 0,this.Z2t="none",this.x8t=!1)},i.Zg=function(){var t=this;return Ot((function(){var n;return Rt(this,(function(i){return t.O9t=0,t.j3t.tr(),t.F8t.g_(),t.q6t(!0),t.O8t=!1,t.R8t=!1,t.B9t=!1,t.J3t.tr(),t.T9t(),t.m9t(),null==(n=t.H8t)||n.tr(),t.U9t=!1,t.W8t.h_(),[2]}))}))()},i.ge=function(){this.X8t.ge(),this.k9t&&this.Qo.ge()},i.be=function(){this.X8t.be()},i.Z8t=function(){return Boolean(this.i$t)&&mo(this.i$t.q8t(),-1)&&!this.O8t},i.u3t=function(){this.j3t.u3t()},i.v5t=function(){return this.j3t.v5t},i.C3t=function(){this.j3t.C3t()},i.m5t=function(){return this.j3t.m5t()},i.b2t=function(t){if(this.Z8t()){if(t.type===Al.Sh&&this.Qo.G_)return!0;if(t.type===Al.Ov)return this.O8t=!0,this.W8t.V8t(),!0}return!1},i.Y8t=function(){return Boolean(this.i$t&&this.i$t.w9t())},i.l5t=function(t){var n=this;return Ot((function(){var i,r;return Rt(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),n.T9t(),i=n.K8t(),n.X8t.oX(),[4,n.W8t.l5t(t,n.H8t,i)];case 1:return n.i$t=e.sent(),n.J8t(n.i$t),[3,3];case 2:return r=e.sent(),n.$8t.o9t(r),[3,3];case 3:return[2]}}))}))()},i.J8t=function(t){if(t.Ug(this.d9t()),this.j3t.K3t===w4.V3t){var n=t.q8t();if(n.length)for(var i=0;i<n.length;i++){var r=n[i];this.J3t.m4t(r,this.j3t.O3t)}else this.J3t.m4t(this.j3t.O3t.Kl,this.j3t.O3t)}this.$8t.tr(),this.$8t.B6t(t)},i.Vg=function(){if(this.e$t&&this.k9t&&this.Y8t())return this.Qo.Vg()},i.Gg=function(){return this.k9t&&this.E2t?this.Qo.ya:t.prototype.Gg.call(this)},i.K8t=function(){var t,n,i=!!(this.j3t.K3t===w4.V3t)&&this.k8t;return void 0!==this.oZ.ads.googleIma.uiElements?t=this.oZ.ads.googleIma.uiElements:this.oZ.ads.showCountdown||(t=[]),void 0!==this.oZ.ads.allowedMimeTypes&&(n=this.oZ.ads.allowedMimeTypes),{t7t:n,i7t:t,e7t:i,e8t:this.oZ.ads.googleIma.bitrate,s7t:void 0,n7t:this.P3t}},i.P9t=function(){if(this.e$t){var t=this.K8t();this.e$t.r7t(t)}},i.M4t=function(t){this.P8t=new Zm(Wm.ADVERTISEMENT_ERROR,t.pL),this.z8t=new Kv(Xv.AD_ERROR,"There was a problem playing ads.",this.P8t),this.A2t.Co(z2.T2t(t))},i.m9t=function(){this.E2t&&(this.Qo.ge(),this.Q1t(),this.be())},i.Y9t=function(){var t;this.Qo.Q_()!==1/0&&0!==this.Qo.Dg().length&&((null==(t=this.j3t.O3t)?void 0:t.q4t)&&-1!==this.o7t&&(this.Qo.F_(this.Qo.Q_()+this.o7t),this.o7t=-1))},i.F9t=function(t){var n,i;this.o7t=null!=(i=null==(n=t.p9t)?void 0:n.$Jt)?i:-1},i.Q1t=function(){t.prototype.Q1t.call(this),this.Qo.ge(),this.k9t&&!this.Qo.G_&&this.Qo.Xg()},i.G4t=function(){this.k9t||t.prototype.G4t.call(this)},i.gn=function(){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return n.$8t.fn(p_.ha,n.h7t),[4,t.prototype.gn.call(n)];case 1:return i.sent(),n.T9t(),n.W8t.fn("a7t",n.u7t),n.W8t.h_(),n.X8t.h_(),n.j3t.gn(),n.$8t.gn(),[2]}}))}))()},At(n,[{key:"m2t",get:function(){return this.J3t._8t}},{key:"D8t",get:function(){return this.J3t}},{key:"A9t",get:function(){return this.j3t}},{key:"k9t",get:function(){return G4(this.oZ)}},{key:"w2t",get:function(){return n.w2t}},{key:"k8t",get:function(){return this.oZ.ads.preload===WN.MIDROLL_AND_POSTROLL}},{key:"Z2t",get:function(){return this.q2t},set:function(t){this.q2t=t}},{key:"i$t",get:function(){return this.e$t},set:function(t){this.e$t=t,this.x8t=!1}},{key:"B9t",get:function(){return this.C8t},set:function(t){this.C8t=t}},{key:"Xit",get:function(){return this.x2t}},{key:"N9t",get:function(){return this.O8t}},{key:"U9t",get:function(){return this.j8t},set:function(t){this.j8t=t}},{key:"I9t",get:function(){return this.R8t},set:function(t){this.R8t=t}},{key:"Q9t",get:function(){return this.B8t},set:function(t){this.B8t=t}}],[{key:"w2t",get:function(){return U1.M$t}}]),n}(v4);yt(),C();var W4=function(){function t(){}var n=t.prototype;return n.registerWebImaAdPlayerConstructor=function(t){this.c7t=t},n.createAdPlayer=function(t,n,i){return X4()&&this.c7t?this.c7t(t,n,i):void 0},t}();function X4(){return!!Boolean(ru.google&&ru.google.ima)&&!(1===g.keys(ru.google.ima).length&&ru.google.ima.dai)}W4.lL=new W4;var Z4=function(){function t(){}var n=t.prototype;return n.YU=function(t){return t&&t.integration===AI.GOOGLE_IMA},n.f2t=function(t,n,i){return W4.lL.createAdPlayer(t,n,i)},n.W4=function(t,n,i,r){i.E8t(t,n,r)},n.hY=function(t){var n=o1(t.sources);if(n){var i={integration:AI.GOOGLE_IMA,sources:n,omidAccessModeRules:D4(t.omidAccessModeRules)},r=c1(t.timeOffset);return void 0!==r&&(i.timeOffset=r),i}},At(t,[{key:"d2t",get:function(){return V4.w2t}}]),t}();II.lL.GU(new Z4),yt(),C(),pt(),yt(),C(),Xt(),zt(),pt(),Mt(),Ct(),Ut(),yt(),C(),Xt(),zt(),pt(),Mt(),Ut(),yt(),C(),Mt();var H4=function(t){function n(){return t.call(this,"N$t")}return bt(n,t),n.prototype.fa=function(){return new K4},n}(am),K4=function(t){function n(){return t.call(this,"adloaded")}return bt(n,t),n}(ra),q4=-1,J4=function(){function t(t,n){this.D$t=[],this.c$t=!1,this.n3t=t,this.yet=0,this.h$t=n,this.w7t=NaN,this.g7t=!1,this.d7t=new G1(this,this.h$t)}var n=t.prototype;return n.v7t=function(){return this.yet<this.D$t.length},n.Mc=function(){var t;return this.yet<this.D$t.length&&(t=this.D$t[this.yet],this.yet++),t},n.m7t=function(t){t.Fqt=this,this.D$t.push(t)},n.p7t=function(t){var n=this;return Ot((function(){var i,r,e,u,s,o,a;return Rt(this,(function(c){switch(c.label){case 0:i=!1,r=0,e=n.D$t,c.label=1;case 1:if(!(r<e.length))return[3,6];u=e[r],c.label=2;case 2:return c.trys.push([2,4,,5]),[4,u.$n()];case 3:return c.sent(),i=!0,[3,5];case 4:return s=c.sent(),go(n.D$t,u),o=u.Wit.sources,a="string"==typeof o?o:o.src,t.Co(z2.S2t(s,a)),[3,5];case 5:return r++,[3,1];case 6:return n.g7t=!0,[2,i]}}))}))()},n.l$t=function(){this.c$t=!0},n.u$t=function(){return this.c$t},n.A7t=function(){return this.D$t.some((function(t){return P1(t).some((function(t){return t.uXt}))}))},At(t,[{key:"s$t",get:function(){return this.D$t}},{key:"l7t",get:function(){return this.d7t}},{key:"aut",get:function(){return this.yet}},{key:"f7t",get:function(){return this.n3t}},{key:"_7t",get:function(){return this.g7t}},{key:"Kl",get:function(){if(A(this.w7t)){var t=Z0.dKt(this.n3t,this.h$t.t.Td());void 0===t||A(t)||(this.w7t=t)}return this.w7t}}]),t}(),$4=function(t){function n(n,i,r,e){var u;(u=t.call(this)||this).P7t=!1,u.E7t=function(t){return Xo(u.L7t(t))};var s=Wt(u);return u.L7t=Ot((function(t){var n,i,r,e,u,o,a;return Rt(this,(function(c){switch(c.label){case 0:return s.R7t(),n=t.currentTime,i=t.currentTime!==q4?s.O7t(s.M1,t.currentTime):s.C7t(t.currentTime,0,0)[0],u=s.Qo.Td()-10,(e=s.x7t(q4)&&w.ceil(n)===w.ceil(u)?s.C7t(q4,10,0).filter((function(t){return!t._7t})):s.C7t(n,10,0).filter((function(t){return!t._7t}))).length?[4,q.all(e.map((function(t){return t.p7t(s.N7t)})))]:[3,2];case 1:o=c.sent(),(a=o.some((function(t){return!0===t})))&&s.Co(new H4),(!a||!s.S7t.V7t||e[0].Kl<s.S7t.V7t.Kl)&&(r=e[0]),c.label=2;case 2:return i&&(i!==s.S7t.V7t&&(r=i),s.z7t([i])),r?(s.S7t.I7t(),s.S7t.V7t=r,[4,s.S7t.T7t()]):[3,4];case 3:c.sent(),c.label=4;case 4:return A(s.Qo.Td())||(s.M1=t.currentTime),[2]}}))})),u.Qo=n,u.x4t=i,u.Y7t=new F1(u.x4t,u.Qo),u.P3t=void 0,u.P7t=!1,n.Td()!==1/0?u.xS=0:u.xS=n.Q_(),u.M1=u.xS,u.M7t=[],u.N7t=r,u.S7t=e,u.D7t=!1,u}bt(n,t);var i=n.prototype;return i.b7t=function(){this.S7t.T7t()},i.Cn=function(){this.Po(),this.N7t.yn("Qit",this.S7t.I7t)},i.jn=function(){this.$o(),this.N7t.fn("Qit",this.S7t.I7t),this.M1=this.xS,this.S7t.tr();for(var t=0,n=this.M7t;t<n.length;t++){n[t].l$t()}po(this.M7t)},i.Po=function(){this.D7t||(this.Qo.yn(Al.fm,this.E7t),this.D7t=!0)},i.$o=function(){this.D7t&&(this.Qo.fn(Al.fm,this.E7t),this.D7t=!1)},i.k7t=function(){return this.L7t(new om(q4,void 0))},i.x7t=function(t){return this.C7t(t,0,0).length>0},i.O7t=function(t,n){for(var i,r=0,e=0,u=this.M7t;e<u.length;e++){var s=u[e];if(!s.u$t()){var o=s.Kl;o>=t&&o<=n&&o>=r&&!A(o)&&(r=(i=s).Kl)}}return i},i.j7t=function(t){return this.L7t(new om(t,void 0))},i.R7t=function(){if(!this.P7t&&void 0!==this.P3t){this.P7t=!this.M7t.some((function(t){return A(t.Kl)}));for(var t=0,n=this.M7t;t<n.length;t++){var i=n[t];i.Kl!==q4&&i.Kl<=this.P3t&&!i.u$t()&&i.l$t()}}},i.z7t=function(t){for(var n=0;n<t.length;n++){t[n].l$t()}this.x4t.B7t(t),0===this.y7t&&this.$o()},i.C7t=function(t,n,i){var r=this;return this.M7t.filter((function(e){if(e.u$t())return!1;var u=e.Kl;return r.U7t(u,t)||r.Q7t(u,t,n,i)}))},i.U7t=function(t,n){switch(n){case 0:return 0===t;case q4:return t===q4;default:return!1}},i.Q7t=function(t,n,i,r){if(t<0)return!1;var e=t-n;return-1!==e&&e<=i&&e>=-r},i.F7t=function(t){if(t&&t.length>0){for(var i=0;i<t.length;i++){var r=t[i],e=n.x3t(r.cPt),u=this.wwt(r);-1===u&&(this.P7t=void 0===this.P3t,this.M7t.push(new J4(e,this.Y7t)),u=this.M7t.length-1),this.M7t[u].m7t(r)}this.Po()}},i.wwt=function(t){var i=n.x3t(t.cPt);return vo(this.M7t,(function(t){return i===n.x3t(t.f7t)}))},i.G7t=function(t){go(this.M7t,t)},i.L2t=function(t){this.P3t=t,this.P7t=void 0===t},n.x3t=function(t){switch(t){case"start":case"00:00:00":case"00:00:00.000":case"0%":case"0":return"0";case"end":case"100%":return"-1";default:return t}},At(n,[{key:"y7t",get:function(){for(var t=0,n=0,i=this.M7t;n<i.length;n++){i[n].u$t()||(t+=1)}return t}},{key:"Dit",get:function(){return this.M7t}}]),n}(na);yt(),C(),zt(),pt(),Mt(),Ut(),yt(),C(),pt(),Mt();var t3,n3=function(t){function n(n,i){var r;return(r=t.call(this)||this).$7t=[],r.K7t=[],r.vz=void 0,r.P4t=new na,r.iti=function(t){t.stopPropagation(),r.eti()},r.eti=function(){for(var t=0,n=r.$7t;t<n.length;t++)for(var i=0,e=n[t].hZt;i<e.length;i++){var u=e[i];G$(u.uri)}},r.j0t=u.createElement("div"),r.j0t.style.display="none",r.sti=n,r.nti=i,r}bt(n,t);var i=n.prototype;return i.H7t=function(){this.X7t(),this.Z7t(),this.vz=void 0},i.q7t=function(t){this.K7t=this.K7t.concat(t)},i.J7t=function(t){this.$7t=this.$7t.concat(t)},i.Z7t=function(){this.K7t=[]},i.X7t=function(){this.$7t=[]},i.tti=function(t){for(var n=0,i=this.K7t;n<i.length;n++){var r=i[n];r.eF===t&&G$(r.eventURL)}},i.ge=function(){this.W7t.style.display=""},i.be=function(){this.W7t.style.display="none"},i.gn=function(){this.Vo(),this.P4t.Vo(),cu(this.j0t)},At(n,[{key:"W7t",get:function(){return this.j0t}},{key:"A2t",get:function(){return this.P4t}}]),n}(na);function i3(t,n){var i=n;if(!function(t){return"ui"in t}(t))return i;var r,e=t.ui.language;if(Fn(e)){var u=t.ui.languages;if(!u)return i;r=u[e]}else r=e;return r&&r[n]&&(i=r[n]),i}yt(),C(),yt(),C(),Ht();var r3=(Zt(t3={},_N.yp,1),Zt(t3,_N.Mp,2),Zt(t3,_N.bp,2),t3);function e3(t,n){var i=n?n.map((function(t){return t.toLowerCase()})):n;return to(t.filter((function(t){var n=t.type.toLowerCase();return!!Pn(i)&&-1!==i.indexOf(n)&&P0(n)})),(function(t,n){return r3[t.type]-r3[n.type]})).map(u3)}function u3(t){return IN({src:t.contentURL,type:t.type,isAdvertisement:!0})}function s3(t,n){return aU(o3(t),o3(n))}function o3(t){return{Ti:t.height,ji:t.width}}function a3(t,n,i,r){var e=function(t,n,i,r){var e,u=1/0,s=t.filter((function(t){return!P0(t.type)})).filter((function(t){return void 0===r||-1!==r.indexOf(t.type)}));if(s.length){for(var o=0;o<s.length;o++){var a=s[o],c=(w.abs(a.width/n-1)+w.abs(a.height/i-1))/2;c<u&&(u=c,e=a)}return u3(e||s.sort(s3)[0])}}(t,n.width,n.height,i),u=e3(t,i);return e&&u.push(e),fE({sources:u},r)}var c3=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,n,i)||this).jti=r,a.GO=e,a.x4t=u,a.Wu=s,a.hti=o,a.oti=!1,a.Cti=0,a.M1=-1,a.$O=new zo,a.cti=!0,a.Iti=function(){a._ti()},a.Eti=function(){a.$O=void 0,a.oti||(a.Lti(),a.oti=!0),a.cti&&(a.cti=!1,a.x4t.b7t()),a.W7t.style.display="block",a.hti.fn(gk.Sm,a.Eti),a.oti=!0},a.Dti=function(){var t=a.U_,n=a.ct,i=t/n;(0===a.Cti&&i>=.25?(a.tti(c0.VZt),a.Cti=1):1===a.Cti&&i>=.5?(a.tti(c0.HZt),a.Cti=2):2===a.Cti&&i>=.75&&(a.tti(c0.WZt),a.Cti=3),a.pti(t,n),a.zti(),a.M1=t,a.SZt)&&(-1!==a.SZt.CZt&&a.SZt.CZt<a.SZt.ct&&(null!=a.U0t||(a.U0t=a.gti()),a.U_<a.SZt.CZt?a.U0t.s0t(a.SZt.CZt-a.U_):a.U0t.r0t()))},a.Nti=function(){var t,n;a.$O=void 0,a.hti.fn(p_.ha,a.Nti),a.cti=!0,null==(t=a.vz)||t.Mqt(C0.vqt),a.oti=!1,a.hti.be();var i=(null==(n=a.hti.bt)?void 0:n.src)||"";a.sti(i)},a.bti=function(){a.Ds(new om(a.U_,void 0))},a.Tti=function(){a.Ds(new mD(a.ct))},a.Sti=function(){a.Ds(new bD(a.U_,a.zg))},a.mti=function(){a.x4t.Hg()},a.wti=function(){a.uti&&(a.tti(c0.UZt),a.A2t.Co(new K2(a.uti,a.U_/a.ct)),a._ti(!1))},a.W7t.className="theoplayer-ad-linear",a.W7t.style.zIndex="10",_u(a.W7t),a.hti.be(),a.Oti=!1,a}bt(n,t);var i=n.prototype;return i.Xg=function(){this.hti.fg&&(this.hti.Xg(),this.Co(new yD(this.U_)),this.oti&&this.tti(c0.zZt),this.oti=!0)},i.Hg=function(){this.hti.fg||(this.hti.Hg(),this.Co(new wD(this.U_)),this.tti(c0.Sh))},i.Zg=function(){var t=this;return Ot((function(){var n;return Rt(this,(function(i){switch(i.label){case 0:return null==(n=t.$O)||n.g_(),t.$O=void 0,t.be(),t.oti=!1,t.cti=!0,t.lti(),t.dti(),[4,t.fti()];case 1:return i.sent(),[2]}}))}))()},i._ti=function(t){void 0===t&&(t=!0),this.oti=!1,t&&this.tti(c0.XZt),this.be(),this.nti()},i.gti=function(){var t,n=null==(t=this.x4t.ba)?void 0:t.mi,i=new c2(this.Wu,n);return this.W7t.appendChild(i.we),i.yn("Ny",this.wti),i},i.vti=function(){this.SZt&&this.SZt.AZt.sZt&&(this.P0t=new e2(this.W7t),this.P0t.V$t=this.SZt.AZt.sZt,this.P0t.yn("clickstart",this.mti),this.P0t.yn("click",this.eti))},i.pti=function(t,n){for(var i=0,r=this.K7t;i<r.length;i++){var e=r[i];if(e.eF===c0.Zv){var u=D0(e.Ku,n);void 0!==u&&this.M1<u&&u<=t&&G$(e.eventURL)}}},i.Ati=function(){var t=this;return Ot((function(){var n;return Rt(this,(function(i){switch(i.label){case 0:return t.SZt&&t.yti?(n=a3(t.SZt.kZt,t.yti,t.GO.ads.allowedMimeTypes,t.GO)).sources.length?(t.$O=new zo,t.cti=!0,[4,t.hti.ga(n,t.$O.f_)]):[3,2]:[2];case 1:return i.sent(),t.hti.ge(),t.SZt.LXt(),[3,4];case 2:return[4,t.hti.tr()];case 3:return i.sent(),t.sti(""),t.SZt.LXt(),[2];case 4:return t.vti(),[2]}}))}))()},i.Mti=function(t,n,i){var r=this;return Ot((function(){return Rt(this,(function(e){switch(e.label){case 0:return r.uti=t,r.SZt=t.uXt,r.hti.yn(Al.fm,r.bti),r.hti.yn(Al.Lv,r.Tti),r.hti.yn(Al._m,r.Sti),r.hti.yn(yk,r.Ds),r.SZt.wXt&&0!==r.SZt.wXt.length&&r.q7t(r.SZt.wXt),r.SZt.AZt&&r.J7t(r.SZt.AZt),r.vz=n,r.yti=i,0===r.SZt.kZt.length?[3,2]:(r.hti.yn(p_.ha,r.Nti),[4,r.Ati()]);case 1:e.sent(),r.hti.yn(Al.Ov,r.Iti),r.hti.yn(Al.fm,r.Dti),r.hti.yn(gk.Sm,r.Eti),r.hti.yn(Al.Jv,r.Ds),e.label=2;case 2:return[2]}}))}))()},i.$Kt=function(){this.rti&&this.kti&&this.wti()},i.Lti=function(){this.tti(c0.Ebt),this.uti&&this.A2t.Co(new HR(this.uti,this.U_))},i.fti=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return t.hti.fn(p_.ha,t.Nti),t.hti.fn(Al.Ov,t.Iti),t.hti.fn(Al.fm,t.Dti),t.hti.fn(gk.Sm,t.Ds),t.hti.fn(gk.Sm,t.Eti),t.hti.fn(Al.Jv,t.Ds),t.hti.fn(Al.fm,t.bti),t.hti.fn(Al.Lv,t.Tti),t.hti.fn(Al._m,t.Sti),t.hti.fn(yk,t.Ds),t.uti&&(t.uti.l$t(),t.A2t.Co(new qR(t.uti,t.U_))),t.xti(),t.H7t(),t.lti(),t.dti(),t.uti=void 0,t.SZt=void 0,t.yti=void 0,[4,t.hti.tr()];case 1:return n.sent(),t.hti.be(),t.W7t.style.cursor="",t.Cti=0,t.M1=-1,t.Oti&&(t.jti.fti(),t.Oti=!1),[2]}}))}))()},i.xti=function(){this.P0t&&(this.P0t.h_(),this.P0t=void 0)},i.dti=function(){this.Rti&&(cu(this.Rti),this.Rti=void 0)},i.lti=function(){this.U0t&&(this.U0t.gn(),this.U0t=void 0)},i.Pti=function(){this.Oti=!0},i.zti=function(){var t;this.Rti||(this.Rti=u.createElement("div"),this.Rti.className="theoplayer-ad-overlay-component theo-ad-remaining-container",this.W7t.appendChild(this.Rti));var n=null==(t=this.uti)?void 0:t.Xl;if(n){var i=n.Oc.filter(H1),r=i3(this.GO,"The content will play in")+" "+w.round(n.t$t)+" "+i3(this.GO,"seconds");if(i.length>1){var e=i.filter((function(t){return t.u$t()})).length;r+=". "+i3(this.GO,"Ad")+" "+(e+1)+"/"+i.length}yz(this.Rti,r)}},At(n,[{key:"rti",get:function(){return this.oti}},{key:"U_",get:function(){return this.hti.U_}},{key:"ct",get:function(){var t=this.hti.ct;return A(t)&&this.SZt&&(t=this.SZt.ct||0),t}},{key:"G_",get:function(){return this.hti.G_}},{key:"og",get:function(){return this.hti.og},set:function(t){this.hti.og=t,t?this.tti(c0.RZt):this.tti(c0.PZt)}},{key:"fg",get:function(){return this.hti.fg}},{key:"Sg",get:function(){return this.hti.Sg}},{key:"zg",get:function(){return this.hti.zg},set:function(t){this.hti.zg=t}},{key:"Cg",get:function(){return this.hti.Cg}},{key:"Rg",get:function(){return this.hti.Rg}},{key:"ati",get:function(){return this.uti}},{key:"kti",get:function(){return this.SZt&&-1!==this.SZt.CZt&&this.hti.U_>=this.SZt.CZt}}]),n}(n3);yt(),C(),zt(),pt(),Mt(),Ut(),yt(),C(),pt(),Mt();var h3=function(t){function n(){var i;return(i=t.call(this)||this).h0t=function(t){i.Co(new ra("Ny")),i.Bti(t)},i.Bti=function(t){t.stopPropagation()},i.Us=n.cr(),i.o0t(),i}bt(n,t);var i=n.prototype;return i.o0t=function(){this.we.addEventListener("mouseup",this.h0t),this.we.addEventListener("touchend",this.h0t),this.we.addEventListener("mousedown",this.Bti)},i.n0t=function(){this.we.removeEventListener("mouseup",this.h0t),this.we.removeEventListener("touchend",this.h0t),this.we.removeEventListener("mousedown",this.Bti)},i.gn=function(){this.n0t(),cu(this.Us)},n.cr=function(){var t=u.createElement("div");return t.className="theoplayer-ad-nonlinear-close",t.style.position="absolute",t.style.right="0",t.style.top="0",t.style.cursor="pointer",t.style.fontSize="1.7em",t.style.lineHeight="0.75em",t},At(n,[{key:"we",get:function(){return this.Us}}]),n}($o),f3=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).Gti=function(){e.Xti(),e.tti(c0.$Zt),e.nti()},e.Yti=function(t){var n,i;e.Xti(),null==(n=e.vz)||n.Mqt(C0.pqt);var r,u,s,o=null==(i=e.m$t)?void 0:i._Xt[0],a=null!=(u=null!=(r=null==o?void 0:o.AXt)?r:null==o?void 0:o.mXt)?u:null==o?void 0:o.MXt;e.sti(null!=(s=null==a?void 0:a.lqt)?s:"")},e.Hti=function(){e.be(),hu(e.W7t),e.nti(),e.Qti=void 0,e.m$t=void 0},e.qti=function(){e.hu||(e.Wti=void 0,e.hu=new h3,e.W7t.children[0].appendChild(e.hu.we),e.hu.yn("Ny",e.Kti))},e.Kti=function(){e.tti(c0.UZt),e.$Kt()},e.W7t.className="theoplayer-ad-nonlinear",e.W7t.style.position="absolute",e.W7t.style.width="100%",e.W7t.style.bottom="3em",e.W7t.style.zIndex="10",e.W7t.style.textAlign="center",e.x4t=r,e}bt(n,t);var i=n.prototype;return i.H7t=function(){t.prototype.H7t.call(this),this.W7t&&hu(this.W7t)},i.Mti=function(t,n,i){var r=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return r.m$t&&r.fti(),r.Qti=t,r.m$t=t.cXt,0!==r.m$t.wXt.length&&r.q7t(r.m$t.wXt),r.vz=n,0===r.m$t._Xt.length?[3,2]:(r.J7t(r.m$t._Xt[0].TXt),r.W7t.addEventListener("error",r.Yti),r.W7t.addEventListener("load",r.Gti),[4,r.Ati()]);case 1:i.sent(),r.Vti(),i.label=2;case 2:return[2]}}))}))()},i.$Kt=function(){var t;if(void 0===this.Wti){var n=null==(t=this.m$t)?void 0:t._Xt[0];n&&n.Xl&&-1!==n.Xl.CZt&&(this.tti(c0.UZt),this.A2t.Co(new K2(this.Qti,0)),this.Hti())}},i.Lti=function(){void 0!==this.Qti&&this.A2t.Co(new HR(this.Qti,this.x4t.U_))},i.Zg=function(){this.fti(),this.Qti=void 0,this.m$t=void 0},i.fti=function(){this.Xti(),void 0!==this.Qti&&(this.Qti.l$t(),this.A2t.Co(new qR(this.Qti,this.x4t.U_))),this.H7t(),this.Zti(),void 0!==this.Wti&&(c(this.Wti),this.Wti=void 0)},i.Xti=function(){this.W7t.removeEventListener("load",this.Gti),this.W7t.removeEventListener("error",this.Yti)},i.Ati=function(){var t=this;return Ot((function(){var n,i,r,e,s,o,a,c,h;return Rt(this,(function(f){return(n=u.createElement("div")).className="theoplayer-ad-nonlinear-content",n.style.position="relative",n.style.display="inline-block",i=t.m$t._Xt[0],r=u.createElement("a"),i.TXt.sZt&&(r.href=i.TXt.sZt,r.target="Du",r.setAttribute("rel","noopener")),i.AXt?(e=i.AXt,(s=u.createElement("iframe")).src=e.lqt,r.appendChild(s)):i.mXt?(o=i.mXt,(a=u.createElement("img")).src=o.lqt,r.appendChild(a)):i.MXt&&(c=i.MXt,(h=u.createElement("iframe")).src=c.lqt,r.appendChild(h)),i.LXt(),r.addEventListener("mousedown",t.iti),r.addEventListener("touchend",t.iti),t.W7t.firstChild&&(hu(t.W7t),t.fti()),n.appendChild(r),t.W7t.appendChild(n),t.ge(),[2]}))}))()},i.Vti=function(){var t;if(this.m$t){var n=null==(t=this.m$t._Xt[0].Xl)?void 0:t.CZt;void 0!==n&&-1!==n&&(this.Wti=ru.setTimeout(this.qti,1e3*n))}},i.Zti=function(){this.hu&&(this.hu.fn("Ny",this.Kti),this.hu.gn()),this.hu=void 0},At(n,[{key:"Uti",get:function(){return this.Qti}},{key:"Fti",get:function(){return this.hu}},{key:"Jti",get:function(){return this.x4t.$ti()}}]),n}(n3);yt(),C(),zt(),Ut();var v3=function(){function t(){}return t.tii=function(t,n,i){return Ot((function(){var r,e,u,s,o;return Rt(this,(function(a){switch(a.label){case 0:r=[],e=t.shift(),a.label=1;case 1:if(!e)return[3,6];a.label=2;case 2:return a.trys.push([2,4,,5]),[4,(new W0).Rqt(e,n)];case 3:return u=a.sent(),r=r.concat(u),[3,5];case 4:return s=a.sent(),o=z2.S2t(s,e.sources.src),i.Co(o),[3,5];case 5:return e=t.shift(),[3,1];case 6:return[2,r]}}))}))()},t}();yt(),C(),zt(),pt(),Ut(),yt(),C(),zt(),pt(),Mt(),Ut(),yt(),C(),Mt();var l3,d3=function(t){function n(){return t.call(this,"xht")}return bt(n,t),n.prototype.fa=function(){return new g3},n}(am),g3=function(t){function n(){return t.call(this,"statechange")}return bt(n,t),n}(ra);yt(),C(),function(t){t.IDLE="idle",t.LOADING="loading",t.DONE="done",t.ERROR="error",t.EVICTED="evicted"}(l3||(l3={})),yt(),C(),Mt(),yt(),C(),pt(),Mt();var w3=function(){function t(){this.Xu=[],this.Xa=void 0}var n=t.prototype;return n.zw=function(t){return this.Xu[t]},n.nS=function(t){this.Xu.push(t),this.Xa&&this.Xa.push(t.va),this.eii(t)},n.sii=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.nS(i)}},n.nii=function(t,n){n>=0&&n<=this.Xu.length&&(this.Xu.splice(n,0,t),this.Xa&&this.Xa.splice(n,0,t.va),this.eii(t))},n.oS=function(t){return mo(this.Xu,t)},n.rS=function(t){this.rii(this.Xu.indexOf(t))},n.rii=function(t){if(t>=0&&t<this.Xu.length){var n=this.Xu[t];wo(this.Xu,t),this.Xa&&wo(this.Xa,t),this.oii(n)}},n.kL=function(){var t=this.Xu.slice();po(this.Xu),this.Xa&&po(this.Xa);for(var n=0;n<t.length;n++){var i=t[n];this.oii(i)}},At(t,[{key:"Gu",get:function(){return this.Xu}},{key:"U",get:function(){return this.Xu.length}},{key:"va",get:function(){return this.Xa||(this.Xa=this.fa()),this.Xa}}]),t}(),y3=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).hii=new na,n.Ds=function(t){n.Co(t)},n}bt(n,t);var i=n.prototype;return i.fa=function(){return function(t){var n=function(t){var n=t.Gu.map((function(t){return t.va}));return n.item=function(n){var i=0|n,r=t.zw(i);return r&&r.va||void 0},n}(t),i=new uL(t,n);return n.addEventListener=function(t,n){i.yn(t,n)},n.removeEventListener=function(t,n){i.fn(t,n)},n}(this)},i.yn=function(t,n){this.hii.yn(t,n)},i.T_=function(t){this.hii.T_(t)},i.Vo=function(){this.hii.Vo()},i.Co=function(t){this.hii.Co(t)},i.fn=function(t,n){this.hii.fn(t,n)},i.D_=function(t){this.hii.D_(t)},i.E_=function(t){this.hii.E_(t)},i.k_=function(t,n){return this.hii.k_(t,n)},n}(w3);yt(),C(),Mt();var m3=function(t){function n(n){var i;return(i=t.call(this,"addtask")||this).task=n,i}return bt(n,t),n}(ra),A3=function(t){function n(n){var i;return(i=t.call(this,"uii")||this).aii=n,i}return bt(n,t),n.prototype.fa=function(){return new m3(this.aii.va)},n}(am);yt(),C(),Mt();var p3,_3=function(t){function n(n){var i;return(i=t.call(this,"removetask")||this).task=n,i}return bt(n,t),n}(ra),k3=function(t){function n(n){var i;return(i=t.call(this,"cii")||this).task=n,i}return bt(n,t),n.prototype.fa=function(){return new _3(this.task.va)},n}(am),b3=function(t){function n(){return t.call(this)}bt(n,t);var i=n.prototype;return i.eii=function(t){this.Co(new A3(t))},i.oii=function(t){this.Co(new k3(t))},n}(y3);!function(t){t.UNINITIALISED="uninitialised",t.INITIALISED="initialised"}(p3||(p3={}));var M3=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Hht="uninitialised",e.tj=new b3,e._ii=i,e.gii=r,e.Xd=n,e.Wg(),e}bt(n,t);var i=n.prototype;return i.Wg=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return[4,t.lii()];case 1:return n.sent(),t.Xht("initialised"),[2]}}))}))()},i.lii=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,t.dii()];case 1:return n.sent(),[3,3];case 2:return n.sent(),[3,3];case 3:return[2]}}))}))()},i.dii=function(){var t=this;return Ot((function(){var n,i,r,e;return Rt(this,(function(u){switch(u.label){case 0:return[4,t.Xd.Snt()];case 1:n=u.sent(),i=0,u.label=2;case 2:return i<n.length?(r=n[i],e=t._ii.fii(r.id,r.sourceDescription,r.parameters,t.gii),t.wii(e),t.tj.nS(e),[4,e.vii]):[3,5];case 3:u.sent(),u.label=4;case 4:return i++,[3,2];case 5:return[2]}}))}))()},i.Xht=function(t){this.Hht=t,this.Co(new d3)},i.fii=function(t,n,i){void 0===i&&(i="persistent");var r=this._ii.pii(t,n,i);return this.Aii(r,i),this.tj.nS(r),this.wii(r),r},i.Aii=function(t,n){var i=this;return Ot((function(){var r;return Rt(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,i.yii(t,n)];case 1:return e.sent(),[3,3];case 2:throw r=e.sent(),v("Unable to persist task - "+r);case 3:return[2]}}))}))()},i.yii=function(t,n){var i=this;return Ot((function(){return Rt(this,(function(r){switch(r.label){case 0:return[4,i.Xd.Mnt({key:t.o,id:t.o,sourceDescription:t.yc,parameters:t.WI},n)];case 1:return r.sent(),[2]}}))}))()},i.wii=function(t){var n=this;t.yn("xht",(function(){t.fD===l3.EVICTED&&n.tj.rS(t)}))},At(n,[{key:"fD",get:function(){return this.Hht}},{key:"mii",get:function(){return this.tj}}]),n}($o);yt(),C(),yt(),C(),Xt(),zt(),pt(),Mt(),Ut(),yt(),C(),yt(),C(),pt();var T3=function(){function t(t,n,i){if(this.Tii=t,this.sS=n,this.Mii=i,0===this.sS.size)this.Dii=HD.oU();else{var r=new HD([-1/0,1/0]);this.sS.forEach((function(t){r=r.Sn(t.timeRanges)})),this.Dii=r}}return t.prototype.QS=function(t){return!!Mm(this.sS,t.sS)&&(!!Gi(this.Tii,t.Tii)&&(!!Gi(this.sU,t.sU)&&(!!Gi(this.Sii,t.Sii)&&this.Nii.KB(t.Nii))))},At(t,[{key:"sU",get:function(){return this.Mii}},{key:"bii",get:function(){return this.Tii}},{key:"Sii",get:function(){return this.Nii.sU}},{key:"Iii",get:function(){var t=0,n=0;return this.sS.forEach((function(i){t+=i.timeRanges.sU,n+=i.totalQualityDurationToCache})),0===n?0:w.min(1,t/n)}},{key:"Nii",get:function(){return this.Dii}}]),t}();T3.QUALITY_TIME_RANGES_NULL_OBJECT=ns(),T3.CACHE_PROGRESSION_NULL_OBJECT=new T3(0,T3.QUALITY_TIME_RANGES_NULL_OBJECT,NaN),T3.Eii=T3.CACHE_PROGRESSION_NULL_OBJECT,yt(),C(),yt(),C(),zt(),Ct(),Ut(),yt(),C(),zt(),pt(),Mt(),Ct(),Ut(),yt(),C(),Mt();var N3=function(t){function n(){return t.call(this,"progress")}return bt(n,t),n}(ra),D3=function(t){function n(){return t.call(this,"s4t")}return bt(n,t),n.prototype.fa=function(){return new N3},n}(am);yt(),C(),yt(),C(),pt(),Mt();var I3,E3=function(t){function n(n,i){return t.call(this,n,i)}return bt(n,t),At(n,[{key:"name",get:function(){return"kii"}}]),n}(xo);function S3(t,n,i){return L3.apply(this,arguments)}function L3(){return L3=Ot((function(t,n,i){var r,e,u,s,o;return Rt(this,(function(a){switch(a.label){case 0:for(r=[],e=0,u=t.omt;e<u.length;e++)s=u[e],r.push(j3(s,n,i));return[4,q.all(r)];case 1:return o=a.sent(),[2,{ct:t.Upt.bmt(),Cii:[t.ZMt],omt:o}]}}))})),L3.apply(this,arguments)}function j3(t,n,i){return C3.apply(this,arguments)}function C3(){return C3=Ot((function(t,n,i){var r,e,u,s;return Rt(this,(function(o){switch(o.label){case 0:for(r=[],e=0,u=t.Xvt;e<u.length;e++)s=u[e],r.push(x3(s,n,i));return[4,q.all(r)];case 1:return[2,{Lii:o.sent()}]}}))})),C3.apply(this,arguments)}function x3(t,n,i){return O3.apply(this,arguments)}function O3(){return O3=Ot((function(t,n,i){var r,e,u,s;return Rt(this,(function(o){switch(o.label){case 0:for(r=[],e=0,u=t.kot;e<u.length;e++)z3(s=u[e])||r.push(P3(s,n,i));return[4,q.all(r)];case 1:return[2,{Z:o.sent(),Av:t.Av}]}}))})),O3.apply(this,arguments)}function z3(t){return t.Bot.every(B3)}yt(),C(),zt(),Ut(),yt(),C(),zt(),Ut(),yt(),C(),function(t){t[t.yp=0]="yp",t[t.Mp=1]="Mp"}(I3||(I3={}));var R3=1;function B3(t){return t.Kmt!==R3&&Boolean(t.Kmt)}function P3(t,n,i){return U3.apply(this,arguments)}function U3(){return U3=Ot((function(t,n,i){var r,e,u,s,o,a,c,h,f;return Rt(this,(function(v){switch(v.label){case 0:for(r=[],e=0,u=t.Bot;e<u.length;e++)B3(s=u[e])||r.push(Q3(s,i));return[4,q.all(r)];case 1:return o=v.sent(),a=t.$nt[0],c=t.trt,h=c?function(t,n){for(var i=[],r=function(t){return t?Rs(t,"avc")?Tv.VIDEO_H264:Rs(t,"hev")||Rs(t,"hvc")||Rs(t,"hvt")||Rs(t,"lhv")||Rs(t,"lhe")||Rs(t,"lht")?Tv.VIDEO_H265:Rs(t,"mp4")?Tv.VIDEO_MP4:Rs(t,"mpeg2")?Tv.VIDEO_MPEG2:Rs(t,"mpeg")?Tv.VIDEO_MPEG:Tv.VIDEO_UNKNOWN:Tv.VIDEO_UNKNOWN}(t),e=0;e<n.length;e++){var u=n[e],s=u.irt.split(":").pop(),o=u.Lmt;i.push({mimeType:r,uuid:s,data:o})}var a=I3.yp,c=fs;return{type:a,schemeType:c,schemeDatas:i}}(a,c):void 0,f=_V(t,n,!0),[2,{qw:o,gs:t.b8,Av:t.Av,Iz:h,Svt:f}]}}))})),U3.apply(this,arguments)}function Q3(t,n){return Y3.apply(this,arguments)}function Y3(){return Y3=Ot((function(t,n){var i,r,e,u;return Rt(this,(function(s){switch(s.label){case 0:return[4,F3(t,n)];case 1:switch(i=s.sent(),r={o:W3(t),kT:i,GP:t.GP,Vet:t.Vet,Ti:t.Ti,Av:t.Av,ji:t.ji},t.Av){case Gm.Ru:break;case Gm.VA:r.Adt=null!=(u=null==(e=t.Adt)?void 0:e.JS())?u:NaN;break;case Gm.WA:r.audioSamplingRate=t.Hmt}return[2,r]}}))})),Y3.apply(this,arguments)}function F3(t,n){return G3.apply(this,arguments)}function G3(){return G3=Ot((function(t,n){var i,r,e,u,s,o,a;return Rt(this,(function(c){switch(c.label){case 0:i=[],r=t.Wrt,t.zlt&&i.push({MS:0,ct:0,xii:t.zlt}),e=r.yAt(),u=e,c.label=1;case 1:return u?t.Ect(u)?[4,t.Lct(u,n,(new zo).f_)]:[3,3]:[3,5];case 2:for(s=c.sent(),o=0;o<s.U;o++)i.push(V3(s.Cct(o),t));return[3,4];case 3:i.push(V3(u,t)),c.label=4;case 4:return u=r.jct(u),[3,1];case 5:return a=r.SAt(),[2,{ct:a.bS-e.MS,jnt:i}]}}))})),G3.apply(this,arguments)}function V3(t,n){return{MS:t.MS,ct:t.ct,xii:n.zct(t)}}function W3(t){return t.bct.Cn+"-"+(""+t.o)}function X3(t,n){var i=function(t){var n=function(t){for(var n=ns(),i=0;i<t.length;i++){var r=t[i],e=n.get(r.wjt);e||(e={Av:r.Av,wM:[]},n.set(r.wjt,e)),e.wM.push(r)}return n}(t),i=is();return n.forEach((function(t){for(var n=0,r=t.wM;n<r.length;n++){var e=r[n],u=i.get(t.Av);u||(u=ns(),i.set(t.Av,u));var s=u.get(e.l);s||(s=[],u.set(e.l,s)),s.push(e)}})),i}(t);return function(t,n){var i=is();return t.forEach((function(t,r){var e=ns();t.forEach((function(t,i){for(var u=[],s=0;s<t.length;s++){var o=Z3(t[s],r,n);u.push(o)}e.set(i,u)})),i.set(r,e)})),i}(i,n)}function Z3(t,n,i){for(var r=t.wjt,e={Mjt:t,Kjt:[]},u=0;u<i.length;u++){var s=i[u];iq(n,r,s)&&e.Kjt.push(s)}return e}function H3(t,n){return K3.apply(this,arguments)}function K3(){return K3=Ot((function(t,n){var i;return Rt(this,(function(r){switch(r.label){case 0:return[4,n.Tbt([t],{})];case 1:return[2,NK((i=r.sent()).cE,{},i.Nbt)]}}))})),K3.apply(this,arguments)}function q3(t,n){return J3.apply(this,arguments)}function J3(){return J3=Ot((function(t,n){return Rt(this,(function(i){return UH(t)?[2,$3(t,n)]:[2,d5(t)]}))})),J3.apply(this,arguments)}function $3(t,n){return t5.apply(this,arguments)}function t5(){return t5=Ot((function(t,n){var i,r;return Rt(this,(function(e){switch(e.label){case 0:return[4,e5(X3(t.wM,t._Pt),n)];case 1:return i=e.sent(),[4,i5(t._Pt,n)];case 2:return r=e.sent(),i.push(r),[2,{ct:n5(i),Cii:[t.Jpt],omt:[{Lii:i}]}]}}))})),t5.apply(this,arguments)}function n5(t){for(var n=-1/0,i=0;i<t.length;i++)for(var r=0,e=t[i].Z;r<e.length;r++){var u,s=e[r];n=(u=w).max.apply(u,[n].concat(jt(s.qw.map((function(t){return t.kT.ct})))))}return n}function i5(t,n){return r5.apply(this,arguments)}function r5(){return r5=Ot((function(t,n){var i,r,e,u,s,o,a,c;return Rt(this,(function(h){switch(h.label){case 0:i=[],r=0,h.label=1;case 1:return r<t.length?[4,v5((e=t[r]).Jpt,n)]:[3,4];case 2:(o=h.sent()).GP=e.GP,o.Vet=e.$nt?function(t){return[t.mkt,t.Akt,t.IRt].filter(Rn).join(",")}(e.$nt):"",o.Ti=null!=(a=null==(u=e.akt)?void 0:u.Ti)?a:0,o.ji=null!=(c=null==(s=e.akt)?void 0:s.ji)?c:0,i.push(o),h.label=3;case 3:return r++,[3,1];case 4:return[2,{Av:Gm.jT,Z:[{gs:aQ,Av:Gm.jT,qw:i}]}]}}))})),r5.apply(this,arguments)}function e5(t,n){return u5.apply(this,arguments)}function u5(){return u5=Ot((function(t,n){var i,r,e,u,s,o;return Rt(this,(function(a){switch(a.label){case 0:i=[],r=t.entries(),e=r.next(),a.label=1;case 1:return e.done?[3,4]:(u=Gt(e.value,2),s=u[0],[4,s5(u[1],s,n)]);case 2:o=a.sent(),i.push(o),a.label=3;case 3:return e=r.next(),[3,1];case 4:return[2,i]}}))})),u5.apply(this,arguments)}function s5(t,n,i){return o5.apply(this,arguments)}function o5(){return o5=Ot((function(t,n,i){var r,e,u,s,o;return Rt(this,(function(a){switch(a.label){case 0:r=[],e=t.entries(),u=e.next(),a.label=1;case 1:return u.done?[3,4]:(s=Gt(u.value,2),[4,a5(s[1],i)]);case 2:o=a.sent(),r.push(o),a.label=3;case 3:return u=e.next(),[3,1];case 4:return[2,{Av:h5(n),Z:r}]}}))})),o5.apply(this,arguments)}function a5(t,n){return c5.apply(this,arguments)}function c5(){return c5=Ot((function(t,n){var i,r,e,u;return Rt(this,(function(s){switch(s.label){case 0:i=[],r=t[0].Mjt,e=0,s.label=1;case 1:return e<t.length?[4,f5(t[e],n)]:[3,4];case 2:u=s.sent(),i.push(u),s.label=3;case 3:return e++,[3,1];case 4:return[2,{gs:r.gs||aQ,Av:h5(r.Av),qw:i}]}}))})),c5.apply(this,arguments)}function h5(t){switch(t){case CH.WA:return Gm.WA;case CH.VA:return Gm.VA;case CH.HA:case CH.kRt:return Gm.Ru;default:return Gm.jT}}function f5(t,n){var i=function(t){var n=t.Mjt.Jpt,i=t.Kjt.map((function(t){return t.Jpt}));return n||(i.length?i[0]:void 0)}(t);return v5(i,n)}function v5(t,n){return l5.apply(this,arguments)}function l5(){return l5=Ot((function(t,n){var i,r;return Rt(this,(function(e){switch(e.label){case 0:return i={ct:0,jnt:[]},t?[4,H3(t,n)]:[3,2];case 1:QH(r=e.sent())&&(i=g5(r)),e.label=2;case 2:return[2,{o:t||"default",Oii:t,kT:i,GP:0,Vet:"",Ti:0,Av:Gm.jT,ji:0}]}}))})),l5.apply(this,arguments)}function d5(t){var n=g5(t);return{ct:n.ct,Cii:[t.Jpt],omt:[{Lii:[{Av:Gm.jT,Z:[{Av:Gm.jT,gs:aQ,qw:[{o:t.Jpt,kT:n,GP:0,Vet:"",Ti:0,Av:Gm.jT,ji:0}]}]}]}]}}function g5(t){for(var n,i=[],r=0,e=0,u=t.jnt;e<u.length;e++){var s=u[e],o=r;!s.mPt||void 0!==n&&GH(s.mPt.Jpt,n)||(i.push(w5(s.mPt,o)),n=s.mPt.Jpt),i.push(y5(s,o)),r+=s.ct}return{ct:r,jnt:i}}function w5(t,n){return{MS:n,ct:0,xii:m5(t.Jpt)}}function y5(t,n){return{MS:n,ct:t.ct,xii:m5(t.Jpt)}}function m5(t){return{zu:t.lT,Sat:t.Dyt?[t.Dyt.Cn,t.Dyt.Cn+t.Dyt.U]:void 0,tE:!1}}yt(),C(),zt(),Vt(),Ct(),Ut(),yt(),C();var A5=function(){function t(t,n,i){this.Sbt=t,this.Pct=n,this.zii=i}var n=t.prototype;return n.jii=function(t){var n=this;return Ot((function(){var i;return Rt(this,(function(r){switch(r.label){case 0:if(!t.src)throw new v("Invalid typed source");return JN(i=t.type)?[4,n.Rii(t)]:[3,2];case 1:case 3:return[2,r.sent()];case 2:return qN(i)?[4,n.Pii(t)]:[3,4];case 4:throw new v("Unexpected source type");case 5:return[2]}}))}))()},n.Rii=function(t){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,H3(t.src,n.Sbt)];case 1:return[4,q3(i.sent(),n.Sbt)];case 2:return[2,i.sent()];case 3:throw i.sent(),new v("Unable to fetch HLS manifest");case 4:return[2]}}))}))()},n.Pii=function(t){var n=this;return Ot((function(){var i;return Rt(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,(i=new YG({yv:an.Dh(t.src),nbt:t.liveOffset,ubt:t.timeServer,tE:t.useCredentials},n.zii,sy.rH,n.Sbt,t.dash)).W];case 1:return r.sent(),[4,S3(i.Tr.jlt,t.contentProtection,n.Pct)];case 2:return[2,r.sent()];case 3:throw r.sent(),new v("Unable to fetch DASH manifest");case 4:return[2]}}))}))()},t}();yt(),C(),zt(),Ut();var p5=function(){function t(t){this.Uii=[],this.Yii=0,this.Gii=t}var n=t.prototype;return n.Bii=function(){var t=new Bc;return this.Uii.push(t),this.Qii(),t.OL},n.Fii=function(t,n){var i=this;return Ot((function(){return Rt(this,(function(r){switch(r.label){case 0:return r.trys.push([0,,2,3]),[4,t];case 1:return r.sent(),[3,3];case 2:return i.Yii-=1,i.Qii(),0===i.Uii.length&&0===i.Yii&&n.LL(!0),[7];case 3:return[2]}}))}))()},n.Qii=function(){this.Uii.length>0&&this.Yii<this.Gii&&(this.Uii.shift().LL(),this.Yii+=1)},t}();var _5=function(t){function n(n,i,r,e,u,s,o,a){var c;(c=t.call(this)||this).DEFAULT_CACHING_SEGMENT_TIMEOUT=3e4,c.DEFAULT_CACHING_SEGMENT_CONNECTION_TIMEOUT=0,c.oei=new Bc,c.Zii=T3.Eii,c.Pbt=n,c.Ont=i,c.Sbt=r,c.$ii=e,c.jut=u,c.Pct=s,c.zii=a,c.gii=o,c.Wii=-1;var h=c.Pbt.yc.sources[0];return c.Vii=h,c.bo=c.Wg(),c.nei=new p5(c.Pbt.WI.parallelTasksThreshold),c}bt(n,t);var i=n.prototype;return i.Wg=function(){var t=this;return Ot((function(){var n,i,r,e,u,s,o,a,c,h,f,l,d,g,y,A,p,_,k,b,M,T,N,D,I,E;return Rt(this,(function(S){switch(S.label){case 0:return[4,new A5(t.Sbt,t.Pct,t.zii).jii(t.Vii)];case 1:return t.gkt=S.sent(),n=t.Pbt.WI.amount,i=t.gkt.ct,r=function(t,n){if(Fn(t)){if(Rs(t,"%"))return m(t)/100*n;throw new v("Unexpected - Invalid string supplied as amount to cache.")}return n<t?n:t}(n,i),t.Mii=r,u=AB(t.gkt.Cii[0]),[4,t.Ont.Rnt.Int(u,"manifestURL")];case 2:for(s=S.sent().filter((function(n){return mo(n.references,t.Pbt.o)})),o=[],a=t.Pbt.WI.bandwidth,c=0,h=t.gkt.omt;c<h.length;c++)for(f=h[c],l=0,d=f.Lii;l<d.length;l++)for(g=d[l],y=0,A=M5(g,t.Pbt.WI.preferredTrackSelection);y<A.length;y++)for(p=A[y],_=0,k=N5(p.qw,a);_<k.length;_++)b=k[_],o.push(b);if(t.Wii=w.ceil(o.map((function(t){return t.GP*function(t,n){for(var i=0,r=0,e=t.kT.jnt.map((function(t){return t.ct}));r<e.length;r++)if((i+=e[r])>=n)return i;return i}(t,r)/8})).reduce((function(t,n){return t+n}),0)),M=ns(),s&&0!==s.length){for(T=function(n){var i=s[n],r=i.qualityId,e=new HD(i.startsAndEnds);if(M.has(r))M.get(r).timeRanges=M.get(r).timeRanges.YB(e).FB(5e-4);else{var u,a=co(o,(function(t){return t.o===r})),c=w.min(t.Mii,null!=(u=null==a?void 0:a.kT.ct)?u:1/0);M.set(r,{timeRanges:e,totalQualityDurationToCache:c})}},N=s.reduce((function(t,n){return t+n.byteSize}),0),D=0;D<s.length;D++)T(D);e=new T3(N,M,t.Mii)}else{for(I=0;I<o.length;I++)E=o[I],M.set(E.o,{timeRanges:HD.oU(),totalQualityDurationToCache:w.min(E.kT.ct,t.Mii)});e=new T3(0,M,t.Mii)}return t.Hii=e,[2]}}))}))()},i.pi=function(t){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return[4,n.bo];case 1:return i.sent(),[4,n.qii(n.gkt,t)];case 2:return i.sent(),[2]}}))}))()},i.qii=function(t,n){var i=this;return Ot((function(){var r,e,u,s;return Rt(this,(function(o){switch(o.label){case 0:if(!t.Cii)throw new v("Unexpected - manifest is missing locations");return[4,i.Kii()];case 1:for(o.sent(),r=[],e=0,u=t.omt;e<u.length;e++)s=u[e],r.push(i.Jii(s,t.Cii[0],n));return[2,Zo(r)]}}))}))()},i.Kii=function(){var t=this;return Ot((function(){var n,i,r,e,u;return Rt(this,(function(s){switch(s.label){case 0:return[4,t.$ii.Snt()];case 1:n=s.sent(),i=0,s.label=2;case 2:return i<n.length?(r=n[i],[4,t.Ont.Pnt.IL(r.key)]):[3,9];case 3:return(e=s.sent())?[4,k5(e,t.Pbt.o,t.Ont.Pnt,t.gii)]:[3,5];case 4:return s.sent(),[3,8];case 5:return s.trys.push([5,7,,8]),[4,t.Ont.Pnt.Mnt(r,t.gii)];case 6:return s.sent(),[3,8];case 7:throw u=s.sent(),new E3("Unable to store manifest with url: "+r.locationURL,u);case 8:return i++,[3,2];case 9:return[4,t.$ii.Ent()];case 10:return s.sent(),[2]}}))}))()},i.Jii=function(t,n,i){for(var r=[],e=0,u=t.Lii;e<u.length;e++)for(var s=M5(u[e],this.Pbt.WI.preferredTrackSelection),o=0;o<s.length;o++){var a=s[o];r.push(this.tei(a,n,i))}return Zo(r)},i.tei=function(t,n,i){var r=this;return Ot((function(){var e,u,s,o,a;return Rt(this,(function(c){switch(c.label){case 0:return e=r.Pbt.WI.bandwidth,u=N5(t.qw,e),t.Av===Gm.VA&&t.Svt&&t.Svt.fR.widevine&&"persistent"===t.Svt.fR.widevine.licenseType?[4,r.iei(t.Svt)]:[3,2];case 1:c.sent(),Po(i),c.label=2;case 2:for(s=[],o=0;o<u.length;o++)a=u[o],s.push(r.eei(a,n,i));return[2,Zo(s)]}}))}))()},i.eei=function(t,n,i){var r=this;return Ot((function(){var e,u,s,o,a,c,h;return Rt(this,(function(f){switch(f.label){case 0:Po(i),e=t.kT.jnt[0].MS,u=e+r.Mii,s=[],o=!1,a=0,c=t.kT.jnt,f.label=1;case 1:return a<c.length?(h=c[a]).MS>=u||r.stopIfFailed(o)?[3,5]:[4,r.sei(i)]:[3,5];case 2:return f.sent(),[4,r.nei.Bii()];case 3:f.sent(),s.push(r.nei.Fii(r.rei(h,t,n),r.oei).catch((function(t){return o=!0,q.reject(t)}))),f.label=4;case 4:return a++,[3,1];case 5:return[2,Zo(s)]}}))}))()},i.sei=function(t){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return(null==t?void 0:t.n_)?[4,n.oei.OL]:[3,2];case 1:throw i.sent(),new Ro;case 2:return[2]}}))}))()},i.hei=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return[4,t.bo.catch(Kn)];case 1:return n.sent(),[2,t.gkt]}}))}))()},i.iei=function(t){return q.resolve()},i.aei=function(){return an.vp("License renewal unsupported in this SDK."),q.resolve()},i.rei=function(t,n,i){var r=this;return Ot((function(){var e,u,s,o,a,c,h,f;return Rt(this,(function(v){switch(v.label){case 0:return e=r.Ont.Rnt,u=pB(t.xii.zu,t.xii.Sat),[4,e.IL(u)];case 1:return(s=v.sent())?[4,k5(s,r.Pbt.o,e,r.gii)]:[3,3];case 2:return v.sent(),r.uei(s,!1),[3,7];case 3:return v.trys.push([3,6,,7]),[4,r.cei(t.xii)];case 4:return o=v.sent(),a=r.lei(t,n,i,o),c=a.segmentMetadataEntry,h=a.segmentEntry,[4,r.Ont.Cnt(Ot((function(t){return Rt(this,(function(n){switch(n.label){case 0:return[4,t.Rnt.Mnt(c,r.gii)];case 1:return n.sent(),[4,t.jnt.Mnt(h,r.gii)];case 2:return n.sent(),[2]}}))})))];case 5:return v.sent(),r.uei(c,!0),[3,7];case 6:throw f=v.sent(),new E3("Unable to store segment with url: "+t.xii.zu,f);case 7:return[2]}}))}))()},i.cei=function(t){var n=this;return Ot((function(){var i;return Rt(this,(function(r){switch(r.label){case 0:return[4,n.jut.pat(t,{Iat:n.DEFAULT_CACHING_SEGMENT_TIMEOUT,KD:n.DEFAULT_CACHING_SEGMENT_CONNECTION_TIMEOUT})];case 1:return i=r.sent(),[4,n.Rut(i)];case 2:return[2,r.sent()]}}))}))()},i.Rut=function(t){return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return[4,t.GR()];case 1:return[2,{buffer:n.sent()}]}}))}))()},i.lei=function(t,n,i,r){var e=pB(t.xii.zu,t.xii.Sat),u=t.MS,s=t.ct,o=this.dei(r);return{segmentMetadataEntry:{key:e,segmentURLsegmentByteRange:e,manifestURL:AB(i),qualityId:n.o,byteSize:o,startsAndEnds:new HD([u,u+s]).LB,references:[this.Pbt.o]},segmentEntry:{key:e,segmentURLsegmentByteRange:e,manifestURL:AB(i),data:r,references:[this.Pbt.o]}}},i.dei=function(t){return t.buffer.byteLength},i.uei=function(t,n){var i=t.qualityId,r=this.Zii,e=r.sS;e.get(i).timeRanges=e.get(i).timeRanges.YB(new HD(t.startsAndEnds)).FB(5e-4),this.Hii=new T3(n?r.bii+t.byteSize:r.bii,e,this.Mii)},i.stopIfFailed=function(t){return!1},At(n,[{key:"vii",get:function(){return this.Wg()}},{key:"Xii",get:function(){return this.Wii}},{key:"Hii",get:function(){return this.Zii},set:function(t){this.Zii.QS(t)||(this.Zii=t,t.QS(T3.Eii)||this.Co(new D3))}}]),n}($o);function k5(t,n,i,r){return b5.apply(this,arguments)}function b5(){return b5=Ot((function(t,n,i,r){return Rt(this,(function(e){switch(e.label){case 0:return mo(t.references,n)?[3,2]:(t.references.push(n),[4,i.Mnt(t,r)]);case 1:e.sent(),e.label=2;case 2:return[2]}}))})),b5.apply(this,arguments)}function M5(t,n){switch(t.Av){case Gm.WA:return T5(t.Z,n.audioTrackSelection);case Gm.Ru:return T5(t.Z,n.textTrackSelection);default:return T5(t.Z,[])}}function T5(t,n){if(0===n.length)return t.length?[t[0]]:[];for(var i=[],r=0;r<t.length;r++){var e=t[r];n.indexOf(e.gs)>-1&&i.push(e)}return i}function N5(t,n){if(!t.length)return[];var i=jt(t).sort(cU),r=i.filter((function(t){return t.GP<=n}));return r.length>0?[r.pop()]:[i.shift()]}var D5=function(){function t(t,n,i){this.Pbt=t,this.Ont=n,this.gkt=i}var n=t.prototype;return n.fei=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return[4,t.Ont.Cnt(Ot((function(n){return Rt(this,(function(i){switch(i.label){case 0:return[4,t._ei(n)];case 1:return i.sent(),[4,t.gei(n)];case 2:return i.sent(),[4,t.wei(n)];case 3:return i.sent(),[4,t.vei(n)];case 4:return i.sent(),[2]}}))})))];case 1:return n.sent(),[2]}}))}))()},n._ei=function(t){var n=this;return Ot((function(){var i,r;return Rt(this,(function(e){switch(e.label){case 0:return i=t.znt,r=n.Pbt.o,[4,i.rS(r)];case 1:return e.sent(),[2]}}))}))()},n.gei=function(t){var n=this;return Ot((function(){var i,r,e,u,s,o,a;return Rt(this,(function(c){switch(c.label){case 0:return i=t.Rnt,r=t.jnt,uD(e=n.Pbt.yc.sources[0])?(u=AB(e.src),[4,i.Int(u,"manifestURL")]):[2];case 1:s=c.sent().filter((function(t){return mo(t.references,n.Pbt.o)})),o=0,c.label=2;case 2:return o<s.length?(go((a=s[o]).references,n.Pbt.o),0!==a.references.length?[3,5]:[4,i.rS(a.key)]):[3,8];case 3:return c.sent(),[4,r.rS(a.key)];case 4:return c.sent(),[3,7];case 5:return[4,i.Mnt(a)];case 6:c.sent(),c.label=7;case 7:return o++,[3,2];case 8:return[2]}}))}))()},n.wei=function(t){var n=this;return Ot((function(){var i,r,e,u,s;return Rt(this,(function(o){switch(o.label){case 0:return i=t.Pnt,r=n.mei(),[4,i._nt(r)];case 1:e=o.sent().filter((function(t){return mo(t.references,n.Pbt.o)})),u=0,o.label=2;case 2:return u<e.length?(go((s=e[u]).references,n.Pbt.o),0!==s.references.length?[3,4]:[4,i.rS(s.key)]):[3,7];case 3:return o.sent(),[3,6];case 4:return[4,i.Mnt(s)];case 5:o.sent(),o.label=6;case 6:return u++,[3,2];case 7:return[2]}}))}))()},n.mei=function(){if(!this.gkt)return[];var t=this.Pbt.yc.sources[0];if(!uD(t))return[];var n=AB(t.src),i=function(t){if(!t)return[];for(var n=[],i=0,r=t.omt;i<r.length;i++)for(var e=0,u=r[i].Lii;e<u.length;e++)for(var s=0,o=u[e].Z;s<o.length;s++)for(var a=0,c=o[s].qw;a<c.length;a++){var h=c[a];h.Oii&&n.push(h.Oii)}return function(t){return t.reduce((function(t,n){return t.indexOf(n)<0&&t.push(n),t}),[])}(n)}(this.gkt).map((function(t){return{src:t}})).map((function(t){return AB(t.src)}));return[n].concat(jt(i))},n.vei=function(t){var n=this;return Ot((function(){var i,r,e,u;return Rt(this,(function(s){switch(s.label){case 0:return[4,(i=t.Bnt).Snt()];case 1:r=s.sent().filter((function(t){return mo(t.references,n.Pbt.o)})),e=0,s.label=2;case 2:return e<r.length?(go((u=r[e]).references,n.Pbt.o),0!==u.references.length?[3,4]:[4,i.rS(u.key)]):[3,7];case 3:return s.sent(),n.pei(u),[3,6];case 4:return[4,i.Mnt(u)];case 5:s.sent(),s.label=6;case 6:return e++,[3,2];case 7:return[2]}}))}))()},n.pei=function(t){},t}(),I5=function(){function t(){}return t.prototype.G7=function(t,n,i){return new D5(t,n,i)},t}(),E5=new I5;yt(),C(),zt(),pt(),Ut(),yt(),C();var S5=function(){function t(t,n){this.ast=t,this.Mei=n}var n=t.prototype;return n.Aei=function(t){this.yei(t)},n.yei=function(t){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,n.Mei.aei(t)];case 1:return i.sent(),[3,3];case 2:return i.sent(),n.ast.Xht(l3.ERROR),[3,3];case 3:return[2]}}))}))()},At(t,[{key:"va",get:function(){return this.Xa||(this.Xa=function(t){return{renew:function(n){t.Aei(n)}}}(this)),this.Xa}}]),t}(),L5=function(t){function n(n,i,r,e,u,s){var o;(o=t.call(this)||this).Lei=new zo,o.evictOnLoading=function(){o.fn("xht",o.evictOnLoading),o.xei()},o.uS=n,o.bc=i,o.Eei=r,o.Ont=e,o.Mei=u.G7(Wt(o),o.Ont,s),o.Dei=new S5(Wt(o),o.Mei),o.Hht=1===o.Mei.Hii.Iii?l3.DONE:l3.IDLE,o.Mei.yn("s4t",(function(t){o.Ds(t),1===o.Sei&&o.Xht(l3.DONE)}));var c=new Date,h=o.Eei.expirationDate.getTime()-c.getTime();return function(t){return t<2147483647}(h)&&a((function(){return o.xei()}),h),o}bt(n,t);var i=n.prototype;return i.Xht=function(t){this.Hht!==t&&(this.Hht=t,this.Co(new d3))},i.Cn=function(){this.Hht===l3.EVICTED||this.Hht===l3.DONE||this.kei()},i.kei=function(){var t=this;return Ot((function(){var n;return Rt(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,3,4]),t.Xht(l3.LOADING),n=new zo,t.Lei=n,[4,t.Mei.pi(n.f_)];case 1:return i.sent(),t.Xht(l3.DONE),[3,4];case 2:return Bo(i.sent())?t.Xht(l3.IDLE):t.Xht(l3.ERROR),[3,4];case 3:return t.Lei.h_(),[7];case 4:return[2]}}))}))()},i.Hg=function(){this.Lei.g_()},i.rS=function(){this.fD===l3.LOADING?(this.yn("xht",this.evictOnLoading),this.Hg()):this.xei()},i.xei=function(){var t=this;return Ot((function(){var n;return Rt(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,t.Mei.hei()];case 1:return n=i.sent(),[4,E5.G7(t,t.Ont,n).fei()];case 2:return i.sent(),t.Mei.Hii=T3.Eii,t.Xht(l3.EVICTED),[3,4];case 3:return i.sent(),t.Xht(l3.ERROR),[3,4];case 4:return[2]}}))}))()},At(n,[{key:"vii",get:function(){return this.Mei.vii}},{key:"va",get:function(){return this.Xa||(this.Xa=function(t){var n,i={get id(){return t.o},get status(){return t.fD},get source(){return t.yc},get parameters(){return t.WI},get duration(){return t.ct},get cached(){return t.bei.ks()},get secondsCached(){return t.Tei},get percentageCached(){return t.Sei},get bytes(){return t.Nei},get bytesCached(){return t.Iei},get license(){return t.fG.va},start:function(){t.Cn()},pause:function(){t.Hg()},remove:function(){t.rS()},addEventListener:function(t,i){n.yn(t,i)},removeEventListener:function(t,i){n.fn(t,i)}};return n=new eL(t,["s4t","xht"],i),i}(this)),this.Xa}},{key:"o",get:function(){return this.uS}},{key:"fG",get:function(){return this.Dei}},{key:"fD",get:function(){return this.Hht}},{key:"yc",get:function(){return this.bc}},{key:"WI",get:function(){return this.Eei}},{key:"ct",get:function(){return this.Mei.Hii.sU}},{key:"bei",get:function(){return this.Mei.Hii.Nii}},{key:"Tei",get:function(){return this.Mei.Hii.Sii}},{key:"Sei",get:function(){return this.Mei.Hii.Iii}},{key:"Nei",get:function(){return this.Mei.Xii}},{key:"Iei",get:function(){return this.Mei.Hii.bii}}]),n}(na);var j5=function(){function t(t,n){this.Ont=t,this.Cei=n}var n=t.prototype;return n.pii=function(t,n,i){var r=XE();return this.fii(r,t,n,i)},n.fii=function(t,n,i,r){return new L5(t,n,i,this.Ont,this.Cei,r)},t}();yt(),C();var C5=30,x5=5;function O5(t){if(!t)throw new v("Unexpected - The cache parameters are undefined");var n=function(t){if(Fn(t)&&!Rs(t,"%"))return y(t);return t}(t.amount);!function(t){if(function(t){return Fn(t)&&Rs(t,"%")}(t)){var n=m(t);if(A(n)||n<0||n>100)throw new v("The amount as percentage must be between 0 and 100 percent.")}if(!Fn(t)&&A(t))throw new v("The amount must be a number or a string")}(n);var i=function(t){if(!t)return function(){var t=new Date;return t.setMinutes(t.getMinutes()+C5),t}();return t}(t.expirationDate);!function(t){if(t&&!function(t){return!t||Wn(t)&&t>new Date}(t))throw new v("Invalid expiration date for the cache parameters")}(i);var r=function(t){if(void 0===t)return 1/0;return t}(t.bandwidth);!function(t){if(A(t)||t<0)throw new v("The bandwidth must be between zero and infinity.")}(r);var e=function(t){if(!t)return x5;if(A(t))throw new v("The amount must be a number");return t}(t.numberOfParallelTasks);return{amount:n,expirationDate:i,bandwidth:r,parallelTasksThreshold:e,preferredTrackSelection:{audioTrackSelection:[],textTrackSelection:[]}}}var z5=function(){function t(t,n,i,r){var e=this;this.zei=[],this.jei=0,this.Rei=0;var u=this;this.T7t=Ot((function(){var t;return Rt(this,(function(n){switch(n.label){case 0:return(t=u.f5t())?[4,u.FGt(t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))})),this.I7t=function(){var t=e.zei.shift();null==t||t.rS()};var s=this;this.Uei=Ot((function(t,n){var i;return Rt(this,(function(r){switch(r.label){case 0:i=!1,r.label=1;case 1:return i?[3,3]:[4,t.k_("s4t")];case 2:return r.sent(),i=1===t.Hii.Iii,[3,1];case 3:return n.ct<5&&s.T7t(),[2]}}))})),this.oZ=t,this.aE=n,this.$O=new zo,this.Cei=i,this.wU=r,this.Ont=new LB}var n=t.prototype;return n.f5t=function(){if(this.Oei)for(var t=this.Oei.s$t;this.jei<t.length;){var n=t[this.jei];for(void 0===this.Pei&&(this.Pei=P1(n),this.Rei=0);this.Rei<this.Pei.length;){var i=this.Pei[this.Rei];if(this.Rei++,void 0!==i.uXt)return i.uXt}this.jei++,this.Pei=void 0}},n.tr=function(){for(this.V7t=void 0,this.$O.g_(),this.$O=new zo;this.zei.length;)this.I7t()},n.Bei=function(t){return new M3(this.Ont.znt,t,"temporary")},n.FGt=function(t){var n=this;return Ot((function(){var i,r,e,u,s,o,a;return Rt(this,(function(c){switch(c.label){case 0:return(i=e3(t.kZt,n.oZ.ads.allowedMimeTypes)).length?[4,YD.lL.AB(i,fE({sources:i}))]:[2];case 1:return(r=c.sent()).t.aB()?(n.Mei||(n.Mei=new n.Cei(n.aE)),e=n.Ont,u=new j5(e,n.Mei),s=n.Bei(u),o=s.fii(fE({sources:r.yc}),O5({amount:10,bandwidth:AT.lL.OP()||n.wU.aX}),"temporary"),n.zei.push(o),a=n.Mei.G7(o,e,"temporary"),n.$O.g_(),n.$O=new zo,a.pi(n.$O.f_).then(Kn),n.Uei(a,t),[2]):[2]}}))}))()},At(t,[{key:"V7t",get:function(){return this.Oei},set:function(t){this.Oei=t,this.jei=0,this.Rei=0,this.Pei=void 0}}]),t}();yt(),C(),Mt(),yt(),C(),zt(),Mt(),Ut();var R5={key:"",segmentURLsegmentByteRange:"",manifestURL:"",qualityId:"",byteSize:0,startsAndEnds:new HD([0,0]).LB,references:[]},B5={key:"",segmentURLsegmentByteRange:"",manifestURL:"",data:""},P5=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n)||this).Qei=new wU(i),s.Ont=r,s.Yei=e,s.gii=u,s}bt(n,t);var i=n.prototype;return i.tlt=function(n,i,r,e){var u=this;return Ot((function(){var s;return Rt(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,t.prototype.tlt.call(u,n,i,r,e)];case 1:return[2,o.sent()];case 2:return Uo(o.sent()),[3,3];case 3:return[4,u.Qei.tlt(n,i,r,e)];case 4:return s=o.sent(),[4,u.Fei(n,i,s)];case 5:return o.sent(),[2,s]}}))}))()},i.Fei=function(t,i,r){var e=this;return Ot((function(){var u,s,o,a,c,h,f,v;return Rt(this,(function(l){switch(l.label){case 0:return void 0===e.Yei?[2]:(u=e.Ont.Rnt,s=pB(t,i),[4,u.IL(s)]);case 1:return(o=l.sent())?[4,k5(o,e.Yei,u,e.gii)]:[3,3];case 2:case 4:return l.sent(),[3,6];case 3:return l.trys.push([3,5,,6]),a={buffer:r},c=n.lei(s,a,e.Yei),h=c.segmentMetadataEntry,f=c.segmentEntry,[4,e.Ont.Cnt(Ot((function(t){return Rt(this,(function(n){switch(n.label){case 0:return[4,t.Rnt.Mnt(h,e.gii)];case 1:return n.sent(),[4,t.jnt.Mnt(f,e.gii)];case 2:return n.sent(),[2]}}))})))];case 5:throw v=l.sent(),new E3("Unable to store segment with url: "+t,v);case 6:return[2]}}))}))()},n.lei=function(t,n,i){return{segmentMetadataEntry:$u({},R5,{key:t,segmentURLsegmentByteRange:t,references:[i]}),segmentEntry:$u({},B5,{key:t,segmentURLsegmentByteRange:t,data:n,references:[i]})}},n}(yU);var U5,Q5=function(){function t(t){this.aE=t}return t.prototype.G7=function(t,n,i){void 0===i&&(i="persistent");var r=t.yc.sources[0];if(nD(r))throw new v("Caching THEOlive sources is not supported");var e=Boolean(r.useCredentials),u=new AP(this.aE,ny.jT),s=new iV(this.aE,e),o=new _B(n.Pnt,n.Rnt,n.jnt,n.Bnt),a=function(t,n,i,r,e){return new P5(n,t,i,r,e)}(this.aE,o,n,t.o,i),c=new SB,h=new oV(sV(s,o),c,t);return this.Gei(t,n,h,c,u,a,i)},t}(),Y5=function(t){function n(){return t.apply(this,arguments)}return bt(n,t),n.prototype.Gei=function(t,n,i,r,e,u,s){return new _5(t,n,i,r,e,u,s,BB())},n}(Q5),F5=Y5;!function(t){t[t.NOT_INITIALISED=0]="NOT_INITIALISED",t[t.Vei=1]="Vei",t[t.Wei=2]="Wei",t[t.Sm=3]="Sm",t[t.VU=4]="VU",t[t.sLt=5]="sLt"}(U5||(U5={}));var G5=function(t){function n(n,i,r,e,u,s){var o;(o=t.call(this,n,i)||this).$ei=[],o.Jei=0,o.vsi=[],o.nsi=!1,o.v5=!1,o.isi=!0,o.Hei=[],o.Asi=function(t){t.type===Al.jh&&o.isi?o.isi=!1:o.Co(t)},o.qei=function(){o.v5=!0};var a=Wt(o);o.ysi=Ot((function(){return Rt(this,(function(t){switch(t.label){case 0:return a.Jei=1,[4,a.Xei.fti()];case 1:return t.sent(),[2,a.Mti(a.usi.Mc())]}}))}));var c=Wt(o);o.Msi=Ot((function(t){var n;return Rt(this,(function(i){switch(i.label){case 0:return n=new R0(O0.PLAYBACK,z0.GENERAL_LINEAR_ERROR,"There was a problem playing a linear ad."),c.A2t.Co(z2.S2t(n,t)),[4,c.Xei.fti()];case 1:return i.sent(),[2,c.Mti(c.usi.Mc())]}}))})),o.bsi=function(){return o.jti.fti(),o.Mti(o.usi.Mc())},o.Tsi=function(t){var n=new R0(O0.PLAYBACK,z0.GENERAL_NON_LINEAR_ERROR,"There was a problem playing a non linear ad.");return o.A2t.Co(z2.S2t(n,t)),o.jti.fti(),o.Mti(o.usi.Mc())},o.aE=s,o.hti=r,o.jti=new f3(o.Tsi,o.bsi,Wt(o)),o.Xei=new c3(o.Msi,o.ysi,o.jti,e,Wt(o),n.Iu,r),o.msi(o.jti.W7t),o.msi(o.Xei.W7t);var h=new z5(e,s,Y5,u);return o.Kei=new $4(o.Qo,Wt(o),o.A2t,h),o.Xei.T_(o.Asi),o.jti.T_(o.Ds),o.A2t.Qa(o.Xei.A2t),o.A2t.Qa(o.jti.A2t),o.A2t.Qa(o.Kei),o.psi=new F1(Wt(o),o.Qo),o.Iu.yn(fS.pn,o.Ds),o.Qo.yn(Al.jh,o.qei),o}bt(n,t);var i=n.prototype;return i.E8t=function(t,n,i){n===ER.kit&&this.v5?Xo(this.l5t([t])):this.Hei.push(t)},i.Q_=function(){return this.Xei.rti?this.Xei.U_:this.Ktt()},i.F_=function(t,n){},i.Td=function(){return this.Xei.ct},i.V_=function(){return this.Xei.G_},i.W_=function(){},i.X_=function(){},i.hg=function(){return this.Xei.og},i.ag=function(t){this.og!==t&&(this.Xei.og=t,this.Co(new bD(this.U_,this.zg)))},i._g=function(){return this.Xei.fg},i.Ng=function(){return this.Xei.Sg},i.Dg=function(){return HD.oU().ks()},i.Og=function(){return this.Xei.Cg},i.Pg=function(){return this.Xei.Rg},i.Bg=function(){return this.Xei.zg},i.Ug=function(t){this.zg!==t&&(this.Xei.zg=t,this.Co(new bD(this.U_,this.zg)))},i.Xg=function(){var t=this;return Ot((function(){var n;return Rt(this,(function(i){switch(i.label){case 0:return t.Zei?[2]:(t.Co(new yD(t.U_)),t.qei(),t.Hei.length?(t.Zei=t.l5t(t.Hei),[4,t.Zei]):[3,2]);case 1:i.sent(),t.Zei=void 0,i.label=2;case 2:return[4,t.Kei.j7t(t.Qo.Q_())];case 3:return i.sent(),4!==(n=t.Jei)&&1!==n&&5!==n||(!t.I$t&&t.$ei.length?t.tsi():t.I$t?(t.isi=!0,t.Xei.Xg()):(t.Q1t(),t.Qo.Xg()),t.Jei=3),[2]}}))}))()},i.Hg=function(){3===this.Jei&&(this.Xei.Hg(),this.Jei=4)},i.b7t=function(){this.Kei.b7t()},i.Cn=function(){this.Jei=1,this.Kei.Cn()},i.Zg=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return t.Kei&&(t.Kei.jn(),t.esi(!1),t.jti.Zg(),t.Jei=5,t.I$t&&(t.Kei.G7t(t.I$t.Fqt),t.I$t=void 0)),t.v5=!1,t.isi=!1,po(t.$ei),t.E2t&&(t.Q1t(),t.Qo.ge()),po(t.Hei),[4,t.Xei.Zg()];case 1:return n.sent(),[4,t.hti.tr()];case 2:return n.sent(),[2]}}))}))()},i.Ny=function(){this.Xei.$Kt(),this.jti.$Kt()},i.Wg=function(){this.hti.Wg(),this.qei()},i.b2t=function(t){return!(t.type!==Al.Ov||!this.Kei||!this.Kei.x7t(-1))&&(this.Kei.k7t().then(Kn),!0)},i.ge=function(){void 0!==this.Xei.ati&&(this.hti.ge(),this.Xei.ge()),void 0!==this.jti.Uti&&this.jti.ge()},i.be=function(){this.hti.be(),this.Xei.be(),this.jti.be()},i.l5t=function(t){var n=this;return Ot((function(){var i;return Rt(this,(function(r){switch(r.label){case 0:return[4,v3.tii(t,n.aE,n.A2t)];case 1:return(i=r.sent()).length?(n.Kei.F7t(i),n.A2t.Co(new $R),n.E2t||n.Qo.fg||n.Kei.j7t(n.Qo.Q_()),0!==n.Jei&&5!==n.Jei||n.Cn(),[2]):("Ads could not be loaded.",n.A2t.Co(z2.S2t(new R0(O0.ADBLOCK,z0.FILE_NOT_FOUND),"Ads could not be loaded.")),n.v5&&!n.I$t&&0===n.$ei.length&&n.ssi(),[2])}}))}))()},i.B7t=function(t){var n;(n=this.$ei).push.apply(n,jt(t));for(var i=0;i<t.length;i++){t[i];this.v5&&!this.E2t&&this.tsi()}},i.tsi=function(){var t=this;return Ot((function(){var n;return Rt(this,(function(i){switch(i.label){case 0:return 2===t.Jei?[2]:t.nsi?[3,4]:(t.nsi=!0,t.Jei=2,n=t.I$t,t.rsi(),t.I$t?[4,t.I$t.Fqt.p7t(t.A2t)]:[3,3]);case 1:return i.sent(),t.osi()||(t.nsi=!1),t.A2t.Co(new t4(t.hsi(t.I$t))),[4,t.asi()];case 2:return i.sent(),[3,4];case 3:(null==n?void 0:n.Fqt.A7t())&&t.A2t.Co(new VR(t.hsi(n))),t.nsi=!1,t.Jei=1,t.ssi(),i.label=4;case 4:return[2]}}))}))()},i.ssi=function(){this.Q1t(),this.Qo.ge(),this.Qo.G_?this.Qo.Co(new pD(this.Qo.Q_())):this.Qo.Xg()},i.rsi=function(){var t;if(this.I$t&&this.osi())t=this.I$t.Fqt;else{if(0===this.$ei.length)return;t=this.$ei.shift()}if(t){var n=t.Mc();n?this.I$t=n:(this.I$t&&(this.Kei.G7t(this.I$t.Fqt),this.I$t=void 0),this.I$t=void 0)}},i.asi=function(){var t=this;return Ot((function(){var n,i;return Rt(this,(function(r){switch(r.label){case 0:return n=t.I$t?function(t){var n,i,r=null==(i=t.pKt)||null==(n=i.HHt)?void 0:n.XHt();return void 0===r?void 0:new B1(r)}(t.I$t):void 0,n?t.I$t?(t.usi=n,t.lsi(t.I$t.wXt),t.dsi(c0.oqt),i=t.usi.Mc(),t.I$t.Fqt.A7t()&&(t.jti.fti(),1===t.I$t.Fqt.aut&&t.A2t.Co(new XR(t.hsi(t.I$t)))),[4,t.Mti(i)]):[2]:[3,2];case 1:return r.sent(),[3,3];case 2:t.Jei=1,t.nsi=!1,t.I$t=void 0,t.tsi(),r.label=3;case 3:return[2]}}))}))()},i.Mti=function(t){var n=this;return Ot((function(){var i,r,e,u,s,o,a,c,h,f,v,l,d,g,w;return Rt(this,(function(y){switch(y.label){case 0:return t?(r=Rn(t.uXt),e=Rn(t.dXt),s=null!=(u=null==(i=t.lXt)?void 0:i.RXt)?u:[],o=s.length>0,a=n.I$t,c=n.hsi(a),t.uXt?(t.uXt.Xl=a,void 0!==a.Wit.skipOffset&&(h=Z0.dKt(a.Wit.skipOffset,t.uXt.ct))&&h<t.uXt.ct&&(t.uXt.CZt=h),f=c.n$t(t.uXt,s,t.fXt,a.Wit),n.jti.fti(),n.z4t(),[4,n.Xei.Mti(f,t.lt,{width:n.Qo.we.offsetWidth,height:n.Qo.we.offsetHeight})]):[3,2]):[3,7];case 1:y.sent(),r=!0,y.label=2;case 2:return t.dXt?((v=t.dXt._Xt[0]).Xl=a,void 0!==a.Wit.skipOffset&&(l=Z0.dKt(a.Wit.skipOffset,n.Qo.Td()))&&(v.Xl.CZt=l),d=r?[]:s,g=c.r$t(v,d,t.dXt,t.fXt,a.Wit),r&&n.Xei.Pti(),[4,n.jti.Mti(g,t.lt,{width:n.Qo.we.offsetWidth,height:n.Qo.we.offsetHeight})]):[3,4];case 3:y.sent(),e=!0,y.label=4;case 4:return r&&(n.Jei=3,n.Xei.ge(),w=0===c.cPt,n.isi=w,n.hti.Hg(),n.Xei.Xg(),n.Qo.Hg(),n.Qo.be(),n.z4t(),n.Xei.Lti()),e&&(n.Jei=3,n.jti.ge(),n.jti.Lti()),(r||e||o)&&n.fsi(t.oXt),r||e?[3,6]:[4,n._si()];case 5:y.sent(),y.label=6;case 6:return!r&&e&&(n.osi()||n.$ei.length>0?n.tsi():(n.ssi(),n.I$t=a)),[3,10];case 7:return null!==t?[3,9]:[4,n._si()];case 8:return y.sent(),[3,10];case 9:n.esi(!0),y.label=10;case 10:return[2]}}))}))()},i._si=function(){var t=this.usi;return this.Mti(t&&t.Mc())},i.esi=function(t){this.dsi(c0.hqt),this.gsi(),this.Jei=1;var n=void 0!==this.I$t&&this.I$t.Fqt.v7t();if(this.nsi=!1,n)t&&(this.Jei=1,this.tsi());else{if(!this.E2t)return;this.Qo.ge(),!this.Qo.G_&&t&&this.Qo.Xg(),this.Q1t()}},i.Q1t=function(){this.wsi(),t.prototype.Q1t.call(this)},i.wsi=function(){if(this.Qo.G_&&(this.Jei=5),this.I$t){var t=this.I$t.Fqt;t.A7t()&&this.A2t.Co(new VR(this.hsi(this.I$t))),this.Kei.G7t(t),this.I$t=void 0}},i.lsi=function(t){this.vsi=this.vsi.concat(t)},i.gsi=function(){this.vsi=[]},i.msi=function(t){this.Qo.we.appendChild(t)},i.dsi=function(t){for(var n=0,i=this.vsi;n<i.length;n++){var r=i[n];r.eF===t&&G$(r.eventURL)}},i.fsi=function(t){this.Xei.tti(c0.$Zt);for(var n=0;n<t.length;n++){var i=t[n];G$(i)}},i.Yit=function(t){for(var n=this.L8t(),i=0;i<n.length;i++){var r=n[i];Z$(r.sources,r.timeOffset)||t.W4(r,ER.kit,!1)}},i.L8t=function(){for(var t,n=[],i=0,r=this.Sit.concat(this.Dit);i<r.length;i++){var e=r[i];n.push(e.Wit)}for(var u=this.$ei.concat(this.Kei.Dit.filter((function(t){return!t.u$t()}))),s=0;s<u.length;s++)for(var o=0,a=u[s].s$t;o<a.length;o++){var c=a[o];c.W||n.push(c.Wit)}return(t=n).push.apply(t,jt(this.Hei)),Do(n)},i.osi=function(){return!!this.I$t&&P1(this.I$t).some((function(t){return t.uXt}))},i.hsi=function(t){return t.Fqt.l7t},i.$ti=function(){return this.psi},i.Vg=function(){return this.hti.Vg()},i.C_=function(){return this.hti.C_()},i.L2t=function(t){this.Kei.L2t(t)},i.gn=function(){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return i.sent(),n.Qo.fn(Al.jh,n.qei),n.A2t.DU(n.Xei.A2t),n.A2t.DU(n.jti.A2t),n.A2t.DU(n.Kei),n.Xei.gn(),n.jti.gn(),[4,n.hti.gn()];case 2:return i.sent(),[2]}}))}))()},At(n,[{key:"m2t",get:function(){return this}},{key:"w2t",get:function(){return n.w2t}},{key:"Iit",get:function(){return this.I$t?this.hsi(this.I$t):null}},{key:"Sit",get:function(){return this.I$t?[this.Xei.ati,this.jti.Uti].filter(Rn):[]}},{key:"Dit",get:function(){var t=this.$ei.concat(this.Kei.Dit.filter((function(t){return!t.u$t()})));return ko(t,(function(t){return t.l7t.Oc.filter((function(t){return!t.u$t()}))}))}},{key:"Eit",get:function(){return this.Kei.Dit.map((function(t){return t.l7t}))}}],[{key:"w2t",get:function(){return U1.y$t}}]),n}(v4),V5=function(){function t(){}var n=t.prototype;return n.YU=function(t){return t&&("string"!=typeof t.integration||t.integration===AI.DEFAULT||t.integration===AI.CSAI||t.integration===AI.THEO)},n.f2t=function(t,n,i){var r=new nI(t.we,i,t.Hj,t.Qtt,t.Qg,t.Htt,t.Ol);return new G5(t,n,r,i,t.Qtt,t.Hj)},n.W4=function(t,n,i,r){i.E8t(t,n,r)},n.hY=function(t){var n=o1(t.sources);if(n){var i={integration:AI.CSAI,sources:n};"vast"===i.sources.type&&void 0===t.timeOffset?t.timeOffset=0:"vmap"===i.sources.type&&void 0!==t.timeOffset&&oi("property timeOffset will be ignored for vmap ad sources");var r=c1(t.timeOffset);void 0!==r&&(i.timeOffset=r);var e=c1(t.skipOffset);return void 0!==e&&(i.skipOffset=e),i}},At(t,[{key:"d2t",get:function(){return G5.w2t}}]),t}();II.lL.GU(new V5),yt(),C(),yt(),C(),pt();var W5=function(){function t(t,n){this.X8t=void 0,this.f3=!1,this.X7=t;var i=u.createElement("div");i.className="theoplayer-ima-wrapper",_u(i),i.style.zIndex="10",xn.Qs&&function(t,n){t.addEventListener(n,mu)}(i,"mousedown"),n.appendChild(i);var r=u.createElement("div");r.className="theoplayer-ima",r.style.height="100%",this.Nsi=r,i.appendChild(r),this.j0t=i,this.X8t=new google.ima.AdDisplayContainer(this.Nsi,this.X7)}var n=t.prototype;return n.oX=function(){var t;this.f3||(null==(t=this.X8t)||t.initialize(),this.f3=!0)},n.Esi=function(t){"linear"===t?this.j0t.style.marginTop="0px":"nonlinear"===t&&(this.j0t.style.marginTop="-45px")},n.ge=function(){this.j0t.style.opacity="1",this.j0t.style.pointerEvents=""},n.be=function(){this.j0t.style.opacity="0",this.j0t.style.pointerEvents="none"},n.h_=function(){var t;null==(t=this.X8t)||t.destroy(),this.X8t=void 0},At(t,[{key:"W7t",get:function(){return this.j0t}},{key:"Ssi",get:function(){return this.Nsi.offsetHeight}},{key:"Isi",get:function(){return this.Nsi.offsetWidth}},{key:"Dsi",get:function(){return this.X8t}}]),t}();yt(),C(),zt(),Mt(),Ut(),yt(),C(),Mt(),yt(),C(),pt();var X5=function(){function t(t){this.ksi=t;var n=new google.ima.CompanionAdSelectionSettings;n.resourceType=google.ima.CompanionAdSelectionSettings.ResourceType.ALL,n.creativeType=google.ima.CompanionAdSelectionSettings.CreativeType.ALL,n.sizeCriteria=google.ima.CompanionAdSelectionSettings.SizeCriteria.IGNORE,this.PXt=t.getCompanionAds(0,0,n)}return At(t,[{key:"yZt",get:function(){return this.ksi.getAdId()}},{key:"p9t",get:function(){var t=this.ksi.getAdPodInfo();if(void 0!==t)try{return{M5t:t.getAdPosition(),$Jt:t.getMaxDuration(),Lsi:t.getPodIndex(),cPt:t.getTimeOffset(),b5t:t.getTotalAds(),xsi:t.getIsBumper()}}catch(t){return}}},{key:"eXt",get:function(){return this.ksi.getAdSystem()}},{key:"Csi",get:function(){return this.ksi.getAdvertiserName()}},{key:"WXt",get:function(){var t;return null!=(t=this.ksi.getApiFramework())?t:void 0}},{key:"lXt",get:function(){return this.PXt.map((function(t){return{XXt:t.getAdSlotId(),Nz:t.getContentType(),t4t:t.getContent(),Ti:t.getHeight(),ji:t.getWidth()}}))}},{key:"Nz",get:function(){var t;return null!=(t=this.ksi.getContentType())?t:void 0}},{key:"IXt",get:function(){return this.ksi.getCreativeId()}},{key:"a8t",get:function(){return this.ksi.getCreativeAdId()}},{key:"Osi",get:function(){return this.ksi.getDealId()}},{key:"xM",get:function(){return this.ksi.getDescription()}},{key:"ct",get:function(){return this.ksi.getDuration()}},{key:"ji",get:function(){return this.ksi.getWidth()}},{key:"Ti",get:function(){return this.ksi.getHeight()}},{key:"s8t",get:function(){var t;return null!=(t=this.ksi.getMediaUrl())?t:void 0}},{key:"jsi",get:function(){return this.ksi.getMinSuggestedDuration()}},{key:"o8t",get:function(){return this.ksi.getSkipTimeOffset()}},{key:"Rsi",get:function(){return this.ksi.getSurveyUrl()}},{key:"kz",get:function(){return this.ksi.getTitle()}},{key:"n8t",get:function(){return this.ksi.getTraffickingParameters()}},{key:"r8t",get:function(){return this.ksi.getTraffickingParametersString()}},{key:"fXt",get:function(){return this.ksi.getUniversalAdIds().map((function(t){return{c8t:t.getAdIdRegistry(),l8t:t.getAdIdValue()}}))}},{key:"i7t",get:function(){return this.ksi.getUiElements()}},{key:"h8t",get:function(){return this.ksi.getVastMediaBitrate()}},{key:"i8t",get:function(){return this.ksi.getVastMediaHeight()}},{key:"t8t",get:function(){return this.ksi.getVastMediaWidth()}},{key:"q9t",get:function(){return this.ksi.getWrapperAdIds()}},{key:"K9t",get:function(){return this.ksi.getWrapperAdSystems()}},{key:"J9t",get:function(){return this.ksi.getWrapperCreativeIds()}},{key:"l9t",get:function(){return this.ksi.isLinear()}}]),t}();function Z5(){return[google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,google.ima.AdEvent.Type.CLICK,google.ima.AdEvent.Type.DURATION_CHANGE,google.ima.AdEvent.Type.EXPANDED_CHANGED,google.ima.AdEvent.Type.STARTED,google.ima.AdEvent.Type.IMPRESSION,google.ima.AdEvent.Type.PAUSED,google.ima.AdEvent.Type.RESUMED,google.ima.AdEvent.Type.AD_PROGRESS,google.ima.AdEvent.Type.AD_BUFFERING,google.ima.AdEvent.Type.FIRST_QUARTILE,google.ima.AdEvent.Type.MIDPOINT,google.ima.AdEvent.Type.THIRD_QUARTILE,google.ima.AdEvent.Type.COMPLETE,google.ima.AdEvent.Type.USER_CLOSE,google.ima.AdEvent.Type.LINEAR_CHANGED,google.ima.AdEvent.Type.LOADED,google.ima.AdEvent.Type.AD_CAN_PLAY,google.ima.AdEvent.Type.AD_METADATA,google.ima.AdEvent.Type.AD_BREAK_READY,google.ima.AdEvent.Type.INTERACTION,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,google.ima.AdEvent.Type.SKIPPED,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,google.ima.AdEvent.Type.LOG,google.ima.AdEvent.Type.VIEWABLE_IMPRESSION,google.ima.AdEvent.Type.VOLUME_CHANGED,google.ima.AdEvent.Type.VOLUME_MUTED]}var H5=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Ic=[],e.zsi=function(t){t.getAd().isLinear()?e.X8t.Esi("linear"):e.X8t.Esi("nonlinear")},e.Psi=function(){e.e$t.resize(e.X8t.Isi,e.X8t.Ssi,google.ima.ViewMode.NORMAL)},e.forwardAdEventListener=function(t){var n=t.getAd(),i=function(t){var n;return(Zt(n={},google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,m4.D5t),Zt(n,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,m4.E5t),Zt(n,google.ima.AdEvent.Type.CLICK,m4.k5t),Zt(n,google.ima.AdEvent.Type.DURATION_CHANGE,m4.Lv),Zt(n,google.ima.AdEvent.Type.EXPANDED_CHANGED,m4.L5t),Zt(n,google.ima.AdEvent.Type.STARTED,m4.nLt),Zt(n,google.ima.AdEvent.Type.IMPRESSION,m4.x5t),Zt(n,google.ima.AdEvent.Type.PAUSED,m4.VU),Zt(n,google.ima.AdEvent.Type.RESUMED,m4.C5t),Zt(n,google.ima.AdEvent.Type.AD_PROGRESS,m4.A5t),Zt(n,google.ima.AdEvent.Type.AD_BUFFERING,m4.O5t),Zt(n,google.ima.AdEvent.Type.FIRST_QUARTILE,m4.j5t),Zt(n,google.ima.AdEvent.Type.MIDPOINT,m4.HZt),Zt(n,google.ima.AdEvent.Type.THIRD_QUARTILE,m4.R5t),Zt(n,google.ima.AdEvent.Type.COMPLETE,m4.XZt),Zt(n,google.ima.AdEvent.Type.USER_CLOSE,m4.P5t),Zt(n,google.ima.AdEvent.Type.LINEAR_CHANGED,m4.z5t),Zt(n,google.ima.AdEvent.Type.LOADED,m4.B5t),Zt(n,google.ima.AdEvent.Type.AD_CAN_PLAY,m4.U5t),Zt(n,google.ima.AdEvent.Type.AD_METADATA,m4.Q5t),Zt(n,google.ima.AdEvent.Type.AD_BREAK_READY,m4.F5t),Zt(n,google.ima.AdEvent.Type.INTERACTION,m4.Y5t),Zt(n,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,m4.G5t),Zt(n,google.ima.AdEvent.Type.SKIPPED,m4.V5t),Zt(n,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,m4.W5t),Zt(n,google.ima.AdEvent.Type.LOG,m4.H5t),Zt(n,google.ima.AdEvent.Type.VIEWABLE_IMPRESSION,m4.X5t),Zt(n,google.ima.AdEvent.Type.VOLUME_CHANGED,m4.Z5t),Zt(n,google.ima.AdEvent.Type.VOLUME_MUTED,m4.q5t),n)[t]}(t.type),r={type:i,date:new Date,Rit:n?e.Bsi(n):void 0,e9t:b4(i,t.getAdData())};e.Co(r)},e.forwardAdErrorEventListener=function(t){e.Co({date:new Date,Rit:void 0,type:A4.K5t,e9t:{R9t:N4(t.getError())}})},e.e$t=n,e.X8t=i,e.Wu=r,e.Wu.yn(fS.pn,e.Psi),e.e$t.init(e.X8t.Isi,e.X8t.Ssi,google.ima.ViewMode.NORMAL),e.e$t.addEventListener(google.ima.AdEvent.Type.LOADED,e.zsi),e.e$t.addEventListener(Z5(),e.forwardAdEventListener),e.e$t.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,e.forwardAdErrorEventListener),e}bt(n,t);var i=n.prototype;return i.Ug=function(t){var n;null==(n=this.e$t)||n.setVolume(t)},i.Bg=function(){return this.e$t.getVolume()},i.C9t=function(){return this.e$t.getRemainingTime()},i.h_=function(){po(this.Ic),this.Wu.fn(fS.pn,this.Psi),this.e$t.removeEventListener(google.ima.AdEvent.Type.LOADED,this.zsi),this.e$t.removeEventListener(Z5(),this.forwardAdEventListener),this.e$t.removeEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.forwardAdErrorEventListener),this.e$t.destroy()},i.Cn=function(){this.e$t.start()},i.G8t=function(){this.e$t.resume()},i.Hg=function(){this.e$t.pause()},i.Ny=function(){this.e$t.skip()},i.Zg=function(){this.e$t.stop()},i.w9t=function(){var t=this.e$t.getCurrentAd();if(t)return this.Bsi(t)},i.q8t=function(){return this.e$t.getCuePoints()},i.Bsi=function(t){var n=co(this.Ic,(function(n){return n.ksi===t}));return n||(n=new X5(t),this.Ic.push(n)),n},i.r7t=function(t){this.e$t.updateAdsRenderingSettings($5(t))},n}($o);yt(),C(),pt(),Mt();var K5=function(t){function n(n,i){var r;return(r=t.call(this,"a7t")||this).Qsi=n,r.j0t=i,r}return bt(n,t),n.prototype.fa=function(){return new q5(this.Qsi)},At(n,[{key:"Usi",get:function(){return this.Qsi}},{key:"W7t",get:function(){return this.j0t}}]),n}(am),q5=function(t){function n(n){var i;return(i=t.call(this,"adsmanagerloaded")||this).Qsi=n,i}return bt(n,t),At(n,[{key:"adsManager",get:function(){return this.Qsi}}]),n}(ra),J5=function(t){function n(n,i){var r;return(r=t.call(this)||this).onAdsManagerLoadedListener=function(t){if(r.Gsi&&r.Vsi&&r.Fsi){var n,i=$5(r.Vsi),e=r.Gsi,u=t.getAdsManager({get currentTime(){return e.U_},get duration(){return e.ct}},i),s=new H5(u,r.Ysi,r.Wu);r.Co(new K5(u,r.Ysi.W7t)),null==(n=r.Fsi)||n.LL(s),r.Fsi=void 0}},r.onAdsManagerErrorListener=function(t){var n,i={pL:t.getError().getMessage(),N5t:t.getError().getVastErrorCode(),Sqt:t.getError().getErrorCode(),Av:M4(t.getError().getType()),I5t:void 0};null==(n=r.Fsi)||n.xL(i),r.Fsi=void 0},r.Wu=i,r.Ysi=n,r}bt(n,t);var i=n.prototype;return i.V8t=function(){var t;null==(t=this.W8t)||t.contentComplete()},i.l5t=function(t,n,i){var r=this;return Ot((function(){var e;return Rt(this,(function(u){if(r.Fsi)throw new v("Only one ImaAdsRequest can be made at a time.");if(!r.Ysi.Dsi)throw new v("AdDisplayContainer is not initialized.");return r.W8t=new google.ima.AdsLoader(r.Ysi.Dsi),r.W8t.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,r.onAdsManagerLoadedListener),r.W8t.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,r.onAdsManagerErrorListener),r.Fsi=new Bc,r.Gsi=n,r.Vsi=i,e=new google.ima.AdsRequest,t.S3t?e.adTagUrl=t.S3t:t.N3t&&(e.adsResponse=t.N3t),e.linearAdSlotWidth=t.p3t,e.linearAdSlotHeight=t.A3t,e.nonLinearAdSlotWidth=t.y3t,e.nonLinearAdSlotHeight=t.M3t,e.contentDuration=t.D3t,e.setAdWillAutoPlay(t.b3t),e.setAdWillPlayMuted(t.T3t),t.I3t&&(e.omidAccessModeRules=t.I3t),r.W8t.requestAds(e),[2,r.Fsi.OL]}))}))()},i.h_=function(){var t;void 0!==this.W8t&&(this.W8t.removeEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoadedListener),this.W8t.removeEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdsManagerErrorListener),this.W8t.destroy(),this.W8t=void 0),null==(t=this.Fsi)||t.xL("AdsLoader destroyed"),this.Fsi=void 0},n}($o);function $5(t){var n=new google.ima.AdsRenderingSettings;return n.enablePreloading=t.e7t,t.i7t&&(n.uiElements=t.i7t),n.mimeTypes=t.t7t,void 0!==t.n7t&&(n.playAdsAfterTime=t.n7t),void 0!==t.s7t&&(n.loadVideoTimeout=t.s7t),void 0!==t.e8t&&(n.bitrate=t.e8t),void 0!==t.n7t&&(n.playAdsAfterTime=t.n7t),n.restoreCustomPlaybackStateOnAdBreakComplete=!0,n}yt(),C(),pt(),Mt();var t6=function(t){function n(n){var i;return(i=t.call(this)||this).Qo=n,i.Wsi=i.Qo.Q_(),i.Qo.yn(Al.fm,(function(){i.Qo.Eg||(i.Wsi=i.Qo.Q_()),i.Co(new om(i.U_,void 0))})),i}return bt(n,t),n.prototype.tr=function(){this.Wsi=0},At(n,[{key:"U_",get:function(){return this.Qo.Eg?this.Wsi:this.Qo.Q_()}},{key:"ct",get:function(){return this.Qo.Td()}},{key:"og",get:function(){return this.Qo.og}},{key:"zg",get:function(){return this.Qo.zg}}]),n}($o);W4.lL.registerWebImaAdPlayerConstructor((function(t,n,i){F4(i);var r=G4(i)?t.Vg():void 0,e=new W5(r,t.we),u=new J5(e,t.Iu),s=new t6(t);return new V4(t,n,i,t.Gtt,e,u,s)})),yt(),C(),yt(),C(),Xt(),zt(),pt(),Mt(),Ut(),yt(),C(),zt(),pt(),Mt(),Ut();var n6=[Al.Lv,Al.Ov],i6=function(t){function n(n,i,r){var e;return(e=t.call(this,r)||this).rit=n,e.x4t=i,e.Ksi=n.Q_(),e}bt(n,t);var i=n.prototype;return i.ur=function(t,n,i,r){this.rit.yn(n6,this.Ds),r.fg&&!r.G_||this.Qo.Xg()},i.ar=function(t,n,i){this.rit.fn(n6,this.Ds)},i.F_=function(t,n){},i.z_=function(t){},i.Xsi=function(n,i){return t.prototype.F_.call(this,n,i)},i.Zsi=function(n){return t.prototype.z_.call(this,n)},i.B_=function(){return this.rit.bt},i.Wa=function(){return this.rit.Wa()},i.Td=function(){return this.rit.Td()},i.Dg=function(){if(this.qsi())return this.rit.Dg();var t=HD.xn(this.rit.Dg()),n=HD.xn(this.x4t.Dg()).KA(this.Ksi);return t.YB(n).Sn(HD.rU(0,this.Q_())).ks()},i.Q_=function(){return this.Jsi(t.prototype.Q_.call(this))},i.Jsi=function(t){return this.Qo===this.x4t?this.Ksi+t:t},i.j_=function(){var t=HD.xn(this.rit.j_()),n=HD.xn(this.x4t.j_());return t.YB(n.KA(this.Ksi)).ks()},i.nw=function(n){if(mo(n6,n.type))return!0;if(this.Qo===this.x4t)switch(n.type){case Al.fm:return this.Co(new om(this.Jsi(n.currentTime),n.currentProgramDateTime)),!0;case Al.Zv:return this.Co(new UL(this.Jsi(n.currentTime))),!0;case Al.jh:return this.Co(new yD(this.Jsi(n.currentTime))),!0;case Al.Sh:return this.Co(new wD(this.Jsi(n.currentTime))),!0;case Al.Ov:return this.Co(new pD(this.Jsi(n.currentTime))),!0;case Al.im:return this.Co(new _D(this.Jsi(n.currentTime))),!0;case Al.$v:return this.Co(new kD(this.Jsi(n.currentTime))),!0;case Al.qv:return this.Co(new AD(this.Jsi(n.currentTime),n.playbackRate)),!0;case Al._m:return this.Co(new bD(this.Jsi(n.currentTime),n.volume)),!0;case Al.xv:return this.Co(new gD(this.Jsi(n.currentTime),n.readyState)),!0;case gk.pm:return this.Co(new bk(this.Jsi(n.currentTime),n.readyState)),!0;case gk.Am:return this.Co(new Mk(this.Jsi(n.currentTime),n.readyState)),!0;case gk.ym:return this.Co(new _k(this.Jsi(n.currentTime),n.readyState)),!0;case gk.Mm:return this.Co(new pk(this.Jsi(n.currentTime),n.readyState)),!0;case gk.Nw:return this.Co(new Ak(this.Jsi(n.currentTime),n.readyState)),!0;case gk.Tm:return this.Co(new kk(this.Jsi(n.currentTime))),!0;case gk.Sm:return this.Co(new Tk(this.Jsi(n.currentTime))),!0;case Al.Cv:return this.Co(new WG(this.Jsi(n.currentTime),n.initDataType,n.initData)),!0}return t.prototype.nw.call(this,n)},i.gn=function(){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return n.rit.fn(n6,n.Ds),[4,t.prototype.gn.call(n,!0)];case 1:return i.sent(),[2]}}))}))()},At(n,[{key:"Hsi",get:function(){return this.Qo===this.rit?this.x4t:this.rit}}]),n}(zT);function r6(t,n){n.og=t.og,n.zg=t.zg,n.gg=t.gg}yt(),C(),Mt();var e6,u6=function(t){function n(n,i,r){return t.call(this,n,i,r)}bt(n,t);var i=n.prototype;return i.ur=function(n,i,r,e){t.prototype.ur.call(this,n,i,r,e),this.Hsi.Hg(),this.$si(i,r).style.flex="1"},i.ar=function(n,i,r){t.prototype.ar.call(this,n,i,r),this.$si(i,r).style.flex="0"},n}(i6),s6=function(t){function n(n,i){return t.call(this,n,i,n)}bt(n,t);var i=n.prototype;return i.qsi=function(){return!0},i.$si=function(t,n){return t},i.tni=function(t,n){return n},i.F_=function(n,i){return t.prototype.Xsi.call(this,n,i)},i.z_=function(n){return t.prototype.Zsi.call(this,n)},n}(u6),o6=function(t){function n(n,i){return t.call(this,n,i,i)}bt(n,t);var i=n.prototype;return i.qsi=function(){return!1},i.$si=function(t,n){return n},i.tni=function(t,n){return t},i.ur=function(n,i,r,e){t.prototype.ur.call(this,n,i,r,e),this.rit.be();for(var u=0,s=[i,r];u<s.length;u++){s[u].style.transition=""}},i.ar=function(n,i,r){t.prototype.ar.call(this,n,i,r),this.rit.ge()},n}(u6);yt(),C(),pt(),function(t){t.SINGLE="SINGLE",t.DOUBLE="DOUBLE",t.LSHAPE_AD="LSHAPE_AD",t.LSHAPE_CONTENT="LSHAPE_CONTENT"}(e6||(e6={}));var a6=function(){function t(t){this.pg=!1,this.o=t.o,this.MS=t.MS,this.Jpt=t.Jpt,this.rni=t.rni||"SINGLE",this.oni=t.oni,this.RS=t.bS,this.fzt=t.ARt,this.jx=t.ct,this.eni=t.sni,this.nni()}var n=t.prototype;return n.Yn=function(t){var n,i,r;this.jx=null!=(n=t.ct)?n:this.jx,this.RS=null!=(i=t.bS)?i:this.RS,this.eni=null!=(r=t.sni)?r:this.eni,this.nni()},n.nni=function(){void 0===this.jx&&void 0!==this.RS?this.jx=this.RS-this.MS:void 0===this.RS&&void 0!==this.jx&&(this.RS=this.MS+this.jx)},At(t,[{key:"ini",get:function(){var t,n,i=null!=(n=null!=(t=this.eni)?t:this.jx)?n:this.fzt;return void 0!==i?this.MS+i:this.RS?this.RS:void 0}},{key:"ct",get:function(){var t=this.ini;return void 0===t?void 0:t-this.MS}}]),t}();yt(),C(),zt(),Mt(),Ut(),wt();var c6,h6="urn:google:dai:2018";!function(t){t.AD_LOADING="adloading",t.AD_LOADED="adloaded",t.AD_ERROR="aderror"}(c6||(c6={}));var f6=function(t){function n(n,i){var r;return(r=t.call(this)||this).wni=function(){r.Tni=void 0,r.vni(),r.x4t.Zg()},r.mni=function(t){r.bni.Sni(t)},r.Hn=function(t){var n=t.Lt;if(n.zt===Q_.ZA&&!(n.Av!==mA.ID3&&n.Av!==mA.EVENT_STREAM||n.Av===mA.EVENT_STREAM&&n.fv!==h6)){if(n.yn(gm.lw,r.Nni),n.yn(gm.fw,r.Ini),n.L)for(var i=0,e=n.L.Rw;i<e.length;i++){var u=e[i];r.Nni(new RC(u))}n._v=A_.vv,r.Mni=n}},r.Nni=function(t){t.yS.yn(kA.mS,r.Dni)},r.Ini=function(t){t.yS.fn(kA.mS,r.Dni)},r.Dni=function(t){var n,i;if(r.lni)if((null==(n=r.Mni)?void 0:n.Av)===mA.ID3){var e,u=t.yS.O;if(qx(u))if(r.Tni!==u.text)r.Tni=u.text,null==(e=r.hni)||e.processMetadata("ID3",u.text,t.yS.MS)}else if((null==(i=r.Mni)?void 0:i.Av)===mA.EVENT_STREAM){var s,o=t.yS.O;null==(s=r.hni)||s.processMetadata(h6,o,t.yS.MS)}},r._ni=function(){r.Co(new ra("adloading"))},r.gni=function(){r.Co(new ra("adloaded"))},r.x4t=n,r.x4t.eS=!1,r.x4t.yg=FD.LT,r.bni=i,r}bt(n,t);var i=n.prototype;return i.GZ=function(t,n,i){var r=this;if(void 0===this.hni){var e,u;if(void 0===(null==(u=ru.google)||null==(e=u.ima)?void 0:e.dai))throw new v("IMA DAI SDK missing for THEOads");this.hni=new google.ima.dai.api.StreamManager(this.x4t.we.querySelector("video"),this.x4t.we)}var s=this.hni;this.ani(),s.reset();var o=new google.ima.dai.api.PodStreamRequest;return o.networkCode=t,o.customAssetKey=n,o.format="hls",o.adTagParameters=i,this.uni=this.cni([google.ima.dai.api.StreamEvent.Type.STREAM_INITIALIZED,google.ima.dai.api.StreamEvent.Type.ERROR]).then((function(t){if(t.type===google.ima.dai.api.StreamEvent.Type.ERROR)throw new v("DAI stream request failed");r.lni=t.getStreamData(),r.dni()})),this.hni.requestStream(o),this.uni},i.updateAdTagParameters=function(t){var n;null==(n=this.hni)||n.replaceAdTagParameters(t)},i.fni=function(){this.x4t.nt.yn(hm.hw,this.Hn),this.x4t.yn(Al.Gv,this._ni),this.x4t.yn(gk.Am,this.gni),this.x4t.yn(Al.Ov,this.wni)},i.vni=function(){this.x4t.nt.fn(hm.hw,this.Hn),this.x4t.fn(Al.Gv,this._ni),this.x4t.fn(gk.Am,this.gni),this.x4t.fn(Al.Ov,this.wni)},i.dni=function(){var t;null==(t=this.hni)||t.addEventListener([google.ima.dai.api.StreamEvent.Type.ERROR,google.ima.dai.api.StreamEvent.Type.CLICK,google.ima.dai.api.StreamEvent.Type.STARTED,google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE,google.ima.dai.api.StreamEvent.Type.MIDPOINT,google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE,google.ima.dai.api.StreamEvent.Type.COMPLETE,google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,google.ima.dai.api.StreamEvent.Type.AD_PERIOD_STARTED,google.ima.dai.api.StreamEvent.Type.AD_PERIOD_ENDED,google.ima.dai.api.StreamEvent.Type.AD_PROGRESS,google.ima.dai.api.StreamEvent.Type.PAUSED,google.ima.dai.api.StreamEvent.Type.RESUMED],this.mni)},i.ani=function(){var t;null==(t=this.hni)||t.removeEventListener([google.ima.dai.api.StreamEvent.Type.ERROR,google.ima.dai.api.StreamEvent.Type.CLICK,google.ima.dai.api.StreamEvent.Type.STARTED,google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE,google.ima.dai.api.StreamEvent.Type.MIDPOINT,google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE,google.ima.dai.api.StreamEvent.Type.COMPLETE,google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,google.ima.dai.api.StreamEvent.Type.AD_PERIOD_STARTED,google.ima.dai.api.StreamEvent.Type.AD_PERIOD_ENDED,google.ima.dai.api.StreamEvent.Type.AD_PROGRESS,google.ima.dai.api.StreamEvent.Type.PAUSED,google.ima.dai.api.StreamEvent.Type.RESUMED],this.mni)},i.cni=function(t,n){var i=this;return new q((function(r,e){var u;if(n&&n.n_)return e(new Ro);var s=function(t){a(),r(t)},o=function(){a(),e(new Ro)},a=function(){var r;null==(r=i.hni)||r.removeEventListener(t,s),n&&n.c_(o)};null==(u=i.hni)||u.addEventListener(t,s),n&&n.u_(o)}))},i.pni=function(t,n){var i=this;return Ot((function(){return Rt(this,(function(r){return[2,i.Ani({sources:{src:t}},n)]}))}))()},i.yni=function(t,n){var i=this;return Ot((function(){var r,e;return Rt(this,(function(u){switch(u.label){case 0:return i.uni?[4,Yo(i.uni,n)]:[3,2];case 1:u.sent(),u.label=2;case 2:return r=w.floor(1e3*t),e=i.lni.getStandalonePodManifestUrl(v6,r),[2,i.Ani({sources:{src:e}},n)]}}))}))()},i.Ani=function(t,n){var i=this;return Ot((function(){var r,e;return Rt(this,(function(u){switch(u.label){case 0:return i.fni(),null==(r=i.dE)||r.g_(),i.dE=new zo,i.dE.w_(n),Po(e=i.dE.f_),[4,i.x4t.ga(fE(t),e)];case 1:return u.sent(),xn.Ga&&xn.zk&&(i.x4t.Xg(),i.x4t.Hg()),[2,Go((function(t){var n=i.k_("aderror",t).then(q.reject),r=i.k_("adloaded",t).then((function(){return q.resolve()}));return q.race([n,r])}),e)]}}))}))()},i.tr=function(){var t=this;return Ot((function(){var n,i;return Rt(this,(function(r){switch(r.label){case 0:return t.ani(),t.vni(),null==(n=t.dE)||n.g_(),t.dE=void 0,[4,t.x4t.Zg()];case 1:return r.sent(),null==(i=t.hni)||i.reset(),[2]}}))}))()},i.gn=function(){var t=this;return Ot((function(){var n;return Rt(this,(function(i){switch(i.label){case 0:return[4,t.tr()];case 1:return i.sent(),null==(n=t.Mni)||n.gn(),[4,t.bni.gn()];case 2:return i.sent(),[2]}}))}))()},n}($o);function v6(){return w.floor((new Date).getTime()/6e4)}yt(),C(),Mt();var l6=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,i)||this).kni=void 0,e.Eni=r,e}bt(n,t);var i=n.prototype;return i.qsi=function(){return!0},i.ur=function(n,i,r,e){t.prototype.ur.call(this,n,i,r,e),r6(this.Qo,this.Hsi),this.Hsi.og=!0,n.style.backgroundImage="url('"+this.Eni+"')",n.style.backgroundSize="contain",n.style.backgroundPosition="center",this.kni=this.rit.nt.Rw.filter((function(t){return t._v===A_.Jn}));for(var u=0,s=this.kni;u<s.length;u++){s[u]._v=A_.Ch}for(var o=0,a=[i,r];o<a.length;o++){var c=a[o];c.style.flex="1",c.style.borderWidth="20px",c.style.transition=["flex","border-width","transform"].map((function(t){return t+" 1s ease-in-out"})).join(", ")}},i.ar=function(n,i,r){t.prototype.ar.call(this,n,i,r);for(var e=0,u=[i,r];e<u.length;e++){var s=u[e];s.style.flex="0",s.style.borderWidth="0px"}for(var o,a=0,c=null!=(o=this.kni)?o:[];a<c.length;a++){c[a]._v=A_.Jn}this.kni=void 0},i.W_=function(){return this.rit.W_()||this.x4t.W_()},i.X_=function(){return this.rit.X_()||this.x4t.X_()},i.Ng=function(){return w.min(this.rit.Sg,this.x4t.Sg)},i.Xg=function(){this.rit.Xg(),this.x4t.Xg()},i.Hg=function(){this.rit.Hg(),this.x4t.Hg()},n}(i6);yt(),C(),Mt();var d6=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r)||this).Eni=e,u}bt(n,t);var i=n.prototype;return i.ur=function(n,i,r,e){t.prototype.ur.call(this,n,i,r,e),this.Hsi.Hg(),this.Hsi.be(),n.style.backgroundImage="url('"+this.Eni+"')",n.style.backgroundSize="contain",n.style.backgroundPosition="center";var u=this.$si(i,r);u.style.flex="1",u.style.transform="\n          translate(-50%, -50%)\n          scale(calc(43/60))\n          translate(calc(50% + 100%/30), calc(50% + 100%/30))\n        ";for(var s=0,o=[i,r];s<o.length;s++){o[s].style.transition=["flex","border-width","transform"].map((function(t){return t+" 1s ease-in-out"})).join(", ")}},i.ar=function(n,i,r){t.prototype.ar.call(this,n,i,r),this.Hsi.ge();var e=this.$si(i,r);e.style.flex="0",e.style.transform=""},n}(i6),g6=function(t){function n(n,i,r){return t.call(this,n,i,n,r)}bt(n,t);var i=n.prototype;return i.qsi=function(){return!0},i.$si=function(t,n){return t},i.tni=function(t,n){return n},n}(d6),w6=function(t){function n(n,i,r){return t.call(this,n,i,i,r)}bt(n,t);var i=n.prototype;return i.qsi=function(){return!1},i.$si=function(t,n){return n},i.tni=function(t,n){return t},n}(d6);yt(),C(),zt(),pt(),Ut(),yt(),C(),Xt(),zt(),pt(),Mt(),Ut(),yt(),C(),zt(),pt(),Mt(),Ut(),yt(),C(),Xt(),zt(),pt(),Mt(),Ut(),yt(),C(),Mt(),yt(),C(),Mt();var y6=function(t){function n(n){var i;return void 0===n&&(n=[]),(i=t.call(this)||this).prependPackets=n,i}return bt(n,t),n.prototype.start=function(n){t.prototype.start.call(this,n);for(var i=0,r=this.prependPackets;i<r.length;i++){var e=r[i];this.dEt(e)}},n}(KW);function m6(t){return t.Av===vp.kA}var A6=function(t){function n(n,i,r){var e;void 0===i&&(i=[]),void 0===r&&(r=!1),(e=t.call(this,r?i:[])||this).TG=n,e.yEt=[],e.Nat=e.TG.match(/video/)?$z.VA:$z.WA;for(var u=0;u<i.length;u++){var s=i[u];e.Oni(s)}return e}bt(n,t);var i=n.prototype;return i.transform=function(t){this.yEt.push(t),t.Av===vp.Kp?(this.Ox=function(t){var n=f_.Wy(t.ly.ly)[0];if((null==n?void 0:n.Av)!==vp.Kp)throw new v("Not able to parse Moov Box");if(0===n.Z.length)throw new v("Tracks not found");return n.Z[0].wM.zy.cM}(t),this.Lni(this.yEt.splice(0),rX.INITIALIZER)):t.Av===vp.PA&&this.Lni(this.yEt.splice(0),rX.FRAMES)},i.Lni=function(t,n){var i={cM:this.Ox,aG:this.TG},r=Da(t.map((function(t){return Ec(t.ly.ly)}))),e=co(t,m6),u={$D:this.Nat,SL:i,nut:r,Av:n,ct:this.xni(e)/i.cM,I_t:$i(this.Cni(e),i.cM)};this.dEt(u)},i.xni=function(t){if(!t||!this.Ox)return 0;var n=f_.Wy(t.ly.ly)[0].Z[0];if(!n||0===n.iT.length)return 0;var i=n.zy.Vb||0;return n.iT[0].aT.reduce((function(t,n){var r;return t+(null!=(r=n.ct)?r:i)}),0)},i.Cni=function(t){var n,i;return t&&this.Ox&&null!=(i=null==(n=f_.Wy(t.ly.ly)[0].Z[0].eT)?void 0:n.eT)?i:Oi.UZERO},i.Oni=function(t){t.Av===rX.INITIALIZER&&(this.Ox=t.SL.cM)},n}(y6);yt(),C();var p6="audio/x-theoplayer-fake-json-segment",_6="video/x-theoplayer-fake-json-segment";function k6(t){return JSON.parse(bc(t))}function b6(t,n){switch(t.Av){case CL.jZ:return q.resolve(t.ly);case CL.DD:return Lw(t.ly,n).then((function(t){return Da(t)}));case CL.RZ:return q.reject(new v("HeadlessMediaBuffer - Cannot convert opaque SegmentData to Uint8Array."))}}var M6=function(){function t(t){this.BL=t}return t.prototype.write=function(t){if(t.Av===rX.FRAMES){var n=t.SL.cM,i=Oj(Ic(t.nut),void 0,n);if(void 0===i)return;this.BL.jni(i,t.ct)}else if(t.Av===rX.INITIALIZER){var r=new i_(Ic(t.nut),new Oc),e=s_.Ry(r,vp.Kp),u=e?f_.Jy(e):[];if(u.length){var s=Da(u.map((function(t){return new p(t.AT)})));this.BL.Co(new ca(fs,s))}}},t}(),T6=function(t){function n(n,i){var r;return(r=t.call(this)||this).Wni=0,r.B7=!1,r.QNt=HD.oU(),r.FNt=HD.oU(),r.fX=30,r.cX=30,r.Rni=0,r.Qni=void 0,r.Fni=new M6(Wt(r)),r.Hni=void 0,r.Yni=new HD([0,1/0]),r.S0=new zo,r.GO=n,r.BO=Ev(n.Nz).Av,Nv(r.BO)&&(r.Qni=new A6(n.Nz)),r.j0=i,r}bt(n,t);var i=n.prototype;return i.V$=function(t,n,i){var r=this;return this.Rni=n.pI,this.Pni((function(n){return r.zni(t,n)}),i)},i.zni=function(t,n){switch(this.BO){case"audio/mp4":case"video/mp4":return this.Bni(t,n);case p6:case _6:return this.Uni(t,n);default:return q.reject(new l("Unknown content type: "+this.BO))}},i.Bni=function(t,n){var i=this;return Ot((function(){var r;return Rt(this,(function(e){switch(e.label){case 0:return Po(n),r=function(t){switch(t.Av){case CL.jZ:return Ew(t.ly);case CL.DD:return t.ly;case CL.RZ:throw new v("HeadlessMediaBuffer - Cannot convert opaque SegmentData to Stream.")}}(t),[4,r.pipeThrough(new gw(new tX)).pipeThrough(new gw(i.Qni)).pipeTo(new Ed(i.Fni),{preventClose:!0,preventAbort:!0})];case 1:return e.sent(),[2]}}))}))()},i.Uni=function(t,n){var i=this;return Ot((function(){var r;return Rt(this,(function(e){switch(e.label){case 0:return Po(n),[4,b6(t,n)];case 1:return r=k6.apply(void 0,[e.sent()]),i.jni(r.startTime,r.duration),[2]}}))}))()},i.Q0=function(){return q.resolve()},i.X$=function(t,n,i){var r=this;return this.Pni((function(n){return r.zni(t,n)}),i)},i.oq=function(){return this.B7},i.x0=function(){this.B7=!0},i.M0=function(){this.B7=!1},i.B0=function(t,n){this.FNt=this.FNt.YB(new HD([t,n]))},i.rS=function(t,n,i){var r=this;return this.Pni((function(i){Po(i),r.QNt=r.QNt.VB(new HD([t,n])),r.Co(new ra(EL.CZ))}),i)},i.u0=function(t,n){var i=this;return this.Pni((function(){i.Yni=new HD([t,n])}))},i.U0=function(t,n){this.FNt=this.FNt.VB(new HD([t,n]))},i.jni=function(t,n){var i=this.Rni+t,r=new HD([i,i+n]).Sn(this.Yni);this.QNt=this.QNt.YB(r),this.Co(new ra(EL.CZ)),this.Gni()},i.Vni=function(){return this.Wni},i.Gni=function(){var t=this.QNt,n=t.U>0?t.jn(this.QNt.U-1):0;this.Wni!==n&&(this.Wni=n,this.Co(new mD(n)))},i.FZ=function(t){if(!n.dq(t))return!1;var i=Ev(t.Nz);return this.BO===i.Av},i.GZ=function(t){return this.GO=t,this.BO=Ev(t.Nz).Av,Nv(this.BO)?this.Qni=new A6(t.Nz):this.Qni=void 0,q.resolve()},i.Pni=function(t,n){var i=this;return Ot((function(){var r;return Rt(this,(function(e){switch(e.label){case 0:if(i.Hni)throw new v("Attempted to start concurrent buffer mutation");(r=new zo).w_(i.S0.f_),n&&r.w_(n),e.label=1;case 1:return e.trys.push([1,,3,4]),i.Hni=q.resolve(t(r.f_)),[4,i.Hni];case 2:return e.sent(),[3,4];case 3:return i.Hni=void 0,[7];case 4:return[2]}}))}))()},i.h_=function(){this.Vo(),this.S0.g_()},n.dq=function(t){switch(Ev(t.Nz).Av){case"audio/mp4":case"video/mp4":case p6:case _6:return!0;default:return!1}},At(n,[{key:"O_",get:function(){return this.QNt}},{key:"wd",get:function(){return this.GO}},{key:"O0",get:function(){return this.j0}},{key:"R0",get:function(){return this.FNt}},{key:"iX",get:function(){return this.cX},set:function(t){this.cX=t}},{key:"rX",get:function(){return this.fX},set:function(t){this.fX=t}}]),n}($o),N6=function(t){function n(n){var i,r;(i=t.call(this)||this).O1=void 0,i.j1=void 0,i.jx=NaN,i.U1=new tC(0,1/0),i.Xni=void 0,i.Zni=function(){var t;t=i.oq?i.Vni():w.max(i.jx||0,i.Vni()),i.P1(t)},i.GO=n;var e=co(n.F1,(function(t){return Bs(t.Nz,"audio")})),u=co(n.F1,(function(t){return Bs(t.Nz,"video")}));return e&&(i.O1=new T6(e,Gm.WA),i.O1.yn(Al.Lv,i.Zni)),u&&(i.j1=new T6(u,Gm.VA),i.j1.yn(Al.Lv,i.Zni)),i.Xni=null==(r=n.Iz[0])?void 0:r.Qp,i}bt(n,t);var i=n.prototype;return i.h_=function(){var t,n;return this.Vo(),null==(t=this.j1)||t.h_(),null==(n=this.O1)||n.h_(),this.O1=void 0,this.j1=void 0,this.jx=NaN,q.resolve()},i.P1=function(t){this.jx!==t&&(this.jx=t,this.Co(new mD(t)))},i.Vni=function(){var t=0;return this.O1&&(t=w.max(t,this.O1.Vni())),this.j1&&(t=w.max(t,this.j1.Vni())),t},i.Q1=function(t,n,i,r){this.U1=new tC(t,n,Boolean(i),Boolean(r))},i.x0=function(){this.O1&&this.O1.x0(),this.j1&&this.j1.x0(),this.Zni()},i.M0=function(){this.O1&&this.O1.M0(),this.j1&&this.j1.M0()},i.FZ=function(t){if(!n.dq(t))return!1;var i=co(t.F1,(function(t){return Bs(t.Nz,"audio")})),r=co(t.F1,(function(t){return Bs(t.Nz,"video")}));return!(this.O1&&i&&!this.O1.FZ(i))&&!(this.j1&&r&&!this.j1.FZ(r))},i.GZ=function(t){var n=this;return Ot((function(){var i,r,e;return Rt(this,(function(u){switch(u.label){case 0:return n.GO=t,i=co(t.F1,(function(t){return Bs(t.Nz,"audio")})),r=co(t.F1,(function(t){return Bs(t.Nz,"video")})),n.O1?i?[4,n.O1.GZ(i)]:[3,2]:[3,4];case 1:return u.sent(),[3,3];case 2:n.O1.h_(),n.O1=void 0,u.label=3;case 3:return[3,5];case 4:i&&(n.O1=new T6(i,Gm.WA),n.O1.yn(Al.Lv,n.Zni)),u.label=5;case 5:return n.j1?r?[4,n.j1.GZ(r)]:[3,7]:[3,9];case 6:return u.sent(),[3,8];case 7:n.j1.h_(),n.j1=void 0,u.label=8;case 8:return[3,10];case 9:r&&(n.j1=new T6(r,Gm.VA),n.j1.yn(Al.Lv,n.Zni)),u.label=10;case 10:return e=n.Xni,0===t.Iz.length?n.Xni=void 0:e&&!t.Iz.some((function(t){return t.Qp===e}))&&(n.Xni=t.Iz[0].Qp),[2]}}))}))()},n.dq=function(t){return t.F1.every((function(t){return T6.dq(t)}))},At(n,[{key:"I1",get:function(){return this.O1}},{key:"D1",get:function(){return this.j1}},{key:"O_",get:function(){return eC(this)}},{key:"R0",get:function(){var t,n,i,r;return(null!=(i=null==(t=this.O1)?void 0:t.R0)?i:HD.oU()).YB(null!=(r=null==(n=this.j1)?void 0:n.R0)?r:HD.oU())}},{key:"wd",get:function(){return this.GO}},{key:"ct",get:function(){return this.jx}},{key:"oq",get:function(){return(!this.O1||this.O1.oq())&&(!this.j1||this.j1.oq())}},{key:"Ig",get:function(){return this.U1.V0().Sn(new HD([0,this.ct],[!0,!0]))}},{key:"j3",get:function(){return this.Xni}}]),n}($o);yt(),C();var D6=function(){function t(){}var n=t.prototype;return n.W4=function(t){return an.A_(t,16)},n.Z4=function(t){an.p_(t)},t}(),I6=function(t){function n(){var n;return(n=t.call(this)||this).e5=void 0,n.Lz=void 0,n.qni=0,n.Wu=new lS,n.o2=!1,n.dU=new JD,n.hri=0,n.E0t=0,n.sri=-1/0,n.nri=NaN,n.yz=void 0,n.uU=!1,n.cU=!0,n.lU=1,n.Uo=HD.oU(),n.C0t=!1,n.h2=mk.BT,n.aU=!1,n.e2=!1,n.n2=!1,n.mU=new kO,n.tri=void 0,n.EB=!0,n.Xx=1,n.eri=function(){n.Yn()},n.dri=function(){n.Yn()},n.fri=function(){n.e5||(n.Yn(),n.Co(new mD(n.yz.ct)))},n.oE=new UB(Wt(n),new D6),n}bt(n,t);var i=n.prototype;return i.rg=function(){return{HT:0,XT:0,ZT:0,qT:0,KT:0,JT:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}},i.dq=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.Av===dk.Sj&&N6.dq(i))return i}},i.h_=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return t.Vo(),[4,t.tr()];case 1:return n.sent(),t.oE.gn(),[2]}}))}))()},i.$n=function(t){var n=this;if(t.Av===dk.Sj){var i=new N6(t);this.Jni(i),this.yz=i,an.A_((function(){n.yz===i&&(n.Co(new YL),n.Yn())}),0);var r=new HB(i);return r.int=this,q.resolve(r)}return q.reject(new v("Unsupported configuration"))},i.Hg=function(){this.e5?this.e5.Hg():this.$ni(),this.Yn()},i.$ni=function(){this.cU=!0,void 0!==this.tri&&(an.g1(this.tri),this.tri=void 0),this.Co(new wD(this.U_))},i.Xg=function(){var t=this;return Ot((function(){var n;return Rt(this,(function(i){switch(i.label){case 0:return n=t.k_(gk.Sm),t.e5?t.e5.Xg():t.iri(),[4,n];case 1:return i.sent(),[2]}}))}))()},i.iri=function(){this.cU&&(this.Yn(),this.cU=!1,this.o2&&(this.qni=0),this.Co(new yD(this.U_)),this.Yn(),void 0===this.tri&&(this.tri=an.f1(this.eri,20)))},i.tr=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return void 0!==t.tri&&(an.g1(t.tri),t.tri=void 0),t.yz?[4,t.yz.h_()]:[3,2];case 1:n.sent(),t.yz=void 0,n.label=2;case 2:return t.Co(new mD(NaN)),t.qni=0,t.E0t=0,t.sri=-1/0,t.o2=!1,t.Uo=HD.oU(),t.C0t=!1,t.n2=!1,t.Co(new om(0,void 0)),t.aU&&(t.aU=!1,t.Co(new kD(0))),t.cU||(t.Co(new wD(0)),t.cU=!0),1!==t.lU&&(t.lU=1,t.Co(new AD(0,1))),t.h2!==mk.BT&&(t.h2=mk.BT,t.Co(new Ak(0,mk.BT))),[2]}}))}))()},i.JA=function(t,n,i){if(void 0===n&&(n=!1),void 0===i&&(i=!1),this.e5)this.e5.JA(t,n,i);else{this.Uo=this.pg;var r=this.yz?this.yz.Ig.zB(t):t;this.E0t=r,this.qni=1e3*r,this.e2=n,i&&!this.aU?(this.n2=!0,this.Co(new vC(r))):(this.n2=!1,this.aU=!0,this.Co(new _D(r))),this.Yn()}},i.be=function(){this.EB=!1},i.rE=function(t,n,i,r,e,u,s,o){return this.oE.rE(t,n,i,r,e,u,s,o)},i.Cz=function(){return!1},i.jz=function(){throw new v("Sideloaded native text tracks are not supported")},i.fE=function(t){this.oE.fE(t)},i.Pz=function(){this.oE.tr()},i.gz=function(){},i.ge=function(){this.EB=!0},i.F6=function(){},i.z6=function(){this.e5||(void 0!==this.tri&&(an.g1(this.tri),this.tri=void 0),this.Uo=this.pg,this.e5=gC(this),this.e5.yn(lC,this.Ds))},i.B6=function(){if(this.e5){var t=this.e5;this.e5=void 0,wC(this,t),t.h_(),this.Yn(),this.cU||void 0!==this.tri||(this.tri=an.f1(this.eri,20))}},i.Yn=function(){var t,n;if(!this.e5){var i=an.m_(),r=A(this.nri)?0:i-this.nri;this.nri=i;var e,u,s=!1,o=null!=(e=null==(t=this.yz)?void 0:t.O_)?e:HD.oU(),a=null!=(u=null==(n=this.yz)?void 0:n.R0)?u:HD.oU();this.cU||(this.qni=this.rri(r,o,a));var c,h=vP(o,a).PB().Jm(this.U_),f=1e3*w.min(null!=(c=null==h?void 0:h.jn(0))?c:0,this.ct);this.hri<f&&(this.hri=f,this.Co(new UL(this.U_)));var v=this.ari(h,f);v!==this.h2&&(this.h2=v,this.Co(new Ak(this.U_,this.h2))),s=this.cri(s),this.T0t(),!(s=this.bX(s))&&this.C0t&&this.sri+250<i&&(s=!0,this.Co(new om(this.U_,void 0))),s&&(this.sri=i)}},i.rri=function(t,n,i){for(var r=this.qni,e=t*this.lU,u=1e3*this.ct;;){var s=i.Jm(r/1e3);if(void 0!==s&&n.gr(s.jn(0))&&(r=1e3*s.jn(0)),(this.aU||this.n2)&&this.e2){var o=r/1e3,a=sC(n,o,1);if(a!==o){r=1e3*a;break}}if(this.aU||this.n2)break;if(e<=0)break;var c=n.Jm(r/1e3);if(void 0===c)break;var h=w.min(1e3*c.jn(0),u),f=w.min(e,h-r);if(!(f>0))break;r+=f,e-=f}return r},i.ari=function(t,n){return this.yz?t?this.yz&&this.yz.oq&&n===1e3*this.yz.ct?this.qni===n?mk.UT:mk.FT:this.qni===n?mk.UT:mk.QT:mk.Xn:mk.BT},i.cri=function(t){var n=t;if(this.h2>=mk.UT){var i=this.aU,r=this.n2;this.aU=!1,this.n2=!1,n||!i&&!r||(n=!0,this.Co(new om(this.U_,void 0))),i?this.Co(new kD(this.U_)):r&&this.Co(new fO(this.U_))}return n},i.T0t=function(){var t=this.C0t,n=this.lri();!t&&n?(this.C0t=!0,this.Co(new Tk(this.U_))):t&&!n&&(this.Uo=this.pg,this.C0t=!1)},i.lri=function(){return!this.Eg&&!(this.fg||this.G_||this.lt||this._2())},i._2=function(){return this.Sg<mk.QT},i.bX=function(t){var n=t;return this.yz&&this.yz.oq&&this.U_===this.ct?this.o2||(this.o2=!0,n||(n=!0,this.Co(new om(this.U_,void 0))),this.$ni(),this.Co(new pD(this.U_))):this.o2=!1,n},i.Jni=function(t){var n,i;null==(n=t.D1)||n.yn(EL.CZ,this.dri),null==(i=t.I1)||i.yn(EL.CZ,this.dri),t.yn(Al.Lv,this.fri)},At(n,[{key:"O_",get:function(){var t,n;return null!=(n=null==(t=this.yz)?void 0:t.O_)?n:HD.oU()}},{key:"U_",get:function(){return this.e5?this.e5.U_:this.qni/1e3}},{key:"Iu",get:function(){return this.Wu}},{key:"ct",get:function(){var t,n;return this.e5?this.e5.ct:null!=(n=null==(t=this.yz)?void 0:t.ct)?n:NaN}},{key:"G_",get:function(){return this.e5?this.e5.G_:this.o2}},{key:"lt",get:function(){}},{key:"K_",get:function(){return!1}},{key:"Kni",get:function(){return this.yz}},{key:"og",get:function(){return this.e5?this.e5.og:this.uU},set:function(t){this.e5?this.e5.og=t:this.uU!==t&&(this.uU=t,this.Co(new bD(this.U_,this.Xx)))}},{key:"fg",get:function(){return this.e5?this.e5.fg:this.cU}},{key:"gg",get:function(){return this.e5?this.e5.gg:this.lU},set:function(t){this.lU!==t&&(this.Yn(),this.lU=t,this.Co(new AD(this.U_,t)))}},{key:"Sg",get:function(){return this.h2}},{key:"Ig",get:function(){var t;return(null==(t=this.yz)?void 0:t.Ig)||HD.oU()}},{key:"Eg",get:function(){return this.e5?this.e5.Eg:this.aU}},{key:"s2",get:function(){return this.e5?this.e5.s2:this.n2}},{key:"g2",get:function(){return!1}},{key:"Mz",get:function(){}},{key:"zg",get:function(){return this.e5?this.e5.zg:this.Xx},set:function(t){this.e5?this.e5.zg=t:this.Xx!==t&&(this.Xx=t,this.Co(new bD(this.U_,t)))}},{key:"R_",get:function(){}},{key:"Ti",get:function(){return this.Wu._u}},{key:"pg",get:function(){var t=this.Uo;return!this.e5&&this.C0t&&(t=t.YB(new HD([this.E0t,this.U_]))),t}},{key:"_5",get:function(){return this.EB}},{key:"ji",get:function(){return this.Wu.ku}},{key:"ya",get:function(){return this.dU}},{key:"U6",get:function(){return!0}},{key:"Hm",get:function(){return LL}},{key:"nt",get:function(){return this.oE.nt}},{key:"Ol",get:function(){return this.mU}},{key:"Cg",get:function(){return 0}},{key:"Rg",get:function(){return 0}},{key:"Qz",get:function(){return this.Lz},set:function(t){this.Lz=t}},{key:"j3",get:function(){var t;return null==(t=this.yz)?void 0:t.j3}}]),n}($o),E6=function(){function t(t,n,i,r){var e=this;this.pri=function(){e.aQt=e._ri(e.lQt.f_).catch(e.Ari)},this.Ari=function(t){0},this.rit=t;var u=new T$,s=new I6;this.gri=new oq(i,u,!1,n,void 0),this.BGt=new vq(this.gri,s),this.lQt=new zo,this.lQt.w_(r),this.rit.yn(Al.Vv,this.pri)}var n=t.prototype;return n._ri=function(t){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return n.aQt?[4,n.aQt]:[3,2];case 1:i.sent(),i.label=2;case 2:return n.gri.qBt?[3,4]:[4,n.gri.eUt(t)];case 3:i.sent(),i.label=4;case 4:return void 0===n.wri&&n.vri(),[4,n.gri.cUt(n.wri,t)];case 5:return i.sent(),[2]}}))}))()},n.vri=function(){for(var t=0,n=this.gri.Tr.Kjt;t<n.length;t++){var i=n[t];0!==i.$jt.length&&(this.wri=i.$jt[0])}},n.gn=function(){var t;this.rit.fn(Al.Vv,this.pri),null==(t=this.lQt)||t.g_(),this.gri.h_()},At(t,[{key:"nt",get:function(){return this.BGt.nt}}]),t}();yt(),C(),pt();var S6=function(){function t(){}var n=t.prototype;return n.YU=function(t){return L6(t)},n.f2t=function(t,n,i){},n.W4=function(t,n,i,r){},n.hY=function(t){var n={integration:AI.THEOADS,adTagParameters:Qn(t.adTagParameters)?t.adTagParameters:{},useId3:Boolean(t.useId3)};return Fn(t.sources)&&(n.sources=Cm(t.sources)),Fn(t.networkCode)&&(n.networkCode=Cm(t.networkCode)),Fn(t.customAssetKey)&&(n.customAssetKey=Cm(t.customAssetKey)),Fn(t.backdropDoubleBox)&&(n.backdropDoubleBox=Cm(t.backdropDoubleBox)),Fn(t.backdropLShape)&&(n.backdropLShape=Cm(t.backdropLShape)),Fn(t.overrideLayout)&&(n.overrideLayout=function(t){switch(t){case"single":case"l-shape":case"double":case"single-if-mobile":return t;default:return}}(t.overrideLayout)),Fn(t.overrideAdSrc)&&(n.overrideAdSrc=Cm(t.overrideAdSrc)),n},At(t,[{key:"d2t",get:function(){return U1.git}}]),t}();function L6(t){return t&&t.integration===AI.THEOADS}function j6(t){var n=u.createElement("div"),i=u.createElement("div");return function(t,n){for(var i;Rn(i=t.firstChild);)n.appendChild(i)}(t,n),gu(t,"theo-ads-sgai-container"),gu(n,"theo-ads-sgai-content-player"),gu(i,"theo-ads-sgai-ad-player"),t.appendChild(n),t.appendChild(i),{contentElement:n,adElement:i}}function C6(t){var n=t.style;n.display="flex",n.backgroundColor="transparent",n.backgroundRepeat="no-repeat",n.backgroundAttachment="scroll",n.border="0 solid transparent",n.borderWidth="0px",n.flex="0"}function x6(t){var n=t.style;n.display="",n.backgroundColor="",n.backgroundRepeat="",n.backgroundAttachment="",n.border="",n.borderWidth="",n.flex="",n.transform="",n.transition="",n.backgroundImage="",n.backgroundSize="",n.backgroundPosition=""}II.lL.GU(new S6),yt(),C(),yt(),C(),pt();var O6=function(){function t(t){var n=this;this.Dri=!1,this.Mri=[],this.Gri=is(),this.Tri=[],this.Hn=function(t){n.Sri(t.Lt)},this.qn=function(t){n.Iri(t.Lt)},this.Ori=function(t){n.Pri(t.yS)},this.zri=function(t){n.Bri(t.yS)},this.Rri=function(t){n.Yri(t.yS)},this.Ini=function(t){n.Cri(t.yS)},this.jri=function(t){n.Wri(t.yS)},this.JOt=t}var n=t.prototype;return n.bri=function(t){if(!mo(this.Tri,t)){this.Tri.push(t);for(var n=0,i=t.Rw;n<i.length;n++){var r=i[n];this.Sri(r)}t.yn(hm.hw,this.Hn),t.yn(hm.uw,this.qn)}},n.Nri=function(t){if(mo(this.Tri,t)){go(this.Tri,t),t.fn(hm.hw,this.Hn),t.fn(hm.uw,this.qn);for(var n=0,i=t.Rw;n<i.length;n++){var r=i[n];this.Iri(r)}}},n.Sri=function(t){!this.Dri&&function(t){return t.zt===Q_.ZA&&t.Av===mA.DATE_RANGE}(t)&&this.Eri!==t?this.kri(t):this.Dri&&function(t){return t.zt===Q_.ZA&&t.Av===mA.ID3}(t)&&this.Lri!==t&&this.xri(t)},n.Iri=function(t){this.Eri===t?this.kri(void 0):this.Lri===t&&this.xri(void 0)},n.kri=function(t){var n=this.Eri;if(void 0!==n){if(n.L)for(var i=0,r=n.L.Rw;i<r.length;i++){var e=r[i];this.Cri(e)}n.fn(gm.lw,this.Ori),n.fn(gm.gw,this.jri),n.fn(gm.mw,this.Rri),n.fn(gm.fw,this.Ini),n._v=A_.vv}if(this.Eri=t,void 0!==t){if(t.L)for(var u=0,s=t.L.Rw;u<s.length;u++){var o=s[u];this.Pri(o)}t.yn(gm.lw,this.Ori),t.yn(gm.gw,this.jri),t.yn(gm.mw,this.Rri),t.yn(gm.fw,this.Ini),t._v=A_.vv}},n.xri=function(t){var n=this.Lri;if(void 0!==n){if(n.L)for(var i=0,r=n.L.Rw;i<r.length;i++){var e=r[i];this.Cri(e)}n.fn(gm.lw,this.zri),n.fn(gm.mw,this.Rri),n.fn(gm.fw,this.Ini),n._v=A_.vv}if(this.Lri=t,void 0!==t){if(t.L)for(var u=0,s=t.L.Rw;u<s.length;u++){var o=s[u];this.Bri(o)}t.yn(gm.lw,this.zri),t.yn(gm.mw,this.Rri),t.yn(gm.fw,this.Ini),t._v=A_.vv}},n.Pri=function(t){if("com.theoplayer.theoads.interstitial"===t.mRt&&t.yRt["X-ASSET-URI"]){var n=t.yRt["X-RESUME-OFFSET"],i=new a6({o:t.o,MS:t.MS,Jpt:t.yRt["X-ASSET-URI"],rni:this.Uri||e6[t.yRt["X-COM-THEOPLAYER-THEOADS-LAYOUT"]]||e6.SINGLE,oni:t.yRt["X-COM-THEOPLAYER-THEOADS-BACKDROP"],bS:isFinite(t.bS)?t.bS:void 0,ct:t.ct,ARt:t.ARt,sni:void 0!==n?Number(n):void 0});this.Qri(i,t)}},n.Bri=function(t){var n=t.O;if(function(t){return"GEO"===t.id||"GEOB"===t.id}(n)&&function(t){return"Anvatos"===t.description&&"application/json"===t.mimeType}(n)){var i=kc(new DataView(n.data),new Oc),r=new Ne(i),e=r.get("type");if("cue"===e){var u=Number(r.get("duration"))/1e3||void 0,s=new Ne(r.get("payload")),o=Number(s.get("dur"))||void 0,a=Number(s.get("s_bd"))||void 0;if(void 0!==o?u=o:void 0!==a&&(u=a/10),!u)return void 0;var c="theo-ads://dai.break/?d="+u,h=new a6({o:t.o,MS:t.MS,Jpt:c,rni:this.Uri||e6.SINGLE,ARt:u});this.Qri(h,t)}else if("cue_end"===e){var f=this.Fri;f&&f.Yn({ct:t.MS-f.MS})}}},n.Yri=function(t){this.Gri.get(t.Xw)&&this.JOt.Vri(t.MS)},n.Qri=function(t,n){this.Mri.push(t),this.Gri.set(n.Xw,t),this.Fri=t,this.JOt.Qri(t)},n.Wri=function(t){var n=this.Gri.get(t.Xw);if(void 0!==n){var i=t.yRt["X-RESUME-OFFSET"];n.Yn({ct:t.ct,bS:isFinite(t.bS)?t.bS:void 0,sni:void 0!==i?Number(i):void 0})}},n.Cri=function(t){this.Hri(t)},n.Hri=function(t){var n=this.Gri.get(t.Xw);void 0!==n&&(go(this.Mri,n),this.Gri.delete(t.Xw),this.JOt.Xri(n))},n.gn=function(){this.Fri=void 0,this.kri(void 0),this.xri(void 0);for(var t=0,n=this.Tri.slice();t<n.length;t++){var i=n[t];this.Nri(i)}po(this.Tri),po(this.Mri),this.Gri.clear()},At(t,[{key:"yri",get:function(){return this.Mri}}]),t}();yt(),C(),pt(),yt(),C(),pt(),Mt();var z6=function(t){function n(n,i){var r;return(r=t.call(this,i,function(t){return t===e6.LSHAPE_CONTENT?U2.Cqt:U2.xqt}(i.qri.rni))||this).Zri=n,r.NXt=i,r.J2t=void 0===n,r}bt(n,t);var i=n.prototype;return i.w$t=function(){var t;return null==(t=this.Zri)?void 0:t.getAdSystem()},i.Nit=function(){var t;return null!=(t=this.Xa)?t:this.fa()},i.p$t=function(){return this.NXt.qri.Jpt},i.fa=function(){return V2(this)},At(n,[{key:"o",get:function(){var t;return null==(t=this.Zri)?void 0:t.getAdId()}},{key:"duration",get:function(){var t;return null==(t=this.Zri)?void 0:t.getDuration()}},{key:"sZt",get:function(){var t,n;return null==(n=this.Zri)||null==(t=n.Rit)?void 0:t.clickThroughUrl}},{key:"IXt",get:function(){var t;return null==(t=this.Zri)?void 0:t.getCreativeId()}},{key:"CZt",get:function(){var t;return null==(t=this.Zri)?void 0:t.getSkipTimeOffset()}},{key:"vKt",get:function(){return U1.git}}]),n}(G2);yt(),C(),pt(),Mt();var R6=function(t){function n(n){var i,r;return(i=t.call(this,n.MS)||this).Jri=n,i.t$t=null!=(r=i.Jri.ct)?r:-1,i}return bt(n,t),n.prototype.Kri=function(t){this.Ic.push(t)},At(n,[{key:"pg",get:function(){return this.Jri.pg}},{key:"vKt",get:function(){return U1.git}},{key:"$Jt",get:function(){var t;return null!=(t=this.Jri.ct)?t:-1}},{key:"cPt",get:function(){return this.Jri.MS}},{key:"DJt",get:function(){}},{key:"qri",get:function(){return this.Jri}}]),n}(Y2),B6=function(){function t(t,n){var i=this;this.P4t=new mI,this.D$t=[],this.I$t=void 0,this.v$t=void 0,this.ioi=function(){var t=new z6(void 0,i.I$t);i.I$t.Kri(t),i.v$t=t,i.P4t.Co(new HR(i.v$t,i.$ri.Q_())),i.x4t.yn(Al.Ov,i.eoi)},this.eoi=function(){i.x4t.fn(Al.Ov,i.eoi),i.I$t&&(i.v$t&&(i.P4t.Co(new qR(i.v$t,i.$ri.Q_())),i.v$t=void 0),i.P4t.Co(new VR(i.I$t)),i.I$t=void 0)},this.$ri=t,this.x4t=n}var n=t.prototype;return n.Ny=function(){},n.Yit=function(t){},n.Qri=function(t){var n=new R6(t);this.D$t.push(n)},n.Xri=function(t){var n=this.D4t(t);go(this.D$t,n)},n.Sni=function(t){switch(this.I$t&&(this.I$t.t$t=this.x4t.Td()-this.x4t.Q_()),t.type){case google.ima.dai.api.StreamEvent.Type.ERROR:this.P4t.Co(new z2(O0.GENERAL));break;case google.ima.dai.api.StreamEvent.Type.AD_PERIOD_STARTED:var n=this.$ri.Q_(),i=co(this.D$t,(function(t){var i=t.cPt,r=i+t.t$t;return i<n&&n<r}));i||(i=this.D$t[0]),this.I$t=i,this.P4t.Co(new XR(this.I$t)),this.toi=an.A_(this.ioi,250);break;case google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED:an.p_(this.toi);break;case google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED:this.I$t.t$t>1&&this.ioi();break;case google.ima.dai.api.StreamEvent.Type.STARTED:var r=t.getAd(),e=new z6(r,this.I$t);this.I$t.Kri(e),this.v$t=e,this.P4t.Co(new HR(this.v$t,this.$ri.Q_()));break;case google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE:this.P4t.Co(new i4(this.v$t,this.$ri.Q_()));break;case google.ima.dai.api.StreamEvent.Type.MIDPOINT:this.P4t.Co(new e4(this.v$t,this.$ri.Q_()));break;case google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE:this.P4t.Co(new s4(this.v$t,this.$ri.Q_()));break;case google.ima.dai.api.StreamEvent.Type.COMPLETE:this.P4t.Co(new qR(this.v$t,this.$ri.Q_())),this.v$t=void 0;break;case google.ima.dai.api.StreamEvent.Type.AD_PERIOD_ENDED:this.eoi()}},n.D4t=function(t){return co(this.D$t,(function(n){return n.qri===t}))},n.gn=function(){return void 0!==this.I$t&&(this.I$t=void 0),this.v$t=void 0,po(this.D$t),q.resolve(void 0)},At(t,[{key:"A2t",get:function(){return this.P4t}},{key:"E2t",get:function(){return void 0!==this.I$t}},{key:"w2t",get:function(){return U1.git}},{key:"Sit",get:function(){return this.v$t?[this.v$t]:[]}},{key:"Iit",get:function(){var t;return null!=(t=this.I$t)?t:null}},{key:"Dit",get:function(){var t=this;return ko(this.D$t,(function(n){var i=n.Oc;if(n===t.I$t&&void 0!==t.v$t){var r=i.indexOf(t.v$t);if(r>=0)return i.slice(r+1)}return n.pg?[]:i}))}},{key:"Eit",get:function(){var t=this;return this.D$t.filter((function(n){return n===t.I$t||!n.pg}))}}]),t}();yt(),C(),pt(),Mt();var P6=function(){function t(t){this.theoAdsPlayer=t}return t.prototype.soi=function(t){this.theoAdsPlayer.noi(t)},At(t,[{key:"va",get:function(){return function(t){return{replaceAdTagParameters:function(n){t.soi(n)}}}(this)}}]),t}(),U6=function(t){function n(n,i,r){var e;(e=t.call(this,r)||this).roi=new P6(n),e.rit=i;for(var u=0,s=II.lL.UU;u<s.length;u++){var o=s[u],a=i.Oc.N2t.l2t(o.d2t);void 0!==a&&e.N2t._2t(a)}return e}return bt(n,t),n.prototype.W4=function(t,n,i){var r;null==(r=this.rit.Oc)||r.W4(t,n,i)},At(n,[{key:"xit",get:function(){return this.roi}}]),n}(B2),Q6=function(t){function n(n){var i;(i=t.call(this,n)||this).vz=void 0,i.bU=void 0,i.Joi=!0,i.Soi=!1,i.poi=function(t){var n=t.Rit.Nit().clickThrough;void 0!==n&&""!==n&&(i.P0t=new e2(i.we),i.P0t.V$t=n,i.P0t.yn("clickstart",i.z0t))},i.z0t=function(){i.Hg()},i.Aoi=function(){i.P0t&&(i.P0t.h_(),i.P0t=void 0)},i.xoi=function(t){i.Vri(t.currentTime)},i.WQ=function(t){i.Vri(t.currentTime)},i.iE=function(t){i.Foi(t.currentTime)},i.joi=function(t){i.Koi()},i.Roi=function(t){i.Boi()},i.pri=function(t){i.Koi()},i.Poi=function(t){i.Uoi.pg=!0,i.Q1t()};var r=Wt(i);i.aoi=Ot((function(){var t;return Rt(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,4]),[4,r.Jtt.OY([AE.THEOADS])];case 1:return n.sent(),[3,4];case 2:return t=n.sent(),[4,r.Zg().catch(Kn)];case 3:return n.sent(),r.rB(qv(t,Xv.LICENSE_INVALID_FEATURE)),[3,4];case 4:return[2]}}))})),i.Us=n.we;var e=j6(i.Us),u=e.contentElement,s=e.adElement;return i.Noi=u,i.Ioi=s,_u(i.Noi),_u(i.Ioi),i.rit=n,i.x4t=new c4(new kR(i.Ioi,n.wd,new CE),II.lL),i.bni=new B6(Wt(i),i.x4t),i.woi=new f6(i.x4t,i.bni),i.doi=new O6(Wt(i)),i.Eoi=new U6(Wt(i),n,n),i.Eoi.Git(i.bni),i}bt(n,t);var i=n.prototype;return i.ga=function(n,i){var r=this;return Ot((function(){var e,u,s,o,a;return Rt(this,(function(c){switch(c.label){case 0:return r.ooi(),Po(i),[4,t.prototype.ga.call(r,n,i)];case 1:return c.sent(),void 0===(o=null==(e=r.rit.bt)?void 0:e.src)||void 0===n||void 0===n.ads?[2]:(void 0===(a=co(n.ads,L6))||(r.hoi(),r.aoi(),r.uoi=a,r.coi=a.backdropDoubleBox,r.loi=a.backdropLShape,r.doi.Uri=function(t){switch(t){case"single":return e6.SINGLE;case"l-shape":return e6.LSHAPE_AD;case"double":return e6.DOUBLE;case"single-if-mobile":return xn.Qs?e6.SINGLE:void 0;default:return}}(a.overrideLayout),r.foi=a.networkCode,r._oi=a.customAssetKey,r.goi=a.overrideAdSrc,void 0!==a.networkCode&&void 0!==a.customAssetKey&&r.woi.GZ(a.networkCode,a.customAssetKey,r.voi).catch((function(t){0})),r.moi(),null==(u=r.Oc)||u.yn("Uit",r.poi),null==(s=r.Oc)||s.yn("Qit",r.Aoi),r.doi.Dri=a.useId3,r.doi.bri(r.rit.nt),void 0!==a.sources&&r.yoi(a.sources+o),r.Moi(new s6(r.rit,r.x4t))),[2])}}))}))()},i.yoi=function(t){this.boi=new zo,this.Toi=new E6(this.rit,t,this.rit.Hj,this.boi.f_),this.doi.bri(this.Toi.nt)},i.ooi=function(){var t;void 0!==this.Toi&&(this.doi.Nri(this.Toi.nt),null==(t=this.boi)||t.g_(),this.boi=void 0,this.Toi.gn(),this.Toi=void 0)},i.hoi=function(){this.Soi||(this.Soi=!0,ku(this.Noi),ku(this.Ioi),C6(this.Us),C6(this.Noi),C6(this.Ioi))},i.Doi=function(){this.Soi&&(this.Soi=!1,x6(this.Us),x6(this.Noi),x6(this.Ioi),_u(this.Noi),_u(this.Ioi))},i.Wg=function(){this.rit.Wg(),this.x4t.Wg()},i.hit=function(){return this.rit.Qtt},i.Y_=function(){return this.Us},i.noi=function(t){this.koi=t},i.Moi=function(t){var n;void 0!==this.Loi&&(this.Loi.ar(this.we,this.Noi,this.Ioi),this.Loi.gn());var i=null!=(n=this.Loi)?n:this,r=null!=t?t:this.rit;r6(i,r),null==t||t.ur(this.we,this.Noi,this.Ioi,i),this.Loi=t,this.WT(r)},i.moi=function(){this.rit.yn(Al.fm,this.xoi),this.rit.yn(Al.im,this.WQ),this.rit.yn(Al.Zv,this.iE)},i.Coi=function(){this.rit.fn(Al.fm,this.xoi),this.rit.fn(Al.im,this.WQ),this.rit.fn(Al.Zv,this.iE)},i.Ooi=function(){this.x4t.yn(Al.Zv,this.joi),this.x4t.yn(Al.fm,this.Roi),this.x4t.yn(Al.Ov,this.Poi),this.rit.yn(Al.Vv,this.pri)},i.zoi=function(){this.x4t.fn(Al.Zv,this.joi),this.x4t.fn(Al.fm,this.Roi),this.x4t.fn(Al.Ov,this.Poi),this.rit.fn(Al.Vv,this.pri)},i.Boi=function(){void 0!==this.Uoi&&this.x4t.Q_()>=this.Uoi.ct&&this.Q1t()},i.Vri=function(t){this.Qoi(t),this.Foi(t),this.Yoi(t)},i.Qoi=function(t){for(var n,i=0,r=this.doi.yri;i<r.length;i++){var e=r[i];if(!e.pg){var u=e.ini;void 0!==u&&t>=u?e.pg=!0:void 0!==n&&n.MS<e.MS||(n=e)}}this.Uoi!==n&&(this.Uoi=n,this.Goi())},i.Goi=function(){var t;null==(t=this.Voi)||t.g_(),this.Woi=void 0,this.Hoi=void 0},i.Foi=function(t){if(void 0!==this.Uoi&&void 0===this.Woi){var n=!1,i=HD.xn(this.rit.j_()).Jm(t);void 0!==i&&(n=i.jn(0)>=this.Uoi.MS);var r=this.Uoi.ini,e=t>=this.Uoi.MS&&(void 0===r||t<r);(n||e)&&(this.Voi=new zo,this.Woi=this.Xoi(this.Uoi,t,this.Voi.f_).catch((function(t){0})))}},i.Xoi=function(t,n,i){var r=this;return Ot((function(){var e,u,s,o,a,c,h,f;return Rt(this,(function(v){switch(v.label){case 0:return!r.goi&&Bs(t.Jpt,"theo-ads://dai.break")?[3,2]:(u=null!=(e=r.goi)?e:t.Jpt,[4,r.woi.pni(u,i)]);case 1:return v.sent(),[2];case 2:return s=an.Dh(t.Jpt),o=s.searchParams.get("n"),a=s.searchParams.get("k"),(c=$u({},r.voi)).cust_params=function(t,n){var i="theoads_slot="+function(t){switch(t){case e6.DOUBLE:return"double";case e6.SINGLE:return"single";case e6.LSHAPE_AD:case e6.LSHAPE_CONTENT:return"l-shape"}}(n);if(!t)return i;if(-1===t.indexOf("theoads_slot="))return i.concat("&").concat(t);return t.replace(/theoads_slot=(.*)(&?)/,i)}(c.cust_params,t.rni),o&&o!==r.foi&&a&&a!==r._oi?(r.foi=o,r._oi=a,[4,r.woi.GZ(o,a,c)]):[3,4];case 3:return v.sent(),Po(i),[3,5];case 4:r.woi.updateAdTagParameters(c),v.label=5;case 5:return h=Number(s.searchParams.get("d")),f=w.min(h,r.Uoi.ini-n),[4,r.woi.yni(f,i)];case 6:return v.sent(),[2]}}))}))()},i.Yoi=function(t){var n=this;if(void 0!==this.Uoi&&void 0===this.Hoi){var i,r=this.Uoi.ini;if(t>=this.Uoi.MS&&(void 0===r||t<r))this.Hoi=null==(i=this.Woi)?void 0:i.then((function(){return n.Zoi()}))}},i.Zoi=function(){if(void 0!==this.Uoi){var t=this.Uoi.rni,n=this.qoi(t,this.Uoi.oni);this.Moi(n),this.Coi(),this.Ooi(),this.Hoi=void 0}},i.qoi=function(t,n){switch(t){case e6.DOUBLE:return new l6(this.rit,this.x4t,null!=n?n:this.coi);case e6.LSHAPE_AD:return new w6(this.rit,this.x4t,null!=n?n:this.loi);case e6.LSHAPE_CONTENT:return new g6(this.rit,this.x4t,null!=n?n:this.loi);case e6.SINGLE:default:return new o6(this.rit,this.x4t)}},i.Koi=function(){var t,n,i=null==(t=this.Uoi)?void 0:t.ini;if(void 0!==i&&!(null==(n=this.Loi)?void 0:n.qsi())&&!Ui(this.rit.Q_(),i,.001)){var r=HD.xn(this.x4t.j_()),e=this.x4t.Dg();r.PB().gr(e.end(e.length-1))&&this.rit.F_(i,{lPt:!0})}},i.Q1t=function(){void 0!==this.Uoi&&(this.rit.F_(this.Uoi.ini,{lPt:!0}),this.Moi(new s6(this.rit,this.x4t)),this.zoi(),this.moi(),this.Uoi=void 0)},i.Qri=function(t){this.bni.Qri(t),this.Qoi(this.rit.Q_())},i.Xri=function(t){this.bni.Xri(t)},i.W_=function(){var n;return null!=(n=this.bU)?n:t.prototype.W_.call(this)},i.X_=function(){var n;return null!=(n=this.vz)?n:t.prototype.X_.call(this)},i.rB=function(t){void 0===this.X_()&&(this.vz=t,this.bU=Km(t),this.Co(new gT(t)))},i.Zg=function(){var n=this;return Ot((function(){var i,r;return Rt(this,(function(e){switch(e.label){case 0:return n.foi=void 0,n._oi=void 0,n.goi=void 0,n.vz=void 0,n.bU=void 0,n.Uoi=void 0,n.Joi=!0,n.doi.Nri(n.rit.nt),n.Coi(),n.zoi(),null==(i=n.Oc)||i.fn("Uit",n.poi),null==(r=n.Oc)||r.fn("Qit",n.Aoi),n.ooi(),n.Moi(void 0),[4,n.x4t.Zg()];case 1:return e.sent(),n.Goi(),[4,n.woi.tr()];case 2:return e.sent(),n.Doi(),[4,t.prototype.Zg.call(n)];case 3:return e.sent(),[2]}}))}))()},i.gn=function(){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return[4,n.Zg().catch(Kn)];case 1:return i.sent(),n.Moi(void 0),n.doi.gn(),[4,n.woi.gn()];case 2:return i.sent(),[4,n.x4t.gn()];case 3:return i.sent(),[4,t.prototype.gn.call(n)];case 4:return i.sent(),[2]}}))}))()},i.nw=function(n){if(void 0!==this.Loi)switch(n.type){case gk.Sm:if(!this.Joi)return!0;this.Joi=!1;break;case Al.jh:case gk.Tm:this.Joi=!0}return t.prototype.nw.call(this,n)},At(n,[{key:"Oc",get:function(){return this.Eoi}},{key:"voi",get:function(){var t,n,i;return null!=(i=null!=(n=this.koi)?n:null==(t=this.uoi)?void 0:t.adTagParameters)?i:{}}}]),n}(I2),Y6=function(t){function n(){return t.apply(this,arguments)}return bt(n,t),n.prototype.ga=function(n,i){var r;return void 0!==co(null!=(r=null==n?void 0:n.ads)?r:[],L6)?q.reject(new Kv(Xv.CONFIGURATION_ERROR,"THEOads must be enabled in the player configuration.")):t.prototype.ga.call(this,n,i)},n}(zT);QT((function(t){return t.wd.ads.theoads?new Q6(t):new Y6(t)}),OT.git),yt(),C(),yt(),C(),Xt(),zt(),Mt(),Ut(),yt(),C(),zt(),pt(),Mt(),Ut(),yt(),C(),pt(),Mt(),yt(),C();var F6=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Xa=void 0,n}return bt(n,t),At(n,[{key:"va",get:function(){return this.Xa||(this.Xa=function(t){return{get casting(){return t.FX},get state(){return t.Wdt},start:function(){t.Kg()},stop:function(){t.Jg()},addEventListener:function(n,i){var r=Om(n,Cm);t.yn(r,i)},removeEventListener:function(n,i){var r=Om(n,Cm);t.fn(r,i)}}}(this)),this.Xa}}]),n}($o),G6=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).ja=BI.UNAVAILABLE,e.rhi=new zo,e.ihi=function(){var t,n=null==(t=e.KH.Wa())?void 0:t.sources.filter(lD);(null==n?void 0:n.some(ST))?e.Ta(BI.AVAILABLE):e.Ta(BI.UNAVAILABLE)},e.handleAirplayChangedEvent=function(){e.Qo&&e.Qo.K_?e.nhi():e.Wdt===BI.CONNECTED&&e.uhi()},e.handleAirplayPlayerTimeUpdate=function(t){e.ohi=t.currentTime,e.hhi=e.KH.R_},e._vt=n,e.KH=i,e.shi=r,e.shi.be(),i.tS(r),e.$oi(),e}bt(n,t);var i=n.prototype;return i.$oi=function(){this.thi(),this._vt.yn(Al.lo,this.ihi),this.Ta(BI.AVAILABLE)},i.thi=function(){this.Qo&&this.Qo.fn(Al.Mv,this.handleAirplayChangedEvent),this.ehi?this.Qo=this.KH:this.Qo=this.shi,this.Qo.yn(Al.Mv,this.handleAirplayChangedEvent)},i.nhi=function(){var t=this;return Ot((function(){var n,i,r;return Rt(this,(function(e){switch(e.label){case 0:return t.Qo?t.ehi?[3,2]:(t.ohi=t.KH.U_,t.hhi=t.KH.R_,t.shi.yn(Al.fm,t.handleAirplayPlayerTimeUpdate),t.ahi=t.KH.Uw,t.KH.Uw=t.shi,t.ahi.Hg(),t.ahi.be(),t.shi.ge(),t.shi.og=t.ahi.og,t.shi.gg=t.ahi.gg,t.shi.zg=t.ahi.zg,n=t.shi.k_(Al.$v),t.shi.U_=t.ahi.U_,[4,n]):[2];case 1:return e.sent(),t.shi.Xg(),t.shi.og=t.ahi.og,t.shi.gg=t.ahi.gg,t.shi.zg=t.ahi.zg,[3,5];case 2:return t.Qo.fg?[3,4]:(i=new q((function(t){return a(t,800)})),r=t.Qo.k_(Al.Sh,t.rhi.f_),[4,q.race([r,i])]);case 3:e.sent(),e.label=4;case 4:t.Qo.Xg(),e.label=5;case 5:return t.Ta(BI.CONNECTED),[2]}}))}))()},i.uhi=function(){this.ahi?(this.shi.fn(Al.fm,this.handleAirplayPlayerTimeUpdate),this.ahi.og=this.shi.og,this.ahi.gg=this.shi.gg,this.ahi.zg=this.shi.zg,xn.zk&&!xn.Ga&&this.KH.ct===1/0?this.hhi?this.ahi.R_=this.hhi:this.ahi.U_=1/0:this.ahi.U_=this.ohi,this.hhi=void 0,this.ohi=void 0,this.ahi.ge(),this.shi.be(),this.shi.fg||this.ahi.Xg(),this.KH.Uw=this.ahi,this.shi.tr(),this.ahi=void 0):this.Qo&&(this.Qo.U_=this.Qo.U_+1e-4);this.Ta(BI.AVAILABLE)},i.preloadPlayer=function(t){if(Po(t),this.Qo.Sg<mk.Xn){var n=this.Qo.k_(gk.Mm,t);return this.Qo.yg=FD.ZA,n}return q.resolve()},i.Ta=function(t){t!==this.ja&&(this.ja=t,this.Co(new b2(this.ja)))},i.Kg=function(){this._vt.Wg(),this.rhi.g_(),this.rhi=new zo,this.ehi?Xo(this.lhi(this.rhi.f_)):Xo(this.dhi(this.rhi.f_))},i.lhi=function(t){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return[4,n.preloadPlayer(t)];case 1:return i.sent(),n.KH.Kg(),[2]}}))}))()},i.dhi=function(t){var n=this;return Ot((function(){var i,r;return Rt(this,(function(e){switch(e.label){case 0:return e.trys.push([0,4,,5]),[4,n.shi.tr()];case 1:if(e.sent(),void 0===(i=n.KH.Wa()))throw new v("Not possible to start Airplay without a source");return[4,n.shi.ga(i,t)];case 2:return e.sent(),r=n.shi.k_(gk.Sm,t),n.shi.Xg(),[4,qo(r,3e3)];case 3:return e.sent(),n.shi.Hg(),Po(t),n.shi.Kg(),[3,5];case 4:return Bo(e.sent())?[2]:[3,5];case 5:return[2]}}))}))()},i.Jg=function(){this.Qo.Jg()},i.gn=function(){var t;this.Vo(),this._vt.fn(Al.lo,this.ihi),this.rhi.g_(),this.KH.iS(this.shi),null==(t=this.shi)||t.gn()},At(n,[{key:"FX",get:function(){return this.Wdt===BI.CONNECTED}},{key:"Wdt",get:function(){return this.ja}},{key:"ehi",get:function(){return this.KH.qg()}}]),n}(F6);yt(),C(),pt(),Mt();var V6=function(t){function n(){return t.apply(this,arguments)}bt(n,t);var i=n.prototype;return i.Kg=function(){},i.Jg=function(){},At(n,[{key:"FX",get:function(){return!1}},{key:"Wdt",get:function(){return BI.UNAVAILABLE}}]),n}(F6);yt(),C(),zt(),pt(),Mt(),Ut();var W6=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this)||this).MB=void 0,a.bc=void 0,a.YT=new KT,a.VT=new KT,a.Dl=new qT,a.Us=n,a._hi=new tu(s,o,1,[Gm.VA]),a._hi.yU(n),a.fhi=new ET(n,a._hi,i,r,e,u),a.fhi.T_(a.Ds),a.YT.Uw=a.fhi.ht,a.VT.Uw=a.fhi.rt,a.Dl.Uw=a.fhi.nt,a}bt(n,t);var i=n.prototype;return i.iw=function(){this.fhi.iw()},i.F_=function(t,n){this.fhi.F_(t,n)},i.qg=function(){return this.fhi.qg()},i.Kg=function(){this.fhi.Kg()},i.Jg=function(){this.fhi.Jg()},i.Xg=function(){Xo(this.fhi.Xg())},i.Hg=function(){this.fhi.Hg()},i.Zg=function(){return Ot((function(){return Rt(this,(function(t){return[2]}))}))()},i.Wa=function(){return this.bc},i.ga=function(t,n){var i=this;return Ot((function(){var r,e,u,s;return Rt(this,(function(o){switch(o.label){case 0:if(Po(n),i.bc=t,aD(t.sources))r=IN({src:""});else for(e=t.sources.filter(lD),u=0;u<e.length;u++)if(ST(s=e[u])){r=s;break}if(!r)throw new v("Unsupported source.");return[4,i.fhi.ga(r,t,n)];case 1:return o.sent(),i.kB(r),[2]}}))}))()},i.kB=function(t){this.MB!==t&&(this.MB=t,this.Co(new CD(t)))},i.Vg=function(){return this.fhi.Vg()},i.C_=function(){return[]},i.Wg=function(){this._hi._U()},i.ur=function(t){LD(this,t)},i.ar=function(){},i.ew=function(t){return!1},i.$g=function(){this.fhi.$g()},i.tr=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return t.MB=void 0,t.bc=void 0,[4,t.fhi.tr()];case 1:return n.sent(),[2]}}))}))()},i.ge=function(){this.fhi.ge()},i.be=function(){this.fhi.be()},i.Gg=function(){return this.fhi.Gg()},i.gn=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return t.Vo(),t._hi.gn(),[4,t.fhi.gn()];case 1:return n.sent(),t.YT.gn(),t.VT.gn(),t.Dl.gn(),[2]}}))}))()},At(n,[{key:"ht",get:function(){return this.fhi.ht}},{key:"O_",get:function(){return this.fhi.O_}},{key:"bt",get:function(){return this.MB}},{key:"U_",get:function(){return this.fhi.U_},set:function(t){this.F_(t)}},{key:"R_",get:function(){return this.fhi.R_}},{key:"ct",get:function(){return this.fhi.ct}},{key:"we",get:function(){return this.Us}},{key:"G_",get:function(){return this.fhi.G_}},{key:"lt",get:function(){return this.fhi.lt}},{key:"H_",get:function(){return this.fhi.H_}},{key:"Z_",get:function(){return this.fhi.Z_}},{key:"K_",get:function(){return this.fhi.K_}},{key:"Yg",get:function(){return this.fhi.Yg}},{key:"Qg",get:function(){return this.fhi.Qg}},{key:"eg",get:function(){return this.fhi.eg}},{key:"og",get:function(){return this.fhi.og},set:function(t){this.fhi.og=t}},{key:"cg",get:function(){return this.fhi.cg}},{key:"fg",get:function(){return this.fhi.fg}},{key:"gg",get:function(){return this.fhi.gg},set:function(t){this.fhi.gg=t}},{key:"pg",get:function(){return this.fhi.pg}},{key:"yg",get:function(){return this.fhi.yg},set:function(t){this.fhi.yg=t}},{key:"Sg",get:function(){return this.fhi.Sg}},{key:"Ig",get:function(){return this.fhi.Ig}},{key:"Eg",get:function(){return this.fhi.Eg}},{key:"nt",get:function(){return this.fhi.nt}},{key:"Cg",get:function(){return this.fhi.Cg}},{key:"Rg",get:function(){return this.fhi.Rg}},{key:"rt",get:function(){return this.fhi.rt}},{key:"zg",get:function(){return this.fhi.zg},set:function(t){this.fhi.zg=t}}]),n}(na),X6=function(t){function n(n){var i;i=t.call(this,n)||this;var r=new W6(i.Ytt.we,i.Hj,i.wd,i.Qtt,i.Qg,i.Htt,i.Ol);return i.ghi=new G6(Wt(i),i.Ytt,r),i.YF.HX(i.ghi),i.yn(Al.Dv,(function(){i.ghi.thi()})),i}return bt(n,t),n.prototype.gn=function(){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return n.ghi.gn(),[4,t.prototype.gn.call(n)];case 1:return i.sent(),[2]}}))}))()},n}(zT);QT((function(t){return an.Ys.jet?new X6(t):(t.YF.HX(new V6),t)}),OT.wit),yt(),C(),yt(),C(),pt();var Z6="VPAID",H6=function(){function t(){this.whi=new Z4}var n=t.prototype;return n.YU=function(t){return K6(t)},n.f2t=function(n,i,r){return r.ads||(r.ads=fD({})),r.ads.vpaidMode=r.ads.vpaidMode||t.vhi(),this.whi.f2t(n,i,r)},n.W4=function(n,i,r,e){!function(t){if(!K6(t))throw new v("Unknown ad integration: "+t.integration)}(n);var u=t.mhi(n,r.we);this.whi.W4(u,i,r,e)},n.hY=function(t){var n=bm(t);if(!A(n.id))return n.queryParameters||(n.queryParameters={}),n.custom&&(n.queryParameters.custom?oi('"custom" parameter is redefined in queryParameters! Please use "queryParameters.custom" only!'):(n.queryParameters.custom=n.custom,delete n.custom)),n.app&&(n.queryParameters.app?oi('"app" parameter is redefined in queryParameters! Please use "queryParameters.app" only!'):(n.queryParameters.app=n.app,delete n.app)),n.device&&(n.queryParameters.device?oi('"device" parameter is redefined in queryParameters! Please use "queryParameters.device" only!'):(n.queryParameters.device=n.device,delete n.device)),n.user&&(n.queryParameters.user?oi('"user" parameter is redefined in queryParameters! Please use "queryParameters.user" only!'):(n.queryParameters.user=n.user,delete n.user)),n.ipAddress&&(n.queryParameters.ip_addr?oi('"ipAddress" parameter is redefined in queryParameters! Please use "queryParameters.ip_addr" or "ipAddress" only!'):(n.queryParameters.ip_addr=n.ipAddress,delete n.ipAddress)),n.maximumAdDuration&&(n.queryParameters.VMaxd?oi('"maximumAdDuration" parameter is redefined in queryParameters! Please use "queryParameters.VMaxd" or "maximumAdDuration" only!'):(n.queryParameters.VMaxd=n.maximumAdDuration,delete n.maximumAdDuration)),n},t.mhi=function(n,i){return{integration:AI.SPOTX,sources:{src:t.phi(n,ru.location.href,i.offsetWidth,i.offsetHeight,xn.sL)}}},t.phi=function(n,i,r,e,u){if(n.sources)return n.sources;var s=e,o=r;u&&0===o&&(o=320,s=180);var a={custom_skin:1,player_width:o,player_height:s};n.cacheBuster&&(a.cb=w.random()),t.Ahi(i)&&(a.content_page_url=i);var c=$u({},a,n.queryParameters);return c[Z6]||c.VPI||(c[Z6]="js"),"https://search.spotxchange.com/vast/2.0/"+n.id+"?"+t.yhi(c)},t.Ahi=function(t){return Bs(t,"http://")||Bs(t,"https://")},t.yhi=function(t){return f1(t)},t.vhi=function(){return xn.Sk?UN.ENABLED:UN.INSECURE},At(t,[{key:"d2t",get:function(){return this.whi.d2t}}]),t}();function K6(t){return"spotx"===t.integration}II.lL.GU(new H6),yt(),C(),yt(),C(),yt(),C(),yt(),C();var q6=void 0!==e?e:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},J6=function(){return/Android/i.test(o.userAgent)||/iPhone|iPad|iPod/i.test(o.userAgent)},$6=function(t,n){for(var i=0,r=t.length;i<r;i++)n[i]=t[i]},t9=function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i]);return t},n9=function(){function t(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),g.defineProperty(t,r.key,r)}}return function(n,i,r){return i&&t(n.prototype,i),r&&t(n,r),n}}(),i9=function(t,i){if(Array.isArray(t))return t;if(n.iterator in g(t))return function(t,i){var r=[],e=!0,u=!1,s=void 0;try{for(var o,a=t[n.iterator]();!(e=(o=a.next()).done)&&(r.push(o.value),!i||r.length!==i);e=!0);}catch(t){u=!0,s=t}finally{try{!e&&a.return&&a.return()}finally{if(u)throw s}}return r}(t,i);throw new l("Invalid attempt to destructure non-iterable instance")},r9=function(t,n,i){return t+(n-t)*i},e9=function(){var t=/iPad|iPhone|iPod/.test(o.platform);return function(){return t}}(),u9=function(){var t=-1!==o.userAgent.indexOf("Version")&&-1!==o.userAgent.indexOf("Android")&&-1!==o.userAgent.indexOf("Chrome");return function(){return t}}(),s9=(function(){var t=/^((?!chrome|android).)*safari/i.test(o.userAgent)}(),function(){var t=-1!==o.userAgent.indexOf("Firefox")&&-1!==o.userAgent.indexOf("Android");return function(){return t}}()),o9=function(){var t=o.userAgent.match(/.*Chrome\/([0-9]+)/),n=t?y(t[1],10):null;return function(){return n}}(),a9=function(){var t=!1;if(65===o9()){var n=o.userAgent.match(/.*Chrome\/([0-9\.]*)/);if(n){var i=n[1].split("."),r=i9(i,4),e=(r[0],r[1],r[2]),u=r[3];t=3325===y(e,10)&&y(u,10)<148}}return function(){return t}}(),c9=function(){var t=-1!==o.userAgent.indexOf("R7 Build");return function(){return t}}(),h9=function(){var t=90==e.orientation||-90==e.orientation;return c9()?!t:t},f9=function(){return w.max(e.screen.width,e.screen.height)*e.devicePixelRatio},v9=function(){return w.min(e.screen.width,e.screen.height)*e.devicePixelRatio},l9=function(){if(u.exitFullscreen)u.exitFullscreen();else if(u.webkitExitFullscreen)u.webkitExitFullscreen();else if(u.mozCancelFullScreen)u.mozCancelFullScreen();else{if(!u.msExitFullscreen)return!1;u.msExitFullscreen()}return!0},d9=function(t,n,i,r){var e=t.createShader(t.VERTEX_SHADER);t.shaderSource(e,n),t.compileShader(e);var u=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(u,i),t.compileShader(u);var s=t.createProgram();for(var o in t.attachShader(s,e),t.attachShader(s,u),r)t.bindAttribLocation(s,r[o],o);return t.linkProgram(s),t.deleteShader(e),t.deleteShader(u),s},g9=function(t,n){for(var i={},r=t.getProgramParameter(n,t.ACTIVE_UNIFORMS),e="",u=0;u<r;u++){i[e=t.getActiveUniform(n,u).name.replace("[0]","")]=t.getUniformLocation(n,e)}return i},w9=function(){var t,n=!1;return t=o.userAgent||o.vendor||e.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(n=!0),n},y9=function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i]);return t},m9=[],A9=function(t){if(e9()){p9(t);var n,i,r=t.style.width,u=t.style.height,s=t.offsetWidth+1,o=t.offsetHeight;t.style.width=s+"px",t.style.height=o+"px";var a=function(){e.cancelAnimationFrame(i);for(var s=0;s<m9.length;s++)if(m9[s]===n){t.style.width=r,t.style.height=u,m9.splice(s,1);break}};n={iit:t,Mhi:a},m9.push(n),i=e.requestAnimationFrame(a)}},p9=function(t){if(e9())for(var n=0;n<m9.length;n++)if(m9[n].iit===t){m9[n].Mhi();break}},_9=function(){var t=w.PI/180,n=.25*w.PI;var i=new Float32Array([0,0,0,1]),r=new Float32Array([0,0,0]);function e(e,u,s,o,a,c){!function(i,r,e,u){var s=w.tan(r?r.upDegrees*t:n),o=w.tan(r?r.downDegrees*t:n),a=w.tan(r?r.leftDegrees*t:n),c=w.tan(r?r.rightDegrees*t:n),h=2/(a+c),f=2/(s+o);i[0]=h,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=f,i[6]=0,i[7]=0,i[8]=-(a-c)*h*.5,i[9]=(s-o)*f*.5,i[10]=u/(e-u),i[11]=-1,i[12]=0,i[13]=0,i[14]=u*e/(e-u),i[15]=0}(e,o||null,c.depthNear,c.depthFar),function(t,n,i){var r=n[0],e=n[1],u=n[2],s=n[3],o=r+r,a=e+e,c=u+u,h=r*o,f=r*a,v=r*c,l=e*a,d=e*c,g=u*c,w=s*o,y=s*a,m=s*c;t[0]=1-(l+g),t[1]=f+m,t[2]=v-y,t[3]=0,t[4]=f-m,t[5]=1-(h+g),t[6]=d+w,t[7]=0,t[8]=v+y,t[9]=d-w,t[10]=1-(h+l),t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1}(u,s.orientation||i,s.position||r),a&&function(t,n,i){var r,e,u,s,o,a,c,h,f,v,l,d,g=i[0],w=i[1],y=i[2];n===t?(t[12]=n[0]*g+n[4]*w+n[8]*y+n[12],t[13]=n[1]*g+n[5]*w+n[9]*y+n[13],t[14]=n[2]*g+n[6]*w+n[10]*y+n[14],t[15]=n[3]*g+n[7]*w+n[11]*y+n[15]):(r=n[0],e=n[1],u=n[2],s=n[3],o=n[4],a=n[5],c=n[6],h=n[7],f=n[8],v=n[9],l=n[10],d=n[11],t[0]=r,t[1]=e,t[2]=u,t[3]=s,t[4]=o,t[5]=a,t[6]=c,t[7]=h,t[8]=f,t[9]=v,t[10]=l,t[11]=d,t[12]=r*g+o*w+f*y+n[12],t[13]=e*g+a*w+v*y+n[13],t[14]=u*g+c*w+l*y+n[14],t[15]=s*g+h*w+d*y+n[15])}(u,u,a),function(t,n){var i=n[0],r=n[1],e=n[2],u=n[3],s=n[4],o=n[5],a=n[6],c=n[7],h=n[8],f=n[9],v=n[10],l=n[11],d=n[12],g=n[13],w=n[14],y=n[15],m=i*o-r*s,A=i*a-e*s,p=i*c-u*s,_=r*a-e*o,k=r*c-u*o,b=e*c-u*a,M=h*g-f*d,T=h*w-v*d,N=h*y-l*d,D=f*w-v*g,I=f*y-l*g,E=v*y-l*w,S=m*E-A*I+p*D+_*N-k*T+b*M;S&&(S=1/S,t[0]=(o*E-a*I+c*D)*S,t[1]=(e*I-r*E-u*D)*S,t[2]=(g*b-w*k+y*_)*S,t[3]=(v*k-f*b-l*_)*S,t[4]=(a*N-s*E-c*T)*S,t[5]=(i*E-e*N+u*T)*S,t[6]=(w*p-d*b-y*A)*S,t[7]=(h*b-v*p+l*A)*S,t[8]=(s*I-o*N+c*M)*S,t[9]=(r*N-i*I-u*M)*S,t[10]=(d*k-g*p+y*m)*S,t[11]=(f*p-h*k-l*m)*S,t[12]=(o*T-s*D-a*M)*S,t[13]=(i*D-r*T+e*M)*S,t[14]=(g*A-d*_-w*m)*S,t[15]=(h*_-f*A+v*m)*S)}(u,u)}return function(t,n,i){return!(!t||!n)&&(t.pose=n,t.timestamp=n.timestamp,e(t.leftProjectionMatrix,t.leftViewMatrix,n,i.bhi("left"),i.Thi("left"),i),e(t.rightProjectionMatrix,t.rightViewMatrix,n,i.bhi("right"),i.Thi("right"),i),!0)}}(),k9=function(t){var n,i=t.indexOf("://");n=-1!==i?i+3:0;var r=t.indexOf("/",n);return-1===r&&(r=t.length),t.substring(0,r)},b9=function(){var t={};return function(n,i){void 0===t[n]&&(console.warn("webvr-polyfill: "+i),t[n]=!0)}}(),M9=function(t,n){b9(t,t+" has been deprecated. This may not work on native WebVR displays. "+(n?"Please use "+n+" instead.":""))};var T9=function(t,n,i){if(n){for(var r=[],e=null,u=0;u<n.length;++u){switch(s=n[u]){case t.TEXTURE_BINDING_2D:case t.TEXTURE_BINDING_CUBE_MAP:if((a=n[++u])<t.TEXTURE0||a>t.TEXTURE31){console.error("TEXTURE_BINDING_2D or TEXTURE_BINDING_CUBE_MAP must be followed by a valid texture unit"),r.push(null,null);break}e||(e=t.getParameter(t.ACTIVE_TEXTURE)),t.activeTexture(a),r.push(t.getParameter(s),null);break;case t.ACTIVE_TEXTURE:e=t.getParameter(t.ACTIVE_TEXTURE),r.push(null);break;default:r.push(t.getParameter(s))}}i(t);for(u=0;u<n.length;++u){var s=n[u],o=r[u];switch(s){case t.ACTIVE_TEXTURE:break;case t.ARRAY_BUFFER_BINDING:t.bindBuffer(t.ARRAY_BUFFER,o);break;case t.COLOR_CLEAR_VALUE:t.clearColor(o[0],o[1],o[2],o[3]);break;case t.COLOR_WRITEMASK:t.colorMask(o[0],o[1],o[2],o[3]);break;case t.CURRENT_PROGRAM:t.useProgram(o);break;case t.ELEMENT_ARRAY_BUFFER_BINDING:t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,o);break;case t.FRAMEBUFFER_BINDING:t.bindFramebuffer(t.FRAMEBUFFER,o);break;case t.RENDERBUFFER_BINDING:t.bindRenderbuffer(t.RENDERBUFFER,o);break;case t.TEXTURE_BINDING_2D:if((a=n[++u])<t.TEXTURE0||a>t.TEXTURE31)break;t.activeTexture(a),t.bindTexture(t.TEXTURE_2D,o);break;case t.TEXTURE_BINDING_CUBE_MAP:var a;if((a=n[++u])<t.TEXTURE0||a>t.TEXTURE31)break;t.activeTexture(a),t.bindTexture(t.TEXTURE_CUBE_MAP,o);break;case t.VIEWPORT:t.viewport(o[0],o[1],o[2],o[3]);break;case t.BLEND:case t.CULL_FACE:case t.DEPTH_TEST:case t.SCISSOR_TEST:case t.STENCIL_TEST:o?t.enable(s):t.disable(s);break;default:console.log("No GL restore behavior for 0x"+s.toString(16))}e&&t.activeTexture(e)}}else i(t)},N9=["attribute vec2 position;","attribute vec3 texCoord;","varying vec2 vTexCoord;","uniform vec4 viewportOffsetScale[2];","void main() {","  vec4 viewport = viewportOffsetScale[int(texCoord.z)];","  vTexCoord = (texCoord.xy * viewport.zw) + viewport.xy;","  gl_Position = vec4( position, 1.0, 1.0 );","}"].join("\n"),D9=["precision mediump float;","uniform sampler2D diffuse;","varying vec2 vTexCoord;","void main() {","  gl_FragColor = texture2D(diffuse, vTexCoord);","}"].join("\n");function I9(t,n,i,r){this.gl=t,this.cardboardUI=n,this.bufferScale=i,this.dirtySubmitFrameBindings=r,this.ctxAttribs=t.getContextAttributes(),this.meshWidth=20,this.meshHeight=20,this.bufferWidth=t.drawingBufferWidth,this.bufferHeight=t.drawingBufferHeight,this.realBindFramebuffer=t.bindFramebuffer,this.realEnable=t.enable,this.realDisable=t.disable,this.realColorMask=t.colorMask,this.realClearColor=t.clearColor,this.realViewport=t.viewport,e9()||(this.realCanvasWidth=g.getOwnPropertyDescriptor(t.canvas.__proto__,"width"),this.realCanvasHeight=g.getOwnPropertyDescriptor(t.canvas.__proto__,"height")),this.isPatched=!1,this.lastBoundFramebuffer=null,this.cullFace=!1,this.depthTest=!1,this.blend=!1,this.scissorTest=!1,this.stencilTest=!1,this.viewport=[0,0,0,0],this.colorMask=[!0,!0,!0,!0],this.clearColor=[0,0,0,0],this.attribs={position:0,texCoord:1},this.program=d9(t,N9,D9,this.attribs),this.uniforms=g9(t,this.program),this.viewportOffsetScale=new Float32Array(8),this.setTextureBounds(),this.vertexBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),this.indexCount=0,this.renderTarget=t.createTexture(),this.framebuffer=t.createFramebuffer(),this.depthStencilBuffer=null,this.depthBuffer=null,this.stencilBuffer=null,this.ctxAttribs.depth&&this.ctxAttribs.stencil?this.depthStencilBuffer=t.createRenderbuffer():this.ctxAttribs.depth?this.depthBuffer=t.createRenderbuffer():this.ctxAttribs.stencil&&(this.stencilBuffer=t.createRenderbuffer()),this.patch(),this.onResize()}I9.prototype.destroy=function(){var t=this.gl;this.unpatch(),t.deleteProgram(this.program),t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.indexBuffer),t.deleteTexture(this.renderTarget),t.deleteFramebuffer(this.framebuffer),this.depthStencilBuffer&&t.deleteRenderbuffer(this.depthStencilBuffer),this.depthBuffer&&t.deleteRenderbuffer(this.depthBuffer),this.stencilBuffer&&t.deleteRenderbuffer(this.stencilBuffer),this.cardboardUI&&this.cardboardUI.destroy()},I9.prototype.onResize=function(){var t=this.gl,n=this,i=[t.RENDERBUFFER_BINDING,t.TEXTURE_BINDING_2D,t.TEXTURE0];T9(t,i,(function(t){n.realBindFramebuffer.call(t,t.FRAMEBUFFER,null),n.scissorTest&&n.realDisable.call(t,t.SCISSOR_TEST),n.realColorMask.call(t,!0,!0,!0,!0),n.realViewport.call(t,0,0,t.drawingBufferWidth,t.drawingBufferHeight),n.realClearColor.call(t,0,0,0,1),t.clear(t.COLOR_BUFFER_BIT),n.realBindFramebuffer.call(t,t.FRAMEBUFFER,n.framebuffer),t.bindTexture(t.TEXTURE_2D,n.renderTarget),t.texImage2D(t.TEXTURE_2D,0,n.ctxAttribs.alpha?t.RGBA:t.RGB,n.bufferWidth,n.bufferHeight,0,n.ctxAttribs.alpha?t.RGBA:t.RGB,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n.renderTarget,0),n.ctxAttribs.depth&&n.ctxAttribs.stencil?(t.bindRenderbuffer(t.RENDERBUFFER,n.depthStencilBuffer),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,n.bufferWidth,n.bufferHeight),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,n.depthStencilBuffer)):n.ctxAttribs.depth?(t.bindRenderbuffer(t.RENDERBUFFER,n.depthBuffer),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,n.bufferWidth,n.bufferHeight),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,n.depthBuffer)):n.ctxAttribs.stencil&&(t.bindRenderbuffer(t.RENDERBUFFER,n.stencilBuffer),t.renderbufferStorage(t.RENDERBUFFER,t.STENCIL_INDEX8,n.bufferWidth,n.bufferHeight),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.STENCIL_ATTACHMENT,t.RENDERBUFFER,n.stencilBuffer)),!t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE&&console.error("Framebuffer incomplete!"),n.realBindFramebuffer.call(t,t.FRAMEBUFFER,n.lastBoundFramebuffer),n.scissorTest&&n.realEnable.call(t,t.SCISSOR_TEST),n.realColorMask.apply(t,n.colorMask),n.realViewport.apply(t,n.viewport),n.realClearColor.apply(t,n.clearColor)})),this.cardboardUI&&this.cardboardUI.onResize()},I9.prototype.patch=function(){if(!this.isPatched){var t=this,n=this.gl.canvas,i=this.gl;e9()||(n.width=f9()*this.bufferScale,n.height=v9()*this.bufferScale,g.defineProperty(n,"width",{configurable:!0,enumerable:!0,get:function(){return t.bufferWidth},set:function(i){t.bufferWidth=i,t.realCanvasWidth.set.call(n,i),t.onResize()}}),g.defineProperty(n,"height",{configurable:!0,enumerable:!0,get:function(){return t.bufferHeight},set:function(i){t.bufferHeight=i,t.realCanvasHeight.set.call(n,i),t.onResize()}})),this.lastBoundFramebuffer=i.getParameter(i.FRAMEBUFFER_BINDING),null==this.lastBoundFramebuffer&&(this.lastBoundFramebuffer=this.framebuffer,this.gl.bindFramebuffer(i.FRAMEBUFFER,this.framebuffer)),this.gl.bindFramebuffer=function(n,r){t.lastBoundFramebuffer=r||t.framebuffer,t.realBindFramebuffer.call(i,n,t.lastBoundFramebuffer)},this.cullFace=i.getParameter(i.CULL_FACE),this.depthTest=i.getParameter(i.DEPTH_TEST),this.blend=i.getParameter(i.BLEND),this.scissorTest=i.getParameter(i.SCISSOR_TEST),this.stencilTest=i.getParameter(i.STENCIL_TEST),i.enable=function(n){switch(n){case i.CULL_FACE:t.cullFace=!0;break;case i.DEPTH_TEST:t.depthTest=!0;break;case i.BLEND:t.blend=!0;break;case i.SCISSOR_TEST:t.scissorTest=!0;break;case i.STENCIL_TEST:t.stencilTest=!0}t.realEnable.call(i,n)},i.disable=function(n){switch(n){case i.CULL_FACE:t.cullFace=!1;break;case i.DEPTH_TEST:t.depthTest=!1;break;case i.BLEND:t.blend=!1;break;case i.SCISSOR_TEST:t.scissorTest=!1;break;case i.STENCIL_TEST:t.stencilTest=!1}t.realDisable.call(i,n)},this.colorMask=i.getParameter(i.COLOR_WRITEMASK),i.colorMask=function(n,r,e,u){t.colorMask[0]=n,t.colorMask[1]=r,t.colorMask[2]=e,t.colorMask[3]=u,t.realColorMask.call(i,n,r,e,u)},this.clearColor=i.getParameter(i.COLOR_CLEAR_VALUE),i.clearColor=function(n,r,e,u){t.clearColor[0]=n,t.clearColor[1]=r,t.clearColor[2]=e,t.clearColor[3]=u,t.realClearColor.call(i,n,r,e,u)},this.viewport=i.getParameter(i.VIEWPORT),i.viewport=function(n,r,e,u){t.viewport[0]=n,t.viewport[1]=r,t.viewport[2]=e,t.viewport[3]=u,t.realViewport.call(i,n,r,e,u)},this.isPatched=!0,A9(n)}},I9.prototype.unpatch=function(){if(this.isPatched){var t=this.gl,n=this.gl.canvas;e9()||(g.defineProperty(n,"width",this.realCanvasWidth),g.defineProperty(n,"height",this.realCanvasHeight)),n.width=this.bufferWidth,n.height=this.bufferHeight,t.bindFramebuffer=this.realBindFramebuffer,t.enable=this.realEnable,t.disable=this.realDisable,t.colorMask=this.realColorMask,t.clearColor=this.realClearColor,t.viewport=this.realViewport,this.lastBoundFramebuffer==this.framebuffer&&t.bindFramebuffer(t.FRAMEBUFFER,null),this.isPatched=!1,a((function(){A9(n)}),1)}},I9.prototype.setTextureBounds=function(t,n){t||(t=[0,0,.5,1]),n||(n=[.5,0,.5,1]),this.viewportOffsetScale[0]=t[0],this.viewportOffsetScale[1]=t[1],this.viewportOffsetScale[2]=t[2],this.viewportOffsetScale[3]=t[3],this.viewportOffsetScale[4]=n[0],this.viewportOffsetScale[5]=n[1],this.viewportOffsetScale[6]=n[2],this.viewportOffsetScale[7]=n[3]},I9.prototype.submitFrame=function(){var t=this.gl,n=this,i=[];if(this.dirtySubmitFrameBindings||i.push(t.CURRENT_PROGRAM,t.ARRAY_BUFFER_BINDING,t.ELEMENT_ARRAY_BUFFER_BINDING,t.TEXTURE_BINDING_2D,t.TEXTURE0),T9(t,i,(function(t){n.realBindFramebuffer.call(t,t.FRAMEBUFFER,null),n.cullFace&&n.realDisable.call(t,t.CULL_FACE),n.depthTest&&n.realDisable.call(t,t.DEPTH_TEST),n.blend&&n.realDisable.call(t,t.BLEND),n.scissorTest&&n.realDisable.call(t,t.SCISSOR_TEST),n.stencilTest&&n.realDisable.call(t,t.STENCIL_TEST),n.realColorMask.call(t,!0,!0,!0,!0),n.realViewport.call(t,0,0,t.drawingBufferWidth,t.drawingBufferHeight),(n.ctxAttribs.alpha||e9())&&(n.realClearColor.call(t,0,0,0,1),t.clear(t.COLOR_BUFFER_BIT)),t.useProgram(n.program),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.indexBuffer),t.bindBuffer(t.ARRAY_BUFFER,n.vertexBuffer),t.enableVertexAttribArray(n.attribs.position),t.enableVertexAttribArray(n.attribs.texCoord),t.vertexAttribPointer(n.attribs.position,2,t.FLOAT,!1,20,0),t.vertexAttribPointer(n.attribs.texCoord,3,t.FLOAT,!1,20,8),t.activeTexture(t.TEXTURE0),t.uniform1i(n.uniforms.diffuse,0),t.bindTexture(t.TEXTURE_2D,n.renderTarget),t.uniform4fv(n.uniforms.viewportOffsetScale,n.viewportOffsetScale),t.drawElements(t.TRIANGLES,n.indexCount,t.UNSIGNED_SHORT,0),n.cardboardUI&&n.cardboardUI.renderNoState(),n.realBindFramebuffer.call(n.gl,t.FRAMEBUFFER,n.framebuffer),n.ctxAttribs.preserveDrawingBuffer||(n.realClearColor.call(t,0,0,0,0),t.clear(t.COLOR_BUFFER_BIT)),n.dirtySubmitFrameBindings||n.realBindFramebuffer.call(t,t.FRAMEBUFFER,n.lastBoundFramebuffer),n.cullFace&&n.realEnable.call(t,t.CULL_FACE),n.depthTest&&n.realEnable.call(t,t.DEPTH_TEST),n.blend&&n.realEnable.call(t,t.BLEND),n.scissorTest&&n.realEnable.call(t,t.SCISSOR_TEST),n.stencilTest&&n.realEnable.call(t,t.STENCIL_TEST),n.realColorMask.apply(t,n.colorMask),n.realViewport.apply(t,n.viewport),!n.ctxAttribs.alpha&&n.ctxAttribs.preserveDrawingBuffer||n.realClearColor.apply(t,n.clearColor)})),e9()){var r=t.canvas;r.width==n.bufferWidth&&r.height==n.bufferHeight||(n.bufferWidth=r.width,n.bufferHeight=r.height,n.onResize())}},I9.prototype.updateDeviceInfo=function(t){var n=this.gl,i=this,r=[n.ARRAY_BUFFER_BINDING,n.ELEMENT_ARRAY_BUFFER_BINDING];T9(n,r,(function(n){var r=i.Shi(i.meshWidth,i.meshHeight,t);if(n.bindBuffer(n.ARRAY_BUFFER,i.vertexBuffer),n.bufferData(n.ARRAY_BUFFER,r,n.STATIC_DRAW),!i.indexCount){var e=i.Nhi(i.meshWidth,i.meshHeight);n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,i.indexBuffer),n.bufferData(n.ELEMENT_ARRAY_BUFFER,e,n.STATIC_DRAW),i.indexCount=e.length}}))},I9.prototype.Shi=function(t,n,i){for(var r=new Float32Array(2*t*n*5),e=i.getLeftEyeVisibleTanAngles(),u=i.getLeftEyeNoLensTanAngles(),s=i.getLeftEyeVisibleScreenRect(u),o=0,a=0;a<2;a++){for(var c=0;c<n;c++)for(var h=0;h<t;h++,o++){var f=h/(t-1),v=c/(n-1),l=f,d=v,g=r9(e[0],e[2],f),y=r9(e[3],e[1],v),m=w.sqrt(g*g+y*y),A=i.distortion.distortInverse(m),p=y*A/m;f=(g*A/m-u[0])/(u[2]-u[0]),v=(p-u[3])/(u[1]-u[3]),f=2*(s.x+f*s.width-.5),v=2*(s.y+v*s.height-.5),r[5*o+0]=f,r[5*o+1]=v,r[5*o+2]=l,r[5*o+3]=d,r[5*o+4]=a}var _=e[2]-e[0];e[0]=-(_+e[0]),e[2]=_-e[2],_=u[2]-u[0],u[0]=-(_+u[0]),u[2]=_-u[2],s.x=1-(s.x+s.width)}return r},I9.prototype.Nhi=function(t,n){for(var i=new Uint16Array(2*(t-1)*(n-1)*6),r=t/2,e=n/2,u=0,s=0,o=0;o<2;o++)for(var a=0;a<n;a++)for(var c=0;c<t;c++,u++)0!=c&&0!=a&&(c<=r==a<=e?(i[s++]=u,i[s++]=u-t-1,i[s++]=u-t,i[s++]=u-t-1,i[s++]=u,i[s++]=u-1):(i[s++]=u-1,i[s++]=u-t,i[s++]=u,i[s++]=u-t,i[s++]=u-1,i[s++]=u-t-1));return i},I9.prototype.Ihi=function(t,n){var i=g.getOwnPropertyDescriptor(t,n);return void 0!==i.get&&void 0!==i.set||(i.configurable=!0,i.enumerable=!0,i.get=function(){return this.getAttribute(n)},i.set=function(t){this.setAttribute(n,t)}),i};var E9=["attribute vec2 position;","uniform mat4 projectionMat;","void main() {","  gl_Position = projectionMat * vec4( position, -1.0, 1.0 );","}"].join("\n"),S9=["precision mediump float;","uniform vec4 color;","void main() {","  gl_FragColor = color;","}"].join("\n"),L9=w.PI/180,j9=.3125,C9=28;function x9(t){this.gl=t,this.attribs={position:0},this.program=d9(t,E9,S9,this.attribs),this.uniforms=g9(t,this.program),this.vertexBuffer=t.createBuffer(),this.gearOffset=0,this.gearVertexCount=0,this.arrowOffset=0,this.arrowVertexCount=0,this.projMat=new Float32Array(16),this.listener=null,this.onResize()}function O9(t){this.coefficients=t}x9.prototype.destroy=function(){var t=this.gl;this.listener&&t.canvas.removeEventListener("click",this.listener,!1),t.deleteProgram(this.program),t.deleteBuffer(this.vertexBuffer)},x9.prototype.listen=function(t,n){var i=this.gl.canvas,r="undefined"!=typeof TouchEvent;this.listener=function(e){var u=i.clientWidth/2,s=r&&e instanceof TouchEvent?(e.preventDefault(),e.changedTouches[0]):e;s.clientX>u-42&&s.clientX<u+42&&s.clientY>i.clientHeight-42?(e.preventDefault(),e.stopImmediatePropagation(),t(e)):s.clientX<42&&s.clientY<42&&(e.preventDefault(),e.stopImmediatePropagation(),n(e))},i.addEventListener("click",this.listener,!1),i.addEventListener("touchstart",this.listener,!1)},x9.prototype.onResize=function(){var t=this.gl,n=this,i=[t.ARRAY_BUFFER_BINDING];T9(t,i,(function(t){var i=[],r=t.drawingBufferWidth/2,u=w.max(screen.width,screen.height)*e.devicePixelRatio,s=t.drawingBufferWidth/u*e.devicePixelRatio,o=4*s/2,a=42*s,c=C9*s/2,h=14*s;function f(t,n){var e=(90-t)*L9,u=w.cos(e),s=w.sin(e);i.push(j9*u*c+r,j9*s*c+c),i.push(n*u*c+r,n*s*c+c)}i.push(r-o,a),i.push(r-o,t.drawingBufferHeight),i.push(r+o,a),i.push(r+o,t.drawingBufferHeight),n.gearOffset=i.length/2;for(var v=0;v<=6;v++){var l=60*v;f(l,1),f(l+12,1),f(l+20,.75),f(l+40,.75),f(l+48,1)}function d(n,r){i.push(h+n,t.drawingBufferHeight-h-r)}n.gearVertexCount=i.length/2-n.gearOffset,n.arrowOffset=i.length/2;var g=o/w.sin(45*L9);d(0,c),d(c,0),d(c+g,g),d(g,c+g),d(g,c-g),d(0,c),d(c,2*c),d(c+g,2*c-g),d(g,c-g),d(0,c),d(g,c-o),d(C9*s,c-o),d(g,c+o),d(C9*s,c+o),n.arrowVertexCount=i.length/2-n.arrowOffset,t.bindBuffer(t.ARRAY_BUFFER,n.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,new Float32Array(i),t.STATIC_DRAW)}))},x9.prototype.render=function(){var t=this.gl,n=this,i=[t.CULL_FACE,t.DEPTH_TEST,t.BLEND,t.SCISSOR_TEST,t.STENCIL_TEST,t.COLOR_WRITEMASK,t.VIEWPORT,t.CURRENT_PROGRAM,t.ARRAY_BUFFER_BINDING];T9(t,i,(function(t){t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.BLEND),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.colorMask(!0,!0,!0,!0),t.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight),n.renderNoState()}))},x9.prototype.renderNoState=function(){var t,n,i,r,e,u,s,o,a,c,h=this.gl;h.useProgram(this.program),h.bindBuffer(h.ARRAY_BUFFER,this.vertexBuffer),h.enableVertexAttribArray(this.attribs.position),h.vertexAttribPointer(this.attribs.position,2,h.FLOAT,!1,8,0),h.uniform4f(this.uniforms.color,1,1,1,1),t=this.projMat,n=0,i=h.drawingBufferWidth,r=0,e=h.drawingBufferHeight,o=1/(n-i),a=1/(r-e),c=1/((u=.1)-(s=1024)),t[0]=-2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(n+i)*o,t[13]=(e+r)*a,t[14]=(s+u)*c,t[15]=1,h.uniformMatrix4fv(this.uniforms.projectionMat,!1,this.projMat),h.drawArrays(h.TRIANGLE_STRIP,0,4),h.drawArrays(h.TRIANGLE_STRIP,this.gearOffset,this.gearVertexCount),h.drawArrays(h.TRIANGLE_STRIP,this.arrowOffset,this.arrowVertexCount)},O9.prototype.distortInverse=function(t){for(var n=0,i=1,r=t-this.distort(n);w.abs(i-n)>1e-4;){var e=t-this.distort(i),u=i-e*((i-n)/(e-r));n=i,i=u,r=e}return i},O9.prototype.distort=function(t){for(var n=t*t,i=0,r=0;r<this.coefficients.length;r++)i=n*(i+this.coefficients[r]);return(i+1)*t};var z9=w.PI/180,R9=180/w.PI,B9=function(t,n,i){this.x=t||0,this.y=n||0,this.z=i||0};B9.prototype={constructor:B9,set:function(t,n,i){return this.x=t,this.y=n,this.z=i,this},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},length:function(){return w.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},normalize:function(){var t=this.length();if(0!==t){var n=1/t;this.multiplyScalar(n)}else this.x=0,this.y=0,this.z=0;return this},multiplyScalar:function(t){this.x*=t,this.y*=t,this.z*=t},applyQuaternion:function(t){var n=this.x,i=this.y,r=this.z,e=t.x,u=t.y,s=t.z,o=t.w,a=o*n+u*r-s*i,c=o*i+s*n-e*r,h=o*r+e*i-u*n,f=-e*n-u*i-s*r;return this.x=a*o+f*-e+c*-s-h*-u,this.y=c*o+f*-u+h*-e-a*-s,this.z=h*o+f*-s+a*-u-c*-e,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},crossVectors:function(t,n){var i=t.x,r=t.y,e=t.z,u=n.x,s=n.y,o=n.z;return this.x=r*o-e*s,this.y=e*u-i*o,this.z=i*s-r*u,this}};var P9=function(t,n,i,r){this.x=t||0,this.y=n||0,this.z=i||0,this.w=void 0!==r?r:1};function U9(t){this.width=t.width||f9(),this.height=t.height||v9(),this.widthMeters=t.widthMeters,this.heightMeters=t.heightMeters,this.bevelMeters=t.bevelMeters}P9.prototype={constructor:P9,set:function(t,n,i,r){return this.x=t,this.y=n,this.z=i,this.w=r,this},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w,this},setFromEulerXYZ:function(t,n,i){var r=w.cos(t/2),e=w.cos(n/2),u=w.cos(i/2),s=w.sin(t/2),o=w.sin(n/2),a=w.sin(i/2);return this.x=s*e*u+r*o*a,this.y=r*o*u-s*e*a,this.z=r*e*a+s*o*u,this.w=r*e*u-s*o*a,this},setFromEulerYXZ:function(t,n,i){var r=w.cos(t/2),e=w.cos(n/2),u=w.cos(i/2),s=w.sin(t/2),o=w.sin(n/2),a=w.sin(i/2);return this.x=s*e*u+r*o*a,this.y=r*o*u-s*e*a,this.z=r*e*a-s*o*u,this.w=r*e*u+s*o*a,this},setFromAxisAngle:function(t,n){var i=n/2,r=w.sin(i);return this.x=t.x*r,this.y=t.y*r,this.z=t.z*r,this.w=w.cos(i),this},multiply:function(t){return this.multiplyQuaternions(this,t)},multiplyQuaternions:function(t,n){var i=t.x,r=t.y,e=t.z,u=t.w,s=n.x,o=n.y,a=n.z,c=n.w;return this.x=i*c+u*s+r*a-e*o,this.y=r*c+u*o+e*s-i*a,this.z=e*c+u*a+i*o-r*s,this.w=u*c-i*s-r*o-e*a,this},inverse:function(){return this.x*=-1,this.y*=-1,this.z*=-1,this.normalize(),this},normalize:function(){var t=w.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return 0===t?(this.x=0,this.y=0,this.z=0,this.w=1):(t=1/t,this.x=this.x*t,this.y=this.y*t,this.z=this.z*t,this.w=this.w*t),this},slerp:function(t,n){if(0===n)return this;if(1===n)return this.copy(t);var i=this.x,r=this.y,e=this.z,u=this.w,s=u*t.w+i*t.x+r*t.y+e*t.z;if(s<0?(this.w=-t.w,this.x=-t.x,this.y=-t.y,this.z=-t.z,s=-s):this.copy(t),s>=1)return this.w=u,this.x=i,this.y=r,this.z=e,this;var o=w.acos(s),a=w.sqrt(1-s*s);if(w.abs(a)<.001)return this.w=.5*(u+this.w),this.x=.5*(i+this.x),this.y=.5*(r+this.y),this.z=.5*(e+this.z),this;var c=w.sin((1-n)*o)/a,h=w.sin(n*o)/a;return this.w=u*c+this.w*h,this.x=i*c+this.x*h,this.y=r*c+this.y*h,this.z=e*c+this.z*h,this},setFromUnitVectors:function(){var t,n;return function(i,r){return void 0===t&&(t=new B9),(n=i.dot(r)+1)<1e-6?(n=0,w.abs(i.x)>w.abs(i.z)?t.set(-i.y,i.x,0):t.set(0,-i.z,i.y)):t.crossVectors(i,r),this.x=t.x,this.y=t.y,this.z=t.z,this.w=n,this.normalize(),this}}()};var Q9=new U9({widthMeters:.11,heightMeters:.062,bevelMeters:.004}),Y9=new U9({widthMeters:.1038,heightMeters:.0584,bevelMeters:.004}),F9={CardboardV1:new V9({id:"CardboardV1",label:"Cardboard I/O 2014",fov:40,interLensDistance:.06,baselineLensDistance:.035,screenLensDistance:.042,distortionCoefficients:[.441,.156],inverseCoefficients:[-.4410035,.42756155,-.4804439,.5460139,-.58821183,.5733938,-.48303202,.33299083,-.17573841,.0651772,-.01488963,.001559834]}),CardboardV2:new V9({id:"CardboardV2",label:"Cardboard I/O 2015",fov:60,interLensDistance:.064,baselineLensDistance:.035,screenLensDistance:.039,distortionCoefficients:[.34,.55],inverseCoefficients:[-.33836704,-.18162185,.862655,-1.2462051,1.0560602,-.58208317,.21609078,-.05444823,.009177956,-.0009904169,6183535e-11,-16981803e-13]})};function G9(t){this.viewer=F9.CardboardV2,this.updateDeviceParams(t),this.distortion=new O9(this.viewer.distortionCoefficients)}function V9(t){this.id=t.id,this.label=t.label,this.fov=t.fov,this.interLensDistance=t.interLensDistance,this.baselineLensDistance=t.baselineLensDistance,this.screenLensDistance=t.screenLensDistance,this.distortionCoefficients=t.distortionCoefficients,this.inverseCoefficients=t.inverseCoefficients}G9.prototype.updateDeviceParams=function(t){this.device=this.Dhi(t)||this.device},G9.prototype.getDevice=function(){return this.device},G9.prototype.setViewer=function(t){this.viewer=t,this.distortion=new O9(this.viewer.distortionCoefficients)},G9.prototype.Dhi=function(t){if(!t)return e9()?(console.warn("Using fallback iOS device measurements."),Y9):(console.warn("Using fallback Android device measurements."),Q9);var n=.0254,i=n/t.xdpi,r=n/t.ydpi;return new U9({widthMeters:i*f9(),heightMeters:r*v9(),bevelMeters:.001*t.bevelMm})},G9.prototype.getDistortedFieldOfViewLeftEye=function(){var t=this.viewer,n=this.device,i=this.distortion,r=t.screenLensDistance,e=(n.widthMeters-t.interLensDistance)/2,u=t.interLensDistance/2,s=t.baselineLensDistance-n.bevelMeters,o=n.heightMeters-s,a=R9*w.atan(i.distort(e/r)),c=R9*w.atan(i.distort(u/r)),h=R9*w.atan(i.distort(s/r)),f=R9*w.atan(i.distort(o/r));return{leftDegrees:w.min(a,t.fov),rightDegrees:w.min(c,t.fov),downDegrees:w.min(h,t.fov),upDegrees:w.min(f,t.fov)}},G9.prototype.getLeftEyeVisibleTanAngles=function(){var t=this.viewer,n=this.device,i=this.distortion,r=w.tan(-z9*t.fov),e=w.tan(z9*t.fov),u=w.tan(z9*t.fov),s=w.tan(-z9*t.fov),o=n.widthMeters/4,a=n.heightMeters/2,c=t.baselineLensDistance-n.bevelMeters-a,h=t.interLensDistance/2-o,f=-c,v=t.screenLensDistance,l=i.distort((h-o)/v),d=i.distort((f+a)/v),g=i.distort((h+o)/v),y=i.distort((f-a)/v),m=new Float32Array(4);return m[0]=w.max(r,l),m[1]=w.min(e,d),m[2]=w.min(u,g),m[3]=w.max(s,y),m},G9.prototype.getLeftEyeNoLensTanAngles=function(){var t=this.viewer,n=this.device,i=this.distortion,r=new Float32Array(4),e=i.distortInverse(w.tan(-z9*t.fov)),u=i.distortInverse(w.tan(z9*t.fov)),s=i.distortInverse(w.tan(z9*t.fov)),o=i.distortInverse(w.tan(-z9*t.fov)),a=n.widthMeters/4,c=n.heightMeters/2,h=t.baselineLensDistance-n.bevelMeters-c,f=t.interLensDistance/2-a,v=-h,l=t.screenLensDistance,d=(f-a)/l,g=(v+c)/l,y=(f+a)/l,m=(v-c)/l;return r[0]=w.max(e,d),r[1]=w.min(u,g),r[2]=w.min(s,y),r[3]=w.max(o,m),r},G9.prototype.getLeftEyeVisibleScreenRect=function(t){var n=this.viewer,i=this.device,r=n.screenLensDistance,e=(i.widthMeters-n.interLensDistance)/2,u=n.baselineLensDistance-i.bevelMeters,s=(t[0]*r+e)/i.widthMeters,o=(t[1]*r+u)/i.heightMeters,a=(t[2]*r+e)/i.widthMeters,c=(t[3]*r+u)/i.heightMeters;return{x:s,y:c,width:a-s,height:o-c}},G9.prototype.getFieldOfViewLeftEye=function(t){return t?this.getUndistortedFieldOfViewLeftEye():this.getDistortedFieldOfViewLeftEye()},G9.prototype.getFieldOfViewRightEye=function(t){var n=this.getFieldOfViewLeftEye(t);return{leftDegrees:n.rightDegrees,rightDegrees:n.leftDegrees,upDegrees:n.upDegrees,downDegrees:n.downDegrees}},G9.prototype.getUndistortedFieldOfViewLeftEye=function(){var t=this.Ehi();return{leftDegrees:R9*w.atan(t.outerDist),rightDegrees:R9*w.atan(t.innerDist),downDegrees:R9*w.atan(t.bottomDist),upDegrees:R9*w.atan(t.topDist)}},G9.prototype.getUndistortedViewportLeftEye=function(){var t=this.Ehi(),n=this.viewer,i=this.device,r=n.screenLensDistance,e=i.widthMeters/r,u=i.heightMeters/r,s=i.width/e,o=i.height/u,a=w.round((t.eyePosX-t.outerDist)*s),c=w.round((t.eyePosY-t.bottomDist)*o);return{x:a,y:c,width:w.round((t.eyePosX+t.innerDist)*s)-a,height:w.round((t.eyePosY+t.topDist)*o)-c}},G9.prototype.Ehi=function(){var t=this.viewer,n=this.device,i=this.distortion,r=t.screenLensDistance,e=t.interLensDistance/2/r,u=n.widthMeters/r,s=n.heightMeters/r,o=u/2-e,a=(t.baselineLensDistance-n.bevelMeters)/r,c=t.fov,h=i.distortInverse(w.tan(z9*c)),f=w.min(o,h),v=w.min(e,h),l=w.min(a,h);return{outerDist:f,innerDist:v,topDist:w.min(s-a,h),bottomDist:l,eyePosX:o,eyePosY:a}},G9.Viewers=F9;var W9={format:1,last_updated:"2018-02-20T22:55:10Z",devices:[{type:"android",rules:[{mdmh:"asus/*/Nexus 7/*"},{ua:"Nexus 7"}],dpi:[320.8,323],bw:3,ac:500},{type:"android",rules:[{mdmh:"asus/*/ASUS_Z00AD/*"},{ua:"ASUS_Z00AD"}],dpi:[403,404.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel XL/*"},{ua:"Pixel XL"}],dpi:[537.9,533],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel/*"},{ua:"Pixel"}],dpi:[432.6,436.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC6435LVW/*"},{ua:"HTC6435LVW"}],dpi:[449.7,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC One XL/*"},{ua:"HTC One XL"}],dpi:[315.3,314.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"htc/*/Nexus 9/*"},{ua:"Nexus 9"}],dpi:289,bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One M9/*"},{ua:"HTC One M9"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One_M8/*"},{ua:"HTC One_M8"}],dpi:[449.7,447.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One/*"},{ua:"HTC One"}],dpi:472.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Huawei/*/Nexus 6P/*"},{ua:"Nexus 6P"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LENOVO/*/Lenovo PB2-690Y/*"},{ua:"Lenovo PB2-690Y"}],dpi:[457.2,454.713],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5X/*"},{ua:"Nexus 5X"}],dpi:[422,419.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS345/*"},{ua:"LGMS345"}],dpi:[221.7,219.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D800/*"},{ua:"LG-D800"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D850/*"},{ua:"LG-D850"}],dpi:[537.9,541.9],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/VS985 4G/*"},{ua:"VS985 4G"}],dpi:[537.9,535.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5/*"},{ua:"Nexus 5 B"}],dpi:[442.4,444.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 4/*"},{ua:"Nexus 4"}],dpi:[319.8,318.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LG-P769/*"},{ua:"LG-P769"}],dpi:[240.6,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS323/*"},{ua:"LGMS323"}],dpi:[206.6,204.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGLS996/*"},{ua:"LGLS996"}],dpi:[403.4,401.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/4560MMX/*"},{ua:"4560MMX"}],dpi:[240,219.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/A250/*"},{ua:"Micromax A250"}],dpi:[480,446.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/Micromax AQ4501/*"},{ua:"Micromax AQ4501"}],dpi:240,bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/G5/*"},{ua:"Moto G (5) Plus"}],dpi:[403.4,403],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/DROID RAZR/*"},{ua:"DROID RAZR"}],dpi:[368.1,256.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT830C/*"},{ua:"XT830C"}],dpi:[254,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1021/*"},{ua:"XT1021"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1023/*"},{ua:"XT1023"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1028/*"},{ua:"XT1028"}],dpi:[326.6,327.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1034/*"},{ua:"XT1034"}],dpi:[326.6,328.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1053/*"},{ua:"XT1053"}],dpi:[315.3,316.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1562/*"},{ua:"XT1562"}],dpi:[403.4,402.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/Nexus 6/*"},{ua:"Nexus 6 B"}],dpi:[494.3,489.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1063/*"},{ua:"XT1063"}],dpi:[295,296.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1064/*"},{ua:"XT1064"}],dpi:[295,295.6],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1092/*"},{ua:"XT1092"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1095/*"},{ua:"XT1095"}],dpi:[422,423.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/G4/*"},{ua:"Moto G (4)"}],dpi:401,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/A0001/*"},{ua:"A0001"}],dpi:[403.4,401],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE E1005/*"},{ua:"ONE E1005"}],dpi:[442.4,441.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A2005/*"},{ua:"ONE A2005"}],dpi:[391.9,405.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A5000/*"},{ua:"ONEPLUS A5000 "}],dpi:[403.411,399.737],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A5010/*"},{ua:"ONEPLUS A5010"}],dpi:[403,400],bw:2,ac:1e3},{type:"android",rules:[{mdmh:"OPPO/*/X909/*"},{ua:"X909"}],dpi:[442.4,444.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9082/*"},{ua:"GT-I9082"}],dpi:[184.7,185.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G360P/*"},{ua:"SM-G360P"}],dpi:[196.7,205.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Nexus S/*"},{ua:"Nexus S"}],dpi:[234.5,229.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[304.8,303.9],bw:5,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-T230NU/*"},{ua:"SM-T230NU"}],dpi:216,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SGH-T399/*"},{ua:"SGH-T399"}],dpi:[217.7,231.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SGH-M919/*"},{ua:"SGH-M919"}],dpi:[440.8,437.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N9005/*"},{ua:"SM-N9005"}],dpi:[386.4,387],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SM-N900A/*"},{ua:"SAMSUNG-SM-N900A"}],dpi:[386.4,387.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9500/*"},{ua:"GT-I9500"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/GT-I9505/*"},{ua:"GT-I9505"}],dpi:439.4,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900F/*"},{ua:"SM-G900F"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900M/*"},{ua:"SM-G900M"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G800F/*"},{ua:"SM-G800F"}],dpi:326.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G906S/*"},{ua:"SM-G906S"}],dpi:[562.7,572.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[306.7,304.8],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-T535/*"},{ua:"SM-T535"}],dpi:[142.6,136.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-N920C/*"},{ua:"SM-N920C"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N920P/*"},{ua:"SM-N920P"}],dpi:[386.3655,390.144],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N920W8/*"},{ua:"SM-N920W8"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300I/*"},{ua:"GT-I9300I"}],dpi:[304.8,305.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9195/*"},{ua:"GT-I9195"}],dpi:[249.4,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SPH-L520/*"},{ua:"SPH-L520"}],dpi:[249.4,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SGH-I717/*"},{ua:"SAMSUNG-SGH-I717"}],dpi:285.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SPH-D710/*"},{ua:"SPH-D710"}],dpi:[217.7,204.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-N7100/*"},{ua:"GT-N7100"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SCH-I605/*"},{ua:"SCH-I605"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Galaxy Nexus/*"},{ua:"Galaxy Nexus"}],dpi:[315.3,314.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910H/*"},{ua:"SM-N910H"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910C/*"},{ua:"SM-N910C"}],dpi:[515.2,520.2],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G130M/*"},{ua:"SM-G130M"}],dpi:[165.9,164.8],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G928I/*"},{ua:"SM-G928I"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G920F/*"},{ua:"SM-G920F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G920P/*"},{ua:"SM-G920P"}],dpi:[522.5,577],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G925F/*"},{ua:"SM-G925F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G925V/*"},{ua:"SM-G925V"}],dpi:[522.5,576.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G930F/*"},{ua:"SM-G930F"}],dpi:576.6,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G935F/*"},{ua:"SM-G935F"}],dpi:533,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G950F/*"},{ua:"SM-G950F"}],dpi:[562.707,565.293],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G955U/*"},{ua:"SM-G955U"}],dpi:[522.514,525.762],bw:3,ac:500},{type:"android",rules:[{mdmh:"Sony/*/C6903/*"},{ua:"C6903"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"Sony/*/D6653/*"},{ua:"D6653"}],dpi:[428.6,427.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6653/*"},{ua:"E6653"}],dpi:[428.6,425.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6853/*"},{ua:"E6853"}],dpi:[403.4,401.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/SGP321/*"},{ua:"SGP321"}],dpi:[224.7,224.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"TCT/*/ALCATEL ONE TOUCH Fierce/*"},{ua:"ALCATEL ONE TOUCH Fierce"}],dpi:[240,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"THL/*/thl 5000/*"},{ua:"thl 5000"}],dpi:[480,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Fly/*/IQ4412/*"},{ua:"IQ4412"}],dpi:307.9,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"ZTE/*/ZTE Blade L2/*"},{ua:"ZTE Blade L2"}],dpi:240,bw:3,ac:500},{type:"android",rules:[{mdmh:"BENEVE/*/VR518/*"},{ua:"VR518"}],dpi:480,bw:3,ac:500},{type:"ios",rules:[{res:[640,960]}],dpi:[325.1,328.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[640,1136]}],dpi:[317.1,320.2],bw:3,ac:1e3},{type:"ios",rules:[{res:[750,1334]}],dpi:326.4,bw:4,ac:1e3},{type:"ios",rules:[{res:[1242,2208]}],dpi:[453.6,458.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[1125,2001]}],dpi:[410.9,415.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[1125,2436]}],dpi:458,bw:4,ac:1e3}]};function X9(t,n){if(this.dpdb=W9,this.khi(),t){this.onDeviceParamsUpdated=n;var i=new k,r=this;i.open("GET",t,!0),i.addEventListener("load",(function(){r.loading=!1,i.status>=200&&i.status<=299?(r.dpdb=JSON.parse(i.response),r.khi()):console.error("Error loading online DPDB!")})),i.send()}}function Z9(t){this.xdpi=t.xdpi,this.ydpi=t.ydpi,this.bevelMm=t.bevelMm}function H9(t,n){this.set(t,n)}function K9(t,n){this.kFilter=t,this.isDebug=n,this.currentAccelMeasurement=new H9,this.currentGyroMeasurement=new H9,this.previousGyroMeasurement=new H9,e9()?this.filterQ=new P9(-1,0,0,1):this.filterQ=new P9(1,0,0,1),this.previousFilterQ=new P9,this.previousFilterQ.copy(this.filterQ),this.accelQ=new P9,this.isOrientationInitialized=!1,this.estimatedGravity=new B9,this.measuredGravity=new B9,this.gyroIntegralQ=new P9}function q9(t,n){this.predictionTimeS=t,this.isDebug=n,this.previousQ=new P9,this.previousTimestampS=null,this.deltaQ=new P9,this.outQ=new P9}function J9(t,n,i,r){this.yawOnly=i,this.accelerometer=new B9,this.gyroscope=new B9,this.filter=new K9(t,r),this.posePredictor=new q9(n,r),this.isFirefoxAndroid=s9(),this.isIOS=e9();var u=o9();this.isDeviceMotionInRadians=!this.isIOS&&u&&u<66,this.isWithoutDeviceMotion=a9(),this.filterToWorldQ=new P9,e9()?this.filterToWorldQ.setFromAxisAngle(new B9(1,0,0),w.PI/2):this.filterToWorldQ.setFromAxisAngle(new B9(1,0,0),-w.PI/2),this.inverseWorldToScreenQ=new P9,this.worldToScreenQ=new P9,this.originalPoseAdjustQ=new P9,this.originalPoseAdjustQ.setFromAxisAngle(new B9(0,0,1),-e.orientation*w.PI/180),this.Lhi(),h9()&&this.filterToWorldQ.multiply(this.inverseWorldToScreenQ),this.resetQ=new P9,this.xhi=new Float32Array(4),this.start()}X9.prototype.getDeviceParams=function(){return this.deviceParams},X9.prototype.khi=function(){var t=this.Chi();t?(this.deviceParams=t,this.onDeviceParamsUpdated&&this.onDeviceParamsUpdated(this.deviceParams)):console.error("Failed to recalculate device parameters.")},X9.prototype.Chi=function(){var t=this.dpdb;if(!t)return console.error("DPDB not available."),null;if(1!=t.format)return console.error("DPDB has unexpected format version."),null;if(!t.devices||!t.devices.length)return console.error("DPDB does not have a devices section."),null;var n=o.userAgent||o.vendor||e.opera,i=f9(),r=v9();if(!t.devices)return console.error("DPDB has no devices section."),null;for(var u=null,s=1/0,a=0;a<t.devices.length;a++){var c=t.devices[a];if(c.rules)if("ios"==c.type||"android"==c.type){if(e9()==("ios"==c.type)){for(var h=!1,f=0;f<c.rules.length;f++){var v=c.rules[f],l=this.Ohi(v,n,i,r);if(!0===l){s=l,u=c,h=!0;break}!1!==l&&l<s&&(s=l,u=c)}if(h)break}}else console.warn("Device["+a+"] has invalid type.");else console.warn("Device["+a+"] has no rules section.")}return u?new Z9({xdpi:u.dpi[0]||u.dpi,ydpi:u.dpi[1]||u.dpi,bevelMm:u.bw}):(console.warn("No DPDB device match."),null)},X9.prototype.Ohi=function(t,n,i,r){if(!t.ua&&!t.res)return!1;if(t.ua&&n.indexOf(t.ua)<0)return!1;if(t.res){if(!t.res[0]||!t.res[1])return!1;var e=t.res[0],u=t.res[1],s=w.min(i,r)-w.min(e,u),o=w.max(i,r)-w.max(e,u),a=w.abs(s)+w.abs(o);if(a>0)return a}return!0},H9.prototype.set=function(t,n){this.sample=t,this.timestampS=n},H9.prototype.copy=function(t){this.set(t.sample,t.timestampS)},K9.prototype.addAccelMeasurement=function(t,n){this.currentAccelMeasurement.set(t,n)},K9.prototype.addGyroMeasurement=function(t,n){this.currentGyroMeasurement.set(t,n),function(t){return!(A(t)||t<=.001||t>1)}(n-this.previousGyroMeasurement.timestampS)&&this.jhi(),this.previousGyroMeasurement.copy(this.currentGyroMeasurement)},K9.prototype.jhi=function(){if(!this.isOrientationInitialized)return this.accelQ=this.Rhi(this.currentAccelMeasurement.sample),this.previousFilterQ.copy(this.accelQ),void(this.isOrientationInitialized=!0);var t=this.currentGyroMeasurement.timestampS-this.previousGyroMeasurement.timestampS,n=this.Phi(this.currentGyroMeasurement.sample,t);this.gyroIntegralQ.multiply(n),this.filterQ.copy(this.previousFilterQ),this.filterQ.multiply(n);var i=new P9;i.copy(this.filterQ),i.inverse(),this.estimatedGravity.set(0,0,-1),this.estimatedGravity.applyQuaternion(i),this.estimatedGravity.normalize(),this.measuredGravity.copy(this.currentAccelMeasurement.sample),this.measuredGravity.normalize();var r=new P9;r.setFromUnitVectors(this.estimatedGravity,this.measuredGravity),r.inverse(),this.isDebug&&console.log("Delta: %d deg, G_est: (%s, %s, %s), G_meas: (%s, %s, %s)",R9*function(t){return t.w>1?(console.warn("getQuaternionAngle: w > 1"),0):2*w.acos(t.w)}(r),this.estimatedGravity.x.toFixed(1),this.estimatedGravity.y.toFixed(1),this.estimatedGravity.z.toFixed(1),this.measuredGravity.x.toFixed(1),this.measuredGravity.y.toFixed(1),this.measuredGravity.z.toFixed(1));var e=new P9;e.copy(this.filterQ),e.multiply(r),this.filterQ.slerp(e,1-this.kFilter),this.previousFilterQ.copy(this.filterQ)},K9.prototype.getOrientation=function(){return this.filterQ},K9.prototype.Rhi=function(t){var n=new B9;n.copy(t),n.normalize();var i=new P9;return i.setFromUnitVectors(new B9(0,0,-1),n),i.inverse(),i},K9.prototype.Phi=function(t,n){var i=new P9,r=new B9;return r.copy(t),r.normalize(),i.setFromAxisAngle(r,t.length()*n),i},q9.prototype.getPrediction=function(t,n,i){if(!this.previousTimestampS)return this.previousQ.copy(t),this.previousTimestampS=i,t;var r=new B9;r.copy(n),r.normalize();var e=n.length();if(e<20*z9)return this.isDebug&&console.log("Moving slowly, at %s deg/s: no prediction",(R9*e).toFixed(1)),this.outQ.copy(t),this.previousQ.copy(t),this.outQ;var u=e*this.predictionTimeS;return this.deltaQ.setFromAxisAngle(r,u),this.outQ.copy(this.previousQ),this.outQ.multiply(this.deltaQ),this.previousQ.copy(t),this.previousTimestampS=i,this.outQ},J9.prototype.getPosition=function(){return null},J9.prototype.getOrientation=function(){var t=void 0;if(this.isWithoutDeviceMotion&&this.zhi)return this.deviceOrientationFixQ=this.deviceOrientationFixQ||(n=(new P9).setFromAxisAngle(new B9(0,0,-1),0),i=new P9,-90===e.orientation?i.setFromAxisAngle(new B9(0,1,0),w.PI/-2):i.setFromAxisAngle(new B9(0,1,0),w.PI/2),n.multiply(i)),this.deviceOrientationFilterToWorldQ=this.deviceOrientationFilterToWorldQ||function(){var t=new P9;return t.setFromAxisAngle(new B9(1,0,0),-w.PI/2),t}(),t=this.zhi,(r=new P9).copy(t),r.multiply(this.deviceOrientationFilterToWorldQ),r.multiply(this.resetQ),r.multiply(this.worldToScreenQ),r.multiplyQuaternions(this.deviceOrientationFixQ,r),this.yawOnly&&(r.x=0,r.z=0,r.normalize()),this.xhi[0]=r.x,this.xhi[1]=r.y,this.xhi[2]=r.z,this.xhi[3]=r.w,this.xhi;var n,i,r,u=this.filter.getOrientation();return t=this.posePredictor.getPrediction(u,this.gyroscope,this.previousTimestampS),(r=new P9).copy(this.filterToWorldQ),r.multiply(this.resetQ),r.multiply(t),r.multiply(this.worldToScreenQ),this.yawOnly&&(r.x=0,r.z=0,r.normalize()),this.xhi[0]=r.x,this.xhi[1]=r.y,this.xhi[2]=r.z,this.xhi[3]=r.w,this.xhi},J9.prototype.resetPose=function(){this.resetQ.copy(this.filter.getOrientation()),this.resetQ.x=0,this.resetQ.y=0,this.resetQ.z*=-1,this.resetQ.normalize(),h9()&&this.resetQ.multiply(this.inverseWorldToScreenQ),this.resetQ.multiply(this.originalPoseAdjustQ)},J9.prototype.Bhi=function(t){this.zhi=this.zhi||new P9;var n=t.alpha,i=t.beta,r=t.gamma;n=(n||0)*w.PI/180,i=(i||0)*w.PI/180,r=(r||0)*w.PI/180,this.zhi.setFromEulerYXZ(i,n,-r)},J9.prototype.Uhi=function(t){this.Qhi(t)},J9.prototype.Qhi=function(t){var n=t.accelerationIncludingGravity,i=t.rotationRate,r=t.timeStamp/1e3,e=r-this.previousTimestampS;return e<0?(b9("fusion-pose-sensor:invalid:non-monotonic","Invalid timestamps detected: non-monotonic timestamp from devicemotion"),void(this.previousTimestampS=r)):e<=.001||e>1?(b9("fusion-pose-sensor:invalid:outside-threshold","Invalid timestamps detected: Timestamp from devicemotion outside expected range."),void(this.previousTimestampS=r)):(this.accelerometer.set(-n.x,-n.y,-n.z),c9()?this.gyroscope.set(-i.beta,i.alpha,i.gamma):this.gyroscope.set(i.alpha,i.beta,i.gamma),this.isDeviceMotionInRadians||this.gyroscope.multiplyScalar(w.PI/180),this.filter.addAccelMeasurement(this.accelerometer,r),this.filter.addGyroMeasurement(this.gyroscope,r),void(this.previousTimestampS=r))},J9.prototype.Fhi=function(t){this.Lhi()},J9.prototype.hO=function(t){var n=t.data;n&&n.type&&("devicemotion"===n.type.toLowerCase()&&this.Qhi(n.deviceMotionEvent))},J9.prototype.Lhi=function(){switch(this.worldToScreenQ.set(0,0,0,1),e.orientation){case 0:break;case 90:this.worldToScreenQ.setFromAxisAngle(new B9(0,0,1),-w.PI/2);break;case-90:this.worldToScreenQ.setFromAxisAngle(new B9(0,0,1),w.PI/2)}this.inverseWorldToScreenQ.copy(this.worldToScreenQ),this.inverseWorldToScreenQ.inverse()},J9.prototype.start=function(){var t,n,i;this.Yhi=this.Uhi.bind(this),this.Ghi=this.Fhi.bind(this),this.Vhi=this.hO.bind(this),this.Whi=this.Bhi.bind(this),e9()&&(t=e.self!==e.top,n=k9(u.referrer),i=k9(e.location.href),t&&n!==i)&&e.addEventListener("message",this.Vhi),e.addEventListener("orientationchange",this.Ghi),this.isWithoutDeviceMotion?e.addEventListener("deviceorientation",this.Whi):e.addEventListener("devicemotion",this.Yhi)},J9.prototype.stop=function(){e.removeEventListener("devicemotion",this.Yhi),e.removeEventListener("deviceorientation",this.Whi),e.removeEventListener("orientationchange",this.Ghi),e.removeEventListener("message",this.Vhi)};var $9=new B9(1,0,0),t8=new B9(0,0,1),n8={};screen.orientation?n8=screen.orientation:screen.msOrientation?n8=screen.msOrientation:g.defineProperty(n8,"angle",{get:function(){return e.orientation||0}});var i8=new P9;i8.setFromAxisAngle($9,-w.PI/2),i8.multiply((new P9).setFromAxisAngle(t8,w.PI/2));var r8=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,t),this.config=n,this.sensor=null,this.fusionSensor=null,this.Hhi=new Float32Array(4),this.api=null,this.errors=[],this.Xhi=new P9,this.Zhi=new P9,this.qhi=new P9,this.Khi=this.Khi.bind(this),this.Jhi=this.Jhi.bind(this),this.$hi=this.$hi.bind(this),this.$hi(),this.init()}return n9(t,[{key:"init",value:function(){var t=null;try{(t=new RelativeOrientationSensor({frequency:60})).addEventListener("error",this.Jhi)}catch(t){this.errors.push(t),"SecurityError"===t.name?(console.error("Cannot construct sensors due to the Feature Policy"),console.warn('Attempting to fall back using "devicemotion"; however this will fail in the future without correct permissions.'),this.useDeviceMotion()):"ReferenceError"===t.name?this.useDeviceMotion():console.error(t)}t&&(this.api="sensor",this.sensor=t,this.sensor.addEventListener("reading",this.Khi),this.sensor.start()),e.addEventListener("orientationchange",this.$hi)}},{key:"useDeviceMotion",value:function(){this.api="devicemotion",this.fusionSensor=new J9(this.config.K_FILTER,this.config.PREDICTION_TIME_S,this.config.YAW_ONLY,this.config.DEBUG)}},{key:"getOrientation",value:function(){if(this.fusionSensor)return this.fusionSensor.getOrientation();if(!this.sensor||!this.sensor.quaternion)return this.Hhi[0]=this.Hhi[1]=this.Hhi[2]=0,this.Hhi[3]=1,this.Hhi;var t=this.sensor.quaternion;this.Xhi.set(t[0],t[1],t[2],t[3]);var n=this.qhi;return n.copy(i8),n.multiply(this.Xhi),n.multiply(this.Zhi),this.config.YAW_ONLY&&(n.x=n.z=0,n.normalize()),this.Hhi[0]=n.x,this.Hhi[1]=n.y,this.Hhi[2]=n.z,this.Hhi[3]=n.w,this.Hhi}},{key:"Jhi",value:function(t){this.errors.push(t.error),"NotAllowedError"===t.error.name?console.error("Permission to access sensor was denied"):"NotReadableError"===t.error.name?console.error("Sensor could not be read"):console.error(t.error)}},{key:"Khi",value:function(){}},{key:"$hi",value:function(){var t=-n8.angle*w.PI/180;this.Zhi.setFromAxisAngle(t8,t)}}]),t}();function e8(){this.tai();var t=u.createElement("div");(s=t.style).position="fixed",s.top=0,s.right=0,s.bottom=0,s.left=0,s.backgroundColor="gray",s.fontFamily="sans-serif",s.zIndex=1e6;var n=u.createElement("img");n.src=this.icon,(s=n.style).marginLeft="25%",s.marginTop="25%",s.width="50%",t.appendChild(n);var i=u.createElement("div");(s=i.style).textAlign="center",s.fontSize="16px",s.lineHeight="24px",s.margin="24px 25%",s.width="50%",i.innerHTML="Place your phone into your Cardboard viewer.",t.appendChild(i);var r=u.createElement("div");(s=r.style).backgroundColor="#CFD8DC",s.position="fixed",s.bottom=0,s.width="100%",s.height="48px",s.padding="14px 24px",s.boxSizing="border-box",s.color="#656A6B",t.appendChild(r);var e=u.createElement("div");e.style.float="left",e.innerHTML="No Cardboard viewer?";var s,o=u.createElement("a");o.href="https://www.google.com/get/cardboard/get-cardboard/",o.innerHTML="get one",o.target="Du",(s=o.style).float="right",s.fontWeight=600,s.textTransform="uppercase",s.borderLeft="1px solid gray",s.paddingLeft="24px",s.textDecoration="none",s.color="#656A6B",r.appendChild(e),r.appendChild(o),this.overlay=t,this.text=i,this.hide()}e8.prototype.show=function(t){t||this.overlay.parentElement?t&&(this.overlay.parentElement&&this.overlay.parentElement!=t&&this.overlay.parentElement.removeChild(this.overlay),t.appendChild(this.overlay)):u.body.appendChild(this.overlay),this.overlay.style.display="block";var n=this.overlay.querySelector("img").style;h9()?(n.width="20%",n.marginLeft="40%",n.marginTop="3%"):(n.width="50%",n.marginLeft="25%",n.marginTop="25%")},e8.prototype.hide=function(){this.overlay.style.display="none"},e8.prototype.showTemporarily=function(t,n){this.show(n),this.timer=a(this.hide.bind(this),t)},e8.prototype.disableShowTemporarily=function(){c(this.timer)},e8.prototype.update=function(){this.disableShowTemporarily(),!h9()&&w9()?this.show():this.hide()},e8.prototype.tai=function(){this.icon="data:"+"image/svg+xml"+";base64,"+"PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjE5OHB4IiBoZWlnaHQ9IjI0MHB4IiB2aWV3Qm94PSIwIDAgMTk4IDI0MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bWxuczpza2V0Y2g9Imh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaC9ucyI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDMuMy4zICgxMjA4MSkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+dHJhbnNpdGlvbjwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPjwvZGVmcz4KICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHNrZXRjaDp0eXBlPSJNU1BhZ2UiPgogICAgICAgIDxnIGlkPSJ0cmFuc2l0aW9uIiBza2V0Y2g6dHlwZT0iTVNBcnRib2FyZEdyb3VwIj4KICAgICAgICAgICAgPGcgaWQ9IkltcG9ydGVkLUxheWVycy1Db3B5LTQtKy1JbXBvcnRlZC1MYXllcnMtQ29weS0rLUltcG9ydGVkLUxheWVycy1Db3B5LTItQ29weSIgc2tldGNoOnR5cGU9Ik1TTGF5ZXJHcm91cCI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iSW1wb3J0ZWQtTGF5ZXJzLUNvcHktNCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDEwNy4wMDAwMDApIiBza2V0Y2g6dHlwZT0iTVNTaGFwZUdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ5LjYyNSwyLjUyNyBDMTQ5LjYyNSwyLjUyNyAxNTUuODA1LDYuMDk2IDE1Ni4zNjIsNi40MTggTDE1Ni4zNjIsNy4zMDQgQzE1Ni4zNjIsNy40ODEgMTU2LjM3NSw3LjY2NCAxNTYuNCw3Ljg1MyBDMTU2LjQxLDcuOTM0IDE1Ni40Miw4LjAxNSAxNTYuNDI3LDguMDk1IEMxNTYuNTY3LDkuNTEgMTU3LjQwMSwxMS4wOTMgMTU4LjUzMiwxMi4wOTQgTDE2NC4yNTIsMTcuMTU2IEwxNjQuMzMzLDE3LjA2NiBDMTY0LjMzMywxNy4wNjYgMTY4LjcxNSwxNC41MzYgMTY5LjU2OCwxNC4wNDIgQzE3MS4wMjUsMTQuODgzIDE5NS41MzgsMjkuMDM1IDE5NS41MzgsMjkuMDM1IEwxOTUuNTM4LDgzLjAzNiBDMTk1LjUzOCw4My44MDcgMTk1LjE1Miw4NC4yNTMgMTk0LjU5LDg0LjI1MyBDMTk0LjM1Nyw4NC4yNTMgMTk0LjA5NSw4NC4xNzcgMTkzLjgxOCw4NC4wMTcgTDE2OS44NTEsNzAuMTc5IEwxNjkuODM3LDcwLjIwMyBMMTQyLjUxNSw4NS45NzggTDE0MS42NjUsODQuNjU1IEMxMzYuOTM0LDgzLjEyNiAxMzEuOTE3LDgxLjkxNSAxMjYuNzE0LDgxLjA0NSBDMTI2LjcwOSw4MS4wNiAxMjYuNzA3LDgxLjA2OSAxMjYuNzA3LDgxLjA2OSBMMTIxLjY0LDk4LjAzIEwxMTMuNzQ5LDEwMi41ODYgTDExMy43MTIsMTAyLjUyMyBMMTEzLjcxMiwxMzAuMTEzIEMxMTMuNzEyLDEzMC44ODUgMTEzLjMyNiwxMzEuMzMgMTEyLjc2NCwxMzEuMzMgQzExMi41MzIsMTMxLjMzIDExMi4yNjksMTMxLjI1NCAxMTEuOTkyLDEzMS4wOTQgTDY5LjUxOSwxMDYuNTcyIEM2OC41NjksMTA2LjAyMyA2Ny43OTksMTA0LjY5NSA2Ny43OTksMTAzLjYwNSBMNjcuNzk5LDEwMi41NyBMNjcuNzc4LDEwMi42MTcgQzY3LjI3LDEwMi4zOTMgNjYuNjQ4LDEwMi4yNDkgNjUuOTYyLDEwMi4yMTggQzY1Ljg3NSwxMDIuMjE0IDY1Ljc4OCwxMDIuMjEyIDY1LjcwMSwxMDIuMjEyIEM2NS42MDYsMTAyLjIxMiA2NS41MTEsMTAyLjIxNSA2NS40MTYsMTAyLjIxOSBDNjUuMTk1LDEwMi4yMjkgNjQuOTc0LDEwMi4yMzUgNjQuNzU0LDEwMi4yMzUgQzY0LjMzMSwxMDIuMjM1IDYzLjkxMSwxMDIuMjE2IDYzLjQ5OCwxMDIuMTc4IEM2MS44NDMsMTAyLjAyNSA2MC4yOTgsMTAxLjU3OCA1OS4wOTQsMTAwLjg4MiBMMTIuNTE4LDczLjk5MiBMMTIuNTIzLDc0LjAwNCBMMi4yNDUsNTUuMjU0IEMxLjI0NCw1My40MjcgMi4wMDQsNTEuMDM4IDMuOTQzLDQ5LjkxOCBMNTkuOTU0LDE3LjU3MyBDNjAuNjI2LDE3LjE4NSA2MS4zNSwxNy4wMDEgNjIuMDUzLDE3LjAwMSBDNjMuMzc5LDE3LjAwMSA2NC42MjUsMTcuNjYgNjUuMjgsMTguODU0IEw2NS4yODUsMTguODUxIEw2NS41MTIsMTkuMjY0IEw2NS41MDYsMTkuMjY4IEM2NS45MDksMjAuMDAzIDY2LjQwNSwyMC42OCA2Ni45ODMsMjEuMjg2IEw2Ny4yNiwyMS41NTYgQzY5LjE3NCwyMy40MDYgNzEuNzI4LDI0LjM1NyA3NC4zNzMsMjQuMzU3IEM3Ni4zMjIsMjQuMzU3IDc4LjMyMSwyMy44NCA4MC4xNDgsMjIuNzg1IEM4MC4xNjEsMjIuNzg1IDg3LjQ2NywxOC41NjYgODcuNDY3LDE4LjU2NiBDODguMTM5LDE4LjE3OCA4OC44NjMsMTcuOTk0IDg5LjU2NiwxNy45OTQgQzkwLjg5MiwxNy45OTQgOTIuMTM4LDE4LjY1MiA5Mi43OTIsMTkuODQ3IEw5Ni4wNDIsMjUuNzc1IEw5Ni4wNjQsMjUuNzU3IEwxMDIuODQ5LDI5LjY3NCBMMTAyLjc0NCwyOS40OTIgTDE0OS42MjUsMi41MjcgTTE0OS42MjUsMC44OTIgQzE0OS4zNDMsMC44OTIgMTQ5LjA2MiwwLjk2NSAxNDguODEsMS4xMSBMMTAyLjY0MSwyNy42NjYgTDk3LjIzMSwyNC41NDIgTDk0LjIyNiwxOS4wNjEgQzkzLjMxMywxNy4zOTQgOTEuNTI3LDE2LjM1OSA4OS41NjYsMTYuMzU4IEM4OC41NTUsMTYuMzU4IDg3LjU0NiwxNi42MzIgODYuNjQ5LDE3LjE1IEM4My44NzgsMTguNzUgNzkuNjg3LDIxLjE2OSA3OS4zNzQsMjEuMzQ1IEM3OS4zNTksMjEuMzUzIDc5LjM0NSwyMS4zNjEgNzkuMzMsMjEuMzY5IEM3Ny43OTgsMjIuMjU0IDc2LjA4NCwyMi43MjIgNzQuMzczLDIyLjcyMiBDNzIuMDgxLDIyLjcyMiA2OS45NTksMjEuODkgNjguMzk3LDIwLjM4IEw2OC4xNDUsMjAuMTM1IEM2Ny43MDYsMTkuNjcyIDY3LjMyMywxOS4xNTYgNjcuMDA2LDE4LjYwMSBDNjYuOTg4LDE4LjU1OSA2Ni45NjgsMTguNTE5IDY2Ljk0NiwxOC40NzkgTDY2LjcxOSwxOC4wNjUgQzY2LjY5LDE4LjAxMiA2Ni42NTgsMTcuOTYgNjYuNjI0LDE3LjkxMSBDNjUuNjg2LDE2LjMzNyA2My45NTEsMTUuMzY2IDYyLjA1MywxNS4zNjYgQzYxLjA0MiwxNS4zNjYgNjAuMDMzLDE1LjY0IDU5LjEzNiwxNi4xNTggTDMuMTI1LDQ4LjUwMiBDMC40MjYsNTAuMDYxIC0wLjYxMyw1My40NDIgMC44MTEsNTYuMDQgTDExLjA4OSw3NC43OSBDMTEuMjY2LDc1LjExMyAxMS41MzcsNzUuMzUzIDExLjg1LDc1LjQ5NCBMNTguMjc2LDEwMi4yOTggQzU5LjY3OSwxMDMuMTA4IDYxLjQzMywxMDMuNjMgNjMuMzQ4LDEwMy44MDYgQzYzLjgxMiwxMDMuODQ4IDY0LjI4NSwxMDMuODcgNjQuNzU0LDEwMy44NyBDNjUsMTAzLjg3IDY1LjI0OSwxMDMuODY0IDY1LjQ5NCwxMDMuODUyIEM2NS41NjMsMTAzLjg0OSA2NS42MzIsMTAzLjg0NyA2NS43MDEsMTAzLjg0NyBDNjUuNzY0LDEwMy44NDcgNjUuODI4LDEwMy44NDkgNjUuODksMTAzLjg1MiBDNjUuOTg2LDEwMy44NTYgNjYuMDgsMTAzLjg2MyA2Ni4xNzMsMTAzLjg3NCBDNjYuMjgyLDEwNS40NjcgNjcuMzMyLDEwNy4xOTcgNjguNzAyLDEwNy45ODggTDExMS4xNzQsMTMyLjUxIEMxMTEuNjk4LDEzMi44MTIgMTEyLjIzMiwxMzIuOTY1IDExMi43NjQsMTMyLjk2NSBDMTE0LjI2MSwxMzIuOTY1IDExNS4zNDcsMTMxLjc2NSAxMTUuMzQ3LDEzMC4xMTMgTDExNS4zNDcsMTAzLjU1MSBMMTIyLjQ1OCw5OS40NDYgQzEyMi44MTksOTkuMjM3IDEyMy4wODcsOTguODk4IDEyMy4yMDcsOTguNDk4IEwxMjcuODY1LDgyLjkwNSBDMTMyLjI3OSw4My43MDIgMTM2LjU1Nyw4NC43NTMgMTQwLjYwNyw4Ni4wMzMgTDE0MS4xNCw4Ni44NjIgQzE0MS40NTEsODcuMzQ2IDE0MS45NzcsODcuNjEzIDE0Mi41MTYsODcuNjEzIEMxNDIuNzk0LDg3LjYxMyAxNDMuMDc2LDg3LjU0MiAxNDMuMzMzLDg3LjM5MyBMMTY5Ljg2NSw3Mi4wNzYgTDE5Myw4NS40MzMgQzE5My41MjMsODUuNzM1IDE5NC4wNTgsODUuODg4IDE5NC41OSw4NS44ODggQzE5Ni4wODcsODUuODg4IDE5Ny4xNzMsODQuNjg5IDE5Ny4xNzMsODMuMDM2IEwxOTcuMTczLDI5LjAzNSBDMTk3LjE3MywyOC40NTEgMTk2Ljg2MSwyNy45MTEgMTk2LjM1NSwyNy42MTkgQzE5Ni4zNTUsMjcuNjE5IDE3MS44NDMsMTMuNDY3IDE3MC4zODUsMTIuNjI2IEMxNzAuMTMyLDEyLjQ4IDE2OS44NSwxMi40MDcgMTY5LjU2OCwxMi40MDcgQzE2OS4yODUsMTIuNDA3IDE2OS4wMDIsMTIuNDgxIDE2OC43NDksMTIuNjI3IEMxNjguMTQzLDEyLjk3OCAxNjUuNzU2LDE0LjM1NyAxNjQuNDI0LDE1LjEyNSBMMTU5LjYxNSwxMC44NyBDMTU4Ljc5NiwxMC4xNDUgMTU4LjE1NCw4LjkzNyAxNTguMDU0LDcuOTM0IEMxNTguMDQ1LDcuODM3IDE1OC4wMzQsNy43MzkgMTU4LjAyMSw3LjY0IEMxNTguMDA1LDcuNTIzIDE1Ny45OTgsNy40MSAxNTcuOTk4LDcuMzA0IEwxNTcuOTk4LDYuNDE4IEMxNTcuOTk4LDUuODM0IDE1Ny42ODYsNS4yOTUgMTU3LjE4MSw1LjAwMiBDMTU2LjYyNCw0LjY4IDE1MC40NDIsMS4xMTEgMTUwLjQ0MiwxLjExMSBDMTUwLjE4OSwwLjk2NSAxNDkuOTA3LDAuODkyIDE0OS42MjUsMC44OTIiIGlkPSJGaWxsLTEiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTYuMDI3LDI1LjYzNiBMMTQyLjYwMyw1Mi41MjcgQzE0My44MDcsNTMuMjIyIDE0NC41ODIsNTQuMTE0IDE0NC44NDUsNTUuMDY4IEwxNDQuODM1LDU1LjA3NSBMNjMuNDYxLDEwMi4wNTcgTDYzLjQ2LDEwMi4wNTcgQzYxLjgwNiwxMDEuOTA1IDYwLjI2MSwxMDEuNDU3IDU5LjA1NywxMDAuNzYyIEwxMi40ODEsNzMuODcxIEw5Ni4wMjcsMjUuNjM2IiBpZD0iRmlsbC0yIiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTYzLjQ2MSwxMDIuMTc0IEM2My40NTMsMTAyLjE3NCA2My40NDYsMTAyLjE3NCA2My40MzksMTAyLjE3MiBDNjEuNzQ2LDEwMi4wMTYgNjAuMjExLDEwMS41NjMgNTguOTk4LDEwMC44NjMgTDEyLjQyMiw3My45NzMgQzEyLjM4Niw3My45NTIgMTIuMzY0LDczLjkxNCAxMi4zNjQsNzMuODcxIEMxMi4zNjQsNzMuODMgMTIuMzg2LDczLjc5MSAxMi40MjIsNzMuNzcgTDk1Ljk2OCwyNS41MzUgQzk2LjAwNCwyNS41MTQgOTYuMDQ5LDI1LjUxNCA5Ni4wODUsMjUuNTM1IEwxNDIuNjYxLDUyLjQyNiBDMTQzLjg4OCw1My4xMzQgMTQ0LjY4Miw1NC4wMzggMTQ0Ljk1Nyw1NS4wMzcgQzE0NC45Nyw1NS4wODMgMTQ0Ljk1Myw1NS4xMzMgMTQ0LjkxNSw1NS4xNjEgQzE0NC45MTEsNTUuMTY1IDE0NC44OTgsNTUuMTc0IDE0NC44OTQsNTUuMTc3IEw2My41MTksMTAyLjE1OCBDNjMuNTAxLDEwMi4xNjkgNjMuNDgxLDEwMi4xNzQgNjMuNDYxLDEwMi4xNzQgTDYzLjQ2MSwxMDIuMTc0IFogTTEyLjcxNCw3My44NzEgTDU5LjExNSwxMDAuNjYxIEM2MC4yOTMsMTAxLjM0MSA2MS43ODYsMTAxLjc4MiA2My40MzUsMTAxLjkzNyBMMTQ0LjcwNyw1NS4wMTUgQzE0NC40MjgsNTQuMTA4IDE0My42ODIsNTMuMjg1IDE0Mi41NDQsNTIuNjI4IEw5Ni4wMjcsMjUuNzcxIEwxMi43MTQsNzMuODcxIEwxMi43MTQsNzMuODcxIFoiIGlkPSJGaWxsLTMiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ4LjMyNyw1OC40NzEgQzE0OC4xNDUsNTguNDggMTQ3Ljk2Miw1OC40OCAxNDcuNzgxLDU4LjQ3MiBDMTQ1Ljg4Nyw1OC4zODkgMTQ0LjQ3OSw1Ny40MzQgMTQ0LjYzNiw1Ni4zNCBDMTQ0LjY4OSw1NS45NjcgMTQ0LjY2NCw1NS41OTcgMTQ0LjU2NCw1NS4yMzUgTDYzLjQ2MSwxMDIuMDU3IEM2NC4wODksMTAyLjExNSA2NC43MzMsMTAyLjEzIDY1LjM3OSwxMDIuMDk5IEM2NS41NjEsMTAyLjA5IDY1Ljc0MywxMDIuMDkgNjUuOTI1LDEwMi4wOTggQzY3LjgxOSwxMDIuMTgxIDY5LjIyNywxMDMuMTM2IDY5LjA3LDEwNC4yMyBMMTQ4LjMyNyw1OC40NzEiIGlkPSJGaWxsLTQiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNjkuMDcsMTA0LjM0NyBDNjkuMDQ4LDEwNC4zNDcgNjkuMDI1LDEwNC4zNCA2OS4wMDUsMTA0LjMyNyBDNjguOTY4LDEwNC4zMDEgNjguOTQ4LDEwNC4yNTcgNjguOTU1LDEwNC4yMTMgQzY5LDEwMy44OTYgNjguODk4LDEwMy41NzYgNjguNjU4LDEwMy4yODggQzY4LjE1MywxMDIuNjc4IDY3LjEwMywxMDIuMjY2IDY1LjkyLDEwMi4yMTQgQzY1Ljc0MiwxMDIuMjA2IDY1LjU2MywxMDIuMjA3IDY1LjM4NSwxMDIuMjE1IEM2NC43NDIsMTAyLjI0NiA2NC4wODcsMTAyLjIzMiA2My40NSwxMDIuMTc0IEM2My4zOTksMTAyLjE2OSA2My4zNTgsMTAyLjEzMiA2My4zNDcsMTAyLjA4MiBDNjMuMzM2LDEwMi4wMzMgNjMuMzU4LDEwMS45ODEgNjMuNDAyLDEwMS45NTYgTDE0NC41MDYsNTUuMTM0IEMxNDQuNTM3LDU1LjExNiAxNDQuNTc1LDU1LjExMyAxNDQuNjA5LDU1LjEyNyBDMTQ0LjY0Miw1NS4xNDEgMTQ0LjY2OCw1NS4xNyAxNDQuNjc3LDU1LjIwNCBDMTQ0Ljc4MSw1NS41ODUgMTQ0LjgwNiw1NS45NzIgMTQ0Ljc1MSw1Ni4zNTcgQzE0NC43MDYsNTYuNjczIDE0NC44MDgsNTYuOTk0IDE0NS4wNDcsNTcuMjgyIEMxNDUuNTUzLDU3Ljg5MiAxNDYuNjAyLDU4LjMwMyAxNDcuNzg2LDU4LjM1NSBDMTQ3Ljk2NCw1OC4zNjMgMTQ4LjE0Myw1OC4zNjMgMTQ4LjMyMSw1OC4zNTQgQzE0OC4zNzcsNTguMzUyIDE0OC40MjQsNTguMzg3IDE0OC40MzksNTguNDM4IEMxNDguNDU0LDU4LjQ5IDE0OC40MzIsNTguNTQ1IDE0OC4zODUsNTguNTcyIEw2OS4xMjksMTA0LjMzMSBDNjkuMTExLDEwNC4zNDIgNjkuMDksMTA0LjM0NyA2OS4wNywxMDQuMzQ3IEw2OS4wNywxMDQuMzQ3IFogTTY1LjY2NSwxMDEuOTc1IEM2NS43NTQsMTAxLjk3NSA2NS44NDIsMTAxLjk3NyA2NS45MywxMDEuOTgxIEM2Ny4xOTYsMTAyLjAzNyA2OC4yODMsMTAyLjQ2OSA2OC44MzgsMTAzLjEzOSBDNjkuMDY1LDEwMy40MTMgNjkuMTg4LDEwMy43MTQgNjkuMTk4LDEwNC4wMjEgTDE0Ny44ODMsNTguNTkyIEMxNDcuODQ3LDU4LjU5MiAxNDcuODExLDU4LjU5MSAxNDcuNzc2LDU4LjU4OSBDMTQ2LjUwOSw1OC41MzMgMTQ1LjQyMiw1OC4xIDE0NC44NjcsNTcuNDMxIEMxNDQuNTg1LDU3LjA5MSAxNDQuNDY1LDU2LjcwNyAxNDQuNTIsNTYuMzI0IEMxNDQuNTYzLDU2LjAyMSAxNDQuNTUyLDU1LjcxNiAxNDQuNDg4LDU1LjQxNCBMNjMuODQ2LDEwMS45NyBDNjQuMzUzLDEwMi4wMDIgNjQuODY3LDEwMi4wMDYgNjUuMzc0LDEwMS45ODIgQzY1LjQ3MSwxMDEuOTc3IDY1LjU2OCwxMDEuOTc1IDY1LjY2NSwxMDEuOTc1IEw2NS42NjUsMTAxLjk3NSBaIiBpZD0iRmlsbC01IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTIuMjA4LDU1LjEzNCBDMS4yMDcsNTMuMzA3IDEuOTY3LDUwLjkxNyAzLjkwNiw0OS43OTcgTDU5LjkxNywxNy40NTMgQzYxLjg1NiwxNi4zMzMgNjQuMjQxLDE2LjkwNyA2NS4yNDMsMTguNzM0IEw2NS40NzUsMTkuMTQ0IEM2NS44NzIsMTkuODgyIDY2LjM2OCwyMC41NiA2Ni45NDUsMjEuMTY1IEw2Ny4yMjMsMjEuNDM1IEM3MC41NDgsMjQuNjQ5IDc1LjgwNiwyNS4xNTEgODAuMTExLDIyLjY2NSBMODcuNDMsMTguNDQ1IEM4OS4zNywxNy4zMjYgOTEuNzU0LDE3Ljg5OSA5Mi43NTUsMTkuNzI3IEw5Ni4wMDUsMjUuNjU1IEwxMi40ODYsNzMuODg0IEwyLjIwOCw1NS4xMzQgWiIgaWQ9IkZpbGwtNiIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMi40ODYsNzQuMDAxIEMxMi40NzYsNzQuMDAxIDEyLjQ2NSw3My45OTkgMTIuNDU1LDczLjk5NiBDMTIuNDI0LDczLjk4OCAxMi4zOTksNzMuOTY3IDEyLjM4NCw3My45NCBMMi4xMDYsNTUuMTkgQzEuMDc1LDUzLjMxIDEuODU3LDUwLjg0NSAzLjg0OCw0OS42OTYgTDU5Ljg1OCwxNy4zNTIgQzYwLjUyNSwxNi45NjcgNjEuMjcxLDE2Ljc2NCA2Mi4wMTYsMTYuNzY0IEM2My40MzEsMTYuNzY0IDY0LjY2NiwxNy40NjYgNjUuMzI3LDE4LjY0NiBDNjUuMzM3LDE4LjY1NCA2NS4zNDUsMTguNjYzIDY1LjM1MSwxOC42NzQgTDY1LjU3OCwxOS4wODggQzY1LjU4NCwxOS4xIDY1LjU4OSwxOS4xMTIgNjUuNTkxLDE5LjEyNiBDNjUuOTg1LDE5LjgzOCA2Ni40NjksMjAuNDk3IDY3LjAzLDIxLjA4NSBMNjcuMzA1LDIxLjM1MSBDNjkuMTUxLDIzLjEzNyA3MS42NDksMjQuMTIgNzQuMzM2LDI0LjEyIEM3Ni4zMTMsMjQuMTIgNzguMjksMjMuNTgyIDgwLjA1MywyMi41NjMgQzgwLjA2NCwyMi41NTcgODAuMDc2LDIyLjU1MyA4MC4wODgsMjIuNTUgTDg3LjM3MiwxOC4zNDQgQzg4LjAzOCwxNy45NTkgODguNzg0LDE3Ljc1NiA4OS41MjksMTcuNzU2IEM5MC45NTYsMTcuNzU2IDkyLjIwMSwxOC40NzIgOTIuODU4LDE5LjY3IEw5Ni4xMDcsMjUuNTk5IEM5Ni4xMzgsMjUuNjU0IDk2LjExOCwyNS43MjQgOTYuMDYzLDI1Ljc1NiBMMTIuNTQ1LDczLjk4NSBDMTIuNTI2LDczLjk5NiAxMi41MDYsNzQuMDAxIDEyLjQ4Niw3NC4wMDEgTDEyLjQ4Niw3NC4wMDEgWiBNNjIuMDE2LDE2Ljk5NyBDNjEuMzEyLDE2Ljk5NyA2MC42MDYsMTcuMTkgNTkuOTc1LDE3LjU1NCBMMy45NjUsNDkuODk5IEMyLjA4Myw1MC45ODUgMS4zNDEsNTMuMzA4IDIuMzEsNTUuMDc4IEwxMi41MzEsNzMuNzIzIEw5NS44NDgsMjUuNjExIEw5Mi42NTMsMTkuNzgyIEM5Mi4wMzgsMTguNjYgOTAuODcsMTcuOTkgODkuNTI5LDE3Ljk5IEM4OC44MjUsMTcuOTkgODguMTE5LDE4LjE4MiA4Ny40ODksMTguNTQ3IEw4MC4xNzIsMjIuNzcyIEM4MC4xNjEsMjIuNzc4IDgwLjE0OSwyMi43ODIgODAuMTM3LDIyLjc4NSBDNzguMzQ2LDIzLjgxMSA3Ni4zNDEsMjQuMzU0IDc0LjMzNiwyNC4zNTQgQzcxLjU4OCwyNC4zNTQgNjkuMDMzLDIzLjM0NyA2Ny4xNDIsMjEuNTE5IEw2Ni44NjQsMjEuMjQ5IEM2Ni4yNzcsMjAuNjM0IDY1Ljc3NCwxOS45NDcgNjUuMzY3LDE5LjIwMyBDNjUuMzYsMTkuMTkyIDY1LjM1NiwxOS4xNzkgNjUuMzU0LDE5LjE2NiBMNjUuMTYzLDE4LjgxOSBDNjUuMTU0LDE4LjgxMSA2NS4xNDYsMTguODAxIDY1LjE0LDE4Ljc5IEM2NC41MjUsMTcuNjY3IDYzLjM1NywxNi45OTcgNjIuMDE2LDE2Ljk5NyBMNjIuMDE2LDE2Ljk5NyBaIiBpZD0iRmlsbC03IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTQyLjQzNCw0OC44MDggTDQyLjQzNCw0OC44MDggQzM5LjkyNCw0OC44MDcgMzcuNzM3LDQ3LjU1IDM2LjU4Miw0NS40NDMgQzM0Ljc3MSw0Mi4xMzkgMzYuMTQ0LDM3LjgwOSAzOS42NDEsMzUuNzg5IEw1MS45MzIsMjguNjkxIEM1My4xMDMsMjguMDE1IDU0LjQxMywyNy42NTggNTUuNzIxLDI3LjY1OCBDNTguMjMxLDI3LjY1OCA2MC40MTgsMjguOTE2IDYxLjU3MywzMS4wMjMgQzYzLjM4NCwzNC4zMjcgNjIuMDEyLDM4LjY1NyA1OC41MTQsNDAuNjc3IEw0Ni4yMjMsNDcuNzc1IEM0NS4wNTMsNDguNDUgNDMuNzQyLDQ4LjgwOCA0Mi40MzQsNDguODA4IEw0Mi40MzQsNDguODA4IFogTTU1LjcyMSwyOC4xMjUgQzU0LjQ5NSwyOC4xMjUgNTMuMjY1LDI4LjQ2MSA1Mi4xNjYsMjkuMDk2IEwzOS44NzUsMzYuMTk0IEMzNi41OTYsMzguMDg3IDM1LjMwMiw0Mi4xMzYgMzYuOTkyLDQ1LjIxOCBDMzguMDYzLDQ3LjE3MyA0MC4wOTgsNDguMzQgNDIuNDM0LDQ4LjM0IEM0My42NjEsNDguMzQgNDQuODksNDguMDA1IDQ1Ljk5LDQ3LjM3IEw1OC4yODEsNDAuMjcyIEM2MS41NiwzOC4zNzkgNjIuODUzLDM0LjMzIDYxLjE2NCwzMS4yNDggQzYwLjA5MiwyOS4yOTMgNTguMDU4LDI4LjEyNSA1NS43MjEsMjguMTI1IEw1NS43MjEsMjguMTI1IFoiIGlkPSJGaWxsLTgiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ5LjU4OCwyLjQwNyBDMTQ5LjU4OCwyLjQwNyAxNTUuNzY4LDUuOTc1IDE1Ni4zMjUsNi4yOTcgTDE1Ni4zMjUsNy4xODQgQzE1Ni4zMjUsNy4zNiAxNTYuMzM4LDcuNTQ0IDE1Ni4zNjIsNy43MzMgQzE1Ni4zNzMsNy44MTQgMTU2LjM4Miw3Ljg5NCAxNTYuMzksNy45NzUgQzE1Ni41Myw5LjM5IDE1Ny4zNjMsMTAuOTczIDE1OC40OTUsMTEuOTc0IEwxNjUuODkxLDE4LjUxOSBDMTY2LjA2OCwxOC42NzUgMTY2LjI0OSwxOC44MTQgMTY2LjQzMiwxOC45MzQgQzE2OC4wMTEsMTkuOTc0IDE2OS4zODIsMTkuNCAxNjkuNDk0LDE3LjY1MiBDMTY5LjU0MywxNi44NjggMTY5LjU1MSwxNi4wNTcgMTY5LjUxNywxNS4yMjMgTDE2OS41MTQsMTUuMDYzIEwxNjkuNTE0LDEzLjkxMiBDMTcwLjc4LDE0LjY0MiAxOTUuNTAxLDI4LjkxNSAxOTUuNTAxLDI4LjkxNSBMMTk1LjUwMSw4Mi45MTUgQzE5NS41MDEsODQuMDA1IDE5NC43MzEsODQuNDQ1IDE5My43ODEsODMuODk3IEwxNTEuMzA4LDU5LjM3NCBDMTUwLjM1OCw1OC44MjYgMTQ5LjU4OCw1Ny40OTcgMTQ5LjU4OCw1Ni40MDggTDE0OS41ODgsMjIuMzc1IiBpZD0iRmlsbC05IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE5NC41NTMsODQuMjUgQzE5NC4yOTYsODQuMjUgMTk0LjAxMyw4NC4xNjUgMTkzLjcyMiw4My45OTcgTDE1MS4yNSw1OS40NzYgQzE1MC4yNjksNTguOTA5IDE0OS40NzEsNTcuNTMzIDE0OS40NzEsNTYuNDA4IEwxNDkuNDcxLDIyLjM3NSBMMTQ5LjcwNSwyMi4zNzUgTDE0OS43MDUsNTYuNDA4IEMxNDkuNzA1LDU3LjQ1OSAxNTAuNDUsNTguNzQ0IDE1MS4zNjYsNTkuMjc0IEwxOTMuODM5LDgzLjc5NSBDMTk0LjI2Myw4NC4wNCAxOTQuNjU1LDg0LjA4MyAxOTQuOTQyLDgzLjkxNyBDMTk1LjIyNyw4My43NTMgMTk1LjM4NCw4My4zOTcgMTk1LjM4NCw4Mi45MTUgTDE5NS4zODQsMjguOTgyIEMxOTQuMTAyLDI4LjI0MiAxNzIuMTA0LDE1LjU0MiAxNjkuNjMxLDE0LjExNCBMMTY5LjYzNCwxNS4yMiBDMTY5LjY2OCwxNi4wNTIgMTY5LjY2LDE2Ljg3NCAxNjkuNjEsMTcuNjU5IEMxNjkuNTU2LDE4LjUwMyAxNjkuMjE0LDE5LjEyMyAxNjguNjQ3LDE5LjQwNSBDMTY4LjAyOCwxOS43MTQgMTY3LjE5NywxOS41NzggMTY2LjM2NywxOS4wMzIgQzE2Ni4xODEsMTguOTA5IDE2NS45OTUsMTguNzY2IDE2NS44MTQsMTguNjA2IEwxNTguNDE3LDEyLjA2MiBDMTU3LjI1OSwxMS4wMzYgMTU2LjQxOCw5LjQzNyAxNTYuMjc0LDcuOTg2IEMxNTYuMjY2LDcuOTA3IDE1Ni4yNTcsNy44MjcgMTU2LjI0Nyw3Ljc0OCBDMTU2LjIyMSw3LjU1NSAxNTYuMjA5LDcuMzY1IDE1Ni4yMDksNy4xODQgTDE1Ni4yMDksNi4zNjQgQzE1NS4zNzUsNS44ODMgMTQ5LjUyOSwyLjUwOCAxNDkuNTI5LDIuNTA4IEwxNDkuNjQ2LDIuMzA2IEMxNDkuNjQ2LDIuMzA2IDE1NS44MjcsNS44NzQgMTU2LjM4NCw2LjE5NiBMMTU2LjQ0Miw2LjIzIEwxNTYuNDQyLDcuMTg0IEMxNTYuNDQyLDcuMzU1IDE1Ni40NTQsNy41MzUgMTU2LjQ3OCw3LjcxNyBDMTU2LjQ4OSw3LjggMTU2LjQ5OSw3Ljg4MiAxNTYuNTA3LDcuOTYzIEMxNTYuNjQ1LDkuMzU4IDE1Ny40NTUsMTAuODk4IDE1OC41NzIsMTEuODg2IEwxNjUuOTY5LDE4LjQzMSBDMTY2LjE0MiwxOC41ODQgMTY2LjMxOSwxOC43MiAxNjYuNDk2LDE4LjgzNyBDMTY3LjI1NCwxOS4zMzYgMTY4LDE5LjQ2NyAxNjguNTQzLDE5LjE5NiBDMTY5LjAzMywxOC45NTMgMTY5LjMyOSwxOC40MDEgMTY5LjM3NywxNy42NDUgQzE2OS40MjcsMTYuODY3IDE2OS40MzQsMTYuMDU0IDE2OS40MDEsMTUuMjI4IEwxNjkuMzk3LDE1LjA2NSBMMTY5LjM5NywxMy43MSBMMTY5LjU3MiwxMy44MSBDMTcwLjgzOSwxNC41NDEgMTk1LjU1OSwyOC44MTQgMTk1LjU1OSwyOC44MTQgTDE5NS42MTgsMjguODQ3IEwxOTUuNjE4LDgyLjkxNSBDMTk1LjYxOCw4My40ODQgMTk1LjQyLDgzLjkxMSAxOTUuMDU5LDg0LjExOSBDMTk0LjkwOCw4NC4yMDYgMTk0LjczNyw4NC4yNSAxOTQuNTUzLDg0LjI1IiBpZD0iRmlsbC0xMCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNDUuNjg1LDU2LjE2MSBMMTY5LjgsNzAuMDgzIEwxNDMuODIyLDg1LjA4MSBMMTQyLjM2LDg0Ljc3NCBDMTM1LjgyNiw4Mi42MDQgMTI4LjczMiw4MS4wNDYgMTIxLjM0MSw4MC4xNTggQzExNi45NzYsNzkuNjM0IDExMi42NzgsODEuMjU0IDExMS43NDMsODMuNzc4IEMxMTEuNTA2LDg0LjQxNCAxMTEuNTAzLDg1LjA3MSAxMTEuNzMyLDg1LjcwNiBDMTEzLjI3LDg5Ljk3MyAxMTUuOTY4LDk0LjA2OSAxMTkuNzI3LDk3Ljg0MSBMMTIwLjI1OSw5OC42ODYgQzEyMC4yNiw5OC42ODUgOTQuMjgyLDExMy42ODMgOTQuMjgyLDExMy42ODMgTDcwLjE2Nyw5OS43NjEgTDE0NS42ODUsNTYuMTYxIiBpZD0iRmlsbC0xMSIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik05NC4yODIsMTEzLjgxOCBMOTQuMjIzLDExMy43ODUgTDY5LjkzMyw5OS43NjEgTDcwLjEwOCw5OS42NiBMMTQ1LjY4NSw1Ni4wMjYgTDE0NS43NDMsNTYuMDU5IEwxNzAuMDMzLDcwLjA4MyBMMTQzLjg0Miw4NS4yMDUgTDE0My43OTcsODUuMTk1IEMxNDMuNzcyLDg1LjE5IDE0Mi4zMzYsODQuODg4IDE0Mi4zMzYsODQuODg4IEMxMzUuNzg3LDgyLjcxNCAxMjguNzIzLDgxLjE2MyAxMjEuMzI3LDgwLjI3NCBDMTIwLjc4OCw4MC4yMDkgMTIwLjIzNiw4MC4xNzcgMTE5LjY4OSw4MC4xNzcgQzExNS45MzEsODAuMTc3IDExMi42MzUsODEuNzA4IDExMS44NTIsODMuODE5IEMxMTEuNjI0LDg0LjQzMiAxMTEuNjIxLDg1LjA1MyAxMTEuODQyLDg1LjY2NyBDMTEzLjM3Nyw4OS45MjUgMTE2LjA1OCw5My45OTMgMTE5LjgxLDk3Ljc1OCBMMTE5LjgyNiw5Ny43NzkgTDEyMC4zNTIsOTguNjE0IEMxMjAuMzU0LDk4LjYxNyAxMjAuMzU2LDk4LjYyIDEyMC4zNTgsOTguNjI0IEwxMjAuNDIyLDk4LjcyNiBMMTIwLjMxNyw5OC43ODcgQzEyMC4yNjQsOTguODE4IDk0LjU5OSwxMTMuNjM1IDk0LjM0LDExMy43ODUgTDk0LjI4MiwxMTMuODE4IEw5NC4yODIsMTEzLjgxOCBaIE03MC40MDEsOTkuNzYxIEw5NC4yODIsMTEzLjU0OSBMMTE5LjA4NCw5OS4yMjkgQzExOS42Myw5OC45MTQgMTE5LjkzLDk4Ljc0IDEyMC4xMDEsOTguNjU0IEwxMTkuNjM1LDk3LjkxNCBDMTE1Ljg2NCw5NC4xMjcgMTEzLjE2OCw5MC4wMzMgMTExLjYyMiw4NS43NDYgQzExMS4zODIsODUuMDc5IDExMS4zODYsODQuNDA0IDExMS42MzMsODMuNzM4IEMxMTIuNDQ4LDgxLjUzOSAxMTUuODM2LDc5Ljk0MyAxMTkuNjg5LDc5Ljk0MyBDMTIwLjI0Niw3OS45NDMgMTIwLjgwNiw3OS45NzYgMTIxLjM1NSw4MC4wNDIgQzEyOC43NjcsODAuOTMzIDEzNS44NDYsODIuNDg3IDE0Mi4zOTYsODQuNjYzIEMxNDMuMjMyLDg0LjgzOCAxNDMuNjExLDg0LjkxNyAxNDMuNzg2LDg0Ljk2NyBMMTY5LjU2Niw3MC4wODMgTDE0NS42ODUsNTYuMjk1IEw3MC40MDEsOTkuNzYxIEw3MC40MDEsOTkuNzYxIFoiIGlkPSJGaWxsLTEyIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2Ny4yMywxOC45NzkgTDE2Ny4yMyw2OS44NSBMMTM5LjkwOSw4NS42MjMgTDEzMy40NDgsNzEuNDU2IEMxMzIuNTM4LDY5LjQ2IDEzMC4wMiw2OS43MTggMTI3LjgyNCw3Mi4wMyBDMTI2Ljc2OSw3My4xNCAxMjUuOTMxLDc0LjU4NSAxMjUuNDk0LDc2LjA0OCBMMTE5LjAzNCw5Ny42NzYgTDkxLjcxMiwxMTMuNDUgTDkxLjcxMiw2Mi41NzkgTDE2Ny4yMywxOC45NzkiIGlkPSJGaWxsLTEzIiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTkxLjcxMiwxMTMuNTY3IEM5MS42OTIsMTEzLjU2NyA5MS42NzIsMTEzLjU2MSA5MS42NTMsMTEzLjU1MSBDOTEuNjE4LDExMy41MyA5MS41OTUsMTEzLjQ5MiA5MS41OTUsMTEzLjQ1IEw5MS41OTUsNjIuNTc5IEM5MS41OTUsNjIuNTM3IDkxLjYxOCw2Mi40OTkgOTEuNjUzLDYyLjQ3OCBMMTY3LjE3MiwxOC44NzggQzE2Ny4yMDgsMTguODU3IDE2Ny4yNTIsMTguODU3IDE2Ny4yODgsMTguODc4IEMxNjcuMzI0LDE4Ljg5OSAxNjcuMzQ3LDE4LjkzNyAxNjcuMzQ3LDE4Ljk3OSBMMTY3LjM0Nyw2OS44NSBDMTY3LjM0Nyw2OS44OTEgMTY3LjMyNCw2OS45MyAxNjcuMjg4LDY5Ljk1IEwxMzkuOTY3LDg1LjcyNSBDMTM5LjkzOSw4NS43NDEgMTM5LjkwNSw4NS43NDUgMTM5Ljg3Myw4NS43MzUgQzEzOS44NDIsODUuNzI1IDEzOS44MTYsODUuNzAyIDEzOS44MDIsODUuNjcyIEwxMzMuMzQyLDcxLjUwNCBDMTMyLjk2Nyw3MC42ODIgMTMyLjI4LDcwLjIyOSAxMzEuNDA4LDcwLjIyOSBDMTMwLjMxOSw3MC4yMjkgMTI5LjA0NCw3MC45MTUgMTI3LjkwOCw3Mi4xMSBDMTI2Ljg3NCw3My4yIDEyNi4wMzQsNzQuNjQ3IDEyNS42MDYsNzYuMDgyIEwxMTkuMTQ2LDk3LjcwOSBDMTE5LjEzNyw5Ny43MzggMTE5LjExOCw5Ny43NjIgMTE5LjA5Miw5Ny43NzcgTDkxLjc3LDExMy41NTEgQzkxLjc1MiwxMTMuNTYxIDkxLjczMiwxMTMuNTY3IDkxLjcxMiwxMTMuNTY3IEw5MS43MTIsMTEzLjU2NyBaIE05MS44MjksNjIuNjQ3IEw5MS44MjksMTEzLjI0OCBMMTE4LjkzNSw5Ny41OTggTDEyNS4zODIsNzYuMDE1IEMxMjUuODI3LDc0LjUyNSAxMjYuNjY0LDczLjA4MSAxMjcuNzM5LDcxLjk1IEMxMjguOTE5LDcwLjcwOCAxMzAuMjU2LDY5Ljk5NiAxMzEuNDA4LDY5Ljk5NiBDMTMyLjM3Nyw2OS45OTYgMTMzLjEzOSw3MC40OTcgMTMzLjU1NCw3MS40MDcgTDEzOS45NjEsODUuNDU4IEwxNjcuMTEzLDY5Ljc4MiBMMTY3LjExMywxOS4xODEgTDkxLjgyOSw2Mi42NDcgTDkxLjgyOSw2Mi42NDcgWiIgaWQ9IkZpbGwtMTQiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTY4LjU0MywxOS4yMTMgTDE2OC41NDMsNzAuMDgzIEwxNDEuMjIxLDg1Ljg1NyBMMTM0Ljc2MSw3MS42ODkgQzEzMy44NTEsNjkuNjk0IDEzMS4zMzMsNjkuOTUxIDEyOS4xMzcsNzIuMjYzIEMxMjguMDgyLDczLjM3NCAxMjcuMjQ0LDc0LjgxOSAxMjYuODA3LDc2LjI4MiBMMTIwLjM0Niw5Ny45MDkgTDkzLjAyNSwxMTMuNjgzIEw5My4wMjUsNjIuODEzIEwxNjguNTQzLDE5LjIxMyIgaWQ9IkZpbGwtMTUiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTMuMDI1LDExMy44IEM5My4wMDUsMTEzLjggOTIuOTg0LDExMy43OTUgOTIuOTY2LDExMy43ODUgQzkyLjkzMSwxMTMuNzY0IDkyLjkwOCwxMTMuNzI1IDkyLjkwOCwxMTMuNjg0IEw5Mi45MDgsNjIuODEzIEM5Mi45MDgsNjIuNzcxIDkyLjkzMSw2Mi43MzMgOTIuOTY2LDYyLjcxMiBMMTY4LjQ4NCwxOS4xMTIgQzE2OC41MiwxOS4wOSAxNjguNTY1LDE5LjA5IDE2OC42MDEsMTkuMTEyIEMxNjguNjM3LDE5LjEzMiAxNjguNjYsMTkuMTcxIDE2OC42NiwxOS4yMTIgTDE2OC42Niw3MC4wODMgQzE2OC42Niw3MC4xMjUgMTY4LjYzNyw3MC4xNjQgMTY4LjYwMSw3MC4xODQgTDE0MS4yOCw4NS45NTggQzE0MS4yNTEsODUuOTc1IDE0MS4yMTcsODUuOTc5IDE0MS4xODYsODUuOTY4IEMxNDEuMTU0LDg1Ljk1OCAxNDEuMTI5LDg1LjkzNiAxNDEuMTE1LDg1LjkwNiBMMTM0LjY1NSw3MS43MzggQzEzNC4yOCw3MC45MTUgMTMzLjU5Myw3MC40NjMgMTMyLjcyLDcwLjQ2MyBDMTMxLjYzMiw3MC40NjMgMTMwLjM1Nyw3MS4xNDggMTI5LjIyMSw3Mi4zNDQgQzEyOC4xODYsNzMuNDMzIDEyNy4zNDcsNzQuODgxIDEyNi45MTksNzYuMzE1IEwxMjAuNDU4LDk3Ljk0MyBDMTIwLjQ1LDk3Ljk3MiAxMjAuNDMxLDk3Ljk5NiAxMjAuNDA1LDk4LjAxIEw5My4wODMsMTEzLjc4NSBDOTMuMDY1LDExMy43OTUgOTMuMDQ1LDExMy44IDkzLjAyNSwxMTMuOCBMOTMuMDI1LDExMy44IFogTTkzLjE0Miw2Mi44ODEgTDkzLjE0MiwxMTMuNDgxIEwxMjAuMjQ4LDk3LjgzMiBMMTI2LjY5NSw3Ni4yNDggQzEyNy4xNCw3NC43NTggMTI3Ljk3Nyw3My4zMTUgMTI5LjA1Miw3Mi4xODMgQzEzMC4yMzEsNzAuOTQyIDEzMS41NjgsNzAuMjI5IDEzMi43Miw3MC4yMjkgQzEzMy42ODksNzAuMjI5IDEzNC40NTIsNzAuNzMxIDEzNC44NjcsNzEuNjQxIEwxNDEuMjc0LDg1LjY5MiBMMTY4LjQyNiw3MC4wMTYgTDE2OC40MjYsMTkuNDE1IEw5My4xNDIsNjIuODgxIEw5My4xNDIsNjIuODgxIFoiIGlkPSJGaWxsLTE2IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2OS44LDcwLjA4MyBMMTQyLjQ3OCw4NS44NTcgTDEzNi4wMTgsNzEuNjg5IEMxMzUuMTA4LDY5LjY5NCAxMzIuNTksNjkuOTUxIDEzMC4zOTMsNzIuMjYzIEMxMjkuMzM5LDczLjM3NCAxMjguNSw3NC44MTkgMTI4LjA2NCw3Ni4yODIgTDEyMS42MDMsOTcuOTA5IEw5NC4yODIsMTEzLjY4MyBMOTQuMjgyLDYyLjgxMyBMMTY5LjgsMTkuMjEzIEwxNjkuOCw3MC4wODMgWiIgaWQ9IkZpbGwtMTciIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTQuMjgyLDExMy45MTcgQzk0LjI0MSwxMTMuOTE3IDk0LjIwMSwxMTMuOTA3IDk0LjE2NSwxMTMuODg2IEM5NC4wOTMsMTEzLjg0NSA5NC4wNDgsMTEzLjc2NyA5NC4wNDgsMTEzLjY4NCBMOTQuMDQ4LDYyLjgxMyBDOTQuMDQ4LDYyLjczIDk0LjA5Myw2Mi42NTIgOTQuMTY1LDYyLjYxMSBMMTY5LjY4MywxOS4wMSBDMTY5Ljc1NSwxOC45NjkgMTY5Ljg0NCwxOC45NjkgMTY5LjkxNywxOS4wMSBDMTY5Ljk4OSwxOS4wNTIgMTcwLjAzMywxOS4xMjkgMTcwLjAzMywxOS4yMTIgTDE3MC4wMzMsNzAuMDgzIEMxNzAuMDMzLDcwLjE2NiAxNjkuOTg5LDcwLjI0NCAxNjkuOTE3LDcwLjI4NSBMMTQyLjU5NSw4Ni4wNiBDMTQyLjUzOCw4Ni4wOTIgMTQyLjQ2OSw4Ni4xIDE0Mi40MDcsODYuMDggQzE0Mi4zNDQsODYuMDYgMTQyLjI5Myw4Ni4wMTQgMTQyLjI2Niw4NS45NTQgTDEzNS44MDUsNzEuNzg2IEMxMzUuNDQ1LDcwLjk5NyAxMzQuODEzLDcwLjU4IDEzMy45NzcsNzAuNTggQzEzMi45MjEsNzAuNTggMTMxLjY3Niw3MS4yNTIgMTMwLjU2Miw3Mi40MjQgQzEyOS41NCw3My41MDEgMTI4LjcxMSw3NC45MzEgMTI4LjI4Nyw3Ni4zNDggTDEyMS44MjcsOTcuOTc2IEMxMjEuODEsOTguMDM0IDEyMS43NzEsOTguMDgyIDEyMS43Miw5OC4xMTIgTDk0LjM5OCwxMTMuODg2IEM5NC4zNjIsMTEzLjkwNyA5NC4zMjIsMTEzLjkxNyA5NC4yODIsMTEzLjkxNyBMOTQuMjgyLDExMy45MTcgWiBNOTQuNTE1LDYyLjk0OCBMOTQuNTE1LDExMy4yNzkgTDEyMS40MDYsOTcuNzU0IEwxMjcuODQsNzYuMjE1IEMxMjguMjksNzQuNzA4IDEyOS4xMzcsNzMuMjQ3IDEzMC4yMjQsNzIuMTAzIEMxMzEuNDI1LDcwLjgzOCAxMzIuNzkzLDcwLjExMiAxMzMuOTc3LDcwLjExMiBDMTM0Ljk5NSw3MC4xMTIgMTM1Ljc5NSw3MC42MzggMTM2LjIzLDcxLjU5MiBMMTQyLjU4NCw4NS41MjYgTDE2OS41NjYsNjkuOTQ4IEwxNjkuNTY2LDE5LjYxNyBMOTQuNTE1LDYyLjk0OCBMOTQuNTE1LDYyLjk0OCBaIiBpZD0iRmlsbC0xOCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMDkuODk0LDkyLjk0MyBMMTA5Ljg5NCw5Mi45NDMgQzEwOC4xMiw5Mi45NDMgMTA2LjY1Myw5Mi4yMTggMTA1LjY1LDkwLjgyMyBDMTA1LjU4Myw5MC43MzEgMTA1LjU5Myw5MC42MSAxMDUuNjczLDkwLjUyOSBDMTA1Ljc1Myw5MC40NDggMTA1Ljg4LDkwLjQ0IDEwNS45NzQsOTAuNTA2IEMxMDYuNzU0LDkxLjA1MyAxMDcuNjc5LDkxLjMzMyAxMDguNzI0LDkxLjMzMyBDMTEwLjA0Nyw5MS4zMzMgMTExLjQ3OCw5MC44OTQgMTEyLjk4LDkwLjAyNyBDMTE4LjI5MSw4Ni45NiAxMjIuNjExLDc5LjUwOSAxMjIuNjExLDczLjQxNiBDMTIyLjYxMSw3MS40ODkgMTIyLjE2OSw2OS44NTYgMTIxLjMzMyw2OC42OTIgQzEyMS4yNjYsNjguNiAxMjEuMjc2LDY4LjQ3MyAxMjEuMzU2LDY4LjM5MiBDMTIxLjQzNiw2OC4zMTEgMTIxLjU2Myw2OC4yOTkgMTIxLjY1Niw2OC4zNjUgQzEyMy4zMjcsNjkuNTM3IDEyNC4yNDcsNzEuNzQ2IDEyNC4yNDcsNzQuNTg0IEMxMjQuMjQ3LDgwLjgyNiAxMTkuODIxLDg4LjQ0NyAxMTQuMzgyLDkxLjU4NyBDMTEyLjgwOCw5Mi40OTUgMTExLjI5OCw5Mi45NDMgMTA5Ljg5NCw5Mi45NDMgTDEwOS44OTQsOTIuOTQzIFogTTEwNi45MjUsOTEuNDAxIEMxMDcuNzM4LDkyLjA1MiAxMDguNzQ1LDkyLjI3OCAxMDkuODkzLDkyLjI3OCBMMTA5Ljg5NCw5Mi4yNzggQzExMS4yMTUsOTIuMjc4IDExMi42NDcsOTEuOTUxIDExNC4xNDgsOTEuMDg0IEMxMTkuNDU5LDg4LjAxNyAxMjMuNzgsODAuNjIxIDEyMy43OCw3NC41MjggQzEyMy43OCw3Mi41NDkgMTIzLjMxNyw3MC45MjkgMTIyLjQ1NCw2OS43NjcgQzEyMi44NjUsNzAuODAyIDEyMy4wNzksNzIuMDQyIDEyMy4wNzksNzMuNDAyIEMxMjMuMDc5LDc5LjY0NSAxMTguNjUzLDg3LjI4NSAxMTMuMjE0LDkwLjQyNSBDMTExLjY0LDkxLjMzNCAxMTAuMTMsOTEuNzQyIDEwOC43MjQsOTEuNzQyIEMxMDguMDgzLDkxLjc0MiAxMDcuNDgxLDkxLjU5MyAxMDYuOTI1LDkxLjQwMSBMMTA2LjkyNSw5MS40MDEgWiIgaWQ9IkZpbGwtMTkiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjA5Nyw5MC4yMyBDMTE4LjQ4MSw4Ny4xMjIgMTIyLjg0NSw3OS41OTQgMTIyLjg0NSw3My40MTYgQzEyMi44NDUsNzEuMzY1IDEyMi4zNjIsNjkuNzI0IDEyMS41MjIsNjguNTU2IEMxMTkuNzM4LDY3LjMwNCAxMTcuMTQ4LDY3LjM2MiAxMTQuMjY1LDY5LjAyNiBDMTA4Ljg4MSw3Mi4xMzQgMTA0LjUxNyw3OS42NjIgMTA0LjUxNyw4NS44NCBDMTA0LjUxNyw4Ny44OTEgMTA1LDg5LjUzMiAxMDUuODQsOTAuNyBDMTA3LjYyNCw5MS45NTIgMTEwLjIxNCw5MS44OTQgMTEzLjA5Nyw5MC4yMyIgaWQ9IkZpbGwtMjAiIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTA4LjcyNCw5MS42MTQgTDEwOC43MjQsOTEuNjE0IEMxMDcuNTgyLDkxLjYxNCAxMDYuNTY2LDkxLjQwMSAxMDUuNzA1LDkwLjc5NyBDMTA1LjY4NCw5MC43ODMgMTA1LjY2NSw5MC44MTEgMTA1LjY1LDkwLjc5IEMxMDQuNzU2LDg5LjU0NiAxMDQuMjgzLDg3Ljg0MiAxMDQuMjgzLDg1LjgxNyBDMTA0LjI4Myw3OS41NzUgMTA4LjcwOSw3MS45NTMgMTE0LjE0OCw2OC44MTIgQzExNS43MjIsNjcuOTA0IDExNy4yMzIsNjcuNDQ5IDExOC42MzgsNjcuNDQ5IEMxMTkuNzgsNjcuNDQ5IDEyMC43OTYsNjcuNzU4IDEyMS42NTYsNjguMzYyIEMxMjEuNjc4LDY4LjM3NyAxMjEuNjk3LDY4LjM5NyAxMjEuNzEyLDY4LjQxOCBDMTIyLjYwNiw2OS42NjIgMTIzLjA3OSw3MS4zOSAxMjMuMDc5LDczLjQxNSBDMTIzLjA3OSw3OS42NTggMTE4LjY1Myw4Ny4xOTggMTEzLjIxNCw5MC4zMzggQzExMS42NCw5MS4yNDcgMTEwLjEzLDkxLjYxNCAxMDguNzI0LDkxLjYxNCBMMTA4LjcyNCw5MS42MTQgWiBNMTA2LjAwNiw5MC41MDUgQzEwNi43OCw5MS4wMzcgMTA3LjY5NCw5MS4yODEgMTA4LjcyNCw5MS4yODEgQzExMC4wNDcsOTEuMjgxIDExMS40NzgsOTAuODY4IDExMi45OCw5MC4wMDEgQzExOC4yOTEsODYuOTM1IDEyMi42MTEsNzkuNDk2IDEyMi42MTEsNzMuNDAzIEMxMjIuNjExLDcxLjQ5NCAxMjIuMTc3LDY5Ljg4IDEyMS4zNTYsNjguNzE4IEMxMjAuNTgyLDY4LjE4NSAxMTkuNjY4LDY3LjkxOSAxMTguNjM4LDY3LjkxOSBDMTE3LjMxNSw2Ny45MTkgMTE1Ljg4Myw2OC4zNiAxMTQuMzgyLDY5LjIyNyBDMTA5LjA3MSw3Mi4yOTMgMTA0Ljc1MSw3OS43MzMgMTA0Ljc1MSw4NS44MjYgQzEwNC43NTEsODcuNzM1IDEwNS4xODUsODkuMzQzIDEwNi4wMDYsOTAuNTA1IEwxMDYuMDA2LDkwLjUwNSBaIiBpZD0iRmlsbC0yMSIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNDkuMzE4LDcuMjYyIEwxMzkuMzM0LDE2LjE0IEwxNTUuMjI3LDI3LjE3MSBMMTYwLjgxNiwyMS4wNTkgTDE0OS4zMTgsNy4yNjIiIGlkPSJGaWxsLTIyIiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2OS42NzYsMTMuODQgTDE1OS45MjgsMTkuNDY3IEMxNTYuMjg2LDIxLjU3IDE1MC40LDIxLjU4IDE0Ni43ODEsMTkuNDkxIEMxNDMuMTYxLDE3LjQwMiAxNDMuMTgsMTQuMDAzIDE0Ni44MjIsMTEuOSBMMTU2LjMxNyw2LjI5MiBMMTQ5LjU4OCwyLjQwNyBMNjcuNzUyLDQ5LjQ3OCBMMTEzLjY3NSw3NS45OTIgTDExNi43NTYsNzQuMjEzIEMxMTcuMzg3LDczLjg0OCAxMTcuNjI1LDczLjMxNSAxMTcuMzc0LDcyLjgyMyBDMTE1LjAxNyw2OC4xOTEgMTE0Ljc4MSw2My4yNzcgMTE2LjY5MSw1OC41NjEgQzEyMi4zMjksNDQuNjQxIDE0MS4yLDMzLjc0NiAxNjUuMzA5LDMwLjQ5MSBDMTczLjQ3OCwyOS4zODggMTgxLjk4OSwyOS41MjQgMTkwLjAxMywzMC44ODUgQzE5MC44NjUsMzEuMDMgMTkxLjc4OSwzMC44OTMgMTkyLjQyLDMwLjUyOCBMMTk1LjUwMSwyOC43NSBMMTY5LjY3NiwxMy44NCIgaWQ9IkZpbGwtMjMiIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjY3NSw3Ni40NTkgQzExMy41OTQsNzYuNDU5IDExMy41MTQsNzYuNDM4IDExMy40NDIsNzYuMzk3IEw2Ny41MTgsNDkuODgyIEM2Ny4zNzQsNDkuNzk5IDY3LjI4NCw0OS42NDUgNjcuMjg1LDQ5LjQ3OCBDNjcuMjg1LDQ5LjMxMSA2Ny4zNzQsNDkuMTU3IDY3LjUxOSw0OS4wNzMgTDE0OS4zNTUsMi4wMDIgQzE0OS40OTksMS45MTkgMTQ5LjY3NywxLjkxOSAxNDkuODIxLDIuMDAyIEwxNTYuNTUsNS44ODcgQzE1Ni43NzQsNi4wMTcgMTU2Ljg1LDYuMzAyIDE1Ni43MjIsNi41MjYgQzE1Ni41OTIsNi43NDkgMTU2LjMwNyw2LjgyNiAxNTYuMDgzLDYuNjk2IEwxNDkuNTg3LDIuOTQ2IEw2OC42ODcsNDkuNDc5IEwxMTMuNjc1LDc1LjQ1MiBMMTE2LjUyMyw3My44MDggQzExNi43MTUsNzMuNjk3IDExNy4xNDMsNzMuMzk5IDExNi45NTgsNzMuMDM1IEMxMTQuNTQyLDY4LjI4NyAxMTQuMyw2My4yMjEgMTE2LjI1OCw1OC4zODUgQzExOS4wNjQsNTEuNDU4IDEyNS4xNDMsNDUuMTQzIDEzMy44NCw0MC4xMjIgQzE0Mi40OTcsMzUuMTI0IDE1My4zNTgsMzEuNjMzIDE2NS4yNDcsMzAuMDI4IEMxNzMuNDQ1LDI4LjkyMSAxODIuMDM3LDI5LjA1OCAxOTAuMDkxLDMwLjQyNSBDMTkwLjgzLDMwLjU1IDE5MS42NTIsMzAuNDMyIDE5Mi4xODYsMzAuMTI0IEwxOTQuNTY3LDI4Ljc1IEwxNjkuNDQyLDE0LjI0NCBDMTY5LjIxOSwxNC4xMTUgMTY5LjE0MiwxMy44MjkgMTY5LjI3MSwxMy42MDYgQzE2OS40LDEzLjM4MiAxNjkuNjg1LDEzLjMwNiAxNjkuOTA5LDEzLjQzNSBMMTk1LjczNCwyOC4zNDUgQzE5NS44NzksMjguNDI4IDE5NS45NjgsMjguNTgzIDE5NS45NjgsMjguNzUgQzE5NS45NjgsMjguOTE2IDE5NS44NzksMjkuMDcxIDE5NS43MzQsMjkuMTU0IEwxOTIuNjUzLDMwLjkzMyBDMTkxLjkzMiwzMS4zNSAxOTAuODksMzEuNTA4IDE4OS45MzUsMzEuMzQ2IEMxODEuOTcyLDI5Ljk5NSAxNzMuNDc4LDI5Ljg2IDE2NS4zNzIsMzAuOTU0IEMxNTMuNjAyLDMyLjU0MyAxNDIuODYsMzUuOTkzIDEzNC4zMDcsNDAuOTMxIEMxMjUuNzkzLDQ1Ljg0NyAxMTkuODUxLDUyLjAwNCAxMTcuMTI0LDU4LjczNiBDMTE1LjI3LDYzLjMxNCAxMTUuNTAxLDY4LjExMiAxMTcuNzksNzIuNjExIEMxMTguMTYsNzMuMzM2IDExNy44NDUsNzQuMTI0IDExNi45OSw3NC42MTcgTDExMy45MDksNzYuMzk3IEMxMTMuODM2LDc2LjQzOCAxMTMuNzU2LDc2LjQ1OSAxMTMuNjc1LDc2LjQ1OSIgaWQ9IkZpbGwtMjQiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTUzLjMxNiwyMS4yNzkgQzE1MC45MDMsMjEuMjc5IDE0OC40OTUsMjAuNzUxIDE0Ni42NjQsMTkuNjkzIEMxNDQuODQ2LDE4LjY0NCAxNDMuODQ0LDE3LjIzMiAxNDMuODQ0LDE1LjcxOCBDMTQzLjg0NCwxNC4xOTEgMTQ0Ljg2LDEyLjc2MyAxNDYuNzA1LDExLjY5OCBMMTU2LjE5OCw2LjA5MSBDMTU2LjMwOSw2LjAyNSAxNTYuNDUyLDYuMDYyIDE1Ni41MTgsNi4xNzMgQzE1Ni41ODMsNi4yODQgMTU2LjU0Nyw2LjQyNyAxNTYuNDM2LDYuNDkzIEwxNDYuOTQsMTIuMTAyIEMxNDUuMjQ0LDEzLjA4MSAxNDQuMzEyLDE0LjM2NSAxNDQuMzEyLDE1LjcxOCBDMTQ0LjMxMiwxNy4wNTggMTQ1LjIzLDE4LjMyNiAxNDYuODk3LDE5LjI4OSBDMTUwLjQ0NiwyMS4zMzggMTU2LjI0LDIxLjMyNyAxNTkuODExLDE5LjI2NSBMMTY5LjU1OSwxMy42MzcgQzE2OS42NywxMy41NzMgMTY5LjgxMywxMy42MTEgMTY5Ljg3OCwxMy43MjMgQzE2OS45NDMsMTMuODM0IDE2OS45MDQsMTMuOTc3IDE2OS43OTMsMTQuMDQyIEwxNjAuMDQ1LDE5LjY3IEMxNTguMTg3LDIwLjc0MiAxNTUuNzQ5LDIxLjI3OSAxNTMuMzE2LDIxLjI3OSIgaWQ9IkZpbGwtMjUiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjY3NSw3NS45OTIgTDY3Ljc2Miw0OS40ODQiIGlkPSJGaWxsLTI2IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTExMy42NzUsNzYuMzQyIEMxMTMuNjE1LDc2LjM0MiAxMTMuNTU1LDc2LjMyNyAxMTMuNSw3Ni4yOTUgTDY3LjU4Nyw0OS43ODcgQzY3LjQxOSw0OS42OSA2Ny4zNjIsNDkuNDc2IDY3LjQ1OSw0OS4zMDkgQzY3LjU1Niw0OS4xNDEgNjcuNzcsNDkuMDgzIDY3LjkzNyw0OS4xOCBMMTEzLjg1LDc1LjY4OCBDMTE0LjAxOCw3NS43ODUgMTE0LjA3NSw3NiAxMTMuOTc4LDc2LjE2NyBDMTEzLjkxNCw3Ni4yNzkgMTEzLjc5Niw3Ni4zNDIgMTEzLjY3NSw3Ni4zNDIiIGlkPSJGaWxsLTI3IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTY3Ljc2Miw0OS40ODQgTDY3Ljc2MiwxMDMuNDg1IEM2Ny43NjIsMTA0LjU3NSA2OC41MzIsMTA1LjkwMyA2OS40ODIsMTA2LjQ1MiBMMTExLjk1NSwxMzAuOTczIEMxMTIuOTA1LDEzMS41MjIgMTEzLjY3NSwxMzEuMDgzIDExMy42NzUsMTI5Ljk5MyBMMTEzLjY3NSw3NS45OTIiIGlkPSJGaWxsLTI4IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTExMi43MjcsMTMxLjU2MSBDMTEyLjQzLDEzMS41NjEgMTEyLjEwNywxMzEuNDY2IDExMS43OCwxMzEuMjc2IEw2OS4zMDcsMTA2Ljc1NSBDNjguMjQ0LDEwNi4xNDIgNjcuNDEyLDEwNC43MDUgNjcuNDEyLDEwMy40ODUgTDY3LjQxMiw0OS40ODQgQzY3LjQxMiw0OS4yOSA2Ny41NjksNDkuMTM0IDY3Ljc2Miw0OS4xMzQgQzY3Ljk1Niw0OS4xMzQgNjguMTEzLDQ5LjI5IDY4LjExMyw0OS40ODQgTDY4LjExMywxMDMuNDg1IEM2OC4xMTMsMTA0LjQ0NSA2OC44MiwxMDUuNjY1IDY5LjY1NywxMDYuMTQ4IEwxMTIuMTMsMTMwLjY3IEMxMTIuNDc0LDEzMC44NjggMTEyLjc5MSwxMzAuOTEzIDExMywxMzAuNzkyIEMxMTMuMjA2LDEzMC42NzMgMTEzLjMyNSwxMzAuMzgxIDExMy4zMjUsMTI5Ljk5MyBMMTEzLjMyNSw3NS45OTIgQzExMy4zMjUsNzUuNzk4IDExMy40ODIsNzUuNjQxIDExMy42NzUsNzUuNjQxIEMxMTMuODY5LDc1LjY0MSAxMTQuMDI1LDc1Ljc5OCAxMTQuMDI1LDc1Ljk5MiBMMTE0LjAyNSwxMjkuOTkzIEMxMTQuMDI1LDEzMC42NDggMTEzLjc4NiwxMzEuMTQ3IDExMy4zNSwxMzEuMzk5IEMxMTMuMTYyLDEzMS41MDcgMTEyLjk1MiwxMzEuNTYxIDExMi43MjcsMTMxLjU2MSIgaWQ9IkZpbGwtMjkiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEyLjg2LDQwLjUxMiBDMTEyLjg2LDQwLjUxMiAxMTIuODYsNDAuNTEyIDExMi44NTksNDAuNTEyIEMxMTAuNTQxLDQwLjUxMiAxMDguMzYsMzkuOTkgMTA2LjcxNywzOS4wNDEgQzEwNS4wMTIsMzguMDU3IDEwNC4wNzQsMzYuNzI2IDEwNC4wNzQsMzUuMjkyIEMxMDQuMDc0LDMzLjg0NyAxMDUuMDI2LDMyLjUwMSAxMDYuNzU0LDMxLjUwNCBMMTE4Ljc5NSwyNC41NTEgQzEyMC40NjMsMjMuNTg5IDEyMi42NjksMjMuMDU4IDEyNS4wMDcsMjMuMDU4IEMxMjcuMzI1LDIzLjA1OCAxMjkuNTA2LDIzLjU4MSAxMzEuMTUsMjQuNTMgQzEzMi44NTQsMjUuNTE0IDEzMy43OTMsMjYuODQ1IDEzMy43OTMsMjguMjc4IEMxMzMuNzkzLDI5LjcyNCAxMzIuODQxLDMxLjA2OSAxMzEuMTEzLDMyLjA2NyBMMTE5LjA3MSwzOS4wMTkgQzExNy40MDMsMzkuOTgyIDExNS4xOTcsNDAuNTEyIDExMi44Niw0MC41MTIgTDExMi44Niw0MC41MTIgWiBNMTI1LjAwNywyMy43NTkgQzEyMi43OSwyMy43NTkgMTIwLjcwOSwyNC4yNTYgMTE5LjE0NiwyNS4xNTggTDEwNy4xMDQsMzIuMTEgQzEwNS42MDIsMzIuOTc4IDEwNC43NzQsMzQuMTA4IDEwNC43NzQsMzUuMjkyIEMxMDQuNzc0LDM2LjQ2NSAxMDUuNTg5LDM3LjU4MSAxMDcuMDY3LDM4LjQzNCBDMTA4LjYwNSwzOS4zMjMgMTEwLjY2MywzOS44MTIgMTEyLjg1OSwzOS44MTIgTDExMi44NiwzOS44MTIgQzExNS4wNzYsMzkuODEyIDExNy4xNTgsMzkuMzE1IDExOC43MjEsMzguNDEzIEwxMzAuNzYyLDMxLjQ2IEMxMzIuMjY0LDMwLjU5MyAxMzMuMDkyLDI5LjQ2MyAxMzMuMDkyLDI4LjI3OCBDMTMzLjA5MiwyNy4xMDYgMTMyLjI3OCwyNS45OSAxMzAuOCwyNS4xMzYgQzEyOS4yNjEsMjQuMjQ4IDEyNy4yMDQsMjMuNzU5IDEyNS4wMDcsMjMuNzU5IEwxMjUuMDA3LDIzLjc1OSBaIiBpZD0iRmlsbC0zMCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNjUuNjMsMTYuMjE5IEwxNTkuODk2LDE5LjUzIEMxNTYuNzI5LDIxLjM1OCAxNTEuNjEsMjEuMzY3IDE0OC40NjMsMTkuNTUgQzE0NS4zMTYsMTcuNzMzIDE0NS4zMzIsMTQuNzc4IDE0OC40OTksMTIuOTQ5IEwxNTQuMjMzLDkuNjM5IEwxNjUuNjMsMTYuMjE5IiBpZD0iRmlsbC0zMSIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNTQuMjMzLDEwLjQ0OCBMMTY0LjIyOCwxNi4yMTkgTDE1OS41NDYsMTguOTIzIEMxNTguMTEyLDE5Ljc1IDE1Ni4xOTQsMjAuMjA2IDE1NC4xNDcsMjAuMjA2IEMxNTIuMTE4LDIwLjIwNiAxNTAuMjI0LDE5Ljc1NyAxNDguODE0LDE4Ljk0MyBDMTQ3LjUyNCwxOC4xOTkgMTQ2LjgxNCwxNy4yNDkgMTQ2LjgxNCwxNi4yNjkgQzE0Ni44MTQsMTUuMjc4IDE0Ny41MzcsMTQuMzE0IDE0OC44NSwxMy41NTYgTDE1NC4yMzMsMTAuNDQ4IE0xNTQuMjMzLDkuNjM5IEwxNDguNDk5LDEyLjk0OSBDMTQ1LjMzMiwxNC43NzggMTQ1LjMxNiwxNy43MzMgMTQ4LjQ2MywxOS41NSBDMTUwLjAzMSwyMC40NTUgMTUyLjA4NiwyMC45MDcgMTU0LjE0NywyMC45MDcgQzE1Ni4yMjQsMjAuOTA3IDE1OC4zMDYsMjAuNDQ3IDE1OS44OTYsMTkuNTMgTDE2NS42MywxNi4yMTkgTDE1NC4yMzMsOS42MzkiIGlkPSJGaWxsLTMyIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0NS40NDUsNzIuNjY3IEwxNDUuNDQ1LDcyLjY2NyBDMTQzLjY3Miw3Mi42NjcgMTQyLjIwNCw3MS44MTcgMTQxLjIwMiw3MC40MjIgQzE0MS4xMzUsNzAuMzMgMTQxLjE0NSw3MC4xNDcgMTQxLjIyNSw3MC4wNjYgQzE0MS4zMDUsNjkuOTg1IDE0MS40MzIsNjkuOTQ2IDE0MS41MjUsNzAuMDExIEMxNDIuMzA2LDcwLjU1OSAxNDMuMjMxLDcwLjgyMyAxNDQuMjc2LDcwLjgyMiBDMTQ1LjU5OCw3MC44MjIgMTQ3LjAzLDcwLjM3NiAxNDguNTMyLDY5LjUwOSBDMTUzLjg0Miw2Ni40NDMgMTU4LjE2Myw1OC45ODcgMTU4LjE2Myw1Mi44OTQgQzE1OC4xNjMsNTAuOTY3IDE1Ny43MjEsNDkuMzMyIDE1Ni44ODQsNDguMTY4IEMxNTYuODE4LDQ4LjA3NiAxNTYuODI4LDQ3Ljk0OCAxNTYuOTA4LDQ3Ljg2NyBDMTU2Ljk4OCw0Ny43ODYgMTU3LjExNCw0Ny43NzQgMTU3LjIwOCw0Ny44NCBDMTU4Ljg3OCw0OS4wMTIgMTU5Ljc5OCw1MS4yMiAxNTkuNzk4LDU0LjA1OSBDMTU5Ljc5OCw2MC4zMDEgMTU1LjM3Myw2OC4wNDYgMTQ5LjkzMyw3MS4xODYgQzE0OC4zNiw3Mi4wOTQgMTQ2Ljg1LDcyLjY2NyAxNDUuNDQ1LDcyLjY2NyBMMTQ1LjQ0NSw3Mi42NjcgWiBNMTQyLjQ3Niw3MSBDMTQzLjI5LDcxLjY1MSAxNDQuMjk2LDcyLjAwMiAxNDUuNDQ1LDcyLjAwMiBDMTQ2Ljc2Nyw3Mi4wMDIgMTQ4LjE5OCw3MS41NSAxNDkuNyw3MC42ODIgQzE1NS4wMSw2Ny42MTcgMTU5LjMzMSw2MC4xNTkgMTU5LjMzMSw1NC4wNjUgQzE1OS4zMzEsNTIuMDg1IDE1OC44NjgsNTAuNDM1IDE1OC4wMDYsNDkuMjcyIEMxNTguNDE3LDUwLjMwNyAxNTguNjMsNTEuNTMyIDE1OC42Myw1Mi44OTIgQzE1OC42Myw1OS4xMzQgMTU0LjIwNSw2Ni43NjcgMTQ4Ljc2NSw2OS45MDcgQzE0Ny4xOTIsNzAuODE2IDE0NS42ODEsNzEuMjgzIDE0NC4yNzYsNzEuMjgzIEMxNDMuNjM0LDcxLjI4MyAxNDMuMDMzLDcxLjE5MiAxNDIuNDc2LDcxIEwxNDIuNDc2LDcxIFoiIGlkPSJGaWxsLTMzIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0OC42NDgsNjkuNzA0IEMxNTQuMDMyLDY2LjU5NiAxNTguMzk2LDU5LjA2OCAxNTguMzk2LDUyLjg5MSBDMTU4LjM5Niw1MC44MzkgMTU3LjkxMyw0OS4xOTggMTU3LjA3NCw0OC4wMyBDMTU1LjI4OSw0Ni43NzggMTUyLjY5OSw0Ni44MzYgMTQ5LjgxNiw0OC41MDEgQzE0NC40MzMsNTEuNjA5IDE0MC4wNjgsNTkuMTM3IDE0MC4wNjgsNjUuMzE0IEMxNDAuMDY4LDY3LjM2NSAxNDAuNTUyLDY5LjAwNiAxNDEuMzkxLDcwLjE3NCBDMTQzLjE3Niw3MS40MjcgMTQ1Ljc2NSw3MS4zNjkgMTQ4LjY0OCw2OS43MDQiIGlkPSJGaWxsLTM0IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0NC4yNzYsNzEuMjc2IEwxNDQuMjc2LDcxLjI3NiBDMTQzLjEzMyw3MS4yNzYgMTQyLjExOCw3MC45NjkgMTQxLjI1Nyw3MC4zNjUgQzE0MS4yMzYsNzAuMzUxIDE0MS4yMTcsNzAuMzMyIDE0MS4yMDIsNzAuMzExIEMxNDAuMzA3LDY5LjA2NyAxMzkuODM1LDY3LjMzOSAxMzkuODM1LDY1LjMxNCBDMTM5LjgzNSw1OS4wNzMgMTQ0LjI2LDUxLjQzOSAxNDkuNyw0OC4yOTggQzE1MS4yNzMsNDcuMzkgMTUyLjc4NCw0Ni45MjkgMTU0LjE4OSw0Ni45MjkgQzE1NS4zMzIsNDYuOTI5IDE1Ni4zNDcsNDcuMjM2IDE1Ny4yMDgsNDcuODM5IEMxNTcuMjI5LDQ3Ljg1NCAxNTcuMjQ4LDQ3Ljg3MyAxNTcuMjYzLDQ3Ljg5NCBDMTU4LjE1Nyw0OS4xMzggMTU4LjYzLDUwLjg2NSAxNTguNjMsNTIuODkxIEMxNTguNjMsNTkuMTMyIDE1NC4yMDUsNjYuNzY2IDE0OC43NjUsNjkuOTA3IEMxNDcuMTkyLDcwLjgxNSAxNDUuNjgxLDcxLjI3NiAxNDQuMjc2LDcxLjI3NiBMMTQ0LjI3Niw3MS4yNzYgWiBNMTQxLjU1OCw3MC4xMDQgQzE0Mi4zMzEsNzAuNjM3IDE0My4yNDUsNzEuMDA1IDE0NC4yNzYsNzEuMDA1IEMxNDUuNTk4LDcxLjAwNSAxNDcuMDMsNzAuNDY3IDE0OC41MzIsNjkuNiBDMTUzLjg0Miw2Ni41MzQgMTU4LjE2Myw1OS4wMzMgMTU4LjE2Myw1Mi45MzkgQzE1OC4xNjMsNTEuMDMxIDE1Ny43MjksNDkuMzg1IDE1Ni45MDcsNDguMjIzIEMxNTYuMTMzLDQ3LjY5MSAxNTUuMjE5LDQ3LjQwOSAxNTQuMTg5LDQ3LjQwOSBDMTUyLjg2Nyw0Ny40MDkgMTUxLjQzNSw0Ny44NDIgMTQ5LjkzMyw0OC43MDkgQzE0NC42MjMsNTEuNzc1IDE0MC4zMDIsNTkuMjczIDE0MC4zMDIsNjUuMzY2IEMxNDAuMzAyLDY3LjI3NiAxNDAuNzM2LDY4Ljk0MiAxNDEuNTU4LDcwLjEwNCBMMTQxLjU1OCw3MC4xMDQgWiIgaWQ9IkZpbGwtMzUiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTUwLjcyLDY1LjM2MSBMMTUwLjM1Nyw2NS4wNjYgQzE1MS4xNDcsNjQuMDkyIDE1MS44NjksNjMuMDQgMTUyLjUwNSw2MS45MzggQzE1My4zMTMsNjAuNTM5IDE1My45NzgsNTkuMDY3IDE1NC40ODIsNTcuNTYzIEwxNTQuOTI1LDU3LjcxMiBDMTU0LjQxMiw1OS4yNDUgMTUzLjczMyw2MC43NDUgMTUyLjkxLDYyLjE3MiBDMTUyLjI2Miw2My4yOTUgMTUxLjUyNSw2NC4zNjggMTUwLjcyLDY1LjM2MSIgaWQ9IkZpbGwtMzYiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTE1LjkxNyw4NC41MTQgTDExNS41NTQsODQuMjIgQzExNi4zNDQsODMuMjQ1IDExNy4wNjYsODIuMTk0IDExNy43MDIsODEuMDkyIEMxMTguNTEsNzkuNjkyIDExOS4xNzUsNzguMjIgMTE5LjY3OCw3Ni43MTcgTDEyMC4xMjEsNzYuODY1IEMxMTkuNjA4LDc4LjM5OCAxMTguOTMsNzkuODk5IDExOC4xMDYsODEuMzI2IEMxMTcuNDU4LDgyLjQ0OCAxMTYuNzIyLDgzLjUyMSAxMTUuOTE3LDg0LjUxNCIgaWQ9IkZpbGwtMzciIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTE0LDEzMC40NzYgTDExNCwxMzAuMDA4IEwxMTQsNzYuMDUyIEwxMTQsNzUuNTg0IEwxMTQsNzYuMDUyIEwxMTQsMTMwLjAwOCBMMTE0LDEzMC40NzYiIGlkPSJGaWxsLTM4IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICA8ZyBpZD0iSW1wb3J0ZWQtTGF5ZXJzLUNvcHkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYyLjAwMDAwMCwgMC4wMDAwMDApIiBza2V0Y2g6dHlwZT0iTVNTaGFwZUdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTkuODIyLDM3LjQ3NCBDMTkuODM5LDM3LjMzOSAxOS43NDcsMzcuMTk0IDE5LjU1NSwzNy4wODIgQzE5LjIyOCwzNi44OTQgMTguNzI5LDM2Ljg3MiAxOC40NDYsMzcuMDM3IEwxMi40MzQsNDAuNTA4IEMxMi4zMDMsNDAuNTg0IDEyLjI0LDQwLjY4NiAxMi4yNDMsNDAuNzkzIEMxMi4yNDUsNDAuOTI1IDEyLjI0NSw0MS4yNTQgMTIuMjQ1LDQxLjM3MSBMMTIuMjQ1LDQxLjQxNCBMMTIuMjM4LDQxLjU0MiBDOC4xNDgsNDMuODg3IDUuNjQ3LDQ1LjMyMSA1LjY0Nyw0NS4zMjEgQzUuNjQ2LDQ1LjMyMSAzLjU3LDQ2LjM2NyAyLjg2LDUwLjUxMyBDMi44Niw1MC41MTMgMS45NDgsNTcuNDc0IDEuOTYyLDcwLjI1OCBDMS45NzcsODIuODI4IDIuNTY4LDg3LjMyOCAzLjEyOSw5MS42MDkgQzMuMzQ5LDkzLjI5MyA2LjEzLDkzLjczNCA2LjEzLDkzLjczNCBDNi40NjEsOTMuNzc0IDYuODI4LDkzLjcwNyA3LjIxLDkzLjQ4NiBMODIuNDgzLDQ5LjkzNSBDODQuMjkxLDQ4Ljg2NiA4NS4xNSw0Ni4yMTYgODUuNTM5LDQzLjY1MSBDODYuNzUyLDM1LjY2MSA4Ny4yMTQsMTAuNjczIDg1LjI2NCwzLjc3MyBDODUuMDY4LDMuMDggODQuNzU0LDIuNjkgODQuMzk2LDIuNDkxIEw4Mi4zMSwxLjcwMSBDODEuNTgzLDEuNzI5IDgwLjg5NCwyLjE2OCA4MC43NzYsMi4yMzYgQzgwLjYzNiwyLjMxNyA0MS44MDcsMjQuNTg1IDIwLjAzMiwzNy4wNzIgTDE5LjgyMiwzNy40NzQiIGlkPSJGaWxsLTEiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNODIuMzExLDEuNzAxIEw4NC4zOTYsMi40OTEgQzg0Ljc1NCwyLjY5IDg1LjA2OCwzLjA4IDg1LjI2NCwzLjc3MyBDODcuMjEzLDEwLjY3MyA4Ni43NTEsMzUuNjYgODUuNTM5LDQzLjY1MSBDODUuMTQ5LDQ2LjIxNiA4NC4yOSw0OC44NjYgODIuNDgzLDQ5LjkzNSBMNy4yMSw5My40ODYgQzYuODk3LDkzLjY2NyA2LjU5NSw5My43NDQgNi4zMTQsOTMuNzQ0IEw2LjEzMSw5My43MzMgQzYuMTMxLDkzLjczNCAzLjM0OSw5My4yOTMgMy4xMjgsOTEuNjA5IEMyLjU2OCw4Ny4zMjcgMS45NzcsODIuODI4IDEuOTYzLDcwLjI1OCBDMS45NDgsNTcuNDc0IDIuODYsNTAuNTEzIDIuODYsNTAuNTEzIEMzLjU3LDQ2LjM2NyA1LjY0Nyw0NS4zMjEgNS42NDcsNDUuMzIxIEM1LjY0Nyw0NS4zMjEgOC4xNDgsNDMuODg3IDEyLjIzOCw0MS41NDIgTDEyLjI0NSw0MS40MTQgTDEyLjI0NSw0MS4zNzEgQzEyLjI0NSw0MS4yNTQgMTIuMjQ1LDQwLjkyNSAxMi4yNDMsNDAuNzkzIEMxMi4yNCw0MC42ODYgMTIuMzAyLDQwLjU4MyAxMi40MzQsNDAuNTA4IEwxOC40NDYsMzcuMDM2IEMxOC41NzQsMzYuOTYyIDE4Ljc0NiwzNi45MjYgMTguOTI3LDM2LjkyNiBDMTkuMTQ1LDM2LjkyNiAxOS4zNzYsMzYuOTc5IDE5LjU1NCwzNy4wODIgQzE5Ljc0NywzNy4xOTQgMTkuODM5LDM3LjM0IDE5LjgyMiwzNy40NzQgTDIwLjAzMywzNy4wNzIgQzQxLjgwNiwyNC41ODUgODAuNjM2LDIuMzE4IDgwLjc3NywyLjIzNiBDODAuODk0LDIuMTY4IDgxLjU4MywxLjcyOSA4Mi4zMTEsMS43MDEgTTgyLjMxMSwwLjcwNCBMODIuMjcyLDAuNzA1IEM4MS42NTQsMC43MjggODAuOTg5LDAuOTQ5IDgwLjI5OCwxLjM2MSBMODAuMjc3LDEuMzczIEM4MC4xMjksMS40NTggNTkuNzY4LDEzLjEzNSAxOS43NTgsMzYuMDc5IEMxOS41LDM1Ljk4MSAxOS4yMTQsMzUuOTI5IDE4LjkyNywzNS45MjkgQzE4LjU2MiwzNS45MjkgMTguMjIzLDM2LjAxMyAxNy45NDcsMzYuMTczIEwxMS45MzUsMzkuNjQ0IEMxMS40OTMsMzkuODk5IDExLjIzNiw0MC4zMzQgMTEuMjQ2LDQwLjgxIEwxMS4yNDcsNDAuOTYgTDUuMTY3LDQ0LjQ0NyBDNC43OTQsNDQuNjQ2IDIuNjI1LDQ1Ljk3OCAxLjg3Nyw1MC4zNDUgTDEuODcxLDUwLjM4NCBDMS44NjIsNTAuNDU0IDAuOTUxLDU3LjU1NyAwLjk2NSw3MC4yNTkgQzAuOTc5LDgyLjg3OSAxLjU2OCw4Ny4zNzUgMi4xMzcsOTEuNzI0IEwyLjEzOSw5MS43MzkgQzIuNDQ3LDk0LjA5NCA1LjYxNCw5NC42NjIgNS45NzUsOTQuNzE5IEw2LjAwOSw5NC43MjMgQzYuMTEsOTQuNzM2IDYuMjEzLDk0Ljc0MiA2LjMxNCw5NC43NDIgQzYuNzksOTQuNzQyIDcuMjYsOTQuNjEgNy43MSw5NC4zNSBMODIuOTgzLDUwLjc5OCBDODQuNzk0LDQ5LjcyNyA4NS45ODIsNDcuMzc1IDg2LjUyNSw0My44MDEgQzg3LjcxMSwzNS45ODcgODguMjU5LDEwLjcwNSA4Ni4yMjQsMy41MDIgQzg1Ljk3MSwyLjYwOSA4NS41MiwxLjk3NSA4NC44ODEsMS42MiBMODQuNzQ5LDEuNTU4IEw4Mi42NjQsMC43NjkgQzgyLjU1MSwwLjcyNSA4Mi40MzEsMC43MDQgODIuMzExLDAuNzA0IiBpZD0iRmlsbC0yIiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTY2LjI2NywxMS41NjUgTDY3Ljc2MiwxMS45OTkgTDExLjQyMyw0NC4zMjUiIGlkPSJGaWxsLTMiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIuMjAyLDkwLjU0NSBDMTIuMDI5LDkwLjU0NSAxMS44NjIsOTAuNDU1IDExLjc2OSw5MC4yOTUgQzExLjYzMiw5MC4wNTcgMTEuNzEzLDg5Ljc1MiAxMS45NTIsODkuNjE0IEwzMC4zODksNzguOTY5IEMzMC42MjgsNzguODMxIDMwLjkzMyw3OC45MTMgMzEuMDcxLDc5LjE1MiBDMzEuMjA4LDc5LjM5IDMxLjEyNyw3OS42OTYgMzAuODg4LDc5LjgzMyBMMTIuNDUxLDkwLjQ3OCBMMTIuMjAyLDkwLjU0NSIgaWQ9IkZpbGwtNCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMy43NjQsNDIuNjU0IEwxMy42NTYsNDIuNTkyIEwxMy43MDIsNDIuNDIxIEwxOC44MzcsMzkuNDU3IEwxOS4wMDcsMzkuNTAyIEwxOC45NjIsMzkuNjczIEwxMy44MjcsNDIuNjM3IEwxMy43NjQsNDIuNjU0IiBpZD0iRmlsbC01IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTguNTIsOTAuMzc1IEw4LjUyLDQ2LjQyMSBMOC41ODMsNDYuMzg1IEw3NS44NCw3LjU1NCBMNzUuODQsNTEuNTA4IEw3NS43NzgsNTEuNTQ0IEw4LjUyLDkwLjM3NSBMOC41Miw5MC4zNzUgWiBNOC43Nyw0Ni41NjQgTDguNzcsODkuOTQ0IEw3NS41OTEsNTEuMzY1IEw3NS41OTEsNy45ODUgTDguNzcsNDYuNTY0IEw4Ljc3LDQ2LjU2NCBaIiBpZD0iRmlsbC02IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTI0Ljk4Niw4My4xODIgQzI0Ljc1Niw4My4zMzEgMjQuMzc0LDgzLjU2NiAyNC4xMzcsODMuNzA1IEwxMi42MzIsOTAuNDA2IEMxMi4zOTUsOTAuNTQ1IDEyLjQyNiw5MC42NTggMTIuNyw5MC42NTggTDEzLjI2NSw5MC42NTggQzEzLjU0LDkwLjY1OCAxMy45NTgsOTAuNTQ1IDE0LjE5NSw5MC40MDYgTDI1LjcsODMuNzA1IEMyNS45MzcsODMuNTY2IDI2LjEyOCw4My40NTIgMjYuMTI1LDgzLjQ0OSBDMjYuMTIyLDgzLjQ0NyAyNi4xMTksODMuMjIgMjYuMTE5LDgyLjk0NiBDMjYuMTE5LDgyLjY3MiAyNS45MzEsODIuNTY5IDI1LjcwMSw4Mi43MTkgTDI0Ljk4Niw4My4xODIiIGlkPSJGaWxsLTciIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTMuMjY2LDkwLjc4MiBMMTIuNyw5MC43ODIgQzEyLjUsOTAuNzgyIDEyLjM4NCw5MC43MjYgMTIuMzU0LDkwLjYxNiBDMTIuMzI0LDkwLjUwNiAxMi4zOTcsOTAuMzk5IDEyLjU2OSw5MC4yOTkgTDI0LjA3NCw4My41OTcgQzI0LjMxLDgzLjQ1OSAyNC42ODksODMuMjI2IDI0LjkxOCw4My4wNzggTDI1LjYzMyw4Mi42MTQgQzI1LjcyMyw4Mi41NTUgMjUuODEzLDgyLjUyNSAyNS44OTksODIuNTI1IEMyNi4wNzEsODIuNTI1IDI2LjI0NCw4Mi42NTUgMjYuMjQ0LDgyLjk0NiBDMjYuMjQ0LDgzLjE2IDI2LjI0NSw4My4zMDkgMjYuMjQ3LDgzLjM4MyBMMjYuMjUzLDgzLjM4NyBMMjYuMjQ5LDgzLjQ1NiBDMjYuMjQ2LDgzLjUzMSAyNi4yNDYsODMuNTMxIDI1Ljc2Myw4My44MTIgTDE0LjI1OCw5MC41MTQgQzE0LDkwLjY2NSAxMy41NjQsOTAuNzgyIDEzLjI2Niw5MC43ODIgTDEzLjI2Niw5MC43ODIgWiBNMTIuNjY2LDkwLjUzMiBMMTIuNyw5MC41MzMgTDEzLjI2Niw5MC41MzMgQzEzLjUxOCw5MC41MzMgMTMuOTE1LDkwLjQyNSAxNC4xMzIsOTAuMjk5IEwyNS42MzcsODMuNTk3IEMyNS44MDUsODMuNDk5IDI1LjkzMSw4My40MjQgMjUuOTk4LDgzLjM4MyBDMjUuOTk0LDgzLjI5OSAyNS45OTQsODMuMTY1IDI1Ljk5NCw4Mi45NDYgTDI1Ljg5OSw4Mi43NzUgTDI1Ljc2OCw4Mi44MjQgTDI1LjA1NCw4My4yODcgQzI0LjgyMiw4My40MzcgMjQuNDM4LDgzLjY3MyAyNC4yLDgzLjgxMiBMMTIuNjk1LDkwLjUxNCBMMTIuNjY2LDkwLjUzMiBMMTIuNjY2LDkwLjUzMiBaIiBpZD0iRmlsbC04IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTEzLjI2Niw4OS44NzEgTDEyLjcsODkuODcxIEMxMi41LDg5Ljg3MSAxMi4zODQsODkuODE1IDEyLjM1NCw4OS43MDUgQzEyLjMyNCw4OS41OTUgMTIuMzk3LDg5LjQ4OCAxMi41NjksODkuMzg4IEwyNC4wNzQsODIuNjg2IEMyNC4zMzIsODIuNTM1IDI0Ljc2OCw4Mi40MTggMjUuMDY3LDgyLjQxOCBMMjUuNjMyLDgyLjQxOCBDMjUuODMyLDgyLjQxOCAyNS45NDgsODIuNDc0IDI1Ljk3OCw4Mi41ODQgQzI2LjAwOCw4Mi42OTQgMjUuOTM1LDgyLjgwMSAyNS43NjMsODIuOTAxIEwxNC4yNTgsODkuNjAzIEMxNCw4OS43NTQgMTMuNTY0LDg5Ljg3MSAxMy4yNjYsODkuODcxIEwxMy4yNjYsODkuODcxIFogTTEyLjY2Niw4OS42MjEgTDEyLjcsODkuNjIyIEwxMy4yNjYsODkuNjIyIEMxMy41MTgsODkuNjIyIDEzLjkxNSw4OS41MTUgMTQuMTMyLDg5LjM4OCBMMjUuNjM3LDgyLjY4NiBMMjUuNjY3LDgyLjY2OCBMMjUuNjMyLDgyLjY2NyBMMjUuMDY3LDgyLjY2NyBDMjQuODE1LDgyLjY2NyAyNC40MTgsODIuNzc1IDI0LjIsODIuOTAxIEwxMi42OTUsODkuNjAzIEwxMi42NjYsODkuNjIxIEwxMi42NjYsODkuNjIxIFoiIGlkPSJGaWxsLTkiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIuMzcsOTAuODAxIEwxMi4zNyw4OS41NTQgTDEyLjM3LDkwLjgwMSIgaWQ9IkZpbGwtMTAiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNi4xMyw5My45MDEgQzUuMzc5LDkzLjgwOCA0LjgxNiw5My4xNjQgNC42OTEsOTIuNTI1IEMzLjg2LDg4LjI4NyAzLjU0LDgzLjc0MyAzLjUyNiw3MS4xNzMgQzMuNTExLDU4LjM4OSA0LjQyMyw1MS40MjggNC40MjMsNTEuNDI4IEM1LjEzNCw0Ny4yODIgNy4yMSw0Ni4yMzYgNy4yMSw0Ni4yMzYgQzcuMjEsNDYuMjM2IDgxLjY2NywzLjI1IDgyLjA2OSwzLjAxNyBDODIuMjkyLDIuODg4IDg0LjU1NiwxLjQzMyA4NS4yNjQsMy45NCBDODcuMjE0LDEwLjg0IDg2Ljc1MiwzNS44MjcgODUuNTM5LDQzLjgxOCBDODUuMTUsNDYuMzgzIDg0LjI5MSw0OS4wMzMgODIuNDgzLDUwLjEwMSBMNy4yMSw5My42NTMgQzYuODI4LDkzLjg3NCA2LjQ2MSw5My45NDEgNi4xMyw5My45MDEgQzYuMTMsOTMuOTAxIDMuMzQ5LDkzLjQ2IDMuMTI5LDkxLjc3NiBDMi41NjgsODcuNDk1IDEuOTc3LDgyLjk5NSAxLjk2Miw3MC40MjUgQzEuOTQ4LDU3LjY0MSAyLjg2LDUwLjY4IDIuODYsNTAuNjggQzMuNTcsNDYuNTM0IDUuNjQ3LDQ1LjQ4OSA1LjY0Nyw0NS40ODkgQzUuNjQ2LDQ1LjQ4OSA4LjA2NSw0NC4wOTIgMTIuMjQ1LDQxLjY3OSBMMTMuMTE2LDQxLjU2IEwxOS43MTUsMzcuNzMgTDE5Ljc2MSwzNy4yNjkgTDYuMTMsOTMuOTAxIiBpZD0iRmlsbC0xMSIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik02LjMxNyw5NC4xNjEgTDYuMTAyLDk0LjE0OCBMNi4xMDEsOTQuMTQ4IEw1Ljg1Nyw5NC4xMDEgQzUuMTM4LDkzLjk0NSAzLjA4NSw5My4zNjUgMi44ODEsOTEuODA5IEMyLjMxMyw4Ny40NjkgMS43MjcsODIuOTk2IDEuNzEzLDcwLjQyNSBDMS42OTksNTcuNzcxIDIuNjA0LDUwLjcxOCAyLjYxMyw1MC42NDggQzMuMzM4LDQ2LjQxNyA1LjQ0NSw0NS4zMSA1LjUzNSw0NS4yNjYgTDEyLjE2Myw0MS40MzkgTDEzLjAzMyw0MS4zMiBMMTkuNDc5LDM3LjU3OCBMMTkuNTEzLDM3LjI0NCBDMTkuNTI2LDM3LjEwNyAxOS42NDcsMzcuMDA4IDE5Ljc4NiwzNy4wMjEgQzE5LjkyMiwzNy4wMzQgMjAuMDIzLDM3LjE1NiAyMC4wMDksMzcuMjkzIEwxOS45NSwzNy44ODIgTDEzLjE5OCw0MS44MDEgTDEyLjMyOCw0MS45MTkgTDUuNzcyLDQ1LjcwNCBDNS43NDEsNDUuNzIgMy43ODIsNDYuNzcyIDMuMTA2LDUwLjcyMiBDMy4wOTksNTAuNzgyIDIuMTk4LDU3LjgwOCAyLjIxMiw3MC40MjQgQzIuMjI2LDgyLjk2MyAyLjgwOSw4Ny40MiAzLjM3Myw5MS43MjkgQzMuNDY0LDkyLjQyIDQuMDYyLDkyLjg4MyA0LjY4Miw5My4xODEgQzQuNTY2LDkyLjk4NCA0LjQ4Niw5Mi43NzYgNC40NDYsOTIuNTcyIEMzLjY2NSw4OC41ODggMy4yOTEsODQuMzcgMy4yNzYsNzEuMTczIEMzLjI2Miw1OC41MiA0LjE2Nyw1MS40NjYgNC4xNzYsNTEuMzk2IEM0LjkwMSw0Ny4xNjUgNy4wMDgsNDYuMDU5IDcuMDk4LDQ2LjAxNCBDNy4wOTQsNDYuMDE1IDgxLjU0MiwzLjAzNCA4MS45NDQsMi44MDIgTDgxLjk3MiwyLjc4NSBDODIuODc2LDIuMjQ3IDgzLjY5MiwyLjA5NyA4NC4zMzIsMi4zNTIgQzg0Ljg4NywyLjU3MyA4NS4yODEsMy4wODUgODUuNTA0LDMuODcyIEM4Ny41MTgsMTEgODYuOTY0LDM2LjA5MSA4NS43ODUsNDMuODU1IEM4NS4yNzgsNDcuMTk2IDg0LjIxLDQ5LjM3IDgyLjYxLDUwLjMxNyBMNy4zMzUsOTMuODY5IEM2Ljk5OSw5NC4wNjMgNi42NTgsOTQuMTYxIDYuMzE3LDk0LjE2MSBMNi4zMTcsOTQuMTYxIFogTTYuMTcsOTMuNjU0IEM2LjQ2Myw5My42OSA2Ljc3NCw5My42MTcgNy4wODUsOTMuNDM3IEw4Mi4zNTgsNDkuODg2IEM4NC4xODEsNDguODA4IDg0Ljk2LDQ1Ljk3MSA4NS4yOTIsNDMuNzggQzg2LjQ2NiwzNi4wNDkgODcuMDIzLDExLjA4NSA4NS4wMjQsNC4wMDggQzg0Ljg0NiwzLjM3NyA4NC41NTEsMi45NzYgODQuMTQ4LDIuODE2IEM4My42NjQsMi42MjMgODIuOTgyLDIuNzY0IDgyLjIyNywzLjIxMyBMODIuMTkzLDMuMjM0IEM4MS43OTEsMy40NjYgNy4zMzUsNDYuNDUyIDcuMzM1LDQ2LjQ1MiBDNy4zMDQsNDYuNDY5IDUuMzQ2LDQ3LjUyMSA0LjY2OSw1MS40NzEgQzQuNjYyLDUxLjUzIDMuNzYxLDU4LjU1NiAzLjc3NSw3MS4xNzMgQzMuNzksODQuMzI4IDQuMTYxLDg4LjUyNCA0LjkzNiw5Mi40NzYgQzUuMDI2LDkyLjkzNyA1LjQxMiw5My40NTkgNS45NzMsOTMuNjE1IEM2LjA4Nyw5My42NCA2LjE1OCw5My42NTIgNi4xNjksOTMuNjU0IEw2LjE3LDkzLjY1NCBMNi4xNyw5My42NTQgWiIgaWQ9IkZpbGwtMTIiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNy4zMTcsNjguOTgyIEM3LjgwNiw2OC43MDEgOC4yMDIsNjguOTI2IDguMjAyLDY5LjQ4NyBDOC4yMDIsNzAuMDQ3IDcuODA2LDcwLjczIDcuMzE3LDcxLjAxMiBDNi44MjksNzEuMjk0IDYuNDMzLDcxLjA2OSA2LjQzMyw3MC41MDggQzYuNDMzLDY5Ljk0OCA2LjgyOSw2OS4yNjUgNy4zMTcsNjguOTgyIiBpZD0iRmlsbC0xMyIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik02LjkyLDcxLjEzMyBDNi42MzEsNzEuMTMzIDYuNDMzLDcwLjkwNSA2LjQzMyw3MC41MDggQzYuNDMzLDY5Ljk0OCA2LjgyOSw2OS4yNjUgNy4zMTcsNjguOTgyIEM3LjQ2LDY4LjkgNy41OTUsNjguODYxIDcuNzE0LDY4Ljg2MSBDOC4wMDMsNjguODYxIDguMjAyLDY5LjA5IDguMjAyLDY5LjQ4NyBDOC4yMDIsNzAuMDQ3IDcuODA2LDcwLjczIDcuMzE3LDcxLjAxMiBDNy4xNzQsNzEuMDk0IDcuMDM5LDcxLjEzMyA2LjkyLDcxLjEzMyBNNy43MTQsNjguNjc0IEM3LjU1Nyw2OC42NzQgNy4zOTIsNjguNzIzIDcuMjI0LDY4LjgyMSBDNi42NzYsNjkuMTM4IDYuMjQ2LDY5Ljg3OSA2LjI0Niw3MC41MDggQzYuMjQ2LDcwLjk5NCA2LjUxNyw3MS4zMiA2LjkyLDcxLjMyIEM3LjA3OCw3MS4zMiA3LjI0Myw3MS4yNzEgNy40MTEsNzEuMTc0IEM3Ljk1OSw3MC44NTcgOC4zODksNzAuMTE3IDguMzg5LDY5LjQ4NyBDOC4zODksNjkuMDAxIDguMTE3LDY4LjY3NCA3LjcxNCw2OC42NzQiIGlkPSJGaWxsLTE0IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTYuOTIsNzAuOTQ3IEM2LjY0OSw3MC45NDcgNi42MjEsNzAuNjQgNi42MjEsNzAuNTA4IEM2LjYyMSw3MC4wMTcgNi45ODIsNjkuMzkyIDcuNDExLDY5LjE0NSBDNy41MjEsNjkuMDgyIDcuNjI1LDY5LjA0OSA3LjcxNCw2OS4wNDkgQzcuOTg2LDY5LjA0OSA4LjAxNSw2OS4zNTUgOC4wMTUsNjkuNDg3IEM4LjAxNSw2OS45NzggNy42NTIsNzAuNjAzIDcuMjI0LDcwLjg1MSBDNy4xMTUsNzAuOTE0IDcuMDEsNzAuOTQ3IDYuOTIsNzAuOTQ3IE03LjcxNCw2OC44NjEgQzcuNTk1LDY4Ljg2MSA3LjQ2LDY4LjkgNy4zMTcsNjguOTgyIEM2LjgyOSw2OS4yNjUgNi40MzMsNjkuOTQ4IDYuNDMzLDcwLjUwOCBDNi40MzMsNzAuOTA1IDYuNjMxLDcxLjEzMyA2LjkyLDcxLjEzMyBDNy4wMzksNzEuMTMzIDcuMTc0LDcxLjA5NCA3LjMxNyw3MS4wMTIgQzcuODA2LDcwLjczIDguMjAyLDcwLjA0NyA4LjIwMiw2OS40ODcgQzguMjAyLDY5LjA5IDguMDAzLDY4Ljg2MSA3LjcxNCw2OC44NjEiIGlkPSJGaWxsLTE1IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTcuNDQ0LDg1LjM1IEM3LjcwOCw4NS4xOTggNy45MjEsODUuMzE5IDcuOTIxLDg1LjYyMiBDNy45MjEsODUuOTI1IDcuNzA4LDg2LjI5MiA3LjQ0NCw4Ni40NDQgQzcuMTgxLDg2LjU5NyA2Ljk2Nyw4Ni40NzUgNi45NjcsODYuMTczIEM2Ljk2Nyw4NS44NzEgNy4xODEsODUuNTAyIDcuNDQ0LDg1LjM1IiBpZD0iRmlsbC0xNiIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik03LjIzLDg2LjUxIEM3LjA3NCw4Ni41MSA2Ljk2Nyw4Ni4zODcgNi45NjcsODYuMTczIEM2Ljk2Nyw4NS44NzEgNy4xODEsODUuNTAyIDcuNDQ0LDg1LjM1IEM3LjUyMSw4NS4zMDUgNy41OTQsODUuMjg0IDcuNjU4LDg1LjI4NCBDNy44MTQsODUuMjg0IDcuOTIxLDg1LjQwOCA3LjkyMSw4NS42MjIgQzcuOTIxLDg1LjkyNSA3LjcwOCw4Ni4yOTIgNy40NDQsODYuNDQ0IEM3LjM2Nyw4Ni40ODkgNy4yOTQsODYuNTEgNy4yMyw4Ni41MSBNNy42NTgsODUuMDk4IEM3LjU1OCw4NS4wOTggNy40NTUsODUuMTI3IDcuMzUxLDg1LjE4OCBDNy4wMzEsODUuMzczIDYuNzgxLDg1LjgwNiA2Ljc4MSw4Ni4xNzMgQzYuNzgxLDg2LjQ4MiA2Ljk2Niw4Ni42OTcgNy4yMyw4Ni42OTcgQzcuMzMsODYuNjk3IDcuNDMzLDg2LjY2NiA3LjUzOCw4Ni42MDcgQzcuODU4LDg2LjQyMiA4LjEwOCw4NS45ODkgOC4xMDgsODUuNjIyIEM4LjEwOCw4NS4zMTMgNy45MjMsODUuMDk4IDcuNjU4LDg1LjA5OCIgaWQ9IkZpbGwtMTciIGZpbGw9IiM4MDk3QTIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNy4yMyw4Ni4zMjIgTDcuMTU0LDg2LjE3MyBDNy4xNTQsODUuOTM4IDcuMzMzLDg1LjYyOSA3LjUzOCw4NS41MTIgTDcuNjU4LDg1LjQ3MSBMNy43MzQsODUuNjIyIEM3LjczNCw4NS44NTYgNy41NTUsODYuMTY0IDcuMzUxLDg2LjI4MiBMNy4yMyw4Ni4zMjIgTTcuNjU4LDg1LjI4NCBDNy41OTQsODUuMjg0IDcuNTIxLDg1LjMwNSA3LjQ0NCw4NS4zNSBDNy4xODEsODUuNTAyIDYuOTY3LDg1Ljg3MSA2Ljk2Nyw4Ni4xNzMgQzYuOTY3LDg2LjM4NyA3LjA3NCw4Ni41MSA3LjIzLDg2LjUxIEM3LjI5NCw4Ni41MSA3LjM2Nyw4Ni40ODkgNy40NDQsODYuNDQ0IEM3LjcwOCw4Ni4yOTIgNy45MjEsODUuOTI1IDcuOTIxLDg1LjYyMiBDNy45MjEsODUuNDA4IDcuODE0LDg1LjI4NCA3LjY1OCw4NS4yODQiIGlkPSJGaWxsLTE4IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTc3LjI3OCw3Ljc2OSBMNzcuMjc4LDUxLjQzNiBMMTAuMjA4LDkwLjE2IEwxMC4yMDgsNDYuNDkzIEw3Ny4yNzgsNy43NjkiIGlkPSJGaWxsLTE5IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTEwLjA4Myw5MC4zNzUgTDEwLjA4Myw0Ni40MjEgTDEwLjE0Niw0Ni4zODUgTDc3LjQwMyw3LjU1NCBMNzcuNDAzLDUxLjUwOCBMNzcuMzQxLDUxLjU0NCBMMTAuMDgzLDkwLjM3NSBMMTAuMDgzLDkwLjM3NSBaIE0xMC4zMzMsNDYuNTY0IEwxMC4zMzMsODkuOTQ0IEw3Ny4xNTQsNTEuMzY1IEw3Ny4xNTQsNy45ODUgTDEwLjMzMyw0Ni41NjQgTDEwLjMzMyw0Ni41NjQgWiIgaWQ9IkZpbGwtMjAiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMjUuNzM3LDg4LjY0NyBMMTE4LjA5OCw5MS45ODEgTDExOC4wOTgsODQgTDEwNi42MzksODguNzEzIEwxMDYuNjM5LDk2Ljk4MiBMOTksMTAwLjMxNSBMMTEyLjM2OSwxMDMuOTYxIEwxMjUuNzM3LDg4LjY0NyIgaWQ9IkltcG9ydGVkLUxheWVycy1Db3B5LTIiIGZpbGw9IiM0NTVBNjQiIHNrZXRjaDp0eXBlPSJNU1NoYXBlR3JvdXAiPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"};var u8="CardboardV1",s8="WEBVR_CARDBOARD_VIEWER";function o8(){try{this.selectedKey=localStorage.getItem(s8)}catch(t){console.error("Failed to load viewer profile: %s",t)}this.selectedKey||(this.selectedKey=u8),this.dialog=this.iai(G9.Viewers),this.root=null,this.eai=[]}o8.prototype.show=function(t){this.root=t,t.appendChild(this.dialog),this.dialog.querySelector("#"+this.selectedKey).checked=!0,this.dialog.style.display="block"},o8.prototype.hide=function(){this.root&&this.root.contains(this.dialog)&&this.root.removeChild(this.dialog),this.dialog.style.display="none"},o8.prototype.getCurrentViewer=function(){return G9.Viewers[this.selectedKey]},o8.prototype.sai=function(){var t=this.dialog.querySelector("input[name=field]:checked");return t?t.id:null},o8.prototype.onChange=function(t){this.eai.push(t)},o8.prototype.nai=function(t){for(var n=0;n<this.eai.length;n++)this.eai[n](t)},o8.prototype.rai=function(){if(this.selectedKey=this.sai(),this.selectedKey&&G9.Viewers[this.selectedKey]){this.nai(G9.Viewers[this.selectedKey]);try{localStorage.setItem(s8,this.selectedKey)}catch(t){console.error("Failed to save viewer profile: %s",t)}this.hide()}else console.error("ViewerSelector.onSave_: this should never happen!")},o8.prototype.iai=function(t){var n=u.createElement("div");n.classList.add("webvr-polyfill-viewer-selector"),n.style.display="none";var i=u.createElement("div");(e=i.style).position="fixed",e.left=0,e.top=0,e.width="100%",e.height="100%",e.background="rgba(0, 0, 0, 0.3)",i.addEventListener("click",this.hide.bind(this));var r=u.createElement("div"),e=r.style;for(var s in e.boxSizing="border-box",e.position="fixed",e.top="24px",e.left="50%",e.marginLeft="-140px",e.width="280px",e.padding="24px",e.overflow="hidden",e.background="#fafafa",e.fontFamily="'Roboto', sans-serif",e.boxShadow="0px 5px 20px #666",r.appendChild(this.oai("Select your viewer")),t)r.appendChild(this.hai(s,t[s].label));return r.appendChild(this.aai("Save",this.rai.bind(this))),n.appendChild(i),n.appendChild(r),n},o8.prototype.oai=function(t){var n=u.createElement("h1"),i=n.style;return i.color="black",i.fontSize="20px",i.fontWeight="bold",i.marginTop=0,i.marginBottom="24px",n.innerHTML=t,n},o8.prototype.hai=function(t,n){var i=u.createElement("div");i.style.marginTop="8px",i.style.color="black";var r=u.createElement("input");r.style.fontSize="30px",r.setAttribute("id",t),r.setAttribute("type","radio"),r.setAttribute("value",t),r.setAttribute("name","field");var e=u.createElement("label");return e.style.marginLeft="4px",e.setAttribute("for",t),e.innerHTML=n,i.appendChild(r),i.appendChild(e),i},o8.prototype.aai=function(t,n){var i=u.createElement("button");i.innerHTML=t;var r=i.style;return r.float="right",r.textTransform="uppercase",r.color="#1094f7",r.fontSize="14px",r.letterSpacing=0,r.border=0,r.background="none",r.marginTop="16px",i.addEventListener("click",n),i};void 0!==e||("undefined"!=typeof global?global:"undefined"!=typeof self&&self);var a8=function(t,n){return t(n={exports:{}},n.exports),n.exports}((function(t,n){var i;i=function(){return function(t){var n={};function i(r){if(n[r])return n[r].exports;var e=n[r]={i:r,l:!1,exports:{}};return t[r].call(e.exports,e,e.exports,i),e.l=!0,e.exports}return i.m=t,i.c=n,i.d=function(t,n,r){i.o(t,n)||g.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},i.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(n,"a",n),n},i.o=function(t,n){return g.prototype.hasOwnProperty.call(t,n)},i.p="",i(i.s=0)}([function(t,n,i){var r=function(){function t(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),g.defineProperty(t,r.key,r)}}return function(n,i,r){return i&&t(n.prototype,i),r&&t(n,r),n}}(),s=i(1),a=void 0!==o&&m((""+(/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(o.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))<10&&!e.MSStream,c=function(){function t(){!function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,t),a?this.noSleepTimer=null:(this.noSleepVideo=u.createElement("video"),this.noSleepVideo.setAttribute("playsinline",""),this.noSleepVideo.setAttribute("src",s),this.noSleepVideo.addEventListener("timeupdate",function(t){this.noSleepVideo.currentTime>.5&&(this.noSleepVideo.currentTime=w.random())}.bind(this)))}return r(t,[{key:"enable",value:function(){a?(this.disable(),this.noSleepTimer=e.setInterval((function(){e.location.href="/",e.setTimeout(e.stop,0)}),15e3)):this.noSleepVideo.play()}},{key:"disable",value:function(){a?this.noSleepTimer&&(e.clearInterval(this.noSleepTimer),this.noSleepTimer=null):this.noSleepVideo.pause()}}]),t}();t.exports=c},function(t,n,i){t.exports="data:video/mp4;base64,AAAAIGZ0eXBtcDQyAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAACKBtZGF0AAAC8wYF///v3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0MiByMjQ3OSBkZDc5YTYxIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNCAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTEgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MToweDExMSBtZT1oZXggc3VibWU9MiBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0wIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MCA4eDhkY3Q9MCBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0wIHRocmVhZHM9NiBsb29rYWhlYWRfdGhyZWFkcz0xIHNsaWNlZF90aHJlYWRzPTAgbnI9MCBkZWNpbWF0ZT0xIGludGVybGFjZWQ9MCBibHVyYXlfY29tcGF0PTAgY29uc3RyYWluZWRfaW50cmE9MCBiZnJhbWVzPTMgYl9weXJhbWlkPTIgYl9hZGFwdD0xIGJfYmlhcz0wIGRpcmVjdD0xIHdlaWdodGI9MSBvcGVuX2dvcD0wIHdlaWdodHA9MSBrZXlpbnQ9MzAwIGtleWludF9taW49MzAgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD0xMCByYz1jcmYgbWJ0cmVlPTEgY3JmPTIwLjAgcWNvbXA9MC42MCBxcG1pbj0wIHFwbWF4PTY5IHFwc3RlcD00IHZidl9tYXhyYXRlPTIwMDAwIHZidl9idWZzaXplPTI1MDAwIGNyZl9tYXg9MC4wIG5hbF9ocmQ9bm9uZSBmaWxsZXI9MCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAOWWIhAA3//p+C7v8tDDSTjf97w55i3SbRPO4ZY+hkjD5hbkAkL3zpJ6h/LR1CAABzgB1kqqzUorlhQAAAAxBmiQYhn/+qZYADLgAAAAJQZ5CQhX/AAj5IQADQGgcIQADQGgcAAAACQGeYUQn/wALKCEAA0BoHAAAAAkBnmNEJ/8ACykhAANAaBwhAANAaBwAAAANQZpoNExDP/6plgAMuSEAA0BoHAAAAAtBnoZFESwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBnqVEJ/8ACykhAANAaBwAAAAJAZ6nRCf/AAsoIQADQGgcIQADQGgcAAAADUGarDRMQz/+qZYADLghAANAaBwAAAALQZ7KRRUsK/8ACPkhAANAaBwAAAAJAZ7pRCf/AAsoIQADQGgcIQADQGgcAAAACQGe60Qn/wALKCEAA0BoHAAAAA1BmvA0TEM//qmWAAy5IQADQGgcIQADQGgcAAAAC0GfDkUVLCv/AAj5IQADQGgcAAAACQGfLUQn/wALKSEAA0BoHCEAA0BoHAAAAAkBny9EJ/8ACyghAANAaBwAAAANQZs0NExDP/6plgAMuCEAA0BoHAAAAAtBn1JFFSwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBn3FEJ/8ACyghAANAaBwAAAAJAZ9zRCf/AAsoIQADQGgcIQADQGgcAAAADUGbeDRMQz/+qZYADLkhAANAaBwAAAALQZ+WRRUsK/8ACPghAANAaBwhAANAaBwAAAAJAZ+1RCf/AAspIQADQGgcAAAACQGft0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bm7w0TEM//qmWAAy4IQADQGgcAAAAC0Gf2kUVLCv/AAj5IQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHAAAAAkBn/tEJ/8ACykhAANAaBwAAAANQZvgNExDP/6plgAMuSEAA0BoHCEAA0BoHAAAAAtBnh5FFSwr/wAI+CEAA0BoHAAAAAkBnj1EJ/8ACyghAANAaBwhAANAaBwAAAAJAZ4/RCf/AAspIQADQGgcAAAADUGaJDRMQz/+qZYADLghAANAaBwAAAALQZ5CRRUsK/8ACPkhAANAaBwhAANAaBwAAAAJAZ5hRCf/AAsoIQADQGgcAAAACQGeY0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bmmg0TEM//qmWAAy5IQADQGgcAAAAC0GehkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGepUQn/wALKSEAA0BoHAAAAAkBnqdEJ/8ACyghAANAaBwAAAANQZqsNExDP/6plgAMuCEAA0BoHCEAA0BoHAAAAAtBnspFFSwr/wAI+SEAA0BoHAAAAAkBnulEJ/8ACyghAANAaBwhAANAaBwAAAAJAZ7rRCf/AAsoIQADQGgcAAAADUGa8DRMQz/+qZYADLkhAANAaBwhAANAaBwAAAALQZ8ORRUsK/8ACPkhAANAaBwAAAAJAZ8tRCf/AAspIQADQGgcIQADQGgcAAAACQGfL0Qn/wALKCEAA0BoHAAAAA1BmzQ0TEM//qmWAAy4IQADQGgcAAAAC0GfUkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGfcUQn/wALKCEAA0BoHAAAAAkBn3NEJ/8ACyghAANAaBwhAANAaBwAAAANQZt4NExC//6plgAMuSEAA0BoHAAAAAtBn5ZFFSwr/wAI+CEAA0BoHCEAA0BoHAAAAAkBn7VEJ/8ACykhAANAaBwAAAAJAZ+3RCf/AAspIQADQGgcAAAADUGbuzRMQn/+nhAAYsAhAANAaBwhAANAaBwAAAAJQZ/aQhP/AAspIQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHAAACiFtb292AAAAbG12aGQAAAAA1YCCX9WAgl8AAAPoAAAH/AABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAGGlvZHMAAAAAEICAgAcAT////v7/AAAF+XRyYWsAAABcdGtoZAAAAAPVgIJf1YCCXwAAAAEAAAAAAAAH0AAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAygAAAMoAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAB9AAABdwAAEAAAAABXFtZGlhAAAAIG1kaGQAAAAA1YCCX9WAgl8AAV+QAAK/IFXEAAAAAAAtaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAFZpZGVvSGFuZGxlcgAAAAUcbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAE3HN0YmwAAACYc3RzZAAAAAAAAAABAAAAiGF2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAygDKAEgAAABIAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAAyYXZjQwFNQCj/4QAbZ01AKOyho3ySTUBAQFAAAAMAEAAr8gDxgxlgAQAEaO+G8gAAABhzdHRzAAAAAAAAAAEAAAA8AAALuAAAABRzdHNzAAAAAAAAAAEAAAABAAAB8GN0dHMAAAAAAAAAPAAAAAEAABdwAAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAAC7gAAAAAQAAF3AAAAABAAAAAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAEEc3RzegAAAAAAAAAAAAAAPAAAAzQAAAAQAAAADQAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAANAAAADQAAAQBzdGNvAAAAAAAAADwAAAAwAAADZAAAA3QAAAONAAADoAAAA7kAAAPQAAAD6wAAA/4AAAQXAAAELgAABEMAAARcAAAEbwAABIwAAAShAAAEugAABM0AAATkAAAE/wAABRIAAAUrAAAFQgAABV0AAAVwAAAFiQAABaAAAAW1AAAFzgAABeEAAAX+AAAGEwAABiwAAAY/AAAGVgAABnEAAAaEAAAGnQAABrQAAAbPAAAG4gAABvUAAAcSAAAHJwAAB0AAAAdTAAAHcAAAB4UAAAeeAAAHsQAAB8gAAAfjAAAH9gAACA8AAAgmAAAIQQAACFQAAAhnAAAIhAAACJcAAAMsdHJhawAAAFx0a2hkAAAAA9WAgl/VgIJfAAAAAgAAAAAAAAf8AAAAAAAAAAAAAAABAQAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAACsm1kaWEAAAAgbWRoZAAAAADVgIJf1YCCXwAArEQAAWAAVcQAAAAAACdoZGxyAAAAAAAAAABzb3VuAAAAAAAAAAAAAAAAU3RlcmVvAAAAAmNtaW5mAAAAEHNtaGQAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAidzdGJsAAAAZ3N0c2QAAAAAAAAAAQAAAFdtcDRhAAAAAAAAAAEAAAAAAAAAAAACABAAAAAArEQAAAAAADNlc2RzAAAAAAOAgIAiAAIABICAgBRAFQAAAAADDUAAAAAABYCAgAISEAaAgIABAgAAABhzdHRzAAAAAAAAAAEAAABYAAAEAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAAUc3RzegAAAAAAAAAGAAAAWAAAAXBzdGNvAAAAAAAAAFgAAAOBAAADhwAAA5oAAAOtAAADswAAA8oAAAPfAAAD5QAAA/gAAAQLAAAEEQAABCgAAAQ9AAAEUAAABFYAAARpAAAEgAAABIYAAASbAAAErgAABLQAAATHAAAE3gAABPMAAAT5AAAFDAAABR8AAAUlAAAFPAAABVEAAAVXAAAFagAABX0AAAWDAAAFmgAABa8AAAXCAAAFyAAABdsAAAXyAAAF+AAABg0AAAYgAAAGJgAABjkAAAZQAAAGZQAABmsAAAZ+AAAGkQAABpcAAAauAAAGwwAABskAAAbcAAAG7wAABwYAAAcMAAAHIQAABzQAAAc6AAAHTQAAB2QAAAdqAAAHfwAAB5IAAAeYAAAHqwAAB8IAAAfXAAAH3QAAB/AAAAgDAAAICQAACCAAAAg1AAAIOwAACE4AAAhhAAAIeAAACH4AAAiRAAAIpAAACKoAAAiwAAAItgAACLwAAAjCAAAAFnVkdGEAAAAObmFtZVN0ZXJlbwAAAHB1ZHRhAAAAaG1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAAO2lsc3QAAAAzqXRvbwAAACtkYXRhAAAAAQAAAABIYW5kQnJha2UgMC4xMC4yIDIwMTUwNjExMDA="}])},t.exports=i()})),c8=function(t){return t&&t.__esModule?t.default:t}(a8),h8=1e3,f8=[0,0,.5,1],v8=[.5,0,.5,1],l8=e.requestAnimationFrame,d8=e.cancelAnimationFrame;function g8(t){g.defineProperties(this,{hasPosition:{writable:!1,enumerable:!0,value:t.hasPosition},hasExternalDisplay:{writable:!1,enumerable:!0,value:t.hasExternalDisplay},canPresent:{writable:!1,enumerable:!0,value:t.canPresent},maxLayers:{writable:!1,enumerable:!0,value:t.maxLayers},hasOrientation:{enumerable:!0,get:function(){return M9("VRDisplayCapabilities.prototype.hasOrientation","VRDisplay.prototype.getFrameData"),t.hasOrientation}}})}function w8(t){var n=!("wakelock"in(t=t||{}))||t.wakelock;this.isPolyfilled=!0,this.displayId=h8++,this.displayName="",this.depthNear=.01,this.depthFar=1e4,this.isPresenting=!1,g.defineProperty(this,"isConnected",{get:function(){return M9("VRDisplay.prototype.isConnected","VRDisplayCapabilities.prototype.hasExternalDisplay"),!1}}),this.capabilities=new g8({hasPosition:!1,hasOrientation:!1,hasExternalDisplay:!1,canPresent:!1,maxLayers:1}),this.stageParameters=null,this.uai=!1,this.yM=null,this.cai=null,this.vV=null,this.eit=null,this.lai=null,this.fai=null,this._ai=null,this.gai=null,n&&w9()&&(this.wai=new c8)}w8.prototype.getFrameData=function(t){return _9(t,this.vai(),this)},w8.prototype.getPose=function(){return M9("VRDisplay.prototype.getPose","VRDisplay.prototype.getFrameData"),this.vai()},w8.prototype.resetPose=function(){return M9("VRDisplay.prototype.resetPose"),this.mai()},w8.prototype.getImmediatePose=function(){return M9("VRDisplay.prototype.getImmediatePose","VRDisplay.prototype.getFrameData"),this.vai()},w8.prototype.requestAnimationFrame=function(t){return l8(t)},w8.prototype.cancelAnimationFrame=function(t){return d8(t)},w8.prototype.wrapForFullscreen=function(t){if(e9())return t;if(!this.eit){this.eit=u.createElement("div");var n=["height: "+w.min(screen.height,screen.width)+"px !important","top: 0 !important","left: 0 !important","right: 0 !important","border: 0","margin: 0","padding: 0","z-index: 999999 !important","position: fixed"];this.eit.setAttribute("style",n.join("; ")+";"),this.eit.classList.add("webvr-polyfill-fullscreen-wrapper")}if(this.vV==t)return this.eit;if(this.vV&&(this.cai?this.cai.appendChild(this.vV):this.vV.parentElement.removeChild(this.vV)),this.vV=t,this.cai=t.parentElement,this.cai||u.body.appendChild(t),!this.eit.parentElement){var i=this.vV.parentElement;i.insertBefore(this.eit,this.vV),i.removeChild(this.vV)}this.eit.insertBefore(this.vV,this.eit.firstChild),this.lai=this.vV.getAttribute("style");var r=this;return function(){if(r.vV){var t=["position: absolute","top: 0","left: 0","width: "+w.max(screen.width,screen.height)+"px","height: "+w.min(screen.height,screen.width)+"px","border: 0","margin: 0","padding: 0"];r.vV.setAttribute("style",t.join("; ")+";")}}(),this.eit},w8.prototype.removeFullscreenWrapper=function(){if(this.vV){var t=this.vV;this.lai?t.setAttribute("style",this.lai):t.removeAttribute("style"),this.vV=null,this.lai=null;var n=this.eit.parentElement;return this.eit.removeChild(t),this.cai===n?n.insertBefore(t,this.eit):this.cai&&this.cai.appendChild(t),n.removeChild(this.eit),t}},w8.prototype.requestPresent=function(t){var n=this.isPresenting,i=this;return t instanceof Array||(M9("VRDisplay.prototype.requestPresent with non-array argument","an array of VRLayers as the first argument"),t=[t]),new q((function(r,e){if(i.capabilities.canPresent)if(0==t.length||t.length>i.capabilities.maxLayers)e(new v("Invalid number of layers."));else{var s=t[0];if(s.source){var o=s.leftBounds||f8,a=s.rightBounds||v8;if(n){var c=i.yM;c.source!==s.source&&(c.source=s.source);for(var h=0;h<4;h++)c.leftBounds[h]=o[h],c.rightBounds[h]=a[h];return i.wrapForFullscreen(i.yM.source),i.pai(),void r()}if(i.yM={predistorted:s.predistorted,source:s.source,leftBounds:o.slice(0),rightBounds:a.slice(0)},i.uai=!1,i.yM&&i.yM.source){var f=i.wrapForFullscreen(i.yM.source);i.Aai(f,(function(){var t=u.fullscreenElement||u.webkitFullscreenElement||u.mozFullScreenElement||u.msFullscreenElement;i.isPresenting=f===t,i.isPresenting?(screen.orientation&&screen.orientation.lock&&screen.orientation.lock("landscape-primary").catch((function(t){console.error("screen.orientation.lock() failed due to",t.message)})),i.uai=!1,i.yai(),r()):(screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock(),i.disableWakeLock(),i.Mai(),i.removeFullscreenWrapper(),i.bai()),i.Tai()}),(function(){i.uai&&(i.removeFullscreenWrapper(),i.bai(),i.disableWakeLock(),i.uai=!1,i.isPresenting=!1,e(new v("Unable to present.")))})),!function(t){if(u.fullscreenEnabled&&t.requestFullscreen)t.requestFullscreen();else if(u.webkitFullscreenEnabled&&t.webkitRequestFullscreen)t.webkitRequestFullscreen();else if(u.mozFullScreenEnabled&&t.mozRequestFullScreen)t.mozRequestFullScreen();else{if(!u.msFullscreenEnabled||!t.msRequestFullscreen)return!1;t.msRequestFullscreen()}return!0}(f)?(e9()||u9())&&(i.enableWakeLock(),i.isPresenting=!0,i.yai(),i.Tai(),r()):(i.enableWakeLock(),i.uai=!0)}i.uai||e9()||(l9(),e(new v("Unable to present.")))}else r()}else e(new v("VRDisplay is not capable of presenting."))}))},w8.prototype.exitPresent=function(){var t=this.isPresenting,n=this;return this.isPresenting=!1,this.yM=null,this.disableWakeLock(),new q((function(i,r){t?(l9(),n.Mai(),n.removeFullscreenWrapper(),n.bai(),n.Tai(),i()):r(new v("Was not presenting to VRDisplay."))}))},w8.prototype.getLayers=function(){return this.yM?[this.yM]:[]},w8.prototype.Tai=function(){var t=new CustomEvent("vrdisplaypresentchange",{detail:{display:this}});e.dispatchEvent(t)},w8.prototype.Sai=function(){var t=new CustomEvent("vrdisplayconnect",{detail:{display:this}});e.dispatchEvent(t)},w8.prototype.Aai=function(t,n,i){this.bai(),this.fai=t,this._ai=n,this.gai=i,n&&(u.fullscreenEnabled?t.addEventListener("fullscreenchange",n,!1):u.webkitFullscreenEnabled?t.addEventListener("webkitfullscreenchange",n,!1):u.mozFullScreenEnabled?u.addEventListener("mozfullscreenchange",n,!1):u.msFullscreenEnabled&&t.addEventListener("msfullscreenchange",n,!1)),i&&(u.fullscreenEnabled?t.addEventListener("fullscreenerror",i,!1):u.webkitFullscreenEnabled?t.addEventListener("webkitfullscreenerror",i,!1):u.mozFullScreenEnabled?u.addEventListener("mozfullscreenerror",i,!1):u.msFullscreenEnabled&&t.addEventListener("msfullscreenerror",i,!1))},w8.prototype.bai=function(){if(this.fai){var t=this.fai;if(this._ai){var n=this._ai;t.removeEventListener("fullscreenchange",n,!1),t.removeEventListener("webkitfullscreenchange",n,!1),u.removeEventListener("mozfullscreenchange",n,!1),t.removeEventListener("msfullscreenchange",n,!1)}if(this.gai){var i=this.gai;t.removeEventListener("fullscreenerror",i,!1),t.removeEventListener("webkitfullscreenerror",i,!1),u.removeEventListener("mozfullscreenerror",i,!1),t.removeEventListener("msfullscreenerror",i,!1)}this.fai=null,this._ai=null,this.gai=null}},w8.prototype.enableWakeLock=function(){this.wai&&this.wai.enable()},w8.prototype.disableWakeLock=function(){this.wai&&this.wai.disable()},w8.prototype.yai=function(){},w8.prototype.Mai=function(){},w8.prototype.submitFrame=function(t){},w8.prototype.getEyeParameters=function(t){return null};var y8={MOBILE_WAKE_LOCK:!0,DEBUG:!1,DPDB_URL:"https://dpdb.webvr.rocks/dpdb.json",K_FILTER:.98,PREDICTION_TIME_S:.04,CARDBOARD_UI_DISABLED:!1,ROTATE_INSTRUCTIONS_DISABLED:!1,ROTATE_INSTRUCTIONS_LANDSCAPE_TIMEOUT:3e3,YAW_ONLY:!1,BUFFER_SCALE:.5,DIRTY_SUBMIT_FRAME_BINDINGS:!1},m8="left",A8="right";function p8(t){var n=y9({},y8);t=y9(n,t||{}),w8.call(this,{wakelock:t.MOBILE_WAKE_LOCK}),this.config=t,this.displayName="Cardboard VRDisplay",this.capabilities=new g8({hasPosition:!1,hasOrientation:!0,hasExternalDisplay:!1,canPresent:!0,maxLayers:1}),this.stageParameters=null,this.Nai=this.config.BUFFER_SCALE,this.Iai=new r8(this.config),this.Dai=null,this.Eai=null,this.iit=null,this.kai=null,this.Lai=new X9(this.config.DPDB_URL,this.xai.bind(this)),this.Cai=new G9(this.Lai.getDeviceParams()),this.Oai=new o8,this.Oai.onChange(this.jai.bind(this)),this.Cai.setViewer(this.Oai.getCurrentViewer()),this.config.ROTATE_INSTRUCTIONS_DISABLED||(this.Rai=new e8),e9()&&e.addEventListener("resize",this.eV.bind(this))}p8.prototype=g.create(w8.prototype),p8.prototype.vai=function(){return{position:null,orientation:this.Iai.getOrientation(),linearVelocity:null,linearAcceleration:null,angularVelocity:null,angularAcceleration:null}},p8.prototype.mai=function(){this.Iai.resetPose&&this.Iai.resetPose()},p8.prototype.bhi=function(t){var n;if(t==m8)n=this.Cai.getFieldOfViewLeftEye();else{if(t!=A8)return console.error("Invalid eye provided: %s",t),null;n=this.Cai.getFieldOfViewRightEye()}return n},p8.prototype.Thi=function(t){var n;if(t==m8)n=[.5*-this.Cai.viewer.interLensDistance,0,0];else{if(t!=A8)return console.error("Invalid eye provided: %s",t),null;n=[.5*this.Cai.viewer.interLensDistance,0,0]}return n},p8.prototype.getEyeParameters=function(t){var n=this.Thi(t),i=this.bhi(t),r={offset:n,renderWidth:.5*this.Cai.device.width*this.Nai,renderHeight:this.Cai.device.height*this.Nai};return g.defineProperty(r,"fieldOfView",{enumerable:!0,get:function(){return M9("VRFieldOfView","VRFrameData's projection matrices"),i}}),r},p8.prototype.xai=function(t){this.config.DEBUG&&console.log("DPDB reported that device params were updated."),this.Cai.updateDeviceParams(t),this.Dai&&this.Dai.updateDeviceInfo(this.Cai)},p8.prototype.Pai=function(){this.yM&&this.Dai&&(this.yM.leftBounds||this.yM.rightBounds)&&this.Dai.setTextureBounds(this.yM.leftBounds,this.yM.rightBounds)},p8.prototype.yai=function(){var t=this.yM.source.getContext("webgl");if(t||(t=this.yM.source.getContext("experimental-webgl")),t||(t=this.yM.source.getContext("webgl2")),t){if(this.iit=t.canvas,this.kai=t.canvas.getAttribute("style"),this.yM.predistorted?this.config.CARDBOARD_UI_DISABLED||(t.canvas.width=f9()*this.Nai,t.canvas.height=v9()*this.Nai,this.Eai=new x9(t)):(this.config.CARDBOARD_UI_DISABLED||(this.Eai=new x9(t)),this.Dai=new I9(t,this.Eai,this.config.BUFFER_SCALE,this.config.DIRTY_SUBMIT_FRAME_BINDINGS),this.Dai.updateDeviceInfo(this.Cai)),this.Eai&&this.Eai.listen(function(t){this.Oai.show(this.yM.source.parentElement),t.stopPropagation(),t.preventDefault()}.bind(this),function(t){this.exitPresent(),t.stopPropagation(),t.preventDefault()}.bind(this)),this.Rai){var n=this.config.ROTATE_INSTRUCTIONS_LANDSCAPE_TIMEOUT;h9()&&w9()&&n?this.Rai.showTemporarily(n,this.yM.source.parentElement):this.Rai.update()}this.orientationHandler=this.Fhi.bind(this),e.addEventListener("orientationchange",this.orientationHandler),this.vrdisplaypresentchangeHandler=this.Pai.bind(this),e.addEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler),this.eV(),this.zai()}},p8.prototype.Mai=function(){this.Dai&&(this.Dai.destroy(),this.Dai=null),this.Eai&&(this.Eai.destroy(),this.Eai=null),this.Rai&&this.Rai.hide(),this.Oai.hide(),this.iit&&(p9(this.iit),this.kai?this.iit.setAttribute("style",this.kai):this.iit.removeAttribute("style"),A9(this.iit),this.iit=null,this.kai=null),e.removeEventListener("orientationchange",this.orientationHandler),e.removeEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler)},p8.prototype.pai=function(){this.Mai(),this.yai()},p8.prototype.submitFrame=function(t){if(this.Dai)this.Pai(),this.Dai.submitFrame();else if(this.Eai&&this.yM){var n=this.yM.source.getContext("webgl").canvas;n.width==this.lastWidth&&n.height==this.lastHeight||this.Eai.onResize(),this.lastWidth=n.width,this.lastHeight=n.height,this.Eai.render()}},p8.prototype.Fhi=function(t){this.Oai.hide(),this.Rai&&this.Rai.update(),this.eV()},p8.prototype.eV=function(t){if(this.yM){var n=this.yM.source.getContext("webgl");p9(n.canvas);n.canvas.setAttribute("style",["position: absolute","top: 0","left: 0","width: 100vw","height: 100vh","border: 0","margin: 0","padding: 0px","box-sizing: content-box"].join("; ")+";"),A9(n.canvas)}},p8.prototype.jai=function(t){this.Cai.setViewer(t),this.Dai&&this.Dai.updateDeviceInfo(this.Cai),this.zai()},p8.prototype.zai=function(){var t=new CustomEvent("vrdisplaydeviceparamschange",{detail:{vrdisplay:this,deviceInfo:this.Cai}});e.dispatchEvent(t)},p8.VRFrameData=function(){this.leftProjectionMatrix=new Float32Array(16),this.leftViewMatrix=new Float32Array(16),this.rightProjectionMatrix=new Float32Array(16),this.rightViewMatrix=new Float32Array(16),this.pose=null},p8.VRDisplay=w8;var _8={PROVIDE_MOBILE_VRDISPLAY:!0,GET_VR_DISPLAYS_TIMEOUT:1e3,MOBILE_WAKE_LOCK:!0,DEBUG:!1,DPDB_URL:"https://dpdb.webvr.rocks/dpdb.json",K_FILTER:.98,PREDICTION_TIME_S:.04,TOUCH_PANNER_DISABLED:!0,CARDBOARD_UI_DISABLED:!1,ROTATE_INSTRUCTIONS_DISABLED:!1,ROTATE_INSTRUCTIONS_LANDSCAPE_TIMEOUT:3e3,YAW_ONLY:!1,BUFFER_SCALE:.5,DIRTY_SUBMIT_FRAME_BINDINGS:!1};function k8(t){this.config=t9(t9({},_8),t),this.polyfillDisplays=[],this.enabled=!1,this.hasNative="getVRDisplays"in o,this.native={},this.native.getVRDisplays=o.getVRDisplays,this.native.VRFrameData=e.VRFrameData,this.native.VRDisplay=e.VRDisplay,(!this.hasNative||this.config.PROVIDE_MOBILE_VRDISPLAY&&J6())&&(this.enable(),this.getVRDisplays().then((function(t){t&&t[0]&&t[0].Sai&&t[0].Sai()})))}k8.prototype.getPolyfillDisplays=function(){if(this.Bai)return this.polyfillDisplays;if(J6()){var t=new p8({MOBILE_WAKE_LOCK:this.config.MOBILE_WAKE_LOCK,DEBUG:this.config.DEBUG,DPDB_URL:this.config.DPDB_URL,CARDBOARD_UI_DISABLED:this.config.CARDBOARD_UI_DISABLED,K_FILTER:this.config.K_FILTER,PREDICTION_TIME_S:this.config.PREDICTION_TIME_S,TOUCH_PANNER_DISABLED:this.config.TOUCH_PANNER_DISABLED,ROTATE_INSTRUCTIONS_DISABLED:this.config.ROTATE_INSTRUCTIONS_DISABLED,ROTATE_INSTRUCTIONS_LANDSCAPE_TIMEOUT:this.config.ROTATE_INSTRUCTIONS_LANDSCAPE_TIMEOUT,YAW_ONLY:this.config.YAW_ONLY,BUFFER_SCALE:this.config.BUFFER_SCALE,DIRTY_SUBMIT_FRAME_BINDINGS:this.config.DIRTY_SUBMIT_FRAME_BINDINGS});this.polyfillDisplays.push(t)}return this.Bai=!0,this.polyfillDisplays},k8.prototype.enable=function(){if(this.enabled=!0,this.hasNative&&this.native.VRFrameData){var t=this.native.VRFrameData,n=new this.native.VRFrameData,i=this.native.VRDisplay.prototype.getFrameData;e.VRDisplay.prototype.getFrameData=function(r){r instanceof t?i.call(this,r):(i.call(this,n),r.pose=n.pose,$6(n.leftProjectionMatrix,r.leftProjectionMatrix),$6(n.rightProjectionMatrix,r.rightProjectionMatrix),$6(n.leftViewMatrix,r.leftViewMatrix),$6(n.rightViewMatrix,r.rightViewMatrix))}}o.getVRDisplays=this.getVRDisplays.bind(this),e.VRDisplay=p8.VRDisplay,e.VRFrameData=p8.VRFrameData},k8.prototype.getVRDisplays=function(){var t,n=this,i=this.config;return this.hasNative?function(t){return q.race?q.race(t):new q((function(n,i){for(var r=0;r<t.length;r++)t[r].then(n,i)}))}([this.native.getVRDisplays.call(o),new q((function(n){t=a((function(){console.warn("Native WebVR implementation detected, but `getVRDisplays()` failed to resolve. Falling back to polyfill."),n([])}),i.GET_VR_DISPLAYS_TIMEOUT)}))]).then((function(i){return c(t),i.length>0?i:n.getPolyfillDisplays()})):q.resolve(this.getPolyfillDisplays())},k8.version="0.10.5-opentelly.3",k8.VRFrameData=p8.VRFrameData,k8.VRDisplay=p8.VRDisplay;var b8=g.freeze({default:k8}),M8=b8&&k8||b8;void 0!==q6&&q6.window&&(q6.document||(q6.document=q6.window.document),q6.navigator||(q6.navigator=q6.window.navigator));new M8({TOUCH_PANNER_DISABLED:!0,ROTATE_INSTRUCTIONS_LANDSCAPE_TIMEOUT:0,MOBILE_WAKE_LOCK:!xn.sL&&!xn.Ga,DPDB_URL:void 0});yt(),C(),Xt(),zt(),pt(),Mt(),Ut(),yt(),C(),yt(),C();var T8=function(){function t(t){this.Wai=null,this.qai=null,this.Zai=!0,this.Fai=null,this.Yai=null,this.Qai=t,this.Gai=t.createProgram()}var n=t.prototype;return n.Uai=function(t,n){var i,r=this.Qai;switch(n){case r.VERTEX_SHADER:i=r.createShader(n),this.Fai=i;break;case r.FRAGMENT_SHADER:i=r.createShader(n),this.Yai=i;break;default:return void console.error("Invalid Shader Type:",n)}r.attachShader(this.Gai,i),r.shaderSource(i,t),r.compileShader(i)},n.Vai=function(t){var n=this.Qai;if(t)for(var i in this.Wai={},t)n.bindAttribLocation(this.Gai,t[i],i),this.Wai[i]=t[i]},n.Hai=function(){this.Qai.linkProgram(this.Gai)},n.Xai=function(){var t=this.Qai;if(this.Zai){if(t.getProgramParameter(this.Gai,t.LINK_STATUS)){if(!this.Wai){this.Wai={};for(var n=t.getProgramParameter(this.Gai,t.ACTIVE_ATTRIBUTES),i=0;i<n;i++){var r=t.getActiveAttrib(this.Gai,i);this.Wai[r.name]=t.getAttribLocation(this.Gai,r.name)}}this.qai={};for(var e=t.getProgramParameter(this.Gai,t.ACTIVE_UNIFORMS),u="",s=0;s<e;s++){u=t.getActiveUniform(this.Gai,s).name.replace("[0]",""),this.qai[u]=t.getUniformLocation(this.Gai,u)}}else this.Fai&&!t.getShaderParameter(this.Fai,t.COMPILE_STATUS)?console.error("Vertex shader compile error:",t.getShaderInfoLog(this.Fai)):this.Yai&&!t.getShaderParameter(this.Yai,t.COMPILE_STATUS)?console.error("Fragment shader compile error:",t.getShaderInfoLog(this.Yai)):console.error("Program link error:",t.getProgramInfoLog(this.Gai)),t.deleteProgram(this.Gai),this.Gai=null;t.deleteShader(this.Fai),t.deleteShader(this.Yai),this.Zai=!1}t.useProgram(this.Gai)},t}(),N8=function(){function t(t,n,i){this.tui=!1,this.Qai=t,this.iui=t.createTexture();var r=["uniform mat4 projectionMat;","uniform mat4 modelViewMat;","attribute vec3 position;","attribute vec2 texCoord;","varying vec2 vTexCoord;","void main() {","  vTexCoord = texCoord;","  gl_Position = projectionMat * modelViewMat * vec4( position, 1.0 );","}"].join("\n"),e=["precision mediump float;","uniform sampler2D diffuse;","varying vec2 vTexCoord;","void main() {","  gl_FragColor = texture2D(diffuse, vTexCoord);","}"].join("\n");this.Gai=new T8(t),this.Gai.Uai(r,t.VERTEX_SHADER),this.Gai.Uai(e,t.FRAGMENT_SHADER),this.Gai.Vai({position:0,texCoord:1}),this.Gai.Hai();for(var u=[],s=[],o=[],a=40,c=0;c<=40;++c)for(var h=c*w.PI/40,f=w.sin(h),v=w.cos(h),l=0;l<=a;++l){var d=2*l*w.PI/a-w.PI,g=w.sin(d)*f,y=v,m=-w.cos(d)*f,A=l/a,p=c/40;switch(i){case"horizontal":u.push(2*g,2*y,2*m,A/2,p),s.push(2*g,2*y,2*m,A/2+.5,p);break;case"vertical":u.push(2*g,2*y,2*m,A,p/2),s.push(2*g,2*y,2*m,A,p/2+.5);break;default:u.push(2*g,2*y,2*m,A,p)}}for(var _=0;_<40;++_)for(var k=41*_,b=41*(_+1),M=0;M<a;++M){var T=k+M,N=b+M;o.push(T,N,T+1,N,N+1,T+1)}switch(this.sui=t.createBuffer(),this.eui=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.sui),t.bufferData(t.ARRAY_BUFFER,new Float32Array(u),t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,this.eui),i){case"horizontal":case"vertical":t.bufferData(t.ARRAY_BUFFER,new Float32Array(s),t.STATIC_DRAW);break;default:t.bufferData(t.ARRAY_BUFFER,new Float32Array(u),t.STATIC_DRAW)}this.nui=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.nui),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(o),t.STATIC_DRAW),this.Jai=o.length,this.t=n}var n=t.prototype;return n.pr=function(t,n,i){var r=this.Qai;this.Kai(t,n,r,i),this.t.fg||this.t.iit.zG(r,r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE),r.drawElements(r.TRIANGLES,this.Jai,r.UNSIGNED_SHORT,0)},n.$ai=function(t){this.tui||(t.bindTexture(t.TEXTURE_2D,this.iui),this.t.iit.zG(t,t.TEXTURE_2D,0,t.RGB,t.RGB,t.UNSIGNED_BYTE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),this.tui=!0)},n.Kai=function(t,n,i,r){var e=this.Gai;e.Xai(),this.$ai(i);var u,s=e.qai,o=e.Wai;i.uniformMatrix4fv(s.projectionMat,!1,t),i.uniformMatrix4fv(s.modelViewMat,!1,n),u="right"===r?this.eui:this.sui,i.bindBuffer(i.ARRAY_BUFFER,u),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,this.nui),i.enableVertexAttribArray(o.position),i.enableVertexAttribArray(o.texCoord),i.vertexAttribPointer(o.position,3,i.FLOAT,!1,20,0),i.vertexAttribPointer(o.texCoord,2,i.FLOAT,!1,20,12),i.activeTexture(i.TEXTURE0),i.uniform1i(s.diffuse,0),i.bindTexture(i.TEXTURE_2D,this.iui)},t}();yt(),C(),Mt();var D8=function(t){function n(){return t.call(this,"rui")}return bt(n,t),n.prototype.fa=function(){return new I8},n}(am),I8=function(t){function n(){return t.call(this,"stereochange")}return bt(n,t),n}(ra);yt(),C(),Mt();var E8=function(t){function n(){return t.call(this,"oui")}return bt(n,t),n.prototype.fa=function(){return new S8},n}(am),S8=function(t){function n(){return t.call(this,"directionchange")}return bt(n,t),n}(ra);yt(),C(),pt(),yt(),C();var L8=w.PI/180,j8=180/w.PI,C8=function(){function t(t,n){this.x=t||0,this.y=n||0}var n=t.prototype;return n.EP=function(t,n){return this.x=t,this.y=n,this},n.Ift=function(t){return this.x=t.x,this.y=t.y,this},n.hui=function(t){return this.EP(t[0],t[1])},n.aui=function(){var t=new Float32Array(2);return t[0]=this.x,t[1]=this.y,t},n.uui=function(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this},t}(),x8=function(){function t(t,n,i){this.x=t||0,this.y=n||0,this.z=i||0}var n=t.prototype;return n.EP=function(t,n,i){return this.x=t,this.y=n,this.z=i,this},n.Ift=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},n.hui=function(t){return this.EP(t[0],t[1],t[2])},n.aui=function(){var t=new Float32Array(3);return t[0]=this.x,t[1]=this.y,t[2]=this.z,t},n.U=function(){return w.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},n.cui=function(){var t=this.U();if(0!==t){var n=1/t;this.lui(n)}else this.x=0,this.y=0,this.z=0;return this},n.lui=function(t){this.x*=t,this.y*=t,this.z*=t},n.dui=function(t){var n=this.x,i=this.y,r=this.z,e=t.x,u=t.y,s=t.z,o=t.w,a=o*n+u*r-s*i,c=o*i+s*n-e*r,h=o*r+e*i-u*n,f=-e*n-u*i-s*r;return this.x=a*o+f*-e+c*-s-h*-u,this.y=c*o+f*-u+h*-e-a*-s,this.z=h*o+f*-s+a*-u-c*-e,this},n.fui=function(t){return this.x*t.x+this.y*t.y+this.z*t.z},n._ui=function(t,n){var i=t.x,r=t.y,e=t.z,u=n.x,s=n.y,o=n.z;return this.x=r*o-e*s,this.y=e*u-i*o,this.z=i*s-r*u,this},t}(),O8=function(){function t(t,n,i,r){this.x=t||0,this.y=n||0,this.z=i||0,this.w=void 0!==r?r:1}var n=t.prototype;return n.EP=function(t,n,i,r){return this.x=t,this.y=n,this.z=i,this.w=r,this},n.Ift=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w,this},n.hui=function(t){return this.EP(t[0],t[1],t[2],t[3])},n.aui=function(){var t=new Float32Array(4);return t[0]=this.x,t[1]=this.y,t[2]=this.z,t[3]=this.w,t},n.fui=function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},n.zN=function(t){return this.gui(this,t)},n.gui=function(t,n){var i=t.x,r=t.y,e=t.z,u=t.w,s=n.x,o=n.y,a=n.z,c=n.w;return this.x=i*c+u*s+r*a-e*o,this.y=r*c+u*o+e*s-i*a,this.z=e*c+u*a+i*o-r*s,this.w=u*c-i*s-r*o-e*a,this},n.wui=function(){return this.x*=-1,this.y*=-1,this.z*=-1,this.cui(),this},n.vui=function(){var t,n,i,r=this.x,e=this.y,u=this.z,s=this.w,o=r*e+u*s;if(o>.499)t=2*w.atan2(r,s),n=w.PI/2,i=0;else if(o<-.499)t=-2*w.atan2(r,s),n=-w.PI/2,i=0;else{var a=r*r,c=e*e,h=u*u;t=w.atan2(2*e*s-2*r*u,1-2*c-2*h),n=w.asin(2*o),i=w.atan2(2*r*s-2*e*u,1-2*a-2*h)}return new z8(t,i,n)},n.cui=function(){var t=w.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return 0===t?(this.x=0,this.y=0,this.z=0,this.w=1):(t=1/t,this.x=this.x*t,this.y=this.y*t,this.z=this.z*t,this.w=this.w*t),this},t}(),z8=function(){function t(t,n,i){this.mui=t||0,this.pui=n||0,this.Aui=i||0}var n=t.prototype;return n.EP=function(t,n,i){return this.mui=t,this.pui=n,this.Aui=i,this},n.Ift=function(t){return this.EP(t.mui,t.pui,t.Aui)},n.nS=function(t){return this.mui+=t.mui,this.pui+=t.pui,this.Aui+=t.Aui,this},n.yui=function(){var t=this.mui,n=this.Aui,i=this.pui,r=w.cos(t/2),e=w.cos(n/2),u=w.cos(i/2),s=w.sin(t/2),o=w.sin(n/2),a=w.sin(i/2),c=r*e,h=s*o;return new O8(c*a+h*u,s*e*u+r*o*a,r*o*u-s*e*a,c*u-h*a)},t}(),R8=.15,B8=function(){function t(t){var n=this;this.Rt=!1,this.jui=0,this.Oui=0,this.Rui=0,this.Lui=null,this.Gui=new C8,this.Vui=new C8,this.Qui=new C8,this.kui=!1,this.Mui=function(t){38===t.keyCode?n.Bui(n.jui+R8):39===t.keyCode?n.Pui(n.Oui-R8):40===t.keyCode?n.Bui(n.jui-R8):37===t.keyCode&&n.Pui(n.Oui+R8)},this.bui=function(t){n.Gui.EP(t.clientX,t.clientY),n.kui=!0,t.preventDefault()},this.Tui=function(t){t.touches&&1===t.touches.length&&(n.Gui.EP(t.touches[0].pageX,t.touches[0].pageY),n.kui=!0,t.preventDefault())},this.er=function(t){if(n.kui||n.Yui()){if(n.Yui()){var i=t.movementX||t.mozMovementX||0,r=t.movementY||t.mozMovementY||0;n.Vui.EP(n.Gui.x-i,n.Gui.y-r)}else n.Vui.EP(t.clientX,t.clientY);n.Qui.uui(n.Vui,n.Gui),n.Gui.Ift(n.Vui),n.Uui()}},this.Iui=function(t){n.kui&&(n.Vui.EP(t.touches[0].pageX,t.touches[0].pageY),n.Qui.uui(n.Vui,n.Gui),n.Gui.Ift(n.Vui),n.Uui())},this.Sui=function(t){n.Fui()},this.Dui=function(t){n.Fui()},this.Eui=function(t){n.Fui()},this.we=t}var n=t.prototype;return n.MD=function(){this.Rt||(this.Rt=!0,this.we.addEventListener("keydown",this.Mui),this.we.addEventListener("mousedown",this.bui),this.we.addEventListener("touchstart",this.Tui),e.addEventListener("mousemove",this.er),e.addEventListener("mouseup",this.Sui),this.Nui(e),e.addEventListener("touchmove",this.Iui),e.addEventListener("touchend",this.Dui))},n.Nui=function(t){if(Mu(t));else if(Tu(t))try{t.parent.addEventListener("mouseup",this.Sui),this.Nui(t.parent)}catch(n){t.document.documentElement.addEventListener("mouseleave",this.Eui)}},n.bD=function(){this.Rt&&(this.Rt=!1,this.kui=!1,this.Lui&&(aS(this.Lui),this.Lui=null),this.we.removeEventListener("keydown",this.Mui),this.we.removeEventListener("mousedown",this.bui),this.we.removeEventListener("touchstart",this.Tui),e.removeEventListener("mousemove",this.er),e.removeEventListener("mouseup",this.Sui),this.xui(e),e.removeEventListener("touchmove",this.Iui),e.removeEventListener("touchend",this.Dui))},n.xui=function(t){if(t.document.documentElement.removeEventListener("mouseleave",this.Eui),Tu(t))try{t.parent.removeEventListener("mouseup",this.Sui),this.xui(t.parent)}catch(t){}},n.Pui=function(t){this.zui("Oui",t)},n.Bui=function(t){t=Pi(t,-w.PI/2,w.PI/2),this.zui("jui",t)},n.zui=function(t,n){var i=this;this.Lui&&aS(this.Lui);var r=this[t],e=KE(),u=function(){var s=KE()-e;if(s>=80)return i[t]=n,aS(i.Lui),void(i.Lui=null);i.Lui=oS(u);var o=s/80;i[t]=r+(n-r)*o};this.Lui=oS(u)},n.Uui=function(){this.jui+=2*w.PI*this.Qui.y/this.we.clientHeight*.3,this.Oui+=2*w.PI*this.Qui.x/this.we.clientWidth*.5,this.jui=Pi(this.jui,-w.PI/2,w.PI/2)},n.Fui=function(){this.kui=!1},n.Yui=function(){return(u.pointerLockElement||u.mozPointerLockElement||u.webkitPointerLockElement)===this.we},n.resetPose=function(){this.jui=0,this.Oui=0},n.gn=function(){this.bD()},At(t,[{key:"Cui",get:function(){return new z8(this.Oui,this.jui,this.Rui)},set:function(t){this.Oui=t.mui,this.jui=t.pui,this.Rui=t.Aui}}]),t}();yt(),C();var P8=j(vn()),U8=j(ln()),Q8=(j(dn()),j(gn())),Y8=(j(wn()),j(yn())),F8=j(mn()),G8=j(An()),V8=j(pn()),W8=j(_n());yt(),C();var X8,Z8=["oui","xht","rui","error"];function H8(t){var n,i={get stereo(){return t.Wui},set stereo(n){t.Wui=n},get useDeviceMotionControls(){return t.Hui},set useDeviceMotionControls(n){t.Hui=n},get direction(){return t.Xui},set direction(n){t.Xui=n},get verticalFOV(){return t.Zui},set verticalFOV(n){t.Zui=n},get canPresentVR(){return t.qui},get state(){return t.Wdt},addEventListener:function(t,i){n.yn(t,i)},removeEventListener:function(t,i){n.fn(t,i)}};return n=new eL(t,Z8,i),i}yt(),C(),function(t){t.Rs="unavailable",t.Kui="available",t.Oa="presenting"}(X8||(X8={}));var K8=new z8(0*L8,0,0);function q8(t){return Yi(t+180,360)-180}function J8(t,n){var i=t.fui(n);return 1-i*i<1e-4}var $8=function(t){function n(n){var i;(i=t.call(this)||this).dE=new zo,i.xci=new O8,i.jci=.4,i.bci=!1,i.Eci=!1,i.mci=!1,i.wd=void 0,i.uci=GI.NONE,i.gi=void 0,i.Rci=[],i.gci=void 0,i.yci=!1,i.hci=!1,i.nci=void 0,i.pci=void 0,i.Qai=null,i.cci=0,i.Jui=void 0,i.wci=void 0,i.Pci=(0,P8.default)(),i.zci=(0,P8.default)(),i.Sci=0,i.Nci=0,i.Bci=!0,i.Uci=0,i.Qci=function(){i.t.fn(gk.Sm,i.Qci);var t=i.fci();t&&!t.nativeVR&&i.rci()},i.do=function(){i.dci();var t=i.fci();i.wd=t,t&&t.panoramaMode!==VI.NONE?(t.panoramaMode===VI.PM180&&oi("PanoramaMode is set to '180' while the VR API only supports '360', consider using the WebXR API if you need to play 180 degree content."),i.vci(!0),t.nativeVR?i.Co(new d3):(i.uci=t.stereoMode,i.t.yn(gk.Sm,i.Qci))):i.vci(!1)};var r=Wt(i);i.tci=Ot((function(){return Rt(this,(function(t){switch(t.label){case 0:if(r.Wdt===X8.Rs||!r.qui)return[2];r.Bci=!1,r.Fci(),t.label=1;case 1:return t.trys.push([1,3,4,5]),[4,r.gci.requestPresent([{source:r.nci}])];case 2:return t.sent(),[3,5];case 3:return t.sent(),r.Axt("Failed to present VR content.",Xv.VR_PRESENTATION_ERROR),[3,5];case 4:return r.eci(),[7];case 5:return[2]}}))}));var e=Wt(i);i.ici=Ot((function(){return Rt(this,(function(t){switch(t.label){case 0:if(!e.gci)return[2];t.label=1;case 1:return t.trys.push([1,3,4,5]),[4,e.gci.exitPresent()];case 2:return t.sent(),[3,5];case 3:return t.sent(),[3,5];case 4:return e.eci(),[7];case 5:return[2]}}))}));var u=Wt(i);return i.$ui=Ot((function(){return Rt(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,Yo(o.getVRDisplays(),u.dE.f_)];case 1:return u.Rci=t.sent(),u.gci&&mo(u.Rci,u.gci)||u._ci(u.Rci[0]),[3,3];case 2:return t.sent(),u.Rci=[],u._ci(void 0),[3,3];case 3:return[2]}}))})),i.eci=function(){i.Aci(!!i.gci&&i.gci.isPresenting),i.eV(),i.Bci=!i.yci,i.Bci?oS(i.Ici):i.Fci()},i.eV=function(){if(i.nci){var t=i.t.we.offsetWidth,n=i.t.we.offsetHeight,r=i.gci;if(r&&i.Wui){var e=r.getEyeParameters("left"),u=r.getEyeParameters("right");e&&u&&(i.Sci=2*w.max(e.renderWidth,u.renderWidth),i.Nci=w.max(e.renderHeight,u.renderHeight))}else{var s=an.Ys.h5;i.Sci=t*s,i.Nci=n*s}}},i.Ici=function(){if(xn.Ga&&i.nci&&i.Bci){i.Fci();var t=i.nci,n=t.offsetWidth+1,r=t.offsetHeight;t.style.width=n+"px",t.style.height=r+"px",i.Uci=oS(i.Fci)}},i.Fci=function(){if(i.Uci){var t=i.nci;t.style.width="100%",t.style.height="100%",aS(i.Uci),i.Uci=0}},i.lci=function(){var t=i.gci,n=i.jci,r=i.nci,e=i.pci,u=i.Qai,s=i.Jui,o=i.Pci,a=i.zci;i.Tci(),u.clear(u.COLOR_BUFFER_BIT|u.DEPTH_BUFFER_BIT),t&&i.useDeviceOrientation()&&(t.getFrameData(s),i.wci=s.pose);var c=i.Cui.yui();i.Dci(a,c),t&&t.isPresenting?(i.cci=t.requestAnimationFrame(i.lci),u.viewport(0,0,.5*r.width,r.height),e.pr(s.leftProjectionMatrix,a,"left"),u.viewport(.5*r.width,0,.5*r.width,r.height),e.pr(s.rightProjectionMatrix,a,"right"),t.submitFrame()):(i.cci=oS(i.lci),(0,G8.default)(o,w.PI*n,r.width/r.height,.1,1024),i.Wui?(u.viewport(0,0,.5*r.width,r.height),e.pr(o,a,"left"),u.viewport(.5*r.width,0,.5*r.width,r.height),e.pr(o,a,"right")):(u.viewport(0,0,r.width,r.height),e.pr(o,a))),J8(c,i.xci)||(i.xci.Ift(c),i.Lci())},i.t=n,i.Cui=K8,i.va=H8(Wt(i)),i.ko(),i}bt(n,t);var i=n.prototype;return i.ko=function(){o.getVRDisplays?(this.Jui=new VRFrameData,this.$ui(),e.addEventListener("vrdisplayconnect",this.$ui,!1),e.addEventListener("vrdisplaydisconnect",this.$ui,!1),e.addEventListener("vrdisplayactivate",this.tci,!1),e.addEventListener("vrdisplaydeactivate",this.ici,!1),e.addEventListener("vrdisplaypresentchange",this.eci,!1)):o.getVRDevices?this.Axt("Your browser supports WebVR but not the latest version.",Xv.VR_PLATFORM_UNSUPPORTED):this.Axt("Your browser does not support WebVR.",Xv.VR_PLATFORM_UNSUPPORTED),this.t.yn(Al.lo,this.do),this.do()},i.sci=function(){var t={alpha:!1,antialias:!1,preserveDrawingBuffer:!0};if(!this.nci){var n=u.createElement("canvas");n.className="theoplayer-vr",_u(n),n.style.zIndex="2",this.t.we.appendChild(n),this.nci=n}this.Qai=this.nci.getContext("webgl",t),this.Qai||(this.Qai=this.nci.getContext("experimental-webgl",t),this.Qai)?(this.Qai.enable(this.Qai.DEPTH_TEST),this.Qai.enable(this.Qai.CULL_FACE)):this.Axt("Your browser does not support WebGL.",Xv.VR_PLATFORM_UNSUPPORTED)},i.rci=function(){var t=this.Xui;this.hci||(this.sci(),this.hci=!0),this.Qai&&(this.aci(new N8(this.Qai,this.t,this.uci)),this.nci.style.display="",this.gi||(this.gi=new B8(this.nci)),this.gi.MD(),this.t.ya.yn(ZD.ra,this.eV),this.t.yn(fS.pn,this.eV),this.Xui=t,this.eV(),this.cci=oS(this.lci))},i.dci=function(){var t=this.Xui;this.aci(void 0),this.gi&&this.gi.bD(),this.nci&&(this.nci.style.display="none"),this.t.ya.fn(ZD.ra,this.eV),this.t.fn(fS.pn,this.eV),this.cci&&aS(this.cci),this.Xui=t},i.fci=function(){var t;return null==(t=this.t.Wa())?void 0:t.vr},i._ci=function(t){var n=this.Wdt,i=this.Wui;this.gci&&(this.wci=void 0,this.ici()),this.gci=t,this.gci&&(this.gci.depthNear=.1,this.gci.depthFar=1024),this.Wui=i,this.Wdt!==n&&this.Co(new d3),this.Wui!==i&&this.Co(new D8)},i.vci=function(t){var n=this.Wdt;this.mci=t,this.Wdt!==n&&this.Co(new d3)},i.aci=function(t){var n=this.Wdt;this.pci=t,this.Wdt!==n&&this.Co(new d3)},i.Aci=function(t){var n=this.Wdt,i=this.Wui;this.yci=t,this.gi&&(t?this.gi.bD():this.gi.MD()),this.Wdt!==n&&this.Co(new d3),this.Wui!==i&&this.Co(new D8)},i.Mci=function(t){var n=this.Wui;this.bci=t,this.Wui!==n&&this.Co(new D8)},i.Tci=function(){var t=this.nci;this.Sci===t.width&&this.Nci===t.height||(t.width=this.Sci,t.height=this.Nci,this.Ici())},i.Dci=function(t,n){(0,U8.default)(t,n.aui()),(0,Y8.default)(t,t)},i.useDeviceOrientation=function(){return!!this.yci||this.Eci},i.kci=function(){var t=DeviceMotionEvent.requestPermission;"function"==typeof t&&t().catch(Kn)},i.Axt=function(t,n){ai(t),this.Co(new gT(new Kv(n,t)))},i.Lci=function(){this.Co(new E8)},i.gn=function(){this.dE.g_(),this.Vo(),this.dci(),this.ici(),this.t.fn(Al.lo,this.do),e.removeEventListener("vrdisplayconnect",this.$ui,!1),e.removeEventListener("vrdisplaydisconnect",this.$ui,!1),e.removeEventListener("vrdisplayactivate",this.tci,!1),e.removeEventListener("vrdisplaydeactivate",this.ici,!1),e.removeEventListener("vrdisplaypresentchange",this.eci,!1),this.t=void 0},At(n,[{key:"Wui",get:function(){return this.qui?this.yci:this.bci},set:function(t){this.qui?t?this.tci():this.ici():this.Mci(t)}},{key:"Hui",get:function(){return this.Eci},set:function(t){this.Wui||(this.Eci=t,t&&xn.Ga&&this.kci())}},{key:"Xui",get:function(){var t=this.Cui;return{yaw:q8(t.mui*j8),pitch:t.pui*j8,roll:w.round(t.Aui*j8)}},set:function(t){var n=q8(t&&+t.yaw||0),i=q8(t&&+t.pitch||0),r=q8(t&&+t.roll||0);this.Cui=new z8(n*L8,i*L8,r*L8)}},{key:"Cui",get:function(){if(this.Wdt===X8.Rs)return this.xci.vui();var t=this.Cci,n=this.Oci,i=new z8;return t&&i.nS(t),n&&i.nS(n),i},set:function(t){var n=this.Cui.yui();if(this.Wdt===X8.Rs)this.xci=t.yui();else{var i=this.gci;i&&i.resetPose&&i.resetPose(),this.gi&&(this.gi.Cui=t),this.xci=this.Cui.yui()}J8(n,this.xci)||this.Lci()}},{key:"Cci",get:function(){var t=this.wci&&this.wci.orientation;if(t)return(new O8).hui(t).vui()}},{key:"Oci",get:function(){return this.gi&&this.gi.Cui}},{key:"Zui",get:function(){return 180*this.jci},set:function(t){t&&t>=0&&t<=180&&(this.jci=+t/180)}},{key:"qui",get:function(){return!(!this.gci||!this.gci.capabilities.canPresent)}},{key:"Wdt",get:function(){var t;return this.mci&&((null==(t=this.fci())?void 0:t.nativeVR)||this.pci)?this.yci?X8.Oa:X8.Kui:X8.Rs}}]),n}($o);yt(),C(),Xt(),Mt(),PT((function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Yci=null,i.vr.useWebXR||(r.Yci=new $8(Wt(r))),r}bt(n,t);var i=n.prototype;return i.fa=function(){if(null!==this.Yci){var n=this.Yci.va;return km(t.prototype.fa.call(this),{vr:n})}return t.prototype.fa.call(this)},i.gn=function(){var n;null==(n=this.Yci)||n.gn(),t.prototype.gn.call(this)},n}(t)}),OT.Za),yt(),C(),yt(),C(),Xt(),Mt(),yt(),C(),Xt(),zt(),pt(),Mt(),Ut(),yt(),C();var t7=function(){function t(t,n){var i=this;this.Le=!1,this.Xci=new C8,this.Zci=new C8,this.Hci=new C8,this.Gci=!1,this.bui=function(t){i.Xci.EP(t.clientX,t.clientY),i.Gci=!0,t.preventDefault(),t.stopPropagation()},this.Tui=function(t){t.touches&&1===t.touches.length&&(i.Xci.EP(t.touches[0].pageX,t.touches[0].pageY),i.Gci=!0,t.preventDefault())},this.er=function(t){if(i.Gci||i.Yui()){if(i.Yui()){var n=t.movementX||t.mozMovementX||0,r=t.movementY||t.mozMovementY||0;i.Zci.EP(i.Xci.x-n,i.Xci.y-r)}else i.Zci.EP(t.clientX,t.clientY);i.Hci.uui(i.Zci,i.Xci),i.Xci.Ift(i.Zci),i.Uui()}},this.Iui=function(t){i.Gci&&(i.Zci.EP(t.touches[0].pageX,t.touches[0].pageY),i.Hci.uui(i.Zci,i.Xci),i.Xci.Ift(i.Zci),i.Uui())},this.Sui=function(){i.Fui()},this.Dui=function(){i.Fui()},this.Eui=function(){i.Fui()},this.Wci=t,this.Us=n}var n=t.prototype;return n.MD=function(){this.Le||(this.Le=!0,this.Us.addEventListener("mousedown",this.bui),this.Us.addEventListener("touchstart",this.Tui),e.addEventListener("mousemove",this.er),e.addEventListener("touchmove",this.Iui),e.addEventListener("mouseup",this.Sui),e.addEventListener("touchend",this.Dui),this.Nui(e))},n.bD=function(){this.Le&&(this.Le=!1,this.Us.removeEventListener("mousedown",this.bui),this.Us.removeEventListener("touchstart",this.Tui),e.removeEventListener("mousemove",this.er),e.removeEventListener("touchmove",this.Iui),e.removeEventListener("mouseup",this.Sui),e.removeEventListener("touchend",this.Dui),this.xui(e))},n.Nui=function(t){if(Mu(t));else if(Tu(t))try{t.parent.addEventListener("mouseup",this.Sui),this.Nui(t.parent)}catch(n){t.document.documentElement.addEventListener("mouseleave",this.Eui)}},n.xui=function(t){if(t.document.documentElement.removeEventListener("mouseleave",this.Eui),Tu(t))try{t.parent.removeEventListener("mouseup",this.Sui),this.xui(t.parent)}catch(t){}},n.Fui=function(){this.Gci=!1},n.Uui=function(){var t=this.Wci.Vci;t.yaw+=2*w.PI*this.Hci.x*.4/this.Us.clientWidth,t.pitch+=2*w.PI*this.Hci.y*.5/this.Us.clientHeight,t.pitch=Pi(t.pitch,-w.PI/2,w.PI/2),this.Wci.Vci=t},n.Yui=function(){return(u.pointerLockElement||u.mozPointerLockElement||u.webkitPointerLockElement)===this.Us},n.gn=function(){this.bD()},t}();yt(),C(),Ct();var n7=function(){function t(){this.yZ=[0,0,0,1],this.Jci=[]}var n=t.prototype;return n.qci=function(t){var n;(n=t).clearColor.apply(n,jt(this.yZ)),t.clear(t.COLOR_BUFFER_BIT)},n.Kci=function(t,n){t.clearDepth(1),t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),t.clear(t.DEPTH_BUFFER_BIT),this.Jci.forEach((function(i){i.Kci(t,n)}))},n.$ci=function(t){this.Jci.push(t)},n.tli=function(){this.Jci=[]},t}();yt(),C(),Mt(),yt(),C(),Ct(),yt(),C(),Mt();var i7=function(){function t(t,n,i,r,e){this.eli=t,this.BL=this.ili(t,n,i),this.sli=r,this.z2=e,this.nli=!1,this.rli=0,this.Zu=0}return t.prototype.ili=function(t,n,i){var r=t.createBuffer();return null===r?(oi("Failed to create buffer."),null):(t.bindBuffer(n,r),t.bufferData(n,i,t.STATIC_DRAW),r)},t}(),r7=function(t){function n(n,i,r){return t.call(this,n,n.ARRAY_BUFFER,i,r,n.FLOAT)}bt(n,t);var i=n.prototype;return i.MD=function(t){if(null!==this.BL)if(null!==t){var n=this.eli;n.bindBuffer(n.ARRAY_BUFFER,this.BL),n.vertexAttribPointer(t,this.sli,this.z2,this.nli,this.rli,this.Zu),n.enableVertexAttribArray(t)}else oi("Attempted to enable attribute without location.");else oi("Attempted to enable buffer that failed to initialize.")},i.bD=function(t){t&&this.eli.disableVertexAttribArray(t)},n}(i7);var e7,u7,s7,o7=function(t){function n(n,i){var r;return(r=t.call(this,n,n.ELEMENT_ARRAY_BUFFER,i,1,n.UNSIGNED_SHORT)||this).hli=i.length,r}return bt(n,t),n.prototype.oli=function(){var t=this.eli;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.BL),t.drawElements(t.TRIANGLES,this.hli,this.z2,this.Zu)},n}(i7);yt(),C(),function(t){t.VertexPos="aVertexPosition",t.VertexUV="aVertexUV",t.VertexColor="aVertexColor"}(e7||(e7={})),function(t){t.ProjectionMat="uProjectionMatrix",t.ModelViewMat="uModelViewMatrix",t.Texture="uTexture"}(u7||(u7={})),function(t){t.Normal="vNormal",t.Color="vColor",t.UV="vUV"}(s7||(s7={}));var a7=function(){function t(t,n,i){this.eli=t,this.lli=this.ali(this.eli,n,i)}var n=t.prototype;return n.ali=function(t,n,i){var r=this.uli(t,t.VERTEX_SHADER,n),e=this.uli(t,t.FRAGMENT_SHADER,i);if(null===r||null===e)return oi("Failed to create vertex or fragment shader."),null;var u=t.createProgram();return null===u?(oi("Failed to create shader program"),null):(t.attachShader(u,r),t.attachShader(u,e),t.linkProgram(u),t.getProgramParameter(u,t.LINK_STATUS)?u:(oi("Failed to initialize shader program"),null))},n.uli=function(t,n,i){var r=t.createShader(n);if(null===r)return oi("failed to create shader."),null;if(t.shaderSource(r,i),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS)){var e=t.getShaderInfoLog(r);return oi("Failed to compile shader with error: "+e),t.deleteShader(r),null}return r},n.cli=function(){return this.lli},n.dli=function(t){var n=this.lli;if(null===n)return oi("Attempted to retrieve attribute location when shader program was not initialized"),null;var i=this.eli.getAttribLocation(n,t);return-1===i?null:i},n.fli=function(t){var n=this.lli;if(null===n)return oi("Attempted to retrieve uniform location when shader program was not initialized"),null;var i=this.eli.getUniformLocation(n,t);return null===i&&ai("Attempted to retrieve nonexistent uniform: "+t),i},t}(),c7=function(){function t(t,n,i){this.gli=t,this.wli=n,this.vli=i}var n=t.prototype;return n._li=function(){var t,n=this.gli.length,i=(t=w).max.apply(t,jt(this.wli));return i>=n?(ai("Created geometry where largest index ("+i+") is larger than/equal to attribute array size ("+n+")"),!1):(i<n-1&&oi("Created geometry where largest index ("+i+") is smaller than attribute buffer - 1 ("+(n-1)+") resulting in unused vertices"),!this.vli||this.vli.length===n||(ai("Created geometry where position ("+n+") and uv ("+this.vli.length+") buffers have different length."),!1))},n.mli=function(t,n){if(!this._li())throw new v("Failed to validate buffers for WebGLGeometry.");var i=function(t,n){var i=[];return n.forEach((function(t){i.push(t.x,t.y,t.z)})),new r7(t,new Float32Array(i),3)}(t,this.gli),r=function(t,n){return new o7(t,new Uint16Array(n))}(t,this.wli),e=function(t,n){var i=[];return n.forEach((function(t){i.push(t.x,t.y)})),new r7(t,new Float32Array(i),2)}(t,this.vli);return new h7(i,r,e,n)},t}(),h7=function(){function t(t,n,i,r){this.gli=t;var e=r.dli(e7.VertexPos);if(null===e)throw new v("Failed to get position attribute location.");this.yli=e,this.vli=i,this.Mli=r.dli(e7.VertexUV),this.wli=n}var n=t.prototype;return n.Ali=function(){this.gli.MD(this.yli),null!==this.Mli&&this.vli.MD(this.Mli)},n.bli=function(){this.gli.bD(this.yli),null!==this.Mli&&this.vli.bD(this.Mli)},n.Kci=function(){this.wli.oli()},t}(),f7=function(t){function n(n,i,r,e,u,s,o){void 0===n&&(n=1),void 0===i&&(i=32),void 0===r&&(r=16),void 0===e&&(e=0),void 0===u&&(u=2*w.PI),void 0===s&&(s=0),void 0===o&&(o=w.PI);for(var a=0,c=w.min(s+o,w.PI),h=[],f=[],v=[],l=[],d=0;d<=r;d++){var g=[],y=d/r,m=0;0===d&&0===s?m=.5/i:d===r&&c===w.PI&&(m=-.5/i);for(var A=0;A<=i;A++){var p=A/i,_=-n*w.cos(e+p*u)*w.sin(s+y*o),k=n*w.cos(s+y*o),b=n*w.sin(e+p*u)*w.sin(s+y*o);f.push(new x8(_,k,b)),v.push(new C8(p+m,1-y)),g.push(a++)}l.push(g)}for(var M=0;M<r;M++)for(var T=0;T<i;T++){var N=l[M][T+1],D=l[M][T],I=l[M+1][T],E=l[M+1][T+1];(0!==M||s>0)&&h.push(N,D,E),(M!==r-1||c<w.PI)&&h.push(D,I,E)}return t.call(this,f,h,v)}return bt(n,t),n}(c7);yt(),C(),yt(),C();var v7=[0,0,0,255,0,0,0,255,0,0,0,255,0,0,0,255],l7=function(){function t(t,n){if(this.eli=t,this.Nli=t.createTexture(),null===this.Nli)throw new v("Failed to create texture");var i=n.fli(u7.Texture);if(null===i)throw new v("Failed to get texture location.");this.Ili=i,t.bindTexture(t.TEXTURE_2D,this.Nli),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),this.Sli=t.TEXTURE0,this.y$=0,this.Eli=t.RGBA,this.kli=t.RGBA,this.Lli=t.UNSIGNED_BYTE,t.texImage2D(t.TEXTURE_2D,this.y$,this.Eli,2,2,0,this.kli,this.Lli,new p(v7))}var n=t.prototype;return n.Tli=function(){var t=this.eli;t.activeTexture(this.Sli),t.bindTexture(t.TEXTURE_2D,this.Nli)},n.ur=function(){var t=this.eli;t.activeTexture(this.Sli),t.bindTexture(t.TEXTURE_2D,this.Nli),t.uniform1i(this.Ili,0)},n.Dli=function(t){var n=this.eli;n.bindTexture(n.TEXTURE_2D,this.Nli),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!0),n.texImage2D(n.TEXTURE_2D,this.y$,this.Eli,this.kli,this.Lli,t),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!1)},n.xli=function(t){var n=this.eli;n.bindTexture(n.TEXTURE_2D,this.Nli),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!0),t.iit.zG(n,n.TEXTURE_2D,this.y$,this.Eli,this.kli,this.Lli),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!1)},t}(),d7="\n    attribute vec4 "+e7.VertexPos+";\n    attribute vec2 "+e7.VertexUV+";\n\n    uniform mat4 "+u7.ModelViewMat+";\n    uniform mat4 "+u7.ProjectionMat+";\n    \n    varying mediump vec2 "+s7.UV+";\n    \n    void main() {\n      gl_Position = "+u7.ProjectionMat+" * "+u7.ModelViewMat+" * "+e7.VertexPos+";\n      "+s7.UV+" = "+e7.VertexUV+";\n    }\n",g7="\n    varying mediump vec2 "+s7.UV+";\n    \n    uniform sampler2D "+u7.Texture+";\n\n    void main() {\n      gl_FragColor = texture2D("+u7.Texture+", "+s7.UV+");\n    }\n",w7=function(){function t(t){this.eli=t,this.lli=new a7(t,d7,g7),this.Nli=new l7(t,this.lli)}var n=t.prototype;return n.cli=function(){return this.lli},n.MD=function(){this.eli.useProgram(this.lli.cli()),this.Nli.ur()},n.Cli=function(t){this.Nli.Dli(t)},n.Oli=function(t){this.Nli.xli(t)},t}();yt(),C(),pt();var y7=function(){function t(t,n,i,r){this.po=new x8,this.Gli=new x8,this.Rli="none",this.zli=i;var e=i.cli();this.Pli=n.mli(t,e),r&&(this.Rli=r);var u=e.fli(u7.ModelViewMat);if(null===u)throw new v("Failed to get model view matrix location.");this.Qli=u;var s=e.fli(u7.ProjectionMat);if(null===s)throw new v("Failed to get projection matrix location.");this.Yli=s}var n=t.prototype;return n.Kci=function(t,n){if(this.jli(n.Rli)){this.Pli.Ali(),this.zli.MD();var i=this.Bli,r=n.Uli,e=(0,F8.default)(r,r,i);t.uniformMatrix4fv(this.Qli,!1,e);var u=n.Fli;t.uniformMatrix4fv(this.Yli,!1,u),this.Pli.Kci(),this.Pli.bli()}},n.jli=function(t){return"none"===this.Rli||"right"!==t&&"left"===this.Rli||"right"===t&&"right"===this.Rli},At(t,[{key:"Bli",get:function(){var t=(0,P8.default)(),n=this.po;return(0,W8.default)(t,t,n.aui()),(0,V8.default)(t,t,this.Gli.x,new Float32Array([1,0,0])),(0,V8.default)(t,t,this.Gli.y,new Float32Array([0,1,0])),(0,V8.default)(t,t,this.Gli.z,new Float32Array([0,0,1])),t}}]),t}();yt(),C(),pt();var m7=function(){function t(t){this.Wli=72*w.PI/180,this.Hli=1.77,this.Xli=.1,this.Zli=100,this.Rli="none",this.$li=new x8,this.tdi=new O8,this.Kli=this.Vli(),this.edi=this.Jli(),t&&(this.Rli=t)}var n=t.prototype;return n.Vli=function(){var t=(0,P8.default)();return(0,G8.default)(t,this.Wli,this.Hli,this.Xli,this.Zli)},n.qli=function(){this.Kli=this.Vli()},n.Jli=function(){var t=(0,P8.default)(),n=(0,Q8.default)((0,P8.default)(),this.$li.aui()),i=(0,U8.default)((0,P8.default)(),this.tdi.aui());return(0,F8.default)(t,n,i),(0,Y8.default)(t,t),t},n.idi=function(){this.edi=this.Jli()},n.sdi=function(){this.idi(),this.qli()},n.tr=function(){this.$li=new x8,this.Gli=new O8,this.sdi()},n.ndi=function(t){var n=this.tdi.vui();n.nS(t),this.Gli=n.yui()},n.rdi=function(t){this.Gli=t.yui()},At(t,[{key:"Fli",get:function(){return new Float32Array(this.Kli)},set:function(t){this.Kli=t}},{key:"Uli",get:function(){return new Float32Array(this.edi)}},{key:"odi",get:function(){return this.Wli},set:function(t){this.Wli=t,this.qli()}},{key:"hdi",get:function(){return this.Hli},set:function(t){this.Hli=t,this.qli()}},{key:"po",get:function(){return(new x8).Ift(this.$li)},set:function(t){this.$li=t,this.idi()}},{key:"Gli",get:function(){return(new O8).Ift(this.tdi)},set:function(t){this.tdi=t,this.idi()}}]),t}(),A7=1e-4,p7=function(t){function n(n){var i;return(i=t.call(this)||this).dE=new zo,i.ldi=!1,i.tfi=!1,i.efi=new O8,i.nfi=new O8,i.sfi=new O8,i.Wli=74,i.Hdi=!1,i.GO=void 0,i.mdi=GI.NONE,i.Jdi=!1,i.$di=VI.NONE,i.Mdi=new n7,i.kdi=null,i.Wdi=null,i.Ldi=null,i.jdi=null,i.Pdi=!1,i.zdi=null,i.Gdi=null,i.Ydi=null,i.qdi=0,i.Xdi=!1,i.udi=function(){i.cdi()},i.do=function(){i.dci(),i.Ndi(),i.ddi()},i.Tdi=function(){i.Edi()},i.Ddi=function(){i.Odi&&(si("Ending immersive session"),i.Sdi(),i.Odi.removeEventListener("end",i.Ddi),i.Odi.end(),i.Odi=null,i.jdi=null,i.Pdi=!1,i.kdi?i.xdi():i.Edi())},i.mn=function(){i.fdi()},i.Qdi=function(t,n){if(i.eli){var r=i.eli,e=i.Udi;if(null===i.Ydi&&i.Zdi()&&(i.bdi.Oli(i.Qo),i.qdi>0&&(i.qdi-=1)),null!==e&&void 0!==n){i.zdi=e.requestAnimationFrame(i.Qdi);var u=e.renderState.baseLayer,s=n.getViewerPose(i.ifi);if(void 0!==u&&void 0!==s){r.bindFramebuffer(r.FRAMEBUFFER,u.framebuffer);for(var o=new z8,a=0,c=0,h=s.views;c<h.length;c++){var f=h[c],v=new m7(f.eye);if(v.Fli=f.projectionMatrix,i.Vdi()){var l=void 0;if(xn.Qs&&xn.nk&&null===i.Wdi){if(0===(l=f.transform.inverse.orientation).x&&0===l.y&&0===l.z&&1===l.w)return}else l=f.transform.orientation;v.Gli=new O8(l.x,l.y,l.z,l.w)}i.kdi&&v.ndi(i.sfi.vui()),o=o.nS(v.Gli.vui()),a+=1;var d=u.getViewport(f);d&&r.viewport(d.x,d.y,d.width,d.height),i.Mdi.Kci(r,v)}var g=new z8(o.mui/a,o.pui/a,o.Aui);i.efi=g.yui(),function(t,n){var i=t.fui(n);return 1-i*i<A7}(i.efi,i.nfi)||(i.nfi.Ift(i.efi),i.Co(new E8))}else oi("Attempted to run webXR animation loop without glLayer or viewerPose.")}else oi("Attempted to run webXR animation loop without session or xrFrame.")}},i.HQ=function(){i.qdi=5},i.Qo=n,i.va=H8(Wt(i)),i.ko(),i}bt(n,t);var i=n.prototype;return i.ko=function(){var t=this;this.adi(),this.eli?o.xr?(o.xr.addEventListener("devicechange",this.udi),this.cdi().then((function(){t.ldi?(t.ddi(),t.fdi(),t._di()):t.Axt("XR: Inline session not available. Panorama functionality will not work.",Xv.VR_PRESENTATION_ERROR)}))):this.Axt("Your browser does not support WebXR",Xv.VR_PLATFORM_UNSUPPORTED):this.Axt("Your browser does not support webGL",Xv.VR_PLATFORM_UNSUPPORTED)},i._di=function(){this.Qo.ya.yn(ZD.ra,this.mn),this.Qo.yn(fS.pn,this.mn),this.Qo.yn(Al.lo,this.do),this.Qo.yn(Al.$v,this.HQ)},i.adi=function(){this.gdi=u.createElement("canvas"),this.gdi.className="theoplayer-vr",this.gdi.style.zIndex="2",this.gdi.style.background="black",this.gdi.style.display="none",this.Qo.we.appendChild(this.gdi),_u(this.gdi);var t=this.gdi.getContext("webgl2");t||(t=this.gdi.getContext("webgl")),t&&(this.eli=t,this.wdi=new t7(this,this.gdi))},i.cdi=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return o.xr?[4,q.all([o.xr.isSessionSupported("inline").then((function(n){t.ldi=n})).catch((function(n){t.ldi=!1,t.Axt("exception when calling xr.isSessionSupported for inline session: "+n,Xv.VR_PRESENTATION_ERROR)})),o.xr.isSessionSupported("immersive-vr").then((function(n){t.vdi=n})).catch((function(n){t.vdi=!1,t.Axt("exception when calling xr.isSessionSupported for immersive-vr session: "+n,Xv.VR_PRESENTATION_ERROR)}))])]:[3,2];case 1:return n.sent(),[3,3];case 2:t.ldi=!1,t.vdi=!1,n.label=3;case 3:return[2]}}))}))()},i.ddi=function(){var t=this.fci();this.GO=t,this.mci=Boolean(t),this.mci&&(this.mdi=(null==t?void 0:t.stereoMode)||GI.NONE,this.pdi=(null==t?void 0:t.panoramaMode)||VI.NONE,this.Adi&&(this.ydi(this.pdi,this.mdi),this.rci()))},i.ydi=function(t,n){if(this.eli&&t!==VI.NONE){var i,r,e=this.eli;this.Mdi.tli(),t===VI.PM360?(i=2*w.PI,r=-w.PI/2):(i=w.PI,r=-w.PI);for(var u=new f7(16,60,40,0,i),s=[],o=[],a=0;a<u.vli.length;a++){var c=u.vli[a];switch(n){case GI.NONE:s.push(c),o.push(c);break;case GI.VERTICAL:s.push(new C8(c.x,.5*c.y)),o.push(new C8(c.x,.5*c.y+.5));break;case GI.HORIZONTAL:s.push(new C8(.5*c.x,c.y)),o.push(new C8(.5*c.x+.5,c.y))}}u.gli.forEach((function(t){t.x*=-1}));var h=new c7(u.gli,u.wli,s),f=new c7(u.gli,u.wli,o);this.bdi=new w7(e);var v=new y7(e,h,this.bdi,"left");v.Gli.y=r,this.Mdi.$ci(v);var l=new y7(e,f,this.bdi,"right");l.Gli.y=r,this.Mdi.$ci(l)}},i.rci=function(){this.gdi.style.display="block",this.ldi&&this.Qo.yn(Al.jh,this.Tdi)},i.dci=function(){this.Sdi(),this.Qo.fn(Al.jh,this.Tdi),this.gdi.style.display="none"},i.Ndi=function(){this.Idi(),this.Ddi()},i.Edi=function(){var t=this;return Ot((function(){var n,i,r,e,u;return Rt(this,(function(s){switch(s.label){case 0:if(t.kdi||!t.ldi)return[2];n={optionalFeatures:["local"]},s.label=1;case 1:return s.trys.push([1,5,,6]),[4,Yo(o.xr.requestSession("inline",n),t.dE.f_)];case 2:return i=s.sent(),r=xn.Qs?xn.nk?"viewer":"local":"viewer",[4,i.requestReferenceSpace(r)];case 3:return e=s.sent(),i.addEventListener("end",t.Idi),t.Ldi=e,t.kdi=i,t.wdi.MD(),t.xdi(),[4,i.updateRenderState({baseLayer:new XRWebGLLayer(i,t.eli),inlineVerticalFieldOfView:t.Wli*L8})];case 4:return s.sent(),[3,6];case 5:return u=s.sent(),t.Idi(),t.Axt(u,Xv.VR_PRESENTATION_ERROR),[3,6];case 6:return[2]}}))}))()},i.Idi=function(){this.kdi&&(this.Sdi(),this.wdi.bD(),this.kdi.removeEventListener("end",this.Ddi),this.kdi.end(),this.kdi=null,this.fdi())},i.Cdi=function(){var t=this;return Ot((function(){var n,i,r;return Rt(this,(function(e){switch(e.label){case 0:if(t.Odi||!t.vdi)return[2];t.Sdi(),e.label=1;case 1:return e.trys.push([1,5,,6]),[4,Yo(o.xr.requestSession("immersive-vr"),t.dE.f_)];case 2:return[4,(n=e.sent()).requestReferenceSpace("local")];case 3:return i=e.sent(),n.addEventListener("end",t.Ddi),t.jdi=i,t.Odi=n,[4,t.Rdi()];case 4:return e.sent(),t.xdi(),[3,6];case 5:return r=e.sent(),t.Ddi(),t.Axt(r,Xv.VR_PRESENTATION_ERROR),[3,6];case 6:return[2]}}))}))()},i.Rdi=function(){var t=this;return Ot((function(){var n,i;return Rt(this,(function(r){switch(r.label){case 0:return n=t.eli,i=t.Odi,t.gdi&&n&&i&&!t.Pdi?(t.gdi.addEventListener("webglcontextlost",(function(t){t.preventDefault()})),t.gdi.addEventListener("webglcontextrestored",(function(){t.ydi(t.pdi,t.mdi)})),t.Pdi=!0,[4,n.makeXRCompatible()]):[2];case 1:return r.sent(),[4,i.updateRenderState({baseLayer:new XRWebGLLayer(i,n)})];case 2:return r.sent(),[2]}}))}))()},i.fdi=function(){if(!this.Odi&&this.eli){var t=this.eli,n=this.gdi.clientWidth,i=this.gdi.clientHeight,r=an.Ys.h5;this.gdi.width=n*r,this.gdi.height=i*r,t.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight)}},i.xdi=function(){null===this.zdi&&(this.Bdi(),this.Udi?this.zdi=this.Udi.requestAnimationFrame(this.Qdi):(this.Fdi(),oi("XR: Attempted to start animation loop without inline or immersive session.")))},i.Sdi=function(){null!==this.zdi&&(this.Fdi(),this.Udi?this.Udi.cancelAnimationFrame(this.zdi):oi("XR: Attempted to stop animation loop by cancelAnimationFrame even though there is no session running."),this.zdi=null)},i.Bdi=function(){var t=this;if(null===this.Ydi){var n=this.Qo.Vg();if(void 0!==n&&n instanceof HTMLVideoElement){if("function"==typeof n.requestVideoFrameCallback){var i=function(){t.bdi.Oli(t.Qo),t.Ydi=n.requestVideoFrameCallback(i)};this.Gdi=n,this.Ydi=n.requestVideoFrameCallback(i)}}else oi("No video source.")}},i.Fdi=function(){var t,n;null!==this.Ydi&&(null==(n=this.Gdi)||null==(t=n.cancelVideoFrameCallback)||t.call(n,this.Ydi),this.Gdi=null,this.Ydi=null)},i.Vdi=function(){return!!this.Wdi||(xn.Ga?this.Hdi&&this.Xdi:this.Hdi)},i.kci=function(){var t=this,n=DeviceMotionEvent.requestPermission;"function"==typeof n&&n().then((function(n){t.Xdi="granted"===n}))},i.Zdi=function(){return(!this.fg()||Boolean(this.qdi))&&this.Kdi()},i.fg=function(){return this.Qo.fg},i.Kdi=function(){return this.Qo.Sg>=2},i.Axt=function(t,n){ai(t),this.Co(new gT(new Kv(n,t)))},i.fci=function(){var t=this.Qo.Wa();return t&&t.vr},i.gn=function(){this.dE.g_(),this.Ndi(),this.Vo(),this.Qo=void 0,this.eli=void 0},At(n,[{key:"mci",get:function(){return this.Jdi},set:function(t){var n=this.Wdt;this.Jdi=t,this.Wdt!==n&&this.Co(new d3)}},{key:"Adi",get:function(){return this.pdi!==VI.NONE}},{key:"pdi",get:function(){return this.$di},set:function(t){var n=this.Wdt;this.$di=t,this.Wdt!==n&&this.Co(new d3)}},{key:"vdi",get:function(){return this.tfi},set:function(t){var n=this.Wdt;this.tfi=t,this.Wdt!==n&&this.Co(new d3)}},{key:"qui",get:function(){return this.vdi}},{key:"Udi",get:function(){return this.Odi||this.kdi}},{key:"Odi",get:function(){return this.Wdi},set:function(t){var n=this.Wdt;this.Wdi=t,this.Wdt!==n&&this.Co(new d3)}},{key:"ifi",get:function(){return this.jdi||this.Ldi}},{key:"Xui",get:function(){var t=this.efi.vui();return{yaw:t.mui*j8,pitch:t.pui*j8,roll:t.Aui*j8}},set:function(t){var n=_7(t&&t.pitch||0)*L8,i=_7(t&&t.roll||0)*L8,r=_7(t&&t.yaw||0)*L8,e=new z8(r,n,i);this.efi=e.yui()}},{key:"Vci",get:function(){var t=this.sfi.vui();return{yaw:t.mui,pitch:t.pui,roll:t.Aui}},set:function(t){var n=k7(t&&t.pitch||0),i=k7(t&&t.roll||0),r=k7(t&&t.yaw||0),e=new z8(r,n,i);this.sfi=e.yui()}},{key:"Wdt",get:function(){return this.mci?this.Odi?X8.Oa:X8.Kui:X8.Rs}},{key:"Wui",get:function(){return null!==this.Odi},set:function(t){var n=this.Wui;t&&this.vdi?this.Cdi():this.Ddi(),this.Wui!==n&&this.Co(new D8)}},{key:"Hui",get:function(){return this.Hdi},set:function(t){null===this.Wdi&&(this.Hdi=t,t&&xn.Ga&&this.kci())}},{key:"Zui",get:function(){return this.Wli},set:function(t){t&&t>=0&&t<=180&&(this.Wli=t,null!==this.kdi&&this.kdi.updateRenderState({inlineVerticalFieldOfView:this.Wli*L8}))}}]),n}($o);function _7(t){return Yi(t+180,360)-180}function k7(t){return Yi(t+w.PI,2*w.PI)-w.PI}function b7(t,n){return"function"==typeof t.getAll?M7(void 0===n?t.getAll():t.getAll(n)):function(t){var n=new Bc,i=[];return t.onsuccess=function(){var r=t.result;r&&r.value?(i.push(r.value),r.continue()):n.LL(i),J()},t.onerror=function(){n.xL(t.error),J()},n.OL}(void 0===n?t.openCursor():t.openCursor(n))}function M7(t){return new q((function(n,i){t.onsuccess=function(){n(t.result),J()},t.onerror=function(){i(t.error),J()}}))}PT((function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Wci=null,i.vr.useWebXR&&(r.Wci=new p7(Wt(r))),r}bt(n,t);var i=n.prototype;return i.fa=function(){return null!==this.Wci?km(t.prototype.fa.call(this),{vr:this.Wci.va}):t.prototype.fa.call(this)},i.gn=function(){var n;null==(n=this.Wci)||n.gn(),t.prototype.gn.call(this)},n}(t)}),OT.Za),yt(),C(),yt(),C(),yt(),C(),zt(),pt(),Ut(),yt(),C(),zt(),Ut(),yt(),C(),zt(),pt(),Ut(),yt(),C(),zt(),Vt(),Ut(),wt();var T7=function(){function t(t){var n=this;this.Cnt=t,this.ro=!0,this.OL=new q((function(t,i){n.Cnt.oncomplete=function(){n.ro=!1,t(),J()},n.Cnt.onerror=function(){n.ro&&(n.ro=!1,i(n.Cnt.error||new v("Transaction error")),J())},n.Cnt.onabort=function(){n.ro=!1,i(new v("Transaction aborted")),J()}}))}return t.prototype.g_=function(){if(this.ro)try{this.Cnt.abort(),this.ro=!1}catch(t){}},t}();function N7(t,n,i){return D7.apply(this,arguments)}function D7(){return D7=Ot((function(t,n,i){var r,e,u;return Rt(this,(function(s){switch(s.label){case 0:r=new T7(t),s.label=1;case 1:return s.trys.push([1,3,4,5]),[4,q.all([n(i),r.OL])];case 2:return e=Gt.apply(void 0,[s.sent(),1]),[2,e[0]];case 3:if(u=s.sent(),!r.ro)throw new E3("IDBTransaction committed prematurely",u);throw u;case 4:return r.g_(),[7];case 5:return[2]}}))})),D7.apply(this,arguments)}var I7=function(){function t(t,n){this.ast=t,this.afi=n}var n=t.prototype;return n.ynt=function(t){return q.resolve("persistent"===t)},n.Mnt=function(t,n){return void 0===n&&(n="persistent"),"persistent"!==n?q.reject(EB(n)):M7(this.hfi(NB.Qnt).put(t))},n.bnt=function(t,n){void 0===n&&(n="persistent");var i=this;return Ot((function(){var r,e;return Rt(this,(function(u){switch(u.label){case 0:if("persistent"!==n)return[2,q.reject(EB(n))];r=0,u.label=1;case 1:return r<t.length?(e=t[r],[4,i.Mnt(e,n)]):[3,4];case 2:u.sent(),u.label=3;case 3:return r++,[3,1];case 4:return[2]}}))}))()},n.NL=function(t){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return[4,n.IL(t)];case 1:return[2,Boolean.apply(void 0,[i.sent()])]}}))}))()},n.IL=function(t){return M7(this.hfi(NB.Unt).get(t))},n.Tnt=function(t,n){return M7(this.hfi(NB.Unt).index(n).get(t))},n._nt=function(t){var n=this;return Ot((function(){var i,r,e,u;return Rt(this,(function(s){switch(s.label){case 0:i=[],r=0,s.label=1;case 1:return r<t.length?(e=t[r],[4,n.IL(e)]):[3,4];case 2:(u=s.sent())&&i.push(u),s.label=3;case 3:return r++,[3,1];case 4:return[2,i]}}))}))()},n.Snt=function(){return b7(this.hfi(NB.Unt))},n.Nnt=function(t){return b7(this.hfi(NB.Unt),t)},n.Int=function(t,n){return b7(this.hfi(NB.Unt).index(n),t)},n.rS=function(t){return M7(this.hfi(NB.Qnt).delete(t))},n.Dnt=function(t){var n=this;return Ot((function(){var i,r;return Rt(this,(function(e){switch(e.label){case 0:i=0,e.label=1;case 1:return i<t.length?(r=t[i],[4,n.rS(r)]):[3,4];case 2:e.sent(),e.label=3;case 3:return i++,[3,1];case 4:return[2]}}))}))()},n.Ent=function(){return M7(this.hfi(NB.Qnt).clear())},n.hfi=function(t){if(!this.afi)throw new v("Lock was released");if(!function(t,n){return t===NB.Unt&&n===NB.Unt||n===NB.Qnt}(t,this.afi.mode))throw new v("Incompatible transaction mode: "+this.afi.mode+", expected "+t);return this.afi.objectStore(this.l)},n.ufi=function(){this.ast.cfi(this),this.afi=void 0},At(t,[{key:"l",get:function(){return this.ast.l}}]),t}();var E7=function(){function t(t,n){this.UNt=void 0,this.XZ=new el,this.ffi=t,this.l=n}var n=t.prototype;return n.ynt=function(t){return q.resolve("persistent"===t)},n.Mnt=function(t,n){return void 0===n&&(n="persistent"),"persistent"!==n?q.reject(EB(n)):this.Cnt(NB.Qnt,(function(n){return n.Mnt(t)}))},n.bnt=function(t,n){return void 0===n&&(n="persistent"),"persistent"!==n?q.reject(EB(n)):this.Cnt(NB.Qnt,(function(n){return n.bnt(t)}))},n.NL=function(t){return this.Cnt(NB.Unt,(function(n){return n.NL(t)}))},n.IL=function(t){return this.Cnt(NB.Unt,(function(n){return n.IL(t)}))},n.Tnt=function(t,n){return this.Cnt(NB.Unt,(function(i){return i.Tnt(t,n)}))},n._nt=function(t){return this.Cnt(NB.Unt,(function(n){return n._nt(t)}))},n.Snt=function(){return this.Cnt(NB.Unt,(function(t){return t.Snt()}))},n.Nnt=function(t){return this.Cnt(NB.Unt,(function(n){return n.Nnt(t)}))},n.Int=function(t,n){return this.Cnt(NB.Unt,(function(i){return i.Int(t,n)}))},n.rS=function(t){return this.Cnt(NB.Qnt,(function(n){return n.rS(t)}))},n.Dnt=function(t){return this.Cnt(NB.Qnt,(function(n){return n.Dnt(t)}))},n.Ent=function(){return this.Cnt(NB.Qnt,(function(t){return t.Ent()}))},n.$Nt=function(t){return this.lfi(),this.UNt=new I7(this,t),this.UNt},n.lfi=function(){if(void 0!==this.UNt)throw new v("Already locked")},n.cfi=function(t){if(this.UNt!==t)throw new v("Incorrect lock");this.UNt=void 0},n.JO=function(t){return this.XZ.JO(t)},n.Cnt=function(t,n){var i=this;return this.JO((function(){return i.dfi(t,n)}))},n.dfi=function(t,n){var i=this;return Ot((function(){var r,e;return Rt(this,(function(u){switch(u.label){case 0:i.lfi(),r=i.ffi.transaction(i.l,t),e=i.$Nt(r),u.label=1;case 1:return u.trys.push([1,,3,4]),[4,N7(r,n,e)];case 2:return[2,u.sent()];case 3:return e.ufi(),[7];case 4:return[2]}}))}))()},n._fi=function(t){this.lfi();var n=this.ffi.transaction(this.l,t);return this.$Nt(n)},t.gfi=function(t,n){var i,r=new q((function(t){i=t})),e=t.reduce((function(t,n){return t.then((function(){var t,i=new q((function(n){t=n}));return n.JO((function(){return t(),r})).catch(Kn),i}))}),q.resolve());return i(e.then(n)),r},t}();yt(),C(),pt(),yt(),C(),zt(),Ut(),yt(),C(),yt(),C(),zt(),pt(),Mt(),Ut(),yt(),C(),zt(),Ut();var S7={Gy:17,wfi:Ot((function(t){var n,i,r,e;return Rt(this,(function(u){if(n=t.transaction,i=t.database,(r=n.objectStoreNames)&&r.length)for(e=0;e<r.length;e++)i.deleteObjectStore(r[e]);return i.createObjectStore(R7,{keyPath:"id"}),i.createObjectStore(B7,{keyPath:"key"}),i.createObjectStore(P7,{keyPath:"key"}),i.createObjectStore(U7,{keyPath:"segmentURLsegmentByteRange"}).createIndex("manifestURL","manifestURL"),i.createObjectStore(Q7,{keyPath:"segmentURLsegmentByteRange"}).createIndex("manifestURL","manifestURL"),[2]}))}))},L7=function(){function t(t){this.pfi=t}return t.prototype.vfi=function(t){var n=this;return Ot((function(){var i,r,e;return Rt(this,(function(u){switch(u.label){case 0:i=0,r=n.mfi,u.label=1;case 1:return i<r.length?(e=r[i],n.pfi<e.Gy?[4,e.wfi(t)]:[3,3]):[3,4];case 2:u.sent(),u.label=3;case 3:return i++,[3,1];case 4:return[2]}}))}))()},t}(),j7=function(t){function n(){return t.apply(this,arguments)}return bt(n,t),At(n,[{key:"mfi",get:function(){return[S7]}}]),n}(L7),C7=function(){function t(){this.yfi=function(t){return new j7(t)}}var n=t.prototype;return n.Afi=function(t){this.yfi=t},n.G7=function(t){return this.yfi(t)},t}(),x7=new C7,O7="theoplayer-cache-database",z7=18,R7="cachingTask",B7="licences",P7="manifest",U7="segment",Q7="segmentMetadata";function Y7(){return Y7=Ot((function(){var t;return Rt(this,(function(n){switch(n.label){case 0:return function(){if("undefined"==typeof indexedDB)throw new v("Indexed database unavailable")}(),(t=indexedDB.open(O7,z7)).addEventListener("upgradeneeded",F7),[4,M7(t)];case 1:return[2,n.sent()]}}))})),Y7.apply(this,arguments)}function F7(t){return G7.apply(this,arguments)}function G7(){return G7=Ot((function(t){var n,i,r,e,u;return Rt(this,(function(s){switch(s.label){case 0:return n=t.oldVersion<=z7?t.oldVersion:-1,i=t.target,r=i.result,e=i.transaction,u=x7.G7(n),[4,N7(e,(function(t){return u.vfi(t)}),{database:r,transaction:e})];case 1:return s.sent(),[2]}}))})),G7.apply(this,arguments)}var V7=function(){function t(){}return At(t,null,[{key:"lL",get:function(){return this.Jnt||(this.Jnt=function(){return Y7.apply(this,arguments)}()),this.Jnt}}]),t}();V7.Jnt=void 0,yt(),C();var W7=function(){function t(t,n){this.Rnt=t.Rnt.$Nt(n),this.jnt=t.jnt.$Nt(n),this.Pnt=t.Pnt.$Nt(n),this.znt=t.znt.$Nt(n),this.Bnt=t.Bnt.$Nt(n)}var n=t.prototype;return n.Cnt=function(t){return t(this)},n.ufi=function(){this.Rnt.ufi(),this.jnt.ufi(),this.Pnt.ufi(),this.znt.ufi(),this.Bnt.ufi()},t}(),X7=function(){function t(t){this.ffi=t,this.Rnt=new E7(t,Q7),this.jnt=new E7(t,U7),this.Pnt=new E7(t,P7),this.znt=new E7(t,R7),this.Bnt=new E7(t,B7)}var n=t.prototype;return n.Cnt=function(t){var n=this,i=this.allCollections;return E7.gfi(i,(function(){return n.dfi(i,t)}))},n.dfi=function(t,n){var i=this;return Ot((function(){var r,e,u;return Rt(this,(function(s){switch(s.label){case 0:r=t.map((function(t){return t.l})),e=i.ffi.transaction(r,NB.Qnt),u=new W7(i,e),s.label=1;case 1:return s.trys.push([1,,3,4]),[4,N7(e,n,u)];case 2:return[2,s.sent()];case 3:return u.ufi(),[7];case 4:return[2]}}))}))()},t.G7=function(){return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return[4,V7.lL];case 1:return[2,new t(n.sent())]}}))}))()},At(t,[{key:"allCollections",get:function(){return[this.jnt,this.Rnt,this.Pnt,this.znt,this.Bnt]}}]),t}();zB.wa(X7.G7),yt(),C(),pt(),Mt(),yt(),C();var Z7=function(t){function n(n,i){var r;return(r=t.call(this)||this).ofi=n,r.Ztt=i,r.ofi.yn("xht",r.Ds),r}return bt(n,t),n.prototype.rfi=function(t,n,i){var r,e;if(void 0===i&&(i="persistent"),!t)throw new v("Unexpected - The source description is undefined");if(r=fE(t),e=O5(n),JI(r))throw new v("Invalid source description");return this.ofi.fii(r,e).va},At(n,[{key:"va",get:function(){return this.Xa||(this.Xa=function(t){var n,i={get status(){return t.fD},get tasks(){return t.mii},get network(){return t.hF.va},createTask:function(n,i){return t.rfi(n,i)},addEventListener:function(t,i){n.yn(t,i)},removeEventListener:function(t,i){n.fn(t,i)}};return n=new uL(t,i),i}(this)),this.Xa}},{key:"fD",get:function(){return this.ofi.fD}},{key:"mii",get:function(){return this.ofi.mii.va}},{key:"hF",get:function(){return this.Ztt}}]),n}(na);var H7=function(){var t=new YS(an.Hj,!1),n=zB.lL,i=new F5(t),r=new j5(n,i),e=new VS(t),u=new M3(n.znt,r,"persistent");return new Z7(u,e)}().va;yt(),C(),yt(),C(),Mt(),yt(),C(),pt();var K7=function(){function t(t){this.Xa=void 0,this.KH=t}var n=t.prototype;return n.Mfi=function(t){for(var n=this.KH.C_(),i=t.createGain(),r=0;r<n.length;r++){var e=n[r];t.createMediaElementSource(e).connect(i)}return i},n.fa=function(){var t=this;return{createAudioSourceNode:function(n){return t.Mfi(n)}}},At(t,[{key:"va",get:function(){return this.Xa||(this.Xa=this.fa()),this.Xa}}]),t}();PT((function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).bfi=new K7(r.Ytt),r}return bt(n,t),n.prototype.fa=function(){var n=this.bfi.va;return km(t.prototype.fa.call(this),{get audio(){return n}})},n}(t)}),OT.Za),yt(),C(),yt(),C(),Mt();PT((function(t){return function(t){function n(n,i){return t.call(this,n,i)}bt(n,t);var i=n.prototype;return i.ga=function(i){var r=n.Tfi(this.wd.analytics),e=n.Tfi(i?i.analytics:void 0);r||e?this.Sfi($u({},r,e)):this.Nfi&&this.Nfi.disable(),t.prototype.ga.call(this,i)},i.Sfi=function(t){if(this.Nfi)this.Nfi.enable(),this.Nfi.setOptions(t);else{var n=e.youbora;if(!n)throw new v("Youbora JavaScript library not loaded.");if(!n.adapters.TheoPlayer2)throw new v("TheoPlayer2 adapter not available on Youbora JavasScript library");var i=new n.Plugin(t);i.setAdapter(new n.adapters.TheoPlayer2(this.va)),this.Oc&&n.adapters.TheoPlayer2.NativeAdsAdapter&&i.setAdsAdapter(new n.adapters.TheoPlayer2.NativeAdsAdapter(this.va)),this.Nfi=i}},i.gn=function(){this.Nfi&&this.Nfi.disable(),t.prototype.gn.call(this)},n.Tfi=function(t){if(t){var n=t.filter((function(t){return"youbora"===t.integration}));if(0===n.length)return;if(n.length>1)throw new v("Only one youbora analytics configuration expected");var i=n[0];i.integration;return Hk(i,["integration"])}},n}(t)}),OT.vit),yt(),C(),yt(),C(),Xt(),Mt(),yt(),C(),pt(),Mt();var q7=1,J7=0,$7=1e3,ttt=function(t){function n(n,i,r,e,u,s){var o;return void 0===e&&(e=MMPlayerState),void 0===u&&(u=MMAdState),void 0===s&&(s=MMPresentationInfo),(o=t.call(this)||this).Qo=n,o.GO=i,o.Efi=r,o.Xfi=e,o.Zfi=u,o.kfi=s,o.qfi=!0,o.Cfi=!1,o.Pfi=void 0,o.jfi=void 0,o.Kfi=void 0,o.poi=function(t){var n,i=t.Rit,r=(i.p$t(),n=i.Nit().duration,"linear"===i.Nit().type);i.A$t(),i.w$t();r&&(o.Cfi=!0),o.Rfi=o.Zfi.AD_IMPRESSION,o.Rfi=o.Zfi.AD_STARTED},o.Aoi=function(t){o.Cfi=!1,o.Rfi=o.Zfi.AD_COMPLETED},o.Ffi=function(t){t.bqt===O0.ADBLOCK?o.Rfi=o.Zfi.AD_BLOCKED:o.Rfi=o.Zfi.AD_ERROR},o.Yfi=function(){o.Rfi=o.Zfi.AD_SKIPPED},o.Wfi=function(t){var n,i,r,e;t.$D===Gm.VA&&(o.Kfi&&t.CF!==o.Kfi&&o.Efi.reportABRSwitch(o.Kfi,t.CF),o.Kfi=t.CF,o.Efi.reportChunkRequest(new MMChunkInformation(t.AM,t.CF,t.Kb,t.uut.zu,void 0,void 0,null!=(r=null==(n=t.uut.Sat)?void 0:n[0])?r:0,null!=(e=null==(i=t.uut.Sat)?void 0:i[1])?e:-1)))},o.Gfi=function(t){o.Ofi=o.Xfi.STOPPED,o.Co(t)},o.M3=function(t){o.Ofi=o.Xfi.ERROR,o.Efi.reportError(t.error,o.Lfi())},o.Vfi=function(){o.xfi?o.Rfi=o.Zfi.AD_PAUSED:o.Ofi=o.Xfi.PAUSED},o.Tdi=function(){o.xfi&&(o.Rfi=o.Zfi.AD_PLAY)},o.VQ=function(){o.xfi?(o.Pfi===o.Zfi.AD_PAUSED&&(o.Rfi=o.Zfi.AD_RESUMED),o.Rfi=o.Zfi.AD_PLAYING):(o.qfi&&(o.qfi=!1,o.Ifi(),o.Ofi=o.Xfi.STARTED),o.Ofi!==o.Xfi.PAUSED&&o.Ofi!==o.Xfi.BUFFERING||(o.Ofi=o.Xfi.RESUMED))},o.eV=function(){o.Efi.reportPresentationSize(o.Qo.Rg,o.Qo.Cg)},o.HQ=function(t){o.xfi||o.Ofi!==o.Xfi.PAUSED||o.Efi.reportPlayerSeekCompleted(t.currentTime*$7)},o.YQ=function(){o.xfi||(o.Ofi=o.Xfi.BUFFERING)},o.Ufi=function(){o.Efi.reportDownloadRate(w.floor(AT.lL.OP()))},o.Bfi=function(){o.xfi||o.Efi.reportPlaybackPosition(o.Lfi())},o.Ofi=o.Xfi.INITIALIZED,o.TOt(),o.Hfi=o.zfi(),o}bt(n,t);var i=n.prototype;return i.Ifi=function(){var t=this.ct===1/0,n=t?q7:J7,i=t?-1:this.ct,r=ko(this.Qo.rt.Rw,this.Dfi);this.Efi.setPresentationInformation(new this.kfi(n,i,r))},i.Dfi=function(t){for(var n=t.qw.Rw,i=[],r=0;r<n.length;r++){var e=n[r];e.ji&&e.Ti&&i.push({trackIdx:r,bitrate:e.GP,width:e.ji,height:e.Ti,codecIdentifier:e.$nt})}return i},i.Lfi=function(){return this.Qo.Q_()*$7},i.zfi=function(){var t=this;return h((function(){t.Bfi(),t.Ufi()}),n.Qfi)},i.TOt=function(){this.Qo.Oc&&(this.Qo.Oc.yn("Uit",this.poi),this.Qo.Oc.yn("Qit",this.Aoi),this.Qo.Oc.yn("yCt",this.Ffi),this.Qo.Oc.yn("pCt",this.Yfi)),this.Qo.yn(Al.Ov,this.Gfi),this.Qo.yn(p_.ha,this.M3),this.Qo.yn(Al.Sh,this.Vfi),this.Qo.yn(Al.jh,this.Tdi),this.Qo.yn(gk.Sm,this.VQ),this.Qo.yn(Al.Jv,this.eV),this.Qo.yn(Al.$v,this.HQ),this.Qo.yn(gk.Tm,this.YQ),this.Qo.yn(Al.hm,this.Wfi)},i.SOt=function(){this.Qo.Oc&&(this.Qo.Oc.fn("Uit",this.poi),this.Qo.Oc.fn("Qit",this.Aoi),this.Qo.Oc.fn("yCt",this.Ffi),this.Qo.Oc.fn("pCt",this.Yfi)),this.Qo.fn(Al.Ov,this.Gfi),this.Qo.fn(p_.ha,this.M3),this.Qo.fn(Al.Sh,this.Vfi),this.Qo.fn(Al.jh,this.Tdi),this.Qo.fn(gk.Sm,this.VQ),this.Qo.fn(Al.Jv,this.eV),this.Qo.fn(Al.$v,this.HQ),this.Qo.fn(gk.Tm,this.YQ),this.Qo.fn(Al.hm,this.Wfi)},i.gn=function(){f(this.Hfi),this.SOt()},At(n,[{key:"ct",get:function(){return this.Qo.Td()*$7}},{key:"xfi",get:function(){return this.Cfi}},{key:"Ofi",get:function(){return this.jfi},set:function(t){this.jfi=t,t&&this.Efi.reportPlayerState(t)}},{key:"Rfi",set:function(t){this.Pfi=t}}]),n}(tA);ttt.Qfi=2e3,PT((function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).$fi=void 0,r.t_i=void 0,r.i_i=function(){r.t_i=void 0,r.Jfi();var n=t.prototype.Wa.call(Wt(r));n&&(r.t_i=function(t,n){var i=function(t,n){if(t&&t.analytics)for(var i=0,r=t.analytics;i<r.length;i++){var e=r[i];if("smartsight"===e.integration)return e}if(n&&n.analytics)for(var u=0,s=n.analytics;u<s.length;u++){var o=s[u];if("smartsight"===o.integration)return o}return}(t,n);if(!i)return;return i}(n,r.wd)),r.e_i()},r.e_i=function(){if(!r.$fi&&r.t_i&&r.bt&&r.bt.src&&!r.fg){var t=MMSmartStreaming.getInstance();!function(t,n,i){t.registerMMSmartStreaming(i.playerName,i.customerID,i.subscriberID,i.domainName),t.reportComponent("THEOSDK"),t.reportPlayerInfo("THEOplayer","THEOplayer","8.3.0"),t.reportDeviceInfo(void 0,void 0,void 0,void 0,void 0,e.innerWidth,e.innerHeight),t.initializeSession("QBRModeDisabled",n,i.metaURL,i.assetID)}(t,r.bt.src,r.t_i),r.$fi=new ttt(Wt(r),r.t_i,t),r.$fi.yn("ended",r.Jfi)}},r.Jfi=function(){r.$fi&&(r.$fi.gn(),r.$fi=void 0)},r.yn(Al.lo,r.i_i),r.yn(Al.Dv,r.e_i),r.yn(Al.jh,r.e_i),r}return bt(n,t),n.prototype.gn=function(){t.prototype.gn.call(this),this.Jfi()},n}(t)}),OT.vit),yt(),C(),yt(),C(),pt(),Mt();var ntt=String.fromCharCode(95);var itt=function(){function t(n,i,r,e){var u=this;this.h_i=function(n){u.u_i({type:t.c_i(n.type)})},this.uS=n,this.Qsi=i,this.Vd=r,this.j0t=e,this.n_i=[],this.hd=[]}var n=t.prototype;return n.o_i=function(){for(var t in google.ima.AdEvent.Type){var n=google.ima.AdEvent.Type[t];this.Qsi.addEventListener(n,this.h_i),this.n_i.push({type:n,listener:this.h_i})}},n.a_i=function(){for(var t in po(this.n_i),google.ima.AdEvent.Type){var n=google.ima.AdEvent.Type[t];this.Qsi.removeEventListener(n,this.h_i)}},n.u_i=function(t){this.hd.push({type:t.type,adVolume:this.adsManager.getVolume()})},n.r_i=function(){null==this.s_i||this.s_i.call(this,this.hd),this.hd=[]},t.c_i=function(n){return t.l_i[n]||n},At(t,[{key:"va",get:function(){return this.Xa||(this.Xa=function(t){return{get adsManager(){return t.adsManager},get ids(){return t.ids},get adContainer(){return t.adContainer},get imaSDK(){return t.imaSDK},get sendEvent(){return t.sendEvent},set sendEvent(n){t.sendEvent=n}}}(this)),this.Xa}},{key:"id",get:function(){return this.uS}},{key:"adsManager",get:function(){return this.Qsi}},{key:"ids",get:function(){return this.Vd}},{key:"adContainer",get:function(){return this.j0t}},{key:"sendEvent",get:function(){return this.s_i},set:function(t){for(var n=0,i=this.n_i;n<i.length;n++){var r=i[n];this.Qsi.removeEventListener(r.type,r.listener)}this.n_i=[],this.s_i=t,this.r_i()}},{key:"imaSDK",get:function(){return!0}}]),t}();itt.l_i={loaded:"AdLoaded",impression:"AdImpression",start:"AdVideoStart",firstQuartile:"AdVideoFirstQuartile",midpoint:"AdVideoMidpoint",thirdQuartile:"AdVideoThirdQuartile",complete:"AdVideoComplete",pause:"AdPaused",skip:"AdSkipped",volumeChange:"AdVolumeChange"};var rtt=function(){function t(){this.f_i=void 0,this.__i=void 0}var n=t.prototype;return n.d_i=function(t,n){this.f_i=u.createElement("script"),this.f_i.id=t.id,this.f_i.type="text/javascript",t.adContainer.appendChild(this.f_i),this.f_i.src="https://z.moatads.com/"+n+"/moatvideo.js#"+t.id,this.__i=t.id,e[this.__i]=t.va},n.g_i=function(){this.f_i&&cu(this.f_i),this.__i&&(e[this.__i]=void 0)},t}();PT((function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).A_i=void 0,r.T_i=void 0,r.v_i=void 0,r.j0t=void 0,r.p_i=function(){r.b_i(r.v_i,{partnerCode:r.A_i.partnerCode,viewMode:google.ima.ViewMode.NORMAL},r.j0t)},r.u7t=function(t){r.v_i=t.Usi,r.j0t=t.W7t,r.w_i(),r.v_i.addEventListener(google.ima.AdEvent.Type.COMPLETE,r.m_i),r.v_i.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,r.w_i),r.v_i.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,r.p_i)},r.m_i=function(t){var n=t.getAd().getAdPodInfo();n.getAdPosition()<n.getTotalAds()&&(r.w_i(),r.p_i())},r.w_i=function(){r.T_i&&(r.T_i.a_i(),r.T_i=void 0),r.S_i.g_i()},r.S_i=new rtt,r}bt(n,t);var i=n.prototype;return i.ga=function(i){var r,e,u;this.w_i(),null==(r=this.v_i)||r.removeEventListener(google.ima.AdEvent.Type.COMPLETE,this.m_i),null==(e=this.v_i)||e.removeEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.w_i),null==(u=this.v_i)||u.removeEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.p_i),this.v_i=void 0,this.j0t=void 0,t.prototype.ga.call(this,i);var s=i&&i.analytics;this.A_i=n.y_i(s),this.Oc&&this.A_i&&X4()&&this.M_i()},i.gn=function(){var n,i,r;this.w_i(),null==(n=this.v_i)||n.removeEventListener(google.ima.AdEvent.Type.COMPLETE,this.m_i),null==(i=this.v_i)||i.removeEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.w_i),null==(r=this.v_i)||r.removeEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.p_i),this.v_i=void 0,this.j0t=void 0,this.Oc&&this.Oc.fn("a7t",this.u7t),t.prototype.gn.call(this)},i.M_i=function(){this.Oc&&this.Oc.yn("a7t",this.u7t)},i.b_i=function(t,n,i){var r=ntt+"moatApi"+w.floor(1e8*w.random());this.T_i=new itt(r,t,n,i),this.T_i.o_i(),this.S_i.d_i(this.T_i,this.A_i.partnerCode)},n.y_i=function(t){if(t){var n=t.filter((function(t){return"moat"===t.integration}));if(0===n.length)return;if(n.length>1)throw new v("Only one Moat analytics configuration expected");return n[0]}},n}(t)}),OT.vit),yt(),C(),yt(),C(),Mt(),yt(),C(),Mt();var ett,utt=function(t){function n(n,i,r){var e;return(e=t.call(this,n,new Date)||this).N_i=i,e.Rit=r,e}return bt(n,t),n}(ra);!function(t){t.LOADED="DAILoaded",t.AD_BREAK_STARTED="DAIAdBreakStarted",t.AD_BREAK_ENDED="DAIAdBreakEnded",t.AD_PERIOD_STARTED="DAIAdPeriodStarted",t.AD_PERIOD_ENDED="DAIAdPeriodEnded",t.AD_PROGRESS="DAIAdProgress",t.CUEPOINTS_CHANGED="DAICuePointsChanged",t.CLICK="DAIClick",t.ERROR="DAIError",t.STARTED="DAIStarted",t.FIRST_QUARTILE="DAIFirstQuartile",t.MIDPOINT="DAIMidpoint",t.STREAM_INITIALIZED="DAIStreamInitialized",t.THIRD_QUARTILE="DAIThirdQuartile",t.COMPLETE="DAIComplete"}(ett||(ett={}));var stt=function(t){function n(n,i){return t.call(this,"DAILoaded",n,i)}return bt(n,t),n}(utt),ott=function(t){function n(n,i){return t.call(this,"DAIAdBreakStarted",n,i)}return bt(n,t),n}(utt),att=function(t){function n(n,i){return t.call(this,"DAIAdBreakEnded",n,i)}return bt(n,t),n}(utt),ctt=function(t){function n(n,i){return t.call(this,"DAIAdProgress",n,i)}return bt(n,t),n}(utt),htt=function(t){function n(n,i){return t.call(this,"DAICuePointsChanged",n,i)}return bt(n,t),n}(utt),ftt=function(t){function n(n,i){return t.call(this,"DAIClick",n,i)}return bt(n,t),n}(utt),vtt=function(t){function n(n,i){return t.call(this,"DAIError",n,i)}return bt(n,t),n}(utt),ltt=function(t){function n(n,i){return t.call(this,"DAIStarted",n,i)}return bt(n,t),n}(utt),dtt=function(t){function n(n,i){return t.call(this,"DAIFirstQuartile",n,i)}return bt(n,t),n}(utt),gtt=function(t){function n(n,i){return t.call(this,"DAIMidpoint",n,i)}return bt(n,t),n}(utt),wtt=function(t){function n(n,i){return t.call(this,"DAIStreamInitialized",n,i)}return bt(n,t),n}(utt),ytt=function(t){function n(n,i){return t.call(this,"DAIThirdQuartile",n,i)}return bt(n,t),n}(utt),mtt=function(t){function n(n,i){return t.call(this,"DAIComplete",n,i)}return bt(n,t),n}(utt);var Att=function(t){function n(n,i,r){var e;(e=t.call(this)||this).hni=n,e.P0t=i,e.Q_i=r,e.k_i=function(t){e.E_i(!0);var n=ptt(t),i=ktt(t);e.Co(new ott(n,i))},e.U_i=function(t){e.E_i(!1);var n=ptt(t),i=ktt(t);e.Co(new att(n,i))},e.L_i=function(t){var n=ptt(t),i=ktt(t);e.Co(new ctt(n,i))},e.h0t=function(t){var n=ptt(t),i=ktt(t);e.Co(new ftt(n,i))},e.x_i=function(t){var n=ptt(t),i=ktt(t);e.Co(new mtt(n,i))},e.C_i=function(t){var n=ptt(t),i=ktt(t);e.Co(new htt(n,i))},e.Ss=function(t){var n=ptt(t),i=ktt(t);e.Co(new vtt(n,i))},e.O_i=function(t){var n=ptt(t),i=ktt(t);e.Co(new dtt(n,i))},e.j_i=function(t){var n=ptt(t),i=ktt(t);e.Co(new stt(n,i))},e.R_i=function(t){var n=ptt(t),i=ktt(t);e.Co(new gtt(n,i))},e.P_i=function(t){var n=ptt(t),i=ktt(t);e.Co(new ltt(n,i))},e.z_i=function(t){var n=ptt(t),i=ktt(t);e.Co(new wtt(n,i))},e.B_i=function(t){var n=ptt(t),i=ktt(t);e.Co(new ytt(n,i))},e.P0t.style.display="none",e.hni.setClickElement(e.P0t);var u=google.ima.dai.api.StreamEvent.Type;return e.hni.addEventListener(u.AD_BREAK_STARTED,e.k_i),e.hni.addEventListener(u.AD_PROGRESS,e.L_i),e.hni.addEventListener(u.CLICK,e.h0t),e.hni.addEventListener(u.COMPLETE,e.x_i),e.hni.addEventListener(u.CUEPOINTS_CHANGED,e.C_i),e.hni.addEventListener(u.ERROR,e.Ss),e.hni.addEventListener(u.FIRST_QUARTILE,e.O_i),e.hni.addEventListener(u.LOADED,e.j_i),e.hni.addEventListener(u.MIDPOINT,e.R_i),e.hni.addEventListener(u.STARTED,e.P_i),e.hni.addEventListener(u.STREAM_INITIALIZED,e.z_i),e.hni.addEventListener(u.THIRD_QUARTILE,e.B_i),e.hni.addEventListener(u.AD_BREAK_ENDED,e.U_i),e}bt(n,t);var i=n.prototype;return i.replaceAdTagParameters=function(t){return this.hni.replaceAdTagParameters(null!=t?t:null)},i.I_i=function(t){return this.hni.contentTimeForStreamTime(t)},i.D_i=function(t){return this.hni.streamTimeForContentTime(t)},i.tQt=function(t,n){var i=function(t){var n;"vod"===t.availabilityType?((n=new e.google.ima.dai.api.VODStreamRequest).contentSourceId=t.contentSourceID,n.videoId=t.videoID):"live"===t.availabilityType&&((n=new e.google.ima.dai.api.LiveStreamRequest).assetKey=t.assetKey);var i,r=google.ima.dai.api.StreamRequest.StreamFormat;return n.format="dash"===t.format?r.DASH:r.HLS,n.apiKey=t.apiKey,n.adTagParameters=t.adTagParameters,n.omidAccessModeRules=null!=(i=D4(t.omidAccessModeRules))?i:{},n}(t);this.hni.requestStream(i)},i.tr=function(){this.E_i(!1),this.hni.reset()},i.gn=function(){this.Vo();var t=google.ima.dai.api.StreamEvent.Type;this.hni.removeEventListener(t.AD_BREAK_STARTED,this.k_i),this.hni.removeEventListener(t.AD_PROGRESS,this.L_i),this.hni.removeEventListener(t.CLICK,this.h0t),this.hni.removeEventListener(t.COMPLETE,this.x_i),this.hni.removeEventListener(t.CUEPOINTS_CHANGED,this.C_i),this.hni.removeEventListener(t.ERROR,this.Ss),this.hni.removeEventListener(t.FIRST_QUARTILE,this.O_i),this.hni.removeEventListener(t.LOADED,this.j_i),this.hni.removeEventListener(t.MIDPOINT,this.R_i),this.hni.removeEventListener(t.STARTED,this.P_i),this.hni.removeEventListener(t.STREAM_INITIALIZED,this.z_i),this.hni.removeEventListener(t.THIRD_QUARTILE,this.B_i),this.hni.removeEventListener(t.AD_BREAK_ENDED,this.U_i),this.tr(),this.Q_i&&cu(this.Q_i)},i.F_i=function(t){this.hni.onTimedMetadata(t)},i.Y_i=function(t,n,i){this.hni.processMetadata(t,n,i)},i.G_i=function(t){var n=this.hni.previousCuePointForStreamTime(t);if(n)return{bS:n.end,MS:n.start,pg:n.played}},i.V_i=function(t){var n=this.G_i(t),i=n&&!n.pg?n.MS:void 0;return q.resolve(i)},i.E_i=function(t){this.P0t.style.display=t?"block":"none"},n}($o);function ptt(t){var n,i=t.getStreamData(),r=i.adProgressData;return r&&(n={y5t:r.adBreakDuration,W_i:r.duration,M5t:r.adPosition,U_:r.currentTime,ct:r.duration,b5t:r.totalAds}),{H_i:n,X_i:(i.cuepoints||[]).map((function(t){return{MS:t.start,bS:t.end,pg:t.played}})),Z_i:i.errorMessage||void 0,q_i:i.manifestFormat||void 0,K_i:i.streamId||void 0,J_i:(i.subtitles||[]).map((function(t){return{$_i:t.webvtt,tgi:t.ttml,gs:t.language}})),zu:i.url}}function _tt(t){return{XXt:t.getAdSlotId(),t4t:t.getContent(),Nz:t.getContentType(),Ti:t.getHeight(),ji:t.getWidth()}}function ktt(t){var n=t.getAd();if(n){var i=n.getAdPodInfo(),r=n.getCompanionAds().map(_tt);return{yZt:n.getAdId(),p9t:{M5t:i.getAdPosition(),$Jt:i.getMaxDuration(),Lsi:i.getPodIndex(),cPt:i.getTimeOffset(),b5t:i.getTotalAds()},eXt:n.getAdSystem(),Csi:n.getAdvertiserName(),WXt:n.getApiFramework(),lXt:r,IXt:n.getCreativeId(),a8t:n.getCreativeAdId(),Osi:n.getDealId(),xM:n.getDescription(),ct:n.getDuration(),kz:n.getTitle(),igi:n.getUniversalAdIdRegistry(),egi:n.getUniversalAdIdValue(),i8t:n.getVastMediaHeight(),t8t:n.getVastMediaWidth(),q9t:n.getWrapperAdIds(),K9t:n.getWrapperAdSystems(),J9t:n.getWrapperCreativeIds()}}}function btt(){var t=u.body.lastElementChild;if(t instanceof HTMLIFrameElement&&"Advertisement"===t.title)return t}yt(),C(),yt(),C(),Xt(),zt(),pt(),Mt(),Ut(),yt(),C(),zt(),pt(),Ut();var Mtt="theo-dai-clickthrough",Ttt="urn:google:dai:2018",Ntt=function(){function t(t,n,i,r){var e=this;this.Mni=void 0,this.vz=void 0,this.mz=void 0,this.L5=new zo,this.dgi=!1,this.ngi=!0,this.cgi=function(t){var n=t.Lt;n.zt===Q_.ZA&&(n.Av===mA.ID3||n.Av===mA.EVENT_STREAM&&n.fv===Ttt)&&(n._v=A_.vv,e.Mni=n,n.yn(gm.lw,e.fgi))},this.fgi=function(t){t.yS.yn(kA.mS,e._gi)},this._gi=function(t){var n,i;if(e.hni)if((null==(n=e.Mni)?void 0:n.Av)===mA.ID3){var r=t.yS.O;"TXXX"===r.id&&e.hni.F_i({TXXX:r.text})}else if((null==(i=e.Mni)?void 0:i.Av)===mA.EVENT_STREAM){var u=t.yS.O;e.hni.Y_i(Ttt,u,t.GN)}},this.Qo=t,this.hni=n,this.ogi=i,this.sgi=r,i&&n&&this.Qo.Oc&&this.Qo.Oc.Git(i._8t)}var n=t.prototype;return n.F_=function(t){this.L5.g_(),this.L5=new zo,Xo(this.Xsi(t,this.L5.f_))},n.Xsi=function(t,n){var i=this;return Ot((function(){var r;return Rt(this,(function(e){switch(e.label){case 0:return Po(n),i.ogi&&i.hni?i.ogi.Iit?[2]:t>i.Qo.Q_()&&i.ngi?[4,Yo(i.hni.V_i(t),n)]:[3,3]:[2,i.Qo.hgi(t)];case 1:return(r=e.sent())?(i.Qo.hgi(r),[4,i.hni.k_(ett.AD_BREAK_ENDED,n)]):[3,3];case 2:if(e.sent(),i.hni.G_i(t).bS>t)return[2];e.label=3;case 3:return i.Qo.hgi(t),[2]}}))}))()},n.Dg=function(){var t=this.ogi&&this.ogi.Iit;if(t){var n=HD.xn(this.Qo.agi()),i=t.cPt,r=i+t.$Jt,e=new HD([i,r]);return n.Sn(e).ks()}return this.Qo.agi()},n.iet=function(t,n){var i=this;return Ot((function(){var r,e,u;return Rt(this,(function(s){switch(s.label){case 0:if(!t)return[2,i.Qo.ugi(t,n)];r=t,s.label=1;case 1:return s.trys.push([1,3,,4]),i.Qo.nt.yn(hm.hw,i.cgi),[4,i.sgi.lgi(t,n)];case 2:return r=s.sent(),i.ogi&&i.hni&&(i.dgi=!0),[3,4];case 3:if(Uo(e=s.sent()),e.code===Wm.LICENSE_INVALID)return[2];throw u=new Kv(Xv.SOURCE_NOT_SUPPORTED,"Something went wrong while setting up a Google DAI stream.",e),i.vz=Km(u),i.mz=u,i.Qo.Co(new gT(u)),u;case 4:return[4,i.Qo.ugi(r,n)];case 5:return s.sent(),[2]}}))}))()},n.tr=function(){if(this.dgi){if(this.Qo.nt.fn(hm.hw,this.cgi),this.Mni){this.Mni.fn(gm.lw,this.fgi);for(var t=0,n=this.Mni.L.Rw;t<n.length;t++){n[t].fn(kA.mS,this._gi)}this.Mni=void 0}this.vz=void 0,this.mz=void 0,this.L5.g_(),this.ogi&&this.ogi.tr(),this.hni&&this.hni.tr(),this.dgi=!1}},n.gn=function(){this.tr(),this.Qo.vgi(),this.hni&&this.hni.gn()},At(t,[{key:"va",get:function(){var t=this,n=this.sgi;return{contentTimeForStreamTime:function(n){return t.hni?t.hni.I_i(n):n},streamTimeForContentTime:function(n){return t.hni?t.hni.D_i(n):n},replaceAdTagParameters:function(n){t.hni&&t.hni.replaceAdTagParameters(n)},get snapback(){return t.ngi},set snapback(n){t.ngi=n},get sourceTransformer(){return n.rgi},set sourceTransformer(t){n.rgi=t}}}},{key:"lt",get:function(){return this.vz||this.Qo.ggi()}},{key:"H_",get:function(){return this.mz||this.Qo.wgi()}}]),t}();yt(),C(),pt(),Mt(),yt(),C(),pt(),Mt();var Dtt=function(t){function n(n,i,r,e){var u;return void 0===e&&(e=!0),(u=t.call(this,r)||this).pgi=e,u.j2t=n,u.R2t=i,u}return bt(n,t),At(n,[{key:"mgi",get:function(){return this.pgi}},{key:"vKt",get:function(){return U1.so}}]),n}(Y2),Itt=function(t){function n(n,i){var r;return(r=t.call(this,new mI,U1.so)||this).hni=n,r.Qo=i,r.L_i=function(t){var n=r.I$t;if(n&&r.v$t){var i=t.N_i.H_i;r.v$t.W9t=i.U_,function(t,n){var i=n.M5t,r=n.y5t,e=n.U_,u=Wi(t.Oc.slice(0,i-1),(function(t){var n;return null!=(n=t.ct)?n:0}));t.t$t=r-e-u}(n,i)}},r.C_i=function(t){var n=t.N_i.X_i;if(n)for(var i=0;i<n.length;i++){var e=n[i];if(!r.Ngi(e.MS)){var u=e.bS-e.MS,s=new Dtt(u,u,e.MS,!0);r.D$t.push(s)}}},r.ygi=function(t){r.bgi(t.type),r.Sgi(t)},r.U_i=function(t){r.w8t=!1,r.v$t=void 0;var n=r.Iit;n&&(n.t$t=0,r.Tgi(t.type,!1,!1),r.I$t=void 0)},r.Agi(),r}bt(n,t);var i=n.prototype;return i.Agi=function(){var t=[ett.STARTED,ett.FIRST_QUARTILE,ett.MIDPOINT,ett.THIRD_QUARTILE,ett.COMPLETE];this.hni.yn(t,this.ygi),this.hni.yn(ett.AD_BREAK_ENDED,this.U_i),this.hni.yn(ett.AD_PROGRESS,this.L_i),this.hni.yn(ett.CUEPOINTS_CHANGED,this.C_i)},i.Mgi=function(t){var n=t.p9t.cPt,i=this.I$t||this.findAdBreakWithPredicate(n,(function(t){return!t.pg}));if(!i){var r=t.p9t.$Jt;n=this.Qo.Q_(),(i=new Dtt(r,r,n,!1)).z2t(),this.D$t.push(i)}return i},i.bgi=function(t){switch(t){case ett.STARTED:this.w8t=!0;break;case ett.AD_BREAK_ENDED:this.w8t=!1}},i.Tgi=function(t,n,i){if(n)switch(t){case ett.STARTED:case ett.FIRST_QUARTILE:case ett.MIDPOINT:case ett.THIRD_QUARTILE:case ett.COMPLETE:this.A2t.Co(new XR(this.I$t))}if(i)switch(t){case ett.STARTED:case ett.FIRST_QUARTILE:case ett.MIDPOINT:case ett.THIRD_QUARTILE:case ett.COMPLETE:this.A2t.Co(new HR(this.v$t,this.v$t.W9t))}switch(t){case ett.COMPLETE:this.A2t.Co(new qR(this.v$t,this.f8t.W9t));break;case ett.AD_BREAK_ENDED:this.A2t.Co(new VR(this.Iit))}switch(t){case ett.FIRST_QUARTILE:this.A2t.Co(new i4(this.v$t,this.f8t.W9t));break;case ett.MIDPOINT:this.A2t.Co(new e4(this.v$t,this.f8t.W9t));break;case ett.THIRD_QUARTILE:this.A2t.Co(new s4(this.v$t,this.f8t.W9t))}},i.Sgi=function(t){var n=t.Rit,i=this.Mgi(n),r=function(t,n){if(t.Oc.length)return!1;for(var i=0;i<n;i++){var r=new S4(t,U2.xqt);t.U2t(r)}return!0}(i,n.p9t.b5t),e=function(t,n){var i=n.p9t.M5t-1;return t.Oc[i]}(i,n),u=function(t,n){return t.X2t!==Q2.READY&&(t.$9t(n),!0)}(e,n);this.v$t=e,this.I$t=i,i.z2t(),this.Tgi(t.type,r,u)},i.Ngi=function(t){for(var n=0,i=this.D$t;n<i.length;n++){var r=i[n];if(Qi(t,r.cPt))return r}},i.findAdBreakWithPredicate=function(t,n){for(var i=0,r=this.D$t;i<r.length;i++){var e=r[i];if(Qi(e.cPt,t)&&n(e))return e}},i.Dgi=function(t,n){for(var i,r=0,e=this.D$t;r<e.length;r++){var u=e[r];u.cPt>=t&&u.cPt<=n&&!u.pg&&(!i||u.cPt>=i.cPt)&&(i=u)}return i},i.Ny=function(){},i.Yit=function(t){},i.tr=function(){this.v$t&&(this.A2t.Co(new qR(this.v$t,this.v$t.W9t)),this.v$t=void 0),this.I$t&&(this.A2t.Co(new VR(this.I$t)),this.I$t=void 0),this.w8t=!1,po(this.D$t)},i.gn=function(){this.tr(),this.A2t.gn()},At(n,[{key:"E2t",get:function(){return this.w8t}},{key:"A2t",get:function(){return this.P4t}},{key:"Igi",get:function(){var t=this.findAdBreakWithPredicate(0,(function(t){return t.mgi})),n=0;return t&&(n=t.$Jt),n}}]),n}(O4);yt(),C(),zt(),Ut();var Ett=function(){function t(t){this.hni=t,this.rgi=function(t){return t}}var n=t.prototype;return n.lgi=function(t,n){var i=this;return Ot((function(){var r,e,u,s,o,a,c,h,f,l;return Rt(this,(function(d){switch(d.label){case 0:for(r=[],e=[],u=0,s=t.sources;u<s.length;u++)if($N(o=s[u])){if(!i.hni)continue;r.push(o)}else e.push(o);if(0===r.length)return[2,t];d.label=1;case 1:return void 0!==a||0===r.length?[3,7]:[4,YD.lL.AB(r,t)];case 2:h=d.sent().yc,f=h,Po(n),d.label=3;case 3:return d.trys.push([3,5,,6]),[4,i.Egi(f,n)];case 4:return a=d.sent(),e.push(a),[3,6];case 5:return Uo(l=d.sent()),c=l,go(r,f),[3,6];case 6:return[3,1];case 7:if(0!==t.sources.length&&0===e.length)throw new v("Fatal: unable to play DAI streams.");return c&&oi(c.message),[2,$u({},t,{sources:e})]}}))}))()},n.Egi=function(t,n){var i=this;return Ot((function(){var r,e,u,s,o,a;return Rt(this,(function(c){switch(c.label){case 0:if(!i.hni)throw new v("Could not find Google\u2019s IMA DAI HTML5 SDK, all DAI sources will be ignored.");return r=i.hni.k_(ett.LOADED,n),e=i.hni.k_(ett.ERROR,n),u=t.type===_N.yp?"dash":"hls",i.hni.tQt($u({},t.ssai,{format:u})),[4,q.race([r,e])];case 1:return(s=c.sent()).type!==ett.LOADED?[3,5]:(o=t.type===_N.yp?_N.yp:_N.bp,i.rgi?[4,i.rgi(s.N_i.zu||"")]:[3,3]);case 2:return a=c.sent(),[3,4];case 3:a=s.N_i.zu,c.label=4;case 4:return[2,IN($u({},t,{src:a,type:o}))];case 5:throw v(s.N_i.Z_i);case 6:return[2]}}))}))()},t}();PT(function(t){return function(n){return function(n){function i(i,r){var e;(e=n.call(this,i,r)||this).Lgi=!1,e.xgi=function(t){13===t.which&&e.P0t.click(),e.Hg()};var s,o,a=e.Vg();try{e.P0t=u.createElement("button"),e.P0t.className=Mtt,s=t(a,e.P0t),o=new Itt(s,Wt(e)),e.we.appendChild(e.P0t),e.Lgi=!0}catch(t){e.P0t=void 0}var c=new Ett(s);return e.kgi=new Ntt(Wt(e),s,o,c),e.P0t&&(e.P0t.addEventListener("keydown",e.xgi),e.P0t.addEventListener("click",e.xgi)),e}bt(i,n);var r=i.prototype;return r.fa=function(){var t=n.prototype.fa.call(this),i=t.ads;if(i){var r=this.kgi.va;km(i,{get dai(){return r}})}return t},r.hgi=function(t){n.prototype.F_.call(this,t)},r.F_=function(t,n){this.kgi.F_(t)},r.agi=function(){return n.prototype.Dg.call(this)},r.Dg=function(){return this.kgi.Dg()},r.ga=function(t){return this.kgi.tr(),n.prototype.ga.call(this,t)},r.ugi=function(t,i){var r=this;return Ot((function(){return Rt(this,(function(e){return[2,n.prototype.iet.call(r,t,i)]}))}))()},r.iet=function(t,n){var i=this;return Ot((function(){return Rt(this,(function(r){return[2,i.kgi.iet(t,n)]}))}))()},r.ggi=function(){return n.prototype.W_.call(this)},r.wgi=function(){return n.prototype.X_.call(this)},r.W_=function(){return this.kgi.lt},r.X_=function(){return this.kgi.H_},r.vgi=function(){n.prototype.gn.call(this)},r.gn=function(){this.kgi.gn(),this.P0t&&(cu(this.P0t),this.P0t.removeEventListener("keydown",this.xgi),this.P0t.removeEventListener("click",this.xgi),this.P0t=void 0)},At(i,[{key:"Ul",get:function(){return this.Lgi}}]),i}(n)}}((function(t,n){if(!(e.google&&e.google.ima&&Qn(e.google.ima.dai)))throw new v("Could not find Google\u2019s IMA DAI HTML5 SDK, all DAI sources will be ignored.");var i=btt(),r=new google.ima.dai.api.StreamManager(t),u=btt();return new Att(r,n,u&&u!==i?u:void 0)})),OT._it),yt(),C(),yt(),C(),Xt(),Mt(),yt(),C(),pt();var Stt=function(){function t(t,n){var i=this;this.Qo=t,this.zgi=n,this.Zgi=!1,this.Ygi=!1,this.qgi=[],this.Vgi=-1/0,this.Hgi=!1,this.Tdi=function(){i.Zgi||(i.zgi.rwi(),i.Hgi&&i.zgi.Jgi(),i.Zgi=!0)},this.Gfi=function(){i.zgi.owi(),i.Ygi=!0},this.xoi=function(){i.Vgi<i.Qo.Q_()&&(i.Vgi=i.Qo.Q_()),i.swi()},this.Bgi=function(){i.Zgi&&(i.hwi=performance.now(),i.zgi.awi(i.Qo.Q_()))},this.Ugi=function(){i.hwi&&(i.zgi.uwi((performance.now()-i.hwi)/1e3),i.hwi=void 0)},this.M3=function(){i.Vgi<i.Qo.Q_()&&(i.Vgi=i.Qo.Q_()),i.zgi.Vst(i.Qo.W_().message)},this.Qgi=function(){var t=i.Qo.Td()===1/0;t&&!i.Hgi&&(i.Hgi=t,i.Kgi())},this.lOt=function(){i.zgi.Ggi(i.Vgi),i.zgi.cwi()},this.iwi=function(){void 0!==i.Ogi&&i.zgi.lwi(i.Cgi)}}var n=t.prototype;return n.jgi=function(t){this.Rgi=t,this.zgi.Pgi(t),this.Qo.yn(Al.jh,this.Tdi),this.Qo.yn(Al.Ov,this.Gfi),this.Qo.yn(Al.fm,this.xoi),this.Qo.yn(p_.ha,this.M3),this.Qo.yn(gk.Tm,this.Bgi),this.Qo.yn([gk.pm,gk.Am,gk.Sm],this.Ugi),this.Qo.yn(Al.Lv,this.Qgi),iu.OG(this.lOt)},n.Fgi=function(){this.Qo.fn(Al.jh,this.Tdi),this.Qo.fn(Al.Ov,this.Gfi),this.Qo.fn(Al.fm,this.xoi),this.Qo.fn(p_.ha,this.M3),this.Qo.fn(gk.Tm,this.Bgi),this.Qo.fn([gk.pm,gk.Am,gk.Sm],this.Ugi),this.Qo.fn(Al.Lv,this.Qgi),iu.EG(this.lOt),this.Ygi||(this.zgi.Ggi(this.Vgi),this.zgi.Wgi()),this.Hgi&&this.Xgi(),this.Rgi=void 0,this.Zgi=!1,this.Ygi=!1,this.Vgi=-1/0,po(this.qgi)},n.Kgi=function(){this.Zgi&&this.zgi.Jgi(),this.Ogi=performance.now(),this.$gi=h(this.iwi,6e4)},n.Xgi=function(){this.zgi.ewi(this.Cgi),this.Hgi=!1,this.Ogi=void 0,this.$gi&&(f(this.$gi),this.$gi=void 0)},n.swi=function(){if(!A(this.Qo.Td())){var t=10*function(t,n){return w.floor(t/n)}(this.Qo.Q_()/this.Qo.Td()*100,10);mo(this.qgi,t)||(this.qgi.push(t),this.zgi.nwi(t))}},At(t,[{key:"Cgi",get:function(){return void 0===this.Ogi?0:(performance.now()-this.Ogi)/1e3}}]),t}();yt(),C();var Ltt=function(){function t(){}var n=t.prototype;return n.Pgi=function(t){this.dwi(["setDocumentTitle",t.itemTitle]),this.dwi(["setCustomUrl","https://content.streamone.net/embed/cust=Xo9oT45EptMG/account="+t.accountID+"/item="+t.itemID]),this.dwi(["trackPageView"])},n.rwi=function(){this.fwi("item first play","viewing","1")},n.Wgi=function(){this.fwi("item skipped","skipped","1")},n.nwi=function(t){this.fwi("item progress","percent",""+t)},n.cwi=function(){this.fwi("item abandoned","window closed","1")},n.Ggi=function(t){this.fwi("item time","watched",""+t)},n.owi=function(){this.fwi("item finished","ended","1")},n.awi=function(t){this.fwi("buffering started","timestamp",""+t)},n.uwi=function(t){this.fwi("buffering ended","duration",""+t)},n.Vst=function(t){this.fwi("error","message",""+t)},n.Jgi=function(){this.fwi("livestream first play","viewing","1")},n.lwi=function(t){this.fwi("livestream progress","duration",""+t)},n.ewi=function(t){this.fwi("livestream time","watched",""+t)},n.fwi=function(t,n,i){this.dwi(["trackEvent","Video",t,n,i])},n.dwi=function(t){var n="undefined"!=typeof _paq?_paq:void 0;n?n.push(t):console.warn("The Piwik library required for the StreamOne pre-integration was not found. Make sure it is loaded before instantiating THEOplayer.")},t}();yt(),C(),pt();var jtt=function(){function t(t,n,i){var r=this;this.Qo=t,this.Ic=n,this.zgi=i,this.vwi=[],this.poi=function(){r.gwi=r.Qo.Td(),r.zgi.mwi(r.gwi)},this.Aoi=function(){r.gwi&&(r.zgi.pwi(r.gwi),po(r.vwi),r.gwi=void 0)},this.Yfi=function(t){if(r.gwi){var n=r.gwi-r.gwi*t.r4t;r.zgi.Awi(n),r.gwi=void 0}},this.Ffi=function(){r.gwi=r.Qo.Td(),r.zgi.ywi()},this.xoi=function(){var t=r._wi;if(r.wwi&&t&&!mo(r.vwi,t)){switch(t){case 1:r.zgi.Mwi();break;case 2:r.zgi.bwi();break;case 3:r.zgi.Swi();break;case 4:r.zgi.Nwi()}r.vwi.push(t)}},this.lOt=function(){r.zgi.Iwi()}}var n=t.prototype;return n.jgi=function(){this.Ic.yn("Uit",this.poi),this.Ic.yn("Qit",this.Aoi),this.Ic.yn("pCt",this.Yfi),this.Ic.yn("yCt",this.Ffi),this.Qo.yn(Al.fm,this.xoi),iu.OG(this.lOt)},n.Fgi=function(){this.Ic.fn("Uit",this.poi),this.Ic.fn("Qit",this.Aoi),this.Ic.fn("pCt",this.Yfi),this.Ic.fn("yCt",this.Ffi),this.Qo.fn(Al.fm,this.xoi),po(this.vwi),iu.EG(this.lOt),this.gwi=void 0},At(t,[{key:"_wi",get:function(){if(this.gwi){var t=this.Qo.Q_()/this.gwi;return w.floor(4*t)+1}}},{key:"wwi",get:function(){return void 0!==this.gwi}}]),t}();yt(),C();var Ctt=function(){function t(t){this.zgi=t}var n=t.prototype;return n.mwi=function(t){this.zgi.fwi("ad start","duration",""+t)},n.pwi=function(t){this.zgi.fwi("ad finished","duration",""+t)},n.Awi=function(t){this.zgi.fwi("ad skipped","remaining time",""+t)},n.ywi=function(){this.zgi.fwi("ad blocker","detected","1")},n.Mwi=function(){this.zgi.fwi("ad progress","firstQuartile","")},n.bwi=function(){this.zgi.fwi("ad progress","secondQuartile","")},n.Swi=function(){this.zgi.fwi("ad progress","thirdQuartile","")},n.Nwi=function(){this.zgi.fwi("ad progress","fourthQuartile","")},n.Iwi=function(){this.zgi.fwi("ad abandoned","window closed","1")},t}();function xtt(t){return t&&"streamone"===t.integration}PT((function(t){return function(t){function n(n,i){var r;(r=t.call(this,n,i)||this).Dwi=!1,r.do=function(){r.Dwi&&(r.Ewi.Fgi(),r.kwi&&r.kwi.Fgi());var t=r.Wa();if(r.Dwi=!1,t){var n=function(t){if(t.analytics)for(var n=0,i=t.analytics;n<i.length;n++){var r=i[n];if(xtt(r))return r}}(t);n&&(r.Dwi=!0,r.Ewi.jgi(n),r.kwi&&r.kwi.jgi())}};var e=new Ltt;if(r.Ewi=new Stt(Wt(r),e),r.Oc){var u=new Ctt(e);r.kwi=new jtt(Wt(r),r.Oc,u)}return r.yn(Al.lo,r.do),r}return bt(n,t),n.prototype.gn=function(){this.fn(Al.lo,this.do),this.Dwi&&(this.Ewi&&this.Ewi.Fgi(),this.kwi&&this.kwi.Fgi(),this.Dwi=!1),t.prototype.gn.call(this)},n}(t)}),OT.vit),yt(),C(),yt(),C(),zt(),Mt(),Ut(),yt(),C(),zt(),pt(),Mt(),Ut(),yt(),C(),pt(),Mt(),yt(),C(),Mt(),yt(),C(),zt(),Mt(),Ut();var Ott=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).Cwi=i,r.Owi=void 0,r}bt(n,t);var i=n.prototype;return i.X$=function(n,i,r){var e=this;return Ot((function(){var u;return Rt(this,(function(s){switch(s.label){case 0:return[4,ztt(n)];case 1:return u=s.sent(),[4,t.prototype.X$.call(e,u,i,r)];case 2:return s.sent(),e.Lwi(u,i),[2]}}))}))()},i.V$=function(n,i,r){var e=this;return Ot((function(){var u;return Rt(this,(function(s){switch(s.label){case 0:return[4,ztt(n)];case 1:return u=s.sent(),[4,t.prototype.V$.call(e,u,i,r)];case 2:return s.sent(),e.Lwi(u,i),[2]}}))}))()},i.Lwi=function(t,n){var i=this.Cwi.xwi;if(void 0!==i){var r,e=n.y$;if(this.Owi!==e&&(this.Owi=e,i.setLevelSwitching(e),i.setContainerFormat(2)),function(t){return On.call(t,"F7")}(n)){var u=n.F7,s=n.F7+n.ct;r=n.pI,i.newPts(u,s,"video",e)}else 0;i.appendBuffer(t.ly,"video",e,r)}},i.rS=function(n,i,r){var e=this;return Ot((function(){var u;return Rt(this,(function(s){switch(s.label){case 0:return[4,t.prototype.rS.call(e,n,i,r)];case 1:return s.sent(),null==(u=e.Cwi.xwi)||u.flushBuffer(n,i),[2]}}))}))()},n}(XB);function ztt(t){return Rtt.apply(this,arguments)}function Rtt(){return Rtt=Ot((function(t){var n;return Rt(this,(function(i){switch(i.label){case 0:switch(t.Av){case CL.jZ:return[3,1];case CL.DD:return[3,2];case CL.RZ:return[3,4]}return[3,5];case 1:return[2,t];case 2:return[4,jw(t.ly)];case 3:return n=i.sent(),[2,{Av:CL.jZ,ly:new p(n)}];case 4:throw new v("Opaque initialization segments are not supported on web.");case 5:return[2]}}))})),Rtt.apply(this,arguments)}var Btt=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).Cwi=i,r.Trt(n),r}return bt(n,t),n.prototype.Nrt=function(t){return t.O0===Gm.VA?new Ott(t,this.Cwi):new XB(t)},n}(VB),Ptt=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).Bwi=!1,r.Uwi=function(t){r.Bwi||(t||r.rB("LCEVC SDK failed to initialize."),r.Rwi())},r.Qwi=function(){r.Bwi||r.rB("LCEVC SDK failed to initialize.")},r.pu=i,r.Pwi=u.createElement("canvas"),r.Pwi.style.width="100%",r.Pwi.style.height="100%",r.Pwi.style.position="absolute",r.Pwi.style.top="50%",r.Pwi.style.left="50%",r.Pwi.style.transform="translate(-50%, -50%)",r.Pwi.style.display="none",r.pu.appendChild(r.Pwi),LcevcDil.ready.then(r.Uwi,r.Qwi),r}bt(n,t);var i=n.prototype;return i.Rwi=function(){this.jwi=new LcevcDil.LcevcDil(this.Fm.pz,this.Pwi,{})},i.ge=function(){t.prototype.ge.call(this),this.zwi()},i.be=function(){t.prototype.be.call(this),this.Pwi.style.display="none"},i.tr=function(){return this.Pwi.style.display="none",void 0!==this.jwi&&(this.jwi.close(),this.Rwi()),t.prototype.tr.call(this)},i.h_=function(){return this.Bwi=!0,void 0!==this.jwi&&(this.jwi.close(),this.jwi=void 0),this.pu.removeChild(this.Pwi),t.prototype.h_.call(this)},i.rB=function(t){this.Co(new MC(new Zm(Wm.ABORTED,t)))},i.zwi=function(){this.Fm.pz.style.display="none",this.Pwi.style.display="block"},i.Art=function(t){return new Btt(t,this)},i.prt=function(t){return new KB(t)},At(n,[{key:"xwi",get:function(){return this.jwi}},{key:"art",get:function(){return this.Fm}}]),n}(qB),Utt=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).pu=i,r}bt(n,t);var i=n.prototype;return i.oB=function(n){if(n===Gm.VA)return this.Fwi=new Ptt(t.prototype.oB.call(this,n),this.pu),this.Fwi},i.Fz=function(n){var i=this;return Ot((function(){var r;return Rt(this,(function(e){switch(e.label){case 0:return i.Fwi=void 0,[4,(r=n).h_()];case 1:return e.sent(),[4,t.prototype.Fz.call(i,r.art)];case 2:return e.sent(),[2]}}))}))()},At(n,[{key:"Ywi",get:function(){return this.Fwi}}]),n}(QB),Qtt=function(t){function n(n,i,r,e,u,s,o,a){var c,h=new Utt(s,a),f=new tP(h),v=f.oB(o);return(c=t.call(this,n,i,r,e,u,v,a)||this).Vwi=function(t){t.Lt.yn(gm.xw,c.Gwi)},c.Wwi=function(t){t.Lt.fn(gm.xw,c.Gwi)},c.Gwi=function(t){var n,i=null==(n=c.Hwi.Ywi)?void 0:n.xwi,r=t.Lht.Xw;null==i||i.setCurrentLevel(r)},c.Yz=f,c.Hwi=h,c.VT.yn(hm.hw,c.Vwi),c.VT.yn(hm.uw,c.Wwi),c}return bt(n,t),n.prototype.gn=function(){var n=this;return Ot((function(){var i,r;return Rt(this,(function(e){switch(e.label){case 0:for(i=0,r=n.VT.Rw;i<r.length;i++)r[i].fn(gm.xw,n.Gwi);return n.rt.fn(hm.hw,n.Vwi),n.rt.fn(hm.uw,n.Wwi),[4,t.prototype.gn.call(n)];case 1:return e.sent(),[4,n.Fm.h_()];case 2:return e.sent(),[4,n.Yz.Fz(n.Fm)];case 3:return e.sent(),[2]}}))}))()},n}(YV),Ytt=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).uB=wT.jP,n}bt(n,t);var i=n.prototype;return i.Yp=function(t,n,i,r,e,u,s){var o=new _B(zB.lL.Pnt,zB.lL.Rnt,zB.lL.jnt,zB.lL.Bnt),a=n;return cW.LO()&&(a=new cW(a)),new Qtt(i,r,e,u,o,a,Gm.VA,t)},i.hB=function(n){var i=this;return Ot((function(){return Rt(this,(function(r){switch(r.label){case 0:return n.lcevc?[4,t.prototype.hB.call(i,n)]:[2,!1];case 1:if(!r.sent())return[2,!1];if(void 0===e.LcevcDil)throw new Kv(Xv.CONFIGURATION_ERROR,"LCEVC SDK is not loaded.");return[2,!0]}}))}))()},i.aB=function(){return!1},n}(mB);QD(new Ytt),yt(),C(),zt(),Mt(),Ut();var Ftt,Gtt=function(t){function n(n,i,r,e,u,s,o,a,c){var h,f=new Utt(i,n),v=new tP(f),l=v.oB(Gm.VA);return(h=t.call(this,l,r,e,u,s,o,a,c)||this).Vwi=function(t){t.Lt.yn(gm.xw,h.Gwi)},h.Wwi=function(t){t.Lt.fn(gm.xw,h.Gwi)},h.Gwi=function(t){var n,i=null==(n=h.Hwi.Ywi)?void 0:n.xwi,r=t.Lht.Mjt.Xw;null==i||i.setCurrentLevel(r)},h.Yz=v,h.Hwi=f,h.VT.yn(hm.hw,h.Vwi),h.VT.yn(hm.uw,h.Wwi),h}return bt(n,t),n.prototype.gn=function(){var n=this;return Ot((function(){var i,r;return Rt(this,(function(e){switch(e.label){case 0:for(i=0,r=n.VT.Rw;i<r.length;i++)r[i].fn(gm.xw,n.Gwi);return n.rt.fn(hm.hw,n.Vwi),n.rt.fn(hm.uw,n.Wwi),[4,t.prototype.gn.call(n)];case 1:return e.sent(),[4,n.Yz.Fz(n.Fm)];case 2:return e.sent(),[2]}}))}))()},n}(_$),Vtt=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).uB=wT.BP,n}bt(n,t);var i=n.prototype;return i.Yp=function(t,n,i,r,e,u,s){return new Gtt(t,n,i,e,u,JJ(r.libraryLocation),new p$(r.libraryLocation),new _B(zB.lL.Pnt,zB.lL.Rnt,zB.lL.jnt,zB.lL.Bnt),r)},i.hB=function(n,i){var r=this;return Ot((function(){return Rt(this,(function(u){switch(u.label){case 0:return n.lcevc?[4,t.prototype.hB.call(r,n,i)]:[2,!1];case 1:if(!u.sent())return[2,!1];if(void 0===e.LcevcDil)throw new Kv(Xv.CONFIGURATION_ERROR,"LCEVC SDK is not loaded.");return[2,!0]}}))}))()},i.aB=function(){return!1},n}(b$);QD(new Vtt),yt(),C(),yt(),C(),pt(),yt(),C(),zt(),pt(),Mt(),Ut(),yt(),C(),function(t){t.Xwi="tr",t.Zwi="qwi"}(Ftt||(Ftt={}));var Wtt="freewheel-nonlinear-ad",Xtt=[Al.Lv,Al.fm,Al._m,Al.Sh,gk.Sm,Al.jh],Ztt=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i)||this).vz=void 0,s.mz=void 0,s.tvi=function(t){var n=t.Rit,i="Uit"===t.type;if(n.Z2t===U2.Cqt){var r=s.Qo.we.classList;i?r.add(Wtt):r.remove(Wtt)}i?s.ge():s.be()},s.$wi=function(){s.z4t(),s.Qo.Hg(),s.Qo.be()},s.ssi=function(){s.Jwi.lvi&&(s.Qo.G_||s.Qo.Xg(),s.be(),s.Qo.ge(),s.Q1t())},s.Jwi=e,s.Yz=r,s.Fm=u,s.X7=u.pz,s.X7.controls=!1,s.Kwi(),s.evi(),s.nvi(),s}bt(n,t);var i=n.prototype;return i.Wg=function(){this.Yz._U()},i.Kwi=function(){this.Jwi.yn("Bit",this.$wi),this.Jwi.yn(["Uit","Qit"],this.tvi),this.Jwi.yn("zit",this.ssi)},i.ivi=function(){this.Jwi.fn("Bit",this.$wi),this.Jwi.fn(["Uit","Qit"],this.tvi),this.Jwi.fn("zit",this.ssi)},i.evi=function(){this.A2t.Qa(this.Jwi.svi)},i.nvi=function(){this.Jwi.rvi.yn(Xtt,this.Ds)},i.ovi=function(){this.Jwi.rvi.fn(Xtt,this.Ds)},i.Yit=function(t){},i.Q_=function(){return this.Jwi.rvi.U_},i.F_=function(t,n){},i.Td=function(){return this.Jwi.rvi.ct},i.V_=function(){return this.Jwi.rvi.G_},i.W_=function(){return this.vz},i.X_=function(){return this.mz},i.Og=function(){return 0},i.Pg=function(){return 0},i.Bg=function(){return this.Jwi.rvi.zg},i.Ug=function(t){this.Jwi.rvi.zg=t},i.hg=function(){return this.Jwi.rvi.og},i.ag=function(t){this.Jwi.rvi.og=t},i.Ng=function(){return this.Jwi.rvi.Sg},i.Dg=function(){return this.Jwi.rvi.Ig},i._g=function(){return this.Jwi.rvi.fg},i.b2t=function(t){if(this.E2t||this.Jwi.b2t(t),this.Jwi.hvi){if(t.type===Al.Sh&&this.Qo.G_)return!0;if(t.type===Al.Ov)return this.Jwi.uvi.avi(),!0}return!1},i.be=function(){this.Jwi.be()},i.Hg=function(){this.fg||this.Jwi.rvi.Hg()},i.cvi=function(){var t=this;return Ot((function(){var n;return Rt(this,(function(i){switch(i.label){case 0:if(t.Jwi.lvi)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,t.Jwi.l5t()];case 2:return i.sent(),[3,4];case 3:return n=i.sent(),t.dvi(n,O0.GENERAL),[3,4];case 4:return[2]}}))}))()},i.fvi=function(){var t=this;return Ot((function(){var n;return Rt(this,(function(i){switch(i.label){case 0:return t.Jwi.rvi._vi?(t.Jwi.rvi.Xg(),[2,!1]):[3,1];case 1:if(!t.Jwi.gvi)return[3,5];i.label=2;case 2:return i.trys.push([2,4,,5]),[4,t.Jwi.uvi.wvi()];case 3:return i.sent(),[3,5];case 4:return n=i.sent(),t.dvi(n,O0.PLAYBACK),[3,5];case 5:return[2,!0]}}))}))()},i.dvi=function(t,n){t.name!==Ftt.Xwi&&this.A2t.Co(new z2(n,"Ads could not be loaded."))},i.Xg=function(){var t=this;return Ot((function(){var n;return Rt(this,(function(i){switch(i.label){case 0:return t.fg&&t.Co(new yD(t.U_)),[4,t.cvi()];case 1:return i.sent(),t.vvi?[2]:[4,t.fvi()];case 2:return n=i.sent(),!t.vvi&&n&&t.ssi(),[2]}}))}))()},i.E8t=function(t,n,i){n===ER.Cit&&this.Jwi.E8t(t)},i.ge=function(){this.Jwi.ge()},i.Ny=function(){this.Jwi.rvi.Ny()},i.Vg=function(){return this.X7},i.C_=function(){return this.Yz.pU.map((function(t){return t.pz}))},i.L2t=function(t){},i.gn=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return[4,t.Zg()];case 1:return n.sent(),t.Jwi.gn(),[4,t.Yz.Fz(t.Fm)];case 2:return n.sent(),t.ivi(),t.ovi(),t.A2t.DU(t.Jwi.svi),[2]}}))}))()},i.Zg=function(){var t=this;return Ot((function(){return Rt(this,(function(n){return t.Jwi.tr(),t.E2t&&(t.Qo.ge(),t.Q1t(),t.be()),[2]}))}))()},At(n,[{key:"m2t",get:function(){return this}},{key:"w2t",get:function(){return n.w2t}},{key:"Iit",get:function(){var t;return null!=(t=this.Jwi.svi.Iit)?t:null}},{key:"Sit",get:function(){var t=this.Jwi.svi.f8t;return t?[t]:[]}},{key:"Dit",get:function(){return this.Jwi.svi.Dit}},{key:"Eit",get:function(){return this.Jwi.svi.Eit}},{key:"vvi",get:function(){return Rn(this.W_())}}],[{key:"w2t",get:function(){return U1.b$t}}]),n}(v4);yt(),C(),zt(),pt(),Mt(),Ut(),yt(),C(),zt(),pt(),Mt(),Ct(),Ut(),yt(),C(),pt(),Mt();var Htt=function(t){function n(n,i,r,e){var u;return(u=t.call(this,r)||this).pvi=e,u.yvi=0,u.q2t=qtt(e),u.j2t=n,u.R2t=i,u}return bt(n,t),At(n,[{key:"mvi",get:function(){return this.pvi}},{key:"Avi",get:function(){return this.Oc[this.yvi]}},{key:"Mvi",get:function(){return this.yvi},set:function(t){this.yvi=t}},{key:"Z2t",get:function(){return this.q2t}},{key:"vKt",get:function(){return U1.b$t}}]),n}(Y2);yt(),C(),pt(),Mt();var Ktt=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).Tvi=r,e}return bt(n,t),n.prototype.fa=function(){return V2(this)},At(n,[{key:"bvi",get:function(){return this.Tvi},set:function(t){this.Tvi!==t&&(this.Tvi=t)}},{key:"Ti",get:function(){return this.Xl.mvi.getHeight()}},{key:"ji",get:function(){return this.Xl.mvi.getWidth()}},{key:"sZt",get:function(){return this.bvi.getEventCallbackUrls(tv.freewheel.SDK.EVENT_AD_CLICK,tv.freewheel.SDK.EVENT_TYPE_CLICK)[0]}},{key:"vKt",get:function(){return U1.b$t}}]),n}(G2);function qtt(t){return t.getTimePositionClass()===tv.freewheel.SDK.TIME_POSITION_CLASS_OVERLAY?U2.Cqt:U2.xqt}var Jtt=function(t){function n(i,r){var e;return(e=t.call(this)||this).Us=i,e.lj=r,e.Vvi=tv.freewheel.SDK.TIME_POSITION_CLASS_PREROLL,e.Wvi=tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL,e.Xvi=tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL,e.Hvi=tv.freewheel.SDK.TIME_POSITION_CLASS_OVERLAY,e.Lvi=[],e.Cvi=[],e.jvi=[],e.Rvi=[],e.zvi=function(t){var i=t.slot,r=e.Kvi(i);r&&(n.$vi(i,r),e.I$t=r,r.z2t(),e.smi(r),r.Z2t===U2.xqt&&e.Co(new XR(r)))},e.Bvi=function(){var t=e.Iit;t&&t.Z2t===U2.xqt&&(e.Co(new VR(t)),e.lj.src=""),e.I$t=void 0},e.Uvi=function(t){var n=e.qvi(t.adInstance);n&&(e.Co(new HR(n,n.bvi.getPlayheadTime())),e.v$t=n),t.adInstance.getEventCallbackUrls(tv.freewheel.SDK.EVENT_AD_CLICK,tv.freewheel.SDK.EVENT_TYPE_CLICK).length>0&&(e.Us.style.cursor="pointer",e.Us.addEventListener("click",e.nmi))},e.Qvi=function(){e.Us.style.cursor="",e.Us.removeEventListener("click",e.nmi)},e.nmi=function(){e.f8t&&e.f8t.bvi.getRendererController().processEvent({name:tv.freewheel.SDK.EVENT_AD_CLICK})},e.Fvi=function(t){switch(t.subType){case tv.freewheel.SDK.EVENT_AD_COMPLETE:e.imi();break;case tv.freewheel.SDK.EVENT_AD_SKIPPED:e.Q0t(),e.imi()}},e}bt(n,t);var i=n.prototype;return i.Svi=function(t,n){var i=this;return Ot((function(){return Rt(this,(function(r){switch(r.label){case 0:return i.Nvi=t,i.Ivi=n,i.Dvi(t),[4,n];case 1:return r.sent(),i.Evi(),[2]}}))}))()},i.Evi=function(){this.Pvi()},i.Dvi=function(t){t.addEventListener(tv.freewheel.SDK.EVENT_SLOT_STARTED,this.zvi),t.addEventListener(tv.freewheel.SDK.EVENT_SLOT_ENDED,this.Bvi),t.addEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION,this.Uvi),t.addEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION_END,this.Qvi),t.addEventListener(tv.freewheel.SDK.EVENT_AD,this.Fvi)},i.Yvi=function(){this.Nvi&&(this.Nvi.removeEventListener(tv.freewheel.SDK.EVENT_SLOT_STARTED,this.zvi),this.Nvi.removeEventListener(tv.freewheel.SDK.EVENT_SLOT_ENDED,this.Bvi),this.Nvi.removeEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION,this.Uvi),this.Nvi.removeEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION_END,this.Qvi),this.Nvi.removeEventListener(tv.freewheel.SDK.EVENT_AD,this.Fvi))},i.Pvi=function(){this.Lvi=this.Gvi(this.Vvi),this.Cvi=this.Gvi(this.Wvi).concat(this.Gvi(this.Hvi)),this.jvi=this.Gvi(this.Xvi),this.Rvi=this.Lvi.concat(this.Cvi).concat(this.jvi)},i.Gvi=function(t){if(!this.Nvi)return[];var n=this.Nvi.getSlotsByTimePositionClass(t);return this.Zvi(n)},i.qvi=function(t){if(this.I$t){var n=t.getSlot().getAdInstances().indexOf(t);-1!==n&&(this.I$t.Mvi=n);var i=this.I$t.Avi;return i&&(i.bvi=t),i}},i.Kvi=function(t){return co(this.Rvi,(function(n){return n.mvi===t}))},i.Zvi=function(t){return t.map((function(t){var i=t.getTotalDuration(),r=n.Jvi(t);return new Htt(i,i,r,t)}))},i.Q0t=function(){var t=this.f8t;t&&this.Co(new K2(t,this.tmi()))},i.imi=function(){var t=this.f8t;t&&(this.Co(new qR(t,t.bvi.getPlayheadTime())),this.v$t=void 0)},i.emi=function(t){var n=this.Iit;n&&(n.t$t=function(t,n,i){void 0===i&&(i=0);for(var r=0,e=t.Oc.length,u=n;u<e;u++){var s=t.Oc[u],o=s.ct;if(s){var a=o;u===n&&(a=Pi(o-i,0,o)),r+=a}}return r}(n,n.Mvi,t))},i.tmi=function(){var t=this.f8t;if(!t)return 0;var n=t.bvi;return n.getPlayheadTime()/n.getDuration()},i.smi=function(t){go(this.Rvi,t),go(this.Lvi,t),go(this.Cvi,t),go(this.jvi,t)},i.tr=function(){this.Yvi(),this.Lvi.length=0,this.Cvi.length=0,this.jvi.length=0,this.Rvi.length=0,this.v$t=void 0,this.I$t=void 0,this.Nvi=void 0,this.Ivi=void 0},i.gn=function(){this.tr(),this.Vo()},n.$vi=function(t,n){for(var i=t.getAdInstances(),r=[],e=0;e<i.length;e++){var u=i[e],s=qtt(u.getSlot()),o=new Ktt(n,s,u);o.W2t(u.getAdId(),u.getSlot().getWidth(),u.getSlot().getHeight(),u.getDuration(),[],0),n.U2t(o),r.push(o)}return r},n.Jvi=function(t){return t.getTimePositionClass()===tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL?-1:t.getTimePosition()},At(n,[{key:"kvi",get:function(){return this.Lvi}},{key:"xvi",get:function(){return this.Cvi}},{key:"Ovi",get:function(){return this.jvi}},{key:"Iit",get:function(){return this.I$t}},{key:"f8t",get:function(){return this.v$t}},{key:"Dit",get:function(){var t=[];if(this.I$t){var n,i=this.I$t.Mvi;if(i>=0)(n=t).push.apply(n,jt(this.I$t.Oc.slice(i+1)))}for(var r=0,e=this.Rvi;r<e.length;r++){var u,s=e[r];(u=t).push.apply(u,jt(s.Oc))}return t}},{key:"Eit",get:function(){return this.Rvi}}]),n}(na);yt(),C(),pt(),Mt();var $tt=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).Qo=n,u.Wu=i,u.sAt=r,u.j0t=e,u.U1=HD.oU().ks(),u.cU=!0,u.jx=NaN,u._mi=!1,u.o2=!1,u.h2=mk.BT,u.hU=0,u.vmi=0,u.hmi=function(t){switch(t.subType){case tv.freewheel.SDK.EVENT_AD_PAUSE:(function(t){if(!t)return!0;var n=t.bvi,i=n.getPlayheadTime(),r=n.getDuration();return i>=r||Qi(r,i)})(u.sAt.f8t)||(u.fg=!0,u.Co(new wD(u.U_)));break;case tv.freewheel.SDK.EVENT_AD_RESUME:u.fg=!1,u.Co(new Tk(u.U_));break;case tv.freewheel.SDK.EVENT_AD_VOLUME_CHANGE:if(u.ovt){var n=u.ovt.getAdVolume();0===n?u._mi=!0:u.Xx=n,u.Co(new bD(u.U_,u.zg))}}},u.umi=function(){u.G_=!1;var t=u.fg;if(u.fg=!1,t&&(u.Co(new yD(u.U_)),u.Co(new Tk(u.U_))),u.h2=mk.QT,u.U_=0,u.sAt.f8t){var n=u.sAt.f8t.bvi;u.jx=n.getDuration(),u.Co(new mD(u.jx)),u.mmi=h((function(){if(u._vi){u.sAt.emi(u.U_);var t=n.getPlayheadTime();Ui(t,u.vmi,.001)||u.Co(new om(t,void 0)),u.vmi=t}else u.g1()}),250),u.ovt&&u.ovt.setAdVolume(tnt(u.og,u.zg))}},u.pmi=function(){var t=u.sAt.f8t;t&&(t.Z2t===U2.Cqt?u.Qo.Hg():u.fg||u.Hg())},u.g1=function(){f(u.mmi),u.mmi=void 0},u.cmi=function(){u.g1(),u.G_=!0},u.lmi=function(){u.wmi("pause")},u.dmi=function(){u.wmi("playing")},u.Md=function(t){t.Xl.Z2t===U2.xqt&&(u.fg=!1)},u.ami=function(){u.ovt&&u.ovt.resize(u.Wu.ku,u.Wu._u)},u.Xx=n.zg,r.yn("Bit",u.Md),u.Wu.yn(fS.pn,u.ami),u.j0t.addEventListener("click",u.pmi),u}bt(n,t);var i=n.prototype;return i.rmi=function(){this.ovt&&this.ovt.setAdVolume(tnt(this.og,this.zg))},i.omi=function(t){this.ovt=t,this.Dvi(t)},i.Dvi=function(t){t.addEventListener(tv.freewheel.SDK.EVENT_AD,this.hmi),t.addEventListener(tv.freewheel.SDK.EVENT_SLOT_STARTED,this.ami),t.addEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION,this.umi),t.addEventListener(tv.freewheel.SDK.EVENT_AD_COMPLETE,this.cmi),t.addEventListener(tv.freewheel.SDK.EVENT_CONTENT_VIDEO_PAUSE_REQUEST,this.lmi),t.addEventListener(tv.freewheel.SDK.EVENT_CONTENT_VIDEO_RESUME_REQUEST,this.dmi)},i.fmi=function(){var t=this.ovt;t&&(t.removeEventListener(tv.freewheel.SDK.EVENT_AD,this.hmi),t.addEventListener(tv.freewheel.SDK.EVENT_SLOT_STARTED,this.ami),t.removeEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION,this.umi),t.removeEventListener(tv.freewheel.SDK.EVENT_AD_COMPLETE,this.cmi),t.removeEventListener(tv.freewheel.SDK.EVENT_CONTENT_VIDEO_PAUSE_REQUEST,this.lmi),t.removeEventListener(tv.freewheel.SDK.EVENT_CONTENT_VIDEO_RESUME_REQUEST,this.dmi))},i.Xg=function(){this.sAt.Iit&&(this.sAt.Iit.mvi.resume(),this.fg=!1)},i.Hg=function(){this.sAt.Iit&&(this.sAt.Iit.mvi.pause(),this.fg=!0)},i.wmi=function(t){var i=n.gmi(t);this.ovt&&i&&this.ovt.setVideoState(i)},i.Ny=function(){var t=this.sAt.f8t;t&&t.bvi.skip()},i.tr=function(){if(this.fmi(),this.ovt){this.wmi("stop"),this.ovt.setVideoState(tv.freewheel.SDK.VIDEO_STATE_STOPPED);for(var t=this.ovt.getTemporalSlots(),n=0;n<t.length;n++){t[n].stop()}this.ovt.dispose(),this.ovt=void 0}this.jx=NaN,this.G_=!1,this.h2=mk.BT,this.U_=0,this.vmi=0,this.fg=!0,void 0!==this.mmi&&(f(this.mmi),this.mmi=void 0)},i.gn=function(){this.tr(),this.Vo(),this.sAt.fn("Bit",this.Md),this.Wu.fn(fS.pn,this.ami),this.j0t.removeEventListener("click",this.pmi)},n.gmi=function(t){switch(t){case"pause":return tv.freewheel.SDK.VIDEO_STATE_PAUSED;case"playing":return tv.freewheel.SDK.VIDEO_STATE_PLAYING;case"ended":return tv.freewheel.SDK.VIDEO_STATE_COMPLETED;case"stop":return tv.freewheel.SDK.VIDEO_STATE_STOPPED}},At(n,[{key:"U_",get:function(){var t=this.sAt.f8t;return t&&(this.U_=t.bvi.getPlayheadTime()),this.hU},set:function(t){this.hU=t}},{key:"ct",get:function(){return this.jx}},{key:"_vi",get:function(){return!!this.sAt&&void 0!==this.sAt.Iit}},{key:"fg",get:function(){return this.cU},set:function(t){this.cU=t}},{key:"zg",get:function(){return this.Xx},set:function(t){this.ovt&&this.ovt.setAdVolume(t),this.Xx=t}},{key:"og",get:function(){return this.ovt&&(this._mi=0===this.ovt.getAdVolume()),this._mi},set:function(t){this.ovt&&this.ovt.setAdVolume(tnt(t,this.zg)),this._mi=t}},{key:"Ig",get:function(){return this.U1}},{key:"G_",get:function(){return this.o2},set:function(t){this.o2=t}},{key:"Sg",get:function(){return this.h2}}]),n}(na);function tnt(t,n){return t?0:n}yt(),C(),zt(),Ut(),yt(),C(),pt(),Mt();var nnt=function(t){function n(){return t.call(this,"A FreeWheel Ad Error occurred")}return bt(n,t),At(n,[{key:"name",get:function(){return Ftt.Zwi}}]),n}(xo);yt(),C(),pt(),Mt();var int=function(t){function n(){return t.call(this,"A FreeWheel Reset Error Occurred")}return bt(n,t),At(n,[{key:"name",get:function(){return Ftt.Xwi}}]),n}(xo),rnt=0;var ent=function(){function t(t,n,i,r){var e=this;this.ovt=n,this.bmi=function(t){e.ovt.removeEventListener(tv.freewheel.SDK.EVENT_REQUEST_COMPLETE,e.bmi),t.success?e.Mmi.LL(void 0):e.Mmi.xL(new nnt)},this.Ami(t,i,r),n.addEventListener(tv.freewheel.SDK.EVENT_REQUEST_COMPLETE,this.bmi),this.Mmi=new Bc}var n=t.prototype;return n.Ami=function(t,n,i){t.setNetwork(n.networkId),t.setServer(n.adServerUrl);var r=this.ovt;if(r.setProfile(n.profile),n.assetId&&n.assetDuration&&r.setVideoAsset(n.assetId,n.assetDuration),n.siteSectionId&&r.setSiteSection(n.siteSectionId),r.registerVideoDisplayBase(i),n.cuePoints&&n.cuePoints.length)for(var e=0,u=n.cuePoints;e<u.length;e++){var s=u[e];r.addTemporalSlot("cue-"+ ++rnt,s.adUnit,s.timeOffset)}var o=n.customData;if(Qn(o))for(var a=g.keys(o),c=0;c<a.length;c++){var h=a[c],f=o[h];r.addKeyValue(h,f)}},n.ymi=function(){var t=this;return Ot((function(){return Rt(this,(function(n){switch(n.label){case 0:return t.ovt.submitRequest(),[4,t.Mmi.OL];case 1:return n.sent(),[2]}}))}))()},n.tr=function(){this.ovt.removeEventListener(tv.freewheel.SDK.EVENT_REQUEST_COMPLETE,this.bmi),this.Mmi.xL(new int)},t}();yt(),C(),zt(),Ut(),yt(),C(),pt();var unt=function(){function t(t){var n=this;this.Nvi=t,this.Bvi=function(t){n.Tmi(),n.__.LL(void 0)},this.o9t=function(t){n.Tmi(),n.__.xL(new nnt)},this.__=new Bc,t.addEventListener(tv.freewheel.SDK.EVENT_SLOT_ENDED,this.Bvi),t.addEventListener(tv.freewheel.SDK.EVENT_ERROR,this.o9t)}var n=t.prototype;return n.Tmi=function(){this.Nvi.removeEventListener(tv.freewheel.SDK.EVENT_SLOT_ENDED,this.Bvi),this.Nvi.removeEventListener(tv.freewheel.SDK.EVENT_ERROR,this.Bvi)},n.yQt=function(){this.Tmi(),this.__.xL(new int)},At(t,[{key:"Smi",get:function(){return this.__.OL}}]),t}(),snt=function(){function t(t,n){var i=this;this.Qo=t,this.Imi=n,this.Emi=0,this.kmi=function(){for(var t=i.Qo.Q_(),n=0,r=i.Imi.xvi;n<r.length;n++){var e=r[n],u=new HD([i.Emi,t],[!0,!0]),s=e.mvi.getTimePosition();if(u.gr(s))switch(e.mvi.getTimePositionClass()){case tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL:i.Nmi([e]);break;case tv.freewheel.SDK.TIME_POSITION_CLASS_OVERLAY:e.mvi.play(),e.mvi.setVisible(!0)}}i.Emi=t},t.yn(Al.fm,this.kmi)}var n=t.prototype;return n.tS=function(t){this.Nvi=t},n.wvi=function(){return this.Nmi(this.Imi.kvi)},n.avi=function(){this.Nmi(this.Imi.Ovi)},n.Nmi=function(t){var n=this;return Ot((function(){var i,r;return Rt(this,(function(e){switch(e.label){case 0:if(!n.Nvi)return[2];e.label=1;case 1:if(!(t.length>0))return[3,6];n.Dmi=new unt(n.Nvi),i=n.Dmi.Smi,(r=n.Imi.Iit)&&r.Z2t===U2.Cqt&&r.mvi.stop(),t.shift().mvi.play(),e.label=2;case 2:return e.trys.push([2,,4,5]),[4,i];case 3:return e.sent(),[3,5];case 4:return n.Dmi=void 0,[7];case 5:return[3,1];case 6:return[2]}}))}))()},n.tr=function(){this.Dmi&&(this.Dmi.yQt(),this.Dmi=void 0),this.Emi=0},n.gn=function(){this.Qo.fn(Al.fm,this.kmi)},t}(),ont=0,ant=function(t){function n(i,r,u){var s;return(s=t.call(this)||this).Qo=i,s.lj=r,s.jmi=!1,s.xmi=n.createUniqueDisplayBaseId(),s.j0t=n.Pmi(i.we,r,s.xmi),s.Lmi=new e.tv.freewheel.SDK.AdManager,s.Rmi=new Jtt(s.j0t,s.lj),s.Cmi=new snt(s.Qo,s.svi),s.Qa(s.svi),s.t9t=new $tt(i,u,s.svi,s.j0t),s}bt(n,t);var i=n.prototype;return i.l5t=function(){var t=this;return Ot((function(){var n,i,r,e;return Rt(this,(function(u){switch(u.label){case 0:if(!t.mKt)throw new v("Invalid state");n=t.Lmi,(i=n.newContext()).setParameter(tv.freewheel.SDK.PARAMETER_RENDERER_VIDEO_DISPLAY_CONTROLS_WHEN_PAUSE,!1,tv.freewheel.SDK.PARAMETER_LEVEL_GLOBAL),i.setParameter(tv.freewheel.SDK.PARAMETER_EXTENSION_CONTENT_VIDEO_ENABLED,!1,tv.freewheel.SDK.PARAMETER_LEVEL_GLOBAL),r=new ent(n,i,t.mKt,t.xmi),e=t.svi.Svi(i,r.ymi()),t.Cmi.tS(i),t.rvi.omi(i),t.Omi=r,u.label=1;case 1:return u.trys.push([1,,3,4]),[4,e];case 2:return u.sent(),[3,4];case 3:return t.rvi.rmi(),t.jmi=!0,[7];case 4:return[2]}}))}))()},i.b2t=function(t){this.rvi.wmi(t.type)},i.ge=function(){this.j0t.style.display="block",this.lj.style.display="block"},i.be=function(){this.j0t.style.display="none",this.lj.style.display="none"},i.E8t=function(t){this.mKt=t},i.tr=function(){this.jmi=!1,this.mKt=void 0,this.svi.tr(),this.Cmi.tr(),this.Omi&&(this.Omi.tr(),this.Omi=void 0),this.rvi.tr(),this.lj.src=""},i.gn=function(){this.tr(),this.t9t.gn(),this.Cmi.gn(),this.svi.gn(),this.j0t.remove(),this.Qo.we.removeChild(this.j0t)},n.createUniqueDisplayBaseId=function(){return"theo-freewheel-"+ ++ont},n.Pmi=function(t,n,i){var r=u.createElement("div");return r.id=i,r.className="theo-freewheel",n.classList.add("theo-freewheel-video"),r.appendChild(n),t.appendChild(r),r},At(n,[{key:"hvi",get:function(){return 0!==this.svi.Ovi.length}},{key:"gvi",get:function(){return 0!==this.svi.kvi.length}},{key:"rvi",get:function(){return this.t9t}},{key:"svi",get:function(){return this.Rmi}},{key:"lvi",get:function(){return this.jmi}},{key:"uvi",get:function(){return this.Cmi}}]),n}(mI);function cnt(t){if(e.tv)switch(t){case"preroll":return tv.freewheel.SDK.ADUNIT_PREROLL;case"midroll":return tv.freewheel.SDK.ADUNIT_MIDROLL;case"postroll":return tv.freewheel.SDK.ADUNIT_POSTROLL;case"overlay":return tv.freewheel.SDK.ADUNIT_OVERLAY}}function hnt(t,n,i){if(void 0!==n&&A(n)||n<0||n===1/0)return NaN;switch(t){case"preroll":return 0;case"postroll":return i}return c1(n)}var fnt=function(){function t(){}var n=t.prototype;return n.YU=function(t){return t.integration===AI.FREEWHEEL},n.f2t=function(t,n,i){if(Boolean(e.tv&&e.tv.freewheel&&e.tv.freewheel.SDK&&e.tv.freewheel.SDK.AdManager)){var r=new tu(t.Iu,t.Ol,1,[Gm.VA]);r.yU(t.we);var u=r.oB(Gm.VA),s=new ant(t,u.pz,t.Iu);return new Ztt(t,n,r,s,u)}},n.hY=function(t){var n=bm(t);Pn(n.cuePoints)||(n.cuePoints=[]);for(var i=[],r=t.assetDuration||0,e=0,u=n.cuePoints;e<u.length;e++){var s=u[e],o=hnt(s.adUnit,s.timeOffset,r),a=cnt(s.adUnit);!A(o)&&Fn(a)?(s.adUnit=a,s.timeOffset=o,i.push(s)):an.vp("Invalid adUnit/timeOffset combination. Cue was removed.")}return n.cuePoints=i,n},n.W4=function(t,n,i,r){i.E8t(t,n,r)},At(t,[{key:"d2t",get:function(){return U1.b$t}}]),t}();II.lL.GU(new fnt),yt(),C(),yt(),C(),yt(),C(),Mt(),yt(),C(),yt(),C();var vnt,lnt,dnt=self.theoplayerDeviceMetadata;function gnt(t){return t.navigator&&t.navigator.userAgent||""}yt(),C(),yt(),C(),yt(),C(),Ht(),yt(),C(),Ht(),function(t){t.zmi="Windows 10",t.Bmi="Windows 8.1",t.Umi="Windows 8",t.Qmi="Windows 7",t.Fmi="Windows Vista",t.Ymi="Windows Server 2003",t.Gmi="Windows XP",t.Vmi="Windows Phone",t.Wmi="Mac OS X",t.Hmi="Mac OS",t.wE="Android",t.mE="iOS",t.Xmi="Ubuntu",t.Zmi="Linux",t.qmi="Chrome OS"}(vnt||(vnt={}));var wnt=(Zt(lnt={},"Windows 10",/(Windows 10.0|Windows NT 10.0)/i),Zt(lnt,"Windows 8.1",/(Windows 8.1|Windows NT 6.3)/i),Zt(lnt,"Windows 8",/(Windows 8|Windows NT 6.2)/i),Zt(lnt,"Windows 7",/(Windows 7|Windows NT 6.1)/i),Zt(lnt,"Windows Vista",/Windows NT 6.0/i),Zt(lnt,"Windows Server 2003",/Windows NT 5.2/i),Zt(lnt,"Windows XP",/(Windows NT 5.1|Windows XP)/i),Zt(lnt,"Windows Phone",/Windows Phone/i),Zt(lnt,"Android",/Android/i),Zt(lnt,"Linux",/(Linux(?!.*Ubuntu)|X11)/),Zt(lnt,"Ubuntu",/Ubuntu/i),Zt(lnt,"iOS",/(iPhone|iPad|iPod)/i),Zt(lnt,"Mac OS X",/Mac OS X/i),Zt(lnt,"Mac OS",/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/i),Zt(lnt,"Chrome OS",/CrOS/i),lnt);function ynt(t,n){var i=wnt[n];return!!i&&Boolean(gnt(t).match(i))}function mnt(t){return ynt(t,"Android")}function Ant(t){return ynt(t,"Windows Phone")}function pnt(t){return ynt(t,"iOS")&&!Ant(t)}function _nt(t){return ynt(t,"Ubuntu")}var knt,bnt,Mnt,Tnt=/Windows (NT|Phone) ([0-9.]+)/i,Nnt=/Mac.*?(OS |OS X )(\d+(([_.])\d+)?(([_.])\d+)?)/i,Dnt=(Zt(knt={},"Windows 10",Tnt),Zt(knt,"Windows 8.1",Tnt),Zt(knt,"Windows 8",Tnt),Zt(knt,"Windows 7",Tnt),Zt(knt,"Windows Vista",Tnt),Zt(knt,"Windows Server 2003",Tnt),Zt(knt,"Windows XP",Tnt),Zt(knt,"Windows Phone",/Windows Phone ([0-9.]+)/i),Zt(knt,"Android",/Android (\d+(([_.])\d+)?(([_.])\d+)?)/i),Zt(knt,"Linux",void 0),Zt(knt,"Ubuntu",void 0),Zt(knt,"iOS",/(iPad|iPhone|iPod).*?(OS |os |OS_)(\d+(([_.])\d+)?(([_.])\d+)?)/i),Zt(knt,"Mac OS X",Nnt),Zt(knt,"Mac OS",Nnt),Zt(knt,"Chrome OS",void 0),knt);function Int(t,n){var i=Dnt[n];return i?gnt(t).match(i):null}function Ent(t){return t.split(/[_.]/).map((function(t){return y(t,10)}))}function Snt(t){if(function(t){return Boolean(gnt(t).match(/Windows/i))}(t)){if(function(t){return ynt(t,"Windows 10")}(t))return"Windows 10";if(Ant(t))return"Windows Phone";if(function(t){return ynt(t,"Windows 8.1")}(t))return"Windows 8.1";if(function(t){return ynt(t,"Windows 8")}(t))return"Windows 8";if(function(t){return ynt(t,"Windows 7")}(t))return"Windows 7";if(function(t){return ynt(t,"Windows Vista")}(t))return"Windows Vista";if(function(t){return ynt(t,"Windows Server 2003")}(t))return"Windows Server 2003";if(function(t){return ynt(t,"Windows XP")}(t))return"Windows XP"}else{if(mnt(t))return"Android";if(pnt(t))return"iOS";if(function(t){return ynt(t,"Mac OS X")}(t))return"Mac OS X";if(function(t){return ynt(t,"Mac OS")}(t))return"Mac OS";if(_nt(t))return"Ubuntu";if(function(t){return ynt(t,"Chrome OS")}(t))return"Chrome OS";if(function(t){return ynt(t,"Linux")&&!_nt(t)}(t))return"Linux"}}function Lnt(t,n){var i=function(t){var n=Int(t,"Windows 10");return n&&n.length>2?Ent(n[2]):void 0}(t),r=function(t){var n=Int(t,"Mac OS X");return n&&n.length>2?Ent(n[2]):void 0}(t),e=function(t){var n=Int(t,"Android");return n&&n.length>1?Ent(n[1]):void 0}(t),u=function(t){var n=Int(t,"iOS");return n&&n.length>3?Ent(n[3]):void 0}(t),s=function(t){var n=Int(t,"Chrome OS");return n&&n.length>0?Ent(n[0]):void 0}(t);return i?i.length>n?i[n]:void 0:r?r.length>n?r[n]:void 0:e?e.length>n?e[n]:void 0:u?u.length>n?u[n]:void 0:s&&s.length>n?s[n]:void 0}function jnt(t){var n=function(t){return Lnt(t,0)}(t),i=function(t){return Lnt(t,1)}(t),r=function(t){return Lnt(t,2)}(t);if(void 0!==n)return void 0===i?""+n:void 0===r?n+"."+i:n+"."+i+"."+r}!function(t){t.Kmi="Chrome",t.Jmi="Chrome Mobile",t.$mi="Chrome iOS",t.tpi="Chromium",t.ipi="Firefox",t.epi="Seamonkey",t.spi="Firefox iOS",t.npi="Firefox Mobile",t.rpi="Safari",t.opi="Safari Mobile",t.hpi="Edge",t.upi="Edge Chromium",t.cpi="Edge Mobile",t.lpi="IE",t.fpi="Opera",t._pi="Opera Mobile",t.gpi="Vivaldi",t.wpi="HeadlessChrome",t.vpi="Android Browser"}(bnt||(bnt={}));var Cnt=(Zt(Mnt={},"Chrome",/Chrome/i),Zt(Mnt,"Chrome Mobile",void 0),Zt(Mnt,"Chrome iOS",/CriOS/i),Zt(Mnt,"Chromium",/Chromium/i),Zt(Mnt,"HeadlessChrome",/HeadlessChrome/i),Zt(Mnt,"Firefox",/Firefox/i),Zt(Mnt,"Seamonkey",/Seamonkey/i),Zt(Mnt,"Firefox iOS",/FxiOS/i),Zt(Mnt,"Safari",/Safari/i),Zt(Mnt,"Edge",/Edge\/\d+/i),Zt(Mnt,"Edge Chromium",/Edg\/\d+/i),Zt(Mnt,"IE",/Trident/i),Zt(Mnt,"Opera",/Opera|OPR/i),Zt(Mnt,"Vivaldi",/Vivaldi/i),Zt(Mnt,"Android Browser",void 0),Mnt);function xnt(t,n){var i=Cnt[n];return!!i&&Boolean(gnt(t).match(i))}function Ont(t){return Boolean(gnt(t).match(/Mobi/i))}function znt(t){return Boolean(t.chrome&&t.navigator&&t.navigator.vendor&&/google/i.test(t.navigator.vendor))||Rnt(t)}function Rnt(t){return xnt(t,"Chrome iOS")}function Bnt(t){return xnt(t,"Firefox")&&!Unt(t)}function Pnt(t){return xnt(t,"Firefox Mobile")&&!Unt(t)&&Ont(t)}function Unt(t){return xnt(t,"Seamonkey")}function Qnt(t){return xnt(t,"Firefox iOS")&&!Unt(t)}function Ynt(t){return xnt(t,"Safari")&&!xnt(t,"Chrome")&&!xn.jE}function Fnt(t){return Boolean($nt(t))}function Gnt(t){return xnt(t,"Edge")}function Vnt(t){return xnt(t,"Edge Chromium")}function Wnt(t){return xnt(t,"IE")}function Xnt(t){return xnt(t,"Vivaldi")}var Znt,Hnt,Knt=/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i,qnt=(Zt(Znt={},"Chrome",Knt),Zt(Znt,"Chrome Mobile",Knt),Zt(Znt,"Chrome iOS",/CriOS\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),Zt(Znt,"Chromium",Knt),Zt(Znt,"HeadlessChrome",Knt),Zt(Znt,"Firefox",/Firefox\/([0-9.]+)/i),Zt(Znt,"Firefox iOS",/FxiOS\/([0-9.]+)/i),Zt(Znt,"Safari",/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),Zt(Znt,"Safari Mobile",void 0),Zt(Znt,"Edge",/Edge\/(\d+)/i),Zt(Znt,"Edge Chromium",/Edg\/(\d+)/i),Zt(Znt,"Edge Mobile",void 0),Zt(Znt,"IE",/(MSIE |Trident.*?rv:)(\d+)/i),Zt(Znt,"Opera",/(OPR\/(\d+\.\d+))|(Opera(?=.*Version\/((\d+)\.(\d+))))/i),Zt(Znt,"Opera Mobile",void 0),Zt(Znt,"Vivaldi",/Vivaldi\/((\d+)\.(\d+)\.(\d+)(?:\.(\d+))?)/i),Zt(Znt,"Android Browser",void 0),Znt);function Jnt(t,n){var i=qnt[n];return i?gnt(t).match(i):null}function $nt(t){return Jnt(t,"Opera")}function tit(t){var n=function(t){return Jnt(t,"Firefox")}(t);return n?m(n[1]):0}function nit(t){var n=function(t){return Jnt(t,"Firefox iOS")}(t);return n?m(n[1].split(".")[0]):0}function iit(t){var n=function(t){return Jnt(t,"Safari")}(t);return n?m(n[2].split(".")[0]):0}function rit(t){var n=function(t){return Jnt(t,"Edge")}(t);return n?m(n[1]):0}function eit(t){var n=function(t){return Jnt(t,"Edge Chromium")}(t);return n?m(n[1]):0}function uit(t){var n=function(t){return Jnt(t,"IE")}(t);return n?m(n[2]):0}function sit(t){var n=function(t){return Jnt(t,"Vivaldi")}(t);return n?m(n[1]):0}function oit(t){if(mnt(t))return znt(t)?"Chrome Mobile":Bnt(t)||Pnt(t)?"Firefox Mobile":Gnt(t)?"Edge Mobile":Fnt(t)?"Opera Mobile":"Android Browser";if(pnt(t)){if(znt(t)||Rnt(t))return"Chrome iOS";if(Bnt(t)||Qnt(t))return"Firefox iOS";if(Gnt(t))return"Edge Mobile";if(Ynt(t)||function(t){return Ynt(t)&&Ont(t)}(t))return"Safari Mobile";if(Fnt(t))return"Opera Mobile"}return function(t){return xnt(t,"Chromium")}(t)?"Chromium":function(t){return xnt(t,"HeadlessChrome")}(t)?"HeadlessChrome":znt(t)?"Chrome":Bnt(t)?"Firefox":Ynt(t)?"Safari":Gnt(t)?"Edge":Vnt(t)?"Edge Chromium":Wnt(t)?"IE":Fnt(t)?"Opera":Xnt(t)?"Vivaldi":void 0}function ait(t){return Xnt(t)?sit(t):Rnt(t)?Number(function(t){var n=qnt["Chrome iOS"];return n&&n.exec(gnt(t))||[]}(t)[1]):znt(t)?Number(function(t){var n=qnt.Chrome;return n&&n.exec(gnt(t))||[]}(t)[1]):Bnt(t)||Pnt(t)?tit(t):Qnt(t)?nit(t):Ynt(t)?iit(t):Gnt(t)?rit(t):Vnt(t)?eit(t):Wnt(t)?uit(t):Fnt(t)?function(t){var n=$nt(t);return n&&n[0].indexOf("Opera")>-1?m(n[5]):n?m(n[2].split(".")[0]):0}(t):void 0}function cit(t){var n=gnt(t);return n.match(/CrKey|Roku|AFTS|AppleTV|Nexus Player/i)?"settop":n.match(/Xbox|Playstation|Wii|Nintendo/i)?"console":/(iPad|Tablet|(Android(?!.*Mobi))|(Windows(?!.*Phone)(.*Touch))|Kindle|Playbook|Silk|(Puffin(?!.*(IP|AP|WP))))/i.test(n)?"tablet":/Mobi/.test(n)?"mobile":n.match(/GoogleTV|SmartTV|SMART-TV|Internet TV|NetCast|NETTV|boxee|Kylo|DLNADOC|hbbtv|CE-HTML/i)?"smarttv":n.match(/(nuhk|Googlebot|bingbot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/i)?"searchbot":function(t){return Boolean(oit(t))}(t)?"pc":void 0}!function(t){t.mpi="pc",t.ppi="console",t.Api="settop",t.ypi="mobile",t.Mpi="tablet",t.bpi="smarttv",t.Tpi="searchbot"}(Hnt||(Hnt={}));var hit=function(){function t(t,n){var i=this;this.empClient=t,this.agama=n,this.Dpi=function(){var t=an.Bst;switch(t){case"wifi":i.empClient.setDeviceMetadata(i.agama.DeviceMetadata.DATA_CONNECTION_TYPE,"wlan");break;case"ethernet":i.empClient.setDeviceMetadata(i.agama.DeviceMetadata.DATA_CONNECTION_TYPE,t);break;case"cellular":var n=function(t){switch(t){case"3g":return"mobile/3G";case"4g":return"mobile/4G";default:return}}(an.zst);n&&i.empClient.setDeviceMetadata(i.agama.DeviceMetadata.DATA_CONNECTION_TYPE,n)}}}var n=t.prototype;return n.oY=function(t){this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_ID,t.deviceID||function(){var t=gl.IL("deviceId");if(t)return t;var n=YI();return gl.EP("deviceId",n),n}()),this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.PLAYER,"THEOplayer"),this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.PLAYER_VERSION,"8.3.0"),this.Spi(t),this.Npi(),this.Ipi(t),this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.EMPCLIENT_INTEGRATION_VERSION,"3.0"),this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.EMPCLIENT_INTEGRATION_BUILDDATE,"2023-04-17 12:00:00"),t.application&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.APPLICATION,t.application),t.applicationVersion&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.APPLICATION_VERSION,t.applicationVersion),t.userAccountID&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.USER_ACCOUNT_ID,t.userAccountID);var n=t.connectionType;n?this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DATA_CONNECTION_TYPE,n):(this.Dpi(),o.connection&&o.connection.addEventListener&&o.connection.addEventListener("change",this.Dpi))},n.Spi=function(t){this.Epi(t);var n=t.deviceManufacturer||dnt&&dnt.manufacturer;n&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_MANUFACTURER,n);var i=t.deviceModel||dnt&&dnt.model;i&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_MODEL,i)},n.Epi=function(t){var n=t.deviceType||function(){var t=cit(self);switch(t){case Hnt.ppi:return"game-console";case Hnt.bpi:return"tv";case Hnt.Api:return"media-streamer";default:return t}}();n&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_TYPE,n)},n.Npi=function(){var t=oit(self);t&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_BROWSER,t);var n=ait(self);void 0!==n&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_BROWSER_VERSION,n.toString())},n.Ipi=function(t){var n=t.deviceOs||Snt(self);n&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_OS,n);var i=t.deviceOsVersion||jnt(self);i&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_OS_VERSION,i.toString())},n.gn=function(){o.connection&&o.connection.removeEventListener&&o.connection.removeEventListener("change",this.Dpi)},t}();var fit,vit,lit=function(t){function n(){var n;return(n=t.call(this)||this).bo=!1,n.Opi=!1,n.xpi=ru.Agama,n}bt(n,t);var i=n.prototype;return i.Wg=function(t){this.Lpi=t,this.xpi&&(this.RQ=function(t,n){var i=function(t,n){switch(n){case"info":return t.LogLevel.INFO;case"debug":return t.LogLevel.DEBUG;case"warning":return t.LogLevel.WARNING;case"error":return t.LogLevel.ERROR;default:return t.LogLevel.FATAL}}(n,t.logLevel);n.setLogLevel(i);var r=new n.EMPClient(t.config);return function(t,n){return t.setExternalConfig(n.config),t}(r,t)}(t,this.xpi),this.RQ&&(this.Cpi=new hit(this.RQ,this.xpi),this.bo=!0))},i.rY=function(){return this.xpi||console.warn("Please load the Agama Library (empclient.min.js) in order to use the integration"),!!this.xpi},i.sY=function(){return this.bo},i.xF=function(t,n){if(this.RQ&&this.xpi)switch(t){case MI.eQ:this.RQ.setMeasurement(this.xpi.Measurement.BUFFER_LENGTH,n);break;case MI.sQ:this.RQ.setMeasurement(this.xpi.Measurement.BYTES_RECEIVED,n);break;case MI.rQ:this.RQ.setMeasurement(this.xpi.Measurement.SEGMENT_PROFILE_BITRATE,n);break;case MI.oQ:this.RQ.setMeasurement(this.xpi.Measurement.VIDEO_PROFILE_BITRATE,n);break;case MI.nQ:this.RQ.setMeasurement(this.xpi.Measurement.SEGMENT_READ_BITRATE,n);break;case MI.KU:this.RQ.setMeasurement(this.xpi.Measurement.HTTP_REQUEST_STATUS_CODE_1XX,n);break;case MI.JU:this.RQ.setMeasurement(this.xpi.Measurement.HTTP_REQUEST_STATUS_CODE_2XX,n);break;case MI.$U:this.RQ.setMeasurement(this.xpi.Measurement.HTTP_REQUEST_STATUS_CODE_3XX,n);break;case MI.tQ:this.RQ.setMeasurement(this.xpi.Measurement.HTTP_REQUEST_STATUS_CODE_4XX,n);break;case MI.iQ:this.RQ.setMeasurement(this.xpi.Measurement.HTTP_REQUEST_STATUS_CODE_5XX,n);break;case MI.aQ:this.RQ.setMeasurement(this.xpi.Measurement.PLAYBACK_POSITION,n);break;case MI.uQ:this.RQ.setMeasurement(this.xpi.Measurement.NUMBER_OF_FRAMES_DECODED,n);break;case MI.hQ:this.RQ.setMeasurement(this.xpi.Measurement.NUMBER_OF_FRAMES_DROPPED,n)}},i.fF=function(t,n){if(this.RQ&&this.xpi)switch(t){case TI._Q:this.RQ.setSessionMetadata(this.xpi.SessionMetadata.ASSET_DURATION,n);break;case TI.fQ:this.RQ.setSessionMetadata(this.xpi.SessionMetadata.MANIFEST_URI,n);break;case TI.gQ:this.RQ.setSessionMetadata(this.xpi.SessionMetadata.NUMBER_OF_CONTENT_PROFILES,n);break;case TI.mQ:this.RQ.setSessionMetadata(this.xpi.SessionMetadata.SERVICE_NAME,n);break;case TI.wQ:this.RQ.setSessionMetadata(this.xpi.SessionMetadata.CDN,n);break;case TI.vQ:this.RQ.setSessionMetadata(this.xpi.SessionMetadata.CONTENT_TITLE,n);break;case TI.pQ:this.RQ.setSessionMetadata(this.xpi.SessionMetadata.CONTENT_TYPE,n);break;case TI.AQ:this.RQ.setSessionMetadata(this.xpi.SessionMetadata.CONTENT_DESCRIPTION,n)}},i.oY=function(){this.Cpi&&this.Lpi&&this.Cpi.oY(this.Lpi)},i.nY=function(t,n){this.xpi&&this.RQ&&(this.QF(),function(t,n,i,r){var e=FI(t,i,r);n.abrSession(e,t.ViewState.INITIAL_BUFFERING)}(this.xpi,this.RQ,t,n),this.Opi=!0)},i.gn=function(){this.Cpi&&this.Cpi.gn(),this.jpi(NI.yQ),this.RQ=void 0},i.$Q=function(t){this.Rpi(t)},i.eF=function(t,n){this.RQ&&this.RQ.event(t.code,n)},i.QF=function(){this.RQ&&this.Opi&&(this.RQ.exitSession(),this.Opi=!1)},i.jpi=function(t){if(this.RQ&&this.xpi&&(this.QF(),t===NI.yQ))this.RQ.shutdown(this.xpi.ShutdownType.NORMAL_SHUTDOWN)},i.tF=function(t,n,i){this.Rpi(t,n,i)},i.Rpi=function(t,n,i){if(this.RQ&&this.xpi)switch(t){case bI.Sm:this.Ppi(this.xpi.ViewState.PLAYING,n,i);break;case bI.XU:this.Ppi(this.xpi.ViewState.FAILED,n,i);break;case bI.ZU:this.Ppi(this.xpi.ViewState.INITIAL_BUFFERING,n,i);break;case bI.VU:this.Ppi(this.xpi.ViewState.PAUSED,n,i);break;case bI.WU:this.Ppi(this.xpi.ViewState.SEEK,n,i);break;case bI.HU:this.Ppi(this.xpi.ViewState.STALLED,n,i);break;case bI.qU:this.Ppi(this.xpi.ViewState.NO_ACCESS,n,i)}},i.Ppi=function(t,n,i){if(this.RQ)if(n){var r=function(t){return t||""}(i);this.RQ.viewStateExtended(t,n.code,r)}else this.RQ.viewStateChanged(t)},n}(jI);PT(function(t){return function(n){return function(n){function i(i,r){var e;return(e=n.call(this,i,r)||this).RQ=new t,e.kpi=new XI(Wt(e),e.RQ,r),e}bt(i,n);var r=i.prototype;return r.F_=function(t,i){this.kpi&&this.kpi.XQ(),n.prototype.F_.call(this,t)},r.gn=function(){this.kpi&&this.kpi.gn(),n.prototype.gn.call(this)},i}(n)}}(lit),OT.vit),yt(),C(),yt(),C(),Xt(),Mt(),yt(),C(),yt(),C(),zt(),pt(),Ut(),yt(),C(),function(t){t.PLAY_ALL="play-all",t.PLAY_NONE="play-none",t.PLAY_LAST="play-last"}(fit||(fit={})),yt(),C(),function(t){t.VOD="vod",t.LIVE="live"}(vit||(vit={}));var dit=function(){function t(t,n,i,r,e,u,s){var o=this;this.Qo=t,this.Gpi=n,this.Hpi=i,this.Upi=r,this.zpi=e,this.eAi=u,this.Qpi=s,this.vz=void 0,this.mz=void 0,this.L5=new zo,this.Xpi=new zo,this.mAi=void 0,this.Fpi=!1,this.P0t=void 0,this.Zpi=function(t){var n=t.currentSource;if(n&&n.integrationData){var i=n.integrationData,r=i.preplayResponse,e=i.source;o.zpi.pAi(r),r&&r.type===vit.VOD&&r.ads&&o.Upi.nAi(r.ads),o.Gpi.AAi=n.integrationData,e.assetInfo&&Xo(o.fetchAssetInfo(n))}},this.Tdi=function(){o.Fpi=!0},this.xoi=function(){o.Fpi&&o.rAi(o.Qo.Q_())},this.Gfi=function(){o.Fpi&&(o.rAi(1/0),o.Fpi=!1)},this.jd=function(){Xo(o.Gpi.Cn())},this.Kpi=function(t){o.L5.g_(),o.L5=new zo,Xo(o.Xsi(t.Xl.bS,o.L5.f_))},this.Jpi=function(){1!==o.Qo.gg&&(o.mAi=o.Qo.gg,o.Qo.gg=1)},this.$pi=function(){void 0!==o.mAi&&(o.Qo.gg=o.mAi,o.mAi=void 0)},this.tAi=function(t){t.Xl.yn("qpi",o.Kpi),t.Xl.yn("Bit",o.Jpi),t.Xl.yn("zit",o.$pi)},this.iAi=function(t){t.Xl.fn("qpi",o.Kpi),t.Xl.fn("Bit",o.Jpi),t.Xl.fn("zit",o.$pi)},this.vAi=function(){o.Qo.Hg()},this.Qo.yn(Al.Dv,this.Zpi),this.Qo.yn(Al.jh,this.Tdi),this.Qo.yn(Al.fm,this.xoi),this.Qo.yn(Al.Ov,this.Gfi),this.Qo.yn(gk.ym,this.jd),this.Upi.s$t.yn("jit",this.tAi),this.Upi.s$t.yn("Oit",this.iAi)}var n=t.prototype;return n.Bpi=function(t){this.vz=Km(t),this.mz=t,this.Qo.Co(new gT(t))},n.ga=function(t){this.Upi.tr(),this.Qpi.kL(),this.Fpi=!1,this.Qo.Ypi(t)},n.iet=function(t,n){var i=this;return Ot((function(){var r;return Rt(this,(function(e){switch(e.label){case 0:return i.Gpi.tr(),i.Fpi=!1,t&&function(t){return t.sources.some((function(t){return t.integration===PN.VERIZON_MEDIA}))}(t)?[3,2]:[4,i.Qo.Vpi(t,n)];case 1:return[2,e.sent()];case 2:return e.trys.push([2,5,,6]),[4,i.Hpi.lgi(t)];case 3:return i.Wpi=e.sent(),[4,i.Qo.Vpi(i.Wpi,n)];case 4:return e.sent(),[3,6];case 5:return r=e.sent(),i.Bpi(new Kv(Xv.MANIFEST_LOAD_ERROR,r.message,r)),[3,6];case 6:return[2]}}))}))()},n.gn=function(){this.L5.g_(),this.Xpi.g_(),this.Qo.fn(Al.Dv,this.Zpi),this.Qo.fn(Al.jh,this.Tdi),this.Qo.fn(Al.fm,this.xoi),this.Qo.fn(Al.Ov,this.Gfi),this.Qo.fn(gk.ym,this.jd);for(var t=0,n=this.Upi.s$t.Gu;t<n.length;t++){var i=n[t];i.fn("qpi",this.Kpi),i.fn("Bit",this.Jpi),i.fn("zit",this.$pi)}this.Upi.s$t.fn("jit",this.tAi),this.Upi.s$t.fn("Oit",this.iAi),this.Upi.gn(),this.P0t&&(this.P0t.h_(),this.P0t=void 0),this.Fpi=!1},n.fetchAssetInfo=function(t){var n=this;return Ot((function(){var i;return Rt(this,(function(r){switch(r.label){case 0:if(!t||!t.integrationData)return[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.eAi.Tbt(t.integrationData.source.prefix,t.integrationData.source.id,n.Xpi.f_,t.integrationData.preplayResponse.sid)];case 2:return i=r.sent(),n.zpi.sAi(i),n.Qpi.nAi(i,n.Upi.s$t.Gu),[3,4];case 3:return r.sent(),[3,4];case 4:return[2]}}))}))()},n.rAi=function(t){this.Upi.oAi(t),this.Upi.Sit.forEach((function(n){return n.hAi(t)})),this.Upi.aAi(this.Qo.Dg()),this.R0t()},n.F_=function(t){this.Upi.Iit||(this.L5.g_(),this.L5=new zo,Xo(this.Xsi(t,this.L5.f_)))},n.Xsi=function(t,n){var i=this;return Ot((function(){var r,e;return Rt(this,(function(u){switch(u.label){case 0:if(Po(n),t<i.Qo.Q_())return i.uAi(t),[2];switch(r=[],i.Upi.cAi){case fit.PLAY_ALL:return[3,1];case fit.PLAY_LAST:return[3,3];case fit.PLAY_NONE:return[3,5]}return[3,6];case 1:return r=i.Upi.lAi(i.Qo.Q_(),t),[4,i.dAi(t,r,n)];case 2:case 4:return u.sent(),[3,6];case 3:return e=i.Upi.lAi(i.Qo.Q_(),t).pop(),r=e?[e]:[],[4,i.dAi(t,r,n)];case 5:return i.fAi(t),[3,6];case 6:return[2]}}))}))()},n.uAi=function(t){var n=co(this.Upi.s$t.Gu,(function(n){return n.Sat.gr(t)}));n?this.Qo._Ai(n.MS):this.Qo._Ai(t)},n.fAi=function(t){var n=this.Upi.lAi(this.Qo.Q_(),t).pop();n&&n.Sat.gr(t)?this.Qo._Ai(n.bS):this.Qo._Ai(t)},n.dAi=function(t,n,i){var r=this;return Ot((function(){var e,u,s;return Rt(this,(function(o){switch(o.label){case 0:e=0,o.label=1;case 1:return e<n.length?(u=n[e],[4,r.gAi(u,i)]):[3,4];case 2:o.sent(),o.label=3;case 3:return e++,[3,1];case 4:return(s=n[n.length-1])&&s.Sat.gr(t)?(r.Qo.Q_()<t&&r.Qo._Ai(s.bS),[2]):(r.Qo._Ai(t),[2])}}))}))()},n.gAi=function(t,n){var i=this;return Ot((function(){var r;return Rt(this,(function(e){switch(e.label){case 0:return t.fn("qpi",i.Kpi),r=q.race([t.k_("zit",n),t.k_("qpi",n)]),i.rAi(i.Qo.Q_()),t.ro||i.Qo._Ai(t.MS),[4,r];case 1:return e.sent(),t.yn("qpi",i.Kpi),[2]}}))}))()},n.R0t=function(){var t=co(this.Upi.Sit,(function(t){return t.wAi.length>0}));if(t){var n=t.wAi[0];this.P0t||(this.P0t=new e2(this.Qo.we),this.P0t.yn("clickstart",this.vAi)),this.P0t.V$t=n}else this.P0t&&(this.P0t.h_(),this.P0t=void 0)},At(t,[{key:"va",get:function(){return this.zpi.va}},{key:"lt",get:function(){return this.vz}},{key:"H_",get:function(){return this.mz}}]),t}();yt(),C(),zt(),Ht(),Ut(),yt(),C();var git=IM({breaksIndex:pM,adsIndex:pM,startTime:pM,endTime:pM}),wit=IM({index:pM,timeOffset:pM}),yit=IM({duration:pM,apiFramework:CM(_M,TM),creative:_M,mimeType:_M,width:pM,height:pM,companions:OM(function(t){return new BM(t)}((function(){return yit}))),extensions:CM(bM,OM(MM)),fw_parameters:CM(bM,RM(_M)),events:RM(OM(_M))}),mit=IM({type:LM(["linear","nonlinear"]),position:LM(["preroll","midroll","postroll","pause","overlay",""]),timeOffset:pM,duration:pM,ads:OM(yit),events:RM(OM(_M))}),Ait=IM({breaks:OM(mit),breakOffsets:OM(wit),placeholderOffsets:OM(git)}),pit=IM({fairplayCertificateURL:CM(bM,_M),widevineLicenseURL:CM(bM,_M),playreadyLicenseURL:CM(bM,_M)}),_it={type:LM(EM(vit)),playURL:_M,prefix:_M,sid:_M,drm:CM(bM,pit)},kit=IM($u({},_it,{type:LM([vit.VOD]),ads:Ait,interstitialURL:CM(_M,TM,bM)})),bit=CM(kit,IM($u({},_it,{type:LM([vit.LIVE])})));yt(),C();var Mit,Tit=_M,Nit=IM({userId:_M,externalId:CM(_M,OM(_M))});!function(t){t[t.AD_IMPRESSIONS=1]="AD_IMPRESSIONS",t[t.FW_VIDEO_VIEWS=2]="FW_VIDEO_VIEWS",t[t.LINEAR_AD_DATA=4]="LINEAR_AD_DATA"}(Mit||(Mit={}));var Dit,Iit=function(){function t(t){this.aE=t}var n=t.prototype;return n.Tbt=function(t){var n=this;return Ot((function(){return Rt(this,(function(i){try{return[2,n.yAi(t)]}catch(t){throw t}return[2]}))}))()},n.yAi=function(t){var n=this;return Ot((function(){var i,r,e;return Rt(this,(function(u){switch(u.label){case 0:return[4,Sit(t)];case 1:return i=u.sent(),[4,n.aE.uD({ZD:Jw.GET,zu:i,qD:pl.ND})];case 2:return[4,u.sent().ly()];case 3:return r=u.sent(),e=$u({},r,{type:t.assetType===WI.ASSET?vit.VOD:vit.LIVE}),bit.uP(e)||bit.lP(e,"PreplayResponse"),[2,e]}}))}))()},t}(),Eit=(Zt(Dit={},WI.ASSET,""),Zt(Dit,WI.CHANNEL,"channel/"),Zt(Dit,WI.EVENT,"event/"),Dit);function Sit(t){return Lit.apply(this,arguments)}function Lit(){return Lit=Ot((function(t){var n,i,r,e,u,s;return Rt(this,(function(o){switch(o.label){case 0:return n=t.prefix,i=Eit[t.assetType],r=function(t){if(OM(Tit).uP(t))return 1===t.length?t[0]:t.join(",")+"/multiple";if(Tit.uP(t))return t;if(Nit.uP(t)&&Pn(t.externalId))return 1===t.externalId.length?"ext/"+t.userId+"/"+t.externalId[0]:"ext/"+t.userId+"/"+t.externalId.join(",")+"/multiple";if(Nit.uP(t))return"ext/"+t.userId+"/"+t.externalId;throw new l("Invalid asset id")}(t.id),[4,jit(t.contentProtected)];case 1:return e=o.sent(),u=function(t,n){var i=xit(t,n);return i?{"ad.cping":"1","ad.pingf":String(i)}:{}}(t.assetType,t.ping),s={},Pn(t.preplayParameters)?t.preplayParameters.forEach((function(t){s[t[0]]=t[1]})):s=t.preplayParameters,[2,oy(n+"/preplay/"+i+r+".json",$u({v:"2"},s,e,u,s))]}}))})),Lit.apply(this,arguments)}function jit(t){return Cit.apply(this,arguments)}function Cit(){return Cit=Ot((function(t){var n,i,r;return Rt(this,(function(e){switch(e.label){case 0:return(n=t)?[4,an.yO()]:[3,2];case 1:n=e.sent(),e.label=2;case 2:return n?[2,{rmt:"fps",manifest:"m3u8"}]:[3,3];case 3:return(i=t)?[4,an.vO()]:[3,5];case 4:i=e.sent(),e.label=5;case 5:return i?[2,{rmt:"wv",manifest:"mpd"}]:[3,6];case 6:return(r=t)?[4,an.AO()]:[3,8];case 7:r=e.sent(),e.label=8;case 8:if(r)return[2,{rmt:"pr",manifest:"mpd"}];e.label=9;case 9:return[2,{}]}}))})),Cit.apply(this,arguments)}function xit(t,n){var i=t!==WI.ASSET;return(!i&&n.adImpressions?1:0)+(!i&&n.freeWheelVideoViews?2:0)+(i&&n.linearAdData?4:0)}yt(),C(),zt(),Ut(),yt(),C();var Oit,zit=IM({ad_id:_M,apiFramework:CM(TM,_M),companions:OM(MM),creative:_M,duration:pM,mimeType:_M,height:pM,width:pM,extensions:CM(bM,OM(MM)),fw_parameters:CM(bM,RM(_M))}),Rit=IM({breakId:_M,ads:OM(zit),type:LM(["linear","nonlinear"]),position:LM(["preroll","midroll","postroll","pause","overlay",""]),timeOffset:pM,duration:pM,height:CM(bM,pM),width:CM(bM,pM),events:RM(OM(_M))}),Bit=IM({breaks:OM(Rit)}),Pit=IM({next_time:pM,ads:CM(bM,Bit),extensions:CM(bM,OM(MM)),error:CM(bM,_M),currentBreakEnd:CM(bM,pM)});!function(t){t.Ebt="start",t.WU="seek"}(Oit||(Oit={}));var Uit=function(){function t(t){this.aE=t}var n=t.prototype;return n.Tbt=function(t,n){var i=this;return Ot((function(){return Rt(this,(function(r){try{return[2,i.yAi(t,n)]}catch(t){throw t}return[2]}))}))()},n.yAi=function(t,n){var i=this;return Ot((function(){var r,e;return Rt(this,(function(u){switch(u.label){case 0:return r=function(t){var n={v:"3",pt:String(t.currentTime)};(function(t){return void 0!==t.seekTime})(t)&&t.hasFreeWheelVideoViews&&(n.ft=String(t.seekTime));t.event&&(n.ev=t.event);return oy(t.zonePrefix+"/session/ping/"+t.sessionId+".json",$u({},n))}(t),[4,i.aE.uD({ZD:Jw.GET,zu:r,qD:pl.ND,f_:n})];case 1:return[4,u.sent().ly()];case 2:return e=u.sent(),Pit.uP(e)||Pit.lP(e,"PingResponse"),[2,e]}}))}))()},t}();yt(),C(),Xt(),zt(),pt(),Mt(),Ut(),yt(),C(),pt(),Mt();var Qit=function(t){function n(n){var i;return(i=t.call(this,"MAi")||this).dD=n,i}return bt(n,t),n.prototype.fa=function(){return new Yit(this.dD)},At(n,[{key:"lD",get:function(){return this.dD}}]),n}(am),Yit=function(t){function n(n){var i;return(i=t.call(this,"pingresponse")||this).response=n,i}return bt(n,t),n}(ra);yt(),C(),pt(),Mt();var Fit=function(t){function n(n){var i;return(i=t.call(this,"bAi")||this).vz=n,i}return bt(n,t),n.prototype.fa=function(){return new Git(this.vz)},At(n,[{key:"lt",get:function(){return this.vz}}]),n}(am),Git=function(t){function n(n){var i;return(i=t.call(this,"pingerror")||this).error=n,i}return bt(n,t),n}(ra),Vit=function(t){function n(n,i){var r;(r=t.call(this)||this).xAi=n,r.Qo=i,r.NAi=NaN,r.LAi=void 0,r.CAi=!1,r.OAi=NaN,r.$O=new zo,r.kAi=void 0;var e=Wt(r);return r.DAi=Ot((function(){var t;return Rt(this,(function(n){switch(n.label){case 0:return t=e.Qo.Q_(),e.OAi=t,e.CAi||Bn(e.LAi)||A(e.NAi)?[2]:e.NAi+e.LAi<=t?(e.CAi=!0,[4,e.IAi()]):[3,2];case 1:n.sent(),e.CAi=!1,n.label=2;case 2:return[2]}}))})),r.EAi=function(){if(r.Qo.Q_()!==r.NAi){r.CAi&&r.jAi(),r.OAi=r.Qo.Q_();var t=r.OAi-(r.NAi||0);A(t)?Xo(r.IAi(Oit.WU,0)):Xo(r.IAi(Oit.WU,t))}},r}bt(n,t);var i=n.prototype;return i.Cn=function(){var t=this;return Ot((function(){var n,i;return Rt(this,(function(r){switch(r.label){case 0:return(n=t.TAi)?(i=xit(n.source.assetType,n.source.ping),0!==i?(t.NAi=t.Qo.Dg().start(0),[4,t.IAi(Oit.Ebt)]):[2]):[2];case 1:return r.sent(),t.Qo.yn("timeupdate",t.DAi),t.Qo.yn("seeking",t.EAi),[2]}}))}))()},i.IAi=function(t,n){var i=this;return Ot((function(){var r,e,u,s,o,a,c;return Rt(this,(function(h){switch(h.label){case 0:if(r=i.TAi.preplayResponse,e={},A(i.NAi))return[2];if(Rn(i.kAi)&&Qi(i.kAi,i.Qo.Q_()-i.NAi))return[2];void 0!==n&&(e.seekTime=n),void 0!==t&&(e.event=t),u=i.Qo.Q_()-i.NAi,t===Oit.Ebt?u=0:t!==Oit.WU&&i.LAi&&(u=w.min(u,i.LAi)),i.kAi=u,h.label=1;case 1:return h.trys.push([1,3,4,5]),[4,i.xAi.Tbt($u({zonePrefix:r.prefix,sessionId:r.sid,currentTime:u,hasFreeWheelVideoViews:null==(o=i.TAi)?void 0:o.source.ping.freeWheelVideoViews},e),i.$O.f_)];case 2:return a=h.sent(),i.Co(new Qit(a)),i.LAi=-1!==a.next_time?a.next_time:void 0,s=a.error,[3,5];case 3:return Bo(c=h.sent())||(s=c.message),[3,5];case 4:return s&&i.Co(new Fit(s)),[7];case 5:return[2]}}))}))()},i.tr=function(){this.LAi=void 0,this.TAi=void 0,this.NAi=NaN,this.CAi=!1,this.OAi=NaN,this.kAi=void 0,this.Qo.fn("seeking",this.EAi),this.Qo.fn("timeupdate",this.DAi),this.jAi()},i.jAi=function(){this.$O.g_(),this.$O=new zo},i.gn=function(){this.tr()},At(n,[{key:"AAi",set:function(t){this.TAi=t}},{key:"SAi",get:function(){return this.NAi}}]),n}($o);yt(),C(),zt(),Ut();var Wit=function(){function t(t,n){this.RAi=t,this.oZ=n}return t.prototype.lgi=function(t){var n=this;return Ot((function(){var i,r,e,u,s,o;return Rt(this,(function(a){switch(a.label){case 0:i=[],r=0,e=t.sources,a.label=1;case 1:return r<e.length?function(t){return"verizon-media"===t.integration}(u=e[r])?[3,2]:(i.push(u),[3,5]):[3,6];case 2:return a.trys.push([2,4,,5]),[4,n.RAi.Tbt(u)];case 3:return s=a.sent(),o=function(t,n,i){var r,e=t.preplayResponse;t.source.contentProtected&&e.drm&&(r={integration:"uplynk"},e.drm.fairplayCertificateURL&&(r.fairplay={certificateURL:e.drm.fairplayCertificateURL}),e.drm.widevineLicenseURL&&(r.widevine={licenseAcquisitionURL:e.drm.widevineLicenseURL}),e.drm.playreadyLicenseURL&&(r.playready={licenseAcquisitionURL:e.drm.playreadyLicenseURL}));var u=IN({src:e.playURL,contentProtection:r,useNativePlayback:t.source.useNativePlayback,hls:t.source.hls,dash:t.source.dash,seamlessSwitchStrategy:t.source.seamlessSwitchStrategy},n,i);return u.integrationData=t,u}({source:u,preplayResponse:s},t,n.oZ),o.src&&(o.src=oy(o.src,u.playbackUrlParameters)),i.push(o),[3,5];case 4:return a.sent(),[3,5];case 5:return r++,[3,1];case 6:if(0!==t.sources.length&&0===i.length)throw new v("Fatal: unable to play VerizonMediaSources.");return[2,$u({},t,{sources:i})]}}))}))()},t}();yt(),C(),pt(),yt(),C(),pt(),Mt(),yt(),C(),Mt();var Xit=function(t){function n(n,i){var r;return(r=t.call(this,"Bit")||this).Xl=n,r.GN=i,r}return bt(n,t),n.prototype.fa=function(){return new Zit(this.Xl.va)},n}(am),Zit=function(t){function n(n){var i;return(i=t.call(this,"adbreakbegin")||this).adBreak=n,i}return bt(n,t),n}(ra);yt(),C(),Mt();var Hit=function(t){function n(n,i){var r;return(r=t.call(this,"zit")||this).Xl=n,r.GN=i,r}return bt(n,t),n.prototype.fa=function(){return new Kit(this.Xl.va)},n}(am),Kit=function(t){function n(n){var i;return(i=t.call(this,"adbreakend")||this).adBreak=n,i}return bt(n,t),n}(ra);yt(),C(),Mt();var qit=function(t){function n(n){var i;return(i=t.call(this,"qpi")||this).Xl=n,i}return bt(n,t),n.prototype.fa=function(){return new Jit(this.Xl.va)},n}(am),Jit=function(t){function n(n){var i;return(i=t.call(this,"adbreakskip")||this).adBreak=n,i}return bt(n,t),n}(ra);yt(),C(),yt(),C(),Mt();var $it=function(t){function n(n){var i;return(i=t.call(this,"h4t")||this).Xl=n,i}return bt(n,t),n.prototype.fa=function(){return new trt(this.Xl.va)},n}(am),trt=function(t){function n(n){var i;return(i=t.call(this,"updateadbreak")||this).adBreak=n,i}return bt(n,t),n}(ra),nrt=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).xS=n,s.jx=i,s.Ic=r,s.Hgi=e,s.ho=!1,s.BAi=!1,s.OZt=u,s}bt(n,t);var i=n.prototype;return i.PAi=function(t){this.jx=t-this.MS;for(var n=0,i=this.Oc.Gu;n<i.length;n++){var r=i[n];r.MS>t&&this.Oc.rS(r)}this.Co(new $it(this))},i.Zut=function(t){return t>=this.MS&&(Bn(this.ct)||t<=this.MS+this.ct)},i.UAi=function(t){return-1!==this.CZt&&(!!Rn(this.bS)&&t-this.MS>=this.CZt)},i.Ny=function(){this.Ic.Gu.forEach((function(t){return t.Ny()})),this.Co(new qit(this))},i.QAi=function(t){var n=Rn(this.bS)&&t>=this.bS,i=this.MS<=t&&!n&&!this.ro,r=this.ro&&this.bS&&t>=this.bS;i&&(this.ho=!0,this.Co(new Xit(this,this.MS))),this.Ic.Gu.forEach((function(n){return n.QAi(t)})),r&&(this.BAi=!0,this.ho=!1,this.Co(new Hit(this,this.bS)))},At(n,[{key:"va",get:function(){return this.Xa||(this.Xa=function(t){var n,i={get startTime(){return t.MS},get endTime(){return t.bS},get duration(){return t.ct},get ads(){return t.Oc.va},get skipOffset(){return t.CZt},set skipOffset(n){t.CZt=n},addEventListener:function(t,i){n.yn(t,i)},removeEventListener:function(t,i){n.fn(t,i)}};return n=new uL(t,i),i}(this)),this.Xa}},{key:"MS",get:function(){return this.xS}},{key:"bS",get:function(){return this.jx?this.xS+this.jx:void 0}},{key:"ct",get:function(){return this.jx}},{key:"Sat",get:function(){var t=this.bS;return Rn(t)?new HD([this.MS,t]):HD.oU()}},{key:"Oc",get:function(){return this.Ic}},{key:"zAi",get:function(){return this.BAi}},{key:"ro",get:function(){return this.ho}},{key:"CZt",get:function(){return this.Hgi?-1:this.OZt},set:function(t){this.Hgi||(this.OZt=t)}}]),n}(na);yt(),C(),pt(),Mt(),yt(),C(),Mt();var irt=function(t){function n(n,i){var r;return(r=t.call(this,"Uit")||this).Rit=n,r.GN=i,r}return bt(n,t),n.prototype.fa=function(){return new rrt(this.Rit.va)},n}(am),rrt=function(t){function n(n){var i;return(i=t.call(this,"adbegin")||this).ad=n,i}return bt(n,t),n}(ra);yt(),C(),Mt();var ert=function(t){function n(n,i){var r;return(r=t.call(this,"Qit")||this).Rit=n,r.GN=i,r}return bt(n,t),n.prototype.fa=function(){return new urt(this.Rit.va)},n}(am),urt=function(t){function n(n){var i;return(i=t.call(this,"adend")||this).ad=n,i}return bt(n,t),n}(ra);yt(),C(),Mt(),yt(),C(),Mt();var srt=function(t){function n(n){var i;return(i=t.call(this,"FAi")||this).Rit=n,i}return bt(n,t),n.prototype.fa=function(){return new ort(this.Rit.va)},n}(am),ort=function(t){function n(n){var i;return(i=t.call(this,"removead")||this).ad=n,i}return bt(n,t),n}(ra),art=function(t){function n(){return t.call(this)}bt(n,t);var i=n.prototype;return i.eii=function(t){},i.oii=function(t){this.Co(new srt(t))},n}(y3);yt(),C(),Mt();var crt=function(t){function n(n){var i;return(i=t.call(this,"u4t")||this).Rit=n,i}return bt(n,t),n.prototype.fa=function(){return new hrt(this.Rit.va)},n}(am),hrt=function(t){function n(n){var i;return(i=t.call(this,"adfirstquartile")||this).ad=n,i}return bt(n,t),n}(ra),frt=function(t){function n(n){var i;return(i=t.call(this,"c4t")||this).Rit=n,i}return bt(n,t),n.prototype.fa=function(){return new vrt(this.Rit.va)},n}(am),vrt=function(t){function n(n){var i;return(i=t.call(this,"admidpoint")||this).ad=n,i}return bt(n,t),n}(ra),lrt=function(t){function n(n){var i;return(i=t.call(this,"l4t")||this).Rit=n,i}return bt(n,t),n.prototype.fa=function(){return new drt(this.Rit.va)},n}(am),drt=function(t){function n(n){var i;return(i=t.call(this,"adthirdquartile")||this).ad=n,i}return bt(n,t),n}(ra),grt=function(t){function n(n){var i;return(i=t.call(this,"YAi")||this).Rit=n,i}return bt(n,t),n.prototype.fa=function(){return new wrt(this.Rit.va)},n}(am),wrt=function(t){function n(n){var i;return(i=t.call(this,"adcomplete")||this).ad=n,i}return bt(n,t),n}(ra);yt(),C();var yrt=function(t){function n(n,i,r,e,u,s,o,a,c,h,f,v){var l;return void 0===c&&(c=[]),void 0===h&&(h={}),void 0===f&&(f={}),(l=t.call(this)||this).xS=n,l.jx=i,l.HXt=r,l.ZAi=e,l.TG=u,l.qx=s,l.Kx=o,l.qAi=c,l.KAi=h,l.hd=f,l.MZt=v,l.PXt=new art,l.ho=!1,l.JAi=!1,l.$Ai=!1,l.tyi=!1,l.iyi=!1,l.eyi=function(){return l.hAi(l.xS)},l.syi=function(){return l.hAi(l.bS)},l.PXt.sii(a),l.yn("Uit",l.eyi),l.yn("Qit",l.syi),l}bt(n,t);var i=n.prototype;return i.QAi=function(t){var n=this.MS<=t&&t<this.bS,i=n&&!this.ro,r=!n&&this.ro;i&&(this.JAi=!1,this.$Ai=!1,this.tyi=!1,this.iyi=!1,this.ho=!0,this.Co(new irt(this,this.MS))),r&&(this.ho=!1,this.Co(new ert(this,this.bS)))},i.hAi=function(t){var n=(t-this.MS)/this.ct;!this.JAi&&n>=.25&&(this.JAi=!0,this.Co(new crt(this))),!this.$Ai&&n>=.5&&(this.$Ai=!0,this.Co(new frt(this))),!this.tyi&&n>=.75&&(this.tyi=!0,this.Co(new lrt(this))),!this.iyi&&n>=.9999&&(this.iyi=!0,this.Co(new grt(this)))},i.Ny=function(){this.JAi=!0,this.$Ai=!0,this.tyi=!0,this.iyi=!0},i.gn=function(){this.fn("Uit",this.eyi),this.fn("Qit",this.syi)},n.GAi=function(t,i){return new n(t,i.duration,i.apiFramework||"",i.creative,i.mimeType,i.width,i.height,i.companions.map((function(i){return n.GAi(t,i)})),i.extensions,i.fw_parameters,i.events,void 0)},n.VAi=function(t,i){return new n(t,i.duration,i.apiFramework||"",i.creative,i.mimeType,i.width,i.height,i.companions.map((function(i){return n.VAi(t,i)})),i.extensions,i.fw_parameters,void 0,i.ad_id)},At(n,[{key:"va",get:function(){return this.Xa||(this.Xa=function(t){var n,i={get apiFramework(){return t.WXt},get companions(){return t.RXt.va},get creative(){return t.WAi},get duration(){return t.ct},get endTime(){return t.bS},get events(){return t.uG},get extensions(){return t.HAi},get freeWheelParameters(){return t.XAi},get height(){return t.Ti},get mimeType(){return t.aG},get startTime(){return t.MS},get width(){return t.ji},addEventListener:function(t,i){n.yn(t,i)},removeEventListener:function(t,i){n.fn(t,i)}};return n=new uL(t,i),i}(this)),this.Xa}},{key:"MS",get:function(){return this.xS}},{key:"bS",get:function(){return this.xS+this.jx}},{key:"ct",get:function(){return this.jx}},{key:"WXt",get:function(){return this.HXt}},{key:"WAi",get:function(){return this.ZAi}},{key:"aG",get:function(){return this.TG}},{key:"ji",get:function(){return this.qx}},{key:"Ti",get:function(){return this.Kx}},{key:"uG",get:function(){return this.hd}},{key:"RXt",get:function(){return this.PXt}},{key:"HAi",get:function(){return this.qAi}},{key:"XAi",get:function(){return this.KAi}},{key:"ro",get:function(){return this.ho}},{key:"wAi",get:function(){var t;return null!=(t=this.hd.clickthroughs)?t:[]}}]),n}(na);yt(),C(),Mt(),yt(),C(),Mt();var mrt=function(t){function n(n){var i;return(i=t.call(this,"jit")||this).Xl=n,i}return bt(n,t),n.prototype.fa=function(){return new Art(this.Xl.va)},n}(am),Art=function(t){function n(n){var i;return(i=t.call(this,"addadbreak")||this).adBreak=n,i}return bt(n,t),n}(ra);yt(),C(),Mt();var prt,_rt,krt,brt=function(t){function n(n){var i;return(i=t.call(this,"Oit")||this).Xl=n,i}return bt(n,t),n.prototype.fa=function(){return new Mrt(this.Xl.va)},n}(am),Mrt=function(t){function n(n){var i;return(i=t.call(this,"removeadbreak")||this).adBreak=n,i}return bt(n,t),n}(ra),Trt=function(t){function n(){return t.call(this)}bt(n,t);var i=n.prototype;return i.eii=function(t){this.Co(new mrt(t))},i.oii=function(t){this.Co(new brt(t))},n}(y3),Nrt=function(){function t(t,n,i,r){var e=this;this.hyi=[],this.lyi=function(t){t.lD.ads&&e.nAi(t.lD.ads),t.lD.currentBreakEnd&&e.ayi(t.lD.currentBreakEnd)},this.cyi=function(t){if(0!==e.hyi.length&&0!==e.ILt.Dg().length)for(var n=e.ILt.Dg().end(e.ILt.Dg().length-1),i=0,r=e.hyi.slice();i<r.length;i++){var u=r[i];Rn(u.NXt.ct)?go(e.hyi,u):u.sDt<n&&(u.NXt.PAi(u.sDt),go(e.hyi,u))}},this.ILt=t,this.Gpi=n,this.D$t=new Trt,this.oyi=i,this.ryi=r,t.yn("timeupdate",this.cyi),this.Gpi.yn("MAi",this.lyi)}var n=t.prototype;return n.aAi=function(t){if(0!==t.length)for(var n=HD.xn(t),i=0,r=this.D$t.Gu.slice();i<r.length;i++){var e=r[i];Rn(e.bS)&&n.Cn(0)>e.bS&&this.D$t.rS(e)}},n.nAi=function(t){for(var n=!function(t){return Rn(t.breakOffsets)}(t),i=n?this.Gpi.SAi:0,r=0,e=t.breaks;r<e.length;r++){var u=e[r];if(0!==u.ads.length){for(var s=u.timeOffset+i,o=new art,a=0,c=0,h=u.ads;c<h.length;c++){var f=h[c],v=n?yrt.VAi(s,f):yrt.GAi(s,f);o.nS(v),s+=v.ct,a+=v.ct}var l=u.timeOffset+i,d=n?void 0:u.duration,g=new nrt(l,d,o,n,this.oyi);n&&this.hyi.push({NXt:g,sDt:l+a}),this.D$t.nS(g)}}},n.ayi=function(t){var n=this.nyi;n&&n.PAi(t+this.Gpi.SAi)},n.oAi=function(t){this.uyi=t,this.D$t.Gu.forEach((function(n){return n.QAi(t)}))},n.Ny=function(){var t=this.uyi,n=this.Iit;t&&n&&n.UAi(t)&&n.Ny()},n.lAi=function(t,n){for(var i=[],r=0,e=this.s$t.Gu;r<e.length;r++){var u=e[r];!u.zAi&&u.MS>=t&&u.MS<n&&i.push(u)}return i},n.gn=function(){this.ILt.fn("timeupdate",this.cyi),this.Gpi.fn("MAi",this.lyi)},n.tr=function(){for(var t=0,n=this.s$t.Gu;t<n.length;t++){for(var i=n[t],r=0,e=i.Oc.Gu;r<e.length;r++){e[r].Vo()}i.Vo()}this.s$t.kL(),this.uyi=void 0,this.hyi=[]},At(t,[{key:"va",get:function(){return this.Xa||(this.Xa=function(t){return{get adBreaks(){return t.s$t.va},get currentAdBreak(){if(t.Iit)return t.Iit.va},get currentAds(){return t.Iit?t.Iit.Oc.va:(new art).va},skip:function(){t.Ny()}}}(this)),this.Xa}},{key:"s$t",get:function(){return this.D$t}},{key:"Iit",get:function(){return co(this.D$t.Gu,(function(t){return t.ro}))}},{key:"Sit",get:function(){return this.Iit?this.Iit.Oc.Gu.filter((function(t){return t.ro})):[]}},{key:"nyi",get:function(){if(0!==this.s$t.U&&0!==this.ILt.Dg().length){var t=this.ILt.Dg().end(this.ILt.Dg().length-1);return co(this.s$t.Gu,(function(n){return n.Zut(t)}))}}},{key:"cAi",get:function(){return this.ryi}}]),t}();yt(),C(),zt(),Ut(),yt(),C(),yt(),C(),pt(),function(t){t[t.NOT_AVAILABLE=-1]="NOT_AVAILABLE",t[t.NOT_APPLICABLE=0]="NOT_APPLICABLE",t[t.G=1]="G",t[t.PG=2]="PG",t[t.PG_13=3]="PG_13",t[t.R=4]="R",t[t.NC_17=5]="NC_17",t[t.X=6]="X",t[t.NOT_RATED=7]="NOT_RATED"}(prt||(prt={})),function(t){t[t.NOT_AVAILABLE=-1]="NOT_AVAILABLE",t[t.NOT_APPLICABLE=0]="NOT_APPLICABLE",t[t.TV_Y=1]="TV_Y",t[t.TV_Y7=2]="TV_Y7",t[t.TV_G=3]="TV_G",t[t.TV_PG=4]="TV_PG",t[t.TV_14=5]="TV_14",t[t.TV_MA=6]="TV_MA",t[t.NOT_RATED=7]="NOT_RATED"}(_rt||(_rt={})),function(t){t[t.ADULT_LANGUAGE=1]="ADULT_LANGUAGE",t[t.SEXUAL_SITUATIONS=2]="SEXUAL_SITUATIONS",t[t.VIOLENCE=4]="VIOLENCE",t[t.DRUGS=8]="DRUGS"}(krt||(krt={}));var Drt=function(){function t(t,n,i,r,e,u,s,o,a,c,h,f,v,l,d,g,w,y,m,A,p,_,k,b,M){this.MS=t,this.bS=n,this.ct=i,this.fyi=r,this._yi=e,this.lt=u,this.gyi=s,this.wyi=o,this.vyi=a,this.myi=c,this.pyi=h,this.Ayi=f,this.kI=v,this.yyi=l,this.Myi=d,this.byi=g,this.Tyi=w,this.xM=y,this.Syi=m,this.Nyi=A,this.Iyi=p,this.Dyi=_,this.Eyi=k,this.kyi=b,this.Lyi=M}return t.dyi=function(n,i,r){var e=new Ga(n.rating_flags);return new t(i,r,n.duration,Boolean(n.audio_only),n.boundary_details,Boolean(n.error),n.tv_rating,n.max_slice,n.thumb_prefix,n.slice_dur,n.movie_rating,n.owner,n.meta,n.rates,n.thumbs,n.poster_url,n.default_poster_url,n.desc,e.ey(1),e.ey(2),e.ey(4),e.ey(8),n.external_id,Boolean(n.is_ad),n.asset)},At(t,[{key:"va",get:function(){return this.Xa||(this.Xa=function(t){return{startTime:t.MS,endTime:t.bS,duration:t.ct,audioOnly:t.fyi,boundaryDetails:t._yi,error:t.lt,tvRating:t.gyi,maxSlice:t.wyi,thumbPrefix:t.vyi,sliceDuration:t.myi,movieRating:t.pyi,ownerId:t.Ayi,metadata:t.kI,rates:t.yyi,thumbnailResolutions:t.Myi,posterUrl:t.byi,defaultPosterUrl:t.Tyi,description:t.xM,hasAdultLanguage:t.Syi,hasSexualSituations:t.Nyi,hasViolence:t.Iyi,hasDrugSituations:t.Dyi,externalId:t.Eyi,isAd:t.kyi,assetId:t.Lyi}}(this)),this.Xa}}]),t}();var Irt=IM({duration:pM,offset:pM}),Ert=IM({c3:Irt}),Srt=IM({c7:Irt}),Lrt=IM({halftime:Irt}),jrt=LM(EM(_rt)),Crt=LM(EM(prt)),xrt=IM({width:CM(bM,pM),prefix:_M,bw:pM,bh:pM,height:CM(bM,pM)}),Ort=IM({audio_only:pM,boundary_details:CM(bM,OM(CM(Ert,Srt,Lrt))),error:pM,tv_rating:jrt,max_slice:pM,thumb_prefix:_M,slice_dur:pM,movie_rating:Crt,owner:_M,meta:MM,rates:OM(pM),thumbs:OM(xrt),poster_url:_M,duration:pM,default_poster_url:_M,desc:_M,rating_flags:pM,external_id:_M,is_ad:pM,asset:_M}),zrt=function(){function t(t){this.aE=t}var n=t.prototype;return n.Tbt=function(t,n,i,r){var e=this;return Ot((function(){var u,s;return Rt(this,(function(o){switch(o.label){case 0:return u=function(t,n,i){if(Tit.uP(n))return[Rrt(t,n,i)];if(OM(Tit).uP(n))return n.map((function(n){return Rrt(t,n,i)}));if(Nit.uP(n)){return(Pn(n.externalId)?n.externalId:[n.externalId]).map((function(r){return Rrt(t,"ext/"+n.userId+"/"+r,i)}))}throw new l("Invalid asset id")}(t,n,r),s=u.map((function(t){return MD((function(){return e.yAi(t)}),i)})),[4,q.all(s)];case 1:return[2,o.sent().filter(Rn)]}}))}))()},n.yAi=function(t){var n=this;return Ot((function(){var i;return Rt(this,(function(r){switch(r.label){case 0:return[4,n.aE.uD({ZD:Jw.GET,zu:t,qD:pl.ND})];case 1:return[4,r.sent().ly()];case 2:return i=r.sent(),Ort.uP(i)||Ort.lP(i,"AssetInfoResponse"),[2,i]}}))}))()},t}();function Rrt(t,n,i){return i?t+"/player/assetinfo/"+n+".json?pbs="+i:t+"/player/assetinfo/"+n+".json"}yt(),C(),Mt(),yt(),C(),Mt();var Brt=function(t){function n(n){var i;return(i=t.call(this,"xyi")||this).sd=n,i}return bt(n,t),n.prototype.fa=function(){return new Prt(this.sd.va)},n}(am),Prt=function(t){function n(n){var i;return(i=t.call(this,"removeasset")||this).asset=n,i}return bt(n,t),n}(ra);yt(),C(),Mt();var Urt=function(t){function n(n){var i;return(i=t.call(this,"Cyi")||this).sd=n,i}return bt(n,t),n.prototype.fa=function(){return new Qrt(this.sd.va)},n}(am),Qrt=function(t){function n(n){var i;return(i=t.call(this,"addasset")||this).asset=n,i}return bt(n,t),n}(ra),Yrt=function(t){function n(){return t.call(this)}bt(n,t);var i=n.prototype;return i.nAi=function(t,n){for(var i,r=0,e=0;e<t.length;e++){var u=t[e];i=r+u.duration;for(var s=0;s<n.length;s++){var o=n[s];r<=o.MS&&o.MS<i&&(i+=o.ct||0)}this.nS(Drt.dyi(u,r,i)),r=i}},i.eii=function(t){this.Co(new Urt(t))},i.oii=function(t){this.Co(new Brt(t))},n}(y3);yt(),C(),pt(),Mt(),yt(),C(),Mt();var Frt=function(t){function n(n){var i;return(i=t.call(this,"Oyi")||this).lD=n,i}return bt(n,t),n.prototype.fa=function(){return new Grt(this.lD)},n}(am),Grt=function(t){function n(n){var i;return(i=t.call(this,"preplayresponse")||this).response=n,i}return bt(n,t),n}(ra);yt(),C(),Mt();var Vrt,Wrt=function(t){function n(n){var i;return(i=t.call(this,"jyi")||this).lD=n,i}return bt(n,t),n.prototype.fa=function(){return new Xrt(this.lD)},n}(am),Xrt=function(t){function n(n){var i;return(i=t.call(this,"assetinforesponse")||this).response=n,i}return bt(n,t),n}(ra),Zrt=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Upi=n,e.Qpi=i,e.Gpi=r,r.yn("MAi",e.Ds),r.yn("bAi",e.Ds),e}bt(n,t);var i=n.prototype;return i.pAi=function(t){t&&this.Co(new Frt(bm(t)))},i.sAi=function(t){var n=this;t.forEach((function(t){return n.Co(new Wrt(t))}))},i.fa=function(){var t,n=this,i={get ads(){return n.Upi.va},get assets(){return n.Qpi.va},addEventListener:function(n,i){t.yn(n,i)},removeEventListener:function(n,i){t.fn(n,i)}};return t=new uL(n,i),i},At(n,[{key:"va",get:function(){return this.Xa||(this.Xa=this.fa()),this.Xa}}]),n}(na),Hrt=function(){function t(){}return t.prototype.Ryi=function(t,n){var i=new Iit(t.Hj),r=new Uit(t.Hj),e=function(t){if(t.verizonMedia&&Rn(t.verizonMedia.defaultSkipOffset)){var n=t.verizonMedia.defaultSkipOffset;return Xn(n)?n:-1}return-1}(n),u=function(t){var n=t.verizonMedia?t.verizonMedia.onSeekOverAd:void 0;return function(t){if(!t)return"play-none";switch(t.toLowerCase()){case"play-all":return"play-all";case"play-none":default:return"play-none";case"play-last":return"play-last"}}(n)}(n),s=new Vit(r,t),o=new Wit(i,n),a=new Nrt(t,s,e,u),c=new zrt(t.Hj),h=new Yrt,f=new Zrt(a,h,s);return new dit(t,s,o,a,f,c,h)},t}();PT((function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Pyi=(new Hrt).Ryi(Wt(r),i),r}bt(n,t);var i=n.prototype;return i.Ypi=function(n){t.prototype.ga.call(this,n)},i.Vpi=function(n,i){return t.prototype.iet.call(this,n,i)},i._Ai=function(n){t.prototype.F_.call(this,n)},i.W_=function(){var n;return null!=(n=this.Pyi.lt)?n:t.prototype.W_.call(this)},i.X_=function(){var n;return null!=(n=this.Pyi.H_)?n:t.prototype.X_.call(this)},i.F_=function(t,n){this.Pyi.F_(t)},i.ga=function(t){this.Pyi.ga(t)},i.iet=function(t,n){return this.Pyi.iet(t,n)},i.fa=function(){var n=this.Pyi.va;return km(t.prototype.fa.call(this),{get verizonMedia(){return n}})},i.gn=function(){this.Pyi.gn(),t.prototype.gn.call(this)},n}(t)}),OT._it),yt(),C(),yt(),C(),zt(),Mt(),Ut(),yt(),C(),zt(),pt(),Ut(),yt(),C(),function(t){t.CREATIVE_VIEW="creativeView",t.START="start",t.FIRST_QUARTILE="firstQuartile",t.MID_POINT="midpoint",t.THIRD_QUARTILE="thirdQuartile",t.COMPLETE="complete",t.MUTE="mute",t.UNMUTE="unmute",t.PAUSE="pause",t.REWIND="rewind",t.RESUME="resume",t.FULL_SCREEN="fullscreen",t.EXIT_FULL_SCREEN="exitFullscreen",t.EXPAND="expand",t.COLLAPSE="collapse",t.ACCEPT_INVITATION_LINEAR="acceptInvitationLinear",t.ACCEPT_INVITATION="acceptInvitation",t.CLOSE_LINEAR="closeLinear",t.CLOSE="close",t.SKIP="skip",t.SKIP_SHOWN="skipShown",t.PROGRESS="progress",t.ENGAGED_VIEW="engagedView",t.IMPRESSION="impression",t.ERROR="error"}(Vrt||(Vrt={})),yt(),C(),pt(),Mt();var Krt=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i)||this).tZt=e,u.xS=r,u}return bt(n,t),n.prototype.fa=function(){return V2(this)},At(n,[{key:"vKt",get:function(){return U1.T$t}},{key:"MS",get:function(){return this.xS}},{key:"wXt",get:function(){return this.tZt}}]),n}(G2);yt(),C(),pt(),Mt();var qrt=function(t){function n(n,i,r){var e;if((e=t.call(this,i)||this).j2t=n,e.R2t=n,r){var u=new Date(r);Xi(u)&&(e.zyi=u)}return e}return bt(n,t),At(n,[{key:"pPt",get:function(){return this.zyi}},{key:"vKt",get:function(){return U1.T$t}}]),n}(Y2),Jrt=function(){function t(t,n,i){var r=this;this.Jyi=-1/0,this.Qyi=void 0,this.Yyi=0,this.Wyi=[],this._mi=!1,this.jU=!1,this.Emi=-1,this.Xyi=void 0,this.Vyi=void 0,this.Kyi=0,this.Vm=function(){r.Gyi()},this.wWt=function(){r.hMi(Vrt.RESUME)},this.dOt=function(){r.eMi(),r.hMi(Vrt.PAUSE)},this.We=function(){r.eMi(),r.Emi=-1},this.Mh=function(){r.eMi()},this.od=function(){-1===r.Emi&&(r.Emi=r.Fyi()),r.sMi(),r.nMi(),r.Emi=r.Fyi()},this.w1t=function(){if(r._mi!==r.Qo.og){r._mi=r.Qo.og;var t=r._mi?Vrt.MUTE:Vrt.UNMUTE;r.hMi(t)}},this.Byi=function(){if(r.jU!==r.Qo.cs()){r.jU=r.Qo.cs();var t=r.jU?Vrt.FULL_SCREEN:Vrt.EXIT_FULL_SCREEN;r.hMi(t)}},this.M3=function(t){Bo(t)||(r.hMi(Vrt.ERROR),Xo(r.qyi()))},this.rMi=[Vrt.START,Vrt.FIRST_QUARTILE,Vrt.MID_POINT,Vrt.THIRD_QUARTILE,Vrt.COMPLETE,Vrt.IMPRESSION,Vrt.CREATIVE_VIEW],this.Qo=t,this.iMi=n,this.tMi=i,this.Gw()}var n=t.prototype;return n.Gw=function(){this.Qo.yn(gk.Sm,this.Vm),this.Qo.yn(Al.Sh,this.dOt),this.Qo.yn(Al.jh,this.wWt),this.Qo.yn(Al.im,this.We),this.Qo.yn(Al.Ov,this.Mh),this.Qo.yn(Al.fm,this.od),this.Qo.yn(Al._m,this.w1t),this.Qo.yn("presentationmodechange",this.Byi)},n.Fw=function(){this.Qo.fn(gk.Sm,this.Vm),this.Qo.fn(Al.Sh,this.dOt),this.Qo.fn(Al.jh,this.wWt),this.Qo.fn(Al.im,this.We),this.Qo.fn(Al.Ov,this.Mh),this.Qo.fn(Al.fm,this.od),this.Qo.fn(Al._m,this.w1t),this.Qo.fn("presentationmodechange",this.Byi)},n.Fyi=function(){return this.Qo.Q_()-this.Yyi},n.Gyi=function(){var t=this;if(!this.Vyi)if(this.Qo.Td()===1/0){var n=function(){var n;null==(n=t.Xyi)||n.h_(),t.Xyi=void 0,t.Vyi=void 0};this.Xyi=new zo,this.Vyi=this.Zyi(this.Xyi.f_).catch(this.M3).then(n,n)}else 0===this.Wyi.length&&(this.Vyi=this.Hyi())},n.qyi=function(){var t=this;return Ot((function(){var n,i;return Rt(this,(function(r){switch(r.label){case 0:n=w.min(1e3*w.pow(2,t.Kyi),3e4),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,Ko(n,null==(i=t.Xyi)?void 0:i.f_)];case 2:return r.sent(),t.Kyi++,[3,4];case 3:return Bo(r.sent())?(t.Kyi=0,[2]):[3,4];case 4:return t.Gyi(),[2]}}))}))()},n.Zyi=function(t){var n=this;return Ot((function(){var i;return Rt(this,(function(r){switch(r.label){case 0:return Po(t),n.Qo.fg?[3,5]:(i=an.m_()-n.Jyi)>1e4?[4,n.Hyi(t)]:[3,2];case 1:return r.sent(),n.Jyi=an.m_(),n.Kyi=0,[3,4];case 2:return[4,Ko(1e4-i,t)];case 3:r.sent(),r.label=4;case 4:return[3,0];case 5:return[2]}}))}))()},n.$yi=function(t){var n=t.pPt;if(n&&this.Qo.R_&&0===this.Yyi&&!this.tMi&&0!==w.floor(this.Qo.Dg().start(0))){var i=(this.Qo.R_.getTime()-n.getTime())/1e3,r=this.Qo.Q_()-t.cPt;this.Yyi=r-i}},n.Hyi=function(t){var n=this;return Ot((function(){var i,r,e,u,s,o,a,c,h,f;return Rt(this,(function(l){switch(l.label){case 0:return l.trys.push([0,3,,4]),[4,n.Qo.Hj.uD({zu:n.iMi})];case 1:return[4,l.sent().SR(t)];case 2:if(0===(i=l.sent()).avails.length)return 0!==n.Wyi.length&&(n.Wyi=[]),[2];if(i.avails.length===n.Wyi.length&&i.avails[0].startTimeInSeconds===n.Wyi[0].cPt)return n.$yi(n.Wyi[0]),[2];for(r=[],e=0,u=i.avails;e<u.length;e++){for(s=u[e],o=new qrt(s.durationInSeconds,s.startTimeInSeconds,s.availProgramDateTime),a=0,c=s.ads;a<c.length;a++)h=c[a],(f=new Krt(o,U2.xqt,h.startTimeInSeconds,h.trackingEvents)).W2t(h.adId,h.width,h.height,h.durationInSeconds,[],h.skipoffset),o.U2t(f);r.push(o),n.$yi(o)}return n.Wyi=to(r,(function(t,n){return t.cPt-n.cPt})),[3,4];case 3:throw Uo(l.sent()),new v("Failed to poll MediaTailor tracking events");case 4:return[2]}}))}))()},n.eMi=function(){var t;null==(t=this.Xyi)||t.g_(),this.Xyi=void 0,this.Vyi=void 0,this.Jyi=-1/0},n.sMi=function(){if(0!==this.Wyi.length){var t=this.Wyi[this.Wyi.length-1],n=this.Fyi();if(t.cPt+t.$Jt<this.Emi){var i;this.Qyi&&(null==(i=this.Qo.Oc)||i.Co(new VR(this.Qyi)),this.Qyi=void 0)}else{for(var r=0,e=this.Wyi;r<e.length;r++){var u=e[r],s=u.cPt;if(!(s+u.$Jt<this.Emi)&&(s<=n&&s+u.$Jt>this.Emi)){var o;if(this.Uyi===u)return;return this.Qyi=u,void(null==(o=this.Qo.Oc)||o.Co(new XR(this.Qyi)))}}var a;if(this.Qyi)null==(a=this.Qo.Oc)||a.Co(new VR(this.Qyi)),this.Qyi=void 0}}},n.nMi=function(){var t=this,n=this.Sit;if(0!==n.length){for(var i=[],r=0;r<n.length;r++){var e=n[r].wXt.filter((function(n){return mo(t.rMi,n.eventType)}));i=i.concat(e)}for(var u=0;u<i.length;u++){var s=i[u];this.oMi(s.startTimeInSeconds)&&(s.eventType===Vrt.COMPLETE&&this.hMi(Vrt.ENGAGED_VIEW),this.aMi(s))}}},n.uMi=function(t,n){return n.wXt.filter((function(n){return Us(n.eventType,t)}))[0]},n.hMi=function(t){var n=this.Sit;if(0!==n.length){var i=this.uMi(t,n[0]);i&&this.aMi(i)}},n.aMi=function(t){this.Tgi(t.eventType);for(var n=0,i=t.beaconUrls;n<i.length;n++){var r=i[n],e={ZD:Jw.GET,zu:r,HD:"",qD:pl.ND};0,Xo(this.cMi(e))}},n.Tgi=function(t){var n,i,r=this.Sit;switch(t){case Vrt.START:n=new HR(r[r.length-1],this.Qo.Q_());break;case Vrt.COMPLETE:n=new qR(r[0],this.Qo.Q_());break;case Vrt.FIRST_QUARTILE:n=new i4(r[0],this.Qo.Q_());break;case Vrt.MID_POINT:n=new e4(r[0],this.Qo.Q_());break;case Vrt.THIRD_QUARTILE:n=new s4(r[0],this.Qo.Q_())}void 0!==n&&(null==(i=this.Qo.Oc)||i.Co(n))},n.cMi=function(t){var n=this;return Ot((function(){return Rt(this,(function(i){switch(i.label){case 0:return[4,n.Qo.Hj.uD(t)];case 1:return i.sent().fD,[2]}}))}))()},n.oMi=function(t){var n=this.Fyi();return t>=this.Emi&&t<n},n.gn=function(){this.Fw(),this.eMi(),this.Emi=-1},At(t,[{key:"Uyi",get:function(){return this.Qyi}},{key:"Sit",get:function(){var t=this.Uyi;if(!t)return[];for(var n=[],i=this.Fyi(),r=0,e=t.Oc;r<e.length;r++){var u=e[r];i>=u.MS&&this.Emi<=u.MS+u.ct&&n.push(u)}return n}}]),t}();PT((function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).lMi=void 0,r.vz=void 0,r.mz=void 0,r}bt(n,t);var i=n.prototype;return i.ga=function(n){return this.lMi&&(this.lMi.gn(),this.lMi=void 0,this.hNt()),t.prototype.ga.call(this,n)},i.iet=function(n,i){var r=this,e=function(){return t.prototype.iet};return Ot((function(){var t,u;return Rt(this,(function(s){switch(s.label){case 0:if(!n||!function(t){return t.sources.some((function(t){return t.integration===PN.MEDIATAILOR}))}(n))return[2,e().call(r,n,i)];s.label=1;case 1:return s.trys.push([1,4,,5]),[4,r.dMi(n,i)];case 2:return t=s.sent(),[4,e().call(r,t,i)];case 3:return s.sent(),[3,5];case 4:return u=s.sent(),r.rB(new Kv(Xv.MANIFEST_LOAD_ERROR,u.message,u)),[3,5];case 5:return[2]}}))}))()},i.F_=function(n,i){var r;(null==(r=this.lMi)?void 0:r.Uyi)||t.prototype.F_.call(this,n,i)},i.W_=function(){var n;return null!=(n=this.vz)?n:t.prototype.W_.call(this)},i.X_=function(){var n;return null!=(n=this.mz)?n:t.prototype.X_.call(this)},i.rB=function(t){this.vz=Km(t),this.mz=t,this.Co(new gT(t))},i.hNt=function(){this.vz=void 0,this.mz=void 0},i.dMi=function(t,n){var i=this;return Ot((function(){var r,e,u,s,o,a,c,h;return Rt(this,(function(f){switch(f.label){case 0:r=[],e=0,u=t.sources,f.label=1;case 1:return e<u.length?iD(s=u[e])&&(o=s).src?[4,i.fMi(o,n)]:(r.push(s),[3,3]):[3,4];case 2:a=f.sent(),Po(n),c=$u({},o,{integration:void 0,src:a}),r.push(c),f.label=3;case 3:return e++,[3,1];case 4:return(h=bm(t)).sources=r,[2,h]}}))}))()},i.fMi=function(t,n){var i=this;return Ot((function(){var r,e,u,s,o,a,c,h,f;return Rt(this,(function(l){switch(l.label){case 0:if(r=t.src||"",!(e=r.match(/.+?(?=\/v1\/)/)))throw new v("Could not find MediaTailor session initialization url");return u=e[0],s=Rs(r,"?ads."),o=s?{zu:r,qD:pl.ND}:{zu:r,ZD:Jw.POST,HD:JSON.stringify({adParams:t.adParams}),qD:pl.ND},[4,MD((function(){return i._Mi(o,n)}),n)];case 1:a=l.sent();try{c=u+a.manifestUrl,s||(h=u+a.trackingUrl,f=ZN(c),i.lMi=new Jrt(i,h,f))}catch(t){throw new v("Something went wrong parsing the MediaTailor session initialization response")}return[2,c]}}))}))()},i._Mi=function(t,n){var i=this;return Ot((function(){return Rt(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,i.Hj.uD(t)];case 1:return[4,r.sent().SR(n)];case 2:return[2,r.sent()];case 3:throw Uo(r.sent()),new v("Failed to initialize MediaTailor session manifest");case 4:return[2]}}))}))()},i.gn=function(){this.lMi&&(this.lMi.gn(),this.lMi=void 0),this.hNt(),t.prototype.gn.call(this)},n}(t)}),OT.vit),yt(),C(),yt(),C(),yt(),C();var $rt=[];function tet(t){$rt.push(t)}var net=[];function iet(t){net.push(t)}yt(),C(),Xt(),pt(),Mt(),yt(),C(),Ht(),yt(),C(),yt(),C();var ret=void 0!==e?e:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},eet=void 0!==u?u:{createElement:function(){}};function uet(t,n){return n||(n=t.slice(0)),t.raw=n,t}var set=1;function oet(){return set++}var aet,cet=g.prototype.toString,het=function(t){return det(t)?g.keys(t):[]};function fet(t,n){het(t).forEach((function(i){return n(t[i],i)}))}function vet(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return g.assign?g.assign.apply(g,[t].concat(i)):(i.forEach((function(n){n&&fet(n,(function(n,i){t[i]=n}))})),t)}function det(t){return!!t&&"object"==typeof t}function get(t){return det(t)&&"[object Object]"===cet.call(t)&&t.constructor===g}var wet=function(t,n,i){void 0===i&&(i=!!gut&&gut<11),"log"!==t&&n.unshift(t.toUpperCase()+":"),aet.history.push(n),n.unshift("VIDEOJS:");var r=ret.console&&ret.console[t];r&&(i&&(n=n.map((function(t){if(det(t)||Array.isArray(t))try{return JSON.stringify(t)}catch(n){return String(t)}return String(t)})).join(" ")),r.apply?r[Array.isArray(n)?"apply":"call"](ret.console,n):r(n))};aet=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];wet("log",n)},aet.history=[],aet.error=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return wet("error",n)},aet.warn=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return wet("warn",n)};var yet=aet,met="undefined"!=typeof globalThis?globalThis:void 0!==e?e:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Aet(t){return t.replace(/\n\r?\s*/g,"")}var pet,_et=function(t){for(var n="",i=0;i<arguments.length;i++)n+=Aet(t[i])+(arguments[i+1]||"");return n};function ket(t){return"string"==typeof t&&/\S/.test(t)}function bet(t){if(/\s/.test(t))throw new v("class has illegal whitespace characters")}function Met(){return eet===ret.document&&void 0!==eet.createElement}function Tet(t){return det(t)&&1===t.nodeType}function Net(t){return function(n,i){if(!ket(n))return eet[t](null);ket(i)&&(i=eet.querySelector(i));var r=Tet(i)?i:eet;return r[t]&&r[t](n)}}function Det(t,n,i,r){void 0===t&&(t="div"),void 0===n&&(n={}),void 0===i&&(i={});var e=eet.createElement(t);return g.getOwnPropertyNames(n).forEach((function(t){var i=n[t];-1!==t.indexOf("aria-")||"role"===t||"type"===t?(yet.warn(_et(pet||(pet=uet(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."])),t,i)),e.setAttribute(t,i)):"textContent"===t?Iet(e,i):e[t]=i})),g.getOwnPropertyNames(i).forEach((function(t){e.setAttribute(t,i[t])})),r&&Zet(e,r),e}function Iet(t,n){return void 0===t.textContent?t.innerText=n:t.textContent=n,t}function Eet(t,n){n.firstChild?n.insertBefore(t,n.firstChild):n.appendChild(t)}var Let={},jet="vdata"+(new Date).getTime();function Cet(t){var n=t[jet];return n||(n=t[jet]=oet()),Let[n]||(Let[n]={}),Let[n]}function xet(t){var n=t[jet];return!!n&&!!g.getOwnPropertyNames(Let[n]).length}function Oet(t){var n=t[jet];if(n){delete Let[n];try{delete t[jet]}catch(n){t.removeAttribute?t.removeAttribute(jet):t[jet]=null}}}function zet(t,n){return bet(n),t.classList?t.classList.contains(n):function(t){return new RegExp("(^|\\s)"+t+"($|\\s)")}(n).test(t.className)}function Ret(t,n){return t.classList?t.classList.add(n):zet(t,n)||(t.className=(t.className+" "+n).trim()),t}function Bet(t,n){return t.classList?t.classList.remove(n):(bet(n),t.className=t.className.split(/\s+/).filter((function(t){return t!==n})).join(" ")),t}function Pet(t,n,i){var r=zet(t,n);if("function"==typeof i&&(i=i(t,n)),"boolean"!=typeof i&&(i=!r),i!==r)return i?Ret(t,n):Bet(t,n),t}function Uet(t,n){g.getOwnPropertyNames(n).forEach((function(i){var r=n[i];null==r||!1===r?t.removeAttribute(i):t.setAttribute(i,!0===r?"":r)}))}function Qet(t){var n={};if(t&&t.attributes&&t.attributes.length>0)for(var i=t.attributes,r=i.length-1;r>=0;r--){var e=i[r].name,u=i[r].value;"boolean"!=typeof t[e]&&-1===",autoplay,controls,playsinline,loop,muted,default,defaultMuted,".indexOf(","+e+",")||(u=null!==u),n[e]=u}return n}function Yet(t,n,i){t.setAttribute(n,i)}function Fet(t,n){t.removeAttribute(n)}function Get(t){var n;if(t.getBoundingClientRect&&t.parentNode&&(n=t.getBoundingClientRect()),!n)return{left:0,top:0};var i=eet.documentElement,r=eet.body,e=i.clientLeft||r.clientLeft||0,u=ret.pageXOffset||r.scrollLeft,s=n.left+u-e,o=i.clientTop||r.clientTop||0,a=ret.pageYOffset||r.scrollTop,c=n.top+a-o;return{left:w.round(s),top:w.round(c)}}function Vet(t,n){var i={},r=Get(t),e=t.offsetWidth,u=t.offsetHeight,s=r.top,o=r.left,a=n.pageY,c=n.pageX;return n.changedTouches&&(c=n.changedTouches[0].pageX,a=n.changedTouches[0].pageY),i.y=w.max(0,w.min(1,(s-a+u)/u)),i.x=w.max(0,w.min(1,(c-o)/e)),i}function Wet(t){return det(t)&&3===t.nodeType}function Xet(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function Zet(t,n){return function(t){return"function"==typeof t&&(t=t()),(Array.isArray(t)?t:[t]).map((function(t){return"function"==typeof t&&(t=t()),Tet(t)||Wet(t)?t:"string"==typeof t&&/\S/.test(t)?eet.createTextNode(t):void 0})).filter((function(t){return t}))}(n).forEach((function(n){return t.appendChild(n)})),t}function Het(t,n){return Zet(Xet(t),n)}var Ket=Net("querySelector"),qet=Net("querySelectorAll"),Jet=ret.navigator&&ret.navigator.userAgent||"",$et=/AppleWebKit\/([\d.]+)/i.exec(Jet),tut=$et?m($et.pop()):null,nut=/iPad/i.test(Jet),iut=/iPhone/i.test(Jet)&&!nut,rut=/iPod/i.test(Jet),eut=iut||nut||rut,uut=function(){var t=Jet.match(/OS (\d+)_/i);return t&&t[1]?t[1]:null}(),sut=/Android/i.test(Jet),out=function(){var t=Jet.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;var n=t[1]&&m(t[1]),i=t[2]&&m(t[2]);return n&&i?m(t[1]+"."+t[2]):n||null}(),aut=sut&&/webkit/i.test(Jet)&&out<2.3,cut=sut&&out<5&&tut<537,hut=/Firefox/i.test(Jet),fut=/Edge/i.test(Jet),vut=!fut&&/Chrome/i.test(Jet),lut=function(){var t=Jet.match(/Chrome\/(\d+)/);return t&&t[1]?m(t[1]):null}(),dut=/MSIE\s8\.0/.test(Jet),gut=function(){var t=/MSIE\s(\d+)\.\d/.exec(Jet),n=t&&m(t[1]);return!n&&/Trident\/7.0/i.test(Jet)&&/rv:11.0/.test(Jet)&&(n=11),n}(),wut=/Safari/i.test(Jet)&&!vut&&!sut&&!fut,yut=wut||eut,mut=Met()&&("ontouchstart"in ret||ret.DocumentTouch&&ret.document instanceof ret.DocumentTouch),Aut=Met()&&"backgroundSize"in ret.document.createElement("video").style,put=g.freeze({__proto__:null,IS_IPAD:nut,IS_IPHONE:iut,IS_IPOD:rut,IS_IOS:eut,IOS_VERSION:uut,IS_ANDROID:sut,ANDROID_VERSION:out,IS_OLD_ANDROID:aut,IS_NATIVE_ANDROID:cut,IS_FIREFOX:hut,IS_EDGE:fut,IS_CHROME:vut,CHROME_VERSION:lut,IS_IE8:dut,IE_VERSION:gut,IS_SAFARI:wut,IS_ANY_SAFARI:yut,TOUCH_ENABLED:mut,BACKGROUND_SIZE_SUPPORTED:Aut});function _ut(t,n){var i=Cet(t);0===i.handlers[n].length&&(delete i.handlers[n],t.removeEventListener?t.removeEventListener(n,i.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+n,i.dispatcher)),g.getOwnPropertyNames(i.handlers).length<=0&&(delete i.handlers,delete i.dispatcher,delete i.disabled),0===g.getOwnPropertyNames(i).length&&Oet(t)}function kut(t,n,i,r){i.forEach((function(i){t(n,i,r)}))}function but(t){function n(){return!0}function i(){return!1}if(!t||!t.isPropagationStopped||!t.isImmediatePropagationStopped){var r=t||ret.event;for(var e in t={},r)"layerX"!==e&&"layerY"!==e&&"keyLocation"!==e&&"webkitMovementX"!==e&&"webkitMovementY"!==e&&"path"!==e&&("returnValue"===e&&r.preventDefault||(t[e]=r[e]));if(t.target||(t.target=t.srcElement||eet),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){r.preventDefault&&r.preventDefault(),t.returnValue=!1,r.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){r.stopPropagation&&r.stopPropagation(),t.cancelBubble=!0,r.cancelBubble=!0,t.isPropagationStopped=n},t.isPropagationStopped=i,t.stopImmediatePropagation=function(){r.stopImmediatePropagation&&r.stopImmediatePropagation(),t.isImmediatePropagationStopped=n,t.stopPropagation()},t.isImmediatePropagationStopped=i,null!==t.clientX&&void 0!==t.clientX){var u=eet.documentElement,s=eet.body;t.pageX=t.clientX+(u&&u.scrollLeft||s&&s.scrollLeft||0)-(u&&u.clientLeft||s&&s.clientLeft||0),t.pageY=t.clientY+(u&&u.scrollTop||s&&s.scrollTop||0)-(u&&u.clientTop||s&&s.clientTop||0)}t.which=t.charCode||t.keyCode,null!==t.button&&void 0!==t.button&&(t.button=1&t.button?0:4&t.button?1:2&t.button?2:0)}return t}var Mut=!1;!function(){try{var t=g.defineProperty({},"passive",{get:function(){Mut=!0}});ret.addEventListener("test",null,t)}catch(t){}}();var Tut=["touchstart","touchmove"];function Nut(t,n,i){if(Array.isArray(n))return kut(Nut,t,n,i);var r=Cet(t);if(r.handlers||(r.handlers={}),r.handlers[n]||(r.handlers[n]=[]),i.guid||(i.guid=oet()),r.handlers[n].push(i),r.dispatcher||(r.disabled=!1,r.dispatcher=function(n,i){if(!r.disabled){n=but(n);var e=r.handlers[n.type];if(e)for(var u=e.slice(0),s=0,o=u.length;s<o&&!n.isImmediatePropagationStopped();s++)try{u[s].call(t,n,i)}catch(t){yet.error(t)}}}),1===r.handlers[n].length)if(t.addEventListener){var e=!1;Mut&&Tut.indexOf(n)>-1&&(e={passive:!0}),t.addEventListener(n,r.dispatcher,e)}else t.attachEvent&&t.attachEvent("on"+n,r.dispatcher)}function Dut(t,n,i){if(xet(t)){var r=Cet(t);if(r.handlers){if(Array.isArray(n))return kut(Dut,t,n,i);var e=function(n){r.handlers[n]=[],_ut(t,n)};if(n){var u=r.handlers[n];if(u)if(i){if(i.guid)for(var s=0;s<u.length;s++)u[s].guid===i.guid&&u.splice(s--,1);_ut(t,n)}else e(n)}else for(var o in r.handlers)e(o)}}}function Iut(t,n,i){var r=xet(t)?Cet(t):{},e=t.parentNode||t.ownerDocument;if("string"==typeof n&&(n={type:n,target:t}),n=but(n),r.dispatcher&&r.dispatcher.call(t,n,i),e&&!n.isPropagationStopped()&&!0===n.bubbles)Iut.call(null,e,n,i);else if(!e&&!n.defaultPrevented){var u=Cet(n.target);n.target[n.type]&&(u.disabled=!0,"function"==typeof n.target[n.type]&&n.target[n.type](),u.disabled=!1)}return!n.defaultPrevented}function Eut(t,n,i){if(Array.isArray(n))return kut(Eut,t,n,i);var r=function r(){Dut(t,n,r),i.apply(this,arguments)};r.guid=i.guid=i.guid||oet(),Nut(t,n,r)}var Sut,Lut=!1,jut=function(){if(Met()){var t=eet.getElementsByTagName("video"),n=eet.getElementsByTagName("audio"),i=[];if(t&&t.length>0)for(var r=0,e=t.length;r<e;r++)i.push(t[r]);if(n&&n.length>0)for(var u=0,s=n.length;u<s;u++)i.push(n[u]);if(i&&i.length>0)for(var o=0,a=i.length;o<a;o++){var c=i[o];if(!c||!c.getAttribute){Cut(1);break}void 0===c.player&&null!==c.getAttribute("data-setup")&&Sut(c)}else Lut||Cut(1)}};function Cut(t,n){n&&(Sut=n),ret.setTimeout(jut,t)}Met()&&"complete"===eet.readyState?Lut=!0:Eut(ret,"load",(function(){Lut=!0}));var xut=function(t){var n=eet.createElement("style");return n.className=t,n},Out=function(t,n){t.styleSheet?t.styleSheet.cssText=n:t.textContent=n},zut=function(t,n,i){n.guid||(n.guid=oet());var r=function(){return n.apply(t,arguments)};return r.guid=i?i+"_"+n.guid:n.guid,r};function Rut(t){return"string"!=typeof t?t:t.charAt(0).toUpperCase()+t.slice(1)}function But(){for(var t={},n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return i.forEach((function(n){n&&fet(n,(function(n,i){get(n)?(get(t[i])||(t[i]={}),t[i]=But(t[i],n)):t[i]=n}))})),t}var Put=function(){function t(t,n,i){if(!t&&this.play?this.t=t=this:this.t=t,this.h=But({},this.h),n=this.h=But(this.h,n),this.o=n.id||n.el&&n.el.id,!this.o){var r=t&&t.id&&t.id()||"no_player";this.o=r+"u"+oet()}this.l=n.name||null,n.el?this.v=n.el:!1!==n.createEl&&(this.v=this.createEl()),this.m=[],this.k={},this.C={},!1!==n.initChildren&&this.initChildren(),this.ready(i),!1!==n.reportTouchActivity&&this.enableTouchActivity()}var n=t.prototype;return n.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.m)for(var t=this.m.length-1;t>=0;t--)this.m[t].dispose&&this.m[t].dispose();this.m=null,this.k=null,this.C=null,this.off(),this.v.parentNode&&this.v.parentNode.removeChild(this.v),Oet(this.v),this.v=null},n.player=function(){return this.t},n.options=function(t){return yet.warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),t?(this.h=But(this.h,t),this.h):this.h},n.el=function(){return this.v},n.createEl=function(t,n,i){return Det(t,n,i)},n.localize=function(t){var n=this.t.language&&this.t.language(),i=this.t.languages&&this.t.languages();if(!n||!i)return t;var r=i[n];if(r&&r[t])return r[t];var e=i[n.split("-")[0]];return e&&e[t]?e[t]:t},n.contentEl=function(){return this.S||this.v},n.id=function(){return this.o},n.name=function(){return this.l},n.children=function(){return this.m},n.getChildById=function(t){return this.k[t]},n.getChild=function(t){if(t)return t=Rut(t),this.C[t]},n.addChild=function(n,i,r){var e,u;if(void 0===i&&(i={}),void 0===r&&(r=this.m.length),"string"==typeof n){u=Rut(n),i||(i={}),!0===i&&(yet.warn("Initializing a child component with `true` is deprecated.Children should be defined in an array when possible, but if necessary use an object instead of `true`."),i={});var s=i.componentClass||u;i.name=u;var o=t.getComponent(s);if(!o)throw new v("Component "+s+" does not exist");if("function"!=typeof o)return null;e=new o(this.t||this,i)}else e=n;if(this.m.splice(r,0,e),"function"==typeof e.id&&(this.k[e.id()]=e),(u=u||e.name&&Rut(e.name()))&&(this.C[u]=e),"function"==typeof e.el&&e.el()){var a=this.contentEl().children[r]||null;this.contentEl().insertBefore(e.el(),a)}return e},n.removeChild=function(t){if("string"==typeof t&&(t=this.getChild(t)),t&&this.m){for(var n=!1,i=this.m.length-1;i>=0;i--)if(this.m[i]===t){n=!0,this.m.splice(i,1);break}if(n){this.k[t.id()]=null,this.C[t.name()]=null;var r=t.el();r&&r.parentNode===this.contentEl()&&this.contentEl().removeChild(t.el())}}},n.initChildren=function(){var n=this,i=this.h.children;if(i){var r,e=this.h,u=t.getComponent("Tech");(r=Array.isArray(i)?i:g.keys(i)).concat(g.keys(this.h).filter((function(t){return!r.some((function(n){return"string"==typeof n?t===n:t===n.name}))}))).map((function(t){var r,e;return"string"==typeof t?e=i[r=t]||n.h[r]||{}:(r=t.name,e=t),{name:r,opts:e}})).filter((function(n){var i=t.getComponent(n.opts.componentClass||Rut(n.name));return i&&!u.isTech(i)})).forEach((function(t){var i=t.name,r=t.opts;if(void 0!==e[i]&&(r=e[i]),!1!==r){!0===r&&(r={}),r.playerOptions=n.h.playerOptions;var u=n.addChild(i,r);u&&(n[i]=u)}}))}},n.buildCSSClass=function(){return""},n.on=function(t,n,i){var r=this;if("string"==typeof t||Array.isArray(t))Nut(this.v,t,zut(this,n));else{var e=t,u=n,s=zut(this,i),o=function(){return r.off(e,u,s)};o.guid=s.guid,this.on("dispose",o);var a=function(){return r.off("dispose",o)};a.guid=s.guid,t.nodeName?(Nut(e,u,s),Nut(e,"dispose",a)):"function"==typeof t.on&&(e.on(u,s),e.on("dispose",a))}return this},n.off=function(t,n,i){if(!t||"string"==typeof t||Array.isArray(t))Dut(this.v,t,n);else{var r=t,e=n,u=zut(this,i);this.off("dispose",u),t.nodeName?(Dut(r,e,u),Dut(r,"dispose",u)):(r.off(e,u),r.off("dispose",u))}return this},n.one=function(t,n,i){var r=arguments,e=this;if("string"==typeof t||Array.isArray(t))Eut(this.v,t,zut(this,n));else{var u=t,s=n,o=zut(this,i),a=function t(){e.off(u,s,t),o.apply(null,r)};a.guid=o.guid,this.on(u,s,a)}return this},n.trigger=function(t,n){return Iut(this.v,t,n),this},n.ready=function(t,n){return void 0===n&&(n=!1),t&&(this.j?n?t.call(this):this.setTimeout(t,1):(this.T=this.T||[],this.T.push(t))),this},n.triggerReady=function(){this.j=!0,this.setTimeout((function(){var t=this.T;this.T=[],t&&t.length>0&&t.forEach((function(t){t.call(this)}),this),this.trigger("ready")}),1)},n.$=function(t,n){return Ket(t,n||this.contentEl())},n.$$=function(t,n){return qet(t,n||this.contentEl())},n.hasClass=function(t){return zet(this.v,t)},n.addClass=function(t){return Ret(this.v,t),this},n.removeClass=function(t){return Bet(this.v,t),this},n.toggleClass=function(t,n){return Pet(this.v,t,n),this},n.show=function(){return this.removeClass("vjs-hidden"),this},n.hide=function(){return this.addClass("vjs-hidden"),this},n.lockShowing=function(){return this.addClass("vjs-lock-showing"),this},n.unlockShowing=function(){return this.removeClass("vjs-lock-showing"),this},n.getAttribute=function(t){return function(t,n){return t.getAttribute(n)}(this.v,t)},n.setAttribute=function(t,n){return Yet(this.v,t,n),this},n.removeAttribute=function(t){return Fet(this.v,t),this},n.width=function(t,n){return this.dimension("width",t,n)},n.height=function(t,n){return this.dimension("height",t,n)},n.dimensions=function(t,n){return this.width(t,!0).height(n)},n.dimension=function(t,n,i){if(void 0!==n)return null!==n&&n==n||(n=0),-1!==(""+n).indexOf("%")||-1!==(""+n).indexOf("px")?this.v.style[t]=n:this.v.style[t]="auto"===n?"":n+"px",i||this.trigger("resize"),this;if(!this.v)return 0;var r=this.v.style[t],e=r.indexOf("px");return y(-1!==e?r.slice(0,e):this.v["offset"+Rut(t)],10)},n.currentDimension=function(t){var n=0;if("width"!==t&&"height"!==t)throw new v("currentDimension only accepts width or height value");if("function"==typeof ret.getComputedStyle){var i=ret.getComputedStyle(this.v);n=i.getPropertyValue(t)||i[t]}if(0===(n=m(n))){var r="offset"+Rut(t);n=this.v[r]}return n},n.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},n.currentWidth=function(){return this.currentDimension("width")},n.currentHeight=function(){return this.currentDimension("height")},n.focus=function(){this.v.focus()},n.blur=function(){this.v.blur()},n.emitTapEvents=function(){var t,n=0,i=null;this.on("touchstart",(function(r){1===r.touches.length&&(i={pageX:r.touches[0].pageX,pageY:r.touches[0].pageY},n=(new Date).getTime(),t=!0)})),this.on("touchmove",(function(n){if(n.touches.length>1)t=!1;else if(i){var r=n.touches[0].pageX-i.pageX,e=n.touches[0].pageY-i.pageY;w.sqrt(r*r+e*e)>10&&(t=!1)}}));var r=function(){t=!1};this.on("touchleave",r),this.on("touchcancel",r),this.on("touchend",(function(r){(i=null,!0===t)&&((new Date).getTime()-n<200&&(r.preventDefault(),this.trigger("tap")))}))},n.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var t,n=zut(this.player(),this.player().reportUserActivity);this.on("touchstart",(function(){n(),this.clearInterval(t),t=this.setInterval(n,250)}));var i=function(i){n(),this.clearInterval(t)};this.on("touchmove",n),this.on("touchend",i),this.on("touchcancel",i)}},n.setTimeout=function(t,n){t=zut(this,t);var i=ret.setTimeout(t,n),r=function(){this.clearTimeout(i)};return r.guid="vjs-timeout-"+i,this.on("dispose",r),i},n.clearTimeout=function(t){ret.clearTimeout(t);var n=function(){};return n.guid="vjs-timeout-"+t,this.off("dispose",n),t},n.setInterval=function(t,n){t=zut(this,t);var i=ret.setInterval(t,n),r=function(){this.clearInterval(i)};return r.guid="vjs-interval-"+i,this.on("dispose",r),i},n.clearInterval=function(t){ret.clearInterval(t);var n=function(){};return n.guid="vjs-interval-"+t,this.off("dispose",n),t},t.registerComponent=function(n,i){if(n){if(n=Rut(n),t.M||(t.M={}),"Player"===n&&t.M[n]){var r=t.M[n];if(r.players&&g.keys(r.players).length>0&&g.keys(r.players).map((function(t){return r.players[t]})).every(Boolean))throw new v("Can not register Player component after player has been created")}return t.M[n]=i,i}},t.getComponent=function(n){if(n)return n=Rut(n),t.M&&t.M[n]?t.M[n]:ret&&ret.videojs&&ret.videojs[n]?(yet.warn("The "+n+" component was added to the videojs object when it should be registered using videojs.registerComponent(name, component)"),ret.videojs[n]):void 0},t.extend=function(n){n=n||{},yet.warn("Component.extend({}) has been deprecated,  use videojs.extend(Component, {}) instead");var i=n.init||n.init||this.prototype.init||this.prototype.init||function(){},r=function(){i.apply(this,arguments)};for(var e in(r.prototype=g.create(this.prototype)).constructor=r,r.extend=t.extend,n)n.hasOwnProperty(e)&&(r.prototype[e]=n[e]);return r},t}();Put.registerComponent("Component",Put);var Uut=function(){};function Qut(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yut(t,n){return(Yut=g.setPrototypeOf?g.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t})(t,n)}function Fut(t,n){t.prototype=g.create(n.prototype),t.prototype.constructor=t,Yut(t,n)}function Gut(t,n,i,r){return void 0===r&&(yet.warn("DEPRECATED: Function '"+t+"' on 'TimeRanges' called without an index argument."),r=0),function(t,n,i){if(n<0||n>i)throw new v("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+n+") is greater than or equal to the maximum bound ("+i+").")}(t,r,i.length-1),i[r][n]}function Vut(t){return void 0===t||0===t.length?{length:0,start:function(){throw new v("This TimeRanges object is empty")},end:function(){throw new v("This TimeRanges object is empty")}}:{length:t.length,start:Gut.bind(null,"start",0,t),end:Gut.bind(null,"end",1,t)}}function Wut(t,n){return Array.isArray(t)?Vut(t):void 0===t||void 0===n?Vut():Vut([[t,n]])}function Xut(t,n){var i,r,e=0;if(!n)return 0;t&&t.length||(t=Wut(0,0));for(var u=0;u<t.length;u++)i=t.start(u),(r=t.end(u))>n&&(r=n),e+=r-i;return e/n}Uut.prototype.A={},Uut.prototype.on=function(t,n){var i=this.addEventListener;this.addEventListener=function(){},Nut(this,t,n),this.addEventListener=i},Uut.prototype.addEventListener=Uut.prototype.on,Uut.prototype.off=function(t,n){Dut(this,t,n)},Uut.prototype.removeEventListener=Uut.prototype.off,Uut.prototype.one=function(t,n){var i=this.addEventListener;this.addEventListener=function(){},Eut(this,t,n),this.addEventListener=i},Uut.prototype.trigger=function(t){var n=t.type||t;"string"==typeof t&&(t={type:n}),t=but(t),this.A[n]&&this["on"+n]&&this["on"+n](t),Iut(this,t)},Uut.prototype.dispatchEvent=Uut.prototype.trigger;var Zut,Hut,Kut,qut,Jut={prefixed:!0},$ut=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],tst=$ut[0];for(Hut=0;Hut<$ut.length;Hut++)if($ut[Hut][1]in eet){Zut=$ut[Hut];break}if(Zut){for(Kut=0;Kut<Zut.length;Kut++)Jut[tst[Kut]]=Zut[Kut];Jut.prefixed=Zut[0]!==tst[0]}function nst(t){if(t instanceof nst)return t;"number"==typeof t?this.code=t:"string"==typeof t?this.message=t:det(t)&&("number"==typeof t.code&&(this.code=t.code),vet(this,t)),this.message||(this.message=nst.defaultMessages[this.code]||"")}for(nst.prototype.code=0,nst.prototype.message="",nst.prototype.status=null,nst.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],nst.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."},qut=0;qut<nst.errorTypes.length;qut++)nst[nst.errorTypes[qut]]=qut,nst.prototype[nst.errorTypes[qut]]=qut;var ist=function(t,n){var i,r=null;try{i=JSON.parse(t,n)}catch(t){r=t}return[r,i]};var rst=function(t){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((function(n,i,r){return t[i]&&(n[i]=t[i]),n}),{cues:t.cues&&Array.prototype.map.call(t.cues,(function(t){return{startTime:t.startTime,endTime:t.endTime,text:t.text,id:t.id}}))})},est=function(t){var n=t.$$("track"),i=Array.prototype.map.call(n,(function(t){return t.track}));return Array.prototype.map.call(n,(function(t){var n=rst(t.track);return t.src&&(n.src=t.src),n})).concat(Array.prototype.filter.call(t.textTracks(),(function(t){return-1===i.indexOf(t)})).map(rst))},ust=function(t,n){return t.forEach((function(t){var i=n.addRemoteTextTrack(t).track;!t.src&&t.cues&&t.cues.forEach((function(t){return i.addCue(t)}))})),n.textTracks()},sst="vjs-modal-dialog",ost=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).P=r.N=r.B=!1,r.closeable(!r.h.uncloseable),r.content(r.h.content),r.S=Det("div",{className:sst+"-content"},{role:"document"}),r.I=Det("p",{className:sst+"-description vjs-offscreen",id:r.el().getAttribute("aria-describedby")}),Iet(r.I,r.description()),r.v.appendChild(r.I),r.v.appendChild(r.S),r.on(n,"languagechange",r.handleLanguagechange),r}Fut(n,t);var i=n.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"F","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},i.buildCSSClass=function(){return sst+" vjs-hidden "+t.prototype.buildCSSClass.call(this)},i.handleKeyPress=function(t){27===t.which&&this.closeable()&&this.close()},i.label=function(){return this.h.label||this.localize("Modal Window")},i.description=function(){var t=this.h.description||this.localize("This is a modal window.");return this.closeable()&&(t+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),t},i.open=function(){if(!this.P){var t=this.player();this.trigger("beforemodalopen"),this.P=!0,(this.h.fillAlways||!this.N&&!this.B)&&this.fill(),this.D=!t.paused(),this.h.pauseOnOpen&&this.D&&t.pause(),this.closeable()&&this.on(this.v.ownerDocument,"keydown",zut(this,this.handleKeyPress)),t.controls(!1),this.show(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.N=!0}return this},i.opened=function(t){return"boolean"==typeof t&&this[t?"open":"close"](),this.P},i.close=function(){if(this.P){var t=this.player();this.trigger("beforemodalclose"),this.P=!1,this.D&&this.h.pauseOnOpen&&t.play(),this.closeable()&&this.off(this.v.ownerDocument,"keydown",zut(this,this.handleKeyPress)),t.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.h.temporary&&this.dispose()}return this},i.closeable=function(t){if("boolean"==typeof t){var n=this.R=!!t,i=this.getChild("closeButton");if(n&&!i){var r=this.S;this.S=this.v,i=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.S=r,this.on(i,"close",this.close)}!n&&i&&(this.off(i,"close",this.close),this.removeChild(i),i.dispose())}return this.R},i.fill=function(){return this.fillWith(this.content())},i.fillWith=function(t){var n=this.contentEl(),i=n.parentNode,r=n.nextSibling;return this.trigger("beforemodalfill"),this.B=!0,i.removeChild(n),this.empty(),Het(n,t),this.trigger("modalfill"),r?i.insertBefore(n,r):i.appendChild(n),this},i.empty=function(){return this.trigger("beforemodalempty"),Xet(this.contentEl()),this.trigger("modalempty"),this},i.content=function(t){return void 0!==t&&(this.O=t),this.O},i.handleLanguagechange=function(){this.v.setAttribute("aria-label",this.label()),Iet(this.I,this.description()),this.opened()?this.fill():(this.N||this.B)&&(this.N=!1,this.B=!1,this.empty())},n}(Put);ost.prototype.h={pauseOnOpen:!0,temporary:!0},Put.registerComponent("ModalDialog",ost);var ast=function(){function t(n){var i=this;if(dut)for(var r in i=eet.createElement("custom"),t.prototype)"constructor"!==r&&(i[r]=t.prototype[r]);if(t.prototype.V.call(i,n),g.defineProperty(i,"length",{get:function(){return this.U}}),dut)return i}var n=t.prototype;return n.V=function(t){var n=this.length||0,i=0,r=t.length;this.L=t,this.U=t.length;var e=function(t){""+t in this||g.defineProperty(this,""+t,{get:function(){return this.L[t]}})};if(n<r)for(i=n;i<r;i++)e.call(this,i)},n.getCueById=function(t){for(var n=null,i=0,r=this.length;i<r;i++){var e=this[i];if(e.id===t){n=e;break}}return n},t}(),cst={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},hst={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},fst={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},vst={disabled:"disabled",hidden:"hidden",showing:"showing"},lst=function(t){function n(i){var r;void 0===i&&(i={});var e=Qut(r=t.call(this)||this);if(dut)for(var u in e=eet.createElement("custom"),n.prototype)"constructor"!==u&&(e[u]=n.prototype[u]);var s={id:i.id||["vjs_track",oet()].join("_"),kind:i.kind||"",label:i.label||"",language:i.language||""},o=function(t){g.defineProperty(e,t,{get:function(){return s[t]},set:function(){}})};for(var a in s)o(a);return e||Qut(r)}return Fut(n,t),n}(Uut),dst=function(t){var n=["protocol","hostname","port","pathname","search","hash","host"],i=eet.createElement("a");i.href=t;var r,e=""===i.host&&"file:"!==i.protocol;e&&((r=eet.createElement("div")).innerHTML='<a href="'+t+'"></a>',i=r.firstChild,r.setAttribute("style","display:none; position:absolute;"),eet.body.appendChild(r));for(var u={},s=0;s<n.length;s++)u[n[s]]=i[n[s]];return"http:"===u.protocol&&(u.host=u.host.replace(/:80$/,"")),"https:"===u.protocol&&(u.host=u.host.replace(/:443$/,"")),e&&eet.body.removeChild(r),u},gst=function(t){var n=ret.location,i=dst(t);return(":"===i.protocol?n.protocol:i.protocol)+i.host!==n.protocol+n.host},wst={exports:{}};void 0!==e?wst.exports=e:void 0!==met?wst.exports=met:"undefined"!=typeof self?wst.exports=self:wst.exports={};var yst=function(t){var n=mst.call(t);return"[object Function]"===n||"function"==typeof t&&"[object RegExp]"!==n||void 0!==e&&(t===e.setTimeout||t===e.alert||t===e.confirm||t===e.prompt)},mst=g.prototype.toString;var Ast,pst,_st,kst,bst,Mst,Tst,Nst,Dst,Ist,Est,Sst,Lst=Array.prototype.slice,jst=g.prototype.toString,Cst=function(t){var n=this;if("function"!=typeof n||"[object Function]"!==jst.call(n))throw new l("Function.prototype.bind called on incompatible "+n);for(var i,r=Lst.call(arguments,1),e=w.max(0,n.length-r.length),u=[],s=0;s<e;s++)u.push("$"+s);if(i=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof i){var e=n.apply(this,r.concat(Lst.call(arguments)));return g(e)===e?e:this}return n.apply(t,r.concat(Lst.call(arguments)))})),n.prototype){var o=function(){};o.prototype=n.prototype,i.prototype=new o,o.prototype=null}return i},xst=Function.prototype.bind||Cst,Ost=g.prototype.toString,zst=function(t){var n=Ost.call(t),i="[object Arguments]"===n;return i||(i="[object Array]"!==n&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===Ost.call(t.callee)),i};g.keys||(pst=g.prototype.hasOwnProperty,_st=g.prototype.toString,kst=zst,bst=g.prototype.propertyIsEnumerable,Mst=!bst.call({toString:null},"toString"),Tst=bst.call((function(){}),"prototype"),Nst=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Dst=function(t){var n=t.constructor;return n&&n.prototype===t},Ist={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},Est=function(){if(void 0===e)return!1;for(var t in e)try{if(!Ist["$"+t]&&pst.call(e,t)&&null!==e[t]&&"object"==typeof e[t])try{Dst(e[t])}catch(t){return!0}}catch(t){return!0}return!1}(),Sst=function(t){if(void 0===e||!Est)return Dst(t);try{return Dst(t)}catch(t){return!1}},Ast=function(t){var n=null!==t&&"object"==typeof t,i="[object Function]"===_st.call(t),r=kst(t),e=n&&"[object String]"===_st.call(t),u=[];if(!n&&!i&&!r)throw new l("Object.keys called on a non-object");var s=Tst&&i;if(e&&t.length>0&&!pst.call(t,0))for(var o=0;o<t.length;++o)u.push(String(o));if(r&&t.length>0)for(var a=0;a<t.length;++a)u.push(String(a));else for(var c in t)s&&"prototype"===c||!pst.call(t,c)||u.push(String(c));if(Mst)for(var h=Sst(t),f=0;f<Nst.length;++f)h&&"constructor"===Nst[f]||!pst.call(t,Nst[f])||u.push(Nst[f]);return u});var Rst=Ast,Bst=Array.prototype.slice,Pst=zst,Ust=g.keys,Qst=Ust?function(t){return Ust(t)}:Rst,Yst=g.keys;Qst.shim=function(){if(g.keys){var t=function(){var t=g.keys(arguments);return t&&t.length===arguments.length}(1,2);t||(g.keys=function(t){return Pst(t)?Yst(Bst.call(t)):Yst(t)})}else g.keys=Qst;return g.keys||Qst};var Fst=Qst,Gst="function"==typeof n&&"symbol"==typeof n("foo"),Vst=g.prototype.toString,Wst=Array.prototype.concat,Xst=g.defineProperty,Zst=Xst&&function(){var t={};try{for(var n in Xst(t,"x",{enumerable:!1,value:t}),t)return!1;return t.x===t}catch(t){return!1}}(),Hst=function(t,n,i,r){(!(n in t)||function(t){return"function"==typeof t&&"[object Function]"===Vst.call(t)}(r)&&r())&&(Zst?Xst(t,n,{configurable:!0,enumerable:!1,value:i,writable:!0}):t[n]=i)},Kst=function(t,n){var i=arguments.length>2?arguments[2]:{},r=Fst(n);Gst&&(r=Wst.call(r,g.getOwnPropertySymbols(n)));for(var e=0;e<r.length;e+=1)Hst(t,r[e],n[r[e]],i[r[e]])};Kst.supportsDescriptors=!!Zst;var qst,Jst=Kst,$st=g.getOwnPropertyDescriptor?function(){return g.getOwnPropertyDescriptor(arguments,"callee").get}():function(){throw new l},tot="function"==typeof n&&"symbol"==typeof n.iterator,not=g.getPrototypeOf||function(t){return t.__proto__},iot=void 0===p?qst:not(p),rot={"$ %Array%":Array,"$ %ArrayBuffer%":"undefined"==typeof ArrayBuffer?qst:ArrayBuffer,"$ %ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?qst:ArrayBuffer.prototype,"$ %ArrayIteratorPrototype%":tot?not([][n.iterator]()):qst,"$ %ArrayPrototype%":Array.prototype,"$ %ArrayProto_entries%":Array.prototype.entries,"$ %ArrayProto_forEach%":Array.prototype.forEach,"$ %ArrayProto_keys%":Array.prototype.keys,"$ %ArrayProto_values%":Array.prototype.values,"$ %AsyncFromSyncIteratorPrototype%":qst,"$ %AsyncFunction%":undefined,"$ %AsyncFunctionPrototype%":qst,"$ %AsyncGenerator%":qst,"$ %AsyncGeneratorFunction%":undefined,"$ %AsyncGeneratorPrototype%":qst,"$ %AsyncIteratorPrototype%":qst,"$ %Atomics%":"undefined"==typeof Atomics?qst:Atomics,"$ %Boolean%":Boolean,"$ %BooleanPrototype%":Boolean.prototype,"$ %DataView%":"undefined"==typeof DataView?qst:DataView,"$ %DataViewPrototype%":"undefined"==typeof DataView?qst:DataView.prototype,"$ %Date%":Date,"$ %DatePrototype%":Date.prototype,"$ %decodeURI%":decodeURI,"$ %decodeURIComponent%":decodeURIComponent,"$ %encodeURI%":encodeURI,"$ %encodeURIComponent%":encodeURIComponent,"$ %Error%":v,"$ %ErrorPrototype%":v.prototype,"$ %eval%":eval,"$ %EvalError%":EvalError,"$ %EvalErrorPrototype%":EvalError.prototype,"$ %Float32Array%":"undefined"==typeof Float32Array?qst:Float32Array,"$ %Float32ArrayPrototype%":"undefined"==typeof Float32Array?qst:Float32Array.prototype,"$ %Float64Array%":"undefined"==typeof Float64Array?qst:Float64Array,"$ %Float64ArrayPrototype%":"undefined"==typeof Float64Array?qst:Float64Array.prototype,"$ %Function%":Function,"$ %FunctionPrototype%":Function.prototype,"$ %Generator%":qst,"$ %GeneratorFunction%":undefined,"$ %GeneratorPrototype%":qst,"$ %Int8Array%":"undefined"==typeof Int8Array?qst:Int8Array,"$ %Int8ArrayPrototype%":"undefined"==typeof Int8Array?qst:Int8Array.prototype,"$ %Int16Array%":"undefined"==typeof Int16Array?qst:Int16Array,"$ %Int16ArrayPrototype%":"undefined"==typeof Int16Array?qst:Int8Array.prototype,"$ %Int32Array%":"undefined"==typeof Int32Array?qst:Int32Array,"$ %Int32ArrayPrototype%":"undefined"==typeof Int32Array?qst:Int32Array.prototype,"$ %isFinite%":isFinite,"$ %isNaN%":A,"$ %IteratorPrototype%":tot?not(not([][n.iterator]())):qst,"$ %JSON%":JSON,"$ %JSONParse%":JSON.parse,"$ %Map%":"undefined"==typeof Map?qst:Map,"$ %MapIteratorPrototype%":"undefined"!=typeof Map&&tot?not((new Map)[n.iterator]()):qst,"$ %MapPrototype%":"undefined"==typeof Map?qst:Map.prototype,"$ %Math%":w,"$ %Number%":Number,"$ %NumberPrototype%":Number.prototype,"$ %Object%":g,"$ %ObjectPrototype%":g.prototype,"$ %ObjProto_toString%":g.prototype.toString,"$ %ObjProto_valueOf%":g.prototype.valueOf,"$ %parseFloat%":m,"$ %parseInt%":y,"$ %Promise%":void 0===q?qst:q,"$ %PromisePrototype%":void 0===q?qst:q.prototype,"$ %PromiseProto_then%":void 0===q?qst:q.prototype.then,"$ %Promise_all%":void 0===q?qst:q.all,"$ %Promise_reject%":void 0===q?qst:q.reject,"$ %Promise_resolve%":void 0===q?qst:q.resolve,"$ %Proxy%":"undefined"==typeof Proxy?qst:Proxy,"$ %RangeError%":RangeError,"$ %RangeErrorPrototype%":RangeError.prototype,"$ %ReferenceError%":ReferenceError,"$ %ReferenceErrorPrototype%":ReferenceError.prototype,"$ %Reflect%":"undefined"==typeof Reflect?qst:Reflect,"$ %RegExp%":RegExp,"$ %RegExpPrototype%":RegExp.prototype,"$ %Set%":"undefined"==typeof Set?qst:Set,"$ %SetIteratorPrototype%":"undefined"!=typeof Set&&tot?not((new Set)[n.iterator]()):qst,"$ %SetPrototype%":"undefined"==typeof Set?qst:Set.prototype,"$ %SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?qst:SharedArrayBuffer,"$ %SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?qst:SharedArrayBuffer.prototype,"$ %String%":String,"$ %StringIteratorPrototype%":tot?not(""[n.iterator]()):qst,"$ %StringPrototype%":String.prototype,"$ %Symbol%":tot?n:qst,"$ %SymbolPrototype%":tot?n.prototype:qst,"$ %SyntaxError%":d,"$ %SyntaxErrorPrototype%":d.prototype,"$ %ThrowTypeError%":$st,"$ %TypedArray%":iot,"$ %TypedArrayPrototype%":iot?iot.prototype:qst,"$ %TypeError%":l,"$ %TypeErrorPrototype%":l.prototype,"$ %Uint8Array%":void 0===p?qst:p,"$ %Uint8ArrayPrototype%":void 0===p?qst:p.prototype,"$ %Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?qst:Uint8ClampedArray,"$ %Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?qst:Uint8ClampedArray.prototype,"$ %Uint16Array%":"undefined"==typeof Uint16Array?qst:Uint16Array,"$ %Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?qst:Uint16Array.prototype,"$ %Uint32Array%":"undefined"==typeof Uint32Array?qst:Uint32Array,"$ %Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?qst:Uint32Array.prototype,"$ %URIError%":URIError,"$ %URIErrorPrototype%":URIError.prototype,"$ %WeakMap%":"undefined"==typeof WeakMap?qst:WeakMap,"$ %WeakMapPrototype%":"undefined"==typeof WeakMap?qst:WeakMap.prototype,"$ %WeakSet%":"undefined"==typeof WeakSet?qst:WeakSet,"$ %WeakSetPrototype%":"undefined"==typeof WeakSet?qst:WeakSet.prototype},eot=function(t,n){if(arguments.length>1&&"boolean"!=typeof n)throw new l('"allowMissing" argument must be a boolean');var i="$ "+t;if(!(i in rot))throw new d("intrinsic "+t+" does not exist!");if(void 0===rot[i]&&!n)throw new l("intrinsic "+t+" exists, but is not available. Please file an issue!");return rot[i]},uot=xst.call(Function.call,g.prototype.hasOwnProperty),sot=eot,oot=sot("%TypeError%"),aot=sot("%SyntaxError%"),cot=uot,hot={"Property Descriptor":function(t,n){if("Object"!==t.Type(n))return!1;var i={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var r in n)if(cot(n,r)&&!i[r])return!1;var e=cot(n,"[[Value]]"),u=cot(n,"[[Get]]")||cot(n,"[[Set]]");if(e&&u)throw new oot("Property Descriptors may not be both accessor and data descriptors");return!0}},fot=Number.isNaN||function(t){return t!=t},vot=Number.isNaN||function(t){return t!=t},lot=Number.isFinite||function(t){return"number"==typeof t&&!vot(t)&&t!==1/0&&t!==-1/0},dot=Function.prototype.toString,got=/^\s*class\b/,wot=function(t){try{var n=dot.call(t);return got.test(n)}catch(t){return!1}},yot=g.prototype.toString,mot="function"==typeof n&&"symbol"==typeof n.toStringTag,Aot=function(t){if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if("function"==typeof t&&!t.prototype)return!0;if(mot)return function(t){try{return!wot(t)&&(dot.call(t),!0)}catch(t){return!1}}(t);if(wot(t))return!1;var n=yot.call(t);return"[object Function]"===n||"[object GeneratorFunction]"===n},pot=g.prototype.toString,_ot=function(t){return null===t||"function"!=typeof t&&"object"!=typeof t},kot=Aot,bot=function(t){var n;if((n=arguments.length>1?arguments[1]:"[object Date]"===pot.call(t)?String:Number)===String||n===Number){var i,r,e=n===String?["toString","valueOf"]:["valueOf","toString"];for(r=0;r<e.length;++r)if(kot(t[e[r]])&&(i=t[e[r]](),_ot(i)))return i;throw new l("No default value")}throw new l("invalid [[DefaultValue]] hint supplied")},Mot=eot,Tot=Mot("%Object%"),Not=Mot("%TypeError%"),Dot=Mot("%String%"),Iot=function(t,n,i,r){var e=hot[n];if("function"!=typeof e)throw new aot("unknown record type: "+n);if(!e(t,r))throw new oot(i+" must be a "+n);console.log(e(t,r),r)},Eot=fot,Sot=lot,Lot=function(t){return t>=0?1:-1},jot=function(t,n){var i=t%n;return w.floor(i>=0?i:i+n)},Cot=function(t){return _ot(t)?t:arguments.length>1?bot(t,arguments[1]):bot(t)},xot=uot,Oot={ToPrimitive:Cot,ToBoolean:function(t){return!!t},ToNumber:function(t){return+t},ToInteger:function(t){var n=this.ToNumber(t);return Eot(n)?0:0!==n&&Sot(n)?Lot(n)*w.floor(w.abs(n)):n},ToInt32:function(t){return this.ToNumber(t)>>0},ToUint32:function(t){return this.ToNumber(t)>>>0},ToUint16:function(t){var n=this.ToNumber(t);if(Eot(n)||0===n||!Sot(n))return 0;var i=Lot(n)*w.floor(w.abs(n));return jot(i,65536)},ToString:function(t){return Dot(t)},ToObject:function(t){return this.CheckObjectCoercible(t),Tot(t)},CheckObjectCoercible:function(t,n){if(null==t)throw new Not(n||"Cannot call method on "+t);return t},IsCallable:Aot,SameValue:function(t,n){return t===n?0!==t||1/t==1/n:Eot(t)&&Eot(n)},Type:function(t){return null===t?"Null":void 0===t?"Undefined":"function"==typeof t||"object"==typeof t?"Object":"number"==typeof t?"Number":"boolean"==typeof t?"Boolean":"string"==typeof t?"String":void 0},IsPropertyDescriptor:function(t){if("Object"!==this.Type(t))return!1;var n={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var i in t)if(xot(t,i)&&!n[i])return!1;var r=xot(t,"[[Value]]"),e=xot(t,"[[Get]]")||xot(t,"[[Set]]");if(r&&e)throw new Not("Property Descriptors may not be both accessor and data descriptors");return!0},IsAccessorDescriptor:function(t){return void 0!==t&&(Iot(this,"Property Descriptor","Desc",t),!(!xot(t,"[[Get]]")&&!xot(t,"[[Set]]")))},IsDataDescriptor:function(t){return void 0!==t&&(Iot(this,"Property Descriptor","Desc",t),!(!xot(t,"[[Value]]")&&!xot(t,"[[Writable]]")))},IsGenericDescriptor:function(t){return void 0!==t&&(Iot(this,"Property Descriptor","Desc",t),!this.IsAccessorDescriptor(t)&&!this.IsDataDescriptor(t))},FromPropertyDescriptor:function(t){if(void 0===t)return t;if(Iot(this,"Property Descriptor","Desc",t),this.IsDataDescriptor(t))return{value:t["[[Value]]"],writable:!!t["[[Writable]]"],enumerable:!!t["[[Enumerable]]"],configurable:!!t["[[Configurable]]"]};if(this.IsAccessorDescriptor(t))return{get:t["[[Get]]"],set:t["[[Set]]"],enumerable:!!t["[[Enumerable]]"],configurable:!!t["[[Configurable]]"]};throw new Not("FromPropertyDescriptor must be called with a fully populated Property Descriptor")},ToPropertyDescriptor:function(t){if("Object"!==this.Type(t))throw new Not("ToPropertyDescriptor requires an object");var n={};if(xot(t,"enumerable")&&(n["[[Enumerable]]"]=this.ToBoolean(t.enumerable)),xot(t,"configurable")&&(n["[[Configurable]]"]=this.ToBoolean(t.configurable)),xot(t,"value")&&(n["[[Value]]"]=t.value),xot(t,"writable")&&(n["[[Writable]]"]=this.ToBoolean(t.writable)),xot(t,"get")){var i=t.get;if(void 0!==i&&!this.IsCallable(i))throw new l("getter must be a function");n["[[Get]]"]=i}if(xot(t,"set")){var r=t.set;if(void 0!==r&&!this.IsCallable(r))throw new Not("setter must be a function");n["[[Set]]"]=r}if((xot(n,"[[Get]]")||xot(n,"[[Set]]"))&&(xot(n,"[[Value]]")||xot(n,"[[Writable]]")))throw new Not("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return n}},zot=xst.call(Function.call,String.prototype.replace),Rot=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,Bot=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/,Pot=function(){var t=Oot.ToString(Oot.CheckObjectCoercible(this));return zot(zot(t,Rot,""),Bot,"")},Uot=Pot,Qot=function(){return String.prototype.trim&&"\u200b"==="\u200b".trim()?String.prototype.trim:Uot},Yot=Jst,Fot=Qot,Got=Jst,Vot=Pot,Wot=Qot,Xot=function(){var t=Fot();return Yot(String.prototype,{trim:t},{trim:function(){return String.prototype.trim!==t}}),t},Zot=xst.call(Function.call,Wot());Got(Zot,{getPolyfill:Wot,implementation:Vot,shim:Xot});var Hot=Zot,Kot=Aot,qot=g.prototype.toString,Jot=g.prototype.hasOwnProperty,$ot=function(t,n,i){if(!Kot(n))throw new l("iterator must be a function");var r;arguments.length>=3&&(r=i),"[object Array]"===qot.call(t)?function(t,n,i){for(var r=0,e=t.length;r<e;r++)Jot.call(t,r)&&(null==i?n(t[r],r,t):n.call(i,t[r],r,t))}(t,n,r):"string"==typeof t?function(t,n,i){for(var r=0,e=t.length;r<e;r++)null==i?n(t.charAt(r),r,t):n.call(i,t.charAt(r),r,t)}(t,n,r):function(t,n,i){for(var r in t)Jot.call(t,r)&&(null==i?n(t[r],r,t):n.call(i,t[r],r,t))}(t,n,r)},tat=Hot,nat=$ot,iat=function(){for(var t={},n=0;n<arguments.length;n++){var i=arguments[n];for(var r in i)rat.call(i,r)&&(t[r]=i[r])}return t},rat=g.prototype.hasOwnProperty;var eat=wst.exports,uat=yst,sat=function(t){if(!t)return{};var n={};return nat(tat(t).split("\n"),(function(t){var i=t.indexOf(":"),r=tat(t.slice(0,i)).toLowerCase(),e=tat(t.slice(i+1));void 0===n[r]?n[r]=e:!function(t){return"[object Array]"===g.prototype.toString.call(t)}(n[r])?n[r]=[n[r],e]:n[r].push(e)})),n},oat=iat,aat=hat;function cat(t,n,i){var r=t;return uat(n)?(i=n,"string"==typeof t&&(r={uri:t})):r=oat(n,{uri:t}),r.callback=i,r}function hat(t,n,i){return fat(n=cat(t,n,i))}function fat(t){if(void 0===t.callback)throw new v("callback argument missing");var n=!1,i=function(i,r,e){n||(n=!0,t.callback(i,r,e))};function r(){var t=void 0;if(t=f.response?f.response:f.responseText||function(t){if("document"===t.responseType)return t.responseXML;var n=204===t.status&&t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;if(""===t.responseType&&!n)return t.responseXML;return null}(f),A)try{t=JSON.parse(t)}catch(t){}return t}var e={body:void 0,headers:{},statusCode:0,method:g,url:d,rawRequest:f};function u(t){return c(l),t instanceof v||(t=new v(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,i(t,e)}function s(){if(!h){var n;c(l),n=t.useXDR&&void 0===f.status?200:1223===f.status?204:f.status;var u=e,s=null;return 0!==n?(u={body:r(),statusCode:n,method:g,headers:{},url:d,rawRequest:f},f.getAllResponseHeaders&&(u.headers=sat(f.getAllResponseHeaders()))):s=new v("Internal XMLHttpRequest Error"),i(s,u,u.body)}}var o,h,f=t.xhr||null;f||(f=t.cors||t.useXDR?new hat.XDomainRequest:new hat.XMLHttpRequest);var l,d=f.url=t.uri||t.url,g=f.method=t.method||"GET",w=t.body||t.data||null,y=f.headers=t.headers||{},m=!!t.sync,A=!1;if("json"in t&&(A=!0,y.accept||y.Accept||(y.Accept="application/json"),"GET"!==g&&"HEAD"!==g&&(y["content-type"]||y["Content-Type"]||(y["Content-Type"]="application/json"),w=JSON.stringify(t.json))),f.onreadystatechange=function(){4===f.readyState&&s()},f.onload=s,f.onerror=u,f.onprogress=function(){},f.ontimeout=u,f.open(g,d,!m,t.username,t.password),m||(f.withCredentials=!!t.withCredentials),!m&&t.timeout>0&&(l=a((function(){h=!0,f.abort("timeout");var t=new v("XMLHttpRequest timeout");t.code="ETIMEDOUT",u(t)}),t.timeout)),f.setRequestHeader)for(o in y)y.hasOwnProperty(o)&&f.setRequestHeader(o,y[o]);else if(t.headers&&!function(t){for(var n in t)if(t.hasOwnProperty(n))return!1;return!0}(t.headers))throw new v("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(f.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(f),f.send(w),f}hat.XMLHttpRequest=eat.XMLHttpRequest||function(){},hat.XDomainRequest="withCredentials"in new hat.XMLHttpRequest?hat.XMLHttpRequest:eat.XDomainRequest,function(t,n){for(var i=0;i<t.length;i++)n(t[i])}(["get","put","post","patch","head","delete"],(function(t){hat["delete"===t?"del":t]=function(n,i,r){return(i=cat(n,i,r)).method=t.toUpperCase(),fat(i)}}));var vat=function(t,n){var i=new ret.WebVTT.Parser(ret,ret.vttjs,ret.WebVTT.StringDecoder()),r=[];i.oncue=function(t){n.addCue(t)},i.onparsingerror=function(t){r.push(t)},i.onflush=function(){n.trigger({type:"loadeddata",target:n})},i.parse(t),r.length>0&&(ret.console&&ret.console.groupCollapsed&&ret.console.groupCollapsed("Text Track parsing errors for "+n.src),r.forEach((function(t){return yet.error(t)})),ret.console&&ret.console.groupEnd&&ret.console.groupEnd()),i.flush()},lat=function(t){function n(i){var r;if(void 0===i&&(i={}),!i.tech)throw new v("A tech was not provided.");var e=But(i,{kind:fst[i.kind]||"subtitles",language:i.language||i.srclang||""}),u=vst[e.mode]||"disabled",s=e.default;"metadata"!==e.kind&&"chapters"!==e.kind||(u="hidden");var o=r=t.call(this,e)||this;if(o.H=e.tech,dut)for(var a in n.prototype)"constructor"!==a&&(o[a]=n.prototype[a]);o.L=[],o.q=[];var c=new ast(o.L),h=new ast(o.q),f=!1,l=zut(o,(function(){this.activeCues,f&&(this.trigger("cuechange"),f=!1)}));return"disabled"!==u&&o.H.ready((function(){o.H.on("timeupdate",l)}),!0),g.defineProperty(o,"default",{get:function(){return s},set:function(){}}),g.defineProperty(o,"mode",{get:function(){return u},set:function(t){var n=this;vst[t]&&("showing"===(u=t)&&this.H.ready((function(){n.H.on("timeupdate",l)}),!0),this.trigger("modechange"))}}),g.defineProperty(o,"cues",{get:function(){return this.W?c:null},set:function(){}}),g.defineProperty(o,"activeCues",{get:function(){if(!this.W)return null;if(0===this.cues.length)return h;for(var t=this.H.currentTime(),n=[],i=0,r=this.cues.length;i<r;i++){var e=this.cues[i];(e.startTime<=t&&e.endTime>=t||e.startTime===e.endTime&&e.startTime<=t&&e.startTime+.5>=t)&&n.push(e)}if(f=!1,n.length!==this.q.length)f=!0;else for(var u=0;u<n.length;u++)-1===this.q.indexOf(n[u])&&(f=!0);return this.q=n,h.V(this.q),h},set:function(){}}),e.src?(o.src=e.src,function(t,n){var i={uri:t},r=gst(t);r&&(i.cors=r),aat(i,zut(this,(function(t,i,r){if(t)return yet.error(t,i);if(n.W=!0,"function"!=typeof ret.WebVTT){if(n.H){var e=function(){return vat(r,n)};n.H.on("vttjsloaded",e),n.H.on("vttjserror",(function(){yet.error("vttjs failed to load, stopping trying to process "+n.src),n.H.off("vttjsloaded",e)}))}}else vat(r,n)})))}(e.src,o)):o.W=!0,o||Qut(r)}Fut(n,t);var i=n.prototype;return i.addCue=function(t){var n=t;if(ret.vttjs&&!(t instanceof ret.vttjs.VTTCue)){for(var i in n=new ret.vttjs.VTTCue(t.startTime,t.endTime,t.text),t)i in n||(n[i]=t[i]);n.id=t.id,n.G=t}var r=this.H.textTracks();if(r)for(var e=0;e<r.length;e++)r[e]!==this&&r[e].removeCue(n);this.L.push(n),this.cues.V(this.L)},i.removeCue=function(t){for(var n=this.L.length;n--;){var i=this.L[n];if(i===t||i.G&&i.G===t){this.L.splice(n,1),this.cues.V(this.L);break}}},n}(lst);lat.prototype.A={cuechange:"cuechange"};var dat=function(t){function n(i){var r,e;void 0===i&&(i={});var u=Qut(r=t.call(this)||this);if(dut)for(var s in u=eet.createElement("custom"),n.prototype)"constructor"!==s&&(u[s]=n.prototype[s]);var o=new lat(i);return u.kind=o.kind,u.src=o.src,u.srclang=o.language,u.label=o.label,u.default=o.default,g.defineProperty(u,"readyState",{get:function(){return e}}),g.defineProperty(u,"track",{get:function(){return o}}),e=0,o.addEventListener("loadeddata",(function(){e=2,u.trigger({type:"load",target:u})})),dut?u||Qut(r):r}return Fut(n,t),n}(Uut);dat.prototype.A={load:"load"},dat.NONE=0,dat.LOADING=1,dat.LOADED=2,dat.ERROR=3;var gat,wat=function(){function t(n){void 0===n&&(n=[]);var i=this;if(dut)for(var r in i=eet.createElement("custom"),t.prototype)"constructor"!==r&&(i[r]=t.prototype[r]);i.X=[],g.defineProperty(i,"length",{get:function(){return this.X.length}});for(var e=0,u=n.length;e<u;e++)i.J(n[e]);if(dut)return i}var n=t.prototype;return n.J=function(t){var n=this.X.length;""+n in this||g.defineProperty(this,n,{get:function(){return this.X[n]}}),-1===this.X.indexOf(t)&&this.X.push(t)},n.Y=function(t){for(var n,i=0,r=this.X.length;i<r;i++)if(t===this.X[i].track){n=this.X[i];break}return n},n.K=function(t){for(var n=0,i=this.X.length;n<i;n++)if(t===this.X[n]){this.X.splice(n,1);break}},t}(),yat=function(t){function n(i,r){var e;if(void 0===i&&(i=[]),void 0===r&&(r=null),e=t.call(this)||this,!r&&(r=Qut(e),dut))for(var u in r=eet.createElement("custom"),n.prototype)"constructor"!==u&&(r[u]=n.prototype[u]);r.Z=[],g.defineProperty(r,"length",{get:function(){return this.Z.length}});for(var s=0;s<i.length;s++)r.tt(i[s]);return r||Qut(e)}Fut(n,t);var i=n.prototype;return i.tt=function(t){var n=this.Z.length;""+n in this||g.defineProperty(this,n,{get:function(){return this.Z[n]}}),-1===this.Z.indexOf(t)&&(this.Z.push(t),this.trigger({track:t,type:"addtrack"}))},i.it=function(t){for(var n,i=0,r=this.length;i<r;i++)if(this[i]===t){(n=this[i]).off&&n.off(),this.Z.splice(i,1);break}n&&this.trigger({track:n,type:"removetrack"})},i.getTrackById=function(t){for(var n=null,i=0,r=this.length;i<r;i++){var e=this[i];if(e.id===t){n=e;break}}return n},n}(Uut);for(gat in yat.prototype.A={change:"change",addtrack:"addtrack",removetrack:"removetrack"},yat.prototype.A)yat.prototype["on"+gat]=null;var mat=function(t){function n(i){var r,e;if(void 0===i&&(i=[]),dut){for(var u in e=eet.createElement("custom"),yat.prototype)"constructor"!==u&&(e[u]=yat.prototype[u]);for(var s in n.prototype)"constructor"!==s&&(e[s]=n.prototype[s])}return(e=r=t.call(this,i,e)||this)||Qut(r)}return Fut(n,t),n.prototype.tt=function(n){t.prototype.tt.call(this,n),n.addEventListener("modechange",zut(this,(function(){this.trigger("change")})))},n}(yat),Aat=function(t,n){for(var i=0;i<t.length;i++)n.id!==t[i].id&&(t[i].selected=!1)},pat=function(t){function n(i){var r,e;void 0===i&&(i=[]);for(var u=i.length-1;u>=0;u--)if(i[u].selected){Aat(i,i[u]);break}if(dut){for(var s in e=eet.createElement("custom"),yat.prototype)"constructor"!==s&&(e[s]=yat.prototype[s]);for(var o in n.prototype)"constructor"!==o&&(e[o]=n.prototype[o])}return(e=r=t.call(this,i,e)||this).st=!1,g.defineProperty(e,"selectedIndex",{get:function(){for(var t=0;t<this.length;t++)if(this[t].selected)return t;return-1},set:function(){}}),e||Qut(r)}Fut(n,t);var i=n.prototype;return i.tt=function(n){var i=this;n.selected&&Aat(this,n),t.prototype.tt.call(this,n),n.addEventListener&&n.addEventListener("selectedchange",(function(){i.st||(i.st=!0,Aat(i,n),i.st=!1,i.trigger("change"))}))},i.addTrack=function(t){this.tt(t)},i.removeTrack=function(n){t.prototype.it.call(this,n)},n}(yat),_at=function(t,n){for(var i=0;i<t.length;i++)n.id!==t[i].id&&(t[i].enabled=!1)},kat=function(t){function n(i){var r,e;void 0===i&&(i=[]);for(var u=i.length-1;u>=0;u--)if(i[u].enabled){_at(i,i[u]);break}if(dut){for(var s in e=eet.createElement("custom"),yat.prototype)"constructor"!==s&&(e[s]=yat.prototype[s]);for(var o in n.prototype)"constructor"!==o&&(e[o]=n.prototype[o])}return(e=r=t.call(this,i,e)||this).st=!1,e||Qut(r)}Fut(n,t);var i=n.prototype;return i.tt=function(n){var i=this;n.enabled&&_at(this,n),t.prototype.tt.call(this,n),n.addEventListener&&n.addEventListener("enabledchange",(function(){i.st||(i.st=!0,_at(i,n),i.st=!1,i.trigger("change"))}))},i.addTrack=function(t){this.tt(t)},i.removeTrack=function(n){t.prototype.it.call(this,n)},n}(yat),bat=void 0;var Mat=function(t){function n(n,i){var r;return void 0===n&&(n={}),void 0===i&&(i=function(){}),n.reportTouchActivity=!1,(r=t.call(this,null,n,i)||this).et=!1,r.on("playing",(function(){this.et=!0})),r.on("loadstart",(function(){this.et=!1})),r.nt=n.textTracks,r.rt=n.videoTracks,r.ht=n.audioTracks,r.featuresProgressEvents||r.manualProgressOn(),r.featuresTimeupdateEvents||r.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach((function(t){!1===n["native"+t+"Tracks"]&&(r["featuresNative"+t+"Tracks"]=!1)})),!1===n.nativeCaptions&&(r.featuresNativeTextTracks=!1),r.featuresNativeTextTracks||r.emulateTextTracks(),r.ot=new mat,r.initTextTrackListeners(),r.initTrackListeners(),n.nativeControlsForTouch||r.emitTapEvents(),r.constructor&&(r.l=r.constructor.name||"Unknown Tech"),r}Fut(n,t);var i=n.prototype;return i.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},i.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},i.trackProgress=function(t){this.stopTrackingProgress(),this.progressInterval=this.setInterval(zut(this,(function(){var t=this.bufferedPercent();this.ut!==t&&this.trigger("progress"),this.ut=t,1===t&&this.stopTrackingProgress()})),500)},i.onDurationChange=function(t){this.ct=this.duration()},i.buffered=function(){return Wut(0,0)},i.bufferedPercent=function(){return Xut(this.buffered(),this.ct)},i.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},i.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},i.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},i.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval((function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}),250)},i.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},i.dispose=function(){this.clearTracks(["audio","video","text"]),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),t.prototype.dispose.call(this)},i.clearTracks=function(t){var n=this;(t=[].concat(t)).forEach((function(t){for(var i=n[t+"Tracks"]()||[],r=i.length;r--;){var e=i[r];"text"===t&&n.removeRemoteTextTrack(e),i.it(e)}}))},i.cleanupAutoTextTracks=function(){for(var t=this.ot||[],n=t.length;n--;){var i=t[n];this.removeRemoteTextTrack(i)}},i.reset=function(){},i.error=function(t){return void 0!==t&&(this.lt=new nst(t),this.trigger("error")),this.lt},i.played=function(){return this.et?Wut(0,0):Wut()},i.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},i.initTextTrackListeners=function(){var t=zut(this,(function(){this.trigger("texttrackchange")})),n=this.textTracks();n&&(n.addEventListener("removetrack",t),n.addEventListener("addtrack",t),this.on("dispose",zut(this,(function(){n.removeEventListener("removetrack",t),n.removeEventListener("addtrack",t)}))))},i.initTrackListeners=function(){var t=this;["video","audio"].forEach((function(n){var i=function(){t.trigger(n+"trackchange")},r=t[n+"Tracks"]();r.addEventListener("removetrack",i),r.addEventListener("addtrack",i),t.on("dispose",(function(){r.removeEventListener("removetrack",i),r.removeEventListener("addtrack",i)}))}))},i.dt=function(){var t=this;if(!ret.WebVTT)if(eet.body.contains(this.el())){if(!this.h["vtt.js"]&&get(bat)&&g.keys(bat).length>0)return void this.trigger("vttjsloaded");var n=eet.createElement("script");n.src=this.h["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.12.4/vtt.min.js",n.onload=function(){t.trigger("vttjsloaded")},n.onerror=function(){t.trigger("vttjserror")},this.on("dispose",(function(){n.onload=null,n.onerror=null})),ret.WebVTT=!0,this.el().parentNode.appendChild(n)}else this.ready(this.dt)},i.emulateTextTracks=function(){var t=this,n=this.textTracks();if(n){var i=this.remoteTextTracks(),r=function(t){return n.tt(t.track)},e=function(t){return n.it(t.track)};i.on("addtrack",r),i.on("removetrack",e),this.dt();var u=function(){return t.trigger("texttrackchange")},s=function(){u();for(var t=0;t<n.length;t++){var i=n[t];i.removeEventListener("cuechange",u),"showing"===i.mode&&i.addEventListener("cuechange",u)}};s(),n.addEventListener("change",s),n.addEventListener("addtrack",s),n.addEventListener("removetrack",s),this.on("dispose",(function(){i.off("addtrack",r),i.off("removetrack",e),n.removeEventListener("change",s),n.removeEventListener("addtrack",s),n.removeEventListener("removetrack",s);for(var t=0;t<n.length;t++){n[t].removeEventListener("cuechange",u)}}))}},i.videoTracks=function(){return this.rt=this.rt||new pat,this.rt},i.audioTracks=function(){return this.ht=this.ht||new kat,this.ht},i.textTracks=function(){return this.nt=this.nt||new mat,this.nt},i.remoteTextTracks=function(){return this.ft=this.ft||new mat,this.ft},i.remoteTextTrackEls=function(){return this.vt=this.vt||new wat,this.vt},i.addTextTrack=function(t,n,i){if(!t)throw new v("TextTrack kind is required but was not provided");return function(t,n,i,r,e){void 0===e&&(e={});var u=t.textTracks();e.kind=n,i&&(e.label=i),r&&(e.language=r),e.tech=t;var s=new lat(e);return u.tt(s),s}(this,t,n,i)},i.createRemoteTextTrack=function(t){var n=But(t,{tech:this});return new dat(n)},i.addRemoteTextTrack=function(t,n){void 0===t&&(t={});var i=this.createRemoteTextTrack(t);return!0!==n&&!1!==n&&(yet.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),n=!0),this.remoteTextTrackEls().J(i),this.remoteTextTracks().tt(i.track),!0!==n&&this.ot.tt(i.track),i},i.removeRemoteTextTrack=function(t){var n=this.remoteTextTrackEls().Y(t);this.remoteTextTrackEls().K(n),this.remoteTextTracks().it(t),this.ot.it(t)},i.getVideoPlaybackQuality=function(){return{}},i.setPoster=function(){},i.playsinline=function(){},i.setPlaysinline=function(){},i.canPlayType=function(){return""},n.isTech=function(t){return t.prototype instanceof n||t instanceof n||t===n},n.registerTech=function(t,i){if(n.gt||(n.gt={}),!n.isTech(i))throw new v("Tech "+t+" must be a Tech");return n.gt[t]=i,i},n.getTech=function(t){return n.gt&&n.gt[t]?n.gt[t]:ret&&ret.videojs&&ret.videojs[t]?(yet.warn("The "+t+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),ret.videojs[t]):void 0},n}(Put);Mat.prototype.nt,Mat.prototype.ht,Mat.prototype.rt,Mat.prototype.featuresVolumeControl=!0,Mat.prototype.featuresFullscreenResize=!1,Mat.prototype.featuresPlaybackRate=!1,Mat.prototype.featuresProgressEvents=!1,Mat.prototype.featuresTimeupdateEvents=!1,Mat.prototype.featuresNativeTextTracks=!1,Mat.withSourceHandlers=function(t){t.registerSourceHandler=function(n,i){var r=t.sourceHandlers;r||(r=t.sourceHandlers=[]),void 0===i&&(i=r.length),r.splice(i,0,n)},t.canPlayType=function(n){for(var i,r=t.sourceHandlers||[],e=0;e<r.length;e++)if(i=r[e].canPlayType(n))return i;return""},t.selectSourceHandler=function(n,i){for(var r=t.sourceHandlers||[],e=0;e<r.length;e++)if(r[e].canHandleSource(n,i))return r[e];return null},t.canPlaySource=function(n,i){var r=t.selectSourceHandler(n,i);return r?r.canHandleSource(n,i):""};["seekable","duration"].forEach((function(t){var n=this[t];"function"==typeof n&&(this[t]=function(){return this.yt&&this.yt[t]?this.yt[t].apply(this.yt,arguments):n.apply(this,arguments)})}),t.prototype),t.prototype.setSource=function(n){var i=t.selectSourceHandler(n,this.h);return i||(t.nativeSourceHandler?i=t.nativeSourceHandler:yet.error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),i!==t.nativeSourceHandler&&(this.bt=n,this.off(this.v,"loadstart",t.prototype.kt),this.off(this.v,"loadstart",t.prototype.wt),this.one(this.v,"loadstart",t.prototype.kt)),this.yt=i.handleSource(n,this,this.h),this.on("dispose",this.disposeSourceHandler),this},t.prototype.kt=function(){this.one(this.v,"loadstart",t.prototype.wt)},t.prototype.wt=function(){this.disposeSourceHandler(),this.one(this.v,"loadstart",t.prototype.wt)},t.prototype.disposeSourceHandler=function(){this.bt&&(this.clearTracks(["audio","video"]),this.bt=null),this.cleanupAutoTextTracks(),this.yt&&(this.off(this.v,"loadstart",t.prototype.kt),this.off(this.v,"loadstart",t.prototype.wt),this.yt.dispose&&this.yt.dispose(),this.yt=null)}},Put.registerComponent("Tech",Mat),Put.registerComponent("MediaTechController",Mat),Mat.registerTech("Tech",Mat);var Tat=function(t){function n(n,i,r){var e;if(e=t.call(this,n,i,r)||this,i.playerOptions.sources&&0!==i.playerOptions.sources.length)n.src(i.playerOptions.sources);else for(var u=0,s=i.playerOptions.techOrder;u<s.length;u++){var o=Rut(s[u]),a=Mat.getTech(o);if(o||(a=Put.getComponent(o)),a&&a.isSupported()){n._t(o);break}}return e}return Fut(n,t),n}(Put);Put.registerComponent("MediaLoader",Tat);var Nat=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).emitTapEvents(),r.on(n,"languagechange",r.handleLanguagechange),r.enable(),r}Fut(n,t);var i=n.prototype;return i.createEl=function(n,i,r){void 0===n&&(n="div"),void 0===i&&(i={}),void 0===r&&(r={}),i=vet({className:this.buildCSSClass(),tabIndex:0},i),"button"===n&&yet.error("Creating a ClickableComponent with an HTML element of "+n+" is not supported; use a Button instead."),r=vet({role:"button","aria-live":"polite"},r),this.xt=i.tabIndex;var e=t.prototype.createEl.call(this,n,i,r);return this.createControlTextEl(e),e},i.createControlTextEl=function(t){return this.Ct=Det("span",{className:"vjs-control-text"}),t&&t.appendChild(this.Ct),this.controlText(this.St,t),this.Ct},i.controlText=function(t,n){if(void 0===n&&(n=this.el()),void 0===t)return this.St||"Need Text";var i=this.localize(t);return this.St=t,this.Ct.innerHTML=i,this.nonIconControl||n.setAttribute("title",i),this},i.buildCSSClass=function(){return"vjs-control vjs-button "+t.prototype.buildCSSClass.call(this)},i.enable=function(){return this.removeClass("vjs-disabled"),this.v.setAttribute("aria-disabled","false"),void 0!==this.xt&&this.v.setAttribute("tabIndex",this.xt),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this.on(["tap","click"],this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this},i.disable=function(){return this.addClass("vjs-disabled"),this.v.setAttribute("aria-disabled","true"),void 0!==this.xt&&this.v.removeAttribute("tabIndex"),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this},i.handleLanguagechange=function(){this.controlText(this.St)},i.handleClick=function(t){},i.handleFocus=function(t){Nut(eet,"keydown",zut(this,this.handleKeyPress))},i.handleKeyPress=function(n){32===n.which||13===n.which?(n.preventDefault(),this.handleClick(n)):t.prototype.handleKeyPress&&t.prototype.handleKeyPress.call(this,n)},i.handleBlur=function(t){Dut(eet,"keydown",zut(this,this.handleKeyPress))},n}(Put);Put.registerComponent("ClickableComponent",Nat);var Dat=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).update(),n.on("posterchange",zut(Qut(r),r.update)),r}Fut(n,t);var i=n.prototype;return i.dispose=function(){this.player().off("posterchange",this.update),t.prototype.dispose.call(this)},i.createEl=function(){var t=Det("div",{className:"vjs-poster",tabIndex:-1});return Aut||(this.jt=Det("img"),t.appendChild(this.jt)),t},i.update=function(t){var n=this.player().poster();this.setSrc(n),n?this.show():this.hide()},i.setSrc=function(t){if(this.jt)this.jt.src=t;else{var n="";t&&(n='url("'+t+'")'),this.v.style.backgroundImage=n}},i.handleClick=function(t){this.t.controls()&&(this.t.paused()?this.t.play():this.t.pause())},n}(Nat);Put.registerComponent("PosterImage",Dat);var Iat="#222",Eat={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function Sat(t,n){return"rgba("+y(t[1]+t[1],16)+","+y(t[2]+t[2],16)+","+y(t[3]+t[3],16)+","+n+")"}function Lat(t,n,i){try{t.style[n]=i}catch(t){return}}var jat=function(t){function n(n,i,r){var e;return e=t.call(this,n,i,r)||this,n.on("loadstart",zut(Qut(e),e.toggleDisplay)),n.on("texttrackchange",zut(Qut(e),e.updateDisplay)),n.ready(zut(Qut(e),(function(){if(n.H&&n.H.featuresNativeTextTracks)this.hide();else{n.on("fullscreenchange",zut(this,this.updateDisplay));for(var t=this.h.playerOptions.tracks||[],i=0;i<t.length;i++)this.t.addRemoteTextTrack(t[i],!0);var r,e,u={captions:1,subtitles:1},s=this.t.textTracks();if(s){for(var o=0;o<s.length;o++){var a=s[o];a.default&&("descriptions"!==a.kind||r?a.kind in u&&!e&&(e=a):r=a)}e?e.mode="showing":r&&(r.mode="showing")}}}))),e}Fut(n,t);var i=n.prototype;return i.toggleDisplay=function(){this.t.H&&this.t.H.featuresNativeTextTracks?this.hide():this.show()},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},i.clearDisplay=function(){"function"==typeof ret.WebVTT&&ret.WebVTT.processCues(ret,[],this.v)},i.updateDisplay=function(){var t=this.t.textTracks();if(this.clearDisplay(),t){for(var n=null,i=null,r=t.length;r--;){var e=t[r];"showing"===e.mode&&("descriptions"===e.kind?n=e:i=e)}i?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(i)):n&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(n))}},i.updateForTrack=function(t){if("function"==typeof ret.WebVTT&&t.activeCues){for(var n=this.t.textTrackSettings.getValues(),i=[],r=0;r<t.activeCues.length;r++)i.push(t.activeCues[r]);ret.WebVTT.processCues(ret,i,this.v);for(var e=i.length;e--;){var u=i[e];if(u){var s=u.displayState;if(n.color&&(s.firstChild.style.color=n.color),n.textOpacity&&Lat(s.firstChild,"color",Sat(n.color||"#fff",n.textOpacity)),n.backgroundColor&&(s.firstChild.style.backgroundColor=n.backgroundColor),n.backgroundOpacity&&Lat(s.firstChild,"backgroundColor",Sat(n.backgroundColor||"#000",n.backgroundOpacity)),n.windowColor&&(n.windowOpacity?Lat(s,"backgroundColor",Sat(n.windowColor,n.windowOpacity)):s.style.backgroundColor=n.windowColor),n.edgeStyle&&("dropshadow"===n.edgeStyle?s.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px "+Iat:"raised"===n.edgeStyle?s.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px "+Iat:"depressed"===n.edgeStyle?s.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px "+Iat:"uniform"===n.edgeStyle&&(s.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px "+Iat)),n.fontPercent&&1!==n.fontPercent){var o=ret.parseFloat(s.style.fontSize);s.style.fontSize=o*n.fontPercent+"px",s.style.height="auto",s.style.top="auto",s.style.bottom="2px"}n.fontFamily&&"default"!==n.fontFamily&&("small-caps"===n.fontFamily?s.firstChild.style.fontVariant="small-caps":s.firstChild.style.fontFamily=Eat[n.fontFamily])}}}},n}(Put);Put.registerComponent("TextTrackDisplay",jat);var Cat=function(t){function n(){return t.apply(this,arguments)||this}return Fut(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"})},n}(Put);Put.registerComponent("LoadingSpinner",Cat);var xat=function(t){function n(){return t.apply(this,arguments)||this}Fut(n,t);var i=n.prototype;return i.createEl=function(t,n,i){void 0===t&&(t="button"),void 0===n&&(n={}),void 0===i&&(i={}),n=vet({className:this.buildCSSClass()},n),"button"!==t&&(yet.warn("Creating a Button with an HTML element of "+t+" is deprecated; use ClickableComponent instead."),n=vet({tabIndex:0},n),i=vet({role:"button"},i)),i=vet({type:"button","aria-live":"polite"},i);var r=Put.prototype.createEl.call(this,t,n,i);return this.createControlTextEl(r),r},i.addChild=function(t,n){void 0===n&&(n={});var i=this.constructor.name;return yet.warn("Adding an actionable (user controllable) child to a Button ("+i+") is not supported; use a ClickableComponent instead."),Put.prototype.addChild.call(this,t,n)},i.enable=function(){t.prototype.enable.call(this),this.v.removeAttribute("disabled")},i.disable=function(){t.prototype.disable.call(this),this.v.setAttribute("disabled","disabled")},i.handleKeyPress=function(n){32!==n.which&&13!==n.which&&t.prototype.handleKeyPress.call(this,n)},n}(Nat);Put.registerComponent("Button",xat);var Oat=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Tt=!1,r.on("mousedown",r.handleMouseDown),r}Fut(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"vjs-big-play-button"},i.handleClick=function(t){var n=this;if(this.Tt&&t.clientX&&t.clientY)this.t.play();else{var i=this.t.getChild("controlBar"),r=i&&i.getChild("playToggle");this.one(this.t,"play",(function(){r?r.focus():n.t.focus()})),this.t.play()}},i.handleKeyPress=function(n){this.Tt=!1,t.prototype.handleKeyPress.call(this,n)},i.handleMouseDown=function(t){this.Tt=!0},n}(xat);Oat.prototype.St="Play Video",Put.registerComponent("BigPlayButton",Oat);var zat=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).controlText(i&&i.controlText||"Close"),r}Fut(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"vjs-close-button "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(t){this.trigger({type:"close",bubbles:!1})},n}(xat);Put.registerComponent("CloseButton",zat);var Rat=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).on(n,"play",r.handlePlay),r.on(n,"pause",r.handlePause),r}Fut(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"vjs-play-control "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(t){this.t.paused()?this.t.play():this.t.pause()},i.handlePlay=function(t){this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},i.handlePause=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},n}(xat);function Bat(t,n){void 0===n&&(n=t),t=t<0?0:t;var i=w.floor(t%60),r=w.floor(t/60%60),e=w.floor(t/3600),u=w.floor(n/60%60),s=w.floor(n/3600);return(A(t)||t===1/0)&&(e=r=i="-"),(e=e>0||s>0?e+":":"")+(r=((e||u>=10)&&r<10?"0"+r:r)+":")+(i=i<10?"0"+i:i)}Rat.prototype.St="Play",Put.registerComponent("PlayToggle",Rat);var Pat=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).on(n,"timeupdate",r.updateContent),r.on(n,"languagechange",r.updateContent),r}Fut(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-control vjs-control"});return this.S=Det("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00'},{"aria-live":"off"}),n.appendChild(this.S),n},i.updateContent=function(t){var n=this.t.scrubbing()?this.t.getCache().currentTime:this.t.currentTime(),i=this.localize("Current Time"),r=Bat(n,this.t.duration());r!==this.Mt&&(this.Mt=r,this.S.innerHTML='<span class="vjs-control-text">'+i+"</span> "+r)},n}(Put);Put.registerComponent("CurrentTimeDisplay",Pat);var Uat=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).on(n,"durationchange",r.updateContent),r.on(n,"timeupdate",r.updateContent),r.on(n,"loadedmetadata",r.updateContent),r.on(n,"languagechange",r.updateContent),r}Fut(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-control vjs-control"});return this.S=Det("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Duration Time")+"</span> 0:00"},{"aria-live":"off"}),n.appendChild(this.S),n},i.updateContent=function(t){var n=this.t.duration();if(n&&this.ct!==n){this.ct=n;var i=this.localize("Duration Time"),r=Bat(n);this.S.innerHTML='<span class="vjs-control-text">'+i+"</span> "+r}},n}(Put);Put.registerComponent("DurationDisplay",Uat);var Qat=function(t){function n(){return t.apply(this,arguments)||this}return Fut(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},n}(Put);Put.registerComponent("TimeDivider",Qat);var Yat=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).on(n,"timeupdate",r.updateContent),r.on(n,"durationchange",r.updateContent),r.on(n,"languagechange",r.updateContent),r}Fut(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-control vjs-control"});return this.S=Det("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Remaining Time")+"</span> -0:00"},{"aria-live":"off"}),n.appendChild(this.S),n},i.updateContent=function(t){if(this.t.duration()){var n=this.localize("Remaining Time"),i=Bat(this.t.remainingTime());i!==this.Mt&&(this.Mt=i,this.S.innerHTML='<span class="vjs-control-text">'+n+"</span> -"+i)}},n}(Put);Put.registerComponent("RemainingTimeDisplay",Yat);var Fat=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).updateShowing(),r.on(r.player(),"durationchange",r.updateShowing),r.on(r.player(),"languagechange",r.handleLanguagechange),r}Fut(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.S=Det("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.Ct=Det("span",{className:"vjs-control-text",innerHTML:this.localize("Stream Type")}),this.At=eet.createTextNode(this.localize("LIVE")),this.S.appendChild(this.Ct),this.S.appendChild(this.At),n.appendChild(this.S),n},i.updateShowing=function(t){this.player().duration()===1/0?this.show():this.hide()},i.handleLanguagechange=function(){this.Ct.innerHTML=this.localize("Stream Type"),this.At.innerHTML=this.localize("LIVE")},n}(Put);Put.registerComponent("LiveDisplay",Fat);var Gat=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).bar=r.getChild(r.h.barName),r.vertical(!!r.h.vertical),r.on("mousedown",r.handleMouseDown),r.on("touchstart",r.handleMouseDown),r.on("focus",r.handleFocus),r.on("blur",r.handleBlur),r.on("click",r.handleClick),r.on(n,"controlsvisible",r.update),r.on(n,r.playerEvent,r.update),r}Fut(n,t);var i=n.prototype;return i.createEl=function(n,i,r){return void 0===i&&(i={}),void 0===r&&(r={}),i.className=i.className+" vjs-slider",i=vet({tabIndex:0},i),r=vet({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},r),t.prototype.createEl.call(this,n,i,r)},i.handleMouseDown=function(t){var n=this.bar.v.ownerDocument;t.preventDefault(),eet.body.focus(),eet.onselectstart=function(){return!1},this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(n,"mousemove",this.handleMouseMove),this.on(n,"mouseup",this.handleMouseUp),this.on(n,"touchmove",this.handleMouseMove),this.on(n,"touchend",this.handleMouseUp),this.handleMouseMove(t)},i.handleMouseMove=function(t){},i.handleMouseUp=function(){var t=this.bar.v.ownerDocument;eet.onselectstart=function(){return!0},this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.update()},i.update=function(){if(this.v){var t=this.getPercent(),n=this.bar;if(n){("number"!=typeof t||t!=t||t<0||t===1/0)&&(t=0);var i=(100*t).toFixed(2)+"%";this.vertical()?n.el().style.height=i:n.el().style.width=i}}},i.calculateDistance=function(t){var n=Vet(this.v,t);return this.vertical()?n.y:n.x},i.handleFocus=function(){this.on(this.bar.v.ownerDocument,"keydown",this.handleKeyPress)},i.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepBack()):38!==t.which&&39!==t.which||(t.preventDefault(),this.stepForward())},i.handleBlur=function(){this.off(this.bar.v.ownerDocument,"keydown",this.handleKeyPress)},i.handleClick=function(t){t.stopImmediatePropagation(),t.preventDefault()},i.vertical=function(t){return void 0===t?this.Pt||!1:(this.Pt=!!t,this.Pt?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal"),this)},n}(Put);function Vat(t,n){if(!t||!n)return"";if("function"==typeof ret.getComputedStyle){var i=ret.getComputedStyle(t);return i?i[n]:""}return t.currentStyle[n]||""}Put.registerComponent("Slider",Gat);var Wat=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Et=[],r.on(n,"progress",r.update),r.on(n,"languagechange",r.handleLanguagechange),r}Fut(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-load-progress"});return this.Nt=Det("span",{innerHTML:this.localize("Loaded")}),this.Bt=eet.createTextNode(": 0%"),this.Ct=Det("span",{className:"vjs-control-text"}),this.Ct.appendChild(this.Nt),this.Ct.appendChild(this.Bt),n.appendChild(this.Ct),n},i.update=function(t){var n=this.t.buffered(),i=this.t.duration(),r=this.t.bufferedEnd(),e=this.Et,u=function(t,n){var i=t/n||0;return 100*(i>=1?1:i)+"%"};this.v.style.width=u(r,i);for(var s=0;s<n.length;s++){var o=n.start(s),a=n.end(s),c=e[s];c||(c=this.v.appendChild(Det()),e[s]=c),c.style.left=u(o,r),c.style.width=u(a-o,r)}for(var h=e.length;h>n.length;h--)this.v.removeChild(e[h-1]);e.length=n.length},i.handleLanguagechange=function(){this.Nt.innerHTML=this.localize("Loaded")},n}(Put);Put.registerComponent("LoadProgressBar",Wat);var Xat=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).updateDataAttr(),r.on(n,"timeupdate",r.updateDataAttr),r.on(n,"languagechange",r.handleLanguagechange),n.ready(zut(Qut(r),r.updateDataAttr)),i.playerOptions&&i.playerOptions.controlBar&&i.playerOptions.controlBar.progressControl&&i.playerOptions.controlBar.progressControl.keepTooltipsInside&&(r.keepTooltipsInside=i.playerOptions.controlBar.progressControl.keepTooltipsInside),r.keepTooltipsInside&&r.addClass("vjs-keep-tooltips-inside"),r}Fut(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"});return this.It=Det("span",{innerHTML:this.localize("Progress")}),this.Ft=eet.createTextNode(": 0%"),this.Ct=Det("span",{className:"vjs-control-text"}),this.Ct.appendChild(this.It),this.Ct.appendChild(this.Ft),n.appendChild(this.Ct),n},i.updateDataAttr=function(t){var n=this.t.scrubbing()?this.t.getCache().currentTime:this.t.currentTime();this.v.setAttribute("data-current-time",Bat(n,this.t.duration()))},i.handleLanguagechange=function(){this.It.innerHTML=this.localize("Progress")},n}(Put);Put.registerComponent("PlayProgressBar",Xat);var Zat=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).updateDataAttr(),r.on(n,"timeupdate",r.updateDataAttr),r.on(n,"languagechange",r.handleLanguagechange),n.ready(zut(Qut(r),r.updateDataAttr)),r}Fut(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-tooltip-progress-bar vjs-slider-bar"});return this.tooltip=Det("div",{className:"vjs-time-tooltip"}),this.It=Det("span",{innerHTML:this.localize("Progress")}),this.Ft=eet.createTextNode(": 0%"),this.Ct=Det("span",{className:"vjs-control-text"}),this.Ct.appendChild(this.It),this.Ct.appendChild(this.Ft),n.appendChild(this.tooltip),n.appendChild(this.Ct),n},i.updateDataAttr=function(t){var n=Bat(this.t.scrubbing()?this.t.getCache().currentTime:this.t.currentTime(),this.t.duration());this.v.setAttribute("data-current-time",n),this.tooltip.innerHTML=n},i.handleLanguagechange=function(){this.It.innerHTML=this.localize("Progress")},n}(Put);Put.registerComponent("TooltipProgressBar",Zat);var Hat=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).on(n,"timeupdate",r.updateProgress),r.on(n,"ended",r.updateProgress),n.ready(zut(Qut(r),r.updateProgress)),i.playerOptions&&i.playerOptions.controlBar&&i.playerOptions.controlBar.progressControl&&i.playerOptions.controlBar.progressControl.keepTooltipsInside&&(r.keepTooltipsInside=i.playerOptions.controlBar.progressControl.keepTooltipsInside),r.keepTooltipsInside&&(r.tooltipProgressBar=r.addChild("TooltipProgressBar")),r}Fut(n,t);var i=n.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":"progress bar"})},i.updateProgress=function(t){if(this.updateAriaAttributes(this.v),this.keepTooltipsInside){this.updateAriaAttributes(this.tooltipProgressBar.v),this.tooltipProgressBar.v.style.width=this.bar.v.style.width;var n=m(Vat(this.player().el(),"width")),i=m(Vat(this.tooltipProgressBar.tooltip,"width")),r=this.tooltipProgressBar.el().style;r.maxWidth=w.floor(n-i/2)+"px",r.minWidth=w.ceil(i/2)+"px",r.right="-"+i/2+"px"}},i.updateAriaAttributes=function(t){var n=this.t.scrubbing()?this.t.getCache().currentTime:this.t.currentTime();t.setAttribute("aria-valuenow",(100*this.getPercent()).toFixed(2)),t.setAttribute("aria-valuetext",Bat(n,this.t.duration()))},i.getPercent=function(){var t=this.t.currentTime()/this.t.duration();return t>=1?1:t},i.handleMouseDown=function(n){this.t.scrubbing(!0),this.videoWasPlaying=!this.t.paused(),this.t.pause(),t.prototype.handleMouseDown.call(this,n)},i.handleMouseMove=function(t){var n=this.calculateDistance(t)*this.t.duration();n===this.t.duration()&&(n-=.1),this.t.currentTime(n)},i.handleMouseUp=function(n){t.prototype.handleMouseUp.call(this,n),this.t.scrubbing(!1),this.videoWasPlaying&&this.t.play()},i.stepForward=function(){this.t.currentTime(this.t.currentTime()+5)},i.stepBack=function(){this.t.currentTime(this.t.currentTime()-5)},n}(Gat);Hat.prototype.h={children:["loadProgressBar","mouseTimeDisplay","playProgressBar"],barName:"playProgressBar"},Hat.prototype.playerEvent="timeupdate",Put.registerComponent("SeekBar",Hat);var Kat=function(t){function n(n,i){var r;return r=t.call(this,n,i)||this,i.playerOptions&&i.playerOptions.controlBar&&i.playerOptions.controlBar.progressControl&&i.playerOptions.controlBar.progressControl.keepTooltipsInside&&(r.keepTooltipsInside=i.playerOptions.controlBar.progressControl.keepTooltipsInside),r.keepTooltipsInside&&(r.tooltip=Det("div",{className:"vjs-time-tooltip"}),r.el().appendChild(r.tooltip),r.addClass("vjs-keep-tooltips-inside")),r.update(0,0),n.on("ready",(function(){r.on(n.controlBar.progressControl.el(),"mousemove",function(t,n){var i=Date.now();return function(){var r=Date.now();r-i>=n&&(t.apply(void 0,arguments),i=r)}}(zut(Qut(r),r.handleMouseMove),25))})),r}Fut(n,t);var i=n.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},i.handleMouseMove=function(t){var n=this.t.duration(),i=this.calculateDistance(t)*n,r=t.pageX-Get(this.el().parentNode).left;this.update(i,r)},i.update=function(t,n){var i=Bat(t,this.t.duration());if(this.el().style.left=n+"px",this.el().setAttribute("data-current-time",i),this.keepTooltipsInside){var r=n-this.Dt(n)+1,e=m(Vat(this.tooltip,"width"))/2;this.tooltip.innerHTML=i,this.tooltip.style.right="-"+(e-r)+"px"}},i.calculateDistance=function(t){return Vet(this.el().parentNode,t).x},i.Dt=function(t){if(!this.keepTooltipsInside)return t;var n=m(Vat(this.player().el(),"width")),i=m(Vat(this.tooltip,"width"))/2,r=t;return t<i?r=w.ceil(i):t>n-i&&(r=w.floor(n-i)),r},n}(Put);Put.registerComponent("MouseTimeDisplay",Kat);var qat=function(t){function n(){return t.apply(this,arguments)||this}return Fut(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},n}(Put);qat.prototype.h={children:["seekBar"]},Put.registerComponent("ProgressControl",qat);var Jat=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).on(n,"fullscreenchange",r.handleFullscreenChange),r}Fut(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"vjs-fullscreen-control "+t.prototype.buildCSSClass.call(this)},i.handleFullscreenChange=function(t){this.t.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},i.handleClick=function(t){this.t.isFullscreen()?this.t.exitFullscreen():this.t.requestFullscreen()},n}(xat);Jat.prototype.St="Fullscreen",Put.registerComponent("FullscreenToggle",Jat);var $at=function(t){function n(){return t.apply(this,arguments)||this}return Fut(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},n}(Put);Put.registerComponent("VolumeLevel",$at);var tct=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).on(n,"volumechange",r.updateARIAAttributes),n.ready(zut(Qut(r),r.updateARIAAttributes)),r}Fut(n,t);var i=n.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":"volume level"})},i.handleMouseMove=function(t){this.checkMuted(),this.t.volume(this.calculateDistance(t))},i.checkMuted=function(){this.t.muted()&&this.t.muted(!1)},i.getPercent=function(){return this.t.muted()?0:this.t.volume()},i.stepForward=function(){this.checkMuted(),this.t.volume(this.t.volume()+.1)},i.stepBack=function(){this.checkMuted(),this.t.volume(this.t.volume()-.1)},i.updateARIAAttributes=function(t){var n=(100*this.t.volume()).toFixed(2);this.v.setAttribute("aria-valuenow",n),this.v.setAttribute("aria-valuetext",n+"%")},n}(Gat);tct.prototype.h={children:["volumeLevel"],barName:"volumeLevel"},tct.prototype.playerEvent="volumechange",Put.registerComponent("VolumeBar",tct);var nct=function(t){function n(n,i){var r;return r=t.call(this,n,i)||this,n.H&&!1===n.H.featuresVolumeControl&&r.addClass("vjs-hidden"),r.on(n,"loadstart",(function(){!1===n.H.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")})),r}return Fut(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control"})},n}(Put);nct.prototype.h={children:["volumeBar"]},Put.registerComponent("VolumeControl",nct);var ict=function(t){function n(){return t.apply(this,arguments)||this}Fut(n,t);var i=n.prototype;return i.addItem=function(t){this.addChild(t),t.on("click",zut(this,(function(){this.unlockShowing()})))},i.createEl=function(){var n=this.h.contentElType||"ul";this.S=Det(n,{className:"vjs-menu-content"});var i=t.prototype.createEl.call(this,"div",{append:this.S,className:"vjs-menu"});return i.appendChild(this.S),Nut(i,"click",(function(t){t.preventDefault(),t.stopImmediatePropagation()})),i},n}(Put);Put.registerComponent("Popup",ict);var rct=function(t){function n(n,i){var r;return void 0===i&&(i={}),(r=t.call(this,n,i)||this).update(),r}Fut(n,t);var i=n.prototype;return i.update=function(){var t=this.createPopup();this.popup&&this.removeChild(this.popup),this.popup=t,this.addChild(t),this.items&&0===this.items.length?this.hide():this.items&&this.items.length>1&&this.show()},i.createPopup=function(){},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},i.buildCSSClass=function(){var n="vjs-menu-button";return!0===this.h.inline?n+="-inline":n+="-popup","vjs-menu-button "+n+" "+t.prototype.buildCSSClass.call(this)},n}(Nat);Put.registerComponent("PopupButton",rct);var ect=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).on(n,"volumechange",r.update),n.H&&!1===n.H.featuresVolumeControl&&r.addClass("vjs-hidden"),r.on(n,"loadstart",(function(){this.update(),!1===n.H.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")})),r}Fut(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"vjs-mute-control "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(t){this.t.muted(!this.t.muted())},i.update=function(t){var n=this.t.volume(),i=3;this.t.muted()?i=0:n<.33?i=1:n<.67&&(i=2);var r=this.t.muted()?"Unmute":"Mute";this.controlText()!==r&&this.controlText(r);for(var e=0;e<4;e++)Bet(this.v,"vjs-vol-"+e);Ret(this.v,"vjs-vol-"+i)},n}(xat);ect.prototype.St="Mute",Put.registerComponent("MuteToggle",ect);var uct=function(t){function n(n,i){var r;function e(){n.H&&!1===n.H.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}return void 0===i&&(i={}),void 0===i.inline&&(i.inline=!0),void 0===i.vertical&&(i.inline?i.vertical=!1:i.vertical=!0),i.volumeBar=i.volumeBar||{},i.volumeBar.vertical=!!i.vertical,(r=t.call(this,n,i)||this).on(n,"volumechange",r.volumeUpdate),r.on(n,"loadstart",r.volumeUpdate),e.call(Qut(r)),r.on(n,"loadstart",e),r.on(r.volumeBar,["slideractive","focus"],(function(){this.addClass("vjs-slider-active")})),r.on(r.volumeBar,["sliderinactive","blur"],(function(){this.removeClass("vjs-slider-active")})),r.on(r.volumeBar,["focus"],(function(){this.addClass("vjs-lock-showing")})),r.on(r.volumeBar,["blur"],(function(){this.removeClass("vjs-lock-showing")})),r}Fut(n,t);var i=n.prototype;return i.buildCSSClass=function(){var n="";return n=this.h.vertical?"vjs-volume-menu-button-vertical":"vjs-volume-menu-button-horizontal","vjs-volume-menu-button "+t.prototype.buildCSSClass.call(this)+" "+n},i.createPopup=function(){var t=new ict(this.t,{contentElType:"div"}),n=new tct(this.t,this.h.volumeBar);return t.addChild(n),this.menuContent=t,this.volumeBar=n,this.attachVolumeBarEvents(),t},i.handleClick=function(n){ect.prototype.handleClick.call(this),t.prototype.handleClick.call(this)},i.attachVolumeBarEvents=function(){this.menuContent.on(["mousedown","touchdown"],zut(this,this.handleMouseDown))},i.handleMouseDown=function(t){this.on(["mousemove","touchmove"],zut(this.volumeBar,this.volumeBar.handleMouseMove)),this.on(this.v.ownerDocument,["mouseup","touchend"],this.handleMouseUp)},i.handleMouseUp=function(t){this.off(["mousemove","touchmove"],zut(this.volumeBar,this.volumeBar.handleMouseMove))},n}(rct);uct.prototype.volumeUpdate=ect.prototype.update,uct.prototype.St="Mute",Put.registerComponent("VolumeMenuButton",uct);var sct=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).$t=-1,r.on("keydown",r.handleKeyPress),r}Fut(n,t);var i=n.prototype;return i.addItem=function(t){this.addChild(t),t.on("click",zut(this,(function(t){this.unlockShowing()})))},i.createEl=function(){var n=this.h.contentElType||"ul";this.S=Det(n,{className:"vjs-menu-content"}),this.S.setAttribute("role","menu");var i=t.prototype.createEl.call(this,"div",{append:this.S,className:"vjs-menu"});return i.setAttribute("role","presentation"),i.appendChild(this.S),Nut(i,"click",(function(t){t.preventDefault(),t.stopImmediatePropagation()})),i},i.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepForward()):38!==t.which&&39!==t.which||(t.preventDefault(),this.stepBack())},i.stepForward=function(){var t=0;void 0!==this.$t&&(t=this.$t+1),this.focus(t)},i.stepBack=function(){var t=0;void 0!==this.$t&&(t=this.$t-1),this.focus(t)},i.focus=function(t){void 0===t&&(t=0);var n=this.children().slice();n.length&&n[0].className&&/vjs-menu-title/.test(n[0].className)&&n.shift(),n.length>0&&(t<0?t=0:t>=n.length&&(t=n.length-1),this.$t=t,n[t].v.focus())},n}(Put);Put.registerComponent("Menu",sct);var oct=function(t){function n(n,i){var r;return void 0===i&&(i={}),(r=t.call(this,n,i)||this).update(),r.Rt=!0,r.v.setAttribute("aria-haspopup","true"),r.v.setAttribute("role","menuitem"),r.on("keydown",r.handleSubmenuKeyPress),r}Fut(n,t);var i=n.prototype;return i.update=function(){var t=this.createMenu();this.menu&&this.removeChild(this.menu),this.menu=t,this.addChild(t),this.Ot=!1,this.v.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.Vt?this.hide():this.show()},i.createMenu=function(){var t=new sct(this.t);if(this.Vt=0,this.h.title){var n=Det("li",{className:"vjs-menu-title",innerHTML:Rut(this.h.title),tabIndex:-1});this.Vt+=1,t.m.unshift(n),Eet(n,t.contentEl())}if(this.items=this.createItems(),this.items)for(var i=0;i<this.items.length;i++)t.addItem(this.items[i]);return t},i.createItems=function(){},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},i.buildCSSClass=function(){var n="vjs-menu-button";return!0===this.h.inline?n+="-inline":n+="-popup","vjs-menu-button "+n+" "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(t){this.one(this.menu.contentEl(),"mouseleave",zut(this,(function(t){this.unpressButton(),this.v.blur()}))),this.Ot?this.unpressButton():this.pressButton()},i.handleKeyPress=function(n){27===n.which||9===n.which?(this.Ot&&this.unpressButton(),9!==n.which&&n.preventDefault()):38===n.which||40===n.which?this.Ot||(this.pressButton(),n.preventDefault()):t.prototype.handleKeyPress.call(this,n)},i.handleSubmenuKeyPress=function(t){27!==t.which&&9!==t.which||(this.Ot&&this.unpressButton(),9!==t.which&&t.preventDefault())},i.pressButton=function(){this.Rt&&(this.Ot=!0,this.menu.lockShowing(),this.v.setAttribute("aria-expanded","true"),this.menu.focus())},i.unpressButton=function(){this.Rt&&(this.Ot=!1,this.menu.unlockShowing(),this.v.setAttribute("aria-expanded","false"),this.v.focus())},i.disable=function(){return this.Ot=!1,this.menu.unlockShowing(),this.v.setAttribute("aria-expanded","false"),this.Rt=!1,t.prototype.disable.call(this)},i.enable=function(){return this.Rt=!0,t.prototype.enable.call(this)},n}(Nat);Put.registerComponent("MenuButton",oct);var act=function(t){function n(n,i){var r,e=i.tracks;if((r=t.call(this,n,i)||this).items.length<=1&&r.hide(),!e)return Qut(r);var u=zut(Qut(r),r.update);return e.addEventListener("removetrack",u),e.addEventListener("addtrack",u),r.t.on("dispose",(function(){e.removeEventListener("removetrack",u),e.removeEventListener("addtrack",u)})),r}return Fut(n,t),n}(oct);Put.registerComponent("TrackButton",act);var cct=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).selectable=i.selectable,r.selected(i.selected),r.selectable?r.v.setAttribute("role","menuitemcheckbox"):r.v.setAttribute("role","menuitem"),r}Fut(n,t);var i=n.prototype;return i.createEl=function(n,i,r){this.nonIconControl=!0;var e=t.prototype.createEl.call(this,"li",vet({className:"vjs-menu-item",tabIndex:-1},i),r);return this.Ut=eet.createTextNode(this.localize(this.h.label)),e.appendChild(this.Ut),e},i.handleClick=function(t){this.selected(!0)},i.selected=function(t){this.selectable&&(t?(this.addClass("vjs-selected"),this.v.setAttribute("aria-checked","true"),this.controlText(", selected")):(this.removeClass("vjs-selected"),this.v.setAttribute("aria-checked","false"),this.controlText("")))},i.handleLanguagechange=function(){t.prototype.handleLanguagechange.call(this),this.Ut.innerHTML=this.localize(this.h.label)},n}(Nat);Put.registerComponent("MenuItem",cct);var hct=function(t){function n(n,i){var r,e,u=i.track,s=n.textTracks();if(i.label=u.label||u.language||"Unknown",i.selected=u.default||"showing"===u.mode,(r=t.call(this,n,i)||this).track=u,s){var o=zut(Qut(r),r.handleTracksChange);n.on(["loadstart","texttrackchange"],o),s.addEventListener("change",o),r.on("dispose",(function(){s.removeEventListener("change",o)}))}s&&void 0===s.onchange&&r.on(["tap","click"],(function(){if("object"!=typeof ret.Event)try{e=new ret.Event("change")}catch(t){}e||(e=eet.createEvent("Event")).initEvent("change",!0,!0),s.dispatchEvent(e)}));return r}Fut(n,t);var i=n.prototype;return i.handleClick=function(n){var i=this.track.kind,r=this.t.textTracks();if(t.prototype.handleClick.call(this,n),r)for(var e=0;e<r.length;e++){var u=r[e];u.kind===i&&(u===this.track?"showing"!==u.mode&&(u.mode="showing"):"disabled"!==u.mode&&(u.mode="disabled"))}},i.handleTracksChange=function(t){this.selected("showing"===this.track.mode)},n}(cct);Put.registerComponent("TextTrackMenuItem",hct);var fct=function(t){function n(n,i){var r;return i.track={player:n,kind:i.kind,label:i.kind+" off",default:!1,mode:"disabled"},i.selectable=!0,(r=t.call(this,n,i)||this).selected(!0),r}return Fut(n,t),n.prototype.handleTracksChange=function(t){for(var n=this.player().textTracks(),i=!0,r=0,e=n.length;r<e;r++){var u=n[r];if(u.kind===this.track.kind&&"showing"===u.mode){i=!1;break}}this.selected(i)},n}(hct);Put.registerComponent("OffTextTrackMenuItem",fct);var vct=function(t){function n(n,i){return void 0===i&&(i={}),i.tracks=n.textTracks(),t.call(this,n,i)||this}return Fut(n,t),n.prototype.createItems=function(t){void 0===t&&(t=[]),t.push(new fct(this.t,{kind:this.zt})),this.Vt+=1;var n=this.t.textTracks();if(!n)return t;for(var i=0;i<n.length;i++){var r=n[i];r.kind===this.zt&&t.push(new hct(this.t,{track:r,selectable:!0}))}return t},n}(act);Put.registerComponent("TextTrackButton",vct);var lct=function(t){function n(n,i){var r,e=i.track,u=i.cue,s=n.currentTime();return i.selectable=!0,i.label=u.text,i.selected=u.startTime<=s&&s<u.endTime,(r=t.call(this,n,i)||this).track=e,r.cue=u,e.addEventListener("cuechange",zut(Qut(r),r.update)),r}Fut(n,t);var i=n.prototype;return i.handleClick=function(n){t.prototype.handleClick.call(this),this.t.currentTime(this.cue.startTime),this.update(this.cue.startTime)},i.update=function(t){var n=this.cue,i=this.t.currentTime();this.selected(n.startTime<=i&&i<n.endTime)},n}(cct);Put.registerComponent("ChaptersTrackMenuItem",lct);var dct=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).v.setAttribute("aria-label","Chapters Menu"),e}Fut(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildCSSClass.call(this)},i.update=function(n){this.Lt&&(!n||"addtrack"!==n.type&&"removetrack"!==n.type)||this.setTrack(this.findChaptersTrack()),t.prototype.update.call(this)},i.setTrack=function(t){if(this.Lt!==t){if(this.Ht||(this.Ht=this.update.bind(this)),this.Lt){var n=this.t.remoteTextTrackEls().Y(this.Lt);n&&n.removeEventListener("load",this.Ht),this.Lt=null}if(this.Lt=t,this.Lt){this.Lt.mode="hidden";var i=this.t.remoteTextTrackEls().Y(this.Lt);i&&i.addEventListener("load",this.Ht)}}},i.findChaptersTrack=function(){for(var t=this.t.textTracks()||[],n=t.length-1;n>=0;n--){var i=t[n];if(i.kind===this.zt)return i}},i.getMenuCaption=function(){return this.Lt&&this.Lt.label?this.Lt.label:this.localize(Rut(this.zt))},i.createMenu=function(){return this.h.title=this.getMenuCaption(),t.prototype.createMenu.call(this)},i.createItems=function(){var t=[];if(!this.Lt)return t;var n=this.Lt.cues;if(!n)return t;for(var i=0,r=n.length;i<r;i++){var e=n[i],u=new lct(this.t,{track:this.Lt,cue:e});t.push(u)}return t},n}(vct);dct.prototype.zt="chapters",dct.prototype.St="Chapters",Put.registerComponent("ChaptersButton",dct);var gct=function(t){function n(n,i,r){var e;(e=t.call(this,n,i,r)||this).v.setAttribute("aria-label","Descriptions Menu");var u=n.textTracks();if(u){var s=zut(Qut(e),e.handleTracksChange);u.addEventListener("change",s),e.on("dispose",(function(){u.removeEventListener("change",s)}))}return e}Fut(n,t);var i=n.prototype;return i.handleTracksChange=function(t){for(var n=this.player().textTracks(),i=!1,r=0,e=n.length;r<e;r++){var u=n[r];if(u.kind!==this.zt&&"showing"===u.mode){i=!0;break}}i?this.disable():this.enable()},i.buildCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildCSSClass.call(this)},n}(vct);gct.prototype.zt="descriptions",gct.prototype.St="Descriptions",Put.registerComponent("DescriptionsButton",gct);var wct=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).v.setAttribute("aria-label","Subtitles Menu"),e}return Fut(n,t),n.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildCSSClass.call(this)},n}(vct);wct.prototype.zt="subtitles",wct.prototype.St="Subtitles",Put.registerComponent("SubtitlesButton",wct);var yct=function(t){function n(n,i){var r;return i.track={player:n,kind:i.kind,label:i.kind+" settings",selectable:!1,default:!1,mode:"disabled"},i.selectable=!1,(r=t.call(this,n,i)||this).addClass("vjs-texttrack-settings"),r.controlText(", opens "+i.kind+" settings dialog"),r}return Fut(n,t),n.prototype.handleClick=function(t){this.player().getChild("textTrackSettings").show(),this.player().getChild("textTrackSettings").v.focus()},n}(hct);Put.registerComponent("CaptionSettingsMenuItem",yct);var mct=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).v.setAttribute("aria-label","Captions Menu"),e}Fut(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"vjs-captions-button "+t.prototype.buildCSSClass.call(this)},i.createItems=function(){var n=[];return this.player().H&&this.player().H.featuresNativeTextTracks||(n.push(new yct(this.t,{kind:this.zt})),this.Vt+=1),t.prototype.createItems.call(this,n)},n}(vct);mct.prototype.zt="captions",mct.prototype.St="Captions",Put.registerComponent("CaptionsButton",mct);var Act=function(t){function n(n,i){var r,e=i.track,u=n.audioTracks();if(i.label=e.label||e.language||"Unknown",i.selected=e.enabled,(r=t.call(this,n,i)||this).track=e,u){var s=zut(Qut(r),r.handleTracksChange);u.addEventListener("change",s),r.on("dispose",(function(){u.removeEventListener("change",s)}))}return r}Fut(n,t);var i=n.prototype;return i.handleClick=function(n){var i=this.t.audioTracks();if(t.prototype.handleClick.call(this,n),i)for(var r=0;r<i.length;r++){var e=i[r];e.enabled=e===this.track}},i.handleTracksChange=function(t){this.selected(this.track.enabled)},n}(cct);Put.registerComponent("AudioTrackMenuItem",Act);var pct=function(t){function n(n,i){var r;return void 0===i&&(i={}),i.tracks=n.audioTracks&&n.audioTracks(),(r=t.call(this,n,i)||this).v.setAttribute("aria-label","Audio Menu"),r}Fut(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"vjs-audio-button "+t.prototype.buildCSSClass.call(this)},i.createItems=function(t){void 0===t&&(t=[]),this.Vt=1;var n=this.t.audioTracks&&this.t.audioTracks();if(!n)return t;for(var i=0;i<n.length;i++){var r=n[i];t.push(new Act(this.t,{track:r,selectable:!0}))}return t},n}(act);pct.prototype.St="Audio Track",Put.registerComponent("AudioTrackButton",pct);var _ct=function(t){function n(n,i){var r,e=i.rate,u=m(e,10);return i.label=e,i.selected=1===u,i.selectable=!0,(r=t.call(this,n,i)||this).label=e,r.rate=u,r.on(n,"ratechange",r.update),r}Fut(n,t);var i=n.prototype;return i.handleClick=function(n){t.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},i.update=function(t){this.selected(this.player().playbackRate()===this.rate)},n}(cct);_ct.prototype.contentElType="button",Put.registerComponent("PlaybackRateMenuItem",_ct);var kct=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).updateVisibility(),r.updateLabel(),r.on(n,"loadstart",r.updateVisibility),r.on(n,"ratechange",r.updateLabel),r}Fut(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this);return this.Ut=Det("div",{className:"vjs-playback-rate-value",innerHTML:1}),n.appendChild(this.Ut),n},i.buildCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildCSSClass.call(this)},i.createMenu=function(){var t=new sct(this.player()),n=this.playbackRates();if(n)for(var i=n.length-1;i>=0;i--)t.addChild(new _ct(this.player(),{rate:n[i]+"x"}));return t},i.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},i.handleClick=function(t){for(var n=this.player().playbackRate(),i=this.playbackRates(),r=i[0],e=0;e<i.length;e++)if(i[e]>n){r=i[e];break}this.player().playbackRate(r)},i.playbackRates=function(){return this.h.playbackRates||this.h.playerOptions&&this.h.playerOptions.playbackRates},i.playbackRateSupported=function(){return this.player().H&&this.player().H.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},i.updateVisibility=function(t){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},i.updateLabel=function(t){this.playbackRateSupported()&&(this.Ut.innerHTML=this.player().playbackRate()+"x")},n}(oct);kct.prototype.St="Playback Rate",Put.registerComponent("PlaybackRateMenuButton",kct);var bct=function(t){function n(){return t.apply(this,arguments)||this}Fut(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"vjs-spacer "+t.prototype.buildCSSClass.call(this)},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},n}(Put);Put.registerComponent("Spacer",bct);var Mct=function(t){function n(){return t.apply(this,arguments)||this}Fut(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},i.createEl=function(){var n=t.prototype.createEl.call(this,{className:this.buildCSSClass()});return n.innerHTML="&nbsp;",n},n}(bct);Put.registerComponent("CustomControlSpacer",Mct);var Tct=function(t){function n(){return t.apply(this,arguments)||this}return Fut(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"},{role:"group"})},n}(Put);Tct.prototype.h={children:["playToggle","volumeMenuButton","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subtitlesButton","captionsButton","audioTrackButton","fullscreenToggle"]},Put.registerComponent("ControlBar",Tct);var Nct=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).on(n,"error",r.open),r}Fut(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"vjs-error-display "+t.prototype.buildCSSClass.call(this)},i.content=function(){var t=this.player().error();return t?this.localize(t.message):""},n}(ost);Nct.prototype.h=But(ost.prototype.h,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),Put.registerComponent("ErrorDisplay",Nct);var Dct="vjs-text-track-settings",Ict=["#000","Black"],Ect=["#00F","Blue"],Sct=["#0FF","Cyan"],Lct=["#0F0","Green"],jct=["#F0F","Magenta"],Cct=["#F00","Red"],xct=["#FFF","White"],Oct=["#FF0","Yellow"],zct=["1","Opaque"],Rct=["0.5","Semi-Transparent"],Bct=["0","Transparent"],Pct={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[Ict,xct,Cct,Lct,Ect,Oct,jct,Sct]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[zct,Rct,Bct]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[xct,Ict,Cct,Lct,Ect,Oct,jct,Sct]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(t){return"1.00"===t?null:Number(t)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[zct,Rct]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[Bct,Rct,zct]}};function Uct(t,n){if(n&&(t=n(t)),t&&"none"!==t)return t}Pct.windowColor.options=Pct.backgroundColor.options;var Qct,Yct=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).setDefaults(),r.hide(),r.updateDisplay=zut(Qut(r),r.updateDisplay),void 0===i.persistTextTrackSettings&&(r.h.persistTextTrackSettings=r.h.playerOptions.persistTextTrackSettings),r.on(r.$(".vjs-done-button"),"click",(function(){r.saveSettings(),r.hide()})),r.on(r.$(".vjs-default-button"),"click",(function(){r.setDefaults(),r.updateDisplay()})),fet(Pct,(function(t){r.on(r.$(t.selector),"change",r.updateDisplay)})),r.h.persistTextTrackSettings&&r.restoreSettings(),r}Fut(n,t);var i=n.prototype;return i.qt=function(t){var n=this,i=Pct[t],r=i.id.replace("%s",this.o);return[Det("label",{className:"vjs-label",textContent:i.label},{for:r}),Det("select",{id:r},void 0,i.options.map((function(t){return Det("option",{textContent:n.localize(t[1]),value:t[0]})})))]},i.Wt=function(){var t=Det("legend",{textContent:this.localize("Text")}),n=this.qt("color"),i=Det("span",{className:"vjs-text-opacity vjs-opacity"},void 0,this.qt("textOpacity"));return Det("fieldset",{className:"vjs-fg-color vjs-tracksetting"},void 0,[t].concat(n,i))},i.Gt=function(){var t=Det("legend",{textContent:this.localize("Background")}),n=this.qt("backgroundColor"),i=Det("span",{className:"vjs-bg-opacity vjs-opacity"},void 0,this.qt("backgroundOpacity"));return Det("fieldset",{className:"vjs-bg-color vjs-tracksetting"},void 0,[t].concat(n,i))},i.Xt=function(){var t=Det("legend",{textContent:this.localize("Window")}),n=this.qt("windowColor"),i=Det("span",{className:"vjs-window-opacity vjs-opacity"},void 0,this.qt("windowOpacity"));return Det("fieldset",{className:"vjs-window-color vjs-tracksetting"},void 0,[t].concat(n,i))},i.Jt=function(){return Det("div",{className:"vjs-tracksettings-colors"},void 0,[this.Wt(),this.Gt(),this.Xt()])},i.Qt=function(){var t=Det("div",{className:"vjs-font-percent vjs-tracksetting"},void 0,this.qt("fontPercent")),n=Det("div",{className:"vjs-edge-style vjs-tracksetting"},void 0,this.qt("edgeStyle")),i=Det("div",{className:"vjs-font-family vjs-tracksetting"},void 0,this.qt("fontFamily"));return Det("div",{className:"vjs-tracksettings-font"},void 0,[t,n,i])},i.Yt=function(){var t=Det("button",{className:"vjs-default-button",textContent:this.localize("Defaults")}),n=Det("button",{className:"vjs-done-button",textContent:"Done"});return Det("div",{className:"vjs-tracksettings-controls"},void 0,[t,n])},i.createEl=function(){var t=Det("div",{className:"vjs-tracksettings"},void 0,[this.Jt(),this.Qt(),this.Yt()]),n=Det("div",{className:"vjs-control-text",id:"TTsettingsDialogLabel-"+this.o,textContent:"Caption Settings Dialog"},{"aria-level":"1",role:"heading"}),i=Det("div",{className:"vjs-control-text",id:"TTsettingsDialogDescription-"+this.o,textContent:"Beginning of dialog window. Escape will cancel and close the window."}),r=Det("div",void 0,{role:"document"},[n,i,t]);return Det("div",{className:"vjs-caption-settings vjs-modal-overlay",tabIndex:-1},{role:"dialog","aria-labelledby":n.id,"aria-describedby":i.id},r)},i.getValues=function(){var t=this;return function(t,n,i){return void 0===i&&(i=0),het(t).reduce((function(i,r){return n(i,t[r],r)}),i)}(Pct,(function(n,i,r){var e=function(t,n){return Uct(t.options[t.options.selectedIndex].value,n)}(t.$(i.selector),i.parser);return void 0!==e&&(n[r]=e),n}),{})},i.setValues=function(t){var n=this;fet(Pct,(function(i,r){!function(t,n,i){if(n)for(var r=0;r<t.options.length;r++)if(Uct(t.options[r].value,i)===n){t.selectedIndex=r;break}}(n.$(i.selector),t[r],i.parser)}))},i.setDefaults=function(){var t=this;fet(Pct,(function(n){var i=n.hasOwnProperty("default")?n.default:0;t.$(n.selector).selectedIndex=i}))},i.restoreSettings=function(){var t;try{t=JSON.parse(ret.localStorage.getItem(Dct))}catch(t){yet.warn(t)}t&&this.setValues(t)},i.saveSettings=function(){if(this.h.persistTextTrackSettings){var t=this.getValues();try{g.keys(t).length?ret.localStorage.setItem(Dct,JSON.stringify(t)):ret.localStorage.removeItem(Dct)}catch(t){yet.warn(t)}}},i.updateDisplay=function(){var t=this.t.getChild("textTrackDisplay");t&&t.updateDisplay()},n}(Put);Put.registerComponent("TextTrackSettings",Yct);var Fct,Gct=function(t){function n(n,i){var r;r=t.call(this,n,i)||this;var e=n.source,u=!1;if(e&&(r.v.currentSrc!==e.src||n.tag&&3===n.tag.Kt)?r.setSource(e):r.Zt(r.v),r.v.hasChildNodes()){for(var s=r.v.childNodes,o=s.length,a=[];o--;){var c=s[o];"track"===c.nodeName.toLowerCase()&&(r.featuresNativeTextTracks?(r.remoteTextTrackEls().J(c),r.remoteTextTracks().tt(c.track),u||r.v.hasAttribute("crossorigin")||!gst(c.src)||(u=!0)):a.push(c))}for(var h=0;h<a.length;h++)r.v.removeChild(a[h])}return["audio","video"].forEach((function(t){var n=r.el()[t+"Tracks"],i=r[t+"Tracks"](),e=Rut(t);r["featuresNative"+e+"Tracks"]&&n&&n.addEventListener&&(r["handle"+e+"ti"]=function(t){i.trigger({type:"change",target:i,currentTarget:i,srcElement:i})},r["handle"+e+"ii"]=function(t){return i.addTrack(t.track)},r["handle"+e+"si"]=function(t){return i.removeTrack(t.track)},n.addEventListener("change",r["handle"+e+"ti"]),n.addEventListener("addtrack",r["handle"+e+"ii"]),n.addEventListener("removetrack",r["handle"+e+"si"]),r["removeOld"+e+"ei"]=function(t){return r.ni(i,n)},r.on("loadstart",r["removeOld"+e+"ei"]))})),r.featuresNativeTextTracks&&(u&&yet.warn(_et(Qct||(Qct=uet(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."])))),r.ri=zut(Qut(r),r.handleTextTrackChange),r.hi=zut(Qut(r),r.handleTextTrackAdd),r.oi=zut(Qut(r),r.handleTextTrackRemove),r.ai()),r.ci(),(mut||iut||cut)&&!0===n.nativeControlsForTouch&&r.setControls(!0),r.di(),r.triggerReady(),r}Fut(n,t);var i=n.prototype;return i.dispose=function(){var i=this;["audio","video","text"].forEach((function(t){var n=Rut(t),r=i.v[t+"Tracks"];r&&r.removeEventListener&&(r.removeEventListener("change",i["handle"+n+"ti"]),r.removeEventListener("addtrack",i["handle"+n+"ii"]),r.removeEventListener("removetrack",i["handle"+n+"si"])),r&&i.off("loadstart",i["removeOld"+n+"ei"])})),n.disposeMediaElement(this.v),t.prototype.dispose.call(this)},i.ci=function(){var t,n=this.textTracks(),i=function(){t=[];for(var i=0;i<n.length;i++){var r=n[i];"metadata"===r.kind&&t.push({track:r,storedMode:r.mode})}};i(),n.addEventListener("change",i);var r=function i(){for(var r=0;r<t.length;r++){var e=t[r];"disabled"===e.track.mode&&e.track.mode!==e.storedMode&&(e.track.mode=e.storedMode)}n.removeEventListener("change",i)};this.on("webkitbeginfullscreen",(function(){n.removeEventListener("change",i),n.removeEventListener("change",r),n.addEventListener("change",r)})),this.on("webkitendfullscreen",(function(){n.removeEventListener("change",i),n.addEventListener("change",i),n.removeEventListener("change",r)}))},i.createEl=function(){var t=this.h.tag;if(!t||!this.h.playerElIngest&&!this.movingMediaElementInDOM){if(t){var i=t.cloneNode(!0);t.parentNode&&t.parentNode.insertBefore(i,t),n.disposeMediaElement(t),t=i}else{t=eet.createElement("video");var r=But({},this.h.tag&&Qet(this.h.tag));mut&&!0===this.h.nativeControlsForTouch||delete r.controls,Uet(t,vet(r,{id:this.h.techId,class:"vjs-tech"}))}t.playerId=this.h.playerId}void 0!==this.h.preload&&Yet(t,"preload",this.h.preload);for(var e=["loop","muted","playsinline","autoplay"],u=e.length-1;u>=0;u--){var s=e[u],o=this.h[s];void 0!==o&&(o?Yet(t,s,s):Fet(t,s),t[s]=o)}return t},i.Zt=function(t){if(0!==t.networkState&&3!==t.networkState){if(0===t.readyState){var n=!1,i=function(){n=!0};this.on("loadstart",i);var r=function(){n||this.trigger("loadstart")};return this.on("loadedmetadata",r),void this.ready((function(){this.off("loadstart",i),this.off("loadedmetadata",r),n||this.trigger("loadstart")}))}var e=["loadstart"];e.push("loadedmetadata"),t.readyState>=2&&e.push("loadeddata"),t.readyState>=3&&e.push("canplay"),t.readyState>=4&&e.push("canplaythrough"),this.ready((function(){e.forEach((function(t){this.trigger(t)}),this)}))}},i.ai=function(){var t=this.el().textTracks;if(t){for(var n=0;n<t.length;n++)this.textTracks().tt(t[n]);t.addEventListener&&(t.addEventListener("change",this.ri),t.addEventListener("addtrack",this.hi),t.addEventListener("removetrack",this.oi)),this.on("loadstart",this.fi)}},i.handleTextTrackChange=function(t){var n=this.textTracks();this.textTracks().trigger({type:"change",target:n,currentTarget:n,srcElement:n})},i.handleTextTrackAdd=function(t){this.textTracks().tt(t.track)},i.handleTextTrackRemove=function(t){this.textTracks().it(t.track)},i.ni=function(t,n){var i=[];if(n){for(var r=0;r<t.length;r++){for(var e=t[r],u=!1,s=0;s<n.length;s++)if(n[s]===e){u=!0;break}u||i.push(e)}for(var o=0;o<i.length;o++){var a=i[o];t.it(a)}}},i.fi=function(t){var n=this.textTracks(),i=this.el().textTracks;this.ni(n,i)},i.play=function(){var t=this.v.play();void 0!==t&&"function"==typeof t.then&&t.then(null,(function(t){}))},i.setCurrentTime=function(t){try{this.v.currentTime=t}catch(t){yet(t,"Video is not ready. (Video.js)")}},i.duration=function(){var t=this;if(this.v.duration===1/0&&sut&&vut&&0===this.v.currentTime){return this.on("timeupdate",(function n(){t.v.currentTime>0&&(t.v.duration===1/0&&t.trigger("durationchange"),t.off("timeupdate",n))})),NaN}return this.v.duration||NaN},i.width=function(){return this.v.offsetWidth},i.height=function(){return this.v.offsetHeight},i.di=function(){var t=this;if("webkitDisplayingFullscreen"in this.v){var n=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},i=function(){"webkitPresentationMode"in this.v&&"picture-in-picture"!==this.v.webkitPresentationMode&&(this.one("webkitendfullscreen",n),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",i),this.on("dispose",(function(){t.off("webkitbeginfullscreen",i),t.off("webkitendfullscreen",n)}))}},i.supportsFullScreen=function(){if("function"==typeof this.v.webkitEnterFullScreen){var t=ret.navigator&&ret.navigator.userAgent||"";if(/Android/.test(t)||!/Chrome|Mac OS X 10.5/.test(t))return!0}return!1},i.enterFullScreen=function(){var t=this.v;t.paused&&t.networkState<=t.HAVE_METADATA?(this.v.play(),this.setTimeout((function(){t.pause(),t.webkitEnterFullScreen()}),0)):t.webkitEnterFullScreen()},i.exitFullScreen=function(){this.v.webkitExitFullScreen()},i.src=function(t){if(void 0===t)return this.v.src;this.setSrc(t)},i.reset=function(){n.resetMediaElement(this.v)},i.currentSrc=function(){return this.bt?this.bt.src:this.v.currentSrc},i.setControls=function(t){this.v.controls=!!t},i.addTextTrack=function(n,i,r){return this.featuresNativeTextTracks?this.v.addTextTrack(n,i,r):t.prototype.addTextTrack.call(this,n,i,r)},i.createRemoteTextTrack=function(n){if(!this.featuresNativeTextTracks)return t.prototype.createRemoteTextTrack.call(this,n);var i=eet.createElement("track");return n.kind&&(i.kind=n.kind),n.label&&(i.label=n.label),(n.language||n.srclang)&&(i.srclang=n.language||n.srclang),n.default&&(i.default=n.default),n.id&&(i.id=n.id),n.src&&(i.src=n.src),i},i.addRemoteTextTrack=function(n,i){var r=t.prototype.addRemoteTextTrack.call(this,n,i);return this.featuresNativeTextTracks&&this.el().appendChild(r),r},i.removeRemoteTextTrack=function(n){if(t.prototype.removeRemoteTextTrack.call(this,n),this.featuresNativeTextTracks)for(var i=this.$$("track"),r=i.length;r--;)n!==i[r]&&n!==i[r].track||this.el().removeChild(i[r])},i.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var t={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(t.droppedVideoFrames=this.el().webkitDroppedFrameCount,t.totalVideoFrames=this.el().webkitDecodedFrameCount),ret.performance&&"function"==typeof ret.performance.now?t.creationTime=ret.performance.now():ret.performance&&ret.performance.timing&&"number"==typeof ret.performance.timing.navigationStart&&(t.creationTime=ret.Date.now()-ret.performance.timing.navigationStart),t},n}(Mat);Met()&&(Gct.TEST_VID=eet.createElement("video"),(Fct=eet.createElement("track")).kind="captions",Fct.srclang="en",Fct.label="English",Gct.TEST_VID.appendChild(Fct)),Gct.isSupported=function(){try{Gct.TEST_VID.volume=.5}catch(t){return!1}return!(!Gct.TEST_VID||!Gct.TEST_VID.canPlayType)},Gct.canControlVolume=function(){try{var t=Gct.TEST_VID.volume;return Gct.TEST_VID.volume=t/2+.1,t!==Gct.TEST_VID.volume}catch(t){return!1}},Gct.canControlPlaybackRate=function(){if(sut&&vut&&lut<58)return!1;try{var t=Gct.TEST_VID.playbackRate;return Gct.TEST_VID.playbackRate=t/2+.1,t!==Gct.TEST_VID.playbackRate}catch(t){return!1}},Gct.supportsNativeTextTracks=function(){return yut},Gct.supportsNativeVideoTracks=function(){return!(!Gct.TEST_VID||!Gct.TEST_VID.videoTracks)},Gct.supportsNativeAudioTracks=function(){return!(!Gct.TEST_VID||!Gct.TEST_VID.audioTracks)},Gct.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","volumechange"],Gct.prototype.featuresVolumeControl=Gct.canControlVolume(),Gct.prototype.featuresPlaybackRate=Gct.canControlPlaybackRate(),Gct.prototype.movingMediaElementInDOM=!eut,Gct.prototype.featuresFullscreenResize=!0,Gct.prototype.featuresProgressEvents=!0,Gct.prototype.featuresTimeupdateEvents=!0,Gct.prototype.featuresNativeTextTracks=Gct.supportsNativeTextTracks(),Gct.prototype.featuresNativeVideoTracks=Gct.supportsNativeVideoTracks(),Gct.prototype.featuresNativeAudioTracks=Gct.supportsNativeAudioTracks();var Vct=Gct.TEST_VID&&Gct.TEST_VID.constructor.prototype.canPlayType,Wct=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,Xct=/^video\/mp4/i;Gct.patchCanPlayType=function(){out>=4&&!hut?Gct.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&Wct.test(t)?"maybe":Vct.call(this,t)}:aut&&(Gct.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&Xct.test(t)?"maybe":Vct.call(this,t)})},Gct.unpatchCanPlayType=function(){var t=Gct.TEST_VID.constructor.prototype.canPlayType;return Gct.TEST_VID.constructor.prototype.canPlayType=Vct,t},Gct.patchCanPlayType(),Gct.disposeMediaElement=function(t){if(t){var n=t.nodeName.toLowerCase();if("video"===n||"audio"===n){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}}},Gct.resetMediaElement=function(t){if(t){for(var n=t.querySelectorAll("source"),i=n.length;i--;)t.removeChild(n[i]);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach((function(t){Gct.prototype[t]=function(){return this.v[t]||this.v.hasAttribute(t)}})),["muted","defaultMuted","autoplay","loop","playsinline"].forEach((function(t){Gct.prototype["set"+Rut(t)]=function(n){this.v[t]=n,n?this.v.setAttribute(t,t):this.v.removeAttribute(t)}})),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach((function(t){Gct.prototype[t]=function(){return this.v[t]}})),["volume","src","poster","preload","playbackRate"].forEach((function(t){Gct.prototype["set"+Rut(t)]=function(n){this.v[t]=n}})),["pause","load"].forEach((function(t){Gct.prototype[t]=function(){return this.v[t]()}})),Mat.withSourceHandlers(Gct),Gct.nativeSourceHandler={},Gct.nativeSourceHandler.canPlayType=function(t){try{return Gct.TEST_VID.canPlayType(t)}catch(t){return""}},Gct.nativeSourceHandler.canHandleSource=function(t,n){if(t.type)return Gct.nativeSourceHandler.canPlayType(t.type);if(t.src){var i=function(t){if("string"==typeof t){var n=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i.exec(t);if(n)return n.pop().toLowerCase()}return""}(t.src);return Gct.nativeSourceHandler.canPlayType("video/"+i)}return""},Gct.nativeSourceHandler.handleSource=function(t,n,i){n.setSrc(t.src)},Gct.nativeSourceHandler.dispose=function(){},Gct.registerSourceHandler(Gct.nativeSourceHandler),Put.registerComponent("Html5",Gct),Mat.registerTech("Html5",Gct);var Zct=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","ratechange","volumechange","texttrackchange"],Hct=function(t){function n(i,r,e){var u;if(i.id=i.id||["vjs_video",oet()].join("_"),(r=vet(n.getTagSettings(i),r)).initChildren=!1,r.createEl=!1,r.reportTouchActivity=!1,!r.language)if("function"==typeof i.closest){var s=i.closest("[lang]");s&&(r.language=s.getAttribute("lang"))}else for(var o=i;o&&1===o.nodeType;){if(Qet(o).hasOwnProperty("lang")){r.language=o.getAttribute("lang");break}o=o.parentNode}if(!(u=t.call(this,null,r,e)||this).h||!u.h.techOrder||!u.h.techOrder.length)throw new v("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(u.tag=i,u.tagAttributes=i&&Qet(i),u.language(u.h.language),r.languages){var a={};g.getOwnPropertyNames(r.languages).forEach((function(t){a[t.toLowerCase()]=r.languages[t]})),u.vi=a}else u.vi=n.prototype.h.languages;u.pi={},u.mi=r.poster||"",u.gi=!!r.controls,i.controls=!1,u.yi=!1,u.v=u.createEl();var c=But(u.h);if(r.plugins){var h=r.plugins;g.getOwnPropertyNames(h).forEach((function(t){"function"==typeof this[t]?this[t](h[t]):yet.error("Unable to find plugin:",t)}),Qut(u))}u.h.playerOptions=c,u.initChildren(),u.isAudio("audio"===i.nodeName.toLowerCase()),u.controls()?u.addClass("vjs-controls-enabled"):u.addClass("vjs-controls-disabled"),u.v.setAttribute("role","region"),u.isAudio()?u.v.setAttribute("aria-label","audio player"):u.v.setAttribute("aria-label","video player"),u.isAudio()&&u.addClass("vjs-audio"),u.bi()&&u.addClass("vjs-no-flex"),eut||u.addClass("vjs-workinghover"),n.players[u.o]=Qut(u);var f="5.20.6-opentelly.14".split(".")[0];return u.addClass("vjs-v"+f),u.userActive(!0),u.reportUserActivity(),u.ki(),u.on("fullscreenchange",u.wi),u.on("stageclick",u._i),u}Fut(n,t);var i=n.prototype;return i.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.xi&&this.xi.parentNode&&this.xi.parentNode.removeChild(this.xi),n.players[this.o]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.v&&this.v.player&&(this.v.player=null),this.H&&this.H.dispose(),t.prototype.dispose.call(this)},i.createEl=function(){var n,i=this.tag,r=this.Ci=i.parentNode&&i.parentNode.hasAttribute&&i.parentNode.hasAttribute("data-vjs-player");n=this.v=r?i.parentNode:t.prototype.createEl.call(this,"div"),i.setAttribute("tabindex","-1"),i.removeAttribute("width"),i.removeAttribute("height");var e=Qet(i);if(g.getOwnPropertyNames(e).forEach((function(t){"class"===t?n.className+=" "+e[t]:n.setAttribute(t,e[t])})),i.playerId=i.id,i.id+="Si",i.className="vjs-tech",i.player=n.player=this,this.addClass("vjs-paused"),!0!==ret.VIDEOJS_NO_DYNAMIC_STYLE){this.xi=xut("vjs-styles-dimensions");var u=Ket(".vjs-styles-defaults"),s=Ket("head");s.insertBefore(this.xi,u?u.nextSibling:s.firstChild)}this.width(this.h.width),this.height(this.h.height),this.fluid(this.h.fluid),this.aspectRatio(this.h.aspectRatio);for(var o=i.getElementsByTagName("a"),a=0;a<o.length;a++){var c=o.item(a);Ret(c,"vjs-hidden"),c.setAttribute("hidden","hidden")}return i.Kt=i.networkState,i.parentNode&&!r&&i.parentNode.insertBefore(n,i),Eet(i,n),this.m.unshift(i),this.v=n,n},i.width=function(t){return this.dimension("width",t)},i.height=function(t){return this.dimension("height",t)},i.dimension=function(t,n){var i="width"===t?"ji":"Ti";if(void 0===n)return this[i]||0;if(""===n)this[i]=void 0;else{var r=m(n);if(A(r))return yet.error('Improper value "'+n+'" supplied for for '+t),this;this[i]=r}return this.Mi(),this},i.fluid=function(t){if(void 0===t)return!!this.Ai;this.Ai=!!t,t?this.addClass("vjs-fluid"):this.removeClass("vjs-fluid"),this.Mi()},i.aspectRatio=function(t){if(void 0===t)return this.Pi;if(!/^\d+\:\d+$/.test(t))throw new v("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.Pi=t,this.fluid(!0),this.Mi()},i.Mi=function(){if(!0!==ret.VIDEOJS_NO_DYNAMIC_STYLE){var t,n,i,r=(void 0!==this.Pi&&"auto"!==this.Pi?this.Pi:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),e=r[1]/r[0];t=void 0!==this.ji?this.ji:void 0!==this.Ti?this.Ti/e:this.videoWidth()||300,n=void 0!==this.Ti?this.Ti:t*e,i=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(i),Out(this.xi,"\n      ."+i+" {\n        width: "+t+"px;\n        height: "+n+"px;\n      }\n\n      ."+i+".vjs-fluid {\n        padding-top: "+100*e+"%;\n      }\n    ")}else{var u="number"==typeof this.ji?this.ji:this.h.width,s="number"==typeof this.Ti?this.Ti:this.h.height,o=this.H&&this.H.el();o&&(u>=0&&(o.width=u),s>=0&&(o.height=s))}},i._t=function(t,n){var i=this;this.H&&this.Ei(),"Html5"!==t&&this.tag&&(Mat.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.Ni=t,this.j=!1;var r=vet({source:n,nativeControlsForTouch:this.h.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+t+"Bi",videoTracks:this.rt,textTracks:this.nt,audioTracks:this.ht,autoplay:this.h.autoplay,playsinline:this.h.playsinline,preload:this.h.preload,loop:this.h.loop,muted:this.h.muted,poster:this.poster(),language:this.language(),playerElIngest:this.Ci||!1,"vtt.js":this.h["vtt.js"]},this.h[t.toLowerCase()]);this.tag&&(r.tag=this.tag),n&&(this.Ii=n.type,n.src===this.pi.src&&this.pi.currentTime>0&&(r.startTime=this.pi.currentTime),this.pi.sources=null,this.pi.source=n,this.pi.src=n.src);var e=Mat.getTech(t);e||(e=Put.getComponent(t)),this.H=new e(r),this.H.ready(zut(this,this.Fi),!0),ust(this.Di||[],this.H),Zct.forEach((function(t){i.on(i.H,t,i["handleTech"+Rut(t)+"_"])})),this.on(this.H,"loadstart",this.$i),this.on(this.H,"waiting",this.Ri),this.on(this.H,"canplay",this.Oi),this.on(this.H,"canplaythrough",this.Vi),this.on(this.H,"playing",this.Ui),this.on(this.H,"ended",this.zi),this.on(this.H,"seeking",this.Li),this.on(this.H,"seeked",this.Hi),this.on(this.H,"play",this.qi),this.on(this.H,"firstplay",this.Wi),this.on(this.H,"pause",this.Gi),this.on(this.H,"durationchange",this.Xi),this.on(this.H,"fullscreenchange",this.Ji),this.on(this.H,"error",this.Qi),this.on(this.H,"loadedmetadata",this.Mi),this.on(this.H,"resize",this.Mi),this.on(this.H,"posterchange",this.Yi),this.on(this.H,"textdata",this.Ki),this.usingNativeControls(this.Zi("controls")),this.controls()&&!this.usingNativeControls()&&this.ts(),this.H.el().parentNode===this.contentEl()||"Html5"===t&&this.tag||Eet(this.H.el(),this.contentEl()),this.tag&&(this.tag.player=null,this.tag=null)},i.Ei=function(){this.rt=this.videoTracks(),this.nt=this.textTracks(),this.ht=this.audioTracks(),this.Di=est(this.H),this.j=!1,this.H.dispose(),this.H=!1},i.tech=function(t){if(t&&t.IWillNotUseThisInPlugins)return this.H;var n="\n      Please make sure that you are not using this inside of a plugin.\n      To disable this alert and error, please pass in an object with\n      `IWillNotUseThisInPlugins` to the `tech` method. See\n      https://github.com/videojs/video.js/issues/2617 for more info.\n    ";throw ret.alert(n),new v(n)},i.ts=function(){this.ss(),this.on(this.H,"mousedown",this.es),this.on(this.H,"touchstart",this.ns),this.on(this.H,"touchmove",this.rs),this.on(this.H,"touchend",this.hs),this.on(this.H,"tap",this.os)},i.ss=function(){this.off(this.H,"tap",this.os),this.off(this.H,"touchstart",this.ns),this.off(this.H,"touchmove",this.rs),this.off(this.H,"touchend",this.hs),this.off(this.H,"mousedown",this.es)},i.Fi=function(){if(this.triggerReady(),this.pi.volume&&this.us("setVolume",this.pi.volume),this.Yi(),this.Xi(),(this.src()||this.currentSrc())&&this.tag&&this.h.autoplay&&this.paused()){try{delete this.tag.poster}catch(t){yet("deleting tag.poster throws in some browsers",t)}this.play()}},i.$i=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay"))},i.hasStarted=function(t){return void 0!==t?(this.et!==t&&(this.et=t,t?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started")),this):!!this.et},i.qi=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},i.Ri=function(){var t=this;this.addClass("vjs-waiting"),this.trigger("waiting"),this.one("timeupdate",(function(){return t.removeClass("vjs-waiting")}))},i.Oi=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},i.Vi=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},i.Ui=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},i.Li=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},i.Hi=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},i.Wi=function(){this.h.starttime&&(yet.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.h.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},i.Gi=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},i.zi=function(){this.addClass("vjs-ended"),this.h.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},i.Xi=function(){this.duration(this.Zi("duration"))},i.es=function(t){0===t.button&&this.controls()&&(void 0!==this.h&&void 0!==this.h.userActions&&void 0!==this.h.userActions.click&&!1===this.h.userActions.click||(void 0!==this.h&&void 0!==this.h.userActions&&"function"==typeof this.h.userActions.click?this.h.userActions.click.call(this,t):this.paused()?this.play():this.pause()))},i.os=function(){this.userActive(!this.userActive())},i.ns=function(){this.userWasActive=this.userActive()},i.rs=function(){this.userWasActive&&this.reportUserActivity()},i.hs=function(t){t.cancelable&&t.preventDefault()},i.wi=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},i._i=function(){this.reportUserActivity()},i.Ji=function(t,n){n&&(this.toggleClass("vjs-ios-native-fs",!(!n.nativeIOSFullscreen||!n.isFullscreen)),this.isFullscreen(n.isFullscreen)),this.trigger("fullscreenchange")},i.Qi=function(){var t=this.H.error();this.error(t)},i.Ki=function(){var t=null;arguments.length>1&&(t=arguments[1]),this.trigger("textdata",t)},i.getCache=function(){return this.pi},i.us=function(t,n){if(this.H&&!this.H.j)this.H.ready((function(){this[t](n)}),!0);else try{this.H&&this.H[t](n)}catch(t){throw yet(t),t}},i.Zi=function(t){if(this.H&&this.H.j)try{return this.H[t]()}catch(n){throw void 0===this.H[t]?yet("Video.js: "+t+" method not defined for "+this.Ni+" playback technology.",n):"TypeError"===n.name?(yet("Video.js: "+t+" unavailable on "+this.Ni+" playback technology element.",n),this.H.j=!1):yet(n),n}},i.play=function(){return this.src()||this.currentSrc()?this.us("play"):this.H.one("loadstart",(function(){this.play()})),this},i.pause=function(){return this.us("pause"),this},i.paused=function(){return!1!==this.Zi("paused")},i.scrubbing=function(t){return void 0!==t?(this.yi=!!t,t?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing"),this):this.yi},i.currentTime=function(t){return void 0!==t?(this.us("setCurrentTime",t),this):(this.pi.currentTime=this.Zi("currentTime")||0,this.pi.currentTime)},i.duration=function(t){return void 0===t?void 0!==this.pi.duration?this.pi.duration:NaN:((t=m(t))<0&&(t=1/0),t!==this.pi.duration&&(this.pi.duration=t,t===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange")),this)},i.remainingTime=function(){return this.duration()-this.currentTime()},i.buffered=function(){var t=this.Zi("buffered");return t&&t.length||(t=Wut(0,0)),t},i.bufferedPercent=function(){return Xut(this.buffered(),this.duration())},i.bufferedEnd=function(){var t=this.buffered(),n=this.duration(),i=t.end(t.length-1);return i>n&&(i=n),i},i.volume=function(t){var n;return void 0!==t?(n=w.max(0,w.min(1,m(t))),this.pi.volume=n,this.us("setVolume",n),this):(n=m(this.Zi("volume")),A(n)?1:n)},i.muted=function(t){return void 0!==t?(this.us("setMuted",t),this):this.Zi("muted")||!1},i.supportsFullScreen=function(){return this.Zi("supportsFullScreen")||!1},i.isFullscreen=function(t){return void 0!==t?(this.cs=!!t,this):!!this.cs},i.requestFullscreen=function(t){var n,i=Jut;return this.isFullscreen(!0),i.requestFullscreen?(Nut(eet,i.fullscreenchange,zut(this,(function t(n){this.isFullscreen(eet[i.fullscreenElement]),!1===this.isFullscreen()&&Dut(eet,i.fullscreenchange,t),this.trigger("fullscreenchange")}))),i.prefixed||(n=this.h.fullscreenOptions,void 0!==t&&(n=t)),this.v[i.requestFullscreen](n)):this.H.supportsFullScreen()?this.us("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange")),this},i.exitFullscreen=function(){var t=Jut;return this.isFullscreen(!1),t.requestFullscreen?eet[t.exitFullscreen]():this.H.supportsFullScreen()?this.us("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange")),this},i.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=eet.documentElement.style.overflow,Nut(eet,"keydown",zut(this,this.fullWindowOnEscKey)),eet.documentElement.style.overflow="hidden",Ret(eet.body,"vjs-full-window"),this.trigger("enterFullWindow")},i.fullWindowOnEscKey=function(t){27===t.keyCode&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},i.exitFullWindow=function(){this.isFullWindow=!1,Dut(eet,"keydown",this.fullWindowOnEscKey),eet.documentElement.style.overflow=this.docOrigOverflow,Bet(eet.body,"vjs-full-window"),this.trigger("exitFullWindow")},i.canPlayType=function(t){for(var n,i=0,r=this.h.techOrder;i<r.length;i++){var e=Rut(r[i]),u=Mat.getTech(e);if(u||(u=Put.getComponent(e)),u){if(u.isSupported()&&(n=u.canPlayType(t)))return n}else yet.error('The "'+e+'" tech is undefined. Skipped browser support check for that tech.')}return""},i.selectSource=function(t){var n,i=this,r=this.h.techOrder.map(Rut).map((function(t){return[t,Mat.getTech(t)||Put.getComponent(t)]})).filter((function(t){var n=t[0],i=t[1];return i?i.isSupported():(yet.error('The "'+n+'" tech is undefined. Skipped browser support check for that tech.'),!1)})),e=function(t,n,i){var r;return t.some((function(t){return n.some((function(n){if(r=i(t,n))return!0}))})),r},u=function(t,n){var r=t[0];if(t[1].canPlaySource(n,i.h[r.toLowerCase()]))return{source:n,tech:r}};return(this.h.sourceOrder?e(t,r,(n=u,function(t,i){return n(i,t)})):e(r,t,u))||!1},i.src=function(t){if(void 0===t)return this.Zi("src");var n=Mat.getTech(this.Ni);return n||(n=Put.getComponent(this.Ni)),Array.isArray(t)?this.ls(t):"string"==typeof t?this.src({src:t}):t instanceof g&&(t.type&&!n.canPlaySource(t,this.h[this.Ni.toLowerCase()])?this.ls([t]):(this.pi.sources=null,this.pi.source=t,this.pi.src=t.src,this.Ii=t.type||"",this.ready((function(){n.prototype.hasOwnProperty("setSource")?this.us("setSource",t):this.us("src",t.src),"auto"===this.h.preload&&this.load(),this.h.autoplay&&this.play()}),!0))),this},i.ls=function(t){var n=this.selectSource(t);n?(n.tech===this.Ni?this.src(n.source):this._t(n.tech,n.source),this.pi.sources=t):(this.setTimeout((function(){this.error({code:4,message:this.localize(this.h.notSupportedMessage)})}),0),this.triggerReady())},i.load=function(){return this.us("load"),this},i.reset=function(){return this._t(Rut(this.h.techOrder[0]),null),this.us("reset"),this},i.currentSources=function(){var t=this.currentSource(),n=[];return 0!==g.keys(t).length&&n.push(t),this.pi.sources||n},i.currentSource=function(){var t={},n=this.currentSrc();return n&&(t.src=n),this.pi.source||t},i.currentSrc=function(){return this.Zi("currentSrc")||this.pi.src||""},i.currentType=function(){return this.Ii||""},i.preload=function(t){return void 0!==t?(this.us("setPreload",t),this.h.preload=t,this):this.Zi("preload")},i.autoplay=function(t){return void 0!==t?(this.us("setAutoplay",t),this.h.autoplay=t,this):this.Zi("autoplay",t)},i.playsinline=function(t){return void 0!==t?(this.us("setPlaysinline",t),this.h.playsinline=t,this):this.Zi("playsinline")},i.loop=function(t){return void 0!==t?(this.us("setLoop",t),this.h.loop=t,this):this.Zi("loop")},i.poster=function(t){return void 0===t?this.mi:(t||(t=""),this.mi=t,this.us("setPoster",t),this.trigger("posterchange"),this)},i.Yi=function(){!this.mi&&this.H&&this.H.poster&&(this.mi=this.H.poster()||"",this.trigger("posterchange"))},i.controls=function(t){return void 0!==t?(t=!!t,this.gi!==t&&(this.gi=t,this.usingNativeControls()&&this.us("setControls",t),t?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.ts()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.ss())),this):!!this.gi},i.usingNativeControls=function(t){return void 0!==t?(t=!!t,this.ds!==t&&(this.ds=t,t?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols"))),this):!!this.ds},i.error=function(t){return void 0===t?this.lt||null:null===t?(this.lt=t,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close(),this):(this.lt=new nst(t),this.addClass("vjs-error"),yet.error("(CODE:"+this.lt.code+" "+nst.errorTypes[this.lt.code]+")",this.lt.message,this.lt),this.trigger("error"),this)},i.reportUserActivity=function(t){this.fs=!0},i.userActive=function(t){return void 0!==t?((t=!!t)!==this.vs&&(this.vs=t,t?(this.fs=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive")):(this.fs=!1,this.H&&this.H.one("mousemove",(function(t){t.stopPropagation(),t.preventDefault()})),this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive"))),this):this.vs},i.ki=function(){var t,n,i,r,e=zut(this,this.reportUserActivity);this.on("mousedown",(function(){e(),this.clearInterval(t),t=this.setInterval(e,250)})),this.on("mousemove",(function(t){t.screenX===n&&t.screenY===i||(n=t.screenX,i=t.screenY,e())})),this.on("mouseup",(function(n){e(),this.clearInterval(t)})),this.on("keydown",e),this.on("keyup",e),this.setInterval((function(){if(this.fs){this.fs=!1,this.userActive(!0),this.clearTimeout(r);var t=this.h.inactivityTimeout;t>0&&(r=this.setTimeout((function(){this.fs||this.userActive(!1)}),t))}}),250)},i.playbackRate=function(t){return void 0!==t?(this.us("setPlaybackRate",t),this):this.H&&this.H.featuresPlaybackRate?this.Zi("playbackRate"):1},i.isAudio=function(t){return void 0!==t?(this.ps=!!t,this):!!this.ps},i.videoTracks=function(){return this.H?this.H.videoTracks():(this.rt=this.rt||new pat,this.rt)},i.audioTracks=function(){return this.H?this.H.audioTracks():(this.ht=this.ht||new kat,this.ht)},i.textTracks=function(){if(this.H)return this.H.textTracks()},i.remoteTextTracks=function(){if(this.H)return this.H.remoteTextTracks()},i.remoteTextTrackEls=function(){if(this.H)return this.H.remoteTextTrackEls()},i.addTextTrack=function(t,n,i){if(this.H)return this.H.addTextTrack(t,n,i)},i.addRemoteTextTrack=function(t,n){if(this.H)return this.H.addRemoteTextTrack(t,n)},i.removeRemoteTextTrack=function(t){var n=(void 0===t?{}:t).track,i=void 0===n?arguments[0]:n;if(this.H)return this.H.removeRemoteTextTrack(i)},i.getVideoPlaybackQuality=function(){return this.Zi("getVideoPlaybackQuality")},i.videoWidth=function(){return this.H&&this.H.videoWidth&&this.H.videoWidth()||0},i.videoHeight=function(){return this.H&&this.H.videoHeight&&this.H.videoHeight()||0},i.language=function(t){return void 0===t?this.gs:(this.gs!==String(t).toLowerCase()&&(this.gs=String(t).toLowerCase(),void 0!==this.v&&this.trigger("languagechange")),this)},i.languages=function(){return But(n.prototype.h.languages,this.vi)},i.toJSON=function(){var t=But(this.h),n=t.tracks;t.tracks=[];for(var i=0;i<n.length;i++){var r=n[i];(r=But(r)).player=void 0,t.tracks[i]=r}return t},i.createModal=function(t,n){var i=this;(n=n||{}).content=t||"";var r=new ost(this,n);return this.addChild(r),r.on("dispose",(function(){i.removeChild(r)})),r.open()},n.getTagSettings=function(t){var n={sources:[],tracks:[]},i=Qet(t),r=i["data-setup"];if(zet(t,"vjs-fluid")&&(i.fluid=!0),null!==r){var e=ist(r||"{}"),u=e[0],s=e[1];u&&yet.error(u),vet(i,s)}if(vet(n,i),t.hasChildNodes())for(var o=t.childNodes,a=0,c=o.length;a<c;a++){var h=o[a],f=h.nodeName.toLowerCase();"source"===f?n.sources.push(Qet(h)):"track"===f&&n.tracks.push(Qet(h))}return n},i.bi=function(){var t=eet.createElement("i");return!("flexBasis"in t.style||"webkitFlexBasis"in t.style||"mozFlexBasis"in t.style||"msFlexBasis"in t.style||"msFlexOrder"in t.style)},n}(Put);Hct.players={};var Kct=ret.navigator;Hct.prototype.h={techOrder:["html5","flash"],html5:{},flash:{},defaultVolume:0,inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:Kct&&(Kct.languages&&Kct.languages[0]||Kct.userLanguage||Kct.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",fullscreenOptions:{navigationUI:"hide"}},["ended","seeking","seekable","networkState","readyState"].forEach((function(t){Hct.prototype[t]=function(){return this.Zi(t)}})),Zct.forEach((function(t){Hct.prototype["handleTech"+Rut(t)+"_"]=function(){return this.trigger(t)}})),Put.registerComponent("Player",Hct);var qct,Jct,$ct=function(t){function n(i){var r;void 0===i&&(i={});var e=But(i,{kind:hst[i.kind]||""}),u=r=t.call(this,e)||this,s=!1;if(dut)for(var o in n.prototype)"constructor"!==o&&(u[o]=n.prototype[o]);return g.defineProperty(u,"enabled",{get:function(){return s},set:function(t){"boolean"==typeof t&&t!==s&&(s=t,this.trigger("enabledchange"))}}),e.enabled&&(u.enabled=e.enabled),u.W=!0,u||Qut(r)}return Fut(n,t),n}(lst),tht=function(t){function n(i){var r;void 0===i&&(i={});var e=But(i,{kind:cst[i.kind]||""}),u=r=t.call(this,e)||this,s=!1;if(dut)for(var o in n.prototype)"constructor"!==o&&(u[o]=n.prototype[o]);return g.defineProperty(u,"selected",{get:function(){return s},set:function(t){"boolean"==typeof t&&t!==s&&(s=t,this.trigger("selectedchange"))}}),e.selected&&(u.selected=e.selected),u||Qut(r)}return Fut(n,t),n}(lst);function nht(t,n,i){var r;if("string"==typeof t){if(0===t.indexOf("#")&&(t=t.slice(1)),nht.getPlayers()[t])return n&&yet.warn('Player "'+t+'" is already initialised. Options will not be applied.'),i&&nht.getPlayers()[t].ready(i),nht.getPlayers()[t];r=function(t){return 0===t.indexOf("#")&&(t=t.slice(1)),eet.getElementById(t)}(t)}else r=t;if(!r||!r.nodeName)throw new l("The element or ID supplied is not valid. (videojs)");if(r.player||Hct.players[r.playerId])return r.player||Hct.players[r.playerId];n=n||{},nht.hooks("beforesetup").forEach((function(t){var i=t(r,But(n));det(i)&&!Array.isArray(i)?n=But(n,i):yet.error("please return an object in beforesetup hooks")}));var e=new(Put.getComponent("Player"))(r,n,i);return nht.hooks("setup").forEach((function(t){return t(e)})),e}"undefined"==typeof HTMLVideoElement&&Met()&&(eet.createElement("video"),eet.createElement("audio"),eet.createElement("track")),nht.ys={},nht.hooks=function(t,n){return nht.ys[t]=nht.ys[t]||[],n&&(nht.ys[t]=nht.ys[t].concat(n)),nht.ys[t]},nht.hook=function(t,n){nht.hooks(t,n)},nht.removeHook=function(t,n){var i=nht.hooks(t).indexOf(n);return!(i<=-1)&&(nht.ys[t]=nht.ys[t].slice(),nht.ys[t].splice(i,1),!0)},!0!==ret.VIDEOJS_NO_DYNAMIC_STYLE&&Met()&&((qct=Ket(".vjs-styles-defaults"))||(qct=xut("vjs-styles-defaults"),(Jct=Ket("head"))&&Jct.insertBefore(qct,Jct.firstChild),Out(qct,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    "))),Cut(1,nht),nht.VERSION="5.20.6-opentelly.14",nht.options=Hct.prototype.h,nht.getPlayers=function(){return Hct.players},nht.players=Hct.players,nht.getComponent=Put.getComponent,nht.registerComponent=function(t,n){Mat.isTech(n)&&yet.warn("The "+t+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),Put.registerComponent.call(Put,t,n)},nht.getTech=Mat.getTech,nht.registerTech=Mat.registerTech,nht.browser=put,nht.TOUCH_ENABLED=mut,nht.extend=function(t,n){void 0===n&&(n={});var i=function(){t.apply(this,arguments)},r={};for(var e in det(n)?("function"==typeof n.init&&(yet.warn("Constructor logic via init() is deprecated; please use constructor() instead."),n.constructor=n.init),n.constructor!==g.prototype.constructor&&(i=n.constructor),r=n):"function"==typeof n&&(i=n),function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=g.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(t.bs=n)}(i,t),r)r.hasOwnProperty(e)&&(i.prototype[e]=r[e]);return i},nht.mergeOptions=But,nht.bind=zut,nht.plugin=function(t,n){Hct.prototype[t]=n},nht.addLanguage=function(t,n){var i;return t=(""+t).toLowerCase(),nht.options.languages=But(nht.options.languages,((i={})[t]=n,i)),nht.options.languages[t]},nht.log=yet,nht.createTimeRange=nht.createTimeRanges=Wut,nht.formatTime=Bat,nht.parseUrl=dst,nht.isCrossOrigin=gst,nht.EventTarget=Uut,nht.on=Nut,nht.one=Eut,nht.off=Dut,nht.trigger=Iut,nht.xhr=aat,nht.TextTrack=lat,nht.AudioTrack=$ct,nht.VideoTrack=tht,nht.isEl=Tet,nht.isTextNode=Wet,nht.createEl=Det,nht.hasClass=zet,nht.addClass=Ret,nht.removeClass=Bet,nht.toggleClass=Pet,nht.setAttributes=Uet,nht.getAttributes=Qet,nht.emptyEl=Xet,nht.appendContent=Zet,nht.insertContent=Het,nht.computedStyle=Vat,yt(),C(),yt(),C();var iht=10;function rht(t){var n=t.duration;if(A(n)){var i,r=null==(i=t.source)?void 0:i.streamType;return"live"===r||"dvr"===r}return n===1/0}function eht(t){return t.scrubbing()?t.getCache().currentTime:t.currentTime()}function uht(t){var n=aht(t);return rht(t)?n.end(n.length-1):n.start(0)}function sht(t){return aht(t).start(0)}function oht(t){var n=aht(t);return n.end(n.length-1)-n.start(0)}function aht(t){var n=t.seekable;if(n&&n.length)return n;var i=t.duration;return i=isFinite(i)?i:0,new HD([0,i]).ks()}function cht(t,n){void 0===n&&(n=t);var i=t<0?"-":"";t=w.abs(t);var r=w.floor(t%60),e=w.floor(t/60%60),u=w.floor(t/3600),s=w.floor(n/60%60),o=w.floor(n/3600);return(A(t)||t===1/0)&&(u=e=r="-"),i+(u=+u>0||o>0?u+":":"")+(e=((u||s>=10)&&+e<10?"0"+e:e)+":")+(r=+r<10?"0"+r:r)}function hht(t){return function(t){function n(){var n;return(n=t.apply(this,arguments)||this)._s=void 0,n}return bt(n,t),n.prototype.dispose=function(){this._s=void 0,t.prototype.dispose.call(this)},At(n,[{key:"ws",get:function(){var t;return null!=(t=this._s)?t:this._s=fht(this.player())}}]),n}(t)}function fht(t){return t.tech({IWillNotUseThisInPlugins:!0}).theoplayer()}function vht(t){var n=fht(t),i=function(){var i=eht(t);t.toggleClass("theo-at-live",function(t,n){if(rht(t)){var i=t.seekable;return 0===i.length||i.end(i.length-1)-n<iht}return!1}(n,i)),t.toggleClass("vjs-live",rht(n)),t.toggleClass("theo-dvr",function(t){var n;return"dvr"===m2(t.duration,t.seekable,null==(n=t.source)?void 0:n.streamType)}(n))};t.on("emptied",i),t.on("timeupdate",i),t.on("durationchange",i)}yt(),C(),pt(),Mt(),yt(),C();var lht="theo-ad-playing",dht="theo-dai-ad-playing";function ght(t,n,i){t.toggleClass(lht,n),t.toggleClass(dht,n&&i)}function wht(){this.userActive(!1)}yt(),C(),yt(),C(),pt(),Mt(),yt(),C();var yht=function(t,n){this.type=t.type,this.target=n,this.playerEvent=t},mht=["loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","volumechange","resize"],Aht=nht.getTech("Tech"),pht=nht.getTech("Html5"),_ht=function(t){function n(n,i){var r;void 0===n&&(n={}),(r=t.call(this,n,i)||this).Cs=function(t){return r.Ds(t)},r.Os=!1,r.js=function(){void 0===r.ws.errorObject&&(r.Ds(new gD(r.ws.currentTime,r.ws.readyState)),r.Ds(new YL),r.Ds(new mD(r.ws.duration)))},r.Ts=function(){r.Ds(new kk(r.ws.currentTime))},r.As=function(t){r.textTracks().tt(t.track)},r.Ns=function(t){r.audioTracks().tt(t.track)},r.Ps=function(t){r.textTracks().it(t.track)},r.Bs=function(t){r.audioTracks().it(t.track)},r.Es=function(){var t=r.textTracks();t.trigger({type:"change",target:t,currentTarget:t,srcElement:t})},r.Is=function(){var t=r.audioTracks();t.trigger({type:"change",target:t,currentTarget:t,srcElement:t})},r.Ms=function(){if(r.supportsFullScreen()){var t=r.Os,n=r.ws.presentation.currentMode===wI.FULLSCREEN;t!==n&&(r.Os=n,r.trigger("fullscreenchange",{isFullscreen:n,nativeIOSFullscreen:!0}))}},r.Ss=function(){var t=r.ws.errorObject,n=t&&qm(t.code)||-1,i=t&&t.message||"An unknown error occurred.";r.error({code:n,message:r.localize(i)})},r.ws=r.h.player,r.xs();var e=!r.paused();return e&&r.pause(),n.preload&&r.setPreload(n.preload),n.autoplay&&r.setAutoplay(n.autoplay),n.muted&&r.setMuted(n.muted),n.source?r.setSrc(n.source):r.Zt(),e&&r.ready((function(){return r.play()})),r.triggerReady(),r}bt(n,t);var i=n.prototype;return i.xs=function(){for(var t,n=0;n<mht.length;n++){var i=mht[n];this.ws.addEventListener(i,this.Cs)}this.ws.addEventListener("error",this.Ss),this.ws.addEventListener("contentprotectionerror",this.Ss),this.ws.addEventListener("sourcechange",this.js),this.ws.addEventListener("loadstart",this.Ts),null==(t=this.ws.presentation)||t.addEventListener("presentationmodechange",this.Ms),this.ws.textTracks.addEventListener("addtrack",this.As),this.ws.textTracks.addEventListener("removetrack",this.Ps),this.ws.textTracks.addEventListener("change",this.Es),this.ws.audioTracks.addEventListener("addtrack",this.Ns),this.ws.audioTracks.addEventListener("removetrack",this.Bs),this.ws.audioTracks.addEventListener("change",this.Is)},i.Fs=function(){for(var t,n=0;n<mht.length;n++){var i=mht[n];this.ws.removeEventListener(i,this.Cs)}this.ws.removeEventListener("error",this.Ss),this.ws.removeEventListener("contentprotectionerror",this.Ss),this.ws.removeEventListener("sourcechange",this.js),this.ws.removeEventListener("loadstart",this.Ts),null==(t=this.ws.presentation)||t.removeEventListener("presentationmodechange",this.Ms),this.ws.textTracks.removeEventListener("addtrack",this.As),this.ws.textTracks.removeEventListener("removetrack",this.Ps),this.ws.textTracks.removeEventListener("change",this.Es),this.ws.audioTracks.removeEventListener("addtrack",this.Ns),this.ws.audioTracks.removeEventListener("removetrack",this.Bs),this.ws.audioTracks.removeEventListener("change",this.Is)},i.Ds=function(t){this.trigger(new yht(t,this))},i.createEl=function(){var t=this.h,n=t.player;if(!n)throw new v(this.localize('Missing required tech option "player"'));var i=n.element;return nht.setAttributes(i,{id:t.techId}),i},i.theoplayer=function(){return this.ws},i.addTextTrack=function(n,i,r){return t.prototype.addTextTrack.call(this,n,i,r)},i.buffered=function(){return this.ws.buffered},i.played=function(){return this.ws.played},i.reset=function(){this.ws.stop()},i.play=function(){this.ws.play()},i.pause=function(){this.ws.pause()},i.paused=function(){return this.ws.paused},i.currentTime=function(){return this.ws.currentTime},i.setCurrentTime=function(t){this.ws.currentTime=t},i.duration=function(){return this.ws.duration},i.volume=function(){return this.ws.volume},i.setVolume=function(t){this.ws.volume=t},i.muted=function(){return this.ws.muted},i.setMuted=function(t){this.ws.muted=t},i.src=function(t){if(void 0!==t)this.setSrc(t);else{if(this.ws.src)return this.ws.src;if(this.ws.source){if(!$I(this.ws.source.ads))return this.ws.source.ads[0].sources;if(function(t){if(t.sources)if(Pn(t.sources))for(var n=0,i=t.sources;n<i.length;n++){var r=i[n];if(!Fn(r)&&"verizon-media"===r.integration)return!0}else if(!Fn(t.sources))return"verizon-media"===t.sources.integration;return!1}(this.ws.source))return"This source is managed by the Verizon Media integration extension.";if(function(t){if(t.sources)if(Pn(t.sources)){for(var n=0,i=t.sources;n<i.length;n++)if($N(i[n]))return!0}else if(Qn(t.sources))return $N(t.sources);return!1}(this.ws.source))return"This source is managed by the DAI integration extension.";if(function(t){if(t.sources)if(Pn(t.sources)){for(var n=0,i=t.sources;n<i.length;n++)if(rD(i[n]))return!0}else if(Qn(t.sources))return rD(t.sources);return!1}(this.ws.source))return"This source is managed by Millicast."}}},i.setSrc=function(t){return this.setSource({src:t})},i.setSource=function(t){this.lt=null,this.trigger("error")},i.currentSrc=function(){return this.ws.src},i.load=function(){this.setPreload("auto")},i.preload=function(){return this.ws.preload},i.setPreload=function(t){this.ws.preload=t},i.autoplay=function(){return this.ws.autoplay},i.setAutoplay=function(t){this.ws.autoplay=!!t},i.seeking=function(){return this.ws.seeking},i.seekable=function(){return this.ws.seekable},i.ended=function(){return this.ws.ended},i.playbackRate=function(){return this.ws.playbackRate},i.setPlaybackRate=function(t){this.ws.playbackRate=t},i.readyState=function(){return this.ws.readyState},i.networkState=function(){return 0},i.controls=function(){return!1},i.videoHeight=function(){return this.ws.videoHeight},i.videoWidth=function(){return this.ws.videoWidth},i.supportsFullScreen=function(){return this.ws.presentation.supportsMode(wI.FULLSCREEN)},i.enterFullScreen=function(){this.ws.presentation.requestMode(wI.FULLSCREEN)},i.exitFullScreen=function(){this.ws.presentation.requestMode(wI.INLINE)},i.$s=function(){var t=this.ws.ads;if(t&&t.playing)return!0;var n=this.ws.vr;return!(!n||n.state===X8.Rs)},i.initTextTrackListeners=function(){var n=this;return this.on("touchend",(function(t){n.$s()&&(t.preventDefault=function(){})})),t.prototype.initTextTrackListeners.call(this)},i.Zt=function(){var t=this;if(this.src()){var n=this.readyState();if(0===n){var i=!1,r=function(){i=!0};this.on("loadstart",r);var e=function(){i||t.trigger("loadstart")};return this.on("loadedmetadata",e),void this.ready((function(){t.off("loadstart",r),t.off("loadedmetadata",e),i||t.trigger("loadstart")}))}var u=["loadstart"];u.push("loadedmetadata"),n>=2&&u.push("loadeddata"),n>=3&&u.push("canplay"),n>=4&&u.push("canplaythrough"),this.ready((function(){for(var n=0;n<u.length;n++){var i=u[n];t.trigger(i)}}))}},i.dispose=function(){this.Fs(),this.ws=null,t.prototype.dispose.call(this)},n.isSupported=function(){return!0},n.canPlayType=function(){return"maybe"},n.canPlaySource=function(t){return"maybe"},At(n,[{key:"featuresVolumeControl",get:function(){return Ou}}]),n}(Aht);_ht.prototype.featuresFullscreenResize=pht.prototype.featuresFullscreenResize,_ht.prototype.featuresPlaybackRate=pht.prototype.featuresPlaybackRate,_ht.prototype.featuresProgressEvents=!0,_ht.prototype.featuresTimeupdateEvents=!0,_ht.prototype.featuresNativeTextTracks=!0,nht.registerTech("THEOplayer",_ht),yt(),C(),yt(),C(),Mt(),yt(),C(),Xt(),pt(),Mt(),yt(),C();var kht=function(t){var n=this;this.Vs=function(t){gu(n.Us,"theo-mobile-button-hover"),t.stopImmediatePropagation()},this.zs=function(t){wu(n.Us,"theo-mobile-button-hover")},this.Ls=function(t){n.Us.blur()},this.Us=t,t.addEventListener("touchstart",this.Vs),t.addEventListener("touchend",this.zs),t.addEventListener("focusin",this.Ls)};yt(),C(),pt(),Mt(),yt(),C(),pt(),Mt(),yt(),C(),pt(),Mt(),yt(),C(),pt(),Mt();var bht=function(t){function n(n,i){return t.call(this,n,i)}bt(n,t);var i=n.prototype;return i.qs=function(){gu(this.Hs,"theo-menu-opened")},i.Ws=function(){wu(this.Hs,"theo-menu-opened")},At(n,[{key:"Hs",get:function(){return this.player().el()}}]),n}(hht(nht.getComponent("Menu")));yt(),C(),pt(),Mt();var Mht=function(t){function n(n,i,r){var e;return(e=t.call(this,n,$u({selectable:!0},i))||this).Xs=!1,e.Vs=function(t){gu(e.el(),"theo-mobile-menu-item-hover"),t.stopImmediatePropagation()},e.zs=function(t){wu(e.el(),"theo-mobile-menu-item-hover")},e.Gs=r,an.Ys.Qs&&(e.el().addEventListener("touchstart",e.Vs),e.el().addEventListener("touchend",e.zs)),e}bt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"theo-menu-item vjs-menu-item"},i.createEl=function(){var n=t.prototype.createEl.call(this,"li",{className:this.buildCSSClass(),tabIndex:0},{"aria-live":"off","aria-label":""});return n.innerHTML="",n},i.handleClick=function(t){this.Xs||(this.parentMenu.Js(this),"tap"!==t.type&&"keydown"!==t.type||(this.Xs=!0,this.trigger("click"),this.Xs=!1))},i.dispose=function(){an.Ys.Qs&&(this.el().removeEventListener("touchstart",this.Vs),this.el().removeEventListener("touchend",this.zs)),t.prototype.dispose.call(this)},At(n,[{key:"parentMenu",get:function(){return this.Gs}}]),n}(hht(nht.getComponent("MenuItem")));yt(),C(),pt(),Mt();var Tht=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).Xs=!1,e.Zs=!1,e.Gs=r,e.on(n,"languagechange",e.te),e}bt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"theo-primary-background theo-menu-header"},i.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-live":"off","aria-label":""});return n.innerHTML="",n},i.handleClick=function(t){!this.Xs&&this.Ks&&(this.Gs.ie(),"tap"===t.type&&(this.Xs=!0,this.trigger("click"),this.Xs=!1))},i.te=function(){this.Ks?this.el().setAttribute("aria-label",this.localize("Go back to the previous menu")):this.el().setAttribute("aria-label","")},At(n,[{key:"parentMenu",get:function(){return this.Gs}},{key:"Ks",get:function(){return this.Zs},set:function(t){this.Zs=t,this.el().setAttribute("tabindex",this.Ks?"0":"-1"),this.te()}}]),n}(nht.getComponent("ClickableComponent")),Nht=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).ne=function(){return r.re()},r.ue=r.player().el(),r.hide(),r.on("menuchange",r.re),r}bt(n,t);var i=n.prototype;return i.addMenuItem=function(t){t=$u({playerOptions:this.h.playerOptions},t);var n=new Mht(this.player(),t,this);return this.addChild(n,void 0,t.index),this.trigger("menuchange"),n},i.addSubMenuItem=function(t){t=$u({playerOptions:this.h.playerOptions},t);var n=this.ee(this.player(),t);return this.addChild(n,void 0,t.index),this.trigger("menuchange"),n},i.removeMenuItem=function(t){this.removeChild(t),this.trigger("menuchange")},i.buildCSSClass=function(){return"theo-menu vjs-menu"},i.qs=function(){t.prototype.qs.call(this),e.removeEventListener("resize",this.ne),e.addEventListener("resize",this.ne),this.show()},i.re=function(){var t=this.he();if(t){var n=t.getClientRects();an.Ys.Qs?this.oe(t,n):this.ae(t,n)}},i.he=function(){var t;return null!=(t=this.contentEl().parentElement)?t:void 0},i.ae=function(t,n){},i.oe=function(t,n){},i.Ws=function(){e.removeEventListener("resize",this.ne),t.prototype.Ws.call(this),this.hide(),an.Ys.Qs&&(this.el().removeAttribute("style"),this.contentEl().removeAttribute("style"))},i.createEl=function(){var n=t.prototype.createEl.call(this);n.className=this.buildCSSClass();var i=this.contentEl();gu(i,"theo-menu-content");var r=new Tht(this.player(),this.h,this);return i.parentNode.insertBefore(r.el(),i),this.se=r,n},i.Js=function(t){},i.show=function(){return this.re(),t.prototype.show.call(this)},i.dispose=function(){this.se&&this.se.dispose(),t.prototype.dispose.call(this)},At(n,[{key:"menuHeader",get:function(){return this.se}},{key:"menuItems",get:function(){return this.children()}}]),n}(bht),Dht=function(t){function n(n,i){return t.call(this,n,i)}bt(n,t);var i=n.prototype;return i.ve=function(t){this.ce.pe(t,"replace")},i.me=function(t){t.ce.pe(this,"restore")},i.ge=function(){wu(this.ye,"vjs-hidden"),this.ye.style.opacity="1",t.prototype.show.call(this)},i.be=function(){gu(this.ye,"vjs-hidden")},i.qs=function(){this.ce&&this.ce.qs(),t.prototype.qs.call(this)},i.Ws=function(){this.ce&&this.ce.Ws(),t.prototype.Ws.call(this),gu(this.ye,"vjs-hidden")},i.he=function(){if(this.ce&&this.ce.ke)return this.ce.ke.ye},i.ae=function(n,i){if(i.length>0){var r=i[0].height,e=i[0].width;this.le.we.style.height=r+"px",this.le.we.style.width=e+"px"}t.prototype.ae.call(this,n,i)},At(n,[{key:"ce",get:function(){return this.le},set:function(t){this.le&&this.le.de(this),this.le=t,t&&t.fe(this)}}]),n}(Nht);yt(),C(),pt();var Iht=function(){function t(t){this.Se=this._e=t,this.Us=u.createElement("div"),this.Us.className="theo-tertiary-background theo-menu-animation-container",this.Us.appendChild(this.Se.ye),this.ue=this._e.player().el()}var n=t.prototype;return n.fe=function(t){t.be(),this.Us.appendChild(t.ye)},n.de=function(t){this.Us.removeChild(t.ye)},n.pe=function(t,n){if(t!=this._e){var i=this._e;if(this._e=t,this._e.ge(),this.ke.focus(),an.Ys.Qs)i.be();else{var r=_S("transform");i.ye.style.opacity="0",i.ye.style[r]="replace"===n?"translateX(-100%)":"translateX(100%)",this._e.ye.style.opacity="1",this._e.ye.style[r]="",a((function(){i.be(),i.ye.style[r]=""}),300)}}},n.qs=function(){this.xe(),this._e.ge(),this.Ce()},n.Ws=function(){this.xe(),this._e.be(),this.Se.be(),this._e=this.Se,this.Ce()},n.Ce=function(){var t=this;oS((function(){wu(t.Us,"theo-no-transition"),wu(t._e.ye,"theo-no-transition")}))},n.xe=function(){gu(this.Us,"theo-no-transition"),gu(this._e.ye,"theo-no-transition")},At(t,[{key:"we",get:function(){return this.Us}},{key:"ke",get:function(){return this._e}}]),t}();yt(),C(),pt(),Mt(),yt(),C(),pt(),Mt();var Eht=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).Me=!1,e.je=r,e.menuHeader.Ks=!0,e}bt(n,t);var i=n.prototype;return i.ee=function(t,n){var i=new Sht(t,n,this);return i.subMenu.ce=this.ce,i},i.ie=function(){this.Te()},i.Js=function(n){t.prototype.Js.call(this,n),this.Te()},i.Te=function(){this.parentMenu.me(this)},i.buildCSSClass=function(){return"theo-submenu "+(this.Me?"":"theo-leaf-submenu ")+"theo-menu-content theo-menu-content-animatable "+t.prototype.buildCSSClass.call(this)},i.addSubMenuItem=function(n){this.Me=!0;var i=t.prototype.addSubMenuItem.call(this,n);return this.removeClass("theo-leaf-submenu"),i},At(n,[{key:"ye",get:function(){return this.el()}},{key:"parentMenu",get:function(){return this.je}}]),n}(Dht),Sht=function(t){function n(n,i,r){var e;return(e=t.call(this,n,$u({selectable:!1},i),r)||this).Ae=new Eht(n,i,r),e}return bt(n,t),n.prototype.handleClick=function(t){this.parentMenu.ve(this.subMenu)},At(n,[{key:"subMenu",get:function(){return this.Ae}}]),n}(Mht),Lht=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).Ne=!1,e.Pe=r,e}bt(n,t);var i=n.prototype;return i.createEl=function(){var n=nht.createEl("div",{className:this.buildCSSClass()});return this.Ee=t.prototype.createEl.call(this),this.Ee.className=t.prototype.buildCSSClass.call(this),gu(this.Ee,"theo-menu-content-animatable"),n.appendChild(this.Ee),this.ce=new Iht(this),n.appendChild(this.ce.we),n},i.buildCSSClass=function(){return"theo-menu-animatable "+t.prototype.buildCSSClass.call(this)},i.ee=function(t,n){var i=new Sht(t,n,this);return i.subMenu.ce=this.ce,i},i.ae=function(n,i){t.prototype.ae.call(this,n,i);var r=this.ue.getClientRects(),e=r.length>0?r[0]:void 0,u=m(getComputedStyle(this.el()).fontSize);dz(this.el(),this.Pe.el(),e,u)},i.ie=function(){this.Pe.closeMenu()},i.dispose=function(){this.Ne||(this.Ne=!0,t.prototype.dispose.call(this))},At(n,[{key:"menuButton",get:function(){return this.Pe}},{key:"ye",get:function(){return this.Ee}}]),n}(Dht);yt(),C(),pt();var jht=function(){function t(t,n){var i=this;this.$e=function(){wu(i.Ie,"vjs-hidden");var t=i.Fe.player().contentEl().getClientRects(),n=t.length>0?t[0]:void 0,r=m(getComputedStyle(i.Ie).fontSize);dz(i.Ie,i.Fe.el(),n,r)},this.De=function(){gu(i.Ie,"vjs-hidden")},this.Oe=function(){return i.Re()},this.Fe=t,bu(t.el()),function(t){t.addEventListener("mouseover",(function(t){bu(t.target)}))}(t.el()),this.Ie=u.createElement("span"),this.Ie.innerHTML=this.Fe.localize(n),this.Ie.className="theo-button-tooltip vjs-hidden",this.Ie.setAttribute("aria-hidden","true"),this.Fe.el().appendChild(this.Ie),this.Fe.on("mouseover",this.$e),this.Fe.on("mouseout",this.De),this.Fe.on("dispose",this.Oe)}return t.prototype.Re=function(){this.Fe.off("mouseover",this.$e),this.Fe.off("mouseout",this.De),this.Fe.off("dispose",this.Oe),cu(this.Ie)},At(t,[{key:"Be",get:function(){return this.Ie.textContent||""},set:function(t){this.Ie.innerHTML=this.Fe.localize(t),this.De(),this.$e(),bu(this.Fe.el())}}]),t}(),Cht=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).ze=!1,r.He=1,r.Le=!0,r.Ge=function(t){var n,i=r.el().contains(t.target),e=r.Ue.el().contains(t.target),u=!1;an.Ys.Qs&&r.Ve&&(u=(null==(n=r.el().parentElement)?void 0:n.querySelector(".theo-mobile-menu-background"))===t.target);i||e||!r.ze||(u&&t.preventDefault(),r.closeMenu())},r.Xe=function(t){27===t.which&&(r.closeMenu(),r.focus())},r.We=function(){r.ze&&r.closeMenu()},r.qe=function(){r.Ue.menuItems.length>=r.He?r.show():(r.closeMenu(),r.hide())},r.Ue=new Lht(n,i,Wt(r)),r.player().getChild("controlBarMenuContainer").addChild(r.Ue),r.Ie=new jht(Wt(r),r.controlText()),r.el().setAttribute("aria-haspopup","true"),an.Ys.Je?(r.on(u,"touchend",r.Ge),new kht(r.el())):(r.on(u,"click",r.Ge),r.on(u,"keydown",r.Xe),DS&&r.on(u,DS.Qe,r.closeMenu)),r.ws.addEventListener("seeking",r.We),r.on(r.Ue,"menuchange",r.qe),r.on(n,"languagechange",r.te),r.qe(),r}bt(n,t);var i=n.prototype;return i.isMenuOpen=function(){return this.ze},i.openMenu=function(){this.Le&&!this.ze&&(this.Ue.qs(),this.el().setAttribute("aria-expanded","true"),this.ze=!0,this.Ue.focus())},i.closeMenu=function(){this.Le&&this.ze&&(this.Ue.Ws(),this.el().setAttribute("aria-expanded","false"),this.ze=!1)},i.buildCSSClass=function(){return"theo-controlbar-button vjs-menu-button vjs-menu-button-popup "+t.prototype.buildCSSClass.call(this)},i.createEl=function(n,i,r){return t.prototype.createEl.call(this,"button",{},{"aria-live":"off"})},i.handleClick=function(){this.ze?this.closeMenu():this.openMenu()},i.enable=function(){return this.Le=!0,t.prototype.enable.call(this)},i.disable=function(){return this.closeMenu(),this.Le=!1,t.prototype.disable.call(this)},i.te=function(){this.Ie.Be=this.controlText()},i.dispose=function(){this.player().removeChild(this.Ue),this.Ue.dispose(),this.Ie.Re(),this.ws.removeEventListener("seeking",this.We),t.prototype.dispose.call(this)},At(n,[{key:"Ve",get:function(){var t=this.el().parentElement;return!!t&&null!==t.querySelector(".theo-mobile-menu-background")}},{key:"menu",get:function(){return this.Ue}},{key:"minimumMenuItems",set:function(t){this.He=t,this.qe()}}]),n}(hht(nht.getComponent("Button"))),xht=nht.getComponent("Component"),Oht=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).addChild("THEOControlBarShadow",void 0,0),r}bt(n,t);var i=n.prototype;return i.addMenuButton=function(t){t=$u({playerOptions:this.h.playerOptions},t);var n=new Cht(this.player(),t);return this.addChild(n),n},i.removeMenuButton=function(t){this.removeChild(t)},i.createEl=function(){var n=t.prototype.createEl.call(this);return n.className=this.buildCSSClass(),n},i.buildCSSClass=function(){return"theo-secondary-color vjs-control-bar "+t.prototype.buildCSSClass.call(this)},n}(nht.getComponent("ControlBar")),zht=function(t){function n(){return t.apply(this,arguments)}bt(n,t);var i=n.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},i.buildCSSClass=function(){return"theo-tertiary-color theo-control-bar-shadow"},n}(xht);nht.registerComponent("THEOControlBarShadow",zht),yt(),C(),Mt(),yt(),C(),Mt();var Rht=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Ye=i.Ke,r}bt(n,t);var i=n.prototype;return i.handleFocus=function(n){t.prototype.handleFocus.call(this,n),this.Ye.addClass("focus-within")},i.handleBlur=function(n){t.prototype.handleBlur.call(this,n),this.Ye.removeClass("focus-within")},n}(nht.getComponent("VolumeBar"));yt(),C(),Xt(),Mt();var Bht=nht.getComponent("VolumeControl"),Pht=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Ze=new Rht(n,{Ke:Wt(r)}),r.addChild(r.Ze),r}return bt(n,t),n}(Bht);Pht.prototype.h=$u({},Bht.prototype.h,{children:[]}),nht.registerComponent("VolumeControl",Pht);var Uht=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).ln=!1,r.hn=0,r.an=function(){0!==r.hn&&(r.hn=0,r.sn(r.nn()))},r.mn=function(){r.ln&&r.dn()},r.on(n,"ready",r.tn),r.on(n,"pause",r.tn),r.on(n,"useractive",r.tn),r.on(n,"firstplay",r.rn),r.on(n,"play",r.rn),r.on(n,"userinactive",r.rn),r.on("transitionstart",r.un),r.on("transitionend",r.cn),r.vn=new TS(r.el()),r.vn.yn(fS.pn,r.mn),r.vn.bn(!0),r}bt(n,t);var i=n.prototype;return i.tn=function(){this.sn(this.nn())},i.rn=function(){0===this.hn&&(this.hn=a(this.an,100))},i.un=function(t){"opacity"===t.propertyName&&(0!==this.hn&&(c(this.hn),this.hn=0),this.sn(!0))},i.cn=function(t){"opacity"===t.propertyName&&(this.nn()||this.sn(!1))},i.nn=function(){return"0"!==e.getComputedStyle(this.el()).opacity},i.sn=function(t){this.ln!==t&&(this.ln=t,t?this.dn():this.ws.textTrackStyle.marginBottom=void 0)},i.dn=function(){var t=this.el().getBoundingClientRect().height;this.ws.textTrackStyle.marginBottom!==t&&(this.ws.textTrackStyle.marginBottom=t)},i.dispose=function(){c(this.hn),this.hn=0,this.vn.fn(fS.pn,this.mn),this.vn.gn(),t.prototype.dispose.call(this)},n}(hht(Oht));Uht.prototype.h=$u({},Oht.prototype.h,{children:["progressControl","playToggle","muteToggle","volumeControl","currentTimeDisplay","timeDivider","durationDisplay","liveDisplay","remainingTimeDisplay","customControlSpacer","activeQualityLabel","vrButton","descriptionsButton","subtitlesButton","chromecastButton","airplayButton","multiViewButton","audioTrackButton","SettingsButton","fullscreenToggle"]}),nht.registerComponent("ControlBar",Uht),yt(),C(),Xt(),Mt();var Qht=function(t){function n(n,i){var r;return r=t.call(this,n,i)||this,n.topControlBar=Wt(r),r}return bt(n,t),n.prototype.buildCSSClass=function(){return"theo-top-controlbar "+t.prototype.buildCSSClass.call(this)},n}(Oht);Qht.prototype.h=$u({},Oht.prototype.h,{children:[]}),nht.registerComponent("TopControlBar",Qht),yt(),C(),Mt();var Yht=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).on(n,"timeupdate",r.updateContent),r.on(n,"emptied",r.updateContent),r}return bt(n,t),n.prototype.updateContent=function(){var t=eht(this.player()),n=this.ws,i=sht(n),r=this.localize("Current Time"),e=cht(w.max(0,t-i),oht(n));e!==this.Mt&&(this.Mt=e,this.contentEl().innerHTML='<span class="vjs-control-text">'+r+"</span> "+e)},n}(hht(nht.getComponent("CurrentTimeDisplay")));nht.registerComponent("CurrentTimeDisplay",Yht),yt(),C(),Mt();var Fht=function(t){function n(n,i){var r,e;return(r=t.call(this,n,i)||this).kn=function(){return r.updateContent()},r.off(n,"durationchange",r.updateContent),r.on(n,"durationchange",r.updateContent),r.off(n,"timeupdate",r.updateContent),r.on(n,"timeupdate",r.updateContent),r.off(n,"emptied",r.updateContent),r.on(n,"emptied",r.updateContent),null==(e=r.ws)||e.clip.addEventListener("change",r.kn),r}bt(n,t);var i=n.prototype;return i.updateContent=function(){var t=this.ws,n=A(t.duration)?NaN:oht(t),i=t.clip.endTime-t.clip.startTime,r=w.min(n,i)||0;if(this.ct!==r){this.ct=r;var e=this.localize("Duration Time"),u=cht(r);this.S.innerHTML='<span class="vjs-control-text">'+e+"</span> "+u}},i.dispose=function(){var n;null==(n=this.ws)||n.clip.removeEventListener("change",this.kn),t.prototype.dispose.call(this)},n}(hht(nht.getComponent("DurationDisplay")));nht.registerComponent("DurationDisplay",Fht),yt(),C(),Mt();var Ght=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).controlText("Live"),r._n(),r.on(n,"emptied",r._n),r.on(n,"durationchange",r._n),an.Ys.Je&&new kht(r.el()),r}bt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"theo-live-control "+t.prototype.buildCSSClass.call(this)},i.createEl=function(){var n=t.prototype.createEl.call(this,"button",{},{"aria-live":"off"});return this.wn=nht.createEl("span",{className:"theo-live-control-indicator"}),fu(n,this.wn),n},i.createControlTextEl=function(n){var i=t.prototype.createControlTextEl.call(this,n);return nht.removeClass(i,"vjs-control-text"),nht.addClass(i,"theo-live-control-text"),i},i.handleClick=function(){var t,n=this.ws;if(void 0!==(null==(t=n.hesp)?void 0:t.manifest))n.hesp.goLive();else{var i=this.player();i.currentTime(uht(n)),i.play()}},i._n=function(){rht(this.ws)?this.show():this.hide()},n}(hht(nht.getComponent("Button")));nht.registerComponent("LiveDisplay",Ght),yt(),C(),Mt();var Vht=function(t){function n(n,i){return t.call(this,n,i)}bt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"theo-secondary-color vjs-loading-spinner "+t.prototype.buildCSSClass.call(this)},i.createEl=function(){var n=t.prototype.createEl.call(this);n.className=this.buildCSSClass();var i=nht.createEl("div",{className:"theo-loading-spinner-rotator"}),r=nht.createEl("div",{className:"theo-loading-spinner-circle-left"}),e=nht.createEl("div",{className:"theo-loading-spinner-circle-right"});return i.appendChild(r),i.appendChild(e),n.appendChild(i),n},n}(nht.getComponent("LoadingSpinner"));nht.registerComponent("LoadingSpinner",Vht),yt(),C(),Mt();var Wht=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Tn=[],r.on(n,"emptied",r.update),r}return bt(n,t),n.prototype.update=function(){var t=this.ws,n=HD.xn(aht(t)),i=n.Cn(0),r=HD.xn(t.buffered).Sn(n),e=n.jn(0)-i,s=r.U&&r.jn(r.U-1)||0;s=w.max(0,s-i);var o=this.el(),a=this.Tn;o.style.width=Xht(s,e);for(var c=0;c<r.U;c++){var h=r.Cn(c),f=r.jn(c),v=a[c];v||(v=u.createElement("div"),a.push(v),o.appendChild(v)),v.style.left=Xht(h-i,s),v.style.width=Xht(f-h,s)}for(var l=a.length;l>r.U;l--)o.removeChild(a[l-1]);a.length=r.U},n}(hht(nht.getComponent("LoadProgressBar")));function Xht(t,n){var i=t/n||0;return 100*(i>=1?1:i)+"%"}nht.registerComponent("LoadProgressBar",Wht),yt(),C(),Mt();var Zht=function(t){function n(n,i){var r,e;((r=t.call(this,n,i)||this).An=NaN,r.Nn=function(){var t=eht(r.player()),n=r.ws,i=(t-sht(n))/oht(n)||0;i=Pi(i,0,1),r.update(t,100*i+"%")},r.keepTooltipsInside&&(nht.addClass(r.tooltip,"theo-secondary-color"),r.tooltip.appendChild(r.Mn)),r.on(n,"ready",(function(){r.on(n.controlBar.progressControl,"mouseenter",r.handleMouseMove)})),xn.Qs)&&(r.on(n,"firstplay",r.Nn),r.on(n,"play",r.Nn),r.on(n,"seeking",r.Nn),r.on(n,"seeked",r.Nn),r.on(n,"timeupdate",r.Nn),r.ws.addEventListener("dimensionchange",r.Nn),null==(e=r.ws.presentation)||e.addEventListener("presentationmodechange",r.Nn),r.on(n,"ready",(function(){r.on(n.controlBar.progressControl,"touchstart",r.handleTouchMove),r.on(n.controlBar.progressControl,"touchmove",Jn((function(t){return r.handleTouchMove(t)}),25)),r.Nn()})));return r}bt(n,t);var i=n.prototype;return i.handleMouseMove=function(t){var n=t,i=this.ws,r=sht(i)+this.calculateDistance(n)*oht(i),e=n.pageX-lz(this.el().parentNode).left;this.update(r,e+"px")},i.handleTouchMove=function(t){var n=t,i=this.ws,r=sht(i)+this.calculateDistance(n)*oht(i),e=n.touches[0].pageX-lz(this.el().parentNode).left;this.update(r,e+"px")},i.createEl=function(){var n=t.prototype.createEl.call(this);return this.Mn=nht.createEl("span",{className:"theo-time-tooltip-text"}),n},i.update=function(t,n){this.An=t;var i=this.Pn(t);this.el().style.left=n,this.el().setAttribute("data-current-time",i),this.keepTooltipsInside&&(yz(this.Mn,i),this.En())},i.En=function(){if(this.keepTooltipsInside&&this.tooltip.offsetParent){var t=this.player().contentEl(),n=t.getClientRects(),i=n.length>0?n[0]:void 0,r=m(getComputedStyle(t).fontSize);dz(this.tooltip,this.el(),i,r)}},i.Pn=function(t){var n=this.ws,i=t-uht(n);return cht(rht(n)?w.min(i,0):i,oht(n))},i.dispose=function(){var n;this.ws.removeEventListener("dimensionchange",this.Nn),null==(n=this.ws.presentation)||n.removeEventListener("presentationmodechange",this.Nn),t.prototype.dispose.call(this)},n}(hht(nht.getComponent("MouseTimeDisplay")));nht.registerComponent("MouseTimeDisplay",Zht),yt(),C(),Mt();var Hht=function(t){function n(n,i){return t.call(this,n,i)}bt(n,t);var i=n.prototype;return i.updateDataAttr=function(){var t=eht(this.player());this.el().setAttribute("data-current-time",this.Pn(t))},i.Pn=function(t){var n=this.ws;return cht(t-uht(n),oht(n))},i.createEl=function(){var n=t.prototype.createEl.call(this);return n.className=this.buildCSSClass(),n},i.buildCSSClass=function(){return"theo-primary-color vjs-play-progress vjs-slider-bar "+t.prototype.buildCSSClass.call(this)},n}(hht(nht.getComponent("PlayProgressBar")));nht.registerComponent("PlayProgressBar",Hht),yt(),C(),Mt();var Kht=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).on(n,"timeupdate",r.updateContent),r.on(n,"emptied",r.updateContent),r}return bt(n,t),n.prototype.updateContent=function(){var t=this.ws,n=oht(t);if(n){var i=aht(t).end(0),r=this.localize("Remaining Time"),e=cht(w.max(0,i-this.player().currentTime()),n);e!==this.Mt&&(this.Mt=e,this.contentEl().innerHTML='<span class="vjs-control-text">'+r+"</span> -"+e)}},n}(hht(nht.getComponent("RemainingTimeDisplay")));nht.registerComponent("RemainingTimeDisplay",Kht),yt(),C(),Mt(),yt(),C(),pt();var qht=function(){function t(t,n){var i=this;this.Bn=n,this.On=[],this._s=void 0,this.Hn=function(t){var n=t.track;n.kind===Q_.Fn&&(n.addEventListener("addcue",i.Ln),n.addEventListener("removecue",i.Ln),n.addEventListener("readystatechange",i.Ln)),i.Ln()},this.qn=function(t){var n=t.track;n.kind===Q_.Fn&&(n.removeEventListener("addcue",i.Ln),n.removeEventListener("removecue",i.Ln),n.removeEventListener("readystatechange",i.Ln)),i.Ln()},this.er=function(t){var n=i.ws,r=function(t,n){var i,r,e=lz(t),u=t.offsetWidth,s=t.offsetHeight,o=e.top,a=e.left;!function(t){return void 0!==t.changedTouches}(n)?(r=n.pageX,i=n.pageY):(r=n.changedTouches[0].pageX,i=n.changedTouches[0].pageY);var c=Pi((o-i+s)/s,0,1),h=Pi((r-a)/u,0,1);return{x:h,y:c}}(i.Vn,t),e=sht(n)+r.x*oht(n);e===n.duration&&(e-=.1),i.Qn(e)},this.rr=function(){i.Rn.be()},this.nr=function(){i.Rn.ge()},this.Ln=function(){var t=i.Gn();t!==i.Dn&&(i.tr(),t&&i.In(t))},this.Un=function(){var t,n,r,e=null==(n=i.Dn)||null==(t=n.activeCues)?void 0:t[0],u=co(i.On,(function(t){return t.hr===e}));u!==i.ir&&(null==(r=i.ir)||r.ar(),i.ir=u,null==u||u.ur())},this.sr=t,this.Rn=new $ht,this.Bn.contentEl().appendChild(this.Rn.we),this.Vn=u.createElement("div"),gu(this.Vn,"theoplayer-chapterbar"),this.sr.appendChild(this.Vn),this.sr.addEventListener("mousemove",this.er),this.sr.addEventListener("mouseenter",this.nr),this.sr.addEventListener("mouseleave",this.rr),this.zn()}var n=t.prototype;return n.In=function(t){if(t.kind===Q_.Fn&&0!==this.ws.seekable.length){this.Dn=t;var n=t.cues.slice();this.Rn.$n(n);for(var i=0;i<n.length;i++){var r=n[i],e=n[i+1],u=!e||r.endTime!==e.startTime,s=new Jht(r,this.ws,u);this.On.push(s),this.Vn.appendChild(s.we)}t.addEventListener("cuechange",this.Un),this.Un()}},n.zn=function(){this.ws.addEventListener("loadedmetadata",this.Ln),this.ws.addEventListener("loadeddata",this.Ln),this.ws.addEventListener("sourcechange",this.Ln),this.ws.textTracks.addEventListener("addtrack",this.Hn),this.ws.textTracks.addEventListener("removetrack",this.qn),this.ws.textTracks.addEventListener("change",this.Ln)},n.Wn=function(){this.ws.removeEventListener("loadedmetadata",this.Ln),this.ws.removeEventListener("loadeddata",this.Ln),this.ws.removeEventListener("sourcechange",this.Ln),this.ws.textTracks.removeEventListener("addtrack",this.Hn),this.ws.textTracks.removeEventListener("removetrack",this.qn),this.ws.textTracks.removeEventListener("change",this.Ln)},n.Gn=function(){if(!(this.ws.readyState<mk.Xn))for(var t=0,n=this.ws.textTracks;t<n.length;t++){var i=n[t];if(i.kind===Q_.Fn&&i.mode===A_.Jn&&i.cues.length>0&&i.readyState!==yA.ERROR)return i}},n.Qn=function(t){this.Rn.Yn(t)},n.Kn=function(){this.Rn.ge()},n.Zn=function(){this.Rn.be()},n.tr=function(){for(var t=0,n=this.On;t<n.length;t++){n[t].Re()}this.Rn.tr(),this.On=[],this.ir=void 0,this.Dn&&this.Dn.removeEventListener("cuechange",this.Un),this.Dn=void 0},n.Re=function(){this.Wn(),this.sr.removeEventListener("mousemove",this.er),this.sr.removeEventListener("mouseenter",this.nr),this.sr.removeEventListener("mouseleave",this.rr),this.tr(),this.Rn.Re(),this._s=void 0},At(t,[{key:"ws",get:function(){return this._s||(this._s=this.Bn.tech({IWillNotUseThisInPlugins:!0}).theoplayer()),this._s}}]),t}(),Jht=function(){function t(t,n,i){this.hr=t,this.Us=this.cr(n,i)}var n=t.prototype;return n.ur=function(){gu(this.Us,"theoplayer-chapter-indicator-active")},n.ar=function(){wu(this.Us,"theoplayer-chapter-indicator-active")},n.cr=function(t,n){var i=t.seekable.start(0),r=t.seekable.end(t.seekable.length-1)-i,e=this.hr.startTime,s=this.hr.endTime-e,o=u.createElement("div");gu(o,"theoplayer-chapter-indicator");var a=u.createElement("div");gu(a,"theoplayer-chapter-indicator-highlight"),o.appendChild(a),n&&gu(o,"theoplayer-chapter-indicator-discontinuous");var c=w.min(e/r*100,100),h=100-c,f=w.min(s/r*100,h);return o.style.width=f+"%",o.style.left=c+"%",o},n.Re=function(){cu(this.Us)},At(t,[{key:"we",get:function(){return this.Us}}]),t}(),$ht=function(){function t(){this.dr=[],this.lr=0,this.we=u.createElement("div"),gu(this.we,"theoplayer-chaptertitle"),this.we.style.display="none",this.mr=u.createElement("p"),this.we.appendChild(this.mr)}var n=t.prototype;return n.be=function(){this.lr--,0===this.lr&&wu(this.we,"theoplayer-chapter-hovering")},n.$n=function(t){this.dr=t||[],this.dr.length>0&&(this.we.style.display="")},n.pr=function(t){yz(this.mr,t.content)},n.tr=function(){this.dr=[],yz(this.mr,""),this.we.style.display="none"},n.ge=function(){this.lr++,this.lr>0&&gu(this.we,"theoplayer-chapter-hovering")},n.Yn=function(t){for(var n=0,i=this.dr;n<i.length;n++){var r=i[n];if(tft(r,t)){this.pr(r);break}}},n.Re=function(){cu(this.we)},t}();function tft(t,n){return new HD([t.startTime,t.endTime]).gr(n)}var nft=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).playingStates=[],r.on(n,"emptied",r.update),r.on(n,"seeking",r.update),r.Vn=new qht(r.el(),n),r}bt(n,t);var i=n.prototype;return i.updateAriaAttributes=function(t){var n=eht(this.player()),i=this.ws;t.setAttribute("aria-valuenow",(100*this.yr(n)).toFixed(2)),t.setAttribute("aria-valuetext",cht(n-uht(i),oht(i)))},i.getPercent=function(){return this.yr(this.player().currentTime())},i.handleMouseMove=function(t){if(!(this.ws&&this.ws.ads&&this.ws.ads.playing)){var n=this.ws,i=sht(n)+this.calculateDistance(t)*oht(n);i>=n.duration&&(i=n.duration-.1),this.Vn.Qn(i),this.player().currentTime(i)}},i.handleMouseDown=function(n){this.playingStates.push(!this.player().paused()),this.Vn.Kn(),t.prototype.handleMouseDown.call(this,n)},i.handleMouseUp=function(n){this.videoWasPlaying=Boolean(this.playingStates.pop()),this.Vn.Zn(),t.prototype.handleMouseUp.call(this,n)},i.yr=function(t){var n=this.ws;return Pi((t-sht(n))/oht(n),0,1)},i.dispose=function(){this.Vn.Re(),po(this.playingStates)},n}(hht(nht.getComponent("SeekBar")));nht.registerComponent("SeekBar",nft),yt(),C(),Xt(),Mt();var ift=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).on(Wt(r),"touchmove",r.handleMouseMove),r.on("touchstart",r.handleMouseDown),r.seekBar.off(["touchmove","touchstart"]),r}bt(n,t);var i=n.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},i.handleMouseMove=function(t){this.seekBar.handleMouseMove(t)},i.handleMouseDown=function(t){this.seekBar.handleMouseDown(t)},n}(nht.getComponent("ProgressControl"));an.Ys.Qs&&nht.registerComponent("ProgressControl",ift),yt(),C(),Mt();var rft=function(t){function n(n,i){return t.call(this,n,i)}bt(n,t);var i=n.prototype;return i.updateDataAttr=function(){var t=eht(this.player()),n=this.Pn(t);this.el().setAttribute("data-current-time",n),this.tooltip.innerHTML=n},i.Pn=function(t){var n=this.ws;return cht(t-uht(n),oht(n))},i.createEl=function(){var n=t.prototype.createEl.call(this);return n.className=this.buildCSSClass(),n},i.buildCSSClass=function(){return"theo-primary-color vjs-tooltip-progress-bar vjs-slider-bar "+t.prototype.buildCSSClass.call(this)},n}(hht(nht.getComponent("TooltipProgressBar")));function eft(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.enabled)return i}}function uft(t){if(t)return t.label&&""!==t.label?{name:t.label,hd:!1}:{name:sft(t),description:oft(t),hd:!!t.height&&t.height>=720}}function sft(t){return t.height?t.height+"p":t.bandwidth?oft(t):""}function oft(t){return t.bandwidth?t.bandwidth>1e7?(t.bandwidth/1e6).toFixed(0)+"Mbps":t.bandwidth>1e6?(t.bandwidth/1e6).toFixed(1)+"Mbps":(t.bandwidth/1e3).toFixed(0)+"kbps":""}nht.registerComponent("TooltipProgressBar",rft),yt(),C(),Mt(),yt(),C(),pt(),Mt(),Ct(),yt(),C(),yt(),C(),yt(),C(),pt();var aft=function(){function t(t){this.kr=[],this.Cr=t}var n=t.prototype;return n.jr=function(t){var n=this.Sr;if(n)for(var i=0;i<n.length;i++){var r=n[i];if(r.Tr===t)return r}},n.Mr=function(t){var n=this,i=this.Cr.addMenuItem();return i.Tr=t,i.on("click",(function(){return n.Ar(i)})),i.el().setAttribute("role","menuitemradio"),i},n.Pr=function(t){t.dispose()},n.Er=function(t){return!0},n._r=function(t){if(this.Er(t)){mo(this.kr,t)||this.kr.push(t);var n=this.jr(t)||this.Mr(t);return this.Nr(n),n}this.wr(t)},n.wr=function(t){var n=this.jr(t);n&&(this.Cr.removeMenuItem(n),this.Pr(n)),go(this.kr,t)},n.Re=function(){for(var t=[],n=0,i=this.kr;n<i.length;n++){var r=i[n];t.push(r)}for(var e=0;e<t.length;e++){var u=t[e];this.wr(u)}po(t)},At(t,[{key:"br",get:function(){return this.kr},set:function(t){for(var n=this.kr,i=n.length-1;i>=0;i--){var r=n[i];mo(t,r)||this.wr(r)}for(var e=0;e<t.length;e++){var u=t[e];this._r(u)}this.Cr.re()}},{key:"Sr",get:function(){return this.Cr.menuItems}}]),t}(),cft=function(t){function n(n,i,r){var e;return(e=t.call(this,n.subMenu)||this).qr=void 0,e.Gr=void 0,e.Xr=function(){var t=eft(e._s.videoTracks);if(t!==e.qr){var n=[];if(e.qr&&(e.qr.removeEventListener("activequalitychanged",e.Jr),e.qr.removeEventListener("targetqualitychanged",e.Qr),e.qr.removeEventListener("update",e.Yr)),e.qr=t,t){t.addEventListener("activequalitychanged",e.Jr),t.addEventListener("targetqualitychanged",e.Qr),t.addEventListener("update",e.Yr);var i=fft(dft(t.qualities.filter((function(t){return t.available}))));n=i.length>1?[void 0].concat(jt(i)):[void 0]}e.br=n,e.Qr(),e.Jr()}},e.Yr=function(t){var n=t.track;if(n===e.qr){var i,r=fft(dft(n.qualities.filter((function(t){return t.available})))),u=n&&wft(n.targetQuality);e.Gr=e.Wr(u,r),i=r.length>1?[void 0].concat(jt(r)):[void 0],e.br=i,e.Hr()}},e.Jr=function(){e._r(void 0),e.Hr()},e.Qr=function(){var t=eft(e._s.videoTracks),n=t&&wft(t.targetQuality),i=e.Wr(n),r=e.Gr;i!==r&&(e.Gr=i,i&&r||e._r(void 0),r&&mo(e.br,r)&&e._r(r),n&&e._r(i),e.Hr())},e.te=function(){yz(e.Cr.menuHeader.el(),e.Fr.localize("Quality")),yz(e.Ir,e.Fr.localize("Quality")),yz(e.$r,e.Fr.localize("Automatic")),yz(e.Or,e.Fr.localize("Automatic")),yz(e.Ur,e.Fr.localize("HD")),e.Lr.el().setAttribute("aria-label",e.Fr.localize("Open the video quality settings menu"));for(var t=0,n=e.Sr;t<n.length;t++){var i=n[t];e.Nr(i)}e.Hr()},e.Lr=n,e._s=i,e.Fr=r,e.Ir=e.Br(),e.$r=e.Dr(),e.Or=e.Rr(),e.Ur=e.Vr(),e.zr(),yz(e.Cr.menuHeader.el(),e.Fr.localize("Quality")),e.br=[void 0],e._s.videoTracks.addEventListener(["addtrack","removetrack","change"],e.Xr),e.Fr.on("languagechange",e.te),e.Xr(),e}bt(n,t);var i=n.prototype;return i.Br=function(){return this.Ir=u.createElement("span"),this.Ir.className="theo-settings-control-menu-item-title",yz(this.Ir,this.Fr.localize("Quality")),this.Ir},i.Dr=function(){return this.$r=u.createElement("span"),this.$r.className="theo-settings-control-menu-quality-automatic",yz(this.$r,this.Fr.localize("Automatic")),this.$r},i.Rr=function(){return this.Or=u.createElement("span"),yz(this.Or,this.Fr.localize("Automatic")),this.Or},i.Vr=function(){return this.Ur=u.createElement("span"),this.Ur.className="theo-primary-color theo-settings-control-menu-item-hd-label",yz(this.Ur,this.Fr.localize("HD")),this.Ur},i.zr=function(){var t=u.createElement("span");t.className="theo-primary-color theo-settings-control-menu-item-value",t.appendChild(this.$r),t.appendChild(u.createTextNode(" ")),t.appendChild(this.Or),t.appendChild(u.createTextNode(" ")),t.appendChild(this.Ur),this.Lr.el().appendChild(this.Ir),this.Lr.el().appendChild(t),this.Lr.el().setAttribute("aria-label",this.Fr.localize("Open the video quality settings menu"))},i.Hr=function(){var t=this.qr,n=t&&wft(t.targetQuality),i=t&&t.activeQuality,r=uft(this.Wr(n||i))||{name:this.Fr.localize("Automatic")};yz(this.Or,r.name),yu(this.$r,"vjs-hidden",!!n),yu(this.Ur,"vjs-hidden",!r.hd)},i.Nr=function(t){var n=uft(t.Tr)||{name:this.Fr.localize("Automatic")},i=n.name;n.hd&&(i+='<span class="theo-primary-color theo-settings-control-menu-item-hd-label">'+this.Fr.localize("HD")+"</span>"),n.description&&(i+='<span class="theo-settings-control-submenu-item-alternate-value">'+n.description+"</span>"),t.el().innerHTML=i,t.el().setAttribute("aria-label",this.Fr.localize("Set video quality to ")+n.name),t.Tr?t.selected(t.Tr===this.Gr):t.selected(!this.Gr)},i.Ar=function(t){this.qr&&(this.qr.targetQuality=t.Tr&&t.Tr.videoQualities)},i.Wr=function(t,n){for(var i=n||this.br,r=0;r<i.length;r++){var e=i[r];if(t&&e&&-1!==e.videoQualities.indexOf(t))return e}},i.Re=function(){this._s.videoTracks.removeEventListener(["addtrack","removetrack","change"],this.Xr),this.Fr.off("languagechange",this.te),this.qr&&(this.qr.removeEventListener("activequalitychanged",this.Jr),this.qr.removeEventListener("targetqualitychanged",this.Qr),this.qr.removeEventListener("update",this.Yr)),t.prototype.Re.call(this)},n}(aft),hft=function(){function t(t){this.Kr=t}return t.prototype.add=function(t){this.Kr.push(t)},At(t,[{key:"height",get:function(){return this.Kr[0].height}},{key:"bandwidth",get:function(){return this.Kr[0].bandwidth}},{key:"videoQualities",get:function(){return this.Kr}},{key:"label",get:function(){return this.Kr[0].label}}]),t}();function fft(t){for(var n=[],i=0;i<t.length;i++){for(var r=t[i],e=!1,u=0;u<n.length;u++){var s=n[u];if(gft(s,r)){s.add(r),e=!0;break}}e||n.push(new hft([r]))}return n}function vft(t,n){return t&&n?uo(t,n):Js.Zr}function lft(t,n){return t===n?Js.Zr:vft(t.height,n.height)||vft(t.width,n.width)||vft(t.bandwidth,n.bandwidth)}function dft(t){return to(t,lft).reverse()}function gft(t,n){return t.label&&n.label&&t.label===n.label||Mm(uft(t),uft(n))}function wft(t){return Pn(t)?1===t.length?t[0]:void 0:t}function yft(t){return 1===t?"Normal":""+w.round(100*t)/100}yt(),C(),Mt();var mft=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n.subMenu)||this).ih=void 0,u.th=function(){u.ih&&u._r(u.ih);var t=u._s.playbackRate;u.ih=t,yz(u.sh,u.Fr.localize(yft(t))),t&&u._r(t)},u.te=function(){yz(u.Cr.menuHeader.el(),u.Fr.localize("Speed")),yz(u.Ir,u.Fr.localize("Speed")),u.Lr.el().setAttribute("aria-label",u.Fr.localize("Open the video speed settings menu"));for(var t=0,n=u.Sr;t<n.length;t++){var i=n[t];u.Nr(i)}u.th()},u.Lr=n,u._s=i,u.Fr=r,u.Ir=u.Br(),u.sh=u.zr(),yz(u.Cr.menuHeader.el(),u.Fr.localize("Speed")),u.br=e,u._s.addEventListener("ratechange",u.th),u.Fr.on("languagechange",u.te),u.th(),u}bt(n,t);var i=n.prototype;return i.Br=function(){return this.Ir=u.createElement("span"),this.Ir.className="theo-settings-control-menu-item-title",yz(this.Ir,this.Fr.localize("Speed")),this.Ir},i.zr=function(){var t=u.createElement("span");return t.className="theo-primary-color theo-settings-control-menu-item-value",this.Lr.el().appendChild(this.Ir),this.Lr.el().appendChild(t),this.Lr.el().setAttribute("aria-label",this.Fr.localize("Open the video speed settings menu")),t},i.Mr=function(n){var i=t.prototype.Mr.call(this,n);return this.Nr(i),i},i.Nr=function(t){var n=t.Tr,i=this.Fr.localize(yft(n));yz(t.el(),i),t.el().setAttribute("aria-label",this.Fr.localize("Set video speed to ")+i),t.selected(t.Tr===this._s.playbackRate)},i.Ar=function(t){this._s.playbackRate=t.Tr},i.Re=function(){this._s.removeEventListener("ratechange",this.th),this.Fr.off("languagechange",this.te),t.prototype.Re.call(this)},n}(aft),Aft=function(t){function n(n,i){var r,e,u;(r=t.call(this,n,i)||this).qr=void 0,r.nh=function(){var t=eft(r.ws.videoTracks);t!==r.qr&&(r.qr&&r.qr.removeEventListener("activequalitychanged",r.Jr),r.qr=t,t&&t.addEventListener("activequalitychanged",r.Jr),r.Jr())},r.Jr=function(){var t,n=null==(t=r.qr)?void 0:t.activeQuality,i=!!(n&&n.height>=720);r.player().toggleClass("theo-hd",i)},gu(r.menu.el(),"theo-settings-control-menu"),yz(r.menu.menuHeader.el(),n.localize("Settings")),r.controlText("Settings"),r.Ie.Be=r.controlText(),r.oh=r.menu.addSubMenuItem({name:"QualityMenuItem"}),r.rh=new cft(r.oh,r.ws,n);var s=null!=(u=null==i||null==(e=i.playerOptions)?void 0:e.playbackRates)?u:[];return r.ah=r.menu.addSubMenuItem({name:"PlaybackRateMenuItem"}),r.hh=new mft(r.ah,r.ws,n,s),r.ws.videoTracks.addEventListener(["addtrack","removetrack","change"],r.nh),r.nh(),r}bt(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this);return this.eh=nht.createEl("span",{className:"theo-settings-control-label-hd theo-primary-background"}),yz(this.eh,this.localize("HD")),n.appendChild(this.eh),n},i.buildCSSClass=function(){return"vjs-icon-cog theo-settings-control-button "+t.prototype.buildCSSClass.call(this)},i.te=function(){t.prototype.te.call(this),yz(this.eh,this.localize("HD")),yz(this.menu.menuHeader.el(),this.localize("Settings"))},i.dispose=function(){this.qr&&(this.qr.removeEventListener("activequalitychanged",this.Jr),this.qr=void 0),this.ws.videoTracks.removeEventListener(["addtrack","removetrack","change"],this.nh),this.rh.Re(),this.hh.Re(),t.prototype.dispose.call(this)},n}(Cht);nht.registerComponent("SettingsButton",Aft),yt(),C(),Mt(),yt(),C(),Mt(),yt(),C(),Mt();var pft=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).ph=function(t){var n=t.track;r._r(n),n.addEventListener("update",r.yh)},r.mh=function(t){var n=t.track;r.wr(n),n.removeEventListener("update",r.yh)},r.gh=function(t){return r.dh()},r.yh=function(){for(var t=0,n=r.br;t<n.length;t++){var i=n[t];r._r(i)}},r.fh=i,r.fh.addEventListener("addtrack",r.ph),r.fh.addEventListener("removetrack",r.mh),r.fh.addEventListener("change",r.gh),r.dh(),r}bt(n,t);var i=n.prototype;return i.uh=function(t){var n=t.label;if(n)return n;var i=t.language;if(i){var r=cQ(i);if(r)return r.lh}return i||""},i.dh=function(){this.br=this.fh},i.Re=function(){this.fh.removeEventListener("addtrack",this.ph),this.fh.removeEventListener("removetrack",this.mh),this.fh.removeEventListener("change",this.gh),t.prototype.Re.call(this)},n}(aft),_ft=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i.audioTracks)||this).te=function(){yz(e.Cr.menuHeader.el(),e.Fr.localize("Language"));for(var t=0,n=e.Sr;t<n.length;t++){var i=n[t];e.Nr(i)}},e.ws=i,e.Fr=r,yz(e.Cr.menuHeader.el(),e.Fr.localize("Language")),e.Fr.on("languagechange",e.te),e}bt(n,t);var i=n.prototype;return i.Nr=function(t){var n=t.Tr,i=this.Fr.localize(this.uh(n));yz(t.el(),i),t.el().setAttribute("aria-label",this.Fr.localize("Set the audio language to")+" "+i),t.selected(n.enabled)},i.Ar=function(t){for(var n=t.Tr,i=0,r=this.ws.audioTracks;i<r.length;i++){var e=r[i];e!==n&&(e.enabled=!1)}n.enabled=!0},i.Re=function(){this.Fr.off("languagechange",this.te),t.prototype.Re.call(this)},n}(pft),kft=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).minimumMenuItems=2,r.bh=new _ft(r.menu,r.ws,n),r.controlText("Language"),r.Ie.Be=r.controlText(),r}bt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"vjs-icon-audio theo-audio-track-control-button "+t.prototype.buildCSSClass.call(this)},i.dispose=function(){this.bh.Re(),t.prototype.dispose.call(this)},n}(Cht);nht.registerComponent("audioTrackButton",kft),yt(),C(),Mt(),yt(),C(),Mt();var bft=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i.textTracks)||this).te=function(){yz(e.Cr.menuHeader.el(),e.Fr.localize("Subtitles"));for(var t=0,n=e.Sr;t<n.length;t++){var i=n[t];e.Nr(i)}},e.ws=i,e.Fr=r,yz(e.Cr.menuHeader.el(),r.localize("Subtitles")),e.Fr.on("languagechange",e.te),e}bt(n,t);var i=n.prototype;return i.Er=function(n){return!!t.prototype.Er.call(this,n)&&(!n.forced&&Z_(n.kind))},i.Mr=function(n){var i=this,r=t.prototype.Mr.call(this,n);gu(r.el(),"theo-text-track-menu-item");var e=u.createElement("span");r.kh=e;var s=u.createElement("div");s.className="theo-text-track-menu-item-toggle",r.wh=s;var o=function(t){return i._h(t,r)};r.xh=o,s.addEventListener("click",o);var a=u.createElement("div");return a.className="theo-text-track-menu-item-toggle-slider",s.appendChild(a),r.el().appendChild(e),r.el().appendChild(s),r},i.Nr=function(t){var n=t,i=n.Tr,r=this.Fr.localize(this.uh(i));yz(n.kh,r),n.el().setAttribute("aria-label",this.Fr.localize("Set the subtitle language to")+" "+r),n.el().setAttribute("role","menuitemcheckbox"),n.selected(i.mode===A_.Jn)},i.Pr=function(n){var i=n;i.wh.removeEventListener("click",i.xh),t.prototype.Pr.call(this,n)},i.Ar=function(t){for(var n=t.Tr,i=0,r=this.ws.textTracks;i<r.length;i++){var e=r[i];e!==n&&V_(e.kind,n.kind)&&(e.mode=A_.Ch)}n.mode!==A_.Jn?n.mode=A_.Jn:n.mode=A_.Ch},i._h=function(t,n){t.stopImmediatePropagation(),this.Ar(n)},i.Re=function(){this.Fr.off("languagechange",this.te),t.prototype.Re.call(this)},n}(pft),Mft=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).bh=new bft(r.menu,r.ws,n),r.controlText("Subtitles"),r.Ie.Be=r.controlText(),r}bt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"vjs-icon-subtitles theo-text-track-control-button "+t.prototype.buildCSSClass.call(this)},i.dispose=function(){this.bh.Re(),t.prototype.dispose.call(this)},n}(Cht);nht.registerComponent("subtitlesButton",Mft),yt(),C(),Xt(),Mt();var Tft,Nft=nht.getComponent("playToggle");!function(t){t.Sh="Pause",t.jh="Play",t.Th="Replay"}(Tft||(Tft={}));var Dft=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Mh=function(){r.controlText("Replay"),r.Ie.Be=r.controlText()},r.controlText("Play"),r.Ie=new jht(Wt(r),r.controlText()),r.ws.addEventListener("ended",r.Mh),r.on(n,"languagechange",r.te),an.Ys.Je&&new kht(r.el()),r}bt(n,t);var i=n.prototype;return i.handleClick=function(n){this.ws.muted||this.ws.prepareWithUserAction(),t.prototype.handleClick.call(this,n)},i.handlePlay=function(n){t.prototype.handlePlay.call(this,n),this.controlText("Pause"),this.Ie.Be=this.controlText()},i.handlePause=function(n){this.ws.ended||(t.prototype.handlePause.call(this,n),this.controlText("Play"),this.Ie.Be=this.controlText())},i.te=function(){this.Ie.Be=this.controlText()},i.dispose=function(){this.Ie.Re(),this.ws.removeEventListener("ended",this.Mh),t.prototype.dispose.call(this)},n}(hht(Nft));nht.registerComponent("playToggle",Dft),yt(),C(),Xt(),Mt();var Ift,Eft=nht.getComponent("fullscreenToggle");!function(t){t.Ah="Exit fullscreen",t.Ph="Fullscreen"}(Ift||(Ift={}));var Sft=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).controlText("Fullscreen"),r.Ie=new jht(Wt(r),r.controlText()),an.Ys.Je&&new kht(r.el()),r.on(n,"languagechange",r.updateContent),r}bt(n,t);var i=n.prototype;return i.handleClick=function(n){this.ws.prepareWithUserAction(),t.prototype.handleClick.call(this,n)},i.handleFullscreenChange=function(n){t.prototype.handleFullscreenChange.call(this,n),this.updateContent()},i.updateContent=function(){var t=this.player().isFullscreen()?"Exit fullscreen":"Fullscreen";this.controlText(t),this.Ie.Be=this.controlText()},i.dispose=function(){this.Ie.Re(),t.prototype.dispose.call(this)},n}(hht(Eft));nht.registerComponent("fullscreenToggle",Sft),yt(),C(),Xt(),Mt();var Lft,jft=nht.getComponent("muteToggle");!function(t){t.Eh="Unmute",t.Nh="Mute"}(Lft||(Lft={}));var Cft=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).controlText("Mute"),r.Ie=new jht(Wt(r),r.controlText()),an.Ys.Je&&new kht(r.el()),r.on(n,"languagechange",r.te),xu&&(r.removeClass("vjs-hidden"),r.on(n,"loadstart",(function(){r.removeClass("vjs-hidden")}))),r}bt(n,t);var i=n.prototype;return i.handleClick=function(n){this.ws.muted&&!this.ws.paused&&this.ws.prepareWithUserAction(),t.prototype.handleClick.call(this,n)},i.update=function(n){t.prototype.update.call(this,n),this.te()},i.te=function(){var t=this.player().muted()?"Unmute":"Mute";this.controlText(t),this.Ie.Be=this.controlText()},i.dispose=function(){this.Ie.Re(),t.prototype.dispose.call(this)},n}(hht(jft));nht.registerComponent("muteToggle",Cft),yt(),C(),Mt();var xft=nht.getComponent("BigPlayButton"),Oft="theo-play-svg-circle",zft='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 150 150" fill="currentColor">\n  <circle cx="75" cy="75" r="73" fill="#000" fill-opacity="0.2"></circle>\n  <circle cx="75" cy="75" r="73" class="'+Oft+'" stroke-width="4" stroke="currentColor" fill="none" transform="rotate(-90,75,75)"></circle>\n  <g transform="translate(85,75) scale(0.5625) translate(-75,-75)">\n    <path d="m 123.89639,85.432 c -12.865,9.167 -29.482997,19.402 -49.848997,30.7 -19.634,11.035 -36.851,19.7 -51.65,26 l -16.3990002,6.099 c -1.033,-4.433 -2,-11.002 -2.9,-19.7 -2.033,-17.333 -3.04999998,-36.466 -3.04999998,-57.399 0,-19.167 1.38199998,-37.081 4.14799998,-53.75 l 4.0019995,-19.1499994 17.3990007,5.849 c 15.068,5.9999994 31.401,14.5169994 49,25.5509994 18.631,11.666 34.616997,22.766 47.948997,33.3 6.663,5.3 11.463,9.383 14.396,12.25 l -13.046,10.25"></path>\n  </g>\n</svg>',Rft=function(t){function n(){return t.apply(this,arguments)}bt(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this),i=nht.createEl("div",{className:"theo-big-play-button-svg-container"});return i.innerHTML=zft,n.appendChild(i),n},i.buildCSSClass=function(){return"theo-primary-color "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(n){this.ws.muted||this.ws.prepareWithUserAction(),t.prototype.handleClick.call(this,n),void 0!==this.ws.vr&&"unavailable"!==this.ws.vr.state&&(this.ws.vr.useDeviceMotionControls=!0)},n}(hht(xft));nht.registerComponent("BigPlayButton",Rft),yt(),C(),Mt(),Vt();var Bft=/^([^#]*)#xywh=(\d+),(\d+),(\d+),(\d+)\s*$/;var Pft=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Kh=void 0,r.Ih=void 0,r.Fh=void 0,r.Zh=function(t){return r.Bh(t)},r.io=function(t){return r.Oh(t)},r.$h=function(t){return r.Rh()},r.showThumbnails=function(){r.Kh&&r.Kh.hidden&&(r.Kh.hidden=!1,r.En())},r.hideThumbnails=function(){!r.Kh||r.Kh.hidden||r.player().scrubbing()||(r.Kh.hidden=!0,r.En())},r.on(r.player().textTracks(),"addtrack",r.Zh),r.on(r.player().textTracks(),"removetrack",r.io),xn.Qs&&(r.on(n,"seeking",r.showThumbnails),r.on(n,"seeked",r.hideThumbnails)),r}bt(n,t);var i=n.prototype;return i.Bh=function(t){var n=t.track;"metadata"===n.kind&&"thumbnails"===n.label&&void 0===this.Ih&&(this.Ih=n,this.Fh=n.src?an.Dh(n.src).href:void 0,this.Ih.addEventListener(["addcue","removecue"],this.$h),this.Rh())},i.Oh=function(t){t.track===this.Ih&&this.Vh()},i.createEl=function(){var n=t.prototype.createEl.call(this);return this.Uh=nht.createEl("img",{className:"theo-time-tooltip-thumbnail"}),this.zh=nht.createEl("canvas",{className:"theo-time-tooltip-thumbnail"}),n},i.update=function(n,i){t.prototype.update.call(this,n,i),this.keepTooltipsInside&&this.Lh(n)},i.Lh=function(t){var n;if(this.Ih&&this.Ih.cues){var i=function(t,n){for(var i=t[0],r=0;r<t.length;r++){var e=t[r];if(e.startTime<=n)i=e;else if(n>=e.endTime)return i}return i}(this.Ih.cues,t);n=i&&i.content}if(n!==this.Hh)if(this.Hh=n,nht.toggleClass(this.el(),"theo-time-tooltip-has-thumbnail",!!n),n){var r=n.match(Bft);if(r){var e=Gt(r,6),u=e[1],s=e[2],o=e[3],a=e[4],c=e[5];u=this.Wh(u);var h={Gh:+s,Xh:+o,ji:+a,Ti:+c};this.Jh(u,h)}else{var f=this.Wh(n);this.Jh(f)}}else this.qh()},i.Rh=function(){A(this.An)||this.Lh(this.An)},i.Wh=function(t){return this.Ih&&this.Fh?an.Dh(t,this.Fh).href:t},i.Jh=function(t,n){var i=this;this.Uh&&(this.Uh.src!==t?(this.Uh.onload=function(){i.Qh(n)},this.Uh.src="",this.Uh.src=t):this.Qh(n))},i.Qh=function(t){if(this.zh&&this.Uh){var n=this.zh.getContext("2d");n&&(null!=t||(t={Gh:0,Xh:0,ji:this.Uh.naturalWidth,Ti:this.Uh.naturalHeight}),this.zh.width=t.ji,this.zh.height=t.Ti,n.drawImage(this.Uh,t.Gh,t.Xh,t.ji,t.Ti,0,0,t.ji,t.Ti),this.Yh(this.zh))}},i.Yh=function(t){this.Kh||(fu(this.tooltip,t),this.Kh=t),this.En()},i.qh=function(){this.Kh&&(this.tooltip.removeChild(this.Kh),this.Kh=void 0,this.En())},i.Vh=function(){void 0!==this.Ih&&(this.Ih.removeEventListener(["addcue","removecue"],this.$h),this.Ih=void 0),this.Fh=void 0,this.qh(),this.Hh=void 0},i.dispose=function(){this.Vh(),t.prototype.dispose.call(this)},n}(Zht);nht.registerComponent("MouseTimeDisplay",Pft),yt(),C(),Mt();var Uft=function(t){function n(){return t.apply(this,arguments)}bt(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this);return n.className=this.buildCSSClass(),n},i.buildCSSClass=function(){return"theo-primary-color vjs-volume-level "+t.prototype.buildCSSClass.call(this)},n}(nht.getComponent("VolumeLevel"));nht.registerComponent("VolumeLevel",Uft),yt(),C(),Mt(),yt(),C(),Mt();var Qft=function(t){function n(){return t.apply(this,arguments)}bt(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this);return n.className=this.buildCSSClass(),n},i.buildCSSClass=function(){return"theo-menu-container "+t.prototype.buildCSSClass.call(this)},n}(nht.getComponent("Component"));Qft.prototype.h=$u({},Qft.prototype.h,{children:[]}),nht.registerComponent("controlBarMenuContainer",Qft);var Yft=nht.getComponent("Player"),Fft=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).handleKeyPress=function(t){9===t.which&&e.addClass("theo-probably-keyboard-focus")},e.handleClick=function(t){0===t.x&&0===t.y||e.removeClass("theo-probably-keyboard-focus")},u.body.addEventListener("keydown",e.handleKeyPress),u.body.addEventListener("click",e.handleClick),e}return bt(n,t),n.prototype.dispose=function(){var n=this.el(),i=this.contentEl(),r=n.parentNode,e=n.nextSibling;t.prototype.dispose.call(this),cu(i),this.Ci&&r&&(e?r.insertBefore(n,e):r.appendChild(n)),u.body.removeEventListener("keydown",this.handleKeyPress),u.body.removeEventListener("click",this.handleClick)},n}(Yft);Fft.prototype.h=$u({},Yft.prototype.h,{children:["bigPlayButton","AdControlPanel","TopControlBar","mediaLoader","upNextContainer","posterImage","chromecastOverlay","upcomingAdNotificationText","controlBarMenuContainer","controlBar","textTrackDisplay","loadingSpinner","errorDisplay","textTrackSettings","xrCompass"]}),nht.registerComponent("Player",Fft),yt(),C(),yt(),C();var Gft=nht.getComponent("Player"),Vft=Gft.prototype.es;Gft.prototype.es=function(t){if(!(this.H&&this.H.$s&&this.H.$s()))return Vft.call(this,t)};var Wft=Gft.prototype.createEl;function Xft(t,n,i,r){var u=$u({controls:!0,playbackRates:[.25,.5,1,1.25,1.5,2]},i);u.controlBar=$u({progressControl:{keepTooltipsInside:!0}},u.controlBar);var s=u.techOrder||(u.techOrder=[]);-1===s.indexOf("THEOplayer")&&s.unshift("THEOplayer"),(u.theoplayer||(u.theoplayer={})).player=t,i&&Qn(i.language)&&(u.languages=$u({},u.languages,Zt({},aQ,i.language)),u.language=aQ),n.setAttribute("data-vjs-player","");var o=n.getAttribute("style"),a=nht(t.element,u,r);return a.ready((function(){vht(a),function(t,n){if(n){if(n.ads){var i=function(n){var i="adbreakbegin"===n.type,r=n.adBreak.integration===U1.so;ght(t,i,r)};n.ads.addEventListener("adbreakbegin",i),n.ads.addEventListener("adbreakend",i)}if(n.verizonMedia){var r=function(n){var i="adbreakbegin"===n.type;ght(t,i,!1)};n.verizonMedia.ads.adBreaks.addEventListener("addadbreak",(function(t){t.adBreak.addEventListener("adbreakbegin",r),t.adBreak.addEventListener("adbreakend",r)}))}n.addEventListener("sourcechange",(function(){ght(t,!1,!1)}))}}(a,t),function(t){t.on("mouseleave",wht)}(a)})),n.removeAttribute("data-vjs-player"),o?n.setAttribute("style",o):n.removeAttribute("style"),an.Ys.Qs&&(gu(n,"theo-mobile"),function(t){var n=e.outerHeight,i=e.outerWidth,r=n>i;r?(wu(t,"theo-mobile-landscape"),gu(t,"theo-mobile-portrait")):(wu(t,"theo-mobile-portrait"),gu(t,"theo-mobile-landscape"))}(n)),function(t){t.on("seeking",(function(){du(t.el(),"vjs-ended")&&t.currentTime()!==t.duration()&&t.play()}))}(a),a}Gft.prototype.createEl=function(){var t=Wft.call(this),n=nht.createEl("div");for(n.className="theo-player-wrapper";t.firstChild;)n.appendChild(t.firstChild);return t.appendChild(n),this.S=n,t},yt(),C(),yt(),C(),Mt(),yt(),C(),pt(),Mt(),yt(),C(),Mt();var Zft=nht.getComponent("Button");var Hft="THEOPiPCloseButton",Kft=function(t){function n(n,i){var r;if((r=t.call(this,n,i)||this).controlText("Close Picture-in-Picture"),!function(t){return!!t&&Boolean(t.no)}(i))throw new v("Invalid Picture-in-picture options.");return r.no=i.no,r}bt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"theo-close-button theo-pip-close"},i.handleClick=function(){this.no.eo()},n}(Zft);nht.registerComponent(Hft,Kft);var qft=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Uo=!1,e.ho=!1,e.xo=!1,e._o=!1,e.bo=!1,e.No=!1,e.To=!1,e.uo=function(){e.Uo=!0,e.Eo&&!e.ro&&e.Io&&e.zo&&e.Io.Lo<=e.zo&&e.mo(!1)},e.do=function(){e.co||(e.Uo=!1,e.So(!1))},e.te=function(){if(e.Mo){var t=e.t.fo;yz(e.Mo,t.localize("Video playing in Picture-in-Picture mode"))}},e.Do=function(t){!e._o&&e.Eo&&(A(t)||(e.zo&&t<=e.zo||e.To?e.ho||e.xo||e.mo(!1):e.ho?e.So(!1):e.xo=!1))},e.zo=i.visibility,e.po=i.position,e.co=i.retainPresentationModeOnSourceChange,e.Eo=void 0!==e.zo,e.t=n,e.yo=n.Ho,e.eo=r,e.ao(),e}bt(n,t);var i=n.prototype;return i.ao=function(){this.t.yn(Al.jh,this.uo),this.co||this.t.yn(Al.lo,this.do),this.t.fo.on("languagechange",this.te)},i.vo=function(){var t;return"theo-pip-"+(null!=(t=this.po)?t:"bottom-right")},i.mo=function(t){var n=this.yo;n&&!this.oo&&(this.bo||this.ko(),this.wo(),gu(n,"theo-pip"),gu(n,this.vo()),this.ho=!0,this._o=t,this.xo=!1,this.Co(new gI(wI.PICTURE_IN_PICTURE)))},i.So=function(t){var n=this.yo;n&&(this.jo(),wu(n,"theo-pip"),wu(n,this.vo()),this.ho=!1,this.xo=t,this.To=this._o,this._o=!1,this.Co(new gI(wI.INLINE)))},i.ko=function(){if(!this.bo){var t=this.t.fo;t.addChild(Hft,{no:this});var n=u.createElement("div");n.className="theo-pip-overlay",this.Mo=u.createElement("div"),this.Mo.className="theo-pip-overlay-text",yz(this.Mo,t.localize("Video playing in Picture-in-Picture mode")),n.appendChild(this.Mo),fu(t.el(),n),this.Ao=n,this.bo=!0}},i.Po=function(){this.Eo&&!this.No&&this.t.Bo&&(this.Io=this.t.Bo.Fo(.1,this.Do),this.No=!0)},i.$o=function(){this.Io&&this.t.Bo&&(this.t.Bo.Ro(this.Io),this.No=!1)},i.wo=function(){var t=this.t.fo.contentEl(),n=t.getBoundingClientRect(),i=u.documentElement.clientWidth,r=u.documentElement.clientHeight;t.style.top=n.top+"px",t.style.bottom=r-n.bottom+"px",t.style.right=i-n.right+"px",t.style.left=n.left+"px",t.style.width=n.width+"px",t.style.height=n.height+"px",t.style.position="fixed"},i.jo=function(){var t=this.t.fo.contentEl();t.style.top="",t.style.bottom="",t.style.right="",t.style.left="",t.style.width="",t.style.height="",t.style.position=""},i.Oo=function(){wu(this.yo,"theo-pip"),this.ro&&this.po&&wu(this.yo,"theo-pip-"+this.po),this.Ao&&(cu(this.Ao),this.Ao=void 0)},i.gn=function(){this.Oo(),this.$o(),this.Vo(),this.t.fn(Al.jh,this.uo),this.t.fn(Al.lo,this.do),this.t.fo.off("languagechange",this.te),this.t=void 0},At(n,[{key:"ro",get:function(){return this.ho}},{key:"oo",get:function(){return this.t.cs()}}]),n}($o),Jft=function(t){function n(n,i,r){var e;return(e=t.call(this,i)||this).Ko=function(){return e.Yr()},e.eo=function(){return e.Zo(wI.INLINE)},e.Yo=function(){e.qo()!==wI.FULLSCREEN&&e.Wo.Po(),e.Qo.fn(Al.jh,e.Yo)},e.Qo=n,e.Wo=new qft(n,r.pip,e.eo),e.Wo.yn("presentationmodechange",e.Ko),e.Qo.yn(Al.jh,e.Yo),e.Yr(),e}bt(n,t);var i=n.prototype;return i.qo=function(){var n=t.prototype.qo.call(this);return n===wI.INLINE&&this.Wo&&this.Wo.ro?wI.PICTURE_IN_PICTURE:n},i.Go=function(n){return n===wI.PICTURE_IN_PICTURE||t.prototype.Go.call(this,n)},i.Xo=function(n,i){n===wI.FULLSCREEN&&this.Wo.$o(),t.prototype.Xo.call(this,n,i),n!==wI.FULLSCREEN&&this.Wo.Po()},i.Jo=function(n,i){n!==i&&(n===wI.FULLSCREEN&&this.Wo.So(!1),n===wI.INLINE&&i===wI.PICTURE_IN_PICTURE&&this.Wo.So(!0),t.prototype.Jo.call(this,n,i),n===wI.PICTURE_IN_PICTURE&&(i===wI.INLINE?this.Wo.mo(!0):this.Wo.mo(!1)))},i.gn=function(){t.prototype.gn.call(this),this.Wo.gn(),this.Qo.fn(Al.jh,this.Yo),this.Qo=void 0},n}(pI);yt(),C(),pt(),Mt();var $ft,tvt=function(t){function n(n,i){var r;return(r=t.call(this)||this).Os=!1,r.sa=!1,r.oa=!1,r.na=function(){if(!r.oa){var t=r.Os,n=r.cs;t!==n&&(r.Os=n,r.Co(new NS))}},r.aa=function(){r.sa=r.ea.cs,r.na()},r.ua=function(){r.oa||(r.fo.isFullWindow&&r.fo.supportsFullScreen()||r.sa&&!r.fo.supportsFullScreen())&&(r.oa=!0,r.fo.exitFullscreen(),r.fo.requestFullscreen(),r.oa=!1,r.na())},r.fo=n,r.ea=i,r.fo.on("fullscreenchange",r.na),r.ea.yn(ZD.ra,r.aa),r.ea.yn(ZD.ca,r.ua),r.ea.yn(ZD.ha,r.Ds),r.na(),r}bt(n,t);var i=n.prototype;return i.mo=function(){this.fo.requestFullscreen()},i.So=function(){this.fo.exitFullscreen(),this.ea.So()},i.gn=function(){this.Vo(),this.fo.off("fullscreenchange",this.na),this.ea.fn(ZD.ra,this.na),this.ea.fn(ZD.ha,this.Ds),this.fo.isFullWindow&&this.fo.exitFullscreen()},At(n,[{key:"ta",get:function(){return ES.ia(this.fo.el())||this.fo.supportsFullScreen()}},{key:"cs",get:function(){return this.fo.isFullscreen()||this.sa}}]),n}($o);function nvt(t){return function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).Ho=n,e.la=new pR(n),e.pa=t.prototype.fa.call(Wt(e)),g.defineProperty(e.pa,"constructor",{value:oB}),e.fo=Xft(e.pa,e.Ho,r.ui),e.ma=new tvt(e.fo,e.ya),e.da=new Jft(Wt(e),e.ma,r),e.da.yn("presentationmodechange",e.Ds),e}bt(n,t);var i=n.prototype;return i.cs=function(){return"fullscreen"===this.da.qo()},i.fa=function(){return function(t,n){var i=g.create(t),r=n.fo;return km(i,{get controls(){return r.controls()},set controls(t){r.controls(Em(t))},get presentation(){return n.da.va},get presentationMode(){return n.da.qo()},set presentationMode(t){var i=kI(t);i&&n.da.Zo(i)},get ui(){return r},get visibility(){return n.Bo.va}})}(this.pa,this)},i.gn=function(){t.prototype.gn.call(this),this.da.gn(),this.ma.gn(),this.fo.dispose(),this.la.gn()},i.ga=function(n){this.fo.src(""),t.prototype.ga.call(this,n)},At(n,[{key:"Bo",get:function(){return this.la}}]),n}(t)}function ivt(t){return(t=t||{}).position=function(t){switch(t){case"top-left":case"top-right":case"bottom-left":case"bottom-right":return t;default:return}}(t.position),t.visibility=function(t){if(Rn(t)&&!A(t))return Pi(t,0,1)}(t.visibility),t.retainPresentationModeOnSourceChange=Em(t.retainPresentationModeOnSourceChange),t}function rvt(){return $ft||($ft=function(t){for(var n=t,i=0;i<$rt.length;i++)n=(0,$rt[i])(n);return n}($ft=nvt(sB()))),$ft}function evt(t,n){var i=function(t){var n=ED(t);return n.ui=n.ui||{},void 0!==(null==t?void 0:t.width)&&void 0===n.ui.width&&(n.ui.width=t.width),void 0!==(null==t?void 0:t.height)&&void 0===n.ui.height&&(n.ui.height=t.height),void 0!==(null==t?void 0:t.fluid)&&void 0===n.ui.fluid&&(n.ui.fluid=t.fluid),n.pip=ivt(n.pip),n}(n),r=u.createElement("div");_u(r),t.appendChild(r);var e=new(rvt())(t,r,i);e.ba=e;var s=e.va;return e.ka(),e.wa(NR),g.defineProperty(s,"constructor",{value:evt}),s=_m(s),FT(e),function(t){for(var n=0;n<net.length;n++)(0,net[n])(t)}(e),s}yt(),C(),yt(),C(),yt(),C(),yt(),C(),pt(),Mt(),yt(),C(),Xt(),pt(),Mt();var uvt="theo-cast-",svt=function(t){function n(n,i){var r,e;return(r=t.call(this,n,i)||this).yo=n.el(),r.ja=BI.UNAVAILABLE,r.controlText("Unavailable"),r.Ie=new jht(Wt(r),r.controlText()),null==(e=r._a)||e.addEventListener("statechange",(function(t){var n=t;r.Ta(n.state)})),an.Ys.Je&&(r.Aa=new kht(r.el())),r.Ta(r._a?r._a.state:BI.UNAVAILABLE),r.on(n,"languagechange",r.te),r}bt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return uvt+"button theo-"+this.Sa+"-button theo-controlbar-button "+t.prototype.buildCSSClass.call(this)},i.createEl=function(n,i,r){var e=t.prototype.createEl.call(this),s=u.createElement("div");s.className="theo-button-icon-blur";var o=u.createElement("div");return o.className=uvt+"svg-container",o.innerHTML=this.Ca,e.appendChild(s),e.appendChild(o),e},i.handleClick=function(n){var i;if(t.prototype.handleClick.call(this,n),this.ja===BI.AVAILABLE)null==(i=this._a)||i.start();else if(this.ja===BI.CONNECTED||this.ja===BI.CONNECTING){var r;null==(r=this._a)||r.stop()}},i.Ta=function(t){wu(this.yo,"theo-"+this.Sa+"-"+this.ja),this.ja=t,gu(this.yo,"theo-"+this.Sa+"-"+this.ja),this.te()},i.te=function(){this.Ma(this.ja),this.Ie.Be=this.controlText()},i.Ma=function(t){t===BI.CONNECTED?this.controlText("Stop Casting"):t===BI.AVAILABLE?this.controlText("Start Casting"):t===BI.CONNECTING?this.controlText("Connecting"):this.controlText("Unavailable")},At(n,[{key:"_a",get:function(){throw new v("xa")}},{key:"Ca",get:function(){return this.h.Ca}},{key:"Sa",get:function(){return this.h.Sa}}]),n}(hht(nht.getComponent("Button"))),ovt=0;function avt(){var t='\n    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" fill="currentColor">\n        <defs>\n            <clipPath id="theo-chromecast-rings-mask-'+ovt+'">\n                <path d="M0-36h44V0H0z"/>\n            </clipPath>\n        </defs>\n        <path class="theo-chromecast-outer" d="M2 10a4 4 0 0 1 4-4h36a4 4 0 0 1 4 4v28a4 4 0 0 1-4 4H28v-4h14V10H6v6H2z"/>\n        <path class="theo-chromecast-inner" d="M10 14h28v20H26.74A26 26 0 0 0 10 17.26z"/>\n        <g class="theo-chromecast-rings" fill="none" stroke="currentColor" stroke-width="4" transform="translate(2 42)" clip-path="url(#theo-chromecast-rings-mask-'+ovt+')">\n            <circle stroke="none" cx="0" cy="0" r="30" />\n            <circle class="theo-chromecast-ring theo-chromecast-ring1" stroke-width="6" cx="0" cy="0" r="3" />\n            <circle class="theo-chromecast-ring theo-chromecast-ring2" cx="0" cy="0" r="12" />\n            <circle class="theo-chromecast-ring theo-chromecast-ring3" cx="0" cy="0" r="20"/>\n            <path class="theo-chromecast-ring theo-chromecast-ring4" stroke-linecap="round" d="M0-20A20 20 0 0 1 20 0" />\n        </g>\n    </svg>';return ovt++,t}var cvt=function(t){function n(n,i){return t.call(this,n,$u({},i,{Sa:"chromecast",Ca:avt()}))}return bt(n,t),At(n,[{key:"_a",get:function(){var t;return null==(t=this.ws.cast)?void 0:t.chromecast}}]),n}(svt);nht.registerComponent("chromecastButton",cvt),yt(),C(),Mt();var hvt="theo-chromecast-",fvt=function(t){function n(n,i){var r,e,u;return(r=t.call(this,n,i)||this).update=function(){r.Pa?(r.mr&&yz(r.mr,r.Pa.receiverName||""),r.Pa.state===BI.CONNECTED?r.show():r.hide()):r.hide()},r.Pa=null==(e=r.ws.cast)?void 0:e.chromecast,null==(u=r.Pa)||u.addEventListener("statechange",r.update),r.ws.addEventListener("play",r.update),r.update(),r}bt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return hvt+"overlay "+t.prototype.buildCSSClass.call(this)},i.createEl=function(){var i=t.prototype.createEl.call(this);gu(i,hvt+"overlay");var r=nht.createEl("div",{className:hvt+"status-icon",innerHTML:n.ICON_SVG}),e=nht.createEl("div",{className:hvt+"status-info"});yz(e,"Playing on");var u=nht.createEl("div",{className:hvt+"status-title"}),s=nht.createEl("div",{className:hvt+"status"});return this.mr=u,s.appendChild(r),s.appendChild(e),s.appendChild(u),i.appendChild(s),i},i.dispose=function(){var n;null==(n=this.Pa)||n.removeEventListener("statechange",this.update),this.Pa=void 0,this.ws.removeEventListener("play",this.update),t.prototype.dispose.call(this)},n}(hht(nht.getComponent("Component")));fvt.ICON_SVG='\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36" fill="currentColor">\n    <path d="M7 24v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm18-7H11v1.63c3.96 1.28 7.09 4.41 8.37 8.37H25V13zM7 16v2a9 9 0 0 1 9 9h2c0-6.08-4.93-11-11-11zm20-7H9c-1.1 0-2 .9-2 2v3h2v-3h18v14h-7v2h7c1.1 0 2-.9 2-2V11c0-1.1-.9-2-2-2z"/>\n</svg>',nht.registerComponent("chromecastOverlay",fvt),yt(),C(),yt(),C(),pt(),Mt();var vvt=function(t){function n(n,i){var r,e,u;return(r=t.call(this,n,$u({},i,{Sa:"airplay",Ca:'\n<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">\n    <path class="theo-cast-inner" d="M5 7h14v8H5z"/>\n    <path d="M6 22h12l-6-6zM21 3H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h4v-2H3V5h18v12h-4v2h4c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"/>\n</svg>'}))||this).Na=function(){r.enable()},r.Ea=function(){r.disable()},null==(e=r.ws.ads)||e.addEventListener("adbreakbegin",r.Ea),null==(u=r.ws.ads)||u.addEventListener("adbreakend",r.Na),r.ws.addEventListener("currentsourcechange",r.Na),r}return bt(n,t),n.prototype.dispose=function(){var n,i;null==(n=this.ws.ads)||n.removeEventListener("adbreakbegin",this.Ea),null==(i=this.ws.ads)||i.removeEventListener("adbreakend",this.Na),this.ws.removeEventListener("currentsourcechange",this.Na),t.prototype.dispose.call(this)},At(n,[{key:"_a",get:function(){var t;return null==(t=this.ws.cast)?void 0:t.airplay}}]),n}(svt);nht.registerComponent("airplayButton",vvt),yt(),C(),yt(),C(),yt(),C(),Xt(),Mt();var lvt=function(t){function n(n,i){var r,e;return(r=t.call(this,n,i)||this).Ia=function(){return r._n()},r.controlText("Watch in VR"),r.Ba=new jht(Wt(r),r.controlText()),null==(e=r.ws.vr)||e.addEventListener("statechange",r.Ia),r._n(),an.Ys.Je&&new kht(r.el()),r.on(n,"languagechange",r.te),r}bt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"theo-vr-button theo-controlbar-button "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(){this.ws.vr.stereo=!this.ws.vr.stereo,this.te()},i._n=function(){this.ws.vr&&this.ws.vr.state!==X8.Rs?(this.show(),this.ws.vr.canPresentVR?(this.enable(),this.te()):(this.disable(),this.controlText("No VR capable device found"),this.Ba.Be=this.controlText())):this.hide()},i.te=function(){var t;this.controlText((null==(t=this.ws.vr)?void 0:t.stereo)?"Stop watching in VR":"Watch in VR"),this.Ba.Be=this.controlText()},i.dispose=function(){var n;null==(n=this.ws.vr)||n.removeEventListener("statechange",this.Ia),t.prototype.dispose.call(this)},n}(hht(nht.getComponent("Button")));nht.registerComponent("vrButton",lvt),yt(),C(),Mt();var dvt=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).Ia=function(){return e._n()},e.$a=function(){return e.Da()},e.ws=r,e.ws.vr.addEventListener("statechange",e.Ia),e.ws.vr.addEventListener("directionchange",e.$a),e._n(),e.Da(),e}bt(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()}),i=nht.createEl("div",{className:"theo-360-fov"});return n.appendChild(i),this.Fa=i,n},i.buildCSSClass=function(){return"theo-360-compass "+t.prototype.buildCSSClass.call(this)},i._n=function(){this.ws.vr.state===X8.Rs?this.hide():this.show()},i.Da=function(){var t=-this.ws.vr.direction.yaw+40;this.Fa.style[_S("transform")]="scale(0.875) rotate("+t+"deg) skew("+"-10deg)"},i.dispose=function(){this.ws.vr.removeEventListener("statechange",this.Ia),this.ws.vr.removeEventListener("directionchange",this.$a),t.prototype.dispose.call(this)},n}(nht.getComponent("Component"));yt(),C(),Mt();var gvt=w.pow(2,31)-1,wvt=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).za=!1,e.Ha=!1,e.La="",e.qa=function(){return e.Ra()},e.ws=r,e.ws.vr.addEventListener("statechange",e.qa),e.Ra(),e}bt(n,t);var i=n.prototype;return i.Ra=function(){this.ws.vr.state===X8.Oa?this.Va():this.Ua()},i.Va=function(){if(!this.za){this.za=!0;var t=this.ws.element;this.La=t.style.zIndex||"",t.style.zIndex=""+gvt,this.Ha=this.player().isFullscreen(),this.player().requestFullscreen()}},i.Ua=function(){this.za&&(this.za=!1,this.ws.element.style.zIndex=this.La,this.Ha?this.player().requestFullscreen():this.player().exitFullscreen())},i.dispose=function(){this.Ua(),this.ws.vr.removeEventListener("statechange",this.qa),t.prototype.dispose.call(this)},n}(nht.getComponent("Component"));iet((function(t){var n=t.va;if(n.vr){var i=t.fo,r=new dvt(i,{},n);if(t.yn(Al.lo,(function(){var n;i.removeChild(r);var e=null==(n=t.Wa())?void 0:n.vr;void 0===e||e.nativeVR||i.addChild(r)})),xn.Ga){var e=new wvt(i,{},n);i.addChild(e)}}})),yt(),C(),yt(),C(),pt(),Mt(),yt(),C(),Mt();var yvt=function(t){function n(){return t.call(this,"relatedchange")}return bt(n,t),n}(ra),mvt=["relatedchange"],Avt=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Ya=[],n}return bt(n,t),n.prototype.gn=function(){this.Vo(),this.Ya=[]},At(n,[{key:"va",get:function(){return this.Xa||(this.Xa=function(t){var n,i={get sources(){return t.Ja},set sources(n){t.Ja=n},addEventListener:function(t,i){n.yn(t,i)},removeEventListener:function(t,i){n.fn(t,i)}};return n=new yI(mvt,!0,i),n.Qa(t),i}(this)),this.Xa}},{key:"Ja",get:function(){return this.Ya},set:function(t){this.Ya=function(t){return t.filter((function(t){return t&&(Fn(t.link)||Tm(t,["source"]))}))}(t),t.length>this.Ya.length&&console.warn("One or more of the configured related content sources are invalid. Check if they have a source or a link."),this.Co(new yvt)}}]),n}($o);PT((function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Ka=new Avt,r}bt(n,t);var i=n.prototype;return i.fa=function(){var n=this.Ka;return km(t.prototype.fa.call(this),{get related(){return n.va}})},i.gn=function(){this.Ka.gn(),t.prototype.gn.call(this)},n}(t)}),OT.Za),yt(),C(),Xt(),pt(),Mt(),Ct(),yt(),C(),Xt(),Mt();var pvt=function(t){function n(n,i,r){var e;return(e=t.call(this,n,r)||this).yo=n.el(),e.iu=i,e.player().topControlBar.addChild(Wt(e)),e.hide(),e.controlText(e.localize("Related content")),e.Ie=new jht(Wt(e),e.controlText()),e.on(n,"languagechange",e.te),e}bt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"vjs-icon-view-grid theo-related-button "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(){this.iu.tu?this.iu.be():this.iu.ge()},i.te=function(){this.Ie.Be=this.controlText()},i.dispose=function(){this.player().topControlBar.removeChild(this),t.prototype.dispose.call(this)},n}(nht.getComponent("Button"));yt(),C(),pt(),Mt(),yt(),C(),Mt();var _vt=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).su=i,r}bt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"theo-secondary-background theo-close-button"},i.handleClick=function(){this.su.hide()},n}(nht.getComponent("Button")),kvt=function(){var t=u.createElement("div");return t.className="theo-related-grid-tile",t.innerHTML='<a class="theo-related-grid-tile-content"><div class="theo-related-grid-tile-image"></div><span class="theo-related-grid-tile-title theo-primary-border theo-tertiary-background"></span><span class="theo-related-grid-tile-duration"></span></a>',t}();function bvt(t,n,i){var r=kvt.cloneNode(!0),e=r.querySelector(".theo-related-grid-tile-content");Tm(i,["source"])?(e.style.cursor="pointer",e.addEventListener("click",(function(){t.source=i.source,n.be()}))):Fn(i.link)&&e.setAttribute("href",i.link);var u=r.querySelector(".theo-related-grid-tile-image");u.style.backgroundImage='url("'+Xs(i.image)+'")',u.removeAttribute("id");var s=r.querySelector(".theo-related-grid-tile-title");i.title?(yz(s,i.title),s.removeAttribute("id")):cu(s);var o=r.querySelector(".theo-related-grid-tile-duration");return i.duration?(yz(o,i.duration),o.removeAttribute("id")):cu(o),r}var Mvt=[15,12,9,8,6,4,3,2,1];var Tvt=function(){function t(t,n,i,r,e){var s=this;this.cu=t,this.yu=n,this.lu=i,this.pu=r,this.nu=12,this.bu=function(t){s.du.style.width=t.width+"px"},this.vu=u.createElement("div"),this.hu=new _vt(this.yu,{hide:function(){s.lu.be()}}),this.du=this.fu(),this.gu=new Nvt(e),this.gu.yn(fS.pn,this.bu),this.mu=new o2(this.du,this.gu),this.uu(12)}var n=t.prototype;return n.ru=function(){this.hu.focus()},n.ou=function(t){this.au(),function(t){if(t.length)for(var n=0;n<Mvt.length;n++){var i=Mvt[n];if(t.length>=i){t.length=i;break}}}(t),this.uu(t.length);for(var n=0;n<t.length;n++){var i=t[n],r=bvt(this.cu.va,this.lu,i);this.du.appendChild(r)}},n.au=function(){this.du.innerHTML=""},n.fu=function(){var t=u.createElement("div");t.className="theo-overlay-panel";var n=u.createElement("div");return n.className="theo-related-grid",this.vu.className="theo-related",this.hu.controlText("Close Related Content"),this.pu.appendChild(this.vu),this.vu.appendChild(t),t.appendChild(this.hu.el()),t.appendChild(n),n},n.uu=function(t){wu(this.du,this.eu),this.nu=t,gu(this.du,this.eu)},n.gn=function(){cu(this.vu),this.mu.gn(),this.gu.gn(),this.hu.dispose(),this.cu=void 0},At(t,[{key:"eu",get:function(){return"theo-"+this.nu+"-item-grid"}}]),t}(),Nvt=function(t){function n(n){var i;return(i=t.call(this)||this).xu=n,i.Cu=function(t){var n=t.width;9*(t.width/16)>t.height&&(n=16*(t.height/9));i.wu=n,i.Co(new dS(i.ku,t.height))},i.xu.yn(fS.pn,i.Cu),i}return bt(n,t),n.prototype.gn=function(){this.Vo(),this.xu.fn(fS.pn,this.Cu)},At(n,[{key:"ku",get:function(){return this.wu||0}},{key:"_u",get:function(){return this.xu._u}}]),n}($o);yt(),C(),Mt();var Dvt=function(t){function n(){return t.call(this,"show")}return bt(n,t),n}(ra);yt(),C(),Mt();var Ivt=function(t){function n(){return t.call(this,"hide")}return bt(n,t),n}(ra),Evt="theo-related-available",Svt="theo-related-showing",Lvt=jt(mvt).concat(["show","hide"]),jvt=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).ju=!1,u.Au=!1,u.Nu=function(t){var n=u.Ja;u.Mu.ou(n),n.length?(u.Tu(Evt),u.Eu.show()):(u.Pu(Evt),u.Eu.hide()),u.Co(t)},u.Su=i,u.Su.yn("relatedchange",u.Nu),u.yu=r,u.Mu=new Tvt(n,u.yu,Wt(u),r.contentEl(),e),u.Eu=new pvt(r,Wt(u),{}),u}bt(n,t);var i=n.prototype;return i.ge=function(){var t=this.ju;this.ju=!0,this.Tu(Svt),this.Mu.ru(),this.yu.paused()?this.Au=!0:this.yu.pause(),t!==this.ju&&this.Co(new Dvt)},i.be=function(){var t=this.ju;this.ju=!1,this.Pu(Svt),this.Eu.focus(),this.Au||this.yu.play(),this.Au=!1,t!==this.ju&&this.Co(new Ivt)},i.Tu=function(t){this.yu.el().classList.add(t)},i.Pu=function(t){this.yu.el().classList.remove(t)},i.gn=function(){this.Vo(),this.Mu.gn()},At(n,[{key:"va",get:function(){return this.Xa||(this.Xa=function(t){var n,i={get sources(){return t.Ja},set sources(n){t.Ja=n},get showing(){return t.tu},show:function(){t.ge()},hide:function(){t.be()},addEventListener:function(t,i){n.yn(t,i)},removeEventListener:function(t,i){n.fn(t,i)}};return n=new yI(Lvt,!0,i),n.Qa(t),i}(this)),this.Xa}},{key:"Ja",get:function(){return this.Su.Ja},set:function(t){this.Su.Ja=t}},{key:"tu",get:function(){return this.ju}}]),n}($o);tet((function(t){return function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).Bu=new jvt(Wt(e),e.Ka,e.fo,e.Iu),e}bt(n,t);var i=n.prototype;return i.fa=function(){var n=this.Bu;return km(t.prototype.fa.call(this),{get related(){return n.va}})},i.gn=function(){this.Bu.gn(),t.prototype.gn.call(this)},n}(t)})),yt(),C(),yt(),C(),pt(),Mt(),yt(),C(),Xt(),Mt();var Cvt,xvt=function(t){function n(n,i,r){var e;return(e=t.call(this,n,r)||this).yo=n.el(),e.Fu=i,e.player().topControlBar.addChild(Wt(e)),e.hide(),e.controlText("Share Video"),e.Ie=new jht(Wt(e),e.controlText()),e.on(n,"languagechange",e.te),e}bt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"vjs-icon-share theo-social-button "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(){this.Fu.showing?this.Fu.hide():this.Fu.show()},i.te=function(){this.Ie.Be=this.controlText()},i.dispose=function(){this.player().topControlBar.removeChild(this),t.prototype.dispose.call(this)},n}(nht.getComponent("Button"));function Ovt(t,n,i){switch(n){case"iconurl":return function(t,n){var i,r=u.createElement("a");r.className="theo-social-iconurl",r.title=null!=(i=t.label)?i:"",r.target="Du",r.href=n;var e,s,o=u.createElement("img");return o.src=null!=(e=t.icon)?e:"",o.alt=null!=(s=t.label)?s:"",o.width=25,o.height=25,r.appendChild(o),r}(t,i);case"text":return function(t){var n=u.createElement("div");if(n.className="theo-social-text",t.label){var i=u.createElement("h5");i.className="theo-primary-background theo-social-label",yz(i,t.label),n.appendChild(i)}var r,e=u.createElement("p");return e.className="theo-social-content-container theo-tertiary-background",e.tabIndex=0,yz(e,null!=(r=t.text)?r:""),n.appendChild(e),n}(t);case"texturl":return function(t,n){var i=u.createElement("div");if(i.className="theo-social-texturl",t.label){var r=u.createElement("h5");r.className="theo-primary-background theo-social-label",yz(r,t.label),i.appendChild(r)}var e=u.createElement("div");e.className="theo-social-content-container theo-tertiary-background";var s=u.createElement("a");return s.target="Du",s.href=n,yz(s,n),e.appendChild(s),i.appendChild(e),i}(t,i)}}yt(),C(),pt(),function(t){t.$u="iconurl",t.Ru="text",t.Ou="texturl"}(Cvt||(Cvt={}));var zvt="<URL>";var Rvt=function(){function t(t,n,i,r){this.Qo=t,this.lu=n,this.pu=i,this.Wu=r;var e=u.createElement("div");e.className="theo-overlay-panel",this.hu=new _vt(this.Qo,this.lu.va),this.hu.controlText("Close Share"),this.Mu=u.createElement("div"),this.Mu.className="theo-social-container",this.vu=u.createElement("div"),this.vu.className="theo-social",this.Lu=u.createElement("div"),this.Lu.className="theo-social-icon-container",this.Hu=u.createElement("div"),this.Hu.className="theo-social-text-container",this.pu.appendChild(this.vu),this.vu.appendChild(e),this.Mu.appendChild(this.Lu),this.Mu.appendChild(this.Hu),e.appendChild(this.hu.el()),e.appendChild(this.Mu),this.qu=new o2(this.vu,this.Wu)}var n=t.prototype;return n.Vu=function(t){this.au();for(var n=0;n<t.length;n++){var i=t[n];this.Uu(i)}},n.ru=function(){this.hu.focus()},n.Uu=function(t){var n=function(t,n){return t.src?Rs(t.src,zvt)?t.src.replace(zvt,n):t.src:n}(t,this.lu.zu),i=function(t){if(t)return t.icon?"iconurl":t.text?"text":"texturl"}(t),r=Ovt(t,i,n);r&&("iconurl"===i?this.Lu.appendChild(r):this.Hu.appendChild(r))},n.au=function(){this.Lu.innerHTML="",this.Hu.innerHTML=""},n.gn=function(){cu(this.vu),this.qu.gn()},At(t,[{key:"we",get:function(){return this.vu}}]),t}(),Bvt="theo-social-available",Pvt="theo-social-showing",Uvt=function(){function t(t,n){this.ju=!1,this.Xu=[],this.Au=!1,this.Xa=function(t){return{get showing(){return t.tu},get items(){return t.Gu},set items(n){t.Gu=n},get url(){return t.zu},set url(n){t.zu=n},show:function(){t.ge()},hide:function(){t.be()}}}(this),this.Qu=t,this.Mu=new Rvt(this.Qu,this,t.contentEl(),n),this.Eu=new xvt(t,this.Xa,{})}var n=t.prototype;return n.ge=function(){this.ju=!0,this.Tu(Pvt),this.Mu.ru(),this.Qu.paused()?this.Au=!0:this.Qu.pause()},n.be=function(){this.ju=!1,this.Pu(Pvt),this.Eu.focus(),this.Au||this.Qu.play(),this.Au=!1},n.Tu=function(t){this.Qu.el().classList.add(t)},n.Pu=function(t){this.Qu.el().classList.remove(t)},n.gn=function(){this.Eu.dispose(),this.Mu.gn()},At(t,[{key:"va",get:function(){return this.Xa}},{key:"tu",get:function(){return this.ju}},{key:"Gu",get:function(){return this.Xu},set:function(t){this.Xu=t,this.Mu.Vu(t),t.length?(this.Tu(Bvt),this.Eu.show()):(this.Pu(Bvt),this.Eu.hide())}},{key:"zu",get:function(){return this.Ju||function(){for(var t=ru,n=t.location.href;t!==e.top;){t=t.parent;try{n=t.location.href}catch(t){}}return n}()},set:function(t){this.Ju=t}}]),t}();tet((function(t){return function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).Fu=new Uvt(e.fo,e.Iu),e}return bt(n,t),n.prototype.fa=function(){var n=this.Fu;return km(t.prototype.fa.call(this),{get social(){return n.va}})},n}(t)})),yt(),C(),yt(),C(),Mt();var Qvt=function(t){function n(){return t.apply(this,arguments)}bt(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this);return n.className=this.buildCSSClass(),n},i.buildCSSClass=function(){return"theo-upnext-container "+t.prototype.buildCSSClass.call(this)},n}(nht.getComponent("Component"));Qvt.prototype.h=$u({},Qvt.prototype.h,{children:[]}),nht.registerComponent("upNextContainer",Qvt),yt(),C(),pt(),Mt(),yt(),C(),pt(),Mt();var Yvt="theo-upnext-bar-",Fvt=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,r)||this).Yu=void 0,u.sc=void 0,u.ic=i,u.qu=new o2(u.el(),e),u.ju=!1,u.Zu=10,u.on(n,"languagechange",u.te),u}bt(n,t);var i=n.prototype;return i.ga=function(t){this.au(),this.tc(t)},i.tc=function(t){var n=this;if(t&&t.link&&t.image){var i=u.createElement("div");gu(i,Yvt+"content"),i.onclick=function(){n.ic.next()},i.onkeypress=function(t){13===t.which&&n.ic.next()};var r=u.createElement("div");if(r.style.backgroundImage='url("'+Xs(t.image)+'")',gu(r,Yvt+"image"),i.appendChild(r),t.duration){var e=u.createElement("span");gu(e,Yvt+"duration"),e.innerHTML=""+t.duration,r.appendChild(e)}var s=u.createElement("div");gu(s,Yvt+"text");var o=u.createElement("div");if(gu(o,Yvt+"upnext"),yz(o,this.localize("Up Next")),s.appendChild(o),t.title){var a=u.createElement("div");gu(a,Yvt+"title"),yz(a,t.title),s.appendChild(a)}i.appendChild(s),this.Yu=i,this.sc=o,this.el().appendChild(this.Yu)}},i.au=function(){this.el().innerHTML="",this.Yu=void 0,this.sc=void 0},i.te=function(){this.sc&&yz(this.sc,this.localize("Up Next"))},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},i.buildCSSClass=function(){return"theo-upnext-bar "+t.prototype.buildCSSClass.call(this)},i.dispose=function(){this.qu.gn(),t.prototype.dispose.call(this)},At(n,[{key:"tu",get:function(){return this.ju},set:function(t){this.ju=t,this.Yu&&(this.Yu.tabIndex=t?0:-1)}},{key:"Ku",get:function(){return this.Zu},set:function(t){this.Zu=t}}]),n}(nht.getComponent("Component"));yt(),C(),pt(),Mt();var Gvt="theo-upnext-panel-",Vvt=Oft,Wvt=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,r)||this).dc=0,u.ic=i,u.qu=new o2(u.el(),e),u.ju=!1,u.nc=10,u.hc=!0,u.on(n,"languagechange",u.te),u}bt(n,t);var i=n.prototype;return i.ga=function(t){this.au(),this.oc(t)},i.oc=function(t){var n=this;if(t&&t.link&&t.image){var i=u.createElement("div");i.className=Gvt+"content";var r=u.createElement("div");r.style.backgroundImage='url("'+Xs(t.image)+'")',r.className=Gvt+"image",i.appendChild(r);var e=u.createElement("div");e.className=Gvt+"text";var s=u.createElement("div");if(s.className=Gvt+"upnext",yz(s,this.localize("Up Next")),e.appendChild(s),t.title){var o=u.createElement("div");o.className=Gvt+"title",yz(o,t.title),e.appendChild(o)}i.appendChild(e),this.ac=u.createElement("div"),this.ac.className=Gvt+"autoplay",this.ac.innerHTML=zft;var a=this.ac.querySelector("svg");a.onclick=function(){n.ic.next()},a.tabIndex=0,a.onkeypress=function(t){13===t.which&&n.ic.next()},this.uc=s,this.cc=this.ac.querySelector("."+Vvt),i.appendChild(this.ac),this.el().appendChild(i)}},i.au=function(){this.el().innerHTML="",this.uc=void 0,this.cc=void 0},i.te=function(){this.uc&&yz(this.uc,this.localize("Up Next"))},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},i.buildCSSClass=function(){return"theo-upnext-panel "+t.prototype.buildCSSClass.call(this)},i.dispose=function(){this.qu.gn(),t.prototype.dispose.call(this)},At(n,[{key:"tu",get:function(){return this.ju},set:function(t){this.ju=t}},{key:"ec",get:function(){return this.nc},set:function(t){this.nc=t}},{key:"rc",get:function(){return this.hc},set:function(t){this.hc=t}},{key:"lc",get:function(){return this.dc},set:function(t){this.dc=t,this.cc.style.strokeDashoffset=""+w.round(1e5*t)/1e5}}]),n}(nht.getComponent("Component")),Xvt="theo-upnext-panel-showing",Zvt="theo-upnext-bar-showing",Hvt=2*w.PI*73,Kvt=function(){function t(n,i,r){var e=this;this.bc=void 0,this.Cc=10,this.Pc=1,this.jc=void 0,this.Sc=!0,this.Tc=function(){e.Pc!==e.Cc?(e.Mu.lc-=Hvt/e.Cc,e.Pc+=1):e.Mc()},this._c=function(){e.Mu.tu||e.xc()},this.wc=function(){var n=e.Qu.currentTime(),i=e.Qu.duration(),r=i?t.$c(e.kc.Ku,i):void 0;void 0!==r&&e.Bc(n,r),e.Mu.rc&&e.Dc(n,i)},this.Xa=function(t){return{get source(){return t.yc},set source(n){t.yc=n},get bar(){return t.fc},get panel(){return t.mc},next:function(){t.Mc()}}}(this),this.kc=new Fvt(n,this.Xa,{},i),this.Mu=new Wvt(n,this.Xa,{},i),this.vc=function(t,n){return{get showing(){return n.tu},get offset(){return n.Ku},set offset(t){n.Ku=t},show:function(){t.Ec()},hide:function(){t.Nc()}}}(this,this.kc),this.gc=function(t,n){return{get showing(){return n.tu},get countdownDuration(){return n.ec},set countdownDuration(t){n.ec=t},get showUpNextPanel(){return n.rc},set showUpNextPanel(t){n.rc=t},show:function(){t.xc()},hide:function(){t.Ac()}}}(this,this.Mu),this.Qu=n,this.Ic=r,n.getChild("upNextContainer").addChild(this.kc,{}),n.getChild("upNextContainer").addChild(this.Mu,{})}var n=t.prototype;return n.xc=function(){this.Mu.ec?this.Cc=Lm(this.Mu.ec):0===this.Mu.ec?this.Cc=0:this.Cc=10,0!==this.Cc?(isFinite(this.Cc)&&(this.Sc=!0),this.Mu.tu=!0,this.Tu(Xvt),this.Sc&&(this.Mu.lc=Hvt-Hvt/this.Cc,this.jc=h(this.Tc,1e3))):this.Mc()},n.Ac=function(){this.Mu.tu=!1,this.Pu(Xvt),this.Sc&&(f(this.jc),this.Pc=1,this.Mu.lc=Hvt)},n.Ec=function(){this.kc.tu=!0,this.Tu(Zvt)},n.Nc=function(){this.kc.tu=!1,this.Pu(Zvt)},n.Mc=function(){f(this.jc),this.yc&&(e.location.href=this.yc.link)},n.Tu=function(t){this.Qu.el().classList.add(t)},n.Pu=function(t){this.Qu.el().classList.remove(t)},n.Bc=function(t,n){var i=t>=n&&!(this.Ic&&this.Ic.Fc);this.kc.tu&&!i?this.Nc():!this.kc.tu&&i&&this.Ec()},n.Dc=function(t,n){this.Mu.tu&&t<n&&!this.Qu.ended()&&this.Ac()},n.gn=function(){this.jc&&f(this.jc),this.Qu.getChild("upNextContainer").removeChild(this.Mu),this.Qu.getChild("upNextContainer").removeChild(this.kc),this.Mu.dispose(),this.kc.dispose()},t.$c=function(t,n){var i=Lm(t);if(!A(i))return n-i;var r=(""+t).match(/^([1-9]?\d|100)%$/);return r?n*(1-y(r[1],10)/100):void 0},At(t,[{key:"va",get:function(){return this.Xa}},{key:"fc",get:function(){return this.vc}},{key:"mc",get:function(){return this.gc}},{key:"yc",get:function(){return this.bc},set:function(t){this.bc=t,this.Mu.ga(t),this.kc.ga(t),this.Qu.off("timeupdate",this.wc),this.Qu.off("ended",this._c),t&&(this.Qu.on("timeupdate",this.wc),this.Qu.on("ended",this._c))}}]),t}();tet((function(t){return function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).Rc=new Kvt(e.fo,e.Iu,e.Oc),e}bt(n,t);var i=n.prototype;return i.fa=function(){var n=this.Rc;return km(t.prototype.fa.call(this),{get upnext(){return n.va}})},i.gn=function(){this.Rc.gn(),t.prototype.gn.call(this)},n}(t)})),yt(),C(),yt(),C(),Mt();var qvt=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Lc=0,r.on(r.player(),"contextmenu",r.Vc),r.el().addEventListener("mousedown",Jvt,!0),r.on(u,"mousedown",r.zc),r.on("mouseout",r.Uc),r.on("mouseover",r.Hc),r.zc(),r}bt(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this,"ul",{className:"theo-context-menu"}),i=u.createElement("li"),r=u.createElement("a"),e=u.createElement("div");r.className="theo-context-menu-a",i.appendChild(r),e.className="theo-context-menu-logo",e.innerHTML='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t width="507.262px" height="399.16px" viewBox="0 0.1 507.262 399.16" enable-background="new 0 0.1 507.262 399.16"\n\t xml:space="preserve" class=\'theo-context-menu-logo-svg\'>\n\t<g transform="matrix(1.90897, 0, 0, 1.90897, 212.4, 144.6)">\n\t\t<path fill="#FFFFFF" d="M-38.416-53.802C-53.351-38.867-60.82-20.814-60.82,0.353c0,21.253,7.466,39.392,22.404,54.413\n\t\t\tc6.83,6.658,13.827,11.778,20.996,15.363c5.122,2.561,10.583,4.397,16.388,5.507v1.024h-78.481\n\t\t\tc-21.168,0-31.752-10.584-31.752-31.752v-88.724c0-21.252,10.584-31.879,31.752-31.879h79.377v0.896\n\t\t\tc-6.145,1.196-11.95,3.116-17.411,5.762C-24.632-65.538-31.586-60.46-38.416-53.802"/>\n\t</g>\n\t<g transform="matrix(0.535073, 0, 0, 0.535073, 242.35, 104.7)">\n\t\t<path fill="#FFFFFF" d="M188.354,104.104c-32.941,23.472-75.492,49.679-127.641,78.61c-50.275,28.254-94.358,50.44-132.254,66.572l-41.989,15.616\n\t\t\tc-2.645-11.348-5.122-28.17-7.426-50.44c-5.205-44.383-7.809-93.375-7.809-146.975c0-49.079,3.538-94.947,10.622-137.631\n\t\t\tl10.249-49.034l44.551,14.978C-24.762-88.838,17.06-67.03,62.124-38.777c47.705,29.871,88.638,58.294,122.773,85.266\n\t\t\tc17.061,13.571,29.351,24.028,36.862,31.367L188.354,104.104"/>\n\t</g>\n\t<g transform="matrix(1.91028, 0, 0, 1.91028, 327.15, 144.6)">\n\t\t<path fill="#FFFFFF" d="M94.286-43.816v88.723c0,21.168-10.583,31.751-31.751,31.751h-80.018v-1.025\n\t\t\tc14.683-2.816,27.527-9.77,38.537-20.867c14.936-15.024,22.405-33.16,22.405-54.413c0-21.168-7.467-39.22-22.405-54.156\n\t\t\tC9.871-64.985-3.188-71.939-18.123-74.671v-1.024h80.658C83.702-75.696,94.286-65.069,94.286-43.816"/>\n\t</g>\n</svg>\n',r.appendChild(e);var s=u.createElement("div");return s.className="theo-context-version",yz(s,"Powered by THEOplayer 8.3.0"),r.appendChild(s),r.href="https://www.theoplayer.com/player-referral",r.target="Du",n.appendChild(i),n},i.Vc=function(t){var n=t;n.preventDefault(),this.show(),this.el().style.left="0",this.el().style.top="0";var i=this.player().contentEl(),r=i.getClientRects(),e=r.length>0?r[0]:void 0,u=n.clientX-i.getBoundingClientRect().left,s=m(getComputedStyle(this.el()).fontSize);gz(this.el(),u,e,s);var o=n.clientY-i.getBoundingClientRect().top;!function(t,n,i,r){void 0===r&&(r=0),wz(t,n,"top","bottom",i,r)}(this.el(),o,e,s),this.Uc()},i.zc=function(){this.hide(),this.clearTimeout(this.Lc)},i.Uc=function(){this.Lc=this.setTimeout(this.zc,4e3)},i.Hc=function(){this.clearTimeout(this.Lc)},i.dispose=function(){this.zc(),this.off(this.player(),"contextmenu",this.Vc),this.el().removeEventListener("mousedown",Jvt,!0),this.off(u,"mousedown",this.zc),this.off("mouseout",this.Uc),this.off("mouseover",this.Hc),t.prototype.dispose.call(this)},n}(nht.getComponent("Component"));function Jvt(t){t.stopPropagation()}iet((function(t){var n=new qvt(t.fo,{});t.fo.addChild(n),t.fo.on("dispose",(function(){t.fo.removeChild(n),n.dispose()}))})),yt(),C(),yt(),C(),yt(),C(),Mt(),yt(),C();var $vt={Default:"","Monospaced Serif":IO.qc,"Proportional Serif":IO.Wc,"Monospaced Sans-Serif":IO.Gc,"Proportional Sans-Serif":IO.Xc},tlt={White:"#ffffff",Yellow:"#ffff00",Green:"#00ff00",Cyan:"#00ffff",Blue:"#0000ff",Magenta:"#ff00ff",Red:"#ff0000",Black:"#000000"},nlt=[50,75,100,150,200];function ilt(t){return{label:t+"%",value:t}}function rlt(t){return g.keys(t).map((function(n){return{label:n,value:t[n]}}))}nlt.map((function(t){return{label:t+"%",value:t/100+"em"}}));var elt=nlt.map((function(t){return{label:t+"%",value:t+"%"}})),ult=[25,50,75,100].map(ilt),slt=[0,25,50,75,100].map(ilt),olt=rlt(tlt),alt=rlt($vt),clt=rlt({None:"none","Drop Shadow":"dropshadow",Raised:"raised",Depressed:"depressed",Uniform:"uniform"}),hlt=100,flt="#000000",vlt="#FFFFFF",llt="#000000";yt(),C(),Mt();var dlt=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n.subMenu)||this).Yc=n,u.Fr=e,u.nl="",u.te=function(){var t=u.Fr.localize(u.Qc);yz(u.Yc.subMenu.menuHeader.el(),t),yz(u.Ir,t),u.sl(u.nl);for(var n=0,i=u.Sr;n<i.length;n++){var r=i[n];u.Nr(r)}},u.Qc=i,u.il=r.Ko,u.rl=u.Jc(),u.br=r.hl,u.Fr.on("languagechange",u.te),u}bt(n,t);var i=n.prototype;return i.Jc=function(){var t=this.Fr.localize(this.Qc);yz(this.Yc.subMenu.menuHeader.el(),t),this.Ir=u.createElement("span"),this.Ir.className="theo-settings-control-menu-item-title",yz(this.Ir,t);var n=u.createElement("span");return n.className="theo-primary-color theo-settings-control-menu-item-value",gu(this.Yc.el(),"theo-subtitle-options-menu-item"),this.Yc.el().appendChild(this.Ir),this.Yc.el().appendChild(n),n},i.Kc=function(t){var n=this.jr(t);n&&this.Zc(n)},i.tl=function(){return this.br},i.Ar=function(t){this.il(t.Tr)},i.Zc=function(t){for(var n=0,i=this.Cr.menuItems;n<i.length;n++){i[n].selected(!1)}t?(t.selected(!0),this.sl(t.Tr.label)):this.sl("Custom")},i.sl=function(t){this.nl=t,yz(this.rl,this.Fr.localize(t)),this.Yc.parentMenu.re()},i.Mr=function(n){var i=t.prototype.Mr.call(this,n);return gu(i.el(),"theo-subtitle-options-menu-item"),this.Nr(i),i},i.Nr=function(t){var n=this.Fr.localize(t.Tr.label);yz(t.el(),n);var i=this.Fr.localize("Set "+this.Qc+" to ")+n;t.el().setAttribute("aria-label",i)},i.Re=function(){this.Fr.off("languagechange",this.te),t.prototype.Re.call(this)},n}(aft);yt(),C();var glt=function(){function t(n){var i=this;this.al=n,this.cl=function(t){i.al.fontFamily=t.value},this.ll=function(t){i.al.fontSize=t.value},this.dl=function(n){i.fl=n.value,i.al.fontColor=t.ol(i.vl,i.fl,vlt,hlt)},this.pl=function(n){i.vl=n.value,i.al.fontColor=t.ol(i.vl,i.fl,vlt,hlt)},this.ml=function(n){i.gl=n.value,i.al.backgroundColor=t.ol(i.gl,i.yl,flt,hlt)},this.bl=function(n){i.yl=n.value,i.al.backgroundColor=t.ol(i.gl,i.yl,flt,hlt)},this.kl=function(n){i.wl=n.value,i.al.windowColor=t.ol(i.wl,i._l,llt,hlt)},this.xl=function(n){i._l=n.value,i.al.windowColor=t.ol(i.wl,i._l,llt,hlt)},this.Cl=function(t){i.al.edgeStyle=t.value}}return t.ol=function(t,n,i,r){if(void 0!==t||void 0!==n)return function(t,n){return function(t){return t?"rgba("+t.Q9+", "+t.F9+", "+t.Y9+", "+t.Ml+")":void 0}(BO(PO(t),n/100))}(void 0===t?i:t,void 0===n?r:n)},t}();yt(),C();var wlt=function(){function t(t,n){var i=this;this.al=t,this.Al=n,this.Pl=function(){var t=i.al.fontFamily;i.Sl(t,i.Al["Font family"]);var n=i.al.fontColor;i.Tl(n,i.Al["Font color"],i.Al["Font opacity"]);var r=i.al.fontSize;i.Sl(r,i.Al["Font size"]);var e=i.al.backgroundColor;i.Tl(e,i.Al["Background color"],i.Al["Background opacity"]);var u=i.al.windowColor;i.Tl(u,i.Al["Window color"],i.Al["Window opacity"]);var s=i.al.edgeStyle;i.Sl(s,i.Al["Character edge style"])},this.al.addEventListener("change",this.Pl),this.Pl()}var n=t.prototype;return n.Sl=function(t,n){var i=this.jl(t,n.tl());i&&n.Kc(i)},n.jl=function(t,n){return co(n,(function(n){return n.value===t}))},n.Tl=function(t,n,i){var r,e;if(void 0===t)r=this.jl(void 0,n.tl()),e=this.jl(void 0,i.tl());else if(t){var u=function(t){var n=QO(t);n||(n=QO(t.slice(0,t.length-1).replace("rgb","rgba")+",1)"));n||(n=BO(PO(t),1));if(!n){var i=t.charAt(0).toUpperCase()+t.toLowerCase().slice(1);n=BO(PO(tlt[i]),1)}return n}(t);if(u){var s=function(t){return"#"+UO(t.Q9)+UO(t.F9)+UO(t.Y9)}(u),o=100*u.Ml;r=this.jl(s,n.tl()),e=this.jl(o,i.tl())}}r&&n.Kc(r),e&&i.Kc(e)},t}();var ylt=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n.subMenu)||this).Lr=n,u.Dl=i,u.Fr=e,u.Al={},u.$l=function(){u.Dl.some((function(t){return Z_(t.kind)}))?u.Lr.show():u.Lr.hide()},u.te=function(){yz(u.Cr.menuHeader.el(),u.Fr.localize("Subtitle Options")),yz(u.Ir,u.Fr.localize("Subtitle")),yz(u.Il,u.Fr.localize("Options")),u.Lr.el().setAttribute("aria-label",u.Fr.localize("Open the subtitle options menu"))},u.Nl=new glt(r),u.Fl=u.El(),u.br=g.keys(u.Fl),u.Bl(),u.Rl=new wlt(r,u.Al),u.Fr.on("languagechange",u.te),u.Dl.addEventListener(["addtrack","removetrack"],u.$l),u.$l(),u}bt(n,t);var i=n.prototype;return i.El=function(){return{"Font family":{hl:mlt(alt),Ko:this.Nl.cl},"Font color":{hl:mlt(olt),Ko:this.Nl.pl},"Font opacity":{hl:mlt(ult),Ko:this.Nl.dl},"Font size":{hl:mlt(elt),Ko:this.Nl.ll},"Background color":{hl:mlt(olt),Ko:this.Nl.ml},"Background opacity":{hl:mlt(slt),Ko:this.Nl.bl},"Window color":{hl:mlt(olt),Ko:this.Nl.kl},"Window opacity":{hl:mlt(slt),Ko:this.Nl.xl},"Character edge style":{hl:mlt(clt),Ko:this.Nl.Cl}}},i.Bl=function(){this.Ir=u.createElement("span"),this.Ir.className="theo-settings-control-menu-item-title",this.Il=u.createElement("span"),this.Il.className="theo-primary-color theo-settings-control-menu-item-value",this.Lr.el().appendChild(this.Ir),this.Lr.el().appendChild(this.Il),this.te()},i.Mr=function(t){var n=this.Cr.addSubMenuItem();return n.Tr=t,this.Al[t]=new dlt(n,t,this.Fl[t],this.Fr),n},i.Nr=function(t){},i.Ar=function(t){},i.Re=function(){this.Fr.off("languagechange",this.te),this.Dl.removeEventListener(["addtrack","removetrack"],this.$l),t.prototype.Re.call(this)},n}(aft);function mlt(t){for(var n=[{label:"Default",value:void 0}],i=0;i<t.length;i++){var r=t[i];"Default"!==r.label&&n.push(r)}return n}iet((function(t){var n=t.fo.controlBar.getChild("SettingsButton").menu,i=n.addSubMenuItem({name:"TextTrackOptionsMenuItem"}),r=new ylt(i,t.nt.va,t.Ol.va,t.fo);t.fo.on("dispose",(function(){n.removeMenuItem(i),i.dispose(),r.Re(),n.dispose()}))})),yt(),C(),yt(),C(),Xt(),Mt();var Alt=nht.getComponent("Component"),plt=function(t){function n(n,i){var r;return r=t.call(this,n,i)||this,n.adControlBar=Wt(r),r}bt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"theo-ad-control-panel"},i.createEl=function(){var n=t.prototype.createEl.call(this);return n.className=this.buildCSSClass(),n},n}(Alt);plt.prototype.h=$u({},Alt.prototype.h,{children:[]}),nht.registerComponent("AdControlPanel",plt),yt(),C(),yt(),C(),Mt();var _lt=nht.getComponent("Component"),klt="theo-dai-countdown",blt=function(t){function n(n,i,r){var e;return(e=t.call(this,n,r)||this).Qo=n,e.Xa=i,e.te=function(){var t=e.Xa.ads;t.playing&&t.currentAdBreak&&t.currentAds.length&&yz(e.contentEl(),function(t,n,i){var r=t.ads,e="",u=r.length;if(u>1){var s=r.indexOf(n)+1;e=i("Ad")+" "+s+"/"+u+". "}var o=w.ceil(t.maxRemainingDuration);return e+=i("The content will resume in {1} seconds.").replace("{1}",""+o),e}(t.currentAdBreak,t.currentAds[0],(function(t){return e.Qo.localize(t)})))},e.yo=n.el(),e.Vl(i,i.ads),e.on(n,"languagechange",e.te),e}bt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return klt},i.createEl=function(t,n,i){var r=u.createElement("div");return r.className=klt,r},i.Vl=function(t,n){var i=this;n.addEventListener("adbreakbegin",(function(){return i.show()})),n.addEventListener("adbreakend",(function(){return i.hide()})),t.addEventListener("timeupdate",this.te)},n}(_lt);yt(),C(),Mt();var Mlt=function(t){function n(n,i){var r;return yz((r=t.call(this,n,i)||this).el(),n.localize("Learn more")),r.Xa=i.va,r.yo=n.el(),r.on(n,"languagechange",r.te),r}bt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return Mtt},i.createEl=function(t,n,i){return this.h.va.element.querySelector("."+Mtt)},i.emitTapEvents=function(){},i.te=function(){yz(this.el(),this.localize("Learn more"))},n}(nht.getComponent("ClickableComponent"));iet((function(t){if(t.va.ads&&t.Ul){var n=t.fo,i=new blt(n,t.va),r=new Mlt(n,{va:t.va});n.adControlBar.addChild(i),n.adControlBar.addChild(r)}})),yt(),C(),yt(),C(),Xt(),Mt(),nn();var Tlt=nht.getComponent("Component"),Nlt=["addtrack","removetrack","change"],Dlt=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).qr=void 0,r.nh=function(){var t=eft(r.ws.videoTracks);t!==r.qr&&(r.qr&&r.qr.removeEventListener("activequalitychanged",r.zl),r.qr=t,t&&t.addEventListener("activequalitychanged",r.zl),r.zl())},r.zl=function(){var t=r.qr&&r.qr.activeQuality;if(r.qualityLabel&&t){var n=t.label?t.label:t.height?t.height+"p":void 0;n&&(yz(r.qualityLabel,n),r.addClass("theo-quality-label-show"),r.hideActiveQualityLabel())}},r.hideActiveQualityLabel=function(){r.resetTimeout(),r.startFadeOutID=r.setTimeout(r.fadeoutLabel,3750),r.removeLabelClassesID=r.setTimeout(r.hideLabel,4e3)},r.resetTimeout=function(){r.startFadeOutID&&r.clearTimeout(r.startFadeOutID),r.removeLabelClassesID&&r.clearTimeout(r.removeLabelClassesID)},r.fadeoutLabel=function(){r.addClass("theo-quality-label-fadeout")},r.hideLabel=function(){r.removeClass("theo-quality-label-show"),r.removeClass("theo-quality-label-fadeout")},t.prototype.addClass.call(Wt(r),"theo-quality-label"),r.ws.videoTracks?(r.ws.videoTracks.addEventListener(Nlt,r.nh),r.nh(),r):tn(r)}bt(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this);return this.qualityLabel=nht.createEl("div",{className:"theo-quality-label-text"}),n.appendChild(this.qualityLabel),bu(this.qualityLabel),n},i.dispose=function(){this.qr&&(this.qr.removeEventListener("activequalitychanged",this.zl),this.qr=void 0),this.ws.videoTracks.removeEventListener(Nlt,this.nh),t.prototype.dispose.call(this)},n}(hht(Tlt));nht.registerComponent("activeQualityLabel",Dlt),yt(),C(),yt(),C(),Mt(),nn();var Ilt="theo-upcoming-ad-notification",Elt=["adbreakbegin","adbreakend","adadded","adloaded","adbegin","adend"],Slt=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).currentAdBreak=void 0,r.currentAdBreakValid=!1,r.Gl=NaN,r.handleTimeUpdate=function(){r.Hl()},r.handleAdEvent=function(){r.Ll(),r.Hl()},r.ws.ads?(r.hide(),r.ws.addEventListener("timeupdate",r.handleTimeUpdate),r.ws.ads.addEventListener(Elt,r.handleAdEvent),r):tn(r)}bt(n,t);var i=n.prototype;return i.createEl=function(){var t=nht.createEl("div",{className:Ilt});return this.notificationText=nht.createEl("div",{className:Ilt+"text"}),t.appendChild(this.notificationText),t},i.Ll=function(){if(this.ws.ads){for(var t,n=this.ws.ads.scheduledAdBreaks,i=1/0,r=0;r<n.length;r++){var e=n[r],u=e.timeOffset;-1!==u&&u<i&&(i=u,t=e)}this.currentAdBreak=t,this.currentAdBreakValid=void 0!==t&&void 0!==t.ads&&t.ads.some((function(t){return"linear"===t.type}))}},i.Hl=function(){if(this.ws.ads&&!this.ws.ads.playing&&this.currentAdBreak&&this.currentAdBreakValid&&0!==this.currentAdBreak.timeOffset){var t=this.ws.currentTime;if(this.currentAdBreak.timeOffset>t+10)this.ql();else{var n=w.ceil(this.currentAdBreak.timeOffset-t);n<0?this.ql():this.Wl(n)}}else this.ql()},i.Wl=function(t){this.Gl!==t&&(yz(this.notificationText,"Your video will be temporarily interrupted in 0:"+(t<10?"0"+t:t)),this.Gl=t,this.show())},i.ql=function(){this.Gl=NaN,this.hide()},i.dispose=function(){var n;this.ws.removeEventListener("timeupdate",this.handleTimeUpdate),null==(n=this.ws.ads)||n.removeEventListener(Elt,this.handleAdEvent),this.currentAdBreak=void 0,t.prototype.dispose.call(this)},n}(hht(xht));nht.registerComponent("upcomingAdNotificationText",Slt),yt(),C(),yt(),C(),pt(),Mt();var Llt=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Jl=function(){r.te(r.player().currentTime(),r.el())},r.on(n,"timeupdate",r.Jl),r}bt(n,t);var i=n.prototype;return i.createEl=function(){var t=u.createElement("div");return t.className="theoplayer-ad-overlay-component theo-ad-remaining-container",t},i.te=function(t,n){if(this.Xl&&this.Xl.endTime){var i=w.max(this.Xl.endTime-t,0);yz(n,"Content will resume in "+w.ceil(i)+"s"),this.show()}else this.hide()},At(n,[{key:"Xl",get:function(){return this.h.adBreakProvider()}}]),n}(nht.getComponent("Component"));nht.registerComponent("VerizonMediaAdBreakBar",Llt),yt(),C(),pt(),Mt();var jlt=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Jl=function(){r.te(r.el(),r.Ql)},r.on(n,"timeupdate",r.Jl),r}bt(n,t);var i=n.prototype;return i.createEl=function(){var t=u.createElement("div");return t.className="theoplayer-ad-overlay-component theoplayer-ad-skip theoplayer-ad-skip-countdown",this.Ql=u.createElement("span"),t.appendChild(this.Ql),this.te(t,this.Ql),t},i.handleClick=function(){this.h.skipCallback()},i.te=function(t,n){this.Yl<=np.Zl.Kl?(wu(t,"theoplayer-ad-skip-countdown"),gu(t,"theoplayer-ad-skip-button"),yz(n,"Skip ads")):yz(n,"Skip ads in "+w.ceil(this.Yl)+"s")},At(n,[{key:"Yl",get:function(){return this.h.adBreak.startTime+this.h.adBreak.skipOffset-this.player().currentTime()}}]),n}(nht.getComponent("ClickableComponent"));nht.registerComponent("VerizonMediaAdSkipButton",jlt),yt(),C(),Mt(),yt(),C(),Mt();var Clt=function(t){function n(n,i){return t.call(this,n,i)}bt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"theo-verizonmedia-marker-bar"},i.createEl=function(t,n,i){var r=u.createElement("div");return r.className=this.buildCSSClass(),r},n}(nht.getComponent("Component")),xlt=function(t){function n(){return t.apply(this,arguments)}return bt(n,t),n.prototype.buildCSSClass=function(){return t.prototype.buildCSSClass.call(this)+" theo-verizonmedia-marker-bar-adbreak"},n}(Clt);nht.registerComponent("VerizonMediaAdBreakMarkerBar",xlt),yt(),C(),Mt(),yt(),C(),pt(),Mt();var Olt=function(t){function n(n,i){return t.call(this,n,i)}bt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"theo-verizonmedia-marker"},i.createEl=function(t,n,i){var r=u.createElement("div");r.className=this.buildCSSClass();var e=this.seekable.start(0),s=this.seekable.end(this.seekable.length-1),o=w.max(this.startTime-e,0),a=void 0!==this.endTime?w.max(s-this.endTime,0):0,c=s-e;return r.style.left=o/c*100+"%",r.style.right=a/c*100+"%",r},At(n,[{key:"startTime",get:function(){return this.h.startTime}},{key:"endTime",get:function(){return this.h.endTime}},{key:"seekable",get:function(){return this.player().seekable()}}]),n}(nht.getComponent("Component")),zlt=function(t){function n(){return t.apply(this,arguments)}return bt(n,t),n.prototype.buildCSSClass=function(){return t.prototype.buildCSSClass.call(this)+" theo-verizonmedia-marker-adbreak"},n}(Olt);nht.registerComponent("VerizonMediaAdBreakMarker",zlt),yt(),C(),Mt();var Rlt=function(t){function n(){return t.apply(this,arguments)}return bt(n,t),n.prototype.buildCSSClass=function(){return t.prototype.buildCSSClass.call(this)+" theo-verizonmedia-marker-bar-asset"},n}(Clt);nht.registerComponent("VerizonMediaAssetMarkerBar",Rlt),yt(),C(),Mt();var Blt=function(t){function n(){return t.apply(this,arguments)}return bt(n,t),n.prototype.buildCSSClass=function(){return t.prototype.buildCSSClass.call(this)+" theo-verizonmedia-marker-asset"},n}(Olt);nht.registerComponent("VerizonMediaAssetMarker",Blt),yt(),C(),Mt();var Plt=function(t){function n(n,i){return t.call(this,n,i)}bt(n,t);var i=n.prototype;return i.buildCSSClass=function(){var t="theo-verizonmedia-content-notification-bar",n=t+"-ios";return t+(xn.Ga||xn.td?" "+n:"")},i.createEl=function(t,n,i){var r=u.createElement("div");return r.className=this.buildCSSClass(),r},n}(nht.getComponent("Component"));nht.registerComponent("VerizonMediaContentNotificationBar",Plt),yt(),C(),pt(),Mt();var Ult,Qlt=nht.getComponent("Component"),Ylt=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).ko(),r.on(n,"timeupdate",r.od),r.hide(),r}bt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"theo-verizonmedia-content-notification"},i.createEl=function(t,n,i){var r=u.createElement("div");return r.className=this.buildCSSClass(),r},i.ko=function(){var t=u.createElement("img");t.src=this.sd.posterUrl,t.className=this.buildCSSClass()+"-thumbnail",this.el().appendChild(t);var n=u.createElement("div");n.className=this.buildCSSClass()+"-description";var i=function(t){return"Next: "+t}(this.sd.description);yz(n,i),this.el().appendChild(n),this.ed=u.createElement("div"),this.ed.className=this.buildCSSClass()+"-countdown",yz(this.ed,this.nd),this.el().appendChild(this.ed)},i.od=function(){var t=this.rd;t>10||t<=0?this.hide():(yz(this.ed,this.nd),this.show())},At(n,[{key:"sd",get:function(){return this.h.asset}},{key:"nd",get:function(){var t=w.min(10,this.rd);return"Starting in "+w.ceil(t)+" seconds"}},{key:"rd",get:function(){return w.max(0,this.sd.startTime-this.player().currentTime())}}]),n}(Qlt);function Flt(t,n){return Boolean(t&&void 0===t.verizonMedia)||Boolean(t&&t.verizonMedia&&void 0===t.verizonMedia.ui)||Boolean(t&&t.verizonMedia&&t.verizonMedia.ui&&void 0===t.verizonMedia.ui[n])||Boolean(t&&t.verizonMedia&&t.verizonMedia.ui&&!0===t.verizonMedia.ui[n])}return nht.registerComponent("VerizonMediaContentNotification",Ylt),yt(),C(),pt(),Mt(),function(t){t.ad="VerizonMediaAdBreakBar",t.ud="VerizonMediaAdSkipButton",t.ld="VerizonMediaAdBreakMarkerBar",t.dd="VerizonMediaAdBreakMarker",t.fd="VerizonMediaAssetMarkerBar",t.vd="VerizonMediaAssetMarker",t.pd="VerizonMediaContentNotificationBar",t.md="VerizonMediaContentNotification"}(Ult||(Ult={})),tet((function(t){return function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).yd=!1,e.jd=function(){e.yd=!0,isFinite(e.Td())||e.va.addEventListener("timeupdate",e.bd),e.bd(),e.kd(),e._d()},e.xd=function(t){t.adBreak.addEventListener("adbreakbegin",e.Md),t.adBreak.addEventListener("adbreakend",e.Pd),e.bd()},e.Cd=function(t){t.adBreak.removeEventListener("adbreakbegin",e.Md),t.adBreak.removeEventListener("adbreakend",e.Pd),e.bd()},e.bd=function(){if(function(t){return Flt(t,"adBreakMarkers")}(e.wd)&&e.yd){var t=e.va.verizonMedia.ads.adBreaks.map((function(t){return{name:"VerizonMediaAdBreakMarker",startTime:t.startTime,endTime:t.endTime}}));e.gd.removeChild("VerizonMediaAdBreakMarkerBar"),e.gd.addChild("VerizonMediaAdBreakMarkerBar",{children:t})}},e.Md=function(){if(function(t){return Flt(t,"adNotification")}(e.wd)){var t=e.va.verizonMedia.ads.currentAdBreak;e.fo.addChild("VerizonMediaAdBreakBar",{adBreakProvider:e.Ed}),-1!==t.skipOffset&&e.fo.addChild("VerizonMediaAdSkipButton",{adBreak:t,skipCallback:e.va.verizonMedia.ads.skip})}},e.Ed=function(){return e.va.verizonMedia.ads.currentAdBreak},e.Pd=function(){e.fo.removeChild("VerizonMediaAdBreakBar"),e.fo.removeChild("VerizonMediaAdSkipButton")},e.Sd=function(){e.kd(),e._d()},e.va.verizonMedia.ads.adBreaks.addEventListener("addadbreak",e.xd),e.va.verizonMedia.ads.adBreaks.addEventListener("removeadbreak",e.Cd),e.va.verizonMedia.assets.addEventListener("addasset",e.Sd),e.va.verizonMedia.assets.addEventListener("removeasset",e.Sd),e.va.addEventListener("loadeddata",e.jd),e}bt(n,t);var i=n.prototype;return i.ga=function(n){this.yd=!1,this.va.removeEventListener("timeupdate",this.bd),this.fo.removeChild("VerizonMediaAdBreakBar"),this.fo.removeChild("VerizonMediaAdSkipButton"),this.gd.removeChild("VerizonMediaAdBreakMarkerBar"),this.gd.removeChild("VerizonMediaAssetMarkerBar"),this.fo.removeChild("VerizonMediaContentNotificationBar"),t.prototype.ga.call(this,n)},i.kd=function(){if(function(t){return Flt(t,"assetMarkers")}(this.wd)&&this.yd){var t=this.va.verizonMedia.assets.map((function(t){return{name:"VerizonMediaAssetMarker",startTime:t.startTime,endTime:t.endTime}}));this.gd.removeChild("VerizonMediaAssetMarkerBar"),this.gd.addChild("VerizonMediaAssetMarkerBar",{children:t})}},i._d=function(){if(function(t){return Flt(t,"contentNotification")}(this.wd)){var t=this.va.verizonMedia.assets.map((function(t){return{name:"VerizonMediaContentNotification",asset:t}}));this.fo.removeChild("VerizonMediaContentNotificationBar"),this.fo.addChild("VerizonMediaContentNotificationBar",{children:t})}},i.gn=function(){this.va.removeEventListener("timeupdate",this.bd),this.va.verizonMedia.ads.adBreaks.removeEventListener("addadbreak",this.xd),this.va.verizonMedia.ads.adBreaks.removeEventListener("removeadbreak",this.Cd),this.va.verizonMedia.assets.removeEventListener("addasset",this.Sd),this.va.verizonMedia.assets.removeEventListener("removeasset",this.Sd),this.va.removeEventListener("loadeddata",this.jd),t.prototype.gn.call(this)},At(n,[{key:"gd",get:function(){return this.fo.controlBar.progressControl.seekBar}}]),n}(t)})),r.exports}));
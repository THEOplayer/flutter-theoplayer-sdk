/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: long.js
 (Apache 2.0), promise-polyfill (MIT - Copyright (c) 2014
 Taylor Hakes & Forbes Lindesay), shaka-player (Apache 2.0 -
 Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
 (http://www.apache.org/licenses/LICENSE-2.0), MIT
 (https://opensource.org/licenses/MIT)


 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 9.3.0
 Created: 2025-05-07T15:45:15.480Z
 */
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(t):"function"==typeof define&&define.amd?define([],(function(){return n(t)})):t.THEOplayer=n(t)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof s?s:"undefined"!=typeof global?global:this,(function(t){"use strict";var n,i,r,e,u,s,o,a,c,h={exports:{}},f=(h.exports,t.window),v=t.document,d=t.location,l=t.navigator,g=t.setTimeout,w=t.clearTimeout,m=t.setInterval,y=t.clearInterval,p=t.Error,_=t.TypeError,b=(t.SyntaxError,t.Object),k=t.Math,A=t.parseInt,T=t.parseFloat,S=t.isNaN,E=t.Uint8Array,I=t.Worker,R=(t.WorkerGlobalScope,t.XMLHttpRequest),C=b.create,N=b.defineProperty,D=b.getOwnPropertyDescriptor,P=b.getOwnPropertyNames,x=b.getPrototypeOf,L=b.prototype.hasOwnProperty,M=function(t,n){return function(){return t&&(n=t(t=0)),n}},O=function(t,n){return function(){return n||t((n={exports:{}}).exports,n),n.exports}},B=function(t,n,i,r){if(n&&"object"==typeof n||"function"==typeof n)for(var e,u=P(n),s=0,o=u.length;s<o;s++)e=u[s],L.call(t,e)||e===i||N(t,e,{get:function(t){return n[t]}.bind(null,e),enumerable:!(r=D(n,e))||r.enumerable});return t},V=function(t,n,i){return i=null!=t?C(x(t)):{},B(!n&&t&&t.__esModule?i:N(i,"default",{value:t,enumerable:!0}),t)},F=M((function(){"function"==typeof Symbol&&Symbol.iterator?(n=Symbol,i=null!=(s=Symbol.for)?s:Symbol,r=Symbol.iterator,e=null!=(o=Symbol.dispose)?o:i("Symbol.dispose"),u=null!=(a=Symbol.asyncDispose)?a:i("Symbol.asyncDispose")):(c=0,n=function(t){return"ul"+t+"_"+ ++c},r=(i=function(t){return"ul"+t})("Symbol.iterator"),e=i("Symbol.dispose"),u=i("Symbol.asyncDispose"),n.for=i,n.iterator=r,n.dispose=e,n.asyncDispose=u)}));function U(t){return t&&void 0!==n&&t.constructor===n?"symbol":typeof t}var W,Z,X,G,H,z,Y,j,K,q,J,Q,tt,nt,it,rt,et,ut,st,ot,at=M((function(){F(),Tt()}));function ct(t){var n=this.constructor;return this.then((function(i){return n.resolve(t()).then((function(){return i}))}),(function(i){return n.resolve(t()).then((function(){return n.reject(i)}))}))}function ht(t){return new this((function(n,i){if(!t||void 0===t.length)return i(new _((void 0===t?"undefined":U(t))+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(t);if(0===r.length)return n([]);var e=r.length;function u(t,i){if(i&&("object"===(void 0===i?"undefined":U(i))||"function"==typeof i)){var s=i.then;if("function"==typeof s)return void s.call(i,(function(n){u(t,n)}),(function(i){r[t]={status:"rejected",reason:i},0==--e&&n(r)}))}r[t]={status:"fulfilled",value:i},0==--e&&n(r)}for(var s=0;s<r.length;s++)u(s,r[s])}))}function ft(t){return Boolean(t&&void 0!==t.length)}function vt(){}function dt(t){if(!(this instanceof dt))throw new _("Promises must be constructed via new");if("function"!=typeof t)throw new _("not a function");this.Fa=0,this.ttn=!1,this.UTt=void 0,this.ntn=[],pt(t,this)}function lt(t,n){for(;3===t.Fa;)t=t.UTt;0!==t.Fa?(t.ttn=!0,dt.itn((function(){var i=1===t.Fa?n.onFulfilled:n.onRejected;if(null!==i){var r;try{r=i(t.UTt)}catch(t){return void wt(n.promise,t)}gt(n.promise,r)}else(1===t.Fa?gt:wt)(n.promise,t.UTt)}))):t.ntn.push(n)}function gt(t,n){try{if(n===t)throw new _("A promise cannot be resolved with itself.");if(n&&("object"===(void 0===n?"undefined":U(n))||"function"==typeof n)){var i=n.then;if(n instanceof dt)return t.Fa=3,t.UTt=n,void mt(t);if("function"==typeof i)return void pt(function(t,n){return function(){t.apply(n,arguments)}}(i,n),t)}t.Fa=1,t.UTt=n,mt(t)}catch(n){wt(t,n)}}function wt(t,n){t.Fa=2,t.UTt=n,mt(t)}function mt(t){2===t.Fa&&0===t.ntn.length&&dt.itn((function(){t.ttn||dt.rtn(t.UTt)}));for(var n=0,i=t.ntn.length;n<i;n++)lt(t,t.ntn[n]);t.ntn=null}function yt(t,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=i}function pt(t,n){var i=!1;try{t((function(t){i||(i=!0,gt(n,t))}),(function(t){i||(i=!0,wt(n,t))}))}catch(t){if(i)return;i=!0,wt(n,t)}}function _t(t){return new Q(J,{reason:t,promise:Z.reject(t).catch((function(){})),cancelable:!0})}function bt(t){var n=new tt(J,{detail:{reason:t},cancelable:!0});return b.defineProperty(n,"reason",{value:t}),n}function kt(t){var n=v.createEvent("CustomEvent");return n.initCustomEvent(J,!1,!0,{reason:t}),n}var At=M((function(){var t,n,i,r;F(),Tt(),at(),W=g,dt.prototype.catch=function(t){return this.then(null,t)},dt.prototype.then=function(t,n){var i=new this.constructor(vt);return lt(this,new yt(t,n,i)),i},dt.prototype.finally=ct,dt.all=function(t){return new dt((function(n,i){if(!ft(t))return i(new _("Promise.all accepts an array"));var r=Array.prototype.slice.call(t);if(0===r.length)return n([]);var e=r.length;function u(t,s){try{if(s&&("object"===(void 0===s?"undefined":U(s))||"function"==typeof s)){var o=s.then;if("function"==typeof o)return void o.call(s,(function(n){u(t,n)}),i)}r[t]=s,0==--e&&n(r)}catch(t){i(t)}}for(var s=0;s<r.length;s++)u(s,r[s])}))},dt.allSettled=ht,dt.resolve=function(t){return t&&"object"===(void 0===t?"undefined":U(t))&&t.constructor===dt?t:new dt((function(n){n(t)}))},dt.reject=function(t){return new dt((function(n,i){i(t)}))},dt.race=function(t){return new dt((function(n,i){if(!ft(t))return i(new _("Promise.race accepts an array"));for(var r=0,e=t.length;r<e;r++)dt.resolve(t[r]).then(n,i)}))},dt.itn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){W(t,0)},dt.rtn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},Z=function(){var t=self.Promise;if(void 0!==t)try{if(-1!==t.toString().indexOf("[native code]"))return t}catch(t){}}(),X=l?l.userAgent:"",G=X.match(/Firefox\/([0-9]+)/i),H=null!=G,z=G?Number(G[1]):0,Y=X.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),j=null!=Y,K=Y?Number(Y[3]):0,q=function(){function t(t){this.Qb=0,this.Rd=0,this.kp=[],this.etn=t}return t.prototype.utn=function(t){var n=this.length();this.stn(n+1);var i=this.Rd+n&this.etn-1;this.kp[i]=t,this.Qb=n+1},t.prototype.push=function(t){var n=this.length()+1;if(this.etn<n)this.utn(t);else{var i=this.Rd+n-1,r=this.etn-1;this.kp[i&r]=t,this.Qb=n}},t.prototype.shift=function(){var t=this.Rd,n=this.kp[t];return this.kp[t]=void 0,this.Rd=t+1&this.etn-1,this.Qb--,n},t.prototype.length=function(){return this.Qb},t.prototype.stn=function(t){this.etn<t&&this.otn(this.etn<<1)},t.prototype.otn=function(t){var n=this.etn;this.etn=t;var i=this.Rd+this.Qb&n-1;!function(t,n,i,r){for(var e=0;e<r;++e)t[e+i]=t[e+n],t[e+n]=void 0}(this.kp,0,n,i)},t}(),J="unhandledrejection",Q=self.PromiseRejectionEvent,tt=self.CustomEvent,nt=function(t){return nt=function(){try{var t=Z.resolve(),n="error",i=new Q(J,{reason:n,promise:t});return J===i.type&&n===i.reason}catch(t){}return!1}()?_t:function(){try{var t="error",n=new tt(J,{detail:{reason:t}});return J===n.type&&t===n.detail.reason}catch(t){}return!1}()?bt:kt,nt(t)},rt=H&&z<60||j&&K<15,Z&&!rt?(et=Z,ut=function(){}):(et=dt,st=null!==(it=function(){var t=self.queueMicrotask;if("function"==typeof t)return function(n){return t(n)};var n=Z;if(n&&"function"==typeof n.resolve){var i=n.resolve();return function(t){return i.then(t)}}}())&&void 0!==it?it:dt.itn,t=st,n=new q(16),i=!1,ut=(ot={g6:function(e){n.push(e),i||(i=!0,t(r))},cY:r=function(){for(;n.length()>0;)n.shift()();i=!1}}).cY,dt.itn=ot.g6,dt.rtn=function(t){try{var n=nt(t);if(!self.dispatchEvent(n)||n.defaultPrevented)return}catch(t){}g((function(){throw new p("Unhandled promise rejection: ".concat(t))}),0)})})),Tt=M((function(){At()}));function St(t,n){return(St=b.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}var Et=M((function(){F(),Tt()}));function It(t,n){if("function"!=typeof n&&null!==n)throw new _("Super expression must either be null or a function");t.prototype=b.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&St(t,n)}var Rt=M((function(){F(),Tt(),Et()}));function Ct(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),b.defineProperty(t,r.key,r)}}function Nt(t,n,i){return n&&Ct(t.prototype,n),i&&Ct(t,i),t}var Dt=M((function(){F(),Tt()}));function Pt(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,r=new Array(n);i<n;i++)r[i]=t[i];return r}var xt=M((function(){F(),Tt()}));var Lt=M((function(){F(),Tt(),xt()}));var Mt=M((function(){F(),Tt()}));var Ot=M((function(){F(),Tt()}));function Bt(t,n){if(t){if("string"==typeof t)return Pt(t,n);var i=b.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Pt(t,n):void 0}}var Vt=M((function(){F(),Tt(),xt()}));function Ft(t){return function(t){if(Array.isArray(t))return Pt(t)}(t)||function(t){if(void 0!==n&&null!=t[r]||null!=t["@@iterator"])return Array.from(t)}(t)||Bt(t)||function(){throw new _("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ut=M((function(){F(),Tt(),Lt(),Mt(),Ot(),Vt()}));function Wt(t,n,i,r,e,u,s){try{var o=t[u](s),a=o.value}catch(t){return void i(t)}o.done?n(a):et.resolve(a).then(r,e)}function Zt(t){return function(){var n=this,i=arguments;return new et((function(r,e){var u=t.apply(n,i);function s(t){Wt(u,r,e,s,o,"next",t)}function o(t){Wt(u,r,e,s,o,"throw",t)}s(void 0)}))}}var Xt,Gt=M((function(){F(),Tt()}));function Ht(t,i){var e,u,s,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},a=b.create(("function"==typeof Iterator?Iterator:b).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof n&&(a[r]=function(){return this}),a;function c(n){return function(r){return function(n){if(e)throw new _("Generator is already executing.");for(;a&&(a=0,n[0]&&(o=0)),o;)try{if(e=1,u&&(s=2&n[0]?u.return:n[0]?u.throw||((s=u.return)&&s.call(u),0):u.next)&&!(s=s.call(u,n[1])).done)return s;switch(u=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return o.label++,{value:n[1],done:!1};case 5:o.label++,u=n[1],n=[0];continue;case 7:n=o.ops.pop(),o.trys.pop();continue;default:if(!(s=o.trys,(s=s.length>0&&s[s.length-1])||6!==n[0]&&2!==n[0])){o=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){o.label=n[1];break}if(6===n[0]&&o.label<s[1]){o.label=s[1],s=n;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(n);break}s[2]&&o.ops.pop(),o.trys.pop();continue}n=i.call(t,o)}catch(t){n=[6,t],u=0}finally{e=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,r])}}}function zt(t){var i="function"==typeof n&&r,e=i&&t[i],u=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&u>=t.length&&(t=void 0),{value:t&&t[u++],done:!t}}};throw new _(i?"Object is not iterable.":"Symbol.iterator is not defined.")}function Yt(t,n,i){if(null!=n){if("object"!=typeof n&&"function"!=typeof n)throw new _("Object expected.");var r,s;if(i){if(!u)throw new _("Symbol.asyncDispose is not defined.");r=n[u]}if(void 0===r){if(!e)throw new _("Symbol.dispose is not defined.");r=n[e],i&&(s=r)}if("function"!=typeof r)throw new _("Object not disposable.");s&&(r=function(){try{s.call(this)}catch(t){return et.reject(t)}}),t.stack.push({value:n,dispose:r,async:i})}else i&&t.stack.push({async:!0});return n}function jt(t){function n(n){t.error=t.hasError?new Xt(n,t.error,"An error was suppressed during disposal."):n,t.hasError=!0}var i,r=0;return function e(){for(;i=t.stack.pop();)try{if(!i.async&&1===r)return r=0,t.stack.push(i),et.resolve().then(e);if(i.dispose){var u=i.dispose.call(i.value);if(i.async)return r|=2,et.resolve(u).then(e,(function(t){return n(t),e()}))}else r|=1}catch(t){n(t)}if(1===r)return t.hasError?et.reject(t.error):et.resolve();if(t.hasError)throw t.error}()}var Kt=M((function(){F(),Tt(),Xt="function"==typeof SuppressedError?SuppressedError:function(t,n,i){var r=new p(i);return r.name="SuppressedError",r.error=t,r.suppressed=n,r}})),qt=M((function(){F(),Tt(),Kt()}));var Jt=M((function(){F(),Tt()}));var Qt=M((function(){F(),Tt()}));var $t=M((function(){F(),Tt()}));function tn(t,i){return function(t){if(Array.isArray(t))return t}(t)||function(t,i){var e=null==t?null:void 0!==n&&t[r]||t["@@iterator"];if(null!=e){var u,s,o=[],a=!0,c=!1;try{for(e=e.call(t);!(a=(u=e.next()).done)&&(o.push(u.value),!i||o.length!==i);a=!0);}catch(t){c=!0,s=t}finally{try{a||null==e.return||e.return()}finally{if(c)throw s}}return o}}(t,i)||Bt(t,i)||function(){throw new _("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var nn=M((function(){F(),Tt(),Jt(),Qt(),$t(),Vt()})),rn=O((function(t,i){var e,u;F(),Tt(),at(),e=t,u=function(t){var i="function"==typeof n&&"symbol"===U(r)?n:function(t){return"Symbol("+t+")"};function e(){}var u=Number.isNaN||function(t){return t!=t},s=e;function o(t){return"object"===(void 0===t?"undefined":U(t))&&null!==t||"function"==typeof t}function a(t){return t.slice()}function c(t,n,i,r,e){new E(t).set(new E(i,r,e),n)}function h(t){return!1!==function(t){return"number"==typeof t&&(!u(t)&&!(t<0))}(t)&&t!==1/0}function f(t,n,i){if("function"!=typeof t)throw new _("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function v(t,n,i,r){var e=t[n];if(void 0!==e){if("function"!=typeof e)throw new _(e+" is not a method");switch(i){case 0:return function(){return l(e,t,r)};case 1:return function(n){var i=[n].concat(r);return l(e,t,i)}}}return function(){return I(void 0)}}function d(t,n,i){var r=t[n];if(void 0!==r)return f(r,t,i)}function l(t,n,i){try{return I(f(t,n,i))}catch(t){return R(t)}}function g(t){if(t=Number(t),u(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function w(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new _("size property of a queuing strategy must be a function");return function(n){return t(n)}}var m=et,y=et.prototype.then,A=et.resolve.bind(m),T=et.reject.bind(m);function S(t){return new m(t)}function I(t){return A(t)}function R(t){return T(t)}function C(t,n,i){return y.call(t,n,i)}function N(t,n,i){C(C(t,n,i),void 0,s)}function D(t,n){N(t,n)}function P(t,n){N(t,void 0,n)}function x(t,n,i){return C(t,n,i)}function L(t){C(t,void 0,s)}var M=function(){function t(){this.hd=0,this.Ed=0,this.Rd={Id:[],Dd:void 0},this.Nd=this.Rd,this.hd=0,this.Ed=0}return b.defineProperty(t.prototype,"length",{get:function(){return this.Ed},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.Nd,i=n;16383===n.Id.length&&(i={Id:[],Dd:void 0}),n.Id.push(t),i!==n&&(this.Nd=i,n.Dd=i),++this.Ed},t.prototype.shift=function(){var t=this.Rd,n=t,i=this.hd,r=i+1,e=t.Id,u=e[i];return 16384===r&&(n=t.Dd,r=0),--this.Ed,this.hd=r,t!==n&&(this.Rd=n),e[i]=void 0,u},t.prototype.forEach=function(t){for(var n=this.hd,i=this.Rd,r=i.Id;!(n===r.length&&void 0===i.Dd||n===r.length&&(n=0,0===(r=(i=i.Dd).Id).length));)t(r[n]),++n},t.prototype.peek=function(){var t=this.Rd,n=this.hd;return t.Id[n]},t}();function O(t,n,i){var r=null;!0===i&&(r=b.prototype);var e=b.create(r);return e.value=t,e.done=n,e}function B(t,n){t.Ld=!0,t.Bd=n,n.Od=t,"readable"===n.Fa?Z(t):"closed"===n.Fa?function(t){Z(t),H(t)}(t):X(t,n.Fd)}function V(t,n){return Jn(t.Bd,n)}function F(t){"readable"===t.Bd.Fa?G(t,new _("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){X(t,n)}(t,new _("Reader was released and can no longer be used to monitor the stream's closedness")),t.Bd.Od=void 0,t.Bd=void 0}function W(t){return new _("Cannot "+t+" a stream using a released reader")}function Z(t){t.Vd=S((function(n,i){t.Wd=n,t.Ud=i}))}function X(t,n){Z(t),G(t,n)}function G(t,n){L(t.Vd),t.Ud(n),t.Wd=void 0,t.Ud=void 0}function H(t){t.Wd(void 0),t.Wd=void 0,t.Ud=void 0}var z=i("[[CancelSteps]]"),Y=i("[[PullSteps]]");function j(t,n){void 0===n&&(n=!1);var i=new nt(t);return i.Ld=n,i}function K(t){return S((function(n,i){var r={Gd:n,Hd:i};t.Od.Zd.push(r)}))}function q(t,n,i){var r=t.Od;r.Zd.shift().Gd(O(n,i,r.Ld))}function J(t){return t.Od.Zd.length}function Q(t){var n=t.Od;return void 0!==n&&!!it(n)}var $,tt,nt=function(){function t(t){if(!1===Kn(t))throw new _("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===qn(t))throw new _("This stream has already been locked for exclusive reading by another reader");B(this,t),this.Zd=new M}return b.defineProperty(t.prototype,"closed",{get:function(){return it(this)?this.Vd:R(ut("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return it(this)?void 0===this.Bd?R(W("cancel")):V(this,t):R(ut("cancel"))},t.prototype.read=function(){return it(this)?void 0===this.Bd?R(W("read from")):rt(this):R(ut("read"))},t.prototype.releaseLock=function(){if(!it(this))throw ut("releaseLock");if(void 0!==this.Bd){if(this.Zd.length>0)throw new _("Tried to release a reader lock when that reader has pending read() calls un-settled");F(this)}},t}();function it(t){return!!o(t)&&!!b.prototype.hasOwnProperty.call(t,"Zd")}function rt(t){var n=t.Bd;return n.Xd=!0,"closed"===n.Fa?I(O(void 0,!0,t.Ld)):"errored"===n.Fa?R(n.Fd):n.zd[Y]()}function ut(t){return new _("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}"symbol"===U(i.asyncIterator)&&(($={})[i.asyncIterator]=function(){return this},tt=$,b.defineProperty(tt,i.asyncIterator,{enumerable:!1}));var st={next:function(){if(!1===ot(this))return R(at("next"));var t=this.qd;return void 0===t.Bd?R(W("iterate")):x(rt(t),(function(n){var i=n.done;return i&&F(t),O(n.value,i,!0)}))},return:function(t){if(!1===ot(this))return R(at("next"));var n=this.qd;if(void 0===n.Bd)return R(W("finish iterating"));if(n.Zd.length>0)return R(new _("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.Yd){var i=V(n,t);return F(n),x(i,(function(){return O(t,!0,!0)}))}return F(n),I(O(t,!0,!0))}};function ot(t){return!!o(t)&&!!b.prototype.hasOwnProperty.call(t,"qd")}function at(t){return new _("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function ct(t){var n=t.Kd.shift();return t.Qd-=n.size,t.Qd<0&&(t.Qd=0),n.value}function ht(t,n,i){if(!h(i=Number(i)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.Kd.push({value:n,size:i}),t.Qd+=i}function ft(t){t.Kd=new M,t.Qd=0}void 0!==tt&&b.setPrototypeOf(st,tt),b.defineProperty(st,"next",{enumerable:!1}),b.defineProperty(st,"return",{enumerable:!1});var vt=i("[[AbortSteps]]"),dt=i("[[ErrorSteps]]"),lt=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),wt(this);var i=n.size,r=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var e=w(i);void 0===r&&(r=1),function(t,n,i,r){var e=b.create(Lt.prototype);function u(){return d(n,"start",[e])}var s=v(n,"write",1,[e]),o=v(n,"close",0,[]),a=v(n,"abort",1,[]);Mt(t,e,u,s,o,a,i,r)}(this,t,r=g(r),e)}return b.defineProperty(t.prototype,"locked",{get:function(){if(!1===mt(this))throw Zt("locked");return yt(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===mt(this)?R(Zt("abort")):!0===yt(this)?R(new _("Cannot abort a stream that already has a writer")):pt(this,t)},t.prototype.close=function(){return!1===mt(this)?R(Zt("close")):!0===yt(this)?R(new _("Cannot close a stream that already has a writer")):!0===Tt(this)?R(new _("Cannot close an already-closing stream")):_t(this)},t.prototype.getWriter=function(){if(!1===mt(this))throw Zt("getWriter");return gt(this)},t}();function gt(t){return new It(t)}function wt(t){t.Fa="writable",t.Fd=void 0,t.Jd=void 0,t.$d=void 0,t.tf=new M,t.ef=void 0,t.nf=void 0,t.rf=void 0,t.hf=void 0,t.uf=!1}function mt(t){return!!o(t)&&!!b.prototype.hasOwnProperty.call(t,"$d")}function yt(t){return void 0!==t.Jd}function pt(t,n){var i=t.Fa;if("closed"===i||"errored"===i)return I(void 0);if(void 0!==t.hf)return t.hf.cf;var r=!1;"erroring"===i&&(r=!0,n=void 0);var e=S((function(i,e){t.hf={cf:void 0,Gd:i,Hd:e,lf:n,df:r}}));return t.hf.cf=e,!1===r&&kt(t,n),e}function _t(t){var n=t.Fa;if("closed"===n||"errored"===n)return R(new _("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i=S((function(n,i){var r={Gd:n,Hd:i};t.nf=r})),r=t.Jd;return void 0!==r&&!0===t.uf&&"writable"===n&&$t(r),function(t){ht(t,"close",0),Vt(t)}(t.$d),i}function bt(t,n){"writable"!==t.Fa?At(t):kt(t,n)}function kt(t,n){var i=t.$d;t.Fa="erroring",t.Fd=n;var r=t.Jd;void 0!==r&&Dt(r,n),!1===function(t){return void 0!==t.ef||void 0!==t.rf}(t)&&!0===i._f&&At(t)}function At(t){t.Fa="errored",t.$d[dt]();var n=t.Fd;if(t.tf.forEach((function(t){t.Hd(n)})),t.tf=new M,void 0!==t.hf){var i=t.hf;if(t.hf=void 0,!0===i.df)return i.Hd(n),void St(t);N(t.$d[vt](i.lf),(function(){i.Gd(),St(t)}),(function(n){i.Hd(n),St(t)}))}else St(t)}function Tt(t){return void 0!==t.nf||void 0!==t.rf}function St(t){void 0!==t.nf&&(t.nf.Hd(t.Fd),t.nf=void 0);var n=t.Jd;void 0!==n&&Yt(n,t.Fd)}function Et(t,n){var i=t.Jd;void 0!==i&&n!==t.uf&&(!0===n?function(t){Kt(t)}(i):$t(i)),t.uf=n}var It=function(){function t(t){if(!1===mt(t))throw new _("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===yt(t))throw new _("This stream has already been locked for exclusive writing by another writer");this.vf=t,t.Jd=this;var n=t.Fa;if("writable"===n)!1===Tt(t)&&!0===t.uf?Kt(this):Jt(this),Ht(this);else if("erroring"===n)qt(this,t.Fd),Ht(this);else if("closed"===n)Jt(this),function(t){Ht(t),jt(t)}(this);else{var i=t.Fd;qt(this,i),zt(this,i)}}return b.defineProperty(t.prototype,"closed",{get:function(){return!1===Rt(this)?R(Xt("closed")):this.Vd},enumerable:!0,configurable:!0}),b.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Rt(this))throw Xt("desiredSize");if(void 0===this.vf)throw Gt("desiredSize");return function(t){var n=t.vf,i=n.Fa;return"errored"===i||"erroring"===i?null:"closed"===i?0:Bt(n.$d)}(this)},enumerable:!0,configurable:!0}),b.defineProperty(t.prototype,"ready",{get:function(){return!1===Rt(this)?R(Xt("ready")):this.mf},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===Rt(this)?R(Xt("abort")):void 0===this.vf?R(Gt("abort")):function(t,n){var i=t.vf;return pt(i,n)}(this,t)},t.prototype.close=function(){if(!1===Rt(this))return R(Xt("close"));var t=this.vf;return void 0===t?R(Gt("close")):!0===Tt(t)?R(new _("Cannot close an already-closing stream")):Ct(this)},t.prototype.releaseLock=function(){if(!1===Rt(this))throw Xt("releaseLock");void 0!==this.vf&&Pt(this)},t.prototype.write=function(t){return!1===Rt(this)?R(Xt("write")):void 0===this.vf?R(Gt("write to")):xt(this,t)},t}();function Rt(t){return!!o(t)&&!!b.prototype.hasOwnProperty.call(t,"vf")}function Ct(t){return _t(t.vf)}function Nt(t,n){"pending"===t.gf?Yt(t,n):function(t,n){zt(t,n)}(t,n)}function Dt(t,n){"pending"===t.pf?Qt(t,n):function(t,n){qt(t,n)}(t,n)}function Pt(t){var n=t.vf,i=new _("Writer was released and can no longer be used to monitor the stream's closedness");Dt(t,i),Nt(t,i),n.Jd=void 0,t.vf=void 0}function xt(t,n){var i=t.vf,r=i.$d,e=function(t,n){try{return t.wf(n)}catch(n){return Ft(t,n),1}}(r,n);if(i!==t.vf)return R(Gt("write to"));var u=i.Fa;if("errored"===u)return R(i.Fd);if(!0===Tt(i)||"closed"===u)return R(new _("The stream is closing or closed and cannot be written to"));if("erroring"===u)return R(i.Fd);var s=function(t){return S((function(n,i){var r={Gd:n,Hd:i};t.tf.push(r)}))}(i);return function(t,n,i){var r={chunk:n};try{ht(t,r,i)}catch(n){return void Ft(t,n)}var e=t.yf;!1===Tt(e)&&"writable"===e.Fa&&Et(e,Ut(t)),Vt(t)}(r,n,e),s}var Lt=function(){function t(){throw new _("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1===function(t){return!!o(t)&&!!b.prototype.hasOwnProperty.call(t,"yf")}(this))throw new _("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this.yf.Fa&&Wt(this,t)},t.prototype[vt]=function(t){var n=this.bf(t);return Ot(this),n},t.prototype[dt]=function(){ft(this)},t}();function Mt(t,n,i,r,e,u,s,o){n.yf=t,t.$d=n,n.Kd=void 0,n.Qd=void 0,ft(n),n._f=!1,n.wf=o,n.Af=s,n.Sf=r,n.Tf=e,n.bf=u;var a=Ut(n);Et(t,a),N(I(i()),(function(){n._f=!0,Vt(n)}),(function(i){n._f=!0,bt(t,i)}))}function Ot(t){t.Sf=void 0,t.Tf=void 0,t.bf=void 0,t.wf=void 0}function Bt(t){return t.Af-t.Qd}function Vt(t){var n=t.yf;if(!1!==t._f&&void 0===n.ef)if("erroring"!==n.Fa){if(0!==t.Kd.length){var i=function(t){return t.Kd.peek().value}(t);"close"===i?function(t){var n=t.yf;(function(t){t.rf=t.nf,t.nf=void 0})(n),ct(t);var i=t.Tf();Ot(t),N(i,(function(){!function(t){t.rf.Gd(void 0),t.rf=void 0,"erroring"===t.Fa&&(t.Fd=void 0,void 0!==t.hf&&(t.hf.Gd(),t.hf=void 0)),t.Fa="closed";var n=t.Jd;void 0!==n&&jt(n)}(n)}),(function(t){!function(t,n){t.rf.Hd(n),t.rf=void 0,void 0!==t.hf&&(t.hf.Hd(n),t.hf=void 0),bt(t,n)}(n,t)}))}(t):function(t,n){var i=t.yf;!function(t){t.ef=t.tf.shift()}(i);var r=t.Sf(n);N(r,(function(){!function(t){t.ef.Gd(void 0),t.ef=void 0}(i);var n=i.Fa;if(ct(t),!1===Tt(i)&&"writable"===n){var r=Ut(t);Et(i,r)}Vt(t)}),(function(n){"writable"===i.Fa&&Ot(t),function(t,n){t.ef.Hd(n),t.ef=void 0,bt(t,n)}(i,n)}))}(t,i.chunk)}}else At(n)}function Ft(t,n){"writable"===t.yf.Fa&&Wt(t,n)}function Ut(t){return Bt(t)<=0}function Wt(t,n){var i=t.yf;Ot(t),kt(i,n)}function Zt(t){return new _("WritableStream.prototype."+t+" can only be used on a WritableStream")}function Xt(t){return new _("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function Gt(t){return new _("Cannot "+t+" a stream using a released writer")}function Ht(t){t.Vd=S((function(n,i){t.Wd=n,t.Ud=i,t.gf="pending"}))}function zt(t,n){Ht(t),Yt(t,n)}function Yt(t,n){L(t.Vd),t.Ud(n),t.Wd=void 0,t.Ud=void 0,t.gf="rejected"}function jt(t){t.Wd(void 0),t.Wd=void 0,t.Ud=void 0,t.gf="resolved"}function Kt(t){t.mf=S((function(n,i){t.kf=n,t.Ef=i})),t.pf="pending"}function qt(t,n){Kt(t),Qt(t,n)}function Jt(t){Kt(t),$t(t)}function Qt(t,n){L(t.mf),t.Ef(n),t.kf=void 0,t.Ef=void 0,t.pf="rejected"}function $t(t){t.kf(void 0),t.kf=void 0,t.Ef=void 0,t.pf="fulfilled"}function tn(t){if("object"!==(void 0===t?"undefined":U(t))||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}var nn,rn="undefined"!=typeof DOMException?DOMException:void 0,en=function(t){if("function"!=typeof t&&"object"!==(void 0===t?"undefined":U(t)))return!1;try{return new t,!0}catch(t){return!1}}(rn)?rn:((nn=function(t,n){this.message=t||"",this.name=n||"Error",p.captureStackTrace&&p.captureStackTrace(this,this.constructor)}).prototype=b.create(p.prototype),b.defineProperty(nn.prototype,"constructor",{value:nn,writable:!0,configurable:!0}),nn);function un(t,n,i,r,u,s){var o=j(t),a=gt(n);t.Xd=!0;var c=!1,h=I(void 0);return S((function(f,v){var d,l,g,w;if(void 0!==s){if(d=function(){var i=new en("Aborted","AbortError"),e=[];!1===r&&e.push((function(){return"writable"===n.Fa?pt(n,i):I(void 0)})),!1===u&&e.push((function(){return"readable"===t.Fa?Jn(t,i):I(void 0)})),b((function(){return et.all(e.map((function(t){return t()})))}),!0,i)},!0===s.aborted)return void d();s.addEventListener("abort",d)}if(p(t,o.Vd,(function(t){!1===r?b((function(){return pt(n,t)}),!0,t):k(!0,t)})),p(n,a.Vd,(function(n){!1===u?b((function(){return Jn(t,n)}),!0,n):k(!0,n)})),l=t,g=o.Vd,w=function(){!1===i?b((function(){return function(t){var n=t.vf,i=n.Fa;return!0===Tt(n)||"closed"===i?I(void 0):"errored"===i?R(n.Fd):Ct(t)}(a)})):k()},"closed"===l.Fa?w():D(g,w),!0===Tt(n)||"closed"===n.Fa){var m=new _("the destination writable stream closed before all data could be piped to it");!1===u?b((function(){return Jn(t,m)}),!0,m):k(!0,m)}function y(){var t=h;return C(h,(function(){return t!==h?y():void 0}))}function p(t,n,i){"errored"===t.Fa?i(t.Fd):P(n,i)}function b(t,i,r){function e(){N(t(),(function(){return A(i,r)}),(function(t){return A(!0,t)}))}!0!==c&&(c=!0,"writable"===n.Fa&&!1===Tt(n)?D(y(),e):e())}function k(t,i){!0!==c&&(c=!0,"writable"===n.Fa&&!1===Tt(n)?D(y(),(function(){return A(t,i)})):A(t,i))}function A(t,n){Pt(a),F(o),void 0!==s&&s.removeEventListener("abort",d),t?v(n):f(void 0)}L(S((function(t,n){!function i(r){r?t():C(!0===c?I(!0):C(a.mf,(function(){return C(rt(o),(function(t){return!0===t.done||(h=C(xt(a,t.value),void 0,e),!1)}))})),i,n)}(!1)})))}))}var sn=function(){function t(){throw new _}return b.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===on(this))throw mn("desiredSize");return ln(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===on(this))throw mn("close");if(!1===gn(this))throw new _("The stream is not in a state that permits close");fn(this)},t.prototype.enqueue=function(t){if(!1===on(this))throw mn("enqueue");if(!1===gn(this))throw new _("The stream is not in a state that permits enqueue");return vn(this,t)},t.prototype.error=function(t){if(!1===on(this))throw mn("error");dn(this,t)},t.prototype[z]=function(t){ft(this);var n=this.xf(t);return hn(this),n},t.prototype[Y]=function(){var t=this.Rf;if(this.Kd.length>0){var n=ct(this);return!0===this.If&&0===this.Kd.length?(hn(this),Qn(t)):an(this),I(O(n,!1,t.Od.Ld))}var i=K(t);return an(this),i},t}();function on(t){return!!o(t)&&!!b.prototype.hasOwnProperty.call(t,"Rf")}function an(t){!1!==cn(t)&&(!0!==t.Cf?(t.Cf=!0,N(t.Pf(),(function(){t.Cf=!1,!0===t.Df&&(t.Df=!1,an(t))}),(function(n){dn(t,n)}))):t.Df=!0)}function cn(t){var n=t.Rf;return!1!==gn(t)&&!1!==t._f&&(!0===qn(n)&&J(n)>0||ln(t)>0)}function hn(t){t.Pf=void 0,t.xf=void 0,t.wf=void 0}function fn(t){var n=t.Rf;t.If=!0,0===t.Kd.length&&(hn(t),Qn(n))}function vn(t,n){var i=t.Rf;if(!0===qn(i)&&J(i)>0)q(i,n,!1);else{var r=void 0;try{r=t.wf(n)}catch(n){throw dn(t,n),n}try{ht(t,n,r)}catch(n){throw dn(t,n),n}}an(t)}function dn(t,n){var i=t.Rf;"readable"===i.Fa&&(ft(t),hn(t),$n(i,n))}function ln(t){var n=t.Rf.Fa;return"errored"===n?null:"closed"===n?0:t.Af-t.Qd}function gn(t){var n=t.Rf.Fa;return!1===t.If&&"readable"===n}function wn(t,n,i,r,e,u,s){n.Rf=t,n.Kd=void 0,n.Qd=void 0,ft(n),n._f=!1,n.If=!1,n.Df=!1,n.Cf=!1,n.wf=s,n.Af=u,n.Pf=r,n.xf=e,t.zd=n,N(I(i()),(function(){n._f=!0,an(n)}),(function(t){dn(n,t)}))}function mn(t){return new _("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}var yn=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&k.floor(t)===t},pn=function(){function t(){throw new _("ReadableStreamBYOBRequest cannot be used directly")}return b.defineProperty(t.prototype,"view",{get:function(){if(!1===kn(this))throw Vn("view");return this.Nf},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===kn(this))throw Vn("respond");if(void 0===this.Mf)throw new _("This BYOB request has been invalidated");this.Nf.buffer,function(t,n){if(!1===h(n=Number(n)))throw new RangeError("bytesWritten must be a finite");Pn(t,n)}(this.Mf,t)},t.prototype.respondWithNewView=function(t){if(!1===kn(this))throw Vn("respond");if(void 0===this.Mf)throw new _("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new _("You can only respond with array buffer views");t.buffer,function(t,n){var i=t.Lf.peek();if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=n.buffer,Pn(t,n.byteLength)}(this.Mf,t)},t}(),_n=function(){function t(){throw new _("ReadableByteStreamController constructor cannot be used directly")}return b.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===bn(this))throw Fn("byobRequest");if(void 0===this.Bf&&this.Lf.length>0){var t=this.Lf.peek(),n=new E(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),i=b.create(pn.prototype);!function(t,n,i){t.Mf=n,t.Nf=i}(i,this,n),this.Bf=i}return this.Bf},enumerable:!0,configurable:!0}),b.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===bn(this))throw Fn("desiredSize");return On(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===bn(this))throw Fn("close");if(!0===this.If)throw new _("The stream has already been closed; do not close it again!");var t=this.Of.Fa;if("readable"!==t)throw new _("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.Of;if(t.Qd>0)t.If=!0;else{if(t.Lf.length>0&&t.Lf.peek().bytesFilled>0){var i=new _("Insufficient bytes to fill elements in the given buffer");throw Mn(t,i),i}Ln(t),Qn(n)}}(this)},t.prototype.enqueue=function(t){if(!1===bn(this))throw Fn("enqueue");if(!0===this.If)throw new _("stream is closed or draining");var n=this.Of.Fa;if("readable"!==n)throw new _("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new _("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var i=t.Of,r=n.buffer,e=n.byteOffset,u=n.byteLength,s=r;!0===Q(i)?0===J(i)?En(t,s,e,u):q(i,new E(s,e,u),!1):!0===Zn(i)?(En(t,s,e,u),Dn(t)):En(t,s,e,u),An(t)}(this,t)},t.prototype.error=function(t){if(!1===bn(this))throw Fn("error");Mn(this,t)},t.prototype[z]=function(t){this.Lf.length>0&&(this.Lf.peek().bytesFilled=0),ft(this);var n=this.xf(t);return Ln(this),n},t.prototype[Y]=function(){var t=this.Of;if(this.Qd>0){var n=this.Kd.shift();this.Qd-=n.byteLength,Cn(this);var i=void 0;try{i=new E(n.buffer,n.byteOffset,n.byteLength)}catch(t){return R(t)}return I(O(i,!1,t.Od.Ld))}var r=this.Ff;if(void 0!==r){var e=void 0;try{e=new ArrayBuffer(r)}catch(t){return R(t)}var u={buffer:e,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,ctor:E,readerType:"default"};this.Lf.push(u)}var s=K(t);return An(this),s},t}();function bn(t){return!!o(t)&&!!b.prototype.hasOwnProperty.call(t,"Of")}function kn(t){return!!o(t)&&!!b.prototype.hasOwnProperty.call(t,"Mf")}function An(t){var n=function(t){var n=t.Of;if("readable"!==n.Fa)return!1;if(!0===t.If)return!1;if(!1===t._f)return!1;if(!0===Q(n)&&J(n)>0)return!0;if(!0===Zn(n)&&Wn(n)>0)return!0;var i=On(t);return i>0}(t);!1!==n&&(!0!==t.Cf?(t.Cf=!0,N(t.Pf(),(function(){t.Cf=!1,!0===t.Df&&(t.Df=!1,An(t))}),(function(n){Mn(t,n)}))):t.Df=!0)}function Tn(t,n){var i=!1;"closed"===t.Fa&&(i=!0);var r=Sn(n);"default"===n.readerType?q(t,r,i):function(t,n,i){var r=t.Od,e=r.Vf.shift();e.Gd(O(n,i,r.Ld))}(t,r,i)}function Sn(t){var n=t.bytesFilled,i=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/i)}function En(t,n,i,r){t.Kd.push({buffer:n,byteOffset:i,byteLength:r}),t.Qd+=r}function In(t,n){var i=n.elementSize,r=n.bytesFilled-n.bytesFilled%i,e=k.min(t.Qd,n.byteLength-n.bytesFilled),u=n.bytesFilled+e,s=u-u%i,o=e,a=!1;s>r&&(o=s-n.bytesFilled,a=!0);for(var h=t.Kd;o>0;){var f=h.peek(),v=k.min(o,f.byteLength),d=n.byteOffset+n.bytesFilled;c(n.buffer,d,f.buffer,f.byteOffset,v),f.byteLength===v?h.shift():(f.byteOffset+=v,f.byteLength-=v),t.Qd-=v,Rn(t,v,n),o-=v}return a}function Rn(t,n,i){Nn(t),i.bytesFilled+=n}function Cn(t){0===t.Qd&&!0===t.If?(Ln(t),Qn(t.Of)):An(t)}function Nn(t){void 0!==t.Bf&&(t.Bf.Mf=void 0,t.Bf.Nf=void 0,t.Bf=void 0)}function Dn(t){for(;t.Lf.length>0;){if(0===t.Qd)return;var n=t.Lf.peek();!0===In(t,n)&&(xn(t),Tn(t.Of,n))}}function Pn(t,n){var i=t.Lf.peek();if("closed"===t.Of.Fa){if(0!==n)throw new _("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=n.buffer;var i=t.Of;if(!0===Zn(i))for(;Wn(i)>0;)Tn(i,xn(t))}(t,i)}else!function(t,n,i){if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range");if(Rn(t,n,i),!(i.bytesFilled<i.elementSize)){xn(t);var r=i.bytesFilled%i.elementSize;if(r>0){var e=i.byteOffset+i.bytesFilled,u=i.buffer.slice(e-r,e);En(t,u,0,u.byteLength)}i.buffer=i.buffer,i.bytesFilled-=r,Tn(t.Of,i),Dn(t)}}(t,n,i);An(t)}function xn(t){var n=t.Lf.shift();return Nn(t),n}function Ln(t){t.Pf=void 0,t.xf=void 0}function Mn(t,n){var i=t.Of;"readable"===i.Fa&&(function(t){Nn(t),t.Lf=new M}(t),ft(t),Ln(t),$n(i,n))}function On(t){var n=t.Of.Fa;return"errored"===n?null:"closed"===n?0:t.Af-t.Qd}function Bn(t,n,i){var r=b.create(_n.prototype),e=v(n,"pull",0,[r]),u=v(n,"cancel",1,[]),s=n.autoAllocateChunkSize;if(void 0!==s&&(s=Number(s),!1===yn(s)||s<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,i,r,e,u,s){n.Of=t,n.Df=!1,n.Cf=!1,n.Bf=void 0,n.Kd=n.Qd=void 0,ft(n),n.If=!1,n._f=!1,n.Af=g(u),n.Pf=r,n.xf=e,n.Ff=s,n.Lf=new M,t.zd=n,N(I(i()),(function(){n._f=!0,An(n)}),(function(t){Mn(n,t)}))}(t,r,(function(){return d(n,"start",[r])}),e,u,i,s)}function Vn(t){return new _("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function Fn(t){return new _("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function Un(t){return S((function(n,i){var r={Gd:n,Hd:i};t.Od.Vf.push(r)}))}function Wn(t){return t.Od.Vf.length}function Zn(t){var n=t.Od;return void 0!==n&&!!Gn(n)}var Xn=function(){function t(t){if(!Kn(t))throw new _("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===bn(t.zd))throw new _("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(qn(t))throw new _("This stream has already been locked for exclusive reading by another reader");B(this,t),this.Vf=new M}return b.defineProperty(t.prototype,"closed",{get:function(){return Gn(this)?this.Vd:R(Hn("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Gn(this)?void 0===this.Bd?R(W("cancel")):V(this,t):R(Hn("cancel"))},t.prototype.read=function(t){return Gn(this)?void 0===this.Bd?R(W("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?R(new _("view must have non-zero byteLength")):function(t,n){var i=t.Bd;return i.Xd=!0,"errored"===i.Fa?R(i.Fd):function(t,n){var i=t.Of,r=1;n.constructor!==DataView&&(r=n.constructor.BYTES_PER_ELEMENT);var e=n.constructor,u={buffer:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:r,ctor:e,readerType:"byob"};if(t.Lf.length>0)return t.Lf.push(u),Un(i);if("closed"===i.Fa)return I(O(new e(u.buffer,u.byteOffset,0),!0,i.Od.Ld));if(t.Qd>0){if(!0===In(t,u)){var s=Sn(u);return Cn(t),I(O(s,!1,i.Od.Ld))}if(!0===t.If){var o=new _("Insufficient bytes to fill elements in the given buffer");return Mn(t,o),R(o)}}t.Lf.push(u);var a=Un(i);return An(t),a}(i.zd,n)}(this,t)):R(new _("view must be an array buffer view")):R(Hn("read"))},t.prototype.releaseLock=function(){if(!Gn(this))throw Hn("releaseLock");if(void 0!==this.Bd){if(this.Vf.length>0)throw new _("Tried to release a reader lock when that reader has pending read() calls un-settled");F(this)}},t}();function Gn(t){return!!o(t)&&!!b.prototype.hasOwnProperty.call(t,"Vf")}function Hn(t){return new _("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}var zn=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),jn(this);var i=n.size,r=n.highWaterMark,e=t.type;if("bytes"===String(e)){if(void 0!==i)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===r&&(r=0),Bn(this,t,r=g(r))}else{if(void 0!==e)throw new RangeError("Invalid type is specified");var u=w(i);void 0===r&&(r=1),function(t,n,i,r){var e=b.create(sn.prototype),u=v(n,"pull",0,[e]),s=v(n,"cancel",1,[]);wn(t,e,(function(){return d(n,"start",[e])}),u,s,i,r)}(this,t,r=g(r),u)}}return b.defineProperty(t.prototype,"locked",{get:function(){if(!1===Kn(this))throw ti("locked");return qn(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===Kn(this)?R(ti("cancel")):!0===qn(this)?R(new _("Cannot cancel a stream that already has a reader")):Jn(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===Kn(this))throw ti("getReader");if(void 0===n)return j(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var i=new Xn(t);return i.Ld=n,i}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var i=t.writable,r=t.readable,e=void 0===n?{}:n,u=e.preventClose,s=e.preventAbort,o=e.preventCancel,a=e.signal;if(!1===Kn(this))throw ti("pipeThrough");if(!1===mt(i))throw new _("writable argument to pipeThrough must be a WritableStream");if(!1===Kn(r))throw new _("readable argument to pipeThrough must be a ReadableStream");if(u=Boolean(u),s=Boolean(s),o=Boolean(o),void 0!==a&&!tn(a))throw new _("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===qn(this))throw new _("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===yt(i))throw new _("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return L(un(this,i,u,s,o,a)),r},t.prototype.pipeTo=function(t,n){var i=void 0===n?{}:n,r=i.preventClose,e=i.preventAbort,u=i.preventCancel,s=i.signal;return!1===Kn(this)?R(ti("pipeTo")):!1===mt(t)?R(new _("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(r=Boolean(r),e=Boolean(e),u=Boolean(u),void 0===s||tn(s)?!0===qn(this)?R(new _("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===yt(t)?R(new _("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):un(this,t,r,e,u,s):R(new _("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===Kn(this))throw ti("tee");var t=function(t,n){var i,r,e,u,s,o=j(t),c=!1,h=!1,f=!1,v=S((function(t){s=t}));function d(){return!0===c||(c=!0,L(x(rt(o),(function(t){if(c=!1,!0===t.done)return!1===h&&fn(e.zd),void(!1===f&&fn(u.zd));var n=t.value,i=n,r=n;!1===h&&vn(e.zd,i),!1===f&&vn(u.zd,r)})))),I(void 0)}function l(){}return e=Yn(l,d,(function(n){if(h=!0,i=n,!0===f){var e=a([i,r]),u=Jn(t,e);s(u)}return v})),u=Yn(l,d,(function(n){if(f=!0,r=n,!0===h){var e=a([i,r]),u=Jn(t,e);s(u)}return v})),P(o.Vd,(function(t){dn(e.zd,t),dn(u.zd,t)})),[e,u]}(this);return a(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,i=void 0!==n&&n;if(!1===Kn(this))throw ti("getIterator");return function(t,n){void 0===n&&(n=!1);var i=j(t),r=b.create(st);return r.qd=i,r.Yd=Boolean(n),r}(this,i)},t}();function Yn(t,n,i,r,e){void 0===r&&(r=1),void 0===e&&(e=function(){return 1});var u=b.create(zn.prototype);return jn(u),wn(u,b.create(sn.prototype),t,n,i,r,e),u}function jn(t){t.Fa="readable",t.Od=void 0,t.Fd=void 0,t.Xd=!1}function Kn(t){return!!o(t)&&!!b.prototype.hasOwnProperty.call(t,"zd")}function qn(t){return void 0!==t.Od}function Jn(t,n){return t.Xd=!0,"closed"===t.Fa?I(void 0):"errored"===t.Fa?R(t.Fd):(Qn(t),x(t.zd[z](n),e))}function Qn(t){t.Fa="closed";var n=t.Od;void 0!==n&&(it(n)&&(n.Zd.forEach((function(t){t.Gd(O(void 0,!0,n.Ld))})),n.Zd=new M),H(n))}function $n(t,n){t.Fa="errored",t.Fd=n;var i=t.Od;void 0!==i&&(it(i)?(i.Zd.forEach((function(t){t.Hd(n)})),i.Zd=new M):(i.Vf.forEach((function(t){t.Hd(n)})),i.Vf=new M),G(i,n))}function ti(t){return new _("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}"symbol"===U(i.asyncIterator)&&b.defineProperty(zn.prototype,i.asyncIterator,{value:zn.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var ni=function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}return t.prototype.size=function(t){return t.byteLength},t}(),ii=function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}return t.prototype.size=function(){return 1},t}(),ri=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={});var r=n.size,e=n.highWaterMark,u=i.size,s=i.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var o=w(r);if(void 0===e&&(e=1),e=g(e),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var a,c=w(u);void 0===s&&(s=0),s=g(s),function(t,n,i,r,e,u){function s(){return n}function o(n){return function(t,n){var i=t.Wf;return!0===t.uf?x(t.Uf,(function(){var r=t.Gf;if("erroring"===r.Fa)throw r.Fd;return vi(i,n)})):vi(i,n)}(t,n)}function a(n){return function(t,n){return ui(t,n),I(void 0)}(t,n)}function c(){return function(t){var n=t.Hf,i=t.Wf,r=i.Zf();return hi(i),x(r,(function(){if("errored"===n.Fa)throw n.Fd;var t=n.zd;!0===gn(t)&&fn(t)}),(function(i){throw ui(t,i),n.Fd}))}(t)}function h(){return function(t){return oi(t,!1),t.Uf}(t)}function f(n){return si(t,n),I(void 0)}t.Gf=function(t,n,i,r,e,u){void 0===e&&(e=1),void 0===u&&(u=function(){return 1});var s=b.create(lt.prototype);return wt(s),Mt(s,b.create(Lt.prototype),t,n,i,r,e,u),s}(s,o,c,a,i,r),t.Hf=Yn(s,h,f,e,u),t.uf=void 0,t.Uf=void 0,t.Xf=void 0,oi(t,!0),t.Wf=void 0}(this,S((function(t){a=t})),e,o,s,c),function(t,n){var i=b.create(ai.prototype),r=function(t){try{return fi(i,t),I(void 0)}catch(t){return R(t)}},e=n.transform;if(void 0!==e){if("function"!=typeof e)throw new _("transform is not a method");r=function(t){return l(e,n,[t,i])}}var u=v(n,"flush",0,[i]);!function(t,n,i,r){n.zf=t,t.Wf=n,n.qf=i,n.Zf=r}(t,i,r,u)}(this,t);var h=d(t,"start",[this.Wf]);a(h)}return b.defineProperty(t.prototype,"readable",{get:function(){if(!1===ei(this))throw li("readable");return this.Hf},enumerable:!0,configurable:!0}),b.defineProperty(t.prototype,"writable",{get:function(){if(!1===ei(this))throw li("writable");return this.Gf},enumerable:!0,configurable:!0}),t}();function ei(t){return!!o(t)&&!!b.prototype.hasOwnProperty.call(t,"Wf")}function ui(t,n){dn(t.Hf.zd,n),si(t,n)}function si(t,n){hi(t.Wf),Ft(t.Gf.$d,n),!0===t.uf&&oi(t,!1)}function oi(t,n){void 0!==t.Uf&&t.Xf(),t.Uf=S((function(n){t.Xf=n})),t.uf=n}var ai=function(){function t(){throw new _("TransformStreamDefaultController instances cannot be created directly")}return b.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===ci(this))throw di("desiredSize");return ln(this.zf.Hf.zd)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===ci(this))throw di("enqueue");fi(this,t)},t.prototype.error=function(t){if(!1===ci(this))throw di("error");!function(t,n){ui(t.zf,n)}(this,t)},t.prototype.terminate=function(){if(!1===ci(this))throw di("terminate");!function(t){var n=t.zf,i=n.Hf.zd;!0===gn(i)&&fn(i);var r=new _("TransformStream terminated");si(n,r)}(this)},t}();function ci(t){return!!o(t)&&!!b.prototype.hasOwnProperty.call(t,"zf")}function hi(t){t.qf=void 0,t.Zf=void 0}function fi(t,n){var i=t.zf,r=i.Hf.zd;if(!1===gn(r))throw new _("Readable side is not in a state that permits enqueue");try{vn(r,n)}catch(t){throw si(i,t),i.Hf.Fd}var e=function(t){return!0!==cn(t)}(r);e!==i.uf&&oi(i,!0)}function vi(t,n){return x(t.qf(n),void 0,(function(n){throw ui(t.zf,n),n}))}function di(t){return new _("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function li(t){return new _("TransformStream.prototype."+t+" can only be used on a TransformStream")}t.ByteLengthQueuingStrategy=ni,t.CountQueuingStrategy=ii,t.ReadableStream=zn,t.TransformStream=ri,t.WritableStream=lt,b.defineProperty(t,"__esModule",{value:!0})},"object"===(void 0===t?"undefined":U(t))&&void 0!==i?u(t):"function"==typeof define&&define.amd?define(["exports"],u):u((e=e||self).WebStreamsPolyfill={})})),en=O((function(t){function n(){var t=rn();return n=function(){return t},t}F(),Tt(),b.defineProperty(t,"__esModule",{value:!0}),function(t,n){for(var i in n)b.defineProperty(t,i,{enumerable:!0,get:n[i]})}(t,{ByteLengthQueuingStrategy:function(){return n().ByteLengthQueuingStrategy},CountQueuingStrategy:function(){return n().CountQueuingStrategy},ReadableStream:function(){return n().ReadableStream},TransformStream:function(){return n().TransformStream},WritableStream:function(){return n().WritableStream}})}));function un(t,n,i){return n in t?b.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}var sn=M((function(){F(),Tt()})),on=M((function(){F(),Tt(),Kt()}));function an(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(an=function(){return!!t})()}var cn=M((function(){F(),Tt()}));function hn(t,n,i){return(hn=an()?Reflect.construct:function(t,n,i){var r=[null];r.push.apply(r,n);var e=new(Function.bind.apply(t,r));return i&&St(e,i.prototype),e}).apply(null,arguments)}var fn=M((function(){F(),Tt(),cn(),Et()}));function vn(t){return(vn=b.setPrototypeOf?b.getPrototypeOf:function(t){return t.__proto__||b.getPrototypeOf(t)})(t)}var dn=M((function(){F(),Tt()}));var ln=M((function(){F(),Tt()}));function gn(t){var n="function"==typeof Map?new Map:void 0;return gn=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new _("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,i)}function i(){return hn(t,arguments,vn(this).constructor)}return i.prototype=b.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),St(i,t)},gn(t)}var wn,mn=M((function(){F(),Tt(),fn(),dn(),ln(),Et()})),yn=O((function(t,e){var u,s;F(),Tt(),Gt(),fn(),Dt(),sn(),Rt(),nn(),Ut(),at(),mn(),qt(),on(),u=t,s=function(t){var e,u=b.defineProperty,s=b.defineProperties,o=b.getOwnPropertyDescriptors,a=b.getOwnPropertySymbols,c=b.prototype.hasOwnProperty,h=b.prototype.propertyIsEnumerable,d=function(t,n,i){return n in t?u(t,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[n]=i},w=function(t,n){for(var i in n||(n={}))c.call(n,i)&&d(t,i,n[i]);if(a)for(var r=0,e=a(n);r<e.length;r++)i=e[r],h.call(n,i)&&d(t,i,n[i]);return t},R=function(t,n){return s(t,o(n))},C=function(t,n){var i={};for(var r in t)c.call(t,r)&&n.indexOf(r)<0&&(i[r]=t[r]);if(null!=t&&a)for(var e=0,u=a(t);e<u.length;e++)r=u[e],n.indexOf(r)<0&&h.call(t,r)&&(i[r]=t[r]);return i},N=("undefined"==typeof globalThis?"undefined":U(globalThis))<"u"?globalThis:(void 0===f?"undefined":U(f))<"u"?f:("undefined"==typeof global?"undefined":U(global))<"u"?global:("undefined"==typeof self?"undefined":U(self))<"u"?self:{};function D(t){return t&&t.__esModule&&b.prototype.hasOwnProperty.call(t,"default")?t.default:t}var P,x={exports:{}};P=x,function(t){var n,i={VERSION:"1.6.1"},r={},e=function(t,n){return function(){return n.apply(t,arguments)}},u=function(){var t,n,i=arguments,r=i[0];for(n=1;n<i.length;n++)for(t in i[n])!(t in r)&&i[n].hasOwnProperty(t)&&(r[t]=i[n][t]);return r},s=function(t,n){return{value:t,name:n}};i.TRACE=s(1,"TRACE"),i.DEBUG=s(2,"DEBUG"),i.INFO=s(3,"INFO"),i.TIME=s(4,"TIME"),i.WARN=s(5,"WARN"),i.ERROR=s(8,"ERROR"),i.OFF=s(99,"OFF");var o=function(t){this.context=t,this.setLevel(t.filterLevel),this.log=this.info};o.prototype={setLevel:function(t){t&&"value"in t&&(this.context.filterLevel=t)},getLevel:function(){return this.context.filterLevel},enabledFor:function(t){var n=this.context.filterLevel;return t.value>=n.value},trace:function(){this.invoke(i.TRACE,arguments)},debug:function(){this.invoke(i.DEBUG,arguments)},info:function(){this.invoke(i.INFO,arguments)},warn:function(){this.invoke(i.WARN,arguments)},error:function(){this.invoke(i.ERROR,arguments)},time:function(t){"string"==typeof t&&t.length>0&&this.invoke(i.TIME,[t,"start"])},timeEnd:function(t){"string"==typeof t&&t.length>0&&this.invoke(i.TIME,[t,"end"])},invoke:function(t,i){n&&this.enabledFor(t)&&n(i,u({level:t},this.context))}};var a,c=new o({filterLevel:i.OFF});(a=i).enabledFor=e(c,c.enabledFor),a.trace=e(c,c.trace),a.debug=e(c,c.debug),a.time=e(c,c.time),a.timeEnd=e(c,c.timeEnd),a.info=e(c,c.info),a.warn=e(c,c.warn),a.error=e(c,c.error),a.log=a.info,i.setHandler=function(t){n=t},i.setLevel=function(t){for(var n in c.setLevel(t),r)r.hasOwnProperty(n)&&r[n].setLevel(t)},i.getLevel=function(){return c.getLevel()},i.get=function(t){return r[t]||(r[t]=new o(u({name:t},c.context)))},i.createDefaultHandler=function(t){(t=t||{}).formatter=t.formatter||function(t,n){n.name&&t.unshift("["+n.name+"]")};var n={},r=function(t,n){Function.prototype.apply.call(t,console,n)};return("undefined"==typeof console?"undefined":U(console))>"u"?function(){}:function(e,u){e=Array.prototype.slice.call(e);var s,o=console.log;u.level===i.TIME?(s=(u.name?"["+u.name+"] ":"")+e[0],"start"===e[1]?console.time?console.time(s):n[s]=(new Date).getTime():console.timeEnd?console.timeEnd(s):r(o,[s+": "+((new Date).getTime()-n[s])+"ms"])):(u.level===i.WARN&&console.warn?o=console.warn:u.level===i.ERROR&&console.error?o=console.error:u.level===i.INFO&&console.info?o=console.info:u.level===i.DEBUG&&console.debug?o=console.debug:u.level===i.TRACE&&console.trace&&(o=console.trace),t.formatter(e,u),r(o,e))}},i.useDefaults=function(t){i.setLevel(t&&t.defaultLevel||i.DEBUG),i.setHandler(i.createDefaultHandler(t))},i.setDefaults=i.useDefaults,P.exports?P.exports=i:(i.Yf=t.Logger,i.noConflict=function(){return t.Logger=i.Yf,i},t.Logger=i)}(N);var L=D(x.exports),M="0.3.2",O=(null==(e=null==f?void 0:f.navigator)?void 0:e.userAgent)||"No user agent available",B="",V="",F="",W="",Z="",X="",G="",H=0,z=[],Y=function(t){B=""===B?t:B},j=function(t){V=""===V?t:V},K=function(t){F=""===F?t:F},q=function(t){W=""===W?t:W},J=function(t){Z=""===Z?t:Z},Q=function(t){H=0===H?t:H},tt=function(t){X=t},nt=function(t){G=""===G?t:G},it=function(t){60===z.length&&z.shift(),z.push(t)},rt=function(t,n){var i;void 0===t&&(t=60),void 0===n&&(n="JSON"),i=!Number.isInteger(t)||t>60||t<=0?60:t;var r={client:"@millicast/millicast-sdk",version:M,timestamp:(new Date).toISOString(),userAgent:O,clusterId:G,accountId:B,streamName:V,subscriberId:F,connection:X,stats:z.slice(-i),connectionDurationMs:(new Date).getTime()-H};return""!==Z?r.feedId=Z:""!==W&&(r.streamViewId=W),"CMCD"===n?function(t){function n(t,n){return{ts:k.round(n.timestamp)||"",ot:"audio"===t?"a":"v",bl:n.jitterBufferDelay||0,br:k.round(n.bitrateBitsPerSecond||0),pld:n.packetsLostDeltaPerSecond||0,j:n.jitter||0,mtp:n.packetRate||0,mid:n.mid||"",mimeType:n.mimeType||""}}return t.stats=t.stats.reduce((function(t,i){var r=0!==i.audio.inbounds.length?i.audio.inbounds.map((function(t){return n("audio",t)})):i.audio.outbounds.map((function(t){return n("audio",t)})),e=0!==i.video.inbounds.length?i.video.inbounds.map((function(t){return n("video",t)})):i.video.outbounds.map((function(t){return n("video",t)}));return t.concat(Ft(r).concat(Ft(e)))}),[]),t}(r):r};L.useDefaults({defaultLevel:L.TRACE});var ut=["TRACE","DEBUG","INFO","WARN","ERROR"],st=function(t,n){t.unshift("[".concat(n.name||"Global","] ").concat((new Date).toISOString()," - ").concat(n.level.name," -"))},ot=function(t,n){return n?t.value>=dt[n].value:t.value>=vt.value},at=L.createDefaultHandler({formatter:st});L.setHandler((function(t,n){(function(t,n){t=(t=Array.prototype.slice.call(t)).map((function(t){return"object"==(void 0===t?"undefined":U(t))?JSON.stringify(t):t})),st(t,n),0!==ht?(ft.push(t.join(" ")),ft.length>=ht&&(ft=ft.slice(-ht))):ft=[]})(t,n),ot(n.level,n.name)&&at(t,n);for(var i=0;i<lt.length;i++){var r=lt[i],e=r.handler,u=r.level;n.level.value>=u.value&&e(t,n)}}));var ct,ht=1e4,ft=[],vt=L.OFF,dt={},lt=[],gt=R(w({},L),{enabledFor:ot,getHistory:function(){return ft},getHistoryMaxSize:function(){return ht},setHistoryMaxSize:function(t){ht=t},setLevel:function(t){for(var n in vt=t,dt)dt[n]=t},getLevel:function(){return vt},get:function(t){dt[t]||(dt[t]=vt);var n=L.get(t);return n.setLevel=function(n){dt[t]=n},n.getLevel=function(){return dt[t]},n},setHandler:function(t,n){lt.push({handler:t,level:n})},diagnose:function(t){var n;void 0===t&&(t={});var i={statsCount:60,historySize:1e3,minLogLevel:"TRACE",statsFormat:"JSON"};"number"==typeof t?(i.statsCount=t,n=i):n=w(w({},i),t);var r=n.statsCount,e=n.historySize,u=n.minLogLevel,s=n.statsFormat,o=rt(r,s),a=gt.getHistory();if(!Number.isInteger(e)||e<=0)throw new p("Invalid Argument Exception : historySize must be a positive integer.");if(!ut.includes(u.toUpperCase()))throw new p('Invalid Argument Exception : the minLogLevel parameter only excepts "trace", "debug", "info", "warn", and "error" as arguments.');if(ut.includes(u.toUpperCase())){var c=ut.slice(ut.indexOf(u.toUpperCase())),h=a.filter((function(t){return c.some((function(n){return t.includes(n)}))}));o.history=h.slice(-e)}return o},JSON:"JSON",CMCD:"CMCD",VERSION:M}),wt={exports:{}},mt="object"==("undefined"==typeof Reflect?"undefined":U(Reflect))?Reflect:null,yt=mt&&"function"==typeof mt.apply?mt.apply:function(t,n,i){return Function.prototype.apply.call(t,n,i)};ct=mt&&"function"==typeof mt.ownKeys?mt.ownKeys:b.getOwnPropertySymbols?function(t){return b.getOwnPropertyNames(t).concat(b.getOwnPropertySymbols(t))}:function(t){return b.getOwnPropertyNames(t)};var pt=Number.isNaN||function(t){return t!=t};function _t(){_t.init.call(this)}wt.exports=_t,wt.exports.once=function(t,n){return new et((function(i,r){function e(i){t.removeListener(n,u),r(i)}function u(){"function"==typeof t.removeListener&&t.removeListener("error",e),i([].slice.call(arguments))}Pt(t,n,u,{once:!0}),"error"!==n&&function(t,n,i){"function"==typeof t.on&&Pt(t,"error",n,i)}(t,e,{once:!0})}))},_t.EventEmitter=_t,_t.prototype.Kf=void 0,_t.prototype.jf=0,_t.prototype.Qf=void 0;var bt=10;function kt(t){if("function"!=typeof t)throw new _('The "listener" argument must be of type Function. Received type '+(void 0===t?"undefined":U(t)))}function At(t){return void 0===t.Qf?_t.defaultMaxListeners:t.Qf}function Tt(t,n,i,r){var e,u,s;if(kt(i),void 0===(u=t.Kf)?(u=t.Kf=b.create(null),t.jf=0):(void 0!==u.newListener&&(t.emit("newListener",n,i.listener?i.listener:i),u=t.Kf),s=u[n]),void 0===s)s=u[n]=i,++t.jf;else if("function"==typeof s?s=u[n]=r?[i,s]:[s,i]:r?s.unshift(i):s.push(i),(e=At(t))>0&&s.length>e&&!s.warned){s.warned=!0;var o=new p("Possible EventEmitter memory leak detected. "+s.length+" "+String(n)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=t,o.type=n,o.count=s.length,function(t){console&&console.warn&&console.warn(t)}(o)}return t}function St(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Et(t,n,i){var r={fired:!1,wrapFn:void 0,target:t,type:n,listener:i},e=St.bind(r);return e.listener=i,r.wrapFn=e,e}function Rt(t,n,i){var r=t.Kf;if(void 0===r)return[];var e=r[n];return void 0===e?[]:"function"==typeof e?i?[e.listener||e]:[e]:i?function(t){for(var n=new Array(t.length),i=0;i<n.length;++i)n[i]=t[i].listener||t[i];return n}(e):Dt(e,e.length)}function Ct(t){var n=this.Kf;if(void 0!==n){var i=n[t];if("function"==typeof i)return 1;if(void 0!==i)return i.length}return 0}function Dt(t,n){for(var i=new Array(n),r=0;r<n;++r)i[r]=t[r];return i}function Pt(t,n,i,r){if("function"==typeof t.on)r.once?t.once(n,i):t.on(n,i);else{if("function"!=typeof t.addEventListener)throw new _('The "emitter" argument must be of type EventEmitter. Received type '+(void 0===t?"undefined":U(t)));t.addEventListener(n,(function e(u){r.once&&t.removeEventListener(n,e),i(u)}))}}b.defineProperty(_t,"defaultMaxListeners",{enumerable:!0,get:function(){return bt},set:function(t){if("number"!=typeof t||t<0||pt(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");bt=t}}),_t.init=function(){(void 0===this.Kf||this.Kf===b.getPrototypeOf(this).Kf)&&(this.Kf=b.create(null),this.jf=0),this.Qf=this.Qf||void 0},_t.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||pt(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this.Qf=t,this},_t.prototype.getMaxListeners=function(){return At(this)},_t.prototype.emit=function(t){for(var n=[],i=1;i<arguments.length;i++)n.push(arguments[i]);var r="error"===t,e=this.Kf;if(void 0!==e)r=r&&void 0===e.error;else if(!r)return!1;if(r){var u;if(n.length>0&&(u=n[0]),u instanceof p)throw u;var s=new p("Unhandled error."+(u?" ("+u.message+")":""));throw s.context=u,s}var o=e[t];if(void 0===o)return!1;if("function"==typeof o)yt(o,this,n);else{var a=o.length,c=Dt(o,a);for(i=0;i<a;++i)yt(c[i],this,n)}return!0},_t.prototype.addListener=function(t,n){return Tt(this,t,n,!1)},_t.prototype.on=_t.prototype.addListener,_t.prototype.prependListener=function(t,n){return Tt(this,t,n,!0)},_t.prototype.once=function(t,n){return kt(n),this.on(t,Et(this,t,n)),this},_t.prototype.prependOnceListener=function(t,n){return kt(n),this.prependListener(t,Et(this,t,n)),this},_t.prototype.removeListener=function(t,n){var i,r,e,u,s;if(kt(n),void 0===(r=this.Kf))return this;if(void 0===(i=r[t]))return this;if(i===n||i.listener===n)0==--this.jf?this.Kf=b.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,i.listener||n));else if("function"!=typeof i){for(e=-1,u=i.length-1;u>=0;u--)if(i[u]===n||i[u].listener===n){s=i[u].listener,e=u;break}if(e<0)return this;0===e?i.shift():function(t,n){for(;n+1<t.length;n++)t[n]=t[n+1];t.pop()}(i,e),1===i.length&&(r[t]=i[0]),void 0!==r.removeListener&&this.emit("removeListener",t,s||n)}return this},_t.prototype.off=_t.prototype.removeListener,_t.prototype.removeAllListeners=function(t){var n,i,r;if(void 0===(i=this.Kf))return this;if(void 0===i.removeListener)return 0===arguments.length?(this.Kf=b.create(null),this.jf=0):void 0!==i[t]&&(0==--this.jf?this.Kf=b.create(null):delete i[t]),this;if(0===arguments.length){var e,u=b.keys(i);for(r=0;r<u.length;++r)"removeListener"!==(e=u[r])&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this.Kf=b.create(null),this.jf=0,this}if("function"==typeof(n=i[t]))this.removeListener(t,n);else if(void 0!==n)for(r=n.length-1;r>=0;r--)this.removeListener(t,n[r]);return this},_t.prototype.listeners=function(t){return Rt(this,t,!0)},_t.prototype.rawListeners=function(t){return Rt(this,t,!1)},_t.listenerCount=function(t,n){return"function"==typeof t.listenerCount?t.listenerCount(n):Ct.call(t,n)},_t.prototype.listenerCount=Ct,_t.prototype.eventNames=function(){return this.jf>0?ct(this.Kf):[]};var xt=wt.exports,Lt=D(xt),Mt={exports:{}};Mt.exports=Bt,Mt.exports.filter=function(t,n){var i=new Ot;return Bt(t,i,n),i};var Ot=xt.EventEmitter;function Bt(t,n,i){Array.isArray(i)||(i=[i]);var r=[];return i.forEach((function(i){var e=function(){var t=[].slice.call(arguments);t.unshift(i),n.emit.apply(n,t)};r.push(e),t.on(i,e)})),function(){i.forEach((function(n,i){t.removeListener(n,r[i])}))}}var Vt=D(Mt.exports),Ut={exports:{}};!function(t,n){var i,r;self,t.exports=(i={7:function(t){var n,i=function(t){if("function"!=typeof t)throw new _('The "listener" argument must be of type Function. Received type '+(void 0===t?"undefined":U(t)))},r=function(t){return void 0===t.Qf?l.defaultMaxListeners:t.Qf},e=function(t,n,e,u){var s,o,a,c;if(i(e),void 0===(o=t.Kf)?(o=t.Kf=b.create(null),t.jf=0):(void 0!==o.newListener&&(t.emit("newListener",n,e.listener?e.listener:e),o=t.Kf),a=o[n]),void 0===a)a=o[n]=e,++t.jf;else if("function"==typeof a?a=o[n]=u?[e,a]:[a,e]:u?a.unshift(e):a.push(e),(s=r(t))>0&&a.length>s&&!a.warned){a.warned=!0;var h=new p("Possible EventEmitter memory leak detected. "+a.length+" "+String(n)+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name="MaxListenersExceededWarning",h.emitter=t,h.type=n,h.count=a.length,c=h,console&&console.warn&&console.warn(c)}return t},u=function(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)},s=function(t,n,i){var r={fired:!1,wrapFn:void 0,target:t,type:n,listener:i},e=u.bind(r);return e.listener=i,r.wrapFn=e,e},o=function(t,n,i){var r=t.Kf;if(void 0===r)return[];var e=r[n];return void 0===e?[]:"function"==typeof e?i?[e.listener||e]:[e]:i?function(t){for(var n=new Array(t.length),i=0;i<n.length;++i)n[i]=t[i].listener||t[i];return n}(e):c(e,e.length)},a=function(t){var n=this.Kf;if(void 0!==n){var i=n[t];if("function"==typeof i)return 1;if(void 0!==i)return i.length}return 0},c=function(t,n){for(var i=new Array(n),r=0;r<n;++r)i[r]=t[r];return i},h=function(t,n,i,r){if("function"==typeof t.on)r.once?t.once(n,i):t.on(n,i);else{if("function"!=typeof t.addEventListener)throw new _('The "emitter" argument must be of type EventEmitter. Received type '+(void 0===t?"undefined":U(t)));t.addEventListener(n,(function e(u){r.once&&t.removeEventListener(n,e),i(u)}))}},f="object"==("undefined"==typeof Reflect?"undefined":U(Reflect))?Reflect:null,v=f&&"function"==typeof f.apply?f.apply:function(t,n,i){return Function.prototype.apply.call(t,n,i)};n=f&&"function"==typeof f.ownKeys?f.ownKeys:b.getOwnPropertySymbols?function(t){return b.getOwnPropertyNames(t).concat(b.getOwnPropertySymbols(t))}:function(t){return b.getOwnPropertyNames(t)};var d=Number.isNaN||function(t){return t!=t};function l(){l.init.call(this)}t.exports=l,t.exports.once=function(t,n){return new et((function(i,r){function e(i){t.removeListener(n,u),r(i)}function u(){"function"==typeof t.removeListener&&t.removeListener("error",e),i([].slice.call(arguments))}var s,o;h(t,n,u,{once:!0}),"error"!==n&&(o=e,"function"==typeof(s=t).on&&h(s,"error",o,{once:!0}))}))},l.EventEmitter=l,l.prototype.Kf=void 0,l.prototype.jf=0,l.prototype.Qf=void 0;var g=10;b.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return g},set:function(t){if("number"!=typeof t||t<0||d(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");g=t}}),l.init=function(){void 0!==this.Kf&&this.Kf!==b.getPrototypeOf(this).Kf||(this.Kf=b.create(null),this.jf=0),this.Qf=this.Qf||void 0},l.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||d(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this.Qf=t,this},l.prototype.getMaxListeners=function(){return r(this)},l.prototype.emit=function(t){for(var n=[],i=1;i<arguments.length;i++)n.push(arguments[i]);var r="error"===t,e=this.Kf;if(void 0!==e)r=r&&void 0===e.error;else if(!r)return!1;if(r){var u;if(n.length>0&&(u=n[0]),u instanceof p)throw u;var s=new p("Unhandled error."+(u?" ("+u.message+")":""));throw s.context=u,s}var o=e[t];if(void 0===o)return!1;if("function"==typeof o)v(o,this,n);else{var a=o.length,h=c(o,a);for(i=0;i<a;++i)v(h[i],this,n)}return!0},l.prototype.addListener=function(t,n){return e(this,t,n,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(t,n){return e(this,t,n,!0)},l.prototype.once=function(t,n){return i(n),this.on(t,s(this,t,n)),this},l.prototype.prependOnceListener=function(t,n){return i(n),this.prependListener(t,s(this,t,n)),this},l.prototype.removeListener=function(t,n){var r,e,u,s,o;if(i(n),void 0===(e=this.Kf))return this;if(void 0===(r=e[t]))return this;if(r===n||r.listener===n)0==--this.jf?this.Kf=b.create(null):(delete e[t],e.removeListener&&this.emit("removeListener",t,r.listener||n));else if("function"!=typeof r){for(u=-1,s=r.length-1;s>=0;s--)if(r[s]===n||r[s].listener===n){o=r[s].listener,u=s;break}if(u<0)return this;0===u?r.shift():function(t,n){for(;n+1<t.length;n++)t[n]=t[n+1];t.pop()}(r,u),1===r.length&&(e[t]=r[0]),void 0!==e.removeListener&&this.emit("removeListener",t,o||n)}return this},l.prototype.off=l.prototype.removeListener,l.prototype.removeAllListeners=function(t){var n,i,r;if(void 0===(i=this.Kf))return this;if(void 0===i.removeListener)return 0===arguments.length?(this.Kf=b.create(null),this.jf=0):void 0!==i[t]&&(0==--this.jf?this.Kf=b.create(null):delete i[t]),this;if(0===arguments.length){var e,u=b.keys(i);for(r=0;r<u.length;++r)"removeListener"!==(e=u[r])&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this.Kf=b.create(null),this.jf=0,this}if("function"==typeof(n=i[t]))this.removeListener(t,n);else if(void 0!==n)for(r=n.length-1;r>=0;r--)this.removeListener(t,n[r]);return this},l.prototype.listeners=function(t){return o(this,t,!0)},l.prototype.rawListeners=function(t){return o(this,t,!1)},l.listenerCount=function(t,n){return"function"==typeof t.listenerCount?t.listenerCount(n):a.call(t,n)},l.prototype.listenerCount=a,l.prototype.eventNames=function(){return this.jf>0?n(this.Kf):[]}},586:function(t,n,i){var r,e;!function(u){var s,o={VERSION:"1.6.1"},a={},c=function(t,n){return function(){return n.apply(t,arguments)}},h=function(){var t,n,i=arguments,r=i[0];for(n=1;n<i.length;n++)for(t in i[n])!(t in r)&&i[n].hasOwnProperty(t)&&(r[t]=i[n][t]);return r},f=function(t,n){return{value:t,name:n}};o.TRACE=f(1,"TRACE"),o.DEBUG=f(2,"DEBUG"),o.INFO=f(3,"INFO"),o.TIME=f(4,"TIME"),o.WARN=f(5,"WARN"),o.ERROR=f(8,"ERROR"),o.OFF=f(99,"OFF");var v=function(t){this.context=t,this.setLevel(t.filterLevel),this.log=this.info};v.prototype={setLevel:function(t){t&&"value"in t&&(this.context.filterLevel=t)},getLevel:function(){return this.context.filterLevel},enabledFor:function(t){var n=this.context.filterLevel;return t.value>=n.value},trace:function(){this.invoke(o.TRACE,arguments)},debug:function(){this.invoke(o.DEBUG,arguments)},info:function(){this.invoke(o.INFO,arguments)},warn:function(){this.invoke(o.WARN,arguments)},error:function(){this.invoke(o.ERROR,arguments)},time:function(t){"string"==typeof t&&t.length>0&&this.invoke(o.TIME,[t,"start"])},timeEnd:function(t){"string"==typeof t&&t.length>0&&this.invoke(o.TIME,[t,"end"])},invoke:function(t,n){s&&this.enabledFor(t)&&s(n,h({level:t},this.context))}};var d,l=new v({filterLevel:o.OFF});(d=o).enabledFor=c(l,l.enabledFor),d.trace=c(l,l.trace),d.debug=c(l,l.debug),d.time=c(l,l.time),d.timeEnd=c(l,l.timeEnd),d.info=c(l,l.info),d.warn=c(l,l.warn),d.error=c(l,l.error),d.log=d.info,o.setHandler=function(t){s=t},o.setLevel=function(t){for(var n in l.setLevel(t),a)a.hasOwnProperty(n)&&a[n].setLevel(t)},o.getLevel=function(){return l.getLevel()},o.get=function(t){return a[t]||(a[t]=new v(h({name:t},l.context)))},o.createDefaultHandler=function(t){(t=t||{}).formatter=t.formatter||function(t,n){n.name&&t.unshift("["+n.name+"]")};var n={},i=function(t,n){Function.prototype.apply.call(t,console,n)};return("undefined"==typeof console?"undefined":U(console))>"u"?function(){}:function(r,e){r=Array.prototype.slice.call(r);var u,s=console.log;e.level===o.TIME?(u=(e.name?"["+e.name+"] ":"")+r[0],"start"===r[1]?console.time?console.time(u):n[u]=(new Date).getTime():console.timeEnd?console.timeEnd(u):i(s,[u+": "+((new Date).getTime()-n[u])+"ms"])):(e.level===o.WARN&&console.warn?s=console.warn:e.level===o.ERROR&&console.error?s=console.error:e.level===o.INFO&&console.info?s=console.info:e.level===o.DEBUG&&console.debug?s=console.debug:e.level===o.TRACE&&console.trace&&(s=console.trace),t.formatter(r,e),i(s,r))}},o.useDefaults=function(t){o.setLevel(t&&t.defaultLevel||o.DEBUG),o.setHandler(o.createDefaultHandler(t))},o.setDefaults=o.useDefaults,void 0===(e="function"==typeof(r=o)?r.call(n,i,n,t):r)||(t.exports=e)}()},156:function(t,n,i){var r=this&&this.Jf||(b.create?function(t,n,i,r){void 0===r&&(r=i);var e=b.getOwnPropertyDescriptor(n,i);e&&!("get"in e?!n.__esModule:e.writable||e.configurable)||(e={enumerable:!0,get:function(){return n[i]}}),b.defineProperty(t,r,e)}:function(t,n,i,r){void 0===r&&(r=i),t[r]=n[i]}),e=this&&this.$f||function(t,n){for(var i in t)"default"===i||b.prototype.hasOwnProperty.call(n,i)||r(n,t,i)},u=this&&this.t_||function(t){return t&&t.__esModule?t:{default:t}};b.defineProperty(n,"__esModule",{value:!0}),n.Logger=void 0;var s=i(586);b.defineProperty(n,"Logger",{enumerable:!0,get:function(){return u(s).default}}),e(i(284),n),e(i(280),n),e(i(738),n),e(i(767),n)},738:function(t,n){var i,r;b.defineProperty(n,"__esModule",{value:!0}),n.QualityLimitationReason=void 0,(r=i||(n.QualityLimitationReason=i={}))[r.none=0]="none",r[r.cpu=1]="cpu",r[r.bandwidth=2]="bandwidth",r[r.other=3]="other"},280:function(t,n){b.defineProperty(n,"__esModule",{value:!0})},767:function(t,n){b.defineProperty(n,"__esModule",{value:!0})},185:function(t,n){b.defineProperty(n,"__esModule",{value:!0}),n.calculatePacketsLostRatio=n.calculateRate=n.getMediaKind=void 0,n.getMediaKind=function(t){var n=t.kind||t.mediaType;return["audio","video"].includes(n)||"inbound-rtp"!==t.type||(n=t.id.toLocaleLowerCase().includes("video")?"video":"audio"),n},n.calculateRate=function(t,n,i,r){return i&&r?(n-r)/((t-i)/1e3):0},n.calculatePacketsLostRatio=function(t,n,i,r){return 0==n?0:(t-(null!=i?i:0))/(n-(null!=r?r:0))}},284:function(t,n,i){var r,e,u,s,o,a,c,h,f,v,d,l,g,w,p,k,A=this&&this.e_||function(t,n,i,r){return new(i||(i=et))((function(e,u){function s(t){try{a(r.next(t))}catch(t){u(t)}}function o(t){try{a(r.throw(t))}catch(t){u(t)}}function a(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(t){t(n)}))).then(s,o)}a((r=r.apply(t,n||[])).next())}))},T=this&&this.i_||function(t,n,i,r,e){if("m"===r)throw new _("Private method is not writable");if("a"===r&&!e)throw new _("Private accessor was defined without a setter");if("function"==typeof n?t!==n||!e:!n.has(t))throw new _("Cannot write private member to an object whose class did not declare it");return"a"===r?e.call(t,i):e?e.value=i:n.set(t,i),i},S=this&&this.s_||function(t,n,i,r){if("a"===i&&!r)throw new _("Private accessor was defined without a getter");if("function"==typeof n?t!==n||!r:!n.has(t))throw new _("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(t):r?r.value:n.get(t)},E=this&&this.t_||function(t){return t&&t.__esModule?t:{default:t}};b.defineProperty(n,"__esModule",{value:!0}),n.WebRTCStats=void 0;var I=i(7),R=E(i(586)),C=i(738),N=i(185),D=function(t){function n(n){var i;return i=t.call(this)||this,r.add(i),e.set(i,void 0),u.set(i,void 0),s.set(i,void 0),o.set(i,null),a.set(i,void 0),c.set(i,null),i.start=function(){S(i,a,"f").info("WebRTC statistics collection is starting..."),T(i,c,null,"f"),T(i,o,m(S(i,h,"f"),S(i,u,"f")),"f")},i.stop=function(){S(i,o,"f")&&(y(S(i,o,"f")),T(i,o,null,"f"),S(i,a,"f").info("WebRTC statistics collection has stopped."))},h.set(i,(function(){return A(i,void 0,void 0,(function(){var t,n,i,u,o,h,f,v,g,m,y,_;return Ht(this,(function(A){switch(A.label){case 0:return A.trys.push([0,2,,3]),S(this,a,"f").trace("Requesting WebRTC statistics..."),[4,S(this,e,"f").call(this)];case 1:return t=A.sent(),n=(new Date).toISOString(),[3,3];case 2:return i=A.sent(),[2,(S(this,a,"f").error("Problem collecting the WebRTC statistics.",i),void this.emit("error","Problem collecting the WebRTC statistics - ".concat(i)))];case 3:u=Array.from(t.values()),o={timestamp:n,input:{audio:[],video:[]},output:{audio:[],video:[]}},S(this,s,"f")&&(o.rawStats=t),h=0,A.label=4;case 4:if(!(h<b.keys(u).length))return[3,19];switch((f=u[h]).type){case"outbound-rtp":return[3,5];case"inbound-rtp":return[3,11];case"candidate-pair":return[3,17]}return[3,18];case 5:return v=f,"audio"!==(g=(0,N.getMediaKind)(v))?[3,7]:[4,S(this,r,"m",d).call(this,t,v,o)];case 6:return A.sent(),[3,10];case 7:return"video"===g?[4,S(this,r,"m",l).call(this,t,v,o)]:[3,9];case 8:A.sent(),A.label=9;case 9:A.label=10;case 10:return[3,18];case 11:return m=f,"audio"!==(y=(0,N.getMediaKind)(m))?[3,13]:[4,S(this,r,"m",w).call(this,t,m,o)];case 12:return A.sent(),[3,16];case 13:return"video"===y?[4,S(this,r,"m",p).call(this,t,m,o)]:[3,15];case 14:A.sent(),A.label=15;case 15:A.label=16;case 16:return[3,18];case 17:(_=f).nominated&&S(this,r,"m",k).call(this,_,o),A.label=18;case 18:return h++,[3,4];case 19:return T(this,c,o,"f"),this.emit("stats",o),[2]}}))}))})),T(i,a,R.default.get("WebRTCStats"),"f"),T(i,e,n.getStats,"f"),T(i,u,n.getStatsInterval||1e3,"f"),T(i,s,!!n.includeRawStats,"f"),i}return It(n,t),n}(I.EventEmitter);n.WebRTCStats=D,e=new WeakMap,u=new WeakMap,s=new WeakMap,o=new WeakMap,a=new WeakMap,c=new WeakMap,h=new WeakMap,r=new WeakSet,f=function(t,n){if(n){var i=t.get(n);if(i)return{mimeType:i.mimeType}}return{}},v=function(t,n,i){return A(this,void 0,void 0,(function(){var e,u,s,o,a,c,h;return Ht(this,(function(v){return a=(0,N.calculateRate)(n.timestamp,n.bytesSent,null==i?void 0:i.timestamp,null==i?void 0:i.totalBytesSent),c=(0,N.calculateRate)(n.timestamp,n.packetsSent,null==i?void 0:i.timestamp,null==i?void 0:i.totalPacketsSent),h=S(this,r,"m",f).call(this,t,n.codecId),[2,b.assign({id:n.id,timestamp:n.timestamp,mid:n.mid,totalBytesSent:n.bytesSent,bytesSentDelta:n.bytesSent-(null!==(e=null==i?void 0:i.totalBytesSent)&&void 0!==e?e:0),totalPacketsSent:n.packetsSent,packetsSentDelta:n.packetsSent-(null!==(u=null==i?void 0:i.totalPacketsSent)&&void 0!==u?u:0),bitrate:a,packetRate:c,targetBitrate:n.targetBitrate,retransmittedPacketsSent:n.retransmittedPacketsSent,retransmittedPacketsSentDelta:n.retransmittedPacketsSent-(null!==(s=null==i?void 0:i.retransmittedPacketsSent)&&void 0!==s?s:0),retransmittedBytesSent:n.retransmittedBytesSent,retransmittedBytesSentDelta:n.retransmittedBytesSent-(null!==(o=null==i?void 0:i.retransmittedBytesSent)&&void 0!==o?o:0)},h)]}))}))},d=function(t,n,i){return A(this,void 0,void 0,(function(){var e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return(u=null===(e=S(this,c,"f"))||void 0===e?void 0:e.output.audio.find((function(t){return t.id===n.id})))&&n.timestamp-u.timestamp<=0?[2]:[4,S(this,r,"m",v).call(this,t,n,u)];case 1:return s=a.sent(),o=b.assign({},s),i.output.audio.push(o),[2]}}))}))},l=function(t,n,i){return A(this,void 0,void 0,(function(){var e,u,s,o,a;return Ht(this,(function(h){switch(h.label){case 0:return(u=null===(e=S(this,c,"f"))||void 0===e?void 0:e.output.video.find((function(t){return t.id===n.id})))&&n.timestamp-u.timestamp<=0?[2]:[4,S(this,r,"m",v).call(this,t,n,u)];case 1:return s=h.sent(),o=C.QualityLimitationReason.none,n.qualityLimitationReason&&(o=n.qualityLimitationReason),a=b.assign(b.assign({},s),{frameWidth:n.frameWidth,frameHeight:n.frameHeight,framesPerSecond:n.framesPerSecond,framesSent:n.framesSent,qualityLimitationReason:o,qualityLimitationDurations:n.qualityLimitationDurations}),i.output.video.push(a),[2]}}))}))},g=function(t,n,i){return A(this,void 0,void 0,(function(){var e,u,s,o,a,c,h;return Ht(this,(function(v){return s=(0,N.calculateRate)(n.timestamp,n.bytesReceived,null==i?void 0:i.timestamp,null==i?void 0:i.totalBytesReceived),o=(0,N.calculateRate)(n.timestamp,n.packetsReceived,null==i?void 0:i.timestamp,null==i?void 0:i.totalPacketsReceived),a=(0,N.calculatePacketsLostRatio)(n.packetsReceived,n.packetsLost,null==i?void 0:i.totalPacketsReceived,null==i?void 0:i.totalPacketsLost),c=(null!==(e=n.packetsLost)&&void 0!==e?e:0)-(null!==(u=null==i?void 0:i.totalPacketsLost)&&void 0!==u?u:0),h=S(this,r,"m",f).call(this,t,n.codecId),[2,b.assign({id:n.id,timestamp:n.timestamp,mid:n.mid,trackIdentifier:n.trackIdentifier,jitter:n.jitter,jitterBufferDelay:n.jitterBufferDelay,jitterBufferEmittedCount:n.jitterBufferEmittedCount,totalBytesReceived:n.bytesReceived,totalPacketsReceived:n.packetsReceived,totalPacketsLost:n.packetsLost,bitrate:s,packetRate:o,packetLossRatio:a,packetLossDelta:c},h)]}))}))},w=function(t,n,i){return A(this,void 0,void 0,(function(){var e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return(u=null===(e=S(this,c,"f"))||void 0===e?void 0:e.input.audio.find((function(t){return t.id===n.id})))&&n.timestamp-u.timestamp<=0?[2]:[4,S(this,r,"m",g).call(this,t,n,u)];case 1:return s=o.sent(),i.input.audio.push(s),[2]}}))}))},p=function(t,n,i){return A(this,void 0,void 0,(function(){var e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return(u=null===(e=S(this,c,"f"))||void 0===e?void 0:e.input.video.find((function(t){return t.id===n.id})))&&n.timestamp-u.timestamp<=0?[2]:[4,S(this,r,"m",g).call(this,t,n,u)];case 1:return s=a.sent(),o=b.assign(b.assign({},s),{keyFramesDecoded:n.keyFramesDecoded,frameHeight:n.frameHeight,frameWidth:n.frameWidth,framesDecoded:n.framesDecoded,framesDropped:n.framesDropped,framesPerSecond:n.framesPerSecond,framesReceived:n.framesReceived}),i.input.video.push(o),[2]}}))}))},k=function(t,n){n.totalRoundTripTime=t.totalRoundTripTime,n.currentRoundTripTime=t.currentRoundTripTime,n.responsesReceived=t.responsesReceived,n.availableOutgoingBitrate=t.availableOutgoingBitrate,n.availableIncomingBitrate=t.availableIncomingBitrate}}},r={},function t(n){var e=r[n];if(void 0!==e)return e.exports;var u=r[n]={exports:{}};return i[n].call(u.exports,u,u.exports,t),u.exports}(156))}(Ut);var Wt=Ut.exports,Xt=gt.get("PeerConnectionStats"),Gt="stats",Yt=function(t){function n(n,i){var r;return void 0===i&&(i={statsIntervalMs:1e3,autoInitStats:!0}),(r=t.call(this)||this).peer=n,r.collection=null,r.initialized=!1,i.autoInitStats&&r.init(i.statsIntervalMs),r}It(n,t);var i=n.prototype;return i.init=function(t){var n=this;if(this.initialized)Xt.warn("PeerConnectionStats.init() has already been called. Automatic initialization occurs when the PeerConnectionStats object is constructed.");else{Xt.info("Initializing peer connection stats");var i=this.peer;try{this.collection=new Wt.WebRTCStats({getStatsInterval:t,getStats:function(){return i.getStats()},includeRawStats:!0}),this.collection.on("stats",(function(t){var i=function(t){var n=t,i=(n.input,n.output,n.rawStats,C(n,["input","output","rawStats"]));return R(w({},i),{audio:{inbounds:t.input.audio.map((function(t){var n=t,i=n.packetLossRatio,r=n.packetLossDelta,e=n.bitrate,u=C(n,["packetLossRatio","packetLossDelta","bitrate"]);return w({packetsLostRatioPerSecond:i,packetsLostDeltaPerSecond:r,bitrateBitsPerSecond:8*e,bitrate:e},u)})),outbounds:t.output.audio.map((function(t){var n=t,i=n.packetLossRatio,r=n.packetLossDelta,e=n.bitrate,u=C(n,["packetLossRatio","packetLossDelta","bitrate"]);return w({packetsLostRatioPerSecond:i,packetsLostDeltaPerSecond:r,bitrateBitsPerSecond:8*e,bitrate:e},u)}))},video:{inbounds:t.input.video.map((function(t){var n=t,i=n.packetLossRatio,r=n.packetLossDelta,e=n.bitrate,u=C(n,["packetLossRatio","packetLossDelta","bitrate"]);return w({packetsLostRatioPerSecond:i,packetsLostDeltaPerSecond:r,bitrateBitsPerSecond:8*e,bitrate:e},u)})),outbounds:t.output.video.map((function(t){var n=t,i=n.packetLossRatio,r=n.packetLossDelta,e=n.bitrate,u=C(n,["packetLossRatio","packetLossDelta","bitrate"]);return w({packetsLostRatioPerSecond:i,packetsLostDeltaPerSecond:r,bitrateBitsPerSecond:8*e,bitrate:e},u)}))},raw:t.rawStats})}(t);it(i),n.emit(Gt,i)})),this.collection.start(),this.initialized=!0}catch(t){Xt.error(t)}}},i.parseStats=function(t){return Xt.warn("The parseStats method is deprecated and will be removed in future releases."),null},i.stop=function(){Xt.info("Stopping peer connection stats"),this.collection.stop()},n}(Lt),jt={},Kt={},qt={},Jt={exports:{}},Qt=Jt.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(t){return t.encoding?"rtpmap:%d %s/%s/%s":t.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(t){return null!=t.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(t){return null!=t.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(t){return"extmap:%d"+(t.direction?"/%s":"%v")+(t["encrypt-uri"]?" %s":"%v")+" %s"+(t.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(t){return null!=t.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(t){var n="candidate:%s %d %s %d %s %d typ %s";return n+=null!=t.raddr?" raddr %s rport %d":"%v%v",n+=null!=t.tcptype?" tcptype %s":"%v",null!=t.generation&&(n+=" generation %d"),n+=null!=t["network-id"]?" network-id %d":"%v",n+=null!=t["network-cost"]?" network-cost %d":"%v"}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(t){var n="ssrc:%d";return null!=t.attribute&&(n+=" %s",null!=t.value&&(n+=":%s")),n}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(t){return null!=t.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(t){return t.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(t){return"imageattr:%s %s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(t){return"simulcast:%s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(t){return"ts-refclk:%s"+(null!=t.clksrcExt?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(t){var n="mediaclk:";return n+=null!=t.id?"id=%s %s":"%v%s",n+=null!=t.mediaClockValue?"=%s":"",n+=null!=t.rateNumerator?" rate=%s":"",n+=null!=t.rateDenominator?"/%s":""}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};b.keys(Qt).forEach((function(t){Qt[t].forEach((function(t){t.reg||(t.reg=/(.*)/),t.format||(t.format="%s")}))}));var $t=Jt.exports;!function(t){var n=function(t){return String(Number(t))===t?Number(t):t},i=function(t,i,r){var e=t.name&&t.names;t.push&&!i[t.push]?i[t.push]=[]:e&&!i[t.name]&&(i[t.name]={});var u=t.push?{}:e?i[t.name]:i;(function(t,i,r,e){if(e&&!r)i[e]=n(t[1]);else for(var u=0;u<r.length;u+=1)null!=t[u+1]&&(i[r[u]]=n(t[u+1]))})(r.match(t.reg),u,t.names,t.name),t.push&&i[t.push].push(u)},r=$t,e=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(t){var n={},u=[],s=n;return t.split(/(\r\n|\r|\n)/).filter(e).forEach((function(t){var n=t[0],e=t.slice(2);"m"===n&&(u.push({rtp:[],fmtp:[]}),s=u[u.length-1]);for(var o=0;o<(r[n]||[]).length;o+=1){var a=r[n][o];if(a.reg.test(e))return i(a,s,e)}})),n.media=u,n};var u=function(t,i){var r=i.split(/=(.+)/,2);return 2===r.length?t[r[0]]=n(r[1]):1===r.length&&i.length>1&&(t[r[0]]=void 0),t};t.parseParams=function(t){return t.split(/;\s?/).reduce(u,{})},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(t){return t.toString().split(" ").map(Number)},t.parseRemoteCandidates=function(t){for(var i=[],r=t.split(" ").map(n),e=0;e<r.length;e+=3)i.push({component:r[e],ip:r[e+1],port:r[e+2]});return i},t.parseImageAttributes=function(t){return t.split(" ").map((function(t){return t.substring(1,t.length-1).split(",").reduce(u,{})}))},t.parseSimulcastStreamList=function(t){return t.split(";").map((function(t){return t.split(",").map((function(t){var i,r=!1;return"~"!==t[0]?i=n(t):(i=n(t.substring(1,t.length)),r=!0),{scid:i,paused:r}}))}))}}(qt);var nn=$t,rn=/%[sdv%]/g,en=function(t){var n=1,i=arguments,r=i.length;return t.replace(rn,(function(t){if(n>=r)return t;var e=i[n];switch(n+=1,t){case"%%":return"%";case"%s":return String(e);case"%d":return Number(e);case"%v":return""}}))},sn=function(t,n,i){var r=[t+"="+(n.format instanceof Function?n.format(n.push?i:i[n.name]):n.format)];if(n.names)for(var e=0;e<n.names.length;e+=1){var u=n.names[e];n.name?r.push(i[n.name][u]):r.push(i[n.names[e]])}else r.push(i[n.name]);return en.apply(null,r)},on=["v","o","s","i","u","e","p","c","b","t","r","z","a"],an=["i","c","b","a"],cn=qt,fn=function(t,n){n=n||{},null==t.version&&(t.version=0),null==t.name&&(t.name=" "),t.media.forEach((function(t){null==t.payloads&&(t.payloads="")}));var i=n.outerOrder||on,r=n.innerOrder||an,e=[];return i.forEach((function(n){nn[n].forEach((function(i){i.name in t&&null!=t[i.name]?e.push(sn(n,i,t)):i.push in t&&null!=t[i.push]&&t[i.push].forEach((function(t){e.push(sn(n,i,t))}))}))})),t.media.forEach((function(t){e.push(sn("m",nn.m[0],t)),r.forEach((function(n){nn[n].forEach((function(i){i.name in t&&null!=t[i.name]?e.push(sn(n,i,t)):i.push in t&&null!=t[i.push]&&t[i.push].forEach((function(t){e.push(sn(n,i,t))}))}))}))})),e.join("\r\n")+"\r\n"};Kt.write=fn,Kt.parse=cn.parse,Kt.parseParams=cn.parseParams,Kt.parseFmtpConfig=cn.parseFmtpConfig,Kt.parsePayloads=cn.parsePayloads,Kt.parseRemoteCandidates=cn.parseRemoteCandidates,Kt.parseImageAttributes=cn.parseImageAttributes,Kt.parseSimulcastStreamList=cn.parseSimulcastStreamList;var vn=function(){function t(t,n,i,r,e,u,s,o,a){this.foundation=t,this.componentId=n,this.transport=i,this.priority=r,this.address=e,this.port=u,this.type=s,this.relAddr=o,this.relPort=a}var n=t.prototype;return n.equals=function(t){return t.foundation===this.foundation&&t.componentId===this.componentId&&t.transport===this.transport&&t.priority===this.priority&&t.address===this.address&&t.port===this.port&&t.type===this.type&&t.relAddr===this.relAddr&&t.relPort===this.relPort},n.clone=function(){return new t(this.foundation,this.componentId,this.transport,this.priority,this.address,this.port,this.type,this.relAddr,this.relPort)},n.plain=function(){var t={foundation:this.foundation,componentId:this.componentId,transport:this.transport,priority:this.priority,address:this.address,port:this.port,type:this.type};return this.relAddr&&(t.relAddr=this.relAddr),this.relPort&&(t.relPort=this.relPort),t},n.getFoundation=function(){return this.foundation},n.getComponentId=function(){return this.componentId},n.getTransport=function(){return this.transport},n.getPriority=function(){return this.priority},n.getAddress=function(){return this.address},n.getPort=function(){return this.port},n.getType=function(){return this.type},n.getRelAddr=function(){return this.relAddr},n.getRelPort=function(){return this.relPort},t}();vn.expand=function(t){return"CandidateInfo"===t.constructor.name?t:new vn(t.foundation,t.componentId,t.transport,t.priority,t.address,t.port,t.type,t.relAddr,t.relPort)},vn.clone=function(t){return"CandidateInfo"===t.constructor.name?t.clone():vn.expand(t)};var dn=vn,ln=function(){function t(t,n){this.id=t,this.params=n||[]}var n=t.prototype;return n.clone=function(){return new t(this.id,this.params)},n.plain=function(){return this.params.length?{id:this.id,params:this.params}:{id:this.id}},n.getId=function(){return this.id},n.getParams=function(){return this.params},t}();ln.expand=function(t){return"RTCPFeedbackInfo"===t.constructor.name?t:new ln(t.id,t.params)},ln.clone=function(t){return"RTCPFeedbackInfo"===t.constructor.name?t.clone():ln.expand(t)};var wn=ln,mn=wn,yn=function(){function t(t,n,i){this.codec=t,this.type=n,this.params={},this.rtcpfbs=new Set,i&&this.addParams(i)}var n=t.prototype;return n.clone=function(){var n=new t(this.codec,this.type,this.params);this.hasRTX()&&n.setRTX(this.getRTX());for(var i=0,r=this.rtcpfbs;i<r.length;i++){var e=r[i];n.addRTCPFeedback(e.clone())}return this.hasChannels()&&n.setChannels(this.getChannels()),n},n.plain=function(){var t={codec:this.codec,type:this.type};this.rtx&&(t.rtx=this.rtx),this.channels&&(t.channels=this.channels),b.keys(this.params).length&&(t.params=this.params);for(var n=0,i=this.rtcpfbs;n<i.length;n++){var r=i[n];t.rtcpfbs||(t.rtcpfbs=[]),t.rtcpfbs.push(r.plain())}return t},n.setRTX=function(t){this.rtx=t},n.getType=function(){return this.type},n.setType=function(t){this.type=t},n.getCodec=function(){return this.codec},n.getParams=function(){return this.params},n.addParams=function(t){for(var n in t)this.params[n]=t[n]},n.addParam=function(t,n){this.params[t]=n},n.hasParam=function(t){return b.hasOwnProperty.call(this.params,t)},n.getParam=function(t,n){if(void 0===n&&(n=void 0),this.hasParam(t))return this.params[t];if(void 0===n)throw new p("param ".concat(t," not found and no default value provided"));return""+n},n.hasRTX=function(){return this.rtx},n.getRTX=function(){return this.rtx},n.hasChannels=function(){return this.channels},n.getChannels=function(){return this.channels},n.setChannels=function(t){this.channels=t},n.addRTCPFeedback=function(t){this.rtcpfbs.add(t)},n.getRTCPFeedbacks=function(){return this.rtcpfbs},t}();yn.expand=function(t){if("CodecInfo"===t.constructor.name)return t;var n=new yn(t.codec,t.type,t.params);t.rtx&&n.setRTX(t.rtx),t.channels&&n.setChannels(t.channels);for(var i=0,r=t.rtcpfbs||[];i<r.length;i++){var e=r[i],u=mn.expand(e);n.addRTCPFeedback(u)}return n},yn.clone=function(t){return"CodecInfo"===t.constructor.name?t.clone():yn.expand(t)},yn.MapFromNames=function(t,n,i){for(var r,e=new Map,u=96,s=0;s<t.length;s++){var o=void 0,a=t[s].split(";"),c=a.shift().toLowerCase().trim();o="pcmu"===c?0:"pcma"===c?8:++u;var h=new yn(c,o);"opus"===c?h.setChannels(2):"multiopus"===c&&h.setChannels(6),n&&"ulpfec"!==c&&"flexfec-03"!==c&&"red"!==c&&h.setRTX(++u);for(var f=0,v=i||[];f<v.length;f++){var d=v[f];h.addRTCPFeedback(new mn(d.id,d.params))}for(var l=0;l<a.length;l++){var g=a[l].split("=");h.addParam(g[0].trim(),null===(r=g[1])||void 0===r?void 0:r.trim())}e.set(o,h)}return e};var pn=yn,_n=function t(){var n=this;if(!(this instanceof t))return new(Function.prototype.bind.apply(t,[null].concat(Array.prototype.slice.call(arguments))));Array.from(arguments).forEach((function(t){n[t]=i("n_"+t)}))},bn=_n("ACTIVE","PASSIVE","ACTPASS","INACTIVE");bn.byValue=function(t){switch(t){case bn.ACTIVE:case bn.PASSIVE:case bn.ACTPASS:case bn.INACTIVE:return t}return bn[t.toUpperCase()]},bn.toString=function(t){switch(t){case bn.ACTIVE:return"active";case bn.PASSIVE:return"passive";case bn.ACTPASS:return"actpass";case bn.INACTIVE:return"inactive"}},bn.reverse=function(t,n){switch(t){case bn.ACTIVE:return bn.PASSIVE;case bn.PASSIVE:return bn.ACTIVE;case bn.ACTPASS:return n?bn.ACTIVE:bn.PASSIVE;case bn.INACTIVE:return bn.INACTIVE}};var kn=bn,An=kn,Tn=function(){function t(t,n,i){this.setup=t,this.hash=n,this.fingerprint=i}var n=t.prototype;return n.clone=function(){return new t(this.setup,this.hash,this.fingerprint)},n.plain=function(){return{setup:An.toString(this.setup),hash:this.hash,fingerprint:this.fingerprint}},n.getFingerprint=function(){return this.fingerprint},n.getHash=function(){return this.hash},n.getSetup=function(){return this.setup},n.setSetup=function(t){this.setup=t},t}();Tn.expand=function(t){return"DTLSInfo"===t.constructor.name?t:new Tn(t.setup?An.byValue(t.setup):An.ACTPASS,t.hash,t.fingerprint)},Tn.clone=function(t){return"DTLSInfo"===t.constructor.name?t.clone():Tn.expand(t)};var Sn=Tn,En=function(){function t(t,n,i,r){this.tag=t,this.suite=n,this.keyParams=i,this.sessionParams=r}var n=t.prototype;return n.clone=function(){return new t(this.tag,this.suite,this.keyParams,this.sessionParams)},n.plain=function(){return{tag:this.tag,suite:this.suite,keyParams:this.keyParams,sessionParams:this.sessionParams}},n.getSessionParams=function(){return this.sessionParams},n.getKeyParams=function(){return this.keyParams},n.getSuite=function(){return this.suite},n.getTag=function(){return this.tag},t}();En.expand=function(t){return"CryptoInfo"===t.constructor.name?t:new En(t.tag,t.suite,t.keyParams,t.sessionParams)},En.clone=function(t){return"CryptoInfo"===t.constructor.name?t.clone():En.expand(t)};for(var In=En,Rn={exports:{}},Cn={exports:{}},Nn={},Dn={byteLength:function(t){var n=Bn(t),i=n[0],r=n[1];return 3*(i+r)/4-r},toByteArray:function(t){var n,i,r=Bn(t),e=r[0],u=r[1],s=new Ln(function(t,n,i){return 3*(n+i)/4-i}(0,e,u)),o=0,a=u>0?e-4:e;for(i=0;i<a;i+=4)n=xn[t.charCodeAt(i)]<<18|xn[t.charCodeAt(i+1)]<<12|xn[t.charCodeAt(i+2)]<<6|xn[t.charCodeAt(i+3)],s[o++]=n>>16&255,s[o++]=n>>8&255,s[o++]=255&n;return 2===u&&(n=xn[t.charCodeAt(i)]<<2|xn[t.charCodeAt(i+1)]>>4,s[o++]=255&n),1===u&&(n=xn[t.charCodeAt(i)]<<10|xn[t.charCodeAt(i+1)]<<4|xn[t.charCodeAt(i+2)]>>2,s[o++]=n>>8&255,s[o++]=255&n),s},fromByteArray:function(t){for(var n,i=t.length,r=i%3,e=[],u=16383,s=0,o=i-r;s<o;s+=u)e.push(Fn(t,s,s+u>o?o:s+u));return 1===r?(n=t[i-1],e.push(Pn[n>>2]+Pn[n<<4&63]+"==")):2===r&&(n=(t[i-2]<<8)+t[i-1],e.push(Pn[n>>10]+Pn[n>>4&63]+Pn[n<<2&63]+"=")),e.join("")}},Pn=[],xn=[],Ln=(void 0===E?"undefined":U(E))<"u"?E:Array,Mn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",On=0;On<64;++On)Pn[On]=Mn[On],xn[Mn.charCodeAt(On)]=On;function Bn(t){var n=t.length;if(n%4>0)throw new p("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");return-1===i&&(i=n),[i,i===n?0:4-i%4]}function Vn(t){return Pn[t>>18&63]+Pn[t>>12&63]+Pn[t>>6&63]+Pn[63&t]}function Fn(t,n,i){for(var r,e=[],u=n;u<i;u+=3)r=(t[u]<<16&16711680)+(t[u+1]<<8&65280)+(255&t[u+2]),e.push(Vn(r));return e.join("")}xn[45]=62,xn[95]=63;var Un={read:function(t,n,i,r,e){var u,s,o=8*e-r-1,a=(1<<o)-1,c=a>>1,h=-7,f=i?e-1:0,v=i?-1:1,d=t[n+f];for(f+=v,u=d&(1<<-h)-1,d>>=-h,h+=o;h>0;u=256*u+t[n+f],f+=v,h-=8);for(s=u&(1<<-h)-1,u>>=-h,h+=r;h>0;s=256*s+t[n+f],f+=v,h-=8);if(0===u)u=1-c;else{if(u===a)return s?NaN:1/0*(d?-1:1);s+=k.pow(2,r),u-=c}return(d?-1:1)*s*k.pow(2,u-r)},write:function(t,n,i,r,e,u){var s,o,a,c=8*u-e-1,h=(1<<c)-1,f=h>>1,v=23===e?k.pow(2,-24)-k.pow(2,-77):0,d=r?0:u-1,l=r?1:-1,g=n<0||0===n&&1/n<0?1:0;for(n=k.abs(n),S(n)||n===1/0?(o=S(n)?1:0,s=h):(s=k.floor(k.log(n)/k.LN2),n*(a=k.pow(2,-s))<1&&(s--,a*=2),(n+=s+f>=1?v/a:v*k.pow(2,1-f))*a>=2&&(s++,a/=2),s+f>=h?(o=0,s=h):s+f>=1?(o=(n*a-1)*k.pow(2,e),s+=f):(o=n*k.pow(2,f-1)*k.pow(2,e),s=0));e>=8;t[i+d]=255&o,d+=l,o/=256,e-=8);for(s=s<<e|o,c+=e;c>0;t[i+d]=255&s,d+=l,s/=256,c-=8);t[i+d-l]|=128*g}};(function(t){var r=Dn,e=Un,u="function"==typeof n&&"function"==typeof i?i("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=function(t){return+t!=t&&(t=0),a.alloc(+t)},t.INSPECT_MAX_BYTES=50;var s=2147483647;function o(t){if(t>s)throw new RangeError('The value "'+t+'" is invalid for option "size"');var n=new E(t);return b.setPrototypeOf(n,a.prototype),n}function a(t,n,i){if("number"==typeof t){if("string"==typeof n)throw new _('The "string" argument must be of type string. Received type number');return f(t)}return c(t,n,i)}function c(t,i,r){if("string"==typeof t)return function(t,n){if(("string"!=typeof n||""===n)&&(n="utf8"),!a.isEncoding(n))throw new _("Unknown encoding: "+n);var i=0|g(t,n),r=o(i),e=r.write(t,n);return e!==i&&(r=r.slice(0,e)),r}(t,i);if(ArrayBuffer.isView(t))return function(t){if(it(t,E)){var n=new E(t);return d(n.buffer,n.byteOffset,n.byteLength)}return v(t)}(t);if(null==t)throw new _("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+(void 0===t?"undefined":U(t)));if(it(t,ArrayBuffer)||t&&it(t.buffer,ArrayBuffer)||("undefined"==typeof SharedArrayBuffer?"undefined":U(SharedArrayBuffer))<"u"&&(it(t,SharedArrayBuffer)||t&&it(t.buffer,SharedArrayBuffer)))return d(t,i,r);if("number"==typeof t)throw new _('The "value" argument must not be of type number. Received type number');var e=t.valueOf&&t.valueOf();if(null!=e&&e!==t)return a.from(e,i,r);var u=function(t){if(a.isBuffer(t)){var n=0|l(t.length),i=o(n);return 0===i.length||t.copy(i,0,0,n),i}return void 0!==t.length?"number"!=typeof t.length||rt(t.length)?o(0):v(t):"Buffer"===t.type&&Array.isArray(t.data)?v(t.data):void 0}(t);if(u)return u;if((void 0===n?"undefined":U(n))<"u"&&null!=n.toPrimitive&&"function"==typeof t[n.toPrimitive])return a.from(t[n.toPrimitive]("string"),i,r);throw new _("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+(void 0===t?"undefined":U(t)))}function h(t){if("number"!=typeof t)throw new _('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function f(t){return h(t),o(t<0?0:0|l(t))}function v(t){for(var n=t.length<0?0:0|l(t.length),i=o(n),r=0;r<n;r+=1)i[r]=255&t[r];return i}function d(t,n,i){if(n<0||t.byteLength<n)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<n+(i||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===n&&void 0===i?new E(t):void 0===i?new E(t,n):new E(t,n,i),b.setPrototypeOf(r,a.prototype),r}function l(t){if(t>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|t}function g(t,n){if(a.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||it(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new _('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+(void 0===t?"undefined":U(t)));var i=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===i)return 0;for(var e=!1;;)switch(n){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return $(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return tt(t).length;default:if(e)return r?-1:$(t).length;n=(""+n).toLowerCase(),e=!0}}function w(t,n,i){var r=!1;if((void 0===n||n<0)&&(n=0),n>this.length||((void 0===i||i>this.length)&&(i=this.length),i<=0)||(i>>>=0)<=(n>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return O(this,n,i);case"utf8":case"utf-8":return P(this,n,i);case"ascii":return L(this,n,i);case"latin1":case"binary":return M(this,n,i);case"base64":return D(this,n,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,n,i);default:if(r)throw new _("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function m(t,n,i){var r=t[n];t[n]=t[i],t[i]=r}function y(t,n,i,r,e){if(0===t.length)return-1;if("string"==typeof i?(r=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),rt(i=+i)&&(i=e?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(e)return-1;i=t.length-1}else if(i<0){if(!e)return-1;i=0}if("string"==typeof n&&(n=a.from(n,r)),a.isBuffer(n))return 0===n.length?-1:T(t,n,i,r,e);if("number"==typeof n)return n&=255,"function"==typeof E.prototype.indexOf?e?E.prototype.indexOf.call(t,n,i):E.prototype.lastIndexOf.call(t,n,i):T(t,[n],i,r,e);throw new _("val must be string, number or Buffer")}function T(t,n,i,r,e){var u,s=1,o=t.length,a=n.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||n.length<2)return-1;s=2,o/=2,a/=2,i/=2}function c(t,n){return 1===s?t[n]:t.readUInt16BE(n*s)}if(e){var h=-1;for(u=i;u<o;u++)if(c(t,u)===c(n,-1===h?0:u-h)){if(-1===h&&(h=u),u-h+1===a)return h*s}else-1!==h&&(u-=u-h),h=-1}else for(i+a>o&&(i=o-a),u=i;u>=0;u--){for(var f=!0,v=0;v<a;v++)if(c(t,u+v)!==c(n,v)){f=!1;break}if(f)return u}return-1}function S(t,n,i,r){i=Number(i)||0;var e=t.length-i;r?(r=Number(r))>e&&(r=e):r=e;var u,s=n.length;for(r>s/2&&(r=s/2),u=0;u<r;++u){var o=A(n.substr(2*u,2),16);if(rt(o))return u;t[i+u]=o}return u}function I(t,n,i,r){return nt($(n,t.length-i),t,i,r)}function R(t,n,i,r){return nt(function(t){for(var n=[],i=0;i<t.length;++i)n.push(255&t.charCodeAt(i));return n}(n),t,i,r)}function C(t,n,i,r){return nt(tt(n),t,i,r)}function N(t,n,i,r){return nt(function(t,n){for(var i,r,e,u=[],s=0;s<t.length&&!((n-=2)<0);++s)i=t.charCodeAt(s),r=i>>8,e=i%256,u.push(e),u.push(r);return u}(n,t.length-i),t,i,r)}function D(t,n,i){return 0===n&&i===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(n,i))}function P(t,n,i){i=k.min(t.length,i);for(var r=[],e=n;e<i;){var u=t[e],s=null,o=u>239?4:u>223?3:u>191?2:1;if(e+o<=i){var a=void 0,c=void 0,h=void 0,f=void 0;switch(o){case 1:u<128&&(s=u);break;case 2:128==(192&(a=t[e+1]))&&(f=(31&u)<<6|63&a)>127&&(s=f);break;case 3:a=t[e+1],c=t[e+2],128==(192&a)&&128==(192&c)&&(f=(15&u)<<12|(63&a)<<6|63&c)>2047&&(f<55296||f>57343)&&(s=f);break;case 4:a=t[e+1],c=t[e+2],h=t[e+3],128==(192&a)&&128==(192&c)&&128==(192&h)&&(f=(15&u)<<18|(63&a)<<12|(63&c)<<6|63&h)>65535&&f<1114112&&(s=f)}}null===s?(s=65533,o=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|1023&s),r.push(s),e+=o}return function(t){var n=t.length;if(n<=x)return String.fromCharCode.apply(String,t);for(var i="",r=0;r<n;)i+=String.fromCharCode.apply(String,t.slice(r,r+=x));return i}(r)}t.kMaxLength=s,a.TYPED_ARRAY_SUPPORT=function(){try{var t=new E(1),n={foo:function(){return 42}};return b.setPrototypeOf(n,E.prototype),b.setPrototypeOf(t,n),42===t.foo()}catch(t){return!1}}(),!a.TYPED_ARRAY_SUPPORT&&("undefined"==typeof console?"undefined":U(console))<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),b.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),b.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(t,n,i){return c(t,n,i)},b.setPrototypeOf(a.prototype,E.prototype),b.setPrototypeOf(a,E),a.alloc=function(t,n,i){return function(t,n,i){return h(t),t<=0?o(t):void 0!==n?"string"==typeof i?o(t).fill(n,i):o(t).fill(n):o(t)}(t,n,i)},a.allocUnsafe=function(t){return f(t)},a.allocUnsafeSlow=function(t){return f(t)},a.isBuffer=function(t){return null!=t&&!0===t.r_&&t!==a.prototype},a.compare=function(t,n){if(it(t,E)&&(t=a.from(t,t.offset,t.byteLength)),it(n,E)&&(n=a.from(n,n.offset,n.byteLength)),!a.isBuffer(t)||!a.isBuffer(n))throw new _('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===n)return 0;for(var i=t.length,r=n.length,e=0,u=k.min(i,r);e<u;++e)if(t[e]!==n[e]){i=t[e],r=n[e];break}return i<r?-1:r<i?1:0},a.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(t,n){if(!Array.isArray(t))throw new _('"list" argument must be an Array of Buffers');if(0===t.length)return a.alloc(0);var i;if(void 0===n)for(n=0,i=0;i<t.length;++i)n+=t[i].length;var r=a.allocUnsafe(n),e=0;for(i=0;i<t.length;++i){var u=t[i];if(it(u,E))e+u.length>r.length?(a.isBuffer(u)||(u=a.from(u)),u.copy(r,e)):E.prototype.set.call(r,u,e);else{if(!a.isBuffer(u))throw new _('"list" argument must be an Array of Buffers');u.copy(r,e)}e+=u.length}return r},a.byteLength=g,a.prototype.r_=!0,a.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var n=0;n<t;n+=2)m(this,n,n+1);return this},a.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var n=0;n<t;n+=4)m(this,n,n+3),m(this,n+1,n+2);return this},a.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var n=0;n<t;n+=8)m(this,n,n+7),m(this,n+1,n+6),m(this,n+2,n+5),m(this,n+3,n+4);return this},a.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?P(this,0,t):w.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(t){if(!a.isBuffer(t))throw new _("Argument must be a Buffer");return this===t||0===a.compare(this,t)},a.prototype.inspect=function(){var n="",i=t.INSPECT_MAX_BYTES;return n=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(n+=" ... "),"<Buffer "+n+">"},u&&(a.prototype[u]=a.prototype.inspect),a.prototype.compare=function(t,n,i,r,e){if(it(t,E)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(t))throw new _('The "target" argument must be one of type Buffer or Uint8Array. Received type '+(void 0===t?"undefined":U(t)));if(void 0===n&&(n=0),void 0===i&&(i=t?t.length:0),void 0===r&&(r=0),void 0===e&&(e=this.length),n<0||i>t.length||r<0||e>this.length)throw new RangeError("out of range index");if(r>=e&&n>=i)return 0;if(r>=e)return-1;if(n>=i)return 1;if(this===t)return 0;for(var u=(e>>>=0)-(r>>>=0),s=(i>>>=0)-(n>>>=0),o=k.min(u,s),c=this.slice(r,e),h=t.slice(n,i),f=0;f<o;++f)if(c[f]!==h[f]){u=c[f],s=h[f];break}return u<s?-1:s<u?1:0},a.prototype.includes=function(t,n,i){return-1!==this.indexOf(t,n,i)},a.prototype.indexOf=function(t,n,i){return y(this,t,n,i,!0)},a.prototype.lastIndexOf=function(t,n,i){return y(this,t,n,i,!1)},a.prototype.write=function(t,n,i,r){if(void 0===n)r="utf8",i=this.length,n=0;else if(void 0===i&&"string"==typeof n)r=n,i=this.length,n=0;else{if(!isFinite(n))throw new p("Buffer.write(string, encoding, offset[, length]) is no longer supported");n>>>=0,isFinite(i)?(i>>>=0,void 0===r&&(r="utf8")):(r=i,i=void 0)}var e=this.length-n;if((void 0===i||i>e)&&(i=e),t.length>0&&(i<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var u=!1;;)switch(r){case"hex":return S(this,t,n,i);case"utf8":case"utf-8":return I(this,t,n,i);case"ascii":case"latin1":case"binary":return R(this,t,n,i);case"base64":return C(this,t,n,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,n,i);default:if(u)throw new _("Unknown encoding: "+r);r=(""+r).toLowerCase(),u=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this.o_||this,0)}};var x=4096;function L(t,n,i){var r="";i=k.min(t.length,i);for(var e=n;e<i;++e)r+=String.fromCharCode(127&t[e]);return r}function M(t,n,i){var r="";i=k.min(t.length,i);for(var e=n;e<i;++e)r+=String.fromCharCode(t[e]);return r}function O(t,n,i){var r=t.length;(!n||n<0)&&(n=0),(!i||i<0||i>r)&&(i=r);for(var e="",u=n;u<i;++u)e+=et[t[u]];return e}function B(t,n,i){for(var r=t.slice(n,i),e="",u=0;u<r.length-1;u+=2)e+=String.fromCharCode(r[u]+256*r[u+1]);return e}function V(t,n,i){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+n>i)throw new RangeError("Trying to access beyond buffer length")}function F(t,n,i,r,e,u){if(!a.isBuffer(t))throw new _('"buffer" argument must be a Buffer instance');if(n>e||n<u)throw new RangeError('"value" argument is out of bounds');if(i+r>t.length)throw new RangeError("Index out of range")}function W(t,n,i,r,e){K(n,r,e,t,i,7);var u=Number(n&BigInt(4294967295));t[i++]=u,u>>=8,t[i++]=u,u>>=8,t[i++]=u,u>>=8,t[i++]=u;var s=Number(n>>BigInt(32)&BigInt(4294967295));return t[i++]=s,s>>=8,t[i++]=s,s>>=8,t[i++]=s,s>>=8,t[i++]=s,i}function Z(t,n,i,r,e){K(n,r,e,t,i,7);var u=Number(n&BigInt(4294967295));t[i+7]=u,u>>=8,t[i+6]=u,u>>=8,t[i+5]=u,u>>=8,t[i+4]=u;var s=Number(n>>BigInt(32)&BigInt(4294967295));return t[i+3]=s,s>>=8,t[i+2]=s,s>>=8,t[i+1]=s,s>>=8,t[i]=s,i+8}function X(t,n,i,r,e,u){if(i+r>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function G(t,n,i,r,u){return n=+n,i>>>=0,u||X(t,0,i,4),e.write(t,n,i,r,23,4),i+4}function H(t,n,i,r,u){return n=+n,i>>>=0,u||X(t,0,i,8),e.write(t,n,i,r,52,8),i+8}a.prototype.slice=function(t,n){var i=this.length;(t=~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),(n=void 0===n?i:~~n)<0?(n+=i)<0&&(n=0):n>i&&(n=i),n<t&&(n=t);var r=this.subarray(t,n);return b.setPrototypeOf(r,a.prototype),r},a.prototype.readUintLE=a.prototype.readUIntLE=function(t,n,i){t>>>=0,n>>>=0,i||V(t,n,this.length);for(var r=this[t],e=1,u=0;++u<n&&(e*=256);)r+=this[t+u]*e;return r},a.prototype.readUintBE=a.prototype.readUIntBE=function(t,n,i){t>>>=0,n>>>=0,i||V(t,n,this.length);for(var r=this[t+--n],e=1;n>0&&(e*=256);)r+=this[t+--n]*e;return r},a.prototype.readUint8=a.prototype.readUInt8=function(t,n){return t>>>=0,n||V(t,1,this.length),this[t]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(t,n){return t>>>=0,n||V(t,2,this.length),this[t]|this[t+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(t,n){return t>>>=0,n||V(t,2,this.length),this[t]<<8|this[t+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(t,n){return t>>>=0,n||V(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(t,n){return t>>>=0,n||V(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},a.prototype.readBigUInt64LE=ut((function(t){q(t>>>=0,"offset");var n=this[t],i=this[t+7];(void 0===n||void 0===i)&&J(t,this.length-8);var r=n+this[++t]*k.pow(2,8)+this[++t]*k.pow(2,16)+this[++t]*k.pow(2,24),e=this[++t]+this[++t]*k.pow(2,8)+this[++t]*k.pow(2,16)+i*k.pow(2,24);return BigInt(r)+(BigInt(e)<<BigInt(32))})),a.prototype.readBigUInt64BE=ut((function(t){q(t>>>=0,"offset");var n=this[t],i=this[t+7];(void 0===n||void 0===i)&&J(t,this.length-8);var r=n*k.pow(2,24)+this[++t]*k.pow(2,16)+this[++t]*k.pow(2,8)+this[++t],e=this[++t]*k.pow(2,24)+this[++t]*k.pow(2,16)+this[++t]*k.pow(2,8)+i;return(BigInt(r)<<BigInt(32))+BigInt(e)})),a.prototype.readIntLE=function(t,n,i){t>>>=0,n>>>=0,i||V(t,n,this.length);for(var r=this[t],e=1,u=0;++u<n&&(e*=256);)r+=this[t+u]*e;return r>=(e*=128)&&(r-=k.pow(2,8*n)),r},a.prototype.readIntBE=function(t,n,i){t>>>=0,n>>>=0,i||V(t,n,this.length);for(var r=n,e=1,u=this[t+--r];r>0&&(e*=256);)u+=this[t+--r]*e;return u>=(e*=128)&&(u-=k.pow(2,8*n)),u},a.prototype.readInt8=function(t,n){return t>>>=0,n||V(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},a.prototype.readInt16LE=function(t,n){t>>>=0,n||V(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},a.prototype.readInt16BE=function(t,n){t>>>=0,n||V(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},a.prototype.readInt32LE=function(t,n){return t>>>=0,n||V(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},a.prototype.readInt32BE=function(t,n){return t>>>=0,n||V(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},a.prototype.readBigInt64LE=ut((function(t){q(t>>>=0,"offset");var n=this[t],i=this[t+7];(void 0===n||void 0===i)&&J(t,this.length-8);var r=this[t+4]+this[t+5]*k.pow(2,8)+this[t+6]*k.pow(2,16)+(i<<24);return(BigInt(r)<<BigInt(32))+BigInt(n+this[++t]*k.pow(2,8)+this[++t]*k.pow(2,16)+this[++t]*k.pow(2,24))})),a.prototype.readBigInt64BE=ut((function(t){q(t>>>=0,"offset");var n=this[t],i=this[t+7];(void 0===n||void 0===i)&&J(t,this.length-8);var r=(n<<24)+this[++t]*k.pow(2,16)+this[++t]*k.pow(2,8)+this[++t];return(BigInt(r)<<BigInt(32))+BigInt(this[++t]*k.pow(2,24)+this[++t]*k.pow(2,16)+this[++t]*k.pow(2,8)+i)})),a.prototype.readFloatLE=function(t,n){return t>>>=0,n||V(t,4,this.length),e.read(this,t,!0,23,4)},a.prototype.readFloatBE=function(t,n){return t>>>=0,n||V(t,4,this.length),e.read(this,t,!1,23,4)},a.prototype.readDoubleLE=function(t,n){return t>>>=0,n||V(t,8,this.length),e.read(this,t,!0,52,8)},a.prototype.readDoubleBE=function(t,n){return t>>>=0,n||V(t,8,this.length),e.read(this,t,!1,52,8)},a.prototype.writeUintLE=a.prototype.writeUIntLE=function(t,n,i,r){t=+t,n>>>=0,i>>>=0,r||F(this,t,n,i,k.pow(2,8*i)-1,0);var e=1,u=0;for(this[n]=255&t;++u<i&&(e*=256);)this[n+u]=t/e&255;return n+i},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(t,n,i,r){t=+t,n>>>=0,i>>>=0,r||F(this,t,n,i,k.pow(2,8*i)-1,0);var e=i-1,u=1;for(this[n+e]=255&t;--e>=0&&(u*=256);)this[n+e]=t/u&255;return n+i},a.prototype.writeUint8=a.prototype.writeUInt8=function(t,n,i){return t=+t,n>>>=0,i||F(this,t,n,1,255,0),this[n]=255&t,n+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(t,n,i){return t=+t,n>>>=0,i||F(this,t,n,2,65535,0),this[n]=255&t,this[n+1]=t>>>8,n+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(t,n,i){return t=+t,n>>>=0,i||F(this,t,n,2,65535,0),this[n]=t>>>8,this[n+1]=255&t,n+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(t,n,i){return t=+t,n>>>=0,i||F(this,t,n,4,4294967295,0),this[n+3]=t>>>24,this[n+2]=t>>>16,this[n+1]=t>>>8,this[n]=255&t,n+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(t,n,i){return t=+t,n>>>=0,i||F(this,t,n,4,4294967295,0),this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t,n+4},a.prototype.writeBigUInt64LE=ut((function(t,n){return void 0===n&&(n=0),W(this,t,n,BigInt(0),BigInt("0xffffffffffffffff"))})),a.prototype.writeBigUInt64BE=ut((function(t,n){return void 0===n&&(n=0),Z(this,t,n,BigInt(0),BigInt("0xffffffffffffffff"))})),a.prototype.writeIntLE=function(t,n,i,r){if(t=+t,n>>>=0,!r){var e=k.pow(2,8*i-1);F(this,t,n,i,e-1,-e)}var u=0,s=1,o=0;for(this[n]=255&t;++u<i&&(s*=256);)t<0&&0===o&&0!==this[n+u-1]&&(o=1),this[n+u]=(t/s>>0)-o&255;return n+i},a.prototype.writeIntBE=function(t,n,i,r){if(t=+t,n>>>=0,!r){var e=k.pow(2,8*i-1);F(this,t,n,i,e-1,-e)}var u=i-1,s=1,o=0;for(this[n+u]=255&t;--u>=0&&(s*=256);)t<0&&0===o&&0!==this[n+u+1]&&(o=1),this[n+u]=(t/s>>0)-o&255;return n+i},a.prototype.writeInt8=function(t,n,i){return t=+t,n>>>=0,i||F(this,t,n,1,127,-128),t<0&&(t=255+t+1),this[n]=255&t,n+1},a.prototype.writeInt16LE=function(t,n,i){return t=+t,n>>>=0,i||F(this,t,n,2,32767,-32768),this[n]=255&t,this[n+1]=t>>>8,n+2},a.prototype.writeInt16BE=function(t,n,i){return t=+t,n>>>=0,i||F(this,t,n,2,32767,-32768),this[n]=t>>>8,this[n+1]=255&t,n+2},a.prototype.writeInt32LE=function(t,n,i){return t=+t,n>>>=0,i||F(this,t,n,4,2147483647,-2147483648),this[n]=255&t,this[n+1]=t>>>8,this[n+2]=t>>>16,this[n+3]=t>>>24,n+4},a.prototype.writeInt32BE=function(t,n,i){return t=+t,n>>>=0,i||F(this,t,n,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t,n+4},a.prototype.writeBigInt64LE=ut((function(t,n){return void 0===n&&(n=0),W(this,t,n,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),a.prototype.writeBigInt64BE=ut((function(t,n){return void 0===n&&(n=0),Z(this,t,n,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),a.prototype.writeFloatLE=function(t,n,i){return G(this,t,n,!0,i)},a.prototype.writeFloatBE=function(t,n,i){return G(this,t,n,!1,i)},a.prototype.writeDoubleLE=function(t,n,i){return H(this,t,n,!0,i)},a.prototype.writeDoubleBE=function(t,n,i){return H(this,t,n,!1,i)},a.prototype.copy=function(t,n,i,r){if(!a.isBuffer(t))throw new _("argument should be a Buffer");if(i||(i=0),!r&&0!==r&&(r=this.length),n>=t.length&&(n=t.length),n||(n=0),r>0&&r<i&&(r=i),r===i||0===t.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-n<r-i&&(r=t.length-n+i);var e=r-i;return this===t&&"function"==typeof E.prototype.copyWithin?this.copyWithin(n,i,r):E.prototype.set.call(t,this.subarray(i,r),n),e},a.prototype.fill=function(t,n,i,r){if("string"==typeof t){if("string"==typeof n?(r=n,n=0,i=this.length):"string"==typeof i&&(r=i,i=this.length),void 0!==r&&"string"!=typeof r)throw new _("encoding must be a string");if("string"==typeof r&&!a.isEncoding(r))throw new _("Unknown encoding: "+r);if(1===t.length){var e=t.charCodeAt(0);("utf8"===r&&e<128||"latin1"===r)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(n<0||this.length<n||this.length<i)throw new RangeError("Out of range index");if(i<=n)return this;var u;if(n>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0),"number"==typeof t)for(u=n;u<i;++u)this[u]=t;else{var s=a.isBuffer(t)?t:a.from(t,r),o=s.length;if(0===o)throw new _('The value "'+t+'" is invalid for argument "value"');for(u=0;u<i-n;++u)this[u+n]=s[u%o]}return this};var z={};function Y(t,n,i){z[t]=function(i){function r(){var r;return r=i.call(this)||this,b.defineProperty(r,"message",{value:n.apply(r,arguments),writable:!0,configurable:!0}),r.name="".concat(r.name," [").concat(t,"]"),r.stack,delete r.name,r}return It(r,i),r.prototype.toString=function(){return"".concat(this.name," [").concat(t,"]: ").concat(this.message)},Nt(r,[{key:"code",get:function(){return t},set:function(t){b.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}}]),r}(i)}function j(t){for(var n="",i=t.length,r="-"===t[0]?1:0;i>=r+4;i-=3)n="_".concat(t.slice(i-3,i)).concat(n);return"".concat(t.slice(0,i)).concat(n)}function K(t,n,i,r,e,u){if(t>i||t<n){var s,o="bigint"==(void 0===n?"undefined":U(n))?"n":"";throw s=0===n||n===BigInt(0)?">= 0".concat(o," and < 2").concat(o," ** ").concat(8*(u+1)).concat(o):">= -(2".concat(o," ** ").concat(8*(u+1)-1).concat(o,") and < 2 ** ")+"".concat(8*(u+1)-1).concat(o),new z.ERR_OUT_OF_RANGE("value",s,t)}!function(t,n,i){q(n,"offset"),(void 0===t[n]||void 0===t[n+i])&&J(n,t.length-(i+1))}(r,e,u)}function q(t,n){if("number"!=typeof t)throw new z.ERR_INVALID_ARG_TYPE(n,"number",t)}function J(t,n,i){throw k.floor(t)!==t?(q(t,i),new z.ERR_OUT_OF_RANGE("offset","an integer",t)):n<0?new z.ERR_BUFFER_OUT_OF_BOUNDS:new z.ERR_OUT_OF_RANGE("offset",">= 0 and <= ".concat(n),t)}Y("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?"".concat(t," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"}),RangeError),Y("ERR_INVALID_ARG_TYPE",(function(t,n){return'The "'.concat(t,'" argument must be of type number. Received type ').concat(void 0===n?"undefined":U(n))}),_),Y("ERR_OUT_OF_RANGE",(function(t,n,i){var r='The value of "'.concat(t,'" is out of range.'),e=i;return Number.isInteger(i)&&k.abs(i)>k.pow(2,32)?e=j(String(i)):"bigint"==(void 0===i?"undefined":U(i))&&(e=String(i),(i>k.pow(BigInt(2),BigInt(32))||i<-k.pow(BigInt(2),BigInt(32)))&&(e=j(e)),e+="n"),r+=" It must be ".concat(n,". Received ").concat(e)}),RangeError);var Q=/[^+/0-9A-Za-z-_]/g;function $(t,n){var i;n=n||1/0;for(var r=t.length,e=null,u=[],s=0;s<r;++s){if((i=t.charCodeAt(s))>55295&&i<57344){if(!e){if(i>56319){(n-=3)>-1&&u.push(239,191,189);continue}if(s+1===r){(n-=3)>-1&&u.push(239,191,189);continue}e=i;continue}if(i<56320){(n-=3)>-1&&u.push(239,191,189),e=i;continue}i=65536+(e-55296<<10|i-56320)}else e&&(n-=3)>-1&&u.push(239,191,189);if(e=null,i<128){if((n-=1)<0)break;u.push(i)}else if(i<2048){if((n-=2)<0)break;u.push(i>>6|192,63&i|128)}else if(i<65536){if((n-=3)<0)break;u.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new p("Invalid code point");if((n-=4)<0)break;u.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return u}function tt(t){return r.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(Q,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function nt(t,n,i,r){var e;for(e=0;e<r&&!(e+i>=n.length||e>=t.length);++e)n[e+i]=t[e];return e}function it(t,n){return t instanceof n||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===n.name}function rt(t){return t!=t}var et=function(){for(var t="0123456789abcdef",n=new Array(256),i=0;i<16;++i)for(var r=16*i,e=0;e<16;++e)n[r+e]=t[i]+t[e];return n}();function ut(t){return("undefined"==typeof BigInt?"undefined":U(BigInt))>"u"?st:t}function st(){throw new p("BigInt not supported")}})(Nn),function(t,n){var i=Nn,r=i.Buffer;function e(t,n){for(var i in t)n[i]=t[i]}function u(t,n,i){return r(t,n,i)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=i:(e(i,n),n.Buffer=u),u.prototype=b.create(r.prototype),e(r,u),u.from=function(t,n,i){if("number"==typeof t)throw new _("Argument must not be a number");return r(t,n,i)},u.alloc=function(t,n,i){if("number"!=typeof t)throw new _("Argument must be a number");var e=r(t);return void 0!==n?"string"==typeof i?e.fill(n,i):e.fill(n):e.fill(0),e},u.allocUnsafe=function(t){if("number"!=typeof t)throw new _("Argument must be a number");return r(t)},u.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new _("Argument must be a number");return i.SlowBuffer(t)}}(Cn,Cn.exports);var Wn=65536,Zn=Cn.exports.Buffer,Xn=N.crypto||N.msCrypto;Xn&&Xn.getRandomValues?Rn.exports=function(t,n){if(t>4294967295)throw new RangeError("requested too many random bytes");var i=Zn.allocUnsafe(t);if(t>0)if(t>Wn)for(var r=0;r<t;r+=Wn)Xn.getRandomValues(i.slice(r,r+Wn));else Xn.getRandomValues(i);return"function"==typeof n?process.nextTick((function(){n(null,i)})):i}:Rn.exports=function(){throw new p("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")};var Gn=Rn.exports,Hn=function(){function t(t,n){this.ufrag=t,this.pwd=n,this.lite=!1,this.endOfCandidates=!1}var n=t.prototype;return n.clone=function(){var n=new t(this.ufrag,this.pwd);return n.setLite(this.lite),n.setEndOfCandidates(this.endOfCandidates),n},n.plain=function(){var t={ufrag:this.ufrag,pwd:this.pwd};return this.lite&&(t.lite=this.lite),this.endOfCandidates&&(t.endOfCandidates=this.endOfCandidates),t},n.getUfrag=function(){return this.ufrag},n.getPwd=function(){return this.pwd},n.isLite=function(){return this.lite},n.setLite=function(t){this.lite=t},n.isEndOfCandidates=function(){return this.endOfCandidates},n.setEndOfCandidates=function(t){this.endOfCandidates=t},t}();Hn.generate=function(t){var n=new Hn,i=Gn(8),r=Gn(24);return n.ufrag=i.toString("hex"),n.pwd=r.toString("hex"),n.lite=t,n},Hn.expand=function(t){if("ICEInfo"===t.constructor.name)return t;var n=new Hn(t.ufrag,t.pwd);return n.setLite(t.lite),n.setEndOfCandidates(t.endOfCandidates),n},Hn.clone=function(t){return"ICEInfo"===t.constructor.name?t.clone():Hn.expand(t)};var zn=Hn,Yn=_n("SEND","RECV");Yn.byValue=function(t){return Yn[t.toUpperCase()]},Yn.toString=function(t){switch(t){case Yn.SEND:return"send";case Yn.RECV:return"recv"}},Yn.reverse=function(t){switch(t){case Yn.SEND:return Yn.RECV;case Yn.RECV:return Yn.SEND}};var jn=Yn,Kn=jn,qn=function(){function t(t,n){this.id=t,this.direction=n,this.formats=[],this.params=new Map}var n=t.prototype;return n.clone=function(){var n=new t(this.id,this.direction);return n.setFormats(this.formats),n.setParams(this.params),n},n.plain=function(){var t={id:this.id,direction:Kn.toString(this.direction)};this.formats&&(t.formats=this.formats);for(var n=0,i=this.params.entries();n<i.length;n++){var r=tn(i[n],2),e=r[0],u=r[1];t.params||(t.params={}),t.params[e]=u}return t},n.getId=function(){return this.id},n.getDirection=function(){return this.direction},n.setDirection=function(t){this.direction=t},n.getFormats=function(){return this.formats},n.setFormats=function(t){this.formats=[];for(var n=0;n<t.length;++n)this.formats.push(A(t[n]))},n.getParams=function(){return this.params},n.setParams=function(t){this.params=new Map(t)},n.addParam=function(t,n){this.params.set(t,n)},t}();qn.expand=function(t){if("RIDInfo"===t.constructor.name)return t;for(var n=new qn(t.id,Kn.byValue(t.direction)),i=0,r=b.entries(t.params||{});i<r.length;i++){var e=tn(r[i],2),u=e[0],s=e[1];n.addParam(u,s)}return t.formats&&n.setFormats(t.formats),n},qn.clone=function(t){return"RIDInfo"===t.constructor.name?t.clone():qn.expand(t)};var Jn=qn,Qn=function(){function t(t,n){this.paused=n,this.id=t}var n=t.prototype;return n.clone=function(){return new t(this.id,this.paused)},n.plain=function(){return{id:this.id,paused:this.paused}},n.isPaused=function(){return this.paused},n.getId=function(){return this.id},t}();Qn.expand=function(t){return"SimulcastStreamInfo"===t.constructor.name?t:new Qn(t.id,t.paused)},Qn.clone=function(t){return"SimulcastStreamInfo"===t.constructor.name?t.clone():Qn.expand(t)};var $n=Qn,ti=$n,ni=jn,ii=function(){function t(){this.send=[],this.recv=[]}var n=t.prototype;return n.clone=function(){for(var n=new t,i=0,r=this.send;i<r.length;i++){var e=r[i];n.addSimulcastAlternativeStreams(ni.SEND,e.map((function(t){return t.clone()})))}for(var u=0,s=this.recv;u<s.length;u++){var o=s[u];n.addSimulcastAlternativeStreams(ni.RECV,o.map((function(t){return t.clone()})))}return n},n.plain=function(){for(var t={send:[],recv:[]},n=0,i=this.send;n<i.length;n++){var r=i[n];t.send.push(r.map((function(t){return t.plain()})))}for(var e=0,u=this.recv;e<u.length;e++){var s=u[e];t.recv.push(s.map((function(t){return t.plain()})))}return t},n.addSimulcastAlternativeStreams=function(t,n){return t===ni.SEND?this.send.push(n):this.recv.push(n)},n.addSimulcastStream=function(t,n){return t===ni.SEND?this.send.push([n]):this.recv.push([n])},n.getSimulcastStreams=function(t){return t===ni.SEND?this.send:this.recv},t}();ii.expand=function(t){if("SimulcastInfo"===t.constructor.name)return t;for(var n=new ii,i=0,r=t.send||[];i<r.length;i++){var e=r[i];n.addSimulcastAlternativeStreams(ni.SEND,e.map(ti.expand))}for(var u=0,s=t.recv||[];u<s.length;u++){var o=s[u];n.addSimulcastAlternativeStreams(ni.RECV,o.map(ti.expand))}return n},ii.clone=function(t){return"SimulcastInfo"===t.constructor.name?t.clone():ii.expand(t)};var ri=ii,ei=_n("SENDRECV","SENDONLY","RECVONLY","INACTIVE");ei.byValue=function(t){return ei[t.toUpperCase()]},ei.toString=function(t){switch(t){case ei.SENDRECV:return"sendrecv";case ei.SENDONLY:return"sendonly";case ei.RECVONLY:return"recvonly";case ei.INACTIVE:return"inactive"}},ei.reverse=function(t){switch(t){case ei.SENDRECV:return ei.SENDRECV;case ei.SENDONLY:return ei.RECVONLY;case ei.RECVONLY:return ei.SENDONLY;case ei.INACTIVE:return ei.INACTIVE}};var ui=ei,si=function(){function t(t,n){this.port=t,this.maxMessageSize=n}var n=t.prototype;return n.clone=function(){return new t(this.port,this.maxMessageSize)},n.plain=function(){return{port:this.port,maxMessageSize:this.maxMessageSize}},n.getPort=function(){return this.port},n.getMaxMessageSize=function(){return this.maxMessageSize},t}();si.expand=function(t){return"DataChannelInfo"===t.constructor.name?t:new si(t.port,t.maxMessageSize)},si.clone=function(t){return"DataChannelInfo"===t.constructor.name?t.clone():si.expand(t)};var oi=si,ai=pn,ci=Jn,hi=ri,fi=ui,vi=jn,di=oi,li=function(){function t(t,n){this.id=t,this.type=n,this.direction=fi.SENDRECV,this.extensions=new Map,this.codecs=new Map,this.rids=new Map,this.simulcast=null,this.bitrate=0,this.control=null,this.dataChannel=null}var n=t.prototype;return n.clone=function(){var n=new t(this.id,this.type);n.setDirection(this.direction),n.setBitrate(this.bitrate);for(var i=0,r=this.codecs.values();i<r.length;i++){var e=r[i];n.addCodec(e.clone())}for(var u=0,s=this.extensions.entries();u<s.length;u++){var o=tn(s[u],2),a=o[0],c=o[1];n.addExtension(a,c)}for(var h=0,f=this.rids.values();h<f.length;h++){var v=f[h];n.addRID(v.clone())}return this.simulcast&&n.setSimulcast(this.simulcast.clone()),this.control&&n.setControl(this.control),this.dataChannel&&n.setDataChannel(this.dataChannel.clone()),n},n.plain=function(){var t={id:this.id,type:this.type,direction:fi.toString(this.direction),codecs:[]};this.dataChannel&&(t.dataChannel=this.dataChannel.plain()),this.bitrate&&(t.bitrate=this.bitrate);for(var n=0,i=this.codecs.values();n<i.length;n++){var r=i[n];t.codecs.push(r.plain())}for(var e=0,u=this.extensions.entries();e<u.length;e++){var s=tn(u[e],2),o=s[0],a=s[1];t.extensions||(t.extensions={}),t.extensions[o]=a}for(var c=0,h=this.rids.values();c<h.length;c++){var f=h[c];t.rids||(t.rids=[]),t.rids.push(f.plain())}return this.simulcast&&(t.simulcast=this.simulcast.plain()),this.control&&(t.control=this.control),t},n.getType=function(){return this.type},n.getId=function(){return this.id},n.setId=function(t){this.id=t},n.addExtension=function(t,n){this.extensions.set(t,n)},n.addRID=function(t){this.rids.set(t.getId(),t)},n.addCodec=function(t){this.codecs.set(t.getType(),t)},n.setCodecs=function(t){this.codecs=t},n.getCodecForType=function(t){return this.codecs.get(t)},n.getCodec=function(t){for(var n=0,i=this.codecs.values();n<i.length;n++){var r=i[n];if(r.getCodec().toLowerCase()===t.toLowerCase())return r}return null},n.hasCodec=function(t){return null!==this.getCodec(t)},n.getCodecs=function(){return this.codecs},n.hasRTX=function(){for(var t=0,n=this.codecs.values();t<n.length;t++)if(n[t].hasRTX())return!0;return!1},n.getExtensions=function(){return this.extensions},n.getRIDs=function(){return this.rids},n.getRID=function(t){return this.rids.get(t)},n.getBitrate=function(){return this.bitrate},n.setBitrate=function(t){this.bitrate=t},n.getDirection=function(){return this.direction},n.setDirection=function(t){this.direction=t},n.hasControl=function(){return!!this.control},n.getControl=function(){return this.control},n.setControl=function(t){this.control=t},n.hasDataChannel=function(){return!!this.dataChannel},n.getDataChannel=function(){return this.dataChannel},n.setDataChannel=function(t){this.dataChannel=t},n.answer=function(n){var i=new t(this.id,this.type);if(n){i.setDirection(fi.reverse(this.direction));var r=n.codecs,e=n.dataChannel;if(r){var u;u=Array.isArray(r)?ai.MapFromNames(r,n.rtx,n.rtcpfbs):r;for(var s=0,o=this.codecs.values();s<o.length;s++)for(var a=o[s],c=0,h=u.values();c<h.length;c++){var f=h[c];if(!(f.getCodec().toLowerCase()!==a.getCodec().toLowerCase()||"h264"===f.getCodec()&&f.hasParam("packetization-mode")&&f.getParam("packetization-mode")!=a.getParam("packetization-mode","0")||"h264"===f.getCodec()&&f.hasParam("profile-level-id")&&a.hasParam("profile-level-id")&&f.getParam("profile-level-id")!=a.getParam("profile-level-id")||"multiopus"===f.getCodec()&&f.hasParam("num_streams")&&a.hasParam("num_streams")&&f.getParam("num_streams")!=a.getParam("num_streams"))){var v=f.clone();v.setType(a.getType()),v.hasRTX()&&v.setRTX(a.getRTX()),a.hasChannels()&&v.setChannels(a.getChannels()),v.addParams(a.getParams()),i.addCodec(v);break}}}for(var d=new Set(n.extensions),l=0,g=this.extensions;l<g.length;l++){var w=tn(g[l],2),m=w[0],y=w[1];d.has(y)&&i.addExtension(m,y)}if(n.simulcast&&this.simulcast){var p=new hi,_=this.simulcast.getSimulcastStreams(vi.SEND);if(_)for(var b=0;b<_.length;b++){var k=_[b].map((function(t){return t.clone()}));p.addSimulcastAlternativeStreams(vi.RECV,k)}var A=this.simulcast.getSimulcastStreams(vi.RECV);if(A)for(var T=0;T<A.length;T++){var S=A[T].map((function(t){return t.clone()}));p.addSimulcastAlternativeStreams(vi.SEND,S)}for(var E=0,I=this.rids.values();E<I.length;E++){var R=I[E],C=R.clone();C.setDirection(vi.reverse(R.getDirection())),i.addRID(C)}i.setSimulcast(p)}if(e&&this.dataChannel){var N=new di(this.dataChannel.getPort(),e.maxMessageSize?e.maxMessageSize:this.dataChannel.getMaxMessageSize());i.setDataChannel(N)}}else i.setDirection(fi.INACTIVE);return i},n.getSimulcast=function(){return this.simulcast},n.setSimulcast=function(t){this.simulcast=t},t}();function gi(t){var n=t.toString();if(!/^\d+$/.test(n))throw new p("invalid integer ".concat(n));return A(n)}li.create=function(t,n,i){!i&&"string"!=typeof n&&(i=n,n=t);var r=new li(t,n);if(i){var e=i.codecs;e&&(Array.isArray(e)?r.setCodecs(ai.MapFromNames(e,i.rtx,i.rtcpfbs)):r.setCodecs(e))}else r.setDirection(fi.INACTIVE);return r},li.expand=function(t){if("MediaInfo"===t.constructor.name)return t;var n=new li(t.id,t.type);if(t.direction&&n.setDirection(fi.byValue(t.direction)),n.setBitrate(t.bitrate),t.dataChannel){var i=di.expand(t.dataChannel);i&&n.setDataChannel(i)}for(var r=0,e=b.entries(t.extensions);r<e.length;r++){var u=tn(e[r],2),s=u[0],o=u[1];n.addExtension(gi(s),o)}for(var a=0,c=t.codecs;a<c.length;a++){var h=c[a],f=ai.expand(h);f&&n.addCodec(f)}for(var v=0,d=t.rids||[];v<d.length;v++){var l=d[v],g=ci.expand(l);n.addRID(g)}return t.simulcast&&n.setSimulcast(hi.expand(t.simulcast)),t.control&&n.setControl(t.control),n},li.clone=function(t){return"MediaInfo"===t.constructor.name?t.clone():li.expand(t)};var wi=li,mi=function(){function t(t,n){this.semantics=t,this.ssrcs=[];for(var i=0;i<n.length;++i)this.ssrcs.push(A(n[i]))}var n=t.prototype;return n.clone=function(){return new t(this.semantics,this.ssrcs)},n.plain=function(){for(var t={semantics:this.semantics,ssrcs:[]},n=0;n<this.ssrcs.length;++n)t.ssrcs.push(this.ssrcs[n]);return t},n.getSemantics=function(){return this.semantics},n.getSSRCs=function(){return this.ssrcs},t}();mi.expand=function(t){return"SourceGroupInfo"===t.constructor.name?t:new mi(t.semantics,t.ssrcs)},mi.clone=function(t){return"SourceGroupInfo"===t.constructor.name?t.clone():mi.expand(t)};var yi=mi,pi=function(){function t(t){this.ssrc=t}var n=t.prototype;return n.clone=function(){var n=new t(this.ssrc);return n.setCName(this.cname),n.setStreamId(this.streamId),n.setTrackId(this.trackId),n},n.plain=function(){var t={ssrc:this.ssrc};return this.cname&&(t.cname=this.cname),this.streamId&&(t.streamId=this.streamId),this.trackId&&(t.trackId=this.trackId),t},n.getCName=function(){return this.cname},n.setCName=function(t){this.cname=t},n.getStreamId=function(){return this.streamId},n.setStreamId=function(t){this.streamId=t},n.getTrackId=function(){return this.trackId},n.setTrackId=function(t){this.trackId=t},n.getSSRC=function(){return this.ssrc},t}();pi.expand=function(t){if("SourceInfo"===t.constructor.name)return t;var n=new pi(t.ssrc);return n.setCName(t.cname),n.setStreamId(t.streamId),n.setTrackId(t.trackId),n},pi.clone=function(t){return"SourceInfo"===t.constructor.name?t.clone():pi.expand(t)};var _i=pi,bi=pn,ki=function(){function t(t,n){void 0===n&&(n=!1),this.id=t,this.paused=n,this.codecs=new Map,this.params=new Map}var n=t.prototype;return n.clone=function(){for(var n=new t(this.id,this.paused),i=0,r=this.codecs.values();i<r.length;i++){var e=r[i];n.addCodec(e.clone())}return n.setParams(this.params),n},n.plain=function(){for(var t={id:this.id,paused:this.paused,codecs:{},params:{}},n=0,i=this.codecs.entries();n<i.length;n++){var r=tn(i[n],2),e=r[0],u=r[1];t.codecs[e]=u.plain()}for(var s=0,o=this.params.entries();s<o.length;s++){var a=tn(o[s],2),c=(e=a[0],a[1]);t.params[e]=c}return t},n.getId=function(){return this.id},n.getCodecs=function(){return this.codecs},n.addCodec=function(t){this.codecs.set(t.getType(),t)},n.getParams=function(){return this.params},n.setParams=function(t){this.params=new Map(t)},n.addParam=function(t,n){this.params.set(t,n)},n.isPaused=function(){return this.paused},t}();ki.expand=function(t){if("TrackEncodingInfo"===t.constructor.name)return t;for(var n=new ki(t.id,t.paused),i=0,r=b.values(t.codecs||{});i<r.length;i++){var e=r[i];n.addCodec(bi.expand(e))}for(var u=0,s=b.entries(t.params||{});u<s.length;u++){var o=tn(s[u],2),a=o[0],c=o[1];n.addParam(a,c)}return n},ki.clone=function(t){return"TrackEncodingInfo"===t.constructor.name?t.clone():ki.expand(t)};var Ai=ki,Ti=yi,Si=Ai,Ei=function(){function t(t,n){this.media=t,this.id=n,this.ssrcs=[],this.groups=[],this.encodings=[]}var n=t.prototype;return n.clone=function(){var n=new t(this.media,this.id);this.mediaId&&n.setMediaId(this.mediaId);for(var i=0;i<this.ssrcs.length;++i)n.addSSRC(this.ssrcs[i]);for(var r=0;r<this.groups.length;++r)n.addSourceGroup(this.groups[r].clone());for(var e=0;e<this.encodings.length;++e){for(var u=[],s=0;s<this.encodings[e].length;++s)u.push(this.encodings[e][s].clone());n.addAlternativeEncodings(u)}return n},n.plain=function(){var t={media:this.media,id:this.id,ssrcs:[]};this.mediaId&&(t.mediaId=this.mediaId);for(var n=0;n<this.ssrcs.length;++n)t.ssrcs.push(this.ssrcs[n]);for(var i=0;i<this.groups.length;++i)t.groups||(t.groups=[]),t.groups.push(this.groups[i].plain());for(var r=0;r<this.encodings.length;++r){for(var e=[],u=0;u<this.encodings[r].length;++u)e.push(this.encodings[r][u].plain());e.length&&(t.encodings||(t.encodings=[]),t.encodings.push(e))}return t},n.getMedia=function(){return this.media},n.setMediaId=function(t){this.mediaId=t},n.getMediaId=function(){return this.mediaId},n.getId=function(){return this.id},n.addSSRC=function(t){this.ssrcs.push(t)},n.getSSRCs=function(){return this.ssrcs},n.addSourceGroup=function(t){this.groups.push(t)},n.getSourceGroup=function(t){for(var n=0,i=this.groups;n<i.length;n++){var r=i[n];if(r.getSemantics().toLowerCase()===t.toLowerCase())return r}return null},n.getSourceGroups=function(){return this.groups},n.getSourceGroupsForMediaSSRC=function(t){return this.groups.filter((function(n){return n.getSSRCs()[0]===t}))},n.hasSourceGroup=function(t){for(var n=0,i=this.groups;n<i.length;n++)if(i[n].getSemantics().toLowerCase()===t.toLowerCase())return!0;return!1},n.getEncodings=function(){return this.encodings},n.addEncoding=function(t){this.encodings.push([t])},n.addAlternativeEncodings=function(t){this.encodings.push(t)},n.setEncodings=function(t){this.encodings=t},n.getEncodingSources=function(){var t=[];if(this.encodings.length)for(var n=0,i=this.encodings;n<i.length;n++)for(var r=i[n],e=0;e<r.length;e++){var u=r[e],s={id:u.getId(),rid:u.getId()},o=u.getParams(),a=null==o?void 0:o.get("ssrc");if(void 0!==a){s.media=A(a);for(var c=0,h=this.getSourceGroupsForMediaSSRC(s.media);c<h.length;c++){var f=h[c];switch(f.getSemantics()){case"FID":s.rtx=f.getSSRCs()[1];break;case"FEC-FR":s.fec=f.getSSRCs()[1]}}}t.push(s)}else if(this.hasSourceGroup("SIM")){var v=this.getSourceGroup("SIM").getSSRCs();this.getSourceGroups();for(var d=0;d<v.length;d++){for(var l=v[d],g={id:String(l),media:l},w=0,m=this.getSourceGroupsForMediaSSRC(g.media);w<m.length;w++){var y=m[w];switch(y.getSemantics()){case"FID":g.rtx=y.getSSRCs()[1];break;case"FEC-FR":g.fec=y.getSSRCs()[1]}}t.push(g)}}else{var p={id:""};if(this.ssrcs.length){p.media=this.ssrcs[0];for(var _=0,b=this.getSourceGroupsForMediaSSRC(p.media);_<b.length;_++){var k=b[_];switch(k.getSemantics()){case"FID":p.rtx=k.getSSRCs()[1];break;case"FEC-FR":p.fec=k.getSSRCs()[1]}}}t.push(p)}return t},t}();Ei.expand=function(t){var n,i;if("TrackInfo"===t.constructor.name)return t;var r=new Ei(t.media,t.id);if(t.mediaId&&r.setMediaId(t.mediaId),Array.isArray(t.ssrcs))for(var e=0,u=t.ssrcs;e<u.length;e++){var s=u[e];r.addSSRC(s)}else if(void 0!==(null===(n=t.ssrcs)||void 0===n?void 0:n.media)){var o=t.ssrcs.media;if(r.addSSRC(o),void 0!==t.ssrcs.rtx){var a=t.ssrcs.rtx;r.addSSRC(a),r.addSourceGroup(new Ti("FID",[o,a]))}if(void 0!==t.ssrcs.fec){var c=t.ssrcs.fec;r.addSSRC(c),r.addSourceGroup(new Ti("FEC-FR",[o,c]))}}if(t.rid){var h=new Si(t.rid);void 0!==(null===(i=t.ssrcs)||void 0===i?void 0:i.media)&&h.addParam("ssrc",t.ssrcs.media),r.addAlternativeEncodings([h])}for(var f=0,v=t.groups||[];f<v.length;f++){var d=v[f];r.addSourceGroup(Ti.expand(d))}for(var l=0,g=t.encodings||[];l<g.length;l++){for(var w=g[l],m=[],y=0;y<w.length;y++){var p=w[y];m.push(Si.expand(p))}r.addAlternativeEncodings(m)}return r},Ei.clone=function(t){return"TrackInfo"===t.constructor.name?t.clone():Ei.expand(t)};var Ii=Ei,Ri=Ii,Ci=function(){function t(t){this.id=t,this.tracks=new Map}var n=t.prototype;return n.clone=function(){for(var n=new t(this.id),i=0,r=this.tracks.values();i<r.length;i++){var e=r[i];n.addTrack(e.clone())}return n},n.plain=function(){for(var t={id:this.id,tracks:[]},n=0,i=this.tracks.values();n<i.length;n++){var r=i[n];t.tracks.push(r.plain())}return t},n.getId=function(){return this.id},n.addTrack=function(t){this.tracks.set(t.getId(),t)},n.removeTrack=function(t){return this.tracks.delete(t.getId())},n.removeTrackById=function(t){return this.tracks.delete(t)},n.getFirstTrack=function(t){for(var n=0,i=this.tracks.values();n<i.length;n++){var r=i[n];if(r.getMedia().toLowerCase()===t.toLowerCase())return r}return null},n.getTracks=function(){return this.tracks},n.removeAllTracks=function(){this.tracks.clear()},n.getTrack=function(t){return this.tracks.get(t)},t}();Ci.expand=function(t){if("StreamInfo"===t.constructor.name)return t;for(var n=new Ci(t.id),i=0,r=t.tracks||[];i<r.length;i++){var e=r[i],u=Ri.expand(e);u&&n.addTrack(u)}return n},Ci.clone=function(t){return"StreamInfo"===t.constructor.name?t.clone():Ci.expand(t)};var Ni,Di,Pi=Ci,xi=Kt,Li=(Ni="en-US",Di=new Intl.Collator(Ni,{sensitivity:"base"}),function(t,n){return 0==Di.compare(t,n)}),Mi=dn,Oi=pn,Bi=wn,Vi=Sn,Fi=In,Ui=zn,Wi=wi,Zi=kn,Xi=ui,Gi=jn,Hi=yi,zi=_i,Yi=Pi,ji=Ii,Ki=Ai,qi=ri,Ji=$n,Qi=Jn,$i=oi,tr=function(){function t(t){this.version=t||1,this.streams=new Map,this.medias=new Array,this.candidates=new Array,this.ice=null,this.dtls=null,this.crypto=null,this.extmapAllowMixed=!0}var n=t.prototype;return n.clone=function(){for(var n=new t(this.version),i=0,r=this.medias;i<r.length;i++){var e=r[i];n.addMedia(e.clone())}for(var u=0,s=this.streams.values();u<s.length;u++){var o=s[u];n.addStream(o.clone())}for(var a=0,c=this.candidates;a<c.length;a++){var h=c[a];n.addCandidate(h.clone())}return n.setICE(this.ice.clone()),this.dtls&&n.setDTLS(this.dtls.clone()),this.crypto&&n.setCrypto(this.crypto.clone()),n.setExtmapAllowMixed(this.extmapAllowMixed),n},n.plain=function(){for(var t={version:this.version,streams:[],medias:[],candidates:[]},n=0,i=this.medias;n<i.length;n++){var r=i[n];t.medias.push(r.plain())}for(var e=0,u=this.streams.values();e<u.length;e++){var s=u[e];t.streams.push(s.plain())}for(var o=0,a=this.candidates;o<a.length;o++){var c=a[o];t.candidates.push(c.plain())}return this.ice&&(t.ice=this.ice.plain()),this.dtls&&(t.dtls=this.dtls.plain()),this.crypto&&(t.crypto=this.crypto.plain()),this.extmapAllowMixed||(t.extmapAllowMixedNotSupported=!this.extmapAllowMixed),t},n.unify=function(){for(var n=new t(this.version),i=0,r=this.medias;i<r.length;i++){var e=r[i];n.addMedia(e.clone())}for(var u={audio:n.getMediasByType("audio"),video:n.getMediasByType("video")},s=0,o=this.streams.values();s<o.length;s++){for(var a=o[s].clone(),c=0,h=a.getTracks().values();c<h.length;c++){var f=h[c],v=u[f.getMedia()].pop();v||((v=this.getMedia(f.getMedia()).clone()).setId(f.getId()),n.addMedia(v)),f.setMediaId(v.getId())}n.addStream(a)}for(var d=0,l=this.candidates;d<l.length;d++){var g=l[d];n.addCandidate(g.clone())}return this.ice&&n.setICE(this.ice.clone()),this.dtls&&n.setDTLS(this.dtls.clone()),this.crypto&&n.setCrypto(this.crypto.clone()),n},n.setVersion=function(t){this.version=t},n.addMedia=function(t){this.medias.push(t)},n.getMedia=function(t){for(var n in this.medias){var i=this.medias[n];if(Li(i.getType(),t))return i}return null},n.getMediasByType=function(t){var n=[];for(var i in this.medias){var r=this.medias[i];Li(r.getType(),t)&&n.push(r)}return n},n.getMediaById=function(t){for(var n=0,i=this.medias;n<i.length;n++){var r=i[n];if(Li(r.getId(),t))return r}return null},n.replaceMedia=function(t){for(var n in this.medias)if(this.medias[n].getId()==t.getId())return this.medias[n]=t,!0;return!1},n.getMedias=function(){return this.medias},n.getVersion=function(){return this.version},n.getDTLS=function(){return this.dtls},n.setDTLS=function(t){this.dtls=t},n.hasCrypto=function(){return!!this.crypto},n.getCrypto=function(){return this.crypto},n.setCrypto=function(t){this.crypto=t},n.hasICE=function(){return!!this.ice},n.getICE=function(){return this.ice},n.setICE=function(t){this.ice=t},n.addCandidate=function(t){for(var n=0,i=this.candidates;n<i.length;n++)if(i[n].equals(t))return;this.candidates.push(t)},n.addCandidates=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.addCandidate(i)}},n.getCandidates=function(){return this.candidates},n.getStream=function(t){return this.streams.get(t)},n.getStreams=function(){return this.streams},n.getFirstStream=function(){for(var t=0,n=this.streams.values();t<n.length;t++)return n[t];return null},n.addStream=function(t){this.streams.set(t.getId(),t)},n.removeStream=function(t){return this.streams.delete(t.getId())},n.removeAllStreams=function(){this.streams.clear()},n.getTracksByMediaType=function(t){for(var n=[],i=0,r=this.streams.values();i<r.length;i++)for(var e=0,u=r[i].getTracks();e<u.length;e++){var s=tn(u[e],2),o=(s[0],s[1]);Li(o.getMedia(),t)&&n.push(o)}return n},n.getTrackByMediaId=function(t){for(var n=0,i=this.streams.values();n<i.length;n++)for(var r=0,e=i[n].getTracks();r<e.length;r++){var u=tn(e[r],2),s=(u[0],u[1]);if(s.getMediaId()==t)return s}return null},n.getStreamByMediaId=function(t){for(var n=0,i=this.streams.values();n<i.length;n++)for(var r=i[n],e=0,u=r.getTracks();e<u.length;e++){var s=tn(u[e],2);if(s[0],s[1].getMediaId()==t)return r}return null},n.getExtmapAllowMixed=function(){return this.extmapAllowMixed},n.setExtmapAllowMixed=function(t){this.extmapAllowMixed=t},n.answer=function(n){var i=new t;n.ice&&(n.ice instanceof Ui?i.setICE(n.ice.clone()):i.setICE(Ui.expand(n.ice))),n.dtls&&(n.dtls instanceof Vi?i.setDTLS(n.dtls):i.setDTLS(Vi.expand(n.dtls))),n.crypto&&(n.crypto instanceof Fi?i.setCrypto(n.crypto):i.setCrypto(Fi.expand(n.crypto)));for(var r=0;n.candidates&&r<n.candidates.length;++r)n.candidates[r]instanceof Mi?i.addCandidate(n.candidates[r].clone()):i.addCandidate(Mi.expand(n.candidates[r]));for(var e=0,u=this.medias;e<u.length;e++){var s=u[e],o=n&&n.capabilities&&n.capabilities[s.getType()];i.addMedia(s.answer(o))}return i.setExtmapAllowMixed(this.extmapAllowMixed),i},n.toString=function(){var t={version:0,media:[]};t.version=0,t.origin={username:"-",sessionId:(new Date).getTime(),sessionVersion:this.version,netType:"IN",ipVer:4,address:"127.0.0.1"},t.name="semantic-sdp",t.connection={version:4,ip:"0.0.0.0"},t.timing={start:0,stop:0},this.hasICE()&&this.getICE().isLite()&&(t.icelite="ice-lite"),t.msidSemantic={semantic:"WMS",token:"*"},t.groups=[],this.extmapAllowMixed&&(t.extmapAllowMixed="extmap-allow-mixed");for(var n=[],i=0,r=this.medias;i<r.length;i++){var e=r[i],u={type:e.getType(),port:9,protocol:"",fmtp:[],rtp:[],rtcpFb:[],ext:[],bandwidth:[],candidates:[],ssrcGroups:[],ssrcs:[],rids:[]};u.direction=Xi.toString(e.getDirection()),this.extmapAllowMixed&&(u.extmapAllowMixed="extmap-allow-mixed"),u.mid=e.getId(),n.push(e.getId()),e.hasControl()&&(u.control=e.getControl()),e.getBitrate()>0&&(u.bandwidth.push({type:"AS",limit:e.getBitrate()}),u.bandwidth.push({type:"TIAS",limit:1e3*e.getBitrate()}));for(var s=this.getCandidates(),o=0;o<s.length;o++){var a=s[o];u.candidates.push({foundation:a.getFoundation(),component:a.getComponentId(),transport:a.getTransport(),priority:a.getPriority(),ip:a.getAddress(),port:a.getPort(),type:a.getType(),raddr:a.getRelAddr(),rport:a.getRelPort()})}if(this.getICE()&&(u.iceUfrag=this.getICE().getUfrag(),u.icePwd=this.getICE().getPwd()),Li("audio",e.getType())||Li("video",e.getType())){u.rtcpMux="rtcp-mux",u.rtcpRsize="rtcp-rsize",this.getDTLS()?(u.protocol="UDP/TLS/RTP/SAVPF",u.fingerprint={type:this.getDTLS().getHash(),hash:this.getDTLS().getFingerprint()},u.setup=Zi.toString(this.getDTLS().getSetup())):this.getCrypto()?(u.protocol="RTP/SAVPF",u.crypto=[{id:this.getCrypto().getTag(),suite:this.getCrypto().getSuite(),config:this.getCrypto().getKeyParams()}]):u.protocol="RTP/AVP";for(var c=0,h=e.getCodecs().values();c<h.length;c++){var f=h[c];Li("video",e.getType())?u.rtp.push({payload:f.getType(),codec:f.getCodec().toUpperCase(),rate:9e4}):Li("opus",f.getCodec())||Li("multiopus",f.getCodec())?u.rtp.push({payload:f.getType(),codec:f.getCodec(),rate:48e3,encoding:f.getChannels()}):u.rtp.push({payload:f.getType(),codec:f.getCodec(),rate:8e3});for(var v=0,d=f.getRTCPFeedbacks();v<d.length;v++){var l=d[v];u.rtcpFb.push({payload:f.getType(),type:l.getId(),subtype:l.getParams().join(" ")})}f.hasRTX()&&(u.rtp.push({payload:f.getRTX(),codec:"rtx",rate:9e4}),u.fmtp.push({payload:f.getRTX(),config:"apt="+f.getType()}));var g=f.getParams();if(b.keys(g).length){var w={payload:f.getType(),config:""};for(var m in g)w.config.length&&(w.config+=";"),b.hasOwnProperty.call(g,m)?w.config+=m+"="+g[m]:w.config+=m;u.fmtp.push(w)}}for(var y=[],p=0,_=u.rtp;p<_.length;p++){var k=_[p];y.push(k.payload)}u.payloads=y.join(" ");for(var A=0,T=e.getExtensions().entries();A<T.length;A++){var S=tn(T[A],2),E=S[0],I=S[1];u.ext.push({value:E,uri:I})}for(var R=0,C=e.getRIDs().values();R<C.length;R++){var N=C[R],D={id:N.getId(),direction:Gi.toString(N.getDirection()),params:""};N.getFormats().length&&(D.params="pt="+N.getFormats().join(","));for(var P=0,x=N.getParams().entries();P<x.length;P++){var L=tn(x[P],2),M=L[0],O=L[1];D.params+=(D.params.length?";":"")+M+"="+O}u.rids.push(D)}var B=e.getSimulcast();if(B){var V=1;u.simulcast={};var F=B.getSimulcastStreams(Gi.SEND),U=B.getSimulcastStreams(Gi.RECV);if(F&&F.length){for(var W="",Z=0;Z<F.length;Z++){for(var X=F[Z],G="",H=0;H<X.length;H++){var z=X[H];G+=(G.length?",":"")+(z.isPaused()?"~":"")+z.getId()}W+=(W.length?";":"")+G}u.simulcast["dir"+V]="send",u.simulcast["list"+V]=W,V++}if(U&&U.length){for(var Y="",j=0;j<U.length;j++){for(var K=U[j],q="",J=0;J<K.length;J++){var Q=K[J];q+=(q.length?",":"")+(Q.isPaused()?"~":"")+Q.getId()}Y+=(Y.length?";":"")+q}u.simulcast["dir"+V]="recv",u.simulcast["list"+V]=Y,V++}}}else if(e.hasDataChannel()){u.protocol="UDP/DTLS/SCTP",u.payloads="webrtc-datachannel";var $=e.getDataChannel();u.sctpPort=$.getPort(),u.maxMessageSize=$.getMaxMessageSize()}t.media.push(u)}for(var tt=0,nt=this.streams.values();tt<nt.length;tt++)for(var it=nt[tt],rt=0,et=it.getTracks().values();rt<et.length;rt++){var ut=et[rt];for(var st in t.media){var ot=t.media[st];if(ut.getMediaId()){if(ut.getMediaId()==ot.mid){var at=ut.getSourceGroups();for(var ct in at){var ht=at[ct];ot.ssrcGroups.push({semantics:ht.getSemantics(),ssrcs:ht.getSSRCs().join(" ")})}var ft=ut.getSSRCs();for(var vt in ft)ot.ssrcs.push({id:ft[vt],attribute:"cname",value:it.getId()}),ot.ssrcs.push({id:ft[vt],attribute:"msid",value:it.getId()+" "+ut.getId()});ot.msid=it.getId()+" "+ut.getId();break}}else if(Li(ot.type,ut.getMedia())){var dt=ut.getSourceGroups();for(var lt in dt){var gt=dt[lt];ot.ssrcGroups.push({semantics:gt.getSemantics(),ssrcs:gt.getSSRCs().join(" ")})}var wt=ut.getSSRCs();for(var mt in wt)ot.ssrcs.push({id:wt[mt],attribute:"cname",value:it.getId()}),ot.ssrcs.push({id:wt[mt],attribute:"msid",value:it.getId()+" "+ut.getId()});break}}}var yt={type:"BUNDLE",mids:n.join(" ")};return t.groups.push(yt),xi.write(t)},n.toIceFragmentString=function(){var t={version:0,media:[],candidates:[]};this.hasICE()&&this.getICE().isLite()&&(t.icelite="ice-lite"),this.getICE()&&(t.iceUfrag=this.getICE().getUfrag(),t.icePwd=this.getICE().getPwd());for(var n=0,i=this.getCandidates();n<i.length;n++){var r=i[n];t.candidates.push({foundation:r.getFoundation(),component:r.getComponentId(),transport:r.getTransport(),priority:r.getPriority(),ip:r.getAddress(),port:r.getPort(),type:r.getType(),raddr:r.getRelAddr(),rport:r.getRelPort()})}return xi.write(t).slice(10)},t}();tr.create=function(t){var n,i=new tr;if(t.streams)for(var r=0,e=t.streams;r<e.length;r++){var u=e[r];i.addStream(Yi.expand(u))}t.ice&&(t.ice instanceof Ui?i.setICE(t.ice.clone()):i.setICE(Ui.expand(t.ice))),t.dtls&&(t.dtls instanceof Vi?i.setDTLS(t.dtls):i.setDTLS(Vi.expand(t.dtls))),t.crypto&&(t.crypto instanceof Fi?i.setCrypto(t.crypto):i.setCrypto(Fi.expand(t.crypto)));for(var s=0,o=t.candidates||[];s<o.length;s++){var a=o[s];a instanceof Mi?i.addCandidate(a.clone()):i.addCandidate(Mi.expand(a))}for(var c=96,h=1,f=0,v=0,d=b.entries(t.capabilities||{});v<d.length;v++){var l=tn(d[v],2),g=l[0],w=l[1];if(t.unified&&null!==(n=t.streams)&&void 0!==n&&n.length)for(var m=0,y=i.getTracksByMediaType(g);m<y.length;m++){for(var p=y[m],_=Wi.create(p.getMediaId(),g,w),k=0,A=_.getCodecs();k<A.length;k++){var T=tn(A[k],2),S=(T[0],T[1]);S.getType()>=96&&S.setType(c++),S.getRTX()&&S.setRTX(c++)}if(w.extensions)for(var E=0,I=w.extensions;E<I.length;E++){var R=I[E];15===h&&h++,_.addExtension(h++,R)}i.addMedia(_)}else{for(var C=Wi.create(t.unified?String(f++):g,g,w),N=0,D=C.getCodecs();N<D.length;N++){var P=tn(D[N],2),x=(P[0],P[1]);x.getType()>=96&&x.setType(c++),x.getRTX()&&x.setRTX(c++)}if(w.extensions)for(var L=0,M=w.extensions;L<M.length;L++){var O=M[L];15===h&&h++,C.addExtension(h++,O)}i.addMedia(C)}}return i},tr.expand=function(t){if("SDPInfo"===t.constructor.name)return t;for(var n=new tr(t.version),i=0,r=t.medias||[];i<r.length;i++){var e=r[i],u=Wi.expand(e);u&&n.addMedia(u)}for(var s=0,o=t.streams||[];s<o.length;s++){var a=o[s],c=Yi.expand(a);c&&n.addStream(c)}for(var h=0,f=t.candidates||[];h<f.length;h++){var v=f[h],d=Mi.expand(v);d&&n.addCandidate(d)}return t.ice&&n.setICE(Ui.expand(t.ice)),t.dtls&&n.setDTLS(Vi.expand(t.dtls)),t.crypto&&n.setCrypto(Fi.expand(t.crypto)),t.extmapAllowMixedNotSupported&&(this.extmapAllowMixed=!t.extmapAllowMixedNotSupported),n},tr.clone=function(t){return"SDPInfo"===t.constructor.name?t.clone():tr.expand(t)},tr.process=function(t){return tr.parse(t)},tr.parse=function(t){var n=xi.parse(t),i=new tr;if(i.setVersion(n.version),n.iceUfrag&&n.icePwd){var r=String(n.iceUfrag),e=String(n.icePwd),u=new Ui(r,e);u.setLite("ice-lite"==n.icelite),u.setEndOfCandidates("end-of-candidates"==n.endOfCandidates),i.setICE(u)}for(var s in n.media){var o=n.media[s],a=o.type,c=o.mid?o.mid.toString():s,h=new Wi(c,a);if(o.iceUfrag&&o.icePwd){var f=String(o.iceUfrag),v=String(o.icePwd),d=new Ui(f,v);d.setLite("ice-lite"==n.icelite),d.setEndOfCandidates("end-of-candidates"==o.endOfCandidates),i.setICE(d)}for(var l=0;o.candidates&&l<o.candidates.length;++l){var g=o.candidates[l],w=new Mi(g.foundation,g.component,g.transport,g.priority,g.ip,g.port,g.type,g.raddr,g.rport);i.addCandidate(w)}var m=o.fingerprint||n.fingerprint;if(m){var y=m.type,p=m.hash,_=Zi.ACTPASS;o.setup&&(_=Zi.byValue(o.setup)),i.setDTLS(new Vi(_,y,p))}if(o.crypto){var b=o.crypto[0];i.setCrypto(new Fi(b.id,b.suite,b.config,b.sessionConfig))}var k=Xi.SENDRECV;o.direction&&(k=Xi.byValue(o.direction),h.setDirection(k)),o.control&&h.setControl(o.control),i.setExtmapAllowMixed("extmap-allow-mixed"==o.extmapAllowMixed||"extmap-allow-mixed"==n.extmapAllowMixed);var T=new Map;for(var S in o.rtp){var E=o.rtp[S],I=E.payload,R=E.codec;if("RED"!==R.toUpperCase()&&"ULPFEC"!==R.toUpperCase()){var C={};for(var N in o.fmtp){var D=o.fmtp[N];if(D.payload===I){var P=D.config.split(";");for(var x in P){var L=P[x].split("="),M=L[0].trim(),O=L.splice(1).join("=").trim();C[M]=O}}}if("RTX"===R.toUpperCase())T.set(A(C.apt),I);else{var B=new Oi(R,I,C);E.encoding>1&&B.setChannels(E.encoding),h.addCodec(B)}}}for(var V=0,F=T.entries();V<F.length;V++){var U=F[V],W=h.getCodecForType(U[0]);W&&W.setRTX(U[1])}for(var Z=0;o.rtcpFb&&Z<o.rtcpFb.length;++Z){var X=h.getCodecForType(o.rtcpFb[Z].payload);if(X){var G=o.rtcpFb[Z].type,H=o.rtcpFb[Z].subtype?o.rtcpFb[Z].subtype.split(" "):null;X.addRTCPFeedback(new Bi(G,H))}}var z=o.ext;for(var Y in z){var j=z[Y];h.addExtension(j.value,j.uri)}var K=o.rids;for(var q in K){var J=K[q],Q=new Qi(J.id,Gi.byValue(J.direction)),$=[],tt=new Map;if(J.params){var nt=xi.parseParams(J.params);for(var it in nt)"pt"===it?$=nt[it].split(","):tt.set(it,nt[it]);Q.setFormats($),Q.setParams(tt)}h.addRID(Q)}var rt=[];if(o.simulcast){var et=new qi;if(o.simulcast.dir1)for(var ut=Gi.byValue(o.simulcast.dir1),st=xi.parseSimulcastStreamList(o.simulcast.list1),ot=0;ot<st.length;++ot){for(var at=[],ct=0;ct<st[ot].length;++ct)at.push(new Ji(st[ot][ct].scid,st[ot][ct].paused));et.addSimulcastAlternativeStreams(ut,at)}if(o.simulcast.dir2)for(var ht=Gi.byValue(o.simulcast.dir2),ft=xi.parseSimulcastStreamList(o.simulcast.list2),vt=0;vt<ft.length;++vt){for(var dt=[],lt=0;lt<ft[vt].length;++lt)dt.push(new Ji(ft[vt][lt].scid,ft[vt][lt].paused));et.addSimulcastAlternativeStreams(ht,dt)}for(var gt=0,wt=et.getSimulcastStreams(Gi.SEND);gt<wt.length;gt++){for(var mt=wt[gt],yt=[],pt=0;pt<mt.length;pt++){var _t=new Ki(mt[pt].getId(),mt[pt].isPaused()),bt=h.getRID(_t.getId());if(bt){for(var kt=bt.getFormats(),At=0;kt&&At<kt.length;++At){var Tt=h.getCodecForType(kt[At]);Tt&&_t.addCodec(Tt)}_t.setParams(bt.getParams()),yt.push(_t)}}yt.length&&rt.push(yt)}h.setSimulcast(et)}var St=new Map;if(o.ssrcs)for(var Et in o.ssrcs){var It=o.ssrcs[Et],Rt=It.id,Ct=It.attribute,Nt=It.value,Dt=St.get(Rt);if(Dt||(Dt=new zi(Rt),St.set(Dt.getSSRC(),Dt)),Li("cname",Ct))Dt.setCName(Nt);else if(Li("msid",Ct)){var Pt=Nt.split(" "),xt=Pt[0],Lt=Pt[1];Dt.setStreamId(xt),Dt.setTrackId(Lt);var Mt=i.getStream(xt);Mt||(Mt=new Yi(xt),i.addStream(Mt));var Ot=Mt.getTrack(Lt);Ot||((Ot=new ji(a,Lt)).setMediaId(c),Ot.setEncodings(rt),Mt.addTrack(Ot)),Ot.addSSRC(Rt)}}if(o.msid){var Bt=o.msid.split(" "),Vt=Bt[0],Ft=Bt[1],Ut=i.getStream(Vt);Ut||(Ut=new Yi(Vt),i.addStream(Ut));var Wt=Ut.getTrack(Ft);Wt||((Wt=new ji(a,Ft)).setMediaId(c),Wt.setEncodings(rt),Ut.addTrack(Wt));for(var Zt=0,Xt=St.entries();Zt<Xt.length;Zt++){var Gt=tn(Xt[Zt],2),Ht=Gt[0],zt=Gt[1];zt.getStreamId()||(zt.setStreamId(Vt),zt.setTrackId(Ft),Wt.addSSRC(Ht))}}for(var Yt=0,jt=St.entries();Yt<jt.length;Yt++){var Kt=tn(jt[Yt],2),qt=Kt[0],Jt=Kt[1];if(!Jt.getStreamId()){var Qt=Jt.getCName(),$t=c;Jt.setStreamId(Qt),Jt.setTrackId($t);var nn=i.getStream(Qt);nn||(nn=new Yi(Qt),i.addStream(nn));var rn=nn.getTrack($t);rn||((rn=new ji(a,$t)).setMediaId(c),rn.setEncodings(rt),nn.addTrack(rn)),rn.addSSRC(qt)}}if(o.ssrcGroups)for(var en in o.ssrcGroups){var un=o.ssrcGroups[en],sn=un.ssrcs.split(" "),on=new Hi(un.semantics,sn),an=St.get(A(sn[0]));an&&i.getStream(an.getStreamId()).getTrack(an.getTrackId()).addSourceGroup(on)}if("application"==o.type&&"webrtc-datachannel"==o.payloads){var cn=new $i(o.sctpPort,o.maxMessageSize);h.setDataChannel(cn)}i.addMedia(h)}return i};var nr=tr;b.defineProperty(jt,"__esModule",{value:!0});var ir=jt.SDPInfo=nr;jt.CandidateInfo=dn,jt.CodecInfo=pn,jt.DTLSInfo=Sn,jt.CryptoInfo=In,jt.ICEInfo=zn;var rr=jt.MediaInfo=wi;jt.Setup=kn,jt.SourceGroupInfo=yi,jt.SourceInfo=_i,jt.StreamInfo=Pi,jt.TrackInfo=Ii,jt.RTCPFeedbackInfo=wn,jt.TrackEncodingInfo=Ai,jt.RIDInfo=Jn,jt.SimulcastInfo=ri,jt.SimulcastStreamInfo=$n,jt.DataChannelInfo=oi;var er=jt.Direction=ui,ur={exports:{}};!function(t,n){!function(i,r){var e="function",u="undefined",s="object",o="string",a="major",c="model",h="name",f="type",v="vendor",d="version",l="architecture",g="console",w="mobile",m="tablet",y="smarttv",p="wearable",_="embedded",b="Amazon",k="Apple",A="ASUS",T="BlackBerry",S="Browser",E="Chrome",I="Firefox",R="Google",C="Huawei",N="LG",D="Microsoft",P="Motorola",x="Opera",L="Samsung",M="Sharp",O="Sony",B="Xiaomi",V="Zebra",F="Facebook",W="Chromium OS",Z="Mac OS",X=" Browser",G=function(t){for(var n={},i=0;i<t.length;i++)n[t[i].toUpperCase()]=t[i];return n},H=function(t,n){return(void 0===t?"undefined":U(t))===o&&-1!==z(n).indexOf(z(t))},z=function(t){return t.toLowerCase()},Y=function(t,n){if((void 0===t?"undefined":U(t))===o)return t=t.replace(/^\s\s*/,""),(void 0===n?"undefined":U(n))===u?t:t.substring(0,500)},j=function(t,n){for(var i,u,o,a,c,h,f=0;f<n.length&&!c;){var v=n[f],d=n[f+1];for(i=u=0;i<v.length&&!c&&v[i];)if(c=v[i++].exec(t))for(o=0;o<d.length;o++)h=c[++u],(void 0===(a=d[o])?"undefined":U(a))===s&&a.length>0?2===a.length?U(a[1])==e?this[a[0]]=a[1].call(this,h):this[a[0]]=a[1]:3===a.length?U(a[1])!==e||a[1].exec&&a[1].test?this[a[0]]=h?h.replace(a[1],a[2]):r:this[a[0]]=h?a[1].call(this,h,a[2]):r:4===a.length&&(this[a[0]]=h?a[3].call(this,h.replace(a[1],a[2])):r):this[a]=h||r;f+=2}},K=function(t,n){for(var i in n)if(U(n[i])===s&&n[i].length>0){for(var e=0;e<n[i].length;e++)if(H(n[i][e],t))return"?"===i?r:i}else if(H(n[i],t))return"?"===i?r:i;return n.hasOwnProperty("*")?n["*"]:t},q={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},J={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[d,[h,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[d,[h,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[h,d],[/opios[\/ ]+([\w\.]+)/i],[d,[h,x+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[d,[h,x+" GX"]],[/\bopr\/([\w\.]+)/i],[d,[h,x]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[d,[h,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[h,d],[/quark(?:pc)?\/([-\w\.]+)/i],[d,[h,"Quark"]],[/\bddg\/([\w\.]+)/i],[d,[h,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[d,[h,"UC"+S]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[d,[h,"WeChat"]],[/konqueror\/([\w\.]+)/i],[d,[h,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[d,[h,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[d,[h,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[d,[h,"Smart Lenovo "+S]],[/(avast|avg)\/([\w\.]+)/i],[[h,/(.+)/,"$1 Secure "+S],d],[/\bfocus\/([\w\.]+)/i],[d,[h,I+" Focus"]],[/\bopt\/([\w\.]+)/i],[d,[h,x+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[d,[h,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[d,[h,"Dolphin"]],[/coast\/([\w\.]+)/i],[d,[h,x+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[d,[h,"MIUI "+S]],[/fxios\/([-\w\.]+)/i],[d,[h,I]],[/\bqihu|(qi?ho?o?|360)browser/i],[[h,"360"+X]],[/\b(qq)\/([\w\.]+)/i],[[h,/(.+)/,"$1Browser"],d],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[h,/(.+)/,"$1"+X],d],[/samsungbrowser\/([\w\.]+)/i],[d,[h,L+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[h,/_/g," "],d],[/metasr[\/ ]?([\d\.]+)/i],[d,[h,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[h,"Sogou Mobile"],d],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[h,d],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[h],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[h,F],d],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[h,d],[/\bgsa\/([\w\.]+) .*safari\//i],[d,[h,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[d,[h,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[d,[h,E+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[h,E+" WebView"],d],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[d,[h,"Android "+S]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[h,d],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[d,[h,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[d,h],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[h,[d,K,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[h,d],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[h,"Netscape"],d],[/(wolvic)\/([\w\.]+)/i],[h,d],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[d,[h,I+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[h,[d,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[h,[d,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[l,"amd64"]],[/(ia32(?=;))/i],[[l,z]],[/((?:i[346]|x)86)[;\)]/i],[[l,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[l,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[l,"armhf"]],[/windows (ce|mobile); ppc;/i],[[l,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[l,/ower/,"",z]],[/(sun4\w)[;\)]/i],[[l,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[l,z]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[c,[v,L],[f,m]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[c,[v,L],[f,w]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[c,[v,k],[f,w]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[c,[v,k],[f,m]],[/(macintosh);/i],[c,[v,k]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[c,[v,M],[f,w]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[c,[v,C],[f,m]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[c,[v,C],[f,w]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[c,/_/g," "],[v,B],[f,w]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[c,/_/g," "],[v,B],[f,m]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[c,[v,"OPPO"],[f,w]],[/\b(opd2\d{3}a?) bui/i],[c,[v,"OPPO"],[f,m]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[c,[v,"Vivo"],[f,w]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[c,[v,"Realme"],[f,w]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[c,[v,P],[f,w]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[c,[v,P],[f,m]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[c,[v,N],[f,m]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[c,[v,N],[f,w]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[c,[v,"Lenovo"],[f,m]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[c,/_/g," "],[v,"Nokia"],[f,w]],[/(pixel c)\b/i],[c,[v,R],[f,m]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[c,[v,R],[f,w]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[c,[v,O],[f,w]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[c,"Xperia Tablet"],[v,O],[f,m]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[c,[v,"OnePlus"],[f,w]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[c,[v,b],[f,m]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[c,/(.+)/g,"Fire Phone $1"],[v,b],[f,w]],[/(playbook);[-\w\),; ]+(rim)/i],[c,v,[f,m]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[c,[v,T],[f,w]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[c,[v,A],[f,m]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[c,[v,A],[f,w]],[/(nexus 9)/i],[c,[v,"HTC"],[f,m]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[v,[c,/_/g," "],[f,w]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[c,[v,"TCL"],[f,m]],[/(itel) ((\w+))/i],[[v,z],c,[f,K,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[c,[v,"Acer"],[f,m]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[c,[v,"Meizu"],[f,w]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[c,[v,"Ulefone"],[f,w]],[/droid.+; (a(?:015|06[35]|142p?))/i],[c,[v,"Nothing"],[f,w]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[v,c,[f,w]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[v,c,[f,m]],[/(surface duo)/i],[c,[v,D],[f,m]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[c,[v,"Fairphone"],[f,w]],[/(u304aa)/i],[c,[v,"AT&T"],[f,w]],[/\bsie-(\w*)/i],[c,[v,"Siemens"],[f,w]],[/\b(rct\w+) b/i],[c,[v,"RCA"],[f,m]],[/\b(venue[\d ]{2,7}) b/i],[c,[v,"Dell"],[f,m]],[/\b(q(?:mv|ta)\w+) b/i],[c,[v,"Verizon"],[f,m]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[c,[v,"Barnes & Noble"],[f,m]],[/\b(tm\d{3}\w+) b/i],[c,[v,"NuVision"],[f,m]],[/\b(k88) b/i],[c,[v,"ZTE"],[f,m]],[/\b(nx\d{3}j) b/i],[c,[v,"ZTE"],[f,w]],[/\b(gen\d{3}) b.+49h/i],[c,[v,"Swiss"],[f,w]],[/\b(zur\d{3}) b/i],[c,[v,"Swiss"],[f,m]],[/\b((zeki)?tb.*\b) b/i],[c,[v,"Zeki"],[f,m]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[v,"Dragon Touch"],c,[f,m]],[/\b(ns-?\w{0,9}) b/i],[c,[v,"Insignia"],[f,m]],[/\b((nxa|next)-?\w{0,9}) b/i],[c,[v,"NextBook"],[f,m]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[v,"Voice"],c,[f,w]],[/\b(lvtel\-)?(v1[12]) b/i],[[v,"LvTel"],c,[f,w]],[/\b(ph-1) /i],[c,[v,"Essential"],[f,w]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[c,[v,"Envizen"],[f,m]],[/\b(trio[-\w\. ]+) b/i],[c,[v,"MachSpeed"],[f,m]],[/\btu_(1491) b/i],[c,[v,"Rotor"],[f,m]],[/(shield[\w ]+) b/i],[c,[v,"Nvidia"],[f,m]],[/(sprint) (\w+)/i],[v,c,[f,w]],[/(kin\.[onetw]{3})/i],[[c,/\./g," "],[v,D],[f,w]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[c,[v,V],[f,m]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[c,[v,V],[f,w]],[/smart-tv.+(samsung)/i],[v,[f,y]],[/hbbtv.+maple;(\d+)/i],[[c,/^/,"SmartTV"],[v,L],[f,y]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[v,N],[f,y]],[/(apple) ?tv/i],[v,[c,k+" TV"],[f,y]],[/crkey/i],[[c,E+"cast"],[v,R],[f,y]],[/droid.+aft(\w+)( bui|\))/i],[c,[v,b],[f,y]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[c,[v,M],[f,y]],[/(bravia[\w ]+)( bui|\))/i],[c,[v,O],[f,y]],[/(mitv-\w{5}) bui/i],[c,[v,B],[f,y]],[/Hbbtv.*(technisat) (.*);/i],[v,c,[f,y]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[v,Y],[c,Y],[f,y]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[f,y]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[v,c,[f,g]],[/droid.+; (shield) bui/i],[c,[v,"Nvidia"],[f,g]],[/(playstation [345portablevi]+)/i],[c,[v,O],[f,g]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[c,[v,D],[f,g]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[c,[v,L],[f,p]],[/((pebble))app/i],[v,c,[f,p]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[c,[v,k],[f,p]],[/droid.+; (glass) \d/i],[c,[v,R],[f,p]],[/droid.+; (wt63?0{2,3})\)/i],[c,[v,V],[f,p]],[/(quest( \d| pro)?)/i],[c,[v,F],[f,p]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[v,[f,_]],[/(aeobc)\b/i],[c,[v,b],[f,_]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[c,[f,w]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[c,[f,m]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[f,m]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[f,w]],[/(android[-\w\. ]{0,9});.+buil/i],[c,[v,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[d,[h,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[d,[h,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[h,d],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[d,h]],os:[[/microsoft (windows) (vista|xp)/i],[h,d],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[h,[d,K,q]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[d,K,q],[h,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[d,/_/g,"."],[h,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[h,Z],[d,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[d,h],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[h,d],[/\(bb(10);/i],[d,[h,T]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[d,[h,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[d,[h,I+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[d,[h,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[d,[h,"watchOS"]],[/crkey\/([\d\.]+)/i],[d,[h,E+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[h,W],d],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[h,d],[/(sunos) ?([\w\.\d]*)/i],[[h,"Solaris"],d],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[h,d]]},Q=function(t,n){if((void 0===t?"undefined":U(t))===s&&(n=t,t=r),!(this instanceof Q))return new Q(t,n).getResult();var g=(void 0===i?"undefined":U(i))!==u&&i.navigator?i.navigator:r,y=t||(g&&g.userAgent?g.userAgent:""),p=g&&g.userAgentData?g.userAgentData:r,_=n?function(t,n){var i={};for(var r in t)n[r]&&n[r].length%2==0?i[r]=n[r].concat(t[r]):i[r]=t[r];return i}(J,n):J,b=g&&g.userAgent==y;return this.getBrowser=function(){var t={};return t[h]=r,t[d]=r,j.call(t,y,_.browser),t[a]=function(t){return(void 0===t?"undefined":U(t))===o?t.replace(/[^\d\.]/g,"").split(".")[0]:r}(t[d]),b&&g&&g.brave&&U(g.brave.isBrave)==e&&(t[h]="Brave"),t},this.getCPU=function(){var t={};return t[l]=r,j.call(t,y,_.cpu),t},this.getDevice=function(){var t={};return t[v]=r,t[c]=r,t[f]=r,j.call(t,y,_.device),b&&!t[f]&&p&&p.mobile&&(t[f]=w),b&&"Macintosh"==t[c]&&g&&U(g.standalone)!==u&&g.maxTouchPoints&&g.maxTouchPoints>2&&(t[c]="iPad",t[f]=m),t},this.getEngine=function(){var t={};return t[h]=r,t[d]=r,j.call(t,y,_.engine),t},this.getOS=function(){var t={};return t[h]=r,t[d]=r,j.call(t,y,_.os),b&&!t[h]&&p&&p.platform&&"Unknown"!=p.platform&&(t[h]=p.platform.replace(/chrome os/i,W).replace(/macos/i,Z)),t},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return y},this.setUA=function(t){return y=(void 0===t?"undefined":U(t))===o&&t.length>500?Y(t,500):t,this},this.setUA(y),this};Q.VERSION="0.7.39",Q.BROWSER=G([h,d,a]),Q.CPU=G([l]),Q.DEVICE=G([c,v,f,g,w,y,m,p,_]),Q.ENGINE=Q.OS=G([h,d]),t.exports&&(n=t.exports=Q),n.UAParser=Q;var $=(void 0===i?"undefined":U(i))!==u&&(i.jQuery||i.Zepto);if($&&!$.ua){var tt=new Q;$.ua=tt.getResult(),$.ua.get=function(){return tt.getUA()},$.ua.set=function(t){tt.setUA(t);var n=tt.getResult();for(var i in n)$.ua[i]=n[i]}}}("object"==(void 0===f?"undefined":U(f))?f:N)}(ur,ur.exports);var sr=D(ur.exports),or=["iOS"],ar=function(t){function n(){return t.call(this,f.navigator.userAgent)||this}It(n,t);var i=n.prototype;return i.isChromium=function(){return this.getUA().match(/Chrome/i)},i.isChrome=function(){var t=this.getBrowser();if(!t.name)return!1;var n,i=this.getOS();return n=!new RegExp(or.join("|"),"i").test(i.name),t.name.match(/Chrome/i)&&n},i.isFirefox=function(){var t=this.getBrowser();return!!t.name&&t.name.match(/Firefox/i)},i.isOpera=function(){var t=this.getBrowser();return!!t.name&&t.name.match(/Opera/i)},i.isSafari=function(){var t=this.getBrowser();return!!t.name&&t.name.match(/Safari/i)},n}(sr),cr=gt.get("SdpParser"),hr=Array.from({length:31},(function(t,n){return n+35})),fr=Array.from({length:32},(function(t,n){return n+96})),vr=Array.from({length:14},(function(t,n){return n+1})),dr=Array.from({length:240},(function(t,n){return n+16})),lr={setSimulcast:function(t,n){if(cr.info("Setting simulcast. Codec: ",n),!(new ar).isChromium())return cr.warn("Your browser does not appear to support Simulcast. For a better experience, use a Chromium based browser."),t;if("h264"!==n&&"vp8"!==n)return cr.warn("Your selected codec ".concat(n," does not appear to support Simulcast.  To broadcast using simulcast, please use H.264 or VP8.")),t;if(!/m=video/.test(t))return cr.warn("There is no available video for simulcast to be enabled."),t;try{for(var i=new RegExp("m=video.*?a=ssrc:(\\d*) cname:(.+?)\\r\\n","s"),r=new RegExp("m=video.*?a=ssrc:(\\d*) msid:(.+?)\\r\\n","s"),e=i.exec(t),u=e[1],s=e[2],o=r.exec(t)[2],a=[u],c=0;c<2;++c){var h=100+2*c,f=h+1;a.push(h),t+="a=ssrc-group:FID "+h+" "+f+"\r\na=ssrc:"+h+" cname:"+s+"\r\na=ssrc:"+h+" msid:"+o+"\r\na=ssrc:"+f+" cname:"+s+"\r\na=ssrc:"+f+" msid:"+o+"\r\n"}return t+="a=ssrc-group:SIM "+a.join(" ")+"\r\n",cr.info("Simulcast setted"),cr.debug("Simulcast SDP: ",t),t}catch(t){throw cr.error("Error setting SDP for simulcast: ",t),t}},setStereo:function(t){return cr.info("Replacing SDP response for support stereo"),t=t.replace(/useinbandfec=1/g,"useinbandfec=1; stereo=1"),cr.info("Replaced SDP response for support stereo"),cr.debug("New SDP value: ",t),t},setDTX:function(t){return cr.info("Replacing SDP response for support dtx"),t=t.replace("useinbandfec=1","useinbandfec=1; usedtx=1"),cr.info("Replaced SDP response for support dtx"),cr.debug("New SDP value: ",t),t},setAbsoluteCaptureTime:function(t){var n="a=extmap:"+lr.getAvailableHeaderExtensionIdRange(t)[0]+" http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time\r\n";return t=t.replace(/(m=.*\r\n(?:.*\r\n)*?)(a=extmap.*\r\n)/gm,(function(t,i,r){return i+n+r})),cr.info("Replaced SDP response for setting absolute capture time"),cr.debug("New SDP value: ",t),t},setDependencyDescriptor:function(t){var n="a=extmap:"+lr.getAvailableHeaderExtensionIdRange(t)[0]+" https://aomediacodec.github.io/av1-rtp-spec/#dependency-descriptor-rtp-header-extension\r\n";return t=t.replace(/(m=.*\r\n(?:.*\r\n)*?)(a=extmap.*\r\n)/gm,(function(t,i,r){return i+n+r})),cr.info("Replaced SDP response for setting depency descriptor"),cr.debug("New SDP value: ",t),t},setVideoBitrate:function(t,n){if(n<1)cr.info("Remove bitrate restrictions"),t=t.replace(/b=AS:.*\r\n/,"").replace(/b=TIAS:.*\r\n/,"");else{var i=ir.parse(t),r=i.getMedia("video");cr.info("Setting video bitrate"),r.setBitrate(n),t=i.toString()}return t},removeSdpLine:function(t,n){return cr.debug("SDP before trimming: ",t),t=t.split("\n").filter((function(t){return t.trim()!==n})).join("\n"),cr.debug("SDP trimmed result: ",t),t},adaptCodecName:function(t,n,i){if(!t)return t;var r=new RegExp("".concat(n),"i");return t.replace(r,i)},setMultiopus:function(t,n){if(!(new ar).isFirefox()&&(!n||gr(n)))if(t.includes("multiopus/48000/6"))cr.info("Multiopus already setted");else{cr.info("Setting multiopus");var i=/m=audio 9 UDP\/TLS\/RTP\/SAVPF (.*)\r\n/.exec(t)[0],r=lr.getAvailablePayloadTypeRange(t)[0],e=i.replace("\r\n"," ")+r+"\r\na=rtpmap:"+r+" multiopus/48000/6\r\na=fmtp:"+r+" channel_mapping=0,4,1,2,3,5;coupled_streams=2;minptime=10;num_streams=4;useinbandfec=1\r\n";t=t.replace(i,e),cr.info("Multiopus offer created"),cr.debug("SDP parsed for multioups: ",t)}return t},getAvailablePayloadTypeRange:function(t){for(var n=function(t){var n=i[t][1].split(" ").map((function(t){return A(t)}));r=r.filter((function(t){return!n.includes(t)}))},i=t.matchAll(/m=(?:.*) (?:.*) UDP\/TLS\/RTP\/SAVPF (.*)\r\n/gm),r=fr.concat(hr),e=0;e<i.length;e++)n(e);return r},getAvailableHeaderExtensionIdRange:function(t){for(var n=function(t){var n=i[t][1].split(" ").map((function(t){return A(t)}));r=r.filter((function(t){return!n.includes(t)}))},i=t.matchAll(/a=extmap:(\d+)(?:.*)\r\n/gm),r=vr.concat(dr),e=0;e<i.length;e++)n(e);return r},renegotiate:function(t,n){for(var i=ir.parse(t),r=ir.parse(n),e=0,u=i.getMedias();e<u.length;e++){var s=u[e],o=r.getMediaById(s.getId());if(!o){(o=new rr(s.getId(),s.getType())).setDirection(er.reverse(s.getDirection()));var a=r.getMedia(s.getType());if(a){o.setCodecs(a.getCodecs());for(var c=0,h=a.getExtensions();c<h.length;c++){var f=tn(h[c],2),v=f[0],d=f[1];o.addExtension(v,d)}}r.addMedia(o)}}return r.toString()},updateMissingVideoExtensions:function(t,n){var i,r=ir.parse(t),e=null==(i=ir.parse(n).getMediasByType("video")[0])?void 0:i.getExtensions();if(e||e.length){for(var u=function(n,i){var r=i[n],u=r.getExtensions();e.forEach((function(n,i){if(!u.get(i)){var e=r.getId(),s="a=extmap:"+i+" "+n+"\r\n",o=new RegExp("(a=mid:"+e+"\r\n(?:.*\r\n)*?)","g");t=t.replace(o,(function(t,n,i){return n+s}))}}))},s=0,o=r.getMediasByType("video");s<o.length;s++)u(s,o);return t}},getCodecPayloadType:function(t){for(var n=t.matchAll(/a=rtpmap:(\d+) (\w+)\/\d+/g),i={},r=0;r<n.length;r++){var e=n[r];i[e[1]]=e[2]}return i}},gr=function(t){return t.getAudioTracks().some((function(t){return t.getSettings().channelCount>2}))},wr={VP8:"vp8",VP9:"vp9",H264:"h264",AV1:"av1",H265:"h265"},mr={OPUS:"opus",MULTIOPUS:"multiopus"},yr=gt.get("PeerConnection"),pr="Publisher",_r="Viewer",br={track:"track",connectionStateChange:"connectionStateChange"},kr={stereo:!1,mediaStream:null,codec:"h264",simulcast:!1,scalabilityMode:null,disableAudio:!1,disableVideo:!1,setSDPToPeer:!0},Ar=function(t){function n(){var n;return(n=t.call(this)||this).mode=null,n.sessionDescription=null,n.peer=null,n.peerConnectionStats=null,n.transceiverMap=new Map,n}It(n,t);var i=n.prototype;return i.createRTCPeer=function(t,n){void 0===t&&(t={autoInitStats:!0,statsIntervalMs:1e3}),void 0===n&&(n=_r);var i=this;return Zt((function(){return Ht(this,(function(r){return yr.info("Creating new RTCPeerConnection"),yr.debug("RTC configuration provided by user: ",t),i.peer=Er(i,t),i.mode=n,t.autoInitStats&&i.initStats(t),[2]}))}))()},i.getRTCPeer=function(){return yr.info("Getting RTC Peer"),this.peer},i.closeRTCPeer=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){return yr.info("Closing RTCPeerConnection"),null==(n=t.peer)||n.close(),t.peer=null,t.stopStats(),t.emit(br.connectionStateChange,"closed"),[2]}))}))()},i.setRTCRemoteSDP=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:yr.info("Setting RTC Remote SDP"),i={type:"answer",sdp:t},e.label=1;case 1:return e.trys.push([1,3,,4]),[4,n.peer.setRemoteDescription(i)];case 2:return e.sent(),yr.info("RTC Remote SDP was set successfully."),yr.debug("RTC Remote SDP new value: ",t),[3,4];case 3:throw r=e.sent(),yr.error("Error while setting RTC Remote SDP: ",r),r;case 4:return[2]}}))}))()},i.getRTCLocalSDP=function(t){void 0===t&&(t=kr);var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return yr.info("Getting RTC Local SDP"),t=w(w({},kr),t),yr.debug("Options: ",t),(i=Sr(t.mediaStream))?Nr(n.peer,i,t):Dr(n.peer,t),yr.info("Creating peer offer"),[4,n.peer.createOffer()];case 1:return r=e.sent(),yr.info("Peer offer created"),yr.debug("Peer offer response: ",r.sdp),n.sessionDescription=r,t.disableAudio||(t.stereo&&(n.sessionDescription.sdp=lr.setStereo(n.sessionDescription.sdp)),t.dtx&&(n.sessionDescription.sdp=lr.setDTX(n.sessionDescription.sdp)),n.sessionDescription.sdp=lr.setMultiopus(n.sessionDescription.sdp,i)),!t.disableVideo&&t.simulcast&&(n.sessionDescription.sdp=lr.setSimulcast(n.sessionDescription.sdp,t.codec)),t.absCaptureTime&&(n.sessionDescription.sdp=lr.setAbsoluteCaptureTime(n.sessionDescription.sdp)),t.dependencyDescriptor&&(n.sessionDescription.sdp=lr.setDependencyDescriptor(n.sessionDescription.sdp)),t.setSDPToPeer?[4,n.peer.setLocalDescription(n.sessionDescription)]:[3,3];case 2:e.sent(),yr.info("Peer local description set"),e.label=3;case 3:return[2,n.sessionDescription.sdp]}}))}))()},i.addRemoteTrack=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){return[2,new et((function(r,e){try{var u=i.peer.addTransceiver(t,{direction:"recvonly",streams:n});i.transceiverMap.set(u,r)}catch(t){e(t)}}))]}))}))()},i.updateBandwidthRestriction=function(t,n){if(this.mode===_r)throw yr.error("Viewer attempting to update bitrate, this is not allowed"),new p("It is not possible for a viewer to update the bitrate.");return yr.info("Updating bandwidth restriction, bitrate value: ",n),yr.debug("SDP value: ",t),lr.setVideoBitrate(t,n)},i.updateBitrate=function(t){void 0===t&&(t=0);var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:if(n.mode===_r)throw yr.error("Viewer attempting to update bitrate, this is not allowed"),new p("It is not possible for a viewer to update the bitrate.");if(!n.peer)throw yr.error("Cannot update bitrate. No peer found."),new p("Cannot update bitrate. No peer found.");return yr.info("Updating bitrate to value: ",t),[4,n.peer.createOffer()];case 1:return n.sessionDescription=r.sent(),[4,n.peer.setLocalDescription(n.sessionDescription)];case 2:return r.sent(),i=n.updateBandwidthRestriction(n.peer.remoteDescription.sdp,t),[4,n.setRTCRemoteSDP(i)];case 3:return r.sent(),yr.info("Bitrate restrictions updated: ","".concat(t>0?t:"unlimited"," kbps")),[2]}}))}))()},i.getRTCPeerStatus=function(){if(yr.info("Getting RTC peer status"),!this.peer)return null;var t=Pr(this.peer);return yr.info("RTC peer status getted, value: ",t),t},i.replaceTrack=function(t){if(this.peer){var n=this.peer.getSenders().find((function(n){return n.track.kind===t.kind}));n?n.replaceTrack(t):yr.error("There is no ".concat(t.kind," track in active broadcast."))}else yr.error("Could not change track if there is not an active connection.")},i.getTracks=function(){var t,n;return null==(n=null==(t=this.peer)?void 0:t.getSenders())?void 0:n.map((function(t){return t.track}))},i.initStats=function(t){this.peerConnectionStats?yr.warn("PeerConnection.initStats() has already been called. Automatic initialization occurs via View.connect(), Publish.connect() or this.createRTCPeer(). See options"):this.peer?(this.peerConnectionStats=new Yt(this.peer,t),Vt(this.peerConnectionStats,this,[Gt])):yr.warn("Cannot init peer stats: RTCPeerConnection not initialized")},i.stopStats=function(){var t;null==(t=this.peerConnectionStats)||t.stop(),this.peerConnectionStats=null},n.getCapabilities=function(t){var n=new ar,i=RTCRtpSender.getCapabilities(t);if(i){var r={},e=new RegExp("^video/(".concat(b.values(wr).join("|"),")x?$"),"i");"audio"===t&&(e=new RegExp("^audio/(".concat(b.values(mr).join("|"),")$"),"i"),n.isChrome()&&(r.multiopus={mimeType:"audio/multiopus",channels:6}));for(var u=0,s=i.codecs;u<s.length;u++){var o=s[u],a=o.mimeType.match(e);if(a){var c=a[1].toLowerCase();if(r[c]=R(w({},r[c]),{mimeType:o.mimeType}),o.scalabilityModes){var h=r[c].scalabilityModes||[];h=Ft(h).concat(Ft(o.scalabilityModes)),r[c].scalabilityModes=Ft(new Set(h))}o.channels&&(r[c].channels=o.channels)}}i.codecs=b.keys(r).map((function(t){return w({codec:t},r[t])}))}return i},n}(Lt),Tr=function(t){return(null==t?void 0:t.getAudioTracks().length)<=1&&(null==t?void 0:t.getVideoTracks().length)<=1},Sr=function(t){if(!t)return null;if(t instanceof MediaStream&&Tr(t))return t;if(!(t instanceof MediaStream)){yr.info("Creating MediaStream to add received tracks.");for(var n=new MediaStream,i=0;i<t.length;i++){var r=t[i];n.addTrack(r)}if(Tr(n))return n}throw yr.error("MediaStream must have 1 audio track and 1 video track, or at least one of them."),new p("MediaStream must have 1 audio track and 1 video track, or at least one of them.")},Er=function(t,n){var i=new RTCPeerConnection(n);return Cr(t,i),i};function Ir(t){return Rr.apply(this,arguments)}function Rr(){return Rr=Zt((function(t){return Ht(this,(function(n){return[2,new et((function(n){return g(n,t)}))]}))})),Rr.apply(this,arguments)}var Cr=function(t,n){n.ontrack=Zt((function(n){var i;return Ht(this,(function(r){switch(r.label){case 0:if(yr.info("New track from peer."),yr.debug("Track event value: ",n),!(i=t.transceiverMap.get(n.transceiver)))return[3,5];r.label=1;case 1:return n.transceiver.mid?[3,4]:[4,Ir(100)];case 2:r.sent(),r.label=3;case 3:return[3,1];case 4:i(n.transceiver),t.transceiverMap.delete(n.transceiver),r.label=5;case 5:return g((function(){t.emit(br.track,n)}),0),[2]}}))})),n.connectionState?n.onconnectionstatechange=function(i){yr.info("Peer connection state change: ",n.connectionState),t.emit(br.connectionStateChange,n.connectionState)}:n.oniceconnectionstatechange=function(i){yr.info("Peer ICE connection state change: ",n.iceConnectionState),t.emit(br.connectionStateChange,n.iceConnectionState)},n.onnegotiationneeded=Zt((function(t){var i,r;return Ht(this,(function(t){switch(t.label){case 0:return n.remoteDescription?(yr.info("Peer onnegotiationneeded, updating local description"),[4,n.createOffer()]):[2];case 1:return i=t.sent(),yr.info("Peer onnegotiationneeded, got local offer",i.sdp),i.sdp=lr.updateMissingVideoExtensions(i.sdp,n.remoteDescription.sdp),[4,n.setLocalDescription(i)];case 2:return t.sent(),r=lr.renegotiate(i.sdp,n.remoteDescription.sdp),yr.info("Peer onnegotiationneeded, updating remote description",r),[4,n.setRemoteDescription({type:"answer",sdp:r})];case 3:return t.sent(),yr.info("Peer onnegotiationneeded, renegotiation done"),[2]}}))}))},Nr=function(t,n,i){yr.info("Adding mediaStream tracks to RTCPeerConnection");for(var r=0,e=n.getTracks();r<e.length;r++){var u=e[r],s={streams:[n]};"audio"===u.kind&&(s.direction=i.disableAudio?"inactive":"sendonly"),"video"===u.kind&&(s.direction=i.disableVideo?"inactive":"sendonly",i.scalabilityMode&&(new ar).isChrome()?(yr.debug("Video track with scalability mode: ".concat(i.scalabilityMode,".")),s.sendEncodings=[{scalabilityMode:i.scalabilityMode}]):i.scalabilityMode&&yr.warn("SVC is only supported in Google Chrome")),t.addTransceiver(u,s),yr.info("Track '".concat(u.label,"' added: "),"id: ".concat(u.id),"kind: ".concat(u.kind))}},Dr=function(t,n){var i=new ar;if(!n.disableVideo){var r=t.addTransceiver("video",{direction:"recvonly"});i.isOpera()&&r.setCodecPreferences(RTCRtpReceiver.getCapabilities("video").codecs.filter((function(t){return"video/H264"!==t.mimeType||t.sdpFmtpLine.includes("profile-level-id=4")})))}n.disableAudio||t.addTransceiver("audio",{direction:"recvonly"});for(var e=0;e<n.multiplexedAudioTracks;e++)t.addTransceiver("audio",{direction:"recvonly"})},Pr=function(t){var n,i=null!=(n=t.connectionState)?n:t.iceConnectionState;switch(i){case"checking":return"connecting";case"completed":return"connected";default:return i}},xr={};b.defineProperty(xr,"__esModule",{value:!0}),xr.TypedEmitter=xt.EventEmitter;var Lr=xr.TypedEmitter,Mr=function(t){function n(n,i){var r;return(r=t.call(this)||this).namespace=n,r.tm=i,r}It(n,t);var i=n.prototype;return i.cmd=function(t,n){return this.tm.cmd(t,n,this.namespace)},i.event=function(t,n){return this.tm.event(t,n,this.namespace)},i.close=function(){return this.tm.namespaces.delete(this.namespace)},n}(Lr),Or=function(t){function n(n){var i;return(i=t.call(this)||this).maxId=0,i.namespaces=new Map,i.transactions=new Map,i.transport=n,i.listener=function(t){var n;try{n=JSON.parse(t.utf8Data||t.data||t)}catch(t){return}switch(n.type){case"cmd":var r=n.transId,e={name:n.name,data:n.data,namespace:n.namespace,accept:function(t){i.h_({type:"response",transId:r,data:t})},reject:function(t){i.h_({type:"error",transId:r,data:t})}};if(e.namespace){var u=i.namespaces.get(e.namespace);u?u.emit("cmd",e):i.emit("cmd",e)}else i.emit("cmd",e);break;case"response":var s=i.transactions.get(n.transId);if(!s)return;i.transactions.delete(n.transId),s.resolve(n.data);break;case"error":var o=i.transactions.get(n.transId);if(!o)return;i.transactions.delete(n.transId),o.reject(n.data);break;case"event":var a={name:n.name,data:n.data,namespace:n.namespace};if(a.namespace){var c=i.namespaces.get(a.namespace);c?c.emit("event",a):i.emit("event",a)}else i.emit("event",a)}},i.transport.addListener?i.transport.addListener("message",i.listener):i.transport.addEventListener("message",i.listener),i}It(n,t);var i=n.prototype;return i.h_=function(t){this.transport.send(JSON.stringify(t))},i.cmd=function(t,n,i){var r=this;return void 0===i&&(i=void 0),new et((function(e,u){if(!t||0===t.length)throw new p("Bad command name");var s={type:"cmd",transId:r.maxId++,name:t,data:n};i&&(s.namespace=i),r.transactions.set(s.transId,R(w({},s),{resolve:e,reject:u}));try{r.h_(s)}catch(t){throw r.transactions.delete(s.transId),t}}))},i.event=function(t,n,i){if(void 0===i&&(i=void 0),!t||0===t.length)throw new p("Bad event name");var r={type:"event",name:t,data:n};i&&(r.namespace=i),this.h_(r)},i.namespace=function(t){var n=this.namespaces.get(t);return n||(n=new Mr(t,this),this.namespaces.set(t,n),n)},i.close=function(){for(var t=0,n=this.namespaces.values();t<n.length;t++)n[t].close();this.transport.removeListener?this.transport.removeListener("message",this.listener):this.transport.removeEventListener("message",this.listener)},n}(Lr),Br=D(Or),Vr=gt.get("Signaling"),Fr="wsConnectionSuccess",Ur="wsConnectionError",Wr="wsConnectionClose",Zr="broadcastEvent",Xr=function(t){function n(n){var i;return void 0===n&&(n={streamName:null,url:"ws://localhost:8080/"}),(i=t.call(this)||this).streamName=n.streamName,i.wsUrl=n.url,i.webSocket=null,i.transactionManager=null,i.serverId=null,i.clusterId=null,i.streamViewId=null,i}It(n,t);var i=n.prototype;return i.connect=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){return[2,(Vr.info("Connecting to Signaling Server"),t.transactionManager&&(null==(n=t.webSocket)?void 0:n.readyState)===WebSocket.OPEN?(Vr.info("Connected to server: ",t.webSocket.url),Vr.debug("WebSocket value: ",{url:t.webSocket.url,protocol:t.webSocket.protocol,readyState:t.webSocket.readyState,binaryType:t.webSocket.binaryType,extensions:t.webSocket.extensions}),t.emit(Fr,{ws:t.webSocket,tm:t.transactionManager}),t.webSocket):new et((function(n,i){t.webSocket=new WebSocket(t.wsUrl),t.transactionManager=new Br(t.webSocket),t.webSocket.onopen=function(){Vr.info("WebSocket opened"),t.transactionManager.on("event",(function(n){t.emit(Zr,n)})),Vr.info("Connected to server: ",t.webSocket.url),Vr.debug("WebSocket value: ",{url:t.webSocket.url,protocol:t.webSocket.protocol,readyState:t.webSocket.readyState,binaryType:t.webSocket.binaryType,extensions:t.webSocket.extensions}),t.emit(Fr,{ws:t.webSocket,tm:t.transactionManager}),n(t.webSocket)},t.webSocket.onerror=function(){Vr.error("WebSocket not connected: ",t.webSocket.url),t.emit(Ur,t.webSocket.url),i(t.webSocket.url)},t.webSocket.onclose=function(){t.webSocket=null,t.transactionManager=null,Vr.info("Connection closed with Signaling Server."),t.emit(Wr)}})))]}))}))()},i.close=function(){var t;Vr.info("Closing connection with Signaling Server."),null==(t=this.webSocket)||t.close()},i.subscribe=function(t,n,i,r){void 0===i&&(i=null),void 0===r&&(r=null);var e=this;return Zt((function(){var u,s,o,a,c,h,f,v,d,l;return Ht(this,(function(g){switch(g.label){case 0:Vr.info("Starting subscription to streamName: ",e.streamName),Vr.debug("Subcription local description: ",t),c=Gr(n,i,r),t=lr.adaptCodecName(t,"AV1X",wr.AV1),h=["active","inactive","layers","viewercount","vad","updated","migrate","stopped"],f={sdp:t,streamId:e.streamName,pinnedSourceId:c.pinnedSourceId,excludedSourceIds:c.excludedSourceIds,events:h},c.vad&&(f.vad=!0),Array.isArray(c.events)&&(f.events=c.events),c.forcePlayoutDelay&&(f.forcePlayoutDelay=c.forcePlayoutDelay),c.layer&&(f.layer=c.layer),g.label=1;case 1:if(g.trys.push([1,4,,5]),c.disableVideo&&c.disableAudio)throw new p("Not attempting to connect as video and audio are disabled");return[4,e.connect()];case 2:return g.sent(),Vr.info("Sending view command"),[4,e.transactionManager.cmd("view",f)];case 3:return v=g.sent(),d=null==(a=null==(o=null==(s=null==(u=RTCRtpReceiver.getCapabilities)?void 0:u.call(RTCRtpReceiver,"video"))?void 0:s.codecs)?void 0:o.find)?void 0:a.call(o,(function(t){return"video/AV1X"===t.mimeType})),[2,(v.sdp=d?lr.adaptCodecName(v.sdp,wr.AV1,"AV1X"):v.sdp,Vr.info("Command sent, subscriberId: ",v.subscriberId),Vr.debug("Command result: ",v),e.serverId=v.subscriberId,e.clusterId=v.clusterId,e.streamViewId=v.streamViewId,j(e.streamName),K(e.serverId),q(v.streamViewId),nt(e.clusterId),v.sdp)];case 4:throw l=g.sent(),Vr.error("Error sending view command, error: ",l),l;case 5:return[2]}}))}))()},i.publish=function(t,n,i,r){void 0===i&&(i=null),void 0===r&&(r=null);var e=this;return Zt((function(){var u,s,o,a,c,h,f,v,d,l,g,w,m,y,_;return Ht(this,(function(k){switch(k.label){case 0:if(d=Hr(n,i,r),Vr.info("Starting publishing to streamName: ".concat(e.streamName,", codec: ").concat(d.codec)),Vr.debug("Publishing local description: ",t),l=null!=(a=null==(o=null==(s=null==(u=Ar.getCapabilities)?void 0:u.call(Ar,"video"))?void 0:s.codecs)?void 0:o.map((function(t){return t.codec})))?a:[],-1===(g=b.values(wr)).indexOf(d.codec))throw Vr.error("Invalid codec ".concat(d.codec,". Possible values are: "),g),new p("Invalid codec ".concat(d.codec,". Possible values are: ").concat(g));if(l.length>0&&-1===l.indexOf(d.codec))throw Vr.error("Unsupported codec ".concat(d.codec,". Possible values are: "),l),new p("Unsupported codec ".concat(d.codec,". Possible values are: ").concat(l));if(d.codec===wr.AV1&&(t=lr.adaptCodecName(t,"AV1X",wr.AV1)),w={name:e.streamName,sdp:t,codec:d.codec,sourceId:d.sourceId},d.priority){if(!(Number.isInteger(d.priority)&&d.priority>=-2147483648&&d.priority<=2147483647))throw new p("Invalid value for priority option. It should be a decimal integer between the range [-2^31, +2^31 - 1]");w.priority=d.priority}null!==d.record&&(w.record=d.record),Array.isArray(d.events)&&(w.events=d.events),k.label=1;case 1:if(k.trys.push([1,4,,5]),d.disableVideo&&d.disableAudio)throw new p("Not attempting to connect as video and audio are disabled");return[4,e.connect()];case 2:return k.sent(),Vr.info("Sending publish command"),[4,e.transactionManager.cmd("publish",w)];case 3:return m=k.sent(),d.codec===wr.AV1&&(y=null==(v=null==(f=null==(h=null==(c=RTCRtpSender.getCapabilities)?void 0:c.call(RTCRtpSender,"video"))?void 0:h.codecs)?void 0:f.find)?void 0:v.call(f,(function(t){return"video/AV1X"===t.mimeType})),m.sdp=y?lr.adaptCodecName(m.sdp,wr.AV1,"AV1X"):m.sdp),[2,(Vr.info("Command sent, publisherId: ",m.publisherId),Vr.debug("Command result: ",m),e.serverId=m.publisherId,e.clusterId=m.clusterId,j(e.streamName),K(e.serverId),J(m.feedId),nt(e.clusterId),m.sdp)];case 4:throw _=k.sent(),Vr.error("Error sending publish command, error: ",_),_;case 5:return[2]}}))}))()},i.cmd=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){return[2,(Vr.info("Sending cmd: ".concat(t)),i.transactionManager.cmd(t,n))]}))}))()},n}(Lt),Gr=function(t,n,i){var r="object"==(void 0===t?"undefined":U(t))?t:{};return 0===b.keys(r).length&&(r={vad:t,pinnedSourceId:n,excludedSourceIds:i}),r},Hr=function(t,n,i){var r="object"==(void 0===t?"undefined":U(t))?t:{};return 0===b.keys(r).length&&(r={codec:null!=t?t:wr.H264,record:n,sourceId:i}),r},zr=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).name="FetchError",r.status=i,r}return It(n,t),n}(gn(p)),Yr=gt.get("Director"),jr="WebRtc",Kr="",qr="https://director.millicast.com",Jr={setEndpoint:function(t){qr=t.replace(/\/$/,"")},getEndpoint:function(){return qr},setLiveDomain:function(t){Kr=t.replace(/\/$/,"")},getLiveDomain:function(){return Kr},getPublisher:Zt((function(t,n,i){var r,e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:void 0===n&&(n=null),void 0===i&&(i=jr),r=Qr(t,n,i),Yr.info("Getting publisher connection path for stream name: ",r.streamName),e={streamName:r.streamName,streamType:r.streamType},u={"Content-Type":"application/json",Authorization:"Bearer ".concat(r.token)},s="".concat(Jr.getEndpoint(),"/api/director/publish"),h.label=1;case 1:return h.trys.push([1,4,,5]),[4,fetch(s,{method:"POST",headers:u,body:JSON.stringify(e)})];case 2:return[4,(o=h.sent()).json()];case 3:if("fail"===(a=h.sent()).status)throw new zr(a.data.message,o.status);return[2,(a=te(a),Yr.debug("Getting publisher response: ",a),Y(a.data.streamAccountId),a.data)];case 4:throw c=h.sent(),Yr.error("Error while getting publisher connection path. ",c),c;case 5:return[2]}}))})),getSubscriber:Zt((function(t,n,i){var r,e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:void 0===n&&(n=null),void 0===i&&(i=null),r=$r(t,n,i),Y(r.streamAccountId),Yr.info("Getting subscriber connection data for stream name: ".concat(r.streamName," and account id: ").concat(r.streamAccountId)),e={streamAccountId:r.streamAccountId,streamName:r.streamName},u={"Content-Type":"application/json"},r.subscriberToken&&(u=R(w({},u),{Authorization:"Bearer ".concat(r.subscriberToken)})),s="".concat(Jr.getEndpoint(),"/api/director/subscribe"),h.label=1;case 1:return h.trys.push([1,4,,5]),[4,fetch(s,{method:"POST",headers:u,body:JSON.stringify(e)})];case 2:return[4,(o=h.sent()).json()];case 3:if("fail"===(a=h.sent()).status)throw new zr(a.data.message,o.status);return[2,(a=te(a),Yr.debug("Getting subscriber response: ",a),r.subscriberToken&&(a.data.subscriberToken=r.subscriberToken),a.data)];case 4:throw c=h.sent(),Yr.error("Error while getting subscriber connection path. ",c),c;case 5:return[2]}}))}))},Qr=function(t,n,i){var r="object"==(void 0===t?"undefined":U(t))?t:{};return 0===b.keys(r).length&&(r={token:t,streamName:n,streamType:i}),r},$r=function(t,n,i){var r="object"==(void 0===t?"undefined":U(t))?t:{};return 0===b.keys(r).length&&(r={streamName:t,streamAccountId:n,subscriberToken:i}),r},te=function(t){if(Jr.getLiveDomain()){var n=/\/\/(.*?)\//,i=t.data.urls.map((function(t){var i=n.exec(t);return t.replace(i[1],Jr.getLiveDomain())}));t.data.urls=i}if(t.data.drmObject){var r=t.data.drmObject.playReadyUrl;r&&(t.data.drmObject.playReadyUrl="".concat(Jr.getEndpoint()).concat(r));var e=t.data.drmObject.widevineUrl;e&&(t.data.drmObject.widevineUrl="".concat(Jr.getEndpoint()).concat(e));var u=t.data.drmObject.fairPlayUrl;u&&(t.data.drmObject.fairPlayUrl="".concat(Jr.getEndpoint()).concat(u));var s=t.data.drmObject.fairPlayCertUrl;s&&(t.data.drmObject.fairPlayCertUrl="".concat(Jr.getEndpoint()).concat(s))}return t};function ne(t){this.message=t}ne.prototype=new p,ne.prototype.name="InvalidCharacterError";var ie=(void 0===f?"undefined":U(f))<"u"&&f.atob&&f.atob.bind(f)||function(t){var n=String(t).replace(/=+$/,"");if(n.length%4==1)throw new ne("'atob' failed: The string to be decoded is not correctly encoded.");for(var i,r,e=0,u=0,s="";r=n.charAt(u++);~r&&(i=e%4?64*i+r:r,e++%4)?s+=String.fromCharCode(255&i>>(-2*e&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return s};function re(t){this.message=t}function ee(t,n){if("string"!=typeof t)throw new re("Invalid token specified");var i=!0===(n=n||{}).header?0:1;try{return JSON.parse(function(t){var n=t.replace(/-/g,"+").replace(/_/g,"/");switch(n.length%4){case 0:break;case 2:n+="==";break;case 3:n+="=";break;default:throw"Illegal base64url string!"}try{return function(t){return decodeURIComponent(ie(t).replace(/(.)/g,(function(t,n){var i=n.charCodeAt(0).toString(16).toUpperCase();return i.length<2&&(i="0"+i),"%"+i})))}(n)}catch(t){return ie(n)}}(t.split(".")[i]))}catch(t){throw new re("Invalid token specified: "+t.message)}}re.prototype=new p,re.prototype.name="InvalidTokenError";var ue={exports:{}};!function(t,n){!function(i){if(null!=n&&"number"!=typeof n.nodeType)t.exports=i();else{var r=i(),e=("undefined"==typeof self?"undefined":U(self))<"u"?self:$.global;"function"!=typeof e.btoa&&(e.btoa=r.btoa),"function"!=typeof e.atob&&(e.atob=r.atob)}}((function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function n(t){this.message=t}return n.prototype=new p,n.prototype.name="InvalidCharacterError",{btoa:function(i){for(var r,e,u,s,o=String(i),a=0,c="";a<o.length;){if(r=o.charCodeAt(a++),e=o.charCodeAt(a++),u=o.charCodeAt(a++),r>255||e>255||u>255)throw new n("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");c+=t.charAt((s=r<<16|e<<8|u)>>18&63)+t.charAt(s>>12&63)+t.charAt(s>>6&63)+t.charAt(63&s)}switch(o.length%3){case 0:return c;case 1:return c.slice(0,-2)+"==";case 2:return c.slice(0,-1)+"="}},atob:function(i){var r=String(i).replace(/[=]+$/,"");if(r.length%4==1)throw new n("'atob' failed: The string to be decoded is not correctly encoded.");for(var e,u,s=0,o=0,a="";u=r.charAt(o++);~u&&(e=s%4?64*e+u:u,s++%4)?a+=String.fromCharCode(255&e>>(-2*s&6)):0)u=t.indexOf(u);return a}}}))}(ue,ue.exports);var se=ue.exports,oe={exports:{}};!function(t,e){self,t.exports=function(){return t={7629:function(t,n,i){var r=i(375),e=i(8571),u=i(9474),s=i(1687),o=i(8652),a=i(8160),c=i(3292),h=i(6354),f=i(8901),v=i(9708),d=i(6914),l=i(2294),g=i(6133),w=i(1152),m=i(8863),y=i(2036),_={Base:function(){function t(t){this.type=t,this.$_root=null,this.y_={},this.a_()}var n=t.prototype;return n.a_=function(){this.u_=new l.Ids,this.c_=null,this.l_=new g.Manager,this.d_=null,this.f_=null,this.__=null,this.v_={},this.m_=[],this.g_=new Map,this.$_terms={},this.$_temp={ruleset:null,whens:{}}},n.describe=function(){return r("function"==typeof v.describe,"Manifest functionality disabled"),v.describe(this)},n.allow=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return a.verifyFlat(n,"allow"),this.p_(n,"f_")},n.alter=function(t){r(t&&"object"==(void 0===t?"undefined":U(t))&&!Array.isArray(t),"Invalid targets argument"),r(!this.w_(),"Cannot set alterations inside a ruleset");var n=this.clone();for(var i in n.$_terms.alterations=n.$_terms.alterations||[],t){var e=t[i];r("function"==typeof e,"Alteration adjuster for",i,"must be a function"),n.$_terms.alterations.push({target:i,adjuster:e})}return n.$_temp.ruleset=!1,n},n.artifact=function(t){return r(void 0!==t,"Artifact cannot be undefined"),r(!this.d_,"Cannot set an artifact with a rule cache"),this.$_setFlag("artifact",t)},n.cast=function(t){return r(!1===t||"string"==typeof t,"Invalid to value"),r(!1===t||this.y_.cast[t],"Type",this.type,"does not support casting to",t),this.$_setFlag("cast",!1===t?void 0:t)},n.default=function(t,n){return this.b_("default",t,n)},n.description=function(t){return r(t&&"string"==typeof t,"Description must be a non-empty string"),this.$_setFlag("description",t)},n.empty=function(t){var n=this.clone();return void 0!==t&&(t=n.$_compile(t,{override:!1})),n.$_setFlag("empty",t,{clone:!1})},n.error=function(t){return r(t,"Missing error"),r(t instanceof p||"function"==typeof t,"Must provide a valid Error object or a function"),this.$_setFlag("error",t)},n.example=function(t,n){return void 0===n&&(n={}),r(void 0!==t,"Missing example"),a.assertOptions(n,["override"]),this.A_("examples",t,{single:!0,override:n.override})},n.external=function(t,n){return"object"==(void 0===t?"undefined":U(t))&&(r(!n,"Cannot combine options with description"),n=t.description,t=t.method),r("function"==typeof t,"Method must be a function"),r(void 0===n||n&&"string"==typeof n,"Description must be a non-empty string"),this.A_("externals",{method:t,description:n},{single:!0})},n.failover=function(t,n){return this.b_("failover",t,n)},n.forbidden=function(){return this.presence("forbidden")},n.id=function(t){return t?(r("string"==typeof t,"id must be a non-empty string"),r(/^[^\.]+$/.test(t),"id cannot contain period character"),this.$_setFlag("id",t)):this.$_setFlag("id",void 0)},n.invalid=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return this.p_(n,"__")},n.label=function(t){return r(t&&"string"==typeof t,"Label name must be a non-empty string"),this.$_setFlag("label",t)},n.meta=function(t){return r(void 0!==t,"Meta cannot be undefined"),this.A_("metas",t,{single:!0})},n.note=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];r(n.length,"Missing notes");for(var e=0;e<n.length;e++){var u=n[e];r(u&&"string"==typeof u,"Notes must be non-empty strings")}return this.A_("notes",n)},n.only=function(t){return void 0===t&&(t=!0),r("boolean"==typeof t,"Invalid mode:",t),this.$_setFlag("only",t)},n.optional=function(){return this.presence("optional")},n.prefs=function(t){r(t,"Missing preferences"),r(void 0===t.context,"Cannot override context"),r(void 0===t.externals,"Cannot override externals"),r(void 0===t.warnings,"Cannot override warnings"),r(void 0===t.debug,"Cannot override debug"),a.checkPreferences(t);var n=this.clone();return n.c_=a.preferences(n.c_,t),n},n.presence=function(t){return r(["optional","required","forbidden"].includes(t),"Unknown presence mode",t),this.$_setFlag("presence",t)},n.raw=function(t){return void 0===t&&(t=!0),this.$_setFlag("result",t?"raw":void 0)},n.result=function(t){return r(["raw","strip"].includes(t),"Unknown result mode",t),this.$_setFlag("result",t)},n.required=function(){return this.presence("required")},n.strict=function(t){var n=this.clone(),i=void 0!==t&&!t;return n.c_=a.preferences(n.c_,{convert:i}),n},n.strip=function(t){return void 0===t&&(t=!0),this.$_setFlag("result",t?"strip":void 0)},n.tag=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];r(n.length,"Missing tags");for(var e=0;e<n.length;e++){var u=n[e];r(u&&"string"==typeof u,"Tags must be non-empty strings")}return this.A_("tags",n)},n.unit=function(t){return r(t&&"string"==typeof t,"Unit name must be a non-empty string"),this.$_setFlag("unit",t)},n.valid=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];a.verifyFlat(n,"valid");var r=this.allow.apply(this,Ft(n));return r.$_setFlag("only",!!r.f_,{clone:!1}),r},n.when=function(t,n){var i=this.clone();i.$_terms.whens||(i.$_terms.whens=[]);var e=c.when(i,t,n);if(!["any","link"].includes(i.type))for(var u=e.is?[e]:e.switch,s=0;s<u.length;s++){var o=u[s];r(!o.then||"any"===o.then.type||o.then.type===i.type,"Cannot combine",i.type,"with",o.then&&o.then.type),r(!o.otherwise||"any"===o.otherwise.type||o.otherwise.type===i.type,"Cannot combine",i.type,"with",o.otherwise&&o.otherwise.type)}return i.$_terms.whens.push(e),i.$_mutateRebuild()},n.cache=function(t){r(!this.w_(),"Cannot set caching inside a ruleset"),r(!this.d_,"Cannot override schema cache"),r(void 0===this.v_.artifact,"Cannot cache a rule with an artifact");var n=this.clone();return n.d_=t||o.provider.provision(),n.$_temp.ruleset=!1,n},n.clone=function(){var t=b.create(b.getPrototypeOf(this));return this.S_(t)},n.concat=function(t){var n=function(t,n){var r=n[t];i.g_.has(r)&&(i.m_=i.m_.filter((function(t){return t.keep||t.name!==r})),i.g_.delete(r))};r(a.isSchema(t),"Invalid schema object"),r("any"===this.type||"any"===t.type||t.type===this.type,"Cannot merge type",this.type,"with another type:",t.type),r(!this.w_(),"Cannot concatenate onto a schema with open ruleset"),r(!t.w_(),"Cannot concatenate a schema with open ruleset");var i=this.clone();if("any"===this.type&&"any"!==t.type){for(var e=t.clone(),u=0,o=b.keys(i);u<o.length;u++){var c=o[u];"type"!==c&&(e[c]=i[c])}i=e}i.u_.concat(t.u_),i.l_.register(t,g.toSibling),i.c_=i.c_?a.preferences(i.c_,t.c_):t.c_,i.f_=y.merge(i.f_,t.f_,t.__),i.__=y.merge(i.__,t.__,t.f_);for(var h=0,f=t.g_.keys();h<f.length;h++)n(h,f);for(var v=0,d=t.m_;v<d.length;v++){var l=d[v];t.y_.rules[l.method].multi||i.g_.set(l.name,l),i.m_.push(l)}if(i.v_.empty&&t.v_.empty){i.v_.empty=i.v_.empty.concat(t.v_.empty);var w=b.assign({},t.v_);delete w.empty,s(i.v_,w)}else if(t.v_.empty){i.v_.empty=t.v_.empty;var m=b.assign({},t.v_);delete m.empty,s(i.v_,m)}else s(i.v_,t.v_);for(var p in t.$_terms){var _=t.$_terms[p];_?i.$_terms[p]?i.$_terms[p]=i.$_terms[p].concat(_):i.$_terms[p]=_.slice():i.$_terms[p]||(i.$_terms[p]=_)}return this.$_root.T_&&this.$_root.T_.k_(i,[this,t]),i.$_mutateRebuild()},n.extend=function(t){return r(!t.base,"Cannot extend type with another base"),f.type(this,t)},n.extract=function(t){return t=Array.isArray(t)?t:t.split("."),this.u_.reach(t)},n.fork=function(t,n){r(!this.w_(),"Cannot fork inside a ruleset");for(var i=this,e=0,u=[].concat(t);e<u.length;e++){var s=u[e];s=Array.isArray(s)?s:s.split("."),i=i.u_.fork(s,n,i)}return i.$_temp.ruleset=!1,i},n.rule=function(t){var n=this.y_;a.assertOptions(t,b.keys(n.modifiers)),r(!1!==this.$_temp.ruleset,"Cannot apply rules to empty ruleset or the last rule added does not support rule properties");var i=null===this.$_temp.ruleset?this.m_.length-1:this.$_temp.ruleset;r(i>=0&&i<this.m_.length,"Cannot apply rules to empty ruleset");for(var u=this.clone(),s=i;s<u.m_.length;++s){var o=u.m_[s],c=e(o);for(var h in t)n.modifiers[h](c,t[h]),r(c.name===o.name,"Cannot change rule name");u.m_[s]=c,u.g_.get(c.name)===o&&u.g_.set(c.name,c)}return u.$_temp.ruleset=!1,u.$_mutateRebuild()},n.tailor=function(t){t=[].concat(t),r(!this.w_(),"Cannot tailor inside a ruleset");var n=this;if(this.$_terms.alterations)for(var i=0,e=this.$_terms.alterations;i<e.length;i++){var u=e[i],s=u.target,o=u.adjuster;t.includes(s)&&(n=o(n),r(a.isSchema(n),"Alteration adjuster for",s,"failed to return a schema object"))}return(n=n.$_modify({each:function(n){return n.tailor(t)},ref:!1})).$_temp.ruleset=!1,n.$_mutateRebuild()},n.tracer=function(){return w.location?w.location(this):this},n.validate=function(t,n){return m.entry(t,this,n)},n.validateAsync=function(t,n){return m.entryAsync(t,this,n)},n.$_addRule=function(t){for(var n in"string"==typeof t&&(t={name:t}),r(t&&"object"==(void 0===t?"undefined":U(t)),"Invalid options"),r(t.name&&"string"==typeof t.name,"Invalid rule name"),t)r("_"!==n[0],"Cannot set private rule properties");var i=b.assign({},t);i.Gd=[],i.method=i.method||i.name;var e=this.y_.rules[i.method],u=i.args;r(e,"Unknown rule",i.method);var s=this.clone();if(u)for(var o in r(1===b.keys(u).length||b.keys(u).length===this.y_.rules[i.name].args.length,"Invalid rule definition for",this.type,i.name),u){var c=u[o];if(e.argsByName){var h=e.argsByName.get(o);if(h.ref&&a.isResolvable(c))i.Gd.push(o),s.$_mutateRegister(c);else if(h.normalize&&(c=h.normalize(c),u[o]=c),h.assert){var f=a.validateArg(c,o,h);r(!f,f,"or reference")}}void 0!==c?u[o]=c:delete u[o]}return e.multi||(s.E_(i.name,{clone:!1}),s.g_.set(i.name,i)),!1===s.$_temp.ruleset&&(s.$_temp.ruleset=null),e.priority?s.m_.unshift(i):s.m_.push(i),s},n.$_compile=function(t,n){return c.schema(this.$_root,t,n)},n.$_createError=function(t,n,i,r,e,u){void 0===u&&(u={});var s=!1!==u.flags?this.v_:{},o=u.messages?d.merge(this.y_.messages,u.messages):this.y_.messages;return new h.Report(t,n,i,s,o,r,e)},n.$_getFlag=function(t){return this.v_[t]},n.$_getRule=function(t){return this.g_.get(t)},n.$_mapLabels=function(t){return t=Array.isArray(t)?t:t.split("."),this.u_.labels(t)},n.$_match=function(t,n,i,r){(i=b.assign({},i)).abortEarly=!0,i.x_=!1,n.snapshot();var e=!m.validate(t,this,n,i,r).errors;return n.restore(),e},n.$_modify=function(t){return a.assertOptions(t,["each","once","ref","schema"]),l.schema(this,t)||this},n.$_mutateRebuild=function(){var t=this;return r(!this.w_(),"Cannot add this rule inside a ruleset"),this.l_.reset(),this.u_.reset(),this.$_modify({each:function(n,i){var r=i.source,e=i.name,u=(i.path,i.key),s=t.y_[r][e]&&t.y_[r][e].register;!1!==s&&t.$_mutateRegister(n,{family:s,key:u})}}),this.y_.rebuild&&this.y_.rebuild(this),this.$_temp.ruleset=!1,this},n.$_mutateRegister=function(t,n){var i=void 0===n?{}:n,r=i.family,e=i.key;this.l_.register(t,r),this.u_.register(t,{key:e})},n.$_property=function(t){return this.y_.properties[t]},n.$_reach=function(t){return this.u_.reach(t)},n.$_rootReferences=function(){return this.l_.roots()},n.$_setFlag=function(t,n,i){void 0===i&&(i={}),r("_"===t[0]||!this.w_(),"Cannot set flag inside a ruleset");var e=this.y_.flags[t]||{};if(u(n,e.default)&&(n=void 0),u(n,this.v_[t]))return this;var s=!1!==i.clone?this.clone():this;return void 0!==n?(s.v_[t]=n,s.$_mutateRegister(n)):delete s.v_[t],"_"!==t[0]&&(s.$_temp.ruleset=!1),s},n.$_parent=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;return(e=this[t][a.symbols.parent]).call.apply(e,[this].concat(Ft(i)))},n.$_validate=function(t,n,i){return m.validate(t,this,n,i)},n.S_=function(t){for(var n in t.type=this.type,t.$_root=this.$_root,t.$_temp=b.assign({},this.$_temp),t.$_temp.whens={},t.u_=this.u_.clone(),t.c_=this.c_,t.f_=this.f_&&this.f_.clone(),t.__=this.__&&this.__.clone(),t.m_=this.m_.slice(),t.g_=e(this.g_,{shallow:!0}),t.l_=this.l_.clone(),t.v_=b.assign({},this.v_),t.d_=null,t.$_terms={},this.$_terms)t.$_terms[n]=this.$_terms[n]?this.$_terms[n].slice():null;for(var i in t.$_super={},this.$_super)t.$_super[i]=this.R_[i].bind(t);return t},n.I_=function(){var t=this.clone();t.a_();var n=t.y_.terms;for(var i in n){var r=n[i];t.$_terms[i]=r.init}return t.$_mutateRebuild()},n.b_=function(t,n,i){var e;return void 0===i&&(i={}),a.assertOptions(i,"literal"),r(void 0!==n,"Missing",t,"value"),r("function"==typeof n||!i.literal,"Only function value supports literal option"),"function"==typeof n&&i.literal&&(un(e={},a.symbols.literal,!0),un(e,"literal",n),n=e),this.$_setFlag(t,n)},n.C_=function(t,n,i){if(!this.$_terms.whens)return{schema:this};for(var r=[],e=[],u=0;u<this.$_terms.whens.length;++u){var s=this.$_terms.whens[u];if(s.concat)r.push(s.concat),e.push("".concat(u,".concat"));else{for(var o=s.ref?s.ref.resolve(t,n,i):t,a=s.is?[s]:s.switch,c=e.length,h=0;h<a.length;++h){var f=a[h],v=f.is,d=f.then,l=f.otherwise,g="".concat(u).concat(s.switch?"."+h:"");if(v.$_match(o,n.nest(v,"".concat(g,".is")),i)){if(d){var w=n.localize(Ft(n.path).concat(["".concat(g,".then")]),n.ancestors,n.schemas),m=d.C_(t,w,i),y=m.schema,p=m.id;r.push(y),e.push("".concat(g,".then").concat(p?"(".concat(p,")"):""));break}}else if(l){var _=n.localize(Ft(n.path).concat(["".concat(g,".otherwise")]),n.ancestors,n.schemas),b=l.C_(t,_,i),k=b.schema,A=b.id;r.push(k),e.push("".concat(g,".otherwise").concat(A?"(".concat(A,")"):""));break}}if(s.break&&e.length>c)break}}var T=e.join(", ");if(n.mainstay.tracer.debug(n,"rule","when",T),!T)return{schema:this};if(!n.mainstay.tracer.active&&this.$_temp.whens[T])return{schema:this.$_temp.whens[T],id:T};var S=this;this.y_.generate&&(S=this.y_.generate(this,t,n,i));for(var E=0;E<r.length;E++){var I=r[E];S=S.concat(I)}return this.$_root.T_&&this.$_root.T_.k_(S,[this].concat(Ft(r))),this.$_temp.whens[T]=S,{schema:S,id:T}},n.A_=function(t,n,i){var e;void 0===i&&(i={}),r(!this.w_(),"Cannot set ".concat(t," inside a ruleset"));var u=this.clone();return u.$_terms[t]&&!i.override||(u.$_terms[t]=[]),i.single?u.$_terms[t].push(n):(e=u.$_terms[t]).push.apply(e,Ft(n)),u.$_temp.ruleset=!1,u},n.w_=function(){return null!==this.$_temp.ruleset&&!1!==this.$_temp.ruleset},n.E_=function(t,n){if(void 0===n&&(n={}),!this.g_.has(t))return this;var i=!1!==n.clone?this.clone():this;i.g_.delete(t);for(var r=[],e=0;e<i.m_.length;++e){var u=i.m_[e];u.name!==t||u.keep?r.push(u):i.w_()&&e<i.$_temp.ruleset&&--i.$_temp.ruleset}return i.m_=r,i},n.p_=function(t,n){a.verifyFlat(t,n.slice(1,-1));var i=this.clone(),e=t[0]===a.symbols.override;if(e&&(t=t.slice(1)),!i[n]&&t.length?i[n]=new y:e&&(i[n]=t.length?new y:null,i.$_mutateRebuild()),!i[n])return i;e&&i[n].override();for(var u=0;u<t.length;u++){var s=t[u];r(void 0!==s,"Cannot call allow/valid/invalid with undefined"),r(s!==a.symbols.override,"Override must be the first value");var o="__"===n?"f_":"__";i[o]&&(i[o].remove(s),i[o].length||(r("f_"===n||!i.v_.only,"Setting invalid value",s,"leaves schema rejecting all values due to previous valid rule"),i[o]=null)),i[n].add(s,i.l_)}return i},Nt(t,[{key:"ruleset",get:function(){r(!this.w_(),"Cannot start a new ruleset without closing the previous one");var t=this.clone();return t.$_temp.ruleset=t.m_.length,t}},{key:"$",get:function(){return this.ruleset}}]),t}()};_.Base.prototype[a.symbols.any]={version:a.version,compile:c.compile,root:"$_root"},_.Base.prototype.isImmutable=!0,_.Base.prototype.deny=_.Base.prototype.invalid,_.Base.prototype.disallow=_.Base.prototype.invalid,_.Base.prototype.equal=_.Base.prototype.valid,_.Base.prototype.exist=_.Base.prototype.required,_.Base.prototype.not=_.Base.prototype.invalid,_.Base.prototype.options=_.Base.prototype.prefs,_.Base.prototype.preferences=_.Base.prototype.prefs,t.exports=new _.Base},8652:function(t,n,i){var r=i(375),e=i(8571),u=i(8160),s={max:1e3,supported:new Set(["undefined","boolean","number","string"])};n.provider={provision:function(t){return new s.Cache(t)}},s.Cache=function(){function t(t){void 0===t&&(t={}),u.assertOptions(t,["max"]),r(void 0===t.max||t.max&&t.max>0&&isFinite(t.max),"Invalid max cache size"),this.M_=t.max||s.max,this.P_=new Map,this.D_=new s.List}var n=t.prototype;return n.set=function(t,n){if(null===t||s.supported.has(void 0===t?"undefined":U(t))){var i=this.P_.get(t);if(i)return i.value=n,void this.D_.first(i);i=this.D_.unshift({key:t,value:n}),this.P_.set(t,i),this.N_()}},n.get=function(t){var n=this.P_.get(t);if(n)return this.D_.first(n),e(n.value)},n.N_=function(){if(this.P_.size>this.M_){var t=this.D_.pop();this.P_.delete(t.key)}},Nt(t,[{key:"length",get:function(){return this.P_.size}}]),t}(),s.List=function(){function t(){this.tail=null,this.head=null}var n=t.prototype;return n.unshift=function(t){return t.next=null,t.prev=this.head,this.head&&(this.head.next=t),this.head=t,this.tail||(this.tail=t),t},n.first=function(t){t!==this.head&&(this.L_(t),this.unshift(t))},n.pop=function(){return this.L_(this.tail)},n.L_=function(t){var n=t.next,i=t.prev;return n.prev=i,i&&(i.next=n),t===this.tail&&(this.tail=n),t.prev=null,t.next=null,t},t}()},8160:function(t,r,e){var u,s,o=e(375),a=e(7916),c=e(5934),h={isoDate:/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/};r.version=c.version,r.defaults={abortEarly:!0,allowUnknown:!1,artifacts:!1,cache:!0,context:null,convert:!0,dateFormat:"iso",errors:{escapeHtml:!1,label:"path",language:null,render:!0,stack:!1,wrap:{label:'"',array:"[]"}},externals:!0,messages:{},nonEnumerables:!1,noDefaults:!1,presence:"optional",skipFunctions:!1,stripUnknown:!1,warnings:!1},r.symbols={any:i("@hapi/joi/schema"),arraySingle:n("arraySingle"),deepDefault:n("deepDefault"),errors:n("errors"),literal:n("literal"),override:n("override"),parent:n("parent"),prefs:n("prefs"),ref:n("ref"),template:n("template"),values:n("values")},r.assertOptions=function(t,n,i){void 0===i&&(i="Options"),o(t&&"object"==(void 0===t?"undefined":U(t))&&!Array.isArray(t),"Options must be of type object");var r=b.keys(t).filter((function(t){return!n.includes(t)}));o(0===r.length,"".concat(i," contain unknown keys: ").concat(r))},r.checkPreferences=function(t){var n=(s=s||e(3378)).preferences.validate(t);if(n.error)throw new a([n.error.details[0].message])},r.compare=function(t,n,i){switch(i){case"=":return t===n;case">":return t>n;case"<":return t<n;case">=":return t>=n;case"<=":return t<=n}},r.default=function(t,n){return void 0===t?n:t},r.isIsoDate=function(t){return h.isoDate.test(t)},r.isNumber=function(t){return"number"==typeof t&&!S(t)},r.isResolvable=function(t){return!!t&&(t[r.symbols.ref]||t[r.symbols.template])},r.isSchema=function(t,n){void 0===n&&(n={});var i=t&&t[r.symbols.any];return!!i&&(o(n.legacy||i.version===r.version,"Cannot mix different versions of joi schemas"),!0)},r.isValues=function(t){return t[r.symbols.values]},r.limit=function(t){return Number.isSafeInteger(t)&&t>=0},r.preferences=function(t,n){u=u||e(6914),t=t||{},n=n||{};var i=b.assign({},t,n);return n.errors&&t.errors&&(i.errors=b.assign({},t.errors,n.errors),i.errors.wrap=b.assign({},t.errors.wrap,n.errors.wrap)),n.messages&&(i.messages=u.compile(n.messages,t.messages)),delete i[r.symbols.prefs],i},r.tryWithPath=function(t,n,i){void 0===i&&(i={});try{return t()}catch(t){throw void 0!==t.path?t.path=n+"."+t.path:t.path=n,i.append&&(t.message="".concat(t.message," (").concat(t.path,")")),t}},r.validateArg=function(t,n,i){var e=i.assert,u=i.message;if(r.isSchema(e)){var s=e.validate(t);return s.error?s.error.message:void 0}if(!e(t))return n?"".concat(n," ").concat(u):u},r.verifyFlat=function(t,n){for(var i=0;i<t.length;i++){var r=t[i];o(!Array.isArray(r),"Method no longer accepts array arguments:",n)}}},3292:function(t,n,i){var r=i(375),e=i(8160),u=i(6133),s={};n.schema=function(t,n,i){void 0===i&&(i={}),e.assertOptions(i,["appendPath","override"]);try{return s.schema(t,n,i)}catch(t){throw i.appendPath&&void 0!==t.path&&(t.message="".concat(t.message," (").concat(t.path,")")),t}},s.schema=function(t,n,i){var u,o;r(void 0!==n,"Invalid undefined schema"),Array.isArray(n)&&(r(n.length,"Invalid empty array schema"),1===n.length&&(n=n[0]));var a=function(n){for(var r=arguments.length,e=new Array(r>1?r-1:0),s=1;s<r;s++)e[s-1]=arguments[s];return!1!==i.override?(u=n).valid.apply(u,[t.override].concat(Ft(e))):(o=n).valid.apply(o,Ft(e))};if(s.simple(n))return a(t,n);if("function"==typeof n)return t.custom(n);if(r("object"==(void 0===n?"undefined":U(n)),"Invalid schema content:",void 0===n?"undefined":U(n)),e.isResolvable(n))return a(t,n);if(e.isSchema(n))return n;if(Array.isArray(n)){for(var c,h=0;h<n.length;h++){var f=n[h];if(!s.simple(f))return(c=t.alternatives()).try.apply(c,Ft(n))}return a.apply(void 0,[t].concat(Ft(n)))}return n instanceof RegExp?t.string().regex(n):n instanceof Date?a(t.date(),n):(r(b.getPrototypeOf(n)===b.getPrototypeOf({}),"Schema can only contain plain objects"),t.object().keys(n))},n.ref=function(t,n){return u.isRef(t)?t:u.create(t,n)},n.compile=function(t,i,u){void 0===u&&(u={}),e.assertOptions(u,["legacy"]);var o=i&&i[e.symbols.any];if(o)return r(u.legacy||o.version===e.version,"Cannot mix different versions of joi schemas:",o.version,e.version),i;if("object"!=(void 0===i?"undefined":U(i))||!u.legacy)return n.schema(t,i,{appendPath:!0});var a=s.walk(i);return a?a.compile(a.root,i):n.schema(t,i,{appendPath:!0})},s.walk=function(t){if("object"!=(void 0===t?"undefined":U(t)))return null;if(Array.isArray(t)){for(var n=0;n<t.length;n++){var i=t[n],u=s.walk(i);if(u)return u}return null}var o=t[e.symbols.any];if(o)return{root:t[o.root],compile:o.compile};for(var a in r(b.getPrototypeOf(t)===b.getPrototypeOf({}),"Schema can only contain plain objects"),t){var c=s.walk(t[a]);if(c)return c}return null},s.simple=function(t){return null===t||["boolean","string","number"].includes(void 0===t?"undefined":U(t))},n.when=function(t,i,o){if(void 0===o&&(r(i&&"object"==(void 0===i?"undefined":U(i)),"Missing options"),o=i,i=u.create(".")),Array.isArray(o)&&(o={switch:o}),e.assertOptions(o,["is","not","then","otherwise","switch","break"]),e.isSchema(i))return r(void 0===o.is,'"is" can not be used with a schema condition'),r(void 0===o.not,'"not" can not be used with a schema condition'),r(void 0===o.switch,'"switch" can not be used with a schema condition'),s.condition(t,{is:i,then:o.then,otherwise:o.otherwise,break:o.break});if(r(u.isRef(i)||"string"==typeof i,"Invalid condition:",i),r(void 0===o.not||void 0===o.is,'Cannot combine "is" with "not"'),void 0===o.switch){var a=o;void 0!==o.not&&(a={is:o.not,then:o.otherwise,otherwise:o.then,break:o.break});var c=void 0!==a.is?t.$_compile(a.is):t.$_root.invalid(null,!1,0,"").required();return r(void 0!==a.then||void 0!==a.otherwise,'options must have at least one of "then", "otherwise", or "switch"'),r(void 0===a.break||void 0===a.then||void 0===a.otherwise,"Cannot specify then, otherwise, and break all together"),void 0===o.is||u.isRef(o.is)||e.isSchema(o.is)||(c=c.required()),s.condition(t,{ref:n.ref(i),is:c,then:a.then,otherwise:a.otherwise,break:a.break})}r(Array.isArray(o.switch),'"switch" must be an array'),r(void 0===o.is,'Cannot combine "switch" with "is"'),r(void 0===o.not,'Cannot combine "switch" with "not"'),r(void 0===o.then,'Cannot combine "switch" with "then"');for(var h={ref:n.ref(i),switch:[],break:o.break},f=0;f<o.switch.length;++f){var v=o.switch[f],d=f===o.switch.length-1;e.assertOptions(v,d?["is","then","otherwise"]:["is","then"]),r(void 0!==v.is,'Switch statement missing "is"'),r(void 0!==v.then,'Switch statement missing "then"');var l={is:t.$_compile(v.is),then:t.$_compile(v.then)};if(u.isRef(v.is)||e.isSchema(v.is)||(l.is=l.is.required()),d){r(void 0===o.otherwise||void 0===v.otherwise,'Cannot specify "otherwise" inside and outside a "switch"');var g=void 0!==o.otherwise?o.otherwise:v.otherwise;void 0!==g&&(r(void 0===h.break,"Cannot specify both otherwise and break"),l.otherwise=t.$_compile(g))}h.switch.push(l)}return h},s.condition=function(t,n){for(var i=0,r=["then","otherwise"];i<r.length;i++){var e=r[i];void 0===n[e]?delete n[e]:n[e]=t.$_compile(n[e])}return n}},6354:function(t,n,i){var r=i(5688),e=i(8160),u=i(3328);n.Report=function(){function t(t,i,r,e,u,s,o){if(this.code=t,this.flags=e,this.messages=u,this.path=s.path,this.prefs=o,this.state=s,this.value=i,this.message=null,this.template=null,this.local=r||{},this.local.label=n.label(this.flags,this.state,this.prefs,this.messages),void 0===this.value||this.local.hasOwnProperty("value")||(this.local.value=this.value),this.path.length){var a=this.path[this.path.length-1];"object"!=(void 0===a?"undefined":U(a))&&(this.local.key=a)}}var i=t.prototype;return i.B_=function(t){if(this.template=t,!this.flags.label&&0===this.path.length){var n=this.O_(this.template,"root");n&&(this.local.label=n)}},i.toString=function(){if(this.message)return this.message;var t=this.code;if(!this.prefs.errors.render)return this.code;var n=this.O_(this.template)||this.O_(this.prefs.messages)||this.O_(this.messages);return void 0===n?'Error code "'.concat(t,'" is not defined, your custom type is missing the correct messages definition'):(this.message=n.render(this.value,this.state,this.prefs,this.local,{errors:this.prefs.errors,messages:[this.prefs.messages,this.messages]}),this.prefs.errors.label||(this.message=this.message.replace(/^"" /,"").trim()),this.message)},i.O_=function(t,i){return n.template(this.value,t,i||this.code,this.state,this.prefs)},t}(),n.path=function(t){for(var n="",i=0;i<t.length;i++){var r=t[i];"object"!=(void 0===r?"undefined":U(r))&&("string"==typeof r?(n&&(n+="."),n+=r):n+="[".concat(r,"]"))}return n},n.template=function(t,n,i,r,s){if(n){if(u.isTemplate(n))return"root"!==i?n:null;var o=s.errors.language;if(e.isResolvable(o)&&(o=o.resolve(t,r,s)),o&&n[o]){if(void 0!==n[o][i])return n[o][i];if(void 0!==n[o]["*"])return n[o]["*"]}return n[i]?n[i]:n["*"]}},n.label=function(t,i,r,e){if(!r.errors.label)return"";if(t.label)return t.label;var u=i.path;return"key"===r.errors.label&&i.path.length>1&&(u=i.path.slice(-1)),n.path(u)||n.template(null,r.messages,"root",i,r)||e&&n.template(null,e,"root",i,r)||"value"},n.process=function(t,i,r){if(!t)return null;var e=n.details(t),u=e.override,s=e.message,o=e.details;if(u)return u;if(r.errors.stack)return new n.ValidationError(s,o,i);var a=p.stackTraceLimit;p.stackTraceLimit=0;var c=new n.ValidationError(s,o,i);return p.stackTraceLimit=a,c},n.details=function(t,n){void 0===n&&(n={});for(var i=[],r=[],e=0;e<t.length;e++){var u=t[e];if(u instanceof p){if(!1!==n.override)return{override:u};var s=u.toString();i.push(s),r.push({message:s,type:"override",context:{error:u}})}else{var o=u.toString();i.push(o),r.push({message:o,path:u.path.filter((function(t){return"object"!=(void 0===t?"undefined":U(t))})),type:u.code,context:u.local})}}return i.length>1&&(i=Ft(new Set(i))),{message:i.join(". "),details:r}},n.ValidationError=function(t){function i(n,i,r){var e;return(e=t.call(this,n)||this).F_=r,e.details=i,e}return It(i,t),i.isError=function(t){return t instanceof n.ValidationError},i}(gn(p)),n.ValidationError.prototype.isJoi=!0,n.ValidationError.prototype.name="ValidationError",n.ValidationError.prototype.annotate=r.error},8901:function(t,n,i){var r=i(375),e=i(8571),u=i(8160),s=i(6914),o={};n.type=function(t,n){var i=function(t){var n=v.rules[t];r("object"==(void 0===n?"undefined":U(n)),"Invalid rule definition for",v.type,t);var i=n.method;if(void 0===i&&(i=function(){return this.$_addRule(t)}),i&&(r(!h[t],"Rule conflict in",v.type,t),h[t]=i),r(!m[t],"Rule conflict in",v.type,t),m[t]=n,n.alias)for(var e=[].concat(n.alias),s=0;s<e.length;s++){var o=e[s];h[o]=n.method}n.args&&(n.argsByName=new Map,n.args=n.args.map((function(t){return"string"==typeof t&&(t={name:t}),r(!n.argsByName.has(t.name),"Duplicated argument name",t.name),u.isSchema(t.assert)&&(t.assert=t.assert.strict().label(t.name)),n.argsByName.set(t.name,t),t})))},a=function(t){r(!h[t],"Rule conflict in",v.type,t);var n=v.modifiers[t];r("function"==typeof n,"Invalid modifier definition for",v.type,t);var i=function(n){return this.rule(un({},t,n))};h[t]=i,p[t]=n},c=b.getPrototypeOf(t),h=e(c),f=t.S_(b.create(h)),v=b.assign({},n);delete v.base,h.y_=v;var d=c.y_||{};v.messages=s.merge(d.messages,v.messages),v.properties=b.assign({},d.properties,v.properties),f.type=v.type,v.flags=b.assign({},d.flags,v.flags);var l=b.assign({},d.terms);if(v.terms)for(var g in v.terms){var w=v.terms[g];r(void 0===f.$_terms[g],"Invalid term override for",v.type,g),f.$_terms[g]=w.init,l[g]=w}v.terms=l,v.args||(v.args=d.args),v.prepare=o.prepare(v.prepare,d.prepare),v.coerce&&("function"==typeof v.coerce&&(v.coerce={method:v.coerce}),v.coerce.from&&!Array.isArray(v.coerce.from)&&(v.coerce={method:v.coerce.method,from:[].concat(v.coerce.from)})),v.coerce=o.coerce(v.coerce,d.coerce),v.validate=o.validate(v.validate,d.validate);var m=b.assign({},d.rules);if(v.rules)for(var y in v.rules)i(y);v.rules=m;var p=b.assign({},d.modifiers);if(v.modifiers)for(var _ in v.modifiers)a(_);if(v.modifiers=p,v.overrides){for(var k in h.R_=c,f.$_super={},v.overrides)r(c[k],"Cannot override missing",k),v.overrides[k][u.symbols.parent]=c[k],f.$_super[k]=c[k].bind(f);b.assign(h,v.overrides)}v.cast=b.assign({},d.cast,v.cast);var A=b.assign({},d.manifest,v.manifest);return A.build=o.build(v.manifest&&v.manifest.build,d.manifest&&d.manifest.build),v.manifest=A,v.rebuild=o.rebuild(v.rebuild,d.rebuild),f},o.build=function(t,n){return t&&n?function(i,r){return n(t(i,r),r)}:t||n},o.coerce=function(t,n){return t&&n?{from:t.from&&n.from?Ft(new Set(Ft(t.from).concat(Ft(n.from)))):null,method:function(i,r){var e;if((!n.from||n.from.includes(void 0===i?"undefined":U(i)))&&(e=n.method(i,r))){if(e.errors||void 0===e.value)return e;i=e.value}if(!t.from||t.from.includes(void 0===i?"undefined":U(i))){var u=t.method(i,r);if(u)return u}return e}}:t||n},o.prepare=function(t,n){return t&&n?function(i,r){var e=t(i,r);if(e){if(e.errors||void 0===e.value)return e;i=e.value}return n(i,r)||e}:t||n},o.rebuild=function(t,n){return t&&n?function(i){n(i),t(i)}:t||n},o.validate=function(t,n){return t&&n?function(i,r){var e=n(i,r);if(e){if(e.errors&&(!Array.isArray(e.errors)||e.errors.length))return e;i=e.value}return t(i,r)||e}:t||n}},5107:function(t,n,i){var r,e,u,s=i(375),o=i(8571),a=i(8652),c=i(8160),h=i(3292),f=i(6354),v=i(8901),d=i(9708),l=i(6133),g=i(3328),w=i(1152),m={types:{alternatives:i(4946),any:i(8068),array:i(546),boolean:i(4937),date:i(7500),function:i(390),link:i(8785),number:i(3832),object:i(8966),string:i(7417),symbol:i(8826)},aliases:{alt:"alternatives",bool:"boolean",func:"function"},root:function(){for(var t=function(t,n){var r=n[t];i[r]=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return s(!n.length||["alternatives","link","object"].includes(r),"The",r,"type does not allow arguments"),m.generate(this,m.types[r],n)}},n=function(t,n){var r=n[t];i[r]=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var e;return(e=this.any())[r].apply(e,Ft(n))}},i={V_:new Set(b.keys(m.types))},r=0,e=i.V_;r<e.length;r++)t(r,e);for(var u=0,o=["allow","custom","disallow","equal","exist","forbidden","invalid","not","only","optional","options","prefs","preferences","required","strip","valid","when"];u<o.length;u++)n(u,o);for(var a in b.assign(i,m.methods),m.aliases){var c=m.aliases[a];i[a]=i[c]}return i.x=i.expression,w.setup&&w.setup(i),i}};m.methods={ValidationError:f.ValidationError,version:c.version,cache:a.provider,assert:function(t,n){for(var i=arguments.length,r=new Array(i>2?i-2:0),e=2;e<i;e++)r[e-2]=arguments[e];m.assert(t,n,!0,r)},attempt:function(t,n){for(var i=arguments.length,r=new Array(i>2?i-2:0),e=2;e<i;e++)r[e-2]=arguments[e];return m.assert(t,n,!1,r)},build:function(t){return s("function"==typeof d.build,"Manifest functionality disabled"),d.build(this,t)},checkPreferences:function(t){c.checkPreferences(t)},compile:function(t,n){return h.compile(this,t,n)},defaults:function(t){var n=function(n,r){var e=r[n],u=t(i[e]());s(c.isSchema(u),"modifier must return a valid schema object"),i[e]=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return m.generate(this,u,n)}};s("function"==typeof t,"modifier must be a function");for(var i=b.assign({},this),r=0,e=i.V_;r<e.length;r++)n(r,e);return i},expression:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return hn(g,Ft(n))},extend:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];c.verifyFlat(n,"extend"),u=u||i(3378),s(n.length,"You need to provide at least one extension"),this.assert(n,u.extensions);var e=b.assign({},this);e.V_=new Set(e.V_);for(var o=0;o<n.length;o++){var a,h=function(t){var n=d[t];s(void 0===e[n.type]||e.V_.has(n.type),"Cannot override name",n.type);var i=n.base||a.any(),r=v.type(i,n);e.V_.add(n.type),e[n.type]=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return m.generate(this,r,n)}},f=n[o];"function"==typeof f&&(f=f(e)),this.assert(f,u.extension);for(var d=m.expandExtension(f,e),l=0;l<d.length;l++)a=this,h(l)}return e},isError:f.ValidationError.isError,isExpression:g.isTemplate,isRef:l.isRef,isSchema:c.isSchema,in:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(r=l).in.apply(r,Ft(n))},override:c.symbols.override,ref:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=l).create.apply(e,Ft(n))},types:function(){for(var t={},n=0,i=this.V_;n<i.length;n++){var r=i[n];t[r]=this[r]()}for(var e in m.aliases)t[e]=this[e]();return t}},m.assert=function(t,n,i,r){var e=r[0]instanceof p||"string"==typeof r[0]?r[0]:null,u=null!==e?r[1]:r[0],s=n.validate(t,c.preferences({errors:{stack:!0}},u||{})),a=s.error;if(!a)return s.value;if(e instanceof p)throw e;var h=i&&"function"==typeof a.annotate?a.annotate():a.message;throw a instanceof f.ValidationError==0&&(a=o(a)),a.message=e?"".concat(e," ").concat(h):h,a},m.generate=function(t,n,i){var r;return s(t,"Must be invoked on a Joi instance."),n.$_root=t,n.y_.args&&i.length?(r=n.y_).args.apply(r,[n].concat(Ft(i))):n},m.expandExtension=function(t,n){if("string"==typeof t.type)return[t];for(var i=[],r=0,e=n.V_;r<e.length;r++){var u=e[r];if(t.type.test(u)){var s=b.assign({},t);s.type=u,s.base=n[u](),i.push(s)}}return i},t.exports=m.root()},6914:function(t,n,i){var r=i(375),e=i(8571),u=i(3328);n.compile=function(t,n){var i=function(i){var e=t[i];if("root"===i||u.isTemplate(e))return n[i]=e,"continue";if("string"==typeof e)return n[i]=new u(e),"continue";r("object"==(void 0===e?"undefined":U(e))&&!Array.isArray(e),"Invalid message for",i);var s=i;for(i in n[s]=n[s]||{},e){var o=e[i];"root"===i||u.isTemplate(o)?n[s][i]=o:(r("string"==typeof o,"Invalid message for",i,"in",s),n[s][i]=new u(o))}};if("string"==typeof t)return r(!n,"Cannot set single message string"),new u(t);if(u.isTemplate(t))return r(!n,"Cannot set single message template"),t;for(var s in r("object"==(void 0===t?"undefined":U(t))&&!Array.isArray(t),"Invalid message options"),n=n?e(n):{},t)i(s);return n},n.decompile=function(t){var n=function(n){var r=t[n];if("root"===n)return i.root=r,"continue";if(u.isTemplate(r))return i[n]=r.describe({compact:!0}),"continue";var e=n;for(n in i[e]={},r){var s=r[n];"root"!==n?i[e][n]=s.describe({compact:!0}):i[e].root=s}},i={};for(var r in t)n(r);return i},n.merge=function(t,i){var s=function(t){var n=i[t];if("root"===t||u.isTemplate(n))return o[t]=n,"continue";if("string"==typeof n)return o[t]=new u(n),"continue";r("object"==(void 0===n?"undefined":U(n))&&!Array.isArray(n),"Invalid message for",t);var e=t;for(t in o[e]=o[e]||{},n){var s=n[t];"root"===t||u.isTemplate(s)?o[e][t]=s:(r("string"==typeof s,"Invalid message for",t,"in",e),o[e][t]=new u(s))}};if(!t)return n.compile(i);if(!i)return t;if("string"==typeof i)return new u(i);if(u.isTemplate(i))return i;var o=e(t);for(var a in i)s(a);return o}},2294:function(t,n,i){var r=i(375),e=i(8160),u=i(6133),s={};n.Ids=s.Ids=function(){function t(){this.W_=new Map,this.U_=new Map,this.G_=!1}var n=t.prototype;return n.clone=function(){var t=new s.Ids;return t.W_=new Map(this.W_),t.U_=new Map(this.U_),t.G_=this.G_,t},n.concat=function(t){t.G_&&(this.G_=!0);for(var n=0,i=t.W_.entries();n<i.length;n++){var e=tn(i[n],2),u=e[0],s=e[1];r(!this.U_.has(u),"Schema id conflicts with existing key:",u),this.W_.set(u,s)}for(var o=0,a=t.U_.entries();o<a.length;o++){var c=tn(a[o],2),h=c[0],f=c[1];r(!this.W_.has(h),"Schema key conflicts with existing id:",h),this.U_.set(h,f)}},n.fork=function(t,n,i){var u=this.H_(t);u.push({schema:i});var o=u.shift(),a={id:o.id,schema:n(o.schema)};r(e.isSchema(a.schema),"adjuster function failed to return a joi schema type");for(var c=0;c<u.length;c++){var h=u[c];a={id:h.id,schema:s.fork(h.schema,a.id,a.schema)}}return a.schema},n.labels=function(t,n){void 0===n&&(n=[]);var i=t[0],r=this.Z_(i);if(!r)return Ft(n).concat(Ft(t)).join(".");var e=t.slice(1);return n=Ft(n).concat([r.schema.v_.label||i]),e.length?r.schema.u_.labels(e,n):n.join(".")},n.reach=function(t,n){void 0===n&&(n=[]);var i=t[0],e=this.Z_(i);r(e,"Schema does not contain path",Ft(n).concat(Ft(t)).join("."));var u=t.slice(1);return u.length?e.schema.u_.reach(u,Ft(n).concat([i])):e.schema},n.register=function(t,n){var i=(void 0===n?{}:n).key;if(t&&e.isSchema(t)){(t.$_property("schemaChain")||t.u_.G_)&&(this.G_=!0);var u=t.v_.id;if(u){var s=this.W_.get(u);r(!s||s.schema===t,"Cannot add different schemas with the same id:",u),r(!this.U_.has(u),"Schema id conflicts with existing key:",u),this.W_.set(u,{schema:t,id:u})}i&&(r(!this.U_.has(i),"Schema already contains key:",i),r(!this.W_.has(i),"Schema key conflicts with existing id:",i),this.U_.set(i,{schema:t,id:i}))}},n.reset=function(){this.W_=new Map,this.U_=new Map,this.G_=!1},n.H_=function(t,n,i){void 0===n&&(n=[]),void 0===i&&(i=[]);var e=t[0],u=this.Z_(e);r(u,"Schema does not contain path",Ft(n).concat(Ft(t)).join(".")),i=[u].concat(Ft(i));var s=t.slice(1);return s.length?u.schema.u_.H_(s,Ft(n).concat([e]),i):i},n.Z_=function(t){return this.W_.get(t)||this.U_.get(t)},t}(),s.fork=function(t,i,r){var e=n.schema(t,{each:function(t,n){var e=n.key;if(i===(t.v_.id||e))return r},ref:!1});return e?e.$_mutateRebuild():t},n.schema=function(t,n){var i;for(var r in t.v_)if("_"!==r[0]){var e=s.scan(t.v_[r],{source:"flags",name:r},n);void 0!==e&&((i=i||t.clone()).v_[r]=e)}for(var u=0;u<t.m_.length;++u){var o=t.m_[u],a=s.scan(o.args,{source:"rules",name:o.name},n);if(void 0!==a){i=i||t.clone();var c=b.assign({},o);c.args=a,i.m_[u]=c,i.g_.get(o.name)===o&&i.g_.set(o.name,c)}}for(var h in t.$_terms)if("_"!==h[0]){var f=s.scan(t.$_terms[h],{source:"terms",name:h},n);void 0!==f&&((i=i||t.clone()).$_terms[h]=f)}return i},s.scan=function(t,n,i,r,o){var a=r||[];if(null!==t&&"object"==(void 0===t?"undefined":U(t))){var c;if(Array.isArray(t)){for(var h=0;h<t.length;++h){var f="terms"===n.source&&"keys"===n.name&&t[h].key,v=s.scan(t[h],n,i,[h].concat(Ft(a)),f);void 0!==v&&((c=c||t.slice())[h]=v)}return c}if(!1!==i.schema&&e.isSchema(t)||!1!==i.ref&&u.isRef(t)){var d=i.each(t,R(w({},n),{path:a,key:o}));return d===t?void 0:d}for(var l in t)if("_"!==l[0]){var g=s.scan(t[l],n,i,[l].concat(Ft(a)),o);void 0!==g&&((c=c||b.assign({},t))[l]=g)}return c}}},6133:function(t,i,r){var e,u=r(375),s=r(8571),o=r(9621),a=r(8160),c={symbol:n("ref"),defaults:{adjust:null,in:!1,iterables:null,map:null,separator:".",type:"value"}};i.create=function(t,n){void 0===n&&(n={}),u("string"==typeof t,"Invalid reference key:",t),a.assertOptions(n,["adjust","ancestor","in","iterables","map","prefix","render","separator"]),u(!n.prefix||"object"==U(n.prefix),"options.prefix must be of type object");var i=b.assign({},c.defaults,n);delete i.prefix;var r=i.separator,e=c.context(t,r,n.prefix);if(i.type=e.type,t=e.key,"value"===i.type)if(e.root&&(u(!r||t[0]!==r,"Cannot specify relative path with root prefix"),i.ancestor="root",t||(t=null)),r&&r===t)t=null,i.ancestor=0;else if(void 0!==i.ancestor)u(!r||!t||t[0]!==r,"Cannot combine prefix with ancestor option");else{var s=tn(c.ancestor(t,r),2),o=s[0],h=s[1];h&&""===(t=t.slice(h))&&(t=null),i.ancestor=o}return i.path=r?null===t?[]:t.split(r):[t],new c.Ref(i)},i.in=function(t,n){return void 0===n&&(n={}),i.create(t,R(w({},n),{in:!0}))},i.isRef=function(t){return!!t&&!!t[a.symbols.ref]},c.Ref=function(){function t(t){u("object"==(void 0===t?"undefined":U(t)),"Invalid reference construction"),a.assertOptions(t,["adjust","ancestor","in","iterables","map","path","render","separator","type","depth","key","root","display"]),u([!1,void 0].includes(t.separator)||"string"==typeof t.separator&&1===t.separator.length,"Invalid separator"),u(!t.adjust||"function"==typeof t.adjust,"options.adjust must be a function"),u(!t.map||Array.isArray(t.map),"options.map must be an array"),u(!t.map||!t.adjust,"Cannot set both map and adjust options"),b.assign(this,c.defaults,t),u("value"===this.type||void 0===this.ancestor,"Non-value references cannot reference ancestors"),Array.isArray(this.map)&&(this.map=new Map(this.map)),this.depth=this.path.length,this.key=this.path.length?this.path.join(this.separator):null,this.root=this.path[0],this.updateDisplay()}var n=t.prototype;return n.resolve=function(t,n,i,r,e){return void 0===e&&(e={}),u(!this.in||e.in,"Invalid in() reference usage"),"global"===this.type?this.Gd(i.context,n,e):"local"===this.type?this.Gd(r,n,e):this.ancestor?"root"===this.ancestor?this.Gd(n.ancestors[n.ancestors.length-1],n,e):(u(this.ancestor<=n.ancestors.length,"Invalid reference exceeds the schema root:",this.display),this.Gd(n.ancestors[this.ancestor-1],n,e)):this.Gd(t,n,e)},n.Gd=function(t,n,i){var r;if("value"===this.type&&n.mainstay.shadow&&!1!==i.shadow&&(r=n.mainstay.shadow.get(this.absolute(n))),void 0===r&&(r=o(t,this.path,{iterables:this.iterables,functions:!0})),this.adjust&&(r=this.adjust(r)),this.map){var e=this.map.get(r);void 0!==e&&(r=e)}return n.mainstay&&n.mainstay.tracer.resolve(n,this,r),r},n.toString=function(){return this.display},n.absolute=function(t){return Ft(t.path.slice(0,-this.ancestor)).concat(Ft(this.path))},n.clone=function(){return new c.Ref(this)},n.describe=function(){var t={path:this.path};"value"!==this.type&&(t.type=this.type),"."!==this.separator&&(t.separator=this.separator),"value"===this.type&&1!==this.ancestor&&(t.ancestor=this.ancestor),this.map&&(t.map=Ft(this.map));for(var n=0,i=["adjust","iterables","render"];n<i.length;n++){var r=i[n];null!==this[r]&&void 0!==this[r]&&(t[r]=this[r])}return!1!==this.in&&(t.in=!0),{ref:t}},n.updateDisplay=function(){var t=null!==this.key?this.key:"";if("value"===this.type)if(this.separator)if(this.ancestor)if("root"!==this.ancestor)if(1!==this.ancestor){var n=new Array(this.ancestor+1).fill(this.separator).join("");this.display="ref:".concat(n).concat(t||"")}else this.display="ref:".concat(t||"..");else this.display="ref:root:".concat(t);else this.display="ref:".concat(this.separator).concat(t);else this.display="ref:".concat(t);else this.display="ref:".concat(this.type,":").concat(t)},t}(),c.Ref.prototype[a.symbols.ref]=!0,i.build=function(t){return"value"===(t=b.assign({},c.defaults,t)).type&&void 0===t.ancestor&&(t.ancestor=1),new c.Ref(t)},c.context=function(t,n,i){if(void 0===i&&(i={}),t=t.trim(),i){var r=void 0===i.global?"$":i.global;if(r!==n&&t.startsWith(r))return{key:t.slice(r.length),type:"global"};var e=void 0===i.local?"#":i.local;if(e!==n&&t.startsWith(e))return{key:t.slice(e.length),type:"local"};var u=void 0===i.root?"/":i.root;if(u!==n&&t.startsWith(u))return{key:t.slice(u.length),type:"value",root:!0}}return{key:t,type:"value"}},c.ancestor=function(t,n){if(!n)return[1,0];if(t[0]!==n)return[1,0];if(t[1]!==n)return[0,1];for(var i=2;t[i]===n;)++i;return[i-1,i]},i.toSibling=0,i.toParent=1,i.Manager=function(){function t(){this.refs=[]}var n=t.prototype;return n.register=function(t,n){if(t)if(n=void 0===n?i.toParent:n,Array.isArray(t))for(var u=0;u<t.length;u++){var s=t[u];this.register(s,n)}else if(a.isSchema(t))for(var o=0,c=t.l_.refs;o<c.length;o++){var h=c[o];h.ancestor-n>=0&&this.refs.push({ancestor:h.ancestor-n,root:h.root})}else i.isRef(t)&&"value"===t.type&&t.ancestor-n>=0&&this.refs.push({ancestor:t.ancestor-n,root:t.root}),(e=e||r(3328)).isTemplate(t)&&this.register(t.refs(),n)},n.clone=function(){var t=new i.Manager;return t.refs=s(this.refs),t},n.reset=function(){this.refs=[]},n.roots=function(){return this.refs.filter((function(t){return!t.ancestor})).map((function(t){return t.root}))},Nt(t,[{key:"length",get:function(){return this.refs.length}}]),t}()},3378:function(t,n,i){var r=i(5107),e={};e.wrap=r.string().min(1).max(2).allow(!1),n.preferences=r.object({allowUnknown:r.boolean(),abortEarly:r.boolean(),artifacts:r.boolean(),cache:r.boolean(),context:r.object(),convert:r.boolean(),dateFormat:r.valid("date","iso","string","time","utc"),debug:r.boolean(),errors:{escapeHtml:r.boolean(),label:r.valid("path","key",!1),language:[r.string(),r.object().ref()],render:r.boolean(),stack:r.boolean(),wrap:{label:e.wrap,array:e.wrap,string:e.wrap}},externals:r.boolean(),messages:r.object(),noDefaults:r.boolean(),nonEnumerables:r.boolean(),presence:r.valid("required","optional","forbidden"),skipFunctions:r.boolean(),stripUnknown:r.object({arrays:r.boolean(),objects:r.boolean()}).or("arrays","objects").allow(!0,!1),warnings:r.boolean()}).strict(),e.nameRx=/^[a-zA-Z0-9]\w*$/,e.rule=r.object({alias:r.array().items(r.string().pattern(e.nameRx)).single(),args:r.array().items(r.string(),r.object({name:r.string().pattern(e.nameRx).required(),ref:r.boolean(),assert:r.alternatives([r.function(),r.object().schema()]).conditional("ref",{is:!0,then:r.required()}),normalize:r.function(),message:r.string().when("assert",{is:r.function(),then:r.required()})})),convert:r.boolean(),manifest:r.boolean(),method:r.function().allow(!1),multi:r.boolean(),validate:r.function()}),n.extension=r.object({type:r.alternatives([r.string(),r.object().regex()]).required(),args:r.function(),cast:r.object().pattern(e.nameRx,r.object({from:r.function().maxArity(1).required(),to:r.function().minArity(1).maxArity(2).required()})),base:r.object().schema().when("type",{is:r.object().regex(),then:r.forbidden()}),coerce:[r.function().maxArity(3),r.object({method:r.function().maxArity(3).required(),from:r.array().items(r.string()).single()})],flags:r.object().pattern(e.nameRx,r.object({setter:r.string(),default:r.any()})),manifest:{build:r.function().arity(2)},messages:[r.object(),r.string()],modifiers:r.object().pattern(e.nameRx,r.function().minArity(1).maxArity(2)),overrides:r.object().pattern(e.nameRx,r.function()),prepare:r.function().maxArity(3),rebuild:r.function().arity(1),rules:r.object().pattern(e.nameRx,e.rule),terms:r.object().pattern(e.nameRx,r.object({init:r.array().allow(null).required(),manifest:r.object().pattern(/.+/,[r.valid("schema","single"),r.object({mapped:r.object({from:r.string().required(),to:r.string().required()}).required()})])})),validate:r.function().maxArity(3)}).strict(),n.extensions=r.array().items(r.object(),r.function().arity(1)).strict(),e.desc={buffer:r.object({buffer:r.string()}),func:r.object({function:r.function().required(),options:{literal:!0}}),override:r.object({override:!0}),ref:r.object({ref:r.object({type:r.valid("value","global","local"),path:r.array().required(),separator:r.string().length(1).allow(!1),ancestor:r.number().min(0).integer().allow("root"),map:r.array().items(r.array().length(2)).min(1),adjust:r.function(),iterables:r.boolean(),in:r.boolean(),render:r.boolean()}).required()}),regex:r.object({regex:r.string().min(3)}),special:r.object({special:r.valid("deep").required()}),template:r.object({template:r.string().required(),options:r.object()}),value:r.object({value:r.alternatives([r.object(),r.array()]).required()})},e.desc.entity=r.alternatives([r.array().items(r.link("...")),r.boolean(),r.function(),r.number(),r.string(),e.desc.buffer,e.desc.func,e.desc.ref,e.desc.regex,e.desc.special,e.desc.template,e.desc.value,r.link("/")]),e.desc.values=r.array().items(null,r.boolean(),r.function(),r.number().allow(1/0,-1/0),r.string().allow(""),r.symbol(),e.desc.buffer,e.desc.func,e.desc.override,e.desc.ref,e.desc.regex,e.desc.template,e.desc.value),e.desc.messages=r.object().pattern(/.+/,[r.string(),e.desc.template,r.object().pattern(/.+/,[r.string(),e.desc.template])]),n.description=r.object({type:r.string().required(),flags:r.object({cast:r.string(),default:r.any(),description:r.string(),empty:r.link("/"),failover:e.desc.entity,id:r.string(),label:r.string(),only:!0,presence:["optional","required","forbidden"],result:["raw","strip"],strip:r.boolean(),unit:r.string()}).unknown(),preferences:{allowUnknown:r.boolean(),abortEarly:r.boolean(),artifacts:r.boolean(),cache:r.boolean(),convert:r.boolean(),dateFormat:["date","iso","string","time","utc"],errors:{escapeHtml:r.boolean(),label:["path","key"],language:[r.string(),e.desc.ref],wrap:{label:e.wrap,array:e.wrap}},externals:r.boolean(),messages:e.desc.messages,noDefaults:r.boolean(),nonEnumerables:r.boolean(),presence:["required","optional","forbidden"],skipFunctions:r.boolean(),stripUnknown:r.object({arrays:r.boolean(),objects:r.boolean()}).or("arrays","objects").allow(!0,!1),warnings:r.boolean()},allow:e.desc.values,invalid:e.desc.values,rules:r.array().min(1).items({name:r.string().required(),args:r.object().min(1),keep:r.boolean(),message:[r.string(),e.desc.messages],warn:r.boolean()}),keys:r.object().pattern(/.*/,r.link("/")),link:e.desc.ref}).pattern(/^[a-z]\w*$/,r.any())},493:function(t,i,r){var e=r(8571),u=r(9621),s=r(8160),o={value:n("value")};t.exports=o.State=function(){function t(t,n,i){this.path=t,this.ancestors=n,this.mainstay=i.mainstay,this.schemas=i.schemas,this.debug=null}var n=t.prototype;return n.localize=function(t,n,i){void 0===n&&(n=null),void 0===i&&(i=null);var r=new o.State(t,n,this);return i&&r.schemas&&(r.schemas=[o.schemas(i)].concat(Ft(r.schemas))),r},n.nest=function(t,n){var i=new o.State(this.path,this.ancestors,this);return i.schemas=i.schemas&&[o.schemas(t)].concat(Ft(i.schemas)),i.debug=n,i},n.shadow=function(t,n){this.mainstay.shadow=this.mainstay.shadow||new o.Shadow,this.mainstay.shadow.set(this.path,t,n)},n.snapshot=function(){this.mainstay.shadow&&(this.X_=e(this.mainstay.shadow.node(this.path))),this.mainstay.snapshot()},n.restore=function(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this.X_),this.X_=void 0),this.mainstay.restore()},n.commit=function(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this.X_),this.X_=void 0),this.mainstay.commit()},t}(),o.schemas=function(t){return s.isSchema(t)?{schema:t}:t},o.Shadow=function(){function t(){this.p_=null}var n=t.prototype;return n.set=function(t,n,i){if(t.length&&("strip"!==i||"number"!=typeof t[t.length-1])){this.p_=this.p_||new Map;for(var r=this.p_,e=0;e<t.length;++e){var u=t[e],s=r.get(u);s||(s=new Map,r.set(u,s)),r=s}r[o.value]=n}},n.get=function(t){var n=this.node(t);if(n)return n[o.value]},n.node=function(t){if(this.p_)return u(this.p_,t,{iterables:!0})},n.override=function(t,n){if(this.p_){var i=t.slice(0,-1),r=t[t.length-1],e=u(this.p_,i,{iterables:!0});n?e.set(r,n):e&&e.delete(r)}},t}()},3328:function(t,i,r){var e=r(375),u=r(8571),s=r(5277),o=r(1447),a=r(8160),c=r(6354),h=r(6133),f={symbol:n("template"),opens:new Array(1e3).join("\0"),closes:new Array(1e3).join("\x01"),dateFormat:{date:Date.prototype.toDateString,iso:Date.prototype.toISOString,string:Date.prototype.toString,time:Date.prototype.toTimeString,utc:Date.prototype.toUTCString}};t.exports=f.Template=function(){function t(t,n){if(e("string"==typeof t,"Template source must be a string"),e(!t.includes("\0")&&!t.includes("\x01"),"Template source cannot contain reserved control characters"),this.source=t,this.rendered=t,this.O_=null,n){var i=n,r=i.functions,s=C(i,["functions"]);this.Y_=b.keys(s).length?u(s):void 0,this.K_=r,this.K_&&(e(b.keys(this.K_).every((function(t){return"string"==typeof t})),"Functions keys must be strings"),e(b.values(this.K_).every((function(t){return"function"==typeof t})),"Functions values must be functions"))}else this.Y_=void 0,this.K_=void 0;this.z_()}var n=t.prototype;return n.z_=function(){if(this.source.includes("{")){var t=f.encode(this.source),n=f.split(t),i=!1,r=[],e=n.shift();e&&r.push(e);for(var u=0;u<n.length;u++){var s=n[u],o="{"!==s[0],a=o?"}":"}}",c=s.indexOf(a);if(-1!==c&&"{"!==s[1]){var h=s.slice(o?0:1,c),v=":"===h[0];v&&(h=h.slice(1));var d=this.q_(f.decode(h),{raw:o,wrapped:v});r.push(d),"string"!=typeof d&&(i=!0);var l=s.slice(c+a.length);l&&r.push(f.decode(l))}else r.push("{".concat(f.decode(s)))}i?this.O_=r:this.rendered=r.join("")}},n.describe=function(t){if(void 0===t&&(t={}),!this.Y_&&t.compact)return this.source;var n={template:this.source};return this.Y_&&(n.options=this.Y_),this.K_&&(n.functions=this.K_),n},n.isDynamic=function(){return!!this.O_},n.refs=function(){var t;if(this.O_){for(var n=[],i=0,r=this.O_;i<r.length;i++){var e=r[i];"string"!=typeof e&&(t=n).push.apply(t,Ft(e.refs))}return n}},n.resolve=function(t,n,i,r){return this.O_&&1===this.O_.length?this.j_(this.O_[0],t,n,i,r,{}):this.render(t,n,i,r)},n.j_=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;return t.ref?(e=t.ref).resolve.apply(e,Ft(i)):t.formula.evaluate(i)},n.render=function(t,n,i,r,e){if(void 0===e&&(e={}),!this.isDynamic())return this.rendered;for(var u=[],o=0,a=this.O_;o<a.length;o++){var c=a[o];if("string"==typeof c)u.push(c);else{var h=this.j_(c,t,n,i,r,e),v=f.stringify(h,t,n,i,r,e);if(void 0!==v){var d=c.raw||!1===(e.errors&&e.errors.escapeHtml)?v:s(v);u.push(f.wrap(d,c.wrapped&&i.errors.wrap.label))}}}return u.join("")},n.q_=function(t,n){var i=this,r=n.raw,e=n.wrapped,u=[],s=function(t){var n=h.create(t,i.Y_);return u.push(n),function(t){var i,r=(i=n).resolve.apply(i,Ft(t));return void 0!==r?r:null}};try{var a=this.K_?w(w({},f.functions),this.K_):f.functions,c=new o.Parser(t,{reference:s,functions:a,constants:f.constants})}catch(n){throw n.message='Invalid template variable "'.concat(t,'" fails due to: ').concat(n.message),n}if(c.single){if("reference"===c.single.type){var v=u[0];return{ref:v,raw:r,refs:u,wrapped:e||"local"===v.type&&"label"===v.key}}return f.stringify(c.single.value)}return{formula:c,raw:r,refs:u}},n.toString=function(){return this.source},t.date=function(t,n){return f.dateFormat[n.dateFormat].call(t)},t.build=function(t){return new f.Template(t.template,t.options||t.functions?R(w({},t.options),{functions:t.functions}):void 0)},t.isTemplate=function(t){return!!t&&!!t[a.symbols.template]},t}(),f.Template.prototype[a.symbols.template]=!0,f.Template.prototype.isImmutable=!0,f.encode=function(t){return t.replace(/\\(\{+)/g,(function(t,n){return f.opens.slice(0,n.length)})).replace(/\\(\}+)/g,(function(t,n){return f.closes.slice(0,n.length)}))},f.decode=function(t){return t.replace(/\u0000/g,"{").replace(/\u0001/g,"}")},f.split=function(t){for(var n=[],i="",r=0;r<t.length;++r){var e=t[r];if("{"===e){for(var u="";r+1<t.length&&"{"===t[r+1];)u+="{",++r;n.push(i),i=u}else i+=e}return n.push(i),n},f.wrap=function(t,n){return n?1===n.length?"".concat(n).concat(t).concat(n):"".concat(n[0]).concat(t).concat(n[1]):t},f.stringify=function(t,n,i,r,e,u){void 0===u&&(u={});var s=void 0===t?"undefined":U(t),o=r&&r.errors&&r.errors.wrap||{},a=!1;if(h.isRef(t)&&t.render&&(a=t.in,t=t.resolve(n,i,r,e,w({in:t.in},u))),null===t)return"null";if("string"===s)return f.wrap(t,u.arrayItems&&o.string);if("number"===s||"function"===s||"symbol"===s)return t.toString();if("object"!==s)return JSON.stringify(t);if(t instanceof Date)return f.Template.date(t,r);if(t instanceof Map){for(var c=[],v=0,d=t.entries();v<d.length;v++){var l=tn(d[v],2),g=l[0],m=l[1];c.push("".concat(g.toString()," -> ").concat(m.toString()))}t=c}if(!Array.isArray(t))return t.toString();for(var y=[],p=0;p<t.length;p++){var _=t[p];y.push(f.stringify(_,n,i,r,e,w({arrayItems:!0},u)))}return f.wrap(y.join(", "),!a&&o.array)},f.constants={true:!0,false:!1,null:null,second:1e3,minute:6e4,hour:36e5,day:864e5},f.functions={if:function(t,n,i){return t?n:i},length:function(t){return"string"==typeof t?t.length:t&&"object"==(void 0===t?"undefined":U(t))?Array.isArray(t)?t.length:b.keys(t).length:null},msg:function(t){var n=tn(this,5),i=n[0],r=n[1],e=n[2],u=n[3],s=n[4],o=s.messages;if(!o)return"";var a=c.template(i,o[0],t,r,e)||c.template(i,o[1],t,r,e);return a?a.render(i,r,e,u,s):""},number:function(t){return"number"==typeof t?t:"string"==typeof t?T(t):"boolean"==typeof t?t?1:0:t instanceof Date?t.getTime():null}}},4946:function(t,n,i){var r,e,u=i(375),s=i(1687),o=i(8068),a=i(8160),c=i(3292),h=i(6354),f=i(6133),v={};t.exports=o.extend({type:"alternatives",flags:{match:{default:"any"}},terms:{matches:{init:[],register:f.toSibling}},args:function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),u=1;u<n;u++)i[u-1]=arguments[u];return 1===i.length&&Array.isArray(i[0])?(r=t).try.apply(r,Ft(i[0])):(e=t).try.apply(e,Ft(i))},validate:function(t,n){var i=n.schema,r=n.error,e=n.state,u=n.prefs;if(i.v_.match){for(var o=[],a=[],c=0;c<i.$_terms.matches.length;++c){var f=i.$_terms.matches[c],d=e.nest(f.schema,"match.".concat(c));d.snapshot();var l=f.schema.$_validate(t,d,u);l.errors?(a.push(l.errors),d.restore()):(o.push(l.value),d.commit())}if(0===o.length)return{errors:r("alternatives.any",{details:a.map((function(t){return h.details(t,{override:!1})}))})};if("one"===i.v_.match)return 1===o.length?{value:o[0]}:{errors:r("alternatives.one")};if(o.length!==i.$_terms.matches.length)return{errors:r("alternatives.all",{details:a.map((function(t){return h.details(t,{override:!1})}))})};var g=function(t){return t.$_terms.matches.some((function(t){return"object"===t.schema.type||"alternatives"===t.schema.type&&g(t.schema)}))};return g(i)?{value:o.reduce((function(t,n){return s(t,n,{mergeArrays:!1})}))}:{value:o[o.length-1]}}for(var w=[],m=0;m<i.$_terms.matches.length;++m){var y=i.$_terms.matches[m];if(y.schema){var p=e.nest(y.schema,"match.".concat(m));p.snapshot();var _=y.schema.$_validate(t,p,u);if(!_.errors)return p.commit(),_;p.restore(),w.push({schema:y.schema,reports:_.errors})}else for(var b=y.ref?y.ref.resolve(t,e,u):t,k=y.is?[y]:y.switch,A=0;A<k.length;++A){var T=k[A],S=T.is,E=T.then,I=T.otherwise,R="match.".concat(m).concat(y.switch?"."+A:"");if(S.$_match(b,e.nest(S,"".concat(R,".is")),u)){if(E)return E.$_validate(t,e.nest(E,"".concat(R,".then")),u)}else if(I)return I.$_validate(t,e.nest(I,"".concat(R,".otherwise")),u)}}return v.errors(w,n)},rules:{conditional:{method:function(t,n){u(!this.v_.Q_,"Unreachable condition"),u(!this.v_.match,"Cannot combine match mode",this.v_.match,"with conditional rule"),u(void 0===n.break,"Cannot use break option with alternatives conditional");for(var i=this.clone(),r=c.when(i,t,n),e=r.is?[r]:r.switch,s=0;s<e.length;s++){var o=e[s];if(o.then&&o.otherwise){i.$_setFlag("Q_",!0,{clone:!1});break}}return i.$_terms.matches.push(r),i.$_mutateRebuild()}},match:{method:function(t){if(u(["any","one","all"].includes(t),"Invalid alternatives match mode",t),"any"!==t)for(var n=0,i=this.$_terms.matches;n<i.length;n++){var r=i[n];u(r.schema,"Cannot combine match mode",t,"with conditional rules")}return this.$_setFlag("match",t)}},try:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];u(n.length,"Missing alternative schemas"),a.verifyFlat(n,"try"),u(!this.v_.Q_,"Unreachable condition");for(var r=this.clone(),e=0;e<n.length;e++){var s=n[e];r.$_terms.matches.push({schema:r.$_compile(s)})}return r.$_mutateRebuild()}}},overrides:{label:function(t){return this.$_parent("label",t).$_modify({each:function(n,i){return"is"!==i.path[0]&&"string"!=typeof n.v_.label?n.label(t):void 0},ref:!1})}},rebuild:function(t){t.$_modify({each:function(n){a.isSchema(n)&&"array"===n.type&&t.$_setFlag("J_",!0,{clone:!1})}})},manifest:{build:function(t,n){if(n.matches)for(var i=0,r=n.matches;i<r.length;i++){var e=r[i],u=e.schema,s=e.ref,o=e.is,a=e.not,c=e.then,h=e.otherwise;t=u?t.try(u):s?t.conditional(s,{is:o,then:c,not:a,otherwise:h,switch:e.switch}):t.conditional(o,{then:c,otherwise:h})}return t}},messages:{"alternatives.all":"{{#label}} does not match all of the required types","alternatives.any":"{{#label}} does not match any of the allowed types","alternatives.match":"{{#label}} does not match any of the allowed types","alternatives.one":"{{#label}} matches more than one allowed type","alternatives.types":"{{#label}} must be one of {{#types}}"}}),v.errors=function(t,n){var i=n.error,r=n.state;if(!t.length)return{errors:i("alternatives.any")};if(1===t.length)return{errors:t[0].reports};for(var e=new Set,u=[],s=0;s<t.length;s++){var o=t[s],a=o.reports,c=o.schema;if(a.length>1)return v.unmatched(t,i);var f=a[0];if(f instanceof h.Report==0)return v.unmatched(t,i);if(f.state.path.length===r.path.length)if("any.only"!==f.code){var d=tn(f.code.split("."),2),l=d[0];"base"!==d[1]?u.push({type:c.type,report:f}):"object.base"===f.code?e.add(f.local.type):e.add(l)}else for(var g=0,w=f.local.valids;g<w.length;g++){var m=w[g];e.add(m)}else u.push({type:c.type,report:f})}return u.length?1===u.length?{errors:u[0].report}:v.unmatched(t,i):{errors:i("alternatives.types",{types:Ft(e)})}},v.unmatched=function(t,n){for(var i,r=[],e=0;e<t.length;e++){var u=t[e];(i=r).push.apply(i,Ft(u.reports))}return{errors:n("alternatives.match",h.details(r,{override:!1}))}}},8068:function(t,n,i){var r=i(375),e=i(7629),u=i(8160),s=i(6914);t.exports=e.extend({type:"any",flags:{only:{default:!1}},terms:{alterations:{init:null},examples:{init:null},externals:{init:null},metas:{init:[]},notes:{init:[]},shared:{init:null},tags:{init:[]},whens:{init:null}},rules:{custom:{method:function(t,n){return r("function"==typeof t,"Method must be a function"),r(void 0===n||n&&"string"==typeof n,"Description must be a non-empty string"),this.$_addRule({name:"custom",args:{method:t,description:n}})},validate:function(t,n,i){var r=i.method;try{return r(t,n)}catch(t){return n.error("any.custom",{error:t})}},args:["method","description"],multi:!0},messages:{method:function(t){return this.prefs({messages:t})}},shared:{method:function(t){r(u.isSchema(t)&&t.v_.id,"Schema must be a schema with an id");var n=this.clone();return n.$_terms.shared=n.$_terms.shared||[],n.$_terms.shared.push(t),n.$_mutateRegister(t),n}},warning:{method:function(t,n){return r(t&&"string"==typeof t,"Invalid warning code"),this.$_addRule({name:"warning",args:{code:t,local:n},warn:!0})},validate:function(t,n,i){var r=i.code,e=i.local;return n.error(r,e)},args:["code","local"],multi:!0}},modifiers:{keep:function(t,n){void 0===n&&(n=!0),t.keep=n},message:function(t,n){t.message=s.compile(n)},warn:function(t,n){void 0===n&&(n=!0),t.warn=n}},manifest:{build:function(t,n){for(var i in n){var r=n[i];if(["examples","externals","metas","notes","tags"].includes(i))for(var e=0;e<r.length;e++){var u=r[e];t=t[i.slice(0,-1)](u)}else if("alterations"!==i)if("whens"!==i){if("shared"===i)for(var s=0;s<r.length;s++){var o=r[s];t=t.shared(o)}}else for(var a=0;a<r.length;a++){var c=r[a],h=c.ref,f=c.is,v=c.not,d=c.then,l=c.otherwise,g=c.concat;t=g?t.concat(g):h?t.when(h,{is:f,not:v,then:d,otherwise:l,switch:c.switch,break:c.break}):t.when(f,{then:d,otherwise:l,break:c.break})}else{for(var w={},m=0;m<r.length;m++){var y=r[m],p=y.target,_=y.adjuster;w[p]=_}t=t.alter(w)}}return t}},messages:{"any.custom":"{{#label}} failed custom validation because {{#error.message}}","any.default":"{{#label}} threw an error when running default method","any.failover":"{{#label}} threw an error when running failover method","any.invalid":"{{#label}} contains an invalid value","any.only":'{{#label}} must be {if(#valids.length == 1, "", "one of ")}{{#valids}}',"any.ref":"{{#label}} {{#arg}} references {{:#ref}} which {{#reason}}","any.required":"{{#label}} is required","any.unknown":"{{#label}} is not allowed"}})},546:function(t,n,i){var r,e,u=i(375),s=i(9474),o=i(9621),a=i(8068),c=i(8160),h=i(3292),f={};t.exports=a.extend({type:"array",flags:{single:{default:!1},sparse:{default:!1}},terms:{items:{init:[],manifest:"schema"},ordered:{init:[],manifest:"schema"},rv:{init:[]},ov:{init:[]},hv:{init:[]}},coerce:{from:"object",method:function(t,n){var i=n.schema,r=n.state,e=n.prefs;if(Array.isArray(t)){var u=i.$_getRule("sort");return u?f.sort(i,t,u.args.options,r,e):void 0}}},validate:function(t,n){var i=n.schema,r=n.error;if(!Array.isArray(t)){if(i.v_.single){var e=[t];return e[c.symbols.arraySingle]=!0,{value:e}}return{errors:r("array.base")}}if(i.$_getRule("items")||i.$_terms.externals)return{value:t.slice()}},rules:{has:{method:function(t){t=this.$_compile(t,{appendPath:!0});var n=this.$_addRule({name:"has",args:{schema:t}});return n.$_mutateRegister(t),n},validate:function(t,n,i){for(var r=n.state,e=n.prefs,u=n.error,s=i.schema,o=[t].concat(Ft(r.ancestors)),a=0;a<t.length;++a){var c=r.localize(Ft(r.path).concat([a]),o,s);if(s.$_match(t[a],c,e))return t}var h=s.v_.label;return h?u("array.hasKnown",{patternLabel:h}):u("array.hasUnknown",null)},multi:!0},items:{method:function(){for(var t=function(t){var i=c.tryWithPath((function(){return n.$_compile(r[t])}),t,{append:!0});u.$_terms.items.push(i)},n=this,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];c.verifyFlat(r,"items");for(var u=this.$_addRule("items"),s=0;s<r.length;++s)t(s);return u.$_mutateRebuild()},validate:function(t,n){var i=n.schema,r=n.error,e=n.state,u=n.prefs,s=n.errorsArray,o=i.$_terms.hv.slice(),a=i.$_terms.ordered.slice(),h=Ft(i.$_terms.ov).concat(Ft(o)),v=!t[c.symbols.arraySingle];delete t[c.symbols.arraySingle];for(var d=s(),l=t.length,g=0;g<l;++g){var w=t[g],m=!1,y=!1,p=v?g:new Number(g),_=Ft(e.path).concat([p]);if(i.v_.sparse||void 0!==w){for(var b=[t].concat(Ft(e.ancestors)),k=0,A=i.$_terms.rv;k<A.length;k++){var T=A[k];if(T.$_match(w,e.localize(_,b,T),u,{presence:"ignore"})){if(d.push(r("array.excludes",{pos:g,value:w},e.localize(_))),u.abortEarly)return d;m=!0,a.shift();break}}if(!m){if(i.$_terms.ordered.length){if(a.length){var S,E=a.shift(),I=E.$_validate(w,e.localize(_,b,E),u);if(I.errors){if((S=d).push.apply(S,Ft(I.errors)),u.abortEarly)return d}else if("strip"===E.v_.result)f.fastSplice(t,g),--g,--l;else{if(!i.v_.sparse&&void 0===I.value){if(d.push(r("array.sparse",{key:p,path:_,pos:g,value:void 0},e.localize(_))),u.abortEarly)return d;continue}t[g]=I.value}continue}if(!i.$_terms.items.length){if(d.push(r("array.orderedLength",{pos:g,limit:i.$_terms.ordered.length})),u.abortEarly)return d;break}}for(var R=[],C=o.length,N=0;N<C;++N){var D=e.localize(_,b,o[N]);D.snapshot();var P=o[N].$_validate(w,D,u);if(R[N]=P,!P.errors){if(D.commit(),t[g]=P.value,y=!0,f.fastSplice(o,N),--N,--C,!i.v_.sparse&&void 0===P.value&&(d.push(r("array.sparse",{key:p,path:_,pos:g,value:void 0},e.localize(_))),u.abortEarly))return d;break}D.restore()}if(!y){var x=u.stripUnknown&&!!u.stripUnknown.arrays||!1;C=h.length;for(var L=0;L<h.length;L++){var M=h[L],O=void 0,B=o.indexOf(M);if(-1!==B)O=R[B];else{var V=e.localize(_,b,M);if(V.snapshot(),!(O=M.$_validate(w,V,u)).errors){V.commit(),"strip"===M.v_.result?(f.fastSplice(t,g),--g,--l):i.v_.sparse||void 0!==O.value?t[g]=O.value:(d.push(r("array.sparse",{key:p,path:_,pos:g,value:void 0},e.localize(_))),m=!0),y=!0;break}V.restore()}if(1===C){var F;if(x){f.fastSplice(t,g),--g,--l,y=!0;break}if((F=d).push.apply(F,Ft(O.errors)),u.abortEarly)return d;m=!0;break}}if(!m&&(i.$_terms.ov.length||i.$_terms.hv.length)&&!y){if(x){f.fastSplice(t,g),--g,--l;continue}if(d.push(r("array.includes",{pos:g,value:w},e.localize(_))),u.abortEarly)return d}}}}else{if(d.push(r("array.sparse",{key:p,path:_,pos:g,value:void 0},e.localize(_))),u.abortEarly)return d;a.shift()}}return o.length&&f.fillMissedErrors(i,d,o,t,e,u),a.length&&(f.fillOrderedErrors(i,d,a,t,e,u),d.length||f.fillDefault(a,t,e,u)),d.length?d:t},priority:!0,manifest:!1},length:{method:function(t){return this.$_addRule({name:"length",args:{limit:t},operator:"="})},validate:function(t,n,i,r){var e=i.limit,u=r.name,s=r.operator,o=r.args;return c.compare(t.length,e,s)?t:n.error("array."+u,{limit:o.limit,value:t})},args:[{name:"limit",ref:!0,assert:c.limit,message:"must be a positive integer"}]},max:{method:function(t){return this.$_addRule({name:"max",method:"length",args:{limit:t},operator:"<="})}},min:{method:function(t){return this.$_addRule({name:"min",method:"length",args:{limit:t},operator:">="})}},ordered:{method:function(){for(var t=function(t){var i=c.tryWithPath((function(){return n.$_compile(r[t])}),t,{append:!0});f.validateSingle(i,u),u.$_mutateRegister(i),u.$_terms.ordered.push(i)},n=this,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];c.verifyFlat(r,"ordered");for(var u=this.$_addRule("items"),s=0;s<r.length;++s)t(s);return u.$_mutateRebuild()}},single:{method:function(t){var n=void 0===t||!!t;return u(!n||!this.v_.J_,"Cannot specify single rule when array has array items"),this.$_setFlag("single",n)}},sort:{method:function(t){void 0===t&&(t={}),c.assertOptions(t,["by","order"]);var n={order:t.order||"ascending"};return t.by&&(n.by=h.ref(t.by,{ancestor:0}),u(!n.by.ancestor,"Cannot sort by ancestor")),this.$_addRule({name:"sort",args:{options:n}})},validate:function(t,n,i){var r=n.error,e=n.state,u=n.prefs,s=n.schema,o=i.options,a=f.sort(s,t,o,e,u),c=a.value,h=a.errors;if(h)return h;for(var v=0;v<t.length;++v)if(t[v]!==c[v])return r("array.sort",{order:o.order,by:o.by?o.by.key:"value"});return t},convert:!0},sparse:{method:function(t){var n=void 0===t||!!t;return this.v_.sparse===n?this:(n?this.clone():this.$_addRule("items")).$_setFlag("sparse",n,{clone:!1})}},unique:{method:function(t,n){void 0===n&&(n={}),u(!t||"function"==typeof t||"string"==typeof t,"comparator must be a function or a string"),c.assertOptions(n,["ignoreUndefined","separator"]);var i={name:"unique",args:{options:n,comparator:t}};if(t)if("string"==typeof t){var r=c.default(n.separator,".");i.path=r?t.split(r):[t]}else i.comparator=t;return this.$_addRule(i)},validate:function(t,n,i,r){for(var e=n.state,a=n.error,c=(n.schema,i.comparator),h=i.options,f=r.comparator,v=r.path,d={string:b.create(null),number:b.create(null),undefined:b.create(null),boolean:b.create(null),bigint:b.create(null),object:new Map,function:new Map,custom:new Map},l=f||s,g=h.ignoreUndefined,w=0;w<t.length;++w){var m=v?o(t[w],v):t[w],y=f?d.custom:d[void 0===m?"undefined":U(m)];if(u(y,"Failed to find unique map container for type",void 0===m?"undefined":U(m)),y instanceof Map){for(var p=y.entries(),_=void 0;!(_=p.next()).done;)if(l(_.value[0],m)){var k=e.localize(Ft(e.path).concat([w]),[t].concat(Ft(e.ancestors))),A={pos:w,value:t[w],dupePos:_.value[1],dupeValue:t[_.value[1]]};return v&&(A.path=c),a("array.unique",A,k)}y.set(m,w)}else{if((!g||void 0!==m)&&void 0!==y[m]){var T={pos:w,value:t[w],dupePos:y[m],dupeValue:t[y[m]]};return v&&(T.path=c),a("array.unique",T,e.localize(Ft(e.path).concat([w]),[t].concat(Ft(e.ancestors))))}y[m]=w}}return t},args:["comparator","options"],multi:!0}},cast:{set:{from:Array.isArray,to:function(t,n){return new Set(t)}}},rebuild:function(t){t.$_terms.ov=[],t.$_terms.rv=[],t.$_terms.hv=[];for(var n=0,i=t.$_terms.items;n<i.length;n++){var r=i[n];f.validateSingle(r,t),"required"===r.v_.presence?t.$_terms.hv.push(r):"forbidden"===r.v_.presence?t.$_terms.rv.push(r):t.$_terms.ov.push(r)}for(var e=0,u=t.$_terms.ordered;e<u.length;e++){var s=u[e];f.validateSingle(s,t)}},manifest:{build:function(t,n){return n.items&&(t=(r=t).items.apply(r,Ft(n.items))),n.ordered&&(t=(e=t).ordered.apply(e,Ft(n.ordered))),t}},messages:{"array.base":"{{#label}} must be an array","array.excludes":"{{#label}} contains an excluded value","array.hasKnown":"{{#label}} does not contain at least one required match for type {:#patternLabel}","array.hasUnknown":"{{#label}} does not contain at least one required match","array.includes":"{{#label}} does not match any of the allowed types","array.includesRequiredBoth":"{{#label}} does not contain {{#knownMisses}} and {{#unknownMisses}} other required value(s)","array.includesRequiredKnowns":"{{#label}} does not contain {{#knownMisses}}","array.includesRequiredUnknowns":"{{#label}} does not contain {{#unknownMisses}} required value(s)","array.length":"{{#label}} must contain {{#limit}} items","array.max":"{{#label}} must contain less than or equal to {{#limit}} items","array.min":"{{#label}} must contain at least {{#limit}} items","array.orderedLength":"{{#label}} must contain at most {{#limit}} items","array.sort":"{{#label}} must be sorted in {#order} order by {{#by}}","array.sort.mismatching":"{{#label}} cannot be sorted due to mismatching types","array.sort.unsupported":"{{#label}} cannot be sorted due to unsupported type {#type}","array.sparse":"{{#label}} must not be a sparse array item","array.unique":"{{#label}} contains a duplicate value"}}),f.fillMissedErrors=function(t,n,i,r,e,u){for(var s=[],o=0,a=0;a<i.length;a++){var c=i[a].v_.label;c?s.push(c):++o}s.length?o?n.push(t.$_createError("array.includesRequiredBoth",r,{knownMisses:s,unknownMisses:o},e,u)):n.push(t.$_createError("array.includesRequiredKnowns",r,{knownMisses:s},e,u)):n.push(t.$_createError("array.includesRequiredUnknowns",r,{unknownMisses:o},e,u))},f.fillOrderedErrors=function(t,n,i,r,e,u){for(var s=[],o=0;o<i.length;o++){var a=i[o];"required"===a.v_.presence&&s.push(a)}s.length&&f.fillMissedErrors(t,n,s,r,e,u)},f.fillDefault=function(t,n,i,r){for(var e,u=[],s=!0,o=t.length-1;o>=0;--o){var a=t[o],c=[n].concat(Ft(i.ancestors)),h=a.$_validate(void 0,i.localize(i.path,c,a),r).value;if(s){if(void 0===h)continue;s=!1}u.unshift(h)}u.length&&(e=n).push.apply(e,Ft(u))},f.fastSplice=function(t,n){for(var i=n;i<t.length;)t[i++]=t[i];--t.length},f.validateSingle=function(t,n){("array"===t.type||t.v_.J_)&&(u(!n.v_.single,"Cannot specify array item with single rule enabled"),n.$_setFlag("J_",!0,{clone:!1}))},f.sort=function(t,n,i,r,e){var u="ascending"===i.order?1:-1,s=-1*u,o=u,a=function(a,c){var h=f.compare(a,c,s,o);if(null!==h||(i.by&&(a=i.by.resolve(a,r,e),c=i.by.resolve(c,r,e)),null!==(h=f.compare(a,c,s,o))))return h;var v=void 0===a?"undefined":U(a);if(v!==(void 0===c?"undefined":U(c)))throw t.$_createError("array.sort.mismatching",n,null,r,e);if("number"!==v&&"string"!==v)throw t.$_createError("array.sort.unsupported",n,{type:v},r,e);return"number"===v?(a-c)*u:a<c?s:o};try{return{value:n.slice().sort(a)}}catch(t){return{errors:t}}},f.compare=function(t,n,i,r){return t===n?0:void 0===t?1:void 0===n?-1:null===t?r:null===n?i:null}},4937:function(t,n,i){var r,e,u=i(375),s=i(8068),o=i(8160),a=i(2036),c={isBool:function(t){return"boolean"==typeof t}};t.exports=s.extend({type:"boolean",flags:{sensitive:{default:!1}},terms:{falsy:{init:null,manifest:"values"},truthy:{init:null,manifest:"values"}},coerce:function(t,n){var i=n.schema;if("boolean"!=typeof t){if("string"==typeof t){var r=i.v_.sensitive?t:t.toLowerCase();t="true"===r||"false"!==r&&t}return"boolean"!=typeof t&&(t=i.$_terms.truthy&&i.$_terms.truthy.has(t,null,null,!i.v_.sensitive)||(!i.$_terms.falsy||!i.$_terms.falsy.has(t,null,null,!i.v_.sensitive))&&t),{value:t}}},validate:function(t,n){var i=n.error;if("boolean"!=typeof t)return{value:t,errors:i("boolean.base")}},rules:{truthy:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];o.verifyFlat(n,"truthy");var r=this.clone();r.$_terms.truthy=r.$_terms.truthy||new a;for(var e=0;e<n.length;++e){var s=n[e];u(void 0!==s,"Cannot call truthy with undefined"),r.$_terms.truthy.add(s)}return r}},falsy:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];o.verifyFlat(n,"falsy");var r=this.clone();r.$_terms.falsy=r.$_terms.falsy||new a;for(var e=0;e<n.length;++e){var s=n[e];u(void 0!==s,"Cannot call falsy with undefined"),r.$_terms.falsy.add(s)}return r}},sensitive:{method:function(t){return void 0===t&&(t=!0),this.$_setFlag("sensitive",t)}}},cast:{number:{from:c.isBool,to:function(t,n){return t?1:0}},string:{from:c.isBool,to:function(t,n){return t?"true":"false"}}},manifest:{build:function(t,n){return n.truthy&&(t=(r=t).truthy.apply(r,Ft(n.truthy))),n.falsy&&(t=(e=t).falsy.apply(e,Ft(n.falsy))),t}},messages:{"boolean.base":"{{#label}} must be a boolean"}})},7500:function(t,n,i){var r=i(375),e=i(8068),u=i(8160),s=i(3328),o={isDate:function(t){return t instanceof Date}};t.exports=e.extend({type:"date",coerce:{from:["number","string"],method:function(t,n){var i=n.schema;return{value:o.parse(t,i.v_.format)||t}}},validate:function(t,n){var i=n.schema,r=n.error,e=n.prefs;if(!(t instanceof Date)||S(t.getTime())){var u=i.v_.format;return e.convert&&u&&"string"==typeof t?{value:t,errors:r("date.format",{format:u})}:{value:t,errors:r("date.base")}}},rules:{compare:{method:!1,validate:function(t,n,i,r){var e=i.date,s=r.name,o=r.operator,a=r.args,c="now"===e?Date.now():e.getTime();return u.compare(t.getTime(),c,o)?t:n.error("date."+s,{limit:a.date,value:t})},args:[{name:"date",ref:!0,normalize:function(t){return"now"===t?t:o.parse(t)},assert:function(t){return null!==t},message:"must have a valid date format"}]},format:{method:function(t){return r(["iso","javascript","unix"].includes(t),"Unknown date format",t),this.$_setFlag("format",t)}},greater:{method:function(t){return this.$_addRule({name:"greater",method:"compare",args:{date:t},operator:">"})}},iso:{method:function(){return this.format("iso")}},less:{method:function(t){return this.$_addRule({name:"less",method:"compare",args:{date:t},operator:"<"})}},max:{method:function(t){return this.$_addRule({name:"max",method:"compare",args:{date:t},operator:"<="})}},min:{method:function(t){return this.$_addRule({name:"min",method:"compare",args:{date:t},operator:">="})}},timestamp:{method:function(t){return void 0===t&&(t="javascript"),r(["javascript","unix"].includes(t),'"type" must be one of "javascript, unix"'),this.format(t)}}},cast:{number:{from:o.isDate,to:function(t,n){return t.getTime()}},string:{from:o.isDate,to:function(t,n){var i=n.prefs;return s.date(t,i)}}},messages:{"date.base":"{{#label}} must be a valid date","date.format":'{{#label}} must be in {msg("date.format." + #format) || #format} format',"date.greater":"{{#label}} must be greater than {{:#limit}}","date.less":"{{#label}} must be less than {{:#limit}}","date.max":"{{#label}} must be less than or equal to {{:#limit}}","date.min":"{{#label}} must be greater than or equal to {{:#limit}}","date.format.iso":"ISO 8601 date","date.format.javascript":"timestamp or number of milliseconds","date.format.unix":"timestamp or number of seconds"}}),o.parse=function(t,n){if(t instanceof Date)return t;if("string"!=typeof t&&(S(t)||!isFinite(t))||/^\s*$/.test(t))return null;if("iso"===n)return u.isIsoDate(t)?o.date(t.toString()):null;var i=t;if("string"==typeof t&&/^[+-]?\d+(\.\d+)?$/.test(t)&&(t=T(t)),n){if("javascript"===n)return o.date(1*t);if("unix"===n)return o.date(1e3*t);if("string"==typeof i)return null}return o.date(t)},o.date=function(t){var n=new Date(t);return S(n.getTime())?null:n}},390:function(t,n,i){var r=i(375),e=i(7824);t.exports=e.extend({type:"function",properties:{typeof:"function"},rules:{arity:{method:function(t){return r(Number.isSafeInteger(t)&&t>=0,"n must be a positive integer"),this.$_addRule({name:"arity",args:{n:t}})},validate:function(t,n,i){var r=i.n;return t.length===r?t:n.error("function.arity",{n:r})}},class:{method:function(){return this.$_addRule("class")},validate:function(t,n){return/^\s*class\s/.test(t.toString())?t:n.error("function.class",{value:t})}},minArity:{method:function(t){return r(Number.isSafeInteger(t)&&t>0,"n must be a strict positive integer"),this.$_addRule({name:"minArity",args:{n:t}})},validate:function(t,n,i){var r=i.n;return t.length>=r?t:n.error("function.minArity",{n:r})}},maxArity:{method:function(t){return r(Number.isSafeInteger(t)&&t>=0,"n must be a positive integer"),this.$_addRule({name:"maxArity",args:{n:t}})},validate:function(t,n,i){var r=i.n;return t.length<=r?t:n.error("function.maxArity",{n:r})}}},messages:{"function.arity":"{{#label}} must have an arity of {{#n}}","function.class":"{{#label}} must be a class","function.maxArity":"{{#label}} must have an arity lesser or equal to {{#n}}","function.minArity":"{{#label}} must have an arity greater or equal to {{#n}}"}})},7824:function(t,n,i){var r=i(978),e=i(375),u=i(8571),s=i(3652),o=i(8068),a=i(8160),c=i(3292),h=i(6354),f=i(6133),v=i(3328),d={renameDefaults:{alias:!1,multiple:!1,override:!1}};t.exports=o.extend({type:"uv",properties:{typeof:"object"},flags:{unknown:{default:void 0}},terms:{dependencies:{init:null},keys:{init:null,manifest:{mapped:{from:"schema",to:"key"}}},patterns:{init:null},renames:{init:null}},args:function(t,n){return t.keys(n)},validate:function(t,n){var i=n.schema,r=n.error,e=n.state,u=n.prefs;if(!t||(void 0===t?"undefined":U(t))!==i.$_property("typeof")||Array.isArray(t))return{value:t,errors:r("object.base",{type:i.$_property("typeof")})};if(i.$_terms.renames||i.$_terms.dependencies||i.$_terms.keys||i.$_terms.patterns||i.$_terms.externals){t=d.clone(t,u);var s=[];if(i.$_terms.renames&&!d.rename(i,t,e,u,s))return{value:t,errors:s};if(!i.$_terms.keys&&!i.$_terms.patterns&&!i.$_terms.dependencies)return{value:t,errors:s};var o=new Set(b.keys(t));if(i.$_terms.keys)for(var a=[t].concat(Ft(e.ancestors)),c=0,h=i.$_terms.keys;c<h.length;c++){var f=h[c],v=f.key,l=t[v];o.delete(v);var g=e.localize(Ft(e.path).concat([v]),a,f),w=f.schema.$_validate(l,g,u);if(w.errors){var m;if(u.abortEarly)return{value:t,errors:w.errors};void 0!==w.value&&(t[v]=w.value),(m=s).push.apply(m,Ft(w.errors))}else"strip"===f.schema.v_.result||void 0===w.value&&void 0!==l?delete t[v]:void 0!==w.value&&(t[v]=w.value)}if(o.size||i.v_.fv){var y=d.unknown(i,t,o,s,e,u);if(y)return y}if(i.$_terms.dependencies)for(var p=0,_=i.$_terms.dependencies;p<_.length;p++){var k=_[p];if(null===k.key||!1!==d.isPresent(k.options)(k.key.resolve(t,e,u,null,{shadow:!1}))){var A=d.dependencies[k.rel](i,k,t,e,u);if(A){var T=i.$_createError(A.code,t,A.context,e,u);if(u.abortEarly)return{value:t,errors:T};s.push(T)}}}return{value:t,errors:s}}},rules:{and:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return a.verifyFlat(n,"and"),d.dependency(this,"and",null,n)}},append:{method:function(t){return null==t||0===b.keys(t).length?this:this.keys(t)}},assert:{method:function(t,n,i){v.isTemplate(t)||(t=c.ref(t)),e(void 0===i||"string"==typeof i,"Message must be a string"),n=this.$_compile(n,{appendPath:!0});var r=this.$_addRule({name:"assert",args:{subject:t,schema:n,message:i}});return r.$_mutateRegister(t),r.$_mutateRegister(n),r},validate:function(t,n,i){var r=n.error,e=n.prefs,u=n.state,s=i.subject,o=i.schema,a=i.message,c=s.resolve(t,u,e),h=f.isRef(s)?s.absolute(u):[];return o.$_match(c,u.localize(h,[t].concat(Ft(u.ancestors)),o),e)?t:r("object.assert",{subject:s,message:a})},args:["subject","schema","message"],multi:!0},instance:{method:function(t,n){return e("function"==typeof t,"constructor must be a function"),n=n||t.name,this.$_addRule({name:"instance",args:{constructor:t,name:n}})},validate:function(t,n,i){var r=i.constructor,e=i.name;return t instanceof r?t:n.error("object.instance",{type:e,value:t})},args:["constructor","name"]},keys:{method:function(t){var n=this;e(void 0===t||"object"==(void 0===t?"undefined":U(t)),"Object schema must be a valid object"),e(!a.isSchema(t),"Object schema cannot be a joi schema");var i=this.clone();if(t)if(b.keys(t).length){var r=function(r){a.tryWithPath((function(){return i.$_terms.keys.push({key:r,schema:n.$_compile(t[r])})}),r)};for(var u in i.$_terms.keys=i.$_terms.keys?i.$_terms.keys.filter((function(n){return!t.hasOwnProperty(n.key)})):new d.Keys,t)r(u)}else i.$_terms.keys=new d.Keys;else i.$_terms.keys=null;return i.$_mutateRebuild()}},length:{method:function(t){return this.$_addRule({name:"length",args:{limit:t},operator:"="})},validate:function(t,n,i,r){var e=i.limit,u=r.name,s=r.operator,o=r.args;return a.compare(b.keys(t).length,e,s)?t:n.error("object."+u,{limit:o.limit,value:t})},args:[{name:"limit",ref:!0,assert:a.limit,message:"must be a positive integer"}]},max:{method:function(t){return this.$_addRule({name:"max",method:"length",args:{limit:t},operator:"<="})}},min:{method:function(t){return this.$_addRule({name:"min",method:"length",args:{limit:t},operator:">="})}},nand:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return a.verifyFlat(n,"nand"),d.dependency(this,"nand",null,n)}},or:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return a.verifyFlat(n,"or"),d.dependency(this,"or",null,n)}},oxor:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return d.dependency(this,"oxor",null,n)}},pattern:{method:function(t,n,i){void 0===i&&(i={});var r=t instanceof RegExp;r||(t=this.$_compile(t,{appendPath:!0})),e(void 0!==n,"Invalid rule"),a.assertOptions(i,["fallthrough","matches"]),r&&e(!t.flags.includes("g")&&!t.flags.includes("y"),"pattern should not use global or sticky mode"),n=this.$_compile(n,{appendPath:!0});var u,s=this.clone();s.$_terms.patterns=s.$_terms.patterns||[];var o=(un(u={},r?"regex":"schema",t),un(u,"rule",n),u);return i.matches&&(o.matches=this.$_compile(i.matches),"array"!==o.matches.type&&(o.matches=o.matches.$_root.array().items(o.matches)),s.$_mutateRegister(o.matches),s.$_setFlag("fv",!0,{clone:!1})),i.fallthrough&&(o.fallthrough=!0),s.$_terms.patterns.push(o),s.$_mutateRegister(n),s}},ref:{method:function(){return this.$_addRule("ref")},validate:function(t,n){return f.isRef(t)?t:n.error("object.refType",{value:t})}},regex:{method:function(){return this.$_addRule("regex")},validate:function(t,n){return t instanceof RegExp?t:n.error("object.regex",{value:t})}},rename:{method:function(t,n,i){void 0===i&&(i={}),e("string"==typeof t||t instanceof RegExp,"Rename missing the from argument"),e("string"==typeof n||n instanceof v,"Invalid rename to argument"),e(n!==t,"Cannot rename key to same name:",t),a.assertOptions(i,["alias","ignoreUndefined","override","multiple"]);var u=this.clone();u.$_terms.renames=u.$_terms.renames||[];for(var s=0,o=u.$_terms.renames;s<o.length;s++){var c=o[s];e(c.from!==t,"Cannot rename the same key multiple times")}return n instanceof v&&u.$_mutateRegister(n),u.$_terms.renames.push({from:t,to:n,options:r(d.renameDefaults,i)}),u}},schema:{method:function(t){return void 0===t&&(t="any"),this.$_addRule({name:"schema",args:{type:t}})},validate:function(t,n,i){var r=i.type;return!a.isSchema(t)||"any"!==r&&t.type!==r?n.error("object.schema",{type:r}):t}},unknown:{method:function(t){return this.$_setFlag("unknown",!1!==t)}},with:{method:function(t,n,i){return void 0===i&&(i={}),d.dependency(this,"with",t,n,i)}},without:{method:function(t,n,i){return void 0===i&&(i={}),d.dependency(this,"without",t,n,i)}},xor:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return a.verifyFlat(n,"xor"),d.dependency(this,"xor",null,n)}}},overrides:{default:function(t,n){return void 0===t&&(t=a.symbols.deepDefault),this.$_parent("default",t,n)}},rebuild:function(t){if(t.$_terms.keys){for(var n=function(t,n){var r=n[t];a.tryWithPath((function(){return i.add(r,{after:r.schema.$_rootReferences(),group:r.key})}),r.key)},i=new s.Sorter,r=0,e=t.$_terms.keys;r<e.length;r++)n(r,e);t.$_terms.keys=hn(d.Keys,Ft(i.nodes))}},manifest:{build:function(t,n){if(n.keys&&(t=t.keys(n.keys)),n.dependencies)for(var i=0,r=n.dependencies;i<r.length;i++){var e=r[i],u=e.rel,s=e.key,o=void 0===s?null:s,a=e.peers,c=e.options;t=d.dependency(t,u,o,a,c)}if(n.patterns)for(var h=0,f=n.patterns;h<f.length;h++){var v=f[h],l=v.regex,g=v.schema,w=v.rule,m=v.fallthrough,y=v.matches;t=t.pattern(l||g,w,{fallthrough:m,matches:y})}if(n.renames)for(var p=0,_=n.renames;p<_.length;p++){var b=_[p],k=b.from,A=b.to,T=b.options;t=t.rename(k,A,T)}return t}},messages:{"object.and":"{{#label}} contains {{#presentWithLabels}} without its required peers {{#missingWithLabels}}","object.assert":'{{#label}} is invalid because {if(#subject.key, `"` + #subject.key + `" failed to ` + (#message || "pass the assertion test"), #message || "the assertion failed")}',"object.base":"{{#label}} must be of type {{#type}}","object.instance":"{{#label}} must be an instance of {{:#type}}","object.length":'{{#label}} must have {{#limit}} key{if(#limit == 1, "", "s")}',"object.max":'{{#label}} must have less than or equal to {{#limit}} key{if(#limit == 1, "", "s")}',"object.min":'{{#label}} must have at least {{#limit}} key{if(#limit == 1, "", "s")}',"object.missing":"{{#label}} must contain at least one of {{#peersWithLabels}}","object.nand":"{{:#mainWithLabel}} must not exist simultaneously with {{#peersWithLabels}}","object.oxor":"{{#label}} contains a conflict between optional exclusive peers {{#peersWithLabels}}","object.pattern.match":"{{#label}} keys failed to match pattern requirements","object.refType":"{{#label}} must be a Joi reference","object.regex":"{{#label}} must be a RegExp object","object.rename.multiple":"{{#label}} cannot rename {{:#from}} because multiple renames are disabled and another key was already renamed to {{:#to}}","object.rename.override":"{{#label}} cannot rename {{:#from}} because override is disabled and target {{:#to}} exists","object.schema":"{{#label}} must be a Joi schema of {{#type}} type","object.unknown":"{{#label}} is not allowed","object.with":"{{:#mainWithLabel}} missing required peer {{:#peerWithLabel}}","object.without":"{{:#mainWithLabel}} conflict with forbidden peer {{:#peerWithLabel}}","object.xor":"{{#label}} contains a conflict between exclusive peers {{#peersWithLabels}}"}}),d.clone=function(t,n){if("object"==(void 0===t?"undefined":U(t))){if(n.nonEnumerables)return u(t,{shallow:!0});var i=b.create(b.getPrototypeOf(t));return b.assign(i,t),i}var r=function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t.apply(this,i)};return r.prototype=u(t.prototype),b.defineProperty(r,"name",{value:t.name,writable:!1}),b.defineProperty(r,"length",{value:t.length,writable:!1}),b.assign(r,t),r},d.dependency=function(t,n,i,r,u){e(null===i||"string"==typeof i,n,"key must be a strings"),u||(u=r.length>1&&"object"==U(r[r.length-1])?r.pop():{}),a.assertOptions(u,["separator","isPresent"]),r=[].concat(r);for(var s=a.default(u.separator,"."),o=[],h=0;h<r.length;h++){var f=r[h];e("string"==typeof f,n,"peers must be strings"),o.push(c.ref(f,{separator:s,ancestor:0,prefix:!1}))}null!==i&&(i=c.ref(i,{separator:s,ancestor:0,prefix:!1}));var v=t.clone();return v.$_terms.dependencies=v.$_terms.dependencies||[],v.$_terms.dependencies.push(new d.Dependency(n,i,o,r,u)),v},d.dependencies={and:function(t,n,i,r,e){for(var u=[],s=[],o=n.peers.length,a=d.isPresent(n.options),c=0,h=n.peers;c<h.length;c++){var f=h[c];!1===a(f.resolve(i,r,e,null,{shadow:!1}))?u.push(f.key):s.push(f.key)}if(u.length!==o&&s.length!==o)return{code:"object.and",context:{present:s,presentWithLabels:d.keysToLabels(t,s),missing:u,missingWithLabels:d.keysToLabels(t,u)}}},nand:function(t,n,i,r,e){for(var u=[],s=d.isPresent(n.options),o=0,a=n.peers;o<a.length;o++){var c=a[o];s(c.resolve(i,r,e,null,{shadow:!1}))&&u.push(c.key)}if(u.length===n.peers.length){var h=n.paths[0],f=n.paths.slice(1);return{code:"object.nand",context:{main:h,mainWithLabel:d.keysToLabels(t,h),peers:f,peersWithLabels:d.keysToLabels(t,f)}}}},or:function(t,n,i,r,e){for(var u=d.isPresent(n.options),s=0,o=n.peers;s<o.length;s++)if(u(o[s].resolve(i,r,e,null,{shadow:!1})))return;return{code:"object.missing",context:{peers:n.paths,peersWithLabels:d.keysToLabels(t,n.paths)}}},oxor:function(t,n,i,r,e){for(var u=[],s=d.isPresent(n.options),o=0,a=n.peers;o<a.length;o++){var c=a[o];s(c.resolve(i,r,e,null,{shadow:!1}))&&u.push(c.key)}if(u.length&&1!==u.length){var h={peers:n.paths,peersWithLabels:d.keysToLabels(t,n.paths)};return h.present=u,h.presentWithLabels=d.keysToLabels(t,u),{code:"object.oxor",context:h}}},with:function(t,n,i,r,e){for(var u=d.isPresent(n.options),s=0,o=n.peers;s<o.length;s++){var a=o[s];if(!1===u(a.resolve(i,r,e,null,{shadow:!1})))return{code:"object.with",context:{main:n.key.key,mainWithLabel:d.keysToLabels(t,n.key.key),peer:a.key,peerWithLabel:d.keysToLabels(t,a.key)}}}},without:function(t,n,i,r,e){for(var u=d.isPresent(n.options),s=0,o=n.peers;s<o.length;s++){var a=o[s];if(u(a.resolve(i,r,e,null,{shadow:!1})))return{code:"object.without",context:{main:n.key.key,mainWithLabel:d.keysToLabels(t,n.key.key),peer:a.key,peerWithLabel:d.keysToLabels(t,a.key)}}}},xor:function(t,n,i,r,e){for(var u=[],s=d.isPresent(n.options),o=0,a=n.peers;o<a.length;o++){var c=a[o];s(c.resolve(i,r,e,null,{shadow:!1}))&&u.push(c.key)}if(1!==u.length){var h={peers:n.paths,peersWithLabels:d.keysToLabels(t,n.paths)};return 0===u.length?{code:"object.missing",context:h}:(h.present=u,h.presentWithLabels=d.keysToLabels(t,u),{code:"object.xor",context:h})}}},d.keysToLabels=function(t,n){return Array.isArray(n)?n.map((function(n){return t.$_mapLabels(n)})):t.$_mapLabels(n)},d.isPresent=function(t){return"function"==typeof t.isPresent?t.isPresent:function(t){return void 0!==t}},d.rename=function(t,n,i,r,e){for(var u={},s=0,o=t.$_terms.renames;s<o.length;s++){var a=o[s],c=[],h="string"!=typeof a.from;if(h){for(var f in n)if(!(void 0===n[f]&&a.options.ignoreUndefined||f===a.to)){var d=a.from.exec(f);d&&c.push({from:f,to:a.to,match:d})}}else!b.prototype.hasOwnProperty.call(n,a.from)||void 0===n[a.from]&&a.options.ignoreUndefined||c.push(a);for(var l=0;l<c.length;l++){var g=c[l],w=g.from,m=g.to;if(m instanceof v&&(m=m.render(n,i,r,g.match)),w!==m){if(!a.options.multiple&&u[m]&&(e.push(t.$_createError("object.rename.multiple",n,{from:w,to:m,pattern:h},i,r)),r.abortEarly)||b.prototype.hasOwnProperty.call(n,m)&&!a.options.override&&!u[m]&&(e.push(t.$_createError("object.rename.override",n,{from:w,to:m,pattern:h},i,r)),r.abortEarly))return!1;void 0===n[w]?delete n[m]:n[m]=n[w],u[m]=!0,a.options.alias||delete n[w]}}}return!0},d.unknown=function(t,n,i,r,e,u){if(t.$_terms.patterns){for(var s=!1,o=t.$_terms.patterns.map((function(t){if(t.matches)return s=!0,[]})),c=[n].concat(Ft(e.ancestors)),f=0;f<i.length;f++)for(var v=i[f],d=n[v],l=Ft(e.path).concat([v]),g=0;g<t.$_terms.patterns.length;++g){var w=t.$_terms.patterns[g];if(w.regex){var m=w.regex.test(v);if(e.mainstay.tracer.debug(e,"rule","pattern.".concat(g),m?"pass":"error"),!m)continue}else if(!w.schema.$_match(v,e.nest(w.schema,"pattern.".concat(g)),u))continue;i.delete(v);var y=e.localize(l,c,{schema:w.rule,key:v}),p=w.rule.$_validate(d,y,u);if(p.errors){var _;if(u.abortEarly)return{value:n,errors:p.errors};(_=r).push.apply(_,Ft(p.errors))}if(w.matches&&o[g].push(v),n[v]=p.value,!w.fallthrough)break}if(s)for(var b=0;b<o.length;++b){var k=o[b];if(k){var A=t.$_terms.patterns[b].matches,T=e.localize(e.path,c,A),S=A.$_validate(k,T,u);if(S.errors){var E=h.details(S.errors,{override:!1});E.matches=k;var I=t.$_createError("object.pattern.match",n,E,e,u);if(u.abortEarly)return{value:n,errors:I};r.push(I)}}}}if(i.size&&(t.$_terms.keys||t.$_terms.patterns)){if(u.stripUnknown&&void 0===t.v_.unknown||u.skipFunctions)for(var R=!(!u.stripUnknown||!0!==u.stripUnknown&&!u.stripUnknown.objects),C=0;C<i.length;C++){var N=i[C];R?(delete n[N],i.delete(N)):"function"==typeof n[N]&&i.delete(N)}if(!a.default(t.v_.unknown,u.allowUnknown))for(var D=0;D<i.length;D++){var P=i[D],x=e.localize(Ft(e.path).concat([P]),[]),L=t.$_createError("object.unknown",n[P],{child:P},x,u,{flags:!1});if(u.abortEarly)return{value:n,errors:L};r.push(L)}}},d.Dependency=function(){function t(t,n,i,r,e){this.rel=t,this.key=n,this.peers=i,this.paths=r,this.options=e}return t.prototype.describe=function(){var t={rel:this.rel,peers:this.paths};return null!==this.key&&(t.key=this.key.key),"."!==this.peers[0].separator&&(t.options=R(w({},t.options),{separator:this.peers[0].separator})),this.options.isPresent&&(t.options=R(w({},t.options),{isPresent:this.options.isPresent})),t},t}(),d.Keys=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n.prototype.concat=function(t){for(var n=this.slice(),i=new Map,r=0;r<n.length;++r)i.set(n[r].key,r);for(var e=0;e<t.length;e++){var u=t[e],s=u.key,o=i.get(s);void 0!==o?n[o]={key:s,schema:n[o].schema.concat(u.schema)}:n.push(u)}return n},n}(gn(Array))},8785:function(t,n,i){var r=i(375),e=i(8068),u=i(8160),s=i(3292),o=i(6354),a={};t.exports=e.extend({type:"link",properties:{schemaChain:!0},terms:{link:{init:null,manifest:"single",register:!1}},args:function(t,n){return t.ref(n)},validate:function(t,n){var i=n.schema,e=n.state,u=n.prefs;r(i.$_terms.link,"Uninitialized link schema");var s=a.generate(i,t,e,u),o=i.$_terms.link[0].ref;return s.$_validate(t,e.nest(s,"link:".concat(o.display,":").concat(s.type)),u)},generate:function(t,n,i,r){return a.generate(t,n,i,r)},rules:{ref:{method:function(t){r(!this.$_terms.link,"Cannot reinitialize schema"),t=s.ref(t),r("value"===t.type||"local"===t.type,"Invalid reference type:",t.type),r("local"===t.type||"root"===t.ancestor||t.ancestor>0,"Link cannot reference itself");var n=this.clone();return n.$_terms.link=[{ref:t}],n}},relative:{method:function(t){return void 0===t&&(t=!0),this.$_setFlag("relative",t)}}},overrides:{concat:function(t){r(this.$_terms.link,"Uninitialized link schema"),r(u.isSchema(t),"Invalid schema object"),r("link"!==t.type,"Cannot merge type link with another link");var n=this.clone();return n.$_terms.whens||(n.$_terms.whens=[]),n.$_terms.whens.push({concat:t}),n.$_mutateRebuild()}},manifest:{build:function(t,n){return r(n.link,"Invalid link description missing link"),t.ref(n.link)}}}),a.generate=function(t,n,i,r){var e=i.mainstay.links.get(t);if(e)return e.C_(n,i,r).schema;var u=t.$_terms.link[0].ref,s=a.perspective(u,i),o=s.perspective,c=s.path;a.assert(o,"which is outside of schema boundaries",u,t,i,r);try{e=c.length?o.$_reach(c):o}catch(n){a.assert(!1,"to non-existing schema",u,t,i,r)}return a.assert("link"!==e.type,"which is another link",u,t,i,r),t.v_.relative||i.mainstay.links.set(t,e),e.C_(n,i,r).schema},a.perspective=function(t,n){if("local"===t.type){for(var i=0,r=n.schemas;i<r.length;i++){var e=r[i],u=e.schema,s=e.key;if((u.v_.id||s)===t.path[0])return{perspective:u,path:t.path.slice(1)};if(u.$_terms.shared)for(var o=0,a=u.$_terms.shared;o<a.length;o++){var c=a[o];if(c.v_.id===t.path[0])return{perspective:c,path:t.path.slice(1)}}}return{perspective:null,path:null}}return"root"===t.ancestor?{perspective:n.schemas[n.schemas.length-1].schema,path:t.path}:{perspective:n.schemas[t.ancestor]&&n.schemas[t.ancestor].schema,path:t.path}},a.assert=function(t,n,i,e,u,s){t||r(!1,'"'.concat(o.label(e.v_,u,s),'" contains link reference "').concat(i.display,'" ').concat(n))}},3832:function(t,n,i){var r=i(375),e=i(8068),u=i(8160),s={numberRx:/^\s*[+-]?(?:(?:\d+(?:\.\d*)?)|(?:\.\d+))(?:e([+-]?\d+))?\s*$/i,precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,exponentialPartRegex:/[eE][+-]?\d+$/,leadingSignAndZerosRegex:/^[+-]?(0*)?/,dotRegex:/\./,trailingZerosRegex:/0+$/,decimalPlaces:function(t){var n=t.toString(),i=n.indexOf("."),r=n.indexOf("e");return(i<0?0:(r<0?n.length:r)-i-1)+(r<0?0:k.max(0,-A(n.slice(r+1))))}};t.exports=e.extend({type:"number",flags:{unsafe:{default:!1}},coerce:{from:"string",method:function(t,n){var i=n.schema,r=n.error;if(t.match(s.numberRx)){t=t.trim();var e={value:T(t)};if(0===e.value&&(e.value=0),!i.v_.unsafe)if(t.match(/e/i)){if(s.extractSignificantDigits(t)!==s.extractSignificantDigits(String(e.value)))return e.errors=r("number.unsafe"),e}else{var u=e.value.toString();if(u.match(/e/i))return e;if(u!==s.normalizeDecimal(t))return e.errors=r("number.unsafe"),e}return e}}},validate:function(t,n){var i=n.schema,r=n.error,e=n.prefs;if(t===1/0||t===-1/0)return{value:t,errors:r("number.infinity")};if(!u.isNumber(t))return{value:t,errors:r("number.base")};var s={value:t};if(e.convert){var o=i.$_getRule("precision");if(o){var a=k.pow(10,o.args.limit);s.value=k.round(s.value*a)/a}}return 0===s.value&&(s.value=0),!i.v_.unsafe&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER)&&(s.errors=r("number.unsafe")),s},rules:{compare:{method:!1,validate:function(t,n,i,r){var e=i.limit,s=r.name,o=r.operator,a=r.args;return u.compare(t,e,o)?t:n.error("number."+s,{limit:a.limit,value:t})},args:[{name:"limit",ref:!0,assert:u.isNumber,message:"must be a number"}]},greater:{method:function(t){return this.$_addRule({name:"greater",method:"compare",args:{limit:t},operator:">"})}},integer:{method:function(){return this.$_addRule("integer")},validate:function(t,n){return k.trunc(t)-t==0?t:n.error("number.integer")}},less:{method:function(t){return this.$_addRule({name:"less",method:"compare",args:{limit:t},operator:"<"})}},max:{method:function(t){return this.$_addRule({name:"max",method:"compare",args:{limit:t},operator:"<="})}},min:{method:function(t){return this.$_addRule({name:"min",method:"compare",args:{limit:t},operator:">="})}},multiple:{method:function(t){var n="number"==typeof t?s.decimalPlaces(t):null,i=k.pow(10,n);return this.$_addRule({name:"multiple",args:{base:t,baseDecimalPlace:n,pfactor:i}})},validate:function(t,n,i,r){var e=i.base,u=i.baseDecimalPlace,o=i.pfactor;return s.decimalPlaces(t)>u?n.error("number.multiple",{multiple:r.args.base,value:t}):k.round(o*t)%k.round(o*e)==0?t:n.error("number.multiple",{multiple:r.args.base,value:t})},args:[{name:"base",ref:!0,assert:function(t){return"number"==typeof t&&isFinite(t)&&t>0},message:"must be a positive number"},"baseDecimalPlace","pfactor"],multi:!0},negative:{method:function(){return this.sign("negative")}},port:{method:function(){return this.$_addRule("port")},validate:function(t,n){return Number.isSafeInteger(t)&&t>=0&&t<=65535?t:n.error("number.port")}},positive:{method:function(){return this.sign("positive")}},precision:{method:function(t){return r(Number.isSafeInteger(t),"limit must be an integer"),this.$_addRule({name:"precision",args:{limit:t}})},validate:function(t,n,i){var r=i.limit,e=t.toString().match(s.precisionRx);return k.max((e[1]?e[1].length:0)-(e[2]?A(e[2],10):0),0)<=r?t:n.error("number.precision",{limit:r,value:t})},convert:!0},sign:{method:function(t){return r(["negative","positive"].includes(t),"Invalid sign",t),this.$_addRule({name:"sign",args:{sign:t}})},validate:function(t,n,i){var r=i.sign;return"negative"===r&&t<0||"positive"===r&&t>0?t:n.error("number.".concat(r))}},unsafe:{method:function(t){return void 0===t&&(t=!0),r("boolean"==typeof t,"enabled must be a boolean"),this.$_setFlag("unsafe",t)}}},cast:{string:{from:function(t){return"number"==typeof t},to:function(t,n){return t.toString()}}},messages:{"number.base":"{{#label}} must be a number","number.greater":"{{#label}} must be greater than {{#limit}}","number.infinity":"{{#label}} cannot be infinity","number.integer":"{{#label}} must be an integer","number.less":"{{#label}} must be less than {{#limit}}","number.max":"{{#label}} must be less than or equal to {{#limit}}","number.min":"{{#label}} must be greater than or equal to {{#limit}}","number.multiple":"{{#label}} must be a multiple of {{#multiple}}","number.negative":"{{#label}} must be a negative number","number.port":"{{#label}} must be a valid port","number.positive":"{{#label}} must be a positive number","number.precision":"{{#label}} must have no more than {{#limit}} decimal places","number.unsafe":"{{#label}} must be a safe number"}}),s.extractSignificantDigits=function(t){return t.replace(s.exponentialPartRegex,"").replace(s.dotRegex,"").replace(s.trailingZerosRegex,"").replace(s.leadingSignAndZerosRegex,"")},s.normalizeDecimal=function(t){return(t=t.replace(/^\+/,"").replace(/\.0*$/,"").replace(/^(-?)\.([^\.]*)$/,"$10.$2").replace(/^(-?)0+([0-9])/,"$1$2")).includes(".")&&t.endsWith("0")&&(t=t.replace(/0+$/,"")),"-0"===t?"0":t}},8966:function(t,n,i){var r=i(7824);t.exports=r.extend({type:"object",cast:{map:{from:function(t){return t&&"object"==(void 0===t?"undefined":U(t))},to:function(t,n){return new Map(b.entries(t))}}}})},7417:function(t,n,i){var r=i(375),e=i(5380),u=i(1745),s=i(9959),o=i(6064),a=i(9926),c=i(5752),h=i(8068),f=i(8160),v={tlds:a instanceof Set&&{tlds:{allow:a,deny:null}},base64Regex:{true:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}==|[\w\-]{3}=)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/},false:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}(==)?|[\w\-]{3}=?)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/}},dataUriRegex:/^data:[\w+.-]+\/[\w+.-]+;((charset=[\w-]+|base64),)?(.*)$/,hexRegex:{withPrefix:/^0x[0-9a-f]+$/i,withOptionalPrefix:/^(?:0x)?[0-9a-f]+$/i,withoutPrefix:/^[0-9a-f]+$/i},ipRegex:s.regex({cidr:"forbidden"}).regex,isoDurationRegex:/^P(?!$)(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?$/,guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5",uuidv6:"6",uuidv7:"7",uuidv8:"8"},guidSeparators:new Set([void 0,!0,!1,"-",":"]),normalizationForms:["NFC","NFD","NFKC","NFKD"]};t.exports=h.extend({type:"string",flags:{insensitive:{default:!1},truncate:{default:!1}},terms:{replacements:{init:null}},coerce:{from:"string",method:function(t,n){var i=n.schema,r=n.state,e=n.prefs,u=i.$_getRule("normalize");u&&(t=t.normalize(u.args.form));var s=i.$_getRule("case");s&&(t="upper"===s.args.direction?t.toLocaleUpperCase():t.toLocaleLowerCase());var o=i.$_getRule("trim");if(o&&o.args.enabled&&(t=t.trim()),i.$_terms.replacements)for(var a=0,c=i.$_terms.replacements;a<c.length;a++){var h=c[a];t=t.replace(h.pattern,h.replacement)}var d=i.$_getRule("hex");if(d&&d.args.options.byteAligned&&t.length%2!=0&&(t="0".concat(t)),i.$_getRule("isoDate")){var l=v.isoDate(t);l&&(t=l)}if(i.v_.truncate){var g=i.$_getRule("max");if(g){var w=g.args.limit;if(f.isResolvable(w)&&(w=w.resolve(t,r,e),!f.limit(w)))return{value:t,errors:i.$_createError("any.ref",w,{ref:g.args.limit,arg:"limit",reason:"must be a positive integer"},r,e)};t=t.slice(0,w)}}return{value:t}}},validate:function(t,n){var i=n.schema,r=n.error;if("string"!=typeof t)return{value:t,errors:r("string.base")};if(""===t){var e=i.$_getRule("min");return e&&0===e.args.limit?void 0:{value:t,errors:r("string.empty")}}},rules:{alphanum:{method:function(){return this.$_addRule("alphanum")},validate:function(t,n){return/^[a-zA-Z0-9]+$/.test(t)?t:n.error("string.alphanum")}},base64:{method:function(t){return void 0===t&&(t={}),f.assertOptions(t,["paddingRequired","urlSafe"]),t=w({urlSafe:!1,paddingRequired:!0},t),r("boolean"==typeof t.paddingRequired,"paddingRequired must be boolean"),r("boolean"==typeof t.urlSafe,"urlSafe must be boolean"),this.$_addRule({name:"base64",args:{options:t}})},validate:function(t,n,i){var r=i.options;return v.base64Regex[r.paddingRequired][r.urlSafe].test(t)?t:n.error("string.base64")}},case:{method:function(t){return r(["lower","upper"].includes(t),"Invalid case:",t),this.$_addRule({name:"case",args:{direction:t}})},validate:function(t,n,i){var r=i.direction;return"lower"===r&&t===t.toLocaleLowerCase()||"upper"===r&&t===t.toLocaleUpperCase()?t:n.error("string.".concat(r,"case"))},convert:!0},creditCard:{method:function(){return this.$_addRule("creditCard")},validate:function(t,n){for(var i=t.length,r=0,e=1;i--;){var u=t.charAt(i)*e;r+=u-9*(u>9),e^=3}return r>0&&r%10==0?t:n.error("string.creditCard")}},dataUri:{method:function(t){return void 0===t&&(t={}),f.assertOptions(t,["paddingRequired"]),t=w({paddingRequired:!0},t),r("boolean"==typeof t.paddingRequired,"paddingRequired must be boolean"),this.$_addRule({name:"dataUri",args:{options:t}})},validate:function(t,n,i){var r=i.options,e=t.match(v.dataUriRegex);return!e||e[2]&&"base64"===e[2]&&!v.base64Regex[r.paddingRequired].false.test(e[3])?n.error("string.dataUri"):t}},domain:{method:function(t){t&&f.assertOptions(t,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);var n=v.addressOptions(t);return this.$_addRule({name:"domain",args:{options:t},address:n})},validate:function(t,n,i,r){var u=r.address;return e.isValid(t,u)?t:n.error("string.domain")}},email:{method:function(t){void 0===t&&(t={}),f.assertOptions(t,["allowFullyQualified","allowUnicode","ignoreLength","maxDomainSegments","minDomainSegments","multiple","separator","tlds"]),r(void 0===t.multiple||"boolean"==typeof t.multiple,"multiple option must be an boolean");var n=v.addressOptions(t),i=new RegExp("\\s*[".concat(t.separator?o(t.separator):",","]\\s*"));return this.$_addRule({name:"email",args:{options:t},regex:i,address:n})},validate:function(t,n,i,r){for(var e=i.options,s=r.regex,o=r.address,a=e.multiple?t.split(s):[t],c=[],h=0;h<a.length;h++){var f=a[h];u.isValid(f,o)||c.push(f)}return c.length?n.error("string.email",{value:t,invalids:c}):t}},guid:{alias:"uuid",method:function(t){void 0===t&&(t={}),f.assertOptions(t,["version","separator"]);var n="";if(t.version){var i=[].concat(t.version);r(i.length>=1,"version must have at least 1 valid version specified");for(var e=new Set,u=0;u<i.length;++u){var s=i[u];r("string"==typeof s,"version at position "+u+" must be a string");var o=v.guidVersions[s.toLowerCase()];r(o,"version at position "+u+" must be one of "+b.keys(v.guidVersions).join(", ")),r(!e.has(o),"version at position "+u+" must not be a duplicate"),n+=o,e.add(o)}}r(v.guidSeparators.has(t.separator),'separator must be one of true, false, "-", or ":"');var a=void 0===t.separator?"[:-]?":!0===t.separator?"[:-]":!1===t.separator?"[]?":"\\".concat(t.separator),c=new RegExp("^([\\[{\\(]?)[0-9A-F]{8}(".concat(a,")[0-9A-F]{4}\\2?[").concat(n||"0-9A-F","][0-9A-F]{3}\\2?[").concat(n?"89AB":"0-9A-F","][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$"),"i");return this.$_addRule({name:"guid",args:{options:t},regex:c})},validate:function(t,n,i,r){var e=r.regex.exec(t);return e?v.guidBrackets[e[1]]!==e[e.length-1]?n.error("string.guid"):t:n.error("string.guid")}},hex:{method:function(t){return void 0===t&&(t={}),f.assertOptions(t,["byteAligned","prefix"]),t=w({byteAligned:!1,prefix:!1},t),r("boolean"==typeof t.byteAligned,"byteAligned must be boolean"),r("boolean"==typeof t.prefix||"optional"===t.prefix,'prefix must be boolean or "optional"'),this.$_addRule({name:"hex",args:{options:t}})},validate:function(t,n,i){var r=i.options;return("optional"===r.prefix?v.hexRegex.withOptionalPrefix:!0===r.prefix?v.hexRegex.withPrefix:v.hexRegex.withoutPrefix).test(t)?r.byteAligned&&t.length%2!=0?n.error("string.hexAlign"):t:n.error("string.hex")}},hostname:{method:function(){return this.$_addRule("hostname")},validate:function(t,n){return e.isValid(t,{minDomainSegments:1})||v.ipRegex.test(t)?t:n.error("string.hostname")}},insensitive:{method:function(){return this.$_setFlag("insensitive",!0)}},ip:{method:function(t){void 0===t&&(t={}),f.assertOptions(t,["cidr","version"]);var n=s.regex(t),i=n.cidr,r=n.versions,e=n.regex,u=t.version?r:void 0;return this.$_addRule({name:"ip",args:{options:{cidr:i,version:u}},regex:e})},validate:function(t,n,i,r){var e=i.options;return r.regex.test(t)?t:e.version?n.error("string.ipVersion",{value:t,cidr:e.cidr,version:e.version}):n.error("string.ip",{value:t,cidr:e.cidr})}},isoDate:{method:function(){return this.$_addRule("isoDate")},validate:function(t,n){var i=n.error;return v.isoDate(t)?t:i("string.isoDate")}},isoDuration:{method:function(){return this.$_addRule("isoDuration")},validate:function(t,n){return v.isoDurationRegex.test(t)?t:n.error("string.isoDuration")}},length:{method:function(t,n){return v.length(this,"length",t,"=",n)},validate:function(t,n,i,r){var e=i.limit,u=i.encoding,s=r.name,o=r.operator,a=r.args,c=!u&&t.length;return f.compare(c,e,o)?t:n.error("string."+s,{limit:a.limit,value:t,encoding:u})},args:[{name:"limit",ref:!0,assert:f.limit,message:"must be a positive integer"},"encoding"]},lowercase:{method:function(){return this.case("lower")}},max:{method:function(t,n){return v.length(this,"max",t,"<=",n)},args:["limit","encoding"]},min:{method:function(t,n){return v.length(this,"min",t,">=",n)},args:["limit","encoding"]},normalize:{method:function(t){return void 0===t&&(t="NFC"),r(v.normalizationForms.includes(t),"normalization form must be one of "+v.normalizationForms.join(", ")),this.$_addRule({name:"normalize",args:{form:t}})},validate:function(t,n,i){var r=n.error,e=i.form;return t===t.normalize(e)?t:r("string.normalize",{value:t,form:e})},convert:!0},pattern:{alias:"regex",method:function(t,n){void 0===n&&(n={}),r(t instanceof RegExp,"regex must be a RegExp"),r(!t.flags.includes("g")&&!t.flags.includes("y"),"regex should not use global or sticky mode"),"string"==typeof n&&(n={name:n}),f.assertOptions(n,["invert","name"]);var i=["string.pattern",n.invert?".invert":"",n.name?".name":".base"].join("");return this.$_addRule({name:"pattern",args:{regex:t,options:n},errorCode:i})},validate:function(t,n,i,r){var e=i.regex,u=i.options,s=r.errorCode;return e.test(t)^u.invert?t:n.error(s,{name:u.name,regex:e,value:t})},args:["regex","options"],multi:!0},replace:{method:function(t,n){"string"==typeof t&&(t=new RegExp(o(t),"g")),r(t instanceof RegExp,"pattern must be a RegExp"),r("string"==typeof n,"replacement must be a String");var i=this.clone();return i.$_terms.replacements||(i.$_terms.replacements=[]),i.$_terms.replacements.push({pattern:t,replacement:n}),i}},token:{method:function(){return this.$_addRule("token")},validate:function(t,n){return/^\w+$/.test(t)?t:n.error("string.token")}},trim:{method:function(t){return void 0===t&&(t=!0),r("boolean"==typeof t,"enabled must be a boolean"),this.$_addRule({name:"trim",args:{enabled:t}})},validate:function(t,n,i){return i.enabled&&t!==t.trim()?n.error("string.trim"):t},convert:!0},truncate:{method:function(t){return void 0===t&&(t=!0),r("boolean"==typeof t,"enabled must be a boolean"),this.$_setFlag("truncate",t)}},uppercase:{method:function(){return this.case("upper")}},uri:{method:function(t){void 0===t&&(t={}),f.assertOptions(t,["allowRelative","allowQuerySquareBrackets","domain","relativeOnly","scheme","encodeUri"]),t.domain&&f.assertOptions(t.domain,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);var n=c.regex(t),i=n.regex,r=n.scheme,e=t.domain?v.addressOptions(t.domain):null;return this.$_addRule({name:"uri",args:{options:t},regex:i,domain:e,scheme:r})},validate:function(t,n,i,r){var u=i.options,s=r.regex,o=r.domain,a=r.scheme;if(["http:/","https:/"].includes(t))return n.error("string.uri");var c=s.exec(t);if(!c&&n.prefs.convert&&u.encodeUri){var h=encodeURI(t);(c=s.exec(h))&&(t=h)}if(c){var f=c[1]||c[2];return!o||u.allowRelative&&!f||e.isValid(f,o)?t:n.error("string.domain",{value:f})}return u.relativeOnly?n.error("string.uriRelativeOnly"):u.scheme?n.error("string.uriCustomScheme",{scheme:a,value:t}):n.error("string.uri")}}},manifest:{build:function(t,n){if(n.replacements)for(var i=0,r=n.replacements;i<r.length;i++){var e=r[i],u=e.pattern,s=e.replacement;t=t.replace(u,s)}return t}},messages:{"string.alphanum":"{{#label}} must only contain alpha-numeric characters","string.base":"{{#label}} must be a string","string.base64":"{{#label}} must be a valid base64 string","string.creditCard":"{{#label}} must be a credit card","string.dataUri":"{{#label}} must be a valid dataUri string","string.domain":"{{#label}} must contain a valid domain name","string.email":"{{#label}} must be a valid email","string.empty":"{{#label}} is not allowed to be empty","string.guid":"{{#label}} must be a valid GUID","string.hex":"{{#label}} must only contain hexadecimal characters","string.hexAlign":"{{#label}} hex decoded representation must be byte aligned","string.hostname":"{{#label}} must be a valid hostname","string.ip":"{{#label}} must be a valid ip address with a {{#cidr}} CIDR","string.ipVersion":"{{#label}} must be a valid ip address of one of the following versions {{#version}} with a {{#cidr}} CIDR","string.isoDate":"{{#label}} must be in iso format","string.isoDuration":"{{#label}} must be a valid ISO 8601 duration","string.length":"{{#label}} length must be {{#limit}} characters long","string.lowercase":"{{#label}} must only contain lowercase characters","string.max":"{{#label}} length must be less than or equal to {{#limit}} characters long","string.min":"{{#label}} length must be at least {{#limit}} characters long","string.normalize":"{{#label}} must be unicode normalized in the {{#form}} form","string.token":"{{#label}} must only contain alpha-numeric and underscore characters","string.pattern.base":"{{#label}} with value {:[.]} fails to match the required pattern: {{#regex}}","string.pattern.name":"{{#label}} with value {:[.]} fails to match the {{#name}} pattern","string.pattern.invert.base":"{{#label}} with value {:[.]} matches the inverted pattern: {{#regex}}","string.pattern.invert.name":"{{#label}} with value {:[.]} matches the inverted {{#name}} pattern","string.trim":"{{#label}} must not have leading or trailing whitespace","string.uri":"{{#label}} must be a valid uri","string.uriCustomScheme":"{{#label}} must be a valid uri with a scheme matching the {{#scheme}} pattern","string.uriRelativeOnly":"{{#label}} must be a valid relative uri","string.uppercase":"{{#label}} must only contain uppercase characters"}}),v.addressOptions=function(t){if(!t)return v.tlds||t;if(r(void 0===t.minDomainSegments||Number.isSafeInteger(t.minDomainSegments)&&t.minDomainSegments>0,"minDomainSegments must be a positive integer"),r(void 0===t.maxDomainSegments||Number.isSafeInteger(t.maxDomainSegments)&&t.maxDomainSegments>0,"maxDomainSegments must be a positive integer"),!1===t.tlds)return t;if(!0===t.tlds||void 0===t.tlds)return r(v.tlds,"Built-in TLD list disabled"),b.assign({},t,v.tlds);r("object"==U(t.tlds),"tlds must be true, false, or an object");var n=t.tlds.deny;if(n)return Array.isArray(n)&&(t=b.assign({},t,{tlds:{deny:new Set(n)}})),r(t.tlds.deny instanceof Set,"tlds.deny must be an array, Set, or boolean"),r(!t.tlds.allow,"Cannot specify both tlds.allow and tlds.deny lists"),v.validateTlds(t.tlds.deny,"tlds.deny"),t;var i=t.tlds.allow;return i?!0===i?(r(v.tlds,"Built-in TLD list disabled"),b.assign({},t,v.tlds)):(Array.isArray(i)&&(t=b.assign({},t,{tlds:{allow:new Set(i)}})),r(t.tlds.allow instanceof Set,"tlds.allow must be an array, Set, or boolean"),v.validateTlds(t.tlds.allow,"tlds.allow"),t):t},v.validateTlds=function(t,n){for(var i=0;i<t.length;i++){var u=t[i];r(e.isValid(u,{minDomainSegments:1,maxDomainSegments:1}),"".concat(n," must contain valid top level domain names"))}},v.isoDate=function(t){if(!f.isIsoDate(t))return null;/.*T.*[+-]\d\d$/.test(t)&&(t+="00");var n=new Date(t);return S(n.getTime())?null:n.toISOString()},v.length=function(t,n,i,e,u){return r(!u||!1,"Invalid encoding:",u),t.$_addRule({name:n,method:"length",args:{limit:i,encoding:u},operator:e})}},8826:function(t,n,i){var e=i(375),u=i(8068),s={};s.Map=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n.prototype.slice=function(){return new s.Map(this)},n}(gn(Map)),t.exports=u.extend({type:"symbol",terms:{map:{init:new s.Map}},coerce:{method:function(t,n){var i=n.schema,r=n.error,e=i.$_terms.map.get(t);return e&&(t=e),i.v_.only&&"symbol"!=(void 0===t?"undefined":U(t))?{value:t,errors:r("symbol.map",{map:i.$_terms.map})}:{value:t}}},validate:function(t,n){var i=n.error;if("symbol"!=(void 0===t?"undefined":U(t)))return{value:t,errors:i("symbol.base")}},rules:{map:{method:function(t){var n;t&&!t[r]&&"object"==(void 0===t?"undefined":U(t))&&(t=b.entries(t)),e(t&&t[r],"Iterable must be an iterable or object");for(var i=this.clone(),u=[],s=0;s<t.length;s++){var o=t[s];e(o&&o[r],"Entry must be an iterable");var a=tn(o,2),c=a[0],h=a[1];e("object"!=(void 0===c?"undefined":U(c))&&"function"!=typeof c&&"symbol"!=(void 0===c?"undefined":U(c)),"Key must not be of type object, function, or Symbol"),e("symbol"==(void 0===h?"undefined":U(h)),"Value must be a Symbol"),i.$_terms.map.set(c,h),u.push(h)}return(n=i).valid.apply(n,Ft(u))}}},manifest:{build:function(t,n){return n.map&&(t=t.map(n.map)),t}},messages:{"symbol.base":"{{#label}} must be a symbol","symbol.map":"{{#label}} must be one of {{#map}}"}})},8863:function(t,i,r){var e=r(375),u=r(8571),s=r(738),o=r(9621),a=r(8160),c=r(6354),h=r(493),f={result:n("result")};i.entry=function(t,n,i){var r=a.defaults;i&&(e(void 0===i.warnings,"Cannot override warnings preference in synchronous validation"),e(void 0===i.artifacts,"Cannot override artifacts preference in synchronous validation"),r=a.preferences(a.defaults,i));var u=f.entry(t,n,r);e(!u.mainstay.externals.length,"Schema with external rules must use validateAsync()");var s={value:u.value};return u.error&&(s.error=u.error),u.mainstay.warnings.length&&(s.warning=c.details(u.mainstay.warnings)),u.mainstay.debug&&(s.debug=u.mainstay.debug),u.mainstay.artifacts&&(s.artifacts=u.mainstay.artifacts),s},i.entryAsync=Zt((function(t,n,i){var r,e,u,s,h,v,d,l,g;return Ht(this,(function(w){switch(w.label){case 0:if(r=a.defaults,i&&(r=a.preferences(a.defaults,i)),e=f.entry(t,n,r),u=e.mainstay,e.error)throw u.debug&&(e.error.debug=u.debug),e.error;if(!u.externals.length)return[3,5];s=function(n,e){var s,d,l,g,w,m,y,p,_,b,k,A,T,S,E,I;return Ht(this,(function(R){switch(R.label){case 0:if(s=e[n],d=s.state.path,l="link"===s.schema.type?u.links.get(s.schema):null,g=void 0,w=void 0,m=h,y=d.length?[h]:[],p=d.length?o(t,d):t,d.length){for(g=d[d.length-1],_=h,b=0,k=d.slice(0,-1);b<k.length;b++)A=k[b],_=_[A],y.unshift(_);w=y[0],m=w[g]}R.label=1;case 1:return R.trys.push([1,3,,4]),T=function(t,n){return(l||s.schema).$_createError(t,m,n,s.state,r)},[4,s.method(m,{schema:s.schema,linked:l,state:s.state,prefs:i,original:p,error:T,errorsArray:f.errorsArray,warn:function(t,n){return u.warnings.push((l||s.schema).$_createError(t,m,n,s.state,r))},message:function(t,n){return(l||s.schema).$_createError("external",m,n,s.state,r,{messages:t})}})];case 2:return void 0===(S=R.sent())||S===m?[2,"continue"]:S instanceof c.Report?(u.tracer.log(s.schema,s.state,"rule","external","error"),v.push(S),r.abortEarly?[2,"break"]:[2,"continue"]):Array.isArray(S)&&S[a.symbols.errors]?(u.tracer.log(s.schema,s.state,"rule","external","error"),(E=v).push.apply(E,Ft(S)),r.abortEarly?[2,"break"]:[2,"continue"]):(w?(u.tracer.value(s.state,"rule",m,S,"external"),w[g]=S):(u.tracer.value(s.state,"rule",h,S,"external"),h=S),[3,4]);case 3:throw I=R.sent(),r.errors.label&&(I.message+=" (".concat(s.label,")")),I;case 4:return[2]}}))},h=e.value,v=[],d=0,l=u.externals,w.label=1;case 1:return d<l.length?[5,zt(s(d,l))]:[3,4];case 2:if("break"===w.sent())return[3,4];w.label=3;case 3:return d++,[3,1];case 4:if(e.value=h,v.length)throw e.error=c.process(v,t,r),u.debug&&(e.error.debug=u.debug),e.error;w.label=5;case 5:return r.warnings||r.debug||r.artifacts?(g={value:e.value},[2,(u.warnings.length&&(g.warning=c.details(u.warnings)),u.debug&&(g.debug=u.debug),u.artifacts&&(g.artifacts=u.artifacts),g)]):[2,e.value]}}))})),f.Mainstay=function(){function t(t,n,i){this.externals=[],this.warnings=[],this.tracer=t,this.debug=n,this.links=i,this.shadow=null,this.artifacts=null,this._v=[]}var n=t.prototype;return n.snapshot=function(){this._v.push({externals:this.externals.slice(),warnings:this.warnings.slice()})},n.restore=function(){var t=this._v.pop();this.externals=t.externals,this.warnings=t.warnings},n.commit=function(){this._v.pop()},t}(),f.entry=function(t,n,r){var e=f.tracer(n,r),u=e.tracer,s=e.cleanup,o=r.debug?[]:null,a=n.u_.G_?new Map:null,v=new f.Mainstay(u,o,a),d=n.u_.G_?[{schema:n}]:null,l=new h([],[],{mainstay:v,schemas:d}),g=i.validate(t,n,l,r);s&&n.$_root.untrace();var w=c.process(g.errors,t,r);return{value:g.value,error:w,mainstay:v}},f.tracer=function(t,n){return t.$_root.T_?{tracer:t.$_root.T_.vv(t)}:n.debug?(e(t.$_root.trace,"Debug mode not supported"),{tracer:t.$_root.trace().vv(t),cleanup:!0}):{tracer:f.ignore}},i.validate=function(t,n,i,r,e){if(void 0===e&&(e={}),n.$_terms.whens&&(n=n.C_(t,i,r).schema),n.c_&&(r=f.prefs(n,r)),n.d_&&r.cache){var u=n.d_.get(t);if(i.mainstay.tracer.debug(i,"validate","cached",!!u),u)return u}var s=function(e,u,s){return n.$_createError(e,t,u,s||i,r)},o={original:t,prefs:r,schema:n,state:i,error:s,errorsArray:f.errorsArray,warn:function(t,n,r){return i.mainstay.warnings.push(s(t,n,r))},message:function(e,u){return n.$_createError("custom",t,u,i,r,{messages:e})}};i.mainstay.tracer.entry(n,i);var c=n.y_;if(c.prepare&&void 0!==t&&r.convert){var h=c.prepare(t,o);if(h){if(i.mainstay.tracer.value(i,"prepare",t,h.value),h.errors)return f.finalize(h.value,[].concat(h.errors),o);t=h.value}}if(c.coerce&&void 0!==t&&r.convert&&(!c.coerce.from||c.coerce.from.includes(void 0===t?"undefined":U(t)))){var v=c.coerce.method(t,o);if(v){if(i.mainstay.tracer.value(i,"coerced",t,v.value),v.errors)return f.finalize(v.value,[].concat(v.errors),o);t=v.value}}var d=n.v_.empty;d&&d.$_match(f.trim(t,n),i.nest(d),a.defaults)&&(i.mainstay.tracer.value(i,"empty",t,void 0),t=void 0);var l=e.presence||n.v_.presence||(n.v_.Q_?null:r.presence);if(void 0===t){if("forbidden"===l)return f.finalize(t,null,o);if("required"===l)return f.finalize(t,[n.$_createError("any.required",t,null,i,r)],o);if("optional"===l){if(n.v_.default!==a.symbols.deepDefault)return f.finalize(t,null,o);i.mainstay.tracer.value(i,"default",t,{}),t={}}}else if("forbidden"===l)return f.finalize(t,[n.$_createError("any.unknown",t,null,i,r)],o);var g=[];if(n.f_){var w=n.f_.get(t,i,r,n.v_.insensitive);if(w)return r.convert&&(i.mainstay.tracer.value(i,"valids",t,w.value),t=w.value),i.mainstay.tracer.filter(n,i,"valid",w),f.finalize(t,null,o);if(n.v_.only){var m=n.$_createError("any.only",t,{valids:n.f_.values({display:!0})},i,r);if(r.abortEarly)return f.finalize(t,[m],o);g.push(m)}}if(n.__){var y=n.__.get(t,i,r,n.v_.insensitive);if(y){i.mainstay.tracer.filter(n,i,"invalid",y);var p=n.$_createError("any.invalid",t,{invalids:n.__.values({display:!0})},i,r);if(r.abortEarly)return f.finalize(t,[p],o);g.push(p)}}if(c.validate){var _=c.validate(t,o);if(_&&(i.mainstay.tracer.value(i,"base",t,_.value),t=_.value,_.errors)){var b;if(!Array.isArray(_.errors))return g.push(_.errors),f.finalize(t,g,o);if(_.errors.length)return(b=g).push.apply(b,Ft(_.errors)),f.finalize(t,g,o)}}return n.m_.length?f.rules(t,g,o):f.finalize(t,g,o)},f.rules=function(t,n,i){for(var r=i.schema,e=i.state,u=i.prefs,s=0,o=r.m_;s<o.length;s++){var c=o[s],h=r.y_.rules[c.method];if(h.convert&&u.convert)e.mainstay.tracer.log(r,e,"rule",c.name,"full");else{var v=void 0,d=c.args;if(c.Gd.length){d=b.assign({},d);for(var l=0,g=c.Gd;l<g.length;l++){var w=g[l],m=h.argsByName.get(w),y=d[w].resolve(t,e,u),p=m.normalize?m.normalize(y):y,_=a.validateArg(p,null,m);if(_){v=r.$_createError("any.ref",y,{arg:w,ref:d[w],reason:_},e,u);break}d[w]=p}}v=v||h.validate(t,i,d,c);var k=f.rule(v,c);if(k.errors){var A;if(e.mainstay.tracer.log(r,e,"rule",c.name,"error"),c.warn){var T;(T=e.mainstay.warnings).push.apply(T,Ft(k.errors));continue}if(u.abortEarly)return f.finalize(t,k.errors,i);(A=n).push.apply(A,Ft(k.errors))}else e.mainstay.tracer.log(r,e,"rule",c.name,"pass"),e.mainstay.tracer.value(e,"rule",t,k.value,c.name),t=k.value}}return f.finalize(t,n,i)},f.rule=function(t,n){return t instanceof c.Report?(f.error(t,n),{errors:[t],value:null}):Array.isArray(t)&&t[a.symbols.errors]?(t.forEach((function(t){return f.error(t,n)})),{errors:t,value:null}):{errors:null,value:t}},f.error=function(t,n){return n.message&&t.B_(n.message),t},f.finalize=function(t,n,i){n=n||[];var r=i.schema,u=i.state,s=i.prefs;if(n.length){var o=f.default("failover",void 0,n,i);void 0!==o&&(u.mainstay.tracer.value(u,"failover",t,o),t=o,n=[])}if(n.length&&r.v_.error)if("function"==typeof r.v_.error){n=r.v_.error(n),Array.isArray(n)||(n=[n]);for(var a=0;a<n.length;a++){var h=n[a];e(h instanceof p||h instanceof c.Report,"error() must return an Error object")}}else n=[r.v_.error];if(void 0===t){var v=f.default("default",t,n,i);u.mainstay.tracer.value(u,"default",t,v),t=v}if(r.v_.cast&&void 0!==t){var d=r.y_.cast[r.v_.cast];if(d.from(t)){var l=d.to(t,i);u.mainstay.tracer.value(u,"cast",t,l,r.v_.cast),t=l}}if(r.$_terms.externals&&s.externals&&!1!==s.x_)for(var g=0,w=r.$_terms.externals;g<w.length;g++){var m=w[g].method;u.mainstay.externals.push({method:m,schema:r,state:u,label:c.label(r.v_,u,s)})}var y={value:t,errors:n.length?n:null};return r.v_.result&&(y.value="strip"===r.v_.result?void 0:i.original,u.mainstay.tracer.value(u,r.v_.result,t,y.value),u.shadow(t,r.v_.result)),r.d_&&!1!==s.cache&&!r.l_.length&&r.d_.set(i.original,y),void 0===t||y.errors||void 0===r.v_.artifact||(u.mainstay.artifacts=u.mainstay.artifacts||new Map,u.mainstay.artifacts.has(r.v_.artifact)||u.mainstay.artifacts.set(r.v_.artifact,[]),u.mainstay.artifacts.get(r.v_.artifact).push(u.path)),y},f.prefs=function(t,n){var i=n===a.defaults;return i&&t.c_[a.symbols.prefs]?t.c_[a.symbols.prefs]:(n=a.preferences(n,t.c_),i&&(t.c_[a.symbols.prefs]=n),n)},f.default=function(t,n,i,r){var e=r.schema,s=r.state,o=r.prefs,c=e.v_[t];if(o.noDefaults||void 0===c)return n;if(s.mainstay.tracer.log(e,s,"rule",t,"full"),!c)return c;if("function"==typeof c){var h=c.length?[u(s.ancestors[0]),r]:[];try{return c.apply(void 0,Ft(h))}catch(n){return void i.push(e.$_createError("any.".concat(t),null,{error:n},s,o))}}return"object"!=(void 0===c?"undefined":U(c))?c:c[a.symbols.literal]?c.literal:a.isResolvable(c)?c.resolve(n,s,o):u(c)},f.trim=function(t,n){if("string"!=typeof t)return t;var i=n.$_getRule("trim");return i&&i.args.enabled?t.trim():t},f.ignore={active:!1,debug:s,entry:s,filter:s,log:s,resolve:s,value:s},f.errorsArray=function(){var t=[];return t[a.symbols.errors]=!0,t}},2036:function(t,n,i){var r=i(375),e=i(9474),u=i(8160),s={};t.exports=s.Values=function(){function t(t,n){this.p_=new Set(t),this.l_=new Set(n),this.mv=s.lowercases(t),this.pv=!1}var n=t.prototype;return n.add=function(t,n){u.isResolvable(t)?this.l_.has(t)||(this.l_.add(t),n&&n.register(t)):this.has(t,null,null,!1)||(this.p_.add(t),"string"==typeof t&&this.mv.set(t.toLowerCase(),t))},n.remove=function(t){u.isResolvable(t)?this.l_.delete(t):(this.p_.delete(t),"string"==typeof t&&this.mv.delete(t.toLowerCase()))},n.has=function(t,n,i,r){return!!this.get(t,n,i,r)},n.get=function(t,n,i,r){if(!this.length)return!1;if(this.p_.has(t))return{value:t};if("string"==typeof t&&t&&r){var u=this.mv.get(t.toLowerCase());if(u)return{value:u}}if(!this.l_.size&&"object"!=(void 0===t?"undefined":U(t)))return!1;if("object"==(void 0===t?"undefined":U(t)))for(var s=0,o=this.p_;s<o.length;s++){var a=o[s];if(e(a,t))return{value:a}}if(n)for(var c=0,h=this.l_;c<h.length;c++){var f=h[c],v=f.resolve(t,n,i,null,{in:!0});if(void 0!==v)for(var d=f.in&&"object"==(void 0===v?"undefined":U(v))?Array.isArray(v)?v:b.keys(v):[v],l=0;l<d.length;l++){var g=d[l];if((void 0===g?"undefined":U(g))==(void 0===t?"undefined":U(t)))if(r&&t&&"string"==typeof t){if(g.toLowerCase()===t.toLowerCase())return{value:g,ref:f}}else if(e(g,t))return{value:g,ref:f}}}return!1},n.override=function(){this.pv=!0},n.values=function(t){if(t&&t.display){for(var n=[],i=0,r=Ft(this.p_).concat(Ft(this.l_));i<r.length;i++){var e=r[i];void 0!==e&&n.push(e)}return n}return Array.from(Ft(this.p_).concat(Ft(this.l_)))},n.clone=function(){var t=new s.Values(this.p_,this.l_);return t.pv=this.pv,t},n.concat=function(t){r(!t.pv,"Cannot concat override set of values");var n=new s.Values(Ft(this.p_).concat(Ft(t.p_)),Ft(this.l_).concat(Ft(t.l_)));return n.pv=this.pv,n},n.describe=function(){var t=[];this.pv&&t.push({override:!0});for(var n=0,i=this.p_.values();n<i.length;n++){var r=i[n];t.push(r&&"object"==(void 0===r?"undefined":U(r))?{value:r}:r)}for(var e=0,u=this.l_.values();e<u.length;e++){var s=u[e];t.push(s.describe())}return t},t.merge=function(t,n,i){if(t=t||new s.Values,n){if(n.pv)return n.clone();for(var r=0,e=Ft(n.p_).concat(Ft(n.l_));r<e.length;r++){var u=e[r];t.add(u)}}if(i)for(var o=0,a=Ft(i.p_).concat(Ft(i.l_));o<a.length;o++){var c=a[o];t.remove(c)}return t.length?t:null},Nt(t,[{key:"length",get:function(){return this.p_.size+this.l_.size}}]),t}(),s.Values.prototype[u.symbols.values]=!0,s.Values.prototype.slice=s.Values.prototype.clone,s.lowercases=function(t){var n=new Map;if(t)for(var i=0;i<t.length;i++){var r=t[i];"string"==typeof r&&n.set(r.toLowerCase(),r)}return n}},978:function(t,n,i){var r=i(375),e=i(8571),u=i(1687),s=i(9621),o={};t.exports=function(t,n,i){if(void 0===i&&(i={}),r(t&&"object"==(void 0===t?"undefined":U(t)),"Invalid defaults value: must be an object"),r(!n||!0===n||"object"==(void 0===n?"undefined":U(n)),"Invalid source value: must be true, falsy or an object"),r("object"==(void 0===i?"undefined":U(i)),"Invalid options: must be an object"),!n)return null;if(i.shallow)return o.applyToDefaultsWithShallow(t,n,i);var s=e(t);if(!0===n)return s;var a=void 0!==i.nullOverride&&i.nullOverride;return u(s,n,{nullOverride:a,mergeArrays:!1})},o.applyToDefaultsWithShallow=function(t,n,i){var a=i.shallow;r(Array.isArray(a),"Invalid keys");for(var c=new Map,h=!0===n?null:new Set,f=0;f<a.length;f++){var v=a[f];v=Array.isArray(v)?v:v.split(".");var d=s(t,v);d&&"object"==(void 0===d?"undefined":U(d))?c.set(d,h&&s(n,v)||d):h&&h.add(v)}var l=e(t,{},c);if(!h)return l;for(var g=0;g<h.length;g++){var w=h[g];o.reachCopy(l,n,w)}var m=void 0!==i.nullOverride&&i.nullOverride;return u(l,n,{nullOverride:m,mergeArrays:!1})},o.reachCopy=function(t,n,i){for(var r=0;r<i.length;r++){var e=i[r];if(!(e in n))return;var u=n[e];if("object"!=(void 0===u?"undefined":U(u))||null===u)return;n=u}for(var s=n,o=t,a=0;a<i.length-1;++a){var c=i[a];"object"!=U(o[c])&&(o[c]={}),o=o[c]}o[i[i.length-1]]=s}},375:function(t,n,i){var r=i(7916);t.exports=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];if(!t)throw 1===i.length&&i[0]instanceof p?i[0]:new r(i)}},8571:function(t,n,i){var r=i(9621),e=i(4277),u=i(7043),s={needsProtoHack:new Set([e.set,e.map,e.weakSet,e.weakMap])};t.exports=s.clone=function(t,n,i){if(void 0===n&&(n={}),void 0===i&&(i=null),"object"!=(void 0===t?"undefined":U(t))||null===t)return t;var r=s.clone,o=i;if(n.shallow){if(!0!==n.shallow)return s.cloneWithShallow(t,n);r=function(t){return t}}else if(o){var a=o.get(t);if(a)return a}else o=new Map;var c=e.getInternalProto(t);if(c===e.buffer)return!1;if(c===e.date)return new Date(t.getTime());if(c===e.regex)return new RegExp(t);var h=s.base(t,c,n);if(h===t)return t;if(o&&o.set(t,h),c===e.set)for(var f=0;f<t.length;f++){var v=t[f];h.add(r(v,n,o))}else if(c===e.map)for(var d=0;d<t.length;d++){var l=tn(t[d],2),g=l[0],w=l[1];h.set(g,r(w,n,o))}for(var m=u.keys(t,n),y=0;y<m.length;y++){var p=m[y];if("__proto__"!==p)if(c!==e.array||"length"!==p){var _=b.getOwnPropertyDescriptor(t,p);_?_.get||_.set?b.defineProperty(h,p,_):_.enumerable?h[p]=r(t[p],n,o):b.defineProperty(h,p,{enumerable:!1,writable:!0,configurable:!0,value:r(t[p],n,o)}):b.defineProperty(h,p,{enumerable:!0,writable:!0,configurable:!0,value:r(t[p],n,o)})}else h.length=t.length}return h},s.cloneWithShallow=function(t,n){var i=n.shallow;(n=b.assign({},n)).shallow=!1;for(var e=new Map,u=0;u<i.length;u++){var o=i[u],a=r(t,o);"object"!=(void 0===a?"undefined":U(a))&&"function"!=typeof a||e.set(a,a)}return s.clone(t,n,e)},s.base=function(t,n,i){if(!1===i.prototype)return s.needsProtoHack.has(n)?new n.constructor:n===e.array?[]:{};var r=b.getPrototypeOf(t);if(r&&r.isImmutable)return t;if(n===e.array){var u=[];return r!==n&&b.setPrototypeOf(u,r),u}if(s.needsProtoHack.has(n)){var o=new r.constructor;return r!==n&&b.setPrototypeOf(o,r),o}return b.create(r)}},9474:function(t,n,i){var r=i(4277),e={mismatched:null};t.exports=function(t,n,i){return i=b.assign({prototype:!0},i),!!e.isDeepEqual(t,n,i,[])},e.isDeepEqual=function(t,n,i,u){if(t===n)return 0!==t||1/t==1/n;var s=void 0===t?"undefined":U(t);if(s!==(void 0===n?"undefined":U(n))||null===t||null===n)return!1;if("function"===s){if(!i.deepFunction||t.toString()!==n.toString())return!1}else if("object"!==s)return t!=t&&n!=n;var o=e.getSharedType(t,n,!!i.prototype);switch(o){case r.buffer:return!1;case r.promise:return t===n;case r.regex:return t.toString()===n.toString();case e.mismatched:return!1}for(var a=u.length-1;a>=0;--a)if(u[a].isSame(t,n))return!0;u.push(new e.SeenEntry(t,n));try{return!!e.isDeepEqualObj(o,t,n,i,u)}finally{u.pop()}},e.getSharedType=function(t,n,i){if(i)return b.getPrototypeOf(t)!==b.getPrototypeOf(n)?e.mismatched:r.getInternalProto(t);var u=r.getInternalProto(t);return u!==r.getInternalProto(n)?e.mismatched:u},e.valueOf=function(t){var n=t.valueOf;if(void 0===n)return t;try{return n.call(t)}catch(t){return t}},e.hasOwnEnumerableProperty=function(t,n){return b.prototype.propertyIsEnumerable.call(t,n)},e.isSetSimpleEqual=function(t,n){for(var i=0,r=Set.prototype.values.call(t);i<r.length;i++){var e=r[i];if(!Set.prototype.has.call(n,e))return!1}return!0},e.isDeepEqualObj=function(t,n,i,u,s){var o=e.isDeepEqual,a=e.valueOf,c=e.hasOwnEnumerableProperty,h=b.keys,f=b.getOwnPropertySymbols;if(t===r.array){if(!u.part){if(n.length!==i.length)return!1;for(var v=0;v<n.length;++v)if(!o(n[v],i[v],u,s))return!1;return!0}for(var d=0;d<n.length;d++)for(var l=n[d],g=0;g<i.length;g++)if(o(l,i[g],u,s))return!0}else if(t===r.set){if(n.size!==i.size)return!1;if(!e.isSetSimpleEqual(n,i))for(var w=new Set(Set.prototype.values.call(i)),m=0,y=Set.prototype.values.call(n);m<y.length;m++){var p=y[m];if(!w.delete(p)){for(var _=!1,k=0;k<w.length;k++){var A=w[k];if(o(p,A,u,s)){w.delete(A),_=!0;break}}if(!_)return!1}}}else if(t===r.map){if(n.size!==i.size)return!1;for(var T=0,S=Map.prototype.entries.call(n);T<S.length;T++){var E=tn(S[T],2),I=E[0],R=E[1];if(void 0===R&&!Map.prototype.has.call(i,I)||!o(R,Map.prototype.get.call(i,I),u,s))return!1}}else if(t===r.error&&(n.name!==i.name||n.message!==i.message))return!1;var C=a(n),N=a(i);if((n!==C||i!==N)&&!o(C,N,u,s))return!1;var D=h(n);if(!u.part&&D.length!==h(i).length&&!u.skip)return!1;for(var P=0,x=0;x<D.length;x++){var L=D[x];if(u.skip&&u.skip.includes(L))void 0===i[L]&&++P;else if(!c(i,L)||!o(n[L],i[L],u,s))return!1}if(!u.part&&D.length-P!==h(i).length)return!1;if(!1!==u.symbols){for(var M=f(n),O=new Set(f(i)),B=0;B<M.length;B++){var V=M[B];if(!u.skip||!u.skip.includes(V))if(c(n,V)){if(!c(i,V)||!o(n[V],i[V],u,s))return!1}else if(c(i,V))return!1;O.delete(V)}for(var F=0;F<O.length;F++)if(c(i,O[F]))return!1}return!0},e.SeenEntry=function(){function t(t,n){this.obj=t,this.ref=n}return t.prototype.isSame=function(t,n){return this.obj===t&&this.ref===n},t}()},7916:function(t,n,i){var r=i(8761);t.exports=function(t){function i(i){var e;return e=t.call(this,i.filter((function(t){return""!==t})).map((function(t){return"string"==typeof t?t:t instanceof p?t.message:r(t)})).join(" ")||"Unknown error")||this,"function"==typeof p.captureStackTrace&&p.captureStackTrace(e,n.assert),e}return It(i,t),i}(gn(p))},5277:function(t){var n={};t.exports=function(t){if(!t)return"";for(var i="",r=0;r<t.length;++r){var e=t.charCodeAt(r);n.isSafe(e)?i+=t[r]:i+=n.escapeHtmlChar(e)}return i},n.escapeHtmlChar=function(t){return n.namedHtml.get(t)||(t>=256?"&#"+t+";":"&#x".concat(t.toString(16).padStart(2,"0"),";"))},n.isSafe=function(t){return n.safeCharCodes.has(t)},n.namedHtml=new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[34,"&quot;"],[160,"&nbsp;"],[162,"&cent;"],[163,"&pound;"],[164,"&curren;"],[169,"&copy;"],[174,"&reg;"]]),n.safeCharCodes=function(){for(var t=new Set,n=32;n<123;++n)(n>=97||n>=65&&n<=90||n>=48&&n<=57||32===n||46===n||44===n||45===n||58===n||95===n)&&t.add(n);return t}()},6064:function(t){t.exports=function(t){return t.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}},738:function(t){t.exports=function(){}},1687:function(t,n,i){var r=i(375),e=i(8571),u=i(7043),s={};t.exports=s.merge=function(t,n,i){if(r(t&&"object"==(void 0===t?"undefined":U(t)),"Invalid target value: must be an object"),r(null==n||"object"==(void 0===n?"undefined":U(n)),"Invalid source value: must be null, undefined, or an object"),!n)return t;if(i=b.assign({nullOverride:!0,mergeArrays:!0},i),Array.isArray(n)){r(Array.isArray(t),"Cannot merge array onto an object"),i.mergeArrays||(t.length=0);for(var o=0;o<n.length;++o)t.push(e(n[o],{symbols:i.symbols}));return t}for(var a=u.keys(n,i),c=0;c<a.length;++c){var h=a[c];if("__proto__"!==h&&b.prototype.propertyIsEnumerable.call(n,h)){var f=n[h];if(f&&"object"==(void 0===f?"undefined":U(f))){if(t[h]===f)continue;!t[h]||"object"!=U(t[h])||Array.isArray(t[h])!==Array.isArray(f)||f instanceof Date||f instanceof RegExp?t[h]=e(f,{symbols:i.symbols}):s.merge(t[h],f,i)}else(null!=f||i.nullOverride)&&(t[h]=f)}}return t}},9621:function(t,n,i){var r=i(375),e={};t.exports=function(t,n,i){if(!1===n||null==n)return t;"string"==typeof(i=i||{})&&(i={separator:i});var u=Array.isArray(n);r(!u||!i.separator,"Separator option is not valid for array-based chain");for(var s=u?n:n.split(i.separator||"."),o=t,a=0;a<s.length;++a){var c=s[a],h=i.iterables&&e.iterables(o);if(Array.isArray(o)||"set"===h){var f=Number(c);Number.isInteger(f)&&(c=f<0?o.length+f:f)}if(!o||"function"==typeof o&&!1===i.functions||!h&&void 0===o[c]){r(!i.strict||a+1===s.length,"Missing segment",c,"in reach path ",n),r("object"==(void 0===o?"undefined":U(o))||!0===i.functions||"function"!=typeof o,"Invalid segment",c,"in reach path ",n),o=i.default;break}o=h?"set"===h?Ft(o)[c]:o.get(c):o[c]}return o},e.iterables=function(t){return t instanceof Set?"set":t instanceof Map?"map":void 0}},8761:function(t){t.exports=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];try{var r;return(r=JSON).stringify.apply(r,Ft(n))}catch(t){return"[Cannot display object: "+t.message+"]"}}},4277:function(t,n){var i={};n=t.exports={array:Array.prototype,buffer:!1,date:Date.prototype,error:p.prototype,generic:b.prototype,map:Map.prototype,promise:et.prototype,regex:RegExp.prototype,set:Set.prototype,weakMap:WeakMap.prototype,weakSet:WeakSet.prototype},i.typeMap=new Map([["[object Error]",n.error],["[object Map]",n.map],["[object Promise]",n.promise],["[object Set]",n.set],["[object WeakMap]",n.weakMap],["[object WeakSet]",n.weakSet]]),n.getInternalProto=function(t){if(Array.isArray(t))return n.array;if(t instanceof Date)return n.date;if(t instanceof RegExp)return n.regex;if(t instanceof p)return n.error;var r=b.prototype.toString.call(t);return i.typeMap.get(r)||n.generic}},7043:function(t,n){n.keys=function(t,n){return void 0===n&&(n={}),!1!==n.symbols?Reflect.ownKeys(t):b.getOwnPropertyNames(t)}},3652:function(t,n,i){var r=i(375),e={};n.Sorter=function(){function t(){this.tc=[],this.nodes=[]}var n=t.prototype;return n.add=function(t,n){var i=[].concat((n=n||{}).before||[]),e=[].concat(n.after||[]),u=n.group||"?",s=n.sort||0;r(!i.includes(u),"Item cannot come before itself: ".concat(u)),r(!i.includes("?"),"Item cannot come before unassociated items"),r(!e.includes(u),"Item cannot come after itself: ".concat(u)),r(!e.includes("?"),"Item cannot come after unassociated items"),Array.isArray(t)||(t=[t]);for(var o=0;o<t.length;o++){var a=t[o],c={seq:this.tc.length,sort:s,before:i,after:e,group:u,node:a};this.tc.push(c)}if(!n.manual){var h=this.yv();r(h,"item","?"!==u?"added into group ".concat(u):"","created a dependencies error")}return this.nodes},n.merge=function(t){Array.isArray(t)||(t=[t]);for(var n=0;n<t.length;n++){var i=t[n];if(i)for(var u=0,s=i.tc;u<s.length;u++){var o=s[u];this.tc.push(b.assign({},o))}}this.tc.sort(e.mergeSort);for(var a=0;a<this.tc.length;++a)this.tc[a].seq=a;var c=this.yv();return r(c,"merge created a dependencies error"),this.nodes},n.sort=function(){var t=this.yv();return r(t,"sort created a dependencies error"),this.nodes},n.yv=function(){for(var t,n={},i=b.create(null),r=b.create(null),e=0,u=this.tc;e<u.length;e++){var s=u[e],o=s.seq,a=s.group;r[a]=r[a]||[],r[a].push(o),n[o]=s.before;for(var c=0,h=s.after;c<h.length;c++){var f=h[c];i[f]=i[f]||[],i[f].push(o)}}for(var v in n){var d=[];for(var l in n[v]){var g,w=n[v][l];r[w]=r[w]||[],(g=d).push.apply(g,Ft(r[w]))}n[v]=d}for(var m in i)if(r[m])for(var y=0,p=r[m];y<p.length;y++)(t=n[p[y]]).push.apply(t,Ft(i[m]));var _={};for(var k in n)for(var A=n[k],T=0;T<A.length;T++){var S=A[T];_[S]=_[S]||[],_[S].push(k)}for(var E={},I=[],R=0;R<this.tc.length;++R){var C=R;if(_[R]){C=null;for(var N=0;N<this.tc.length;++N)if(!0!==E[N]){_[N]||(_[N]=[]);for(var D=_[N].length,P=0,x=0;x<D;++x)E[_[N][x]]&&++P;if(P===D){C=N;break}}}null!==C&&(E[C]=!0,I.push(C))}if(I.length!==this.tc.length)return!1;for(var L={},M=0,O=this.tc;M<O.length;M++){var B=O[M];L[B.seq]=B}this.tc=[],this.nodes=[];for(var V=0;V<I.length;V++){var F=L[I[V]];this.nodes.push(F.node),this.tc.push(F)}return!0},t}(),e.mergeSort=function(t,n){return t.sort===n.sort?0:t.sort<n.sort?-1:1}},5380:function(t,n,i){var r=i(443),e=i(2178),u={minDomainSegments:2,nonAsciiRx:/[^\x00-\x7f]/,domainControlRx:/[\x00-\x20@\:\/\\#!\$&\'\(\)\*\+,;=\?]/,tldSegmentRx:/^[a-zA-Z](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,domainSegmentRx:/^[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,URL:r.URL||URL};n.analyze=function(t,n){if(void 0===n&&(n={}),!t)return e.code("DOMAIN_NON_EMPTY_STRING");if("string"!=typeof t)throw new p("Invalid input: domain must be a string");if(t.length>256)return e.code("DOMAIN_TOO_LONG");if(u.nonAsciiRx.test(t)){if(!1===n.allowUnicode)return e.code("DOMAIN_INVALID_UNICODE_CHARS");t=t.normalize("NFC")}if(u.domainControlRx.test(t))return e.code("DOMAIN_INVALID_CHARS");t=u.punycode(t),n.allowFullyQualified&&"."===t[t.length-1]&&(t=t.slice(0,-1));var i=n.minDomainSegments||u.minDomainSegments,r=t.split(".");if(r.length<i)return e.code("DOMAIN_SEGMENTS_COUNT");if(n.maxDomainSegments&&r.length>n.maxDomainSegments)return e.code("DOMAIN_SEGMENTS_COUNT_MAX");var s=n.tlds;if(s){var o=r[r.length-1].toLowerCase();if(s.deny&&s.deny.has(o)||s.allow&&!s.allow.has(o))return e.code("DOMAIN_FORBIDDEN_TLDS")}for(var a=0;a<r.length;++a){var c=r[a];if(!c.length)return e.code("DOMAIN_EMPTY_SEGMENT");if(c.length>63)return e.code("DOMAIN_LONG_SEGMENT");if(a<r.length-1){if(!u.domainSegmentRx.test(c))return e.code("DOMAIN_INVALID_CHARS")}else if(!u.tldSegmentRx.test(c))return e.code("DOMAIN_INVALID_TLDS_CHARS")}return null},n.isValid=function(t,i){return!n.analyze(t,i)},u.punycode=function(t){t.includes("%")&&(t=t.replace(/%/g,"%25"));try{return new u.URL("http://".concat(t)).host}catch(n){return t}}},1745:function(t,n,i){var r=i(9848),e=i(5380),u=i(2178),s={nonAsciiRx:/[^\x00-\x7f]/,encoder:new(r.TextEncoder||TextEncoder)};n.analyze=function(t,n){return s.email(t,n)},n.isValid=function(t,n){return!s.email(t,n)},s.email=function(t,n){if(void 0===n&&(n={}),"string"!=typeof t)throw new p("Invalid input: email must be a string");if(!t)return u.code("EMPTY_STRING");var i=!s.nonAsciiRx.test(t);if(!i){if(!1===n.allowUnicode)return u.code("FORBIDDEN_UNICODE");t=t.normalize("NFC")}var r=t.split("@");if(2!==r.length)return r.length>2?u.code("MULTIPLE_AT_CHAR"):u.code("MISSING_AT_CHAR");var o=tn(r,2),a=o[0],c=o[1];if(!a)return u.code("EMPTY_LOCAL");if(!n.ignoreLength){if(t.length>254)return u.code("ADDRESS_TOO_LONG");if(s.encoder.encode(a).length>64)return u.code("LOCAL_TOO_LONG")}return s.local(a,i)||e.analyze(c,n)},s.local=function(t,n){for(var i=t.split("."),r=0;r<i.length;r++){var e=i[r];if(!e.length)return u.code("EMPTY_LOCAL_SEGMENT");if(n){if(!s.atextRx.test(e))return u.code("INVALID_LOCAL_CHARS")}else for(var o=0;o<e.length;o++){var a=e[o];if(!s.atextRx.test(a)){var c=s.binary(a);if(!s.atomRx.test(c))return u.code("INVALID_LOCAL_CHARS")}}}},s.binary=function(t){return Array.from(s.encoder.encode(t)).map((function(t){return String.fromCharCode(t)})).join("")},s.atextRx=/^[\w!#\$%&'\*\+\-/=\?\^`\{\|\}~]+$/,s.atomRx=new RegExp(["(?:[\\xc2-\\xdf][\\x80-\\xbf])","(?:\\xe0[\\xa0-\\xbf][\\x80-\\xbf])|(?:[\\xe1-\\xec][\\x80-\\xbf]{2})|(?:\\xed[\\x80-\\x9f][\\x80-\\xbf])|(?:[\\xee-\\xef][\\x80-\\xbf]{2})","(?:\\xf0[\\x90-\\xbf][\\x80-\\xbf]{2})|(?:[\\xf1-\\xf3][\\x80-\\xbf]{3})|(?:\\xf4[\\x80-\\x8f][\\x80-\\xbf]{2})"].join("|"))},2178:function(t,n){n.codes={EMPTY_STRING:"Address must be a non-empty string",FORBIDDEN_UNICODE:"Address contains forbidden Unicode characters",MULTIPLE_AT_CHAR:"Address cannot contain more than one @ character",MISSING_AT_CHAR:"Address must contain one @ character",EMPTY_LOCAL:"Address local part cannot be empty",ADDRESS_TOO_LONG:"Address too long",LOCAL_TOO_LONG:"Address local part too long",EMPTY_LOCAL_SEGMENT:"Address local part contains empty dot-separated segment",INVALID_LOCAL_CHARS:"Address local part contains invalid character",DOMAIN_NON_EMPTY_STRING:"Domain must be a non-empty string",DOMAIN_TOO_LONG:"Domain too long",DOMAIN_INVALID_UNICODE_CHARS:"Domain contains forbidden Unicode characters",DOMAIN_INVALID_CHARS:"Domain contains invalid character",DOMAIN_INVALID_TLDS_CHARS:"Domain contains invalid tld character",DOMAIN_SEGMENTS_COUNT:"Domain lacks the minimum required number of segments",DOMAIN_SEGMENTS_COUNT_MAX:"Domain contains too many segments",DOMAIN_FORBIDDEN_TLDS:"Domain uses forbidden TLD",DOMAIN_EMPTY_SEGMENT:"Domain contains empty dot-separated segment",DOMAIN_LONG_SEGMENT:"Domain contains dot-separated segment that is too long"},n.code=function(t){return{code:t,error:n.codes[t]}}},9959:function(t,n,i){var r=i(375),e=i(5752);n.regex=function(t){void 0===t&&(t={}),r(void 0===t.cidr||"string"==typeof t.cidr,"options.cidr must be a string");var n=t.cidr?t.cidr.toLowerCase():"optional";r(["required","optional","forbidden"].includes(n),"options.cidr must be one of required, optional, forbidden"),r(void 0===t.version||"string"==typeof t.version||Array.isArray(t.version),"options.version must be a string or an array of string");var i=t.version||["ipv4","ipv6","ipvfuture"];Array.isArray(i)||(i=[i]),r(i.length>=1,"options.version must have at least 1 version specified");for(var u=0;u<i.length;++u)r("string"==typeof i[u],"options.version must only contain strings"),i[u]=i[u].toLowerCase(),r(["ipv4","ipv6","ipvfuture"].includes(i[u]),"options.version contains unknown version "+i[u]+" - must be one of ipv4, ipv6, ipvfuture");i=Array.from(new Set(i));var s="(?:".concat(i.map((function(t){if("forbidden"===n)return e.ip[t];var i="\\/".concat("ipv4"===t?e.ip.v4Cidr:e.ip.v6Cidr);return"required"===n?"".concat(e.ip[t]).concat(i):"".concat(e.ip[t],"(?:").concat(i,")?")})).join("|"),")"),o=new RegExp("^".concat(s,"$"));return{cidr:n,versions:i,regex:o,raw:s}}},5752:function(t,n,i){var r=i(375),e=i(6064),u={generate:function(){var t={},n="\\dA-Fa-f",i="["+n+"]",r="\\w-\\.~",e="!\\$&'\\(\\)\\*\\+,;=",u="%"+n,s=r+u+e+":@",o="["+s+"]",a="(?:0{0,2}\\d|0?[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";t.ipv4address="(?:"+a+"\\.){3}"+a;var c=i+"{1,4}",h="(?:"+c+":"+c+"|"+t.ipv4address+")",f="(?:"+c+":){6}"+h,v="::(?:"+c+":){5}"+h,d="(?:"+c+")?::(?:"+c+":){4}"+h,l="(?:(?:"+c+":){0,1}"+c+")?::(?:"+c+":){3}"+h,g="(?:(?:"+c+":){0,2}"+c+")?::(?:"+c+":){2}"+h,w="(?:(?:"+c+":){0,3}"+c+")?::"+c+":"+h,m="(?:(?:"+c+":){0,4}"+c+")?::"+h,y="(?:(?:"+c+":){0,5}"+c+")?::"+c,p="(?:(?:"+c+":){0,6}"+c+")?::";t.ipv4Cidr="(?:\\d|[1-2]\\d|3[0-2])",t.ipv6Cidr="(?:0{0,2}\\d|0?[1-9]\\d|1[01]\\d|12[0-8])",t.ipv6address="(?:"+f+"|"+v+"|"+d+"|"+l+"|"+g+"|"+w+"|"+m+"|"+y+"|"+p+")",t.ipvFuture="v"+i+"+\\.["+r+e+":]+",t.scheme="[a-zA-Z][a-zA-Z\\d+-\\.]*",t.schemeRegex=new RegExp(t.scheme);var _="["+r+u+e+":]*",b="["+r+u+e+"]{1,255}",k="(?:\\[(?:"+t.ipv6address+"|"+t.ipvFuture+")\\]|"+t.ipv4address+"|"+b+")",A="(?:"+_+"@)?"+k+"(?::\\d*)?",T="(?:"+_+"@)?("+k+")(?::\\d*)?",S=o+"*",E=o+"+",I="(?:\\/"+S+")*",R="\\/(?:"+E+I+")?",C=E+I,N="["+r+u+e+"@]+"+I,D="(?:\\/\\/\\/"+S+I+")";return t.hierPart="(?:(?:\\/\\/"+A+I+")|"+R+"|"+C+"|"+D+")",t.hierPartCapture="(?:(?:\\/\\/"+T+I+")|"+R+"|"+C+")",t.relativeRef="(?:(?:\\/\\/"+A+I+")|"+R+"|"+N+"|)",t.relativeRefCapture="(?:(?:\\/\\/"+T+I+")|"+R+"|"+N+"|)",t.query="["+s+"\\/\\?]*(?=#|$)",t.queryWithSquareBrackets="["+s+"\\[\\]\\/\\?]*(?=#|$)",t.fragment="["+s+"\\/\\?]*",t}};u.rfc3986=u.generate(),n.ip={v4Cidr:u.rfc3986.ipv4Cidr,v6Cidr:u.rfc3986.ipv6Cidr,ipv4:u.rfc3986.ipv4address,ipv6:u.rfc3986.ipv6address,ipvfuture:u.rfc3986.ipvFuture},u.createRegex=function(t){var n=u.rfc3986,i="(?:\\?"+(t.allowQuerySquareBrackets?n.queryWithSquareBrackets:n.query)+")?(?:#"+n.fragment+")?",s=t.domain?n.relativeRefCapture:n.relativeRef;if(t.relativeOnly)return u.wrap(s+i);var o="";if(t.scheme){r(t.scheme instanceof RegExp||"string"==typeof t.scheme||Array.isArray(t.scheme),"scheme must be a RegExp, String, or Array");var a=[].concat(t.scheme);r(a.length>=1,"scheme must have at least 1 scheme specified");for(var c=[],h=0;h<a.length;++h){var f=a[h];r(f instanceof RegExp||"string"==typeof f,"scheme at position "+h+" must be a RegExp or String"),f instanceof RegExp?c.push(f.source.toString()):(r(n.schemeRegex.test(f),"scheme at position "+h+" must be a valid scheme"),c.push(e(f)))}o=c.join("|")}var v="(?:"+(o?"(?:"+o+")":n.scheme)+":"+(t.domain?n.hierPartCapture:n.hierPart)+")",d=t.allowRelative?"(?:"+v+"|"+s+")":v;return u.wrap(d+i,o)},u.wrap=function(t,n){return{raw:t="(?=.)(?!https?:/(?:$|[^/]))(?!https?:///)(?!https?:[^/])".concat(t),regex:new RegExp("^".concat(t,"$")),scheme:n}},u.uriRegex=u.createRegex({}),n.regex=function(t){return void 0===t&&(t={}),t.scheme||t.allowRelative||t.relativeOnly||t.allowQuerySquareBrackets||t.domain?u.createRegex(t):u.uriRegex}},1447:function(t,i){var r={operators:["!","^","*","/","%","+","-","<","<=",">",">=","==","!=","&&","||","??"],operatorCharacters:["!","^","*","/","%","+","-","<","=",">","&","|","?"],operatorsOrder:[["^"],["*","/","%"],["+","-"],["<","<=",">",">="],["==","!="],["&&"],["||","??"]],operatorsPrefix:["!","n"],literals:{'"':'"',"`":"`","'":"'","[":"]"},numberRx:/^(?:[0-9]*(\.[0-9]*)?){1}$/,tokenRx:/^[\w\$\#\.\@\:\{\}]+$/,symbol:n("formula"),settings:n("settings")};i.Parser=function(){function t(t,n){if(void 0===n&&(n={}),!n[r.settings]&&n.constants)for(var i in n.constants){var e=n.constants[i];if(null!==e&&!["boolean","number","string"].includes(void 0===e?"undefined":U(e)))throw new p("Formula constant ".concat(i," contains invalid ").concat(void 0===e?"undefined":U(e)," value type"))}var u;this.settings=n[r.settings]?n:b.assign((un(u={},r.settings,!0),un(u,"constants",{}),un(u,"functions",{}),u),n),this.single=null,this.Av=null,this.z_(t)}var n=t.prototype;return n.z_=function(t){for(var n=this,e=[],u="",s=0,o=!1,a=function(t){if(s)throw new p("Formula missing closing parenthesis");var a=e.length?e[e.length-1]:null;if(o||u||t){if(a&&"reference"===a.type&&")"===t)return a.type="function",a.value=n.bv(u,a.value),void(u="");if(")"===t){var c=new i.Parser(u,n.settings);e.push({type:"segment",value:c})}else if(o){if("]"===o)return e.push({type:"reference",value:u}),void(u="");e.push({type:"literal",value:u})}else if(r.operatorCharacters.includes(u))a&&"operator"===a.type&&r.operators.includes(a.value+u)?a.value+=u:e.push({type:"operator",value:u});else if(u.match(r.numberRx))e.push({type:"constant",value:T(u)});else if(void 0!==n.settings.constants[u])e.push({type:"constant",value:n.settings.constants[u]});else{if(!u.match(r.tokenRx))throw new p("Formula contains invalid token: ".concat(u));e.push({type:"reference",value:u})}u=""}},c=0;c<t.length;c++){var h=t[c];o?h===o?(a(),o=!1):u+=h:s?"("===h?(u+=h,++s):")"===h?--s?u+=h:a(h):u+=h:h in r.literals?o=r.literals[h]:"("===h?(a(),++s):r.operatorCharacters.includes(h)?(a(),u=h,a()):" "!==h?u+=h:a()}a(),e=e.map((function(t,n){return"operator"!==t.type||"-"!==t.value||n&&"operator"!==e[n-1].type?t:{type:"operator",value:"n"}}));for(var f=!1,v=0;v<e.length;v++){var d=e[v];if("operator"===d.type){if(r.operatorsPrefix.includes(d.value))continue;if(!f)throw new p("Formula contains an operator in invalid position");if(!r.operators.includes(d.value))throw new p("Formula contains an unknown operator ".concat(d.value))}else if(f)throw new p("Formula missing expected operator");f=!f}if(!f)throw new p("Formula contains invalid trailing operator");1===e.length&&["reference","literal","constant"].includes(e[0].type)&&(this.single={type:"reference"===e[0].type?"reference":"value",value:e[0].value}),this.Av=e.map((function(t){if("operator"===t.type)return r.operatorsPrefix.includes(t.value)?t:t.value;if("reference"!==t.type)return t.value;if(n.settings.tokenRx&&!n.settings.tokenRx.test(t.value))throw new p("Formula contains invalid reference ".concat(t.value));return n.settings.reference?n.settings.reference(t.value):r.reference(t.value)}))},n.bv=function(t,n){var e=this,u=this.settings.functions[n];if("function"!=typeof u)throw new p("Formula contains unknown function ".concat(n));var s=[];if(t){for(var o="",a=0,c=!1,h=function(){if(!o)throw new p("Formula contains function ".concat(n," with invalid arguments ").concat(t));s.push(o),o=""},f=0;f<t.length;++f){var v=t[f];c?(o+=v,v===c&&(c=!1)):v in r.literals&&!a?(o+=v,c=r.literals[v]):","!==v||a?(o+=v,"("===v?++a:")"===v&&--a):h()}h()}return s=s.map((function(t){return new i.Parser(t,e.settings)})),function(t){for(var n,i=[],r=0;r<s.length;r++){var e=s[r];i.push(e.evaluate(t))}return(n=u).call.apply(n,[t].concat(Ft(i)))}},n.evaluate=function(t){for(var n=this.Av.slice(),i=n.length-2;i>=0;--i){var e=n[i];if(e&&"operator"===e.type){var u=n[i+1];n.splice(i+1,1);var s=r.evaluate(u,t);n[i]=r.single(e.value,s)}}return r.operatorsOrder.forEach((function(i){for(var e=1;e<n.length-1;)if(i.includes(n[e])){var u=n[e],s=r.evaluate(n[e-1],t),o=r.evaluate(n[e+1],t);n.splice(e,2);var a=r.calculate(u,s,o);n[e-1]=0===a?0:a}else e+=2})),r.evaluate(n[0],t)},t}(),i.Parser.prototype[r.symbol]=!0,r.reference=function(t){return function(n){return n&&void 0!==n[t]?n[t]:null}},r.evaluate=function(t,n){return null===t?null:"function"==typeof t?t(n):t[r.symbol]?t.evaluate(n):t},r.single=function(t,n){if("!"===t)return!n;var i=-n;return 0===i?0:i},r.calculate=function(t,n,i){if("??"===t)return r.exists(n)?n:i;if("string"==typeof n||"string"==typeof i){if("+"===t)return(n=r.exists(n)?n:"")+(r.exists(i)?i:"")}else switch(t){case"^":return k.pow(n,i);case"*":return n*i;case"/":return n/i;case"%":return n%i;case"+":return n+i;case"-":return n-i}switch(t){case"<":return n<i;case"<=":return n<=i;case">":return n>i;case">=":return n>=i;case"==":return n===i;case"!=":return n!==i;case"&&":return n&&i;case"||":return n||i}return null},r.exists=function(t){return null!=t}},9926:function(){},5688:function(){},9708:function(){},1152:function(){},443:function(){},9848:function(){},5934:function(t){t.exports=JSON.parse('{"version":"17.13.3"}')}},e={},function n(i){var r=e[i];if(void 0!==r)return r.exports;var u=e[i]={exports:{}};return t[i](u,u.exports,n),u.exports}(5107);var t,e}()}(oe);var ae,ce=D(oe.exports),he=function(t){function n(n,i,r,e){var u;if(u=t.call(this)||this,ae=r,!i)throw ae.error("Token generator is required to construct this module."),new p("Token generator is required to construct this module.");return u.webRTCPeer=new Ar,u.signaling=null,u.autoReconnect=e,u.reconnectionInterval=1e3,u.alreadyDisconnected=!1,u.firstReconnection=!0,u.stopReconnection=!1,u.isReconnecting=!1,u.tokenGenerator=i,u.options=null,u}It(n,t);var i=n.prototype;return i.getRTCPeerConnection=function(){return this.webRTCPeer?this.webRTCPeer.getRTCPeer():null},i.stop=function(){var t;ae.info("Stopping"),this.webRTCPeer.closeRTCPeer(),null==(t=this.signaling)||t.close(),this.signaling=null,this.stopReconnection=!0,this.webRTCPeer=new Ar},i.isActive=function(){var t=this.webRTCPeer.getRTCPeerStatus();return ae.info("Broadcast status: ",t||"not_established"),"connected"===t},i.setReconnect=function(){var t=this;this.signaling.on("migrate",(function(){return t.replaceConnection()})),this.autoReconnect&&(this.signaling.on(Ur,(function(){(t.firstReconnection||!t.alreadyDisconnected)&&(t.firstReconnection=!1,t.reconnect({error:new p("Signaling error: wsConnectionError")}))})),this.webRTCPeer.on(br.connectionStateChange,(function(n){tt(n),"connected"===n&&Q(new Date),("failed"===n||"disconnected"===n&&t.alreadyDisconnected)&&t.firstReconnection?(t.firstReconnection=!1,t.reconnect({error:new p("Connection state change: RTCPeerConnectionState disconnected")})):"disconnected"===n?(t.alreadyDisconnected=!0,g((function(){return t.reconnect({error:new p("Connection state change: RTCPeerConnectionState disconnected")})}),1500)):t.alreadyDisconnected=!1})))},i.reconnect=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),ae.info("Attempting to reconnect..."),n.isActive()||n.stopReconnection||n.isReconnecting?[3,2]:(n.stop(),n.emit("reconnect",{timeout:fe(n.reconnectionInterval),error:null!=t&&t.error?null==t?void 0:t.error:new p("Attempting to reconnect")}),n.isReconnecting=!0,[4,n.connect(n.options)]);case 1:r.sent(),n.alreadyDisconnected=!1,n.reconnectionInterval=1e3,n.firstReconnection=!0,n.isReconnecting=!1,r.label=2;case 2:return[3,4];case 3:return i=r.sent(),n.isReconnecting=!1,n.reconnectionInterval=fe(n.reconnectionInterval),ae.error("Reconnection failed, retrying in ".concat(n.reconnectionInterval,"ms. "),i),g((function(){return n.reconnect({error:i})}),n.reconnectionInterval),[3,4];case 4:return[2]}}))}))()},n}(Lt),fe=function(t){return t<32e3?2*t:t},ve=f.RTCRtpSender&&!!RTCRtpSender.prototype.createEncodedStreams&&f.RTCRtpReceiver&&!!RTCRtpReceiver.prototype.createEncodedStreams,de="RTCRtpScriptTransform"in f,le="KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBGPXR5cGVvZiBnbG9iYWxUaGlzPCJ1Ij9nbG9iYWxUaGlzOnR5cGVvZiB3aW5kb3c8InUiP3dpbmRvdzp0eXBlb2YgZ2xvYmFsPCJ1Ij9nbG9iYWw6dHlwZW9mIHNlbGY8InUiP3NlbGY6e307ZnVuY3Rpb24gVyhuKXtyZXR1cm4gbiYmbi5fX2VzTW9kdWxlJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobiwiZGVmYXVsdCIpP24uZGVmYXVsdDpufXZhciBCPXtleHBvcnRzOnt9fTsvKiEKICoganMtbG9nZ2VyIC0gaHR0cDovL2dpdGh1Yi5jb20vam9ubnlyZWV2ZXMvanMtbG9nZ2VyCiAqIEpvbm55IFJlZXZlcywgaHR0cDovL2pvbm55cmVldmVzLmNvLnVrLwogKiBqcy1sb2dnZXIgbWF5IGJlIGZyZWVseSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuCiAqLyhmdW5jdGlvbihuKXsoZnVuY3Rpb24odCl7dmFyIGU9e307ZS5WRVJTSU9OPSIxLjYuMSI7dmFyIHMscj17fSxvPWZ1bmN0aW9uKGksdSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHUuYXBwbHkoaSxhcmd1bWVudHMpfX0sYT1mdW5jdGlvbigpe3ZhciBpPWFyZ3VtZW50cyx1PWlbMF0saCxjO2ZvcihjPTE7YzxpLmxlbmd0aDtjKyspZm9yKGggaW4gaVtjXSkhKGggaW4gdSkmJmlbY10uaGFzT3duUHJvcGVydHkoaCkmJih1W2hdPWlbY11baF0pO3JldHVybiB1fSxkPWZ1bmN0aW9uKGksdSl7cmV0dXJue3ZhbHVlOmksbmFtZTp1fX07ZS5UUkFDRT1kKDEsIlRSQUNFIiksZS5ERUJVRz1kKDIsIkRFQlVHIiksZS5JTkZPPWQoMywiSU5GTyIpLGUuVElNRT1kKDQsIlRJTUUiKSxlLldBUk49ZCg1LCJXQVJOIiksZS5FUlJPUj1kKDgsIkVSUk9SIiksZS5PRkY9ZCg5OSwiT0ZGIik7dmFyIGw9ZnVuY3Rpb24oaSl7dGhpcy5jb250ZXh0PWksdGhpcy5zZXRMZXZlbChpLmZpbHRlckxldmVsKSx0aGlzLmxvZz10aGlzLmluZm99O2wucHJvdG90eXBlPXtzZXRMZXZlbDpmdW5jdGlvbihpKXtpJiYidmFsdWUiaW4gaSYmKHRoaXMuY29udGV4dC5maWx0ZXJMZXZlbD1pKX0sZ2V0TGV2ZWw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZXh0LmZpbHRlckxldmVsfSxlbmFibGVkRm9yOmZ1bmN0aW9uKGkpe3ZhciB1PXRoaXMuY29udGV4dC5maWx0ZXJMZXZlbDtyZXR1cm4gaS52YWx1ZT49dS52YWx1ZX0sdHJhY2U6ZnVuY3Rpb24oKXt0aGlzLmludm9rZShlLlRSQUNFLGFyZ3VtZW50cyl9LGRlYnVnOmZ1bmN0aW9uKCl7dGhpcy5pbnZva2UoZS5ERUJVRyxhcmd1bWVudHMpfSxpbmZvOmZ1bmN0aW9uKCl7dGhpcy5pbnZva2UoZS5JTkZPLGFyZ3VtZW50cyl9LHdhcm46ZnVuY3Rpb24oKXt0aGlzLmludm9rZShlLldBUk4sYXJndW1lbnRzKX0sZXJyb3I6ZnVuY3Rpb24oKXt0aGlzLmludm9rZShlLkVSUk9SLGFyZ3VtZW50cyl9LHRpbWU6ZnVuY3Rpb24oaSl7dHlwZW9mIGk9PSJzdHJpbmciJiZpLmxlbmd0aD4wJiZ0aGlzLmludm9rZShlLlRJTUUsW2ksInN0YXJ0Il0pfSx0aW1lRW5kOmZ1bmN0aW9uKGkpe3R5cGVvZiBpPT0ic3RyaW5nIiYmaS5sZW5ndGg+MCYmdGhpcy5pbnZva2UoZS5USU1FLFtpLCJlbmQiXSl9LGludm9rZTpmdW5jdGlvbihpLHUpe3MmJnRoaXMuZW5hYmxlZEZvcihpKSYmcyh1LGEoe2xldmVsOml9LHRoaXMuY29udGV4dCkpfX07dmFyIGY9bmV3IGwoe2ZpbHRlckxldmVsOmUuT0ZGfSk7KGZ1bmN0aW9uKCl7dmFyIGk9ZTtpLmVuYWJsZWRGb3I9byhmLGYuZW5hYmxlZEZvciksaS50cmFjZT1vKGYsZi50cmFjZSksaS5kZWJ1Zz1vKGYsZi5kZWJ1ZyksaS50aW1lPW8oZixmLnRpbWUpLGkudGltZUVuZD1vKGYsZi50aW1lRW5kKSxpLmluZm89byhmLGYuaW5mbyksaS53YXJuPW8oZixmLndhcm4pLGkuZXJyb3I9byhmLGYuZXJyb3IpLGkubG9nPWkuaW5mb30pKCksZS5zZXRIYW5kbGVyPWZ1bmN0aW9uKGkpe3M9aX0sZS5zZXRMZXZlbD1mdW5jdGlvbihpKXtmLnNldExldmVsKGkpO2Zvcih2YXIgdSBpbiByKXIuaGFzT3duUHJvcGVydHkodSkmJnJbdV0uc2V0TGV2ZWwoaSl9LGUuZ2V0TGV2ZWw9ZnVuY3Rpb24oKXtyZXR1cm4gZi5nZXRMZXZlbCgpfSxlLmdldD1mdW5jdGlvbihpKXtyZXR1cm4gcltpXXx8KHJbaV09bmV3IGwoYSh7bmFtZTppfSxmLmNvbnRleHQpKSl9LGUuY3JlYXRlRGVmYXVsdEhhbmRsZXI9ZnVuY3Rpb24oaSl7aT1pfHx7fSxpLmZvcm1hdHRlcj1pLmZvcm1hdHRlcnx8ZnVuY3Rpb24ocCxfKXtfLm5hbWUmJnAudW5zaGlmdCgiWyIrXy5uYW1lKyJdIil9O3ZhciB1PXt9LGg9ZnVuY3Rpb24oYyxwKXtGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbChjLGNvbnNvbGUscCl9O3JldHVybiB0eXBlb2YgY29uc29sZT4idSI/ZnVuY3Rpb24oKXt9OmZ1bmN0aW9uKGMscCl7Yz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChjKTt2YXIgXz1jb25zb2xlLmxvZyxnO3AubGV2ZWw9PT1lLlRJTUU/KGc9KHAubmFtZT8iWyIrcC5uYW1lKyJdICI6IiIpK2NbMF0sY1sxXT09PSJzdGFydCI/Y29uc29sZS50aW1lP2NvbnNvbGUudGltZShnKTp1W2ddPW5ldyBEYXRlKCkuZ2V0VGltZSgpOmNvbnNvbGUudGltZUVuZD9jb25zb2xlLnRpbWVFbmQoZyk6aChfLFtnKyI6ICIrKG5ldyBEYXRlKCkuZ2V0VGltZSgpLXVbZ10pKyJtcyJdKSk6KHAubGV2ZWw9PT1lLldBUk4mJmNvbnNvbGUud2Fybj9fPWNvbnNvbGUud2FybjpwLmxldmVsPT09ZS5FUlJPUiYmY29uc29sZS5lcnJvcj9fPWNvbnNvbGUuZXJyb3I6cC5sZXZlbD09PWUuSU5GTyYmY29uc29sZS5pbmZvP189Y29uc29sZS5pbmZvOnAubGV2ZWw9PT1lLkRFQlVHJiZjb25zb2xlLmRlYnVnP189Y29uc29sZS5kZWJ1ZzpwLmxldmVsPT09ZS5UUkFDRSYmY29uc29sZS50cmFjZSYmKF89Y29uc29sZS50cmFjZSksaS5mb3JtYXR0ZXIoYyxwKSxoKF8sYykpfX0sZS51c2VEZWZhdWx0cz1mdW5jdGlvbihpKXtlLnNldExldmVsKGkmJmkuZGVmYXVsdExldmVsfHxlLkRFQlVHKSxlLnNldEhhbmRsZXIoZS5jcmVhdGVEZWZhdWx0SGFuZGxlcihpKSl9LGUuc2V0RGVmYXVsdHM9ZS51c2VEZWZhdWx0cyxuLmV4cG9ydHM/bi5leHBvcnRzPWU6KGUuX3ByZXZMb2dnZXI9dC5Mb2dnZXIsZS5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHQuTG9nZ2VyPWUuX3ByZXZMb2dnZXIsZX0sdC5Mb2dnZXI9ZSl9KShGKX0pKEIpO3ZhciB6PUIuZXhwb3J0cyxEPVcoeik7Y2xhc3Mgd3tjb25zdHJ1Y3Rvcih0KXt0aGlzLmRhdGE9dCx0aGlzLmJpdE9mZnNldD0wfXJlYWRCaXRzKHQpe2lmKHRoaXMuYml0T2Zmc2V0K3Q+dGhpcy5kYXRhLmxlbmd0aCo4KXRocm93IG5ldyBFcnJvcigiQXR0ZW1wdGVkIHRvIHJlYWQgcGFzdCB0aGUgZW5kIG9mIHRoZSBiaXRzdHJlYW0iKTtsZXQgZT0wO2ZvcihsZXQgcz0wO3M8dDtzKyspe2NvbnN0IHI9TWF0aC5mbG9vcih0aGlzLmJpdE9mZnNldC84KSxvPTctdGhpcy5iaXRPZmZzZXQlOCxhPXRoaXMuZGF0YVtyXT4+byYxO2V8PWE8PHQtMS1zLHRoaXMuYml0T2Zmc2V0Kyt9cmV0dXJuIGV9c2tpcCh0KXt0aGlzLmJpdE9mZnNldCs9dH1yZWFkRXhwR29sb21iVW5zaWduZWQoKXtsZXQgdD0tMTtmb3IobGV0IGU9MDtlPT09MDt0KyspZT10aGlzLnJlYWRCaXRzKDEpO3JldHVybigxPDx0KS0xK3RoaXMucmVhZEJpdHModCl9cmVhZEV4cEdvbG9tYlNpZ25lZCgpe2NvbnN0IHQ9dGhpcy5yZWFkRXhwR29sb21iVW5zaWduZWQoKTtyZXR1cm4gdCUyPT09MD8tKHQvMik6KHQrMSkvMn19Y29uc3QgbT17U0xJQ0VfTk9OX0lEUjoxLFNMSUNFX1BBUlRJVElPTl9BOjIsU0xJQ0VfSURSOjUsU0VJX0gyNjQ6NixTRUlfSDI2NV9QUkVGSVg6MzksU0VJX0gyNjVfU1VGRklYOjQwLFNQU19IMjY0OjcsU1BTX0gyNjU6MzMsUFBTX0gyNjQ6OCxQUFNfSDI2NTozNH0sUj17UElDX1RJTUlORzoxLFVTRVJfREFUQV9VTlJFR0lTVEVSRUQ6NX0sRT17TEVHQUNZOjEsTkVXOjIsVElNRUNPREU6MyxPVEhFUjo0fSxqPSI2ZTljZmQyYS01OTA3LTQ5ZmYtYjM2My04OTc4YTZlODM0MGUiLHE9IjlhMjFmM2JlLTMxZjAtNGI3OC1iMGJlLWM3ZjdkYmI5NzI1MCIsTD0iZDQwZTM4ZWEtZDQxOS00YzYyLTk0ZWQtMjBhYzM3YjRlNGZhIjtjbGFzcyBWe2NvbnN0cnVjdG9yKHQ9IkgyNjQiKXt0aGlzLnNwcz1uZXcgTWFwLHRoaXMucHBzPW5ldyBNYXAsdGhpcy5hY3RpdmVTUFM9bnVsbCx0aGlzLmNvZGVjPXR9Y29sbGVjdFBQUyh0KXt0aGlzLmNvZGVjPT09IkgyNjQiP3RoaXMuY29sbGVjdEgyNjRQUFModCk6dGhpcy5jb2xsZWN0SDI2NVBQUyh0KX1jb2xsZWN0U1BTKHQpe3RoaXMuY29kZWM9PT0iSDI2NCI/dGhpcy5jb2xsZWN0SDI2NFNQUyh0KTp0aGlzLmNvbGxlY3RIMjY1U1BTKHQpfWNvbGxlY3RIMjY0U1BTKHQpe2NvbnN0IGU9bmV3IHcodCkscz1lLnJlYWRCaXRzKDgpLHI9WzEwMCwxMTAsMTIyLDI0NCw0NCw4Myw4NiwxMTgsMTI4LDEzOCwxMzksMTM0LDEzNV07ZS5za2lwKDgpLGUuc2tpcCg4KTtjb25zdCBvPWUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCk7aWYobz4zMXx8bzwwKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBzZXFfcGFyYW1ldGVyX3NldF9pZCIpO2lmKHIuaW5jbHVkZXMocykpe2NvbnN0IGw9ZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKTtpZihsPT09MyYmZS5za2lwKDEpLGUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCksZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKSxlLnNraXAoMSksZS5yZWFkQml0cygxKSl7Y29uc3QgaT1sIT09Mz84OjEyO2ZvcihsZXQgdT0wO3U8aTt1KyspaWYoZS5yZWFkQml0cygxKSl7Y29uc3QgaD11PDY/MTY6NjQ7bGV0IGM9OCxwPTg7Zm9yKGxldCBfPTA7XzxoO18rKyl7aWYocCE9PTApe2NvbnN0IGc9ZS5yZWFkRXhwR29sb21iU2lnbmVkKCk7cD0oYytnKzI1NiklMjU2fWM9cD09PTA/YzpwfX19fWUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCk7Y29uc3QgYT1lLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpO2lmKGE9PT0wKWUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCk7ZWxzZSBpZihhPT09MSl7ZS5za2lwKDEpLGUucmVhZEV4cEdvbG9tYlNpZ25lZCgpLGUucmVhZEV4cEdvbG9tYlNpZ25lZCgpO2NvbnN0IGw9ZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKTtmb3IobGV0IGY9MDtmPGw7ZisrKWUucmVhZEV4cEdvbG9tYlNpZ25lZCgpfWUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCksZS5za2lwKDEpLGUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCksZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKSxlLnJlYWRCaXRzKDEpPT09MCYmZS5za2lwKDEpLGUuc2tpcCgxKSxlLnJlYWRCaXRzKDEpJiYoZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKSxlLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpLGUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCksZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKSk7bGV0IGQ7aWYoZS5yZWFkQml0cygxKSl7bGV0IGY9ZnVuY3Rpb24oYyl7Y29uc3QgcD1jLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpO2Muc2tpcCg0KSxjLnNraXAoNCk7Zm9yKGxldCB4PTA7eDw9cDt4KyspYy5yZWFkRXhwR29sb21iVW5zaWduZWQoKSxjLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpLGMuc2tpcCgxKTtjLnNraXAoNSk7Y29uc3QgXz1jLnJlYWRCaXRzKDUpLGc9Yy5yZWFkQml0cyg1KSxBPWMucmVhZEJpdHMoNSk7cmV0dXJue2NwYl9yZW1vdmFsX2RlbGF5X2xlbmd0aF9taW51czE6XyxkcGJfb3V0cHV0X2RlbGF5X2xlbmd0aF9taW51czE6Zyx0aW1lX29mZnNldF9sZW5ndGg6QX19O2UucmVhZEJpdHMoMSkmJmUucmVhZEJpdHMoOCk9PT0yNTUmJihlLnNraXAoMTYpLGUuc2tpcCgxNikpLGUucmVhZEJpdHMoMSkmJmUuc2tpcCgxKSxlLnJlYWRCaXRzKDEpJiYoZS5za2lwKDMpLGUuc2tpcCgxKSxlLnJlYWRCaXRzKDEpJiZlLnNraXAoMjQpKSxlLnJlYWRCaXRzKDEpJiYoZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKSxlLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpKTtjb25zdCBsPWUucmVhZEJpdHMoMSk/e251bV91bml0c19pbl90aWNrOmUucmVhZEJpdHMoMzIpLHRpbWVfc2NhbGU6ZS5yZWFkQml0cygzMiksZml4ZWRfZnJhbWVfcmF0ZV9mbGFnOmUucmVhZEJpdHMoMSl9OnZvaWQgMCxpPWUucmVhZEJpdHMoMSk/ZihlKTp2b2lkIDAsdT1lLnJlYWRCaXRzKDEpP2YoZSk6dm9pZCAwOyhpfHx1KSYmZS5za2lwKDEpO2NvbnN0IGg9ZS5yZWFkQml0cygxKTtkPXt0aW1pbmdfaW5mbzpsLG5hbF9ocmRfcGFyYW1ldGVyczppLHZjbF9ocmRfcGFyYW1ldGVyczp1LHBpY19zdHJ1Y3RfcHJlc2VudF9mbGFnOmh9fXRoaXMuc3BzLnNldChvLHt2dWlfcGFyYW1ldGVyczpkfSl9Y29sbGVjdEgyNjVTUFModCl7fWNvbGxlY3RIMjY0UFBTKHQpe2NvbnN0IGU9bmV3IHcodCkscz1lLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpO2lmKHM+MjU1fHxzPDApdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIHBpY19wYXJhbWV0ZXJfc2V0X2lkIik7Y29uc3Qgcj1lLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpO3RoaXMucHBzLnNldChzLHtzZXFfcGFyYW1ldGVyX3NldF9pZDpyfSl9Y29sbGVjdEgyNjVQUFModCl7fWZpbmRBY3RpdmVTUFModCl7Y29uc3QgZT1uZXcgdyh0KTtlLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpLGUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCk7Y29uc3Qgcz1lLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpLHI9dGhpcy5wcHMuZ2V0KHMpO2lmKHIpe2NvbnN0IG89dGhpcy5zcHMuZ2V0KHIuc2VxX3BhcmFtZXRlcl9zZXRfaWQpO2lmKG8pe3RoaXMuYWN0aXZlU1BTPW87cmV0dXJufX10aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBmaW5kIHRoZSBhY3RpdmUgU1BTIil9fWNvbnN0IFM9bmV3IFY7ZnVuY3Rpb24gRyhuLHQpe2Zvcig7dDxuLmJ5dGVMZW5ndGgtNDspe2lmKG5bdF09PT0wJiZuW3QrMV09PT0wJiYoblt0KzJdPT09MXx8blt0KzJdPT09MCYmblt0KzNdPT09MSkpcmV0dXJuIHQ7dCs9MX1yZXR1cm4tMX1mdW5jdGlvbiBVKG4pe2NvbnN0IHQ9bmV3IFVpbnQ4QXJyYXkobi5ieXRlTGVuZ3RoKTtsZXQgZT0wLHM9MDtmb3IobGV0IHI9MjtyPG4uYnl0ZUxlbmd0aDtyKyspbltyXT09PTMmJm5bci0xXT09PTAmJm5bci0yXT09PTAmJih0LnNldChuLnN1YmFycmF5KHMsciksZSksZSs9ci1zLHM9cisxKTtyZXR1cm4gczxuLmJ5dGVMZW5ndGgmJnQuc2V0KG4uc3ViYXJyYXkocyksZSksdH1mdW5jdGlvbiBZKG4sdCl7bGV0IGU9MDtjb25zdCBzPXQ9PT0iSDI2NCI/MToyLHI9W107Zm9yKDtlPG4uYnl0ZUxlbmd0aC00Oyl7Y29uc3Qgbz1HKG4sZSk7aWYobz49ZSl7Y29uc3QgYT1uW28rMl09PT0xPzM6NCxkPUcobixvK2Ercyk7aWYoZD5vKXIucHVzaChuLnN1YmFycmF5KG8sZCkpLGU9ZDtlbHNle3IucHVzaChuLnN1YmFycmF5KG8pKTticmVha319ZWxzZSBicmVha31yZXR1cm4gcn1mdW5jdGlvbiBYKG4sdCl7bGV0IGU9ITA7cmV0dXJuIFkobix0KS5maWx0ZXIocz0+e2NvbnN0IHI9c1syXT09PTE/Mzo0LG89dD09PSJIMjY0Ij8xOjIsYT1zW3JdLGQ9dD09PSJIMjY0Ij9hJjMxOmE+PjEmNjM7aWYoZSlzd2l0Y2goZCl7Y2FzZSBtLlBQU19IMjY0OmNhc2UgbS5QUFNfSDI2NTpTLmNvbGxlY3RQUFMoVShzLnN1YmFycmF5KHIrbykpKTticmVhaztjYXNlIG0uU1BTX0gyNjQ6Y2FzZSBtLlNQU19IMjY1OlMuY29sbGVjdFNQUyhVKHMuc3ViYXJyYXkocitvKSkpO2JyZWFrO2Nhc2UgbS5TTElDRV9JRFI6Y2FzZSBtLlNMSUNFX05PTl9JRFI6Y2FzZSBtLlNMSUNFX1BBUlRJVElPTl9BOnRyeXtTLmZpbmRBY3RpdmVTUFMoVShzLnN1YmFycmF5KHIrbykpKSxlPSExfWNhdGNoKGwpe2NvbnNvbGUuaW5mbygiRmFpbGVkIHRvIGZpbmQgYWN0aXZlIFNQUy4gV2lsbCBub3QgYmUgYWJsZSB0byBleHRyYWN0IFBJQyB0aW1pbmcgbWV0YWRhdGEiKX1icmVha31yZXR1cm5bbS5TRUlfSDI2NCxtLlNFSV9IMjY1X1BSRUZJWCxtLlNFSV9IMjY1X1NVRkZJWF0uaW5jbHVkZXMoZCl9KX1mdW5jdGlvbiAkKG4pe2xldCB0PTAsZT0wO2Zvcig7bltlXT09PTI1NTspdCs9MjU1LGUrKzt0Kz1uW2VdLGUrKztsZXQgcz0wO2Zvcig7bltlXT09PTI1NTspcys9MjU1LGUrKztyZXR1cm4gcys9bltlXSxlKysse3R5cGU6dCxjb250ZW50Om4uc3ViYXJyYXkoZSxlK3MpfX1mdW5jdGlvbiBKKG4pe2NvbnN0IHQ9bmV3IFVpbnQ4QXJyYXkoVChxKSksZT1uZXcgVWludDhBcnJheShUKGopKSxzPW5ldyBVaW50OEFycmF5KFQoTCkpO3JldHVybiB0LmV2ZXJ5KChyLG8pPT5yPT09bltvXSk/RS5USU1FQ09ERTplLmV2ZXJ5KChyLG8pPT5yPT09bltvXSk/RS5MRUdBQ1k6cy5ldmVyeSgocixvKT0+cj09PW5bb10pP0UuTkVXOkUuT1RIRVJ9ZnVuY3Rpb24gSyhuLHQpe2xldCBlPTA7bi51dWlkPXQuc3ViYXJyYXkoZSxlKzE2KSxlKz0xNjtjb25zdCBzPUoobi51dWlkKSxyPXQuc3ViYXJyYXkoZSk7c3dpdGNoKHMpe2Nhc2UgRS5MRUdBQ1k6Y2FzZSBFLk9USEVSOm4udW5yZWdpc3RlcmVkPXI7YnJlYWs7Y2FzZSBFLlRJTUVDT0RFOm4udGltZWNvZGU9TyhyKTticmVhaztjYXNlIEUuTkVXOntsZXQgbz0wO2NvbnN0IGE9QyhEYXRlLm5vdygpKS5sZW5ndGgsZD1yLnN1YmFycmF5KG8sYSk7bys9YTtjb25zdCBsPXIuc3ViYXJyYXkobyk7bi50aW1lY29kZT1PKGQpLG4udW5yZWdpc3RlcmVkPWw7YnJlYWt9fX1mdW5jdGlvbiBPKG4pe2NvbnN0IHQ9bi5yZWR1Y2UoKG8sYSk9PihvPDxCaWdJbnQoOCkpK0JpZ0ludChhKSxCaWdJbnQoMCkpLGU9TnVtYmVyKHQpLHM9bmV3IERhdGUoZSk7cmV0dXJuIG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShzLnRvSVNPU3RyaW5nKCkpfWZ1bmN0aW9uIFoobix0KXt2YXIgZixpLHUsaCxjO2lmKCFTLmFjdGl2ZVNQUyl7Y29uc29sZS53YXJuKCJDYW5ub3QgZmluZCB0aGUgYWN0aXZlIFNQUyIpO3JldHVybn1jb25zdCBlPShmPVMuYWN0aXZlU1BTLnZ1aV9wYXJhbWV0ZXJzLm5hbF9ocmRfcGFyYW1ldGVycykhPW51bGw/ZjpTLmFjdGl2ZVNQUy52dWlfcGFyYW1ldGVycy52Y2xfaHJkX3BhcmFtZXRlcnMscz17Y3BiX2RwYl9kZWxheXNfcHJlc2VudF9mbGFnOmU/MTowLGNwYl9yZW1vdmFsX2RlbGF5X2xlbmd0aF9taW51czE6KGk9ZT09bnVsbD92b2lkIDA6ZS5jcGJfcmVtb3ZhbF9kZWxheV9sZW5ndGhfbWludXMxKSE9bnVsbD9pOjIzLGRwYl9vdXRwdXRfZGVsYXlfbGVuZ3RoX21pbnVzMToodT1lPT1udWxsP3ZvaWQgMDplLmRwYl9vdXRwdXRfZGVsYXlfbGVuZ3RoX21pbnVzMSkhPW51bGw/dToyMyx0aW1lX29mZnNldF9sZW5ndGg6ZT8oaD1lLnRpbWVfb2Zmc2V0X2xlbmd0aCkhPW51bGw/aDoyNDp2b2lkIDAscGljX3N0cnVjdF9wcmVzZW50X2ZsYWc6KGM9Uy5hY3RpdmVTUFMudnVpX3BhcmFtZXRlcnMucGljX3N0cnVjdF9wcmVzZW50X2ZsYWcpIT1udWxsP2M6MH07aWYoIXMucGljX3N0cnVjdF9wcmVzZW50X2ZsYWcpe2NvbnNvbGUud2FybigicGljX3N0cnVjdF9wcmVzZW50X2ZsYWcgaXMgbm90IHByZXNlbnQiKTtyZXR1cm59Y29uc3Qgcj1uZXcgdyh0KTtzLmNwYl9kcGJfZGVsYXlzX3ByZXNlbnRfZmxhZyYmKHIuc2tpcChzLmNwYl9yZW1vdmFsX2RlbGF5X2xlbmd0aF9taW51czErMSksci5za2lwKHMuZHBiX291dHB1dF9kZWxheV9sZW5ndGhfbWludXMxKzEpKTtjb25zdCBvPVsxLDEsMSwyLDIsMywzLDIsM10sYT1yLnJlYWRCaXRzKDQpO2lmKGE+PW8ubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBwaWNfc3RydWN0Iik7Y29uc3QgZD1vW2FdLGw9W107Zm9yKGxldCBwPTA7cDxkO3ArKylpZihyLnJlYWRCaXRzKDEpKXtjb25zdCBnPXt9O3Iuc2tpcCgyKSxyLnNraXAoMSksci5za2lwKDUpO2NvbnN0IEE9ci5yZWFkQml0cygxKTtpZihyLnNraXAoMiksZy5uX2ZyYW1lcz1yLnJlYWRCaXRzKDgpLEE/KGcuc2Vjb25kc192YWx1ZT1yLnJlYWRCaXRzKDYpLGcubWludXRlc192YWx1ZT1yLnJlYWRCaXRzKDYpLGcuaG91cnNfdmFsdWU9ci5yZWFkQml0cyg1KSk6ci5yZWFkQml0cygxKSYmKGcuc2Vjb25kc192YWx1ZT1yLnJlYWRCaXRzKDYpLHIucmVhZEJpdHMoMSkmJihnLm1pbnV0ZXNfdmFsdWU9ci5yZWFkQml0cyg2KSxyLnJlYWRCaXRzKDEpJiYoZy5ob3Vyc192YWx1ZT1yLnJlYWRCaXRzKDUpKSkpLHMudGltZV9vZmZzZXRfbGVuZ3RoKXRyeXtnLnRpbWVfb2Zmc2V0PXIucmVhZEJpdHMocy50aW1lX29mZnNldF9sZW5ndGgpfWNhdGNoKHgpe2NvbnNvbGUuZXJyb3IoIkZhaWxlZCB0byByZWFkIHRpbWVfb2Zmc2V0Iix4KSxnLnRpbWVfb2Zmc2V0PTB9ZWxzZSBnLnRpbWVfb2Zmc2V0PTA7bC5wdXNoKGcpfW4uc2VpUGljVGltaW5nVGltZUNvZGVBcnJheT1sfWZ1bmN0aW9uIFEobix0KXtpZih0IT09IkgyNjQiJiZ0IT09IkgyNjUiKXRocm93IG5ldyBFcnJvcigiVW5zdXBwb3J0ZWQgY29kZWMgIi5jb25jYXQodCkpO2NvbnN0IGU9e307cmV0dXJuIFMuY29kZWM9dCxYKG5ldyBVaW50OEFycmF5KG4uZGF0YSksdCkuZm9yRWFjaChzPT57Y29uc3Qgcj1zWzJdPT09MT8zOjQsbz10PT09IkgyNjQiPzE6MixhPVUocy5zdWJhcnJheShyK28pKSxkPSQoYSk7c3dpdGNoKGQudHlwZSl7Y2FzZSBSLlBJQ19USU1JTkc6WihlLGQuY29udGVudCk7YnJlYWs7Y2FzZSBSLlVTRVJfREFUQV9VTlJFR0lTVEVSRUQ6SyhlLGQuY29udGVudCk7YnJlYWt9fSksZX1mdW5jdGlvbiBlZShuKXtyZXR1cm4vXlswLTlhLWZBLUZdezh9LVswLTlhLWZBLUZdezR9LVswLTlhLWZBLUZdezR9LVswLTlhLWZBLUZdezR9LVswLTlhLWZBLUZdezEyfSQvLnRlc3Qobil9ZnVuY3Rpb24gVChuKXtyZXR1cm4gbi5yZXBsYWNlKC8tL2csIiIpLm1hdGNoKC8uezEsMn0vZykubWFwKHQ9PnBhcnNlSW50KHQsMTYpKX1mdW5jdGlvbiB0ZShuLHQsZSl7Y29uc3Qgcz1uZXcgVWludDhBcnJheShUKG4pKSxyPUMoZSksbz1uZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoSlNPTi5zdHJpbmdpZnkodCkpLGE9bmV3IFVpbnQ4QXJyYXkocy5sZW5ndGgrci5sZW5ndGgrby5sZW5ndGgpO3JldHVybiBhLnNldChzKSxhLnNldChyLHMubGVuZ3RoKSxhLnNldChvLHIubGVuZ3RoK3MubGVuZ3RoKSxhfWZ1bmN0aW9uIG5lKG4pe2NvbnN0IHQ9W10sZT1NYXRoLmZsb29yKG4uYnl0ZUxlbmd0aC8yNTUpLHM9bi5ieXRlTGVuZ3RoJTI1NTtmb3IobGV0IHI9MDtyPGU7cisrKXQucHVzaCgyNTUpO3JldHVybiB0LnB1c2gocyksbmV3IFVpbnQ4QXJyYXkoWzUsLi4udF0pfWZ1bmN0aW9uIHJlKG4pe2NvbnN0IHQ9W107Zm9yKGxldCBlPTA7ZTxuLmJ5dGVMZW5ndGg7ZSsrKWUrMjxuLmJ5dGVMZW5ndGgmJlswLDEsMiwzXS5pbmNsdWRlcyhuW2UrMl0pJiZuW2VdPT09MCYmbltlKzFdPT09MD8odC5wdXNoKG5bZV0pLHQucHVzaChuW2UrMV0pLGUrPTIsdC5wdXNoKDMpKTp0LnB1c2gobltlXSk7cmV0dXJuIHQucHVzaCgxMjgpLG5ldyBVaW50OEFycmF5KHQpfWZ1bmN0aW9uIEMobil7Y29uc3QgdD1bXTtpZighaXNOYU4obikpe2NvbnN0IGU9QmlnSW50KG4pO2ZvcihsZXQgcz0wO3M8TWF0aC5jZWlsKE1hdGguZmxvb3IoTWF0aC5sb2cyKG5ldyBOdW1iZXIobikpKzEpLzgpO3MrKyl0LnVuc2hpZnQobmV3IE51bWJlcihlPj5CaWdJbnQoOCpzKSZCaWdJbnQoMjU1KSkpfXJldHVybiBuZXcgVWludDhBcnJheSh0KX1mdW5jdGlvbiBzZSh7dXVpZDpuLHBheWxvYWQ6dCx0aW1lY29kZTplfSl7Y29uc3Qgcz1bMCwwLDAsMV0scj1bMTAyXSxvPXRlKG4sdCxlKSxhPW5lKG8pLGQ9cmUobyksbD1uZXcgVWludDhBcnJheShzLmxlbmd0aCtyLmxlbmd0aCthLmxlbmd0aCtkLmxlbmd0aCk7cmV0dXJuIGwuc2V0KHMpLGwuc2V0KHIscy5sZW5ndGgpLGwuc2V0KGEscy5sZW5ndGgrci5sZW5ndGgpLGwuc2V0KGQscy5sZW5ndGgrci5sZW5ndGgrYS5sZW5ndGgpLGx9ZnVuY3Rpb24gaWUoe3V1aWQ6bixwYXlsb2FkOnQsdGltZWNvZGU6ZX0scyl7aWYobj09PSIifHx0PT09IiIpdGhyb3cgbmV3IEVycm9yKCJ1dWlkIGFuZCBwYXlsb2FkIGNhbm5vdCBiZSBlbXB0eSIpO2VlKG4pfHwoY29uc29sZS53YXJuKCJJbnZhbGlkIFVVSUQuIFVzaW5nIGRlZmF1bHQgVVVJRC4iKSxuPUwsZT1EYXRlLm5vdygpKTtjb25zdCByPXNlKHt1dWlkOm4scGF5bG9hZDp0LHRpbWVjb2RlOmV9KSxvPW5ldyBEYXRhVmlldyhzLmRhdGEpLGE9bmV3IEFycmF5QnVmZmVyKHMuZGF0YS5ieXRlTGVuZ3RoK3IuYnl0ZUxlbmd0aCksZD1uZXcgRGF0YVZpZXcoYSk7Zm9yKGxldCBsPTA7bDxzLmRhdGEuYnl0ZUxlbmd0aDtsKyspZC5zZXRVaW50OChsLG8uZ2V0VWludDgobCkpO2ZvcihsZXQgbD0wO2w8ci5ieXRlTGVuZ3RoO2wrKylkLnNldFVpbnQ4KHMuZGF0YS5ieXRlTGVuZ3RoK2wscltsXSk7cy5kYXRhPWF9RC5nZXQoIlRyYW5zZm9ybVdvcmtlciIpLnNldExldmVsKEQuREVCVUcpO2NvbnN0IG9lPTJlMyxiPVtdO2xldCB5PSIiLFA9e307Y29uc3Qgdj17fTtsZXQgST1bXTtmdW5jdGlvbiBIKG4pe3JldHVybiBuZXcgVHJhbnNmb3JtU3RyZWFtKHtzdGFydCgpe30sZmx1c2goKXt9LGFzeW5jIHRyYW5zZm9ybSh0LGUpe3ZhciBzLHI7aWYodCBpbnN0YW5jZW9mIFJUQ0VuY29kZWRWaWRlb0ZyYW1lKXtjb25zdCBvPSgocz1QW3QuZ2V0TWV0YWRhdGEoKS5wYXlsb2FkVHlwZV0pPT1udWxsP3ZvaWQgMDpzLnRvVXBwZXJDYXNlKCkpfHwoeT09bnVsbD92b2lkIDA6eS50b1VwcGVyQ2FzZSgpKTtpZihvPT09IkgyNjQiKXtjb25zdCBhPVEodCxvKTsoYS50aW1lY29kZXx8YS51bnJlZ2lzdGVyZWR8fCgocj1hLnNlaVBpY1RpbWluZ1RpbWVDb2RlQXJyYXkpPT1udWxsP3ZvaWQgMDpyLmxlbmd0aCk+MCkmJnNlbGYucG9zdE1lc3NhZ2Uoe2V2ZW50OiJtZXRhZGF0YSIsbWlkOm4sbWV0YWRhdGE6YX0pfXNlbGYucG9zdE1lc3NhZ2Uoe2V2ZW50OiJjb21wbGV0ZSIsZnJhbWU6e3R5cGU6dC50eXBlLHRpbWVzdGFtcDp0LnRpbWVzdGFtcCxkYXRhOnQuZGF0YX19KX1lLmVucXVldWUodCl9fSl9ZnVuY3Rpb24gTSgpe09iamVjdC5rZXlzKHYpLnNvcnQoKS5qb2luKCk9PT1JLnNvcnQoKS5qb2luKCkmJihiLnNoaWZ0KCksST1bXSl9ZnVuY3Rpb24gYWUobil7Y29uc3QgdD1uZXcgRGF0ZSgpLmdldFRpbWUoKTt2W25dPXQsT2JqZWN0LmtleXModikuZmlsdGVyKHM9PnQtdltzXT5vZSkuZm9yRWFjaChzPT57ZGVsZXRlIHZbc10sZGVsZXRlIElbc119KSxNKCl9ZnVuY3Rpb24gTigpe3JldHVybiBuZXcgVHJhbnNmb3JtU3RyZWFtKHtzdGFydCgpe30sZmx1c2goKXt9LGFzeW5jIHRyYW5zZm9ybShuLHQpe2lmKG4gaW5zdGFuY2VvZiBSVENFbmNvZGVkVmlkZW9GcmFtZSl7Y29uc3Qgcz1uLmdldE1ldGFkYXRhKCkuc3luY2hyb25pemF0aW9uU291cmNlO2lmKGFlKHMpLCFJLmluY2x1ZGVzKHMpJiZiLmxlbmd0aCl0cnl7aWYoIS8oaDI2WzRdKS8udGVzdCh5KSl0aHJvdyBuZXcgRXJyb3IoIlNlbmRpbmcgbWV0YWRhdGEgaXMgbm90IHN1cHBvcnRlZCB3aXRoIGFueSBvdGhlciBjb2RlYyBvdGhlciB0aGFuIEguMjY0Iik7YlswXS51dWlkPT09TCYmKGJbMF0udGltZWNvZGU9RGF0ZS5ub3coKSksaWUoYlswXSxuKSxJLnB1c2gocyl9Y2F0Y2gocil7Y29uc29sZS5lcnJvcihyKX1maW5hbGx5e00oKX19dC5lbnF1ZXVlKG4pfX0pfWZ1bmN0aW9uIGsoe3JlYWRhYmxlOm4sd3JpdGFibGU6dH0sZSl7bi5waXBlVGhyb3VnaChlKS5waXBlVG8odCl9YWRkRXZlbnRMaXN0ZW5lcigicnRjdHJhbnNmb3JtIixuPT57bGV0IHQ7aWYobi50cmFuc2Zvcm1lci5vcHRpb25zLm5hbWU9PT0ic2VuZGVyVHJhbnNmb3JtIil5PW4udHJhbnNmb3JtZXIub3B0aW9ucy5jb2RlYyx0PU4oKTtlbHNlIGlmKG4udHJhbnNmb3JtZXIub3B0aW9ucy5uYW1lPT09InJlY2VpdmVyVHJhbnNmb3JtIilQPW4udHJhbnNmb3JtZXIub3B0aW9ucy5wYXlsb2FkVHlwZUNvZGVjfHx7fSx5PW4udHJhbnNmb3JtZXIub3B0aW9ucy5jb2RlY3x8IiIsdD1IKG4udHJhbnNmb3JtZXIub3B0aW9ucy5taWQpO2Vsc2UgcmV0dXJuO2sobi50cmFuc2Zvcm1lcix0KX0pLGFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLG49Pntjb25zdHthY3Rpb246dH09bi5kYXRhO3N3aXRjaCh0KXtjYXNlImluc2VydGFibGUtc3RyZWFtcy1zZW5kZXIiOnk9bi5kYXRhLmNvZGVjLGsobi5kYXRhLE4oKSk7YnJlYWs7Y2FzZSJpbnNlcnRhYmxlLXN0cmVhbXMtcmVjZWl2ZXIiOlA9bi5kYXRhLnBheWxvYWRUeXBlQ29kZWN8fHt9LHk9bi5kYXRhLmNvZGVjfHwiIixrKG4uZGF0YSxIKG4uZGF0YS5taWQpKTticmVhaztjYXNlIm1ldGFkYXRhLXNlaS11c2VyLWRhdGEtdW5yZWdpc3RlcmVkIjpiLnB1c2goe3V1aWQ6bi5kYXRhLnV1aWQscGF5bG9hZDpuLmRhdGEucGF5bG9hZH0pO2JyZWFrfX0pfSkoKTsK",ge=("undefined"==typeof self?"undefined":U(self))<"u"&&self.Blob&&new Blob([function(t){return E.from(atob(t),(function(t){return t.charCodeAt(0)}))}(le)],{type:"text/javascript;charset=utf-8"});function we(t){var n;try{if(!(n=ge&&(self.URL||self.webkitURL).createObjectURL(ge)))throw"";var i=new I(n,{name:null==t?void 0:t.name});return i.addEventListener("error",(function(){(self.URL||self.webkitURL).revokeObjectURL(n)})),i}catch(n){return new I("data:text/javascript;base64,"+le,{name:null==t?void 0:t.name})}finally{n&&(self.URL||self.webkitURL).revokeObjectURL(n)}}var me=gt.get("Publish"),ye={mediaStream:null,bandwidth:0,metadata:!1,disableVideo:!1,disableAudio:!1,codec:wr.H264,simulcast:!1,scalabilityMode:null,peerConfig:{autoInitStats:!0,statsIntervalMs:1e3}},pe=function(t){function n(n,i,r){return void 0===r&&(r=!0),n&&me.warn("The streamName property has been deprecated. In a future release, this will be removed. Please do not rely on this value. Instead, set via token generator"),t.call(this,null,i,me,r)||this}It(n,t);var i=n.prototype;return i.connect=function(t){void 0===t&&(t=ye);var n=this;return Zt((function(){var i,r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return r=ce.object({sourceId:ce.string(),stereo:ce.boolean(),dtx:ce.boolean(),absCaptureTime:ce.boolean(),dependencyDescriptor:ce.boolean(),mediaStream:ce.alternatives().try(ce.array().items(ce.object()),ce.object()),bandwidth:ce.number(),metadata:ce.boolean(),disableVideo:ce.boolean(),disableAudio:ce.boolean(),codec:(i=ce.string()).valid.apply(i,Ft(b.values(wr))),simulcast:ce.boolean(),scalabilityMode:ce.string(),peerConfig:ce.object(),record:ce.boolean(),events:ce.array().items(ce.string().valid("active","inactive","viewercount")),priority:ce.number()}),e=r.validate(t),u=e.error,s=e.value,u&&me.warn(u,s),n.options=R(w(w({},ye),t),{peerConfig:w(w({},ye.peerConfig),t.peerConfig),setSDPToPeer:!1}),n.options.metadata=n.options.metadata&&n.options.codec===wr.H264&&!n.options.disableVideo,[4,n.initConnection({migrate:!1})];case 1:return o.sent(),[2]}}))}))()},i.reconnect=function(n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){return i.options.mediaStream=null!=(e=null==(r=i.webRTCPeer)?void 0:r.getTracks())?e:i.options.mediaStream,t.prototype.reconnect.call(i,n),[2]}))}))()},i.replaceConnection=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:return me.info("Migrating current connection"),t.options.mediaStream=null!=(i=null==(n=t.webRTCPeer)?void 0:n.getTracks())?i:t.options.mediaStream,[4,t.initConnection({migrate:!0})];case 1:return r.sent(),[2]}}))}))()},i.record=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.recordingAvailable?(t.options.record=!0,[4,null==(n=t.signaling)?void 0:n.cmd("record")]):[3,2];case 1:return i.sent(),me.info("Broadcaster start recording"),[3,3];case 2:me.error("Record not available"),i.label=3;case 3:return[2]}}))}))()},i.unrecord=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.recordingAvailable?(t.options.record=!1,[4,null==(n=t.signaling)?void 0:n.cmd("unrecord")]):[3,2];case 1:return i.sent(),me.info("Broadcaster stop recording"),[3,3];case 2:me.error("Unrecord not available"),i.label=3;case 3:return[2]}}))}))()},i.stop=function(){var n;t.prototype.stop.call(this),null==(n=this.worker)||n.terminate(),this.worker=null},i.initConnection=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c,h,f,v,d,l,g,w,m;return Ht(this,(function(y){switch(y.label){case 0:if(me.debug("Broadcast option values: ",n.options),n.stopReconnection=!1,!n.options.mediaStream)throw me.error("Error while broadcasting. MediaStream required"),new p("MediaStream required");if(!t.migrate&&n.isActive())throw me.warn("Broadcast currently working"),new p("Broadcast currently working");y.label=1;case 1:return y.trys.push([1,3,,4]),[4,n.tokenGenerator()];case 2:return u=y.sent(),n.options.peerConfig.iceServers=null==u?void 0:u.iceServers,n.options.peerConfig.encodedInsertableStreams=n.options.metadata,[3,4];case 3:throw s=y.sent(),me.error("Error generating token."),s instanceof zr&&(401!==s.status&&n.autoReconnect?n.reconnect():n.stopReconnection=!0),s;case 4:if(!u)throw me.error("Error while broadcasting. Publisher data required"),new p("Publisher data required");if(o=ee(u.jwt),n.streamName=o.millicast.streamName,n.recordingAvailable=o[se.atob("bWlsbGljYXN0")].record,n.options.record&&!n.recordingAvailable)throw me.error("Error while broadcasting. Record option detected but recording is not available"),new p("Record option detected but recording is not available");return a=new Xr({streamName:n.streamName,url:"".concat(u.urls[0],"?token=").concat(u.jwt)}),[4,(c=t.migrate?new Ar:n.webRTCPeer).createRTCPeer(n.options.peerConfig,pr)];case 5:return y.sent(),null==(i=n.stopReemitingWebRTCPeerInstanceEvents)||i.call(n),null==(r=n.stopReemitingSignalingInstanceEvents)||r.call(n),n.stopReemitingWebRTCPeerInstanceEvents=Vt(c,n,[br.connectionStateChange]),n.stopReemitingSignalingInstanceEvents=Vt(a,n,[Zr]),h=c.getRTCLocalSDP(n.options),f=a.connect(),[4,et.all([h,f])];case 6:return e=y.sent(),v=e[0],n.options.metadata&&(n.worker||(n.worker=new we),n.getRTCPeerConnection().getSenders().forEach((function(t){if(de)t.transform=new RTCRtpScriptTransform(n.worker,{name:"senderTransform",codec:n.options.codec});else if(ve){var i=t.createEncodedStreams(),r=i.readable,e=i.writable;n.worker.postMessage({action:"insertable-streams-sender",codec:n.options.codec,readable:r,writable:e},[r,e])}}))),d=n.signaling,n.signaling=a,l=n.signaling.publish(v,n.options),g=c.peer.setLocalDescription(c.sessionDescription),[4,et.all([l,g])];case 7:return e=y.sent(),w=e[0],!n.options.disableVideo&&n.options.bandwidth>0&&(w=c.updateBandwidthRestriction(w,n.options.bandwidth)),[4,c.setRTCRemoteSDP(w)];case 8:return y.sent(),me.info("Broadcasting to streamName: ",n.streamName),m=n.webRTCPeer,n.webRTCPeer=c,n.setReconnect(),t.migrate&&n.webRTCPeer.on(br.connectionStateChange,(function(t){var n,i;["connected","disconnected","failed","closed"].includes(t)&&(null==(n=null==d?void 0:d.close)||n.call(d),null==(i=null==m?void 0:m.closeRTCPeer)||i.call(m),d=m=null)})),[2]}}))}))()},i.sendMetadata=function(t,n){var i;if(void 0===n&&(n="d40e38ea-d419-4c62-94ed-20ac37b4e4fa"),null!=(i=this.options)&&i.metadata&&this.worker)this.worker.postMessage({action:"metadata-sei-user-data-unregistered",uuid:n,payload:t});else{var r="Could not send metadata due to:";this.options?this.options.metadata?this.worker||(r+="\n- Stream not being published."):(r+="\n- Metadata option is not enabled.",this.options.codec!==wr.H264&&(r+="\n- Incompatible codec. Only H264 available."),this.options.disableVideo&&(r+="\n- Video disabled.")):r+="\n- Stream not being published.",me.warn(r)}},n}(he);function _e(t){if(!t)return new E;for(var n=t.length,i=new E(n/2),r=0;r<n;r+=2)i[r/2]=A(t.substr(r,2),16);return i}function be(t,n,i){if(b.prototype.hasOwnProperty.call(t,i)&&b.prototype.hasOwnProperty.call(n,i)){var r=t[i];t[i]=n[i],n[i]=r}else console.error('One or both objects do not have the property "'.concat(i,'"'))}function ke(t,n,i,r){return new(i||(i=et))((function(e,u){function s(t){try{a(r.next(t))}catch(t){u(t)}}function o(t){try{a(r.throw(t))}catch(t){u(t)}}function a(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(t){t(n)}))).then(s,o)}a((r=r.apply(t,n||[])).next())}))}var Ae,Te=Se;function Se(t,n){var i=Le();return(Se=function(t,n){return i[t-=257]})(t,n)}!function(){for(var t=Se,n=Le();;)try{if(A(t(266))/1*(-A(t(261))/2)+A(t(258))/3*(-A(t(264))/4)+-A(t(267))/5*(A(t(274))/6)+A(t(260))/7*(A(t(268))/8)+A(t(270))/9+-A(t(277))/10+A(t(263))/11==303379)break;n.push(n.shift())}catch(t){n.push(n.shift())}}();var Ee=l&&l[Te(276)]||"",Ie=l&&l.vendor||"",Re=!(null==f||!f[Te(273)]),Ce=Ee[Te(278)](Te(257)),Ne=!Ce&&Ie[Te(278)](Te(259)),De=!Ce&&!Ne&&Ee.includes(Te(272)),Pe=!Ce&&!Ne&&!De&&Ee[Te(278)](Te(275)),xe=(null===(Ae=null==l?void 0:l[Te(262)])||void 0===Ae?void 0:Ae[Te(271)])||(null==l?void 0:l[Te(271)])||"";function Le(){var t=["2403660vsbxKa","includes","Firefox","653511krAkNS","Apple","63eEorAu","2iQvmqu","userAgentData","13393182jRLBxS","4fTXBZP","Win32","74923SyWRbn","1345hVdNEb","21688LwGppn","Windows","132498ZoOcLo","platform","Edg","RTCRtpScriptTransform","9372dNMWWf","Chrome","userAgent"];return(Le=function(){return t})()}var Me={supportsRtpScriptTransform:Re,isFirefox:Ce,isSafari:Ne,isEdge:De,isChrome:Pe,platform:xe,isWindows:xe===Te(269)||xe===Te(265)},Oe=Be;function Be(t,n){var i=We();return(Be=function(t,n){return i[t-=185]})(t,n)}!function(){for(var t=Be,n=We();;)try{if(-A(t(380))/1+-A(t(354))/2+-A(t(464))/3*(A(t(486))/4)+-A(t(253))/5+A(t(377))/6+A(t(321))/7*(-A(t(285))/8)+-A(t(444))/9*(-A(t(279))/10)==657542)break;n.push(n.shift())}catch(t){n.push(n.shift())}}();var Ve=Me[Oe(496)];function Fe(t,n){var i=Oe,r=new E((0|t.byteLength)+(0|n[i(442)]));return r[i(311)](t,0),r[i(311)](n,0|t.byteLength),r}var Ue=function(t,n,i,r){var e=Oe,u=r[e(203)]||1;n*=u,i*=u;var s,o=(s=t)instanceof ArrayBuffer?s:s[Oe(492)],a=(t[e(447)]||0)+t[e(442)],c=(t[e(447)]||0)+n,h=k[e(389)](0,k[e(487)](c,a)),f=k[e(487)](h+k[e(389)](i,0),a);return new r(o,h/=u,(f/=u)-h)};function We(){var t=["[MSE] source buffer error","ManagedMediaSource","BYTES_PER_ELEMENT","types","ready","valid","Num frames in chunk: ","readBits","getTrackID","mvhd","parsePPS","encrypted","dependsOn","payload","len","moov","VMHD","mse","volume","h264","setUint16","tfdt","nextDts","avc1.","audioSampleAuxInfo","message","endMSE","width","hdlr","warn","traf","readBoolean","shift","mseReady","revokeObjectURL","smhd","dts","indexOf","<PROTECTINFO>","webkitsourceclose","onMSEClose","[H264Parser] IDR without SPS/PPS, not suitable for recovery",'VALUE="',"createObjectURL","</KID>","mdhd","SMHD","getFramePayload","tkhd","flush","clRtcDrmDebugLog","getBits","2598770DahMdb","dbgQueue","dispatch","DINF","http://schemas.microsoft.com/DRM/2007/03/PlayReadyHeader","isReady","sps","nalus","endOfStream","toString","UNKNOWN","Opus","minf","onError","stco","STSC","buffered","</KIDS>","initSegment","dinf","org.w3.clearkey","mp4track","keyFrame","units","mseEnded","videoSampleAuxInfo","41695210Plpuuo","splice","ended","bitLength","seq","url","8YyaFaO","com.apple.fps","[MSE] error: ","bitsAvailable","</WRMHEADER>","trex","setData","buffer error","slice","length","readUByte","mp4a","Unsupported DRM type ","mdia","fromCharCode",'<WRMHEADER xmlns="',"index","string","both","NDR","dOps","cenc","getPayload","bind","PPS","sourceBuffer","set","Checking codec","releaseBuffer","tenc","trak","flags",'/mp4; codecs="',"[H264Parser] Both IDR and non-IDR VCL NALUs found in the same frame","clRtcDrmCreateMediaDump","STSD","6352549TgZLxu","initBrowser","IDR","trun"," - ","start","mediaSource","startsWith","stype","readSPS","addEventListener","schi","encv","createElement","getVideoFrames","onReady","href","sourceopen","setUint32","vmhd","FTYP","schm","getData","toISOString","remuxer","track","skipScalingList","STSZ","getSize","addSourceBuffer","[MSE] buffer error:","appendBufferError","off","2392886zJoPkf","destroy","sdtp","audiosamplerate",": NRI: ","reportDiscontinuity","extractNALUs","No A/V data","pps","senc","saio","concat","config","ftyp","parseNAL","esds","error","feed","Browser does not support codec","4.3.0.0","skipUEG","mp4","end","2232924PKvVOf","updating","options","227868XbMqAn","prototype","createBuffer","info","MediaSource","timestamp","mvex","isfmb","opus","max","stsz","POSITIVE_INFINITY","saiz","timescale","call","encryption","height","jmuxer","bufferControllers","open","patchSampleAuxinfo","queue","stsd","onBufferError","frameCounter","ntype","remux","getPayloadSize","isSupported","</LA_URL>","waitingForIdr","box","idr"," samples - expected 1","tracks","stbl","getNri",'<KID ALGID="AESCTR" ',"download","readUInt","join","com.microsoft.playready.recommendation",'" version="',"remuxController","Received ","frma","resetTrack","disableRemotePlayback","</DATA>","mfhd","pssh","charCodeAt","drm","mediaDuration","video","readyToDecode","from","SPS","skipLZ","data","keySystem","[MSE] sourceclose","byteLength","STTS","9mESMVl","Buffered range ","samples","byteOffset","parseHeader","codec","node","audio","Failure: Browser doesn't support MSE/MMS","subarray","replaceAll","downloadToFile","onBuffer","skipBits","mdat","isKeyframe","moof","mode","push","STCO","9ffcUcC","listener","isReset","map","enca","type","<LA_URL>","parseSPS","getElementById","no video element were found to render, provide a valid video element","sinf","doAppend","HDLR_TYPES","videoElement","stts","keyId","trackTypes","TYPES","remove","size","AUD","src","1376748eVkTXq","min","tfhd","initialized","offAll","appendBuffer","buffer","nri","skipEG","isvcl","isSafari","isTypeSupported","readyState","abort","apply","reduce","assign","calculateExpectedSizeFromSai","duration","generatePlayReadyHeader","readUEG","onMSEOpen","sampleAuxInfo","SEI","irrecoverableError","channelCount","saiIvSize","stsc"];return(We=function(){return t})()}function Ze(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=1/0),Ue(t,n,i,E)}function Xe(t){var n=Oe,i=Array[n(436)](t)[n(467)]((function(t){return t[n(431)](0)}));return new E(i)}f[Oe(455)]=function(t,n,i){void 0===i&&(i="application/octet-stream");var r=Oe,e=v[r(334)]("a"),u=new Blob([t],{type:i});e[r(337)]=URL[r(244)](u),e[r(418)]=n,e.click(),URL[r(235)](e[r(337)])};var Ge=function(t,n,i,r,e,u,s,o,a,c){function h(t){var n=Oe;this.payload=t,this[n(493)]=(96&this.payload[0])>>5,this[n(405)]=31&this[n(214)][0],this[n(495)]=1==this.ntype||5==this[n(405)],this[n(329)]="",this[n(387)]=!1}var f=h.prototype;return f.toString=function(){var t=Oe;return h[t(469)](this)+t(358)+this[t(416)]()},f.getNri=function(){return this[Oe(493)]},f[u]=function(){return this[Oe(405)]},f[s]=function(){var t=Oe;return this[t(405)]===h[t(323)]},f[o]=function(){return this[Oe(214)]},f[a]=function(){var t=Oe;return this[t(214)][t(442)]},f.getSize=function(){return 4+this[Oe(407)]()},f[c]=function(){var t=Oe,n=new E(this.getSize());return new DataView(n.buffer)[t(339)](0,this.getSize()-4),n[t(311)](this[t(307)](),4),n},h.type=function(t){var n=Oe;return t[n(405)]in h[n(481)]?h[n(481)][t[n(405)]]:n(263)},Nt(h,null,[{key:t,get:function(){return 1}},{key:n,get:function(){return 5}},{key:i,get:function(){return 6}},{key:"SPS",get:function(){return 7}},{key:"PPS",get:function(){return 8}},{key:r,get:function(){return 9}},{key:e,get:function(){var t,n=Oe;return un(t={},h[n(323)],n(323)),un(t,h.SEI,n(196)),un(t,h.SPS,n(437)),un(t,h[n(309)],n(309)),un(t,h[n(304)],n(304)),un(t,h[n(484)],n(484)),t}}]),h}(Oe(304),Oe(323),Oe(196),Oe(484),Oe(481),Oe(469),Oe(459),Oe(307),Oe(407),Oe(343)),He=function(){function t(t){var n=Oe;this[n(439)]=t,this[n(301)]=0,this.bitLength=8*t[n(442)]}var n=t.prototype;return n[Oe(291)]=function(t){var n=Oe;this.data=t,this[n(301)]=0,this[n(282)]=8*t[n(442)]},n.skipBits=function(t){if(this[Oe(288)]<t)return!1;this.index+=t},n[Oe(208)]=function(t,n){return void 0===n&&(n=!0),this.getBits(t,this.index,n)},n[Oe(252)]=function(t,n,i){void 0===i&&(i=!0);var r=Oe;if(this.bitsAvailable<t)return 0;var e=n%8,u=this[r(439)][n/8|0]&255>>>e,s=8-e;if(s>=t)return i&&(this.index+=t),u>>s-t;i&&(this.index+=s);var o=t-s;return u<<o|this[r(252)](o,n+s,i)},n[Oe(438)]=function(){var t,n=Oe;for(t=0;t<this.bitLength-this[n(301)];++t)if(0!==this.getBits(1,this[n(301)]+t,!1))return this.index+=t,t;return t},n[Oe(374)]=function(){var t=Oe;this[t(457)](1+this[t(438)]())},n[Oe(494)]=function(){var t=Oe;this[t(457)](1+this[t(438)]())},n.readUEG=function(){var t=Oe,n=this[t(438)]();return this[t(208)](n+1)-1},n.readEG=function(){var t=this[Oe(193)]();return 1&t?1+t>>>1:-1*(t>>>1)},n.readBoolean=function(){return 1===this[Oe(208)](1)},n[Oe(295)]=function(t){return void 0===t&&(t=1),this[Oe(208)](8*t)},n.readUShort=function(){return this[Oe(208)](16)},n[Oe(419)]=function(){return this[Oe(208)](32)},Nt(t,[{key:Oe(288),get:function(){var t=Oe;return this[t(282)]-this[t(301)]}}]),t}(),ze=function(t,n,i,r,e,u){function s(t){var n=Oe;this.remuxer=t,this[n(346)]=t[n(274)]}var o=s.prototype;return o[r]=function(t){var n=Oe,i=s[n(330)](new E(t));this[n(346)][n(228)]=i[n(228)],this[n(346)][n(396)]=i[n(396)],this[n(346)].sps=[new E(t)],this[n(346)][n(449)]=n(224);for(var r=new DataView(t.buffer,t[n(447)]+1,4),e=0;e<3;++e){var u=r.getUint8(e)[n(262)](16);u.length<2&&(u="0"+u),this.track[n(449)]+=u}},o[e]=function(t){this[Oe(346)].pps=[new E(t)]},o[u]=function(t){var n=Oe;if(!t)return!1;var i=!1;switch(t.type()){case Ge[n(323)]:case Ge[n(304)]:i=!0;break;case Ge[n(309)]:!this[n(346)][n(362)]&&(this.parsePPS(t[n(307)]()),!this[n(345)][n(435)]&&this[n(346)][n(362)]&&this[n(346)][n(259)]&&(this[n(345)][n(435)]=!0)),i=!0;break;case Ge[n(437)]:!this[n(346)][n(259)]&&(this[n(471)](t[n(307)]()),!this[n(345)][n(435)]&&this[n(346)][n(362)]&&this.track.sps&&(this[n(345)][n(435)]=!0)),i=!0;break;case Ge[n(484)]:break;case Ge[n(196)]:i=!0}return i},s[t]=function(t,n){for(var i=Oe,r=[],e=!1,u=!1,s=!1,o=!1,a=0,c=0,h=0,f=[];a<=t.byteLength;){if(a<t.byteLength){var v=t[a++];0!==v?(1===v&&c>1&&(h=c>2?4:3,f.push(a)),c=0):++c}else h=0,f.push(a++);if(f.length>1){var d=f.shift(),l=f[0]-h;if(d<l){var g=!1,w=31&t[d];if(w===Ge.NDR?u=!0:w===Ge.IDR?e=!0:w===Ge.SPS?(g=s,s=!0):w===Ge.PPS&&(g=o,o=!0),!g)if(!n||w!==Ge.NDR&&w!==Ge.IDR)r.push(t.subarray(d,l));else{var m=new E(l-d),y=0;for(a=d,c=0;a<l;){var p=t[a++];c>1&&3===p&&(c=0,p=t[a++]),0!==p?c=0:++c,m[y++]=p}r.push(m.subarray(0,y))}}}}var _=!0,b=!1;return u||e?u&&e&&(console[i(230)](i(318)),_=!1):(console[i(230)]("[H264Parser] No VCL NALUs found"),_=!1),e&&(s&&o?b=!0:console[i(230)](i(242))),{valid:_,idr:b,nalus:r}},s.skipScalingList=function(t,n){for(var i=8,r=8,e=0;e<n;e++)0!==r&&(r=(i+t.readEG()+256)%256),i=0===r?i:r},s[n]=function(t){var n,i,r,e,u,o,a=Oe,c=new He(t),h=0,f=0,v=0,d=0,l=1;if(c[a(295)](),n=c.readUByte(),c[a(208)](5),c[a(457)](3),c.readUByte(),c[a(374)](),100===n||110===n||122===n||244===n||44===n||83===n||86===n||118===n||128===n){var g=c[a(193)]();if(3===g&&c[a(457)](1),c.skipUEG(),c[a(374)](),c[a(457)](1),c[a(232)]()){o=3!==g?8:12;for(var w=0;w<o;++w)c[a(232)]()&&(w<6?s[a(347)](c,16):s[a(347)](c,64))}}c[a(374)]();var m=c.readUEG();if(0===m)c[a(193)]();else if(1===m){c.skipBits(1),c[a(494)](),c[a(494)](),i=c[a(193)]();for(var y=0;y<i;++y)c.skipEG()}if(c.skipUEG(),c[a(457)](1),r=c[a(193)](),e=c.readUEG(),0===(u=c[a(208)](1))&&c[a(457)](1),c[a(457)](1),c[a(232)]()&&(h=c[a(193)](),f=c[a(193)](),v=c[a(193)](),d=c.readUEG()),c.readBoolean()){if(c[a(232)]()){var p;switch(c[a(295)]()){case 1:p=[1,1];break;case 2:p=[12,11];break;case 3:p=[10,11];break;case 4:p=[16,11];break;case 5:p=[40,33];break;case 6:p=[24,11];break;case 7:p=[20,11];break;case 8:p=[32,11];break;case 9:p=[80,33];break;case 10:p=[18,11];break;case 11:p=[15,11];break;case 12:p=[64,33];break;case 13:p=[160,99];break;case 14:p=[4,3];break;case 15:p=[3,2];break;case 16:p=[2,1];break;case 255:p=[c[a(295)]()<<8|c.readUByte(),c[a(295)]()<<8|c[a(295)]()]}p&&p[0]>0&&p[1]>0&&(l=p[0]/p[1])}c.readBoolean()&&c[a(457)](1),c[a(232)]()&&(c.skipBits(4),c[a(232)]()&&c[a(457)](24)),c.readBoolean()&&(c.skipUEG(),c[a(374)]()),c.readBoolean()&&(c[a(419)](),c[a(419)](),c.readBoolean())}return{width:k.ceil((16*(r+1)-2*h-2*f)*l),height:(2-u)*(e+1)*16-(u?2:4)*(v+d)}},s[i]=function(t){var n=Oe,i=new He(t[n(307)]());i.readUByte(),t.isfmb=0===i[n(193)](),t.stype=i[n(193)]()},s}(Oe(360),Oe(330),Oe(448),Oe(471),Oe(211),Oe(368)),Ye=function(){function t(t){var n=Oe;this[n(465)]={},this[n(469)]=""|t}var n=t.prototype;return n.on=function(t,n){var i=Oe;return!this[i(465)][t]&&(this[i(465)][t]=[]),this[i(465)][t][i(462)](n),!0},n[Oe(353)]=function(t,n){var i=Oe;if(this[i(465)][t]){var r=this.listener[t][i(238)](n);return r>-1&&this[i(465)][t][i(280)](r,1),!0}return!1},n[Oe(490)]=function(){this[Oe(465)]={}},n[Oe(255)]=function(t,n){var i=Oe;return!!this.listener[t]&&(this[i(465)][t][i(467)]((function(t){t[i(187)](null,[n])})),!0)},t}(),je=function(t,n,i,r,e,u,s,o,a,c,h,f,v,d,l,g,w,m,y,p,_,b,k,A,T){function S(t){var n,i,r=Oe;for(var e in this[r(432)]=t,this[r(199)]={video:(null==(n=t[r(366)][r(434)])?void 0:n.encryption)===r(306)?16:0,audio:(null==(i=t[r(366)][r(451)])?void 0:i.encryption)===r(306)?16:0},S.types={avc1:[],encv:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],Opus:[],dOps:[],enca:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],pssh:[],sinf:[],frma:[],schm:[],schi:[],tenc:[],saiz:[],saio:[],senc:[]},S[r(204)])S[r(204)][e]=[e[r(431)](0),e[r(431)](1),e.charCodeAt(2),e[r(431)](3)];var u=new E([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),s=new E([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);S[r(476)]={video:u,audio:s};var o=new E([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),a=new E([0,0,0,0,0,0,0,0]);S[r(443)]=S[r(268)]=S[r(463)]=a,S[r(348)]=new E([0,0,0,0,0,0,0,0,0,0,0,0]),S[r(217)]=new E([0,0,0,1,0,0,0,0,0,0,0,0]),S.SMHD=new E([0,0,0,0,0,0,0,0]),S[r(320)]=new E([0,0,0,0,0,0,0,1]);var c=new E([105,115,111,109]),h=new E([97,118,99,49]),f=new E([0,0,0,1]);S[r(341)]=S[r(411)](S[r(204)][r(367)],c,f,c,h),S.DINF=S[r(411)](S[r(204)][r(272)],S[r(411)](S[r(204)].dref,o))}var I=S.prototype;return I.hdlr=function(t){var n=Oe;return S[n(411)](S[n(204)][n(229)],S[n(476)][t])},I.mdat=function(t){var n=Oe;return S.box(S.types[n(458)],t)},I[n]=function(t,n){var i=Oe;return S.box(S[i(204)][i(246)],new E([0,0,0,0,0,0,0,0,0,0,0,0,t>>>24,t>>>16&255,t>>>8&255,255&t,0,0,0,0,85,196,0,0]))},I[i]=function(t){var n=Oe;return S[n(411)](S[n(204)][n(298)],this[n(246)](t[n(393)],t.duration),this[n(229)](t[n(469)]),this[n(265)](t))},I[r]=function(t){var n=Oe;return S[n(411)](S.types[n(429)],new E([0,0,0,0,t>>>24,t>>>16&255,t>>>8&255,255&t]))},I[e]=function(t){var n=Oe;return t[n(469)]===n(451)?S[n(411)](S[n(204)][n(265)],S.box(S[n(204)][n(236)],S[n(247)]),S.DINF,this[n(415)](t)):S[n(411)](S[n(204)][n(265)],S[n(256)],this[n(415)](t),S[n(411)](S[n(204)][n(340)],S[n(217)]))},I[u]=function(t,n,i){var r=Oe;return S[r(411)](S[r(204)][r(460)],this[r(429)](t),this.traf(i,n))},I.moov=function(t,n,i){for(var r=Oe,e=t[r(294)],u=[];e--;)u[e]=this[r(315)](t[e]);return S[r(411)][r(187)](null,[S[r(204)].moov,this[r(210)](i,n),this[r(430)](t)].concat(u)[r(365)](this[r(386)](t)))},I.mvex=function(t){for(var n=Oe,i=t[n(294)],r=[];i--;)r[i]=this[n(290)](t[i]);return S.box[n(187)](null,[S[n(204)].mvex].concat(r))},I[s]=function(t,n){var i=Oe,r=new E([0,0,0,0,0,0,0,0,0,0,0,0,t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return S[i(411)](S[i(204)].mvhd,r)},I[o]=function(t){for(var n=Oe,i=t[n(446)]||[],r=new E(4+i.length),e=0;e<i.length;e++){var u=i[e][n(316)];r[e+4]=u[n(213)]<<4|u.isDependedOn<<2|u.hasRedundancy}return S.box(S.types.sdtp,r)},I[a]=function(t){var n=Oe;return S[n(411)](S.types[n(415)],this[n(402)](t),S.box(S.types[n(478)],S[n(443)]),S.box(S.types[n(200)],S[n(268)]),S[n(411)](S[n(204)][n(390)],S[n(348)]),S[n(411)](S[n(204)][n(267)],S[n(463)]))},I[c]=function(t){var n,i,r,e=Oe,u=[],s=[];for(n=0;n<t[e(259)][e(294)];n++)r=(i=t[e(259)][n])[e(442)],u.push(r>>>8&255),u[e(462)](255&r),u=u[e(365)](Array[e(381)].slice.call(i));for(n=0;n<t.pps.length;n++)r=(i=t.pps[n])[e(442)],s.push(r>>>8&255),s[e(462)](255&r),s=s[e(365)](Array[e(381)][e(293)][e(394)](i));var o=S[e(411)](S[e(204)].avcC,new E([1,u[3],u[4],u[5],255,224|t[e(259)][e(294)]][e(365)](u)[e(365)]([t[e(362)].length]).concat(s))),a=t[e(228)],c=t[e(396)],h=S[e(411)](S[e(204)][e(474)],S[e(411)](S.types[e(425)],new E([97,118,99,49])),S[e(411)](S[e(204)][e(342)],new E([0,0,0,0].concat(Ft(Xe(this[e(432)][e(366)].video[e(395)])),[0,1,0,0]))),S[e(411)](S[e(204)].schi,this[e(314)]("video")));return S[e(411)](S[e(204)][e(333)],new E([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,a>>>8&255,255&a,c>>>8&255,255&c,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,65,86,67,32,67,111,100,105,110,103,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]),o,h)},I[h]=function(t){var n=Oe,i=t.config[n(442)],r=new E(26+i+3);return r[n(311)]([0,0,0,0,3,23+i,0,1,0,4,15+i,64,21,0,0,0,0,0,0,0,0,0,0,0,5,i]),r[n(311)](t[n(366)],26),r[n(311)]([6,1,2],26+i),r},I[f]=function(t){var n=Oe,i=t.audiosamplerate;return S[n(411)](S[n(204)][n(296)],new E([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t[n(198)],0,16,0,0,0,0,i>>>8&255,255&i,0,0]),S[n(411)](S[n(204)][n(369)],this.esds(t)))},I.dOps=function(t){var n=Oe,i=t[n(357)];return new E([0,t[n(198)],1,56,0,0,i>>>8&255,255&i,0,0,0])},I[v]=function(t){var n=Oe,i=t[n(357)];return S[n(411)](S[n(204)].Opus,new E([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t[n(198)],0,16,0,0,0,0,i>>>8&255,255&i,0,0]),S[n(411)](S.types[n(305)],this[n(305)](t)))},I[d]=function(t){var n=Oe,i=S[n(411)](S[n(204)].dOps,this[n(305)](t)),r=S[n(411)](S[n(204)].sinf,S[n(411)](S[n(204)].frma,new E([79,112,117,115])),S[n(411)](S[n(204)][n(342)],new E([0,0,0,0].concat(Ft(Xe(this.drm[n(366)].audio[n(395)])),[0,1,0,0]))),S[n(411)](S[n(204)][n(332)],this[n(314)](n(451)))),e=t[n(357)];return S[n(411)](S[n(204)][n(468)],new E([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t[n(198)],0,16,0,0,0,0,e>>>8&255,255&e,0,0]),i,r)},I[l]=function(t){var n=Oe;return t[n(469)]===n(451)?S.box(S[n(204)][n(402)],S[n(320)],t[n(212)]?this[n(468)](t):this[n(264)](t)):S.box(S[n(204)][n(402)],S[n(320)],this.encv(t))},I[g]=function(t){var n=Oe,i=t.id,r=t[n(191)],e=t.width,u=t[n(396)],s=t[n(219)];return S[n(411)](S[n(204)][n(249)],new E([0,0,0,7,0,0,0,0,0,0,0,0,i>>>24,i>>>16&255,i>>>8&255,255&i,0,0,0,0,r>>>24,r>>>16&255,r>>>8&255,255&r,0,0,0,0,0,0,0,0,0,0,0,0,255&s,s%1*10&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,e>>>8&255,255&e,0,0,u>>>8&255,255&u,0,0]))},I[w]=function(t,n){var i,r=Oe,e=t.id,u=t[r(446)][0][r(483)],s=t[r(446)][0][r(191)],o=t[r(446)][0].flags,a=S[r(411)](S[r(204)][r(488)],new E([0,2,0,58,e>>>24,e>>>16&255,e>>>8&255,255&e,0,0,0,1,s>>>24,e>>>16&255,s>>>8&255,255&s,u>>>24,u>>>16&255,u>>>8&255,255&u,0,o.isNonSync,0,0])),c=S[r(411)](S[r(204)][r(222)],new E([0,0,0,0,n>>>24,n>>>16&255,n>>>8&255,255&n]));if(t[r(212)]){var h,f;if(t[r(469)]===r(434)?(h=!0,f=this[r(199)][r(434)]+(null==(i=t[r(446)][0].sampleAuxInfo)?void 0:i.byteLength)):(h=!1,f=this[r(199)][r(451)]),f>0){var v=this[r(392)](f),d=this[r(363)](t[r(446)],h),l=v.length+20+d.length+a[r(294)]+c[r(294)]+8+16+8+8,g=this[r(324)](t,l);return S[r(411)](S[r(204)][r(231)],a,c,g,v,this[r(364)](l-d[r(294)]+g[r(294)]+8),d)}var w=this[r(363)](null,!1),m=w[r(294)]+a[r(294)]+c.length+8+16+8+8,y=this[r(324)](t,m);return S[r(411)](S[r(204)][r(231)],a,c,y,w)}return S.box(S.types.traf,a,c,this[r(324)](t,a[r(294)]+c[r(294)]+8+16+8+8))},I[m]=function(t){var n=Oe;return t[n(191)]=t[n(191)]||4294967295,S.box(S[n(204)][n(315)],this[n(249)](t),this[n(298)](t))},I.trex=function(t){var n=Oe,i=t.id;return S[n(411)](S[n(204)][n(290)],new E([0,0,0,0,i>>>24,i>>>16&255,i>>>8&255,255&i,0,0,0,1,0,0,0,16,0,0,0,0,0,0,0,0]))},I.trun=function(t,n){var i=Oe,r=(t.samples||[]).length,e=new E(12);return n+=20,e[i(311)]([0,0,0,1,r>>>24,r>>>16&255,r>>>8&255,255&r,n>>>24,n>>>16&255,n>>>8&255,255&n],0),S.box(S.types[i(324)],e)},I[y]=function(t,n){var i,r,e,u=Oe,s=u(373),o=u(257),a=function(t){var n=function(t){for(var n=Oe,i="",r=0;r<t.length;r+=16e3){var e=t[n(453)](r,r+16e3);i+=String[n(299)][n(187)](null,e)}return i}(Ze(t));return btoa(n)}((i=t,(e=[])[(r=Oe)(462)](i[3]),e[r(462)](i[2]),e[r(462)](i[1]),e[r(462)](i[0]),e.push(i[5]),e.push(i[4]),e.push(i[7]),e.push(i[6]),(i=Ze(i))[r(311)](e,0),i));return Ze(function(t,n){for(var i=Oe,r=new E(2*t.length),e=new DataView(r[i(492)]),u=0;u<t[i(294)];++u){var s=t[i(431)](u);e[i(221)](2*u,s,!0)}return r[i(492)]}([u(300)+o+u(422)+s+'">',"<DATA>",u(239),"<KIDS>",u(417),u(243)+a+'"',">",u(245),u(270),"</PROTECTINFO>",n?u(470)+n+u(409):"",u(428),u(289)][u(420)]("")))},I[p]=function(t){var n=Oe;if(this[n(432)][n(440)][n(328)]("com.widevine"))return S[n(411)](S[n(204)][n(430)],new E([0,0,0,0,237,239,139,169,121,214,74,206,163,200,39,220,213,29,33,237,0,0,0,18,18,16].concat(Ft(this[n(432)][n(366)][t[0][n(469)]][n(479)]))));if(this[n(432)].keySystem===n(421)){var i=this[n(192)](this[n(432)][n(366)][t[0].type][n(479)],this.drm.licenseUrl),r=i[n(442)];return S[n(411)](S[n(204)][n(430)],new E([0,0,0,0,154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149,r>>>24,r>>>16&255,r>>>8&255,255&r].concat(Ft(i))))}return this[n(432)][n(440)]===n(273)?S[n(411)](S[n(204)][n(430)],new E([1,0,0,0,16,119,239,236,192,178,77,2,172,227,60,30,82,226,251,75,0,0,0,1].concat(Ft(this.drm.config[t[0][n(469)]][n(479)]),[0,0,0,0]))):this[n(432)][n(440)]===n(286)?null:void console[n(370)](n(297)+this[n(432)].keySystem)},I[_]=function(t){var n,i,r=Oe,e=this[r(432)][r(366)][t];return"cbcs"===e.encryption?(n=new E([16].concat(Ft(e.iv))),i=25):(n=new E([]),i=0),S[r(411)](S[r(204)].tenc,new E([1,0,0,0,0,i,1,this[r(199)][t]].concat(Ft(e[r(479)]),Ft(n))))},I[b]=function(t){return S[Oe(411)](S.types.saiz,new E([0,0,0,0,t,0,0,0,1]))},I[k]=function(t){var n=Oe;return S[n(411)](S[n(204)][n(364)],new E([0,0,0,0,0,0,0,1,t>>>24,t>>>16&255,t>>>8&255,255&t]))},I[A]=function(t,n){var i=Oe,r=null;return t&&(1!==t[i(294)]&&console[i(370)](i(424)+t[i(294)]+i(413)),r=t[0][i(195)]),r&&r[i(442)]?S[i(411)](S[i(204)][i(363)],new E([0,0,0,n?2:0,0,0,0,1].concat(Ft(r)))):S[i(411)](S[i(204)][i(363)],new E([0,0,0,0,0,0,0,1]))},I[T]=function(t,n,i){var r=Oe,e=this[r(216)](t,n,i),u=new E(S[r(341)][r(442)]+e.byteLength);return u.set(S[r(341)]),u[r(311)](e,S[r(341)].byteLength),u},S[t]=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];for(var e,u=Oe,s=8,o=i.length,a=o;o--;)i[o]&&(s+=i[o].byteLength);for((e=new E(s))[0]=s>>>24,e[1]=s>>>16&255,e[2]=s>>>8&255,e[3]=255&s,e[u(311)](t,4),o=0,s=8;o<a;++o)i[o]&&(e[u(311)](i[o],s),s+=i[o][u(442)]);return e},S}(Oe(411),Oe(246),Oe(298),Oe(429),Oe(265),Oe(460),Oe(210),Oe(356),Oe(415),Oe(333),Oe(369),Oe(296),Oe(264),Oe(468),Oe(402),Oe(249),Oe(231),Oe(315),Oe(192),Oe(430),Oe(314),Oe(392),Oe(364),Oe(363),Oe(271)),Ke=1,qe=function(t,n,i){function r(){this[Oe(283)]=1}var e=r.prototype;return e[n]=function(){var t=Oe;this[t(274)][t(215)]=0,this.mp4track[t(446)]=[]},e[i]=function(){var t=Oe;return!(!this.readyToDecode||!this[t(446)][t(294)])},r[t]=function(){return Ke++},r}(Oe(209),Oe(250),Oe(258)),Je=function(t){function n(n){var i,r=Oe;return(i=t.call(this)||this)[r(435)]=!0,i[r(223)]=0,i[r(237)]=0,i[r(274)]={id:qe[r(209)](),type:"audio",channelCount:2,audiosamplerate:48e3,len:0,fragmented:!0,timescale:n,duration:n,samples:[],codec:r(388),encrypted:!0},i[r(446)]=[],i}It(n,t);var i=n.prototype;return i.resetTrack=function(){var t=Oe;this[t(283)]=1,this[t(223)]=0,this[t(237)]=0},i[Oe(406)]=function(t,n,i){var r=Oe;if(t.length>0)for(var e=0;e<t[r(294)];e++){var u=t[e],s=u[r(276)],o=s[r(442)];this.samples.push({units:s,size:o,duration:u.duration,sampleAuxInfo:n,timestamp:i}),this[r(274)][r(215)]+=o}},i[Oe(248)]=function(){var t=Oe;if(!this[t(446)])return null;for(var n,i=this[t(274)][t(446)];this.samples[t(294)];){var r=this[t(446)][t(233)](),e=(1e3*r[t(385)]|0)-this.nextDts|0;e<5&&(e=5),this.dts=this.nextDts,this[t(223)]+=e,n={size:r.size,duration:e,cts:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1},sampleAuxInfo:r[t(195)]};var u=new E(r.size);return u[t(311)](r.units,0),i.push(n),new E(u.buffer,0,r[t(483)])}return null},n}(qe),Qe=function(t){function n(n,i){var r,e=Oe;return(r=t.call(this)||this)[e(435)]=!1,r.nextDts=0,r[e(237)]=0,r[e(477)]=i,r.mp4track={id:qe[e(209)](),type:e(434),len:0,fragmented:!0,sps:"",pps:"",width:0,height:0,timescale:n,duration:n,samples:[],encrypted:!0},r[e(446)]=[],r[e(220)]=new ze(r),r}It(n,t);var i=n.prototype;return i[Oe(426)]=function(){var t=Oe;this[t(283)]=1,this.readyToDecode=!1,this[t(274)].sps="",this[t(274)][t(362)]="",this[t(223)]=0,this[t(237)]=0},i[Oe(406)]=function(t,n,i){for(var r=Oe,e=0;e<t.length;e++){for(var u=t[e],s=[],o=0,a=0,c=u[r(276)];a<c.length;a++){var h=c[a];this.h264[r(368)](h)&&(s[r(462)](h),o+=h.getSize())}s[r(294)]>0&&this[r(435)]&&(this[r(274)][r(215)]+=o,this[r(446)][r(462)]({units:s,size:o,keyFrame:u.keyFrame,duration:u[r(191)],sampleAuxInfo:n,timestamp:i}))}},i[Oe(248)]=function(){var t=Oe;if(!this[t(258)]()||!this.samples)return null;var n,i=this[t(274)][t(446)],r=this.samples[t(233)](),e=r[t(276)],u=(1e3*r.timestamp|0)-this[t(223)]|0;u<5&&(u=5),f[t(251)]&&u>5e3&&console[t(383)]("timestamp gap: "+(u/1e3|0)+" s"),this[t(237)]=this[t(223)],this.nextDts+=u,n={size:r[t(483)],duration:u,cts:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,isNonSync:r[t(275)]?0:1,dependsOn:r.keyFrame?2:1},sampleAuxInfo:r[t(195)]};for(var s=0,o=0;o<e.length;o++)s+=e[o][t(349)]();for(var a=0,c=new E(s),h=0;h<e.length;h++){var v=e[h];c[t(311)](v[t(343)](),a),a+=v[t(349)]()}return i[t(462)](n),new E(c[t(492)],0,s)},n}(qe),$e=function(t){function n(n,i){var r,e=Oe;return(r=t.call(this,e(345))||this).initialized=!1,r.trackTypes=[],r[e(414)]={},r[e(393)]=1e3,r.mediaDuration=0,r[e(477)]=n,r[e(375)]=i,r}It(n,t);var i=n.prototype;return i.addTrack=function(t){var n=Oe;(t===n(434)||"both"===t)&&(this[n(414)][n(434)]=new Qe(this[n(393)],this.videoElement),this[n(480)][n(462)](n(434))),(t===n(451)||t===n(303))&&(this[n(414)][n(451)]=new Je(this.timescale),this[n(480)][n(462)](n(451)))},i.reset=function(){for(var t=Oe,n=0,i=this[t(480)];n<i.length;n++){var r=i[n];this[t(414)][r][t(426)]()}this[t(489)]=!1},i[Oe(355)]=function(){var t=Oe;this[t(414)]={},this[t(490)]()},i[Oe(250)]=function(){var t=Oe;if(this[t(489)])for(var n=0,i=this[t(480)];n<i.length;n++)for(var r=i[n],e=this[t(414)][r];;){var u=e.getFramePayload();if(!u||!u[t(442)])break;var s={type:r,payload:Fe(this[t(375)][t(460)](e[t(283)]++,e[t(237)],e[t(274)]),this[t(375)][t(458)](u)),dts:e[t(237)]};this[t(255)](t(492),s),e[t(250)]()}else this[t(258)]()&&(this[t(255)](t(205)),this[t(271)](),this[t(489)]=!0,this[t(250)]())},i.initSegment=function(){for(var t=Oe,n=0,i=this[t(480)];n<i.length;n++){var r=i[n],e=this[t(414)][r],u={type:r,payload:this[t(375)][t(271)]([e[t(274)]],this[t(433)],this[t(393)])};this.dispatch(t(492),u)}},i.isReady=function(){for(var t=Oe,n=0,i=this.trackTypes;n<i.length;n++){var r=i[n];if(!this[t(414)][r][t(435)]||!this[t(414)][r].samples[t(294)])return!1}return!0},i[Oe(406)]=function(t){for(var n=Oe,i=0,r=this[n(480)];i<r.length;i++){var e=r[i],u=t[e];u.length>0&&this[n(414)][e][n(406)](u,e===n(451)?t[n(225)]:t.videoSampleAuxInfo,t[n(385)])}this.flush()},n}(Ye),tu=function(t){function n(n,i,r){var e,u=Oe;return(e=t.call(this,u(492))||this)[u(469)]=i,e.queue=new E,f[u(319)]&&(e[u(254)]=new E,e[u(404)]=0),e.sourceBuffer=n,e[u(218)]=r,e[u(197)]=!1,e[u(310)].addEventListener(u(370),(function(t){var n=u;console.warn(n(201),t,e.type),e[n(197)]=!0,e[n(255)](n(370),{type:e[n(469)],name:"buffer",error:n(292)})})),e}It(n,t);var i=n.prototype;return i[Oe(355)]=function(){var t=Oe;this[t(401)]=null,this[t(254)]=null;try{this.sourceBuffer&&(this[t(310)][t(186)](),this[t(218)].removeSourceBuffer(this[t(310)]),this[t(310)]=null)}catch(t){}this.offAll()},i[Oe(475)]=function(){var t=Oe;if(this.queue[t(294)]&&this[t(310)]&&!this[t(310)].updating){if(this[t(310)].buffered[t(294)]>1){for(var n=0;n<this[t(310)].buffered[t(294)];++n){var i=n<this[t(310)].buffered[t(294)]-1;f[t(251)]&&console[t(383)](t(445)+n+(i?" (remove)":"")+": "+this[t(310)][t(269)][t(326)](n)+t(325)+this[t(310)][t(269)][t(376)](n)),i&&this.sourceBuffer[t(482)](this[t(310)][t(269)].start(n),this[t(310)].buffered[t(376)](n))}if(this.sourceBuffer[t(378)])return}try{this[t(310)][t(491)](this[t(401)]),this.queue=new E}catch(n){this[t(255)](t(370),{type:this[t(469)],name:t(352),error:n})}}},i[Oe(371)]=function(t){var n=Oe;if(this[n(254)]&&(this.dbgQueue=Fe(this[n(254)],t),100==++this[n(404)])){var i=(new Date)[n(344)]().substring(0,19)[n(454)](":","-"),r=this.type+"-"+i+".mp4";f.downloadToFile(this[n(254)],r),this[n(254)]=null}this[n(197)]||(this[n(401)]=Fe(this[n(401)],t)),this.doAppend()},n}(Ye),nu=function(t){function n(n){var i,r=Oe;return(i=t.call(this,r(397))||this)[r(197)]=!1,i[r(410)]=!0,i[r(466)]=!1,i[r(234)]=!1,i.mseEnded=!1,i[r(379)]=b[r(189)]({},{node:"",mode:"video",debug:!1,onReady:function(){},onError:function(t){}},n),i[r(450)]=U(i.options[r(450)])===r(302)?v[r(472)](i.options.node):i[r(379)].node,i[r(432)]=n.drm,i.mp4=new je(i.drm),i[r(423)]=new $e(i.node,i[r(375)]),i[r(423)].addTrack(i[r(379)][r(461)]),i[r(423)].on(r(492),i[r(456)].bind(i)),i[r(423)].on(r(205),i[r(382)][r(308)](i)),i.initBrowser(),i}It(n,t);var i=n.prototype;return i[Oe(322)]=function(){var t=Oe;U(this.options.node)===t(302)&&""==this.options[t(450)]&&console[t(370)](t(473)),this[t(234)]=!1,this.setupMSE()},i.setupMSE=function(){var t=Oe;if(!f[t(202)]&&!f[t(384)])throw t(452);f.ManagedMediaSource?(this.node[t(427)]=!0,this[t(327)]=new ManagedMediaSource):this[t(327)]=new MediaSource,this[t(284)]=URL[t(244)](this[t(327)]),this.node[t(485)]=this[t(284)],this[t(277)]=!1,this[t(327)][t(331)](t(338),this.onMSEOpen[t(308)](this)),this.mediaSource.addEventListener("sourceclose",this[t(241)][t(308)](this)),this[t(327)][t(331)]("webkitsourceopen",this[t(194)][t(308)](this)),this.mediaSource[t(331)](t(240),this[t(241)].bind(this)),this[t(327)][t(331)]("error",(function(n){var i=t;console[i(370)](i(287),n[i(226)])}))},i[Oe(227)]=function(){var t=Oe;if(!this[t(277)])try{this.mseEnded=!0,this[t(327)][t(185)]===t(399)&&this[t(327)][t(261)]()}catch(n){console[t(370)]("mediasource is not available to end: ",n)}},i[Oe(359)]=function(){this[Oe(410)]=!0},i[Oe(371)]=function(t){var n=Oe,i={video:[],audio:[]};if(this[n(197)]||this[n(277)]||!t||!this[n(423)])return-1;if(t[n(434)]){i.timestamp=t.timestamp;var r=this[n(190)](t.videoSampleAuxInfo,this.mp4[n(199)][n(434)]),e=r!=t[n(434)][n(442)],u=ze[n(360)](t[n(434)],e);if(!u[n(206)]||u[n(260)].length<1)return 0;if(this.waitingForIdr){if(!u[n(412)])return 0;this[n(410)]=!1}if(!Ve&&t[n(278)]){var s=u[n(260)][n(188)]((function(t,i){return t+4+i[n(442)]}),0);s!==r&&this[n(400)](t[n(278)],this.mp4[n(199)][n(434)],s-r)}i[n(434)]=this[n(335)](u[n(260)]),i[n(278)]=t[n(278)]}return t[n(451)]&&(i[n(385)]=t[n(385)],i[n(451)]=[{units:t.audio}],i.audioSampleAuxInfo=t[n(225)]),t[n(434)]||t[n(451)]?(this[n(423)][n(406)](i),0):(console.error(n(361)),0)},i[Oe(335)]=function(t){for(var n=Oe,i=[],r=[],e=!1,u=!1,s=0;s<t.length;s++){var o=t[s],a=new Ge(o);a.type()!==Ge.IDR&&a[n(469)]()!==Ge.NDR||ze[n(448)](a),i[n(294)]&&u&&(a[n(387)]||!a[n(495)])&&(r[n(462)]({units:i,keyFrame:e}),i=[],e=!1,u=!1),i[n(462)](a),e=e||a[n(459)](),u=u||a[n(495)]}if(i[n(294)])if(u)r[n(462)]({units:i,keyFrame:e});else{var c=r[n(294)]-1;c>=0&&(r[c].units=r[c][n(276)].concat(i))}return 1!==r[n(294)]&&console[n(230)](n(207)+r[n(294)]),r},i[Oe(190)]=function(t,n){var i=Oe;if(!t)return 0;for(var r=(t[0]<<8)+t[1],e=n+2+4,u=0,s=2;0<r&&s+e<=t[i(442)];){var o=(t[s+=n]<<8)+t[s+1],a=(t[s+2]<<24)+(t[s+3]<<16)+(t[s+4]<<8)+t[s+5];s+=6,u+=o+a}return u},i.patchSampleAuxinfo=function(t,n,i){var r=Oe,e=2;if(0<(t[0]<<8)+t[1]&&e+(n+2+4)<=t[r(442)]){var u=(t[e+=n]<<8)+t[e+1];(u+=i)>=0&&(t[e]=u>>>8&255,t[e+1]=255&u)}return 0},i[Oe(382)]=function(){var t=Oe;if(this[t(234)]&&this[t(423)]&&this[t(423)].isReady()&&!this.bufferControllers)for(var i in this.bufferControllers={},this[t(423)][t(414)]){var r=this[t(423)][t(414)][i],e="".concat(i,t(317))[t(365)](r[t(274)][t(449)],'"');if(f.clRtcDrmDebugLog&&console[t(383)](t(312),e),!n[t(408)](e))return console[t(370)](t(372)),!1;var u=this[t(327)][t(350)](e);this[t(398)][i]=new tu(u,i,this[t(327)]),this.bufferControllers[i].on(t(370),this[t(403)][t(308)](this))}},i[Oe(313)]=function(){var t=Oe;for(var n in this[t(398)])this[t(398)][n].doAppend()},i.onBuffer=function(t){var n=Oe;this[n(234)]&&this[n(398)]&&this[n(398)][t.type]&&this[n(398)][t[n(469)]][n(371)](t[n(214)])},i[Oe(194)]=function(){var t=Oe;f[t(251)]&&console.info("[MSE] sourceopen"),this[t(327)][t(185)]!==t(281)&&(this.mediaSource.duration=Number[t(391)],this[t(234)]=!0,"function"==typeof this[t(379)][t(336)]&&this[t(379)].onReady[t(394)](null,this[t(466)]),URL[t(235)](this.url),this[t(382)]())},i[Oe(241)]=function(){var t=Oe;f.clRtcDrmDebugLog&&console[t(383)](t(441)),this.mseReady=!1,this[t(227)]()},i[Oe(403)]=function(t){var n=Oe;console.warn(n(351),t),this.irrecoverableError=!0,this[n(227)](),"function"==typeof this[n(379)][n(266)]&&this[n(379)][n(266)][n(394)](null,t)},n.isSupported=function(t){var n=Oe;return f[n(202)]?f.ManagedMediaSource[n(497)](t):!!f[n(384)]&&f.MediaSource[n(497)](t)},n}(Ye);function iu(t,n){var i=ru();return(iu=function(t,n){return i[t-=222]})(t,n)}function ru(){var t=["Sv","1634635aeNfVS","4rWkceo","1051qHPzyB","314juHkBI","7752096GfpyFE","1023208nKrJjX","2137269uUqtNM","303058KNxeBb","1097196nHglzA"];return(ru=function(){return t})()}!function(){for(var t=iu,n=ru();;)try{if(A(t(228))/1*(-A(t(229))/2)+-A(t(222))/3*(A(t(227))/4)+A(t(226))/5+A(t(224))/6+A(t(223))/7+-A(t(231))/8+A(t(230))/9==409100)break;n.push(n.shift())}catch(t){n.push(n.shift())}}();var eu=uu;function uu(t,n){var i=cu();return(uu=function(t,n){return i[t-=460]})(t,n)}!function(){for(var t=uu,n=cu();;)try{if(-A(t(471))/1*(-A(t(474))/2)+A(t(479))/3+A(t(473))/4*(A(t(461))/5)+A(t(487))/6+-A(t(467))/7+-A(t(482))/8+-A(t(464))/9==139726)break;n.push(n.shift())}catch(t){n.push(n.shift())}}();var su="CrsCCAMSEKDc0WAwLAQT1SB2ogyBJEwYv4Tx7gUijgIwggEKAoIBAQC8Xc/GTRwZDtlnBThq8"+eu(462)+"wyoYOE+M/t1oIbccwlTQ7o+BpV1X6TB7fxFyx1jsBtRsBWphU65w121zqmSiwzZzJ4xsXVQCJ"+eu(460)+eu(476)+eu(480)+eu(484)+eu(485)+"7hyskG5ZLAyJMzTvgnV3D8/I5Y6mCFBPb/+/Ri+9bEvquPF3Ff9ip3yEHu9mcQeEYCeGe9zR/27eI5MATX39gYtCnn7dDXVxo4/rCYK0A4VemC3HRai2X3pSGcsKY7+6we7h4IycjqtuGtYg8A"+eu(475)+"RL9KsD0v7ysBQVdUXEbJotcFz71tI5qc3jwr6GjYIPA3VzusD17PN6AGQniMwxJV12z/EgnUo"+eu(477),ou=E[eu(478)](f[eu(470)](su),(function(t){return t.charCodeAt(0)})),au=function(){function t(t){this[eu(488)]=t}var n=t.prototype;return n[eu(469)]=function(){return this[eu(488)]},n[eu(483)]=function(){var t=eu;switch(this[t(488)]){case t(489):return"https://lic.staging.drmtoday.com";case t(465):return t(481);default:return t(466)}},n.certificate=function(){return ou},t}();function cu(){var t=["development","https://lic.drmtoday.com","462553oMrSQp","Staging","toString","atob","20047HjYCpd","Development","52chMPdC","6mbMcSk","baigovcoURAZcr1d/G0rpREjLdVLG0Gjqk63Gx688W5gh3TKemsK3R1jV0dOfj3e6uV/kTpsN","+vwmV2/NJWxKqHBKdL9JqvOnNiQUF0hDI7Wf8Wb63RYSXKE27Ky31hKgx1wuq7TTWkA+kHnJT","pcFB13osydpD2AaDsgWo5RWJcNf+fzCgtUQx/0Au9+xVm5LQBdv8Ja4f2oiHN3dw","from","146355HhTpSB","UrTEfQxfPR4dJTquE+IDLAi5yeVVxzbAgMBAAE6DGNhc3RsYWJzLmNvbUABEoADMmGXpXg/0q","https://lic.test.drmtoday.com","501688OkVRMl","baseUrl","xUuwokpsqVIHZrJfu62ar+BF8UVUKdK5oYQoiTZd9OzK3kr29kqGGk3lSgM0/p499p/FUL8oH","HzgsJ7Hajdsyzn0Vs3+VysAgaJAkXZ+k+N6Ka0WBiZlCtcunVJDiHQbz1sF9GvcePUUi2fM/h","Production","1063410zFUyaf","name","staging","pQnNI61gzHO42XZOMuxytMm0F6puNHTTqhyY3Z290YqvSDdOB+UY5QJuXJgjhvOUD9+oaLlvT","93365ZJpndd","V382D1oJAM0F/YgCQtNDLz7vTWJ+QskNGi5Dd2qzO4s48Cnx5BLvL4H0xCRSw2Ed6ekHSdrRU","production","2343546YgIYCY"];return(cu=function(){return t})()}function hu(t,n){var i=fu();return(hu=function(t,n){return i[t-=325]})(t,n)}function fu(){var t=["1052499bnJBHn","cenc","4222tSxFth","Unsupported SampleAuxInfo version","12980Tusgux","3160ZwXFcU","40030ewyARR","16lkTHRT","1199124lbwxEr","data","105TSrukA","getUint8","12bBEpge","SampleAuxInfo corrupted (postfix not found)","getUint16","error","85265ZYYyUv","buffer","3616548TKdsLX","subarray","byteLength","SampleAuxInfo corrupted"];return(fu=function(){return t})()}function vu(t,n){var i=wu();return(vu=function(t,n){return i[t-=295]})(t,n)}au[eu(468)]=new au(eu(489)),au[eu(486)]=new au(eu(463)),au[eu(472)]=new au(eu(465)),function(){for(var t=hu,n=fu();;)try{if(A(t(328))/1+-A(t(332))/2*(-A(t(336))/3)+-A(t(338))/4*(-A(t(342))/5)+-A(t(344))/6+-A(t(326))/7*(A(t(333))/8)+A(t(334))/9+A(t(331))/10*(A(t(330))/11)==358550)break;n.push(n.shift())}catch(t){n.push(n.shift())}}(),function(){for(var t=vu,n=wu();;)try{if(A(t(305))/1*(-A(t(297))/2)+-A(t(295))/3+A(t(310))/4*(A(t(309))/5)+-A(t(304))/6*(A(t(296))/7)+A(t(307))/8*(-A(t(298))/9)+-A(t(301))/10*(A(t(302))/11)+-A(t(300))/12*(-A(t(308))/13)==178039)break;n.push(n.shift())}catch(t){n.push(n.shift())}}();var du=[],lu=null,gu=0;function wu(){var t=["31476hbBsvr","850RxzAPl","4180KczaCN","push","156MUFuvQ","96571jvhWaB","buffer","26232BkewNd","4303YGAqiP","5yhGpFn","1137036pzCnTd","1035942NcoZLh","94073eTaQjy","2bXtEms","414snfiTE","slice"];return(wu=function(){return t})()}var mu=ku;function yu(){var t=["Data does not seem to be UTF-16 encoded!","No init data available!","getElementsByTagName","min","14BFNrBA","keystatuseschange","catch","childNodes","internal-error","Failed to reuse previous EME session: ","output-downscaled","expired","bind","5576688EKOFOG","has","length","License acquisition failed with error ","arrayBuffer","apply","CDM error generating license request: ","<Challenge","No PR challenge data!","then","license","createSession","warn","[PR] License fetched:","text/xml","clRtcDrmDebugLog","push","encode","max","json"," is not ","replace","target","rtcdrmerror","update","fromCharCode","subarray","2993694njpqat","4002692oINhTV","Content-Type","1347492MkzfDC","Data has an incorrect length, must be even.","addEventListener","buffer","onFetch","generateRequest","initData","dispatchEvent","atob","No clear key test key provided!","Challenge","New lic will be requested","oct","BYTES_PER_ELEMENT","sessionId","usable for decryption (status: ","[WV] License fetched:","Key ","5MtuOVr","byteLength","744563CKOUzg","load","floor","error","decode","indexOf","info","isSafari","edef8ba979d64acea3c827dcd51d21ed","mediaKeys","Previous lic will be reused","charCodeAt","licenseUrl","status","Failed to update the session: ","log","keyStatuses","temporary","9a04f07998404286ab92e65be0885f95","output-restricted","nodeValue","btoa","message","EME createSession() failed - no DRM available","5977680uUTwUr","getUint16","[PR] Challenge node not found","A128KW","3974463jrELhf","Failed to update the session","stringify","[EME]","delete","No media keys for media element!","set","2nMQfRz"];return(yu=function(){return t})()}!function(){for(var t=ku,n=yu();;)try{if(-A(t(419))/1*(A(t(454))/2)+A(t(495))/3+A(t(496))/4*(-A(t(417))/5)+-A(t(498))/6*(-A(t(459))/7)+A(t(468))/8+-A(t(447))/9+A(t(443))/10==555073)break;n.push(n.shift())}catch(t){n.push(n.shift())}}();var pu={licenseUrl:"",onFetch:void 0},_u={},bu=function(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=1/0),function(t,n,i){var r=ku,e=E[r(511)];n*=e,i*=e;var u,s=(u=t)instanceof ArrayBuffer?u:u[ku(501)],o=t[r(418)],a=n,c=k[r(486)](0,k[r(458)](a,o)),h=k[r(458)](c+k[r(486)](i,0),o);return new E(s,c/=e,(h/=e)-c)}(t,n,i)};function ku(t,n){var i=yu();return(ku=function(t,n){return i[t-=417]})(t,n)}var Au=function(t){for(var n=ku,i="",r=0;r<t.length;r++){var e=t[r].toString(16);1==e[n(470)]&&(e="0"+e),i+=e}return i},Tu=null,Su=function(t){var n=ku;return f[n(440)](String[n(493)][n(473)](null,t))[n(489)](/\+/g,"-")[n(489)](/\//g,"_")[n(489)](/=*$/,"")},Eu=function(t,n){var i=ku,r=function(t){var n=ku,i=JSON.parse((new TextDecoder)[n(423)](t));if(console[n(434)]("CK license request:",i),null===Tu)throw new p(n(507));for(var r=[],e=0,u=i.kids;e<u.length;e++){var s=u[e],o={kty:n(510),alg:n(446),kid:s,k:Su(Tu)};r[n(484)](o)}return(new TextEncoder)[n(485)](JSON[n(449)]({keys:r}))}(n.message);n[i(490)][i(492)](r)[i(461)]((function(t){var n=i;console[n(422)](n(448),t)}))},Iu=function(t){for(var n=ku,i=f[n(506)](t[n(489)](/-/g,"+")[n(489)](/_/g,"/")),r=new E(i[n(470)]),e=0;e<i.length;++e)r[e]=i[n(430)](e);return r},Ru=function(t,n){for(var i=arguments.length,r=new Array(i>2?i-2:0),e=2;e<i;e++)r[e-2]=arguments[e];return ke(void 0,[t,n].concat(Ft(r)),void 0,(function(t,n,i){var r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return void 0===i&&(i=!1),r=ku,e=new Headers(_u),i&&e.append(r(497),r(482)),u={method:"POST",headers:e,body:n},[4,pu[r(502)]?pu[r(502)](t,u):fetch(t,u)];case 1:if(!(s=o.sent()).ok)throw new p(r(471)+s[r(432)]);return[2,s]}}))}))},Cu=function(t,n){var i=ku;Ru(pu[i(431)],n[i(441)])[i(477)]((function(t){return t[i(487)]()}))[i(477)]((function(t){var r=i;f[r(483)]&&console.info(r(514),t.license);var e=Iu(t[r(478)])[r(501)];n[r(490)][r(492)](e)[r(461)]((function(t){console[r(422)]("Failed to update the session",t)}))}))[i(461)]((function(n){var r=i;t.dispatchEvent(new CustomEvent(r(491),{detail:{message:""+n}})),console[r(422)](n)}))},Nu=function(t,n){var i=ku,r=function(t,n){var i=ku,r=new DOMParser;try{var e=function(t,n,i){void 0===i&&(i=!1);var r=ku;if(!t)return"";var e=t;if(!i&&e.byteLength%2!=0)throw console[r(422)](r(499)),new p(r(455));var u,s=bu(e);if((255===s[0]&&254===s[1]||254===s[0]&&255===s[1])&&(e=s[r(494)](2)),e instanceof ArrayBuffer)u=e;else{var o=new E(e[r(418)]);o[r(453)](bu(e)),u=o[r(501)]}for(var a=k[r(421)](e.byteLength/2),c=new Uint16Array(a),h=new DataView(u),f=0;f<a;f++)c[f]=h[r(444)](2*f,n);return function(t){for(var n=ku,i="",r=0;r<t[n(470)];r+=16e3){var e=t[n(494)](r,r+16e3);i+=String[n(493)].apply(null,e)}return i}(c)}(n,!0);if(e[i(424)](i(475))>-1){var u=r.parseFromString(e,i(482))[i(457)](i(508))[0][i(462)][0][i(439)];if(null===u)throw new p("No PR challenge data!");return Iu(u)}console[i(480)](i(445))}catch(n){t.dispatchEvent(new CustomEvent(i(491),{detail:{message:""+n}})),console.error(n)}return null}(t,n.message);if(null===r)return t[i(505)](new CustomEvent("rtcdrmerror",{detail:{message:"No PR challenge data!"}})),void console.error(i(476));Ru(pu[i(431)],r[i(501)],!0)[i(477)]((function(t){return t[i(472)]()}))[i(477)]((function(r){var e=i;f[e(483)]&&console[e(425)](e(481),r),n[e(490)].update(r)[e(461)]((function(n){var i=e;t[i(505)](new CustomEvent(i(491),{detail:{message:i(433)+n}})),console[i(422)](i(448),n)}))}))[i(461)]((function(n){var r=i;t.dispatchEvent(new CustomEvent("rtcdrmerror",{detail:{message:""+n}})),console[r(422)](n)}))},Du=function(t,n){var i=ku;Ru(pu[i(431)],n[i(441)])[i(477)]((function(t){var n=i,r=t.text();return f[n(483)]&&console.info("[FPS] License fetched:",t,r),r}))[i(477)]((function(t){var r=i;n[r(490)][r(492)](Iu(t))}))[i(461)]((function(n){var r=i;t.dispatchEvent(new CustomEvent(r(491),{detail:{message:""+n}})),console[r(422)](n)}))},Pu=function(t,n){_u[t]=n},xu=Me[mu(426)],Lu=!xu,Mu=new Map;function Ou(t){return ke(this,void 0,void 0,(function(){var n,i,r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:if(null===t[(n=ku)(504)])throw new p(n(456));if(null===(i=t[n(490)]))throw new p("No media element available!");if(null===(r=i[n(428)]))throw new p(n(452));e=Au(new E(t[n(504)])),u=e+i.id,s=null,Mu[n(469)](u)&&(null!=(s=Mu.get(u))&&s.close(),Mu[n(451)](u)),f[n(483)]&&console[n(425)](n(450),n(s?429:509)),o=null;try{o=r[n(479)](Lu?"persistent-license":"temporary")}catch(t){console[n(434)]("EME createSession(persistent) failed:",t)}if(!o&&Lu){Lu=!1;try{o=r[n(479)](n(436))}catch(t){console[n(422)]("EME createSession(temporary) failed:",t)}}if(!o)return[3,7];if(o[n(500)](n(460),(function(t){var r=n;t[r(490)][r(435)].forEach((function(t,n){var e=r;(t===e(466)||t===e(438)||t===e(465)||t===e(463))&&i[e(505)](new CustomEvent(e(491),{detail:{message:e(515)+Au(new E(n))+e(488)+(e(513)+t+")"),keyId:n}}))}))})),xu?o.addEventListener(n(441),Du[n(467)](null,i),!1):-1!==e[n(424)](n(427))?o.addEventListener(n(441),Cu[n(467)](null,i),!1):-1!==e[n(424)](n(437))?o[n(500)](n(441),Nu[n(467)](null,i),!1):o.addEventListener("message",Eu[n(467)](null,i),!1),!s)return[3,5];c.label=1;case 1:return c.trys.push([1,3,,4]),[4,o[n(420)](s[n(512)])];case 2:return c.sent()?Mu[n(453)](u,o):i.dispatchEvent(new CustomEvent(n(491),{detail:{message:"Failed to load previous EME session"}})),[3,4];case 3:return a=c.sent(),i[n(505)](new CustomEvent(n(491),{detail:{message:n(464)+a}})),[3,4];case 4:return[3,6];case 5:o[n(503)](t.initDataType,t[n(504)]).then((function(){Lu&&Mu[n(453)](u,o)}))[n(461)]((function(t){var r=n;i[r(505)](new CustomEvent(r(491),{detail:{message:r(474)+t}}))})),c.label=6;case 6:return[3,8];case 7:i[n(505)](new CustomEvent(n(491),{detail:{message:n(442)}})),c.label=8;case 8:return[2]}}))}))}var Bu=us;function Vu(){var t=[" too close to seek, ","fpsCertificateUrl","9880640TWxZrg","H264","ignoreAudio","Unable to create Worker!","createMediaKeys(",", restart required: ","/license-proxy-headerauth/drmtoday/RightsManager.asmx","6236Nwzlef","worker","serverCertificateUrl","serverCertificate","seq",",255]).buffer,idrFrames.push(new Uint8Array([0,0,0,1,39,100,0,13,172,87,5,6,100,0,0,0,1,40,238,60,176,0,0,0,1,37,","ClearKey","No valid DRM config found, call rtcDrmConfigure first.","sessionId","toISOString","indexOf","robustness","isInteger","info","includes","Development","slice","16niaptx"," frame","video/mp4","isArray","Android","end","PlayReady","streamType","1772WtcYWF","]: ","Frame gap: ","nextKeyFrameAllowedTime","use rtcDrmFeedFrame to push frames manually","Error recovery attempted","merchant","FairPlay","requestMediaKeySystemAccess(","pipeThrough","/license-server-fairplay/","isChrome","type","MSE (re)init","const DUMMY_IDR_FRAME_SLICE_HDR0=new Uint8Array([32,0,203]),DUMMY_IDR_FRAME_SLICE_HDR1=new Uint8Array([16,0,50]);","DRM config env value must be one of: ","length","GOP is getting too long, requesting a new key frame","Worker","let brokenFrame=null,idrFrames=[];function initializeDummyFrames(){brokenFrame=new Uint8Array([0,0,0,1,65,154,255","srcObject","RTCRtpScriptTransform","),idrFrames.push(idrFrames[0].slice());let $=new Uint8Array(idrFrames[1]);$.set([16,0,50],27)}let idrPicIdToggle=","now"," to ","join","setServerCertificate","audioCapabilities","lastKeyFrameTime","prevSeqNum"," seeking from ",".experiment","clRtcDrmDebugLog","Server certificate fetch failed with error ","isFirefox","org.w3.clearkey","x-dt-custom-data","jitterBufferTarget","playbackRate","enabled","keyFrameNeeded","createEncodedStreams","wvCertificateUrl","key","sai","Discarding corrupted video frame (too small)",'gle^=1]}function audioTransformFunction($,e){postMessage({streamType:"audio",frame:{timestamp:$.timestamp,data:$.',"H264 is the only supported video codec.","com.microsoft.playready.recommendation"," will be used","DRM config iv must be an instance of 16-byte long Uint8Array.","encryption","0;function generateDummyFrame($){return(brokenFrame||initializeDummyFrames(),$)?brokenFrame:idrFrames[idrPicIdTog","toString","message","status","bytesSinceKey","currentTime","supportsRtpScriptTransform","1585647fRskxG","audioElement","track","sinf","createObjectURL","enqueue","Invalid videoElement, it must be an instance of HTMLVideoElement.","7302558TqFWae","pipeTo","SampleAuxInfo extraction failed (video)","isEdge","keys","not-allowed","rtcdrmerror","btoa","?audioTransformFunction:videoTransformFunction});e.pipeThrough(a).pipeTo(x)}self.RTCTransformEvent&&(self.onrtctr",", a1d1f1 is recommended).","reportDiscontinuity","onFetch","keyId","sessionTypes","). Edge only supports PlayReady, Widevine and ClearKey.","audioEncrypted","audioStartTimestamp","frame","videoStartTimestamp","184,32,0,203,255,38,29,217,24,192,161,96,0,0,12,229,174,166,6,7,20,3,84,0,247,96,193,181,229,128,0,32,32]).buffer","Duplicate/reordered frame, prev seq: ","ClearKey is not supported by Safari.","bind",") not found in [","DRM config robustness can only be one of: ","persistent-license","postMessage","receiver","get","both","jmuxer","Production","Blob","timestamp","cenc","emeConfig","clear","cbcs-1-9","5iKPdqC","isWindows","PlayReady license acquisition might fail without output protection enabled (sessionId is ","). Chrome only supports Widevine and ClearKey.","mediaBufferMs should be an integer.","size","certificate","prLicenseUrl","fpsLicenseUrl","/license-proxy-widevine/cenc/","4572770OAoUlm","BYTES_PER_ELEMENT","then","SW_SECURE_CRYPTO","ansform=$=>{let e=$.transformer;handleTransform(e.options.operation,e.readable,e.writable)}),onmessage=$=>{keyFra","splice","Safari doesn't support 'cenc'/AES-CTR, use 'cbcs' instead if possible.","videoElement","rtcDrmConfigure did not specify audioElement, audio will be dropped",'audio/mp4; codecs="opus"',"object","Invalid audioElement, it must be an instance of HTMLMediaElement.","keyFrameNeededPosted","debugCreateMediaDump","next","play","6591266VeIbXo","userId","jitterBufferDelayHint",'ame(keyFrameNeeded),e.enqueue($)}function handleTransform($,e,x){let a=new TransformStream({transform:"audio"===$',"dispatchEvent","reduce"," bytes, playback at ","offset","arrayBuffer","waitingForIdr","Widevine","DRM config mediaBufferMs should be an integer.","hwSecurity","authToken","audio"," bytes)","push","licenseUrl","Default transform mode enabled, ","RTCRtpScriptTransform/TransformStream will not be created, ","GET","baseUrl","video","trim","7377TdQrIK","3000","playoutDelayHint","catch","fpsCertificate","POSITIVE_INFINITY","/license-server-fairplay/cert/","DRM config:","streams","mediaBufferMs","log","codec","onmessage","Target video element (","Applying pre-configured certificate (","webkitURL","Discarding corrupted video frame (no Annex B startcode)"," requesting a new key frame (latency ","PlayReady might not support '","No target media element!","URL","set","warn","data","config","isSafari","forEach","setMediaKeys","buffered"," - ","keySystem",'data}}),e.enqueue($)}let keyFrameNeeded=!1;function videoTransformFunction($,e){postMessage({streamType:"video",f',"paused","wvCertificate","a1d1f1","2000","keyFrameRequestInterval","Several DRM configs detected, rtcDrmOnTrack have to be called with target DRM config.","error","238HZxcdH","HW_SECURE_ALL","Invalid DRM type (","buffer","x-dt-auth-token","clRtcDrmCreateMediaDump",'rame:{type:$.type,timestamp:$.timestamp,data:$.data}}),"key"===$.type&&(keyFrameNeeded=!1),$.data=generateDummyFr',"addEventListener",") failed","keyFrameLogCntr","feed","byteLength","kind","purchase","environment","videoCapabilities","requestMediaKeySystemAccess","temporary","). It has to be a string containing a JWT.","value",".. ","string"];return(Vu=function(){return t})()}!function(){for(var t=us,n=Vu();;)try{if(A(t(543))/1*(A(t(512))/2)+A(t(473))/3*(A(t(568))/4)+-A(t(672))/5*(-A(t(634))/6)+-A(t(536))/7+A(t(560))/8*(A(t(627))/9)+-A(t(682))/10+-A(t(449))/11==932877)break;n.push(n.shift())}catch(t){n.push(n.shift())}}();var Fu=Me[Bu(626)],Uu=Me[Bu(602)],Wu=Me[Bu(498)],Zu=Me[Bu(637)],Xu=Me[Bu(579)],Gu=Me.platform,Hu=Me[Bu(673)],zu=Zu||Xu&&Gu===Bu(564),Yu=1e6*(Uu?82:Wu?220:120),ju=Uu?5e3:2e3,Ku=Uu?1.5:.5;function qu(t){var n=Bu;return(void 0===t?"undefined":U(t))!==n(692)||null===t||t instanceof Element||t instanceof au?t:function(t){var n=Bu;return!!((null==t?void 0:t[n(515)])instanceof ArrayBuffer&&null!=t&&t[n(683)])}(t)?t[n(559)]():Array[n(563)](t)?t[n(454)]((function(t,n,i){return t[i]=qu(n),t}),[]):t instanceof b?b[n(638)](t)[n(454)]((function(n,i){return n[i]=qu(t[i]),n}),{}):t}var Ju=function(t){var n=Bu;this[n(545)]="",this.licenseUrl="",this[n(503)]="",this[n(669)]=[],this[n(497)]=qu(t),this[n(664)]=null,this[n(521)]=0,this[n(571)]=Date.now(),this.videoStartTimestamp=0,this.audioStartTimestamp=0,this.prevSeqNum=-1,this[n(596)]=0,this[n(624)]=0,this.keyFrameNeeded=!0,this.keyFrameNeededPosted=!1,this.keyFrameRequestInterval=ju,this.worker=null},Qu=new Map,$u=new E([60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60]),ts=new E([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1]),ns=new E([213,251,214,184,46,217,62,78,249,138,228,9,49,238,51,183]);function is(t){var n=Bu,i=!1;if((t[n(497)].video&&"clear"!==t[n(497)].video[n(619)]&&"HW"===t.config[n(471)][n(554)]||t[n(497)][n(463)]&&t[n(497)][n(463)].encryption!==n(670)&&"HW"===t[n(497)][n(463)][n(554)])&&(i=!0),t.hwSecurity=i,function(t,n){var i=Bu;void 0!==n&&(t[i(497)][i(482)]=n),(void 0===t[i(497)][i(482)]||t[i(497)].mediaBufferMs<0)&&(t.config[i(482)]=100,Uu?t[i(497)][i(482)]=350:!Wu&&Hu&&(t[i(497)][i(580)]===i(566)||t[i(461)])&&(t[i(497)][i(482)]=1400))}(t,t[n(497)][n(482)]),void 0===t.config.authToken){void 0===t.config[n(450)]&&(t[n(497)][n(450)]=n(525)),void 0===t[n(497)][n(551)]&&(t.config[n(551)]=n(507));var r=f[n(641)](JSON.stringify({userId:t.config[n(450)],sessionId:t[n(497)][n(551)],merchant:t.config[n(574)]}));Pu(n(604),r)}else Pu(n(516),t.config[n(462)]);for(var e=0,u=[t[n(497)].audio,t[n(497)][n(471)]];e<u.length;e++){var s=u[e];s&&s[n(619)]!==n(670)&&(s[n(646)]||(s[n(646)]=ts),s.iv||(s.iv=ns))}t[n(546)]=void 0,t[n(545)]="",t[n(466)]="";var o,a=t.config[n(526)][n(470)]();if(t[n(497)][n(580)]===n(549)?(t.keySystem=n(603),Tu=$u):t.config.type===n(459)?(t[n(503)]="com.widevine.alpha",Hu&&i&&(t[n(503)]+=n(599)),t.config.wvCertificate?t[n(546)]=t[n(497)][n(506)]:t[n(497)][n(610)]?t[n(545)]=t[n(497)][n(610)]:t[n(546)]=t.config[n(526)][n(678)](),t.config.wvLicenseUrl?t[n(466)]=t[n(497)].wvLicenseUrl:t[n(466)]=a+n(681)):t[n(497)][n(580)]===n(566)?(t[n(503)]=n(616),t[n(497)][n(679)]?t.licenseUrl=t[n(497)][n(679)]:t[n(466)]=a+n(542)):t[n(497)].type===n(575)&&(t.keySystem="com.apple.fps",t.config[n(477)]?t[n(546)]=t[n(497)][n(477)]:t[n(497)][n(535)]?t.serverCertificateUrl=t.config[n(535)]:t[n(545)]=a+n(479)+t[n(497)].merchant,t[n(497)][n(680)]?t[n(466)]=t.config.fpsLicenseUrl:t.licenseUrl=a+n(578)),o={licenseUrl:t[n(466)],onFetch:t.config[n(645)]},pu=o,t[n(669)]=[],t.config[n(580)]!==n(575)){t[n(669)][n(465)]({initDataTypes:[n(668)],sessionTypes:["persistent-license",n(529)]});for(var c=0,h=[t[n(497)][n(471)],t[n(497)][n(463)]];c<h.length;c++){var v=h[c];if(v&&v.encryption!==n(670)){var d=v==t[n(497)][n(471)]?n(471):n(463),l=void 0;t[n(497)][n(580)]===n(459)?l="HW"===v[n(554)]?n(513):n(685):"PlayReady"===t[n(497)][n(580)]&&(l="HW"===v.robustness?n(474):n(508)),d===n(471)?t[n(669)][0][n(527)]=[{contentType:'video/mp4; codecs="avc1.640032"',encryptionScheme:"cenc"===v[n(619)]?n(668):"cbcs-1-9",robustness:l||void 0}]:t[n(669)][0][n(595)]=[{contentType:n(691),encryptionScheme:v[n(619)]===n(668)?"cenc":n(671),robustness:l||void 0}]}}}else t[n(669)]=[{initDataTypes:[n(630)],videoCapabilities:[{contentType:n(562),robustness:""}],distinctiveIdentifier:"not-allowed",persistentState:n(639),sessionTypes:["temporary"]}];f[n(600)]&&console.info(n(480),t)}function rs(t){var n=Bu;f[n(600)]&&console[n(556)](n(581));var i=t[n(497)].videoElement;(!t[n(497)][n(471)]||t.config[n(471)][n(619)]===n(670))&&(i=t.config.audioElement),t[n(664)]=null;var r=!t.ignoreAudio&&t[n(497)][n(463)]&&"clear"!==t[n(497)].audio[n(619)],e=t[n(497)][n(471)]&&t.config.video[n(619)]!==n(670);t[n(624)]=0,t[n(608)]=!0,t.keyFrameNeededPosted=!1,t[n(509)]=ju,t[n(652)]=0,t[n(650)]=0,t[n(597)]=-1,t[n(596)]=0,t.jmuxer=new nu({node:i,mode:r?n(e?663:463):"video",fps:60,drm:t}),Wu&&t[n(497)].videoElement&&t[n(497)][n(689)][n(448)]()[n(684)]((function(){}))[n(476)]((function(){}))}function es(t,n,i){var r=Bu;if(t[r(497)][r(471)]&&"clear"===t.config[r(471)][r(619)])return null==i||i[r(632)](n),!1;var e=Date[r(591)]();if(n.type===r(611)){var u=f[r(600)];++t[r(521)]<(u?Number[r(478)]:5)&&(console[r(556)]((new Date)[r(552)]().slice(11,-1)+" "+n[r(580)]+", "+(n[r(496)].byteLength+r(455)+t[r(497)][r(689)][r(625)])),u&&1===t[r(521)]&&function(t,n,i){void 0===n&&(n=64),void 0===i&&(i=64);for(var r=Bu,e=new E(t[r(496)]),u="",s=0,o=0;o<n&&o<e[r(584)];++o)u+=(e[o]<16?"0":"")+e[o].toString(16)+" ";if(s<e[r(584)])for(s<e[r(584)]-i&&(u+=r(532),s=e[r(584)]-i);s<e[r(584)];s++)u+=(e[s]<16?"0":"")+e[s][r(621)](16)+" ";console.info("["+((t[r(580)]||r(463))+r(561))+r(569)+u[r(472)]())}(n,128,8)),t[r(608)]=!1,t[r(624)]=0,t[r(571)]=e+t[r(509)]}return t[r(624)]+=n.data[r(523)],!t[r(608)]&&t[r(624)]>Yu&&(console[r(556)](r(585)),t[r(608)]=!0),t.jmuxer&&(function(t,n){var i=Bu;0===t[i(652)]&&(t[i(652)]=n[i(667)],t[i(509)]=ju,t[i(571)]=Date[i(591)]()+2e3);var r=null,e=!1;if(n.data[i(523)]<=4)console[i(495)](i(613)),e=!0;else{var u=new E(n[i(496)],0,4);0!=u[0]||0!=u[1]||0!=u[2]||1!=u[3]?(console[i(495)](i(489)),e=!0):!(r=function(t,n){var i=hu,r=new DataView(t[i(335)]),e=t.data[i(346)]-2,u=r[i(340)](e);if(u<e){var s=e-u;if(69!==r[i(337)](e-1))return console[i(341)](i(339)),null;if(r.getUint8(s++)>>>4!=1)return console[i(341)](i(329)),null;for(var o=new E(u-2),a=0,c=0;s<e-1;){var h=r.getUint8(s++);c>1&&3===h&&(c=0,h=r.getUint8(s++)),0!==h?c=0:++c,o[a++]=h}var f=new DataView(o[i(343)]),v=n===i(327)?16:0,d=v+2+6*f.getUint16(v);return d+2>a?(console.error(i(325)),null):{sai:o[i(345)](0,d),offset:e-u,seq:f.getUint16(d)}}return null}(n,t[i(497)][i(471)][i(619)]))&&(console.warn(i(636)),e=!0)}if(r)if(-1===t[i(597)]){if(n[i(580)]!==i(611))return 0;t[i(597)]=r[i(547)]}else{var s=r.seq-t[i(597)];if(s<-32767&&(s+=65536),s<=0)return f[i(600)]&&console[i(495)](i(654)+t[i(597)]+", curr: "+r[i(547)]),0;s>1&&(e=n[i(580)]!==i(611),console[i(495)](i(570)+t[i(597)]+i(502)+r[i(547)]+i(541)+e)),t.prevSeqNum=r[i(547)]}var o=0;e&&!t[i(664)][i(458)]&&(o=-1,t[i(664)][i(644)]());var a=(n[i(667)]-t[i(652)])/9e4;return r&&t[i(664)][i(522)]({video:new E(n.data,0,r[i(456)]),videoSampleAuxInfo:r[i(612)],timestamp:a})<0&&(o=-1,console[i(495)](i(573)),rs(t)),o>=0&&"key"===n[i(580)]&&(t[i(596)]=a,console[i(483)]((new Date)[i(552)]()[i(559)](11,-1)+" kf at "+a+", playback at "+t[i(497)].videoElement[i(625)])),o}(t,n)<0?t[r(608)]=!0:function(t){var n=Bu,i=t.config[n(689)];if(!(!i||i[n(501)][n(584)]<1||i[n(505)]||i[n(625)]<Ku)){var r=t[n(497)].mediaBufferMs;if(void 0===r||r<0)throw new p("targetLatency not set!");var e,u,s,o,a,c=i[n(501)][n(565)](i[n(501)][n(584)]-1),h=1e3*(c-i[n(625)])|0;if(!t[n(649)]&&(a=Bu,(o=(u=h)<3*(s=r)>>>2?.875:u<=s?1:u<7*s>>>2?1.125:u<9*s>>>2?1.25:u<11*s>>>2?1.375:1.5)!==(e=i).playbackRate&&(e[a(606)]=o)),!(h<r+50||h<5*r>>>2))if(t.lastKeyFrameTime>i[n(625)]+.1){var v=1e3*(c-t[n(596)])|0;v>40&&v>r-100?(f[n(600)]&&console.info((new Date).toISOString().slice(11,-1)+n(598)+(i[n(625)]+n(592)+t[n(596)]+" (")+(t.lastKeyFrameTime-i[n(625)])+")"),i[n(625)]=t[n(596)]):console[n(483)]((new Date)[n(552)]().slice(11,-1)+n(534)+v)}else!t[n(608)]&&Date[n(591)]()>t[n(571)]&&h>r+100&&h>3*r>>>1&&(f[n(600)]&&console[n(556)]((new Date).toISOString()[n(559)](11,-1)+n(490)+h+" ms)"),t[n(608)]=!0,t[n(509)]<16e3&&(t[n(509)]<<=1))}}(t)),i?(!t[r(608)]||!zu)&&(n[r(496)]=function(t){return!lu&&function(){var t=vu;lu=new E([0,0,0,1,65,154,255,255]).buffer,du[t(303)](new E([0,0,0,1,39,100,0,13,172,87,5,6,100,0,0,0,1,40,238,60,176,0,0,0,1,37,184,32,0,203,255,38,29,217,24,192,161,96,0,0,12,229,174,166,6,7,20,3,84,0,247,96,193,181,229,128,0,32,32])[t(306)]),du[t(303)](du[0][t(299)](0)),new E(du[1]).set([16,0,50],27)}(),t?lu:du[gu^=1]}(t[r(608)]),i[r(632)](n)):t[r(608)]!=t[r(445)]&&(t.worker&&t[r(544)][r(660)](t[r(608)]),t[r(445)]=t[r(608)]),t[r(608)]}function us(t,n){var i=Vu();return(us=function(t,n){return i[t-=445]})(t,n)}function ss(t,n,i){var r=Bu;return t[r(497)][r(463)]&&t[r(497)].audio[r(619)]!==r(670)?n[r(496)][r(523)]>0&&function(t,n){var i,r=Bu;if(!t.jmuxer||t[r(538)])return 0;0===t[r(650)]&&(t[r(650)]=n[r(667)]);var e=(n[r(667)]-t.audioStartTimestamp)/48e3;if("cbcs"===(null===(i=t.config[r(463)])||void 0===i?void 0:i[r(619)]))return t[r(664)][r(522)]({audio:new E(n[r(496)]),timestamp:e});var u=function(t){var n=hu,i=new DataView(t.data),r=t.data[n(346)]-2,e=i.getUint16(r);if(e<r){var u=r-e;if(69!==i[n(337)](r-1))return console[n(341)](n(339)),null;if(i[n(337)](u++)>>>4!=1)return console[n(341)](n(329)),null;for(var s=new E(e-2),o=0;u<r-1;){var a=i[n(337)](u++);if(s[o++]=a,o>=16)break}return{sai:s,offset:r-e}}return null}(n);u?t[r(664)][r(522)]({audio:new E(n[r(496)],0,u[r(456)]),audioSampleAuxInfo:u[r(612)],timestamp:e}):console[r(511)]("SampleAuxInfo extraction failed (audio)")}(t,n):i&&i[r(632)](n),!1}function os(t){var n=Bu;if(!t||(void 0===t?"undefined":U(t))!==n(692))throw new _("Invalid config argument type, DRM config must be an object.");if(!(t[n(689)]instanceof HTMLVideoElement))throw new _(n(633));if(t[n(628)]&&!(t.audioElement instanceof HTMLMediaElement))throw new _(n(693));if(void 0!==t[n(482)]&&!Number[n(555)](t[n(482)]))throw new _(n(460));for(var i=!1,r=!1,e=!1,u=["cbcs",n(668),n(670)],s=["SW","HW"],o=0,a=[t[n(471)],t[n(463)]];o<a.length;o++){var c=a[o];if(c){if(!u[n(557)](c[n(619)]))throw new RangeError("DRM config encryption value must be one of: "+u[n(593)](", "));if(Wu&&"cenc"===c.encryption)throw new RangeError(n(688));if(c[n(619)]!==n(670)){if(r=!0,c.keyId){if(!(c[n(646)]instanceof E)||16!==c.keyId[n(584)])throw new _("DRM config keyId must be an instance of 16-byte long Uint8Array.");e=!0}else if(Wu)throw new ReferenceError(n(655));if(c.iv&&(!(c.iv instanceof E)||16!==c.iv.length))throw new _(n(618));if(c[n(554)]&&!s[n(557)](c.robustness))throw new RangeError(n(658)+s[n(593)](", "));if(c===t[n(471)]&&c[n(484)]!==n(537))throw new RangeError(n(615));Wu&&c===t.audio&&"opus"===c.codec&&(i=!0,console.warn("Safari does not support Opus, audio will not be rendered.")),"PlayReady"===t[n(580)]&&(c[n(619)]!==n(668)&&console[n(495)](n(491)+c[n(619)]+"', it's safer to use 'cbcs' instead."),void 0===t.sessionId||t.sessionId[n(557)]("f1")||console.warn(n(674)+t.sessionId+n(643)))}}}if(r){var h=[au[n(558)],au.Staging,au[n(665)]];if(!h.includes(t[n(526)]))throw new RangeError(n(583)+h.join(", "));if(t[n(462)]&&U(t[n(462)])!==n(533))throw new _("Invalid authToken type ("+U(t[n(462)])+n(530));if(t.type)if(Wu){if(t[n(580)]!==n(575))throw new RangeError(n(514)+t[n(580)]+"). Safari only supports FairPlay.")}else if(Xu){if(t.type!==n(459)&&"ClearKey"!==t[n(580)])throw new RangeError("Invalid DRM type ("+t.type+n(675))}else if(Zu&&t[n(580)]!==n(566)&&"Widevine"!==t[n(580)]&&"ClearKey"!==t[n(580)])throw new RangeError(n(514)+t.type+n(648))}void 0!==t.debugLog&&(f[n(600)]=t.debugLog),void 0!==t[n(446)]&&(f[n(517)]=t[n(446)]);var v=Qu.get(t[n(689)]);!v&&(v=new Ju(t),Qu[n(494)](t[n(689)],v)),v.enabled=r,v[n(538)]=i,v[n(649)]=!i&&v[n(497)][n(463)]&&v[n(497)].audio.encryption!==n(670),r&&(v[n(497)].type||(v[n(497)][n(580)]=n(Wu?575:459)),e||v[n(497)][n(580)]===n(549)||(v[n(497)][n(580)]=n(549)),is(v),function(t){ke(this,void 0,void 0,(function(){var n,i,r,e,u,s,o,a,c,h,v,d,g,w,m,y;return Ht(this,(function(_){switch(_.label){case 0:if(e=t[(n=us)(497)][n(689)],(!t[n(497)][n(471)]||t[n(497)][n(471)].encryption===n(670))&&(e=t[n(497)][n(628)]),!e)throw new p(n(492));return e.src="",e[n(588)]=null,[4,e.setMediaKeys(null)];case 1:_.sent(),u=null,_.label=2;case 2:return _.trys.push([2,4,,5]),[4,l[n(528)](t[n(503)],t.emeConfig)];case 3:return u=_.sent(),[3,5];case 4:return _.sent(),[3,5];case 5:if(u||!t[n(669)][0])return[3,9];if(!(void 0!==(s=null===(i=t[n(669)][0][n(647)])||void 0===i?void 0:i[n(553)](n(659)))&&s>=0))return[3,9];null===(r=t.emeConfig[0].sessionTypes)||void 0===r||r[n(687)](s,1),_.label=6;case 6:return _.trys.push([6,8,,9]),[4,l[n(528)](t[n(503)],t[n(669)])];case 7:return u=_.sent(),[3,9];case 8:return _.sent(),[3,9];case 9:if(!u)return o=n(576)+t[n(503)]+n(520),[2,(e.dispatchEvent(new CustomEvent(n(640),{detail:{message:o}})),void console[n(511)](o))];a=null,_.label=10;case 10:return _.trys.push([10,12,,13]),[4,u.createMediaKeys()];case 11:return a=_.sent(),[3,13];case 12:return _.sent(),[3,13];case 13:return a?t.serverCertificate?(f.clRtcDrmDebugLog&&console[n(556)](n(487)+t[n(546)][n(523)]+n(464)),[4,a[n(594)](t[n(546)])]):[3,15]:(c=n(540)+t[n(503)]+n(520),[2,(e[n(453)](new CustomEvent("rtcdrmerror",{detail:{message:c}})),void console[n(511)](c))]);case 14:return _.sent(),[3,21];case 15:if(!t.serverCertificateUrl)return[3,21];h={method:n(469)},v=t.serverCertificateUrl,_.label=16;case 16:return _.trys.push([16,20,,21]),[4,t[n(497)].onFetch?t.config[n(645)](v,h):fetch(v,h)];case 17:return(d=_.sent()).ok?[4,d[n(457)]()]:(g=n(601)+d[n(623)],[2,void e[n(453)](new CustomEvent(n(640),{detail:{message:g}}))]);case 18:return w=_.sent(),f.clRtcDrmDebugLog&&console[n(556)]("Fetched certificate from "+v+", "+w[n(523)]+" bytes"),[4,a[n(594)](w)];case 19:return _.sent(),[3,21];case 20:return m=_.sent(),y=m.name+": "+m[n(622)],[2,(console.error(y),void e[n(453)](new CustomEvent(n(640),{detail:{message:y}})))];case 21:return[4,e[n(500)](a)];case 22:return _.sent(),e[n(519)]("encrypted",Ou),rs(t),[2]}}))}))}(v)),v[n(497)][n(689)][n(519)](n(448),(function(){var t=n;v[t(497)][t(689)][t(625)]>.5&&(v[t(571)]=Date.now())}))}var as=Bu(582)+Bu(587)+Bu(548)+Bu(653)+Bu(590)+Bu(620)+Bu(614)+Bu(504)+Bu(518)+Bu(452)+Bu(642)+Bu(686)+"meNeeded=$.data};";function cs(t){var n,i=Bu;if(0===Qu[i(677)])throw new _(i(550));if(t&&t[i(689)])n=t[i(689)];else{if(1!==Qu.size)throw new _(i(510));n=Qu[i(638)]()[i(447)]()[i(531)]}var r=Qu[i(662)](n);if(!r){var e="";throw Qu[i(499)]((function(t,n){e+=n.id+", "})),e=e.slice(0,-2),new _(i(486)+n.id+i(657)+e+"]")}return r}function hs(t,n){var i=Bu;if(t&&t[i(497)][i(689)]){var r=t[i(497)][i(689)];if(r[i(501)].length>0){var e=r.buffered[i(565)](r[i(501)][i(584)]-1)-r[i(625)];n.playoutDelayHint=n.jitterBufferDelayHint=n.jitterBufferTarget=e}g(hs,1e3,t,n)}}var fs=gt.get("View");fs.setLevel(gt.DEBUG);var vs={metadata:!1,enableDRM:!1,disableVideo:!1,disableAudio:!1,peerConfig:{autoInitStats:!0,statsIntervalMs:1e3}},ds=function(t){function n(n,i,r,e){var u;return void 0===r&&(r=null),void 0===e&&(e=!0),n&&fs.warn("The streamName property has been deprecated. In a future release, this will be removed. Please do not rely on this value. Instead, set via token generator"),(u=t.call(this,null,i,fs,e)||this).payloadTypeCodec={},u.tracksMidValues={},u.drmOptionsMap=null,u.eventQueue=[],u.isMainStreamActive=!1,r&&(u.on(br.track,(function(t){r.srcObject=t.streams[0]})),fs.warn("The mediaElement property has been deprecated. In a future release, this will be removed. Please do not rely on this value. Instead, do this in either the `track` or the `active` broadcast event.")),u}It(n,t);var i=n.prototype;return i.connect=function(t){void 0===t&&(t=vs);var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.options=R(w(w({},vs),t),{peerConfig:w(w({},vs.peerConfig),t.peerConfig),setSDPToPeer:!1}),n.eventQueue.length=0,[4,n.initConnection({migrate:!1})];case 1:return i.sent(),[2]}}))}))()},i.select=function(t){void 0===t&&(t={});var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return fs.debug("Viewer select layer values: ",t),[4,n.signaling.cmd("select",{layer:t})];case 1:return i.sent(),fs.info("Connected to streamName: ",n.streamName),[2]}}))}))()},i.addRemoteTrack=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return fs.info("Viewer adding remote track",t),[4,i.webRTCPeer.addRemoteTrack(t,n)];case 1:for(r=u.sent(),e=0;e<n.length;e++)n[e].addTrack(r.receiver.track);return[2,r]}}))}))()},i.project=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:for(r=function(t){var r=n[t];if(!r.trackId&&!r.media)throw fs.error("Error in projection mapping, trackId or mediaId must be set"),new p("Error in projection mapping, trackId or mediaId must be set");var e=i.webRTCPeer.getRTCPeer();if(r.mediaId&&!e.getTransceivers().find((function(t){return t.mid===r.mediaId.toString()})))throw fs.error("Error in projection mapping, ".concat(r.mediaId," mid not found in local transceivers")),new p("Error in projection mapping, ".concat(r.mediaId," mid not found in local transceivers"))},e=0;e<n.length;e++)r(e);return fs.debug("Viewer project source: layer mappings: ",t,n),[4,i.signaling.cmd("project",{sourceId:t,mapping:n})];case 1:return u.sent(),fs.info("Projection done"),[2]}}))}))()},i.unproject=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return fs.debug("Viewer unproject mediaIds: ",t),[4,n.signaling.cmd("unproject",{mediaIds:t})];case 1:return i.sent(),fs.info("Unprojection done"),[2]}}))}))()},i.replaceConnection=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return fs.info("Migrating current connection"),[4,t.initConnection({migrate:!0})];case 1:return n.sent(),[2]}}))}))()},i.stop=function(){var n,i;t.prototype.stop.call(this),null==(n=this.drmOptionsMap)||n.clear(),this.DRMProfile=null,null==(i=this.worker)||i.terminate(),this.worker=null,this.payloadTypeCodec={},this.tracksMidValues={},this.eventQueue.length=0},i.initConnection=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c,h,f,v,d,l,m,y;return Ht(this,(function(_){switch(_.label){case 0:if(fs.debug("Viewer connect options values: ",n.options),n.stopReconnection=!1,!t.migrate&&n.isActive())throw fs.warn("Viewer currently subscribed"),new p("Viewer currently subscribed");_.label=1;case 1:return _.trys.push([1,3,,4]),[4,n.tokenGenerator()];case 2:return e=_.sent(),n.options.peerConfig.iceServers=null==e?void 0:e.iceServers,n.options.peerConfig.encodedInsertableStreams=ve&&(n.options.enableDRM||n.options.metadata),[3,4];case 3:throw u=_.sent(),fs.error("Error generating token."),u instanceof zr&&(401!==u.status&&n.autoReconnect?n.reconnect():n.stopReconnection=!0),u;case 4:if(!e)throw fs.error("Error while subscribing. Subscriber data required"),new p("Subscriber data required");return s=ee(e.jwt),n.streamName=s.millicast.streamName,o=new Xr({streamName:n.streamName,url:"".concat(e.urls[0],"?token=").concat(e.jwt)}),e.subscriberToken&&(n.subscriberToken=e.subscriberToken),[4,(a=t.migrate?new Ar:n.webRTCPeer).createRTCPeer(n.options.peerConfig)];case 5:return _.sent(),null==(i=n.stopReemitingWebRTCPeerInstanceEvents)||i.call(n),n.stopReemitingWebRTCPeerInstanceEvents=Vt(a,n,b.values(br).filter((function(t){return t!==br.track}))),n.options.metadata&&(n.worker||(n.worker=new we),n.worker.onmessage=function(t){if("metadata"===t.data.event){var i=new TextDecoder,r=t.data.metadata;if(r.mid=t.data.mid,r.track=n.tracksMidValues[t.data.mid],r.uuid){var e=r.uuid;r.uuid=e.reduce((function(t,n){return t+n.toString(16).padStart(2,"0")}),""),r.uuid=r.uuid.replace(/(.{8})(.{4})(.{4})(.{4})(.{12})/,"$1-$2-$3-$4-$5")}if(r.timecode&&(r.timecode=new Date(i.decode(r.timecode))),r.unregistered){var u=i.decode(r.unregistered);try{var s=JSON.parse(u);r.unregistered=s}catch(t){fs.info("The content could not be converted to JSON, returning raw bytes instead")}}n.emit("metadata",r),n.emit("onMetadata",r)}}),a.on(br.track,(function(t){n.isMainStreamActive?n.onTrackEvent(t):n.eventQueue.push(t)})),o.on(Zr,Zt((function(t){var i;return Ht(this,(function(r){switch(r.label){case 0:return n.isMainStreamActive||"active"!==t.name?[3,3]:(n.mainSourceId=t.data.sourceId,n.DRMProfile||!t.data.encryption?[3,2]:[4,n.tokenGenerator()]);case 1:(i=r.sent()).drmObject&&(n.DRMProfile=i.drmObject),r.label=2;case 2:for(n.emit(Zr,t),n.isMainStreamActive=!0;n.eventQueue.length>0;)n.onTrackEvent(n.eventQueue.shift());return[2];case 3:return"inactive"===t.name&&n.isMainStreamActive&&n.mainSourceId===t.data.sourceId&&(n.isMainStreamActive=!1),n.emit(Zr,t),[2]}}))}))),c=a.getRTCLocalSDP(R(w({},n.options),{stereo:!0})),h=o.connect(),[4,et.all([c,h])];case 6:return r=_.sent(),f=r[0],v=n.signaling,n.signaling=o,d=n.signaling.subscribe(f,R(w({},n.options),{vad:n.options.multiplexedAudioTracks>0})),l=a.peer.setLocalDescription(a.sessionDescription),[4,et.all([d,l])];case 7:return r=_.sent(),m=r[0],n.payloadTypeCodec=lr.getCodecPayloadType(m),[4,a.setRTCRemoteSDP(m)];case 8:return _.sent(),fs.info("Connected to streamName: ",n.streamName),y=n.webRTCPeer,n.webRTCPeer=a,n.setReconnect(),t.migrate&&n.webRTCPeer.on(br.connectionStateChange,(function(t){var n,i;"connected"===t?g((function(){var t,n;null==(t=null==v?void 0:v.close)||t.call(v),null==(n=null==y?void 0:y.closeRTCPeer)||n.call(y),v=y=null,fs.info("Current connection migrated")}),1e3):["disconnected","failed","closed"].includes(t)&&(null==(n=null==v?void 0:v.close)||n.call(v),null==(i=null==y?void 0:y.closeRTCPeer)||i.call(y),v=y=null)})),[2]}}))}))()},i.onTrackEvent=function(t){var n,i,r;if(this.tracksMidValues[null==(n=t.transceiver)?void 0:n.mid]=t.track,this.isDRMOn){var e=t.transceiver.mid,u=this.getDRMConfiguration(e);try{!function(t,n){var i,r,e=Bu,u=t[e(629)][e(524)];"video"===u&&(t[e(661)][e(475)]=t[e(661)][e(451)]=t[e(661)][e(605)]=0);var s=cs(n),o=s[e(497)].videoElement,a=s[e(497)][e(628)];if(s[e(607)]){if(s[e(497)].customTransform)f.clRtcDrmDebugLog&&console[e(556)](e(468)+e(572));else if(f[e(600)]&&console[e(556)](e(467)+(e(Fu?589:609)+e(617))),Fu){if(s[e(544)]=function(t){var n=Bu,i=f[n(493)]||f[n(488)],r=f[n(666)],e=f[n(586)];if(!(i&&r&&e&&t))return null;var u=new r([t]);return new e(i[n(631)](u))}(as),null==s[e(544)])throw new p(e(539));s[e(544)][e(485)]=function(t){var n=e;t[n(496)][n(567)]===n(471)?es(s,t[n(496)].frame,null):ss(s,t[n(496)][n(651)],null)},t[e(661)].transform=new RTCRtpScriptTransform(s.worker,{operation:u})}else{var c=u===e(471)?es:ss,h={drm:s,transform:function(t,n){c(s,t,n)}},v=t.receiver.createEncodedStreams(),d=new TransformStream({transform:h.transform[e(656)](h)}),l=v.readable,g=v.writable;l[e(577)](d)[e(635)](g)}if("audio"===u&&(null===(i=s[e(497)][e(463)])||void 0===i?void 0:i.encryption)===e(670)){if(!a)return void console.warn(e(690));a[e(588)]!==t[e(481)][0]&&(a[e(588)]=t[e(481)][0]),s[e(497)].videoElement&&(t[e(661)][e(475)]=t[e(661)].jitterBufferDelayHint=t[e(661)][e(605)]=s[e(497)][e(482)],hs(s,t[e(661)]))}else"video"===u&&"clear"===(null===(r=s.config[e(471)])||void 0===r?void 0:r[e(619)])&&o[e(588)]!==t[e(481)][0]&&(o.srcObject=t.streams[0])}else o[e(588)]!==t[e(481)][0]&&(o.srcObject=t[e(481)][0])}(t,u)}catch(t){fs.error("Failed to apply DRM on media Id:",e,"error is: ",t),this.emit("error",new p("Failed to apply DRM on media Id: "+e+" error is: "+t))}this.worker||(this.worker=new we),this.worker.addEventListener("message",(function(t){"complete"===t.data.event&&function(t,n,i){var r=Bu,e=cs(i);t[r(580)]?es(e,t,n):ss(e,t,n)}(t.data.frame,null,u)}))}if(this.options.metadata)if(de)t.receiver.transform=new RTCRtpScriptTransform(this.worker,{name:"receiverTransform",payloadTypeCodec:w({},this.payloadTypeCodec),codec:this.options.metadata&&"h264",mid:null==(i=t.transceiver)?void 0:i.mid});else if(ve){var s=t.receiver.createEncodedStreams(),o=s.readable,a=s.writable;this.worker.postMessage({action:"insertable-streams-receiver",payloadTypeCodec:w({},this.payloadTypeCodec),codec:this.options.metadata&&"h264",mid:null==(r=t.transceiver)?void 0:r.mid,readable:o,writable:a},[o,a])}this.emit(br.track,t)},i.getDRMConfiguration=function(t){return this.drmOptionsMap?this.drmOptionsMap.get(t):null},i.onRtcDrmFetch=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){return[2,(n.headers||(n.headers=new Headers),n.headers.get("x-dt-custom-data")&&n.headers.delete("x-dt-custom-data"),i.subscriberToken?n.headers.append("Authorization","Bearer ".concat(i.subscriberToken)):fs.warn("onRtcDrmFetch: no subscriberToken"),fetch(t,n))]}))}))()},i.configureDRM=function(t){var n=this;if(!t)throw new p("Required DRM options is not provided");this.drmOptionsMap||(this.drmOptionsMap=new Map);var i={merchant:"dolby",environment:au.Production,customTransform:this.options.metadata,videoElement:t.videoElement,audioElement:t.audioElement,video:{codec:"H264",encryption:"cbcs",keyId:_e(t.videoEncryptionParams.keyId),iv:_e(t.videoEncryptionParams.iv)},audio:{codec:"opus",encryption:"clear"},onFetch:this.onRtcDrmFetch.bind(this)};t.mediaBufferMs&&(i.mediaBufferMs=t.mediaBufferMs),this.DRMProfile&&(this.DRMProfile.playReadyUrl&&(i.prLicenseUrl=this.DRMProfile.playReadyUrl),this.DRMProfile.widevineUrl&&(i.wvLicenseUrl=this.DRMProfile.widevineUrl),this.DRMProfile.fairPlayUrl&&(i.fpsLicenseUrl=this.DRMProfile.fairPlayUrl),this.DRMProfile.fairPlayCertUrl&&(i.fpsCertificateUrl=this.DRMProfile.fairPlayCertUrl));try{os(i),this.drmOptionsMap.set(t.videoMid,i),t.audioMid&&this.drmOptionsMap.set(t.audioMid,i),i.videoElement.addEventListener("rtcdrmerror",(function(t){fs.error("DRM error: ",t.detail.message,"in video element:",i.videoElement.id),n.emit("error",new p(t.detail.message))}))}catch(n){fs.error("Failed to configure DRM with options:",t,"error is:",n)}},i.removeDRMConfiguration=function(t){var n;null==(n=this.drmOptionsMap)||n.delete(t)},i.exchangeDRMConfiguration=function(t,n){var i=this.getDRMConfiguration(t),r=this.getDRMConfiguration(n);if(null===i)throw new p("No DRM configuration found for "+t);if(null===r)throw new p("No DRM configuration found for "+n);be(i.video,r.video,"keyId"),be(i.video,r.video,"iv");try{os(i)}catch(t){fs.error("Failed to configure DRM with options:",i,"error is:",t)}try{os(r)}catch(t){fs.error("Failed to configure DRM with options:",r,"error is:",t)}},Nt(n,[{key:"isDRMOn",get:function(){return!!this.drmOptionsMap&&this.drmOptionsMap.size>0}}]),n}(he);t.Director=Jr,t.Logger=gt,t.PeerConnection=Ar,t.Publish=pe,t.Signaling=Xr,t.View=ds,b.defineProperty(t,n.toStringTag,{value:"Module"})},"object"==(void 0===t?"undefined":U(t))&&(void 0===e?"undefined":U(e))<"u"?s(t):"function"==typeof define&&define.amd?define(["exports"],s):s((u=("undefined"==typeof globalThis?"undefined":U(globalThis))<"u"?globalThis:u||self).millicast={})})),pn=O((function(t){function n(){var t=yn();return n=function(){return t},t}F(),Tt(),b.defineProperty(t,"__esModule",{value:!0}),function(t,n){for(var i in n)b.defineProperty(t,i,{enumerable:!0,get:n[i]})}(t,{Director:function(){return n().Director},View:function(){return n().View}})})),_n=O((function(t,n){F(),Tt(),n.exports=function(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}})),bn=O((function(t,n){F(),Tt(),n.exports=function(t,n){var i=n[0],r=n[1],e=n[2],u=n[3],s=i+i,o=r+r,a=e+e,c=i*s,h=r*s,f=r*o,v=e*s,d=e*o,l=e*a,g=u*s,w=u*o,m=u*a;return t[0]=1-f-l,t[1]=h+m,t[2]=v-w,t[3]=0,t[4]=h-m,t[5]=1-c-l,t[6]=d+g,t[7]=0,t[8]=v+w,t[9]=d-g,t[10]=1-c-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}})),kn=O((function(t,n){F(),Tt(),n.exports=function(t,n,i){var r,e,u,s=i[0],o=i[1],a=i[2],c=k.sqrt(s*s+o*o+a*a);if(k.abs(c)<1e-6)return null;return s*=c=1/c,o*=c,a*=c,r=k.sin(n),e=k.cos(n),u=1-e,t[0]=s*s*u+e,t[1]=o*s*u+a*r,t[2]=a*s*u-o*r,t[3]=0,t[4]=s*o*u-a*r,t[5]=o*o*u+e,t[6]=a*o*u+s*r,t[7]=0,t[8]=s*a*u+o*r,t[9]=o*a*u-s*r,t[10]=a*a*u+e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}})),An=O((function(t,n){F(),Tt(),n.exports=function(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}})),Tn=O((function(t,n){F(),Tt(),n.exports=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}})),Sn=O((function(t,n){F(),Tt(),n.exports=function(t,n){var i=n[0],r=n[1],e=n[2],u=n[3],s=n[4],o=n[5],a=n[6],c=n[7],h=n[8],f=n[9],v=n[10],d=n[11],l=n[12],g=n[13],w=n[14],m=n[15],y=i*o-r*s,p=i*a-e*s,_=i*c-u*s,b=r*a-e*o,k=r*c-u*o,A=e*c-u*a,T=h*g-f*l,S=h*w-v*l,E=h*m-d*l,I=f*w-v*g,R=f*m-d*g,C=v*m-d*w,N=y*C-p*R+_*I+b*E-k*S+A*T;if(!N)return null;return N=1/N,t[0]=(o*C-a*R+c*I)*N,t[1]=(e*R-r*C-u*I)*N,t[2]=(g*A-w*k+m*b)*N,t[3]=(v*k-f*A-d*b)*N,t[4]=(a*E-s*C-c*S)*N,t[5]=(i*C-e*E+u*S)*N,t[6]=(w*_-l*A-m*p)*N,t[7]=(h*A-v*_+d*p)*N,t[8]=(s*R-o*E+c*T)*N,t[9]=(r*E-i*R-u*T)*N,t[10]=(l*k-g*_+m*y)*N,t[11]=(f*_-h*k-d*y)*N,t[12]=(o*S-s*I-a*T)*N,t[13]=(i*I-r*S+e*T)*N,t[14]=(g*p-l*b-w*y)*N,t[15]=(h*b-f*p+v*y)*N,t}})),En=O((function(t,n){F(),Tt(),n.exports=function(t,n,i){var r=n[0],e=n[1],u=n[2],s=n[3],o=n[4],a=n[5],c=n[6],h=n[7],f=n[8],v=n[9],d=n[10],l=n[11],g=n[12],w=n[13],m=n[14],y=n[15],p=i[0],_=i[1],b=i[2],k=i[3];return t[0]=p*r+_*o+b*f+k*g,t[1]=p*e+_*a+b*v+k*w,t[2]=p*u+_*c+b*d+k*m,t[3]=p*s+_*h+b*l+k*y,p=i[4],_=i[5],b=i[6],k=i[7],t[4]=p*r+_*o+b*f+k*g,t[5]=p*e+_*a+b*v+k*w,t[6]=p*u+_*c+b*d+k*m,t[7]=p*s+_*h+b*l+k*y,p=i[8],_=i[9],b=i[10],k=i[11],t[8]=p*r+_*o+b*f+k*g,t[9]=p*e+_*a+b*v+k*w,t[10]=p*u+_*c+b*d+k*m,t[11]=p*s+_*h+b*l+k*y,p=i[12],_=i[13],b=i[14],k=i[15],t[12]=p*r+_*o+b*f+k*g,t[13]=p*e+_*a+b*v+k*w,t[14]=p*u+_*c+b*d+k*m,t[15]=p*s+_*h+b*l+k*y,t}})),In=O((function(t,n){F(),Tt(),n.exports=function(t,n,i,r,e){var u=1/k.tan(n/2),s=1/(r-e);return t[0]=u/i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(e+r)*s,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*e*r*s,t[15]=0,t}})),Rn=O((function(t,n){F(),Tt(),n.exports=function(t,n,i,r){var e,u,s,o,a,c,h,f,v,d,l,g,w,m,y,p,_,b,A,T,S,E,I,R,C=r[0],N=r[1],D=r[2],P=k.sqrt(C*C+N*N+D*D);if(k.abs(P)<1e-6)return null;C*=P=1/P,N*=P,D*=P,e=k.sin(i),u=k.cos(i),s=1-u,o=n[0],a=n[1],c=n[2],h=n[3],f=n[4],v=n[5],d=n[6],l=n[7],g=n[8],w=n[9],m=n[10],y=n[11],p=C*C*s+u,_=N*C*s+D*e,b=D*C*s-N*e,A=C*N*s-D*e,T=N*N*s+u,S=D*N*s+C*e,E=C*D*s+N*e,I=N*D*s-C*e,R=D*D*s+u,t[0]=o*p+f*_+g*b,t[1]=a*p+v*_+w*b,t[2]=c*p+d*_+m*b,t[3]=h*p+l*_+y*b,t[4]=o*A+f*T+g*S,t[5]=a*A+v*T+w*S,t[6]=c*A+d*T+m*S,t[7]=h*A+l*T+y*S,t[8]=o*E+f*I+g*R,t[9]=a*E+v*I+w*R,t[10]=c*E+d*I+m*R,t[11]=h*E+l*I+y*R,n!==t&&(t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]);return t}})),Cn=O((function(t,n){F(),Tt(),n.exports=function(t,n,i){var r,e,u,s,o,a,c,h,f,v,d,l,g=i[0],w=i[1],m=i[2];n===t?(t[12]=n[0]*g+n[4]*w+n[8]*m+n[12],t[13]=n[1]*g+n[5]*w+n[9]*m+n[13],t[14]=n[2]*g+n[6]*w+n[10]*m+n[14],t[15]=n[3]*g+n[7]*w+n[11]*m+n[15]):(r=n[0],e=n[1],u=n[2],s=n[3],o=n[4],a=n[5],c=n[6],h=n[7],f=n[8],v=n[9],d=n[10],l=n[11],t[0]=r,t[1]=e,t[2]=u,t[3]=s,t[4]=o,t[5]=a,t[6]=c,t[7]=h,t[8]=f,t[9]=v,t[10]=d,t[11]=l,t[12]=r*g+o*w+f*m+n[12],t[13]=e*g+a*w+v*m+n[13],t[14]=u*g+c*w+d*m+n[14],t[15]=s*g+h*w+l*m+n[15]);return t}})),Nn={};!function(t,n){for(var i in n)N(t,i,{get:n[i],enumerable:!0})}(Nn,{ChromelessPlayer:function(){return iM},ErrorCategory:function(){return nd},ErrorCode:function(){return td},Player:function(){return iM},cache:function(){return Y5},cast:function(){return R$},features:function(){return uM},players:function(){return oM},registerContentProtectionIntegration:function(){return aM},utils:function(){return eM},version:function(){return sM}}),h.exports=(wn=Nn,B(N({},"__esModule",{value:!0}),wn)),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),Rt(),F(),Tt(),Dt(),F(),Tt(),F(),Tt(),F(),Tt(),Dt(),F(),Tt();var Dn=function(t){return t.Tv="web",t.Ev="android",t.xv="android-tv",t.Rv="ios",t.Iv="tvos",t.Cv="chromecast",t.Pv="theoliveweb",t}({});var Pn=l?l.userAgent:"",xn=Pn.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),Ln=Pn.match(/Edg\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),Mn=Pn.match(/Android ([0-9\.]+)/i),On=Pn.match(/Windows NT ([0-9\.]+)/i),Bn=Pn.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),Vn=Pn.match(/Firefox\/([0-9\.]+)/i),Fn=Pn.match(/OPR\/(\d+\.\d+)/i),Un=Pn.match(/Tizen ([0-9\.]+)/i),Wn=Pn.match(/(iPhone OS|iPad OS|iPod OS|Mac OS X) (\d+)_(\d+)_?(\d+)?/),Zn=Pn.match(/HbbTV\/([0-9.]+)/i),Xn=function(){function t(){this.Dv=Boolean("ontouchstart"in self||self.DocumentTouch&&v instanceof self.DocumentTouch||l&&l.msMaxTouchPoints),this.Mv=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(Pn)||/(macintosh|mac(?=_powerpc)\s)/i.test(Pn),this.Bv=/Windows NT/i.test(Pn),this.Fv=On?T(On[1]):0,this.Wv=/Android/i.test(Pn),this.Gv=Mn?T(Mn[1]):0,this.Zv=/windows phone (8|8\.1)/i.test(Pn),this.zv=/iPhone/i.test(Pn),this.Yv=/iPad/i.test(Pn),this.Qv=this.Mv&&this.Dv&&!this.Yv,this.$v=/iPod/i.test(Pn),this.fm=/Mobile Safari/i.test(Pn),this.lm=/EOS\d*STB/i.test(Pn),this.dm=/APP\d*STB/i.test(Pn),this.im=(this.zv||this.Yv||this.Qv||this.$v)&&!this.Zv,this.hm=Wn?T(Wn[2]):0,this._m=this.Zv||this.im||this.Wv||this.fm,this.gm=/CriOS/i.test(Pn),this.wm=Boolean(self.chrome&&/google/i.test(l.vendor))||this.gm,this.Em=this.wm&&/Edg\//i.test(l.userAgent),this.Rm=Ln?A(Ln[1],10):0,this.Fg=Boolean(/CriOS/i.test(Pn)),this.Og=Boolean(self.chrome||/Chrome/i.test(Pn)||this.Fg),this.Sm=xn?A(xn[1],10):0,this.Pm=/SMART-TV.*Tizen/i.test(Pn),this.Nm=Un?T(Un[1]):0,this.Am=this.Nm>0?function(t){return t>=8?108:t>=7?94:t>=6.5?85:t>=6?76:t>=5.5?69:t>=5?63:t>=4?56:t>=3?47:0}(this.Nm):void 0,this.Lm=/webos|web0s/i.test(Pn),this.Om=/HbbTV/i.test(Pn),this.Vm=!!Zn&&function(t){if(!t)return!1;var n=t.split(".").map(Number);return 3===n.length&&1===n[0]&&2===n[1]}(Zn[1]),this.Um=/VIZIO/i.test(Pn),this.Hm=/Edge\/\d+/i.test(Pn),this.Xm=/Trident/i.test(Pn),this.qm=this.Xm&&!self.ActiveXObject&&"ActiveXObject"in self,this.Km=/Vivaldi/i.test(Pn),this.Qm=/Firefox/i.test(Pn)&&!/Seamonkey/i.test(Pn),this.$m=Vn?T(Vn[1]):0,this.rg=/Safari/i.test(Pn)&&!/Chrome/i.test(Pn)&&!this.Zv&&!this.Pm,this.hg=Bn?T(Bn[2]):0,this.cg=Boolean(Fn),this.fg=Fn?T(Fn[1]):0,this.vg=/CrKey/.test(Pn),this.pg=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv|vizio)\b/i.test(Pn),this.Ag=/PlayStation 4/i.test(Pn),this.Tg="web"===Dn.xv,this.xg="web"===Dn.Ev,this.Ig=this.xg||this.Tg,this.Pg="web"===Dn.Rv,this.Ng="web"===Dn.Iv,this.Lg="web"===Dn.Cv}return Nt(t,[{key:"Qe",get:function(){return this.Dv}},{key:"Nv",get:function(){return this.Mv}},{key:"Lv",get:function(){return this.Bv}},{key:"Ov",get:function(){return this.Fv}},{key:"Vv",get:function(){return this.Wv}},{key:"Uv",get:function(){return this.Gv}},{key:"Hv",get:function(){return this.Zv}},{key:"Xv",get:function(){return this.zv}},{key:"qv",get:function(){return this.Yv}},{key:"Kv",get:function(){return this.Qv}},{key:"Jv",get:function(){return this.$v}},{key:"su",get:function(){return this.im}},{key:"nm",get:function(){return this.hm}},{key:"um",get:function(){return this.lm||this.dm}},{key:"ud",get:function(){return this.fm}},{key:"Qs",get:function(){return this._m}},{key:"vm",get:function(){return this.gm}},{key:"pm",get:function(){return this.wm}},{key:"ym",get:function(){var t;return null!=(t=this.Am)?t:this.Sm}},{key:"Tm",get:function(){return this.Em}},{key:"xm",get:function(){var t;return(null==(t=f.chrome)?void 0:t.webview)&&this.Rm>0}},{key:"Im",get:function(){return this.Rm}},{key:"Cm",get:function(){return this.Pm}},{key:"Dm",get:function(){return this.Nm}},{key:"Mm",get:function(){return this.Lm}},{key:"Bm",get:function(){return this.Om}},{key:"Fm",get:function(){return this.Vm}},{key:"Wm",get:function(){return this.Um}},{key:"Gm",get:function(){return this.Hm}},{key:"Zm",get:function(){return this.Xm}},{key:"zm",get:function(){return this.qm}},{key:"Ym",get:function(){return this.Km}},{key:"jm",get:function(){return this.Qm}},{key:"Jm",get:function(){return this.$m}},{key:"eg",get:function(){return this.rg}},{key:"og",get:function(){return this.hg}},{key:"ag",get:function(){return this.cg}},{key:"dg",get:function(){return this.fg}},{key:"_g",get:function(){return this.vg}},{key:"gg",get:function(){return this.pg}},{key:"wg",get:function(){return!(!this.Mm&&!this.Cm)&&this.ym<=56}},{key:"yg",get:function(){return this.Ag}},{key:"Sg",get:function(){return this.Tg}},{key:"Eg",get:function(){return this.xg}},{key:"Rg",get:function(){return this.Ig}},{key:"Cg",get:function(){return this.Pg}},{key:"Dg",get:function(){return this.Ng}},{key:"Mg",get:function(){return this.Lg}},{key:"Bg",get:function(){return this.Og}},{key:"IS_IOS_CHROME",get:function(){return this.Fg}}]),t}();Xn.Vg=new Xn;var Gn=Xn.Vg;F(),Tt(),at();var Hn={}.hasOwnProperty,zn={}.toString;function Yn(t){return null!=t}function jn(t){return void 0===t}var Kn,qn=Array.isArray||function(t){return"[object Array]"===zn.call(t)};function Jn(t){return Qn(t)&&Hn.call(t,"length")&&ei(t.length)}function Qn(t){return"object"===(void 0===t?"undefined":U(t))&&null!==t}function $n(t){return Qn(t)&&t.constructor&&t.constructor===b}function ti(t){return"string"==typeof t}function ni(t){return"boolean"==typeof t}function ii(t){return Yn(t)&&"function"==typeof t.then}function ri(t){return"[object Date]"===zn.call(t)}function ei(t){return"number"==typeof t}function ui(t){return"function"==typeof t}function si(t){return ui(t)||Qn(t)}function oi(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function ai(t){for(var n;Yn(n=t.firstChild);)t.removeChild(n)}function ci(t,n){for(var i;Yn(i=t.firstChild);)n.appendChild(i)}function hi(t){var n=t.className;return"string"==typeof n?n:n&&"string"==typeof n.baseVal?n.baseVal:""}function fi(t,n){var i=t.className;"string"==typeof i?t.className=n:i&&"string"==typeof i.baseVal&&(i.baseVal=n)}function vi(t,n){if(void 0!==t.classList)t.classList.add(n);else if(void 0!==t.className){var i=hi(t);-1===(" "+i+" ").indexOf(" "+n+" ")&&fi(t,(i+" "+n).trim())}}function di(t,n){if(void 0!==t.classList)t.classList.remove(n);else if(void 0!==t.className){for(var i=" "+hi(t)+" ",r=" "+n+" ";-1!==i.indexOf(r);)i=i.replace(r," ");fi(t,i.trim())}}function li(t){t.stopPropagation()}function gi(t,n){Gn.Cm&&Gn.Dm<3?function(t,n){var i=n;switch(n){case"flex":i="-webkit-flex";break;case"inline-flex":i="-webkit-inline-flex"}t.display=i}(t,n):function(t,n){if(t.display=n,t.display!==n){var i=n;switch(n){case"flex":i="-ms-flexbox";break;case"inline-flex":i="-ms-inline-flexbox"}t.display=i}}(t,n)}function wi(t,n){var i=n.style;if(i)for(var r=0,e=b.keys(t);r<e.length;r++){var u=e[r],s=t[u];void 0!==s&&(i[u]=s)}}function mi(t){var n=t.style;n.position="absolute",n.left="0",n.right="0",n.top="0",n.bottom="0",n.width="100%",n.height="100%"}function yi(t){var n=t.style;n.position="",n.left="",n.right="",n.top="",n.bottom="",n.width="",n.height=""}function pi(t){t.removeAttribute("title")}function _i(t){try{return Boolean(t)&&t.parent!==t}catch(t){return!1}}F(),Tt(),F(),Tt();var bi=function(){},ki=function(t){return t};function Ai(t,n){var i=-1/0;return function(){for(var r=arguments.length,e=new Array(r),u=0;u<r;u++)e[u]=arguments[u];var s=Kn.Wg();s-i>=n&&(t.apply(this,e),i=s)}}function Ti(t,n){var i=0;return function(){for(var r=arguments.length,e=new Array(r),u=0;u<r;u++)e[u]=arguments[u];var s=this;0!==i&&Kn.Ug(i),i=Kn.Gg((function(){i=0,t.apply(s,e)}),n)}}function Si(t){var n;return function(){return void 0!==t&&(n=t(),t=void 0),n}}function Ei(t){return"video"===function(t){return t&&t.nodeName&&t.nodeName.toLowerCase()||""}(t)}function Ii(t){t.src&&(t.removeAttribute("src"),t.load()),t.srcObject&&(t.srcObject=null,t.load())}function Ri(){return void 0!==v?v.createElement("video"):void 0}var Ci=Si(Ri),Ni=Si((function(){return"undefined"!=typeof HTMLVideoElement&&Ci()instanceof HTMLVideoElement}));F(),Tt(),F(),Tt(),F(),Tt();var Di=null;try{Di=new WebAssembly.Instance(new WebAssembly.Module(new E([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(wn){}function Pi(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function xi(t){return!0===(t&&t.Hg)}function Li(t){var n=k.clz32(t&-t);return t?31-n:n}Pi.prototype.Hg,b.defineProperty(Pi.prototype,"Hg",{value:!0}),Pi.isLong=xi;var Mi={},Oi={};function Bi(t,n){var i,r,e;return n?(e=0<=(t>>>=0)&&t<256)&&(r=Oi[t])?r:(i=Fi(t,0,!0),e&&(Oi[t]=i),i):(e=-128<=(t|=0)&&t<128)&&(r=Mi[t])?r:(i=Fi(t,t<0?-1:0,!1),e&&(Mi[t]=i),i)}function Vi(t,n){if(S(t))return n?ji:Yi;if(n){if(t<0)return ji;if(t>=Gi)return $i}else{if(t<=-Hi)return tr;if(t+1>=Hi)return Qi}return t<0?Vi(-t,n).neg():Fi(t%Xi|0,t/Xi|0,n)}function Fi(t,n,i){return new Pi(t,n,i)}Pi.fromInt=Bi,Pi.fromNumber=Vi,Pi.fromBits=Fi;var Ui=k.pow;function Wi(t,n,i){if(0===t.length)throw p("empty string");if("number"==typeof n?(i=n,n=!1):n=!!n,"NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return n?ji:Yi;if((i=i||10)<2||36<i)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw p("interior hyphen");if(0===r)return Wi(t.substring(1),n,i).neg();for(var e=Vi(Ui(i,8)),u=Yi,s=0;s<t.length;s+=8){var o=k.min(8,t.length-s),a=A(t.substring(s,s+o),i);if(o<8){var c=Vi(Ui(i,o));u=u.mul(c).add(Vi(a))}else u=(u=u.mul(e)).add(Vi(a))}return u.unsigned=n,u}function Zi(t,n){return"number"==typeof t?Vi(t,n):"string"==typeof t?Wi(t,n):Fi(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}Pi.fromString=Wi,Pi.fromValue=Zi;var Xi=4294967296,Gi=Xi*Xi,Hi=Gi/2,zi=Bi(1<<24),Yi=Bi(0);Pi.ZERO=Yi;var ji=Bi(0,!0);Pi.UZERO=ji;var Ki=Bi(1);Pi.ONE=Ki;var qi=Bi(1,!0);Pi.UONE=qi;var Ji=Bi(-1);Pi.NEG_ONE=Ji;var Qi=Fi(-1,2147483647,!1);Pi.MAX_VALUE=Qi;var $i=Fi(-1,-1,!0);Pi.MAX_UNSIGNED_VALUE=$i;var tr=Fi(0,-2147483648,!1);Pi.MIN_VALUE=tr;var nr=Pi.prototype;nr.toInt=function(){return this.unsigned?this.low>>>0:this.low},nr.toNumber=function(){return this.unsigned?(this.high>>>0)*Xi+(this.low>>>0):this.high*Xi+(this.low>>>0)},nr.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(tr)){var n=Vi(t),i=this.div(n),r=i.mul(n).sub(this);return i.toString(t)+r.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var e=Vi(Ui(t,6),this.unsigned),u=this,s="";;){var o=u.div(e),a=(u.sub(o.mul(e)).toInt()>>>0).toString(t);if((u=o).isZero())return a+s;for(;a.length<6;)a="0"+a;s=""+a+s}},nr.getHighBits=function(){return this.high},nr.getHighBitsUnsigned=function(){return this.high>>>0},nr.getLowBits=function(){return this.low},nr.getLowBitsUnsigned=function(){return this.low>>>0},nr.getNumBitsAbs=function(){if(this.isNegative())return this.eq(tr)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},nr.isZero=function(){return 0===this.high&&0===this.low},nr.eqz=nr.isZero,nr.isNegative=function(){return!this.unsigned&&this.high<0},nr.isPositive=function(){return this.unsigned||this.high>=0},nr.isOdd=function(){return 1==(1&this.low)},nr.isEven=function(){return 0==(1&this.low)},nr.equals=function(t){return xi(t)||(t=Zi(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},nr.eq=nr.equals,nr.notEquals=function(t){return!this.eq(t)},nr.neq=nr.notEquals,nr.ne=nr.notEquals,nr.lessThan=function(t){return this.comp(t)<0},nr.lt=nr.lessThan,nr.lessThanOrEqual=function(t){return this.comp(t)<=0},nr.lte=nr.lessThanOrEqual,nr.le=nr.lessThanOrEqual,nr.greaterThan=function(t){return this.comp(t)>0},nr.gt=nr.greaterThan,nr.greaterThanOrEqual=function(t){return this.comp(t)>=0},nr.gte=nr.greaterThanOrEqual,nr.ge=nr.greaterThanOrEqual,nr.compare=function(t){if(xi(t)||(t=Zi(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},nr.comp=nr.compare,nr.negate=function(){return!this.unsigned&&this.eq(tr)?tr:this.not().add(Ki)},nr.neg=nr.negate,nr.add=function(t){xi(t)||(t=Zi(t));var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,a=0,c=0,h=0,f=0;return h+=(f+=e+(65535&t.low))>>>16,c+=(h+=r+o)>>>16,a+=(c+=i+s)>>>16,a+=n+u,Fi((h&=65535)<<16|(f&=65535),(a&=65535)<<16|(c&=65535),this.unsigned)},nr.subtract=function(t){return xi(t)||(t=Zi(t)),this.add(t.neg())},nr.sub=nr.subtract,nr.multiply=function(t){if(this.isZero())return this;if(xi(t)||(t=Zi(t)),Di)return Fi(Di.mul(this.low,this.high,t.low,t.high),Di.get_high(),this.unsigned);if(t.isZero())return this.unsigned?ji:Yi;if(this.eq(tr))return t.isOdd()?tr:Yi;if(t.eq(tr))return this.isOdd()?tr:Yi;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(zi)&&t.lt(zi))return Vi(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,a=65535&t.low,c=0,h=0,f=0,v=0;return f+=(v+=e*a)>>>16,h+=(f+=r*a)>>>16,f&=65535,h+=(f+=e*o)>>>16,c+=(h+=i*a)>>>16,h&=65535,c+=(h+=r*o)>>>16,h&=65535,c+=(h+=e*s)>>>16,c+=n*a+i*o+r*s+e*u,Fi((f&=65535)<<16|(v&=65535),(c&=65535)<<16|(h&=65535),this.unsigned)},nr.mul=nr.multiply,nr.divide=function(t){if(xi(t)||(t=Zi(t)),t.isZero())throw p("division by zero");var n,i,r;if(Di)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?Fi((this.unsigned?Di.div_u:Di.div_s)(this.low,this.high,t.low,t.high),Di.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?ji:Yi;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return ji;if(t.gt(this.shru(1)))return qi;r=ji}else{if(this.eq(tr))return t.eq(Ki)||t.eq(Ji)?tr:t.eq(tr)?Ki:(n=this.shr(1).div(t).shl(1)).eq(Yi)?t.isNegative()?Ki:Ji:(i=this.sub(t.mul(n)),r=n.add(i.div(t)));if(t.eq(tr))return this.unsigned?ji:Yi;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();r=Yi}for(i=this;i.gte(t);){n=k.max(1,k.floor(i.toNumber()/t.toNumber()));for(var e=k.ceil(k.log(n)/k.LN2),u=e<=48?1:Ui(2,e-48),s=Vi(n),o=s.mul(t);o.isNegative()||o.gt(i);)o=(s=Vi(n-=u,this.unsigned)).mul(t);s.isZero()&&(s=Ki),r=r.add(s),i=i.sub(o)}return r},nr.div=nr.divide,nr.modulo=function(t){return xi(t)||(t=Zi(t)),Di?Fi((this.unsigned?Di.rem_u:Di.rem_s)(this.low,this.high,t.low,t.high),Di.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},nr.mod=nr.modulo,nr.rem=nr.modulo,nr.not=function(){return Fi(~this.low,~this.high,this.unsigned)},nr.countLeadingZeros=function(){return this.high?k.clz32(this.high):k.clz32(this.low)+32},nr.clz=nr.countLeadingZeros,nr.countTrailingZeros=function(){return this.low?Li(this.low):Li(this.high)+32},nr.ctz=nr.countTrailingZeros,nr.and=function(t){return xi(t)||(t=Zi(t)),Fi(this.low&t.low,this.high&t.high,this.unsigned)},nr.or=function(t){return xi(t)||(t=Zi(t)),Fi(this.low|t.low,this.high|t.high,this.unsigned)},nr.xor=function(t){return xi(t)||(t=Zi(t)),Fi(this.low^t.low,this.high^t.high,this.unsigned)},nr.shiftLeft=function(t){return xi(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Fi(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):Fi(0,this.low<<t-32,this.unsigned)},nr.shl=nr.shiftLeft,nr.shiftRight=function(t){return xi(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Fi(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):Fi(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},nr.shr=nr.shiftRight,nr.shiftRightUnsigned=function(t){return xi(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Fi(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):Fi(32===t?this.high:this.high>>>t-32,0,this.unsigned)},nr.shru=nr.shiftRightUnsigned,nr.shr_u=nr.shiftRightUnsigned,nr.rotateLeft=function(t){var n;return xi(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?Fi(this.high,this.low,this.unsigned):t<32?(n=32-t,Fi(this.low<<t|this.high>>>n,this.high<<t|this.low>>>n,this.unsigned)):(n=32-(t-=32),Fi(this.high<<t|this.low>>>n,this.low<<t|this.high>>>n,this.unsigned))},nr.rotl=nr.rotateLeft,nr.rotateRight=function(t){var n;return xi(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?Fi(this.high,this.low,this.unsigned):t<32?(n=32-t,Fi(this.high<<n|this.low>>>t,this.low<<n|this.high>>>t,this.unsigned)):(n=32-(t-=32),Fi(this.low<<n|this.high>>>t,this.high<<n|this.low>>>t,this.unsigned))},nr.rotr=nr.rotateRight,nr.toSigned=function(){return this.unsigned?Fi(this.low,this.high,!1):this},nr.toUnsigned=function(){return this.unsigned?this:Fi(this.low,this.high,!0)},nr.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},nr.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},nr.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},Pi.fromBytes=function(t,n,i){return i?Pi.fromBytesLE(t,n):Pi.fromBytesBE(t,n)},Pi.fromBytesLE=function(t,n){return new Pi(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},Pi.fromBytesBE=function(t,n){return new Pi(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var ir=Pi;function rr(t,n){return t.lessThan(n)?t:n}F(),Tt();var er=9007199254740991,ur=k.pow(2,-52);function sr(t,n,i){return k.min(k.max(t,n),i)}function or(t,n,i){return t===n||k.abs(t-n)<=i}function ar(t,n){if(t===n)return!0;var i=k.abs(t-n);return i<ur||i<k.max(k.abs(t),k.abs(n))*ur}function cr(t,n){return t%n+(t<0?n:0)}function hr(t){return t!=t}function fr(t,n){return t===n||hr(t)&&hr(n)}function vr(t,n){for(var i=t,r=n;0!==r;){var e=i%r;i=r,r=e}return i<0?-i:i}function dr(t,n){return t.reduce((function(t,i){return t+n(i)}),0)}function lr(t){return!S(t.getTime())}function gr(){return Date.now()||(new Date).getTime()}function wr(t){return t/1e3}function mr(t){return 1e3*t}var yr=1/6,pr=ir.fromNumber(er);function _r(t,n){if(0===n)return t.isZero()?NaN:t.isNegative()?-1/0:1/0;if(t.lessThanOrEqual(pr))return t.toNumber()/n;var i=t.divide(n),r=t.subtract(i.multiply(n));return i.toNumber()+r.toNumber()/n}var br=!!("ontouchstart"in self||self.DocumentTouch&&v instanceof self.DocumentTouch)||!(!l||!l.msMaxTouchPoints),kr=Ci(),Ar=!(!kr||!kr.webkitShowPlaybackTargetPicker),Tr=function(){function t(){this.Xg=void 0,this.vp=!1,this.Qe=br,this.Qs=!1,this.mp=!0}var n=t.prototype;return n.zg=function(){return 0},n.dp=function(t,n){return!0},n.fp=function(t){return t>=2*yr},Nt(t,[{key:"Zg",get:function(){return void 0===this.Xg&&(this.Xg=this.zg()),this.Xg}},{key:"qg",get:function(){return!Gn.gg}},{key:"Yg",get:function(){if(f.screen)return{width:f.screen.width,height:f.screen.height}}},{key:"Kg",get:function(){return f.devicePixelRatio||1}},{key:"jg",get:function(){return Ar}},{key:"Qg",get:function(){return!1}},{key:"Jg",get:function(){return!0}},{key:"$g",get:function(){return!!(Gn.eg||Gn.su||Gn.xm)||!!Gn.Wm}},{key:"tp",get:function(){return Gn.Wm}},{key:"ep",get:function(){return!Gn.su}},{key:"sp",get:function(){return!0}},{key:"np",get:function(){return!0}},{key:"rp",get:function(){return!1}},{key:"op",get:function(){}},{key:"hp",get:function(){return!0}},{key:"ap",get:function(){return!1}},{key:"cp",get:function(){return Gn.Wm}},{key:"lp",get:function(){return!1}},{key:"_p",get:function(){return!1}}]),t}(),Sr=function(t){function n(){return t.call(this)||this}return It(n,t),n}(Tr);F(),Tt(),Dt(),Rt();var Er=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n.prototype.dp=function(t,n){if(t&&t.gp&&n&&n.gp){var i=Ir(t.gp,"mp4a.40.2")&&Ir(n.gp,"mp4a.40.5"),r=Ir(t.gp,"mp4a.40.5")&&Ir(n.gp,"mp4a.40.2"),e=Ir(t.gp,"mp4a.40.2")&&Ir(n.gp,"mp4a.40.34"),u=Ir(t.gp,"mp4a.40.34")&&Ir(n.gp,"mp4a.40.2"),s=Ir(t.gp,"mp4a.40.5")&&Ir(n.gp,"mp4a.40.34"),o=Ir(t.gp,"mp4a.40.34")&&Ir(n.gp,"mp4a.40.5");return!(i||r||e||u||s||o)}return!0},Nt(n,[{key:"op",get:function(){if(Gn.Nv)return 4096}}]),n}(Sr);function Ir(t,n){return t.indexOf(n)>-1}F(),Tt(),Rt();var Rr=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n.prototype.fp=function(t){return t>=2},n}(Sr);F(),Tt(),Dt(),Rt();var Cr=function(t){function n(){var n;return(n=t.call(this)||this).vp=Gn.og>=11,n.mp=Gn.eg&&!(Gn.su&&Gn.og<10),n}return It(n,t),Nt(n,[{key:"lp",get:function(){return Gn.og<17}},{key:"_p",get:function(){return!0}}]),n}(Sr);F(),Tt(),Dt(),Rt();var Nr,Dr=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),Nt(n,[{key:"hp",get:function(){return!Gn.Lv||(Gn.Tm?92!==Gn.Im:Gn.ym>=100)}}]),n}(Sr);F(),Tt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt(),F(),Tt();var Pr=function(){var t=Ri();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(Gn.Kv)return!1;var t=Ri();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var xr=function(t){function n(n){var i;return(i=t.call(this)||this).pp=n,i.vp=i.pp.vp,i.Qe=i.pp.Qe,i.mp=Pr&&i.pp.mp,i}It(n,t);var i=n.prototype;return i.zg=function(){return this.pp.Zg},i.dp=function(t,n){return this.pp.dp(t,n)},i.fp=function(t){return this.pp.fp(t)},Nt(n,[{key:"op",get:function(){return this.pp.op}},{key:"hp",get:function(){return this.pp.hp}},{key:"lp",get:function(){return this.pp.lp}}]),n}(Tr),Lr=function(t){function n(n){var i;return(i=t.call(this,n)||this).vp=!0,i.Qs=!0,i}return It(n,t),Nt(n,[{key:"rp",get:function(){return Gn.su}}]),n}(xr);F(),Tt();var Mr=function(){function t(t){this.yp=Or(t)}var n=t.prototype;return n.wp=function(){return new this.yp},n.bp=function(t){return this.yp.isTypeSupported(t)},t}();function Or(t){return t&&si(f.ManagedMediaSource)?f.ManagedMediaSource:si(f.MediaSource)?f.MediaSource:void 0}var Br=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n.prototype.zg=function(){return Or(!0)?t.prototype.zg.call(this):1},Nt(n,[{key:"rp",get:function(){return!0}}]),n}(Lr);F(),Tt(),Dt(),Rt();var Vr=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n.prototype.dp=function(n,i){return t.prototype.dp.call(this,n,i)},Nt(n,[{key:"Qg",get:function(){return Gn.Dm<3}},{key:"Jg",get:function(){return Gn.Dm>=3}},{key:"Yg",get:function(){var t=this;return f.tizen&&!this.Ap&&f.tizen.systeminfo.getPropertyValue("DISPLAY",(function(n){var i=n.resolutionWidth,r=n.resolutionHeight;1===i&&1===r||(t.Ap={width:i,height:r})})),this.Ap}},{key:"ap",get:function(){return Gn.Dm<3}}]),n}(xr);F(),Tt(),Dt(),Rt();var Fr=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),Nt(n,[{key:"Yg",get:function(){var t=this;return f.webOS&&!this.Ap&&f.webOS.deviceInfo((function(n){t.Ap={width:n.screenWidth,height:n.screenHeight}})),this.Ap}},{key:"sp",get:function(){return!1}}]),n}(xr);F(),Tt(),Dt(),Rt();var Ur=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),Nt(n,[{key:"rp",get:function(){return!0}},{key:"_p",get:function(){return this.pp._p}}]),n}(xr);!function(t){Nr=t}(function(){var t=function(){if(Gn.jm)return new Er;if(Gn.Gm||Gn.Zm)return new Rr;if(Gn.eg)return new Cr;if(Gn.pm)return new Dr;return new Sr}();return Gn.su?new Br(t):Gn.Qs?new Lr(t):Gn.Cm?new Vr(t):Gn.Mm?new Fr(t):Gn.Nv?new Ur(t):new xr(t)}()),F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Ut(),at(),F(),Tt(),Ut();var Wr=!(Gn.Zm&&!Gn.zm),Zr=self.console;function Xr(t){if(Qn(t))try{return JSON.stringify(t)}catch(t){}return t}function Gr(t){return t.map(Xr).join(" ")}function Hr(t){var n=Zr&&Zr[t];return n?n.bind&&Wr?n.bind(Zr):function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];Zr[t](Gr(i))}:void 0}var zr=Hr("log")||bi,Yr=Hr("warn")||zr.bind(void 0,"WARNING:"),jr=Hr("error")||zr.bind(void 0,"ERROR:"),Kr=function(){var t=Zr&&Zr.assert;return t?t.bind&&Wr?t.bind(Zr):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];Zr.assert(t,Gr(i))}:function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];t||jr.apply(void 0,["Assertion failed:"].concat(Ft(i)))}}();function qr(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),b.defineProperty(t,r.key,r)}}function Jr(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var r=new Array(i),e=1;e<i;e*=2){Qr(t,n,e,r);var u=t;t=r,r=u}return t}(t,n);return i!==t&&Qr(i,null,t.length,t),t}function Qr(t,n,i,r){var e,u,s,o,a,c=t.length,h=0,f=2*i;for(e=0;e<c;e+=f)for(s=(u=e+i)+i,u>c&&(u=c),s>c&&(s=c),o=e,a=u;;)if(o<u&&a<s)n(t[o],t[a])<=0?r[h++]=t[o++]:r[h++]=t[a++];else if(o<u)r[h++]=t[o++];else{if(!(a<s))break;r[h++]=t[a++]}}F(),Tt();var $r=/[a-zA-Z]/,te=/[0-9]/,ne=/[0-9a-fA-F]/,ie=/^0x/i,re=/^[0-9]+$/,ee=/^[0-9a-fA-F]+$/,ue=/^[0-7]+$/,se=b.prototype.toString,oe=Array.isArray||function(t){return"[object Array]"===se.call(t)},ae=void 0!==n&&"symbol"==typeof r;function ce(t){return oe(t)?t:Array.from(t)}function he(t,n,i){var r=t[n];t[n]=t[i],t[i]=r}function fe(t){return t>=65&&t<=90}function ve(t){return fe(t)||function(t){return t>=97&&t<=122}(t)}function de(t){return t>=48&&t<=57}function le(t){return de(t)||ve(t)}function ge(t){return de(t)||t>=65&&t<=70||t>=97&&t<=102}function we(t){return fe(t)?t+32:t}function me(t){return de(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function ye(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var pe=k.min,_e=String.fromCharCode,be=16384;function ke(t){for(var n=t.length,i=[],r=0;r<n;r+=be){var e=pe(r+be,n);i.push(_e.apply(null,t.slice(r,e)))}return i.join("")}var Ae=2147483647,Te=/[^\0-\x7E]/,Se=/[\x2E\u3002\uFF0E\uFF61]/g,Ee={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Ie=k.floor,Re=String.fromCharCode;function Ce(t){throw new RangeError(Ee[t])}function Ne(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}var De,Pe,xe,Le=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},Me=function(t,n,i){var r=0;for(t=i?Ie(t/700):t>>1,t+=Ie(t/n);t>455;r+=36)t=Ie(t/35);return Ie(r+36*t/(t+38))},Oe=function(t){return function(t,n){var i=t.split("@"),r="";i.length>1&&(r=i[0]+"@",t=i[1]);var e=function(t,n){for(var i=[],r=t.length;r--;)i[r]=n(t[r]);return i}((t=t.replace(Se,".")).split("."),n).join(".");return r+e}(t,(function(t){return Te.test(t)?"xn--"+function(t){for(var n=[],i=(t=Ne(t)).length,r=128,e=0,u=72,s=0,o=t;s<o.length;s++){var a=o[s];a<128&&n.push(Re(a))}var c=n.length,h=c;for(c&&n.push("-");h<i;){for(var f=Ae,v=0,d=t;v<d.length;v++){var l=d[v];l>=r&&l<f&&(f=l)}var g=h+1;f-r>Ie((Ae-e)/g)&&Ce("overflow"),e+=(f-r)*g,r=f;for(var w=0,m=t;w<m.length;w++){var y=m[w];if(y<r&&++e>Ae&&Ce("overflow"),y==r){for(var p=e,_=36;;_+=36){var b=_<=u?1:_>=u+26?26:_-u;if(p<b)break;var k=p-b,A=36-b;n.push(Re(Le(b+k%A,0))),p=Ie(k/A)}n.push(Re(Le(p,0))),u=Me(e,g,h==c),e=0,++h}}++e,++r}return n.join("")}(t):t}))};function Be(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return ke(n)}function Ve(t){if(t>=55296&&t<=57343)throw new p("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Fe(t,n){return t>>n&63|128}function Ue(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Ve(t),n.push(t>>12&15|224),n.push(Fe(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Fe(t,12)),n.push(Fe(t,6))),n.push(63&t|128)):n.push(t)}function We(t){for(var n=[],i=0;i<t.length;i++){Ue(t[i],n)}return n}function Ze(){if(xe>=Pe)throw new p("Invalid byte index");var t=255&De[xe];if(xe++,128==(192&t))return 63&t;throw new p("Invalid continuation byte")}function Xe(){var t,n;if(xe>Pe)throw new p("Invalid byte index");if(xe===Pe)return!1;if(t=255&De[xe],xe++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|Ze())>=128)return n;throw new p("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|Ze()<<6|Ze())>=2048)return Ve(n),n;throw new p("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|Ze()<<12|Ze()<<6|Ze())>=65536&&n<=1114111)return n;throw new p("Invalid UTF-8 detected")}function Ge(t){return[37,ye(t>>4),ye(15&t)]}function He(t){return function(t){return t>=0&&t<=31}(t)||t>126}function ze(t){return He(t)||32===t||34===t||60===t||62===t||96===t}function Ye(t){return ze(t)||35===t||63===t||123===t||125===t}function je(t){return Ye(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function Ke(t){return t<33||t>126||34===t||35===t||60===t||62===t}function qe(t){return Ke(t)||39===t}function Je(t,n){if(!n(t))return[t];for(var i=We([t]),r=[],e=0;e<i.length;e++){var u=i[e];r.push.apply(r,Ge(u))}return r}function Qe(t,n){for(var i=[],r=0,e=Ne(t);r<e.length;r++){var u=e[r];i.push.apply(i,Je(u,n))}return Be(i)}function $e(t){return function(t){for(var n=[],i=t.length,r=0;r<i;r++){var e=t[r];if(37===e&&r+2<i&&ge(t[r+1])&&ge(t[r+2])){var u=me(t[r+1])<<4|me(t[r+2]);n.push(u),r+=2}else n.push(e)}return n}(We(t))}function tu(t){return Be(function(t){De=t.slice(),Pe=De.length,xe=0;for(var n,i=[];!1!==(n=Xe());)i.push(n);return i}($e(Ne(t))))}function nu(t){var n=t.length,i=[0,0,0,0,0,0,0,0],r=0,e=null,u=0;if(u<n&&":"===t[u]){if(!(u+1<n&&":"===t[u+1]))throw new _;u+=2,e=r+=1}for(;u<n;){if(8===r)throw new _("Too many groups");if(":"!==t[u]){for(var s=0,o=0;o<4&&u<n&&ne.test(t[u]);)s=s<<4|A(t[u],16),u+=1,o+=1;if("."===t[u]){if(0===o)throw new _;if(u-=o,r>6)throw new _;for(var a=0;u<n;){var c=null;if(a>0){if(!("."===t[u]&&a<4))throw new _;u+=1}if(!te.test(t[u]))throw new _;for(;u<n&&te.test(t[u]);){var h=A(t[u],10);if(null===c)c=h;else{if(0===c)throw new _;if((c=10*c+h)>255)throw new _}u+=1}i[r]=i[r]<<8|c,2!==(a+=1)&&4!==a||(r+=1)}if(4!==a)throw new _;break}if(":"===t[u]){if((u+=1)===n)throw new _}else if(u<n)throw new _;i[r]=s,r+=1}else{if(null!==e)throw new _("Too many :: groups");u+=1,e=r+=1}}if(null!==e){var f=r-e;for(r=7;0!==r&&f>0;)he(i,r,e+f-1),r-=1,f-=1}else if(8!==r)throw new _;return i}function iu(t){var n=10,i=re;return ie.test(t)?(t=t.slice(2),n=16,i=ee):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=ue),""===t?0:i.test(t)?A(t,n):void 0}var ru={Sp:4},eu=/[\0\t\n\r #%/:?@\[\\\]]/,uu=/[\0\t\n\r #/:?@\[\\\]]/;function su(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new _("Invalid IPv6 address");return{Sp:2,Tp:nu(t.slice(1,-1))}}if(!n)return function(t){if(uu.test(t))throw new _("Invalid code point in opaque host");var n=Qe(t,He);return""===n?ru:{Sp:3,kp:n}}(t);var i=function(t){var n=function(t){return Oe(t.toLowerCase())}(t);return n}(tu(t));if(eu.test(i))throw new _("Invalid code point in host");var r=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],r=0;r<n.length;r++){var e=n[r];if(""===e)return;var u=iu(e);if(void 0===u)return;i.push(u)}for(var s=0;s<i.length-1;s++)if(i[s]>255)throw new _;if(i[i.length-1]>=k.pow(256,5-i.length))throw new _;for(var o=i.pop(),a=0;a<i.length;a++)o+=i[a]*k.pow(256,3-a);return o}}(i);return void 0!==r?{Sp:1,Tp:r}:""===i?ru:{Sp:0,Ep:i}}function ou(t){switch(t.Sp){case 0:return t.Ep;case 1:return function(t){for(var n=[],i=t,r=1;r<=4;r++)n.push(""+(255&i)),4!==r&&n.push("."),i>>>=8;return n.reverse().join("")}(t.Tp);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,r=0,e=0,u=0;u<8;u++)0===t[u]?(0===e&&(r=u),e++):(e>i&&(n=r,i=e),e=0);return e>i&&(n=r,i=e),i>1?n:null}(t),r=!1,e=0;e<8;e++){if(r){if(0===t[e])continue;r=!1}i!==e?(n+=t[e].toString(16),7!==e&&(n+=":")):(n+=0===e?"::":":",r=!0)}return n}(t.Tp)+"]";case 3:return t.kp;case 4:return""}}var au=/\+/g;function cu(t){return 42===t||45===t||46===t||95===t||le(t)}function hu(t){for(var n=t.split("&"),i=[],r=0;r<n.length;r++){var e=n[r];if(""!==e){var u=e.indexOf("="),s=void 0,o=void 0;-1!==u?(s=e.slice(0,u),o=e.slice(u+1)):(s=e,o=""),s=s.replace(au," "),o=o.replace(au," ");var a=tu(s),c=tu(o);i.push([a,c])}}return i}function fu(t){for(var n="",i=0;i<t.length;i++){var r=t[i];i>0&&(n+="&"),n+=vu(We(Ne(r[0])))+"="+vu(We(Ne(r[1])))}return n}function vu(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];32===r?n.push(43):cu(r)?n.push(r):n.push.apply(n,Ge(r))}return ke(n)}var du=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function lu(t){var n=""+t,i=du.exec(n);return i?function(t,n){for(var i=t.length,r=[],e=n;e<i;e++){var u=t.charCodeAt(e);if(wu(u))if(mu(u)||e===i-1)r.push(gu);else{var s=t.charCodeAt(e+1);mu(s)?(r.push(u,s),e++):r.push(gu)}else r.push(u)}return t.slice(0,n)+ke(r)}(n,i.index):n}var gu=65533,wu=function(t){return 55296==(63488&t)},mu=function(t){return 0!=(1024&t)};function yu(t,n){var i=t[0],r=n[0];return i===r?0:i<r?-1:1}function pu(t){t.D_.length=0}function _u(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.D_,hu(n))}function bu(t){if(t.ic){var n=fu(t.D_);""===n&&(n=null),t.ic.ic.xp=n}}var ku=function(){function t(t){if(void 0===t&&(t=void 0),this.ic=null,null==t)this.D_=[];else if("object"==typeof t||"function"==typeof t)if(function(t){return t instanceof ku&&!!oe(t.D_)&&(!ae||t[r]===Au)}(t))this.D_=t.D_.slice();else if(function(t){return null!=t&&(!!oe(t)||!!ae&&"function"==typeof t[r])}(t)){this.D_=[];for(var n=0,i=ce(t);n<i.length;n++){var e=ce(i[n]);if(2!==e.length)throw new _("Invalid name-value pair");this.D_.push([lu(e[0]),lu(e[1])])}}else for(var u in this.D_=[],t)b.prototype.hasOwnProperty.call(t,u)&&this.D_.push([lu(u),lu(t[u])]);else(t=lu(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.D_=hu(t)}var n=t.prototype;return n.append=function(t,n){t=lu(t),n=lu(n),this.D_.push([t,n]),bu(this)},n.delete=function(t){t=lu(t);for(var n=this.D_,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}bu(this)},n.get=function(t){t=lu(t);for(var n=this.D_,i=0;i<n.length;i++){var r=n[i];if(r[0]===t)return r[1]}return null},n.getAll=function(t){t=lu(t);for(var n=this.D_,i=[],r=0;r<n.length;r++){var e=n[r];e[0]===t&&i.push(e[1])}return i},n.has=function(t){t=lu(t);for(var n=this.D_,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=lu(t),n=lu(n);for(var i=this.D_,r=!1,e=0;e<i.length;){var u=i[e];u[0]===t?r?i.splice(e,1):(u[1]=n,r=!0,e++):e++}r||i.push([t,n]),bu(this)},n.sort=function(){Jr(this.D_,yu),bu(this)},n.toString=function(){return fu(this.D_)},n.entries=function(){return new Iu(this.D_,Tu)},n.keys=function(){return new Iu(this.D_,Su)},n.values=function(){return new Iu(this.D_,Eu)},n.forEach=function(t){var n=this;this.D_.forEach((function(i){return t(i[1],i[0],n)}))},t}(),Au=ku.prototype.entries;ae&&(ku.prototype[r]=Au);var Tu=function(t){return[t[0],t[1]]},Su=function(t){return t[0]},Eu=function(t){return t[1]},Iu=function(){function t(t,n){this.Rp=0,this.D_=t,this.Ip=n}return t.prototype.next=function(){return this.Rp<this.D_.length?{done:!1,value:this.Ip(this.D_[this.Rp++])}:{done:!0,value:void 0}},t}(),Ru="null";var Cu=b.create(null);Cu.ftp=21,Cu.file=0,Cu.gopher=70,Cu.http=80,Cu.https=443,Cu.ws=80,Cu.wss=443;var Nu=/^(?:\.|%2e)$/i,Du=/^(?:\.|%2e){2}$/i;function Pu(t){return Nu.test(t)}function xu(t){return Du.test(t)}function Lu(t){return void 0!==Cu[t]}function Mu(t){return Lu(t.Cp)}function Ou(t){return""!==t.Pp||""!==t.Dp}function Bu(t){var n=t.length;if(!(n>=2))return!1;if(!Fu(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function Vu(t){return 2===t.length&&$r.test(t[0])&&(":"===t[1]||"|"===t[1])}function Fu(t){return 2===t.length&&Vu(ke(t))}function Uu(t){return Vu(t)&&":"===t[1]}function Wu(t){var n=t.Np;0!==n.length&&("file"===t.Cp&&1===n.length&&Uu(n[0])||n.pop())}function Zu(t){return null===t.Mp||ru===t.Mp||t.Lp||"file"===t.Cp}var Xu=-1,Gu=/\t|\n|\r/g,Hu=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function zu(t,n,i,r){void 0===i&&(i=null),void 0===r&&(r=null),i||(i=new ju,t=t.replace(Hu,""));var e=null!==r?r:0;n=n||null;for(var u=[],s=!1,o=!1,a=!1,c=Ne(t=t.replace(Gu,"")),h=c.length,f=0;f<=h;){var v=f<h?c[f]:Xu;switch(e){case 0:if(!ve(v)){if(null===r){u.length=0,e=2;continue}throw new _("Invalid scheme")}u.push(we(v)),e=1;break;case 1:if(le(v)||43===v||45===v||46===v)u.push(we(v));else{if(58!==v){if(null===r){u.length=0,e=2,f=0;continue}throw new _("Invalid scheme")}var d=Be(u);if(null!==r){if(Lu(i.Cp)&&!Lu(d))return;if(!Lu(i.Cp)&&Lu(d))return;if((Ou(i)||null!==i.Bp)&&"file"===d)return;if("file"===i.Cp&&(i.Mp===ru||null===i.Mp))return}if(i.Cp=d,null!==r)return void(Mu(i)&&i.Bp===Cu[i.Cp]&&(i.Bp=null));u.length=0,"file"===i.Cp?e=13:Mu(i)&&n&&n.Cp===i.Cp?e=3:Mu(i)?e=7:47===c[f+1]?(e=4,f+=1):(i.Lp=!0,i.Np.push(""),e=18)}break;case 2:if(!n||n.Lp&&35!==v)throw new _("Invalid scheme");n.Lp&&35===v?(i.Cp=n.Cp,i.Np=n.Np.slice(),i.xp=n.xp,i.Op="",i.Lp=!0,e=20):"file"!==n.Cp?(e=5,f-=1):(e=13,f-=1);break;case 3:47===v&&47===c[f+1]?e=8:(e=5,f-=1);break;case 4:47===v?e=9:(e=17,f-=1);break;case 5:i.Cp=n.Cp,Xu===v?(i.Pp=n.Pp,i.Dp=n.Dp,i.Mp=n.Mp,i.Bp=n.Bp,i.Np=n.Np.slice(),i.xp=n.xp):47===v?e=6:63===v?(i.Pp=n.Pp,i.Dp=n.Dp,i.Mp=n.Mp,i.Bp=n.Bp,i.Np=n.Np.slice(),i.xp="",e=19):35===v?(i.Pp=n.Pp,i.Dp=n.Dp,i.Mp=n.Mp,i.Bp=n.Bp,i.Np=n.Np.slice(),i.xp=n.xp,i.Op="",e=20):92===v&&Mu(i)?e=6:(i.Pp=n.Pp,i.Dp=n.Dp,i.Mp=n.Mp,i.Bp=n.Bp,i.Np=n.Np.slice(),i.Np.pop(),e=17,f-=1);break;case 6:!Mu(i)||47!==v&&92!==v?47===v?e=9:(i.Pp=n.Pp,i.Dp=n.Dp,i.Mp=n.Mp,i.Bp=n.Bp,e=17,f-=1):e=8;break;case 7:if(47!==v||47!==c[f+1]){e=8;continue}e=8,f+=1;break;case 8:47!==v&&92!==v&&(e=9,f-=1);break;case 9:if(64===v){s&&u.unshift(37,52,48),s=!0;for(var l=0;l<u.length;l++){var g=u[l];if(58!==g||a){var w=Be(Je(g,je));a?i.Dp+=w:i.Pp+=w}else a=!0}u.length=0}else if(Xu===v||47===v||63===v||35===v||Mu(i)&&92===v){if(s&&0===u.length)throw new _("Invalid host");f-=u.length+1,u.length=0,e=10}else u.push(v);break;case 10:case 11:if(null!==r&&"file"===i.Cp)f-=1,e=15;else if(58!==v||o)if(Xu===v||47===v||63===v||35===v||Mu(i)&&92===v){if(f-=1,Mu(i)&&0===u.length)throw new _("Invalid host");if(null!==r&&0===u.length&&(Ou(i)||null!==i.Bp))return;var m=su(Be(u),Mu(i));if(i.Mp=m,u.length=0,e=16,null!==r)return}else 91===v?o=!0:93===v&&(o=!1),u.push(v);else{if(0===u.length)throw new _("Invalid host");var y=su(Be(u),Mu(i));if(i.Mp=y,u.length=0,e=12,11===r)return}break;case 12:if(de(v))u.push(v);else{if(!(Xu===v||47===v||63===v||35===v||Mu(i)&&92===v||null!==r))throw new _("Invalid port");if(0!==u.length){var p=A(Be(u),10);if(p>65535)throw new _("Invalid port");i.Bp=p===Cu[i.Cp]?null:p,u.length=0}if(null!==r)return;e=16,f-=1}break;case 13:i.Cp="file",47===v||92===v?e=14:n&&"file"===n.Cp?Xu===v?(i.Mp=n.Mp,i.Np=n.Np.slice(),i.xp=n.xp):63===v?(i.Mp=n.Mp,i.Np=n.Np.slice(),i.xp="",e=19):35===v?(i.Mp=n.Mp,i.Np=n.Np.slice(),i.xp=n.xp,i.Op="",e=20):(Bu(c.slice(f))||(i.Mp=n.Mp,i.Np=n.Np.slice(),Wu(i)),e=17,f-=1):(e=17,f-=1);break;case 14:47===v||92===v?e=15:(n&&"file"===n.Cp&&!Bu(c.slice(f))&&(Uu(n.Np[0])?i.Np.push(n.Np[0]):i.Mp=n.Mp),e=17,f-=1);break;case 15:if(Xu===v||47===v||92===v||63===v||35===v)if(f-=1,null===r&&Fu(u))e=17;else if(0===u.length){if(i.Mp=ru,null!==r)return;e=16}else{var b=su(Be(u),Mu(i));if(0===b.Sp&&"localhost"===b.Ep&&(b=ru),i.Mp=b,null!==r)return;u.length=0,e=16}else u.push(v);break;case 16:Mu(i)?(e=17,47!==v&&92!==v&&(f-=1)):null===r&&63===v?(i.xp="",e=19):null===r&&35===v?(i.Op="",e=20):Xu!==v&&(e=17,47!==v&&(f-=1));break;case 17:if(Xu===v||47===v||Mu(i)&&92===v||null===r&&(63===v||35===v)){var k=Be(u);if(xu(k)?(Wu(i),47===v||Mu(i)&&92===v||i.Np.push("")):!Pu(k)||47===v||Mu(i)&&92===v?Pu(k)||("file"===i.Cp&&0===i.Np.length&&Fu(u)&&(ru!==i.Mp&&null!==i.Mp&&(i.Mp=ru),u[1]=58,k=Be(u)),i.Np.push(k)):i.Np.push(""),u.length=0,"file"===i.Cp&&(Xu===v||63===v||35===v))for(;i.Np.length>1&&""===i.Np[0];)i.Np.shift();63===v?(i.xp="",e=19):35===v&&(i.Op="",e=20)}else u.push.apply(u,Je(v,Ye));break;case 18:63===v?(i.xp="",e=19):35===v?(i.Op="",e=20):Xu!==v&&(i.Np[0]+=Be(Je(v,He)));break;case 19:null===r&&35===v?(i.Op="",e=20):Xu!==v&&(i.xp+=Be(Je(v,Mu(i)?qe:Ke)));break;case 20:Xu===v||0===v||(i.Op+=Be(Je(v,ze)))}f++}return i}function Yu(t,n,i,r){try{zu(t,n,i,r)}catch(t){}}var ju=function(){this.Cp="",this.Pp="",this.Dp="",this.Mp=null,this.Bp=null,this.Np=[],this.xp=null,this.Op=null,this.Lp=!1};function Ku(t){switch(t.Cp){case"blob":var n;try{n=zu(t.Np[0],null)}catch(t){return Ru}return Ku(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return function(t,n,i){return t+"://"+ou(n)+(null===i?"":":"+i)}(t.Cp,t.Mp,t.Bp);default:return Ru}}var qu=function(){function t(t,n){var i,r=null;if(null!=n)if(function(t){return null!=t&&t instanceof qu&&"object"==typeof t.ic}(n))r=n.ic;else try{r=zu(String(n),null)}catch(t){throw new _("Invalid base URL: "+t.message)}try{i=zu(String(t),r)}catch(t){throw new _("Invalid URL: "+t.message)}var e=i.xp;this.ic=i,this.xp=function(t){var n=new ku;return null!==t&&_u(n,t),n}(e),this.xp.ic=this}var n=t.prototype;return n.toString=function(){return this.href},n.toJSON=function(){return this.href},function(t,n,i){n&&qr(t.prototype,n),i&&qr(t,i)}(t,[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.Cp+":";if(null!==t.Mp?(i+="//",Ou(t)&&(i+=t.Pp,""!==t.Dp&&(i+=":"+t.Dp),i+="@"),i+=ou(t.Mp),null!==t.Bp&&(i+=":"+t.Bp)):null===t.Mp&&"file"===t.Cp&&(i+="//"),t.Lp)i+=t.Np[0];else for(var r=0,e=t.Np;r<e.length;r++)i+="/"+e[r];return null!==t.xp&&(i+="?"+t.xp),n||null===t.Op||(i+="#"+t.Op),i}(this.ic)},set:function(t){var n;try{n=zu(String(t),null)}catch(t){throw new _("Invalid URL: "+t.message)}this.ic=n,pu(this.xp);var i=this.ic.xp;null!==i&&_u(this.xp,i)}},{key:"origin",get:function(){return Ku(this.ic)}},{key:"protocol",get:function(){return this.ic.Cp+":"},set:function(t){Yu(t+":",null,this.ic,0)}},{key:"username",get:function(){return this.ic.Pp},set:function(t){Zu(this.ic)||(this.ic.Pp=Qe(t,je))}},{key:"password",get:function(){return this.ic.Dp},set:function(t){Zu(this.ic)||(this.ic.Dp=Qe(t,je))}},{key:"host",get:function(){var t=this.ic,n=t.Mp;if(null===n)return"";var i=t.Bp,r=ou(n);return null!==i&&(r+=":"+i),r},set:function(t){this.ic.Lp||Yu(t,null,this.ic,10)}},{key:"hostname",get:function(){var t=this.ic.Mp;return null===t?"":ou(t)},set:function(t){this.ic.Lp||Yu(t,null,this.ic,11)}},{key:"port",get:function(){var t=this.ic.Bp;return null===t?"":""+t},set:function(t){Zu(this.ic)||(""===t?this.ic.Bp=null:Yu(t,null,this.ic,12))}},{key:"pathname",get:function(){var t=this.ic.Np;return this.ic.Lp?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.ic.Lp||(this.ic.Np.length=0,Yu(t,null,this.ic,16))}},{key:"search",get:function(){var t=this.ic.xp;return null===t||""===t?"":"?"+t},set:function(t){t=lu(t);var n=this.ic;if(""===t)return n.xp=null,void pu(this.xp);"?"===t[0]&&(t=t.slice(1)),n.xp="",Yu(t,null,n,19),_u(this.xp,t)}},{key:"searchParams",get:function(){return this.xp}},{key:"hash",get:function(){var t=this.ic.Op;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.ic.Op="",Yu(t,null,this.ic,20)):this.ic.Op=null}}]),t}();function Ju(t){return t.document&&t.document.baseURI||t.location.href||""}F(),Tt();var Qu=function(){function t(){this.$p=new $u,this.nw=Nr,this.iw=ts(),self.performance&&self.performance.now?this.Wg=function(){return self.performance.now()}:this.Wg=gr}var n=t.prototype;return n.Fp=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];zr.apply(void 0,Ft(n))},n.Vp=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];Yr.apply(void 0,Ft(n))},n.Wp=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];jr.apply(void 0,Ft(n))},n.Up=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];Kr.apply(void 0,[t].concat(Ft(i)))},n.Gg=function(t,n){return g(t,n)},n.Gp=function(t,n){return m(t,n)},n.Ug=function(t){w(t)},n.Hp=function(t){y(t)},n.Zp=function(){return this.Xp.Zp()},n.zp=function(){return this.Xp.zp()},n.qp=function(){return this.Xp.qp()},n.Yp=function(){return this.Xp.Yp()},n.Kp=function(){return this.Xp.Kp()},n.jp=function(t,n){return this.Xp.jp(t,n)},n.Qp=function(t){return this.Xp.Qp(t)},n.Ih=function(t,n){var i;return void 0===n&&(n=Ju(f)),i="object"!==(void 0===n?"undefined":U(n))||n instanceof qu?n:n.href,new qu(t,i)},n.ew=function(t,n){if(void 0===n&&(n=Ju(f)),this.iw){var i=ti(n)?n:n.toString();return new self.URL(t,i).href}return this.Ih(t,n).href},Nt(t,[{key:"Jp",get:function(){return this.$p}},{key:"Ys",get:function(){return this.nw}},{key:"ow",get:function(){return{hw:l&&l.userAgent.match(/Android /i)?"Android":"other",aw:Boolean(l&&l.userAgent.match(/Android 8.0.0/i))}}},{key:"uw",get:function(){return self&&self.location&&"https:"===self.location.protocol}},{key:"cw",get:function(){return"languages"in l?l.languages.slice():[l.language]}}]),t}(),$u=function(){function t(){}return Nt(t,[{key:"lw",get:function(){return l.oscpu}},{key:"Ys",get:function(){return l.platform}},{key:"dw",get:function(){return l.vendor}},{key:"fw",get:function(){return l.vendorSub}}]),t}();function ts(){if(self.URL)try{var t=new self.URL("b","http://a");return t.pathname="c d","http://a/c%20d"===t.href}catch(t){}return!1}function ns(){return ns=b.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var r in i)b.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},ns.apply(this,arguments)}function is(){var t=b.create(null);return t._w=void 0,delete t._w,t}function rs(){return new as}function es(){return new cs}function us(t){var n=rs();for(var i in t)Hn.call(t,i)&&n.set(i,t[i]);return n}function ss(t){var n=[];return t.forEach((function(t){return n.push(t)})),n}F(),Tt(),Gt(),F(),Tt(),qt(),F(),Tt(),Dt(),nn();var os="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,as=os||function(){var t=function(){function t(t,n){this.index=0,this.data=t,this.selector=n,this.keys=b.keys(t)}return t.prototype.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}();return function(){function n(){this.data=is(),this.size=0}var i=n.prototype;return i.get=function(t){return this.data[t]},i.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},i.has=function(t){return t in this.data},i.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},i.clear=function(){this.data=is(),this.size=0},i.keys=function(){return new t(this.data,(function(t,n){return n}))},i.values=function(){return new t(this.data,(function(t,n){return t[n]}))},i.entries=function(){return new t(this.data,(function(t,n){return[n,t[n]]}))},i.forEach=function(t){for(var n in this.data)t(this.data[n],n)},n}()}();var cs=os||function(){var t=function(){function t(t,n){this.mw=t,this.gw=n}return t.prototype.next=function(){var t=this.mw.next();return t.done?t:{value:this.gw(t.value),done:!1}},t}();return function(){function n(){this.P_=rs()}var i=n.prototype;return i.get=function(t){return this.P_.get(""+t)},i.set=function(t,n){return this.P_.set(""+t,n),this},i.has=function(t){return this.P_.has(""+t)},i.delete=function(t){return this.P_.delete(""+t)},i.clear=function(){this.P_.clear()},i.keys=function(){return new t(this.P_.keys(),(function(t){return Number(t)}))},i.values=function(){return this.P_.values()},i.entries=function(){return new t(this.P_.entries(),(function(t){var n=tn(t,2),i=n[0],r=n[1];return[Number(i),r]}))},i.forEach=function(t){this.P_.forEach((function(n,i){t(n,Number(i))}))},Nt(n,[{key:"size",get:function(){return this.P_.size}}]),n}()}();F(),Tt(),F(),Tt();var hs=function(t){return t.pw="9a04f079-9840-4286-ab92-e65be0885f95",t.ww="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",t.yw="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",t.Aw="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",t}({}),fs="urn:mpeg:dash:mp4protection:2011",vs="cenc",ds="sinf",ls="skd",gs="9a04f079-9840-4286-ab92-e65be0885f95",ws="urn:uuid:"+gs,ms="com.microsoft.playready",ys="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",ps="urn:uuid:"+ys,_s="com.widevine.alpha",bs="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",ks="urn:uuid:"+bs,As="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",Ts="urn:uuid:"+As,Ss="com.apple.fps.1_0",Es="com.apple.streamingkeydelivery",Is="identity";F(),Tt();var Rs=function(t){return t.pw="playready",t.ww="widevine",t.Aw="fairplay",t.yw="clearkey",t.Sw="aes128",t}({}),Cs={Tw:Rs.pw,Ew:ms,xw:"cenc",Rw:gs,Iw:ws,Cw:"PlayReady"},Ns={Tw:Rs.ww,Ew:_s,xw:"cenc",Rw:ys,Iw:ps,Cw:"Widevine"},Ds={Tw:Rs.Aw,Ew:Ss,xw:"skd",Rw:As,Iw:Ts,Cw:"FairPlay"},Ps={Tw:Rs.Aw,Ew:"com.apple.fps",xw:"sinf",Rw:As,Iw:Ts,Cw:"FairPlay"},xs={Tw:Rs.yw,Ew:"org.w3.clearkey",xw:"cenc",Rw:bs,Iw:ks,Cw:"ClearKey"},Ls=[Cs,Ns,Ds,xs],Ms=[Cs,Ns,Ps,xs];function Os(t){return Ls.filter((function(n){return n.Iw===t.toLowerCase()}))}F(),Tt(),Ut();var Bs="function"==typeof String.prototype.replaceAll?function(t,n,i){return t.replaceAll(n,i)}:function(t,n,i){return t.split(n).join(i)};function Vs(t,n){return Yn(t)&&-1!==t.indexOf(n)}var Fs="function"==typeof String.prototype.startsWith?function(t,n){return Yn(t)&&t.startsWith(n)}:function(t,n){return Yn(t)&&t.substr(0,n.length)===n},Us="function"==typeof String.prototype.endsWith?function(t,n){return Yn(t)&&t.endsWith(n)}:function(t,n){return Yn(t)&&t.substr(t.length-n.length,n.length)===n};function Ws(t,n){return t.length===n.length&&t.toUpperCase()===n.toUpperCase()}var Zs="function"==typeof String.prototype.repeat?function(t,n){return t.repeat(n)}:function(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var r=t,e="";1==(1&i)&&(e+=r),0!=(i>>>=1);)r+=r;return e},Xs="function"==typeof String.prototype.padStart?function(t,n,i){return void 0===i&&(i=" "),t.padStart(n,i)}:function(t,n,i){void 0===i&&(i=" ");var r=i,e=(0|n)-t.length;return e<=0?t:(e>r.length&&(r+=Zs(r,e/r.length)),r.slice(0,e)+t)},Gs=(String.prototype.padEnd,16384),Hs="function"==typeof String.fromCodePoint?function(t){var n;return t.length<=Gs?(n=String).fromCodePoint.apply(n,Ft(t)):Ys(t,String.fromCodePoint)}:function(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return zs(n)};function zs(t){var n;return t.length<=Gs?(n=String).fromCharCode.apply(n,Ft(t)):Ys(t,String.fromCharCode)}function Ys(t,n){for(var i=[],r=0;r<t.length;r+=Gs)i.push(n.apply(void 0,Ft(t.slice(r,r+Gs))));return i.join("")}function js(t){return t.replace(/[\\"]/g,(function(t){return"\\"+t}))}var Ks=Gn.pm&&Gn.ym>=42||Gn.jm&&Gn.Jm>=38||Gn.Gm||Gn.zm||Gn.ag&&Gn.dg>=29;function qs(t,n){return Vs(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[ns({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[ns({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}function Js(){return void 0!==l&&"function"==typeof l.requestMediaKeySystemAccess}function Qs(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest}var $s=function(){function t(t){this.Pw=rs(),this.Mw=void 0,this.Nw=t}var n=t.prototype;return n.Kp=function(){return this.Qp(Ns)},n.zp=function(){return this.Qp(xs)},n.Yp=function(){return this.Qp(Cs)},n.qp=function(){return this.Qp(Ds)},n.Qp=function(t){var n=t.Iw,i=this.Pw.get(n);if(i)return i;var r=this.jp(t,'video/mp4; codecs="avc1.42000a"');return this.Pw.set(n,r),r},n.jp=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,7]),[4,i.Nw.Dw(t.Ew,[qs(n,!0)])];case 1:return r.sent(),[2,!0];case 2:r.sent(),r.label=3;case 3:return r.trys.push([3,5,,6]),[4,i.Nw.Dw(t.Ew,[qs(n,!1)])];case 4:return r.sent(),[2,!0];case 5:return r.sent(),[2,!1];case 6:return[3,7];case 7:return[2]}}))}))()},n.Zp=function(){return this.Mw||(this.Mw=this.Lw()),this.Mw},n.Lw=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return"https:"===f.location.protocol?[2,!1]:Ks?[4,t.zp()]:[2,!1];case 1:return n.sent()?[2,!1]:[2,!0]}}))}))()},t}();function to(t,n){return io(t.slice(),n)}function no(t,n){var i=io(t,n);return i!==t&&ro(i,void 0,t.length,t),t}function io(t,n){var i=t,r=i.length;if(r<=1)return i;for(var e=new Array(r),u=1;u<r;u*=2){ro(i,n,u,e);var s=i;i=e,e=s}return i}function ro(t,n,i,r){var e,u,s,o,a,c=t.length,h=0,f=2*i;for(u=0;u<c;u+=f)for(e=(s=u+i)+i,s>c&&(s=c),e>c&&(e=c),o=u,a=s;;)if(o<s&&a<e)n&&n(t[o],t[a])<=0?r[h++]=t[o++]:r[h++]=t[a++];else if(o<s)r[h++]=t[o++];else{if(!(a<e))break;r[h++]=t[a++]}}F(),Tt(),F(),Tt(),Gt(),qt(),F(),Tt(),Gt(),Dt(),qt(),F(),Tt(),Gt(),qt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Rt(),F(),Tt(),Gt(),Ut(),qt(),F(),Tt(),F(),Tt();var eo=function(t){return t[t.eh=0]="eh",t[t.Bw=1]="Bw",t[t.Ow=-1]="Ow",t}({}),uo=function(t,n){return(0|t)-(0|n)},so=function(t,n){return t===n?0:t<n?-1:t>n?1:S(t)?S(n)?0:1:-1};function oo(t,n,i){return or(t,n,i)?0:so(t,n)}var ao=function(t,n){return ar(t,n)?0:so(t,n)};var co="function"==typeof Array.prototype.find?function(t,n){return t.find(n)}:function(t,n){var i=lo(t,n);return-1===i?void 0:t[i]},ho=co,fo="function"==typeof Array.prototype.findLast?function(t,n){return t.findLast(n)}:function(t,n){var i=go(t,n);return-1===i?void 0:t[i]},vo=fo,lo="function"==typeof Array.prototype.findIndex?function(t,n){return t.findIndex(n)}:function(t,n){for(var i=0;i<t.length;i+=1){if(n(t[i],i,t))return i}return-1},go="function"==typeof Array.prototype.findLastIndex?function(t,n){return t.findLastIndex(n)}:function(t,n){for(var i=t.length-1;i>=0;i-=1){if(n(t[i],i,t))return i}return-1};function wo(t,n){var i=t.indexOf(n);return-1!==i&&(mo(t,i),!0)}function mo(t,n){0===n?t.shift():t.splice(n,1)}function yo(t,n){for(var i=new Array(t.length),r=0,e=0;e<t.length;){if(t[e]===n){e++,i.length-=1;break}i[r++]=t[e++]}for(;e<t.length;)i[r++]=t[e++];return i}function po(t,n){return-1!==t.indexOf(n)}function _o(t,n,i){if(t===n)return!0;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r+=1)if(!i(t[r],n[r]))return!1;return!0}function bo(t){t.length=0}function ko(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++){if(!po(n,t[i]))return!1}return!0}Array.prototype.flat;var Ao="function"==typeof Array.prototype.flatMap?function(t,n){return t.flatMap(n)}:function(t,n){for(var i=[],r=0;r<t.length;r++){var e;(e=i).push.apply(e,Ft(n(t[r],r)))}return i};function To(t,n){return Eo(t,(function(t,i){return so(n(t),n(i))}))}function So(t,n){return Io(t,(function(t,i){return so(n(t),n(i))}))}function Eo(t,n){if(0!==t.length)return t.reduce((function(t,i){return n(t,i)<=0?t:i}))}function Io(t,n){return Eo(t,(function(t,i){return n(i,t)}))}function Ro(t){return t.filter((function(n,i){return t.indexOf(n)===i}))}function Co(t,n){return et.all(t.map(n)).then((function(n){return t.filter((function(t,i){return n[i]}))}))}function No(t,n){return Do.apply(this,arguments)}function Do(){return Do=Zt((function(t,n){var i,r;return Ht(this,(function(e){switch(e.label){case 0:i=0,e.label=1;case 1:return i<t.length?(r=t[i],[4,n(r)]):[3,4];case 2:if(e.sent())return[2,!0];e.label=3;case 3:return i++,[3,1];case 4:return[2,!1]}}))})),Do.apply(this,arguments)}function Po(){return Po=Zt((function(t,n){var i,r;return Ht(this,(function(e){switch(e.label){case 0:i=0,e.label=1;case 1:return i<t.length?(r=t[i],[4,n(r)]):[3,4];case 2:if(!e.sent())return[2,!1];e.label=3;case 3:return i++,[3,1];case 4:return[2,!0]}}))})),Po.apply(this,arguments)}function xo(t,n,i){if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(!i(t[r],n[r]))return!1;return!0}F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Kt(),F(),Tt(),Kt(),F(),Tt(),Dt(),Rt();var Lo=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];p.apply(this,n)};(Lo.prototype=b.create(p.prototype)).constructor=Lo;var Mo=function(t){function n(n,i){var r;return(r=t.call(this)||this).message=n||"Unknown error",r.cause=i,p.captureStackTrace&&p.captureStackTrace(r,r.constructor),r}return It(n,t),Nt(n,[{key:"name",get:function(){return"BaseError"}}]),n}(Lo),Oo=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return It(n,t),Nt(n,[{key:"name",get:function(){return"AbortError"}}]),n}(Mo);function Bo(t){return t instanceof p&&"AbortError"===t.name}function Vo(t){if(t&&t.Fw)throw new Oo}function Fo(t){if(Bo(t))throw t}function Uo(t){if(!Bo(t))throw t}function Wo(t,n){return n?new et((function(i,r){if(n.Fw)return t.catch(bi),r(new Oo);var e=function(){n.Vw(e),r(new Oo)};n.Ww(e),t.then((function(t){n.Vw(e),i(t)}),(function(t){n.Vw(e),r(t)}))})):t}function Zo(t,n){return Xo.apply(this,arguments)}function Xo(){return Xo=Zt((function(t,n){var i,r;return Ht(this,(function(e){switch(e.label){case 0:i={stack:[],error:void 0,hasError:!1},e.label=1;case 1:return e.trys.push([1,3,4,5]),Yt(i,n,!1),[4,t];case 2:return[2,e.sent()];case 3:return r=e.sent(),i.error=r,i.hasError=!0,[3,5];case 4:return jt(i),[7];case 5:return[2]}}))})),Xo.apply(this,arguments)}function Go(t,n){return Ho.apply(this,arguments)}function Ho(){return Ho=Zt((function(t,n){var i,r;return Ht(this,(function(e){switch(e.label){case 0:i={stack:[],error:void 0,hasError:!1},e.label=1;case 1:return e.trys.push([1,3,4,5]),Yt(i,n,!1),[4,t(n.Uw)];case 2:return[2,e.sent()];case 3:return r=e.sent(),i.error=r,i.hasError=!0,[3,5];case 4:return jt(i),[7];case 5:return[2]}}))})),Ho.apply(this,arguments)}F(),Tt(),Gt(),qt(),F(),Tt(),Dt();var zo=function(){function t(){this.Fw=!1,this.Hw=!1,this.Zw=[],this.zw=[]}var n=t.prototype;return n.Gw=function(){if(!this.Fw&&!this.Hw){this.Fw=!0;for(var t=0,n=this.Zw.slice();t<n.length;t++){(0,n[t])()}this.Xw()}},n.Xw=function(){if(!this.Hw){this.Hw=!0;for(var t=0,n=this.zw.slice();t<n.length;t++){(0,n[t])()}bo(this.Zw),bo(this.zw)}},n.Ww=function(t){this.Hw||this.Zw.push(t)},n.Vw=function(t){this.Hw||wo(this.Zw,t)},n.qw=function(t){this.Hw||this.zw.push(t)},n.Yw=function(t){this.Hw||wo(this.zw,t)},t}(),Yo=function(){function t(){this.Kw=new zo}var n=t.prototype;return n.jw=function(){this.Kw.Gw()},n.Xw=function(){this.Kw.Xw()},n.Qw=function(t){var n=this.Kw;if(!n.Fw)if(t.Fw)n.Gw();else if(!n.Hw&&!t.Hw){var i=function(){r(),n.Gw()},r=function(){t.Vw(i),t.Yw(r),n.Vw(i),n.Yw(r)};t.Ww(i),t.qw(r),n.Ww(i),n.qw(r)}},n.Jw=function(){var n=new t,i=new t,r=n.Uw,e=i.Uw,u=this.Kw,s=function(){r.Fw&&e.Hw||e.Fw&&r.Hw?u.Gw():r.Hw&&e.Hw&&u.Xw()};r.Ww(s),e.Ww(s),r.qw(s),e.qw(s),n.Qw(u),i.Qw(u);return u.qw((function(){r.Vw(s),e.Vw(s),r.Yw(s),e.Yw(s)})),[n,i]},n[e]=function(){this.jw()},t.$w=function(n){for(var i=new t,r=0;r<n.length;r++){var e=n[r];void 0!==e&&i.Qw(e)}return i},Nt(t,[{key:"Uw",get:function(){return this.Kw}}]),t}(),jo=et.resolve(),Ko="function"==typeof queueMicrotask?queueMicrotask:function(t){jo.then(t)};function qo(t){t.then(bi,bi)}function Jo(t){return Qo.apply(this,arguments)}function Qo(){return Qo=Zt((function(t){var n;return Ht(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,4]),[4,et.all(t)];case 1:return[2,i.sent()];case 2:return n=i.sent(),[4,et.all(t.map((function(t){return t.catch(bi)})))];case 3:throw i.sent(),n;case 4:return[2]}}))})),Qo.apply(this,arguments)}function $o(t,n){return new et((function(i,r){if(void 0!==n&&n.Fw)r(new Oo);else{var e=Kn.Gg((function(){void 0!==n&&n.Vw(u),i()}),t),u=function(){Kn.Ug(e),r(new Oo)};void 0!==n&&n.Ww(u)}}))}function ta(t,n){return na.apply(this,arguments)}function na(){return na=Zt((function(t,n){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:i={stack:[],error:void 0,hasError:!1},u.label=1;case 1:return u.trys.push([1,3,4,5]),r=Yt(i,new Yo,!1),[4,et.race([t,$o(n,r.Uw).then((function(){throw new p("Timeout")}))])];case 2:return[2,u.sent()];case 3:return e=u.sent(),i.error=e,i.hasError=!0,[3,5];case 4:return jt(i),[7];case 5:return[2]}}))})),na.apply(this,arguments)}function ia(t,n,i){if("function"==typeof i)i.call(t,n);else for(var r=0;r<i.length;r++){i[r].call(t,n)}}var ra=function(){function t(t){var n=this;this.iy=is(),this.uy=void 0,this.sy=0,this.Ds=function(t){n._o(t)},this.ly=null!=t?t:this}var n=t.prototype;return n.bn=function(t,n){if("function"==typeof n)if("string"==typeof t)this.ey(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this.ey(r,n)}},n.ey=function(t,n){var i=this.iy[t];void 0===i?this.iy[t]=n:"function"==typeof i?this.iy[t]=[i,n]:0===this.sy?i.push(n):this.iy[t]=i.concat(n)},n.oy=function(t){if("function"==typeof t){var n=this.uy;void 0===n?this.uy=t:"function"==typeof n?this.uy=[n,t]:0===this.sy?n.push(t):this.uy=n.concat(t)}},n.Ro=function(){this.iy=is(),this.uy=void 0},n._o=function(t){this.sy++;var n=this.iy[t.type],i=this.uy;void 0!==n&&ia(this.ly,t,n),void 0!==i&&ia(this.ly,t,i),this.sy--},n.vn=function(t,n){if("function"==typeof n)if("string"==typeof t)this._y(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this._y(r,n)}},n._y=function(t,n){var i=this.iy[t];void 0!==i&&("function"==typeof i?i===n&&(this.iy[t]=void 0):0===this.sy?wo(i,n):this.iy[t]=yo(i,n))},n.vy=function(t){if("string"==typeof t)this.iy[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.iy[i]=void 0}},n.gy=function(t){var n=this.uy;void 0!==n&&("function"==typeof n?n===t&&(this.uy=void 0):0===this.sy?wo(n,t):this.uy=yo(n,t))},n.py=function(t,n){var i=this;return new et((function(r,e){if(n&&n.Fw)return e(new Oo);var u=function(t){o(),r(t)},s=function(){o(),e(new Oo)},o=function(){i.vn(t,u),n&&n.Vw(s)};i.bn(t,u),n&&n.Ww(s)}))},t}(),ea=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n.prototype._o=function(n){var i=this;Ko((function(){t.prototype._o.call(i,n)}))},n}(ra),ua=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.oy=function(n){t.prototype.oy.call(this,n)},i.gy=function(n){t.prototype.gy.call(this,n)},n}(ra);F(),Tt(),Rt(),F(),Tt();var sa=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n};F(),Tt();var oa=function(t){return t.wy="yy",t.Ay="Sy",t.Ty="contentprotectionerror",t.Ey="contentprotectionsuccess",t.xy="currentsourcechange",t.Ry="destroy",t.Iy="durationchange",t.Cy="emptied",t.Py="encrypted",t.Dy="ended",t.Ny="My",t.Ly="By",t.Oy="Fy",t.Vy="Wy",t.Uy="loadstart",t.Gy="manifestupdate",t.Hy="nosupportedrepresentationfound",t.Zy="offline",t.Xy="online",t.zy="pause",t.ho="play",t.qy="progress",t.Yy="ratechange",t.Ky="representationchange",t.jy="resize",t.Qy="seeked",t.Jy="seeking",t.$y="segmentnotfound",t.eb="ib",t.sb="ob",t.uo="sourcechange",t.hb="timeupdate",t.ub="volumechange",t.fb="_b",t.vb="mb",t.gb="metricschange",t}({}),aa=["cenc"],ca=["cbcs","cbcs-1-9"],ha=function(t){function n(n){var i;return(i=t.call(this,oa.vb)||this).pb=n,i}return It(n,t),n}(sa),fa=function(t){function n(n,i,r,e){var u;return(u=t.call(this,"wb")||this).yb=n,u.bb=i,u.wb=r,u.Ab=e,u}return It(n,t),n}(sa),va=function(t){function n(){return t.call(this,"lt")||this}return It(n,t),n}(sa),da=function(t){return t.Py="Sb",t.Tb="kb",t}({}),la=function(t){function n(n,i){var r;return(r=t.call(this,"Sb")||this).xw=n,r.Eb=i,r}return It(n,t),n}(sa),ga=function(t){function n(){return t.call(this,"kb")||this}return It(n,t),n}(sa);F(),Tt(),Dt(),F(),Tt(),F(),Tt();var wa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),ma=16383,ya=/[\t\n\f\r ]/g;function pa(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:_a()}function _a(){throw new p("Invalid base64 input")}function ba(t){var n=t;ya.test(n)&&(n=n.replace(ya,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var r=i%4;if(1===r)return _a();for(var e,u=0===r?0:4-r,s=new E(function(t,n){return 3*(t+n)/4-n}(i,u)),o=u>0?i-4:i,a=0,c=0;a<o;a+=4)e=pa(n.charCodeAt(a))<<18|pa(n.charCodeAt(a+1))<<12|pa(n.charCodeAt(a+2))<<6|pa(n.charCodeAt(a+3)),s[c++]=e>>16&255,s[c++]=e>>8&255,s[c++]=255&e;return 2===u?(e=pa(n.charCodeAt(a))<<2|pa(n.charCodeAt(a+1))>>4,s[c++]=255&e):1===u&&(e=pa(n.charCodeAt(a))<<10|pa(n.charCodeAt(a+1))<<4|pa(n.charCodeAt(a+2))>>2,s[c++]=e>>8&255,s[c++]=255&e),s}function ka(t,n,i){return wa[t>>2]+wa[(3&t)<<4|n>>4]+wa[(15&n)<<2|i>>6]+wa[63&i]}function Aa(t,n,i){for(var r=[],e=n;e<i;e+=3)r.push(ka(t[e],t[e+1],t[e+2]));return r.join("")}function Ta(t){for(var n=t.length,i=n%3,r=[],e=n-i,u=0;u<e;u+=ma)r.push(Aa(t,u,k.min(e,u+ma)));if(1===i){var s=t[n-1];r.push(wa[s>>2]+wa[(3&s)<<4]+"==")}else if(2===i){var o=t[n-2],a=t[n-1];r.push(wa[o>>2]+wa[(3&o)<<4|a>>4]+wa[(15&a)<<2]+"=")}return r.join("")}function Sa(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/[=]/g,"")}function Ea(t,n){var i=n.nc,r=t.getUint8(i>>3),e=1<<7-(7&i);return n.xb(1),(r&e)===e?1:0}function Ia(t,n,i){for(var r=0,e=0;e<i;e++)r=2*r+Ea(t,n);return r}F(),Tt(),Dt(),F(),Tt(),Dt();var Ra=function(){function t(t){void 0===t&&(t=0),this.rc=t}var n=t.prototype;return n.xb=function(t){this.rc+=t},n.Rb=function(t){this.rc=t},n.Ib=function(){return new t(this.nc)},Nt(t,[{key:"nc",get:function(){return this.rc}}]),t}();var Ca=k.clz32||function(t){var n=32,i=t>>16;return i&&(n-=16,t=i),(i=t>>8)&&(n-=8,t=i),(i=t>>4)&&(n-=4,t=i),(i=t>>2)&&(n-=2,t=i),(i=t>>1)?n-2:n-t};function Na(t){if(t>=55296&&t<=57343)throw new p("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Da(t,n){return t>>n&63|128}function Pa(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Na(t),n.push(t>>12&15|224),n.push(Da(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Da(t,12)),n.push(Da(t,6))),n.push(63&t|128)):n.push(t)}function xa(t,n){if(n.nc>=t.length)throw new p("Invalid byte index");var i=255&t[n.nc];if(n.xb(1),128==(192&i))return 63&i;throw new p("Invalid continuation byte")}function La(t,n){var i=n.nc;if(i>t.length)throw new p("Invalid byte index");if(i===t.length)return!1;var r=255&t[i];if(n.xb(1),0==(128&r))return r;if(192==(224&r)){var e=(31&r)<<6|xa(t,n);if(e>=128)return e;throw new p("Invalid continuation byte")}if(224==(240&r)){var u=(15&r)<<12|xa(t,n)<<6|xa(t,n);if(u>=2048)return Na(u),u;throw new p("Invalid continuation byte")}if(240==(248&r)){var s=(7&r)<<18|xa(t,n)<<12|xa(t,n)<<6|xa(t,n);if(s>=65536&&s<=1114111)return s}throw new p("Invalid UTF-8 detected")}F(),Tt(),F(),Tt();var Ma=65279;var Oa=[128,64,32,16,8,4,2,1],Ba=function(){function t(t){this.Pb=t}return t.prototype.Cb=function(t){return Va(this.Pb,t)},t}();function Va(t,n){return(t&n)===n}function Fa(t,n){return Va(t,Oa[n])}function Ua(t,n){var i=t.getUint8(n.nc);return n.xb(1),i}function Wa(t,n,i){t.setUint8(n.nc,i),n.xb(1)}function Za(t,n,i){var r=pc(kc(t),n.nc,n.nc+i);return n.xb(r.byteLength),r}function Xa(t,n,i){kc(t).set(kc(i),n.nc),n.xb(i.byteLength)}function Ga(t,n,i){return n.nc+i<=t.byteLength}function Ha(t,n,i,r){return void 0===r&&(r=!1),r?function(t,n,i){for(var r=0,e=1,u=0;u<i;u++)r+=Ua(t,n)*e,e*=256;return r}(t,n,i):function(t,n,i){for(var r=0,e=0;e<i;e++)r=256*r+Ua(t,n);return r}(t,n,i)}function za(t,n){var i=t.getUint8(n.nc);return n.xb(1),i}function Ya(t,n,i){void 0===i&&(i=!1);var r=t.getUint16(n.nc,i);return n.xb(2),r}function ja(t,n,i,r){void 0===r&&(r=!1),t.setUint16(n.nc,i,r),n.xb(2)}function Ka(t,n,i){void 0===i&&(i=!1);var r=t.getUint32(n.nc,i);return n.xb(4),r}function qa(t,n,i,r){void 0===r&&(r=!1),t.setUint32(n.nc,i,r),n.xb(4)}function Ja(t,n,i){void 0===i&&(i=!1);var r=Ka(t,n,i),e=Ka(t,n,i),u=i?e:r,s=i?r:e;return ir.fromBits(s,u,!0)}function Qa(t,n,i,r){void 0===r&&(r=!1);var e=i.getHighBitsUnsigned(),u=i.getLowBitsUnsigned(),s=r?e:u;qa(t,n,r?u:e,r),qa(t,n,s,r)}function $a(t,n){return ic(t,n)}function tc(t,n,i){return zs(Ic(Za(t,n,i)))}function nc(t,n){var i,r=Ua(t,n);return 0==(128&r)?i=r:192==(224&r)?i=64*(31&r)+(63&Ua(t,n)):224==(240&r)?i=4096*(15&r)+64*(63&Ua(t,n))+(63&Ua(t,n)):240==(248&r)&&(i=262144*(7&r)+4096*(63&Ua(t,n))+64*(63&Ua(t,n))+(63&Ua(t,n))),i}function ic(t,n){return rc(t,n,!0)}function rc(t,n,i){for(var r=[];n.nc<t.byteLength;){var e=Ua(t,n);if(i&&!e)break;r.push(e)}return zs(r)}function ec(t,n,i){for(var r=i.length,e=0;e<r;e+=1){Wa(t,n,i.charCodeAt(e))}}function uc(t,n){if(n.nc+2<=t.byteLength){var i=t.getUint8(n.nc),r=t.getUint8(n.nc+1);return(254!==i||255!==r)&&(255===i&&254===r||void 0)}}function sc(t,n){var i=uc(t,n);return void 0!==i&&n.xb(2),oc(t,n,!0===i)}function oc(t,n,i){return void 0===i&&(i=!1),ac(t,n,i,!0)}function ac(t,n,i,r){for(var e=[];n.nc+2<=t.byteLength;){var u=Ya(t,n,i);if(r&&!u)break;e.push(u)}return zs(e)}function cc(t,n,i,r){void 0===r&&(r=!1);for(var e=i.length,u=0;u<e;u+=1){ja(t,n,i.charCodeAt(u),r)}}function hc(t){return rc(bc(t),new Rc,!1)}function fc(t){var n=new E(t.length);return ec(bc(n),new Rc,t),n}function vc(t,n){return void 0===n&&(n=!1),ac(bc(t),new Rc,n,!1)}function dc(t,n){void 0===n&&(n=!1);var i=new E(2*t.length);return cc(bc(i),new Rc,t,n),i}function lc(t,n){return n.nc+3<=t.byteLength&&(239===t.getUint8(n.nc)&&187===t.getUint8(n.nc+1)&&191===t.getUint8(n.nc+2))}function gc(t,n){return function(t,n,i){var r=[],e=lc(t,n);e&&n.xb(3);for(;n.nc<t.byteLength;){var u=nc(t,n);if(void 0===u)break;if(i&&0===u)break;r.push(u)}return Hs(r)}(t,n,!0)}function wc(t){return function(t){return Hs(t)}(function(t,n){var i,r=[],e=new Rc;if(!n){if(!1===(i=La(t,e)))return r;i===Ma||r.push(i)}for(;!1!==(i=La(t,e));)r.push(i);return r}(kc(t)))}function mc(t){return new E(function(t){for(var n=[],i=0;i<t.length;i++)Pa(t[i],n);return n}(function(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}(t)))}function yc(t,n){if(lc(t,n))return gc(t,n);if(void 0!==uc(t,n))return sc(t,n);if(n.nc+4<=t.byteLength){if(0===t.getUint8(n.nc)&&0===t.getUint8(n.nc+2))return oc(t,n,!1);if(0===t.getUint8(n.nc+1)&&0===t.getUint8(n.nc+3))return oc(t,n,!0)}return gc(t,n)}function pc(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new E(t.buffer,t.byteOffset+n,i-n)}function _c(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function bc(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function kc(t){return new E(t.buffer,t.byteOffset,t.byteLength)}function Ac(t){return t instanceof ArrayBuffer||Pc(t)}function Tc(t){return t instanceof ArrayBuffer?new E(t):kc(t)}function Sc(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):Ec(pc(t,n,i))}function Ec(t){if(t.slice)return t.slice(0);var n=new E(t.byteLength);return n.set(t,0),n}function Ic(t){return[].slice.call(t)}var Rc=function(){function t(t){void 0===t&&(t=0),this.rc=t}var n=t.prototype;return n.xb=function(t){this.rc+=t},n.Rb=function(t){this.rc=t},n.Ib=function(){return new t(this.nc)},n.Db=function(){return new Ra(this.nc<<3)},Nt(t,[{key:"nc",get:function(){return this.rc}}]),t}();function Cc(t){var n=t.toLowerCase(),i=0,r=0;Fs(n,"0x")&&(n=n.substring(2));var e=new E(k.ceil(n.length/2));for(1==(1&n.length)&&(i=1,e[r++]=A(n[0],16));i<n.length;i+=2)e[r++]=A(n.substr(i,2),16);return e}function Nc(t){return.001*t}var Dc=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],Pc=ArrayBuffer.isView||function(t){return t&&po(Dc,zn.call(t))};function xc(t,n){return t===n||t.byteLength===n.byteLength&&Lc(new E(t),new E(n))}function Lc(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;if(t.buffer===n.buffer&&t.byteOffset===n.byteOffset)return!0;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}function Mc(t,n){return t===n||Lc(Tc(t),Tc(n))}function Oc(t){var n=t.reduce((function(t,n){return t+n.byteLength}),0);return Bc(t,n)}function Bc(t,n){for(var i=new E(n),r=0,e=0;e<t.length;e++){var u=t[e];i.set(u,r),r+=u.byteLength}return i}function Vc(t,n,i){var r=new E(t.byteLength+n.byteLength),e=pc(t,0,i),u=pc(t,i);return r.set(e),r.set(n,i),r.set(u,i+n.byteLength),r}function Fc(t){return ba(t).buffer}function Uc(t){return Ta(new E(t))}function Wc(t){return Ta(fc(t))}var Zc=new E([0]).buffer,Xc=function(){function t(){this.tc=[]}var n=t.prototype;return n.Mb=function(t){for(var n=0,i=this.tc;n<i.length;n++){if(Mc(i[n][0],t))return!0}return!1},n.Lb=function(t){for(var n=0,i=this.tc;n<i.length;n++){var r=i[n];if(Mc(r[0],t))return r[1]}},n.Bb=function(t,n){for(var i=0,r=this.tc;i<r.length;i++){var e=r[i];if(Mc(e[0],t))return void(e[1]=n)}this.tc.push([t,n])},n.Ob=function(t,n){this.tc.forEach((function(n){return t(n[1],n[0])}),n)},n.Fb=function(){bo(this.tc)},Nt(t,[{key:"Nb",get:function(){return this.tc.length}}]),t}();F(),Tt();var Gc=function(){function t(){var t=this;this.Ub=new et((function(n,i){t.Gd=n,t.Hd=i}))}var n=t.prototype;return n.Vb=function(t){this.Gd&&(this.Gd(t),this.Xw())},n.Wb=function(t){this.Hd&&(this.Hd(t),this.Xw())},n.jw=function(){this.Ub.catch(bi),this.Wb(new Oo)},n.Qw=function(t){var n=this;t.then((function(t){return n.Vb(t)}),(function(t){return n.Wb(t)}))},n.Xw=function(){this.Gd=void 0,this.Hd=void 0},t}();function Hc(){return new E([8,4]).buffer}function zc(t,n){return t===ms?function(t){if(t.byteLength<2*Yc.length)return t;var n=new DataView(t,0,2*Yc.length),i=vc(n,!0);if(i===Yc)return t;return function(t){var n='<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">',i='</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',r=""+n+Uc(t)+i;return dc(r,!0).buffer}(t)}(n):n}F(),Tt();var Yc="<PlayReady";F(),Tt(),F(),Tt(),Rt();var jc=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,e)||this).Gb=i,u.Hb=r,u}return It(n,t),n}(Mo);F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt();var Kc=function(t,n){return(Kc=b.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)b.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])})(t,n)};function qc(t,n){if("function"!=typeof n&&null!==n)throw new _("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}Kc(t,n),t.prototype=null===n?b.create(n):(i.prototype=n.prototype,new i)}function Jc(t,n,i){return t.indexOf?t.indexOf(n,i):Array.prototype.indexOf.call(t,n,i)}F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt();!function(){function t(t,n){this.Zb=t,this.Xb=n}t.prototype.get=function(t){var n=this.Zb.get(t);if(0===this.Xb||void 0===n)return n;var i=this.Zb.get(t+1)||0,r=n&(1<<8-this.Xb)-1,e=i>>8-this.Xb;return(r<<this.Xb)+e},t.prototype.getBit=function(t){if(!(t<0)){var n=this.Zb.get(k.floor((t+this.Xb)/8));if(void 0!==n)return(n&1<<7-this.Xb-t%8)>0?1:0}},b.defineProperty(t.prototype,"bitLength",{get:function(){return this.Zb.bitLength-this.Xb},enumerable:!1,configurable:!0}),b.defineProperty(t.prototype,"length",{get:function(){return this.Zb.length},enumerable:!1,configurable:!0})}();F(),Tt(),F(),Tt();k.pow(2,-52);function Qc(t,n,i){return k.min(k.max(t,n),i)}function $c(t,n){return t>>8-n}function th(t,n){return t&(1<<n)-1}var nh=function(){function t(t){this.zb=t,this.qb=0,this.Yb=0}return b.defineProperty(t.prototype,"totalBitsRead",{get:function(){return 8*this.qb+this.Yb},enumerable:!1,configurable:!0}),b.defineProperty(t.prototype,"done",{get:function(){return this.qb===this.zb.length&&0===this.Yb},enumerable:!1,configurable:!0}),b.defineProperty(t.prototype,"location",{get:function(){return{byte:this.qb,bit:this.Yb}},enumerable:!1,configurable:!0}),t.prototype.copy=function(){var n=new t(this.zb);return n.seek(this.qb,this.Yb),n},t.prototype.canReadBits=function(t){return 8*this.qb+t+this.Yb<=8*this.zb.length},t.prototype.canReadBytes=function(t){return 0===this.Yb?this.qb+t<=this.zb.length:this.qb+t<this.zb.length},t.prototype.incBit=function(){this.Yb++,this.Yb>7&&(this.qb++,this.Yb=0)},t.prototype.seek=function(t,n){this.qb=t,this.Yb=n},t.prototype.peekBit=function(){if(!this.canReadBits(1))throw new p("Cannot read past end of buffer.");return this.zb.get(this.qb)>>7-this.Yb&1},t.prototype.readBit=function(){var t=this.peekBit();return this.incBit(),t},t.prototype.readByte=function(){if(!this.canReadBytes(1))throw new p("Cannot read past end of buffer.");if(0===this.Yb)return this.zb.get(this.qb++);var t=th(this.zb.get(this.qb),8-this.Yb),n=$c(this.zb.get(this.qb+1),this.Yb);return this.qb++,t<<this.Yb|n},t.prototype.readBits=function(t){if(!this.canReadBits(t))throw new p("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readBit());return n},t.prototype.readUInt=function(t){if(t>32)throw new p("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new p("Cannot read past end of buffer.");var n=0;if(0===this.Yb&&t%8==0)for(var i=t-8;i>=0;i-=8)n|=this.readByte()<<i;else for(i=t-1;i>=0;i--)n|=this.readBit()<<i;return n},t.prototype.readInt=function(t){if(t>32)throw new p("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new p("Cannot read past end of buffer.");var n=this.readUInt(t);return 0===(n&1<<t-1)?n:n-k.pow(2,t)},t.prototype.readExponentialGolombCode=function(){for(var t=0;0===this.readBit();)t++;var n=1<<t;return n+=this.readUInt(t)-1},t.prototype.readSignedExponentialGolombCode=function(){var t=this.readExponentialGolombCode();return 1&t?(t+1)/2:-t/2},t.prototype.skipBits=function(t){if(!this.canReadBits(t))throw new p("Skipping over the buffer edge is not allowed.");var n=this.Yb+t;this.qb+=n>>3,this.Yb=7&n},t.prototype.readBool=function(){return this.readBit()>0},t.prototype.readString=function(t){if(!this.canReadBytes(t))throw new p("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readByte());return String.fromCharCode.apply(String,n)},t}();F(),Tt(),F(),Tt(),F(),Tt();var ih=function(t,n){return t===n?0:t<n?-1:t>n?1:S(t)?S(n)?0:1:-1},rh=function(){function t(){this.Kb=[],this.jb=[],this.Qb=0}return t.from=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var r=new t,e=0,u=n;e<u.length;e++){var s=u[e];r.pushRange(s)}return r},t.prototype.pushRange=function(t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=t.length),i<0)throw new p("The buffer length must be positive.");if(0!==i){if(0===this.jb.length)this.jb.push(0);else{var r=this.jb[this.jb.length-1]+this.Kb[this.Kb.length-1].length;this.jb.push(r)}this.Kb.push(t.subarray(n,n+i)),this.Qb+=i}},t.prototype.concat=function(n){var i=new t;return i.pushRange(this.join()),i.pushRange(n.join()),i},t.prototype.copy=function(t,n,i,r){if(void 0===n&&(n=0),void 0===i&&(i=0),void 0===r&&(r=this.length),n<0||i<0||r<0)throw new RangeError;return this.slice(i,r).copyInternal(t,n)},t.prototype.copyInternal=function(t,n){for(var i=0,r=n,e=0,u=this.Kb;e<u.length;e++){var s=u[e];t.set(s,r),i+=s.length,r+=s.length}return i},t.prototype.clear=function(){this.Kb=[],this.jb=[],this.Qb=0},t.prototype.get=function(t){if(!(t<0||t>=this.length)){var n=this.findContainingBufferIndex(t),i=t-this.jb[n];return this.Kb[n][i]}},b.defineProperty(t.prototype,"first",{get:function(){return this.get(0)},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){if(this.Kb.length<1)return-1;if(this.Kb.length>1){var n=this.join();this.clear(),this.pushRange(n)}var i=this.Kb[0];return"number"==typeof t?Jc(i,t):"undefined"!=typeof Buffer?Buffer.from(i.buffer,i.byteOffset,i.byteLength).indexOf(t):function(t,n){if(0===n.length)return 0;for(var i=n[0],r=n.length,e=t.length-r,u=0;u<=e&&!((u=Jc(t,i,u))<0||u>e);u++){for(var s=u+1,o=u+r,a=1;s<o&&t[s]===n[a];s++,a++);if(s===o)return u}return-1}(i,t)},t.prototype.findContainingBufferIndex=function(t){return function(t,n,i){if(0!==t.length){var r=0,e=t.length-1;if(1!==i(t[r],n)){if(1===i(n,t[e]))return e;for(;r!==e;){var u=k.ceil((r+e)/2);i(t[u],n)<=0?r=u:e=u-1}return r}}}(this.jb,t,ih)},t.prototype.join=function(){if(1===this.Kb.length)return this.Kb[0];var t=new E(this.length);return this.copyInternal(t,0),t},b.defineProperty(t.prototype,"length",{get:function(){return this.Qb},enumerable:!1,configurable:!0}),b.defineProperty(t.prototype,"bitLength",{get:function(){return 8*this.length},enumerable:!1,configurable:!0}),t.prototype.readUIntBE=function(t,n){if(n<=0||n>4)throw new p("Expected byteLength to be between 0 and 4 but was "+n);if(t<0||t>this.length-n)throw new p("Offset must be between 0 and buffer.length - byteLength, but was "+t+" (max allowed "+(this.length-n)+")");if(1===n)return this.get(t);for(var i=0,r=0;r<n;r++)i+=this.get(t+r)*k.pow(2,8*(n-r-1));return i},t.prototype.slice=function(n,i){void 0===i&&(i=this.length);var r=Qc(n,0,this.length),e=Qc(i,0,this.length);if(r>e)return new t;if(r===e)return new t;for(var u=new t,s=this.findContainingBufferIndex(r),o=this.Kb[s],a=r,c=a-this.jb[s];a+o.length-c<e;)u.pushRange(o,c,o.length-c),s+=1,c=(a+=o.length-c)-this.jb[s],o=this.Kb[s];var h=e-a;return u.pushRange(o,c,h),u},t.prototype.trim=function(){if(0===this.length)return new t;for(var n=this.length-1,i=this.Kb.length-1,r=this.Kb[i],e=r.length-1;n>=0&&i>=0;){if(0!==r[e])break;if(0===e){if(0===i)return new t;i-=1,e=(r=this.Kb[i]).length-1}else e-=1;n-=1}return this.slice(0,n+1)},t}(),eh=function(){function t(n){this.Jb=n||t.BUFFER_CHUNK_SIZE,this.$b=!1,this.tA=new rh,this.zb=new E(this.Jb),this.eA=0,this.iA=0,this.Yb=7}return t.prototype.closeByte=function(){this.zb[this.eA++]=this.iA,this.eA>=this.Jb&&this.closeBuffer(),this.iA=0,this.Yb=7},t.prototype.closeBuffer=function(t){void 0===t&&(t=!0),0!==this.eA&&(this.tA.pushRange(this.zb,0,this.eA),t&&(this.zb=new E(this.Jb)),this.eA=0)},b.defineProperty(t.prototype,"isWritingStartBit",{get:function(){return 7===this.Yb},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(this.$b)throw new p("Cannot close a closed BitWriter.");return this.isWritingStartBit||this.closeByte(),this.closeBuffer(!1),this.$b=!0,this.tA},t.prototype.writeBit=function(t){if(this.$b)throw new p("Cannot write to a closed BitWriter.");this.iA|=t<<this.Yb,0===this.Yb?this.closeByte():this.Yb--},t.prototype.writeByte=function(t){if(this.$b)throw new p("Cannot write to a closed BitWriter.");this.isWritingStartBit?(this.iA=t,this.closeByte()):this.writeByteUnaligned(t)},t.prototype.writeByteUnaligned=function(t){var n=this.Yb;this.iA|=$c(t,n+1),this.closeByte(),this.iA=th(t,8-n)<<n+1,this.Yb=n},t.prototype.writeBits=function(t){for(var n=0,i=t;n<i.length;n++){var r=i[n];this.writeBit(r)}},t.prototype.writeBytes=function(t){if(this.$b)throw new p("Cannot write to a closed BitWriter.");this.isWritingStartBit?this.writeBytesAligned(t):this.writeBytesUnaligned(t)},t.prototype.writeBytesAligned=function(t){this.eA+t.length<=this.Jb?(this.zb.set(t,this.eA),this.eA+=t.length,this.eA===this.Jb&&this.closeBuffer()):(this.closeBuffer(),this.tA.pushRange(t))},t.prototype.writeBytesUnaligned=function(t){if(0!==t.length){var n=this.Yb;this.iA|=$c(t[0],n+1),this.closeByte();for(var i=1;i<t.length;i++){var r=th(t[i-1],8-n),e=$c(t[i],n+1);this.iA=r<<n+1|e,this.closeByte()}this.iA=th(t[t.length-1],8-n)<<n+1,this.Yb=n}},t.prototype.writeUInt=function(t,n){if(t<0)throw new p("Received a negative number.");if(n>32)throw new p("The max bitlength that can be provided is 32.");if(t>=k.pow(2,n))throw new p("Uint "+t+" cannot be represented in "+n+" bit(s).");if(this.isWritingStartBit&&n%8==0)for(var i=n-8;i>=0;i-=8)this.writeByte(t>>i&255);else for(i=n-1;i>=0;i--)this.writeBool((t&1<<i)>0)},t.prototype.writeInt=function(t,n){if(n>32)throw new p("The max bitlength that can be provided is 32.");if(k.abs(t)>=k.pow(2,n-1))throw new p("Signed integer "+t+" cannot be represented in "+n+" bit(s).");t<0?this.writeUInt(t+k.pow(2,n),n):this.writeUInt(t,n)},t.prototype.writeExponentialGolombCode=function(t){if(t<0)throw new p("Received a negative number.");for(var n=k.floor(k.log2(t+1))+1,i=0;i<n-1;i++)this.writeBit(0);this.writeUInt(t+1,n)},t.prototype.writeSignedExponentialGolombCode=function(t){0===t?this.writeExponentialGolombCode(0):t<0?this.writeExponentialGolombCode(-2*t):this.writeExponentialGolombCode(2*t-1)},t.prototype.padByte=function(t){for(;!this.isWritingStartBit;)this.writeBit(t)},t.prototype.writeBool=function(t){this.writeBit(t?1:0)},t.prototype.writeString=function(t){for(var n=function(t){for(var n=new E(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(t),i=0;i<n.length;i++)this.writeByte(n[i])},t.BUFFER_CHUNK_SIZE=1024,t}();F(),Tt();var uh=function(){function t(t){this.rb=new rh,this.Jd=t}return t.prototype.closeWriter=function(){void 0!==this.Jd&&(this.rb=this.rb.concat(this.Jd.close()),this.Jd=void 0)},b.defineProperty(t.prototype,"writer",{get:function(){return void 0===this.Jd&&(this.Jd=new eh),this.Jd},enumerable:!1,configurable:!0}),t.prototype.concat=function(t){this.closeWriter(),this.rb=this.rb.concat(t)},t.prototype.toRangedBuffer=function(){return this.closeWriter(),this.rb},t}(),sh=function(){function t(t){if(this.boxType=t,4!==t.length&&16!==t.length)throw new p("The provided box type does not conform to either a 4 character type or a 16 byte uuid.")}return t.prototype.serializeCommonBoxHeader=function(n){var i=this.getSize(),r=i>=t.LARGE_SIZE/8,e=16===this.boxType.length;n.writeUInt(r?1:i,32),n.writeString(e?"uuid":this.boxType),r&&(n.writeUInt(k.floor(i/t.LARGE_SIZE),32),n.writeUInt(i%t.LARGE_SIZE,32)),e&&n.writeString(this.boxType)},t.prototype.getSize=function(){var n=8+(this.boxType.length>4?16:0),i=this.getBoxContentSize()+n;return i>=t.LARGE_SIZE/8&&(i+=8),i},t.prototype.serialize=function(){var t=new uh;return this.serializeCommonBoxHeader(t.writer),this.serializeBoxContent(t),t.toRangedBuffer()},t.LARGE_SIZE=k.pow(2,32),t}();function oh(t,n){return t instanceof ir?64===n:t<k.pow(2,n)}function ah(t,n){return k.round(t*k.pow(2,n))}function ch(t,n){for(var i=0;i<n.length;i++)t.writeByte(n[i])}function hh(t,n){return t/k.pow(2,n)}F(),Tt();var fh=function(t){function n(n,i,r){var e=t.call(this,n)||this;if(e.version=i,!oh(i,8))throw new p("the provided version cannot fit in 8 bits.");return e.flags=r,e}return qc(n,t),b.defineProperty(n.prototype,"flags",{get:function(){return this.v_},set:function(t){this.v_=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new p("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(sh);F(),Tt(),F(),Tt();var vh=function(t){function n(n,i){var r=t.call(this,n)||this;return r.data=i,r}return qc(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(rh.from(this.data))},n}(sh);F(),Tt(),F(),Tt();var dh=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t}();F(),Tt();var lh=16384;function gh(t){var n=t.length;if(n<=lh)return String.fromCharCode.apply(String,t);for(var i=[],r=0;r<n;r+=lh)i.push(String.fromCharCode.apply(String,t.slice(r,r+lh)));return i.join("")}var wh=function(){function t(t){this.raw=t}return t.prototype.isSet=function(t){return function(t,n){return(t&n)===n}(this.raw,t)},t}();function mh(t,n){var i=t.getUint8(n.offset);return n.shift(1),i}function yh(t,n,i){var r=Sh(Rh(t),n.offset,n.offset+i);return n.shift(r.byteLength),r}function ph(t,n,i){return n.offset+i<=t.byteLength}function _h(t,n,i){void 0===i&&(i=!1);var r=t.getUint32(n.offset,i);return n.shift(4),r}function bh(t,n,i){void 0===i&&(i=!1);var r=_h(t,n,i),e=_h(t,n,i),u=i?e:r,s=i?r:e;return ir.fromBits(s,u,!0)}function kh(t,n,i){return gh(function(t){return[].slice.call(t)}(yh(t,n,i)))}function Ah(t,n){var i,r=mh(t,n);return 0==(128&r)?i=r:192==(224&r)?i=64*(31&r)+(63&mh(t,n)):224==(240&r)?i=4096*(15&r)+64*(63&mh(t,n))+(63&mh(t,n)):240==(248&r)&&(i=262144*(7&r)+4096*(63&mh(t,n))+64*(63&mh(t,n))+(63&mh(t,n))),i}function Th(t,n){return function(t,n,i){var r=[],e=function(t,n){return n.offset+3<=t.byteLength&&239===t.getUint8(n.offset)&&187===t.getUint8(n.offset+1)&&191===t.getUint8(n.offset+2)}(t,n);e&&n.shift(3);for(;n.offset<t.byteLength;){var u=Ah(t,n);if(void 0===u)break;if(i&&0===u)break;r.push(u)}return function(t){for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return gh(n)}(r)}(t,n,!0)}function Sh(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new E(t.buffer,t.byteOffset+n,i-n)}function Eh(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function Ih(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Rh(t){return new E(t.buffer,t.byteOffset,t.byteLength)}var Ch=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t.prototype.toBit=function(){return new dh(this.offset<<3)},t}();F(),Tt();var Nh=function(){function t(t,n){this.data=t,this.cursor=n}return t.prototype.nextUint8=function(){return mh(this.data,this.cursor)},t.prototype.nextUint16=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getUint16(n.offset,i);return n.shift(2),r}(this.data,this.cursor)},t.prototype.nextInt16=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt16(n.offset,i);return n.shift(2),r}(this.data,this.cursor)},t.prototype.nextUint32=function(){return _h(this.data,this.cursor)},t.prototype.nextInt32=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt32(n.offset,i);return n.shift(4),r}(this.data,this.cursor)},t.prototype.nextInt64=function(){return function(t,n,i){void 0===i&&(i=!1);var r=_h(t,n,i),e=_h(t,n,i),u=i?e:r,s=i?r:e;return ir.fromBits(s,u,!1)}(this.data,this.cursor)},t.prototype.nextUint64=function(){return bh(this.data,this.cursor)},t.prototype.nextUint8Array=function(t){return yh(this.data,this.cursor,t)},t.prototype.nextUint32Array=function(t){return function(t,n,i){for(var r=[],e=0;e<i;e++)r.push(_h(t,n));return r}(this.data,this.cursor,t)},t.prototype.nextChars=function(t){return kh(this.data,this.cursor,t)},t.prototype.nextUTF8String=function(){return Th(this.data,this.cursor)},t.prototype.skip=function(t){this.cursor.shift(t)},t.prototype.clone=function(){return new t(this.data,this.cursor.clone())},t}();function Dh(t,n){return t.type===n}var Ph=8;function xh(t){var n=function(t,n){var i=[];for(;n.offset<t.byteLength;){var r=Lh(t,n);if(!r.complete)return{complete:!1,boxes:i};i.push(r.box)}return{complete:!0,boxes:i}}(t.data,t.cursor);if(!n.complete)throw new p("Data incomplete");return n.boxes}function Lh(t,n){var i=n.offset,r=function(t,n){var i=n.offset;if(!ph(t,n,Ph)){return{complete:!1,neededOffset:u=n.offset+Ph}}var r=_h(t,n),e=kh(t,n,4);if(1===r){if(!ph(t,n,8)){var u=n.offset+8;return n.seek(i),{complete:!1,neededOffset:u}}r=bh(t,n).toNumber()}if("uuid"===e){if(!ph(t,n,16)){u=n.offset+16;return n.seek(i),{complete:!1,neededOffset:u}}e=kh(t,n,16)}var s=n.offset,o={type:e,size:r,headerSize:s-i};return{complete:!0,header:o}}(t,n);if(!r.complete)return r;var e=r.header,u=e.size;0===u&&(u=t.byteLength-i);var s=i+u;if(s>t.byteLength){var o=s;return n.seek(i),{complete:!1,neededOffset:o}}var a={type:e.type,offset:i,data:new Nh(Eh(t,i,s),new Ch(e.headerSize))};return n.seek(s),{complete:!0,box:a}}function Mh(t){return{version:t>>24,flags:new wh(16777215&t)}}function Oh(t,n){var i,r,e,u;return 1===n?(i=t.nextUint64(),r=t.nextUint64(),e=t.nextUint32(),u=t.nextUint64()):(i=t.nextUint32(),r=t.nextUint32(),e=t.nextUint32(),u=t.nextUint32()),{creation:i,modification:r,scale:e,duration:u}}function Bh(t){return t.skipBits(4),{isLeading:t.readUInt(2),sampleDependsOn:t.readUInt(2),sampleIsDependedOn:t.readUInt(2),sampleHasRedundancy:t.readUInt(2),samplePaddingValue:t.readUInt(3),sampleIsNonSyncSample:Boolean(t.readBit()),sampleDegradationPriority:t.readUInt(16)}}function Vh(t){var n=t.nextUint32Array(9);return{a:hh(n[0],16),b:hh(n[1],16),u:hh(n[2],30),c:hh(n[3],16),d:hh(n[4],16),v:hh(n[5],30),x:hh(n[6],16),y:hh(n[7],16),w:hh(n[8],30)}}function Fh(t){return new vh(t.type,Sh(Rh(t.data.data),t.data.cursor.offset))}var Uh=function(t){function n(n,i,r,e){void 0===r&&(r=0),void 0===e&&(e=0);var u=t.call(this,"hdlr",r,e)||this;return u.name=i,u.handlerType=n,u}return qc(n,t),b.defineProperty(n.prototype,"handlerType",{get:function(){return this.sA},set:function(t){this.sA=t},enumerable:!1,configurable:!0}),n.prototype.serializeReserved=function(t){t.writer.writeUInt(0,32),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)},n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+4+4+12+(null!==(i=null===(n=this.name)||void 0===n?void 0:n.length)&&void 0!==i?i:0)+1},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeString(this.handlerType),this.serializeReserved(n),this.name&&n.writer.writeString(this.name),n.writer.writeByte(0)},n}(fh);function Wh(t){var n=t.data,i=Mh(n.nextUint32()),r=i.version,e=i.flags;n.skip(4);var u=n.nextChars(4);n.skip(12);var s=n.nextUTF8String();return new Uh(u,s,r,e.raw)}!function(t){function n(){return t.call(this,"mdir")||this}qc(n,t),n.prototype.serializeReserved=function(t){t.writer.writeString("appl"),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)}}(Uh);F(),Tt(),F(),Tt(),F(),Tt();var Zh=function(){function t(t,n){void 0===n&&(n=!1),this.fixed28BitMode=n,this.tag=t}return t.prototype.encodeSize=function(t){for(var n=[];t>0;)n.length>0&&(n[n.length-1]+=128),n.push(t%128),t>>=7;if(this.fixed28BitMode)for(;n.length<4;)n.push(128);return n.reverse()},b.defineProperty(t.prototype,"tag",{get:function(){return this.nA},set:function(t){if(!oh(t,8))throw new p("Provided tag does not fit in 8 bits.");this.nA=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return this.getDescriptorSize()+1+this.encodeSize(this.getDescriptorSize()).length},t.prototype.serialize=function(t){t.writer.writeByte(this.tag);for(var n=0,i=this.encodeSize(this.getDescriptorSize());n<i.length;n++){var r=i[n];t.writer.writeByte(r)}this.serializeDescriptorContent(t)},t}();F(),Tt();!function(t){function n(n,i,r,e,u,s,o){void 0===o&&(o={});var a=t.call(this,4,o.fixed28BitMode)||this;return a.upStream=r,a.decoderSpecificInfo=s,a.objectTypeIndication=n,a.streamType=i,a.bufferSizeDb=e,a.maxBitrate=u.max,a.avgBitrate=u.avg,a}qc(n,t),b.defineProperty(n.prototype,"objectTypeIndication",{get:function(){return this.rA},set:function(t){if(!oh(t,8))throw new p("Provided objectTypeIndication does not fit in 8 bits.");this.rA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"streamType",{get:function(){return this.oA},set:function(t){if(!oh(t,6))throw new p("Provided streamType does not fit in 6 bits.");this.oA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.hA},set:function(t){if(!oh(t,24))throw new p("Provided bufferSizeDb does not fit in 24 bits.");this.hA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"maxBitrate",{get:function(){return this.aA},set:function(t){if(!oh(t,32))throw new p("Provided maxBitrate does not fit in 32 bits.");this.aA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"avgBitrate",{get:function(){return this.uA},set:function(t){if(!oh(t,32))throw new p("Provided avgBitrate does not fit in 32 bits.");this.uA=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 13+this.decoderSpecificInfo.reduce((function(t,n){return t+n.getSize()}),0)},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.objectTypeIndication),t.writer.writeUInt(this.streamType,6),t.writer.writeBool(this.upStream),t.writer.writeBit(1),t.writer.writeUInt(this.bufferSizeDb,24),t.writer.writeUInt(this.maxBitrate,32),t.writer.writeUInt(this.avgBitrate,32);for(var n=0,i=this.decoderSpecificInfo;n<i.length;n++){i[n].serialize(t)}}}(Zh);F(),Tt();!function(t){function n(n,i){void 0===i&&(i={});var r=t.call(this,5,i.fixed28BitMode)||this;return r.data=n,r}qc(n,t),n.prototype.getDescriptorSize=function(){return this.data.length},n.prototype.serializeDescriptorContent=function(t){t.concat(rh.from(this.data))}}(Zh);F(),Tt(),F(),Tt();var Xh=function(t){function n(n){void 0===n&&(n=!1);var i=t.call(this,6,n)||this;return i.predefined=2,i}return qc(n,t),n.prototype.getDescriptorSize=function(){return 1},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.predefined)},n}(Zh);!function(t){function n(n,i,r,e){void 0===e&&(e={});var u=t.call(this,3,e.fixed28BitMode)||this;return u.decoderConfigDescriptor=r,u.esId=n,u.streamPriority=i,u.dependsOnEsId=null==e?void 0:e.dependsOnEsId,u.urlString=null==e?void 0:e.url,u.ocrEsId=null==e?void 0:e.ocrEsId,u.slConfigDescriptor=new Xh(e.fixed28BitMode),u}qc(n,t),b.defineProperty(n.prototype,"streamDependenceFlag",{get:function(){return void 0!==this.dependsOnEsId},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"urlFlag",{get:function(){return void 0!==this.urlString},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"ocrStreamFlag",{get:function(){return void 0!==this.ocrEsId},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"esId",{get:function(){return this.cA},set:function(t){if(!oh(t,16))throw new p("Provided esId does not fit in 16 bits.");this.cA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"streamPriority",{get:function(){return this.lA},set:function(t){if(!oh(t,5))throw new p("Provided streamPriority does not fit in 5 bits.");this.lA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"dependsOnEsId",{get:function(){return this.dA},set:function(t){if(t&&!oh(t,16))throw new p("Provided dependsOnEsId does not fit in 16 bits.");this.dA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"ocrEsId",{get:function(){return this.fA},set:function(t){if(t&&!oh(t,16))throw new p("Provided ocrEsId does not fit in 16 bits.");this.fA=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 3+(this.streamDependenceFlag?2:0)+(this.urlFlag?1+this.urlString.length:0)+(this.ocrStreamFlag?2:0)+this.decoderConfigDescriptor.getSize()+this.slConfigDescriptor.getSize()},n.prototype.serializeDescriptorContent=function(t){t.writer.writeUInt(this.esId,16),t.writer.writeBool(this.streamDependenceFlag),t.writer.writeBool(this.urlFlag),t.writer.writeBool(this.ocrStreamFlag),t.writer.writeUInt(this.streamPriority,5),this.streamDependenceFlag&&t.writer.writeUInt(this.dependsOnEsId,16),this.urlFlag&&(t.writer.writeByte(this.urlString.length),t.writer.writeString(this.urlString)),this.ocrStreamFlag&&t.writer.writeUInt(this.ocrEsId,16),this.decoderConfigDescriptor.serialize(t),this.slConfigDescriptor.serialize(t)}}(Zh);F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt();var Gh=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.boxes=[],n}return qc(n,t),n.prototype.getSize=function(){return t.prototype.getSize.call(this)+this.boxes.reduce((function(t,n){return t+n.getSize()}),0)},n.prototype.serialize=function(){for(var n=t.prototype.serialize.call(this),i=0,r=this.boxes;i<r.length;i++){var e=r[i];n=n.concat(e.serialize())}return n},n}(sh),Hh=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return qc(n,t),n.prototype.serializeBoxContent=function(t){},n.prototype.getBoxContentSize=function(){return 0},n}(Gh),zh=function(t){function n(n,i){var r=t.call(this,n)||this;return r.dataReferenceIndex=i,r}return qc(n,t),b.defineProperty(n.prototype,"dataReferenceIndex",{get:function(){return this._A},set:function(t){if(!oh(t,16))throw new p("Provided dataReferenceIndex does not fit in 16 bits.");this._A=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){for(var n=0;n<6;n++)t.writer.writeByte(0);t.writer.writeUInt(this.dataReferenceIndex,16)},n}(Hh),Yh=function(t){function n(n,i,r,e){var u,s,o=this;return(o=t.call(this,n,i)||this).extra=e,o.channelCount=null!==(u=r.channelCount)&&void 0!==u?u:2,o.sampleSize=null!==(s=r.sampleSize)&&void 0!==s?s:16,o.sampleRate=r.sampleRate,o}return qc(n,t),b.defineProperty(n.prototype,"channelCount",{get:function(){return this.vA},set:function(t){if(!oh(t,16))throw new p("Provided channelCount does not fit in 16 bits.");this.vA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"sampleSize",{get:function(){return this.mA},set:function(t){if(!oh(t,16))throw new p("Provided sampleSize does not fit in 16 bits.");this.mA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"sampleRate",{get:function(){return this.gA},set:function(t){if(!oh(ah(t,16),32))throw new p("Provided rate does not fit in 32 bits (fixed 16.16).");this.gA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+8+2+2+2+2+(void 0!==this.sampleRate?4:0)+(null!==(i=null===(n=this.extra)||void 0===n?void 0:n.length)&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.channelCount,16),n.writer.writeUInt(this.sampleSize,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(ah(this.sampleRate,16),32),this.extra&&ch(n.writer,this.extra)},n}(zh);F(),Tt();!function(t){function n(n){var i=t.call(this,"stco",0,0)||this;return i.entries=n,i}qc(n,t),b.defineProperty(n.prototype,"entries",{get:function(){return this.pA},set:function(t){if(!oh(t.length,32))throw new p("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!oh(t,32)})))throw new p("Not all entries can be represented in 32 bits.");this.pA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];n.writer.writeUInt(e,32)}}}(fh);F(),Tt();!function(t){function n(n){var i=t.call(this,"clap")||this;return i.cleanApertureWidthN=n.cleanApertureWidthN,i.cleanApertureWidthD=n.cleanApertureWidthD,i.cleanApertureHeightN=n.cleanApertureHeightN,i.cleanApertureHeightD=n.cleanApertureHeightD,i.horizOffN=n.horizOffN,i.horizOffD=n.horizOffD,i.vertOffN=n.vertOffN,i.vertOffD=n.vertOffD,i}qc(n,t),b.defineProperty(n.prototype,"cleanApertureWidthN",{get:function(){return this.wA},set:function(t){if(!oh(t,32))throw new p("Provided cleanApertureWidthN does not fit in 32 bits.");this.wA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"cleanApertureWidthD",{get:function(){return this.yA},set:function(t){if(!oh(t,32))throw new p("Provided cleanApertureWidthD does not fit in 32 bits.");this.yA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"cleanApertureHeightN",{get:function(){return this.bA},set:function(t){if(!oh(t,32))throw new p("Provided cleanApertureHeightN does not fit in 32 bits.");this.bA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"cleanApertureHeightD",{get:function(){return this.AA},set:function(t){if(!oh(t,32))throw new p("Provided cleanApertureHeightD does not fit in 32 bits.");this.AA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"horizOffN",{get:function(){return this.SA},set:function(t){if(!oh(t,32))throw new p("Provided horizOffN does not fit in 32 bits.");this.SA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"horizOffD",{get:function(){return this.TA},set:function(t){if(!oh(t,32))throw new p("Provided horizOffD does not fit in 32 bits.");this.TA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"vertOffN",{get:function(){return this.kA},set:function(t){if(!oh(t,32))throw new p("Provided vertOffN does not fit in 32 bits.");this.kA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"vertOffD",{get:function(){return this.EA},set:function(t){if(!oh(t,32))throw new p("Provided vertOffD does not fit in 32 bits.");this.EA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 32},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.cleanApertureWidthN,32),t.writer.writeUInt(this.cleanApertureWidthD,32),t.writer.writeUInt(this.cleanApertureHeightN,32),t.writer.writeUInt(this.cleanApertureHeightD,32),t.writer.writeUInt(this.horizOffN,32),t.writer.writeUInt(this.horizOffD,32),t.writer.writeUInt(this.vertOffN,32),t.writer.writeUInt(this.vertOffD,32)}}(sh);F(),Tt();!function(t){function n(n,i){var r=t.call(this,"ctts",n,0)||this;return r.entries=i,r}qc(n,t),b.defineProperty(n.prototype,"entries",{get:function(){return this.pA},set:function(t){if(!oh(t.length,32))throw new p("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!oh(t.sampleCount,32)||!oh(t.sampleOffset,32)})))throw new p("Not all entries can be represented in 64 bits.");this.pA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];n.writer.writeUInt(e.sampleCount,32),0===this.version?n.writer.writeUInt(e.sampleOffset,32):1===this.version&&n.writer.writeInt(e.sampleOffset,32)}}}(fh);F(),Tt();!function(t){function n(n){var i=t.call(this,"url ",0,void 0===n?1:0)||this;return i.location=n,i}qc(n,t),b.defineProperty(n.prototype,"location",{get:function(){return this.xA},set:function(t){this.flags=void 0===t?1:0,this.xA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this);return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(fh);F(),Tt();!function(t){function n(n,i,r){var e=t.call(this,"urn ",0,r)||this;return e.name=n,e.location=i,e}qc(n,t),b.defineProperty(n.prototype,"location",{get:function(){return this.xA},set:function(t){if(1&this.flags)throw new p("The moov containment flag is set, a DataEntryUrlBox should be used instead.");this.xA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+this.name.length+1;return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.name),n.writer.writeByte(0),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(fh);F(),Tt();!function(t){function n(){return t.call(this,"dinf")||this}qc(n,t)}(Hh);F(),Tt(),F(),Tt();var jh=function(t){function n(n,i,r){var e=t.call(this,n)||this;if(e.version=i,!oh(i,8))throw new p("the provided version cannot fit in 8 bits.");return e.flags=r,e}return qc(n,t),b.defineProperty(n.prototype,"flags",{get:function(){return this.v_},set:function(t){this.v_=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new p("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(Gh);!function(t){function n(){return t.call(this,"dref",0,0)||this}qc(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(jh);F(),Tt(),F(),Tt();var Kh=function(t){function n(n,i,r){void 0===r&&(r=0);var e=t.call(this,"elst",i,r)||this;return e.entries=n,e}return qc(n,t),b.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"entries",{get:function(){return this.pA},set:function(t){for(var n=0,i=t;n<i.length;n++){var r=i[n];if(!oh(r.segmentDuration,this.bitSize))throw new p("SegmentDuration of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!oh(r.mediaTime,this.bitSize))throw new p("MediaTime of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!oh(r.mediaRateInteger,16))throw new p("Provided mediaRateInteger does not fit in 16 bits.");if(r.mediaRateFraction&&!oh(r.mediaRateFraction,16))throw new p("Provided mediaRateFraction does not fit in 16 bits.")}this.pA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(2*this.bitSize/8+2+2)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32),this.serializeElstBoxContent(n)},n}(fh),qh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return qc(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,r=this.entries;i<r.length;i++){var e=r[i];t.writer.writeUInt(e.segmentDuration,32),t.writer.writeInt(e.mediaTime,32),t.writer.writeUInt(e.mediaRateInteger,16),t.writer.writeUInt(null!==(n=e.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(Kh),Jh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return qc(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,r=this.entries;i<r.length;i++){var e=r[i];t.writer.writeUInt(e.segmentDuration.getHighBitsUnsigned(),32),t.writer.writeUInt(e.segmentDuration.getLowBitsUnsigned(),32),t.writer.writeInt(e.mediaTime.getHighBits(),32),t.writer.writeInt(e.mediaTime.getLowBits(),32),t.writer.writeUInt(e.mediaRateInteger,16),t.writer.writeUInt(null!==(n=e.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(Kh);function Qh(t){for(var n=t.data,i=Mh(n.nextUint32()),r=i.version,e=i.flags,u=n.nextUint32(),s=[],o=0;o<u;o++){var a=void 0,c=void 0;0===r?(a=n.nextUint32(),c=n.nextInt32()):(a=n.nextUint64(),c=n.nextInt64());var h=n.nextInt16(),f=n.nextInt16();s.push({segmentDuration:a,mediaTime:c,mediaRateFraction:f,mediaRateInteger:h})}return 0===r?new qh(s,e.raw):new Jh(s,e.raw)}var $h=function(t){function n(){return t.call(this,"edts")||this}return qc(n,t),n}(Hh);function tf(t){for(var n=new $h,i=0,r=xh(t.data);i<r.length;i++){var e=r[i];Dh(e,"elst")?n.boxes.push(Qh(e)):n.boxes.push(Fh(e))}return n}F(),Tt(),F(),Tt();var nf=function(t){function n(n,i,r,e){var u=t.call(this,n)||this;return u.majorBrand=i,u.minorVersion=r,u.compatibleBrands=e,u}return qc(n,t),b.defineProperty(n.prototype,"majorBrand",{get:function(){return this.RA},set:function(t){if(4!==t.length)throw new p("the provided major brand does not conform to the 4 character requirement");this.RA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"minorVersion",{get:function(){return this.IA},set:function(t){if(!oh(t,32))throw new p("the provided minor version does not fit in 32 bits.");this.IA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"compatibleBrands",{get:function(){return this.CA},set:function(t){if(t.some((function(t){return 4!==t.length})))throw new p("Some of the compatible brands do not conform to the 4 character requirement");this.CA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4*(2+this.compatibleBrands.length)},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.majorBrand),t.writer.writeUInt(this.minorVersion,32);for(var n=0,i=this.compatibleBrands;n<i.length;n++){var r=i[n];t.writer.writeString(r)}},n}(sh),rf=function(t){function n(n,i,r){return t.call(this,"ftyp",n,i,r)||this}return qc(n,t),n}(nf);function ef(t){for(var n=t.data,i=n.nextChars(4),r=n.nextUint32(),e=[];n.cursor.offset<n.data.byteLength;)e.push(n.nextChars(4));return new rf(i,r,e)}F(),Tt();var uf=function(t){function n(n,i){void 0===i&&(i="free");var r=t.call(this,i)||this;return r.data=n,r}return qc(n,t),n.prototype.getBoxContentSize=function(){var t,n;return null!==(n=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==n?n:0},n.prototype.serializeBoxContent=function(t){this.data&&t.concat(rh.from(this.data))},n}(sh);F(),Tt(),F(),Tt();var sf=function(t){function n(n,i,r,e){void 0===e&&(e=0);var u=t.call(this,"mdhd",r,e)||this;return u.creationTime=n.creation,u.modificationTime=n.modification,u.timescale=n.scale,u.duration=n.duration,u.language=i,u}return qc(n,t),b.defineProperty(n.prototype,"creationTime",{get:function(){return this.PA},set:function(t){if(!oh(t,this.bitSize))throw new p("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.PA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"modificationTime",{get:function(){return this.DA},set:function(t){if(!oh(t,this.bitSize))throw new p("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.DA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"timescale",{get:function(){return this.NA},set:function(t){if(!oh(t,32))throw new p("Provided sequence number does not fit in 32 bits.");this.NA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"duration",{get:function(){return this.MA},set:function(t){if(!oh(t,this.bitSize))throw new p("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.MA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"language",{get:function(){return this.LA},set:function(t){if(!hf(t))throw new p("Expected an ISO-639-2/T language code");this.LA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMdiaContent(n),n.writer.writeBit(0);for(var i=0,r=this.language;i<r.length;i++){var e=r[i];n.writer.writeUInt(e.charCodeAt(0)-96,5)}n.writer.writeUInt(0,16)},n}(fh),of=function(t){function n(n,i,r){return void 0===r&&(r=0),t.call(this,n,i,0,r)||this}return qc(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(sf),af=function(t){function n(n,i,r){return void 0===r&&(r=0),t.call(this,n,i,1,r)||this}return qc(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(sf);function cf(t){var n=t.data,i=Mh(n.nextUint32()),r=i.version,e=i.flags,u=Oh(n,r),s=new nh(rh.from(n.nextUint8Array(2)));s.skipBits(1);for(var o=[],a=0;a<3;a++)o.push(s.readUInt(5));var c=o.map((function(t){return String.fromCharCode(t+96)})).join("");return hf(c)||(c="und"),n.skip(2),0===r?new of(u,c,e.raw):new af(u,c,e.raw)}function hf(t){return/^[a-z]{3}$/.test(t)}var ff=function(t){function n(){return t.call(this,"mdia")||this}return qc(n,t),n}(Hh);function vf(t){for(var n=new ff,i=0,r=xh(t.data);i<r.length;i++){var e=r[i];Dh(e,"mdhd")?n.boxes.push(cf(e)):Dh(e,"hdlr")?n.boxes.push(Wh(e)):n.boxes.push(Fh(e))}return n}F(),Tt();var df=function(t){function n(){var n=t.call(this,"mdat")||this;return n.data=new rh,n}return qc(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(this.data)},n}(sh);function lf(t){var n=t.data,i=n.nextUint8Array(n.data.byteLength-n.cursor.offset),r=new df;return r.data.pushRange(i),r}F(),Tt();!function(t){function n(){return t.call(this,"minf")||this}qc(n,t)}(Hh);F(),Tt();var gf;!function(t){function n(n){var i=t.call(this,"meta",0,0)||this;return i.handler=n,i}qc(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.handler.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.handler.serialize())}}(jh);F(),Tt(),F(),Tt(),function(t){t.VIDEO="vide",t.AUXILIARY_VIDEO="auxv",t.AUDIO="soun",t.METADATA="meta",t.HINT="hint",t.TEXT="text",t.SUBTITLE="subt",t.FONT="fdsm"}(gf||(gf={})),F(),Tt();var wf,mf,yf={a:1,b:0,u:0,c:0,d:1,v:0,x:0,y:0,w:1};function pf(t,n){n.writer.writeUInt(ah(t.a,16),32),n.writer.writeUInt(ah(t.b,16),32),n.writer.writeUInt(ah(0,30),32),n.writer.writeUInt(ah(t.c,16),32),n.writer.writeUInt(ah(t.d,16),32),n.writer.writeUInt(ah(0,30),32),n.writer.writeUInt(ah(t.x,16),32),n.writer.writeUInt(ah(t.y,16),32),n.writer.writeUInt(ah(1,30),32)}function _f(t,n){var i,r,e,u;n.writer.writeUInt(null!==(i=t.isLeading)&&void 0!==i?i:wf.UNKNOWN,2),n.writer.writeUInt(null!==(r=t.sampleDependsOn)&&void 0!==r?r:mf.UNKNOWN,2),n.writer.writeUInt(null!==(e=t.sampleIsDependedOn)&&void 0!==e?e:mf.UNKNOWN,2),n.writer.writeUInt(null!==(u=t.sampleHasRedundancy)&&void 0!==u?u:mf.UNKNOWN,2)}function bf(t,n){var i,r,e;n.writer.writeUInt(0,4),_f(t,n),n.writer.writeUInt(null!==(i=t.samplePaddingValue)&&void 0!==i?i:0,3),n.writer.writeBool(null!==(r=t.sampleIsNonSyncSample)&&void 0!==r&&r),n.writer.writeUInt(null!==(e=t.sampleDegradationPriority)&&void 0!==e?e:0,16)}F(),Tt(),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WITH_DEPENDENCY=1]="WITH_DEPENDENCY",t[t.NO=2]="NO",t[t.WITHOUT_DEPENDENCY=3]="WITHOUT_DEPENDENCY"}(wf||(wf={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.YES=1]="YES",t[t.NO=2]="NO",t[t.RESERVED=3]="RESERVED"}(mf||(mf={})),F(),Tt(),F(),Tt();var kf=function(){};F(),Tt(),F(),Tt(),F(),Tt();var Af=function(t){function n(n,i,r){var e=t.call(this,"pssh",n,0)||this;return e.systemId=i,e.data=r,e}return qc(n,t),b.defineProperty(n.prototype,"systemId",{get:function(){return this.BA},set:function(t){if(16!==t.length)throw new p("Provided systemId length is not 16.");this.BA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"data",{get:function(){return this.kp},set:function(t){if(!oh(t.length,32))throw new p("Provided data length does not fit in 32 bits.");this.kp=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+16+4+this.data.length},n.prototype.serializeVersionBoxContent=function(t){},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(rh.from(this.systemId)),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.data.length,32),n.concat(rh.from(this.data))},n}(fh),Tf=function(t){function n(n,i){return t.call(this,0,n,i)||this}return qc(n,t),n}(Af),Sf=function(t){function n(n,i,r){var e=t.call(this,1,n,i)||this;return e.kIds=r,e}return qc(n,t),b.defineProperty(n.prototype,"kIds",{get:function(){return this.OA},set:function(t){if(!oh(t.length,32))throw new p("Provided kIds length cannot fit in 32 bits.");if(t.some((function(t){return 16!==t.length})))throw new p("Not all provided key ids are 16 bytes long.");this.OA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+16*this.kIds.length},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.kIds.length,32);for(var n=0,i=this.kIds;n<i.length;n++){var r=i[n];t.concat(rh.from(r))}},n}(Af);function Ef(t){var n=t.data.nextUint8();t.data.skip(3);var i=t.data.nextUint8Array(16),r=[];if(1===n)for(var e=t.data.nextUint32(),u=0;u<e;u++)r.push(t.data.nextUint8Array(16));var s=t.data.nextUint32(),o=t.data.nextUint8Array(s);return 1===n?new Sf(i,o,r):new Tf(i,o)}F(),Tt(),F(),Tt();var If=function(t){function n(n,i,r){void 0===r&&(r=0);var e=t.call(this,"mehd",i,r)||this;return e.fragmentDuration=n,e}return qc(n,t),b.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"fragmentDuration",{get:function(){return this.FA},set:function(t){if(!oh(t,this.bitSize))throw new p("The provided fragmentDuration does not fit in ".concat(this.bitSize," bits."));this.FA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(fh),Rf=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return qc(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration,32)},n}(If),Cf=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return qc(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration.getHighBitsUnsigned(),32),n.writer.writeUInt(this.fragmentDuration.getLowBitsUnsigned(),32)},n}(If);function Nf(t){var n=t.data,i=Mh(n.nextUint32()),r=i.version,e=i.flags;return 0===r?new Rf(n.nextUint32(),e.raw):new Cf(n.nextUint64(),e.raw)}F(),Tt();var Df=function(t){function n(n,i,r,e){void 0===i&&(i={}),void 0===r&&(r=0),void 0===e&&(e=0);var u,s,o,a=this;return(a=t.call(this,"trex",r,e)||this).trackId=n,a.defaultSampleDescriptionIndex=null!==(u=null==i?void 0:i.sampleDescriptionIndex)&&void 0!==u?u:0,a.defaultSampleDuration=null!==(s=i.sampleDuration)&&void 0!==s?s:0,a.defaultSampleSize=null!==(o=i.sampleSize)&&void 0!==o?o:0,a.defaultSampleFlags=i.sampleFlags,a}return qc(n,t),b.defineProperty(n.prototype,"trackId",{get:function(){return this.VA},set:function(t){if(!oh(t,32))throw new p("Provided track id does not fit in 32 bits.");this.VA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.WA},set:function(t){if(!oh(t,32))throw new p("Provided default sample description index does not fit in 32 bits.");this.WA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.UA},set:function(t){if(!oh(t,32))throw new p("Provided default sample duration does not fit in 32 bits.");this.UA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.GA},set:function(t){if(!oh(t,32))throw new p("Provided default sample size does not fit in 32 bits.");this.GA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.HA},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!oh(t.samplePaddingValue,3))throw new p("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!oh(t.sampleDegradationPriority,16))throw new p("Provided sample degradation priority does not fit in 16 bits.");this.HA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+20},n.prototype.serializeBoxContent=function(n){var i;t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),n.writer.writeUInt(this.defaultSampleDescriptionIndex,32),n.writer.writeUInt(this.defaultSampleDuration,32),n.writer.writeUInt(this.defaultSampleSize,32),bf(null!==(i=this.defaultSampleFlags)&&void 0!==i?i:{},n)},n}(fh);function Pf(t){var n=t.data,i=Mh(n.nextUint32()),r=i.version,e=i.flags,u=n.nextUint32(),s=n.nextUint32(),o=n.nextUint32(),a=n.nextUint32(),c=Bh(new nh(rh.from(n.nextUint8Array(4))));return new Df(u,{sampleDescriptionIndex:s,sampleDuration:o,sampleSize:a,sampleFlags:c},r,e.raw)}var xf=function(t){function n(){return t.call(this,"mvex")||this}return qc(n,t),n}(Hh);function Lf(t){for(var n=new xf,i=0,r=xh(t.data);i<r.length;i++){var e=r[i];Dh(e,"mehd")?n.boxes.push(Nf(e)):Dh(e,"trex")?n.boxes.push(Pf(e)):n.boxes.push(Fh(e))}return n}F(),Tt();var Mf=function(t){function n(i,r,e,u,s){void 0===s&&(s=0);var o,a,c,h=this;return(h=t.call(this,"mvhd",u,s)||this).creationTime=i.creation,h.modificationTime=i.modification,h.timescale=i.scale,h.duration=i.duration,h.rate=null!==(o=e.rate)&&void 0!==o?o:n.DEFAULT_RATE,h.volume=null!==(a=e.volume)&&void 0!==a?a:n.DEFAULT_VOLUME,h.matrix=null!==(c=e.matrix)&&void 0!==c?c:yf,h.ZA=r,h}return qc(n,t),b.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"creationTime",{get:function(){return this.PA},set:function(t){if(!oh(t,this.bitSize))throw new p("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.PA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"modificationTime",{get:function(){return this.DA},set:function(t){if(!oh(t,this.bitSize))throw new p("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.DA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"timescale",{get:function(){return this.NA},set:function(t){if(!oh(t,32))throw new p("Provided sequence number does not fit in 32 bits.");this.NA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"duration",{get:function(){return this.MA},set:function(t){if(!oh(t,this.bitSize))throw new p("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.MA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"rate",{get:function(){return this.XA},set:function(t){if(!oh(ah(t,16),32))throw new p("Provided rate does not fit in 32 bits (fixed 16.16).");this.XA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"volume",{get:function(){return this.zA},set:function(t){if(!oh(ah(t,8),16))throw new p("Provided volume does not fit in 16 bits (fixed 8.8).");this.zA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"matrix",{get:function(){return this.qA},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new p("(u, v, w) does not match the required (0, 0, 1)");this.qA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"nextTrackId",{get:function(){return this.ZA},set:function(t){if(0===t)throw new p("NextTrackId cannot be 0.");if(!oh(t,32))throw new p("NextTrackId cannot exceed 32 bits.");this.ZA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+2+2+8+36+24+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMvhdContent(n),n.writer.writeUInt(ah(this.rate,16),32),n.writer.writeUInt(ah(this.volume,8),16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),pf(this.matrix,n);for(var i=0;i<6;i++)n.writer.writeUInt(0,32);n.writer.writeUInt(this.nextTrackId,32)},n.DEFAULT_RATE=1,n.DEFAULT_VOLUME=1,n}(fh),Of=function(t){function n(n,i,r,e){return void 0===r&&(r={}),void 0===e&&(e=0),t.call(this,n,i,r,0,e)||this}return qc(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(Mf),Bf=function(t){function n(n,i,r,e){return void 0===r&&(r={}),void 0===e&&(e=0),t.call(this,n,i,r,1,e)||this}return qc(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Mf);function Vf(t){var n=t.data,i=Mh(n.nextUint32()),r=i.version,e=i.flags,u=Oh(n,r),s=hh(n.nextUint32(),16),o=hh(n.nextUint16(),8);n.skip(2),n.skip(8);var a=Vh(n);n.skip(24);var c=n.nextUint32();return 0===r?new Of(u,c,{rate:s,volume:o,matrix:a},e.raw):new Bf(u,c,{rate:s,volume:o,matrix:a},e.raw)}F(),Tt(),F(),Tt();var Ff=function(t){function n(n,i,r,e,u,s,o){void 0===o&&(o={});var a,c,h,f=this;return f=t.call(this,"tkhd",n,function(t){var n,i,r,e;return{trackEnabled:null===(n=null==t?void 0:t.trackEnabled)||void 0===n||n,trackInMovie:null===(i=null==t?void 0:t.trackInMovie)||void 0===i||i,trackInPreview:null===(r=null==t?void 0:t.trackInPreview)||void 0===r||r,trackSizeIsAspectRatio:null!==(e=null==t?void 0:t.trackSizeIsAspectRatio)&&void 0!==e&&e}}(o))||this,f.creationTime=i.creation,f.modificationTime=i.modification,f.trackId=r,f.duration=i.duration,f.volume=e,f.width=u,f.height=s,f.layer=null!==(a=o.layer)&&void 0!==a?a:0,f.alternateGroup=null!==(c=o.alternateGroup)&&void 0!==c?c:0,f.matrix=null!==(h=o.matrix)&&void 0!==h?h:yf,f}return qc(n,t),b.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"creationTime",{get:function(){return this.PA},set:function(t){if(!oh(t,this.bitSize))throw new p("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.PA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"modificationTime",{get:function(){return this.DA},set:function(t){if(!oh(t,this.bitSize))throw new p("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.DA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"trackId",{get:function(){return this.VA},set:function(t){if(0===t)throw new p("trackId cannot be 0.");if(!oh(t,32))throw new p("trackId cannot exceed 32 bits.");this.VA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"duration",{get:function(){return this.MA},set:function(t){if(!oh(t,this.bitSize))throw new p("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.MA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"volume",{get:function(){return this.zA},set:function(t){if(!oh(ah(t,8),16))throw new p("Provided volume does not fit in 16 bits (fixed 8.8).");this.zA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"width",{get:function(){return this.YA},set:function(t){if(!oh(ah(t,16),32))throw new p("Provided width does not fit in 32 bits (fixed 16.16).");this.YA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"height",{get:function(){return this.KA},set:function(t){if(!oh(ah(t,16),32))throw new p("Provided height does not fit in 32 bits (fixed 16.16).");this.KA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"layer",{get:function(){return this.jA},set:function(t){if(!oh(t,16))throw new p("Provided layer does not fit in 16 bits.");this.jA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"alternateGroup",{get:function(){return this.QA},set:function(t){if(!oh(t,16))throw new p("Provided alternateGroup does not fit in 16 bits.");this.QA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"matrix",{get:function(){return this.qA},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new p("(u, v, w) does not match the required (0, 0, 1)");this.qA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+8+2+2+2+2+36+4+4},n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,20),t.writer.writeBool(this.flags.trackSizeIsAspectRatio),t.writer.writeBool(this.flags.trackInPreview),t.writer.writeBool(this.flags.trackInMovie),t.writer.writeBool(this.flags.trackEnabled)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeTkhdContent(n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.layer,16),n.writer.writeUInt(this.alternateGroup,16),n.writer.writeUInt(ah(this.volume,8),16),n.writer.writeUInt(0,16),pf(this.matrix,n),n.writer.writeUInt(ah(this.width,16),32),n.writer.writeUInt(ah(this.height,16),32)},n}(fh),Uf=function(t){function n(n,i,r,e,u,s){return t.call(this,0,n,i,r,e,u,s)||this}return qc(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration,32)},n}(Ff),Wf=function(t){function n(n,i,r,e,u,s){return t.call(this,1,n,i,r,e,u,s)||this}return qc(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Ff);function Zf(t){var n,i,r,e,u=t.data,s=Mh(u.nextUint32()),o=s.version,a=s.flags,c=a.isSet(8),h=a.isSet(4),f=a.isSet(2),v=a.isSet(1);0===o?(n=u.nextUint32(),i=u.nextUint32(),r=u.nextUint32(),u.skip(4),e=u.nextUint32()):(n=u.nextUint64(),i=u.nextUint64(),r=u.nextUint32(),u.skip(4),e=u.nextUint64()),u.skip(8);var d=u.nextInt16(),l=u.nextInt16(),g=hh(u.nextInt16(),8);u.skip(2);var w=Vh(u),m=hh(u.nextUint32(),16),y=hh(u.nextUint32(),16);return 0===o?new Uf({creation:n,modification:i,duration:e},r,g,m,y,{layer:d,matrix:w,alternateGroup:l,trackSizeIsAspectRatio:c,trackEnabled:v,trackInPreview:h,trackInMovie:f}):new Wf({creation:n,modification:i,duration:e},r,g,m,y,{layer:d,matrix:w,alternateGroup:l,trackSizeIsAspectRatio:c,trackEnabled:v,trackInPreview:h,trackInMovie:f})}var Xf=function(t){function n(){return t.call(this,"trak")||this}return qc(n,t),n}(Hh);function Gf(t){for(var n=new Xf,i=0,r=xh(t.data);i<r.length;i++){var e=r[i];Dh(e,"tkhd")?n.boxes.push(Zf(e)):Dh(e,"mdia")?n.boxes.push(vf(e)):Dh(e,"edts")?n.boxes.push(tf(e)):n.boxes.push(Fh(e))}return n}var Hf=function(t){function n(){return t.call(this,"moov")||this}return qc(n,t),n}(Hh);function zf(t){for(var n=new Hf,i=0,r=xh(t.data);i<r.length;i++){var e=r[i];Dh(e,"mvhd")?n.boxes.push(Vf(e)):Dh(e,"trak")?n.boxes.push(Gf(e)):Dh(e,"mvex")?n.boxes.push(Lf(e)):Dh(e,"pssh")?n.boxes.push(Ef(e)):n.boxes.push(Fh(e))}return n}F(),Tt(),F(),Tt(),F(),Tt();var Yf=function(t){function n(n,i,r){void 0===r&&(r=0);var e=t.call(this,"tfdt",i,r)||this;return e.baseMediaDecodeTime=n,e}return qc(n,t),b.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"baseMediaDecodeTime",{get:function(){return this.JA},set:function(t){if(!oh(t,this.bitSize))throw new p("Provided baseMediaDecodeTime does not fit in ".concat(this.bitSize," bits."));this.JA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(fh),jf=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return qc(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime,32)},n}(Yf),Kf=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return qc(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseMediaDecodeTime.getLowBitsUnsigned(),32)},n}(Yf);function qf(t){var n=t.data,i=Mh(n.nextUint32()),r=i.version,e=i.flags;return 0===r?new jf(n.nextUint32(),e.raw):new Kf(n.nextUint64(),e.raw)}F(),Tt();var Jf=function(t){function n(n,i){void 0===i&&(i=0);var r=t.call(this,"tfhd",i,function(t){return{baseDataOffsetPresent:void 0!==t.baseDataOffset,sampleDescriptionIndexPresent:void 0!==t.sampleDescriptionIndex,defaultSampleDurationPresent:void 0!==t.defaultSampleDuration,defaultSampleSizePresent:void 0!==t.defaultSampleSize,defaultSampleFlagsPresent:void 0!==t.defaultSampleFlags,durationIsEmpty:t.durationIsEmpty,defaultBaseIsMoof:t.defaultBaseIsMoof}}(n))||this;return r.trackId=n.trackId,r.baseDataOffset=n.baseDataOffset,r.sampleDescriptionIndex=n.sampleDescriptionIndex,r.defaultSampleDuration=n.defaultSampleDuration,r.defaultSampleSize=n.defaultSampleSize,r.defaultSampleFlags=n.defaultSampleFlags,r}return qc(n,t),b.defineProperty(n.prototype,"trackId",{get:function(){return this.VA},set:function(t){if(!oh(t,32))throw new p("Provided track id does not fit in 32 bits.");this.VA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"baseDataOffset",{get:function(){return this.$A},set:function(t){if(void 0===t&&this.flags.baseDataOffsetPresent)throw new p("The base data offset present flag is set.");if(void 0!==t&&!this.flags.baseDataOffsetPresent)throw new p("The base data offset present flag is not set.");if(t&&!oh(t,64))throw new p("Provided baseDataOffset does not fit in 32 bits.");this.$A=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"sampleDescriptionIndex",{get:function(){return this.tS},set:function(t){if(void 0===t&&this.flags.sampleDescriptionIndexPresent)throw new p("The sample description index flag is set.");if(void 0!==t&&!this.flags.sampleDescriptionIndexPresent)throw new p("The sample description index flag is not set.");if(t&&!oh(t,32))throw new p("Provided sampleDescriptionIndex does not fit in 32 bits.");this.tS=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.UA},set:function(t){if(void 0===t&&this.flags.defaultSampleDurationPresent)throw new p("The default sample duration present flag is set.");if(void 0!==t&&!this.flags.defaultSampleDurationPresent)throw new p("The default sample duration present flag is not set.");if(t&&!oh(t,32))throw new p("Provided defaultSampleDuration does not fit in 32 bits.");this.UA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.GA},set:function(t){if(void 0===t&&this.flags.defaultSampleSizePresent)throw new p("The default sample size present flag is set.");if(void 0!==t&&!this.flags.defaultSampleSizePresent)throw new p("The default sample size present flag is not set.");if(t&&!oh(t,32))throw new p("Provided defaultSampleSize does not fit in 32 bits.");this.GA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.HA},set:function(t){if(void 0===t&&this.flags.defaultSampleFlagsPresent)throw new p("The default sample flags present flag is set.");if(void 0!==t&&!this.flags.defaultSampleFlagsPresent)throw new p("The default sample flags present flag is not set.");if((null==t?void 0:t.samplePaddingValue)&&!oh(t.samplePaddingValue,3))throw new p("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!oh(t.sampleDegradationPriority,16))throw new p("Provided sample degradation priority does not fit in 16 bits.");this.HA=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,6),t.writer.writeBool(this.flags.defaultBaseIsMoof),t.writer.writeBool(this.flags.durationIsEmpty),t.writer.writeByte(0),t.writer.writeUInt(0,2),t.writer.writeBool(this.flags.defaultSampleFlagsPresent),t.writer.writeBool(this.flags.defaultSampleSizePresent),t.writer.writeBool(this.flags.defaultSampleDurationPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.sampleDescriptionIndexPresent),t.writer.writeBool(this.flags.baseDataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.baseDataOffsetPresent&&(n+=8),this.flags.sampleDescriptionIndexPresent&&(n+=4),this.flags.defaultSampleDurationPresent&&(n+=4),this.flags.defaultSampleSizePresent&&(n+=4),this.flags.defaultSampleFlagsPresent&&(n+=4),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),this.flags.baseDataOffsetPresent&&(n.writer.writeUInt(this.baseDataOffset.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseDataOffset.getLowBitsUnsigned(),32)),this.flags.sampleDescriptionIndexPresent&&n.writer.writeUInt(this.sampleDescriptionIndex,32),this.flags.defaultSampleDurationPresent&&n.writer.writeUInt(this.defaultSampleDuration,32),this.flags.defaultSampleSizePresent&&n.writer.writeUInt(this.defaultSampleSize,32),this.flags.defaultSampleFlagsPresent&&bf(this.defaultSampleFlags,n)},n}(fh);function Qf(t){var n=t.data,i=n.nextUint8(),r=new nh(rh.from(n.nextUint8Array(3)));r.skipBits(6);var e=Boolean(r.readBit()),u=Boolean(r.readBit());r.skipBits(10);var s=Boolean(r.readBit()),o=Boolean(r.readBit()),a=Boolean(r.readBit());r.skipBits(1);var c=Boolean(r.readBit()),h=Boolean(r.readBit()),f=n.nextUint32(),v=h?n.nextUint64():void 0,d=c?n.nextUint32():void 0,l=a?n.nextUint32():void 0,g=o?n.nextUint32():void 0,w=s?Bh(new nh(rh.from(n.nextUint8Array(4)))):void 0;return new Jf({trackId:f,defaultBaseIsMoof:e,durationIsEmpty:u,baseDataOffset:v,sampleDescriptionIndex:d,defaultSampleDuration:l,defaultSampleSize:g,defaultSampleFlags:w},i)}F(),Tt();var $f=function(t){function n(n,i,r){var e=t.call(this,"trun",n,function(t){var n,i,r,e;return{dataOffsetPresent:void 0!==t.dataOffset,firstSampleFlagsPresent:void 0!==t.firstSampleFlags,sampleDurationPresent:null!==(n=t.sampleDurationPresent)&&void 0!==n&&n,sampleSizePresent:null!==(i=t.sampleSizePresent)&&void 0!==i&&i,sampleFlagsPresent:null!==(r=t.sampleFlagsPresent)&&void 0!==r&&r,sampleCompositionTimeOffsetsPresent:null!==(e=t.sampleCompositionTimeOffsetsPresent)&&void 0!==e&&e}}(i))||this;return e.dataOffset=i.dataOffset,e.samples=r,e.firstSampleFlags=i.firstSampleFlags,e}return qc(n,t),b.defineProperty(n.prototype,"dataOffset",{get:function(){return this.eS},set:function(t){if(t&&!oh(t,32))throw new p("Provided data offset does not fit in 32 bits.");this.eS=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"firstSampleFlags",{get:function(){return this.iS},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!oh(t.samplePaddingValue,3))throw new p("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!oh(t.sampleDegradationPriority,16))throw new p("Provided sample degradation priority does not fit in 16 bits.");this.iS=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"samples",{get:function(){return this.sS},set:function(t){var n,i;if(!oh(t.length,32))throw new p("The sample count cannot be represented in 32 bits.");for(var r=0,e=t;r<e.length;r++){var u=e[r];if(void 0===u.duration&&this.flags.sampleDurationPresent)throw new p("The sample duration present flag is set.");if(void 0!==u.duration&&!this.flags.sampleDurationPresent)throw new p("The sample duration present flag is not set.");if(u.duration&&!oh(u.duration,32))throw new p("Provided sample duration does not fit in 32 bits.");if(void 0===u.size&&this.flags.sampleSizePresent)throw new p("The sample size present flag is set.");if(void 0!==u.size&&!this.flags.sampleSizePresent)throw new p("The sample size present flag is not set.");if(u.size&&!oh(u.size,32))throw new p("Provided sample size does not fit in 32 bits.");if(void 0===u.flags&&this.flags.sampleFlagsPresent)throw new p("The sample flags present flag is set.");if(void 0!==u.flags&&!this.flags.sampleFlagsPresent)throw new p("The sample flags present flag is not set.");if((null===(n=u.flags)||void 0===n?void 0:n.samplePaddingValue)&&!oh(u.flags.samplePaddingValue,3))throw new p("Provided sample padding value does not fit in 3 bits.");if((null===(i=u.flags)||void 0===i?void 0:i.sampleDegradationPriority)&&!oh(u.flags.sampleDegradationPriority,16))throw new p("Provided sample degradation priority does not fit in 16 bits.");if(void 0===u.compositionTimeOffset&&this.flags.sampleCompositionTimeOffsetsPresent)throw new p("The sample compositionTimeOffset present flag is set.");if(void 0!==u.compositionTimeOffset&&!this.flags.sampleCompositionTimeOffsetsPresent)throw new p("The sample compositionTimeOffset present flag is not set.");if(u.compositionTimeOffset&&!oh(u.compositionTimeOffset,32))throw new p("Provided sample compositionTimeOffset does not fit in 32 bits.")}this.sS=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeByte(0),t.writer.writeUInt(0,4),t.writer.writeBool(this.flags.sampleCompositionTimeOffsetsPresent),t.writer.writeBool(this.flags.sampleFlagsPresent),t.writer.writeBool(this.flags.sampleSizePresent),t.writer.writeBool(this.flags.sampleDurationPresent),t.writer.writeUInt(0,5),t.writer.writeBool(this.flags.firstSampleFlagsPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.dataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.dataOffsetPresent&&(n+=4),this.flags.firstSampleFlagsPresent&&(n+=4),this.flags.sampleDurationPresent&&(n+=4*this.samples.length),this.flags.sampleSizePresent&&(n+=4*this.samples.length),this.flags.sampleFlagsPresent&&(n+=4*this.samples.length),this.flags.sampleCompositionTimeOffsetsPresent&&(n+=4*this.samples.length),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32),this.flags.dataOffsetPresent&&n.writer.writeUInt(this.dataOffset,32),this.flags.firstSampleFlagsPresent&&bf(this.firstSampleFlags,n);for(var i=0,r=this.samples;i<r.length;i++){var e=r[i];this.flags.sampleDurationPresent&&n.writer.writeUInt(e.duration,32),this.flags.sampleSizePresent&&n.writer.writeUInt(e.size,32),this.flags.sampleFlagsPresent&&bf(e.flags,n),this.flags.sampleCompositionTimeOffsetsPresent&&(0===this.version?n.writer.writeUInt(e.compositionTimeOffset,32):n.writer.writeInt(e.compositionTimeOffset,32))}},n}(fh);function nv(t){var n=t.data,i=n.nextUint8(),r=new nh(rh.from(n.nextUint8Array(3)));r.skipBits(12);var e=Boolean(r.readBit()),u=Boolean(r.readBit()),s=Boolean(r.readBit()),o=Boolean(r.readBit());r.skipBits(5);var a=Boolean(r.readBit());r.skipBits(1);var c=Boolean(r.readBit()),h=n.nextUint32(),f={sampleDurationPresent:o,sampleSizePresent:s,sampleFlagsPresent:u,sampleCompositionTimeOffsetsPresent:e};c&&(f.dataOffset=n.nextInt32()),a&&(f.firstSampleFlags=Bh(new nh(rh.from(n.nextUint8Array(4)))));for(var v=[],d=0;d<h;d++){var l={};o&&(l.duration=n.nextUint32()),s&&(l.size=n.nextUint32()),u&&(l.flags=Bh(new nh(rh.from(n.nextUint8Array(4))))),e&&(l.compositionTimeOffset=0===i?n.nextUint32():n.nextInt32()),v.push(l)}return new $f(i,f,v)}var iv=function(t){function n(){return t.call(this,"traf")||this}return qc(n,t),n}(Hh);function rv(t){for(var n=new iv,i=0,r=xh(t.data);i<r.length;i++){var e=r[i];Dh(e,"tfhd")?n.boxes.push(Qf(e)):Dh(e,"tfdt")?n.boxes.push(qf(e)):Dh(e,"trun")?n.boxes.push(nv(e)):n.boxes.push(Fh(e))}return n}var ev=function(t){function n(){return t.call(this,"moof")||this}return qc(n,t),n}(Hh);function uv(t){for(var n=new ev,i=0,r=xh(t.data);i<r.length;i++){var e=r[i];Dh(e,"traf")?n.boxes.push(rv(e)):Dh(e,"pssh")?n.boxes.push(Ef(e)):n.boxes.push(Fh(e))}return n}F(),Tt();!function(t){function n(n){var i=t.call(this,"mfhd",0,0)||this;return i.sequenceNumber=n,i}qc(n,t),b.defineProperty(n.prototype,"sequenceNumber",{get:function(){return this.nS},set:function(t){if(!oh(t,32))throw new p("Provided sequence number does not fit in 32 bits.");this.nS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.sequenceNumber,32)}}(fh);F(),Tt();var sv=function(t){function n(n){var i=t.call(this,"frma")||this;return i.codingName=n,i}return qc(n,t),b.defineProperty(n.prototype,"codingName",{get:function(){return this.rS},set:function(t){if(4!==t.length)throw new p("Provided coding name was not 4 characters long.");this.rS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.codingName)},n}(sh);F(),Tt();!function(t){function n(n,i){var r=t.call(this,"pasp")||this;return r.hSpacing=n,r.vSpacing=i,r}qc(n,t),b.defineProperty(n.prototype,"hSpacing",{get:function(){return this.oS},set:function(t){if(!oh(t,32))throw new p("Provided hSpacing does not fit in 32 bits.");this.oS=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"vSpacing",{get:function(){return this.hS},set:function(t){if(!oh(t,32))throw new p("Provided vSpacing does not fit in 32 bits.");this.hS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.hSpacing,32),t.writer.writeUInt(this.vSpacing,32)}}(sh);F(),Tt();!function(t){function n(n,i,r){var e=t.call(this,n)||this;return e.sample=i,e.sinf=r,e}qc(n,t),n.prototype.getBoxContentSize=function(){return this.sample.getBoxContentSize()+this.sinf.getSize()},n.prototype.serializeBoxContent=function(t){this.sample.serializeBoxContent(t),t.concat(this.sinf.serialize())}}(Hh);F(),Tt();!function(t){function n(n,i,r){var e=t.call(this,"sinf")||this;return e.schm=i,e.schi=r,e.frma=new sv(n),e}qc(n,t),n.prototype.getBoxContentSize=function(){var t,n,i,r;return this.frma.getSize()+(null!==(n=null===(t=this.schm)||void 0===t?void 0:t.getSize())&&void 0!==n?n:0)+(null!==(r=null===(i=this.schi)||void 0===i?void 0:i.getSize())&&void 0!==r?r:0)},n.prototype.serializeBoxContent=function(t){t.concat(this.frma.serialize()),this.schm&&t.concat(this.schm.serialize()),this.schi&&t.concat(this.schi.serialize())}}(sh);F(),Tt();var ov=function(t){function n(n,i,r){var e=t.call(this,"saio",n,void 0===r?0:1)||this;return e.entries=i,e.explicitAuxInfoType=r,e}return qc(n,t),b.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"entries",{get:function(){return this.pA},set:function(t){var n=this;if(!oh(t.length,32))throw new p("Number of entries provided does not fit in 32 bits.");if(t.some((function(t){return!oh(t,n.bitSize)})))throw new p("Not all provided entries fit in ".concat(this.bitSize," bits."));this.pA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.aS},set:function(t){if(void 0===t)this.flags=0;else{if(!oh(t.auxInfoType,32))throw new p("Provided auxInfoType does not fit in 32 bits.");if(!oh(t.auxInfoTypeParameter,32))throw new p("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.aS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+4+this.entries.length*this.bitSize/8},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeUInt(this.entries.length,32),this.serializeSaioContent(n)},n}(fh);(function(t){function n(){return null!==t&&t.apply(this,arguments)||this}qc(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var r=i[n];t.writer.writeUInt(r,32)}}})(ov),function(t){function n(){return null!==t&&t.apply(this,arguments)||this}qc(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var r=i[n];t.writer.writeUInt(r.getHighBitsUnsigned(),32),t.writer.writeUInt(r.getLowBitsUnsigned(),32)}}}(ov);F(),Tt();!function(t){function n(n,i,r){var e=t.call(this,"saiz",0,void 0===r?0:1)||this;return e.defaultSampleInfoSize=n,e.sampleInfoSizes=i,e.explicitAuxInfoType=r,e}qc(n,t),b.defineProperty(n.prototype,"defaultSampleInfoSize",{get:function(){return this.uS},set:function(t){if(!oh(t,8))throw new p("Provided defaultSampleInfoSize does not fit in a single byte.");this.uS=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"sampleInfoSizes",{get:function(){return this.cS},set:function(t){if(!oh(t.length,32))throw new p("Number of sampleInfoSizes provided does not fit in 32 bits.");if(t.some((function(t){return!oh(t,8)})))throw new p("Not all provided sampleInfoSizes fit in a byte.");this.cS=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.aS},set:function(t){if(void 0===t)this.flags=0;else{if(!oh(t.auxInfoType,32))throw new p("Provided auxInfoType does not fit in 32 bits.");if(!oh(t.auxInfoTypeParameter,32))throw new p("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.aS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+1+4+(0!==this.defaultSampleInfoSize?0:this.sampleInfoSizes.length)},n.prototype.serializeBoxContent=function(n){if(0!==this.defaultSampleInfoSize&&this.sampleInfoSizes.length>0)throw new p("Both a default size and specific sizes are provided.  This is prohibited.");t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeByte(this.defaultSampleInfoSize),n.writer.writeUInt(this.sampleInfoSizes.length,32);for(var i=0,r=this.sampleInfoSizes;i<r.length;i++){var e=r[i];n.writer.writeByte(e)}}}(fh);F(),Tt();!function(t){function n(n){var i=t.call(this,"sdtp",0,0)||this;return i.samples=n,i}qc(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.samples.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n);for(var i=0,r=this.samples;i<r.length;i++){_f(r[i],n)}}}(fh);F(),Tt();!function(t){function n(n){return t.call(this,"stsd",n,0)||this}qc(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(jh);F(),Tt();var av=function(t){function n(n,i,r){var e=t.call(this,"sgpd",n,0)||this;return e.entries=r,e.groupingType=i,e}return qc(n,t),b.defineProperty(n.prototype,"groupingType",{get:function(){return this.lS},set:function(t){if(4!==t.length)throw new p("The provided groupingType does not equal 4 characters.");this.lS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.groupingType),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];this.serializeEntryBoxContent(n,e)}},n.prototype.serializeEntryBoxContent=function(t,n){n.serializeBoxContent(t)},n}(fh);(function(t){function n(n,i){return t.call(this,0,n,i)||this}qc(n,t),n.prototype.serializeVersionBoxContent=function(t){}})(av),function(t){function n(n,i,r){var e=t.call(this,1,n,r)||this;return e.defaultLength=i,e}qc(n,t),b.defineProperty(n.prototype,"defaultLength",{get:function(){return this.dS},set:function(t){if(!oh(t,32))throw new p("The provided defaultLength does not fit in 32 bits.");this.dS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(this.defaultLength||4)},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultLength,32)},n.prototype.serializeEntryBoxContent=function(t,n){0===this.defaultLength&&t.writer.writeUInt(n.getBoxContentSize(),32),n.serializeBoxContent(t)}}(av),function(t){function n(n,i,r,e){void 0===e&&(e=0);var u=this;if(n<2)throw new p("This constructor is only meant for versions 2 and up.");return(u=t.call(this,n,i,r)||this).defaultSampleDescriptionIndex=e,u}qc(n,t),b.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.WA},set:function(t){if(!oh(t,32))throw new p("The provided defaultSampleDescriptionIndex does not fit in 32 bits.");this.WA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultSampleDescriptionIndex,32)}}(av);F(),Tt();(function(t){function n(n){void 0===n&&(n=[]);var i=t.call(this,"stsz",0,0)||this;return i.sampleSizes=n,i}qc(n,t),b.defineProperty(n.prototype,"sampleSizes",{get:function(){return this.fS},set:function(t){if(!oh(t.length,32))throw new p("Number of allowed samples cannot fit in 32 bits.");if(t.some((function(t){return!oh(t,32)})))throw new p("Not all sampleSizes can be represented in 32 bits.");this.fS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+4*this.sampleSizes.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(this.sampleSizes.length,32);for(var i=0,r=this.sampleSizes;i<r.length;i++){var e=r[i];n.writer.writeUInt(e,32)}}})(fh),function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=0);var r=t.call(this,"stsz",0,0)||this;return r.defaultSampleSize=n,r.samples=i,r}qc(n,t),b.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.GA},set:function(t){if(!oh(t,32))throw new p("Provided defaultSampleSize does not fit in 32 bits.");this.GA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"samples",{get:function(){return this.sS},set:function(t){if(!oh(t,32))throw new p("Number of allowed samples cannot fit in 32 bits.");this.sS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.defaultSampleSize,32),n.writer.writeUInt(this.samples,32)}}(fh);F(),Tt();!function(t){function n(){return t.call(this,"stbl")||this}qc(n,t)}(Hh);F(),Tt();!function(t){function n(n){var i=t.call(this,"stsc",0,0)||this;return i.entries=n,i}qc(n,t),b.defineProperty(n.prototype,"entries",{get:function(){return this.pA},set:function(t){if(!oh(t.length,32))throw new p("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!oh(t.firstChunk,32)||!oh(t.sampleDescriptionIndex,32)||!oh(t.samplesPerChunk,32)})))throw new p("Not all entries can be represented in 96 bits.");this.pA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+12*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];n.writer.writeUInt(e.firstChunk,32),n.writer.writeUInt(e.samplesPerChunk,32),n.writer.writeUInt(e.sampleDescriptionIndex,32)}}}(fh);F(),Tt();!function(t){function n(){return t.call(this,"schi")||this}qc(n,t)}(Hh);F(),Tt();!function(t){function n(n,i,r){var e=t.call(this,"schm",0,void 0===r?0:1)||this;return e.schemeType=n,e.schemeVersion=i,e.schemeUri=r,e}qc(n,t),b.defineProperty(n.prototype,"schemeType",{get:function(){return this._S},set:function(t){if(4!==t.length)throw new p("The provided schemeType does not have a length of 4.");this._S=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"schemeVersion",{get:function(){return this.vS},set:function(t){if(!oh(t,32))throw new p("The provided schemeVersion does not fit in 23 bits.");this.vS=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"schemeUri",{get:function(){return this.mS},set:function(t){if(t&&4!==t.length)throw new p("The provided schemeUri does not have a length of 4.");this.flags=void 0===t?0:1,this.mS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+(void 0===this.schemeUri?0:this.schemeUri.length+1)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeType),n.writer.writeUInt(this.schemeVersion,32),this.schemeUri&&(n.writer.writeString(this.schemeUri),n.writer.writeByte(0))}}(fh);F(),Tt();var cv=function(t){function n(n,i,r,e,u,s,o){void 0===o&&(o=0);var a=t.call(this,"sidx",n,o)||this;return a.referenceId=i,a.timescale=r,a.earliestPresentationTime=e,a.firstOffset=u,a.references=s,a}return qc(n,t),b.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"referenceId",{get:function(){return this.gS},set:function(t){if(!oh(t,32))throw new p("Provided referenceId does not fit in 32 bits.");this.gS=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"timescale",{get:function(){return this.NA},set:function(t){if(!oh(t,32))throw new p("Provided timescale does not fit in 32 bits.");this.NA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"earliestPresentationTime",{get:function(){return this.pS},set:function(t){if(!oh(t,this.bitSize))throw new p("Provided earliestPresentationTime does not fit in ".concat(this.bitSize," bits."));this.pS=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"firstOffset",{get:function(){return this.wS},set:function(t){if(!oh(t,this.bitSize))throw new p("Provided timescale does not fit in ".concat(this.bitSize," bits."));this.wS=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"references",{get:function(){return this.yS},set:function(t){if(!oh(t.length,16))throw new p("The number of provided reference items does not fit in 16 bits.");for(var n=0,i=t;n<i.length;n++){var r=i[n];if(!oh(r.referencedSize,31))throw new p("Provided referenced size does not fit in 31 bits.");if(!oh(r.subsegmentDuration,32))throw new p("Provided subsegment duration does not fit in 31 bits.");if(!oh(r.sapType,3))throw new p("Provided SAP type does not fit in 3 bits.");if(!oh(r.sapDeltaTime,28))throw new p("Provided SAP delta time does not fit in 28 bits.")}this.yS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+this.bitSize/8*2+2+2+12*this.references.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.referenceId,32),n.writer.writeUInt(this.timescale,32),this.serializeSidxBoxContent(n),n.writer.writeUInt(0,16),n.writer.writeUInt(this.references.length,16);for(var i=0,r=this.references;i<r.length;i++){var e=r[i];n.writer.writeBit(e.referenceType),n.writer.writeUInt(e.referencedSize,31),n.writer.writeUInt(e.subsegmentDuration,32),n.writer.writeBool(e.startsWithSap),n.writer.writeUInt(e.sapType,3),n.writer.writeUInt(e.sapDeltaTime,28)}},n}(fh),hv=function(t){function n(n,i,r,e,u,s){return void 0===s&&(s=0),t.call(this,0,n,i,r,e,u,s)||this}return qc(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime,32),t.writer.writeUInt(this.firstOffset,32)},n}(cv),fv=function(t){function n(n,i,r,e,u,s){return void 0===s&&(s=0),t.call(this,1,n,i,r,e,u,s)||this}return qc(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.earliestPresentationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getHighBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getLowBitsUnsigned(),32)},n}(cv);F(),Tt();var vv=function(t){function n(n,i,r){return t.call(this,"styp",n,i,r)||this}return qc(n,t),n}(nf);function dv(t){for(var n=t.data,i=n.nextChars(4),r=n.nextUint32(),e=[];n.cursor.offset<n.data.byteLength;)e.push(n.nextChars(4));return new vv(i,r,e)}F(),Tt();!function(t){function n(n){void 0===n&&(n=0);var i=t.call(this,"smhd",0,0)||this;return i.balance=n,i}qc(n,t),b.defineProperty(n.prototype,"balance",{get:function(){return this.bS},set:function(t){if(t<-1||t>1)throw new p("Provided balance does not fit in the allowed range [-1, 1].");if(!oh(ah(t,8),16))throw new p("Provided balance does not fit in 16 bits (fixed 8.8).");this.bS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(ah(this.balance,8),16),n.writer.writeUInt(0,16)}}(fh);F(),Tt();!function(t){function n(n){var i=t.call(this,"stss",0,0)||this;return i.entries=n,i}qc(n,t),b.defineProperty(n.prototype,"entries",{get:function(){return this.pA},set:function(t){if(!oh(t.length,32))throw new p("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!oh(t,32)})))throw new p("Not all entries can be represented in 32 bits.");this.pA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];n.writer.writeUInt(e,32)}}}(fh);F(),Tt();!function(t){function n(n){var i=t.call(this,"stts",0,0)||this;return i.entries=n,i}qc(n,t),b.defineProperty(n.prototype,"entries",{get:function(){return this.pA},set:function(t){if(!oh(t.length,32))throw new p("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!oh(t.sampleCount,32)||!oh(t.sampleDelta,32)})))throw new p("Not all entries can be represented in 64 bits.");this.pA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];n.writer.writeUInt(e.sampleCount,32),n.writer.writeUInt(e.sampleDelta,32)}}}(fh);F(),Tt();!function(t){function n(n){var i=t.call(this,"trep",0,0)||this;return i.trackId=n,i}qc(n,t),b.defineProperty(n.prototype,"trackId",{get:function(){return this.VA},set:function(t){if(!oh(t,32))throw new p("The provided trackId does not fit in 32 bits.");this.VA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32)}}(jh);F(),Tt();!function(t){function n(){return t.call(this,"udta")||this}qc(n,t)}(Hh);F(),Tt();var lv={red:0,green:0,blue:0};!function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=lv);var r=t.call(this,"vmhd",0,1)||this;return r.graphicsMode=n,r.opColor=i,r}qc(n,t),b.defineProperty(n.prototype,"opColor",{get:function(){return this.SS},set:function(t){if(!oh(t.red,16)||!oh(t.green,16)||!oh(t.blue,16))throw new p("Not all colors could be represented in 16 bits.");this.SS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+6},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.graphicsMode,16),n.writer.writeUInt(this.opColor.red,16),n.writer.writeUInt(this.opColor.green,16),n.writer.writeUInt(this.opColor.blue,16)}}(fh);F(),Tt();var gv=function(t){function n(n,i,r,e,u){void 0===e&&(e={}),void 0===u&&(u=void 0);var s,o,a,c,h,f=this;return(f=t.call(this,n,i)||this).width=r.width,f.height=r.height,f.horizontalResolution=null!==(s=r.horizontal)&&void 0!==s?s:72,f.verticalResolution=null!==(o=r.vertical)&&void 0!==o?o:72,f.compressorName=null!==(a=e.compressorName)&&void 0!==a?a:"",f.frameCount=null!==(c=e.frameCount)&&void 0!==c?c:1,f.depth=null!==(h=e.depth)&&void 0!==h?h:24,f.clap=e.clap,f.pasp=e.pasp,f.extra=u,f}return qc(n,t),b.defineProperty(n.prototype,"width",{get:function(){return this.YA},set:function(t){if(!oh(t,16))throw new p("Provided width does not fit in 16 bits.");this.YA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"height",{get:function(){return this.KA},set:function(t){if(!oh(t,16))throw new p("Provided height does not fit in 16 bits.");this.KA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"horizontalResolution",{get:function(){return this.TS},set:function(t){if(!oh(ah(t,16),32))throw new p("Provided horizontalResolution does not fit in 32 bits (fixed 16.16).");this.TS=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"verticalResolution",{get:function(){return this.kS},set:function(t){if(!oh(ah(t,16),32))throw new p("Provided verticalResolution does not fit in 32 bits (fixed 16.16).");this.kS=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"compressorName",{get:function(){return this.ES},set:function(t){if(t.length>31)throw new p("The provided compressorName should at most be 31 characters long.");this.ES=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"frameCount",{get:function(){return this.xS},set:function(t){if(!oh(t,16))throw new p("Provided frameCount does not fit in 16 bits.");this.xS=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"depth",{get:function(){return this.RS},set:function(t){if(!oh(t,16))throw new p("Provided depth does not fit in 16 bits.");this.RS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i,r,e,u,s;return t.prototype.getBoxContentSize.call(this)+2+2+12+2+2+4+4+4+2+32+2+2+(null!==(i=null===(n=this.clap)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)+(null!==(e=null===(r=this.pasp)||void 0===r?void 0:r.getSize())&&void 0!==e?e:0)+(null!==(s=null===(u=this.extra)||void 0===u?void 0:u.length)&&void 0!==s?s:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.width,16),n.writer.writeUInt(this.height,16),n.writer.writeUInt(ah(this.horizontalResolution,16),32),n.writer.writeUInt(ah(this.verticalResolution,16),32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.frameCount,16),n.writer.writeByte(this.compressorName.length),n.writer.writeString(this.compressorName);for(var i=0;i<31-this.compressorName.length;i++)n.writer.writeByte(0);n.writer.writeUInt(this.depth,16),n.writer.writeInt(-1,16),this.clap&&n.concat(this.clap.serialize()),this.pasp&&n.concat(this.pasp.serialize()),this.extra&&ch(n.writer,this.extra)},n}(zh);F(),Tt(),F(),Tt();!function(t){function n(n){var i=t.call(this,"esds",0,0)||this;return i.esDescriptor=n,i}qc(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(this.esDescriptor instanceof E?this.esDescriptor.length:this.esDescriptor.getSize())},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor instanceof E?n.concat(rh.from(this.esDescriptor)):this.esDescriptor.serialize(n)}}(fh);F(),Tt();!function(t){function n(n,i,r){var e=t.call(this,"mp4a",n,r)||this;return e.esd=i,e}qc(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esd.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.esd.serialize())}}(Yh);F(),Tt();!function(t){function n(n,i,r,e){void 0===e&&(e={});var u=t.call(this,"mp4v",n,i,e)||this;return u.esDescriptor=r,u}qc(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(gv);F(),Tt();!function(t){function n(n,i){var r=t.call(this,"mp4s",n)||this;return r.esDescriptor=i,r}qc(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(zh);F(),Tt(),F(),Tt();!function(t){function n(n){var i=t.call(this,"avcC")||this;return i.decoderConfig=n,i}qc(n,t),n.prototype.getBoxContentSize=function(){return this.decoderConfig.getSize()},n.prototype.serializeBoxContent=function(t){this.decoderConfig.serialize(t)}}(sh);F(),Tt();!function(){function t(t,n,i,r,e,u){void 0===u&&(u=1),this.lengthSizeMinusOne=i,this.version=u,this.profileIndication=t.indication,this.profileCompatibility=t.compatibility,this.levelIndication=n,this.spsSets=r,this.ppsSets=e}b.defineProperty(t.prototype,"version",{get:function(){return this.IS},set:function(t){if(!oh(t,8))throw new p("Provided version does not fit in 8 bits.");this.IS=t},enumerable:!1,configurable:!0}),b.defineProperty(t.prototype,"profileIndication",{get:function(){return this.CS},set:function(t){if(!oh(t,8))throw new p("Provided profileIndication does not fit in 8 bits.");this.CS=t},enumerable:!1,configurable:!0}),b.defineProperty(t.prototype,"profileCompatibility",{get:function(){return this.PS},set:function(t){if(!oh(t,8))throw new p("Provided profileCompatibility does not fit in 8 bits.");this.PS=t},enumerable:!1,configurable:!0}),b.defineProperty(t.prototype,"levelIndication",{get:function(){return this.DS},set:function(t){if(!oh(t,8))throw new p("Provided levelIndication does not fit in 8 bits.");this.DS=t},enumerable:!1,configurable:!0}),b.defineProperty(t.prototype,"spsSets",{get:function(){return this.NS},set:function(t){if(!oh(t.length,5))throw new p("Provided number of spsSets exceeds the max (32)");this.NS=t},enumerable:!1,configurable:!0}),b.defineProperty(t.prototype,"ppsSets",{get:function(){return this.MS},set:function(t){if(!oh(t.length,8))throw new p("Provided number of ppsSets exceeds the max (256)");this.MS=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return 7+2*this.spsSets.length+this.spsSets.reduce((function(t,n){return t+n.length}),0)+2*this.ppsSets.length+this.ppsSets.reduce((function(t,n){return t+n.length}),0)},t.prototype.serialize=function(t){t.writer.writeByte(this.version),t.writer.writeByte(this.profileIndication),t.writer.writeByte(this.profileCompatibility),t.writer.writeByte(this.levelIndication),t.writer.writeBits([1,1,1,1,1,1]),t.writer.writeUInt(this.lengthSizeMinusOne,2),t.writer.writeBits([1,1,1]),t.writer.writeUInt(this.spsSets.length,5);for(var n=0,i=this.spsSets;n<i.length;n++){var r=i[n];t.writer.writeUInt(r.length,16),t.concat(rh.from(r))}t.writer.writeByte(this.ppsSets.length);for(var e=0,u=this.ppsSets;e<u.length;e++){var s=u[e];t.writer.writeUInt(s.length,16),t.concat(rh.from(s))}}}();F(),Tt();!function(t){function n(n,i,r,e,u){void 0===e&&(e={}),void 0===u&&(u=void 0);var s=t.call(this,"avc1",n,i,e)||this;return s.configurationBox=r,s.bitrateBox=u,s}qc(n,t),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+this.configurationBox.getSize()+(null!==(i=null===(n=this.bitrateBox)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.configurationBox.serialize()),this.bitrateBox&&n.concat(this.bitrateBox.serialize())}}(gv);F(),Tt();!function(t){function n(n,i,r){var e=t.call(this,"btrt")||this;return e.bufferSizeDb=n,e.max=i,e.avg=r,e}qc(n,t),b.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.hA},set:function(t){if(!oh(t,32))throw new p("Provided bufferSizeDb does not fit in 32 bits.");this.hA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"max",{get:function(){return this.M_},set:function(t){if(!oh(t,32))throw new p("Provided max does not fit in 32 bits.");this.M_=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"avg",{get:function(){return this.LS},set:function(t){if(!oh(t,32))throw new p("Provided avg does not fit in 32 bits.");this.LS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 12},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.bufferSizeDb,32),t.writer.writeUInt(this.max,32),t.writer.writeUInt(this.avg,32)}}(sh);F(),Tt(),F(),Tt(),F(),Tt();var wv=function(t){function n(n,i){var r,e,u,s,o=this;if(o=t.call(this,"tenc",n,0)||this,i.perSampleIvSize>0&&(null!==(e=null===(r=i.constantIv)||void 0===r?void 0:r.length)&&void 0!==e?e:0)>0)throw new p("Either perSampleSize should be > 0 or constantIv should be defined. Not both.");return o.kId=i.kId,o.isProtected=null!==(u=i.isProtected)&&void 0!==u?u:1,i.perSampleIvSize>0?o.perSampleIvSize=i.perSampleIvSize:o.constantIv=null!==(s=i.constantIv)&&void 0!==s?s:new E(0),o}return qc(n,t),b.defineProperty(n.prototype,"isProtected",{get:function(){return this.FS},set:function(t){if(!oh(t,8))throw new p("Provided isProtected does not fit in 1 byte.");this.FS=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"perSampleIvSize",{get:function(){return this.VS},set:function(t){if(![8,16].includes(t))throw new p("Provided perSampleIvSize does not match any allowed value [8, 16].");this.VS=t,this.WS=new E(0)},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"kId",{get:function(){return this.US},set:function(t){if(16!==t.length)throw new p("Provided kId length is not 16.");this.US=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"constantIv",{get:function(){return this.WS},set:function(t){if(![8,16].includes(t.length))throw new p("Provided constant IV length does not match any allowed value [8, 16].");this.WS=t,this.VS=0},enumerable:!1,configurable:!0}),n.prototype.getTencHeaderSize=function(){return 20+(this.constantIv.length>0?1+this.constantIv.length:0)},n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.getTencHeaderSize()},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeByte(0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeOwnContent(n)},n.prototype.serializeOwnContent=function(t){t.writer.writeByte(0),this.serializeVersionBoxContent(t),t.writer.writeByte(this.isProtected),t.writer.writeByte(this.perSampleIvSize),ch(t.writer,this.kId),0===this.perSampleIvSize&&(t.writer.writeByte(this.constantIv.length),ch(t.writer,this.constantIv))},n}(fh),mv=(function(t){function n(n){return t.call(this,0,n)||this}qc(n,t)}(wv),function(t){function n(n){var i=t.call(this,1,n)||this;return i.cryptByteBlocks=n.cryptByteBlock,i.skipByteBlocks=n.skipByteBlock,i}return qc(n,t),b.defineProperty(n.prototype,"cryptByteBlocks",{get:function(){return this.GS},set:function(t){if(!oh(t,4))throw new p("Provided cryptByteBlocks does not fit in 4 bits.");this.GS=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"skipByteBlocks",{get:function(){return this.HS},set:function(t){if(!oh(t,4))throw new p("Provided skipByteBlocks does not fit in 4 bits.");this.HS=t},enumerable:!1,configurable:!0}),n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.cryptByteBlocks,4),t.writer.writeUInt(this.skipByteBlocks,4)},n}(wv));!function(t){function n(n){var i=t.call(this)||this;return i.tencBox=new mv(n),i}qc(n,t),n.prototype.serializeBoxContent=function(t){this.tencBox.serializeOwnContent(t)},n.prototype.getBoxContentSize=function(){return this.tencBox.getTencHeaderSize()}}(kf);function yv(t){return void 0!==t.iv}function pv(t){return void 0!==t.subsamples}F(),Tt();!function(t){function n(n){var i=t.call(this,"senc",0,{useSubsampleEncryption:!1})||this;return i.samples=n,i}qc(n,t),b.defineProperty(n.prototype,"samples",{get:function(){return this.sS},set:function(t){var n;if(!oh(t.length,32))throw new p("The number of samples provided does not fit in 32 bits.");for(var i=0,r=t;i<r.length;i++){var e=r[i];if(yv(e)&&![8,16].includes(e.iv.length))throw new p("IV of one of the provided samples did not satisfy the required length constraints. [8, 16]");if(void 0===n&&(n=pv(e)),!0===n&&!pv(e)||!1===n&&pv(e))throw new p("Mix of samples with and without subsamples detected.");if(pv(e)){if(!oh(e.subsamples.length,16))throw new p("Subsample length of one of the provided samples does not fit in 16 bits.");for(var u=0,s=e.subsamples;u<s.length;u++){var o=s[u];if(!oh(o.clearData,16))throw new p("Subsample clearData of one of the provided samples does not fit in 16 bits.");if(!oh(o.protectedData,23))throw new p("Subsample protectedData of one of the provided samples does not fit in 23 bits.")}}}this.flags.useSubsampleEncryption=null!=n&&n,this.sS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){for(var n=0,i=0,r=this.samples;i<r.length;i++){var e=r[i];yv(e)&&(n+=e.iv.length),pv(e)&&(n+=2+6*e.subsamples.length)}return t.prototype.getBoxContentSize.call(this)+4+n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32);for(var i=0,r=this.samples;i<r.length;i++){var e=r[i];if(yv(e)&&ch(n.writer,e.iv),pv(e)){n.writer.writeUInt(e.subsamples.length,16);for(var u=0,s=e.subsamples;u<s.length;u++){var o=s[u];n.writer.writeUInt(o.clearData,16),n.writer.writeUInt(o.protectedData,32)}}}},n.prototype.serializeFlags=function(t){t.writer.writeUInt(this.flags.useSubsampleEncryption?2:0,24)}}(fh);F(),Tt(),F(),Tt();!function(t){function n(n,i,r,e,u){var s=t.call(this,"emsg",0,0)||this;return s.schemeIdUri=n,s.value=i,s.data=u,s.id=r,s.timescale=e.timescale,s.presentationTimeDelta=e.presentationTimeDelta,s.eventDuration=e.eventDuration,s}qc(n,t),b.defineProperty(n.prototype,"timescale",{get:function(){return this.NA},set:function(t){if(!oh(t,32))throw new p("The provided timescale does not fit in 32 bits.");this.NA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"presentationTimeDelta",{get:function(){return this.ZS},set:function(t){if(!oh(t,32))throw new p("The provided presentationTimeDelta does not fit in 32 bits.");this.ZS=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"eventDuration",{get:function(){return this.XS},set:function(t){if(!oh(t,32))throw new p("The provided eventDuration does not fit in 32 bits.");this.XS=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"id",{get:function(){return this.zS},set:function(t){if(!oh(t,32))throw new p("The provided id does not fit in 32 bits.");this.zS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.schemeIdUri.length+1+this.value.length+1+16+this.data.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeIdUri),n.writer.writeByte(0),n.writer.writeString(this.value),n.writer.writeByte(0),n.writer.writeUInt(this.timescale,32),n.writer.writeUInt(this.presentationTimeDelta,32),n.writer.writeUInt(this.eventDuration,32),n.writer.writeUInt(this.id,32),n.concat(rh.from(this.data))}}(fh);F(),Tt(),F(),Tt(),F(),Tt();var _v=function(){function t(){this.boxes=[]}return t.prototype.serialize=function(){for(var t=new uh,n=0,i=this.boxes;n<i.length;n++){var r=i[n];t.concat(r.serialize())}return t.toRangedBuffer()},t}();function bv(t,n){return function(i){var r=function(t,n){for(var i=t.data,r=t.cursor;r.offset<i.byteLength;){var e=Lh(i,r);if(!e.complete)return;if(Dh(e.box,n))return e.box}}(new Nh(Ih(i),new Ch),t);if(!r)throw new p("".concat(t," box not found"));return n(r)}}var kv=bv("moov",zf),Av=bv("sidx",(function(t){var n,i,r=t.data,e=Mh(r.nextUint32()),u=e.version,s=e.flags,o=r.nextUint32(),a=r.nextUint32();0===u?(n=r.nextUint32(),i=r.nextUint32()):(n=r.nextUint64(),i=r.nextUint64()),r.skip(2);for(var c=r.nextUint16(),h=[],f=0;f<c;f++){var v=new nh(rh.from(r.nextUint8Array(12))),d=v.readBit(),l=v.readUInt(31),g=v.readUInt(32),w=Boolean(v.readBit()),m=v.readUInt(3),y=v.readUInt(28);h.push({referenceType:d,referencedSize:l,subsegmentDuration:g,startsWithSap:w,sapType:m,sapDeltaTime:y})}return 0===u?new hv(o,a,n,i,h,s.raw):new fv(o,a,n,i,h,s.raw)})),Tv=bv("moof",uv),Sv=bv("pssh",Ef);function Ev(t){return function(t){for(var n=new _v,i=0,r=xh(t);i<r.length;i++){var e=r[i];Dh(e,"ftyp")?n.boxes.push(ef(e)):Dh(e,"styp")?n.boxes.push(dv(e)):Dh(e,"moov")?n.boxes.push(zf(e)):Dh(e,"moof")?n.boxes.push(uv(e)):Dh(e,"mdat")?n.boxes.push(lf(e)):n.boxes.push(Fh(e))}return n}(new Nh(Ih(t),new Ch))}var Iv=function(t){function n(n,i){var r;(r=t.call(this)||this).KS=n,r.nT=i,r.JS=!1,r.rT=function(){r.iT()},r.oT=function(t){r._o(new fa(r,t.messageType,zc(r.nT,t.message)))},r.hT=function(){r.JS=!0,r.jS.Nb>0&&(r.jS.Fb(),r._o(new ha(r.jS))),r.KS.removeEventListener("keystatuseschange",r.rT),r.KS.removeEventListener("message",r.oT)},r.KS.addEventListener("keystatuseschange",r.rT),r.KS.addEventListener("message",r.oT),r.jS=new Xc;var e=[];return r.KS.closed&&e.push(et.resolve(r.KS.closed)),r.$S=new Gc,e.push(r.$S.Ub),r.Vd=et.race(e).then(r.hT,r.hT),r.iT(),r}It(n,t);var i=n.prototype;return i.Ws=function(){if(this.JS)return this.Vd;var t=[];return t.push(et.resolve(this.KS.close())),t.push($o(1e3)),this.$S.Qw(et.race(t).catch(Rv)),this.JS=!0,this.Vd},i.tT=function(t,n,i){if(Gn.um){var r=Sv(Tc(n));if(1===r.version)n=new Tf(r.systemId,r.data).serialize().join()}return et.resolve(this.KS.generateRequest(t,n)).catch(Rv)},i.$n=function(t){return et.resolve(this.KS.load(t)).catch(Rv)},i.eT=function(){return et.resolve(this.KS.remove()).catch(Rv)},i.ir=function(t){return et.resolve(this.KS.update(t)).catch(Rv)},i.iT=function(){var t=this;this.jS.Fb(),this.KS.keyStatuses.forEach((function(n,i){t.sT(i,n)})),this._o(new ha(this.jS))},i.sT=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var r=Tc(t);if(this.nT===ms&&16===r.byteLength&&(Gn.Tm||Gn.yg)){var e=bc(r),u=e.getUint32(0,!0),s=e.getUint16(4,!0),o=e.getUint16(6,!0);e.setUint32(0,u,!1),e.setUint16(4,s,!1),e.setUint16(6,o,!1)}this.nT===ms&&"status-pending"===n&&(n="usable"),this.jS.Bb(r,n)},Nt(n,[{key:"qS",get:function(){return this.Vd}},{key:"YS",get:function(){return this.KS.expiration}},{key:"pb",get:function(){return this.jS}},{key:"QS",get:function(){return this.KS.sessionId}}]),n}(ra);function Rv(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|A(i[1],16))}throw new jc(t.message,void 0,n,t)}var Cv=function(){function t(t,n,i){this.uT=t,this.cT=n,this.kd=i}var n=t.prototype;return n.aT=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){return[2,new Iv(n.uT.createSession(t),n.cT)]}))}))()},n.lT=function(t){return et.resolve(this.uT.setServerCertificate(t))},n.kn=function(t){return et.resolve(t.setMediaKeys(this.uT))},n.dT=function(t){return et.resolve(t.setMediaKeys(null))},n.nr=function(){return et.resolve()},t}(),Nv=function(){function t(t,n,i){this.fT=t,this.nT=n,this.vT=i}var n=t.prototype;return n._T=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return[4,t.fT.createMediaKeys()];case 1:return n=i.sent(),[2,new Cv(n,t.nT,t.vT)]}}))}))()},n.mT=function(){return this.vT},Nt(t,[{key:"cT",get:function(){return this.fT.keySystem}}]),t}();F(),Tt(),F(),Tt(),nn();var Dv={VIDEO_H264:"video/avc",VIDEO_H265:"video/hevc",VIDEO_MP4:"video/mp4",VIDEO_MPEG:"video/mpeg",VIDEO_MPEG2:"video/mpeg2",VIDEO_WEBM:"video/webm",VIDEO_UNKNOWN:"video/x-unknown",AUDIO_AAC:"audio/mp4a-latm",AUDIO_MP4:"audio/mp4",AUDIO_WEBM:"audio/webm",AUDIO_UNKOWN:"audio/x-unknown",IMAGE_JPEG:"image/jpeg",APPLICATION_TTML_XML:"application/ttml+xml",APPLICATION_MP4:"application/mp4",TEXT_VTT:"text/vtt"};function Pv(t){return Vs(t,Dv.APPLICATION_MP4)||Vs(t,Dv.VIDEO_MP4)||Vs(t,Dv.AUDIO_MP4)}function xv(t){return Vs(t,Dv.VIDEO_WEBM)||Vs(t,Dv.AUDIO_WEBM)}var Lv=function(){function t(t,n){this.Tw=t,this.pT=n}return t.prototype.gT=function(t){for(var n=0,i=this.pT;n<i.length;n++){var r=tn(i[n],2),e=r[0],u=r[1];if(e.toLowerCase()===t.toLowerCase())return u}},t}();function Mv(t){var n=t.trim(),i=n.indexOf(";");if(i<0)return new Lv(n,[]);for(var r=n.substr(0,i).trim(),e=n.substr(i+1).trim(),u=[],s=0,o=!1,a=0;a<e.length;a++){var c=e[a];if(o||";"!==c)'"'===c&&(o=!o);else{var h=Ov(e.substr(s,a));h&&u.push(h),s=a+1}}if(s!==e.length){var f=Ov(e.substr(s));f&&u.push(f)}return new Lv(r,u)}function Ov(t){var n=t.indexOf("=");if(!(n<0)){var i=t.substr(0,n).trim(),r=t.substr(n+1).trim();return'"'===r[0]&&(r=r.substring(1,r.length-1)),[i,r]}}function Bv(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function Vv(t){var n=t,i=n.match(/^avc1\.(\d+)\.(\d+)$/);if(i){var r=Number(i[1]),e=Number(i[2]);n="avc1."+Xs((r<<16|e).toString(16),6,"0")}return n}function Fv(t,n,i,r){var e=!1;if(!(r.persistentState&&"optional"!==r.persistentState||r.distinctiveIdentifier&&"optional"!==r.distinctiveIdentifier)){var u={audioCapabilities:[],videoCapabilities:[],persistentState:r.persistentState||"optional",distinctiveIdentifier:r.distinctiveIdentifier||"optional",initDataTypes:r.initDataTypes,sessionTypes:["temporary"],label:r.label,wT:r.wT},s=!1;if(r.audioCapabilities){var o=r.audioCapabilities.filter((function(t){return Boolean(t.contentType)}));o.length&&(u.audioCapabilities=o.filter((function(r){return Uv(t,n,i,r)})),s=!0,u.audioCapabilities.length&&(e=!0))}if(r.videoCapabilities){var a=r.videoCapabilities.filter((function(t){return Boolean(t.contentType)}));a.length&&(u.videoCapabilities=a.filter((function(r){return Uv(t,n,i,r)})),s=!0,u.videoCapabilities.length&&(e=!0))}return s||(e=t(i,"video/mp4")),e?u:void 0}}function Uv(t,n,i,r){return!!r.contentType&&(!(r.encryptionScheme&&!po(n,r.encryptionScheme))&&(!r.robustness&&t(i,Bv(r.contentType))))}function Wv(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var r=i[n];if(r.contentType)return r.contentType}if(t.audioCapabilities)for(var e=0,u=t.audioCapabilities;e<u.length;e++){var s=u[e];if(s.contentType)return s.contentType}}function Zv(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r.encryptionScheme&&n.push({contentType:r.contentType,robustness:r.robustness})}return t.concat(n)}function Xv(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(Gv))||!(!t.videoCapabilities||!t.videoCapabilities.some(Gv))}function Gv(t){return!t.robustness}function Hv(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];e.robustness?i.push(e):i.push(ns({},e,{robustness:n}))}return i}var zv=function(){function t(){}return t.prototype.Dw=function(t,n){return Zt((function(){var i,r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:for(n=n.filter((function(t){return!t.wT})),i=0;i<n.length;i++)(r=n[i]).audioCapabilities&&(r.audioCapabilities=Zv(r.audioCapabilities)),r.videoCapabilities&&(r.videoCapabilities=Zv(r.videoCapabilities));if(t!==_s||!n.some(Xv))return[3,4];e=n.map((function(t){return function(t,n){return ns({},t,{videoCapabilities:t.videoCapabilities?Hv(t.videoCapabilities,n):void 0,audioCapabilities:t.audioCapabilities?Hv(t.audioCapabilities,n):void 0})}(t,"SW_SECURE_CRYPTO")})),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,l.requestMediaKeySystemAccess(t,e)];case 2:return u=c.sent(),s=u.getConfiguration(),[2,new Nv(u,t,s)];case 3:return c.sent(),[3,4];case 4:return[4,l.requestMediaKeySystemAccess(t,n)];case 5:return o=c.sent(),a=o.getConfiguration(),[2,new Nv(o,t,a)]}}))}))()},t.yT=function(){return Js()},t}();F(),Tt(),F(),Tt(),Dt(),F(),Tt(),Gt(),qt(),F(),Tt(),Gt(),Dt(),Rt(),qt();var Yv=function(t){function n(n,i){var r;return(r=t.call(this)||this).xT=n,r.IT=i,r.JS=!1,r.NT=void 0,r.kT=void 0,r.bT=void 0,r.hT=function(){r.JS=!0,r.AT.Vb(void 0),r.bT&&(r.bT.removeEventListener("mskeyclose",r.hT),r.bT.removeEventListener("mskeymessage",r.CT),r.bT.removeEventListener("mskeyerror",r.Ss),r.bT.removeEventListener("mskeyadded",r.PT))},r.CT=function(t){r.kT&&(r.kT.Vb(void 0),r.kT=void 0),r._o(new fa(r,"license-request",Ec(t.message).buffer,t.destinationURL||void 0))},r.Ss=function(){var t=r.bT&&r.bT.error;if(t){var n=new jc("Unknown CDM error",t.code,t.systemCode);if(r.kT)r.kT.Wb(n),r.kT=void 0;else if(r.NT)r.NT.Wb(n),r.NT=void 0;else switch(n.Gb){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:r.DT("output-not-allowed");break;default:r.DT("internal-error")}}},r.PT=function(){r.kT&&(r.DT("usable"),r.kT.Vb(void 0),r.kT=void 0),r.NT&&(r.DT("usable"),r.NT.Vb(void 0),r.NT=void 0)},r.AT=new Gc,r.ST=new Xc,r}It(n,t);var i=n.prototype;return i.tT=function(t,n,i){var r=this;return Zt((function(){return Ht(this,(function(t){switch(t.label){case 0:return r.TT(),r.kT=new Gc,r.aT(Tc(n),i),[4,r.kT.Ub];case 1:return t.sent(),[2]}}))}))()},i.aT=function(t,n){if(!t)throw new _("Expected initData to be defined but was "+t+".");var i,r=n&&n.playready&&n.playready.ET;return(i=n?this.xT.createSession(this.IT,t,r):this.xT.createSession(this.IT,t)).addEventListener("mskeyclose",this.hT),i.addEventListener("mskeymessage",this.CT),i.addEventListener("mskeyerror",this.Ss),i.addEventListener("mskeyadded",this.PT),this.bT=i,this.DT("status-pending"),i},i.$n=function(t){var n=this;return Zt((function(){return Ht(this,(function(t){return n.TT(),[2,!0]}))}))()},i.ir=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:if(n.NT=new Gc,n.TT(),!n.bT)return[2,et.resolve()];if(0===(i=Tc(t)).byteLength)throw new _("Cannot call update with an empty response.");return n.bT.update(i),[4,n.NT.Ub];case 1:return r.sent(),[2]}}))}))()},i.Ws=function(){return!this.JS&&this.bT&&(this.JS=!0,this.bT.close()),this.AT.Ub},i.eT=function(){var t=this;return Zt((function(){return Ht(this,(function(n){return t.TT(),[2]}))}))()},i.TT=function(){if(this.JS)throw new _("Already closing or closed.")},i.DT=function(t){this.ST.Fb(),this.ST.Bb(Zc,t),this._o(new ha(this.ST))},Nt(n,[{key:"QS",get:function(){return this.bT&&this.bT.sessionId||""}},{key:"YS",get:function(){return NaN}},{key:"qS",get:function(){return this.AT.Ub}},{key:"pb",get:function(){return this.ST}}]),n}(ra),jv=function(){function t(t,n,i){this.xT=t,this.cT=n,this.kd=i;var r=Wv(i)||"video/mp4";this.IT=Bv(r)}var n=t.prototype;return n.aT=function(t){var n=this;return Zt((function(){return Ht(this,(function(t){return[2,new Yv(n.xT,n.IT)]}))}))()},n.lT=function(t){return et.resolve(!1)},n.kn=function(t){var n=this,i=function(){t.msSetMediaKeys(n.xT),t.removeEventListener("loadedmetadata",i)};return t.readyState>=1?t.msSetMediaKeys(this.xT):t.addEventListener("loadedmetadata",i),et.resolve()},n.dT=function(t){return et.resolve()},n.nr=function(){return et.resolve()},t}(),Kv=function(){function t(t,n){this.nT=t,this.MT=n}var n=t.prototype;return n.mT=function(){return this.MT},n._T=function(){var t=new f.MSMediaKeys(this.nT);return et.resolve(new jv(t,this.nT,this.MT))},Nt(t,[{key:"cT",get:function(){return this.nT}}]),t}(),qv=function(){function t(){}return t.prototype.Dw=function(t,n){try{return et.resolve(function(t,n){if(!Jv())throw new _("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=Fv(Qv,aa,t,r);if(e)return new Kv(t,e)}throw new _("Unsupported key system configuration for "+t)}(t,n))}catch(t){return et.reject(t)}},t.yT=function(){return Jv()},t}();function Jv(){return void 0!==f.MSMediaKeys&&"function"==typeof f.MSMediaKeys.isTypeSupported}function Qv(t,n){return f.MSMediaKeys.isTypeSupported(t,n)}F(),Tt(),F(),Tt(),Dt(),F(),Tt(),Gt(),qt(),F(),Tt(),Gt(),Dt(),Rt(),qt();var $v=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).FT=n,e.IT=i,e.OT=r,e.AT=new Gc,e.WT=void 0,e.ST=new Xc,e.LT=void 0,e.VT=new Gc,e.Ss=function(){var t=e.LT&&e.LT.error;if(t){var n=new jc("Unknown CDM error",t.code,t.systemCode);e.WT?(e.WT.Wb(n),e.WT=void 0):n.Gb===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?e.DT("output-not-allowed"):e.DT("internal-error"),e._o(new va)}},e.CT=function(t){e._o(new fa(e,"license-request",Ec(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},e.PT=function(){e.WT&&(e.WT.Vb(void 0),e.WT=void 0),e.DT("usable")},e}It(n,t);var i=n.prototype;return i.tT=function(t,n,i){var r=i&&i.fairplay&&i.fairplay.BT;if(!r)throw new _("Expected FairPlay contentId to be defined but was "+r+".");var e=function(t,n,i){var r=wc(t),e=2*r.length,u=2*n.length,s=new ArrayBuffer(4+e+4+u+4+i.byteLength),o=new DataView(s),a=new Rc;return qa(o,a,e,!0),cc(o,a,r,!0),qa(o,a,u,!0),cc(o,a,n,!0),qa(o,a,i.byteLength,!0),Xa(o,a,i),new E(s)}(Tc(n),r,this.OT);return this.LT=this.FT.createSession(this.IT,e),this.LT.addEventListener("webkitkeymessage",this.CT,!1),this.LT.addEventListener("webkitkeyadded",this.PT,!1),this.LT.addEventListener("webkitkeyerror",this.Ss,!1),this.DT("status-pending"),this.VT.Vb(this.LT),this.VT=new Gc,et.resolve()},i.$n=function(t){return et.resolve(!0)},i.ir=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:if(0===(i=Tc(t)).byteLength)throw new _("Cannot call update with an empty response.");return n.WT=new Gc,(r=n.LT)?[3,2]:[4,n.VT.Ub];case 1:r=e.sent(),e.label=2;case 2:return r.update(i),[4,n.WT.Ub];case 3:return e.sent(),[2]}}))}))()},i.Ws=function(){var t,n=this.LT;return n&&(n.removeEventListener("webkitkeymessage",this.CT,!1),n.removeEventListener("webkitkeyadded",this.PT,!1),n.removeEventListener("webkitkeyerror",this.Ss,!1),n.close()),this.VT.jw(),null==(t=this.WT)||t.jw(),this.AT.Vb(void 0),this.AT.Ub},i.eT=function(){return et.resolve(void 0)},i.DT=function(t){this.ST.Fb(),this.ST.Bb(Zc,t),this._o(new ha(this.ST))},Nt(n,[{key:"QS",get:function(){return this.LT?this.LT.sessionId:""}},{key:"YS",get:function(){return NaN}},{key:"qS",get:function(){return this.AT.Ub}},{key:"pb",get:function(){return this.ST}}]),n}(ra);F(),Tt(),Dt(),Rt(),F(),Tt();var td=function(t){return t[t.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",t[t.LICENSE_ERROR=2e3]="LICENSE_ERROR",t[t.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",t[t.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",t[t.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",t[t.LICENSE_INVALID_FEATURE=2004]="LICENSE_INVALID_FEATURE",t[t.SOURCE_INVALID=3e3]="SOURCE_INVALID",t[t.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",t[t.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",t[t.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",t[t.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",t[t.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",t[t.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",t[t.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",t[t.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",t[t.MEDIA_ABORTED=5004]="MEDIA_ABORTED",t[t.NETWORK_ERROR=6e3]="NETWORK_ERROR",t[t.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",t[t.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",t[t.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",t[t.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",t[t.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",t[t.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",t[t.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",t[t.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",t[t.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",t[t.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",t[t.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",t[t.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",t[t.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",t[t.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",t[t.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",t[t.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",t[t.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",t[t.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",t[t.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",t[t.AD_ERROR=1e4]="AD_ERROR",t[t.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",t[t.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",t[t.PICTURE_IN_PICTURE_ERROR=11001]="PICTURE_IN_PICTURE_ERROR",t[t.CACHE_SOURCE_ERROR=12e3]="CACHE_SOURCE_ERROR",t[t.CACHE_CONTENT_PROTECTION_ERROR=12001]="CACHE_CONTENT_PROTECTION_ERROR",t[t.THEO_LIVE_UNKNOWN_ERROR=13e3]="THEO_LIVE_UNKNOWN_ERROR",t[t.THEO_LIVE_CHANNEL_NOT_FOUND=13001]="THEO_LIVE_CHANNEL_NOT_FOUND",t[t.THEO_LIVE_END_OF_DEMO=13002]="THEO_LIVE_END_OF_DEMO",t[t.THEO_LIVE_ANALYTICS_ERROR=13003]="THEO_LIVE_ANALYTICS_ERROR",t}({}),nd=function(t){return t[t.CONFIGURATION=1]="CONFIGURATION",t[t.LICENSE=2]="LICENSE",t[t.SOURCE=3]="SOURCE",t[t.MANIFEST=4]="MANIFEST",t[t.MEDIA=5]="MEDIA",t[t.NETWORK=6]="NETWORK",t[t.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",t[t.SUBTITLE=8]="SUBTITLE",t[t.VR=9]="VR",t[t.AD=10]="AD",t[t.FULLSCREEN=11]="FULLSCREEN",t[t.CACHE=12]="CACHE",t[t.THEOLIVE=13]="THEOLIVE",t}({});!function(t){t.fromCode=function(n){var i=k.floor(n/1e3);if(i in t)return i;throw new _("Invalid error code: "+n)}}(nd||(nd={}));var id=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).code=n,e}return It(n,t),Nt(n,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return nd.fromCode(this.code)}}]),n}(Mo);function rd(t,n){return t instanceof id?t:t instanceof p?new id(n,t.message,t):new id(n,String(t))}var ed=function(){function t(t,n,i){this.FT=t,this.cT=n,this.kd=i,this.OT=void 0;var r=Wv(i)||"video/mp4";this.IT=Bv(r)}var n=t.prototype;return n.getInternalMediaKeys=function(){return this.FT},n.aT=function(t){var n=this;return Zt((function(){return Ht(this,(function(t){if(!n.OT)throw new id(td.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");return[2,new $v(n.FT,n.IT,n.OT)]}))}))()},n.lT=function(t){return this.OT=Tc(t),et.resolve(!0)},n.kn=function(t){return t.webkitSetMediaKeys(this.FT),et.resolve()},n.dT=function(t){return t.webkitSetMediaKeys(null),et.resolve()},n.nr=function(){return et.resolve()},t}(),ud=function(){function t(t,n){this.nT=t,this.MT=n}var n=t.prototype;return n.mT=function(){return this.MT},n._T=function(){var t=new f.WebKitMediaKeys(this.nT);return et.resolve(new ed(t,this.nT,this.MT))},Nt(t,[{key:"cT",get:function(){return this.nT}}]),t}(),sd=function(){function t(){}return t.prototype.Dw=function(t,n){try{return et.resolve(function(t,n){if(t!==Ss)throw new _(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!od())throw new _("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=Fv(ad,ca,t,r);if(e)return new ud(t,e)}throw new _("Unsupported key system configuration for "+t)}(t,n))}catch(t){return et.reject(t)}},t.yT=function(){return od()},t}();function od(){return void 0!==f.WebKitMediaKeys&&"function"==typeof f.WebKitMediaKeys.isTypeSupported}function ad(t,n){return f.WebKitMediaKeys.isTypeSupported(t,n)}F(),Tt(),Gt(),qt();var cd=function(){function t(t){this.UT=t}return t.prototype.Dw=function(t,n){var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:r=0,e=i.UT,s.label=1;case 1:if(!(r<e.length))return[3,6];u=e[r],s.label=2;case 2:return s.trys.push([2,4,,5]),[4,u.Dw(t,n)];case 3:return[2,s.sent()];case 4:return s.sent(),[3,5];case 5:return r++,[3,1];case 6:throw new _("Unsupported key system configuration for "+t)}}))}))()},t}();F(),Tt(),F(),Tt(),F(),Tt(),Gt(),qt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt();var hd=function(){function t(t){var n=this;this.HT=[],this.ZT=void 0,this.GT=new Yo,this.XT=function(){return 0===n.HT.length?n.qT?fd(n.qT,n.GT.Uw).then(n.YT,n.YT):n.YT():n.HT.shift()().then(n.XT)},this.YT=function(){if(0!==n.HT.length)return n.XT();n.ZT=void 0},this.qT=t}var n=t.prototype;return n.Qo=function(t,n){var i=this;return new et((function(r){var e=Yo.$w([i.GT.Uw,n]),u=function(){e.Xw()};i.HT.push((function(){var n=fd(t,e.Uw);return r(n),n.then(u,u)})),i.ZT||(i.ZT=i.XT())}))},n.jw=function(){return this.zT(!0)},n.yn=function(){return this.qT=void 0,this.zT(!1)},n.zT=function(t){var n=this.ZT;return this.GT.jw(),t&&(this.GT=new Yo),et.resolve(n)},t}();function fd(t,n){return new et((function(i){return i(t(n))}))}var vd=new hd,dd=function(t){function n(n){var i;return(i=t.call(this)||this).nT=n,i.kT=void 0,i.WT=void 0,i.$b=!1,i.hk=void 0,i.$T=void 0,i.AT=new Gc,i.rk="",i.ek=new Gc,i.nk=new Xc,i}It(n,t);var i=n.prototype;return i.KT=function(){this.WT&&(this.DT("usable"),this.WT.Vb(void 0),this.WT=void 0)},i.jT=function(t){var n=new jc("Unknown CDM error",t.errorCode,t.systemCode);this.WT?(this.WT.Wb(n),this.WT=void 0):this.kT?(this.kT.Wb(n),this.kT=void 0):n.Gb===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.DT("output-restricted"):1===n.Hb?this.DT("expired"):this.DT("internal-error")},i.QT=function(t){0!==t.message.byteLength?(this.kT&&(this.kT.Vb(void 0),this.kT=void 0),this._o(new fa(this,"license-request",zc(this.nT,Ec(t.message).buffer),t.defaultURL||void 0))):this.kT&&(this.kT.Wb("Empty key message"),this.kT=void 0)},i.JT=function(t){this.$T||(this.$T=t,this.ek.Vb(t))},i.Ws=function(){var t=this;return Zt((function(){return Ht(this,(function(n){return t.throwIfClosed(),t.WT&&(t.WT.Wb(void 0),t.WT=void 0),t.$b=!0,t.AT.Vb(void 0),[2]}))}))()},i.tT=function(t,n){var i=this;return Zt((function(){var t;return Ht(this,(function(r){switch(r.label){case 0:return i.throwIfClosed(),i.kT=new Gc,i.hk=Tc(n),(t=i.$T)?[3,2]:[4,i.ek.Ub];case 1:t=r.sent(),r.label=2;case 2:return t.webkitGenerateKeyRequest(i.nT,i.hk),[4,i.kT.Ub];case 3:return r.sent(),[2]}}))}))()},i.$n=function(t){var n=this;return Zt((function(){return Ht(this,(function(t){return n.throwIfClosed(),[2,!1]}))}))()},i.eT=function(){var t=this;return Zt((function(){return Ht(this,(function(n){return t.throwIfClosed(),[2]}))}))()},i.ir=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.throwIfClosed(),n.WT=new Gc,Gn.Mm||Gn.Cm?[2,vd.Qo(Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.doUpdate(t)];case 1:return i.sent(),[2]}}))})))]:[4,n.doUpdate(t)];case 1:return i.sent(),[2]}}))}))()},i.doUpdate=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return void 0===n.WT?[2]:(i=n.$T)?[3,2]:[4,n.ek.Ub];case 1:i=r.sent(),r.label=2;case 2:return i.webkitAddKey(n.nT,Tc(t),n.hk,n.QS),[4,n.WT.Ub];case 3:return r.sent(),Gn.Cm?[4,$o(500)]:[3,5];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))()},i.throwIfClosed=function(){if(this.$b)throw new _("Already closing or closed.")},i.DT=function(t){this.nk.Fb(),this.nk.Bb(Zc,t),this._o(new ha(this.nk))},i.ck=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:return(i=t.$T)?[3,2]:[4,t.ek.Ub];case 1:i=r.sent(),r.label=2;case 2:if(!(n=i).webkitCancelKeyRequest)return[3,7];r.label=3;case 3:return r.trys.push([3,4,5,7]),n.webkitCancelKeyRequest(t.nT,t.rk),[3,7];case 4:return r.sent(),[3,7];case 5:return[4,$o(500)];case 6:return r.sent(),[7];case 7:return[2]}}))}))()},Nt(n,[{key:"pb",get:function(){return this.nk}},{key:"QS",get:function(){return this.rk},set:function(t){this.rk=t}},{key:"qS",get:function(){return this.AT.Ub}},{key:"YS",get:function(){return NaN}}]),n}(ra),ld=function(){function t(t,n){var i=this;this.cT=t,this.kd=n,this.$T=void 0,this.fk=rs(),this._k=[],this.PT=function(t){var n=i.vk(t.sessionId);n&&n.KT()},this.lk=function(t){var n=i.vk(t.sessionId);n&&n.jT(t)},this.dk=function(t){var n=i.vk(t.sessionId);n&&n.QT(t)}}var n=t.prototype;return n.kn=function(t){return this.$T=t,this.$T.addEventListener("webkitkeyadded",this.PT),this.$T.addEventListener("webkitkeyerror",this.lk),this.$T.addEventListener("webkitkeymessage",this.dk),this.fk.forEach((function(n,i){return n.JT(t)})),this._k.forEach((function(n){return n.JT(t)})),et.resolve()},n.dT=function(t){return t.removeEventListener("webkitkeyadded",this.PT),t.removeEventListener("webkitkeyerror",this.lk),t.removeEventListener("webkitkeymessage",this.dk),this.$T=void 0,et.resolve()},n.nr=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:n=t.fk.entries(),i=n.next(),r.label=1;case 1:return i.done?[3,3]:[4,i.value[1].ck()];case 2:return r.sent(),i=n.next(),[3,1];case 3:return t.fk.clear(),[2]}}))}))()},n.aT=function(t,n,i){var r=this;return Zt((function(){var t;return Ht(this,(function(n){return t=new dd(r.cT),r.$T&&t.JT(r.$T),r._k.push(t),[2,t]}))}))()},n.lT=function(t){return et.resolve(!1)},n.vk=function(t){if(t){var n=this.fk.get(t);return n||((n=this._k.shift())?(n.QS=t,this.fk.set(t,n),n):void 0)}},t}(),gd=function(){function t(t,n){this.cT=t,this.gk=n}var n=t.prototype;return n._T=function(){return et.resolve(new ld(this.cT,this.gk))},n.mT=function(){return this.gk},t}(),wd=function(){function t(){}return t.prototype.Dw=function(t,n){try{return et.resolve(function(t,n){if(!wd.yT())throw new _("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=Fv(md,aa,t,r);if(e)return new gd(t,e)}throw new _("Unsupported key system configuration for "+t)}(t,n))}catch(t){return et.reject(t)}},t.yT=function(){return Qs()},t}();function md(t,n){var i=Ci();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}F(),Tt();var yd,pd=function(){function t(){}return t.prototype.Dw=function(t,n){return t===_s||t===ms?et.resolve(void 0):et.reject(new p("DRM configuration not supported"))},t}();function _d(){return yd||(yd=function(){var t=[];sd.yT()&&t.push(new sd);zv.yT()&&t.push(new zv);qv.yT()&&t.push(new qv);wd.yT()&&t.push(new wd);Gn.Bm&&t.push(new pd);return new cd(t)}()),yd}F(),Tt(),Rt(),F(),Tt();var bd=function(){function t(){this.pk=rs()}var n=t.prototype;return n.Fb=function(t){this.pk.delete(t)},n.wk=function(){this.pk.clear()},n.Lb=function(t){return this.pk.get(t)},n.Bb=function(t,n){this.pk.set(t,n)},t}(),kd=function(){function t(){}return t.yk=function(){return t.Vg||(t.Vg=Ad.yT()?new Ad:new bd),t.Vg},t.Fb=function(n){t.yk().Fb(n)},t.wk=function(){t.yk().wk()},t.Lb=function(n){return t.yk().Lb(n)},t.Bb=function(n,i){t.yk().Bb(n,i)},t}();kd.Vg=void 0;var Ad=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.Fb=function(t){self.sessionStorage.removeItem(t)},i.wk=function(){self.sessionStorage.clear()},i.Lb=function(t){var n;return null!=(n=self.sessionStorage.getItem(t))?n:void 0},i.Bb=function(t,n){self.sessionStorage.setItem(t,n)},n.yT=function(){var t="foobar";try{return self.sessionStorage.setItem(t,t),self.sessionStorage.removeItem(t),!0}catch(t){return!1}},n}(kd);F(),Tt(),F(),Tt();var Td=function(){var t=self.Blob;if(t)try{new t;return function(t){return function(n,i){return new t(n,i)}}(t)}catch(t){}var n=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder;if(n)return function(t){return function(n,i){var r=new t;if(n)for(var e=0;e<n.length;e++){var u=n[e];r.append(u)}return r.getBlob(i&&i.type||"")}}(n)}();function Sd(t,n,i){var r=Td([n],{type:"application/octet-stream"}),e=URL.createObjectURL(r),u=function(t,n){var i=t,r=i.indexOf("?");if(r>=0&&(i=i.substr(0,r)),i=i.substr(i.lastIndexOf("/")+1),n){var e=i.indexOf(".");e<0&&(e=i.length),i=i.substr(0,e)+n+i.substr(e)}return i}(t,i),s=v.createElement("a");s.href=e,s.download=u,v.body.appendChild(s),s.click(),v.body.removeChild(s),URL.revokeObjectURL(e)}F(),Tt();var Ed="default";F(),Tt(),Dt(),F(),Tt(),F(),Tt(),Rt(),F(),Tt();var Id=function(t){return t.bk="arraybuffer",t.Ak="json",t.Sk="stream",t.Tk="text",t}({});F(),Tt(),nn();var Rd=function(){function t(n){var i=this;this.P_={},n instanceof t?n.asList().forEach((function(t){var n=tn(t,2),r=n[0],e=n[1];i.append(r,e)})):Array.isArray(n)?n.forEach((function(t){var n=tn(t,2),r=n[0],e=n[1];i.append(r,e)})):n&&b.getOwnPropertyNames(n).forEach((function(t){i.append(t,n[t])}))}var n=t.prototype;return n.append=function(t,n){var i=t,r=n;i=Cd(i),r=Nd(r);var e=i.toLowerCase();if(this.P_.hasOwnProperty(e)){var u=this.P_[e],s=u[1];u[1]=s?s+", "+r:r}else this.P_[e]=[i,r]},n.delete=function(t){var n=Cd(t).toLowerCase();delete this.P_[n]},n.get=function(t){var n=Cd(t).toLowerCase();return this.P_.hasOwnProperty(n)?this.P_[n][1]:null},n.has=function(t){var n=Cd(t).toLowerCase();return this.P_.hasOwnProperty(n)},n.set=function(t,n){var i=t,r=(i=Cd(i)).toLowerCase();this.P_[r]=[i,Nd(n)]},n.forEach=function(t,n){for(var i in this.P_)this.P_.hasOwnProperty(i)&&t.call(n,this.P_[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.P_)if(this.P_.hasOwnProperty(n)){var i=tn(this.P_[n],2),r=i[0],e=i[1];t.push([r,e])}return t},n.Ek=function(){var t={};return this.forEach((function(n,i){t[i]=n})),t},n.xk=function(t){var n=this;t.forEach((function(t,i){n.append(i,t)}))},n.Rk=function(t){var n=this;t.forEach((function(t,i){n.set(i,t)}))},t}();function Cd(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new _("Invalid character in header field name");return n}function Nd(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt(),nn(),F(),Tt();var Dd=V(en());F(),Tt(),Dt(),Rt();var Pd=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return It(n,t),Nt(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(Mo),xd=t,Ld=si(xd.ReadableStream)&&si(xd.WritableStream)&&si(xd.TransformStream)&&ui(xd.ReadableStream.prototype.pipeThrough)&&!Nr.lp,Md=Ld?xd.ReadableStream:Dd.ReadableStream,Od=(Ld?xd.WritableStream:Dd.WritableStream,Ld?xd.TransformStream:Dd.TransformStream),Bd=(Ld&&xd.ByteLengthQueuingStrategy?xd.ByteLengthQueuingStrategy:Dd.ByteLengthQueuingStrategy,Ld&&xd.CountQueuingStrategy?xd.CountQueuingStrategy:Dd.CountQueuingStrategy);function Vd(t){return function(t){return new Md({start:function(n){for(var i=0;i<t.length;i++){var r=t[i];n.enqueue(r)}n.close()}})}([t])}function Fd(t){return Vd(function(t){return new E(t)}(t))}function Ud(t,n){return function(t,n){var i=n,r=t.getReader(),e=new Gc,u=function(){s();var t=new Oo;r.cancel(t).catch(bi),e.Wb(t)},s=function(){i&&(i.Vw(u),i=void 0)};i&&(i.Fw?u():i.Ww(u));var o=[],a=function(t){return t.done?(s(),et.resolve(o)):(o.push(t.value),et.resolve(r.read()).then(a))};return et.resolve(r.read()).then(a).then((function(t){s(),e.Vb(t)}),(function(t){s(),e.Wb(t)})),e.Ub}(t,n).then((function(t){return Oc(t).buffer}))}function Wd(t,n){var i=n,r=new Od,e=r.readable,u=r.writable,s=u.getWriter(),o=function(){i&&i.jw()};return s.closed.then(o,o),t.then((function(t){return i=void 0,s.releaseLock(),t.pipeTo(u).catch(bi)}),(function(t){return i=void 0,s.releaseLock(),u.abort(t).catch(bi)})),e}function Zd(t){var n=new Od,i=n.readable,r=n.writable;return t.pipeTo(r,{preventCancel:!0}).catch((function(n){var i;i=qn(n)?n[0]===n[1]||Bo(n[0])&&Bo(n[1])?n[0]:new Pd(n):n,t.cancel(i).catch(bi)})),i.tee()}function Xd(t){return wc(new E(t))}function Gd(t){return mc(t).buffer}F(),Tt();var Hd="content-type",zd="text/plain;charset=UTF-8",Yd=function(){function t(){}var n=t.prototype;return n.Ik=function(t){return this.Ck(t).then(JSON.parse)},n.Pk=function(t,n){switch(t){case Id.bk:return this.Dk(n);case Id.Ak:return this.Ik(n);case Id.Sk:return this.Nk();case Id.Tk:return this.Ck(n);default:throw new _}},t}();function jd(t,n,i){if(t instanceof Yd)return t;if(t instanceof Md)return function(t,n){return new qd({Tw:0,Nk:t,Mk:Kd(n)})}(t,i);var r=Kd(i),e=et.resolve(t).then((function(t){return function(t,n){if(t){if("string"==typeof t)return{Tw:Id.Tk,Lk:t,Mk:n||zd};if(t instanceof ArrayBuffer||Pc(t))return{Tw:Id.bk,Lk:rl(t),Mk:n};if($n(t)||qn(t))return{Tw:Id.Ak,Lk:t,Mk:n};throw new _("Unsupported BodyInit type")}return{Tw:Id.Tk,Lk:null,Mk:n}}(t,r)}));return new qd({Tw:1,Ub:e,Bk:n})}function Kd(t){return(t.get(Hd)||"").toLowerCase()}var qd=function(t){function n(n){var i;return(i=t.call(this)||this).Fk=!1,i.Gk=new Gc,i.Gk.Ub.catch(bi),i.Xk(n),i}It(n,t);var i=n.prototype;return i.Uk=function(){return this.Gk.Ub},i.Ck=function(t){return this.Hk(Jd,t)},i.Ik=function(t){return this.Hk($d,t)},i.Dk=function(t){return this.Hk(nl,t)},i.Nk=function(){return this.Zk(function(t){return 0===t.Tw?t.Nk:Wd(t.Ub.then(il).then(Fd),t.Bk)}(this.Wk))},i.Hk=function(t,n){if(this.Fk)return et.reject(new _("Already used"));this.Fk=!0;var i=t(this.Wk,n);return this.Gk.Qw(i.then(bi)),i},i.Zk=function(t){if(this.Fk)throw new _("Already used");if(t.locked)throw new _("Body stream is locked");this.Fk=!0;var n=new Od,i=et.resolve(t.pipeTo(n.writable));return this.Gk.Qw(i),n.readable},i.Xk=function(t){this.Wk=t,1===t.Tw&&t.Ub.catch(bi)},i.zk=function(){if(this.Fk)throw new _("Already used");var t=function(t){if(0===t.Tw){var n=tn(t.Nk.tee(),2),i=n[0],r=n[1];return[{Tw:t.Tw,Nk:i,Mk:t.Mk},{Tw:t.Tw,Nk:r,Mk:t.Mk}]}var e=tn(t.Bk.Jw(),2),u=e[0],s=e[1];return[{Tw:t.Tw,Ub:t.Ub,Bk:u},{Tw:t.Tw,Ub:t.Ub,Bk:s}]}(this.Wk),i=t[0],r=t[1];return this.Xk(i),new n(r)},Nt(n,[{key:"Ok",get:function(){return this.Fk}},{key:"Vk",get:function(){return 0===this.Wk.Tw}}]),n}(Yd);function Jd(t,n){return 0===t.Tw?Ud(t.Nk,n).then(Xd):(n&&t.Bk.Qw(n),Zo(t.Ub.then(Qd),t.Bk))}function Qd(t){switch(t.Tw){case Id.Tk:return et.resolve(t.Lk||"");case Id.bk:return et.resolve(t.Lk).then(Xd);case Id.Ak:return et.resolve(t.Lk).then(JSON.stringify)}}function $d(t,n){return 0===t.Tw?Jd(t,n).then(JSON.parse):(n&&t.Bk.Qw(n),Zo(t.Ub.then(tl),t.Bk))}function tl(t){return t.Tw===Id.Ak?et.resolve(t.Lk):Qd(t).then(JSON.parse)}function nl(t,n){return 0===t.Tw?Ud(t.Nk,n):(n&&t.Bk.Qw(n),Zo(t.Ub.then(il),t.Bk))}function il(t){switch(t.Tw){case Id.bk:return et.resolve(t.Lk);case Id.Tk:case Id.Ak:return Qd(t).then(Gd)}}function rl(t){return t instanceof ArrayBuffer?t:Ec(kc(t)).buffer}var el=function(t){function n(n){var i;return(i=t.call(this)||this).qk=n,i}It(n,t);var i=n.prototype;return i.Uk=function(){return this.qk.Uk()},i.Ck=function(t){return this.qk.Ck(t)},i.Ik=function(t){return this.qk.Ik(t)},i.Dk=function(t){return this.qk.Dk(t)},i.Nk=function(t){return this.qk.Nk(t)},i.zk=function(){return this.qk.zk()},Nt(n,[{key:"Ok",get:function(){return this.qk.Ok}},{key:"Vk",get:function(){return this.qk.Vk}}]),n}(Yd);function ul(t){return t.Yk>=200&&t.Yk<=299||304===t.Yk}var sl=function(t){function n(n,i){var r,e,u,s,o,a;i?(e=i.Jk,u=i.jk,s=i.Yk,o=i.$k,a=i.tE):(e=[],u=Id.Tk,s=200,o="OK",a=!1);var c=n.Qk,h=new Rd(n.Jk||e),f=n.jk||u,v=n.eE||(i&&i.Qk===c?i.eE:c.Xu),d=i?i.qk:null,l=jd(void 0!==n.Kk?n.Kk:d,n.Bk||new Yo,h);return(r=t.call(this,l)||this).Jk=h,r.Qk=c,r.eE=v,r.jk=f,r.Yk=void 0!==n.Yk?n.Yk:s,r.$k=void 0!==n.$k?String(n.$k):o,r.tE=n.tE||a,r}It(n,t);var i=n.prototype;return i.Kk=function(t){return this.Pk(this.jk,t)},i.Ib=function(){return new n({Kk:this.zk(),Qk:this.Qk},this)},n}(el);F(),Tt();var ol=function(t){return t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT",t}({}),al=function(t){return t.iE="",t.sE="manifest",t.nE="segment",t.rE="preload-hint",t.oE="content-protection",t}({}),cl=function(t){return t.iE="",t.hE="initialization-segment",t.aE="fairplay-license",t.uE="fairplay-certificate",t.cE="widevine-license",t.lE="widevine-certificate",t.dE="playready-license",t.fE="clearkey-license",t._E="aes128-key",t}({}),hl=function(t){return t.iE="",t.vE="audio",t.mE="video",t.Tk="text",t.gE="image",t}({}),fl=function(t){return t.pE="same-origin",t.wE="no-cors",t.yE="cors",t.bE="navigate",t}({}),vl=function(t,n){var i,r,e,u,s,o,a,c,h,f,v,d,l,g,w,m,y,p,_=t.Xu;n?(i=n.Lk,r=n.Jk,e=n.AE,u=n.jk,s=n.SE,o=n.TE,a=n.Uw,c=n.Tw,h=n.kE,f=n.EE,v=n.xE,d=n.RE,l=n.CE,g=n.PE,w=n.DE):(i=null,r={},e="GET",u=Id.Tk,s=0,o=0,c="",h="",f="",v=!1,l=void 0,g=!1,w=void 0),this.Xu=_,this.Lk=t.Lk||i,this.Jk=new Rd(t.Jk||r),this.AE=t.AE||e,this.jk=t.jk||u,this.SE=void 0!==t.SE?Number(t.SE)||0:s,this.TE=void 0!==t.TE?Number(t.TE)||0:o,this.Uw=t.Uw||a||(new Yo).Uw,this.Tw=t.Tw||c,this.kE=t.kE||h,this.EE=t.EE||f,this.xE=void 0!==t.xE?Boolean(t.xE):v,this.RE=t.RE||d,this.CE=null!=(m=t.CE)?m:l,this.PE=null!=(y=t.PE)?y:g,this.DE=null!=(p=t.DE)?p:w},dl=function(){function t(){}var n=t.prototype;return n.Qk=function(t){var n=function(t){return new sl({Kk:null,Jk:{},Qk:t,eE:t.Xu,jk:t.jk,Yk:0,$k:oa.Zy})}(new vl(t));return et.resolve(n)},n.NE=function(t){},n.yn=function(){},t}();var ll=function(){function t(t,n){void 0===n&&(n=!0),this.FE=t,this.WE=n}var n=t.prototype;return n.Qk=function(t){var n=this.OE(t);return this.FE.Qk(n)},n.NE=function(t){return this.FE.NE(this.VE(t))},n.OE=function(n){var i=new vl(n);if(!this.WE){var r=t.UE(i.Xu);i=new vl({Xu:r},i)}return i},n.VE=function(n){var i=n.Xu;return this.WE||(i=t.UE(i)),{Xu:i,Lk:n.Lk}},n.yn=function(){this.FE.yn()},t.UE=function(t){return Kn.uw&&Fs(t,"http://")?t.replace(":","s:"):t},Nt(t,null,[{key:"LE",get:function(){return t.BE||(t.BE=new t(new dl)),t.BE}}]),t}();function gl(t,n){var i=Kn.Ih(t);return wl(i,n),i.toString()}function wl(t,n){for(var i=0,r=b.keys(n);i<r.length;i++){var e=r[i];t.searchParams.set(e,n[e])}}function ml(t,n){var i=Kn.ew(t);return n&&!Us(i,"/")&&(i+="/"),i}ll.BE=void 0,F(),Tt(),F(),Tt(),Gt(),Dt(),Rt(),nn(),qt(),F(),Tt();var yl=/cache:(.+)?(?=&|$)/,pl="http://webcache.googleusercontent.com/search?q=cache:";function _l(t){if(!Fs(t,pl))return"";var n=Kn.Ih(t).search.match(yl);return n&&n.length>1?n[1]:""}function bl(t){return Kn.Ih(".",t)}F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt();var kl=function(t){return t.GE="HttpOpenError",t.HE="HttpResponseError",t.ZE="HttpTimeoutError",t}({}),Al=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).XE=n,e}return It(n,t),Nt(n,[{key:"Qk",get:function(){return this.XE}}]),n}(Mo);var Tl=function(t){function n(n,i){return t.call(this,n,function(t){return"Error while opening "+t+". Invalid URL."}(n.Xu),i)||this}return It(n,t),Nt(n,[{key:"name",get:function(){return kl.GE}}]),n}(Al);F(),Tt(),Dt(),Rt();var Sl=function(t){function n(n,i,r){var e;return(e=t.call(this,n.Qk,null!=r?r:function(t){return"Error while loading "+t.Qk.Xu+", status code "+t.Yk}(n),i)||this).qE=n,e}return It(n,t),Nt(n,[{key:"name",get:function(){return kl.HE}},{key:"zE",get:function(){return this.qE}}]),n}(Al);F(),Tt(),Dt(),Rt();var El=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.Xu+" timed out after "+t.SE+" seconds."}(n),i)||this}return It(n,t),Nt(n,[{key:"name",get:function(){return kl.ZE}}]),n}(Al);F(),Tt();var Il=self.fetch,Rl=self.Request,Cl=self.Response,Nl=self.Headers,Dl=self.ReadableStream,Pl=self.AbortSignal,xl=self.AbortController,Ll=Si((function(){try{return ui(Il)&&si(Rl)&&si(Cl)&&si(Nl)&&"forEach"in Nl.prototype&&ts()}catch(t){return!1}})),Ml=["http:","https:"];var Ol=Si((function(){try{return Ll()&&si(Pl)&&si(xl)&&"signal"in Rl.prototype}catch(t){return!1}})),Bl=Si((function(){try{return Ll()&&si(Dl)&&"body"in Cl.prototype&&!Gn.um}catch(t){return!1}}));function Vl(t){return t instanceof Al}function Fl(t){return t instanceof Sl}function Ul(t,n){var i,r=t.Jk.has("content-length")?Number(t.Jk.get("content-length")):void 0;return i=t.Vk?function(t,n,i){return t.pipeThrough(new Od(new Wl(n,i)))}(t.Nk(),n,r):function(t,n,i){return Zl.apply(this,arguments)}(t.Dk(),n,r),new sl({Kk:i,Qk:t.Qk},t)}F(),Tt(),F(),Tt(),Gt(),qt();var Wl=function(){function t(t,n){this.KE=t,this.jE=n,this.YE=0}var n=t.prototype;return n.transform=function(t,n){this.YE+=t.byteLength,this.KE(this.YE,this.jE),n.enqueue(t)},n.flush=function(t){var n;this.KE(this.YE,null!=(n=this.jE)?n:this.YE)},t}();function Zl(){return Zl=Zt((function(t,n,i){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return[4,et.resolve()];case 1:return u.sent(),n(0,i),[4,t];case 2:return r=u.sent(),e=r.byteLength,n(e,null!=i?i:e),[2,r]}}))})),Zl.apply(this,arguments)}var Xl=function(){function t(t){this.GT=new Yo,this.qE=void 0,this.JE=0,this.$E=!1,this.XE=t,this.GT.Qw(t.Uw),this.zE=this.QE()}var n=t.prototype;return n.QE=function(){var t=this;return Zt((function(){var n,i,r,e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:(n=t.XE).SE&&(t.JE=g((function(){t.$E=!0,t.GT.jw()}),n.SE),t.GT.Uw.qw((function(){w(t.JE)})));try{i=Il(n.Xu,{method:n.AE,headers:n.Jk.Ek(),body:n.Lk,credentials:n.xE?"include":"same-origin",signal:zl(t.GT.Uw),mode:n.CE,keepalive:n.DE})}catch(t){throw new Tl(n,t)}h.label=1;case 1:return h.trys.push([1,3,,4]),[4,i];case 2:return r=h.sent(),[3,4];case 3:throw e=h.sent(),Bo(u=t.tx(e))&&t.GT.jw(),u;case 4:if(s=r.url||n.Xu,o=0===r.status&&"file:"===function(t){return Kn.Ih(t).protocol}(s)?200:r.status,a=new Gl(t,r,t.GT),!ul(c=new sl({Kk:a,Qk:n,jk:n.jk,Jk:Yl(r.headers),Yk:o,$k:r.statusText,eE:s})))throw new Sl(c);return n.RE&&(c=Ul(c,n.RE)),[2,c]}}))}))()},n.tx=function(t){return Vl(t)?t:Bo(t)?this.$E?new El(this.XE):new Oo(t.message,t):this.qE?new Sl(this.qE,t):new Tl(this.XE,t)},t}(),Gl=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Gk=new Gc,e.sx=n,e.ix=i,e.GT=r,e.Gk.Ub.catch(bi),e}It(n,t);var i=n.prototype;return i.Uk=function(){return this.Gk.Ub},i.Ck=function(t){return this.Hk(this.ix.text(),t)},i.Dk=function(t){return this.Hk(this.ix.arrayBuffer(),t)},i.Nk=function(){var t=this.ix.body;return t?this.Zk(t):Wd(this.Dk().then(Fd),this.GT)},i.zk=function(){var t=this.ix.clone(),i=tn(this.GT.Jw(),2),r=i[0],e=i[1];return this.GT=r,new n(this.sx,t,e)},i.Hk=function(t,n){var i=this;n&&this.GT.Qw(n);var r=Wo(et.resolve(t),this.GT.Uw).catch((function(t){throw i.sx.tx(t)}));return r=Zo(r,this.GT),this.Gk.Qw(r.then(bi)),r},i.Zk=function(t){var n=this;return new Md(new jl(t,(function(t){return n.sx.tx(t)}),this.GT,this.Gk),{highWaterMark:0})},Nt(n,[{key:"Ok",get:function(){return this.ix.bodyUsed}},{key:"Vk",get:function(){return Yn(this.ix.body)}}]),n}(Yd),Hl="abort";function zl(t){if(Ol()){var n=new xl;if(t.Fw)n.abort();else if(!t.Hw){var i=function(){r(),n.abort()},r=function(){n.signal.removeEventListener(Hl,i),t.Vw(i),t.Yw(r)};n.signal.addEventListener(Hl,i),t.Ww(i),t.qw(r)}return n.signal}}function Yl(t){if(function(t){return Qn(t)&&"function"==typeof t.forEach}(t)){var n=new Rd;return t.forEach((function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)})),n}return new Rd(t)}var jl=function(){function t(t,n,i,r){this.nx=t,this.ox=n,this.GT=i,this.Gk=r}var n=t.prototype;return n.start=function(t){this.Od=this.nx.getReader()},n.pull=function(t){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Wo(n.Od.read(),n.GT.Uw)];case 1:return i=u.sent(),[3,3];case 2:return r=u.sent(),e=n.ox(r),n.Gk.Wb(e),n.GT.jw(),n.Od.cancel(e).catch(bi),t.error(e),[2];case 3:return i.done?(n.Gk.Vb(),n.GT.jw(),t.close()):t.enqueue(i.value),[2]}}))}))()},n.cancel=function(t){return this.GT.jw(),this.Gk.Wb(t),this.Od.cancel(t)},t}();F(),Tt(),Dt();var Kl=function(){function t(t){var n=this;this.GT=new Yo,this.qE=void 0,this.hx=new Gc,this.bx=!1,this.yx=function(){var t;n.lx(),null==(t=n.ux)||t.abort()},this.XE=t,this.GT.Qw(t.Uw),this.ux=new R,this.QE()}var n=t.prototype;return n.QE=function(){var t=this,n=this.ux,i=this.XE;if(i.Uw.Fw)return this.lx();n.onreadystatechange=function(){return t._x()},n.onprogress=function(n){return t.KE(n)},n.onload=function(){return t.vx()},n.onloadend=function(){return t.mx()},n.onerror=function(){return t.gx()},n.ontimeout=function(){return t.wx()},n.onabort=function(){return t.lx()},n.open(i.AE,i.Xu,!0),n.withCredentials=Boolean(i.xE),"responseType"in n&&i.jk&&(i.jk===Id.Tk?n.responseType="text":n.responseType="arraybuffer"),i.Jk.forEach((function(t,i){n.setRequestHeader(i,t)})),i.SE&&(n.timeout=i.SE),this.GT.Uw.Ww(this.yx);var r=i.Lk;r?n.send(r):n.send()},n._x=function(){var t=this.ux;void 0!==t&&t.readyState>=2&&!this.bx&&(this.bx=!0,this.Ax())},n.Ax=function(){var t,n,i=this.ux,r=function(t){var n=new Rd,i=t.replace(/\r?\n[\t ]+/g," ");return i.split(/\r?\n/).forEach((function(t){var i=t.split(":"),r=i.shift().trim();if(r){var e=i.join(":").trim();n.append(r,e)}})),n}(i.getAllResponseHeaders()||""),e=this.XE;this.Sx=new Gc,this.qE=new sl({Qk:e,jk:e.jk,Kk:this.Sx.Ub,Yk:i.status,$k:i.statusText,Jk:r,eE:null!=(n=i.responseURL)?n:r.get("X-Request-URL")}),null==(t=this.hx)||t.Vb(this.qE)},n.vx=function(){var t,n=this.ux;if(void 0!==n){var i=n.response;if(!Yn(i)){var r=this.XE.jk;i=r===Id.Tk?n.responseText:r===Id.bk?new ArrayBuffer(0):{}}null==(t=this.Sx)||t.Vb(i)}},n.mx=function(){this.yn()},n.KE=function(t){void 0!==this.ux&&(null==this.XE.RE||this.XE.RE.call(this.XE,t.loaded,t.lengthComputable?t.total:void 0))},n.gx=function(){var t=new p("Network request failed");this.qE?this.Ss(new Sl(this.qE,t)):this.Ss(new Tl(this.XE,t))},n.wx=function(){this.Ss(new El(this.XE))},n.lx=function(){this.Ss(new Oo),this.yn()},n.Ss=function(t){var n,i;null==(n=null!=(i=this.Sx)?i:this.hx)||n.Wb(t)},n.yn=function(){this.ux=void 0,this.qE=void 0,this.hx=void 0,this.Sx=void 0,this.GT.Xw()},Nt(t,[{key:"zE",get:function(){return this.hx.Ub}}]),t}();function ql(t,n,i){return new et((function(r,e){if(i&&i.Fw)return e(new Oo);var u=function(t){o(),r(t)},s=function(){o(),e(new Oo)},o=function(){t.removeEventListener(n,u),i&&i.Vw(s)};t.addEventListener(n,u),i&&i.Ww(s)}))}F(),Tt();var Jl=function(){function t(){}var n=t.prototype;return n.Qk=function(t){return function(t){if(!Ll()||!function(t){try{return Ml.indexOf(new self.URL(t,self.location.href).protocol)>=0}catch(t){return!1}}(t.Xu))return!1;if(!Bl()&&t.RE)return!1;if(!t.PE&&t.AE!==ol.POST){if(Gn.Mm&&Gn.ym<=68)return!1;if(Gn.Cm)return!1}return!0}(t)?new Xl(t).zE:new Kl(t).zE},n.NE=function(t){var n=f.navigator;if(n&&n.sendBeacon)n.sendBeacon(t.Xu,Td([t.Lk],{type:t.Mk}));else{var i=t.Mk?{"Content-type":t.Mk}:void 0;this.Qk(new vl({AE:ol.POST,Xu:t.Xu,Lk:t.Lk,Jk:i,CE:fl.wE})).then((function(t){qo(t.Dk())}),bi)}},n.yn=function(){},t}();F(),Tt(),Dt(),Rt(),F(),Tt();var Ql=function(t){return t[t.Tx=1]="Tx",t[t.kx=2]="kx",t[t.Tk=3]="Tk",t[t.Ex=4]="Ex",t[t.xx=9]="xx",t}({});function $l(t){return 1===t.Rx}function tg(t){return 3===t.Rx}F(),Tt(),Rt();var ng=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return It(n,t),n}(Mo),ig=function(){function t(){}return t.prototype.Ix=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new ng(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new ng;return new cg(n)},t}(),rg=function(){function t(t){this.Px=t}var n=t.prototype;return n.Lx=function(t){return this.Px.isEqualNode(t.Px)},n.Bx=function(n){return new t(this.Px.cloneNode(n))},Nt(t,[{key:"Rx",get:function(){return Ql.kx}},{key:"Cx",get:function(){var t;return null!=(t=this.Px.localName)?t:vg(this.Px.nodeName)}},{key:"l",get:function(){return this.Px.nodeName}},{key:"Dx",get:function(){var t;return null!=(t=this.Px.namespaceURI)?t:void 0}},{key:"Nx",get:function(){var t;return null!=(t=this.Px.prefix)?t:void 0}},{key:"Mx",get:function(){return this.Px.nodeValue}}]),t}(),eg=function(){function t(t){this.Fx=void 0,this.Vx=t}var n=t.prototype;return n.Wx=function(t){return this.Ox.filter((function(n){return hg(n)&&n.Ux===t}))},n.Gx=function(t,n){return this.Ox.filter((function(i){return hg(i)&&i.Cx===n&&i.Dx===t}))},n.Zx=function(t){this.Vx.appendChild(t.Hx),this.Fx&&this.Fx.push(t)},n.Lx=function(t){return this.Vx.isEqualNode(t.Hx)},Nt(t,[{key:"Ox",get:function(){return void 0===this.Fx&&(this.Fx=function(t){for(var n=[],i=0;i<t.length;i++){var r=fg(t.item(i));r&&n.push(r)}return n}(this.Vx.childNodes)),this.Fx}},{key:"m",get:function(){return this.Ox.filter(hg)}},{key:"Hx",get:function(){return this.Vx}}]),t}(),ug=function(t){function n(n){return t.call(this,n)||this}It(n,t);var i=n.prototype;return i.qx=function(t){if(this.Vx.hasAttribute(t))return this.Vx.getAttribute(t)},i.Yx=function(t,n){if(this.Vx.hasAttributeNS(t,n))return this.Vx.getAttributeNS(t,n)},i.Kx=function(t){this.Vx.removeAttribute(t)},i.jx=function(t,n){this.Vx.removeAttributeNS(t,n)},i.Qx=function(t,n){this.Vx.setAttribute(t,n)},i.Jx=function(t,n,i){this.Vx.setAttributeNS(t,n,i)},i.Bx=function(t){return new n(this.Vx.cloneNode(t))},Nt(n,[{key:"Rx",get:function(){return Ql.Tx}},{key:"Cx",get:function(){var t;return null!=(t=this.Vx.localName)?t:vg(this.Vx.nodeName)}},{key:"Dx",get:function(){var t;return null!=(t=this.Vx.namespaceURI)?t:void 0}},{key:"Nx",get:function(){var t;return null!=(t=this.Vx.prefix)?t:void 0}},{key:"Ux",get:function(){return this.Vx.nodeName}},{key:"Xx",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new rg(t.item(i)));return n}(this.Vx.attributes)}},{key:"zx",get:function(){return this.Vx.textContent}}]),n}(eg),sg=function(){function t(t){this.Vx=t}return t.prototype.Lx=function(t){return this.Kk===t.Kk},Nt(t,[{key:"Kk",get:function(){return this.Vx.nodeValue}},{key:"Hx",get:function(){return this.Vx}}]),t}(),og=function(t){function n(n){return t.call(this,n)||this}return It(n,t),n.prototype.Bx=function(t){return new n(this.Vx.cloneNode(t))},Nt(n,[{key:"Rx",get:function(){return Ql.Tk}}]),n}(sg),ag=function(t){function n(n){return t.call(this,n)||this}return It(n,t),n.prototype.Bx=function(t){return new n(this.Vx.cloneNode(t))},Nt(n,[{key:"Rx",get:function(){return Ql.Ex}}]),n}(sg),cg=function(t){function n(n){return t.call(this,n)||this}return It(n,t),n.prototype.Bx=function(t){return new n(this.Vx.cloneNode(t))},Nt(n,[{key:"Rx",get:function(){return Ql.xx}},{key:"$x",get:function(){return new ug(this.Vx.documentElement)}}]),n}(eg);function hg(t){return $l(t)}function fg(t){switch(t.nodeType){case Ql.Tx:return new ug(t);case Ql.Tk:return new og(t);case Ql.Ex:return new ag(t)}}function vg(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}var dg=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).tR=void 0,n.iR=Bl(),n.nR=Gn.wg||Gn.um,n.oR=(Gn.wg||Gn.Mm&&Gn.ym<=68||Gn.um)&&!(Gn.Cm&&Gn.Dm<3),n._R=void 0,n.vR=new ig,n}return It(n,t),n.prototype.Ix=function(t){return this.vR.Ix(t)},Nt(n,[{key:"Xp",get:function(){return this.tR||(this.tR=new $s(_d())),this.tR}},{key:"eR",get:function(){return this.iR}},{key:"sR",get:function(){return this.nR}},{key:"rR",get:function(){return this.oR}},{key:"hR",get:function(){return!1}},{key:"aR",get:function(){return kd.yk()}},{key:"uR",get:function(){return{cR:Sd}}},{key:"lR",get:function(){return l.connection&&l.connection.effectiveType||Ed}},{key:"dR",get:function(){return l.connection&&l.connection.type||"unknown"}},{key:"fR",get:function(){return this._R||(this._R=new ll(new Jl)),this._R}}]),n}(Qu);!function(t){Kn=t}(new dg),F(),Tt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Rt();var lg=function(t){function n(n,i){var r;return(r=t.call(this,oa.hb)||this).currentTime=n,r.currentProgramDateTime=i,r}return It(n,t),n}(sa);F(),Tt(),Rt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Rt(),F(),Tt(),Rt(),F(),Tt(),Dt(),Rt();var gg=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).eu=void 0,r}return It(n,t),Nt(n,[{key:"wa",get:function(){return this.eu||(this.eu=this.ka()),this.eu}}]),n}(sa);function wg(t){return Boolean(t&&t.wa)}var mg=function(t){function n(n){return t.call(this,n)||this}return It(n,t),n}(gg),yg=function(t){function n(n){return t.call(this,n)||this}return It(n,t),n}(sa);F(),Tt();var pg=function(t){return t.VI="WI",t.UI="GI",t}({}),_g=function(t){function n(n){var i;return(i=t.call(this,pg.VI)||this).Ht=n,i}return It(n,t),n.prototype.ka=function(){return new bg(this.Ht.wa)},n}(mg),bg=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return It(n,t),n}(yg);F(),Tt(),Rt();var kg=function(t){function n(n){var i;return(i=t.call(this,pg.UI)||this).Ht=n,i}return It(n,t),n.prototype.ka=function(){return new Ag(this.Ht.wa)},n}(mg),Ag=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return It(n,t),n}(yg);F(),Tt();var Tg=function(t){return t.HI="ZI",t.XI="zI",t.qI="YI",t.KI="jI",t.QI="JI",t.$I="tC",t.da="eC",t.iC="sC",t.nC="rC",t.oC="ir",t.hC="aC",t.uC="cC",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality",t}({}),Sg=function(t){function n(){var n;return(n=t.call(this)||this).dC=[],n.eu=void 0,n}It(n,t);var i=n.prototype;return i.fC=function(t){return this.dC[t]},i.tt=function(t){return!(!t||po(this.dC,t))&&(this.dC.push(t),this.eu&&this.eu.push(t.wa),t.bn(Tg.da,this.Ds),this._o(new _g(t)),!0)},i.it=function(t){if(!t)return!1;var n=this.dC.indexOf(t);return!(n<0)&&(mo(this.dC,n),this.eu&&mo(this.eu,n),t.vn(Tg.da,this.Ds),this._o(new kg(t)),!0)},i._C=function(t){return po(this.dC,t)},i.nr=function(){for(var t=this.dC,n=t.length-1;n>=0;n-=1)this.it(t[n])},i.yn=function(){this.nr(),this.Ro()},Nt(n,[{key:"lC",get:function(){return this.dC}},{key:"wa",get:function(){return this.eu||(this.eu=this.ka()),this.eu}},{key:"V",get:function(){return this.dC.length}}]),n}(ra);F(),Tt(),F(),Tt(),F(),Tt();var Eg=b.freeze||ki;function Ig(t,n,i){b.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function Rg(t,n){for(var i=0,r=b.getOwnPropertyNames(n);i<r.length;i++){var e=r[i];b.defineProperty(t,e,b.getOwnPropertyDescriptor(n,e))}return t}function Cg(t){if($n(t)){var n={};for(var i in t)Hn.call(t,i)&&(n[i]=Cg(t[i]));return n}if(qn(t)){for(var r=new Array(t.length),e=0;e<r.length;e++)e in t&&(r[e]=Cg(t[e]));return r}return t}function Ng(t,n){return t===n||!(!t||!n)&&(!(!Qn(t)||!Qn(n))&&(Jn(t)?!!Jn(n)&&function(t,n){var i=t.length,r=n.length;if(i!==r)return!1;for(var e=0;e<i;e+=1)if(!Ng(t[e],n[e]))return!1;return!0}(t,n):!Jn(n)&&function(t,n){var i=b.keys(t),r=b.keys(n);if(!i||!r||i.length!==r.length)return!1;for(var e=0;e<i.length;e++){var u=i[e];if(!Hn.call(n,u)||!Ng(t[u],n[u]))return!1}return!0}(t,n)))}function Dg(t,n){return t.constructor===n.constructor}function Pg(t){for(var n={},i=0,r=b.keys(t);i<r.length;i++){var e=r[i],u=t[e];null!=u&&(n[e]=u)}return n}function xg(t){for(var n={},i=0,r=b.keys(t);i<r.length;i++){var e=r[i],u=t[e];if(Jn(u)){for(var s=[],o=0;o<u.length;o+=1){var a=u[o];if(null!=a){var c=Qn(a)?xg(a):a;s.push(c)}}n[e]=s}else null!=u&&(n[e]=Qn(u)?xg(u):u)}return n}function Lg(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function Mg(t){return Yn(t)?Lg(t):void 0}function Og(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function Bg(t){var n=Og(t);if(S(n))throw new p("Expected a valid number.");return n}function Vg(t){return"string"==typeof t?t:""}function Fg(t,n){if(!Jn(t))return[];for(var i=0|t.length,r=new Array(i),e=0;e<i;e++)r[e]=n(t[e]);return r}function Ug(t,n){return Jn(t)?Fg(t,n):n(t)}F(),Tt();var Wg=[pg.VI,pg.UI,Tg.da];function Zg(t){var n,i=t.lC.map((function(t){return t.wa}));return i.item=function(n){var i=0|n,r=t.fC(i);return r&&r.wa||void 0},i.addEventListener=function(t,i){n.bn(t,i)},i.removeEventListener=function(t,i){n.vn(t,i)},n=new ea(i),t.bn(Wg,(function(t){return n._o(t.wa)})),i}F(),Tt();var Xg=function(t){return t[t.AC=0]="AC",t[t.SC=1]="SC",t[t.TC=2]="TC",t[t.kC=3]="kC",t[t.EC=4]="EC",t[t.TRANSCRIBES_SPOKEN_DIALOG=5]="TRANSCRIBES_SPOKEN_DIALOG",t[t.DESCRIBES_MUSIC_AND_SOUND=6]="DESCRIBES_MUSIC_AND_SOUND",t[t.xC=7]="xC",t}({});function Gg(t){switch(t){case 0:return"caption";case 2:return"sign";case 1:return"description";case 3:return"enhanced audio intelligibility";case 4:return"easy reader";case 5:return"transcribes spoken dialog";case 6:return"describes music and sound";case 7:return"describes video"}}function Hg(){}function zg(t){var n,i=[Tg.oC,Tg.da,Tg.hC,Tg.uC,Tg.QUALITY_UNAVAILABLE],r={get activeQuality(){return t.RC&&t.RC.wa},get enabled(){return t.Rt},set enabled(n){t.Rt=Lg(n)},get id(){return t.o},get uid(){return t.IC},get kind(){return t.Lt},get label(){return t.Ch},set label(n){t.Ch=Vg(n)},get accessibility(){var n,i;return null!=(i=null==(n=t.DC)?void 0:n.map(Gg))?i:[]},get language(){return t.gs},get qualities(){return t.NC.wa},set targetQuality(n){var i;i=n?function(t,n){for(var i=[],r=0,e=t.NC.lC;r<e.length;r++)for(var u=e[r],s=0;s<n.length;s++){var o=n[s];u.wa===o&&i.push(u)}return i}(t,qn(n)?n:[n]):[],i.length>0?t.MC=i:t.MC=void 0},get targetQuality(){if(t.MC)return 1===t.MC.length?t.MC[0].wa:t.MC.map((function(t){return t.wa}))},addEventListener:function(t,i){var r=Ug(t,Vg);n.bn(r,i)},removeEventListener:function(t,i){var r=Ug(t,Vg);n.vn(r,i)}};return n=new ea(r),t.bn(i,(function(t){return n._o(t.wa)})),b.defineProperty(r,"constructor",{value:Hg}),r}function Yg(){}function jg(t){var n=Zg(t);return b.defineProperty(n,"constructor",{value:Yg}),n}var Kg=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.tt=function(n){return t.prototype.tt.call(this,n)},i.ka=function(){return jg(this)},n}(Sg);F(),Tt(),F(),Tt();var qg=function(t){return t.vE="audio",t.mE="video",t.Tk="text",t.gE="image",t.iE="unknown",t}({});function Jg(t){return"audio"===t||"video"===t}F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt();var Qg=function(t){function n(n,i,r,e,u,s,o,a){var c;return(c=t.call(this,n,i,r)||this).url=e,c.status=u,c.statusText=s,c.response=o,c.systemCode=a,c}return It(n,t),Nt(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(id);var $g=function(t){return t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR",t}({}),tw=function(t){function n(n,i,r,e){var u;return(u=t.call(this,i)||this).code=n,u.message=null!=i?i:"Unknown error",u.cause=r,u.systemCode=e,p.captureStackTrace&&p.captureStackTrace(u,u.constructor),u}return It(n,t),Nt(n,[{key:"name",get:function(){return"MediaError"}}]),n}(Lo);function nw(t){Ig(t,"MEDIA_ERR_ABORTED",1),Ig(t,"MEDIA_ERR_NETWORK",2),Ig(t,"MEDIA_ERR_DECODE",3),Ig(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",4),Ig(t,"MEDIA_ERR_ENCRYPTED",5)}function iw(t){var n,i;return function(t){return t.category===nd.CONTENT_PROTECTION}(t)?new tw(5,t.message,null==(n=t.cause)?void 0:n.message,t.systemCode):new tw(function(t){if(t===td.MEDIA_ABORTED)return 1;if(t===td.MANIFEST_LOAD_ERROR||t===td.MEDIA_LOAD_ERROR||t===td.SUBTITLE_LOAD_ERROR)return 2;if(t===td.MEDIA_DECODE_ERROR)return 3;if(t===td.MEDIA_NOT_SUPPORTED)return 4;var n=nd.fromCode(t);if(n===nd.NETWORK)return 2;if(n===nd.SOURCE)return 4;if(n===nd.LICENSE)return 6;if(n===nd.CONTENT_PROTECTION)return 5;if(n===nd.AD)return 7;return 3}(t.code),t.message,null==(i=t.cause)?void 0:i.message)}function rw(t){return new id(ew(t.code),t.message,t)}function ew(t){switch(t){case 1:return td.MEDIA_ABORTED;case 2:return td.NETWORK_ERROR;case 3:return td.MEDIA_DECODE_ERROR;case 4:return td.SOURCE_NOT_SUPPORTED;case 5:return td.CONTENT_PROTECTION_ERROR;case 6:return td.LICENSE_ERROR;case 7:return td.AD_ERROR}}nw(tw),nw(tw.prototype),F(),Tt(),Dt(),Rt(),F(),Tt(),Rt();var uw=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n}(ua);F(),Tt(),Dt(),F(),Tt();var sw=function(){function t(){this.TO=[],this.eu=void 0}var n=t.prototype;return n.kO=function(t){this.TO.push(t),this.eu&&this.eu.push(t.wa)},n.eT=function(t){wo(this.TO,t),this.eu&&wo(this.eu,t.wa)},n.fC=function(t){return this.TO[t]},n.EO=function(t){return qn(t)?function(t,n){for(var i=0;i<n.length;i++)if(!po(t,n[i]))return!1;return!0}(this.TO,t):po(this.TO,t)},n.nr=function(){bo(this.TO),this.eu&&bo(this.eu)},Nt(t,[{key:"lC",get:function(){return this.TO}},{key:"V",get:function(){return this.TO.length}},{key:"wa",get:function(){return this.eu||(this.eu=function(t){var n=t.lC.map((function(t){return t.wa}));return n.item=function(n){var i=0|n,r=t.fC(i);return r&&r.wa||void 0},n}(this)),this.eu}}]),t}();F(),Tt(),Rt();var ow=function(t){function n(n){var i;return(i=t.call(this,Tg.da)||this).Ht=n,i}return It(n,t),n.prototype.ka=function(){return new aw(this.Ht.wa)},n}(mg),aw=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return It(n,t),n}(yg);F(),Tt(),Rt();var cw=function(t){function n(n){var i;return(i=t.call(this,Tg.oC)||this).Ht=n,i}return It(n,t),n.prototype.ka=function(){return new hw(this.Ht.wa)},n}(mg),hw=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return It(n,t),n}(yg);F(),Tt();var fw=0;function vw(){return fw++}var dw=0;var lw=0;function gw(){return lw++}var ww=0;function mw(){return ww++}var yw=0;var pw=function(t){function n(n){var i;return(i=t.call(this)||this).Tw=qg.vE,i.qe=!1,i.eu=void 0,i.RO=n,i.IO=vw(),i.zS=yw+++"",i.CO=n.label,i.TO=new sw,i.MO(),i}It(n,t);var i=n.prototype;return i.DO=function(t){this.Rt=t},i.MO=function(){this.Rt=this.xO},Nt(n,[{key:"RC",get:function(){}},{key:"Rt",get:function(){return this.qe},set:function(t){this.qe!==t&&(this.qe=t,this.xO=t,this._o(new ow(this)))}},{key:"xO",get:function(){return this.RO.enabled},set:function(t){this.RO.enabled=t}},{key:"wa",get:function(){return this.eu||(this.eu=zg(this)),this.eu}},{key:"o",get:function(){return this.zS}},{key:"IC",get:function(){return this.IO}},{key:"Lt",get:function(){return this.RO.kind}},{key:"Ch",get:function(){return this.CO},set:function(t){t!==this.CO&&(this.CO=t,this._o(new cw(this)))}},{key:"gs",get:function(){return this.RO.language}},{key:"CE",get:function(){return this.Rt?"enabled":"disabled"}},{key:"PO",get:function(){return this.RO}},{key:"NC",get:function(){return this.TO}},{key:"MC",get:function(){},set:function(t){}}]),n}(ra);F(),Tt(),Dt(),Rt();var _w=0;var bw=function(t){function n(n){var i;return(i=t.call(this)||this).Tw=qg.mE,i.qe=!1,i.eu=void 0,i.RO=n,i.IO=vw(),i.zS=_w+++"",i.TO=new sw,i.CO=n.label,i.MO(),i}It(n,t);var i=n.prototype;return i.MO=function(){this.Rt=this.xO},i.DO=function(t){this.Rt=t},Nt(n,[{key:"RC",get:function(){}},{key:"Rt",get:function(){return this.qe},set:function(t){this.qe!==t&&(this.qe=t,this.xO=t,this._o(new ow(this)))}},{key:"xO",get:function(){return!!this.RO.selected},set:function(t){this.RO.selected=t}},{key:"wa",get:function(){return this.eu||(this.eu=zg(this)),this.eu}},{key:"o",get:function(){return this.zS}},{key:"IC",get:function(){return this.IO}},{key:"Lt",get:function(){return"main"}},{key:"Ch",get:function(){return this.CO},set:function(t){t!==this.CO&&(this.CO=t,this._o(new cw(this)))}},{key:"gs",get:function(){return this.RO.language}},{key:"CE",get:function(){return this.Rt?"enabled":"disabled"}},{key:"PO",get:function(){return this.RO}},{key:"NC",get:function(){return this.TO}},{key:"MC",get:function(){},set:function(t){}}]),n}(ra);F(),Tt(),Rt();var kw=function(t){function n(n){var i;return(i=t.call(this,oa.wy)||this).WR=n,i}return It(n,t),n}(sa);F(),Tt(),Gt(),Rt(),qt(),F(),Tt();var Aw=function(t){return t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR",t}({});F(),Tt();var Tw=function(t){return t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange",t.MILLICAST="millicast",t}({});function Sw(t){switch(t){case"":case"srt":case"ttml":case"webvtt":case"emsg":case"eventstream":case"id3":case"cea608":case"daterange":case"millicast":return!0;default:return!1}}F(),Tt(),F(),Tt();var Ew=function(t){return t.LO="cue",t.BO="region",t.OO="stylesheet",t}({});F(),Tt(),Dt(),Rt(),F(),Tt();var Iw={"line-left":"start",center:"middle","line-right":"end"},Rw={start:"line-left",middle:"center",end:"line-right"};function Cw(t,n){if("auto"===t)switch(n){case"start":case"left":return"line-left";case"end":case"right":return"line-right";default:return"center"}return t}function Nw(t,n){if("auto"===t)switch(n){case"left":return 0;case"right":return 100;default:return 50}return function(t,n){var i="number"==typeof t?t:T(t);return S(i)?n:i}(t,50)}F(),Tt(),F(),Tt(),F(),Tt(),Rt();var Dw=function(t){return t.rO="vo",t.oO="xo",t.oC="ir",t}({}),Pw=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).FO=i,r}return It(n,t),n}(mg),xw=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).cue=i,r}return It(n,t),n}(yg);function Lw(t){var n,i=[Dw.rO,Dw.oO,Dw.oC],r={get VO(){return t},get track(){return t.Ht.wa},get id(){return t.o},get uid(){return t.IC},get startTime(){return t.WO},set startTime(n){t.WO=n},get endTime(){return t.UO},set endTime(n){t.UO=n},get content(){return t.U},addEventListener:function(t,i){var r=Ug(t,Vg);n.bn(r,i)},removeEventListener:function(t,i){var r=Ug(t,Vg);n.vn(r,i)}};return n=new ea(r),t.bn(i,(function(t){return n._o(t.wa)})),r}function Mw(){}function Ow(t){return Rg(Lw(t),{get align(){return t.GO},get line(){return t.HO},get lineAlign(){return t.ZO},get position(){return t.fo},get positionAlign(){return t.XO},get region(){return t.zO?t.zO.wa:null},get size(){return t.Nb},get snapToLines(){return t.qO},get text(){return t.U},get vertical(){return t.Pt}})}F(),Tt(),Dt(),Rt(),F(),Tt(),Rt();var Bw=function(t){function n(n){return t.call(this,Dw.oC,n)||this}return It(n,t),n.prototype.ka=function(){return new Vw(this.FO.wa)},n}(Pw),Vw=function(t){function n(n){return t.call(this,"update",n)||this}return It(n,t),n}(xw);F(),Tt(),Rt();var Fw=function(t){function n(n){var i;return(i=t.call(this,Tg.qI)||this).FO=n,i}return It(n,t),n.prototype.ka=function(){return new Uw(this.FO.wa)},n}(mg),Uw=function(t){function n(n){var i;return(i=t.call(this,"updatecue")||this).cue=n,i}return It(n,t),n}(yg),Ww=.02;function Zw(t,n){return or(t.YO,n.YO,Ww)&&or(t.KO,n.KO,Ww)&&t.o===n.o}var Xw=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).eu=void 0,s.QO=void 0,s.eo=!1,s.oF=-1,s.IO=mw(),s.jO=n,s.$O=i,s.YO=n,s.KO=i,s.tF=r,s.iF=Boolean(e),s.zS=null!=u?u:"",s}It(n,t);var i=n.prototype;return i.ka=function(){return Lw(this)},i.sF=function(t){return this===t||Dg(this,t)&&Zw(this,t)&&this.nF(t)},i.nF=function(t){return Ng(this.U,t.U)},i.rF=function(t,n){this.jO=t,this.$O=n,this.YO=t,this.KO=n},i.yn=function(){this.Ro()},Nt(n,[{key:"WO",get:function(){return this.jO},set:function(t){var n,i;this.jO!==t&&(this.jO=t,null==(n=this.QO)||n.JO(this),this._o(new Bw(this)),null==(i=this.QO)||i._o(new Fw(this)))}},{key:"UO",get:function(){return this.$O},set:function(t){var n,i;this.$O!==t&&(this.$O=t,null==(n=this.QO)||n.JO(this),this._o(new Bw(this)),null==(i=this.QO)||i._o(new Fw(this)))}},{key:"o",get:function(){return this.zS}},{key:"IC",get:function(){return this.IO}},{key:"wa",get:function(){return this.eu||(this.eu=this.ka()),this.eu}},{key:"so",get:function(){return this.eo},set:function(t){this.eo=t}},{key:"Ht",get:function(){return this.QO},set:function(t){this.QO=t}},{key:"U",get:function(){return this.tF},set:function(t){var n;this.tF!==t&&(this.tF=t,this._o(new Bw(this)),null==(n=this.QO)||n._o(new Fw(this)))}},{key:"eF",get:function(){return this.iF},set:function(t){this.iF=t}}]),n}(ra);function Gw(t,n){return t.U===n.U&&t.HO===n.HO&&t.ZO===n.ZO&&t.fo===n.fo&&t.XO===n.XO&&t.zO===n.zO&&t.qO===n.qO&&t.Nb===n.Nb&&t.GO===n.GO&&t.Pt===n.Pt}var Hw=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i,r,e,u)||this).HO="auto",s.ZO="start",s.fo="auto",s.XO="auto",s.zO=void 0,s.qO=!0,s.Nb=100,s.GO="center",s.Pt="",s}return It(n,t),n.prototype.nF=function(t){return Gw(this,t)},Nt(n,[{key:"wa",get:function(){return this.eu||(this.eu=Ow(this)),this.eu}},{key:"Tw",get:function(){return Ew.LO}}]),n}(Xw);function zw(t){var n=t.HO,i=ei(n);return i&&!t.qO&&(n<0||n>100)?100:i?Number(n):t.qO?-1:100}function Yw(t){return Nw(t.fo,t.GO)}function jw(t){return Cw(t.XO,t.GO)}function Kw(t){var n,i=jw(t),r=Yw(t);switch(i){case"line-left":n=100-r;break;case"line-right":n=r;break;case"center":n=r<=50?2*r:2*(100-r)}return k.min(t.Nb,n)}function qw(t){return{get id(){return t.o},get identifier(){return t.o},get lines(){return t.hF},get regionAnchorX(){return t.aF},get regionAnchorY(){return t.uF},get scrollValue(){return t.cF},get viewportAnchorX(){return t.lF},get viewportAnchorY(){return t.dF},get width(){return t.ji}}}F(),Tt(),Dt(),F(),Tt();var Jw=function(){function t(t,n,i,r,e,u,s,o){this.o=t,this.ji=n,this.hF=i,this.aF=r,this.uF=e,this.lF=u,this.dF=s,this.cF=o}return Nt(t,[{key:"wa",get:function(){return this.eu||(this.eu=qw(this)),this.eu}},{key:"Tw",get:function(){return Ew.BO}}]),t}();F(),Tt(),F(),Tt();var Qw=1e6,$w=function(){function t(){}var n=t.prototype;return n.fF=function(t){return this._F()*t},n.vF=function(t){return this.mF(t)>0},n.gF=function(t){return this.mF(t)>=0},n.pF=function(t,n){return this.yF(t).wF(n)},n.sF=function(t){return 0===this.mF(t)},n.bF=function(t){return this.mF(t)<0},n.wF=function(t){return this.mF(t)<=0},n.AF=function(){return this.SF()?this.TF():this},n.kF=function(t){return this.kO(t.TF())},n.yF=function(t){return this.kF(t).AF()},t}();function tm(t,n){return t.EF()?n.EF()?eo.eh:eo.Bw:n.EF()?eo.Ow:t.xF()?n.xF()&&t.SF()===n.SF()?eo.eh:t.SF()?eo.Ow:eo.Bw:n.SF()?eo.Bw:eo.Ow}F(),Tt(),Rt(),nn(),F(),Tt(),nn();var nm=4294967296,im=nm*nm,rm=im*im,em=rm/2,um=function(){function t(t,n){this.VF=t,this.OF=n}var n=t.prototype;return n.BF=function(){return this.OF.unsigned},n.FF=function(){return this.VF.isZero()&&this.OF.isZero()},n.SF=function(){return this.OF.isNegative()},n.WF=function(){return this.BF()?t.RF(this.VF,this.OF,!1):this},n.UF=function(){return this.BF()?this:t.RF(this.VF,this.OF,!0)},n.GF=function(){return this.VF},n._F=function(){return this.SF()?-this.TF()._F():this.OF.toNumber()*im+this.VF.toUnsigned().toNumber()},n.HF=function(){return this.VF.toInt()},n.sF=function(t){return(this.BF()===t.BF()||this.OF.getHighBits()>>>31!=1||t.OF.getHighBits()>>>31!=1)&&(this.OF.toUnsigned().eq(t.OF.toUnsigned())&&this.VF.toUnsigned().eq(t.VF.toUnsigned()))},n.mF=function(t){if(this.sF(t))return eo.eh;var n=this.SF(),i=t.SF();if(n&&!i)return eo.Ow;if(!n&&i)return eo.Bw;if(!this.BF())return this.kF(t).SF()?eo.Ow:eo.Bw;var r=this.UF(),e=t.UF(),u=e.OF.comp(r.OF);return u>0||0===u&&e.VF.gt(r.VF)?eo.Ow:eo.Bw},n.bF=function(t){return this.mF(t)<0},n.wF=function(t){return this.mF(t)<=0},n.ZF=function(t){return this.mF(t)>0},n.XF=function(t){return this.mF(t)>=0},n.zF=function(){return new t(this.VF.not(),this.OF.not())},n.qF=function(n){return new t(this.VF.and(n.VF),this.OF.and(n.OF))},n.YF=function(n){return new t(this.VF.or(n.VF),this.OF.or(n.OF))},n.KF=function(n){var i=127&n;return 0===i?this:i<64?t.RF(this.VF.shl(i),this.OF.shl(i).or(this.VF.shru(64-i)),this.BF()):t.RF(ir.ZERO,this.VF.shl(i-64),this.BF())},n.jF=function(n){var i=127&n;return 0===i?this:i<64?t.RF(this.VF.shru(i).or(this.OF.shl(64-i)),this.OF.shr(i),this.BF()):t.RF(this.OF.shr(i-64),this.OF.isNegative()?ir.NEG_ONE:ir.ZERO,this.BF())},n.QF=function(n){var i=127&n;return 0===i?this:i<64?t.RF(this.VF.shru(i).or(this.OF.shl(64-i)),this.OF.shru(i),this.BF()):64===i?t.RF(this.OF,ir.ZERO,this.BF()):t.RF(this.OF.shru(i-64),ir.ZERO,this.BF())},n.kO=function(n){var i=this.OF.high>>>16,r=65535&this.OF.high,e=this.OF.low>>>16,u=65535&this.OF.low,s=this.VF.high>>>16,o=65535&this.VF.high,a=this.VF.low>>>16,c=65535&this.VF.low,h=n.OF.high>>>16,f=65535&n.OF.high,v=n.OF.low>>>16,d=65535&n.OF.low,l=n.VF.high>>>16,g=65535&n.VF.high,w=n.VF.low>>>16,m=0,y=0,p=0,_=0,b=0,k=0,A=0,T=0;A+=(T+=c+(65535&n.VF.low))>>>16,T&=65535,k+=(A+=a+w)>>>16,A&=65535,b+=(k+=o+g)>>>16,k&=65535,_+=(b+=s+l)>>>16,b&=65535,p+=(_+=u+d)>>>16,_&=65535,y+=(p+=e+v)>>>16,p&=65535,m+=(y+=r+f)>>>16,y&=65535,m+=i+h,m&=65535;var S=this.BF(),E=ir.fromBits(p<<16|_,m<<16|y,S),I=ir.fromBits(A<<16|T,b<<16|k,S);return t.RF(I,E,S)},n.kF=function(t){return this.kO(t.TF())},n.TF=function(){return this.zF().kO(t.JF)},n.tV=function(n){if(this.FF()||n.FF())return this.BF()?t.PF:t.DF;if(this.SF())return n.SF()?this.TF().tV(n.TF()):this.TF().tV(n).TF();if(n.SF())return this.tV(n.TF()).TF();if(this.OF.isZero()&&0===this.VF.high&&n.OF.isZero()&&0===n.VF.high)return t.IF(this.VF.multiply(n.VF));var i=ir.fromBits(4294967295,0,!0),r=this.VF.and(i),e=this.VF.shru(32),u=this.OF.and(i),s=this.OF.shru(32),o=n.VF.and(i),a=n.VF.shru(32),c=n.OF.and(i),h=n.OF.shru(32),f=ir.UZERO,v=ir.UZERO,d=ir.UZERO,l=ir.UZERO;f=f.add(r.mul(o)),v=v.add(f.shru(32)),f=f.and(i),v=v.add(e.mul(o)),d=d.add(v.shru(32)),v=(v=v.and(i)).add(r.mul(a)),d=d.add(v.shru(32)),v=v.and(i),d=d.add(u.mul(o)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(e.mul(a)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(r.mul(c)),l=l.add(d.shru(32)),d=d.and(i),l=l.add(s.mul(o)).add(u.mul(a)).add(e.mul(c)).add(r.mul(h)).and(i);var g=ir.fromBits(f.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),w=ir.fromBits(d.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0);return t.RF(g,w,this.BF())},n.eV=function(n){var i,r,e=n;if(e.FF())throw new RangeError("division by zero");if(this.FF())return this.BF()?[t.PF,t.PF]:[t.DF,t.DF];if(this.BF()){if(e.BF()||(e=e.UF()),e.ZF(this))return[t.PF,this];if(e.ZF(this.QF(1)))return[r=t.iV,i=this.kF(e)];r=t.PF}else{if(this.sF(t.MF)){if(e.sF(t.JF)||e.sF(t.sV))return[t.MF,t.DF];if(e.sF(t.MF))return[t.JF,t.DF];var u=this.jF(1).nV(e).KF(1);return u.sF(t.DF)?r=e.SF()?t.JF:t.sV:(i=this.kF(e.tV(u)),r=u.kO(i.nV(e))),[r,i=this.kF(e.tV(r))]}if(e.sF(t.MF))return this.BF()?[t.PF,this]:[t.DF,this];var s,o;if(this.SF())return e.SF()?this.TF().eV(e.TF()):(r=(s=tn(this.TF().eV(e),2))[0],i=s[1],[r.TF(),i.TF()]);if(e.SF())return r=(o=tn(this.eV(e.TF()),2))[0],i=o[1],[r.TF(),i.TF()];r=t.DF}for(i=this;i.XF(e);){for(var a=k.max(1,k.floor(i._F()/e._F())),c=k.ceil(k.log(a)/k.LN2),h=c<=48?1:k.pow(2,c-48),f=t.CF(a),v=f.tV(e);v.SF()||v.ZF(i);)a-=h,v=(f=t.CF(a,this.BF())).tV(e);f.FF()&&(f=t.JF),r=r.kO(f),i=i.kF(v)}return[r,i]},n.nV=function(t){return this.eV(t)[0]},n.rV=function(t){return this.eV(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.FF())return"0";if(this.SF()){if(this.sF(t.MF)){var r=t.CF(i),e=this.nV(r),u=e.tV(r).kF(this);return e.toString(i)+u.HF().toString(i)}return"-"+this.TF().toString(i)}for(var s=t.CF(k.pow(i,6),this.BF()),o=this,a="";;){var c=o.nV(s),h=(o.kF(c.tV(s)).HF()>>>0).toString(i);if((o=c).FF())return h+a;for(;h.length<6;)h="0"+h;a=String(h)+a}},t.RF=function(n,i,r){return r?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.IF=function(n){return n.unsigned?new t(n,ir.UZERO):new t(n,n.isNegative()?ir.NEG_ONE:ir.ZERO)},t.CF=function(n,i){if(S(n))return i?t.PF:t.DF;if(i){if(n<0)return t.PF;if(n>=rm)return t.NF}else{if(n<=-em)return t.MF;if(n+1>=em)return t.LF}return n<0?t.CF(-n,i).TF():t.RF(ir.fromNumber(n%im),ir.fromNumber(n/im),i)},t}();um.DF=um.IF(ir.ZERO),um.PF=um.IF(ir.UZERO),um.JF=um.IF(ir.ONE),um.iV=um.IF(ir.UONE),um.sV=um.IF(ir.NEG_ONE),um.LF=um.RF(ir.NEG_ONE,ir.MAX_VALUE,!1),um.NF=um.RF(ir.MAX_UNSIGNED_VALUE,ir.MAX_UNSIGNED_VALUE,!0),um.MF=um.RF(ir.ZERO,ir.MIN_VALUE,!1),F(),Tt(),Dt();var sm=function(){function t(t,n){void 0===n&&(n=1),this.oV=t,this.mN=n}var n=t.prototype;return n.kO=function(n){return this.mN>=n.mN?new t(this.oV+n.lV(this.mN).oV,this.mN):new t(this.lV(n.mN).oV+n.oV,n.mN)},n.vF=function(t){return t.bF(this)},n.gF=function(t){return t.wF(this)},n.yF=function(n){return this.mN>=n.mN?new t(k.abs(this.oV-n.lV(this.mN).oV),this.mN):n.yF(this)},n.pF=function(t,n){return this.yF(t).wF(n)},n.mF=function(t){return function(t,n){return t.mN>=n.mN?ao(t.oV,n.lV(t.mN).oV):ao(t.lV(n.mN).oV,n.oV)}(this,t)},n.sF=function(t){return 0===this.mF(t)},n.bF=function(t){return this.mF(t)<0},n.wF=function(t){return this.mF(t)<=0},n.lV=function(n){return new t(this.oV*(n/this.mN),n)},n.kF=function(n){return this.mN>=n.mN?new t(this.oV-n.lV(this.mN).oV,this.mN):new t(this.lV(n.mN).oV-n.oV,n.mN)},n.dV=function(n){return new t(this.oV*n,this.mN)},t.hV=function(n){return new t(k.ceil(n.oV),n.mN)},t.aV=function(n){return new t(k.floor(n.oV),n.mN)},t.uV=function(t,n){return t.gF(n)?t:n},t.cV=function(t,n){return t.wF(n)?t:n},Nt(t,[{key:"xF",get:function(){return!isFinite(this.oV)}},{key:"od",get:function(){return this.oV/this.mN}}]),t}();sm.ad=new sm(1/6,1),sm.DF=new sm(0),sm.fV=new sm(1/0),sm._V=1e6;var om=function(t){function n(n,i){var r;return(r=t.call(this)||this).Mx=n.toSigned(),r.mN=i>>>0,r}It(n,t);var i=n.prototype;return i.SF=function(){return this.Mx.isNegative()},i.FF=function(){return 0!==this.mN&&this.Mx.isZero()},i.xF=function(){return 0===this.mN&&!this.Mx.isZero()},i.EF=function(){return 0===this.mN&&this.Mx.isZero()},i._F=function(){if(0===this.mN)return this.Mx.isZero()?NaN:this.Mx.isNegative()?-1/0:1/0;var t=this.Mx.divide(this.mN),n=this.Mx.subtract(t.multiply(this.mN));return t.toNumber()+n.toNumber()/this.mN},i.GF=function(){if(0===this.mN)throw new p("Failed to convert timestamp");return this.Mx},i.AV=function(){return new Date(0===this.mN?NaN:this.lV(1e3).Mx.toNumber())},i.SV=function(){return new sm(0===this.mN?this._F():this.Mx.toNumber(),this.mN)},i.lV=function(t,i){void 0===i&&(i=cm.TV);var r=this.mN;if(r===t)return this;if(0===r)return this;var e=vr(r,t),u=function(t,n,i){var r=tn(t.eV(n),2),e=r[0],u=r[1];if(u.FF())return e;if(i===cm.TV)return u.SF()?e.kF(um.JF):e;if(i===cm.kV)return u.SF()?e:e.kO(um.JF);var s=u.tV(um.CF(2));return s.SF()?s.TF().bF(n)?e:e.kF(um.JF):s.bF(n)?e:e.kO(um.JF)}(um.IF(this.Mx).tV(um.CF(t/e)),um.CF(r/e),i);return new n(u.GF(),t)},i.mF=function(t){if(this===t)return eo.eh;if(0===this.mN||0===t.mN)return tm(this,t);if(this.FF())return t.FF()?eo.eh:t.SF()?eo.Bw:eo.Ow;if(t.FF())return this.SF()?eo.Ow:eo.Bw;var n=k.min(this.mN,t.mN),i=this.lV(n,cm.EV).Mx,r=t.lV(n,cm.EV).Mx;return i.compare(r)},i.TF=function(){return 0===this.mN?function(t){0;return t.EF()?t:t.SF()?om.gV:om.pV}(this):new n(this.Mx.negate(),this.mN)},i.kO=function(t){if(0===this.mN||0===t.mN)return function(t,n){0;if(t.EF()||n.EF())return om.mV;if(t.xF()&&n.xF())return t.SF()===n.SF()?t:om.mV;return t.xF()?t:n}(this,t);if(this.FF())return t;if(t.FF())return this;var i=k.max(this.mN,t.mN),r=this.lV(i,cm.EV),e=t.lV(i,cm.EV);return new n(r.Mx.add(e.Mx),i)},i.tV=function(t){if(this.EF()||S(t))return n.mV;if(this.xF()||!isFinite(t)){if(this.FF()||0===t)return n.mV;var i=this.SF()?n.pV:n.gV;return t<0?i.TF():i}return this.FF()?this:new n(0===t?ir.ZERO:this.Mx.multiply(t),this.mN)},i.nV=function(t){if(this.EF()||S(t))return n.mV;if(this.xF())return isFinite(t)?0===t?1/t<0?this.TF():this:t<0?this.TF():this:n.mV;if(!isFinite(t))return new n(ir.ZERO,this.mN);if(this.FF())return 0===t?n.mV:new n(ir.ZERO,this.mN);if(0===t){var i=this.SF()?n.pV:n.gV;return 1/t<0?i.TF():i}return new n(this.Mx.divide(t),this.mN)},i.xV=function(){return[this.Mx.low,this.Mx.high,this.mN]},n.vV=function(t,i){return void 0===i&&(i=Qw),n.CF(t*i,i)},n.CF=function(t,i){return S(t)?n.mV:t===1/0?n.gV:t===-1/0?n.pV:new n(ir.fromNumber(t),i)},n.IF=function(t,i){return new n(t,i)},n.wV=function(t){return n.vV(t.od,Qw)},n.yV=function(t){return new n(ir.fromNumber(t.getTime()),1e3)},n.uV=function(t,n){return t.gF(n)?t:n},n.cV=function(t,n){return t.wF(n)?t:n},n.bV=function(t,i,r){return n.uV(i,n.cV(r,t))},n}($w);om.DF=new om(ir.ZERO,Qw),om.mV=new om(ir.ZERO,0),om.gV=new om(ir.ONE,0),om.pV=new om(ir.NEG_ONE,0),F(),Tt(),Dt(),Rt(),at();var am=function(t){function n(n,i){var r;return(r=t.call(this)||this).Mx=BigInt.asIntN(64,n),r.mN=i>>>0,r}It(n,t);var i=n.prototype;return i.SF=function(){return this.Mx<BigInt(0)},i.FF=function(){return 0!==this.mN&&this.Mx===BigInt(0)},i.xF=function(){return 0===this.mN&&this.Mx!==BigInt(0)},i.EF=function(){return 0===this.mN&&this.Mx===BigInt(0)},i._F=function(){if(0===this.mN)return this.Mx===BigInt(0)?NaN:this.Mx<BigInt(0)?-1/0:1/0;var t=this.Mx/BigInt(this.mN),n=this.Mx-t*BigInt(this.mN);return Number(t)+Number(n)/this.mN},i.GF=function(){if(0===this.mN)throw new p("Failed to convert timestamp");return this.NV()},i.NV=function(){var t=this.Mx&BigInt(4294967295),n=this.Mx>>BigInt(32)&BigInt(4294967295);return ir.fromBits(Number(t),Number(n))},i.AV=function(){return new Date(0===this.mN?NaN:Number(this.lV(1e3).Mx))},i.SV=function(){return new sm(0===this.mN?this._F():Number(this.Mx),this.mN)},i.lV=function(t,i){void 0===i&&(i=cm.TV);var r=this.mN;if(r===t)return this;if(0===r)return this;var e=vr(r,t),u=function(t,n,i){var r=t/n,e=t-r*n;if(e===BigInt(0))return r;if(i===cm.TV)return e<BigInt(0)?r-BigInt(1):r;if(i===cm.kV)return e<BigInt(0)?r:r+BigInt(1);var u=e*BigInt(2);return u<BigInt(0)?-u<n?r:r-BigInt(1):u<n?r:r+BigInt(1)}(this.Mx*BigInt(t/e),BigInt(r/e),i);return new n(u,t)},i.mF=function(t){if(this===t)return eo.eh;if(0===this.mN||0===t.mN)return tm(this,t);if(this.FF())return t.FF()?eo.eh:t.SF()?eo.Bw:eo.Ow;if(t.FF())return this.SF()?eo.Ow:eo.Bw;var n=k.min(this.mN,t.mN),i=this.lV(n,cm.EV).Mx,r=t.lV(n,cm.EV).Mx;return i>r?eo.Bw:i<r?eo.Ow:eo.eh},i.TF=function(){return 0===this.mN?function(t){0;return t.EF()?t:t.SF()?am.gV:am.pV}(this):new n(-this.Mx,this.mN)},i.kO=function(t){if(0===this.mN||0===t.mN)return function(t,n){0;if(t.EF()||n.EF())return am.mV;if(t.xF()&&n.xF())return t.SF()===n.SF()?t:am.mV;return t.xF()?t:n}(this,t);if(this.FF())return t;if(t.FF())return this;var i=k.max(this.mN,t.mN),r=this.lV(i,cm.EV),e=t.lV(i,cm.EV);return new n(r.Mx+e.Mx,i)},i.tV=function(t){if(this.EF()||S(t))return n.mV;if(this.xF()||!isFinite(t)){if(this.FF()||0===t)return n.mV;var i=this.SF()?n.pV:n.gV;return t<0?i.TF():i}return this.FF()?this:new n(0===t?BigInt(0):this.Mx*BigInt(t),this.mN)},i.nV=function(t){if(this.EF()||S(t))return n.mV;if(this.xF())return isFinite(t)?0===t?1/t<0?this.TF():this:t<0?this.TF():this:n.mV;if(!isFinite(t))return new n(BigInt(0),this.mN);if(this.FF())return 0===t?n.mV:new n(BigInt(0),this.mN);if(0===t){var i=this.SF()?n.pV:n.gV;return 1/t<0?i.TF():i}return new n(this.Mx/BigInt(t),this.mN)},i.xV=function(){var t=this.NV();return[t.low,t.high,this.mN]},n.vV=function(t,i){return void 0===i&&(i=Qw),n.CF(t*i,i)},n.CF=function(t,i){return S(t)?n.mV:t===1/0?n.gV:t===-1/0?n.pV:new n(BigInt(k.floor(t)),i)},n.IF=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.wV=function(t){return n.vV(t.od,Qw)},n.yV=function(t){return n.CF(t.getTime(),1e3)},n.uV=function(t,n){return t.gF(n)?t:n},n.cV=function(t,n){return t.wF(n)?t:n},n.bV=function(t,i,r){return n.uV(i,n.cV(r,t))},Nt(n,null,[{key:"DF",get:function(){return n.RV||(n.RV=new n(BigInt(0),Qw)),n.RV}},{key:"mV",get:function(){return n.CV||(n.CV=new n(BigInt(0),0)),n.CV}},{key:"gV",get:function(){return n.PV||(n.PV=new n(BigInt(1),0)),n.PV}},{key:"pV",get:function(){return n.DV||(n.DV=new n(BigInt(-1),0)),n.DV}}]),n}($w);am.RV=void 0,am.CV=void 0,am.PV=void 0,am.DV=void 0;var cm=function(t){return t[t.TV=0]="TV",t[t.kV=1]="kV",t[t.EV=2]="EV",t}({}),hm=function(){try{return"function"==typeof BigInt&&"bigint"===U(BigInt(0))}catch(t){return!1}}()?am:om;function fm(t,n){return t.mF(n)}function vm(t,n){return void 0!==t?void 0!==n?hm.cV(t,n):t:n}F(),Tt();var dm=9e4,lm=k.pow(2,33),gm=Si((function(){return hm.CF(lm,dm)})),wm=Si((function(){return gm().nV(2)}));F(),Tt();var mm={MV:0,LV:1/0,BV:0},ym=6,pm=["WEBVTT","WEBVTT ","WEBVTT\t","WEBVTT\n"],_m=[" ","\t","\n","\f","\r"],bm=/^\d*$/,km=/.*[0-9]+.*/,Am=/^[\d.-]+$/,Tm=/(^\.|\.$)/,Sm=/(\D\.|\.\D)/;function Em(t,n,i){return void 0===n&&(n=mm),void 0===i&&(i=!0),Im(yc(bc(t),new Rc),n,i)}function Im(t,n,i){void 0===n&&(n=mm),void 0===i&&(i=!0);var r={L:[],OV:[],FV:[]},e=Rm(t),u=new Rc;if(Um(e),Cm(e,(function(t){return"\n"!==t}),u),u.nc>=e.length)return r;(u.xb(1),"\n"!==e.charAt(u.nc))?Lm(Nm(e,u,false,!0,r,n,i),r):u.xb(1);for(Cm(e,(function(t){return"\n"===t}),u);u.nc<e.length;){Lm(Nm(e,u,false,!1,r,n,i),r),Cm(e,(function(t){return"\n"===t}),u)}return r}function Rm(t){var n=Bs(t,"\0"," "),i=Bs(n,"\r\n","\n");return Bs(i,"\r","\n")}function Cm(t,n,i){for(var r=i.nc;i.nc<t.length&&n(t.charAt(i.nc));)i.xb(1);return t.substring(r,i.nc)}function Nm(t,n,i,r,e,u,s){for(var o,a=0,c=n.nc,h="",f=!1,v=!1,d=null,l=null,g=null;!f;)if(o=Cm(t,(function(t){return"\n"!==t}),n),a++,n.nc>=t.length?f=!0:n.xb(1),Vs(o,"--\x3e")){if(r||1!==a&&(2!==a||v)){n.Rb(c);break}v=!0,c=n.nc,d=new Hw(0,0,"",!1,h);try{Mm(o,e.OV,d,u,s),h=""}catch(t){Kn.Vp(t),d=null}}else{if(""===o)break;r&&Fs(o,"X-TIMESTAMP-MAP")&&(e.VV=Dm(o)),r||2!==a||i||(Ws("STYLE",h.replace(/ /g,""))?(l={Tw:Ew.OO},h=""):Ws("REGION",h.replace(/ /g,""))&&(g=new Jw("",100,3,0,100,0,100,""),h="")),h&&(h+="\n"),h+=o,c=n.nc}if(d)return d.U=h,d;if(l);else if(g)return function(t,n){for(var i=t.split(/\s/),r=":",e=0;e<i.length;e++){var u=i[e];if(0!==u.length&&Vs(u,r)&&u.charAt(0)!==r&&u.charAt(u.length-1)!==r){var s=u.indexOf(r),o=u.substring(0,s),a=u.substring(s+1,u.length);switch(o.toUpperCase()){case"ID":Qm(a,n);break;case"WIDTH":ny(a,n);break;case"LINES":ty(a,n);break;case"REGIONANCHOR":var c=Jm(a);c&&(n.aF=c[0],n.uF=c[1]);break;case"VIEWPORTANCHOR":var h=Jm(a);h&&(n.lF=h[0],n.dF=h[1]);break;case"SCROLL":$m(a,n)}}}}(h,g),g;return null}function Dm(t){var n,i=t.split("=")[1].trim().split(","),r=xm(i[0].trim(),"MPEGTS")?i[0]:i[1],e=xm(i[0].trim(),"LOCAL")?i[0]:i[1];return{WV:Pm(Number(r.split(/:(.*)/)[1].trim())||0),mh:hm.vV(null!=(n=Vm(e.split(/:(.*)/)[1].trim(),new Rc))?n:0)}}function Pm(t){return hm.CF(t,dm)}function xm(t,n){return Fs(t,n)}function Lm(t,n){t&&function(t){return"cue"===t.Tw}(t)?n.L.push(t):t&&function(t){return"region"===t.Tw}(t)?n.OV.push(t):t&&function(t){return"stylesheet"===t.Tw}(t)&&n.FV.push(t)}function Mm(t,n,i,r,e){var u=new Rc;Zm(t,u);var s=Om(Vm(t,u),r,e);if(Zm(t,u),"--\x3e"!==t.substring(u.nc,u.nc+3))throw p("Something went wrong with parsing a WebVTT Cue");u.xb(3),Zm(t,u);var o=Om(Vm(t,u),r,e);i.rF(s,o),function(t,n,i){for(var r=t.split(/\s/),e=":",u=0;u<r.length;u++){var s=r[u];if(0!==s.length&&Vs(s,e)&&s.charAt(0)!==e&&s.charAt(s.length-1)!==e){var o=s.indexOf(e),a=s.substring(0,o),c=s.substring(o+1,s.length);switch(a.toUpperCase()){case"REGION":Ym(c,n,i);break;case"VERTICAL":Km(c,n);break;case"D":qm(c,n);break;case"LINE":case"L":Hm(c,n);break;case"POSITION":case"T":zm(c,n);break;case"SIZE":case"S":jm(c,n);break;case"ALIGN":case"A":Gm(c,n)}}}}(t.substring(u.nc,t.length),i,n)}function Om(t,n,i){return i?t+n.MV:t}function Bm(t){return/^[0-9]$/.test(t)}function Vm(t,n){var i,r,e,u=Bs(t,",","."),s=!1;if(n.nc>=u.length||!Bm(u.charAt(n.nc)))throw new p("Something went wrong with parsing a WebVTT Cue timestamp");var o=Cm(u,Bm,n),a=A(o,10);if((o.length>2||a>59)&&(s=!0),n.nc>=u.length||":"!==u.charAt(n.nc))throw new p("Something went wrong with parsing a WebVTT Cue timestamp");n.xb(1);var c=Cm(u,Bm,n);if(2!==c.length)throw new p("Something went wrong with parsing a WebVTT Cue timestamp");var h=A(c,10);if(s||n.nc<u.length&&":"===u.charAt(n.nc)){if(n.nc>=u.length||":"!==u.charAt(n.nc))throw new p("Something went wrong with parsing a WebVTT Cue timestamp");n.xb(1);var f=Cm(u,Bm,n);if(2!==c.length)throw new p("Something went wrong with parsing a WebVTT Cue timestamp");i=a,r=h,e=A(f,10)}else i=0,r=a,e=h;if(n.nc>=u.length||"."!==u.charAt(n.nc))throw new p("Something went wrong with parsing a WebVTT Cue timestamp");n.xb(1);var v=Cm(u,Bm,n),d=A(v,10);if(h>59||e>59)throw new p("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*r+e+d/1e3}function Fm(t){return Um(Rm(t))}function Um(t){if(t.length<ym)return!1;for(var n=0;n<pm.length;n++){var i=pm[n];if(Fs(t,i))return!0}return!1}function Wm(t){return po(_m,t)}function Zm(t,n){for(;n.nc<t.length&&Wm(t.charAt(n.nc));)n.xb(1)}function Xm(t){var n=t.lastIndexOf("%");if(n>-1){var i=T(t.substring(0,n));if(!S(i)&&i>=0&&i<=100)return i}return null}function Gm(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.GO=i;break;case"middle":n.GO="center"}}function Hm(t,n){var i,r,e=t.indexOf(",");if(e>=0?(i=t.substring(0,e),r=t.substring(e+1,t.length)):(i=t,r=""),km.test(i)){var u,s;if(Us(i,"%")){var o=Xm(i);if(null===o)return;u=o,s=!1}else{if(!Am.test(i)||i.lastIndexOf("-")>0)return;var a=i.indexOf(".");if(a>=0&&(a!==i.lastIndexOf(".")||!Sm.test(i)||Tm.test(i)))return;if(u=T(i),S(u))return;s=!0}switch(n.HO=u,n.qO=s,r=r.toLowerCase()){case"start":case"center":case"end":n.ZO=r;break;case"middle":n.ZO="center"}}}function zm(t,n){var i,r,e=t.indexOf(",");e>=0?(i=t.substring(0,e),r=t.substring(e+1,t.length)):(i=t,r="");var u=Xm(i);if(null!==u)switch(n.fo=u,r=r.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.XO=r;break;case"start":n.XO="line-left";break;case"middle":n.XO="center";break;case"end":n.XO="line-right"}}function Ym(t,n,i){var r=vo(i,(function(n){return n.o===t}));void 0!==r&&(n.zO=r)}function jm(t,n){var i=Xm(t);null!==i&&(n.Nb=i)}function Km(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.Pt="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.Pt="lr";break;default:n.Pt=""}}function qm(t,n){"VERTICAL"===t.toUpperCase()?n.Pt="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.Pt="lr")}function Jm(t){if(t.indexOf(",")>=0){var n=Xm(t.substring(0,t.indexOf(","))),i=Xm(t.substring(t.indexOf(",")+1,t.length));return[sr(n||0,0,100),sr(i||100,0,100)]}return null}function Qm(t,n){n.o=t}function $m(t,n){"up"===t.toLowerCase()&&(n.cF="up")}function ty(t,n){bm.test(t)&&(n.hF=A(t))}function ny(t,n){var i=Xm(t);null!==i&&(n.ji=i)}F(),Tt(),nn(),F(),Tt(),F(),Tt();var iy=function(t){return t.gP="moov",t.pP="mvhd",t.wP="trak",t.yP="tkhd",t.bP="mdia",t.AP="mdhd",t.SP="hdlr",t.TP="minf",t.kP="stbl",t.EP="stsd",t.xP="stsc",t.RP="mvex",t.IP="trex",t.CP="avc1",t.PP="avcC",t.DP="hev1",t.NP="hvc1",t.MP="hvcC",t.LP="vp09",t.BP="vpcC",t.OP="av01",t.FP="av1C",t.VP="dvcC",t.WP="dvvC",t.UP="dvwC",t.GP="dec3",t.HP="dvav",t.ZP="dva1",t.zP="dvhe",t.qP="dvh1",t.YP="ec-3",t.KP="colr",t.jP="pasp",t.QP="mp4a",t.JP="esds",t.$P="fLaC",t.tD="dfLa",t.eD="wvtt",t.iD="vttC",t.sD="vlab",t.nD="enca",t.rD="encv",t.oD="moof",t.hD="mfhd",t.aD="traf",t.uD="tfhd",t.cD="trun",t.lD="tfdt",t.dD="senc",t.fD="mdat",t._D="pssh",t.vD="emsg",t.mD="sidx",t.gD="styp",t.pD="ftyp",t.wD="sinf",t.yD="frma",t}({}),ry=function(t){return t.ON_SCREEN_COLOURS="nclx",t.RESTRICTED_ICC_PROFILE="rICC",t.UNRESTRICED_ICC_PROFILE="prof",t}({}),ey=function(t){return t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=65536]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF",t}({}),uy=function(t){return t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT",t}({});F(),Tt();var sy=function(){function t(t,n){this.Kk=t,this.SD=n}var n=t.prototype;return n.bD=function(){return Ua(this.Kk,this.SD)},n.TD=function(){return Ya(this.Kk,this.SD)},n.kD=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt16(n.nc,i);return n.xb(2),r}(this.Kk,this.SD)},n.ED=function(){return Ka(this.Kk,this.SD)},n.xD=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt32(n.nc,i);return n.xb(4),r}(this.Kk,this.SD)},n.RD=function(){return Ja(this.Kk,this.SD)},n.CD=function(t){return Za(this.Kk,this.SD,t)},n.PD=function(t){return function(t,n,i){for(var r=[],e=0;e<i;e++)r.push(Ka(t,n));return r}(this.Kk,this.SD,t)},n.DD=function(t){return tc(this.Kk,this.SD,t)},n.ND=function(){return gc(this.Kk,this.SD)},n.MD=function(t){this.SD.xb(t)},n.Ib=function(){return new t(this.Kk,this.SD.Ib())},t}();F(),Tt(),Dt(),Rt(),F(),Tt();function oy(t,n){return t.Tw===n}function ay(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(oy(r,n))return r}}var cy=function(t){function n(n,i){var r;return(r=t.call(this)||this).LD=n,r.BD=i,r}return It(n,t),Nt(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(Mo),hy=function(){function t(){}return t.OD=function(n){var i=n.Kk,r=n.SD,e=t.FD(i,r,!1);if(!e.VD)throw new cy(r.nc,e.m);return e.m},t.FD=function(n,i,r){for(var e=[];i.nc<n.byteLength;){var u=t.WD(n,i,r);if(!u.VD)return{VD:!1,m:e};e.push(u.UD)}return{VD:!0,m:e}},t.GD=function(n,i){var r=t.WD(n,i,!1);if(!r.VD)throw new cy(i.nc);return r.UD},t.HD=function(n,i){for(var r=n.Kk,e=n.SD;e.nc<r.byteLength;){var u=t.WD(r,e,!1);if(!u.VD)return;if(u.UD.Tw===i)return u.UD}},t.WD=function(n,i,r){var e=i.nc,u=t.ZD(n,i);if(!u.VD)return u;var s=u.XD,o=s.Nb;if(0===o){if(r)return i.Rb(e),{VD:!1,zD:1/0};o=n.byteLength-e}var a=e+o;if(a>n.byteLength){var c=a;return i.Rb(e),{VD:!1,zD:c}}var h={Tw:s.Tw,nc:e,Kk:new sy(_c(n,e,a),new Rc(s.qD))};return i.Rb(a),{VD:!0,UD:h}},t.ZD=function(t,n){var i=n.nc;if(!Ga(t,n,8))return{VD:!1,zD:n.nc+8};var r=Ka(t,n),e=tc(t,n,4);if(1===r){if(!Ga(t,n,8)){var u=n.nc+8;return n.Rb(i),{VD:!1,zD:u}}r=Ja(t,n).toNumber()}if("uuid"===e){if(!Ga(t,n,16)){var s=n.nc+16;return n.Rb(i),{VD:!1,zD:s}}e=tc(t,n,16)}return{VD:!0,XD:{Tw:e,Nb:r,qD:n.nc-i}}},t.YD=function(t,n,i){var r=t.Kk,e=t.SD,u=pc(kc(r),e.nc,r.byteLength);return i&&(u=Ec(u)),e.xb(u.byteLength),{Tw:n,Kk:u}},t.KD=function(n,i,r){var e=ly(n.ED());return{Tw:i,jD:e.version,QD:e.flags,Kk:t.YD(n,i,r).Kk}},t}();function fy(t,n){var i=vy(t,n);if(!i)throw new p("Missing "+n+" atom");return i}function vy(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.Tw===n)return r.Kk}}function dy(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];e.Tw===n&&i.push(e.Kk)}return i}function ly(t){return{version:t>>24,flags:new Ba(16777215&t)}}var gy=function(){function t(){}return t.JD=function(n){for(var i=[],r=hy.OD(new sy(n,new Rc)),e=0;e<r.length;e++){var u=r[e],s=t.$D(u);s&&i.push(s)}return i},t.tN=function(t){return hy.FD(t,new Rc,!1).m.some(this.eN)},t.iN=function(n){return dy(hy.OD(new sy(n,new Rc)),iy._D).map(t.sN)},t.nN=function(n){return dy(hy.OD(n.Kk),iy._D).map(t.sN)},t.eN=function(t){return t.Tw===iy.pD||t.Tw===iy.gD||t.Tw===iy.gP||t.Tw===iy.oD||t.Tw===iy.fD||t.Tw===iy.mD||t.Tw===iy.vD},t.$D=function(n){switch(n.Tw){case iy.gP:return t.rN(n.Kk);case iy.oD:return t.oN(n.Kk,n.nc);case iy.fD:return t.hN(n.Kk);case iy.mD:return t.aN(n.Kk);case iy.vD:return t.uN(n.Kk)}},t.rN=function(n){var i=hy.OD(n),r=fy(i,iy.pP),e=dy(i,iy.wP),u=vy(i,iy.RP),s=t.cN(r),o=e.map(t.lN),a=u?t.dN(u):void 0;return{Tw:iy.gP,XD:s,Z:o,fN:a}},t.cN=function(t){var n=ly(t.ED()),i=n.version,r=n.flags,e=1===i?t.RD():t.ED(),u=1===i?t.RD():t.ED(),s=t.ED(),o=1===i?t.RD():t.ED(),a=t.ED(),c=t.TD()>>8;t.MD(2),t.MD(8);var h=t.PD(9);t.MD(24);var f=t.ED();return{Tw:iy.pP,jD:i,QD:r,_N:e,vN:u,mN:s,ct:o,gN:a,gI:c,pN:h,wN:f}},t.lN=function(n){var i=hy.OD(n),r=fy(i,iy.yP),e=fy(i,iy.bP),u=t.yN(r),s=t.bN(e);return{Tw:iy.wP,XD:u,AN:s}},t.yN=function(t){var n=ly(t.ED()),i=n.version,r=n.flags,e=1===i?t.RD():t.ED(),u=1===i?t.RD():t.ED(),s=t.ED();t.MD(4);var o=1===i?t.RD():t.ED();t.MD(8);var a=t.kD(),c=t.kD(),h=t.kD()/k.pow(2,8);t.MD(2);var f=t.PD(9),v=t.ED()/k.pow(2,16),d=t.ED()/k.pow(2,16);return{Tw:iy.yP,SN:r.Cb(1),TN:r.Cb(2),kN:r.Cb(4),_N:e,vN:u,EN:s,ct:o,xN:a,RN:c,gI:h,pN:f,ji:v,Ti:d}},t.bN=function(n){var i=hy.OD(n),r=fy(i,iy.AP),e=fy(i,iy.SP),u=fy(i,iy.TP),s=t.CN(r),o=t.PN(e),a=t.DN(u);return{Tw:iy.bP,XD:s,NN:o,MN:a}},t.CN=function(t){var n=ly(t.ED()),i=n.version,r=n.flags,e=1===i?t.RD():t.ED(),u=1===i?t.RD():t.ED(),s=t.ED(),o=1===i?t.RD():t.ED();t.TD();return t.MD(2),{Tw:iy.AP,jD:i,QD:r,_N:e,vN:u,mN:s,ct:o}},t.PN=function(t){var n=ly(t.ED()),i=n.version,r=n.flags;t.MD(4);var e=t.DD(4);t.MD(12);var u=t.ND();return{Tw:iy.SP,jD:i,QD:r,LN:e,l:u}},t.DN=function(n){var i=fy(hy.OD(n),iy.kP),r=t.BN(i);return{Tw:iy.TP,ON:r}},t.BN=function(n){var i=fy(hy.OD(n),iy.EP),r=t.FN(i);return{Tw:iy.kP,VN:r}},t.FN=function(n){for(var i=ly(n.ED()),r=i.version,e=i.flags,u=(n.ED(),[]),s=hy.OD(n),o=0;o<s.length;o++){var a=s[o],c=t.WN(a.Kk,a.Tw);c&&u.push(c)}return{Tw:iy.EP,jD:r,QD:e,UN:u}},t.WN=function(n,i){var r=t.GN(n,i);return r||((r=t.HN(n,i))||(i===iy.eD?t.ZN(n):void 0))},t.GN=function(n,i){return i===iy.QP?t.XN(n):i===iy.$P||i===iy.$P.toLowerCase()||i===iy.$P.toUpperCase()?t.zN(n):i===iy.nD?t.qN(n):i===iy.YP?t.YN(n):void 0},t.HN=function(n,i){return i===iy.CP?t.KN(n):i===iy.DP||i===iy.NP?t.jN(n,i):i===iy.LP?t.QN(n,i):i===iy.OP?t.JN(n,i):i===iy.rD?t.$N(n):i===iy.HP||i===iy.ZP||i===iy.zP||i===iy.qP?t.tM(n,i):void 0},t.eM=function(t,n){return t.MD(6),{Tw:n,iM:t.TD()}},t.sM=function(n,i){var r=t.eM(n,i);n.MD(8);var e=n.TD(),u=n.TD();return n.MD(2),n.MD(2),ns({},r,{nM:e,rM:u,oM:n.ED()>>>16})},t.hM=function(n,i){var r=t.eM(n,i);n.MD(2),n.MD(2),n.MD(12);var e=n.TD(),u=n.TD(),s=n.ED(),o=n.ED();n.MD(4);var a=n.TD();n.MD(32);var c=n.TD();return n.MD(2),ns({},r,{ji:e,Ti:u,aM:s,uM:o,cM:a,lM:c})},t.XN=function(n){var i=t.sM(n,iy.QP),r=fy(hy.OD(n),iy.JP);return ns({},i,{dM:t.fM(r)})},t.zN=function(n){var i=t.sM(n,iy.$P),r=fy(hy.OD(n),iy.tD);return ns({},i,{_M:t.vM(r)})},t.ZN=function(n){var i=t.eM(n,iy.eD),r=hy.OD(n),e=fy(r,iy.iD),u=t.mM(e),s=vy(r,iy.sD);return ns({},i,{gM:u,pM:s?t.wM(s):void 0})},t.mM=function(t){return{Tw:iy.iD,kd:t.ND()}},t.wM=function(t){return{Tw:iy.sD,Ch:t.ND()}},t.fM=function(t){return hy.KD(t,iy.JP,!0)},t.vM=function(t){return hy.KD(t,iy.tD,!0)},t.KN=function(n){var i=t.hM(n,iy.CP),r=hy.OD(n),e=fy(r,iy.PP),u=vy(r,iy.jP);return ns({},i,{yM:t.bM(e),AM:u?t.SM(u):void 0})},t.jN=function(n,i){var r=t.hM(n,i),e=fy(hy.OD(n),iy.MP);return ns({},r,{TM:t.kM(e)})},t.QN=function(n,i){var r=t.hM(n,i),e=fy(hy.OD(n),iy.BP);return ns({},r,{EM:t.xM(e)})},t.JN=function(n,i){var r=t.hM(n,i),e=hy.OD(n),u=fy(e,iy.FP),s=t.RM(u),o=vy(e,iy.KP);return ns({},r,{IM:s,CM:o?t.PM(o):void 0})},t.$N=function(n){var i=n.Ib(),r=t.hM(n,iy.rD),e=fy(hy.OD(n),iy.wD),u=t.DM(e);return ns({},r,{NM:t.HN(i,u.LM.MM),BM:u})},t.tM=function(n,i){var r=t.hM(n,i),e=hy.OD(n);return ns({},r,{OM:t.FM(e)})},t.YN=function(n){var i=t.sM(n,iy.YP),r=fy(hy.OD(n),iy.GP);return ns({},i,{VM:t.WM(r)})},t.qN=function(n){var i=n.Ib(),r=t.sM(n,iy.nD),e=fy(hy.OD(n),iy.wD),u=t.DM(e);return ns({},r,{NM:t.GN(i,u.LM.MM),BM:u})},t.DM=function(n){var i=fy(hy.OD(n),iy.yD),r=t.UM(i);return{Tw:iy.wD,LM:r}},t.UM=function(t){var n=t.DD(4);return{Tw:iy.yD,MM:n}},t.bM=function(t){return hy.YD(t,iy.PP,!0)},t.kM=function(t){return hy.YD(t,iy.MP,!0)},t.FM=function(t){var n=vy(t,iy.VP);if(void 0!==n)return hy.YD(n,iy.VP,!0);var i=vy(t,iy.WP);if(void 0!==i)return hy.YD(i,iy.WP,!0);var r=vy(t,iy.UP);if(void 0!==r)return hy.YD(r,iy.UP,!0);throw p("Error parsing Dolby Vision configuration box.")},t.WM=function(t){return hy.YD(t,iy.GP,!0)},t.xM=function(t){return hy.YD(t,iy.BP,!0)},t.RM=function(t){return hy.YD(t,iy.FP,!0)},t.PM=function(t){var n=t.DD(4);switch(n){case"nclx":return{GM:ry.ON_SCREEN_COLOURS,HM:t.TD(),ZM:t.TD(),XM:t.TD(),zM:0!=(128&t.bD())};case"rICC":return{GM:ry.RESTRICTED_ICC_PROFILE};case"prof":return{GM:ry.UNRESTRICED_ICC_PROFILE};default:throw p("Could not parse ColourInformationBox: unknown type '"+n+"'.")}},t.SM=function(t){var n=t.ED(),i=t.ED();return{Tw:iy.jP,qM:n,YM:i}},t.dN=function(n){var i=dy(hy.OD(n),iy.IP).map(t.KM);return{Tw:iy.RP,Z:i}},t.KM=function(t){var n=ly(t.ED()),i=n.version,r=n.flags,e=t.ED(),u=t.ED(),s=t.ED(),o=t.ED(),a=t.ED();return{Tw:iy.IP,jD:i,QD:r,EN:e,jM:u,QM:s,JM:o,$M:a}},t.oN=function(n,i){var r=hy.OD(n),e=fy(r,iy.hD),u=dy(r,iy.aD),s=t.tL(e),o=u.map(t.eL);return{Tw:iy.oD,iL:i,XD:s,Z:o}},t.tL=function(t){var n=ly(t.ED()),i=n.version,r=n.flags,e=t.ED();return{Tw:iy.hD,jD:i,QD:r,sL:e}},t.eL=function(n){var i=hy.OD(n),r=fy(i,iy.uD),e=dy(i,iy.cD),u=vy(i,iy.lD),s=t.nL(r),o=e.map((function(n){return t.rL(n,s)})),a=u?t.oL(u):void 0;return{Tw:iy.aD,XD:s,hL:o,aL:a}},t.nL=function(t){var n=ly(t.ED()),i=n.version,r=n.flags,e=t.ED(),u=r.Cb(ey.BASE_DATA_OFFSET_PRESENT)?t.RD():void 0,s=r.Cb(ey.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.ED():void 0,o=r.Cb(ey.DEFAULT_SAMPLE_DURATION_PRESENT)?t.ED():void 0,a=r.Cb(ey.DEFAULT_SAMPLE_SIZE_PRESENT)?t.ED():void 0,c=r.Cb(ey.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.ED():void 0;return{Tw:iy.uD,jD:i,QD:r,EN:e,uL:u,cL:s,QM:o,JM:a,$M:c}},t.rL=function(n,i){for(var r=ly(n.ED()),e=r.version,u=r.flags,s=n.ED(),o=u.Cb(uy.DATA_OFFSET_PRESENT)?n.xD():void 0,a=u.Cb(uy.FIRST_SAMPLE_FLAGS_PRESENT)?n.ED():void 0,c=[],h=0;h<s;h++){var f=t.lL(n,u,e,i);0===h&&void 0!==a&&(f.QD=a),c.push(f)}return{Tw:iy.cD,jD:e,QD:u,dL:s,iL:o,fL:a,_L:c}},t.lL=function(t,n,i,r){return{ct:n.Cb(uy.SAMPLE_DURATION_PRESENT)?t.ED():r.QM,Nb:n.Cb(uy.SAMPLE_SIZE_PRESENT)?t.ED():r.JM,QD:n.Cb(uy.SAMPLE_FLAGS_PRESENT)?t.ED():r.$M,vL:n.Cb(uy.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.ED():t.xD():void 0}},t.uN=function(t){var n=t.Kk,i=t.SD,r=ly(Ka(n,i)),e=r.version,u=r.flags;if(1===e){var s=Ka(n,i),o=Ja(n,i),a=Ka(n,i),c=Ka(n,i),h=$a(n,i),f=$a(n,i),v=Sc(kc(n),i.nc,n.byteLength);return i.xb(v.byteLength),{Tw:iy.vD,jD:e,QD:u,mL:h,Mx:f,mN:s,gL:o,pL:a,o:c,wL:v}}var d=$a(n,i),l=$a(n,i),g=Ka(n,i),w=Ka(n,i),m=Ka(n,i),y=Ka(n,i),p=Sc(kc(n),i.nc,n.byteLength);return i.xb(p.byteLength),{Tw:iy.vD,QD:u,jD:e,mL:d,Mx:l,mN:g,yL:w,pL:m,o:y,wL:p}},t.hN=function(t){return hy.YD(t,iy.fD,!1)},t.sN=function(n){var i=n.Kk,r=n.SD,e=Ec(kc(i)).buffer,u=ly(Ka(i,r)),s=u.version,o=u.flags,a=t.bL(i,r),c=[];if(s>0)for(var h=Ka(i,r),f=0;f<h;f++){var v=Za(i,r,16);c.push(v)}var d=Ka(i,r),l=new E(e,r.nc,d);return r.xb(i.byteLength),{Tw:iy._D,jD:s,QD:o,AL:a,SL:c,TL:d,Kk:l,kL:e}},t.bL=function(t,n){for(var i="",r=0;r<4;r++){var e=Ua(t,n).toString(16);i+=1===e.length?"0"+e:e}i+="-";for(var u=0;u<2;u++){var s=Ua(t,n).toString(16);i+=1===s.length?"0"+s:s}i+="-";for(var o=0;o<2;o++){var a=Ua(t,n).toString(16);i+=1===a.length?"0"+a:a}i+="-";for(var c=0;c<2;c++){var h=Ua(t,n).toString(16);i+=1===h.length?"0"+h:h}i+="-";for(var f=0;f<6;f++){var v=Ua(t,n).toString(16);i+=1===v.length?"0"+v:v}return i.toLowerCase()},t.aN=function(t){var n,i,r=t.Kk,e=t.SD,u=ly(Ka(r,e)),s=u.version,o=u.flags,a=Ka(r,e),c=Ka(r,e);0===s?(n=ir.fromBits(Ka(r,e),0,!0),i=ir.fromBits(Ka(r,e),0,!0)):(n=Ja(r,e),i=Ja(r,e)),e.xb(2);for(var h=Ya(r,e),f=[],v=0;v<h;v+=1){var d=Ka(r,e),l=d>>31&1,g=2147483647&d,w=Ka(r,e),m=Ka(r,e),y=m>>31&1,p=m>>28&7,_=268435455&m;f.push({EL:l,xL:g,ct:w,RL:y,IL:p,CL:_})}return{Tw:iy.mD,jD:s,QD:o,PL:a,mN:c,DL:n,NL:i,ML:h,LL:f}},t.oL=function(t){var n,i=t.Kk,r=t.SD,e=ly(Ka(i,r)),u=e.version,s=e.flags;return n=0===u?ir.fromBits(Ka(i,r),0,!0):Ja(i,r),{Tw:iy.lD,jD:u,QD:s,aL:n}},t}();function wy(t){return t&&"Hx"in t?t.Hx:t}F(),Tt(),Dt(),Rt(),F(),Tt();var my=function(t){function n(n,i,r,e,u,s,o,a){var c;return(c=t.call(this,n,i,r,e)||this).HV=u,c.XV=s,c.zV=o,c.YV=a||void 0,c}return It(n,t),n.prototype.nF=function(t){return!!Ng(this.GV,t.GV)&&(!!Ng(this.ZV,t.ZV)&&(!!Ng(this.OV,t.OV)&&(this.qV&&t.qV?!!this.qV.Lx(t.qV)&&(this.U&&t.U?this.U.Lx(t.U):this.U===t.U):this.qV===t.qV)))},Nt(n,[{key:"GV",get:function(){return this.HV}},{key:"ZV",get:function(){return this.XV}},{key:"OV",get:function(){return this.zV}},{key:"qV",get:function(){return this.YV}},{key:"wa",get:function(){return this.eu||(this.eu=function(t){return Rg(Lw(t),{get extent(){return t.GV},get styles(){return t.ZV},get regions(){return t.OV},get metadata(){return wy(t.qV)},get content(){return wy(t.U)}})}(this)),this.eu}}]),n}(Xw);F(),Tt(),Dt();var yy=function(){function t(t,n,i){this.jV=t,this.QV=n,$l(i)?this.Nf=function(t,n,i){for(var r=0,e=["begin","end","dur"];r<e.length;r++){var u=e[r];i.Kx(u)}return i}(0,0,i):this.Nf=i}return Nt(t,[{key:"KV",get:function(){return this.Nf.Bx(!0)}},{key:"WO",get:function(){return this.jV}},{key:"UO",get:function(){return this.QV}}]),t}();F(),Tt(),Ut();var py="http://www.w3.org/XML/1998/namespace";function _y(t,n,i,r){var e=t.Gx(i,n);return 0===e.length&&(e=t.Wx(r+":"+n)),e}function by(t,n){return function(t,n){var i=t.m.slice(),r=[];for(;i.length>0;){var e,u=i.shift();if(n(u))r.push(u);else(e=i).push.apply(e,Ft(u.m))}return r}(t,(function(t){return t.Ux===n}))}function ky(t){for(var n={},i=0,r=t.Xx;i<r.length;i++){var e=r[i];n[e.Cx]=e.Mx}return n}var Ay=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,Ty=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,Sy="http://www.w3.org/ns/ttml";function Ey(t,n,i,r){void 0===i&&(i=mm),void 0===r&&(r=Dv.APPLICATION_TTML_XML);var e=[],u=bc(t);return r===Dv.APPLICATION_MP4?e=function(t,n,i){var r=gy.JD(t),e=ay(r,iy.fD);if(!e)return[];return Cy(bc(e.Kk),n,i)}(u,n,i):r===Dv.APPLICATION_TTML_XML&&(e=Cy(u,n,i)),e}function Iy(t,n,i){return void 0===i&&(i=mm),Ny(t,n,i)}function Ry(t,n){for(var i=Oy(n.KV),r={},e=0;e<i.length;e++){var u=i[e];r[u]=t[u]}return r}function Cy(t,n,i){return Ny(yc(t,new Rc),n,i)}function Ny(t,n,i){var r,e=[];try{r=Kn.Ix(t)}catch(t){return e}var u=r.$x;if("tt"!==u.Cx)return e;var s=u.Gx(Sy,"head")[0],o=u.Gx(Sy,"body")[0];if(!o||!s)return e;for(var a=Py(u.qx("tts:extent")),c=a?{width:a[0],height:a[1]}:void 0,h=function(t){for(var n={},i=t.Gx(Sy,"styling")[0],r=i&&i.Gx(Sy,"style")||[],e=0;e<r.length;e++){var u=r[e];n[u.Yx(py,"id")]=ky(u)}return n}(s),f=function(t){for(var n={},i=t.Gx(Sy,"layout")[0],r=i&&i.Gx(Sy,"region")||[],e=0;e<r.length;e++){var u=r[e],s=u.Yx(py,"id");if(s){n[s]=ky(u);var o=My(u);for(var a in o)Hn.call(o,a)&&(n[s][a]=o[a])}}return n}(s),v=a?function(t,n){for(var i=Cg(t),r=0,e=b.keys(i);r<e.length;r++){var u=e[r],s=Py(i[u].extent);if(s){var o=Dy(s[0],n[0]),a=Dy(s[1],n[1]);i[u].extent=o+" "+a}var c=Py(i[u].origin);if(c){var h=Dy(c[0],n[0]),f=Dy(c[1],n[1]);i[u].origin=h+" "+f}}return i}(f,a):f,d=s.Gx(Sy,"metadata")[0],l=xy(o,i.MV,i.LV,i.BV),g=0;g<l.length;g++){var w=l[g],m=Ry(v,w);e.push(new my(w.WO,w.UO,w.KV,!1,c,h,m,d))}return e}function Dy(t,n){return t/n*100+"%"}function Py(t){if(t){var n=t.split(" ",2);if(2===n.length){var i=tn(n,2),r=i[0],e=i[1];if(Us(r,"px")&&Us(e,"px"))return[Number(r.slice(0,-2)),Number(e.slice(0,-2))]}}}function xy(t,n,i,r){var e,u=function(n){var i=function(t,n,i){for(var r=[],e=0;e<i.length;e++){var u=i[e].WO,s=i[e].UO;(u>=t&&s<=n||u<n&&s>=n||u<t&&s>t)&&r.push(i[e])}return r}(l[n],l[n+1],a);if(i.length<=0&&function(t){if($l(t)){var n=t.Cx.toUpperCase(),i=Boolean(t.qx("smpte:backgroundImage"));return"BR"===n||i}return t.Rx===Ql.Tk}(t)){var r=t.Bx(!1);c.push(new yy(l[n],l[n+1],r))}else if(i.length>0){var e=t.Bx(!1);i.forEach((function(t){return e.Zx(t.KV)})),c.push(new yy(l[n],l[n+1],e))}},s=n,o=i,a=[],c=[];if($l(t)){var h,f;s=null!=(h=Ly(t.qx("begin"),r))?h:s,e=Ly(t.qx("dur"),0),o=null!=(f=Ly(t.qx("end"),r))?f:void 0!==e?s+e:o;for(var v=t.Ox,d=0;d<v.length;d++)("body"===t.Cx||"div"===t.Cx)&&v[d].Rx>1||(a=a.concat(xy(v[d],s,o,r)))}for(var l=function(t,n,i){var r=[];r.push(t,n);for(var e=0;e<i.length;e++){var u=i[e];r.push(u.WO,u.UO)}r.sort(so);for(var s=r.length,o=0;o<s-1;o++)r[o+1]===r[o]&&(mo(r,o+1),o--,s=r.length);return r}(s,o,a),g=0;g<l.length-1;g++)u(g);return c}function Ly(t,n){if(t){if(Ay.test(t)){var i=Ay.exec(t);if(!i)return;var r=Number(i[1])||0,e=Number(i[2])||0,u=Number(i[3])||0,s=i[6];return 3600*r+60*e+u+(s?Number(s)*k.pow(.1,s.length):0)+n}if(Ty.test(t)){var o=Ty.exec(t);if(!o)return;var a,c=Number(o[1]);switch(o[4]){case"h":a=3600*c;break;case"m":a=60*c;break;case"s":a=c;break;case"ms":a=.001*c;break;default:a=NaN}return a+n}}}function My(t){for(var n={},i=t.Wx("style")||[],r=0;r<i.length;r++){var e=ky(i[r]);for(var u in e)Hn.call(e,u)&&(n[u]=e[u])}return n}function Oy(t){var n,i=[];if($l(t)){(n=t.qx("region"))&&i.push(n);for(var r=t.Ox,e=0;e<r.length;e++)i=i.concat(Oy(r[e]))}return i}function By(t){var n=function(t){try{return Kn.Ix(t).$x}catch(t){}}(t);return"tt"===(null==n?void 0:n.Cx)}F(),Tt(),Gt(),Rt(),qt(),F(),Tt();var Vy=function(t){return t.Mh="disabled",t.LC="hidden",t.Qn="showing",t}({});function Fy(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case"disabled":case"hidden":case"showing":return n}}else if("number"==typeof t)switch(t){case 0:return"disabled";case 1:return"hidden";case 2:return"showing"}return"disabled"}F(),Tt(),Rt(),F(),Tt(),F(),Tt();var Uy=function(t){return t.fa="error",t}({});function Wy(){}function Zy(t){var n,i=[Tg.da,Tg.oC,Tg.HI,Tg.XI,Tg.KI,Tg.QI,Tg.qI,Tg.$I,Tg.iC,Tg.nC],r=[Uy.fa],e={get kind(){return t.Lt},get label(){return t.Ch},set label(n){t.Ch=Vg(n)},get language(){return t.gs},get id(){return t.o},get uid(){return t.IC},get inBandMetadataTrackDispatchType(){return t.BC},get mode(){return t.CE},set mode(n){n!==Vy.Qn&&n!==Vy.LC&&n!==Vy.Mh||t.OC(n)},get forced(){return Boolean(t.FC)},get accessibility(){var n,i;return null!=(i=null==(n=t.DC)?void 0:n.map(Gg))?i:[]},get type(){return t.Tw},get readyState(){return t.rI},get cues(){return t.CE===Vy.Mh?null:t.L.wa},get activeCues(){return t.CE===Vy.Mh?null:t.q.wa},get src(){return t.VC||""},addEventListener:function(t,i){var r=Ug(t,Vg);n.bn(r,i)},removeEventListener:function(t,i){var r=Ug(t,Vg);n.vn(r,i)}};return n=new ea(t),t.bn(i,(function(t){return n._o(t.wa)})),t.bn(r,(function(t){return n._o(t)})),b.defineProperty(e,"constructor",{value:Wy}),e}function Xy(){}function Gy(t){var n=Zg(t);return b.defineProperty(n,"constructor",{value:Xy}),n}var Hy=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.tt=function(n){return t.prototype.tt.call(this,n)},i.it=function(n){var i=t.prototype.it.call(this,n);return i&&(n.CE=Vy.Mh),i},i.ka=function(){return Gy(this)},n}(Sg);F(),Tt(),F(),Tt();var zy=function(t){return t.JV="subtitles",t.$V="captions",t.tW="descriptions",t.Jn="chapters",t.eW="metadata",t.iW="thumbnails",t}({}),Yy=["subtitles","captions","descriptions","chapters","metadata","thumbnails"];function jy(t){return"string"==typeof t&&po(Yy,t)}function Ky(t,n){return!(!jy(t)||!jy(n))&&(t===n||"subtitles"===t&&"captions"===n||"captions"===t&&"subtitles"===n)}F(),Tt(),Rt();var qy=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i,u)||this).url=r,s.status=e,s}return It(n,t),n}(id);function Jy(t){return t.some(Qy)}function Qy(t){return Vs(t,"stpp")}function $y(t){return t.some(tp)}function tp(t){return Vs(t,"vtt")||Vs(t,"wvtt")}function np(t,n){return Pv(t)&&$y(n)}function ip(t,n){return t===zy.iW||t===zy.eW&&n===zy.iW}function rp(t,n,i,r){for(var e=0,u=t.L.lC;e<u.length;e++){var s=u[e];if(s.WO>i)break;n<=s.UO&&!po(r,s)&&r.push(s)}}function ep(t,n){return uo(t.IC,n.IC)}function up(t,n,i,r){var e=function(t){switch(t){case Tw.WEBVTT:return"WebVTT";case Tw.SRT:return"SRT";case Tw.TTML:return"TTML";default:return""}}(t);return new qy(td.SUBTITLE_PARSE_ERROR,"Could not parse the "+(e?e+" ":"")+"subtitle file.",n,i,r)}function sp(t,n){for(var i=[],r=0,e=t.L.lC;r<e.length;r++){var u=e[r];if(u.UO<=n)i.push(u);else if(u.WO>=n)break}for(var s=0;s<i.length;s++){var o=i[s];t.sW(o)}}function op(t,n){if(t.V>0)for(var i=t.Sn(0),r=k.max(0,i-10),e=0;e<n.length;e++){n[e].nW(r)}}var ap=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Z=new Hy,n.rW=function(t){var i=t.Ht;n.oW(i)},n}It(n,t);var i=n.prototype;return i.tt=function(t){t.bn(Tg.da,this.rW),this.Z.tt(t),this.oW(t)},i.it=function(t){t.vn(Tg.da,this.rW),t.CE=Vy.Mh,this.Z.it(t)},i.hW=function(t){},i.aW=function(t){},i.oW=function(t){t.CE!==Vy.Mh?this.hW(t):this.aW(t)},i.uW=function(){for(var t=0,n=this.Z.lC;t<n.length;t++){var i=n[t];i.vn(Tg.da,this.rW),i.yn()}},i.nW=function(t){if(t>0)for(var n=0,i=this.Z.lC;n<i.length;n++){sp(i[n],t)}},i.nr=function(){return this.uW(),this.Z.nr(),et.resolve()},i.yn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.Ro(),[4,t.nr()];case 1:return n.sent(),t.Z.yn(),[2]}}))}))()},n}(ra);F(),Tt(),Dt(),Rt();var cp=function(t){function n(n){var i;return(i=t.call(this,Uy.fa)||this).errorObject=n,i}return It(n,t),n.prototype.ka=function(){return this},Nt(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(gg),hp=function(t){function n(n,i){var r;return(r=t.call(this)||this).vW=new Yo,r.lW=n,r.fW=i,r}It(n,t);var i=n.prototype;return i.cW=function(t){if(t.src){var n=t.kind||zy.JV,i=this.lW.OI(n,t.id,t.label,t.srclang,t.default);return i.VC=ml(t.src),this.tt(i),i}},i.dW=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h,f,v;return Ht(this,(function(d){switch(d.label){case 0:t.rI=Aw.LOADING,r=new vl({Xu:t.VC,jk:Id.Tk,AE:ol.GET,Uw:n}),d.label=1;case 1:return d.trys.push([1,4,,5]),[4,i.fW.Qk(r)];case 2:return s=d.sent(),u=s.Yk,[4,s.Ck()];case 3:return e=d.sent(),[3,5];case 4:return Fo(o=d.sent()),t.rI=Aw.ERROR,t._o(new cp(function(t,n){var i=n,r=0;if(Vl(t)&&t.name===kl.GE)i=t.Qk.Xu;else if(Fl(t)){var e=t.zE;if(i=e.eE,0===(r=e.Yk))return new qy(td.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",i,r,t)}return new qy(td.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",i,r,t)}(o,t.VC))),[2];case 5:try{for(a=function(t){return Fm(t)?Tw.WEBVTT:By(t)?Tw.TTML:Tw.SRT}(e),t.Tw=a,c=[],a===Tw.WEBVTT||a===Tw.SRT?(h=Im(e),c=h.L):a===Tw.TTML&&(c=Iy(e,t)),f=0;f<c.length;f++)v=c[f],t._W(v)}catch(n){return Fo(n),t.rI=Aw.ERROR,t._o(new cp(up(t.Tw,t.VC,u,n))),[2]}return t.rI=Aw.LOADED,[2]}}))}))()},i.hW=function(t){po(this.Z.lC,t)&&t.rI===Aw.NONE&&this.dW(t,this.vW.Uw).catch(Uo)},i.$n=function(){},i.nr=function(){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:for(n.vW.jw(),n.vW=new Yo,i=0,r=n.Z.lC;i<r.length;i++)e=r[i],n.lW.mW(e);return[4,t.prototype.nr.call(n)];case 1:return u.sent(),[2]}}))}))()},n}(ap);function fp(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.Lt===n&&r.gW)return r}}function vp(t,n){dp(fp(t.lC,n))}function dp(t){void 0!==t&&(t.CE=Vy.Qn)}function lp(t,n){var i=fp(t.lC,n)||function(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.Lt===n)return r}}(t.lC,n);dp(i)}function gp(t){for(var n=0;n<Yy.length;n++){var i=Yy[n];i===zy.Jn?lp(t,i):vp(t,i)}}F(),Tt(),F(),Tt(),Rt();var wp=function(t){function n(){return t.call(this,oa.jy)||this}return It(n,t),n}(sa);F(),Tt(),F(),Tt();var mp=function(t){return t[t.pW=0]="pW",t[t.wW=1]="wW",t}({});F(),Tt();var yp=function(t){return t.BL="canplay",t.OL="canplaythrough",t.FL="loadeddata",t.VL="loadedmetadata",t.iC="readystatechange",t.WL="waiting",t.UL="playing",t}({}),pp=["canplay","canplaythrough","loadeddata","loadedmetadata","readystatechange","waiting","playing"];F(),Tt(),Dt(),Rt(),F(),Tt(),Rt();var _p=function(t){function n(n,i){var r;return(r=t.call(this,yp.iC)||this).currentTime=n,r.readyState=i,r}return It(n,t),n}(sa);F(),Tt();var bp=function(t){return t[t.eO=0]="eO",t[t.Xn=1]="Xn",t[t.iO=2]="iO",t[t.sO=3]="sO",t[t.nO=4]="nO",t}({});F(),Tt(),Rt();var kp=function(t){function n(n,i){var r;return void 0===i&&(i=bp.Xn),(r=t.call(this,yp.VL)||this).currentTime=n,r.readyState=i,r}return It(n,t),n}(sa);F(),Tt(),Rt();var Ap=function(t){function n(n,i){var r;return void 0===i&&(i=bp.iO),(r=t.call(this,yp.FL)||this).currentTime=n,r.readyState=i,r}return It(n,t),n}(sa);F(),Tt(),Rt();var Tp=function(t){function n(n){var i;return(i=t.call(this,yp.WL)||this).currentTime=n,i}return It(n,t),n}(sa);F(),Tt(),Rt();var Sp=function(t){function n(n,i){var r;return void 0===i&&(i=bp.sO),(r=t.call(this,yp.BL)||this).currentTime=n,r.readyState=i,r}return It(n,t),n}(sa);F(),Tt(),Rt();var Ep=function(t){function n(n,i){var r;return void 0===i&&(i=bp.nO),(r=t.call(this,yp.OL)||this).currentTime=n,r.readyState=i,r}return It(n,t),n}(sa);F(),Tt(),Rt();var Ip=function(t){function n(n){var i;return(i=t.call(this,yp.UL)||this).currentTime=n,i}return It(n,t),n}(sa),Rp=[yp.iC,yp.UL,oa.ho,oa.zy],Cp=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this)||this).AW=n,r.xW=i,r.RW=bp.eO,r.MW=!0,r.kW=!1,r.bW=!1,r.FW=function(t){var n=r.AW.rI;n!==r.RW&&r._o(new _p(t.currentTime,n)),n===bp.eO&&(r.kW=!1,r.bW=!1),r.yW(n),r.TW(n),r.NW(n),r.maybeDispatchCanPlayThroughEvent(n),r.EW(n),r.PW(n),r.RW=n},r.BW=function(){r.PW(r.RW),r.EW(r.RW),r.MW=r.AW.KR},r.OW=function(){r.MW=r.AW.KR},r.LW=function(t){r._o(new Ip(t.currentTime))},r.AW.bn(yp.iC,r.FW),r.AW.bn(oa.ho,r.BW),r.AW.bn(oa.zy,r.OW),r.xW&&r.AW.bn(yp.UL,r.LW),r}It(n,t);var i=n.prototype;return i.yW=function(t){!this.bW&&t>=bp.Xn&&(this.bW=!0,this._o(new kp(this.AW.ER,t)))},i.TW=function(t){!this.kW&&t>=bp.iO&&(this.kW=!0,this._o(new Ap(this.AW.ER,t)))},i.EW=function(t){this.xW||(t>=bp.sO&&this.RW<bp.sO&&!this.AW.KR||this.IW&&t>=bp.sO)&&this._o(new Ip(this.AW.ER))},i.PW=function(t){!this.DW(t)||this.AW.PR||this.AW.lt||this._o(new Tp(this.AW.ER))},i.NW=function(t){this.RW<=bp.iO&&t>=bp.sO&&this._o(new Sp(this.AW.ER,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===bp.nO&&this._o(new Ep(this.AW.ER,t))},i.DW=function(t){var n=!this.AW.KR&&t<=bp.iO,i=!this.MW&&this.RW<=bp.iO;return n&&!i},i.nr=function(){this.RW=bp.eO,this.MW=!0,this.kW=!1,this.bW=!1},i.yn=function(){this.Ro(),this.xW&&this.AW.vn(yp.UL,this.LW),this.AW.vn(oa.ho,this.BW),this.AW.vn(oa.zy,this.OW),this.AW.vn(yp.iC,this.FW)},Nt(n,[{key:"IW",get:function(){return!this.AW.KR&&this.MW}}]),n}(ra),Np=function(t){function n(n){var i;return(i=t.call(this)||this).AW=n,i.AW.bn(Rp,i.Ds),i}return It(n,t),n.prototype.Xw=function(){this.Ro(),this.AW.vn(Rp,this.Ds)},Nt(n,[{key:"ER",get:function(){return this.AW.ER}},{key:"PR",get:function(){return this.AW.PR}},{key:"lt",get:function(){return this.AW.lt}},{key:"KR",get:function(){return this.AW.KR}},{key:"rI",get:function(){return this.AW.rI}}]),n}(ra);F(),Tt(),F(),Tt();var Dp="titanium",Pp="conax",xp="ezdrm",Lp="irdeto",Mp="vudrm",Op="verimatrix",Bp="keyos",Vp="drmtoday",Fp="expressplay",Up="azure",Wp="xstream",Zp="vimond",Xp="axinom",Gp="uplynk",Hp="comcast",zp="custom";F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Gt(),Dt(),qt();var Yp=function(){function t(t,n,i,r,e){this.WW=void 0,this.cT=t,this.hU=n,this.aU=i,this.fW=r,this.oU=e,this.XW=this.uU(n)}var n=t.prototype;return n.VW=function(){return this.WW},n.UW=function(t){this.WW=t},n.zW=function(){return this.XW.licenseAcquisitionURL||this.VW()},n.YW=function(t){return et.resolve()},n.KW=function(t,n){return et.resolve(void 0)},n.jW=function(t,n,i,r){var e=this;return Zt((function(){var u,s;return Ht(this,(function(o){switch(o.label){case 0:if(""===(u=e.QW(t,n,i,r)).Xu)throw new Qg(td.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");o.label=1;case 1:return o.trys.push([1,4,,6]),[4,e.fR.Qk(u)];case 2:return[4,o.sent().Pk(n)];case 3:return[2,o.sent()];case 4:return Fo(s=o.sent()),[4,e.JW(s,u.Xu,r)];case 5:return o.sent(),[2];case 6:return[2]}}))}))()},n.QW=function(t,n,i,r){var e=this.$W().Ek(),u=this.xE,s={Xu:this.tU(),jk:n,Jk:e,Lk:t,xE:u,AE:ol.POST,SE:0,Uw:r,Tw:al.oE,kE:i};return new vl(s)},n.eU=function(t,n){return et.resolve(t)},n.iU=function(t,n,i,r){return et.resolve(t)},n.$W=function(){return new Rd(this.XW.headers||{})},n.JW=function(t,n,i){return Zt((function(){return Ht(this,(function(n){throw new Qg(td.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",t)}))}))()},n.tU=function(t,n){var i=n,r=this.XW.queryParameters;if(!i){var e=this.zW();if(!e)return"";i=e}if(r||t){var u=Kn.Ih(i);t&&wl(u,t),r&&wl(u,r),i=u.href}return i},n.sU=function(t,n){return jp(t)},n.nU=function(t){return new E(t)},n.rU=function(t,n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){switch(s.label){case 0:return[4,r.sU(t,i)];case 1:return e=s.sent(),[4,r.jW(e,r.oU,n,i)];case 2:return u=s.sent(),[2,r.nU(u)]}}))}))()},n.yn=function(){},Nt(t,[{key:"fR",get:function(){return this.fW}},{key:"GW",get:function(){return!1}},{key:"ZW",get:function(){var t=this.XW.certificate;if(t)return ti(t)?ba(t):Tc(t)}},{key:"qW",get:function(){return!1}},{key:"xE",get:function(){return Boolean(this.XW.useCredentials)}}]),t}();function jp(t){return et.resolve(Ec(t).buffer)}var Kp,qp=function(t){function n(n,i,r,e){return t.call(this,Ns,n,i,r,e)||this}It(n,t);var i=n.prototype;return i.uU=function(t){return t.widevine||{}},i.cU=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){return i.ZW?[2,i.ZW]:[2,i.lU(new E(t),n)]}))}))()},i.lU=function(n,i){return t.prototype.rU.call(this,n,cl.cE,i)},n}(Yp);function Jp(t,n){if(null==t)return{};var i,r,e={},u=b.keys(t);for(r=0;r<u.length;r++)i=u[r],n.indexOf(i)>=0||(e[i]=t[i]);return e}function Qp(t){return Yn(t.token&&t.deviceId)}function $p(t){var n,i=null==(n=t.fairplay)?void 0:n.headers;return void 0!==i&&Yn(i.PreAuthorization)}function t_(t){var n=t;return Qp(n)&&""!==n.token&&""!==n.deviceId&&!$p(n)}F(),Tt(),F(),Tt(),Gt(),sn(),F(),Tt(),qt(),F(),Tt(),F(),Tt(),F(),Tt(),function(t){t.eP=!1,t.iP=!1,t.sP=!1,t.nP=!1,t.LOG_ADS_DETAILS=!1,t.LOG_CHROMECAST_DETAILS=!1,t.LOG_CUSTOM_DRM=!1,t.LOG_BUFFERING_VIDEO_MAIN=!1,t.LOG_BUFFERING_VIDEO_SELECTION=!1,t.LOG_BUFFERING_AUDIO_MAIN=!1,t.LOG_BUFFERING_AUDIO_SELECTION=!1,t.rP=!1,t.oP=!1,t.LOG_LCEVC_DETAILS=!1}(Kp||(Kp={})),F(),Tt(),Dt();var n_=function(){function t(t,n,i){this.aP=t,this.nT=n,this.cP=i}return t.prototype.uP=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new _("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new _("ContentProtectionIntegration.onCertificateResponse is not a function.");var r=t.onLicenseRequest;if(void 0!==r&&"function"!=typeof r)throw new _("ContentProtectionIntegration.onLicenseRequest is not a function.");var e=t.onLicenseResponse;if(void 0!==e&&"function"!=typeof e)throw new _("ContentProtectionIntegration.onLicenseResponse is not a function.");var u=t.extractFairplayContentId;if(void 0!==u&&"function"!=typeof u)throw new _("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.cP.build(t))},Nt(t,[{key:"hP",get:function(){return this.aP}},{key:"cT",get:function(){return this.nT}}]),t}();F(),Tt();var i_=function(t){return t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED",t}({}),r_=function(){function t(){this.dP=[]}var n=t.prototype;return n.registerContentProtectionIntegration=function(t,n,i){switch(this.lP(t,n,i)){case i_.FAILED:throw new Qg(td.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+n+".");case i_.OVERRIDDEN:var r=__(n);Kn.Vp("Warning: Overwriting an earlier registered integration for "+t+" and "+r+".");break;case i_.SUCCEEDED:__(n);0}},n.lP=function(t,n,i){var r=__(n);if(!r)return i_.FAILED;for(var e=i_.SUCCEEDED,u=0,s=this.dP.slice();u<s.length;u++){var o=s[u];o.hP===t&&o.cT===r&&(e=i_.OVERRIDDEN,wo(this.dP,o))}return this.dP.push(new n_(t,r,i)),e},n.fP=function(t,n){return void 0!==this._P(t,n)},n.vP=function(t,n,i){var r=this._P(t,n);if(!r)throw p("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return r.uP(i)},n._P=function(t,n){for(var i=0,r=this.dP;i<r.length;i++){var e=r[i];if(e.hP===t&&(!n||e.cT===n))return e}},t}();r_.mP=new r_;var e_={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function u_(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,r=t.keys,e=t.headers,u=t.useCredentials,s=t.queryParameters;return!(n||i||r||e||u||s)}function s_(t){return t&&void 0!==t.licenseAcquisitionURL}var o_=s_,a_=s_;function c_(t){if(!t)return!0;if(d_(t))return!1;var n=t.fairplay,i=t.playready,r=t.widevine,e=t.clearkey,u=t.aes128;return u_(n)&&u_(i)&&u_(r)&&void 0===e&&u_(u)}function h_(t){var n=t_(t),i=function(t){var n,i=t;return $p(i)&&""!==(null==(n=i.fairplay)?void 0:n.headers.PreAuthorization)&&!Qp(i)}(t);return(!n||!i)&&(n||i)}function f_(t){return t.integration===Lp}function v_(t){var n=t;if(!n)return!1;if(c_(n))return!1;var i=n.fairplay,r=n.playready,e=n.widevine,u=n.clearkey;if(d_(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(r&&!o_(r))return!1;if(e&&!a_(e))return!1;if(u&&!function(t){return void 0!==t}(u))return!1;if(n.integration){if(r_.mP.fP(n.integration))return!0;switch(n.integration){case Dp:if(!function(t){var n=t,i=n.integration===Dp;return i&&(l_(t)||g_(t))}(t))return!1;break;case Mp:if(!w_(t))return!1;break;case Op:if(!function(t){var n=t;return n.integration===Op}(t))return!1;break;case Lp:if(!f_(t))return!1;break;case Pp:if(!h_(t))return!1;break;case xp:if(!function(t){var n=t;return n.integration===xp}(t))return!1;break;case Bp:if(!d_(t))return!1;break;case Vp:if(!function(t){var n=t;return n.integration===Vp&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case Fp:if(!function(t){var n=t;return n.integration===Fp}(t))return!1;break;case Wp:if(!m_(t))return!1;break;case Zp:if(!function(t){return t.integration===Zp}(t))return!1;break;case Xp:if(!y_(t))return!1;break;case Up:if(!function(t){var n=t;return n.integration===Up&&void 0!==n.token}(t))return!1;break;case Gp:if(!function(t){var n=t;return n.integration===Gp}(t))return!1;break;case Hp:if(!function(t){var n=t;return n&&Yn(n.releasePid)&&Yn(n.accountId)&&Yn(n.token)}(t))return!1;break;case zp:return!0;default:return!1}}return!0}function d_(t){return t.integration===Bp}function l_(t){return void 0!==t.authToken}function g_(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function w_(t){var n=t;return n.integration===Mp&&void 0!==n.token}function m_(t){var n=t;return n&&n.integration===Wp&&ti(n.ticketAcquisitionURL)&&ti(n.streamId)}function y_(t){var n=t;return n.integration===Xp&&void 0!==n.token}function p_(t,n){var i,r,e,u=n[t],s=null!=(i=null==u?void 0:u.licenseAcquisitionURL)?i:e_[t],o=null!=(r=null==u?void 0:u.customdata)?r:n.customdata,a=o?{customData:o}:{},c=ns({},null!=(e=null==u?void 0:u.headers)?e:{},a),h=null!=u?u:{};h.customdata;return ns({},Jp(h,["customdata"]),{licenseAcquisitionURL:s,headers:c})}function __(t){switch(t.toLowerCase()){case"widevine":case ps:return ps;case"playready":case ws:return ws;case"fairplay":case Ts:return Ts}}function b_(t,n){switch(t){case vs:return function(t){for(var n={},i=gy.iN(new DataView(t)),r=0;r<i.length;r++){var e=i[r];n[e.AL]=e.kL}return n}(n);case ds:case ls:return function(t){return un({},As,t)}(n);default:throw new id(td.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}function k_(t){return A_.apply(this,arguments)}function A_(){return A_=Zt((function(t,n){var i,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return void 0===n&&(n=!1),(i=t.widevine)?[4,Kn.Kp()]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return i?[2,!0]:(r=t.playready)?[4,Kn.Yp()]:[3,4];case 3:r=s.sent(),s.label=4;case 4:return r?[2,!0]:(e=t.clearkey)?[4,Kn.zp()]:[3,6];case 5:e=s.sent(),s.label=6;case 6:return e?[2,!0]:(u=!n&&t.fairplay)?[4,Kn.qp()]:[3,8];case 7:u=s.sent(),s.label=8;case 8:return u?[2,!0]:[2,!1]}}))})),A_.apply(this,arguments)}var T_=function(t){return t.ww="Widevine",t.dU="PlayreadyV2",t.fU="PlayreadyV3",t.pw="PlayreadyV2",t.Aw="Fairplay",t}({}),S_={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function E_(t,n){var i,r,e,u,s=S_[n],o=t.accountName;return{CustomerName:t.customerName,AccountName:o,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(i=Kn.Jp)?void 0:i.Ys,OSVersion:null==(r=Kn.Jp)?void 0:r.lw,DRMProvider:s.DRMProvider,DRMVersion:s.DRMVersion,DRMType:s.DRMType,DeviceVendor:null==(e=Kn.Jp)?void 0:e.dw,DeviceModel:null==(u=Kn.Jp)?void 0:u.fw}}}function I_(t,n){if(!t.accountName)throw new Qg(td.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration, accountName is not set.");if(!t.customerName)throw new Qg(td.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration, customerName is not set.");if(!t.portalId)throw new Qg(td.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration, portalId is not set.");throw new Qg(td.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration.")}function R_(t,n,i){var r;if(l_(t))r={AuthToken:t.authToken,Payload:n};else{if(!g_(t))throw I_(t,i);r={LatensRegistration:E_(t,i),Payload:n}}return Wc(JSON.stringify(r))}function C_(t,n,i){return N_.apply(this,arguments)}function N_(){return N_=Zt((function(t,n,i){var r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:if(!(r=t.zE))throw new Qg(td.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,n);e=r,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,e.Ik(i)];case 2:return u=o.sent(),s=function(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}return}(u),[3,4];case 3:return o.sent(),s="",[3,4];case 4:throw new Qg(td.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,e.Qk.Xu,e.Yk,e.$k,s)}}))})),N_.apply(this,arguments)}F(),Tt(),Gt(),qt();var D_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Id.Ak)||this).vU=void 0,e}It(n,t);var i=n.prototype;return i.JW=function(t,n,i){return C_(t,n,i)},i.YW=function(t){return this.vU?Wo(this.vU.Ub,t):(this.vU=new Gc,et.resolve())},i.sU=function(t,n){var i=this;return Zt((function(){var n,r;return Ht(this,(function(e){if(!(n=i.hU))throw new Qg(td.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");return r=Ta(t),[2,R_(n,r,T_.ww)]}))}))()},i.nU=function(t){if(!t.license)throw new Qg(td.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return ba(t.license)},i.mU=function(t){return et.resolve(new E(t))},i.cU=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return i.gU(),[4,i.sU(t,n)];case 1:return r=u.sent(),[4,i.jW(r,Id.bk,cl.lE,n)];case 2:return e=u.sent(),[4,i.mU(e)];case 3:return[2,u.sent()]}}))}))()},i.lU=function(n,i){var r=this;return Zt((function(){var e;return Ht(this,(function(u){switch(u.label){case 0:return[4,t.prototype.lU.call(r,n,i)];case 1:return e=u.sent(),r.gU(),[2,e]}}))}))()},i.gU=function(){this.vU||(this.vU=new Gc),this.vU.Vb()},i.yn=function(){this.vU&&this.vU.jw(),t.prototype.yn.call(this)},n._U=function(){return Kn.Ys.sp?"required":"optional"},n}(qp);F(),Tt(),Gt(),Dt(),Rt(),qt();var P_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Id.bk)||this).UW("https://widevine-proxy.drm.technology/proxy"),e}return It(n,t),n.prototype.sU=function(t,n){var i=this;return Zt((function(){var n,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return[4,jp(t)];case 1:if(n=s.sent(),r=i.aU,e=Ic(new E(n)),void 0===(u=i.pU))throw new Qg(td.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");return[2,JSON.stringify({token:u,drm_info:e,kid:r})]}}))}))()},Nt(n,[{key:"pU",get:function(){if(w_(this.hU))return this.hU.token}}]),n}(qp);function x_(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=ns({},i,{SessionId:t.sessionId,Ticket:t.ticket})),ns({},i,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}F(),Tt(),Rt(),F(),Tt();var L_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Id.bk)||this).UW("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),e}return It(n,t),n.prototype.tU=function(n,i){var r=n;return f_(this.hU)&&(r=x_(this.hU,r)),t.prototype.tU.call(this,r,i)},n}(qp);F(),Tt(),Rt(),F(),Tt();var M_="Conax-Custom-Data";function O_(t,n,i){var r=t&&h_(t)&&t;if(r&&!i.has(M_)){var e=t_(r)?r.token:void 0,u=t_(r)?r.deviceId:void 0,s=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:e,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:u}});i.set(M_,s)}return i}var B_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Id.bk)||this).UW("https://connect.conax.com:8094/license"),e}return It(n,t),n.prototype.$W=function(){var n=t.prototype.$W.call(this);return O_(this.hU,"Widevine",n)},n}(qp);function V_(t){var n=hc(new E(t));return ba(JSON.parse(n).license)}function F_(t){return"string"==typeof t.token?t.token:Wc(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function U_(t,n,i){var r;return r=i.token?"x-dt-auth-token":"dt-custom-data",t.set(r,n),t}F(),Tt(),Dt(),Rt(),F(),Tt();var W_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Id.bk)||this).UW("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),e}It(n,t);var i=n.prototype;return i.nU=function(t){return V_(t)},i.$W=function(){return U_(t.prototype.$W.call(this),this.pU,this.hU)},Nt(n,[{key:"pU",get:function(){return F_(this.hU)}}]),n}(qp);F(),Tt(),Rt();var Z_=function(t){function n(n,i,r){return t.call(this,n,i,r,Id.bk)||this}return It(n,t),n.prototype.$W=function(){var n=t.prototype.$W.call(this),i=this.hU.token;return n.set("Authorization","Bearer "+i),n},n}(qp);function X_(t,n,i,r){return G_.apply(this,arguments)}function G_(){return G_=Zt((function(t,n,i,r){var e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:if(!m_(t))throw new Qg(td.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");return(e=new Rd).append("Cache-Control","no-cache"),e.append("Content-Type","application/json"),(u=t.sessionId)&&e.append("XSSESSION",u),s=t.streamId,o=t.fairplay?"persistent"===t.fairplay.licenseType?"persistent":"non-persistent":t.widevine&&"persistent"===t.widevine.licenseType?"persistent":"non-persistent",a={drmType:n,licenseType:o,streamId:s},c={Xu:t.ticketAcquisitionURL,jk:Id.Ak,Jk:e,AE:ol.POST,Lk:JSON.stringify(a),Uw:r},[4,i.Qk(c)];case 1:return[4,h.sent().Ik()];case 2:return[2,h.sent()]}}))})),G_.apply(this,arguments)}F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Gt(),qt();var H_=function(t){function n(n,i,r){return t.call(this,n,i,r,Id.Ak)||this}It(n,t);var i=n.prototype;return i.$W=function(){var n=t.prototype.$W.call(this);return n.set("Content-Type","application/json"),n},i.sU=function(n,i){var r=this;return Zt((function(){var e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return e=Uc(n.buffer),[4,X_(r.hU,"widevine_modular",r.fR,i)];case 1:return u=o.sent(),r.UW(u.licenseServerUrl),s=fc(JSON.stringify({payload:e,ticket:u.ticket})),[2,t.prototype.sU.call(r,s,i)]}}))}))()},i.nU=function(t){return ba(t.license)},n}(qp);F(),Tt(),Rt();var z_=function(t){function n(n,i,r){return t.call(this,n,i,r,Id.bk)||this}return It(n,t),n.prototype.$W=function(){if(!y_(this.hU))throw new Qg(td.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var n=t.prototype.$W.call(this);return n.set("X-AxDRM-Message",this.hU.token),n},n}(qp);function Y_(t){for(var n=new E(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}F(),Tt(),Gt(),Rt(),qt();var j_=function(t){function n(n,i,r){var e;return(e=t.call(this,Cs,n,i,r,Id.bk)||this).wU=void 0,e}It(n,t);var i=n.prototype;return i.uU=function(t){return t.playready||{}},i.$W=function(){var n=new Rd(this.wU);return n.Rk(t.prototype.$W.call(this)),n},i.yU=function(t){return t.length>=1&&t[0].Ox.length>0},i.KW=function(n){var i=this.hU.playready.customData;if(i){var r=Y_(i),e=Y_('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+Ta(r)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return et.resolve({playready:{ET:e}})}return t.prototype.KW.call(this,n)},i.sU=function(t,n){var i=this;return Zt((function(){var n;return Ht(this,(function(r){switch(r.label){case 0:return[4,jp(t)];case 1:return n=r.sent(),[2,i.bU(n)]}}))}))()},i.bU=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c,h,f,v,d,l,g,w,m;return Ht(this,(function(y){e=null,u=new DataView(t),s=oc(u,new Rc,!0);try{o=Kn.Ix(s)}catch(t){return[2,e]}for(a=null==(i=o.Wx("PlayReadyKeyMessage")[0])?void 0:i.Wx("LicenseAcquisition")[0],h=null!=(c=null==a?void 0:a.Wx("Challenge"))?c:[],n.yU(h)&&(e=Fc(h[0].zx)),f=new Rd,d=null!=(v=null==a||null==(r=a.Wx("HttpHeaders")[0])?void 0:r.Wx("HttpHeader"))?v:[],l=0;l<d.length;l++)g=d[l],w=g.Wx("name")[0].zx,m=g.Wx("value")[0].zx,f.append(w,m);return n.wU=f,[2,e]}))}))()},i.cU=function(t,n){return et.resolve(t)},i.lU=function(n,i){return t.prototype.rU.call(this,n,cl.dE,i)},n}(Yp);F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Dt();var K_=function(){function t(n){this.TU=n,this.IS=t.AU(n)}return t.prototype.SU=function(){var t={};if(this.IS===T_.fU){var n={LatensRegistration:E_(this.TU,T_.fU)};t["X-TITANIUM-DRM-CDATA"]=Wc(JSON.stringify(n))}return t},t.AU=function(t){return"3"===t.version?T_.fU:T_.dU},Nt(t,[{key:"kU",get:function(){return this.IS}},{key:"wT",get:function(){return this.IS===T_.dU}}]),t}();var q_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).EU=new K_(e.hU),e}It(n,t);var i=n.prototype;return i.KW=function(t){var n=this.hU;if(!this.hU)throw new Qg(td.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(g_(n)){var i={};return i.playready={ET:J_(n,this.EU.kU)},et.resolve(i)}return et.reject(I_(n,T_.pw))},i.$W=function(){var n=new Rd(this.EU.SU());return n.Rk(t.prototype.$W.call(this)),n},i.JW=function(t,n,i){return Zt((function(){var r,e,u,s,o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:if(!(r=t.zE))throw new Qg(td.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,n);f.label=1;case 1:return f.trys.push([1,3,,4]),[4,r.Dk(i)];case 2:return s=f.sent(),o=hc(new E(s)),(a=Kn.Ix(o))&&(c=by(a,"CustomData")).length>0&&(e=JSON.parse(c[0].zx),u=null==(h=e.DrmErr)?void 0:h.desc),[3,4];case 3:return f.sent(),[3,4];case 4:throw new Qg(td.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,n,r.Yk,r.$k,u)}}))}))()},i.yU=function(t){if(1!==t.length)throw new Qg(td.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},n}(j_);function J_(t,n){var i=E_(t,n),r=i.DeviceInfo.FormatVersion,e=function(t){return t.replace(/&lt;/g,"<").replace(/&gt;/g,">")}(function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}("<TitaniumCustomData>"+Wc('<LatensRegistration formatversion="'+r+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+r+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>")+"</TitaniumCustomData>")),u=dc(e,!0);return dc('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+Ta(u)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}F(),Tt(),Dt(),Rt();var Q_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).UW("https://playready-license.drm.technology/rightsmanager.asmx"),e}It(n,t);var i=n.prototype;return i.yU=function(t){if(1!==t.length)throw new Qg(td.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},i.tU=function(n,i){var r=ns({},n||{},{token:this.pU});return t.prototype.tU.call(this,r,i)},Nt(n,[{key:"pU",get:function(){if(w_(this.hU))return this.hU.token}}]),n}(j_);F(),Tt(),Rt();var $_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).UW("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),e}return It(n,t),n.prototype.tU=function(n,i){var r=n;return f_(this.hU)&&(r=x_(this.hU,r)),t.prototype.tU.call(this,r,i)},n}(j_);F(),Tt(),Rt();var tb=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).UW("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),e}return It(n,t),n.prototype.$W=function(){var n=t.prototype.$W.call(this);return O_(this.hU,"PlayReady",n)},n}(j_);F(),Tt(),Dt(),Rt();var nb=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).UW("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),e}It(n,t);var i=n.prototype;return i.nU=function(n){var i=function(t){var n=hc(new E(t));return Fs(n,"<?xml")?0:1}(n);return 1===i?V_(n):t.prototype.nU.call(this,new E(n))},i.$W=function(){return U_(t.prototype.$W.call(this),this.pU,this.hU)},Nt(n,[{key:"pU",get:function(){return F_(this.hU)}}]),n}(j_);F(),Tt(),Gt(),Rt(),qt();var ib=function(t){function n(n,i,r){return t.call(this,n,i,r)||this}It(n,t);var i=n.prototype;return i.$W=function(){var n=t.prototype.$W.call(this);return this.xU&&n.set("Ticket",this.xU),n.set("Content-Type","text/xml"),n},i.sU=function(n,i){var r=this;return Zt((function(){var e;return Ht(this,(function(u){switch(u.label){case 0:return[4,X_(r.hU,"playready",r.fR,i)];case 1:return e=u.sent(),r.UW(e.licenseServerUrl),r.xU=e.ticket,[2,t.prototype.sU.call(r,n,i)]}}))}))()},n}(j_);F(),Tt(),Rt();var rb=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n.prototype.$W=function(){if(!y_(this.hU))throw new Qg(td.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var n=t.prototype.$W.call(this);return n.set("X-AxDRM-Message",this.hU.token),n},n}(j_);F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt();var eb=function(t){return t.Ak="application/json",t.RU="application/x-www-form-urlencoded",t.IU="application/octet-stream",t.Tk="text/plain;charset=UTF-8",t}({}),ub=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n.cT,i,r,e,u)||this).MU="",s.PU=void 0,s.OU=n.WU,s}It(n,t);var i=n.prototype;return i.CU=function(){return this.XW.certificateURL||this.PU},i.DU=function(t){this.PU=t},i.sU=function(t){return et.resolve(this.NU(t,this.MU))},i.NU=function(t,n){return"spc="+encodeURIComponent(Ta(t))+"&assetId="+encodeURIComponent(n)},i.uU=function(t){return t.fairplay||{}},i.BU=function(t){var n=t.indexOf("?");if(n>=0)return et.resolve(t.substr(n+1));var i=t.split("skd://").pop();if(i){if(/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/.test(i))return et.resolve(i)}var r=t.split("/");return et.resolve(r[r.length-1])},i.KW=function(t){var n=this;return Zt((function(){var i,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return r=null!=(i=n.OU)?i:wc(new E(t)),[4,n.BU(r)];case 1:return e=s.sent(),n.MU=e,(u={}).fairplay={BT:e},[2,u]}}))}))()},i.$W=function(){var n=t.prototype.$W.call(this);return n.set("Content-Type",this.LU),n},i.cU=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(t){switch(t.label){case 0:return i.ZW?[2,i.ZW]:[4,i.FU(n)];case 1:return[2,t.sent()]}}))}))()},i.lU=function(n,i){return t.prototype.rU.call(this,n,cl.aE,i)},i.VU=function(t){var n=this.CU(),i=this.$W(),r={Xu:n,jk:Id.bk,Jk:i,AE:ol.GET,xE:!1,Lk:null,SE:0,Uw:t,Tw:al.oE,kE:cl.uE};return new vl(r)},i.FU=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return i=n.VU(t),[4,n.fR.Qk(i)];case 1:return[4,e.sent().Dk()];case 2:return r=e.sent(),[2,new E(r)]}}))}))()},i.nU=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=ba(i)}else n=new E(t);return n},i.tU=function(n,i){var r=t.prototype.tU.call(this,n,i);return Fs(r,"skd:")&&(r=r.substr(4)),r},Nt(n,[{key:"qW",get:function(){return!0}},{key:"LU",get:function(){return eb.RU}}]),n}(Yp);F(),Tt(),Gt(),Dt(),Rt(),qt();var sb=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Id.bk)||this}It(n,t);var i=n.prototype;return i.BU=function(n){var i=n.split("://",1);return"skd"!==i[0].slice(-3).toLowerCase()?et.resolve(""):(i=n.split(";",2)).length>1?et.resolve(i[1]):et.resolve(t.prototype.BU.call(this,n))},i.sU=function(t){return Zt((function(){return Ht(this,(function(n){return[2,t]}))}))()},i.nU=function(t){return new E(t)},i.tU=function(n,i){var r=n||{};return r.p1=gr(),t.prototype.tU.call(this,r,i)},Nt(n,[{key:"LU",get:function(){return eb.IU}}]),n}(ub);F(),Tt(),Dt(),Rt();var ob=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Id.bk)||this).UW("https://fairplay-license.drm.technology/license"),u.DU("https://fairplay-license.drm.technology/certificate"),u}It(n,t);var i=n.prototype;return i.NU=function(t,n){var i={token:this.pU,contentId:n,payload:Ta(t)};return JSON.stringify(i)},i.nU=function(t){return new E(t)},i.$W=function(){var n=t.prototype.$W.call(this);return n.set("x-vudrm-token",this.pU),n},Nt(n,[{key:"LU",get:function(){return eb.Ak}},{key:"pU",get:function(){if(!w_(this.hU))throw new Qg(td.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.hU.token}}]),n}(ub);F(),Tt(),Rt();var ab="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",cb="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",hb=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Id.bk)||this}return It(n,t),n.prototype.nU=function(n){var i=function(t){var n;try{n=JSON.parse(t).ckc}catch(t){throw new Qg(td.CONTENT_PROTECTION_LICENSE_INVALID,ab)}if(!n)throw new Qg(td.CONTENT_PROTECTION_LICENSE_ERROR,cb);return n}(hc(new DataView(n)));return t.prototype.nU.call(this,i)},n}(ub);F(),Tt(),Gt(),Dt(),Rt(),qt();var fb=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Id.Ak)||this}It(n,t);var i=n.prototype;return i.sU=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){if(!(i=n.hU))throw new Qg(td.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");return r=Ta(t),[2,R_(i,r,T_.Aw)]}))}))()},i.nU=function(t){try{var n;if(ti(t)){var i=t.trim();n=JSON.parse(i)}else n=t;if(n.license){var r=Fc(n.license);return new E(r)}throw new Qg(td.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server")}catch(t){throw new Qg(td.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server")}},i.JW=function(t,n,i){return C_(t,n,i)},Nt(n,[{key:"LU",get:function(){return eb.Ak}}]),n}(ub);F(),Tt(),Gt(),Dt(),Rt(),qt();var vb=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Id.bk)||this).UW("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),u.DU("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),u}It(n,t);var i=n.prototype;return i.CU=function(){var n=t.prototype.CU.call(this);if(!n)return n;var i=Kn.Ih(n),r=this.hU;return f_(r)&&wl(i,{accountId:r.accountId,applicationId:r.applicationId||""}),i.href},i.BU=function(n){return f_(this.hU)?et.resolve(this.hU.contentId):t.prototype.BU.call(this,n)},i.sU=function(t){return Zt((function(){return Ht(this,(function(n){return[2,t]}))}))()},i.nU=function(t){return new E(t)},i.tU=function(n,i){var r=n;return f_(this.hU)&&(r=function(t,n){return ns({},x_(t,n),{KeyId:t.keyId})}(this.hU,r)),t.prototype.tU.call(this,r,i)},Nt(n,[{key:"LU",get:function(){return eb.IU}}]),n}(ub);F(),Tt(),Gt(),Rt(),qt();var db=function(t){function n(n,i,r,e){var u;if(u=t.call(this,n,i,r,e,Id.Tk)||this,!h_(i))throw new Qg(td.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return u.UW("https://connect.conax.com:8097/license"),u}It(n,t);var i=n.prototype;return i.$W=function(){var n=t.prototype.$W.call(this);return O_(this.hU,"FairPlay",n)},i.FU=function(t){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:return i=n.CU(),r={Xu:i,jk:Id.bk,Jk:{},AE:ol.GET,xE:!1,Lk:null,SE:0,Uw:t,Tw:al.oE,kE:cl.uE},[4,n.fR.Qk(r)];case 1:return[4,u.sent().Dk()];case 2:return e=u.sent(),[2,new E(e)]}}))}))()},i.sU=function(t){return Zt((function(){return Ht(this,(function(n){return[2,t]}))}))()},i.BU=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring(6,i):t.substring(6),et.resolve(function(t){return hc(ba(t))}(n))):et.resolve("unknown")},i.nU=function(t){try{var n=JSON.parse(t);return new E(Fc(n.CkcMessage))}catch(t){throw new p("CFLRW-66")}},n}(ub);F(),Tt(),Rt();var lb=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Id.Tk)||this).UW(e_[Rs.Aw]),u}It(n,t);var i=n.prototype;return i.BU=function(t){return Fs(t,"skd://")?et.resolve(t.substring(6,40)):et.reject(new Qg(td.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},i.NU=function(t,n){return"spc="+Ta(t)+"&assetId="+n},n}(ub);F(),Tt(),Dt(),Rt();var gb=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Id.Tk)||this).UW("https://lic.drmtoday.com/license-server-fairplay/"),u}It(n,t);var i=n.prototype;return i.NU=function(t,n){var i="spc="+encodeURIComponent(Ta(t))+"&"+encodeURI(n);return"persistent"===this.XW.licenseType?i+"&offline=true":i},i.$W=function(){return U_(t.prototype.$W.call(this),this.pU,this.hU)},Nt(n,[{key:"pU",get:function(){return F_(this.hU)}}]),n}(ub);F(),Tt(),Gt(),Dt(),Rt(),qt();var wb=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Id.bk)||this}It(n,t);var i=n.prototype;return i.BU=function(t){var n=t;return Fs(n,"skd:")&&(n="http:"+n.substring(4)),Fs(n,"http:")||Fs(n,"https:")?et.resolve(Kn.Ih(n).hostname):et.reject(new p("Could not parse ExpressPlay FairPlay content ID."))},i.sU=function(t){return Zt((function(){return Ht(this,(function(n){return[2,t]}))}))()},i.nU=function(t){return new E(t)},Nt(n,[{key:"LU",get:function(){return eb.IU}}]),n}(ub);F(),Tt(),Rt();var mb=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Id.Tk)||this}return It(n,t),n.prototype.$W=function(){var n=t.prototype.$W.call(this),i=this.hU.token;return n.set("Authorization","Bearer "+i),n},n}(ub);F(),Tt(),Gt(),Dt(),Rt(),qt();var yb=function(t){function n(n,i,r,e){var u;if(u=t.call(this,n,i,r,e,Id.Ak)||this,!m_(i))throw new p("Invalid Xstream DRM configuration");return u}It(n,t);var i=n.prototype;return i.FU=function(t){var n=this;return Zt((function(){var i,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return i=n.CU(),r=n.$W(),e={Xu:i,jk:Id.Ak,Jk:r,AE:ol.POST,Uw:t,Tw:al.oE,kE:cl.uE},[4,n.fR.Qk(e)];case 1:return[4,s.sent().Ik()];case 2:return u=s.sent(),[2,new E(ba(u.certificate))]}}))}))()},i.lU=function(t,n,i){void 0===i&&(i=Id.Tk);var r=this;return Zt((function(){var i,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return i=Ta(t),[4,X_(r.hU,"fairplay",r.fR,n)];case 1:return e=o.sent(),u=fc(JSON.stringify({spc:i,ticket:e.ticket})),s={Xu:r.zW(),jk:Id.Ak,Jk:r.$W(),AE:ol.POST,Lk:u,SE:0,Uw:n,Tw:al.oE,kE:cl.aE},[4,r.fR.Qk(s)];case 2:return[4,o.sent().Ik()];case 3:return[2,ba(o.sent().licence)]}}))}))()},Nt(n,[{key:"LU",get:function(){return eb.Ak}}]),n}(ub);F(),Tt(),Rt();var pb=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Id.Tk)||this}It(n,t);var i=n.prototype;return i.NU=function(t,n){return Ta(t)},i.nU=function(n){if(0===n.length)throw new Qg(td.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.nU.call(this,n)},i.$W=function(){var n=t.prototype.$W.call(this);return n.set("Content-Type","text/plain"),n},n}(ub);F(),Tt(),Dt(),Rt();var _b=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Id.bk)||this}It(n,t);var i=n.prototype;return i.NU=function(t,n){return t},i.nU=function(t){return new E(t)},i.$W=function(){if(!y_(this.hU))throw new Qg(td.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var n=t.prototype.$W.call(this);return n.set("X-AxDRM-Message",this.hU.token),n},Nt(n,[{key:"LU",get:function(){return eb.Ak}}]),n}(ub);F(),Tt(),Dt(),Rt();var bb=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Id.Ak)||this).UU=void 0,u}It(n,t);var i=n.prototype;return i.NU=function(t,n){var i={spc:Ta(t)};return JSON.stringify(i)},i.BU=function(t){var n=Kn.Ih(t);return this.UU=t,n.searchParams.has("b")?et.resolve(n.searchParams.get("b")):et.reject(new Qg(td.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},i.tU=function(n,i){var r=this.zW();return!r&&this.UU&&(r=this.UU),r&&(r=r.replace("skd://","https://")),t.prototype.tU.call(this,n,i||r)},i.nU=function(t){try{var n;if((n=ti(t)?JSON.parse(t.trim()):t).ckc)return ba(n.ckc)}catch(t){throw new Qg(td.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server")}throw new Qg(td.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server")},Nt(n,[{key:"LU",get:function(){return eb.Tk}}]),n}(ub);F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Gt(),qt(),F(),Tt();var kb=function(){function t(t,n){this.HU=t,this.XU=n}var n=t.prototype;return n.GU=function(t){return this.HU(t)},n.ZU=function(t,n){throw new _(n+" must be "+this.XU+". (Received: "+t+")")},t}(),Ab=(new kb((function(t){return!0}),"any"),new kb(ei,"a number")),Tb=new kb(ti,"a string"),Sb=new kb(ni,"a boolean"),Eb=(new kb(ri,"a date"),new kb(jn,"undefined")),Ib=new kb(Qn,"an object"),Rb=new kb((function(t){return null===t}),"null");new kb((function(t){return null==t}),"null or undefined");function Cb(t,n){throw new _(n+" has an incorrect type")}var Nb=function(){function t(t){this.Cp=t}var n=t.prototype;return n.GU=function(t){if(!Qn(t))return!1;for(var n=0,i=b.keys(this.Cp);n<i.length;n++){var r=i[n];if(!this.Cp[r].GU(t[r]))return!1}return!0},n.ZU=function(t,n){if(!Qn(t))throw new _(n+" must be an object.");for(var i=0,r=b.keys(this.Cp);i<r.length;i++){var e=r[i],u=this.Cp[e];if(!u.GU(t[e]))return u.ZU(t[e],n+"."+String(e))}throw new _},t}();function Db(t){return new Nb(t)}function Pb(t){return b.keys(t).map((function(n){return t[n]}))}var xb=function(){function t(t){this.p_=t}var n=t.prototype;return n.GU=function(t){return po(this.p_,t)},n.ZU=function(t,n){return Cb(0,n)},t}();function Lb(t){return new xb(t)}var Mb=function(){function t(t){this.zU=t}var n=t.prototype;return n.GU=function(t){return this.zU.some((function(n){return n.GU(t)}))},n.ZU=function(t,n){return Cb(0,n)},t}();function Ob(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return new Mb(n)}var Bb=function(){function t(t){this.qU=t}var n=t.prototype;return n.GU=function(t){var n=this;return qn(t)&&t.every((function(t){return n.qU.GU(t)}))},n.ZU=function(t,n){if(!qn(t))throw new _(n+" must be an array.");for(var i=0;i<t.length;i++){var r=t[i];this.qU.GU(r)||this.qU.ZU(r,n+"["+i+"]")}return Cb(0,n)},t}();function Vb(t){return new Bb(t)}var Fb=function(){function t(t){this.qU=t}var n=t.prototype;return n.GU=function(t){var n=this;return Qn(t)&&b.keys(t).every((function(i){return n.qU.GU(t[i])}))},n.ZU=function(t,n){if(!Qn(t))throw new _(n+" must be an object.");for(var i=0,r=b.keys(t);i<r.length;i++){var e=r[i];if(!this.qU.GU(t[e]))return this.qU.ZU(t[e],n+"."+e)}return Cb(0,n)},t}();function Ub(t){return new Fb(t)}var Wb=function(){function t(t){this.qU=Si(t)}var n=t.prototype;return n.GU=function(t){return this.qU().GU(t)},n.ZU=function(t,n){return this.qU().ZU(t,n)},t}();var Zb=Db({responseCode:Ab,isException:Sb,description:Tb,title:Tb,correlationId:Tb});function Xb(t,n,i,r,e){return Gb.apply(this,arguments)}function Gb(){return Gb=Zt((function(t,n,i,r,e){var u;return Ht(this,(function(s){switch(s.label){case 0:return u=function(t,n,i,r){var e={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(gl(i,e)),s=new Rd({});s.append("Content-Type","application/json");var o=Ta(t),a={getFairplayLicense:{releasePid:n.releasePid,spcMessage:o}};return{Xu:u,jk:Id.Tk,Jk:s,AE:ol.POST,Lk:JSON.stringify(a),Uw:r,Tw:al.oE,kE:cl.aE}}(t,n,i,e),[4,Hb(u,r)];case 1:return[2,s.sent()]}}))})),Gb.apply(this,arguments)}function Hb(t,n){return zb.apply(this,arguments)}function zb(){return zb=Zt((function(t,n){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,n.Qk(t)];case 1:return[4,r.sent().Ik()];case 2:if(i=r.sent(),Zb.GU(i))throw new Qg(td.CONTENT_PROTECTION_LICENSE_ERROR,i.description,void 0,t.Xu,i.responseCode);return[2,ba(i.getFairplayLicenseResponse.ckcResponse)]}}))})),zb.apply(this,arguments)}var Yb=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Id.bk)||this).YU=i,u}It(n,t);var i=n.prototype;return i.BU=function(n){var i=n.replace("FairPlay",this.YU.releasePid);return t.prototype.BU.call(this,i)},i.lU=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return[4,Xb(t,i.YU,i.zW(),i.fR,n)];case 1:return[2,r.sent()]}}))}))()},n}(ub);F(),Tt(),Gt(),Rt(),qt();var jb=function(t){function n(n,i,r){return t.call(this,xs,n,i,r,Id.bk)||this}It(n,t);var i=n.prototype;return i.uU=function(t){return t.clearkey||{}},i.jW=function(n,i,r,e){var u=this;return Zt((function(){var i,s;return Ht(this,(function(o){if(i=u.XW,u.zW())return[2,t.prototype.jW.call(u,n,u.oU,r,e)];if(i.keys&&i.keys.length)return s={keys:i.keys.map((function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}}))},[2,mc(JSON.stringify(s)).buffer];throw new Qg(td.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.")}))}))()},i.cU=function(t,n){return et.resolve(new E(0))},i.lU=function(n,i){var r=this;return Zt((function(){var e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return[4,t.prototype.rU.call(r,n,cl.fE,i)];case 1:if(e=c.sent(),(u=JSON.parse(wc(e))).keys)for(s=0,o=u.keys;s<o.length;s++)(a=o[s]).k&&(a.k=Sa(a.k)),a.kid&&(a.kid=Sa(a.kid));return[2,mc(JSON.stringify(u))]}}))}))()},n}(Yp);F(),Tt(),Rt();var Kb=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n}(qp);F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Gt(),qt();var qb={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function Jb(t,n,i){return Qb.apply(this,arguments)}function Qb(){return Qb=Zt((function(t,n,i){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return r=vk(n),(e=t.onCertificateRequest)&&"function"==typeof e?[4,Wo(et.resolve(e.call(t,r)),i)]:[2,et.resolve(n)];case 1:return Ac(u=s.sent())?[2,Tc(u)]:[2,fk(ns({},qb,u))]}}))})),Qb.apply(this,arguments)}function $b(t,n,i,r,e){return tk.apply(this,arguments)}function tk(){return tk=Zt((function(t,n,i,r,e){var u,s;return Ht(this,(function(o){switch(o.label){case 0:return u=t.onCertificateResponse,s=hk(n,i,r),u&&"function"==typeof u?[4,Wo(et.resolve(u.call(t,s)),e)]:[2,et.resolve(n)];case 1:return[2,Tc(o.sent())]}}))})),tk.apply(this,arguments)}function nk(t,n,i,r){return ik.apply(this,arguments)}function ik(){return ik=Zt((function(t,n,i,r){var e;return Ht(this,(function(u){switch(u.label){case 0:return[4,uk(t,n,i,r)];case 1:return(e=u.sent())instanceof ArrayBuffer?[2,e]:[2,fk(e)]}}))})),ik.apply(this,arguments)}function rk(t,n,i,r,e,u){return ek.apply(this,arguments)}function ek(){return ek=Zt((function(t,n,i,r,e,u){var s;return Ht(this,(function(o){switch(o.label){case 0:return s=ck(i,e),[4,ok(t,new E(n),s,r,u)];case 1:return[2,Tc(o.sent())]}}))})),ek.apply(this,arguments)}function uk(t,n,i,r){return sk.apply(this,arguments)}function sk(){return sk=Zt((function(t,n,i,r){var e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return e=null==t?void 0:t.onLicenseRequest,u=ck(n,i),e&&"function"==typeof e?[4,Wo(et.resolve(e.call(t,u)),r)]:[2,et.resolve(u)];case 1:return Ac(s=o.sent())?[2,Tc(s).buffer]:[2,ns({fairplaySkdUrl:void 0},qb,s)]}}))})),sk.apply(this,arguments)}function ok(t,n,i,r,e){return ak.apply(this,arguments)}function ak(){return ak=Zt((function(t,n,i,r,e){var u,s;return Ht(this,(function(o){switch(o.label){case 0:return u=null==t?void 0:t.onLicenseResponse,s=hk(n,i,r),u&&"function"==typeof u?[4,Wo(et.resolve(u.call(t,s)),e)]:[2,et.resolve(n)];case 1:return[2,Tc(o.sent())]}}))})),ak.apply(this,arguments)}function ck(t,n){return ns({},vk(t),{fairplaySkdUrl:n})}function hk(t,n,i){return{url:i.eE,status:i.Yk,statusText:i.$k,headers:i.Jk.Ek(),body:t,request:n}}function fk(t){return new vl({Xu:t.url,AE:t.method,Jk:t.headers,Lk:t.body,xE:t.useCredentials,Tw:al.oE})}function vk(t){var n;return{url:t.Xu,body:null!=(n=dk(t.Lk))?n:null,headers:t.Jk.Ek(),method:t.AE,useCredentials:t.xE}}function dk(t){if(t)return"string"==typeof t?mc(t):t instanceof ArrayBuffer?new E(t):Pc(t)?kc(t):void 0}var lk=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r)||this).KU=e,u}It(n,t);var i=n.prototype;return i.cU=function(t,n){return et.resolve(t)},i.lU=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return[4,i.bU(Ec(t).buffer)];case 1:return r=c.sent(),e=i.QW(r,Id.bk,cl.dE,n),[4,nk(i.KU,e,void 0,n)];case 2:if((u=c.sent())instanceof ArrayBuffer)return[2,new E(u)];if(""===u.Xu)throw new Qg(td.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");c.label=3;case 3:return c.trys.push([3,7,,8]),[4,i.fR.Qk(u)];case 4:return[4,(s=c.sent()).Dk(n)];case 5:return o=c.sent(),[4,rk(i.KU,o,e,s,void 0,n)];case 6:return[2,c.sent()];case 7:throw Fo(a=c.sent()),new Qg(td.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",a);case 8:return[2]}}))}))()},n}(j_);F(),Tt(),Gt(),Rt(),qt();var gk=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,Id.bk)||this).KU=e,u}It(n,t);var i=n.prototype;return i.cU=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return i.ZW?[2,i.ZW]:(r=i.QW(t,Id.bk,cl.lE,n),[4,Jb(i.KU,r,n)]);case 1:if((e=c.sent())instanceof E)return[2,e];if(""===e.Xu)throw new Qg(td.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");c.label=2;case 2:return c.trys.push([2,5,,6]),[4,i.fR.Qk(e)];case 3:return[4,(u=c.sent()).Dk(n)];case 4:return s=c.sent(),[3,6];case 5:throw Fo(o=c.sent()),new Qg(td.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",o);case 6:return a=ck(r,void 0),[4,$b(i.KU,new E(s),a,u,n)];case 7:return[2,c.sent()]}}))}))()},i.lU=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return r=i.QW(t,Id.bk,cl.cE,n),[4,nk(i.KU,r,void 0,n)];case 1:if((e=a.sent())instanceof ArrayBuffer)return[2,new E(e)];if(""===e.Xu)throw new Qg(td.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");a.label=2;case 2:return a.trys.push([2,6,,7]),[4,i.fR.Qk(e)];case 3:return[4,(u=a.sent()).Dk(n)];case 4:return s=a.sent(),[4,rk(i.KU,s,r,u,void 0,n)];case 5:return[2,a.sent()];case 6:throw Fo(o=a.sent()),new Qg(td.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",o);case 7:return[2]}}))}))()},n}(Kb);F(),Tt(),Gt(),Rt(),qt();var wk=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i,r,e,Id.bk)||this).KU=u,s}It(n,t);var i=n.prototype;return i.cU=function(t,n){var i=this;return Zt((function(){var t,r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return i.ZW?[2,i.ZW]:(t=i.VU(n),[4,Jb(i.KU,t,n)]);case 1:if(r=a.sent(),Pc(r))return[2,r];a.label=2;case 2:return a.trys.push([2,6,,7]),[4,i.fR.Qk(r)];case 3:return[4,(e=a.sent()).Dk()];case 4:return u=a.sent(),s=ck(t,void 0),[4,$b(i.KU,new E(u),s,e,n)];case 5:return[2,a.sent()];case 6:throw Fo(o=a.sent()),new Qg(td.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",o);case 7:return[2]}}))}))()},i.lU=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return r=i.QW(t,Id.bk,cl.aE,n),[4,nk(i.KU,r,i.jU,n)];case 1:if((e=a.sent())instanceof ArrayBuffer)return[2,new E(e)];if(""===e.Xu)throw new Qg(td.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");a.label=2;case 2:return a.trys.push([2,6,,7]),[4,i.fR.Qk(e)];case 3:return[4,(u=a.sent()).Dk(n)];case 4:return s=a.sent(),[4,rk(i.KU,s,r,u,i.jU,n)];case 5:return[2,a.sent()];case 6:throw Fo(o=a.sent()),new Qg(td.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",o);case 7:return[2]}}))}))()},i.BU=function(n){var i;return this.jU=n,(null==(i=this.KU)?void 0:i.extractFairplayContentId)?et.resolve(this.KU.extractFairplayContentId(n)):t.prototype.BU.call(this,n)},n}(ub),mk=function(){function t(){}var n=t.prototype;return n.QU=function(t,n,i,r){switch(t.cT.Tw){case Rs.ww:return this.JU(n,i,r);case Rs.pw:return this.$U(n,i,r);case Rs.Aw:return this.tG(t,n,i,r);case Rs.yw:default:return this.eG(n,i,r)}},n.JU=function(t,n,i){var r=function(t){return t.integration===zp&&ti(t.customIntegrationId)}(t)?t.customIntegrationId:t.integration;if(r&&r_.mP.fP(r,ps)){var e=r_.mP.vP(r,ps,t);return new gk(t,n,i,e)}switch(r){case Dp:return new D_(t,n,i);case Mp:return new P_(t,n,i);case Lp:return new L_(t,n,i);case Pp:return new B_(t,n,i);case Vp:return new W_(t,n,i);case Up:return new Z_(t,n,i);case Wp:return new H_(t,n,i);case Xp:return new z_(t,n,i);default:return new Kb(t,n,i,Id.bk)}},n.$U=function(t,n,i){var r=t.integration;if(r&&r_.mP.fP(r,ws)){var e=r_.mP.vP(r,ws,t);return new lk(t,n,i,e)}switch(r){case Dp:return new q_(t,n,i);case Mp:return new Q_(t,n,i);case Lp:return new $_(t,n,i);case Pp:return new tb(t,n,i);case Vp:return new nb(t,n,i);case Wp:return new ib(t,n,i);case Xp:return new rb(t,n,i);default:return new j_(t,n,i)}},n.tG=function(t,n,i,r){var e=n.integration;if(e&&r_.mP.fP(e,Ts)){var u=r_.mP.vP(e,Ts,n);return new wk(t,n,i,r,u)}switch(e){case xp:return new sb(t,n,i,r);case Mp:return new ob(t,n,i,r);case Op:return new hb(t,n,i,r);case Dp:return new fb(t,n,i,r);case Lp:return new vb(t,n,i,r);case Pp:return new db(t,n,i,r);case Bp:return new lb(t,n,i,r);case Vp:return new gb(t,n,i,r);case Fp:return new wb(t,n,i,r);case Up:return new mb(t,n,i,r);case Wp:return new yb(t,n,i,r);case Zp:return new pb(t,n,i,r);case Xp:return new _b(t,n,i,r);case Gp:return new bb(t,n,i,r);case Hp:return new Yb(t,n,i,r);default:return new ub(t,n,i,r,Id.Tk)}},n.eG=function(t,n,i){return new jb(t,n,i)},n.iG=function(t){return t.Tw===Rs.pw||t.Tw===Rs.ww||t.Tw===Rs.Aw||t.Tw===Rs.yw},n.wT=function(t,n){var i;if(t.Tw!==Rs.pw)return!1;if(Yn(null==(i=n.playready)?void 0:i.customData))return!0;var r=n.integration;return(!r||!r_.mP.fP(r,Ts))&&(r===Dp&&new K_(n).wT)},n._U=function(t,n){if(t.Tw===Rs.ww){var i=n.integration;if(!i||!r_.mP.fP(i,Ts))return i===Dp?D_._U():void 0}},t}();F(),Tt(),F(),Tt(),Dt(),Rt();var yk=function(t){function n(n){var i;return(i=t.call(this,Uy.fa)||this).errorObject=n,i}return It(n,t),n.prototype.ka=function(){return this},Nt(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(gg);F(),Tt(),F(),Tt(),sn();var pk="theoplayer-stored-network-info-v2",_k=25e5,bk=function(){function t(){var t=this;this.nG=Ed,this.aG=void 0,this.uG=Ai((function(){var n,i=un({},t.nG,{availableBandwidth:t.aG,storedTimestamp:gr()});null==(n=Kn.aR)||n.Bb(pk,JSON.stringify(i))}),1e4)}var n=t.prototype;return n.sG=function(t){var n,i=null==(n=Kn.aR)?void 0:n.Lb(t);if(void 0!==i){var r=JSON.parse(i);if(void 0!==r&&void 0!==r[this.nG]){if(!this.rG(r))return r[this.nG].availableBandwidth;var e;null==(e=Kn.aR)||e.Bb(t,JSON.stringify({}))}}},n.oG=function(){var t=this.sG(pk);if(void 0!==t)return t;var n=this.sG("theoplayer-stored-network-info");return n?8*n:void 0},n.rG=function(t){var n=t[this.nG].storedTimestamp;return!!n&&gr()-n>36e5},n.hG=function(t){this.aG=t,this.uG()},n.cG=function(){var t;return null!=this.aG||(this.aG=null!=(t=this.oG())?t:_k),this.aG},t}();bk.Vg=new bk,F(),Tt();var kk=function(t){return t[t.lG=0]="lG",t[t.dG=1]="dG",t[t.fG=2]="fG",t[t._G=3]="_G",t[t.vG=4]="vG",t[t.mG=5]="mG",t[t.YC=6]="YC",t[t.gG=7]="gG",t[t.pG=8]="pG",t[t.JC=9]="JC",t[t.wG=10]="wG",t[t.$C=11]="$C",t[t.yG=12]="yG",t}({});F(),Tt(),Dt();var Ak=function(){function t(){}return t.prototype.SG=function(t){},Nt(t,[{key:"bG",get:function(){return 0}},{key:"AG",get:function(){return 0}}]),t}();F(),Tt(),Rt(),F(),Tt(),Rt();var Tk=function(t){function n(n){var i;return(i=t.call(this,"contentProtectionsTracked")||this).TG=n,i}return It(n,t),n}(sa),Sk=function(t){function n(n,i){var r;return void 0===i&&(i=new mk),(r=t.call(this)||this).TU=void 0,r.fW=n,r.EG=i,r}It(n,t);var i=n.prototype;return i.kG=function(t){this.TU=t},i._U=function(t){var n=this.TU;if(void 0!==n)return this.EG._U(t,n)},i.wT=function(t){var n=this.TU;return void 0!==n&&this.EG.wT(t,n)},i.xG=function(t){var n={cT:t.cT,IG:t.IG||[],CG:t.CG,WU:t.WU},i=this.EG.QU(n,this.TU||{},t.aU,this.fW);return n.CG&&i.UW(n.CG),new Ek(i)},i.DG=function(t){t&&(ho(t,(function(t){return void 0!==t.aU}))&&this._o(new Tk(t)))},n}(ra),Ek=function(){function t(t){this.NG=t}var n=t.prototype;return n.YW=function(t){return this.NG.YW(t)},n.KW=function(t,n,i){return this.NG.KW(n,i)},n.qW=function(){return this.NG.qW||void 0!==this.NG.ZW},n.cU=function(t,n){return this.NG.cU(t,n)},n.lU=function(t,n,i){return n&&this.NG.UW(n),this.NG.lU(t,i)},n.Xw=function(){this.NG.yn()},t}();F(),Tt(),Rt();var Ik=function(t){function n(n){var i;(i=t.call(this)||this).BG=[],i.UG=function(t){i.tt(t.Ht)},i.GG=function(t){var n=t.Ht;i.WG(n)||i.it(n)};for(var r=0;r<n.length;r++){var e=n[r];i.MG(e)}return i}It(n,t);var i=n.prototype;return i.MG=function(t){this.BG.push(t);for(var n=0,i=t.lC;n<i.length;n++){var r=i[n];this.tt(r)}this.OG(t)},i.FG=function(t){wo(this.BG,t),this.VG(t);for(var n=0,i=t.lC;n<i.length;n++){var r=i[n];this.WG(r)||this.it(r)}},i.WG=function(t){for(var n=0,i=this.BG;n<i.length;n++){if(i[n]._C(t))return!0}return!1},i.OG=function(t){t.bn(pg.VI,this.UG),t.bn(pg.UI,this.GG)},i.VG=function(t){t.vn(pg.VI,this.UG),t.vn(pg.UI,this.GG)},i.yn=function(){for(;this.BG.length>0;)this.FG(this.BG[0]);t.prototype.yn.call(this)},i.ka=function(){return Gy(this)},n}(Sg);F(),Tt(),Dt(),F(),Tt();var Rk,Ck={forceSeekOffset:0,maximumOffset:0,maximumPlaybackRate:0,minimumOffset:0,minimumPlaybackRate:0,targetOffset:0},Nk=function(){function t(){}var n=t.prototype;return n.Aa=function(t){this.ZG=t,void 0!==this.qe&&(this.ZG.Rt=this.qe)},n.nr=function(){this.ZG=void 0,this.qe=void 0},Nt(t,[{key:"wa",get:function(){return null!=this.eu||(this.eu=function(t){return{get enabled(){return t.Rt},set enabled(n){t.Rt=Lg(n)},get monitoringLivePlayback(){return t.HG},get currentLatency(){return t.KB},get currentConfiguration(){return function(t){if(void 0!==t)return{get minimumOffset(){return t.minimumOffset},get maximumOffset(){return t.maximumOffset},get targetOffset(){return t.targetOffset},get forceSeekOffset(){return t.forceSeekOffset},get minimumPlaybackRate(){return t.minimumPlaybackRate},get maximumPlaybackRate(){return t.maximumPlaybackRate}}}(t.kd)}}}(this)),this.eu}},{key:"Rt",get:function(){var t,n;return null!=(n=this.qe)?n:Boolean(null==(t=this.ZG)?void 0:t.Rt)},set:function(t){this.qe=t,this.ZG&&(this.ZG.Rt=t)}},{key:"HG",get:function(){var t,n;return null!=(n=null==(t=this.ZG)?void 0:t.wB)&&n}},{key:"KB",get:function(){var t;return null==(t=this.ZG)?void 0:t.YB}},{key:"kd",get:function(){return this.ZG?this.ZG.yB:Ck}}]),t}();var Dk=!(!f||!f.TextTrack),Pk=function(t){function n(n,i,r,e,u,s,o,a){var c;return void 0===o&&(o=new mk),void 0===a&&(a=_d()),(c=t.call(this)||this).JG=void 0,c.Sc=void 0,c.YG=void 0,c.KG=void 0,c.iH=new Ak,c.tH=new Nk,c.kH=function(t){var n=t.lt,i=n.code,r=new id(ew(i),"Something went wrong during native playback.",n),e=new tw(i,r.message,n.message);c.BH(r,e)},c.Tc=function(){c._o(new lg(c.ER,c.bR))},c.SH=function(t){c.KR||(c.qG=void 0),c._o(t)},c.XB=function(t){c.qG=void 0},c.xH=function(){c._o(new kw(c.WR))},c.TH=function(){c.vI>0&&c.dI>0&&c._o(new wp)},c.CH=function(t){var n=c.WB.jG.audioTracks;if(n)for(var i=0;i<n.length;i++){var r=n[i];Mk(c.cO,r)||c.cO.tt(new pw(r))}},c.PH=function(t){var n=[],i=c.WB.jG.audioTracks;if(i){for(var r=0,e=c.cO.lC;r<e.length;r++){var u=e[r];Ok(i,u.PO)||n.push(u)}for(var s=0;s<n.length;s++){var o=n[s];c.cO.it(o)}}},c.DH=function(){c.ah(c.cO)},c.NH=function(t){var n=c.WB.jG.videoTracks;if(n)for(var i=0;i<n.length;i++){var r=n[i];Mk(c.dO,r)||c.dO.tt(new bw(r))}},c.MH=function(t){var n=[],i=c.WB.jG.videoTracks;if(i){for(var r=0,e=c.dO.lC;r<e.length;r++){var u=e[r];Ok(i,u.PO)||n.push(u)}for(var s=0;s<n.length;s++){var o=n[s];c.dO.it(o)}}},c.LH=function(){c.ah(c.dO)},c.EH=function(t){c._o(t),c.BH(t.errorObject,iw(t.errorObject))},c.bH=i,c.fW=r,c.Nw=a,c.WB=c.bH.OH(qg.mE),c.QG=c.WB.jG.preload,c.mH=new Cp(c.WB,!0),c.mH.bn(pp,c.Ds),c.hH=new Sk(r,o),c.WB.wH=c.hH,c.AH(),c.cO=new Kg,c.dO=new Kg,c.IH(),c.dH=new hp(c.WB,c.fW),c.Hl=new Ik([c.WB.nt]),c.ge(),c}It(n,t);var i=n.prototype;return i.RR=function(t,n){this.WR&&(this.qG=t),this.WB.Rb(t)},i.be=function(){this.WB.be()},i.ge=function(){this.WB.ge()},i.Ca=function(t,n,i){var r=this;return Zt((function(){var e;return Ht(this,(function(u){switch(u.label){case 0:return Vo(i),r.Sc=t,e={Tw:mp.pW,VC:t.src,Mk:t.type,sH:r.nH(t),iI:r.QG,rH:t.crossOrigin,oH:n.metadata&&n.metadata.title},r.hH.kG(t.contentProtection),[4,r.WB.$n(e)];case 1:return r.JG=u.sent(),Vo(i),n.textTracks&&r.aH(n.textTracks),gp(r.nt),[2]}}))}))()},i.aH=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(this.WB.uH()&&Gn.su&&Dk&&!ip(i.kind,i.label)&&this.cH(i)){var r,e=null!=(r=i.kind)?r:zy.JV;this.WB.lH(i.src,e,i.label,i.srclang,i.default)}else{if(void 0===i.src)continue;this.dH.cW(i)}}},i.cH=function(t){return!t.format||"webvtt"===t.format},i.xI=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,t.WB.xI()];case 1:case 4:return n.sent(),[3,3];case 2:return n.sent(),[3,3];case 3:return t.XG?[3,5]:[4,t.WB.py(oa.qy)];case 5:return[2]}}))}))()},i.EI=function(){this.WB.EI()},i.II=function(){return void 0!==this.WB.jG.webkitShowPlaybackTargetPicker},i.CI=function(){this.WB.jG.webkitShowPlaybackTargetPicker&&this.WB.jG.webkitShowPlaybackTargetPicker()},i.DI=function(){this.WB.jG.webkitShowPlaybackTargetPicker&&this.WB.jG.webkitShowPlaybackTargetPicker()},i.TI=function(){return this.WB.jG},i.SI=function(){return this.WB.Sa},i.ja=function(){return this.WB.fH},i.OI=function(t){return this.WB._H(t)},i.nr=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.Sc=void 0,t.YG=void 0,t.KG=void 0,t.JG=void 0,[4,t.dH.nr()];case 1:return n.sent(),t.WB.vH(),[4,t.WB.nr()];case 2:return n.sent(),t.mH.nr(),t.iI=t.QG,t.ht.nr(),t.rt.nr(),t.qG=void 0,[2]}}))}))()},i.yn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.nr()];case 1:return n.sent(),t.Ro(),t.gH(),t.pH(),t.mH.yn(),t.WB.wH=void 0,[4,t.bH.yH(t.WB)];case 2:return n.sent(),t.cO.yn(),t.dO.yn(),t.Hl.yn(),[4,t.dH.yn()];case 3:return n.sent(),[2]}}))}))()},i.AH=function(){this.WB.bn(oa.ho,this.Ds),this.WB.bn(oa.zy,this.Ds),this.WB.bn(oa.hb,this.Tc),this.WB.bn(oa.qy,this.Ds),this.WB.bn(oa.Uy,this.Ds),this.WB.bn(oa.Jy,this.Ds),this.WB.bn(oa.Qy,this.SH),this.WB.bn(oa.Dy,this.Ds),this.WB.bn(oa.Yy,this.Ds),this.WB.bn(oa.ub,this.Ds),this.WB.bn(oa.Iy,this.Ds),this.WB.bn(oa.jy,this.TH),this.WB.bn(yp.UL,this.XB),this.WB.bn(Uy.fa,this.kH),this.WB.bn(oa.Ey,this.Ds),this.WB.bn(oa.Ty,this.EH),this.WB.jG.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.xH)},i.gH=function(){this.WB.vn(oa.ho,this.Ds),this.WB.vn(oa.zy,this.Ds),this.WB.vn(oa.hb,this.Tc),this.WB.vn(oa.qy,this.Ds),this.WB.vn(oa.Uy,this.Ds),this.WB.vn(oa.Jy,this.Ds),this.WB.vn(oa.Qy,this.SH),this.WB.vn(oa.Dy,this.Ds),this.WB.vn(oa.Yy,this.Ds),this.WB.vn(oa.ub,this.Ds),this.WB.vn(oa.Iy,this.Ds),this.WB.vn(oa.jy,this.TH),this.WB.vn(yp.UL,this.XB),this.WB.vn(Uy.fa,this.kH),this.WB.vn(oa.Ey,this.Ds),this.WB.vn(oa.Ty,this.EH),this.WB.jG.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.xH)},i.nH=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{cT:Ds,RH:[{initDataTypes:[Ds.xw],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.IH=function(){var t=this.WB.jG.audioTracks,n=this.WB.jG.videoTracks;t&&(t.addEventListener("addtrack",this.CH),t.addEventListener("removetrack",this.PH),t.addEventListener("change",this.DH)),n&&(n.addEventListener("addtrack",this.NH),n.addEventListener("removetrack",this.MH),n.addEventListener("change",this.LH))},i.pH=function(){var t=this.WB.jG.audioTracks,n=this.WB.jG.videoTracks;t&&(t.removeEventListener("addtrack",this.CH),t.removeEventListener("removetrack",this.PH),t.removeEventListener("change",this.DH)),n&&(n.removeEventListener("addtrack",this.NH),n.removeEventListener("removetrack",this.MH),n.removeEventListener("change",this.LH))},i.ah=function(t){for(var n=0;n<t.V;n++){t.fC(n).MO()}},i.NI=function(){this.WB.NI()},i.MI=function(){},i.BH=function(t,n){this.YG||(this.YG=n,this.KG=t,this._o(new yk(t)))},Nt(n,[{key:"KB",get:function(){}},{key:"XG",get:function(){var t=this.WB.wR,n=this.ER;return t.wr(n,.01)}},{key:"ht",get:function(){return this.cO}},{key:"wR",get:function(){return this.WB.wR.ks()}},{key:"bR",get:function(){return this.WB.bR},set:function(t){t&&this.WB.zG(t)}},{key:"bt",get:function(){return this.Sc}},{key:"ER",get:function(){return void 0!==this.qG?this.qG:this.WB.ER},set:function(t){this.RR(t)}},{key:"ct",get:function(){return this.WB.ct}},{key:"PR",get:function(){return this.WB.PR}},{key:"lt",get:function(){return this.YG}},{key:"MR",get:function(){return this.KG}},{key:"OR",get:function(){}},{key:"WR",get:function(){return this.WB.WR}},{key:"GR",get:function(){return ns({},{_O:0,vO:0,mO:0,gO:0,pO:0,wO:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.WB.HR())}},{key:"ZR",get:function(){return this.WB.ZR},set:function(t){this.WB.ZR=t}},{key:"qR",get:function(){return!0}},{key:"KR",get:function(){return this.WB.KR}},{key:"QR",get:function(){return this.WB.QR},set:function(t){this.WB.QR=t}},{key:"tI",get:function(){return this.WB.jG.played}},{key:"iI",get:function(){return this.QG},set:function(t){this.QG=t,this.JG&&(this.JG.iI=t)}},{key:"rI",get:function(){return this.WB.rI}},{key:"hI",get:function(){return this.WB.hI.ks()}},{key:"uI",get:function(){return this.WB.uI}},{key:"$G",get:function(){return this.WB.$G}},{key:"nt",get:function(){return this.Hl}},{key:"rt",get:function(){return this.dO}},{key:"dI",get:function(){return this.WB.dI}},{key:"vI",get:function(){return this.WB.vI}},{key:"gI",get:function(){return this.WB.gI},set:function(t){this.WB.gI=t}},{key:"yI",get:function(){return this.tH}},{key:"AI",get:function(){return this.WB.AI},set:function(t){this.WB.AI=t}},{key:"eH",get:function(){return this.iH}}]),n}(ua);function xk(t){var n,i;if(!(null==(n=(Rk||(Rk=f&&f.document&&f.document.createElement("video")),i=Rk).canPlayType)?void 0:n.call(i,t.type)))return!1;if(t.useNativePlayback)return!0;var r=Gn.su||Gn.Cg;return!t.useManagedMediaSource||!r}var Lk=function(){function t(){this.UH=kk.yG}var n=t.prototype;return n.uP=function(t,n,i,r,e,u,s){return new Pk(t,n,i,r,e,u)},n.FH=function(t,n){return xk(t)},n.VH=function(t){return k_(t)},n.WH=function(){return!1},t}();function Mk(t,n){for(var i=0,r=t.lC;i<r.length;i++){var e=r[i];if(e.PO===n)return e}}function Ok(t,n){for(var i=0;i<t.length;i++)if(t[i]===n)return!0;return!1}F(),Tt(),F(),Tt(),Dt();var Bk=function(){function t(t,n){var i=this;this.Hnt=!1,this.Znt=function(t){i.Xnt.nY(t.error,i.ER)},this.znt=function(){i.Xnt.tY(i.Gnt),i.na.removeEventListener("playing",i.znt),i.Hnt=!1},this.js=function(){var t,n,r,e,u,s;(i.Hnt||(i.na.addEventListener("playing",i.znt),i.Hnt=!0),null==(t=i.na.ads)||t.removeEventListener("adbegin",i.qnt),null==(n=i.na.theoads)||n.removeEventListener("interstitialbegin",i.Ynt),null==(e=i.na.source)||null==(r=e.ads)?void 0:r.some((function(t){return"theoads"===t.integration})))&&(null==(u=i.na.ads)||u.addEventListener("adbegin",i.qnt),null==(s=i.na.theoads)||s.addEventListener("interstitialbegin",i.Ynt))},this.qnt=function(t){"theoads"!==t.ad.integration||t.ad.isSlate||i.Xnt.sY("ad")},this.Ynt=function(t){var n=t.interstitial;(function(t){return"adbreak"===t.type})(n)||i.Xnt.sY(function(t){switch(t){case"adbreak":default:return"ad";case"overlay":return"overlay"}}(n.type))},this.Xnt=n,this.na=t,this.na.addEventListener("error",this.Znt),this.na.addEventListener("sourcechange",this.js),this.js()}return t.prototype.nr=function(){},Nt(t,[{key:"ER",get:function(){var t=this.na.currentTime;return isFinite(t)?t:"now"}},{key:"Gnt",get:function(){return this.na.src||""}}]),t}();F(),Tt(),Rt(),F(),Tt(),Gt(),Dt(),Rt(),qt();var Vk=function(t){function n(n,i){var r;return(r=t.call(this)||this).FI=function(t){r.BI(t)||r._o(t)},r.na=n,r.Ust=!i,r.eZ(),r}It(n,t);var i=n.prototype;return i.Mst=function(){return this.na.vst},i.Lst=function(){return this.na.zc},i.Bst=function(){return this.na.gst},i.SI=function(){return this.na.Sa},i.ja=function(){return this.na.fH},i.Fst=function(){return this.na.Ost},i.Wst=function(){return this.na.Vst},i.mR=function(){return this.na.ht},i.yR=function(){return this.na.yR()},i.AR=function(){return this.na.bR},i.SR=function(t){this.na.bR=t},i.kR=function(){return this.na.bt},i.xR=function(){return this.na.xR()},i.RR=function(t,n){this.na.RR(t,n)},i.Tst=function(){return this.na.Tst()},i.jd=function(){return this.na.jd()},i.IR=function(){return this.na.we},i.DR=function(){return this.na.PR},i.NR=function(){return this.na.NR()},i.LR=function(){return this.na.LR()},i.FR=function(){return this.na.OR},i.HR=function(){return this.na.GR},i.XR=function(){return this.na.ZR},i.zR=function(t){this.na.zR(t)},i.jR=function(){return this.na.KR},i.JR=function(){return this.na.QR},i.$R=function(t){this.na.QR=t},i.eI=function(){return this.na.eI()},i.sI=function(){return this.na.iI},i.nI=function(t){this.na.iI=t},i.oI=function(){return this.na.rI},i.aI=function(){return this.na.aI()},i.cI=function(){return this.na.uI},i.lI=function(){return this.na.nt},i.fI=function(){return this.na.dI},i._I=function(){return this.na.rt},i.mI=function(){return this.na.vI},i.pI=function(){return this.na.gI},i.wI=function(t){this.na.wI(t)},i.kI=function(){this.na.kI()},i.EI=function(){this.na.EI()},i.xI=function(){this.na.xI()},i.ge=function(){this.na.ge()},i.be=function(){this.na.be()},i.cs=function(){return this.na.cs()},i.TI=function(){return this.na.TI()},i.NI=function(){this.na.NI()},i.MI=function(){this.na.MI()},i.OI=function(t){return this.na.OI(t)},i.Aa=function(){this.na.Aa()},i.iu=function(){return this.na.iu()},i.Ca=function(t,n){return this.na.Ca(t,n)},i.RI=function(){return this.na.RI()},i.BI=function(t){return!1},i.eZ=function(){this.Ust&&this.na.oy(this.FI)},i.iZ=function(){this.Ust&&this.na.gy(this.FI)},i.yn=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.Ro(),t?[3,2]:[4,n.na.yn()];case 1:i.sent(),i.label=2;case 2:return n.iZ(),[2]}}))}))()},Nt(n,[{key:"vst",get:function(){return this.Mst()}},{key:"zc",get:function(){return this.Lst()}},{key:"Cst",get:function(){return this.na.Cst}},{key:"gst",get:function(){return this.Bst()}},{key:"SO",get:function(){return this.na.SO},set:function(t){this.na.SO=t}},{key:"Rst",get:function(){return this.na.Rst}},{key:"Iz",get:function(){return this.na.Iz}},{key:"Sst",get:function(){return this.na.Sst}},{key:"kd",get:function(){return this.na.kd}},{key:"Hu",get:function(){return this.na.Hu}},{key:"Sa",get:function(){return this.SI()}},{key:"fH",get:function(){return this.ja()}},{key:"fR",get:function(){return this.na.fR}},{key:"yI",get:function(){return this.na.yI}},{key:"kst",get:function(){return this.na.kst}},{key:"iQ",get:function(){return this.na.iQ}},{key:"XX",get:function(){return this.na.XX}},{key:"xst",get:function(){return this.na.xst}},{key:"yst",get:function(){return this.na.yst}},{key:"Ta",get:function(){return this.na.Ta}},{key:"Wl",get:function(){return this.na.Wl}},{key:"Ost",get:function(){return this.Fst()}},{key:"Vst",get:function(){return this.Wst()}},{key:"IC",get:function(){return this.na.IC}},{key:"Eo",get:function(){return this.na.Eo}},{key:"ht",get:function(){return this.mR()}},{key:"bR",get:function(){return this.AR()},set:function(t){this.SR(t)}},{key:"bt",get:function(){return this.kR()}},{key:"we",get:function(){return this.IR()}},{key:"PR",get:function(){return this.DR()}},{key:"OR",get:function(){return this.FR()}},{key:"AI",get:function(){return this.na.AI},set:function(t){this.na.AI=t}},{key:"GR",get:function(){return this.HR()}},{key:"ZR",get:function(){return this.XR()},set:function(t){this.zR(t)}},{key:"KR",get:function(){return this.jR()}},{key:"QR",get:function(){return this.JR()},set:function(t){this.$R(t)}},{key:"iI",get:function(){return this.sI()},set:function(t){this.nI(t)}},{key:"rI",get:function(){return this.oI()}},{key:"Ma",get:function(){return this.na.Ma},set:function(t){this.na.Ma=t}},{key:"uI",get:function(){return this.cI()}},{key:"nt",get:function(){return this.lI()}},{key:"dI",get:function(){return this.fI()}},{key:"rt",get:function(){return this._I()}},{key:"vI",get:function(){return this.mI()}},{key:"gI",get:function(){return this.pI()},set:function(t){this.wI(t)}}]),n}(ua),Fk=function(t){return t[t.au=0]="au",t[t.Gst=1]="Gst",t[t.$C=2]="$C",t[t.Hst=3]="Hst",t[t.Zst=4]="Zst",t[t.Xst=5]="Xst",t}({}),Uk=[0,1,2,3,4,5],Wk={};function Zk(t,n){(Wk[n]||(Wk[n]=[])).push(t)}var Xk={};function Gk(t,n){(Xk[n]||(Xk[n]=[])).push(t)}var Hk=[];!function(t){Hk.push(t)}((function(t){new Bk(t.wa,t.Cst)})),F(),Tt(),Rt(),F(),Tt(),Rt();var zk=function(){function t(){}return t.yk=function(){return t.Vg||(t.Vg=Yk.yT()?new Yk:new bd),t.Vg},t.Fb=function(n){t.yk().Fb(n)},t.wk=function(){t.yk().wk()},t.Lb=function(n){return t.yk().Lb(n)},t.Bb=function(n,i){t.yk().Bb(n,i)},t.SQ=function(n){var i=t.Lb(n);if(void 0!==i)return T(i)},t.TQ=function(n){return"true"===t.Lb(n)},t}();zk.Vg=void 0;var Yk=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.Fb=function(t){self.localStorage.removeItem(t)},i.wk=function(){self.localStorage.clear()},i.Lb=function(t){var n;return null!=(n=self.localStorage.getItem(t))?n:void 0},i.Bb=function(t,n){self.localStorage.setItem(t,n)},n.yT=function(){var t="foobar";try{return self.localStorage.setItem(t,t),self.localStorage.removeItem(t),!0}catch(t){}return!1},n}(zk),jk="theoplayer-stored-volume",Kk="theoplayer-stored-mutedstate";Zk((function(t){return function(t){function n(n,i){var r;if(r=t.call(this,n,i)||this,i.persistVolume){var e=zk.SQ(jk);(void 0===e||S(e))&&(e=1);var u=zk.TQ(Kk)||!1;r.gI=e,r.ZR=u}return r}It(n,t);var i=n.prototype;return i.zR=function(n){this.kd.persistVolume&&zk.Bb(Kk,""+Boolean(n)),t.prototype.zR.call(this,n)},i.wI=function(n){this.kd.persistVolume&&zk.Bb(jk,""+Number(n)),t.prototype.wI.call(this,n)},n}(t)}),Fk.au),F(),Tt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Gt(),Dt(),Rt(),Ut(),qt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Gt(),Dt(),Rt(),qt();var qk=function(t){function n(n){var i;return(i=t.call(this)||this).FI=function(t){i.BI(t)||i._o(t)},i.gR=n,n.oy(i.FI),i}It(n,t);var i=n.prototype;return i.mR=function(){return this.gR.ht},i.pR=function(){return this.gR.pR()},i.yR=function(){return this.gR.wR},i.AR=function(){return this.gR.bR},i.SR=function(t){this.gR.bR=t},i.kR=function(){return this.gR.bt},i.xR=function(){return this.gR.ER},i.RR=function(t,n){this.gR.RR(t,n)},i.jd=function(){return this.gR.ct},i.IR=function(){return this.gR.we},i.DR=function(){return this.gR.PR},i.NR=function(){return this.gR.lt},i.LR=function(){return this.gR.MR},i.FR=function(){return this.gR.OR},i.UR=function(){return this.gR.WR},i.HR=function(){return this.gR.GR},i.XR=function(){return this.gR.ZR},i.zR=function(t){this.gR.ZR=t},i.YR=function(){return this.gR.qR},i.jR=function(){return this.gR.KR},i.JR=function(){return this.gR.QR},i.$R=function(t){this.gR.QR=t},i.eI=function(){return this.gR.tI},i.sI=function(){return this.gR.iI},i.nI=function(t){this.gR.iI=t},i.oI=function(){return this.gR.rI},i.aI=function(){return this.gR.hI},i.cI=function(){return this.gR.uI},i.iu=function(){return this.gR.iu()},i.Ca=function(t,n){return this.gR.Ca(t,n)},i.lI=function(){return this.gR.nt},i.fI=function(){return this.gR.dI},i._I=function(){return this.gR.rt},i.mI=function(){return this.gR.vI},i.bI=function(){return this.gR.yI},i.pI=function(){return this.gR.gI},i.wI=function(t){this.gR.gI=t},i.SI=function(){return this.gR.SI()},i.ja=function(){return this.gR.ja()},i.TI=function(){return this.gR.TI()},i.pr=function(t){this.gR.pr(t)},i.dr=function(){this.gR.dr()},i.be=function(){this.gR.be()},i.kI=function(){this.gR.kI()},i.EI=function(){this.gR.EI()},i.xI=function(){this.gR.xI()},i.ge=function(){this.gR.ge()},i.RI=function(){return this.gR.RI()},i.II=function(){return this.gR.II()},i.CI=function(){this.gR.CI()},i.DI=function(){this.gR.DI()},i.nr=function(){return this.gR.nr()},i.NI=function(){this.gR.NI()},i.MI=function(){this.gR.MI()},i.LI=function(t){return this.gR.LI(t)},i.BI=function(t){return!1},i.yn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.Ro(),[4,t.gR.yn()];case 1:return n.sent(),[2]}}))}))()},i.OI=function(t){return this.gR.OI(t)},Nt(n,[{key:"ht",get:function(){return this.mR()}},{key:"wR",get:function(){return this.yR()}},{key:"bR",get:function(){return this.AR()},set:function(t){this.SR(t)}},{key:"bt",get:function(){return this.kR()}},{key:"ER",get:function(){return this.xR()},set:function(t){this.RR(t)}},{key:"ct",get:function(){return this.jd()}},{key:"we",get:function(){return this.IR()}},{key:"PR",get:function(){return this.DR()}},{key:"lt",get:function(){return this.NR()}},{key:"MR",get:function(){return this.LR()}},{key:"OR",get:function(){return this.FR()}},{key:"WR",get:function(){return this.UR()}},{key:"GR",get:function(){return this.HR()}},{key:"ZR",get:function(){return this.XR()},set:function(t){this.zR(t)}},{key:"qR",get:function(){return this.YR()}},{key:"KR",get:function(){return this.jR()}},{key:"QR",get:function(){return this.JR()},set:function(t){this.$R(t)}},{key:"tI",get:function(){return this.eI()}},{key:"iI",get:function(){return this.sI()},set:function(t){this.nI(t)}},{key:"rI",get:function(){return this.oI()}},{key:"hI",get:function(){return this.aI()}},{key:"uI",get:function(){return this.cI()}},{key:"nt",get:function(){return this.lI()}},{key:"dI",get:function(){return this.fI()}},{key:"rt",get:function(){return this._I()}},{key:"vI",get:function(){return this.mI()}},{key:"gI",get:function(){return this.pI()},set:function(t){this.wI(t)}},{key:"yI",get:function(){return this.bI()}},{key:"AI",get:function(){return this.gR.AI},set:function(t){this.gR.AI=t}}]),n}(ua);F(),Tt(),Rt(),F(),Tt(),Dt(),Rt();var Jk=function(t){function n(){var n;return(n=t.call(this)||this).mC=void 0,n.yC=function(t){var i=t.Ht;n.tt(i)},n.bC=function(t){var i=t.Ht;n.it(i)},n}It(n,t);var i=n.prototype;return i.wC=function(t){t.bn(pg.VI,this.yC),t.bn(pg.UI,this.bC)},i.gC=function(t){t.vn(pg.VI,this.yC),t.vn(pg.UI,this.bC)},i.yn=function(n){!n&&this.mC&&this.mC.yn(),t.prototype.yn.call(this)},Nt(n,[{key:"vC",get:function(){return this.mC},set:function(t){var n=this.mC;if(t!==n){if(n){this.gC(n);for(var i=0,r=n.lC;i<r.length;i++){var e=r[i];t&&t._C(e)||this.it(e)}}if(this.mC=t,t){for(var u=[],s=0,o=t.lC;s<o.length;s++){var a=o[s];this.tt(a),this.pC(a)&&u.push(a)}this.wC(t);for(var c=0;c<u.length;c++){var h=u[c];h._o(new ow(h))}}}}}]),n}(Sg),Qk=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.ka=function(){return jg(this)},i.pC=function(t){return t.Rt},n}(Jk);F(),Tt(),Rt();var $k=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.ka=function(){return Gy(this)},i.pC=function(t){return t.CE===Vy.Qn},n}(Jk);F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt();var tA=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n.prototype.ZC=function(){},Nt(n,[{key:"WC",get:function(){}},{key:"GC",get:function(){return!1}},{key:"HC",get:function(){}},{key:"wa",get:function(){var t;return null!=(t=this.eu)?t:this.eu=nA(this)}}]),n}(ra);function nA(t){return{goLive:function(){return t.ZC()},get isLive(){return t.GC},get latencies(){return t.WC},get manifest(){return t.HC},addEventListener:function(n,i){t.bn(rA(n),i)},removeEventListener:function(n,i){t.vn(rA(n),i)}}}var iA=["golive","latencyrecoveryseek"];function rA(t){var n=Ug(t,Vg);return(ti(n)?[n]:n).filter((function(t){return po(iA,t)}))}var eA=function(t){function n(){var n;return(n=t.call(this)||this).mC=void 0,n.eu=void 0,n.mC=void 0,n}It(n,t);var i=n.prototype;return i.wC=function(t){t.bn(iA,this.Ds)},i.gC=function(t){t.vn(iA,this.Ds)},i.ZC=function(){var t;null==(t=this.mC)||t.ZC()},i.yn=function(){this.Ro(),this.mC&&this.gC(this.mC),this.mC=void 0},Nt(n,[{key:"vC",get:function(){return this.mC},set:function(t){var n=this.mC;t!==n&&(n&&this.gC(n),t&&this.wC(t),this.mC=t)}},{key:"wa",get:function(){return this.eu||(this.eu=nA(this)),this.eu}},{key:"WC",get:function(){var t;return null==(t=this.mC)?void 0:t.WC}},{key:"GC",get:function(){return!!this.mC&&this.mC.GC}},{key:"HC",get:function(){var t;return null==(t=this.mC)?void 0:t.HC}}]),n}(ra);F(),Tt(),F(),Tt();var uA="8E80B9CE",sA=function(t){return t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled",t}({});function oA(t){return{appID:t&&t.appID?Vg(t.appID):uA}}F(),Tt(),F(),Tt();var aA=function(t){return t.wE="",t.XC="anonymous",t.zC="use-credentials",t}({}),cA=function(t){return t.qC="application/dash+xml",t.YC="application/vnd.apple.mpegurl",t.KC="application/x-mpegurl",t.jC="video/mp4",t.QC="application/vnd.theoplayer.hesp+json",t.JC="application/vnd.theo.hesp+json",t.$C="millicast",t.tP="theolive",t}({});function hA(t){if(null!==t)return t}function fA(t){var n={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:hA(t.streamActivityMonitorID),adTagParameters:Qn(t.adTagParameters)?t.adTagParameters:{},authToken:hA(t.authToken),omidAccessModeRules:hA(t.omidAccessModeRules)};if(t.enableNonce&&(n.enableNonce=!0),"vod"===(null==t?void 0:t.availabilityType)||function(t){var n=t;return Boolean(n.videoID&&n.contentSourceID)}(t)){var i=t.videoID,r=t.contentSourceID;return i?r?ns({},n,{availabilityType:"vod",videoID:i,contentSourceID:r}):void Kn.Vp("A VOD DAI configuration was provided without valid contentSourceID which is required."):void Kn.Vp("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){var n=t;return Boolean(n.assetKey)}(t)){var e=t.assetKey;return e?ns({},n,{availabilityType:"live",assetKey:e}):void Kn.Vp("A Live DAI configuration was provided without valid assetKey which is required.")}Kn.Vp("A DAI configuration was provided without a valid availabilityType which is required.")}function vA(t){return"google-dai"===t.integration?fA(t):ns({},t,{integration:String(t.integration)})}function dA(t,n,i){var r=function(t,n,i){var r,e=function(t,n){var i=aA.wE;return t.useCredentials?i=aA.zC:t.crossOrigin&&(i=XA(t.crossOrigin)),i===aA.wE&&n&&n.vr&&n.vr[360]&&(i=aA.XC),{useCredentials:i===aA.zC,crossOrigin:i}}(t,n),u=e.useCredentials,s=e.crossOrigin,o=t.liveOffset;Yn(o)||(o=i&&Yn(i.liveOffset)?i.liveOffset:void 0);var a=t.timeServer;Yn(a)||(a=n&&Yn(n.timeServer)?n.timeServer:void 0);var c=t.hlsDateRange;Yn(c)||(c=i&&Yn(i.hlsDateRange)?Boolean(i.hlsDateRange):void 0);var h,f=Boolean(t.experimentalRendering),v=Boolean(t.nativeUiRendering),d=Boolean(t.lowLatency),l=Boolean(t.useNativePlayback),g=Boolean(t.useManagedMediaSource),w=Yn(t.dash)?gA(t.dash):void 0,m=Yn(t.hls)?wA(t.hls):void 0,y=pA(yA(t.abr),null==i?void 0:i.abr),p=Mg(t.lcevc),_=Yn(t.ignoreEmbeddedTextTrackTypes)?oT(t.ignoreEmbeddedTextTrackTypes):[],b=BA(null!=(h=t.seamlessSwitchStrategy)?h:null==(r=t.dash)?void 0:r.useSeamlessPeriodSwitch),k=LA(t.latencyConfiguration);return{crossOrigin:s,useCredentials:u,liveOffset:o,timeServer:a,hlsDateRange:c,experimentalRendering:f,nativeUiRendering:v,lowLatency:d,useNativePlayback:l,useManagedMediaSource:g,dash:w,hls:m,abr:y,lcevc:p,ignoreEmbeddedTextTrackTypes:_,seamlessSwitchStrategy:b,latencyConfiguration:k}}(t,n,i),e=hA(t.src),u=t.type;u||(u=t.src?ZA(t.src):void 0);var s=function(t,n){var i;i=Yn(t.contentProtection)?t.contentProtection:Yn(t.drm)?t.drm:Yn(n)&&Yn(n.contentProtection)?n.contentProtection:Yn(n)&&Yn(n.drm)?n.drm:void 0;return lA(i)}(t,n);return ns({},r,{src:e,type:u,contentProtection:s,ssai:Yn(t.ssai)?vA(t.ssai):void 0,integrationData:void 0,isAdvertisement:Boolean(t.isAdvertisement)})}function lA(t){return v_(t)&&t.integration&&t.integration===Bp?function(t){var n=p_(Rs.ww,t),i=p_(Rs.pw,t),r=t[Rs.Aw]&&p_(Rs.Aw,t);return ns({integration:"keyos",widevine:n,playready:i},r?{fairplay:r}:{})}(t):t}function gA(t){return{useSeamlessPeriodSwitch:BA(null==t?void 0:t.useSeamlessPeriodSwitch),needsTimescaleShifting:Mg(null==t?void 0:t.needsTimescaleShifting),desiredTimescale:void 0!==(null==t?void 0:t.desiredTimescale)?Og(null==t?void 0:t.desiredTimescale):void 0,forceSeekToSynchronize:Mg(null==t?void 0:t.forceSeekToSynchronize),ignoreAvailabilityWindow:Mg(null==t?void 0:t.ignoreAvailabilityWindow),forceHardSwitchWhenSeekingBackwards:Mg(null==t?void 0:t.forceHardSwitchWhenSeekingBackwards),segmentRelativeVttTiming:Mg(null==t?void 0:t.segmentRelativeVttTiming),forceRecreateMediaSourceOnAudioSwitch:Mg(null==t?void 0:t.forceRecreateMediaSourceOnAudioSwitch)}}function wA(t){return{discontinuityAlignment:mA(null==t?void 0:t.discontinuityAlignment),delaySubtitlePreload:Lg(null==t?void 0:t.delaySubtitlePreload)}}function mA(t){if(!t||!ti(t))return"auto";switch(t){case"playlist":return"playlist";case"media":return"media";default:return"auto"}}function yA(t){if(Yn(t))return _A(Fg(null==t?void 0:t.preferredAudioCodecs,Vg),Fg(null==t?void 0:t.preferredVideoCodecs,Vg),Mg(null==t?void 0:t.restrictToPlayerSize))}function pA(t,n){var i;if(Yn(t)||Yn(n))return _A(bA(null==t?void 0:t.preferredAudioCodecs,null==n?void 0:n.preferredAudioCodecs),bA(null==t?void 0:t.preferredVideoCodecs,null==n?void 0:n.preferredVideoCodecs),null!=(i=null==t?void 0:t.restrictToPlayerSize)?i:null==n?void 0:n.restrictToPlayerSize)}function _A(t,n,i){if(0!==t.length||0!==n.length||void 0!==i)return{preferredAudioCodecs:0===t.length?void 0:t,preferredVideoCodecs:0===n.length?void 0:n,restrictToPlayerSize:i}}function bA(t,n){return void 0!==t&&(null==t?void 0:t.length)>0?t:null!=n?n:[]}function kA(t,n){if(void 0!==n)switch(t){case qg.mE:return n.preferredVideoCodecs;case qg.vE:return n.preferredAudioCodecs;default:return}}F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),Dt(),Rt(),Ut(),F(),Tt();var AA=!1;function TA(t,n,i){return i?t<=n:t<n}F(),Tt(),Dt();var SA=function(){function t(t,n){this.V=t.length>>1,this.HL=t,this.XL=n||function(t){for(var n=new Array(2*t),i=0,r=0;i<t;i+=1,r+=2)n[r]=!0,n[r+1]=!1;return n}(this.V)}var n=t.prototype;return n.Sn=function(t){return this.HL[2*t]},n.Tn=function(t){return this.HL[2*t+1]},n.ZL=function(t){return this.XL[2*t]},n.zL=function(t){return this.XL[2*t+1]},n.ks=function(){var t=this;return{get length(){return t.V},start:function(n){var i=0|n;return t.qL(i),t.Sn(i)},end:function(n){var i=0|n;return t.qL(i),t.Tn(i)}}},n.YL=function(){for(var n=new Array(2*this.V),i=new Array(2*this.V),r=0;r<this.V;r++)n[2*r]=this.Sn(r),n[2*r+1]=this.Tn(r),i[2*r]=!0,i[2*r+1]=!0;return new t(n,i)},n.qL=function(t){if(t<0)throw new p("The index provided ("+t+") must be non-negative");if(t>=this.V)throw new p("The index provided ("+t+") is greater than the maximum bound ("+this.V+")")},n.KL=function(t){if(0===this.V)return 0;if(this.wr(t))return t;if(t<=this.Sn(0))return this.Sn(0);if(t>=this.Tn(this.V-1))return this.Tn(this.V-1);for(var n=0,i=1/0,r=0;r<this.V;r++){var e=this.Sn(r),u=k.abs(e-t);u<i&&(n=e,i=u);var s=this.Tn(r),o=k.abs(s-t);o<i&&(n=s,i=o)}return n},n.jn=function(n){for(var i=0,r=0,e=[],u=[];i<this.V&&r<n.V;){var s=this.Sn(i),o=this.Tn(i),a=this.ZL(i),c=this.zL(i),h=n.Sn(r),f=n.Tn(r),v=n.ZL(r),d=n.zL(r),l=k.max(s,h),g=k.min(o,f),w=void 0;w=s===h?a&&v:l===s?a:v;var m=void 0;m=o===f?c&&d:g===o?c:d,(l<g||w&&m&&l===g)&&(e.push(l,g),u.push(w,m)),o===f?(i+=1,r+=1):o<f?i+=1:r+=1}return new t(e,u)},n.jL=function(){var n=this.QL(),i=n.V;if(0===i)return new t([-1/0,1/0],[!1,!1]);var r=[],e=[],u=n.Sn(0);u!==-1/0&&(r.push(-1/0,u),e.push(!1,!n.ZL(0)));for(var s=0;s<i-1;s++)r.push(n.Tn(s),n.Sn(s+1)),e.push(!n.zL(s),!n.ZL(s+1));var o=n.Tn(i-1);return o!==1/0&&(r.push(o,1/0),e.push(!n.zL(i-1),!1)),new t(r,e)},n.JL=function(n){for(var i=0,r=0,e=this.V,u=n.V,s=new Array(2*(e+u)),o=new Array(2*(e+u)),a=0;i<e&&r<u;){var c=this.Sn(i),h=this.Tn(i),f=n.Sn(r),v=n.Tn(r);c<f||c===f&&h<v?(s[a]=c,s[a+1]=h,o[a]=this.ZL(i),o[a+1]=this.zL(i),i++):(s[a]=f,s[a+1]=v,o[a]=n.ZL(r),o[a+1]=n.zL(r),r++),a+=2}for(;i<e;)s[a]=this.Sn(i),s[a+1]=this.Tn(i),o[a]=this.ZL(i),o[a+1]=this.zL(i),i++,a+=2;for(;r<u;)s[a]=n.Sn(r),s[a+1]=n.Tn(r),o[a]=n.ZL(r),o[a+1]=n.zL(r),r++,a+=2;return new t(s,o)},n.$L=function(n){void 0===n&&(n=0);var i=this.V;if(i<2)return this;for(var r=[],e=[],u=this.Sn(0),s=this.Tn(0),o=this.ZL(0),a=this.zL(0),c=1;c<i;c++){var h=this.Sn(c),f=this.Tn(c),v=this.ZL(c),d=this.zL(c);u<h&&s>f||(u===h&&(o=v=o||v),s===f&&(a=d=a||d),TA(h,s+n,a||v)?(s=f,a=d):(r.push(u,s),e.push(o,a),u=h,s=f,o=v,a=d))}return r.push(u,s),e.push(o,a),new t(r,e).QL()},n.QL=function(){for(var n=[],i=[],r=0;r<this.V;r++){var e=this.Sn(r),u=this.Tn(r),s=this.ZL(r),o=this.zL(r);e===u?(s||o)&&(n.push(e,u),i.push(!0,!0)):(n.push(e,u),i.push(s,o))}return new t(n,i)},n.tB=function(t){return 0===this.V?t:0===t.V?this:this.JL(t).$L()},n.eB=function(t){var n=this.QL(),i=t.QL(),r=n.jL(),e=i.jL(),u=r.jn(i),s=e.jn(n);return u.tB(s)},n.xb=function(n){if(0===this.V||0===n)return this;for(var i=[],r=[],e=0;e<this.V;e++){var u=this.Sn(e)+n,s=this.Tn(e)+n;i.push(u,s),r.push(this.ZL(e),this.zL(e))}return new t(i,r)},n.iB=function(t){return 0===this.V||0===t.V?this:this.QL().jn(t.QL().jL())},n.wr=function(t,n){return this.sB(t,n)>=0},n.nB=function(t,n,i,r,e){return this.rB(t,n,i,r,e)>=0},n.oB=function(t,n,i,r,e){return this.hB(t,n,i,r,e)>=0},n.aB=function(t){if(t.V!==this.V)return!1;for(var n=0;n<this.V;n++)if(this.Sn(n)!==t.Sn(n)||this.Tn(n)!==t.Tn(n)||this.ZL(n)!==t.ZL(n)||this.zL(n)!==t.zL(n))return!1;return!0},n.uB=function(n){for(var i=[],r=[],e=0;e<this.V;e++){var u=this.Sn(e),s=this.Tn(e),o=this.ZL(e),a=this.zL(e);n(u,s,o,a)&&(i.push(u,s),r.push(o,a))}return new t(i,r)},n.hB=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!0),void 0===e&&(e=0);for(var u=t-e,s=n+e,o=0;o<this.V;o+=1)if(TA(this.Sn(o),s,!r||this.ZL(o))&&TA(u,this.Tn(o),!i||this.zL(o)))return o;return-1},n.rB=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!1),void 0===e&&(e=0);for(var u=t+e,s=n-e,o=0;o<this.V;o+=1)if(TA(this.Sn(o),u,!i||this.ZL(o))&&TA(s,this.Tn(o),!r||this.zL(o)))return o;return-1},n.sB=function(t,n){return this.rB(t,t,!0,!0,n)},n.cB=function(t,n){void 0===n&&(n=0);for(var i=t+n,r=this.V-1;r>=0;r-=1)if(TA(this.Sn(r),i,this.ZL(r)))return r;return-1},n.lB=function(t,n){void 0===n&&(n=0);for(var i=t-n,r=0;r<this.V;r+=1)if(TA(i,this.Tn(r),this.zL(r)))return r;return-1},n.dB=function(t,n){void 0===n&&(n=0);for(var i=t+n,r=0;r<this.V;r+=1)if(this.Sn(r)>i)return r;return-1},n.fB=function(n){return this.qL(n),new t([this.Sn(n),this.Tn(n)],[this.ZL(n),this.zL(n)])},n._B=function(t,n){var i=this.sB(t,n);return i<0?void 0:this.fB(i)},t.Cn=function(n){for(var i=[],r=0;r<n.length;r++)i.push(n.start(r),n.end(r));return new t(i)},t.mB=function(n){return new t([n,n],[!0,!0])},t.gB=function(n,i){return n<=i?new t([n,i]):t.pB()},t.pB=function(){return EA},Nt(t,[{key:"GL",get:function(){return this.HL.slice()}},{key:"vB",get:function(){for(var t=0,n=0;n<this.V;n++){t+=this.Tn(n)-this.Sn(n)}return t}}]),t}(),EA=new SA([]),IA=.92,RA=1.08,CA=.25,NA=function(t){function n(n,i,r){var e,u;return(e=t.call(this)||this).eo=!1,e.qe=!1,e.SB=[],e.VB=!1,e.RB=0,e.JE=void 0,e.NB=0,e.DB=1/0,e.ZB=function(){var t=e.WB.wR,n=e.WB.ER,i=t._B(n);i&&(e.RB=sr(i.Tn(0)-n,e.RB,.5),e.TB())},e.XB=function(){e.VB=!0,e.na.vn(yp.UL,e.XB),e.qe&&e.Sn()},e.xB=function(){e.FB(),e.OB();var t=e.YB;if(t){var n=e.jB();if(t>e.bB.forceSeekOffset)return e._o(new sa("latencyrecoveryseek")),void e.ZC();var i=e.bB,r=i.minimumOffset,u=i.targetOffset,s=i.maximumOffset,o=e.WB.QR;if(n>s&&e.QB()){var a=e.bB.maximumPlaybackRate;AA,e.HB(a)}else if(n<r&&!Kn.Ys.$g){var c=e.bB.minimumPlaybackRate;AA,e.HB(c)}else if(o>1&&n<u){AA,e.HB(1)}else if(o<1&&n>u){AA,e.HB(1)}}},e.na=n,e.WB=i,e.IB=r,e.LB=r.targetOffset,e.BB=r.targetOffset+(null!=(u=r.leniency)?u:0),e.CB=r.targetOffset,e.bB=e.EB(),e.na.bn(yp.WL,e.ZB),e.na.bn(yp.UL,e.XB),e}It(n,t);var i=n.prototype;return i.AB=function(t){this.SB.push(t),this.TB()},i.kB=function(t){wo(this.SB,t),this.TB()},i.TB=function(){this.bB=this.EB(),this.eo&&this.xB()},i.EB=function(){var t=this.RB,n=function(t,n){var i=n-t.targetOffset;return{minimumOffset:t.minimumOffset+i,targetOffset:t.targetOffset+i,maximumOffset:t.maximumOffset+i,forceSeekOffset:t.forceSeekOffset+i,minimumPlaybackRate:t.minimumPlaybackRate,maximumPlaybackRate:t.maximumPlaybackRate,leniency:t.leniency}}(this.IB,this.CB),i=[n].concat(Ft(this.SB)),r=i.reduce((function(t,n){var i;return k.max(t,null!=(i=null==n?void 0:n.minimumOffset)?i:0)}),t),e=i.reduce((function(t,n){var i;return k.max(t,null!=(i=null==n?void 0:n.targetOffset)?i:0)}),r+CA),u=i.reduce((function(t,n){var i;return k.max(t,null!=(i=null==n?void 0:n.maximumOffset)?i:0)}),e+CA);return{minimumOffset:r,targetOffset:e,maximumOffset:u,forceSeekOffset:i.reduce((function(t,n){var i;return k.max(t,null!=(i=null==n?void 0:n.forceSeekOffset)?i:0)}),u+CA),minimumPlaybackRate:i.reduce((function(t,n){var i;return k.min(t,null!=(i=n.minimumPlaybackRate)?i:IA)}),IA),maximumPlaybackRate:i.reduce((function(t,n){var i;return k.max(t,null!=(i=n.maximumPlaybackRate)?i:RA)}),RA)}},i.PB=function(){var t,n=null==(t=SA.Cn(this.na.wR)._B(this.na.ER))?void 0:t.Tn(0),i=void 0!==n?n-this.na.ER:0;this.DB=k.min(this.DB,i),this.NB+=1},i.MB=function(){if(!(this.NB<10)){var t=.25-this.DB,n=sr(this.CB+t,this.CB-.1,this.CB+.1);this.CB=sr(n,this.LB,this.BB),this.DB=1/0,this.NB=0}},i.OB=function(){var t=this;this.FB(),this.JE=Kn.Gg((function(){return t.xB()}),500)},i.FB=function(){void 0!==this.JE&&(Kn.Ug(this.JE),this.JE=void 0)},i.Sn=function(){var t=this;this.qe&&this.VB&&(this.eo||this.WB.bn(oa.hb,this.xB),this.UB=Kn.Gp((function(){return t.PB()}),1e3),this.GB=Kn.Gp((function(){return t.MB()}),6e4),this.OB(),this.eo=!0)},i.RI=function(){this.eo&&(this.FB(),this.UB&&Kn.Hp(this.UB),this.GB&&Kn.Hp(this.GB),this.WB.vn(oa.hb,this.xB),this.HB(1),this.eo=!1)},i.Xw=function(){this.RI(),this.na.vn(yp.WL,this.ZB),this.na.vn(yp.UL,this.XB),this.Ro()},i.HB=function(t){this.WB.qB.zB||this.na.QR!==t&&(this.na.QR=t)},Nt(n,[{key:"wB",get:function(){return this.qe&&this.eo}},{key:"yB",get:function(){return this.bB}},{key:"Rt",get:function(){return this.qe},set:function(t){this.qe=t,t?this.Sn():this.RI()}},{key:"YB",get:function(){return this.na.KB}}]),n}(ra),DA=.66,PA=1.5,xA=3;function LA(t){if(Yn(t)){var n,i,r,e,u,s,o=Kn.Ys.tp?10:0,a=t.targetOffset;return{minimumOffset:null!=(n=t.minimumOffset)?n:a*DA,targetOffset:a,maximumOffset:null!=(i=t.maximumOffset)?i:a*PA,forceSeekOffset:k.max(null!=(r=t.forceSeekOffset)?r:a*xA,o),minimumPlaybackRate:null!=(e=t.minimumPlaybackRate)?e:IA,maximumPlaybackRate:null!=(u=t.maximumPlaybackRate)?u:RA,leniency:null!=(s=t.leniency)?s:void 0}}}var MA=function(t){return t.JB="auto",t.$B="always",t.tO="never",t.CLEAR_ONLY="clear-only",t.SAME_DRM_ONLY="same-drm-only",t}({}),OA=function(t){return t.UPLYNK="uplynk",t.MEDIATAILOR="mediatailor",t}({});function BA(t){if(!t||!ti(t))return"auto";switch(t){case"always":return"always";case"never":return"never";case"clear-only":return"clear-only";case"same-drm-only":return"same-drm-only";default:return"auto"}}F(),Tt(),F(),Tt();var VA=function(t){return t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled",t}({});F(),Tt();var FA=!1;F(),Tt();var UA=function(t){return t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll",t}({});function WA(t){return!!t&&Vs(t,"mpd")}function ZA(t){var n=cA.jC;return WA(t)&&(n=cA.qC),function(t){return!!t&&Vs(t,"m3u8")}(t)&&(n=cA.YC),n}function XA(t){switch(t){case aA.XC:case aA.zC:return t;default:return aA.wE}}function GA(t){if(!t)return!1;var n=t.toLowerCase();return Fs(n,cA.qC)}function HA(t){if(!t)return!1;var n=t.toLowerCase();return Fs(n,cA.YC)||Fs(n,cA.KC)}function zA(t){return Qn(t)&&Qn(t.ssai)&&"google-dai"===t.ssai.integration}function YA(t){return Qn(t)&&("verizon-media"===t.integration||"uplynk"===t.integration)}function jA(t){return Qn(t)&&("theolive"===t.type||"theolive"===t.integration)}function KA(t){return Qn(t)&&"mediatailor"===t.integration}function qA(t){return Qn(t)&&"millicast"===t.type}function JA(t){if(ti(t))return!t;if(YA(t))return!t.id;if(zA(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,r="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&r)}return qA(t)?!t.src||!t.streamAccountId:!t.src}function QA(t){return Boolean(Qn(t)&&ti(t.src))}function $A(t){return t.type===cA.QC||t.type===cA.JC}function tT(t){return ti(t)||QA(t)||zA(t)||YA(t)||qA(t)}function nT(t){if(t){if(tT(t))return JA(t);for(var n=0;n<t.length;n++){if(!JA(t[n]))return!1}return!0}return!0}function iT(){return{crossOrigin:aA.wE,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,useManagedMediaSource:!1,dash:void 0,hls:void 0,abr:void 0,lcevc:void 0,ignoreEmbeddedTextTrackTypes:[],seamlessSwitchStrategy:MA.JB,latencyConfiguration:void 0}}function rT(){return ns({},iT(),{src:void 0,type:cA.jC,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function eT(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:VA.ENABLED,googleIma:{useNativeIma:!1,useAdUiElementForSsai:!1,bitrate:-1,language:void 0,uiElements:void 0,allowSeekingForGoogleDai:!1},theoads:FA};return void 0===t||(void 0!==t.preload&&(n.preload=function(t){return"none"===t?UA.NONE:UA.MIDROLL_AND_POSTROLL}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=Lg(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return VA.INSECURE;case"disabled":return VA.DISABLED;default:return VA.ENABLED}}(t.vpaidMode)),qn(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(ti)),void 0!==t.googleIma&&(n.googleIma=function(t){return void 0===t?{useNativeIma:!1,useAdUiElementForSsai:!1,bitrate:-1,language:void 0,uiElements:void 0,allowSeekingForGoogleDai:!1}:{useNativeIma:Lg(t.useNativeIma),useAdUiElementForSsai:Lg(t.useAdUiElementForSsai),bitrate:null!=(n=t.bitrate)?n:-1,language:Yn(t.language)?Vg(t.language):void 0,uiElements:t.uiElements,allowSeekingForGoogleDai:Lg(t.allowSeekingForGoogleDai)};var n}(t.googleIma)),void 0!==t.theoads?n.theoads=Lg(t.theoads):n.theoads=FA),n}function uT(t){if(!Jn(t))return[];for(var n=[],i=0;i<t.length;i++){var r=t[i];Qn(r)&&n.push(r)}return n}function sT(t){return ti(t.src)||qA(t)}function oT(t){return qn(t)?t.filter(Sw):[]}F(),Tt(),Rt();var aT=function(t){function n(n,i){var r;return void 0===i&&(i=bp.eO),(r=t.call(this,oa.Cy)||this).currentTime=n,r.readyState=i,r}return It(n,t),n}(sa);F(),Tt(),Rt();var cT=function(t){function n(n){var i;return(i=t.call(this,oa.zy)||this).currentTime=n,i}return It(n,t),n}(sa);F(),Tt(),Rt();var hT=function(t){function n(n){var i;return(i=t.call(this,oa.ho)||this).currentTime=n,i}return It(n,t),n}(sa);F(),Tt(),Rt();var fT=function(t){function n(n){var i;return(i=t.call(this,oa.Iy)||this).duration=n,i}return It(n,t),n}(sa);F(),Tt(),Rt();var vT=function(t){function n(n,i){var r;return(r=t.call(this,oa.Yy)||this).currentTime=n,r.playbackRate=i,r}return It(n,t),n}(sa);F(),Tt(),Rt();var dT=function(t){function n(n){var i;return(i=t.call(this,oa.Dy)||this).currentTime=n,i}return It(n,t),n}(sa);F(),Tt(),Rt();var lT=function(t){function n(n){var i;return(i=t.call(this,oa.Jy)||this).currentTime=n,i}return It(n,t),n}(sa);F(),Tt(),Rt();var gT=function(t){function n(n){var i;return(i=t.call(this,oa.Qy)||this).currentTime=n,i}return It(n,t),n}(sa);F(),Tt(),Rt();var wT=function(t){function n(n,i){var r;return(r=t.call(this,oa.ub)||this).currentTime=n,r.volume=i,r}return It(n,t),n}(sa);function mT(t,n){return yT.apply(this,arguments)}function yT(){return yT=Zt((function(t,n,i,r,e){var u,s,o;return Ht(this,(function(a){switch(a.label){case 0:void 0===i&&(i=3),void 0===r&&(r=1e3),void 0===e&&(e=1/0),u=0,a.label=1;case 1:0,a.label=2;case 2:return a.trys.push([2,4,,7]),[4,t(n)];case 3:return[2,a.sent()];case 4:return Fo(s=a.sent()),u<i?(o=k.min(r*k.pow(2,u),e),u++,[4,$o(o,n)]):[3,6];case 5:return a.sent(),[3,1];case 6:throw s;case 7:return[3,1];case 8:return[2]}}))})),yT.apply(this,arguments)}F(),Tt(),Gt(),qt();var pT={maxRetries:1/0,minimumBackoff:200,maximumBackoff:3e4};F(),Tt();var _T=function(t){return t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture",t.NATIVE_PICTURE_IN_PICTURE="native-picture-in-picture",t}({}),bT=function(t){return t.NONE="none",t.ALL="all",t.CONTENT="content",t}({});function kT(t){switch(t){case"all":case"content":return t;default:return"none"}}function AT(t){var n,i=Cg(t||{});return i.libraryLocation&&(i.libraryLocation=ml(i.libraryLocation,!0)),i.isEmbeddable=Boolean(i.isEmbeddable),i.cast=function(t){var n=oA(t?t.chromecast:void 0),i=function(t){switch(t){case"auto":return"auto";case"manual":default:return"manual";case"disabled":return"disabled"}}(t?t.strategy:void 0);return{chromecast:n,strategy:i}}(i.cast),i.ads=eT(i.ads),i.analytics=uT(i.analytics),i.mutedAutoplay=kT(i.mutedAutoplay),i.allowNativeFullscreen=Boolean(i.allowNativeFullscreen),i.allowMixedContent=Boolean(i.allowMixedContent),i.persistVolume=Boolean(i.persistVolume),i.liveOffset=function(t){return Number(t)||void 0}(i.liveOffset),i.hlsDateRange=function(t){return Boolean(t)}(i.hlsDateRange),i.retainPlaybackRateOnSourceChange=Boolean(i.retainPlaybackRateOnSourceChange),i.license=function(t){return ti(t)?t:void 0}(i.license),i.licenseUrl=function(t){if(!t)return;try{return ml(t)}catch(t){return void Kn.Vp("Invalid 'licenseUrl', falling back to default URL")}}(i.licenseUrl),i.abr=yA(i.abr),i.retryConfiguration=function(t){var n=ns({},pT);return void 0!==t&&(void 0!==t.maxRetries&&(n.maxRetries=Number(t.maxRetries)),void 0!==t.minimumBackoff&&(n.minimumBackoff=Number(t.minimumBackoff)),void 0!==t.maximumBackoff&&(n.maximumBackoff=Number(t.maximumBackoff))),n}(i.retryConfiguration),i.hideDeprecationWarnings=Boolean(i.hideDeprecationWarnings),i.theoLive=function(t){if(!t)return t;return ns({},t,{externalSessionId:t.externalSessionId?Vg(t.externalSessionId):void 0,fallbackEnabled:Mg(t.fallbackEnabled)})}(i.theoLive),null!=(n=i).uplynk||(n.uplynk=i.verizonMedia),i}function TT(t){return{bt:t.bt,ER:t.ER,ct:t.ct,PR:t.PR,lt:t.lt,MR:t.MR,ZR:t.ZR,KR:t.KR,QR:t.QR,rI:t.rI,uI:t.uI,dI:t.dI,vI:t.vI,gI:t.gI}}function ST(t,n){var i=n.gI,r=n.ZR;t.gI=i,t.ZR=r}function ET(t,n,i){if(n!==i){var r=n.bt!==i.bt,e=n.ER,u=n.ct,s=n.ZR,o=n.KR,a=n.QR,c=n.rI,h=n.uI,f=(n.vI,n.dI,n.gI),v=i.ER,d=i.ct,l=i.PR,g=i.MR,w=i.ZR,m=i.KR,y=i.QR,p=i.rI,_=i.uI,b=(i.vI,i.dI,i.gI);(r||c>bp.eO&&p===bp.eO)&&t._o(new aT(v,p)),m&&!o?t._o(new cT(v)):!m&&o&&t._o(new hT(v)),p>=bp.Xn&&(r||c<bp.Xn)&&t._o(new kp(v,p)),d===u||S(d)&&S(u)||t._o(new fT(d)),y!==a&&t._o(new vT(v,y)),v!==e&&t._o(new lg(v,void 0)),l&&t._o(new dT(v)),p>=bp.iO&&(r||c<bp.iO)&&t._o(new Ap(v,p)),_&&!h?t._o(new lT(v)):!_&&h&&t._o(new gT(v)),b===f&&w===s||t._o(new wT(v,b)),p>=bp.sO&&(r||c<bp.sO)&&t._o(new Sp(v,p)),p>=bp.nO&&(r||c<bp.nO)&&t._o(new Ep(v,p)),p!==c&&t._o(new _p(v,p)),g&&t._o(new yk(g))}}function IT(t){switch(t){case _T.INLINE:case _T.FULLSCREEN:case _T.PICTURE_IN_PICTURE:case _T.NATIVE_PICTURE_IN_PICTURE:return t;default:return}}F(),Tt(),Rt();var RT=function(t){function n(n){var i;return(i=t.call(this,oa.xy)||this).currentSource=n,i}return It(n,t),n}(sa);F(),Tt(),Rt();var CT=function(t){function n(){return t.call(this,oa.Ny)||this}return It(n,t),n}(sa);F(),Tt(),Rt();var NT=function(t){function n(){return t.call(this,oa.Ly)||this}return It(n,t),n}(sa);F(),Tt(),Dt(),Rt(),F(),Tt(),Rt(),F(),Tt();var DT=function(t){return t.rO="enterpictureinpicture",t.oO="exitpictureinpicture",t.fa="pictureinpictureerror",t}({}),PT=function(t){function n(){return t.call(this,DT.rO)||this}return It(n,t),n}(sa);F(),Tt(),Rt();var xT=function(t){function n(){return t.call(this,DT.oO)||this}return It(n,t),n}(sa),LT=function(t){function n(n){var i;return(i=t.call(this)||this).mC=n,i.wC(i.mC),i}It(n,t);var i=n.prototype;return i.wC=function(t){t.bn(DT.rO,this.Ds),t.bn(DT.oO,this.Ds),t.bn(DT.fa,this.Ds)},i.gC=function(t){t.vn(DT.rO,this.Ds),t.vn(DT.oO,this.Ds),t.vn(DT.fa,this.Ds)},i.vo=function(){return this.mC.vo()},i.xo=function(){return this.mC.xo()},i.yn=function(t){this.Ro(),this.gC(this.mC),t||this.mC.yn()},Nt(n,[{key:"vC",get:function(){return this.mC},set:function(t){if(t!==this.mC){this.gC(this.mC);var n=this.mC.hO;this.mC=t,this.wC(t),!n&&this.mC.hO?this._o(new PT):n&&!this.mC.hO&&this._o(new xT)}}},{key:"aO",get:function(){return this.mC.aO}},{key:"hO",get:function(){return this.mC.hO}}]),n}(ra),MT=function(t){function n(n){var i;return(i=t.call(this,n)||this).cO=new Qk,i.dO=new Qk,i.Hl=new $k,i.lO=new eA,i.uO=new LT(n.ja()),i.cO.vC=n.ht,i.dO.vC=n.rt,i.Hl.vC=n.nt,i.lO.vC=n.OR,i}It(n,t);var i=n.prototype;return i.ja=function(){return this.uO},i.mR=function(){return this.cO},i.FR=function(){return this.lO},i.lI=function(){return this.Hl},i._I=function(){return this.dO},i.fO=function(t){var n=this.gR;if(n!==t){n.gy(this.FI);var i=TT(this),r=this.kR(),e=this.SI(),u=this.TI();this.gR=t,this.cO.vC=t.ht,this.dO.vC=t.rt,this.Hl.vC=t.nt,this.uO.vC=t.ja(),this.lO.vC=t.OR,void 0!==i&&ET(this,i,this);var s=this.kR();s!==r&&this._o(new RT(s)),this.SI()!==e&&this._o(new CT),this.TI()!==u&&this._o(new NT),t.oy(this.FI)}},i.yn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.yn.call(n)];case 1:return i.sent(),n.uO.yn(),n.cO.yn(),n.dO.yn(),n.Hl.yn(),n.lO.yn(),[2]}}))}))()},Nt(n,[{key:"OR",get:function(){return this.FR()}}]),n}(qk);F(),Tt();var OT=function(t){function n(n){var i;return(i=t.call(this,n)||this).yO=[],i.mo=!1,i.SO=!1,i.bO(n),i}It(n,t);var i=n.prototype;return i.HR=function(){return function(t){for(var n=0,i=0,r=0,e=0,u=0,s=0,o=0,a=0;a<t.length;a++){var c=t[a];n+=c._O,i+=c.vO,r+=c.mO,e+=c.gO,u+=c.pO,s+=c.wO.amountOfBufferedAudioSegments,o+=c.wO.amountOfBufferedVideoSegments}return{_O:n,vO:i,mO:r,gO:e,pO:u,wO:{amountOfBufferedAudioSegments:s,amountOfBufferedVideoSegments:o}}}(this.yO.map((function(t){return t.GR})))},i.RI=function(){return Jo(this.yO.map((function(t){return t.RI()}))).then(bi)},i.nr=function(){return Jo(this.yO.map((function(t){return t.nr()}))).then(bi)},i.kI=function(){if(!this.mo){for(var t=0,n=this.yO;t<n.length;t++){n[t].kI()}this.mo=!0}},i.pR=function(){for(var t=[],n=0,i=this.yO;n<i.length;n++){var r,e=i[n];(r=t).push.apply(r,Ft(e.pR()))}return t},i.LI=function(t){for(var n=!1,i=0,r=this.yO;i<r.length;i++){n=r[i].LI(t)||n}return n},i._o=function(n){this.LI(n)||t.prototype._o.call(this,n)},i.bO=function(t){this.yO.push(t)},i.AO=function(t){wo(this.yO,t)},i.fO=function(n){if(n!==this.gR){var i=this.gR;i.dr(),t.prototype.fO.call(this,n),n.pr(i)}},i.NI=function(){for(var t=0,n=this.yO;t<n.length;t++){n[t].NI()}},i.yn=function(){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:n.Ro(),n.gR.dr(),i=0,r=n.yO,u.label=1;case 1:return i<r.length?(e=r[i],n.gR===e?[3,3]:[4,e.yn()]):[3,4];case 2:u.sent(),u.label=3;case 3:return i++,[3,1];case 4:return[4,t.prototype.yn.call(n)];case 5:return u.sent(),[2]}}))}))()},Nt(n,[{key:"vC",get:function(){return this.gR},set:function(t){this.fO(t)}}]),n}(MT);F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Dt();var BT=function(){function t(){this.XH=new Lk,this.ZH=[]}var n=t.prototype;return n.HH=function(t){this.ZH.push(t)},n.uP=function(t,n,i,r,e,u,s){for(var o=this.XH.uP(t,n,i,r,e,u,s),a=0,c=this.ZH;a<c.length;a++){o=(0,c[a])(o,i,r)}return o},n.FH=function(t,n){return this.XH.FH(t,n)},n.VH=function(t){return this.XH.VH(t)},n.WH=function(){return!1},t.GH=function(){return this.Vg},Nt(t,[{key:"UH",get:function(){return this.XH.UH}}]),t}();function VT(t,n){return uo(t.UH,n.UH)}BT.Vg=new BT,F(),Tt(),Gt(),qt(),F(),Tt();var FT=function(){function t(){this.qH=[]}var n=t.prototype;return n.zH=function(t){this.qH.push(t),this.qH.sort(VT)},n.YH=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:r=0,e=i.qH,a.label=1;case 1:return r<e.length?(u=e[r],ii(s=u.FH(t,n))?[4,s]:[3,3]):[3,6];case 2:return o=a.sent(),[3,4];case 3:o=Boolean(s),a.label=4;case 4:if(o)return[2,u];a.label=5;case 5:return r++,[3,1];case 6:return[2,void 0]}}))}))()},t}();function UT(t){GT.Vg.zH(t)}F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt();var WT,ZT,XT,GT=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).jH=BT.GH(),n}It(n,t);var i=n.prototype;return i.KH=function(t){this.jH=t},i.QH=function(){return this.jH},i.JH=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:r=i.jH,e=!1,u=0,v.label=1;case 1:return u<t.length?(s=t[u],[4,i.YH(s,n)]):[3,12];case 2:return(o=v.sent())?(a=c_(s.contentProtection))?[3,4]:[4,o.VH(s.contentProtection)]:[3,5];case 3:a=v.sent(),v.label=4;case 4:if(a)return[2,{Cc:s,t:o}];s.contentProtection&&(e=!0),v.label=5;case 5:return ii(c=r.FH(s,n))?[4,c]:[3,7];case 6:return h=v.sent(),[3,8];case 7:h=Boolean(c),v.label=8;case 8:return h?(f=c_(s.contentProtection))?[3,10]:[4,r.VH(s.contentProtection)]:[3,11];case 9:f=v.sent(),v.label=10;case 10:if(f)return[2,{Cc:s,t:r}];s.contentProtection&&(e=!0),v.label=11;case 11:return u++,[3,1];case 12:return e?[4,Kn.Zp()]:[3,14];case 13:throw v.sent()?new id(td.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported."):new id(td.CONTENT_PROTECTION_NOT_SUPPORTED,"The DRM configuration is not supported by this platform.");case 14:return[2,{Cc:t[0],t:r}]}}))}))()},n}(FT);GT.Vg=new GT,F(),Tt(),F(),Tt();var HT=function(){function t(t){this.Vs=f&&f.document&&f.document.createElement("div"),mi(this.Vs),t.appendChild(this.Vs)}return t.prototype.yn=function(){oi(this.Vs)},t}();F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt();var zT=function(t){return t.yG="",t.$H="none",t.eW="metadata",t.JB="auto",t}({});var YT=[Uy.fa,oa.Cy,oa.Py,oa.gb,oa.wy,oa.Ny,oa.Ly,oa.Zy,oa.Xy,oa.eb,oa.sb,yp.BL,yp.OL,yp.FL,yp.VL,yp.iC,yp.WL,yp.UL,oa.Ty,oa.Ey,oa.Iy,oa.Dy,oa.Uy,oa.Gy,oa.ho,oa.qy,oa.zy,oa.Yy,oa.jy,oa.Jy,oa.Qy,oa.hb,oa.ub,oa.Ky,oa.Hy,oa.$y],jT=function(t){function n(n,i){var r;return(r=t.call(this)||this).rZ=void 0,r.tZ=void 0,r.QG=zT.$H,r.sZ=void 0,r.hZ=!0,r.cO=new Qk,r.dO=new Qk,r.Hl=new $k,r.lO=new eA,r.nZ=n,r.na=i,r.na.iI=r.iI,r.uO=new LT(i.ja()),r.eZ(),r}It(n,t);var i=n.prototype;return i.EI=function(){this.na.EI()},i.xI=function(){var t=this.na.xI();ii(t)&&qo(t)},i.RI=function(){return this.Ca(void 0)},i.kI=function(){},i.eZ=function(){this.uO.vC=this.na.ja(),this.cO.vC=this.na.ht,this.dO.vC=this.na.rt,this.Hl.vC=this.na.nt,this.lO.vC=this.na.OR,this.na.bn(YT,this.Ds)},i.iZ=function(){this.na.vn(YT,this.Ds),this.cO.vC=void 0,this.dO.vC=void 0,this.Hl.vC=void 0,this.lO.vC=void 0},i.iu=function(){return this.sZ},i.Ca=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return Vo(n),i.sZ=t,t?nT(r=t.sources.filter(sT))?[2]:[4,i.nZ.JH(r,t)]:[2];case 1:return e=c.sent(),Vo(n),u=e.Cc,s=e.t,o=i.SI(),a=TT(i),i.rZ!==s||i.lt?(i.iZ(),[4,i.na.yn()]):[3,3];case 2:c.sent(),Vo(n),i.rZ=s,i.na=i.oZ(s,u),function(t,n){t.ZR!==n.ZR&&(t.ZR=n.ZR);t.gI!==n.gI&&(t.gI=n.gI);t.QR!==n.QR&&(t.QR=n.QR)}(i.na,a),ET(i,a,i),i.eZ(),c.label=3;case 3:return i.na.iI=i.iI,i.hZ?i.na.ge():i.na.be(),[4,i.na.Ca(u,t,n)];case 4:return c.sent(),Vo(n),i.aZ(u),i.SI()!==o&&i._o(new CT),[2]}}))}))()},i.aZ=function(t){this.tZ!==t&&(this.tZ=t,this._o(new RT(t)))},i.II=function(){return this.na.II()},i.CI=function(){this.na.CI()},i.DI=function(){this.na.DI()},i.SI=function(){return this.na.SI()},i.ja=function(){return this.uO},i.NI=function(){this.na.NI()},i.MI=function(){this.na.MI()},i.OI=function(t){return this.na.OI(t)},i.nr=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.sZ=void 0,t.aZ(void 0),[4,t.na.nr()];case 1:return n.sent(),[2]}}))}))()},i.yn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.Ro(),[4,t.nr()];case 1:return n.sent(),[4,t.na.yn()];case 2:return n.sent(),t.cO.yn(),t.dO.yn(),t.Hl.yn(),t.uO.yn(),t.lO.yn(),[2]}}))}))()},i.ge=function(){this.hZ=!0,this.na.ge()},i.be=function(){this.hZ=!1,this.na.be()},Nt(n,[{key:"ht",get:function(){return this.cO}},{key:"wR",get:function(){return this.na.wR}},{key:"lt",get:function(){return this.na.lt}},{key:"MR",get:function(){return this.na.MR}},{key:"bR",get:function(){return this.na.bR},set:function(t){this.na.bR=t}},{key:"bt",get:function(){return this.tZ}},{key:"ER",get:function(){return this.na.ER},set:function(t){this.na.ER=t}},{key:"ct",get:function(){return this.na.ct}},{key:"PR",get:function(){return this.na.PR}},{key:"OR",get:function(){return this.lO}},{key:"WR",get:function(){return this.na.WR}},{key:"GR",get:function(){return this.na.GR}},{key:"ZR",get:function(){return this.na.ZR},set:function(t){this.na.ZR=t}},{key:"qR",get:function(){return this.na.qR}},{key:"KR",get:function(){return this.na.KR}},{key:"QR",get:function(){return this.na.QR},set:function(t){this.na.QR=t}},{key:"tI",get:function(){return this.na.tI}},{key:"iI",get:function(){return this.QG},set:function(t){this.QG=t,this.na&&(this.na.iI=this.QG)}},{key:"rI",get:function(){return this.na.rI}},{key:"hI",get:function(){return this.na.hI}},{key:"uI",get:function(){return this.na.uI}},{key:"nt",get:function(){return this.Hl}},{key:"dI",get:function(){return this.na.dI}},{key:"rt",get:function(){return this.dO}},{key:"vI",get:function(){return this.na.vI}},{key:"gI",get:function(){return this.na.gI},set:function(t){this.na.gI=t}},{key:"yI",get:function(){return this.na.yI}},{key:"eH",get:function(){return this.na.eH}}]),n}(ua);F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Dt(),Rt(),F(),Tt();var KT=function(t){return t.da="fullscreenchange",t.ga="fullscreensupportchange",t.fa="fullscreenerror",t}({});F(),Tt(),Rt();var qT=function(t){function n(){return t.call(this,KT.fa)||this}return It(n,t),n}(sa),JT=(KT.da,KT.ga,KT.fa,function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.vo=function(){this._o(new qT)},i.xo=function(){},i.yn=function(){this.Ro()},Nt(n,[{key:"cs",get:function(){return!1}},{key:"oa",get:function(){return!1}}]),n}(ra));F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Rt();var QT=function(t){function n(){return t.call(this,DT.fa)||this}return It(n,t),n}(sa),$T=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.vo=function(){var t=this;return Zt((function(){return Ht(this,(function(n){return t._o(new QT),[2]}))}))()},i.xo=function(){var t=this;return Zt((function(){return Ht(this,(function(n){return t._o(new QT),[2]}))}))()},i.yn=function(){this.Ro()},Nt(n,[{key:"aO",get:function(){return!1}},{key:"hO",get:function(){return!1}}]),n}(ra),tS=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).uZ=0,n.lZ=!1,n.dZ=!0,n.fZ=1,n.cZ=!1,n.zA=1,n.ht=new Kg,n.wR=SA.pB().ks(),n.ct=NaN,n.PR=!1,n.lt=void 0,n.MR=void 0,n.OR=void 0,n.WR=!1,n.qR=!0,n.tI=SA.pB().ks(),n.iI=zT.$H,n.rI=bp.eO,n.hI=SA.pB().ks(),n.$G=void 0,n.nt=new Hy,n.dI=0,n.rt=new Kg,n.vI=0,n.yI=new Nk,n.iH=new Ak,n.ea=new JT,n.ta=new $T,n}It(n,t);var i=n.prototype;return i.RR=function(t,n){this.uZ!==t&&(this.uZ=t,this.cZ=!0,this._o(new lT(this.ER)))},i.ge=function(){},i.be=function(){},i.xI=function(){this.dZ&&(this.dZ=!1,this._o(new hT(this.ER)),this._o(new Tp(this.ER)))},i.EI=function(){this.dZ||(this.dZ=!0,this._o(new lg(this.ER,this.bR)),this._o(new cT(this.ER)))},i.Ca=function(t,n){return et.resolve()},i.II=function(){return!1},i.CI=function(){},i.DI=function(){},i.SI=function(){return this.ea},i.ja=function(){return this.ta},i.OI=function(t){throw new p("Adding a CustomTextTrack is not supported without setting a source.")},i.NI=function(){},i.MI=function(){},i.nr=function(){var t=this;return Zt((function(){return Ht(this,(function(n){return t.uZ=0,t.cZ=!1,t.EI(),t._o(new aT(t.uZ)),[2]}))}))()},i.yn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){return t.Ro(),t.ht.yn(),t.nt.yn(),t.rt.yn(),[2]}))}))()},Nt(n,[{key:"bR",get:function(){},set:function(t){}},{key:"bt",get:function(){}},{key:"ER",get:function(){return this.uZ},set:function(t){this.RR(t)}},{key:"GR",get:function(){return{_O:0,vO:0,mO:0,gO:0,pO:0,wO:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"ZR",get:function(){return this.lZ},set:function(t){this.lZ!==t&&(this.lZ=t,this._o(new wT(this.ER,this.gI)))}},{key:"KR",get:function(){return this.dZ}},{key:"QR",get:function(){return this.fZ},set:function(t){this.fZ!==t&&(this.fZ=t,this._o(new vT(this.ER,this.QR)))}},{key:"uI",get:function(){return this.cZ}},{key:"gI",get:function(){return this.zA},set:function(t){this.zA!==t&&(this.zA=t,this._o(new wT(this.ER,this.gI)))}},{key:"AI",get:function(){return!1},set:function(t){}},{key:"eH",get:function(){return this.iH}},{key:"KB",get:function(){}}]),n}(ra),nS=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).bH=void 0,n.WB=void 0,n}It(n,t);var i=n.prototype;return i.TI=function(){var t;return null==(t=this.WB)?void 0:t.jG},i.yn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.yn.call(n)];case 1:return i.sent(),n.WB?[4,n.bH.yH(n.WB)]:[3,3];case 2:i.sent(),n.WB=void 0,i.label=3;case 3:return[2]}}))}))()},Nt(n,[{key:"_Z",set:function(t){this.bH=t,this.WB=t.OH(qg.mE)}}]),n}(tS),iS=function(t){function n(n,i,r,e,u,s,o){var a,c=new nS;return(a=t.call(this,GT.Vg,c)||this).Cu=n,a.MT=i,a.fW=r,a.gZ=e,a.pZ=u,a.wZ=o,a.mZ=new WT(s,a.wZ),a.mZ.AZ(a.Cu),c._Z=a.mZ,a.bZ=new HT(a.Cu),a}It(n,t);var i=n.prototype;return i.kI=function(){t.prototype.kI.call(this),this.mZ.vZ()},i.pr=function(t){ST(this,t)},i.dr=function(){},i.LI=function(t){return!1},i.Ca=function(n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){switch(s.label){case 0:return e=r.SI(),u=r.TI(),[4,t.prototype.Ca.call(r,n,i)];case 1:return s.sent(),r.SI()!==e&&r._o(new CT),r.TI()!==u&&r._o(new NT),[2]}}))}))()},i.RR=function(t,n){this.na.RR(t,n)},i.oZ=function(t,n){return t.uP(this.Cu,this.mZ,this.fW,this.MT,this.gZ,this.pZ,this.wZ,n)},i.TI=function(){return this.na.TI()},i.pR=function(){return this.mZ.yZ.map((function(t){return t.jG}))},i.yn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.yn.call(n)];case 1:return i.sent(),n.mZ.yn(),n.bZ.yn(),[2]}}))}))()},Nt(n,[{key:"we",get:function(){return this.Cu}},{key:"AI",get:function(){return this.na.AI},set:function(t){this.na.AI=t}}]),n}(jT);F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt();var rS=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).ea=new JT,e.ta=new $T,e.tH=new Nk,e.Cu=n,e.TZ=i,e.SZ=new Kg,e.EZ=new Hy,e.kZ=r,e}It(n,t);var i=n.prototype;return i.RR=function(t,n){},i.LI=function(t){return!0},i.be=function(){},i.xI=function(){throw this._o(new yk(this.kZ)),this.TZ},i.EI=function(){},i.iu=function(){},i.Ca=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(t){throw Vo(n),i._o(new yk(i.kZ)),i.TZ}))}))()},i.ge=function(){},i.RI=function(){return et.resolve()},i.TI=function(){},i.SI=function(){return this.ea},i.ja=function(){return this.ta},i.pR=function(){return[]},i.kI=function(){},i.pr=function(t){},i.dr=function(){},i.II=function(){return!1},i.CI=function(){},i.DI=function(){},i.NI=function(){},i.MI=function(){},i.OI=function(t){},i.nr=function(){return et.resolve()},i.yn=function(){return this.Ro(),this.SZ.yn(),this.EZ.yn(),et.resolve()},Nt(n,[{key:"ht",get:function(){return this.SZ}},{key:"wR",get:function(){return SA.pB().ks()}},{key:"bR",get:function(){return new Date(NaN)},set:function(t){}},{key:"bt",get:function(){}},{key:"ER",get:function(){return 0},set:function(t){}},{key:"ct",get:function(){return 0}},{key:"we",get:function(){return this.Cu}},{key:"PR",get:function(){return!0}},{key:"lt",get:function(){return this.TZ}},{key:"MR",get:function(){return this.kZ}},{key:"OR",get:function(){}},{key:"GR",get:function(){return{_O:0,vO:0,mO:0,gO:0,pO:0,wO:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"ZR",get:function(){return!1},set:function(t){}},{key:"qR",get:function(){return!0}},{key:"KR",get:function(){return!0}},{key:"QR",get:function(){return 0},set:function(t){}},{key:"tI",get:function(){return SA.pB().ks()}},{key:"iI",get:function(){return zT.$H},set:function(t){}},{key:"rI",get:function(){return bp.eO}},{key:"hI",get:function(){return SA.pB().ks()}},{key:"uI",get:function(){return!1}},{key:"nt",get:function(){return this.EZ}},{key:"dI",get:function(){return 0}},{key:"rt",get:function(){return this.SZ}},{key:"vI",get:function(){return 0}},{key:"gI",get:function(){return 1},set:function(t){}},{key:"yI",get:function(){return this.tH}},{key:"AI",get:function(){return!1},set:function(t){}},{key:"WR",get:function(){return!1}}]),n}(ua);function eS(t){if(t&&Qn(t))return ns({},t,{integration:uS(t.integration),fairplay:fS(t.fairplay),widevine:sS(t.widevine),playready:oS(t.playready),clearkey:vS(t.clearkey),aes128:dS(t.aes128),integrationParameters:lS(t.integrationParameters),preferredKeySystems:gS(t.preferredKeySystems),useOipfDrmAgent:Lg(t.useOipfDrmAgent)})}function uS(t){if(ti(t))return t}function sS(t){if(t&&Qn(t))return{persistentState:aS(t.persistentState),distinctiveIdentifier:aS(t.distinctiveIdentifier),audioRobustness:cS(t.audioRobustness),videoRobustness:cS(t.videoRobustness),licenseAcquisitionURL:ti(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:hS(t.licenseType),headers:t.headers,useCredentials:!!ni(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:ti(t.certificate)||Ac(t.certificate)?t.certificate:void 0}}function oS(t){if(t){var n=sS(t);if(n)return ns({},n,{customData:ti(t.customData)?t.customData:void 0})}}function aS(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function cS(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function hS(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function fS(t){if(t){var n=sS(t);if(n)return ns({},n,{certificateURL:ti(t.certificateURL)?t.certificateURL:void 0})}}function vS(t){if(t){var n=sS(t);if(n){var i=qn(t.keys)?t.keys.map((function(t){return function(t){if(!t||!Qn(t))return;var n=t.id,i=t.value;if(!ti(n)||!ti(i))return;return{id:n,value:i}}(t)})).filter(Yn):void 0;return ns({},n,{keys:i})}}}function dS(t){if(Qn(t))return{useCredentials:ni(t.useCredentials)?t.useCredentials:void 0}}function lS(t){if(Qn(t))return t}function gS(t){return t&&qn(t)?t.map((function(t){return __(t)})).filter(Yn):[ps,ws,Ts]}F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt();var wS={bt:void 0,ER:0,ct:NaN,PR:!1,lt:void 0,MR:void 0,ZR:!1,KR:!0,QR:1,rI:bp.eO,uI:!1,dI:0,vI:0,gI:1};F(),Tt(),Dt();var mS=function(t){return t.DEFAULT="",t.THEO="theo",t.CSAI="csai",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel",t.MEDIATAILOR="mediatailor",t.THEOADS="theoads",t.UPLYNK="uplynk",t}({}),yS=function(){function t(){this.RZ=[]}var n=t.prototype;return n.IZ=function(t){var n=this.RZ.filter((function(n){return n.CZ(t)}));if(n.length>1)0;else if(0===n.length)throw p("Unknown ad integration: "+t.integration);return n[0]||null},n.PZ=function(t){this.RZ.push(t)},Nt(t,[{key:"xZ",get:function(){return this.RZ}}]),t}();yS.Vg=new yS,F(),Tt(),Rt(),F(),Tt(),F(),Tt(),Rt(),F(),Tt(),Dt(),Rt();var pS=function(t){return t.UL="PLAYING",t.DZ="PAUSED",t.NZ="SEEK",t.MZ="STALLED",t.LZ="FAILED",t.BZ="INITIAL_BUFFERING",t.OZ="NO_ACCESS",t}({}),_S=function(t){return t.FZ="HTTP_REQUEST_STATUS_CODE_1XX",t.VZ="HTTP_REQUEST_STATUS_CODE_2XX",t.WZ="HTTP_REQUEST_STATUS_CODE_3XX",t.UZ="HTTP_REQUEST_STATUS_CODE_4XX",t.GZ="HTTP_REQUEST_STATUS_CODE_5XX",t.HZ="BUFFER_LENGTH",t.ZZ="BYTES_RECEIVED",t.XZ="SEGMENT_READ_BITRATE",t.zZ="SEGMENT_PROFILE_BITRATE",t.qZ="VIDEO_PROFILE_BITRATE",t.YZ="NUMBER_OF_FRAMES_DROPPED",t.KZ="PLAYBACK_POSITION",t.jZ="NUMBER_OF_FRAMES_DECODED",t.QZ="PLAYBACK_DELTA_TO_ORIGIN",t.JZ="STREAM_DELTA_TO_ORIGIN",t.$Z="ORIGIN_TIMESTAMP",t}({}),bS=function(t){return t.tX="MANIFEST_URI",t.eX="ASSET_DURATION",t.iX="NUMBER_OF_CONTENT_PROFILES",t.sX="CDN",t.nX="CONTENT_TITLE",t.rX="SERVICE_NAME",t.oX="CONTENT_TYPE",t.hX="CONTENT_DESCRIPTION",t}({}),kS=function(t){return t.aX="shutdown_normal_shutdown",t}({}),AS=function(t){return t.uX="session/",t.cX="content/",t.lX="internalError/",t.dX="drmError/",t.fX="caError/",t._X="networkError/",t}({}),TS=function(){function t(t,n){this.category=t,this.statusCode=n}return Nt(t,[{key:"code",get:function(){return this.category+this.statusCode}}]),t}(),SS=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n}(ra);F(),Tt(),Rt(),F(),Tt(),F(),Tt();var ES=function(t){return t.PAUSE="vX",t.RESUME="mX",t}({}),IS=function(t){function n(){return t.call(this,"gX")||this}return It(n,t),n}(sa),RS=function(t){function n(n,i){var r;return(r=t.call(this)||this).na=n,r.bX=i,r.wX=!1,r.AX=function(){r.yX(),r.wX=!1},r.SX=function(){r.wX=!0},r.bX.bn(ES.PAUSE,r.AX),r.bX.bn(ES.RESUME,r.SX),r}It(n,t);var i=n.prototype;return i.pX=function(){this.wX=!0},i.yX=function(){},i.yn=function(){this.wX=!1,this.bX.vn(ES.PAUSE,this.AX),this.bX.vn(ES.RESUME,this.SX)},i.TX=function(){return isFinite(this.na.jd())},n}(ra),CS=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).NX=!1,n.UX=!1,n.GX=!1,n.xX=function(){n.UX&&!n.GX&&n.BX(pS.MZ)},n.IX=function(){n.na.KR||(n.UX||n.VX(new TS(AS.cX,"firstFrameDisplayed"),"now"),n.UX=!0,n.BX(pS.UL))},n.RX=function(){n.na.KR&&(n.UX=!0,n.BX(pS.DZ))},n.CX=function(){n.NX&&(n.GX=!0,n.NX=!1,n.BX(pS.NZ))},n.PX=function(){n.GX=!1,n.na.KR&&n.BX(pS.DZ)},n}It(n,t);var i=n.prototype;return i.pX=function(){t.prototype.pX.call(this),this.kX()},i.yn=function(){this.EX(),t.prototype.yn.call(this)},i.kX=function(){this.na.bn(yp.WL,this.xX),this.na.bn(oa.zy,this.RX),this.na.bn(yp.UL,this.IX),this.na.bn(oa.Jy,this.CX),this.na.bn(oa.Qy,this.PX)},i.EX=function(){this.na.vn(yp.WL,this.xX),this.na.vn(oa.zy,this.RX),this.na.vn(yp.UL,this.IX),this.na.vn(oa.Jy,this.CX),this.na.vn(oa.Qy,this.PX)},i.DX=function(){this.NX=!0},i.MX=function(){var t=this.na.NR(),n=new TS(AS.lX,String(t.code));this.LX(pS.LZ,n,t.message)},i.BX=function(t){this.wX&&(this.bX.OX(t),this._o(new IS))},i.LX=function(t,n,i){this.bX.FX(t,n,i),this._o(new IS)},i.VX=function(t,n){this.bX.WX(t,n)},n}(RS);F(),Tt(),Rt();var NS=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).qX=function(){n.TX()&&n.jX(bS.eX,k.round(n.na.jd()))},n.zX=function(t){"manifest"===t.request.type&&n.jX(bS.tX,t.url)},n.HX=function(){var t=ho(n.na.rt.lC,(function(t){return t.Rt}));t&&n.jX(bS.iX,t.NC.V)},n}It(n,t);var i=n.prototype;return i.pX=function(){t.prototype.pX.call(this),this.HX(),this.kX()},i.yn=function(){this.EX(),t.prototype.yn.call(this)},i.kX=function(){this.na.rt.bn(Tg.da,this.HX),this.na.XX.ZX(this.zX),this.na.bn(oa.Iy,this.qX)},i.EX=function(){this.na.rt.vn(Tg.da,this.HX),this.na.XX.YX(this.zX),this.na.vn(oa.Iy,this.qX)},i.KX=function(t){t.serviceName&&this.jX(bS.rX,t.serviceName),t.cdn&&this.jX(bS.sX,t.cdn),t.contentTitle&&this.jX(bS.nX,t.contentTitle),t.contentType&&this.jX(bS.oX,t.contentType),t.contentDescription&&this.jX(bS.hX,t.contentDescription)},i.jX=function(t,n){this.wX&&this.bX.QX(t,n)},n}(RS);F(),Tt(),Rt();var DS=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).vz=rs(),n.lz=0,n.JX=0,n.$X=0,n.tz=[],n.ez=function(){n.mz(),n.gz(),n.yz()},n.rz=function(t){t.EE===qg.mE&&(n.cz(t.pO),n.pz(),n.wz(t.Az),n.iz())},n.nz=function(t){var i=t.status.toString()[0],r=n.vz.get(i)||0;n.vz.set(i,r+1),n._z(_S.FZ,"1"),n._z(_S.VZ,"2"),n._z(_S.WZ,"3"),n._z(_S.UZ,"4"),n._z(_S.GZ,"5")},n}It(n,t);var i=n.prototype;return i.pX=function(){t.prototype.pX.call(this),this.JX=this.na.GR._O,this.$X=this.na.GR.mO,this.kX(),this.tz.push(m(this.ez,1e3))},i.yX=function(){t.prototype.yX.call(this),this.iz()},i.yn=function(){this.iz(),this.EX(),this.tz.forEach(y),bo(this.tz),t.prototype.yn.call(this)},i.kX=function(){this.na.XX.ZX(this.nz),this.na.bn(oa.sb,this.rz)},i.EX=function(){this.na.XX.YX(this.nz),this.na.vn(oa.sb,this.rz)},i.oz=function(){this.iz()},i.cz=function(t){this.lz+=t,this.fz(_S.ZZ,this.lz)},i._z=function(t,n){var i=this.vz.get(n)||0;this.fz(t,i)},i.mz=function(){var t=this.na.GR._O-this.JX;this.fz(_S.YZ,t)},i.gz=function(){var t=this.na.GR.mO-this.$X;this.fz(_S.jZ,t)},i.pz=function(){var t=bk.Vg.cG();this.fz(_S.XZ,Nc(t))},i.wz=function(t){this.fz(_S.zZ,Nc(t)),this.fz(_S.qZ,Nc(t))},i.iz=function(){if(this.TX()){var t=k.round(mr(this.na.xR()));this.fz(_S.KZ,t)}},i.yz=function(){var t=SA.Cn(this.na.yR()),n=this.na.xR(),i=t._B(n),r=i?mr(i.Tn(0)-n):0;this.fz(_S.HZ,r)},i.fz=function(t,n){this.wX&&this.bX.bz(t,n)},n}(RS);F(),Tt();function PS(t){return t&&t.integration===FS}function xS(t){if(!ti(t.asset))throw new _("Agama source configuration: expected 'asset' to be a string");if(!function(t){return!!ti(t)&&("live"===t||"vod"===t)}(t.streamType))throw new _("Agama source configuration: expected 'streamType' to be 'live' or 'vod'");if(void 0!==t.serviceName&&!function(t){return!!ti(t)&&("live"===t||"svod"===t||"nvod"===t||"tvod"===t||"avod"===t||"catchuptv"===t)}(t.serviceName))throw new _("Agama source configuration: expected 'serviceName' to be 'live', 'svod', 'nvod','tvod', 'avod' or 'catchuptv'");if(void 0!==t.cdn&&!ti(t.cdn))throw new _("Agama source configuration: expected 'cdn' to be a string");if(void 0!==t.contentTitle&&!ti(t.contentTitle))throw new _("Agama source configuration: expected 'contentTitle' to be a string");if(void 0!==t.contentType&&!ti(t.contentType))throw new _("Agama source configuration: expected 'contentType' to be a string");if(void 0!==t.contentDescription&&!ti(t.contentDescription))throw new _("Agama source configuration: expected 'contentDescription' to be a string");return t}function LS(t){if(!ti(t.config))throw new _("Agama player configuration: expected 'config' to be a string");if(void 0!==t.logLevel&&!function(t){return!!ti(t)&&("info"===t||"debug"===t||"warning"===t||"error"===t||"fatal"===t)}(t.logLevel))throw new _("Agama player configuration: expected 'logLevel' to be 'info', 'debug', 'warning','error' or 'fatal'");if(void 0!==t.application&&!ti(t.application))throw new _("Agama player configuration: expected 'application' to be a string");if(void 0!==t.applicationVersion&&!ti(t.applicationVersion))throw new _("Agama player configuration: expected 'applicationVersion' to be a string");if(void 0!==t.userAccountID&&!ti(t.userAccountID))throw new _("Agama player configuration: expected 'userAccountID' to be a string");if(void 0!==t.deviceID&&!ti(t.deviceID))throw new _("Agama player configuration: expected 'deviceID' to be a string");return t}function MS(){var t="00000000-0000-0000-0000-000000000000",n=f.navigator,i=f.screen,r=""+n.mimeTypes.length;r+=n.userAgent.replace(/\D+/g,""),r+=n.plugins.length,r+=i.height||"",r+=i.width||"",r+=i.pixelDepth||"";var e=function(t){var n,i=0;if(0===t.length)return"0";for(n=0;n<t.length;n++)i=(i<<5)-i+t.charCodeAt(n),i|=0;return k.abs(i).toString().substring(0,12)}(r+=k.floor(1e3*k.random()));return t=[t.slice(0,t.length-e.length),e].join("")}function OS(t,n,i){var r=n,e=function(t,n){return HA(n)?t.DsProtocol.APPLE_HLS:t.DsProtocol.MPEG_DASH}(t,r.type),u=function(t,n){var i=t.DsPlaylistType.VOD;"live"===n&&(i=t.DsPlaylistType.LIVE);return i}(t,i.streamType);return{asset:i.asset,playlistType:u,protocol:e,uri:r.src}}F(),Tt();var BS=function(t){return t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected",t}({}),VS=function(){function t(t,n,i){var r=this;this.na=t,this.bX=n,this.co=function(){r.Wz(),r.Nz()},this.Wz=function(){var t=r.na.iu(),n=t&&t.analytics;r.Uz=function(t){void 0===t&&(t=[]);for(var n=0;n<t.length;n++){var i=t[n];if(PS(i))return xS(i)}}(n)},this.Nz=function(){r.Sz(),r.na.vn(oa.ho,r.Dz),!r.Pz()&&r.bX.Gz()&&r.na.bt&&r.Uz&&(r.Mz(),r.na.KR||r.na.PR?r.na.bn(oa.ho,r.Dz):r.Dz())},this.Dz=function(){r.na.bt&&r.Uz&&(r.bX.Zz(r.na.bt,r.Uz),r.pX(),r.KX(r.Uz),r.Rz(),r.na.bn(Uy.fa,r.Tz),r.na.vn(oa.ho,r.Dz))},this.Cz=function(){r.Pz()&&r.Sz()},this.Tz=function(){r.Vz(),r.Sz()},this.Fz=function(){r.Bz&&r.Bz.oz()};var e=function(t){void 0===t&&(t=[]);for(var n=0;n<t.length;n++){var i=t[n];if(PS(i))return LS(i)}}(i.analytics);e&&this.bX.Xz()&&(this.bX.kI(e),this.bX.Gz()?(this.bX.zz(),this.na.bn(oa.uo,this.co),this.na.bn(oa.Dy,this.Nz)):console.warn("An error occurred while initializing an Agama EMP client. Please check your configuration"))}var n=t.prototype;return n.Sz=function(){this.na.vn(Uy.fa,this.Tz),this.kz(),this.Ez(),this.bX.xz()},n.Rz=function(){this.na.Iz.wa.chromecast&&this.na.Iz.wa.chromecast.addEventListener("statechange",this.Cz)},n.Ez=function(){this.na.Iz.wa.chromecast&&this.na.Iz.wa.chromecast.removeEventListener("statechange",this.Cz)},n.Pz=function(){return void 0!==this.na.Iz.wa.chromecast&&this.na.Iz.wa.chromecast.state===BS.CONNECTED},n.yn=function(){this.na.vn(oa.uo,this.co),this.na.vn(oa.ho,this.Dz),this.na.vn(oa.Dy,this.Nz),this.Sz(),this.bX.yn()},n.Mz=function(){this.Lz||(this.Lz=new CS(this.na,this.bX)),this.Bz||(this.Bz=new DS(this.na,this.bX)),this.Oz||(this.Oz=new NS(this.na,this.bX))},n.pX=function(){this.Lz&&(this.Lz.pX(),this.Lz.bn("gX",this.Fz)),this.Bz&&this.Bz.pX(),this.Oz&&this.Oz.pX()},n.kz=function(){this.Lz&&(this.Lz.vn("gX",this.Fz),this.Lz.yn(),this.Lz=void 0),this.Bz&&(this.Bz.yn(),this.Bz=void 0),this.Oz&&(this.Oz.yn(),this.Oz=void 0)},n.KX=function(t){this.Oz&&this.Oz.KX(t)},n.Vz=function(){this.Lz&&this.Lz.MX()},n.DX=function(){this.Lz&&this.Lz.DX()},t}(),FS="agama";F(),Tt(),F(),Tt();var US=function(t){return t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical",t}({});F(),Tt();var WS=function(t){return t.NONE="",t.PM360="360",t.PM180="180",t}({});function ZS(t){switch(t){case"":return US.NONE;case"horizontal":return US.HORIZONTAL;case"vertical":return US.VERTICAL;default:throw new _}}function XS(t,n){if(n)return WS.PM360;if(null==t)return WS.NONE;switch(t){case"":return WS.NONE;case"360":return WS.PM360;case"180":return WS.PM180;default:throw new _("Provided panoramaMode value is not recognized. Expected '', '360' or '180' but value was "+t)}}F(),Tt();var GS=function(t){return t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event",t}({});F(),Tt();var HS="https://content.uplynk.com";function zS(t){if(!t)return!0;var n=!function(t){return tT(t)||Jn(t)&&tT(t[0])}(t.sources)||nT(t.sources),i=!t.ads||function(t){return!t||qn(t)&&0===t.length}(t.ads),r=""!==t.poster&&!t.poster;return n&&i&&r}function YS(t){if(t&&t.sources)return jS(t.sources)}function jS(t){return ti(t)?ZA(t):QA(t)?t.type||t.src&&ZA(t.src):Jn(t)&&t.length>0?jS(t[0]):void 0}function KS(t){if(t&&t.sources)return qS(t.sources)}function qS(t){return ti(t)?t:QA(t)?t.src:Jn(t)&&t.length>0?qS(t[0]):void 0}function JS(t,n,i){return YA(t)?function(t,n,i){var r=ns({},iT(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:OA.UPLYNK,id:"",prefix:HS,preplayParameters:{},playbackUrlParameters:{},assetType:GS.ASSET,contentProtected:!1,assetInfo:!0});r.id=function(t){if(ti(t))return t;if(Jn(t)&&ti(t[0]))return t;if(function(t){return Qn(t)&&ti(t.userId)&&(Jn(t.externalId)||ti(t.externalId))}(t))return t;return""}(t.id),t.preplayParameters&&(r.preplayParameters=t.preplayParameters);t.playbackUrlParameters&&(r.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(r.assetType=function(t){switch(t){case"channel":return GS.CHANNEL;case"event":return GS.EVENT;default:return GS.ASSET}}(t.assetType));t.contentProtected&&(r.contentProtected=Lg(t.contentProtected));t.assetInfo?r.assetInfo=Lg(t.assetInfo):r.assetInfo="asset"===r.assetType;t.prefix&&(r.prefix=Vg(t.prefix)||HS);return r.ping=function(t,n){var i=!1,r=!1,e=!1;n?(i=!!ni(n.adImpressions)&&n.adImpressions,r=!!ni(n.freeWheelVideoViews)&&n.freeWheelVideoViews,e=ni(n.linearAdData)?n.linearAdData:t!==GS.ASSET):t!==GS.ASSET&&(e=!0);return{adImpressions:i,freeWheelVideoViews:r,linearAdData:e}}(r.assetType,t.ping),r=$S(r,t),r=nE(r,n,i),r=tE(r,t,i),r}(t,n,i):KA(t)?function(t,n,i){var r;return ns({},QS(t,n,i),{integration:OA.MEDIATAILOR,adParams:null!=(r=t.adParams)?r:{}})}(t,n,i):jA(t)?function(t,n,i){return ns({},QS(t,n,i),{type:"theolive"})}(t,n,i):qA(t)?function(t,n,i){return ns({},QS(t,n,i),{type:cA.$C,src:t.src,streamAccountId:t.streamAccountId,subscriberToken:t.subscriberToken,connectOptions:eE(t.connectOptions),apiUrl:t.apiUrl})}(t,n,i):QS(t,n,i)}function QS(t,n,i){var r=rT(),e=n&&(n.contentProtection||n.drm);if(ti(t)){if(r.src=t,r.type=ZA(t),e){var u=eS(e);r.contentProtection=lA(u)}}else if(QA(t)||zA(t)||qA(t)){r.src=t.src,r.type=t.type||ZA(t.src),r.isAdvertisement=t.isAdvertisement;var s=$A(t)?t.hesp:void 0;void 0!==s&&(r.hesp=s),KA(t)&&(r.integration=t.integration);var o=eS(t.contentProtection||t.drm||e);r.contentProtection=lA(o),t.ssai&&(r.ssai=vA(t.ssai)),r=$S(r,t)}return r=tE(r=nE(r,n,i),t,i)}function $S(t,n){var i,r;n.useCredentials?t.crossOrigin=aA.zC:n.crossOrigin&&(t.crossOrigin=XA(n.crossOrigin)),ti(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=Lg(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=Lg(n.useNativePlayback)),n.useManagedMediaSource&&(t.useManagedMediaSource=Lg(n.useManagedMediaSource)),n.dash&&(t.dash=gA(n.dash)),n.hls&&(t.hls=wA(n.hls)),n.lcevc&&(t.lcevc=Lg(n.lcevc)),n.ignoreEmbeddedTextTrackTypes&&(t.ignoreEmbeddedTextTrackTypes=oT(n.ignoreEmbeddedTextTrackTypes)),n.latencyConfiguration&&(t.latencyConfiguration=LA(n.latencyConfiguration)),t.seamlessSwitchStrategy=BA(null!=(r=n.seamlessSwitchStrategy)?r:null==(i=n.dash)?void 0:i.useSeamlessPeriodSwitch);var e=Mg(n.experimentalRendering);void 0!==e&&(t.experimentalRendering=e);var u=Mg(n.nativeUiRendering);return void 0!==u&&(t.nativeUiRendering=u),t}function tE(t,n,i){return t.abr=pA(ti(n)?void 0:yA(n.abr),null==i?void 0:i.abr),t}function nE(t,n,i){var r,e=n&&n.timeServer;return i&&i.liveOffset&&!Yn(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!Yn(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===aA.wE&&(null==n||null==(r=n.vr)?void 0:r[360])&&(t.crossOrigin=aA.XC),t.useCredentials=t.crossOrigin===aA.zC,ti(e)&&!t.timeServer&&(t.timeServer=e),t}function iE(t){var n={src:""};if(t&&t.src){if(n.src=Vg(t.src),"default"in t&&(n.default=Lg(t.default)),n.kind=function(t){var n=String(t||"").toLowerCase();return jy(n)?n:n?"metadata":"subtitles"}(t.kind),Sw(t.format)&&(n.format=t.format),"srclang"in t){var i=t.srclang;"string"==typeof i&&""!==i&&(n.srclang=i)}if("label"in t){var r=t.label;"string"==typeof r&&""!==r&&(n.label=r)}}return n}function rE(t,n){if(Qn(t))try{return n.IZ(t).qz(t)}catch(t){return}}function eE(t){if(null==t)return t;if(!Qn(t))throw new p("connectOptions must be an object");return t}function uE(t,n,i){if(void 0===i&&(i=yS.Vg),zS(t))return{sources:[rT()]};var r=Cg(t);if(r.sources=function(t,n,i){if(tT(t))return[JS(t,n,i)];if(Jn(t)&&tT(t[0])){for(var r=[],e=0;e<t.length;e++){var u=t[e];r.push(JS(u,n,i))}return r}return[rT()]}(r.sources,r,n),"contentProtection"in r&&delete r.contentProtection,"drm"in r&&delete r.drm,"ads"in r){var e=function(t,n){if(!Jn(t))return[];for(var i=[],r=0;r<t.length;r++){var e=t[r];(e=rE(e,n))&&i.push(e)}return i}(r.ads,i);0===e.length?delete r.ads:r.ads=e}var u=!nT(r.sources),s=r.ads&&r.ads.length>0;if(u&&!s?delete r.ads:s&&!u&&(r.sources=[]),"textTracks"in r){var o=function(t){if(!Jn(t))return[];for(var n=[],i=0;i<t.length;i++){var r=t[i];""!==(r=iE(r)).src&&n.push(r)}return n}(r.textTracks);0===o.length?delete r.textTracks:r.textTracks=o}if("poster"in r&&(r.poster=Vg(r.poster)),"streamType"in r&&(r.streamType=function(t){switch(t){case"live":case"dvr":case"vod":return t}}(r.streamType)),"vr"in r&&(r.vr=function(t){var n=t||{};return n.stereoMode=function(t){return function(t){switch(t){case"":case"horizontal":case"vertical":return!0;default:return!1}}(t)?t:""}(n.stereoMode),{panoramaMode:XS(n.panoramaMode,Boolean(n[360])),stereoMode:n.stereoMode?ZS(n.stereoMode):US.NONE,nativeVR:Boolean(n.nativeVR)}}(r.vr)),"analytics"in r||(null==n?void 0:n.analytics)){var a=uT(r.analytics),c=n&&n.analytics||[];r.analytics=function(t,n){for(var i=function(i){var e=n[i],u=!t.some((function(t){return t.integration===e.integration}));u&&e.integration!==FS&&r.push(e)},r=Cg(t),e=0;e<n.length;e++)i(e);return r}(a,c)}return"mutedAutoplay"in r&&(r.mutedAutoplay=kT(r.mutedAutoplay)),"timeServer"in r&&delete r.timeServer,"playAdsAfterTime"in r&&(r.playAdsAfterTime=Og(r.playAdsAfterTime)),r.blockContentIfAdError=function(t){return void 0!==t&&"boolean"==typeof t&&Boolean(t)}(r.blockContentIfAdError),r}F(),Tt(),F(),Tt(),F(),Tt();var sE=function(){function t(t){this.Yz=t}return t.prototype.Kz=function(t){var n,i,r,e,u,s,o,a=[];if(!t)return"";var c=t.length%4;if(c>0)for(;c++<4;)t+=this.Yz.charAt(64);for(n=0;n<t.length;n+=4)i=(o=this.Yz.indexOf(t.charAt(n))<<18|this.Yz.indexOf(t.charAt(n+1))<<12|(u=this.Yz.indexOf(t.charAt(n+2)))<<6|(s=this.Yz.indexOf(t.charAt(n+3))))>>>16&255,r=o>>>8&255,e=255&o,a[n/4]=String.fromCharCode(i,r,e),64===s&&(a[n/4]=String.fromCharCode(i,r)),64===u&&(a[n/4]=String.fromCharCode(i));return a.join("")},t.prototype.jz=function(t,n){var i,r,e,u,s,o,a,c=[],h="";if((o=t.length%3)>0)for(;o++<3;)h+=this.Yz.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)r=(i=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,e=i>>12&63,u=i>>6&63,s=63&i,c[o/3]=this.Yz.charAt(r)+this.Yz.charAt(e)+this.Yz.charAt(u)+this.Yz.charAt(s);return a=(a=c.join("")).slice(0,a.length-h.length),n||(a+=h),a},t.mh=new t(function(){var t,n,i,r,e=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)r=n.charAt(i),-1===e.indexOf(r)&&e.push(r);return e.join("")}()),t.Qz=new t(function(t){return t.Kz("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")}(t.mh)),t}();function oE(t){return"string"==typeof t}function aE(t){return"number"==typeof t}F(),Tt(),F(),Tt(),F(),Tt(),at();var cE={}.toString;var hE,fE=Array.isArray||function(t){return"[object Array]"===cE.call(t)};function vE(t,n){return fE(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf",t.THEOLIVEWEB="theoliveweb",t.KEPLER="kepler"}(hE||(hE={}));var dE,lE=b.keys(hE).map((function(t){return hE[t]}));function gE(t){return-1!==lE.indexOf(t)}!function(t){t.HESP="hesp",t.MULTIVIEW="multiview",t.THEOADS="theoads",t.MILLICAST="millicast"}(dE||(dE={}));var wE,mE=b.keys(dE).map((function(t){return dE[t]}));function yE(t){return-1!==mE.indexOf(t)}function pE(t){try{var n=sE.Qz.Kz(t),i=JSON.parse(n);if(!function(t,n){var i,r=function(t){return"object"===(void 0===t?"undefined":U(t))&&null!==t}(t),e=oE(t.key),u=oE(t.customer_id),s=aE(t.generation_date),o=aE(t.expiration_date),a=vE(t.domains_page,oE),c=vE(t.domains_source,oE),h=vE(t.sdks,n?gE:oE),f=function(t){return"boolean"==typeof t}(t.send_impression);t.features?i=vE(t.features,n?yE:oE):(i=!0,t.features=[]);if(!(r&&e&&u&&s&&o&&a&&c&&h&&f&&i))return!1;return!0}(i,!1))throw new p("The provided license could not be decoded correctly.");return i}catch(t){throw new p("The provided license could not be decoded correctly.")}}function _E(){return wE||(wE={Xu:f.location.href,Jz:f.parent&&f.parent!==f,$z:kE()}),wE}var bE=["http:","https:","ftp:","ws:","wss:"];function kE(){var t,n;try{var i;if(null==(i=f)?void 0:i.top)return f.top.location.href}catch(t){}return null==(n=f)||null==(t=n.document)?void 0:t.referrer}var AE=function(t){return t[t.tq=0]="tq",t[t.iq=1]="iq",t[t.nq=2]="nq",t}({}),TE=function(t,n,i,r,e,u,s,o,a){void 0===e&&(e=[]),void 0===u&&(u=""),void 0===s&&(s=Date.now()),void 0===o&&(o=[]),void 0===a&&(a=!0),this.rq=t,this.oq=n,this.hq=i,this.aq=r,this.uq=e,this.cq=u,this.lq=s,this.dq=o,this.fq=a},SE=function(t){return t.iq="expired",t._q="invaliddomain",t.vq="invalidsource",t.mq="invalidfeature",t.fa="error",t}({}),EE=function(){function t(t,n,i){this.Dq=t,this.Bq=n,this.xA=i,this.Iq=ME(this.xA)}var n=t.prototype;return n.gq=function(t,n){var i=[];tT(t.sources)?i=[t.sources]:Jn(t.sources)&&(i=t.sources),this.pq(t,i,n),this.wq(i,n)},n.pq=function(t,n,i){var r=this;if(!zS(t)&&0!==i.hq.length&&!PE(i.hq)&&!n.every((function(t){return r.yq(t,i)}))){var e="invalidsource",u=OE.bq(e);throw new id(RE(e),u)}},n.wq=function(t,n){for(var i=0;i<t.length;i++){var r=t[i];QA(r)&&$A(r)&&!r.bypassLicense&&this.Aq([dE.HESP],n)}},n.Sq=function(n){return this.Tq(n.dq)&&this.kq(n)?t.Eq(n.aq)?0:1:2},n.Aq=function(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(!po(n.uq,r)){var e="invalidfeature",u=OE.xq(e,r);throw new id(RE(e),u)}}},n.Tq=function(t){var n=this;return 0===t.length||t.some((function(t){return n.Rq(t)}))},n.Rq=function(t){return"web"===function(t){switch(t){case hE.ANDROID:return Dn.Ev;case hE.ANDROIDTV:case hE.FIRETV:return Dn.xv;case hE.IOS:return Dn.Rv;case hE.TVOS:return Dn.Iv;case hE.CHROMECAST:case hE.CHROMECASTCAF:return Dn.Cv;case hE.THEOLIVEWEB:return Dn.Pv;default:return Dn.Tv}}(t)},n.kq=function(t){return!(this.Iq&&0!==t.oq.length&&!PE(t.oq))||!!(this.Iq&&this.Cq(t.oq)&&this.Pq(t.oq))},n.Cq=function(t){return xE(this.xA.Xu,t)},n.Pq=function(t){if(!this.xA.Jz)return!0;if(this.Dq)return!0;var n=this.Nq();return!!n&&xE(n,t)},n.Nq=function(){if(this.xA.Jz){var t=d.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.xA.$z?this.xA.$z:void 0}},n.yq=function(n,i){return!!t.Mq(n,i.hq)},t.Eq=function(t){var n=Number(new Date);return!!t&&n<=t},t.Mq=function(t,n){return xE(this.Lq(t),n)},t.Lq=function(t){return ti(t)?t:QA(t)&&t.src||""},t}(),IE=function(){function t(){}var n=t.prototype;return n.Sq=function(t){return 0},n.gq=function(t,n){},n.Aq=function(t,n){},t}();function RE(t){switch(t){case"invaliddomain":return td.LICENSE_INVALID_DOMAIN;case"invalidsource":return td.LICENSE_INVALID_SOURCE;case"expired":return td.LICENSE_EXPIRED;case"invalidfeature":return td.LICENSE_INVALID_FEATURE;case"error":return td.LICENSE_ERROR}}var CE="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",NE=Si((function(){var t="\\.",n="(\\*|"+CE+")";return new RegExp("ip-range\\("+n+t+n+t+n+t+n+"\\)")}));function DE(t,n){var i=t,r=n;if(!i)return!1;if("*"===(r=r.trim()))return!0;if(r===(i=i.replace(/\.+$/,"")))return!0;if(Fs(r,"ip-range(")){var e="\\.",u=r.match(NE()),s=function(t){return"*"===t?"("+CE+")":t};if(null!==u&&5===u.length){var o=new RegExp("^"+u[1]+e+s(u[2])+e+s(u[3])+e+s(u[4])+"$");return null!==i.match(o)}}return r="."+r,-1!==i.indexOf(r,i.length-r.length)}function PE(t){return t.some((function(t){return"*"===t}))}function xE(t,n){var i=Kn.Ih(t);if(!LE(i))return!0;for(var r=0;r<n.length;r++){var e=n[r];if(DE(i.hostname,e))return!0;if(DE(_l(t),e))return!0}return!1}function LE(t){return-1!==bE.indexOf(t.protocol)}function ME(t){var n=Kn.Ih(t.Xu);return LE(n)&&!function(t){return DE(t.hostname,"localhost")}(n)&&!function(t){return DE(t.hostname,"theoplayer.doubleclick.net")}(n)}var OE=function(){function t(){}return t.xq=function(t,n){return"The requested feature '"+n+"' is not available with the license for this player."},t.bq=function(t){return"invaliddomain"===t?this.Oq:"invalidsource"===t?this.Fq:"expired"===t?this.Vq:"invalidfeature"===t?this.Wq:this.Uq},t}();OE.Uq="The license for this player is invalid.",OE.Vq="The usage license for this video player has expired.",OE.Oq="The current domain is incompatible with the license for this player.",OE.Fq="The provided video source is incompatible with the license for this player.",OE.Wq="The requested feature is not available with the license for this player.",F(),Tt(),Gt(),Dt(),qt(),F(),Tt();var BE=function(t){return t[t.Gq=1]="Gq",t[t.Hq=4]="Hq",t[t.Zq=5]="Zq",t[t.Xq=9]="Xq",t}({});function VE(t){var n=[t.sL,t.zq,t.qq];switch(t.zq){case 1:n.push(t.VC);break;case 4:n.push(t.ER),n.push(t.lt);break;case 5:n.push(t.lt);break;case 9:n.push(t.Tw)}return n}F(),Tt();var FE,UE=new Array(256);for(FE=0;FE<256;FE+=1)UE[FE]=(FE<16?"0":"")+FE.toString(16);function WE(){var t=gr(),n=(4294967296*k.random()|0)+t&3029421624,i=(4294967296*k.random()|0)+t&3595553209,r=(4294967296*k.random()|0)+t&1130486254,e=(4294967296*k.random()|0)+t&1284287105;return UE[255&n]+UE[n>>>8&255]+UE[n>>>16&255]+UE[n>>>24&255]+"-"+UE[255&i]+UE[i>>>8&255]+"-"+UE[i>>>16&15|64]+UE[i>>>24&255]+"-"+UE[63&r|128]+UE[r>>>8&255]+"-"+UE[r>>>16&255]+UE[r>>>24&255]+UE[255&e]+UE[e>>>8&255]+UE[e>>>16&255]+UE[e>>>24&255]}function ZE(t){return Cc(t.replace(/-/g,""))}function XE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=16*k.random()|0;return("x"===t?n:3&n|8).toString(16)}))}function GE(){return Kn.Wg()}F(),Tt(),F(),Tt(),F(),Tt();var HE,zE="theoplayer-session-id";function YE(){if(!HE){var t=kd.Lb(zE);t?HE=t:(HE=WE(),kd.Bb(zE,HE))}return HE}F(),Tt(),F(),Tt();var jE=/[^\x00-\x7E]/g;function KE(t){return"\\u"+Xs(t.charCodeAt(0).toString(16),4,"0")}var qE="https://license.theoplayer.com";function JE(t){var n=function(t){var n=[];return function(t,n,i){return JSON.stringify(t,n,i).replace(jE,KE)}(t,(function(t,i){if(Qn(i)){if(-1!==n.indexOf(i))return null;n.push(i)}return i}))}(function(t){return[t.Yq,t.QS,t.rq,t.jD,t.Kq,t.jq,t.Qq.map(VE)]}(t));return sE.Qz.jz(n)}var QE=function(){function t(t,n,i,r,e,u){var s=this;void 0===r&&(r=sE.mh),void 0===e&&(e=0),void 0===u&&(u=1),this.IS=t,this.fW=n,this.iY=i,this.oY=r,this.aY=e,this.fY=u,this.Kf=[],this.$q=null,this.vY=0,this.dY="unknown",this.nS=0,this.wY=function(){GE()-s.vY>6e4&&s.cY()},this.gY=function(){s.cY(!0)},XT.yY(this.gY),this.pY=m(this.wY,6e4)}var n=t.prototype;return n.Jq=function(){return Boolean(this.Kq)},n.tY=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,n.iY.eY()];case 1:return r.sent().fq?(i={zq:BE.Gq,qq:gr(),VC:t},[4,n.VX(i)]):[2];case 2:return r.sent(),[2]}}))}))()},n.sY=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,n.iY.eY()];case 1:return r.sent().fq?(i={zq:BE.Xq,qq:gr(),Tw:t},[4,n.VX(i)]):[2];case 2:return r.sent(),[2]}}))}))()},n.nY=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return r={zq:BE.Hq,qq:gr(),ER:n,lt:t},[4,i.VX(r)];case 1:return e.sent(),[2]}}))}))()},n.rY=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return i={zq:BE.Zq,qq:gr(),lt:t},[4,n.VX(i)];case 1:return r.sent(),[2]}}))}))()},n.VX=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,n.iY.eY()];case 1:return i=r.sent(),"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"===n.oY.jz(i.rq)&&t.zq!==BE.Zq?[2]:(t.zq===BE.Gq?n.hY():n.Jq()||n.hY(),t.sL=n.nS++,n.Kf.push(t),function(t){return t===BE.Gq||t===BE.Zq}(t.zq)?[4,n.cY()]:[3,3]);case 2:case 4:return r.sent(),[3,5];case 3:return n.Kf.length>n.aY?[4,n.uY()]:[3,5];case 5:return[2]}}))}))()},n.cY=function(t){void 0===t&&(t=!1);var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.Kf.length>0?[4,n.uY(t)]:[3,2];case 1:return i.sent(),[3,0];case 2:return[2]}}))}))()},n.lY=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,n.iY.eY()];case 1:return i=r.sent(),[2,{Yq:gr(),QS:YE(),rq:n.oY.jz(i.rq)||"dev",jD:n.IS,Kq:n.$q,jq:n.dY,Qq:t}]}}))}))()},n.uY=function(t){void 0===t&&(t=!1);var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return i=n.Kf.splice(0,n.fY),[4,n.lY(i)];case 1:return r=e.sent(),t?n.NE(r):n._Y(r),n.vY=GE(),[2]}}))}))()},n._Y=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:i=JE(t),r=new vl({Xu:qE,Lk:i,xE:!1,jk:Id.Tk,Jk:{"Content-Type":eb.RU},SE:4e3,AE:ol.POST}),e.label=1;case 1:return e.trys.push([1,4,,5]),[4,n.fW.Qk(r)];case 2:return[4,e.sent().Dk()];case 3:return e.sent(),[3,5];case 4:return e.sent(),(new Image).src="https://licensing.theoplayer.com/t?"+i,[3,5];case 5:return[2]}}))}))()},n.NE=function(t){var n=JE(t);this.fW.NE({Xu:qE,Lk:n,Mk:eb.RU})},n.hY=function(){this.Jq()&&this.cY(),this.$q=WE(),this.nS=0},n.yn=function(){XT.mY(this.gY),y(this.pY),this.cY()},Nt(t,[{key:"Qq",get:function(){return this.Kf}},{key:"Kq",get:function(){return this.$q}}]),t}();F(),Tt(),Dt(),Ut(),F(),Tt(),Ut(),F(),Tt();var $E=0;var tI=w,nI=self.requestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame,iI=self.cancelAnimationFrame||self.webkitCancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelRequestAnimationFrame;nI&&iI||(nI=function(t){var n=GE(),i=k.max(0,16-(n-$E)),r=g((function(){return t(n+i)}),i);return $E=n+i,r},iI=tI),nI=nI.bind(self),iI=iI.bind(self);var rI=Gn.Zm||Gn.su&&Gn.og<13;function eI(t,n,i){var r=t.getImageData(n,i,1,1).data;return 0===r[0]&&0===r[1]&&0===r[2]&&0===r[3]}var uI=function(){function t(t){var n=this;this.kY=void 0,this.eu=void 0,this.MY=void 0,this.IY=es(),this.xY=1,this.NY=!0,this.BY=function(){n.NY=!0},this.LY=function(){n.kY=n.t.TI(),n.IY.forEach((function(t,i){t.PY(),t.PY=n.RY(t.CY,i)}))},this.t=t,this.t.bn(oa.Ly,this.LY),this.t.bn(oa.Qy,this.BY),this.LY()}var n=t.prototype;return n.bY=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e,u=this.kY;return void 0!==u&&((e=t).drawImage.apply(e,[u].concat(Ft(i))),!0)},n.AY=function(t,n,i,r,e,u){var s=this.kY;return void 0!==s&&(rI&&(s=this.EY(s)),t.texImage2D(n,i,r,e,u,s),!0)},n.SY=function(t){var n=this.xY++,i=this.RY(t,n);return this.IY.set(n,{CY:t,PY:i}),n},n.TY=function(t){var n=this.IY.get(t);void 0!==n&&(this.IY.delete(t),n.PY())},n.RY=function(t,n){var i=this,r=this.kY;if(void 0===r)return bi;if(r instanceof HTMLVideoElement&&r.requestVideoFrameCallback){var e=r.requestVideoFrameCallback((function(r,e){i.IY.delete(n),t(r,e)}));return function(){return r.cancelVideoFrameCallback(e)}}var u,s=function(r){i.DY()?(i.IY.delete(n),i.NY=!1,t(r,void 0)):u=nI(s)};return u=nI(s),function(){return iI(u)}},n.DY=function(){return(!this.t.KR||this.NY)&&!this.t.uI&&this.t.rI>=bp.iO},n.EY=function(t){var n=this.MY;void 0===n&&(n=v.createElement("canvas"),this.MY=n);var i=n.getContext("2d"),r=this.t,e=r.vI,u=r.dI,s=n.width,o=n.height;i.clearRect(0,0,n.width,n.height),s===e&&o===u||(n.width=e,n.height=u),i.drawImage(t,0,0,e,u);var a=!1;return e>0&&eI(i,e-1,0)&&(n.width=s,a=!0),u>0&&eI(i,0,u-1)&&(n.height=o,a=!0),a&&i.drawImage(t,0,0,e,u),n},n.yn=function(){this.IY.forEach((function(t){return t.PY()})),this.IY.clear(),this.t.vn(oa.Ly,this.LY),this.t.vn(oa.Qy,this.BY),this.kY=void 0,this.MY=void 0},Nt(t,[{key:"wa",get:function(){var t;return null!=(t=this.eu)?t:this.eu=function(t){return{drawImage:function(n){for(var i=arguments.length,r=new Array(i>1?i-1:0),e=1;e<i;e++)r[e-1]=arguments[e];var u;return(u=t).bY.apply(u,[n].concat(Ft(r)))},texImage2D:function(n,i,r,e,u,s){return t.AY(n,i,r,e,u,s)},requestVideoFrameCallback:function(n){return t.SY(n)},cancelVideoFrameCallback:function(n){return t.TY(n)}}}(this)}}]),t}();F(),Tt(),Dt(),Rt(),F(),Tt(),Rt(),F(),Tt();var sI=function(t){return t.mn="dimensionchange",t}({}),oI=function(t){function n(n,i){var r;return(r=t.call(this,sI.mn)||this).width=n,r.height=i,r}return It(n,t),n}(sa);F(),Tt(),Dt(),Rt(),F(),Tt();var aI,cI=function(t,n){this.we=t,this.CY=n},hI=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).OY=0,r.FY=0,r.WY=function(t){if(t.length>0){var n=t[t.length-1].contentRect;r.FY=n.width,r.OY=n.height,r.CY(r.FY,r.OY)}},r.VY=new f.ResizeObserver(r.WY),r.VY.observe(r.we),r}return It(n,t),n.prototype.yn=function(){this.VY.disconnect()},Nt(n,[{key:"Eu",get:function(){return this.OY}},{key:"Au",get:function(){return this.FY}}]),n}(cI);F(),Tt(),Dt(),Rt(),F(),Tt();var fI=["Webkit","Moz","O","ms"],vI=function(){var t=!1;try{if(void 0!==f&&"function"==typeof f.addEventListener){var n=b.defineProperty({},"passive",{get:function(){t=!0}});f.addEventListener("testPassiveEventSupport",bi,n),f.removeEventListener("testPassiveEventSupport",bi,n)}}catch(t){}return t}(),dI=rs();function lI(t){return dI.has(t)||dI.set(t,function(t){var n=(aI||(aI=f&&f.document&&f.document.createElement("span")),aI);if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<fI.length;r++){var e=fI[r]+i;if(void 0!==n.style[e])return e}return t}(t)),dI.get(t)}function gI(t){var n=t.style;n.position="absolute",n.left="0",n.right="0",n.bottom="0",n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function wI(t){var n=t.style;n.position="absolute",n.left="0",n.top="0",n[lI("transition")]="0s"}var mI=function(t){function n(n,i,r){var e;(e=t.call(this,n,i)||this).UY=0,e.FY=NaN,e.OY=NaN,e.qY=void 0,e.nr=function(){var t=1e5;e.YY.style.width=t+"px",e.YY.style.height=t+"px",e.GY.scrollLeft=t,e.GY.scrollTop=t,e.ZY.scrollLeft=t,e.ZY.scrollTop=t,0===e.ZY.scrollTop&&nI(e.nr)},e.KY=function(){var t=e.Au,n=e.Eu;e.CY(t,n),e.FY=t,e.OY=n,e.nr(),e.UY=0},e.HY=function(){if(!e.UY){var t=e.Au,n=e.Eu;t===e.FY&&n===e.OY||(e.UY=nI(e.KY))}},e.zY=function(){e.qY||(e.qY=g(e.jY,66))},e.jY=function(){e.qY=void 0,e.QY()},e.QY=function(){e.HY()};var u=function(t,n){return f.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");r||"static"!==u||(n.style.position="relative");var s=v.createElement("div");return e.XY=s,e.GY=v.createElement("div"),e.YY=v.createElement("div"),e.ZY=v.createElement("div"),e.JY=v.createElement("div"),gI(e.GY),gI(e.ZY),wI(e.YY),function(t){wI(t),t.style.width="200%",t.style.height="200%"}(e.JY),s.appendChild(e.GY),s.appendChild(e.ZY),e.GY.appendChild(e.YY),e.ZY.appendChild(e.JY),n.appendChild(s),e.GY.addEventListener("scroll",e.HY),e.ZY.addEventListener("scroll",e.HY),f&&f.addEventListener("resize",e.zY),e.HY(),e}return It(n,t),n.prototype.yn=function(){iI(this.UY),this.UY=0,this.GY.removeEventListener("scroll",this.HY),this.ZY.removeEventListener("scroll",this.HY),oi(this.XY),f&&f.removeEventListener("resize",this.zY)},Nt(n,[{key:"Eu",get:function(){return this.we.getBoundingClientRect().height||this.OY||0}},{key:"Au",get:function(){return this.we.getBoundingClientRect().width||this.FY||0}}]),n}(cI),yI=function(t){function n(n){var i;return(i=t.call(this)||this).VY=void 0,i.WY=function(t,n){i._o(new oI(t,n))},i.we=n,i}It(n,t);var i=n.prototype;return i.kn=function(t){this.VY||("function"==typeof f.ResizeObserver?this.VY=new hI(this.we,this.WY):this.VY=new mI(this.we,this.WY,t))},i.yn=function(){this.Ro(),this.VY&&(this.VY.yn(),this.VY=void 0)},Nt(n,[{key:"Eu",get:function(){return this.VY?this.VY.Eu:0}},{key:"Au",get:function(){return this.VY?this.VY.Au:0}}]),n}(ra);F(),Tt(),Dt(),Rt(),F(),Tt(),Rt();var pI=function(t){function n(){return t.call(this,KT.da)||this}return It(n,t),n}(sa);F(),Tt();var _I=function(){if(v)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in v)return{$Y:i[0],Zo:i[1],tK:i[2],eK:i[3],Ye:i[4],iK:i[5]}}}();F(),Tt(),Rt();var bI=function(t){function n(){return t.call(this,KT.ga)||this}return It(n,t),n}(sa),kI=function(t){function n(i){var r;return(r=t.call(this)||this).cs=!1,r.sK=function(){return r.rK()},r.nK=function(){return r.oK()},r.we=i,r.oa=n.aa(i),v.addEventListener(_I.Ye,r.sK),r.rK(),r}It(n,t);var i=n.prototype;return i.vo=function(){var t=this.we[_I.$Y]();t&&t.then?t.then(this.sK,this.nK):(v.removeEventListener(_I.iK,this.nK),v.addEventListener(_I.iK,this.nK))},i.xo=function(){var t=v[_I.Zo]();t&&t.then?t.then(this.sK,this.nK):(v.removeEventListener(_I.iK,this.nK),v.addEventListener(_I.iK,this.nK))},i.rK=function(){var t=this.cs,n=this.we===v[_I.tK];this.cs=n,t!==n&&this._o(new pI)},i.oK=function(){this._o(new qT)},i.yn=function(){this.Ro(),v.removeEventListener(_I.Ye,this.sK),v.removeEventListener(_I.iK,this.nK)},n.aa=function(t){return Boolean(_I&&v[_I.eK]&&_I.$Y in t)},n}(ra),AI=function(t){function n(i){var r;return(r=t.call(this)||this).cs=!1,r.sK=function(){return r.rK()},r.we=i,r.oa=n.aa(i),r.we.addEventListener("webkitbeginfullscreen",r.sK),r.we.addEventListener("webkitendfullscreen",r.sK),r.we.addEventListener("webkitpresentationmodechanged",r.sK),r.rK(),r}It(n,t);var i=n.prototype;return i.vo=function(){var t=this;this.we.webkitSupportsPresentationMode&&this.we.webkitSupportsPresentationMode("fullscreen")?Gn.su?requestAnimationFrame((function(){return t.we.webkitSetPresentationMode("fullscreen")})):this.we.webkitSetPresentationMode("fullscreen"):this.we.webkitEnterFullscreen()},i.xo=function(){this.we.webkitSupportsPresentationMode&&this.we.webkitSupportsPresentationMode("inline")?this.we.webkitSetPresentationMode("inline"):this.we.webkitExitFullscreen()},i.rK=function(){var t,n=this.cs;t=this.we.webkitPresentationMode?"fullscreen"===this.we.webkitPresentationMode:Boolean(this.we.webkitDisplayingFullscreen),this.cs=t,n!==t&&this._o(new pI)},i.yn=function(){this.Ro(),this.we.removeEventListener("webkitbeginfullscreen",this.sK),this.we.removeEventListener("webkitendfullscreen",this.sK),this.we.removeEventListener("webkitpresentationmodechanged",this.sK)},n.aa=function(t){return Gn.su&&("webkitEnterFullscreen"in t||"webkitSupportsPresentationMode"in t)},n}(ra),TI=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).uK=[],n.hK=void 0,n.aK=!1,n.rK=function(){var t=n.aK,i=n.fK();t!==i&&(n.aK=i,n._o(new pI))},n}It(n,t);var i=n.prototype;return i.vo=function(){this.hK?this.hK.vo():this._o(new qT)},i.xo=function(){for(var t=0,n=this.uK;t<n.length;t++){var i=n[t];i.cs&&i.xo()}},i.cK=function(t){this.hK=t},i.lK=function(t){this.uK.push(t),t.bn(KT.da,this.rK),t.bn(KT.fa,this.Ds),this.rK()},i.dK=function(t){wo(this.uK,t),t.vn(KT.da,this.rK),t.vn(KT.fa,this.Ds)},i.fK=function(){for(var t=0,n=this.uK;t<n.length;t++){if(n[t].cs)return!0}return!1},i.nr=function(){this.hK=void 0,this.aK=!1;for(var t=this.uK.slice(),n=0;n<t.length;n++){var i=t[n];this.dK(i),i.yn()}this.rK()},i.yn=function(){this.Ro(),this.nr()},Nt(n,[{key:"oa",get:function(){return!!this.hK&&this.hK.oa}},{key:"cs",get:function(){return this.aK}}]),n}(ra),SI=function(t){function n(n,i){var r;return(r=t.call(this)||this).va=!1,r.pK=function(){return r.ir()},r.rK=function(t){r.va||r._o(t)},r.t=n,r._K=i,r.vK=new JT,r.mK(),r.t.bn(oa.Ny,r.pK),r.ir(),r}It(n,t);var i=n.prototype;return i.vo=function(){this._K&&this.vK.vo()},i.xo=function(){this.vK.xo()},i.mK=function(){this.vK.bn([KT.da,KT.ga],this.rK),this.vK.bn(KT.fa,this.Ds)},i.gK=function(){this.vK.vn([KT.da,KT.ga],this.rK),this.vK.vn(KT.fa,this.Ds)},i.ir=function(){var t=this.vK,n=this.t.SI();if(t!==n){this.va=!0;var i=this.cs,r=this.oa;i&&this.xo(),this.gK(),this.vK=n,this.mK(),i&&!this.cs&&this.oa?this.vo():this.xo(),this.va=!1,r!==this.oa&&this._o(new bI),i!==this.cs&&this._o(new pI)}},i.yn=function(){this.Ro(),this.gK(),this.t.vn(oa.Ny,this.pK)},Nt(n,[{key:"oa",get:function(){return!!this._K&&this.vK.oa}},{key:"cs",get:function(){return this.vK.cs}}]),n}(ra);F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Rt(),F(),Tt();var EI=function(t){return t.MODE_CHANGE="presentationmodechange",t.ERROR="error",t}({}),II=function(t){function n(n){var i;return(i=t.call(this,EI.MODE_CHANGE)||this).presentationMode=n,i}return It(n,t),n}(sa);F(),Tt(),F(),Tt(),Rt();var RI=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this,n)||this).yK=[],r.AK=function(t){Ko((function(){r.Ds(t)}))},r.SK=i?r.AK:r.Ds,r}It(n,t);var i=n.prototype;return i.ru=function(t){t.oy(this.SK),this.yK.push(t)},i.bK=function(t){t.gy(this.SK),wo(this.yK,t)},i.yn=function(){this.Ro();for(var t=0,n=this.yK;t<n.length;t++){n[t].gy(this.SK)}bo(this.yK)},n}(ua);F(),Tt(),Dt(),Rt();var CI=function(t){function n(n){var i;return(i=t.call(this,EI.ERROR)||this).errorObject=n,i}return It(n,t),n.prototype.ka=function(){return this},Nt(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(gg);F(),Tt(),Rt();var NI=function(t){function n(n,i,r){return t.call(this,n,i,r)||this}return It(n,t),n}(id),DI=function(t){function n(n,i){var r;return(r=t.call(this)||this).Xo=_T.INLINE,r.sa=!1,r.Yo=new hd,r.eu=void 0,r.rK=function(){r.wi()},r.oK=function(){r.sa||(r._o(new yk(new id(td.FULLSCREEN_ERROR,"Failed to enter fullscreen."))),r.wi())},r.RK=function(){r.sa||(r.Xo!==_T.NATIVE_PICTURE_IN_PICTURE||r.ta.hO?r.Xo!==_T.NATIVE_PICTURE_IN_PICTURE&&r.ta.hO&&r.Wo(_T.NATIVE_PICTURE_IN_PICTURE):r.Wo(_T.INLINE))},r.IK=function(){r.sa||(r._o(new CI(new NI(td.PICTURE_IN_PICTURE_ERROR,"Unexpected native picture-in-picture error."))),r.RK())},r.ea=n,r.ta=i,r.ea.bn(KT.da,r.rK),r.ea.bn(KT.fa,r.oK),r.ta.bn(DT.rO,r.RK),r.ta.bn(DT.oO,r.RK),r.ta.bn(DT.fa,r.IK),r}It(n,t);var i=n.prototype;return i.ka=function(){return function(t){var n,i={get currentMode(){return t.Ho()},requestMode:function(n){var i=IT(n);i&&t.Wo(i)},supportsMode:function(n){var i=IT(n);return!!i&&t.zo(i)},addEventListener:function(t,i){n.bn(t,i)},removeEventListener:function(t,i){n.vn(t,i)}};return(n=new RI(i,!0)).ru(t),i}(this)},i.Wo=function(t){this.Xo!==t&&(this.Xo=t,this.sa=!0,this.Jo(t))},i.Ho=function(){return this.Xo},i.zo=function(t){switch(t){case _T.NATIVE_PICTURE_IN_PICTURE:return this.ta.aO;case _T.FULLSCREEN:return this.ea.oa;case _T.INLINE:return!0}return!1},i.Jo=function(t){var n=this;switch(this.Yo.jw(),t){case _T.FULLSCREEN:qo(this.Yo.Qo((function(t){return n.TK(t)})));break;case _T.NATIVE_PICTURE_IN_PICTURE:qo(this.Yo.Qo((function(t){return n.kK(t)})));break;case _T.INLINE:qo(this.Yo.Qo((function(t){return n.EK(t)})))}},i.TK=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return Vo(t),[4,n.ta.xo().catch(bi)];case 1:r.sent(),Vo(t),r.label=2;case 2:return r.trys.push([2,4,5,6]),[4,n.xK()];case 3:return r.sent(),n._o(new II(n.Xo)),[3,6];case 4:throw r.sent(),i=new NI(td.FULLSCREEN_ERROR,"Failed to enter fullscreen."),n._o(new CI(i)),Vo(t),n.Wo(_T.INLINE),i;case 5:return n.sa=!1,[7];case 6:return[2]}}))}))()},i.kK=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return Vo(t),[4,n.Zo().catch(bi)];case 1:r.sent(),Vo(t),r.label=2;case 2:return r.trys.push([2,4,5,6]),[4,n.ta.vo()];case 3:return r.sent(),n._o(new II(n.Xo)),[3,6];case 4:throw r.sent(),i=new NI(td.PICTURE_IN_PICTURE_ERROR,"Failed to enter native picture-in-picture."),n._o(new CI(i)),Vo(t),n.Wo(_T.INLINE),i;case 5:return n.sa=!1,[7];case 6:return[2]}}))}))()},i.EK=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return Vo(t),[4,n.Zo().catch(bi)];case 1:return i.sent(),Vo(t),[4,n.ta.xo().catch(bi)];case 2:return i.sent(),n._o(new II(n.Xo)),n.sa=!1,[2]}}))}))()},i.xK=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.ea.cs?[2]:(n=t.ea.py([KT.da,KT.fa]),t.ea.vo(),[4,n]);case 1:if(i.sent(),!t.ea.cs)throw new p("Failed to enter fullscreen.");return[2]}}))}))()},i.Zo=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.ea.cs?(n=t.ea.py([KT.da,KT.fa]),t.ea.xo(),[4,n]):[2];case 1:if(i.sent(),t.ea.cs)throw new p("Failed to exit fullscreen.");return[2]}}))}))()},i.wi=function(){this.sa||(this.Xo!==_T.FULLSCREEN||this.ea.cs?this.Xo!==_T.FULLSCREEN&&this.ea.cs&&this.Wo(_T.FULLSCREEN):this.Wo(_T.INLINE))},i.yn=function(){this.ea.vn(KT.da,this.rK),this.ea.vn(KT.fa,this.oK),this.ta.vn(DT.rO,this.RK),this.ta.vn(DT.oO,this.RK),this.ta.vn(DT.fa,this.IK),this.Ro()},Nt(n,[{key:"wa",get:function(){return this.eu||(this.eu=this.ka()),this.eu}}]),n}(ua);function PI(t){var n;return{get url(){return t.Xu},get method(){return t.AE},get headers(){return n||(n=t.Jk.Ek()),n},get body(){return t.Lk},get useCredentials(){return t.xE},get type(){return t.Tw},get subType(){return t.kE},get mediaType(){return t.EE},get responseType(){return t.jk}}}function xI(t){switch(t.toLowerCase()){case"arraybuffer":return Id.bk;case"json":return Id.Ak;case"stream":return Id.Sk;default:return Id.Tk}}function LI(t){switch(t.toUpperCase()){case"POST":return ol.POST;case"PUT":return ol.PUT;case"DELETE":return ol.DELETE;case"HEAD":return ol.HEAD;case"OPTIONS":return ol.OPTIONS;default:return ol.GET}}function MI(t){switch(t.toLowerCase()){case"manifest":return al.sE;case"segment":return al.nE;case"preload-hint":return al.rE;case"content-protection":return al.oE;default:return al.iE}}function OI(t){switch(t.toLowerCase()){case"initialization-segment":return cl.hE;case"fairplay-license":return cl.aE;case"fairplay-certificate":return cl.uE;case"widevine-license":return cl.cE;case"widevine-certificate":return cl.lE;case"playready-license":return cl.dE;case"clearkey-license":return cl.fE;case"aes128-key":return cl._E;default:return cl.iE}}function BI(t){switch(t.toLowerCase()){case"audio":return hl.vE;case"video":return hl.mE;case"text":return hl.Tk;case"image":return hl.gE;default:return hl.iE}}F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Dt(),Rt(),F(),Tt(),F(),Tt(),Gt(),Dt(),qt();var VI=function(){function t(t,n){this.qK=t,this.ZK=n,this.PK=new Gc,this.WK=[],this.eu=void 0,this.MK=!1,this.qE=void 0,this.FK=0}var n=t.prototype;return n.VD=function(){this.MK=!0,this.PK.Vb(null)},n.VK=function(){this.PK.Wb(new Pd(this.WK))},n.UK=function(t){if(!this.LK)throw new _("Cannot respond more than once");if(!Qn(t))throw new _("Expected valid response");this.qE=this.GK(t),this.VD()},n.HK=function(){try{var t=this.ZK(this.wa);t?this.XK(t):this.BK||this.NK||this.VD()}catch(t){this.WK.push(t),this.VK()}},n.XK=function(t){if(this.NK)throw new p("Request has been redirected or a response already exists");if(ii(t))this.zK(t);else{if("function"!=typeof t)throw new _("Expected promise or function");var n=new Gc;try{var i=t((function(t){t?n.Wb(t):n.Vb(void 0)}));ii(i)&&n.Qw(i)}catch(t){n.Wb(t)}this.zK(n.Ub)}},n.zK=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),n.FK++,[4,t];case 1:return r.sent(),n.FK--,n.BK||n.NK||(n.WK.length?n.VK():n.VD()),[3,3];case 2:return i=r.sent(),n.FK--,n.WK.push(i),n.BK||n.NK||n.VK(),[3,3];case 3:return[2]}}))}))()},Nt(t,[{key:"CK",get:function(){return this.PK.Ub}},{key:"wa",get:function(){return this.eu||(this.eu=this.DK()),this.eu}},{key:"NK",get:function(){return this.MK}},{key:"LK",get:function(){return!this.MK}},{key:"BK",get:function(){return this.FK>0}},{key:"zE",get:function(){return this.qE}}]),t}(),FI=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).YK=r,e.HK(),e}It(n,t);var i=n.prototype;return i.DK=function(){return function(t){var n,i=PI(t.Qk);return{get closed(){return!t.LK},get request(){return i},get url(){return t.Xu},get status(){return t.Yk},get statusText(){return t.$k},get headers(){return n||(n=t.Jk.Ek()),n},get body(){return t.Lk},respondWith:function(n){return t.UK(n)},waitUntil:function(n){return t.XK(n)}}}(this)},i.GK=function(t){return n.KK(t,this.qK,this.YK)},n.KK=function(t,n,i){var r=void 0===t.body?i:t.body;return new sl({Kk:r,Qk:n.Qk,jk:n.Qk.jk,Jk:t.headers,Yk:t.status,$k:t.statusText,eE:t.url,tE:!0},n)},Nt(n,[{key:"Lk",get:function(){return this.YK}},{key:"Jk",get:function(){return this.qK.Jk}},{key:"Qk",get:function(){return this.qK.Qk}},{key:"zE",get:function(){return this.qE}},{key:"Yk",get:function(){return this.qK.Yk}},{key:"$k",get:function(){return this.qK.$k}},{key:"Xu",get:function(){return this.qK.eE}}]),n}(VI);F(),Tt(),Dt(),Rt();var UI=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).JK=void 0,e.jK=r,e.HK(),e}It(n,t);var i=n.prototype;return i.DK=function(){return function(t){var n;return{get url(){return t.Xu},get method(){return t.AE},get headers(){return n||(n=t.Jk.Ek()),n},get body(){return t.Lk},get closed(){return!t.LK},get useCredentials(){return t.xE},get type(){return t.Tw},get subType(){return t.kE},get mediaType(){return t.EE},get responseType(){return t.jk},redirect:function(n){return t.$K(n)},respondWith:function(n){return t.UK(n)},waitUntil:function(n){return t.XK(n)}}}(this)},i.GK=function(t){var n=this.qK.Lk,i=new sl({Kk:n,Jk:{},Qk:this.qK,eE:this.qK.Xu,jk:this.qK.jk,Yk:200,$k:"OK"});return FI.KK(t,i,n)},i.$K=function(t){if(!this.LK)throw new _("Cannot redirect, already redirected or has a response");var n;n=ti(t)?{url:t}:t,this.JK=function(t,n){return new vl({Xu:void 0===t.url?n.Xu:t.url,AE:void 0!==t.method?LI(t.method):void 0,Jk:t.headers,Lk:t.body,xE:t.useCredentials,Tw:void 0!==t.type?MI(t.type):void 0,kE:void 0!==t.subType?OI(t.subType):void 0,EE:void 0!==t.mediaType?BI(t.mediaType):void 0,jk:void 0!==t.responseType?xI(t.responseType):void 0},n)}(n,this.qK),this.VD()},Nt(n,[{key:"Lk",get:function(){return this.qK.Lk}},{key:"LK",get:function(){return this.jK&&!this.MK}},{key:"Jk",get:function(){return this.qK.Jk}},{key:"AE",get:function(){return this.qK.AE}},{key:"QK",get:function(){return this.JK}},{key:"zE",get:function(){return this.qE}},{key:"jk",get:function(){return this.qK.jk}},{key:"SE",get:function(){return this.qK.SE}},{key:"TE",get:function(){return this.qK.TE}},{key:"Uw",get:function(){return this.qK.Uw}},{key:"Tw",get:function(){return this.qK.Tw}},{key:"kE",get:function(){return this.qK.kE}},{key:"EE",get:function(){return this.qK.EE}},{key:"Xu",get:function(){return this.qK.Xu}},{key:"xE",get:function(){return this.qK.xE}},{key:"PE",get:function(){return this.qK.PE}},{key:"RE",get:function(){return this.qK.RE}},{key:"CE",get:function(){return this.qK.CE}},{key:"DE",get:function(){return this.qK.DE}}]),n}(VI);var WI=function(t){function n(n,i){var r;void 0===i&&(i=!0);var e=new ZI(n);return(r=t.call(this,e,i)||this).ej=e,r}It(n,t);var i=n.prototype;return i.tj=function(t){this.ej.tj(t)},i.ij=function(t){this.ej.ij(t)},i.sj=function(t){this.ej.sj(t)},i.ZX=function(t){this.ej.ZX(t)},i.YX=function(t){this.ej.YX(t)},n}(ll),ZI=function(){function t(t){this.aj=[],this.uj=[],this.FE=t}var n=t.prototype;return n.Qk=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,5]),[4,n.nj(t,t.Uw)];case 1:return i=e.sent(),[3,5];case 2:return(r=e.sent())instanceof Al?[4,n.rj(r,t.Uw)]:[3,4];case 3:return[2,e.sent()];case 4:throw r;case 5:return[4,n.hj(i,t.Uw)];case 6:if(ul(i=e.sent()))return[2,i];throw new Sl(i)}}))}))()},n.NE=function(t){return this.FE.NE(t)},n.nj=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:Vo(n),r=t,u=0,s=i.aj.slice(),c.label=1;case 1:if(!(u<s.length))return[3,7];if(o=s[u],Vo(n),(a=new UI(r,o,!e)).NK)return[3,5];c.label=2;case 2:return c.trys.push([2,4,,5]),[4,a.CK];case 3:return c.sent(),[3,5];case 4:return c.sent(),[3,6];case 5:a.QK&&!e?r=a.QK:a.zE&&!e&&(e=a.zE),c.label=6;case 6:return u++,[3,1];case 7:return e?[2,e]:[2,i.FE.Qk(r)]}}))}))()},n.rj=function(t,n){var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return t instanceof Sl?r=t.zE:(e=t.Qk,r=new sl({Kk:null,Qk:e,jk:e.jk,Yk:0,$k:""})),[4,i.hj(r,n)];case 1:if((u=s.sent())===r)throw t;if(ul(u))return[2,u];throw new Sl(u)}}))}))()},n.hj=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:r=t,e=0,u=i.uj.slice(),c.label=1;case 1:return e<u.length?(s=u[e],Vo(n),[4,et.resolve(r.Ib().Kk(n))]):[3,8];case 2:if(o=c.sent(),(a=new FI(r,s,o)).NK)return[3,6];c.label=3;case 3:return c.trys.push([3,5,,6]),[4,a.CK];case 4:return c.sent(),[3,6];case 5:return c.sent(),[3,7];case 6:r=a.zE||r,c.label=7;case 7:return e++,[3,1];case 8:return[2,r]}}))}))()},n.tj=function(t){this.aj.unshift(t)},n.ij=function(t){this.aj.push(t)},n.sj=function(t){wo(this.aj,t)},n.ZX=function(t){this.uj.unshift(t)},n.YX=function(t){wo(this.uj,t)},n.yn=function(){this.FE.yn(),bo(this.aj),bo(this.uj)},t}();F(),Tt(),Dt(),Rt();var XI=function(){function t(t){this.fW=t}var n=t.prototype;return n.tj=function(t){this.fW.tj(t)},n.sj=function(t){this.fW.sj(t)},n.ZX=function(t){this.fW.ZX(t)},n.YX=function(t){this.fW.YX(t)},Nt(t,[{key:"wa",get:function(){return this.eu||(this.eu=function(t){return{addRequestInterceptor:function(n){t.tj(n)},removeRequestInterceptor:function(n){t.sj(n)},addResponseInterceptor:function(n){t.ZX(n)},removeResponseInterceptor:function(n){t.YX(n)}}}(this)),this.eu}}]),t}(),GI=function(t){function n(n,i,r){var e;return(e=t.call(this,i)||this).gj=n,e.fW=i,e.gZ=r,e.pj=function(t){e._o(t)},e.wj=function(t){e._o(t)},e.gj.bn(oa.Xy,e.pj),e.gj.bn(oa.Zy,e.wj),e}It(n,t);var i=n.prototype;return i.lj=function(t){this.gZ.lj(t)},i.tj=function(t){this.fW.tj(t)},i.sj=function(t){this.fW.sj(t)},i.ZX=function(t){this.fW.ZX(t)},i.YX=function(t){this.fW.YX(t)},i.yn=function(){this.Ro(),this.gj.vn(oa.Xy,this.pj),this.gj.vn(oa.Zy,this.wj)},Nt(n,[{key:"wa",get:function(){return this.eu||(this.eu=function(t){return{get online(){return t.qR},get estimator(){return function(t){return{get bandwidth(){return t.bG},get roundTripTime(){return t.AG}}}(t.cj)},setEstimator:function(n){t.lj(function(t){if(!t)return;return{get bG(){return Bg(t.bandwidth)},get AG(){return Bg(t.roundTripTime)},SG:function(n){return function(t){if(!t)return;return{dj:function(n){t.markRequestStart(n)},_j:function(n){t.markResponseStart(n)},vj:function(n,i){t.markResponseData(n,i)},mj:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(PI(n)))}}}(n))},addRequestInterceptor:function(n){t.tj(n)},removeRequestInterceptor:function(n){t.sj(n)},addResponseInterceptor:function(n){t.ZX(n)},removeResponseInterceptor:function(n){t.YX(n)},addEventListener:function(n,i){t.bn(n,i)},removeEventListener:function(n,i){t.vn(n,i)}}}(this)),this.eu}},{key:"qR",get:function(){return this.gj.qR}},{key:"cj",get:function(){return this.gZ.cj}}]),n}(ra);F(),Tt(),Dt(),Rt(),F(),Tt(),F(),Tt();var HI=function(t){return t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth",t}({});F(),Tt();function zI(t,n,i,r,e,u){var s=[],o=t-k.max(u,1),a=t+e;if(n&&i){var c=sr(i,1,5),h=n-c;o=k.min(o,h);var f=n+i+c;a=k.max(a,f)}return 0!==o&&r.oB(0,o)&&s.push([0,o]),r.oB(a,1/0)&&s.push([a,1/0]),s}function YI(t){return t instanceof p&&"QuotaExceededError"===t.name}F(),Tt();var jI={type:HI.BANDWIDTH};function KI(t){var n=Cg(jI);return ti(t)?n.type=qI(t):Qn(t)&&function(t){switch(t){case HI.PERFORMANCE:case HI.QUALITY:case HI.BANDWIDTH:return!0;default:return!1}}(t.type)&&(n.type=qI(t.type)),Qn(t)&&Qn(t.metadata)&&(n.metadata=function(t){var n={},i=Og(t.bitrate);return S(i)||(n.bitrate=i),n}(t.metadata)),n}function qI(t){switch(t){case"bandwidth":return HI.BANDWIDTH;case"performance":return HI.PERFORMANCE;case"quality":return HI.QUALITY}}F(),Tt(),Rt();var JI=function(t){function n(n){var i;return(i=t.call(this,"yj")||this).bj=n,i}return It(n,t),n}(sa);F(),Tt(),Rt();var QI=function(t){function n(n){var i;return(i=t.call(this,"Aj")||this).Sj=n,i}return It(n,t),n}(sa);F(),Tt(),Rt();var $I=function(t){function n(n){var i;return(i=t.call(this,"Tj")||this).Ej=n,i}return It(n,t),n}(sa),tR=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).eu=function(t){return{get strategy(){return function(t){return{metadata:t.metadata,type:t.type}}(t.Sj)},set strategy(n){t.Sj=KI(n)},get targetBuffer(){return t.bj},set targetBuffer(n){var i=Og(n);S(i)||(t.bj=i)},get bufferLookbackWindow(){return t.Ej},set bufferLookbackWindow(n){var i=Og(n);S(i)||(t.Ej=i<=0?30:i)},get maxBufferLength(){return t.Lj},get clearBufferWhenSettingTargetQuality(){return t.Fj},set clearBufferWhenSettingTargetQuality(n){t.Fj=Lg(n)}}}(n),n.Cj=jI,n.Pj=20,n.Mj=30,n.Nj=1/0,n.Vj=!1,n.Bj=void 0,n}It(n,t);var i=n.prototype;return i.xj=function(t){this.Rj=t},i.lj=function(t){this.Bj=t},i.Oj=function(t){var n=k.min(t,.8*this.Nj);if(n=k.max(10,n),this.Nj===n)return!1;var i=this.Dj;this.Nj=n;var r=this.Dj;return r!==i&&this._o(new JI(r)),!0},Nt(n,[{key:"Ij",get:function(){switch(this.Cj.type){case HI.PERFORMANCE:return 0;case HI.QUALITY:return 1/0;case HI.BANDWIDTH:return this.Cj.metadata&&void 0!==this.Cj.metadata.bitrate?this.Cj.metadata.bitrate:bk.Vg.cG();default:return bk.Vg.cG()}}},{key:"wa",get:function(){return this.eu}},{key:"Sj",get:function(){return this.Cj},set:function(t){this.Cj=t,this._o(new QI(t))}},{key:"bj",get:function(){return this.Pj},set:function(t){this.Pj=t,this._o(new JI(t))}},{key:"Dj",get:function(){return k.min(this.Pj,this.Nj)}},{key:"Ej",get:function(){return this.Mj},set:function(t){this.Mj=t,this._o(new $I(t))}},{key:"Lj",get:function(){return this.Nj}},{key:"cj",get:function(){var t;return null!=(t=this.Bj)?t:this.Rj.eH}},{key:"Fj",get:function(){return this.Vj},set:function(t){this.Vj=t}}]),n}(ra);F(),Tt(),Dt(),Rt(),F(),Tt(),Rt();var nR=function(t){function n(){return t.call(this,"eC")||this}return It(n,t),n.prototype.ka=function(){return new iR},n}(gg),iR=function(t){function n(){return t.call(this,"change")||this}return It(n,t),n}(sa);F(),Tt(),F(),Tt(),Rt();var rR=function(t){function n(n,i,r){var e;(e=t.call(this,r)||this).Uj=function(t){wg(t)&&Ko((function(){e._o(t.wa)}))},e.Wj=n,e.Kf=i;for(var u=0,s=e.Kf;u<s.length;u++){var o=s[u];e.Wj.bn(o,e.Uj)}return e}return It(n,t),n.prototype.yn=function(){this.Ro();for(var t=0,n=this.Kf;t<n.length;t++){var i=n[t];this.Wj.vn(i,this.Uj)}},n}(ra),eR=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).Uj=function(t){wg(t)&&Ko((function(){r._o(t.wa)}))},r.Wj=n,r.Wj.oy(r.Uj),r}return It(n,t),n.prototype.yn=function(){this.Ro(),this.Wj.gy(this.Uj)},n}(ua);var uR=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).jO=0,n.$O=1/0,n}It(n,t);var i=n.prototype;return i.nr=function(){0===this.jO&&this.$O===1/0||(this.jO=0,this.$O=1/0,this._o(new nR))},i.Gj=function(){return new SA([this.WO,this.UO],[!0,!0])},Nt(n,[{key:"WO",get:function(){return this.jO},set:function(t){if(this.UO<=t)throw new p("Start time of a clip should be smaller than the end time.");this.jO!==t&&(this.jO=t,this._o(new nR))}},{key:"UO",get:function(){return this.$O},set:function(t){if(t<=this.WO)throw new p("End time of a clip should be larger than the start time.");this.$O!==t&&(this.$O=t,this._o(new nR))}},{key:"wa",get:function(){return this.eu||(this.eu=function(t){var n,i={get startTime(){return t.WO},set startTime(n){t.WO=n},get endTime(){return t.UO},set endTime(n){t.UO=n},addEventListener:function(t,i){n.bn(t,i)},removeEventListener:function(t,i){n.vn(t,i)}};return n=new eR(t,i),i}(this)),this.eu}}]),n}(ua);F(),Tt(),Gt(),Dt(),Rt(),qt();var sR=function(t){function n(i,r){var e;return(e=t.call(this,i)||this).Xj=!1,e.$j=void 0,e.tQ=!1,e.Yj=function(){e.qj(),e.Zj()},e.Tc=function(){e.Kj(),e.Zj(),e.Jj&&e.ER>=e.Hj.UO-n.eQ&&!e.PR&&(e.$j=nI(e.Tc))},e.jj=function(){e.tQ=!0},e.Qj=function(){e.tQ&&(e.tQ=!1,e.Zj())},e.Hj=r,e.Hj.bn("eC",e.Yj),e.gR.bn(oa.hb,e.Tc),e}It(n,t);var i=n.prototype;return i.RR=function(n,i){var r=this.Hj.Gj().KL(n);t.prototype.RR.call(this,r,i),this.Zj()},i.DR=function(){return t.prototype.DR.call(this)||this.Xj},i.aI=function(){return SA.Cn(t.prototype.aI.call(this)).jn(this.Hj.Gj()).ks()},i.xI=function(){this.DR()?this.RR(this.zj.start(0)):this.qj(),t.prototype.xI.call(this),this.Zj()},i.Ca=function(n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return Vo(i),r.Xj=!1,r.Hj.nr(),[4,t.prototype.Ca.call(r,n,i)];case 1:return e.sent(),[2]}}))}))()},i.yn=function(){return this.Hj.vn("eC",this.Yj),this.gR.vn(oa.hb,this.Tc),this.Kj(),t.prototype.yn.call(this)},i.BI=function(n){switch(n.type){case oa.Jy:return this._o(n),this.jj(),!0;case oa.Qy:case oa.Cy:return this._o(n),this.Qj(),!0;case oa.Dy:if(this.Jj)return!0}return t.prototype.BI.call(this,n)},i.Kj=function(){this.$j&&(iI(this.$j),this.$j=void 0)},i.Zj=function(){var t=this.ER,i=this.Jj&&t>=this.Hj.UO-n.ad;this.Xj&&!i?(this.Xj=!1,this.KR&&this.xI()):this.Xj||!i||this.uI||this.tQ||(this.Xj=!0,this._o(new dT(t)),this.EI())},i.qj=function(){if(this.ct!==1/0){var t=this.zj,i=SA.Cn(t).KL(this.ER);or(this.ER,i,n.ad)||this.RR(i)}},Nt(n,[{key:"zj",get:function(){return this.aI().length?this.aI():this.Hj.Gj().ks()}},{key:"Jj",get:function(){return this.Hj.UO<this.ct}}]),n}(qk);sR.eQ=1,sR.ad=.001,F(),Tt(),Dt();var oR=function(){function t(){this.sQ=!1}return Nt(t,[{key:"iQ",get:function(){return this.sQ},set:function(t){this.sQ=t}}]),t}();F(),Tt(),Rt();var aR=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).rQ=!1,r.nQ=!1,r.sQ=i,r}It(n,t);var i=n.prototype;return i.DR=function(){return!this.sQ.iQ&&t.prototype.DR.call(this)},i.EI=function(){this.nQ=!0,t.prototype.EI.call(this)},i.xI=function(){this.nQ=!1,t.prototype.xI.call(this)},i.BI=function(n){if(this.sQ.iQ)switch(n.type){case oa.Dy:return this.ER=0,this.nQ||(this.uI?this.rQ=!0:this.xI()),!0;case oa.Qy:this.rQ&&(this.rQ=!1,this.xI());break;case oa.zy:if(this.rQ||t.prototype.DR.call(this))return!0}return t.prototype.BI.call(this,n)},n}(qk);F(),Tt(),Dt(),F(),Tt();var cR=function(){function t(t){this.na=t,this.eu=function(t){return{get currentBandwidthEstimate(){return t.gO},get corruptedVideoFrames(){return t.vO},get droppedVideoFrames(){return t._O},get totalVideoFrames(){return t.mO},get totalBytesLoaded(){return t.pO},get bufferedSegments(){return t.wO}}}(this)}return Nt(t,[{key:"wa",get:function(){return this.eu}},{key:"vO",get:function(){return this.na.GR.vO}},{key:"gO",get:function(){return this.na.GR.gO}},{key:"_O",get:function(){return this.na.GR._O}},{key:"oQ",get:function(){throw new p("Not implemented")}},{key:"hQ",get:function(){throw new p("Not implemented")}},{key:"pO",get:function(){return this.na.GR.pO}},{key:"mO",get:function(){return this.na.GR.mO}},{key:"wO",get:function(){return this.na.GR.wO}}]),t}();function hR(t){if(!t||!Ei(t))return{_O:0,vO:0,mO:0,gO:0,pO:0,wO:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}};if("function"==typeof t.getVideoPlaybackQuality){var n=t.getVideoPlaybackQuality();return{_O:n.droppedVideoFrames,vO:n.corruptedVideoFrames||0,mO:n.totalVideoFrames}}return{_O:t.webkitDroppedFrameCount||0,vO:0,mO:t.webkitDecodedFrameCount||0}}F(),Tt(),Dt(),Rt(),F(),Tt(),Rt();var fR=function(t){function n(){return t.call(this,"aQ")||this}return It(n,t),n.prototype.ka=function(){return new vR},n}(gg),vR=function(t){function n(){return t.call(this,"castingchange")||this}return It(n,t),n}(sa);F(),Tt();var dR=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).cQ=void 0,n.lQ=void 0,n.wQ=!1,n.eu=void 0,n.gQ=function(){var t=n.wQ,i=n.uQ;t!==i&&(n.wQ=i,n._o(new fR))},n}It(n,t);var i=n.prototype;return i._Q=function(t){this.cQ=t,this.vQ(t)},i.mQ=function(t){this.lQ=t,this.vQ(t)},i.vQ=function(t){t.bn("statechange",this.gQ)},i.pQ=function(t){t.vn("statechange",this.gQ)},i.yn=function(){this.Ro(),this.cQ&&(this.pQ(this.cQ),this.cQ=void 0),this.lQ&&(this.pQ(this.lQ),this.lQ=void 0)},Nt(n,[{key:"uQ",get:function(){var t,n;return(null==(t=this.cQ)?void 0:t.uQ)||(null==(n=this.lQ)?void 0:n.uQ)||!1}},{key:"dQ",get:function(){return this.cQ}},{key:"fQ",get:function(){return this.lQ}},{key:"wa",get:function(){return this.eu||(this.eu=function(t){var n,i={get casting(){return t.uQ},get airplay(){var n;return null==(n=t.dQ)?void 0:n.wa},get chromecast(){var n;return null==(n=t.fQ)?void 0:n.wa},addEventListener:function(t,i){n.bn(t,i)},removeEventListener:function(t,i){n.vn(t,i)}};return n=new rR(t,["aQ"],i),i}(this)),this.eu}}]),n}(ra);F(),Tt(),Gt(),qt(),F(),Tt(),Gt(),qt();var lR=function(){function t(){}return t.yQ=function(t,n){return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),i=new vl({Xu:t,jk:Id.Tk,AE:ol.GET}),[4,n.Qk(i)];case 1:return[4,r.sent().Kk()];case 2:return[2,r.sent().trim()];case 3:return Bo(r.sent()),[2,void 0];case 4:return[2]}}))}))()},t.bQ=function(t){try{var n=pE(t);return new TE(n.key,n.domains_page,n.domains_source,n.expiration_date,n.features,n.customer_id,n.generation_date,n.sdks,n.send_impression)}catch(t){throw new id(td.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.AQ=function(t){void 0===t&&(t=sE.mh),Kn.Vp("The baked-in license is used. Please update the configuration with your license.");var n=t.Kz("F2b-iL'[FL[S"),i=JSON.parse('["F$(:_L50F|aY"]').map((function(n){return t.Kz(n)})),r=JSON.parse('[".$hsF|b9_Ess*rS:F]Y\\""]').map((function(n){return t.Kz(n)})),e=Number(new Date(Number(t.Kz('COD|aHpHa:p3Ceo3Co""')))),u=JSON.parse("[]").map((function(n){return t.Kz(n)}));return new TE(n,i,r,e,u)},t.convertLicenseToDummyLicense=function(t){return new TE(t.rq,t.oq,t.hq,864e13,t.uq,t.cq,Date.now(),t.dq,t.fq)},t}(),gR="https://validate.theoplayer.com/1/",wR=72e5,mR=k.floor(14399999*k.random()-wR),yR="THEOplayer.license",pR=function(){function t(t,n,i,r,e,u){this.fW=t,this.CQ=n,this.BQ=i,this.iY=r,this.xQ=e,this.xA=u,this.Iq=ME(u)}var n=t.prototype;return n.kQ=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return[4,t.EQ(t.xQ.license,t.xQ.licenseUrl)];case 1:return n=i.sent(),t.iY.RQ(n),[2]}}))}))()},n.EQ=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:return r=n,t?e=lR.bQ(t):r||(e=lR.AQ()),r||(r=gR+e.rq),u=i.IQ(),e?(s=i.CQ.Sq(e))!==AE.tq?[3,3]:i.DQ(e.aq)&&i.DQ(null==u?void 0:u.aq)?[4,i.NQ(r)]:[3,2]:[3,3];case 1:if(o=f.sent())return[2,o];f.label=2;case 2:return[2,e];case 3:return u?i.CQ.Sq(u)!==AE.tq?[3,6]:i.DQ(null==u?void 0:u.aq)?[4,i.NQ(r)]:[3,5]:[3,7];case 4:if(a=f.sent())return[2,a];f.label=5;case 5:return[2,u];case 6:zk.Fb(yR),f.label=7;case 7:return[4,lR.yQ(r,i.fW)];case 8:if(c=f.sent()){if(h=lR.bQ(c),i.CQ.Sq(h)===AE.tq)return zk.Bb(yR,c),[2,h];zk.Fb(yR)}else if(!i.Iq&&e&&s===AE.iq&&r===gR+e.rq)return[2,lR.convertLicenseToDummyLicense(e)];if(!e&&!h)throw new id(td.LICENSE_ERROR,"The given license is invalid!");return i.MQ(null!=e?e:h,new id(td.LICENSE_ERROR,"The given license is invalid!")),[2]}}))}))()},n.gq=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return[4,n.iY.eY()];case 1:return i=c.sent(),n.DQ(i.aq)?(e=null!=(r=n.xQ.licenseUrl)?r:gR+i.rq,[4,n.NQ(e)]):[3,3];case 2:(u=c.sent())&&(n.iY.RQ(u),i=u),c.label=3;case 3:try{if((s=n.CQ.Sq(i))===AE.nq)throw o=SE._q,new id(RE(o),OE.bq(o));if(s===AE.iq)throw a=SE.iq,new id(RE(a),OE.bq(a));n.CQ.gq(t,i)}catch(t){n.LQ(t)}return[2]}}))}))()},n.Aq=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,n.iY.eY()];case 1:i=r.sent();try{n.CQ.Aq(t,i)}catch(t){n.LQ(t)}return[2]}}))}))()},n.NQ=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,lR.yQ(t,n.fW)];case 1:return void 0===(i=e.sent())?[2,void 0]:(r=lR.bQ(i),n.CQ.Sq(r)===AE.tq?(zk.Bb(yR,i),[2,r]):[2,void 0]);case 2:return e.sent(),[2,void 0];case 3:return[2]}}))}))()},n.DQ=function(t){return!t||Number(new Date)+2592e5+mR>=t},n.IQ=function(){var t=zk.Lb(yR);if(t)return lR.bQ(t)},n.MQ=function(t,n){this.iY.RQ(t),this.LQ(n)},n.LQ=function(t){throw jr(t.message),this.BQ.rY(t.message),t},t}();F(),Tt(),Gt(),Dt(),qt();var _R=function(){function t(){this.FQ=new Gc}var n=t.prototype;return n.RQ=function(t){this.OQ=t,this.FQ.Vb()},n.eY=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.OQ?[2,et.resolve(t.OQ)]:[4,t.FQ.Ub];case 1:return n.sent(),[2,t.OQ]}}))}))()},Nt(t,[{key:"VQ",get:function(){return this.OQ}}]),t}();F(),Tt(),Dt(),Rt(),F(),Tt(),Rt();var bR=function(t){function n(){return t.call(this,"eC")||this}return It(n,t),n.prototype.ka=function(){return new kR},n}(gg),kR=function(t){function n(){return t.call(this,"change")||this}return It(n,t),n}(sa);function AR(t){var n,i={get fontFamily(){return t.WQ},set fontFamily(n){t.WQ=n},get fontColor(){return t.UQ},set fontColor(n){t.UQ=n},get fontSize(){return t.GQ},set fontSize(n){t.GQ=n},get backgroundColor(){return t.HQ},set backgroundColor(n){t.HQ=n},get windowColor(){return t.ZQ},set windowColor(n){t.ZQ=n},get edgeStyle(){return t.XQ},set edgeStyle(n){t.XQ=n},get marginTop(){return t.zQ},set marginTop(n){t.zQ=n},get marginBottom(){return t.qQ},set marginBottom(n){t.qQ=n},get marginLeft(){return t.YQ},set marginLeft(n){t.YQ=n},get marginRight(){return t.KQ},set marginRight(n){t.KQ=n},addEventListener:function(t,i){var r=Ug(t,Vg);n.bn(r,i)},removeEventListener:function(t,i){var r=Ug(t,Vg);n.vn(r,i)}};return n=new ea(i),t.bn(["eC"],(function(t){return n._o(t.wa)})),i}F(),Tt();var TR={WQ:void 0,UQ:void 0,GQ:void 0,HQ:void 0,ZQ:void 0,XQ:void 0,zQ:void 0,qQ:void 0,YQ:void 0,KQ:void 0},SR="THEOplayer.textTrackStyle.",ER=function(t){function n(){var i;return(i=t.call(this)||this).eu=void 0,i.QQ=n.$Q(),i}return It(n,t),n.prototype.ir=function(t){this.QQ=ns({},this.QQ,t),n.JQ(this.QQ),this._o(new bR)},n.$Q=function(){var t=ns({},TR);return t.WQ=zk.Lb(SR+"fontFamily")||t.WQ,t.UQ=zk.Lb(SR+"fontColor")||t.UQ,t.GQ=zk.Lb(SR+"fontSize")||t.GQ,t.HQ=zk.Lb(SR+"backgroundColor")||t.HQ,t.ZQ=zk.Lb(SR+"windowColor")||t.ZQ,t.XQ=zk.Lb(SR+"edgeStyle")||t.XQ,t},n.JQ=function(t){zk.Bb(SR+"fontFamily",t.WQ||""),zk.Bb(SR+"fontColor",t.UQ||""),zk.Bb(SR+"fontSize",t.GQ||""),zk.Bb(SR+"backgroundColor",t.HQ||""),zk.Bb(SR+"windowColor",t.ZQ||""),zk.Bb(SR+"edgeStyle",t.XQ||"")},Nt(n,[{key:"jQ",get:function(){return this.QQ}},{key:"WQ",get:function(){return this.QQ.WQ},set:function(t){this.ir({WQ:t})}},{key:"UQ",get:function(){return this.QQ.UQ},set:function(t){this.ir({UQ:t})}},{key:"GQ",get:function(){return this.QQ.GQ},set:function(t){this.ir({GQ:t})}},{key:"HQ",get:function(){return this.QQ.HQ},set:function(t){this.ir({HQ:t})}},{key:"ZQ",get:function(){return this.QQ.ZQ},set:function(t){this.ir({ZQ:t})}},{key:"XQ",get:function(){return this.QQ.XQ},set:function(t){this.ir({XQ:t})}},{key:"zQ",get:function(){return this.QQ.zQ},set:function(t){this.ir({zQ:t})}},{key:"qQ",get:function(){return this.QQ.qQ},set:function(t){this.ir({qQ:t})}},{key:"KQ",get:function(){return this.QQ.KQ},set:function(t){this.ir({KQ:t})}},{key:"YQ",get:function(){return this.QQ.YQ},set:function(t){this.ir({YQ:t})}},{key:"wa",get:function(){return this.eu||(this.eu=AR(this)),this.eu}}]),n}(ra);function IR(t,n){var i,r;t.style.marginLeft=(null!=(i=n.YQ)?i:0)+"px",t.style.marginRight=(null!=(r=n.KQ)?r:0)+"px",t.style.width="calc(100% - "+t.style.marginLeft+" - "+t.style.marginRight+")"}F(),Tt(),Gt(),Dt(),Ut(),qt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt();var RR=[oa.ho,oa.zy,yp.UL,oa.hb,oa.qy,oa.Uy,oa.Jy,oa.Qy,oa.Dy,oa.Yy,oa.ub,oa.Iy,yp.iC,oa.jy,Uy.fa,da.Py,da.Tb,oa.Ey,oa.Ty,oa.fb,oa.vb,oa.Oy,oa.Vy,oa.Ly,oa.Ny],CR={zB:!1};function NR(t){return t.kd.Tw===mp.wW}F(),Tt();var DR=function(t){return t.tJ="eJ",t}({}),PR=["eJ"],xR=function(t){return t[t.iJ=0]="iJ",t[t.Sk=1]="Sk",t[t.sJ=2]="sJ",t}({});F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Gt(),Dt(),Rt(),qt();var LR=["loadstart","encrypted","waitingforkey","webkitneedkey","msneedkey"],MR=function(t){return t.nJ="rJ",t.oJ="hJ",t.aJ="uJ",t}({}),OR=function(t){function n(n,i,r,e){var u;(u=t.call(this)||this).AJ=!1,u.SJ=new Gc,u.fJ=!1,u.Yo=new hd,u.uT=void 0,u.gJ=function(){u.fJ=!0},u.pJ=function(){u.bJ(!0)},u.MT=n,u.WB=i,u.$T=i.jG,u.vJ=r,u.Nw=e,u.$T.addEventListener("loadedmetadata",u.gJ);for(var s=0;s<LR.length;s++){var o=LR[s];u.$T.addEventListener(o,u.pJ)}return u}It(n,t);var i=n.prototype;return i.cJ=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return[4,i.Nw.Dw(t.Ew,n)];case 1:return[4,e.sent()._T()];case 2:return r=e.sent(),[4,i.lJ(r)];case 3:return e.sent(),[2,r]}}))}))()},i.dJ=function(t){var n=this,i=this.uT;return i?0!==t.sH.length&&t.sH.some((function(t){return t.cT.Ew===i.cT})):0!==this.MT.sH.length?t.sH.some((function(t){return n.MT.sH.some((function(n){return t.cT===n.cT}))})):0===t.sH.length||!this.fJ},i._J=function(t){return this.vJ._J(t),this.MT=t,et.resolve()},i.mJ=function(t){this.vJ.mJ(t)},i.Xw=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:for(t.Ro(),t.$T.removeEventListener("loadedmetadata",t.gJ),n=0;n<LR.length;n++)i=LR[n],t.$T.removeEventListener(i,t.pJ);return[4,t.Yo.yn()];case 1:return r.sent(),t.wJ(),[4,t.vJ.nr()];case 2:return r.sent(),[4,t.yJ(void 0)];case 3:return r.sent(),[2]}}))}))()},i.bJ=function(t){t!==this.AJ&&(this.AJ=t,t?this.SJ.Vb(void 0):this.SJ=new Gc)},i.lJ=function(t){var n=this;return this.Yo.Qo((function(){return n.yJ(t)}))},i.yJ=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:if(t&&!n.$T.src&&!n.$T.srcObject)throw new Qg(td.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");if(!t&&(n.$T.src||n.$T.srcObject))throw new Qg(td.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");return!t||n.AJ?[3,2]:[4,n.SJ.Ub];case 1:r.sent(),r.label=2;case 2:return(i=n.uT)?[4,i.dT(n.$T)]:[3,4];case 3:r.sent(),n.uT=void 0,r.label=4;case 4:return t?[4,t.kn(n.$T)]:[3,6];case 5:r.sent(),n.uT=t,r.label=6;case 6:return[2]}}))}))()},i.Ca=function(t){var n=this;return this.Yo.Qo((function(){return n.TJ(t)}))},i.TJ=function(t){this.bJ(!1);var n=this.WB.QR;if(ti(t))this.$T.src=t;else if(function(t){if(void 0!==f.ManagedMediaSource&&t instanceof f.ManagedMediaSource)return!0;if("undefined"!=typeof MediaSource&&t instanceof MediaSource)return!0;return!1}(t))if(function(t){return"srcObject"in t&&Gn.su&&Gn.og>=17}(this.$T))try{this.$T.srcObject=t}catch(n){this.$T.src=URL.createObjectURL(t)}else this.$T.src=URL.createObjectURL(t);else BR(t)&&(this.$T.srcObject=t);this.WB.QR=n},i.kJ=function(t){var n=this;return this.Yo.Qo((function(){return n.EJ(t)}))},i.EJ=function(t){this.TJ(t),this.$T.load()},i.wJ=function(){this.bJ(!1),Ii(this.$T)},i.xJ=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.uT?[4,t.uT.nr()]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))()},Nt(n,[{key:"kd",get:function(){return this.MT}},{key:"jG",get:function(){return this.$T}}]),n}(ra);function BR(t){return"undefined"!=typeof MediaStream&&t instanceof MediaStream}var VR=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.xj=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:switch((n=t.kd).rH){case aA.XC:case aA.zC:t.$T.setAttribute("crossorigin",n.rH);break;case aA.wE:default:t.$T.removeAttribute("crossorigin")}return void 0!==n.iI?t.$T.preload=n.iI:t.$T.preload=zT.yG,void 0!==n.oH?t.$T.title=n.oH:pi(t.$T),n.PJ?[4,t.kJ(n.PJ)]:[3,2];case 1:return i.sent(),[3,4];case 2:return[4,t.Ca(n.VC)];case 3:i.sent(),i.label=4;case 4:return t.vJ.$n(t,n),[2]}}))}))()},i.dJ=function(t){return!1},i._J=function(t){return et.resolve(void 0)},i.DJ=function(t){return!1},i.NJ=function(){return!BR(this.MT.PJ)},i.Xw=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return pi(n.$T),[4,t.prototype.Xw.call(n)];case 1:return i.sent(),[2]}}))}))()},n.MJ=function(t,n){return!!n.canPlayType&&Boolean(n.canPlayType(t.Mk))},Nt(n,[{key:"wR",get:function(){return SA.Cn(this.$T.buffered)}},{key:"ct",get:function(){return this.$T.duration}},{key:"RJ",get:function(){var t=this.ct;if(!isFinite(t))return!1;var n=this.wR;return 0!==n.V&&t-n.Tn(n.V-1)<yr}},{key:"iI",get:function(){return this.$T.preload},set:function(t){this.$T.preload=t}},{key:"hI",get:function(){return SA.Cn(this.$T.seekable)}},{key:"IJ",get:function(){return this.wR}},{key:"CJ",get:function(){if(Ei(this.$T)&&(this.$T.videoWidth>0||this.$T.videoHeight>0))return this.wR}}]),n}(OR);F(),Tt(),Rt();var FR=function(t){function n(n){var i;return(i=t.call(this,oa.qy)||this).currentTime=n,i}return It(n,t),n}(sa);F(),Tt(),Rt();var UR=function(t){function n(){return t.call(this,oa.Uy)||this}return It(n,t),n}(sa);F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Dt(),Rt();var WR=function(t){return t.LJ="BJ",t}({}),ZR=function(t){function n(n){var i;return(i=t.call(this,"BJ")||this).OJ=n,i}return It(n,t),n}(sa),XR=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).VJ=SA.pB(),n}It(n,t);var i=n.prototype;return i.WJ=function(t,n){var i=new SA([t,n]);this.VJ=this.VJ.tB(i),this._o(new ZR(i))},i.UJ=function(t,n){this.VJ=this.VJ.iB(new SA([t,n]))},i.nr=function(){this.VJ=SA.pB()},i.yn=function(){this.Ro()},Nt(n,[{key:"FJ",get:function(){return this.VJ}}]),n}(ra);function GR(t,n){return void 0===n&&(n=new Bd({highWaterMark:1/0})),new Md(new HR(t,n),{highWaterMark:0})}F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt();var HR=function(){function t(t,n){var i=this,r=n.size,e=void 0===r?function(){return 1}:r,u=n.highWaterMark,s=void 0===u?1:u;this.Kd=[],this.Qd=0,this.FQ=void 0,this.XJ=!1,this.qJ=void 0,this.YJ=function(t){return t.done?(i.ZJ(),void i.FQ.close()):(i.Kd.push(t.value),i.Qd+=i.KJ(t.value),i.XJ&&i.ZJ(),i.GJ()?i.Od.read().then(i.YJ):void 0)},this.gx=function(t){i.ZJ(),i.FQ.error(t)},this.Od=t.getReader(),this.KJ=e,this.zJ=s}var n=t.prototype;return n.start=function(t){this.FQ=t,this.GJ()&&this.HJ()},n.pull=function(){this.Kd.length>0?this.ZJ():this.XJ=!0,this.GJ()&&this.HJ()},n.cancel=function(t){return bo(this.Kd),this.Qd=0,this.XJ=!1,this.Od.cancel(t)},n.ZJ=function(){if(0!==this.Kd.length){var t=this.Kd;this.Kd=[],this.Qd=0,this.XJ=!1,this.FQ.enqueue(t)}},n.GJ=function(){return!!this.XJ||this.zJ-this.Qd>0},n.HJ=function(){var t=this;if(!this.qJ){var n=this.Od.read().then(this.YJ).catch(this.gx);this.qJ=n;var i=function(){t.qJ===n&&(t.qJ=void 0)};n.then(i,i)}},t}();F(),Tt(),F(),Tt(),Dt(),Rt(),F(),Tt(),F(),Tt();var zR=function(){function t(){this.QJ=[],this.Nb=0}var n=t.prototype;return n.jJ=function(t){this.QJ.push(t),this.Nb+=t.byteLength},n.JJ=function(t){if(this.Nb<=t)return this.$J();for(var n=this.QJ,i=0,r=0;r<n.length&&i+n[r].byteLength<=t;)i+=n[r].byteLength,r++;var e=n.slice(0,r);if(r<n.length&&i<t){var u=t-i;0,e.push(pc(n[r],0,u)),i+=u}return{QJ:e,Nb:i}},n.t$=function(t){var n=this.JJ(t);return 1===n.QJ.length?n.QJ[0]:Bc(n.QJ,n.Nb)},n.$J=function(){return{QJ:this.QJ,Nb:this.Nb}},n.e$=function(t){if(this.Nb<=t)return this.i$();for(var n=this.QJ,i=0,r=0;r<n.length&&i+n[r].byteLength<=t;)i+=n[r].byteLength,r++;var e=n.splice(0,r);if(n.length>0&&i<t){var u=t-i;0,e.push(pc(n[0],0,u)),n[0]=pc(n[0],u),i+=u}return this.Nb-=i,{QJ:e,Nb:i}},n.s$=function(t){var n=this.e$(t);return 1===n.QJ.length?n.QJ[0]:Bc(n.QJ,n.Nb)},n.i$=function(){var t=this.$J();return this.QJ=[],this.Nb=0,t},n.n$=function(){var t=1===this.QJ.length?this.QJ[0]:Bc(this.QJ,this.Nb);return this.QJ=[],this.Nb=0,t},t}(),YR=function(){function t(){this.Kd=new zR,this.Fa=0,this.l$=0,this.y$=0,this.v$()}var n=t.prototype;return n.r$=function(t,n){},n.o$=function(){},n.h$=function(t){this.Kd.jJ(t),this.a$(!1)},n.u$=function(){this.a$(!0)},n.c$=function(){return 0!==this.Fa||0!==this.Kd.Nb},n.a$=function(t){for(;0!==this.Kd.Nb;){if(!t&&this.l$>this.Kd.Nb)return;switch(this.Fa){case 0:this.d$(t);break;case 1:this.f$(t);break;case 2:this._$(t)}}},n.v$=function(){this.Fa=0,this.l$=8},n.d$=function(t){var n=bc(this.Kd.t$(this.l$)),i=new Rc,r=hy.ZD(n,i);if(!r.VD)return this.l$=r.zD,void(t&&this.l$>this.Kd.Nb&&this.m$(this.Kd.Nb));var e=r.XD.Tw,u=r.XD.Nb;0===u&&(u=1/0),this.r$(e,u),this.g$(e)?this.p$(u):this.m$(u)},n.p$=function(t){this.Fa=1,this.l$=t},n.f$=function(t){var n=bc(this.Kd.s$(this.l$)),i=new Rc,r=hy.WD(n,i,!t);if(!r.VD)throw new cy(i.nc);this.o$(),this.w$(r.UD),this.v$()},n.m$=function(t){this.Fa=2,this.l$=0,this.y$=t},n._$=function(t){var n=this.Kd.e$(this.y$);this.y$-=n.Nb;for(var i=0,r=n.QJ;i<r.length;i++){var e=r[i];this.b$(e)}(0===this.y$||t&&this.y$===1/0)&&(this.o$(),this.v$())},t}();function jR(t){return t instanceof Hf}function KR(t){return t instanceof Xf}function qR(t){return t instanceof Uf||t instanceof Wf}function JR(t){return t instanceof ff}function QR(t){return t instanceof Uh}function $R(t){return t instanceof xf}function tC(t){return t instanceof Df}function nC(t){return t instanceof ev}function iC(t){return t instanceof iv}function rC(t){return t instanceof Jf}function eC(t){return t instanceof $f}function uC(t,n){var i=ho(t.boxes,rC);if(i&&i.flags.baseDataOffsetPresent)i.baseDataOffset=i.baseDataOffset.add(n);else for(var r=0,e=t.boxes;r<e.length;r++){var u=e[r];u instanceof $f&&u.flags.dataOffsetPresent&&(u.dataOffset=u.dataOffset+n)}}F(),Tt();var sC=function(t){function n(n){var i;return(i=t.call(this)||this).I$=es(),i.M$=n,i}It(n,t);var i=n.prototype;return i.start=function(t){this.FQ=t},i.transform=function(t){this.h$(t)},i.flush=function(){this.u$()},i.g$=function(t){return t===iy.gP||t===iy.oD||t===iy.mD},i.w$=function(t){var n=this.A$(t);this.FQ.enqueue(n)},i.b$=function(t){this.FQ.enqueue(t)},i.A$=function(t){var n=kc(t.Kk.Kk);switch(t.Tw){case"moov":return this.S$(n);case"sidx":return this.T$(n);case"moof":return this.k$(n)}return n},i.R$=function(t){var n=this.I$.get(t);if(void 0===n)throw new p("Expected to have found a media header timescale for track ID "+t+".");return n},i.S$=function(t){for(var n=kv(t),i=0;i<n.boxes.length;i++){var r=n.boxes[i];r instanceof Of?n.boxes[i]=this.C$(r):r instanceof Bf?n.boxes[i]=this.P$(r):r instanceof Xf&&this.D$(r)}for(var e=0,u=n.boxes;e<u.length;e++){var s=u[e];s instanceof xf&&this.N$(s)}return n.serialize().join()},i.C$=function(t){this.x$=t.timescale;var n=cC(ir.fromNumber(t.duration,!0),this.E$,this.M$);return 0!==n.getHighBits()?this.P$(function(t){return new Bf({creation:ir.fromNumber(t.creationTime,!0),modification:ir.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:ir.fromNumber(t.duration,!0)},t.nextTrackId,{rate:t.rate,volume:t.volume,matrix:t.matrix},t.flags)}(t)):(t.timescale=this.M$,t.duration=n.toInt(),t)},i.P$=function(t){return this.x$=t.timescale,t.timescale=this.M$,t.duration=cC(t.duration,this.E$,this.M$),t},i.D$=function(t){for(var n,i=0;i<t.boxes.length;i++){var r=t.boxes[i];r instanceof Uf?(n=r.trackId,t.boxes[i]=this.L$(r)):r instanceof Wf?(n=r.trackId,t.boxes[i]=this.B$(r)):r instanceof ff?this.O$(r,n):r instanceof $h&&this.F$(r)}},i.L$=function(t){var n=cC(ir.fromNumber(t.duration,!0),this.E$,this.M$);return 0!==n.getHighBits()?this.B$(function(t){return new Wf({creation:ir.fromNumber(t.creationTime,!0),modification:ir.fromNumber(t.modificationTime,!0),duration:ir.fromNumber(t.duration,!0)},t.trackId,t.volume,t.width,t.height,{layer:t.layer,alternateGroup:t.alternateGroup,matrix:t.matrix})}(t)):(t.duration=n.toInt(),t)},i.B$=function(t){return t.duration=cC(t.duration,this.E$,this.M$),t},i.O$=function(t,n){for(var i=0;i<t.boxes.length;i++){var r=t.boxes[i];r instanceof of?t.boxes[i]=this.V$(r,n):r instanceof af&&(t.boxes[i]=this.W$(r,n))}},i.V$=function(t,n){this.I$.set(n,t.timescale);var i=cC(ir.fromNumber(t.duration,!0),t.timescale,this.M$);return 0!==i.getHighBits()?this.W$(function(t){return new af({creation:ir.fromNumber(t.creationTime,!0),modification:ir.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:ir.fromNumber(t.duration,!0)},t.language,t.flags)}(t),n):(t.timescale=this.M$,t.duration=i.toInt(),t)},i.W$=function(t,n){return this.I$.set(n,t.timescale),t.timescale=this.M$,t.duration=cC(t.duration,t.timescale,this.M$),t},i.F$=function(t){for(var n=0,i=t.boxes;n<i.length;n++){var r=i[n];r instanceof qh?this.U$(r):r instanceof Jh&&this.G$(r)}},i.U$=function(t){for(var n=0,i=t.entries;n<i.length;n++){var r=i[n];r.mediaTime=aC(r.mediaTime,this.E$,this.M$),r.segmentDuration=aC(r.segmentDuration,this.E$,this.M$)}},i.G$=function(t){for(var n=0,i=t.entries;n<i.length;n++){var r=i[n];r.mediaTime=cC(r.mediaTime,this.E$,this.M$),r.segmentDuration=cC(r.segmentDuration,this.E$,this.M$)}},i.N$=function(t){for(var n=0;n<t.boxes.length;n++){var i=t.boxes[n];i instanceof Df?this.H$(i):i instanceof Rf?t.boxes[n]=this.Z$(i):i instanceof Cf&&(t.boxes[n]=this.X$(i))}},i.H$=function(t){var n=this.R$(t.trackId);t.defaultSampleDuration=aC(t.defaultSampleDuration,n,this.M$)},i.Z$=function(t){var n=cC(ir.fromNumber(t.fragmentDuration,!0),this.E$,this.M$);return 0!==n.getHighBits()?this.X$(function(t){return new Cf(ir.fromNumber(t.fragmentDuration,!0),t.flags)}(t)):(t.fragmentDuration=n.toInt(),t)},i.X$=function(t){return t.fragmentDuration=cC(t.fragmentDuration,this.E$,this.M$),t},i.T$=function(t){var n=Av(t);return(n=n instanceof hv?this.z$(n):this.q$(n)).serialize().join()},i.z$=function(t){var n=t.timescale,i=cC(ir.fromNumber(t.earliestPresentationTime,!0),n,this.M$);if(0!==i.getHighBits())return this.q$(function(t){return new fv(t.referenceId,t.timescale,ir.fromNumber(t.earliestPresentationTime,!0),ir.fromNumber(t.firstOffset,!0),t.references,t.flags)}(t));t.timescale=this.M$,t.earliestPresentationTime=i.toInt();for(var r=0,e=t.references;r<e.length;r++){var u=e[r];u.subsegmentDuration=aC(u.subsegmentDuration,n,this.M$)}return t},i.q$=function(t){var n=t.timescale;t.timescale=this.M$,t.earliestPresentationTime=cC(t.earliestPresentationTime,n,this.M$);for(var i=0,r=t.references;i<r.length;i++){var e=r[i];e.subsegmentDuration=aC(e.subsegmentDuration,n,this.M$)}return t},i.k$=function(t){for(var n=Tv(t),i=n.getSize(),r=0,e=n.boxes;r<e.length;r++){var u=e[r];u instanceof iv&&this.Y$(u)}var s=n.getSize();if(s!==i)for(var o=s-i,a=0,c=n.boxes;a<c.length;a++){var h=c[a];h instanceof iv&&uC(h,o)}return n.serialize().join()},i.Y$=function(t){for(var n,i=0;i<t.boxes.length;i++){var r=t.boxes[i];r instanceof Jf?(n=this.R$(r.trackId),this.K$(r,n)):r instanceof jf?t.boxes[i]=this.j$(r,n):r instanceof Kf?t.boxes[i]=this.Q$(r,n):r instanceof $f&&this.J$(r,n)}},i.K$=function(t,n){void 0!==t.defaultSampleDuration&&(t.defaultSampleDuration=aC(t.defaultSampleDuration,n,this.M$))},i.j$=function(t,n){var i=cC(ir.fromNumber(t.baseMediaDecodeTime,!0),n,this.M$);return 0!==i.getHighBits()?this.Q$(function(t){return new Kf(ir.fromNumber(t.baseMediaDecodeTime,!0),t.flags)}(t),n):(t.baseMediaDecodeTime=i.toInt(),t)},i.Q$=function(t,n){return t.baseMediaDecodeTime=cC(t.baseMediaDecodeTime,n,this.M$),t},i.J$=function(t,n){for(var i=0,r=0,e=0,u=t.samples;e<u.length;e++){var s=u[e];if(void 0!==s.duration){var o=aC(r+=s.duration,n,this.M$);s.duration=o-i,i=o}void 0!==s.compositionTimeOffset&&(s.compositionTimeOffset=oC(s.compositionTimeOffset,n,this.M$))}},Nt(n,[{key:"E$",get:function(){if(void 0===this.x$)throw new p("Expected to have found a movie header timescale.");return this.x$}}]),n}(YR);function oC(t,n,i){return ir.fromInt(t,!1).multiply(i).divide(n).toNumber()}function aC(t,n,i){return ir.fromInt(t,!0).multiply(i).divide(n).toNumber()}function cC(t,n,i){return um.IF(t).tV(um.CF(i,!0)).nV(um.CF(n,!0)).GF()}var hC=function(){function t(t){this.e0=new sC(t)}return t.prototype.t0=function(t){return t.pipeThrough(new Od(this.e0))},t}();F(),Tt(),F(),Tt();var fC=function(t){return t[t.i0=64]="i0",t[t.s0=103]="s0",t[t.n0=107]="n0",t}({});function vC(t,n,i){var r=Ua(t,n);if(r!==i)throw new _("Expected descriptor with tag "+i+", but found "+r)}function dC(t,n){vC(t,n,3);var i,r,e,u=lC(t,n),s=n.nc+u,o=Ya(t,n),a=Ua(t,n),c=0!=(64&a),h=0!=(32&a),f=31&a;(0!=(128&a)&&(i=Ya(t,n)),c)&&(r=tc(t,n,Ua(t,n)));h&&(e=tc(t,n,2));var v=function(t,n){vC(t,n,4);var i,r=lC(t,n),e=n.nc+r,u=Ua(t,n),s=Ua(t,n),o=s>>2,a=0!=(2&s),c=Ha(t,n,3),h=Ka(t,n),f=Ka(t,n);if(n.nc<e){var v=function(t,n){return t.getUint8(n.nc)}(t,n);5===v&&(i=function(t,n){vC(t,n,5);var i=lC(t,n),r=Za(t,n,i);return{r0:5,o0:r}}(t,n))}return n.Rb(e),{r0:4,h0:u,a0:o,u0:a,c0:c,l0:h,d0:f,f0:i}}(t,n);return n.Rb(s),{r0:3,o:o,_0:i,Xu:r,v0:f,m0:e,g0:v}}function lC(t,n){for(var i=0,r=0;r<4;r++){var e=Ua(t,n);if(i=i<<7|127&e,!(128&e))break}return i}function gC(t,n){for(var i=Ua(t,n),r=Ua(t,n),e=Ua(t,n),u=Ua(t,n),s=3&Ua(t,n),o=31&Ua(t,n),a=[],c=0;c<o;c++){var h=Ya(t,n);a.push(Za(t,n,h))}for(var f=Ua(t,n),v=[],d=0;d<f;d++){var l=Ya(t,n);v.push(Za(t,n,l))}return{p0:i,w0:r,y0:e,b0:u,A0:s,S0:a,T0:v}}function wC(t,n,i){if(!(i&&n.byte>=i)){var r=t.Lb(n.byte);return n.byte+=1,r}}function mC(t,n){return function(t,n,i){for(var r=0,e=i;e>0;)e-=1,r=256*r+wC(t,n);return r}(t,n,2)}F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),Dt();var yC=function(){function t(){this.x0=0,this.E0=[],this.qV={}}var n=t.prototype;return n.k0=function(t){this.E0=this.E0.concat(t.E0),this.x0+=t.V},n.R0=function(t,n,i){var r=this.x0,e=i-n;e>0&&(this.E0.push({I0:n,C0:i,P0:e,D0:r,N0:t}),this.x0+=e)},n.Lb=function(t){for(var n=0,i=this.E0;n<i.length;n++){var r=i[n];if(r.D0<=t&&t<r.D0+r.P0)return r.N0[t+r.I0-r.D0]}},n.M0=function(t,n){for(var i=n,r=0,e=this.E0;r<e.length;r++)for(var u=e[r],s=u.C0,o=u.I0;o<s;o+=1,i+=1)t[i]=u.N0[o];return i},n.L0=function(){for(var t=new E(this.x0),n=0,i=0,r=this.E0;i<r.length;i++)for(var e=r[i],u=e.C0,s=e.I0;s<u;s+=1,n+=1)t[n]=e.N0[s];return t},n.Ib=function(n){for(var i=new t,r=0,e=this.E0;r<e.length;r++){var u=e[r];i.R0(u.N0,u.I0,u.C0)}return i.qV=n||ns({},this.qV),i},Nt(t,[{key:"V",get:function(){return this.x0},set:function(t){var n=this.E0,i=this.x0-t;if(!(t>=this.x0))if(this.x0=t,0!==t)for(var r=n.length-1;r>=0;r-=1){var e=n[r];if(i<=e.P0)return e.C0-=i,e.P0-=i,void(n.length!==r+1&&(n.length=r+1));i-=e.P0}else n.length=0}},{key:"Kk",get:function(){for(var t=new Array(this.x0),n=0,i=0,r=this.E0;i<r.length;i++)for(var e=r[i],u=e.C0,s=e.I0;s<u;s+=1,n+=1)t[n]=e.N0[s];return t}}]),t}();F(),Tt();var pC=[128,64,32,16,8,4,2,1];function _C(t,n){var i=k.floor(n.bit/8),r=0==(t.Lb(i)&pC[n.bit%8])?0:1;return n.bit+=1,r}function bC(t,n,i){for(var r=0,e=i;e>0;)e-=1,r=2*r+_C(t,n);return r}function kC(t,n){for(var i=0;0===_C(t,n)&&i<32;)i+=1;return bC(t,n,i)+k.pow(2,i)-1}function AC(t,n){var i=kC(t,n);return 1&i?k.floor((i+1)/2):-k.floor(i/2)}function TC(t,n){var i,r=[],e={byte:1};do{r.push(EC(t,n,e)),i=n.Lb(e.byte)}while(void 0!==i&&128!==i);return r}function SC(t,n){var i,r=0;do{r+=i=wC(t,n)}while(255===i);return r}function EC(t,n,i){var r=SC(n,i),e=SC(n,i),u=i.byte,s=u+e;return i.byte=s,{B0:t,O0:r,F0:e,V0:u,W0:s,U0:n}}var IC=function(t){return t[t.G0=1]="G0",t[t.H0=2]="H0",t[t.Z0=3]="Z0",t[t.X0=4]="X0",t[t.z0=5]="z0",t[t.q0=6]="q0",t[t.Y0=7]="Y0",t[t.K0=8]="K0",t[t.j0=9]="j0",t}({}),RC=[void 0,[1,1],[12,11],[10,11],[16,11],[40,33],[24,11],[20,11],[32,11],[80,33],[18,11],[15,11],[64,33],[160,99],[4,3],[3,2],[2,1]];function CC(t,n,i){for(var r=8,e=8,u=0;u<i;u+=1){if(0!==e)e=(r+AC(t,n)+256)%256;r=0===e?r:e}}var NC=function(){function t(t){this.J0=[],this.$0=0,this.t1=t}var n=t.prototype;return n.Q0=function(){for(var t=this.J0,n=k.max(0,this.$0+t.length-2),i=this.t1,r=i.V,e=0;n<r;n+=1){var u=i.Lb(n);0===u?e+=1:(3===u&&e>=2&&t.push(n),e=0)}this.$0=n-t.length},n.e1=function(t){for(var n=this.J0,i=t,r=0;r<n.length;r++){if(!(n[r]<=i))return i;i+=1}return i},n.Lb=function(t){if(!(t>this.t1.V))return t>this.$0&&this.Q0(),this.t1.Lb(this.e1(t))},t}();function DC(t){var n,i,r,e,u,s,o=new NC(t),a=0,c=0,h=0,f=0,v=o.Lb(1),d={bit:32};if(kC(o,d),100===v||110===v||122===v||144===v){var l=kC(o,d);if(3===l&&(n=_C(o,d)),kC(o,d),kC(o,d),_C(o,d),1===_C(o,d))for(var g=0;g<(3!==l?8:12);g+=1){1===_C(o,d)&&CC(o,d,g<6?16:64)}}var w=kC(o,d),m=kC(o,d);if(0===m)kC(o,d);else if(1===m){_C(o,d),AC(o,d),AC(o,d);for(var y=kC(o,d),p=0;p<y;p+=1)AC(o,d)}kC(o,d),_C(o,d);var _=kC(o,d),b=kC(o,d),A=_C(o,d);if(0===A&&_C(o,d),_C(o,d),1===_C(o,d)&&(a=kC(o,d),c=kC(o,d),h=kC(o,d),f=kC(o,d)),1===_C(o,d)){if(1===_C(o,d)){var T=bC(o,d,8);if(255===T)i=bC(o,d,16),r=bC(o,d,16);else{var S=RC[T];S&&(i=S[0],r=S[1])}}if(1===_C(o,d)&&_C(o,d),1===_C(o,d))bC(o,d,3),_C(o,d),1===_C(o,d)&&(bC(o,d,8),bC(o,d,8),bC(o,d,8));1===_C(o,d)&&(kC(o,d),kC(o,d)),1===(e=_C(o,d))&&(u=bC(o,d,32),s=bC(o,d,32),_C(o,d))}return{width:k.floor(16*(_+1)-2*a-2*c),height:k.floor((2-A)*(b+1)*16-2*h-2*f),qM:i,YM:r,i1:e?s/(2*u):void 0,s1:n,n1:w}}function PC(t){var n=ay(gy.JD(t),iy.gP);if(n){for(var i=n.XD.mN,r=[],e=0,u=n.Z;e<u.length;e++){for(var s=u[e],o=s.XD.EN,a=s.AN.XD.mN,c=void 0,h=void 0,f=void 0,v=0,d=s.AN.MN.ON.VN.UN;v<d.length;v++){var l,g,w,m=xC(d[v]);if(m)c=null!=(l=m.o1)?l:c,h=null!=(g=m.h1)?g:h,f=null!=(w=m.a1)?w:f}r.push({EN:o,mN:a,o1:c,h1:h,a1:f})}return{mN:i,Z:r}}}function xC(t){var n,i,r;if(t.Tw===iy.CP){var e,u=gC(bc(t.yM.Kk),new Rc);n=function(t){return"avc1."+LC(t.w0,2)+LC(t.y0,2)+LC(t.b0,2)}(u),r=null==(e=function(t){if(0===t.S0.length)return;var n=t.S0[0],i=new yC;return i.R0(n,0,n.byteLength),DC(i)}(u))?void 0:e.i1}else if(t.Tw===iy.DP||t.Tw===iy.NP){var s=function(t,n){for(var i=n.Db(),r=Ia(t,i,8),e=Ia(t,i,2),u=Ia(t,i,1),s=Ia(t,i,5),o=Ia(t,i,32),a=[],c=0;c<6;c++)a.push(Ia(t,i,8));var h=Ia(t,i,8);i.xb(4);var f=Ia(t,i,12);i.xb(6);var v=Ia(t,i,2);i.xb(6);var d=Ia(t,i,2);i.xb(5);var l=Ia(t,i,3);i.xb(5);for(var g=Ia(t,i,3),w=Ia(t,i,16),m=Ia(t,i,2),y=Ia(t,i,3),p=Ia(t,i,1),_=Ia(t,i,2),b=Ia(t,i,8),k=[],A=0;A<b;A++){var T=Ia(t,i,1);i.xb(1);for(var S=Ia(t,i,6),E=Ia(t,i,16),I=[],R=0;R<E;R++){var C=Ia(t,i,16),N=Za(t,new Rc(i.nc>>3),C);i.xb(8*C),I.push({u1:C,c1:N})}k.push({l1:T,d1:S,_1:E,v1:I})}return{p0:r,m1:e,g1:u,w1:s,b1:a,A1:h,S1:f,T1:v,E1:o,R1:d,I1:l,C1:g,P1:w,D1:y,N1:p,M1:m,A0:_,L1:b,B1:k}}(bc(t.TM.Kk),new Rc);n=function(t,n){var i=t.toString()+".";switch(n.m1){case 0:break;case 1:i+="A";break;case 2:i+="B";break;case 3:i+="C";break;default:return}switch(i+=n.w1.toString()+".",i+=function(t){var n=t;return n=n>>>1&1431655765|(1431655765&n)<<1,n=n>>>2&858993459|(858993459&n)<<2,n=n>>>4&252645135|(252645135&n)<<4,n=n>>>8&16711935|(16711935&n)<<8,n=n>>>16|n<<16,n}(n.E1).toString(16)+".",n.g1){case 0:i+="L";break;case 1:i+="H";break;default:return}i+=n.A1.toString();for(var r=n.b1.reduce((function(t,n){return 0===t?n:n+1}),0),e=0;e<r;e++)i+="."+n.b1[e].toString(16).toUpperCase();return i}(t.Tw,s)}else if(t.Tw===iy.HP||t.Tw===iy.ZP||t.Tw===iy.zP||t.Tw===iy.qP){var o=function(t,n){var i=n.Db(),r=Ia(t,i,8),e=Ia(t,i,8),u=Ia(t,i,7),s=Ia(t,i,6),o=Boolean(Ia(t,i,1)),a=Boolean(Ia(t,i,1)),c=Boolean(Ia(t,i,1)),h=Ia(t,i,4);return Ia(t,i,28),Ia(t,i,32),Ia(t,i,32),Ia(t,i,32),Ia(t,i,32),{O1:r,F1:e,V1:u,W1:s,U1:o,G1:a,H1:c,Z1:h}}(bc(t.OM.Kk),new Rc);n=function(t,n){var i=t.toString(),r=Xs(n.V1.toString(),2,"0"),e=Xs(n.W1.toString(),2,"0");return i+"."+r+"."+e}(t.Tw,o)}else if(t.Tw===iy.LP){var a=function(t,n){var i=n.Db(),r=Ia(t,i,8);i.xb(24);for(var e=Ia(t,i,8),u=Ia(t,i,8),s=Ia(t,i,4),o=Ia(t,i,3),a=Ea(t,i),c=Ia(t,i,8),h=Ia(t,i,8),f=Ia(t,i,8),v=Ia(t,i,16),d=new Array(8),l=0;l<v;l++)d[l]=Ia(t,i,8);return{p0:r,V1:e,W1:u,X1:s,z1:o,q1:a,HM:c,ZM:h,XM:f,Y1:v,K1:d}}(bc(t.EM.Kk),new Rc);n=function(t,n){var i=t.toString()+".";return i+="0"+n.V1+".",i+=Xs(""+n.W1,2,"0")+".",i+=Xs(""+n.X1,2,"0")+".",i+=Xs(""+n.z1,2,"0")+".",i+=Xs(""+n.HM,2,"0")+".",i+=Xs(""+n.ZM,2,"0")+".",i+=Xs(""+n.XM,2,"0")+".",i+="0"+n.q1,i}(t.Tw,a)}else if(t.Tw===iy.OP){var c=function(t,n){var i=n.Db();i.xb(1);var r=Ia(t,i,7),e=Ia(t,i,3),u=Ia(t,i,5),s=Ea(t,i),o=Ea(t,i),a=Ea(t,i),c=Ea(t,i),h=Ea(t,i),f=Ea(t,i),v=Ia(t,i,2);i.xb(3);var d,l=Ea(t,i);return l?d=Ia(t,i,4):i.xb(4),{jD:r,j1:e,Q1:u,J1:s,t2:o,e2:a,i2:c,s2:h,n2:f,o2:v,h2:l,a2:d}}(bc(t.IM.Kk),new Rc);n=function(t,n,i){var r=t.toString()+".";if(r+=n.j1+".",r+=""+Xs(""+n.Q1,2,"0"),r+=(0===n.J1?"M":"H")+".",r+=(1===n.e2?12:10)+".",r+=(1===n.j1?0:n.i2)+".",r+=""+n.s2+n.n2+(1===n.s2&&1===n.n2?n.o2:"0"),i&&i.GM===ry.ON_SCREEN_COLOURS){var e=i;r+="."+Xs(""+e.HM,2,"0")+"."+Xs(""+e.ZM,2,"0")+"."+Xs(""+e.XM,2,"0")+"."+(e.zM?1:0)}return r}(t.Tw,c,t.CM)}else if(t.Tw===iy.QP){i=function(t){var n=t.g0;switch(n.h0){case fC.i0:return function(t){var n;if(!(null==(n=t.f0)?void 0:n.o0))return"mp4a.40";var i=function(t,n){var i=Ia(t,n,5);31===i&&(i=32+Ia(t,n,6));var r,e=Ia(t,n,4);return 15===e&&(r=Ia(t,n,24)),{u2:i,c2:e,l2:r,d2:Ia(t,n,4)}}(bc(t.f0.o0),new Ra);return"mp4a.40."+i.u2}(n);case fC.s0:return"mp4a.40.2";case fC.n0:return"mp4a.40.34"}}(dC(bc(t.dM.Kk),new Rc))}else if(t.Tw===iy.$P)i="fLaC";else{if(t.Tw!==iy.YP)return(t.Tw===iy.rD||t.Tw===iy.nD)&&t.NM?xC(t.NM):void 0;i="ec-3"}return{o1:n,h1:i,a1:r}}function LC(t,n){var i=t.toString(16);return Xs(i,n,"0")}function MC(t,n){var i=gy.JD(bc(t)),r=function(t,n){for(var i,r=function(t,r){var e,u=r[t],s=null==(e=u.aL)?void 0:e.aL;if(s){var o=u.XD.EN,a=ho(n.Z,(function(t){return t.EN===o})),c=hm.IF(s,a.mN);i&&!c.bF(i)||(i=c)}},e=0,u=t.Z;e<u.length;e++)r(e,u);return i}(ay(i,iy.oD),n),e=ay(i,iy.fD);return{WO:r._F(),f2:e.Kk}}function OC(t,n){return BC.apply(this,arguments)}function BC(){return BC=Zt((function(t,n){var i;return Ht(this,(function(r){switch(r.label){case 0:switch(t.Tw){case xR.iJ:return[3,1];case xR.Sk:return[3,2];case xR.sJ:return[3,4]}return[3,5];case 1:return[2,t];case 2:return[4,Ud(t.Kk,n)];case 3:return i=r.sent(),Vo(n),[2,{Tw:xR.iJ,Kk:new E(i)}];case 4:throw new p("MediaBufferWrapper - Cannot convert opaque SegmentData to ArraySegmentData.");case 5:return[2]}}))})),BC.apply(this,arguments)}F(),Tt(),F(),Tt(),Gt(),qt();var VC=Gn.eg,FC=function(t){function n(n,i,r,e,u){var s,o;if((s=t.call(this)||this).Pj=20,s.Mj=30,s._2=!1,s.U2=!1,s.t3=void 0,s.i3=new Yo,s.I2=!1,s.C2=void 0,s.T2=!1,s.E2=void 0,s.s3=function(){s._2=!1},s.n3=function(t){t.removedRanges&&s._o(new sa(DR.tJ))},s.Z2=i,s.L2=n,s.m2=r,s.m2.addEventListener("updateend",s.s3),s.m2.addEventListener("bufferedchange",s.n3),s.K2=e,s.Q2=u,s.T2=UC(e.Mk,u),null==(o=i.kd)?void 0:o.ap){var a,c=null!=(a=i.kd.r3)?a:1e5;s.D2=new hC(c)}return s}It(n,t);var i=n.prototype;return i.g2=function(t,n,i){var r=this;switch(t.Tw){case xR.iJ:case xR.Sk:return this.w2((function(i){return r.b2(t,n,i)}),i);case xR.sJ:throw new p("Opaque segments are not supported on web.")}},i.A2=function(t,n){var i=this;switch(t.Tw){case xR.iJ:return this.w2((function(n){return i.S2(t,n)}),n);case xR.Sk:throw new p("Streaming initialization segments are not supported on web.");case xR.sJ:throw new p("Opaque initialization segments are not supported on web.")}},i.S2=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return i.T2?(i.E2=PC(bc(t.Kk)),[2]):[4,i.R2(t,void 0,n)];case 1:return r.sent(),VC&&(i.I2=!1,i.C2=t),[2]}}))}))()},i.b2=function(t,n,i){var r=this;return Zt((function(){var e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return VC&&r.I2&&r.C2?[4,r.S2(r.C2,i)]:[3,2];case 1:o.sent(),o.label=2;case 2:return o.trys.push([2,,6,7]),Vo(i),r.T2&&r.E2?[4,OC(t,i)]:[3,4];case 3:e=o.sent(),u=MC(e.Kk,r.E2),t={Tw:xR.iJ,Kk:u.f2},n=ns({},n,{BV:u.WO+(null!=(s=n.BV)?s:0)}),o.label=4;case 4:return[4,r.R2(t,n,i)];case 5:return o.sent(),r._o(new sa(DR.tJ)),[3,7];case 6:return t.Tw===xR.Sk&&t.Kk.cancel(new Oo).catch(bi),[7];case 7:return[2]}}))}))()},i.R2=function(t,n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){switch(s.label){case 0:return Vo(i),n?[4,r.P2(n)]:[3,2];case 1:s.sent(),s.label=2;case 2:switch(t.Tw){case xR.iJ:return[3,3];case xR.Sk:return[3,7]}return[3,11];case 3:return r.D2?(e=r.D2.t0(Vd(t.Kk)),[4,r.N2(e,i)]):[3,5];case 4:return[2,s.sent()];case 5:return[4,r.M2(t.Kk)];case 6:return[2,s.sent()];case 7:return r.D2?(u=r.D2.t0(t.Kk),[4,r.N2(u,i)]):[3,9];case 8:return[2,s.sent()];case 9:return[4,r.N2(t.Kk,i)];case 10:return[2,s.sent()];case 11:return[2]}}))}))()},i.N2=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:r=i.L2.wR,e=GR(t),u=e.getReader(),s=!1,v.label=1;case 1:v.trys.push([1,6,,12]),v.label=2;case 2:return[4,Wo(u.read(),n)];case 3:return(o=v.sent()).done?(s=!1,[3,5]):(Vo(n),a=Oc(o.value),s=!0,[4,i.M2(a)]);case 4:return v.sent(),[3,2];case 5:return[3,12];case 6:return c=v.sent(),u.cancel(c).catch(bi),s?[4,i.B2()]:[3,11];case 7:v.sent(),h=i.L2.wR.jn(r.jL()),f=0,v.label=8;case 8:return f<h.V?[4,i.O2(h.Sn(f),h.Tn(f))]:[3,11];case 9:v.sent(),v.label=10;case 10:return f++,[3,8];case 11:throw c;case 12:return[2]}}))}))()},i.F2=function(t,n){var i=this;return this.w2((function(){return i.W2(t,n)}))},i.W2=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return i.m2.appendWindowStart===t&&i.m2.appendWindowEnd===n?[3,2]:[4,i.B2()];case 1:r.sent(),i.m2.appendWindowStart=0,i.m2.appendWindowEnd=n,i.m2.appendWindowStart=t,r.label=2;case 2:return[2]}}))}))()},i.P2=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:if(n.m2.timestampOffset===t.BV)return[2];i.label=1;case 1:return i.trys.push([1,2,,4]),n.m2.timestampOffset=t.BV,[3,4];case 2:return i.sent(),[4,n.B2()];case 3:return i.sent(),n.m2.timestampOffset=t.BV,[3,4];case 4:return[2]}}))}))()},i.M2=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.m2.appendBuffer(t),n.U2=!0,[4,n.G2()];case 1:return i.sent(),[2]}}))}))()},i.H2=function(t,n,i){var r=this;return this.w2((function(i){return r.O2(t,n,i)}),i)},i.O2=function(t,n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return Vo(i),r.m2.remove(t,n),[4,r.G2()];case 1:return e.sent(),[2]}}))}))()},i.G2=function(){var t=this,n=this.L2.wR;return new et((function(i,r){var e,u=!1,s=function(){u=!0},o=function(){u=!1,e="error"},a=function(){u=!1,e="aborted"},c=function(){u=!1,e="sourceclose",h()},h=function(){f(),u&&!e?(n.aB(t.L2.wR)||t._o(new sa(DR.tJ)),i()):r(new p(e))},f=function(){t.m2.removeEventListener("update",s),t.m2.removeEventListener("error",o),t.m2.removeEventListener("abort",a),t.m2.removeEventListener("updateend",h),t.Z2.vn(MR.oJ,c)};t.m2.addEventListener("update",s),t.m2.addEventListener("error",o),t.m2.addEventListener("abort",a),t.m2.addEventListener("updateend",h),Gn.Cm&&Gn.Dm<3&&t.Z2.bn(MR.oJ,c)}))},i.X2=function(){var t=this;return this.w2((function(){return t.B2()}))},i.B2=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:if(t.Z2.rI!==oN.GE)return[2];VC&&(t.I2=!0),t.m2.updating&&(t._2=!0);try{t.m2.abort()}catch(n){0,t._2=!1}return t.va?[4,t.G2().catch(bi)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))()},i.z2=function(){return"function"==typeof this.m2.changeType&&!Gn.xm},i._J=function(t){if(this.q2(),this.Z2.rI!==oN.Y2){var n;this.K2=t;var i=null!=(n=this.Z2.j2(t.Mk))?n:t.Mk;this.T2=UC(t.Mk,this.Q2),this.z2()&&!Ws(this.Q2,i)&&(this.Q2=i,this.m2.changeType(this.Q2))}},i.J2=function(){this.Z2.rI!==oN.Dy||this.t3||this.va||(this.m2.timestampOffset=this.m2.timestampOffset,this.Z2.e3())},i.w2=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:i.q2(),(r=new Yo).Qw(i.i3.Uw),n&&r.Qw(n),e.label=1;case 1:return e.trys.push([1,,5,6]),i.t3=t(r.Uw),[4,i.t3];case 2:return e.sent(),i.Z2.e3(),i.va?[4,i.G2()]:[3,4];case 3:e.sent(),e.label=4;case 4:return[3,6];case 5:return i.t3=void 0,r.Xw(),[7];case 6:return[2]}}))}))()},i.q2=function(){if(this.t3)throw new p("Internal error")},i.Xw=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.Ro(),t.i3.jw(),t.t3?[4,t.t3.catch(bi)]:[3,2];case 1:n.sent(),t.t3=void 0,n.label=2;case 2:return t.m2.removeEventListener("updateend",t.s3),t.m2.removeEventListener("bufferedchange",t.n3),[2]}}))}))()},Nt(n,[{key:"bj",get:function(){return this.Pj},set:function(t){this.Pj=t}},{key:"Ej",get:function(){return this.Mj},set:function(t){this.Mj=t}},{key:"va",get:function(){return this._2||this.m2.updating}}]),n}(ra);function UC(t,n){return Fs(t,"audio/mp4")&&Fs(n,"audio/mpeg")}F(),Tt(),Dt();var WC=function(){function t(t,n){this.h3=void 0,this.o3=n,this.m2=t}var n=t.prototype;return n.RJ=function(){return!!this.h3&&this.wR.YL().wr(this.h3)},n.a3=function(){var t=this.wR;this.h3=t.V>0?t.Tn(t.V-1):0,this.o3.u3()},n.J2=function(){this.h3=void 0},Nt(t,[{key:"wR",get:function(){if(this.o3.rI===oN.Y2)return SA.pB();var t=SA.Cn(this.m2.buffered).jn(new SA([0,1/0])),n=this.h3;return void 0!==n&&t.V>0&&t.Tn(t.V-1)===n&&(t=t.tB(SA.mB(n))),t}}]),t}();function ZC(t){var n=t.gT("codecs");return n?n.split(",").map((function(t){return t.trim()})):[]}function XC(t,n){return xo(t,n,jC)}function GC(t,n){return!("opus"===t)&&!("opus"===n)||t===n}function HC(t,n){var i=zC(t),r=zC(n);if((i||r)&&Kn.Ys._p)return!0;var e=i||YC(t),u=r||YC(n);return!e&&!u||t.split(".")[0]===n.split(".")[0]}function zC(t){return/^(ac-3|dac3|ec-3|dec3|ec\+3|ac-4|dac4)/.test(t)}function YC(t){return/^(dvav|dva1|dvhe|dvh1)/.test(t)}function jC(t,n){if(t===n)return!0;var i=t.split("."),r=n.split("."),e=i[0];if(e!==r[0])return!1;if("mp4a"===e){var u=tn(i,3),s=u[1],o=u[2],a=tn(r,3),c=a[1],h=a[2];if(s!==c)return!1;if(Number(o)!==Number(h))return!1}return!0}F(),Tt(),Dt(),Rt(),nn();var KC=function(t){function n(n,i,r,e){var u;return(u=t.call(this,r)||this).d3=n,u._3=i,u.v3=r,u}return It(n,t),Nt(n,[{key:"l3",get:function(){return this.d3}},{key:"f3",get:function(){return this._3}}]),n}(Mo);function qC(t,n,i,r,e,u,s){var o=new WC(e,t),a=new FC(o,t,e,i,u);return new JC(t,n,i,r,o,a,s)}var JC=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this)||this).E3=rs(),a.Z2=n,a.MT=r,a.IT=r.Mk,a.g3=e,a.WB=i,a.L2=u,a.b3=s,a.y3=o,a.b3.bn(DR.tJ,a.Ds),a}It(n,t);var i=n.prototype;return i.RJ=function(){return this.L2.RJ()},i.a3=function(){this.L2.a3()},i.J2=function(){this.L2.J2(),this.b3.J2()},i.A3=function(t,n){this.y3.WJ(t,n)},i.S3=function(t,n){this.y3.UJ(t,n)},i.T3=function(){return this.b3.X2()},i.g2=function(t,n,i){return this.b3.g2(t,n,i)},i.A2=function(t,n,i){return this.b3.A2(t,i)},i.F2=function(t,n){return Gn.Cm&&Gn.Dm<3?this.b3.F2(t,1/0):this.b3.F2(t,n)},i.eT=function(t,n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){switch(s.label){case 0:return r.S3(t,n),e=r.wR,[4,r.b3.H2(t,n,i)];case 1:return s.sent(),u=0!==e.V&&0===r.wR.V,(Gn._g||Gn.Mm)&&u&&r.WB.Rb(r.WB.ER),[2]}}))}))()},i.dJ=function(t){var n=t.Mk;if(this.IT===n)return!0;var i=this.E3.get(n);if(void 0!==i)return i;var r=this.x3(t);return this.E3.set(n,r),r},i.x3=function(t){var n=this.Z2.j2(t.Mk);if(void 0===n)return!1;var i=Mv(this.IT),r=Mv(n),e=ZC(i),u=ZC(r);if(this.b3.z2()){if(!function(t,n){return xo(t,n,HC)}(e,u))return!1;if(Gn.gg&&!function(t,n){return xo(t,n,GC)}(e,u))return!1}else{if(i.Tw!==r.Tw)return!1;if(!XC(e,u))return!1}return!0},i._J=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){return i=t.Mk,n.IT!==i&&(n.E3.clear(),n.b3._J(t),n.IT=i),n.MT=t,n.Z2.R3(),[2]}))}))()},i.Xw=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:t.E3.clear(),t.Ro(),t.y3.yn(),n.label=1;case 1:return n.trys.push([1,3,,4]),t.b3.vn(DR.tJ,t.Ds),[4,t.b3.Xw()];case 2:return n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return[2]}}))}))()},Nt(n,[{key:"wR",get:function(){return this.L2.wR}},{key:"kd",get:function(){return this.MT}},{key:"Mk",get:function(){return this.IT}},{key:"m3",get:function(){return this.g3}},{key:"w3",get:function(){return this.y3.FJ}},{key:"bj",get:function(){return this.b3.bj},set:function(t){this.b3.bj=t}},{key:"Ej",get:function(){return this.b3.Ej},set:function(t){this.b3.Ej=t}},{key:"va",get:function(){return this.b3.va}}]),n}(ra);F(),Tt();var QC=function(){function t(t,n,i,r){void 0===i&&(i=!1),void 0===r&&(r=!1),this.Sn=t,this.Tn=n,this.C3=i,this.P3=r,this.D3=Kn.Wg()}return t.prototype.I3=function(){var t=this.Sn,n=this.Tn;if(this.C3||this.P3){var i=.001*(Kn.Wg()-this.D3);this.C3&&(t+=i),this.P3&&(n+=i)}return SA.gB(t,n)},t}();F(),Tt(),Dt(),F(),Tt();var $C=.5,tN=[oa.ho,oa.zy,oa.Jy,oa.Qy,oa.Oy,oa.Vy,oa.Dy,oa.Yy,yp.iC,Uy.fa],nN=function(){function t(t,n,i,r){var e=this;this.L2=t,this.O3=n,this.WB=i,this.U3=!1,this.M3=[],this.G3=0,this.Y3=0,this.s4=0,this.X3=0,this.J3=0,this.j3=0,this.n4=1,this.L3=function(t){var n=e.WB.ER,i=t.OJ.wr(n),r=t.OJ.wr(n,$C)&&e.WB.rI<=bp.iO;(i||r)&&e.DJ(n)},this.F3=Ti((function(t){if(!e.U3)if(e.O3.rI<=bp.iO){var n=e.WB.ER;e.DJ(n)||e.Q3()}else e.W3()}),100),this.ed=Ti((function(t){e.K3()}),100),this.z3=function(t){t.currentTime!==e.X3&&e.W3()},this.V3=function(){e.t4()?0===e.j3&&(e.WB.bn(oa.hb,e.ed),e.Y3=Kn.Gg((function(){e.K3()}),3500)):e.B3()},this.Q3=function(){var t=e.s4,n=e.J3,i=e.WB.ER,r=Kn.Wg(),u=e.L2.wR;if(t!==i)return e.s4=i,e.J3=r,e.n4=1,void(e.r4=Kn.rR?2e3:1e3);if(e.t4()&&0!==u.V&&n>0&&r>n+e.r4){var s,o,a=e.FJ.YL().iB(u),c=a.lB(i);if(-1!==c){var h=a.Sn(c);if(h-i<1){var f=a.Tn(c);0,s=f}}if(!s)(s=null==(o=e.o4)?void 0:o.determineStallJumpTarget())||(s=i+.01*e.n4,u.wr(s)||(s=e.i4(i,u)));0,e.s4=s,e.n4++,e.r4=k.min(2*e.r4,1e4),e.Z3(s)}},this.O3.bn(yp.iC,this.F3),this.WB.bn(oa.qy,this.F3),this.WB.bn(tN,this.V3),this.o4=r,this.r4=Kn.rR?2e3:1e3}var n=t.prototype;return n.N3=function(t){this.M3.push(t),t.bn(WR.LJ,this.L3)},n.yn=function(){var t=this;this.B3(),this.O3.vn(yp.iC,this.F3),this.WB.vn(oa.qy,this.F3),this.WB.vn(tN,this.V3),this.M3.forEach((function(n){return n.vn(WR.LJ,t.L3)})),this.W3(),this.U3=!0},n.DJ=function(t){if(this.WB.PR)return!1;if(0!==this.G3)return!1;var n=this.L2.wR,i=n.sB(t);if(i>=0&&t+$C<n.Tn(i))return!1;var r=i>=0?i+1:n.dB(t);if(r<0||r>=n.V)return!1;var e=n.Sn(r);return!(SA.gB(t,e).iB(this.FJ).vB>1)&&(0!==t||this.WB.uI?Kn.sR?(this.H3(t,e,250),!0):!(k.abs(e-t)<=.001)&&(this.Z3(e),!0):(this.H3(t,e,2e3),!0))},n.H3=function(t,n,i){var r=this;this.W3(),this.X3=t,this.WB.bn(oa.Jy,this.z3),this.G3=Kn.Gg((function(){r.X3===r.WB.ER&&r.Z3(n),r.W3()}),i)},n.W3=function(){0!==this.G3&&(this.WB.vn(oa.Jy,this.z3),Kn.Ug(this.G3),this.G3=0)},n.Z3=function(t){this.WB.Rb(t,!1,!0)},n.q3=function(){0!==this.Y3&&(Kn.Ug(this.Y3),this.Y3=0),this.WB.vn(oa.hb,this.ed)},n.K3=function(){this.U3||0===this.j3&&(this.q3(),this.j3=Kn.Gp(this.Q3,250))},n.B3=function(){0!==this.j3&&(Kn.Hp(this.j3),this.j3=0),this.q3(),this.WB.uI||(this.J3=0)},n.t4=function(){return!this.WB.KR&&!this.WB.uI&&0!==this.WB.QR&&!this.WB.PR&&!this.WB.lt&&(this.e4()||this.O3.rI>=bp.sO)},n.e4=function(){var t=this.WB.ER,n=this.L2.wR,i=n.sB(t);return-1!==i&&n.Tn(i)>t+$C},n.i4=function(t,n){var i=n.sB(t);return i>-1?n.Tn(i):t},Nt(t,[{key:"FJ",get:function(){return this.M3.reduce((function(t,n){return t.tB(n.FJ)}),SA.pB())}}]),t}();function iN(t){var n=[];if(t.h4&&n.push(t.h4.wR),t.a4&&n.push(t.a4.wR),0===n.length)return SA.pB();for(var i=0,r=0;r<n.length;r++){var e=n[r];e.V>0&&(i=k.max(i,e.Tn(e.V-1)))}for(var u=t.RJ,s=new SA([0,i],[!0,u]),o=0;o<n.length;o++){var a=n[o];u&&a.V>0&&(a=a.tB(new SA([a.Tn(a.V-1),i],[!0,!0]))),s=s.jn(a)}return s}function rN(t,n,i){var r,e=t.wR,u=e.sB(n);if(u>=0){if(!(u+1<e.V))return et.resolve();r=e.Sn(u+1)}else{if(!((u=e.dB(n))>=0))return et.resolve();r=e.Sn(u)}return t.eT(r,1/0,i)}function eN(t,n,i){if(!t.wr(n)){var r=t.sB(n,i);if(r>=0){var e=t.Sn(r);if(n<e)return e}}return n}F(),Tt();var uN=Gn.Gm||Gn.Zm,sN=Gn.jm||Gn.eg||Gn.su,oN=function(t){return t.Y2="closed",t.GE="open",t.Dy="ended",t}({}),aN=function(t){function n(n,i,r,e,u,s,o){var a;return void 0===s&&(s=new Mr(n.C4)),(a=t.call(this,n,i,e,u)||this).u4=void 0,a.b4=void 0,a.c4=void 0,a.A4=void 0,a.v4=new QC(0,1/0),a.l4=void 0,a.S4=!1,a.E4=function(){a._o(new sa(MR.oJ))},a.P4=function(){a._o(new sa(MR.aJ))},a.x4=function(){a.T4()},a.n3=function(){a.WB.n3()},a.I4=s,a.JG=a.I4.wp(),a.JG.addEventListener("sourceclose",a.E4),a.JG.addEventListener("sourceopen",a.P4),a.WB.bn([oa.Jy,oa.Oy],a.x4),a.y4=new nN(a,r,a.WB,o),a}It(n,t);var i=n.prototype;return i.d4=function(t){if(S(t)||t<0)throw new p("Invalid duration");this.f4()?this._4(t):this.l4=t},i._4=function(t){var n=t===1/0;if(n&&this.JG.setLiveSeekableRange){var i=k.pow(2,39);this.JG.setLiveSeekableRange(0,i)}this.JG.duration=n?sN?1/0:er:t,this.l4=void 0},i.m4=function(t,n,i,r){this.v4=new QC(t,n,!!i,!!r)},i.xj=function(){var t=this;return Zt((function(){var n,i,r,e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:return n=t.MT,i=ho(n.g4,(function(t){return Fs(t.Mk,"audio")})),r=ho(n.g4,(function(t){return Fs(t.Mk,"video")})),t.$T.disableRemotePlayback=!0,[4,t.w4()];case 1:return h.sent(),i&&(e=new XR,t.y4.N3(e),s=null!=(u=t.j2(i.Mk))?u:i.Mk,t.b4=t.JG.addSourceBuffer(s),t.u4=qC(t,t.WB,i,qg.vE,t.b4,s,e),t.u4.bn(DR.tJ,t.n3)),r&&(o=new XR,t.y4.N3(o),c=null!=(a=t.j2(r.Mk))?a:r.Mk,t.A4=t.JG.addSourceBuffer(c),t.c4=qC(t,t.WB,r,qg.mE,t.A4,c,o),t.c4.bn(DR.tJ,t.n3)),t.vJ.$n(t,n),[2]}}))}))()},i.w4=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.kJ.call(n,n.JG)];case 1:return i.sent(),"open"===n.rI?[3,3]:[4,ql(n.JG,"sourceopen")];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))()},i.f4=function(){if("open"!==this.rI)return!1;var t=this.u4&&this.u4.va,n=this.c4&&this.c4.va;return!(t||n)},i.a3=function(){this.S4=!0,this.u4&&this.u4.a3(),this.c4&&this.c4.a3(),this.S4=!1,this.T4()},i.J2=function(){this.u4&&this.u4.J2(),this.c4&&this.c4.J2()},i.dJ=function(n){var i=ho(n.g4,(function(t){return Fs(t.Mk,"audio")})),r=ho(n.g4,(function(t){return Fs(t.Mk,"video")}));if(this.u4){if(!i)return!1;if(!this.u4.dJ(i))return!1}else if(i)return!1;if(this.c4){if(!r)return!1;if(!this.c4.dJ(r))return!1}else if(r)return!1;return!!t.prototype.dJ.call(this,n)},i._J=function(n){var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return r=ho(n.g4,(function(t){return Fs(t.Mk,"audio")})),e=ho(n.g4,(function(t){return Fs(t.Mk,"video")})),u=[],i.u4&&u.push(i.u4._J(r)),i.c4&&u.push(i.c4._J(e)),[4,et.all(u)];case 1:return s.sent(),[4,t.prototype._J.call(i,n)];case 2:return s.sent(),[2]}}))}))()},i.mJ=function(n){t.prototype.mJ.call(this,n)},i.Xw=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.JG.removeEventListener("sourceclose",n.E4),Gn.Mm?[4,n.xJ()]:[3,2];case 1:i.sent(),i.label=2;case 2:return n.u4?[4,n.u4.Xw()]:[3,4];case 3:if(i.sent(),n.u4=void 0,Qs()&&(Gn.Mm||Gn.Cm))try{n.JG.removeSourceBuffer(n.b4)}catch(t){}n.b4=void 0,i.label=4;case 4:return n.c4?[4,n.c4.Xw()]:[3,6];case 5:if(i.sent(),n.c4=void 0,Qs()&&(Gn.Mm||Gn.Cm))try{n.JG.removeSourceBuffer(n.A4)}catch(t){}n.A4=void 0,i.label=6;case 6:return n.$T.src&&URL.revokeObjectURL(n.$T.src),n.$T.disableRemotePlayback=!1,n.WB.vn([oa.Jy,oa.Oy],n.x4),n.y4.yn(),Gn.Cm?[4,n.xJ()]:[3,8];case 7:i.sent(),i.label=8;case 8:return[4,t.prototype.Xw.call(n)];case 9:return i.sent(),[2]}}))}))()},i.R3=function(){var t=this,n=this.MT,i=n.g4.map((function(n){return Fs(n.Mk,"audio")&&t.u4?t.u4.kd:Fs(n.Mk,"video")&&t.c4?t.c4.kd:n}));this.MT=ns({},n,{g4:i})},i.u3=function(){this.S4||this.T4()},i.T4=function(){this.R4&&this.f4()&&(this.JG.endOfStream(),this.l4=void 0,this._o(new sa(MR.nJ)),this.WB.n3())},i.e3=function(){this.f4()&&(this.RJ?this.T4():void 0!==this.l4&&this._4(this.l4))},i.DJ=function(t){return this.y4.DJ(t)},i.NJ=function(){return!0},i.j2=function(t){return cN(this.I4,t)},n.MJ=function(t){var n=Or(t.C4);if(void 0===n)return!1;if("function"!=typeof n.isTypeSupported)return!1;for(var i=new Mr(t.C4),r=0,e=t.g4;r<e.length;r++){if(void 0===cN(i,e[r].Mk))return!1}return!0},Nt(n,[{key:"h4",get:function(){return this.u4}},{key:"a4",get:function(){return this.c4}},{key:"ct",get:function(){if(this.l4)return this.l4;var t=this.JG.duration;return t===er?1/0:t}},{key:"wR",get:function(){return uN?iN(this):function(t,n){var i=n;return i.V>0&&t.RJ&&(i=i.tB(SA.mB(i.Tn(i.V-1)))),i}(this,SA.Cn(this.$T.buffered))}},{key:"IJ",get:function(){var t;return null==(t=this.u4)?void 0:t.wR}},{key:"CJ",get:function(){var t;return null==(t=this.c4)?void 0:t.wR}},{key:"hI",get:function(){return this.v4.I3().jn(new SA([0,this.ct],[!0,!0]))}},{key:"RJ",get:function(){return(!this.u4||this.u4.RJ())&&(!this.c4||this.c4.RJ())}},{key:"rI",get:function(){return this.JG.readyState}},{key:"R4",get:function(){if(!this.RJ)return!1;var t=this.wR;return 0!==t.V&&t.Sn(t.V-1)<=this.WB.ER}}]),n}(OR);function cN(t,n){var i=Mv(n),r=ZC(i),e="audio/mp4"===i.Tw,u=e&&1===r.length&&"mp4a.40.34"===r[0];if(t.bp(n)&&(!u||!Gn.eg))return n;if(u)for(var s=['audio/mp4; codecs="mp3"',"audio/mpeg"],o=0;o<s.length;o++){var a=s[o];if(t.bp(a))return a}if(e&&1===r.length&&"flac"===r[0].toLowerCase())for(var c=["flac","fLaC","FLAC"],h=0;h<c.length;h++){var f='audio/mp4; codecs="'+c[h]+'"';if(t.bp(n))return f}}F(),Tt(),Dt(),Rt(),F(),Tt(),Rt();var hN=function(t){function n(n){var i;return(i=t.call(this,oa.Oy)||this).currentTime=n,i}return It(n,t),n}(sa),fN=[oa.ub,oa.Yy,oa.Jy,oa.Oy,oa.ho,oa.zy],vN=function(t){function n(n,i,r,e,u,s,o,a,c,h,f){var v;return(v=t.call(this)||this).uZ=n,v.MA=i,v.B4=r,v.dZ=e,v.cZ=u,v.lZ=s,v.fZ=o,v.zA=a,v.O4=c,v.N4=h,v.L4=f,v}It(n,t);var i=n.prototype;return i.Rb=function(t,n,i){this.uZ!==t&&(this.uZ=t,this.N4=n,i&&!this.cZ?(this.L4=!0,this._o(new hN(this.ER))):(this.L4=!1,this.cZ=!0,this._o(new lT(this.ER))))},i.EI=function(){this.dZ||(this.dZ=!0,this._o(new cT(this.ER)))},i.xI=function(){this.dZ&&(this.dZ=!1,this._o(new hT(this.ER)))},i.Xw=function(){this.Ro()},Nt(n,[{key:"ER",get:function(){return this.uZ}},{key:"D4",get:function(){return this.N4}},{key:"M4",get:function(){return this.L4}},{key:"ct",get:function(){return this.MA}},{key:"PR",get:function(){return this.B4}},{key:"KR",get:function(){return this.dZ}},{key:"rI",get:function(){return this.O4}},{key:"uI",get:function(){return this.cZ}},{key:"ZR",get:function(){return this.lZ},set:function(t){this.ZR!==t&&(this.lZ=t,this._o(new wT(this.ER,this.gI)))}},{key:"QR",get:function(){return this.fZ},set:function(t){this.QR!==t&&(this.fZ=t,this._o(new vT(this.ER,this.QR)))}},{key:"gI",get:function(){return this.zA},set:function(t){this.gI!==t&&(this.zA=t,this._o(new wT(this.ER,this.gI)))}}]),n}(ra);function dN(t){return new vN(t.ER,t.ct,t.PR,t.KR,t.uI,t.ZR,t.QR,t.gI,t.rI,!1,t.M4)}function lN(t,n){n.ct===t.ct||S(n.ct)&&S(t.ct)||t._o(new fT(t.ct)),t.ZR=n.ZR,t.gI=n.gI,t.QR=n.QR,n.KR?t.EI():t.xI().catch(bi),n.ER!==t.ER||n.rI>bp.eO&&t.rI===bp.eO?t.Rb(n.ER,n.D4,n.M4):!n.uI&&t.uI?t._o(new lT(t.ER)):n.uI&&!t.uI&&t.rI>=bp.iO&&t._o(new gT(t.ER)),!n.PR&&t.PR&&t._o(new dT(t.ER))}F(),Tt(),Rt(),F(),Tt(),Dt(),Rt();var gN=function(t){function n(n){var i;return(i=t.call(this)||this).RW=bp.eO,i.W4=function(){i.V4()},i.WB=n,i}It(n,t);var i=n.prototype;return i.F4=function(t){this.RW!==t&&(this.RW=t,this._o(new _p(this.WB.ER,t)))},i.V4=function(){this.F4(this.oI())},i.nr=function(){this.F4(bp.eO)},i.Xw=function(){this.Ro()},Nt(n,[{key:"rI",get:function(){return this.oI()}}]),n}(ra);F(),Tt(),Rt();var wN=["emptied","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","timeupdate","progress","seeking","seeked"],mN=function(t){function n(n){var i;i=t.call(this,n)||this;for(var r=0;r<wN.length;r++){var e=wN[r];i.WB.jG.addEventListener(e,i.W4)}return i}It(n,t);var i=n.prototype;return i.oI=function(){var t=this.WB.jG.readyState;return t>bp.iO&&this.WB.U4?bp.iO:(this.WB.jG.seeking&&t>bp.Xn&&(t=bp.Xn),t)},i.Xw=function(){for(var n=0;n<wN.length;n++){var i=wN[n];this.WB.jG.removeEventListener(i,this.W4)}t.prototype.Xw.call(this)},n}(gN);F(),Tt();var yN=function(t){function n(n){var i;(i=t.call(this,n)||this).WB.bn([oa.Jy,oa.Oy],i.W4);for(var r=0;r<wN.length;r++){var e=wN[r];i.WB.jG.addEventListener(e,i.W4)}return i}It(n,t);var i=n.prototype;return i.oI=function(){if(this.WB.jG.readyState===bp.eO)return bp.eO;var t=this.G4(),n=t?t.Tn-t.Sn:0;if(!t)return bp.Xn;var i=this.WB.QR;return this.H4()||n>=3*i?bp.nO:n>=3?bp.sO:bp.iO},i.G4=function(){var t=this.WB.ER,n=this.WB.wR.$L(.04),i=n.sB(t);if(!(i<0))return{Sn:t,Tn:n.Tn(i)}},i.H4=function(){if(this.WB.PR)return!0;var t=this.WB.ct,n=this.G4();return!!n&&t-n.Tn<=.16666666666666666},i.Xw=function(){this.WB.vn([oa.Jy,oa.Oy],this.W4);for(var n=0;n<wN.length;n++){var i=wN[n];this.WB.jG.removeEventListener(i,this.W4)}t.prototype.Xw.call(this)},n}(gN);F(),Tt(),Rt(),F(),Tt(),Rt();var pN=[yp.iC,oa.ho,oa.zy,oa.Jy,oa.Qy,oa.Oy,oa.Vy,oa.Dy,Uy.fa],_N=function(t){function n(n){var i;return(i=t.call(this)||this).q4=!1,i.pK=function(){i.ir()},i.AW=n,i.AW.bn(pN,i.pK),i}It(n,t);var i=n.prototype;return i.Z4=function(){return(!this.AW.M4||!this.AW.X4)&&this.AW.rI<bp.sO},i.z4=function(){return!this.AW.uI&&!(this.AW.KR||this.AW.PR||this.AW.lt||this.Z4())},i.ir=function(){var t=this.q4;this.q4=this.z4(),!t&&this.q4&&this._o(new Ip(this.AW.ER))},i.nr=function(){this.q4=!1},i.Xw=function(){this.Ro(),this.AW.vn(pN,this.pK)},n}(ra),bN=function(t){function n(n){var i;return(i=t.call(this,n)||this).Y4=!1,i.LW=function(){i.Y4=!0,i.ir()},i.$T=n.jG,i.$T.addEventListener(yp.UL,i.LW),i}It(n,t);var i=n.prototype;return i.z4=function(){return this.Y4&&t.prototype.z4.call(this)},i.ir=function(){this.Y4&&(this.$T.paused||this.$T.ended||this.$T.error)&&(this.Y4=!1),t.prototype.ir.call(this)},i.nr=function(){t.prototype.nr.call(this),this.Y4=!1},i.Xw=function(){this.$T.removeEventListener(yp.UL,this.LW),t.prototype.Xw.call(this)},n}(_N);F(),Tt(),Rt();var kN=function(t){function n(n){var i;return(i=t.call(this,Uy.fa)||this).lt=n,i}return It(n,t),n}(sa);function AN(t,n){return t.WO<=n&&t.UO>n}function TN(t,n){return function(t,n){return oo(t.WO,n.WO,Ww)}(t,n)||function(t,n){return oo(t.UO,n.UO,Ww)}(t,n)}function SN(t,n){return function(t,n){return oo(t.YO,n.YO,Ww)}(t,n)||function(t,n){return oo(t.KO,n.KO,Ww)}(t,n)}function EN(t,n,i){var r=function(t,n,i,r,e,u,s){void 0===e&&(e=!1),void 0===u&&(u=0),void 0===s&&(s=t.length);for(var o=u,a=s-1;o<=a;){var c=o+(a-o>>1),h=r(i(t[c]),n);if(h<0)o=c+1;else if(h>0)a=c-1;else{if(!(e&&c>u&&0===r(i(t[c-1]),n)))return c;a=c-1}}return~o}(t,n,ki,i,!0);if(r<0)return r;for(;r<t.length&&i(n,t[r])===eo.eh;r++)if(t[r].sF(n))return r;return-(r+1)}function IN(t,n,i){var r=EN(t,n,i);return r>=0?r:-(r+1)}function RN(t){var n=t.Ht;if(!n)return-1;if(t instanceof Xw)return n.K4(t);var i=n.L;if(!i)return-1;var r=EN(i.lC,t,TN);return r>=0?r:-1}function CN(t,n){var i=function(t,n,i){for(var r=t.length,e=n.length,u=0,s=0,o=[],a=[];u<r&&s<e;){var c=t[u],h=n[s];c===h?(u++,s++):i(h,c)<=0?(o.push(h),s++):(a.push(c),u++)}for(;u<r;)a.push(t[u]),u++;for(;s<e;)o.push(n[s]),s++;return{j4:o,Q4:a}}(t,n,TN);return function(t,n){for(var i=n.length,r=0;r<i;r++)t[r]=n[r];t.length=i}(t,n),i}F(),Tt(),Dt(),Rt(),F(),Tt(),F(),Tt(),F(),Tt(),Dt();var NN=function(){function t(t){this.eu=void 0,this.J4=t}var n=t.prototype;return n.ka=function(){return function(t){for(var n=[],i=0;i<t.V;i++)n[i]=t.Lb(i).wa;return n.item=function(n){var i=0|n,r=t.Lb(i);return r&&r.wa||void 0},b.defineProperty(n,"constructor",{value:Mw}),n}(this)},n.EO=function(t){for(var n=this.J4,i=n.length-1;i>=0;i-=1){var r=n[i];if(t.sF(r))return!0}return!1},n.Lb=function(t){return this.J4[t]},Nt(t,[{key:"lC",get:function(){return this.J4}},{key:"V",get:function(){return this.J4.length}},{key:"wa",get:function(){if(this.eu){var t=this.J4;this.eu.length=t.length;for(var n=0;n<t.length;n++)this.eu[n]=t[n].wa}else this.eu=this.ka();return this.eu}}]),t}();F(),Tt(),Rt();var DN=function(t){function n(n,i){var r;return(r=t.call(this,Tg.iC)||this).Ht=n,r.rI=i,r}return It(n,t),n.prototype.ka=function(){return new PN(this.Ht.wa,this.rI)},n}(mg),PN=function(t){function n(n,i){var r;return(r=t.call(this,"readystatechange")||this).track=n,r.readyState=i,r}return It(n,t),n}(yg);F(),Tt(),Rt();var xN=function(t){function n(n){var i;return(i=t.call(this,Tg.nC)||this).Ht=n,i}return It(n,t),n.prototype.ka=function(){return new LN(this.Ht.wa)},n}(mg),LN=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return It(n,t),n}(yg);F(),Tt(),Rt();var MN=function(t){function n(n){var i;return(i=t.call(this,Tg.HI)||this).FO=n,i}return It(n,t),n.prototype.ka=function(){return new ON(this.FO.wa)},n}(mg),ON=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return It(n,t),n}(yg);F(),Tt(),Rt();var BN=function(t){function n(n){var i;return(i=t.call(this,Tg.XI)||this).FO=n,i}return It(n,t),n.prototype.ka=function(){return new VN(this.FO.wa)},n}(mg),VN=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return It(n,t),n}(yg),FN=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return(h=t.call(this)||this).IO=vw(),h.b_=!1,h.Xo=Vy.Mh,h.O4=Aw.NONE,h.c5=void 0,h.J4=[],h.l5=[],h.a5=[],h.m5=0,h.u5=0,h.zS=i||"",h.n5=a||"",h.r5=n,h.LA=e||"",h.b_=Boolean(u),h.s5=Boolean(o),h.Sp=s||Tw.DEFAULT,h.CO=r||"",h.o5=c||[],h.e5=new NN(h.J4),h.t5=new NN(h.a5),h}It(n,t);var i=n.prototype;return i.i5=function(t){return ho(this.e5.lC,(function(n){return n.o===t}))},i.ka=function(){return Zy(this)},i.h5=function(t){var n=Fy(t);n!==this.CE&&(this.Xo=n,n===Vy.Mh&&(this.a5.forEach((function(t){t.so=!1})),bo(this.a5),this.u5=0),this._o(new ow(this)))},i._W=function(t){if(t&&!t.Ht){var n=EN(this.l5,t,SN);if(!(n>=0)){t.Ht=this;var i=-(n+1);this.l5.splice(i,0,t);var r=IN(this.L.lC,t,TN);this.d5(t,r),this._o(new MN(t))}}},i.d5=function(t,n){this.J4.splice(n,0,t),this.f5(n),t.oF=n,n<this.u5&&(this.u5=n)},i.sW=function(t){if(t&&t.Ht===this){var n=this.K4(t);if(!(n<0)){t.so=!1;var i=this.a5,r=EN(i,t,TN);r>=0&&mo(i,r);var e=EN(this.l5,t,SN);e>=0&&mo(this.l5,e),this._5(t,n),this._o(new BN(t))}}},i._5=function(t,n){mo(this.J4,n),this.f5(n),t.oF=-1,this.u5>n&&--this.u5},i.JO=function(t){if(t&&t.Ht===this){var n=this.K4(t);if(!(n<0)){this._5(t,n);var i=IN(this.L.lC,t,TN);this.d5(t,i);var r=lo(this.a5,(function(n){return n===t}));if(r>=0){mo(this.a5,r);var e=IN(this.a5,t,TN);this.a5.splice(e,0,t)}}}},i.v5=function(t,n){var i=this.a5,r=this.J4,e=this.u5,u=!1,s=1/0;n&&(e=0);for(var o=i.length-1;o>=0;o--){var a=i[o];AN(a,t)?a.UO<s&&(s=a.UO):(u=!0,mo(i,o))}for(;e<r.length&&r[e].WO<=t;){var c=r[e];AN(c,t)&&(po(i,c)||(u=!0,i.push(c)),c.UO<s&&(s=c.UO)),e++}return e<r.length&&r[e].WO<s&&(s=r[e].WO),u&&no(i,TN),this.u5=e,s},i.K4=function(t){return(-1===t.oF||t.oF>=this.m5)&&this.g5(),t.oF},i.g5=function(){for(var t=this.J4,n=this.m5;n<t.length;n++)t[n].oF=n;this.m5=t.length},i.f5=function(t){t<this.m5&&(this.m5=k.max(t,0))},i.OC=function(t){this.FC||(this.CE=t)},i.yn=function(){this.Ro();for(var t=this.J4.slice(),n=0;n<t.length;n++){t[n].yn()}bo(this.J4),bo(this.l5),bo(this.a5)},Nt(n,[{key:"q",get:function(){return this.t5}},{key:"L",get:function(){return this.e5}},{key:"gW",get:function(){return this.b_},set:function(t){this.b_=t}},{key:"FC",get:function(){return this.s5}},{key:"wa",get:function(){return this.eu||(this.eu=this.ka()),this.eu}},{key:"o",get:function(){return this.zS}},{key:"IC",get:function(){return this.IO}},{key:"BC",get:function(){return this.n5},set:function(t){this.n5=t}},{key:"Lt",get:function(){return this.r5}},{key:"Ch",get:function(){return this.CO},set:function(t){t!==this.CO&&(this.CO=t,this._o(new cw(this)))}},{key:"gs",get:function(){return this.LA}},{key:"DC",get:function(){return this.o5}},{key:"CE",get:function(){return this.Xo},set:function(t){this.h5(t)}},{key:"rI",get:function(){return this.O4},set:function(t){this.O4!==t&&(this.O4=t,this._o(new DN(this,this.O4)))}},{key:"VC",get:function(){return this.c5},set:function(t){this.c5=t}},{key:"Tw",get:function(){return this.Sp},set:function(t){this.Sp!==t&&(this.Sp=t,this._o(new xN(this)))}}]),n}(ra);F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Rt();var UN=function(t){function n(n,i){var r;return(r=t.call(this,Dw.rO,n)||this).oV=i,r}return It(n,t),n.prototype.ka=function(){return new WN(this.FO.wa)},n}(Pw),WN=function(t){function n(n){return t.call(this,"enter",n)||this}return It(n,t),n}(xw);F(),Tt(),Rt();var ZN=function(t){function n(n,i){var r;return(r=t.call(this,Dw.oO,n)||this).oV=i,r}return It(n,t),n.prototype.ka=function(){return new XN(this.FO.wa)},n}(Pw),XN=function(t){function n(n){return t.call(this,"exit",n)||this}return It(n,t),n}(xw);F(),Tt(),Rt();var GN=function(t){function n(n){var i;return(i=t.call(this,Tg.KI)||this).FO=n,i}return It(n,t),n.prototype.ka=function(){return new HN(this.FO.wa)},n}(mg),HN=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return It(n,t),n}(yg);F(),Tt(),Rt();var zN=function(t){function n(n){var i;return(i=t.call(this,Tg.QI)||this).FO=n,i}return It(n,t),n.prototype.ka=function(){return new YN(this.FO.wa)},n}(mg),YN=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return It(n,t),n}(yg),jN=function(t){function n(n){var i;return(i=t.call(this)||this).tF=void 0,i.QO=void 0,i.eu=void 0,i.eo=!1,i.w5=function(){i.so=!0},i.y5=function(){i.so=!1},i.IO=mw(),i.p5=n,i.YO=n.startTime,i.KO=n.endTime,i.p5.addEventListener("enter",i.w5),i.p5.addEventListener("exit",i.y5),i}It(n,t);var i=n.prototype;return i.ka=function(){return Lw(this)},i.sF=function(t){return this===t||Dg(this,t)&&Zw(this,t)&&this.nF(t)},i.nF=function(t){return Ng(this.U,t.U)},i.yn=function(){this.Ro(),this.p5.removeEventListener("enter",this.w5),this.p5.removeEventListener("exit",this.y5)},Nt(n,[{key:"IC",get:function(){return this.IO}},{key:"WO",get:function(){return this.p5.startTime},set:function(t){this.p5.startTime=t}},{key:"UO",get:function(){return this.p5.endTime},set:function(t){this.p5.endTime=t}},{key:"U",get:function(){return this.tF},set:function(t){this.tF=t}},{key:"eF",get:function(){return!!this.p5.pauseOnExit},set:function(t){this.p5.pauseOnExit=!!t}},{key:"Ht",get:function(){return this.QO},set:function(t){this.QO=t}},{key:"o",get:function(){return this.p5.id||""}},{key:"wa",get:function(){return this.eu||(this.eu=this.ka()),this.eu}},{key:"so",get:function(){return this.eo},set:function(t){this.so!==t&&(this.eo=t,t?(this._o(new UN(this,this.WO)),this.QO&&this.QO._o(new GN(this))):(this._o(new ZN(this,this.UO)),this.QO&&this.QO._o(new zN(this))))}}]),n}(ua);F(),Tt(),Rt();var KN=function(t){function n(n){var i;return(i=t.call(this,Tg.$I)||this).Ht=n,i}return It(n,t),n.prototype.ka=function(){return new qN(this.Ht.wa)},n}(mg),qN=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return It(n,t),n}(yg);function JN(t){if(t){var n=t.THEOplayerVTTRegion;return n||(n=new QN(t),t.THEOplayerVTTRegion=n),n}}F(),Tt(),Dt(),Rt(),F(),Tt(),Dt();var QN=function(){function t(t){this.eu=void 0,this.A5=t}return Nt(t,[{key:"b5",get:function(){return this.A5}},{key:"o",get:function(){return this.A5.id||""}},{key:"ji",get:function(){return+this.A5.width||0},set:function(t){this.A5.width=t||0}},{key:"hF",get:function(){return+this.A5.lines||0},set:function(t){this.A5.lines=t||0}},{key:"aF",get:function(){return+this.A5.regionAnchorX||0},set:function(t){this.A5.regionAnchorX=t||0}},{key:"uF",get:function(){return+this.A5.regionAnchorY||0},set:function(t){this.A5.regionAnchorY=t||0}},{key:"lF",get:function(){return+this.A5.viewportAnchorX||0},set:function(t){this.A5.viewportAnchorX=t||0}},{key:"dF",get:function(){return+this.A5.viewportAnchorY||0},set:function(t){this.A5.viewportAnchorY=t||0}},{key:"cF",get:function(){return this.A5.scroll||""}},{key:"wa",get:function(){return this.eu||(this.eu=qw(this)),this.eu}}]),t}();var $N=function(t){function n(n){return t.call(this,n)||this}It(n,t);var i=n.prototype;return i.ka=function(){return Ow(this)},i.nF=function(t){return Gw(this,t)},Nt(n,[{key:"U",get:function(){return this.p5.text},set:function(t){this.p5.text=t}},{key:"Pt",get:function(){return this.p5.vertical||""},set:function(t){this.p5.vertical=t||""}},{key:"qO",get:function(){return this.p5.snapToLines},set:function(t){this.p5.snapToLines=t}},{key:"HO",get:function(){return this.p5.line},set:function(t){this.p5.line=t}},{key:"Nb",get:function(){return+this.p5.size},set:function(t){this.p5.size=sr(t,0,100)}},{key:"wa",get:function(){return this.eu||(this.eu=this.ka()),this.eu}}]),n}(jN),tD=function(t){function n(n){return t.call(this,n)||this}return It(n,t),Nt(n,[{key:"zO",get:function(){return JN(this.p5.region)}},{key:"ZO",get:function(){return this.p5.lineAlign||"start"},set:function(t){this.p5.lineAlign=t||"start"}},{key:"fo",get:function(){return this.p5.position},set:function(t){this.p5.position=t}},{key:"XO",get:function(){return this.p5.positionAlign||"auto"},set:function(t){this.p5.positionAlign=t||"auto"}},{key:"GO",get:function(){return this.p5.align||"center"},set:function(t){this.p5.align=t||"center"}}]),n}($N),nD=function(t){function n(n){return t.call(this,n)||this}return It(n,t),Nt(n,[{key:"zO",get:function(){return JN(this.b5)}},{key:"b5",get:function(){return function(t,n){if(void 0!==n){var i=t&&t.regions;return i&&i.getRegionById(n)||void 0}}(this.p5.track,this.p5.regionId)}},{key:"ZO",get:function(){return function(t){return"middle"===t?"center":t}(this.p5.lineAlign||"start")},set:function(t){this.p5.lineAlign=function(t){return"center"===t?"middle":t}(t||"start")}},{key:"fo",get:function(){return this.p5.position},set:function(t){this.p5.position=function(t,n){return Nw(t,n)}(t,this.GO)}},{key:"XO",get:function(){return function(t){return Rw[t]}(this.p5.positionAlign||"middle")},set:function(t){this.p5.positionAlign=function(t,n){return Iw[Cw(t,n)]}(t||"center",this.GO)}},{key:"GO",get:function(){return function(t){return"middle"===t?"center":t}(this.p5.align||"middle")},set:function(t){this.p5.align=function(t){return"center"===t?"middle":t}(t||"center")}}]),n}($N);function iD(t,n){return t.U===n.U}function rD(t,n){if(0!==n.length){var i=n.length-1;if(n[i].WO<t.WO)eD(n,i,t.WO);else{var r=n[0];if(r.WO>t.WO)t.UO=r.WO;else{var e=EN(n,t,TN);if(!(e>=0)){var u=-(e+1),s=u-1;if(s>=0)n[s].WO<t.WO&&eD(n,s,t.WO);if(u<n.length){var o=n[u];t.UO=o.WO}}}}}}function eD(t,n,i){for(var r=t[n].WO,e=n;e>=0&&t[e].WO===r;e--)t[e].UO=i}function uD(t){return Lw(t)}F(),Tt(),F(),Tt(),Dt(),Rt(),F(),Tt(),F(),Tt();var sD=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).S5=i,r}It(n,t);var i=n.prototype;return i.ka=function(){return uD(this)},i.nF=function(t){return iD(this,t)},Nt(n,[{key:"U",get:function(){return this.S5}},{key:"wa",get:function(){return this.eu||(this.eu=this.ka()),this.eu}}]),n}(jN);function oD(t){switch(t){case 0:case 1:case 2:case 3:return!0}return!1}function aD(t){switch(t){case 0:return ic;case 1:return sc;case 2:return oc;case 3:return gc}}function cD(t,n){var i=n.nc,r=t.byteLength,e=kc(t);return n.xb(r-i),Sc(e,i,r).buffer}function hD(t,n){return{id:t||"",data:n instanceof ArrayBuffer?n:void 0}}function fD(t,n,i){var r=Ua(t,n);if(oD(r)){var e=aD(r);return{id:i,language:tc(t,n,3),description:e(t,n),text:e(t,n)}}}function vD(t,n,i){var r=Ua(t,n);if(oD(r)){var e=aD(r);return{id:i,mimeType:ic(t,n),fileName:e(t,n),description:e(t,n),data:cD(t,n)}}}function dD(t,n,i){var r=Ua(t,n);if(oD(r)){for(var e=aD(r),u=[];n.nc<t.byteLength;)u.push({involvement:e(t,n),involvee:e(t,n)});return{id:i,entries:u}}}function lD(t,n,i){var r=Ua(t,n);if(oD(r)){for(var e=aD(r),u=tc(t,n,3),s=Ua(t,n),o=Ua(t,n),a=e(t,n),c=!1,h=[];n.nc<t.byteLength;){var f=void 0;if(1===r){var v=uc(t,n);void 0===v?v=c:c=v,f=oc(t,n,v)}else f=e(t,n);if(!f||n.nc+4>t.byteLength)break;h.push({text:f,timestamp:Ka(t,n)})}return{id:i,language:u,format:s,contentType:o,description:a,entries:h}}}function gD(t,n,i){return{id:i,ownerIdentifier:ic(t,n),identifier:cD(t,n)}}function wD(t,n,i){var r=Ua(t,n);if(oD(r)){var e=aD(r);return{id:i,language:tc(t,n,3),description:e(t,n),text:e(t,n)}}}function mD(t,n,i){var r=Ua(t,n);if(oD(r))return{id:i,text:aD(r)(t,n)}}function yD(t,n,i){return{id:i,url:ic(t,n)}}function pD(t,n,i){var r=Ua(t,n);if(oD(r)){var e=aD(r);return{id:i,description:e(t,n),text:e(t,n)}}}function _D(t,n,i){var r=Ua(t,n);if(oD(r))return{id:i,description:aD(r)(t,n),url:ic(t,n)}}function bD(t,n,i){switch(i){case"COM":return fD(t,n,i);case"GEO":return vD(t,n,i);case"IPL":return dD(t,n,i);case"PIC":return function(t,n,i){var r=Ua(t,n);if(oD(r)){var e,u,s=aD(r),o=tc(t,n,3),a=Ua(t,n),c=s(t,n);return"--\x3e"===o?(e=o,u=ic(t,n)):(e="image/"+o.toLowerCase(),u=cD(t,n)),{id:i,mimeType:e,pictureType:a,description:c,data:u}}}(t,n,i);case"SLT":return lD(t,n,i);case"TXX":return pD(t,n,i);case"UFI":return gD(t,n,i);case"ULT":return wD(t,n,i);case"WXX":return _D(t,n,i);default:if("T"===i.charAt(0))return mD(t,n,i);if("W"===i.charAt(0))return yD(t,n,i)}}function kD(t,n,i){switch(i){case"APIC":return function(t,n,i){var r=Ua(t,n);if(oD(r)){var e=aD(r),u=ic(t,n);return{id:i,mimeType:u,pictureType:Ua(t,n),description:e(t,n),data:"--\x3e"===u?ic(t,n):cD(t,n)}}}(t,n,i);case"COMM":return fD(t,n,i);case"COMR":return function(t,n,i){var r=Ua(t,n);if(oD(r)){var e,u,s=aD(r),o=ic(t,n),a=tc(t,n,8),c=ic(t,n),h=Ua(t,n),f=s(t,n),v=s(t,n);return n.nc<t.byteLength&&(e=ic(t,n)||"image/",u=cD(t,n)),{id:i,price:o,validUntil:a,contactURL:c,receivedAs:h,nameOfSeller:f,description:v,pictureMimeType:e,sellerLogo:u}}}(t,n,i);case"GEOB":return vD(t,n,i);case"IPLS":return dD(t,n,i);case"PRIV":return function(t,n,i){return{id:i,ownerIdentifier:ic(t,n),data:cD(t,n)}}(t,n,i);case"POSS":return function(t,n,i){return{id:i,format:Ua(t,n),position:Ka(t,n)}}(t,n,i);case"SYLT":return lD(t,n,i);case"TXXX":return pD(t,n,i);case"UFID":return gD(t,n,i);case"USER":return function(t,n,i){var r=Ua(t,n);if(oD(r)){var e=aD(r);return{id:i,language:tc(t,n,3),text:e(t,n)}}}(t,n,i);case"USLT":return wD(t,n,i);case"WXXX":return _D(t,n,i);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return mD(t,n,i);default:var r=i.charAt(0);if("T"===r)return mD(t,n,i);if("W"===r)return yD(t,n,i)}}F(),Tt(),F(),Tt();var AD=10;function TD(t,n){return(127&Ua(t,n))<<21|(127&Ua(t,n))<<14|(127&Ua(t,n))<<7|127&Ua(t,n)}function SD(t,n){switch(t){case 4:return{T5:Fa(n,0),k5:Fa(n,1),E5:Fa(n,2),x5:Fa(n,3)};case 3:return{T5:Fa(n,0),k5:Fa(n,1),E5:Fa(n,2)};case 2:return{T5:Fa(n,0),R5:Fa(n,1)}}}function ED(t,n,i){switch(i.jD){case 3:i.QD.k5&&function(t,n){var i=n.nc,r=Ka(t,n)+4,e=32768&Ya(t,n);n.Rb(i+r),e&&Ka(t,n)}(t,n);break;case 4:i.QD.k5&&function(t,n){var i=n.nc,r=TD(t,n);n.Rb(i+r)}(t,n)}}function ID(t,n){if(t.byteLength-n.nc<AD)return null;if(73!==Ua(t,n)||68!==Ua(t,n)||51!==Ua(t,n))return null;var i=Ua(t,n),r=Ua(t,n);if(!function(t){switch(t){case 2:case 3:case 4:return!0}return!1}(i))return null;var e=Ua(t,n),u=TD(t,n);return{jD:i,I5:r,QD:SD(i,e),C5:u}}function RD(t,n,i){switch(i){case 2:return function(t,n){if(!(n.nc+6>t.byteLength))return{o:tc(t,n,3),Nb:Ha(t,n,3)}}(t,n);case 3:return function(t,n){if(!(n.nc+10>t.byteLength)){var i=tc(t,n,4),r=Ka(t,n);Ua(t,n);var e=Ua(t,n);return{o:i,Nb:r,QD:{R5:Fa(e,0),P5:Fa(e,1),groupingIdentity:Fa(e,2)}}}}(t,n);case 4:return function(t,n){if(!(n.nc+10>t.byteLength)){var i=tc(t,n,4),r=TD(t,n);Ua(t,n);var e=Ua(t,n);return{o:i,Nb:r,QD:{groupingIdentity:Fa(e,1),R5:Fa(e,4),P5:Fa(e,5),T5:Fa(e,6),D5:Fa(e,7)}}}}(t,n)}}function CD(t){for(var n=kc(t),i=new E(n.byteLength),r=0,e=0;e<n.byteLength;e++){var u=n[e];255===u&&e++,i[r]=u,r++}return bc(Sc(i,0,r))}function ND(t,n){var i=n||new Rc,r=ID(t,i);if(!r)return null;var e=function(t,n,i){var r=[],e=n.nc,u=_c(t,e,e+i.C5),s=new Rc;switch(n.xb(i.C5),i.jD){case 2:case 3:i.QD.T5&&(u=CD(u))}ED(t,n,i);for(;s.nc<u.byteLength;){var o=DD(u,s,i);if(void 0===o)break;r.push(o)}return r}(t,i,r);return{XD:r,N5:e}}function DD(t,n,i){var r=RD(t,n,i.jD);if(void 0!==r&&0!==r.o.charCodeAt(0)&&0!==r.Nb){var e,u,s=n.nc,o=_c(t,s,s+r.Nb);switch(n.xb(r.Nb),i.jD){case 2:var a=r;e=bD(u=o,new Rc,a.o);break;case 3:var c=r,h=new Rc;!function(t,n,i){var r,e,u,s=i.QD;s.R5&&(r=Ka(t,n)),s.P5&&(e=Ua(t,n)),s.groupingIdentity&&(u=Ua(t,n))}(o,h,c),e=kD(u=_c(o,h.nc,o.byteLength),new Rc,c.o);break;case 4:var f=r,v=new Rc;f.QD.T5&&(o=CD(o)),function(t,n,i){var r,e,u,s,o=i.QD;o.groupingIdentity&&(r=Ua(t,n)),o.R5&&(e=Ka(t,n)),o.P5&&(u=Ua(t,n)),o.D5&&(s=TD(t,n))}(o,v,f),e=kD(u=_c(o,v.nc,o.byteLength),new Rc,f.o)}if(!e){var d=Ec(kc(u));e=hD(r.o,d.buffer)}return e}}F(),Tt();function PD(t){return Yn(t)&&"org.id3"===t.type&&Yn(t.value)}function xD(t){return function(t,n,i){return mD(t,n,i)}(new DataView(t.data),new Rc,t.key)}function LD(t){switch(t.key){case"APIC":case"PIC":return function(t){return{id:t.key,mimeType:t.type,pictureType:16,description:t.info,data:t.data}}(t);case"GEOB":case"GEO":return function(t){return{id:t.key,mimeType:t.type,fileName:t.name,description:t.info,data:t.data}}(t);case"PRIV":return function(t){return{id:t.key,ownerIdentifier:t.info,data:t.data}}(t);case"TXXX":case"TXX":return function(t){return{id:t.key,description:t.info,text:t.data}}(t);case"WXXX":case"WXX":return function(t){return{id:t.key,description:t.info,url:t.data}}(t);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return xD(t);default:var n=t.key.charAt(0);if("T"===n)return function(t){return{id:t.key,text:t.data}}(t);if("W"===n)return function(t){return{id:t.key,url:t.data}}(t)}return function(t){return hD(t.key,t.data)}(t)}F(),Tt(),F(),Tt();var MD=function(t){function n(n,i,r){var e;return void 0===r&&(r=!0),(e=t.call(this)||this).J4=[],e.a5=[],e.Xo=Vy.Mh,e.O4=Aw.NONE,e.c5=void 0,e.Sp=Tw.DEFAULT,e.U5=!1,e.H5=0,e.j5=function(){e.L5(),e.RO.removeEventListener("cuechange",e.j5)},e.G5=function(){e.CE!==Vy.Mh&&(e.K5(),e.v5(),e.J4.length&&e.B5(Aw.LOADING))},e.Q5=function(){e.B5(Aw.LOADED)},e.J5=function(){e.B5(Aw.ERROR)},e.RO=n,e.W5=r,e.RO.addEventListener("cuechange",e.j5),e.RO.addEventListener("cuechange",e.G5),e.M5=i,e.M5&&(e.c5=ml(e.M5.src),e.M5.addEventListener("load",e.Q5),e.M5.addEventListener("error",e.J5)),e.IO=vw(),e.CO=n.label||"",e.e5=new NN(e.J4),e.t5=new NN(e.a5),e.CE=e.O5,Ko((function(){e.G5(),e.B5(Aw.NONE)})),e}It(n,t);var i=n.prototype;return i.ka=function(){return Zy(this)},i._W=function(t){t.Ht!==this&&(t.Ht=this,this.RO.addCue(t.p5),this.G5())},i.sW=function(t){t.Ht===this&&(t.Ht=void 0,this.RO.removeCue(t.p5),this.G5())},i.i5=function(t){var n,i=null==(n=this.RO.cues)?void 0:n.getCueById(t);if(i){var r=OD(i);return r&&Jn(r)?r[0]:r}},i.nW=function(t){this.H5>=t||(this.H5=t,sp(this,t))},i.L5=function(){var t=this.CE;this.V5||t!==Vy.Qn?this.O5=t:this.O5=Vy.LC},i.Z5=function(){var t=this.CE,n=this.O5;t!==n&&(this.V5||t!==Vy.Qn||n!==Vy.LC)&&("metadata"===this.Lt&&n===Vy.Mh?this.CE=t:this.U5&&n===Vy.Mh&&t===Vy.Qn?this.O5=t:this.CE=n)},i.V4=function(t){this.O4!==t&&(this.O4=t,this._o(new DN(this,t)))},i.B5=function(t){var n=k.max(this.O4,this.F5,t);this.V4(n)},i.X5=function(t){var n=OD(t);if(n)return n;if(Jn(n=this.z5(t)))for(var i=0;i<n.length;i++){n[i].Ht=this}else n.Ht=this;return n},i.z5=function(t){var n=this.q5(t);return t.THEOplayerTextTrackCue=n,n},i.q5=function(t){return t.endTime<this.H5?[]:PD(t)?(this.Tw=Tw.ID3,function(t){var n;try{n=LD(t.value)}catch(t){n=hD("")}return new sD(t,n)}(t)):function(t){return t&&t.data instanceof ArrayBuffer}(t)?(this.Tw=Tw.ID3,function(t){var n=[];try{var i=ND(new DataView(t.data));if(i)for(var r=0,e=i.N5;r<e.length;r++){var u=e[r];n.push(new sD(t,u))}}catch(t){}return n}(t)):function(t){return"text"in t}(t)?(this.Tw=Tw.WEBVTT,function(t){return"regionId"in t}(t)?new nD(t):new tD(t)):new jN(t)},i.Y5=function(t){var n=[];if(!t)return n;for(var i=t.length,r=0;r<i;r++){var e,u=this.X5(null!=(e=t[r])?e:t.item(r));if(Jn(u))for(var s=0;s<u.length;s++){var o=u[s];n.push(o)}else n.push(u)}return n},i.K5=function(){for(var t=this.Y5(this.RO.cues),n=CN(this.J4,t),i=0,r=n.Q4;i<r.length;i++){var e=r[i];e.vn(Dw.oO,this.G5),e.vn(Dw.rO,this.G5),this._o(new BN(e))}for(var u=0,s=n.j4;u<s.length;u++){var o=s[u];o.bn(Dw.rO,this.G5),o.bn(Dw.oO,this.G5),this._o(new MN(o))}},i.v5=function(){for(var t=this.Y5(this.RO.activeCues),n=CN(this.a5,t),i=0,r=n.Q4;i<r.length;i++){r[i].so=!1}for(var e=0,u=n.j4;e<u.length;e++){u[e].so=!0}(n.j4.length||n.Q4.length)&&this._o(new KN(this))},i.OC=function(t){this.CE=t},i.yn=function(){this.Ro();for(var t=this.J4.slice(),n=0;n<t.length;n++){t[n].yn()}bo(this.J4),bo(this.a5),this.RO.removeEventListener("cuechange",this.j5),this.RO.removeEventListener("cuechange",this.G5),this.M5&&(this.M5.removeEventListener("load",this.Q5),this.M5.removeEventListener("error",this.J5),oi(this.M5))},Nt(n,[{key:"q",get:function(){return this.t5}},{key:"gW",get:function(){return this.M5?this.M5.default:void 0}},{key:"L",get:function(){return this.e5}},{key:"wa",get:function(){return this.eu||(this.eu=this.ka()),this.eu}},{key:"o",get:function(){return this.RO.id||this.M5&&this.M5.id||""}},{key:"IC",get:function(){return this.IO}},{key:"BC",get:function(){return this.RO.inBandMetadataTrackDispatchType||""}},{key:"Lt",get:function(){return this.RO.kind||zy.JV}},{key:"Ch",get:function(){return this.CO},set:function(t){t!==this.CO&&(this.CO=t,void 0!==this.M5&&(this.M5.label=t),this._o(new cw(this)))}},{key:"gs",get:function(){return this.RO.language||""}},{key:"CE",get:function(){return this.Xo},set:function(t){var n=this.CE;this.Xo=Fy(t),this.L5();var i=this.CE;n!==i&&this._o(new ow(this)),i!==Vy.Mh&&this.B5(Aw.LOADING)}},{key:"O5",get:function(){return Fy(this.RO.mode)},set:function(t){this.RO.mode=t}},{key:"PO",get:function(){return this.RO}},{key:"rI",get:function(){return this.O4}},{key:"F5",get:function(){return this.M5?+this.M5.readyState||Aw.NONE:Aw.LOADED}},{key:"VC",get:function(){return this.c5}},{key:"Tw",get:function(){return this.Sp},set:function(t){this.Sp!==t&&(this.Sp=t,this._o(new xN(this)))}},{key:"V5",get:function(){return this.W5},set:function(t){var n=this;this.W5=t,t&&(this.U5=!0,g((function(){n.U5=!1}),50)),this.L5()}}]),n}(ra);function OD(t){return null==t?void 0:t.THEOplayerTextTrackCue}F(),Tt(),Rt(),F(),Tt();function BD(t,n){return so(t.oV,n.oV)||function(t,n){return t.Ht===n.Ht?uo(RN(t),RN(n)):ep(t.Ht,n.Ht)}(t.FO,n.FO)||function(t,n){return t===n?eo.eh:t===Dw.rO?eo.Ow:eo.Bw}(t.type,n.type)}var VD=function(){function t(t,n){var i=this;this.Hl=[],this.i6=0,this.Pn=0,this.t6=[],this._6=[],this.s6=[],this.n6=!1,this.r6=!1,this.o6=0,this.w6=function(){i.i6=0,i.A6(),i.m6()},this.S6=function(){i.A6(),i.m6()},this.T6=function(){i.n6=!0,i.S6()},this.k6=function(){i.r6=!0,i.o6=0,i.e6()},this.h6=function(){i.a6(),i.A6(),i.m6()},this.l6=function(t){var n=t.FO;po(i._6,n)||i._6.push(n),i.b6(n),i.v6()},this.d6=function(t){var n=t.FO;wo(i.t6,n),wo(i._6,n),i.b6(n),i.v6()},this.f6=function(t){i.b6(t.FO),i.v6()},this.p6=n,this.na=t,t.bn(oa.hb,this.S6),t.bn(oa.ho,this.T6),t.bn(yp.UL,this.S6),t.bn(oa.zy,this.S6),t.bn(oa.Jy,this.k6),t.bn(oa.Qy,this.S6),this.v6()}var n=t.prototype;return n.nr=function(){bo(this.t6);for(var t=0,n=this.Hl.slice();t<n.length;t++){var i=n[t];this.it(i)}this.e6(),this.i6=0,this.Pn=0,bo(this.s6),this.n6=!1,this.r6=!1,this.o6=0},n.tt=function(t){po(this.Hl,t)||(this.Hl.push(t),t.bn(Tg.da,this.h6),t.CE!==Vy.Mh&&this.a6())},n.it=function(t){wo(this.Hl,t)&&(t.vn(Tg.da,this.h6),t.CE!==Vy.Mh&&this.a6())},n.a6=function(){var t=this.s6,n=this.Hl.filter((function(t){return t.CE!==Vy.Mh}));this.s6=n;for(var i=0;i<t.length;i++){var r=t[i];po(n,r)||this.u6(r)}for(var e=0;e<n.length;e++){var u=n[e];po(t,u)||this.c6(u)}this.o6=0},n.c6=function(t){if(t.bn(Tg.HI,this.l6),t.bn(Tg.XI,this.d6),t.bn(Tg.qI,this.f6),t.L.V>0){for(var n=0,i=t.L.lC;n<i.length;n++){var r=i[n];this._6.push(r)}this.v6()}},n.u6=function(t){if(t.vn(Tg.HI,this.l6),t.vn(Tg.XI,this.d6),t.vn(Tg.qI,this.f6),t.L.V>0){for(var n=0,i=t.L.lC;n<i.length;n++){var r=i[n];wo(this.t6,r),wo(this._6,r)}this.v6()}},n.m6=function(){this.na.uI||this.na.KR?this.e6():this.v6()},n.v6=function(){this.n6&&0!==this.s6.length&&(this.o6-this.na.ER>.25*this.na.QR||this.i6||(this.i6=this.p6.g6(this.w6)))},n.e6=function(){this.i6&&(this.p6.y6(this.i6),this.i6=0)},n.b6=function(t){0!==this.o6&&(t.so!==AN(t,this.na.ER)?this.o6=0:this.Pn<t.WO&&t.WO<this.o6?this.o6=t.WO:this.Pn<t.UO&&t.UO<this.o6&&(this.o6=t.UO))},n.A6=function(){if(this.n6&&0!==this.s6.length&&!this.na.uI){var t=this.s6,n=this.Pn,i=this.na.ER,r=i-n<-.1,e=this.r6||r;e&&i>n&&i-n<.1&&(e=!1),this.r6=!1;for(var u=[],s=1/0,o=0;o<t.length;o++){var a=t[o],c=a.v5(i,e);c<s&&(s=c);for(var h=0,f=a.q.lC;h<f.length;h++){var v=f[h];u.push(v)}}var d=this.t6.slice();if(e);else for(var l=0;l<t.length;l++){rp(t[l],n-yr,i,d)}for(var g=d.length-1;g>=0;g--)po(u,d[g])&&mo(d,g);var w=[];if(!e)for(var m=d.length-1;m>=0;m--){var y=d[m];y.WO>n&&y.UO<=i&&(w.push(y),mo(d,m))}for(var p=0,_=this._6;p<_.length;p++){var b=_[p];b.WO!==b.UO&&wo(w,b)}bo(this._6);for(var A=[],T=[],S=0;S<w.length;S++){var E=w[S];E.so||A.push(new UN(E,E.WO)),A.push(new ZN(E,k.max(E.WO,E.UO))),E.so=!1}for(var I=0;I<d.length;I++){var R=d[I];R.so&&(A.push(new ZN(R,k.max(R.WO,R.UO))),R.so=!1)}for(var C=0;C<u.length;C++){var N=u[C];N.so||(A.push(new UN(N,N.WO)),N.so=!0)}A.sort(BD);for(var D=0;D<A.length;D++){var P=A[D],x=P.FO;x._o(P);var L=x.Ht;L&&(P.type===Dw.rO?L._o(new GN(x)):L._o(new zN(x)),po(T,L)||T.push(L))}T.sort(ep);for(var M=0;M<T.length;M++){var O=T[M];O._o(new KN(O))}this.Pn=i,this.t6=u,this.o6=s}},n.yn=function(){this.nr(),this.na.vn(oa.hb,this.S6),this.na.vn(oa.ho,this.T6),this.na.vn(yp.UL,this.S6),this.na.vn(oa.zy,this.S6),this.na.vn(oa.Jy,this.k6),this.na.vn(oa.Qy,this.S6)},t}();F(),Tt();var FD=function(){function t(){}var n=t.prototype;return n.g6=function(t){return nI(t)},n.y6=function(t){iI(t)},t}(),UD=new FD,WD=function(t){function n(n,i){return void 0===i&&(i=UD),t.call(this,n,i)||this}return It(n,t),n}(VD);F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt();var ZD=function(t){function n(n,i,r){return t.call(this,n,1/0,i,!1,r)||this}return It(n,t),n.prototype.nF=function(t){return iD(this,t)},Nt(n,[{key:"wa",get:function(){return this.eu||(this.eu=uD(this)),this.eu}}]),n}(Xw);F(),Tt(),Rt(),F(),Tt(),Rt();var XD=function(t){function n(n,i,r){return void 0===r&&(r=Tw.DEFAULT),t.call(this,zy.eW,"",i||"","",!1,r,!1,n)||this}return It(n,t),n}(FN),GD=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Tw=Tw.ID3,r}It(n,t);var i=n.prototype;return i._W=function(n){rD(n,this.J4),t.prototype._W.call(this,n)},i.ka=function(){return Zy(this)},n}(XD),HD=function(t){function n(n){var i;return(i=t.call(this,n.inBandMetadataTrackDispatchType,n.label)||this).H5=0,i.G5=function(){i.CE!==Vy.Mh&&(i.K5(),i.B5(Aw.LOADED))},i.RO=n,i.RO.addEventListener("cuechange",i.G5),i.CE=i.O5,Ko((function(){i.G5()})),i}It(n,t);var i=n.prototype;return i.h5=function(n){t.prototype.h5.call(this,n),this.O5=this.CE},i._W=function(n){t.prototype._W.call(this,n),n.p5.track!==this.RO&&this.RO.addCue(n.p5)},i.sW=function(n){t.prototype.sW.call(this,n),n.p5.track===this.RO&&this.RO.removeCue(n.p5)},i.nW=function(t){this.H5>=t||(this.H5=t,sp(this,t))},i.B5=function(t){this.rI=k.max(this.rI,t)},i.K5=function(){var t=this.RO.cues;if(t){for(var n=t.length,i=[],r=[],e=0;e<n;e++){var u,s=null!=(u=t[e])?u:t.item(e);if(PD(s)&&s.endTime>=this.H5){var o,a=null!=(o=null==s?void 0:s.THEOplayerTextTrackCue)?o:new zD(s);i.push(a)}else r.push(s)}no(i,TN);for(var c=CN(this.L.lC.slice(),i),h=0;h<r.length;h++){var f=r[h];this.RO.removeCue(f)}for(var v=0,d=c.Q4;v<d.length;v++){var l=d[v];l.yn(),this.sW(l)}for(var g=0,w=c.j4;g<w.length;g++){var m=w[g];this._W(m)}}},i.yn=function(){this.RO.removeEventListener("cuechange",this.G5),t.prototype.yn.call(this)},Nt(n,[{key:"o",get:function(){return this.RO.id||""}},{key:"BC",get:function(){return this.RO.inBandMetadataTrackDispatchType||""}},{key:"gs",get:function(){return this.RO.language||""}},{key:"O5",get:function(){return Fy(this.RO.mode)},set:function(t){this.RO.mode=t}},{key:"PO",get:function(){return this.RO}}]),n}(GD),zD=function(t){function n(n){var i,r=n.startTime,e=LD(n.value);return(i=t.call(this,r,e,n.id)||this).p5=n,i.p5.THEOplayerTextTrackCue=i,i}return It(n,t),n.prototype.yn=function(){t.prototype.yn.call(this),this.p5.THEOplayerTextTrackCue=void 0},n}(ZD);function YD(t){return"TXXX"===t.id||"TXX"===t.id}F(),Tt(),Gt(),Rt(),qt(),F(),Tt();var jD=function(t){function n(n,i){var r,e;return r=t.call(this)||this,e=r,r.lW=n,r.x6=i,r.P6=es(),r.UG=Zt((function(t){var n;return Ht(this,(function(i){switch(i.label){case 0:return(n=t.Ht).Tw?[3,2]:[4,n.py(Tg.nC)];case 1:i.sent(),i.label=2;case 2:if(n.Tw!==Tw.ID3)return[2];i.label=3;case 3:return 0!==n.L.V?[3,5]:[4,n.py(Tg.HI)];case 4:return i.sent(),[3,3];case 5:return e.I6(n),[2]}}))})),r.GG=function(t){var n=t.Ht;if(n.Tw===Tw.ID3&&r.P6.has(n.IC)){var i=r.P6.get(n.IC);r.it(i),r.lW.mW(i),n.vn(Tg.HI,r.N6)}},r.N6=function(t){KD(t.FO)&&r.D6(t.FO)},r.E6(),r}It(n,t);var i=n.prototype;return i.E6=function(){this.x6.bn(pg.VI,this.UG),this.x6.bn(pg.UI,this.GG)},i.R6=function(){this.x6.vn(pg.VI,this.UG),this.x6.vn(pg.UI,this.GG)},i.I6=function(t){var n=t.L.lC[0];if(KD(n)){var i=function(t){var n=t.match(qD);if(!n)return;return{Ht:n[1],gs:n[2]}}(n.U.description),r=i.Ht,e=i.gs;if(!this.C6(r,e)){var u=this.lW.OI(zy.JV,t.o,r,e,!1,Tw.TTML);this.tt(u),this.P6.set(t.IC,u);for(var s=0,o=t.L.lC;s<o.length;s++){var a=o[s];KD(a)&&this.D6(a)}t.bn(Tg.HI,this.N6)}}},i.C6=function(t,n){return this.Z.lC.some((function(i){return i.Ch===t&&i.gs===n}))},i.D6=function(t){if(t.Ht)for(var n=this.P6.get(t.Ht.IC),i=Iy(t.U.text,n,{MV:0,LV:1/0,BV:t.WO}),r=0;r<i.length;r++){var e=i[r];n._W(e)}},i.nr=function(){var n=this;return Zt((function(){var i,r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:for(i=0,r=n.x6.lC;i<r.length;i++)r[i].vn(Tg.HI,n.N6);for(e=0,u=n.Z.lC;e<u.length;e++)s=u[e],n.lW.mW(s);return n.P6.clear(),[4,t.prototype.nr.call(n)];case 1:return o.sent(),[2]}}))}))()},i.yn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.R6(),[4,t.prototype.yn.call(n)];case 1:return i.sent(),[2]}}))}))()},n}(ap);function KD(t){return function(t){return YD(t)&&qD.test(t.description)}(t.U)}var qD=/^Track:(.+),Lang:(.+)$/;F(),Tt(),Gt(),Dt(),Rt(),at(),qt(),on(),F(),Tt();var JD=[oa.Ey,oa.Ty,oa.fb,oa.vb];F(),Tt(),Dt(),Rt();var QD=function(t){function n(n){var i;return(i=t.call(this,oa.Ty)||this).errorObject=n,i}return It(n,t),Nt(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(sa);F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Rt();var $D=function(t){function n(n){var i;return(i=t.call(this,oa.Ey)||this).M6=n,i}return It(n,t),n}(sa);F(),Tt(),Rt();var tP=function(t){function n(n){var i;return(i=t.call(this,"_b")||this).M6=n,i}return It(n,t),n}(sa),nP=new hd,iP=function(t){function n(n){var i;return(i=t.call(this,"Ws")||this).session=n,i}return It(n,t),n}(sa),rP=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).U6=n,e.V6=i,e.W6=r,e.O6=!1,e.z6=!1,e.GT=new Yo,e.B6=!1,e.oT=function(t){if(!e.GT.Uw.Fw)switch(t.bb){case"license-request":case"license-renewal":e.eU(t.wb,t.Ab).catch((function(t){return e.Ss(t)}));break;default:e.Ss(new Qg(td.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.bb))}},e.Z6=function(t){e.U6.pb.Ob((function(t,n){switch(t){case"usable":Kn.Gg((function(){e.z6=!0,e._o(new $D(n))}),100);break;case"expired":case"status-pending":default:break;case"output-restricted":case"internal-error":e._o(new tP(n))}})),e.B6=!0,e._o(t)},e.X6=function(t){e.Ss(new Qg(td.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},n.bn("wb",e.oT),n.bn(oa.vb,e.Z6),n.bn("lt",e.X6),n.qS.then((function(){return e.H6()}),(function(t){return e.Ss(t)})),e}It(n,t);var i=n.prototype;return i.tT=function(){var t=this;return this.O6=!0,nP.Qo((function(n){return t.F6(n)}),this.GT.Uw)},i.F6=function(t){var n=this;return Zt((function(){var i,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return s.trys.push([0,4,,5]),Vo(t),[4,n.V6.YW(t)];case 1:return s.sent(),[4,n.V6.KW(n.W6.xw,n.W6.Eb,t)];case 2:return i=s.sent(),[4,n.U6.tT(n.W6.xw,n.W6.Eb,i)];case 3:return s.sent(),[3,5];case 4:throw Fo(r=s.sent()),e=r instanceof jc?r.Hb:void 0,u=new Qg(td.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",r,void 0,void 0,void 0,void 0,e),n.Ss(u),u;case 5:return[2]}}))}))()},i.eU=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return c.trys.push([0,5,,6]),function(t){return xc(t,Hc())}(t)?[4,i.V6.cU(new E(t),i.GT.Uw)]:[3,2];case 1:return r=c.sent(),[3,4];case 2:return[4,i.V6.lU(new E(t),n,i.GT.Uw)];case 3:r=c.sent(),c.label=4;case 4:return[3,6];case 5:if(Bo(e=c.sent()))return[2];throw e;case 6:if(i.GT.Uw.Fw)return[2];u=i.G6,s=new Gc,i.G6=s,c.label=7;case 7:return c.trys.push([7,10,11,14]),[4,i.U6.ir(r)];case 8:return c.sent(),[4,$o(100)];case 9:return c.sent(),[3,14];case 10:throw o=c.sent(),a=o instanceof jc?o.Hb:void 0,new Qg(td.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",o,void 0,void 0,void 0,void 0,a);case 11:return void 0===u?[3,13]:[4,u.Ub];case 12:c.sent(),c.label=13;case 13:return s.Vb(),i.G6===s&&(i.G6=void 0),[7];case 14:return[2]}}))}))()},i.Ss=function(t){var n=t instanceof Qg?t:new Qg(td.CONTENT_PROTECTION_ERROR,t.message,t);this._o(new QD(n)),this.Ws()},i.H6=function(){this.U6.vn("wb",this.oT),this.U6.vn(oa.vb,this.Z6),this.U6.vn("lt",this.X6),this.z6=!1,this.B6=!1,this.GT.jw(),this._o(new iP(this))},i.Ws=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:t.Ro(),i.label=1;case 1:return void 0===(n=t.G6)?[3,3]:[4,n.Ub];case 2:i.sent(),i.label=3;case 3:if(t.G6!==n)return[3,1];i.label=4;case 4:return t.H6(),[4,t.U6.Ws().catch(bi)];case 5:return i.sent(),[2]}}))}))()},Nt(n,[{key:"L6",get:function(){return this.B6}}]),n}(ra),eP=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Y6=[],e.Q6=void 0,e.e9=[],e.i9=function(t){if(t.type===oa.vb)return null!=e.o9||(e.o9=new Xc),t.pb.Ob((function(t,n){e.o9.Bb(n,t)})),void(e.q6&&e._o(new ha(e.o9)));e.Ds(t)},e.s9=function(t){t.session.vn(JD,e.Ds),t.session.vn("Ws",e.s9),wo(e.Y6,t.session),e.o9=void 0},e.nT=n,e.uT=i,e.K6=r,e}It(n,t);var i=n.prototype;return i.qW=function(){return this.K6.qW()},i.j6=function(t){return this.Q6||(this.Q6=this.J6(t)),this.Q6},i.J6=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return Vo(t),[4,n.K6.cU(new E(Hc()),t)];case 1:if(i=r.sent(),Vo(t),!n.uT)throw new p("Invalid MediaKeys when setting ServerCertificate");return[4,n.uT.lT(i.buffer)];case 2:return r.sent(),[2]}}))}))()},i.t9=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:if(!n.uT)throw new p("Invalid MediaKeys when creating KeySession");e.label=1;case 1:return e.trys.push([1,,3,4]),n.e9.push(t),[4,n.uT.aT("temporary")];case 2:return i=e.sent(),r=new rP(i,n.K6,t),n.Y6.push(r),r.bn(JD,n.i9),r.bn("Ws",n.s9),[2,r];case 3:return wo(n.e9,t),[7];case 4:return[2]}}))}))()},i.n9=function(t){if(t.r9)return!1;for(var n=0,i=this.Y6;n<i.length;n++){if(uP(i[n].W6,t))return!0}for(var r=0,e=this.e9;r<e.length;r++){if(uP(e[r],t))return!0}return!1},i.yn=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.uT=void 0,t.Ro(),n=t.Y6.slice(),bo(t.Y6),[4,et.all(n.map((function(t){return t.Ws()})))];case 1:return i.sent(),t.o9=void 0,t.K6.Xw(),[2]}}))}))()},Nt(n,[{key:"cT",get:function(){return this.nT}},{key:"q6",get:function(){return this.Y6.every((function(t){return t.L6}))}}]),n}(ra);function uP(t,n){return!t.r9&&t.xw===n.xw&&xc(t.Eb,n.Eb)}var sP=function(t){function n(n){var i;return(i=t.call(this)||this).GT=new Yo,i.Yo=new hd,i.MT=void 0,i.K6=void 0,i.JG=void 0,i.nT=void 0,i.y9=function(t){i.d9(t.xw,t.Eb,i.GT.Uw).catch((function(t){return i.Ss(t)}))},i.WB=n,i.WB.bn(da.Py,i.y9),i}It(n,t);var i=n.prototype;return i.$n=function(t,n){this.JG=t,this._J(n)},i._J=function(t){this.MT=t,this.a9(this.GT.Uw).catch(Uo)},i.mJ=function(t){this.u9(t,this.GT.Uw).catch(Uo)},i.u9=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:if(r=function(r,e){var u,s,o;return Ht(this,(function(a){switch(a.label){case 0:if(u=e[r],void 0===(null==(o=ho(t,(function(t){return t.c9===u.cT.Iw})))?void 0:o.l9))return[2,"continue"];if(null==(s=u.IG)?void 0:s.some((function(t){return xc(o.l9,t)})))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,i.d9(u.cT.xw,o.l9,n)];case 2:return a.sent(),[2,{v:void 0}];case 3:return Fo(a.sent()),[3,4];case 4:return[2]}}))},Vo(n),!(null==(e=i.MT)?void 0:e.sH))return[2];o=0,a=null!=(s=null==(u=i.MT)?void 0:u.sH)?s:[],h.label=1;case 1:return o<a.length?[5,zt(r(o,a))]:[3,4];case 2:if("object"===U(c=h.sent()))return[2,c.v];h.label=3;case 3:return o++,[3,1];case 4:return[2]}}))}))()},i.a9=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return Kn.Ys.Jg?[4,n.f9(t)]:[3,2];case 1:if(i.sent())return[2];i.label=2;case 2:return n.MT&&n.MT._9?[4,n.v9(t)]:[3,4];case 3:return[2,i.sent()];case 4:return[2]}}))}))()},i.f9=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c,h,f,v;return Ht(this,(function(d){switch(d.label){case 0:if(!(null==(i=n.MT)?void 0:i.sH))return[2,!1];e=!1,s=0,o=null!=(u=null==(r=n.MT)?void 0:r.sH)?u:[],d.label=1;case 1:if(!(s<o.length))return[3,9];a=o[s],h=0,f=null!=(c=a.IG)?c:[],d.label=2;case 2:if(!(h<f.length))return[3,7];v=f[h],d.label=3;case 3:return d.trys.push([3,5,,6]),[4,n.d9(a.cT.xw,v,t)];case 4:return d.sent(),e=!0,[3,6];case 5:return Fo(d.sent()),[3,6];case 6:return h++,[3,2];case 7:if(e)return[2,!0];d.label=8;case 8:return s++,[3,1];case 9:return[2,!1]}}))}))()},i.d9=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h,f,v,d;return Ht(this,(function(l){switch(l.label){case 0:if(Vo(i),!n.byteLength)return[2];if(!r.MT||!r.MT.sH.length)throw new Qg(td.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");if(t!==vs&&t!==ls&&t!==ds)return[2];e=b_(t,n),u=r.MT.sH,o=0,l.label=1;case 1:if(!(o<u.length))return[3,11];if(a=u[o],Vo(i),!(c=e[a.cT.Rw])||a.cT.xw!==t)return[3,10];l.label=2;case 2:return l.trys.push([2,9,,10]),[4,r.m9(a,i)];case 3:return(h=l.sent()).qW()?[4,h.j6()]:[3,5];case 4:l.sent(),l.label=5;case 5:return f=r.WB.WR,v={xw:a.cT.xw,Eb:c,r9:f},r.g9(h,v)?[4,h.t9(v)]:[3,8];case 6:return[4,l.sent().tT()];case 7:l.sent(),l.label=8;case 8:return[2];case 9:return Fo(d=l.sent()),s=d,[3,10];case 10:return o++,[3,1];case 11:return[4,Kn.Zp()];case 12:throw l.sent()?new Qg(td.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",s):new Qg(td.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",s)}}))}))()},i.v9=function(t){var n=this;return Zt((function(){var i,r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:if(!(r=null==(i=n.MT)?void 0:i.sH))return[2];e=0,o.label=1;case 1:if(!(e<r.length))return[3,8];u=r[e],Vo(t),o.label=2;case 2:return o.trys.push([2,6,,7]),[4,n.m9(u,t)];case 3:return(s=o.sent()).qW()?[4,s.j6()]:[3,5];case 4:o.sent(),o.label=5;case 5:return[2];case 6:return Fo(o.sent()),[3,7];case 7:return e++,[3,1];case 8:return[2]}}))}))()},i.g9=function(t,n){return Kn.Ys.Qg||this.WB.qB.zB||!t.n9(n)},i.m9=function(t,n){var i=this;return this.Yo.Qo((function(n){return i.p9(t,n)}),n)},i.p9=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:if(Vo(n),!i.MT||!i.K6||!i.JG)throw new p("Not initialized");if(i.nT){if(i.nT.cT!==t.cT)throw new p("Internal key system error");return[2,i.nT]}return r=i.K6,e=ns({},t,{RH:t.RH.map((function(n){var i;return ns({},n,{persistentState:null!=(i=n.persistentState)?i:r._U(t.cT),wT:n.wT||r.wT(t.cT)})}))}),[4,i.JG.cJ(e.cT,e.RH)];case 1:return u=a.sent(),s=r.xG(e),(o=new eP(e.cT,u,s)).bn(JD,i.Ds),i.nT=o,[2,o]}}))}))()},i.Ss=function(t){if(!Bo(t)){var n=t instanceof Qg?t:new Qg(td.CONTENT_PROTECTION_ERROR,t.message,t);this._o(new QD(n))}},i.nr=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.JG=void 0,t.MT=void 0,t.GT.jw(),t.GT=new Yo,[4,t.w9()];case 1:return n.sent(),[2]}}))}))()},i.w9=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return[4,t.Yo.jw()];case 1:return i.sent(),(n=t.nT)?(n.vn(oa.fb,t.Ds),t.nT=void 0,[4,n.yn()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))()},i.Xw=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.Ro(),t.WB.vn(da.Py,t.y9),[4,t.nr()];case 1:return n.sent(),[4,t.Yo.yn()];case 2:return n.sent(),[2]}}))}))()},Nt(n,[{key:"h9",get:function(){var t;return null==(t=this.nT)?void 0:t.cT}},{key:"wH",get:function(){return this.K6},set:function(t){this.K6=t}}]),n}(ra);F(),Tt(),Rt();var oP=function(t){function n(n){var i;return(i=t.call(this,oa.Vy)||this).currentTime=n,i}return It(n,t),n}(sa);F(),Tt(),Dt(),Rt();var aP=function(t){function n(n){var i;return(i=t.call(this)||this).S9=n,i}It(n,t);var i=n.prototype;return i.V4=function(){var t;null==(t=this.b9)||t.V4()},i.nr=function(){var t;null==(t=this.b9)||t.nr()},i.Xw=function(){this.Ro(),void 0!==this.b9&&(this.b9.Xw(),this.b9=void 0)},i.A9=function(t){if(this.b9!==t){var n=this.rI;void 0!==this.b9&&this.b9.Xw(),this.b9=t,void 0!==t&&(t.bn(yp.iC,this.Ds),t.V4());var i=this.rI;n!==i&&this._o(new _p(this.S9.ER,i))}},Nt(n,[{key:"rI",get:function(){return void 0!==this.b9?this.b9.rI:bp.eO}}]),n}(ra);F(),Tt(),Dt(),Rt();var cP=function(t){function n(n,i,r){return t.call(this,n,i,"",r,void 0,Tw.WEBVTT)||this}It(n,t);var i=n.prototype;return i.T9=function(t,n,i){var r=new Hw(t,n,i,!1);return this._W(r),r},i.k9=function(t){this.sW(t)},Nt(n,[{key:"wa",get:function(){var t;return null!=(t=this.eu)?t:this.eu=hP(this)}}]),n}(FN);function hP(t){return Rg(Zy(t),{get type(){return t.Tw},addCue:function(n,i,r){return t.T9(n,i,r).wa},removeCue:function(n){t.k9(n.VO)}})}F(),Tt(),Dt(),Rt();var fP=function(t){function n(n,i){var r,e;return(r=t.call(this,n,i)||this).YE=!1,r.E9=[],r.x9=function(){var t;null==(t=r.M5)||t.removeEventListener("load",r.x9),r.YE=!0;for(var n=0,i=r.E9;n<i.length;n++){var e=i[n];r._W(e)}bo(r.E9)},null==(e=r.M5)||e.addEventListener("load",r.x9),r.Tw=Tw.WEBVTT,r}It(n,t);var i=n.prototype;return i.T9=function(t,n,i){var r=this.z5(new f.VTTCue(t,n,i));return this.YE?this._W(r):this.E9.push(r),r},i.k9=function(t){wo(this.E9,t),this.sW(t)},i.yn=function(){var n;t.prototype.yn.call(this),null==(n=this.M5)||n.removeEventListener("load",this.x9),bo(this.E9)},Nt(n,[{key:"wa",get:function(){var t;return null!=(t=this.eu)?t:this.eu=hP(this)}}]),n}(MD),vP=Gn.Gm||Gn.Zm,dP=Gn.Bg,lP=Gn.eg,gP=Gn.eg&&Gn.su,wP=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).YG=void 0,u.hZ=!0,u.JG=void 0,u.M8=new hd,u.C9=void 0,u.ea=new JT,u.ta=new $T,u.T8=[],u.P9=void 0,u.u8=0,u.a8=NaN,u.I9=void 0,u.w8=!1,u.U8=void 0,u.N8=0,u.cZ=!1,u.L4=!1,u.k7=bp.eO,u.O9=0,u.o8=et.resolve(),u.r8=new Yo,u.i8=[],u.Uo=SA.pB(),u.V9=void 0,u.U9=1,u.Z9=!1,u.H9=1,u.N9=!1,u.G8=!1,u.H8=!1,u.l8=!1,u.M9=!1,u.L9=!1,u.R9=!1,u.b7=!1,u.X8=0,u.X9=!1,u.k8=function(t){var n=t.track,i=u.P8(n);if(!yP(u.S8,n)){if(Gn.eg){if(n.kind===zy.eW)return void u.I8(n);if(n.kind===zy.$V&&""===n.label&&""===n.language&&!pP(n))return void u.C8(n,i)}u.S8.tt(new MD(n,i))}},u.E8=function(t){var n=yP(u.S8,t.track);n&&u.S8.it(n)},u.x8=function(){for(var t=0;t<u.S8.V;t++){var n=u.S8.fC(t);n instanceof MD&&n.Z5()}},u.B8=function(){if(void 0!==u.JG&&NR(u.JG)&&!u.KR){var t=u.JG,n=t.h4,i=t.a4;if(n&&i)if(t.RJ)u.V8();else if(t.rI!==oN.Y2){var r=n.wR,e=i.wR;if(0!==r.V||0!==e.V){var s=u.ER;if(s<r.Sn(0)||s<e.Sn(0))u.V8();else if(r.wr(s)!==e.wr(s)){if(t.DJ(s))return;u.F8()}else{if(u.V8(),!u.X8&&u.Q9.z4())r.eB(e).oB(s,s+.5)&&(u.X8=nI(u.E7))}}else u.V8()}}},u.E7=function(){u.X8=0,u.B8()},u.O8=function(){if(!u.uI&&!u.M4&&!(u.B9.rI>=bp.sO)&&void 0!==u.JG&&NR(u.JG)){var t=u.JG,n=t.h4,i=t.a4;if(n&&i){var r=u.ER,e=n.wR,s=i.wR;if(e.wr(r)&&s.wr(r))e.eB(s).oB(r-5,r)&&(u.R9?u.V8():u.W8())}}},u.Q8=function(){u._o(new hT(u.ER))},u.J8=function(){u.n8(new Oo),u._o(new cT(u.ER))},u.Y8=function(){u.J9(),u._o(new Ip(u.ER))},u.n7=function(){u.W9()},u.o7=function(){u._o(new fT(u.ct))},u.e7=function(){u._o(new FR(u.ER))},u.i7=function(){u._o(new UR)},u.l7=function(){u.cZ||u.L4||u.w8?u.w8=!1:u._o(new gT(u.ER))},u.d7=function(){u.m8(u.ER),u.w8=!1},u.t7=function(){var t=u.ER,n=u.uI,i=u.B9.rI<bp.sO&&!u.PR,r=void 0!==u.U8,e=r&&u.U8!==t;u.D8(),(n||!r||e&&!i)&&u.p8()},u.s7=function(){u.Zj()},u.a7=function(){if(null!==u.$T.error){var t,n=u.$T.error;u.BH(new tw(null!=(t=n.code)?t:$g.DECODE,n.message||"Error decoding media",void 0,n.msExtendedCode))}},u.u7=function(){u.G8&&(u.q8(),u.H8=!0)},u.x7=function(t){if(Kn.Ug(u.O9),u.O9=0,t.readyState<=bp.iO)if(u.cZ||u.L4){var n=Kn.Wg()-u.u8;if(n<250)return void(u.O9=Kn.Gg((function(){return u.x7(t)}),250-n))}else if(void 0!==u.JG&&u.JG.DJ(u.ER))return void(u.O9=Kn.Gg((function(){return u.x7(t)}),250));u.k7!==t.readyState&&(u.k7=t.readyState,u._o(t))},u.r7=function(){u.F9()},u.h7=function(){u.vI>0&&u.dI>0&&u._o(new wp)},u.f7=function(t){u._o(new la(t.initDataType,t.initData||new ArrayBuffer(0)))},u._7=function(){u._o(new ga)},u.g7=function(t){var n=t.initData,i=n?Ec(n).buffer:new ArrayBuffer(0);u._o(new la(vs,i))},u.v7=function(t){if(t.initData){var n=function(t){try{var n=bc(t),i=new Rc;return fc(vc(Za(n,i,Ka(n,i,!0)),!0))}catch(t){return}}(t.initData);if(!n)return;u._o(new la(ls,n))}else u._o(new la(ls,new ArrayBuffer(0)))},u.m7=function(t){var n=t.initData,i=n?Ec(n).buffer:new ArrayBuffer(0);u._o(new la(vs,i))},u.K9=function(){u.J9()},u.j9=function(t){u.n8(t)},u.R7=function(t){u._o(t),t.type===oa.Ty&&u.BH(iw(t.errorObject))},u.$T=n,u.Nw=i,u.Ku=r,u.wZ=e,u.B9=new aP(u),u.B9.bn(yp.iC,u.x7),u.B9.A9(new mN(u)),u.Q9=new bN(u),u.Q9.bn(yp.UL,u.Y8),u.vJ=new sP(u),u.vJ.bn(JD,u.R7),u.Hl=new Hy,u.S8=new Hy,u.j8=new Ik([u.Hl,u.S8]),u.K8=new jD(u,u.j8),u.y8=new Ik([u.j8,u.K8.Z]),u.b8=new WD(u),u.Z8(),u.IH(),u}It(n,t);var i=n.prototype;return i.D9=function(){return void 0!==this.P9&&this.ct===this.P9},i.W9=function(){var t=this.QR;this.U9!==t&&(this.U9=t,this._o(new vT(this.ER,t)))},i.F9=function(){var t=this.gI,n=this.ZR;this.H9===t&&this.Z9===n||(this.H9=t,this.Z9=n,this._o(new wT(this.ER,this.gI)))},i.HR=function(){return hR(this.$T)},i.xI=function(){this.X9||(this.X9=!0);var t=this.z9();return this.q9(),t},i.q9=function(){this.M9?this.L9&&(this.L9=!1,this._o(new hT(this.ER))):this.Y9()},i.Y9=function(){if(this.C9)this.C9.xI();else{Gn.eg&&!Gn.su&&this.$T.preload===zT.$H&&(this.$T.preload=zT.eW);var t=this.QR,n=this.$T.play();t!==this.jG.playbackRate&&(this.QR=t),this.N9=!1,ii(n)?n.then(this.K9,this.j9):this.Q9.z4()&&this.J9()}},i.EI=function(){this.M9?this.L9||(this.L9=!0,this._o(new cT(this.ER))):this.t8()},i.t8=function(){this.C9?this.C9.EI():(this.$T.pause(),this.Q9.ir()),this.e8(new Oo)},i.z9=function(){var t=new Gc;return this.i8.push(t),t.Ub},i.s8=function(){for(var t=0,n=this.i8;t<n.length;t++){n[t].Vb(void 0)}bo(this.i8)},i.e8=function(t){for(var n=0,i=this.i8;n<i.length;n++){i[n].Wb(t)}bo(this.i8)},i.J9=function(){this.M9||this.C9||this.s8()},i.n8=function(t){this.M9||this.C9||this.e8(t)},i.Rb=function(t,n,i){void 0===n&&(n=!1),void 0===i&&(i=!1),this.C9?this.C9.Rb(t,n,i):(this.r8.jw(),this.r8=new Yo,this.o8=Zo(this.h8(t,n,i,this.o8,this.r8.Uw),this.r8).catch(bi))},i.zG=function(t){var n=this.$G;if(n&&!S(n.getTime())){var i=(t.getTime()-n.getTime())/1e3;this.Rb(i)}},i.h8=function(t,n,i,r,e){var u=this;return Zt((function(){var s,o,a,c,h,f,v,d,l,g,w,m,y,p,_,b,A;return Ht(this,(function(T){switch(T.label){case 0:return T.trys.push([0,24,,25]),u.P9=t,u.a8=t,u.u8=Kn.Wg(),i&&!u.cZ?u.L4=!0:(u.cZ=!0,u.L4=!1),u.N9&&!u.D9()&&(u.N9=!1),u.L4?(u._o(new hN(u.ER)),Gn.Cm&&(t+=.05)):u._o(new lT(t)),[4,r.catch(bi)];case 1:return T.sent(),Vo(e),u.JG&&!u.JG.NJ()?(u.c8(),[2]):(u.l8&&u.d8(),u.B9.rI!==bp.eO?[3,3]:[4,u.B9.py(yp.iC,e)]);case 2:T.sent(),T.label=3;case 3:if(0!==u.$T.seekable.length&&(!gP||u.X9))return[3,9];s={stack:[],error:void 0,hasError:!1},T.label=4;case 4:return T.trys.push([4,6,7,8]),o=Yt(s,Yo.$w([e]),!1),[4,et.race([ql(u.$T,"timeupdate",o.Uw),$o(100,o.Uw)])];case 5:return T.sent(),Vo(e),[3,8];case 6:return a=T.sent(),s.error=a,s.hasError=!0,[3,8];case 7:return jt(s),[7];case 8:return[3,3];case 9:c=eN(u.wR,t,.05),h=u.hI,f=!0,v=!1,T.label=10;case 10:0,d={stack:[],error:void 0,hasError:!1},T.label=11;case 11:return T.trys.push([11,20,21,22]),(h=u.hI).V>0&&!h.wr(c)&&(c=h.KL(c),f=!0),n&&!u.$T.fastSeek&&((g=u.wR).wr(c)||(w=eN(g,c,1))!==c&&(c=w,f=!0)),lP&&void 0!==(m=u.f8())&&c>m&&(c=m,f=!0),v?[3,14]:void 0!==(y=u._8())&&c>y?(v=!0,[4,u.v8(y,!1,e)]):[3,14];case 12:return T.sent(),[4,ql(u.$T,"seeked",e)];case 13:T.sent(),Vo(e),f=!0,T.label=14;case 14:return f?(f=!1,[4,u.v8(c,n,e)]):[3,18];case 15:T.sent(),Vo(e),p=u.ER,h=u.hI,c=h.KL(c),_=1,T.label=16;case 16:return k.abs(c-p)>=yr?(h=u.hI,c=function(t,n,i){void 0===i&&(i=0);if(!n.V)return 0;var r=n.KL(t),e=mP*i;r===n.Sn(0)?r+=e:r===n.Tn(n.V-1)&&(r-=e);return r}(c,h,_),[4,u.v8(c,n,e)]):[3,18];case 17:return T.sent(),Vo(e),p=u.ER,_++,[3,16];case 18:return u.$T.seeking||u.B9.rI<bp.iO?(b=Yt(d,Yo.$w([e]),!1),[4,et.race([ql(u.$T,"seeked",b.Uw),u.py([oa.qy,oa.Iy],b.Uw),u.B9.py(yp.iC,b.Uw),null==(l=u.JG)?void 0:l.py(MR.nJ,b.Uw)].filter(Yn))]):[3,23];case 19:return T.sent(),Vo(e),[3,22];case 20:return A=T.sent(),d.error=A,d.hasError=!0,[3,22];case 21:return jt(d),[7];case 22:return[3,10];case 23:return u.c8(),[3,25];case 24:return Bo(T.sent())?[2]:[3,25];case 25:return[2]}}))}))()},i.v8=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:if(Vo(i),e=r.hI,t=e.KL(t),!r.l8)return[3,8];u=!0,h.label=1;case 1:if(!(u||r.B9.rI<bp.sO))return[3,7];s={stack:[],error:void 0,hasError:!1},h.label=2;case 2:return h.trys.push([2,4,5,6]),(e=r.hI).wr(t)||(t=e.KL(t),u=!0),u?(u=!1,r.P9=t,r.m8(r.ER),[3,1]):(o=Yt(s,Yo.$w([i]),!1),[4,et.race([r.py(oa.Iy,o.Uw),r.B9.py(yp.iC,o.Uw)])]);case 3:return h.sent(),[3,6];case 4:return a=h.sent(),s.error=a,s.hasError=!0,[3,6];case 5:return jt(s),[7];case 6:return[3,1];case 7:Vo(i),h.label=8;case 8:return c=ql(r.$T,"seeking",i),n&&r.$T.fastSeek?r.$T.fastSeek(t):r.$T.currentTime=t,r.P9=void 0,r.m8(r.ER),r.$T.seeking?[4,c]:[3,10];case 9:h.sent(),h.label=10;case 10:return[2]}}))}))()},i.f8=function(){if(this.JG&&this.JG.RJ){var t=this.JG.IJ,n=this.JG.CJ,i=t&&n?t.jn(n):t||n;if(i&&0!==i.V){var r=i.Sn(i.V-1),e=i.Tn(i.V-1);return k.max(r,e-.001)}}},i._8=function(){if(this.JG&&this.JG.RJ){var t=this.JG.CJ;if(t&&0!==t.V){var n=t.Sn(t.V-1),i=t.Tn(t.V-1)-.02;return i-=.001,k.max(n,i)}}},i.m8=function(t){this.a8!==t&&(this.a8=t,this.L4?this._o(new hN(t)):this._o(new lT(t)))},i.c8=function(){var t=this.L4;this.cZ=!1,this.L4=!1,this.u8=0,this.a8=NaN,this.l8&&this.g8(),t?(this._o(new oP(this.ER)),this.p8()):(this._o(new gT(this.ER)),this.w8=!0),this.Zj()},i.d8=function(){this.M9||(this.L9=this.KR,this.M9=!0,this.t8())},i.g8=function(){this.M9&&(this.M9=!1,this.L9||this.q9())},i.MJ=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.Tw===mp.pW&&VR.MJ(i,this.$T))return i;if(i.Tw===mp.wW&&aN.MJ(i))return i}},i.be=function(){this.hZ=!1,Ei(this.$T)&&(this.$T.style.display="none")},i.ge=function(){this.hZ=!0,Ei(this.$T)&&(this.$T.style.display="block")},i.OI=function(t,n,i,r,e,u,s,o,a){var c=new FN(t,n,i,r,e,u,s,a,o);return this.Hl.tt(c),this.b8.tt(c),c},i._H=function(t){var n=t.Lt,i=t.Ch,r=t.gs;if("function"==typeof this.$T.addTextTrack&&"function"==typeof f.VTTCue){var e=this.A8("data:text/vtt,WEBVTT%0A%0A",n,i,r),u=e.track,s=e.trackElement,o=new fP(u,s);return this.S8.tt(o),this.T8.push(o),o}var a=new cP(n,i,r);return this.Hl.tt(a),this.b8.tt(a),a},i.uH=function(){return!0},i.lH=function(t,n,i,r,e){var u=this.A8(t,n,i,r,e),s=u.track,o=u.trackElement,a=new MD(s,o);return this.S8.tt(a),this.T8.push(a),a},i.A8=function(t,n,i,r,e){var u=v.createElement("track");return u.src=ml(t),u.kind=n,u.label=null!=i?i:"",r&&(u.srclang=r),u.default=!!e,u.id=WE(),this.$T.appendChild(u),{track:this.$T.textTracks.getTrackById(u.id),trackElement:u}},i.mW=function(t){this.Hl.it(t),this.b8.it(t)},i.vH=function(){for(var t=0,n=this.Hl.lC.slice();t<n.length;t++){n[t].yn()}this.Hl.nr();for(var i=0,r=this.T8.slice();i<r.length;i++){var e=r[i];this.S8.it(e),e.yn()}bo(this.T8)},i.IH=function(){var t=this.$T.textTracks;t&&t.addEventListener&&(t.addEventListener("addtrack",this.k8),t.addEventListener("removetrack",this.E8),t.addEventListener("change",this.x8))},i.pH=function(){var t=this.$T.textTracks;t&&t.removeEventListener&&(t.removeEventListener("addtrack",this.k8),t.removeEventListener("removetrack",this.E8),t.removeEventListener("change",this.x8))},i.I8=function(t){t.mode=Vy.LC;var n=new HD(t);this.S8.tt(n),this.b8.tt(n)},i.C8=function(t,n){var i=this,r=function(){pP(t)&&(t.removeEventListener("cuechange",r),i.S8.tt(new MD(t,n)))};t.addEventListener("cuechange",r),t.mode=Vy.LC},i.P8=function(t){for(var n=this.$T.getElementsByTagName("track"),i=0;i<n.length;i++){var r=n[i]||n.item(i);if(r.track===t)return r}},i.D8=function(){if(0!==this.S8.V){var t=this.hI;if(0!==t.V){var n=t.Sn(0);if(this.N8!==n){for(var i=0,r=this.S8.lC;i<r.length;i++){r[i].nW(n)}this.N8=n}}}},i.$n=function(t){var n=this;return this.M8.Qo(Zt((function(i){var r,e;return Ht(this,(function(u){switch(u.label){case 0:if(Vo(i),n.JG)throw new p("Already loaded a media source");if(t.Tw===mp.pW)r=new VR(t,n,n.vJ,n.Nw),n.l8=!1,n.B9.A9(n.L8());else{if(t.Tw!==mp.wW)throw new p("Unsupported configuration");n.l8=vP,e=n.L8(),r=new aN(t,n,e,n.vJ,n.Nw,void 0,n.o4),n.B9.A9(e),dP&&(n.bn(oa.hb,n.B8),n.B9.bn(yp.iC,n.O8))}return n.JG=r,[4,r.xj()];case 1:return u.sent(),[2,r]}}))})))},i.L8=function(){return this.l8?new yN(this):new mN(this)},i.F8=function(){if(!this.R9){var t=this.QR;this.R9=!0,this.QR=t,this.$T.playbackRate=0,this.B9&&this.B9.V4()}},i.V8=function(){if(this.R9){var t=this.QR;this.R9=!1,this.QR=t,this.W8()}},i.W8=function(){this.$T.currentTime=this.$T.currentTime,this.B9&&this.B9.V4()},i.nr=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.cZ=!1,t.L4=!1,t.w8=!1,Kn.Ug(t.O9),t.O9=0,t.Uo=SA.pB(),t.r8.jw(),t.P9=void 0,t.a8=NaN,t.I9=void 0,t.l8=!1,t.M9=!1,t.YG=void 0,t.N9=!1,t.U8=void 0,t.N8=0,t.G8=!1,t.X9=!1,t.H8&&(t.Z8(),t.H8=!1),t.e8(new Oo),t.B9.A9(new mN(t)),t.Q9.nr(),t.S8.nr(),t.V8(),dP&&(iI(t.X8),t.X8=0,t.vn(oa.hb,t.B8)),[4,t.M8.jw()];case 1:return n.sent(),[4,t.M8.Qo(Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.JG?[4,t.JG.Xw()]:[3,2];case 1:n.sent(),t.JG=void 0,Gn.Cm&&Gn.Dm<3&&t.z8(),n.label=2;case 2:return[2]}}))})))];case 2:return n.sent(),[2]}}))}))()},i.z8=function(){this.q8();var t=this.$T,n=t.parentElement,i=t.tagName.toLowerCase();this.$T=tL(i),this.retainMediaElementState(t),nL(t),null==n||n.replaceChild(this.$T,t),this.Z8(),this.B9.A9(this.L8()),this.Q9.vn(yp.UL,this.Y8),this.Q9.Xw(),this.Q9=new bN(this),this.Q9.bn(yp.UL,this.Y8),this.hZ?this.ge():this.be(),this._o(new CT),this._o(new NT)},i.retainMediaElementState=function(t){this.jG.muted=t.muted,this.jG.volume=t.volume},i.Xw=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.H8=!1,t.q8(),t.pH(),[4,t.nr()];case 1:return n.sent(),[4,t.M8.yn()];case 2:return n.sent(),t.Q9.Xw(),t.B9.Xw(),[4,t.vJ.Xw()];case 3:return n.sent(),t.vH(),t.Hl.yn(),t.S8.yn(),[4,t.K8.yn()];case 4:return n.sent(),t.j8.yn(),t.y8.yn(),t.Ro(),[2]}}))}))()},i.Z8=function(){this.jG.addEventListener("play",this.Q8),this.jG.addEventListener("pause",this.J8),this.jG.addEventListener("timeupdate",this.t7),this.jG.addEventListener("progress",this.e7),this.jG.addEventListener("loadstart",this.i7),this.jG.addEventListener("ended",this.s7),this.jG.addEventListener("ratechange",this.n7),this.jG.addEventListener("volumechange",this.r7),this.jG.addEventListener("durationchange",this.o7),this.jG.addEventListener("resize",this.h7),this.jG.addEventListener("loadedmetadata",this.h7),this.jG.addEventListener("error",this.a7),this.jG.addEventListener("emptied",this.u7),this.jG.addEventListener("seeked",this.l7),this.jG.addEventListener("seeking",this.d7),Js()?(this.$T.addEventListener("encrypted",this.f7),this.$T.addEventListener("waitingforkey",this._7)):void 0!==f.WebKitMediaKeys&&"function"==typeof f.WebKitMediaKeys.isTypeSupported?this.$T.addEventListener("webkitneedkey",this.v7):Qs()?this.$T.addEventListener("webkitneedkey",this.m7):void 0!==f.MSMediaKeys&&"function"==typeof f.MSMediaKeys.isTypeSupported&&this.$T.addEventListener("msneedkey",this.g7)},i.q8=function(){this.jG.removeEventListener("play",this.Q8),this.jG.removeEventListener("pause",this.J8),this.jG.removeEventListener("timeupdate",this.t7),this.jG.removeEventListener("progress",this.e7),this.jG.removeEventListener("loadstart",this.i7),this.jG.removeEventListener("ended",this.s7),this.jG.removeEventListener("ratechange",this.n7),this.jG.removeEventListener("volumechange",this.r7),this.jG.removeEventListener("durationchange",this.o7),this.jG.removeEventListener("resize",this.h7),this.jG.removeEventListener("loadedmetadata",this.h7),this.jG.removeEventListener("error",this.a7),this.jG.removeEventListener("encrypted",this.f7),this.jG.removeEventListener("waitingforkey",this._7),this.jG.removeEventListener("webkitneedkey",this.v7),this.jG.removeEventListener("webkitneedkey",this.m7),this.jG.removeEventListener("msneedkey",this.g7),this.jG.removeEventListener("emptied",this.u7),this.jG.removeEventListener("seeked",this.l7),this.jG.removeEventListener("seeking",this.d7)},i.p7=function(){this.C9||(this.Uo=this.tI,this.C9=dN(this),this.q8(),this.C9.bn(fN,this.Ds))},i.w7=function(){if(this.C9){var t=this.C9;this.C9=void 0,this.B9.V4(),lN(this,t),t.Xw(),this.Z8()}},i.p8=function(){var t=this.ER;this._o(new lg(t,void 0)),this.U8=t},i.Zj=function(){this.N9||!this.PR||this.uI||(this.N9=!0,this._o(new dT(this.ER)))},i.BH=function(t){this.YG=t,this.e8(this.YG),this._o(new kN(this.YG))},i.A7=function(){this.b7||(rL(this.$T,Kn.Ys),this.b7=!0)},i.S7=function(t){t.appendChild(this.$T)},i.n3=function(){dP&&this.B8(),this.B9.V4()},i.NI=function(){this.vJ.w9().catch(bi),this.S8.nr()},Nt(n,[{key:"U4",get:function(){return this.R9}},{key:"wR",get:function(){return this.JG?this.JG.wR:SA.pB()}},{key:"bR",get:function(){var t=this.$G;if(t&&!S(t.getTime())){var n=1e3*this.ER;return new Date(t.getTime()+n)}}},{key:"$G",get:function(){if(this.jG.getStartDate)return this.cZ&&this.I9||(this.I9=this.jG.getStartDate()),this.I9}},{key:"ER",get:function(){return this.C9?this.C9.ER:void 0!==this.P9?this.P9:this.$T.currentTime}},{key:"Hu",get:function(){return this.Ku}},{key:"ct",get:function(){return this.C9?this.C9.ct:this.JG?this.JG.ct:this.$T.duration}},{key:"PR",get:function(){return this.uI?this.D9():this.C9?this.C9.PR:this.$T.ended||this.N9}},{key:"lt",get:function(){return this.YG}},{key:"jG",get:function(){return this.$T}},{key:"KR",get:function(){return this.M9?this.L9:this.C9?this.C9.KR:this.$T.paused}},{key:"tI",get:function(){return this.Uo.tB(SA.Cn(this.$T.played))}},{key:"Ti",get:function(){return this.$T.offsetHeight*Kn.Ys.Kg}},{key:"ji",get:function(){return this.$T.offsetWidth*Kn.Ys.Kg}},{key:"Sa",get:function(){return this.ea}},{key:"fH",get:function(){return this.ta}},{key:"rI",get:function(){return this.B9.rI}},{key:"hI",get:function(){return this.JG?this.JG.hI:SA.pB()}},{key:"uI",get:function(){return this.C9?this.C9.uI:this.cZ||this.$T.seeking&&!this.L4}},{key:"M4",get:function(){return this.C9?this.C9.M4:this.L4}},{key:"X4",get:function(){return 0!==this.O9}},{key:"ZR",get:function(){return this.C9?this.C9.ZR:this.$T.muted},set:function(t){this.C9?this.C9.ZR=t:(this.$T.muted=t,this.F9())}},{key:"QR",get:function(){return this.C9?this.C9.QR:void 0!==this.V9?this.V9:this.$T.playbackRate},set:function(t){this.C9?this.C9.QR=t:this.KR||this.R9?(this.V9=t,this.W9()):(this.V9=void 0,this.$T.playbackRate=t,this.W9())}},{key:"G9",get:function(){return this.hZ}},{key:"gI",get:function(){return this.C9?this.C9.gI:this.$T.volume},set:function(t){this.C9?this.C9.gI=t:(this.$T.volume=t,this.F9())}},{key:"nt",get:function(){return this.y8}},{key:"Wl",get:function(){return this.wZ}},{key:"WR",get:function(){return!!this.$T.webkitCurrentPlaybackTargetIsWireless}},{key:"y7",get:function(){return this.b7}},{key:"qB",get:function(){return ns({},CR)}},{key:"wH",get:function(){return this.vJ.wH},set:function(t){this.vJ.wH=t}},{key:"T7",get:function(){return this.o4},set:function(t){this.o4=t}},{key:"h9",get:function(){return this.vJ.h9}},{key:"AI",get:function(){return this.G8},set:function(t){this.G8=t,this.H8&&!this.G8&&(this.H8=!1,this.Z8())}}]),n}(ra);var mP=.01;function yP(t,n){for(var i=0,r=t.lC;i<r.length;i++){var e=r[i];if(e.PO===n)return e}}function pP(t){return!!t.cues&&t.cues.length>0}F(),Tt(),Dt(),Rt();var _P={WQ:void 0,UQ:void 0,GQ:void 0,HQ:void 0,ZQ:void 0,XQ:void 0,zQ:void 0,qQ:void 0,YQ:void 0,KQ:void 0},bP=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).eu=void 0,n}return It(n,t),Nt(n,[{key:"wa",get:function(){return this.eu||(this.eu=AR(this)),this.eu}},{key:"WQ",get:function(){}},{key:"UQ",get:function(){}},{key:"GQ",get:function(){}},{key:"HQ",get:function(){}},{key:"ZQ",get:function(){}},{key:"XQ",get:function(){}},{key:"I7",get:function(){}},{key:"zQ",get:function(){}},{key:"qQ",get:function(){}},{key:"YQ",get:function(){}},{key:"KQ",get:function(){}}]),n}(ra),kP=function(t){function n(n,i,r){return t.call(this,n,i,r,new bP)||this}return It(n,t),n.prototype.TI=function(){},Nt(n,[{key:"dI",get:function(){return 0}},{key:"vI",get:function(){return 0}}]),n}(wP);F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Dt();var AP=function(){function t(t){void 0===t&&(t=5);var n=f.document.createElement("div");n.className="theoplayer-texttracks",n.style.position="absolute",n.style.display="none",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.width="100%",n.style.height="100%",n.style.lineHeight="1.3em",n.style.zIndex=""+t,this.C7=n,this.ge()}var n=t.prototype;return n.be=function(){this.C7.style.display="none"},n.ge=function(){this.C7.style.display="block"},n.S7=function(t){t.appendChild(this.C7)},n.yn=function(){oi(this.C7)},Nt(t,[{key:"we",get:function(){return this.C7}}]),t}();function TP(t,n){return ns({},n,Pg(function(t){return{WQ:t.WQ,UQ:t.UQ,GQ:t.GQ,HQ:t.HQ,ZQ:t.ZQ,XQ:t.XQ,zQ:t.zQ,qQ:t.qQ,YQ:t.YQ,KQ:t.KQ}}(t)))}function SP(t){return t.GQ&&Us(t.GQ,"%")?Number(t.GQ.replace("%",""))/100:t.GQ&&Us(t.GQ,"em")?Number(t.GQ.replace("em","")):1}F(),Tt(),Dt(),F(),Tt(),Rt(),nn(),Ut(),F(),Tt(),Dt(),F(),Tt(),F(),Tt(),Dt();var EP=function(){function t(t,n,i,r){this.D7=t,this.M7=n,this.ji=i,this.Ti=r}var n=t.prototype;return n.L7=function(t){return this.D7<t.P7&&this.P7>t.D7&&this.M7<t.N7&&this.N7>t.M7},n.EO=function(t){return this.D7<=t.D7&&t.P7<=this.P7&&this.M7<=t.M7&&t.N7<=this.N7},n.Ib=function(){return new t(this.D7,this.M7,this.ji,this.Ti)},n.B7=function(n){return new t(this.D7+n,this.M7+n,k.max(0,this.ji-2*n),k.max(0,this.Ti-2*n))},n.O7=function(n){var i=k.min(this.D7,n.D7),r=k.max(this.P7,n.P7),e=k.min(this.M7,n.M7);return new t(i,e,r-i,k.max(this.N7,n.N7)-e)},Nt(t,[{key:"P7",get:function(){return this.D7+this.ji},set:function(t){this.D7=t-this.ji}},{key:"N7",get:function(){return this.M7+this.Ti},set:function(t){this.M7=t-this.Ti}}]),t}(),IP=function(){function t(t,n,i,r,e){var u=this;this.J7=es(),this.mtt=!0,this.Z7=ns({},_P),this.ptt=[],this.ttt=function(t){return u._W(t.FO)},this.ett=function(t){return u.sW(t.FO)},this.itt=function(){return u.dtt()},this.ott=function(t){return u.ctt(t.FO)},this.htt=function(t){return u.ltt(t.FO)},this.att=function(t){return u.gtt(t.FO)},this.z7=function(t){return u.re(t.width,t.height)},this.QO=t,this.Y7=this.G7=e,this.$T=this.Stt(i),this.Ku=r,n.appendChild(this.$T)}var n=t.prototype;return n.F7=function(t){var n=this.V7(t);if(!n)return!1;for(var i=0;i<n.length;i++){oi(n[i])}return this.W7(t),!0},n.xj=function(){var t=this;this.X7(),this.QO.L.lC.forEach((function(n){return t._W(n)})),this.Hu.bn(sI.mn,this.z7),this.re(this.Hu.Au,this.Hu.Eu)},n.q7=function(t){this.Z7=t,this.G7=TP(this.Z7,this.Y7),this.G7.WQ&&(this.jG.style.fontFamily=this.G7.WQ),this.re(this.Hu.Au,this.Hu.Eu),this.K7(!0)},n.j7=function(){return this.G7},n.Q7=function(t){return this.J7.has(t.IC)},n.X7=function(){this.QO.bn(Tg.HI,this.ttt),this.QO.bn(Tg.XI,this.ett),this.QO.bn(Tg.da,this.itt)},n.stt=function(){this.QO.vn(Tg.HI,this.ttt),this.QO.vn(Tg.XI,this.ett),this.QO.vn(Tg.da,this.itt)},n.ntt=function(t){t.bn(Dw.rO,this.ott),t.bn(Dw.oO,this.htt),t.bn(Dw.oC,this.att)},n.utt=function(t){t.vn(Dw.rO,this.ott),t.vn(Dw.oO,this.htt),t.vn(Dw.oC,this.att)},n._W=function(t){this.ntt(t),t.so&&this.ctt(t)},n.sW=function(t){this.utt(t),this.ltt(t)},n.dtt=function(){this.QO.CE===Vy.Qn?this.ftt():this._tt()},n.ftt=function(){if(this.mtt){this.mtt=!1;var t=this.Hu.Au,n=this.Hu.Eu;this.re(t,n),this.K7(!1)}},n._tt=function(){this.mtt||(this.mtt=!0,this.K7(!0))},n.ctt=function(t){this.mtt||t.so&&!this.Q7(t)&&this.K7(!1)},n.ltt=function(t){this.Q7(t)&&this.K7(!0)},n.gtt=function(t){(t.so||this.Q7(t))&&this.K7(!0)},n.K7=function(t){var n=this.ptt,i=this.mtt?[]:this.QO.q.lC.slice();this.wtt(i,n,t),this.ptt=i},n.V7=function(t){return this.J7.get(t.IC)},n.ytt=function(t,n){this.J7.set(t.IC,n)},n.W7=function(t){this.J7.delete(t.IC)},n.btt=function(t){var n=[],i=this.G7;if(void 0!==i.zQ){var r=t.Ib();r.Ti=i.zQ,n.push(r)}if(void 0!==i.qQ){var e=t.Ib();e.Ti=i.qQ,e.N7=t.N7,n.push(e)}return n},n.Att=function(){return this.ptt.slice()},n.yn=function(){var t=this;oi(this.jG),this.J7.clear(),this.stt(),this.QO.L.lC.forEach((function(n){return t.utt(n)})),this.Hu.vn(sI.mn,this.z7)},Nt(t,[{key:"Ht",get:function(){return this.QO}},{key:"jG",get:function(){return this.$T}},{key:"Hu",get:function(){return this.Ku}},{key:"U7",get:function(){return this.G7}},{key:"H7",get:function(){return this.Z7}}]),t}();function RP(t,n,i,r,e){var u=t.Ib(),s=u,o=1,a=!1,c=T(getComputedStyle(n).lineHeight)/4;if(!S(c)&&c>0){for(var h=0;h<i.length&&!a;h++){for(;!xP(t,r,i[h],.01)&&(!r.EO(t)||CP(t,e));)PP(t,i[h],c);if(r.EO(t)){s=t.Ib(),a=!0;break}var f=LP(t,r);o>f&&(s=t.Ib(),o=f),t=u.Ib()}r.EO(t)||(s=u.Ib())}n.style.left=(s.D7-r.D7)/r.ji*100+"%",n.style.top=(s.M7-r.M7)/r.Ti*100+"%"}function CP(t,n){return n.some((function(n){return t.L7(n)}))}function NP(t){return new EP(t.left,t.top,t.width,t.height)}var DP=function(t){return t[t.POS_X=0]="POS_X",t[t.NEG_X=1]="NEG_X",t[t.POS_Y=2]="POS_Y",t[t.NEG_Y=3]="NEG_Y",t}({});function PP(t,n,i){switch(n){case 0:t.D7+=i;break;case 1:t.D7-=i;break;case 2:t.M7+=i;break;case 3:t.M7-=i}}function xP(t,n,i,r){switch(i){case 0:return t.P7>n.P7+r;case 1:return t.D7<n.D7-r;case 2:return t.N7>n.N7+r;case 3:return t.M7<n.M7-r}}function LP(t,n){return k.max(0,k.min(t.P7,n.P7)-k.max(t.D7,n.D7))*k.max(0,k.min(t.N7,n.N7)-k.max(t.M7,n.M7))/(t.ji*t.Ti)}F(),Tt();var MP=function(t){return t.Yc='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.Kc='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.Zc='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.tl='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif',t}({}),OP=function(t){return t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent",t}({});function BP(t){return VP[t||"none"]}var VP={none:"",dropshadow:"#222 2px 2px 3px, #222 2px 2px 4px, #222 2px 2px 5px",raised:"#222 1px 1px, #222 2px 2px, #222 3px 3px",depressed:"#ccc 1px 1px, #ccc 0px 1px, #222 -1px -1px, #222 0px -1px",uniform:"#222 -1px -1px 0, #222 1px -1px 0, #222 -1px 1px 0, #222 1px 1px 0"},FP="monospace, sans-serif",UP="Arial, Helvetica, sans-serif",WP='"Times New Roman", Times, serif',ZP=us({monospace:"monospace",sansSerif:UP,serif:WP,monospaceSansSerif:FP,monospaceSerif:"monospace, serif",proportionalSansSerif:UP,proportionalSerif:WP,default:FP}),XP=16,GP="1.3em",HP=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,_P)||this}It(n,t);var i=n.prototype;return i.Stt=function(t){var n=v.createElement("div");n.className="theoplayer-ttml-texttrack-"+t;var i=n.style;return i.position="absolute",gi(i,"flex"),i.flexDirection=i.webkitFlexDirection="column",i.overflow="hidden",i.pointerEvents="none",i.top="0",i.left="0",i.width="100%",i.height="100%",i.fontSize=XP+"px",i.lineHeight=GP,n},i.re=function(t,n){var i=k.min(t/640,n/360),r=XP*i*SP(this.U7);this.jG.style.fontSize=r+"px"},i.wtt=function(t,n,i){for(var r,e=0;e<n.length;e++){var u=n[e];!i&&u.so||this.F7(u)}var s=[],o=NP(this.jG.getBoundingClientRect());(r=s).push.apply(r,Ft(this.btt(o)));for(var a=0;a<t.length;a++)for(var c=t[a],h=this.xtt(c,s,o),f=0;f<h.length;f++){var v=h[f];s.push(v.B7(.1))}},i.xtt=function(t,n,i){var r=this.V7(t);r||(r=this.Rtt(t),this.ytt(t,r));for(var e=0;e<r.length;e++){var u=r[e];this.jG.appendChild(u)}for(var s=[],o=[DP.POS_Y,DP.NEG_Y,DP.POS_X,DP.NEG_X],a=0;a<r.length;a++){var c=r[a];RP(ex(c),c,o,i,n),s.push(ex(c))}return s},i.Rtt=function(t){var n=[],i=t.ZV,r=t.OV,e=t.qV,u=t.U,s=t.GV,o=s?k.min(640/s.width,360/s.height):1,a=this.U7;if(0===b.keys(r).length){var c=v.createElement("div");ix(c),zP(u,i,e,c,c,o,a),YP(c,"body",a),c.firstChild&&n.push(c)}else for(var h=0,f=b.keys(r);h<f.length;h++){var d=f[h],l=v.createElement("div");l.id=d,ix(l),qP(l,"region",r[d],i,o),zP(u,i,e,l,l,o,a),YP(l,"body",a),l.firstChild&&n.push(l)}return n},i.q7=function(n){return IR(this.jG,n),t.prototype.q7.call(this,n)},n}(IP);function zP(t,n,i,r,e,u,s){if($l(t)&&function(t){var n=t.Cx.toUpperCase();return"SPAN"===n||"P"===n||"BR"===n||"DIV"===n||"BODY"===n}(t)){var o=jP(t);if(!o||(null==e?void 0:e.id)===o){var a;if("BODY"===t.Cx.toUpperCase())a=e;else{if(a=function(t){var n;switch(t.Cx.toUpperCase()){case"BR":n=v.createElement("br");break;case"SPAN":rx(n=v.createElement("span")),KP(n,t);break;case"P":(function(t){rx(t);var n=t.style;n.textAlign="inherit",n.padding="0",n.margin="0"})(n=v.createElement("p")),KP(n,t);break;case"DIV":KP(n=v.createElement("div"),t)}return n}(t),!a)return;r.appendChild(a)}!function(t,n,i,r,e){var u=n.qx("style");$P(t,n.Cx,u,i,r,e),function(t,n,i,r){for(var e=0,u=n.Xx;e<u.length;e++){var s=u[e];tx(t,n.Cx,s.Cx,s.Mx,i,r)}}(t,n,r,e)}(a,t,n,e,u),function(t,n,i){var r=null==n?void 0:n.qx("smpte:backgroundImage");if(r){r=r.replace("#","");var e=i&&JP(i,(function(t){return t.Xx.some((function(t){return"id"===t.Cx&&t.Mx===r}))}));e&&QP(t,e,n,!0)}!function(t,n){var i=n.m[0];if(!i||"metadata"!==i.Cx.toLowerCase())return;var r=i.m[0];QP(t,r,n)}(t,n)}(a,t,i),YP(a,t.Cx,s);for(var c=0,h=t.Ox;c<h.length;c++){zP(h[c],n,i,a,e,u,s)}}}else if(tg(t)){var f=v.createTextNode(t.Kk);if("SPAN"!==r.nodeName.toUpperCase()){var d=v.createElement("span");rx(d),YP(d,"span",s),d.appendChild(f),r.appendChild(d)}else r.appendChild(f)}}function YP(t,n,i){var r=t.style;switch(i.WQ&&(r.fontFamily=i.WQ),i.UQ&&(r.color=i.UQ),n.toLowerCase()){case"span":i.HQ&&(r.background=i.HQ);break;case"p":case"div":i.ZQ&&(r.backgroundColor=i.ZQ);break;case"body":i.XQ&&(r.textShadow=BP(i.XQ))}}function jP(t){var n=t.qx("region");if("p"===t.Cx.toLowerCase())return n;for(var i,r=[],e=0,u=t.m;e<u.length;e++){var s=u[e];r.push(jP(s))}return Ro(r),0===r.length?n:1===r.length?null!=(i=r[0])?i:n:void 0}function KP(t,n){var i=n.Yx(py,"id");i&&(t.id=i)}function qP(t,n,i,r,e){$P(t,n,i.style,r,t,e);for(var u=0,s=b.keys(i);u<s.length;u++){var o=s[u];tx(t,n,o,i[o],t,e)}}function JP(t,n){if(n(t))return t;for(var i=0,r=t.m;i<r.length;i++){var e=JP(r[i],n);if(e)return e}return null}function QP(t,n,i,r){void 0===r&&(r=!1),r&&(t.style.width=t.style.height="100%");var e=v.createElement("img");e.src=function(t){var n=t&&t.Ox.length>0?t.Ox[0]:null;return n&&tg(n)?"data:image/png;base64,"+n.Kk:""}(n),e.id=t.id,e.style.height="100%",e.style.maxWidth="100%",function(t,n){var i=t.style;gi(i,"flex"),i.flexDirection=i.webkitFlexDirection="column";var r=n.qx("smpte:backgroundImageVertical"),e="center";if(r)switch(r.toLowerCase()){case"left":e="flex-start";break;case"center":e="center";break;case"right":e="flex-end";break;case"inherit":e="inherit"}i.justifyContent=i.webkitJustifyContent=e;var u=n.qx("smpte:backgroundImageHorizontal"),s="center";if(u)switch(u.toLowerCase()){case"left":s="flex-start";break;case"center":s="center";break;case"right":s="flex-end";break;case"inherit":s="inherit"}i.alignItems=i.webkitAlignItems=s}(t,i),t.appendChild(e)}function $P(t,n,i,r,e,u){if(i)for(var s=0,o=i.split(" ");s<o.length;s++){var a=o[s];if(r[a])for(var c=0,h=b.keys(r[a]);c<h.length;c++){var f=h[c];"style"===f.toLowerCase()?$P(t,n,r[a][f],r,e,u):tx(t,n,f,r[a][f],e,u)}}}function tx(t,n,i,r,e,u){var s=t.style;switch(i){case"backgroundColor":s.backgroundColor=r;break;case"color":s.color=r;break;case"direction":s.direction=r;break;case"display":"none"===r&&(s.display="none");break;case"fontFamily":var o;s.fontFamily=null!=(o=ZP.get(r))?o:r;break;case"fontSize":var a=r;if(Us(a,"px")){var c=Number(a.slice(0,-2));a=c*u/XP+"em"}else Us(a,"c")&&(a=a.replace("c","em"));s.fontSize=a,s.lineHeight&&"inherit"!==s.lineHeight||(s.lineHeight=GP);break;case"fontStyle":s.fontStyle=r;break;case"fontWeight":s.fontWeight=r;break;case"lineHeight":var h=r;if(Us(h,"px")){var f=Number(h.slice(0,-2));h=f*u+"px"}s.lineHeight=h;break;case"opacity":s.opacity=r;break;case"overflow":s.overflow=r;break;case"padding":s.padding=r;break;case"textAlign":s.textAlign=r;break;case"textDecoration":switch(r){case"lineThrough":s.textDecoration="line-through";break;case"underline":case"overline":s.textDecoration=r;break;case"noUnderline":case"noLineThrough":case"noOverline":s.textDecoration="none"}break;case"unicodeBidi":switch(r){case"bidiOverride":s.unicodeBidi="bidi-override";break;case"normal":case"embed":case"isolate":s.unicodeBidi=r}break;case"visibility":s.visibility=r;break;case"zIndex":s.zIndex=r;break;case"displayAlign":var v;switch(r.toLowerCase()){case"before":v="flex-start";break;case"center":v="center";break;case"after":v="flex-end";break;case"justify":v="space-between";break;default:return}s.justifyContent=s.webkitJustifyContent=v;break;case"extent":var d,l,g=nx(n.toLowerCase())?e:t,w=r.split(" ",2);2===w.length?(d=w[0],l=w[1]):d=l="100%",g&&(g.style.height=l,g.style.width=d);break;case"origin":var m=nx(n.toLowerCase())?e:t,y=tn(r.split(" ",2),2),p=y[0],_=y[1];m&&(p||_)&&(p&&(m.style.left=p),_&&(m.style.top=_));break;case"showBackground":case"textOutline":break;case"wrapOption":switch(r){case"wrap":s.whiteSpace="normal";break;case"noWrap":s.whiteSpace="nowrap"}break;case"writingMode":var b,k,A,T;switch(r){case"lrtb":case"lr":b="horizontal-tb";break;case"rltb":b="horizontal-tb",k="rtl",T="bidi-override";break;case"tbrl":case"tb":b="vertical-rl",A="upright";break;case"tblr":b="vertical-lr",A="upright";break;case"rl":b="horizontal-tb",k="rtl";break;default:return}s.writingMode=b,s.setProperty("-webkit-writing-mode",b),k&&(s.direction=k),A&&(s.textOrientation=A,s.setProperty("-webkit-text-orientation",A)),T&&(s.unicodeBidi=T);break;case"linePadding":if(Us(r,"c")){var S=r.replace("c","em");s.paddingLeft=s.paddingRight=S}break;case"multiRowAlign":"auto"===r.toLowerCase()?s.textAlign="":s.textAlign=r}}function nx(t){return"div"===t||"p"===t||"span"===t}function ix(t){var n=t.style;gi(n,"flex"),n.flexDirection=n.webkitFlexDirection="column",n.top="auto",n.left="5%",n.width="90%",n.height="100%",n.maxHeight="100%",n.maxWidth="100%",n.overflow="visible",n.position="absolute",n.fontFamily=UP,n.color=OP.WHITE,n.background=OP.TRANSPARENT,n.textShadow=BP("uniform"),n.textAlign="start",n.writingMode="horizontal-tb",n.setProperty("-webkit-writing-mode","horizontal-tb"),n.padding="0",n.margin="0",n.fontSize="inherit",n.lineHeight="inherit"}function rx(t){var n=t.style;n.fontFamily="inherit",n.color="inherit",n.fontSize="inherit",n.lineHeight="inherit",n.textShadow="inherit"}function ex(t){var n=NP(t.getBoundingClientRect());if("visible"===getComputedStyle(t).overflow&&t.scrollHeight>t.clientHeight)for(var i=t.children,r=0;r<i.length;r++){var e=i[r];n=n.O7(NP(e.getBoundingClientRect()))}return n}F(),Tt(),Rt(),nn(),Ut(),F(),Tt();var ux=void 0;function sx(t){return ux||(ux=f.document.createElement("textarea")),ux.innerHTML=t,ux.value}function ox(t,n){for(var i="Data",r="",e=[],u=t.charAt(n.nc),s="",o={Tw:"starttag",Ux:"",Itt:[]};n.nc<t.length+1;){switch(u=n.nc<t.length?t.charAt(n.nc):"EOF",i){case"Data":switch(u){case"&":var a=t.substring(n.nc).match(/&#?[0-9a-zA-Z]+;/);a?(r+=sx(a[0]),n.xb(a[0].length-1)):r+="&";break;case"<":if(r)return{Tw:"string",U:r};i="Tag";break;case"EOF":return{Tw:"string",U:r};default:r+=u}break;case"Tag":switch(u){case"\t":case"\n":case"\f":case" ":i="StartTagAnnotation";break;case".":i="StartTagClass";break;case"/":i="EndTag";break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r=u,i="TimestampTag";break;case">":return n.xb(1),o;case"EOF":return o;default:r=u,i="StartTag"}break;case"StartTag":switch(u){case"\t":case"\f":case" ":i="StartTagAnnotation";break;case"\n":s=u,i="StartTagAnnotation";break;case".":i="StartTagClass";break;case">":return n.xb(1),{Tw:"starttag",Ux:r,Itt:[]};case"EOF":return{Tw:"starttag",Ux:r,Itt:[]};default:r+=u}break;case"StartTagClass":switch(u){case"\t":case"\f":case" ":e.push(s),s="",i="StartTagAnnotation";break;case"\n":e.push(s),s=u,i="StartTagAnnotation";break;case".":e.push(s),s="";break;case">":return n.xb(1),e.push(s),{Tw:"starttag",Ux:r,Itt:e};case"EOF":return e.push(s),{Tw:"starttag",Ux:r,Itt:e};default:s+=u}break;case"StartTagAnnotation":switch(u){case"&":i="CharRefInAnnotation";break;case">":n.xb(1);var c=s.trim();return{Tw:"starttag",Ux:r,Itt:e,Ctt:c=c.replace(/\s/," ")};default:s+=u}break;case"CharRefInAnnotation":for(var h="",f=n.nc;">"===t.charAt(f);f++)h+=t.charAt(f);s+=h||"&",i="StartTagAnnotation";break;case"EndTag":switch(u){case">":return n.xb(1),{Tw:"endtag",Ux:r};case"EOF":return{Tw:"endtag",Ux:r};default:r+=u}break;case"TimestampTag":switch(u){case">":return n.xb(1),{Tw:"timestamp",Ptt:r};case"EOF":return{Tw:"timestamp",Ptt:r};default:r+=u}}n.xb(1)}return o}var ax=function(t){return t.Dtt="string",t.Ntt="starttag",t.Mtt="endtag",t.Ltt="timestamp",t}({});function cx(t,n){void 0===t.textContent?t.innerText=n:t.textContent=n}F(),Tt();var hx={UQ:OP.WHITE,WQ:"sans-serif",GQ:"100%",HQ:"rgba(0,0,0,0.8)",ZQ:OP.TRANSPARENT,XQ:"none",zQ:void 0,qQ:void 0,YQ:void 0,KQ:void 0},fx="theoplayer-webvtt-region-",vx="theoplayer-webvtt-styling-",dx="theoplayer-webvtt-default-style",lx=5.23,gx=1.14,wx=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,hx)||this).Vtt=rs(),u.Ftt=kx(3),u}It(n,t);var i=n.prototype;return i.Stt=function(t){var n=v.createElement("div");n.className="theoplayer-webvtt-texttrack-"+t,mi(n),n.style.overflow="hidden",n.style.pointerEvents="none";var i=this.U7.WQ;return i&&(n.style.fontFamily=i),n.style.whiteSpace="pre-line",function(){if(v.getElementById(dx))return;for(var t=[],n=0;n<Sx.length;n++){var i=tn(Sx[n],2),r=i[0],e=i[1];t.push("."+vx+r+" { color: "+e+" !important; }"),t.push("."+vx+"Btt"+r+" { background-color: "+e+" !important; }"),t.push("video::cue(."+r+") { color: "+e+"; }"),t.push("Ott"+r+") { background-color: "+e+"; }")}var u=v.createElement("style");u.id=dx,u.innerHTML=t.join("\n"),v.body.appendChild(u)}(),n},i.xj=function(){this.jG.appendChild(this.Ftt),t.prototype.xj.call(this)},i.re=function(t,n){var i=this,r=k.min(t/100,n/100),e=SP(this.U7);this.Vtt.forEach((function(t){var n=t.zO,u=t.Wtt;i.Utt(u,r,e,n)})),this.Utt(this.Ftt,r,e)},i.q7=function(n){IR(this.jG,n),t.prototype.q7.call(this,n)},i.wtt=function(t,n,i){for(var r,e=this,u=this.jG,s=this.Hu.Eu/100,o=[],a=0;a<t.length;a++){var c=t[a];void 0!==c.zO&&(po(o,c.zO)||o.push(c.zO))}this.Vtt.forEach((function(t,n){var r=t.zO,u=t.Wtt;!i&&po(o,r)||(oi(u),e.Vtt.delete(n))}));for(var h=0;h<n.length;h++){var f=n[h];!i&&f.so||this.F7(f)}var v=[],d=NP(this.Ftt.getBoundingClientRect());(r=v).push.apply(r,Ft(this.btt(d)));for(var l=0;l<o.length;l++){var g=o[l],w=void 0;this.Vtt.has(g.o)?w=this.Vtt.get(g.o).Wtt:(w=Ax(g,s),u.appendChild(w),this.Vtt.set(g.o,{zO:g,Wtt:w})),v.push(NP(w.getBoundingClientRect()))}t.sort(Ex);for(var m=0;m<t.length;m++){var y=t[m],p=this.xtt(y,v,d);void 0!==p&&v.push(p.B7(.1))}},i.xtt=function(t,n,i){var r,e;t.zO?(e=this.Vtt.get(t.zO.o).Wtt,"up"===t.zO.cF&&e.children.length>=1&&(e.style.transitionProperty="top",e.style.transitionDuration="0.433s")):e=this.Ftt;var u=null==(r=this.V7(t))?void 0:r[0];if(u||(u=this.Gtt(t),this.ytt(t,[u])),e.appendChild(u),t.zO||(mx(u,t),t.qO?function(t,n,i,r){var e=Tx(t),u=e?i.Ti:i.ji,s=T(getComputedStyle(n).lineHeight);if(0===s||S(s))return;var o=NP(n.getBoundingClientRect()),a=k.round(zw(t));"rl"===t.Pt&&(a=-(a+1));var c=s*a;"rl"===t.Pt&&(c=c-o.ji+s);a<0&&(c+=u,s=-s);e?o.M7+=c:o.D7+=c;var h=o.Ib(),f=!1;for(;!i.EO(o)||CP(o,r);)if(e)if(s<0&&o.M7<i.M7||s>0&&o.N7>i.N7){if(o.M7=h.M7,f)break;s=-s,f=!0}else o.M7+=s;else if(s<0&&o.D7<i.D7||s>0&&o.P7>i.P7){if(o.D7=h.D7,f)break;s=-s,f=!0}else o.D7+=s;e?n.style.top=(o.M7-i.M7)/i.Ti*100+"%":n.style.left=(o.D7-i.D7)/i.ji*100+"%"}(t,u,i,n):function(t,n,i,r){var e,u=NP(n.getBoundingClientRect());if(0===u.ji||0===u.Ti)return;Tx(t)?"center"===t.ZO?u.M7-=u.Ti/2:"end"===t.ZO&&(u.M7-=u.Ti):"center"===t.ZO?u.D7-=u.ji/2:"end"===t.ZO&&(u.D7-=u.ji);e=""===t.Pt?[DP.POS_Y,DP.NEG_Y,DP.POS_X,DP.NEG_X]:"lr"===t.Pt?[DP.POS_X,DP.NEG_X,DP.POS_Y,DP.NEG_Y]:[DP.NEG_X,DP.POS_X,DP.POS_Y,DP.NEG_Y];RP(u,n,e,i,r)}(t,u,i,n)),!t.zO)return NP(u.getBoundingClientRect())},i.Gtt=function(t){for(var n=new Rc,i=t.U,r=this.Htt(t),e={Ztt:void 0,we:r},u=e,s="",o="",a=[e],c=[],h=[];n.nc<i.length;){var f=ox(i,n);if(f.Tw===ax.Dtt){var d=v.createElement("span");cx(d,f.U),yx(d,a),""!==s&&(d.lang=s),this.Xtt(d,o),u.we.appendChild(d)}else if(f.Tw===ax.Ntt){var l=f.Ux.toLowerCase();switch(l){case"i":case"b":case"u":case"ruby":var g=v.createElement(l);u.we.appendChild(g),u={Ztt:f,we:g},a.push(u);break;case"rt":var w;if("ruby"===(null==(w=u.Ztt)?void 0:w.Ux.toLowerCase())){var m=v.createElement("rt");u.we.appendChild(m),u={Ztt:f,we:m},a.push(u)}break;case"c":case"v":u={Ztt:f,we:u.we},a.push(u);break;case"font":var y,p=null==(y=f.Ctt)?void 0:y.match(/(?:^| )color=["']([^"']+)/i);p&&(o=p[1],h.push(o),u={Ztt:f,we:u.we},a.push(u));break;case"lang":var _;s=null!=(_=f.Ctt)?_:"",c.push(s)}}else if(f.Tw===ax.Mtt){var b,k=f.Ux.toLowerCase(),A=null==(b=u.Ztt)?void 0:b.Ux.toLowerCase();A===k?(a.pop(),u=a[a.length-1],"font"===k&&(h.pop(),o=h.length>0?h[h.length-1]:"")):"rt"===A&&"ruby"===k?(a.pop(),a.pop(),u=a[a.length-1]):"lang"===k&&(c.pop(),s=c.length>0?c[c.length-1]:"")}else if(f.Tw===ax.Ltt){var T=f.Ptt,S=new Rc;try{Vm(T,S)}catch(t){jr("ERROR collecting timestamp",t)}}}return r},i.Xtt=function(t,n){var i=this.U7,r=this.H7;i.HQ&&(t.style.background=i.HQ);var e=r.UQ||n||i.UQ;e&&(t.style.color=e)},i.Utt=function(t,n,i,r){if(r){var e=px(r,n);t.style.height=e*i+"px",t.style.left=_x(r)+"%",t.style.top=bx(r,n)+"px"}t.style.fontSize=lx*n*i+"px"},i.Htt=function(t){var n=v.createElement("div");n.style.position="absolute",n.style.margin="0",n.style.padding="0",n.style.unicodeBidi="plaintext",n.style.wordWrap="break-word",n.style.overflowWrap="break-word",n.style.width="auto",n.style.textAlign=t.GO,function(t,n){"rl"===n.Pt?t.style.writingMode="vertical-rl":"lr"===n.Pt?t.style.writingMode="vertical-lr":t.style.writingMode="horizontal-tb"}(n,t),function(t,n){var i=Kw(n);Tx(n)?(t.style.width=i+"%",t.style.height="auto"):(t.style.height=i+"%",t.style.width="auto")}(n,t),mx(n,t);var i=this.U7.ZQ;i&&(n.style.background=i);var r=this.U7.UQ;return r&&(n.style.color=r),n.style.textShadow=BP(this.U7.XQ),n},n}(IP);function mx(t,n){var i,r,e=jw(n),u=Yw(n),s=Kw(n);if(Tx(n)){switch(e){case"line-left":i=u;break;case"center":i=u-s/2;break;case"line-right":i=u-s}r=n.qO?0:zw(n)}else{switch(e){case"line-left":r=u;break;case"center":r=u-s/2;break;case"line-right":r=u-s}i=n.qO?0:zw(n)}t.style.left=i+"%",t.style.top=r+"%"}function yx(t,n){for(var i=0;i<n.length;i++){var r=n[i];if(r.Ztt){for(var e=0,u=r.Ztt.Itt;e<u.length;e++){var s=u[e];vi(t,vx+s)}"v"===r.Ztt.Ux.toLowerCase()&&r.Ztt.Ctt&&vi(t,"theoplayer-webvtt-voice-"+r.Ztt.Ctt)}}}function px(t,n){return t.hF*(lx*n)*gx}function _x(t){return t.lF-t.aF*t.ji/100}function bx(t,n){var i=t.dF,r=t.uF*px(t,n)/100;return k.max(0,i-r)}function kx(t){var n=v.createElement("div");return n.className=fx+"default",mi(n),n.style.wordWrap="break-word",n.style.writingMode="horizontal-tb",n.style.pointerEvents="none",n.style.width="auto",n.style.height="auto",n.style.maxHeight="100%",n.style.minHeight="0px",n.style.padding="0",n.style.boxSizing="border-box",n.style.fontSize=lx*t+"px",n.style.lineHeight=gx+"em",n}function Ax(t,n){var i=kx(n);i.className=fx+t.o;var r=t.ji,e=px(t,n);return i.style.width=r+"%",i.style.height=e+"px",i.style.left=_x(t)+"%",i.style.right="",i.style.top=bx(t,n)+"px",i.style.bottom="",i.style.boxSizing="border-box",i}function Tx(t){return""===t.Pt}var Sx=[["white","#fff"],["lime","#0f0"],["cyan","#0ff"],["red","#f00"],["yellow","#ff0"],["magenta","#f0f"],["blue","#00f"],["black","#000"]];function Ex(t,n){var i=zw(t),r=zw(n),e=Ix(i,t.qO),u=Ix(r,n.qO);return e&&u?i-r||TN(n,t)||n.IC-t.IC:TN(t,n)||t.IC-n.IC}function Ix(t,n){return n?t<0?t>-8:t>8:t>50}F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),F(),Tt();var Rx=function(t){return t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics",t}({}),Cx={UQ:OP.WHITE,WQ:MP.Zc,GQ:"100%",HQ:OP.BLACK,ZQ:"transparent",XQ:"none",ztt:"regular",zQ:void 0,qQ:void 0,YQ:void 0,KQ:void 0},Nx=[{qtt:OP.WHITE,ztt:"regular",Ytt:0},{qtt:OP.WHITE,ztt:"underline",Ytt:0},{qtt:OP.GREEN,ztt:"regular",Ytt:0},{qtt:OP.GREEN,ztt:"underline",Ytt:0},{qtt:OP.BLUE,ztt:"regular",Ytt:0},{qtt:OP.BLUE,ztt:"underline",Ytt:0},{qtt:OP.CYAN,ztt:"regular",Ytt:0},{qtt:OP.CYAN,ztt:"underline",Ytt:0},{qtt:OP.RED,ztt:"regular",Ytt:0},{qtt:OP.RED,ztt:"underline",Ytt:0},{qtt:OP.YELLOW,ztt:"regular",Ytt:0},{qtt:OP.YELLOW,ztt:"underline",Ytt:0},{qtt:OP.MAGENTA,ztt:"regular",Ytt:0},{qtt:OP.MAGENTA,ztt:"underline",Ytt:0},{qtt:OP.WHITE,ztt:"italics",Ytt:0},{qtt:OP.WHITE,ztt:"underline-italics",Ytt:0},{qtt:OP.WHITE,ztt:"regular",Ytt:0},{qtt:OP.WHITE,ztt:"underline",Ytt:0},{qtt:OP.WHITE,ztt:"regular",Ytt:4},{qtt:OP.WHITE,ztt:"underline",Ytt:4},{qtt:OP.WHITE,ztt:"regular",Ytt:8},{qtt:OP.WHITE,ztt:"underline",Ytt:8},{qtt:OP.WHITE,ztt:"regular",Ytt:12},{qtt:OP.WHITE,ztt:"underline",Ytt:12},{qtt:OP.WHITE,ztt:"regular",Ytt:16},{qtt:OP.WHITE,ztt:"underline",Ytt:16},{qtt:OP.WHITE,ztt:"regular",Ytt:20},{qtt:OP.WHITE,ztt:"underline",Ytt:20},{qtt:OP.WHITE,ztt:"regular",Ytt:24},{qtt:OP.WHITE,ztt:"underline",Ytt:24},{qtt:OP.WHITE,ztt:"regular",Ytt:28},{qtt:OP.WHITE,ztt:"underline",Ytt:28}],Dx=[11,-1,1,2,3,4,12,13,14,15,5,6,7,8,9,10];function Px(t,n){return fm(t.Ktt,n.Ktt)||uo(t.sL,n.sL)}F(),Tt(),nn();var xx=32,Lx=/CC([1-4])=(.*)/;function Mx(t){if(!t)return[];var n=[],i=t.trim().split(";");if(i.every((function(t){return t.match(Lx)})))for(var r=0;r<i.length;r++){var e=tn(i[r].match(Lx),3),u=e[1],s=e[2];n.push({jtt:Number(u),Qtt:s})}else for(var o=0;o<i.length;o++)n.push({jtt:o+1,Qtt:i[o]});return n}var Ox=function(){function t(t,n,i){this.tet=t,this.det=n,this.G7=i}var n=t.prototype;return n.br=function(){return this.het=this.aet(),this.uet(),this.cet(),this.het},n.aet=function(){var t=v.createElement("div");t.style.position="absolute",t.style.margin="0",t.style.padding="0",t.style.whiteSpace="pre",t.style.width=this.net/xx*this.det.let*100+"%",t.style.height=1.2*this.ret+"em",t.style.lineHeight="1.2em",t.style.letterSpacing=this.det.fet?"calc(1em - 1ch)":"";var n=this.G7.WQ;n&&(t.style.fontFamily=n);var i=this.G7.ZQ;return i&&(t.style.backgroundColor=i),t},n.uet=function(){if(this.het){var t=this.Jtt.oet/15*100,n=this.Jtt.Ytt/xx*100,i=(xx-this.eet.Ytt-1)/xx*100,r=(15-this.eet.oet-1)/15*100;this.det._et||(n=i=1,this.het.style.width="98%"),r<t?this.het.style.bottom=r*this.det.let+"%":this.het.style.top=t*this.det.let+"%",i<n?this.het.style.right=i+"%":this.het.style.left=n+"%"}},n.cet=function(){for(var t=this.tet.vet.sort(Bx),n=0;n<t.length;n++)this.met(t[n-1],t[n]),this.pet(t[n]);this.met(t[t.length-1],void 0)},n.pet=function(n){var i,r=TP(this.G7,n.wet),e=t.yet(r);cx(e,n.bet),null==(i=this.het)||i.appendChild(e)},n.met=function(t,n){var i=t?t.iet.oet:this.tet.$tt.oet,r=n?n.$tt.oet:this.tet.iet.oet,e=t?t.iet.Ytt:this.tet.$tt.Ytt,u=n?n.$tt.Ytt:this.tet.iet.Ytt;i<r&&(!n||t&&t.$tt.oet!==n.$tt.oet?this.Aet():this.Tet(this.tet.iet.Ytt-e),e=this.tet.$tt.Ytt),e<u&&(n?this.Tet(u-e):this.Aet())},n.Aet=function(){var t,n=v.createElement("br");null==(t=this.het)||t.appendChild(n)},n.Tet=function(t){var n;if(!(t<=0)){var i=v.createElement("span");i.style.display="inline-block",cx(i,Zs(" ",t)),null==(n=this.het)||n.appendChild(i)}},t.yet=function(t){var n=v.createElement("span");n.style.display="inline-block",t.ztt!==Rx.FONT_ITALICS&&t.ztt!==Rx.FONT_UNDERLINE_ITALICS||(n.style.fontStyle="italic"),t.ztt!==Rx.FONT_UNDERLINE&&t.ztt!==Rx.FONT_UNDERLINE_ITALICS||(n.style.textDecoration="underline");var i=t.UQ;i&&(n.style.color=i);var r=t.HQ;return r&&(n.style.backgroundColor=r),n.style.textShadow=BP(t.XQ),n.style.height="1.2em",n},Nt(t,[{key:"Jtt",get:function(){return this.tet.$tt}},{key:"eet",get:function(){return this.tet.iet}},{key:"net",get:function(){return this.tet.iet.Ytt-this.tet.$tt.Ytt+1}},{key:"ret",get:function(){return this.tet.iet.oet-this.tet.$tt.oet+1}}]),t}();function Bx(t,n){return function(t,n){if(t.oet!==n.oet)return t.oet-n.oet;return t.Ytt-n.Ytt}(t.$tt,n.$tt)}var Vx=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Cx)||this}It(n,t);var i=n.prototype;return i.Stt=function(t){var n=v.createElement("div");return n.className="theoplayer-cea608-texttrack-"+t,n.style.position="absolute",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="10%",n.style.bottom="10%",this.U7.WQ&&(n.style.fontFamily=this.U7.WQ),n},i.re=function(t,n){this.yl()},i.yl=function(){var t=SP(this.U7);this.ket=function(t){return{let:t/100,fet:t<=100,_et:t<=150}}(100*t);var n=this.Eet/xx;this.xet=n*t,this.jG.style.fontSize=this.xet+"px"},i.wtt=function(t,n,i){for(var r=0;r<n.length;r++){var e=n[r];!i&&e.so||this.F7(e)}for(var u=0;u<t.length;u++){var s=t[u];this.xtt(s)}},i.xtt=function(t){this.ket&&this.ket._et?this.Ret(80):this.Ret(100),this.yl();var n=this.V7(t);n||(n=this.Rtt(t),this.ytt(t,n));for(var i=0;i<n.length;i++){var r=n[i];this.jG.appendChild(r)}},i.Rtt=function(t){var n=this;return t.U.map((function(t){return new Ox(t,n.ket,n.U7).br()}))},i.Ret=function(t){var n=(100-t)/2;this.jG.style.left=n+"%",this.jG.style.width=t+"%"},Nt(n,[{key:"Eet",get:function(){var t=this.jG.offsetWidth;return this.ket&&this.ket._et||(t*=.8),t}}]),n}(IP),Fx=function(){function t(t,n,i,r,e,u){var s=this;this.Cet=[],this.Vet=function(t){var n=t.Ht;n.bn(Tg.iC,s.Fet),n.bn(Tg.nC,s.Fet),n instanceof MD&&(n.V5=s.V5),s.Bet(n)},this.Fet=function(t){var n=t.Ht;s.Bet(n)},this.Wet=function(t){var n=t.Ht;n.vn(Tg.iC,s.Fet),n.vn(Tg.nC,s.Fet),s.Let(n)},this.Uet=function(){for(var t=s.V5,n=0,i=s.Hl.lC;n<i.length;n++){var r=i[n];r instanceof MD&&(r.V5=t)}},this.Get=function(){for(var t=0,n=s.Cet;t<n.length;t++){n[t].q7(s.wZ)}},this.Net=t,this.Ku=n,this.Hl=i,this.Oet=e,this.ta=u,this.wZ=r,this.Hl.bn(pg.VI,this.Vet),this.Hl.bn(pg.UI,this.Wet),this.Hl.bn(Tg.da,this.Fet),this.Oet.bn(KT.da,this.Uet),this.ta.bn([DT.rO,DT.oO],this.Uet),this.wZ.bn("eC",this.Get),this.Uet()}var n=t.prototype;return n.Iet=function(t){for(var n=0,i=this.Cet;n<i.length;n++){var r=i[n];if(r.Ht===t)return r}},n.Det=function(t){switch(t.Tw){case Tw.TTML:return new HP(t,this.Net,t.Ch,this.Ku);case Tw.SRT:case Tw.WEBVTT:return new wx(t,this.Net,t.Ch,this.Ku);case Tw.CEA608:return new Vx(t,this.Net,t.Ch,this.Ku)}},n.Met=function(t){var n=this.Iet(t);n||(n=this.Det(t))&&(n.xj(),n.q7(this.wZ),this.Cet.push(n),t.CE===Vy.Qn&&n.ftt())},n.Let=function(t){for(var n=this.Cet,i=n.length-1;i>=0;i-=1){var r=n[i];r.Ht===t&&(r.yn(),mo(n,i))}},n.Bet=function(n){(function(t){return t===zy.JV||t===zy.$V})(n.Lt)&&t.Pet(n)&&(n.rI===Aw.ERROR?this.Let(n):this.Met(n))},n.nr=function(){for(var t=0,n=this.Cet;t<n.length;t++){var i=n[t];i.Ht.vn(Tg.iC,this.Fet),i.Ht.vn(Tg.nC,this.Fet),i.yn()}bo(this.Cet)},n.yn=function(){this.nr();for(var t=0,n=this.Cet;t<n.length;t++){n[t].yn()}this.Hl.vn(pg.VI,this.Vet),this.Hl.vn(pg.UI,this.Wet),this.Hl.vn(Tg.da,this.Fet),this.Oet.vn(KT.da,this.Uet),this.ta.vn([DT.rO,DT.oO],this.Uet),this.wZ.vn("eC",this.Get)},t.Pet=function(t){switch(t.Tw){case Tw.TTML:case Tw.SRT:case Tw.WEBVTT:case Tw.CEA608:return!0}return!1},Nt(t,[{key:"V5",get:function(){return this.Oet.cs||this.ta.hO}}]),t}();F(),Tt(),Gt(),Dt(),Rt(),qt();var Ux=function(t){function n(n){var i;return(i=t.call(this)||this).Zet=!1,i.Xet=function(){i.Zet=!0,i._o(new PT)},i.zet=function(){i.Zet=!1,i._o(new xT)},i.Het=n,i.Het.addEventListener("enterpictureinpicture",i.Xet),i.Het.addEventListener("leavepictureinpicture",i.zet),i}It(n,t);var i=n.prototype;return i.vo=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.aO?t.hO?[3,3]:(n=t.py([DT.rO,DT.fa]),[4,t.Het.requestPictureInPicture()]):[3,4];case 1:return i.sent(),[4,n];case 2:i.sent(),t.Zet||t._o(new QT),i.label=3;case 3:return[3,5];case 4:t._o(new QT),i.label=5;case 5:return[2]}}))}))()},i.xo=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.aO?t.Zet?(n=t.py([DT.oO,DT.fa]),[4,t.Het.ownerDocument.exitPictureInPicture()]):[3,3]:[3,4];case 1:return i.sent(),[4,n];case 2:i.sent(),t.Zet&&t._o(new QT),i.label=3;case 3:return[3,5];case 4:t._o(new QT),i.label=5;case 5:return[2]}}))}))()},i.yn=function(){this.Ro(),this.Het.removeEventListener("enterpictureinpicture",this.Xet),this.Het.removeEventListener("leavepictureinpicture",this.zet)},Nt(n,[{key:"aO",get:function(){var t;return null!=(t=this.Het.ownerDocument.pictureInPictureEnabled)&&t}},{key:"hO",get:function(){return this.Zet}}]),n}(ra);function Wx(t){var n=new TI,i=function(t){var n=[];return kI.aa(t)&&n.push(new kI(t)),AI.aa(t)&&n.push(new AI(t)),n}(t);if(i.length>0){for(var r=0;r<i.length;r++){var e=i[r];n.lK(e)}n.cK(i[0])}return n}var Zx=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e)||this).qet=Wx(n),u.Yet=new Ux(n),u.Ket=new AP,u.jet=new Fx(u.Ket.we,u.Hu,u.nt,u.Wl,u.Sa,u.fH),u}It(n,t);var i=n.prototype;return i.TI=function(){return this.$T},i.Xw=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.Yet.yn(),n.qet.yn(),n.Ket.yn(),n.jet.yn(),[4,t.prototype.Xw.call(n)];case 1:return i.sent(),[2]}}))}))()},i.be=function(){t.prototype.be.call(this),this.Ket.be()},i.ge=function(){t.prototype.ge.call(this),this.Ket.ge()},i.S7=function(n){t.prototype.S7.call(this,n),this.Ket.S7(n)},Nt(n,[{key:"jG",get:function(){return this.$T}},{key:"dI",get:function(){return this.$T.videoHeight}},{key:"vI",get:function(){return this.$T.videoWidth}},{key:"Sa",get:function(){return this.qet}},{key:"fH",get:function(){return this.Yet}}]),n}(wP);F(),Tt(),Gt(),Dt(),Rt(),Ut(),qt(),F(),Tt();F(),Tt(),Gt(),qt(),F(),Tt();var Xx=!1,Gx=function(t){return t.Qet="HELLO",t.Jet="HI_THERE",t.$et="INITIALIZE",t.tit="APPEND_INIT",t.eit="APPEND_DATA",t.iit="ACK",t.sit="REMOVE",t.nit="DESTROY_SESSION",t}({}),Hx=function(){function t(){this.Yo=new hd}var n=t.prototype;return n.rit=function(t){var n=this;return this.Yo.Qo(Zt((function(t){var i,r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return Vo(t),i=new MessageChannel,r=i.port1,e=i.port2,l.serviceWorker.controller?[3,2]:[4,ql(l.serviceWorker,"install",t)];case 1:c.sent(),c.label=2;case 2:return"activated"===l.serviceWorker.controller.state?[3,4]:[4,ql(l.serviceWorker.controller,"activate",t)];case 3:c.sent(),c.label=4;case 4:u={kind:"HELLO",port:e},l.serviceWorker.controller.postMessage(u,[e]),r.start(),n.Bp=r,c.label=5;case 5:return c.trys.push([5,7,,8]),[4,ql(r,"message",t)];case 6:if(s=c.sent(),"HI_THERE"!==(o=s.data).kind)throw new p("Could not set up message channel");return n.rk=o.sessionId,[3,8];case 7:throw Bo(a=c.sent())&&n.oit(),a;case 8:return[2]}}))})),t)},n.hit=function(t,n){this.Bp;var i=this;return this.Yo.Qo(Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:if(!i.Bp)throw new p("MessageSession not set up yet or already closed.");return n||(n=[]),i.Bp.postMessage(t,n),[4,ql(i.Bp,"message")];case 1:return[2,r.sent().data]}}))})))},n.ait=function(){var t=this;return this.Yo.Qo((function(){return t.oit()}))},n.oit=function(){if(l.serviceWorker.controller&&"activated"===l.serviceWorker.controller.state&&this.Bp){var t={kind:"DESTROY_SESSION"};Xx,this.Bp.postMessage(t),this.Bp.close(),this.Bp=void 0}},t}();F(),Tt(),Dt();var zx=function(){function t(){this.cit=1/0}var n=t.prototype;return n.dit=function(t,n){var i=t-n;this.cit=i>this.uit?this.cit:i},n.fit=function(t){this.cit=t},Nt(t,[{key:"uit",get:function(){return this.cit}}]),t}();F(),Tt(),Gt(),Dt(),qt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt();var Yx=function(t){return t.vE="audio",t.mE="video",t.eW="metadata",t}({}),jx=function(t){function n(n,i){var r;return(r=t.call(this)||this).dY=n,r.yit=i,r._it=void 0,r.vit=void 0,r.Yo=new hd,r.git=!1,r.mit=!1,r}It(n,t);var i=n.prototype;return i.A3=function(t,n){},i.S3=function(t,n){},i.RJ=function(){return this.mit},i.T3=function(){return Zt((function(){return Ht(this,(function(t){return[2]}))}))()},i.F2=function(t,n){return Zt((function(){return Ht(this,(function(t){return[2]}))}))()},i.g2=function(t,n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){if(t.Tw!==xR.iJ)throw new p("Streaming or opaque segments are not supported yet.");return e=t.Kk,u=Zt((function(){var t,i,u;return Ht(this,(function(s){switch(s.label){case 0:return t=e.buffer,i={kind:Gx.eit,mediaType:Kx(r.dY),segment:e,startPts:n.wit,totalDuration:n.ct},[4,r.yit.hit(i,[t])];case 1:return s.sent(),void 0===r._it&&(u=n.wit+n.BV,r._it=u,r.vit=u),r.vit=r.vit+n.ct,r._o(new sa(DR.tJ)),[2]}}))})),[2,r.Yo.Qo(Zt((function(t){return Ht(this,(function(n){switch(n.label){case 0:Vo(t),n.label=1;case 1:return n.trys.push([1,,3,4]),r.git=!0,[4,u()];case 2:return n.sent(),[3,4];case 3:return r.git=!1,[7];case 4:return[2]}}))})),i)]}))}))()},i.A2=function(t,n,i){var r=this;return Zt((function(){var n,e;return Ht(this,(function(u){if(t.Tw!==xR.iJ)throw new p("Streaming or opaque initialization segments are not supported yet.");return n=t.Kk,e=Zt((function(){var t;return Ht(this,(function(i){switch(i.label){case 0:return t={kind:Gx.tit,mediaType:Kx(r.dY),segment:n},[4,r.yit.hit(t,[])];case 1:return i.sent(),[2]}}))})),[2,r.Yo.Qo(Zt((function(t){return Ht(this,(function(n){switch(n.label){case 0:Vo(t),n.label=1;case 1:return n.trys.push([1,,3,4]),r.git=!0,[4,e()];case 2:return n.sent(),[3,4];case 3:return r.git=!1,[7];case 4:return[2]}}))})),i)]}))}))()},i.a3=function(){this.mit=!0},i.J2=function(){this.mit=!1},i.eT=function(t,n,i){var r=this;return Zt((function(){var t;return Ht(this,(function(e){return t=Zt((function(){var t;return Ht(this,(function(i){switch(i.label){case 0:return t={kind:Gx.sit,mediaType:Kx(r.dY),endTime:n},[4,r.yit.hit(t)];case 1:return i.sent(),r._it=void 0,r.vit=void 0,r._o(new sa(DR.tJ)),[2]}}))})),[2,r.Yo.Qo(Zt((function(n){return Ht(this,(function(i){switch(i.label){case 0:Vo(n),i.label=1;case 1:return i.trys.push([1,,3,4]),r.git=!0,[4,t()];case 2:return i.sent(),[3,4];case 3:return r.git=!1,[7];case 4:return[2]}}))})),i)]}))}))()},i.dJ=function(t){return this.dY===t.Mk},i._J=function(t){return this.dY=t.Mk,et.resolve()},i.Xw=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.Ro(),[4,t.Yo.yn()];case 1:return n.sent(),[2]}}))}))()},Nt(n,[{key:"wR",get:function(){return void 0===this._it||void 0===this.vit?SA.pB():new SA([this._it,this.vit])}},{key:"kd",get:function(){return{Mk:this.dY}}},{key:"m3",get:function(){return Fs(this.dY,"audio")?qg.vE:Fs(this.dY,"video")?qg.mE:qg.iE}},{key:"jq",get:function(){return this.dY}},{key:"w3",get:function(){return SA.pB()}},{key:"bj",get:function(){return 30},set:function(t){}},{key:"Ej",get:function(){return 30},set:function(t){}},{key:"va",get:function(){return this.git}},{key:"pit",get:function(){return this._it}},{key:"UO",get:function(){return this.vit}}]),n}(ra);function Kx(t){return t.match(/video/)?Yx.mE:Yx.vE}var qx=function(){function t(t,n,i,r){this.uT=void 0,this.MT=t,this.c4=ho(n,(function(t){return Boolean(t.jq.match(/video/))})),this.u4=ho(n,(function(t){return Boolean(t.jq.match(/audio/))})),this.Nw=i,this.$T=r,this.Sit()}var n=t.prototype;return n.Sit=function(){},n.Xw=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,et.all([t.u4,t.c4].filter(Yn).map((function(t){return t.Xw()})))];case 1:return n.sent(),[2]}}))}))()},n.d4=function(t){},n.m4=function(t,n,i,r){},n.a3=function(){var t,n;null==(t=this.u4)||t.a3(),null==(n=this.c4)||n.a3()},n.J2=function(){var t,n;null==(t=this.u4)||t.J2(),null==(n=this.c4)||n.J2()},n.dJ=function(t){return!0},n._J=function(t){return this.MT=t,et.resolve()},n.mJ=function(t){},n.cJ=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return[4,i.Nw.Dw(t.Ew,n)];case 1:return[4,e.sent()._T()];case 2:return r=e.sent(),[4,i.lJ(r)];case 3:return e.sent(),[2,r]}}))}))()},n.lJ=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:if(t&&!n.$T.src)throw new Qg(td.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");if(!t&&n.$T.src)throw new Qg(td.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");return(i=n.uT)?[4,i.dT(n.$T)]:[3,2];case 1:r.sent(),n.uT=void 0,r.label=2;case 2:return t?[4,t.kn(n.$T)]:[3,4];case 3:r.sent(),n.uT=t,r.label=4;case 4:return[2]}}))}))()},t.Ait=function(n,i,r,e){for(var u=[],s=0;s<n.g4.length;s++){var o=n.g4[s].Mk;u.push(new jx(o,i))}return new t(n,u,r,e)},Nt(t,[{key:"Tit",get:function(){return[this.u4,this.c4].filter(Yn)}},{key:"h4",get:function(){return this.u4}},{key:"wR",get:function(){return iN(this)}},{key:"kd",get:function(){return this.MT}},{key:"ct",get:function(){return 0}},{key:"RJ",get:function(){var t,n,i,r,e=null==(i=null==(t=this.u4)?void 0:t.RJ())||i,u=null==(r=null==(n=this.c4)?void 0:n.RJ())||r;return e&&u}},{key:"hI",get:function(){return new SA([0,1/0])}},{key:"a4",get:function(){return this.c4}}]),t}(),Jx=function(t){function n(n,i,r,e){var u,s;return u=t.call(this)||this,s=u,u.Hit=!0,u.yit=new Hx,u.Vit=new zx,u.Xit=!0,u.qit=new Gc,u.cZ=!1,u.o8=et.resolve(),u.r8=new Yo,u.zit=!0,u.Uo=SA.pB(),u.b7=!1,u.Eit=function(){u.KR||u.Uit.V<=0||u.wR.V<=0||u.Vit.dit(u.wR.Tn(u.wR.V-1),u.Uit.Tn(u.Uit.V-1))},u.xit=function(){u._o(new dT(u.ER))},u.Rit=function(){u._o(new lg(u.ER,u.bR))},u.Iit=function(){u._o(new vT(u.ER,u.QR))},u.Cit=function(){u._o(new wT(u.ER,u.gI))},u.Pit=function(){u._o(new fT(u.ct))},u.Dit=function(){u._o(new Ip(u.ER))},u.Nit=function(){u.Rb(u.ER)},u.Mit=Zt((function(){return Ht(this,(function(t){return s.zit&&s._o(new hT(s.ER)),s.Xit=!1,s.zit=!0,[2]}))})),u.Lit=function(){u.Xit=!0,u._o(new cT(u.ER))},u.f7=function(t){var n,i=t.initDataType,r=null!=(n=t.initData)?n:new ArrayBuffer(0);u._o(new la(i,r))},u.Het=n,u.B9=new mN(u),u.Kit=r,u.wZ=e,u.Het.playsInline=!0,u.Het.style.width="100%",u.Het.style.height="100%",u.kit(),u.Oit(),u.qet=Wx(u.Het),u.ta=new Ux(u.Het),u.vJ=new sP(u),u.Nw=i,u.Hl=new Hy,u.b8=new WD(u),u.Ket=new AP,u.jet=new Fx(u.Ket.we,u.Hu,u.nt,u.Wl,u.Sa,u.fH),u}It(n,t);var i=n.prototype;return i.kit=function(){this.Het.addEventListener("timeupdate",this.Eit),this.Het.addEventListener("ended",this.xit),this.Het.addEventListener("timeupdate",this.Rit),this.Het.addEventListener("ratechange",this.Iit),this.Het.addEventListener("volumechange",this.Cit),this.Het.addEventListener("durationchange",this.Pit),this.Het.addEventListener("playing",this.Dit),this.Het.addEventListener("seeking",this.Nit),this.Het.addEventListener("play",this.Mit),this.Het.addEventListener("pause",this.Lit),this.Het.addEventListener("encrypted",this.f7)},i.Bit=function(){this.Het.removeEventListener("timeupdate",this.Eit),this.Het.removeEventListener("ended",this.xit),this.Het.removeEventListener("timeupdate",this.Rit),this.Het.removeEventListener("ratechange",this.Iit),this.Het.removeEventListener("volumechange",this.Cit),this.Het.removeEventListener("durationchange",this.Pit),this.Het.removeEventListener("playing",this.Dit),this.Het.removeEventListener("seeking",this.Nit),this.Het.removeEventListener("play",this.Mit),this.Het.removeEventListener("pause",this.Lit)},i.Oit=function(){this.B9.bn(yp.iC,this.Ds)},i.Fit=function(){this.B9.vn(yp.iC,this.Ds)},i.Rb=function(t,n,i){this.r8.jw(),this.r8=new Yo,this.o8=Zo(this.h8(t,this.o8,this.r8.Uw),this.r8).catch(bi)},i.h8=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return r.Uo=r.tI,(s=null==(u=r.JG)?void 0:u.Tit)?(o=(e=k).max.apply(e,Ft(s.map((function(t){return t.pit?t.pit:1/0})))),r.cZ=!0,r._o(new lT(t)),[4,n.catch(bi)]):[2];case 1:c.sent(),Vo(i),c.label=2;case 2:return c.trys.push([2,7,8,9]),r.Hit||r.Zit(),r.Het.load(),r.Xit?[3,4]:(r.zit=!1,[4,Wo(r.Het.play(),i)]);case 3:c.sent(),c.label=4;case 4:return r.rI<bp.iO?[4,r.B9.py(yp.iC,i)]:[3,6];case 5:return c.sent(),[3,4];case 6:return r.qit.Vb(),r.Hit=!1,r.cZ=!1,r._o(new gT(r.ER)),[3,9];case 7:throw a=c.sent(),r.qit.Wb(a),a;case 8:return r.Yit(),r.Vit.fit(o),[7];case 9:return[2]}}))}))()},i.EI=function(){this.Xit=!0,this.Het.pause()},i.xI=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.Xit?(t.Het.src||t.A7(),[4,t.qit.Ub]):[2];case 1:return n.sent(),[4,t.Het.play()];case 2:return n.sent(),[2]}}))}))()},i.Xw=function(){var t=this;return Zt((function(){return Ht(this,(function(n){return t.yit&&t.yit.ait().catch(bi),t.r8.jw(),t.Bit(),t.Fit(),t.B9.Xw(),t.Ro(),t.Hl.yn(),t.Ket.yn(),t.jet.yn(),[2]}))}))()},i.nr=function(){var t=this;return Zt((function(){return Ht(this,(function(n){return t.yit&&t.yit.ait().catch(bi),t.r8.jw(),t.Het.removeAttribute("src"),t.Het.removeAttribute("x-webkit-wirelessvideoplaybackdisabled"),t.Het.removeAttribute("x-airplay-deny"),t.Het.disableRemotePlayback=!1,t.Het.load(),t.B9.nr(),t.Uo=SA.pB(),[2]}))}))()},i.A7=function(){this.y7||(rL(this.Het,Kn.Ys),this.b7=!0)},i.Zit=function(){var t,n=this.Het.getClientRects();if(n.length>0){var i,r,e=(t=n[0]).width,u=this.Het.videoWidth/this.Het.videoHeight,s=t.height;e/s>u?(i=s*u,r=s):(r=e/u,i=e),this.Het.style.width=i+"px",this.Het.style.height=r+"px",this.Het.style.marginLeft=(e-i)/2+"px",this.Het.style.marginTop=(s-r)/2+"px",this.Het.style.backgroundColor="black"}},i.Yit=function(){this.Het.style.width="100%",this.Het.style.height="100%",this.Het.style.marginLeft="",this.Het.style.marginTop="",this.Het.style.backgroundColor=""},i.lH=function(t,n,i,r,e){},i.OI=function(t,n,i,r,e,u,s,o,a){var c=new FN(t,n,i,r,e,u,s,a,o);return this.Hl.tt(c),this.b8.tt(c),c},i._H=function(t){throw p("Not supported.")},i.MJ=function(t){},i.HR=function(){return hR(this.Het)},i.ge=function(){this.Het.style.display="block",this.Ket.ge()},i.be=function(){this.Het.style.display="none",this.Ket.be()},i.p7=function(){},i.$n=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:if(t.Tw===mp.pW)throw new p("Not yet implemented");return[4,n.yit.rit()];case 1:return e.sent(),i=ho(t.sH,(function(t){return t.cT.Tw===Rs.Aw})),r={kind:Gx.$et,mediaBufferConfigs:t.g4.map((function(t){return t.Mk})),fairPlaySdkUri:null==i?void 0:i.WU},[4,n.yit.hit(r)];case 2:return e.sent(),n.JG=qx.Ait(t,n.yit,n.Nw,n.Het),n.vJ.$n(n.JG,t),n.Het.setAttribute("x-webkit-airplay","deny"),n.Het.setAttribute("x-webkit-wirelessvideoplaybackdisabled",""),n.Het.disableRemotePlayback=!0,n.Het.preload="none",n.Het.src="https://theo.proxy/"+n.yit.rk+"/master.m3u8",[2,n.JG]}}))}))()},i.w7=function(){},i.mW=function(t){this.Hl.it(t),this.b8.it(t)},i.vH=function(){for(var t=0,n=this.Hl.lC.slice();t<n.length;t++){n[t].yn()}this.Hl.nr()},i.zG=function(t){},i.uH=function(){return!1},i.S7=function(t){t.appendChild(this.Het),this.Ket.S7(t)},i.TI=function(){return this.Het},i.NI=function(){},Nt(n,[{key:"jG",get:function(){return this.Het}},{key:"U4",get:function(){return!1}},{key:"ER",get:function(){return this.Het.currentTime+this.Vit.uit}},{key:"KR",get:function(){return this.Het.paused}},{key:"gI",get:function(){return this.Het.volume},set:function(t){this.Het.volume=t}},{key:"QR",get:function(){return this.Het.playbackRate},set:function(t){this.Het.playbackRate=t}},{key:"Wit",get:function(){return this.Het.defaultPlaybackRate}},{key:"wR",get:function(){var t,n;return null!=(n=null==(t=this.JG)?void 0:t.wR)?n:SA.pB()}},{key:"Uit",get:function(){return SA.Cn(this.Het.buffered)}},{key:"tI",get:function(){var t=this.Git;return this.Uo.tB(t.xb(this.Vit.uit))}},{key:"Git",get:function(){return SA.Cn(this.Het.played)}},{key:"uI",get:function(){return this.cZ}},{key:"M4",get:function(){return!1}},{key:"X4",get:function(){return!1}},{key:"ct",get:function(){return this.Het.duration}},{key:"ZR",get:function(){return this.Het.muted},set:function(t){this.Het.muted=t}},{key:"wet",get:function(){return this.Het.style}},{key:"qB",get:function(){return ns({},CR,{zB:!0})}},{key:"rI",get:function(){return this.B9.rI}},{key:"dI",get:function(){return this.Het.videoHeight}},{key:"vI",get:function(){return this.Het.videoWidth}},{key:"PR",get:function(){return this.Het.ended}},{key:"Ti",get:function(){return this.Het.offsetHeight*Kn.Ys.Kg}},{key:"ji",get:function(){return this.Het.offsetWidth*Kn.Ys.Kg}},{key:"WR",get:function(){return!1}},{key:"y7",get:function(){return this.b7}},{key:"bR",get:function(){}},{key:"Hu",get:function(){return this.Kit}},{key:"lt",get:function(){}},{key:"Sa",get:function(){return this.qet}},{key:"fH",get:function(){return this.ta}},{key:"hI",get:function(){return this.JG?this.JG.hI:SA.pB()}},{key:"$G",get:function(){}},{key:"nt",get:function(){return this.Hl}},{key:"Wl",get:function(){return this.wZ}},{key:"AI",get:function(){return!1},set:function(t){}},{key:"G9",get:function(){return"block"===this.Het.style.display}},{key:"wH",get:function(){return this.vJ.wH},set:function(t){this.vJ.wH=t}},{key:"T7",get:function(){},set:function(t){}},{key:"h9",get:function(){}}]),n}(ra),Qx=[qg.vE,qg.mE],$x=function(){function t(t,n,i,r,e){void 0===i&&(i=2),void 0===r&&(r=Qx),void 0===e&&(e=_d()),this.nrt=i,this.jnt=Ft(r),this.Nw=e,this.Ku=t,this.wZ=n,this.Qnt=rs(),this.irt()}var n=t.prototype;return n.AZ=function(t){for(var n=0,i=this.yZ;n<i.length;n++){i[n].S7(t)}},n.OH=function(t){var n=ho(this.Qnt.get(t),(function(t){return t.trt}));if(n)return n.trt=!1,n.Jnt},n.ert=function(t){if(!this.$nt){var n,i=null==(n=this.Qnt.get(qg.mE))?void 0:n[0].Jnt.jG;if(!i)throw new p("Error creating iOS Safari MediaController");this.$nt=new Jx(i,this.Nw,this.Ku,this.wZ),i.parentElement&&this.$nt.S7(i.parentElement)}return this.$nt},n.yH=function(t){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:return i=t.jG,r=i.tagName.toLowerCase(),[4,t.nr()];case 1:return u.sent(),iL(i),(e=ho(n.Qnt.get(r)||[],(function(n){return t===n.Jnt})))&&(e.trt=!0),[2]}}))}))()},n.vZ=function(){for(var t=0,n=this.yZ;t<n.length;t++){n[t].A7()}},n.yn=function(){for(var t=0,n=this.yZ;t<n.length;t++){var i=n[t],r=i.jG;i.Xw(),nL(r),oi(r)}this.Qnt.clear(),this.$nt=void 0},n.irt=function(){for(var t=0,n=this.jnt;t<n.length;t++){var i=n[t],r=[];this.Qnt.set(i,r);for(var e=0;e<this.nrt;e++){var u=tL(i),s=i===qg.vE?new kP(u,this.Nw,this.Ku):new Zx(u,this.Nw,this.Ku,this.wZ);r.push({Jnt:s,trt:!0})}}},Nt(t,[{key:"yZ",get:function(){for(var t=[],n=0,i=this.jnt;n<i.length;n++){var r=i[n],e=this.Qnt.get(r);if(e){var u,s=e.map((function(t){return t.Jnt}));(u=t).push.apply(u,Ft(s))}}return this.$nt&&t.push(this.$nt),t}}]),t}();function tL(t){var n=v.createElement(t);return Ei(n)&&n.addEventListener("contextmenu",eL),iL(n),n}function nL(t){iL(t),t.removeEventListener("contextmenu",eL)}function iL(t){t.removeAttribute("id"),t.removeAttribute("class"),t.removeAttribute("style"),ai(t),Ii(t),t.pause(),t.playbackRate=1,t.disableRemotePlayback=!1,t.preload=zT.JB,t.controls=!1,t.style.display="none",Ei(t)&&(t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",t.playsInline=!0,t.setAttribute("webkit-playsinline",""))}function rL(t,n){if(n.mp){var i=t.muted;t.muted=!0,t.muted=!1,t.muted=i}else if(t.paused){var r=t.play();ii(r)&&qo(r),t.pause()}}function eL(t){t.preventDefault()}F(),Tt(),Gt(),Rt(),qt(),F(),Tt();var uL=function(){function t(t){this.fW=t}var n=t.prototype;return n.Qk=function(t){return this.fW.Qk(t)},n.NE=function(t){this.fW.NE(t)},n.yn=function(){this.fW.yn()},t}(),sL=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).gZ=i,r}It(n,t);var i=n.prototype;return i.Qk=function(t){var n=new vl(t),i=this.gZ.cj.SG(n);return i?this.jit(n,i):this.fW.Qk(n)},i.jit=function(t,n){var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return n.dj(Kn.Wg()/1e3),[4,i.fW.Qk(t)];case 1:return r=s.sent(),n._j(Kn.Wg()/1e3),e=r.Vk?r.Nk().pipeThrough(new Od(new oL(n))):r.Dk().then((function(t){var i=Kn.Wg()/1e3;return n.vj(i,new E(t)),n.mj(i),t})),u={Kk:e,Qk:r.Qk},[2,new sl(u,r)]}}))}))()},n}(uL),oL=function(){function t(t){this.Qit=t}var n=t.prototype;return n.start=function(t){this.FQ=t},n.transform=function(t){this.Qit.vj(Kn.Wg()/1e3,t),this.FQ.enqueue(t)},n.flush=function(){this.Qit.mj(Kn.Wg()/1e3)},t}();function aL(t){return{get ratio(){return t.Vo},get thresholds(){return t.Jit.slice()}}}function cL(t){var n=[],i=k.floor(1/t);if(S(i))return[];for(var r=0;r<=i;r++){var e=sr(r*t,0,1);n.push(e)}return n}F(),Tt(),Dt(),F(),Tt(),Dt(),Rt(),F(),Tt();var hL=function(){function t(t,n,i){this.$it=1,this.eu=void 0,this.tst=cL(n);var r=this.ist(i);this.sst=new f.IntersectionObserver(r,{root:null,threshold:this.tst}),this.sst.observe(t)}var n=t.prototype;return n.ist=function(t){var n=this;return function(i){var r=i[i.length-1];n.$it=r.intersectionRatio,t(r.intersectionRatio)}},n.RI=function(){this.sst.disconnect()},Nt(t,[{key:"Vo",get:function(){return this.$it}},{key:"Jit",get:function(){return this.tst}},{key:"wa",get:function(){return this.eu||(this.eu=aL(this)),this.eu}}]),t}(),fL=function(){function t(t,n){this.$it=1,this.rst=-1,this.eu=void 0,this.tst=cL(t),this.ost=n}return t.prototype.nst=function(t){this.$it=t;var n=this.tst,i=0;if(t>0)for(;i<n.length&&n[i]<=t;)++i;this.rst!==i&&(this.rst=i,this.ost(t))},Nt(t,[{key:"Vo",get:function(){return this.$it}},{key:"Jit",get:function(){return this.tst}},{key:"wa",get:function(){return this.eu||(this.eu=aL(this)),this.eu}}]),t}(),vL=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).ast=Ai((function(){return e.nst(e.hst())}),50),e.po=n,f.addEventListener("scroll",e.ast,!!vI&&{passive:!0}),Ko((function(){return e.nst(e.hst())})),e}It(n,t);var i=n.prototype;return i.hst=function(){var t=this.po.getBoundingClientRect();return sr(k.max(0,k.min(f.innerWidth,t.right)-k.max(0,t.left))*k.max(0,k.min(f.innerHeight,t.bottom)-k.max(0,t.top))/(t.width*t.height),0,1)},i.RI=function(){f.removeEventListener("scroll",this.ast)},n}(fL),dL=function(){function t(t){this.cst=1,this.lst=0,this._st=[],this.eu=void 0,this.po=t,this.Io(.1,this.fst())}var n=t.prototype;return n.fst=function(t){var n=this;return function(i){n.cst=i,null==t||t(n.cst)}},n.Io=function(t,n){if(S(t))throw new _("step is not of the right type");if(t>1||t<=0)throw new RangeError("The step must be a number greater than 0 and smaller than or equal to 1");var i;return i="function"==typeof f.IntersectionObserver?new hL(this.po,t,this.fst(n)):new vL(this.po,t,this.fst(n)),this._st.push(i),i},n.Do=function(t){t.RI(),wo(this._st,t)},n.dst=function(t){for(var n=0,i=this._st;n<i.length;n++){var r=i[n];if(r.wa===t)return r}},n.yn=function(){for(var t=0,n=this._st;t<n.length;t++){n[t].RI()}bo(this._st)},Nt(t,[{key:"ust",get:function(){return this.cst}},{key:"Oo",get:function(){return this.lst},set:function(t){if(S(t)||t<0||t>1)throw new RangeError("The threshold must be a value between 0 and 1");this.lst=t}},{key:"wa",get:function(){return this.eu||(this.eu=function(t){return{get ratio(){return t.ust},get visible(){return t.ust>t.Oo},get visibleThreshold(){return t.Oo},set visibleThreshold(n){n=Og(n),t.Oo=n},addObserver:function(n,i){return n=Og(n),t.Io(n,i).wa},removeObserver:function(n){var i=t.dst(n);i&&t.Do(i)}}}(this)),this.eu}}]),t}();F(),Tt(),Rt();var lL=function(t){function n(){return t.call(this,oa.Ry)||this}return It(n,t),n}(sa),gL=function(t){function n(n,i,r){var e;(e=t.call(this)||this).mst=!1,e.mo=!1,e.sZ=void 0,e.Pst=!1,e.Ma=void 0,e.Est=function(t){if(!e.Pst){e.Pst=!0;var n=e.Dst,i=iw(t);e.Ta.vC=new rS(e.we,i,t),qo(n.yn())}},e.Nst=function(t){t.type!==oa.Xy&&t.type!==oa.Zy&&e._o(t)};var u=Og(i.uid);S(u)?e.IO=dw++:e.IO=u,e.kd=i;var s=Kn.fR,o=new _R;e.Cst=new QE("9.3.0",s,o),e.gZ=new tR,e.pZ=new Nk;var a=new sL(s,e.gZ);e.fR=new WI(a,i.allowMixedContent),e.CQ=null!=r?r:new EE(i.isEmbeddable,"9.3.0",_E()),e.kst=new pR(s,e.CQ,e.Cst,o,i,_E()),e.kst.kQ().catch(e.Est),e.yst=new yI(n),e.yst.bn(sI.mn,e.Ds),e.wZ=new ER,e.Hj=new uR,e.sQ=new oR;var c=new iS(n,i,e.fR,e.gZ,e.pZ,e.yst,e.wZ);e.gZ.xj(c);var h=c;return h=new sR(h,e.Sst),h=new aR(h,e.iQ),e.Dst=h,e.Ta=new OT(e.Dst),e.Ta.oy(e.Nst),e.bst=new cR(e.Ta),e.Ast=new GI(e.Ta,e.fR,e.gZ),e.Rst=new uI(e),e.Ist=new SI(e.Ta,i.allowNativeFullscreen),e.xst=new DI(e.Ist,e.Ta.ja()),e.yst.kn(),e.Eo=new dL(n),e.mZ=new WT(e.yst,e.wZ,1,[qg.mE]),e.pst=new ZT(e.mZ),e.wst=new dR,e}It(n,t);var i=n.prototype;return i.yR=function(){return this.Ta.wR},i.xR=function(){return this.Ta.ER},i.RR=function(t,n){this.Ta.RR(t,n)},i.Tst=function(){return this.xR()},i.jd=function(){return this.Ta.ct},i.NR=function(){return this.Ta.lt},i.LR=function(){return this.Ta.MR},i.zR=function(t){this.Ta.ZR=t,t||this.KR||this.kI()},i.JR=function(){return this.Ta.QR},i.$R=function(t){this.Ta.QR=t},i.eI=function(){return this.Ta.tI},i.aI=function(){return this.Ta.hI},i.wI=function(t){this.Ta.gI=t},i.Aa=function(){ET(this,wS,this)},i.xI=function(){this.Ta.xI()},i.EI=function(){this.Ta.EI()},i.iu=function(){return this.sZ},i.Ca=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return i.sZ=t,t?(i.kst.gq(t).catch(i.Est),r=function(t){t.sources;var n=t.sources.filter((function(t){return jn(t.integration)}));return t.sources=n,t}(t),[4,i.Ta.Ca(r,n)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))()},i.kI=function(){if(!this.mo){this.Ta.kI(),this.pst.kI();for(var t=this.we.getElementsByTagName("video"),n=0;n<t.length;n++){var i=t[n];"Advertisement"===i.title&&rL(i,Kn.Ys)}this.mo=!0}},i.cs=function(){return this.xst.Ho()===_T.FULLSCREEN},i.ge=function(){this.Ta.ge()},i.be=function(){this.Ta.be()},i.TI=function(){return this.Ta.TI()},i.NI=function(){this.Ta.NI()},i.MI=function(){this.Ta.MI()},i.OI=function(t){return this.Ta.OI(t)},i.RI=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.sZ=void 0,[4,t.Ta.RI()];case 1:return n.sent(),[4,t.Ta.nr()];case 2:return n.sent(),[2]}}))}))()},i.yn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t._o(new lL),t.Ro(),t.wst.yn(),t.fR.yn(),t.Ast.yn(),t.Rst.yn(),t.Ist.yn(),t.xst.yn(),t.yst.yn(),t.Cst.yn(),t.pst.yn(),t.mZ.yn(),[4,t.Ta.yn()];case 1:return n.sent(),[2]}}))}))()},Nt(n,[{key:"vst",get:function(){return this.gZ}},{key:"SO",get:function(){return this.mst},set:function(t){this.mst=t,this.Ta.SO=t}},{key:"gst",get:function(){return this.pst}},{key:"ht",get:function(){return this.Ta.ht}},{key:"Iz",get:function(){return this.wst}},{key:"Hu",get:function(){return this.yst}},{key:"OR",get:function(){return this.Ta.OR}},{key:"GR",get:function(){return this.bst}},{key:"XX",get:function(){return this.Ast}},{key:"nt",get:function(){return this.Ta.nt}},{key:"Wl",get:function(){return this.wZ}},{key:"rt",get:function(){return this.Ta.rt}},{key:"wR",get:function(){return this.yR()}},{key:"Sst",get:function(){return this.Hj}},{key:"iQ",get:function(){return this.sQ}},{key:"ER",get:function(){return this.xR()},set:function(t){this.RR(t)}},{key:"bR",get:function(){return this.Ta.bR},set:function(t){this.Ta.bR=t}},{key:"bt",get:function(){return this.Ta.bt}},{key:"ct",get:function(){return this.jd()}},{key:"we",get:function(){return this.Ta.we}},{key:"PR",get:function(){return this.Ta.PR}},{key:"lt",get:function(){return this.NR()}},{key:"MR",get:function(){return this.LR()}},{key:"Sa",get:function(){return this.Ta.SI()}},{key:"fH",get:function(){return this.Ta.ja()}},{key:"AI",get:function(){return this.Ta.AI},set:function(t){this.Ta.AI=t}},{key:"ZR",get:function(){return this.Ta.ZR},set:function(t){var n=Boolean(t);this.zR(n)}},{key:"KR",get:function(){return this.Ta.KR}},{key:"QR",get:function(){return this.JR()},set:function(t){this.$R(t)}},{key:"tI",get:function(){return this.eI()}},{key:"iI",get:function(){return this.Ta.iI},set:function(t){this.Ta.iI=t}},{key:"rI",get:function(){return this.Ta.rI}},{key:"hI",get:function(){return this.aI()}},{key:"uI",get:function(){return this.Ta.uI}},{key:"IC",get:function(){return this.IO}},{key:"dI",get:function(){return this.Ta.dI}},{key:"vI",get:function(){return this.Ta.vI}},{key:"gI",get:function(){return this.Ta.gI},set:function(t){var n=sr(Number(t),0,1)||0;this.wI(n)}},{key:"yI",get:function(){return this.pZ}}]),n}(ua);F(),Tt();var wL=self.CustomEvent;var mL=function(){try{var t=new wL("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=v.createEvent("CustomEvent");return i.initCustomEvent(t,(null==n?void 0:n.bubbles)||!1,(null==n?void 0:n.cancelable)||!1,null==n?void 0:n.detail),i};F(),Tt(),Dt();var yL=function(){function t(){this.yO=[],this.eu=void 0}var n=t.prototype;return n.fC=function(t){return this.yO[t]},n.jJ=function(t){this.yO.push(t),this.wa.push(t.wa)},n.eT=function(t){var n=this.yO.indexOf(t);n<0||(mo(this.yO,n),this.eu&&mo(this.eu,n))},n.zst=function(t){for(var n=0,i=this.yO;n<i.length;n++){var r=i[n];if(r.IC===t)return r}},Nt(t,[{key:"V",get:function(){return this.yO.length}},{key:"wa",get:function(){var t;return null!=(t=this.eu)?t:this.eu=function(t){for(var n=[],i=0;i<t.V;i++)n[i]=t.fC(i).wa;return n.getPlayerByUID=function(n){var i=t.zst(n);return i&&i.wa},n}(this)}}]),t}();var pL=new yL;function _L(t){var n,i,r=function(n){i=n;var r=uE(n,t.kd);t.Ca(r)},e={get abr(){return t.vst.wa},get ads(){var n;return null==(n=t.zc)?void 0:n.wa},get audioTracks(){return t.ht.wa},get autoplay(){return t.SO},set autoplay(n){t.SO=Boolean(n)},get buffered(){return t.yR()},get canvas(){return t.Rst.wa},get cast(){var n;return null==(n=t.Iz)?void 0:n.wa},get clip(){return t.Sst.wa},get currentProgramDateTime(){var n;return null!=(n=t.bR)?n:null},set currentProgramDateTime(n){t.bR=null!=n?n:void 0},get currentTime(){return t.xR()},set currentTime(n){t.RR(Number(n))},get duration(){return t.jd()},get element(){return t.we},get ended(){return t.PR},get error(){return t.NR()},get errorObject(){return t.LR()},get loop(){return t.iQ.iQ},set loop(n){t.iQ.iQ=Boolean(n)},get metrics(){return t.GR.wa},get muted(){return t.ZR},set muted(n){t.zR(n)},get network(){return t.XX.wa},get paused(){return t.KR},get playbackRate(){return t.QR},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.QR=i},get played(){return t.eI()},get poster(){return t.mi},set poster(n){t.mi=Vg(n)},get preload(){return t.iI},set preload(n){t.iI=function(t){switch(t){case"auto":case"":return"auto";case"metadata":return"metadata";default:return"none"}}(n)},get presentation(){return t.xst.wa},get readyState(){return t.rI},get seekable(){return t.aI()},get seeking(){return t.uI},get source(){return i},set source(t){r(t)},get src(){return KS(t.iu())},set src(t){r({sources:t})},get textTracks(){return t.nt.wa},get textTrackStyle(){return t.Wl.wa},get theoLive(){return t.Ost},get uid(){return t.IC},get videoHeight(){return t.dI},get videoTracks(){return t.rt.wa},get videoWidth(){return t.vI},get visibility(){return t.Eo.wa},get volume(){return t.gI},set volume(n){t.wI(Number(n))},get latency(){return t.yI.wa},get theoads(){return t.Vst},destroy:function(){t.yn(),t=null,i=void 0},play:function(){t.qst()},pause:function(){t.EI()},stop:function(){i=void 0,t.RI()},prepareWithUserAction:function(){t.kI()},addEventListener:function(t,i){n.bn(t,i)},removeEventListener:function(t,i){n.vn(t,i)},setSource:function(t){r(t)},addTextTrack:function(n){return t.OI(function(t){return{Lt:Vg(t.kind),Ch:Vg(t.label),gs:Vg(t.language),Tw:Vg(t.type)}}(n)).wa}};return(n=new RI(e,!0)).ru(t),n.bn("destroy",(function(){n.yn()})),e}F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),F(),Tt(),F(),Tt(),Rt();var bL=function(t){function n(n){var i;return(i=t.call(this,oa.uo)||this).source=n,i}return It(n,t),n}(sa);F(),Tt(),Dt(),Rt();var kL=function(t){function n(){var n;return(n=t.call(this)||this).uZ=0,n.dZ=!0,n.cZ=!1,n.fZ=1,n}It(n,t);var i=n.prototype;return i.xR=function(){return this.uZ},i.Tst=function(){return this.xR()},i.RR=function(t,n){this.cZ&&this.uZ===t||(this.uZ=t,this.cZ=!0,this._o(new lT(this.uZ)))},i.xI=function(){this.dZ&&(this.dZ=!1,this._o(new hT(this.uZ)),this._o(new Tp(this.uZ)))},i.EI=function(){this.dZ||(this.dZ=!0,this._o(new lg(this.uZ,this.bR)),this._o(new cT(this.uZ)))},i.nr=function(){this.uZ=0,this.cZ=!1,this.fZ=1,this.EI()},i.yn=function(){this.Ro()},i.be=function(){},i.ge=function(){},Nt(n,[{key:"bR",get:function(){},set:function(t){}},{key:"ER",get:function(){return this.xR()},set:function(t){this.RR(t)}},{key:"KR",get:function(){return this.dZ}},{key:"QR",get:function(){return this.fZ},set:function(t){this.fZ!==t&&(this.fZ=t,this._o(new vT(this.uZ,this.QR)))}},{key:"rI",get:function(){return bp.eO}},{key:"uI",get:function(){return this.cZ}}]),n}(ua);F(),Tt(),Dt();var AL={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},TL={visibility:"hidden"},SL={visibility:"visible"},EL=function(){function t(t){var n=this;this.Qst=!1,this.Jst=function(t){var i;n.Qst=!n.na.KR,n.Yst=null==(i=t.source)?void 0:i.poster,n.ir()},this.BW=function(){n.Qst=!0,n.be()},this.na=t,this.eZ(),this.Vs=function(){var t=f&&f.document&&f.document.createElement("div");return t.className="theoplayer-poster",wi(AL,t),t}(),t.we.appendChild(this.Vs)}var n=t.prototype;return n.ir=function(){var t=this.na.KR,n=this.Qst;this.Xu?this.Vs.style.backgroundImage='url("'+js(this.Xu)+'")':this.Vs.style.backgroundImage="",t&&this.Xu&&!n?this.ge():this.be()},n.ge=function(){wi(TL,this.na.we),wi(SL,this.Vs)},n.be=function(){wi(TL,this.Vs),wi(SL,this.na.we)},n.eZ=function(){this.na.bn(oa.uo,this.Jst),this.na.bn(oa.ho,this.BW)},n.yn=function(){this.na.vn(oa.uo,this.Jst),this.na.vn(oa.ho,this.BW),oi(this.Vs)},Nt(t,[{key:"Xu",get:function(){return void 0!==this.Yst?this.Yst:void 0!==this.Kst?this.Kst:void 0}},{key:"jst",set:function(t){this.Kst=t,this.ir()}}]),t}();F(),Tt(),Dt(),Rt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),F(),Tt();var IL=function(t){return t[t.$st=0]="$st",t[t.tnt=1]="tnt",t}({});function RL(t){var n,i={get playing(){return t.Vc},get currentAds(){return t.ent.map((function(t){return t.int()}))},get currentAdBreak(){var n,i;return null!=(i=null==(n=t.snt)?void 0:n.int())?i:null},get scheduledAds(){return t.nnt.map((function(t){return t.int()}))},get scheduledAdBreaks(){return t.rnt.map((function(t){return t.int()}))},skip:function(){t.MD()},schedule:function(n){var i=rE(n,yS.Vg);i?t.g6(i,IL.$st,!1):console.error("Invalid ad description")},registerServerSideIntegration:function(n,i){t.ont(n,i)},addEventListener:function(t,i){n.bn(t,i)},removeEventListener:function(t,i){n.vn(t,i)}};return n=new eR(t,i),i}var CL=function(t){function n(n){var i,r;return(i=t.call(this)||this).eu=void 0,i.Oc=n,null==(r=i.Oc)||r.oy(i.Ds),i}It(n,t);var i=n.prototype;return i.g6=function(t,n,i){var r;null==(r=this.Oc)||r.g6(t,n,i)},i.hnt=function(t){var n;null==(n=this.Oc)||n.hnt(t)},i.MD=function(){var t;null==(t=this.Oc)||t.MD()},i.ant=function(t){var n;null==(n=this.Oc)||n.ant(t)},i.ont=function(t,n){var i;null==(i=this.Oc)||i.ont(t,n)},i.yn=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.Ro(),void 0===n.Oc?[3,3]:(n.Oc.gy(n.Ds),t?[3,2]:[4,n.Oc.yn()]);case 1:i.sent(),i.label=2;case 2:n.Oc=void 0,i.label=3;case 3:return[2]}}))}))()},Nt(n,[{key:"Vc",get:function(){return!!this.Oc&&this.Oc.Vc}},{key:"ent",get:function(){return this.Oc?this.Oc.ent:[]}},{key:"snt",get:function(){return this.Oc?this.Oc.snt:null}},{key:"nnt",get:function(){return this.Oc?this.Oc.nnt:[]}},{key:"rnt",get:function(){return this.Oc?this.Oc.rnt:[]}},{key:"wa",get:function(){var t;return null!=(t=this.eu)?t:this.eu=RL(this)}}]),n}(ua);F(),Tt(),Rt(),F(),Tt(),Dt(),Rt();var NL=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).sd=i,r}return It(n,t),n}(gg),DL=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).adBreak=i,r}return It(n,t),Nt(n,[{key:"ad",get:function(){return this.adBreak}}]),n}(sa),PL=function(t){function n(n){return t.call(this,"unt",n)||this}return It(n,t),n.prototype.ka=function(){return new xL(this.sd.int())},n}(NL),xL=function(t){function n(n){return t.call(this,"removeadbreak",n)||this}return It(n,t),n}(DL);F(),Tt(),Rt();var LL=function(t){function n(n){return t.call(this,"cnt",n)||this}return It(n,t),n.prototype.ka=function(){return new ML(this.sd.int())},n}(NL),ML=function(t){function n(n){return t.call(this,"addadbreak",n)||this}return It(n,t),n}(DL);F(),Tt(),Rt(),F(),Tt(),Rt();var OL=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).lnt=i,r}return It(n,t),n}(gg),BL=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).ad=i,r}return It(n,t),n}(sa),VL=function(t){function n(n){return t.call(this,"dnt",n)||this}return It(n,t),n.prototype.ka=function(){return new FL(this.lnt.int())},n}(OL),FL=function(t){function n(n){return t.call(this,"addad",n)||this}return It(n,t),n}(BL);F(),Tt(),Rt();var UL=function(t){function n(n){return t.call(this,"fnt",n)||this}return It(n,t),n.prototype.ka=function(){return new WL(this.sd.int())},n}(NL),WL=function(t){function n(n){return t.call(this,"adbreakend",n)||this}return It(n,t),n}(DL);F(),Tt(),Rt();var ZL=function(t){function n(n){return t.call(this,"_nt",n)||this}return It(n,t),n.prototype.ka=function(){return new XL(this.sd.int())},n}(NL),XL=function(t){function n(n){return t.call(this,"adbreakbegin",n)||this}return It(n,t),n}(DL);F(),Tt(),Rt();var GL=function(t){function n(n,i){var r;return(r=t.call(this,"vnt",n)||this).currentTime=i,r}return It(n,t),n.prototype.ka=function(){return new HL(this.lnt.int(),this.currentTime)},n}(OL),HL=function(t){function n(n,i){var r;return(r=t.call(this,"adbegin",n)||this).currentTime=i,r}return It(n,t),n}(BL);F(),Tt(),Rt();var zL=function(t){function n(n,i){var r;return(r=t.call(this,"mnt",n)||this).currentTime=i,r}return It(n,t),n.prototype.ka=function(){return new YL(this.lnt.int(),this.currentTime)},n}(OL),YL=function(t){function n(n,i){var r;return(r=t.call(this,"adend",n)||this).currentTime=i,r}return It(n,t),n}(BL);F(),Tt(),Rt();var jL=function(t){function n(){return t.call(this,"gnt")||this}return It(n,t),n.prototype.ka=function(){return new KL},n}(gg),KL=function(t){function n(){return t.call(this,"adadded")||this}return It(n,t),n}(sa),qL=function(t){function n(n){var i;return(i=t.call(this,void 0)||this).na=n,i}return It(n,t),Nt(n,[{key:"vC",get:function(){return this.Oc},set:function(t){var n=this.Oc;if(n!==t){var i=this.ent,r=this.snt,e=this.nnt,u=this.rnt;null==n||n.gy(this.Ds),this.Oc=t,null==t||t.oy(this.Ds);for(var s=this.ent,o=this.snt,a=this.nnt,c=this.rnt,h=[],f=!1,v=0;v<u.length;v++){var d=u[v];po(c,d)||h.push(new PL(d))}for(var l=0;l<c.length;l++){var g=c[l];po(u,g)||h.push(new LL(g))}for(var w=0;w<a.length;w++){var m=a[w];po(e,m)||(h.push(new VL(m)),f=!0)}f&&h.push(new jL),r!==o&&(r&&h.push(new UL(r)),o&&h.push(new ZL(o)));for(var y=0;y<i.length;y++){var p=i[y];po(s,p)||h.push(new zL(p,this.na.xR()))}for(var _=0;_<s.length;_++){var b=s[_];po(i,b)||h.push(new GL(b,this.na.xR()))}for(var k=0;k<h.length;k++){var A=h[k];this._o(A)}}}}]),n}(CL);F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Dt(),Rt();var JL=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Vc=!1,n.snt=null,n.ent=[],n.rnt=[],n.nnt=[],n.eu=void 0,n}It(n,t);var i=n.prototype;return i.ant=function(t){},i.ont=function(t,n){},i.g6=function(t,n,i){},i.MD=function(){},i.hnt=function(t){},i.yn=function(){return this.Ro(),et.resolve()},Nt(n,[{key:"wa",get:function(){var t;return null!=(t=this.eu)?t:this.eu=RL(this)}}]),n}(ua),QL=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Ant=[],n.pnt=[],n}It(n,t);var i=n.prototype;return i.g6=function(t,n,i){this.pnt.push({wnt:t,ynt:n,bnt:i})},i.MD=function(){},i.ant=function(t){},i.ont=function(t,n){this.Ant.push({hP:t,Snt:n})},i.hnt=function(t){var n=this.Ant.slice(),i=this.pnt.slice();this.nr();for(var r=0;r<n.length;r++){var e=n[r];t.ont(e.hP,e.Snt)}for(var u=0;u<i.length;u++){var s=i[u];t.g6(s.wnt,s.ynt,s.bnt)}},i.Tnt=function(){var t=this.pnt.map((function(t){return t.wnt}));return this.nr(),t},i.nr=function(){bo(this.Ant),bo(this.pnt)},i.yn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.nr(),[4,t.prototype.yn.call(n)];case 1:return i.sent(),[2]}}))}))()},n}(JL);F(),Tt(),Rt();var $L,tM=function(t){function n(n){var i;return(i=t.call(this,"tizen2retry")||this).originalErrorEvent=n,i}return It(n,t),n}(sa);function nM(){if(!$L){var t=gL;t=function(t){return function(n){function i(i,r){for(var e=new t(i,r),u=0;u<Uk.length;u++){var s=Uk[u];if(Xk[s])for(var o=0,a=Xk[s];o<a.length;o++)e=(0,a[o])(e)}return n.call(this,e)||this}return It(i,n),i}(Vk)}(t);var n=function(t){return function(n){function i(i,r){var e;return(e=n.call(this)||this).Fnt=!0,e.k7=bp.eO,e.Lnt=!1,e.sZ=void 0,e.YG=void 0,e.TZ=void 0,e.Int=function(t){t.type!==oa.Yy&&e.Bnt.push(t)},e.Vnt=function(t){(t.type!==oa.ho||e.na.KR)&&(t.type===oa.zy&&e.na.KR||t.type===oa.Jy&&e.na.uI&&e.na.xR()===t.currentTime||t.type===oa.Yy&&e.na.QR===t.playbackRate||e._o(t))},e.LI=function(t){if(e.Lnt){if(t.type===yp.WL)return;t.type!==yp.BL&&t.type!==yp.UL||(e.Lnt=!1)}if(t.type===oa.ho){if(!e.Fnt)return;e.Fnt=!1}else if(t.type===oa.zy){if(e.Fnt)return;e.Fnt=!0}else if(t.type===yp.iC){if(e.k7===t.readyState)return;e.k7=t.readyState}else if(t.type===oa.Ry)return;e._o(t)},e.knt=new t(i,r),e.Ont=new kL,e.na=e.knt,e.xnt=new EL(e),e.knt.zc&&(e.Oc=new qL(e),e.Oc.vC=e.knt.zc,e.Wnt=new QL),e.Yo=new hd,e.Bnt=[],e.hZ=!0,e.eZ(),e}It(i,n);var r=i.prototype;return r.JR=function(){return this.knt.QR},r.$R=function(t){this.na.QR=t},r.Qo=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){return[2,i.Yo.Qo(t,n).catch(Uo)]}))}))()},r.Rnt=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:Vo(n),i.knt.oy(i.Int),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,i.knt.Ca(t,n)];case 2:return r.sent(),[3,4];case 3:return i.knt.gy(i.Int),[7];case 4:return[2]}}))}))()},r.Ent=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return[4,t.Cnt()];case 1:return n=i.sent(),t.Pnt(n),[2]}}))}))()},r.Cnt=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){return(n=t.iu())&&!zS(n)&&t.SO&&t.KR?[2,t.gst.Dnt(t.ZR)]:[2,"none"]}))}))()},r.Pnt=function(t){var n,i=(null==(n=this.iu())?void 0:n.mutedAutoplay)||this.kd.mutedAutoplay;switch(t){case"all":this.qst();break;case"muted":(this.ZR||i===bT.ALL)&&(this.ZR=!0,this.xI())}},r.Ca=function(t){zS(this.sZ)||this._o(new aT(0,bp.eO)),this.nr(),this.sZ=t;var n=this;qo(this.Qo(Zt((function(i){var r,e;return Ht(this,(function(u){switch(u.label){case 0:Vo(i),u.label=1;case 1:return u.trys.push([1,3,4,5]),[4,n.Rnt(t,i)];case 2:return u.sent(),[3,5];case 3:return Fo(r=u.sent()),n.sZ=void 0,n.BH(rd(r,td.SOURCE_NOT_SUPPORTED)),[2];case 4:return n.Nnt(n.knt),[7];case 5:return[4,n.Cnt()];case 6:return e=u.sent(),n._o(new bL(n.iu())),n.Pnt(e),[2]}}))}))))},r.RR=function(t,n){this.na.RR(t,n)},r.NR=function(){var t;return null!=(t=this.TZ)?t:this.knt.NR()},r.LR=function(){var t;return null!=(t=this.YG)?t:this.knt.LR()},r.BH=function(t){void 0===this.LR()&&(this.YG=t,this.TZ=iw(t),this._o(new yk(t)))},r.xI=function(){this.na.xI()},r.qst=function(){this.ZR||this.kI(),this.xI()},r.kI=function(){this.knt.kI()},r.EI=function(){this.na.EI()},r.RI=function(){this.Ca(void 0)},r.ge=function(){this.hZ=!0,this.na.ge()},r.be=function(){this.hZ=!1,this.na.be()},r.Aa=function(){this.knt.Aa()},r.wI=function(t){this.knt.wI(t)},r.zR=function(t){this.knt.zR(t)},r.Pa=function(t){this.Mnt=t,t.jJ(this)},r.cs=function(){return this.knt.cs()},r.iu=function(){return this.sZ},r.TI=function(){return this.knt.TI()},r.xR=function(){return this.na.xR()},r.Tst=function(){return this.na.Tst()},r.jd=function(){return this.knt.jd()},r.yR=function(){return this.knt.yR()},r.eI=function(){return this.knt.eI()},r.aI=function(){return this.knt.aI()},r.NI=function(){this.knt.NI()},r.MI=function(){this.knt.MI()},r.OI=function(t){return this.knt.OI(t)},r.nr=function(){this.sZ=void 0,this.YG=void 0,this.TZ=void 0,this.Lnt=!0,bo(this.Bnt),this.Ont.nr(),this.Nnt(this.Ont),this.Yo.jw();var t=this;qo(this.Yo.Qo(Zt((function(n){return Ht(this,(function(i){switch(i.label){case 0:return Vo(n),[4,t.knt.RI()];case 1:return i.sent(),[2]}}))}))))},r.yn=function(){this._o(new lL),this.xnt.yn(),this.iZ(),this.nr();var t=this;qo(this.Qo(Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.knt.yn()];case 1:return n.sent(),t.Mnt&&(t.Mnt.eT(t),t.Mnt=void 0),t.Yo.yn(),[2]}}))})))),this.Ro()},r.Nnt=function(t){if(this.na!==t){var n=this.na.KR,i=this.na.xR(),r=this.na.QR,e=this.na.rI,u=this.na.uI;this.Fnt=n,this.k7=e,this.iZ(),t.oy(this.Vnt),t===this.knt?(void 0!==this.Oc&&(this.Oc.vC=t.zc,this.Wnt.hnt(this.Oc)),(u||t.xR()!==i)&&t.RR(i),t.QR!==r&&(t.QR=r),n?t.EI():t.xI()):(void 0!==this.Oc&&(this.Oc.vC=this.Wnt,this.Wnt.nr()),this.kd.retainPlaybackRateOnSourceChange?t.QR=r:1!==r&&this._o(new vT(this.xR(),1))),t.gy(this.Vnt),this.na=t,this.eZ();for(var s=0,o=this.Bnt;s<o.length;s++){var a=o[s];this._o(a)}bo(this.Bnt),this.hZ?t.ge():t.be()}},r.eZ=function(){this.na.oy(this.LI)},r.iZ=function(){this.na.gy(this.LI)},r.ka=function(){return _L(this)},Nt(i,[{key:"Cst",get:function(){return this.knt.Cst}},{key:"zc",get:function(){return this.Oc}},{key:"Rst",get:function(){return this.knt.Rst}},{key:"kd",get:function(){return this.knt.kd}},{key:"fR",get:function(){return this.knt.fR}},{key:"Sa",get:function(){return this.knt.Sa}},{key:"fH",get:function(){return this.knt.fH}},{key:"xst",get:function(){return this.knt.xst}},{key:"yst",get:function(){return this.knt.yst}},{key:"Ta",get:function(){return this.knt.Ta}},{key:"vst",get:function(){return this.knt.vst}},{key:"SO",get:function(){return this.knt.SO},set:function(t){this.knt.SO=t,this.Ent()}},{key:"gst",get:function(){return this.knt.gst}},{key:"ht",get:function(){return this.knt.ht}},{key:"Iz",get:function(){return this.knt.Iz}},{key:"Hu",get:function(){return this.knt.yst}},{key:"wa",get:function(){return this.eu||(this.eu=this.ka()),this.eu}},{key:"OR",get:function(){return this.knt.OR}},{key:"AI",get:function(){return this.knt.AI},set:function(t){this.knt.AI=t}},{key:"GR",get:function(){return this.knt.GR}},{key:"XX",get:function(){return this.knt.XX}},{key:"nt",get:function(){return this.knt.nt}},{key:"Wl",get:function(){return this.knt.Wl}},{key:"rt",get:function(){return this.knt.rt}},{key:"Sst",get:function(){return this.knt.Sst}},{key:"iQ",get:function(){return this.knt.iQ}},{key:"bR",get:function(){return this.na.bR},set:function(t){this.na.bR=t}},{key:"bt",get:function(){return this.knt.bt}},{key:"we",get:function(){return this.knt.we}},{key:"PR",get:function(){return this.knt.PR}},{key:"ZR",get:function(){return this.knt.ZR},set:function(t){this.zR(t)}},{key:"KR",get:function(){return this.na.KR}},{key:"mi",get:function(){return this.xnt.Xu||""},set:function(t){this.xnt.jst=t}},{key:"QR",get:function(){return this.JR()},set:function(t){this.$R(t)}},{key:"iI",get:function(){return this.knt.iI},set:function(t){this.knt.iI=t}},{key:"rI",get:function(){return this.na.rI}},{key:"Ma",get:function(){return this.knt.Ma},set:function(t){this.knt.Ma=t}},{key:"uI",get:function(){return this.na.uI}},{key:"Ost",get:function(){return this.knt.Ost}},{key:"Vst",get:function(){return this.knt.Vst}},{key:"IC",get:function(){return this.knt.IC}},{key:"dI",get:function(){return this.knt.dI}},{key:"vI",get:function(){return this.knt.vI}},{key:"gI",get:function(){return this.knt.gI},set:function(t){this.wI(t)}},{key:"yI",get:function(){return this.knt.yI}},{key:"kst",get:function(){return this.knt.kst}},{key:"Eo",get:function(){return this.knt.Eo}}]),i}(ua)}(t);Gn.Cm&&Gn.Dm<3&&(n=function(t){return function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Unt=0,n}It(n,t);var i=n.prototype;return i.Ca=function(n){this.Unt=0,t.prototype.Ca.call(this,n)},i._o=function(n){if(n.type===Uy.fa&&this.Unt<3)return this.Unt++,t.prototype._o.call(this,new tM(n)),void t.prototype.Ca.call(this,this.iu());t.prototype._o.call(this,n)},n}(t)}(n)),n=function(t){for(var n=t,i=0;i<Uk.length;i++){var r=Uk[i];if(Wk[r])for(var e=0,u=Wk[r];e<u.length;e++)n=(0,u[e])(n)}return n}(n),$L=n}return $L}function iM(t,n){var i=AT(n),r=new(nM())(t,i);r.Ma=r;var e=r.wa;return r.Aa(),r.Pa(pL),b.defineProperty(e,"constructor",{value:iM}),e=function(t){return Eg(t)}(e),function(t){for(var n=0;n<Hk.length;n++)(0,Hk[n])(t)}(r),e}Ko((function(){self.dispatchEvent&&self.dispatchEvent(mL("theoplayerready"))})),F(),Tt();var rM=function(){function t(){}var n=t.prototype;return n.encode=function(t){return Ta(t)},n.decode=function(t){return ba(t)},t}(),eM={base64:new rM};F(),Tt();var uM=JSON.parse('["hbbtv","dash","hesp","millicast","hls","chromecast","ads","theoads","airplay","spotx","vr","cache","webaudio","youbora","mediamelon","moat","google-dai","streamone","lcevc","freewheel","agama","uplynk","mediatailor"]'),sM="9.3.0",oM=pL.wa,aM=r_.mP.registerContentProtectionIntegration.bind(r_.mP);F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),Gt(),qt();var cM=function(){function t(t){this.mZ=t,this.ort=new hd}var n=t.prototype;return n.Dnt=function(t){var n=this;return this.ort.Qo((function(){return n.hrt(t)}))},n.kI=function(){this.mZ.vZ()},n.hrt=function(n){var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return r=i.mZ.OH(qg.mE),e=r.jG,[4,t.art(e,n)];case 1:return u=s.sent(),[4,i.mZ.yH(r)];case 2:return s.sent(),[2,u]}}))}))()},n.yn=function(){this.ort.yn()},t.art=function(n,i){return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return Gn.Mm||Gn.Cm?[2,"all"]:(n.src||(n.src="data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"),[4,t.urt()]);case 1:return e.sent(),(r=!i)?[4,t.crt(n,!1)]:[3,3];case 2:r=e.sent(),e.label=3;case 3:return r?[2,"all"]:[4,t.crt(n,!0)];case 4:return e.sent()?[2,"muted"]:[2,"none"]}}))}))()},t.crt=function(t,n){return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:t.muted=n,i=t.play(),e.label=1;case 1:return e.trys.push([1,3,4,5]),ii(i)?(r=$o(250),[4,et.race([i,r])]):[2,!Gn.Qs];case 2:return e.sent(),[2,!0];case 3:return e.sent(),[2,!1];case 4:return t.pause(),t.muted=!0,[7];case 5:return[2]}}))}))()},t.urt=function(){return new et((function(t){if("function"==typeof MessageChannel){var n=new MessageChannel;n.port1.onmessage=function(){return t()},n.port2.postMessage("")}else g(t,0)}))},t}(),hM={yY:function(t){f.addEventListener("beforeunload",t)},mY:function(t){f.removeEventListener("beforeunload",t)}},fM={Knt:$x,rrt:cM,lrt:hM};F(),Tt();var vM=function(){function t(){}var n=t.prototype;return n.Dnt=function(t){return et.resolve("all")},n.kI=function(){},n.yn=function(){},t}();(function(t){WT=t.Knt,ZT=t.rrt,XT=t.lrt})(Gn.Bm&&Gn.Fm?ns({},fM,{rrt:vM}):fM),F(),Tt(),F(),Tt(),Rt(),F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Gt(),qt();var dM=function(){function t(){}var n=t.prototype;return n.FH=function(t){return Zt((function(){return Ht(this,(function(n){return[2,GA(t.type)]}))}))()},n.VH=function(t){return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,k_(t,!0)];case 1:return n.sent()?[2,!0]:[2,!1]}}))}))()},t}(),lM=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n.prototype.FH=function(n){var i=this;return Zt((function(){return Ht(this,(function(r){return Or(n.useManagedMediaSource)?[2,t.prototype.FH.call(i,n)]:[2,!1]}))}))()},n}(dM);function gM(t){return ml(t)}function wM(t,n){var i=ml(t);return n?""+i+n:""+i}F(),Tt(),Gt(),qt(),F(),Tt();var mM=function(){function t(t,n,i,r){this._rt=t,this.mrt=n,this.prt=i,this.wrt=r}var n=t.prototype;return n.drt=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n._rt.frt(t.map(gM))];case 1:return[2,i.sent().shift()]}}))}))()},n.vrt=function(t,n){var i=wM(t,n);return this.mrt.Mb(i)},n.grt=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return e=wM(t,n),[4,i.prt.Lb(e)];case 1:return[2,null==(r=u.sent())?void 0:r.data]}}))}))()},n.IQ=function(t){return this.wrt.Lb(t)},t}();F(),Tt(),Dt(),F(),Tt(),F(),Tt();var yM=function(){function t(){}var n=t.prototype;return n.yrt=function(t){return et.resolve(!1)},n.brt=function(t){return et.reject(pM)},n.Art=function(t){return et.reject(pM)},n.Mb=function(t){return et.resolve(!1)},n.Lb=function(t){return et.resolve(void 0)},n.Srt=function(t,n){return et.resolve(void 0)},n.frt=function(t){return et.resolve([])},n.Trt=function(){return et.resolve([])},n.krt=function(t){return et.resolve([])},n.Ert=function(t,n){return et.resolve([])},n.eT=function(t){return et.reject(pM)},n.xrt=function(t){return et.reject(pM)},n.Rrt=function(){return et.reject(pM)},t}(),pM="Storage disabled",_M=function(){function t(){this.Lrt=new yM,this.Mrt=new yM,this.Brt=new yM,this.Ort=new yM,this.Frt=new yM}return t.prototype.Drt=function(t){return et.reject(bM)},t.Ait=function(){return et.resolve(new t)},t}(),bM="Storage disabled";F(),Tt(),Gt(),qt(),F(),Tt(),Gt(),Dt(),qt(),F(),Tt(),Gt(),Dt(),qt();var kM=function(){function t(t){var n=this;this.Kw=new Gc,this.Crt=void 0,this.Kw.Qw(t),this.Kw.Ub.then((function(t){n.Crt=t}))}var n=t.prototype;return n.yrt=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return(i=n.Crt)?[3,2]:[4,n.Irt];case 1:i=r.sent(),r.label=2;case 2:return[2,i.yrt(t)]}}))}))()},n.brt=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return(r=i.Crt)?[3,2]:[4,i.Irt];case 1:r=e.sent(),e.label=2;case 2:return[2,r.brt(t,n)]}}))}))()},n.Art=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return(r=i.Crt)?[3,2]:[4,i.Irt];case 1:r=e.sent(),e.label=2;case 2:return[2,r.Art(t,n)]}}))}))()},n.Mb=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return(i=n.Crt)?[3,2]:[4,n.Irt];case 1:i=r.sent(),r.label=2;case 2:return[2,i.Mb(t)]}}))}))()},n.Lb=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return(i=n.Crt)?[3,2]:[4,n.Irt];case 1:i=r.sent(),r.label=2;case 2:return[2,i.Lb(t)]}}))}))()},n.Srt=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return(r=i.Crt)?[3,2]:[4,i.Irt];case 1:r=e.sent(),e.label=2;case 2:return[2,r.Srt(t,n)]}}))}))()},n.frt=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return(i=n.Crt)?[3,2]:[4,n.Irt];case 1:i=r.sent(),r.label=2;case 2:return[2,i.frt(t)]}}))}))()},n.Trt=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return(n=t.Crt)?[3,2]:[4,t.Irt];case 1:n=i.sent(),i.label=2;case 2:return[2,n.Trt()]}}))}))()},n.krt=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return(i=n.Crt)?[3,2]:[4,n.Irt];case 1:i=r.sent(),r.label=2;case 2:return[2,i.krt(t)]}}))}))()},n.Ert=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return(r=i.Crt)?[3,2]:[4,i.Irt];case 1:r=e.sent(),e.label=2;case 2:return[2,r.Ert(t,n)]}}))}))()},n.eT=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return(i=n.Crt)?[3,2]:[4,n.Irt];case 1:i=r.sent(),r.label=2;case 2:return[2,i.eT(t)]}}))}))()},n.xrt=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return(i=n.Crt)?[3,2]:[4,n.Irt];case 1:i=r.sent(),r.label=2;case 2:return[2,i.xrt(t)]}}))}))()},n.Rrt=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return(n=t.Crt)?[3,2]:[4,t.Irt];case 1:n=i.sent(),i.label=2;case 2:return[2,n.Rrt()]}}))}))()},Nt(t,[{key:"Irt",get:function(){return this.Kw.Ub}}]),t}(),AM=function(){function t(t){var n=this;this.Kw=new Gc,this.Nrt=void 0,this.Kw.Qw(t);var i=this.Kw.Ub;i.then((function(t){n.Nrt=t})),this.Mrt=new kM(i.then((function(t){return t.Mrt}))),this.Lrt=new kM(i.then((function(t){return t.Lrt}))),this.Brt=new kM(i.then((function(t){return t.Brt}))),this.Ort=new kM(i.then((function(t){return t.Ort}))),this.Frt=new kM(i.then((function(t){return t.Frt})))}return t.prototype.Drt=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return(i=n.Nrt)?[3,2]:[4,n.Prt];case 1:i=r.sent(),r.label=2;case 2:return[4,i.Drt(t)];case 3:return[2,r.sent()]}}))}))()},Nt(t,[{key:"Prt",get:function(){return this.Kw.Ub}}]),t}();function TM(t){return new p("This storage cannot handle persistency type "+t)}F(),Tt(),F(),Tt(),Ut(),F(),Tt();var SM=function(t){return t.Vrt="readonly",t.Wrt="readwrite",t}({}),EM=function(){function t(){this.pA=[]}var n=t.prototype;return n.yrt=function(t){return et.resolve("temporary"===t)},n.brt=function(t,n){return void 0===n&&(n="temporary"),"temporary"!==n?et.reject(TM(n)):(this.Urt(t.key),this.pA.push(t),et.resolve())},n.Art=function(t,n){if(void 0===n&&(n="temporary"),"temporary"!==n)return et.reject(TM(n));for(var i=0;i<t.length;i++){var r=t[i];this.Urt(r.key)}for(var e=0;e<t.length;e++){var u=t[e];this.pA.push(u)}return et.resolve()},n.Mb=function(t){return et.resolve(Boolean(this.Grt(t)))},n.Lb=function(t){return et.resolve(this.Grt(t))},n.Srt=function(t,n){return et.resolve(this.Hrt(t,n))},n.frt=function(t){var n=this,i=t?t.map((function(t){return n.Grt(t)})):this.pA;return et.resolve(i.filter(Yn))},n.Trt=function(){return et.resolve(Ft(this.pA))},n.krt=function(t){return this.Ert(t,"key")},n.Ert=function(t,n){var i=this.pA.filter((function(i){return i[n]===t}));return et.resolve(i)},n.eT=function(t){return this.Urt(t),et.resolve()},n.xrt=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Urt(i)}return et.resolve()},n.Rrt=function(){return bo(this.pA),et.resolve()},n.Grt=function(t){return this.Hrt(t,"key")},n.Hrt=function(t,n){for(var i=0,r=this.pA;i<r.length;i++){var e=r[i];if(e[n]===t)return e}},n.Urt=function(t){var n=this.Grt(t);n&&wo(this.pA,n)},t}(),IM=function(){function t(){this.Lrt=new EM,this.Mrt=new EM,this.Brt=new EM,this.Ort=new EM,this.Frt=new EM}return t.prototype.Drt=function(t){return t(this)},t.Ait=function(){return et.resolve(new t)},t}();F(),Tt(),Gt(),Dt(),qt(),F(),Tt(),Gt(),Ut(),qt();var RM=function(){function t(t){this.Zrt=t}var n=t.prototype;return n.yrt=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:i=0,r=n.Zrt,e.label=1;case 1:return i<r.length?[4,r[i].yrt(t)]:[3,4];case 2:if(e.sent())return[2,!0];e.label=3;case 3:return i++,[3,1];case 4:return[2,!1]}}))}))()},n.brt=function(t,n){void 0===n&&(n="persistent");var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:r=0,e=i.Zrt,s.label=1;case 1:return r<e.length?[4,(u=e[r]).yrt(n)]:[3,4];case 2:if(s.sent())return[2,u.brt(t)];s.label=3;case 3:return r++,[3,1];case 4:throw TM(n)}}))}))()},n.Art=function(t,n){void 0===n&&(n="persistent");var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:r=0,e=i.Zrt,s.label=1;case 1:return r<e.length?[4,(u=e[r]).yrt(n)]:[3,4];case 2:if(s.sent())return[2,u.Art(t)];s.label=3;case 3:return r++,[3,1];case 4:throw TM(n)}}))}))()},n.Mb=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:i=0,r=n.Zrt,e.label=1;case 1:return i<r.length?[4,r[i].Mb(t)]:[3,4];case 2:if(e.sent())return[2,!0];e.label=3;case 3:return i++,[3,1];case 4:return[2,!1]}}))}))()},n.Lb=function(t){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:i=0,r=n.Zrt,u.label=1;case 1:return i<r.length?[4,r[i].Lb(t)]:[3,4];case 2:if(e=u.sent())return[2,e];u.label=3;case 3:return i++,[3,1];case 4:return[2,void 0]}}))}))()},n.Srt=function(t,n){var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:r=0,e=i.Zrt,s.label=1;case 1:return r<e.length?[4,e[r].Srt(t,n)]:[3,4];case 2:if(u=s.sent())return[2,u];s.label=3;case 3:return r++,[3,1];case 4:return[2,void 0]}}))}))()},n.frt=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:i=[],r=0,e=n.Zrt,h.label=1;case 1:return r<e.length?(u=e[r],a=(o=(s=i).push).apply,c=[s],[4,u.frt(t)]):[3,4];case 2:a.apply(o,c.concat([Ft.apply(void 0,[h.sent()])])),h.label=3;case 3:return r++,[3,1];case 4:return[2,i]}}))}))()},n.Trt=function(){var t=this;return Zt((function(){var n,i,r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:n=[],i=0,r=t.Zrt,c.label=1;case 1:return i<r.length?(e=r[i],o=(s=(u=n).push).apply,a=[u],[4,e.Trt()]):[3,4];case 2:o.apply(s,a.concat([Ft.apply(void 0,[c.sent()])])),c.label=3;case 3:return i++,[3,1];case 4:return[2,n]}}))}))()},n.krt=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:i=[],r=0,e=n.Zrt,h.label=1;case 1:return r<e.length?(u=e[r],a=(o=(s=i).push).apply,c=[s],[4,u.krt(t)]):[3,4];case 2:a.apply(o,c.concat([Ft.apply(void 0,[h.sent()])])),h.label=3;case 3:return r++,[3,1];case 4:return[2,i]}}))}))()},n.Ert=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:r=[],e=0,u=i.Zrt,f.label=1;case 1:return e<u.length?(s=u[e],c=(a=(o=r).push).apply,h=[o],[4,s.Ert(t,n)]):[3,4];case 2:c.apply(a,h.concat([Ft.apply(void 0,[f.sent()])])),f.label=3;case 3:return e++,[3,1];case 4:return[2,r]}}))}))()},n.eT=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:i=0,r=n.Zrt,e.label=1;case 1:return i<r.length?[4,r[i].eT(t)]:[3,4];case 2:e.sent(),e.label=3;case 3:return i++,[3,1];case 4:return[2]}}))}))()},n.xrt=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:i=0,r=n.Zrt,e.label=1;case 1:return i<r.length?[4,r[i].xrt(t)]:[3,4];case 2:e.sent(),e.label=3;case 3:return i++,[3,1];case 4:return[2]}}))}))()},n.Rrt=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:n=0,i=t.Zrt,r.label=1;case 1:return n<i.length?[4,i[n].Rrt()]:[3,4];case 2:r.sent(),r.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))()},t}();function CM(t){return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return[4,et.all(t.map((function(t){return t()})))];case 1:return n=i.sent(),[2,NM.Ait(n)]}}))}))}var NM=function(){function t(t){this.jrt=t,this.Xrt=new RM(t.map((function(t){return t.Ort}))),this.zrt=new RM(t.map((function(t){return t.Frt}))),this.qrt=new RM(t.map((function(t){return t.Brt}))),this.Yrt=new RM(t.map((function(t){return t.Lrt}))),this.Krt=new RM(t.map((function(t){return t.Mrt})))}return t.prototype.Drt=function(n){var i=this;if(0===this.jrt.length)return n(this);var r=[],e=0,u=function(s){return r.push(s),++e<i.jrt.length?i.jrt[e].Drt(u):n(new t(r))};return this.jrt[e].Drt(u)},t.Ait=function(n){return et.resolve(new t(n))},Nt(t,[{key:"Ort",get:function(){return this.Xrt}},{key:"Frt",get:function(){return this.zrt}},{key:"Brt",get:function(){return this.qrt}},{key:"Lrt",get:function(){return this.Yrt}},{key:"Mrt",get:function(){return this.Krt}}]),t}(),DM=function(){function t(t){this.eot=[],this.tot=!0,this.iot=t}var n=t.prototype;return n.Ait=function(){return new AM(this.$rt())},n.$rt=function(){var t=this;return Zt((function(){var n,i,r;return Ht(this,(function(e){switch(e.label){case 0:return t.tot?[4,et.resolve()]:[3,2];case 1:e.sent(),t.tot=!1,e.label=2;case 2:n=0,i=t.eot,e.label=3;case 3:if(!(n<i.length))return[3,8];r=i[n],e.label=4;case 4:return e.trys.push([4,6,,7]),[4,CM([IM.Ait,r])()];case 5:return[2,e.sent()];case 6:return e.sent(),[3,7];case 7:return n++,[3,3];case 8:return[4,CM([IM.Ait,t.iot])()];case 9:return[2,e.sent()]}}))}))()},n.Pa=function(t){if(!this.tot)throw new p("Registration overdue");this.eot.push(t)},t}(),PM=function(){function t(){}return t.Pa=function(n){t.EG.Pa(n)},Nt(t,null,[{key:"Vg",get:function(){return t.Qrt||(t.Qrt=t.EG.Ait()),t.Qrt}}]),t}();function xM(t){return void 0!==t.dI}function LM(t){var n=Gn.Mm||Gn.Cm,i=void 0!==t&&void 0!==t.preferredAudioCodecs&&t.preferredAudioCodecs.some((function(t){return"ac-3"===t||"ec-3"===t})),r=n&&!i,e=new Mr(!0);return Zt((function(t){var n,i,u;return Ht(this,(function(s){switch(s.label){case 0:return n=t.Mk,e.bp(n)||function(t,n){return!!t&&(Pv(t)?Jy(n)||$y(n):Vs(t,Dv.APPLICATION_TTML_XML)||Vs(t,Dv.TEXT_VTT)||Vs(t,Dv.IMAGE_JPEG))}(t.jq,t.Jrt)?(i=t.Jrt.some((function(t){return"ac-3"===t||"ec-3"===t})),r&&i?[2,!1]:t.TG?(u=t.TG,[4,No(Ao(u,(function(t){return Os(t.c9)})).filter(Yn),(function(t){return Kn.jp(t,n)}))]):[3,2]):[2,!1];case 1:if(!s.sent())return[2,!1];s.label=2;case 2:return[2,!0]}}))}))}PM.EG=new DM(_M.Ait),PM.Qrt=void 0,F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),F(),Tt(),Gt(),qt(),F(),Tt(),Dt();var MM=function(){function t(t){this.rot=t}return Nt(t,[{key:"Ti",get:function(){return this.rot.offsetHeight*Kn.Ys.Kg}},{key:"ji",get:function(){return this.rot.offsetWidth*Kn.Ys.Kg}}]),t}();F(),Tt(),Dt();var OM=function(){function t(t,n){this.Hl=new Hy,this.b8=new VD(t,n)}var n=t.prototype;return n.OI=function(t,n,i,r,e,u,s,o){var a=new FN(t,n,i,r,e,u,s,void 0,o);return this.Hl.tt(a),this.b8.tt(a),a},n.mW=function(t){this.Hl.it(t),this.b8.it(t),t.yn()},n._H=function(t){var n=new cP(t.Lt,t.Ch,t.gs);return this.Hl.tt(n),this.b8.tt(n),n},n.nr=function(){for(var t=0,n=this.Hl.lC.slice();t<n.length;t++){n[t].yn()}this.Hl.nr(),this.b8.nr()},n.yn=function(){this.nr(),this.Hl.yn(),this.b8.yn()},Nt(t,[{key:"nt",get:function(){return this.Hl}}]),t}();F(),Tt(),Gt(),Rt(),qt(),F(),Tt();var BM=function(){function t(t){this.EG=t}var n=t.prototype;return n.OH=function(t){return this.EG.OH(t)},n.ert=function(t){return this.EG.ert(t)},n.yH=function(t){return this.EG.yH(t)},t}();F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Gt(),Dt(),Rt(),qt();var VM=function(t){function n(n){var i;return(i=t.call(this)||this).JG=void 0,i.dot=new $k,i.wot=function(t){return i.LI(t)},i.WB=n,i.dot.vC=n.nt,i.WB.bn(RR,i.wot),i}It(n,t);var i=n.prototype;return i.yR=function(){return this.WB.wR},i.AR=function(){return this.WB.bR},i.xR=function(){return this.WB.ER},i.jd=function(){return this.WB.ct},i.hot=function(){return this.WB.$G},i.aot=function(){return this.WB.PR},i.SI=function(){return this.WB.Sa},i.ja=function(){return this.WB.fH},i.uot=function(){return this.WB.KR},i.eI=function(){return this.WB.tI},i.oI=function(){return this.WB.rI},i.aI=function(){return this.WB.hI},i.cI=function(){return this.WB.uI},i.cot=function(){return this.WB.M4},i.lot=function(){return this.WB.X4},i.lI=function(){return this.dot},i.j7=function(){return this.WB.Wl},i.fot=function(){return this.WB.wH},i._ot=function(t){this.WB.wH=t},i.vot=function(t){this.WB.T7=t},i.mot=function(){return this.WB.h9},i.HR=function(){return this.WB.HR()},i.xI=function(){return this.WB.xI()},i.EI=function(){this.WB.EI()},i.Rb=function(t,n,i){this.WB.Rb(t,n,i)},i.zG=function(t){this.WB.zG(t)},i.ge=function(){this.WB.ge()},i.be=function(){this.WB.be()},i.OI=function(t,n,i,r,e,u,s,o){return this.WB.OI(t,n,i,r,e,u,s,o)},i._H=function(t){return this.WB._H(t)},i.uH=function(){return this.WB.uH()},i.lH=function(t,n,i,r,e){return this.WB.lH(t,n,i,r,e)},i.mW=function(t){this.WB.mW(t)},i.vH=function(){this.WB.vH()},i.MJ=function(t){return this.WB.MJ(t)},i.$n=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return[4,n.WB.$n(t)];case 1:return i=e.sent(),r=t.Tw===mp.pW?n.got(i):n.pot(i),n.JG=r,[2,r]}}))}))()},i.nr=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.JG?[4,t.JG.Xw()]:[3,2];case 1:n.sent(),t.JG=void 0,n.label=2;case 2:return[4,t.WB.nr()];case 3:return n.sent(),[2]}}))}))()},i.p7=function(){this.WB.p7()},i.w7=function(){this.WB.w7()},i.Xw=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.Ro(),t.WB.vn(RR,t.wot),t.dot.vC=void 0,t.dot.yn(),t.JG?[4,t.JG.Xw()]:[3,2];case 1:n.sent(),t.JG=void 0,n.label=2;case 2:return[2]}}))}))()},i.A7=function(){this.WB.A7()},i.yot=function(t){this.WB.vn(RR,this.wot),this.WB=t,this.dot.vC=t.nt,this.WB.bn(RR,this.wot)},i.LI=function(t){this._o(t)},Nt(n,[{key:"oot",get:function(){return this.WB}},{key:"wR",get:function(){return this.yR()}},{key:"bR",get:function(){return this.AR()}},{key:"ER",get:function(){return this.xR()}},{key:"Hu",get:function(){return this.WB.Hu}},{key:"ct",get:function(){return this.jd()}},{key:"$G",get:function(){return this.hot()}},{key:"PR",get:function(){return this.aot()}},{key:"lt",get:function(){return this.WB.lt}},{key:"Ti",get:function(){return this.WB.Ti}},{key:"ji",get:function(){return this.WB.ji}},{key:"Sa",get:function(){return this.SI()}},{key:"fH",get:function(){return this.ja()}},{key:"ZR",get:function(){return this.WB.ZR},set:function(t){this.WB.ZR=t}},{key:"KR",get:function(){return this.uot()}},{key:"QR",get:function(){return this.WB.QR},set:function(t){this.WB.QR=t}},{key:"tI",get:function(){return this.eI()}},{key:"rI",get:function(){return this.oI()}},{key:"hI",get:function(){return this.aI()}},{key:"uI",get:function(){return this.cI()}},{key:"M4",get:function(){return this.cot()}},{key:"X4",get:function(){return this.lot()}},{key:"nt",get:function(){return this.lI()}},{key:"Wl",get:function(){return this.j7()}},{key:"G9",get:function(){return this.WB.G9}},{key:"gI",get:function(){return this.WB.gI},set:function(t){this.WB.gI=t}},{key:"y7",get:function(){return this.WB.y7}},{key:"WR",get:function(){return this.WB.WR}},{key:"qB",get:function(){return this.WB.qB}},{key:"wH",get:function(){return this.fot()},set:function(t){this._ot(t)}},{key:"T7",get:function(){return this.WB.T7},set:function(t){this.vot(t)}},{key:"h9",get:function(){return this.mot()}}]),n}(ra),FM=function(t){function n(n){return t.call(this,n)||this}It(n,t);var i=n.prototype;return i.S7=function(t){this.WB.S7(t)},i.NI=function(){this.WB.NI()},Nt(n,[{key:"jG",get:function(){return this.WB.jG}},{key:"U4",get:function(){return this.WB.U4}},{key:"AI",get:function(){return this.WB.AI},set:function(t){this.WB.AI=t}}]),n}(VM);F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Dt();var UM=function(){function t(t){this.JG=t}var n=t.prototype;return n.mT=function(){return this.JG.kd},n.aI=function(){return this.JG.hI},n.dJ=function(t){return this.JG.dJ(t)},n._J=function(t){return this.JG._J(t)},n.Xw=function(){return et.resolve()},Nt(t,[{key:"kd",get:function(){return this.mT()}},{key:"hI",get:function(){return this.aI()}}]),t}(),WM=function(t){function n(n){var i;return(i=t.call(this,n)||this).u4=void 0,i.c4=void 0,i.kot=function(t){return i.Eot(t)},i}It(n,t);var i=n.prototype;return i.yR=function(){return this.JG.wR},i.jd=function(){return this.JG.ct},i.bot=function(){return this.JG.RJ},i.d4=function(t){this.JG.d4(t)},i.m4=function(t,n,i,r){this.JG.m4(t,n,i,r)},i.a3=function(){this.JG.a3()},i.J2=function(){this.JG.J2()},i.Xw=function(){return this.u4&&(this.u4.Xw(),this.u4=void 0),this.c4&&(this.c4.Xw(),this.c4=void 0),t.prototype.Xw.call(this)},i.Aot=function(t){this.JG=t,this.u4?t.h4?this.u4.Sot(t.h4):(this.u4.Xw(),this.u4=void 0):t.h4&&(this.u4=this.Tot(t.h4),this.u4.bn(PR,this.kot)),this.c4?t.a4?this.c4.Sot(t.a4):(this.c4.Xw(),this.c4=void 0):t.a4&&(this.c4=this.Tot(t.a4),this.c4.bn(PR,this.kot))},i.mJ=function(t){this.JG.mJ(t)},i.Eot=function(t){},Nt(n,[{key:"h4",get:function(){return this.u4}},{key:"a4",get:function(){return this.c4}},{key:"wR",get:function(){return this.yR()}},{key:"ct",get:function(){return this.jd()}},{key:"RJ",get:function(){return this.bot()}}]),n}(UM);F(),Tt(),Gt(),Dt(),Rt(),nn(),qt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt();var ZM=function(t){function n(n){var i;return(i=t.call(this)||this).Pj=0,i.Mj=0,i.MT=n,i}It(n,t);var i=n.prototype;return i.g2=function(t,n,i){return et.reject(new p("Invalid media buffer"))},i.T3=function(){return et.reject(new p("Invalid media buffer"))},i.A2=function(t,n,i){return et.reject(new p("Invalid media buffer"))},i.RJ=function(){return!1},i.a3=function(){},i.A3=function(t,n){},i.S3=function(t,n){},i.eT=function(t,n,i){return et.resolve()},i.F2=function(t,n){return et.reject(new p("Invalid media buffer"))},i.DO=function(t,n){return et.reject(new p("Invalid media buffer"))},i.dJ=function(t){return!1},i._J=function(t){return et.reject(new p("Invalid media buffer"))},i.Xw=function(){this.Ro()},Nt(n,[{key:"Ej",get:function(){return this.Mj},set:function(t){this.Mj=t}},{key:"wR",get:function(){return SA.pB()}},{key:"kd",get:function(){return this.MT}},{key:"m3",get:function(){return qg.iE}},{key:"w3",get:function(){return SA.pB()}},{key:"xot",get:function(){return!1}},{key:"bj",get:function(){return this.Pj},set:function(t){this.Pj=t}}]),n}(ra),XM=function(t){function n(n){var i;return(i=t.call(this)||this).Mot=function(t){return i.LI(t)},i.Cot=n,i.Cot.bn(PR,i.Mot),i}It(n,t);var i=n.prototype;return i.Rot=function(){return this.Cot.Ej},i.Iot=function(t){this.Cot.Ej=t},i.yR=function(){return this.Cot.wR},i.mT=function(){return this.Cot.kd},i.Pot=function(){return this.Cot.w3},i.Dot=function(){return this.Cot.bj},i.Not=function(t){this.Cot.bj=t},i.g2=function(t,n,i){return this.Cot.g2(t,n,i)},i.T3=function(){return this.Cot.T3()},i.A2=function(t,n,i){return this.Cot.A2(t,n,i)},i.RJ=function(){return this.Cot.RJ()},i.a3=function(){this.Cot.a3()},i.A3=function(t,n){this.Cot.A3(t,n)},i.S3=function(t,n){this.Cot.S3(t,n)},i.eT=function(t,n,i){return this.Cot.eT(t,n,i)},i.F2=function(t,n){return this.Cot.F2(t,n)},i.dJ=function(t){return this.Cot.dJ(t)},i._J=function(t){return this.Cot._J(t)},i.LI=function(t){this._o(t)},i.Xw=function(){this.Ro(),this.Sot(new ZM(this.kd))},i.Sot=function(t){this.Cot.vn(PR,this.Mot),this.Cot=t,this.Cot.bn(PR,this.Mot)},Nt(n,[{key:"Ej",get:function(){return this.Rot()},set:function(t){this.Iot(t)}},{key:"wR",get:function(){return this.yR()}},{key:"kd",get:function(){return this.mT()}},{key:"m3",get:function(){return this.Cot.m3}},{key:"w3",get:function(){return this.Pot()}},{key:"bj",get:function(){return this.Dot()},set:function(t){this.Not(t)}}]),n}(ra),GM=function(t){function n(n){var i;return(i=t.call(this,n)||this).WB=void 0,i}It(n,t);var i=n.prototype;return i.g2=function(t,n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return Vo(i),[4,r.Lot(r.WB.ER,null==n?void 0:n.wit,null==n?void 0:n.ct)];case 1:return e.sent(),Vo(i),t.Tw!==xR.Sk?[3,3]:[4,r.Bot(t,n,i)];case 2:case 4:return[2,e.sent()];case 3:return[4,r.Oot(t,n,i)];case 5:return[2]}}))}))()},i.Bot=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:e=t,c.label=1;case 1:0,u=tn(Zd(e.Kk),2),s=u[0],o=u[1],e={Tw:xR.Sk,Kk:s},c.label=2;case 2:return c.trys.push([2,4,,7]),[4,r.Fot(e,n,i)];case 3:return c.sent(),o.cancel(new Oo).catch(bi),[2];case 4:return YI(a=c.sent())?[4,r.Lot(r.WB.ER,n.wit,n.ct,i)]:[3,6];case 5:if(c.sent())return e={Tw:xR.Sk,Kk:o},[3,1];c.label=6;case 6:throw o.cancel(a).catch(bi),a;case 7:return[3,1];case 8:return[2]}}))}))()},i.Oot=function(t,n,i){var r=this;return Zt((function(){var e;return Ht(this,(function(u){switch(u.label){case 0:0,u.label=1;case 1:return u.trys.push([1,3,,6]),Vo(i),[4,r.Fot(t,n,i)];case 2:return[2,u.sent()];case 3:return YI(e=u.sent())?[4,r.Lot(r.WB.ER,n.wit,n.ct,i)]:[3,5];case 4:if(u.sent())return[3,0];u.label=5;case 5:throw e;case 6:return[3,0];case 7:return[2]}}))}))()},i.Lot=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:u=zI(t,n,i,e.wR,e.bj,e.Ej),s=0,h.label=1;case 1:return s<u.length?(o=tn(u[s],2),a=o[0],c=o[1],[4,e.Vot(a,c,r)]):[3,4];case 2:h.sent(),h.label=3;case 3:return s++,[3,1];case 4:return[2,u.length>0]}}))}))()},i.Fot=function(n,i,r){return t.prototype.g2.call(this,n,i,r)},i.Vot=function(n,i,r){return t.prototype.eT.call(this,n,i,r)},Nt(n,[{key:"Jnt",get:function(){return this.WB},set:function(t){this.WB=t}}]),n}(XM),HM=function(t){function n(n){var i;return(i=t.call(this,n)||this).WB=void 0,i.Aot(n),i}return It(n,t),n.prototype.Tot=function(t){var n=new GM(t);return n.Jnt=this.WB,n},Nt(n,[{key:"Jnt",get:function(){return this.WB},set:function(t){this.WB=t,this.u4&&(this.u4.Jnt=t),this.c4&&(this.c4.Jnt=t)}}]),n}(WM);F(),Tt(),Dt(),Rt();var zM=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),Nt(n,[{key:"iI",get:function(){return this.JG.iI},set:function(t){this.JG.iI=t}}]),n}(UM);F(),Tt(),Dt(),Rt();var YM=function(t){function n(n){return t.call(this,n)||this}It(n,t);var i=n.prototype;return i.S7=function(t){this.WB.S7(t)},i.NI=function(){this.WB.NI()},i.TI=function(){return this.WB.TI()},Nt(n,[{key:"jG",get:function(){return this.WB.jG}},{key:"U4",get:function(){return this.WB.U4}},{key:"vI",get:function(){return this.WB.vI}},{key:"dI",get:function(){return this.WB.dI}},{key:"AI",get:function(){return this.WB.AI},set:function(t){this.WB.AI=t}}]),n}(VM),jM=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.pot=function(t){var n=new HM(t);return n.Jnt=this,n},i.got=function(t){return new zM(t)},Nt(n,[{key:"oot",get:function(){return this.WB}}]),n}(FM),KM=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.pot=function(t){var n=new HM(t);return n.Jnt=this,n},i.got=function(t){return new zM(t)},Nt(n,[{key:"oot",get:function(){return this.WB}}]),n}(YM),qM=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.OH=function(n){return n===qg.mE?new KM(t.prototype.OH.call(this,n)):n===qg.vE?new jM(t.prototype.OH.call(this,n)):void 0},i.yH=function(n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return[4,(r=n).Xw()];case 1:return e.sent(),[4,t.prototype.yH.call(i,r.oot)];case 2:return e.sent(),[2]}}))}))()},n}(BM);F(),Tt();var JM=function(){function t(t){var n=this;this.Uot=function(t){t.persisted&&n.Wot()},this.na=t,f.addEventListener("pageshow",this.Uot)}var n=t.prototype;return n.Wot=function(){this.na.MI()},n.yn=function(){f.removeEventListener("pageshow",this.Uot)},t}();F(),Tt(),Gt(),Dt(),Rt(),Ut(),qt(),F(),Tt(),Gt(),Dt(),Rt(),Ut(),qt(),F(),Tt(),Gt(),Dt(),qt(),F(),Tt(),F(),Tt();var QM=function(){function t(t){this.Xot=t}var n=t.prototype;return n.Got=function(t,n,i){return et.resolve()},n.Hot=function(t,n,i,r){var e=[];if(r){var u={MV:n.WO,LV:n.UO,BV:i.Zot.BV};r.Tw===Tw.TTML?e=Ey(t,r,u,i.jq):r.Tw===Tw.WEBVTT&&(e=Em(t,u,this.Xot).L)}return e},n.nr=function(){},t}();F(),Tt(),Ut(),F(),Tt(),sn(),F(),Tt();var $M,tO=function(t){return t.iD="vttc",t.zot="vsid",t.qot="iden",t.Yot="ctim",t.Kot="sttg",t.jot="payl",t.Qot="vtte",t.Jot="vtta",t}({}),nO=function(){function t(){}return t.$ot=function(n){return Boolean(t.tht[n])},t.JD=function(n){for(var i=[],r=hy.OD(new sy(n,new Rc)),e=0;e<r.length;e++){var u=r[e];t.$ot(u.Tw)&&i.push(t.tht[u.Tw](u.Kk))}return i},t.eht=function(n){var i=hy.OD(n),r=vy(i,tO.zot),e=vy(i,tO.qot),u=vy(i,tO.Yot),s=vy(i,tO.Kot),o=vy(i,tO.jot);return{Tw:tO.iD,iht:r?t.sht(r):void 0,nht:e?t.rht(e):void 0,oht:u?t.hht(u):void 0,aht:s?t.uht(s):void 0,cht:o?t.dht(o):void 0}},t.sht=function(t){return{Tw:tO.zot,fht:t.xD()}},t.rht=function(t){return{Tw:tO.qot,nht:t.ND()}},t.hht=function(t){return{Tw:tO.Yot,_ht:t.ND()}},t.uht=function(t){return{Tw:tO.Kot,vht:t.ND()}},t.dht=function(t){return{Tw:tO.jot,mht:t.ND()}},t.ght=function(t){return{Tw:tO.Qot}},t.pht=function(t){return{Tw:tO.Jot,wht:t.ND()}},t}();nO.tht=(un($M={},tO.iD,nO.eht),un($M,tO.Qot,nO.ght),un($M,tO.Jot,nO.pht),$M);var iO=function(){function t(){this.bht=NaN}var n=t.prototype;return n.Got=function(t,n,i){var r=new DataView(t.yht),e=gy.JD(r),u=ho(e,(function(t){return t.Tw===iy.gP}));return u&&(this.bht=u.Z[0].AN.XD.mN),et.resolve()},n.Hot=function(t,n,i){if(S(this.bht))return[];var r=bc(t),e=gy.JD(r),u=ay(e,iy.oD),s=ay(e,iy.fD);if(!u||0===u.Z.length||!s)return[];var o=function(t,n,i){for(var r=t.Z[0],e=r.aL?r.aL.aL.toNumber()/i:n.WO,u=[],s=0,o=r.hL;s<o.length;s++){var a,c=o[s];(a=u).push.apply(a,Ft(c._L))}return{Aht:e,_L:u}}(u,n,this.bht),a=i.Zot.BV;return function(t,n,i,r){for(var e=nO.JD(bc(n.Kk)),u=t._L,s=t.Aht+r,o=[],a=0,c=0;c<u.length;c++){var h,f=u[c],v=e[c],d=(null!=(h=f.ct)?h:0)/i,l=void 0;v.Tw===tO.iD&&(l=rO(v,a,d,s)),l&&o.push(l),a+=d}return o}(o,s,this.bht,a)},n.nr=function(){this.bht=NaN},t}();function rO(t,n,i,r){if(t.cht){var e=t.oht?function(t){return Vm(t._ht,new Rc(0))}(t.oht):n,u=r+e,s=u+i,o=t.cht.mht;return new Hw(u,s,o,!1)}}F(),Tt(),Gt(),Dt(),Rt(),nn(),qt(),F(),Tt(),sn();var eO,uO=function(t){return t[t.LZ=0]="LZ",t[t.Sht=1]="Sht",t[t.Tht=10]="Tht",t[t.kht=11]="kht",t[t.Eht=12]="Eht",t[t.xht=13]="xht",t[t.Rht=14]="Rht",t[t.Iht=15]="Iht",t[t.Cht=20]="Cht",t[t.Pht=21]="Pht",t[t.Dht=22]="Dht",t[t.Nht=23]="Nht",t[t.Mht=24]="Mht",t[t.Lht=30]="Lht",t[t.Bht=31]="Bht",t[t.Oht=32]="Oht",t[t.Fht=33]="Fht",t[t.Vht=34]="Vht",t[t.Wht=35]="Wht",t[t.Uht=40]="Uht",t[t.Ght=41]="Ght",t[t.Hht=42]="Hht",t[t.Zht=43]="Zht",t[t.Xht=44]="Xht",t[t.zht=50]="zht",t[t.qht=51]="qht",t[t.Yht=52]="Yht",t[t.Kht=60]="Kht",t[t.jht=61]="jht",t[t.Qht=62]="Qht",t[t.Jht=63]="Jht",t[t.$ht=70]="$ht",t[t.eat=71]="eat",t[t.iat=72]="iat",t[t.sat=73]="sat",t[t.nat=74]="nat",t[t.rat=75]="rat",t[t.oat=76]="oat",t[t.aat=77]="aat",t[t.uat=90]="uat",t[t.dat=91]="dat",t}({});un(eO={},0,"Failed because"),un(eO,1,"Created"),un(eO,10,"Starting because unknown reason"),un(eO,11,"Starting because new track loading"),un(eO,12,"Starting because manifest changed"),un(eO,13,"Starting because seek"),un(eO,14,"Starting because timeupdate"),un(eO,15,"Starting because buffering is being resumed"),un(eO,20,"Interrupting because unknown reason"),un(eO,21,"Interrupting because segment has a gap"),un(eO,22,"Interrupting because segment is missing"),un(eO,23,"Interrupting because seeking"),un(eO,24,"Interrupting because buffer is full"),un(eO,30,"Pausing because unknown reason"),un(eO,31,"Pausing because target buffer reached"),un(eO,32,"Pausing because no target time"),un(eO,33,"Pausing because no segment selected"),un(eO,34,"Pausing because end of stream is reached"),un(eO,35,"Pausing because initialization segment is missing"),un(eO,40,"Stopping because unknown reason"),un(eO,41,"Stopping because manifest went offline"),un(eO,42,"Stopping because seeking"),un(eO,43,"Stopping because buffering is being paused"),un(eO,44,"Stopping because unload"),un(eO,50,"Resetting because unknown reason"),un(eO,51,"Resetting because player was reset"),un(eO,52,"Resetting because disallowed segment was added"),un(eO,63,"Marking gap at"),un(eO,60,"Target time is"),un(eO,70,"[Selection 1] Select nothing if the target time has already been appended."),un(eO,71,"[Selection 2] Select nothing if the time-based lookup failed."),un(eO,72,"[Selection 3] If the segment has not been appended, select time-based lookup."),un(eO,73,"[Selection 4A] Select the first unappended segment that occurs before the segment."),un(eO,74,"[Selection 4B] Notify gap if no previous segment is available."),un(eO,75,"[Selection 5A] Select the first unappended segment that occurs after the segment."),un(eO,76,"[Selection 5B] Select nothing if no next segment is available."),un(eO,77,"[Selection 6] Unreachable"),un(eO,61,"Selected segment is"),un(eO,62,"Appended segment is"),un(eO,90,"Test setup"),un(eO,91,"Test");function sO(t,n){var i=n.uB((function(n,i){return t.oB(n,i,!1,!1)}));return t.tB(i)}function oO(t,n){var i=n.jn(t.jL()).uB((function(n,i){return t.wr(i)}));return t.tB(i)}F(),Tt(),F(),Tt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt();var aO=function(t){return t.fat="_at",t.vat="mat",t}({});F(),Tt(),Rt();var cO=function(t){function n(n,i,r){var e;return(e=t.call(this,"gat")||this).Sn=n,e.Tn=i,e.pat=r,e}return It(n,t),n}(Mo),hO=function(t){function n(){return t.call(this,"wat")||this}return It(n,t),n}(sa),fO=[oa.eb,oa.sb,oa.$y,oa.Ay],vO=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).sut=n,s.Hat=i,s.Eat=r,s.Aat=e,s.S9=u,s.Rat="Bat",s.YG=void 0,s.Lat=new Gc,s.zat=new Yo,s.Nat=new Yo,s.Ge=function(t){s.Pat||s.Wat||(!Kn.hR&&s.Aat.nut(t.currentTime)||(s.zat.jw(),s.zat=new Yo,Zo(s.iut(s.zat.Uw),s.zat).catch(Uo)))},s.pd=Ai((function(){if(s.Dat){try{if(s.Aat.rut(),s.Aat.out())return}catch(t){if(!(t instanceof cO))throw t}s.Sn(uO.Rht)}}),250),s.Gat(),s}It(n,t);var i=n.prototype;return i.Iat=function(t){this.Rat!==t&&(this.Rat=t,this._o(new hO))},i.Sn=function(t){var n=this;return Zt((function(){var t;return Ht(this,(function(i){switch(i.label){case 0:return n.Pat||n.Dat?(t=n.py("wat"),n.Pat?(n.Nat.jw(),n.Nat=new Yo,Zo(n.Mat(n.Nat.Uw),n.Nat)):(n.Lat.Vb(void 0),n.Lat=new Gc),[4,t]):[2];case 1:return i.sent(),[2]}}))}))()},i.RI=function(t){var n=this;return Zt((function(){return Ht(this,(function(t){switch(t.label){case 0:if(!n.Fat&&!n.Dat)return[2];0,n.Nat.jw(),t.label=1;case 1:return n.Pat||n.Wat?[3,3]:[4,n.py("wat")];case 2:return t.sent(),[3,1];case 3:return[2]}}))}))()},i.nr=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.Wat?(n.YG=void 0,n.Iat("Bat"),[3,3]):[3,1];case 1:return[4,n.RI(t)];case 2:i.sent(),i.label=3;case 3:return n.Aat.nr(),n.Eat.nr(),[2]}}))}))()},i.BH=function(t){this.YG=t,this.Iat("Uat"),this._o(new yk(t))},i.Gat=function(){this.S9.bn(oa.hb,this.pd),this.S9.bn([oa.Jy,oa.Oy],this.Ge),this.Aat.bn(fO,this.Ds),this.Hat.bn(aO.fat,this.pd)},i.Zat=function(){this.S9.vn(oa.hb,this.pd),this.S9.vn([oa.Jy,oa.Oy],this.Ge),this.Aat.vn(fO,this.Ds),this.Hat.vn(aO.fat,this.pd)},i.Xat=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.Zat(),n.zat.jw(),[4,n.RI(null!=t?t:uO.Zht)];case 1:return i.sent(),n.Aat.nr(),[2]}}))}))()},i.qat=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.Gat(),[4,n.Sn(null!=t?t:uO.Iht)];case 1:return i.sent(),[2]}}))}))()},i.Yat=function(t,n,i){var r,e=function(t,e){var u=e[t];u.jat<=i&&n<=u.Qat&&r.Hat.Jat.some((function(t){return t.o===u.$at}))&&r.Eat.tut(u)};if(this.Pat)for(var u=0,s=t.Eat.Kat();u<s.length;u++)r=this,e(u,s)},i.yn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.Ro(),t.Zat(),t.zat.jw(),[4,t.RI(uO.Xht)];case 1:return n.sent(),t.Aat.yn(),[2]}}))}))()},i.Mat=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:0,e.label=1;case 1:return e.trys.push([1,4,,5]),Vo(t),n.Iat("Vat"),[4,n.Aat.eut(t)];case 2:return e.sent(),Vo(t),n.Iat("Oat"),[4,Wo(n.Lat.Ub,t)];case 3:return e.sent(),[3,5];case 4:return Bo(i=e.sent())?n.Iat("Bat"):(r=i instanceof id?i:new id(td.MEDIA_LOAD_ERROR,i.message,i),n.BH(r)),[3,6];case 5:return[3,0];case 6:return[2]}}))}))()},i.iut=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return Vo(t),[4,n.RI(uO.Hht)];case 1:return i.sent(),n.Aat.nr(),Vo(t),[4,n.Sn(uO.xht)];case 2:return i.sent(),[2]}}))}))()},Nt(n,[{key:"yat",get:function(){var t,n;return(null==(t=this.Aat.bat)?void 0:t.pat)||(null==(n=this.Aat.Sat)?void 0:n.pat)}},{key:"Tat",get:function(){return this.Eat}},{key:"xat",get:function(){return this.Aat.xat},set:function(t){this.Aat.xat=t}},{key:"Yk",get:function(){return this.Rat}},{key:"Cat",get:function(){return this.Eat.Ht.Cat}},{key:"lt",get:function(){return this.YG}},{key:"Pat",get:function(){return"Bat"===this.Rat}},{key:"Dat",get:function(){return"Oat"===this.Rat}},{key:"Fat",get:function(){return"Vat"===this.Rat}},{key:"Wat",get:function(){return"Uat"===this.Rat}}]),n}(ra);F(),Tt(),Gt(),qt(),F(),Tt();var dO=function(){function t(t,n){this.fW=t,this.vut=n}var n=t.prototype;return n.hut=function(t,n){return this.aut(t,!1,n)},n.uut=function(t,n){return this.aut(t,!0,n)},n.aut=function(n,i,r){var e=this;return Zt((function(){var u;return Ht(this,(function(s){switch(s.label){case 0:return Vo(r.Uw),[4,e.cut(n,i,r)];case 1:return(u=s.sent()).Vk?[2,t.lut(u)]:[2,e.fut(u)]}}))}))()},n.fut=function(t){return t},n.cut=function(t,n,i){var r,e=new vl({Xu:t.Xu,jk:Id.bk,Jk:t._ut?{Range:"bytes="+t._ut[0]+"-"+(null!=(r=t._ut[1])?r:"")}:void 0,xE:t.xE,AE:ol.GET,Tw:al.nE,kE:n?cl.hE:cl.iE,EE:this.vut,SE:i.mut,TE:i.TE,Uw:i.Uw,PE:i.PE});return this.fW.Qk(e)},t.lut=function(t){return t},t}();F(),Tt(),Dt(),F(),Tt();var lO=function(){function t(t){this.dit=0,this.yut=0,this.wut=k.exp(k.log(.5)/t)}var n=t.prototype;return n.gut=function(t,n){var i=k.pow(this.wut,t),r=n*(1-i)+i*this.dit;S(r)||(this.dit=r,this.yut+=t)},n.but=function(){var t=1-k.pow(this.wut,this.yut);return this.dit/t},t}(),gO=function(){function t(t,n,i){void 0===t&&(t=2),void 0===n&&(n=5),void 0===i&&(i=128e3),this.Aut=0,this.Eut=_k,this.Sut=new lO(t),this.Tut=new lO(n),this.xut=i}var n=t.prototype;return n.gut=function(t,n){var i=8e3*n/t,r=t/1e3;this.Aut+=n,this.Sut.gut(r,i),this.Tut.gut(r,i)},n.but=function(){return this.kut()?k.min(this.Sut.but(),this.Tut.but()):this.Eut},n.kut=function(){return this.Aut>=this.xut},t}(),wO=function(){function t(t,n){this.Dut=n,n&&Jg(t)?t===qg.mE?(this.Out=5e3,this.Iut=new gO(.05,1,0)):(this.Out=0,this.Iut=new gO(.005,.1,0)):(this.Out=16e3,this.Iut=new gO)}return t.prototype.Cut=function(t){var n=t.Put,i=this.Dut?t.Nut-t.Mut:t.Nut-t.Lut,r=t.But;!r&&n<this.Out||(r?this.Iut.gut(2*i,n):this.Iut.gut(i,n))},Nt(t,[{key:"Rut",get:function(){return this.Iut.but()}},{key:"kut",get:function(){return this.Iut.kut()}}]),t}();F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Dt(),nn(),F(),Tt();var mO=function(){function t(t){this.Jd=t}var n=t.prototype;return n.transform=function(t,n){this.Jd.write(t).catch(bi),n.enqueue(t)},n.flush=function(){this.Jd.close().catch(bi)},t}(),yO=function(){function t(t,n,i){this.yht=t,this.Vut=n,this.Wut=i}return t.prototype.Fut=function(){return new pO(Fd(this.yht),this.Vut,this.Wut)},t}(),pO=function(){function t(t,n,i){this.Uut=t,this.Vut=n,this.Wut=i}var n=t.prototype;return n.Dk=function(t){return Ud(this.Uut,t)},n.Ib=function(){var n=tn(Zd(this.Uut),2),i=n[0],r=n[1];return this.Uut=i,new t(r,this.Vut,this.Wut)},n.Gut=function(){var n=tn(function(t){var n=new Od,i=n.writable.getWriter(),r=new Od(new mO(i));return t.pipeTo(r.writable).catch((function(t){i.abort(t).catch(bi)})),[r.readable,n.readable]}(this.Uut),2),i=n[0],r=n[1];return this.Uut=i,new t(r,this.Vut,this.Wut)},n.Hut=function(t){var n=this;return this.Dk(t).then((function(t){return new yO(t,n.Vut,n.Wut)}))},Nt(t,[{key:"Nk",get:function(){return this.Uut}}]),t}();F(),Tt(),Rt();var _O=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).Zut=n,e}return It(n,t),n}(Mo),bO="Cache lookup failed.",kO=function(t){function n(n){var i;return(i=t.call(this)||this).zut=n,i}It(n,t);var i=n.prototype;return i.Xut=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return Vo(n),[4,i.zut.grt(t.Xu.Xu,t.Xu._ut)];case 1:if(r=u.sent(),Vo(n),!r)throw new _O(t,bO);return e=new yO(r.buffer,r.byteLength,r.reference),[2,{Zut:t.Zut,qut:{Tw:xR.iJ,Kk:e},pat:t.pat,Xu:t.Xu}]}}))}))()},i.Yut=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return Vo(n),[4,i.zut.grt(t.Xu,t._ut)];case 1:if(r=u.sent(),Vo(n),!r)throw new _O(t,bO);return e=new yO(r.buffer,r.byteLength,r.reference),[2,{Tw:xR.iJ,Kk:e}]}}))}))()},i.yn=function(){this.Ro()},n}(ra);F(),Tt(),Gt(),Rt(),qt();var AO=["ib","ob"],TO=function(t){function n(n){var i;(i=t.call(this)||this).Kut=n;for(var r=0,e=i.Kut;r<e.length;r++){e[r].bn(AO,i.Ds)}return i}It(n,t);var i=n.prototype;return i.Xut=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:e=0,u=i.Kut,a.label=1;case 1:if(!(e<u.length))return[3,6];s=u[e],a.label=2;case 2:return a.trys.push([2,4,,5]),[4,s.Xut(t,n)];case 3:return[2,a.sent()];case 4:return Fo(o=a.sent()),r=o,[3,5];case 5:return e++,[3,1];case 6:throw r}}))}))()},i.Yut=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:e=0,u=i.Kut,a.label=1;case 1:if(!(e<u.length))return[3,6];s=u[e],a.label=2;case 2:return a.trys.push([2,4,,5]),[4,s.Yut(t,n)];case 3:return[2,a.sent()];case 4:return Fo(o=a.sent()),r=o,[3,5];case 5:return e++,[3,1];case 6:throw r}}))}))()},i.yn=function(){for(var t=0,n=this.Kut;t<n.length;t++){var i=n[t];i.vn(AO,this.Ds),i.yn()}},n}(ra);function SO(t){return ei(t.jut)}function EO(t){return SO(t)?t.jut:t.Qut}F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),F(),Tt(),Rt(),F(),Tt(),Rt();var IO=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n)||this).Jut=i,o.Az=r,o.sL=e,o.EN=u,o.EE=s,o}return It(n,t),n}(sa),RO=function(t){function n(n,i,r,e,u){return t.call(this,oa.eb,n,i,r,e,u)||this}return It(n,t),n}(IO);F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt();var CO=function(t,n){this.$ut=t,this.tct=n},NO=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).ect=0,n}It(n,t);var i=n.prototype;return i.start=function(){},i.transform=function(t,n){this.ect+=t.byteLength,n.enqueue(t)},i.flush=function(){this.ict(!1)},i.jw=function(){this.ict(!0)},i.ict=function(t){this.$ut(this.tct,Kn.Wg(),this.Put,t)},Nt(n,[{key:"Put",get:function(){return this.ect}}]),n}(CO),DO=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).ect=0,n.sct=!1,n}It(n,t);var i=n.prototype;return i.start=function(){this.tct=Kn.Wg()},i.transform=function(t,n){this.ect+=t.byteLength,this.sct||this.nct(t)&&this.ict(!1),n.enqueue(t)},i.flush=function(){},i.jw=function(){this.ict(!0)},i.nct=function(t){var n=this.rct(t),i=this.hct(n);return Boolean(ho(i,PO))},i.rct=function(t){return this.act&&void 0!==this.uct?(this.act=Oc([this.act,t]),new sy(bc(this.act),new Rc(this.uct))):(this.act=t,new sy(bc(t),new Rc))},i.hct=function(t){var n=hy.FD(t.Kk,t.SD,!0);return n.VD?(this.act=void 0,this.uct=void 0):this.uct=t.SD.nc,n.m},i.ict=function(t){this.sct||(this.$ut(this.tct,Kn.Wg(),this.Put,t),this.sct=!0)},Nt(n,[{key:"Put",get:function(){return this.ect}}]),n}(CO);function PO(t){return t.Tw===iy.fD}var xO=function(){function t(t){var n=this;this.mct=t,this.fct=new Gc,this.Cut=function(t,i,r,e){var u={Lut:n.lct,Mut:t,Nut:i,Put:r,But:e};n.mct.Cut(u),n.mct.kut&&bk.Vg.hG(n.mct.Rut)},this.fct.Ub.catch(bi),this.lct=Kn.Wg()}var n=t.prototype;return n.cct=function(t){var n=t.tE?this.lct:Kn.Wg(),i=this.dct(n),r=new Od(i),e=t.Nk().pipeTo(r.writable).then((function(){return{GR:{Put:i.Put}}}),(function(t){throw i.jw(),t}));return this.fct.Qw(e),r.readable},n._ct=function(t){var n=this,i=t.tE?this.lct:Kn.Wg(),r=t.Dk(),e=r.then((function(t){var r=Kn.Wg();return n.Cut(i,r,t.byteLength,!1),{GR:{Put:t.byteLength}}}),(function(t){var r=Kn.Wg();throw n.Cut(i,r,0,!0),t}));return this.fct.Qw(e),r},Nt(t,[{key:"vct",get:function(){return this.fct.Ub}}]),t}(),LO=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n.prototype.dct=function(t){return new NO(this.Cut,t)},n}(xO),MO=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n.prototype.dct=function(t){return new DO(this.Cut,t)},n}(xO);F(),Tt(),Rt();var OO=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,oa.sb,n,i,r,e,u)||this).gct=s,a.pO=o,a}return It(n,t),n}(IO);F(),Tt(),Rt();var BO=function(t){function n(n,i,r){var e;return(e=t.call(this,"Error downloading segment "+EO(i),n)||this).pct=i.WO,e.wct=i.UO,e.yct=r,e}return It(n,t),n}(Mo),VO=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Sct=n,e.mct=i,e.Dut=r,e}It(n,t);var i=n.prototype;return i.bct=function(){return this.Dut?new MO(this.mct):new LO(this.mct)},i.Xut=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h,f,v;return Ht(this,(function(d){switch(d.label){case 0:Vo(n),r=t.pat,e=t.Xu,u=t.Zut,s=EO(u),o=r.pat?r.pat.IC:-1,a=function(t){var n,i=t.pat;n=i===function(t){return t.Jat.reduce((function(t,n){return t.bG<n.bG?t:n}))}(i.Act)?mr(5*t.Zut.ct):mr(1.2*t.Zut.ct);return sr(n,1e3,18e3)}(t),i._o(new RO(e,r.bG,s,o,r.Tw)),d.label=1;case 1:return d.trys.push([1,4,,5]),c=i.bct(),[4,i.Sct.hut(e,{PE:i.Dut,mut:a,Uw:n})];case 2:return h=d.sent(),[4,i.Tct(h,h.Vk,n,c)];case 3:return f=d.sent(),qo(i.kct(c.vct,r,e,s,o,h)),[2,{qut:f,pat:r,Zut:u,Xu:e}];case 4:throw Fo(v=d.sent()),new BO(v,u,r);case 5:return[2]}}))}))()},i.Yut=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return Vo(n),r=!1,[4,i.Sct.uut(t,{PE:r,mut:1e4,Uw:n})];case 1:return e=u.sent(),[4,i.Tct(e,r,n)];case 2:return[2,u.sent()]}}))}))()},i.Tct=function(t,n,i,r){return Zt((function(){var e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return n?(e=r?r.cct(t):t.Nk(),[2,{Tw:xR.Sk,Kk:new pO(e)}]):[3,1];case 1:return r?[4,r._ct(t)]:[3,3];case 2:return s=o.sent(),[3,5];case 3:return[4,t.Dk(i)];case 4:s=o.sent(),o.label=5;case 5:return u=s,[2,{Tw:xR.iJ,Kk:new yO(u)}];case 6:return[2]}}))}))()},i.kct=function(t,n,i,r,e,u){var s=this;return Zt((function(){var o;return Ht(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,t];case 1:return o=a.sent(),s._o(new OO(i,n.bG,r,e,n.Tw,u.Yk,o.GR.Put)),[3,3];case 2:return a.sent(),[3,3];case 3:return[2]}}))}))()},i.yn=function(){this.Ro()},n}(ra);F(),Tt(),Dt();var FO=.001,UO=function(){function t(t,n,i,r){this.Ect=t,this.S9=n,this.O3=i,this.gZ=r}return Nt(t,[{key:"wR",get:function(){return this.Ect.wR}},{key:"xct",get:function(){return this.Ect.xct}},{key:"FJ",get:function(){return this.Ect.FJ}},{key:"Rct",get:function(){if(this.O3.rI<bp.Xn)return!1;if(this.Ect.Tn<=this.Ict&&this.Ect.Cct())return!0;var t=this.Ect.XG;if(!t||0===t.V)return!1;var n=SA.gB(this.S9.ER,1/0);return t.jn(n).iB(this.Ect.FJ).vB>=this.gZ.Dj}},{key:"Ict",get:function(){var t,n=this.Ect.XG;if(n&&n.V>0)t=n.Tn(0);else{t=this.S9.ER;var i=this.Ect.FJ,r=i.sB(t);r>=0&&(t=i.Tn(r))}var e=this.Ect.hI.Sn(0);if(e>t){if(this.Ect.Sn<=t&&this.Ect.Tn>=t&&e>t+FO)throw new cO(t,e);t=e}return t=this.Ect.Pct.KL(t)}}]),t}();F(),Tt(),Dt();var WO=function(){function t(){this.P_=rs(),this.Nct=SA.pB()}var n=t.prototype;return n.Mct=function(t){return this.P_.get(t.o)},n.Lct=function(){var t=this.Nct;return this.P_.forEach((function(n){t=t.tB(n)})),t},n.Bct=function(t){if(this.Nct.wr(t))return!0;var n=!1;return this.P_.forEach((function(i){n=n||i.wr(t)})),n},n.Oct=function(t,n){var i=this.P_.get(n.o);return!!i&&i.wr(t)},n.nB=function(t,n){if(this.Nct.nB(t,n))return!0;var i=!1;return this.P_.forEach((function(r){i=i||r.nB(t,n)})),i},n.Fct=function(t,n){var i=this.P_.get(n),r=i?i.tB(t):t;this.P_.set(n,r),this.Nct=this.Nct.tB(t)},n.Vct=function(t){var n=this;this.P_.forEach((function(i,r){n.P_.set(r,i.tB(t))})),this.Nct=this.Nct.tB(t)},n.Wct=function(t){var n=this;this.P_.forEach((function(i,r){n.P_.set(r,i.jn(t))})),this.Nct=this.Nct.jn(t)},n.nr=function(){var t=this;this.P_.forEach((function(n,i){t.P_.set(i,SA.pB())})),this.Nct=SA.pB()},Nt(t,[{key:"Dct",get:function(){if(0===this.P_.size)return this.Nct;var t=SA.gB(0,1/0);return t=t.jn(this.Nct),this.P_.forEach((function(n){t=t.jn(n)})),t}}]),t}(),ZO=function(){function t(t){this.Mrt=[],this.Ht=t,this.Gct=new WO,this.VJ=new WO}var n=t.prototype;return n.Hct=function(t){for(var n=0,i=this.Mrt;n<i.length;n++){var r=i[n];if(r.jat>t)break;if(r.Qat>t)return r}},n.Zct=function(t){for(var n=0,i=this.Mrt;n<i.length;n++){var r=i[n];if(r.Xct>t)break;if(r.zct>=t)return r}},n.qct=function(t,n){for(var i=[],r=0,e=this.Mrt;r<e.length;r++){var u=e[r];if(u.jat>t)break;u.Qat>=n&&i.push(u)}return i},n.Kat=function(){return this.Mrt},n.tut=function(t){var n=SA.gB(t.Xct,t.zct),i=n.jL();this.Gct.Wct(i),this.Gct.Fct(n,t.$at),this.Yct(i);var r=lo(this.Mrt,(function(n){return t.jat<=n.jat}));r<0?this.Mrt.push(t):this.Mrt[r].Qat<=t.Qat?this.Mrt.splice(r,1,t):this.Mrt.splice(r,0,t)},n.WJ=function(t,n){this.VJ.Fct(t,n)},n.Kct=function(t){this.VJ.Vct(t)},n.Wct=function(t){this.Gct.Wct(t),this.VJ.Wct(t);var n=this.Gct.Lct();this.Yct(n)},n.Yct=function(t){this.Mrt=this.Mrt.filter((function(n){return t.oB(n.Xct,n.zct)})).map((function(n){return n.jct&&!t.nB(n.Xct,n.zct)?function(t,n){return{$at:t.$at,jat:t.jat,Qat:t.Qat,Xct:t.Xct,zct:t.zct,jct:n}}(n,!1):n}))},n.nr=function(){this.Gct.nr(),this.VJ.nr(),this.Mrt=[]},n.yn=function(){this.nr()},Nt(t,[{key:"Uct",get:function(){return this.Gct}},{key:"FJ",get:function(){return this.VJ}}]),t}();F(),Tt(),F(),Tt(),Gt(),Dt(),qt();var XO=function(){function t(t,n,i){this.sut=t,this.Eat=n,this.Ip=i}var n=t.prototype;return n.Jct=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:return Vo(i),u=r.Eat.Zct(t),e=u&&or(u.zct,t,1e-5)?u.Qat:t,s=r.$ct(e),o=function(t){return GO.bind(void 0,t)}(e),[4,r.Ip.tlt(o,s,n,i)];case 1:a=v.sent(),Vo(i),v.label=2;case 2:return a&&r.elt(a.Zut)?(c=qO(a.Zut),h=a.pat,[4,r.Ip.tlt(c,[h],n,i)]):[3,4];case 3:return a=v.sent(),Vo(i),[3,2];case 4:return a?r.ilt(a.Zut)?(f=r.slt(a.Zut),t<f.Sn?[4,r.findFirstNonAppendedSegmentBeforeSegment(a,n,i,f)]:[3,6]):[2,a]:[2,void 0];case 5:return[2,v.sent()];case 6:return t>=f.Tn?[4,r.findFirstNonAppendedSegmentAfterSegment(a,n,i)]:[3,8];case 7:return[2,v.sent()];case 8:if(a.pat.nlt(a.Zut))return[2,void 0];throw new p("Fatal buffering error")}}))}))()},n.findFirstNonAppendedSegmentAfterSegment=function(t,n,i){var r=this;return Zt((function(){var e,u,s;return Ht(this,(function(o){switch(o.label){case 0:e=t,o.label=1;case 1:return u=qO(e.Zut),s=t.pat,[4,r.Ip.tlt(u,[s],n,i)];case 2:e=o.sent(),Vo(i),o.label=3;case 3:if(e&&r.ilt(e.Zut))return[3,1];o.label=4;case 4:return e?[2,e]:[2,void 0]}}))}))()},n.findFirstNonAppendedSegmentBeforeSegment=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:u=t,c.label=1;case 1:return s=function(t){return zO.bind(void 0,t)}(u.Zut),o=t.pat,[4,e.Ip.tlt(s,[o],n,i)];case 2:u=c.sent(),Vo(i),c.label=3;case 3:if(u&&e.ilt(u.Zut))return[3,1];c.label=4;case 4:if(!u)throw a=t.pat.rlt.Sn,new cO(a,r.Sn,t.pat);return[2,u]}}))}))()},n.olt=function(t){return this.Eat.Uct.Bct(t)},n.hlt=function(t){return this.Eat.qct(t.WO,t.UO)},n.ilt=function(t){var n=this.hlt(t);return n.length>0&&function(t,n){return function(t){for(var n=SA.pB(),i=0;i<t.length;i++){var r=t[i];n=n.tB(SA.gB(r.jat,r.Qat))}return n}(t).nB(n.WO,n.UO)}(n,t)&&n.every(JO)},n.elt=function(t){return this.Eat.FJ.nB(t.WO,t.UO)},n.slt=function(t){var n=this.hlt(t);return{Sn:n[0].Xct,Tn:n[n.length-1].zct}},n.$ct=function(t){var n=this.ult(t);if(0===n.length){var i=this.Qct?this.Qct:this.Eat.Ht.Jat;return[i[i.length-1]]}var r=n.filter((function(t){var n;return(null==(n=t.pat)?void 0:n.trt)&&!t.clt}));return r.length>0?r:[n[n.length-1]]},n.ult=function(t){var n=this;return(this.Qct?this.Qct:this.Eat.Ht.Jat).filter((function(i){return!n.Eat.FJ.Oct(t,i)}))},Nt(t,[{key:"xat",get:function(){return this.Qct},set:function(t){this.Qct=t}},{key:"Cat",get:function(){return this.Eat.Ht.Cat}}]),t}();function GO(t,n,i,r){return HO.apply(this,arguments)}function HO(){return HO=Zt((function(t,n,i,r){var e,u;return Ht(this,(function(s){switch(s.label){case 0:return e=n.Zot,(u=e.llt(t))?n.dlt(u)?[4,n._lt(u,i,r)]:[3,2]:[2,void 0];case 1:return[2,s.sent().flt(t)];case 2:return[2,u]}}))})),HO.apply(this,arguments)}function zO(t,n,i,r){return YO.apply(this,arguments)}function YO(){return YO=Zt((function(t,n,i,r){var e;return Ht(this,(function(u){switch(u.label){case 0:return SO(t)?0===t.jut?[2,void 0]:(e=n.Zot.vlt(t))?[4,n._lt(e,i,r)]:[2,void 0]:[3,2];case 1:return[2,u.sent().glt(t.jut-1)];case 2:return[2,n.Zot.plt(t)];case 3:return[2]}}))})),YO.apply(this,arguments)}function jO(t,n,i,r){return KO.apply(this,arguments)}function KO(){return KO=Zt((function(t,n,i,r){var e,u;return Ht(this,(function(s){switch(s.label){case 0:return SO(t)?(e=n.Zot.vlt(t))?[4,n._lt(e,i,r)]:[2,void 0]:[3,2];case 1:return u=s.sent(),t.jut+1===u.V?[2,void 0]:[2,u.glt(t.jut+1)];case 2:return[2,n.Zot.wlt(t)];case 3:return[2]}}))})),KO.apply(this,arguments)}function qO(t){return jO.bind(void 0,t)}function JO(t){return t.jct}F(),Tt(),Gt(),qt();var QO=function(){function t(t,n,i,r){this.Tlt=t,this.Ect=n,this.gZ=i,this.blt=r,this.klt=!1}var n=t.prototype;return n.tlt=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return Vo(r),(u=e.ylt(n,i))?[4,t(u,e.blt,r)]:[2,void 0];case 1:return(s=a.sent())?(o=u.Alt(s),[2,{pat:u,Zut:s,Xu:o}]):[2,void 0]}}))}))()},n.ylt=function(t,n){if(0!==t.length){var i=this.Tlt.Slt(t,this.klt?n:void 0,this.Ect,this.gZ.Ij);return this.klt||(this.klt=!0),i}},t}();F(),Tt(),Gt(),qt();var $O=function(){function t(t,n,i,r){this.Tlt=t,this.Ect=n,this.zut=i,this.blt=r}return t.prototype.tlt=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:if(Vo(r),!(u=e.Tlt.Elt(n,i,e.Ect)).length)return[2,void 0];o=0,v.label=1;case 1:if(!(o<u.length))return[3,8];a=u[o],v.label=2;case 2:return v.trys.push([2,6,,7]),Vo(r),[4,t(a,e.blt,r)];case 3:return(c=v.sent())?(h=a.Alt(c),[4,e.zut.vrt(h.Xu,h._ut)]):[3,5];case 4:if(v.sent())return[2,{Zut:c,pat:a,Xu:h}];v.label=5;case 5:return[3,7];case 6:return Fo(f=v.sent()),s=f,[3,7];case 7:return o++,[3,1];case 8:if(s)throw s;return[2,void 0]}}))}))()},t}();function tB(t){return void 0!==t.QR}function nB(t,n){var i=t.ji&&n.ji,r=t.Ti&&n.Ti;return i||r?i&&r?t.ji*t.Ti-n.ji*n.Ti:i?t.ji-n.ji:r?t.Ti-n.Ti:(t.ji||1)*(t.Ti||1)-(n.ji||1)*(n.Ti||1):0}function iB(t,n){return nB(t,n)||function(t,n){return t.bG-n.bG}(t,n)}F(),Tt(),Ut(),at(),F(),Tt();var rB=function(){function t(t,n,i,r,e,u){this.m_=t,this.Ilt=n,this.nw=i,this.Nlt=r,this.xlt=e,this.Mlt=u}var n=t.prototype;return n.Slt=function(n,i,r,e){var u=t.sortByQuality(n);if(void 0!==this.xlt&&void 0===i&&n.length>1){var s=t.Rlt(u,this.xlt);s&&(u=s)}var o=this.Elt(u,i,r,e);return o.length?o[o.length-1]:u[0]},n.Elt=function(n,i,r,e){for(var u,s=t.sortByQuality(n),o={Rut:void 0===e||this.Ilt.kut?this.Ilt.Rut:e,QR:tB(r)&&r.QR?r.QR:1,Clt:r.ji,Plt:r.Ti,Dlt:null==(u=this.Nlt)?void 0:u.restrictToPlayerSize},a=s,c=0,h=this.m_;c<h.length;c++){a=(0,h[c])(a,i,o,this.nw,this.Mlt)}return a},t.Llt=function(n){return t.sortByQuality(n)[0]},t.Blt=function(n,i){var r;return i?t.Llt(null!=(r=t.Rlt(n,i))?r:n):t.Llt(n)},t.Rlt=function(t,n){for(var i=function(i){var r=n[i],e=t.filter((function(t){return jC(t.gp,r)}));if(e.length>0)return{v:e}},r=0;r<n.length;r++){var e=i(r);if("object"===U(e))return e.v}},t.sortByQuality=function(t){var n=Ft(t);return n.sort(iB),n},t}();F(),Tt();var eB=function(t,n,i,r,e){return t.filter((function(t){return e.dJ(t)&&r.dp(n,t)}))};F(),Tt();var uB=function(t,n,i){return t.filter((function(t){return function(t,n,i){var r=i.Rut;if(r<=0)return!1;return.8*r>t.bG*i.QR}(t,0,i)}))};F(),Tt();var sB=function(t,n,i,r,e){var u=i.Dlt;if(void 0===u&&!r.Qs)return t;if(!1===u)return t;if(t.length>0&&t[0].Tw!==qg.mE)return t;for(var s=t.length-1;s>=0;s--){var o=t[s];if(o.Ti===i.Plt&&o.ji===i.Clt)return t.slice(0,s+1);if(o.Ti<i.Plt||o.ji<i.Clt)return t.slice(0,s+2)}return[]};F(),Tt(),Gt(),qt();var oB=function(){function t(t){this.Olt=t}return t.prototype.tlt=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:s=0,o=e.Olt,f.label=1;case 1:if(!(s<o.length))return[3,6];a=o[s],f.label=2;case 2:return f.trys.push([2,4,,5]),[4,a.tlt(t,n,i,r)];case 3:return(c=f.sent())?[2,c]:[3,5];case 4:return h=f.sent(),u=h,[3,5];case 5:return s++,[3,1];case 6:if(u)throw u;return[2,void 0]}}))}))()},t}();F(),Tt(),F(),Tt(),Gt(),qt();var aB=function(){function t(t){this.Vlt=t}return t.prototype.Flt=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:s=0,o=e.Vlt,h.label=1;case 1:if(!(s<o.length))return[3,6];a=o[s],h.label=2;case 2:return h.trys.push([2,4,,5]),[4,a.Flt(t,n,i,r)];case 3:return[2,h.sent()];case 4:return Fo(c=h.sent()),u=c,[3,5];case 5:return s++,[3,1];case 6:throw u}}))}))()},t}();F(),Tt(),Gt(),qt();var cB=function(){function t(t){this.fW=t}return t.prototype.Flt=function(t,n,i,r){var e=this;return Zt((function(){var u;return Ht(this,(function(s){switch(s.label){case 0:return[4,e.fW.Qk({Xu:t,jk:Id.bk,Jk:n?{Range:"bytes="+n[0]+"-"+(null!=(u=n[1])?u:"")}:void 0,xE:i,AE:ol.GET,Tw:al.iE,Uw:r})];case 1:return[4,s.sent().Dk()];case 2:return[2,s.sent()]}}))}))()},t}();F(),Tt(),Gt(),qt();var hB=function(){function t(t){this.zut=t}return t.prototype.Flt=function(t,n,i,r){var e=this;return Zt((function(){var i,r;return Ht(this,(function(u){switch(u.label){case 0:return[4,e.zut.grt(t,n)];case 1:return(i=u.sent())?[2,i.buffer]:n?[4,e.zut.grt(t)]:[3,3];case 2:if(r=u.sent())return[2,Sc(new E(r.buffer),n[0],n[1])];u.label=3;case 3:throw new _O({Xu:t,_ut:n,xE:!1})}}))}))()},t}();F(),Tt();var fB=1.05,vB=function(t,n,i,r){if(!1===i.Dlt)return t;if(r.qg)return t;for(var e,u,s=r.Yg,o=(null!=(e=null==s?void 0:s.width)?e:i.Clt)*fB,a=(null!=(u=null==s?void 0:s.height)?u:i.Plt)*fB,c=t.length-1;c>=0;c--){var h=t[c];if(h.Ti<=a&&h.ji<=o)return t.slice(0,c+1)}return[]},dB=function(){function t(){}return t.Ait=function(t,n,i,r,e,u,s,o,a,c){var h=function(t,n){return new aB([new hB(n),new cB(t)])}(u,s),f=new rB([eB],e,Kn.Ys,o,a,c),v=new $O(f,n,s,h),d=new rB([uB,eB,sB,vB],e,Kn.Ys,o,a,c),l=new QO(d,n,r,h),g=new oB([v,l]);return new XO(t,i,g)},t}();F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Rt();var lB=function(t){function n(n,i,r,e,u,s){var o;return void 0===s&&(s=0),(o=t.call(this,oa.$y)||this).segmentStartTime=n,o.error=i,o.trackType=r,o.track=e,o.quality=u,o.retryCount=s,o}return It(n,t),n}(sa);F(),Tt(),Rt();var gB=function(t){function n(n,i){var r;return(r=t.call(this,oa.Ay)||this).track=n,r.segments=i,r}return It(n,t),n}(sa),wB=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).Wlt=n,r}return It(n,t),n}(Mo),mB=[oa.eb,oa.sb],yB=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return(h=t.call(this)||this).sut=n,h.Eat=i,h.Xlt=r,h.Hlt=e,h.ydt=u,h.hdt=s,h.Mlt=o,h.edt=a,h.hH=c,h.Ult=void 0,h.C2=void 0,h.Glt=void 0,h.udt=void 0,h.Jlt=0,h.$lt=0,h.idt=SA.pB(),h.ydt.bn(mB,h.Ds),h}It(n,t);var i=n.prototype;return i.Zlt=function(t){return!this.C2||!t||!xc(this.C2.yht,t.yht)},i.nut=function(t){if(!this.Ult)return!1;var n=this.Ult.Zut,i=SA.gB(n.WO,n.UO),r=this.Xlt.xct,e=r.sB(t);return e<0?i.wr(t,FO):i.oB(t,r.Tn(e),!0,!0,FO)},i.eut=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c,h,f,v,d,l;return Ht(this,(function(g){switch(g.label){case 0:i=n.Eat.Ht.Jat,g.label=1;case 1:0,r=void 0,g.label=2;case 2:return g.trys.push([2,12,16,17]),Vo(t),n.rut(),n.out()?[3,18]:(r=n.zlt(),[4,n.tlt(r,t)]);case 3:return void 0===(u=g.sent())?[3,18]:(n.Ult=u,function(t){var n=t.pat,i=n.Zot,r=SO(t.Zut)?i.vlt(t.Zut):t.Zut;return i.kdt(r,n.vdt._dt())}(n.Ult)?[3,5]:[4,n.qlt(n.Ult,t)]);case 4:return g.sent(),[3,1];case 5:return!n.Glt||XC(n.Glt.pat.Jrt,n.Ult.pat.Jrt)?[3,7]:[4,n.Mlt._J(n.Ult.pat)];case 6:g.sent(),g.label=7;case 7:return!n.Ult.pat.TG||n.Sat&&(null==(e=n.Glt)?void 0:e.pat)===n.Ult.pat||null==(s=n.hH)||s.DG(n.Ult.pat.TG),[4,n.Ylt(r,n.Ult.Zut,t)];case 8:return g.sent(),[4,n.Klt(n.Ult.pat,t)];case 9:return n.C2=g.sent(),[4,n.Xut(n.Ult,t)];case 10:return o=g.sent(),a=n.Xlt.wR,c=n.Glt,[4,n.jlt(o,t)];case 11:return n.Glt=g.sent(),h=n.Xlt.wR,n.Qlt(c,n.Ult,a,h,r),i.forEach((function(t){return t.clt=!1})),n.Jlt=0,n.$lt=0,[3,17];case 12:return(f=g.sent())instanceof cO?(n.A3(f.Sn,f.Tn,f.pat),[3,1]):[3,13];case 13:if(!(f instanceof wB))return[3,15];if(v=500,i.every((function(t){return t.clt}))){if(2===n.Jlt){if(d=n.Xlt.wR,n.tdt(n.Ult),n.Qlt(n.Glt,n.Ult,d,d,r),i.forEach((function(t){return t.clt=!1})),n.$lt+=1,n.Jlt=0,n.$lt===n.edt.maxRetries)throw new id(td.MEDIA_LOAD_ERROR,"The segments could not be loaded.",f);return[3,1]}n.Jlt++,l=n.edt.minimumBackoff*k.pow(2,n.Jlt-1),v=k.min(l,n.edt.maximumBackoff)}return[4,$o(v,t)];case 14:return g.sent(),[3,1];case 15:throw n.idt=SA.pB(),f;case 16:return n.Ult=void 0,[7];case 17:return[3,1];case 18:return[2]}}))}))()},i.Qlt=function(t,n,i,r,e){var u=r.iB(i),s=n.pat,o=s.sdt(n.Zut),a=s.nlt(n.Zut),c=n.Zut.WO,h=n.Zut.UO;o&&(c=k.min(c,k.max(0,s.rlt.Sn-.05))),a&&(h=k.max(h,s.rlt.Tn));var f=SA.gB(c,h).iB(r);if(0!==u.V){if(o||this.idt.V>0){var v=f.jn(SA.gB(c,u.Sn(0)));this.rdt(v)}var d=u.jL().jn(SA.gB(u.Sn(0),u.Tn(u.V-1)));if(this.rdt(d),a){var l=f.jn(SA.gB(u.Tn(u.V-1),h));this.rdt(l)}if(this.idt.V>0){var g=this.idt.iB(u);this.rdt(g),this.idt=SA.pB()}var w,m=s.Zot,y=SO(n.Zut)?void 0:m.plt(n.Zut),p=null!=(w=null==t?void 0:t.Zut)?w:this.odt(y)?y:void 0;if(p){var _=this.Eat.qct(p.WO,p.UO);if(_.length>0){var b=SA.gB(_[_.length-1].zct,u.Sn(0));this.rdt(b)}}var A=SO(n.Zut)?void 0:m.wlt(n.Zut);if(A&&this.odt(A)){var T=this.Eat.qct(A.WO,A.UO);if(T.length>0){var S=SA.gB(u.Tn(u.V-1),T[0].Xct);this.rdt(S)}}}else this.ndt(i,f,c,e)},i.ndt=function(t,n,i,r){var e=n;0===this.idt.V&&(this.idt=SA.gB(t.Tn(t.V-1),i)),0===e.V&&void 0!==r&&(e=SA.mB(r)),this.idt=this.idt.tB(e),this.Eat.Kct(this.idt)},i.odt=function(t){return!!t&&this.Eat.qct(t.WO,t.UO).length>0},i.rdt=function(t){for(var n=t.iB(this.Xlt.wR),i=0;i<n.V;i++)n.Sn(i)!==n.Tn(i)&&this.hdt.WJ(n.Sn(i),n.Tn(i))},i.adt=function(t,n){throw new wB(t,n)},i.rut=function(){if(!(this.idt.V>0)){var t,n=this.Xlt.xct.tB(null!=(t=this.Xlt.FJ.YL()._B(this.Xlt.Ict))?t:SA.pB());this.Eat.Wct(n),this.udt&&!this.cdt(this.udt)&&(this.udt=void 0),this._o(new gB(this.Eat.Ht.Cat,this.Eat.Kat()))}},i.out=function(){return this.Glt&&this.Glt.pat.nlt(this.Glt.Zut)?(this.hdt.a3(),!0):(this.udt&&this.udt.pat.nlt(this.udt.Zut)&&this.cdt(this.udt)&&this.hdt.a3(),!!this.Xlt.Rct)},i.cdt=function(t){return this.Eat.Uct.nB(t.ldt,t.ddt)},i.fdt=function(t,n,i){(!this.udt||this.udt.Zut.UO<t.Zut.UO)&&(this.udt=ns({},t,{ldt:n,ddt:i}))},i.zlt=function(){var t=this.Xlt.Ict;return t},i.tlt=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return Vo(n),r=i.Glt?i.Glt.pat:void 0,[4,i.Hlt.Jct(t,r,n)];case 1:return(e=u.sent())?[2,e]:[2,void 0]}}))}))()},i.qlt=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:r={stack:[],error:void 0,hasError:!1},v.label=1;case 1:return v.trys.push([1,3,4,5]),e=t.pat,u=e.Zot,s=SO(t.Zut)?u.vlt(t.Zut):t.Zut,o=e.vdt._dt(),(a=u.mdt(s))&&a.getTime()<=o.getTime()?[2,i.adt(uO.Dht,"Segment is not available.")]:(c=u.gdt(s).getTime()-o.getTime(),h=Yt(r,Yo.$w([n]),!1),[4,et.race([$o(c,h.Uw),e.py(aO.fat,h.Uw)])]);case 2:return v.sent(),[3,5];case 3:return f=v.sent(),r.error=f,r.hasError=!0,[3,5];case 4:return jt(r),[7];case 5:return[2]}}))}))()},i.Klt=function(t,n,i){void 0===i&&(i=0);var r=this;return Zt((function(){var e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:if(Vo(n),!(e=t.pdt))return[2,r.C2];a.label=1;case 1:return a.trys.push([1,4,,7]),t.wdt?[3,3]:[4,r.ydt.Yut(e,n)];case 2:u=a.sent(),t.wdt=u.Kk,a.label=3;case 3:return[3,7];case 4:return Fo(s=a.sent()),Vl(s)?2===i?(t.clt=!0,[2,r.adt(uO.Wht,"Could not fetch the initializer.")]):[4,$o(k.min(r.edt.minimumBackoff*k.pow(2,i),r.edt.maximumBackoff),n)]:[3,6];case 5:return a.sent(),[2,r.Klt(t,n,i+1)];case 6:throw new id(td.MEDIA_LOAD_ERROR,s.message,s);case 7:Vo(n),a.label=8;case 8:return a.trys.push([8,11,,12]),r.Zlt(t.wdt)?[4,r.hdt.Got(t.wdt,t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,12];case 11:if(Fo(o=a.sent()),Vl(o))return[2,r.adt(uO.Wht,"Could not append the initializer.")];throw new id(td.MEDIA_DECODE_ERROR,o.message,o);case 12:return[2,t.wdt]}}))}))()},i.Xut=function(t,n,i){void 0===i&&(i=0);var r=this;return Zt((function(){var e;return Ht(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,6]),Vo(n),[4,r.ydt.Xut(t,n)];case 1:case 4:return[2,u.sent()];case 2:return Fo(e=u.sent()),e instanceof BO?function(t){return t instanceof El}(e.cause)?(r.bdt(new BO(e,t.Zut,t.pat),i),[2,r.adt(uO.Dht,"Could not append the segment.")]):2===i?(t.pat.clt=!0,r.bdt(e,i),[2,r.adt(uO.Dht,"Could not fetch the segment.")]):[4,$o(k.min(r.edt.minimumBackoff*k.pow(2,i),r.edt.maximumBackoff),n)]:[3,5];case 3:return u.sent(),[4,r.Xut(t,n,i+1)];case 5:throw new id(td.MEDIA_LOAD_ERROR,e.message,e);case 6:return[2]}}))}))()},i.Ylt=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h,f,v,d;return Ht(this,(function(l){switch(l.label){case 0:for(e=r.Eat.qct(n.WO,n.UO),u=r.Xlt.xct._B(t),s=SA.pB(),o=0;o<e.length;o++)a=e[o],Vo(i),c=a.Xct,h=a.zct,(f=u&&u.oB(c,h)?k.max(c,u.Tn(0)):c)<(v=h)&&(s=s.tB(SA.gB(f,v)));d=0,l.label=1;case 1:return d<s.V?[4,r.hdt.Adt(s.Sn(d),s.Tn(d),i)]:[3,4];case 2:l.sent(),l.label=3;case 3:return d++,[3,1];case 4:return r.rut(),[2]}}))}))()},i.jlt=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),Vo(n),[4,i.hdt.Sdt(t.qut,t.Zut,t.pat,n)];case 1:return r=u.sent(),i.Tdt(t,r.ldt,r.ddt),i.fdt(t,r.ldt,r.ddt),[2,t];case 2:if(Fo(e=u.sent()),Vl(e))return i.bdt(new BO(e,t.Zut,t.pat),0),[2,i.adt(uO.Dht,"Could not append the segment.")];if(YI(e)&&i.hdt.Oj())return[2,i.adt(uO.Mht,"Buffer is full. Could not reduce the buffer.")];throw new id(td.MEDIA_DECODE_ERROR,e.message,e);case 3:return[2]}}))}))()},i.Tdt=function(t,n,i){var r=t.pat,e=t.Zut;this.tut(e,r,n,i)},i.tut=function(t,n,i,r){this.Eat.tut({$at:n.o,jat:t.WO,Qat:t.UO,Xct:i,zct:r,jct:!0}),this.hdt.UJ(i,r)},i.A3=function(t,n,i){var r=SA.gB(t,n);i?this.Eat.WJ(r,i.o):this.Eat.Kct(r),this.hdt.WJ(t,n)},i.tdt=function(t){var n=SA.gB(t.Zut.WO,t.Zut.UO);t.pat?this.Eat.WJ(n,t.pat.o):this.Eat.Kct(n)},i.bdt=function(t,n){var i=t.pct,r=this.Eat.Ht.Cat,e=this.Eat.Ht.wa,u=t.yct.pat&&t.yct.pat.wa,s=new lB(i,t.message,r,e,u,n);this._o(s)},i.nr=function(){this.C2=void 0,this.Glt=void 0},i.yn=function(){this.nr(),this.udt=void 0,this.ydt.vn(mB,this.Ds),this.ydt.yn()},Nt(n,[{key:"bat",get:function(){return this.Ult}},{key:"Sat",get:function(){return this.Glt}},{key:"xat",get:function(){return this.Hlt.xat},set:function(t){this.Hlt.xat=t}},{key:"Cat",get:function(){return this.Eat.Ht.Cat}}]),n}(ra);var pB=0,_B=function(){function t(t,n,i,r,e,u,s,o,a,c,h,f){this.Ect=t,this.S9=n,this.O3=i,this.fW=r,this.gZ=e,this.Edt=u,this.zut=s,this.Nlt=o,this.xlt=a,this.Mlt=c,this.edt=h,this.hH=f}var n=t.prototype;return n.Ait=function(t){var n=pB++,i=this.Ect.m3,r=new ZO(t),e=this.Edt&&Jg(i),u=new wO(i,e),s=new UO(this.Ect,this.S9,this.O3,this.gZ),o=dB.Ait(n,this.Ect,r,this.gZ,u,this.fW,this.zut,this.Nlt,this.xlt,this.Mlt),a=function(t){switch(t){case qg.vE:return hl.vE;case qg.mE:return hl.mE;case qg.Tk:return hl.Tk;case qg.gE:return hl.gE;default:return hl.iE}}(i),c=function(t,n,i,r){var e=new kO(r),u=new VO(t,n,i);return new TO([e,u])}(new dO(this.fW,a),u,e,this.zut),h=new yB(n,r,s,o,c,this.Ect,this.Mlt,this.edt,this.hH);return new vO(n,t.Act,r,h,this.S9)},n.xdt=function(t,n){var i={Cat:qg.Tk,Act:n,Jat:n.Jat,wa:t.wa};return this.Ait(i)},t}();F(),Tt();var bB=function(){function t(t){this.Cot=t}var n=t.prototype;return n.dJ=function(t){return this.Cot.dJ(t)},n._J=function(t){return this.Cot._J(t)},t}(),kB=function(){function t(){}var n=t.prototype;return n.dJ=function(t){return!0},n._J=function(t){return et.resolve(void 0)},t}();F(),Tt(),Dt(),Rt(),Ut(),F(),Tt(),Rt();var AB=function(t){function n(n,i){var r;return(r=t.call(this,Tg.uC)||this).NC=n||[],r.Ht=i,r}return It(n,t),n.prototype.ka=function(){return new TB(this.NC.map((function(t){return t.wa})))},n}(gg),TB=function(t){function n(n){var i;return(i=t.call(this,"targetqualitychanged")||this).qualities=n,i.quality=i.qualities.length>0?i.qualities[0]:void 0,i}return It(n,t),n}(sa);F(),Tt(),Rt();var SB=function(t){function n(n){var i;return(i=t.call(this,Tg.QUALITY_UNAVAILABLE)||this).quality=n,i}return It(n,t),n.prototype.ka=function(){return new EB(this.quality.wa)},n}(mg),EB=function(t){function n(n){var i;return(i=t.call(this,"qualityunavailable")||this).quality=n,i}return It(n,t),n}(yg);F(),Tt(),Rt();var IB=function(t){function n(){return t.call(this,Tg.NO_QUALITY)||this}return It(n,t),n}(sa);function RB(t){return{bG:t.bG,gp:t.Jrt,Ti:CB(t)?t.Ti:0,Tw:CB(t)?qg.mE:qg.vE,ji:CB(t)?t.ji:0}}function CB(t){var n=t;return void 0!==n.Ti&&void 0!==n.ji}F(),Tt();var NB=0,DB=function(t){function n(n,i,r){var e;return void 0===r&&(r="alternative"),(e=t.call(this)||this).Ldt=void 0,e.qe=!1,e.eu=void 0,e.Fdt=void 0,e.zS="",e.Kdt=!1,e.TO=new sw,e.Gdt=[],e.Ndt=void 0,e.Vdt=void 0,e.Cdt=function(){return e._o(new cw(e))},e.Zdt=[],e.Hat=n,e.zS=String(NB++),e.IO=vw(),e.r5=r,e.LA=n.Qtt,e.CO=n.Ch,e.Xdt=n.Tw,e.Gdt=n.Jat,e.Idt(i),e}It(n,t);var i=n.prototype;return i.Idt=function(t){for(var n=0;n<t.length;n++){var i=t[n];i.bn("update",this.Cdt),this.TO.kO(i)}},i.Pdt=function(t){if(this.TO.EO(t)){t.aW();var n=this.Ddt();if(this.Ndt&&po(this.Ndt,t)){var i=this.Ndt.filter((function(t){return t.trt}));0===i.length&&n.length>0?this.MC=n:this.MC=i}else this.MC=n;this._o(new SB(t))}},i.Mdt=function(t){if(this.TO.EO(t)){var n=this.Ddt();t.hW(),this.Ndt&&!function(t,n){return _o(t,n,(function(t,n){return t===n}))}(this.Ndt,n)||(this.MC=this.Ddt())}},i.Ddt=function(){return this.TO.lC.filter((function(t){return t.trt}))},i.Bdt=function(t){this.Ldt=t.pat,this._o(t)},i.Wdt=function(t){if(t&&0!==t.length){for(var n=[],i=0,r=this.Jat;i<r.length;i++)for(var e=r[i],u=0;u<t.length;u++){var s=t[u];s===e.pat&&s.trt&&n.push(e)}return n}},i.Hdt=function(t){var n;this.Zdt.push(t),(n=this.Gdt).push.apply(n,Ft(t.Jat));var i=t.Jat.map((function(t){return t.pat}));this.Idt(i)},i.DO=function(t){this.qe=t,this.Fdt&&(t?this.Fdt.hW(this):this.Fdt.aW(this))},i.Ydt=function(t){this.qe=t,this.Kdt!==t&&(this.Kdt=t,this._o(new ow(this)))},i.yn=function(){for(var t=0,n=this.TO.lC;t<n.length;t++){n[t].vn("update",this.Cdt)}this.TO.nr()},Nt(n,[{key:"DC",get:function(){return this.Hat.Rdt.map(PB).filter(Yn)}},{key:"RC",get:function(){return this.Ldt}},{key:"Act",get:function(){return this.Hat}},{key:"Rt",get:function(){return this.qe},set:function(t){this.DO(t)}},{key:"wa",get:function(){return this.eu||(this.eu=zg(this)),this.eu}},{key:"Odt",get:function(){return this.Fdt},set:function(t){this.Fdt=t}},{key:"o",get:function(){return this.zS}},{key:"IC",get:function(){return this.IO}},{key:"Lt",get:function(){return this.r5}},{key:"gs",get:function(){return this.LA}},{key:"Ch",get:function(){return this.CO},set:function(t){t!==this.CO&&(this.CO=t,this._o(new cw(this)))}},{key:"CE",get:function(){return this.Rt?"enabled":"disabled"}},{key:"MC",get:function(){return this.Ndt},set:function(t){var n;if(t){var i=this.RC?RB(this.RC):void 0;n=t.filter((function(t){return t.trt&&Kn.Ys.dp(i,RB(t))}))}else n=this.Ddt();0!==n.length?(this.Ndt=t&&this.TO.EO(t)?t:void 0,this.Vdt=this.Wdt(this.Ndt),this._o(new AB(t,this))):this._o(new IB)}},{key:"Udt",get:function(){return this.Vdt}},{key:"NC",get:function(){return this.TO}},{key:"Jat",get:function(){return this.Gdt}},{key:"Cat",get:function(){return this.Xdt}},{key:"zdt",get:function(){return this.Zdt}},{key:"qdt",get:function(){return this.Jat.every((function(t){return t.qdt}))}}]),n}(ra);function PB(t){if("urn:mpeg:dash:role:2011"===t.c9)return xB(t);if("urn:tva:metadata:cs:AudioPurposeCS:2007"===t.c9){if("1"===t.Mx)return Xg.SC;if("2"===t.Mx)return Xg.kC}}function xB(t){if(void 0!==(null==t?void 0:t.Mx))switch(t.Mx){case"caption":return Xg.AC;case"sign":return Xg.TC;case"description":return Xg.SC;case"enhanced-audio-intelligibility":return Xg.kC;default:return}}var LB=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this)||this).KA=0,o.fZ=1,o.ift=void 0,o.$dt={},o.eft={},o.YA=0,o.pft=es(),o.dft=function(t){0},o.S9=n,o.fW=i,o.gZ=r,o.cft=e,o.zut=u,o.lW=s,o}It(n,t);var i=n.prototype;return i.a3=function(){},i.Cct=function(){return this.xct.wr(this.Tn)},i.Sdt=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a,c,h,f,v,d,l;return Ht(this,(function(g){switch(g.label){case 0:return t.Tw!==xR.iJ?[3,1]:(s=t.Kk.yht,[3,3]);case 1:return[4,t.Kk.Dk(r)];case 2:s=g.sent(),g.label=3;case 3:for(u=s,o=e.findTrackForRepresentation(i),a=e.$dt[o.IC],c=n.WO,h=n.UO,f=new SA([c,h]),a||(e.$dt[o.IC]=SA.pB(),e.eft[o.IC]=SA.pB()),e.Lot(r),v=e.Hot(new E(u),n,i,o),d=0;d<v.length;d++)l=v[d],o._W(l);return e.$dt[o.IC]=e.$dt[o.IC].tB(f),[2,{ldt:c,ddt:h}]}}))}))()},i.Lot=function(t){for(var n=zI(this.S9.ER,void 0,void 0,this.wR,this.gZ.Dj,this.gZ.Ej),i=0;i<n.length;i++){var r=tn(n[i],2),e=r[0],u=r[1];qo(this.Adt(e,u,t))}},i.Got=function(t,n,i){return this.cft.Got(t,n,i)},i.Hot=function(t,n,i,r){return this.cft.Hot(t,n,i,r)},i.Adt=function(t,n,i){for(var r=t,e=n,u=new SA([t,n]),s=0,o=this.Z.lC;s<o.length;s++){for(var a=o[s],c=[],h=0,f=a.L.lC;h<f.length;h++){var v=f[h];v.WO>=r&&v.UO<=e?c.push(v):u=u.iB(new SA([v.WO,v.UO]))}for(var d=0;d<c.length;d++){var l=c[d];a.sW(l)}var g=this.$dt[a.IC];g&&(this.$dt[a.IC]=g.iB(u))}return et.resolve()},i.WJ=function(t,n){},i.UJ=function(t,n){},i.Oj=function(){return!1},i.hW=function(t){var n=this.lft(t);if(n&&this.jdt!==n){this.jdt=n;for(var i=0,r=this.Z.lC;i<r.length;i++){var e=r[i];e!==n&&(e.CE=Vy.Mh)}if(this.cft.nr(),this.ift&&(this.ift.yn(),this.ift=void 0),this.jdt){var u=this.hft(this.jdt);this.ift=new _B(this,this.S9,this.S9,this.fW,this.gZ,!1,this.zut,void 0,void 0,new kB,pT,void 0).xdt(this.jdt,u),this.ift.bn(Uy.fa,this.dft),this.ift.Sn(uO.kht)}}},i.aW=function(t){if(this.jdt===t){var n=this.lft(t);n&&this.jdt===n&&(this.jdt=void 0),this.ift&&(this.ift.yn(),this.ift=void 0)}},i.$n=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.nr()];case 1:return i.sent(),n.nft=t,n.fft(t),[2]}}))}))()},i._ft=function(t){var n=function(t){var n=t.Jat&&t.Jat.length>0&&t.Jat[0],i=n&&Jy(n.Jrt),r=Jy(t.Jrt),e=t.jq===Dv.APPLICATION_TTML_XML;return i||r||e?Tw.TTML:t.jq===Dv.TEXT_VTT||np(t.jq,t.Jrt)?Tw.WEBVTT:Tw.DEFAULT}(t);if(!n)throw new p("Unknown TextTrack type for Representation");var i=t.vft.concat(t.Rdt);return this.mft(function(t){return po(t.filter((function(t){return"urn:mpeg:dash:role:2011"===t.c9})).map((function(t){return t.Mx})).filter(Yn),"caption")?zy.$V:zy.JV}(i),t.Ch,t.Qtt,!1,n,t,function(t){return t.filter((function(t){return"urn:mpeg:dash:role:2011"===t.c9})).some((function(t){return function(t){return"forced-subtitle"===t||"forced_subtitle"===t}(t.Mx)}))}(t.vft),t.Rdt.map(xB).filter(Yn))},i.fft=function(t){for(var n=0,i=t.gft;n<i.length;n++){var r=i[n],e=this._ft(r);this.pft.set(e.IC,r),e.rI=Aw.LOADED,this.tt(e)}},i.it=function(n){this.pft.delete(n.IC),t.prototype.it.call(this,n)},i.mft=function(t,n,i,r,e,u,s,o){var a,c,h=u.Jat.reduce((function(t,n){return t||n.o}),void 0),f=null!=(c=null!=h?h:null==(a=u.o)?void 0:a.toString())?c:"";return this.lW.OI(t,f,n,i,r,e,s,o)},i.nr=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.nr.call(n)];case 1:return i.sent(),n.ift?[4,n.ift.nr(uO.qht)]:[3,3];case 2:i.sent(),n.ift.vn(Uy.fa,n.dft),n.ift=void 0,i.label=3;case 3:return n.nft=void 0,n.$dt={},n.eft={},[2]}}))}))()},i.wft=function(){this.$dt={},this.eft={}},i.findTrackForRepresentation=function(t){for(var i=0,r=this.Z.lC;i<r.length;i++){var e=r[i],u=this.hft(e);if(u&&n.yft(u)===t)return e}},i.lft=function(t){return ho(this.Z.lC,(function(n){return t.IC===n.IC}))},i.hft=function(t){return this.pft.get(t.IC)},i.rft=function(){if(this.jdt){var t=this.hft(this.jdt);if(t)return n.yft(t)}},i.yn=function(){for(var n=0,i=this.Z.lC;n<i.length;n++){var r=i[n];this.lW.mW(r)}return t.prototype.yn.call(this)},n.yft=function(t){return t.Jat&&t.Jat.length>0?t.Jat[0]:void 0},Nt(n,[{key:"jdt",get:function(){return this.Qdt},set:function(t){this.Qdt=t}},{key:"Rt",get:function(){for(var t=0,n=this.Z.lC;t<n.length;t++){if(n[t].CE!==Vy.Mh)return!0}return!1}},{key:"XG",get:function(){var t=this.S9.ER;return this.xct._B(t,.01)}},{key:"Jdt",get:function(){return this.jdt&&this.$dt[this.jdt.IC]?this.$dt[this.jdt.IC]:SA.pB()}},{key:"tft",get:function(){return this.jdt&&this.eft[this.jdt.IC]?this.eft[this.jdt.IC]:SA.pB()}},{key:"Pct",get:function(){return new SA([0,1/0])}},{key:"wR",get:function(){return this.Jdt}},{key:"FJ",get:function(){return this.ift?this.ift.Tat.FJ.Dct:SA.pB()}},{key:"xct",get:function(){return sO(this.wR,this.FJ).$L(2*this.sft)}},{key:"Sn",get:function(){return this.nft?this.nft.rlt.Sn:NaN}},{key:"Tn",get:function(){return this.nft?this.nft.rlt.Tn:NaN}},{key:"PR",get:function(){var t=this.Tn;return!!t&&this.S9.ER>=t}},{key:"sft",get:function(){var t,n,i=this.rft();return i?1/(null!=(n=this.jdt&&(null==i||null==(t=i.oft)?void 0:t._F()))?n:25):.04}},{key:"Ti",get:function(){return this.KA}},{key:"m3",get:function(){return qg.Tk}},{key:"QR",get:function(){return this.fZ},set:function(t){this.fZ=t}},{key:"tI",get:function(){return this.tft}},{key:"hI",get:function(){if(!this.jdt)return SA.mB(0);var t=this.hft(this.jdt),n=null==t?void 0:t.aft,i=null==t?void 0:t.uft;if(void 0===i||void 0===n)return SA.mB(0);var r=k.max(n,this.S9.ER);return new SA([i,r]).YL()}},{key:"ji",get:function(){return this.YA}}]),n}(ap),MB=function(){function t(t,n,i,r,e,u){this.Sft=[],this.Hl=new Ik([]),this.S9=t,this.fW=n,this.gZ=i,this.zut=r,this.lW=e,this.Xot=u}var n=t.prototype;return n.dW=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return t.Tw!==qg.Tk?[2]:(i=function(t,n,i){return Jy(n)||t===Dv.APPLICATION_TTML_XML||t===Dv.TEXT_VTT?new QM(i):np(t,n)?new iO:void 0}(t.jq,t.Jrt,n.Xot),i?(r=n.bft(i),n.Aft(r),[4,r.$n(t)]):[3,2]);case 1:return e.sent(),[2,r];case 2:return[2]}}))}))()},n.bft=function(t){return new LB(this.S9,this.fW,this.gZ,t,this.zut,this.lW)},n.Aft=function(t){this.Sft.push(t),this.Hl.MG(t.Z)},n.nr=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:n=0,i=t.Sft.slice(),r.label=1;case 1:return n<i.length?[4,i[n].nr()]:[3,4];case 2:r.sent(),r.label=3;case 3:return n++,[3,1];case 4:return bo(t.Sft),t.Hl.nr(),[2]}}))}))()},n.yn=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:n=0,i=t.Sft,r.label=1;case 1:return n<i.length?[4,i[n].yn()]:[3,4];case 2:r.sent(),r.label=3;case 3:return n++,[3,1];case 4:return bo(t.Sft),t.Hl.yn(),[2]}}))}))()},Nt(t,[{key:"nt",get:function(){return this.Hl}}]),t}();F(),Tt(),Rt();var OB=function(t){function n(n){var i;return(i=t.call(this,oa.Hy)||this).error=n,i}return It(n,t),n}(sa);F(),Tt();var BB=function(t){return t.pW="static",t.wW="dynamic",t}({});F(),Tt(),Rt(),F(),Tt();var VB=function(t){return t.Tft="kft",t}({}),FB=function(t){function n(){return t.call(this,VB.Tft)||this}return It(n,t),n}(sa);F(),Tt(),Gt(),Dt(),Rt(),nn(),qt(),F(),Tt(),Rt();var UB=function(t){function n(n,i){var r;return(r=t.call(this,oa.Ky)||this).representation=n,r.previousRepresentation=i,r}return It(n,t),n}(sa);F(),Tt(),Rt(),F(),Tt(),Ut(),F(),Tt();var WB=function(t){return t[t.Eft=0]="Eft",t[t.xft=1]="xft",t[t.Rft=2]="Rft",t[t.Ift=3]="Ift",t[t.Cft=4]="Cft",t[t.Pft=5]="Pft",t}({}),ZB=function(t){return t[t.Dft=0]="Dft",t[t.Nft=1]="Nft",t[t.Mft=2]="Mft",t[t.Lft=3]="Lft",t}({});function XB(t,n,i){return i===WB.Eft?i:n!==ZB.Dft&&n!==ZB.Nft||i!==WB.xft&&i!==WB.Rft?t?n===ZB.Mft?WB.Cft:n===ZB.Lft?WB.Ift:WB.Eft:WB.Pft:WB.Rft}function GB(t,n,i,r){var e={byte:i},u=WB.xft,s=[],o=31&wC(n,e,r);e.byte+=1;for(var a=0;a<o;a+=1){var c=wC(n,e,r),h=4&c,f=3&c;u=XB(Boolean(h),f,u);var v=wC(n,e,r),d=wC(n,e,r);s.push({Bft:t,sL:-1,Oft:!a,Fft:Boolean(h),Tw:f,Vft:u,Wft:v,Uft:d})}return s}function HB(t,n,i){var r=wC(t,n,i);if(!S(r))return String.fromCharCode(r)}function zB(t){var n=t.U0,i={byte:t.V0},r=t.W0,e=wC(n,i,r);if(255===e&&(i.byte+=1),181===e){var u=mC(n,i);if(47===u||49===u){if(49===u){var s=function(t,n,i){for(var r="",e=i;e>0;)e-=1,r+=HB(t,n);return r}(n,i,4);if("GA94"!==s)return}if(3===wC(n,i,r)){47===u&&(i.byte+=1);var o=t;return o.Gft=i.byte,o}}}}function YB(t){return 4===t.O0}function jB(t){for(var n=t.filter(YB).map(zB).filter(Yn),i=[],r=0;r<n.length;r++){var e,u=n[r];(e=i).push.apply(e,Ft(GB(u.B0,u.U0,u.Gft,u.W0)))}return i}F(),Tt();var KB="und";var qB=[{l:"Abkhaz",mh:"\u0410\u04a7\u0441\u0443\u0430",1:"ab",2:"abk","2T":"abk","2B":"abk",3:"abk"},{l:"Afar",mh:"Afaraf",1:"aa",2:"aar","2T":"aar","2B":"aar",3:"aar"},{l:"Afrikaans",mh:"Afrikaans",1:"af",2:"afr","2T":"afr","2B":"afr",3:"afr"},{l:"Akan",mh:"Akan",1:"ak",2:"aka","2T":"aka","2B":"aka",3:"aka"},{l:"Albanian",mh:"Shqip",1:"sq",2:"sqi","2T":"sqi","2B":"alb",3:"sqi"},{l:"Amharic",mh:"\u12a0\u121b\u122d\u129b",1:"am",2:"amh","2T":"amh","2B":"amh",3:"amh"},{l:"Arabic",mh:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",1:"ar",2:"ara","2T":"ara","2B":"ara",3:"ara"},{l:"Aragonese",mh:"Aragon\xe9s",1:"an",2:"arg","2T":"arg","2B":"arg",3:"arg"},{l:"Armenian",mh:"\u0540\u0561\u0575\u0565\u0580\u0565\u0576",1:"hy",2:"hye","2T":"hye","2B":"arm",3:"hye"},{l:"Assamese",mh:"\u0985\u09b8\u09ae\u09c0\u09af\u09bc\u09be",1:"as",2:"asm","2T":"asm","2B":"asm",3:"asm"},{l:"Avaric",mh:"\u0410\u0432\u0430\u0440",1:"av",2:"ava","2T":"ava","2B":"ava",3:"ava"},{l:"Avestan",mh:"avesta",1:"ae",2:"ave","2T":"ave","2B":"ave",3:"ave"},{l:"Aymara",mh:"Aymar",1:"ay",2:"aym","2T":"aym","2B":"aym",3:"aym"},{l:"Azerbaijani",mh:"Az\u0259rbaycanca",1:"az",2:"aze","2T":"aze","2B":"aze",3:"aze"},{l:"Bambara",mh:"Bamanankan",1:"bm",2:"bam","2T":"bam","2B":"bam",3:"bam"},{l:"Bashkir",mh:"\u0411\u0430\u0448\u04a1\u043e\u0440\u0442\u0441\u0430",1:"ba",2:"bak","2T":"bak","2B":"bak",3:"bak"},{l:"Basque",mh:"Euskara",1:"eu",2:"eus","2T":"eus","2B":"baq",3:"eus"},{l:"Belarusian",mh:"\u0411\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0430\u044f",1:"be",2:"bel","2T":"bel","2B":"bel",3:"bel"},{l:"Bengali",mh:"\u09ac\u09be\u0982\u09b2\u09be",1:"bn",2:"ben","2T":"ben","2B":"ben",3:"ben"},{l:"Bihari",mh:"\u092d\u094b\u091c\u092a\u0941\u0930\u0940",1:"bh",2:"bih","2T":"bih","2B":"bih",3:"bih"},{l:"Bislama",mh:"Bislama",1:"bi",2:"bis","2T":"bis","2B":"bis",3:"bis"},{l:"Bosnian",mh:"Bosanski",1:"bs",2:"bos","2T":"bos","2B":"bos",3:"bos"},{l:"Breton",mh:"Brezhoneg",1:"br",2:"bre","2T":"bre","2B":"bre",3:"bre"},{l:"Bulgarian",mh:"\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438",1:"bg",2:"bul","2T":"bul","2B":"bul",3:"bul"},{l:"Burmese",mh:"\u1019\u103c\u1014\u103a\u1019\u102c\u1018\u102c\u101e\u102c",1:"my",2:"mya","2T":"mya","2B":"bur",3:"mya"},{l:"Catalan",mh:"Catal\xe0",1:"ca",2:"cat","2T":"cat","2B":"cat",3:"cat"},{l:"Chamorro",mh:"Chamoru",1:"ch",2:"cha","2T":"cha","2B":"cha",3:"cha"},{l:"Chechen",mh:"\u041d\u043e\u0445\u0447\u0438\u0439\u043d",1:"ce",2:"che","2T":"che","2B":"che",3:"che"},{l:"Chichewa",mh:"Chichewa",1:"ny",2:"nya","2T":"nya","2B":"nya",3:"nya"},{l:"Chinese",mh:"\u4e2d\u6587",1:"zh",2:"zho","2T":"zho","2B":"chi",3:"zho"},{l:"Chuvash",mh:"\u0427\u04d1\u0432\u0430\u0448\u043b\u0430",1:"cv",2:"chv","2T":"chv","2B":"chv",3:"chv"},{l:"Cornish",mh:"Kernewek",1:"kw",2:"cor","2T":"cor","2B":"cor",3:"cor"},{l:"Corsican",mh:"Corsu",1:"co",2:"cos","2T":"cos","2B":"cos",3:"cos"},{l:"Cree",mh:"\u14c0\u1426\u1403\u152d\u140d\u140f\u1423",1:"cr",2:"cre","2T":"cre","2B":"cre",3:"cre"},{l:"Croatian",mh:"Hrvatski",1:"hr",2:"hrv","2T":"hrv","2B":"hrv",3:"hrv"},{l:"Czech",mh:"\u010ce\u0161tina",1:"cs",2:"ces","2T":"ces","2B":"cze",3:"ces"},{l:"Danish",mh:"Dansk",1:"da",2:"dan","2T":"dan","2B":"dan",3:"dan"},{l:"Divehi",mh:"Divehi",1:"dv",2:"div","2T":"div","2B":"div",3:"div"},{l:"Dutch",mh:"Nederlands",1:"nl",2:"nld","2T":"nld","2B":"dut",3:"nld"},{l:"Dzongkha",mh:"\u0f62\u0fab\u0f7c\u0f44\u0f0b\u0f41",1:"dz",2:"dzo","2T":"dzo","2B":"dzo",3:"dzo"},{l:"English",mh:"English",1:"en",2:"eng","2T":"eng","2B":"eng",3:"eng"},{l:"Esperanto",mh:"Esperanto",1:"eo",2:"epo","2T":"epo","2B":"epo",3:"epo"},{l:"Estonian",mh:"Eesti",1:"et",2:"est","2T":"est","2B":"est",3:"est"},{l:"Ewe",mh:"E\u028begbe",1:"ee",2:"ewe","2T":"ewe","2B":"ewe",3:"ewe"},{l:"Faroese",mh:"F\xf8royskt",1:"fo",2:"fao","2T":"fao","2B":"fao",3:"fao"},{l:"Fijian",mh:"Na Vosa Vaka-Viti",1:"fj",2:"fij","2T":"fij","2B":"fij",3:"fij"},{l:"Finnish",mh:"Suomi",1:"fi",2:"fin","2T":"fin","2B":"fin",3:"fin"},{l:"French",mh:"Fran\xe7ais",1:"fr",2:"fra","2T":"fra","2B":"fre",3:"fra"},{l:"Fula",mh:"Fulfulde",1:"ff",2:"ful","2T":"ful","2B":"ful",3:"ful"},{l:"Galician",mh:"Galego",1:"gl",2:"glg","2T":"glg","2B":"glg",3:"glg"},{l:"Georgian",mh:"\u10e5\u10d0\u10e0\u10d7\u10e3\u10da\u10d8",1:"ka",2:"kat","2T":"kat","2B":"geo",3:"kat"},{l:"German",mh:"Deutsch",1:"de",2:"deu","2T":"deu","2B":"ger",3:"deu"},{l:"Greek",mh:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",1:"el",2:"ell","2T":"ell","2B":"gre",3:"ell"},{l:"Guaran\xed",mh:"Ava\xf1e'\u1ebd",1:"gn",2:"grn","2T":"grn","2B":"grn",3:"grn"},{l:"Gujarati",mh:"\u0a97\u0ac1\u0a9c\u0ab0\u0abe\u0aa4\u0ac0",1:"gu",2:"guj","2T":"guj","2B":"guj",3:"guj"},{l:"Haitian",mh:"Krey\xf2l Ayisyen",1:"ht",2:"hat","2T":"hat","2B":"hat",3:"hat"},{l:"Hausa",mh:"\u0647\u064e\u0648\u064f\u0633\u064e",1:"ha",2:"hau","2T":"hau","2B":"hau",3:"hau"},{l:"Hebrew",mh:"\u05e2\u05d1\u05e8\u05d9\u05ea",1:"he",2:"heb","2T":"heb","2B":"heb",3:"heb"},{l:"Herero",mh:"Otjiherero",1:"hz",2:"her","2T":"her","2B":"her",3:"her"},{l:"Hindi",mh:"\u0939\u093f\u0928\u094d\u0926\u0940",1:"hi",2:"hin","2T":"hin","2B":"hin",3:"hin"},{l:"Hiri Motu",mh:"Hiri Motu",1:"ho",2:"hmo","2T":"hmo","2B":"hmo",3:"hmo"},{l:"Hungarian",mh:"Magyar",1:"hu",2:"hun","2T":"hun","2B":"hun",3:"hun"},{l:"Interlingua",mh:"Interlingua",1:"ia",2:"ina","2T":"ina","2B":"ina",3:"ina"},{l:"Indonesian",mh:"Bahasa Indonesia",1:"id",2:"ind","2T":"ind","2B":"ind",3:"ind"},{l:"Interlingue",mh:"Interlingue",1:"ie",2:"ile","2T":"ile","2B":"ile",3:"ile"},{l:"Irish",mh:"Gaeilge",1:"ga",2:"gle","2T":"gle","2B":"gle",3:"gle"},{l:"Igbo",mh:"Igbo",1:"ig",2:"ibo","2T":"ibo","2B":"ibo",3:"ibo"},{l:"Inupiaq",mh:"I\xf1upiak",1:"ik",2:"ipk","2T":"ipk","2B":"ipk",3:"ipk"},{l:"Ido",mh:"Ido",1:"io",2:"ido","2T":"ido","2B":"ido",3:"ido"},{l:"Icelandic",mh:"\xcdslenska",1:"is",2:"isl","2T":"isl","2B":"ice",3:"isl"},{l:"Italian",mh:"Italiano",1:"it",2:"ita","2T":"ita","2B":"ita",3:"ita"},{l:"Inuktitut",mh:"\u1403\u14c4\u1483\u144e\u1450\u1466",1:"iu",2:"iku","2T":"iku","2B":"iku",3:"iku"},{l:"Japanese",mh:"\u65e5\u672c\u8a9e",1:"ja",2:"jpn","2T":"jpn","2B":"jpn",3:"jpn"},{l:"Javanese",mh:"Basa Jawa",1:"jv",2:"jav","2T":"jav","2B":"jav",3:"jav"},{l:"Kalaallisut",mh:"Kalaallisut",1:"kl",2:"kal","2T":"kal","2B":"kal",3:"kal"},{l:"Kannada",mh:"\u0c95\u0ca8\u0ccd\u0ca8\u0ca1",1:"kn",2:"kan","2T":"kan","2B":"kan",3:"kan"},{l:"Kanuri",mh:"Kanuri",1:"kr",2:"kau","2T":"kau","2B":"kau",3:"kau"},{l:"Kashmiri",mh:"\u0643\u0634\u0645\u064a\u0631\u064a",1:"ks",2:"kas","2T":"kas","2B":"kas",3:"kas"},{l:"Kazakh",mh:"\u049a\u0430\u0437\u0430\u049b\u0448\u0430",1:"kk",2:"kaz","2T":"kaz","2B":"kaz",3:"kaz"},{l:"Khmer",mh:"\u1797\u17b6\u179f\u17b6\u1781\u17d2\u1798\u17c2\u179a",1:"km",2:"khm","2T":"khm","2B":"khm",3:"khm"},{l:"Kikuyu",mh:"G\u0129k\u0169y\u0169",1:"ki",2:"kik","2T":"kik","2B":"kik",3:"kik"},{l:"Kinyarwanda",mh:"Kinyarwanda",1:"rw",2:"kin","2T":"kin","2B":"kin",3:"kin"},{l:"Kyrgyz",mh:"\u041a\u044b\u0440\u0433\u044b\u0437\u0447\u0430",1:"ky",2:"kir","2T":"kir","2B":"kir",3:"kir"},{l:"Komi",mh:"\u041a\u043e\u043c\u0438",1:"kv",2:"kom","2T":"kom","2B":"kom",3:"kom"},{l:"Kongo",mh:"Kongo",1:"kg",2:"kon","2T":"kon","2B":"kon",3:"kon"},{l:"Korean",mh:"\ud55c\uad6d\uc5b4",1:"ko",2:"kor","2T":"kor","2B":"kor",3:"kor"},{l:"Kurdish",mh:"Kurd\xee",1:"ku",2:"kur","2T":"kur","2B":"kur",3:"kur"},{l:"Kwanyama",mh:"Kuanyama",1:"kj",2:"kua","2T":"kua","2B":"kua",3:"kua"},{l:"Latin",mh:"Latina",1:"la",2:"lat","2T":"lat","2B":"lat",3:"lat"},{l:"Luxembourgish",mh:"L\xebtzebuergesch",1:"lb",2:"ltz","2T":"ltz","2B":"ltz",3:"ltz"},{l:"Ganda",mh:"Luganda",1:"lg",2:"lug","2T":"lug","2B":"lug",3:"lug"},{l:"Limburgish",mh:"Limburgs",1:"li",2:"lim","2T":"lim","2B":"lim",3:"lim"},{l:"Lingala",mh:"Ling\xe1la",1:"ln",2:"lin","2T":"lin","2B":"lin",3:"lin"},{l:"Lao",mh:"\u0e9e\u0eb2\u0eaa\u0eb2\u0ea5\u0eb2\u0ea7",1:"lo",2:"lao","2T":"lao","2B":"lao",3:"lao"},{l:"Lithuanian",mh:"Lietuvi\u0173",1:"lt",2:"lit","2T":"lit","2B":"lit",3:"lit"},{l:"Luba-Katanga",mh:"Tshiluba",1:"lu",2:"lub","2T":"lub","2B":"lub",3:"lub"},{l:"Latvian",mh:"Latvie\u0161u",1:"lv",2:"lav","2T":"lav","2B":"lav",3:"lav"},{l:"Manx",mh:"Gaelg",1:"gv",2:"glv","2T":"glv","2B":"glv",3:"glv"},{l:"Macedonian",mh:"\u041c\u0430\u043a\u0435\u0434\u043e\u043d\u0441\u043a\u0438",1:"mk",2:"mkd","2T":"mkd","2B":"mac",3:"mkd"},{l:"Malagasy",mh:"Malagasy",1:"mg",2:"mlg","2T":"mlg","2B":"mlg",3:"mlg"},{l:"Malay",mh:"Bahasa Melayu",1:"ms",2:"msa","2T":"msa","2B":"may",3:"msa"},{l:"Malayalam",mh:"\u0d2e\u0d32\u0d2f\u0d3e\u0d33\u0d02",1:"ml",2:"mal","2T":"mal","2B":"mal",3:"mal"},{l:"Maltese",mh:"Malti",1:"mt",2:"mlt","2T":"mlt","2B":"mlt",3:"mlt"},{l:"M\u0101ori",mh:"M\u0101ori",1:"mi",2:"mri","2T":"mri","2B":"mao",3:"mri"},{l:"Marathi",mh:"\u092e\u0930\u093e\u0920\u0940",1:"mr",2:"mar","2T":"mar","2B":"mar",3:"mar"},{l:"Marshallese",mh:"Kajin M\u0327aje\u013c",1:"mh",2:"mah","2T":"mah","2B":"mah",3:"mah"},{l:"Mongolian",mh:"\u041c\u043e\u043d\u0433\u043e\u043b",1:"mn",2:"mon","2T":"mon","2B":"mon",3:"mon"},{l:"Nauru",mh:"Dorerin Naoero",1:"na",2:"nau","2T":"nau","2B":"nau",3:"nau"},{l:"Navajo",mh:"Din\xe9 Bizaad",1:"nv",2:"nav","2T":"nav","2B":"nav",3:"nav"},{l:"Northern Ndebele",mh:"isiNdebele",1:"nd",2:"nde","2T":"nde","2B":"nde",3:"nde"},{l:"Nepali",mh:"\u0928\u0947\u092a\u093e\u0932\u0940",1:"ne",2:"nep","2T":"nep","2B":"nep",3:"nep"},{l:"Ndonga",mh:"Owambo",1:"ng",2:"ndo","2T":"ndo","2B":"ndo",3:"ndo"},{l:"Norwegian Bokm\xe5l",mh:"Norsk (Bokm\xe5l)",1:"nb",2:"nob","2T":"nob","2B":"nob",3:"nob"},{l:"Norwegian Nynorsk",mh:"Norsk (Nynorsk)",1:"nn",2:"nno","2T":"nno","2B":"nno",3:"nno"},{l:"Norwegian",mh:"Norsk",1:"no",2:"nor","2T":"nor","2B":"nor",3:"nor"},{l:"Nuosu",mh:"\ua188\ua320\ua4bf Nuosuhxop",1:"ii",2:"iii","2T":"iii","2B":"iii",3:"iii"},{l:"Southern Ndebele",mh:"isiNdebele",1:"nr",2:"nbl","2T":"nbl","2B":"nbl",3:"nbl"},{l:"Occitan",mh:"Occitan",1:"oc",2:"oci","2T":"oci","2B":"oci",3:"oci"},{l:"Ojibwe",mh:"\u140a\u14c2\u1511\u14c8\u142f\u14a7\u140e\u14d0",1:"oj",2:"oji","2T":"oji","2B":"oji",3:"oji"},{l:"Old Church Slavonic",mh:"\u0421\u043b\u043e\u0432\u0463\u0301\u043d\u044c\u0441\u043a\u044a",1:"cu",2:"chu","2T":"chu","2B":"chu",3:"chu"},{l:"Oromo",mh:"Afaan Oromoo",1:"om",2:"orm","2T":"orm","2B":"orm",3:"orm"},{l:"Oriya",mh:"\u0b13\u0b21\u0b3f\u0b3c\u0b06",1:"or",2:"ori","2T":"ori","2B":"ori",3:"ori"},{l:"Ossetian",mh:"\u0418\u0440\u043e\u043d \xe6\u0432\u0437\u0430\u0433",1:"os",2:"oss","2T":"oss","2B":"oss",3:"oss"},{l:"Panjabi",mh:"\u0a2a\u0a70\u0a1c\u0a3e\u0a2c\u0a40",1:"pa",2:"pan","2T":"pan","2B":"pan",3:"pan"},{l:"P\u0101li",mh:"\u092a\u093e\u0934\u093f",1:"pi",2:"pli","2T":"pli","2B":"pli",3:"pli"},{l:"Persian",mh:"\u0641\u0627\u0631\u0633\u06cc",1:"fa",2:"fas","2T":"fas","2B":"per",3:"fas"},{l:"Polish",mh:"Polski",1:"pl",2:"pol","2T":"pol","2B":"pol",3:"pol"},{l:"Pashto",mh:"\u067e\u069a\u062a\u0648",1:"ps",2:"pus","2T":"pus","2B":"pus",3:"pus"},{l:"Portuguese",mh:"Portugu\xeas",1:"pt",2:"por","2T":"por","2B":"por",3:"por"},{l:"Quechua",mh:"Runa Simi",1:"qu",2:"que","2T":"que","2B":"que",3:"que"},{l:"Romansh",mh:"Rumantsch",1:"rm",2:"roh","2T":"roh","2B":"roh",3:"roh"},{l:"Kirundi",mh:"Kirundi",1:"rn",2:"run","2T":"run","2B":"run",3:"run"},{l:"Romanian",mh:"Rom\xe2n\u0103",1:"ro",2:"ron","2T":"ron","2B":"rum",3:"ron"},{l:"Russian",mh:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",1:"ru",2:"rus","2T":"rus","2B":"rus",3:"rus"},{l:"Sanskrit",mh:"\u0938\u0902\u0938\u094d\u0915\u0943\u0924\u092e\u094d",1:"sa",2:"san","2T":"san","2B":"san",3:"san"},{l:"Sardinian",mh:"Sardu",1:"sc",2:"srd","2T":"srd","2B":"srd",3:"srd"},{l:"Sindhi",mh:"\u0633\u0646\u068c\u064a\u200e",1:"sd",2:"snd","2T":"snd","2B":"snd",3:"snd"},{l:"Northern Sami",mh:"S\xe1megiella",1:"se",2:"sme","2T":"sme","2B":"sme",3:"sme"},{l:"Samoan",mh:"Gagana S\u0101moa",1:"sm",2:"smo","2T":"smo","2B":"smo",3:"smo"},{l:"Sango",mh:"S\xe4ng\xf6",1:"sg",2:"sag","2T":"sag","2B":"sag",3:"sag"},{l:"Serbian",mh:"\u0421\u0440\u043f\u0441\u043a\u0438",1:"sr",2:"srp","2T":"srp","2B":"srp",3:"srp"},{l:"Gaelic",mh:"G\xe0idhlig",1:"gd",2:"gla","2T":"gla","2B":"gla",3:"gla"},{l:"Shona",mh:"ChiShona",1:"sn",2:"sna","2T":"sna","2B":"sna",3:"sna"},{l:"Sinhala",mh:"\u0dc3\u0dd2\u0d82\u0dc4\u0dbd",1:"si",2:"sin","2T":"sin","2B":"sin",3:"sin"},{l:"Slovak",mh:"Sloven\u010dina",1:"sk",2:"slk","2T":"slk","2B":"slo",3:"slk"},{l:"Slovene",mh:"Sloven\u0161\u010dina",1:"sl",2:"slv","2T":"slv","2B":"slv",3:"slv"},{l:"Somali",mh:"Soomaaliga",1:"so",2:"som","2T":"som","2B":"som",3:"som"},{l:"Southern Sotho",mh:"Sesotho",1:"st",2:"sot","2T":"sot","2B":"sot",3:"sot"},{l:"Spanish",mh:"Espa\xf1ol",1:"es",2:"spa","2T":"spa","2B":"spa",3:"spa"},{l:"Sundanese",mh:"Basa Sunda",1:"su",2:"sun","2T":"sun","2B":"sun",3:"sun"},{l:"Swahili",mh:"Kiswahili",1:"sw",2:"swa","2T":"swa","2B":"swa",3:"swa"},{l:"Swati",mh:"SiSwati",1:"ss",2:"ssw","2T":"ssw","2B":"ssw",3:"ssw"},{l:"Swedish",mh:"Svenska",1:"sv",2:"swe","2T":"swe","2B":"swe",3:"swe"},{l:"Tamil",mh:"\u0ba4\u0bae\u0bbf\u0bb4\u0bcd",1:"ta",2:"tam","2T":"tam","2B":"tam",3:"tam"},{l:"Telugu",mh:"\u0c24\u0c46\u0c32\u0c41\u0c17\u0c41",1:"te",2:"tel","2T":"tel","2B":"tel",3:"tel"},{l:"Tajik",mh:"\u0422\u043e\u04b7\u0438\u043a\u04e3",1:"tg",2:"tgk","2T":"tgk","2B":"tgk",3:"tgk"},{l:"Thai",mh:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",1:"th",2:"tha","2T":"tha","2B":"tha",3:"tha"},{l:"Tigrinya",mh:"\u1275\u130d\u122d\u129b",1:"ti",2:"tir","2T":"tir","2B":"tir",3:"tir"},{l:"Tibetan Standard",mh:"\u0f56\u0f7c\u0f51\u0f0b\u0f61\u0f72\u0f42",1:"bo",2:"bod","2T":"bod","2B":"tib",3:"bod"},{l:"Turkmen",mh:"T\xfcrkmen\xe7e",1:"tk",2:"tuk","2T":"tuk","2B":"tuk",3:"tuk"},{l:"Tagalog",mh:"Tagalog",1:"tl",2:"tgl","2T":"tgl","2B":"tgl",3:"tgl"},{l:"Tswana",mh:"Setswana",1:"tn",2:"tsn","2T":"tsn","2B":"tsn",3:"tsn"},{l:"Tonga",mh:"faka Tonga",1:"to",2:"ton","2T":"ton","2B":"ton",3:"ton"},{l:"Turkish",mh:"T\xfcrk\xe7e",1:"tr",2:"tur","2T":"tur","2B":"tur",3:"tur"},{l:"Tsonga",mh:"Xitsonga",1:"ts",2:"tso","2T":"tso","2B":"tso",3:"tso"},{l:"Tatar",mh:"\u0422\u0430\u0442\u0430\u0440\u0447\u0430",1:"tt",2:"tat","2T":"tat","2B":"tat",3:"tat"},{l:"Twi",mh:"Twi",1:"tw",2:"twi","2T":"twi","2B":"twi",3:"twi"},{l:"Tahitian",mh:"Reo M\u0101\u2019ohi",1:"ty",2:"tah","2T":"tah","2B":"tah",3:"tah"},{l:"Uyghur",mh:"\u0626\u06c7\u064a\u063a\u06c7\u0631\u0686\u0647",1:"ug",2:"uig","2T":"uig","2B":"uig",3:"uig"},{l:"Ukrainian",mh:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",1:"uk",2:"ukr","2T":"ukr","2B":"ukr",3:"ukr"},{l:"Urdu",mh:"\u0627\u0631\u062f\u0648",1:"ur",2:"urd","2T":"urd","2B":"urd",3:"urd"},{l:"Uzbek",mh:"O\u2018zbek",1:"uz",2:"uzb","2T":"uzb","2B":"uzb",3:"uzb"},{l:"Venda",mh:"Tshiven\u1e13a",1:"ve",2:"ven","2T":"ven","2B":"ven",3:"ven"},{l:"Vietnamese",mh:"Ti\u1ebfng Vi\u1ec7t",1:"vi",2:"vie","2T":"vie","2B":"vie",3:"vie"},{l:"Volap\xfck",mh:"Volap\xfck",1:"vo",2:"vol","2T":"vol","2B":"vol",3:"vol"},{l:"Walloon",mh:"Walon",1:"wa",2:"wln","2T":"wln","2B":"wln",3:"wln"},{l:"Welsh",mh:"Cymraeg",1:"cy",2:"cym","2T":"cym","2B":"wel",3:"cym"},{l:"Wolof",mh:"Wolof",1:"wo",2:"wol","2T":"wol","2B":"wol",3:"wol"},{l:"Western Frisian",mh:"Frysk",1:"fy",2:"fry","2T":"fry","2B":"fry",3:"fry"},{l:"Xhosa",mh:"isiXhosa",1:"xh",2:"xho","2T":"xho","2B":"xho",3:"xho"},{l:"Yiddish",mh:"\u05d9\u05d9\u05b4\u05d3\u05d9\u05e9",1:"yi",2:"yid","2T":"yid","2B":"yid",3:"yid"},{l:"Yoruba",mh:"Yor\xf9b\xe1",1:"yo",2:"yor","2T":"yor","2B":"yor",3:"yor"},{l:"Zhuang",mh:"Cuengh",1:"za",2:"zha","2T":"zha","2B":"zha",3:"zha"},{l:"Zulu",mh:"isiZulu",1:"zu",2:"zul","2T":"zul","2B":"zul",3:"zul"}];F(),Tt(),Ut();function JB(t){var n,i=null!=(n=function(t){var n=t.S0,i=new yC;return i.R0(n,0,n.byteLength),DC(i).i1}(t))?n:24;return t.Hft/i}function QB(t){return t.Tw===iy.oD}function $B(t,n,i,r,e){for(var u,s=function(t,n,i,r){var e=i.Hft,u=ir.fromNumber(t.vL||0),s=r.kO(hm.IF(u,e));return{Zft:r._F(),Xft:r,zft:s,qft:r}}(t,0,i,r),o=hm.CF(t.ct||0,i.Hft),a=t.QD||0,c=!(65536&a)&&1!==(a>>24&3),h=bc(e),f=new Rc;f.nc<h.byteLength;){var v=Ka(h,f);if((31&Ha(h,f,1))===IC.q0){var d,l=new yC;l.R0(e,f.nc-1,f.nc+v-1);var g=new NC(l),w=TC(s.zft,g);(d=u=u||[]).push.apply(d,Ft(jB(w)))}f.xb(v-1)}return ns({},s,{ct:o._F(),Yft:o,Kft:s.zft._F(),jft:s.Zft,Qft:c,Jft:u,$ft:!1,t_t:!1})}function tV(t){return{EN:t.XD.EN,Hft:t.AN.XD.mN}}function nV(t){return t.Tw===iy.gP}F(),Tt(),Rt(),F(),Tt(),Rt(),F(),Tt(),Ut(),F(),Tt(),F(),Tt(),F(),Tt(),Rt(),F(),Tt(),F(),Tt();var iV=function(){function t(t,n){this.oet=t,this.Ytt=n}return t.prototype.sF=function(t){return this.oet===t.oet&&this.Ytt===t.Ytt},t}();F(),Tt(),Dt();var rV=function(){function t(t,n){this.QQ=t,this.i_t=n,this.e_t=""}var n=t.prototype;return n.s_t=function(t){this.e_t+=t},n.n_t=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.s_t(i)}},Nt(t,[{key:"bet",get:function(){return this.e_t}},{key:"vet",get:function(){return[this]}},{key:"wet",get:function(){return this.QQ}},{key:"$tt",get:function(){return this.i_t}},{key:"iet",get:function(){return new iV(this.$tt.oet,this.$tt.Ytt+this.bet.length-1)}}]),t}();function eV(t,n){return t===n||t.bet===n.bet&&t.$tt.sF(n.$tt)&&Ng(t.wet,n.wet)}function uV(t,n){return t===n||t.$tt.sF(n.$tt)&&t.iet.sF(n.iet)&&_o(t.vet,n.vet,eV)}var sV=function(t){function n(n,i,r){return t.call(this,n,i,r,!1)||this}return It(n,t),n.prototype.nF=function(t){return _o(this.U,t.U,uV)},n}(Xw);F(),Tt(),Dt();var oV=function(){function t(){}var n=t.prototype;return n.r_t=function(t){return t.xV(this)},n.o_t=function(t){var n=this;return Ao(t,(function(t,i){return t.xV(n,i)}))},n.h_t=function(t,n){return new aV(t,n).a_t()},t}(),aV=function(){function t(t,n){this.oet=t,this.v_t=n,this.d_t=[],this.__t=null}var n=t.prototype;return n.a_t=function(){if(this.u_t)return[];for(var t=0;t<this.oet.length;t++)this.c_t(t);return this.l_t(),this.d_t},n.f_t=function(t){this.__t=new rV(Cx,new iV(this.v_t,t))},n.l_t=function(){this.__t&&(this.d_t.push(this.__t),this.__t=null)},n.c_t=function(t){var n=this.oet[t];cV(n)?this.__t&&this.l_t():(this.__t||this.f_t(t),this.__t.s_t(n))},Nt(t,[{key:"u_t",get:function(){return this.oet.every(cV)}}]),t}();function cV(t){return null==t}var hV=function(){function t(){}return t.m_t=function(t,n,i){if(!(n>=i)){var r=Ao(t,(function(t,n){return new aV(t.map((function(t){return t?t.g_t():null})),n).a_t()}));if(0!==r.length)return new sV(n,i,r)}},t}(),fV="black",vV="white";F(),Tt(),F(),Tt();var dV=[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce((function(t,n){return t[n[0]]=n[1],t}),{}),lV=function(){function t(){this.w_t=[],this.A_t=0;for(var t=0;t<xx;t++)this.w_t.push(null);this.k_t=!1}var n=t.prototype;return n.p_t=function(t){for(var n=0;n<xx;n++)t&&(this.w_t[n]=t.w_t[n])},n.sF=function(t){for(var n=0;n<xx;n++)if(this.w_t[n]!==t.w_t[n])return!1;return!0},n.y_t=function(){for(var t=0;t<xx;t++)if(null!==this.w_t[t])return!1;return!0},n.b_t=function(t){this.A_t!==t&&(this.A_t=t),this.A_t<0?this.A_t=0:this.A_t>xx&&(this.A_t=31)},n.S_t=function(t){var n=this.A_t+t;this.b_t(n)},n.T_t=function(){this.S_t(-1),this.w_t[this.A_t]=null},n.s_t=function(t){t>=144&&this.T_t();var n=function(t){return dV[t]?String.fromCharCode(dV[t]):String.fromCharCode(t)}(t);this.addParsedChar(n)},n.addParsedChar=function(t){this.A_t>=xx||(32===Number(t)?(this.w_t[this.A_t]=this.k_t?"</i>":"<i>",this.k_t=!this.k_t):this.w_t[this.A_t]=t,this.S_t(1))},n.E_t=function(t){for(var n=t;n<xx;n++)this.w_t[n]=null},n.Fb=function(){this.E_t(0),this.A_t=0},n.x_t=function(){this.E_t(this.A_t)},n.R_t=function(t,n){for(var i=this.w_t,r=null,e=0;e<xx;e++){var u=i[e];null===u?r=null:(r||(r={qh:e,zh:t,ji:0,Ti:1,w_t:[[]]},n.push(r)),r.w_t[0].push(u),r.ji++)}},n.xV=function(t,n){return t.h_t(this.w_t,n)},t}();var gV=function(){function t(t,n){this.D_t=new Array(wV+1);for(var i=0;i<=wV;i++)this.D_t[i]=new lV;this.L_t=1,this.V_t=0,this.C_t=t,this.P_t=n,this.z_t=!1,this.Y_t=!1,this.j_t=vV,this.J_t=fV,this.nr()}var n=t.prototype;return n.I_t=function(t,n){var i="CC"+(this.C_t<<1|this.P_t+1);if(t>=n)return null;var r=(new oV).o_t(this.D_t.slice(1));return 0===r.length?null:{FO:new sV(t,n,r),Nk:i,N_t:this.C_t<<1|this.P_t+1}},n.nr=function(){this.M_t(),this.L_t=1},n.B_t=function(){return this.L_t},n.O_t=function(t){this.L_t=t},n.b_t=function(t){this.D_t[this.L_t].b_t(t)},n.S_t=function(t){this.D_t[this.L_t].S_t(t)},n.F_t=function(){return this.V_t},n.W_t=function(t){this.V_t=t},n.s_t=function(t,n){if(!(n<32||n>127)){var i="";switch(t){case 0:i=void 0!==yV[n]?yV[n]:String.fromCharCode(n);break;case 1:i=pV[n];break;case 2:this.U_t(),i=_V[n];break;case 3:this.U_t(),i=bV[n]}i&&this.D_t[this.L_t].addParsedChar(i)}},n.U_t=function(){this.D_t[this.L_t].T_t()},n.G_t=function(t,n,i){if(t>=n)for(var r=i-1;r>=0;r--)this.D_t[t+r]=this.D_t[n+r];else for(var e=0;e<i;e++)this.D_t[t+e]=this.D_t[n+e]},n.H_t=function(t,n){for(var i=0;i<=n;i++)this.D_t[t+i]=new lV},n.M_t=function(){this.H_t(0,wV)},n.Z_t=function(){this.L_t=this.V_t>0?this.V_t:0,this.M_t()},n.X_t=function(t){this.z_t=t},n.q_t=function(t){this.Y_t=t},n.K_t=function(t){this.j_t=t},n.Q_t=function(t){this.J_t=t},t}(),wV=15,mV=function(t){return t[t.$_t=0]="$_t",t[t.tvt=1]="tvt",t[t.evt=2]="evt",t[t.ivt=3]="ivt",t}({}),yV={39:"\u2019",42:"\xe1",92:"\xe9",94:"\xed",95:"\xf3",96:"\xfa",123:"\xe7",124:"\xf7",125:"\xd1",126:"\xf1",127:"\u2588"},pV={48:"\xae",49:"\xb0",50:"\xbd",51:"\xbf",52:"\u2122",53:"\xa2",54:"\xa3",55:"\u266a",56:"\xe0",57:"\u2800",58:"\xe8",59:"\xe2",60:"\xea",61:"\xee",62:"\xf4",63:"\xfb"},_V={32:"\xc1",33:"\xc9",34:"\xd3",35:"\xda",36:"\xdc",37:"\xfc",38:"\u2018",39:"\xa1",40:"*",41:"'",42:"\u2500",43:"\xa9",44:"\u2120",45:"\xb7",46:"\u201c",47:"\u201d",48:"\xc0",49:"\xc2",50:"\xc7",51:"\xc8",52:"\xca",53:"\xcb",54:"\xeb",55:"\xce",56:"\xcf",57:"\xef",58:"\xd4",59:"\xd9",60:"\xf9",61:"\xdb",62:"\xab",63:"\xbb"},bV={32:"\xc3",33:"\xe3",34:"\xcd",35:"\xcc",36:"\xec",37:"\xd2",38:"\xf2",39:"\xd5",40:"\xf5",41:"{",42:"}",43:"\\",44:"^",45:"_",46:"|",47:"~",48:"\xc4",49:"\xe4",50:"\xd6",51:"\xf6",52:"\xdf",53:"\xa5",54:"\xa4",55:"\u2502",56:"\xc5",57:"\xe5",58:"\xd8",59:"\xf8",60:"\u250c",61:"\u2510",62:"\u2514",63:"\u2518"},kV=function(){function t(t,n){this.Sp=0,this.cvt=new gV(t,n),this.ovt=new gV(t,n),this.uvt=new gV(t,n),this.rvt=this.ovt,this.nvt=0,this.avt=void 0,this.svt=!1}var n=t.prototype;return n.nr=function(){this.svt=!0,this.nvt=0,this.Sp=0,this.rvt=this.ovt,this.avt=void 0,this.ovt.nr(),this.uvt.nr(),this.cvt.nr()},n.lvt=function(t,n){return[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&t)<<1|n>>5&1]},n.dvt=function(t,n){var i=this.lvt(t,n),r=(30&n)>>1,e=vV,u=!1;r<7?e=SV[r]:7===r&&(u=!0);var s=1==(1&n);if(4!==this.Sp){var o=this.rvt;if(3===this.Sp&&i!==o.B_t()){var a=1+o.B_t()-o.F_t(),c=1+i-o.F_t();o.G_t(c,a,o.F_t()),o.H_t(0,c-1),o.H_t(i+1,wV-i)}o.O_t(i);var h=Dx[t<<1&14|n>>5&1]-1;if(!(h<0)){var f=function(t,n){var i=n>95?n-96:n-64;return{qtt:Nx[i].qtt,ztt:Nx[i].ztt,Ytt:Nx[i].Ytt,oet:t}}(h,n);o.b_t(f.Ytt),this.rvt.X_t(s),this.rvt.q_t(u),this.rvt.K_t(e),this.rvt.Q_t(fV)}}},n.fvt=function(t,n){this.rvt.X_t(!1),this.rvt.q_t(!1),this.rvt.K_t(vV);var i=this._vt(t,mV.$_t," ".charCodeAt(0)),r=vV,e=!1,u=1==(1&n);return"white_italics"===(r=SV[(14&n)>>1])&&(r="white",e=!0),this.rvt.X_t(u),this.rvt.q_t(e),this.rvt.K_t(r),i},n._vt=function(t,n,i){if(this.rvt.s_t(n,i),2===this.Sp||3===this.Sp){var r=this.vvt(this.rvt,this.nvt,t);return this.nvt=t,r}return null},n.vvt=function(t,n,i){return this.svt?null:2===this.Sp||3===this.Sp?t.I_t(i,i+10):t.I_t(n,i)},n.mvt=function(t,n){var i=fV;0==(7&t)&&(i=TV[(14&n)>>1]),this.rvt.Q_t(i)},n.gvt=function(t){var n=AV,i=t.pvt,r=t.wvt,e=null;switch(i){case n.RCL:this.yvt();break;case n.BS:this.bvt();break;case n.AOD:case n.AON:case n.DER:break;case n.RU2:e=this.Avt(2,r);break;case n.RU3:e=this.Avt(3,r);break;case n.RU4:e=this.Avt(4,r);break;case n.FON:e=this.Svt(r);break;case n.RDC:this.Tvt(r);break;case n.TR:this.kvt();break;case n.RTD:this.Evt();break;case n.EDM:e=this.xvt(r);break;case n.CR:e=this.Rvt(r);break;case n.ENM:this.Ivt();break;case n.EOC:e=this.Cvt(r)}return e},n.Rvt=function(t){var n=this.rvt;if(3!==this.Sp)return null;var i=this.vvt(n,this.nvt,t),r=n.B_t()-n.F_t()+1;return n.G_t(r-1,r,n.F_t()),n.H_t(0,r-1),n.H_t(n.B_t(),wV-n.B_t()),this.nvt=t,i},n.Avt=function(t,n){this.rvt=this.ovt;var i=this.rvt,r=null;return 3!==this.Sp&&4!==this.Sp&&(r=this.vvt(i,this.nvt,n),this.ovt.Z_t(),this.uvt.Z_t(),this.svt=!1,i.O_t(wV)),this.Sp=3,i.W_t(t),r},n.Svt=function(t){return this._vt(t,mV.$_t," ".charCodeAt(0))},n.xvt=function(t){var n=this.ovt,i=null;return 4!==this.Sp&&(i=this.vvt(n,this.nvt,t)),n.M_t(),this.svt=!1,i},n.Tvt=function(t){this.Sp=2,this.rvt=this.ovt,this.rvt.W_t(0),this.nvt=t},n.Ivt=function(){this.uvt.M_t()},n.Cvt=function(t){var n=null;4!==this.Sp&&(n=this.vvt(this.ovt,this.nvt,t));var i=this.uvt;return this.uvt=this.ovt,this.ovt=i,this.yvt(),this.nvt=t,n},n.yvt=function(){this.Sp=1,this.rvt=this.uvt,this.rvt.W_t(0)},n.bvt=function(){this.rvt.U_t()},n.kvt=function(){this.cvt.nr(),this.svt=!1,this.Evt()},n.Evt=function(){this.rvt=this.cvt,this.Sp=4},n.Pvt=function(t,n,i){return this.rvt.s_t(mV.$_t,n),this._vt(t,mV.$_t,i)},n.Dvt=function(t,n,i){var r=1&n?mV.ivt:mV.evt;return this._vt(t,r,i)},n.Nvt=function(t){var n=t.Mvt,i=t.pvt,r=t.wvt;if(this.avt===(n<<8|i))return this.avt=void 0,null;if(this.avt=n<<8|i,this.Lvt(n,i))this.dvt(n,i);else{if(this.Bvt(n,i))return this.fvt(r,i);if(this.Ovt(n,i))this.mvt(n,i);else{if(this.Fvt(n,i))return this._vt(r,mV.tvt,i);if(this.Vvt(n,i))return this.Dvt(r,n,i);if(this.Wvt(n,i))return this.gvt(t);this.isTabOffset(n)&&this.rvt.S_t(i-32)}}return null},n.isTabOffset=function(t){return 23===t||31===t},n.Wvt=function(t,n){return 20==(246&t)&&32==(240&n)},n.Lvt=function(t,n){return 16==(240&t)&&64==(192&n)},n.Bvt=function(t,n){return 17==(247&t)&&32==(240&n)},n.Ovt=function(t,n){return 16==(247&t)&&32==(240&n)||23==(247&t)&&45==(255&n)},n.Fvt=function(t,n){return 17==(247&t)&&48==(240&n)},n.Vvt=function(t,n){return 18==(246&t)&&32==(224&n)},t.Uvt=function(t){return 16==(112&t)},t}(),AV={RCL:32,BS:33,AOD:34,AON:35,DER:36,RU2:37,RU3:38,RU4:39,FON:40,RDC:41,TR:42,RTD:43,EDM:44,CR:45,ENM:46,EOC:47},TV=["black","green","blue","cyan","red","yellow","magenta","black"],SV=["white","green","blue","cyan","red","yellow","magenta","white_italics"];F(),Tt(),qt(),F(),Tt(),F(),Tt();var EV=function(){function t(t,n,i,r,e){this.Gvt=t,this.z_t=n,this.Y_t=i,this.J_t=r,this.j_t=e}var n=t.prototype;return n.g_t=function(){return this.Gvt},n.Hvt=function(){return this.z_t},n.Zvt=function(){return this.Y_t},n.Xvt=function(){return this.J_t},n.zvt=function(){return this.j_t},t}(),IV=function(){function t(t){this.bmt=t,this.hZ=!1,this.Qvt=!1,this.Kvt=0,this.Yvt=0,this.jvt=0,this.Jvt=0,this.$vt=0,this.wmt=2,this.emt=[],this.jO=0,this.L_t=0,this.omt=0,this.Y_t=!1,this.z_t=!1,this.j_t=vV,this.J_t=fV,this.tmt()}var n=t.prototype;return n.qvt=function(t,n,i,r,e,u,s){this.hZ=t,this.Yvt=n,this.Kvt=i,this.jvt=r,this.Qvt=e,this.Jvt=u,this.$vt=s},n.tmt=function(){this.emt=[];for(var t=0;t<CV;t++)this.emt.push(this.imt())},n.imt=function(){for(var t=[],n=0;n<RV;n++)t.push(null);return t},n.smt=function(t){this.nmt()&&(this.emt[this.L_t][this.omt]=new EV(t,this.z_t,this.Y_t,this.J_t,this.j_t),this.omt++)},n.hmt=function(){this.nmt()&&(this.omt<=0&&this.L_t<=0||(this.omt<=0?(this.omt=this.$vt-1,this.L_t--):this.omt--,this.emt[this.L_t][this.omt]=null))},n.nmt=function(){var t=this.L_t<this.Jvt&&this.L_t>=0,n=this.omt<this.$vt&&this.omt>=0;return t&&n},n.De=function(){return this.hZ},n.amt=function(t){for(var n=0,i=t;i<CV;i++,n++)this.emt[n]=this.emt[i];for(var r=0;r<t;r++,n++)this.emt[n]=this.imt()},n.umt=function(){if(this.L_t+1>=this.Jvt)return this.amt(1),void(this.omt=0);this.L_t++,this.omt=0},n.cmt=function(){this.emt[this.L_t]=this.imt(),this.omt=0},n.I_t=function(t,n){if(this.jO>=t)return null;var i=hV.m_t(this.emt,this.jO,t);return i?(this.lmt(t),{FO:i,Nk:"svc"+n,N_t:n}):null},n.dmt=function(t,n){this.L_t=t,this.omt=n},n.fmt=function(t){this.J_t=t},n._mt=function(t){this.j_t=t},n.vmt=function(t){this.z_t=t},n.mmt=function(t){this.Y_t=t},n.gmt=function(){this.L_t=0,this.omt=0,this.z_t=!1,this.Y_t=!1,this.j_t=vV,this.J_t=fV},n.pmt=function(t){this.wmt=t},n.ymt=function(){this.hZ=!0},n.be=function(){this.hZ=!1},n.Sh=function(){this.hZ=!this.hZ},n.lmt=function(t){this.jO=t},t}(),RV=42,CV=15,NV=function(){function t(t){this.Nmt=t,this.Hmt=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],this.Dmt=void 0}var n=t.prototype;return n.Amt=function(t){var n=t.Smt(),i=n.Mx,r=n.wvt;i===MV&&(i=i<<16|t.Smt().Mx);return i>=0&&i<=31?this.Tmt(i,r):i>=128&&i<=159?this.kmt(t,i,r):(i>=4096&&i<=4127?this.Emt(t,255&i):i>=4224&&i<=4255?this.xmt(t,255&i):i>=32&&i<=127?this.Rmt(i):i>=160&&i<=255?this.Imt(i):i>=4128&&i<=4223?this.Cmt(255&i):i>=4256&&i<=4351&&this.Pmt(255&i),null)},n.Rmt=function(t){this.Dmt&&(127!==t?this.Dmt.smt(String.fromCharCode(t)):this.Dmt.smt("\u266a"))},n.Imt=function(t){this.Dmt&&this.Dmt.smt(String.fromCharCode(t))},n.Cmt=function(t){if(this.Dmt)if(void 0!==OV[t]){var n=OV[t];this.Dmt.smt(n)}else this.Dmt.smt("_")},n.Pmt=function(t){this.Dmt&&(160===t?this.Dmt.smt("[CC]"):this.Dmt.smt("_"))},n.Tmt=function(t,n){if(!this.Dmt)return null;var i=this.Dmt,r=null;switch(t){case DV:i.hmt();break;case xV:i.De()&&(r=i.I_t(n,this.Nmt)),i.umt();break;case LV:i.De()&&(r=i.I_t(n,this.Nmt)),i.cmt();break;case PV:i.De()&&(r=i.I_t(n,this.Nmt)),i.tmt(),i.dmt(0,0)}return r},n.kmt=function(t,n,i){if(n>=128&&n<=135){var r=7&n;this.Mmt(r)}else{if(136===n){var e=t.Smt().Mx;return this.Lmt(e,i)}if(137===n){var u=t.Smt().Mx;this.Bmt(u,i)}else{if(138===n){var s=t.Smt().Mx;return this.Omt(s,i)}if(139===n){var o=t.Smt().Mx;return this.Fmt(o,i)}if(140===n){var a=t.Smt().Mx;return this.Vmt(a,i)}if(143===n)return this.nr(i);if(144===n)this.Wmt(t);else if(145===n)this.Umt(t);else if(146===n)this.dmt(t);else if(151===n)this.Gmt(t);else if(n>=152&&n<=159){var c=(15&n)-8;this.qvt(t,c,i)}}}return null},n.Emt=function(t,n){n>=8&&n<=15?t.MD(1):n>=16&&n<=23?t.MD(2):n>=24&&n<=31&&t.MD(3)},n.xmt=function(t,n){n>=128&&n<=135?t.MD(4):n>=136&&n<=143&&t.MD(5)},n.Mmt=function(t){this.Hmt[t]&&(this.Dmt=this.Hmt[t])},n.Zmt=function(t){var n;return Ht(this,(function(i){switch(i.label){case 0:n=0,i.label=1;case 1:return n<8?1==(1&t)&&this.Hmt[n]?[4,n]:[3,3]:[3,5];case 2:i.sent(),i.label=3;case 3:t>>=1,i.label=4;case 4:return n++,[3,1];case 5:return[2]}}))},n.Lmt=function(t,n){for(var i=null,r=0,e=this.Zmt(t);r<e.length;r++){var u=e[r],s=this.Hmt[u];s.De()&&(i=s.I_t(n,this.Nmt)),s.tmt()}return i},n.Bmt=function(t,n){for(var i=0,r=this.Zmt(t);i<r.length;i++){var e=r[i],u=this.Hmt[e];u.De()||u.lmt(n),u.ymt()}},n.Omt=function(t,n){for(var i=null,r=0,e=this.Zmt(t);r<e.length;r++){var u=e[r],s=this.Hmt[u];s.De()&&(i=s.I_t(n,this.Nmt)),s.be()}return i},n.Fmt=function(t,n){for(var i=null,r=0,e=this.Zmt(t);r<e.length;r++){var u=e[r],s=this.Hmt[u];s.De()?i=s.I_t(n,this.Nmt):s.lmt(n),s.Sh()}return i},n.Vmt=function(t,n){for(var i=null,r=0,e=this.Zmt(t);r<e.length;r++){var u=e[r],s=this.Hmt[u];s.De()&&(i=s.I_t(n,this.Nmt)),this.Hmt[u]=void 0}return i},n.nr=function(t){var n=this.Vmt(255,t);return this.Fb(),n},n.Fb=function(){this.Dmt=void 0,this.Hmt=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0]},n.Wmt=function(t){t.MD(1);var n=t.Smt().Mx;if(this.Dmt){var i=(128&n)>0,r=(64&n)>0;this.Dmt.mmt(i),this.Dmt.vmt(r)}},n.Umt=function(t){var n=t.Smt().Mx,i=t.Smt().Mx;if(t.MD(1),this.Dmt){var r=3&n,e=(12&n)>>2,u=(48&n)>>4,s=3&i,o=(12&i)>>2,a=(48&i)>>4,c=this.Xmt(u,e,r),h=this.Xmt(a,o,s);this.Dmt._mt(c),this.Dmt.fmt(h)}},n.dmt=function(t){var n=t.Smt().Mx,i=t.Smt().Mx;if(this.Dmt){var r=15&n,e=63&i;this.Dmt.dmt(r,e)}},n.Gmt=function(t){t.MD(1),t.MD(1);var n=t.Smt().Mx;if(t.MD(1),this.Dmt){var i=3&n;this.Dmt.pmt(i)}},n.qvt=function(t,n,i){var r=void 0!==this.Hmt[n];if(!r){var e=new IV(n);e.lmt(i),this.Hmt[n]=e}var u=t.Smt().Mx,s=t.Smt().Mx,o=t.Smt().Mx,a=t.Smt().Mx,c=t.Smt().Mx,h=t.Smt().Mx,f=(32&u)>0,v=127&s,d=(128&s)>0,l=o,g=1+(15&a),w=(240&a)>>4,m=1+(63&c);r&&0===(7&h)||this.Hmt[n].gmt(),this.Hmt[n].qvt(f,v,l,w,d,g,m),this.Dmt=this.Hmt[n]},n.Xmt=function(t,n,i){var r={0:0,1:0,2:1,3:1};return BV[r[t]<<2|r[n]<<1|r[i]]},t}(),DV=8,PV=12,xV=13,LV=14,MV=16,OV={32:" ",33:"\xa0",37:"\u2026",42:"\u0160",44:"\u0152",48:"\u2588",49:"\u2018",50:"\u2019",51:"\u201c",52:"\u201d",53:"\u2022",57:"\u2122",58:"\u0161",60:"\u0153",61:"\u2120",63:"\u0178",118:"\u215b",119:"\u215c",120:"\u215d",121:"\u215e",122:"\u2502",123:"\u2510",124:"\u2514",125:"\u2500",126:"\u2518",127:"\u250c"},BV=["black","blue","green","cyan","red","magenta","yellow","white"];F(),Tt();var VV=function(){function t(){this.Kmt=[],this.Ymt=null,this.qmt=0}var n=t.prototype;return n.zmt=function(t){if(t.Tw===ZB.Lft){var n=63&t.Mx;return this.qmt=2*n-1,void(this.Ymt=[])}if(this.Ymt&&(this.qmt>0&&(this.Ymt.push(t),this.qmt--),0===this.qmt)){var i=new FV(this.Ymt);this.Kmt.push(i),this.Ymt=null,this.qmt=0}},n.jmt=function(){return this.Kmt},n.Qmt=function(){this.Kmt=[]},n.Fb=function(){this.Kmt=[],this.Ymt=[],this.qmt=0},t}(),FV=function(){function t(t){this.$mt=0,this.tgt=t}var n=t.prototype;return n.Jmt=function(){return this.$mt<this.tgt.length},n.egt=function(){return this.$mt},n.Smt=function(){if(!this.Jmt())throw new id(td.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");return this.tgt[this.$mt++]},n.MD=function(t){if(this.$mt+t>this.tgt.length)throw new id(td.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");this.$mt+=t},t}(),UV=function(){function t(){this.dgt=!1,this.sgt=[],this.ngt=[],this.rgt=new VV,this.igt=0,this.ugt=us({CC1:new kV(0,0),CC2:new kV(0,1),CC3:new kV(1,0),CC4:new kV(1,1)}),this.hgt=0,this.agt=0,this.ogt=es(),this.nr()}var n=t.prototype;return n.Fb=function(){this.igt=0,this.sgt=[],this.ngt=[],this.rgt.Fb(),this.nr(),this.ogt.forEach((function(t){t.Fb()}))},n.nr=function(){this.hgt=0,this.agt=0,this.ugt.forEach((function(t){t.nr()}))},n.cgt=function(t,n){if(t.Fft){var i=t.Wft,r=t.Uft,e=t.Tw;e===ZB.Dft||e===ZB.Nft?this.sgt.push({wvt:n,Tw:e,Mvt:i,pvt:r,lgt:this.sgt.length}):this.dgt&&(this.ngt.push({wvt:n,Tw:e,Mx:i,lgt:this.ngt.length}),this.ngt.push({wvt:n,Tw:ZB.Mft,Mx:r,lgt:this.ngt.length}))}},n.Kz=function(){var t=[];this.sgt.sort((function(t,n){return t.wvt-n.wvt||t.lgt-n.lgt})),this.ngt.sort((function(t,n){return t.wvt-n.wvt||t.lgt-n.lgt}));for(var n=0,i=this.sgt;n<i.length;n++){var r=i[n],e=this.fgt(r);e&&t.push(e)}for(var u=0,s=this.ngt;u<s.length;u++){var o=s[u];this.rgt.zmt(o)}for(var a=this.rgt.jmt(),c=0;c<a.length;c++){var h,f=a[c],v=this._gt(f);(h=t).push.apply(h,Ft(v))}return this.rgt.Qmt(),this.sgt=[],this.ngt=[],t},n.fgt=function(t){var n=t.Tw;if(kV.Uvt(t.Mvt)){var i=t.Mvt>>3&1;0===n?this.hgt=i:this.agt=i}var r="CC"+(n<<1|(n?this.agt:this.hgt)+1),e=this.ugt.get(r);return 255===t.Mvt&&255===t.pvt||!t.Mvt&&!t.pvt||!this.vgt(t.Mvt)||!this.vgt(t.pvt)?(++this.igt>=45&&this.nr(),null):(this.igt=0,t.Mvt&=127,t.pvt&=127,t.Mvt||t.pvt?kV.Uvt(t.Mvt)?e.Nvt(t):e.Pvt(t.wvt,t.Mvt,t.pvt):null)},n._gt=function(t){var n=[];try{for(;t.Jmt();){var i=t.Smt().Mx,r=(224&i)>>5,e=31&i;if(7===r&&0!==e)r=63&t.Smt().Mx;if(0!==r){if(!this.ogt.has(r)){var u=new NV(r);this.ogt.set(r,u)}for(var s=this.ogt.get(r),o=t.egt();t.egt()-o<e;){var a=s.Amt(t);a&&n.push(a)}}}}catch(t){if(!(t instanceof id&&t.code===td.SUBTITLE_PARSE_ERROR))throw t}return n},n.vgt=function(t){for(var n=0;t;)n^=1&t,t>>=1;return 1===n},t}();F(),Tt(),Rt();var WV=function(t){function n(n,i){var r;return(r=t.call(this,"mgt")||this).N_t=n,r.FO=i,r}return It(n,t),n}(sa),ZV=hm.vV(.1),XV=function(t){function n(){var n;return(n=t.call(this)||this).pgt=new UV,n}It(n,t);var i=n.prototype;return i.ggt=function(t,n){this.pgt.cgt(t,n)},i.Kz=function(){for(var t=this.pgt.Kz(),n=0;n<t.length;n++){var i=t[n];this._o(new WV(i.N_t,i.FO))}},i.nr=function(){this.pgt.Fb()},i.yn=function(){this.Ro(),this.pgt.Fb()},n}(ra),GV=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Agt=[],n}It(n,t);var i=n.prototype;return i.wgt=function(t,n,i,r){var e=this.ygt(t,r);this.bgt(e,n,i),this.Kz()},i.ygt=function(t,n){var i,r=t.slice().sort(Px),e=this.Agt;if(0===e.length)return r;if(0===r.length)return e;var u=e[0].Ktt,s=e[e.length-1].Ktt,o=r[0].Ktt,a=e[0].pat===r[0].pat;if(s.kF(o).AF().bF(hm.vV(2.5*n))&&a)i=e.concat(r).sort(Px);else if(o.gF(u)){for(var c=0;c<e.length&&e[c].Ktt.bF(o);)c++;for(var h=!1,f=!1,v=c,d=0;v<e.length&&d<r.length;v++,d++)HV(e[v],r[d])?h=!0:f=!0;var l=h&&!f,g=h&&f;!h&&f?i=e.concat(r).sort(Px):l?i=e.slice(0,c).concat(r):(i=r,g&&this.nr())}else i=r,this.nr();return i},i.bgt=function(t,n,i){for(var r=0;r<t.length;r++){var e=t[r],u=e.Ktt._F();if(!i&&n-u<ZV._F())return void(this.Agt=t.slice(r));this.ggt(e,u)}this.Agt=[]},n}(XV);function HV(t,n){return t.Ktt.sF(n.Ktt)&&t.Tw===n.Tw&&t.Wft===n.Wft&&t.Uft===n.Uft}var zV=function(t){function n(n){var i;return(i=t.call(this)||this).Rgt=void 0,i.Cgt=NaN,i.Pgt=NaN,i.Ngt=function(t){for(var n=i.kgt({jtt:t.N_t,Qtt:""}),r=t.FO,e=0,u=n.L.lC;e<u.length;e++){var s=u[e];r.WO<s.WO&&r.UO>s.WO?r.UO=s.WO:r.WO>s.WO&&s.UO>r.WO?s.UO=r.WO:r.WO===s.WO&&(r.UO=s.UO)}n._W(r)},i.lW=n,i.Tgt=es(),i.Dgt=new GV,i.Dgt.bn("mgt",i.Ngt),i}It(n,t);var i=n.prototype;return i.Sgt=function(t){return this.Tgt.get(t)},i.kgt=function(t){var n=this.Tgt.get(t.jtt);return n||(n=this.Egt(t),this.Tgt.set(t.jtt,n)),n},i.Egt=function(t){var n=[Xg.AC],i=function(t){if(t!==KB)for(var n=t.toLowerCase(),i=0;i<qB.length;i++){var r=qB[i];if(r[1]===n||r[2]===n||r["2T"]===n||r["2B"]===n||r[3]===n)return r}}(t.Qtt),r=i?i.l:"";t.xgt&&(r="easy "+r,n.push(Xg.EC));var e=t.Ch||r||"CC"+t.jtt,u=this.lW.OI(zy.$V,e,e,t.Qtt,!1,Tw.CEA608,void 0,n);return this.tt(u),u},i.Got=function(t){var n=gy.JD(bc(t));this.Rgt=function(t){for(var n=0,i=t.Z;n<i.length;n++){var r=i[n],e=tV(r),u=r.AN.MN.ON.VN.UN,s=ho(u,(function(t){return t.Tw===iy.CP}));if(!s){var o=u.filter((function(t){return t.Tw===iy.rD})),a=ho(o,(function(t){var n;return(null==(n=t.NM)?void 0:n.Tw)===iy.CP}));a&&(s=a.NM)}if(s){var c=gC(bc(s.yM.Kk),new Rc),h=s.AM;return ns({},e,{EN:r.XD.EN,yM:Ic(s.yM.Kk),ji:s.ji,Ti:s.Ti,YM:h&&h.YM,qM:h&&h.qM,V1:c.w0,Igt:c.y0,W1:c.b0,S0:c.S0[0],T0:c.T0[0]})}}}(ho(n,nV))},i.Sdt=function(t,n,i,r,e,u){var s;if(this.Rgt&&(S(this.Cgt)||!or(this.Cgt,n,1e-5))){S(this.Pgt)||or(this.Pgt,n,.1)||this.Dgt.nr();for(var o,a=function(t,n,i,r,e){for(var u=[],s=n.filter(QB),o=r(i),a=0;a<s.length;a++){var c=s[a],h=ho(c.Z,(function(t){return t.XD.EN===i.EN}));if(h)for(var f,v=h.XD.QM||0,d=h.XD.JM||0,l=h.aL?h.aL.aL:ir.ZERO,g=c.iL+(null!=(f=h.XD.uL)?f:ir.ZERO).toNumber(),w=0,m=h.hL;w<m.length;w++)for(var y=m[w],p=g+(y.iL||0),_=0,b=y._L;_<b.length;_++){var k=b[_],A=k.Nb||d,T=new yC;T.R0(t,p,p+A);var S=hm.IF(l,i.Hft);T.qV=e(k,c,i,S,Sc(t,p,p+A)),u.push(T),p+=A,l=l.add(k.ct||v||o)}}return u}(t,gy.JD(bc(t)),this.Rgt,JB,$B),c=null!=(o=null==(s=Io(a,(function(t){return t.qV.ct})))?void 0:s.qV.ct)?o:0,h=function(t){for(var n=[],i=0;i<t.length;i++){var r,e=t[i];e.qV.Jft&&(r=n).push.apply(r,Ft(e.qV.Jft)),delete e.qV.Jft}for(var u=0;u<n.length;u+=1)n[u].sL=u;return n}(a),f=hm.vV(r),v=[],d=0;d<h.length;d++){var l=h[d];v.push(ns({},l,{pat:e,Ktt:l.Bft.kO(f)}))}this.Dgt.wgt(v,i,u,c),this.Cgt=n,this.Pgt=i}},i.nr=function(){var n=this;return this.Dgt.nr(),this.Tgt.forEach((function(t){t.yn(),n.it(t),n.lW.mW(t)})),this.Tgt.clear(),this.Rgt=void 0,this.Cgt=NaN,this.Pgt=NaN,t.prototype.nr.call(this)},i.yn=function(){return this.Dgt.vn("mgt",this.Ngt),this.Dgt.yn(),t.prototype.yn.call(this)},n}(ap);F(),Tt(),F(),Tt(),nn();var YV=/(.*)=(.*)/,jV=/(.*):(.*)/;function KV(t){if(!t)return[];for(var n=[],i=t.trim().split(";"),r=0;r<i.length;r++){var e=i[r].match(YV);if(e){for(var u=tn(e,3),s=u[1],o="",a=!1,c=0,h=u[2].trim().split(",");c<h.length;c++){var f=h[c];if(f.match(jV)){var v=tn(f.match(jV),3),d=v[1],l=v[2];switch(d){case"lang":o=l;break;case"er":a=Boolean(Number(l))}}}n.push({jtt:Number(s),Qtt:o,xgt:a})}}return n}var qV={1:1,2:3,3:2,4:4},JV="urn:scte:dash:cc:cea-608:2015",QV="urn:scte:dash:cc:cea-708:2015";F(),Tt(),Rt(),F(),Tt(),Rt();var $V=function(t){function n(n,i,r){var e;return(e=t.call(this,Tg.hC)||this).pat=n,e.yct=i,e.Mgt=r,e}return It(n,t),n.prototype.ka=function(){return new tF(this.pat&&this.pat.wa)},n}(gg),tF=function(t){function n(n){var i;return(i=t.call(this,"activequalitychanged")||this).quality=n,i}return It(n,t),n}(sa),nF=[oa.ho,yp.iC,oa.hb],iF=function(t){function n(n,i){var r;return(r=t.call(this)||this).Bgt=function(t){var n=r.Ogt,i=r.Lgt(t.currentTime)||r.ift.yat;i&&n!==i&&(r.Ogt=i,i.pat&&r._o(new $V(i.pat,null==i?void 0:i.wa,null==n?void 0:n.wa)))},r.WB=n,r.WB.bn(nF,r.Bgt),r.ift=i,r}It(n,t);var i=n.prototype;return i.Lgt=function(t){for(var n=this.ift.Tat,i=0,r=n.Ht.Jat;i<r.length;i++){var e=r[i];if(n.Uct.Oct(t,e))return e}},i.yn=function(){this.Ro(),this.WB.vn(nF,this.Bgt)},n}(ra);function rF(t,n,i){var r=new sy(bc(t),new Rc),e=hy.HD(r,iy.gP);if(e){var u=hy.OD(e.Kk),s=ho(u,(function(t){return t.Tw===iy.wP})),o=ho(u,(function(t){return t.Tw===iy._D}));if(s){var a=hy.HD(s.Kk,iy.bP);if(a){var c=hy.HD(a.Kk,iy.TP);if(c){var h=hy.HD(c.Kk,iy.kP);if(h){var f=hy.OD(h.Kk),v=ho(f,(function(t){return t.Tw===iy.EP}));if(v){var d=hy.KD(v.Kk,iy.EP,!1),l=new sy(bc(d.Kk),new Rc);l.MD(4);for(var g=hy.OD(l),w=[],m=0;m<g.length;m++){var y=g[m];if(y.Tw===iy.nD||y.Tw===iy.rD)return;y.Tw===iy.CP?w.push({Fgt:y,Vgt:iy.rD}):y.Tw===iy.QP&&w.push({Fgt:y,Vgt:iy.nD})}if(function(t,n){return void 0===t&&void 0!==n&&n.length>0}(o,n)||0!==w.length){var p=Ec(t),_=ho(u,(function(t){return t.Tw===iy.RP})),b=_?hy.HD(_.Kk,iy.IP):void 0,k=b?function(t){var n=t.Kk.Ib();return n.MD(4),n.MD(4),n.ED()}(b):1,A=ho(f,(function(t){return t.Tw===iy.xP}));A&&function(t,n,i){var r=sF(bc(t),n),e=hy.GD(r,new Rc),u=e.Kk;u.MD(4);for(var s=u.ED(),o=0;o<s;o++){u.MD(4),u.MD(4);var a=u.SD.Ib(),c=u.ED();qa(u.Kk,a,c+i)}}(p,A,w.length),b&&function(t,n,i){var r=sF(bc(t),n),e=hy.GD(r,new Rc),u=e.Kk;u.MD(4),u.MD(4),qa(u.Kk,u.SD,i)}(p,b,1),p=function(t,n,i,r){if(i||!r)return t;for(var e=t,u=0;u<r.length;u++){var s=r[u];e=eF(e,n,new E(s))}return e}(p,e,o,n);for(var T=[e,s,a,c,h,v],S=w.length-1;S>=0;S--){var I=w[S];p=uF(p,I.Fgt,v,T,I.Vgt,i)}return{Wgt:p,Ugt:{Ggt:w.length,jM:k}}}}}}}}}}function eF(t,n,i){var r=Vc(t,i,n.Kk.Kk.byteOffset+n.Kk.Kk.byteLength);return oF(sF(bc(r),n),i.byteLength),r}function uF(t,n,i,r,e,u){var s=function(t,n,i){0;var r=t.Kk.Kk,e=vF(),u=new E(r.byteLength+e.byteLength),s=bc(u);u.set(kc(r),0),oF(s,e.byteLength),ec(s,new Rc(gF),n),u.set(e,r.byteLength),ec(s,new Rc(r.byteLength+dF),t.Tw),i&&Xa(s,new Rc(r.byteLength+lF),i);return u}(n,e,u),o=Vc(t,s,n.Kk.Kk.byteOffset),a=bc(o);!function(t,n){var i=hy.GD(t,new Rc),r=hy.KD(i.Kk,iy.EP,!1),e=bc(r.Kk),u=e.getUint32(0);e.setUint32(0,u+n)}(sF(a,i),1);for(var c=0;c<r.length;c++){oF(sF(a,r[c]),s.byteLength)}return o}function sF(t,n){var i=n.Kk.Kk.byteOffset;return _c(t,i,i+n.Kk.Kk.byteLength)}function oF(t,n){var i=new Rc,r=Ka(t,i);if(0===r);else if(1===r){i.xb(4);var e=Ja(t,i.Ib());Qa(t,i,e.add(n))}else i.Rb(0),qa(t,i,r+n)}F(),Tt(),Rt();var aF=function(t){function n(n){var i;return(i=t.call(this)||this).Xgt=[],i.Zgt=n,i}It(n,t);var i=n.prototype;return i.start=function(t){this.FQ=t},i.transform=function(t){this.h$(t),this.Hgt()},i.flush=function(){this.u$(),this.Hgt()},i.g$=function(t){return t===iy.oD},i.w$=function(t){var n=Ec(kc(t.Kk.Kk)),i=hy.GD(bc(n),new Rc);n=cF(n,i,this.Zgt),this.Xgt.push(n)},i.b$=function(t){this.Xgt.push(t)},i.Hgt=function(){for(var t=0,n=function(t){if(t.length<2)return t;for(var n=[],i=t[0],r=i.buffer,e=i.byteOffset,u=i.byteLength,s=1;s<t.length;s++){var o,a=t[s];r===a.buffer&&e+u===a.byteOffset?u+=a.byteLength:(n.push(new E(r,e,u)),r=(o=a).buffer,e=o.byteOffset,u=o.byteLength)}return n.push(new E(r,e,u)),n}(this.Xgt);t<n.length;t++){var i=n[t];this.FQ.enqueue(i)}bo(this.Xgt)},n}(YR);function cF(t,n,i){for(var r=t,e=hy.OD(n.Kk),u=e.length-1;u>=0;u--){var s=e[u];s.Tw===iy.aD&&(r=hF(r,s,n,i))}return r}function hF(t,n,i,r){var e=sF(bc(t),n),u=hy.GD(e,new Rc),s=hy.OD(u.Kk),o=ho(s,(function(t){return t.Tw===iy.uD}));if(!o)return t;var a=o.Kk,c=a.SD.Ib(),h=a.ED(),f=ly(h).flags;a.MD(4),f.Cb(ey.BASE_DATA_OFFSET_PRESENT)&&a.MD(8);var v=a.SD.Ib();if(f.Cb(ey.SAMPLE_DESCRIPTION_INDEX_PRESENT)){var d=Ka(a.Kk,v);return qa(a.Kk,a.SD,d+r.Ggt),t}qa(a.Kk,c,h|ey.SAMPLE_DESCRIPTION_INDEX_PRESENT);var l=new E(4);bc(l).setUint32(0,r.jM+r.Ggt);for(var g=a.Kk.byteOffset+v.nc,w=0,m=s.filter((function(t){return t.Tw===iy.cD}));w<m.length;w++){fF(m[w],l.byteLength)}for(var y=0,p=[o,n,i];y<p.length;y++){var _=p[y];oF(sF(bc(t),_),l.byteLength)}return Vc(t,l,g)}function fF(t,n){var i=t.Kk,r=ly(i.ED()).flags;if(i.MD(4),r.Cb(uy.DATA_OFFSET_PRESENT)){var e=i.Ib().ED();qa(i.Kk,i.SD,e+n)}}var vF=Si((function(){return new E([0,0,0,80,115,105,110,102,0,0,0,12,102,114,109,97,0,0,0,0,0,0,0,20,115,99,104,109,0,0,0,0,99,101,110,99,0,1,0,0,0,0,0,40,115,99,104,105,0,0,0,32,116,101,110,99,0,0,0,0,0,0,1,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])})),dF=16,lF=64,gF=4,wF=[Uy.fa,oa.$y,oa.eb,oa.sb,oa.Ay],mF=function(t){function n(n,i,r,e,u,s,o,a,c,h,f,v,d){var l;return(l=t.call(this)||this).Qdt=void 0,l.ift=void 0,l.ypt=!1,l.vW=new Yo,l.gpt=void 0,l.Kgt=void 0,l.Cot=void 0,l.Mlt=new kB,l.rpt=void 0,l.npt=void 0,l.zgt=new Ik([]),l.tpt=function(){!l.Fat()&&l.Cct()&&l.Qgt.tpt()},l.Bdt=function(t){l.Qdt.Bdt(t),l._o(new UB(t.yct,t.Mgt))},l.Apt=function(t){l.Ept(t)},l.zS=function(){var t=pF;return pF+=1,t}(),l.g3=n,l.fW=e,l.gZ=u,l.Qgt=i,l.WB=r,l.zut=s,l.lW=o,l.spt=a,l.Nlt=c,l.xlt=c?kA(n,c):void 0,l.edt=h,l.wpt=f,l.Edt=v,l.hH=d,l}It(n,t);var i=n.prototype;return i.Jgt=function(){var t;return null==(t=this.Qdt)?void 0:t.Act.rlt.Tn},i.Fat=function(){return void 0!==this.ift&&this.ift.Fat},i.Cct=function(){if(void 0===this.Kgt)return!1;var t=this.Ygt().YL(),n=t.sB(this.Kgt);return!(n<0)&&t.Sn(n)!==this.Kgt},i.a3=function(){var t=this.Qgt.Pct,n=this.Ygt().jn(t);this.Kgt=n.V>0?n.Tn(n.V-1):0;var i=t.Tn(0);isFinite(i)&&this.Kgt<i&&this.WJ(this.Kgt,i),this.tpt()},i.Sdt=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return u=i.Zot.BV,s=e.ept(t,n,i,u,r),[4,Jo([e.ipt(t,n,i,u,r),s])];case 1:return o=tn.apply(void 0,[a.sent(),1]),[2,o[0]]}}))}))()},i.ept=function(t,n,i,r,e){var u=this;return Zt((function(){var s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:return Pv(i.jq)?t.Tw!==xR.Sk?[3,2]:[4,t.Kk.Gut().Dk(e)]:[2];case 1:return o=h.sent(),s=new E(o),[3,3];case 2:s=new E(t.Kk.yht),h.label=3;case 3:return a=[],void 0!==u.spt&&(u.spt.Sdt(s,n.WO,r),a.push(u.spt)),void 0!==u.npt&&(c=i.nlt(n),u.npt.Sdt(s,n.WO,n.UO,r,i.pat,c),a.push(u.npt)),op(u.wR,a),[2]}}))}))()},i.ipt=function(t,n,i,r,e){var u=this;return Zt((function(){var s,o,a,c,h,f,v,d;return Ht(this,(function(l){switch(l.label){case 0:return Vo(e),t.Tw===xR.Sk?(a=t.Kk.Nk,u.rpt&&(a=function(t,n){return t.pipeThrough(new Od(new aF(n)))}(a,u.rpt)),o={Tw:xR.Sk,Kk:a}):(c=new E(t.Kk.yht),u.rpt&&(c=function(t,n){for(var i=Ec(t),r=new sy(bc(i),new Rc),e=hy.OD(r),u=e.length-1;u>=0;u--){var s=e[u];s.Tw===iy.oD&&(i=cF(i,s,n))}return i}(c,u.rpt)),o={Tw:xR.iJ,Kk:c}),h={wit:n.WO,ct:n.ct,BV:r,W1:null==(s=i.pat)?void 0:s.IC},f=u.Cot.wR,[4,u.opt()];case 1:return l.sent(),[4,u.Cot.g2(o,h,e)];case 2:return l.sent(),v=u.Cot.wR,d=u.Cot.w3,[2,yF(f,v,d,n)]}}))}))()},i.Got=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:return Vo(i),r.npt&&r.npt.Got(new E(t.yht)),u=new E(t.yht),r.hpt(n)&&(s=r.Qgt.upt,o=[],s&&(o=Ao(s.cpt,(function(t){return t.IG})),a=s.lpt.aU?ZE(s.lpt.aU):void 0),(c=rF(u,o,a))?(r.rpt=c.Ugt,u=c.Wgt):r.rpt=void 0),h={Tw:xR.iJ,Kk:u},[4,r.opt()];case 1:return f.sent(),[4,r.Cot.A2(h,{W1:null==(e=n.pat)?void 0:e.IC},i)];case 2:return f.sent(),[2]}}))}))()},i.Adt=function(t,n,i){return this.Cot.eT(t,n,i)},i.WJ=function(t,n){this.Cot.A3(t,n)},i.UJ=function(t,n){this.Cot.S3(t,n)},i.Ygt=function(){return this.Cot?this.Cot.wR:SA.pB()},i.qgt=function(){return this.Cot?this.Cot.w3:SA.pB()},i.dpt=function(){return this.Cot?this.Cot.eT(0,1/0):et.resolve()},i.fpt=function(){return this.Cot&&(this.Cot.vn(DR.tJ,this.Ds),this.Cot=void 0),et.resolve()},i._pt=function(t){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:return r=rB.Blt(null!=(i=t.Udt)?i:t.Jat,n.xlt),e=r.jq,n.Cot||(n.Cot=n.Qgt.vpt(e),n.Cot.bn(DR.tJ,n.Ds),n.Mlt=new bB(n.Cot)),[4,n.opt()];case 1:return u.sent(),[2]}}))}))()},i.$n=function(t,n){var i=Yo.$w([n]);this.vW.jw(),this.vW=i;var r=this.mpt(t,this.gpt,i.Uw);return this.gpt=r,r},i.ppt=function(t){if(!po(this.wpt,Tw.CEA608)){var n=t.Act.Rdt;if(function(t){return t.some((function(t){return t.c9===JV||t.c9===QV}))}(n)){this.npt=new zV(this.lW);for(var i=function(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];if(r.c9===JV)for(var e=Mx(r.Mx),u=0;u<e.length;u++){var s=e[u];n.push(s)}else if(r.c9===QV)for(var o=KV(r.Mx),a=0;a<o.length;a++){var c=o[a];if(c.jtt<=4){var h=qV[c.jtt];n.push(ns({},c,{jtt:h}))}}}return n}(n),r=0;r<i.length;r++){var e=i[r];this.npt.kgt(e)}this.zgt.MG(this.npt.Z)}}},i.mpt=function(t,n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return Vo(i),n?[4,n.catch(bi)]:[3,2];case 1:e.sent(),e.label=2;case 2:return r.Qdt===t&&r.ypt?[2]:[4,r.bpt()];case 3:return e.sent(),Vo(i),[4,r.dpt()];case 4:return e.sent(),Vo(i),t?[4,r.dW(t)]:[3,6];case 5:e.sent(),e.label=6;case 6:return[2]}}))}))()},i.bpt=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return n=t.Qdt,t.Qdt=void 0,t.ypt=!1,t.Kgt=void 0,n&&(n.vn(Tg.uC,t.Apt),n.Ydt(!1),n.vn(Tg.NO_QUALITY,t.Ds)),t.Spt&&(t.Spt.yn(),t.Spt=void 0),t.ift?[4,t.ift.yn()]:[3,2];case 1:i.sent(),t.ift=void 0,i.label=2;case 2:return t.npt?(t.zgt.FG(t.npt.Z),[4,t.npt.yn()]):[3,4];case 3:i.sent(),i.label=4;case 4:return[2]}}))}))()},i.dW=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.Qdt=t,n.ppt(t),t.bn(Tg.uC,n.Apt),t.bn(Tg.NO_QUALITY,n.Ds),[4,n._pt(t)];case 1:return i.sent(),n.ift=n.Tpt(t),n.ift.bn(wF,n.Ds),n.ift.bn("wat",n.tpt),n.ift.xat=t.Udt,n.Spt=new iF(n.WB,n.ift),n.Spt.bn(Tg.hC,n.Bdt),t.Ydt(!0),n.ypt=!0,[2]}}))}))()},i.Tpt=function(t){return new _B(this,this.WB,this.WB,this.fW,this.gZ,this.Edt,this.zut,this.Nlt,this.xlt,this.Mlt,this.edt,this.hH).Ait(t)},i.nr=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.vW.jw(),n.gpt?[4,n.gpt.catch(bi)]:[3,2];case 1:i.sent(),n.gpt=void 0,i.label=2;case 2:return[4,n.bpt()];case 3:return i.sent(),t?[3,5]:[4,n.dpt()];case 4:i.sent(),i.label=5;case 5:return[4,n.fpt()];case 6:return i.sent(),[2]}}))}))()},i.kpt=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.bpt()];case 1:return n.sent(),[2]}}))}))()},i.Mdt=function(t){var n;null==(n=this.jdt)||n.Mdt(t)},i.Pdt=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return[4,i.Xat()];case 1:if(a.sent(),null==(r=i.jdt)||r.Pdt(n),!((u=null==(e=i.ift)?void 0:e.Tat.Uct.Mct(t))&&u.V>0))return[3,5];s=0,a.label=2;case 2:return s<u.V?[4,null==(o=i.Cot)?void 0:o.eT(u.Sn(s),u.Tn(s))]:[3,5];case 3:a.sent(),a.label=4;case 4:return s++,[3,2];case 5:return[4,i.qat()];case 6:return a.sent(),[2]}}))}))()},i.Ept=function(t){var n=this,i=t.Ht.Udt;return void 0===i||i.some((function(t){return n.Mlt.dJ(t)}))?this.xpt(t):void this._o(new sa("Rpt"))},i.xpt=function(t){this.ift&&this.Qdt&&this.Qdt===t.Ht&&(this.ift.xat=this.Qdt.Udt)},i.Xat=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.ift?[4,n.ift.Xat(t)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))()},i.qat=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.ift?[4,n.ift.qat(t)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))()},i.Oj=function(){var t=this.wR.vB;return this.gZ.Oj(t)},i.opt=function(){var t=this.Qgt.Pct,n=k.max(0,t.Sn(0)-.1),i=t.Tn(0)+.01;return this.Cot.F2(n,i)},i.hpt=function(t){return!!Pv(t.jq)&&(!!this.Qgt.h9||void 0!==this.Qgt.upt)},i.Yat=function(t){if(Jg(this.g3)){var n=this.ift,i=t.ift;void 0!==n&&void 0!==i&&n.Yat(i,this.Sn,this.Tn)}},i.yn=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:n.Ro(),i.label=1;case 1:return i.trys.push([1,4,,5]),[4,n.nr(t)];case 2:return i.sent(),[4,n.kpt()];case 3:return i.sent(),[3,5];case 4:return i.sent(),[3,5];case 5:return[2]}}))}))()},Nt(n,[{key:"jdt",get:function(){return this.Qdt}},{key:"o",get:function(){return this.zS}},{key:"m3",get:function(){return this.g3}},{key:"nt",get:function(){return this.zgt}},{key:"oft",get:function(){return function(t){var n=29.97,i=1024,r=44100;return t===qg.vE?r/i:n}(this.g3)}},{key:"sft",get:function(){return 1/this.oft}},{key:"Rt",get:function(){return Boolean(this.Qdt&&this.Qdt.Rt)}},{key:"FJ",get:function(){var t=this.ift?this.ift.Tat.FJ.Dct:SA.pB();return this.qgt().tB(t)}},{key:"wR",get:function(){var t=this.Ygt(),n=this.Kgt;return void 0!==n&&t.YL().wr(n)&&(t=t.tB(SA.mB(n))),t}},{key:"xct",get:function(){return sO(this.Ygt(),this.FJ.tB(this.jgt)).$L(2*this.sft)}},{key:"jgt",get:function(){var t=this.Kgt;if(t&&isFinite(t)){var n=this.Qgt.Tn;if(isFinite(n)&&t<n)return new SA([t,n],[!1,!0])}return SA.pB()}},{key:"hI",get:function(){var t=this.Qdt;if(!t)return SA.mB(0);var n=t.Act.aft,i=t.Act.uft;if(void 0===i||void 0===n)return SA.mB(0);var r=i,e=n>=t.Act.rlt.Tn?k.max(n,this.Tn):n;return e=k.max(r,e),SA.gB(r,e).YL()}},{key:"XG",get:function(){return this.xct._B(this.ER)}},{key:"Pct",get:function(){return this.Qgt.Pct}},{key:"ER",get:function(){return this.WB.ER}},{key:"Sn",get:function(){return this.Qdt?this.Qdt.Act.rlt.Sn:NaN}},{key:"Tn",get:function(){var t=this.Jgt(),n=this.Kgt;return void 0===t?NaN:void 0!==n?n:t}},{key:"Ti",get:function(){return this.Qgt.Ti}},{key:"ji",get:function(){return this.Qgt.ji}},{key:"$gt",get:function(){return this.Kgt}}]),n}(ra);function yF(t,n,i,r){var e,u,s=n.iB(t.YL());return 0===(s=s.iB(i.iB(n))).V?u=e=r.UO:(e=s.Sn(0),u=s.Tn(0)),{ldt:e,ddt:u}}var pF=0;var _F=function(t){function n(n,i,r,e,u,s,o,a,c,h,f,v,d,l){var g,w,m;return(g=t.call(this)||this).cO=new Kg,g.dO=new Kg,g.Kpt=[],g.qpt=new Yo,g.Zpt=!0,g.Sft=[],g.gpt=void 0,g.Fpt=Ai((function(){g._o(new FR(g.ER))}),350),g.Qpt=function(t){var n=t.hwt.jdt;if(n)for(var i=0,r=g.Kpt;i<r.length;i++){var e,u=r[i];u.jdt&&u.jdt!==n&&u.Tw===(null==(e=n.Odt)?void 0:e.Tw)&&(u.vn("jpt",g.Qpt),u.jdt.Rt=!1,u.bn("jpt",g.Qpt))}g.Ds(t)},g.ewt=function(t){Bo(t)||g._o(new yk(rd(t,td.MEDIA_LOAD_ERROR)))},g.Xpt=function(t){var n=t.M6;n&&g.iwt(n).catch(g.ewt)},g.awt=function(t){g.swt(t).catch(g.ewt)},g.zpt=function(t){var n=t.M6;if(n)for(var i=0,r=g.twt;i<r.length;i++)for(var e=r[i],u=0,s=e.Act.Jat;u<s.length;u++){var o=s[u],a=(o.TG||[]).some((function(t){return t.aU&&Lc(Tc(n),ZE(t.aU))}));o.qdt&&a&&(o.qdt=!1,o.pat&&e.Mdt(o.pat))}},g.fW=r,g.gZ=e,g.zut=u,g.WB=n,g.IO=vw(),g.Kpt=[],g.Dpt=o,g.Wpt=a,g.hH=l,g.lW=h,g.Npt=new MB(n,r,e,u,h,null==(m=null==s||null==(w=s.dash)?void 0:w.segmentRelativeVttTiming)||m),g.Hl=new Ik([g.Npt.nt]),g.edt=v,g.wpt=d,g.Dpt.bn(aO.vat,g.Ds),g.xu=c,g.Z2=i,g.Edt=s.lowLatency,g.spt=f,g.Lpt=s.abr,g.WB.bn(oa.fb,g.Xpt),g.WB.bn(oa.Ey,g.zpt),g}It(n,t);var i=n.prototype;return i.xj=function(t,n){return this.Ipt(t,n)},i.Ipt=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:for(r=0;r<t.length;r++)e=t[r],i.Cpt(e);return[4,i.$n(n)];case 1:a.sent(),u=0,s=i.Dpt.Ppt,a.label=2;case 2:return u<s.length?(o=s[u]).Tw!==qg.Tk?[3,5]:o.Jat&&0!==o.Jat.length?[3,3]:(i._o(new OB("No supported representation found in the AdaptationSet with mimetype : "+o.Tw)),[3,5]):[3,6];case 3:return[4,i.Npt.dW(o)];case 4:a.sent(),a.label=5;case 5:return u++,[3,2];case 6:return[2]}}))}))()},i.Mpt=function(t){return new mF(t,this,this.WB,this.fW,this.gZ,this.zut,this.lW,this.spt,this.Lpt,this.edt,this.wpt,this.Edt,this.hH)},i.Fat=function(){return this.Sft.some((function(t){return t.Fat()}))},i.Cct=function(){return 0!==this.Sft.length&&this.Sft.every((function(t){return t.Cct()}))},i.tpt=function(){this.Bpt()&&this._o(new FB)},i.vpt=function(t){if(Fs(t,"audio")){if(this.Z2.h4)return this.Z2.h4}else if(Fs(t,"video")&&this.Z2.a4)return this.Z2.a4;throw new p("Cannot allocate source buffer for mime type "+t)},i.Opt=function(t){t.bn([Uy.fa,oa.Ky,oa.$y,oa.eb,oa.sb,oa.Ay],this.Ds),t.bn(DR.tJ,this.Fpt),t.bn("Rpt",this.Ds)},i.Vpt=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,et.all(n.Sft.map((function(n){return n.yn(t)})))];case 1:return i.sent(),bo(n.Sft),[2]}}))}))()},i.Bpt=function(){if(this.Fat())return!1;if(!this.Cct())return!1;var t=this.wR;if(0===t.V)return!1;var n=this.ER;if(this.Upt)return t.Sn(t.V-1)<=n;var i=t.jn(this.Pct);if(0===i.V)return!0;var r=i.Sn(i.V-1),e=i.Tn(i.V-1)+.1;return r<=n&&n<=e},i.Xat=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.Zpt?[2]:(n.Zpt=!0,[4,et.all(n.Sft.map((function(n){return n.Xat(t)})))]);case 1:return i.sent(),[2]}}))}))()},i.qat=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.Zpt?(n.Zpt=!1,[4,et.all(n.Sft.map((function(n){return n.qat(t)})))]):[2];case 1:return i.sent(),[2]}}))}))()},i.yn=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.WB.vn(oa.fb,n.Xpt),n.WB.vn(oa.Ey,n.zpt),n.Ro(),n.Dpt.vn(aO.vat,n.Ds),n.qpt.jw(),n.gpt?[4,n.gpt.catch(bi)]:[3,2];case 1:i.sent(),n.gpt=void 0,i.label=2;case 2:return[4,n.Vpt(t)];case 3:return i.sent(),[4,n.Npt.yn()];case 4:return i.sent(),n.cO.yn(),n.dO.yn(),n.Hl.yn(),n.Ypt(),[2]}}))}))()},i.Cpt=function(t){this.Kpt.push(t),t.bn("jpt",this.Qpt);for(var n=t.Tw===qg.vE?this.cO:this.dO,i=0,r=t.Z;i<r.length;i++){var e=r[i];n.tt(e)}},i.Jpt=function(t){for(var n=t.Tw===qg.vE?this.cO:this.dO,i=0,r=t.Z;i<r.length;i++){var e=r[i];n.it(e),e.yn()}t.yn(),wo(this.Kpt,t)},i.Ypt=function(){for(var t=this.Kpt.length-1;t>=0;t--)this.Jpt(this.Kpt[t])},i.$n=function(t,n){return this.qpt.jw(),this.qpt=Yo.$w([n]),this.gpt=Zo(this.QE(t,this.gpt,this.qpt.Uw),this.qpt).catch(this.ewt),this.gpt},i.QE=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h,f,v;return Ht(this,(function(d){switch(d.label){case 0:return n?[4,n.catch(bi)]:[3,2];case 1:d.sent(),d.label=2;case 2:Vo(i),e=[],u=r.Sft.slice(),s=t.slice(),bo(r.Sft),o=0,d.label=3;case 3:return o<u.length?(a=u[o],(c=a.jdt)&&po(s,c)?(r.Sft.push(a),e.push(a.$n(c,i)),wo(s,c),[3,6]):[3,4]):[3,7];case 4:return r.Hl.FG(a.nt),[4,a.yn()];case 5:d.sent(),Vo(i),d.label=6;case 6:return o++,[3,3];case 7:for(h=0;h<s.length;h++)f=s[h],v=r.Mpt(f.Cat),r.Hl.MG(v.nt),r.Sft.push(v),r.Opt(v),e.push(v.$n(f,i));return[4,et.all(e)];case 8:return d.sent(),[2]}}))}))()},i._J=function(t,n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return r.Z2===i?[3,2]:(r.Z2=i,[4,r.Vpt(!1)]);case 1:e.sent(),e.label=2;case 2:return[4,r.$n(t)];case 3:return e.sent(),r.Wpt=n,[2]}}))}))()},i.iwt=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:i=0,r=n.Sft,h.label=1;case 1:if(!(i<r.length))return[3,6];if(e=r[i],void 0===(u=e.jdt))return[3,5];s=0,o=u.Act.Jat,h.label=2;case 2:return s<o.length?(a=o[s],c=a.TG||[],!c.some((function(n){return n.aU&&Lc(Tc(t),ZE(n.aU))}))||a.qdt?[3,4]:(a.qdt=!0,[4,e.Pdt(a,a.pat)])):[3,5];case 3:h.sent(),n._o(new QD(new Qg(td.CONTENT_PROTECTION_OUTPUT_RESTRICTED,"Content unavailable due to DRM restrictions"))),h.label=4;case 4:return s++,[3,2];case 5:return i++,[3,1];case 6:return[2]}}))}))()},i.swt=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:i=0,r=n.Sft,v.label=1;case 1:if(!(i<r.length))return[3,7];if(e=r[i],void 0===(u=e.jdt))return[3,6];s=0,o=u.Jat,v.label=2;case 2:return s<o.length?(a=o[s],c=a.TG,h=a.pat,void 0===c||0===c.length||void 0===h?[3,5]:(f=n.nwt(c,t.pb),h.trt===f?[3,5]:f?(e.Mdt(h),[3,5]):[3,3])):[3,6];case 3:return[4,e.Pdt(a,h)];case 4:v.sent(),v.label=5;case 5:return s++,[3,2];case 6:return i++,[3,1];case 7:return[2]}}))}))()},i.nwt=function(t,n){var i=!1,r=t.reduce((function(t,n){return!n.aU||po(t,n.aU)?t:Ft(t).concat([n.aU])}),[]);return n.Ob((function(e,u){"usable"===e&&((t.some((function(t){return t.aU&&Lc(Tc(u),ZE(t.aU))}))||Mc(u,Zc)&&1===r.length&&1===n.Nb)&&(i=!0))})),i},i.Yat=function(t){var n=function(n,i){var r=i[n],e=ho(t.Sft,(function(t){return t.m3===r.m3}));void 0!==e&&r.Yat(e)};if(void 0!==t){var i=t.Dpt;if(this.Dpt.rwt===i||this.Dpt.owt===i)for(var r=0,e=this.Sft;r<e.length;r++)n(r,e)}},Nt(n,[{key:"IC",get:function(){return this.IO}},{key:"ct",get:function(){return this.WB.ct}},{key:"Rt",get:function(){return this.Sft.some((function(t){return t.Rt}))}},{key:"ht",get:function(){return this.cO}},{key:"wR",get:function(){if(0===this.Sft.length)return SA.pB();for(var t=this.Sft.map((function(t){return t.wR})),n=SA.gB(0,1/0),i=0;i<t.length;i++){var r=t[i];n=n.jn(r)}if(0===n.V)return n;if(this.Cct()){var e=n.jn(this.Pct);if(0===e.V)return n;for(var u=e.Tn(e.V-1),s=0,o=0,a=this.Sft;o<a.length;o++){var c=a[o];s=k.max(s,c.$gt)}u<=s&&(n=n.tB(new SA([u,s],[!0,!0])))}return n}},{key:"h9",get:function(){return this.WB.h9}},{key:"ER",get:function(){return this.WB.ER}},{key:"upt",get:function(){return this.Wpt}},{key:"Tn",get:function(){if(this.Upt){var t=this.ct;if(!S(t)&&t!==er)return t}if(!this.Sft.length)return NaN;for(var n=0,i=0,r=this.Sft;i<r.length;i++){var e=r[i];n=k.max(n,e.Tn)}return n}},{key:"Upt",get:function(){var t=this.Dpt.vdt;if(t.Tw===BB.wW)return!1;var n=t.Gpt;return 0!==n.length&&this.Dpt===n[n.length-1]}},{key:"hI",get:function(){if(!this.Sft.length)return SA.pB();for(var t=new SA([0,1/0]),n=0,i=this.Sft;n<i.length;n++){var r=i[n];t=t.jn(r.hI)}if(t.V>0&&this.Upt&&isFinite(this.ct)){var e=this.ct,u=t.Tn(t.V-1);e>u&&(t=t.tB(SA.gB(u,e).YL()))}return t}},{key:"Cc",get:function(){return this.Dpt}},{key:"nt",get:function(){return this.Hl}},{key:"rt",get:function(){return this.dO}},{key:"ji",get:function(){return this.xu.ji}},{key:"Ti",get:function(){return this.xu.Ti}},{key:"XG",get:function(){var t=this.ER,n=this.wR,i=n.sB(t);if(-1!==i)return{Sn:n.Sn(i),Tn:n.Tn(i)}}},{key:"Pct",get:function(){var t=this.Dpt.Sn,n=this.Upt?1/0:this.Dpt.Tn;return SA.gB(t,n)}},{key:"Hpt",get:function(){return this.Zpt}},{key:"$pt",get:function(){return this.Kpt.map((function(t){return t.jdt})).filter(Yn)}},{key:"twt",get:function(){return this.Sft.map((function(t){return t.jdt})).filter(Yn)}}]),n}(ra);F(),Tt(),Gt(),Dt(),qt(),F(),Tt(),nn(),F(),Tt(),Dt();var bF=/^P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)D)?(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d*\.?\d*)S)?)?$/,kF=function(){function t(t){this.uwt=t}var n=t.prototype;return n.cwt=function(){return this.uwt},n.lwt=function(){return 1e3*this.uwt},t.JD=function(n){var i=n.match(bF);if(!i)throw new p("The given value could not be parsed as a valid DateTimeInterval");return new t(31536e3*(Number(i[1])||0)+2592e3*(Number(i[2])||0)+86400*(Number(i[3])||0)+3600*(Number(i[4])||0)+60*(Number(i[5])||0)+(Number(i[6])||0))},Nt(t,[{key:"Zft",get:function(){return hm.vV(this.uwt,1e3)}}]),t}();F(),Tt();var AF=function(t){return t.dwt="progressive",t.fwt="interlaced",t.iE="unknown",t}({});F(),Tt();var TF=function(){function t(t,n){this._wt=t,this.vwt=n}return t.prototype._F=function(){return this._wt/this.vwt},t}(),SF=/^(?:true|false)$/i,EF=/^(-?)(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(?:Z|([+-])(\d{2}):(\d{2}))?$/;function IF(t){if(void 0!==t)return kF.JD(t)}function RF(t){if(void 0!==t){var n=t.match(EF);if(!n)throw new p("The given value could not be parsed as a valid Date");var i=tn(n,12),r=i[1],e=i[2],u=i[3],s=i[4],o=i[5],a=i[6],c=i[7],h=i[8],f=i[9],v=i[10],d=i[11],l=("-"===r?-1:1)*Number(e),g=Number(u)-1,w=Number(s),m=Number(o),y=Number(a),_=Number(c),b=Number("0."+(h||"")),A=k.round(1e3*b);if(f)y-=("-"===f?-1:1)*(60*Number(v)+Number(d));var T=new Date(Date.UTC(l,g,w,m,y,_,A));if(S(T.getTime()))throw new p("The given value could not be parsed as a valid Date");return T}}function CF(t){if(t){var n=/(\d+)-(\d+)/.exec(t);if(n)return[DF(n[1]),DF(n[2])]}}function NF(t){if(void 0!==t){if(!S(Number(t)))try{return ir.fromString(t,!0)}catch(t){}throw new p("The given value could not be parsed as a valid unsigned long")}}function DF(t){if(void 0!==t){var n=Number(t);if(!S(n))return n;throw new p("The given value could not be parsed as a valid Number")}}function PF(t){if(void 0!==t){var n=t.split("/"),i=Number(n[0]),r=Number(n[1]||1);if(!S(i)&&!S(r))return new TF(i,r);throw new p("The given value could not be parsed as a valid frame rate")}}function xF(t){if(void 0!==t){if(SF.test(t))return"true"===t.toLowerCase();if(!S(A(t)))return Boolean(A(t));throw new p("The given value could not be parsed as a valid Boolean.")}}function LF(t){return{Xu:t.zx,mwt:xF(t.qx("availabilityTimeComplete")),gwt:DF(t.qx("availabilityTimeOffset"))}}function MF(t){return t.map(LF)}function OF(t){var n,i=zF(t),r=function(t,n,i,r){var e=t.Yx(i,n);return void 0===e&&(e=t.qx(r+":"+n)),e}(t,"default_KID","urn:mpeg:cenc:2013","cenc"),e=_y(t,"pssh","urn:mpeg:cenc:2013","cenc")[0];if(void 0!==e&&(n=Fc(e.zx)),!n){var u=_y(t,"pro","urn:microsoft:playready","mspr")[0];void 0!==u&&(n=function(t){var n=ba(t.zx),i=new E([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),r=n.length,e=12+i.length+4+r,u=new ArrayBuffer(e),s=new E(u),o=new DataView(u),a=new Rc;qa(o,a,e),qa(o,a,1886614376),qa(o,a,0),Xa(o,a,i),qa(o,a,r),Xa(o,a,n),!1;return s.buffer}(u))}return{aU:r,l9:n,c9:i.c9,Mx:i.Mx}}function BF(t){return{pwt:t.qx("sourceURL"),_ut:CF(t.qx("range"))}}function VF(t,n){var i=t.qx("d"),r=t.qx("t"),e=DF(t.qx("r"));n.push({ct:i,WO:r,wwt:e})}function FF(t){return{Qut:t.qx("index"),ywt:CF(t.qx("indexRange")),AN:t.qx("media"),bwt:CF(t.qx("mediaRange"))}}function UF(t){var n=ZF(t),i=function(t){var n=t.map(FF);return n.length>0?n:void 0}(t.Wx("SegmentURL"));return ns({},n,{Awt:i,Swt:t.qx("xlink:href"),Twt:t.qx("xlink:actuate")})}function WF(t){var n=xF(t.qx("availabilityTimeComplete")),i=DF(t.qx("availabilityTimeOffset")),r=CF(t.qx("indexRange")),e=xF(t.qx("indexRangeExact")),u=t.Wx("Initialization");if(u.length>1)throw new p("The provided MPEG-DASH document's "+t.Ux+" element can not have more than one Initialization element.");var s=1===u.length?BF(u[0]):void 0,o=NF(t.qx("presentationTimeOffset")),a=t.Wx("RepresentationIndex");if(a.length>1)throw new p("The provided MPEG-DASH document's "+t.Ux+" element can not have more than one RepresentationIndex element.");return{mwt:n,gwt:i,ywt:r,kwt:e,Ewt:s,xwt:o,Rwt:1===a.length?BF(a[0]):void 0,Iwt:IF(t.qx("timeShiftBufferDepth")),mN:DF(t.qx("timescale"))}}function ZF(t){var n=WF(t),i=t.Wx("BitstreamSwitching"),r=i.length>0?BF(i[0]):void 0,e=DF(t.qx("duration")),u=t.Wx("SegmentTimeline");if(u.length>1)throw new p("The provided MPEG-DASH document's "+t.Ux+" element can not have more than one SegmentTimeline element.");var s=1===u.length?function(t){for(var n=[],i=t.Wx("S"),r=0;r<i.length;r++)VF(i[r],n);return n}(u[0]):void 0;return ns({},n,{Cwt:r,ct:e,Zot:s,Pwt:DF(t.qx("startNumber")),Dwt:DF(t.qx("endNumber"))})}function XF(t){return{Nwt:function(t){if(t){var n=t.split(/\s/);return n.length>1?(n.length=2,n.map(DF)):1===n.length?n.map(DF)[0]:void 0}}(t.qx("audioSamplingRate")),Jrt:t.qx("codecs"),Mwt:xF(t.qx("codingDependency")),TG:function(t){if(0!==t.length)return t.map(OF)}(t.Wx("ContentProtection")),Lwt:function(t){return t.map(YF)}(t.Wx("EssentialProperty")),Bwt:function(t){return t.map(jF)}(t.Wx("SupplementalProperty")),oft:PF(t.qx("frameRate")),Ti:DF(t.qx("height")),Owt:DF(t.qx("maxPlayoutRate")),Fwt:DF(t.qx("maximumSAPPeriod")),jq:t.qx("mimeType"),Vwt:t.qx("profiles"),Wwt:t.qx("sar"),Uwt:function(t){switch(t){case AF.dwt:case AF.fwt:case AF.iE:return t;default:return}}(t.qx("scanType")),Gwt:t.qx("segmentProfiles"),Hwt:DF(t.qx("startWithSAP")),ji:DF(t.qx("width"))}}function GF(t){var n=MF(t.Wx("BaseURL")),i=t.Wx("SegmentBase");if(i.length>1)throw new p("The provided MPEG-DASH document's "+t.Cx+" element can not have more than one SegmentBase element.");var r=1===i.length?WF(i[0]):void 0,e=function(t){var n=t.map(UF);return n.length>0?n:void 0}(t.Wx("SegmentList")),u=t.Wx("SegmentTemplate");if(u.length>1)throw new p("The provided MPEG-DASH document's "+t.Cx+" element can not have more than one SegmentTemplate element.");var s=1===u.length?function(t){return ns({},ZF(t),{Zwt:t.qx("bitstreamSwitching"),Xwt:t.qx("index"),zwt:t.qx("initialization"),qwt:t.qx("media")})}(u[0]):void 0;return{Ywt:n,Kwt:r,Qwt:e,Jwt:s}}function HF(t){var n=XF(t),i=GF(t),r=DF(t.qx("bandwidth")),e=t.qx("dependencyId"),u=t.qx("id"),s=t.qx("mediaStreamStructureId"),o=DF(t.qx("qualityRanking"));if(t.Wx("SegmentBase").length>1)throw new p("The provided MPEG-DASH document's Representation element can not have more than one SegmentBase element.");return ns({},n,i,{bG:r,$wt:e,o:u,tyt:s,eyt:o})}function zF(t){return{c9:t.qx("schemeIdUri"),Mx:t.qx("value")}}function YF(t){return zF(t)}function jF(t){return zF(t)}function KF(t){return zF(t)}function qF(t){return zF(t)}function JF(t){var n,i=XF(t),r=GF(t),e=function(t){return t.map(qF)}(t.Wx("Accessibility")),u=xF(t.qx("bitstreamSwitching")),s=t.qx("contentType"),o=DF(t.qx("group")),a=DF(t.qx("id")),c=(null==(n=t.Wx("Label")[0])?void 0:n.zx)||"",h=t.qx("lang"),f=DF(t.qx("maxBandwidth")),v=PF(t.qx("maxFrameRate")),d=DF(t.qx("maxHeight")),l=DF(t.qx("maxWidth")),g=DF(t.qx("minBandwidth")),w=PF(t.qx("minFrameRate")),m=DF(t.qx("minHeight")),y=DF(t.qx("minWidth")),_=t.qx("par"),b=function(t){return t.map(HF)}(t.Wx("Representation"));if(0===b.length)throw new p("The provided MPEG-DASH document has an AdaptationSet with no valid Representation's");var k,A=function(t){return t.map(KF)}(t.Wx("Role")),T=xF(t.qx("segmentAlignment"))||!1,S=DF(t.qx("selectionPriority")),E=S||1,I=xF(t.qx("subsegmentAlignment"))||!1;try{k=DF(t.qx("subsegmentStartsWithSAP"))}catch(t){}return ns({},i,r,{Rdt:e,Cwt:u,Mk:s,Odt:o,o:a,Ch:c,gs:h,iyt:f,syt:v,nyt:d,ryt:l,oyt:g,hyt:w,ayt:m,uyt:y,cyt:_,Jat:b,vft:A,lyt:T,UH:E,dyt:I,fyt:k,_yt:t.qx("xlink:actuate")||"onRequest",vyt:t.qx("xlink:href")})}function QF(t){var n=NF(t.qx("presentationTime"))||ir.ZERO,i=NF(t.qx("duration")),r=DF(t.qx("id")),e=function(t){for(var n=t.Xx,i={},r=0;r<n.length;r++)i[n[r].l]=n[r].Mx;return i}(t),u=t.zx;return{gL:n,ct:i,o:r,Xx:e,Kk:""!==u.trim()?u:t.qx("messageData")||""}}function $F(t){return{vyt:t.qx("xlink:href"),_yt:t.qx("xlink:actuate"),c9:t.qx("schemeIdUri"),Mx:t.qx("value"),mN:DF(t.qx("timescale")),xwt:NF(t.qx("presentationTimeOffset")),Qq:t.Wx("Event").map(QF)}}function tU(t){var n=GF(t),i=t.Wx("AssetIdentifier");if(i.length>1)throw new p("The provided MPEG-DASH document's Period element can not have more than one AssetIdentifier element.");var r=1===i.length?function(t){return zF(t)}(i[0]):void 0,e=function(t){return t.map(JF)}(t.Wx("AdaptationSet")),u=xF(t.qx("bitstreamSwitching")),s=IF(t.qx("duration")),o=function(t){return t.map($F)}(t.Wx("EventStream")),a=t.qx("id"),c=IF(t.qx("start")),h=(t.Wx("Subset"),t.qx("xlink:href"));return ns({},n,{gft:e,myt:r,Cwt:u,ct:s,gyt:o,o:a,Sn:c,_yt:t.qx("xlink:actuate"),vyt:h})}function nU(t){var n=t.qx("schemeIdUri");if(n)return{c9:n,Mx:t.qx("value")}}function iU(t,n){var i=RF(t.qx("availabilityEndTime")),r=RF(t.qx("availabilityStartTime")),e=MF(t.Wx("BaseURL")),u=t.qx("id"),s=function(t){return t.map((function(t){return""+t.zx}))}(t.Wx("Location")),o=IF(t.qx("maxSegmentDuration")),a=IF(t.qx("maxSubsegmentDuration")),c=IF(t.qx("mediaPresentationDuration")),h=(t.Wx("Metrics"),IF(t.qx("minBufferTime")));if(!h)throw new p("The provided MPEG-DASH document's MPD element does not have the required 'minimumBufferTime' attribute.");var f=IF(t.qx("minimumUpdatePeriod")),v=function(t){return t.map((function(t){return tU(t)}))}(t.Wx("Period"));if(!v.length)throw new p("The provided MPEG-DASH document's MPD element does not have the required 'Period' element.");var d=t.qx("profiles");if(!d)throw new p("The provided MPEG-DASH document's MPD element does not have the required 'profiles' attribute.");var l=RF(t.qx("publishTime")),g=IF(t.qx("suggestedPresentationDelay")),w=IF(t.qx("timeShiftBufferDepth")),m=function(t){switch(t){case BB.pW:case BB.wW:return t;default:return}}(t.qx("type")),y=function(t){for(var n=[],i=0;i<t.length;i++){var r=nU(t[i]);r&&n.push(r)}return n}(t.Wx("UTCTiming")),_=function(t){if(0===t.length)return;var n=t[0],i=n.Wx("Latency");if(0===i.length)return;var r=function(t){var n=t[0],i=DF(n.qx("target"));if(void 0===i)return;var r=DF(n.qx("min")),e=DF(n.qx("max"));return{pyt:i,cV:r,uV:e}}(i);if(void 0===r)return;var e=function(t){if(0===t.length)return;var n=t[0],i=DF(n.qx("max")),r=DF(n.qx("min"));return{cV:r,uV:i}}(n.Wx("PlaybackRate"));return{wyt:r,QR:e}}(t.Wx("ServiceDescription"));return{yyt:i,byt:r,Ywt:e,o:u,Ayt:s,Syt:n,Tyt:o,kyt:a,Eyt:c,xyt:h,Ryt:f,Gpt:v,Vwt:d,Iyt:l,Cyt:g,Iwt:w,Tw:m,Pyt:y,Dyt:_}}var rU=function(){function t(){}return t.prototype.Nyt=function(t,n){return function(t,n){if(!t)throw new p("The provided MPEG-DASH document does not contain a valid MPD root element.");return iU(t,n)}(Kn.Ix(t).$x,n)},t}();function eU(t){return{get bandwidth(){return t.bG},get codecs(){return t.Jrt},get id(){return t.o},get uid(){return t.IC},get name(){return t.Ch},get averageBandwidth(){return t.Myt},get label(){return t.Ch},set label(n){t.Ch=Vg(n)},get available(){return t.trt},get score(){return t.Lyt},addEventListener:function(n,i){t.bn(n,i)},removeEventListener:function(n,i){t.vn(n,i)}}}function uU(t){return Rg(eU(t),{get height(){return t.Ti},get width(){return t.ji},get frameRate(){return t.oft},get firstFrame(){return t.Byt}})}function sU(t){return Rg(eU(t),{get audioSamplingRate(){return t.Nwt}})}F(),Tt(),Dt(),F(),Tt(),Gt(),Dt(),Rt(),Ut(),qt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt(),F(),Tt(),F(),Tt(),Rt();var oU=function(t){function n(n){var i;return(i=t.call(this,"update")||this).quality=n,i}return It(n,t),n}(sa),aU=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).o=n,s.bG=i,s.Jrt=r,s.Fyt=u,s.IC=gw(),s.CO=e||"",s.Oyt=!0,s}It(n,t);var i=n.prototype;return i.aW=function(){this.Oyt=!1,this._o(new oU(this.wa))},i.hW=function(){this.Oyt=!0,this._o(new oU(this.wa))},Nt(n,[{key:"Ch",get:function(){return this.CO},set:function(t){this.CO!==t&&(this.CO=t,this._o(new oU(this.wa)))}},{key:"Myt",get:function(){}},{key:"trt",get:function(){return this.Oyt}},{key:"Lyt",get:function(){}}]),n}(ra),cU=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return void 0===c&&(c=0),(h=t.call(this,n,i,r,e,u)||this).oft=s,h.ji=o,h.Ti=a,h.Byt=c,h.eu=void 0,h}return It(n,t),Nt(n,[{key:"wa",get:function(){return this.eu||(this.eu=uU(this)),this.eu}}]),n}(aU),hU=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n,i,r,e,u)||this).Nwt=s,o.eu=void 0,o}return It(n,t),Nt(n,[{key:"wa",get:function(){return this.eu||(this.eu=sU(this)),this.eu}}]),n}(aU);F(),Tt(),F(),Tt(),Dt(),Rt();var fU=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Gyt=function(t){n._o(t)},n}return It(n,t),Nt(n,[{key:"Vyt",get:function(){var t=this.Wyt();return null==t?void 0:t.Sn}},{key:"Uyt",get:function(){var t=this.Wyt();return null==t?void 0:t.Tn}}]),n}(ra),vU=function(t){function n(n,i){var r;if((r=t.call(this)||this).eu=void 0,r.Xyt=void 0,r.Kyt=!1,r.jyt=!1,r.Hat=n,r.Hyt=i,r.Hyt.bn(aO.fat,r.Gyt),r.Tw===qg.mE){var e,u,s=null!=(u=null==(e=r.oft)?void 0:e._F())?u:NaN;r.qyt=new cU(r.o,r.bG,r.gp,"","",s,r.ji,r.Ti)}else r.Tw===qg.vE?r.qyt=new hU(r.o,r.bG,r.gp,"","",r.Nwt):r.qyt=void 0;return r}It(n,t);var i=n.prototype;return i.Alt=function(t){var n=SO(t)?this.Hyt.Qyt(t):this.Hyt.Alt(t);return{Xu:n.Xu,_ut:n._ut,xE:this.vdt.xE}},i.Jyt=function(){return this.Hyt.Jyt()},i.Wyt=function(){return this.Hyt.Wyt()},i.$yt=function(){return this.Hyt.$yt()},i.dlt=function(t){return this.Hyt.dlt(t)},i._lt=function(t,n,i){return this.Hyt._lt(t,this.vdt.xE,n,i)},i.sdt=function(t){return SO(t)?this.Zot.tbt(t,this.Hyt):this.Zot.sdt(t)},i.nlt=function(t){return SO(t)?this.Zot.ebt(t,this.Hyt):this.Zot.nlt(t)},i.yn=function(){this.Hyt.vn(aO.fat,this.Gyt)},Nt(n,[{key:"Act",get:function(){return this.Hat}},{key:"Nwt",get:function(){var t;return null!=(t=this.Hyt.Kk.Nwt)?t:this.Act.Nwt}},{key:"bG",get:function(){return this.Hyt.Kk.bG||0}},{key:"Jrt",get:function(){var t=this.Hyt.Kk;return t.Jrt?[t.Jrt]:this.Act.Jrt}},{key:"Zyt",get:function(){var t=this.Hyt.Kk;return t.Jrt?[t.Jrt]:[]}},{key:"gp",get:function(){return this.Hyt.Kk.Jrt||this.Act.gp}},{key:"Mwt",get:function(){return this.Hyt.Kk.Mwt||this.Act.Mwt}},{key:"TG",get:function(){return this.Hyt.Kk.TG||this.Act.TG}},{key:"Mk",get:function(){return this.jq+'; codecs="'+this.gp+'"'}},{key:"Lwt",get:function(){var t=this.Hyt.Kk;return t.Lwt.length?t.Lwt:this.Act.Lwt}},{key:"wa",get:function(){return this.eu||(this.eu=function(t){return{get id(){return t.o},get type(){return t.Tw},get bandwidth(){return t.bG},get width(){return t.ji},get height(){return t.Ti},get frameRate(){var n,i;return null!=(i=null==(n=t.oft)?void 0:n._F())?i:NaN},get audioSamplingRate(){return t.Nwt}}}(this))}},{key:"oft",get:function(){var t;return null!=(t=this.Hyt.Kk.oft)?t:this.Act.oft}},{key:"Ti",get:function(){return this.Hyt.Kk.Ti||this.Act.Ti}},{key:"o",get:function(){return this.Hyt.Kk.o||""}},{key:"wdt",get:function(){return this.Xyt},set:function(t){this.Xyt=t}},{key:"pdt",get:function(){var t=this.Hyt.zyt();if(t)return{Xu:t.Xu,_ut:t._ut,xE:this.vdt.xE}}},{key:"Owt",get:function(){return this.Hyt.Kk.Owt||this.Act.Owt||1}},{key:"Fwt",get:function(){return this.Hyt.Kk.Fwt||this.Act.Fwt}},{key:"vdt",get:function(){return this.rlt.vdt}},{key:"jq",get:function(){return this.Hyt.Kk.jq||this.Act.jq}},{key:"rlt",get:function(){return this.Act.rlt}},{key:"Vwt",get:function(){return this.Hyt.Kk.Vwt||this.Act.Vwt}},{key:"pat",get:function(){return this.qyt}},{key:"Wwt",get:function(){return this.Hyt.Kk.Wwt||this.Act.Wwt}},{key:"Uwt",get:function(){return this.Hyt.Kk.Uwt||this.Act.Uwt}},{key:"Yyt",get:function(){return this.Hyt.Yyt}},{key:"Gwt",get:function(){return this.Hyt.Kk.Gwt||this.Act.Gwt}},{key:"Zot",get:function(){return this.Hyt.Zot}},{key:"Hwt",get:function(){return this.Hyt.Kk.Hwt||this.Act.Hwt}},{key:"Tw",get:function(){var t=this.jq.split("/")[0];return"application"===t||"text"===t||np(this.jq,this.Jrt)?qg.Tk:"video"===t?qg.mE:"audio"===t?qg.vE:"image"===t?qg.gE:qg.iE}},{key:"ji",get:function(){return this.Hyt.Kk.ji||this.Act.ji}},{key:"clt",get:function(){return this.Kyt},set:function(t){this.Kyt=t}},{key:"qdt",get:function(){return this.jyt},set:function(t){this.jyt=t}}]),n}(fU),dU=function(t){function n(n,i){var r;return(r=t.call(this)||this).Gdt=[],r.Dpt=n,r.Hyt=i,r.Hyt.bn(aO.fat,r.Gyt),r}It(n,t);var i=n.prototype;return i.ir=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return 0!==i.Gdt.length?[3,2]:(r=i.Hyt.Jat.map((function(r){return i.sbt(r,t,n)})),[4,et.all(r)]);case 1:i.Gdt=e.sent().filter(Yn),e.label=2;case 2:return i.nbt(),[2]}}))}))()},i.sbt=function(t,n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){switch(s.label){case 0:return e=new vU(r,t),[4,n(e)];case 1:return u=s.sent(),Vo(i),u?[2,e]:[2,void 0]}}))}))()},i.nbt=function(){if(!this.Gdt.length)throw new p("Detected an AdaptationSet without any supported Representations.")},i.Wyt=function(){return this.Hyt.Wyt()},i.$yt=function(){return this.Hyt.$yt()},i.yn=function(){this.Hyt.vn(aO.fat,this.Gyt);for(var t=0,n=this.Gdt;t<n.length;t++){n[t].yn()}bo(this.Gdt)},Nt(n,[{key:"Rdt",get:function(){return this.Hyt.Kk.Rdt}},{key:"Nwt",get:function(){var t;return null!=(t=this.Hyt.Kk.Nwt)?t:-1}},{key:"Jrt",get:function(){if(this.Hyt.Kk.Jrt)return[this.Hyt.Kk.Jrt];for(var t=[],n=0,i=this.Jat;n<i.length;n++){var r=i[n];r.Zyt.length&&-1===t.indexOf(r.gp)&&t.push(r.gp)}return t}},{key:"gp",get:function(){return this.Jrt.join()}},{key:"Mwt",get:function(){return this.Hyt.Kk.Mwt}},{key:"TG",get:function(){return this.Hyt.Kk.TG}},{key:"Mk",get:function(){return this.jq+'; codecs="'+this.gp+'"'}},{key:"Lwt",get:function(){return this.Hyt.Lwt}},{key:"Bwt",get:function(){return this.Hyt.Bwt}},{key:"oft",get:function(){return this.Hyt.Kk.oft}},{key:"Odt",get:function(){return this.Hyt.Kk.Odt}},{key:"Ti",get:function(){return this.Hyt.Kk.Ti||0}},{key:"o",get:function(){return this.Hyt.Kk.o}},{key:"Ch",get:function(){return this.Hyt.Kk.Ch||""}},{key:"Owt",get:function(){return this.Hyt.Kk.Owt}},{key:"Fwt",get:function(){return this.Hyt.Kk.Fwt}},{key:"vdt",get:function(){return this.rlt.vdt}},{key:"jq",get:function(){return this.Hyt.Kk.jq||this.Gdt[0].jq}},{key:"rlt",get:function(){return this.Dpt}},{key:"Vwt",get:function(){return this.Hyt.Kk.Vwt}},{key:"Jat",get:function(){return this.Gdt}},{key:"vft",get:function(){return this.Hyt.Kk.vft||[]}},{key:"Wwt",get:function(){return this.Hyt.Kk.Wwt}},{key:"Uwt",get:function(){return this.Hyt.Kk.Uwt}},{key:"Gwt",get:function(){return this.Hyt.Kk.Gwt}},{key:"UH",get:function(){return this.Hyt.Kk.UH}},{key:"Hwt",get:function(){return this.Hyt.Kk.Hwt}},{key:"Tw",get:function(){var t=(this.Hyt.Kk.Mk||this.jq).split("/")[0];return"application"===t||"text"===t||"subtitle"===t||np(this.jq,this.Jrt)?qg.Tk:"video"===t?qg.mE:"audio"===t?qg.vE:"image"===t?qg.gE:qg.iE}},{key:"ji",get:function(){return this.Hyt.Kk.ji||0}},{key:"Qtt",get:function(){return this.Hyt.Kk.gs||""}},{key:"uft",get:function(){return this.Vyt}},{key:"aft",get:function(){var t=this.uft,n=this.Uyt;if(void 0!==t&&void 0!==n){var i=k.min(n,this.vdt.ibt);return k.max(t,i)}}}]),n}(fU);function lU(t,n){for(var i=[],r=0;r<n.length;r++)for(var e=n[r],u=0;u<t.length;u++){var s=t[u];i.push(Kn.Ih(s,e))}return i}F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt(),F(),Tt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Rt(),F(),Tt(),Dt();var gU=function(){function t(t,n){this.Dpt=t,this.Sbt=n,this.NA=n.mN,this.bbt=n.gwt,this.Ibt=n.xwt}var n=t.prototype;return n.rbt=function(t){var n=t-this.Dpt.Sn;if(!(n<0||n>=this.Dpt.ct)){var i=this.obt();return void 0!==i&&or(i,n,1e-5)?this.hbt():this.abt(n)}},n.llt=function(t){var n=t-this.Dpt.Sn;if(!(n<0))return this.ubt(k.min(n,this.Dpt.ct))},n.hbt=function(){return this.cbt(0)},n.lbt=function(){var t=this.Dpt.ct;if(isFinite(t))return this.ubt(t)},n.Jyt=function(t){if(this.Dpt._bt.Tw===BB.wW){if(this.dbt){var n=this.hbt(),i=this.vbt();if(void 0===n||void 0===i)return;return{mbt:t,gbt:n,pbt:i}}var r=this.wbt(t);if(!r)return;return{mbt:t,gbt:this.ybt(t),pbt:r}}var e=this.hbt();if(e)return{mbt:t,gbt:e,pbt:this.lbt()}},n.$yt=function(t,n){if(n){var i=this.mdt(n.gbt),r=this.wlt(n.pbt);if(r){var e=this.gdt(r);(!i||e.getTime()<i.getTime())&&(i=e)}return i}var u=this.hbt();if(u){var s=this.gdt(u);if(t.getTime()<s.getTime())return s}var o=this.Dpt._bt.byt;return t.getTime()<o.getTime()?o:void 0},n.wbt=function(t){var n=(t.getTime()-this.Dpt._bt.byt.getTime())/1e3-this.Dpt.Sn+this.bbt,i=this.ubt(sr(n,0,this.Dpt.ct));if(i&&(i=this.Abt(i,t))){for(var r=this.wlt(i);r&&this.kdt(r,t);)i=r,r=this.wlt(i);return i}},n.ybt=function(t){var n,i=this.Sbt.Iwt;if(i){var r=(t.getTime()-this.Dpt._bt.byt.getTime())/1e3-this.Dpt.Sn-i.cwt();(n=this.ubt(sr(r,0,this.Dpt.ct)))||(n=this.hbt())}else n=this.hbt();if(n&&(n=this.Abt(n,t))){for(var e=this.plt(n);e&&this.kdt(e,t);)n=e,e=this.plt(n);return n}},n.Abt=function(t,n){for(var i=t;i&&this.gdt(i).getTime()>n.getTime();)i=this.plt(i);if(i){var r=this.mdt(i);if(r&&r.getTime()<=n.getTime()){var e=this.plt(i);for(e&&this.kdt(e,n)&&(i=e);i;){if(this.gdt(i).getTime()>n.getTime())return;if(this.kdt(i,n))break;i=this.wlt(i)}if(!i)return}return i}},n.kdt=function(t,n){if(this.dbt)return!0;if(this.gdt(t).getTime()>n.getTime())return!1;var i=this.mdt(t);return!(i&&n.getTime()>=i.getTime())},n.Tbt=function(t,n){if(this.dbt)return!0;if(this.kbt(t).getTime()>n.getTime())return!1;var i=this.mdt(t);return!(i&&n.getTime()>=i.getTime())},n.Ebt=function(t,n,i){var r=_r(n,this.NA)+this.Dpt.Sn;return{Qut:t,xbt:n,WO:r,ct:i,UO:r+i}},n.kbt=function(t){return this.Dpt._bt.Tw===BB.wW?new Date(this.Dpt._bt.byt.getTime()+1e3*(t.WO+t.ct)):this.Dpt._bt.byt},n.gdt=function(t){var n=this.kbt(t);return this.Dpt._bt.Tw===BB.wW?new Date(n.getTime()-1e3*this.bbt):n},n.mdt=function(t){var n=1/0;if(this.Dpt._bt.Tw===BB.wW){var i=this.Sbt.Iwt;i&&(n=this.kbt(t).getTime()+1e3*t.ct+i.lwt())}var r=this.Dpt._bt.yyt;return r&&(n=k.min(n,r.getTime())),n===1/0?void 0:new Date(n)},n.Rbt=function(t,n){return t.Qut+n},n.dlt=function(t){return!1},n._lt=function(t,n,i,r,e){var u=this.Cbt(t);if(!u)return et.reject(new p("Invalid segment"));var s=this.Pbt(u.Qut,n);return s?et.resolve(s):Wo(this.Dbt(u.Qut,n,i,r),e)},n.Pbt=function(t,n){},n.Dbt=function(t,n,i,r){return et.reject(new p("Not supported"))},n.plt=function(t){var n=this.Cbt(t);if(n)return this.cbt(n.Qut-1)},n.wlt=function(t){var n=this.Cbt(t);if(n)return this.cbt(n.Qut+1)},n.Cbt=function(t){var n=this.cbt(t.Qut);if(n&&n.WO===t.WO)return n;var i=this.rbt(t.WO);return i&&i.WO===t.WO?i:void 0},n.Nbt=function(t,n){var i=this.vlt(t);if(i&&this.dlt(i.Qut)){var r=this.Pbt(i.Qut,n);if(r)return r.Nbt(t)}},n.vlt=function(t){return this.cbt(t.Mbt)},n.sdt=function(t){var n=this.Cbt(t);return!!n&&0===n.Qut},n.tbt=function(t,n){var i=this.Nbt(t,n);return!!i&&0===i.jut},n.nlt=function(t){var n=this.Cbt(t);if(!n)return!1;var i=this.lbt();return!!i&&n.Qut===i.Qut},n.ebt=function(t,n){var i=this.Nbt(t,n);if(!i)return!1;var r=this.lbt();if(!r||i.Mbt!==r.Qut)return!1;var e=this.Pbt(i.Mbt,n);return i.jut+1===e.V},n.Xw=function(){},Nt(t,[{key:"dbt",get:function(){return this.Dpt._bt.fbt&&void 0!==this.vbt()}},{key:"BV",get:function(){return this.Dpt.Sn-_r(this.Ibt,this.NA)}},{key:"xwt",get:function(){return _r(this.Ibt,this.NA)}}]),t}(),wU=function(t){function n(n,i){var r;r=t.call(this,i,n)||this;var e=n.Wbt,u=n.ct;if(void 0===e||void 0===u)throw new p("MultipleSegmentBase does not have a segment duration specified.");return r.Lbt=e,r.Obt=u,r}It(n,t);var i=n.prototype;return i.cbt=function(t){if(!(t<0)){var n=this.Lbt.multiply(t),i=_r(n,this.NA),r=this.Dpt.ct;if(!(i>=r)){var e=this.Bbt();if(void 0!==e){if(t>e)return;if(t===e&&isFinite(r))return this.Ebt(t,n,r-i)}return isFinite(r)&&i+this.Obt>r?this.Ebt(t,n,r-i):this.Ebt(t,n,this.Obt)}}},i.obt=function(){return 0},i.abt=function(t){var n=k.floor(t/this.Obt),i=this.Bbt();return void 0!==i&&n>=i?this.cbt(i):this.cbt(n)},i.ubt=function(t){if(t>=this.Dpt.ct){var n=k.ceil(this.Dpt.ct/this.Obt)-1,i=this.Bbt();return void 0!==i&&n>=i?this.cbt(i):this.cbt(n)}return this.abt(t)},i.Bbt=function(){var t,n=this.Sbt.Dwt;if(void 0!==n)return n-(null!=(t=this.Sbt.Pwt)?t:1);var i=this.Sbt.Fbt;return void 0!==i&&i>0?i-1:void 0},i.vbt=function(){if(isFinite(this.Dpt.ct))return this.lbt()},i.Vbt=function(t,n){return this.Lbt.multiply(t.Qut+(n-1))},i.ir=function(){},n}(gU);function mU(t,n,i){var r=n.length;if(0===r)return-1;for(var e=0,u=r-1,s=t.Ubt(n[e]),o=t.Gbt(n[u]);e<=u&&t.Hbt(s,i)<=0&&t.Hbt(i,o)<0;){var a=e+k.floor(t.Zbt(i,s,o)*(u-e)),c=n[a],h=t.Ubt(c),f=a+1<r?t.Ubt(n[a+1]):t.Gbt(c);if(t.Hbt(f,i)<=0)e=a+1,s=f;else{if(!(t.Hbt(i,h)<0))return a;u=a-1,o=h}}return-1}function yU(t,n){return mU(pU.Vg,t,n)}F(),Tt(),Rt(),F(),Tt(),Dt(),F(),Tt();var pU=function(){function t(){}var n=t.prototype;return n.Ubt=function(t){return t.WO},n.Gbt=function(t){return t.UO},n.Hbt=function(t,n){return t.compare(n)},n.Zbt=function(t,n,i){return t.subtract(n).toNumber()/i.subtract(n).toNumber()},Nt(t,null,[{key:"Vg",get:function(){return null!=this.Qrt||(this.Qrt=new t),this.Qrt}}]),t}(),_U=.01,bU=function(t){function n(n,i){var r;return(r=t.call(this,i,n)||this).Xbt=[],r.qbt=void 0,r.Cgt=ir.ZERO,r.ir(),r}It(n,t);var i=n.prototype;return i.cbt=function(t){if(!(t<0))return t<this.Xbt.length?this.Xbt[t].Zut:this.zbt(t-this.Xbt.length)},i.obt=function(){if(this.Xbt.length>0)return _r(this.Xbt[0].WO,this.NA)},i.abt=function(t){if(this.qbt&&_r(this.qbt.WO,this.NA)<=t){var n=_r(this.qbt.WO,this.NA),i=_r(this.qbt.ct,this.NA),r=k.floor((t-n)/i);return this.zbt(r)}if(this.Xbt.length>0&&or(t,_r(this.Xbt[0].WO,this.NA),1e-5))return this.Xbt[0].Zut;var e=yU(this.Xbt,ir.fromNumber(t*this.NA));return e<0?void 0:this.Xbt[e].Zut},i.ubt=function(t){if(!this.qbt&&this.Xbt.length>0){var n=this.Xbt[this.Xbt.length-1];if(function(t,n,i){return oo(t,n,i)>=0}(t,_r(n.UO,this.NA),1e-5))return n.Zut}var i=this.obt();return i&&t<i?this.Xbt[0].Zut:this.abt(t)},i.vbt=function(){return isFinite(this.Dpt.ct)?this.lbt():this.cbt(this.Xbt.length-1)},i.Vbt=function(t){return this.Ybt(t)},i.zbt=function(t){if(this.qbt){var n=this.qbt.WO,i=this.qbt.ct,r=n.add(i.multiply(t)),e=_r(r,this.NA),u=this.Dpt.ct;if(!(e>=u)){var s=this.Xbt.length+t,o=k.min(_r(i,this.NA),e+u);return this.Ebt(s,r,o)}}},i.Ybt=function(t){return t.xbt.add(this.Ibt)},i.ir=function(){var t=this.Sbt.Kk.Zot;if(!t)throw new p("MultipleSegmentBaseTO does not have a SegmentTimeline specified.");this.Kbt(t)},i.Kbt=function(t){var n=this.Ibt;this.jbt(t,n);var i=this.Qbt(t);this.Jbt(t,n,i.$bt,i.Mbt)},i.jbt=function(t,n){var i=this.Xbt;if(0===t.length)bo(i);else{for(var r=t[0],e=0,u=_r(r.WO?ir.fromString(r.WO,!1).subtract(n):ir.ZERO,this.NA);e<i.length&&_r(i[e].WO,this.NA)<u-_U;)e++;e>0&&i.splice(0,e)}},i.Qbt=function(t){for(var n=this.Xbt,i=this.Cgt,r=0,e=0;r<t.length&&e<n.length;){var u=t[r].wwt||0;if(u<0)break;var s=e+u;if(s>=n.length)break;if(n[s].WO.greaterThanOrEqual(i))break;if(n[e].Zut.Qut===e)e=s+1;else for(;e<=s;)n[e].Zut.Qut=e,e++;0,r++}return{$bt:r,Mbt:e}},i.Jbt=function(t,n,i,r){for(var e,u=this.Xbt,s=i,o=r;s<t.length;){var a=t[s],c=ir.fromString(a.ct,!1),h=a.wwt||0,f=void 0;if(a.WO){if(f=ir.fromString(a.WO,!1).subtract(n),o>0){var v=u[o-1];v.UO.greaterThan(f)&&(v.ct=f.subtract(v.WO),v.UO=v.WO.add(v.ct))}}else f=o>0?u[o-1].UO:ir.ZERO;if(h<0){if(s+1===t.length){e={WO:f,ct:c};break}for(var d=ir.fromString(t[s+1].WO,!1).subtract(n);f.lessThan(d);){var l=f.add(c);this.tAt(u,o,f,c,l),f=l,o++}}else for(var g=o+h;o<=g;){var w=f.add(c);this.tAt(u,o,f,c,w),f=w,o++}s++}o<u.length&&u.splice(o),u.length>0&&(this.Cgt=u[u.length-1].WO),this.qbt=e},i.tAt=function(t,n,i,r,e){if(n<t.length){var u=t[n];u.ct.equals(r)?u.Zut.Qut=n:t[n]={WO:i,ct:r,UO:e,Zut:this.Ebt(n,i,_r(r,this.NA))}}else t.push({WO:i,ct:r,UO:e,Zut:this.Ebt(n,i,_r(r,this.NA))})},n}(gU);F(),Tt(),Dt();var kU=function(){function t(t,n,i){this.iAt=void 0,this.nAt=void 0,this.rlt=t,this.eAt=n,this.kp=i}var n=t.prototype;return n.sAt=function(){if(this.nAt=this.rAt(),this.nAt)return this.nAt;if(this.eAt)return this.eAt.Zot;throw new p("Missing media segment information.")},n.zyt=function(t){var n=this.Ewt;if(n)return{Xu:(void 0!==n.pwt?Kn.Ih(n.pwt,t.Ywt[0]):t.Ywt[0]).href,_ut:n._ut};var i=this.ywt;return i?{Xu:t.Ywt[0].href,_ut:[0,i[0]-1]}:void 0},n.ir=function(t){this.kp=t,this.nAt&&this.nAt.ir()},n.Xw=function(){this.nAt&&(this.nAt.Xw(),this.nAt=void 0)},Nt(t,[{key:"Kk",get:function(){return this.kp}},{key:"gwt",get:function(){return this.kp&&void 0!==this.kp.gwt?this.kp.gwt:this.eAt?this.eAt.gwt:0}},{key:"xwt",get:function(){return this.kp&&void 0!==this.kp.xwt?this.kp.xwt:this.eAt?this.eAt.xwt:ir.ZERO}},{key:"Iwt",get:function(){return this.kp&&void 0!==this.kp.Iwt?this.kp.Iwt:this.eAt?this.eAt.Iwt:this.rlt._bt.Iwt}},{key:"mN",get:function(){return this.kp&&void 0!==this.kp.mN?this.kp.mN:this.eAt&&this.eAt.mN?this.eAt.mN:1}},{key:"ywt",get:function(){return this.kp&&void 0!==this.kp.ywt?this.kp.ywt:this.eAt?this.eAt.ywt:void 0}},{key:"Ewt",get:function(){return this.kp&&void 0!==this.kp.Ewt?this.kp.Ewt:this.eAt?this.eAt.Ewt:void 0}},{key:"Zot",get:function(){return this.iAt||(this.iAt=this.sAt()),this.iAt}}]),t}(),AU=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n.prototype.rAt=function(){return void 0!==this.kp.Zot?new bU(this,this.rlt):void 0!==this.kp.ct?new wU(this,this.rlt):void 0},Nt(n,[{key:"ct",get:function(){return void 0!==this.kp.ct?this.kp.ct/this.mN:this.eAt&&TU(this.eAt)?this.eAt.ct:void 0}},{key:"Wbt",get:function(){return void 0!==this.kp.ct?ir.fromNumber(this.kp.ct):this.eAt&&TU(this.eAt)?this.eAt.Wbt:void 0}},{key:"Pwt",get:function(){return void 0!==this.kp.Pwt?this.kp.Pwt:this.eAt&&TU(this.eAt)?this.eAt.Pwt:void 0}},{key:"Dwt",get:function(){return void 0!==this.kp.Dwt?this.kp.Dwt:this.eAt&&TU(this.eAt)?this.eAt.Dwt:void 0}}]),n}(kU);function TU(t){return t instanceof AU}F(),Tt();var SU=function(){function t(t){this.oAt=t}return t.prototype.Vb=function(t){return this.oAt.replace(/\$\$|\$(RepresentationID|Number|Bandwidth|Time)(?:%0(\d+)([diuxXo]))?\$/g,(function(n,i,r,e){if("$$"===n)return"$";var u=t[i];if(void 0===u)return n;if(void 0===r)return u.toString();var s=function(t,n){switch(n){case"d":case"i":case"u":return t.toString(10);case"x":return t.toString(16);case"X":return t.toString(16).toUpperCase();case"o":return t.toString(8);default:return}}(u,e);return void 0===s?n:s=Xs(s,Number(r),"0")}))},t}();var EU=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).hAt=r.zwt?new SU(r.zwt):void 0,e.aAt=r.qwt?new SU(r.qwt):void 0,e}It(n,t);var i=n.prototype;return i.zyt=function(n){var i=this.zwt;if(!i)return t.prototype.zyt.call(this,n);var r=i.Vb({Bandwidth:n.Kk.bG,RepresentationID:n.Kk.o});return{Xu:Kn.ew(r,n.Ywt[0])}},i.Alt=function(t,n){var i,r=null!=(i=n.Yyt.Pwt)?i:1,e=this.qwt.Vb({Bandwidth:n.Kk.bG,Number:n.Zot.Rbt(t,r),RepresentationID:n.Kk.o,Time:n.Zot.Vbt(t,r)});return{Xu:Kn.ew(e,n.Ywt[0])}},i.Qyt=function(t,n){},Nt(n,[{key:"zwt",get:function(){return this.hAt?this.hAt:this.eAt&&this.eAt instanceof n?this.eAt.zwt:void 0}},{key:"qwt",get:function(){return this.aAt?this.aAt:this.eAt&&this.eAt instanceof n?this.eAt.qwt:void 0}},{key:"Fbt",get:function(){}}]),n}(AU);F(),Tt(),Dt(),Rt();var IU=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.Alt=function(t,n){var i=this.Awt[t.Qut],r=n.Ywt[0];return{Xu:(i.AN?Kn.Ih(i.AN,r):r).href,_ut:i.bwt}},i.Qyt=function(t,n){},Nt(n,[{key:"Awt",get:function(){return void 0!==this.kp.Awt?this.kp.Awt:this.eAt&&this.eAt instanceof n?this.eAt.Awt:void 0}},{key:"Fbt",get:function(){var t;return null==(t=this.Awt)?void 0:t.length}}]),n}(AU);F(),Tt(),Dt(),Rt(),F(),Tt(),Gt(),Rt(),nn(),qt(),F(),Tt(),Dt(),Rt(),F(),Tt();var RU=function(){function t(){}return t.prototype.Nbt=function(t){var n=this.glt(t.jut);if(n&&n.WO===t.WO)return n;var i=this.uAt(t.WO);return i&&i.WO===t.WO?i:void 0},t}(),CU=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).Mbt=n,s.mN=i,s.fAt=r,s.xwt=e,s.cAt=u,s}It(n,t);var i=n.prototype;return i.glt=function(t){if(t>=0&&t<this.V)return this.lAt(this.cAt[t])},i.uAt=function(t){var n=this.dAt(t);if(this.cAt.length>0){var i=this.cAt[0];if(n<=_r(i.WO,this.mN))return this.lAt(i)}var r=yU(this.cAt,ir.fromNumber(n*this.mN));if(!(r<0))return this.lAt(this.cAt[r])},i.flt=function(t){var n=this.dAt(t);if(this.cAt.length>0){var i=this.cAt[this.cAt.length-1];if(n>=_r(i.UO,this.mN))return this.lAt(i)}return this.uAt(t)},i.lAt=function(t){var n=_r(t.WO,this.mN)-this.xwt,i=n+this.fAt,r=_r(t.ct,this.mN);return{Mbt:this.Mbt,jut:t.Qut,WO:i,xbt:ir.fromNumber(n*this.mN),ct:r,UO:i+r,_At:[t.vAt,t.mAt]}},i.dAt=function(t){return t-this.fAt+this.xwt},Nt(n,[{key:"V",get:function(){return this.cAt.length}}]),n}(RU);F(),Tt(),F(),Tt(),F(),Tt();var NU=function(){function t(t){this.Kk=t,this.SD=new Rc}var n=t.prototype;return n.Jmt=function(){return this.SD.nc<this.Kk.byteLength},n.gAt=function(){var n,i=this.pAt(),r=this.wAt(),e=this.SD.nc,u=this.Kk.byteLength,s=e+(n=t.yAt(r)?u-e:t.bAt(r))<=u?n:u-e,o=Za(this.Kk,this.SD,s);return new PU(i,bc(o))},n.pAt=function(){var t=this.wAt();if(t.length>7)throw new RangeError("Invalid EBML ID size");for(var n=0,i=0;i<t.length;i++)n=256*n+t[i];return n},n.wAt=function(){var t=Ua(this.Kk,this.SD.Ib());if(0===t)throw new RangeError("EBML variable sized integer is invalid");var n=8-(31-Ca(t));return Kn.Up(n<=8&&n>=1,"Incorrect log2 value"),Za(this.Kk,this.SD,n)},t.bAt=function(t){if(8===t.length&&224&t[1])throw new _("EBML variable sized integer is too large");for(var n=0,i=0;i<t.length;i++){var r=t[i];if(0===i)n=r&(1<<8-t.length)-1;else n=256*n+r}return n},t.yAt=function(t){for(var n=0;n<DU.length;n++){var i=DU[n];if(Lc(t,new E(i)))return!0}return!1},t}(),DU=[[255],[127,255],[63,255,255],[31,255,255,255],[15,255,255,255,255],[7,255,255,255,255,255],[3,255,255,255,255,255,255],[1,255,255,255,255,255,255,255]],PU=function(){function t(t,n){this.id=t,this.SAt=n}var n=t.prototype;return n.AAt=function(){return this.SAt.byteOffset},n.TAt=function(){return new NU(this.SAt)},n.kAt=function(){var t=this.SAt.byteLength;if(t>8)throw new RangeError("EMBL integer field size is too large");if(8===t&&224&this.SAt.getUint8(0))throw new RangeError("EMBL integer field value is too large");for(var n=0,i=0;i<t;i++){n=256*n+this.SAt.getUint8(i)}return n},n.SQ=function(){if(4===this.SAt.byteLength)return this.SAt.getFloat32(0);if(8===this.SAt.byteLength)return this.SAt.getFloat64(0);throw new RangeError("Invalid size for EMBL floating-point field")},t}();function xU(t,n){var i=function(t){var n=new NU(bc(t)),i=n.gAt();if(i.id!==MU)throw new _("Missing WebM EBML header");var r=n.gAt();if(r.id!==OU)throw new _("Missing WebM SegmentElement");var e=r.AAt(),u=function(t){var n,i=t.TAt();for(;i.Jmt();){var r=i.gAt();if(r.id===BU){n=r;break}}if(!n)throw new _("Missing WebM InfoElement");return function(t){var n,i=t.TAt(),r=1e6;for(;i.Jmt();){var e=i.gAt();e.id===VU?r=e.kAt():e.id===FU&&(n=e.SQ())}if(void 0===n)throw new _("Missing Duration in WebM InfoElement");var u=r/1e9,s=n*u;return{timecodeScale:u,duration:s}}(n)}(r);return{segmentOffset:e,timecodeScale:u.timecodeScale,duration:u.duration}}(n),r=new NU(bc(t)).gAt();if(r.id!==UU)throw new _("Missing WebM CuesElement");var e=function(t,n,i,r){var e,u,s=[],o=t.TAt();for(;o.Jmt();){var a=o.gAt();if(a.id===WU){var c=LU(a);if(c){var h=c.unscaledTime,f=n+c.relativeOffset;void 0!==e&&s.push({Qut:s.length,WO:e,ct:h.subtract(e),UO:h,vAt:u,mAt:f-1}),e=h,u=f}}}if(void 0!==e){0;var v=ir.fromNumber(r/i);s.push({Qut:s.length,WO:e,ct:v.subtract(e),UO:v,vAt:u,mAt:void 0})}return s}(r,i.segmentOffset,i.timecodeScale,i.duration);return{mN:k.round(1/i.timecodeScale),EAt:e}}function LU(t){var n=t.TAt(),i=n.gAt();if(i.id!==ZU)throw new _("Missing CueTime in WebM CuePointElement");var r=ir.fromNumber(i.kAt()),e=n.gAt();if(e.id!==XU)throw new _("Missing CueTrackPositions in WebM CuePointElement");for(var u=e.TAt(),s=0;u.Jmt();){var o=u.gAt();if(o.id===GU){s=o.kAt();break}}return{unscaledTime:r,relativeOffset:s}}var MU=440786851,OU=408125543,BU=357149030,VU=2807729,FU=17545,UU=475249515,WU=187,ZU=179,XU=183,GU=241,HU=function(t){function n(n,i){var r;return(r=t.call(this,i,n)||this).CAt=rs(),r.PAt=rs(),r.DAt=new Yo,r.IAt=n.ywt,r.xAt=r.Ebt(0,ir.ZERO,r.Dpt.ct),r}It(n,t);var i=n.prototype;return i.cbt=function(t){if(0===t)return this.xAt},i.obt=function(){return 0},i.abt=function(t){return this.xAt},i.ubt=function(t){return this.abt(t)},i.vbt=function(){return this.xAt},i.Vbt=function(t,n){return ir.ZERO},i.Jyt=function(t){var n=this.RAt(t);return n&&{mbt:t,gbt:n,pbt:n}},i.RAt=function(t){var n=this.xAt;return this.kdt(n,t)?n:void 0},i.wbt=function(t){return this.RAt(t)},i.ybt=function(t){return this.RAt(t)},i.ir=function(){},i.dlt=function(t){return 0===t&&void 0!==this.IAt},i.Pbt=function(t,n){var i=n.Ywt[0].href;return this.CAt.get(i)},i.Dbt=function(t,n,i,r){var e=n.Ywt[0].href,u=this.PAt.get(e);if(void 0===u){var s=n.jq,o=this.DAt.Uw;if(Pv(s))u=this.NAt(t,e,i,r,o);else{if(!xv(s))throw new id(td.MEDIA_NOT_SUPPORTED,"Unsupported MIME type for segment index: "+s);u=this.MAt(t,e,n,i,r,o)}this.PAt.set(e,u)}return u},i.NAt=function(t,n,i,r,e){var u=this;return Zt((function(){var s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return s=u.IAt,[4,r.Flt(n,s,i,e)];case 1:return o=c.sent(),a=u.LAt(t,o),u.CAt.set(n,a),[2,a]}}))}))()},i.LAt=function(t,n){var i=this.IAt,r=hy.GD(new DataView(n),new Rc);if(r.Tw!==iy.mD)throw new p("Invalid segment index");var e=gy.aN(r.Kk),u=function(t,n){for(var i=[],r=t.DL,e=n+t.NL.toNumber(),u=0,s=0,o=t.LL;s<o.length;s++){var a=o[s],c=a.xL,h=ir.fromNumber(a.ct),f=r.add(h);0===a.EL&&i.push({Qut:u++,WO:r,ct:h,UO:f,vAt:e,mAt:e+c-1}),e+=c,r=f}return i}(e,i[1]+1);return new CU(t,e.mN,this.Dpt.Sn,_r(this.Ibt,this.NA),u)},i.MAt=function(t,n,i,r,e,u){var s=this;return Zt((function(){var o,a,c,h,f,v,d,l;return Ht(this,(function(g){switch(g.label){case 0:return o=i.zyt(),a=s.IAt,c=e.Flt(o.Xu,o._ut,r,u),h=e.Flt(n,a,r,u),[4,et.all([c,h])];case 1:return f=tn.apply(void 0,[g.sent(),2]),v=f[0],d=f[1],l=s.BAt(t,d,v),s.CAt.set(n,l),[2,l]}}))}))()},i.BAt=function(t,n,i){var r=xU(new E(n),new E(i));return new CU(t,r.mN,this.Dpt.Sn,_r(this.Ibt,this.NA),r.EAt)},i.Xw=function(){t.prototype.Xw.call(this),this.DAt.jw()},n}(gU),zU=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.Alt=function(t,n){return{Xu:n.Ywt[0].href}},i.Qyt=function(t,n){return{Xu:n.Ywt[0].href,_ut:t._At}},i.rAt=function(){return new HU(this,this.rlt)},Nt(n,[{key:"Pwt",get:function(){}}]),n}(kU);F(),Tt(),Rt();var YU=function(t){function n(){return t.call(this,aO.fat)||this}return It(n,t),n}(sa);F(),Tt();var jU=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Sbt=void 0,e.XAt=1/0,e.UAt=void 0,e.sx=i,e.WAt(n,r),e}It(n,t);var i=n.prototype;return i.FAt=function(){var t,n;return null!=(n=this.Sbt)?n:null==(t=this.sx)?void 0:t.FAt()},i.VAt=function(t){var n=this.rlt,i=this.sx&&this.sx.FAt();this.kp.Jwt?this.Sbt=new EU(n,i,this.kp.Jwt):this.kp.Qwt?this.Sbt=new IU(n,i,this.kp.Qwt[0]):this.kp.Kwt?this.Sbt=new zU(n,i,this.kp.Kwt):t&&!i&&(this.Sbt=new zU(n,i,void 0))},i.WAt=function(t,n){this.kp=t,this.OAt=t.Ywt&&t.Ywt.length>0?lU(t.Ywt.map((function(t){return t.Xu})),n):n.slice(),this.Sbt&&(t.Jwt?this.Sbt.ir(t.Jwt):t.Qwt?this.Sbt.ir(t.Qwt[0]):t.Kwt&&this.Sbt.ir(t.Kwt))},i.Wyt=function(){var t;return null==(t=this.UAt)?void 0:t.GAt},i.$yt=function(){var t;return null==(t=this.UAt)?void 0:t.HAt},i.ZAt=function(t){var n=this.XAt,i=this.rlt.ct,r=this.UAt,e=this.zAt(t);r&&or(i,n,1e-5)&&QU(r,e)||(this.XAt=i,this.UAt=e,this._o(new YU))},i.Xw=function(){this.Ro(),this.Sbt&&(this.Sbt.Xw(),this.Sbt=void 0)},Nt(n,[{key:"Kk",get:function(){return this.kp}},{key:"Ywt",get:function(){return this.OAt}}]),n}(ra);function KU(t){for(var n,i=0;i<t.length;i++){var r=t[i].Wyt();if(r){n=r.Sn;break}}if(void 0!==n){for(var e,u=t.length-1;u>=0;u--){var s=t[u].Wyt();if(s){e=s.Tn;break}}if(void 0!==e)return{Sn:n,Tn:e}}}function qU(t){if(0!==t.length){for(var n=0,i=1/0,r=0;r<t.length;r++){var e=t[r].Wyt();if(!e)return;if((n=k.max(n,e.Sn))>=(i=k.min(i,e.Tn)))return}return{Sn:n,Tn:i}}}function JU(t){for(var n,i=0;i<t.length;i++){var r=t[i].$yt();r&&(!n||r.getTime()<n.getTime())&&(n=r)}return n}function QU(t,n){return function(t,n){return t&&n?t.getTime()===n.getTime():t===n}(t.HAt,n.HAt)&&function(t,n){return t&&n?or(t.Sn,n.Sn,1e-5)&&or(t.Tn,n.Tn,1e-5):t===n}(t.GAt,n.GAt)}var $U=function(t){function n(n,i,r){var e;(e=t.call(this)||this).Dpt=n,e.zS=i,e.qAt=r.slice();for(var u=0;u<r.length;u++){r[u].bn(aO.fat,e.Gyt)}return e}It(n,t);var i=n.prototype;return i.Wyt=function(){return qU(this.qAt)},i.$yt=function(){for(var t,n=0,i=this.qAt;n<i.length;n++){var r=i[n].$yt();r&&(!t||r.getTime()<t.getTime())&&(t=r)}return t},i.yn=function(){this.Ro();for(var t=0,n=this.qAt;t<n.length;t++){n[t].vn(aO.fat,this.Gyt)}},Nt(n,[{key:"gft",get:function(){return this.qAt}},{key:"Jrt",get:function(){return this.gft.reduce((function(t,n){for(var i=0,r=n.Jrt;i<r.length;i++){var e=r[i];po(t,e)||t.push(e)}return t}),[])}},{key:"gp",get:function(){return this.Jrt.length>0?this.Jrt[0]:""}},{key:"Tw",get:function(){return this.qAt[0].Tw}},{key:"o",get:function(){return this.zS}},{key:"vdt",get:function(){return this.Dpt.vdt}},{key:"jq",get:function(){return this.qAt[0].jq}},{key:"rlt",get:function(){return this.Dpt}},{key:"Jat",get:function(){return Ao(this.gft,(function(t){return t.Jat}))}}]),n}(fU);F(),Tt(),Rt();var tW=function(t){function n(){return t.call(this,aO.vat)||this}return It(n,t),n}(sa);function nW(t){for(var n=function(n){var r=t[n],e=void 0,u=r.Odt;void 0===u||(e=ho(i,(function(t){return t.o===u}))),e||(e={o:u,gft:[]},i.push(e)),e.gft.push(r)},i=[],r=0;r<t.length;r++)n(r);return i}F(),Tt();var iW=function(t){function n(n,i){var r;return(r=t.call(this)||this).qAt=[],r.YAt=[],r.KAt=!1,r.jAt=n,r.Hyt=i,r.Hyt.bn(aO.fat,r.Gyt),r}It(n,t);var i=n.prototype;return i.tSt=function(t,n){if(0!==this.YAt.length){for(var i=t,r=0,e=this.YAt;r<e.length;r++){var u=e[r];if(Jg(u.Tw)){var s=u.Uyt;if(void 0===s)return;i=n(i,s)}}return i}},i.iSt=function(){this.KAt||(this.KAt=!0,this._o(new tW),this.yn())},i.ir=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return 0!==i.qAt.length?[3,2]:[4,i.sSt(i.Hyt.gft,t,n)];case 1:return r.sent(),i.nSt(i.qAt),Vo(n),[3,4];case 2:return[4,i.rSt(t,n)];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))()},i.sSt=function(t,n,i){var r=this;return Zt((function(){var e,u,s;return Ht(this,(function(o){switch(o.label){case 0:e=0,o.label=1;case 1:if(!(e<t.length))return[3,6];u=t[e],s=new dU(r,u),o.label=2;case 2:return o.trys.push([2,4,,5]),[4,s.ir(n,i)];case 3:return o.sent(),r.qAt.push(s),[3,5];case 4:return Fo(o.sent()),[3,5];case 5:return e++,[3,1];case 6:return[2]}}))}))()},i.nSt=function(t){for(var n=nW(t),i=0;i<n.length;i++){var r=n[i],e=new $U(this,r.o,r.gft);this.YAt.push(e)}},i.rSt=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:r=0,e=i.qAt,u.label=1;case 1:return r<e.length?[4,e[r].ir(t,n)]:[3,4];case 2:u.sent(),u.label=3;case 3:return r++,[3,1];case 4:return[2]}}))}))()},i.Wyt=function(){return this.Hyt.Wyt()},i.$yt=function(){return this.Hyt.$yt()},i.yn=function(){this.Ro(),this.Hyt.vn(aO.fat,this.Gyt);for(var t=0,n=this.YAt;t<n.length;t++){n[t].yn()}for(var i=0,r=this.qAt;i<r.length;i++){r[i].yn()}bo(this.qAt),bo(this.YAt)},Nt(n,[{key:"gft",get:function(){return this.qAt}},{key:"Ppt",get:function(){return this.YAt}},{key:"myt",get:function(){return this.Hyt.Kk.myt}},{key:"ct",get:function(){return this.Hyt.ct}},{key:"Tn",get:function(){return this.Sn+this.ct}},{key:"gyt",get:function(){return this.Hyt.Kk.gyt||[]}},{key:"o",get:function(){return this.Hyt.o}},{key:"mat",get:function(){return this.KAt}},{key:"vdt",get:function(){return this.jAt}},{key:"owt",get:function(){return this.jAt.QAt(this)}},{key:"rlt",get:function(){return this}},{key:"rwt",get:function(){return this.jAt.JAt(this)}},{key:"$At",get:function(){return this.tSt(1/0,k.min)}},{key:"eSt",get:function(){return this.tSt(0,k.max)}},{key:"Sn",get:function(){return this.Hyt.Sn}},{key:"xE",get:function(){return this.vdt.xE}}]),n}(fU);F(),Tt(),Rt();var rW=function(t){function n(){return t.call(this,oa.Gy)||this}return It(n,t),n}(sa);F(),Tt(),Rt(),F(),Tt();var eW=function(t){return t.oSt="hSt",t}({}),uW=function(t){function n(){return t.call(this,eW.oSt)||this}return It(n,t),n}(sa);F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt();var sW=function(t){function n(n,i){var r;return(r=t.call(this,n,i,i.Ywt)||this).aSt=void 0,r.Hat=i,r.VAt(!0),r}It(n,t);var i=n.prototype;return i.dlt=function(t){var n=this.jq;return!(!Pv(n)&&!xv(n))&&this.Zot.dlt(t.Qut)},i._lt=function(t,n,i,r){return this.Zot._lt(t,this,n,i,r)},i.zyt=function(){return this.Yyt.zyt(this)},i.Alt=function(t){return this.Yyt.Alt(t,this)},i.Qyt=function(t){return this.Yyt.Qyt(t,this)},i.Jyt=function(){return this.aSt},i.zAt=function(t){var n=this.Zot,i=n.Jyt(t),r=i&&function(t,n){var i,r=t.gbt,e=t.pbt,u=t.mbt,s=r.WO,o=n.kbt(e);if(o.getTime()<=u.getTime())i=e.UO;else{var a=(o.getTime()-u.getTime())/1e3,c=k.max(e.ct-a,0);i=e.WO+c}return{Sn:s,Tn:i}}(i,n),e=this.Zot.$yt(t,i);return this.aSt=i,{mbt:t,GAt:r,HAt:e}},i.ir=function(t){this.WAt(t,this.Hat.Ywt)},Nt(n,[{key:"Act",get:function(){return this.Hat}},{key:"rlt",get:function(){return this.Hat.rlt}},{key:"_bt",get:function(){return this.Hat._bt}},{key:"jq",get:function(){return this.kp.jq||this.Hat.jq}},{key:"Yyt",get:function(){return this.FAt()}},{key:"Zot",get:function(){return this.Yyt.Zot}}]),n}(jU),oW=function(t){function n(n,i){var r;return(r=t.call(this,n,i,i.Ywt)||this).Dpt=i,r.VAt(!1),r.Gdt=n.Jat.map((function(t){return new sW(t,r)})),r}It(n,t);var i=n.prototype;return i.ir=function(t){this.WAt(t,this.Dpt.Ywt);var n=t.Jat||[];if(this.Gdt.length!==n.length)throw new p("Expected "+this.Gdt.length+' representations in adaptation set "'+t.o+'", found '+n.length);for(var i=0;i<n.length;i++)this.Gdt[i].ir(n[i])},i.ZAt=function(n){for(var i=0,r=this.Gdt;i<r.length;i++){r[i].ZAt(n)}t.prototype.ZAt.call(this,n)},i.zAt=function(t){return{mbt:t,GAt:qU(this.Gdt),HAt:JU(this.Gdt)}},i.Xw=function(){for(var n=0,i=this.Gdt;n<i.length;n++){i[n].Xw()}t.prototype.Xw.call(this)},Nt(n,[{key:"Jat",get:function(){return this.Gdt}},{key:"rlt",get:function(){return this.Dpt}},{key:"_bt",get:function(){return this.Dpt._bt}},{key:"Odt",get:function(){return this.kp.Odt}},{key:"jq",get:function(){var t;return this.kp.jq||(null==(t=this.Gdt[0])?void 0:t.Kk.jq)||""}},{key:"Lwt",get:function(){return this.Kk.Lwt}},{key:"Bwt",get:function(){return this.Kk.Bwt}}]),n}(jU),aW=function(t){function n(n,i,r,e){var u;return(u=t.call(this,i,void 0,n.Ywt)||this).YAt=[],u.uSt=n,u.jV=r,u.MA=e,u.VAt(!1),u.qAt=(i.gft||[]).map((function(t){return new oW(t,u)})),u.YAt=nW(u.qAt),u}It(n,t);var i=n.prototype;return i.ir=function(t,n){this.WAt(t,this.uSt.Ywt),this.MA=n;var i=t.gft||[];if(this.qAt.length!==i.length)throw new p("Expected "+this.qAt.length+' adaptation sets in period "'+t.o+'", found '+i.length);for(var r=0;r<i.length;r++)this.qAt[r].ir(i[r])},i.ZAt=function(n){for(var i=0,r=this.qAt;i<r.length;i++){r[i].ZAt(n)}t.prototype.ZAt.call(this,n)},i.zAt=function(t){return{mbt:t,GAt:qU(this.qAt),HAt:JU(this.qAt)}},i.Xw=function(){for(var n=0,i=this.qAt;n<i.length;n++){i[n].Xw()}t.prototype.Xw.call(this)},Nt(n,[{key:"gft",get:function(){return this.qAt}},{key:"Ppt",get:function(){return this.YAt}},{key:"rlt",get:function(){return this}},{key:"_bt",get:function(){return this.uSt}},{key:"o",get:function(){return this.kp.o}},{key:"Sn",get:function(){return this.jV}},{key:"ct",get:function(){return this.MA}}]),n}(jU);F(),Tt(),Dt();var cW=function(){function t(t){this.lSt=t}return Nt(t,[{key:"cSt",get:function(){return this.lSt.wyt.cV}},{key:"dSt",get:function(){return this.lSt.wyt.uV}},{key:"fSt",get:function(){return this.lSt.wyt.pyt}},{key:"_St",get:function(){var t;return null==(t=this.lSt.QR)?void 0:t.cV}},{key:"vSt",get:function(){var t;return null==(t=this.lSt.QR)?void 0:t.cV}}]),t}(),hW=new Date("2000-01-01"),fW=function(t){function n(n,i,r,e,u){var s;if((s=t.call(this)||this).UAt=void 0,s.pSt=void 0,s.mSt=void 0,s.ySt=[],s.TSt=i,s.gSt=u,s.ir(n,r,e),n.Tw===BB.wW){var o=s.vbt();o&&o.yyt&&o.yyt.getTime()<hW.getTime()&&(s.mSt=new Date(s.Iyt.getTime()-1e3*(o.Zut.WO+o.Zut.ct)),s.ZAt(e))}return s}It(n,t);var i=n.prototype;return i.Wyt=function(){var t;return null==(t=this.UAt)?void 0:t.GAt},i.$yt=function(){var t;return null==(t=this.UAt)?void 0:t.HAt},i.ir=function(t,n,i,r){var e,u=void 0!==this.kp&&this.kp.Tw===BB.wW;this.kp=t,this.ASt=null!=r?r:i,this.Pn=i;var s=[bl(n)];this.OAt=t.Ywt&&t.Ywt.length>0?lU(t.Ywt.map((function(t){return t.Xu})),s):s,this.wSt=t.Ayt&&t.Ayt.length>0?lU(t.Ayt,this.OAt):[];var o=this.wSt.map((function(t){return t.href})),a=n.href;po(o,a)||(this.wSt.push(n),o.push(a));var c=this.TSt.href;po(o,c)||(this.wSt.push(this.TSt),o.push(c)),this.pSt=null==(e=t.Eyt)?void 0:e.cwt(),t.Dyt&&(this.lSt=new cW(t.Dyt));var h=t.Tw===BB.wW,f=function(t,n,i){for(var r=[],e=0;e<t.length;e++){var u=t[e],s=void 0;if(u.Sn)s=u.Sn.cwt();else if(e>0&&t[e-1].ct){s=r[e-1]+t[e-1].ct.cwt()}else{if(0!==e||n)break;s=0}r.push(s)}for(var o=[],a=0;a<r.length-1;a++)o.push({Kk:t[a],Sn:r[a],ct:r[a+1]-r[a]});if(r.length>0){var c=r.length-1,h=t[c],f=r[c],v=1/0;n||(v=h.ct?h.ct.cwt():i-f),o.push({Kk:h,Sn:f,ct:v})}return o}(t.Gpt,h,this.pSt);this.kSt(f,u,h),this.ZAt(i)},i.kSt=function(t,n,i){var r=this.ySt;if(0!==t.length){for(var e=t[0].Kk.o,u=0;u<r.length&&r[u].o!==e;)u++;for(var s=r.splice(0,u),o=0;o<s.length;o++){s[o].Xw()}if(n&&!i&&r.length>0&&t.length>0){var a,c,h=null!=(a=vW(r[0].Kk))?a:hm.DF,f=null!=(c=vW(t[0].Kk))?c:hm.DF;if(f.vF(h)){var v=f.kF(h);void 0!==this.pSt&&(this.pSt+=v._F());for(var d=0;d<t.length;d++){var l=t[d];if(d<r.length){var g=r[d];l.Sn=g.Sn,mW(l.Kk,g.Kk)}d===t.length-1&&(l.ct+=v._F())}}}for(var w=0;w<t.length;w++){var m=t[w];if(w<r.length){var y=r[w];0,y.ir(m.Kk,m.ct)}else r.push(new aW(this,m.Kk,m.Sn,m.ct))}}else bo(r)},i.ZAt=function(t){for(var n=0,i=this.ySt;n<i.length;n++){i[n].ZAt(t)}var r=this.UAt,e=this.zAt(t);r&&QU(r,e)||(this.UAt=e,this._o(new YU))},i.zAt=function(t){return{mbt:t,GAt:KU(this.ySt),HAt:JU(this.ySt)}},i.vbt=function(){if(0!==this.ySt.length){var t=this.ySt[this.ySt.length-1];if(!isFinite(t.ct)&&0!==t.gft.length){var n=t.gft[0];if(0!==n.Jat.length){var i=n.Jat[0].Zot,r=i.vbt();if(r)return{Zut:r,yyt:i.mdt(r)}}}}},i.Xw=function(){this.Ro();for(var t=0,n=this.ySt;t<n.length;t++){n[t].Xw()}},Nt(n,[{key:"Kk",get:function(){return this.kp}},{key:"Tw",get:function(){return this.kp.Tw||BB.pW}},{key:"byt",get:function(){return this.mSt||this.kp.byt||this.Iyt}},{key:"yyt",get:function(){return this.kp.yyt}},{key:"fbt",get:function(){var t,n;return null!=(n=null==(t=this.gSt)?void 0:t.ignoreAvailabilityWindow)&&n}},{key:"Eyt",get:function(){return this.pSt}},{key:"Ywt",get:function(){return this.OAt}},{key:"Ayt",get:function(){return this.wSt}},{key:"Gpt",get:function(){return this.ySt}},{key:"Iyt",get:function(){return this.kp.Iyt||this.Pn}},{key:"Iwt",get:function(){return this.kp.Iwt}},{key:"bSt",get:function(){return this.ASt}},{key:"SSt",get:function(){return this.Pn}},{key:"Dyt",get:function(){return this.lSt}}]),n}(ra);function vW(t){for(var n,i,r=gW(t),e=0,u=null!=(n=t.gft)?n:[];e<u.length;e++){r=vm(r,dW(u[e]))}for(var s=0,o=null!=(i=t.gyt)?i:[];s<o.length;s++){r=vm(r,wW(o[s]))}return r}function dW(t){for(var n=gW(t),i=0,r=t.Jat;i<r.length;i++){n=vm(n,lW(r[i]))}return n}function lW(t){return gW(t)}function gW(t){var n;if(void 0!==t.Jwt&&(n=vm(n,wW(t.Jwt))),void 0!==t.Kwt&&(n=vm(n,wW(t.Kwt))),void 0!==t.Qwt)for(var i=0,r=t.Qwt;i<r.length;i++){n=vm(n,wW(r[i]))}return n}function wW(t){var n,i;return hm.IF(null!=(n=t.xwt)?n:ir.ZERO,null!=(i=t.mN)?i:1)}function mW(t,n){if(_W(t,n),t.Sn=n.Sn,void 0!==t.gft&&void 0!==n.gft&&t.gft.length===n.gft.length)for(var i=0;i<t.gft.length;i++)yW(t.gft[i],n.gft[i]);if(void 0!==t.gyt&&void 0!==n.gyt&&t.gyt.length===n.gyt.length)for(var r=0;r<t.gyt.length;r++)bW(t.gyt[r],n.gyt[r])}function yW(t,n){if(_W(t,n),void 0!==t.Jat&&void 0!==n.Jat&&t.Jat.length===n.Jat.length)for(var i=0;i<t.Jat.length;i++)pW(t.Jat[i],n.Jat[i])}function pW(t,n){_W(t,n)}function _W(t,n){if(void 0!==t.Jwt&&void 0!==n.Jwt&&bW(t.Jwt,n.Jwt),void 0!==t.Kwt&&void 0!==n.Kwt&&bW(t.Kwt,n.Kwt),void 0!==t.Qwt&&void 0!==n.Qwt&&t.Qwt.length===n.Qwt.length)for(var i=0;i<t.Qwt.length;i++)bW(t.Qwt[i],n.Qwt[i])}function bW(t,n){t.mN=n.mN,t.xwt=n.xwt}F(),Tt(),Gt(),qt();var kW=function(){function t(t,n,i){this.fW=t,this.xSt=n,this.RSt=i,this.ISt=0}var n=t.prototype;return n.xj=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.ESt(t,n.fW,n.xSt,n.RSt).catch(Uo)];case 1:return i.sent(),[2]}}))}))()},n._dt=function(){return new Date(gr()+this.ISt)},n.ESt=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return r?[4,e.CSt(n,r,i)]:[3,2];case 1:u=a.sent(),a.label=2;case 2:if(void 0!==u)return[3,6];Vo(i),s=0,a.label=3;case 3:return s<t.length?(o=t[s],[4,e.PSt(n,o,i)]):[3,6];case 4:if(void 0!==(u=a.sent()))return[3,6];a.label=5;case 5:return s++,[3,3];case 6:return e.ISt=void 0===u?0:u-gr(),[2]}}))}))()},n.PSt=function(t,n,i){var r=this;return Zt((function(){var e,u,s;return Ht(this,(function(o){switch(o.label){case 0:switch(n.c9){case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2012":case"urn:mpeg:dash:utc:http-iso:2014":return[3,1];case"urn:mpeg:dash:utc:direct:2012":case"urn:mpeg:dash:utc:direct:2014":return[3,4]}return[3,5];case 1:return(e=n.Mx)?[4,r.CSt(t,e,i)]:[3,3];case 2:return[2,o.sent()];case 3:return[3,6];case 4:return(u=n.Mx)&&(s=new Date(u).getTime(),!S(s))?[2,s]:[3,6];case 5:case 6:return[2]}}))}))()},n.CSt=function(t,n,i){return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),[4,t.Qk({Xu:n,AE:ol.GET,jk:Id.Tk,Uw:i})];case 1:return[4,u.sent().Ck()];case 2:return r=u.sent(),e=new Date(r).getTime(),S(e)?[3,4]:[2,e];case 3:return Fo(u.sent()),[3,4];case 4:return[2]}}))}))()},t}(),AW=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).Hyt=void 0,s.LSt=!0,s.ySt=[],s.XSt=void 0,s.USt=n,s.MSt=n.VC,s.ZSt=i,s.fW=r,s.zSt=e,s.HSt=new kW(s.fW,s.zSt,s.USt.qSt),s.gSt=u,s}It(n,t);var i=n.prototype;return i.BSt=function(t){var n=this.qR;this.LSt=t,n!==this.qR&&this._o(new uW)},i.ir=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h,f,v,d,l,g;return Ht(this,(function(w){switch(w.label){case 0:return u=[],s=[],o=t.Syt?Kn.Ih(t.Syt,r.MSt):r.MSt,void 0!==r.Hyt?[3,2]:[4,r.HSt.xj(t.Pyt)];case 1:return w.sent(),r.Hyt=new fW(t,r.MSt,o,r._dt(),r.gSt),r.Hyt.bn(aO.fat,r.Ds),[3,3];case 2:r.Hyt.ir(t,o,r._dt(),n),w.label=3;case 3:if(0===(a=r.Hyt.Gpt).length)c=r.ySt.slice(),bo(r.ySt);else{for(h=a[0].o,f=0;f<r.ySt.length&&r.ySt[f].o!==h;)f++;for(c=r.ySt.splice(0,f),v=0;v<a.length;v++)d=a[v],l=void 0,v<r.ySt.length?l=r.ySt[v]:(l=new iW(r,d),u.push(l)),s.push(l.ir(r.ZSt,i))}return[4,et.all(s)];case 4:for(w.sent(),(e=r.ySt).push.apply(e,Ft(u)),g=0;g<c.length;g++)c[g].iSt();return r._o(new rW),[2]}}))}))()},i._dt=function(){return this.HSt._dt()},i.JAt=function(t){var n=this.ySt.indexOf(t);if(n>0)return this.ySt[n-1]},i.QAt=function(t){var n=this.ySt.indexOf(t);if(n>=0&&n+1<this.ySt.length)return this.ySt[n+1]},i.Wyt=function(){return this.Hyt?this.Hyt.Wyt():void 0},i.$yt=function(){return this.Hyt&&this.Hyt.$yt()},i.ZAt=function(t){this.Hyt&&this.Hyt.ZAt(t)},i.yn=function(){this.Ro(),this.XSt=void 0,this.BSt(!1);for(var t=0,n=this.ySt;t<n.length;t++){n[t].yn()}bo(this.ySt),this.Hyt&&this.Hyt.Xw()},Nt(n,[{key:"yyt",get:function(){return this.Hyt&&this.Hyt.yyt}},{key:"byt",get:function(){return this.Hyt&&this.Hyt.byt}},{key:"fbt",get:function(){return this.Hyt&&this.Hyt.fbt}},{key:"o",get:function(){return this.Hyt&&this.Hyt.Kk.o}},{key:"bSt",get:function(){var t;return null==(t=this.Hyt)?void 0:t.bSt}},{key:"DSt",get:function(){var t;return null==(t=this.Hyt)?void 0:t.SSt}},{key:"Ayt",get:function(){return this.Hyt?this.Hyt.Ayt.map((function(t){return t.href})):[this.NSt]}},{key:"NSt",get:function(){return this.MSt.href}},{key:"Tyt",get:function(){return this.Hyt&&this.Hyt.Kk.Tyt}},{key:"kyt",get:function(){return this.Hyt&&this.Hyt.Kk.kyt}},{key:"Eyt",get:function(){return this.Hyt&&this.Hyt.Kk.Eyt}},{key:"xyt",get:function(){return this.Hyt&&this.Hyt.Kk.xyt}},{key:"Ryt",get:function(){var t,n,i=(null==(n=this.Hyt)||null==(t=n.Kk.Ryt)?void 0:t.lwt())||0;return k.max(i,SW)}},{key:"qR",get:function(){return this.LSt}},{key:"Gpt",get:function(){return this.ySt}},{key:"OSt",get:function(){return this.Tw===BB.wW?this.ibt:this.FSt}},{key:"VSt",get:function(){var t=this.OSt;if(void 0!==t)for(var n=0,i=this.Gpt;n<i.length;n++){var r=i[n];if(r.Sn<=t&&r.Tn>t)return r}}},{key:"Vwt",get:function(){return this.Hyt&&this.Hyt.Kk.Vwt}},{key:"Iyt",get:function(){return this.Hyt&&this.Hyt.Iyt}},{key:"$At",get:function(){for(var t=this.ySt.length-1;t>=0;t-=1){var n=this.ySt[t].$At;if(n)return n}}},{key:"ibt",get:function(){var t=this.$At;if(void 0!==t){var n=t-this.WSt;return k.max(n,this.FSt)}}},{key:"FSt",get:function(){for(var t=0,n=this.ySt;t<n.length;t++){var i=n[t].Vyt;if(void 0!==i)return i}}},{key:"xE",get:function(){return Boolean(this.USt.xE)}},{key:"WSt",get:function(){var t,n;if(this.USt.GSt&&this.Tw===BB.wW)return this.USt.GSt;var i=null==(n=this.Hyt)||null==(t=n.Kk.Cyt)?void 0:t.cwt();return void 0!==i?i:this.Tw===BB.wW?1.5*this.xyt.cwt():0}},{key:"Iwt",get:function(){return this.Hyt&&this.Hyt.Iwt}},{key:"Tw",get:function(){return this.Hyt?this.Hyt.Tw:void 0}},{key:"Dyt",get:function(){var t;return null==(t=this.Hyt)?void 0:t.Dyt}}]),n}(ra),TW=function(){function t(t,n,i,r,e){this.jAt=new AW(t,n,i,r,e)}return Nt(t,[{key:"vdt",get:function(){return this.jAt}}]),t}(),SW=1e3,EW=k.pow(2,31)-1,IW=function(){function t(t,n,i,r,e){var u=this;this.KSt=new Yo,this.jSt=Zt((function(t){var n,i,r;return Ht(this,(function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),n=u.Hyt.vdt._dt(),[4,u.hTt(u.Hyt.vdt.Ayt,t)];case 1:return i=e.sent(),[4,u.Hyt.vdt.ir(i,n,t)];case 2:return e.sent(),[3,4];case 3:throw Vl(r=e.sent())&&u.Hyt.vdt.BSt(!1),r;case 4:return[2]}}))})),this.uTt=r,this.Hyt=new TW(t,n,i,this.KSt.Uw,e)}var n=t.prototype;return n.QE=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:n.Hyt.vdt._o(new UR),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.jSt(t)];case 2:return r.sent(),n.Hyt.vdt.BSt(!0),[3,4];case 3:throw Fo(i=r.sent()),n.YSt=void 0,n.Hyt.vdt.BSt(!1),new p("The provided MPEG-DASH document could not be loaded - "+i.message);case 4:return n.QSt=n.JSt(n.KSt.Uw),[2]}}))}))()},n.JSt=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:i.trys.push([0,4,,5]),i.label=1;case 1:return n.Hyt.vdt.Tw!==BB.wW?[3,3]:[4,Wo(n.$St,t)];case 2:return i.sent(),[3,1];case 3:return[3,5];case 4:return i.sent(),[3,5];case 5:return[2]}}))}))()},n.eTt=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return Vo(t),(i=n.iTt())>0?[4,$o(k.min(i,EW),t)]:[3,2];case 1:e.sent(),e.label=2;case 2:return e.trys.push([2,4,5,6]),[4,n.jSt(t)];case 3:return e.sent(),n.Hyt.vdt.BSt(!0),[3,6];case 4:throw r=e.sent(),new p("The provided MPEG-DASH manifest could not be loaded - "+r.message);case 5:return n.sTt=void 0,[7];case 6:return[2]}}))}))()},n.iTt=function(){var t=this.Hyt.vdt._dt().getTime()-this.Hyt.vdt.bSt.getTime();return this.Hyt.vdt.Ryt-t},n.nTt=function(t){var n=this.Hyt.vdt.$yt();if(n){var i=n.getTime()-t.getTime();if(i>0)return i}this.Hyt.vdt.ZAt(t);var r=this.Hyt.vdt.$yt();return r?r.getTime()-t.getTime():NaN},n.tTt=function(t){var n=this;return Zt((function(){var i,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:i={stack:[],error:void 0,hasError:!1},s.label=1;case 1:return s.trys.push([1,3,4,5]),null!=n.sTt||(n.sTt=n.eTt(t)),r=Yt(i,Yo.$w([t]),!1),e=[n.sTt,n.rTt(r.Uw)].filter(Yn),[4,et.race(e).catch(Uo)];case 2:return s.sent(),[3,5];case 3:return u=s.sent(),i.error=u,i.hasError=!0,[3,5];case 4:return jt(i),[7];case 5:return[2]}}))}))()},n.rTt=function(t){var n=this.Hyt.vdt._dt(),i=this.nTt(n);if(!S(i)&&!this.Er.vdt.fbt)return this.oTt(i,t)},n.oTt=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return[4,$o(t,n)];case 1:return e.sent(),r=i.Hyt.vdt._dt(),i.Hyt.vdt.ZAt(r),[2]}}))}))()},n.hTt=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return[4,i.uTt.aTt(t,{},n)];case 1:return r=e.sent(),[2,(new rU).Nyt(r.cTt,r.eE)]}}))}))()},n.yn=function(){return this.KSt.jw(),this.QSt=void 0,this.YSt=void 0,this.sTt=void 0,this.Hyt.vdt.yn(),et.resolve()},Nt(t,[{key:"Er",get:function(){return this.Hyt}},{key:"W",get:function(){return this.YSt||(this.YSt=this.QE(this.KSt.Uw),qo(this.YSt)),this.YSt}},{key:"$St",get:function(){return this.Hyt.vdt.DSt&&this.Hyt.vdt.Tw===BB.wW?this.tTt(this.KSt.Uw):this.W}}]),t}();F(),Tt(),Dt(),Rt(),F(),Tt(),Rt();var RW=function(t){function n(n,i){var r;return(r=t.call(this,"jpt")||this).hwt=n,r.jdt=i,r}return It(n,t),n}(sa),CW=function(t){function n(n,i){var r;(r=t.call(this)||this).Qdt=void 0,r.Sp=n,r.dC=i;for(var e=0,u=r.dC;e<u.length;e++){u[e].Odt=r}return r}It(n,t);var i=n.prototype;return i.hW=function(t){t&&this.Qdt!==t&&this.lTt(t)},i.aW=function(t){this.Qdt===t&&this.lTt(void 0)},i.lTt=function(t){this.Qdt=t,this._o(new RW(this,this.Qdt))},i.yn=function(){this.Ro();for(var t=0,n=this.dC;t<n.length;t++){n[t].Odt=void 0}bo(this.dC)},Nt(n,[{key:"jdt",get:function(){return this.Qdt}},{key:"Tw",get:function(){return this.Sp}},{key:"Z",get:function(){return this.dC.slice()}}]),n}(ra);F(),Tt(),F(),Tt(),F(),Tt(),Rt();var NW=function(t){function n(n,i,r){var e;return(e=t.call(this,oa.Py)||this).currentTime=n,e.initDataType=i,e.initData=r,e}return It(n,t),n}(sa);function DW(t,n,i,r,e){for(var u=[],s=[],o=0;o<n.length;o++){var a=n[o];a.Tw===qg.vE?u=u.concat(a.Z):a.Tw===qg.mE&&(s=s.concat(a.Z))}return[PW(t,u,i,r,null==e?void 0:e.preferredAudioCodecs),xW(t,s,i,r,null==e?void 0:e.preferredVideoCodecs)].filter(Yn)}function PW(t,n,i,r,e){var u=ho(r||[],(function(t){return t.Cat===qg.vE&&t.Rt})),s=[MW(u,i,t),OW(u),BW(u),VW(u,e),FW(),function(t){var n=t.filter((function(t){return"main"===t.Lt}));return n.length>0?n:t}];return LW(n,s)}function xW(t,n,i,r,e){var u=ho(r||[],(function(t){return t.Cat===qg.mE&&t.Rt})),s=[MW(u,i,t),VW(u,e),FW(),function(t){var n=t.filter((function(t){return"main"===t.Lt}));return n.length>0?n:t}];return LW(n,s)}function LW(t,n){if(0!==t.length){for(var i=t,r=0;r<n.length;r++){var e=n[r];if(1===i.length)return i[0];i=e(i)}return i[0]}}function MW(t,n,i){return function(r){var e=t?t.Act.o:void 0;if(!Yn(e))return r;var u=null==n?void 0:n.myt,s=i.myt,o=u&&s&&u.Mx===s.Mx,a=ho(r,(function(t){return t.Act.o===e}));return o&&a?[a]:r}}function OW(t){return function(n){var i=t?t.gs:"",r=n.some((function(t){return""!==t.gs}))?n.filter((function(t){return""!==t.gs})):n;if(""===i)return r;var e=r.filter((function(t){return t.gs===i}));return e.length>0?e:r}}function BW(t){return function(n){var i=t?t.Lt:"";if(""===i)return n;var r=n.filter((function(t){return t.Lt===i}));return r.length>0?r:n}}function VW(t,n){return function(t){if(n&&n.length>0)for(var i=function(i){var r=n[i],e=t.filter((function(t){return t.NC.lC.some((function(t){return jC(t.Jrt,r)}))}));if(e.length>0)return{v:e}},r=0;r<n.length;r++){var e=i(r);if("object"===U(e))return e.v}return t}}function FW(){return function(t){for(var n=[],i=-1/0,r=0;r<t.length;r++){var e=t[r],u=e.Act.UH;u>i?(i=u,n=[e]):u===i&&n.push(e)}return n}}F(),Tt(),at(),F(),Tt();var UW=function(t){return t.dTt="api",t.fTt="start",t}({});F(),Tt(),Gt(),qt();var WW={maxRetries:3,minimumBackoff:1e3,maximumBackoff:1/0},ZW=function(){function t(t,n,i){void 0===i&&(i=WW),this.fW=t,this.mTt=n,this.edt=i}var n=t.prototype;return n._Tt=function(t,n,i){var r=this,e=this.edt.maxRetries===1/0?WW:this.edt;return mT((function(){return r.vTt(t,n,i)}),i,e.maxRetries,e.minimumBackoff,e.maximumBackoff)},n.vTt=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:u=0,h.label=1;case 1:if(!(u<t.length))return[3,7];s=t[u],h.label=2;case 2:return h.trys.push([2,5,,6]),o=new vl({Xu:s,jk:Id.Tk,Jk:n,xE:r.mTt,AE:ol.GET,Tw:al.sE,kE:cl.iE,Uw:i,SE:15e3,TE:5e3}),[4,r.fW.Qk(o)];case 3:return[4,(a=h.sent()).Ck(i)];case 4:return[2,{cTt:h.sent(),gTt:s,eE:a.eE}];case 5:return c=h.sent(),e=c,[3,6];case 6:return u++,[3,1];case 7:throw e}}))}))()},t}();F(),Tt(),Gt(),qt();var XW=function(){function t(t){this.pTt=t}return t.prototype.aTt=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:u=0,s=r.pTt,c.label=1;case 1:if(!(u<s.length))return[3,6];o=s[u],c.label=2;case 2:return c.trys.push([2,4,,5]),[4,o.aTt(t,n,i)];case 3:return[2,c.sent()];case 4:return Fo(a=c.sent()),e=a,[3,5];case 5:return u++,[3,1];case 6:throw e}}))}))()},t}(),GW=function(){function t(t){this.zut=t}return t.prototype.aTt=function(t,n,i){var r=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return[4,r.zut.drt(t)];case 1:if(n=i.sent())return[2,{cTt:n.data,gTt:n.locationURL,eE:n.responseURL}];throw new p("Manifest fetch from cache unsuccesful")}}))}))()},t}(),HW=function(){function t(t){this.wTt=t}return t.prototype.aTt=function(t,n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return[4,r.wTt._Tt(t,n,i)];case 1:return[2,e.sent()]}}))}))()},t}();function zW(t,n){return new XW([new GW(n),new HW(t)])}var YW=function(){function t(t,n,i){this.uTt=t,this.d_=n,this.bTt=i}var n=t.prototype;return n.aTt=function(t,n,i){var r=this;return Zt((function(){var e;return Ht(this,(function(u){switch(u.label){case 0:return[4,r.uTt.aTt(t,n,i)];case 1:return e=u.sent(),[4,r.yTt(e)];case 2:return u.sent(),[2,e]}}))}))()},n.yTt=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.d_.brt({key:gM(t.gTt),locationURL:ml(t.gTt),responseURL:ml(t.eE),data:t.cTt,references:[n.bTt.o]})];case 1:return i.sent(),[2]}}))}))()},t}();F(),Tt(),Rt();var jW=function(t){function n(){return t.call(this,oa.Xy)||this}return It(n,t),n}(sa);F(),Tt(),Rt();var KW=function(t){function n(){return t.call(this,oa.Zy)||this}return It(n,t),n}(sa);F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Rt();var qW=function(t){function n(){return t.call(this)||this}It(n,t);var i=n.prototype;return i.ATt=function(t){return t.rI=Aw.LOADED,this.tt(t),t},i.STt=function(t){for(var n=0,i=this.Z.lC;n<i.length;n++){var r=i[n];if(r.BC===t)return r}},n}(ap);function JW(t,n){return""===n?t:t+" "+n}F(),Tt(),F(),Tt(),Dt(),Rt(),F(),Tt();var QW=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i,r,!1,null==u?void 0:u.toString())||this).Xx=e,s.TTt=u,s}return It(n,t),n.prototype.nF=function(t){return this.U===t.U},Nt(n,[{key:"wa",get:function(){return this.eu||(this.eu=function(t){return Rg(Lw(t),{get attributes(){return t.Xx},get eventID(){var n;return""+(null!=(n=t.TTt)?n:"")}})}(this)),this.eu}}]),n}(Xw),$W=function(t){function n(n){var i;return(i=t.call(this)||this).uSt=void 0,i.xTt=function(){var t,n,r=null!=(n=null==(t=i.uSt.Wyt())?void 0:t.Sn)?n:0;if(r>0)for(var e=0,u=i.Z.lC;e<u.length;e++){sp(u[e],r)}for(var s=0,o=i.uSt.Gpt;s<o.length;s++){var a=o[s];if(a.Tn>r)for(var c=0,h=a.gyt;c<h.length;c++){var f=h[c];i.ETt(f,a,r)}}},i.lW=n,i}It(n,t);var i=n.prototype;return i.kTt=function(t){var n=this.lW.OI(zy.eW,"","","",void 0,Tw.EVENT_STREAM);return n.BC=t,this.ATt(n),n},i.ETt=function(t,n,i){var r,e,u,s=t.c9,o=null!=(r=t.Mx)?r:"",a=null!=(e=t.mN)?e:1,c=null!=(u=t.xwt)?u:ir.ZERO,h=JW(s,o),f=this.STt(h);f||(f=this.kTt(h));for(var v=0,d=t.Qq;v<d.length;v++){var l=d[v];if(!tZ(l,f)){var g=nZ(l,a,c,n);g.UO>i&&f._W(g)}}},i.$n=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.nr()];case 1:return i.sent(),n.uSt=t,n.uSt.bn(oa.Gy,n.xTt),n.xTt(),[2]}}))}))()},i.nr=function(){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:for(n.uSt&&(n.uSt.vn(oa.Gy,n.xTt),n.uSt=void 0),i=0,r=n.Z.lC;i<r.length;i++)e=r[i],n.lW.mW(e);return[4,t.prototype.nr.call(n)];case 1:return u.sent(),[2]}}))}))()},n}(qW);function tZ(t,n){var i=t.o;if(void 0!==i&&ho(n.L.lC,(function(n){return n.TTt===i&&n.U===t.Kk})))return!0;return!1}function nZ(t,n,i,r){var e=t.o,u=t.gL.toSigned().subtract(i),s=t.ct,o=t.Kk,a=t.Xx,c=u.toNumber()/n+r.Sn,h=s?s.toNumber()/n:void 0,f=void 0!==h?c+h:r.eSt;return new QW(c,f,o,a,e)}function iZ(t,n,i,r,e){var u=[],s=ho(i,(function(t){return t.c9===fs}));if(void 0!==s){var o=s.Mx?function(t){var n=t.split(":",1)[0];switch(n){case"cbcs":case"cenc":return n;default:return}}(s.Mx.toLowerCase()):"cenc";if(void 0!==o){for(var a=0;a<i.length;a++){var c=i[a];if(c.c9!==fs)for(var h=0,f=Os(c.c9);h<f.length;h++){var v=f[h],d=e&&c.l9?[c.l9]:[];u.push({cT:v,IG:d,CG:void 0,WU:void 0})}}if(u.length)return{hU:t,lpt:{RTt:o,aU:s.aU},cpt:u,ITt:n===qg.vE?r.slice():[],CTt:n===qg.mE?r.slice():[],_9:!1}}}}function rZ(t,n){if(!t)return n;if(!n)return t;var i,r=[],e=rs();return eZ(r,e,t.cpt),eZ(r,e,n.cpt),{hU:t.hU,lpt:{RTt:t.lpt.RTt,aU:null!=(i=t.lpt.aU)?i:n.lpt.aU},cpt:r,ITt:uZ(t.ITt,n.ITt,po),CTt:uZ(t.CTt,n.CTt,po),_9:t._9||n._9||!1}}function eZ(t,n,i){for(var r=0;r<i.length;r++){var e=i[r],u=e.cT.Iw,s=void 0;n.has(u)?(s=n.get(u)).IG=uZ(s.IG,e.IG,sZ):(s=ns({},e),t.push(s),n.set(u,s))}}function uZ(t,n,i){for(var r=t.slice(),e=0;e<n.length;e++){var u=n[e];i(r,u)||r.push(u)}return r}function sZ(t,n){for(var i=0;i<t.length;i++){if(xc(t[i],n))return!0}return!1}function oZ(t,n,i){var r,e=t.TG;if(e){for(var u=t.jq,s=[],o=0,a=t.Jrt;o<a.length;o++){var c=a[o];s.push(u+'; codecs="'+c+'"')}r=iZ(n||{},t.Tw,e,s,i)}for(var h=0,f=t.Jat;h<f.length;h++){r=rZ(r,aZ(f[h],n,i))}return r}function aZ(t,n,i){return iZ(n||{},t.Tw,t.TG||[],[t.Mk],i)}function cZ(t){return t?t.cpt.map((function(n){var i=hZ(t.hU,n.cT),r=t.lpt.RTt;return{cT:n.cT,IG:n.IG,WU:n.WU,RH:[{initDataTypes:[n.cT.xw],audioCapabilities:fZ(t.ITt,r,null==i?void 0:i.audioRobustness),videoCapabilities:fZ(t.CTt,r,null==i?void 0:i.videoRobustness),persistentState:null==i?void 0:i.persistentState,distinctiveIdentifier:null==i?void 0:i.distinctiveIdentifier}]}})):[]}function hZ(t,n){switch(n.Tw){case Rs.ww:return t.widevine;case Rs.pw:return t.playready;case Rs.Aw:return t.fairplay;case Rs.yw:return t.clearkey}}function fZ(t,n,i){if(0!==t.length)return t.map((function(t){return{contentType:t,encryptionScheme:n,robustness:i}}))}function vZ(t,n){var i=function(t){var i=n.indexOf(t.cT.Iw);return i>=0?i:n.length};return to(t,(function(t,n){return i(t)-i(n)}))}F(),Tt(),F(),Tt(),Gt(),Rt(),nn(),qt();var dZ=function(t){function n(n){var i;(i=t.call(this)||this).Gdt=[],i.ir=function(){for(var t=[],n=0,r=i.uSt.Gpt;n<r.length;n++)for(var e=0,u=r[n].gft;e<u.length;e++){var s=u[e];if(s.Tw===qg.gE&&s.Jat.length>0){var o=s.Jat[0];t.push(o),i.OTt(o)||i.kTt(o),-1===i.Gdt.indexOf(o)&&(i.Gdt.push(o),o.bn(aO.fat,i.LTt)),i.VTt(o)}}i.PTt(t)},i.VTt=function(t){var n=i.FTt(t);n&&t&&n.CE!==Vy.Mh&&(i.BTt(),function(t,n){var i=t.Zot,r=t.Jyt();if(!r)return;var e=r.gbt,u=r.pbt,s=t.ji,o=t.Ti,a=tn(function(t){for(var n=0;n<t.length;n++){var i=t[n];if(Ws(i.c9,gZ)||Ws(i.c9,wZ)){var r=i.Mx.match(lZ);if(r){var e=tn(r,3),u=e[1],s=e[2];return[Number(u),Number(s)]}}}return[1,1]}(t.Lwt),2),c=a[0],h=a[1],f=e;for(;f&&f.Qut<=u.Qut;){for(var v=t.Yyt.ct||f.ct,d=mZ(n,f,t.Alt(f).Xu,s,o,c,h,v),l=0;l<d.length;l++){var g=d[l];n._W(g)}f=i.wlt(f)}}(t,n))},i.lW=n;var r=i;return i.LTt=function(){r.VTt(this)},i}It(n,t);var i=n.prototype;return i.kTt=function(t){var n=this.lW.OI(zy.eW,t.o,"thumbnails","",!1,Tw.DEFAULT);return n.CE=Vy.Qn,this.ATt(n),n},i.$n=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.nr()];case 1:return i.sent(),n.uSt=t,n.uSt.bn(oa.Gy,n.ir),n.ir(),[2]}}))}))()},i.PTt=function(t){this.DTt(t),this.NTt()},i.NTt=function(){for(var t=[],n=0,i=this.Z.lC;n<i.length;n++){var r=i[n];this.MTt(r)||t.push(r)}for(var e=0;e<t.length;e++){var u=t[e];this.it(u)}},i.DTt=function(t){for(var n=[],i=0,r=this.Gdt;i<r.length;i++){var e=r[i];-1===t.indexOf(e)&&n.push(e)}for(var u=0;u<n.length;u++){var s=n[u];wo(this.Gdt,s)}},i.nr=function(){var n=this;return Zt((function(){var i,r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:for(n.uSt&&(n.uSt.vn(oa.Gy,n.ir),n.uSt=void 0),i=0,r=n.Gdt;i<r.length;i++)r[i].vn(aO.fat,n.LTt);for(n.Gdt.length=0,e=0,u=n.Z.lC;e<u.length;e++)s=u[e],n.lW.mW(s);return[4,t.prototype.nr.call(n)];case 1:return o.sent(),[2]}}))}))()},i.yn=function(){return this.LTt=void 0,t.prototype.yn.call(this)},i.BTt=function(){var t,n,i=null!=(n=null==(t=this.uSt.Wyt())?void 0:t.Sn)?n:0;if(i>0)for(var r=0,e=this.Z.lC;r<e.length;r++){sp(e[r],i)}},i.OTt=function(t){return this.Z.lC.some((function(n){return n.o===t.o}))},i.FTt=function(t){return ho(this.Z.lC,(function(n){return n.o===t.o}))},i.MTt=function(t){return this.Gdt.some((function(n){return t.o===n.o}))},n}(qW),lZ=/^(\d+)x(\d+)$/,gZ="http://dashif.org/guidelines/thumbnail_tile",wZ="http://dashif.org/thumbnail_tile";function mZ(t,n,i,r,e,u,s,o){var a=[],c=n.WO,h=u*s,f=r/u,v=e/s,d=k.round(f),l=k.round(v),g=o/h;if(1===h){var w=c+g;return yZ(t,c,w,i)?a:[new Xw(c,w,i,!1)]}for(var m=0;m<s;m++)for(var y=0;y<u;y++){var p=c+(m*u+y)*g,_=p+g,b=i+"#xywh="+k.round(y*f)+","+k.round(m*v)+","+d+","+l;if(yZ(t,p,_,b)||a.push(new Xw(p,_,b,!1)),_>=n.UO)return a}return a}function yZ(t,n,i,r){return t.L.lC.some((function(t){return t.WO===n&&t.UO===i&&t.U===r}))}F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Dt(),Rt(),F(),Tt();var pZ=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n,i,s,!1)||this).WTt=r,o.UTt=e,o.HTt=u,o}return It(n,t),n.prototype.nF=function(t){return Lc(this.U,t.U)},Nt(n,[{key:"mL",get:function(){return this.WTt}},{key:"Mx",get:function(){return this.UTt}},{key:"GTt",get:function(){return this.HTt}},{key:"wa",get:function(){return this.eu||(this.eu=function(t){return Rg(Lw(t),{get schemeIDURI(){return t.mL},get value(){return t.Mx},get emsgID(){return t.GTt}})}(this)),this.eu}}]),n}(Xw),_Z=function(t){function n(n){var i;return(i=t.call(this)||this).lW=n,i}It(n,t);var i=n.prototype;return i.Sdt=function(t,i,r){var e=gy.JD(bc(t));if(e){var u=function(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];oy(e,n)&&i.push(e)}return i}(e,iy.vD);if(u.length){var s=n.ZTt(e,i,r);this.XTt(u,s,r)}}},i.XTt=function(t,n,i){for(var r=0;r<t.length;r++){var e=t[r],u=void 0,s=(u=1===e.jD?e.gL.toNumber()/e.mN+i:n+e.yL/e.mN)+e.pL/e.mN;"https://aomedia.org/emsg/ID3"===e.mL||"https://developer.apple.com/streaming/emsg-id3"===e.mL?this.zTt(e,u):this.qTt(e,u,s)}},i.qTt=function(t,n,i){var r=JW(t.mL,t.Mx),e=this.STt(r);e||(e=this.YTt(r),this.ATt(e)),e._W(new pZ(n,i,t.mL,t.Mx,t.o,t.wL))},i.zTt=function(t,n){var i=ND(bc(t.wL));if(i){var r=JW(t.mL,t.Mx),e=this.STt(r);e||(e=this.KTt(r),this.ATt(e));for(var u=0,s=i.N5;u<s.length;u++){var o=s[u],a=new ZD(n,o);rD(a,e.L.lC),e._W(a)}}},i.YTt=function(t){var n=this.lW.OI(zy.eW,"","","",void 0,Tw.EMSG);return n.BC=t,n.CE=Vy.LC,n},i.KTt=function(t){var n=this.lW.OI(zy.eW,"","","",void 0,Tw.ID3);return n.BC=t,n.CE=Vy.LC,n},i.nr=function(){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:for(i=0,r=n.Z.lC;i<r.length;i++)e=r[i],n.lW.mW(e);return[4,t.prototype.nr.call(n)];case 1:return u.sent(),[2]}}))}))()},n.ZTt=function(t,n,i){var r=ay(t,iy.mD);return r?_r(r.DL,r.mN)+i:n},n}(qW),bZ=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).xTt=function(){var t,i,r=null!=(i=null==(t=n.uSt.Wyt())?void 0:t.Sn)?i:0;n.nW(r)},n}It(n,t);var i=n.prototype;return i.$n=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.nr()];case 1:return i.sent(),n.uSt=t,n.uSt.bn(oa.Gy,n.xTt),n.xTt(),[2]}}))}))()},i.nr=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.uSt&&(n.uSt.vn(oa.Gy,n.xTt),n.uSt=void 0),[4,t.prototype.nr.call(n)];case 1:return i.sent(),[2]}}))}))()},n}(_Z);F(),Tt(),F(),Tt(),Gt(),qt();var kZ=function(){function t(t){this.jTt=!1,this.zut=t}var n=t.prototype;return n.vrt=function(t,n){return this.jTt?this.zut.vrt(t,n):et.resolve(!1)},n.grt=function(t,n){return this.jTt?this.zut.grt(t,n):et.resolve(void 0)},n.drt=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,n.zut.drt(t)];case 1:return i=r.sent(),n.jTt=void 0!==i,[2,i]}}))}))()},n.IQ=function(t){return this.zut.IQ(t)},t}();F(),Tt(),Rt();var AZ=function(t){function n(n,i,r){return t.call(this,n,i,r)||this}It(n,t);var i=n.prototype;return i.jB=function(){var t;return null!=(t=this.YB)?t:0},i.ZC=function(){this.na.ER=1/0},i.QB=function(){return!0},n}(NA),TZ=[oa.qy,oa.Ky,oa.$y,oa.Hy,oa.eb],SZ=[oa.Yy,oa.ub,oa.Ly,oa.Ny],EZ=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this)||this).pkt=void 0,a.Pkt=void 0,a.X9=!1,a.lxt=NaN,a.YG=void 0,a.KG=void 0,a.M9=!1,a.Dkt=void 0,a.P9=void 0,a._xt=!1,a.dxt=0,a.fxt=0,a.Zkt=!1,a.vW=new Yo,a.gkt=new Gc,a.hxt=!1,a.Hyt=void 0,a.vEt=void 0,a.LSt=!0,a.Vkt=!0,a.OEt=void 0,a.Uo=SA.pB(),a.QG=zT.$H,a.sxt=void 0,a.MW=!0,a.Sc=void 0,a.YEt=void 0,a.Lpt=void 0,a.wpt=[],a.cZ=!1,a.dkt=new Yo,a.mkt=et.resolve(),a.r8=new Yo,a.o8=et.resolve(),a.cEt=!1,a.VEt=!1,a.fkt=new Yo,a._kt=et.resolve(),a.kkt=void 0,a.spt=void 0,a.Bkt=0,a.Okt=0,a.Fkt=0,a.iH=new Ak,a.REt=void 0,a.skt={_O:0,vO:0,mO:0},a.JG=void 0,a.ZG=void 0,a.nEt=function(t){var n,i,r,e;"jpt"===(null==t?void 0:t.type)&&(e=t.jdt),e&&(null==(n=e.Odt)?void 0:n.Tw)===qg.vE&&(null==(r=a.bt)||null==(i=r.dash)?void 0:i.forceRecreateMediaSourceOnAudioSwitch)?a.lkt(!0):a.lkt()},a.awt=function(t){var n;null==(n=a.pkt)||n.awt(t)},a.Tc=function(){a._o(new lg(a.ER,a.bR))},a.y9=function(t){a._o(new NW(a.ER,t.xw,t.Eb))},a.$kt=function(t){a.Bkt+=t.pO,a._o(t)},a.tEt=function(t){var n=t.segments.filter((function(t){return t.jct}));t.track===qg.vE?a.Okt=n.length:t.track===qg.mE&&(a.Fkt=n.length)},a.o7=function(){var t=a.ct;S(t)||t===a.lxt||(a.lxt=t,a._o(new fT(a.lxt)))},a.pxt=function(){a.ckt(),a.BEt()},a.gxt=function(t){a.VEt||!a.PR||a.uI||(a.VEt=!0,a._o(null!=t?t:new dT(a.ER)))},a.QEt=function(t){a.Ds(t),a.Zkt||(a.Zkt=!0,a.mxt.Sxt())},a.jEt=function(){a.Hyt.vdt.vn(oa.Uy,a.jEt),a._o(new UR)},a.iEt=function(t){var n;if(t.errorObject.code===td.CONTENT_PROTECTION_OUTPUT_RESTRICTED&&(null==(n=a.pkt)?void 0:n.twt.every((function(t){return!t.qdt}))))return;a.BH(t.errorObject),a._o(t)},a.eEt=function(t){a.BH(t.errorObject)},a.ewt=function(t){Bo(t)||a.BH(new id(td.MEDIA_DECODE_ERROR,t.message,t))},a.ckt=function(){if(!a.KR)if(a.Nkt())if(a.Lkt()){var t=a.Hyt.vdt.OSt;a.Rb(t,!0)}else;else{var n=a.Hyt.vdt.OSt;a.Rb(n,!0)}},a.UEt=function(t){a._xt=a.uI,a._o(t)},a.ZEt=function(t){var n=a._xt,i=a.uI;a._xt=i,n&&!i&&a._o(t),a.gxt()},a.sEt=function(){var t=a.vI,n=a.dI;a.dxt===t&&a.fxt===n||(a.dxt=t,a.fxt=n,a._o(new wp))},a.CEt=function(t){var n=t.Ht;n.CE===Vy.Qn?(a.bEt(n),a.SEt=n):n===a.SEt&&n.CE===Vy.Mh&&(a.SEt=void 0,a.TEt())},a.WEt=function(){a.M9||a.OEt&&(a.OEt.Vb(),a.OEt=void 0)},a.MEt=function(t){a.M9||a.OEt&&(a.OEt.Wb(t),a.OEt=void 0)},a.JEt=function(){a.ixt().catch(a.ewt)},a.bxt=function(t){a.BH(rw(t.lt))},a.wxt=function(){a.JTt()},a.yxt=function(){a.$Tt()},a.Axt=function(t){a.ekt(t.TG)},a.fW=n,a.zut=new kZ(u),a.WB=s,a.hkt=o,a.gZ=r,a.gZ.bn("yj",a.wxt),a.gZ.bn("Tj",a.yxt),a.tH=e,a.edt=i.retryConfiguration,a.cO=new Qk,a.dO=new Qk,a.hH=new Sk(n),a.hH.bn("contentProtectionsTracked",a.Axt),a.WB.bn(oa.Iy,a.o7),a.WB.bn(da.Py,a.y9),a.WB.bn(oa.Dy,a.gxt),a.WB.bn(oa.Jy,a.UEt),a.WB.bn(oa.Qy,a.ZEt),a.WB.bn(oa.jy,a.sEt),a.WB.bn(oa.hb,a.Tc),a.WB.bn([oa.ho,oa.zy],a.pxt),a.WB.bn(SZ,a.Ds),a.WB.bn(Uy.fa,a.bxt),a.WB.wH=a.hH,a.WB.T7=a,a.WB.bn([oa.Ey,oa.Ty],a.Ds),a.WB.bn(oa.vb,a.awt),a.mxt=new IZ(a,a.WB),a.mH=new Cp(a.mxt,!0),a.mH.bn(yp.WL,a.ckt),a.mH.bn(pp,a.Ds),a.IEt=new $k,a.IEt.bn(Tg.da,a.CEt),a.EEt=new $k,a.lW=a.Txt(),a.$Et=new $W(a.lW),a.txt=new dZ(a.lW),a.dH=new hp(a.WB,a.fW),a.vxt=new Hy,a.Hl=new Ik([a.IEt,a.$Et.Z,a.txt.Z,a.dH.Z,a.vxt]),a}It(n,t);var i=n.prototype;return i.QTt=function(t){return!!this.JG&&this.JG.dJ(t)},i.wp=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.WB.$n(t)];case 1:return n.JG=i.sent(),n.JTt(),n.$Tt(),n.JG.d4(n.ct),[2]}}))}))()},i.tkt=function(t){return this.JG._J(t)},i.ekt=function(t){return this.JG.mJ(t)},i.ikt=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.skt=t.nkt,t.JG?[4,t.WB.nr()]:[3,2];case 1:n.sent(),t.JG=void 0,n.label=2;case 2:return[2]}}))}))()},i.a3=function(){this.JG.a3()},i.J2=function(){var t=this.ct;this.JG.ct<t&&this.JG.d4(t),this.JG.J2()},i.rkt=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return i=n.JG,r=[],i.h4&&r.push(rN(i.h4,t)),i.a4&&r.push(rN(i.a4,t)),[4,et.all(r)];case 1:return e.sent(),[2]}}))}))()},i.okt=function(t,n,i,r,e,u){var s=this.WB,o=this.JG;return new _F(s,o,t,n,i,r,e,u,this.hkt,s,this.spt,this.edt,this.wpt,this.hH)},i.akt=function(t,n,i){return t._J(n,i,this.JG)},i.ukt=function(t,n,i,r){var e=this;return Zt((function(){var u;return Ht(this,(function(s){switch(s.label){case 0:return(u=e.okt(e.fW,e.gZ,e.zut,e.Sc,t,r)).bn(aO.vat,e.ckt),u.bn(oa.Hy,e.Ds),[4,u.xj(n,i)];case 1:return s.sent(),[2,u]}}))}))()},i.lkt=function(t){void 0===t&&(t=!1),this.dkt.jw(),this.r8.jw(),this.fkt.jw(),this.fkt=new Yo,this._kt=Zo(this.vkt(this.mkt,this.o8,this._kt,t,this.fkt.Uw),this.fkt).catch(this.ewt)},i.vkt=function(t,n,i,r,e){var u=this;return Zt((function(){var s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:return[4,et.all([t,n,i])];case 1:return v.sent(),Vo(e),[4,Wo(u.gkt.Ub,e)];case 2:return v.sent(),[4,(s=u.pkt).Xat()];case 3:return v.sent(),u.J2(),Vo(e),o=s.Cc,a=s.twt,c=s.$pt,h=u.wkt(o,c,o,a,!1),f=u.ykt(c,h),r||!u.QTt(f)?[3,5]:[4,u.bkt(c,h,f)];case 4:return v.sent(),[3,7];case 5:return h=u.wkt(o,c,o,a,!0),f=u.ykt(c,h),[4,u.Akt(c,h,f,e)];case 6:v.sent(),v.label=7;case 7:return Vo(e),u.uI?u.Rb(u.ER):u.Skt(),u.Tkt(),[2]}}))}))()},i.bkt=function(t,n,i){var r=this;return Zt((function(){var e;return Ht(this,(function(u){switch(u.label){case 0:return e=r.pkt,[4,r.tkt(i)];case 1:return u.sent(),r.kkt=i,[4,r.akt(e,t,n)];case 2:return u.sent(),[4,e.qat(uO.kht)];case 3:return u.sent(),[2]}}))}))()},i.Akt=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return u=e.pkt,e.d8(),e.Ekt(),s=e.xkt,[4,e.ikt()];case 1:return a.sent(),[4,e.wp(i)];case 2:return a.sent(),e.kkt=i,[4,e.akt(u,t,n)];case 3:a.sent(),a.label=4;case 4:return a.trys.push([4,,7,8]),qo(o=e.Rkt(s,!1,!0,r)),[4,u.qat(uO.kht)];case 5:return a.sent(),[4,o];case 6:return a.sent(),[3,8];case 7:return e.g8(),e.Ikt(),[7];case 8:return[2]}}))}))()},i.RR=function(t,n){this.Rb(t,t===1/0)},i.D9=function(){return!!this.uI&&(!(!this.pkt||!this.pkt.Upt)&&this.xkt===this.pkt.Tn)},i.Nkt=function(){var t,n,i=this.Mkt;if(0===i.V)return!0;var r=null!=(n=null==(t=this.XG)?void 0:t.Tn)?n:this.xkt,e=i.Sn(0);return r>=e||or(r,e,.001)},i.Lkt=function(){var t;if(!this.Hyt)return!1;if(this.Hyt.vdt.Tw!==BB.wW)return!1;var n=null==(t=this.pkt)?void 0:t.Cc;if(n&&n.mat)return!0;for(var i=[],r=0,e=this.Hyt.vdt.Gpt;r<e.length;r++){var u=e[r],s=u.Vyt,o=u.eSt;void 0!==s&&void 0!==o&&i.push(s,o)}var a=new SA(i).$L();return function(t,n,i){if(!n.V||!i.V)return SA.pB();var r=n.Sn(0),e=n.Tn(n.V-1),u=t.jn(i).jL().jn(t).tB(n);return SA.gB(u.Sn(0),u.Tn(u.V-1)).eB(u).uB((function(t,n){return t<r&&n<=e&&n-t>yr}))}(this.Ckt,this.Mkt,a).V>0},i.Gkt=function(t){this.Uo=this.Uo.tB(t)},i.Jkt=function(t){t.bn(TZ,this.Ds),t.bn(oa.sb,this.$kt),t.bn(oa.Ay,this.tEt),t.bn(Uy.fa,this.eEt),t.bn(oa.Ty,this.iEt),t.bn(oa.Ky,this.sEt),t.bn("jpt",this.nEt),t.bn("Rpt",this.nEt)},i.rEt=function(t){t.vn(TZ,this.Ds),t.vn(oa.sb,this.$kt),t.vn(oa.Ay,this.tEt),t.vn(Uy.fa,this.eEt),t.vn(oa.Ty,this.iEt),t.vn(oa.Ky,this.sEt),t.vn("jpt",this.nEt),t.vn("Rpt",this.nEt)},i.oEt=function(t){t.bn(oa.qy,this.Ds)},i.hEt=function(t){t.vn(oa.qy,this.Ds)},i.jkt=function(){if(this.pkt){var t=ho(this.pkt.$pt,(function(t){return t.Cat===qg.mE}));if(t)return t.RC}},i.Xkt=function(t){var n,i=null==(n=this.Hyt)?void 0:n.vdt;if(!i)return SA.pB();var r=i.FSt,e=t?i.$At:i.ibt;if(void 0===r||void 0===e)return SA.pB();if(!t){var u=this.Ukt;u.V>0&&u.Tn(u.V-1)>e&&(e=k.min(u.Tn(u.V-1),i.$At))}var s=this.ct;return isFinite(s)&&s>e&&(e=s),SA.gB(r,e).YL()},i.$n=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:Vo(n),u=i.Hyt.vdt;try{r=u.VSt,e=u.OSt}catch(t){throw new p("Something went wrong determining the start of the provided MPEG-DASH stream")}if(!r)throw new p("Something went wrong determining the initial Period of the provided MPEG-DASH stream");if(void 0===e)throw new p("Something went wrong determining the start time of the provided MPEG-DASH stream");return t.textTracks&&i.aEt(t.textTracks),i.d8(),s=i.fft(r),o=DW(r,s,void 0,void 0,i.Lpt),a=i.wkt(r,o,r,o,!0),o.forEach((function(t){return t.Rt=!0})),c=i.ykt(o,a),[4,i.wp(c)];case 1:return f.sent(),i.kkt=c,Vo(n),[4,i.ukt(r,s,o,a)];case 2:return h=f.sent(),Vo(n),i.uEt(h),i.g8(),Vo(n),[4,h.qat()];case 3:return f.sent(),Vo(n),!i.cEt&&e>0&&i.Rb(e,!0,UW.fTt),i.cZ||(i.Skt(),i.lEt()),[2]}}))}))()},i.Skt=function(){this.dkt.jw(),this.dkt=new Yo,this.mkt=Zo(this.dEt(this.mkt,this._kt,this.dkt.Uw),this.dkt).catch(this.ewt)},i.fEt=function(){this.dkt.jw()},i.dEt=function(t,n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){switch(s.label){case 0:return[4,et.all([t,n])];case 1:s.sent(),Vo(i),s.label=2;case 2:return(u=null==(e=r.pkt)?void 0:e.Cc)?[4,r._Et(u,i)]:[3,4];case 3:return s.sent()?[3,2]:[3,4];case 4:return[2]}}))}))()},i._Et=function(t,n){var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:Vo(n),e=i.pkt,s.label=1;case 1:return i.Hyt.vdt.Tw!==BB.wW||void 0!==(null==(r=i.QAt(t))?void 0:r.Vyt)?[3,4]:[4,Wo(i.vEt.$St,n)];case 2:return s.sent(),[4,i.mEt()];case 3:return s.sent(),[3,1];case 4:return Vo(n),[4,i.mEt()];case 5:s.sent(),Vo(n),s.label=6;case 6:return e.Bpt()?[3,9]:[4,e.py(VB.Tft,n)];case 7:return s.sent(),[4,i.mEt()];case 8:return s.sent(),[3,6];case 9:return Vo(n),[4,i.mEt()];case 10:return s.sent(),Vo(n),(u=i.QAt(t))?i.gEt(u)?[4,i.pEt(u,n)]:[3,12]:(i.a3(),[2,!1]);case 11:return s.sent(),[3,14];case 12:return[4,i.wEt(u,n)];case 13:s.sent(),s.label=14;case 14:return[2,!0]}}))}))()},i.gEt=function(t){var n,i,r,e,u,s=null!=(u=null==(n=this.Sc)?void 0:n.seamlessSwitchStrategy)?u:MA.JB;if(s===MA.$B)return!0;if(s===MA.tO)return!1;var o=this.pkt,a=null==o?void 0:o.Cc,c=null==o?void 0:o.$pt,h=DW(t,this.fft(t),a,c,this.Lpt),f=this.wkt(t,h,a,c,!1);if(s===MA.CLEAR_ONLY&&((null==(i=this.pkt)?void 0:i.upt)||f)||s===MA.SAME_DRM_ONLY&&!((null==(r=this.pkt)?void 0:r.upt)&&f||!(null==(e=this.pkt)?void 0:e.upt)&&!f))return!1;var v=this.ykt(h,f);return this.QTt(v)},i.yEt=function(){return!0},i.bEt=function(t){for(var n=this.AEt(),i=0;i<n.length;i++){var r=n[i];r!==t&&(r.CE=Vy.Mh)}},i.Tkt=function(){if(void 0!==this.SEt){if(this.SEt.FC){var t=ho(this.ht.lC,(function(t){return t.Rt}));void 0!==t&&this.SEt.gs===t.gs||(this.SEt.CE=Vy.Mh)}}else this.TEt()},i.TEt=function(){if(!this.AEt().length){var t=ho(this.ht.lC,(function(t){return t.Rt}));if(void 0!==t)for(var n=this.nt.lC.filter((function(t){return t.FC})),i=0;i<n.length;i++){var r=n[i];if(r.gs===t.gs)return r.CE=Vy.Qn,void(this.SEt=r)}}},i.AEt=function(){return this.nt.lC.filter((function(t){return t.CE===Vy.Qn&&(t.Lt===zy.$V||t.Lt===zy.JV)}))},i.kEt=function(t){if(t&&this.SEt){var n=function(t,n){if(""!==t.gs)return n.filter((function(n){return n.gs===t.gs}))[0]}(this.SEt,t.nt.lC);n&&(n.CE=Vy.Qn)}},i.pEt=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h,f,v,d,l;return Ht(this,(function(g){switch(g.label){case 0:u=i.pkt,s=i.Pkt,o=i.kkt,g.label=1;case 1:return g.trys.push([1,16,,22]),Vo(n),a=u.Cc,c=u.$pt,h=i.fft(t),f=DW(t,h,a,c,i.Lpt),v=i.wkt(t,f,a,c,!1),f.forEach((function(t){return t.Rt=!0})),d=i.ykt(f,v),[4,u.Xat()];case 2:return g.sent(),i.J2(),Vo(n),s&&s.Cc===t?i.QTt(d)?[4,i.tkt(d)]:[3,4]:[3,5];case 3:g.sent(),g.label=4;case 4:return i.kkt=d,[3,11];case 5:return s?[4,s.yn(!0)]:[3,7];case 6:g.sent(),g.label=7;case 7:return i.QTt(d)?[4,i.tkt(d)]:[3,9];case 8:g.sent(),g.label=9;case 9:return i.kkt=d,[4,i.ukt(t,h,f,v)];case 10:s=g.sent(),i.Pkt=s,i.oEt(s),i.EEt.vC=s.nt,s.Yat(u),g.label=11;case 11:return[4,s.qat()];case 12:g.sent(),Vo(n),g.label=13;case 13:return i.xkt<t.Sn?[4,i.WB.py(oa.hb,n)]:[3,15];case 14:return g.sent(),[3,13];case 15:return Vo(n),i.uEt(s),[3,22];case 16:return Bo(l=g.sent())?s?[4,s.Xat()]:[3,18]:[3,21];case 17:g.sent(),g.label=18;case 18:return o&&i.kkt!==o?i.QTt(o)?[4,i.tkt(o)]:[3,20]:[3,21];case 19:g.sent(),g.label=20;case 20:i.kkt=o,g.label=21;case 21:throw l;case 22:return(null==(e=i.Sc)||null==(r=e.dash)?void 0:r.forceSeekToSynchronize)?[4,i.xEt(t,n)]:[3,24];case 23:g.sent(),g.label=24;case 24:return[2]}}))}))()},i.xEt=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return r=Date.now()/1e3,void 0!==i.REt?[3,1]:(i.REt=r,[3,5]);case 1:if(!(r-i.REt>900))return[3,5];i.REt=r,i.Ekt(),e=k.max(i.xkt,t.Sn),u.label=2;case 2:return u.trys.push([2,,4,5]),[4,i.Rkt(e,!1,!0,n)];case 3:return u.sent(),[3,5];case 4:return i.Ikt(),[7];case 5:return[2]}}))}))()},i.wEt=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h,f,v,d,l;return Ht(this,(function(g){switch(g.label){case 0:return Vo(n),[4,i.pkt.Xat()];case 1:return g.sent(),i.J2(),[4,i.rkt(t.Sn)];case 2:g.sent(),Vo(n),i.a3(),g.label=3;case 3:return!i.WB.PR&&i.xkt<t.Sn?[4,i.WB.py([oa.hb,oa.Dy],n)]:[3,5];case 4:return g.sent(),[3,3];case 5:return Vo(n),r=i.pkt.Cc,e=i.pkt.$pt,u=i.fft(t),s=DW(t,u,r,e,i.Lpt),o=i.wkt(t,s,r,e,!0),s.forEach((function(t){return t.Rt=!0})),a=i.ykt(s,o),i.pkt?(i.IEt.vn(Tg.da,i.CEt),[4,i.pkt.yn()]):[3,7];case 6:g.sent(),i.IEt.bn(Tg.da,i.CEt),i.pkt=void 0,g.label=7;case 7:return i.Pkt?[4,i.Pkt.yn()]:[3,9];case 8:g.sent(),i.Pkt=void 0,g.label=9;case 9:return i.Ekt(),i.d8(),c=k.max(i.xkt,t.Sn),[4,i.ikt()];case 10:return g.sent(),[4,i.wp(a)];case 11:return g.sent(),i.kkt=a,[4,i.ukt(t,u,s,o)];case 12:h=g.sent(),i.uEt(h),g.label=13;case 13:g.trys.push([13,,20,21]),f={stack:[],error:void 0,hasError:!1},g.label=14;case 14:return g.trys.push([14,17,18,19]),qo(v=i.Rkt(c,!1,!0,n)),[4,h.qat()];case 15:return g.sent(),d=Yt(f,Yo.$w([n]),!1),[4,et.race([v,h.py([VB.Tft],d.Uw)])];case 16:return g.sent(),[3,19];case 17:return l=g.sent(),f.error=l,f.hasError=!0,[3,19];case 18:return jt(f),[7];case 19:return[3,21];case 20:return i.g8(),i.Ikt(),[7];case 21:return[2]}}))}))()},i.mEt=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return(n=t.Pkt)?n.Cc.mat?[4,n.yn(!0)]:[3,2]:[2];case 1:i.sent(),t.Pkt=void 0,i.label=2;case 2:return[2]}}))}))()},i.fft=function(t){for(var i=[],r=[],e=0,u=t.Ppt;e<u.length;e++){var s=u[e];if(Jg(s.Tw))if(0===s.Jat.length)this._o(new OB("No supported representation found in the AdaptationSet with mimetype : "+s.Tw));else if(s.Tw===qg.vE){var o;(o=i).push.apply(o,Ft(s.gft))}else{var a;(a=r).push.apply(a,Ft(s.gft))}}var c=[];return i.length>0&&c.push(n.PEt(qg.vE,i)),r.length>0&&c.push(n.PEt(qg.mE,r)),c},i.ykt=function(t,n){var i,r,e,u,s,o,a,c,h,f=this,v=t.map((function(t){var n;return rB.Blt(null!=(n=t.Udt)?n:t.Jat,kA(t.Cat,f.Lpt))})).map((function(t){return{Mk:t.Mk}})),d=null==(r=this.Sc)||null==(i=r.dash)?void 0:i.desiredTimescale,l=(null==(e=this.Sc)?void 0:e.seamlessSwitchStrategy)!==MA.tO&&(null==(u=this.Sc)?void 0:u.seamlessSwitchStrategy)!==MA.CLEAR_ONLY&&(null==(s=this.Sc)?void 0:s.seamlessSwitchStrategy)!==MA.SAME_DRM_ONLY&&(null!=(h=null==(a=this.Sc)||null==(o=a.dash)?void 0:o.needsTimescaleShifting)?h:Kn.Ys.ap),g=null==(c=this.Sc)?void 0:c.useManagedMediaSource;return{Tw:mp.wW,g4:v,sH:cZ(n),_9:null==n?void 0:n._9,ap:l,r3:d,C4:g}},i.wkt=function(t,i,r,e,u){var s,o,a,c=this.Sc.contentProtection,h=n.DEt(i,c);if(void 0!==h)return h;var f=null!=(a=null==(s=this.Sc)?void 0:s.seamlessSwitchStrategy)?a:MA.JB;if(f!==MA.tO&&f!==MA.CLEAR_ONLY&&f!==MA.SAME_DRM_ONLY){var v=null==(o=this.pkt)?void 0:o.upt;if(!u&&void 0!==v){var d=!v._9;if(f===MA.JB&&d&&!this.yEt())return;return v}var l=!u&&f===MA.JB;if(void 0!==(h=this.NEt(t,c,r,e,l)))return h._9=!0,h}},i.NEt=function(t,i,r,e,u){for(var s=t,o=!1;;)if(void 0!==(s=o?this.JAt(s):this.QAt(s))){var a=DW(s,this.fft(s),r,e,this.Lpt),c=n.DEt(a,i);if(u){var h=this.ykt(a,c);if(!this.QTt(h))return}if(void 0!==c)return c}else{if(o)return;o=!0,s=t}},i.aEt=function(t){for(var n=0;n<t.length;n++){var i=t[n];i.src&&this.dH.cW(i)}gp(this.dH.Z)},i.EI=function(){var t,n=this.KR;this.Vkt=!0,n||(this.M9||(this.MEt(new Oo),this.LEt()),(null==(t=this.ZG)?void 0:t.wB)&&this.ZG.RI(),this.BEt())},i.xI=function(){this.OEt||(this.OEt=new Gc),this.FEt();var t=this.OEt.Ub;return qo(t),t},i.FEt=function(){if(this.Vkt=!1,this.X9=!0,this.VEt=!1,this.Hkt(),this.PR){var t=this.Mkt;t.V>0&&this.Rb(t.Sn(0))}this.M9||this.q9().then(this.WEt,this.MEt),this.ckt(),this.BEt()},i.q9=function(){return this.WB.xI()},i.LEt=function(){this.WB.EI()},i.d8=function(){this.M9||(this.Vkt=this.KR,this.M9=!0,this.LEt())},i.g8=function(){this.M9&&(this.M9=!1,this.Vkt||this.q9().then(this.WEt,this.MEt),this.ckt(),this.BEt())},i.BEt=function(){var t=this.MW,n=this.KR;t!==n&&(this.MW=n,n?this._o(new cT(this.ER)):this._o(new hT(this.ER)))},i.Rb=function(t,n,i){return void 0===n&&(n=!1),void 0===i&&(i=UW.dTt),this.cEt=!0,this.dkt.jw(),this.r8.jw(),this.cZ=!0,this.P9=t,this.VEt=this.VEt&&this.D9(),this.Gkt(this.Ukt),this.UEt(new lT(this.ER)),this.r8=new Yo,this.o8=Zo(this.h8(t,this.mkt,this.o8,this._kt,this.r8.Uw,n,i),this.r8).catch(this.ewt),this.o8},i.GEt=function(){this.r8.jw()},i.h8=function(t,n,i,r,e,u,s,o){void 0===u&&(u=!1),void 0===s&&(s=UW.dTt),void 0===o&&(o=!1);var a=this;return Zt((function(){var c,h,f,v,d,l,g,w,m,y,p,_,b,k,A,T,S,E;return Ht(this,(function(I){switch(I.label){case 0:null==(c=a.ZG)||c.RI(),0,I.label=1;case 1:return I.trys.push([1,30,,31]),[4,et.all([n,i,r])];case 2:return I.sent(),Vo(e),[4,Wo(a.gkt.Ub,e)];case 3:return I.sent(),v=a.Mkt.KL(t),a.P9=v,d=o||(null==(f=a.Sc)||null==(h=f.dash)?void 0:h.forceHardSwitchWhenSeekingBackwards)&&v<=a.ER,l=a.HEt(v),g=a.pkt,d||!g||!g.hI.wr(v)&&s!==UW.fTt&&g.Cc!==l?[3,8]:!(w=a.Pkt)||w.Hpt?[3,7]:[4,w.Xat()];case 4:return I.sent(),a.J2(),m=a.ykt(g.twt,g.upt),a.QTt(m)?[4,a.tkt(m)]:[3,6];case 5:I.sent(),I.label=6;case 6:a.kkt=m,I.label=7;case 7:return[3,27];case 8:return l?(y=a.Pkt,a.d8(),g?[4,g.Xat()]:[3,10]):[3,27];case 9:I.sent(),I.label=10;case 10:return!y||y.Cc!==l||d?[3,13]:(p=a.ykt(y.twt,y.upt),a.J2(),a.QTt(p)?[4,a.tkt(p)]:[3,12]);case 11:I.sent(),I.label=12;case 12:return a.kkt=p,[3,25];case 13:return y?[4,y.yn(!0)]:[3,15];case 14:I.sent(),I.label=15;case 15:return _=a.fft(l),b=null==g?void 0:g.Cc,k=null==g?void 0:g.$pt,A=DW(l,_,b,k,a.Lpt),T=a.wkt(l,A,b,k,!1),A.forEach((function(t){return t.Rt=!0})),S=a.ykt(A,T),!a.gEt(l)||d?[3,18]:(a.J2(),a.QTt(S)?[4,a.tkt(S)]:[3,17]);case 16:I.sent(),I.label=17;case 17:return[3,23];case 18:return T=a.wkt(l,A,b,k,!0),S=a.ykt(A,T),g?(a.IEt.vn(Tg.da,a.CEt),[4,g.yn()]):[3,20];case 19:I.sent(),a.IEt.bn(Tg.da,a.CEt),a.pkt=void 0,I.label=20;case 20:return[4,a.ikt()];case 21:return I.sent(),[4,a.wp(S)];case 22:I.sent(),I.label=23;case 23:return a.kkt=S,[4,a.ukt(l,_,A,T)];case 24:y=I.sent(),a.Pkt=y,a.EEt.vC=y.nt,a.oEt(y),y.Yat(a.pkt),I.label=25;case 25:return[4,y.qat(uO.xht)];case 26:return I.sent(),a.uEt(y),[3,27];case 27:return qo(E=a.Rkt(v,u,!1,e)),a.P9=void 0,[4,a.pkt.qat(uO.xht)];case 28:return I.sent(),Vo(e),a.Skt(),[4,E];case 29:return I.sent(),Vo(e),a.g8(),a.cZ=!1,a.ZEt(new gT(a.ER)),a.lEt(),[3,31];case 30:return Bo(I.sent())?[2]:[3,31];case 31:return[2]}}))}))()},i.lEt=function(){if(!this.KR&&!this.uI&&void 0!==this.KB){var t,n,i=this.ER;if(this.ER+this.KB-this.yI.kd.maximumOffset<i)null==(t=this.ZG)||t.Sn();else null==(n=this.ZG)||n.RI()}},i.Rkt=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a,c,h,f,v,d;return Ht(this,(function(l){switch(l.label){case 0:u=!0,s=t,l.label=1;case 1:0,c={stack:[],error:void 0,hasError:!1},l.label=2;case 2:if(l.trys.push([2,4,5,6]),(h=e.zkt).V>0&&(f=h.KL(t),s!==f&&(h.wr(s)&&e.Hyt.vdt.Tw===BB.wW||(s=f,u=!0))),u)u=!1,null==a||a.jw(),(a=new Yo).Qw(r),qo(o=Zo(e.XEt(s,n,i,a.Uw),a));else if(!e.qkt&&!e.M4)return[3,7];return v=Yt(c,Yo.$w([r]),!1),[4,et.race([o,e.py([oa.$y,oa.Iy],v.Uw),e.Hyt.vdt.py(aO.fat,v.Uw)])];case 3:return l.sent(),[3,6];case 4:return d=l.sent(),c.error=d,c.hasError=!0,[3,6];case 5:return jt(c),[7];case 6:return[3,1];case 7:return[2]}}))}))()},i.XEt=function(t,n,i,r){var e=this;return Zt((function(){return Ht(this,(function(u){switch(u.label){case 0:e.WB.Rb(t,n,i),u.label=1;case 1:return e.qkt||e.M4?[4,e.WB.py([oa.Qy,oa.Vy],r)]:[3,3];case 2:return u.sent(),[3,1];case 3:return[2]}}))}))()},i.Ekt=function(){void 0===this.Dkt&&(this.Dkt=this.xkt,this.WB.vn(oa.Jy,this.UEt),this.WB.vn(oa.Qy,this.ZEt))},i.Ikt=function(){if(void 0!==this.Dkt){var t=this.xkt;this.Dkt=void 0,this.WB.bn(oa.Jy,this.UEt),this.WB.bn(oa.Qy,this.ZEt),this.xkt!==t&&this.Tc()}},i.zEt=function(t){this.Uo=this.Uo.tB(t)},i.HEt=function(t){var n=this.Hyt.vdt,i=n.Gpt.filter((function(t){return t.ct>=.2}));if(0!==i.length){var r=i[0];if(t<=r.Sn)return r;for(var e=0;e<i.length;e++){var u=i[e];if(u.Tn>t)return u}return n.Tw!==BB.wW?i[i.length-1]:void 0}},i.JAt=function(t){for(var n=t.rwt;n&&n.ct<.2;)n=n.rwt;return n},i.QAt=function(t){for(var n=t.owt;n&&n.ct<.2;)n=n.owt;return n},i.Ca=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:e={stack:[],error:void 0,hasError:!1},v.label=1;case 1:return v.trys.push([1,8,9,10]),r.hH.kG(t.contentProtection),r.qEt(),!r.Sc||nT(r.Sc)?[3,3]:[4,r.nr()];case 2:v.sent(),v.label=3;case 3:return!t||nT(t)?[2]:(s=Yt(e,Yo.$w([i]),!1),r.vW=Yo.$w([s.Uw]),r.Sc=t,r.YEt=n,r.Lpt=t.abr,r.wpt=t.ignoreEmbeddedTextTrackTypes,o=new ZW(r.fW,Boolean(r.Sc.useCredentials),r.edt),a=zW(o,r.zut),r.BSt(!0),r.vEt=new IW({VC:Kn.Ih(r.Sc.src),GSt:null!=(c=null==(u=r.Sc.latencyConfiguration)?void 0:u.targetOffset)?c:r.Sc.liveOffset,qSt:r.Sc.timeServer,xE:r.Sc.useCredentials},r.KEt(r.Lpt),r.fW,a,r.Sc.dash),r.Hyt=r.vEt.Er,r.Hyt.vdt.bn(oa.Uy,r.jEt),r.Hyt.vdt.bn(oa.Gy,r.QEt),r.Hyt.vdt.bn(eW.oSt,r.JEt),r.Hyt.vdt.bn(aO.fat,r.ckt),[4,r.$Et.$n(r.Hyt.vdt)]);case 4:return v.sent(),[4,r.txt.$n(r.Hyt.vdt)];case 5:return v.sent(),po(r.wpt,Tw.EMSG)?[3,7]:(r.spt=new bZ(r.lW),r.Hl.MG(r.spt.Z),[4,r.spt.$n(r.Hyt.vdt)]);case 6:v.sent(),v.label=7;case 7:return t.latencyConfiguration&&(h=t.latencyConfiguration,r.ZG=new AZ(r,r.WB,h),r.ZG.Rt=!0,r.tH.Aa(r.ZG)),r.Hkt(),s.Xw(),[3,10];case 8:return f=v.sent(),e.error=f,e.hasError=!0,[3,10];case 9:return jt(e),[7];case 10:return[2]}}))}))()},i.ixt=function(){var t=this;return Zt((function(){var n,i,r;return Ht(this,(function(e){switch(e.label){case 0:return n=t.Hyt.vdt.qR,t.BSt(n),n?(t.nEt(),[3,3]):[3,1];case 1:return[4,et.all([null==(i=t.pkt)?void 0:i.Xat(uO.Ght),null==(r=t.Pkt)?void 0:r.Xat(uO.Ght)].filter(Yn))];case 2:e.sent(),t.fEt(),t.GEt(),t.fkt.jw(),e.label=3;case 3:return[2]}}))}))()},i.BSt=function(t){this.LSt!==t&&(this.LSt=t,this._o(t?new jW:new KW))},i.Hkt=function(){this.Hyt&&(this.sxt=this.nxt(this.sxt,this.vW.Uw).catch(this.ewt))},i.nxt=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return t?[4,t]:[3,2];case 1:e.sent(),Vo(n),e.label=2;case 2:return e.trys.push([2,7,,8]),i.iI===zT.JB||i.X9?[4,i.rxt(n)]:[3,4];case 3:return e.sent(),[3,6];case 4:return i.iI!==zT.eW?[3,6]:[4,i.oxt(n)];case 5:return e.sent(),[3,6];case 6:return[3,8];case 7:throw Fo(r=e.sent()),i.BH(new id(td.MANIFEST_LOAD_ERROR,r.message,r)),r;case 8:return[2]}}))}))()},i.rxt=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,n.oxt(t)];case 1:r.sent(),n.hxt||(n.hxt=!0,n.gkt.Qw(n.$n(n.YEt,t))),r.label=2;case 2:return r.trys.push([2,4,,5]),[4,n.gkt.Ub];case 3:return r.sent(),[3,5];case 4:return Fo(i=r.sent()),n.BH(new id(td.MEDIA_DECODE_ERROR,i.message,i)),[3,5];case 5:return[2]}}))}))()},i.oxt=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return[4,Wo(n.vEt.W,t)];case 1:return a.sent(),i=n.Hyt.vdt,void 0===n.ZG&&i.Tw===BB.wW&&(r=i.Dyt,e=(null==r?void 0:r.fSt)?(null==r?void 0:r.fSt)/1e3:i.WSt,u=(null==r?void 0:r.cSt)?(null==r?void 0:r.cSt)/1e3:.5*e,s=(null==r?void 0:r.dSt)?(null==r?void 0:r.dSt)/1e3:1.5*e,o={minimumOffset:u,maximumOffset:s,targetOffset:e,forceSeekOffset:2.5*e,minimumPlaybackRate:IA,maximumPlaybackRate:RA},n.ZG=new AZ(n,n.WB,o),n.tH.Aa(n.ZG)),[2]}}))}))()},i.uEt=function(t){var i=this.pkt;t!==i&&(this.pkt&&this.rEt(this.pkt),this.Pkt&&this.hEt(this.Pkt),i&&this.Gkt(this.Ukt),this.pkt=t,this.Pkt=i,this.Jkt(this.pkt),this.Pkt&&this.oEt(this.Pkt),this.cO.vC=t.ht,this.dO.vC=t.rt,this.kEt(t),this.IEt.vn(Tg.da,this.CEt),n.axt(this.IEt),this.IEt.bn(Tg.da,this.CEt),this.IEt.vC=t.nt,this.EEt.vC=void 0,this.TEt())},i.ge=function(){this.WB.ge()},i.be=function(){this.WB.be()},i.BH=function(t){this.YG||(qo(this.nr()),this.YG=iw(t),this.KG=t,this._o(new yk(t)))},i.qEt=function(){this.YG=void 0,this.KG=void 0},i.JTt=function(){var t=this.JG;t&&(t.a4&&(t.a4.bj=this.gZ.Dj),t.h4&&(t.h4.bj=this.gZ.Dj))},i.$Tt=function(){var t=this.JG;t&&(t.a4&&(t.a4.Ej=this.gZ.Ej),t.h4&&(t.h4.Ej=this.gZ.Ej))},i.determineStallJumpTarget=function(){if(this.pkt)return this.pkt.Bpt()&&this.ER>this.pkt.Tn-$C&&!this.pkt.Upt?this.pkt.Tn:void 0},i.nr=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:if(t.uxt)return[2,t.uxt];n.label=1;case 1:return n.trys.push([1,,3,4]),t.uxt=t.cxt(),[4,t.uxt];case 2:return n.sent(),[3,4];case 3:return t.uxt=void 0,[7];case 4:return[2]}}))}))()},i.cxt=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.QR=1,t.vW.jw(),t.GEt(),t.fEt(),t.fkt.jw(),t.gkt.jw(),t.cEt=!1,t.EI(),t.X9=!1,t.VEt=!1,t.cO.vC=void 0,t.dO.vC=void 0,t.IEt.vC=void 0,t.EEt.vC=void 0,t.sxt?[4,t.sxt.catch(bi)]:[3,2];case 1:n.sent(),t.sxt=void 0,n.label=2;case 2:return[4,et.all([t.mkt,t.o8,t._kt,t.gkt.Ub.catch(bi)])];case 3:return n.sent(),t.pkt?[4,t.pkt.yn(!0)]:[3,5];case 4:n.sent(),t.pkt=void 0,n.label=5;case 5:return t.Pkt?(t.hEt(t.Pkt),[4,t.Pkt.yn(!0)]):[3,7];case 6:n.sent(),t.Pkt=void 0,n.label=7;case 7:return[4,t.ikt()];case 8:return n.sent(),t.kkt=void 0,t.SEt=void 0,t.mH.nr(),[4,t.$Et.nr()];case 9:return n.sent(),[4,t.txt.nr()];case 10:return n.sent(),void 0===t.spt?[3,12]:(t.Hl.FG(t.spt.Z),[4,t.spt.yn()]);case 11:n.sent(),t.spt=void 0,n.label=12;case 12:return t.lW.nr(),t.Hyt?(t.Hyt.vdt.vn(oa.Uy,t.jEt),t.Hyt.vdt.vn(oa.Gy,t.QEt),t.Hyt.vdt.vn(eW.oSt,t.JEt),[4,t.vEt.yn()]):[3,14];case 13:n.sent(),t.Hyt=void 0,n.label=14;case 14:return t.Zkt=!1,t.lxt=NaN,t.dxt=0,t.fxt=0,t.Dkt=void 0,t.M9=!1,t.Uo=SA.pB(),t.MW=!0,t.P9=void 0,t._xt=!1,t.cZ=!1,t.hxt=!1,t.gkt=new Gc,t.Bkt=0,t.Okt=0,t.Fkt=0,t.Sc=void 0,t.YEt=void 0,t.wpt=[],t.REt=void 0,t.tH.nr(),t.ZG=void 0,t.skt={_O:0,vO:0,mO:0},[4,t.dH.nr()];case 15:return n.sent(),t.WB.vH(),t.vxt.nr(),[2]}}))}))()},i.yn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.Ro(),t.qEt(),[4,t.nr()];case 1:return n.sent(),t.Ro(),t.cO.yn(),t.dO.yn(),t.IEt.yn(),t.EEt.yn(),t.Hl.yn(),t.mH.yn(),t.mxt.Xw(),[4,t.$Et.yn()];case 2:return n.sent(),[4,t.txt.yn()];case 3:return n.sent(),t.lW.yn(),t.vxt.yn(),t.WB.vn(oa.Iy,t.o7),t.WB.vn(da.Py,t.y9),t.WB.vn(oa.Dy,t.gxt),t.WB.vn(oa.Jy,t.UEt),t.WB.vn(oa.Qy,t.ZEt),t.WB.vn(oa.jy,t.sEt),t.WB.vn(oa.hb,t.Tc),t.WB.vn([oa.ho,oa.zy],t.pxt),t.WB.vn(SZ,t.Ds),[4,t.dH.yn()];case 4:return n.sent(),t.Hl.yn(),t.gZ.vn("yj",t.wxt),t.gZ.vn("Tj",t.yxt),t.WB.vn(Uy.fa,t.bxt),t.WB.vn([oa.Ey,oa.Ty],t.Ds),t.WB.vn(oa.vb,t.awt),t.WB.wH=void 0,t.hH.vn("contentProtectionsTracked",t.Axt),t.WB.T7=void 0,[2]}}))}))()},i.SI=function(){return this.WB.Sa},i.ja=function(){return this.WB.fH},i.II=function(){return!1},i.CI=function(){},i.DI=function(){},i.NI=function(){},i.MI=function(){this.lkt(!0)},i.OI=function(t){var n=this.WB._H(t);return this.vxt.tt(n),n},n.PEt=function(t,n){for(var i=[],r=[],e=!n.some((function(t){return t.vft.some((function(t){return"main"===t.Mx}))})),u=0;u<n.length;u++){var s=n[u];if(-1===i.indexOf(s)){var o=RZ(s.Rdt.concat(s.vft),e);e=!1;for(var a=s.Jat.map((function(t){return t.pat})),c=new DB(s,a,o),h=CZ(s,n),f=0;f<h.length;f++){var v=h[f];c.Hdt(v),i.push(v)}r.push(c)}}return new CW(t,r)},n.DEt=function(t,n){if(t.length){for(var i,r=0;r<t.length;r++){var e=t[r],u=0===e.zdt.length;i=rZ(i,oZ(e.Act,n,u))}return(null==n?void 0:n.preferredKeySystems)&&i&&(i.cpt=vZ(i.cpt,n.preferredKeySystems)),i}},n.axt=function(t){for(var n=0,i=t.lC;n<i.length;n++){i[n].CE=Vy.Mh}},Nt(n,[{key:"ht",get:function(){return this.cO}},{key:"XG",get:function(){var t=this.xkt,n=this.Ckt,i=n.sB(t);if(-1!==i)return{Sn:n.Sn(i),Tn:n.Tn(i)}}},{key:"Ckt",get:function(){var t,n,i,r,e=null!=(i=null==(t=this.pkt)?void 0:t.wR)?i:SA.pB(),u=null!=(r=null==(n=this.Pkt)?void 0:n.wR)?r:SA.pB();return e.tB(u)}},{key:"wR",get:function(){return this.Ckt.ks()}},{key:"bR",get:function(){var t,n=null==(t=this.Hyt)?void 0:t.vdt,i=null==n?void 0:n.byt;if(n&&i){var r=i.getTime(),e=1e3*this.ER;return new Date(e+r)}},set:function(t){var n,i=null==(n=this.Hyt)?void 0:n.vdt,r=null==i?void 0:i.byt;if(t&&i&&r){var e=r.getTime()/1e3,u=t.getTime()/1e3;this.Rb(u-e)}}},{key:"bt",get:function(){return this.Sc}},{key:"xkt",get:function(){return void 0!==this.P9?this.P9:void 0!==this.Dkt?this.Dkt:this.WB.ER}},{key:"ER",get:function(){return this.xkt},set:function(t){this.RR(t)}},{key:"ct",get:function(){var t=NaN;return this.pkt&&this.pkt.Upt?t=this.pkt.Tn:this.Hyt&&void 0!==this.Hyt.vdt.Tw&&(t=this.Hyt.vdt.Eyt?this.Hyt.vdt.Eyt.cwt():1/0),t}},{key:"Tn",get:function(){return this.ct}},{key:"PR",get:function(){return this.uI?this.D9():!(!this.pkt||!this.pkt.Upt)&&this.WB.PR}},{key:"lt",get:function(){return this.YG}},{key:"MR",get:function(){return this.KG}},{key:"OR",get:function(){}},{key:"GR",get:function(){return ns({},this.nkt,{gO:bk.Vg.cG(),pO:this.Bkt,wO:{amountOfBufferedAudioSegments:this.Okt,amountOfBufferedVideoSegments:this.Fkt}})}},{key:"nkt",get:function(){return function(t,n){return{_O:t._O+n._O,vO:t.vO+n.vO,mO:t.mO+n.mO}}(this.skt,this.WB.HR())}},{key:"ZR",get:function(){return this.WB.ZR},set:function(t){this.WB.ZR=t}},{key:"KR",get:function(){return this.M9?this.Vkt:this.pkt&&this.pkt.Upt?this.Wkt:this.Vkt}},{key:"QR",get:function(){return this.WB.QR},set:function(t){this.WB.QR=t}},{key:"tI",get:function(){var t=this.Uo;return this.pkt&&(t=t.tB(this.Ukt)),t.$L(.1).ks()}},{key:"Ukt",get:function(){return this.WB.tI}},{key:"iI",get:function(){return this.QG},set:function(t){this.QG=t,this.Hkt()}},{key:"rI",get:function(){var t=this.WB.rI;return this.Zkt&&(t=k.max(bp.Xn,t)),t}},{key:"Mkt",get:function(){return this.Xkt(!1)}},{key:"zkt",get:function(){return this.Xkt(!0)}},{key:"hI",get:function(){return this.Mkt.ks()}},{key:"uI",get:function(){return this.cZ||this.qkt}},{key:"qkt",get:function(){return this.WB.uI}},{key:"M4",get:function(){return this.WB.M4}},{key:"$G",get:function(){}},{key:"Ykt",get:function(){var t,n;return null!=(n=null==(t=this.Hyt)?void 0:t.vdt.Tw)?n:BB.pW}},{key:"nt",get:function(){return this.Hl}},{key:"rt",get:function(){return this.dO}},{key:"dI",get:function(){var t;return this.Kkt||(null==(t=this.jkt())?void 0:t.Ti)||0}},{key:"vI",get:function(){var t;return this.Qkt||(null==(t=this.jkt())?void 0:t.ji)||0}},{key:"gI",get:function(){return this.WB.gI},set:function(t){this.WB.gI=sr(t,0,1)}},{key:"yI",get:function(){return this.tH}},{key:"AI",get:function(){return!1},set:function(t){}},{key:"eH",get:function(){return this.iH}},{key:"Wkt",get:function(){return this.WB.KR}},{key:"qR",get:function(){return this.LSt}},{key:"WR",get:function(){return!1}},{key:"KB",get:function(){var t,n=null==(t=this.Hyt)?void 0:t.vdt;if(n&&n.Tw===BB.wW&&n.byt)return n._dt().getTime()/1e3-n.byt.getTime()/1e3-this.ER}}]),n}(ra),IZ=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).na=n,r}return It(n,t),n.prototype.Sxt=function(){this._o(new _p(this.ER,this.rI))},Nt(n,[{key:"rI",get:function(){return this.na.rI}}]),n}(Np);function RZ(t,n){var i=t.filter((function(t){return"urn:mpeg:dash:role:2011"===t.c9})).map((function(t){return t.Mx})).filter(Yn);return n||po(i,"main")?po(i,"caption")?"captions":po(i,"subtitle")?"subtitles":po(i,"dub")?"translation":"main":po(i,"sign")?"sign":po(i,"description")?"descriptions":po(i,"commentary")?"commentary":"alternative"}function CZ(t,n){for(var i,r,e=function(t){var i=s[t],r=Number(i),e=ho(n,(function(t){return t.o===r}));e&&o.push(e)},u=ho(Ft(t.Lwt).concat(Ft(t.Bwt)),(function(t){return"urn:mpeg:dash:adaptation-set-switching:2016"===t.c9})),s=null!=(r=null==u||null==(i=u.Mx)?void 0:i.split(","))?r:[],o=[],a=0;a<s.length;a++)e(a);return o}var NZ=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,n,i,r,e,u,s,new MM(o))||this).rot=o,Gn.eg&&(a.kxt=new JM(a)),a}It(n,t);var i=n.prototype;return i.TI=function(){if(xM(this.WB))return this.WB.TI()},i.yn=function(){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,t.prototype.yn.call(n)];case 1:return r.sent(),null==(i=n.kxt)||i.yn(),[2]}}))}))()},i.gEt=function(n){var i,r;return((null!=(r=null==(i=this.Sc)?void 0:i.seamlessSwitchStrategy)?r:MA.JB)!==MA.JB||!Gn.Sg)&&t.prototype.gEt.call(this,n)},i.yEt=function(){return!(Gn.Cm&&Gn.Dm<3)&&t.prototype.yEt.call(this)},i.Txt=function(){return new OM(this,new FD)},i.KEt=function(t){return LM(t)},Nt(n,[{key:"Kkt",get:function(){return xM(this.WB)?this.WB.dI:0}},{key:"Qkt",get:function(){return xM(this.WB)?this.WB.vI:0}}]),n}(EZ),DZ=function(t){function n(n,i,r,e,u,s,o,a){var c,h=new qM(s),f=h.OH(o);return(c=t.call(this,n,i,r,e,u,f,a)||this).bH=h,c}return It(n,t),n.prototype.yn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.yn.call(n)];case 1:return i.sent(),[4,n.bH.yH(n.WB)];case 2:return i.sent(),[2]}}))}))()},n}(NZ);function PZ(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt();var xZ=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).sx=n,r}It(n,t);var i=n.prototype;return i.yR=function(){return t.prototype.yR.call(this).xb(this.Ext)},i.Pot=function(){return t.prototype.Pot.call(this).xb(this.Ext)},i.g2=function(n,i,r){var e=this.Ext;return t.prototype.g2.call(this,n,{wit:i.wit-e,ct:i.ct,BV:i.BV-e},r)},i.F2=function(n,i){var r=this.Ext;return t.prototype.F2.call(this,k.max(0,n-r),k.max(0,i-r))},i.eT=function(n,i,r){var e=this.Ext;return t.prototype.eT.call(this,k.max(0,n-e),k.max(0,i-e),r)},i.A3=function(n,i){var r=this.Ext;t.prototype.A3.call(this,k.max(0,n-r),k.max(0,i-r))},i.S3=function(n,i){var r=this.Ext;t.prototype.S3.call(this,k.max(0,n-r),k.max(0,i-r))},Nt(n,[{key:"Ext",get:function(){return this.sx.Ext}}]),n}(XM),LZ=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).Aot(i),r.sx=n,r}It(n,t);var i=n.prototype;return i.jd=function(){return t.prototype.jd.call(this)+this.Ext},i.d4=function(n){t.prototype.d4.call(this,n-this.Ext)},i.aI=function(){return t.prototype.aI.call(this).xb(this.Ext)},i.m4=function(n,i,r,e){var u=this.Ext;t.prototype.m4.call(this,n-u,i-u,r,e)},i.Tot=function(t){return new xZ(this,t)},Nt(n,[{key:"Ext",get:function(){return this.sx.Ext}}]),n}(WM),MZ=function(t){function n(n){var i;return(i=t.call(this,n)||this).xxt=0,i.lW=new OM(i,new FD),i.Hl=new Ik([i.lW.nt,t.prototype.lI.call(PZ(i))]),i.Ket=new AP,i.Ket.S7(i.jG.parentElement),i.jet=new Fx(i.Ket.we,i.Hu,i.Hl,i.Wl,i.Sa,i.fH),i}It(n,t);var i=n.prototype;return i.yR=function(){return t.prototype.yR.call(this).xb(this.xxt)},i.AR=function(){return OZ(t.prototype.AR.call(this),this.xxt)},i.xR=function(){return t.prototype.xR.call(this)+this.xxt},i.jd=function(){return t.prototype.jd.call(this)+this.xxt},i.eI=function(){return t.prototype.eI.call(this).xb(this.xxt)},i.aI=function(){return t.prototype.aI.call(this).xb(this.xxt)},i.Rb=function(n,i,r){var e=k.max(0,n-this.xxt);t.prototype.Rb.call(this,e,i,r)},i.zG=function(n){t.prototype.zG.call(this,OZ(n,-this.xxt))},i.lI=function(){return this.Hl},i.OI=function(t,n,i,r,e,u,s,o){return this.lW.OI(t,n,i,r,e,u,s,o)},i._H=function(t){return this.lW._H(t)},i.mW=function(t){this.lW.mW(t)},i.vH=function(){this.lW.nr(),t.prototype.vH.call(this)},i.uH=function(){return!1},i.lH=function(t,n,i,r,e){throw new p("Not supported")},i.Xw=function(){return this.jet.yn(),this.Ket.yn(),this.lW.yn(),this.Hl.yn(),t.prototype.Xw.call(this)},i.pot=function(t){return new LZ(this,t)},i.got=function(t){return new zM(t)},i.LI=function(n){var i;switch(n.type){case oa.ho:i=new hT(n.currentTime+this.xxt);break;case oa.zy:i=new cT(n.currentTime+this.xxt);break;case yp.UL:i=new Ip(n.currentTime+this.xxt);break;case oa.hb:i=new lg(n.currentTime+this.xxt,OZ(n.currentProgramDateTime,this.xxt));break;case oa.qy:i=new FR(n.currentTime+this.xxt);break;case oa.Jy:i=new lT(n.currentTime+this.xxt);break;case oa.Qy:i=new gT(n.currentTime+this.xxt);break;case oa.Oy:i=new hN(n.currentTime+this.xxt);break;case oa.Vy:i=new oP(n.currentTime+this.xxt);break;case oa.Dy:i=new dT(n.currentTime+this.xxt);break;case oa.Yy:i=new vT(n.currentTime+this.xxt,n.playbackRate);break;case oa.ub:i=new wT(n.currentTime+this.xxt,n.volume);break;case oa.Iy:i=new fT(n.duration+this.xxt);break;case yp.iC:i=new _p(n.currentTime+this.xxt,n.readyState);break;default:i=n}t.prototype.LI.call(this,i)},i.be=function(){t.prototype.be.call(this),this.Ket.be()},i.ge=function(){t.prototype.ge.call(this),this.Ket.ge()},Nt(n,[{key:"oot",get:function(){return this.WB}},{key:"Ext",get:function(){return this.xxt},set:function(t){this.xxt=t}}]),n}(YM);function OZ(t,n){return t?new Date(t.getTime()+1e3*n):void 0}var BZ=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.OH=function(n){if(n===qg.mE)return new MZ(t.prototype.OH.call(this,n))},i.yH=function(n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return[4,(r=n).Xw()];case 1:return e.sent(),[4,t.prototype.yH.call(i,r.oot)];case 2:return e.sent(),[2]}}))}))()},n}(BM),VZ=function(t){function n(n,i,r,e,u,s,o,a){var c,h=new BZ(new qM(s)),f=h.OH(o);return(c=t.call(this,n,i,r,e,u,f,a)||this).bH=h,c.Rxt=void 0,c}It(n,t);var i=n.prototype;return i.wp=function(n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return[4,t.prototype.wp.call(i,n)];case 1:return r.sent(),void 0===i.Rxt&&(i.Rxt=i.Ixt(),i.WB.Ext=i.Rxt),[2]}}))}))()},i.Ixt=function(){if(this.ct===1/0){var t=this.Mkt;if(t.V>0)return k.max(0,t.Sn(0)-300)}return 0},i.h8=function(n,i,r,e,u,s,o,a){return void 0===s&&(s=!1),void 0===o&&(o=UW.dTt),void 0===a&&(a=!1),a||(a=this.ct===1/0&&Gn.Cm&&Gn.Dm<3&&n<=this.ER),t.prototype.h8.call(this,n,i,r,e,u,s,o,a)},i.nr=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.nr.call(n)];case 1:return i.sent(),n.Rxt=void 0,n.WB.Ext=0,[2]}}))}))()},i.yn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.yn.call(n)];case 1:return i.sent(),[4,n.WB.Xw()];case 2:return i.sent(),[4,n.bH.yH(n.WB)];case 3:return i.sent(),[2]}}))}))()},n.yT=function(t){var n;return(!t||"google-dai"!==(null==t||null==(n=t.ssai)?void 0:n.integration))&&(Gn.Cm&&Gn.Dm<4)},n}(NZ);F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Dt(),Rt();var FZ=function(t){function n(n){return t.call(this,n)||this}return It(n,t),Nt(n,[{key:"oot",get:function(){return this.WB}},{key:"dI",get:function(){return this.WB.dI}},{key:"vI",get:function(){return this.WB.vI}}]),n}(VM);F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Gt(),Rt(),qt();var UZ=function(t){function n(n){var i;return(i=t.call(this,n)||this).t3=void 0,i.Cxt=void 0,i.Mj=0,i.Pxt=SA.pB(),i.Dxt=SA.pB(),i.Oxt=[],i.mit=!1,i.Bxt=!1,i.Pj=0,i.MT=n.kd,i}It(n,t);var i=n.prototype;return i.Rot=function(){return this.Cxt?this.Mj:t.prototype.Rot.call(this)},i.Iot=function(n){this.Cxt?this.Mj=n:t.prototype.Iot.call(this,n)},i.yR=function(){return this.Cxt?this.Pxt:t.prototype.yR.call(this)},i.mT=function(){return this.Cxt?this.MT:t.prototype.mT.call(this)},i.Pot=function(){return this.Cxt?this.Dxt:t.prototype.Pot.call(this)},i.Dot=function(){return this.Cxt?this.Pj:t.prototype.Dot.call(this)},i.Not=function(n){this.Cxt?this.Pj=n:t.prototype.Not.call(this,n)},i.g2=function(t,n,i){var r=this;return this.w2((function(i){return r.Nxt(t,n,i)}),i)},i.Nxt=function(n,i,r){return t.prototype.g2.call(this,n,i,r)},i.T3=function(){var t=this;return this.w2((function(){return t.Mxt()}))},i.Mxt=function(){return t.prototype.T3.call(this)},i.A2=function(t,n,i){var r=this;return this.w2((function(i){return r.Lxt(t,n,i)}),i)},i.Lxt=function(n,i,r){return t.prototype.A2.call(this,n,i,r)},i.RJ=function(){return this.Cxt?this.mit:t.prototype.RJ.call(this)},i.a3=function(){this.Cxt?this.Bxt=!0:t.prototype.a3.call(this)},i.A3=function(t,n){this.Cxt?(this.Dxt=this.Dxt.tB(new SA([t,n])),this.Oxt.push({Tw:"Fct",WO:t,UO:n})):this.Fxt(t,n)},i.Fxt=function(n,i){t.prototype.A3.call(this,n,i)},i.F2=function(t,n){var i=this;return this.w2((function(){return i.Vxt(t,n)}))},i.Vxt=function(n,i){return t.prototype.F2.call(this,n,i)},i.S3=function(t,n){this.Cxt?(this.Dxt=this.Dxt.iB(new SA([t,n])),this.Oxt.push({Tw:"eT",WO:t,UO:n})):this.Wxt(t,n)},i.Wxt=function(n,i){t.prototype.S3.call(this,n,i)},i.eT=function(t,n,i){var r=this;return this.w2((function(i){return r.Uxt(t,n,i)}),i)},i.Uxt=function(n,i,r){return t.prototype.eT.call(this,n,i,r)},i._J=function(t){var n=this;return this.w2((function(){return n.Gxt(t)}))},i.Gxt=function(n){return t.prototype._J.call(this,n)},i.w2=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return i.q2(),i.Cxt?[4,Wo(i.Cxt.Ub,n)]:[3,2];case 1:r.sent(),i.q2(),r.label=2;case 2:Vo(n),r.label=3;case 3:return r.trys.push([3,,5,6]),i.t3=t(n),[4,i.t3];case 4:return r.sent(),[3,6];case 5:return i.t3=void 0,[7];case 6:return[2]}}))}))()},i.q2=function(){if(this.t3)throw new p("Internal error")},i.Hxt=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:if(t.Cxt)throw new _("Already locked");return t.Cxt=new Gc,t.Zxt(),t.t3?[4,t.t3.catch(bi)]:[3,2];case 1:n.sent(),t.Zxt(),n.label=2;case 2:return[2]}}))}))()},i.Xxt=function(){var t;null==(t=this.Cxt)||t.Vb(),this.Cxt=void 0,this.zxt()},i.Zxt=function(){this.MT=t.prototype.mT.call(this),this.Mj=t.prototype.Rot.call(this),this.Pj=t.prototype.Dot.call(this),this.Pxt=t.prototype.yR.call(this),this.Dxt=t.prototype.Pot.call(this),this.mit=t.prototype.RJ.call(this),this.Bxt=!1},i.zxt=function(){this.q2(),t.prototype.Iot.call(this,this.Mj),t.prototype.Not.call(this,this.Pj);var n=this.Oxt.slice();bo(this.Oxt);for(var i=0;i<n.length;i++){var r=n[i];"Fct"===r.Tw?this.Fxt(r.WO,r.UO):this.Wxt(r.WO,r.UO)}this.Bxt&&t.prototype.a3.call(this),this.Pxt.aB(t.prototype.yR.call(this))||this._o(new sa(DR.tJ))},i.Xw=function(){var n;null==(n=this.Cxt)||n.jw(),this.Cxt=void 0,t.prototype.Xw.call(this)},n}(XM),WZ=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).qxt=void 0,r.sx=n,r}It(n,t);var i=n.prototype;return i.yR=function(){var n,i;return t.prototype.yR.call(this).tB(null!=(i=null==(n=this.qxt)?void 0:n.wR)?i:SA.pB())},i.Pot=function(){var n,i;return t.prototype.Pot.call(this).tB(null!=(i=null==(n=this.qxt)?void 0:n.w3)?i:SA.pB())},i.Iot=function(n){t.prototype.Iot.call(this,n),this.qxt&&(this.qxt.Ej=n)},i.Not=function(n){t.prototype.Not.call(this,n),this.qxt&&(this.qxt.bj=n)},i.Fxt=function(n,i){t.prototype.Fxt.call(this,n,i),this.qxt&&this.qxt.A3(n,i)},i.Wxt=function(n,i){t.prototype.Wxt.call(this,n,i),this.qxt&&this.qxt.S3(n,i)},i.Uxt=function(n,i,r){var e=this;return Zt((function(){var u;return Ht(this,(function(s){switch(s.label){case 0:return Vo(r),(u=[]).push(t.prototype.Uxt.call(e,n,i,r)),e.qxt&&u.push(e.qxt.eT(n,i,r)),[4,et.all(u)];case 1:return s.sent(),[2]}}))}))()},i.dJ=function(n){return!!t.prototype.dJ.call(this,n)||this.sx.Yxt(n)},i.Gxt=function(n){return t.prototype.dJ.call(this,n)?t.prototype.Gxt.call(this,n):this.sx.Kxt(n)},i.jxt=function(t){var n,i;null==(n=this.qxt)||n.vn(PR,this.Mot),this.qxt=t,null==(i=this.qxt)||i.bn(PR,this.Mot)},n}(UZ),ZZ=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).Qxt=void 0,r.MA=NaN,r.sRt=!1,r.nRt=!1,r.rRt=void 0,r.Aot(i),r.sx=n,r}It(n,t);var i=n.prototype;return i.dJ=function(n){var i=void 0!==this.u4,r=void 0!==this.c4,e=n.g4.some((function(t){return Fs(t.Mk,"audio")})),u=n.g4.some((function(t){return Fs(t.Mk,"video")}));return i===e&&r===u&&(!!t.prototype.dJ.call(this,n)||(!(!this.Qxt||!this.Qxt.dJ(n))||this.sx.Jxt(n)))},i._J=function(n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return t.prototype.dJ.call(i,n)?[4,t.prototype._J.call(i,n)]:[3,2];case 1:case 3:case 6:return[2,r.sent()];case 2:return i.Qxt&&i.Qxt.dJ(n)?(i.$xt(),[4,i._J(n)]):[3,4];case 4:return[4,i.sx.tRt(n)];case 5:return r.sent(),[4,i._J(n)];case 7:return[2]}}))}))()},i.Yxt=function(t){return this.dJ(this.eRt(t))},i.Kxt=function(t){return this._J(this.eRt(t))},i.eRt=function(t){var n=this.kd,i=n.g4.map((function(n){return Fs(t.Mk,"audio")&&Fs(n.Mk,"audio")||Fs(t.Mk,"video")&&Fs(n.Mk,"video")?t:n}));return ns({},n,{g4:i})},i.m4=function(n,i,r,e){t.prototype.m4.call(this,n,i,r,e),this.Qxt&&this.Qxt.m4(n,i,r,e)},i.iRt=function(){return!this.sRt&&this.nRt},i.jd=function(){return void 0!==this.rRt?this.rRt:this.iRt()?this.MA:t.prototype.jd.call(this)},i.d4=function(n){this.MA=n,this.rRt=void 0,this.iRt()||t.prototype.d4.call(this,n)},i.bot=function(){return!this.iRt()&&t.prototype.bot.call(this)},i.a3=function(){this.rRt=k.max(GZ(this.JG.h4),GZ(this.JG.a4)),this.iRt()||t.prototype.a3.call(this)},i.J2=function(){this.rRt=void 0,this.iRt()||t.prototype.J2.call(this)},i.Tot=function(t){return new WZ(this,t)},i.oRt=function(){this.sRt=!this.sRt},i.$xt=function(){var t=this.JG,n=this.Qxt;n&&(this.sRt=!this.sRt,this.Aot(n),this.hRt(t),this.iRt()&&this.aRt())},i.hRt=function(t){var n,i;this.Qxt=t,null==(n=this.u4)||n.jxt(null==t?void 0:t.h4),null==(i=this.c4)||i.jxt(null==t?void 0:t.a4)},i.uRt=function(t){var n=this.JG,i=this.Qxt;if(i){var r=this.sRt,e=r?n:i,u=(r?i:n).wR._B(t);if(u){var s=oO(e.wR,this.Pot())._B(u.Tn(0),yr);if(s&&!(u.Tn(0)+yr>=s.Tn(0)))return k.max(u.Tn(0),s.Sn(0))}}},i.cRt=function(t,n){var i=this;if(this.nRt)return et.resolve();var r=this.sRt?this.Qxt:this.JG;return r?(this.nRt=!0,this.lRt((function(n){if(Vo(n),i.nRt)return function(t,n,i){return XZ.apply(this,arguments)}(r,t,n)}),n)):et.resolve()},i.aRt=function(){if(this.nRt){var t=this.sRt?this.Qxt:this.JG;if(t){var n;0,this.nRt=!1;var i=null!=(n=this.rRt)?n:this.MA;t.ct<i&&t.d4(i),t.J2()}}},i.dRt=function(t){var n,i=null!=(n=this.rRt)?n:this.MA;t.d4(i),this.sRt?this.Aot(t):this.hRt(t)},i.Pot=function(){var t,n,i,r,e=null!=(i=null==(t=this.u4)?void 0:t.w3)?i:SA.pB(),u=null!=(r=null==(n=this.c4)?void 0:n.w3)?r:SA.pB();return e.tB(u)},i.lRt=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:r=[],i.u4&&r.push(i.u4.Hxt()),i.c4&&r.push(i.c4.Hxt()),e.label=1;case 1:return e.trys.push([1,,4,5]),[4,et.all(r)];case 2:return e.sent(),[4,t(n)];case 3:return e.sent(),[3,5];case 4:return i.u4&&i.u4.Xxt(),i.c4&&i.c4.Xxt(),[7];case 5:return[2]}}))}))()},i.Eot=function(n){n.type===DR.tJ&&this.sx.n3(),t.prototype.Eot.call(this,n)},n}(WM);function XZ(){return XZ=Zt((function(t,n,i){var r;return Ht(this,(function(e){switch(e.label){case 0:return Vo(i),r=[],t.h4&&r.push(rN(t.h4,n,i)),t.a4&&r.push(rN(t.a4,n,i)),[4,et.all(r)];case 1:return e.sent(),t.a3(),[2]}}))})),XZ.apply(this,arguments)}function GZ(t){if(!t)return 0;var n=t.wR;return n.V>0?n.Tn(n.V-1):0}function HZ(t){return t.kd.Tw===mp.wW}F(),Tt();var zZ=function(t){function n(n,i,r){var e;return(e=t.call(this,n)||this).vRt=!1,e.P9=void 0,e.a8=NaN,e.Uo=SA.pB(),e.dZ=!0,e.ERt=!1,e.hZ=!0,e.bRt=void 0,e.gRt=void 0,e.mRt=new Yo,e.r8=new Yo,e._Rt=i,e.wRt=n,e.WB.ge(),e._Rt.be(),e.lW=new OM(e,r),e.Hl=new Ik([e.lW.nt,t.prototype.lI.call(PZ(e))]),e}It(n,t);var i=n.prototype;return i.yR=function(){return t.prototype.yR.call(this).tB(this._Rt.wR)},i.jd=function(){if(!this.vRt){var n=this.JG;if(n&&HZ(n))return n.ct}return t.prototype.jd.call(this)},i.aot=function(){return!!t.prototype.aot.call(this)&&!(!this.vRt&&!this.RJ())},i.uot=function(){return!!t.prototype.uot.call(this)&&!(!this.vRt&&t.prototype.aot.call(this)&&!this.RJ())},i.RJ=function(){var t=this.JG;return!(!t||!HZ(t))&&t.RJ},i.eI=function(){return this.Uo.tB(this.WB.tI)},i.aI=function(){return t.prototype.aI.call(this).tB(this._Rt.hI)},i.oI=function(){return t.prototype.oI.call(this)},i.hot=function(){var n;return null!=(n=t.prototype.hot.call(this))?n:this._Rt.$G},i.xI=function(){return this.dZ=!1,t.prototype.xI.call(this)},i.EI=function(){this.dZ=!0,t.prototype.EI.call(this)},i.p7=function(){this.vRt=!0,t.prototype.p7.call(this),this._Rt.p7()},i.w7=function(){this.vRt=!1,t.prototype.w7.call(this),this._Rt.p7()},i.xR=function(){var n;return null!=(n=this.P9)?n:t.prototype.xR.call(this)},i.cI=function(){return void 0!==this.P9||t.prototype.cI.call(this)},i.Rb=function(t,n,i){void 0===n&&(n=!1),void 0===i&&(i=!1),this.mRt.jw(),this.r8.jw(),this.r8=new Yo,this.gRt=Zo(this.h8(t,n,i,this.gRt,this.r8.Uw),this.r8).catch(bi)},i.h8=function(n,i,r,e,u){var s=this;return Zt((function(){return Ht(this,(function(o){switch(o.label){case 0:return s.P9=n,s.a8=n,s._o(new lT(n)),e?[4,e.catch(bi)]:[3,2];case 1:o.sent(),o.label=2;case 2:return Vo(u),s.JG&&HZ(s.JG)&&s.JG.aRt(),s.P9=void 0,t.prototype.Rb.call(s,n,i,r),s._Rt.Rb(n,i,r),s.pRt(),[2]}}))}))()},i.zG=function(t){var n=this.$G;if(n&&!S(n.getTime())){var i=(t.getTime()-n.getTime())/1e3;this.Rb(i)}},i.A7=function(){t.prototype.A7.call(this),this._Rt.A7()},i.be=function(){this.hZ&&(this.hZ=!1,this.wRt.be())},i.ge=function(){this.hZ||(this.hZ=!0,this.wRt.ge())},i.yRt=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.P9=void 0,t.a8=NaN,t.Uo=SA.pB(),null==(n=t.bRt)||n.jw(),t.mRt.jw(),t.r8.jw(),t.gRt?[4,t.gRt.catch(bi)]:[3,2];case 1:i.sent(),t.gRt=void 0,i.label=2;case 2:return[2]}}))}))()},i._ot=function(n){t.prototype._ot.call(this,n),this._Rt.wH=n},i.vot=function(n){t.prototype.vot.call(this,n),this._Rt.T7=n},i.lI=function(){return this.Hl},i.OI=function(t,n,i,r,e,u,s,o){return this.lW.OI(t,n,i,r,e,u,s,o)},i._H=function(t){return this.lW._H(t)},i.lH=function(t,n,i,r,e){throw new p("Not implemented yet")},i.uH=function(){return!1},i.mW=function(t){this.lW.mW(t)},i.vH=function(){this.lW.nr(),t.prototype.vH.call(this)},i.$n=function(n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return[4,t.prototype.$n.call(i,n)];case 1:return HZ(r=e.sent())&&i.pRt(),[2,r]}}))}))()},i.nr=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.yRt()];case 1:return i.sent(),[4,t.prototype.nr.call(n)];case 2:return i.sent(),[4,n._Rt.nr()];case 3:return i.sent(),[2]}}))}))()},i.Xw=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.yRt()];case 1:return i.sent(),n.lW.yn(),n.Hl.yn(),[4,t.prototype.Xw.call(n)];case 2:return i.sent(),[2]}}))}))()},i.pot=function(t){return new ZZ(this,t)},i.got=function(t){return new zM(t)},i.pRt=function(){this.mRt.jw(),this.mRt=new Yo,this.gRt=Zo(this.ARt(this.gRt,this.mRt.Uw),this.mRt).catch(bi)},i.ARt=function(t,n){var i=this;return Zt((function(){var r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return t?[4,t.catch(bi)]:[3,2];case 1:o.sent(),o.label=2;case 2:if(!i.JG||!HZ(i.JG))return[2];o.label=3;case 3:0,Vo(n),i.SRt()&&i.oRt(),r=void 0,i.JG.aRt(),Vo(n),o.label=4;case 4:0,e={stack:[],error:void 0,hasError:!1},o.label=5;case 5:return o.trys.push([5,9,10,11]),Vo(n),i.SRt()?[3,12]:void 0===(r=i.JG.uRt(i.xR()))?[3,7]:(i.TRt(),[4,i.JG.cRt(r,n)]);case 6:return o.sent(),Vo(n),i._Rt.Rb(r),[3,12];case 7:return u=Yt(e,Yo.$w([n]),!1),[4,et.race([i.py(oa.hb,u.Uw),i.kRt(u.Uw)])];case 8:return o.sent(),[3,11];case 9:return s=o.sent(),e.error=s,e.hasError=!0,[3,11];case 10:return jt(e),[7];case 11:return[3,4];case 12:Vo(n),o.label=13;case 13:return i.SRt()?[3,15]:[4,i.WB.py([oa.hb,oa.Dy,yp.iC],n)];case 14:return o.sent(),[3,13];case 15:return[3,3];case 16:return[2]}}))}))()},i.SRt=function(){var t=this.JG;if(void 0===t||!HZ(t))return!1;var n=this.xR(),i=this.WB.wR;return!(!this.WB.PR&&i.wr(n))&&!!oO(this._Rt.wR,t.Pot()).oB(n,n+yr)},i.oRt=function(){if(!this.ERt){0,this.ERt=!0,this.Uo=this.eI();var t=dN(this),n=this.cI(),i=this.oI(),r=this.WB,e=this._Rt,u=this.JG;u.aRt(),u.oRt(),lN(e,t),this.yot(e),this._Rt=r,r.EI(),r.ZR=!0,this.ERt=!1;var s=this.cI();n!==s&&(s?this._o(new lT(this.ER)):this._o(new gT(this.ER)));var o=this.oI();i!==o&&this._o(new _p(this.ER,o)),s||this.TRt()}},i.TRt=function(){var t=this.WB,n=this.wRt;if(n!==t){0;var i=this.vI,r=this.dI;this.wRt=t,this.hZ&&(n.be(),t.ge());var e=this.vI,u=this.dI;e>0&&u>0&&(i!==e||r!==u)&&this._o(new wp)}},i.Jxt=function(t){return void 0!==this._Rt.MJ([t])},i.tRt=function(t){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:return n.TRt(),i=n.JG,[4,(r=n._Rt).nr()];case 1:return u.sent(),[4,r.$n(t)];case 2:return e=u.sent(),i.dRt(e),[2]}}))}))()},i.kRt=function(t){return this.bRt=new Gc,Wo(this.bRt.Ub,t)},i.n3=function(){var t;null==(t=this.bRt)||t.Vb()},i.LI=function(n){n.type===oa.Jy&&this.a8===n.currentTime||(n.type===oa.Qy&&(this.a8=NaN,this.TRt()),n.type!==yp.iC&&n.type!==oa.zy&&n.type!==oa.Dy||this.ERt||!this.SRt()?(n.type!==oa.Dy||this.PR)&&t.prototype.LI.call(this,n):this.pRt())},Nt(n,[{key:"fRt",get:function(){return this._Rt}},{key:"dI",get:function(){return this.wRt.dI}},{key:"vI",get:function(){return this.wRt.vI}}]),n}(FZ),YZ=function(t){function n(n,i){var r;return(r=t.call(this,n,i,new FD)||this).uO=new LT(n.fH),r.Ket=new AP,r.Ket.S7(n.jG.parentElement),r.jet=new Fx(r.Ket.we,r.Hu,r.nt,r.Wl,r.Sa,r.fH),r}It(n,t);var i=n.prototype;return i.be=function(){t.prototype.be.call(this),this.Ket.be()},i.ge=function(){t.prototype.ge.call(this),this.Ket.ge()},i.S7=function(t){this.WB.S7(t),this._Rt.S7(t)},i.NI=function(){this.WB.NI(),this._Rt.NI()},i.TI=function(){return this.WB.TI()},i.ja=function(){return this.uO},i.yot=function(n){var i=this.SI(),r=this.TI();t.prototype.yot.call(this,n),this.uO.vC=n.fH,this.SI()!==i&&this._o(new CT),this.TI()!==r&&this._o(new NT)},i.Xw=function(){return this.uO.yn(),this.jet.yn(),this.Ket.yn(),t.prototype.Xw.call(this)},Nt(n,[{key:"oot",get:function(){return this.WB}},{key:"fRt",get:function(){return this._Rt}},{key:"jG",get:function(){return this.WB.jG}},{key:"U4",get:function(){return this.WB.U4}},{key:"AI",get:function(){return this.WB.AI},set:function(t){this.WB.AI=t}}]),n}(zZ),jZ=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.OH=function(n){if(n===qg.mE){var i=t.prototype.OH.call(this,n),r=t.prototype.OH.call(this,n);return new YZ(i,r)}return t.prototype.OH.call(this,n)},i.yH=function(n){var i=this,r=function(){return t.prototype.yH};return Zt((function(){return Ht(this,(function(t){switch(t.label){case 0:return n instanceof YZ?[4,n.Xw()]:[3,4];case 1:return t.sent(),[4,r().call(i,n.oot)];case 2:return t.sent(),[4,r().call(i,n.fRt)];case 3:return t.sent(),[3,6];case 4:return[4,r().call(i,n)];case 5:t.sent(),t.label=6;case 6:return[2]}}))}))()},n}(BM),KZ=function(t){function n(n,i,r,e,u,s,o,a){var c,h=new qM(new jZ(s)),f=h.OH(o);return(c=t.call(this,n,i,r,e,u,f,a)||this).bH=h,c}return It(n,t),n.prototype.yn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.yn.call(n)];case 1:return i.sent(),[4,n.bH.yH(n.WB)];case 2:return i.sent(),[2]}}))}))()},n.yT=function(t){var n;return!Gn.Qs&&!Gn.gg&&!(t&&"google-dai"===(null==(n=t.ssai)?void 0:n.integration))},n}(NZ);F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Gt(),Rt(),qt();var qZ=function(t){function n(n){var i;return(i=t.call(this,n)||this).xRt=!1,i.Pxt=SA.pB(),i.MA=0,i.RRt=!1,i.mit=!1,i.Bxt=void 0,i.v4=SA.pB(),i.IRt=void 0,i.Aot(n),i.MT=n.kd,i}It(n,t);var i=n.prototype;return i.Tot=function(t){return new UZ(t)},i.mT=function(){return this.xRt?this.MT:t.prototype.mT.call(this)},i.yR=function(){return this.xRt?this.Pxt:t.prototype.yR.call(this)},i.jd=function(){return this.xRt?this.MA:t.prototype.jd.call(this)},i.d4=function(n){this.xRt?(this.MA=n,this.RRt=!0):t.prototype.d4.call(this,n)},i.aI=function(){return this.xRt?this.IRt?this.IRt.I3():this.v4:t.prototype.aI.call(this)},i.m4=function(n,i,r,e){this.xRt?this.IRt=new QC(n,i,r,e):t.prototype.m4.call(this,n,i,r,e)},i.bot=function(){return this.xRt?this.mit&&!1!==this.Bxt:t.prototype.bot.call(this)},i.a3=function(){this.xRt?this.Bxt=!0:t.prototype.a3.call(this)},i.J2=function(){this.xRt?this.Bxt=!1:t.prototype.J2.call(this)},i.dJ=function(n){return!this.xRt&&t.prototype.dJ.call(this,n)},i._J=function(n){return this.xRt?et.reject(new _("Not supported")):t.prototype._J.call(this,n)},i.Hxt=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:if(t.xRt)throw new _("Already locked");return t.xRt=!0,t.Zxt(),n=[],t.u4&&n.push(t.u4.Hxt()),t.c4&&n.push(t.c4.Hxt()),[4,et.all(n)];case 1:return i.sent(),[2]}}))}))()},i.Xxt=function(){this.xRt=!1,this.u4&&this.u4.Xxt(),this.c4&&this.c4.Xxt(),this.zxt()},i.Zxt=function(){this.MT=t.prototype.mT.call(this),this.Pxt=t.prototype.yR.call(this),this.MA=t.prototype.jd.call(this),this.v4=t.prototype.aI.call(this),this.RRt=!1,this.Bxt=void 0,this.IRt=void 0},i.zxt=function(){if(this.RRt&&(t.prototype.d4.call(this,this.MA),this.RRt=!1),void 0!==this.IRt){var n=this.IRt;t.prototype.m4.call(this,n.Sn,n.Tn,n.C3,n.P3),this.IRt=void 0}void 0!==this.Bxt&&(this.Bxt?t.prototype.a3.call(this):t.prototype.J2.call(this),this.Bxt=void 0)},n}(WM),JZ=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).PRt=!1,n.NRt=!1,n.FRt=void 0,n.ORt=void 0,n.BRt=new Yo,n}It(n,t);var i=n.prototype;return i.xI=function(){return void 0!==this.JG&&HZ(this.JG)&&this.PR&&this.Rb(0),t.prototype.xI.call(this)},i.Rb=function(n,i,r){void 0!==this.JG&&HZ(this.JG)&&this.PR&&n<this.ct&&this.CRt(),t.prototype.Rb.call(this,n,i,r)},i.p7=function(){this.PRt=!0,t.prototype.p7.call(this)},i.w7=function(){this.PRt=!1,this.DRt()||t.prototype.w7.call(this)},i.DRt=function(){return this.PRt||this.NRt},i.MRt=function(){this.NRt||(this.NRt=!0,t.prototype.p7.call(this))},i.LRt=function(){this.NRt&&(this.NRt=!1,this.DRt()||t.prototype.w7.call(this))},i.$n=function(t){this.BRt.jw();var n=this.QE(t,this.ORt);return this.FRt=n,n},i.QE=function(n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return i?[4,i.catch(bi)]:[3,2];case 1:e.sent(),e.label=2;case 2:return r.LRt(),[4,t.prototype.$n.call(r,n)];case 3:return[2,e.sent()]}}))}))()},i.pot=function(t){return new qZ(t)},i.got=function(t){return new zM(t)},i.nr=function(){this.BRt.jw();var t=this.cxt(this.ORt);return this.FRt=t,t},i.cxt=function(n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return n?[4,n.catch(bi)]:[3,2];case 1:r.sent(),r.label=2;case 2:return i.LRt(),[4,t.prototype.nr.call(i)];case 3:return[2,r.sent()]}}))}))()},i.CRt=function(){this.MRt(),this.BRt.jw(),this.BRt=new Yo,this.ORt=Zo(this.VRt(this.FRt,this.ORt,this.BRt.Uw),this.BRt).catch(Uo)},i.VRt=function(t,n,i){var r=this;return Zt((function(){var e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return t?[4,t.catch(bi)]:[3,2];case 1:o.sent(),o.label=2;case 2:return n?[4,n.catch(bi)]:[3,4];case 3:o.sent(),o.label=4;case 4:return Vo(i),(e=r.JG)&&HZ(e)?(u=e.kd,[4,e.Hxt()]):[2];case 5:return o.sent(),[4,r.WB.nr()];case 6:return o.sent(),[4,r.WB.$n(u)];case 7:return(s=o.sent()).d4(e.ct),e.Aot(s),e.Xxt(),r.LRt(),[2]}}))}))()},i.Xw=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.BRt.jw(),n.ORt?[4,n.ORt.catch(bi)]:[3,2];case 1:i.sent(),n.ORt=void 0,i.label=2;case 2:return n.DRt()&&t.prototype.w7.call(n),[4,t.prototype.Xw.call(n)];case 3:return i.sent(),[2]}}))}))()},Nt(n,[{key:"oot",get:function(){return this.WB}}]),n}(YM),QZ=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.OH=function(n){if(n===qg.mE)return new JZ(t.prototype.OH.call(this,n))},i.yH=function(n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return[4,(r=n).Xw()];case 1:return e.sent(),[4,t.prototype.yH.call(i,r.oot)];case 2:return e.sent(),[2]}}))}))()},n.yT=function(){return Gn.wg},n}(BM),$Z=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).UH=kk.vG,n}It(n,t);var i=n.prototype;return i.uP=function(t,n,i,r,e,u,s,o){var a,c=new mM(PM.Vg.Brt,PM.Vg.Lrt,PM.Vg.Mrt,PM.Vg.Frt);a=VZ.yT(o)?VZ:KZ.yT(o)?KZ:DZ;var h=n;return QZ.yT()&&(h=new QZ(h)),new a(i,r,e,u,c,h,qg.mE,t)},i.WH=function(){return!0},n}(lM);UT(new $Z),F(),Tt(),F(),Tt(),Rt(),Zk((function(t){return function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n.prototype.ka=function(){var n=this.OR.wa;return Rg(t.prototype.ka.call(this),{get hesp(){return n}})},n}(t)}),Fk.au),F(),Tt(),Rt(),F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Gt(),qt(),F(),Tt(),Ut();var tX=0;function nX(t,n){if(void 0===n&&(n=!0),t){var i=t;return"/"===i.charAt(0)&&(i=i.substring(1)),n&&"/"!==i.charAt(i.length-1)&&(i+="/"),i}}function iX(t){var n,i,r;return ns({},t,{baseUrl:nX(t.baseUrl),id:null!=(n=t.id)?n:String(tX++),timeBounds:ns({},t.timeBounds,{scale:null!=(i=t.timeBounds.timescale)?i:1e3}),currentTime:t.currentTime?{value:t.currentTime.timestamp,scale:null!=(r=t.currentTime.timescale)?r:1e3}:void 0,audio:t.audio.map(aX),video:t.video.map(hX),metadata:t.metadata.map(vX),events:t.events.map(mX)})}var rX=0;function eX(t){var n,i=nX(t.initPattern,!1),r=nX(t.contPattern,!1);return ns({},t,{id:null!=(n=t.id)?n:String(rX++),continuationPattern:r?Bs(r,"${segmentId}","{segmentId}"):void 0,initializationPattern:i?Bs(i,"${initId}","{initId}"):void 0})}function uX(t){var n,i=nX(t.initPattern,!1),r=nX(t.contPattern,!1);return ns({},t,{continuationPattern:r?Bs(r,"${segmentId}","{segmentId}"):void 0,initializationPattern:i?Bs(i,"${initId}","{initId}"):void 0,segmentDuration:t.segmentDuration?{value:t.segmentDuration.duration,scale:t.segmentDuration.timescale}:void 0,segments:t.segments.map(sX),activeSegment:null==(n=ho(t.segments,(function(t){return t.active})))?void 0:n.id})}function sX(t){var n;return ns({},t,{timeBounds:ns({},t.timeBounds,{endTime:void 0!==t.timeBounds.duration?t.timeBounds.startTime+t.timeBounds.duration:void 0,scale:null!=(n=t.timeBounds.timescale)?n:1e3})})}function oX(t){return t&&"-"===t.charAt(0)}function aX(t){var n;try{var i;n=A(null!=(i=t.channels)?i:"2")}catch(t){n=2}return oX(t.contPattern)||oX(t.initPattern)?function(t,n){var i=t.initPattern,r=t.contPattern;return t.initPattern=void 0,t.contPattern=void 0,ns({},eX(t),{baseUrl:nX(t.baseUrl),language:"eng",channels:n,sampleRate:t.samplerate,tracks:t.tracks.map((function(t){var n,e;return t.initPattern=null!=(n=t.initPattern)?n:i,t.contPattern=null!=(e=t.contPattern)?e:r,cX(t)}))})}(t,n):ns({},eX(t),{baseUrl:nX(t.baseUrl),language:"eng",channels:n,sampleRate:t.samplerate,tracks:t.tracks.map(cX)})}function cX(t){var n;try{var i;n=A(null!=(i=t.channels)?i:"2")}catch(t){n=2}return oX(t.contPattern)||oX(t.initPattern)?function(t,n){return t.contPattern=t.baseUrl+t.contPattern,t.initPattern=t.baseUrl+t.initPattern,ns({},uX(t),{baseUrl:"./",channels:n,sampleRate:t.samplerate})}(t,n):ns({},uX(t),{baseUrl:nX(t.baseUrl),channels:n,sampleRate:t.samplerate})}function hX(t){return oX(t.contPattern)||oX(t.initPattern)?function(t){var n=t.initPattern,i=t.contPattern;return t.initPattern=void 0,t.contPattern=void 0,ns({},eX(t),{baseUrl:nX(t.baseUrl),frameRate:t.framerate?{value:t.framerate.rate,scale:t.framerate.scale}:void 0,tracks:t.tracks.map((function(t){return t.initPattern=n,t.contPattern=i,fX(t)}))})}(t):ns({},eX(t),{baseUrl:nX(t.baseUrl),frameRate:t.framerate?{value:t.framerate.rate,scale:t.framerate.scale}:void 0,tracks:t.tracks.map(fX)})}function fX(t){var n,i;return oX(t.contPattern)||oX(t.initPattern)?function(t){var n,i;return t.contPattern=t.baseUrl+t.contPattern,t.initPattern=t.baseUrl+t.initPattern,ns({},uX(t),{baseUrl:"./",frameRate:t.framerate?{value:t.framerate.rate,scale:t.framerate.scale}:void 0,resolution:ns({},t.resolution,{sarWidth:null==(n=t.resolution.sar)?void 0:n.width,sarHeight:null==(i=t.resolution.sar)?void 0:i.height})})}(t):ns({},uX(t),{baseUrl:nX(t.baseUrl),frameRate:t.framerate?{value:t.framerate.rate,scale:t.framerate.scale}:void 0,resolution:ns({},t.resolution,{sarWidth:null==(n=t.resolution.sar)?void 0:n.width,sarHeight:null==(i=t.resolution.sar)?void 0:i.height})})}function vX(t){var n;return ns({},t,{id:null!=(n=t.id)?n:String(rX++),schemeId:"",tracks:t.tracks.map(dX)})}function dX(t){return ns({},t,{segments:t.segments.map(gX)})}var lX=0;function gX(t){return{id:lX++,timeBounds:ns({},t.timeBounds,{scale:t.timeBounds.timescale})}}var wX=0;function mX(t){var n,i;return ns({},t,{id:null!=(n=t.id)?n:String(wX++),timeBounds:ns({},t.timestamp,{scale:null!=(i=t.timestamp.timescale)?i:1e3})})}var yX=function(){function t(t){this.fR=t}return t.prototype.WRt=function(t,n){var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return r={Xu:t,Uw:n},[4,i.fR.Qk(r)];case 1:return[4,s.sent().Ik(n)];case 2:return e=s.sent(),function(t){var n,i,r=t;if(ti(r.manifestVersion)&&Vs(r.manifestVersion,"alpha"))return!0;for(var e=0,u=r.presentations;e<u.length;e++){for(var s=u[e],o=0,a=Ft(s.video).concat(Ft(s.audio));o<a.length;o++){var c=a[o];if(c.tracks.length>0){n=c.tracks[0],i=c;break}}if(Yn(n))break}return(ti(null==i?void 0:i.initPattern)||ti(null==n?void 0:n.initPattern))&&!ti(null==n?void 0:n.initializationPattern)&&!ti(null==i?void 0:i.initializationPattern)}(u=e)&&(u=function(t){return ns({},t,{availabilityDuration:{value:t.dvrDuration?t.dvrDuration.duration/t.dvrDuration.timescale:0},manifestVersion:"1.0.0",presentations:t.presentations.map(iX),contentBaseUrl:t.contentBaseUrl||"./"})}(u)),[2,u]}}))}))()},t}();F(),Tt(),Dt(),Rt();var pX=function(t){function n(n){var i;return(i=t.call(this)||this).URt=n,i}It(n,t);var i=n.prototype;return i.ZC=function(){return this.URt.ZC()},i.bn=function(t,n){this.URt.bn(t,n)},i.vn=function(t,n){this.URt.vn(t,n)},Nt(n,[{key:"wa",get:function(){return this.eu||(this.eu=nA(this)),this.eu}},{key:"WC",get:function(){return this.URt.WC}},{key:"GC",get:function(){return this.URt.GC}},{key:"HC",get:function(){return this.URt.HC}}]),n}(ra);F(),Tt(),Dt(),F(),Tt(),Dt(),F(),Tt(),Dt();var _X=function(){function t(t){this.ZRt=0,this.HRt=0,this.GRt=k.exp(k.log(.5)/t)}var n=t.prototype;return n.gut=function(t,n){var i=k.pow(this.GRt,t),r=n*(1-i)+i*this.ZRt;S(r)||(this.ZRt=r,this.HRt+=t)},n._J=function(t){var n=k.exp(k.log(.5)/t);if(n!==this.GRt)if(0!==this.HRt){var i=this.dit,r=1-k.pow(n,this.HRt);this.ZRt=i*r,this.GRt=n}else this.GRt=n},Nt(t,[{key:"dit",get:function(){var t=1-k.pow(this.GRt,this.HRt);return this.ZRt/t}}]),t}(),bX=function(){function t(n,i,r,e){void 0===n&&(n=t.iIt),void 0===i&&(i=t.sIt),void 0===r&&(r=t.Eut),void 0===e&&(e=!1),this.QRt=0,this.JRt=[],this.KRt=void 0,this.jRt=6e4,this.$Rt=10,this.tIt=n,this.eIt=i,this.qRt=r,this.YRt=e,this.XRt=new _X(n),this.zRt=new _X(i)}var n=t.prototype;return n.gut=function(t){var n=Kn.Wg(),i=t;this.YRt&&void 0!==this.KRt&&n-this.KRt>=this.jRt&&this.nr(),this.QRt+=1,this.XRt.gut(1,i),this.zRt.gut(1,i),this.JRt.push(i),this.JRt.length>this.$Rt&&this.JRt.shift(),this.KRt=n},n.kut=function(){return void 0!==this.KRt&&Kn.Wg()-this.KRt<=this.jRt},n.nr=function(){this.XRt=new _X(this.tIt),this.zRt=new _X(this.eIt),this.QRt=0,this.JRt=[],this.KRt=void 0},Nt(t,[{key:"dit",get:function(){return this.kut()?k.max(this.XRt.dit,this.zRt.dit):this.qRt}}]),t}();bX.iIt=2,bX.sIt=5,bX.Eut=.1,F(),Tt();var kX=function(){function t(t){this.nIt=t}var n=t.prototype;return n.dj=function(t){for(var n=0,i=this.nIt;n<i.length;n++){i[n].dj(t)}},n._j=function(t){for(var n=0,i=this.nIt;n<i.length;n++){i[n]._j(t)}},n.vj=function(t,n){for(var i=0,r=this.nIt;i<r.length;i++){r[i].vj(t,n)}},n.mj=function(t){for(var n=0,i=this.nIt;n<i.length;n++){i[n].mj(t)}},t}();F(),Tt();var AX=function(){function t(t){this.rIt=0,this.oIt=t}var n=t.prototype;return n.dj=function(t){this.rIt=t},n._j=function(t){this.oIt.gut(t-this.rIt)},n.vj=function(t){},n.mj=function(t){},t}();F(),Tt();var TX=function(){function t(t){this.hIt=0,this.Iut=t}var n=t.prototype;return n._j=function(t){this.hIt=t},n.vj=function(t,n){this.Iut.gut(t-this.hIt,n.byteLength),this.hIt=t},n.mj=function(t){},n.dj=function(t){},t}();F(),Tt(),Rt();var SX=function(){function t(t,n){void 0===n&&(n=0),this.uIt=new EX,this.Pn=0,this.aIt=0,this.Iut=t,this.lIt=n}var n=t.prototype;return n.dj=function(t){},n.vj=function(t,n){var i=n.byteLength,r=this.aIt;this.aIt=i;var e=t-this.Pn;this.Pn=t,this.uIt.h$(n);var u=!this.uIt.cIt(),s=i>=this.lIt;r!==Kn.Ys.op&&u&&s&&this.Iut.gut(e,i)},n._j=function(t){this.Pn=t},n.mj=function(t){},t}(),EX=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).fIt=void 0,n.dIt=!1,n}It(n,t);var i=n.prototype;return i.cIt=function(){return this.dIt},i.h$=function(n){this.dIt=!1,t.prototype.h$.call(this,n)},i.r$=function(n,i){this.fIt&&this.fIt!==iy.fD||(this.dIt=!0),t.prototype.r$.call(this,n,i),this.fIt=n},i.g$=function(t){return!1},i.w$=function(t){},i.b$=function(t){},n}(YR);F(),Tt(),Rt();var IX=function(t){return t._It="sample",t}({}),RX=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).vIt=0,n}return It(n,t),n.prototype.hG=function(){if(this.kut()){var t=Kn.Wg();t-this.vIt>1e3&&(this.vIt=t,bk.Vg.hG(this.dit))}},n}(ra);F(),Tt(),Dt(),Rt();var CX=function(t){function n(n){var i;return(i=t.call(this)||this).sS=[],i.pIt=0,i.mIt=n,i.ZRt=n,i}It(n,t);var i=n.prototype;return i.kut=function(){return this.sS.length>=3},i.gut=function(t,n){if(0!==t){var i={bG:8*n/t,gIt:n};if(this.sS.push(i),this.pIt+=i.gIt,this.sS.length>30){var r=this.sS.shift();this.pIt-=r.gIt}for(var e=this.sS.slice().sort((function(t,n){return t.bG-n.bG})),u=0,s=0;s<e.length;s++){var o=e[s];if(u+=o.gIt/this.pIt,this.ZRt=o.bG,u>=.5)break}this.hG(),this._o(new sa(IX._It))}},Nt(n,[{key:"dit",get:function(){return this.kut()?this.ZRt:this.mIt}}]),n}(RX);F(),Tt(),Dt(),Rt();var NX=function(t){function n(i,r,e,u){var s;return void 0===i&&(i=n.iIt),void 0===r&&(r=n.sIt),void 0===e&&(e=n.bIt),void 0===u&&(u=n.Eut),(s=t.call(this)||this).wIt=0,s.yIt=e,s.XRt=new _X(i),s.zRt=new _X(r),s.qRt=u,s}It(n,t);var i=n.prototype;return i.gut=function(t,n){var i=8*n/t;this.XRt.gut(t,i),this.zRt.gut(t,i),this.wIt+=n,this.hG(),this._o(new sa(IX._It))},i.kut=function(){return this.wIt>=this.yIt},Nt(n,[{key:"dit",get:function(){return this.kut()?k.min(this.XRt.dit,this.zRt.dit):this.qRt}}]),n}(RX);NX.bIt=128e3,NX.Eut=_k,NX.iIt=.5,NX.sIt=5;var DX=function(){function t(t,n){var i=this;this.kIt=[],this.SIt=function(){for(var t=0,n=i.kIt;t<n.length;t++){(0,n[t])()}},this.xIt=t>0?t:NX.Eut,this.RIt=new bX(bX.iIt,bX.sIt,n>0?n:bX.Eut),this.AIt(this.xIt)}var n=t.prototype;return n.AIt=function(t){var n;null==(n=this.Iut)||n.vn(IX._It,this.SIt),this.Iut=new CX(t),this.Iut.bn(IX._It,this.SIt)},n.TIt=function(t){this.kIt.push(t)},n.EIt=function(t){wo(this.kIt,t)},n.SG=function(t){if("segment"===t.Tw&&"video"===t.EE){var n=[new AX(this.RIt)];return this.Iut&&("stream"===t.jk&&"initialization-segment"!==t.kE?n.push(new SX(this.Iut,1e3)):n.push(new TX(this.Iut))),new kX(n)}},Nt(t,[{key:"bG",get:function(){var t,n;return null!=(n=null==(t=this.Iut)?void 0:t.dit)?n:this.xIt}},{key:"AG",get:function(){return this.RIt.dit}}]),t}();F(),Tt(),Dt();var PX=function(){function t(){}var n=t.prototype;return n.IIt=function(t,n){var i=n-t;(!this.CIt||i<this.CIt)&&(this.CIt=i)},n.PIt=function(t,n){this.DIt=n-t},n.NIt=function(t,n){this.MIt=n-t},n.LIt=function(t,n){this.BIt=n-t},n.FIt=function(t){var n=this.OIt;if(void 0!==n)return n-t},n.nr=function(){this.CIt=void 0,this.DIt=void 0,this.BIt=void 0,this.MIt=void 0},Nt(t,[{key:"OIt",get:function(){var t=To([this.MIt,this.BIt].filter(Yn),ki);return void 0!==t?Kn.Wg()/1e3+t:void 0!==this.DIt?Kn.Wg()/1e3+this.DIt:void 0!==this.CIt?Kn.Wg()/1e3+this.CIt:void 0}}]),t}();F(),Tt();var xX=.25,LX=400,MX={minimumOffset:.2,targetOffset:.45,maximumOffset:.7,forceSeekOffset:3,minimumPlaybackRate:IA,maximumPlaybackRate:RA},OX={minimumOffset:.4,targetOffset:.65,maximumOffset:1,forceSeekOffset:3,minimumPlaybackRate:IA,maximumPlaybackRate:RA},BX={minimumOffset:.4,targetOffset:.7,maximumOffset:.9,forceSeekOffset:3,minimumPlaybackRate:IA,maximumPlaybackRate:RA},VX={minimumOffset:.2,targetOffset:.45,maximumOffset:1,forceSeekOffset:3,minimumPlaybackRate:IA,maximumPlaybackRate:RA},FX={minimumOffset:.5,targetOffset:1.125,maximumOffset:1.75,forceSeekOffset:2.55,minimumPlaybackRate:IA,maximumPlaybackRate:RA};function UX(t){if(Kn.ow.aw){var n=(LX+250)/1e3,i=k.max(n,t.minimumOffset),r=k.max(i+xX,t.targetOffset),e=k.max(r+xX,t.maximumOffset);return{minimumOffset:i,targetOffset:r,maximumOffset:e,forceSeekOffset:k.max(e+xX,t.forceSeekOffset),minimumPlaybackRate:IA,maximumPlaybackRate:RA}}return t}function WX(){var t;return t=Kn.Ys.$g?VX:Kn.Ys.rp?OX:Kn.Ys.np?"Android"===Kn.ow.hw?BX:MX:FX,Kn.ow.aw?UX(t):t}F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Gt(),Dt(),Rt(),nn(),qt(),F(),Tt();var ZX=function(){function t(){this.Pxt=[]}var n=t.prototype;return n.VIt=function(t){for(var n=0,i=this.Pxt;n<i.length;n++){var r=i[n];r[1]=r[1].jn(t)}},n.WIt=function(t,n){for(var i=!0,r=0,e=this.Pxt;r<e.length;r++){var u=e[r],s=u[1];s=s.iB(n),t===u[0]&&(s=s.tB(n),i=!1),u[1]=s.$L(1e-5)}i&&this.Pxt.push([t,n])},n.UIt=function(t){for(var n=0,i=this.Pxt;n<i.length;n++){var r=i[n];r[1]=r[1].iB(t)}},n.GIt=function(t){for(var n=0;n<this.Pxt.length;n++)if(this.Pxt[n][1].wr(t))return this.Pxt[n][0]},t}(),XX=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).HIt=[],u.zIt=void 0,u.i3=new Yo,u.WB=i,u.Cot=n,u.qyt=r,u.jIt=e,u.ZIt=new ZX,u.Cot.bn(DR.tJ,u.Ds),u}It(n,t);var i=n.prototype;return i.GIt=function(t){return this.ZIt.GIt(t)},i.appendStream=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h,f,v,d,l,g,w;return Ht(this,(function(m){switch(m.label){case 0:if(r.XIt)throw new p("Concurrent appends are not supported.");m.label=1;case 1:m.trys.push([1,,10,11]),e={stack:[],error:void 0,hasError:!1},m.label=2;case 2:m.trys.push([2,7,8,9]),u=Yt(e,Yo.$w([i,r.i3.Uw]),!1),s=u.Uw,r.ZIt.VIt(r.wR),r.zIt=new Gc,o=GR(t),a=o.getReader(),m.label=3;case 3:return[4,Wo(a.read(),s)];case 4:return(c=m.sent()).done?[3,6]:(h=c.value,f={Tw:xR.iJ,Kk:Oc(h.map((function(t){return t.Zut})))},v={ct:dr(h,(function(t){return t.ct})),wit:h[0].wvt,BV:-n.pat.YIt},[4,r.b2(f,v,s)]);case 5:return m.sent(),d=v.wit+v.BV,l=d+v.ct,r.ZIt.WIt(n.pat,SA.gB(d,l)),[3,3];case 6:return[3,9];case 7:return g=m.sent(),e.error=g,e.hasError=!0,[3,9];case 8:return jt(e),[7];case 9:return[3,11];case 10:return n.KIt(),w=r.zIt,r.zIt=void 0,null==w||w.Vb(),[7];case 11:return[2]}}))}))()},i.g2=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:if(e.XIt)throw new p("Concurrent appends are not supported.");v.label=1;case 1:v.trys.push([1,,7,8]),u={stack:[],error:void 0,hasError:!1},v.label=2;case 2:return v.trys.push([2,4,5,6]),s=Yt(u,Yo.$w([r,e.i3.Uw]),!1),o=s.Uw,e.zIt=new Gc,[4,e.b2(t,n,o)];case 3:return v.sent(),a=n.wit+n.BV,c=a+n.ct,e.ZIt.VIt(e.wR),e.ZIt.WIt(i,SA.gB(a,c)),[3,6];case 4:return h=v.sent(),u.error=h,u.hasError=!0,[3,6];case 5:return jt(u),[7];case 6:return[3,8];case 7:return f=e.zIt,e.zIt=void 0,null==f||f.Vb(),[7];case 8:return[2]}}))}))()},i.b2=function(t,n,i){var r=this;return Zt((function(){var e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return r.Cot.m3===qg.mE&&r.jIt.Sdt(t.Kk,n.wit,n.wit+n.ct,n.BV,r.qyt,!1),e=r.WB.qB.zB,u=r.Cot.wR.wr(r.WB.ER),e||u?[4,r.QIt(i)]:[3,3];case 1:return o.sent(),[4,r.Cot.g2(t,n,i)];case 2:case 4:return[2,o.sent()];case 3:return r.HIt.push([t,n]),s=r.HIt[0][1].wit,r.HIt[r.HIt.length-1][1].wit-s>=.4?[4,r.QIt(i)]:[3,5];case 5:return[2]}}))}))()},i.A2=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:if(i.XIt)throw new p("Concurrent appends are not supported.");a.label=1;case 1:a.trys.push([1,,8,9]),r={stack:[],error:void 0,hasError:!1},a.label=2;case 2:return a.trys.push([2,5,6,7]),e=Yt(r,Yo.$w([n,i.i3.Uw]),!1),u=e.Uw,i.zIt=new Gc,[4,i.QIt(u)];case 3:return a.sent(),[4,i.Cot.A2(t,{},u)];case 4:return a.sent(),i.Cot.m3===qg.mE&&i.jIt.Got(t.Kk),[3,7];case 5:return s=a.sent(),r.error=s,r.hasError=!0,[3,7];case 6:return jt(r),[7];case 7:return[3,9];case 8:return o=i.zIt,i.zIt=void 0,null==o||o.Vb(),[7];case 9:return[2]}}))}))()},i.eT=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:if(r.XIt)throw new p("Concurrent appends are not supported.");c.label=1;case 1:c.trys.push([1,,8,9]),e={stack:[],error:void 0,hasError:!1},c.label=2;case 2:return c.trys.push([2,5,6,7]),u=Yt(e,Yo.$w([i,r.i3.Uw]),!1),s=u.Uw,r.zIt=new Gc,[4,r.QIt(s)];case 3:return c.sent(),[4,r.Cot.eT(t,n,s)];case 4:return c.sent(),r.ZIt.UIt(SA.gB(t,n)),[3,7];case 5:return o=c.sent(),e.error=o,e.hasError=!0,[3,7];case 6:return jt(e),[7];case 7:return[3,9];case 8:return a=r.zIt,r.zIt=void 0,null==a||a.Vb(),[7];case 9:return[2]}}))}))()},i.cY=function(t){var n=this;return Zt((function(){var i,r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:if(n.XIt)throw new p("Concurrent appends are not supported.");o.label=1;case 1:o.trys.push([1,,7,8]),i={stack:[],error:void 0,hasError:!1},o.label=2;case 2:return o.trys.push([2,4,5,6]),r=Yt(i,Yo.$w([t,n.i3.Uw]),!1),e=r.Uw,n.zIt=new Gc,[4,n.QIt(e)];case 3:return o.sent(),[3,6];case 4:return u=o.sent(),i.error=u,i.hasError=!0,[3,6];case 5:return jt(i),[7];case 6:return[3,8];case 7:return s=n.zIt,n.zIt=void 0,null==s||s.Vb(),[7];case 8:return[2]}}))}))()},i.QIt=function(t){var n=this;return Zt((function(){var i,r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:i=0,r=n.HIt,o.label=1;case 1:return i<r.length?(e=tn(r[i],2),u=e[0],s=e[1],[4,n.Cot.g2(u,s,t)]):[3,4];case 2:o.sent(),o.label=3;case 3:return i++,[3,1];case 4:return bo(n.HIt),[2]}}))}))()},i.Xw=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:t.i3.Xw(),n.label=1;case 1:return t.XIt?[4,t.qIt]:[3,3];case 2:return n.sent(),[3,1];case 3:return[2]}}))}))()},Nt(n,[{key:"wR",get:function(){for(var t=SA.pB(),n=0,i=this.HIt;n<i.length;n++){var r=tn(i[n],2)[1],e=r.wit+r.BV,u=e+r.ct;t=t.tB(SA.gB(e,u))}return this.Cot.wR.tB(t)}},{key:"XIt",get:function(){return void 0!==this.zIt}},{key:"qIt",get:function(){return this.zIt?this.zIt.Ub:et.resolve()}}]),n}(ra);F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Gt(),qt();var GX=function(){function t(t){this.$It=0,this.tCt=t}var n=t.prototype;return n.JIt=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:if(i.$It>=i.tCt.maxRetries)throw t;return[4,$o(i.eCt(i.$It++),n)];case 1:return r.sent(),[2]}}))}))()},n.eCt=function(t){var n=0;return 0!==t&&(n+=k.min(this.tCt.maximumBackoff,this.tCt.minimumBackoff*k.pow(2,t-1))),n},t}();F(),Tt(),Rt(),F(),Tt(),Rt();var HX=function(t){return t.iCt="emsgdata",t}({}),zX=function(t){function n(n,i){var r;return(r=t.call(this,"emsgdata")||this).value=n,r.data=i,r}return It(n,t),n}(sa);F(),Tt();var YX=function(){function t(){}var n=t.prototype;return n.start=function(t){this.FQ=t},n.sCt=function(t){this.FQ.enqueue(t)},t}();F(),Tt(),F(),Tt();var jX=function(t){return t.nCt="initdata",t.MANIFEST_UPDATE="manifestupdate",t.rCt="timestamps:v1",t}({});var KX="urn:theo:hesp:2020";function qX(t){if(t.mL===KX){var n=t.Mx;if(n===jX.nCt)return function(t){if(t&&Qn(t)){var n=t;if(ei(n.index)&&ei(n.offset)&&!(n.index<0&&n.offset<0))return{Tw:"initdata",index:n.index,offset:n.offset}}}(JSON.parse(gc(bc(t.wL),new Rc)));if(n===jX.MANIFEST_UPDATE)return function(t){if(t&&Qn(t)){var n=t;if(!Yn(n.url)||ti(n.url))return{Tw:"manifestupdate",url:n.url}}}(JSON.parse(gc(bc(t.wL),new Rc)));if(n===jX.rCt){var i,r=bc(t.wL),e=new Rc,u=Ja(r,e).toNumber()/t.mN,s=Ja(r,e).toNumber()/1e3,o=Ka(r,e)/1e3;return e.nc+8<=r.byteLength&&(i={hours:Ka(r,e),minutes:za(r,e),seconds:za(r,e),frames:Ya(r,e)}),{Tw:jX.rCt,oCt:u,hCt:s,aCt:o,uCt:i}}}}var JX=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).cCt=new ra,n}It(n,t);var i=n.prototype;return i.transform=function(t){if(t.Tw===iy.vD)try{var n=qX(gy.uN(t.Kk));n&&this.cCt._o(new zX(n.Tw,n))}catch(t){false}this.sCt(t)},i.Xw=function(){this.cCt.Ro()},n}(YX);F(),Tt(),Rt();var QX=function(){function t(){}var n=t.prototype;return n.start=function(t){this.A_=new $X(t)},n.transform=function(t){this.A_.h$(t)},n.flush=function(){this.A_.u$()},t}(),$X=function(t){function n(n){var i;return(i=t.call(this)||this).FQ=n,i}It(n,t);var i=n.prototype;return i.g$=function(t){return!0},i.w$=function(t){this.FQ.enqueue(t)},i.b$=function(t){},n}(YR);F(),Tt(),Gt(),Rt(),qt(),F(),Tt();var tG=ir.fromNumber(er);var nG=function(t){function n(n,i){var r;return(r=t.call(this)||this).fW=n,r.lCt=i,r}return It(n,t),n.prototype.Qk=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:0,r.label=1;case 1:return r.trys.push([1,3,,5]),[4,n.fW.Qk(t)];case 2:return[2,r.sent()];case 3:if(Bo(i=r.sent()))throw i;return[4,n.lCt.JIt(i,t.Uw)];case 4:return r.sent(),[3,5];case 5:return[3,0];case 6:return[2]}}))}))()},n}(ra);function iG(t,n,i,r,e,u,s,o){var a=new Rd;return e&&a.Rk(function(t,n){return void 0===n&&(n=tG),new Rd({Range:"bytes="+t.toString()+"-"+n.toString()})}(e.start,e.end)),{Xu:t,Jk:a,xE:!1,Uw:o,Tw:al.nE,kE:i,EE:r,SE:u,TE:s,jk:n,PE:n===Id.Sk}}F(),Tt(),Rt(),F(),Tt();var rG=function(t){return t[t.INITIALIZER=0]="INITIALIZER",t[t.FRAMES=1]="FRAMES",t}({}),eG=function(t){function n(n,i){var r;return(r=t.call(this)||this).dCt=[],r.dY=n,r.vut=r.dY.match(/video/)?Yx.mE:Yx.vE,r.NA=i,r}It(n,t);var i=n.prototype;return i.transform=function(t){this.dCt.push(t),t.Tw===iy.fD&&this.fCt(this.dCt.splice(0),rG.FRAMES)},i.fCt=function(t,n){var i={mN:this.NA,jq:this.dY},r=Oc(t.map((function(t){return kc(t.Kk.Kk)}))),e=ho(t,uG),u=gy.JD(e.Kk.Kk)[0],s={EE:this.vut,Eb:i,Zut:r,Tw:n,ct:this.jd(u)/this.NA,wvt:_r(this._Ct(u),this.NA)};this.sCt(s)},i.jd=function(t){var n,i=t.Z[0];if(!i||0===i.hL.length)return 0;var r=null!=(n=i.XD.QM)?n:0;return i.hL[0]._L.reduce((function(t,n){var i;return t+(null!=(i=n.ct)?i:r)}),0)},i._Ct=function(t){var n,i;return null!=(i=null==(n=t.Z[0].aL)?void 0:n.aL)?i:ir.UZERO},n}(YX);function uG(t){return t.Tw===iy.oD}F(),Tt();var sG=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).pCt="now",e.ECt=new Yo,e.zIt=void 0,e.vCt=n,e.lCt=new GX(r),e.DCt=new JX,e.DCt.cCt.bn(HX.iCt,e.Ds),e.fW=i,e.vut=function(t){switch(t){case Yx.vE:return hl.vE;case Yx.mE:return hl.mE;default:return hl.iE}}(n.Tw),e.xCt=new nG(e.fW,e.lCt),e}It(n,t);var i=n.prototype;return i.wlt=function(t){return t+1},i.Rb=function(t){this.pCt=t,this.wCt=void 0,this.yCt=void 0},i.bCt=function(){return void 0!==this.wCt},i.ACt=function(){var t=this;return Zt((function(){var n,i,r,e,u,s,o,a,c,h,f,v,d,l;return Ht(this,(function(g){switch(g.label){case 0:if(t.XIt)throw new p("Concurrent downloads are not supported.");g.label=1;case 1:return g.trys.push([1,,4,5]),t.zIt=new Gc,"now"===t.pCt?n=Kn.ew(t.vCt.SCt("now"),t.vCt.TCt):(i=t.pCt,r=0===i?1:t.vCt.kCt(i),n=Kn.ew(t.vCt.SCt(r),t.vCt.TCt)),e=iG(n,Id.bk,cl.hE,t.vut,void 0,3e3,1e3,t.ECt.Uw),[4,t.xCt.Qk(e)];case 2:return[4,g.sent().Dk(t.ECt.Uw)];case 3:return u=g.sent(),s=new E(u),o=function(t){var n=hy.OD(new sy(bc(t),new Rc)),i=ho(n,(function(t){return t.Tw===iy.gD||t.Tw===iy.oD}));if(void 0===i)return{RCt:t,AN:void 0};var r=pc(t,0,i.nc),e=pc(t,i.nc);return{RCt:r,AN:0===e.byteLength?void 0:e}}(s),a=o.RCt,c=o.AN,h=gy.JD(bc(s)),t.NA=function(t){var n=ho(t,(function(t){return t.Tw===iy.gP}));return n.Z[0].AN.XD.mN}(h),f=function(t){var n=t.filter((function(t){return t.Tw===iy.vD})),i=n.map((function(t){return qX(t)})),r=ho(i,(function(t){return(null==t?void 0:t.Tw)===jX.nCt}));if(!r)throw new p("No init data in init response");return r}(h),t.wCt=f.index,t.yCt=f.offset,c&&(d=gy.JD(bc(s)),v=function(t,n,i){var r,e,u,s=ho(t,(function(t){return t.Tw===iy.oD})),o=_r(null!=(e=null==(r=s.Z[0].aL)?void 0:r.aL)?e:ir.UZERO,i),a=s.Z[0],c=null!=(u=a.XD.QM)?u:0,h=a.hL[0],f=h._L.reduce((function(t,n){var i;return t+(null!=(i=n.ct)?i:c)}),0)/i;return{wit:o,ct:f,BV:n}}(d,-t.pat.YIt,t.NA)),[2,{initialization:a,data:c,metadata:v}];case 4:return l=t.zIt,t.zIt=void 0,null==l||l.Vb(),[7];case 5:return[2]}}))}))()},i.ICt=function(){if(this.XIt)throw new p("Concurrent downloads are not supported.");this.zIt=new Gc;var t=void 0!==this.yCt?ir.fromNumber(this.yCt):void 0;return Wd(this.CCt(this.wCt,t,this.ECt.Uw)).pipeThrough(new Od(new eG(this.pat.jq,this.NA))).pipeThrough(new Od(new oG(this.ECt.Uw)))},i.CCt=function(t,n,i){var r=this;return Zt((function(){var e;return Ht(this,(function(u){switch(u.label){case 0:return e=r.PCt(t,n,i),[4,r.xCt.Qk(e)];case 1:return[2,u.sent().Nk().pipeThrough(new Od(new QX)).pipeThrough(new Od(r.DCt))]}}))}))()},i.PCt=function(t,n,i){var r=this.vCt.NCt(t),e=void 0!==n?{start:n,end:void 0}:void 0;return iG(Kn.ew(r,this.vCt.TCt),Id.Sk,cl.iE,this.vut,e,25e3,1e3,i)},i.KIt=function(){void 0!==this.wCt&&(this.wCt=this.wlt(this.wCt)),this.yCt=void 0;var t=this.zIt;this.zIt=void 0,null==t||t.Vb()},i.cancelDownload=function(){var t;this.ECt.jw(),this.ECt=new Yo,this.zIt=null!=(t=this.zIt)?t:new Gc,this.wCt=void 0,this.yCt=void 0;var n=this.zIt;this.zIt=void 0,null==n||n.Vb()},i.Xw=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.Ro(),t.DCt.Xw(),t.ECt.jw(),[4,t.qIt];case 1:return n.sent(),t.wCt=void 0,t.yCt=void 0,[2]}}))}))()},Nt(n,[{key:"pat",get:function(){return this.vCt}},{key:"mCt",get:function(){return!1}},{key:"gCt",get:function(){return this.pCt}},{key:"XIt",get:function(){return void 0!==this.zIt}},{key:"qIt",get:function(){return this.zIt?this.zIt.Ub:et.resolve()}}]),n}(ra);var oG=function(){function t(t){var n=this;this.MCt=function(){n.FQ.error(new Oo)},this.Kw=t}var n=t.prototype;return n.start=function(t){this.FQ=t,this.Kw.Ww(this.MCt)},n.flush=function(){this.Kw.Vw(this.MCt)},t}();function aG(t){var n;return t.value/(null!=(n=t.scale)?n:1)}F(),Tt(),Dt(),F(),Tt(),Dt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt(),F(),Tt();var cG="{initId}",hG=/{initId(?::0(?:\d+)d)?}/,fG=/{segmentId(?::0(?:\d+)d)?}/,vG=function(){function t(t,n,i){var r,e,u,s;this.Xbt=[],this.QO=t,this.KCt=i,this.zS=t.id,this.aG=t.bandwidth,this.LCt=t.averageBandwidth,this.WCt=null!=(r=t.baseUrl)?r:"",this.GCt=null!=(e=t.codecs)?e:n.codecs,this.ZCt=null!=(u=t.continuationPattern)?u:n.continuationPattern,this.zCt=null!=(s=t.initializationPattern)?s:n.initializationPattern,this.CO=t.label,this.qCt=t.mediaTimeOffset?aG(t.mediaTimeOffset):0,this.Obt=t.segmentDuration?aG(t.segmentDuration):0,this.ir(t)}return t.prototype.ir=function(t){this.OCt=t.activeSegment,this.VCt=t.activeSequenceNumber,this.Xbt=t.segments},Nt(t,[{key:"o",get:function(){return this.zS}},{key:"bG",get:function(){return this.aG}},{key:"Myt",get:function(){return this.LCt}},{key:"Mrt",get:function(){return this.Xbt}},{key:"BCt",get:function(){return this.OCt}},{key:"FCt",get:function(){return this.VCt}},{key:"TCt",get:function(){return Kn.ew(this.WCt,this.UCt.TCt)}},{key:"Jrt",get:function(){return this.GCt}},{key:"Ch",get:function(){return this.CO}},{key:"HCt",get:function(){return this.ZCt}},{key:"XCt",get:function(){return this.zCt}},{key:"YIt",get:function(){return this.qCt}},{key:"YCt",get:function(){return this.Obt}}]),t}(),dG=function(t){function n(n,i,r){var e,u,s,o,a;return(e=t.call(this,n,i,r)||this).QCt=null!=(u=n.channels)?u:1,e.JCt=null!=(o=null!=(s=n.frameRate)?s:i.frameRate)?o:1024,e.gA=null!=(a=n.sampleRate)?a:i.sampleRate,e}return It(n,t),Nt(n,[{key:"Tw",get:function(){return Yx.vE}},{key:"UCt",get:function(){return this.KCt}},{key:"jCt",get:function(){return this.QCt}},{key:"oft",get:function(){return this.JCt}},{key:"oM",get:function(){return this.gA}},{key:"jq",get:function(){return'audio/mp4; codecs="'+this.Jrt+'"'}}]),n}(vG),lG=function(t){function n(n,i,r){var e,u;return(e=t.call(this,n,i,r)||this).Ap=n.resolution,e.JCt=aG(null!=(u=n.frameRate)?u:i.frameRate),e}return It(n,t),Nt(n,[{key:"Tw",get:function(){return Yx.mE}},{key:"UCt",get:function(){return this.KCt}},{key:"$Ct",get:function(){return this.Ap}},{key:"oft",get:function(){return this.JCt}},{key:"jq",get:function(){return'video/mp4; codecs="'+this.Jrt+'"'}}]),n}(vG);function gG(t,n){var i=String(n);if(t===cG||"now"===n)return i;var r=A(t.substring(9,t.lastIndexOf("d")));return Xs(i,r,"0")}function wG(t,n){var i=String(n);if(t===cG)return i;var r=A(t.substring(12,t.lastIndexOf("d")));return Xs(i,r,"0")}var mG=function(){function t(t,n,i){var r;this.KCt=t,this.dC=i,this.tPt=n,this.zS=t.id,this.iPt=t.alignId,this.WCt=null!=(r=t.baseUrl)?r:"",this.CO=t.label,this.qCt=t.mediaTimeOffset?aG(t.mediaTimeOffset):0,this.nPt=t.protection,this.ir(t)}return t.prototype.ir=function(t){for(var n=function(n,i){var r=i[n],e=ho(t.tracks,(function(t){return r.o===t.id}));e&&r.ir(e)},i=0,r=this.dC;i<r.length;i++)n(i,r)},Nt(t,[{key:"xst",get:function(){return this.tPt}},{key:"o",get:function(){return this.zS}},{key:"ePt",get:function(){return this.iPt}},{key:"TCt",get:function(){return Kn.ew(this.WCt,this.xst.TCt)}},{key:"Ch",get:function(){return this.CO}},{key:"YIt",get:function(){return this.qCt}},{key:"sPt",get:function(){return this.nPt}}]),t}(),yG=function(t){function n(n,i){var r,e=[];r=t.call(this,n,i,e)||this;for(var u=0,s=n.tracks;u<s.length;u++){var o=s[u];e.push(new dG(o,n,r))}return r}return It(n,t),n.prototype.ir=function(n){var i,r;t.prototype.ir.call(this,n),this.LA=n.language,this.QCt=null!=(i=n.channels)?i:1,this.dY=null!=(r=n.mimeType)?r:"audio/mp4"},Nt(n,[{key:"UCt",get:function(){return this.KCt}},{key:"Z",get:function(){return this.dC}},{key:"gs",get:function(){return this.LA}},{key:"jCt",get:function(){return this.QCt}}]),n}(mG),pG=function(t){function n(n,i){var r,e=[];r=t.call(this,n,i,e)||this;for(var u=0,s=n.tracks;u<s.length;u++){var o=s[u];e.push(new lG(o,n,r))}return r}return It(n,t),n.prototype.ir=function(n){var i;t.prototype.ir.call(this,n),this.dY=null!=(i=n.mimeType)?i:"video/mp4"},Nt(n,[{key:"UCt",get:function(){return this.KCt}},{key:"Z",get:function(){return this.dC}},{key:"rPt",get:function(){return this.KCt.captions}}]),n}(mG),_G=function(){function t(t,n){var i,r,e;this.lPt=[],this.fPt=[],this.hPt=t,this.zS=n.id,this.WCt=null!=(i=n.baseUrl)?i:"";for(var u=0,s=null!=(r=n.audio)?r:[];u<s.length;u++){var o=s[u];this.lPt.push(new yG(o,this))}for(var a=0,c=null!=(e=n.video)?e:[];a<c.length;a++){var h=c[a];this.fPt.push(new pG(h,this))}this.ir(n)}return t.prototype.ir=function(t){var n;this.uPt=t.timeBounds,this.Kf=null!=(n=t.events)?n:[],this.uZ=t.currentTime?aG(t.currentTime):void 0},Nt(t,[{key:"o",get:function(){return this.zS}},{key:"TCt",get:function(){return Kn.ew(this.WCt,this.hPt.oPt)}},{key:"aPt",get:function(){return this.uPt}},{key:"ER",get:function(){return this.uZ}},{key:"Qq",get:function(){return this.Kf}},{key:"cPt",get:function(){return this.lPt}},{key:"dPt",get:function(){return this.fPt}}]),t}(),bG=function(){function t(t,n){this.SPt=[],this.xPt=t,this.hPt=n,this.ir(n)}return t.prototype.ir=function(t){var n,i,r=function(t,i){var r=i[t],e=ho(n.SPt,(function(t){return t.o===r.id}));e?e.ir(r):n.SPt.push(new _G(n,r))};this.vPt=aG(t.availabilityDuration),this.gPt=t.creationDate,this.wPt=t.fallbackPollRate,this.bPt=t.manifestVersion,this.oA=t.streamType,this.kPt=t.activePresentation,this.EPt=t.contentBaseUrl,this.IPt=null==(i=t.timeSource)?void 0:i.url,this.hPt=t;for(var e=0,u=t.presentations;e<u.length;e++)n=this,r(e,u);this.SPt=this.SPt.filter((function(n){return t.presentations.some((function(t){return t.id===n.o}))}))},Nt(t,[{key:"HC",get:function(){return this.hPt}},{key:"_Pt",get:function(){return this.vPt}},{key:"mPt",get:function(){return this.gPt}},{key:"pPt",get:function(){return this.wPt}},{key:"yPt",get:function(){return this.bPt}},{key:"APt",get:function(){return this.SPt}},{key:"a0",get:function(){return this.oA}},{key:"TPt",get:function(){return this.kPt}},{key:"oPt",get:function(){var t;return Kn.ew(null!=(t=this.EPt)?t:"",this.xPt)}},{key:"RPt",get:function(){return this.IPt}}]),t}();F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt();var kG=0,AG=function(t){function n(n){var i;return(i=t.call(this)||this).IO=kG++,i.CPt=n,i}It(n,t);var i=n.prototype;return i.kCt=function(t){var n=(t-this.CPt.UCt.xst.ER)*this.framesPerSecond();return k.round(this.CPt.FCt+n)},i.PPt=function(t){return t+1},i.SCt=function(t){for(var n,i,r=this.CPt.XCt;i=null==(n=r.match(hG))?void 0:n.pop();)r=r.split(i).join(gG(i,t));return r+("now"===t?"?uuid="+XE():"")},i.NCt=function(t){for(var n,i,r=this.CPt.HCt;i=null==(n=r.match(fG))?void 0:n.pop();)r=r.split(i).join(wG(i,t));return r},i.aW=function(){},i.hW=function(){},Nt(n,[{key:"trt",get:function(){return!0}},{key:"Myt",get:function(){return this.CPt.Myt}},{key:"bG",get:function(){return this.CPt.bG}},{key:"Jrt",get:function(){return this.CPt.Jrt}},{key:"o",get:function(){return this.CPt.o}},{key:"Ch",get:function(){var t;return null!=(t=this.CPt.Ch)?t:""}},{key:"IC",get:function(){return this.IO}},{key:"Fyt",get:function(){return this.CPt.TCt}},{key:"Lyt",get:function(){}},{key:"jq",get:function(){return this.CPt.jq}},{key:"YIt",get:function(){return this.CPt.YIt}},{key:"TCt",get:function(){return this.CPt.TCt}},{key:"Tw",get:function(){return this.CPt.Tw}}]),n}(ra),TG=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).eu=void 0,r.QO=i,r}return It(n,t),n.prototype.framesPerSecond=function(){return this.CPt.oM/this.CPt.oft},Nt(n,[{key:"DPt",get:function(){return this.CPt}},{key:"Nwt",get:function(){return this.CPt.oM}},{key:"Ht",get:function(){return this.QO}},{key:"wa",get:function(){return this.eu||(this.eu=sU(this)),this.eu}}]),n}(AG),SG=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).eu=void 0,r.QO=i,r}return It(n,t),n.prototype.framesPerSecond=function(){return this.CPt.oft},Nt(n,[{key:"DPt",get:function(){return this.CPt}},{key:"Byt",get:function(){return 0}},{key:"oft",get:function(){return this.CPt.oft}},{key:"Ti",get:function(){return this.CPt.$Ct.height}},{key:"ji",get:function(){return this.CPt.$Ct.width}},{key:"$Ct",get:function(){return this.CPt.$Ct}},{key:"Ht",get:function(){return this.QO}},{key:"wa",get:function(){return this.eu||(this.eu=uU(this)),this.eu}}]),n}(AG);F(),Tt();var EG=function(t){return t.NPt="alternative",t.MPt="main",t.LPt="commentary",t.BPt="",t.tW="descriptions",t.OPt="main-desc",t.FPt="translation",t}({}),IG=function(t){return t.NPt="alternative",t.MPt="main",t.LPt="commentary",t.BPt="",t.$V="captions",t.TC="sign",t.JV="subtitles",t}({}),RG=0,CG=function(t){function n(n,i,r,e){var u;(u=t.call(this)||this).TO=new sw,u.IO=RG++,u.qe=!1,u.Qct=void 0,u.KCt=i,u.GPt=r,u.HPt=new CW(n,[]);var s=i.Z.filter((function(t){return!(Kn.Ys.Qs&&void 0!==e&&t.bG>e)}));if(0===s.length){var o=Eo(i.Z,(function(t){return t.bG}));void 0!==o&&s.push(o)}for(var a=0;a<s.length;a++){var c=s[a];u.TO.kO(u.createQuality(c))}return u}It(n,t);var i=n.prototype;return i.DO=function(t){this.Rt=t},i.ZPt=function(t){for(var n=0,i=this.TO.lC;n<i.length;n++){var r=i[n];r===t&&this._o(new $V(r))}},Nt(n,[{key:"RC",get:function(){return this.VPt()}},{key:"Rt",get:function(){return this.qe},set:function(t){this.Rt!==t&&(this.qe=t,t&&this.WPt(),this.GPt.UPt(),this._o(new ow(this)))}},{key:"wa",get:function(){return this.eu||(this.eu=zg(this)),this.eu}},{key:"Odt",get:function(){return this.HPt}},{key:"o",get:function(){return this.KCt.o}},{key:"IC",get:function(){return this.IO}},{key:"Ch",get:function(){var t;return null!=(t=this.KCt.Ch)?t:""}},{key:"CE",get:function(){return this.Rt?"enabled":"disabled"},set:function(t){"enabled"===t?this.Rt=!0:"disabled"===t&&(this.Rt=!1)}},{key:"NC",get:function(){return this.TO}},{key:"MC",get:function(){return this.Qct},set:function(t){this.Qct=t,this.GPt.UPt(),this._o(new AB(t,this))}}]),n}(ra),NG=function(t){function n(n,i,r){return t.call(this,qg.vE,n,i,r)||this}It(n,t);var i=n.prototype;return i.WPt=function(){this.GPt.XPt(this)},i.VPt=function(){var t=this.GPt.zPt;return(null==t?void 0:t.Ht)===this?t:void 0},i.createQuality=function(t){return new TG(t,this)},Nt(n,[{key:"Tw",get:function(){return Yx.vE}},{key:"Lt",get:function(){return EG.MPt}},{key:"gs",get:function(){return this.KCt.gs}},{key:"UCt",get:function(){return this.KCt}}]),n}(CG),DG=function(t){function n(n,i,r){return t.call(this,qg.mE,n,i,r)||this}It(n,t);var i=n.prototype;return i.WPt=function(){this.GPt.qPt(this)},i.VPt=function(){var t=this.GPt.YPt;return(null==t?void 0:t.Ht)===this?t:void 0},i.createQuality=function(t){return new SG(t,this)},Nt(n,[{key:"Tw",get:function(){return Yx.mE}},{key:"Lt",get:function(){return IG.MPt}},{key:"gs",get:function(){return""}},{key:"UCt",get:function(){return this.KCt}},{key:"rPt",get:function(){return this.KCt.rPt}}]),n}(CG);function PG(t,n,i,r){if(t){var e=function(t,n,i){for(var r=[],e=0;e<n.length;e++){var u,s,o=n[e],a=null!=(u=o.mimeType)?u:"audio/mp4",c=null!=(s=o.codecs)?s:o.tracks.map((function(t){return t.codecs}))[0];r.push(a+'; codecs="'+c+'"')}return xG(t,n,r,[],i)}(t,n?[n]:[],!r),u=function(t,n,i){for(var r=[],e=0;e<n.length;e++){var u,s,o=n[e],a=null!=(u=o.mimeType)?u:"video/mp4",c=null!=(s=o.codecs)?s:o.tracks.map((function(t){return t.codecs}))[0];r.push(a+'; codecs="'+c+'"')}return xG(t,n,[],r,i)}(t,i?[i]:[],!r),s=rZ(e,u);return t.preferredKeySystems&&(null==s?void 0:s.cpt)&&(s.cpt=vZ(s.cpt,t.preferredKeySystems)),s}}function xG(t,n,i,r,e){var u=n.map((function(t){return t.protection})).filter(Yn);if(u.length){var s=u[0].type,o=Ao(u,(function(t){return t.systems})),a=Ao(o,(function(t){return function(t,n){void 0===n&&(n=!0);for(var i=[],r=n?function(t){return Ms.filter((function(n){return n.Rw===t.toLowerCase()}))}(t.schemeId):function(t){return Ls.filter((function(n){return n.Rw===t.toLowerCase()}))}(t.schemeId),e=0;e<r.length;e++){var u=r[e];i.push({WU:LG(t)?t.uri:void 0,cT:u,CG:void 0,IG:t.pssh?[ba(t.pssh).buffer]:[]})}return i}(t,e)}));return{hU:t,lpt:{RTt:s},cpt:a,ITt:i,CTt:r}}}function LG(t){return t.schemeId===hs.Aw&&void 0!==t.keyFormat&&void 0!==t.keyFormatVersions}F(),Tt(),F(),Tt(),Gt(),Dt(),qt(),F(),Tt();var MG;function OG(t){var n=t.ER,i=t.wR._B(n);return i?i.Tn(0)-n:0}MG="Android"===Kn.ow.hw?200:300;var BG=Kn.Ys.rp?1:.5,VG=function(){function t(t,n,i,r,e){var u=this;this.WB=t,this.ZG=n,this.nDt=i,this.pDt=r,this.QPt=e,this.Fa=0,this.rDt=et.resolve(),this.dDt=[],this.fDt=void 0,this.eDt=function(){var t,n;if(!u.pDt.uI){var i=null==(t=u.nDt.zPt)?void 0:t.Ht,r=null==(n=u.nDt.YPt)?void 0:n.Ht,e=To(u.aDt(i,r),(function(t){return t.uDt}));e&&(qo(u.cDt(e,!0)),u.WB.qB.zB&&u.pDt.ZC())}},this.tDt=function(){u.$Pt.bn(yp.WL,u.eDt),u.$Pt.vn(yp.UL,u.tDt)},this.JPt=function(){if(u.dDt.unshift(u.QPt.bG),u.dDt=u.dDt.slice(0,3),u.iDt){var t=u.iDt.lDt.uDt;u.QPt.bG<t&&(u.iDt=void 0,u.kB())}},this.$Pt=new Cp(this.WB)}var n=t.prototype;return n.Sn=function(){var t=this;1!==this.Fa&&(this.Fa=1,this.KPt=Kn.Gp((function(){t.jPt()}),MG),this.QPt.TIt(this.JPt),this.WB.KR?this.$Pt.bn(yp.UL,this.tDt):this.tDt())},n.RI=function(){0!==this.Fa&&(this.Fa=0,void 0!==this.KPt&&Kn.Hp(this.KPt),this.QPt.EIt(this.JPt),this.$Pt.vn(yp.WL,this.eDt),this.$Pt.vn(yp.UL,this.tDt),this.iDt=void 0,this.kB())},n.jPt=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.rDt];case 1:return n.sent(),t.rDt=t.oDt(),[4,t.rDt];case 2:return n.sent(),[2]}}))}))()},n.hDt=function(t,n){for(var i=this.aDt(t,n),r=this.QPt.bG,e=0;e<i.length;e++){var u=i[e];if(u.uDt<=r)return u}return i[i.length-1]},n.oDt=function(){var t=this;return Zt((function(){var n,i,r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return r=null==(n=t.nDt.zPt)?void 0:n.Ht,e=null==(i=t.nDt.YPt)?void 0:i.Ht,0===(u=t.aDt(r,e)).length?[2]:(s=t.maybeSwitchToTargetQuality(u))?[4,t.cDt(s)]:[3,2];case 1:case 3:return a.sent(),[2];case 2:return(o=t.maybeGetUpSwitch(u))?[4,t.cDt(o)]:[3,4];case 4:return[2]}}))}))()},n.maybeSwitchToTargetQuality=function(t){var n=this.sDt;if(!t.some((function(t){return UG(t,n)}))){for(var i=this.QPt.bG,r=0;r<t.length;r++){var e=t[r];if(e.uDt<=i)return e}return t[t.length-1]}},n.maybeGetUpSwitch=function(t){for(var n,i,r,e,u,s=this.QPt.bG,o=(null!=(r=null==(n=this.nDt.zPt)?void 0:n.bG)?r:0)+(null!=(e=null==(i=this.nDt.YPt)?void 0:i.bG)?e:0),a=0;a<t.length;a++){var c=t[a];if(c.uDt<s&&c.uDt>o){u={lDt:c,Zft:Kn.Wg()};break}}if(this.iDt&&UG(this.iDt.lDt,null==u?void 0:u.lDt)){var h=Kn.Wg()-this.iDt.Zft,f=this.iDt.lDt.uDt,v=this.dDt.length>=3&&this.dDt.every((function(t){return t>f}));if(h>1e3&&v){if(this.WB.qB.zB||Kn.Ys.$g){var d=2*this.QPt.AG;if(!(OG(this.WB)>d))return}else{var l=k.max(2*this.QPt.AG+BG,this.ZG.yB.minimumOffset);if(!(OG(this.WB)>l))return void(this.fDt&&this.fDt.minimumOffset===l||(this.kB(),this.fDt={minimumOffset:l},this.ZG.AB(this.fDt)))}return this.iDt.lDt}}else this.iDt=u},n.cDt=function(t,n){void 0===n&&(n=!1);var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return i.iDt=void 0,i.kB(),(r=i.sDt)._Dt===t._Dt&&r.vDt===t.vDt?[2]:(e=t._Dt,u=t.vDt,r.vDt&&u&&r.vDt.bG>u.bG&&n&&(i.QPt.AIt(t.uDt),i.dDt=[]),[4,i.nDt.mDt(u,e)]);case 1:return s.sent(),[2]}}))}))()},n.kB=function(){this.fDt&&(this.ZG.kB(this.fDt),this.fDt=void 0)},n.aDt=function(t,n){var i,r=[],e=[];t&&(r=(null==(i=t.MC)?void 0:i.length)?t.MC:t.NC.lC);if(n){var u,s=(null==(u=n.MC)?void 0:u.length)?n.MC:n.NC.lC,o=s.slice().sort((function(t,n){return t.bG-n.bG})),a=this.gDt(o);0===a.length&&s.length>0&&a.push(To(s,(function(t){return t.bG}))),e=a}for(var c=[],h=r.length>0?r:[void 0],f=e.length>0?e:[void 0],v=0;v<h.length;v++)for(var d=h[v],l=0;l<f.length;l++){var g=f[l];c.push(FG(d,g))}return function(t){return t.sort((function(t,n){return n.uDt-t.uDt}))}(c)},n.gDt=function(t){for(var n=0;n<t.length;n++){var i=t[n].$Ct;if(i.height>=this.WB.Ti&&i.width>=this.WB.ji)return t.slice(0,n+1)}return t.slice()},n.Xw=function(){this.iDt=void 0,this.$Pt.nr(),this.kB()},Nt(t,[{key:"sDt",get:function(){return FG(this.nDt.zPt,this.nDt.YPt)}}]),t}();function FG(t,n){var i,r;return{_Dt:t,vDt:n,uDt:(null!=(i=null==t?void 0:t.bG)?i:0)+(null!=(r=null==n?void 0:n.bG)?r:0)}}function UG(t,n){var i,r,e,u;return void 0===t||void 0===n?t===n:(null==(i=t._Dt)?void 0:i.o)===(null==(r=n._Dt)?void 0:r.o)&&(null==(e=t.vDt)?void 0:e.o)===(null==(u=n.vDt)?void 0:u.o)&&t.uDt===n.uDt}F(),Tt(),Gt(),Dt(),nn(),qt();var WG=20,ZG=function(){function t(t,n,i){this.GT=new Yo,this.wDt=t,this.ARt(n,i,this.GT.Uw).catch(bi)}var n=t.prototype;return n.ARt=function(t,n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return i.Fw?[3,6]:[4,$o(6e5,i)];case 1:e.sent(),e.label=2;case 2:return e.trys.push([2,4,,5]),[4,XG(t,n,i)];case 3:return r.wDt=e.sent(),[3,5];case 4:return Fo(e.sent()),[3,5];case 5:return[3,0];case 6:return[2]}}))}))()},n.Xw=function(){this.GT.jw()},t.create=function(n,i,r){return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return[4,XG(n,i,r)];case 1:return[2,new t(e.sent(),n,i)]}}))}))()},Nt(t,[{key:"mbt",get:function(){return(this.wDt.serverTimeMs+(Kn.Wg()-this.wDt.localTimeMs))/1e3}},{key:"yDt",get:function(){return(this.wDt.localTimeMs-this.wDt.serverTimeMs)/1e3}}]),t}();function XG(t,n,i){return GG.apply(this,arguments)}function GG(){return GG=Zt((function(t,n,i){var r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return[4,HG(t,n,i)];case 1:return r=tn.apply(void 0,[a.sent(),3]),e=r[0],u=r[1],s=r[2],u>WG?[4,HG(t,n,i)]:[3,3];case 2:o=tn.apply(void 0,[a.sent(),3]),e=o[0],u=o[1],s=o[2],a.label=3;case 3:return[2,{localTimeMs:e,serverTimeMs:s-u/2}]}}))})),GG.apply(this,arguments)}function HG(t,n,i){return zG.apply(this,arguments)}function zG(){return zG=Zt((function(t,n,i){var r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return r=Kn.Wg(),[4,n.Qk({AE:ol.GET,Xu:t,Uw:i})];case 1:return e=a.sent(),u=Kn.Wg()-r,[4,e.Ck(i)];case 2:return s=a.sent(),o=1e3*Number(s),[2,[r,u,o]]}}))})),zG.apply(this,arguments)}var YG=function(t){function n(){return t.call(this,"seek")||this}return It(n,t),n}(sa),jG=function(t){return t.NZ="seek",t}({}),KG=[oa.ho,yp.iC,oa.hb],qG=function(t){function n(n,i,r,e,u,s,o,a,c,h){var f;return(f=t.call(this)||this).ODt=!1,f.eNt=!1,f.cO=new Kg,f.dO=new Kg,f.iNt=void 0,f.SDt=void 0,f.TDt=void 0,f.EDt=new Gc,f.JG=void 0,f.gpt=void 0,f.xDt=new Gc,f.vW=new Yo,f.zDt=void 0,f.XDt=new Yo,f.o8=void 0,f.r8=new Yo,f.GDt=void 0,f.bDt=void 0,f.JDt=void 0,f.HDt=void 0,f.ADt=void 0,f.QDt=void 0,f.$Dt=void 0,f.XB=function(){f.eNt=!0},f.updateActiveQualities=function(){var t,n,i=f.WB.ER,r=null==(t=f.bDt)?void 0:t.GIt(i),e=null==(n=f.ADt)?void 0:n.GIt(i);if(f.SDt!==r&&(f.SDt=r,r))for(var u=0,s=f.cO.lC;u<s.length;u++){s[u].ZPt(r)}if(f.TDt!==e&&(f.TDt=e,e))for(var o=0,a=f.dO.lC;o<a.length;o++){a[o].ZPt(e)}},f.jDt=function(t,n){var i=n.data;if(i.Tw===jX.rCt){var r,e=i.hCt,u=i.aCt,s=i.oCt,o=i.uCt;if(f.PDt){var a=f.PDt.mbt,c=f.WB.ER;if(f.eNt&&0!==c){var h={theolive:a-e+s-c,engine:u,distribution:a-(e+u),player:s-c};t===qg.vE?(f.LDt=h,f.RDt.LIt(f.PDt.yDt+e,s)):(f.MDt=h,f.RDt.NIt(f.PDt.yDt+e,s))}}if(o)null!=f.iNt||(f.iNt=f.WB.OI(zy.eW,"timecode","timecode",void 0,!1,Tw.DEFAULT,!1,void 0)),f.iNt._W(new Xw(s,s,o,!1,void 0)),sp(f.iNt,null!=(r=f.WB.wR.Sn(0))?r:-1)}f._o(n)},f.X6=function(t){Bo(t)||(f.RI(),f._o(new yk(new id(td.MEDIA_LOAD_ERROR,t.message))))},f.Sc=n,f.CDt=i,f.WB=r,f.fW=u,f.RDt=s,f.gZ=new VG(r,o,f,c,e),f.edt=a,f.NDt=h,f.WB.bn(yp.UL,f.XB),f.WB.bn(KG,f.updateActiveQualities),f}It(n,t);var i=n.prototype;return i.IDt=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.bDt?[4,t.bDt.eT(0,1/0)]:[3,2];case 1:n.sent(),n.label=2;case 2:return t.ADt?[4,t.ADt.eT(0,1/0)]:[3,4];case 3:n.sent(),n.label=4;case 4:return[2]}}))}))()},i.$n=function(){if(!this.Sc.src)throw new id(td.SOURCE_INVALID,"No src property found in given source.");this.gpt||(this.gpt=this.QE(this.vW.Uw).catch(this.X6))},i.QE=function(t){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:return n._o(new UR),i=n.Sc.src,[4,n.CDt.WRt(i,t)];case 1:return r=u.sent(),n.hPt=new bG(i,r),n.hPt.RPt?[4,ZG.create(n.hPt.RPt,n.fW,t)]:[3,3];case 2:n.PDt=u.sent(),u.label=3;case 3:return n.DDt(),e=n.hPt.APt[n.hPt.APt.length-1],n.createTracksForPresentation(e),n.EDt.Vb(),n.UPt(),[2]}}))}))()},i.XPt=function(t){for(var n=0,i=this.cO.lC;n<i.length;n++){var r=i[n];r.DO(r===t)}},i.qPt=function(t){for(var n=0,i=this.dO.lC;n<i.length;n++){var r=i[n];r.DO(r===t)}},i.UPt=function(){for(var t,n=ho(this.cO.lC,(function(t){return t.Rt})),i=ho(this.dO.lC,(function(t){return t.Rt})),r=0,e=null!=(t=null==i?void 0:i.rPt)?t:[];r<e.length;r++){var u=e[r];this.NDt.kgt({jtt:u.channel,Qtt:u.language,Ch:u.label})}var s=this.gZ.hDt(n,i);qo(this.mDt(s.vDt,s._Dt))},i.DDt=function(){var t=this;if(this.hPt&&"live"===this.hPt.a0&&this.PDt){var n=this.hPt.APt.filter((function(n){return n.o===t.hPt.TPt}))[0].ER,i=this.PDt.yDt+new Date(this.hPt.mPt).getTime()/1e3;this.RDt.PIt(i,n)}},i.createTracksForPresentation=function(t){for(var n,i,r,e,u,s=null==(n=this.Sc.hesp)?void 0:n.maxMobileBitrate,o=0,a=null!=(e=t.cPt)?e:[];o<a.length;o++){var c=a[o];this.cO.tt(new NG(c,this,s))}for(var h=0,f=null!=(u=t.dPt)?u:[];h<f.length;h++){var v=f[h];this.dO.tt(new DG(v,this,s))}null==(i=this.cO.fC(0))||i.DO(!0),null==(r=this.dO.fC(0))||r.DO(!0)},i.Sn=function(){this.ODt=!0,this.FDt()},i.RI=function(){var t;this.ODt=!1,this.VDt().catch(this.X6),"live"===(null==(t=this.HC)?void 0:t.a0)&&(this.WDt(),this.UDt())},i.WDt=function(){this.GDt&&this.GDt.cancelDownload()},i.UDt=function(){this.HDt&&this.HDt.cancelDownload()},i.ZC=function(t){var n=this;this.r8.jw(),this.r8=new Yo,this.o8=Go((function(i){return n.ZDt(t,n.o8,i)}),this.r8).catch(this.X6)},i.ZDt=function(t,n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){switch(s.label){case 0:return n?[4,n]:[3,2];case 1:s.sent(),s.label=2;case 2:return[4,Wo(r.W,i)];case 3:if(s.sent(),"live"!==r.hPt.a0)throw new p("The current video source does not support Live playback.");return Vo(i),[4,r.VDt()];case 4:if(s.sent(),Vo(i),!r.GDt||!r.GDt.bCt()&&r.GDt.gCt===(null!=t?t:"now"))return[3,10];if(r.WDt(),!r.bDt)return[3,9];s.label=5;case 5:return r.bDt.XIt?[4,Wo(r.bDt.qIt,i)]:[3,7];case 6:return s.sent(),[3,5];case 7:return[4,r.bDt.eT(0,1/0)];case 8:s.sent(),s.label=9;case 9:null==(e=r.GDt)||e.Rb(null!=t?t:"now"),s.label=10;case 10:if(!r.HDt||!r.HDt.bCt()&&r.HDt.gCt===(null!=t?t:"now"))return[3,16];if(r.UDt(),!r.ADt)return[3,15];s.label=11;case 11:return r.ADt.XIt?[4,Wo(r.ADt.qIt,i)]:[3,13];case 12:return s.sent(),[3,11];case 13:return[4,r.ADt.eT(0,1/0)];case 14:s.sent(),s.label=15;case 15:null==(u=r.HDt)||u.Rb(null!=t?t:"now"),s.label=16;case 16:return r._o(new YG),Vo(i),r.o8=void 0,r.FDt(),[2]}}))}))()},i.Rb=function(t){var n=this;this.r8.jw(),this.r8=new Yo,this.o8=Go((function(i){return n.h8(t,n.o8,i)}),this.r8).catch(this.X6)},i.h8=function(t,n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){switch(s.label){case 0:return n?[4,n]:[3,2];case 1:s.sent(),s.label=2;case 2:return[4,Wo(r.W,i)];case 3:return s.sent(),Vo(i),[4,r.VDt()];case 4:return s.sent(),Vo(i),r.GDt&&(r.GDt.bCt()||r.GDt.gCt!==t)&&r.WDt(),r.HDt&&(r.HDt.bCt()||r.HDt.gCt!==t)&&r.UDt(),r._o(new YG),Vo(i),null==(e=r.GDt)||e.Rb(t),null==(u=r.HDt)||u.Rb(t),r.o8=void 0,r.FDt(),[2]}}))}))()},i.mDt=function(t,n){var i,r,e=this;return(null==(i=this.GDt)?void 0:i.pat)===n&&(null==(r=this.HDt)?void 0:r.pat)===t?et.resolve():(this.XDt.jw(),this.XDt=new Yo,this.zDt=Go((function(i){return e.qDt(t,n,e.zDt,i)}),this.XDt).catch(this.X6),this.zDt)},i.qDt=function(t,n,i,r){var e=this;return Zt((function(){return Ht(this,(function(u){switch(u.label){case 0:return i?[4,i]:[3,2];case 1:u.sent(),u.label=2;case 2:return[4,Wo(e.EDt.Ub,r)];case 3:return u.sent(),Vo(r),[4,e.VDt()];case 4:return u.sent(),Vo(r),[4,e.YDt(t,n)];case 5:return u.sent(),[4,e.KDt(t,n)];case 6:return u.sent(),Vo(r),e.zDt=void 0,e.FDt(),[2]}}))}))()},i.YDt=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h,f,v,d,l,g,w,m,y,p,_;return Ht(this,(function(b){switch(b.label){case 0:return s=null!=(u=i.BDt)?u:"now",(null==(r=i.GDt)?void 0:r.pat)===n?[3,5]:(a=i.GDt&&!i.GDt.bCt(),c=null==(o=i.GDt)?void 0:o.gCt,i.GDt?[4,i.GDt.Xw()]:[3,2]);case 1:b.sent(),i.GDt=void 0,b.label=2;case 2:return i.bDt?[4,i.bDt.qIt]:[3,4];case 3:b.sent(),b.label=4;case 4:n&&(v=null!=(f=null==(h=i.bDt)?void 0:h.wR)?f:SA.pB(),d=a?c:v.Tn(v.V-1),i.GDt=new sG(n,i.fW,i.edt),i.GDt.bn(HX.iCt,(function(t){return i.jDt(qg.vE,t)})),i.GDt.Rb(null!=d?d:s)),b.label=5;case 5:return(null==(e=i.HDt)?void 0:e.pat)===t?[3,10]:(g=i.HDt&&!i.HDt.bCt(),w=null==(l=i.HDt)?void 0:l.gCt,i.HDt?[4,i.HDt.Xw()]:[3,7]);case 6:b.sent(),i.HDt=void 0,b.label=7;case 7:return i.ADt?[4,i.ADt.qIt]:[3,9];case 8:b.sent(),b.label=9;case 9:t&&(p=null!=(y=null==(m=i.ADt)?void 0:m.wR)?y:SA.pB(),_=g?w:p.Tn(p.V-1),i.HDt=new sG(t,i.fW,i.edt),i.HDt.bn(HX.iCt,(function(t){return i.jDt(qg.mE,t)})),i.HDt.Rb(null!=_?_:s)),b.label=10;case 10:return[2]}}))}))()},i.KDt=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:if(r=function(t,n,i,r,e){var u=PG(t,null==n?void 0:n.Ht.UCt.UCt,null==i?void 0:i.Ht.UCt.UCt,r),s=cZ(u),o=[];n&&o.push({Mk:n.jq});i&&o.push({Mk:i.jq});return{Tw:mp.wW,g4:o,sH:s,C4:e&&!r}}(i.Sc.contentProtection,n,t,i.WB.qB.zB,i.Sc.useManagedMediaSource),!i.JG||!i.JG.dJ(r))return[3,12];if(s=!(null==(e=i.GDt)?void 0:e.bCt()),!i.bDt||!s)return[3,5];h.label=1;case 1:return i.bDt.XIt?[4,i.bDt.qIt]:[3,3];case 2:return h.sent(),[3,1];case 3:return[4,i.bDt.cY()];case 4:h.sent(),h.label=5;case 5:if(o=!(null==(u=i.HDt)?void 0:u.bCt()),!i.ADt||!o)return[3,10];h.label=6;case 6:return(null==(a=i.ADt)?void 0:a.XIt)?[4,i.ADt.qIt]:[3,8];case 7:return h.sent(),[3,6];case 8:return[4,null==(c=i.ADt)?void 0:c.cY()];case 9:h.sent(),h.label=10;case 10:return[4,i.JG._J(r)];case 11:return h.sent(),[3,21];case 12:return i.WDt(),i.UDt(),i.bDt?[4,i.bDt.Xw()]:[3,14];case 13:h.sent(),i.bDt=void 0,h.label=14;case 14:return i.ADt?[4,i.ADt.Xw()]:[3,16];case 15:h.sent(),i.ADt=void 0,h.label=16;case 16:i.WB.p7(),h.label=17;case 17:return h.trys.push([17,,20,21]),[4,i.WB.nr()];case 18:return h.sent(),[4,i.WB.$n(r)];case 19:return i.JG=h.sent(),i.xDt.Vb(),i.JG.h4&&i.GDt&&(i.JG.h4.bn(DR.tJ,i.Ds),i.bDt=new XX(i.JG.h4,i.WB,n,i.NDt)),i.JG.a4&&i.HDt&&(i.JG.a4.bn(DR.tJ,i.Ds),i.ADt=new XX(i.JG.a4,i.WB,t,i.NDt)),"live"===i.hPt.a0&&i.JG.d4(1/0),[3,21];case 20:return i.WB.w7(),[7];case 21:return[2]}}))}))()},i.FDt=function(){!this.ODt||this.o8||this.zDt||this.QDt||this.JDt||(this.gZ.Sn(),this.$Dt=new Yo,this.HDt&&this.ADt&&(this.QDt=this.tNt(this.HDt,this.ADt,this.$Dt.Uw).catch(this.X6)),this.GDt&&this.bDt&&(this.JDt=this.tNt(this.GDt,this.bDt,this.$Dt.Uw).catch(this.X6)))},i.VDt=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.gZ.RI(),t.$Dt&&(t.$Dt.jw(),t.$Dt=void 0),t.QDt?[4,t.QDt]:[3,2];case 1:n.sent(),t.QDt=void 0,n.label=2;case 2:return t.JDt?[4,t.JDt]:[3,4];case 3:n.sent(),t.JDt=void 0,n.label=4;case 4:return[2]}}))}))()},i.tNt=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h,f,v,d,l;return Ht(this,(function(g){switch(g.label){case 0:return[4,r.W];case 1:g.sent(),g.label=2;case 2:return t.XIt?[4,Wo(t.qIt,i)]:[3,4];case 3:return g.sent(),[3,2];case 4:return n.XIt?[4,Wo(n.qIt,i)]:[3,6];case 5:return g.sent(),[3,4];case 6:return t.bCt()?[3,13]:(e=Kn.Wg()/1e3,u="now"===t.gCt,[4,t.ACt()]);case 7:return s=g.sent(),o=s.initialization,a=s.data,c=s.metadata,h={Tw:xR.iJ,Kk:o},f=a?{Tw:xR.iJ,Kk:a}:void 0,v=n.wR,!Kn.Ys.ep&&!r.WB.qB.zB&&c&&v.Tn(v.V-1)>c.wit?[4,n.eT(c.wit,1/0)]:[3,9];case 8:g.sent(),g.label=9;case 9:return[4,n.A2(h)];case 10:return g.sent(),f?[4,n.g2(f,c,t.pat)]:[3,12];case 11:g.sent(),g.label=12;case 12:d=n.wR.iB(v),u&&d.V>0&&r.RDt.IIt(e,d.Tn(d.V-1)),g.label=13;case 13:return t.mCt?[3,15]:(Vo(i),l=t.ICt(),[4,Wo(n.appendStream(l,t),i)]);case 14:return g.sent(),[3,13];case 15:return[2]}}))}))()},i.Xw=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.vW.jw(),t.gpt?[4,t.gpt.catch(bi)]:[3,2];case 1:n.sent(),n.label=2;case 2:return t.o8?(t.r8.jw(),t.WDt(),t.UDt(),[4,t.o8.catch(bi)]):[3,4];case 3:n.sent(),n.label=4;case 4:return t.zDt?(t.XDt.jw(),t.WDt(),t.UDt(),[4,t.zDt.catch(bi)]):[3,6];case 5:n.sent(),n.label=6;case 6:return[4,t.VDt()];case 7:return n.sent(),t.GDt?[4,t.GDt.Xw()]:[3,9];case 8:n.sent(),n.label=9;case 9:return t.HDt?[4,t.HDt.Xw()]:[3,11];case 10:n.sent(),n.label=11;case 11:return t.GDt=void 0,t.HDt=void 0,t.xDt.jw(),t.EDt.jw(),t.JG?[4,t.WB.nr()]:[3,13];case 12:n.sent(),t.JG=void 0,n.label=13;case 13:return t.bDt=void 0,t.ADt=void 0,t.WB.vn(yp.UL,t.XB),t.WB.vn(KG,t.updateActiveQualities),t.cO.nr(),t.SDt=void 0,t.dO.nr(),t.TDt=void 0,t.hPt=void 0,t.PDt&&(t.PDt.Xw(),t.PDt=void 0),t.ODt=!1,[2]}}))}))()},Nt(n,[{key:"HC",get:function(){return this.hPt}},{key:"wR",get:function(){return this.bDt&&this.ADt?this.bDt.wR.jn(this.ADt.wR):this.bDt?this.bDt.wR:this.ADt?this.ADt.wR:SA.pB()}},{key:"zPt",get:function(){return this.SDt}},{key:"YPt",get:function(){return this.TDt}},{key:"ht",get:function(){return this.cO}},{key:"rt",get:function(){return this.dO}},{key:"kDt",get:function(){return this.EDt.Ub}},{key:"W",get:function(){return this.xDt.Ub}},{key:"hI",get:function(){return this.hPt?function(t,n,i){var r,e=null==(r=t.APt[0])?void 0:r.ER,u=t._Pt;if(void 0===e||void 0===u)return i>0&&i<er?new SA([0,i],[!0,!0]):SA.pB();var s=n.OIt;if(!s){var o=RF(t.mPt).getTime()/1e3;s=e+(Date.now()/1e3-o)}return new SA([s-u,s],[!0,!0])}(this.hPt,this.RDt,this.WB.ct):SA.pB()}},{key:"WC",get:function(){return To([this.MDt,this.LDt].filter(Yn),(function(t){return t.theolive}))}},{key:"BDt",get:function(){var t=this.RDt.OIt;if(void 0!==t)return t}}]),n}(ra);F(),Tt(),Rt();var JG=function(t){function n(n,i,r){return t.call(this,n,i,r)||this}It(n,t);var i=n.prototype;return i.jB=function(){var t=this.WB.wR;return 0===t.V?0:t.Tn(t.V-1)-this.WB.ER},i.ZC=function(){this.na.ZC()},i.EB=function(){return UX(t.prototype.EB.call(this))},i.QB=function(){return!Kn.Ys.$g},n}(NA),QG=[oa.jy,oa.qy,oa.hb,oa.Dy,oa.Yy,oa.ub,oa.Iy,oa.Ly,oa.Ny],$G=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).nDt=void 0,s.cZ=!1,s.r8=new Yo,s.o8=void 0,s.uxt=void 0,s.wNt=new Yo,s.Xit=!0,s.eNt=!1,s.cO=new Qk,s.dO=new Qk,s.KG=void 0,s.YG=void 0,s.aNt=zT.$H,s.pd=function(){var t=s.wR;t.length>0&&s.NDt.nW(t.start(0))},s.sNt=function(){s.WB.KR!==s.Xit&&(s.WB.KR?s.EI():s.xI().catch(bi))},s.IX=function(){s.eNt=!0},s.fNt=function(t){s.KG=t.errorObject,s.YG=iw(s.KG),s.cNt(s.KG)},s.nNt=function(t){s.KG=rw(t.lt),s.YG=t.lt,s.cNt(s.KG)},s.WB=n,s.mH=new Cp(s.WB,!0),s.fW=i,s.iH=new DX(r.Ij,r.cj.AG),s.hH=new Sk(i),s.WB.wH=s.hH,s.NDt=new zV(s.WB),s.Hl=new Ik([s.WB.nt,s.NDt.Z]),s.RDt=new PX,s.hNt=new pX(s),s.pZ=e,s.edt=u.retryConfiguration,s.wC(),s}It(n,t);var i=n.prototype;return i.wC=function(){this.WB.bn(QG,this.Ds),this.WB.bn(yp.UL,this.IX),this.WB.bn([oa.ho,oa.zy],this.sNt),this.WB.bn(Uy.fa,this.nNt),this.WB.bn(oa.hb,this.pd),this.mH.bn(pp,this.Ds)},i.gC=function(){this.WB.vn(QG,this.Ds),this.WB.vn(yp.UL,this.IX),this.WB.vn([oa.ho,oa.zy],this.sNt),this.WB.vn(Uy.fa,this.nNt),this.WB.vn(oa.hb,this.pd),this.mH.vn(pp,this.Ds)},i.II=function(){return!1},i.SI=function(){return this.WB.Sa},i.ja=function(){return this.WB.fH},i.OI=function(t){return this.WB._H(t)},i.be=function(){this.WB.be()},i.ge=function(){return this.WB.ge()},i.NI=function(){},i.MI=function(){},i.CI=function(){},i.DI=function(){},i.RR=function(t,n){var i=this;this.r8.jw(),this.r8=new Yo,this.o8=Go((function(n){return i.h8(t,n,i.o8)}),this.r8)},i.oNt=function(){var t=this.HC;if(t){for(var n=new Date(t.creationDate).getTime(),i=NaN,r=0,e=t.presentations;r<e.length;r++){var u=e[r];u.currentTime&&(i=u.currentTime.value/(u.currentTime.scale||1)*1e3)}if(!S(i))return new Date(n-i)}},i.uNt=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.aNt!==zT.$H&&t.nDt?(t.nDt.$n(),t.aNt!==zT.JB&&t.aNt!==zT.yG?[3,2]:[4,t.nDt.kDt]):[2];case 1:n.sent(),"vod"===t.nDt.HC.a0&&t.nDt.Sn(),n.label=2;case 2:return[2]}}))}))()},i.Ca=function(t,n,i){var r=this;return Zt((function(){var n,e;return Ht(this,(function(u){switch(u.label){case 0:return Vo(i),[4,r.nr()];case 1:return u.sent(),Vo(i),$A(t)?(n=t,r.Sc=n,e=new yX(r.fW),r.lNt=r.dNt(t),r.ZG=new JG(r,r.WB,r.lNt),r.ZG.Rt=!0,r.ZG.bn("latencyrecoveryseek",r.Ds),r.yI.Aa(r.ZG),r.nDt=new qG(n,e,r.WB,r.iH,r.fW,r.RDt,r.ZG,r.edt,r,r.NDt),r.nDt.bn(oa.Uy,r.Ds),r.nDt.bn(Uy.fa,r.fNt),r.cO.vC=r.nDt.ht,r.dO.vC=r.nDt.rt,r.hH.kG(t.contentProtection),qo(r.uNt()),[2]):(r.KG=new id(td.SOURCE_INVALID,"HESP source incorrectly configured"),r.YG=iw(r.KG),r.cNt(r.KG),[2,et.resolve()])}}))}))()},i.dNt=function(t){return t.latencyConfiguration?t.latencyConfiguration:WX()},i.xI=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:return t.nDt?(t.Xit=!1,t.nDt.$n(),[4,t.nDt.W]):[2];case 1:return r.sent(),t._o(new hT(t.ER)),i=t.nDt.py(jG.NZ),t.ZC(),[4,i];case 2:return r.sent(),t.nDt.Sn(),[4,t.WB.xI()];case 3:return r.sent(),null==(n=t.ZG)||n.Sn(),[2]}}))}))()},i.EI=function(){var t;this.nDt&&(this.Xit=!0,this._o(new cT(this.ER)),this.nDt.RI(),null==(t=this.ZG)||t.RI(),this.WB.EI())},i.ZC=function(){var t=this;if(this.uxt)throw new p("Cannot seek while resetting");this.r8.jw(),this.r8=new Yo,this.o8=Go((function(n){return t.ZDt(t.o8,n)}),this.r8)},i._Nt=function(){var t;null==(t=this.nDt)||t.RI()},i.cNt=function(t){this._o(new yk(t)),this._Nt()},i.h8=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:if(r.uxt)throw new p("Cannot seek while resetting");return u=t,r.vNt(u),r.hI.length>0&&(u=SA.Cn(r.hI).KL(u),r.vNt(u)),r.nDt?i?[4,i.catch(bi)]:[3,2]:[2];case 1:a.sent(),Vo(n),a.label=2;case 2:(null==(e=r.ZG)?void 0:e.wB)&&r.ZG.RI(),a.label=3;case 3:return a.trys.push([3,5,,6]),s=r.WB.py(oa.Qy,n),r.WB.Rb(u),r.nDt.Rb(u),[4,s];case 4:return a.sent(),[3,6];case 5:throw Fo(o=a.sent()),r.nDt.RI(),r.mNt(),o;case 6:return r.gNt(),[2]}}))}))()},i.ZDt=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:return i._o(new sa("golive")),r=i.BDt,i.vNt(r),i.nDt?t?[4,t.catch(bi)]:[3,2]:[2];case 1:f.sent(),Vo(n),f.label=2;case 2:return f.trys.push([2,11,,13]),e=i.ZG.yB.targetOffset,[4,i.nDt.kDt];case 3:f.sent(),r&&e>=1?(i.ZG.QB()||(s=k.min(1,.5*e),e-=s),u=r-e):u=i.BDt?i.BDt-.2:void 0,i.nDt.ZC(u),f.label=4;case 4:return i.Ckt.V>0?[4,i.nDt.py(DR.tJ,n)]:[3,6];case 5:return f.sent(),[3,4];case 6:o=i.Ckt,f.label=7;case 7:return 0!==i.Ckt.iB(o).V?[3,9]:[4,i.nDt.py(DR.tJ,n)];case 8:return f.sent(),[3,7];case 9:return u=i.Ckt.Sn(i.Ckt.V-1),u=i.pNt(u),i.vNt(u),a=i.WB.py(oa.Qy,n),i.WB.Rb(u,!0),[4,a];case 10:return f.sent(),[3,13];case 11:if(Bo(c=f.sent()))throw null==(h=i.ZG)||h.Sn(),c;return i.nDt.RI(),[4,i.nDt.IDt()];case 12:throw f.sent(),i.mNt(),c;case 13:return i.gNt(),[2]}}))}))()},i.vNt=function(t){this.cZ=!0,this.rNt=t,this._o(new lT(this.ER))},i.gNt=function(){this.cZ&&(this.rNt=void 0,this.cZ=!1,this._o(new gT(this.ER)))},i.mNt=function(){this.rNt=void 0,this.cZ=!1},i.pNt=function(t){return t},i.cxt=function(t,n,i){var r=this;return Zt((function(){var e;return Ht(this,(function(u){switch(u.label){case 0:return Vo(i),t?[4,t.catch(bi)]:[3,2];case 1:u.sent(),u.label=2;case 2:return n?[4,n.catch(bi)]:[3,4];case 3:u.sent(),u.label=4;case 4:return[4,r.NDt.nr()];case 5:return u.sent(),null==(e=r.ZG)||e.RI(),r.nDt?[4,r.nDt.Xw()]:[3,7];case 6:u.sent(),r.nDt=void 0,u.label=7;case 7:return Vo(i),[4,r.WB.nr()];case 8:return u.sent(),Vo(i),r.WB.vH(),r.dO.nr(),r.cO.nr(),r.mNt(),r.mH.nr(),r.RDt.nr(),r.KG=void 0,r.YG=void 0,r.Xit=!0,r.eNt=!1,r.Sc=void 0,r.uxt=void 0,r.lNt=void 0,[2]}}))}))()},i.nr=function(){return this.r8.jw(),this.r8=new Yo,this.wNt.jw(),this.wNt=new Yo,this.uxt=this.cxt(this.o8,this.uxt,this.wNt.Uw),this.uxt},i.yn=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:return t.gC(),t.mH.yn(),t.Sc?[4,t.nr()]:[3,2];case 1:r.sent(),r.label=2;case 2:return t.Ro(),t.WB.wH=void 0,null==(n=t.ZG)||n.vn("latencyrecoveryseek",t.Ds),null==(i=t.ZG)||i.Xw(),[4,t.NDt.yn()];case 3:return r.sent(),t.Hl.yn(),t.cO.yn(),t.dO.yn(),[2]}}))}))()},Nt(n,[{key:"ht",get:function(){return this.cO}},{key:"rt",get:function(){return this.dO}},{key:"HC",get:function(){var t,n;return null==(n=this.nDt)||null==(t=n.HC)?void 0:t.HC}},{key:"gI",get:function(){return this.WB.gI},set:function(t){this.WB.gI=t}},{key:"AI",get:function(){return!1},set:function(t){}},{key:"eH",get:function(){return this.iH}},{key:"ZR",get:function(){return this.WB.ZR},set:function(t){this.WB.ZR=t}},{key:"ER",get:function(){var t;return null!=(t=this.rNt)?t:this.WB.ER},set:function(t){this.RR(t)}},{key:"bR",get:function(){var t=this.oNt();if(t)return new Date(t.getTime()+1e3*this.ER)},set:function(t){var n=this.oNt();t&&n&&(this.ER=n.getTime()-t.getTime())}},{key:"bt",get:function(){return this.Sc}},{key:"QR",get:function(){return this.WB.QR},set:function(t){this.WB.QR=t}},{key:"ct",get:function(){var t=this.WB.ct;return t===er?1/0:t}},{key:"PR",get:function(){return!1}},{key:"MR",get:function(){return this.KG}},{key:"lt",get:function(){return this.YG}},{key:"OR",get:function(){return this.hNt}},{key:"WR",get:function(){return!1}},{key:"GR",get:function(){return ns({},{_O:0,vO:0,mO:0,gO:0,pO:0,wO:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.WB.HR())}},{key:"qR",get:function(){return!0}},{key:"uI",get:function(){return this.cZ}},{key:"$G",get:function(){}},{key:"nt",get:function(){return this.Hl}},{key:"dI",get:function(){return this.WB.dI}},{key:"vI",get:function(){return this.WB.vI}},{key:"wR",get:function(){return this.Ckt.ks()}},{key:"Ckt",get:function(){return this.nDt?this.nDt.wR:SA.pB()}},{key:"tI",get:function(){return this.WB.tI.ks()}},{key:"hI",get:function(){var t,n;return null!=(n=null==(t=this.nDt)?void 0:t.hI.ks())?n:SA.pB().ks()}},{key:"KR",get:function(){return this.Xit}},{key:"GC",get:function(){return!0}},{key:"yI",get:function(){return this.pZ}},{key:"BDt",get:function(){var t;return null==(t=this.nDt)?void 0:t.BDt}},{key:"KB",get:function(){if(!this.KR&&this.eNt){var t=this.ER,n=this.RDt.FIt(t);if(void 0!==n){var i=this.Ckt,r=0;if(i.V>0){var e=i.Tn(i.V-1);r=k.max(e-t,0)}return k.max(n,r)}}}},{key:"WC",get:function(){var t;return null==(t=this.nDt)?void 0:t.WC}},{key:"rI",get:function(){return this.WB.rI}},{key:"iI",get:function(){return this.aNt},set:function(t){this.aNt=t,this.uNt()}}]),n}(ra),tH=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n,i,r,e,s)||this).TNt=!1,o.yNt=!1,o.ANt=[],o.SNt=void 0,o.kNt=function(){var n=o.ZR||0===o.gI;"hidden"===v.visibilityState&&!o.KR&&n?(o.EI(),o.TNt=!0):"visible"===v.visibilityState&&o.TNt&&(o.yNt=!0,o.SNt=Kn.Gg((function(){for(var n=0,i=o.ANt;n<i.length;n++){var r=i[n];t.prototype._o.call(PZ(o),r)}o.SNt=void 0,o.yNt=!1}),2e3),qo(o.xI()),o.TNt=!1)},o.bH=u,o.ENt=n,Gn.Bg&&v.addEventListener("visibilitychange",o.kNt),o}It(n,t);var i=n.prototype;return i._o=function(n){if(this.yNt){if(n.type===oa.Qy)return void this.bNt();if(n.type===yp.WL||n.type===oa.Jy||n.type===yp.UL)return void this.ANt.push(n)}t.prototype._o.call(this,n)},i.bNt=function(){this.yNt=!1,void 0!==this.SNt&&Kn.Ug(this.SNt);var n=ho(this.ANt,(function(t){return t.type===yp.UL}));n&&t.prototype._o.call(this,n),bo(this.ANt)},i.TI=function(){if(xM(this.WB))return this.WB.TI()},i.nr=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.TNt=!1,n.bNt(),[4,t.prototype.nr.call(n)];case 1:return i.sent(),[2]}}))}))()},i.yn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return v.removeEventListener("visibilitychange",n.kNt),n.bNt(),[4,t.prototype.yn.call(n)];case 1:return i.sent(),[4,n.WB.Xw()];case 2:return i.sent(),[4,n.bH.yH(n.ENt)];case 3:return i.sent(),[2]}}))}))()},i.pNt=function(t){return Gn.eg&&Gn.og>=15&&Gn.Kv?t+.25:t},n}($G);F(),Tt(),Gt(),Dt(),qt();var nH=function(){function t(){}var n=t.prototype;return n.FH=function(t,n){return Zt((function(){return Ht(this,(function(n){return[2,iH(t.type)]}))}))()},n.VH=function(t){return Zt((function(){return Ht(this,(function(n){return[2,k_(t)]}))}))()},Nt(t,[{key:"UH",get:function(){return kk.JC}}]),t}();function iH(t){if(!t)return!1;var n=t.toLowerCase();return Fs(n,cA.QC)||Fs(n,cA.JC)}var rH=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.uP=function(t,n,i,r,e,u,s){var o=new qM(n),a=o.OH(qg.mE);return new tH(a,i,e,u,o,r)},i.FH=function(n,i){return Kn.eR&&Ld?Gn.IS_IOS_CHROME||Gn.Cm&&Gn.Dm<6?et.resolve(!1):Or(n.useManagedMediaSource)?t.prototype.FH.call(this,n,i):et.resolve(!1):et.resolve(!1)},i.WH=function(){return!1},n}(nH);UT(new rH),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Gt(),Rt(),qt();var eH=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n,i,r,e,s)||this).bH=u,o}It(n,t);var i=n.prototype;return i.TI=function(){if(xM(this.WB))return this.WB.TI()},i.yn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.yn.call(n)];case 1:return i.sent(),[4,n.bH.yH(n.WB)];case 2:return i.sent(),[2]}}))}))()},n}($G),uH=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.FH=function(n,i){var r=this;return Zt((function(){var e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return Gn.IS_IOS_CHROME?[2,!1]:[4,t.prototype.FH.call(r,n,i)];case 1:if(s=a.sent(),!(null!=(o=null==(u=Ci())||null==(e=u.canPlayType)?void 0:e.call(u,cA.YC))?o:"")||!s||!("serviceWorker"in l))return[2,!1];a.label=2;case 2:return a.trys.push([2,4,,5]),[4,ta(l.serviceWorker.ready,1e3)];case 3:return a.sent(),[2,!0];case 4:return a.sent(),[2,!1];case 5:return[2]}}))}))()},i.VH=function(n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return n.fairplay?[4,t.prototype.VH.call(i,n)]:[2,!1];case 1:return[2,r.sent()]}}))}))()},i.uP=function(t,n,i,r,e,u,s){if(t instanceof HTMLDivElement){var o=n.ert(qg.mE);return new eH(o,i,e,u,n,r)}throw new id(td.CONFIGURATION_ERROR,"Container Div element expected.")},i.WH=function(){return!1},Nt(n,[{key:"UH",get:function(){return kk.wG}}]),n}(nH);Gn.eg&&Gn.su&&UT(new uH),F(),Tt(),F(),Tt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Dt();var sH="theo_live_user_id",oH=function(){function t(t){this.externalId=t,this.id=XE(),this.userId=aH(),this.nS=0}return t.prototype.incrementSequenceNumber=function(){this.nS+=1},Nt(t,[{key:"sequenceNumber",get:function(){return this.nS}}]),t}();function aH(){try{var t=localStorage.getItem(sH);if(t)return t;var n=XE();return localStorage.setItem(sH,n),n}catch(t){return XE()}}F(),Tt(),Gt(),Dt(),Rt(),qt();var cH=function(){function t(t,n){this.fW=t,this.xNt=new Map,this.RNt=n}return t.prototype.Sgt=function(t){var n=this.xNt.get(t.id);if(n)return n;var i=new hH(t,this.fW,this.RNt);return this.xNt.set(t.id,i),i},t}(),hH=function(){function t(t,n,i){this.zS=t,this.fW=n,this.MNt=new Rd,i.discoveryHeader&&this.MNt.append("x-theolive-discovery",i.discoveryHeader),this.ir()}var n=t.prototype;return n.ir=function(){var t=this;this.PNt=!1,this.CNt=gr(),this.DNt=this.aTt(),this.DNt.catch((function(){return t.PNt=!0}))},n.aTt=function(){var t=this;return Zt((function(){var n,i,r,e,u,s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:return n=t.zS,i=n.id,r=n.discovery,e=n.devDiscovery,Us(r.pathname,"manifest.json")?[2,fH(t.zS)]:[4,t.NNt(i,r,t.MNt)];case 1:return(u=v.sent())||void 0===e?[3,3]:[4,t.NNt(i,e,t.MNt)];case 2:u=v.sent(),v.label=3;case 3:if(!u)throw new dH(i);if(s=u.mode,o=u.status,a=u.fallback,c=u.metadata,"locked"===s)throw new lH(i);if("deleted"===o)throw new gH(i);return h={id:t.zS,name:c.name,mode:s,status:o,source:wH(u)},a?[4,t.LNt(a,r,e,t.MNt)]:[3,5];case 4:return f=v.sent(),[3,6];case 5:f=void 0,v.label=6;case 6:return[2,(h.fallback=f,h.insights=null==c?void 0:c.insights,h.enhancedLogging=null==c?void 0:c.enhancedLogging,h.customization=null==c?void 0:c.customization,h.sseEndpoint=u.sseEndpoint,h)]}}))}))()},n.LNt=function(t,n,i,r){var e=this;return Zt((function(){var u;return Ht(this,(function(s){switch(s.label){case 0:return"theo.live"!==t.type?[2,{src:t.src,type:t.type}]:[4,e.NNt(t.src,n,r)];case 1:return(u=s.sent())||void 0===i?[3,3]:[4,e.NNt(t.src,i,e.MNt)];case 2:u=s.sent(),s.label=3;case 3:return u?[2,wH(u)]:[2,void 0]}}))}))()},n.NNt=function(t,n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),[4,r.fW.Qk({Xu:Kn.Ih(t,n.toString()).toString(),Jk:i})];case 1:return[4,e.sent().Ik()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))()},Nt(t,[{key:"INt",get:function(){return gr()-this.CNt>36e5}},{key:"jtt",get:function(){return(this.PNt||this.INt)&&this.ir(),this.DNt}}]),t}();function fH(t){return{id:{id:t.id,discovery:Kn.Ih("dev://"),devDiscovery:void 0},name:"demo",mode:"demo",status:"playing",source:{src:t.id,type:"theo.live"},customization:{autoplay:!0}}}var vH=function(t){function n(n,i,r){var e;return(e=t.call(this,n,"Could not load channel with id "+i+": "+r)||this).channelId=i,e.reason=r,e}return It(n,t),n}(id),dH=function(t){function n(n){return t.call(this,td.THEO_LIVE_CHANNEL_NOT_FOUND,n,"The channel could not be found")||this}return It(n,t),n}(vH),lH=function(t){function n(n){return t.call(this,td.THEO_LIVE_CHANNEL_NOT_FOUND,n,"This account has been locked")||this}return It(n,t),n}(vH),gH=function(t){function n(n){return t.call(this,td.THEO_LIVE_CHANNEL_NOT_FOUND,n,"The channel got deleted")||this}return It(n,t),n}(vH);function wH(t){var n;return{src:t.hespSrc,type:"theo.live",hlsSrc:t.hlsSrc,maxMobileBitrate:t.maxMobileBitrate,targetLatency:null==(n=t.metadata.customization)?void 0:n.targetLatency,contentProtection:t.drmConfig?mH(t.drmConfig):void 0}}function mH(t){var n=t.integration,i=t.widevine,r=t.playready,e=t.fairplay;return ns({integration:n},i&&{widevine:{licenseAcquisitionURL:i.licenseUrl}},r&&{playready:{licenseAcquisitionURL:r.licenseUrl}},e&&{fairplay:{licenseAcquisitionURL:e.licenseUrl,certificateURL:e.certificateUrl}})}function yH(t,n,i){return{id:t,discovery:Kn.Ih(t,n),devDiscovery:i?Kn.Ih(t,i):void 0}}F(),Tt(),at(),F(),Tt();var pH=function(t){return t.STARTING="s",t.PLAYING="p",t.SEEKING="k",t.REBUFFERING="r",t.PAUSED="a",t.ENDED="e",t.QUIT="q",t}({}),_H=function(t){return t.MANIFEST="m",t.AUDIO="a",t.VIDEO="v",t.OTHER="o",t}({});function bH(t){return 100*k.round(t/100)}function kH(t){for(var n=t.xR(),i=t.yR(),r=0;r<i.length;r++)if(i.start(r)<=n&&n<=i.end(r))return 1e3*(i.end(r)-n);return 0}function AH(t){return ho(t.lC,(function(t){return t.Rt}))}function TH(t){return t.NC.fC(0)}function SH(t){return t.NC.fC(t.NC.V-1)}F(),Tt(),Dt(),F(),Tt();var EH=function(){function t(t,n,i,r){var e,u,s,o;this.BNt=Date.now(),this.VNt=0,this.UNt=0,this.tH=0,this.GNt=0,this.FNt=0,this.Sp=t,this.na=n,this.HNt=null==(u=AH(this.na.rt))||null==(e=u.RC)?void 0:e.o,this.ZNt=null==(o=AH(this.na.ht))||null==(s=o.RC)?void 0:s.o,this.lf=i,this.YG=r}var n=t.prototype;return n.ONt=function(){var t=this.na.XX.cj.bG,n=this.na.yI.KB,i=kH(this.na);t>0&&void 0!==i&&void 0!==n&&(this.FNt+=1,this.VNt=this.WNt(this.VNt,i),this.UNt=this.WNt(this.UNt,1e3*this.na.yI.kd.targetOffset),this.tH=this.WNt(this.tH,1e3*n),this.GNt=this.WNt(this.GNt,t/1e3))},n.WNt=function(t,n){return t+(n-t)/this.FNt},n.uP=function(){var t={sta:this.Sp,ts:this.BNt,"theo-vt":this.HNt,"theo-at":this.ZNt,"theo-d":this.ct,"theo-r":this.lf};return this.FNt>0?ns({},t,{bl:bH(this.VNt),tbl:bH(this.UNt),ltc:bH(this.tH),mtp:bH(this.GNt),"theo-w":this.FNt}):t},n.XNt=function(){return new t(this.Sp,this.na,this.lf)},t.starting=function(n,i,r){return new t(pH.STARTING,n,i,r)},t.playing=function(n){return new t(pH.PLAYING,n)},t.seeking=function(n,i){return new t(pH.SEEKING,n,i)},t.rebuffering=function(n,i){return new t(pH.REBUFFERING,n,i)},t.paused=function(n){return new t(pH.PAUSED,n)},t.ended=function(n){return new t(pH.ENDED,n)},t.quit=function(n){return new t(pH.QUIT,n)},Nt(t,[{key:"ct",get:function(){return Date.now()-this.BNt}}]),t}(),IH=function(){function t(t,n,i){var r=this;this.tMt=[],this.eNt=!1,this.GX=!1,this.oMt=function(){var t;r.eMt(EH.starting(r.na,"fallback",null==(t=r.na.LR())?void 0:t.message))},this.hMt=function(){r.eMt(EH.starting(r.na,"loadChannel"))},this.aMt=function(){r.eMt(EH.ended(r.na))},this.UG=function(t){t.Ht.bn(Tg.hC,r.Zr)},this.Zr=function(){var t,n,i,e,u=null==(n=AH(r.na.rt))||null==(t=n.RC)?void 0:t.o,s=null==(e=AH(r.na.ht))||null==(i=e.RC)?void 0:i.o;u&&s&&(r.qNt&&r.qNt.Sp===pH.PLAYING&&r.qNt.HNt===u&&r.qNt.ZNt===s||r.eMt(EH.playing(r.na)))},this.XB=function(){r.eNt=!0,r.GX=!1,r.eMt(EH.playing(r.na))},this.nMt=function(){r.eNt&&!r.GX&&(r.GX=!0,r.eMt(EH.seeking(r.na,"latencyRecovery")))},this.rMt=function(){r.eNt&&!r.GX&&(r.GX=!0,r.eMt(EH.seeking(r.na,"goLive")))},this.ZB=function(){r.na.uI||r.eMt(EH.rebuffering(r.na,"visible"===v.visibilityState?void 0:"invisible"))},this.sMt=function(){r.eMt(EH.paused(r.na))},this.uMt=function(t){var n=Kn.Ih(t.url),i=function(t){var n=t.pathname;if(Us(n,"manifest.json"))return _H.MANIFEST;if(Vs(n,"/video/"))return _H.VIDEO;if(Vs(n,"/audio/"))return _H.AUDIO;return _H.OTHER}(n);if("o"!==i){r.YNt.incrementSequenceNumber();var e=ns({},t.headers,{"CMCD-Request":r.zNt(),"CMCD-Object":r.KNt(i),"CMCD-Status":r.jNt(),"CMCD-Session":r.QNt()});i===_H.VIDEO&&Us(n.pathname,".hspc")&&r.qNt&&(r.eMt(r.qNt.XNt()),e=ns({},e,r.$Nt())),t.redirect(ns({},t,{headers:e}))}},this.iMt=function(){r.qNt&&(r.tMt.push(r.qNt.uP()),r.qNt=void 0),r.tMt.push(EH.quit(r.na).uP()),qo(r.na.fR.Qk({Xu:r.lMt,Jk:r.$Nt(),DE:!0}))},this.na=t,this.JNt=n,this.YNt=i,this.lMt=Kn.Ih("bye",n.source.src).href,f.addEventListener("beforeunload",this.iMt),this.na.bn(yp.UL,this.XB),this.na.bn(yp.WL,this.ZB),this.na.bn(oa.zy,this.sMt),this.na.OR.bn("latencyrecoveryseek",this.nMt),this.na.OR.bn("golive",this.rMt),this.na.XX.tj(this.uMt),this.na.rt.bn(pg.VI,this.UG),this.na.ht.bn(pg.VI,this.UG),this.na.Ost.addEventListener("intenttofallback",this.oMt),this.na.Ost.addEventListener("publicationloadstart",this.hMt),this.na.Ost.addEventListener("publicationoffline",this.aMt),this.qNt=EH.starting(this.na,"loadchannel"),this.cMt=Kn.Gp((function(){var t;null==(t=r.qNt)||t.ONt()}),1e3)}var n=t.prototype;return n.zNt=function(){var t,n=this.na.yI.KB,i=kH(this.na),r=this.na.XX.cj.bG;return RH({bl:i?bH(i):void 0,tbl:bH(1e3*this.na.yI.kd.targetOffset),ltc:n?bH(n):void 0,mtp:r?bH(r/1e3):void 0,sta:null==(t=this.qNt)?void 0:t.Sp,su:!this.eNt||void 0,"theo-sq":this.YNt.sequenceNumber})},n.KNt=function(t){var n,i,r=function(t,n){switch(n){case _H.VIDEO:return AH(t.rt);case _H.AUDIO:return AH(t.ht)}}(this.na,t);return RH({br:(null==r||null==(n=r.RC)?void 0:n.bG)?bH((null==r||null==(i=r.RC)?void 0:i.bG)/1e3):void 0,ot:t,tb:r?bH(SH(r).bG/1e3):void 0,lb:r?bH(TH(r).bG/1e3):void 0})},n.jNt=function(){return RH({"theo-cw":this.na.we.clientWidth,"theo-ch":this.na.we.clientHeight})},n.QNt=function(){var t;return RH({sf:"e",sid:this.YNt.id,st:"l",v:2,"theo-eid":null==(t=this.YNt.externalId)?void 0:t.substring(0,128),"theo-cn":this.JNt.name.substring(0,128),"theo-v":"9.3.0","theo-t":"web","theo-u":this.YNt.userId})},n.$Nt=function(){var t={"CMCD-States":btoa(JSON.stringify(this.tMt))};return this.tMt=[],t},n.eMt=function(t){this.qNt&&this.tMt.push(this.qNt.uP()),this.qNt=t},n.destroy=function(){var t=this;this.iMt(),f.removeEventListener("beforeunload",this.iMt),this.na.vn(yp.UL,this.XB),this.na.vn(yp.WL,this.ZB),this.na.vn(oa.zy,this.sMt),this.na.OR.vn("latencyrecoveryseek",this.nMt),this.na.OR.vn("golive",this.rMt),this.na.rt.vn(pg.VI,this.UG),this.na.ht.vn(pg.VI,this.UG),this.na.rt.lC.forEach((function(n){return n.vn(Tg.hC,t.Zr)})),this.na.ht.lC.forEach((function(n){return n.vn(Tg.hC,t.Zr)})),this.na.Ost.removeEventListener("intenttofallback",this.oMt),this.na.Ost.removeEventListener("publicationloadstart",this.hMt),this.na.Ost.removeEventListener("publicationoffline",this.aMt),this.na.XX.sj(this.uMt),Kn.Hp(this.cMt)},t}();function RH(t){return b.keys(t).map((function(n){return function(t,n){switch(void 0===n?"undefined":U(n)){case"boolean":return n?t:t+"=false";case"number":return t+"="+n;case"string":return t+'="'+n+'"';default:return}}(n,t[n])})).filter(Boolean).sort().join(",")}F(),Tt(),Gt(),Dt(),Rt(),qt();var CH=function(t){function n(n){var i;return(i=t.call(this,"publicationloadstart")||this).publicationId=n,i}return It(n,t),n}(sa),NH=function(t){function n(n){var i;return(i=t.call(this,"publicationoffline")||this).publicationId=n,i}return It(n,t),n}(sa),DH=function(t){function n(n,i){var r;return(r=t.call(this,"publicationloaded")||this).publicationId=n,r.channelName=i,r}return It(n,t),n}(sa),PH=function(t){function n(){return t.call(this,"intenttofallback")||this}return It(n,t),n}(sa),xH=function(t){function n(){return t.call(this,"enterbadnetworkmode")||this}return It(n,t),n}(sa),LH=function(t){function n(){return t.call(this,"exitbadnetworkmode")||this}return It(n,t),n}(sa),MH=function(t){function n(n){var i;return(i=t.call(this)||this).na=n,i}return It(n,t),n.prototype.fMt=function(t){return this.na.fMt(t)},Nt(n,[{key:"wa",get:function(){return this.eu||(this.eu=function(t){return{addEventListener:function(n,i){t.bn(n,i)},removeEventListener:function(n,i){t.vn(n,i)},get badNetworkMode(){return t.dMt},set badNetworkMode(n){t.dMt=n},preloadPublications:function(n){return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.fMt(n)];case 1:return[2,i.sent().map((function(t){return{name:t.name}}))]}}))}))()}}}(this)),this.eu}},{key:"dMt",get:function(){return this.na.dMt},set:function(t){this.na.dMt=t}}]),n}(ra);var OH=8e5,BH=function(t){function n(n,i){var r,e,u,s;r=t.call(this,n,i)||this,e=r,r.ODt=!1,r.GT=new Yo,r.mMt=void 0,r.eNt=!1,r.LMt=[],r.wMt=!1,r.UG=function(t){var n,i=t.Ht;i.bn(Tg.hC,r.Zr);var e=VH(null!=(n=i.MC)?n:i.NC.lC);i.MC=e.length>0?e:VH(i.NC.lC)},r.Zr=function(t){var n,i=t.pat;(!i||(null!=(n=i.Myt)?n:i.bG)>=OH)&&r.bMt()},r.nMt=Zt((function(){return Ht(this,(function(t){switch(t.label){case 0:return e.yMt(),e.LMt.push(Kn.Wg()),e.LMt=e.LMt.filter((function(t){return Kn.Wg()-t<=3e5})),e.LMt.length>=3?(e.LMt=[],[4,e.xMt(!0)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))})),r.gMt=Zt((function(){return Ht(this,(function(t){switch(t.label){case 0:return e.TMt?[4,e.TMt.jtt]:[2];case 1:return"demo"!==t.sent().mode?[3,3]:(e.TMt.ir(),[4,e.TMt.jtt]);case 2:if("playing"!==t.sent().status)return e._o(new yk(new id(td.THEO_LIVE_END_OF_DEMO,"This demo channel has been stopped automatically after 5 minutes"))),[2];t.label=3;case 3:return[4,e.xMt(!0)];case 4:return t.sent(),[2]}}))})),r.kMt=function(t){if("manifest"===t.type||"segment"===t.type||""===t.type){var n=Kn.Ih(t.url);n.searchParams.append("enhancedLogging","true"),t.redirect({url:n.toString()})}},r.pMt=new MH(r);var o,a,c,h=n.kd.theoLive;return r.SMt={sessionId:null!=(o=null==h?void 0:h.sessionId)?o:XE(),userId:null!=(a=null==h?void 0:h.userId)?a:aH(),externalSessionId:null==h?void 0:h.externalSessionId,analyticsEnabled:!1!==(null==h?void 0:h.analyticsEnabled),fallbackEnabled:!1!==(null==h?void 0:h.fallbackEnabled),discoveryUrl:null!=(c=null==h?void 0:h.discoveryUrl)?c:"https://discovery.theo.live/channels/",devDiscoveryUrl:undefined},r.YNt=new oH(null==(u=r.SMt)?void 0:u.externalSessionId),r.AMt=new cH(n.fR,{discoveryHeader:null==(s=r.SMt)?void 0:s.discoveryHeader}),r.na.OR.bn("latencyrecoveryseek",r.nMt),r}It(n,t);var i=n.prototype;return i._Mt=function(){this.na.OR.bn("latencyrecoveryseek",this.nMt),this.na.rt.bn(pg.VI,this.UG)},i.vMt=function(){this.na.OR.vn("latencyrecoveryseek",this.nMt),this.na.rt.vn(pg.VI,this.UG)},i.BI=function(n){var i=this;return this.ODt?n.type===yp.UL?(void 0!==this.mMt?(Kn.Ug(this.mMt),this.mMt=void 0,this.eNt||this._o(new Ip(this.xR()))):this._o(new Ip(this.xR())),this.eNt=!0,!0):n.type===yp.WL?(this.mMt||(this.mMt=Kn.Gg((function(){i._o(new Tp(i.xR())),i.mMt=void 0}),100)),!0):"error"===n.type?(qo(this.gMt()),!0):t.prototype.BI.call(this,n):t.prototype.BI.call(this,n)},i.Fst=function(){return this.pMt.wa},i.yMt=function(){if(!this.wMt&&(this.wMt=!0,this.pMt._o(new xH),0!==this.na.rt.V)){var t,n=this.rt.fC(0),i=Eo(n.NC.lC,(function(t){return t.bG}));(null!=(t=i.Myt)?t:i.bG)<OH?(n.MC=[i],et.resolve().then((function(){return n.MC=n.NC.lC.slice()}))):this.bMt()}},i.bMt=function(){if(this.wMt&&(this.wMt=!1,this.pMt._o(new LH),0!==this.na.rt.V)){var t,n=this.na.rt.fC(0),i=VH(null!=(t=n.MC)?t:n.NC.lC);n.MC=i.length>0?i:VH(n.NC.lC)}},i.fMt=function(t){var n=this;return et.all(t.map(Zt((function(t){return Ht(this,(function(i){switch(i.label){case 0:return[4,Wo(n.AMt.Sgt(yH(t,n.SMt.discoveryUrl,n.SMt.devDiscoveryUrl)).jtt,n.GT.Uw)];case 1:return[2,i.sent()]}}))}))))},i.addSseEndpointToSource=function(t){var n;if(t&&(null==(n=this.Sc)?void 0:n.ads))for(var i=0,r=this.Sc.ads;i<r.length;i++){var e,u=r[i];if("theoads"===u.integration)null!=(e=u).sseEndpoint||(e.sseEndpoint=t)}},i.Ca=function(n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h,f,v,d;return Ht(this,(function(l){switch(l.label){case 0:r.ODt=!1,u=0,s=null!=(e=null==n?void 0:n.sources)?e:[],l.label=1;case 1:if(!(u<s.length))return[3,10];if(!sT(o=s[u])||o.type!==cA.tP)return[3,8];if(void 0===o.src)return[3,9];r._Mt(),r.ODt=!0,r.pMt._o(new CH(o.src)),a=yH(o.src,r.SMt.discoveryUrl,r.SMt.devDiscoveryUrl),c=r.pMt.py("publicationloaded"),l.label=2;case 2:return l.trys.push([2,5,,6]),r.Sc=n,r.tZ=o,r.TMt=r.AMt.Sgt(a),[4,r.TMt.jtt];case 3:return h=l.sent(),r.addSseEndpointToSource(h.sseEndpoint),(null==(f=h.enhancedLogging)?void 0:f.enabled)&&k.random()<=f.percentage&&r.na.XX.tj(r.kMt),r.SMt.analyticsEnabled&&"theo.live"===h.source.type&&(r.EMt=new IH(r,h,r.YNt)),[4,Wo(r.xMt(r.na.SO),i)];case 4:return l.sent(),[3,6];case 5:throw v=l.sent(),r.w9(),r.dispatchErrorEvent(v),v;case 6:return[4,Wo(c,i).catch(Fo)];case 7:return l.sent(),[2];case 8:if("web"===Dn.Pv&&(null==n?void 0:n.contentProtection)&&(!sT(o)||o.type!==cA.JC))throw d=new id(td.CONFIGURATION_ERROR,"Content protection is not supported for this source type"),r.dispatchErrorEvent(d),d;l.label=9;case 9:return u++,[3,1];case 10:return[4,t.prototype.Ca.call(r,n,i)];case 11:return[2,l.sent()]}}))}))()},i.xMt=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return n.w9(),n.TMt?[4,n.TMt.jtt]:[2];case 1:return i=e.sent().source,[4,n.RMt(i)];case 2:if("live"!==(r=e.sent()))return[3,11];if("primary"!==n.IMt)return[3,8];e.label=3;case 3:return e.trys.push([3,5,,7]),[4,n.CMt(t)];case 4:return e.sent(),[3,7];case 5:return e.sent(),[4,n.PMt(t)];case 6:return e.sent(),[3,7];case 7:return[3,10];case 8:return[4,n.PMt(t)];case 9:e.sent(),e.label=10;case 10:return[3,17];case 11:return"offline"!==r?[3,13]:[4,n.aMt()];case 12:return e.sent(),[3,17];case 13:return e.trys.push([13,15,,17]),[4,n.CMt(t)];case 14:return e.sent(),[3,17];case 15:return e.sent(),[4,n.aMt()];case 16:return e.sent(),[3,17];case 17:return[2]}}))}))()},i.RMt=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,n.na.fR.Qk({Xu:t.src})];case 1:return(i=r.sent()).Yk>=200&&i.Yk<300?[2,"live"]:404===i.Yk||503===i.Yk?[2,"offline"]:[2,"error"];case 2:return r.sent(),[2,"error"];case 3:return[2]}}))}))()},i.PMt=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return n.TMt?[4,n.TMt.jtt]:[2];case 1:return i=r.sent(),n.IMt="primary",n.TJ(i.source,i.name,t),[2]}}))}))()},i.aMt=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.TMt?[4,t.TMt.jtt]:[2];case 1:return n=i.sent(),t.pMt._o(new NH(n.id.id)),t.DMt=Kn.Gg((function(){return t.xMt(t.na.SO)}),15e3),[2]}}))}))()},i.TJ=function(t,n,i){var r,e,u,s,o=this,a=this.TMt.zS.id,c=uE({sources:[{type:FH(t.type),src:t.src,contentProtection:t.contentProtection,useManagedMediaSource:!0,latencyConfiguration:null!=(s=null==(r=this.tZ)?void 0:r.latencyConfiguration)?s:UH(t.targetLatency),hesp:{maxMobileBitrate:t.maxMobileBitrate}},t.hlsSrc?{type:"application/x-mpegurl",src:t.hlsSrc,contentProtection:t.contentProtection}:void 0].filter(Yn),ads:this.eNt?[]:null==(e=this.Sc)?void 0:e.ads,blockContentIfAdError:null==(u=this.Sc)?void 0:u.blockContentIfAdError,streamType:"live"});c.sources[0].bypassLicense=!0,this.na.Ca(c,(new Yo).Uw).then((function(){o.pMt._o(new DH(a,n)),i&&o.na.xI()})).catch(this.dispatchErrorEvent)},i.CMt=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.pMt._o(new PH),[4,n.NMt()];case 1:if(!i.sent())throw new p("fallback not live");return[4,n.MMt(t)];case 2:return i.sent(),[2]}}))}))()},i.MMt=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return[4,null==(i=n.TMt)?void 0:i.jtt];case 1:return(null==(r=e.sent())?void 0:r.fallback)?(n.IMt="fallback",n.TJ(r.fallback,r.name,t),[2]):[2]}}))}))()},i.NMt=function(){var t=this;return Zt((function(){var n,i,r,e;return Ht(this,(function(u){switch(u.label){case 0:return[4,null==(n=t.TMt)?void 0:n.jtt];case 1:return r=u.sent(),(null==(i=t.SMt)?void 0:i.fallbackEnabled)&&(null==r?void 0:r.fallback)?[4,t.na.fR.Qk({Xu:r.fallback.src})]:[2,!1];case 2:return[2,(e=u.sent()).Yk>=200&&e.Yk<300]}}))}))()},i.dispatchErrorEvent=function(t){if(t instanceof id)return this._o(new yk(t));this._o(new yk(new id(td.THEO_LIVE_UNKNOWN_ERROR,t.message,t)))},i.w9=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.na.RI()];case 1:return n.sent(),void 0!==t.DMt&&(Kn.Ug(t.DMt),t.DMt=void 0),[2]}}))}))()},i.RI=function(){var n;return this.GT.jw(),this.GT=new Yo,this.vMt(),void 0!==this.mMt&&(Kn.Ug(this.mMt),this.mMt=void 0),this.ODt=!1,this.eNt=!1,null==(n=this.EMt)||n.destroy(),this.EMt=void 0,this.Sc=void 0,this.tZ=void 0,this.TMt=void 0,this.IMt=void 0,this.LMt=[],this.na.XX.sj(this.kMt),this.wMt&&this.bMt(),t.prototype.RI.call(this)},i.yn=function(n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return i.GT.jw(),void 0!==i.mMt&&(Kn.Ug(i.mMt),i.mMt=void 0),i.Ro(),i.vMt(),null==(r=i.EMt)||r.destroy(),i.na.OR.vn("latencyrecoveryseek",i.nMt),[4,t.prototype.yn.call(i,n)];case 1:return e.sent(),[2]}}))}))()},Nt(n,[{key:"dMt",get:function(){return this.wMt},set:function(t){this.ODt&&(t?this.yMt():this.bMt())}}]),n}(Vk);function VH(t){return t.filter((function(t){var n;return(null!=(n=t.Myt)?n:t.bG)>=OH}))}function FH(t){switch(t){case"theo.live":return"application/vnd.theo.hesp+json";case"hls":return"application/x-mpegurl";case"dash":return"application/dash+xml";default:throw new p("Unknown source type: "+t)}}function UH(t){return void 0===t?WX():{minimumOffset:t-CA,targetOffset:t,maximumOffset:t+CA,forceSeekOffset:t+2.5,minimumPlaybackRate:IA,maximumPlaybackRate:RA}}Gk((function(t){return new BH(t)}),Fk.au),F(),Tt(),F(),Tt(),Gt(),Dt(),qt(),F(),Tt(),Gt(),Dt(),Rt(),qt();var WH=V(pn());F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt();var ZH=function(t){function n(n,i){var r;return(r=t.call(this)||this).IO=gw(),r.eu=void 0,r.jA=n,r.BMt=i,r}It(n,t);var i=n.prototype;return i.ir=function(t,n){this.jA=t,this.BMt=n,this.eu&&this._o(new oU(this.eu))},i.hW=function(){throw new p("Method not implemented.")},i.aW=function(){throw new p("Method not implemented.")},i.yn=function(){this.Ro()},Nt(n,[{key:"xN",get:function(){return this.BMt}},{key:"wa",get:function(){var t;return null!=(t=this.eu)?t:this.eu=this.ka()}},{key:"o",get:function(){return this.jA.id}},{key:"IC",get:function(){return this.IO}},{key:"bG",get:function(){return this.jA.bitrate}},{key:"Myt",get:function(){}},{key:"Jrt",get:function(){return""}},{key:"Ch",get:function(){return""}},{key:"Fyt",get:function(){return""}},{key:"trt",get:function(){return!0}},{key:"Lyt",get:function(){}}]),n}(ra),XH=function(t){function n(n,i){return t.call(this,n,i)||this}return It(n,t),n.prototype.ka=function(){return uU(this)},Nt(n,[{key:"oft",get:function(){return 0}},{key:"ji",get:function(){return this.jA.targetWidth}},{key:"Ti",get:function(){return this.jA.targetHeight}},{key:"Byt",get:function(){return 0}}]),n}(ZH);F(),Tt(),Dt(),Rt();var GH=function(t){function n(n,i){var r;return(r=t.call(this)||this).IO=vw(),r.TO=new sw,r.zS=n,r.r5=i,r}It(n,t);var i=n.prototype;return i.DO=function(t){this.Rt=t},i.yn=function(){this.Ro();for(var t=0,n=this.TO.lC;t<n.length;t++){n[t].yn()}this.TO.nr()},Nt(n,[{key:"Rt",get:function(){return!0},set:function(t){}},{key:"wa",get:function(){var t;return null!=(t=this.eu)?t:this.eu=zg(this)}},{key:"Odt",get:function(){}},{key:"Lt",get:function(){return this.r5}},{key:"o",get:function(){return this.zS||"millitrack"}},{key:"IC",get:function(){return this.IO}},{key:"Ch",get:function(){return""}},{key:"gs",get:function(){return""}},{key:"CE",get:function(){return this.Rt?"enabled":"disabled"},set:function(t){this.DO("enabled"===t)}},{key:"RC",get:function(){}},{key:"NC",get:function(){return this.TO}},{key:"MC",get:function(){return this.OMt},set:function(t){if(this.OMt=t,this.Rt){var n=1===(null==t?void 0:t.length)?t[0].xN:void 0;this.FMt(n)}this._o(new AB(this.TO.lC.slice(),this)),((null==t?void 0:t.length)||this.TO.V)&&this._o(new $V((null==t?void 0:t[0])||this.TO.fC(0)))}},{key:"DC",get:function(){}}]),n}(ra),HH=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).VMt=r,e}It(n,t);var i=n.prototype;return i.ir=function(t){for(var n,i=function(i,r){var e=r[i],u=ho(t.layers,(function(t){return t.encodingId===e.id})),s=ho(n.TO.lC,(function(t){return t.o===e.id}));s?s.ir(e,u):n.TO.kO(new XH(e,u))},r=0,e=t.active;r<e.length;r++)n=this,i(r,e);this._o(new cw(this))},i.FMt=function(t){var n;null==(n=this.VMt)||n.WMt(t)},i.yn=function(){this.VMt=void 0,t.prototype.yn.call(this)},Nt(n,[{key:"Tw",get:function(){return qg.mE}}]),n}(GH);F(),Tt(),Dt();var zH=function(){function t(){}var n=t.prototype;return n.ir=function(t){this.UMt=t},n.SG=function(t){},Nt(t,[{key:"bG",get:function(){var t,n,i,r,e,u;return(null!=(e=null==(n=this.UMt)||null==(t=n.video.inbounds)?void 0:t.reduce((function(t,n){return t+n.bitrateBitsPerSecond}),0))?e:0)+(null!=(u=null==(r=this.UMt)||null==(i=r.audio.inbounds)?void 0:i.reduce((function(t,n){return t+n.bitrateBitsPerSecond}),0))?u:0)}},{key:"AG",get:function(){var t,n;return null!=(n=null==(t=this.UMt)?void 0:t.currentRoundTripTime)?n:0}}]),t}();F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt();var YH=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).GMt=0,r}return It(n,t),n.prototype.ka=function(){return sU(this)},Nt(n,[{key:"Nwt",get:function(){return this.GMt}}]),n}(ZH),jH=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).VMt=r,e}It(n,t);var i=n.prototype;return i.ir=function(t){for(var n,i=function(i,r){var e=r[i],u=ho(t.layers,(function(t){return t.encodingId===e.id})),s=ho(n.TO.lC,(function(t){return t.o===e.id}));s?s.ir(e,u):n.TO.kO(new YH(e,u))},r=0,e=t.active;r<e.length;r++)n=this,i(r,e);this._o(new cw(this))},i.FMt=function(t){var n;null==(n=this.VMt)||n.HMt(t)},i.yn=function(){this.VMt=void 0,t.prototype.yn.call(this)},Nt(n,[{key:"Tw",get:function(){return qg.vE}}]),n}(GH);F(),Tt(),Rt();var KH=function(t){function n(n,i){var r;return(r=t.call(this,n,n,void 0,!1)||this).qV=i,r}return It(n,t),n.prototype.ka=function(){return function(t){return Rg(Lw(t),{get mid(){return t.qV.mid},get uuid(){return t.qV.uuid},get timecode(){return t.qV.timecode},get unregistered(){return t.qV.unregistered}})}(this)},n}(Xw);F(),Tt();var qH=[oa.ho,oa.zy,yp.UL,oa.hb,oa.qy,oa.Uy,oa.Jy,oa.Qy,oa.Dy,oa.Yy,oa.ub,oa.Iy,oa.jy,oa.Ey,oa.Ty,oa.Ly,oa.Ny],JH=["active","inactive","stopped","vad","layers","migrate","viewercount"],QH=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).mZ=n,e.gZ=i,e.pZ=r,e.GT=new Yo,e.gpt=void 0,e.XMt=void 0,e.dO=new Kg,e.cO=new Kg,e.qMt=0,e.iH=new zH,e.Ss=function(t){e.BH(rw(t.lt))},e.ewt=function(t){Bo(t)||e.BH(new id(td.MEDIA_DECODE_ERROR,t.message,t))},e.WB=e.mZ.OH(qg.mE),e.mH=new Cp(e.WB,!0),e.WB.bn(qH,e.Ds),e.WB.bn(Uy.fa,e.Ss),e.mH.bn(pp,e.Ds),e}It(n,t);var i=n.prototype;return i.WMt=function(t){var n;null==(n=this.Nf)||n.select(t).catch(this.ewt)},i.HMt=function(t){var n;null==(n=this.Nf)||n.select(t).catch(this.ewt)},i.TI=function(){return this.WB.TI()},i.RR=function(t,n){},i.ge=function(){this.WB.ge()},i.be=function(){this.WB.be()},i.xI=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.$n(),[4,t.WB.xI()];case 1:return n.sent(),[2]}}))}))()},i.EI=function(){this.WB.EI()},i.nr=function(){var t=this;return Zt((function(){var n,i,r;return Ht(this,(function(e){switch(e.label){case 0:return t.Sc=void 0,t.GT.jw(),null==(n=t.Nf)||n.stop(),t.Nf=void 0,t.gpt?[4,t.gpt.catch(bi)]:[3,2];case 1:e.sent(),t.gpt=void 0,e.label=2;case 2:return t.XMt=void 0,[4,t.WB.nr()];case 3:for(e.sent(),t.zMt=void 0,t.qMt=0,t.WB.vH(),i=0,r=t.dO.lC;i<r.length;i++)r[i].yn();return t.cO.nr(),t.dO.nr(),[2]}}))}))()},i.yn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.Ro(),[4,t.nr()];case 1:return n.sent(),t.cO.yn(),t.dO.yn(),t.mH.yn(),t.WB.vn(qH,t.Ds),t.WB.vn(Uy.fa,t.Ss),[4,t.mZ.yH(t.WB)];case 2:return n.sent(),[2]}}))}))()},i.Ca=function(t,n,i){var r=this;return Zt((function(){var n,e;return Ht(this,(function(u){return Vo(i),r.qEt(),n=t,r.Sc=n,r.GT=new Yo,n.apiUrl&&WH.Director.setEndpoint(n.apiUrl),e=function(){return WH.Director.getSubscriber({streamName:n.src,streamAccountId:n.streamAccountId,subscriberToken:n.subscriberToken})},r.Nf=new WH.View(void 0,e,void 0,!0),r.YMt=ns({},n.connectOptions,{events:JH}),r.KMt(),[2]}))}))()},i.$n=function(){if(void 0===this.gpt){var t=this.Nf;void 0!==t&&(this.gpt=this.QE(t,this.YMt,this.GT.Uw).catch(this.ewt))}},i.QE=function(t,n,i){var r=this;return Zt((function(){var e;return Ht(this,(function(u){switch(u.label){case 0:Vo(i),u.label=1;case 1:return u.trys.push([1,3,,6]),[4,Wo(t.connect(n),i)];case 2:return u.sent(),t.webRTCPeer.initStats({autoInitStats:!0,statsIntervalMs:1e3}),[3,6];case 3:return Fo(e=u.sent()),function(t){return Qn(t)&&"FetchError"===t.name}(e)&&400===e.status?(Kn.Vp("[THEOplayer] Millicast connect error, reconnecting.",e),[4,Wo(t.reconnect(),i)]):[3,5];case 4:u.sent(),u.label=5;case 5:return r.BH(new id(td.NETWORK_ERROR,e.message,e)),[3,6];case 6:return[2]}}))}))()},i.jMt=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:Vo(n),r.label=1;case 1:return r.trys.push([1,,4,5]),i.WB.p7(),i.XMt=t,[4,i.WB.nr()];case 2:return r.sent(),[4,i.WB.$n({Tw:mp.pW,VC:"",PJ:t,Mk:cA.$C,sH:[]})];case 3:return r.sent(),[3,5];case 4:return i.WB.w7(),[7];case 5:return[2]}}))}))()},i.KMt=function(){var t,n=this,i=this.Nf;i.on("track",(function(t){return n.QMt(t)})),i.on("broadcastEvent",(function(t){return n.JMt(t)})),i.webRTCPeer.on("stats",(function(t){n.ZMt=t,n.iH.ir(t)})),(null==(t=this.YMt)?void 0:t.metadata)&&i.on("metadata",(function(t){return n.$Mt(t)}))},i.QMt=function(t){var n=this.cO.V>0,i=this.dO.V>0,r=n&&!i;if(i&&t.track.kind===qg.mE||r&&t.track.kind===qg.vE){var e=t.streams[0];if(r)for(var u=e.getVideoTracks().slice(),s=0;s<u.length;s++){var o=u[s];e.removeTrack(o)}this.jMt(e,this.GT.Uw).catch(this.ewt)}},i.JMt=function(t){switch(t.name){case"active":this._o(new jW);for(var n=0,i=t.data.tracks;n<i.length;n++){var r=i[n];r.media===qg.mE?this.dO.tt(new HH(r.trackId,this.dO.V?IG.NPt:IG.MPt,this)):r.media===qg.vE&&this.cO.tt(new jH(r.trackId,this.cO.V?EG.NPt:EG.MPt,this))}break;case"inactive":this._o(new KW),this.dO.nr(),this.cO.nr();break;case"stopped":this._o(new KW);break;case"viewercount":default:break;case"layers":var e=t.data;if(0===this.dO.V){var u=new HH("",IG.MPt,this);u.ir(e.medias[0]),this.dO.tt(u)}else{var s=ho(this.dO.lC,(function(t){return t.Lt===IG.MPt}));null==s||s.ir(e.medias[0])}}},i.$Mt=function(t){var n=this.zMt;void 0===n&&((n=this.WB.OI(zy.eW,void 0,void 0,void 0,void 0,Tw.MILLICAST)).CE=Vy.LC,this.zMt=n);var i=this.ER,r=k.max(0,i-10);this.qMt<r&&(sp(n,r),this.qMt=r);var e=new KH(i+.001,t);n._W(e)},i.BH=function(t){this.YG||(qo(this.nr()),this.YG=iw(t),this.KG=t,this._o(new yk(t)))},i.qEt=function(){this.YG=void 0,this.KG=void 0},i.II=function(){return!1},i.CI=function(){},i.DI=function(){},i.NI=function(){this.WB.NI()},i.MI=function(){var t=this.XMt;void 0!==t&&this.jMt(t,this.GT.Uw).catch(this.ewt)},i.SI=function(){return this.WB.Sa},i.ja=function(){return this.WB.fH},i.OI=function(t){return this.WB._H(t)},Nt(n,[{key:"AI",get:function(){return!1}},{key:"ht",get:function(){return this.cO}},{key:"wR",get:function(){return this.WB.wR.ks()}},{key:"bR",get:function(){return this.WB.bR},set:function(t){}},{key:"bt",get:function(){return this.Sc}},{key:"ER",get:function(){return this.WB.ER},set:function(t){this.RR(t)}},{key:"ct",get:function(){return this.WB.ct}},{key:"PR",get:function(){return this.WB.PR}},{key:"lt",get:function(){return this.YG}},{key:"MR",get:function(){return this.KG}},{key:"OR",get:function(){}},{key:"WR",get:function(){return this.WB.WR}},{key:"GR",get:function(){var t,n,i,r,e,u,s=this.ZMt,o=null==s||null==(t=s.video.inbounds)?void 0:t[0],a=null==s||null==(n=s.audio.inbounds)?void 0:n[0];return{gO:this.gZ.cj.bG,_O:null!=(i=null==o?void 0:o.framesDropped)?i:0,vO:0,mO:null!=(r=null==o?void 0:o.framesReceived)?r:0,pO:(null!=(e=null==o?void 0:o.totalBytesReceived)?e:0)+(null!=(u=null==a?void 0:a.totalBytesReceived)?u:0),wO:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"ZR",get:function(){return this.WB.ZR},set:function(t){this.WB.ZR=t}},{key:"qR",get:function(){var t,n;return null!=(n=null==(t=this.Nf)?void 0:t.isActive())&&n}},{key:"KR",get:function(){return this.WB.KR}},{key:"QR",get:function(){return 1},set:function(t){}},{key:"tI",get:function(){return this.WB.tI.ks()}},{key:"iI",get:function(){return zT.$H},set:function(t){}},{key:"rI",get:function(){return this.WB.rI}},{key:"hI",get:function(){return this.WB.hI.ks()}},{key:"uI",get:function(){return this.WB.uI}},{key:"$G",get:function(){return this.WB.$G}},{key:"nt",get:function(){return this.WB.nt}},{key:"dI",get:function(){return this.WB.dI}},{key:"rt",get:function(){return this.dO}},{key:"vI",get:function(){return this.WB.vI}},{key:"gI",get:function(){return this.WB.gI},set:function(t){this.WB.gI=t}},{key:"yI",get:function(){return this.pZ}},{key:"eH",get:function(){return this.iH}},{key:"KB",get:function(){return this.pZ.KB}}]),n}(ra),$H=function(){function t(){}var n=t.prototype;return n.uP=function(t,n,i,r,e,u,s,o){return new QH(n,e,u)},n.FH=function(t,n){return t.type===cA.$C},n.VH=function(t){return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return[4,k_(t)];case 1:return(n=i.sent())&&(n=Boolean(t.widevine||t.fairplay)),[2,n&&!1]}}))}))()},n.WH=function(){return!1},Nt(t,[{key:"UH",get:function(){return kk.$C}}]),t}();UT(new $H),F(),Tt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Gt(),Dt(),Rt(),nn(),Ut(),at(),qt(),on(),F(),Tt();var tz=function(t){return t.tLt="currentbufferingrenditionchange",t.eLt="iLt",t.sLt="nLt",t.rLt="oLt",t}({});F(),Tt(),Dt(),Rt(),F(),Tt();var nz=function(t,n){var i,r;this.Jrt=void 0,this.IC=gw(),this.hLt=n,this.Tw=t.Tw,this.aLt=t.aLt,this.uLt=t.uLt,this.cLt=t.cLt,this.l=t.l,this.gs=t.gs,this.lLt=t.lLt,this.dLt=t.dLt,this.fLt=void 0===t.Fyt,this._Lt=null!=(r=null==(i=t._Lt)?void 0:i.split(","))?r:[]};function iz(t,n){return t.Tw===n.Tw&&(t.l===n.l||!(!t.aLt||!n.aLt))}function rz(t,n){return void 0!==t&&void 0!==n&&ez(t,n)}function ez(t,n){return t.hLt===n.hLt}function uz(t,n){return ez(t,n)&&t.lLt===n.lLt}function sz(t,n){for(var i=0;i<t.length;i++){if(uz(t[i],n))return!0}return!1}var oz=function(t){function n(n,i,r,e,u){var s,o;(s=t.call(this)||this).Sp=n,s.na=i,s.gZ=r,s.yh=e,s.NC=u,s.Qct=void 0,s.ILt=void 0,s.CLt=function(){return s._o(new cw(s))},s.xLt=function(){var t=s.RC;t&&s.ILt!==t&&(s.ILt=t,s._o(new $V(t)))},s.RLt=function(){var t=s.Rt;s.PLt!==t&&(s.PLt=t,s.yh._o(new ow(s)),s._o(new ow(s)))},s.ILt=s.RC,s.PLt=s.Rt;var a,c,h=u.fC(0);s.CO=null!=(a=null==h?void 0:h.gLt.l)?a:"",s.LA=null!=(c=null==h?void 0:h.gLt.gs)?c:"",s.vLt=null==h||null==(o=h.gLt)?void 0:o._Lt.map(dz).filter(Yn),s.IO=vw(),s.na.bn(tz.tLt,s.xLt),s.na.bn(tz.eLt,s.RLt);for(var f=0;f<s.NC.V;f++){s.NC.fC(f).bn("update",s.CLt)}return s}It(n,t);var i=n.prototype;return i.DO=function(t){this.Rt=t},i.yn=function(){this.Ro(),this.na.vn(tz.tLt,this.xLt),this.na.vn(tz.eLt,this.RLt);for(var t=0,n=this.NC.lC;t<n.length;t++){n[t].yn()}this.NC.nr()},Nt(n,[{key:"DC",get:function(){return this.vLt}},{key:"Rt",get:function(){var t=this.mLt();if(!t)return!1;for(var n=0,i=this.NC.lC;n<i.length;n++){if(i[n].gLt===t)return!0}return!1},set:function(t){if(t!==this.Rt)if(t){for(var n,i=null==(n=this.NC.fC(0))?void 0:n.gLt,r=this.na.pLt,e=0,u=this.NC.lC;e<u.length;e++){var s=u[e];if(s.wLt===r){i=s.gLt;break}}this.yLt(i)}else this.yLt(void 0)}},{key:"RC",get:function(){if(this.Rt)for(var t=this.na.bLt,n=0,i=this.NC.lC;n<i.length;n++){var r=i[n];if(sz(t,r.gLt))return r}}},{key:"wa",get:function(){return this.eu||(this.eu=zg(this)),this.eu}},{key:"o",get:function(){return this.IO.toString()}},{key:"IC",get:function(){return this.IO}},{key:"Ch",get:function(){return this.CO},set:function(t){t!==this.CO&&(this.CO=t,this._o(new cw(this)))}},{key:"gs",get:function(){return this.LA}},{key:"CE",get:function(){return this.Rt?"enabled":"disabled"}},{key:"MC",get:function(){return this.Qct},set:function(t){var n=this,i=[];t?i=t.filter((function(t){var i=n.RC?RB(n.RC):void 0;return Kn.Ys.dp(i,RB(t))})).filter((function(i){return n.NC.EO(t)&&i.trt})):i=this.NC.lC.filter((function(t){return t.trt}));if(0!==i.length){if(!(t===this.Qct||this.Qct&&ko(this.Qct,i))){if(this.Qct=t?i:void 0,this.na.ALt(i.map((function(t){return t.wLt}))),1===i.length){var r=i[0].wLt,e=this.Sp===qg.mE,u=this.gZ.Fj;qo(this.na.SLt(r,{TLt:!0,kLt:u&&e,ELt:u&&!e}))}this._o(new AB(i,this))}}else this._o(new IB)}}]),n}(ra),az=function(t){function n(n,i,r,e){return t.call(this,qg.vE,n,i,r,e)||this}It(n,t);var i=n.prototype;return i.mLt=function(){return this.na.DLt},i.yLt=function(t){qo(this.na.NLt(t))},Nt(n,[{key:"Lt",get:function(){return EG.MPt}}]),n}(oz),cz=function(t){function n(n,i,r,e){return t.call(this,qg.mE,n,i,r,e)||this}It(n,t);var i=n.prototype;return i.mLt=function(){return this.na.MLt},i.yLt=function(t){qo(this.na.LLt(t))},Nt(n,[{key:"Lt",get:function(){return IG.MPt}}]),n}(oz),hz=function(t){function n(n,i){var r;return(r=t.call(this)||this).wLt=n,r.gLt=i,r.CO="",r.trt=!0,r}It(n,t);var i=n.prototype;return i.aW=function(){},i.hW=function(){},i.yn=function(){this.Ro()},Nt(n,[{key:"o",get:function(){return String(this.wLt.o)}},{key:"IC",get:function(){return this.wLt.o}},{key:"bG",get:function(){return this.wLt.bG}},{key:"Myt",get:function(){return this.wLt.Myt}},{key:"Ch",get:function(){var t;return null!=(t=this.CO)?t:this.gLt.l},set:function(t){this.Ch!==t&&(this.CO=t,this._o(new oU(this.wa)))}},{key:"Fyt",get:function(){return this.gLt.hLt.BLt()}},{key:"Lyt",get:function(){return this.wLt.Lyt}}]),n}(ra),fz=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).eu=void 0,r}return It(n,t),n.prototype.ka=function(){return sU(this)},Nt(n,[{key:"Nwt",get:function(){return 0}},{key:"Jrt",get:function(){var t;return(null==(t=this.wLt.Jrt)?void 0:t.cPt)||""}},{key:"wa",get:function(){return this.eu||(this.eu=this.ka()),this.eu}}]),n}(hz),vz=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).eu=void 0,r.OLt=0,r.JCt=void 0,r}return It(n,t),n.prototype.ka=function(){return uU(this)},Nt(n,[{key:"Jrt",get:function(){var t;return(null==(t=this.wLt.Jrt)?void 0:t.dPt)||""}},{key:"Byt",get:function(){return this.OLt},set:function(t){this.OLt!==t&&(this.OLt=t,this._o(new oU(this.wa)))}},{key:"oft",get:function(){var t,n;return null!=(n=null!=(t=this.JCt)?t:this.wLt.oft)?n:0},set:function(t){this.oft!==t&&(this.JCt=t,this._o(new oU(this.wa)))}},{key:"Ti",get:function(){var t,n;return null!=(n=null==(t=this.wLt.$Ct)?void 0:t.Ti)?n:0}},{key:"ji",get:function(){var t,n;return null!=(n=null==(t=this.wLt.$Ct)?void 0:t.ji)?n:0}},{key:"wa",get:function(){return this.eu||(this.eu=this.ka()),this.eu}}]),n}(hz);function dz(t){return"public.accessibility.describes-video"===t?Xg.xC:"public.accessibility.transcribes-spoken-dialog"===t?Xg.TRANSCRIBES_SPOKEN_DIALOG:"public.accessibility.describes-music-and-sound"===t?Xg.DESCRIBES_MUSIC_AND_SOUND:"public.accessibility.easy-to-read"===t?Xg.EC:void 0}F(),Tt(),F(),Tt(),Ut();var lz=function(){function t(){this.Rt=function(){return!1}}var n=t.prototype;return n.FLt=function(t){if(!this.Rt())return!1;var n=[];return!(n.length>0)||n.some((function(n){return n.toLowerCase()===t.toLowerCase()}))},n.VLt=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;this.FLt(t)&&(e=Kn).Fp.apply(e,["DEBUG "+t+" -"].concat(Ft(i)))},n.MN=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;this.FLt(t)&&(e=Kn).Fp.apply(e,["INFO "+t+" -"].concat(Ft(i)))},n.WLt=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;this.FLt(t)&&(e=Kn).Vp.apply(e,["WARNING "+t+" -"].concat(Ft(i)))},n.lt=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;this.FLt(t)&&(e=Kn).Wp.apply(e,["ERROR "+t+" -"].concat(Ft(i)))},n.ULt=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;this.FLt(t)&&(e=Kn).Wp.apply(e,["FATAL "+t+" -"].concat(Ft(i)))},t}(),gz=new lz,wz="HLSPlaylistParser",mz="Discontinuity",yz="Buffering",pz=function(){function t(t,n,i,r){this.na=t,this.gZ=n,this.XLt=i,this.zLt=r}var n=t.prototype;return n.fft=function(){var t,n=null==(t=this.na.Er)?void 0:t.GLt;if(n&&0!==n.length){for(var i,r=null!=(i=ho(n,(function(t){return 0!==t.HLt.length&&0!==t.ZLt.length})))?i:n[0],e=n.filter((function(t){return t!==r})),u=0,s=r.HLt;u<s.length;u++){var o=s[u],a=new sw,c=[];a.kO(new fz(r,o)),c.push(o);for(var h=0;h<e.length;h++)for(var f=e[h],v=0,d=f.HLt;v<d.length;v++){var l=d[v];if(iz(l,o)&&!sz(c,l)){a.kO(new fz(f,l)),c.push(l);break}}this.XLt.tt(new az(this.na,this.gZ,this.XLt,a))}for(var g=0,w=r.ZLt;g<w.length;g++){var m=w[g],y=new sw,p=[];y.kO(new vz(r,m)),p.push(m);for(var _=0;_<e.length;_++)for(var b=e[_],k=0,A=b.ZLt;k<A.length;k++){var T=A[k];if(iz(T,m)&&!sz(p,T)){y.kO(new vz(b,T)),p.push(T);break}}this.zLt.tt(new cz(this.na,this.gZ,this.zLt,y))}}else gz.WLt("LLHLSTrackConfigurator","The HLSModel contains no variant streams.")},n.qLt=function(){this.YLt(this.XLt),this.YLt(this.zLt)},n.YLt=function(t){for(var n=[],i=0,r=t.lC;i<r.length;i++){for(var e=r[i],u=[],s=0,o=e.NC.lC;s<o.length;s++){var a=o[s];po(a.wLt.KLt,a.gLt)||u.push(a)}for(var c=0;c<u.length;c++){var h=u[c];e.NC.eT(h),h.yn()}0===e.NC.V&&n.push(e)}for(var f=0;f<n.length;f++){var v=n[f];t.it(v),v.yn()}},n.jLt=function(t,n){var i=this.QLt(t);void 0!==i&&(i.oft=n)},n.JLt=function(t,n){var i=this.QLt(t);void 0!==i&&(i.Byt=n)},n.QLt=function(t){for(var n=0,i=this.zLt.lC;n<i.length;n++){var r=i[n],e=ho(r.NC.lC,(function(n){return n.gLt===t}));if(void 0!==e)return e}},t}();F(),Tt(),Dt();var _z=function(){function t(t){var n=t.bG>0?t.bG:NX.Eut,i=t.AG>0?t.AG:bX.Eut;this.Iut=new NX(NX.iIt,NX.sIt,1,n),this.RIt=new bX(bX.iIt,bX.sIt,i)}var n=t.prototype;return n.SG=function(t){if("segment"===t.Tw||"preload-hint"===t.Tw){var n=[new AX(this.RIt)];return"stream"!==t.jk||!function(t){return"segment"===t.Tw&&"initialization-segment"!==t.kE}(t)&&"preload-hint"!==t.Tw?n.push(new TX(this.Iut)):n.push(new SX(this.Iut,1e3)),new kX(n)}},n.AIt=function(t){this.Iut=new NX(NX.iIt,NX.sIt,1,t)},Nt(t,[{key:"bG",get:function(){return this.Iut.dit}},{key:"AG",get:function(){return this.RIt.dit}}]),t}();F(),Tt(),Rt();var bz=function(t){function n(n){var i;return(i=t.call(this,tz.rLt)||this).lt=n,i}return It(n,t),n}(sa);F(),Tt();var kz=function(){function t(t){this.Jnt=t}return t.prototype.MJ=function(t,n){var i={Tw:mp.wW,sH:[],g4:t.map((function(t){return{Mk:t}})),C4:n};return et.resolve(void 0!==this.Jnt.MJ([i]))},t}();F(),Tt(),Gt(),Dt(),qt(),F(),Tt();var Az=function(t,n,i,r,e){return t.filter((function(t){return!!po(r,t)||1.1*t.bG<=i.bG}))},Tz=function(t,n,i,r,e){return t.filter((function(t){if(po(r,t))return!0;for(var u=1/0,s=0,o=t.KLt;s<o.length;s++){var a,c,h=o[s];u=k.min(u,null!=(c=null!=(a=h.hLt.$Lt)?a:h.hLt.tBt)?c:1/0)}u===1/0&&(u=1);var f=2*i.AG+t.bG*u/i.bG;return t.bG<=n.bG||e.eBt>f}))},Sz=function(t,n,i,r,e){return to(t,(function(t,n){return n.bG-t.bG}))},Ez=function(t,n,i,r,e){return t.every((function(t){return t.Lyt&&!S(t.Lyt)}))?to(t,(function(t,n){return n.Lyt-t.Lyt})):t},Iz=function(t,n,i,r,e){return 0===r.length?t:to(t,(function(t,n){var i=po(r,t)?1:0;return(po(r,n)?1:0)-i}))},Rz=function(t,n,i,r,e,u){return t.filter((function(t){return!t.Jrt||!n.Jrt||!(void 0!==n.Jrt.dPt&&void 0!==t.Jrt.dPt&&!jC(n.Jrt.dPt,t.Jrt.dPt)&&!u.iBt({Mk:'video/mp4; codecs="'+t.Jrt.dPt+'"'}))&&!(void 0!==n.Jrt.cPt&&void 0!==t.Jrt.cPt&&!jC(n.Jrt.cPt,t.Jrt.cPt)&&!u.sBt({Mk:'audio/mp4; codecs="'+t.Jrt.cPt+'"'}))}))},Cz=function(t,n,i,r,e){if(!1===e.Dlt)return t;if(Kn.Ys.qg)return t;for(var u,s,o=Kn.Ys.Yg,a=(null!=(u=null==o?void 0:o.width)?u:e.ji)*fB,c=(null!=(s=null==o?void 0:o.height)?s:e.Ti)*fB,h=0;h<t.length;h++){var f=t[h];if(void 0===f.$Ct)return t;var v=f.$Ct.Ti,d=f.$Ct.ji;if(v<=c&&d<=a)return t.slice(h,t.length)}return[]},Nz=function(t,n,i,r,e){return function(t,n){var i=n.Dlt;if(void 0===i&&!Kn.Ys.Qs)return t;if(!1===i)return t;for(var r=0;r<t.length;r++){var e=t[r];if(void 0===e.$Ct)return t;var u=e.$Ct.Ti,s=e.$Ct.ji;if(u===n.Ti&&s===n.ji)return t.slice(r,t.length);if(u<n.Ti||s<n.ji)return t.slice(0===r?r:r-1,t.length)}return[]}(t,e)};var Dz="AbrEvaluator",Pz=function(){function t(t){this.gZ=t,this.m_=[Rz,Az,Tz,Sz,Cz,Nz,Ez,Iz]}var n=t.prototype;return n.rBt=function(t){this.m_=t},n.oBt=function(t,n,i,r,e){var u=this;return Zt((function(){return Ht(this,(function(s){switch(s.label){case 0:return[4,u.hBt(t,n,i,r,e)];case 1:return[2,s.sent()[0]]}}))}))()},n.hBt=function(t,n,i,r,e){var u=this;return Zt((function(){var s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:if(0===t.length)throw new p("AbrEvaluator - Unable to select optimal variant stream from an empty list.");gz.VLt(Dz,"Performing optimal variant stream selection."),s=u.nBt,o=t,a=0,c=u.m_,v.label=1;case 1:return a<c.length?(h=c[a],f=h(o,n,s,i,r,e),qn(f)?(o=f,[3,4]):[3,2]):[3,5];case 2:return[4,f];case 3:o=v.sent(),v.label=4;case 4:return a++,[3,1];case 5:return 0===o.length?(gz.WLt(Dz,"No possible variant stream remains after ABR rule evaluation. Selecting the lowest bandwidth variant stream."),[2,[To(t,(function(t){return t.bG}))]]):[2,o]}}))}))()},Nt(t,[{key:"nBt",get:function(){return this.gZ.cj}}]),t}();function xz(t,n){return[t,void 0!==n?t+n-1:er]}function Lz(t){return Boolean(t.AN)}function Mz(t){return Boolean(t.Mrt)}F(),Tt(),Dt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),nn(),F(),Tt(),F(),Tt();var Oz=function(t){return t[t.vE=0]="vE",t[t.mE=1]="mE",t[t.JV=2]="JV",t[t.aBt=3]="aBt",t}({}),Bz=function(t){return t[t.uBt=0]="uBt",t[t.cBt=1]="cBt",t}({}),Vz=function(t){return t[t.$H=0]="$H",t[t.lBt=1]="lBt",t[t.dBt=2]="dBt",t}({}),Fz=function(t){return t[t.iE=0]="iE",t[t.fBt=1]="fBt",t[t._Bt=2]="_Bt",t}({});function Uz(t){return t?t._At?t.Mx+"@"+t._At.Sn+"-"+(null!=(n=t._At.V)?n:""):""+t.Mx:"";var n}function Wz(t,n){if(n===t)return!0;if(n.Mx!==t.Mx)return!1;if(!t._At)return!0;if(n._At){var i=xz(t._At.Sn,t._At.V),r=xz(n._At.Sn,n._At.V);if(i[0]<=r[0])return void 0===i[1]||void 0!==r[1]&&i[1]>=r[1]}return!1}function Zz(t,n){return t===n||t.Mx===n.Mx&&(t._At&&n._At?t._At.Sn===n._At.Sn&&t._At.V===n._At.V:t._At===n._At)}function Xz(t){var n=!!t.vBt||void 0;return{o:t.o,mBt:t.mBt,$G:t.$G,gBt:t.gBt,ct:t.ct,pBt:t.pBt,vBt:n,wBt:t.yBt,bBt:t.ABt,SBt:t.SBt,TBt:t.TBt}}function Gz(t,n){var i,r,e;return{cPt:null!=(i=n.cPt)?i:null==t?void 0:t.cPt,dPt:null!=(r=n.dPt)?r:null==t?void 0:t.dPt,kBt:null!=(e=n.kBt)?e:null==t?void 0:t.kBt}}function Hz(t,n,i,r,e){return zz.apply(this,arguments)}function zz(){return zz=Zt((function(t,n,i,r,e){var u,s,o,a,c,h,f,v,d,l,g;return Ht(this,(function(w){switch(w.label){case 0:return u=n.filter((function(t){return Vs(t,"audio")})),s=n.filter((function(t){return Vs(t,"video")})),o=[],a=i.map((function(t){return function(t,n,i){return Yz.apply(this,arguments)}(t,r,e)})),[4,et.all(a)];case 1:for(c=w.sent().filter(Yn),f=function(t,n){if(0===n.length)return t;var i=function(t){var i=n.indexOf(t.cT.Iw);return i>=0?i:n.length};return to(t,(function(t,n){return i(t)-i(n)}))}(c,null!=(h=null==t?void 0:t.preferredKeySystems)?h:[]),v=0;v<f.length;v++)d=f[v],l=hZ(null!=t?t:{},d.cT),g="cbcs",o.push({cT:d.cT,IG:d.IG,CG:d.CG,WU:d.WU,RH:[{initDataTypes:[d.cT.xw],audioCapabilities:fZ(u,g,null==l?void 0:l.audioRobustness),videoCapabilities:fZ(s,g,null==l?void 0:l.videoRobustness),persistentState:null==l?void 0:l.persistentState,distinctiveIdentifier:null==l?void 0:l.distinctiveIdentifier}]});return[2,o]}}))})),zz.apply(this,arguments)}function Yz(){return Yz=Zt((function(t,n,i){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return t.Fyt&&t.EBt?t.AE!==Vz.dBt?[2]:(r=jz(t.EBt))?r.Iw!==Ts?[3,1]:[2,{cT:r,IG:[],CG:void 0,WU:t.Fyt}]:[2]:[2];case 1:return r.Iw!==ks||t.EBt!==Is?[3,2]:[2,{cT:r,IG:[],CG:t.Fyt,WU:void 0}];case 2:return gz.MN("HLSDrmUtils","Fetching key uri "+t.Fyt+"."),[4,n.Qk({Xu:t.Fyt,xE:i})];case 3:return[4,u.sent().Dk()];case 4:return e=u.sent(),[2,{cT:r,IG:[e],CG:void 0,WU:void 0}];case 5:return[2]}}))})),Yz.apply(this,arguments)}function jz(t){return t===ps?Ns:t===ms?Cs:t===Es?Ps:t===Is?xs:void 0}function Kz(t){if("#"!==t[0])throw new p("HLSPlaylistParser - Could not extract M3U8 tag or comment: "+t);return t.split(":",1)[0]}function qz(t){return"#"!==t[0]?t:t.split(":",1)[0]}function Jz(t){var n=t.indexOf(":");if(-1===n||t.length<n+1)throw new p("HLSPlaylistParser - Could not extract M3U8 parameter: "+t);return t.substring(n+1)}function Qz(t){var n=rY(Jz(t));if(void 0===n)throw new p("HLSPlaylistParser - Could not extract M3U8 float parameter: "+t);return n}function $z(t){for(var n={},i=/[:,] ?([A-Z0-9-]+)=([^",]+|"([^"]*)")/gi,r=i.exec(t);null!==r;){var e=r[1],u=void 0;u=void 0!==r[3]?r[3]:r[2],null!==e?n[e]=u:gz.WLt(wz,"Ignoring unparsable M3U8 attribute name: "+t+"."),r=i.exec(t)}return n}function tY(t,n){var i,r,e=$z(t);try{i=e.URI?Kn.ew(e.URI,n):void 0,r=function(t){switch(t){case"AUDIO":return Oz.vE;case"VIDEO":return Oz.mE;case"SUBTITLES":return Oz.JV;case"CLOSED-CAPTIONS":return Oz.aBt}throw new p("HLSPlaylistParser - Could not parse M3U8 media type: "+t+".")}(e.TYPE)}catch(n){throw new p("HLSPlaylistParser - Could not parse #EXT-X-MEDIA tag: "+t+".")}var u=e["GROUP-ID"],s=e.LANGUAGE,o=e["ASSOC-LANGUAGE"],a=e.NAME,c="YES"===e.DEFAULT,h="YES"===e.AUTOSELECT,f="YES"===e.FORCED,v=e["INSTREAM-ID"],d=e.CHARACTERISTICS,l=e.CHANNELS;if(u||gz.WLt(wz,"#EXT-X-MEDIA tag has no GROUP-ID attribute: "+t+"."),s||gz.WLt(wz,"#EXT-X-MEDIA tag has no LANGUAGE attribute: "+t+"."),a||gz.WLt(wz,"#EXT-X-MEDIA tag has no NAME attribute: "+t+"."),r===Oz.aBt?(i&&gz.WLt(wz,"#EXT-X-MEDIA tag of type CAPTIONS must not have a URI: "+t+"."),v?/^(CC[0-4])|(SERVICE([1-9]|[1-5][0-9]|6[0-3]))$/.test(v)||gz.WLt(wz,"#EXT-X-MEDIA's INSTREAM-ID is invalid: "+t+"."):gz.WLt(wz,"#EXT-X-MEDIA tag of type CAPTIONS must have an INSTREAM-ID attribute: "+t+".")):v&&gz.WLt(wz,"#EXT-X-MEDIA tag must not have an INSTREAM-ID attribute if the TYPE is not CAPTIONS: "+t+"."),c&&!h&&(h=!0,e.AUTOSELECT&&gz.WLt(wz,"#EXT-X-MEDIA tag with DEFAULT=YES attribute must have AUTOSELECT=YES attribute: "+t+".")),e.FORCED&&r!==Oz.JV&&gz.WLt(wz,"#EXT-X-MEDIA tag must not have a FORCED attribute if the TYPE is not SUBTITLES: "+t+"."),void 0===u||void 0===a)throw new p("HLSPlaylistParser - Could not parse #EXT-X-MEDIA tag: "+t+".");return{xBt:o,jCt:l,_Lt:d,lLt:u,uLt:h,aLt:c,cLt:f,dLt:v,gs:s,l:a,Tw:r,Fyt:i}}function nY(t,n,i){var r,e,u,s=$z(t);try{r=Kn.ew(i,n),u=function(t){if(void 0===t)return;var n=t.split("x"),i=Number(n[0]),r=Number(n[1]);if(S(i)||S(r))throw new p("HLSPlaylistParser - Could not parse RESOLUTION attribute: "+t+".");return{ji:i,Ti:r}}(s.RESOLUTION),e=function(t){if(!t)return;for(var n,i,r,e=t.split(","),u=0;u<e.length;u++){var s=e[u].trim();Fs(s,"mp4a")?n="mp4a.40.05"===s?"mp4a.40.5":"mp4a.40.02"===s?"mp4a.40.2":s:"ac-3"===s||"ec-3"===s||"flac"===s.toLowerCase()?n=s:Fs(s,"avc")||Fs(s,"hvc1")||Fs(s,"hev1")||Fs(s,"dvh")||Fs(s,"vp09")||Fs(s,"av01")?i=s:r=r?r+","+s:s}return{cPt:n,dPt:i,kBt:r}}(s.CODECS)}catch(n){throw new p("HLSPlaylistParser - Could not parse #EXT-X-STREAM-INF tag: "+t+".")}var o=rY(s.BANDWIDTH),a=rY(s["AVERAGE-BANDWIDTH"]),c=rY(s.SCORE),h=rY(s["FRAME-RATE"]),f=s["HDCP-LEVEL"],v=[];if(void 0!==s["ALLOWED-CPC"]){var d,l=s["ALLOWED-CPC"].split(",");(d=v).push.apply(d,Ft(l.map((function(t){var n=t.split(":");return{keysystem:n[0],label:n[1]}}))))}var g=s["VIDEO-RANGE"],w=s.AUDIO,m=s.VIDEO,y=s.SUBTITLES,_=s["CLOSED-CAPTIONS"];if(void 0===o?gz.WLt(wz,"#EXT-X-STREAM-INF tag has no valid BANDWIDTH attribute: "+t+"."):void 0!==a&&a>o&&gz.WLt(wz,"#EXT-X-STREAM-INF tag must have BANDWIDTH attribute higher or equal to AVERAGE-BANDWIDTH attribute: "+t+"."),e||gz.MN(wz,"#EXT-X-STREAM-INF tag should have a CODECS attribute: "+t+"."),e&&e.dPt&&void 0===u&&gz.MN(wz,"#EXT-X-STREAM-INF tag should have a valid RESOLUTION attribute if it contains video codecs: "+t+"."),void 0===f||po(["TYPE-0","TYPE-1","NONE"],f)||gz.WLt(wz,"#EXT-X-STREAM-INF tag has an invalid HDCP-LEVEL attribute: "+t+"."),void 0===g||po(["SDR","PQ","HLG"],g)||gz.WLt(wz,"#EXT-X-STREAM-INF tag has an invalid VIDEO-RANGE attribute: "+t+"."),void 0===o)throw new p("HLSPlaylistParser - Could not parse #EXT-X-STREAM-INF tag: "+t+".");return{RBt:v,IBt:w,Myt:a,bG:o,CBt:_,Jrt:e,oft:h,PBt:f,$Ct:u,Lyt:c,DBt:y,Fyt:r,NBt:m,MBt:g}}function iY(t,n){var i=$z(t);if(!i.URI)throw new p("HLSPlaylistParser - Could not parse #EXT-X-I-FRAME-STREAM-INF tag: "+t+".");try{return nY(t,n,i.URI)}catch(n){throw new p("HLSPlaylistParser - Could not parse #EXT-X-I-FRAME-STREAM-INF tag: "+t+".")}}function rY(t){var n=Number(t);return S(n)?void 0:n}function eY(t,n){var i,r,e=$z(t);try{i=function(t){switch(t){case"NONE":return Vz.$H;case"AES-128":return Vz.lBt;case"SAMPLE-AES":return Vz.dBt;case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return t}throw new p("LLHLSPlaylistParser - Could not parse M3U8 key method: "+t+".")}(e.METHOD),r=e.URI?vY(e.URI,n):void 0}catch(n){throw new p("HLSPlaylistParser - Could not parse #EXT-X-KEY tag: "+t+".")}var u,s,o,a,c,h=e.KEYFORMAT,f=e.IV,v=e.KEYFORMATVERSIONS;if(i!==Vz.$H){if(o=h||Is,"SAMPLE-AES-CENC"===i||"SAMPLE-AES-CTR"===i){if(jz(o)!==Ns)throw new p("HLSPlaylistParser - #EXT-X-KEY tag with METHOD="+i+" is only compatible with Widevine.");u=Vz.dBt}else u=i;s=r,a=f?Cc(f):void 0,c=v?v.split("/").map((function(t){return Number(t)})):[1]}else u=Vz.$H,(r||h||v||f)&&gz.WLt(wz,"#EXT-X-KEY tag with METHOD=NONE must not have additional attributes: "+t+".");return{AE:u,Fyt:s,LBt:a,EBt:o,BBt:c}}function uY(t){var n=Jz(t);if(!n)return[void 0,""];var i=tn(n.split(","),2),r=i[0],e=i[1];return[rY(r),e]}function sY(t,n){var i=t.split("@"),r=rY(i[0]),e=i.length>1?rY(i[1]):n;if(void 0===r||void 0===e)throw new p("HLSPlaylistParser - Could not parse #EXT-X-BYTERANGE tag: "+t+".");return{Sn:e,V:r}}function oY(t){if(void 0!==t)return sY(t,void 0)}function aY(t,n){return sY(Jz(t),n)}function cY(t,n){var i=$z(t);try{return{Mx:vY(i.URI,n),_At:oY(i.BYTERANGE)}}catch(n){throw new p("HLSPlaylistParser - Could not parse #EXT-X-MAP tag: "+t+".")}}function hY(t){var n=Jz(t);if(!n)throw new p("HLSPlaylistParser - Could not parse #EXT-X-PROGRAM-DATE-TIME tag: "+t+".");var i=new Date(n);if(!lr(i))throw new p("HLSPlaylistParser - Could not parse #EXT-X-PROGRAM-DATE-TIME tag: "+t+".");return i}function fY(t){var n,i,r,e=$z(t),u=e["START-DATE"],s=e["END-DATE"],o=rY(e["PLANNED-DURATION"]),a=rY(e.DURATION);void 0!==e["SCTE35-CMD"]&&(n=Cc(e["SCTE35-CMD"]).buffer),e["SCTE35-IN"]&&(i=Cc(e["SCTE35-IN"]).buffer),e["SCTE35-OUT"]&&(r=Cc(e["SCTE35-OUT"]).buffer);var c,h,f="YES"===e["END-ON-NEXT"],v=function(t){for(var n={},i=0,r=b.keys(t);i<r.length;i++){var e=r[i],u=t[e];void 0!==u&&Fs(e,"X-")&&(n[e]=u)}return n}(e),d=e.ID,l=e.CLASS;if(void 0===u)gz.WLt(wz,"Could not parse #EXT-X-DATERANGE tag without START-DATE attribute: "+u+".");else if(c=new Date(u),h=void 0!==s?new Date(s):void 0,lr(c)||gz.WLt(wz,"Could not parse EXT-X-DATERANGE tag with invalid START-DATE attribute: "+c+"."),void 0!==a){var g=new Date(c.getTime()+1e3*a);h?h.getTime()!==g.getTime()&&(gz.WLt(wz,"DURATION and END-DATE attributes of #EXT-X-DATERANGE tag are not aligned, updating the END-DATE: "+t+"."),h=g):h=g}else h&&(a=(c.getTime()-h.getTime())/1e3);if(f&&(e.CLASS||gz.WLt(wz,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute without CLASS attribute: "+t+"."),e.DURATION&&gz.WLt(wz,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute with DURATION attribute: "+t+"."),h&&gz.WLt(wz,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute with END-DATE attribute: "+t+".")),void 0===d&&gz.WLt(wz,"Could not parse #EXT-X-DATERANGE tag without valid ID attribute: "+t+"."),void 0===d||void 0===c)throw new p("HLSPlaylistParser - Could not parse #EXT-X-DATERANGE tag: "+t+".");return{o:d,mBt:l,$G:c,gBt:h,ct:a,pBt:o,ABt:n,TBt:i,SBt:r,vBt:f,yBt:v}}function vY(t,n){if(void 0===t)throw new p("HLSPlaylistParser - Unable to parse URL from string: "+t+".");return Kn.ew(t,n)}function dY(t,n){var i=$z(t),r=rY(i.DURATION),e=vY(i.URI,n),u=oY(i.BYTERANGE),s="YES"===i.INDEPENDENT,o="YES"===i.GAP;if(void 0===r)throw new p("HLSPlaylistParser - Unable to parse #EXT-X-PART without valid DURATION: "+t);return{ct:r,Fyt:{Mx:e,_At:u},OBt:s,FBt:o}}function lY(t){var n=$z(t);return{VBt:"YES"===n["CAN-BLOCK-RELOAD"],WBt:rY(n["CAN-SKIP-UNTIL"]),UBt:"YES"===n["CAN-SKIP-DATERANGES"],GBt:rY(n["HOLD-BACK"]),HBt:rY(n["PART-HOLD-BACK"])}}function gY(t,n){var i=$z(t);if(void 0===i.URI)throw new p("HLSPlaylistParser - Could not parse #EXT-X-RENDITION-REPORT: "+t+".");var r=vY(i.URI,n),e=rY(i["LAST-MSN"]),u=rY(i["LAST-PART"]);if(void 0===e)throw new p("HLSPlaylistParser - Could not parse #EXT-X-RENDITION-REPORT: "+t+".");return{Fyt:r,ZBt:e,XBt:u}}function wY(t,n){var i,r=$z(t),e=rY(r["SKIPPED-SEGMENTS"]),u=null==(i=r["RECENTLY-REMOVED-DATERANGES"])?void 0:i.split("\t");if(void 0===e)throw new p("HLSPlaylistParser - Could not parse #EXT-X-SKIP tag without valid SKIPPED-SEGMENTS attribute: "+t+".");return{zBt:e,qBt:u,YBt:n}}function mY(t){var n=rY($z(t)["PART-TARGET"]);if(void 0===n)throw new p("HLSPlaylistParser - Could not parse #EXT-X-PART-TARGET-DURATION tag: "+t+".");return n}function yY(t){switch(Jz(t)){case"VOD":return Fz.fBt;case"EVENT":return Fz._Bt;default:return gz.WLt(wz,"Found #EXT-X-PLAYLIST-TYPE tag with invalid value: "+t+"."),Fz.iE}}function pY(t,n){var i,r,e=$z(t);try{i=function(t){if(void 0===t)throw new p("HLSPlaylistParser - Could not parse PRELOAD-HINT type: "+t+".");if("MAP"===t)return Bz.uBt;if("PART"===t)return Bz.cBt;throw new p("HLSPlaylistParser - Could not parse PRELOAD-HINT type: "+t+".")}(e.TYPE),r=vY(e.URI,n)}catch(n){throw new p("HLSPlaylistParser - Could not parse #EXT-X-PRELOAD-HINT tag: "+t+".")}var u,s=rY(e["BYTERANGE-START"]),o=rY(e["BYTERANGE-LENGTH"]);return void 0===s&&void 0===o||(u={Sn:s||0,V:o}),{Tw:i,Fyt:{Mx:r,_At:u}}}F(),Tt(),nn(),Ut(),F(),Tt(),Gt(),qt(),F(),Tt();var _Y=function(){function t(n){this.QBt=0,this.jBt=t.$Bt(n)}var n=t.prototype;return n.KBt=function(){var t=this.jBt[this.QBt];return this.QBt+=1,t},n.JBt=function(){return this.jBt[this.QBt]},n.Ib=function(){var n=new t("");return n.QBt=0,n.jBt=this.jBt.slice(this.QBt),n},t.$Bt=function(t){return t?t.split(/[\r\n]+/).map((function(t){return t.trim()})).filter((function(t){return t})):[]},t}();function bY(t,n,i){var r=t.Fyt,e=t.jD,u=t.tOt,s=t.Sn;switch(i){case"#EXT-X-VERSION":e=function(t){var n=Qz(t);return S(n)?(gz.WLt(wz,"Playlist version is NaN: "+t+"."),1):n}(n);break;case"#EXT-X-INDEPENDENT-SEGMENTS":u=!0;break;case"#EXT-X-START":s=function(t){var n=$z(t),i=rY(n["TIME-OFFSET"]);if(void 0===i)throw new p("HLSPlaylistParser - #EXT-X-START is missing a TIME-OFFSET: "+t+".");return{eOt:i,iOt:"YES"===n.PRECISE}}(n);break;case"#EXT-X-DEFINE":gz.WLt(wz,"Ignoring unsupported #EXT-X-DEFINE: "+n+".");break;default:gz.MN(wz,"Ignoring unrecognized line or comment: "+n+".")}return{Fyt:r,jD:e,tOt:u,Sn:s}}function kY(t,n){return t.map((function(t){return t.AE===Vz.$H||t.LBt?t:ns({},t,{LBt:AY(n)})}))}function AY(t){var n=new DataView(new ArrayBuffer(16)),i=new Rc;return i.xb(8),Qa(n,i,ir.fromNumber(t)),new E(n.buffer)}function TY(t,n,i){gz.MN(wz,"Parsing M3U8 playlist at "+t+".");var r=new _Y(i);if("#EXTM3U"!==r.KBt())throw new p("HLSPlaylistParser - Could not parse M3U8 playlist. Playlist does not start with #EXTM3U.");return function(t){return/^#EXT-X-(MEDIA|STREAM-INF|I-FRAME-STREAM-INF|SESSION-DATA|SESSION-KEY):/m.test(t)}(i)?function(t,n){var i;try{i=Kn.ew(t)}catch(n){throw gz.WLt(wz,"The master playlist has no valid base URI: "+t+"."),new p("HLSPlaylistParser - Could not parse HLS master playlist: "+t)}for(var r={Fyt:i,tOt:void 0,Sn:void 0,jD:void 0},e=[],u=[],s=[],o=[];;){var a=n.KBt();if(!a)break;try{var c=Kz(a);switch(c){case"#EXT-X-MEDIA":var h=tY(a,i);e.push(h);break;case"#EXT-X-STREAM-INF":var f=nY(a,i,n.KBt());u.push(f);break;case"#EXT-X-I-FRAME-STREAM-INF":var v=iY(a,i);s.push(v);break;case"#EXT-X-SESSION-DATA":gz.WLt(wz,"Ignoring unsupported #EXT-X-SESSION-DATA: "+a+".");break;case"#EXT-X-SESSION-KEY":var d=eY(a,i);o.push(d);break;default:r=bY(r,a,c)}}catch(t){gz.WLt(wz,"Ignoring unparsable line: "+a,t)}}var l,g=r.jD,w=null!=(l=r.tOt)&&l,m=r.Sn;return void 0===g&&(gz.WLt(wz,"The playlist has no #EXT-X-VERSION, assuming version is 2."),g=2),g>=8&&(u.some((function(t){return void 0!==t.Lyt}))||s.some((function(t){return void 0!==t.Lyt})))&&(u.some((function(t){return void 0===t.Lyt}))||s.some((function(t){return void 0===t.Lyt})))&&gz.WLt(wz,"If one master playlist variant stream has a SCORE, all variants should have it."),{Fyt:i,jD:g,tOt:w,Sn:m,sOt:s,nOt:o,AN:e,rOt:u}}(t,r):function(t,n,i){var r,e,u,s,o,a,c,h,f,v,d,l,g,w,m,y,_,b,k={Fyt:t,tOt:void 0,Sn:void 0,jD:void 0},A=[],T=!1,S=!1,E=[],I=rs(),R=[],C=[],N=!1,D=!1,P=[],x=[],L=0,M=!1,O=Fz.iE,B=!1,V=0;try{b=Kn.ew(t)}catch(n){throw gz.WLt(wz,"The media playlist has no valid base URI: "+t+".",n),new p("HLSPlaylistParser - Could not parse HLS media playlist.")}for(var F=i.Ib();void 0===m||void 0===y;){var U=F.KBt();if(!U)break;try{switch(qz(U)){case"#EXT-X-MEDIA-SEQUENCE":m=Qz(U);break;case"#EXT-X-DISCONTINUITY-SEQUENCE":y=Qz(U)}}catch(t){gz.WLt(wz,"Ignoring unparsable line: "+U,t)}}void 0===m&&(gz.MN(wz,"#EXT-X-MEDIA-SEQUENCE tag is missing, assuming first segment media sequence number is 0."),m=0),void 0===y&&(gz.MN(wz,"#EXT-X-DISCONTINUITY-SEQUENCE tag is missing, assuming first segment discontinuity sequence number is 0."),y=0);for(var W=m,Z=y;;){var X=i.KBt();if(!X)break;var G=!1;try{var H=qz(X);switch(H){case"#EXTINF":var z;G=!0,o=(z=tn(uY(X),2))[0],a=z[1];break;case"#EXT-X-BYTERANGE":G=!0,(c=aY(X,L))&&(L=c.Sn+c.V);break;case"#EXT-X-DISCONTINUITY":G=!0,N=!0,Z++;break;case"#EXT-X-KEY":var Y;G=!0;var j,K=eY(X,b);if(K.AE===Vz.$H){I.clear(),g=void 0;break}var q=null!=(j=null==(Y=K.EBt)?void 0:Y.toString())?j:"identity";I.set(q,K),K.AE===Vz.lBt&&(g=K);break;case"#EXT-X-MAP":G=!0,f=cY(X,b),v=g;break;case"#EXT-X-PROGRAM-DATE-TIME":G=!0,d=hY(X);break;case"#EXT-X-GAP":G=!0,D=!0;break;case"#EXT-X-BITRATE":G=!0,l=Qz(X);break;case"#EXT-X-TARGETDURATION":r=Qz(X);break;case"#EXT-X-DATERANGE":var J=fY(X);A.push(J);break;case"#EXT-X-PART":G=!0;var Q=dY(X,b);C.push(Q);break;case"#EXT-X-PRELOAD-HINT":var $=pY(X,b);P.push($);break;case"#EXT-X-SKIP":E.length>0&&gz.WLt(wz,"#EXT-X-SKIP must appear before any #EXTINF tags."),G=!0;var tt=wY(X,W);V=tt.zBt,_=tt.qBt,W+=tt.zBt;break;case"#EXT-X-SERVER-CONTROL":var nt=lY(X);T=nt.VBt,e=nt.WBt,S=nt.UBt,u=nt.GBt,s=nt.HBt;break;case"#EXT-X-RENDITION-REPORT":var it=gY(X,b);x.push(it);break;case"#EXT-X-PART-INF":w=mY(X);break;case"#EXT-X-MEDIA-SEQUENCE":G&&gz.WLt(wz,"#EXT-X-MEDIA-SEQUENCE must appear before any media segment tags.");break;case"#EXT-X-DISCONTINUITY-SEQUENCE":G&&gz.WLt(wz,"#EXT-X-DISCONTINUITY-SEQUENCE must appear before any media segment tags.");break;case"#EXT-X-ENDLIST":M=!0;break;case"#EXT-X-PLAYLIST-TYPE":O=yY(X);break;case"#EXT-X-I-FRAMES-ONLY":B=!0;break;default:if(Fs(H,"#"))k=bY(k,X,H);else{h=Kn.ew(X,b);var rt=f?{Fyt:f,oOt:v}:void 0,et={nOt:kY(ss(I),W),qV:R,hOt:C,ct:o,oH:a,aOt:N,Fyt:{_At:c,Mx:h},uOt:rt,cOt:d,FBt:D,lOt:l,YBt:W,dOt:Z};E.push(et),W++,R=[],C=[],o=void 0,a=void 0,N=!1,c=void 0,h=void 0,d=void 0,D=!1,l=void 0}}}catch(t){gz.WLt(wz,"Ignoring unparsable line: "+X,t)}}if(C.length){var ut=f?{Fyt:f,oOt:g}:void 0,st={nOt:kY(ss(I),W),qV:R,hOt:C,ct:o,oH:a,aOt:N,Fyt:void 0,uOt:ut,cOt:d,FBt:D,lOt:l,YBt:W,dOt:Z};E.push(st)}var ot,at=k.jD,ct=null!=(ot=k.tOt)&&ot,ht=k.Sn;void 0===at&&(gz.WLt(wz,"The media playlist has no #EXT-X-VERSION tag, assuming version is 2."),at=2),void 0===r&&gz.WLt(wz,"Could not parse the HLS media playlist: no #EXT-X-TARGET-DURATION tag was found.");var ft=E.length,vt=ft>0;vt||gz.WLt(wz,"The HLS media playlist contains no segments.");var dt=vt&&E[ft-1].hOt.length>0;return dt&&void 0===w&&gz.WLt(wz,"Could not parse the HLS media playlist: no #EXT-X-PART-TARGET-DURATION tag was found, but it is required when some or all segments contain parts."),dt&&void 0===s&&gz.WLt(wz,"Could not parse the HLS media playlist: The #EXT-X-SERVER-CONTROL tag has no PART-HOLDBACK attribute, but it is required when some or all segments contain parts."),{VBt:T,WBt:e,UBt:S,fOt:A,dOt:y,_Ot:M,tOt:ct,GBt:u,vOt:B,YBt:m,zBt:V,HBt:s,$Lt:w,mOt:O,gOt:P,qBt:_,pOt:x,wOt:r,Mrt:E,Sn:ht,Fyt:b,yOt:n,jD:at}}(t,n,r)}F(),Tt(),Dt(),Ut(),F(),Tt(),Dt();var SY=function(){function t(t,n,i){var r,e,u,s;this.o=EY++,this.Lyt=void 0,this.$Ct=void 0,this.Myt=void 0,this.bOt=!1,this.TOt=[],this.hLt=n,this.bG=t.bG,this.Myt=t.Myt,this.Lyt=t.Lyt,this.AOt=t.Jrt?IY(t.Jrt):void 0,this.GCt=this.AOt,this.$Ct=t.$Ct,this.oft=t.oft,this.IBt=null!=(r=t.IBt)?r:"COt"+this.o,this.NBt=null!=(e=t.NBt)?e:"POt"+this.o,this.DBt=null!=(u=t.DBt)?u:"DOt"+this.o,this.CBt=null!=(s=t.CBt)?s:"NOt"+this.o,this.TOt=i}var n=t.prototype;return n.xOt=function(t){for(var n=0,i=this.TOt;n<i.length;n++){var r=i[n].hLt.xOt(t);if(void 0!==r)return r}},n.ROt=function(t){for(var n=0,i=this.TOt;n<i.length;n++){var r=i[n].hLt.ROt(t);if(void 0!==r)return r}},n.IOt=function(t){wo(this.TOt,t)},Nt(t,[{key:"Fyt",get:function(){return this.hLt.Fyt}},{key:"Jrt",get:function(){return this.GCt},set:function(t){this.GCt=t?IY(t):void 0,this.bOt=function(t,n){return!(void 0!==(null==t?void 0:t.cPt)&&void 0===(null==n?void 0:n.cPt)||void 0!==(null==t?void 0:t.dPt)&&void 0===(null==n?void 0:n.dPt))}(this.AOt,this.GCt)}},{key:"SOt",get:function(){return this.bOt}},{key:"KLt",get:function(){return this.TOt}},{key:"HLt",get:function(){return this.TOt.filter((function(t){return t.Tw===Oz.vE}))}},{key:"ZLt",get:function(){return this.TOt.filter((function(t){return t.Tw===Oz.mE}))}},{key:"kOt",get:function(){return this.TOt.filter((function(t){return t.Tw===Oz.JV}))}},{key:"EOt",get:function(){return this.TOt.filter((function(t){return t.Tw===Oz.aBt}))}}]),t}(),EY=0;function IY(t){return ns({},t,{dPt:t.dPt?Vv(t.dPt):void 0})}F(),Tt(),Dt(),nn(),F(),Tt(),Dt(),F(),Tt(),Dt();var RY=function(){function t(t,n,i,r,e,u){this.wit=void 0,this.VOt=t,this.UOt=n,this.jO=i,this.BOt=r,this.FOt=e,this.ct=u.ct,this.Fyt=u.Fyt,this.OBt=u.OBt,this.FBt=u.FBt}return t.prototype.WOt=function(t,n,i){this.jO=t,this.BOt=n,this.FOt=i},Nt(t,[{key:"WO",get:function(){var t;return this.jO+(null!=(t=this.MOt)?t:0)}},{key:"LOt",get:function(){return this.BOt}},{key:"OOt",get:function(){return this.FOt}},{key:"nOt",get:function(){return this.VOt.nOt}}]),t}(),CY=function(){function t(t,n,i,r,e){this.wit=void 0,this.Av=[],this.zOt=0,this.jO=t,this.uOt=e.uOt,this.BOt=i,this.FOt=r,this.MA=e.ct,this.cOt=e.cOt,this.ZOt=e.Fyt,this.FBt=e.FBt,this.YBt=e.YBt,this.aOt=e.aOt,this.dOt=n,this.nOt=e.nOt,this.QOt(e.hOt)}var n=t.prototype;return n.qOt=function(t){return this.Av[t]},n.YOt=function(t){for(var n=0;n<this.Av.length;n++){var i=this.Av[n],r=i.WO,e=r+i.ct;if(r<=t&&t<=e)return t===e&&n+1<this.Av.length?this.Av[n+1]:i}},n.KOt=function(t){for(var n=this.Av.length-1;n>=0;n--){var i=this.Av[n];if(i.WO<=t)return i}},n.jOt=function(t){for(var n=this.KOt(t);n&&!n.OBt&&n.UOt>0;)n=this.qOt(n.UOt-1);return n},n.WOt=function(t,n,i){var r=t.hOt.length!==this.Av.length||i!==this.FOt;this.BOt=n,this.FOt=i,this.MA=t.ct,null!=this.cOt||(this.cOt=t.cOt),void 0===this.ZOt&&(this.ZOt=t.Fyt),r&&this.QOt(t.hOt)},n.QOt=function(t){this.Av.length>t.length&&(this.Av.length=t.length);for(var n=0,i=0;i<t.length;i++){var r=t[i],e=this.BOt&&0===i,u=this.FOt&&i===t.length-1,s=this.jO+n;if(i<this.Av.length)this.Av[i].WOt(s,e,u);else{var o=new RY(this,i,s,e,u,r);o.MOt=this.GOt,this.Av.push(o)}n+=r.ct}this.zOt=n},n.JOt=function(){bo(this.Av),this.zOt=0},Nt(t,[{key:"WO",get:function(){var t;return this.jO+(null!=(t=this.GOt)?t:0)}},{key:"HOt",get:function(){return this.jO}},{key:"ct",get:function(){return this.MA}},{key:"Fyt",get:function(){return this.ZOt}},{key:"LOt",get:function(){return this.BOt}},{key:"OOt",get:function(){return this.FOt}},{key:"hOt",get:function(){return this.Av}},{key:"XOt",get:function(){return this.zOt}},{key:"UO",get:function(){var t;return this.WO+(null!=(t=this.MA)?t:this.zOt)}},{key:"MOt",get:function(){return this.GOt},set:function(t){this.GOt=t;for(var n=0,i=this.Av;n<i.length;n++){i[n].MOt=t}}}]),t}();F(),Tt();var NY=function(t){return t.$Ot="YES",t.tFt="v2",t}({});F(),Tt(),Rt();var DY=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n}(Mo);F(),Tt(),Rt(),F(),Tt(),Dt(),Rt(),F(),Tt();var PY=function(t){function n(n,i){var r,e=xY(i,n.ct,n.$G,n.gBt);return(r=t.call(this,i,e,void 0,!1,n.o)||this).eFt=n.mBt,r.iFt=n.$G,r.sFt=n.gBt,r.MA=n.ct,r.nFt=n.pBt,r.rFt=Boolean(n.vBt),r.uFt=n.wBt||{},r.oFt=n.bBt,r.hFt=n.SBt,r.aFt=n.TBt,r.cFt(),r.lFt(),r}It(n,t);var i=n.prototype;return i.ir=function(t){var n,i=!1;(void 0===this.eFt&&void 0!==t.mBt&&(i=!0,this.eFt=t.mBt),void 0===this.sFt&&void 0!==t.gBt&&(i=!0,this.sFt=t.gBt),void 0===this.MA&&void 0!==t.ct&&(i=!0,this.MA=t.ct),void 0===this.nFt&&void 0!==t.pBt&&(i=!0,this.nFt=t.pBt),!this.rFt&&t.vBt&&(i=!0,this.rFt=t.vBt),i=this.updateCustomAttributes(t,i),void 0===this.oFt&&void 0!==t.bBt&&(i=!0,this.oFt=t.bBt),void 0===this.hFt&&void 0!==t.SBt&&(i=!0,this.hFt=t.SBt),void 0===this.aFt&&void 0!==t.TBt&&(i=!0,this.aFt=t.TBt),this.cFt(),this.lFt(),this.dFt(),i)&&(this._o(new Bw(this)),null==(n=this.QO)||n._o(new Fw(this)))},i.updateCustomAttributes=function(t,n){var i=n;if(t.wBt)for(var r=0,e=b.keys(t.wBt);r<e.length;r++){var u=e[r];void 0===this.uFt[u]&&(i=!0,this.uFt[u]=t.wBt[u])}return i},i.cFt=function(){this.MA&&!this.sFt&&(this.sFt=new Date(this.iFt.getTime()+mr(this.MA)))},i.lFt=function(){this.sFt&&!this.MA&&(this.MA=wr(this.sFt.getTime()-this.iFt.getTime()))},i.dFt=function(){this.$O===1/0&&(this.sFt||this.MA)&&(this.$O=xY(this.jO,this.MA,this.iFt,this.sFt))},Nt(n,[{key:"wa",get:function(){return this.eu||(this.eu=function(t){return Rg(Lw(t),{get content(){return t.U},get class(){return t.mBt},get startDate(){return t.$G},get endDate(){return t.gBt},get duration(){return t.ct},get plannedDuration(){return t.pBt},get endOnNext(){return t.vBt},get scte35Cmd(){return t.bBt},get scte35Out(){return t.SBt},get scte35In(){return t.TBt},get customAttributes(){return t.wBt}})}(this)),this.eu}},{key:"mBt",get:function(){return this.eFt}},{key:"$G",get:function(){return this.iFt}},{key:"gBt",get:function(){return this.sFt}},{key:"ct",get:function(){return this.MA}},{key:"pBt",get:function(){return this.nFt}},{key:"vBt",get:function(){return this.rFt}},{key:"bBt",get:function(){return this.oFt}},{key:"SBt",get:function(){return this.hFt}},{key:"TBt",get:function(){return this.aFt}},{key:"wBt",get:function(){return this.uFt}}]),n}(Xw);function xY(t,n,i,r){return Yn(n)?t+n:r?t+(wr(r.getTime())-wr(i.getTime())):1/0}var LY=function(t){function n(){return t.call(this,void 0,void 0,Tw.DATE_RANGE)||this}It(n,t);var i=n.prototype;return i.ir=function(t,n){MY(this,OY(t),n)},i._W=function(n){BY(this.L.lC,n),t.prototype._W.call(this,n)},n}(XD);function MY(t,n,i){for(var r=function(i){var r=e[i],u=ho(n,(function(t){return t.o===r.o}));u?r.ir(u):t.sW(r)},e=t.L.lC,u=e.length-1;u>=0;u--)r(u);for(var s=0;s<n.length;s++){var o=n[s],a=o.$G;if(void 0!==a&&!t.i5(o.o)){var c=i(a),h=new PY(o,c);BY(t.L.lC,h),t._W(h)}}}function OY(t){for(var n=rs(),i=[],r=0;r<t.length;r++){var e=t[r];if(n.has(e.o)){var u=n.get(e.o),s=ns({},u,Pg(e),{wBt:ns({},u.wBt,e.wBt)});n.set(e.o,s)}else n.set(e.o,e),i.push(e.o)}return i.map((function(t){return n.get(t)}))}function BY(t,n){var i=vo(t,(function(t){return t.mBt===n.mBt}));i&&i.vBt&&i.ir({o:i.o,gBt:n.$G})}var VY=String.fromCharCode(95),FY=VY+"HLS_msn",UY=VY+"HLS_part",WY=VY+"HLS_skip",ZY="HLSMediaPlaylist",XY=function(){function t(t,n,i){this.xFt=void 0,this.IFt=void 0,this.VFt=void 0,this.WFt=void 0,this.vFt=void 0,this.mFt=void 0,this.gFt=void 0,this.pFt=void 0,this.Xbt=[],this.CFt=[],this.wFt=!1,this.yFt=void 0,this.bFt=!1,this.AFt=Fz.iE,this.v4=SA.pB(),this._Ft=SA.pB(),this.MA=void 0,this.DFt=-1/0,this.MFt=void 0,this.Fyt=t,this.jV=n,this.qFt=i}var n=t.prototype;return n.BLt=function(t){if(!t)return this.Fyt;var n=Kn.Ih(this.Fyt);return void 0!==t.YBt&&n.searchParams.append(FY,String(t.YBt)),void 0!==t.LFt&&n.searchParams.append(UY,String(t.LFt)),void 0!==t.MD&&n.searchParams.append(WY,t.MD),n.href},n.aut=function(t){var n=this.Xbt;if(0!==n.length){var i=t-n[0].YBt;if(!(i<0||i>=n.length))return n[i]}},n.BFt=function(t){if(0!==this.Xbt.length){var n=mU(GY.Vg,this.Xbt,t);if(!(n<0)){var i=this.Xbt[n];return t===i.UO&&n+1<this.Xbt.length?this.Xbt[n+1]:i}var r=this.Xbt[this.Xbt.length-1];return t===r.UO?r:void 0}},n.OFt=function(t){if(0!==this.Xbt.length){var n=this.Xbt[0];if(t<n.UO)return n;var i=this.Xbt[this.Xbt.length-1];return t>=i.WO?i:this.BFt(t)}},n.xOt=function(t){var n=this.OFt(t);if(void 0!==n)for(var i=n.YBt-this.Xbt[0].YBt;i>=0;i--){var r=this.Xbt[i];if(void 0!==r.cOt)return new Date(r.cOt.getTime()+1e3*(t-r.WO))}},n.ROt=function(t){for(var n,i=0,r=this.Xbt;i<r.length;i++){var e=r[i];if(HY(e))if(void 0===n)n=e;else{if(!(e.cOt.getTime()<=t.getTime()))break;n=e}}if(void 0!==n)return n.WO+(t.getTime()-n.cOt.getTime())/1e3},n.FFt=function(t){switch(t){case Bz.uBt:return this.VFt;case Bz.cBt:return this.WFt;default:return}},n.WOt=function(t){var n;void 0===this.vFt&&(this.vFt=null!=(n=t.wOt)?n:this.UFt(t));void 0===this.gFt&&void 0!==t.GBt&&(this.gFt=t.GBt),void 0===this.mFt&&void 0!==t.$Lt&&(this.mFt=t.$Lt),void 0===this.pFt&&void 0!==t.HBt&&(this.pFt=t.HBt),this.wFt=t.VBt,this.yFt=t.WBt,this.bFt=t.UBt,this.AFt=t.mOt,this.Kbt(t),this.GFt(t);var i=ho(t.gOt,(function(t){return t.Tw===Bz.uBt})),r=ho(t.gOt,(function(t){return t.Tw===Bz.cBt}));this.VFt=i?{Fyt:i.Fyt,Tw:i.Tw,dOt:t.dOt}:void 0,this.WFt=r?{Fyt:r.Fyt,Tw:r.Tw,dOt:t.dOt}:void 0,this.xFt=Kn.Wg()/1e3;var e=this.v4.Tn(this.v4.V-1);this.HFt();var u=this.v4.Tn(this.v4.V-1);(!this.IFt||u-e>0)&&(this.IFt=this.xFt),null!=this.jV||(this.jV=t.Sn)},n.HFt=function(){this._Ft=this.ZFt(),this.v4=this.XFt(this._Ft),this.MA=this.zFt()},n.ZFt=function(){var t=this.Mrt;if(0===t.length)return SA.pB();var n=t[0].WO,i=t[t.length-1].UO;return new SA([n,i])},n.XFt=function(t){if(0===t.V||this._Ot)return t;var n=t.Sn(0),i=t.Tn(0)-this.GSt;return i<n?SA.mB(n):new SA([n,i])},n.zFt=function(){return 0===this.Xbt.length?0:this._Ot?dr(this.Xbt,(function(t){var n;return null!=(n=t.ct)?n:t.XOt})):1/0},n.UFt=function(t){for(var n,i=0,r=t.Mrt;i<r.length;i++){var e=r[i];if(void 0!==e.ct){var u=k.max(1,k.round(e.ct));(void 0===n||n<u)&&(n=u)}}if(void 0===n)throw new p("HLSModel - Could not determine required segment target duration.");return n},n.Kbt=function(t){if(0===t.Mrt.length)return bo(this.Xbt),void this.YFt();var n=this.KFt(t);if(n){var i,r,e;n.jFt>0&&this.Xbt.splice(0,n.jFt);var u=t.zBt;if(u>0){if(u>this.Xbt.length)throw new DY("New playlist skips over missing segments.");var s=this.Xbt[u-1];if(void 0===s.ct)throw new DY("New playlist skips over an incomplete segment.");i=s.HOt+s.ct,e=s.dOt-t.dOt,r=u;for(var o=0;o<u;o++)this.Xbt[o].JOt()}else i=n.QFt,e=0,r=0;for(var a=0;a<t.Mrt.length;a++,r++){var c=t.Mrt[a],h=0===a,f=t._Ot&&a===t.Mrt.length-1,v=c.ct,d=c.dOt+e;if(r<this.Xbt.length){var l=this.Xbt[r];0,l.WOt(c,h,f)}else{var g=c;if(this.Xbt.length>0&&void 0===g.uOt)g=ns({},g,{uOt:this.Xbt[this.Xbt.length-1].uOt});var w=new CY(i,d,h,f,g);w.MOt=this.GOt,this.Xbt.push(w)}void 0!==v&&(i+=v)}}},n.KFt=function(t){if(0===this.Xbt.length)return{jFt:0,QFt:0};var n=this.Xbt[0].YBt,i=this.Xbt[this.Xbt.length-1].YBt,r=t.Mrt[0].YBt-t.zBt,e=t.Mrt[t.Mrt.length-1].YBt,u=0,s=0;if(r<n){var o=this.Mrt[0].cOt,a=t.Mrt[0].cOt;if(!(o&&a&&o<a))return void gz.WLt(ZY,"Ignoring older playlist (first media sequence number is "+r+", but previous playlist already started at "+n+")");u=this.Xbt.length,this.YFt()}else{if(e<i)return void gz.WLt(ZY,"Ignoring older playlist (last media sequence number is "+e+", but previous playlist already ended at "+i+")");if(i<r){var c;s=null!=(c=function(t,n){var i=vo(t,(function(t){return void 0!==t.cOt}));if(void 0===i)return;var r=function(t){for(var n=0,i=0;i<t.length;i++){var r,e=t[i];if(e.aOt)return;if(e.cOt)return[e,n];n+=null!=(r=e.ct)?r:0}return}(n.Mrt);if(void 0===r)return;var e=tn(r,2),u=e[0],s=e[1];if(i.dOt!==u.dOt)return;var o=(u.cOt.getTime()-i.cOt.getTime())/1e3;return i.HOt+o-s}(this.Xbt,t))?c:function(t,n,i){var r,e=t[t.length-1],u=null!=(r=e.ct)?r:k.max(i,e.XOt),s=i*(n-e.YBt-1);return e.HOt+u+s}(this.Xbt,r,this.vFt),gz.VLt(ZY,"New playlist (starting at "+r+") is entirely after previous playlist (ending at "+i+"), resetting playlist and restarting at "+s+"s"),u=this.Xbt.length,this.YFt()}else{0;var h=lo(this.Xbt,(function(t){return t.YBt===r}));0,s=this.Xbt[h].HOt,h>0&&(u=h)}}return{jFt:u,QFt:s}},n.GFt=function(t){var n=t.fOt.map(Xz);if(t.UBt&&t.yOt.MD===NY.tFt&&(n=this.CFt.concat(n)),this.CFt=OY(n),t.qBt)for(var i,r=function(t,n){var r=n[t],e=lo(i.CFt,(function(t){return t.o===r}));e>=0&&mo(i.CFt,e)},e=0,u=t.qBt;e<u.length;e++)i=this,r(e,u)},n.JFt=function(t,n){if(this.GOt!==t){this.GOt=t;for(var i=0,r=this.Xbt;i<r.length;i++){r[i].MOt=this.GOt}this.HFt()}this.MFt=n},n.YFt=function(){this.GOt=void 0,this.MFt=void 0},Nt(t,[{key:"_Ot",get:function(){return 0!==this.Xbt.length&&this.Xbt[this.Xbt.length-1].OOt}},{key:"ct",get:function(){return this.MA}},{key:"hI",get:function(){return this.v4}},{key:"fFt",get:function(){return this._Ft}},{key:"tBt",get:function(){return this.vFt}},{key:"$Lt",get:function(){return this.mFt}},{key:"GBt",get:function(){return this._Ot?0:this.gFt?this.gFt:this.vFt?3*this.vFt:void 0}},{key:"HBt",get:function(){var t;return null!=(t=this.pFt)?t:this.mFt?3*this.mFt:void 0}},{key:"VBt",get:function(){return this.wFt}},{key:"WBt",get:function(){return this.yFt}},{key:"UBt",get:function(){return this.bFt}},{key:"mOt",get:function(){return this.AFt}},{key:"SFt",get:function(){return void 0!==this.$Lt}},{key:"TFt",get:function(){if(this._Ot)return!0;var t=Kn.Wg()/1e3,n=this.kFt,i=this.EFt;return void 0!==n&&t-n<i}},{key:"kFt",get:function(){return this.xFt}},{key:"RFt",get:function(){if(this.IFt)return Kn.Wg()/1e3-this.IFt}},{key:"MOt",get:function(){return this.GOt}},{key:"EFt",get:function(){var t;return null!=(t=this.vFt)?t:void 0===this.xFt?5:1}},{key:"Mrt",get:function(){return this.Xbt}},{key:"fOt",get:function(){return this.CFt}},{key:"PFt",get:function(){return this.DFt},set:function(t){this.DFt=t}},{key:"Sn",get:function(){return this.jV}},{key:"NFt",get:function(){return this.MFt}},{key:"GSt",get:function(){return this._Ot?0:null!=(i=null!=(n=null!=(t=this.qFt)?t:this.HBt)?n:this.GBt)?i:0;var t,n,i}}]),t}(),GY=function(){function t(){}var n=t.prototype;return n.Ubt=function(t){return t.WO},n.Gbt=function(t){return t.UO},n.Hbt=function(t,n){return so(t,n)},n.Zbt=function(t,n,i){return(t-n)/(i-n)},Nt(t,null,[{key:"Vg",get:function(){return null!=this.Qrt||(this.Qrt=new t),this.Qrt}}]),t}();function HY(t){return void 0!==t.cOt}function zY(t){return void 0!==t.hOt}function YY(t){return zY(t)?t.LOt:0===t.UOt&&t.VOt.LOt}function jY(t,n){return zY(t)?zY(n)?t.YBt+1===n.YBt:0===n.UOt&&jY(t,n.VOt):t.UOt===t.VOt.hOt.length-1?jY(t.VOt,n):!zY(n)&&t.VOt===n.VOt&&t.UOt+1===n.UOt}F(),Tt(),F(),Tt(),F(),Tt(),Dt(),Rt();var KY=function(t){function n(){return t.call(this,"Tried to wait for multiple discontinuity mappings at the same time")||this}return It(n,t),Nt(n,[{key:"name",get:function(){return"DiscontinuityMisalignmentError"}}]),n}(Mo);var qY=function(){function t(){this.wVt=[],this.tVt=es(),this.sVt=[],this.dVt=-1}var n=t.prototype;return n.$Ft=function(t){var n=this.tVt.get(t);return void 0!==n&&JY(n)},n.eVt=function(t){if(this.iVt()>t)return et.reject(new KY);for(var n=[],i=0,r=this.sVt;i<r.length;i++){var e,u=r[i];if(u<t)null==(e=this.tVt.get(u))||e.nVt.Wb(new KY),this.tVt.delete(u);else n.push(u)}return this.sVt=n,-1===this.sVt.indexOf(t)&&this.sVt.push(t),this.rVt(t).nVt.Ub},n.oVt=function(t){var n=this.tVt.get(t);if(!n||!JY(n))throw new p("LLHLSPlayer - Missing timestamp mapping for discontinuity #"+t);return n},n.hVt=function(t){return this.oVt(t).BV},n.aVt=function(t,n){var i=zY(n)?n:n.VOt,r=this.oVt(i.dOt),e=t.kO(r.BV);if(r.uVt){var u=hm.vV(n.WO).kF(e);if(u.AF().vF(wm())){var s=k.round(u._F()/gm()._F());e=e.kO(gm().tV(s))}}return e},n.cVt=function(t,n){return this.aVt(t,n).kF(t)},n.lVt=function(t,n,i,r,e,u){this.dVt<t&&(this.dVt=t);var s=this.rVt(t);void 0===s.BV&&(s.fVt.some((function(t){return t.Cat===n}))||(s.fVt.push({Cat:n,_Vt:i,vVt:r.lV(i.mN),mVt:e,uVt:u}),this.gVt(s,t)))},n.gVt=function(t,n){if(!t.BV&&this.pVt(t)){var i=function(t){return Io(t,QY)}(t.fVt);t.BV=i.vVt.kF(i._Vt),t.uVt=t.fVt.some((function(t){return t.uVt})),t.nVt.Vb(),bo(t.fVt),wo(this.sVt,n)}},n.pVt=function(t){return this.wVt.length>0&&this.wVt.every((function(n){return t.fVt.some((function(t){return t.Cat===n}))}))},n.rVt=function(t){if(this.tVt.has(t))return this.tVt.get(t);var n={BV:void 0,uVt:!1,nVt:new Gc,fVt:[]};return this.tVt.set(t,n),n},n.yVt=function(t){var n=this;this.wVt=t,this.tVt.forEach((function(t,i){return n.gVt(t,i)}))},n.bVt=function(){this.dVt=-1},n.iVt=function(){return this.dVt},n.Xw=function(){this.tVt.forEach((function(t){return t.nVt.jw()})),this.tVt.clear()},t}();function JY(t){return void 0!==t.BV}function QY(t,n){return-function(t,n){if(t.uVt||n.uVt)return function(t,n){var i=t.kF(n);return t.xF()||n.xF()||(i.gF(wm())?i=i.kF(gm()):i.bF(wm().TF())&&(i=i.kO(gm()))),i}(t._Vt,n._Vt).mF(hm.DF);return t._Vt.mF(n._Vt)}(t,n)||function(t,n){return t.mVt===n.mVt?eo.eh:t.mVt?eo.Bw:eo.Ow}(t,n)||function(t,n){return t.vVt.mF(n.vVt)}(t,n)}var $Y=function(){function t(t,n){this.TVt=[],this.SVt=[],this.DVt=rs(),this.kVt=new qY,this.BVt=t,this.qFt=n}var n=t.prototype;return n.WOt=function(t,n){if(Mz(t))if(0===this.TVt.length)this.EVt(t);else{if(!n)return void gz.WLt("HLSModel","No rendition was provided to update the playlist. Ignoring the update.");n.hLt.WOt(t)}else{if(0!==this.TVt.length)return void gz.WLt("HLSModel","Master playlist can only be applied once. Ignoring the update.");this.xVt(t)}},n.EVt=function(t){var n=this.RVt(t.Fyt);n.WOt(t);var i=this.IVt(Oz.vE,n),r=this.IVt(Oz.mE,n),e=new SY({Fyt:n.Fyt,bG:0,Myt:0,Lyt:NaN,Jrt:void 0,$Ct:void 0,oft:0,RBt:[],PBt:void 0,MBt:void 0,IBt:void 0,NBt:void 0,DBt:void 0,CBt:void 0},n,[i,r]);this.TVt.push(e)},n.xVt=function(t){var n,i,r=function(i,r){var u=r[i],s=e.filter((function(t){return function(t,n){return tj(t.Tw,t.lLt,n)&&(!t.fLt||t.hLt.Fyt===n.Fyt)}(t,u)}));n.PVt(u,s);var o=new SY(u,n.RVt(u.Fyt,t.Sn),s);n.TVt.push(o)};(i=this.SVt).push.apply(i,Ft(t.nOt));for(var e=this.CVt(t),u=0,s=t.rOt;u<s.length;u++)n=this,r(u,s)},n.RVt=function(t,n){var i=this.DVt.get(t);return void 0===i&&(i=new XY(t,n,this.qFt),this.DVt.set(t,i)),i},n.CVt=function(t){for(var n=[],i=0,r=t.AN;i<r.length;i++){var e=r[i];if(void 0===e.Fyt)for(var u=0,s=t.rOt;u<s.length;u++){var o=s[u];if(tj(e.Tw,e.lLt,o)){var a=new nz(e,this.RVt(o.Fyt));n.push(a)}}else{var c=new nz(e,this.RVt(e.Fyt));n.push(c)}}return n},n.IVt=function(t,n){return new nz({Tw:t,Fyt:void 0,lLt:"",gs:void 0,xBt:void 0,l:"",aLt:!0,uLt:!1,cLt:!1,_Lt:void 0,dLt:void 0,jCt:void 0},n)},n.PVt=function(t,n){var i=n.filter((function(t){return t.Tw===Oz.vE})),r=n.filter((function(t){return t.Tw===Oz.mE})),e=t.Jrt&&(t.Jrt.dPt||t.Jrt.cPt);if((!e||t.Jrt.dPt)&&0===r.length){var u=this.IVt(Oz.mE,this.RVt(t.Fyt));n.push(u)}if((!e||t.Jrt.cPt)&&0===i.length){var s=this.IVt(Oz.vE,this.RVt(t.Fyt));n.push(s)}t.Jrt&&t.Jrt.kBt},n.NVt=function(t){for(var n=0,i=this.TVt;n<i.length;n++)for(var r=0,e=i[n].KLt;r<e.length;r++){var u=e[r];if(u===t)return u}},n.MVt=function(t){for(var n=0,i=this.TVt;n<i.length;n++){var r=i[n];if(r===t)return r}},n.LVt=function(t){for(var n=0,i=this.TVt;n<i.length;n++){var r=i[n];if(po(r.KLt,t))return r}},n.Xw=function(){bo(this.TVt),bo(this.SVt),this.DVt.clear(),this.kVt.Xw()},Nt(t,[{key:"AVt",get:function(){return this.SVt}},{key:"GLt",get:function(){return this.TVt}},{key:"LL",get:function(){return this.kVt}}]),t}();function tj(t,n,i){switch(t){case Oz.vE:return i.IBt===n;case Oz.mE:return i.NBt===n;case Oz.JV:return i.DBt===n;case Oz.aBt:return i.CBt===n}return!1}F(),Tt(),Rt();var nj=function(t){function n(n){var i;return(i=t.call(this,ej.OVt)||this).gLt=n,i}return It(n,t),n}(sa);F(),Tt(),Rt();var ij=function(t){function n(n){var i;return(i=t.call(this,ej.FVt)||this).gLt=n,i}return It(n,t),n}(sa),rj="HlsModelUpdater",ej=function(t){return t.OVt="VVt",t.FVt="WVt",t}({}),uj=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).fW=n,s.zut=i,s.mTt=r,s.GVt=!1,s.ZVt=!1,s.nWt=void 0,s.zVt=void 0,s.sWt=es(),s.Hyt=new $Y(e,u),s}It(n,t);var i=n.prototype;return i.qVt=function(t){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:if(!(i=n.Hyt.BVt))throw new p("HLSModelUpdater - Could not load HLS playlist: The provided source is empty.");return n._o(new UR),[4,n.YVt(i,{},2,!0,t)];case 1:if(r=u.sent(),!Lz(e=r.hLt)&&!Mz(e))throw new p("HLSModelUpdater - Could not load HLS playlist: The playlist is invalid.");return Lz(e)||gz.MN(rj,"Detected media playlist only HLS stream."),n.KVt(e),r.jVt?(n.ZVt=!0,[4,n.QVt(t)]):[3,3];case 2:u.sent(),u.label=3;case 3:return n.GVt=!0,[2]}}))}))()},i.JVt=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:if(!(u=e.Hyt.NVt(t)))throw new p("HLSModelUpdater - Could not load HLS playlist for rendition: the rendition does not exist on the internal model.");s={YBt:n,LFt:i,MD:cj(u)},o=mr(k.max(1,3*t.hLt.EFt)),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,e.$Vt(u,s,r,o)];case 2:return c.sent(),[3,4];case 3:throw Fo(a=c.sent()),e.tWt(u),a;case 4:return[2]}}))}))()},i.eWt=function(t,n){var i=this.Hyt.NVt(t);if(!i)throw new p("HLSModelUpdater - Could not load HLS playlist for rendition: the rendition does not exist on the internal model.");var r={YBt:void 0,LFt:void 0,MD:cj(i)},e=mr(k.max(1,3*t.hLt.EFt));return this.$Vt(i,r,n,e)},i.iWt=function(t,n){return this.sWt.has(t.IC)||this.sWt.set(t.IC,new Gc),Wo(this.sWt.get(t.IC).Ub,n)},i.tWt=function(t){this._o(new ij(t))},i.$Vt=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:u=t.hLt.BLt(n),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,e.YVt(u,n,0,e.ZVt,i,r)];case 2:return o=h.sent(),s=o.hLt,[3,4];case 3:throw Fo(a=h.sent()),t.hLt.PFt=Kn.Wg(),a;case 4:if(!Mz(s))throw new p("HLSModelUpdater - Could not load HLS playlist for rendition: the playlist is not a media playlist.");if(!e.nWt||t===e.nWt||e.nWt.hLt.TFt)return[3,8];h.label=5;case 5:return h.trys.push([5,7,,8]),[4,e.eWt(e.nWt,i)];case 6:return h.sent(),[3,8];case 7:return Fo(h.sent()),e.nWt=t,e.rWt(),[3,8];case 8:try{e.KVt(s,t)}catch(u){if(u instanceof DY&&void 0!==n.MD)return c=ns({},n,{MD:void 0}),[2,e.$Vt(t,c,i,r)];throw u}return e.nWt=t,[2]}}))}))()},i.YVt=function(t,n,i,r,e,u){var s=this;return Zt((function(){var o;return Ht(this,(function(a){switch(a.label){case 0:return gz.MN(rj,"Loading HLS playlist at "+t+"."),r?[4,s.oWt(t,e)]:[3,2];case 1:if(void 0!==(o=a.sent()))return[2,{hLt:o,jVt:!0}];a.label=2;case 2:return[4,s.hWt(t,n,i,e,u)];case 3:return[2,{hLt:a.sent(),jVt:!1}]}}))}))()},i.oWt=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,i.zut.drt([t])];case 1:return r=e.sent(),Vo(n),void 0!==r?[2,TY(r.responseURL,{},r.data)]:[3,3];case 2:return Fo(e.sent()),[3,3];case 3:return[2]}}))}))()},i.hWt=function(t,n,i,r,e){var u=this;return Zt((function(){var s,o;return Ht(this,(function(a){switch(a.label){case 0:return s={Xu:t,jk:Id.Tk,xE:u.mTt,AE:ol.GET,Tw:al.sE,Uw:r,SE:e},[4,mT((function(){return u.aWt(s)}),r,i)];case 1:return[2,TY((o=a.sent()).eE,n,o.Kk)]}}))}))()},i.aWt=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,n.fW.Qk(t)];case 1:return[4,(i=r.sent()).Ck()];case 2:return[2,{Kk:r.sent(),eE:i.eE}]}}))}))()},i.QVt=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:for(Vo(t),i=[],r=0,e=n.Hyt.GLt;r<e.length;r++)for(u=e[r],s=0,o=u.KLt;s<o.length;s++)a=o[s],i.push(n.uWt(a,t));return[4,et.all(i)];case 1:return c.sent(),[2]}}))}))()},i.uWt=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return e.trys.push([0,4,,5]),[4,i.zut.drt([t.hLt.Fyt])];case 1:return r=e.sent(),Vo(n),void 0===r||t.hLt.TFt?[3,3]:[4,i.eWt(t,n)];case 2:e.sent(),e.label=3;case 3:return[3,5];case 4:return Fo(e.sent()),[3,5];case 5:return[2]}}))}))()},i.rWt=function(){for(var t=0,n=this.Hyt.GLt;t<n.length;t++)for(var i=0,r=n[t].KLt;i<r.length;i++){var e=r[i];e!==this.nWt&&(void 0!==e.hLt.MOt&&(e.hLt.TFt?this.cWt(e):e.hLt.YFt()))}},i.cWt=function(t){if(0!==t.hLt.Mrt.length){if(!this.nWt)return this.nWt=t,void this.nWt.hLt.JFt(0,void 0);if(this.lWt(this.nWt),!this.lWt(t)&&void 0===t.hLt.MOt){var n=this.dWt(t,this.nWt);gz.VLt(rj,"Assuming global timeline offset of "+n+"s for rendition "+t.hLt.Fyt+"."),t.hLt.JFt(n,void 0)}}},i.dWt=function(t,n){if(sj(t)){var i=t.hLt.Mrt[0],r=n.hLt.Mrt[0];return gz.VLt(rj,"Synchronizing by start of VOD: "+r.WO+" vs "+i.WO),r.WO-i.HOt}var e=function(t,n){var i=t.length-1,r=n.length-1;for(;i>=0&&r>=0;){var e=t[i],u=n[r];if(e.dOt>u.dOt)i--;else if(e.dOt<u.dOt)r--;else if(e.aOt){if(u.aOt)return{segment:e,referenceSegment:u};r--}else i--}return}(t.hLt.Mrt,n.hLt.Mrt);if(void 0!==e){var u=e.segment,s=e.referenceSegment;return gz.VLt(rj,"Synchronizing by start of discontinuity #"+s.dOt+": "+s.WO+" vs "+u.WO),s.WO-u.HOt}var o=aj(t.hLt.Mrt);if(void 0!==o){var a=aj(n.hLt.Mrt);if(void 0!==a)return gz.VLt(rj,"Synchronizing by PDT:",a.cOt.toISOString()+" vs "+o.cOt.getTime()),a.WO-o.HOt-(a.cOt.getTime()-o.cOt.getTime())/1e3}var c,h=oj(n),f=oj(t),v=null!=(c=t.hLt.MOt)?c:0;return gz.VLt(rj,"Synchronizing by last segment:",h+" vs "+f),h-f+v},i.lWt=function(t){var n=this.Hyt.NVt(t);if(!n)return!1;if(sj(n))return!1;var i=function(t,n){return vo(t,(function(t){return void 0!==t.wit&&n.$Ft(t.dOt)}))}(n.hLt.Mrt,this.Hyt.LL);if(void 0===i)return!1;if(n.hLt.NFt===i.dOt)return!0;var r=this.Hyt.LL.aVt(i.wit,i)._F()-i.HOt;return gz.VLt(rj,"Synchronize by media timestamp: "+r+"s for rendition "+t.hLt.Fyt+"."),n.hLt.JFt(r,i.dOt),(void 0===this.nWt||void 0===this.nWt.hLt.NFt||this.nWt.hLt.NFt<i.dOt)&&(this.nWt=n),!0},i.KVt=function(t,n){var i;(this.Hyt.WOt(t,n),Mz(t)&&n)&&(this.zVt=n,this.cWt(n),this._o(new nj(n)),null==(i=this.sWt.get(n.IC))||i.Vb(),this.sWt.delete(n.IC));this._o(new rW)},i.fWt=function(t,n){for(var i=0,r=this.Hyt.GLt;i<r.length;i++){var e=r[i],u=ho(e.ZLt,(function(t){return t.hLt===n}));void 0!==u&&void 0!==t.dPt&&(u.Jrt=Gz(u.Jrt,t));var s=ho(e.HLt,(function(t){return t.hLt===n}));void 0!==s&&void 0!==t.cPt&&(s.Jrt=Gz(s.Jrt,t)),e.SOt||void 0===u&&void 0===s||(e.Jrt=Gz(e.Jrt,t))}},i._Wt=function(t,n){for(var i=0,r=this.Hyt.GLt;i<r.length;i++){var e=r[i],u=ho(e.ZLt,(function(t){return t.hLt===n}));void 0!==u&&void 0===t.dPt&&e.IOt(u);var s=ho(e.HLt,(function(t){return t.hLt===n}));void 0!==s&&void 0===t.cPt&&e.IOt(s)}},i.Xw=function(){this.Ro(),this.Hyt.Xw(),this.sWt.forEach((function(t){return t.jw()})),this.sWt.clear()},Nt(n,[{key:"UVt",get:function(){return this.GVt}},{key:"HVt",get:function(){return this.ZVt}},{key:"Er",get:function(){return this.Hyt}},{key:"XVt",get:function(){return this.zVt}}]),n}(ra);function sj(t){return t.hLt._Ot||t.hLt.mOt===Fz._Bt}function oj(t){var n=t.hLt.Mrt;return n[n.length-1].UO}function aj(t){return vo(t,(function(t){return void 0!==t.cOt}))}function cj(t){if(void 0!==t.hLt.WBt&&!t.hLt._Ot&&!(void 0===t.hLt.kFt||Kn.Wg()/1e3-t.hLt.kFt>=t.hLt.WBt/2))return t.hLt.UBt?NY.tFt:NY.$Ot}var hj=function(){function t(t,n){var i=this;this.mWt=function(t){i.GFt(t.gLt)},this.vEt=t,this.WB=n,this.zgt=new Hy,this.vEt.bn(ej.OVt,this.mWt)}return t.prototype.GFt=function(t){if(0!==t.hLt.fOt.length){this.vWt||(this.vWt=this.WB.OI(zy.eW,void 0,void 0,void 0,void 0,Tw.DATE_RANGE),this.zgt.tt(this.vWt));MY(this.vWt,t.hLt.fOt,(function(n){var i;return null!=(i=t.hLt.ROt(n))?i:NaN}))}},Nt(t,[{key:"nt",get:function(){return this.zgt}}]),t}();F(),Tt(),Rt();var fj=function(t){function n(){return t.call(this,tz.tLt)||this}return It(n,t),n}(sa);F(),Tt(),Dt(),F(),Tt(),Gt(),Dt(),qt(),F(),Tt(),Dt();var vj=function(){function t(t){this.Cot=t,this.Xbt=[],this.C2=void 0,this.Kgt=void 0}var n=t.prototype;return n.pWt=function(t){var n;return null==(n=this.wWt(t))?void 0:n.gLt},n.yWt=function(t){this.C2=t,this.bWt()},n.Sdt=function(t,n,i,r,e,u){this.Xbt.push({gLt:t,Zut:n,AWt:SA.gB(e,u),SWt:SA.gB(i,r)}),this.bWt()},n.wWt=function(t){return ho(this.Xbt,(function(n){return n.SWt.wr(t)}))},n.aut=function(t){return ho(this.Xbt,(function(n){return n.Zut===t}))},n.plt=function(t,n){return ho(this.Xbt,(function(i){return i.gLt===t&&jY(i.Zut,n)}))},n.a3=function(){var t=this.wR;t.V>0&&(this.Kgt=t.Tn(t.V-1))},n.bWt=function(){var t=this.Cot.wR;this.Xbt=this.Xbt.filter((function(n){return 0!==t.jn(n.SWt).V}))},Nt(t,[{key:"gWt",get:function(){return this.C2}},{key:"wR",get:function(){return sO(this.Cot.wR,this.Cot.w3)}},{key:"Mrt",get:function(){return this.Xbt}},{key:"$gt",get:function(){return this.Kgt}}]),t}(),dj=function(){function t(t,n,i,r,e){var u=this;this.RWt=void 0,this.GT=new Yo,this.xWt=SA.pB(),this.CWt=!1,this.FWt=function(t){u.RWt&&(t?YI(t)&&u.TWt?u.GWt.Oj(u.Cot.wR.vB)?u.RWt.Vb():u.RWt.Wb(t):Bo(t)?u.RWt.Vb():(u.CWt=!0,u.RWt.Wb(t)):u.RWt.Vb(),u.RWt=void 0)},this.Sp=t,this.OWt=i,this.Cot=n,this.Eat=r,this.GWt=e}var n=t.prototype;return n.PWt=function(){if(this.XIt)throw new p("Cannot perform new operation while BufferAppender is still busy")},n.Sot=function(t){this.Cot!==t&&(this.PWt(),this.Cot=t,this.Eat=new vj(t))},n.DWt=function(){return this.RWt?this.RWt.Ub:et.resolve()},n.NWt=function(t){var n=this.Eat.$gt;return void 0!==n&&this.MWt(t,n)},n.MWt=function(t,n){var i,r,e=k.min(t,n);return null!=(r=null==(i=this.Eat.wR.YL().iB(this.EWt)._B(e))?void 0:i.wr(n))&&r},n.LWt=function(t){return this.Eat.pWt(t)},n.jw=function(){this.GT.jw(),this.GT=new Yo},n.A2=function(t){var n=this;this.PWt(),this.RWt=new Gc;var i=function(i){n.OWt.BWt(t),n.FWt(i)};this.S2(t,this.GT.Uw).then(i,i)},n.S2=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return gz.VLt(yz,"Appending initializer",Uz(t.VWt.Fyt)),[4,i.Cot.A2(t,n)];case 1:return r.sent(),gz.VLt(yz,"Appended initializer",Uz(t.VWt.Fyt)),i.Eat.yWt(t),[2]}}))}))()},n.jlt=function(t){var n=this;this.PWt(),this.RWt=new Gc;var i=function(i){n.OWt.BWt(t),n.FWt(i)};this.WWt(t,this.GT.Uw).then(i,i)},n.WWt=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h,f,v,d,l,g,w,m,y,_,b,k,A,T,S;return Ht(this,(function(E){switch(E.label){case 0:if(void 0===(r=t.gLt).hLt.tBt)throw new p("MediaBufferWrapper - Cannot append HLSAsset to "+i.Sp+" MediaBuffer for a HLSRendition with an undefined targetDuration.");return e=i.Eat.wR.GL,u=i.Cot.wR,gz.VLt(yz,"Appending",Uz(t.VWt.Fyt)),[4,i.Cot.g2(t,n)];case 1:if(E.sent(),gz.VLt(yz,"Appended",Uz(t.VWt.Fyt),e,i.Eat.wR.GL),s=t.WO,o=s+t.ct,a=t.VWt,c=a.WO,f=a.WO+(null!=(h=a.ct)?h:0),i.Eat.Sdt(r,a,s,o,c,f),v=i.Cot.wR.iB(u),d=i.Eat.plt(r,a),i.Tw===qg.mE)if(d)i.UWt(d)?0===v.V?void 0===i.Eat.aut(a)&&(l=i.Cot.w3.jn(new SA([s,o])),i.xWt=i.xWt.tB(l)):(g=v.Sn(0),w=new SA([g,o]),i.xWt=i.xWt.iB(w),g>s&&(m=i.Cot.w3.jn(new SA([s,g])),i.xWt=i.xWt.tB(m))):(y=v.V>0&&v.Sn(0)<s?v.Sn(0):s,i.xWt=i.xWt.iB(new SA([y,o])));else if(0===v.V)_=i.Cot.w3.jn(new SA([s,o])),i.xWt=i.xWt.tB(_);else{if(t.VWt.LOt)return[2];k=v.Sn(0),A=null==(b=u._B(s))?void 0:b.Tn(0),k>(T=A&&A>s?A:s)&&(S=i.Cot.w3.jn(new SA([T,v.Sn(0)])),i.xWt=i.xWt.tB(S))}return t.VWt.OOt&&i.Eat.a3(),[2]}}))}))()},n.UWt=function(t){var n=t.SWt,i=n.Sn(0),r=n.Tn(n.V-1),e=n.ZL(0),u=n.zL(n.V-1);return this.xWt.nB(i,r,e,u)},Nt(t,[{key:"Tw",get:function(){return this.Sp}},{key:"TWt",get:function(){return Jg(this.Sp)}},{key:"kWt",get:function(){return this.Eat}},{key:"EWt",get:function(){return this.xWt}},{key:"XIt",get:function(){return void 0!==this.RWt}},{key:"IWt",get:function(){return this.CWt}}]),t}();F(),Tt(),Gt(),Dt(),Rt(),nn(),qt(),F(),Tt(),Gt(),qt();var lj=function(){function t(t,n,i){this.XWt=t,this.fW=n,this.mTt=i,this.zWt=void 0}var n=t.prototype;return n.HWt=function(t,n,i,r){var e=this;return Zt((function(){var u;return Ht(this,(function(s){switch(s.label){case 0:return[4,e.ZWt(n,r)];case 1:return u=s.sent(),[4,e.XWt.HWt(t,u,i)];case 2:return[2,s.sent()]}}))}))()},n.ZWt=function(t,n){var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return(null==(r=i.zWt)?void 0:r.Xu)===t?[3,3]:(gz.VLt("HLSDecryptor","Fetching new AES-128 decryption key from "+t+"."),[4,i.fW.Qk({Xu:t,jk:Id.bk,AE:ol.GET,Uw:n,Tw:al.oE,kE:cl._E,xE:i.mTt})]);case 1:return[4,s.sent().Dk()];case 2:e=s.sent(),u=new E(e),i.zWt={Xu:t,Kk:u},s.label=3;case 3:return[2,i.zWt.Kk]}}))}))()},t}();F(),Tt(),Gt(),qt();var gj=function(){function t(t,n,i,r,e){void 0===e&&(e=2),this.fW=t,this.zut=n,this.vut=i,this.mTt=r,this.Unt=e}var n=t.prototype;return n.Qk=function(t,n,i,r,e){var u=this;return Zt((function(){var s,o;return Ht(this,(function(a){switch(a.label){case 0:return[4,u.qWt(t,n,i,Id.bk,r,e)];case 1:return[4,(s=a.sent()).Dk(e)];case 2:return o=a.sent(),[2,{httpStatusCode:s.Yk,response:new E(o)}]}}))}))()},n.YWt=function(t,n,i,r,e){var u=this;return Zt((function(){return Ht(this,(function(s){switch(s.label){case 0:return[4,u.qWt(t,n,i,Id.Sk,r,e)];case 1:return[2,s.sent().Nk(e)]}}))}))()},n.qWt=function(t,n,i,r,e,u){var s=this;return Zt((function(){var o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:t._At&&0===(o=xz(t._At.Sn,t._At.V))[0]&&o[1]===er&&(o=void 0),a=o?{Range:"bytes="+o[0]+"-"+o[1]}:void 0,c=new vl({Xu:t.Mx,jk:r,Jk:a,xE:s.mTt,AE:ol.GET,Tw:n,kE:i,EE:s.vut,PE:r===Id.Sk,RE:e,Uw:u}),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,s.zut.grt(t.Mx,o)];case 2:return h=f.sent(),Vo(u),void 0!==h?(null==e||e(h.buffer.byteLength,h.buffer.byteLength),[2,new sl({Qk:c,jk:c.jk,Kk:h.buffer})]):[3,4];case 3:return Fo(f.sent()),[3,4];case 4:return[4,mT((function(){return Wo(s.fW.Qk(c),c.Uw)}),u,s.Unt)];case 5:return[2,f.sent()]}}))}))()},t}();F(),Tt(),Gt(),qt();var wj=function(){function t(t,n){this.iUt=void 0,this.rUt=new Yo,this.Pn=-1/0,this.JWt=void 0,this.sUt=!1,this.vEt=t,this.jWt=n,this.tUt()}var n=t.prototype;return n.KWt=function(){return this.jWt.hLt.VBt},n.QWt=function(t,n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){switch(s.label){case 0:if(!r.KWt())throw new p("Could not perform blocking playlist update.");return e=r.JWt,u={YBt:t,LFt:n},void 0!==e&&function(t,n,i){if(t.YBt===n.YBt){if(t.LFt===n.LFt)return!0;if(0===t.LFt&&void 0===n.LFt)return!0}if(t.YBt===n.YBt+1&&0===t.LFt&&void 0!==n.LFt){var r=i.aut(n.YBt);if(r&&r.Fyt&&n.LFt>=r.hOt.length)return!0}return!1}(e,u,r.jWt.hLt)?[3,2]:[4,r.$Wt()];case 1:s.sent(),r.tUt(u),s.label=2;case 2:return[2,r.vEt.iWt(r.jWt,i)]}}))}))()},n.eUt=function(t){return this.tUt(),this.vEt.iWt(this.jWt,t)},n.tUt=function(t){var n=this;if(!this.iUt&&!this.sUt){var i=function(){n.iUt=void 0};this.iUt=this.nUt(t,this.rUt.Uw).then(i,i)}},n.$Wt=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.iUt?(t.rUt.jw(),t.rUt=new Yo,[4,t.iUt.catch(bi)]):[3,2];case 1:n.sent(),t.iUt=void 0,n.label=2;case 2:return[2]}}))}))()},n.nUt=function(t,n){var i=this;return Zt((function(){var r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:r=t,o.label=1;case 1:if(Vo(n),i.jWt.hLt._Ot&&i.jWt.hLt.TFt)return[2];null!=r||(r=i.oUt()),i.JWt=r,o.label=2;case 2:return o.trys.push([2,9,,10]),r?[4,i.vEt.JVt(i.jWt,r.YBt,r.LFt,n)]:[3,4];case 3:return o.sent(),[3,8];case 4:return e=Kn.Wg()-i.Pn,u=1e3*i.jWt.hLt.EFt,e<u?[4,$o(u-e,n)]:[3,6];case 5:o.sent(),o.label=6;case 6:return[4,i.vEt.eWt(i.jWt,n)];case 7:o.sent(),o.label=8;case 8:return[3,10];case 9:throw s=o.sent(),i.JWt=void 0,Fo(s),i.vEt.tWt(i.jWt),s;case 10:return r=void 0,i.Pn=Kn.Wg(),[3,1];case 11:return[2]}}))}))()},n.oUt=function(){var t=this.jWt.hLt;if(t.VBt&&!t._Ot&&0!==t.Mrt.length){var n=t.Mrt[t.Mrt.length-1];return n.Fyt?{YBt:n.YBt+1,LFt:t.SFt?0:void 0}:{YBt:n.YBt,LFt:n.hOt.length}}},n.Xw=function(){this.sUt=!0,qo(this.$Wt())},t}();F(),Tt();var mj=function(t){return t[t.uBt=0]="uBt",t[t.cBt=1]="cBt",t[t.nE=2]="nE",t[t.rE=3]="rE",t}({});F(),Tt(),Gt(),qt(),F(),Tt(),Gt(),Dt(),qt();var yj="AssetExtractor",pj=function(){function t(){this.aUt=[]}var n=t.prototype;return n.hUt=function(t,n,i){for(var r=n,e=0,u=this.aUt;e<u.length;e++){var s=u[e];if(r>=t)return!0;if(r<s.Sn)return!1;if(r<s.Tn){if(i<=s.Tn)return!0;r=s.Tn}}return r>=t},n.uUt=function(t,n){for(var i=[],r=0;r<this.aUt.length;r+=1){var e=this.aUt[r],u=t-e.Sn,s=e.Kk.length,o=k.min(s,k.max(u,0)),a=k.max(0,n+u),c=Sc(e.Kk,o,a);c.length&&(r=this.cUt(r,e,t,o,a),i.push(c))}return i},n.lUt=function(t,n){this.aUt.push({Sn:t,Tn:t+n.length,Kk:n})},n.cUt=function(t,n,i,r,e){var u=t;this.aUt.splice(u,1),u-=1,n.Sn<i&&(u+=1,this.aUt.splice(u,0,{Sn:n.Sn,Tn:i,Kk:Sc(n.Kk,0,r)}));var s=i+e-r;return s<n.Tn&&(u+=1,this.aUt.splice(u,0,{Sn:s,Tn:n.Tn,Kk:Sc(n.Kk,e)})),u},t}(),_j=function(){function t(t,n){this.fUt=n,this.Od=t.getReader()}var n=t.prototype;return n._Ut=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return[4,t.Od.read()];case 1:if((n=i.sent()).done)throw t.fUt=1/0,new p("No more data can be read from the given stream.");return t.fUt+=n.value.length,[2,n.value]}}))}))()},n.vUt=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.Od.cancel(t)];case 1:return i.sent(),[2]}}))}))()},Nt(t,[{key:"dUt",get:function(){return this.fUt}}]),t}(),bj=function(){function t(t,n,i,r){this.SUt=new Gc,this.ZOt=t,this.Od=n,this.wUt=i,this.AUt=r,this.yUt=new Gc,this.gUt=new Gc}var n=t.prototype;return n.mUt=function(){this.gUt.Vb(),this.gUt=new Gc},n.pUt=function(t){var n=Aj(this.ZOt._At),i=n.vAt,r=n.mAt,e=this.wUt.uUt(i,r-i);gz.VLt(yj,"Collected "+e.length+" chunks.");for(var u=0;u<e.length;u++){var s=e[u];t.enqueue(s)}},n.readAndSliceOutAssetBytes=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c,h,f,v,d,l;return Ht(this,(function(g){switch(g.label){case 0:return[4,n.yUt.Ub];case 1:g.sent(),i=Aj(n.ZOt._At),r=i.vAt,e=i.mAt,g.label=2;case 2:g.trys.push([2,11,,12]),g.label=3;case 3:return u=n.Od.dUt,[4,n.Od._Ut()];case 4:return s=g.sent(),o=s.length,gz.VLt(yj,"Read "+o+" at "+u+" for extraction of "+Uz(n.ZOt)),a=k.min(u+o,r),(c=a-u)>0?(h=Sc(s,0,c),f=Sc(s,c),gz.VLt(yj,"Of the read "+o+" bytes, the first "+c+" will be stored locally for extraction of "+Uz(n.ZOt)),n.wUt.lUt(u,h),f.length>0?(gz.VLt(yj,"Extracting "+f.length+" bytes for extraction of "+Uz(n.ZOt)),t.enqueue(f),n.mUt(),[2,qo(n.readAndSliceOutAssetBytes(t))]):[3,9]):[3,5];case 5:return u+o<=e?(gz.VLt(yj,"Extracting the read data range for extraction of "+Uz(n.ZOt)),t.enqueue(s),n.mUt(),[2,qo(n.readAndSliceOutAssetBytes(t))]):[3,6];case 6:return d=Sc(s,0,v=e-u),l=Sc(s,v),d.length>0&&(gz.VLt(yj,"Extracting "+d.length+" bytes for extraction of "+Uz(n.ZOt)),t.enqueue(d)),gz.VLt(yj,"Of the read "+o+" bytes, the last "+l.length+" will be stored locally for extraction of "+Uz(n.ZOt)),n.wUt.lUt(u+v,l),gz.VLt(yj,"Extraction of "+Uz(n.ZOt)+" completed as the entire request has been fulfilled."),n.bUt(t),n.AUt?(gz.VLt(yj,"Aborting stream upstream as no more bytes are needed from "+Uz(n.ZOt)+"."),[4,n.Od.vUt("AssetExtraction - AbortOnEnd")]):[3,8];case 7:g.sent(),g.label=8;case 8:return[2];case 9:return[3,3];case 10:return[3,12];case 11:return g.sent(),gz.VLt(yj,"Extraction of "+Uz(n.ZOt)+" completed as the entire source stream has been read."),n.bUt(t),[3,12];case 12:return[2]}}))}))()},n.bUt=function(t){t.close(),this.mUt(),this.SUt.Vb()},n.start=function(t){gz.VLt(yj,"Preparing to push all collected data to controller for extraction of "+Uz(this.ZOt)),this.pUt(t),gz.VLt(yj,"Collected data pushed to controller for extraction of "+Uz(this.ZOt));var n=Aj(this.ZOt._At).mAt;this.Od.dUt>=n?(gz.VLt(yj,"Extraction of "+Uz(this.ZOt)+" completed as the entire request has been fulfilled."),this.bUt(t)):(gz.VLt(yj,"Continuing read from original stream for extraction of "+Uz(this.ZOt)),qo(this.readAndSliceOutAssetBytes(t)))},n.pull=function(){return this.yUt.Vb(),this.yUt=new Gc,this.gUt.Ub},Nt(t,[{key:"TUt",get:function(){return this.SUt.Ub}}]),t}(),kj=function(){function t(t,n){this.ZOt=n;var i=Aj(this.ZOt._At).vAt;this.kUt=new _j(t,i),this.wUt=new pj}var n=t.prototype;return n.EO=function(t){if(!Wz(this.ZOt,t))return!1;var n=Aj(t._At),i=n.vAt,r=n.mAt;return this.wUt.hUt(this.kUt.dUt,i,r)},n.cgt=function(t,n){void 0===n&&(n=!1);var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return r=i.kUt,e=i.wUt,gz.MN(yj,"Extracting data from "+Uz(t)+" out of "+Uz(i.ZOt)),i.EUt?(gz.VLt(yj,"Awaiting previous extraction before extracting "+Uz(t)+" out of "+Uz(i.ZOt)),[4,i.EUt]):[3,2];case 1:s.sent(),s.label=2;case 2:if(!i.EO(t))throw new p("The extractor does not contain the data requested");return u=new bj(t,r,e,n),i.EUt=u.TUt,[2,new Md(u)]}}))}))()},t}();function Aj(t){if(t){var n=t.Sn;return{vAt:n,mAt:void 0!==t.V?n+t.V:er}}return{vAt:0,mAt:er}}var Tj=function(){function t(t,n){this.ZOt=t,this.xUt=n,this.GT=new Yo,this.gpt=this.$n()}var n=t.prototype;return n.$n=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return[4,t.xUt.YWt(t.ZOt,al.rE,cl.iE,void 0,t.GT.Uw)];case 1:return n=i.sent(),[2,new kj(n,t.ZOt)]}}))}))()},n.EO=function(t){return Wz(this.ZOt,t)},n.cgt=function(t,n){void 0===n&&(n=!1);var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return[4,i.gpt];case 1:return[4,Wo(r.sent().cgt(t,n),i.GT.Uw)];case 2:return[2,r.sent()]}}))}))()},n.jw=function(){this.gpt.catch(bi),this.GT.jw()},t}();F(),Tt(),Rt();var Sj=function(t){function n(n){var i;return(i=t.call(this,Pj.RUt)||this).EE=n,i}return It(n,t),n}(sa);F(),Tt(),Rt();var Ej=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,Pj.IUt)||this).uri=n,a.CUt=i,a.EE=r,a.mediaSequenceNumeber=e,a.mediaTrackId=u,a.PUt=s,a.httpStatusCode=o,a}return It(n,t),n}(sa);function Ij(t,n,i){var r=zY(i)?i:i.VOt;if(n.$Ft(r.dOt)){if(void 0!==i.wit)return n.aVt(i.wit,i)._F();if(i!==r&&void 0!==r.wit){var e=n.aVt(r.wit,r)._F();return i.WO+(e-r.WO)}}var u=t.hLt.aut(r.YBt-1);if(void 0!==u&&n.$Ft(u.dOt)){if(u.hOt.length>0){var s=u.qOt(u.hOt.length-1);if(void 0!==s.wit){var o=n.aVt(s.wit,s)._F();return i.WO+(o-s.WO)}}if(void 0!==u.wit){var a=n.aVt(u.wit,u)._F();return i.WO+(a-u.WO)}}var c=t.hLt.aut(r.YBt+1);if(void 0!==c&&n.$Ft(c.dOt)){if(c.hOt.length>0){var h=c.qOt(0);if(void 0!==h.wit){var f=n.aVt(h.wit,h)._F();return i.WO+(f-h.WO)}}if(void 0!==c.wit){var v=n.aVt(c.wit,c)._F();return i.WO+(v-c.WO)}}return i.WO}function Rj(t){return void 0!==t.wit}function Cj(t,n,i,r){for(var e=n;e<t.length;e++){var u=t[e];if(u.dOt!==i)break;if(Rj(u))if(r(u,e))break}}function Nj(t,n,i,r){for(var e=n;e>=0;e--){var u=t[e];if(u.dOt!==i)break;if(Rj(u))if(r(u,e))break}}F(),Tt();var Dj="HlsPlaylistDownloader",Pj=function(t){return t.RUt="segmentdownloadprogress",t.IUt="segmentdownloaded",t}({}),xj=function(t){function n(n,i,r,e,u,s,o,a){var c;return(c=t.call(this)||this).MUt=void 0,c.FUt=void 0,c.mGt=void 0,c.gGt=0,c.pGt=0,c.wGt=0,c.yGt=0,c.UUt=new Yo,c.GUt=void 0,c.LUt=0,c.BUt=void 0,c.OUt=void 0,c.ZUt=void 0,c.HUt=void 0,c.QUt=function(t){c.MUt&&(c.jWt=c.MUt,c.MUt=void 0,c.LUt=0,c.BUt=void 0,c.OUt=void 0),c.FUt&&(t&&!Bo(t)?c.FUt.Wb(t):c.FUt.Vb(),c.FUt=void 0)},c.fGt=function(t,n){c.wGt=t,t>0&&0===c.gGt&&(c.gGt=Kn.Wg()),void 0!==n&&(c.yGt=n),c._o(new Sj(c.Sp))},c.Sp=n,c.vEt=r,c.OWt=e,c.jWt=i,c.NUt=new wj(r,i),c.vGt=new lj(o,u,a),c.xUt=new gj(u,s,function(t){switch(t){case Oz.mE:return hl.mE;case Oz.vE:return hl.vE;case Oz.JV:case Oz.aBt:return hl.Tk;default:return hl.iE}}(i.Tw),a),c}It(n,t);var i=n.prototype;return i.DUt=function(t){this.NUt.Xw(),this.NUt=new wj(this.vEt,t),this.XIt?this.MUt=t:(this.jWt=t,this.LUt=0,this.BUt=void 0,this.OUt=void 0)},i.DWt=function(){return this.FUt?this.FUt.Ub:et.resolve()},i.VUt=function(){return this.OWt.VUt()},i.WUt=function(t){this.OWt.WUt(t)},i.jw=function(){var t,n,i;this.UUt.jw(),this.UUt=new Yo,null==(t=this.GUt)||t.jw(),this.GUt=void 0,null==(n=this.HUt)||n.jw(),null==(i=this.ZUt)||i.jw(),this.HUt=void 0,this.ZUt=void 0,this.LUt=0,this.BUt=void 0,this.OUt=void 0},i.Xw=function(){this.NUt.Xw()},i.XUt=function(t){var n=this.jWt.hLt.BFt(t);if(!n)return!1;if(void 0!==this.BUt){var i=n.YBt===this.BUt;return void 0!==this.OUt?n.YOt(t)===n.qOt(this.OUt)&&i:i}return!1},i.zUt=function(t){var n;if(void 0===this.BUt||t<this.LUt-1e-6)n=this.qUt(t);else if(void 0!==(n=this.YUt(this.BUt,this.OUt))){var i=tn(n,2),r=i[0],e=i[1],u=Ij(this.jWt,this.vEt.Er.LL,null!=e?e:r),s=3*this.jWt.hLt.tBt;k.abs(u-t)>=s&&(n=this.qUt(t))}else if(this.jWt.hLt._Ot){if(this.jWt.hLt.aut(this.BUt).OOt&&void 0!==(n=this.qUt(t))&&n[0].YBt===this.BUt)return}if(n){this.LUt=t;var o=tn(n,2),a=o[0],c=o[1];return 0===(null==c?void 0:c.UOt)&&void 0!==a.ct?[a,void 0]:[a,c]}},i.qUt=function(t){var n,i,r=this.jWt.hLt.Mrt;if(0!==r.length){var e,u=this.vEt.Er.LL,s=hm.vV(t),o=function(t,n,i){var r=t.hLt.Mrt;if(0!==r.length){var e=t.hLt.OFt(i._F());if(n.$Ft(e.dOt)){var u,s,o,a=e.YBt-r[0].YBt,c=e.dOt,h=0;if(!(Nj(r,a,c,(function(t,n){return u=t,h=n,!0})),void 0===u&&(Cj(r,a+1,c,(function(t,n){return u=t,h=n,!0})),void 0===u)||(n.aVt(u.wit,u).wF(i)?(s=u,Cj(r,h+1,c,(function(t){return n.aVt(t.wit,t).vF(i)?(o=t,!0):(s=t,!1)}))):(o=u,Nj(r,h-1,c,(function(t){return n.aVt(t.wit,t).wF(i)?(s=t,!0):(o=t,!1)}))),void 0===s||void 0===o)))return[s,o]}}}(this.jWt,u,s);if(void 0!==o){var a=tn(o,2),c=a[0],h=a[1],f=u.aVt(c.wit,c),v=u.aVt(h.wit,h),d=s.kF(f)._F()/v.kF(f)._F()*(h.WO-c.WO);e=c.WO+d}else e=t;var l=r[r.length-1];return l.UO<=e?(n=l,i=l.jOt(e)):i=r[0].WO>e?(n=r[0]).qOt(0):null==(n=this.jWt.hLt.BFt(e))?void 0:n.jOt(e),n?[n,i]:void 0}},i.YUt=function(t,n){var i,r;if((i=this.jWt.hLt.aut(t))&&void 0!==n){if(0===i.hOt.length)return[i,void 0];r=i.qOt(n+1)}return void 0!==i&&void 0!==r||(r=null==(i=this.jWt.hLt.aut(t+1))?void 0:i.qOt(0)),i?[i,r]:void 0},i.PWt=function(){if(this.XIt)throw new p("Cannot perform new operation while PlaylistDownloader is still busy")},i.KUt=function(t){this.PWt(),this.FUt=new Gc,this.jUt(t,this.UUt.Uw).then(this.QUt,this.QUt)},i.JUt=function(){this.NUt.tUt()},i.jUt=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return i.jWt.hLt._Ot?[2]:(r=i.zUt(t))||!i.NUt.KWt()||void 0===i.BUt?[3,2]:[4,i.NUt.QWt(void 0===i.OUt?i.BUt+1:i.BUt,void 0!==i.OUt?i.OUt+1:void 0,n)];case 1:u.sent(),r=i.zUt(t),u.label=2;case 2:return r||!i.NUt.KWt()||void 0===i.BUt?[3,4]:[4,i.NUt.QWt(i.BUt+1,0,n)];case 3:u.sent(),r=i.zUt(t),u.label=4;case 4:return r?[3,6]:(gz.MN(Dj,"No next segment / part available, need to update playlist before continuing."),[4,i.NUt.eUt(n)]);case 5:return u.sent(),e=i.gLt.hLt.Mrt,e[0].WO>t&&(i.OUt=void 0,i.BUt=void 0),e[e.length-1].YBt<i.BUt&&(i.OUt=void 0,i.BUt=void 0),r=i.zUt(t),[3,4];case 6:return[2]}}))}))()},i.$Ut=function(){return this.OWt.tGt()},i.eGt=function(){this.PWt();try{var t=this.jWt.hLt.FFt(Bz.uBt);t&&this.iGt(t);var n=this.jWt.hLt.FFt(Bz.cBt);n&&this.sGt(n)}catch(t){throw Fo(t),this.jWt.hLt.PFt=Kn.Wg(),this.vEt.tWt(this.jWt),t}},i.iGt=function(t){this.ZUt&&!this.ZUt.EO(t.Fyt)&&(this.ZUt.jw(),this.ZUt=void 0),this.ZUt||(this.ZUt=new Tj(t.Fyt,this.xUt))},i.sGt=function(t){this.HUt&&!this.HUt.EO(t.Fyt)&&(this.HUt.jw(),this.HUt=void 0),this.HUt||(this.HUt=new Tj(t.Fyt,this.xUt))},i.hut=function(t,n,i){var r=this;this.PWt(),gz.MN(Dj,"Starting download of segment "+Uz(t.Fyt)+" and part "+(null==n?void 0:n.UOt)),this.FUt=new Gc,this.nGt(t,n,i,this.UUt.Uw).catch((function(t){throw Fo(t),r.jWt.hLt.PFt=Kn.Wg(),r.vEt.tWt(r.jWt),t})).then(this.QUt,this.QUt)},i.nGt=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:return t.uOt&&(i&&Zz(i.VWt.Fyt,null==(s=t.uOt)?void 0:s.Fyt)&&t.dOt===i.dOt||(null==(a=e.GUt)||a.jw(),e.GUt=new Gc,c=e.rGt(t.uOt,t,r).then((function(){e.GUt=void 0})),e.GUt.Qw(c)),u=null==(o=e.GUt)?void 0:o.Ub),[4,e.oGt(t,n,u,r)];case 1:return h.sent(),[2]}}))}))()},i.rGt=function(t,n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){switch(s.label){case 0:return[4,r.hGt(t,n,i)];case 1:return e=s.sent(),u=e.uOt.Kk.Kk.byteLength,r.OWt.aGt(e),r._o(new Ej(e.uOt.VWt.Fyt,e.Tw,r.Sp,n.YBt,e.gLt.IC,u,e.uOt.gct)),gz.VLt(yz,"Download initializer complete",Uz(t.Fyt)),[2]}}))}))()},i.oGt=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return[4,e.uGt(t,n,r)];case 1:return u=a.sent(),s=u.Zut.Kk.Kk.byteLength,i?[4,Wo(i,r)]:[3,3];case 2:a.sent(),a.label=3;case 3:return e.OWt.aGt(u),e._o(new Ej(u.Zut.VWt.Fyt,u.Tw,e.Sp,t.YBt,u.gLt.IC,s,u.Zut.gct)),gz.VLt(yz,"Download complete",Uz(null!=(o=null==n?void 0:n.Fyt)?o:t.Fyt)),[2]}}))}))()},i.uGt=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return n?r.HUt?r.HUt.EO(n.Fyt)?[4,r.HUt.cgt(n.Fyt)]:[3,4]:[3,5]:[3,8];case 1:return[4,Ud(a.sent(),i)];case 2:return u=a.sent(),s=new E(u),[4,r.HWt(s,n.nOt,i)];case 3:return o=a.sent(),e=Oj(n,o,200),[3,5];case 4:r.HUt.jw(),r.HUt=void 0,a.label=5;case 5:return e?[3,7]:(gz.VLt(yz,"Start download",Uz(n.Fyt)),[4,r.cGt(n,i)]);case 6:e=a.sent(),a.label=7;case 7:return[3,10];case 8:return gz.VLt(yz,"Start download",Uz(t.Fyt)),[4,r.cut(t,i)];case 9:e=a.sent(),a.label=10;case 10:return r.BUt=t.YBt,r.OUt=null==n?void 0:n.UOt,[2,{Tw:"Zut",Zut:e,gLt:r.jWt,dOt:t.dOt}]}}))}))()},i.hGt=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return r.ZUt?r.ZUt.EO(t.Fyt)?[4,Wo(r.ZUt.cgt(t.Fyt),i)]:[3,4]:[3,5];case 1:return[4,Ud(c.sent(),i)];case 2:return s=c.sent(),o=new E(s),[4,r.HWt(o,t.oOt?[t.oOt]:[],i)];case 3:a=c.sent(),e=Lj(t,n,a,200),c.label=4;case 4:gz.MN(Dj,"MAP is required for segment, downloading MAP data."),null==(u=r.ZUt)||u.jw(),r.ZUt=void 0,c.label=5;case 5:return e?[3,7]:(gz.VLt(yz,"Start download",Uz(t.Fyt)),[4,r.lGt(t,n,i)]);case 6:e=c.sent(),c.label=7;case 7:return[2,{Tw:"uOt",uOt:e,gLt:r.jWt,WO:n.WO,dOt:n.dOt,nOt:n.nOt}]}}))}))()},i.lGt=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return[4,r.xUt.Qk(t.Fyt,al.nE,cl.hE,void 0,i)];case 1:return e=c.sent(),u=e.response,s=e.httpStatusCode,o=t.oOt?[t.oOt]:[],[4,r.HWt(u,o,i)];case 2:return a=c.sent(),[2,Lj(t,n,a,s)]}}))}))()},i.cut=function(t,n){var i=this;return Zt((function(){var r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:if(!t.Fyt)throw new p("Internal error: attempted to download an incomplete segment");o.label=1;case 1:return o.trys.push([1,,3,4]),i.dGt(t),[4,i.xUt.Qk(t.Fyt,al.nE,cl.iE,i.fGt,n)];case 2:return u=o.sent(),r=u.response,e=u.httpStatusCode,[3,4];case 3:return i._Gt(),[7];case 4:return[4,i.HWt(r,t.nOt,n)];case 5:return s=o.sent(),[2,Mj(t,s,e)]}}))}))()},i.cGt=function(t,n){var i=this;return Zt((function(){var r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return o.trys.push([0,,2,3]),i.dGt(t),[4,i.xUt.Qk(t.Fyt,al.nE,cl.iE,i.fGt,n)];case 1:return u=o.sent(),r=u.response,e=u.httpStatusCode,[3,3];case 2:return i._Gt(),[7];case 3:return[4,i.HWt(r,t.nOt,n)];case 4:return s=o.sent(),[2,Oj(t,s,e)]}}))}))()},i.HWt=function(t,n,i){var r=this;return Zt((function(){var e;return Ht(this,(function(u){switch(u.label){case 0:return(e=ho(n,(function(t){return t.AE===Vz.lBt})))?e.Fyt&&e.LBt?[4,r.vGt.HWt(t,e.Fyt,e.LBt,i)]:(gz.lt(Dj,"Encountered an AES-128 encrypted segment for which no initialization vector could be determined."),[2,t]):[2,t];case 1:return[2,u.sent()]}}))}))()},i.dGt=function(t){var n,i,r;this.mGt=t,this.gGt=0,this.pGt=Kn.Wg(),this.wGt=0,this.yGt=null!=(r=null==(i=t.Fyt)||null==(n=i._At)?void 0:n.V)?r:0},i._Gt=function(){this.mGt=void 0,this.gGt=0,this.pGt=0,this.wGt=0,this.yGt=0},i.bGt=function(){if(void 0!==this.mGt)return{Zut:this.mGt,AGt:this.wGt,SGt:this.yGt,TGt:Kn.Wg()-this.pGt}},i.kGt=function(t){return void 0!==this.mGt&&(0!==this.gGt&&(!(this.yGt>0&&this.wGt>=this.yGt)&&!(t-this.gGt<500)))},Nt(n,[{key:"XIt",get:function(){return void 0!==this.FUt}},{key:"gLt",get:function(){var t;return null!=(t=this.MUt)?t:this.jWt}},{key:"mCt",get:function(){if(!this.jWt.hLt._Ot||void 0===this.BUt)return!1;var t=this.jWt.hLt.aut(this.BUt);if(!t.OOt)return!1;if(void 0!==this.OUt&&!t.qOt(this.OUt).OOt)return!1;return!0}}]),n}(ra);function Lj(t,n,i,r){return{Kk:{Kk:i,Tw:xR.iJ},Tw:mj.uBt,gct:r,VWt:t,dOt:n.dOt}}function Mj(t,n,i){return{Kk:{Kk:n,Tw:xR.iJ},Tw:mj.nE,gct:i,VWt:t,dOt:t.dOt}}function Oj(t,n,i){return{Kk:{Kk:n,Tw:xR.iJ},gct:i,Tw:mj.cBt,VWt:t,dOt:t.VOt.dOt}}F(),Tt(),Dt();var Bj=function(){function t(t){this.RGt=[],this.CGt=rs(),this.DGt=void 0,this.EGt=void 0,this.kVt=t}var n=t.prototype;return n.aGt=function(t){"uOt"===t.Tw&&(this.EGt=t.uOt),this.RGt.push(t),this.DGt&&(this.DGt.Vb(),this.DGt=void 0)},n.VUt=function(){return this.RGt[0]},n.WUt=function(t){wo(this.RGt,t)},n.tGt=function(){return null!=this.DGt||(this.DGt=new Gc),this.DGt.Ub},n.NGt=function(t){this.MGt(t.Cat).NGt(t)},n.LGt=function(t){return this.MGt(t).LGt()},n.BWt=function(t){this.MGt(t.Cat).BWt(t)},n.BGt=function(t){var n;null==(n=this.CGt.get(t))||n.Xw()},n.OGt=function(t){return this.MGt(t).OGt()},n.MGt=function(t){if(this.CGt.has(t))return this.CGt.get(t);var n=new Vj;return this.CGt.set(t,n),n},n.Fb=function(){this.FGt(),this.VGt()},n.FGt=function(){this.EGt=void 0,bo(this.RGt)},n.VGt=function(){this.CGt.forEach((function(t){return t.Fb()}))},n.Xw=function(){this.CGt.forEach((function(t){return t.Xw()})),this.CGt.clear(),this.Fb(),this.DGt&&(this.DGt.jw(),this.DGt=void 0)},Nt(t,[{key:"gWt",get:function(){return this.EGt}},{key:"xGt",get:function(){for(var t=[],n=0,i=this.RGt;n<i.length;n++){var r=i[n];if("Zut"===r.Tw){var e,u=r.Zut.VWt,s=Ij(r.gLt,this.kVt,u);t.push({Zut:u,gLt:r.gLt,WO:s,UO:s+(null!=(e=u.ct)?e:0)})}}return t}},{key:"IGt",get:function(){var t=[];return this.CGt.forEach((function(n){for(var i=0,r=n.PGt;i<r.length;i++){var e=r[i];"Zut"===e.Tw&&t.push({Zut:e.VWt,gLt:e.gLt,WO:e.WO,UO:e.WO+e.ct})}})),t}}]),t}(),Vj=function(){function t(){this.WGt=[],this.UGt=void 0}var n=t.prototype;return n.NGt=function(t){this.WGt.push(t),this.UGt&&(this.UGt.Vb(),this.UGt=void 0)},n.LGt=function(){return this.WGt[0]},n.BWt=function(t){wo(this.WGt,t)},n.OGt=function(){return null!=this.UGt||(this.UGt=new Gc),this.UGt.Ub},n.Fb=function(){bo(this.WGt)},n.Xw=function(){this.Fb(),this.UGt&&(this.UGt.jw(),this.UGt=void 0)},Nt(t,[{key:"PGt",get:function(){return this.WGt}}]),t}();F(),Tt(),Gt(),Dt(),qt();var Fj=1e-6,Uj=function(){function t(t,n){this.Pxt=SA.pB(),this.Dxt=SA.pB(),this.HGt=t,this.kVt=n}var n=t.prototype;return n.A2=function(t,n){var i=this;return Zt((function(){var r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return r=t.Kk.Kk,i.GGt(r),i.HGt.Tw!==Tw.TTML?[3,3]:i.kVt.$Ft(t.dOt)?[3,2]:[4,Wo(i.kVt.eVt(t.dOt),n)];case 1:o.sent(),o.label=2;case 2:for(e=i.ZGt(r,t.dOt),u=0;u<e.length;u++)s=e[u],i.HGt._W(s);o.label=3;case 3:return[2]}}))}))()},n.g2=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return void 0===t.Kk?[2]:(r=t.WO,e=r+t.ct,i.Pxt=i.Pxt.tB(SA.gB(r,e)).$L(Fj),i.A3(t.XGt,t.zGt),i.S3(r,e),i.kVt.$Ft(t.dOt)?[3,2]:[4,Wo(i.kVt.eVt(t.dOt),n)]);case 1:u.sent(),u.label=2;case 2:return i.b2(t.Kk.Kk,t.dOt,t.VWt),[2]}}))}))()},n.b2=function(t,n,i){var r;this.GGt(t),r=this.HGt.Tw===Tw.WEBVTT?this.qGt(t,i):this.ZGt(t,n);for(var e=0;e<r.length;e++){var u=r[e];this.HGt._W(u)}},n.qGt=function(t,n){for(var i,r=Em(t),e=r.L,u=null!=(i=r.VV)?i:{WV:hm.DF,mh:hm.DF},s=0;s<e.length;s++){var o=e[s],a=hm.vV(o.WO).kF(u.mh).kO(u.WV),c=this.kVt.aVt(a,n)._F(),h=c+(o.UO-o.WO);o.rF(c,h)}return e},n.ZGt=function(t,n){var i=this.kVt.hVt(n)._F();return Ey(t,this.HGt,{MV:0,LV:1/0,BV:i},Dv.APPLICATION_MP4)},n.GGt=function(t){this.HGt.Tw===Tw.DEFAULT&&(this.HGt.Tw=this.YGt(t)?Tw.WEBVTT:Tw.TTML)},n.YGt=function(t){return Fm(yc(_c(bc(t),0,k.min(t.byteLength,16)),new Rc))},n.A3=function(t,n){this.Dxt=this.Dxt.tB(SA.gB(t,n)).$L(Fj)},n.S3=function(t,n){this.Dxt=this.Dxt.iB(SA.gB(t,n))},Nt(t,[{key:"wR",get:function(){return this.Pxt}},{key:"w3",get:function(){return this.Dxt}}]),t}();F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Rt();var Wj=function(t){function n(n,i){var r;return(r=t.call(this,Hj.KGt)||this).gLt=n,r.Jrt=i,r}return It(n,t),n}(sa);F(),Tt(),Rt();var Zj=function(t){function n(n){var i;return(i=t.call(this,Hj.jGt)||this).gLt=n,i}return It(n,t),n}(sa);F(),Tt(),Rt();var Xj=function(t){function n(n,i){var r;return(r=t.call(this,Hj.QGt)||this).gLt=n,r.oft=i,r}return It(n,t),n}(sa);F(),Tt(),Rt();var Gj=function(t){function n(n,i){var r;return(r=t.call(this,Hj.JGt)||this).gLt=n,r.$Gt=i,r}return It(n,t),n}(sa),Hj=function(t){return t.KGt="tHt",t.QGt="eHt",t.JGt="iHt",t.jGt="sHt",t}({}),zj=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).hHt=void 0,e.GT=new Yo,e.OWt=n,e.kVt=i,e.rHt=r,e}It(n,t);var i=n.prototype;return i.oHt=function(t){for(var n=0,i=this.rHt;n<i.length;n++){var r=i[n];po(t,r)||this.OWt.BGt(r)}this.rHt=t},i.DWt=function(){var t,n;return null!=(n=null==(t=this.hHt)?void 0:t.Ub)?n:et.resolve()},i.PWt=function(){if(this.XIt)throw new p("Cannot perform new operation while transmuxer is still busy")},i.aHt=function(t,n){},i.uHt=function(t){var n=this;this.PWt(),this.hHt=new Gc;var i=function(i){n.cHt(t,i)};this.lHt(t,this.GT.Uw).then(i,i)},i.dHt=function(t){var n=this;this.PWt(),this.hHt=new Gc;var i=function(i){n.cHt(t,i)};this.fHt(t,this.GT.Uw).then(i,i)},i.cHt=function(t,n){this.hHt&&(!n||Bo(n)||function(t){return t instanceof KY}(n)?(Bo(n)||this.OWt.WUt(t),this.hHt.Vb(),this.hHt=void 0):this.hHt.Wb(n))},i._Ht=function(t,n){this._o(new Wj(t,n))},i.vHt=function(t,n){this._o(new Xj(t,n))},i.mHt=function(t,n,i){YY(n)&&this._o(new Gj(t,i))},i.gHt=function(t){this._o(new Zj(t))},i.NGt=function(t){po(this.rHt,t.Cat)&&this.OWt.NGt(t)},i.pHt=function(t){return this.OWt.LGt(t)},i.BWt=function(t){this.OWt.BWt(t)},i.wHt=function(t){return this.OWt.OGt(t)},i.jw=function(){this.GT.jw(),this.GT=new Yo},Nt(n,[{key:"nHt",get:function(){return this.rHt}},{key:"XIt",get:function(){return void 0!==this.hHt}}]),n}(ra);function Yj(t,n){return YY(t)?0:k.min(t.WO,n)}function jj(t,n){var i;return k.max(t.WO,n)+(null!=(i=t.ct)?i:0)}var Kj=function(t){function n(n,i,r){return t.call(this,n,i,[r])||this}It(n,t);var i=n.prototype;return i.lHt=function(t,n){Vo(n);var i={Tw:"RCt",Kk:t.uOt.Kk,Cat:this.nHt[0],dOt:t.dOt,yHt:{Jrt:"",nOt:t.nOt},WO:t.WO,gLt:t.gLt,VWt:t.uOt.VWt};return this.NGt(i),et.resolve()},i.fHt=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return Vo(n),void 0===(r=t.Zut.VWt).wit?[3,3]:i.kVt.$Ft(t.dOt)?[3,2]:[4,Wo(i.kVt.eVt(t.dOt),n)];case 1:c.sent(),c.label=2;case 2:return e=i.kVt.aVt(r.wit,r)._F(),[3,4];case 3:e=r.WO,c.label=4;case 4:return u=Yj(r,e),s=jj(r,u),a={Tw:"Zut",Kk:t.Zut.Kk,Cat:i.nHt[0],XGt:u,zGt:s,WO:e,ct:null!=(o=r.ct)?o:0,BV:0,dOt:t.dOt,gLt:t.gLt,VWt:t.Zut.VWt},i.NGt(a),[2]}}))}))()},n}(zj);function qj(t,n){for(var i=function(i){var e=t[i],u=e.WO;if(e.gLt.hLt._Ot&&YY(e.Zut))u=0;else{var s=function(t){return e.gLt===t.gLt&&jY(t.Zut,e.Zut)},o=ho(t,s);if(void 0!==o)u=k.min(u,o.UO);else{var a=ho(n,s);void 0!==a&&(u=k.min(u,a.SWt.Tn(0)))}}r=r.tB(SA.gB(u,e.UO))},r=SA.pB(),e=0;e<t.length;e++)i(e);return r}F(),Tt();var Jj=.001,Qj=function(){function t(t,n,i,r){this.SHt=t,this.EHt=n,this.THt=i,this.gZ=r,this.AHt=[]}var n=t.prototype;return n.DUt=function(t){this.SHt.DUt(t)},n.kHt=function(t){for(var n,i=function(t){var i=n.AHt[t];if(!i.TWt)throw new p("Invalid state");var e=lo(r,(function(t){return t.Tw===i.Tw}));e>=0&&!i.IWt?(i.Sot(r[e]),mo(r,e)):mo(n.AHt,t)},r=t.slice(),e=this.AHt.length-1;e>=0;e--)n=this,i(e);for(var u=0;u<r.length;u++){var s=r[u],o=new vj(s);this.AHt.push(new dj(s.Tw,s,this.EHt,o,this))}r.length>0&&this.EHt.Fb();var a=t.map((function(t){return t.Tw}));this.THt.oHt(a)},n.Oj=function(t){var n,i=(null==(n=this.gZ)?void 0:n.Oj(t))||!1;return i&&(this.jw(),this.EHt.Fb()),i},n.xHt=function(t){for(var n=0,i=this.AHt;n<i.length;n++){var r=i[n];if(r.Tw!==qg.Tk||r.XIt)throw new p("Invalid state")}var e=new vj(t),u=new dj(qg.Tk,t,this.EHt,e,this);this.AHt=[u]},n.rut=function(){for(var t=0,n=this.AHt;t<n.length;t++){n[t].kWt.bWt()}},n.zlt=function(t){var n=this.RHt._B(t,Jj);return n?n.Tn(n.V-1):t},n.XUt=function(t){return!!this.RHt._B(t,Jj)||this.SHt.XUt(t)},n.CHt=function(t){return this.IHt.wr(t,Jj)},n.PHt=function(t,n,i){for(var r=0,e=this.AHt;r<e.length;r++){var u=e[r].kWt,s=u.$gt;if(void 0!==s&&n>=s&&!u.wR.YL().wr(s))return!0}return n-t<i},n.jw=function(){this.DHt(),this.NHt()},n.DHt=function(){this.SHt.jw()},n.NHt=function(){this.THt.jw(),this.bHt.forEach((function(t){return t.jw()}))},n.Xw=function(){this.jw(),this.SHt.Xw()},Nt(t,[{key:"bHt",get:function(){return this.AHt}},{key:"gLt",get:function(){return this.SHt.gLt}},{key:"XIt",get:function(){return this.SHt.XIt||this.THt.XIt||this.AHt.some((function(t){return t.XIt}))}},{key:"gWt",get:function(){var t=this.EHt.gWt;if(t)return t;if(this.AHt.length>0){var n=this.AHt[0].kWt.gWt;if(n&&this.AHt.every((function(t){return t.kWt.gWt===n})))return n}}},{key:"RHt",get:function(){if(0===this.AHt.length)return SA.pB();for(var t=qj(this.EHt.xGt.concat(this.EHt.IGt),Ao(this.AHt,(function(t){return t.kWt.Mrt}))).YL(),n=new SA([0,1/0]),i=0,r=this.AHt;i<r.length;i++){var e=r[i];n=n.jn(e.kWt.wR)}for(var u=0,s=this.AHt;u<s.length;u++){var o=s[u];n=n.iB(o.EWt)}return(n=n.tB(t)).$L(Jj)}},{key:"IHt",get:function(){if(0===this.AHt.length)return SA.pB();for(var t=qj(this.EHt.IGt,Ao(this.AHt,(function(t){return t.kWt.Mrt}))).YL(),n=new SA([0,1/0]),i=0,r=this.AHt;i<r.length;i++){var e=r[i];n=n.jn(e.kWt.wR)}return n=n.tB(t)}}]),t}();F(),Tt(),Rt();var $j=function(t){function n(){return t.call(this,tz.sLt)||this}return It(n,t),n}(sa);F(),Tt(),Rt();var tK=function(t){function n(){return t.call(this,tz.eLt)||this}return It(n,t),n}(sa);F(),Tt(),Gt(),Dt(),qt(),F(),Tt(),Gt(),Dt(),Rt(),qt();var nK="LazyMediaBuffer",iK=function(t){function n(n,i){var r;return(r=t.call(this)||this).Sp=n,r.FHt=i,r.IT=void 0,r.Cot=void 0,r.BHt=new Gc,r.Pj=20,r.MHt=!1,r.Mj=30,r.y3=new XR,r}It(n,t);var i=n.prototype;return i.RJ=function(){return this.Cot?this.Cot.RJ():this.MHt},i.A3=function(t,n){gz.VLt(nK,"Marking gap from "+t+" to "+n+"."),this.y3.WJ(t,n),this.Cot&&this.Cot.A3(t,n)},i.S3=function(t,n){gz.VLt(nK,"Removing gap from "+t+" to "+n+"."),this.y3.UJ(t,n),this.Cot&&this.Cot.S3(t,n)},i.LHt=function(t){this.Cot=t,this.Cot.Ej=this.Mj,this.Cot.bj=this.Pj;for(var n,i=this.y3.FJ,r=0;r<i.V;r++)this.Cot.A3(i.Sn(r),i.Tn(r));this.MHt&&(gz.VLt(nK,"End of stream"),null==(n=this.Cot)||n.a3());this.Cot.bn(DR.tJ,this.Ds),this.BHt.Vb(t)},i.OHt=function(t){return Wo(this.BHt.Ub,t)},i.g2=function(t,n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return[4,r.OHt(i)];case 1:return[4,e.sent().g2(t,n,i)];case 2:return e.sent(),[2]}}))}))()},i.T3=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.OHt()];case 1:return[4,n.sent().T3()];case 2:return n.sent(),[2]}}))}))()},i.A2=function(t,n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return[4,r.OHt(i)];case 1:return[4,e.sent().A2(t,n,i)];case 2:return e.sent(),[2]}}))}))()},i.eT=function(t,n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return[4,r.OHt(i)];case 1:return[4,e.sent().eT(t,n,i)];case 2:return e.sent(),[2]}}))}))()},i.F2=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return[4,i.OHt()];case 1:return[4,r.sent().F2(t,n)];case 2:return r.sent(),[2]}}))}))()},i.a3=function(){this.MHt=!0,this.Cot&&this.Cot.a3()},i.dJ=function(t){return!!this.Cot&&this.Cot.dJ(t)},i._J=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.OHt()];case 1:return[4,i.sent()._J(t)];case 2:return i.sent(),[2]}}))}))()},i.yn=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){return t.Ro(),null==(n=t.Cot)||n.vn(DR.tJ,t.Ds),[2]}))}))()},Nt(n,[{key:"Mk",get:function(){return this.IT}},{key:"m3",get:function(){return this.Sp}},{key:"kd",get:function(){if(!this.Cot)throw new id(td.MEDIA_LOAD_ERROR,"Cannot get the configuration of an uninitialized MediaBuffer.");return this.Cot.kd}},{key:"bj",get:function(){return this.Pj},set:function(t){this.Pj=t,this.Cot&&(this.Cot.bj=t)}},{key:"wR",get:function(){return this.Cot?this.Cot.wR:SA.pB()}},{key:"w3",get:function(){return this.Cot?this.Cot.w3:this.y3.FJ}},{key:"Ej",get:function(){return this.Mj},set:function(t){this.Mj=t,this.Cot&&(this.Cot.Ej=t)}}]),n}(ra),rK="LazyMediaSource",eK=function(){function t(t,n,i){this.WB=t,this.VHt=void 0,this.WHt=void 0,this.zHt=new Gc,this.JG=void 0,this.XHt=!1,this.MA=NaN,this.mit=!1,this.UHt=0,this.GHt=1/0,this.HHt=!1,this.ZHt=!1,n&&(gz.VLt(rK,"Created lazy media buffer for audio."),this.VHt=new iK(qg.vE,this)),i&&(gz.VLt(rK,"Created lazy media buffer for video."),this.WHt=new iK(qg.mE,this))}var n=t.prototype;return n.d4=function(t){this.MA=t,this.JG&&this.JG.d4(t)},n.a3=function(){this.mit=!0,this.JG&&this.JG.a3()},n.J2=function(){this.mit=!1,this.JG&&this.JG.J2()},n.m4=function(t,n,i,r){this.UHt=t,this.GHt=n,this.HHt=Boolean(i),this.ZHt=Boolean(r),this.JG&&this.JG.m4(t,n,i,r)},n.dJ=function(t){return!this.JG||this.JG.dJ(t)},n._J=function(t){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:if(!n.dJ(t))throw new p("LazyMediaSource - Unable to reconfigure MediaSource.");return n.JG?[3,2]:(n.WB.p7(),[4,n.WB.$n(t)]);case 1:return e=u.sent(),S(n.MA)||e.d4(n.MA),n.mit&&e.a3(),e.m4(n.UHt,n.GHt,n.HHt,n.ZHt),gz.VLt(rK,"The MediaSource has been loaded."),n.XHt=!0,n.JG=e,null==(i=n.VHt)||i.LHt(n.JG.h4),null==(r=n.WHt)||r.LHt(n.JG.a4),n.zHt.Vb(e),n.WB.w7(),[3,4];case 2:return[4,n.JG._J(t)];case 3:u.sent(),u.label=4;case 4:return[2]}}))}))()},n.mJ=function(t){this.JG.mJ(t)},n.Xw=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.JG?[4,t.JG.Xw()]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))()},Nt(t,[{key:"kd",get:function(){return{Tw:mp.wW,g4:[],sH:[]}}},{key:"h4",get:function(){return this.VHt}},{key:"a4",get:function(){return this.WHt}},{key:"wR",get:function(){return this.JG?this.JG.wR:SA.pB()}},{key:"ct",get:function(){return this.JG?this.JG.ct:this.MA}},{key:"RJ",get:function(){return!!this.JG&&this.JG.RJ}},{key:"hI",get:function(){return this.JG?this.JG.hI:new SA([0,1/0])}}]),t}();function uK(t,n){return void 0===n&&(n=!1),function(i,r){void 0===r&&(r="*");var e,u,s,o=oK(i,"tag"),a=oK(null==r?"*":r,"range"),c=[],h=-1;for(;++h<a.length;)if(e=a[h].toLowerCase(),n||"*"!==e){for(u=-1,s=[];++u<o.length;)if(t(o[u].toLowerCase(),e)){if(!n)return o[u];c.push(o[u])}else s.push(o[u]);o=s}return n?c:void 0}}F(),Tt(),at();uK((function(t,n){return"*"===n||t===n||Vs(t,n+"-")}),!0),uK((function(t,n){var i=t.split("-"),r=n.split("-"),e=0,u=0;if("*"!==r[u]&&i[e]!==r[u])return!1;for(e++,u++;u<r.length;)if("*"!==r[u]){if(!i[e])return!1;if(i[e]!==r[u]){if(1===i[e].length)return!1;e++}else e++,u++}else u++;return!0}),!0);var sK=uK((function(t,n){for(var i,r=n;;){if("*"===r||t===r)return!0;if((i=r.lastIndexOf("-"))<0)return!1;"-"===r.charAt(i-2)&&(i-=2),r=r.slice(0,i)}}));function oK(t,n){var i=t&&"string"==typeof t?[t]:t;if(!i||"object"!==(void 0===i?"undefined":U(i))||!("length"in i))throw new p("Invalid "+n+" `"+i+"`, expected non-empty string");return i}F(),Tt(),Gt(),Dt(),qt(),F(),Tt();var aK=16384,cK=71,hK=188,fK=2,vK=3,dK=function(t){return t[t.iE=0]="iE",t[t.jC=1]="jC",t[t.qHt=2]="qHt",t[t.YHt=3]="YHt",t}({});function lK(t){return gK(t)?1:function(t){return function(t){if(t.length<fK*hK)return-1;for(var n=t.length<vK*hK?fK:vK,i=k.min(1e3,t.length-n*hK),r=0;r<=i;r++){for(var e=!0,u=0;u<n;u++)if(t[r+u*hK]!==cK){e=!1;break}if(e)return r}return-1}(t)>=0}(t)?2:function(t){return null!==ID(bc(t),new Rc)}(t)?3:0}function gK(t){var n=pc(t,0,k.min(t.length,aK));return gy.tN(bc(n))}var wK=function(){function t(t,n,i,r){this.Sp=t,this.Cot=n,this.spt=i,this.NDt=r}var n=t.prototype;return n.KHt=function(t){return this.Cot===t},n.A2=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return i.Cot.kd.Mk===t.yHt.Jrt?[3,3]:(r={Mk:t.yHt.Jrt},i.Cot.dJ(r)?[4,i.Cot._J(r)]:[3,2]);case 1:return e.sent(),Vo(n),[3,3];case 2:throw new KC(i.Cot.kd.Mk,t.yHt.Jrt);case 3:return[4,i.Cot.A2(t.Kk,{W1:t.gLt.IC},n)];case 4:return e.sent(),void 0!==i.NDt&&i.Sp===qg.mE&&gK(t.Kk.Kk)&&i.NDt.Got(t.Kk.Kk),[2]}}))}))()},n.g2=function(t,n){var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return Vo(n),gz.MN("HlsMediaBuffer","Got media data, appending to "+i.Sp+" MediaBuffer: "+Uz(t.VWt.Fyt)),r=t.XGt,e=t.zGt,u={wit:t.WO,ct:t.ct,BV:t.BV,W1:t.gLt.IC},void 0===t.Kk?[3,2]:[4,i.Cot.g2(t.Kk,u,n)];case 1:s.sent(),i.jHt(t.Kk,t),s.label=2;case 2:return i.QHt(r,e),[2]}}))}))()},n.jHt=function(t,n){var i;if(gK(t.Kk)){var r=n.WO,e=r+n.ct,u=n.BV;if(null==(i=this.spt)||i.Sdt(t.Kk,r,u),void 0!==this.NDt&&this.Sp===qg.mE){var s=n.VWt.OOt;this.NDt.Sdt(t.Kk,r,e,u,n.gLt,s)}var o=[];void 0!==this.spt&&o.push(this.spt),void 0!==this.NDt&&o.push(this.NDt),op(this.wR,o)}},n.QHt=function(t,n){for(var i=this.Cot.wR,r=new SA([t,n]).iB(i),e=0;e<r.V;e++)this.Cot.A3(r.Sn(e),r.Tn(e));for(var u=0;u<i.V;u++)this.Cot.S3(i.Sn(u),i.Tn(u))},n.A3=function(t,n){this.Cot.A3(t,n)},n.S3=function(t,n){this.Cot.S3(t,n)},Nt(t,[{key:"Tw",get:function(){return this.Sp}},{key:"wR",get:function(){return this.Cot.wR}},{key:"w3",get:function(){return this.Cot.w3}}]),t}();function mK(t){if(t.Tw===Oz.aBt&&void 0!==t.dLt){var n=t.dLt.match(/^CC([1-4])$/);if(n)return Number(n[1]);var i=t.dLt.match(/^SERVICE([\d+])$/);return i?Number(i[1]):void 0}}F(),Tt(),F(),Tt(),F(),Tt();var yK=function(){function t(t){this.JG=t}var n=t.prototype;return n.iBt=function(t){var n,i,r;return null==(r=null==(i=this.JG)||null==(n=i.a4)?void 0:n.dJ(t))||r},n.sBt=function(t){var n,i,r;return null==(r=null==(i=this.JG)||null==(n=i.h4)?void 0:n.dJ(t))||r},t}(),pK="LLHLSPlayer",_K=[yp.OL,yp.FL,yp.VL,yp.iC],bK=[oa.Yy,oa.Ey,oa.Ly,oa.Ny],kK=2e3,AK=function(t){function n(n,i,r,e,u,s,o,a){var c,h;return c=t.call(this)||this,h=c,c.gZ=r,c.pZ=e,c.XWt=u,c.LZt=s,c.tXt=es(),c.EZt=!0,c.kZt=!0,c.wZt=!1,c.vZt=void 0,c.JG=void 0,c.gpt=void 0,c.vW=new Yo,c.vEt=void 0,c.KZt=void 0,c.QZt=void 0,c.JZt=void 0,c.sZt=void 0,c.$Ht=void 0,c.JHt=void 0,c.lZt=void 0,c.qZt=void 0,c.gXt=[],c.u4=void 0,c.c4=void 0,c.IZt=void 0,c.eZt=void 0,c.eXt=void 0,c.MZt=void 0,c.pXt=new Yo,c.AZt=void 0,c.r8=new Yo,c.o8=void 0,c.uZt=-1,c.XXt=void 0,c.qXt=void 0,c.jXt=void 0,c.ZXt=void 0,c.zXt=void 0,c.KXt=void 0,c.LSt=!0,c.oXt=0,c.rXt=!1,c.QG=zT.$H,c.YG=void 0,c.KG=void 0,c.v4=SA.pB(),c._zt=[],c.mZt=void 0,c.gZt=void 0,c.cEt=!1,c.X9=!1,c.lxt=void 0,c.dxt=0,c.fxt=0,c.pZt=void 0,c.yZt=0,c.Zkt=!1,c.nzt=!1,c.PZt=MA.JB,c.iDt=void 0,c.vzt=void 0,c.Bkt=0,c.handleContentProtectionErrorEvent=function(t){c.YG=iw(t.errorObject),c.KG=t.errorObject,c.Ds(t)},c.handleBufferingErrorEvent=function(t){!function(t){return t instanceof KC}(t.lt)?c.BH(new id(td.MEDIA_LOAD_ERROR,t.lt.message,t.lt)):qo(c.CZt(c.DLt,c.MLt,c.lZt,{MI:!0}))},c.bxt=function(t){c.BH(rw(t.lt))},c.uzt=function(){c.HFt();var t=c.ct;t!==c.lxt&&(c.lxt=t,c._o(new fT(c.lxt)))},c.Ah=function(){c.PR&&c._o(new dT(c.ER))},c.sMt=function(){c._o(new cT(c.ER))},c.czt=function(){c.ckt(),c._o(new hT(c.ER))},c.XB=function(){void 0!==c.vzt&&(Kn.Ug(c.vzt),c.vzt=void 0),c._o(new Ip(c.ER))},c.lzt=function(){c._o(new FR(c.ER))},c.FW=function(){c._o(new _p(c.ER,c.rI))},c.S6=function(){var t=c.bLt;ko(c._zt,t)||(c._o(new fj),c._zt=t),c._o(new lg(c.ER,c.bR))},c.DXt=Ai((function(t){t.EE===qg.mE&&c.tZt()&&qo(c.iZt())}),200),c.NXt=function(t){var n;c.Bkt+=t.PUt;var i=c.rt.V>0?t.EE===qg.mE:t.EE===qg.vE;"Zut"===t.CUt&&i&&qo(c.aXt()),c._o(new OO(function(t){if(t){if(void 0!==t._At){var n,i,r=t._At.Sn+(null!=(i=t._At.V)?i:0);return{Xu:t.Mx,_ut:[null==(n=t._At)?void 0:n.Sn,r],xE:!0}}return{Xu:t.Mx.toString()||"",xE:!0}}return{Xu:"",xE:!0}}(t.uri),(null==(n=c.pLt)?void 0:n.bG)||0,t.mediaSequenceNumeber,t.mediaTrackId,t.EE,t.httpStatusCode,t.PUt))},c.Ge=function(){c._o(new lT(c.ER))},c.SH=function(){c._o(new gT(c.ER))},c.dzt=function(){c.sEt()},c.fzt=function(){c._o(new wT(c.ER,c.gI))},c.hzt=function(){c.WB.uI?c._o(new Tp(c.ER)):(null!=c.vzt||(c.vzt=Kn.Gg((function(){c.nzt&&(c.iDt=void 0,qo(c.rZt()))}),2500)),c.ckt(),c._o(new Tp(c.ER)))},c.azt=function(){c.nzt=!0,c._o(new Sp(c.ER,c.rI))},c.SZt=function(t){Bo(t)||Vl(t)||Fl(t)||(c.SXt(),qo(c.kXt()),c._o(new bz(t)))},c.mWt=function(){c.HFt()},c.DZt=function(t){qo(c.vXt(t.gLt,c.vW.Uw))},c.ewt=function(t){if(!Bo(t)){var n=t instanceof id?t:new id(td.MEDIA_DECODE_ERROR,t.message,t);c.BH(n)}},c.onTextTrackChange=function(t){if(c.sZt){var n=t.Ht,i=c.$Zt(n);i&&(n.CE===Vy.LC||n.CE===Vy.Qn?(qo(c._Xt(i)),c.tXt.forEach((function(t){t!==n&&(t.CE=Vy.Mh)}))):c.lZt&&c.lZt===i&&qo(c.CZt(c.$Ht,c.JHt,void 0)))}},c.retryOfflineRenditionsCallback=Zt((function(t,n){return Ht(this,(function(i){switch(i.label){case 0:return h.cZt!==t&&h.DLt!==t&&h.MLt!==t?[2]:[4,h.vEt.eWt(t,n)];case 1:return i.sent(),t.hLt.PFt=-1/0,[2]}}))})),c.wxt=function(){c.JTt()},c.yxt=function(){c.$Tt()},c.MXt=function(t){var n=c.sZt,i=null==n?void 0:n.SOt;if(c.vEt.fWt(t.Jrt,t.gLt.hLt),!i&&(c.vEt._Wt(t.Jrt,t.gLt.hLt),c.FZt.qLt(),n)){var r=void 0!==c.$Ht&&!po(n.HLt,c.$Ht),e=void 0!==c.JHt&&!po(n.ZLt,c.JHt);(r||e)&&c.CZt(r?void 0:c.$Ht,e?void 0:c.JHt,c.lZt).catch(bi)}},c.LXt=function(t){c.FZt.jLt(t.gLt,t.oft)},c.BXt=function(t){c.FZt.JLt(t.gLt,t.$Gt._F())},c.OXt=function(t){c.vEt.lWt(t.gLt)},c.zut=new kZ(o),c.WB=n,c.fW=i,c.iH=new _z(c.gZ.cj),c.dXt=new kz(c.WB),c.uXt=new Pz(c.gZ),c.edt=a.retryConfiguration,c.cO=new Kg,c.dO=new Kg,c.FZt=new pz(c,c.gZ,c.cO,c.dO),c.nXt=new Hy,c.dH=new hp(c.WB,c.fW),c.spt=new _Z(c.WB),c.NDt=new zV(c.WB),c.Hl=new Ik([c.nXt,c.dH.Z,c.spt.Z,c.NDt.Z,c.WB.nt]),c.hH=new Sk(c.fW),c.WB.wH=c.hH,c.mxt=new SK(c,c.WB),c.szt=new Cp(c.mxt,!0),c.ozt(),c}It(n,t);var i=n.prototype;return i.tZt=function(){if(void 0===this.eZt)return!1;var t=Kn.Wg();if(!this.eZt.SHt.kGt(t))return!1;var n=this.eZt.SHt.bGt();if(void 0===n||void 0===n.Zut.ct)return!1;var i=this.ER,r=this.QR,e=this.eZt.RHt._B(i);return!((void 0!==e?e.Tn(0)-i:0)>=2*n.Zut.ct*r)&&(n.AGt>0&&0===n.SGt?n.TGt>1e3*n.Zut.ct*.8:8*n.SGt/this.gZ.cj.bG>=1.8*n.Zut.ct)},i.iZt=function(){var t=this;return Zt((function(){var n,i,r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return[4,t.oBt()];case 1:return void 0===(i=a.sent())||void 0===(r=null==(n=t.eZt)?void 0:n.SHt.bGt())?[2]:(e=t.sZt,r.SGt>0&&(u=k.max(0,r.SGt-r.AGt),s=r.SGt*(i.bG/e.bG),u<=s)?[2]:(o=i.bG<e.bG,[4,t.SLt(i,{TLt:o})]));case 2:return a.sent(),[2]}}))}))()},i.nZt=function(t){return To(t,(function(t){return t.bG}))},i.rZt=function(){var t=this;return Zt((function(){var n,i,r;return Ht(this,(function(e){switch(e.label){case 0:return[4,t.oZt()];case 1:return 0===(n=e.sent()).length?[2]:[4,t.hZt(n)];case 2:return(i=e.sent()).length>0&&(n=i),void 0===(r=t.nZt(n))?[3,4]:[4,t.SLt(r,{TLt:!0})];case 3:e.sent(),t.iH.AIt(r.bG),e.label=4;case 4:return[2]}}))}))()},i.RR=function(t,n){var i,r,e,u,s=this;gz.MN(pK,"Seeking to "+t+" s.");var o={fZt:null!=(r=null==n?void 0:n.fZt)?r:t===1/0,_Zt:null==(e=null==n?void 0:n._Zt)||e,iOt:null!=(u=null==n?void 0:n.iOt)&&u};this.mZt=t,this.gZt=o,this.pZt=!0,this.cEt=!0,null==(i=this.ZG)||i.RI(),this._o(new lT(t)),this.r8.jw(),this.wZt&&(Kn.Ug(this.yZt),o._Zt?this.yZt=Kn.Gg((function(){return s.bZt(t,o)}),50):this.bZt(t,o))},i.bZt=function(t,n){Kn.Ug(this.yZt);var i=[this.gpt,this.AZt,this.o8].filter(Yn);this.r8=new Yo,this.r8.Qw(this.vW.Uw),this.o8=Zo(this.h8(i,t,n,this.r8.Uw),this.r8).catch(this.SZt)},i.HFt=function(){var t=function(t){if(0===t.length)return SA.pB();for(var n=new SA([0,1/0]),i=0,r=0;r<t.length;r++){var e=t[r].hLt.hI;e.V>0&&(n=n.jn(e),i=k.max(i,e.Sn(0)))}if(n.V>0)return n;return SA.mB(i)}([this.$Ht,this.JHt].filter(Yn));0!==t.V&&(this.JG&&this.aZt&&this.JG.ct!==1/0&&(t=new SA([t.Sn(0),this.JG.ct])),this.v4=t,this.kZt&&this.spt.nW(t.Sn(0)),this.EZt&&this.NDt.nW(t.Sn(0)))},i.II=function(){return!1},i.SI=function(){return this.WB.Sa},i.ja=function(){return this.WB.fH},i.OI=function(t){return this.WB._H(t)},i.be=function(){gz.MN(pK,"Hiding the player."),this.WB.be()},i.EI=function(){var t;gz.MN(pK,"Pausing the player."),this.WB.EI(),(null==(t=this.ZG)?void 0:t.wB)&&this.ZG.RI()},i.xI=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:return t.X9=!0,n=t.WB.xI(),t.PR&&(i=t.Mkt).V>0&&t.RR(i.Sn(0),{_Zt:!1}),t.wZt?[3,2]:[4,t.TZt()];case 1:r.sent(),r.label=2;case 2:return t.ckt(),[4,n];case 3:return r.sent(),t.lEt(),[2]}}))}))()},i.ckt=function(){var t;if(!this.Nkt())if(null==(t=this.pLt)?void 0:t.hLt._Ot){var n,i=!0,r=0,e=null==(n=this.sZt)?void 0:n.hLt.Sn;if(!this.cEt&&e&&(i=!e.iOt,(r=e.eOt)<0)){var u=this.pLt.hLt.fFt;r+=u.Tn(u.V-1)}this.bZt(r,{fZt:i})}else this.bZt(1/0,{fZt:!0});this.xZt()&&this.bZt(1/0,{fZt:!0})},i.Nkt=function(){var t,n=this.Mkt;if(0===n.V)return!0;var i=null==(t=this.RZt)?void 0:t.sB(this.ER);return(i&&i>0?this.RZt.Tn(i):this.ER)>=n.Sn(0)},i.xZt=function(){return xK(this.ER,this.$Ht)||xK(this.ER,this.JHt)},i.qEt=function(){this.YG=void 0,this.KG=void 0},i.BH=function(t){this.YG||(qo(this.nr()),this.YG=iw(t),this.KG=t,this._o(new yk(t)))},i.ge=function(){gz.MN(pK,"Showing the player."),this.WB.ge()},i.CI=function(){throw new p("Not implemented")},i.DI=function(){throw new p("Not implemented")},i.NI=function(){},i.MI=function(){this.wZt&&qo(this.CZt(this.$Ht,this.JHt,this.lZt,{MI:!0}))},i.Ca=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:e={stack:[],error:void 0,hasError:!1},f.label=1;case 1:return f.trys.push([1,4,5,6]),gz.MN(pK,"Setting the player source to "+t.src+"."),r.qEt(),!r.vZt||nT(r.vZt)?[3,3]:[4,r.nr()];case 2:f.sent(),Vo(i),f.label=3;case 3:return!t.src||nT(t)?[2]:(s=Yt(e,Yo.$w([i]),!1),r.vW=Yo.$w([s.Uw]),r.hH.kG(t.contentProtection),r.vZt=t,r.PZt=t.seamlessSwitchStrategy,r.EZt=!po(t.ignoreEmbeddedTextTrackTypes,Tw.CEA608),r.kZt=!po(t.ignoreEmbeddedTextTrackTypes,Tw.EMSG),r.bn(tz.rLt,r.handleBufferingErrorEvent),a=null!=(o=null==(u=t.latencyConfiguration)?void 0:u.targetOffset)?o:t.liveOffset,r.vEt=new uj(r.fW,r.zut,t.useCredentials,Kn.ew(t.src),a),r.vEt.bn(ej.OVt,r.mWt),r.vEt.bn(ej.FVt,r.DZt),r.vEt.bn(oa.Uy,r.Ds),r.vEt.bn(oa.Gy,r.Ds),t.hlsDateRange&&(r.NZt=new hj(r.vEt,r.WB),r.Hl.MG(r.NZt.nt)),null!=r.MZt||(r.MZt=r.LZt.Ait()),n.textTracks&&r.aH(n.textTracks),t.latencyConfiguration&&(c=t.latencyConfiguration,r.ZG=new AZ(r,r.WB,c),r.ZG.Rt=!0,r.yI.Aa(r.ZG)),gp(r.Hl),r.TZt(),s.Xw(),[3,6]);case 4:return h=f.sent(),e.error=h,e.hasError=!0,[3,6];case 5:return jt(e),[7];case 6:return[2]}}))}))()},i.TZt=function(){return this.gpt=this.BZt(this.gpt,this.vW.Uw).catch(this.ewt),this.gpt},i.BZt=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return t?[4,t]:[3,2];case 1:e.sent(),Vo(n),e.label=2;case 2:return i.vEt?(r=i.QG)===zT.JB||i.X9?[4,i.QE(n)]:[3,4]:[2];case 3:return e.sent(),[3,6];case 4:return r!==zT.eW?[3,6]:[4,i.OZt(n)];case 5:e.sent(),e.label=6;case 6:return[2]}}))}))()},i.OZt=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:if(void 0===n.vEt||n.Zkt)return[2];if(n.vEt.UVt)return[3,5];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,n.vEt.qVt(t)];case 2:return a.sent(),[3,4];case 3:throw Fo(i=a.sent()),n.qR=!1,new id(td.MANIFEST_LOAD_ERROR,"The provided HLS document could not be loaded - "+i.message,i);case 4:n.FZt.fft(),a.label=5;case 5:return[4,n.VZt()];case 6:return r=a.sent(),n.WZt(r),e=n.UZt(r.HLt),u=n.GZt(r.ZLt),(s=n.HZt(r.kOt))||(o=IK(r.EOt))&&(gz.MN(pK,"Detected initial closed caption rendition."),n.ZZt(r,o)),[4,n.CZt(e,u,s,{XZt:!0})];case 7:return a.sent(),n.Zkt=!0,n.mxt.Sxt(),n.zZt(),[2]}}))}))()},i.zZt=function(){var t,n=[this.$Ht,this.JHt].filter(Yn);if(!n.some((function(t){return t.hLt._Ot}))&&!this.ZG){var i=(t=k).max.apply(t,Ft(n.map((function(t){var n;return null!=(n=t.hLt.GSt)?n:0})))),r={minimumOffset:.66*i,maximumOffset:2*i,targetOffset:1*i,forceSeekOffset:3*i,minimumPlaybackRate:IA,maximumPlaybackRate:RA};this.ZG=new AZ(this,this.WB,r),this.pZ.Aa(this.ZG)}},i.VZt=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:if(t.qZt=t.vEt.Er.GLt,!t.qZt.length)throw new id(td.MANIFEST_LOAD_ERROR,"LLHLSPlayer - Could not select initial variant stream: the HLS stream contains no variant streams.");return[4,t.YZt(t.qZt)];case 1:if(0===(n=r.sent()).length)throw new id(td.MANIFEST_LOAD_ERROR,"LLHLSPlayer - Could not select initial variant stream: the HLS stream contains no variant stream with a supported codec.");return[4,t.hZt(n)];case 2:return(i=r.sent()).length>0&&(n=i),gz.MN(pK,"Selecting initial active variant stream."),[2,RK(n,t.vZt.abr,t.gZ,t.edt.maximumBackoff)]}}))}))()},i.UZt=function(t){if(this.KZt){var n=this.jZt(this.KZt);if(n)return n}return NK(t)},i.GZt=function(t){if(this.QZt){var n=this.jZt(this.QZt);if(n)return n}return NK(t)},i.HZt=function(t){for(var n=0,i=this.Hl.lC;n<i.length;n++){var r=i[n];r.CE===Vy.Qn&&(this.JZt=this.$Zt(r))}if(this.JZt){var e=this.jZt(this.JZt);if(e)return e}return IK(t)},i.$Zt=function(t){var n=this;return ho(this.sZt.kOt,(function(i){return t===n.tXt.get(i.IC)}))},i.QE=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.wZt?[2]:[4,n.OZt(t)];case 1:return i.sent(),Vo(t),n.wZt=!0,[4,n.CZt(n.$Ht,n.JHt,n.lZt,{XZt:!0})];case 2:return i.sent(),[2]}}))}))()},i.aH=function(t){for(var n=0;n<t.length;n++){var i=t[n];i.src&&this.dH.cW(i)}},i.ZZt=function(t,n){if(this.EZt){for(var i=function(t){for(var n=[],i=0;i<t.length;i++){var r=t[i],e=mK(r);void 0!==e&&n.push({jtt:e,Qtt:r.gs||"",Ch:r.l})}return n}(t.EOt),r=0;r<i.length;r++){var e=i[r];this.NDt.kgt(e)}if(void 0!==n){var u=mK(n);this.NDt.Sgt(u).CE=Vy.Qn}}},i.ALt=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(!this.iXt(i))throw new p("LLHLSPlayer - Could not set an allowed variant stream that does not exists in the internal HLS model.")}this.qZt=t},i.iXt=function(t){var n=this.Er;return!!n&&po(n.GLt,t)},i.jZt=function(t){if(t&&this.sZt)return ho(this.sZt.KLt,(function(n){return n===t}))},i.WZt=function(t){var n;if(gz.MN(pK,"Setting active variant stream."),this.sZt!==t){var i=(null==(n=this.sZt)?void 0:n.DBt)!==(null==t?void 0:t.DBt);if(this.sZt&&i)for(var r=0,e=this.sZt.kOt;r<e.length;r++){var u=e[r];this.mW(u)}if(this.sZt=t,this._o(new $j),this.sEt(),t&&i)for(var s=0,o=t.kOt;s<o.length;s++){var a=o[s];this.sXt(a)}}},i.sXt=function(t){var n=this.WB.OI(zy.JV,void 0,t.l,t.gs,t.aLt,void 0,void 0,t._Lt.map(dz).filter(Yn));n.bn(Tg.da,this.onTextTrackChange),this.tXt.set(t.IC,n),this.nXt.tt(n)},i.mW=function(t){var n=this.tXt.get(t.IC);n&&(n.vn(Tg.da,this.onTextTrackChange),this.nXt.it(n),this.tXt.delete(t.IC),this.WB.mW(n))},i.oZt=function(){var t=this;return Zt((function(){var n,i,r,e;return Ht(this,(function(u){switch(u.label){case 0:return 0!==(i=null!=(n=t.qZt)?n:t.Er.GLt).length||t.qZt?1!==i.length||t.qZt?[4,t.YZt(i)]:(gz.MN(pK,"The HLS stream contains only a single variant stream, skipping ABR selection."),[2,[]]):(gz.MN(pK,"The HLS stream does not contain any variant streams, skipping ABR selection."),[2,[]]);case 1:return 0===(r=u.sent()).length?(gz.WLt(pK,"LLHLSPlayer - No variant streams with supported codecs available to perform ABR selection on."),[2,[]]):0!==(e=DK(r,t.edt.maximumBackoff)).length?[3,3]:t.rXt?[2,[]]:(gz.WLt(pK,"LLHLSPlayer - No variant streams with online renditions available to perform ABR selection on."),t.oXt++,[4,t.hXt(r)]);case 2:return u.sent(),[2,[]];case 3:return[2,e]}}))}))()},i.aXt=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:return[4,t.oBt()];case 1:return void 0===(n=r.sent())?[2]:(i=!!t.sZt&&n.bG<t.sZt.bG,[4,t.SLt(n,{TLt:i})]);case 2:return r.sent(),[2]}}))}))()},i.oBt=function(){var t=this;return Zt((function(){var n,i,r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return[4,t.oZt()];case 1:return 0===(r=c.sent()).length?[2,void 0]:(e=OG(t.WB),[4,t.hZt(r)]);case 2:return u=c.sent(),s={ji:t.WB.ji,Ti:t.WB.Ti,eBt:e,Dlt:null==(i=t.vZt)||null==(n=i.abr)?void 0:n.restrictToPlayerSize},[4,t.uXt.oBt(r,t.sZt,u,s,new yK(t.JG))];case 3:return o=c.sent(),a=!!t.sZt&&o.bG<t.sZt.bG,[2,a||t.cXt(o,e)?o:void 0]}}))}))()},i.cXt=function(t,n){var i;if(t===this.pLt)return!1;var r=this.pLt&&PK(this.pLt,this.edt.maximumBackoff),e=PK(t,this.edt.maximumBackoff);if(!r&&e)return!0;(!this.iDt||this.iDt.wLt.bG>t.bG)&&(this.iDt={wLt:t,Zft:Kn.Wg()});var u,s=Kn.Wg()-this.iDt.Zft,o=null!=(u=null==(i=this.MLt)?void 0:i.hLt.tBt)?u:1/0;return n>=k.max(o-1,5)||s>1e3},i.hXt=function(t){var n=this;return Zt((function(){var i,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:n.rXt=!0,i=!1,r=0,s.label=1;case 1:if(!(r<t.length))return[3,6];e=t[r],s.label=2;case 2:return s.trys.push([2,4,,5]),void 0===(u=n.JHt?ho(e.ZLt,(function(t){return iz(t,n.JHt)})):void 0)?[3,5]:[4,n.eWt(u)];case 3:return s.sent(),u.hLt.PFt=-1/0,i=!0,[3,5];case 4:return s.sent(),[3,5];case 5:return r++,[3,1];case 6:return i?(n.oXt=0,[4,n.lXt()]):[3,8];case 7:return s.sent(),[3,10];case 8:return n.oXt>=n.edt.maxRetries?(n.BH(new id(td.MEDIA_LOAD_ERROR,"The provided video renditions could not be loaded.")),[2]):[4,$o(k.min(n.edt.minimumBackoff*k.pow(2,n.oXt-1),n.edt.maximumBackoff))];case 9:s.sent(),s.label=10;case 10:return n.rXt=!1,[4,n.aXt()];case 11:return s.sent(),[2]}}))}))()},i.YZt=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,Co(t,Zt((function(t){var i,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return 0===(u=[(null==(i=t.Jrt)?void 0:i.cPt)?'audio/mp4; codecs="'+t.Jrt.cPt+'"':void 0,(null==(r=t.Jrt)?void 0:r.dPt)?'video/mp4; codecs="'+t.Jrt.dPt+'"':void 0].filter(Yn)).length?[2,!0]:[4,n.dXt.MJ(u,null==(e=n.vZt)?void 0:e.useManagedMediaSource)];case 1:return[2,s.sent()]}}))})))];case 1:return(i=r.sent()).some((function(t){var n;return null==(n=t.Jrt)?void 0:n.dPt}))&&(i=i.filter((function(t){return!t.Jrt||t.Jrt.dPt||0!==t.ZLt.length}))),i.some((function(t){var n;return null==(n=t.Jrt)?void 0:n.cPt}))&&(i=i.filter((function(t){return!t.Jrt||t.Jrt.cPt||0!==t.HLt.length}))),[2,i]}}))}))()},i.hZt=function(t){var n=this;return this.vEt.HVt?Co(t,(function(t){return function(t,n){return Po.apply(this,arguments)}([NK(t.HLt),NK(t.ZLt),IK(t.kOt),IK(t.EOt)].filter(Yn),(function(t){return n.fXt(t)}))})):et.resolve([])},i.fXt=function(t){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:if(0===t.hLt.Mrt.length)return[2,!1];if(!(i=t.hLt.Mrt[0]).Fyt)return[2,!1];r=i.Fyt,e=r._At?xz(r._At.Sn,r._At.V):void 0,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,n.zut.vrt(r.Mx,e)];case 2:return[2,u.sent()];case 3:return u.sent(),[2,!1];case 4:return[2]}}))}))()},i.SLt=function(t,n){var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:if(!i.wZt)throw new p("LLHLSPlayer - The LLHLSPlayer is not loaded.");if(!t)throw new p("LLHLSPlayer - Cannot explicitly set the active variant stream to undefined.");if(!i.iXt(t))throw new p("LLHLSPlayer - Trying to set an active variant stream that does not exists on the internal model.");return t===i.sZt?(gz.MN(pK,"Trying to set the already active variant stream, ignoring."),[2]):(r=i.$Ht?ho(t.HLt,(function(t){return iz(t,i.$Ht)})):void 0,e=i.JHt?ho(t.ZLt,(function(t){return iz(t,i.JHt)})):void 0,u=i.lZt?ho(t.kOt,(function(t){return iz(t,i.lZt)})):void 0,i.WZt(t),i.iDt=void 0,[4,i.CZt(r,e,u,n)]);case 1:return s.sent(),[2]}}))}))()},i.NLt=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:if(!n.sZt)return n.KZt=t,[2];if(i=n.jZt(t),t&&!i)throw new p("LLHLSPlayer - Trying to set an invalid rendition as the active audio rendition.");return n.DLt===i?[2]:(r=Yn(i)!==Yn(n.$Ht),gz.MN(pK,"Switching audio rendition"),[4,n.CZt(i,n.JHt,n.lZt,{ELt:!0,TLt:r})]);case 1:return e.sent(),[2]}}))}))()},i.LLt=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:if(!n.sZt)return n.QZt=t,[2];if(i=n.jZt(t),t&&!i)throw new p("LLHLSPlayer - Trying to set an invalid rendition as the active video rendition.");return n.MLt===i?[2]:(r=Yn(i)!==Yn(n.JHt),gz.MN(pK,"Switching video rendition"),[4,n.CZt(n.$Ht,i,n.lZt,{kLt:!0,TLt:r})]);case 1:return e.sent(),[2]}}))}))()},i._Xt=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:if(!t)throw new p("LLHLSPlayer - Cannot explicitly set the active subtitle rendition to undefined.");if(!n.Zkt)return n.JZt=t,[2];if(!(i=n.jZt(t)))throw new p("LLHLSPlayer - Trying to set an invalid rendition as the active subtitle rendition.");return gz.MN(pK,"Switching subtitle rendition"),[4,n.CZt(n.$Ht,n.JHt,i)];case 1:return r.sent(),[2]}}))}))()},i.vXt=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return i.rXt?[2]:(r=0===i.rt.V,t.Tw===Oz.mE||t.Tw===Oz.vE&&r?[3,2]:[4,i.mXt(t,n)]);case 1:return e.sent(),[3,10];case 2:return i.qZt&&i.qZt.length<=1?t.Tw!==Oz.mE||i.JHt===t?[3,4]:[4,i.CZt(i.$Ht,t,i.lZt)]:[3,8];case 3:return e.sent(),[3,6];case 4:return t.Tw===Oz.vE&&r&&i.$Ht!==t?[4,i.CZt(t,i.JHt,i.lZt)]:[3,6];case 5:e.sent(),e.label=6;case 6:return[4,i.mXt(t,n)];case 7:return e.sent(),[3,10];case 8:return[4,i.aXt()];case 9:e.sent(),e.label=10;case 10:return[2]}}))}))()},i.eWt=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,5]),[4,i.vEt.eWt(t,n)];case 1:return e.sent(),[3,5];case 2:return Fo(r=e.sent()),Vl(r)||Fl(r)?[4,i.vXt(t,n)]:[3,4];case 3:e.sent(),e.label=4;case 4:throw r;case 5:return[2]}}))}))()},i.mXt=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:if(po(i.gXt,t))return[2];i.gXt.push(t),u.label=1;case 1:return u.trys.push([1,3,4,7]),r=t.Tw===Oz.JV||t.Tw===Oz.aBt?1/0:i.edt.maxRetries,[4,mT((function(){return i.retryOfflineRenditionsCallback(t,n)}),n,r,i.edt.minimumBackoff,i.edt.maximumBackoff)];case 2:return u.sent(),[3,7];case 3:return e=u.sent(),i.BH(new id(td.MEDIA_LOAD_ERROR,e.message,e)),[3,7];case 4:return wo(i.gXt,t),t.hLt.PFt!==-1/0?[3,6]:[4,i.lXt()];case 5:u.sent(),u.label=6;case 6:return[7];case 7:return[2]}}))}))()},i.CZt=function(t,n,i,r){void 0===r&&(r={});var e={TLt:r.TLt||!1,ELt:r.ELt||!1,kLt:r.kLt||!1,MI:r.MI||!1,XZt:r.XZt||!1};return e.XZt||e.MI||this.$Ht!==t||this.JHt!==n||this.lZt!==i?void 0===t&&void 0===n?et.reject(new p("Trying to buffer no media renditions.")):(this.$Ht=t,this.JHt=n,this.lZt=i,this.HFt(),this._o(new tK),this.r8.jw(),this.r8=new Yo,this.r8.Qw(this.vW.Uw),this.pXt.jw(),this.pXt=new Yo,this.pXt.Qw(this.vW.Uw),this.AZt=Zo(this.wXt([this.AZt,this.o8].filter(Yn),t,n,i,e,this.pXt.Uw),this.pXt).catch(this.SZt),this.AZt):et.resolve()},i.yXt=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a;return Ht(this,(function(c){return(o=[]).push(e.bXt(n,r)),rz(t,n)||o.push(e.bXt(t,r)),(null==(s=e.vZt)||null==(u=s.hls)?void 0:u.delaySubtitlePreload)?[2,et.all(o).then((function(){return e.bXt(i,r)}))]:(a=e.bXt(i,r),[2,et.all(Ft(o).concat([a]))])}))}))()},i.bXt=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:if(!t)return[2];e.label=1;case 1:return e.trys.push([1,3,,6]),[4,i.vEt.eWt(t,n)];case 2:return e.sent(),[3,6];case 3:return Fo(r=e.sent()),Vl(r)||Fl(r)?[4,i.AXt(t,n)]:[3,5];case 4:e.sent(),e.label=5;case 5:return[3,6];case 6:return[2]}}))}))()},i.AXt=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return i.rXt?[2]:(r=0===i.rt.V,t.Tw===Oz.mE||t.Tw===Oz.vE&&r?[3,2]:[4,i.mXt(t,n)]);case 1:return a.sent(),[3,7];case 2:return i.qZt&&i.qZt.length<=1?[4,i.mXt(t,n)]:[3,4];case 3:return a.sent(),[3,7];case 4:return[4,i.VZt()];case 5:return e=a.sent(),i.WZt(e),u=i.UZt(e.HLt),s=i.GZt(e.ZLt),o=i.HZt(e.kOt),[4,i.CZt(u,s,o)];case 6:a.sent(),a.label=7;case 7:return[2]}}))}))()},i.wXt=function(t,n,i,r,e,u){var s=this;return Zt((function(){var o,a,c,h,f,v,d,l;return Ht(this,(function(g){switch(g.label){case 0:return s.wZt?[3,2]:[4,s.yXt(n,i,r,u)];case 1:return g.sent(),[2];case 2:return[4,et.all(t.map((function(t){return t.catch(bi)})))];case 3:return g.sent(),s.SXt(),[4,s.TXt(u)];case 4:return g.sent(),[4,s.kXt()];case 5:return g.sent(),a=[],e.ELt&&s.JG&&s.JG.h4&&a.push(s.JG.h4.eT(0,1/0)),e.kLt&&s.JG&&s.JG.a4&&a.push(s.JG.a4.eT(0,1/0)),[4,et.all(a)];case 6:return g.sent(),Vo(u),[4,s.EXt(n,i,e.MI,u)];case 7:c=g.sent(),s.xXt(n,i,e.TLt||c),s.RXt(r,e.TLt),Vo(u),h=[i,rz(n,i)?void 0:n,r].filter(Yn),g.label=8;case 8:return g.trys.push([8,10,,11]),[4,et.all(h.filter((function(t){return!t.hLt.TFt})).map((function(t){var n;return null==(n=s.vEt)?void 0:n.iWt(t,u)})))];case 9:return g.sent(),[3,11];case 10:return Fo(g.sent()),[3,11];case 11:return Vo(u),s._4(),s.HFt(),void 0!==s.mZt?s.bZt(s.mZt,s.gZt):!s.cEt&&(null==(o=s.sZt)?void 0:o.hLt.Sn)?(f=s.sZt.hLt,v=f.Sn,d=v.eOt,v.eOt<0&&(l=f.fFt,d+=l.Tn(l.V-1)),s.bZt(d,{fZt:!v.iOt})):!s.cEt&&h.every((function(t){return!t.hLt._Ot}))?s.bZt(1/0,{fZt:!0}):s.dZt.length>0&&s.IXt(),[2]}}))}))()},i.EXt=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a,c,h,f,v,d,l;return Ht(this,(function(g){switch(g.label){case 0:return o=void 0!==t&&t!==n,a=void 0!==n,[4,e.CXt(t,n,e.sZt)];case 1:return c=g.sent(),Vo(r),i||!e.JG||c?(h=void 0!==(null==(u=e.JG)?void 0:u.h4),f=void 0!==(null==(s=e.JG)?void 0:s.a4),v=o!==h||a!==f,!i&&!v&&c&&e.JG&&e.JG.dJ(c)?[4,e.TXt(r)]:[3,4]):[2,!1];case 2:return g.sent(),[4,e.JG._J(c)];case 3:return g.sent(),[2,!0];case 4:for(d=0,l=e.dZt;d<l.length;d++)l[d].bHt.forEach((function(t){return t.jw()}));e.WB.p7(),g.label=5;case 5:return g.trys.push([5,,9,10]),e.JG?[4,e.WB.nr()]:[3,7];case 6:g.sent(),g.label=7;case 7:return[4,e.PXt(c,o,a)];case 8:return e.JG=g.sent(),[3,10];case 9:return e.WB.w7(),[7];case 10:return[2,!0]}}))}))()},i.CXt=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h,f,v,d,l,g,w,m,y,p,_,b;return Ht(this,(function(k){switch(k.label){case 0:if(s=i.Jrt,o=[],void 0!==t){if(!(h=null!=(c=null==(a=t.Jrt)?void 0:a.cPt)?c:null==s?void 0:s.cPt))return[2,void 0];f='audio/mp4; codecs="'+h+'"',gz.MN(pK,"Configuring MediaSource for initial audio rendition with codec: "+f+"."),o.push(f)}if(void 0!==n){if(!(l=null!=(d=null==(v=n.Jrt)?void 0:v.dPt)?d:null==s?void 0:s.dPt))return[2,void 0];g='video/mp4; codecs="'+l+'"',gz.MN(pK,"Configuring MediaSource for initial video rendition with codec: "+g+"."),o.push(g)}return 0===o.length?(gz.WLt(pK,"No codecs found on the active variant stream."),[2,void 0]):(m=null!=(w=null==n||null==(e=n.hLt.Mrt[0])?void 0:e.nOt)?w:[],p=null!=(y=null==t||null==(u=t.hLt.Mrt[0])?void 0:u.nOt)?y:[],_=r.vEt.Er,[4,Hz(r.vZt.contentProtection,o,_.AVt.concat(p).concat(m),r.fW,r.vZt.useCredentials)]);case 1:return b=k.sent(),[2,{Tw:mp.wW,g4:o.map((function(t){return{Mk:t}})),sH:b,C4:r.vZt.useManagedMediaSource}]}}))}))()},i.PXt=function(t,n,i){var r=this;return Zt((function(){var e;return Ht(this,(function(u){switch(u.label){case 0:return t?[4,r.WB.$n(t)]:[3,2];case 1:return e=u.sent(),[3,3];case 2:e=new eK(r.WB,n,i),u.label=3;case 3:return r.JG=e,r._4(),r.JTt(),r.$Tt(),[2,e]}}))}))()},i._4=function(){var t=this.JG;if(t&&S(t.ct)){var n,i,r,e=null!=(r=null==(n=this.$Ht)?void 0:n.hLt.ct)?r:null==(i=this.JHt)?void 0:i.hLt.ct;void 0!==e&&e>0&&t.d4(e)}this.HFt()},i.JTt=function(){var t=this.JG;t&&(t.a4&&(t.a4.bj=this.gZ.Dj),t.h4&&(t.h4.bj=this.gZ.Dj))},i.$Tt=function(){var t=this.JG;t&&(t.a4&&(t.a4.Ej=this.gZ.Ej),t.h4&&(t.h4.Ej=this.gZ.Ej))},i.xXt=function(t,n,i){if(!this.JG)throw new p("Invalid state");this.JG.h4?this.u4&&this.u4.KHt(this.JG.h4)||(this.u4=new wK(qg.vE,this.JG.h4,this.kZt?this.spt:void 0,this.EZt?this.NDt:void 0)):this.u4=void 0,this.JG.a4?this.c4&&this.c4.KHt(this.JG.a4)||(this.c4=new wK(qg.mE,this.JG.a4,this.kZt?this.spt:void 0,this.EZt?this.NDt:void 0)):this.c4=void 0;var r,e=rz(t,n);if(this.c4&&n){var u=e&&this.u4?[this.c4,this.u4]:[this.c4];this.eZt?(i&&(this.eZt.jw(),this.eZt.EHt.Fb()),this.eZt.gLt!==n&&this.eZt.DUt(n)):(this.eZt=function(t,n,i,r,e,u,s,o,a,c){var h=r.Er.LL,f=new Bj(h),v=new xj(qg.mE,t,r,f,e,u,s,c),d=n.map((function(t){return t.Tw})),l=o.kTt(f,r.Er.LL,d),g=new Qj(v,f,l,a);return g.kHt(n),g}(n,u,this.WB,this.vEt,this.fW,this.zut,this.XWt,this.MZt,this.gZ,this.vZt.useCredentials),this.eZt.SHt.bn(Pj.RUt,this.DXt),this.eZt.SHt.bn(Pj.IUt,this.NXt),this.eZt.THt.bn(Hj.KGt,this.MXt),this.eZt.THt.bn(Hj.QGt,this.LXt),this.eZt.THt.bn(Hj.JGt,this.BXt),this.eZt.THt.bn(Hj.jGt,this.OXt)),this.eZt.kHt(u)}else{var s;null==(s=this.eZt)||s.Xw(),this.eZt=void 0}this.u4&&t&&!e?(this.IZt?(i&&(this.IZt.jw(),this.IZt.EHt.Fb()),this.IZt.gLt!==t&&this.IZt.DUt(t)):(this.IZt=function(t,n,i,r,e,u,s,o,a,c){var h=r.Er.LL,f=new Bj(h),v=new xj(qg.vE,t,r,f,e,u,s,c),d=o.kTt(f,r.Er.LL,[n.Tw]),l=new Qj(v,f,d,a);return l.kHt([n]),l}(t,this.u4,this.WB,this.vEt,this.fW,this.zut,this.XWt,this.MZt,this.gZ,this.vZt.useCredentials),this.IZt.SHt.bn(Pj.IUt,this.NXt),this.IZt.THt.bn(Hj.KGt,this.MXt),this.IZt.THt.bn(Hj.jGt,this.OXt)),this.IZt.kHt([this.u4])):(null==(r=this.IZt)||r.Xw(),this.IZt=void 0);this.FXt()},i.RXt=function(t,n){this.eXt&&(this.eXt.SHt.gLt===t?n&&(this.eXt.jw(),this.eXt.EHt.Fb()):(this.eXt.Xw(),this.eXt=void 0));if(!this.eXt&&t){var i=this.tXt.get(t.IC);i.CE=Vy.Qn,this.eXt=function(t,n,i,r,e,u,s){var o=i.Er.LL,a=new Uj(n,o),c=new Bj(o),h=new xj(qg.Tk,t,i,c,r,e,u,s),f=new Kj(c,o,qg.Tk),v=new Qj(h,c,f);return v.xHt(a),v}(t,i,this.vEt,this.fW,this.zut,this.XWt,this.vZt.useCredentials)}},i.FXt=function(){var t=[this.u4,this.c4].filter(Yn).map((function(t){return t.Tw}));this.vEt.Er.LL.yVt(t)},i.h8=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return[4,et.all(t.map((function(t){return t.catch(bi)})))];case 1:return c.sent(),Vo(r),[4,e.kXt()];case 2:return c.sent(),Vo(r),e.mZt=void 0,e.pZt=void 0,e.cEt=!0,i.iOt?(s=[e.$Ht,e.JHt].filter(Yn),u=EK(s)):u=e.Mkt,o=u.KL(n),a=e.WB.py(oa.Qy,r),e.WB.Rb(o,i.fZt),e.wZt&&e.dZt.length>0&&(e.vEt.Er.LL.bVt(),e.VXt(e.WB.ER),e.IXt()),[4,a];case 3:return c.sent(),e.lEt(),[2]}}))}))()},i.lEt=function(){var t=this.KB;if(!this.KR&&!this.uI&&void 0!==t){var n,i,r=this.ER;if(t+this.ER-this.yI.kd.maximumOffset<r)null==(n=this.ZG)||n.Sn();else null==(i=this.ZG)||i.RI()}},i.VXt=function(t){for(var n=0,i=this.dZt;n<i.length;n++){var r=i[n];r.XUt(t)||(r.DHt(),r.EHt.FGt()),r.CHt(t)||(r.NHt(),r.EHt.VGt())}},i.SXt=function(){for(var t=0,n=this.dZt;t<n.length;t++){n[t].jw()}},i.kXt=function(){return et.all([this.VDt(),this.WXt(),this.UXt()])},i.IXt=function(){this.FDt(),this.GXt(),this.HXt()},i.lXt=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.wZt&&t.dZt.length>0?(t.dZt.forEach((function(t){return t.DHt()})),[4,t.VDt()]):[3,2];case 1:n.sent(),t.FDt(),t.dZt.forEach((function(t){return t.SHt.JUt()})),n.label=2;case 2:return[2]}}))}))()},i.FDt=function(){var t=this;if(!this.ZXt){var n=function(){t.ZXt=void 0};this.XXt=new Yo,this.XXt.Qw(this.vW.Uw),this.ZXt=Zo(this.tNt(this.XXt.Uw),this.XXt).catch(this.SZt).then(n,n)}},i.VDt=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:return null==(n=t.XXt)||n.jw(),i=t.ZXt,t.ZXt=void 0,i?[4,i]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))()},i.tNt=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c,h,f,v,d,l,g,w,m,y;return Ht(this,(function(p){switch(p.label){case 0:Vo(t),i=n.dZt,p.label=1;case 1:0,r={stack:[],error:void 0,hasError:!1},p.label=2;case 2:for(p.trys.push([2,4,5,6]),e=[],u=n.WB.ER,s=0;s<i.length;s++)if(o=i[s],a=o.SHt,c=o.zlt(u),a.XIt)e.push(a.DWt());else if(o.PHt(u,c,n.gZ.Dj)){if(void 0===(h=a.zUt(c))){if(a.gLt.hLt._Ot)continue;(f=a.gLt.hLt.Mrt).length&&f[0].WO>c&&(n.ER=1/0),a.eGt(),a.KUt(c)}else v=tn(h,2),d=v[0],l=v[1],a.hut(d,l,o.gWt),o.THt.aHt(d,l);e.push(a.DWt())}if(g=Yt(r,Yo.$w([t]),!1),0===e.length)for(i.every((function(t){return t.SHt.mCt}))||e.push(n.WB.py(oa.hb,g.Uw)),w=0;w<i.length;w++)m=i[w],e.push(m.THt.py(Hj.jGt,g.Uw));return[4,Wo(et.race(e),g.Uw)];case 3:return p.sent(),[3,6];case 4:return y=p.sent(),r.error=y,r.hasError=!0,[3,6];case 5:return jt(r),[7];case 6:return[3,1];case 7:return[2]}}))}))()},i.GXt=function(){var t=this;if(!this.zXt){var n=function(){t.zXt=void 0};this.qXt=new Yo,this.qXt.Qw(this.vW.Uw),this.zXt=Zo(this.YXt(this.qXt.Uw),this.qXt).catch(this.SZt).then(n,n)}},i.WXt=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:return null==(n=t.qXt)||n.jw(),i=t.zXt,t.zXt=void 0,i?[4,i]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))()},i.YXt=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:Vo(t),i=n.dZt,c.label=1;case 1:for(r=[],e=0;e<i.length;e++)u=i[e],s=u.SHt,(o=u.THt).XIt?r.push(o.DWt()):(a=s.VUt())?"Zut"===a.Tw?(o.dHt(a),r.push(o.DWt())):"uOt"===a.Tw&&(o.uHt(a),r.push(o.DWt())):r.push(s.$Ut());return 0!==r.length?[3,2]:[3,5];case 2:return[4,Wo(et.race(r),t)];case 3:c.sent(),c.label=4;case 4:return[3,1];case 5:return[2]}}))}))()},i.HXt=function(){var t=this;if(!this.KXt){this.jXt=new Yo,this.jXt.Qw(this.vW.Uw);var n=function(){t.KXt=void 0};this.KXt=Zo(this.QXt(this.jXt.Uw),this.jXt).catch(this.SZt).then(n,n)}},i.UXt=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:return null==(n=t.jXt)||n.jw(),i=t.KXt,t.KXt=void 0,i?[4,i]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))()},i.QXt=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:i=function(){var i,r,e,u,s,o,a,c,h,f,v,d;return Ht(this,(function(l){switch(l.label){case 0:for((i=n.dZt).forEach((function(t){return t.rut()})),r=n.WB.ER,e=[],u=[],s=0;s<i.length;s++)for(o=i[s],a=o.THt,c=0,h=o.bHt;c<h.length;c++)f=h[c],v=f.TWt?e:u,f.XIt?v.push(f.DWt()):f.NWt(r)||((d=a.pHt(f.Tw))?"Zut"===d.Tw&&d.dOt===n.uZt?(f.jlt(d),v.push(f.DWt())):"RCt"===d.Tw&&d.dOt===n.uZt&&(f.A2(d),v.push(f.DWt())):u.push(a.wHt(f.Tw)));return 0!==e.length?[3,2]:[4,n.JXt(i,r,t)];case 1:if(l.sent())return[2,"continue"];l.label=2;case 2:return 0===e.length&&0===u.length?(i.every((function(t){return t.bHt.length>0&&t.bHt.every((function(t){return t.NWt(r)}))}))&&n.JG.a3(),[2,"break"]):[4,Wo(et.race(Ft(e).concat(Ft(u))),t)];case 3:return l.sent(),[2]}}))},r.label=1;case 1:return[5,zt(i())];case 2:return"break"===r.sent()?[3,3]:[3,1];case 3:return[2]}}))}))()},i.JXt=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h,f,v,d,l,g,w,m,y,p,_,b,k,A;return Ht(this,(function(T){switch(T.label){case 0:for(e=[],u=[],s=0;s<t.length;s++)for(o=t[s],a=o.zlt(n),c=0,h=o.bHt;c<h.length;c++)if((f=h[c]).TWt)if(void 0!==(v=o.THt.pHt(f.Tw))){if(v.dOt===r.uZt)return[2,!1];e.push(v)}else{if(o.XIt||o.PHt(n,a,r.gZ.Dj)||!f.MWt(n,a))return[2,!1];void 0!==(d=f.kWt.gWt)&&u.push(d)}return 0===e.length?[2,!1]:(l=So(e,(function(t){return t.dOt})).dOt,e.every((function(t){return"RCt"===t.Tw&&t.dOt===l}))?(g=To(e,(function(t){return t.WO})).WO,w=Ft(e).concat(Ft(u)),[4,r.$Xt(w)]):[3,6]);case 1:return m=T.sent(),r.tzt(m)?(gz.VLt(mz,"Seamless switch from",r.JG.kd,"to",m),[4,r.JG._J(m)]):[3,3];case 2:return T.sent(),gz.VLt(mz,"Seamless switch complete."),[3,5];case 3:return[4,r.ezt(g,m,i)];case 4:T.sent(),T.label=5;case 5:return r.uZt=e[0].dOt,[3,7];case 6:for(y=0;y<t.length;y++)for(p=t[y],_=0,b=p.bHt;_<b.length;_++)for(k=b[_],A=p.THt.pHt(k.Tw);void 0!==A&&("RCt"!==A.Tw||A.dOt!==l);)gz.VLt(mz,"Removing append for other discontinuity, expecting "+l,A),p.THt.BWt(A),A=p.THt.pHt(k.Tw);T.label=7;case 7:return[2,!0]}}))}))()},i.tzt=function(t){return this.PZt===MA.$B||this.PZt!==MA.tO&&this.JG.dJ(t)},i.$Xt=function(t){var n=this;return Zt((function(){var i,r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return r=t.map((function(t){return t.yHt.Jrt})),e=r.map((function(t){return{Mk:t}})),u=Ao(t,(function(t){return t.yHt.nOt})),(i=u).push.apply(i,Ft(n.vEt.Er.AVt)),[4,Hz(n.vZt.contentProtection,r,u,n.fW,n.vZt.useCredentials)];case 1:return 0===(s=o.sent()).length&&n.JG&&n.JG.kd.sH.length>0&&(s=n.JG.kd.sH),[2,{Tw:mp.wW,g4:e,sH:s,C4:n.vZt.useManagedMediaSource}]}}))}))()},i.ezt=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:if(u=r.JG,s=u.ct,!(o=r.wR.length>0&&r.ER<t))return[3,6];f.label=1;case 1:f.trys.push([1,5,,6]),gz.VLt(mz,"Marking end of stream and waiting for ended to switch discontinuity."),u.a3(),f.label=2;case 2:return!r.WB.PR&&r.WB.ER<t?[4,r.WB.py([oa.hb,oa.Dy],i)]:[3,4];case 3:return f.sent(),[3,2];case 4:return[3,6];case 5:throw a=f.sent(),u.J2(),u.d4(s),a;case 6:gz.VLt(mz,"Perform hard switch from",null==(e=r.JG)?void 0:e.kd,"to",n),f.label=7;case 7:return f.trys.push([7,,10,11]),r.WB.p7(),r.ER<t&&r.WB.Rb(t,!0,!0),r.c4=void 0,r.u4=void 0,r.FXt(),[4,r.WB.nr()];case 8:return f.sent(),[4,r.WB.$n(n)];case 9:return r.JG=f.sent(),r._4(),r.JTt(),r.$Tt(),r.JG.a4&&(r.c4=new wK(qg.mE,r.JG.a4,r.kZt?r.spt:void 0,r.EZt?r.NDt:void 0),r.c4.A3(t-1,t)),r.JG.h4&&(r.u4=new wK(qg.vE,r.JG.h4,r.kZt?r.spt:void 0,r.EZt?r.NDt:void 0),r.u4.A3(t-1,t)),r.FXt(),[3,11];case 10:return o&&qo(r.WB.xI()),r.WB.w7(),[7];case 11:return r.eZt&&(c=void 0!==r.u4&&void 0===r.IZt,h=c?[r.c4,r.u4]:[r.c4],r.eZt.kHt(h)),r.IZt&&r.IZt.kHt([r.u4]),gz.VLt(mz,"Hard switch complete."),[2]}}))}))()},i.TXt=function(t){return Wo(Jo(Ao(this.dZt,(function(t){return t.bHt.map((function(t){return t.DWt()}))}))),t)},i.sEt=function(){var t=this.vI,n=this.dI;this.dxt===t&&this.fxt===n||(this.dxt=t,this.fxt=n,this._o(new wp))},i.yn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return gz.MN(pK,"Unloading the player."),t.izt(),t.qEt(),[4,t.nr()];case 1:return n.sent(),t.WB.wH=void 0,t.nXt.yn(),[4,t.dH.yn()];case 2:return n.sent(),[4,t.spt.yn()];case 3:return n.sent(),[4,t.NDt.yn()];case 4:return n.sent(),t.cO.yn(),t.dO.yn(),t.Hl.yn(),t.szt.yn(),t.mxt.Xw(),t.XWt.Xw(),t.MZt&&(t.MZt.Xw(),t.MZt=void 0),[2]}}))}))()},i.nr=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return gz.MN(pK,"Resetting the player."),t.vn(tz.rLt,t.handleBufferingErrorEvent),t.uZt=-1,t.vW.jw(),t.r8.jw(),t.r8=new Yo,t.r8.Qw(t.vW.Uw),t.pXt.jw(),t.pXt=new Yo,t.pXt.Qw(t.vW.Uw),n=[t.gpt,t.o8,t.AZt].filter(Yn),[4,et.all(n.map((function(t){return t.catch(bi)})))];case 1:return i.sent(),t.gpt=void 0,t.o8=void 0,t.AZt=void 0,t.$Ht=void 0,t.JHt=void 0,t.lZt=void 0,t.qZt=void 0,t.KZt=void 0,t.QZt=void 0,t.JZt=void 0,t.KZt=void 0,t.QZt=void 0,t.JZt=void 0,t.ZG=void 0,t.pZ.nr(),t.gXt=[],t.WZt(void 0),t.SXt(),[4,t.kXt()];case 2:return i.sent(),t.IZt&&(t.IZt.Xw(),t.IZt=void 0),t.eZt&&(t.eZt.Xw(),t.eZt=void 0),t.eXt&&(t.eXt.Xw(),t.eXt=void 0),t.u4=void 0,t.c4=void 0,t.JG=void 0,t.vEt&&(t.vEt.Xw(),t.vEt=void 0),t.NZt&&(t.Hl.FG(t.NZt.nt),t.NZt=void 0),[4,t.dH.nr()];case 3:return i.sent(),[4,t.spt.nr()];case 4:return i.sent(),[4,t.NDt.nr()];case 5:return i.sent(),t.WB.vH(),[4,t.WB.nr()];case 6:return i.sent(),t.vZt=void 0,t.wZt=!1,t.v4=SA.pB(),t.mZt=void 0,t.lxt=void 0,t.dxt=0,t.fxt=0,t.pZt=void 0,t.cEt=!1,t.X9=!1,Kn.Ug(t.yZt),t.Zkt=!1,t.nzt=!1,t.Bkt=0,t.PZt=MA.JB,t.szt.nr(),t.rzt(),t._o(new aT(t.ER,t.rI)),[2]}}))}))()},i.rzt=function(){for(var t=0,n=this.cO.lC;t<n.length;t++){n[t].yn()}for(var i=0,r=this.dO.lC;i<r.length;i++){r[i].yn()}for(var e=0,u=this.Hl.lC;e<u.length;e++){u[e].yn()}this.cO.nr(),this.dO.nr(),this.Hl.nr(),this.tXt.clear()},i.ozt=function(){this.szt.bn(_K,this.Ds),this.szt.bn(yp.UL,this.XB),this.szt.bn(yp.WL,this.hzt),this.szt.bn(yp.BL,this.azt),this.gZ.bn("yj",this.wxt),this.gZ.bn("Tj",this.yxt),this.WB.bn(bK,this.Ds),this.WB.bn(Uy.fa,this.bxt),this.WB.bn(oa.Ty,this.handleContentProtectionErrorEvent),this.WB.bn(oa.Iy,this.uzt),this.WB.bn(oa.Dy,this.Ah),this.WB.bn(oa.zy,this.sMt),this.WB.bn(oa.ho,this.czt),this.WB.bn(oa.qy,this.lzt),this.WB.bn(yp.iC,this.FW),this.WB.bn(oa.hb,this.S6),this.WB.bn(oa.Jy,this.Ge),this.WB.bn(oa.Qy,this.SH),this.WB.bn(oa.jy,this.dzt),this.WB.bn(oa.ub,this.fzt)},i.izt=function(){this.szt.vn(_K,this.Ds),this.szt.vn(yp.UL,this.XB),this.szt.vn(yp.WL,this.hzt),this.szt.vn(yp.BL,this.azt),this.gZ.vn("yj",this.wxt),this.gZ.vn("Tj",this.yxt),this.WB.vn(bK,this.Ds),this.WB.vn(Uy.fa,this.bxt),this.WB.vn(oa.Ty,this.handleContentProtectionErrorEvent),this.WB.vn(oa.Iy,this.uzt),this.WB.vn(oa.Dy,this.Ah),this.WB.vn(oa.zy,this.sMt),this.WB.vn(oa.ho,this.czt),this.WB.vn(oa.qy,this.lzt),this.WB.vn(yp.iC,this.FW),this.WB.vn(oa.hb,this.S6),this.WB.vn(oa.Jy,this.Ge),this.WB.vn(oa.Qy,this.SH),this.WB.vn(oa.jy,this.dzt),this.WB.vn(oa.ub,this.fzt)},Nt(n,[{key:"KB",get:function(){var t,n=[this.JHt,this.$Ht].filter(Yn);if(0!==n.length&&this.ct===1/0){var i,r=null==(t=this.bR)?void 0:t.getTime();if(r)return(Date.now()-r)/1e3;for(var e=0;e<n.length;e++){var u=n[e],s=u.hLt.hI;if(0!==s.V){var o=s.Tn(s.V-1)+u.hLt.GSt,a=u.hLt.RFt,c=o+(null!=a?a:0)-this.ER;(!i||i<c)&&(i=c)}}return i}}},{key:"aZt",get:function(){for(var t=[this.$Ht,this.JHt].filter(Yn),n=0;n<t.length;n++){var i=t[n];if(!i.hLt._Ot)return!1;var r=i.hLt.Mrt,e=r[r.length-1];if(e&&e.dOt!==this.uZt)return!1}return!0}},{key:"pLt",get:function(){return this.sZt}},{key:"DLt",get:function(){return this.$Ht}},{key:"MLt",get:function(){return this.JHt}},{key:"cZt",get:function(){return this.lZt}},{key:"ht",get:function(){return this.cO}},{key:"wR",get:function(){return this.WB.wR.ks()}},{key:"bLt",get:function(){var t=[];if(this.sZt)for(var n=this.WB.ER,i=0,r=this.dZt;i<r.length;i++)for(var e=0,u=r[i].bHt;e<u.length;e++){var s=u[e].LWt(n);s&&!po(t,s)&&t.push(s)}return t}},{key:"bR",get:function(){if(this.sZt){var t=this.WB.ER;return this.sZt.xOt(t)}},set:function(t){if(t&&this.sZt){var n=this.sZt.ROt(t);void 0!==n&&this.RR(n,{fZt:!1,_Zt:!0})}}},{key:"bt",get:function(){return this.vZt}},{key:"ER",get:function(){var t;return null!=(t=this.mZt)?t:this.WB.ER},set:function(t){this.RR(t)}},{key:"ct",get:function(){var t,n,i,r,e,u,s;if(!this.aZt)return null!=(s=null!=(u=null!=(e=null==(t=this.$Ht)?void 0:t.hLt.ct)?e:null==(n=this.JHt)?void 0:n.hLt.ct)?u:null==(r=this.vEt)||null==(i=r.XVt)?void 0:i.hLt.ct)?s:[this.$Ht,this.JHt].filter(Yn).every((function(t){return function(t){if(void 0===t)return!1;return t.hLt.Mrt.length>0&&!t.hLt._Ot}(t)}))?1/0:NaN;var o=this.WB.ct;if(S(o)){var a,c,h=null==(c=this.vEt)||null==(a=c.XVt)?void 0:a.hLt.ct;if(void 0!==h)return h}return o}},{key:"PR",get:function(){if(!this.aZt)return!1;if(this.uI&&this.wZt){var t,n,i=this.ER,r=null==(t=this.$Ht)?void 0:t.hLt.ct,e=null==(n=this.JHt)?void 0:n.hLt.ct;return!(void 0!==r&&i<r)&&!(void 0!==e&&i<e)}return this.WB.PR}},{key:"lt",get:function(){return this.YG}},{key:"MR",get:function(){return this.KG}},{key:"OR",get:function(){}},{key:"WR",get:function(){return!1}},{key:"GR",get:function(){return ns({},{_O:0,vO:0,mO:0,gO:0,pO:0,wO:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.WB.HR(),{pO:this.Bkt,gO:this.gZ.cj.bG})}},{key:"Er",get:function(){var t;return null==(t=this.vEt)?void 0:t.Er}},{key:"ZR",get:function(){return this.WB.ZR},set:function(t){this.WB.ZR=t}},{key:"qR",get:function(){return this.LSt},set:function(t){this.LSt!==t&&(this.LSt=t,this._o(t?new jW:new KW))}},{key:"KR",get:function(){return this.WB.KR}},{key:"QR",get:function(){return this.WB.QR},set:function(t){gz.MN(pK,"Setting playback rate to "+t+"."),this.WB.QR=t}},{key:"tI",get:function(){return this.Ukt.ks()}},{key:"Ukt",get:function(){return this.WB.tI}},{key:"iI",get:function(){return this.QG},set:function(t){this.QG!==t&&(this.QG=t,this.TZt())}},{key:"rI",get:function(){var t=this.WB.rI;return this.Zkt&&(t=k.max(bp.Xn,t)),t}},{key:"hI",get:function(){return this.Mkt.ks()}},{key:"Mkt",get:function(){var t=this.v4,n=[this.$Ht,this.JHt].filter(Yn);if(t.V>0&&n.some((function(t){return!t.hLt._Ot}))){var i=this.Ukt,r=t.Tn(t.V-1);if(i.V>0&&i.Tn(i.V-1)>r){var e=i.Tn(i.V-1),u=EK(n);u.V>0&&(e=k.min(e,u.Tn(u.V-1))),t=t.tB(new SA([r,e]))}}return t}},{key:"uI",get:function(){var t;return null!=(t=this.pZt)?t:this.WB.uI}},{key:"$G",get:function(){}},{key:"nt",get:function(){return this.Hl}},{key:"rt",get:function(){return this.dO}},{key:"dI",get:function(){var t,n;return this.WB.dI||(null==(n=this.sZt)||null==(t=n.$Ct)?void 0:t.Ti)||0}},{key:"vI",get:function(){var t,n;return this.WB.vI||(null==(n=this.sZt)||null==(t=n.$Ct)?void 0:t.ji)||0}},{key:"gI",get:function(){return this.WB.gI},set:function(t){gz.MN(pK,"Setting volume to "+t+"."),this.WB.gI=t}},{key:"yI",get:function(){return this.pZ}},{key:"AI",get:function(){return!1},set:function(t){}},{key:"eH",get:function(){return this.iH}},{key:"RZt",get:function(){var t,n,i=null==(t=this.IZt)?void 0:t.RHt,r=null==(n=this.eZt)?void 0:n.RHt;return i?r?r.jn(i):i:r}},{key:"dZt",get:function(){return[this.IZt,this.eZt,this.eXt].filter(Yn)}}]),n}(ra),TK=function(){function t(){}var n=t.prototype;return n.FH=function(t,n){return Zt((function(){return Ht(this,(function(n){return HA(t.type)?[2,!t.useNativePlayback]:[2,!1]}))}))()},n.VH=function(t){return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.aes128?[2,!0]:[4,k_(t,!0)];case 1:return[2,n.sent()]}}))}))()},t}(),SK=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).na=n,r}return It(n,t),n.prototype.Sxt=function(){this._o(new _p(this.ER,this.rI))},Nt(n,[{key:"rI",get:function(){return this.na.rI}}]),n}(Np);function EK(t){return t.reduce((function(t,n){return t.jn(n.hLt.fFt)}),new SA([0,1/0]))}function IK(t){var n=ho(t,(function(t){return t.aLt})),i=t.filter((function(t){return t.uLt})),r=Kn.cw,e=i.map((function(t){return t.gs})).filter(Yn),u=sK(e,r);return u?ho(i,(function(t){return t.gs===u})):n}function RK(t,n,i,r){void 0===r&&(r=pT.maximumBackoff);var e=function(t,n){if(void 0===n)return t;var i=n.preferredVideoCodecs,r=n.preferredAudioCodecs;if(void 0!==i){for(var e,u=function(n){var u=i[n],s=t.filter((function(t){return t.Jrt&&t.Jrt.dPt&&jC(t.Jrt.dPt,u)}));if(0===s.length)return"continue";if(void 0===r)return{v:s};void 0===e&&(e=s);var o=CK(s,r);return void 0!==o?{v:o}:void 0},s=0;s<i.length;s++){var o=u(s);if("object"===U(o))return o.v}if(void 0!==e)return e}if(void 0!==r){var a=CK(t,r);if(void 0!==a)return a}return t}(t,n),u=DK(e,r);switch(i.Sj.type){case HI.BANDWIDTH:var s=i.Ij,o=u.filter((function(t){return t.bG<=s}));if(o.length>0)return So(o,(function(t){return t.bG}));case HI.PERFORMANCE:return To(u,(function(t){return t.bG}));case HI.QUALITY:return So(u,(function(t){return t.bG}))}}function CK(t,n){for(var i=function(i){var r=n[i],e=t.filter((function(t){return t.Jrt&&t.Jrt.cPt&&jC(t.Jrt.cPt,r)}));return 0===e.length?"continue":{v:e}},r=0;r<n.length;r++){var e=i(r);if("object"===U(e))return e.v}}function NK(t){var n;return null!=(n=IK(t))?n:t[0]}function DK(t,n){return t.filter((function(t){return PK(t,n)}))}function PK(t,n){var i=n+kK,r=0===t.ZLt.length||t.ZLt.some((function(t){return t.hLt.PFt<Kn.Wg()-i})),e=0===t.HLt.length||t.HLt.some((function(t){return t.hLt.PFt<Kn.Wg()-i}));return r&&e}function xK(t,n){if(!n||n.hLt._Ot)return!1;var i=n.hLt.Mrt;return 0!==i.length&&i[0].WO>t}F(),Tt(),F(),Tt(),Gt(),qt();var LK=function(){function t(){}var n=t.prototype;return n.HWt=function(t,n,i){return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),[4,crypto.subtle.importKey("raw",n,{name:"AES-CBC"},!1,["decrypt"])];case 1:return r=u.sent(),[4,crypto.subtle.decrypt({name:"AES-CBC",iv:i},r,t)];case 2:return e=u.sent(),[2,new E(e)];case 3:throw u.sent(),new id(td.CONTENT_PROTECTION_INTERNAL_ERROR,"Error during AES128 decrypt.");case 4:return[2]}}))}))()},n.Xw=function(){},t.yT=function(){return"undefined"!=typeof crypto&&void 0!==crypto.subtle&&void 0!==crypto.subtle.decrypt},t}();F(),Tt(),F(),Tt(),Gt(),qt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Rt();var MK=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).data=i,r}return It(n,t),n}(sa),OK=["message","messageerror","error"];F(),Tt(),Rt();var BK=function(t){function n(n){var i;return(i=t.call(this,Uy.fa)||this).error=n,i}return It(n,t),n}(sa),VK=function(t){function n(n){var i;return(i=t.call(this)||this).wzt=void 0,i.yzt=[],i.Szt=function(t){if(i.mzt)t.Azt();else{i.wzt=t,i.wzt.bn(OK,i.Ds);for(var n=0,r=i.yzt;n<r.length;n++){var e=r[n];t.pzt(e.wb,e.bzt)}bo(i.yzt)}},i.Tzt=function(t){if(!i.mzt){var n=t instanceof p?t:new p("Could not create Worker.");i._o(new BK(n)),i.Azt()}},i.gzt=new Yo,n(i.gzt.Uw).then(i.Szt,i.Tzt),i}It(n,t);var i=n.prototype;return i.pzt=function(t,n){this.mzt||(void 0!==this.wzt?this.wzt.pzt(t,n):this.yzt.push({wb:t,bzt:n}))},i.Azt=function(){this.mzt||(this.gzt.jw(),bo(this.yzt),void 0!==this.wzt&&this.wzt.Azt())},Nt(n,[{key:"mzt",get:function(){return this.gzt.Uw.Fw}}]),n}(ra);F(),Tt(),F(),Tt(),Rt();var FK=function(t){function n(n,i){var r;return(r=t.call(this)||this).kzt=function(t){r._o(new MK("message",t.data))},r.Ezt=function(t){r._o(new MK("messageerror",t.data))},r.a7=function(t){null==t.preventDefault||t.preventDefault.call(t);var n=t.error instanceof p?t.error:new p(t.message);r._o(new BK(n)),r.Azt()},r.wzt=new I(n,i),r.wzt.addEventListener("message",r.kzt),r.wzt.addEventListener("messageerror",r.Ezt),r.wzt.addEventListener("error",r.a7),r}It(n,t);var i=n.prototype;return i.pzt=function(t,n){n?this.wzt.postMessage(t,n):this.wzt.postMessage(t)},i.Azt=function(){this.Ro(),this.wzt.removeEventListener("message",this.kzt),this.wzt.removeEventListener("messageerror",this.Ezt),this.wzt.removeEventListener("error",this.a7),this.wzt.terminate()},n}(ra);F(),Tt(),Rt();var UK=0,WK=function(t){function n(n,i){var r;(r=t.call(this)||this).Rzt=function(){r.xzt.removeEventListener("load",r.Rzt),r.xzt.contentWindow.postMessage({type:"initialize",id:r.zS,script:r.Czt},"*")},r.Izt=function(t){t.origin===r.Pzt&&t.data.id===r.zS&&("initialized"===t.data.type||("error"===t.data.type?(r._o(new BK(new p(t.data.data.message))),r.Azt()):r._o(new MK("message",t.data.data))))},r.zS=UK++,r.Czt=n;var e=Kn.Ih("iframe.html",i);return r.xzt=function(t){var n=v.createElement("iframe");return n.width="0",n.height="0",n.style.display="none",n.role="",n.src=t,v.body.appendChild(n),n}(e.href),r.Pzt=e.origin,r.xzt.addEventListener("load",r.Rzt),self.addEventListener("message",r.Izt),r}It(n,t);var i=n.prototype;return i.pzt=function(t,n){n?this.xzt.contentWindow.postMessage({type:"message",data:t},"*",n):this.xzt.contentWindow.postMessage({type:"message",data:t},"*")},i.Azt=function(){var t;this.xzt.removeEventListener("load",this.Rzt),self.removeEventListener("message",this.Izt),null==(t=this.xzt.contentWindow)||t.postMessage({type:"terminate"},"*"),oi(this.xzt)},n}(ra);function ZK(t,n,i){var r=Kn.ew(t,n);return new VK((function(t){return function(t,n,i,r){return GK.apply(this,arguments)}(r,n,i,t)}))}var XK=!0;function GK(){return GK=Zt((function(t,n,i,r){var e,u,s,o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:return f.trys.push([0,2,,3]),[4,HK(e=new FK(t,i),r)];case 1:return f.sent(),[2,e];case 2:return u=f.sent(),null==e||e.Azt(),Fo(u),[3,3];case 3:if(!XK||!Td)return[3,13];f.label=4;case 4:return f.trys.push([4,7,,8]),[4,Kn.fR.Qk({Xu:t,AE:ol.GET,jk:Id.Tk,Uw:r})];case 5:return[4,f.sent().Ck(r)];case 6:return s=f.sent(),[3,8];case 7:return Fo(f.sent()),[3,8];case 8:if(!s)return[3,13];f.label=9;case 9:return f.trys.push([9,11,12,13]),a=Td([s],{type:"application/javascript"}),o=URL.createObjectURL(a),[4,HK(e=new FK(o,i),r)];case 10:return f.sent(),[2,e];case 11:return c=f.sent(),null==e||e.Azt(),Fo(c),XK=!1,[3,13];case 12:return o&&URL.revokeObjectURL(o),[7];case 13:return f.trys.push([13,15,,16]),[4,HK(e=new WK(t,n),r)];case 14:return f.sent(),[2,e];case 15:throw h=f.sent(),null==e||e.Azt(),h;case 16:return[2]}}))})),GK.apply(this,arguments)}function HK(t,n){return zK.apply(this,arguments)}function zK(){return zK=Zt((function(t,n){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,t.py(["message","error"],n)];case 1:if("error"===(i=r.sent()).type)throw function(t){return new id(td.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check the configuration of the libraryLocation.",t)}(i.error);if(!function(t){return $n(t)&&"9.3.0"===t.Dzt}(i.data))throw new id(td.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check that the worker's version matches THEOplayer's version (9.3.0).");return[2,i]}}))})),zK.apply(this,arguments)}F(),Tt();var YK=function(t){return t.Nzt="HWt",t.Mzt="vUt",t}({}),jK=function(t){return t.Lzt="Bzt",t.Ozt="Fzt",t}({}),KK=function(){function t(t){var n=this;this.wzt=void 0,this.Zzt=0,this.jzt=rs(),this.Gzt=function(t){var i=t.data,r=i.Qzt,e=n.jzt.get(r);if(e)if(n.jzt.delete(r),i.Jzt===jK.Lzt)e.Vb(i.$zt);else if(i.Jzt===jK.Ozt){var u=i.tqt,s=i.eqt?new p(i.eqt):void 0,o=new id(td.CONTENT_PROTECTION_INTERNAL_ERROR,"Error during AES128 decrypt. (code: "+u+")",s);e.Wb(o)}},this.Hzt=function(t){var i=new id(td.CONTENT_PROTECTION_INTERNAL_ERROR,t.error.message,t.error);n.Xw(i)},this.Uzt=t;try{this.Wzt=Kn.ew("theoplayer.d.js",t)}catch(t){throw new id(td.CONFIGURATION_ERROR,"Invalid player configuration: missing libraryLocation",t)}}var n=t.prototype;return n.Vzt=function(){var t=ZK(this.Wzt,this.Uzt,{name:"THEOplayer decrypt worker"});return t.bn("message",this.Gzt),t.bn("error",this.Hzt),t},n.HWt=function(t,n,i){var r=""+ ++this.Zzt,e={Xzt:YK.Nzt,zzt:r,qzt:t,Yzt:n,Kzt:i},u=new Gc;return this.jzt.set(r,u),null!=this.wzt||(this.wzt=this.Vzt()),this.wzt.pzt(e),u.Ub},n.Xw=function(t){void 0===t&&(t=new Oo),this.jzt.forEach((function(n){return n.Wb(t)})),this.jzt.clear(),this.wzt&&(this.wzt.Azt(),this.wzt=void 0)},t}();function qK(t){return LK.yT()?new LK:new KK(t)}function JK(t){var n=ho(t.boxes,JR);if(n){var i=ho(n.boxes,QR);if(i)return i.handlerType}}function QK(t){var n,i=new _v;return(n=i.boxes).push.apply(n,Ft(t.boxes)),i}function $K(t){var n,i=new xf;return(n=i.boxes).push.apply(n,Ft(t.boxes)),i}F(),Tt(),Rt(),F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Ut();var tq=8;function nq(t,n){for(var i=function(t){var n,i=new Hf;return(n=i.boxes).push.apply(n,Ft(t.boxes)),i}(t),r=rq(n),e=0;e<i.boxes.length;e++){var u=i.boxes[e];if(u===n)i.boxes[e]=new uf(new E(n.getSize()-tq));else if($R(u)){var s=u,o=lo(s.boxes,(function(t){return t instanceof Df&&t.trackId===r}));if(o>=0){var a=s.boxes[o],c=$K(s);c.boxes[o]=new uf(new E(a.getSize()-tq)),i.boxes[e]=c}}}return i}function iq(t,n){for(var i=function(t){var n,i=new ev;return(n=i.boxes).push.apply(n,Ft(t.boxes)),i}(t),r=0;r<i.boxes.length;r++){var e=i.boxes[r];if(iC(e)){var u=ho(e.boxes,rC);u&&u.trackId===n&&(i.boxes[r]=new uf(new E(e.getSize()-tq)))}}return i}function rq(t){return ho(t.boxes,qR).trackId}function eq(t,n,i,r){for(var e=ho(t.boxes,rC),u=i.lV(n).GF(),s=ir.ZERO,o=0,a=t.boxes;o<a.length;o++){var c=a[o];if(c instanceof Kf){s=rr(c.baseMediaDecodeTime,u),c.baseMediaDecodeTime=c.baseMediaDecodeTime.subtract(s);break}if(c instanceof jf){s=rr(ir.fromNumber(c.baseMediaDecodeTime),u),c.baseMediaDecodeTime-=s.toNumber();break}}if(!s.isZero()){var h=ho(t.boxes,eC);if(void 0!==h&&h.samples.length>0){var f=h.samples;if(!h.flags.sampleDurationPresent){h.flags.sampleDurationPresent=!0;for(var v=null!=r?r:e.defaultSampleDuration,d=0;d<f.length;d++){f[d].duration=v}}f[0].duration+=s.toNumber(),h.samples=f}}}F(),Tt();var uq="Mp4Transmuxer",sq=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).E2=void 0,n.iqt=void 0,n.oqt=void 0,n.hqt=void 0,n.rqt=void 0,n}It(n,t);var i=n.prototype;return i.lHt=function(t,n){Vo(n);var i=t.gLt,r=PC(bc(t.uOt.Kk.Kk));if(!r)throw new p("Mp4Transmuxer - Unable to parse "+i.Tw+" MP4 initializer.");this.E2=r;var e=function(t){for(var n,i,r=0,e=t.Z;r<e.length;r++){var u=e[r];n||(n=u.h1),i||(i=u.o1)}if(n||i)return{cPt:n,dPt:i,kBt:void 0};return}(r);e&&this._Ht(i,e);var u=function(t){for(var n=0,i=t.Z;n<i.length;n++){var r=i[n];if(void 0!==r.a1)return r.a1}return}(r);void 0!==u&&this.vHt(i,u);var s=function(t){var n,i,r,e,u,s=Ev(t),o=ho(s.boxes,jR),a=o.boxes.filter(KR),c=ho(a,(function(t){return JK(t)===gf.AUDIO})),h=ho(a,(function(t){return JK(t)===gf.VIDEO})),f={cPt:{EN:c?rq(c):void 0},dPt:{EN:h?rq(h):void 0}},v=null==(n=ho(o.boxes,$R))?void 0:n.boxes.filter(tC),d=v?{cPt:null!=(i=ho(v,(function(t){return t.trackId===f.cPt.EN})))?i:void 0,dPt:null!=(r=ho(v,(function(t){return t.trackId===f.dPt.EN})))?r:void 0}:void 0;if(d&&(f.cPt.QM=null==(e=d.cPt)?void 0:e.defaultSampleDuration,f.dPt.QM=null==(u=d.dPt)?void 0:u.defaultSampleDuration),!c||!h)return{cPt:c?t:void 0,dPt:h?t:void 0,qV:f};var l=QK(s),g=QK(s),w=s.boxes.indexOf(o);l.boxes[w]=nq(o,h),g.boxes[w]=nq(o,c);var m=l.serialize().join(),y=g.serialize().join();return{cPt:m,dPt:y,qV:f}}(t.uOt.Kk.Kk);if(this.iqt=s.qV,s.dPt){var o=ho(r.Z,(function(t){return t.EN===s.qV.dPt.EN})),a={Tw:"RCt",Kk:{Tw:xR.iJ,Kk:s.dPt},Cat:qg.mE,dOt:t.dOt,yHt:{Jrt:'video/mp4; codecs="'+o.o1+'"',nOt:t.nOt},WO:t.WO,gLt:t.gLt,VWt:t.uOt.VWt};this.NGt(a)}if(s.cPt){var c=ho(r.Z,(function(t){return t.EN===s.qV.cPt.EN})),h={Tw:"RCt",Kk:{Tw:xR.iJ,Kk:s.cPt},Cat:qg.vE,dOt:t.dOt,yHt:{Jrt:'audio/mp4; codecs="'+c.h1+'"',nOt:t.nOt},WO:t.WO,gLt:t.gLt,VWt:t.uOt.VWt};this.NGt(h)}return et.resolve()},i.fHt=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h,f,v,d,l,g,w,m,y,p,_,b,k,A,T,S;return Ht(this,(function(E){switch(E.label){case 0:if(Vo(n),r=t.Zut.VWt,gz.MN(uq,"Transmuxing fMP4: "+Uz(r.Fyt)),e=t.Zut.Kk,u=oq(e.Kk,i.E2),void 0!==(s=Eo(u.map((function(t){return t.pit})),fm))&&(r.wit=s,i.gHt(t.gLt)),i.kVt.$Ft(t.dOt))return[3,2];if(o=hm.vV(r.WO),u.length>0){for(a=Eo(u.map((function(t){return t.sqt})),fm),c=0,h=i.nHt;c<h.length;c++)f=h[c],i.kVt.lVt(t.dOt,f,a,o,aq(r),!1);i.gHt(t.gLt)}return i.kVt.$Ft(t.dOt)?[3,2]:[4,Wo(i.kVt.eVt(t.dOt),n)];case 1:E.sent(),E.label=2;case 2:return v=i.kVt.hVt(t.dOt),d=r.wit?i.kVt.aVt(r.wit,r)._F():r.WO,l=Yj(r,d),g=jj(r,l),m={XGt:l,zGt:g,WO:d,ct:null!=(w=r.ct)?w:0,BV:v._F(),dOt:t.dOt,gLt:t.gLt,VWt:t.Zut.VWt},y=function(t,n){if(void 0===n.cPt.EN)return{cPt:void 0,dPt:t};if(void 0===n.dPt.EN)return{cPt:t,dPt:void 0};for(var i=Ev(t),r=QK(i),e=QK(i),u=0;u<i.boxes.length;u++){var s=i.boxes[u];nC(s)&&(r.boxes[u]=iq(s,n.dPt.EN),e.boxes[u]=iq(s,n.cPt.EN))}var o=r.serialize().join(),a=e.serialize().join();return{cPt:o,dPt:a}}(e.Kk,i.iqt),y.dPt&&(_=i.iqt.dPt.EN,b=ho(i.E2.Z,(function(t){return t.EN===_})),k=ho(u,(function(t){return t.EN===_})),A=i.nqt(y.dPt,b,k,null==(p=i.iqt)?void 0:p.dPt.QM,r),i.rqt=b,i.mHt(t.gLt,r,k.pit.kF(s)),T=ns({Tw:"Zut",Kk:{Tw:xR.iJ,Kk:A},Cat:qg.mE},m),i.NGt(T)),y.cPt&&(S=ns({Tw:"Zut",Kk:{Tw:xR.iJ,Kk:y.cPt},Cat:qg.vE},m),i.NGt(S)),i.oqt=r,i.hqt=u,[2]}}))}))()},i.nqt=function(t,n,i,r,e){if(!aq(e))return t;if(!this.oqt||!this.rqt||!this.hqt)return t;var u=this.rqt.EN,s=ho(this.hqt,(function(t){return t.EN===u})),o=this.kVt.aVt(s.aqt,this.oqt),a=this.kVt.aVt(i.pit,e).kF(o).lV(n.mN);if(a.wF(hm.DF))return t;if(a.vF(hm.vV(.5)))return t;var c=zY(e)?e:e.VOt;return gz.VLt(uq,"Stretching first video frame of segment #"+c.YBt+" to fill gap of "+a._F()+"s"),function(t,n,i,r){var e=Ev(t),u=ho(e.boxes,nC);if(u){for(var s=u.getSize(),o=0,a=u.boxes;o<a.length;o++){var c=a[o];c instanceof iv&&eq(c,n,i,r)}var h=u.getSize();if(h!==s)for(var f=h-s,v=0,d=u.boxes;v<d.length;v++){var l=d[v];l instanceof iv&&uC(l,f)}}return e.serialize().join()}(t,n.mN,a,r)},n}(zj);function oq(t,n){var i=ay(gy.JD(bc(t)),iy.oD);if(!i)throw new p("Mp4Transmuxer - Unable to parse segment or part.");return function(t,n){for(var i=function(t,i){var e=i[t];if(!e.aL||0===e.hL.length||0===e.hL[0]._L.length)return"continue";for(var u=e.XD.EN,s=ho(n.Z,(function(t){return t.EN===u})),o=0,a=1/0,c=0,h=e.XD.QM||0,f=0,v=e.hL;f<v.length;f++)for(var d=0,l=v[f]._L;d<l.length;d++){var g,w=l[d],m=w.vL||0,y=o+m,p=(o+=null!=(g=w.ct)?g:h)+m;y<a&&(a=y),p>c&&(c=p)}var _=hm.IF(e.aL.aL,s.mN);r.push({EN:u,sqt:_,pit:_.kO(hm.CF(a,s.mN)),uqt:_.kO(hm.CF(o,s.mN)),aqt:_.kO(hm.CF(c,s.mN))})},r=[],e=0,u=t.Z;e<u.length;e++)i(e,u);return r}(i,n)}function aq(t){return zY(t)?t.aOt:0===t.UOt&&t.VOt.aOt}var cq="MpegtsTransmuxer",hq=function(t){function n(n,i,r,e){var u;return(u=t.call(this,i,r,e)||this).mqt=void 0,u.pqt=void 0,u.yqt=void 0,u.Aqt=void 0,u.wqt=-1,u.bqt=-1,u.fqt=void 0,u._qt=es(),u.sx=n,u}It(n,t);var i=n.prototype;return i.lHt=function(n,i){return t.prototype.lHt.call(this,n,i)},i.aHt=function(n,i){if(t.prototype.aHt.call(this,n,i),!this.sx.cqt()){var r,e=null!=(r=null==i?void 0:i.Fyt)?r:n.Fyt;if(e)/\.(ts|aac|mp3)/i.test(e.Mx)&&this.sx.lqt()}},i.dqt=function(t){var n;return t.gLt===this.fqt&&this._qt.has(t.dOt)?n=this._qt.get(t.dOt):(n=lK(t.Zut.Kk.Kk),this.fqt=t.gLt,this._qt.set(t.dOt,n)),n},i.fHt=function(n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h,f,v,d,l,g,w,m,y,p,_,b,k,A,T,S,E,I,R,C,N,D,P,x,L,M,O;return Ht(this,(function(B){switch(B.label){case 0:if(Vo(i),e=r.dqt(n),u=n.Zut,e!==dK.qHt&&e!==dK.YHt)return[2,t.prototype.fHt.call(r,n,i)];if(u.VWt.nOt.some(vq))throw new id(td.CONTENT_PROTECTION_NOT_SUPPORTED,"SAMPLE-AES encryption is not supported for MPEG-TS or Packed Audio segments");return s=r.sx.lqt(),e!==dK.qHt?[3,2]:(gz.MN(cq,"Transmuxing MPEG-TS: "+Uz(u.VWt.Fyt)),[4,s.vqt({data:u.Kk.Kk,metadata:r.mqt})]);case 1:return o=B.sent(),[3,4];case 2:return gz.MN(cq,"Transmuxing raw audio: "+Uz(u.VWt.Fyt)),[4,s.gqt({data:u.Kk.Kk,metadata:r.mqt})];case 3:o=B.sent(),B.label=4;case 4:if(Vo(i),r._Ht(n.gLt,{cPt:o.metadata.audio_codec,dPt:o.metadata.video_codec,kBt:void 0}),o.metadata.video_frame_rate&&r.vHt(n.gLt,o.metadata.video_frame_rate),a=dq(o.metadata.first_decode_timestamp),c=dq(o.metadata.first_presentation_timestamp),h=void 0!==o.metadata.first_video_presentation_timestamp?dq(o.metadata.first_video_presentation_timestamp):void 0,u.VWt.wit=c,r.gHt(n.gLt),void 0!==h&&r.mHt(n.gLt,u.VWt,function(t,n){var i=t.kF(n);return i.bF(hm.DF)&&(i=i.kO(gm())),i}(h,c)),r.kVt.$Ft(n.dOt))return[3,6];for(f=hm.vV(u.VWt.WO),v=0,d=r.nHt;v<d.length;v++)l=d[v],r.kVt.lVt(n.dOt,l,a,f,aq(u.VWt),!0);return r.gHt(n.gLt),r.kVt.$Ft(n.dOt)?[3,6]:[4,Wo(r.kVt.eVt(n.dOt),i)];case 5:B.sent(),B.label=6;case 6:if(g=r.kVt.cVt(a,u.VWt),r.mqt=o.metadata,w=r.kVt.aVt(c,u.VWt)._F(),m=Yj(u.VWt,w),y=jj(u.VWt,m),_={XGt:m,zGt:y,WO:w,ct:null!=(p=u.VWt.ct)?p:0,BV:g._F(),dOt:n.dOt,gLt:n.gLt,VWt:u.VWt},void 0===o.data.audio_media&&void 0===o.data.video_media){for(b=0,k=r.nHt;b<k.length;b++)A=k[b],T=ns({Tw:"Zut",Kk:void 0,Cat:A},_),r.NGt(T);return[2]}return S=[],void 0!==o.data.audio_media?(!o.data.audio_init||r.pqt&&r.wqt===n.dOt&&Lc(r.pqt,o.data.audio_init)||(E=r.kVt.aVt(u.VWt.wit,u.VWt)._F(),I={Tw:"RCt",Kk:{Tw:xR.iJ,Kk:o.data.audio_init},Cat:qg.vE,dOt:n.dOt,yHt:{Jrt:'audio/mp4; codecs="'+o.metadata.audio_codec+'"',nOt:u.VWt.nOt},WO:E,gLt:n.gLt,VWt:u.VWt},r.pqt=o.data.audio_init,r.wqt=n.dOt,r.NGt(I)),R=ns({Tw:"Zut",Kk:{Tw:xR.iJ,Kk:o.data.audio_media},Cat:qg.vE},_),r.NGt(R)):n.Zut.VWt.OOt&&po(r.nHt,qg.vE)&&(C=ns({Tw:"Zut",Kk:void 0,Cat:qg.vE},_),r.NGt(C)),void 0!==o.data.video_media?(!o.data.video_init||r.yqt&&r.bqt===n.dOt&&Lc(r.yqt,o.data.video_init)||(N=r.kVt.aVt(u.VWt.wit,u.VWt)._F(),D={Tw:"RCt",Kk:{Tw:xR.iJ,Kk:o.data.video_init},Cat:qg.mE,dOt:n.dOt,yHt:{Jrt:'video/mp4; codecs="'+o.metadata.video_codec+'"',nOt:u.VWt.nOt},WO:N,gLt:n.gLt,VWt:u.VWt},r.yqt=o.data.video_init,r.bqt=n.dOt,r.Aqt=PC(bc(o.data.video_init)),r.NGt(D)),P=r.Aqt.Z[0],x=oq(o.data.video_media,r.Aqt)[0],L=r.nqt(o.data.video_media,P,x,void 0,u.VWt),r.rqt=P,M=ns({Tw:"Zut",Kk:{Tw:xR.iJ,Kk:L},Cat:qg.mE},_),r.NGt(M),S.push(x)):n.Zut.VWt.OOt&&po(r.nHt,qg.mE)&&(O=ns({Tw:"Zut",Kk:void 0,Cat:qg.mE},_),r.NGt(O)),r.oqt=u.VWt,r.hqt=S,[2]}}))}))()},i.jw=function(){this.pqt=void 0,this.yqt=void 0,this.wqt=-1,this.bqt=-1,t.prototype.jw.call(this)},n}(sq),fq=function(){function t(){}return t.prototype.kTt=function(t,n,i){return new hq(this,t,n,i)},t}();function vq(t){return t.AE===Vz.dBt}function dq(t){return hm.IF(ir.fromBits(t.low,t.high),t.base)}F(),Tt(),F(),Tt();var lq=function(t){return t[t.MPEGTS_TO_FMP4=0]="MPEGTS_TO_FMP4",t[t.RAW_AUDIO_TO_FMP4=1]="RAW_AUDIO_TO_FMP4",t}({}),gq=function(){var t=function(){if("undefined"==typeof WebAssembly)return!1;var t=Gn.ym;if(t>0&&t<=56)return!1;try{return void 0!==new WebAssembly.Module(ba("AGFzbQEAAAA="))}catch(t){return!1}}();return gq=function(){return t},t};var wq=function(){function t(t){var n=this;this.Zzt=0,this.jzt=es(),this.Gzt=function(t){var i=t.data;if(void 0!==i.requestId){var r=n.jzt.get(i.requestId);if(!r)return;n.jzt.delete(i.requestId),i.success?r.Vb(i.output):r.Wb(new id(i.errorCode,i.error))}else i.success||n.Xw(new id(i.errorCode,i.error))},this.Hzt=function(t){var i=new id(td.MEDIA_DECODE_ERROR,t.error.message,t.error);n.Xw(i)},this.Uzt=t;var i=gq()?"THEOplayer.transmux.js":"THEOplayer.transmux.asmjs.js";try{this.Wzt=Kn.ew(i,t)}catch(t){throw new id(td.CONFIGURATION_ERROR,"Invalid player configuration: missing libraryLocation",t)}this.wzt=this.Vzt()}var n=t.prototype;return n.vqt=function(t){return this.Sqt(lq.MPEGTS_TO_FMP4,t)},n.gqt=function(t){return this.Sqt(lq.RAW_AUDIO_TO_FMP4,t)},n.Vzt=function(){var t=ZK(this.Wzt,this.Uzt,{name:"THEOplayer transmux worker"});return t.bn("message",this.Gzt),t.bn("error",this.Hzt),t},n.Sqt=function(t,n){var i=++this.Zzt,r={type:t,id:i,input:n},e=new Gc;return this.jzt.set(i,e),this.wzt.pzt(r),e.Ub},n.Xw=function(t){void 0===t&&(t=new Oo),this.jzt.forEach((function(n){return n.Wb(t)})),this.jzt.clear(),this.wzt.Azt()},t}(),mq=function(t){function n(n){var i;return(i=t.call(this)||this).Tqt=n,i.wzt=void 0,i}It(n,t);var i=n.prototype;return i.cqt=function(){return void 0!==this.wzt},i.lqt=function(){var t;return null!=(t=this.wzt)?t:this.wzt=new wq(this.Tqt)},i.Xw=function(){this.wzt&&(this.wzt.Xw(),this.wzt=void 0)},n}(fq),yq=function(){function t(t){this.Tqt=t}return t.prototype.Ait=function(){return new mq(this.Tqt)},t}(),pq=function(t){function n(n,i,r,e,u,s,o,a){var c;return c=t.call(this,n,i,r,e,u,s,o,a)||this,Gn.eg&&(c.kxt=new JM(c)),c}It(n,t);var i=n.prototype;return i.TI=function(){return this.WB.TI()},i.yn=function(){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,t.prototype.yn.call(n)];case 1:return r.sent(),null==(i=n.kxt)||i.yn(),[2]}}))}))()},Nt(n,[{key:"AI",get:function(){return this.WB.AI},set:function(t){this.WB.AI=t}}]),n}(AK),_q=function(t){function n(n,i,r,e,u,s,o,a){var c,h=new qM(n),f=h.OH(qg.mE);return(c=t.call(this,f,i,r,e,u,s,o,a)||this).bH=h,c}return It(n,t),n.prototype.yn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.yn.call(n)];case 1:return i.sent(),[4,n.bH.yH(n.WB)];case 2:return i.sent(),[2]}}))}))()},n}(pq),bq=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.FH=function(n,i){var r=this;return Zt((function(){return Ht(this,(function(e){return Or(n.useManagedMediaSource)&&(n.useManagedMediaSource||!Gn.su&&!Gn.Cg)?[2,t.prototype.FH.call(r,n,i)]:[2,!1]}))}))()},i.VH=function(n){var i=this;return Zt((function(){return Ht(this,(function(r){return n.clearkey&&!n.fairplay&&Gn.eg?[2,!1]:[2,t.prototype.VH.call(i,n)]}))}))()},n}(TK),kq=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).UH=kk.YC,n}It(n,t);var i=n.prototype;return i.uP=function(t,n,i,r,e,u,s){return new _q(n,i,e,u,qK(r.libraryLocation),new yq(r.libraryLocation),new mM(PM.Vg.Brt,PM.Vg.Lrt,PM.Vg.Mrt,PM.Vg.Frt),r)},i.WH=function(){return!0},n}(bq);UT(new kq),gz.Rt=function(){var t;return Boolean(null==(t=f)?void 0:t.THEOplayerDebugLogsEnabled)},F(),Tt(),F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Gt(),Rt(),qt(),F(),Tt();var Aq=function(){function t(){}var n=t.prototype;return n.vrt=function(t,n){return et.resolve(!1)},n.grt=function(t,n){return et.resolve(void 0)},n.drt=function(t){return et.resolve(void 0)},n.IQ=function(t){return et.resolve(void 0)},t}(),Tq=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Eqt=void 0,e.Nqt=void 0,e.Rqt=void 0,e.GT=new Yo,e.Mqt=function(){e._o(new rW)},e.Sc=n,e.vEt=new uj(r,new Aq,n.useCredentials,n.src,n.liveOffset),e.vEt.bn(oa.Gy,e.Ds),e.O6=!1,e}It(n,t);var i=n.prototype;return i.kqt=function(){var t;return null==(t=this.Eqt)?void 0:t.hLt},i.Sn=function(){var t=this;qo(mT((function(){return t.xqt(t.GT.Uw)}),this.GT.Uw))},i.xqt=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.vEt.qVt(t)];case 1:return i.sent(),n.Rqt&&(n.Iqt(n.Rqt.ji,n.Rqt.Ti),n.Rqt=void 0),n.O6=!0,[2]}}))}))()},i.Cqt=function(t,n){this.O6?this.Iqt(t,n):this.Rqt={ji:t,Ti:n}},i.Iqt=function(t,n){var i=this.Pqt(t,n),r=null==i?void 0:i.ZLt[0];r!==this.Eqt&&(this.Dqt(),void 0!==r&&(this.Eqt=r,this.Nqt=new wj(this.vEt,r),this.Nqt.tUt()))},i.Dqt=function(){this.Eqt=void 0,this.Nqt&&(this.Nqt.Xw(),this.Nqt=void 0)},i.Pqt=function(t,n){var i=ho(this.vEt.Er.GLt,(function(i){return void 0!==i.$Ct&&i.$Ct.ji===t&&i.$Ct.Ti===n}));return null!=i?i:this.vEt.Er.GLt[0]},i.yn=function(){this.Ro(),this.GT.jw(),this.GT.Xw(),this.Dqt(),this.vEt.Xw()},n}(ra);F(),Tt(),Dt(),Rt();var Sq=function(t){function n(n){var i;(i=t.call(this)||this).b9=n;for(var r=0;r<YT.length;r++){var e=YT[r];i.b9.bn(e,i.Ds)}return i}It(n,t);var i=n.prototype;return i.RR=function(t,n){this.ER=t},i.II=function(){return this.b9.II()},i.SI=function(){return this.b9.SI()},i.ja=function(){return this.b9.ja()},i.OI=function(t){return this.b9.OI(t)},i.TI=function(){return this.b9.TI()},i.be=function(){return this.b9.be()},i.NI=function(){return this.b9.NI()},i.MI=function(){return this.b9.MI()},i.EI=function(){return this.b9.EI()},i.xI=function(){return this.b9.xI()},i.nr=function(){return this.b9.nr()},i.Ca=function(t,n,i){return this.b9.Ca(t,n,i)},i.ge=function(){return this.b9.ge()},i.CI=function(){return this.b9.CI()},i.DI=function(){return this.b9.DI()},i.yn=function(){this.Ro();for(var t=0;t<YT.length;t++){var n=YT[t];this.b9.vn(n,this.Ds)}return this.b9.yn()},Nt(n,[{key:"ht",get:function(){return this.b9.ht}},{key:"wR",get:function(){return this.b9.wR}},{key:"bR",get:function(){return this.b9.bR},set:function(t){this.b9.bR=t}},{key:"bt",get:function(){return this.b9.bt}},{key:"ER",get:function(){return this.b9.ER},set:function(t){this.b9.ER=t}},{key:"ct",get:function(){return this.b9.ct}},{key:"PR",get:function(){return this.b9.PR}},{key:"MR",get:function(){return this.b9.MR}},{key:"OR",get:function(){return this.b9.OR}},{key:"lt",get:function(){return this.b9.lt}},{key:"WR",get:function(){return this.b9.WR}},{key:"GR",get:function(){return this.b9.GR}},{key:"ZR",get:function(){return this.b9.ZR},set:function(t){this.b9.ZR=t}},{key:"qR",get:function(){return this.b9.qR}},{key:"KR",get:function(){return this.b9.KR}},{key:"QR",get:function(){return this.b9.QR},set:function(t){this.b9.QR=t}},{key:"tI",get:function(){return this.b9.tI}},{key:"iI",get:function(){return this.b9.iI},set:function(t){this.b9.iI=t}},{key:"rI",get:function(){return this.b9.rI}},{key:"hI",get:function(){return this.b9.hI}},{key:"uI",get:function(){return this.b9.uI}},{key:"$G",get:function(){return this.b9.$G}},{key:"nt",get:function(){return this.b9.nt}},{key:"dI",get:function(){return this.b9.dI}},{key:"rt",get:function(){return this.b9.rt}},{key:"vI",get:function(){return this.b9.vI}},{key:"gI",get:function(){return this.b9.gI},set:function(t){this.b9.gI=t}},{key:"yI",get:function(){return this.b9.yI}},{key:"AI",get:function(){return this.b9.AI},set:function(t){this.b9.AI=t}},{key:"eH",get:function(){return this.b9.eH}},{key:"KB",get:function(){}}]),n}(ua),Eq=function(t){function n(n,i,r){var e;return(e=t.call(this,n)||this).Lqt=void 0,e.Oqt=!1,e.vWt=void 0,e.handleManifestUpdate=function(){var t=e.Lqt.kqt();if(t){var n=e.$G;if(n){var i=n.getTime(),r=e.vWt;r||(r=new LY,e.vWt=r),r.ir(t.fOt,(function(t){return(t.getTime()-i)/1e3})),!e.Oqt&&r.L.V>0&&(e.nt.tt(r),e.b8.tt(r),e.Oqt=!0)}}},e.dzt=function(){e.Lqt&&e.Lqt.Cqt(e.vI,e.dI)},e.Bqt=i,e.b8=new WD(e),e.bn(oa.jy,e.dzt),e}It(n,t);var i=n.prototype;return i.Ca=function(n,i,r){var e=this;return Zt((function(){return Ht(this,(function(u){switch(u.label){case 0:return[4,t.prototype.Ca.call(e,n,i,r)];case 1:return u.sent(),n.hlsDateRange&&e.Nyt(n,i),[2]}}))}))()},i.Nyt=function(t,n){this.Lqt=new Tq(t,n,this.Bqt),this.Lqt.bn(oa.Gy,this.handleManifestUpdate),this.Lqt.Sn()},i.nr=function(){return this.vWt&&(this.nt.it(this.vWt),this.b8.it(this.vWt),this.vWt.yn(),this.vWt=void 0,this.Oqt=!1),this.Lqt&&(this.Lqt.yn(),this.Lqt=void 0),this.b8.nr(),t.prototype.nr.call(this)},i.yn=function(){return this.vn(oa.jy,this.dzt),this.Lqt&&(this.Lqt.yn(),this.Lqt=void 0),this.b8.yn(),t.prototype.yn.call(this)},n}(Sq);!function(t){BT.GH().HH(t)}((function(t,n,i){return new Eq(t,n,i)})),F(),Tt(),F(),Tt(),F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Gt(),qt(),F(),Tt(),Dt(),Rt();var Iq=function(t){function n(n,i){var r;return void 0===i&&(i=""),(r=t.call(this,"An error occurred while casting.")||this).errorCode=n,r.description=i,r}return It(n,t),Nt(n,[{key:"name",get:function(){return"CastError"}}]),n}(Mo);function Rq(t){return Cq.apply(this,arguments)}function Cq(){return Cq=Zt((function(t){return Ht(this,(function(n){switch(n.label){case 0:return Lq()?[3,2]:[4,Nq(t)];case 1:n.sent(),n.label=2;case 2:return xq()?[3,4]:[4,$o(100,t)];case 3:n.sent(),n.label=4;case 4:return xq()?[3,6]:(Kn.Vp('Detected the Chromecast library was loaded without the CAF framework. It is strongly encouraged to load it with the CAF framework by using this URL: "//www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1"'),[4,Pq()]);case 5:n.sent(),n.label=6;case 6:return[2]}}))})),Cq.apply(this,arguments)}function Nq(t){return Dq.apply(this,arguments)}function Dq(){return Dq=Zt((function(t){var n,i,r,e,u,s;return Ht(this,(function(o){return(null==t?void 0:t.Fw)?[2,et.reject(new Oo)]:(n=function(){var t,n;return{Ub:new et((function(i,r){t=i,n=r})),Vb:t,Wb:n}}(),i=n.Ub,r=n.Vb,e=n.Wb,u=f.__onGCastApiAvailable,s=function(){f.__onGCastApiAvailable=u,e(new Oo)},f.__onGCastApiAvailable=function(n,i){n?r():e(new p(i)),null==t||t.Vw(s),f.__onGCastApiAvailable=u,u&&u(n,i)},null==t||t.Ww(s),[2,i])}))})),Dq.apply(this,arguments)}var Pq=Si((function(){return function(t){return new et((function(n,i){var r=v.createElement("script");r.onload=function(){return n()},r.onerror=function(t){return i((null==t?void 0:t.error)||t)},r.type="text/javascript",r.src=t,(v.head||v.documentElement).appendChild(r)}))}("//www.gstatic.com/cast/sdk/libs/sender/1.0/cast_framework.js").catch((function(){throw new Iq("API_NOT_INITIALIZED","The Chromecast library could not be loaded successfully.")}))}));function xq(){return Boolean("undefined"!=typeof cast&&cast.framework)}function Lq(){return"undefined"!=typeof chrome&&chrome&&chrome.cast&&chrome.cast.isAvailable}function Mq(t,n,i,r){if(Yn(n))for(var e=0,u=b.keys(n);e<u.length;e++){var s=u[e];if("type"!==s&&"images"!==s){var o=n[s];Yn(o)&&(t[s]=o)}}!function(t,n,i,r){if(!Yn(i)&&!Yn(null==n?void 0:n.images))return;t.images=[],i&&t.images.push(new r.Image(i));if(null==n?void 0:n.images)if(ti(n.images))t.images.push(new r.Image(n.images));else if(qn(n.images))for(var e=0,u=n.images;e<u.length;e++){var s,o,a=u[e],c=void 0;if(ti(a))c=new r.Image(a);else(c=new r.Image(a.src)).height=null!=(s=a.height)?s:null,c.width=null!=(o=a.width)?o:null;t.images.push(c)}}(t,n,i,r)}function Oq(t,n,i){return void 0===i&&(i=chrome),function(t,n,i){switch(null==t?void 0:t.type){case"movie":var r=new i.MovieMediaMetadata;return Mq(r,t,n,i),r;case"audio":var e=new i.MusicTrackMediaMetadata;return Mq(e,t,n,i),!Yn(e.artist)&&Yn(t.artistName)&&(e.artist=t.artistName),e;case"tv-show":var u=new i.TvShowMediaMetadata;return Mq(u,t,n,i),!Yn(u.title)&&Yn(t.episodeTitle)&&(u.title=t.episodeTitle),!Yn(u.season)&&Yn(t.seasonNumber)&&(u.season=t.seasonNumber),!Yn(u.episode)&&Yn(t.episodeNumber)&&(u.episode=t.episodeNumber),u;default:var s=new i.GenericMediaMetadata;return Mq(s,t,n,i),s}}(t,n,function(t){return{GenericMediaMetadata:t.cast.media.GenericMediaMetadata,MovieMediaMetadata:t.cast.media.MovieMediaMetadata,TvShowMediaMetadata:t.cast.media.TvShowMediaMetadata,MusicTrackMediaMetadata:t.cast.media.MusicTrackMediaMetadata,Image:t.cast.Image}}(i))}function Bq(t){switch(t){case chrome.cast.ErrorCode.CANCEL:return"CANCEL";case chrome.cast.ErrorCode.TIMEOUT:return"TIMEOUT";case chrome.cast.ErrorCode.API_NOT_INITIALIZED:return"API_NOT_INITIALIZED";case chrome.cast.ErrorCode.INVALID_PARAMETER:return"INVALID_PARAMETER";case chrome.cast.ErrorCode.EXTENSION_NOT_COMPATIBLE:return"EXTENSION_NOT_COMPATIBLE";case chrome.cast.ErrorCode.EXTENSION_MISSING:return"EXTENSION_MISSING";case chrome.cast.ErrorCode.RECEIVER_UNAVAILABLE:return"RECEIVER_UNAVAILABLE";case chrome.cast.ErrorCode.SESSION_ERROR:return"SESSION_ERROR";case chrome.cast.ErrorCode.CHANNEL_ERROR:return"CHANNEL_ERROR";case chrome.cast.ErrorCode.LOAD_MEDIA_FAILED:return"LOAD_MEDIA_FAILED";default:return"CANCEL"}}function Vq(t){if(t.items&&t.items.length>0&&t.currentItemId>=0)return ho(t.items,(function(n){return n.itemId===t.currentItemId}))}F(),Tt(),Gt(),Rt(),nn(),qt(),F(),Tt(),Dt(),Rt(),F(),Tt(),F(),Tt(),F(),Tt();var Fq="urn:x-cast:com.theoplayer.cast";F(),Tt(),F(),Tt();var Uq=function(t){return t.Fqt="theoplayer_receiver_info",t.Vqt="theoplayer_trackpropertychange",t.Wqt="theoplayer_propertychange",t}({});F(),Tt();var Wq=function(t){return t.SKIP_AD="SKIP_AD",t}({});F(),Tt();function Zq(t){v.createElement("img").src=t}F(),Tt(),F(),Tt(),Gt(),Dt(),qt(),F(),Tt();var Xq=new RegExp(/^(\d\d):(\d\d):(\d\d)(?:\.(\d{3}))?$/);function Gq(t){if(ti(t)){var n=t.match(Xq);if(n)return 3600*A(n[1],10)+60*A(n[2],10)+Number(n[3])+(Number(n[4])||0)/1e3}}function Hq(t){if(void 0!==t){var n=t.match(/^([1-9]?\d|100)%$/);if(n)return A(n[1])/100}}function zq(t,n){return"vmap"===t.type||!Yn(t.type)&&!Yn(n)}function Yq(t,n){return"vast"===t.type||!Yn(t.type)&&Yn(n)}F(),Tt(),Gt(),qt(),F(),Tt(),Dt(),Rt(),F(),Tt();var jq=function(){},Kq=function(t){function n(n){var i;return(i=t.call(this)||this).Oc=n.sort((function(t,n){return t.sL-n.sL})),i}return It(n,t),n.prototype.Gqt=function(){return null!=this.Hqt||(this.Hqt=Ao(this.Oc,(function(t){return t.Gqt()}))),this.Hqt},Nt(n,[{key:"Uqt",get:function(){return this.Oc}}]),n}(jq);F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt();var qq=function(t){function n(n,i){var r;return(r=t.call(this)||this).Zqt=n,r.Xqt=i,r.qqt=!1,r}return It(n,t),Nt(n,[{key:"o",get:function(){return this.Zqt}},{key:"sL",get:function(){return this.Xqt}},{key:"zqt",get:function(){return this.qqt}}]),n}(jq),Jq=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,n,i)||this).Qqt=r,a.$qt=e,a.eYt=u,a.Kqt=s,a.YG=o,a}return It(n,t),n.prototype.Gqt=function(){if(void 0===this.iYt){for(var t,n,i,r=[],e=0,u=this.Kqt;e<u.length;e++){var s=u[e];s.sYt&&(t=s.sYt),s.nYt&&(n=s.nYt),s.rYt&&(i=s.rYt),r=r.concat(s.universalAdIds)}this.iYt={tYt:this.tYt,sYt:t,oYt:n,rYt:i,lt:this.lt,hYt:r}}return[this.iYt]},Nt(n,[{key:"Yqt",get:function(){return this.Kqt}},{key:"jqt",get:function(){return this.Qqt}},{key:"Jqt",get:function(){return this.$qt}},{key:"tYt",get:function(){return this.eYt}},{key:"lt",get:function(){return this.YG}}]),n}(qq);F(),Tt(),Dt(),Rt(),F(),Tt(),Dt();var Qq=function(){function t(t,n){this.uYt=t,this.lYt=n}return Nt(t,[{key:"aYt",get:function(){return this.uYt}},{key:"cYt",get:function(){return this.lYt}}]),t}(),$q=function(){function t(t,n,i,r,e,u){this.fYt=t,this.vYt=n,this.gYt=i,this.wYt=r,this.TYt=!1,this.AYt=e,this.Qqt=u}return t.prototype.kYt=function(){this.TYt=!0},Nt(t,[{key:"dYt",get:function(){return this.fYt}},{key:"_Yt",get:function(){return this.vYt}},{key:"mYt",get:function(){return this.gYt}},{key:"pYt",get:function(){return this.wYt}},{key:"sd",get:function(){return this.yYt},set:function(t){this.yYt=t}},{key:"bYt",get:function(){return this.AYt}},{key:"SYt",get:function(){return this.TYt}},{key:"jqt",get:function(){return this.Qqt}}]),t}();F(),Tt(),Dt();var tJ=function(t){return t.EYt="all",t.xYt="any",t.$H="none",t}({});var nJ=function(){function t(t,n){this.IYt=t,this.PYt=n}return Nt(t,[{key:"RYt",get:function(){return this.IYt}},{key:"CYt",get:function(){return this.PYt}}]),t}(),iJ=function(){function t(t,n,i,r,e,u,s,o,a,c,h,f,v,d,l,g){this.YA=t,this.KA=n,this.zS=i,this.NYt=r,this.LYt=e,this.OYt=u,this.VYt=s,this.UYt=o,this.HYt=a,this.XYt=c,this.fYt=h,this.vYt=f,this.gYt=v,this.qYt=d,this.YYt=l,this.jYt=g}return Nt(t,[{key:"o",get:function(){return this.zS}},{key:"ji",get:function(){return this.YA}},{key:"Ti",get:function(){return this.KA}},{key:"DYt",get:function(){return this.NYt}},{key:"MYt",get:function(){return this.LYt}},{key:"BYt",get:function(){return this.OYt}},{key:"FYt",get:function(){return this.VYt}},{key:"WYt",get:function(){return this.UYt}},{key:"GYt",get:function(){return this.HYt}},{key:"ZYt",get:function(){return this.XYt}},{key:"dYt",get:function(){return this.fYt}},{key:"_Yt",get:function(){return this.vYt}},{key:"mYt",get:function(){return this.gYt}},{key:"zYt",get:function(){return this.qYt}},{key:"cYt",get:function(){return this.YYt}},{key:"KYt",get:function(){return this.jYt}}]),t}();F(),Tt(),Dt();var rJ=function(){function t(t,n){this.zS=t,this.ZOt=n}return Nt(t,[{key:"id",get:function(){return this.zS}},{key:"uri",get:function(){return this.ZOt}}]),t}(),eJ=function(){function t(t,n,i,r){this.JYt=t,this.tKt=n,this.iKt=i,this.nKt=r}return Nt(t,[{key:"QYt",get:function(){return this.JYt}},{key:"$Yt",get:function(){return this.tKt}},{key:"eKt",get:function(){return this.iKt}},{key:"sKt",get:function(){return this.nKt}}]),t}(),uJ=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return(h=t.call(this,n,i)||this).eYt=r,h.oKt=e,h.aKt=u,h.Kqt=s,h.cKt=o,h.dKt=a,h.YG=c,h}It(n,t);var i=n.prototype;return i.Gqt=function(){var t=this;return void 0===this.oKt?[]:(null!=this.Hqt||(this.Hqt=this.oKt.Gqt().map((function(n){return t.fKt(n)}))),this.Hqt)},i.fKt=function(t){for(var n,i,r,e=0,u=this.Yqt;e<u.length;e++){var s=u[e];s.sYt&&(n=s.sYt),s.nYt&&(i=s.nYt),s.rYt&&(r=s.rYt)}var o=t.tYt.concat(this.tYt),a=t.sYt;if(n&&t.sYt){var c=new eJ(t.sYt._Kt.QYt,t.sYt._Kt.$Yt,t.sYt._Kt.eKt.concat(n._Kt.eKt),t.sYt._Kt.sKt.concat(n._Kt.sKt));(a=t.sYt)._Kt=c,a.cYt=a.cYt.concat(n.cYt)}var h=t.oYt;if(i&&i.aYt){for(var f,v,d=[],l=0,g=i.aYt;l<g.length;l++){var w=g[l];d.concat(w.pYt.eKt)}for(var m,y,p=[],_=0,b=null!=(m=null==(f=t.oYt)?void 0:f.aYt)?m:[];_<b.length;_++){var k,A,T,S=b[_],E=new eJ(S.pYt.QYt,S.pYt.$Yt,S.pYt.eKt.concat(d),(null!=(A=null==(k=t.sYt)?void 0:k._Kt.sKt)?A:[]).concat(null!=(T=null==n?void 0:n._Kt.sKt)?T:[]));p.push(new $q(S.dYt,S._Yt,S.mYt,E,S.bYt,S.jqt))}h=new Qq(p,(null!=(y=null==(v=t.oYt)?void 0:v.cYt)?y:[]).concat(i.cYt))}var I=t.rYt;if(I){var R,C,N,D=I.RYt;r&&r.RYt&&(D=r.RYt),I=new nJ(D,(null!=(C=null==(R=t.rYt)?void 0:R.CYt)?C:[]).concat(null!=(N=null==r?void 0:r.CYt)?N:[]))}var P=t.lt;return this.lt&&(P=this.lt),{tYt:o,sYt:a,oYt:h,rYt:I,lt:P,hYt:t.hYt}},Nt(n,[{key:"tYt",get:function(){return this.eYt}},{key:"rKt",get:function(){return this.oKt}},{key:"hKt",get:function(){return this.aKt}},{key:"Yqt",get:function(){return this.Kqt}},{key:"uKt",get:function(){return this.cKt}},{key:"lKt",get:function(){return this.dKt}},{key:"lt",get:function(){return this.YG}}]),n}(qq);F(),Tt(),Dt();var sJ=function(){function t(t,n,i,r,e,u,s,o){this.zS=t,this.mKt=n,this.pKt=i,this.UYt=r,this.wKt=e,this.yKt=u,this.bKt=s,this.AKt=o}return Nt(t,[{key:"o",get:function(){return this.zS}},{key:"vKt",get:function(){return this.mKt}},{key:"gKt",get:function(){return this.pKt}},{key:"WYt",get:function(){return this.UYt}},{key:"sYt",get:function(){return this.wKt}},{key:"nYt",get:function(){return this.yKt}},{key:"rYt",get:function(){return this.bKt}},{key:"universalAdIds",get:function(){return this.AKt}}]),t}();F(),Tt(),Dt();var oJ=function(){function t(t,n,i,r,e,u,s,o){this.SKt=t,this.kKt=n,this.lYt=i,this.EKt=r,this.RKt=e,this.TYt=!1,this.AYt=u,this.Qqt=s,this.NKt=o}return t.prototype.kYt=function(){this.TYt=!0},Nt(t,[{key:"ct",get:function(){return this.SKt}},{key:"TKt",get:function(){return this.kKt}},{key:"cYt",get:function(){return this.lYt},set:function(t){this.lYt=t}},{key:"_Kt",get:function(){return this.EKt},set:function(t){this.EKt=t}},{key:"xKt",get:function(){return this.RKt},set:function(t){this.RKt=t}},{key:"IKt",get:function(){return this.TYt}},{key:"sd",get:function(){return this.yYt},set:function(t){this.yYt=t}},{key:"bYt",get:function(){return this.AYt}},{key:"jqt",get:function(){return this.Qqt}},{key:"CKt",get:function(){return this.PKt},set:function(t){this.PKt=t}},{key:"DKt",get:function(){return this.NKt}}]),t}();function aJ(t,n){return vJ(t)&&t.getAttribute(n)||void 0}function cJ(t,n){return hJ(t,n,void 0,!1)}function hJ(t,n,i,r){return n===(t.localName?t.localName:t.nodeName)&&(r&&i?i===t.namespaceURI:!i||!t.namespaceURI||i===t.namespaceURI)}function fJ(t,n){for(var i=[],r=0;r<t.childNodes.length;r+=1){var e=t.childNodes.item(r);vJ(e)&&cJ(e,n)&&i.push(e)}return i}function vJ(t){return t&&1===t.nodeType}function dJ(t,n){var i=(new DOMParser).parseFromString(t,n);if(!i||i.getElementsByTagName("parsererror").length>0)throw new p('Invalid document for MIME type "'+n+'"');return i}function lJ(t){return dJ(t,"text/xml")}function gJ(t){return t.replace(/[<>&'"]/g,(function(t){switch(t){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&apos;";case'"':return"&quot;";default:return t}}))}function wJ(t){return"data:application/xml,"+encodeURIComponent(t)}F(),Tt(),F(),Tt(),Dt();var mJ=function(t){return t.MKt="mute",t.LKt="unmute",t.zy="pause",t.BKt="resume",t.OKt="rewind",t.FKt="skip",t.VKt="playerExpand",t.WKt="playerCollapse",t.UKt="fullscreen",t.GKt="exitFullscreen",t.HKt="expand",t.COLLAPSE="collapse",t.fTt="start",t.ZKt="firstQuartile",t.XKt="thirdQuartile",t.zKt="midpoint",t.qKt="complete",t.YKt="acceptInvitationLinear",t.KKt="acceptInvitation",t.jKt="timeSpentViewing",t.QKt="otherAdInteraction",t.qy="progress",t.JKt="creativeView",t.$Kt="adExpand",t.tjt="adCollapse",t.ejt="minimize",t.ijt="close",t.sjt="closeLinear",t.njt="overlayViewDuration",t.rjt="breakStart",t.ojt="breakEnd",t.fa="error",t}({});function yJ(t){switch(t){case"breakStart":case"breakEnd":case"error":return!0;default:return!1}}var pJ=["mute","unmute","pause","resume","rewind","skip","closeLinear","close","playerExpand","playerCollapse","fullscreen","exitFullscreen","expand","collapse","creativeView","start","firstQuartile","midpoint","thirdQuartile","complete","acceptInvitationLinear","acceptInvitation","timeSpentViewing","otherAdInteraction","progress"];function _J(t){return void 0!==t&&-1!==pJ.indexOf(t)}var bJ=["start","firstQuartile","midpoint","thirdQuartile","complete","mute","unmute","pause","resume","rewind","skip","playerExpand","playerCollapse","expand","collapse","fullscreen","exitFullscreen","creativeView","acceptInvitation","adExpand","adCollapse","minimize","close","overlayViewDuration","otherAdInteraction","progress"];function kJ(t){return void 0!==t&&-1!==bJ.indexOf(t)}var AJ=["mute","unmute","pause","resume","rewind","skip","playerExpand","playerCollapse","creativeView"];function TJ(t){return void 0!==t&&-1!==AJ.indexOf(t)}function SJ(t,n){if(void 0!==t&&""!==t&&void 0!==n){var i=t.match(/^(\d+):(\d+):(\d+)$/);return i?T(i[1]||"0")+60*T(i[2]||"0")+T(i[3]||"0"):(i=t.match(/^(100|[1-9]\d|\d)%$/))?T(i[1]||"0")*n/100:void 0}}var EJ=function(){function t(t,n,i){this.hjt=t,this.ajt=n,this.ujt=i}return Nt(t,[{key:"WX",get:function(){return this.hjt}},{key:"nc",get:function(){return this.ajt}},{key:"eventURL",get:function(){return this.ujt}}]),t}();F(),Tt(),Dt(),Rt();var IJ=function(){function t(t){this.ljt=t}return Nt(t,[{key:"cjt",get:function(){return this.ljt}}]),t}(),RJ=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n)||this).fjt=i,u.JYt=r,u.jYt=e,u}return It(n,t),Nt(n,[{key:"QYt",get:function(){return this.JYt}},{key:"KYt",get:function(){return this.jYt}},{key:"djt",get:function(){return this.fjt}}]),n}(IJ),CJ=function(t){function n(n){return t.call(this,n)||this}return It(n,t),n}(IJ),NJ=function(t){function n(n){return t.call(this,n)||this}return It(n,t),n}(IJ);F(),Tt(),Dt();var DJ={_jt:{Gb:100,wb:"XML parsing error."},vjt:{Gb:303,wb:"Empty or invalid VAST error."},mjt:{Gb:400,wb:"General linear error"},gjt:{Gb:403,wb:"Unsupported MIME-type or missing mediafiles error"},pjt:{Gb:500,wb:"General nonlinear error"},_X:{Gb:900,wb:"Network error"}},PJ=function(){function t(t){this.yjt=t}return t.prototype.bjt=function(t){if(this.wjt){var n=this.wjt.replace(/\[ERRORCODE]/,""+t.Gb);Zq(n)}},Nt(t,[{key:"wjt",get:function(){return this.yjt}}]),t}();F(),Tt(),Dt(),Rt();var xJ=function(t){function n(n,i,r,e){var u;return(u=t.call(this,r||i&&OJ[i]||n,e)||this).Sjt=n,u.kjt=i,u.v3=r,u}return It(n,t),Nt(n,[{key:"Ajt",get:function(){return this.Sjt}},{key:"Tjt",get:function(){var t;return null!=(t=this.kjt)?t:900}}]),n}(Mo),LJ=function(t){return t.ADBLOCK="adblock",t.NETWORK="network",t.PARSING="parsing",t.PLAYBACK="playback",t.GENERAL="general",t}({}),MJ=function(t){return t[t.VAST_MALFORMED_RESPONSE=100]="VAST_MALFORMED_RESPONSE",t[t.VAST_SCHEMA_VALIDATION_ERROR=101]="VAST_SCHEMA_VALIDATION_ERROR",t[t.VAST_UNSUPPORTED_VERSION=102]="VAST_UNSUPPORTED_VERSION",t[t.VAST_TRAFFICKING_ERROR=200]="VAST_TRAFFICKING_ERROR",t[t.VAST_UNEXPECTED_LINEARITY=201]="VAST_UNEXPECTED_LINEARITY",t[t.VAST_UNEXPECTED_DURATION_ERROR=202]="VAST_UNEXPECTED_DURATION_ERROR",t[t.UNEXPECTED_SIZE=203]="UNEXPECTED_SIZE",t[t.VAST_WRAPPER_ERROR=300]="VAST_WRAPPER_ERROR",t[t.VAST_LOAD_TIMEOUT=301]="VAST_LOAD_TIMEOUT",t[t.VAST_TOO_MANY_REDIRECTS=302]="VAST_TOO_MANY_REDIRECTS",t[t.VAST_NO_ADS_AFTER_WRAPPER=303]="VAST_NO_ADS_AFTER_WRAPPER",t[t.GENERAL_LINEAR_ERROR=400]="GENERAL_LINEAR_ERROR",t[t.FILE_NOT_FOUND=401]="FILE_NOT_FOUND",t[t.VAST_MEDIA_LOAD_TIMEOUT=402]="VAST_MEDIA_LOAD_TIMEOUT",t[t.VAST_LINEAR_ASSET_MISMATCH=403]="VAST_LINEAR_ASSET_MISMATCH",t[t.VAST_PROBLEM_DISPLAYING_MEDIA_FILE=405]="VAST_PROBLEM_DISPLAYING_MEDIA_FILE",t[t.MEZZANINE_FILE_REQUIRES=406]="MEZZANINE_FILE_REQUIRES",t[t.MEZZANINE_FILE_DOWNLOADED_FIRST_TIME=407]="MEZZANINE_FILE_DOWNLOADED_FIRST_TIME",t[t.AD_IN_VAST_REJECTED=408]="AD_IN_VAST_REJECTED",t[t.INTERACTIVE_CREATIVE_NOT_EXECUTED=409]="INTERACTIVE_CREATIVE_NOT_EXECUTED",t[t.VERIFICATION_CODE_NOT_EXECUTED=410]="VERIFICATION_CODE_NOT_EXECUTED",t[t.GENERAL_NON_LINEAR_ERROR=500]="GENERAL_NON_LINEAR_ERROR",t[t.NONLINEAR_DIMENSIONS_ERROR=501]="NONLINEAR_DIMENSIONS_ERROR",t[t.OVERLAY_AD_LOADING_FAILED=502]="OVERLAY_AD_LOADING_FAILED",t[t.VAST_NONLINEAR_ASSET_MISMATCH=503]="VAST_NONLINEAR_ASSET_MISMATCH",t[t.GENERAL_COMPANION_AD_ERROR=600]="GENERAL_COMPANION_AD_ERROR",t[t.INVALID_DIMENSIONS_COMPANION_AD=601]="INVALID_DIMENSIONS_COMPANION_AD",t[t.COMPANION_REQUIRED_ERROR=602]="COMPANION_REQUIRED_ERROR",t[t.COMPANION_AD_LOADING_FAILED=603]="COMPANION_AD_LOADING_FAILED",t[t.UNABLE_TO_FIND_SUPPORTED_COMPANION=604]="UNABLE_TO_FIND_SUPPORTED_COMPANION",t[t.UNKNOWN_ERROR=900]="UNKNOWN_ERROR",t[t.GENERAL_VPAID_ERROR=901]="GENERAL_VPAID_ERROR",t[t.MALFORMED_URI=1005]="MALFORMED_URI",t[t.VAST_ASSET_NOT_FOUND=1007]="VAST_ASSET_NOT_FOUND",t[t.VAST_EMPTY_RESPONSE=1009]="VAST_EMPTY_RESPONSE",t[t.UNKNOWN_AD_RESPONSE=1010]="UNKNOWN_AD_RESPONSE",t[t.UNSUPPORTED_LOCALE=1011]="UNSUPPORTED_LOCALE",t[t.INVALID_ARGUMENTS=1101]="INVALID_ARGUMENTS",t[t.INVALID_ADX_EXTENSION=1105]="INVALID_ADX_EXTENSION",t[t.AUTOPLAY_DISALLOWED=1205]="AUTOPLAY_DISALLOWED",t}({}),OJ={100:"XML parsing error.",101:"VAST schema validation error.",102:"VAST version of response not supported.",200:"Trafficking error. The video player received an ad type that it was not expecting and/or cannot display.",201:"Video player expecting different linearity.",202:"Video player expecting different duration.",203:"Video player expecting different size.",300:"General wrapper error.",301:"Timeout of VAST URI provided in wrapper element, or of VAST URI provided in a subsequent wrapper element. This includes request errors such as invalid URI, unreachable or request timeout for URI, and security or other exceptions related to requesting a VAST URI.",302:"Wrapper limit reached, as defined by the video player. Too many wrapper responses have been received with no InLine response. This can be caused by a circular loop of daisy chaining (one network bouncing to another and another).",303:"No ads VAST response after one or more wrappers. This also includes the number of empty VAST responses from fallback.",400:"General linear error. The video player is unable to display the linear ad.",401:"File not found. Unable to find Linear/MediaFile from URI.",402:"Unable to download or timeout of MediaFile URI.",403:"Could not find a media file that is supported by this video player, based on the attributes of the MediaFile element.",405:"Problem displaying a media file.",406:"A mezzanine file was required, but not provided.",407:"The mezzanine file was downloaded for the first time, so the ad did not serve. This can occur when an ad insertion is missed because the creative is being transcoded. It continues to occur until the creative is available for insertion.",408:"The ad returned in the VAST response was rejected.",409:"The interactive creative defined in the InteractiveCreativeFile node was not executed.",410:"The code referenced in the Verification node was not executed.",500:"General NonLinearAds error.",501:"Unable to display non-linear ad because creative dimensions do not align with creative display area (in other words, the creative dimension was too large). This can occur if you use CSS styles to set width and height of the video ,content element. You should instead use the width and height HTML attributes.",502:"Unable to fetch NonLinearAds/NonLinear resource.",503:"Could not find NonLinearResource with supported type. This can occur when a creative size is larger than the player size.",600:"General CompanionAds error.",601:"Unable to display companion because creative dimensions do not fit within the companion display area (in other words, space was not available).",602:"Unable to display required companion.",603:"Unable to fetch CompanionAds/Companion resource.",604:"Could not find Companion resource with supported type.",900:"VAST 2 error. Even if you request VAST 3 or your DFP network default is VAST 3, this can occur if you have a VAST redirect that returns a VAST 2 response.",901:"General VPAID error",1005:"URI malformed."};function BJ(t){if(!t)return!1;switch(t.toLocaleLowerCase()){case cA.YC:case cA.KC:case cA.qC:return!0;default:return!1}}function VJ(t){var n=Ci();return!!(BJ(t)||t&&n&&(null==n?void 0:n.canPlayType)&&n.canPlayType(t))||(UJ("Invalid or unsupported MediaFile Content delivery type, skipping mediafile"),!1)}function FJ(t,n){for(var i=0;i<n.length;i++){var r=n[i];new PJ(r).bjt(t)}}function UJ(t){0}F(),Tt(),F(),Tt(),Dt();var WJ=function(){function t(t,n){this.xjt=t,this.Ijt=n}return Nt(t,[{key:"Ejt",get:function(){return this.xjt}},{key:"Rjt",get:function(){return this.Ijt}}]),t}(),ZJ=function(){function t(){}var n=t.prototype;return n.Cjt=function(n,i){var r=this;return Zt((function(){var e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return zq(n.sources,n.timeOffset)?[4,t.Pjt(n.sources.src,i)]:[3,7];case 1:if(e=a.sent(),!(u=e&&e.documentElement))throw new xJ(LJ.NETWORK,MJ.VAST_SCHEMA_VALIDATION_ERROR,"Ad source is not a valid XML document.");return cJ(u,"VMAP")?[4,r.Djt(u,n,i)]:[3,3];case 2:return[2,a.sent()];case 3:return cJ(u,"VAST")?[4,r.Njt(u,i,!1)]:[3,5];case 4:return(s=a.sent())?(o=new YJ("",!0,!0,s),[2,[new HJ("start",o,XJ.Mjt,"",[],!1,!0,n)]]):[2,[]];case 5:throw new xJ(LJ.GENERAL,MJ.VAST_MALFORMED_RESPONSE,"Only VMAP and VAST files are allowed as ad source.");case 6:return[3,8];case 7:if(Yq(n.sources,n.timeOffset))return[2,[new zJ(String(n.timeOffset),n,i)]];throw new xJ(LJ.GENERAL,MJ.VAST_MALFORMED_RESPONSE,"Something went wrong parsing the ad source; only VMAP and VAST files are allowed as ad source.");case 8:return[2]}}))}))()},n.Ljt=function(n,i,r,e){void 0===e&&(e=[]);var u=this;return Zt((function(){var s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,t.Pjt(n,i)];case 1:return s=c.sent(),[3,3];case 2:throw o=c.sent(),FJ(o instanceof xJ&&o.Tjt===MJ.VAST_MALFORMED_RESPONSE?DJ.vjt:DJ._X,e),o;case 3:return(a=s&&s.documentElement)&&cJ(a,"VAST")?[4,u.Njt(a,i,r,e)]:[3,5];case 4:return[2,c.sent()];case 5:a&&cJ(a,"VMAP")&&Yr("Received VMAP ad when expecting VAST. Please set the type of your ad source in the configuration, or make sure to not set a timeOffset for VMAP ad sources. VMAP ads have their own offsets included."),c.label=6;case 6:return[2,void 0]}}))}))()},n.Bjt=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:if(!(null==(u=t.sources)?void 0:u.src))throw new xJ(LJ.GENERAL,MJ.MALFORMED_URI,"Property src on adSource is missing.");return[4,e.Ljt(t.sources.src,r,!1)];case 1:return s=c.sent(),o=new YJ("",!0,!0,s),(a=new HJ(n,o,XJ.Mjt,"",[],!1,!0,t)).Ojt=i,[2,a]}}))}))()},n.Njt=function(t,n,i,r){void 0===r&&(r=[]);var e=this;return Zt((function(){var u,s,o,a,c,h,f,v,d,l,g,w;return Ht(this,(function(m){switch(m.label){case 0:if(u=[],s=[],o=[],!t||!cJ(t,"VAST")){if(FJ(DJ.vjt,r),i)throw new xJ(LJ.PARSING,MJ.VAST_NO_ADS_AFTER_WRAPPER,"No VAST element found after wrapper.");throw new xJ(LJ.PARSING,MJ.VAST_EMPTY_RESPONSE,"The VAST element was empty.")}if(0===fJ(t,"Ad").length)return[3,7];a=0,c=fJ(t,"Ad"),m.label=1;case 1:if(!(a<c.length))return[3,6];h=c[a],m.label=2;case 2:return m.trys.push([2,4,,5]),[4,e.Fjt(h,n,r)];case 3:return 0===(f=m.sent()).sL?u.push(f):s.push(f),[3,5];case 4:return v=m.sent(),o.push(v),[3,5];case 5:return a++,[3,1];case 6:if(0===u.length&&0===s.length&&o.length>0)throw o[0];if(1===u.length&&0===s.length)return[2,u[0]];if(0===u.length&&0!==s.length)return[2,new Kq(s)];if(u.length>0||s.length>0)return[2,new Kq(s.concat(u))];m.label=7;case 7:if(0!==fJ(t,"Error").length)for(d=0,l=fJ(t,"Error");d<l.length;d++)g=l[d],UJ(DJ.vjt.wb),(w=g.textContent)&&r.push(w.trim());if(FJ(DJ.vjt,r),i)throw new xJ(LJ.PARSING,MJ.VAST_NO_ADS_AFTER_WRAPPER,"No VAST element found after wrapper.");throw new xJ(LJ.PARSING,MJ.VAST_EMPTY_RESPONSE,"The VAST element was empty.")}}))}))()},n.Djt=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:e=[],u=fJ(t,"AdBreak"),s=0,h.label=1;case 1:if(!(s<u.length))return[3,6];o=u[s],h.label=2;case 2:return h.trys.push([2,4,,5]),[4,r.Vjt(o,n,i)];case 3:return(a=h.sent())&&e.push(a),[3,5];case 4:return c=h.sent(),Kn.Fp(c),[3,5];case 5:return s++,[3,1];case 6:return[2,e]}}))}))()},n.Fjt=function(n,i,r){var e=this;return Zt((function(){var u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return u=aJ(n,"id")||"",(s=DF(aJ(n,"sequence")))||(s=0),o=fJ(n,"InLine"),0===(a=fJ(n,"Wrapper")).length?[3,2]:[4,e.Wjt(a[0],u,s,i,r)];case 1:return[2,c.sent()];case 2:if(0!==o.length)return[2,t.Ujt(o[0],u,s,r)];c.label=3;case 3:throw new xJ(LJ.PARSING,MJ.VAST_SCHEMA_VALIDATION_ERROR,"An Ad tag without a Wrapper or inline element cannot be parsed")}}))}))()},n.Wjt=function(n,i,r,e,u){var s=this;return Zt((function(){var o,a,c,h,f,v,d,l,g,w,m,y,p,_,b,k;return Ht(this,(function(A){switch(A.label){case 0:for(o=fJ(n,"Error")[0],a="",o&&o.textContent&&(a=o.textContent,u.push(a)),c=fJ(n,"AdSystem")[0],h="",c&&(h=c.textContent||h),f=[],v=0,d=fJ(n,"Impression");v<d.length;v++)(l=d[v]).textContent&&f.push(l.textContent);return g=fJ(n,"VASTAdTagURI")[0],w="",g&&g.textContent&&(w=g.textContent),[4,s.Ljt(w,e,!0,u)];case 1:return m=A.sent(),y=fJ(n,"Creatives")[0],p=[],y&&(p=t.Hjt(y,h,u)),(_=xF(aJ(n,"followAdditionalWrappers")))||(_=!0),(b=xF(aJ(n,"allowMultipleAds")))||(b=!0),(k=xF(aJ(n,"fallbackOnNoAd")))||(k=!1),[2,new uJ(i,r,f,m,_,p,b,k,new PJ(a))]}}))}))()},n.Vjt=function(n,i,r){var e=this;return Zt((function(){var u,s,o,a,c,h,f,v,d,l,g,w,m,y,p,_,b;return Ht(this,(function(k){switch(k.label){case 0:if(u=aJ(n,"timeOffset")||"0",s=aJ(n,"breakType")||XJ.iE,o=aJ(n,"breakId"),a=xF(aJ(n,"repeatAfter")),c=void 0!==GJ.Jjt(u),void 0===o&&(o=""),void 0===a&&(a=!1),!c)throw new xJ(LJ.PARSING,MJ.VAST_SCHEMA_VALIDATION_ERROR,"Invalid TimeOffset type");if(h=fJ(n,"AdSource")[0],f=fJ(n,"TrackingEvents")[0],v=[],f&&(v=t.qjt(f,yJ,"vmap")),(d=aJ(h,"id"))||(d=""),void 0===(l=xF(aJ(h,"allowMultipleAds")))&&(l=!0),(g=xF(aJ(h,"followRedirects")))||(g=!0),w=fJ(h,"AdTagURI")[0],m="",y=fJ(h,"VASTAdData")[0],!w||!w.textContent)return[3,1];try{return m=w.textContent,(p=Cg(i)).sources.src=m,[2,new zJ(u,p,r)]}catch(t){return[2,void 0]}return[3,6];case 1:return y?y.firstElementChild&&hJ(y.firstElementChild,"VAST")?[4,e.Njt(y.firstElementChild,r,!1)]:[3,3]:[3,5];case 2:return(_=k.sent())?(b=new YJ(d,l,g,_),[2,new HJ(u,b,s,o,v,a,!1,i)]):[2,void 0];case 3:throw new xJ(LJ.PARSING,MJ.VAST_SCHEMA_VALIDATION_ERROR,"vmap:VASTAdData does not have a VAST-structure as a child element");case 4:return[3,6];case 5:throw new xJ(LJ.PARSING,MJ.VAST_SCHEMA_VALIDATION_ERROR,"Invalid AdTagURI source or invalid VASTAdData in Adbreak Element");case 6:return[2]}}))}))()},t.requestSuccessOnly=function(t,n){return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,n.Qk(t)];case 1:return i=e.sent(),[3,3];case 2:throw r=e.sent(),new xJ(LJ.NETWORK,MJ.UNKNOWN_ERROR,"Something went wrong while requesting xml from server.",r);case 3:if(!ul(i))throw new xJ(LJ.NETWORK,MJ.UNKNOWN_ERROR,"Something went wrong while requesting xml from server.");return[2,i]}}))}))()},t.Pjt=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return r=new vl({Xu:t,jk:Id.Tk,AE:ol.GET}),[4,i.requestSuccessOnly(r,n)];case 1:e=u.sent(),u.label=2;case 2:return u.trys.push([2,4,,5]),[4,e.Kk()];case 3:return[2,lJ.apply(void 0,[u.sent()])];case 4:throw u.sent(),new xJ(LJ.NETWORK,MJ.VAST_MALFORMED_RESPONSE,"The ad source could not be loaded.");case 5:return[2]}}))}))()},t.Ujt=function(n,i,r,e){var u,s=fJ(n,"Error")[0];s&&s.textContent&&(u=s.textContent,e.push(u));var o,a=fJ(n,"AdSystem")[0],c="";a&&(c=a.textContent||c);var h=fJ(n,"AdTitle")[0];h&&(o=h.textContent||void 0);for(var f=[],v=0,d=fJ(n,"Impression");v<d.length;v++){var l=d[v];l.textContent&&f.push(l.textContent)}var g=t.Gjt(fJ(n,"Creatives")[0],c,e);return new Jq(i,r,c,o,f,g,new PJ(u))},t.Hjt=function(n,i,r){for(var e=[],u=0,s=fJ(n,"Creative");u<s.length;u++){var o=s[u],a=aJ(o,"id");a||(a="");var c=DF(aJ(o,"sequence"));c||(c=0);var h=aJ(o,"adId");h||(h="");var f=fJ(o,"Linear")[0],v=void 0;f&&(v=t.Zjt(f,"wrapper",a,i,r));var d=fJ(o,"NonLinearAds")[0],l=void 0;if(d)try{l=t.Xjt(d,a,i)}catch(t){}var g=fJ(o,"CompanionAds")[0],w=void 0;g&&(w=t.zjt(g)),e.push(new sJ(a,h,c,"",v,l,w,[]))}return e},t.Gjt=function(n,i,r){for(var e=[],u=0,s=fJ(n,"Creative");u<s.length;u++){var o=s[u],a=aJ(o,"id");a||(a="");var c=DF(aJ(o,"sequence"));c||(c=0);var h=aJ(o,"adId");h||(h="");var f=aJ(o,"apiFramework");f||(f="");var v=fJ(o,"Linear")[0],d=void 0;if(v)try{d=t.Zjt(v,"inline",a,i,r)}catch(t){}if(0===(null==d?void 0:d.ct))throw new xJ(LJ.PARSING,MJ.VAST_UNEXPECTED_DURATION_ERROR,"The VAST response had a duration of 0 seconds, so skipping the ad(s).");var l=fJ(o,"NonLinearAds")[0],g=void 0;if(l)try{g=t.Xjt(l,a,i)}catch(t){}var w=fJ(o,"CompanionAds")[0],m=void 0;w&&(m=t.zjt(w));var y=fJ(o,"UniversalAdId"),p=t.parseUniversalAdIds(y);e.push(new sJ(a,h,c,f,d,g,m,p))}return e},t.Zjt=function(n,i,r,e,u){var s=fJ(n,"Duration")[0],o=0;if(s)o=Gq(s.textContent)||0;else if(!s&&"inline"===i)throw new xJ(LJ.PARSING,MJ.VAST_SCHEMA_VALIDATION_ERROR,"Missing duration element in inLine linear");var a=aJ(n,"skipoffset"),c=-1;if(a){var h=Gq(a);if(void 0===h&&a.indexOf("%")>-1){var f=k.abs(Number(a.replace(/(?![0-9])./g,"")))/100;S(f)||(h=o*f)}void 0!==h&&(c=h)}var v=fJ(n,"MediaFiles")[0],d=[],l=[];if(v&&(d=function(t,n){for(var i=[],r=0,e=fJ(t,"MediaFile");r<e.length;r++){var u=e[r],s=aJ(u,"delivery"),o=aJ(u,"type");if(o){if(n(o)){var a=DF(aJ(u,"width")),c=DF(aJ(u,"height"));a||(UJ(),a=0),c||(UJ(),c=0);var h={delivery:s,type:o,width:a,height:c,contentURL:""+u.textContent};i.push(h)}}else UJ()}return i}(v,VJ),l=function(t){var n=fJ(t,"ClosedCaptionFiles");if(0===n.length)return[];for(var i=[],r=0,e=fJ(n[0],"ClosedCaptionFile");r<e.length;r++){var u=e[r],s=aJ(u,"type");s||UJ();var o=aJ(u,"language");o||UJ();var a={type:null!=s?s:"",language:null!=o?o:"",contentURL:(""+u.textContent).trim()};i.push(a)}return i}(v)),"inline"===i&&(!v||0===d.length))throw FJ(DJ.gjt,u),new xJ(LJ.PARSING,MJ.VAST_LINEAR_ASSET_MISMATCH,"Missing MediaFiles in linear element");var g=fJ(n,"TrackingEvents")[0],w=[];g&&(w=t.qjt(g,_J,"linear"));var m=fJ(n,"VideoClicks")[0],y=t.Yjt(m);return new oJ(o,d,w,y,c,r,e,l)},t.Yjt=function(n){if(!n)return new eJ("","",[],[]);var i,r=fJ(n,"ClickThrough")[0],e="";r&&(i=r.textContent||void 0,e=aJ(r,"id")||"");var u=t.Kjt(fJ(n,"ClickTracking")),s=t.Kjt(fJ(n,"CustomClick"));return new eJ(i,e,u,s)},t.Kjt=function(t){for(var n=[],i=0;i<t.length;i++){var r=t[i],e=r.textContent;if(e){var u=aJ(r,"id")||"";n.push(new rJ(u,e))}}return n},t.qjt=function(t,n,i){for(var r=[],e=0,u=fJ(t,"Tracking");e<u.length;e++){var s=u[e],o=aJ(s,"event");if(n(o)){var a="";"linear"===i&&(a=aJ(t,"offset")||"0");var c=s.textContent;c&&r.push(new EJ(o,a,c))}else UJ()}return r},t.Xjt=function(n,i,r){for(var e=[],u=0,s=fJ(n,"NonLinear");u<s.length;u++){var o=s[u],a=fJ(o,"NonLinearClickThrough")[0],c=void 0;a&&(c=a.textContent||void 0);var h=t.Kjt(fJ(o,"NonLinearClickTracking")),f=fJ(o,"StaticResource")[0],v=void 0;if(f&&f.parentNode){var d=aJ(f,"creativeType"),l=f.textContent||"",g=fJ(f.parentNode,"NonLinearClickThrough")[0],w="";g&&(w=g.textContent||""),v=new RJ(l,d,w,"")}var m=t.jjt(o),y=t.parseHtmlResource(o);if(v||m||y){var p=new eJ(c,"",h,[]);e.push(new $q(v,m,y,p,i,r))}else UJ()}if(0===e.length)throw new xJ(LJ.PARSING,MJ.VAST_SCHEMA_VALIDATION_ERROR,"nonLinearAds element found with no nonLinear elements");var _=fJ(n,"TrackingEvents")[0],b=[];return _&&(b=t.qjt(_,kJ,"nonlinear")),new Qq(e,b)},t.parseUniversalAdIds=function(t){for(var n=[],i=0;i<t.length;i++){var r,e,u,s=t[i],o=null!=(r=aJ(s,"idRegistry"))?r:"",a=null!=(u=null!=(e=aJ(s,"idValue"))?e:s.textContent)?u:"";n.push(new WJ(o,a))}return n},t.zjt=function(n){var i=aJ(n,"requiredType");(function(t){switch(t){case"all":case"any":case"none":return!0;default:return!1}})(i)||(i=tJ.$H);for(var r=[],e=0,u=fJ(n,"Companion");e<u.length;e++){var s=u[e],o=DF(aJ(s,"width")),a=DF(aJ(s,"height")),c=aJ(s,"id"),h=DF(aJ(s,"assetWidth")),f=DF(aJ(s,"assetHeight")),v=DF(aJ(s,"expandedWidth")),d=DF(aJ(s,"rxpandedHeight")),l=aJ(s,"apiFramework"),g=aJ(s,"adSlotId"),w=DF(aJ(s,"pxratio")),m=fJ(s,"AltText")[0],y=m?m.textContent:"";o||(UJ(),o=0),a||(UJ(),a=0),c||(c=""),h||(h=0),f||(f=0),v||(v=0),d||(d=0),l||(l=""),g||(g=""),w||(w=1),y||(y="");var p=t.Qjt(s),_=t.jjt(s),b=t.parseHtmlResource(s),k=fJ(s,"TrackingEvents")[0],A=[];k&&(A=t.qjt(k,TJ,"companion"));var T=fJ(s,"CompanionClickThrough")[0],S=void 0;T&&(S=T.textContent||void 0);var E=t.Kjt(fJ(s,"CompanionClickTracking"));(p||_||b)&&r.push(new iJ(o,a,c,h,f,v,d,l,g,w,p,_,b,new eJ(S,"",E,[]),A,y))}return new nJ(i,r)},t.Qjt=function(t){var n,i=fJ(t,"StaticResource")[0];if(i&&i.parentNode){var r=aJ(i,"creativeType");r||(r="");var e,u=i.textContent,s=fJ(i.parentNode,"AltText")[0],o=fJ(i.parentNode,"CompanionClickThrough")[0],a="";s&&(a=s.textContent||""),o&&(e=o.textContent||void 0),u&&(n=new RJ(u,r,e,a))}return n},t.jjt=function(t){var n,i=fJ(t,"IFrameResource")[0];if(i){var r=i.textContent||"";n=new CJ(r)}return n},t.parseHtmlResource=function(t){var n,i=fJ(t,"HTMLResource")[0];if(i){var r=i.textContent||"";n=new NJ(r)}return n},t}(),XJ=function(t){return t.iE="",t.Mjt="linear",t.$jt="nonlinear",t.tQt="display",t}({}),GJ=function(){function t(){}return t.eQt=function(t){switch(t){case"linear":case"nonlinear":case"display":return!0;default:return!1}},t.iQt=function(t){},t.sQt=function(t){if(void 0!==t)return"start"===t?0:"end"===t?-1:void 0},t.nQt=function(t){var n=t.split(":"),i=0;return i+=3600*Number(n[0]),i+=60*Number(n[1]),i+=Number(n[2])},t.rQt=function(t){if(t<=0)return"00:00:00.000";var n=k.floor(t),i=t-n;return this.oQt(n/3600,2)+":"+this.oQt(n/60%60,2)+":"+this.oQt(n%60,2)+"."+this.oQt(1e3*i,3)},t.oQt=function(t,n){return("00"+k.floor(t)).slice(-n)},t.hQt=function(t,n){var i=this.Jjt(t);if(0===i)switch(t){case"start":return 0;case"end":return-1}else{if(2===i)return Hq(t)*n;if(1===i)return Gq(t);if(3===i)return this.sQt(t);if(4===i){var r=Number(t);if(!S(r)&&r>=-1)return r}}},t.Jjt=function(t){return"start"===t||"end"===t?0:void 0!==Gq(t.toString())?1:void 0!==Hq(t.toString())?2:void 0!==this.iQt(t.toString())?3:S(Number(t))?void 0:4},t}(),HJ=function(){function t(t,n,i,r,e,u,s,o){this.RKt=-1,this.lQt=n,this.dQt=t,this.wQt=i,this._Qt=r,this.mQt=u,this.YYt=e,this.yQt=s,this.uQt=o}return t.prototype.$n=function(){return et.resolve()},Nt(t,[{key:"aQt",get:function(){return this.uQt.integration}},{key:"cQt",get:function(){return this.lQt}},{key:"eOt",get:function(){return this.dQt}},{key:"xKt",get:function(){return this.RKt},set:function(t){this.RKt=t}},{key:"cYt",get:function(){return this.YYt}},{key:"fQt",get:function(){return this._Qt}},{key:"vQt",get:function(){return this.mQt}},{key:"wnt",get:function(){return this.uQt}},{key:"gQt",get:function(){return this.Ojt.od}},{key:"W",get:function(){return!0}},{key:"Ojt",get:function(){return this.pQt},set:function(t){this.pQt=t}}]),t}(),zJ=function(){function t(t,n,i){this.YE=!1,this.fW=i,this.yYt=new HJ(t,void 0,"","",[],!1,!1,n)}var n=t.prototype;return n.$n=function(){var t;return null!=(t=this.bQt)?t:this.bQt=this.QE()},n.QE=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,(new ZJ).Bjt(t.wnt,t.eOt,t.Ojt,t.fW)];case 1:return t.yYt=n.sent(),t.YE=!0,[2]}}))}))()},Nt(t,[{key:"aQt",get:function(){return this.yYt.aQt}},{key:"cQt",get:function(){return this.yYt.cQt}},{key:"eOt",get:function(){return this.yYt.eOt}},{key:"xKt",get:function(){return this.yYt.xKt},set:function(t){this.yYt.xKt=t}},{key:"cYt",get:function(){return this.yYt.cYt}},{key:"fQt",get:function(){return this.yYt.fQt}},{key:"vQt",get:function(){return this.yYt.vQt}},{key:"wnt",get:function(){return this.yYt.wnt}},{key:"gQt",get:function(){return this.yYt.gQt}},{key:"W",get:function(){return this.YE}},{key:"Ojt",get:function(){return this.yYt.Ojt},set:function(t){this.yYt.Ojt=t}}]),t}(),YJ=function(){function t(t,n,i,r){this.zS=t,this.AQt=n,this.kQt=r,this.TQt=i}return Nt(t,[{key:"o",get:function(){return this.zS}},{key:"uKt",get:function(){return this.AQt}},{key:"SQt",get:function(){return this.TQt}},{key:"Uqt",get:function(){return this.kQt}}]),t}();function jJ(t,n){var i;if(t.vastAdsRequest&&(i=function(t){if(t.adTagUrl)return t.adTagUrl;if(t.adsResponse)return wJ(t.adsResponse);return}(t.vastAdsRequest)),!i){var r=function(t){var n=t.contentUrl||t.contentId;if(!n)return;var i=t.contentType||"video/mp4",r=WA(i)||HA(t.contentType)?"streaming":"progressive",e=void 0!==t.duration?"<Duration>"+GJ.rQt(t.duration)+"</Duration>":"",u=void 0!==t.whenSkippable&&t.whenSkippable>=0?' skipoffset="'+GJ.rQt(t.whenSkippable)+'"':"",s='<MediaFile delivery="'+r+'" type="'+i+'">'+gJ(n)+"</MediaFile>",o=t.clickThroughUrl?"<VideoClicks><ClickThrough>"+gJ(t.clickThroughUrl)+"</ClickThrough></VideoClicks>":"",a="<Linear"+u+">"+e+"<MediaFiles>"+s+"</MediaFiles>"+o+"</Linear>",c=t.title?"<AdTitle>"+gJ(t.title)+"</AdTitle>":"";return'<VAST version="3.0"><Ad>'+c+"<InLine><Creatives><Creative>"+a+"</Creative></Creatives></InLine></Ad></VAST>"}(t);r&&(i=wJ(r))}var e=t.customData;if(i){var u={integration:null==e?void 0:e.integration,sources:{src:i,type:"vast"},timeOffset:n};return u.integration&&"csai"!==u.integration&&"theo"!==u.integration||(u.skipOffset=t.whenSkippable),u}}var KJ=function(t){return t.EQt="error",t.xQt="sourceupdate",t}({}),qJ=function(t){function n(n){var i;return(i=t.call(this,"error")||this).lt=n,i}return It(n,t),n}(sa),JJ=function(t){function n(n,i){var r;return(r=t.call(this,"sourceupdate")||this).bt=n,r.Cc=i,r}return It(n,t),n}(sa),QJ=function(t){function n(n,i,r){var e;return(e=t.call(this,i)||this).XQt=0,e.VQt=function(t){e._o(new qJ(t))},e.FQt=function(t){var n,i=new Iq(Bq(t.code),null!=(n=t.description)?n:void 0);e.VQt(i)},e.YNt=n,e.CQt=i,e.RQt=r,e}It(n,t);var i=n.prototype;return i.IQt=function(t){this.CQt.IQt(t)},i.PQt=function(t){this.CQt.PQt(t)},i.DQt=function(t){this.CQt.DQt(t)},i.NQt=function(t){this.CQt.NQt(t)},i.MQt=function(t){this.RQt.addUpdateListener(t)},i.LQt=function(t){this.RQt.removeUpdateListener(t)},i.BQt=function(){var t=this,n=new Gc,i=new chrome.cast.media.GetStatusRequest;return this.RQt.getStatus(i,(function(){n.Vb({bt:t.kR(),Cc:t.iu()})}),(function(t){return n.Wb(t)})),n.Ub},i.kR=function(){var t;return null==(t=this.RQt.customData)?void 0:t.currentSource},i.iu=function(){var t,n;if(null==(t=this.YNt.OQt())?void 0:t.version){var i;n=null==(i=this.RQt.customData)?void 0:i.sourceDescription}else{var r,e=null==(r=Vq(this.RQt))?void 0:r.customData;(function(t){return Qn(t)&&t.theoplayer_version>=1&&Yn(t.streamStart)&&Yn(t.isLive)&&Yn(t.sourceDescription)})(e)&&(n=e.sourceDescription),n||(n=function(t){return{sources:[{src:t.contentId,type:t.contentType}],ads:$J(t)}}(this.RQt.media))}return n},i.EI=function(){var t=new chrome.cast.media.PauseRequest;this.RQt.pause(t,bi,this.FQt)},i.RI=function(){var t=new chrome.cast.media.StopRequest;this.RQt.stop(t,bi,this.FQt)},i.xI=function(){var t=new chrome.cast.media.PlayRequest;this.RQt.play(t,bi,this.FQt)},i.Rb=function(t,n){var i=this,r=new chrome.cast.media.SeekRequest;return r.currentTime=t,r.resumeState=n?chrome.cast.media.ResumeState.PLAYBACK_PAUSE:chrome.cast.media.ResumeState.PLAYBACK_START,new et((function(t,n){i.RQt.seek(r,t,(function(t){var i;n(new Iq(Bq(t.code),null!=(i=t.description)?i:void 0))}))}))},i.$R=function(t){this.CQt.hit(Fq,function(t){return{type:Uq.Wqt,properties:{playbackRate:t}}}(t)).catch(this.VQt)},i.WQt=function(t){var n=new chrome.cast.media.EditTracksInfoRequest(t);this.RQt.editTracksInfo(n,bi,this.FQt)},i.UQt=function(){return this.RQt.getEstimatedTime()},i.GQt=function(){return this.RQt.getEstimatedBreakClipTime()},i.HQt=function(){return this.RQt.getEstimatedBreakTime()},i.ZQt=function(){this.CQt.hit("urn:x-cast:com.google.cast.media",{type:Wq.SKIP_AD,requestId:this.XQt++,mediaSessionId:this.RQt.mediaSessionId}).catch(this.VQt)},i.yn=function(){this.Ro()},Nt(n,[{key:"AN",get:function(){return this.RQt}}]),n}(ra);function $J(t){return t.vmapAdsRequest&&t.vmapAdsRequest.adTagUrl?[{sources:{src:t.vmapAdsRequest.adTagUrl,type:"vmap"}}]:t.breaks&&t.breakClips?Ao(t.breaks,(function(n){return function(t,n){var i=function(i,e){var u=e[i],s=ho(n,(function(t){return t.id===u}));if(s){var o=jJ(s,t.position);o&&r.push(o)}},r=[];if(t.isWatched)return r;for(var e=0,u=t.breakClipIds;e<u.length;e++)i(e,u);return r}(n,t.breakClips)})):[]}F(),Tt();var tQ=function(){function t(t){this.YNt=t}var n=t.prototype;return n.zQt=function(t,n){this.YNt.addMessageListener(t,n)},n.qQt=function(t,n){this.YNt.removeMessageListener(t,n)},n.hit=function(t,n){var i=this;return new et((function(r,e){i.YNt.sendMessage(t,n,r,(function(t){var n;e(new Iq(Bq(t.code),null!=(n=t.description)?n:void 0))}))}))},n.yn=function(){},t}();function nQ(t){return"vmap"===t||"adrule"===t}function iQ(t){if(t)return ti(t)&&""!==t?{src:Vg(t),type:void 0}:function(t){return Qn(t)&&Boolean(t.src)}(t)&&""!==t.src?{src:Vg(t.src),type:rQ(t.type)}:void 0}function rQ(t){if(ti(t)){var n=t.toLowerCase();switch(n){case"vast":case"vmap":case"adrule":return n;default:return void Yr("The ad source type provided in the configuration could not be recognized: '"+t+"'.")}}else t||Yr("For better performance it is highly recommended to add the type to the configuration of your ad sources.")}function eQ(t){if(void 0!==t&&""!==t&&("string"==typeof t||"number"==typeof t)){switch(t){case"start":case"00:00:00":case"00:00:00.000":case"0%":case"0":return 0;case"end":case"100%":return-1}if("string"==typeof t){if(function(t){return Xq.test(t)}(t))return GJ.nQt(t);if(uQ(t))return t}return Number(t)>=0?Number(t):void 0}}function uQ(t){return new RegExp(/^\d{1,2}%$/).test(t)}function sQ(t){for(var n=[],i=function(t,r){if(qn(r))for(var e=0,u=r.length;e<u;e++){var s=Qn(r[e])&&r[e]?String(e):"";i(t+"["+encodeURIComponent(s)+"]",r[e])}else if(Qn(r))for(var o=0,a=b.keys(r);o<a.length;o++){var c=a[o];i(t+"["+encodeURIComponent(c)+"]",r[c])}else!function(t,i){n.push(t+"="+encodeURIComponent(null!=i?i:""))}(t,String(r))},r=0,e=b.keys(t);r<e.length;r++){var u=e[r];i(encodeURIComponent(u),t[u])}return n.join("&")}F(),Tt(),F(),Tt(),F(),Tt();var oQ=function(t){return t.Fqt="receiver_info",t._Bt="event",t.YQt="propertychange",t.Vqt="trackevent",t}({}),aQ=function(){function t(t){var n=this;this.jQt=[],this.QQt=[],this.eJt=function(t,i){var r=n.KQt(i);if(r)if(r.type===oQ.YQt)for(var e=0,u=n.jQt;e<u.length;e++)for(var s=u[e],o=0,a=b.keys(r.properties);o<a.length;o++){var c=a[o];s(c,r.properties[c])}else if(r.type===oQ._Bt)for(var h=0,f=n.QQt;h<f.length;h++){(0,f[h])(r.event)}else r.type===oQ.Vqt&&n.$Qt&&r.event.trackState&&n.$Qt(r.event.trackId,r.event.trackState.targetQualityIds)},this.tJt=t,this.tJt.zQt(Fq,this.eJt)}var n=t.prototype;return n.KQt=function(t){var n;try{n=JSON.parse(t)}catch(t){0}return n},n.IQt=function(t){this.jQt.push(t)},n.PQt=function(t){wo(this.jQt,t)},n.DQt=function(t){this.QQt.push(t)},n.NQt=function(t){wo(this.QQt,t)},n.JQt=function(t){this.$Qt=t},n.hit=function(t,n){return this.tJt.hit(t,n)},n.yn=function(){this.tJt.qQt(Fq,this.eJt),bo(this.QQt),bo(this.jQt),this.$Qt=void 0},t}();F(),Tt(),F(),Tt();var cQ=function(t){return t.iJt="medialoadedchange",t.ub="volumechange",t.EQt="casterror",t.sJt="playererror",t.nJt="targetqualitychanged",t.rJt="receiverinfochanged",t}({}),hQ=function(t){function n(){return t.call(this,"medialoadedchange")||this}return It(n,t),n}(sa),fQ=function(t){function n(n,i){var r;return(r=t.call(this,"volumechange")||this).gI=n,r.ZR=i,r}return It(n,t),n}(sa),vQ=function(t){function n(n){var i;return(i=t.call(this,"casterror")||this).lt=n,i}return It(n,t),n}(sa),dQ=function(t){function n(n){var i;return(i=t.call(this,"playererror")||this).lt=n,i}return It(n,t),n}(sa),lQ=function(t){function n(n,i){var r;return(r=t.call(this,"targetqualitychanged")||this).EN=n,r.oJt=i,r}return It(n,t),n}(sa),gQ=function(t){function n(){return t.call(this,"receiverinfochanged")||this}return It(n,t),n}(sa),wQ=function(t){function n(n){var i;(i=t.call(this)||this).cJt=void 0,i.VQt=function(t){i._o(new vQ(t))},i.SJt=function(t,n){"error"===t&&i._o(new dQ(n))},i.TJt=function(t,n){i._o(new lQ(t,n))},i.uJt=function(t,n){var r=JSON.parse(n);r.type===oQ.Fqt&&(i.cJt=r.info,i._o(new gQ))},i._Jt=function(){var t=i.lJt().receiver.volume,n=t.level,r=t.muted;i._o(new fQ(null!=n?n:void 0,null!=r?r:void 0))},i.AJt=function(){return i.dJt(i.YNt.getMediaSession())},i.vJt=function(t){var n;t||(null==(n=i.fJt)||n.LQt(i.vJt),i.fJt=void 0,i._o(new hQ))},i.yJt=function(t){var n,r=new Iq(Bq(t.code),null!=(n=t.description)?n:void 0);i.VQt(r)},i.YNt=n,i.YNt.addEventListener(cast.framework.SessionEventType.MEDIA_SESSION,i.AJt),i.tJt=new tQ(n.getSessionObj()),i.CQt=new aQ(i.tJt),i.CQt.IQt(i.SJt),i.CQt.JQt(i.TJt),i.lJt().addUpdateListener(i._Jt),i._Jt(),i.aJt();var r=i.YNt.getMediaSession();return r&&i.dJt(r),i}It(n,t);var i=n.prototype;return i.hJt=function(t,n,i){this.CQt.hit(Fq,function(t,n,i){return{type:Uq.Vqt,trackID:t,trackType:n,properties:{targetQuality:i}}}(t,n,i)).catch(this.VQt)},i.aJt=function(){this.tJt.zQt(Fq,this.uJt),this.CQt.hit(Fq,{type:Uq.Fqt}).catch(bi)},i.OQt=function(){return this.cJt},i.lJt=function(){return this.YNt.getSessionObj()},i.dJt=function(t){!this.fJt&&t&&t.idleReason!==chrome.cast.media.IdleReason.FINISHED&&(this.fJt=new QJ(this,this.CQt,t),this._Jt(),this._o(new hQ),this.fJt.MQt(this.vJt))},i.mJt=function(){return this.fJt},i.gJt=function(t){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:i=function(t){var n=function(t,n,i,r){var e=tn(function(t){for(var n=0,i=t.sources;n<i.length;n++){var r=i[n];if(QA(r)){var e=r.src;if(e){var u,s=null!=(u=r.type)?u:ZA(e);if(mQ(s))return[e,s]}}}var o,a;return[null!=(o=KS(t))?o:"",null!=(a=YS(t))?a:""]}(t),2),u=e[0],s=e[1],o=new chrome.cast.media.MediaInfo(u,s);return o.metadata=Oq(t.metadata,t.poster),o.streamType=r,function(t,n,i){for(var r,e=function(t){var e=n[t],c=iQ(e.sources);if(c)if(zq(c,e.timeOffset))(r=new chrome.cast.media.VastAdsRequest).adTagUrl=c.src;else if(Yq(c,e.timeOffset)){var h,f,v=null!=(h=e.timeOffset)?h:0,d=e.skipOffset,l=null!=(f=GJ.hQt(v,i))?f:0,g=void 0!==d?GJ.hQt(d,i):void 0,w=new chrome.cast.media.BreakClip("bc"+a++);w.vastAdsRequest=new chrome.cast.media.VastAdsRequest,w.vastAdsRequest.adTagUrl=c.src,w.whenSkippable=g,w.customData={integration:e.integration};var m=ho(s,(function(t){return t.position===l}));void 0===m&&(m=new chrome.cast.media.Break("b"+o++,[],l),s.push(m)),m.breakClipIds.push(w.id),u.push(w)}else 0;else 0},u=[],s=[],o=0,a=0,c=0;c<n.length;c++)e(c);t.breakClips=u,t.breaks=s,t.vmapAdsRequest=r}(o,n,i),o}(t.pJt,t.zc,t.ct,t.a0),i=new chrome.cast.media.LoadRequest(n);return i.autoplay=!0,i.currentTime=t.ER,i.customData=t.wJt,i}(t),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,n.YNt.loadMedia(i)];case 2:return r=u.sent(),[3,4];case 3:return e=u.sent(),r=e,[3,4];case 4:if(r)throw new Iq(Bq(r));return[2]}}))}))()},i.zR=function(t){this.lJt().setReceiverMuted(t,bi,this.yJt)},i.wI=function(t){this.lJt().setReceiverVolumeLevel(t,bi,this.yJt)},i.bJt=function(){return this.lJt().receiver.friendlyName},i.yn=function(){this.Ro(),this.YNt.removeEventListener(cast.framework.SessionEventType.MEDIA_SESSION,this.AJt),this.lJt().removeUpdateListener(this._Jt),this.tJt.qQt(Fq,this.uJt),this.CQt.yn(),this.tJt.yn()},n}(ra);function mQ(t){switch(t){case cA.YC:case cA.qC:case cA.KC:case cA.jC:return!0}return!1}var yQ=function(t){return t.kJt="statechange",t}({}),pQ=function(t){function n(n){var i;return(i=t.call(this,"statechange")||this).Vft=n,i}return It(n,t),n}(sa),_Q=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).z1t=void 0,n.X1t=void 0,n.gQ=function(){var t=n.P1t();n.z1t=t===BS.CONNECTED?new wQ(n.q1t.getCurrentSession()):void 0,n._o(new pQ(t))},n}It(n,t);var i=n.prototype;return i.a1t=function(t){this.X1t=t},i.u1t=function(){return this.X1t},i.l1t=function(){return this.z1t},i.P1t=function(){switch(this.q1t.getCastState()){case cast.framework.CastState.CONNECTED:return BS.CONNECTED;case cast.framework.CastState.CONNECTING:return BS.CONNECTING;case cast.framework.CastState.NOT_CONNECTED:return BS.AVAILABLE;case cast.framework.CastState.NO_DEVICES_AVAILABLE:default:return BS.UNAVAILABLE}},i.xj=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return[4,Rq(n)];case 1:return r.sent(),i.q1t=cast.framework.CastContext.getInstance(),i.q1t.addEventListener(cast.framework.CastContextEventType.CAST_STATE_CHANGED,i.gQ),i.q1t.setOptions({receiverApplicationId:t.appID,autoJoinPolicy:chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED}),[2]}}))}))()},i.m1t=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,t.q1t.requestSession()];case 1:if(n=r.sent())throw n;return[3,3];case 2:throw i=r.sent(),new Iq(Bq(i));case 3:return[2]}}))}))()},i.p1t=function(t){var n;return null==(n=this.X1t)?void 0:n.onStart(t)},i.E1t=function(t){var n;return null==(n=this.X1t)?void 0:n.onStop(t)},i.y1t=function(t){var n;return null==(n=this.X1t)?void 0:n.onJoin(t)},i.k1t=function(t){var n;return null==(n=this.X1t)?void 0:n.onLeave(t)},i.R1t=function(t){this.q1t.endCurrentSession(t)},n}(ra);F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Rt();var bQ=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return(h=t.call(this)||this).na=n,h.EJt=0,h.cO=new Kg,h.dO=new Kg,h.Hl=new Hy,h.Oc=new QL,h.EJt=i,h.uZ=r-i,h.MA=e,h.B4=u,h.dZ=s,h.fZ=o,h.RJt=a,h.IJt=c,h}It(n,t);var i=n.prototype;return i.Lst=function(){return this.Oc},i.yR=function(){return SA.pB()},i.xR=function(){return this.uZ+this.EJt},i.Tst=function(){return this.xR()},i.AR=function(){},i.jd=function(){return this.MA},i.DR=function(){return this.B4},i.NR=function(){},i.jR=function(){return this.dZ},i.xJt=function(){},i.JR=function(){return this.fZ},i.$R=function(t){this.fZ!==t&&(this.fZ=t,this._o(new vT(this.na.ER,t)))},i.oI=function(){return bp.eO},i.eI=function(){return SA.pB()},i.aI=function(){return SA.pB()},i.cI=function(){return!1},i.mR=function(){return this.cO},i._I=function(){return this.dO},i.lI=function(){return this.Hl},i.WQt=function(t){},i.mI=function(){return this.RJt},i.fI=function(){return this.IJt},i.xI=function(){this.dZ=!1},i.EI=function(){this.dZ=!0},i.Rb=function(t){this.uZ=t-this.EJt},i.CJt=function(){return this.EJt},i.PJt=function(t){this.EJt=t},i.hnt=function(t){this.Oc.hnt(t)},i.RI=function(){},i.yn=function(){this.Ro(),this.cO.yn(),this.dO.yn(),this.Hl.yn(),this.Oc.yn()},n}(ra);F(),Tt(),Rt(),nn(),F(),Tt(),Dt(),Rt(),F(),Tt(),Rt(),F(),Tt();var kQ=function(t){return t.DJt="ccmodechangerequest",t.NJt="cctargetqualitychangerequest",t.MJt="cctrackchangerequest",t}({}),AQ=function(t){function n(n,i,r){var e;return(e=t.call(this,kQ.DJt)||this).track=n,e.trackId=i,e.mode=r,e}return It(n,t),n}(sa);F(),Tt();var TQ=function(t){return t.Tk="TEXT",t.vE="AUDIO",t.mE="VIDEO",t}({}),SQ=function(t){return t.JV="SUBTITLES",t.$V="CAPTIONS",t.tW="DESCRIPTIONS",t.Jn="CHAPTERS",t.eW="METADATA",t}({});function EQ(t){return"AUDIO"===t.type}function IQ(t){return"VIDEO"===t.type}function RQ(t){return"TEXT"===t.type}var CQ=function(t){function n(n){var i;(i=t.call(this)||this).eu=void 0;var r=n.customData;return i.IC=Number(n.trackId)||0,i.o=""+(r&&r.id||i.IC),i.CO=r&&r.label||n.name||"",i.gs=r&&r.language||n.language||"",i.BC=r&&r.inBandMetadataTrackDispatchType||"",i.Lt=r&&r.kind||function(t){switch(t){case SQ.JV:return zy.JV;case SQ.$V:return zy.$V;case SQ.tW:return zy.tW;case SQ.Jn:return zy.Jn;case SQ.eW:return zy.eW}return}(n.subtype)||"subtitles",i.rI=Aw.NONE,i.Tw=r&&void 0!==r.type?function(t){return Sw(t)?t:Tw.DEFAULT}(r.type):Tw.WEBVTT,i.J4=[],i.e5=new NN(i.J4),i.a5=[],i.t5=new NN(i.a5),i.Xo=Fy(r&&r.mode||Vy.Mh),i.LJt=i.Xo,i}It(n,t);var i=n.prototype;return i.i5=function(t){return ho(this.e5.lC,(function(n){return n.o===t}))},i.OC=function(t){this.CE=t},i.OJt=function(t){},i.yn=function(){},i.nr=function(){},Nt(n,[{key:"wa",get:function(){return this.eu||(this.eu=Zy(this)),this.eu}},{key:"Ch",get:function(){return this.CO},set:function(t){t!==this.CO&&(this.CO=t,this._o(new cw(this)))}},{key:"q",get:function(){return this.t5}},{key:"L",get:function(){return this.e5}},{key:"CE",get:function(){return this.Xo},set:function(t){var n=Fy(t);this.Xo!==n&&(this.Xo=n,this.LJt!==n&&this._o(new AQ(this,this.IC,n)),this._o(new ow(this)))}},{key:"BJt",get:function(){return this.LJt},set:function(t){var n=Fy(t),i=this.Xo!==n;this.Xo=n,this.LJt=n,i&&this._o(new ow(this))}}]),n}(ra);F(),Tt(),Dt(),Rt(),F(),Tt(),Rt();var NQ=function(t){function n(n,i){var r;return(r=t.call(this,kQ.MJt)||this).trackId=n,r.enabled=i,r}return It(n,t),n}(sa);F(),Tt(),Rt();var DQ=function(t){function n(n,i){var r;return(r=t.call(this,kQ.NJt)||this).track=n,r.targetQuality=i,r}return It(n,t),n}(sa);F(),Tt();var PQ=function(t){return t.vE="audio",t.mE="video",t.Tk="text",t}({}),xQ=function(t){function n(n){var i;(i=t.call(this)||this).Ldt=void 0,i.TO=new sw,i.Ndt=void 0,i.eu=void 0,i.CLt=function(){return i._o(new cw(i))};var r=n.customData;if(i.IC=Number(n.trackId)||0,i.o=""+(r&&r.id||i.IC),i.CO=r&&r.label||n.name||"",i.gs=r&&r.language||n.language||"",i.Lt=r&&r.kind||"main",i.qe=r&&r.enabled,i.VJt=i.qe,EQ(n)){i.m3=PQ.vE;var e=n.customData&&n.customData.qualities;if(e)for(var u=0;u<e.length;u++){var s=e[u],o=new hU(s.id,s.bandwidth,s.codecs,s.name,"",s.audioSamplingRate);o.bn("update",i.CLt),i.TO.kO(o)}}else{i.m3=PQ.mE;var a=n.customData&&n.customData.qualities;if(a)for(var c=0;c<a.length;c++){var h=a[c],f=new cU(h.id,h.bandwidth,h.codecs,h.name,"",h.frameRate,h.width,h.height);f.bn("update",i.CLt),i.TO.kO(f)}}return i}It(n,t);var i=n.prototype;return i.DO=function(t){this.Rt=t},i.OJt=function(t){if(t.targetQualityIds){for(var n=[],i=0,r=this.TO.lC;i<r.length;i++){var e=r[i];t.targetQualityIds.indexOf(e.o)>-1&&n.push(e)}var u=n.length?n:void 0;this.FJt(u)}},i.FJt=function(t){(function(t,n){return!t&&n||t&&!n||t&&n&&!ko(t,n)})(this.Ndt,t)&&(this.Ndt=t&&this.TO.EO(t)?t:void 0,this._o(new AB(this.Ndt,this)))},i.unload=function(){for(var t=0,n=this.TO.lC;t<n.length;t++){n[t].vn("update",this.CLt)}this.TO.nr()},Nt(n,[{key:"RC",get:function(){return this.Ldt}},{key:"MC",get:function(){return this.Ndt},set:function(t){this.FJt(t),this._o(new DQ(this,t))}},{key:"NC",get:function(){return this.TO}},{key:"Ch",get:function(){return this.CO},set:function(t){t!==this.CO&&(this.CO=t,this._o(new cw(this)))}},{key:"Rt",get:function(){return this.qe},set:function(t){this.qe!==t&&(this.qe=t,this.VJt!==t&&this._o(new NQ(this.IC,t)),this._o(new ow(this)))}},{key:"WJt",get:function(){return this.VJt},set:function(t){var n=this.qe!==t;this.qe=t,this.VJt=t,n&&this._o(new ow(this))}},{key:"wa",get:function(){return this.eu||(this.eu=zg(this)),this.eu}},{key:"CE",get:function(){return this.Rt?"enabled":"disabled"}}]),n}(ra);F(),Tt();var LQ=function(t){return t.UJt="legacy",t.GJt="caf",t}({});F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt(),F(),Tt(),F(),Tt();var MQ=function(){function t(t){this.HJt=0,this.Oc=t}var n=t.prototype;return n.Bc=function(){if(!(this.HJt>=this.Oc.length)){var t=this.Oc[this.HJt];return this.HJt+=1,t}},n.lt=function(){return this.Bc()},t}();function OQ(t){var n,i,r;return null!=(r=null==(i=t.cQt)||null==(n=i.Uqt)?void 0:n.Gqt())?r:[]}var BQ=function(){},VQ=function(){function t(){this.eu=void 0}return t.prototype.int=function(){var t;return null!=(t=this.eu)?t:this.eu=function(t){return{get ads(){return t.zc.map((function(t){return t.int()}))},get integration(){return t.aQt},get maxDuration(){return t.ZJt},get maxRemainingDuration(){return t.XJt},get timeOffset(){return t.eOt},get customData(){return t.wJt}}}(this)},t}(),FQ=function(){function t(t,n){this.qJt=t,this.na=n}return Nt(t,[{key:"zJt",get:function(){return this.qJt}},{key:"t",get:function(){return this.na}}]),t}(),UQ=function(t){function n(n,i){var r;return(r=t.call(this)||this).QJt=[],r.$Jt=[],r.pQt=n,r.JJt=i,r}It(n,t);var i=n.prototype;return i.KJt=function(t,n,i,r){var e=ho(this.QJt,(function(n){return n.sYt===t}));if(void 0!==e)return e;var u=new GQ(t,n,this,this.JJt,i,r);return this.QJt.push(u),u},i.jJt=function(t,n,i,r,e){var u=ho(this.$Jt,(function(n){return n.oYt===t}));if(void 0!==u)return u;var s=new XQ(t,n,i,this,this.JJt,r,e);return this.$Jt.push(s),s},Nt(n,[{key:"Ojt",get:function(){return this.pQt}},{key:"zc",get:function(){for(var t=[],n=0,i=this.pQt.YJt;n<i.length;n++)for(var r=i[n],e=0,u=OQ(r);e<u.length;e++){var s,o,a=u[e],c=null!=(o=null==(s=a.rYt)?void 0:s.CYt)?o:[];if(a.sYt&&t.push(this.KJt(a.sYt,c,a.hYt,r.wnt)),a.oYt)for(var h=0,f=a.oYt.aYt;h<f.length;h++){var v=f[h];t.push(this.jJt(v,c,a.oYt,a.hYt,r.wnt))}}return t}},{key:"aQt",get:function(){return mS.CSAI}},{key:"eOt",get:function(){var t=this.pQt.od;return t>=0?t:this.JJt.t.jd()}},{key:"XJt",get:function(){for(var t=0,n=0,i=this.pQt.YJt;n<i.length;n++)for(var r=0,e=OQ(i[n]);r<e.length;r++){var u=e[r];u.sYt&&!u.sYt.IKt&&(t+=u.sYt.ct)}return this.JJt&&this.JJt.zJt&&(t+=this.JJt.zJt.ct-this.JJt.zJt.ER),t}},{key:"ZJt",get:function(){for(var t=0,n=0,i=this.pQt.YJt;n<i.length;n++)for(var r=0,e=OQ(i[n]);r<e.length;r++){var u=e[r];u.sYt&&(t+=u.sYt.ct)}return t}},{key:"wJt",get:function(){}}]),n}(VQ),WQ={height:0,width:0,clickThrough:"",contentHTML:"",resourceURI:"",altText:""},ZQ=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this)||this).e$t=!1,o.a$t=n,o.PYt=i,o.yYt=r,o.JJt=e,o.AKt=u,o.uQt=s,o}It(n,t);var i=n.prototype;return i.t$t=function(){return this.e$t},i.i$t=function(){this.e$t=!0},i.s$t=function(t){return ns({},WQ,{resourceURI:t.cjt||""})},i.n$t=function(t){return ns({},WQ,{contentHTML:t.cjt.trim(),type:"HTMLResource"})},i.r$t=function(t){var n,i;return ns({},WQ,{clickThrough:(null==(n=t.QYt)?void 0:n.trim())||"",resourceURI:(null==(i=t.cjt)?void 0:i.trim())||"",altText:t.KYt||"",type:"StaticResource"})},i.o$t=function(t,n,i){if(t&&n){var r="<img "+(i?"title='"+i+"' ":"")+"src='"+encodeURI(t)+"'>";return"<a href='"+encodeURI(n)+"' target='_blank' rel='noopener'>"+r+"</a>"}},i.rYt=function(t){var n=this;return t?t.map((function(t){var i,r={adSlotId:t.GYt||"",height:t.Ti||0,width:t.ji||0};if(t.dYt){var e,u=n.r$t(t.dYt),s=u.clickThrough||(null==(e=t.zYt)?void 0:e.QYt);i=ns({},u,{contentHTML:n.o$t(u.resourceURI,s,u.altText)||""})}else if(t.mYt)i=n.n$t(t.mYt);else{if(!t._Yt)return;i=n.s$t(t._Yt)}return Rg(i,r)})).filter((function(t){return void 0!==t})):[]},i.h$t=function(){return this.a$t.jqt},Nt(n,[{key:"sd",get:function(){return this.yYt}},{key:"wnt",get:function(){return this.uQt}},{key:"hYt",get:function(){return this.AKt}}]),n}(BQ),XQ=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,n,i,e,u,s,o)||this).u$t=r,a}It(n,t);var i=n.prototype;return i.ka=function(){var t=this.yYt,n={companions:this.rYt(this.PYt),type:"nonlinear",id:this.a$t.bYt,skipOffset:this.xKt,integration:this.uQt.integration,adSystem:this.a$t.jqt,get adBreak(){return t.int()},creativeId:this.a$t.bYt,universalAdIds:this.AKt.map((function(t){return{adIdRegistry:t.Ejt,adIdValue:t.Rjt}}))};return this.a$t._Yt?Rg(this.s$t(this.a$t._Yt),n):this.a$t.mYt?Rg(this.n$t(this.a$t.mYt),n):this.a$t.dYt?Rg(this.r$t(this.a$t.dYt),n):n},i.int=function(){var t;return null!=(t=this.eu)?t:this.eu=this.ka()},i.c$t=function(){var t,n;return null!=(n=null==(t=this.a$t.dYt)?void 0:t.cjt)?n:""},i.l$t=function(){var t,n,i;return null!=(i=null==(n=this.a$t)||null==(t=n.dYt)?void 0:t.djt)?i:""},Nt(n,[{key:"oYt",get:function(){return this.a$t}},{key:"nYt",get:function(){return this.u$t}},{key:"xKt",get:function(){var t,n=this.a$t.sd;return n&&n.wnt&&void 0!==n.wnt.skipOffset?GJ.hQt(n.wnt.skipOffset,this.JJt.zJt.ct):(null==(t=this.a$t.sd)?void 0:t.xKt)||-1}}]),n}(ZQ),GQ=function(t){function n(n,i,r,e,u,s){return t.call(this,n,i,r,e,u,s)||this}It(n,t);var i=n.prototype;return i.ka=function(){var t,n=this.yYt,i=this.a$t;return{companions:this.rYt(this.PYt),duration:i.ct,id:i.bYt,mediaFiles:i.TKt,get mediaUrl(){return i.CKt},skipOffset:this.xKt,type:"linear",integration:this.uQt.integration,adSystem:i.jqt,width:void 0,height:void 0,get adBreak(){return n.int()},clickThrough:null==(t=i._Kt)?void 0:t.QYt,creativeId:i.bYt,universalAdIds:this.AKt.map((function(t){return{adIdRegistry:t.Ejt,adIdValue:t.Rjt}})),closedCaptionFiles:i.DKt}},i.int=function(){var t;return null!=(t=this.eu)?t:this.eu=this.ka()},i.c$t=function(){return this.a$t.TKt.length>0?this.a$t.TKt[0].contentURL:""},i.l$t=function(){return this.a$t.TKt.length>0?this.a$t.TKt[0].type:""},Nt(n,[{key:"sYt",get:function(){return this.a$t}},{key:"xKt",get:function(){var t=this.a$t.sd;return t&&t.wnt&&void 0!==t.wnt.skipOffset?GJ.hQt(t.wnt.skipOffset,this.JJt.zJt.ct):this.a$t.xKt||-1}}]),n}(ZQ);function HQ(t){return t instanceof GQ}F(),Tt();var zQ=function(t){return t.d$t="csai",t.f$t="google-ima",t.Kh="google-dai",t._$t="freewheel",t.v$t="mediatailor",t.Cv="chromecast",t.Hst="theoads",t}({});F(),Tt(),Rt();var YQ=function(t){function n(n){return t.call(this,"m$t",n)||this}return It(n,t),n.prototype.ka=function(){return new jQ(this.lnt.int())},n}(OL),jQ=function(t){function n(n){return t.call(this,"updatead",n)||this}return It(n,t),n}(BL);F(),Tt(),Rt();var KQ=function(t){function n(n){return t.call(this,"g$t",n)||this}return It(n,t),n.prototype.ka=function(){return new qQ(this.lnt.int())},n}(OL),qQ=function(t){function n(n){return t.call(this,"adloaded",n)||this}return It(n,t),n}(BL),JQ=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).w$t=[],e.p$t=void 0,e.a$t=void 0,e.eu=void 0,e.ih=function(t){var n;if(t){var i=e.RQt.AN,r=i.breakStatus,u=i.media,s=u.breakClips,o=u.breaks,a=null==(n=Vq(i))?void 0:n.media,c=[];o&&s&&e.S$t(o,s,a,c),e.x$t(r,c);for(var h=0;h<c.length;h++){var f=c[h];e._o(f)}}},e.na=n,e.RQt=i,e.b$t=r,e.RQt.MQt(e.ih),e}It(n,t);var i=n.prototype;return i.g6=function(t,n,i){throw new _("Scheduling ads while casting is not supported.")},i.MD=function(){this.RQt.ZQt()},i.ant=function(t){var n;null==(n=this.b$t)||n.ant(t)},i.ont=function(t,n){var i;null==(i=this.b$t)||i.ont(t,n)},i.A$t=function(t){return ho(this.w$t,(function(n){return n.o===t}))},i.S$t=function(t,n,i,r){for(var e=this.w$t,u=[],s=!1,o=0;o<t.length;o++){var a=t[o],c=this.A$t(a.id);void 0===c&&(c=new QQ(a),r.push(new LL(c))),!Yn(c.T$t)&&Yn(i)&&(c.T$t=this.k$t(c.E$t,i));var h=c.zc;c.ir(a,n,i,r);for(var f=c.zc,v=0;v<f.length;v++){var d=f[v];po(h,d)||(r.push(new VL(d)),s=!0)}u.push(c)}this.w$t=u,s&&r.push(new jL);for(var l=0;l<e.length;l++){var g=e[l];po(u,g)||r.push(new PL(g))}},i.x$t=function(t,n){var i,r,e=this.p$t,u=this.a$t;if(t){var s,o=t.breakId,a=t.breakClipId;i=o?this.A$t(o):void 0,r=a?null==(s=this.p$t)?void 0:s.R$t(a):void 0}if(this.p$t=i,this.a$t=r,i!==e&&(void 0!==e&&(e.I$t=void 0,n.push(new UL(e))),void 0!==i&&(i.I$t=this.RQt,n.push(new ZL(i)))),r!==u){var c=this.na.xR();void 0!==u&&n.push(new zL(u,c)),void 0!==r&&n.push(new GL(r,c))}},i.k$t=function(t,n){if(n&&n.breaks){var i=ho(n.breaks,(function(n){return n.id===t.id}));return i}},i.hnt=function(t){for(var n=[],i=0,r=this.w$t;i<r.length;i++){var e=r[i],u=e.zc;if(e===this.p$t&&void 0!==this.a$t){var s=u.indexOf(this.a$t);s>=0&&(u=u.slice(s))}else if(e.y$t())continue;for(var o=0;o<u.length;o++){var a=u[o].C$t();a&&n.push(a)}}for(var c=0;c<n.length;c++){var h=n[c];t.g6(h,IL.$st,!1)}},i.yn=function(){return this.Ro(),this.RQt.LQt(this.ih),void 0!==this.p$t&&(this.p$t.I$t=void 0,this.p$t=void 0),this.a$t=void 0,bo(this.w$t),et.resolve(void 0)},Nt(n,[{key:"Vc",get:function(){return void 0!==this.p$t}},{key:"ent",get:function(){return this.a$t?[this.a$t]:[]}},{key:"snt",get:function(){var t;return null!=(t=this.p$t)?t:null}},{key:"nnt",get:function(){var t=this;return Ao(this.w$t,(function(n){var i=n.zc;if(n===t.p$t&&void 0!==t.a$t){var r=i.indexOf(t.a$t);if(r>=0)return i.slice(r+1)}return n.y$t()?[]:i}))}},{key:"rnt",get:function(){var t=this;return this.w$t.filter((function(n){return n===t.p$t||!n.y$t()}))}},{key:"wa",get:function(){var t;return null!=(t=this.eu)?t:this.eu=RL(this)}}]),n}(ua),QQ=function(t){function n(n){var i;return(i=t.call(this)||this).T$t=void 0,i.Oc=[],i.I$t=void 0,i.P$t=n,i}It(n,t);var i=n.prototype;return i.y$t=function(){return this.P$t.isWatched},i.R$t=function(t){return ho(this.Oc,(function(n){return n.o===t}))},i.ir=function(t,n,i,r){for(var e,u=function(u){var o=t.breakClipIds[u],a=ho(n,(function(t){return t.id===o}));if(void 0===a)return"continue";var c=u<e.Oc.length?e.Oc[u]:new $Q(a,e);!Yn(c.D$t)&&Yn(i)&&(c.D$t=e.N$t(i,o,u)),c.ir(a,r),s.push(c)},s=[],o=0;o<t.breakClipIds.length;o++)e=this,u(o);this.P$t=t,this.Oc=s},i.N$t=function(t,n,i){if(t&&t.breakClips){var r=ho(t.breakClips,(function(t){return t.id===n}));if(!r){var e,u=null==(e=this.T$t)?void 0:e.breakClipIds[i];u&&(r=ho(t.breakClips,(function(t){return t.id===u})))}return r}},Nt(n,[{key:"E$t",get:function(){return this.P$t}},{key:"o",get:function(){return this.P$t.id}},{key:"zc",get:function(){return this.Oc}},{key:"aQt",get:function(){return zQ.Cv}},{key:"ZJt",get:function(){var t=this.P$t.duration;return void 0===t&&this.Oc.length>0&&(t=dr(this.Oc,(function(t){return t.ct})),S(t)&&(t=void 0)),t}},{key:"XJt",get:function(){var t=this.ZJt;if(void 0!==t&&void 0!==this.I$t){var n=this.I$t.HQt();if(void 0!==n)return k.max(0,t-n)}return t}},{key:"eOt",get:function(){return this.P$t.position}},{key:"wJt",get:function(){}}]),n}(VQ),$Q=function(){function t(t,n){this.eu=void 0,this.L$t=t,this.sd=n}var n=t.prototype;return n.h$t=function(){return""},n.l$t=function(){var t;return null!=(t=this.L$t.contentType)?t:""},n.c$t=function(){var t,n;return null!=(n=null!=(t=this.L$t.contentUrl)?t:this.L$t.contentId)?n:""},n.ir=function(t,n){var i=this.o,r=this.ct,e=this.L$t.contentUrl;this.L$t=t;var u=this.o,s=this.ct,o=this.L$t.contentUrl;i===u&&(r===s||S(r)&&S(s))&&e===o||n.push(new YQ(this)),S(r)&&!S(s)&&n.push(new KQ(this))},n.C$t=function(){var t;return this.D$t&&(t=jJ(this.D$t,this.sd.eOt)),t||(t=jJ(this.L$t,this.sd.eOt)),t},n.int=function(){var t;return null!=(t=this.eu)?t:this.eu=this.ka()},n.ka=function(){var t=this;return{get companions(){return t.CYt},get duration(){return t.ct},get id(){return t.o},get mediaFiles(){return t.TKt},get mediaUrl(){return t.CKt},get closedCaptionFiles(){return[]},get skipOffset(){return t.xKt},type:"linear",integration:zQ.Cv,get adSystem(){return t.h$t()},width:void 0,height:void 0,get adBreak(){return t.sd.int()},get resourceURI(){return t.c$t()},get clickThrough(){return t.QYt},get creativeId(){return t.bYt},get customData(){return t.wJt},get isSlate(){return!1},get universalAdIds(){return t.hYt.map((function(t){return{adIdRegistry:t.Ejt,adIdValue:t.Rjt}}))}}},Nt(t,[{key:"M$t",get:function(){return this.L$t}},{key:"o",get:function(){return this.L$t.id}},{key:"CYt",get:function(){return[]}},{key:"ct",get:function(){var t;return null!=(t=this.L$t.duration)?t:NaN}},{key:"TKt",get:function(){var t=this.c$t();return t?[{contentURL:t,delivery:"progressive",type:this.l$t(),width:0,height:0}]:[]}},{key:"CKt",get:function(){return this.c$t()}},{key:"xKt",get:function(){var t=this.L$t.whenSkippable;return void 0===t?void 0:t<0?-1:t}},{key:"QYt",get:function(){return this.L$t.clickThroughUrl}},{key:"bYt",get:function(){}},{key:"hYt",get:function(){return[]}},{key:"wJt",get:function(){}}]),t}();F(),Tt(),Dt(),Rt();var t$=function(t){function n(n,i){var r;return void 0===i&&(i=Kn.Ys.Qe),(r=t.call(this)||this).qe=!1,r.V$t=function(t){t.stopPropagation(),r._o(new sa("clickstart"))},r.W$t=function(t){t.stopPropagation(),r._o(new sa("click"))},r.sx=n,r.F$t=i,r.Vs=v.createElement("a"),r.Vs.style.position="absolute",r.Vs.style.zIndex="11",r.Vs.target="zu",r.F$t?(cx(r.Vs,"learn more"),r.Vs.className="theoplayer-ad-overlay-component theoplayer-ad-touch-clickthrough",r.Vs.setAttribute("rel","noopener")):mi(r.Vs),r.sx.appendChild(r.Vs),r.aW(),r}It(n,t);var i=n.prototype;return i.hW=function(){if(!this.qe){this.qe=!0,this.Vs.style.display="",this.F$t||(this.sx.style.cursor="pointer");var t=this.F$t?this.Vs:this.sx;Kn.Ys.Qe?(t.addEventListener("touchstart",this.V$t),t.addEventListener("touchend",this.W$t)):(t.addEventListener("mousedown",this.V$t),t.addEventListener("click",this.W$t))}},i.aW=function(){if(this.qe){this.qe=!1,this.Vs.style.display="none",this.F$t||(this.sx.style.cursor="");var t=this.F$t?this.Vs:this.sx;Kn.Ys.Qe?(t.removeEventListener("touchstart",this.V$t),t.removeEventListener("touchend",this.W$t)):(t.removeEventListener("mousedown",this.V$t),t.removeEventListener("click",this.W$t))}},i.Xw=function(){this.Ro(),this.aW(),this.sx.removeChild(this.Vs)},Nt(n,[{key:"B$t",get:function(){return this.O$t},set:function(t){this.O$t!==t&&(this.O$t=t,this.Vs.href=null!=t?t:"",t?this.hW():this.aW())}}]),n}(ra);F(),Tt(),Dt(),Rt(),F(),Tt();var n$=[1200,992,768,576],i$={1200:"theo-size-xl",992:"theo-size-l",768:"theo-size-m",576:"theo-size-s"},r$=function(){function t(t,n){var i=this;this.Vs=t,this.Ku=n,this.gn=function(t){i.U$t(t.width)},this.G$t=e$(n.Au),vi(this.Vs,this.G$t),n.bn(sI.mn,this.gn)}var n=t.prototype;return n.U$t=function(t){var n=e$(t);n!==this.G$t&&(vi(this.Vs,n),di(this.Vs,this.G$t),this.G$t=n)},n.yn=function(){this.Ku.vn(sI.mn,this.gn)},t}();function e$(t){for(var n=0;n<n$.length;n++){var i=n$[n];if(t>i)return i$[i]}return"theo-size-xs"}var u$=function(t){function n(n,i){var r;return(r=t.call(this)||this).q$t=function(){r._o(new sa("MD"))},r.Vs=v.createElement("div"),r.we.className="theoplayer-ad-overlay-component theoplayer-ad-skip theoplayer-ad-skip-countdown",r.we.style.position="absolute",r.nd=v.createElement("span"),r.we.appendChild(r.nd),i&&(r.Y$t=v.createElement("div"),r.Y$t.className="theoplayer-ad-skip-poster",r.Y$t.style.backgroundImage='url("'+js(i)+'")',r.we.appendChild(r.Y$t)),r.Xo="countdown",r.Yu=new r$(r.we,n),r}It(n,t);var i=n.prototype;return i.H$t=function(t){"countdown"!==this.Xo&&(this.Xo="countdown",this.Z$t(),this.we.classList.remove("theoplayer-ad-skip-button"),this.we.classList.add("theoplayer-ad-skip-countdown")),this.Ck="You can skip in "+k.round(t)+" seconds"},i.X$t=function(){"skip"!==this.Xo&&(this.Xo="skip",this.Ck="Skip Ad",this.z$t(),this.we.classList.remove("theoplayer-ad-skip-countdown"),this.we.classList.add("theoplayer-ad-skip-button"))},i.z$t=function(){this.we.addEventListener("mouseup",this.q$t),this.we.addEventListener("touchend",this.q$t)},i.Z$t=function(){this.we.removeEventListener("mouseup",this.q$t),this.we.removeEventListener("touchend",this.q$t)},i.yn=function(){this.Ro(),this.Z$t(),this.Yu.yn(),oi(this.Vs),oi(this.nd),this.Y$t&&oi(this.Y$t)},Nt(n,[{key:"we",get:function(){return this.Vs}},{key:"CE",get:function(){return this.Xo}},{key:"Ck",get:function(){return this.nd.textContent||""},set:function(t){cx(this.nd,t)}}]),n}(ra),s$=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).Pxt=SA.pB(),s.m0t=void 0,s.B4=!1,s.YG=void 0,s.a0t=void 0,s.O4=bp.eO,s.w0t=!1,s.Uo=SA.pB(),s.v4=void 0,s.cZ=!1,s.cO=new Kg,s.dO=new Kg,s.Hl=new Hy,s.lxt=NaN,s.v0t=void 0,s.h0t=!1,s._0t=NaN,s.d0t=void 0,s.e0t=0,s.R0t=function(t,n){switch(t){case"buffered":s.Pxt=new SA(n),s._o(new FR(s.xR()));break;case"currentProgramDateTime":s.m0t=new Date(n).getTime()-s.xR();break;case"played":s.Uo=new SA(n);break;case"seekable":s.n0t();break;case"videoHeight":s.l0t(void 0,n);break;case"videoWidth":s.l0t(n,void 0)}},s.F3=function(t){switch(t.type){case oa.Jy:s.Ge(t.currentTime);break;case oa.Qy:s.SH();break;case oa.Ky:s._o(new UB(t.representation,t.previousRepresentation));break;case oa.$y:s._o(new lB(t.segmentStartTime,t.error,t.trackType,t.track,t.quality,t.retryCount));break;case oa.Py:s._o(new NW(t.currentTime,t.initDataType,t.initData));break;case oa.Ty:s._o(new QD(new Qg(td.CONTENT_PROTECTION_ERROR,t.error,void 0,t.licenseAcquisitionURL,t.status,t.statusText,t.licenseAcquisitionMessage,t.systemCode)));break;case oa.Ey:s._o(new $D)}},s.vJt=function(t){s.n0t(),s.o0t(),s.nh(),s.u0t(),s.f0t(),s.s0t(),s.Q$t(),s.K$t(),s.y0t(),s.A0t(),s.k0t(),t||o$(s.RQt.AN)&&s.Ah()},s.pd=function(){s.f0t(),s.k0t()},s.I0t=function(t){s._o(t)},s.g0t=Ti((function(t){return s.h8(t)}),50),s.VQt=function(t){s.v0t=void 0,s._o(new qJ(t))},s.T0t=function(){s.EI()},s.x0t=function(){s.Oc.MD()},s.na=n,s.YNt=r,s.RQt=e,s.Oc=new JQ(n,e,i.zc),s.EJt=u.CJt(),s.MA=u.jd()-s.EJt,s.dZ=u.jR(),s.fZ=u.JR(),s.RJt=u.mI(),s.IJt=u.fI(),s.RQt.DQt(s.F3),s.RQt.IQt(s.R0t),s.RQt.MQt(s.vJt),s.RQt.bn(KJ.EQt,s.I0t),s.RQt.BQt().then((function(t){s._o(new JJ(t.bt,t.Cc))}),s.VQt),s}It(n,t);var i=n.prototype;return i.K$t=function(){var t=this.RQt.AN.activeTrackIds;if(t){if(this.j$t()){var n=this.dO.lC.map((function(t){return t.o})),i=this.cO.lC.map((function(t){return t.o}));po(n.concat(i),"0")&&t.push(0)}f$(t,this.cO),f$(t,this.dO),function(t,n){for(var i=!1,r=0,e=n.lC;r<e.length;r++){var u=e[r];u.BJt=po(t,u.IC)?Vy.Qn:Vy.Mh}}(t,this.Hl)}},i.Q$t=function(){var t,n=null==(t=this.RQt.AN.media)?void 0:t.tracks;if(n){var i=n.filter(EQ),r=n.filter(IQ),e=n.filter(RQ);if(this.j$t()&&0===r.length&&0!==this.mI()){var u=this.J$t();r.push(u)}if(this.j$t()&&0===i.length){var s=this.$$t();i.push(s)}c$(this.cO,i.map((function(t){return t.trackId}))),c$(this.dO,r.map((function(t){return t.trackId}))),c$(this.Hl,e.map((function(t){return t.trackId}))),h$(i,this.cO),h$(r,this.dO),function(t,n){for(var i=!1,r=0;r<t.length;r++){var e=t[r],u=a$(n,e.trackId);u||(u=new CQ(e),n.tt(u),i=!0)}}(e,this.Hl)}},i.t0t=function(){this.dZ||(this.e0t=m(this.pd,250))},i.i0t=function(){y(this.e0t)},i.s0t=function(){this.i0t(),this.t0t()},i.n0t=function(){var t,n,i=this.RQt.AN,r=i.media,e=null!=(n=null==r?void 0:r.duration)?n:NaN,u=(null==r?void 0:r.streamType)===chrome.cast.media.StreamType.LIVE||e<0,s=u?1/0:e;this.MA=s,this.r0t();var o=i.getEstimatedLiveSeekableRange(),a=null==(t=i.customData)?void 0:t.buffers;if(Yn(o)){var c=o.start,h=o.end,f=o.isMovingWindow,v=void 0===f?u:f,d=o.isLiveDone,l=void 0!==d&&d;this.HFt(c,h,v,l)}else if(Yn(a)){var g=tn(a.seekable,2),w=g[0],m=g[1];this.HFt(w,m,u,!1)}else u?this.HFt(void 0,void 0,!0,!1):this.HFt(0,s,!1,!1)},i.o0t=function(){var t=this.RQt.AN,n=function(t){return void 0!==t&&t.playerState===chrome.cast.media.PlayerState.PAUSED}(t)||o$(t);this.h0t=n,this.dZ!==n&&(this.dZ=n,this.dZ?this._o(new cT(this.xR())):this._o(new hT(this.xR())))},i.nh=function(){var t=this.RQt.AN.playbackRate;this.a0t!==t&&(this.a0t=void 0,this.fZ!==t&&(this.fZ=t,this._o(new vT(this.xR(),t))))},i.u0t=function(){var t;switch(this.RQt.AN.playerState){case chrome.cast.media.PlayerState.IDLE:t=bp.eO;break;case chrome.cast.media.PlayerState.BUFFERING:t=bp.Xn;break;case chrome.cast.media.PlayerState.PAUSED:case chrome.cast.media.PlayerState.PLAYING:t=bp.sO}this.V4(t),this.c0t()},i.HFt=function(t,n,i,r){Yn(t)&&Yn(n)?this.v4=new QC(t,n,i,i&&!r):this.v4=void 0},i.l0t=function(t,n){this.IJt=null!=n?n:this.IJt,this.RJt=null!=t?t:this.RJt,this._o(new wp)},i.Ge=function(t){this.d0t!==t?(this.cZ=!0,this._o(new lT(this.xR()))):this.d0t=void 0},i.SH=function(){if(this.cZ){this.cZ=!1;var t=this.xR();this._o(new lg(t,this.AR())),this._o(new gT(t))}},i.Ah=function(){this.B4=!0,this.DR()&&this._o(new dT(this.xR()))},i.r0t=function(){var t=this.lxt,n=this.jd();t===n||S(t)&&S(n)||(this.lxt=n,this._o(new fT(n)))},i.f0t=function(){var t=this.xR();this.cZ||this._0t===t||(this._0t=t,this._o(new lg(t,this.AR())))},i.xJt=function(){this.dZ&&(this.dZ=!1,this._o(new hT(this.xR())),this.V4(bp.eO))},i.Lst=function(){return this.Oc},i.yR=function(){return this.Pxt.xb(this.EJt)},i.xR=function(){if(this.Oc.Vc){var t=this.RQt.GQt();if(void 0!==t)return t}return this.Tst()},i.Tst=function(){return void 0!==this.v0t?this.EJt+this.v0t:this.B4?this.jd():this.EJt+this.RQt.UQt()},i.AR=function(){if(this.m0t)return new Date(this.Tst()+this.m0t)},i.jd=function(){if(this.Oc.Vc){var t,n=null==(t=this.Oc.ent[0])?void 0:t.ct;if(void 0!==n&&!S(n))return n}return this.EJt+this.MA},i.NR=function(){return this.YG},i.DR=function(){return!this.Oc.Vc&&this.B4},i.jR=function(){return this.dZ},i.JR=function(){return this.fZ},i.$R=function(t){this.fZ!==t&&(this.a0t=this.fZ,this.fZ=t,this._o(new vT(this.xR(),t)),this.RQt.$R(t))},i.oI=function(){return this.O4},i.eI=function(){return this.Oc.Vc?SA.gB(0,this.xR()):this.Uo.xb(this.EJt)},i.aI=function(){var t,n;if(this.Oc.Vc)return SA.pB();var i=null!=(n=null==(t=this.v4)?void 0:t.I3().xb(this.EJt))?n:SA.pB();if(i.V>0){var r=i.Tn(i.V-1);i=i.tB(SA.gB(r,this.xR()))}return i},i.cI=function(){return this.cZ},i.mR=function(){return this.cO},i._I=function(){return this.dO},i.lI=function(){return this.Hl},i.J$t=function(){return{customData:{activeQuality:{averageBandwidth:0,bandwidth:0,codecs:"",frameRate:0,height:this.fI(),id:"0",name:"",width:this.mI()},enabled:!0,id:"0",kind:"main",label:"",language:"",qualities:[],uid:0},language:"",name:"",trackContentId:"",trackContentType:"",trackId:0,type:TQ.mE}},i.$$t=function(){return{customData:{activeQuality:{averageBandwidth:0,bandwidth:0,codecs:"",id:"0",name:"",audioSamplingRate:0},qualities:[],enabled:!0,id:"0",kind:"main",label:"",language:"",uid:0},language:"",name:"",trackContentId:"",trackContentType:"",trackId:0,type:TQ.vE}},i.j$t=function(){var t,n;return!(void 0!==(null==(t=this.YNt.OQt())?void 0:t.version))||(null==(n=this.YNt.OQt())?void 0:n.sdkType)===LQ.GJt},i.WQt=function(t){this.j$t()&&wo(t,0),this.RQt.WQt(t)},i.mI=function(){return this.RJt},i.fI=function(){return this.IJt},i.xI=function(){this.dZ&&(this.dZ=!1,this.h0t=!1,this._o(new hT(this.xR()))),this.RQt.xI()},i.EI=function(){this.dZ||(this.dZ=!0,this.h0t=!0,this._o(new cT(this.xR()))),this.RQt.EI()},i.Rb=function(t){if(!this.Oc.Vc){var n=k.max(0,t-this.EJt);n=k.round(1e6*n)/1e6;var i=this.v0t;this.v0t=n,this.h0t=this.jR(),this.d0t=n,this.cZ=!0,this._o(new lT(this.xR())),void 0===i&&(this.j$t()?this.g0t(n):this.h8(n))}},i.h8=function(t){this.RQt.Rb(t,this.h0t).then(this.p0t(t)).catch(this.VQt)},i.p0t=function(t){var n=this;return function(){void 0!==n.v0t&&(n.v0t===t?n.v0t=void 0:n.h8(n.v0t))}},i.V4=function(t){this.O4!==t&&(this.O4=t,this._o(new _p(this.xR(),t))),void 0===this.v0t&&this.cZ&&t>=bp.iO&&this.SH(),this.c0t()},i.c0t=function(){if(this.dZ)this.w0t=!1;else{var t=this.O4>=bp.sO;this.w0t!==t&&(this.w0t=t,t?this._o(new Ip(this.xR())):this._o(new Tp(this.xR())))}},i.y0t=function(){this.b0t||(this.b0t=v.createElement("div"),this.na.we.appendChild(this.b0t),this.b0t.className="theoplayer-ad-linear theoplayer-chromecast-ad",this.b0t.style.zIndex="10",mi(this.b0t)),this.b0t.style.display=this.Oc.Vc?"":"none"},i.A0t=function(){var t,n=null==(t=this.Oc.ent[0])?void 0:t.QYt;n&&!this.S0t?(this.S0t=new t$(this.b0t,!0),this.S0t.B$t=n,this.S0t.bn("clickstart",this.T0t)):this.S0t&&(this.S0t.B$t=n)},i.k0t=function(){var t,n=null==(t=this.Oc.ent[0])?void 0:t.xKt;if(void 0===n||n<0)this.E0t&&(this.E0t.yn(),this.E0t=void 0);else{if(!this.E0t){var i,r=null==(i=this.na.Ma)?void 0:i.mi;this.E0t=new u$(this.na.Hu,r),this.b0t.appendChild(this.E0t.we),this.E0t.bn("MD",this.x0t)}var e=this.RQt.GQt();void 0!==e&&(e<n?this.E0t.H$t(n-e):this.E0t.X$t())}},i.CJt=function(){return this.EJt},i.PJt=function(t){this.EJt=t},i.hnt=function(t){},i.RI=function(){this.RQt.RI()},i.yn=function(){this.Ro(),this.Oc.yn(),this.S0t&&(this.S0t.Xw(),this.S0t=void 0),this.E0t&&(this.E0t.yn(),this.E0t=void 0),this.b0t&&(oi(this.b0t),this.b0t=void 0),this.RQt.NQt(this.F3),this.RQt.PQt(this.R0t),this.RQt.LQt(this.vJt),this.RQt.vn(KJ.EQt,this.I0t),this.RQt.yn()},n}(ra);function o$(t){return void 0!==t&&t.playerState===chrome.cast.media.PlayerState.IDLE&&t.idleReason===chrome.cast.media.IdleReason.FINISHED}function a$(t,n){for(var i=0,r=t.lC;i<r.length;i++){var e=r[i];if(e.IC===n)return e}}function c$(t,n){for(var i=!1,r=0;r<t.V;r++){var e=t.fC(r);-1===n.indexOf(e.IC)&&(t.it(e),r--,i=!0)}return i}function h$(t,n){for(var i=!1,r=0;r<t.length;r++){var e=t[r],u=a$(n,e.trackId);u||(u=new xQ(e),n.tt(u),i=!0)}return i}function f$(t,n){for(var i=0,r=n.lC;i<r.length;i++){var e=r[i];e.WJt=po(t,e.IC)}return!1}F(),Tt();var v$=function(){function t(){}var n=t.prototype;return n.Dnt=function(t){return et.resolve("all")},n.kI=function(){},n.yn=function(){},t}();F(),Tt();var d$=[oa.Dy,oa.Iy,oa.Yy,oa.jy,oa.zy,oa.ho,oa.qy,oa.hb,oa.Jy,oa.Qy,yp.WL,yp.UL,oa.Ky,oa.$y,oa.Py,oa.Ty,oa.Ey],l$=function(t){function n(n,i){var r;return(r=t.call(this,n,!0)||this).eo=!1,r.t1t=bi,r.RW=bp.eO,r.bW=!1,r.kW=!1,r.B0t=!1,r.M0t=void 0,r.YG=void 0,r.KG=void 0,r.cO=new Qk,r.dO=new Qk,r.Hl=new $k,r.ea=new JT,r.lO=new tA,r.pst=new v$,r.K0t=void 0,r.j0t=void 0,r.Q0t=void 0,r.i1t=function(t){var n,i;(Yn(t.gI)&&!or(t.gI,r.zA,1e-5)||Yn(t.ZR)&&t.ZR!==r.lZ)&&(r.zA=null!=(n=t.gI)?n:r.zA,r.lZ=null!=(i=t.ZR)?i:r.lZ,r._o(new wT(r.ER,r.zA)))},r.s1t=function(){var t=r.YNt.mJt();r.Vft=t?new s$(r,r.na,r.YNt,t,r.Fa):r.e1t()},r.D0t=function(t){r.aZ(t.bt),r.C0t(t.Cc)},r.n1t=function(t){var n=r.P0t(t.EN);if(n){var i={targetQualityIds:t.oJt};n.OJt(i)}},r.I0t=function(t){r.F0t(t.lt)},r.F0t=function(t){r.t1t&&r.t1t(t)},r.gMt=function(t){r.YG=t.lt,r.KG=rw(r.YG),r._o(new yk(r.KG))},r.X0t=function(t){if(t.enabled)for(var n=0,i=(r.rt.lC.some((function(n){return n.IC===t.trackId}))?r.rt:r.ht).lC;n<i.length;n++){var e=i[n];e.Rt&&e.IC!==t.trackId&&(e.Rt=!1)}},r.z0t=function(t){if(t.mode===Vy.Qn)for(var n=0,i=r.nt.lC;n<i.length;n++){var e=i[n];e.CE===Vy.Qn&&e.IC!==t.trackId&&Ky(e.Lt,t.track.Lt)&&(e.CE=Vy.Mh)}},r.K$t=Ti((function(){r.q0t()}),50),r.H0t=function(){var t,n,i=[],e=null!=(t=ho(r.ht.lC,(function(t){return T$(t,r.K0t)})))?t:ho(r.ht.lC,(function(t){return t.Rt}));e&&i.push(e.IC);var u,s=null!=(n=ho(r.nt.lC,(function(t){return T$(t,r.j0t)})))?n:ho(r.nt.lC,(function(t){return t.CE===Vy.Qn}));s&&i.push(s.IC);var o=null!=(u=ho(r.rt.lC,(function(t){return T$(t,r.Q0t)})))?u:ho(r.rt.lC,(function(t){return t.Rt}));o&&i.push(o.IC),0!==i.length&&r.Fa.WQt(i)},r.Apt=function(t){var n=r.J0t(t.targetQuality),i=t.track;r.YNt.hJt(i.IC,i.m3,n)},r.FW=function(t){r._o(t);var n=t.readyState;!r.bW&&r.RW===bp.eO&&n>=bp.Xn&&(r.bW=!0,r._o(new kp(t.currentTime))),!r.kW&&r.RW<=bp.Xn&&n>=bp.iO&&(r.kW=!0,r._o(new Ap(t.currentTime))),r.RW<=bp.iO&&n>=bp.sO&&r._o(new Sp(t.currentTime)),r.RW<=bp.sO&&n===bp.nO&&r._o(new Ep(t.currentTime)),r.RW=n},r.zA=r.na.gI,r.lZ=r.na.ZR,r.YNt=i,r.YNt.bn(cQ.EQt,r.I0t),r.YNt.bn(cQ.sJt,r.gMt),r.YNt.bn(cQ.ub,r.i1t),r.YNt.bn(cQ.iJt,r.s1t),r.YNt.bn(cQ.nJt,r.n1t),r.Oc=new qL(r),r.tZ=r.na.bt,r.Sc=r.na.iu(),r.Vft=new bQ(r,0,r.na.Tst(),r.na.jd(),r.na.PR,r.na.KR,r.na.QR,r.na.vI,r.na.dI),r.V0t(),r}It(n,t);var i=n.prototype;return i.aZ=function(t){t&&(Ng(this.tZ&&xg(this.tZ),t&&xg(t))||(this.tZ=t,this._o(new RT(t))))},i.C0t=function(t){if(t){var n=uE(t,this.na.kd);Ng(this.Sc&&xg(this.Sc),n&&xg(n))||(this.Fa.PJt(0),this.Sc=n,this._o(new bL(n)),this.Fa.xJt())}},i.P0t=function(t){for(var n=0,i=this.rt.lC;n<i.length;n++){var r=i[n];if(r.IC===t)return r}for(var e=0,u=this.ht.lC;e<u.length;e++){var s=u[e];if(s.IC===t)return s}},i.Lst=function(){return this.Oc},i.Bst=function(){return this.pst},i.mR=function(){return this.cO},i.yR=function(){return this.Fa.yR().ks()},i.$n=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return t?[4,i.gJt(t,null!=(r=t.ads)?r:[],t.streamType,NaN,0,null!=n?n:0)]:[2];case 1:return e.sent(),[2]}}))}))()},i.L0t=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:return(r=null!=(i=n.M0t)?i:n.Sc)?(u=n.M0t?null!=(e=n.M0t.ads)?e:[]:n.Tnt(),s=n.na.jd(),o=n.na.aI(),a=function(t,n,i){return S(t)?i:t===1/0?"live"===i||"dvr"===i?i:n&&n.length>0&&n.end(n.length-1)-n.start(0)>60?"dvr":"live":"vod"}(s,o,r.streamType),c=o.length>0?o.start(0):0,h=null!=t?t:n.Tst(),[4,n.gJt(r,u,a,s,c,h)]):[2];case 1:return f.sent(),[2]}}))}))()},i.Tnt=function(){var t=new QL;return this.Oc.hnt(t),t.Tnt()},i.AR=function(){return this.Fa.AR()},i.kR=function(){return this.tZ},i.xR=function(){return this.Fa.xR()},i.Tst=function(){return this.Fa.Tst()},i.RR=function(t,n){this.B0t||(this.YNt.mJt()||this.B0t||!this.Sc?this.Fa.Rb(t):this.$n(this.Sc,t))},i.jd=function(){return this.Fa.jd()},i.DR=function(){return this.Fa.DR()},i.NR=function(){return this.YG},i.LR=function(){return this.KG},i.FR=function(){return this.lO},i.HR=function(){return this.na.GR},i.XR=function(){return this.lZ},i.zR=function(t){this.lZ=t,this._o(new wT(this.ER,this.gI)),this.YNt.zR(t)},i.jR=function(){return this.Fa.jR()},i.JR=function(){return this.Fa.JR()},i.$R=function(t){this.Fa.$R(t)},i.eI=function(){return this.Fa.eI().ks()},i.sI=function(){return zT.JB},i.nI=function(t){},i.oI=function(){return this.Fa.oI()},i.aI=function(){return this.Fa.aI().ks()},i.cI=function(){return this.Fa.cI()},i.iu=function(){return this.Sc},i.Ca=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.Sc=t,[4,n.$n(t)];case 1:return i.sent(),n.M0t=void 0,n.Fa.xJt(),[2]}}))}))()},i.lI=function(){return this.Hl},i.fI=function(){return this.Fa.fI()},i.mI=function(){return this.Fa.mI()},i._I=function(){return this.dO},i.pI=function(){return this.zA},i.wI=function(t){this.zA=t,this._o(new wT(this.ER,this.gI)),this.YNt.wI(t)},i.TI=function(){},i.SI=function(){return this.ea},i.kI=function(){},i.xI=function(){this.YNt.mJt()||this.B0t||!this.Sc?this.Fa.xI():this.$n(this.Sc)},i.EI=function(){this.Fa.EI()},i.pr=function(){this.eo=!0},i.dr=function(){this.tZ=void 0,this.eo=!1},i.ge=function(){},i.be=function(){},i.gJt=function(t,n,i,r,e,u){var s=this;return Zt((function(){var o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:s.B0t=!0,s.O0t(),s.Fa.PJt(e),a=function(t,n,i){return{theoplayer_version:1,streamStart:t,isLive:n,sourceDescription:i}}(e,o="live"===i||"dvr"===i,t),c={pJt:t,zc:n,ER:k.max(0,u-e),ct:r,a0:o?chrome.cast.media.StreamType.LIVE:chrome.cast.media.StreamType.BUFFERED,wJt:a},f.label=1;case 1:return f.trys.push([1,3,4,5]),[4,s.YNt.gJt(c)];case 2:return f.sent(),[3,5];case 3:return h=f.sent(),s.F0t(h),[3,5];case 4:return s.B0t=!1,[7];case 5:return[2]}}))}))()},i.V0t=function(){this.W0t(this.cO),this.W0t(this.dO),this.U0t(this.Hl)},i.W0t=function(t){for(var n=this,i=0,r=t.lC;i<r.length;i++){var e=r[i];this.G0t(e)}t.bn(pg.VI,(function(t){n.G0t(t.Ht),n.H0t()}))},i.U0t=function(t){for(var n=this,i=0,r=t.lC;i<r.length;i++){var e=r[i];this.Z0t(e)}t.bn(pg.VI,(function(t){n.Z0t(t.Ht),n.H0t()}))},i.G0t=function(t){t.bn(kQ.NJt,this.Apt),t.bn(kQ.MJt,this.X0t),t.bn(kQ.MJt,this.K$t)},i.Z0t=function(t){t.bn(kQ.DJt,this.z0t),t.bn(kQ.DJt,this.K$t)},i.q0t=function(){for(var t=[],n=0,i=this.rt.lC;n<i.length;n++){var r=i[n];r.Rt&&t.push(r.IC)}for(var e=0,u=this.ht.lC;e<u.length;e++){var s=u[e];s.Rt&&t.push(s.IC)}for(var o=0,a=this.nt.lC;o<a.length;o++){var c=a[o];c.CE===Vy.Qn&&t.push(c.IC)}this.Fa.WQt(t)},i.Y0t=function(t,n,i){this.K0t=t,this.j0t=n,this.Q0t=i},i.J0t=function(t){var n,i;return!!t&&((null!=(i=null==(n=this.YNt.OQt())?void 0:n.version)?i:-1)>=2?t.map((function(t){return t.o})):[t[0].o])},i.$0t=function(t){this.t1t=t},i.NI=function(){},i.MI=function(){},i.OI=function(t){throw new p("Can't add a track while casting.")},i.RI=function(){var t=this;return Zt((function(){return Ht(this,(function(n){return t.Fa.RI(),t.O0t(),[2]}))}))()},i.O0t=function(){this.RW=bp.eO,this.bW=!1,this.kW=!1,this.YG=void 0,this.KG=void 0},i.yn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){return t.O0t(),t.Ro(),t.Vft=t.e1t(),t.YNt.vn(cQ.EQt,t.I0t),t.YNt.vn(cQ.sJt,t.gMt),t.YNt.vn(cQ.ub,t.i1t),t.YNt.vn(cQ.iJt,t.s1t),t.YNt.vn(cQ.nJt,t.n1t),t.YNt.yn(),[2]}))}))()},i.e1t=function(){return new bQ(this,this.Fa.CJt(),this.Fa.xR(),this.Fa.jd(),this.Fa.DR(),this.Fa.jR(),this.Fa.JR(),this.Fa.mI(),this.Fa.fI())},Nt(n,[{key:"Vft",get:function(){return this.Fa},set:function(t){var n=this.Fa;n&&(n.vn(KJ.EQt,this.I0t),n.vn(KJ.xQt,this.D0t),n.vn(d$,this.Ds),n.vn(yp.iC,this.FW),t.PJt(n.CJt()),n.hnt(t.Lst())),this.Fa=t,this.cO.vC=t.mR(),this.dO.vC=t._I(),this.Hl.vC=t.lI(),this.Oc.vC=t.Lst(),n&&n.yn(),t.bn(KJ.EQt,this.I0t),t.bn(KJ.xQt,this.D0t),t.bn(d$,this.Ds),t.bn(yp.iC,this.FW)}},{key:"so",get:function(){return this.eo}},{key:"zc",get:function(){return this.Lst()}},{key:"N0t",get:function(){return this.M0t||this.Sc},set:function(t){this.M0t=t}},{key:"ER",get:function(){return this.xR()},set:function(t){this.RR(t)}},{key:"AI",get:function(){return!1},set:function(t){}}]),n}(Vk);F(),Tt(),Rt();var g$=function(t){function n(n){var i;return(i=t.call(this,"error")||this).lt=n,i}return It(n,t),n.prototype.ka=function(){return new w$(this.lt)},n}(gg),w$=function(t){function n(n){var i;return(i=t.call(this,"error")||this).error=n,i}return It(n,t),n}(sa);F(),Tt(),Rt();var m$=function(t){function n(n){var i;return(i=t.call(this,"statechange")||this).state=n,i}return It(n,t),n}(sa);function y$(t,n){var i=void 0;return{get casting(){return t.uQ},get error(){return t.lt},get receiverName(){return t.r1t},get state(){return t.Vft},start:function(){t.Sn()},stop:function(){t.RI()},join:function(){t.o1t()},leave:function(){t.h1t()},set connectionCallback(t){null==n||n.a1t(t)},get connectionCallback(){return null==n?void 0:n.u1t()},get source(){return i||t.Cc},set source(n){i=n,t.Cc=n},addEventListener:function(n,i){var r=Ug(n,Vg);t.bn(r,i)},removeEventListener:function(n,i){var r=Ug(n,Vg);t.vn(r,i)}}}F(),Tt();var p$=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).YG=void 0,u.eu=void 0,u.na=void 0,u.Fa=BS.UNAVAILABLE,u.f1t=!1,u.vW=new Yo,u.C1t=function(){u.c1t.bn(yQ.kJt,u.I1t),u.Vft=u.c1t.P1t()},u.I1t=function(t){var n=t.Vft;u.Vft=n,n!==BS.UNAVAILABLE&&n!==BS.AVAILABLE||u.w1t(!1).catch(u.X6)},u.M0t=void 0,u.X6=function(t){Bo(t)||t instanceof Iq&&(u.YG=t,u._o(new g$(t).wa))},u.gj=n,u.d1t=i,u.c1t=e,u.MT=r.chromecast,u.v1t=Zo(u.c1t.xj(u.MT,u.vW.Uw),u.vW),u.v1t.then(u.C1t).catch(u.X6),u}It(n,t);var i=n.prototype;return i._1t=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:if(!t.v1t)throw new p("Chromecast must be initialized before starting a session");return[4,t.v1t];case 1:return n.sent(),t.c1t.l1t()?[3,3]:[4,t.c1t.m1t()];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))()},i.Sn=function(){var t=this;return Zt((function(){var n,i,r;return Ht(this,(function(e){switch(e.label){case 0:t.f1t=!0,e.label=1;case 1:return e.trys.push([1,5,,6]),t.Vft=BS.CONNECTING,[4,t._1t()];case 2:return e.sent(),[4,t.g1t()];case 3:return e.sent(),t.na&&(n=t.d1t.iu(),i=t.c1t.p1t(n),t.na.N0t=i?uE(i,t.d1t.kd):t.M0t,t.na.L0t()),t.Vft=BS.CONNECTED,[4,t.d1t.RI()];case 4:return e.sent(),[3,6];case 5:return r=e.sent(),t.w1t(!1).catch(bi),t.Vft=BS.AVAILABLE,Bo(r)||t.X6(r),[3,6];case 6:return[2]}}))}))()},i.o1t=function(){var t=this;return Zt((function(){var n,i,r;return Ht(this,(function(e){switch(e.label){case 0:t.f1t=!0,e.label=1;case 1:return e.trys.push([1,5,,7]),t.Vft=BS.CONNECTING,[4,t._1t()];case 2:return e.sent(),[4,t.g1t()];case 3:return e.sent(),t.na&&(n=t.d1t.iu(),(i=t.c1t.y1t(n))&&(t.na.N0t=uE(i,t.d1t.kd))),t.Vft=BS.CONNECTED,[4,t.d1t.RI()];case 4:return e.sent(),[3,7];case 5:return r=e.sent(),[4,t.w1t(!0).catch(bi)];case 6:return e.sent(),t.Vft=BS.AVAILABLE,Bo(r)||t.X6(r),[3,7];case 7:return[2]}}))}))()},i.b1t=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.c1t.l1t()?[4,t.Sn()]:[2];case 1:return n.sent(),[2]}}))}))()},i.g1t=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return null!=t.na||(t.na=t.A1t()),t.YG=void 0,t.d1t.EI(),[4,t.gj.S1t(t.na)];case 1:return n.sent(),[2]}}))}))()},i.A1t=function(){var t=new l$(this.d1t,this.c1t.l1t());return t.$0t(this.X6),t},i.T1t=function(){this.na&&(this.na.yn(),this.na=void 0)},i.w1t=function(t){var n=this;return Zt((function(){var i,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:if(n.f1t=!1,!n.na)return[2];i=n.na.so,r=n.na.iu(),e=n.na.Tst(),s.label=1;case 1:return s.trys.push([1,,4,5]),i?(null!=(u=t?n.c1t.k1t(r):n.c1t.E1t(r))||(u=r),[4,n.gj.x1t(u,u===r)]):[3,3];case 2:s.sent(),n.d1t.RR(e),n.d1t.xI(),s.label=3;case 3:return[3,5];case 4:return n.T1t(),[7];case 5:return[2]}}))}))()},i.h1t=function(){this.uQ&&(this.c1t.R1t(!1),this.w1t(!0).catch(this.X6))},i.RI=function(){this.uQ&&(this.c1t.R1t(!0),this.w1t(!1).catch(this.X6))},i.yn=function(){this.vW.jw(),this.c1t.vn(yQ.kJt,this.I1t),this.Ro(),this.T1t()},Nt(n,[{key:"uQ",get:function(){return this.Vft===BS.CONNECTING||this.Vft===BS.CONNECTED}},{key:"lt",get:function(){return this.YG}},{key:"wa",get:function(){return this.eu||(this.eu=y$(this,this.c1t)),this.eu}},{key:"r1t",get:function(){var t;return null==(t=this.c1t.l1t())?void 0:t.bJt()}},{key:"Cc",get:function(){return this.na?this.na.N0t:this.M0t},set:function(t){this.M0t=t?uE(t,this.d1t.kd):void 0,this.na&&(this.na.N0t=this.M0t,this.M0t&&this.na.$n(this.M0t))}},{key:"Vft",get:function(){return this.Fa},set:function(t){var n=t;this.f1t||n!==BS.CONNECTING&&n!==BS.CONNECTED||(n=BS.AVAILABLE),this.Fa!==n&&(this.Fa=n,this._o(new m$(this.Vft)))}}]),n}(ua);F(),Tt(),Dt(),Rt();var _$=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.o1t=function(){Kn.Vp("Joining a Chromecast session is not possible when JoinStrategy is configured to disabled")},i.h1t=function(){Kn.Vp("Leaving a Chromecast session is not possible when JoinStrategy is configured to disabled")},i.Sn=function(){Kn.Vp("Starting a Chromecast session is not possible when JoinStrategy is configured to disabled")},i.RI=function(){Kn.Vp("Stopping a Chromecast session is not possible when JoinStrategy is configured to disabled")},i.b1t=function(){return et.resolve()},i.yn=function(){},Nt(n,[{key:"uQ",get:function(){return!1}},{key:"lt",get:function(){}},{key:"r1t",get:function(){}},{key:"Cc",get:function(){},set:function(t){}},{key:"Vft",get:function(){return BS.UNAVAILABLE}},{key:"wa",get:function(){return this.eu||(this.eu=y$(this)),this.eu}}]),n}(ua);function b$(t){return{bt:t.bt,ER:t.xR(),ct:t.jd(),PR:t.PR,lt:t.NR(),MR:t.LR(),ZR:t.ZR,KR:t.KR,QR:t.QR,rI:t.rI,uI:t.uI,dI:t.dI,vI:t.vI,gI:t.gI}}F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt();var k$=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).cO=new Qk,r.dO=new Qk,r.Hl=new $k,r.lO=new eA,r.uO=new LT(n.fH),r.cO.vC=n.ht,r.dO.vC=n.rt,r.Hl.vC=n.nt,r.lO.vC=n.OR,r.Oc=new qL(r),r.Oc.vC=n.zc,r}It(n,t);var i=n.prototype;return i.Lst=function(){return this.Oc},i.mR=function(){return this.cO},i.FR=function(){return this.lO},i.ja=function(){return this.uO},i.lI=function(){return this.Hl},i._I=function(){return this.dO},i.switchContexts=function(t){this.na=t,this.cO.vC=t.ht,this.dO.vC=t.rt,this.Hl.vC=t.nt,this.uO.vC=t.fH,this.lO.vC=t.OR,this.Oc.vC=t.zc},i.D1t=function(t){this.na!==t&&(this.iZ(),this.switchContexts(t),this.eZ())},i.fO=function(t){if(this.na!==t){var n;this.iZ(),this.Ust&&(n=b$(this));var i=this.kR(),r=this.SI(),e=this.TI();if(this.switchContexts(t),void 0!==n)ET(this,n,b$(this));var u=this.kR();u!==i&&this._o(new RT(u)),this.SI()!==r&&this._o(new CT),this.TI()!==e&&this._o(new NT),this.eZ()}},i.yn=function(n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return[4,t.prototype.yn.call(i,n)];case 1:return r.sent(),i.uO.yn(n),i.cO.yn(n),i.dO.yn(n),i.Hl.yn(n),i.lO.yn(),[4,i.Oc.yn(n)];case 2:return r.sent(),[2]}}))}))()},Nt(n,[{key:"OR",get:function(){return this.FR()}}]),n}(Vk),A$=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).Yo=new hd,r.V1t=void 0,r.SEt=void 0,r.W1t=void 0,r.G1t=function(t){var n=t.Ht;T$(r.V1t,n)&&(n.Rt=!0)},r.H1t=function(t){var n=t.Ht;T$(r.SEt,n)&&(n.CE=Vy.Qn)},r.Z1t=function(t){var n=t.Ht;T$(r.W1t,n)&&(n.Rt=!0)},r.F1t=function(){r.O1t.ht.vn(pg.VI,r.G1t),r.O1t.nt.vn(pg.VI,r.H1t),r.O1t.rt.vn(pg.VI,r.Z1t)},r.O1t=n,r.kd.cast.strategy!==sA.DISABLED?r.N1t=new p$(r,n,r.kd.cast,i):r.N1t=new _$,r.Iz.mQ(r.N1t),r}It(n,t);var i=n.prototype;return i.iu=function(){var n=t.prototype.iu.call(this);return!n&&this.N1t.uQ&&this.N1t.Cc?this.N1t.Cc:n},i.Ca=function(n,i){var r=this;return this.Yo.Qo((function(i){return r.M1t=new Yo,r.M1t.Qw(i),Zo(t.prototype.Ca.call(r,n,r.M1t.Uw),r.M1t)}),i)},i.xI=function(){t.prototype.xI.call(this),this.kd.cast.strategy!==sA.AUTO||this.N1t.uQ||this.N1t.b1t()},i.S1t=function(t){var n=this;return this.Yo.Qo((function(i){return n.L1t(t,i)}))},i.x1t=function(t,n){var i=this;return void 0===t&&(t=void 0),void 0===n&&(n=!1),this.Yo.Qo((function(r){return i.B1t(t,n,r)}))},i.L1t=function(t,n){Vo(n),this.O1t.zc&&this.O1t.zc.hnt(t.zc),this.F1t(),this.V1t=ho(this.O1t.ht.lC,(function(t){return t.Rt})),this.SEt=ho(this.O1t.nt.lC,(function(t){return"showing"===t.CE})),this.W1t=ho(this.O1t.rt.lC,(function(t){return t.Rt})),this.U1t=t,this.U1t.Y0t(this.V1t,this.SEt,this.W1t),this.fO(t),this.U1t.pr()},i.B1t=function(t,n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){switch(s.label){case 0:if(Vo(i),void 0===(e=r.U1t))return[2];s.label=1;case 1:return s.trys.push([1,5,6,7]),t?[4,r.O1t.RI()]:[3,4];case 2:return s.sent(),Vo(i),u=uE(t,r.O1t.kd),n&&(u.ads=void 0),r.M1t=new Yo,r.M1t.Qw(i),[4,Zo(r.O1t.Ca(u,r.M1t.Uw),r.M1t)];case 3:s.sent(),s.label=4;case 4:return n&&r.O1t.zc&&e.zc.hnt(r.O1t.zc),[3,7];case 5:return Uo(s.sent()),[3,7];case 6:return e.dr(),r.fO(r.O1t),r.V1t=ho(r.U1t.ht.lC,(function(t){return t.Rt})),r.SEt=ho(r.U1t.nt.lC,(function(t){return"showing"===t.CE})),r.W1t=ho(r.U1t.rt.lC,(function(t){return t.Rt})),r.O1t.ht.bn(pg.VI,r.G1t),r.O1t.nt.bn(pg.VI,r.H1t),r.O1t.rt.bn(pg.VI,r.Z1t),r.O1t.bn(yp.VL,r.F1t),r.U1t===e&&(r.U1t=void 0),[7];case 7:return[2]}}))}))()},i.RI=function(){var n,i=this;return this.V1t=void 0,this.SEt=void 0,this.W1t=void 0,this.F1t(),null==(n=this.M1t)||n.jw(),this.Yo.Qo((function(){return t.prototype.RI.call(i)}))},i.yn=function(){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return null==(i=n.M1t)||i.jw(),n.N1t.yn(),[4,n.x1t()];case 1:return r.sent(),[4,n.Yo.yn()];case 2:return r.sent(),[4,t.prototype.yn.call(n)];case 3:return r.sent(),[2]}}))}))()},n}(k$);function T$(t,n){return void 0!==t&&void 0!==n&&(t.gs===n.gs&&n.Ch===t.Ch)}F(),Tt(),Gt(),Dt(),qt();var S$=function(){function t(t){this.v1t=void 0,this.eu=void 0,this.c1t=t}var n=t.prototype;return n.xj=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.v1t||(n.v1t=n.K1t(t)),[4,n.v1t];case 1:return i.sent(),[2]}}))}))()},n.K1t=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.c1t.xj(t)];case 1:return i.sent(),[2]}}))}))()},n.m1t=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:if(!t.v1t)throw new p("Chromecast must be initialized before starting a session");return[4,t.v1t];case 1:return n.sent(),t.c1t.l1t()?[3,3]:[4,t.c1t.m1t()];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))()},n.j1t=function(){this.c1t.R1t(!1)},n.Y1t=function(){this.c1t.R1t(!0)},Nt(t,[{key:"wa",get:function(){return this.eu||(this.eu=function(t){return{initialize:function(n){var i=t.xj(oA(n));return i.catch(bi),i},startSession:function(){var n=t.m1t();return n.catch(bi),n},endSession:function(){t.Y1t()}}}(this)),this.eu}}]),t}();var E$=new _Q,I$=new S$(E$),R$={get chromecast(){return I$.wa}};Gk((function(t){return new A$(t,E$)}),Fk.Zst),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Gt(),Dt(),Rt(),Ut(),qt(),F(),Tt(),Gt(),qt();var C$=function(){function t(t){this.o2t=t,this.i2t=rs(),this.n2t=rs()}var n=t.prototype;return n.Q1t=function(t,n,i,r){var e=this;t.xZ.forEach((function(t){if(!e.J1t(t.$1t)){var u=t.t2t(n,i,r);u&&e.e2t(u)}}))},n.J1t=function(t){return this.i2t.get(t)},n.e2t=function(t){this.i2t.set(t.s2t,t),this.n2t.set(t.s2t,t.r2t),this.o2t.ru(t.h2t)},n.ant=function(t){this.n2t.has(t.s2t)||(this.n2t.set(t.s2t,t),this.o2t.ru(t.h2t))},n.a2t=function(t){return this.n2t.forEach(t)},n.u2t=function(t){return this.i2t.forEach(t)},n.c2t=function(t){var n=!1;return this.i2t.forEach((function(i){n=i.c2t(t)||n})),n},n.yn=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return n=[],t.i2t.forEach((function(t){return n.push(t.yn())})),t.n2t.forEach((function(t){return n.push(t.yn())})),[4,et.all(n)];case 1:return i.sent(),t.i2t.clear(),t.n2t.clear(),[2]}}))}))()},t}();F(),Tt(),Rt();var N$=function(t){function n(n,i,r,e){var u;return(u=t.call(this,"f2t")||this).Ajt=n,u.wb=i,u.Gb=r,u.Cc=e,u}return It(n,t),n.prototype.ka=function(){return new D$(this.Ajt,this.wb,this.Gb,this.Cc)},n.l2t=function(t){return new n(LJ.GENERAL,t.wb,t.Tjt)},n.d2t=function(t,i){return new n(t.Ajt,t.message,t.Tjt,i)},n}(gg),D$=function(t){function n(n,i,r,e){var u;return(u=t.call(this,"aderror")||this).problemType=n,u.message=i,u.errorCode=r,u.source=e,u}return It(n,t),n}(sa),P$=function(t){function n(n){var i;return(i=t.call(this)||this).p2t=!1,i.X9=!1,i.eu=void 0,i.A2t=function(t){if(i.p2t){var n=new tw($g.ADVERTISEMENT_ERROR,t.wb),r=new id(td.AD_BLOCKER_DETECTED,t.wb+" Turn off your AdBlocker and try again.",n);i.y2t.BH(r)}},i.Mit=function(){i.X9=!0},i.y2t=n,i.v2t=new C$(i),i.bn("f2t",i.A2t),n.bn(oa.ho,i.Mit),i}It(n,t);var i=n.prototype;return i.hnt=function(t){this.m2t((function(n){n.hnt(t)}))},i.g6=function(t,n,i){try{this.p2t=i;var r=yS.Vg.IZ(t);if(r.$1t===zQ.Hst)return;var e=this.v2t.J1t(r.$1t);if(!e)throw new xJ(LJ.ADBLOCK,void 0,"Ads could not be loaded.");n!==IL.tnt&&this.X9||this.y2t.w2t(e),r.g6(t,n,e,this.p2t)}catch(n){0,this._o(N$.d2t(n,t.sources))}},i.MD=function(){this.m2t((function(t){t.MD()}))},i.ant=function(t){this.v2t.ant(t)},i.ont=function(t,n){return this.y2t.ont(t,n)},i.b2t=function(t){this.v2t.u2t((function(n){n.b2t(t)}))},i.c2t=function(t){return this.v2t.c2t(t)},i.m2t=function(t){return this.v2t.a2t(t)},i.kI=function(){this.v2t.u2t((function(t){return t.kI()}))},i.nr=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.X9=!1,n=[],t.v2t.u2t((function(t){return n.push(t.RI())})),[4,et.all(n)];case 1:return i.sent(),[2]}}))}))()},i.yn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.Ro(),[4,t.v2t.yn()];case 1:return n.sent(),t.y2t.vn(oa.ho,t.Mit),t.vn("f2t",t.A2t),[2]}}))}))()},Nt(n,[{key:"_2t",get:function(){return this.v2t}},{key:"Vc",get:function(){var t=!1;return this.m2t((function(n){t=t||n.g2t})),t}},{key:"ent",get:function(){var t=[];return this.m2t((function(n){var i,r=n.ent;r.length&&(i=t).push.apply(i,Ft(r))})),t}},{key:"snt",get:function(){var t=null;return this.m2t((function(n){null!=t||(t=n.snt)})),t}},{key:"nnt",get:function(){var t=[];return this.m2t((function(n){var i;(i=t).push.apply(i,Ft(n.nnt))})),t}},{key:"rnt",get:function(){var t=[];return this.m2t((function(n){var i;(i=t).push.apply(i,Ft(n.rnt))})),t}},{key:"wa",get:function(){var t;return null!=(t=this.eu)?t:this.eu=RL(this)}}]),n}(RI);F(),Tt(),Gt(),Dt(),qt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt();var x$=function(t){function n(n){var i;return(i=t.call(this)||this).dQt=n,i.Oc=[],i.S2t=-1,i.T2t=-1,i.k2t=void 0,i.x2t=!1,i}It(n,t);var i=n.prototype;return i.E2t=function(){this.x2t=!0},i.R2t=function(t){this.Oc.push(t),this.x2t=!1},i.I2t=function(t){wo(this.Oc,t)},Nt(n,[{key:"zc",get:function(){return this.Oc}},{key:"ZJt",get:function(){return this.S2t},set:function(t){this.S2t=t}},{key:"XJt",get:function(){return this.T2t},set:function(t){this.T2t=t}},{key:"eOt",get:function(){return this.dQt},set:function(t){this.dQt=t}},{key:"wJt",get:function(){return this.k2t}},{key:"tI",get:function(){return this.x2t}}]),n}(VQ),L$=function(t){function n(n,i){var r;return(r=t.call(this,i.timeOffset)||this).P2t=[],r.C2t=n,r.ir(i),r}It(n,t);var i=n.prototype;return i.ir=function(t){void 0!==t.maxDuration&&(this.S2t=t.maxDuration),void 0!==t.customData&&(this.k2t=t.customData)},i.D2t=function(t){var n=this.Oc.indexOf(t);return n>=0&&n<this.Oc.length-1},i.R2t=function(n){t.prototype.R2t.call(this,n),this.P2t.push(n)},i.N2t=function(t){wo(this.P2t,t)},i.I2t=function(n){t.prototype.I2t.call(this,n),wo(this.P2t,n)},Nt(n,[{key:"aQt",get:function(){return this.C2t}},{key:"nnt",get:function(){return this.P2t}}]),n}(x$);F(),Tt(),Dt(),Rt(),Ut(),F(),Tt(),Dt(),Rt();var M$=function(t){return t.Mjt="linear",t.M2t="nonlinear",t.iE="unknown",t}({}),O$=function(t){return t.NONE="none",t.READY="ready",t}({}),B$=function(t){function n(n,i){var r;return(r=t.call(this)||this).V2t=i,r.zS=void 0,r.RKt=void 0,r.YA=void 0,r.KA=void 0,r.MA=void 0,r.AKt=[],r.PYt=[],r.B2t="none",r.k2t=void 0,r.U2t=!1,r.sd=n,r}It(n,t);var i=n.prototype;return i.L2t=function(t,n,i,r,e,u){this.zS=t,this.YA=n,this.KA=i,this.MA=r,this.PYt=e,this.RKt=u,this.B2t="ready"},i.int=function(){var t;return null!=(t=this.eu)?t:this.eu=this.ka()},i.h$t=function(){},i.l$t=function(){return""},i.c$t=function(){return this.G2t},Nt(n,[{key:"O2t",get:function(){return this.B2t}},{key:"CYt",get:function(){return this.PYt}},{key:"ct",get:function(){return this.MA}},{key:"Ti",get:function(){return this.KA}},{key:"o",get:function(){return this.zS}},{key:"xKt",get:function(){return this.RKt}},{key:"ji",get:function(){return this.YA}},{key:"F2t",get:function(){return this.V2t}},{key:"QYt",get:function(){return this.JYt}},{key:"bYt",get:function(){return this.AYt}},{key:"hYt",get:function(){return this.AKt}},{key:"wJt",get:function(){return this.k2t}},{key:"W2t",get:function(){return this.U2t}}]),n}(BQ);function V$(t){return{get adSystem(){return t.h$t()},get readyState(){return t.O2t},get adBreak(){return t.sd.int()},get duration(){return t.ct},get companions(){return t.CYt.map((function(t){return t.wa}))},get resourceURI(){return t.c$t()},get clickThrough(){return t.QYt},get width(){return t.ji},get type(){return function(t){switch(t){case"linear":case"unknown":return"linear";case"nonlinear":return"nonlinear"}}(t.F2t)},get height(){return t.Ti},get id(){return t.o},get skipOffset(){return t.xKt},get integration(){return t.aQt},get creativeId(){return t.bYt},get universalAdIds(){return t.hYt},get customData(){return t.wJt},get isSlate(){return t.W2t}}}F(),Tt(),Dt();var F$=function(){function t(t){var n;this.eu=void 0,this.JYt=void 0,this.G2t=void 0,this.HYt=t.GYt,this.YA=t.ji,this.KA=t.Ti,this.Z2t=t.H2t,this.JYt=t.QYt,this.G2t=t.cjt,this.jYt=null!=(n=t.KYt)?n:"",this.X2t(t)}return t.prototype.X2t=function(t){if(!t.QYt||!t.cjt){var n=function(t){try{return dJ(t,"text/html")}catch(t){return}}(t.H2t);n&&(this.JYt=U$(n,"a","href"),this.G2t=U$(n,"img","src"))}},Nt(t,[{key:"GYt",get:function(){return this.HYt}},{key:"KYt",get:function(){return this.jYt}},{key:"H2t",get:function(){return this.Z2t}},{key:"QYt",get:function(){return this.JYt}},{key:"Ti",get:function(){return this.KA}},{key:"cjt",get:function(){return this.G2t}},{key:"ji",get:function(){return this.YA}},{key:"wa",get:function(){var t;return null!=(t=this.eu)?t:this.eu=function(t){return{get adSlotId(){return t.GYt},get altText(){return t.KYt},get contentHTML(){return t.H2t},get clickThrough(){return t.QYt},get height(){return t.Ti},get resourceURI(){return t.cjt},get width(){return t.ji}}}(this)}}]),t}();function U$(t,n,i){var r=t.querySelector(n);return r&&r.getAttribute(i)||""}var W$=function(t){function n(n,i,r){var e;return(e=t.call(this,r,function(t){return"linear"===t?M$.Mjt:"nonlinear"===t?M$.M2t:M$.iE}(i.type))||this).q2t=0,e.C2t=n,e.ir(i),e}It(n,t);var i=n.prototype;return i.ka=function(){return V$(this)},i.ir=function(t){t.id&&(this.zS=t.id),void 0!==t.skipOffset&&(this.RKt=t.skipOffset),void 0!==t.width&&(this.YA=t.width),void 0!==t.height&&(this.KA=t.height),void 0!==t.duration&&(this.MA=t.duration),void 0!==t.readyState&&(this.B2t=function(t){return"ready"===t?O$.READY:O$.NONE}(t.readyState)),void 0!==t.resourceURI&&(this.G2t=t.resourceURI),void 0!==t.clickThrough&&(this.JYt=t.clickThrough),void 0!==t.companions&&(this.PYt=Ft(t.companions).map(Z$)),void 0!==t.creativeId&&(this.AYt=t.creativeId),void 0!==t.universalAdIds&&(this.AKt=t.universalAdIds),void 0!==t.customData&&(this.k2t=t.customData)},Nt(n,[{key:"aQt",get:function(){return this.C2t}},{key:"z2t",get:function(){return this.q2t},set:function(t){this.q2t=t}}]),n}(B$);function Z$(t){var n={GYt:t.adSlotId,KYt:t.altText,H2t:t.contentHTML,Mk:void 0,QYt:t.clickThrough,Ti:t.height,cjt:t.resourceURI,ji:t.width};return new F$(n)}F(),Tt(),Dt(),Rt();var X$=function(t){function n(n,i){var r;return(r=t.call(this,"j2t",n)||this).K2t=i,r}return It(n,t),n.prototype.ka=function(){return new G$(this.lnt.int(),this.Y2t)},Nt(n,[{key:"Y2t",get:function(){return this.K2t}}]),n}(OL),G$=function(t){function n(n,i){var r;return(r=t.call(this,"adskip",n)||this).playedPercentage=i,r}return It(n,t),n}(BL);F(),Tt(),Rt();var H$=function(t){function n(n){return t.call(this,"Q2t",n)||this}return It(n,t),n.prototype.ka=function(){return new z$(this.sd.int())},n}(NL),z$=function(t){function n(n){return t.call(this,"updateadbreak",n)||this}return It(n,t),n}(DL);F(),Tt(),Rt();var Y$=function(t){function n(n){return t.call(this,"J2t",n)||this}return It(n,t),n.prototype.ka=function(){return new j$(this.sd.int())},n}(NL),j$=function(t){function n(n){return t.call(this,"adbreakchange",n)||this}return It(n,t),n}(DL);F(),Tt(),Rt();var K$=function(t){function n(n,i){var r;return(r=t.call(this,"$2t",n)||this).currentTime=i,r}return It(n,t),n.prototype.ka=function(){return new q$(this.lnt.int(),this.currentTime)},n}(OL),q$=function(t){function n(n,i){var r;return(r=t.call(this,"adfirstquartile",n)||this).currentTime=i,r}return It(n,t),n}(BL);F(),Tt(),Rt();var J$=function(t){function n(n,i){var r;return(r=t.call(this,"t3t",n)||this).currentTime=i,r}return It(n,t),n.prototype.ka=function(){return new Q$(this.lnt.int(),this.currentTime)},n}(OL),Q$=function(t){function n(n,i){var r;return(r=t.call(this,"admidpoint",n)||this).currentTime=i,r}return It(n,t),n}(BL);F(),Tt(),Rt();var $$=function(t){function n(n,i){var r;return(r=t.call(this,"e3t",n)||this).currentTime=i,r}return It(n,t),n.prototype.ka=function(){return new t0(this.lnt.int(),this.currentTime)},n}(OL),t0=function(t){function n(n,i){var r;return(r=t.call(this,"adthirdquartile",n)||this).ad=n,r.currentTime=i,r}return It(n,t),n}(BL),n0=function(){function t(t,n){this.h2t=new RI,this.Oc=[],this.w$t=[],this._3t=[],this.aQt=t,this.y2t=n}var n=t.prototype;return n.MD=function(){var t;if(0!==this._3t.length){var n=this._3t[0];(null==(t=this.K6)?void 0:t.skipAd)?this.K6.skipAd(n.int()):this.ZQt(n)}},n.hnt=function(t){},n.i3t=function(t,n){var i,r=null!=n?n:this.v3t({timeOffset:null!=(i=t.timeOffset)?i:0}),e=new W$(this.aQt,t,r);return r.R2t(e),this.Oc.push(e),this.h2t._o(new VL(e)),e},n.n3t=function(t,n){t.ir(n),this.h2t._o(new YQ(t))},n.o3t=function(t,n){if(!po(this._3t,t))throw new p("Cannot update ad progress on a non-started ad");var i=t.z2t,r=k.max(i,n);t.z2t=r;var e=this.y2t.xR();i<.25&&r>=.25&&this.h2t._o(new K$(t,e)),i<.5&&r>=.5&&this.h2t._o(new J$(t,e)),i<.75&&r>=.75&&this.h2t._o(new $$(t,e))},n.N2t=function(t){po(this._3t,t)||(this._3t.push(t),t.sd.N2t(t),this.m3t(t.sd),this.h2t._o(new GL(t,this.y2t.xR())))},n.ZQt=function(t){if(po(this._3t,t)){var n=t.sd.D2t(t);this.h2t._o(new X$(t,t.z2t)),this.g3t(t,n)}},n.h3t=function(t){if(po(this._3t,t)){var n=t.sd.D2t(t);this.h2t._o(new zL(t,this.y2t.xR())),this.g3t(t,n)}},n.I2t=function(t){if(po(this.Oc,t)){var n=t.sd.D2t(t);wo(this.Oc,t),t.sd.I2t(t),this.h2t._o(new Y$(t.sd)),this.g3t(t,n)}},n.a3t=function(t){var n=new L$(this.aQt,t);return this.w$t.push(n),this.h2t._o(new LL(n)),n},n.u3t=function(t,n){t.ir(n),this.h2t._o(new H$(t))},n.c3t=function(t){if(po(this.w$t,t)){for(var n=0,i=t.zc.slice();n<i.length;n++){var r=i[n];this.I2t(r)}wo(this.w$t,t),this.h2t._o(new PL(t))}},n.l3t=function(){for(var t=0,n=this.w$t.slice();t<n.length;t++){var i=n[t];this.c3t(i)}},n.d3t=function(t){this.h2t._o(new N$(LJ.GENERAL,t.message))},n.f3t=function(t,n){var i=new id(null!=n?n:td.AD_ERROR,t.message,t);this.y2t.BH(i)},n.p3t=function(t){return ho(this.w$t,(function(n){return n.eOt===t}))},n.v3t=function(t){var n;return null!=(n=this.p3t(t.timeOffset))?n:this.a3t(t)},n.g3t=function(t,n){wo(this._3t,t);var i=t.sd;0!==this._3t.length||this.p$t!==i||n||(i.E2t(),this.m3t(void 0))},n.m3t=function(t){this.p$t!==t&&(void 0!==this.p$t&&this.h2t._o(new UL(this.p$t)),this.p$t=t,void 0!==t&&this.h2t._o(new ZL(t)))},n.r3t=function(t){var n=ho(this.Oc,(function(n){return n.int()===t}));if(void 0===n)throw new p('Invalid ad for integration "'+this.aQt+'"');return n},n.s3t=function(t){var n=ho(this.w$t,(function(n){return n.int()===t}));if(void 0===n)throw new p('Invalid ad break for integration "'+this.aQt+'"');return n},n.Ca=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return Vo(n),(null==(r=i.K6)?void 0:r.setSource)?[4,et.resolve(i.K6.setSource(t))]:[3,2];case 1:return zS(e=u.sent())&&(e=t),[2,uE(e,i.y2t.kd)];case 2:return[2,t];case 3:return[2]}}))}))()},n.w3t=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return(null==(n=t.K6)?void 0:n.resetSource)?[4,et.resolve(t.K6.resetSource())]:[3,2];case 1:return i.sent(),[3,3];case 2:t.l3t(),i.label=3;case 3:return[2]}}))}))()},n.yn=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return(null==(n=t.K6)?void 0:n.destroy)?[4,et.resolve(t.K6.destroy()).catch(bi)]:[3,2];case 1:i.sent(),i.label=2;case 2:return t.l3t(),t.m3t(void 0),t.K6=void 0,t.h2t.yn(),[2]}}))}))()},Nt(t,[{key:"zc",get:function(){return this.Oc}},{key:"YJt",get:function(){return this.w$t}},{key:"wa",get:function(){var t;return null!=(t=this.eu)?t:this.eu=function(t){return{get integration(){return t.aQt},get ads(){return t.zc.map((function(t){return t.int()}))},get adBreaks(){return t.YJt.map((function(t){return t.int()}))},createAd:function(n,i){return t.i3t(n,i?t.s3t(i):void 0).int()},updateAd:function(n,i){t.n3t(t.r3t(n),i)},updateAdProgress:function(n,i){var r=sr(Number(i),0,1);t.o3t(t.r3t(n),r)},beginAd:function(n){t.N2t(t.r3t(n))},endAd:function(n){t.h3t(t.r3t(n))},skipAd:function(n){t.ZQt(t.r3t(n))},removeAd:function(n){t.I2t(t.r3t(n))},createAdBreak:function(n){return t.a3t(n).int()},updateAdBreak:function(n,i){t.u3t(t.s3t(n),i)},removeAdBreak:function(n){t.c3t(t.s3t(n))},removeAllAds:function(){t.l3t()},error:function(n){t.d3t(n)},fatalError:function(n,i){var r=i?Number(i):void 0;t.f3t(n,r)}}}(this)}},{key:"NN",get:function(){return this.K6},set:function(t){this.K6=t}},{key:"g2t",get:function(){return this._3t.some((function(t){return t.F2t===M$.Mjt}))}},{key:"s2t",get:function(){return this.aQt}},{key:"ent",get:function(){return this._3t}},{key:"snt",get:function(){var t;return null!=(t=this.p$t)?t:null}},{key:"nnt",get:function(){return Ao(this.w$t,(function(t){return t.nnt}))}},{key:"rnt",get:function(){return this.w$t.filter((function(t){return!t.tI}))}}]),t}();F(),Tt(),Dt();var i0=function(){function t(t){var n=this;this.V9=void 0,this.y3t=!1,this.Td=function(t){1!==n.na.QR&&(n.V9=n.na.QR,n.na.QR=1),n.y3t=!0},this.Md=function(t){n.y3t=!1,void 0!==n.V9&&(n.na.QR=n.V9,n.V9=void 0)},this.na=t,this.addAdListeners()}var n=t.prototype;return n.destroy=function(){this.removeAdListeners()},n.addAdListeners=function(){var t,n;null==(t=this.na.zc)||t.bn("_nt",this.Td),null==(n=this.na.zc)||n.bn("fnt",this.Md)},n.removeAdListeners=function(){var t,n;null==(t=this.na.zc)||t.vn("_nt",this.Td),null==(n=this.na.zc)||n.vn("fnt",this.Md)},Nt(t,[{key:"player",get:function(){return this.na},set:function(t){this.na&&this.removeAdListeners(),this.na=t,this.addAdListeners()}},{key:"inAdBreak",get:function(){return this.y3t}}]),t}(),r0=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).E3t=[],r.YG=void 0,r.TZ=void 0,r.x3t=1,r.O1t=n,r.b3t=new P$(r),r.b3t._2t.Q1t(i,n,r,n.kd),r}It(n,t);var i=n.prototype;return i.Lst=function(){return this.b3t},i.kI=function(){this.O1t.kI(),this.b3t.kI()},i.xI=function(){void 0===this.YG?(void 0!==this.T3t&&this.k3t(this.T3t),t.prototype.xI.call(this)):this._o(new yk(this.YG))},i.Ca=function(n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:if(Vo(i),!(e=n))return[3,4];u=0,s=r.E3t,f.label=1;case 1:return u<s.length?[4,s[u].Ca(e,i)]:[3,4];case 2:e=f.sent(),f.label=3;case 3:return u++,[3,1];case 4:return[4,t.prototype.Ca.call(r,e,i)];case 5:if(f.sent(),Vo(i),null==e?void 0:e.ads)for(o=Boolean(e.blockContentIfAdError),r.b3t.b2t(e.playAdsAfterTime),a=0,c=e.ads;a<c.length;a++)h=c[a],r.b3t.g6(h,IL.tnt,o);return[2]}}))}))()},i.RI=function(){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return n.YG=void 0,n.TZ=void 0,[4,n.b3t.nr()];case 1:return e.sent(),n.x1t(),[4,t.prototype.RI.call(n)];case 2:e.sent(),i=0,r=n.E3t,e.label=3;case 3:return i<r.length?[4,r[i].w3t()]:[3,6];case 4:e.sent(),e.label=5;case 5:return i++,[3,3];case 6:return[2]}}))}))()},i.k3t=function(t){this.x3t=this.na.QR;var n=this.na.gI,i=this.na.ZR;t.wI(n),t.zR(i),this.S3t=t,this.T3t=void 0,this.fO(t)},i.w2t=function(t){void 0===this.S3t&&(this.T3t=t)},i.x1t=function(){this.T3t=void 0,void 0!==this.S3t&&(this.O1t.QR=this.x3t,this.O1t.gI=this.gI,this.O1t.ZR=this.ZR,this.fO(this.O1t),this.S3t=void 0)},i.NR=function(){var n;return null!=(n=this.TZ)?n:t.prototype.NR.call(this)},i.LR=function(){var n;return null!=(n=this.YG)?n:t.prototype.LR.call(this)},i.BH=function(t){void 0===this.LR()&&(this.YG=t,this.TZ=iw(t),this._o(new yk(t)))},i.BI=function(t){return void 0===this.S3t&&this.b3t.c2t(t)},i.ont=function(t,n){try{var i=new n0(t,this);i.NN=n(i.wa),this.b3t.ant(i),this.E3t.push(i),t!==mS.UPLYNK&&(this.R3t=new i0(this))}catch(n){this.b3t._o(new N$(LJ.GENERAL,'Error while constructing ad integration "'+t+'": '+n+'"'))}},i.$R=function(n){var i;(null==(i=this.R3t)?void 0:i.inAdBreak)||t.prototype.$R.call(this,n)},i.yn=function(){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:r=0,e=n.E3t,u.label=1;case 1:return r<e.length?[4,e[r].yn().catch(bi)]:[3,4];case 2:u.sent(),u.label=3;case 3:return r++,[3,1];case 4:return[4,n.b3t.yn()];case 5:return u.sent(),n.x1t(),null==(i=n.R3t)||i.destroy(),n.R3t=void 0,[4,t.prototype.yn.call(n)];case 6:return u.sent(),[2]}}))}))()},Nt(n,[{key:"A3t",get:function(){return this.S3t}}]),n}(k$);Gk((function(t){return new r0(t,yS.Vg)}),Fk.Gst),F(),Tt(),Dt(),F(),Tt(),Gt(),Dt(),Rt(),Ut(),qt(),F(),Tt(),Gt(),Dt(),Rt(),qt();var e0=0!==Gn.og?Gn.og:Gn.nm,u0=Gn.su&&e0<12,s0=function(t){function n(n,i){var r;return(r=t.call(this,n,!0)||this).y2t=i,r.N3t=!1,r.dO=new Kg,r.cO=new Kg,r.Hl=new Hy,r.lO=new tA,r.I3t=new RI,r.ea=new JT,r.tH=new Nk,r.M3t=function(){r.na.ge()},r.L3t=function(){r.B3t()},r.na.bn(oa.xy,r.Ds),r}It(n,t);var i=n.prototype;return i.Tst=function(){return this.na.Tst()},i.yR=function(){return SA.pB().ks()},i.AR=function(){},i.SR=function(t){},i.JR=function(){return 1},i.$R=function(t){},i.eI=function(){return new SA([0,this.ER]).ks()},i.cI=function(){return!1},i.lI=function(){return this.Hl},i._I=function(){return this.dO},i.cs=function(){return this.SI().cs},i.SI=function(){return this.ea},i.Aa=function(){},i.yn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){return t.Ro(),t.cO.yn(),t.dO.yn(),t.Hl.yn(),t.I3t.yn(),t.na.vn(oa.xy,t.Ds),[2]}))}))()},i.C3t=function(){u0&&this.P3t(),this.g2t||this.y2t.k3t(this)},i.x1t=function(){this.g2t&&(u0&&this.D3t(),Gn.Cg&&this.we.querySelectorAll("video[src]").forEach((function(t){t.src=""})),Kn.Ys.cp&&this.na.MI(),this.y2t.x1t())},i.P3t=function(){this.N3t||(f.addEventListener("blur",this.M3t),f.addEventListener("focus",this.L3t),this.N3t=!0)},i.D3t=function(){f.removeEventListener("blur",this.M3t),f.removeEventListener("focus",this.L3t),this.N3t=!1},i.B3t=function(){var t=this;requestAnimationFrame((function(){return t.na.be()}))},Nt(n,[{key:"ER",get:function(){return this.xR()},set:function(t){this.RR(t)}},{key:"ct",get:function(){return this.jd()}},{key:"OR",get:function(){return this.lO}},{key:"hI",get:function(){return this.aI()}},{key:"yI",get:function(){return this.tH}},{key:"h2t",get:function(){return this.I3t}},{key:"ht",get:function(){return this.cO}},{key:"g2t",get:function(){return this.y2t.A3t===this}}]),n}(Vk);F(),Tt(),Gt(),Dt(),qt(),F(),Tt(),Dt();var o0=0,a0="theoplayer-wrapper",c0=function(){function t(n,i,r,e){this.F3t=i,this.na=r,this.H3t=e,this.Q3t=NaN,this.t4t=!1,this.i4t=!1,this.Y3t=!1,this.r4t=[],this.mst=!1,this.lZ=!1,this.W3t=[],this.IC=++o0,this.a4t=n.timeOffset,this.j3t=t.T4t(this.a4t),this.J3t(),this.W3t.push(n)}var n=t.prototype;return n.Z3t=function(t){var n=this.X3t===t.timeOffset;return!this.z3t&&n},n.J3t=function(){if(S(this.Q3t)){var t=this.X3t;if(void 0===t)return void(this.Q3t=0);if("string"==typeof t&&uQ(t)){var n=this.na.jd();S(n)||n===1/0||(t=Hq(t)*n)}S(t)||(this.Q3t=t)}},n.o4t=function(t){this.r4t.push(t)},n.h4t=function(){if(!this.z3t){var t,n,i=this.F3t===IL.tnt&&void 0===this.a4t&&1===this.W3t.length,r=this.W3t[0];if(!i&&1===this.W3t.length){var e=Kn.Ih(r.sources.src).searchParams.get("output");e&&e.toLowerCase().indexOf("vmap")>-1&&(i=!0,void 0!==this.a4t&&Yr("Do not set a timeOffset for VMAP ad sources. VMAP ads have their own offsets included."))}if(nQ(r.sources.type)||i)t=r.sources.src;else{if(S(this.na.jd())&&"end"===this.u4t())return;n=this.c4t()}var u=this.na.jd();(S(u)||u===1/0)&&(u=-3),this.z3t={l4t:this.na.we.offsetWidth,d4t:this.na.we.offsetHeight,f4t:this.na.we.offsetWidth,_4t:this.na.we.offsetHeight,v4t:this.mst,m4t:this.lZ,g4t:t,p4t:n,w4t:r.omidAccessModeRules,y4t:u}}return this.z3t},n.c4t=function(){var t=this;return'<vmap:VMAP xmlns:vmap="http://www.iab.net/videosuite/vmap" version="1.0">'+this.W3t.map((function(n,i){return t.b4t(n.sources,i)})).join("\n")+"</vmap:VMAP>"},n.b4t=function(t,n){var i=this.u4t(),r=t.src;return'<vmap:AdBreak timeOffset="'+i+'" breakType="linear,nonlinear" breakId="theoplayer-break-'+this.IC+"-"+n+'"><vmap:AdSource allowMultipleAds="true" followRedirects="true"><vmap:VASTAdData><VAST version="3.0"><Ad id="'+a0+"-"+this.IC+"-"+n+'"><Wrapper allowMultipleAds="true" followAdditionalWrappers="true"><VASTAdTagURI><![CDATA['+r+"]]></VASTAdTagURI></Wrapper></Ad></VAST></vmap:VASTAdData></vmap:AdSource></vmap:AdBreak>"},n.u4t=function(){if(0===this.X3t)return"start";if(this.X3t===1/0)return"end";var t=this.X3t;if("string"==typeof t&&uQ(t)){var n=Hq(t)*this.na.jd();return GJ.rQt(n)}return GJ.rQt(this.X3t||0)},n.A4t=function(t){this.W3t.push(t)},n.S4t=function(t){for(var n=a0+"-"+this.IC+"-",i=0;i<t.length;i++){var r=t[i];if(Fs(r,n)){var e=Number(r.slice(n.length));if(!S(e)&&e>=0&&e<this.W3t.length)return e}}return-1},n.k4t=function(){this.Y3t=!0},t.T4t=function(t){if(void 0!==t)return-1===t?1/0:t},Nt(t,[{key:"O3t",get:function(){return this.F3t}},{key:"V3t",get:function(){return this.W3t}},{key:"U3t",get:function(){return 1===this.W3t.length&&nQ(this.W3t[0].sources.type)}},{key:"G3t",get:function(){return this.H3t}},{key:"q3t",get:function(){return this.Y3t}},{key:"K3t",get:function(){return uQ(this.j3t)&&!this.z3t}},{key:"X3t",get:function(){return this.j3t}},{key:"od",get:function(){return this.Q3t}},{key:"$3t",get:function(){return this.t4t},set:function(t){this.t4t=t}},{key:"e4t",get:function(){return this.i4t},set:function(t){this.i4t=t,this.s4t=!1}},{key:"n4t",get:function(){return this.r4t}},{key:"SO",get:function(){return this.mst},set:function(t){this.mst=t}},{key:"ZR",get:function(){return this.lZ},set:function(t){this.lZ=t}}]),t}();F(),Tt(),Dt();var h0=function(){function t(t){this.L4t=!1,this.x4t=t,this.I4t=void 0}var n=t.prototype;return n.b2t=function(t){this.I4t=t},n.C4t=function(t){return!(this.E4t&&!this.E4t.q3t&&"nonlinear"!==this.R4t.F2t)||this.E4t.od>t.od&&this.E4t.od!==t.od},n.P4t=function(t){if(t.length)return t.sort((function(t,n){return t.od-n.od}))[0]},n.D4t=function(){if(this.nnt.length)return this.P4t(this.N4t(this.t.xR()))},n.M4t=function(){var t=this;if(!(void 0!==this.I4t&&this.I4t>=0))return this.nnt.filter((function(n){return!n.$3t&&0===n.od&&n!==t.E4t}))[0]},n.N4t=function(t){var n=this;if(!this.L4t&&(this.L4t=!this.nnt.some((function(t){return S(t.od)})),!this.L4t))return[];var i=this.nnt.filter((function(n){return!n.$3t&&(n.U3t||!S(n.od)&&t<=n.od)}));return void 0===this.I4t?i:i.filter((function(t){return t.U3t||void 0===t.X3t||t.od>n.I4t}))},Nt(t,[{key:"E4t",get:function(){return this.x4t.E4t}},{key:"R4t",get:function(){return this.x4t.R4t}},{key:"nnt",get:function(){return this.x4t.nnt}},{key:"t",get:function(){return this.x4t.t}}]),t}(),f0=function(t){return t[t.B4t=0]="B4t",t[t.O4t=1]="O4t",t[t.F4t=2]="F4t",t}({}),v0=function(){function t(t,n,i,r,e){var u=this;this.q4t=0,this.gpt=void 0,this.a5t=!1,this.qX=function(){for(var t=u.P2t.filter((function(t){return t.K3t})),n=0;n<t.length;n++){var i=t[n];i.J3t();var r=i.X3t;u.Z4t.l5t(r,i.od)}u.mo&&u.u5t&&u.W4t()},this.P2t=[],this.z4t=t,this.mo=!1,this.V4t=!1,this.na=n,this.y2t=i,this.E4t=void 0,this.t5t=0,this.o5t=new h0(this),this.pst=r,this.Z4t=e,this.na.bn(oa.Iy,this.qX)}var n=t.prototype;return n.kI=function(){this.mo=!0,this.V4t&&this.W4t()},n.U4t=function(t,n){this.G4t(t,n);var i=ho(this.nnt,(function(n){return n.Z3t(t)}));if(i)i.A4t(t);else{var r,e=new c0(t,n,this.na,null==(r=t.replaceContent)||r);this.P2t.push(e),2===this.H4t&&this.Z4t.a3t(e.od,e,e.X3t),this.X4t(n,e)}},n.Y4t=function(){if(wo(this.nnt,this.E4t),this.E4t){for(var t=0,n=this.E4t.n4t;t<n.length;t++){n[t];this.Z4t.K4t()}this.E4t=void 0}},n.j4t=function(){for(var t=0,n=this.P2t;t<n.length;t++)for(var i=0,r=n[t].n4t;i<r.length;i++){var e=r[i];this.Z4t.Q4t(e,!0)}bo(this.P2t)},n.J4t=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.Y4t(),n.$4t=!0,n.E4t=t,n.t5t=t.od,n.gpt=n.e5t(t),[4,n.gpt];case 1:return i.sent(),n.gpt=void 0,[2]}}))}))()},n.e5t=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:if(n.i5t(t),!(i=t.h4t()))return n.$4t=!1,n.E4t=void 0,[2];r=n.z4t.s5t(i),t.$3t=!0,e.label=1;case 1:return e.trys.push([1,3,,5]),[4,r];case 2:return e.sent(),t.O3t===IL.$st&&n.z4t.n5t(),[3,5];case 3:return e.sent(),n.E4t=void 0,[4,n.W4t()];case 4:return e.sent(),[3,5];case 5:return[2]}}))}))()},n.i5t=function(t){this.mo?t.SO=!0:t.SO=this.y2t.SO,t.ZR=this.y2t.ZR},n.r5t=function(){var t;return null!=(t=this.o5t.M4t())?t:this.o5t.D4t()},n.W4t=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.E4t&&!t.E4t.q3t?[2,t.gpt]:(n=t.r5t())?[4,t.J4t(n)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))()},n.nr=function(){this.Y4t(),bo(this.P2t),this.t5t=0,this.E4t=void 0,this.gpt=void 0,this.$4t=!1},n.e4t=function(){this.$4t=!1,this.E4t&&(this.E4t.e4t=!0)},n.X4t=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return t===IL.$st&&i.mo&&i.o5t.C4t(n)?i.XZt||"linear"===i.z4t.F2t||!(!i.E4t||i.E4t&&i.E4t.$3t)?[3,3]:[4,et.resolve()]:[3,3];case 1:return r.sent(),[4,i.J4t(n)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))()},n.k4t=function(){this.E4t&&this.E4t.k4t()},n.c5t=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.u5t?(n=t.r5t())?[4,t.J4t(n)]:[3,2]:[2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))()},n.G4t=function(t,n){var i=t.sources.type,r=n===IL.tnt&&void 0===t.timeOffset,e=nQ(i)||r?1:2;e!==this.q4t&&(this.q4t=e,this.j4t(),this.z4t.zJt&&!this.XZt&&"linear"!==this.z4t.F2t&&(this.z4t.zJt.Xw(),this.E4t=void 0,this.gpt=void 0),this.t5t=0,this.V4t=!0)},n.b2t=function(t){this.o5t.b2t(t)},n.yn=function(){this.na.vn(oa.Iy,this.qX)},Nt(t,[{key:"R4t",get:function(){return this.z4t}},{key:"nnt",get:function(){return this.P2t}},{key:"t",get:function(){return this.na}},{key:"XZt",get:function(){return Boolean(this.gpt)}},{key:"H4t",get:function(){return this.q4t}},{key:"E4t",get:function(){return this.h5t},set:function(t){this.h5t=t}},{key:"$4t",get:function(){return this.a5t},set:function(t){this.a5t=t}},{key:"u5t",get:function(){var t=this;return!this.XZt&&!this.$4t&&(!(this.E4t&&!this.E4t.q3t)&&(!!this.P2t.filter((function(n){return t.E4t!==n})).length&&Boolean(this.r5t())))}}]),t}();F(),Tt(),Gt(),Rt(),qt(),F(),Tt();var d0=function(t){return t.d5t="contentResumeRequested",t.f5t="contentPauseRequested",t._5t="click",t.Iy="durationChange",t.v5t="expandedChanged",t.m5t="start",t.g5t="impression",t.DZ="pause",t.p5t="resume",t.w5t="adProgress",t.y5t="adBuffering",t.b5t="firstQuartile",t.zKt="midpoint",t.A5t="thirdQuartile",t.qKt="complete",t.S5t="userClose",t.T5t="linearChanged",t.k5t="loaded",t.E5t="adCanPlay",t.x5t="adMetadata",t.R5t="adBreakReady",t.I5t="interaction",t.C5t="allAdsCompleted",t.P5t="skip",t.D5t="skippableStateChanged",t.N5t="log",t.M5t="viewableImpression",t.L5t="volumeChange",t.B5t="mute",t}({});F(),Tt();var l0=function(t){return t.O5t="adError",t}({});F(),Tt();var g0=function(t){return t[t.F5t=-1]="F5t",t[t.V5t=-1]="V5t",t[t.W5t=-1]="W5t",t[t.U5t=101]="U5t",t[t.G5t=102]="G5t",t[t.H5t=200]="H5t",t[t.Z5t=201]="Z5t",t[t.X5t=202]="X5t",t[t.z5t=300]="z5t",t[t.q5t=301]="q5t",t[t.Y5t=302]="Y5t",t[t.K5t=303]="K5t",t[t.j5t=400]="j5t",t[t.Q5t=402]="Q5t",t[t.J5t=403]="J5t",t[t.$5t=405]="$5t",t[t.t6t=500]="t6t",t[t.e6t=501]="e6t",t[t.i6t=-1]="i6t",t[t.s6t=503]="s6t",t[t.n6t=602]="n6t",t[t.r6t=900]="r6t",t[t.o6t=901]="o6t",t[t.h6t=1005]="h6t",t[t.a6t=1007]="a6t",t[t.u6t=1009]="u6t",t[t.c6t=1010]="c6t",t[t.l6t=1011]="l6t",t[t.d6t=1012]="d6t",t[t.f6t=1013]="f6t",t[t._6t=1020]="_6t",t[t.v6t=1021]="v6t",t[t.m6t=1101]="m6t",t[t.g6t=1204]="g6t",t[t.p6t=1205]="p6t",t[t.w6t=1300]="w6t",t[t.y6t=-1]="y6t",t[t.b6t=-1]="b6t",t[t.A6t=-1]="A6t",t[t.S6t=-1]="S6t",t}({}),w0=function(t){return t.T6t="adLoadError",t.k6t="adPlayError",t}({});function m0(t,n){if(t===d0.w5t){var i=n;return{E6t:i.adBreakDuration,x6t:i.adPosition,ER:i.currentTime,ct:i.duration,R6t:i.totalAds}}return n}function y0(t){switch(t){case google.ima.AdError.Type.AD_LOAD:return w0.T6t;case google.ima.AdError.Type.AD_PLAY:return w0.k6t}}function p0(t){return Qn(t)&&ui(t.getVastErrorCode)}function _0(t){var n=t.getInnerError(),i=n&&p0(n)?_0(n):void 0;return{wb:t.getMessage(),Tjt:t.getErrorCode(),I6t:t.getVastErrorCode(),Tw:y0(t.getType()),C6t:i}}function b0(t){if(Yn(t))return t}F(),Tt(),sn(),F(),Tt();var k0=function(t){function n(n,i,r){var e,u;return e=t.call(this)||this,u=e,e.z4t=n,e.na=i,e.q6t=r,e.R9t=!1,e.T9t=void 0,e.k9t=void 0,e.s9t=0,e.h9t=function(t){if(t.lnt&&t.lnt.d9t){var n=t.lnt.d9t;e.q6t.u3t(n.eOt,n.R6t,n.ZJt)}},e.a9t=function(t){var n,i,r;if(!(e.s9t>=5)){e.s9t++;var u=t.K6t;if(function(t){return Qn(t)&&void 0!==t.E6t&&void 0!==t.R6t}(u)){var s=null==(r=e.qJt)||null==(i=r.u9t())||null==(n=i.d9t)?void 0:n.eOt;void 0!==s&&e.q6t.u3t(s,u.R6t,u.E6t)}}},e.N6t=Zt((function(t){return Ht(this,(function(n){switch(n.label){case 0:return t.K6t.I9t?[4,u.$6t(t.K6t.I9t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))})),e.B6t=Zt((function(){return Ht(this,(function(t){switch(t.label){case 0:return u.R9t=!0,u.z4t.k4t(),[4,u.L6t()];case 1:return t.sent(),[2]}}))})),e.O6t=function(t){if(t.lnt){0;var n=t.lnt;e.z4t.m9t(n),e.z4t.ge(),e.z4t.C9t(),e.z4t.P9t=!0,e.q6t.D9t(n);var i=n.ct;if(e.Y6t(i),n.n9t){var r=e.z4t.ER,u=e.z4t.rI;e.z4t.F4(bp.sO),e.P6t(new Ap(r,u)),e.P6t(new Sp(r,u)),e.P6t(new Ep(r,u)),e.z4t.KR||e.P6t(new Ip(e.z4t.ER)),e.setCountdownTimer(),e.Z6t(!0)}else e.z4t.x1t(),e.na.ge(),e.z4t.KR||e.na.xI()}},e.F6t=function(t){var n;if(t.lnt){0;var i=t.lnt;if(e.Hp(),e.q6t.v9t(e.z4t.ct,i.n9t),e.z4t.rI!==bp.eO){var r=bp.eO;e.z4t.F4(r);var u=e.z4t.ER;e.P6t(new aT(u,r))}e.Y6t(NaN),e.z4t.P9t=!1,null==(n=e.qJt)||n.wI(e.z4t.r9t())}},e.V6t=function(t){t.lnt&&(e.F6t(t),e.q6t.V6t(t.lnt,e.z4t.ER,e.z4t.ct))},e.W6t=function(t){t.lnt&&(e.q6t.v9t(-1,t.lnt.n9t),e.z4t.k4t(),!t.lnt.n9t&&e.z4t.u5t()&&e.z4t.c5t())},e.U6t=function(t){t.lnt&&(t.lnt.n9t?e.z4t.EI():e.na.EI())},e.G6t=function(){var t;(e.z4t.P9t=!0,e.z4t.N9t)&&(null==(t=e.qJt)||t.EI(),e.z4t.N9t=!1)},e.M6t=function(t){var n;if(t.lnt){0,e.z4t.S9t&&(e.k9t=e.na.xR(),e.na.NI(),e.na.AI=!0),e.z4t.M9t=!0;var i=t.lnt;e.q6t.Td(i);var r=i.ct;e.z4t.m9t(i),e.Y6t(r),e.z4t.H6t(!1),e.z4t.ge(),e.z4t.C3t(),e.z4t.S9t||e.na.be(),e.na.EI(),e.z4t.L9t(i),0===(null==(n=i.d9t)?void 0:n.eOt)||e.z4t._o(new Tp(e.z4t.ER))}},e.L6t=Zt((function(t){var n,i,r,e,s;return Ht(this,(function(o){switch(o.label){case 0:return n=null==t?void 0:t.lnt,u.z4t.M9t=!1,"linear"===u.z4t.F2t&&u.q6t.Md(),n&&n.ct>=0&&u.Y6t(n.ct),u.na.jd()===1/0&&u.z4t.B9t(),u.z4t.P9t=!1,u.R9t?[4,u._9t()]:[3,2];case 1:o.sent(),o.label=2;case 2:u.z4t.H6t(!0),o.label=3;case 3:return o.trys.push([3,5,,6]),[4,u.A9t()];case 4:return o.sent(),[3,6];case 5:return Bo(i=o.sent())||u._o(new BK(i)),[2];case 6:return u.z4t.x1t(),u.z4t.be(),u.na.PR||u.na.xI(),n&&u.z4t.m9t(n),u.z4t.w9t&&(u.z4t.S9t&&(e=u.na.TI(),s=null==(r=u.na.bt)?void 0:r.src,e&&s&&(e.src=s)),u.z4t.y9t=!0),u.na.AI=!1,u.z4t.u5t()?[4,u.z4t.c5t()]:[3,8];case 7:o.sent(),o.label=8;case 8:return[2]}}))})),e}It(n,t);var i=n.prototype;return i.P6t=function(t){this.z4t._o(t)},i.D6t=function(t){var n=this;this.qJt=t,this.qJt.bn(l0.O5t,this.N6t),this.qJt.bn(d0.f5t,this.M6t),this.qJt.bn(d0.d5t,this.L6t),this.qJt.bn(d0.C5t,this.B6t),this.qJt.bn(d0.m5t,this.O6t),this.qJt.bn(d0.qKt,this.F6t),this.qJt.bn(d0.P5t,this.V6t),this.qJt.bn(d0.S5t,this.W6t),this.qJt.bn(d0._5t,this.U6t),this.qJt.bn(d0.E5t,this.G6t),this.qJt.bn(d0.DZ,(function(){n.z4t.KR||(n.z4t.H6t(!0),n.z4t._o(new cT(n.z4t.ER))),n.Z6t(!0)})),this.qJt.bn(d0.p5t,(function(){n.z4t.KR&&(n.z4t.H6t(!1),n.z4t._o(new hT(n.z4t.ER)))})),this.qJt.bn(d0.B5t,(function(){var i=t.pI();i>=0&&n.X6t(i)})),this.qJt.bn(d0.L5t,(function(){var i=t.pI();i>=0&&n.X6t(i)})),this.qJt.bn(d0.x5t,(function(t){n.q6t.z6t(t.type)})),this.qJt.bn(d0.Iy,(function(t){t.lnt&&n.Y6t(t.lnt.ct)}));var i=this;this.qJt.bn(d0.N5t,Zt((function(t){var n,r;return Ht(this,(function(e){switch(e.label){case 0:return n=t.K6t.adError,(r=p0(n)?_0(n):void 0)?i.j6t(r)?[4,i.Q6t(t)]:[3,2]:[2];case 1:return e.sent(),[3,5];case 2:return i.J6t(r)?[4,i.$6t(r)]:[3,4];case 3:return e.sent(),[3,5];case 4:i.t9t(r)&&i.e9t(r),e.label=5;case 5:return[2]}}))}))),this.qJt.bn(d0.k5t,(function(t){if(t.lnt&&(n.z4t.e4t(),n.q6t.i9t(t.lnt),n.s9t=0,t.lnt.n9t)){var i,r=n.z4t.rI,e=bp.eO;n.z4t.F4(e);var u=n.z4t.ER,s=n.z4t.rI;s!==r&&n.P6t(new aT(u,s)),null==(i=n.qJt)||i.wI(n.z4t.r9t()),n.P6t(new kp(u,e))}})),this.qJt.bn([d0.y5t,d0.g5t,d0.b5t,d0.zKt,d0.A5t],(function(t){t.lnt&&n.q6t.o9t(t.lnt,t.type,n.z4t.ER)})),this.qJt.bn(d0.b5t,this.h9t),this.qJt.bn(d0.w5t,this.a9t)},i.switchToPlayerIfNoNextAd=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:return t.qJt?(n=t.qJt.u9t())&&t.c9t(n)?[3,3]:t.z4t.u5t()?[4,t.z4t.c5t()]:[3,2]:[3,4];case 1:return r.sent(),[3,3];case 2:t.z4t.l9t(),t.na.KR&&!t.na.PR&&t.na.xI(),r.label=3;case 3:return[3,7];case 4:return t.z4t.u5t()?[4,t.z4t.c5t()]:[3,6];case 5:return r.sent(),[3,7];case 6:i=t.z4t.KR,t.z4t.l9t(),i||t.na.xI(),r.label=7;case 7:return[2]}}))}))()},i.c9t=function(t){var n=t.d9t,i=null==n?void 0:n.R6t;return(null==n?void 0:n.x6t)!==i},i.Hp=function(){this.z4t.Nc&&(y(this.z4t.Nc),this.z4t.Nc=null)},i.t9t=function(t){return t.Tw===w0.T6t},i.J6t=function(t){return t.Tw===w0.k6t},i.j6t=function(t){return t.Tjt===g0.u6t},i.$6t=function(t){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:return n.e9t(t),r=[g0.j5t,g0.o6t,g0.v6t,g0.p6t],n.z4t.bnt||po(r,t.Tjt)||po(r,null==(i=t.C6t)?void 0:i.Tjt)?[3,2]:(n.z4t.f9t.$4t=!1,null==(e=n.z4t.f9t.E4t)||e.k4t(),[4,n.switchToPlayerIfNoNextAd()]);case 1:u.sent(),u.label=2;case 2:return[2]}}))}))()},i.e9t=function(t){this.z4t.d3t(t)},i._9t=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.q6t.K4t(),t.z4t.k4t(),"nonlinear"===t.z4t.F2t&&(t.q6t.v9t(-1,!1),t.z4t.m9t(void 0)),"nonlinear"!==t.z4t.F2t&&"none"!==t.z4t.F2t?[3,2]:t.z4t.u5t()?[4,t.z4t.c5t()]:[3,2];case 1:n.sent(),n.label=2;case 2:return t.z4t.g9t(),t.z4t.g2t?t.z4t.x1t():t.p9t()&&t.na._o(new dT(t.na.xR())),[2]}}))}))()},i.p9t=function(){return this.z4t.w9t&&!this.z4t.y9t&&this.na.PR},i.setCountdownTimer=function(){var t=this;this.Hp(),this.z4t.Nc=m((function(){return t.Z6t()}),250)},i.Q6t=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return void 0===t.lnt?[2]:(n.z4t.f9t.$4t=!1,n.z4t.k4t(),n.z4t.u5t()?[4,n.z4t.c5t()]:[3,2]);case 1:return i.sent(),[3,3];case 2:n.z4t.H6t(!0),i.label=3;case 3:return[2]}}))}))()},i.Y6t=function(t){this.z4t.ct!==t&&t>=0&&(this.z4t.d4(t),this.P6t(new fT(this.z4t.ct)))},i.X6t=function(t){this.z4t.r9t()!==t&&(0===t?this.z4t.b9t(t,!0,!1):this.z4t.b9t(t,!1,!1))},i.A9t=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.z4t.S9t&&void 0!==t.na.NR()?(t.T9t=new Yo,[4,Zo(t.na.Ca(t.na.iu(),t.T9t.Uw),t.T9t)]):[3,2];case 1:n.sent(),t.k9t&&t.na.RR(t.k9t),t.k9t=void 0,n.label=2;case 2:return[2]}}))}))()},i.Z6t=function(t){if(this.qJt){var n=this.qJt.E9t();n>this.z4t.ct&&this.Y6t(k.round(n))}var i=this.z4t.ER;(t||!this.z4t.KR&&i!==this.z4t.x9t)&&(this.z4t._o(new lg(i,void 0)),this.z4t.x9t=i)},i.nr=function(){this.T9t&&(this.T9t.jw(),this.T9t=void 0),this.R9t=!1,this.s9t=0},i.yn=function(){this.nr(),this.Ro()},n}(ra);F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt();var A0=function(t){function n(n,i,r){var e;return(e=t.call(this,n)||this).O9t=i,e.F9t=r,e}return It(n,t),Nt(n,[{key:"aQt",get:function(){return zQ.f$t}}]),n}(x$);F(),Tt(),Dt(),Rt(),F(),Tt(),F(),Tt(),Dt(),Rt();var T0=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).W9t=0,r.U9t=void 0,r}It(n,t);var i=n.prototype;return i.h$t=function(){var t;return null==(t=this.U9t)?void 0:t.jqt},i.ka=function(){return function(t,n){return Rg(t,{bitrate:0,contentType:void 0,mediaUrl:void 0,traffickingParameters:void 0,traffickingParametersString:void 0,universalAdIds:[],get description(){return n.VN},get apiFramework(){return n.G9t},get creativeId(){return n.bYt},get title(){return n.oH},get wrapperAdIds(){return n.H9t},get wrapperAdSystems(){return n.Z9t},get wrapperCreativeIds(){return n.X9t}})}(V$(this),this)},i.z9t=function(t){this.U9t=t;var n=S0(t);this.L2t(t.vKt,t.q9t,t.Y9t,t.ct,n,-1)},Nt(n,[{key:"V9t",get:function(){return this.W9t},set:function(t){this.W9t=t}},{key:"aQt",get:function(){return zQ.Kh}},{key:"G9t",get:function(){var t;return null==(t=this.U9t)?void 0:t.WYt}},{key:"bYt",get:function(){var t;return null==(t=this.U9t)?void 0:t.bYt}},{key:"VN",get:function(){var t;return null==(t=this.U9t)?void 0:t.VN}},{key:"oH",get:function(){var t;return null==(t=this.U9t)?void 0:t.oH}},{key:"H9t",get:function(){var t,n;return null!=(n=null==(t=this.U9t)?void 0:t.H9t)?n:[]}},{key:"Z9t",get:function(){var t,n;return null!=(n=null==(t=this.U9t)?void 0:t.Z9t)?n:[]}},{key:"X9t",get:function(){var t,n;return null!=(n=null==(t=this.U9t)?void 0:t.X9t)?n:[]}}]),n}(B$);function S0(t){return t.rYt.map((function(t){return new F$(t)}))}var E0=function(t){function n(n){var i;return(i=t.call(this,n,M$.iE)||this).U9t=void 0,i.PKt=void 0,i}It(n,t);var i=n.prototype;return i.ka=function(){return function(t,n){return Rg(t,{get adSystem(){return n.h$t()},get apiFramework(){return n.G9t},get bitrate(){return n.K9t},get contentType(){return n.Mk},get creativeId(){return n.bYt},get description(){return n.VN},get mediaUrl(){return n.CKt},get title(){return n.oH},get traffickingParameters(){return n.j9t},get traffickingParametersString(){return n.Q9t},get wrapperAdIds(){return n.H9t},get wrapperAdSystems(){return n.Z9t},get wrapperCreativeIds(){return n.X9t},get universalAdIds(){return n.hYt}})}(V$(this),this)},i.z9t=function(t){this.U9t=t,this.L2t(t.vKt,t.q9t,t.Y9t,t.ct,S0(t),t.J9t),this.V2t=t.n9t?M$.Mjt:M$.M2t},i.h$t=function(){return this.U9t?I0(this.U9t.jqt):void 0},Nt(n,[{key:"aQt",get:function(){return zQ.f$t}},{key:"G9t",get:function(){return this.U9t?I0(this.U9t.WYt):void 0}},{key:"K9t",get:function(){return this.U9t?this.U9t.$9t:0}},{key:"Mk",get:function(){return this.U9t?I0(this.U9t.Mk):void 0}},{key:"bYt",get:function(){return this.U9t?I0(this.U9t.bYt):void 0}},{key:"t8t",get:function(){return this.U9t?I0(this.U9t.t8t):void 0}},{key:"VN",get:function(){var t;return null==(t=this.U9t)?void 0:t.VN}},{key:"CKt",get:function(){var t,n=null==(t=this.U9t)?void 0:t.CKt;return Yn(n)?n:this.PKt},set:function(t){this.PKt=t}},{key:"oH",get:function(){var t;return null==(t=this.U9t)?void 0:t.oH}},{key:"j9t",get:function(){return this.U9t?I0(this.U9t.j9t):void 0}},{key:"Q9t",get:function(){return this.U9t?I0(this.U9t.Q9t):void 0}},{key:"H9t",get:function(){var t,n;return null!=(n=null==(t=this.U9t)?void 0:t.H9t)?n:[]}},{key:"Z9t",get:function(){var t,n;return null!=(n=null==(t=this.U9t)?void 0:t.Z9t)?n:[]}},{key:"X9t",get:function(){var t,n;return null!=(n=null==(t=this.U9t)?void 0:t.X9t)?n:[]}},{key:"hYt",get:function(){var t,n;return null!=(n=null==(t=this.U9t)?void 0:t.hYt.map((function(t){return{adIdRegistry:t.e8t,adIdValue:t.i8t}})))?n:[]}}]),n}(B$);function I0(t){return null===t?void 0:t}F(),Tt(),Dt(),F(),Tt(),Dt();var R0=function(){function t(t,n){this.q6t=t,this.s8t=n}var n=t.prototype;return n.hnt=function(t){this.q6t.hnt(t)},n.MD=function(){this.q6t.MD()},n.yn=function(){return et.resolve()},Nt(t,[{key:"h2t",get:function(){return this.q6t.h2t}},{key:"s2t",get:function(){return this.s8t}},{key:"g2t",get:function(){return this.q6t.g2t}},{key:"snt",get:function(){var t;return null!=(t=this.q6t.snt)?t:null}},{key:"ent",get:function(){var t=this.q6t.n8t;return t?[t]:[]}},{key:"nnt",get:function(){return this.q6t.nnt}},{key:"rnt",get:function(){return this.q6t.rnt}}]),t}(),C0=function(){function t(t,n){this.I3t=t,this.w$t=[],this.h8t=!1,this.o8t=new R0(this,n)}return Nt(t,[{key:"r8t",get:function(){return this.o8t}},{key:"h2t",get:function(){return this.I3t}},{key:"g2t",get:function(){return this.h8t}},{key:"n8t",get:function(){return this.a$t}},{key:"snt",get:function(){return this.p$t}},{key:"nnt",get:function(){var t=this;return Ao(this.w$t,(function(n){if(n.tI)return[];var i=n.zc;if(n===t.p$t&&void 0!==t.a$t){var r=i.indexOf(t.a$t);if(r>=0)return i.slice(r+1)}return i}))}},{key:"rnt",get:function(){return this.w$t.filter((function(t){return!t.tI}))}}]),t}();F(),Tt(),Rt();var N0=function(t){function n(n){return t.call(this,"a8t",n)||this}return It(n,t),n.prototype.ka=function(){return new D0(this.lnt.int())},n}(OL),D0=function(t){function n(n){return t.call(this,"adimpression",n)||this}return It(n,t),n}(BL);F(),Tt(),Rt();var P0=function(t){function n(n){var i;return(i=t.call(this,"u8t")||this).lnt=n,i}return It(n,t),n.prototype.ka=function(){return new x0(this.lnt.int())},n}(gg),x0=function(t){function n(n){var i;return(i=t.call(this,"adbuffering")||this).ad=n,i}return It(n,t),n}(sa);F(),Tt(),Rt();var L0=function(t){function n(){return t.call(this,"c8t")||this}return It(n,t),n.prototype.ka=function(){return new M0},n}(gg),M0=function(t){function n(){return t.call(this,"admetadata")||this}return It(n,t),n}(sa),O0=function(t){function n(n,i){var r;return(r=t.call(this,n,zQ.f$t)||this).f8t=i,r.m8t=[],r.v8t=[],r}It(n,t);var i=n.prototype;return i.l8t=function(t,n){for(var i=0;i<t;i++){var r=new E0(n);n.R2t(r),this.h2t._o(new VL(r))}},i.a3t=function(t,n,i){var r=t;r===1/0&&(r=-1);var e=new A0(r,i,n);this.w$t.push(e),n.o4t(e),this.h2t._o(new LL(e))},i.l5t=function(t,n){for(var i=0,r=this.w$t;i<r.length;i++){var e=r[i];S(e.eOt)&&e.O9t===t&&(e.eOt=n,this.h2t._o(new H$(e)))}},i.Q4t=function(t,n){void 0===n&&(n=!1),n&&wo(this.w$t,t),this.h2t._o(new PL(t))},i.K4t=function(){if(this.snt){this.Q4t(this.snt,!0);var t=Boolean(this.a$t&&this.a$t.F2t===M$.Mjt);this.d8t(void 0,t)}},i.n3t=function(t,n){var i=n.d9t;if(i){var r=i.x6t-1,e=t.zc[r];return e.z9t(n),this.h2t._o(new YQ(e)),e.sd.ZJt=i.ZJt,e}},i._8t=function(t){if(!po(this.v8t,t)){if(t){if(this.a$t===t)return;this.a$t=t;for(var n=0,i=this.m8t;n<i.length;n++){var r=i[n];0,this.z6t(r,t,this.f8t.ER)}}else{if(!this.a$t)return;var e=new zL(this.a$t,this.a$t.sd.eOt);this.v8t.push(this.a$t),this.a$t=void 0,this.I3t._o(e)}bo(this.m8t)}},i.d8t=function(t,n){if(t){var i;if((null==(i=this.snt)?void 0:i.eOt)===t.eOt)return;this.p$t=t,n&&this.h2t._o(new ZL(this.p$t))}else{if(!this.p$t)return;var r=new UL(this.p$t);this.p$t=void 0,bo(this.v8t),n&&this.I3t._o(r)}},i.g8t=function(t){return this.w$t.filter((function(n){return or(n.eOt,t,.01)}))[0]},i.Td=function(t){if(t.d9t){var n=t.d9t,i=this.g8t(n.eOt);i&&(bo(this.m8t),this.d8t(i,t.n9t))}},i.Md=function(){this.snt&&this.h2t._o(new UL(this.snt)),bo(this.m8t),this.K4t()},i.D9t=function(t){if(!this.p$t&&t.d9t){var i=this.g8t(t.d9t.eOt);this.d8t(i,t.n9t)}if(this.p$t){var r=n.p8t(this.p$t,t);if(!r)return;this.n3t(this.p$t,t);var e=t.CKt;Yn(e)&&!Yn(r.CKt)&&(r.CKt=e,this.h2t._o(new YQ(r))),this._8t(r),this.h2t._o(new GL(this.a$t,r.sd.eOt))}else 0},i.v9t=function(t,n){if(this._8t(void 0),!n&&this.snt){var i=this.snt;this.d8t(void 0,!1),this.Q4t(i)}},i.i9t=function(t){var n=t.d9t;if(n){var i=this.g8t(n.eOt);if(i){this.u3t(n.eOt,n.R6t,n.ZJt);var r=this.n3t(i,t);r&&this.h2t._o(new KQ(r))}}},i.u3t=function(t,n,i){var r=this.g8t(t);if(r){var e=r.zc.length;if(n>e){var u=n-e;this.l8t(u,r),r.ZJt=i,this.h2t._o(new H$(r))}}},i.V6t=function(t,i,r){if(this.p$t){var e=n.p8t(this.p$t,t);if(e){var u=i/r;this.h2t._o(new X$(e,u))}}},i.o9t=function(t,i,r){if(this.p$t){var e=this.a$t;if(!e){var u=n.p8t(this.p$t,t);if(!u||po(this.v8t,u))return void this.m8t.push(i);e=u,this.n3t(this.p$t,t),this._8t(e)}this.z6t(i,e,r)}},i.z6t=function(t,n,i){t===d0.x5t?this.h2t._o(new L0):t===d0.g5t&&n?this.h2t._o(new N0(n)):t===d0.y5t&&n?this.h2t._o(new P0(n)):t===d0.b5t&&n&&i?this.h2t._o(new K$(n,i)):t===d0.zKt&&n&&i?this.h2t._o(new J$(n,i)):t===d0.A5t&&n&&i&&this.h2t._o(new $$(n,i))},i.MD=function(){this.f8t.MD()},i.hnt=function(t){this.f8t.hnt(t)},i.nr=function(){var t=Boolean(this.a$t&&this.a$t.F2t===M$.Mjt);this._8t(void 0),this.d8t(void 0,t);for(var n=0,i=this.w$t;n<i.length;n++){var r=i[n];this.Q4t(r)}bo(this.w$t),bo(this.m8t),bo(this.v8t)},i.yn=function(){this.nr()},n.p8t=function(t,n){if(n.d9t)return t.zc[n.d9t.x6t-1]},Nt(n,[{key:"g2t",get:function(){return this.f8t.g2t}}]),n}(C0);function B0(t){var n=f.google.ima.settings;t.ads&&t.ads.vpaidMode&&f.google.ima.settings.setVpaidMode(function(t){var n=f.google.ima.ImaSdkSettings.VpaidMode;switch(t){case VA.ENABLED:return n.ENABLED;case VA.INSECURE:return n.INSECURE;case VA.DISABLED:default:return n.DISABLED}}(t.ads.vpaidMode)),n.setPlayerVersion("9.3.0"),n.setPlayerType("THEOplayer"),n.setAutoPlayAdBreaks(!0),n.setDisableCustomPlaybackForIOS10Plus(!V0(t));var i=function(t){var n,i,r,e=null==(i=t.ads)||null==(n=i.googleIma)?void 0:n.language;if(void 0!==e)return e;var u=null==(r=t.ui)?void 0:r.language;if(ti(u))return u;return}(t);i&&n.setLocale(i)}function V0(t){return Gn.su&&t.allowNativeFullscreen}F(),Tt();var F0=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,n,i)||this).mo=!1,a.p2t=!1,a.R8t=void 0,a.I8t=void 0,a.Q8t=-1,a.V2t="none",a.C8t=!1,a.S8t=!1,a.N8t=new Yo,a.T8t=!1,a.E8t=!1,a.t7t=function(t){a.h2t._o(t)},a.J8t=function(t){a.R8t=new tw($g.ADVERTISEMENT_ERROR,"Error while recovering from failed IMA ad.",t.error.message),a.I8t=rw(a.R8t)},a.x9t=NaN,a.P8t=function(){a.mo||a.kI()},a.xQ=r,a.dZ=!0,a.MA=NaN,a.O4=bp.eO,a.k8t=!1,a.x8t=!1,a.Z4t=new O0(a.h2t,a),a.Z8t=new k0(a,a.na,a.Z4t),a.Z8t.bn(Uy.fa,a.J8t),a.na.bn(oa.ho,a.P8t),a.x4t=new v0(a,a.na,a.y2t,e,a.Z4t),a.F8t=o,a.O8t=s,a.V8t=u,a.be(),a.O8t.bn("$8t",a.t7t),a}It(n,t);var i=n.prototype;return i.y8t=function(t,n,i){n===IL.tnt&&void 0!==i&&(this.p2t=i),this.x4t.U4t(t,n)},i.hnt=function(t){for(var n=this.A8t(),i=0;i<n.length;i++){var r=n[i];zq(r.sources,r.timeOffset)||t.g6(r,IL.$st,!1)}},i.A8t=function(){for(var t=[],n=this.r2t,i=n.ent,r=n.nnt,e=[],u=0,s=i.concat(r);u<s.length;u++){var o=s[u],a=o.sd.F9t;if(!po(e,a.IC)){var c,h,f=a.S4t(o.H9t);if(f>=0)(c=t).push.apply(c,Ft(a.V3t.slice(f)));else(h=t).push.apply(h,Ft(a.V3t));e.push(a.IC)}}for(var v=0,d=this.x4t.nnt;v<d.length;v++){var l,g=d[v];if(!g.$3t)(l=t).push.apply(l,Ft(g.V3t))}return Ro(t)},i.xR=function(){if(!this.zJt)return 0;var t=this.zJt.E9t();return S(this.ct)||t<0?0:this.ct-t},i.RR=function(t,n){},i.jd=function(){return this.MA||NaN},i.d4=function(t){this.MA=t},i.XR=function(){return this.na.ZR},i.zR=function(t){this.b9t(this.gI,t,!0)},i.jR=function(){return this.dZ},i.H6t=function(t){this.dZ=t},i.fI=function(){var t,n,i;return null!=(i=null==(n=this.zJt)||null==(t=n.u9t())?void 0:t.Y9t)?i:0},i.mI=function(){var t,n,i;return null!=(i=null==(n=this.zJt)||null==(t=n.u9t())?void 0:t.q9t)?i:0},i.pR=function(){return[]},i.b2t=function(t){this.I4t=t,this.x4t.b2t(t)},i.n5t=function(){!this.S8t&&this.zJt&&(this.zJt.Sn(),this.S8t=!0)},i.m9t=function(t){this.F2t=t?t.n9t?"linear":"nonlinear":"none"},i.aI=function(){return SA.pB().ks()},i.pI=function(){return this.na.gI},i.wI=function(t){this.b9t(t,this.ZR,!0)},i.r9t=function(){return this.na.ZR?0:this.na.gI},i.b9t=function(t,n,i){var r=this.na.gI!==t||this.na.ZR!==n;r&&(this.na.gI=t,this.na.ZR=n),this.zJt&&i&&this.zJt.wI(this.r9t()),r&&this._o(new wT(this.ER,this.gI))},i.DR=function(){return!1},i.NR=function(){if(this.R8t&&this.p2t)return this.R8t},i.LR=function(){if(this.I8t&&this.p2t)return this.I8t},i.oI=function(){return this.O4},i.F4=function(t){this.O4=t,this._o(new _p(this.ER,t))},i.kI=function(){this.na.vn(oa.ho,this.P8t),this.mo||(this.mo=!0,this.x4t.kI(),this.C9t())},i.xI=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:if(t.D8t)return[2];t.N8t.jw(),t.N8t=new Yo,n=t.KR,t.H6t(!1),t._o(new hT(t.ER)),t.M8t()||(t.S9t||t.na.be(),t._o(new Tp(t.ER))),t.P9t||(t.N9t=!1),i=Boolean(t.zJt),t.D8t=t.x4t.W4t(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,t.D8t];case 2:return r.sent(),[3,4];case 3:return t.D8t=void 0,[7];case 4:try{Vo(t.N8t.Uw)}catch(t){return[2]}if(t.mo||t.P8t(),t.R8t&&t.p2t)return[2];if(t.zJt){if(n)if(i)try{Vo(t.N8t.Uw),t.zJt.L8t(),t._o(new Ip(t.ER))}catch(t){return[2]}else t.n5t()}else t.p2t||(t.x1t(),t.y2t.xI());return[2]}}))}))()},i.EI=function(){var t;this.KR||(this.H6t(!0),this._o(new cT(this.ER))),this.N8t.jw(),this.P9t?null==(t=this.zJt)||t.EI():this.N9t=!0},i.MD=function(){var t;null==(t=this.zJt)||t.MD()},i.g9t=function(){this.zJt&&(this.O8t.B8t(),this.zJt.RI(),this.zJt.Xw(),this.zJt=void 0,this.F2t="none",this.S8t=!1)},i.RI=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){return t.x9t=0,t.x4t.nr(),t.N8t.jw(),t.H6t(!0),t.k8t=!1,t.x8t=!1,t.P9t=!1,t.Z4t.nr(),t.g9t(),t.l9t(),null==(n=t.F8t)||n.nr(),t.N9t=!1,t.O8t.Xw(),[2]}))}))()},i.ge=function(){this.V8t.ge(),this.S9t&&this.na.ge()},i.be=function(){this.V8t.be()},i.W8t=function(){return Boolean(this.zJt)&&po(this.zJt.U8t(),-1)&&!this.k8t},i.e4t=function(){this.x4t.e4t()},i.u5t=function(){return this.x4t.u5t},i.k4t=function(){this.x4t.k4t()},i.c5t=function(){return this.x4t.c5t()},i.c2t=function(t){if(this.W8t()){if(t.type===oa.zy&&this.na.PR)return!0;if(t.type===oa.Dy)return this.k8t=!0,this.O8t.B8t(),!0}return!1},i.M8t=function(){return Boolean(this.zJt&&this.zJt.u9t())},i.s5t=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),n.g9t(),i=n.G8t(),n.V8t.xj(),[4,n.O8t.s5t(t,n.F8t,i)];case 1:return n.zJt=e.sent(),n.H8t(n.zJt),[3,3];case 2:return r=e.sent(),n.Z8t.$6t(r),[3,3];case 3:return[2]}}))}))()},i.H8t=function(t){if(t.wI(this.r9t()),this.x4t.H4t===f0.O4t){var n=t.U8t();if(n.length)for(var i=0;i<n.length;i++){var r=n[i];this.Z4t.a3t(r,this.x4t.E4t)}else this.Z4t.a3t(this.x4t.E4t.od,this.x4t.E4t)}this.Z8t.nr(),this.Z8t.D6t(t)},i.TI=function(){if(this.qJt&&this.S9t&&this.M8t())return this.na.TI()},i.SI=function(){return this.S9t&&this.g2t?this.na.Sa:t.prototype.SI.call(this)},i.G8t=function(){var t,n,i=!!(this.x4t.H4t===f0.O4t)&&this.b8t;return void 0!==this.xQ.ads.googleIma.uiElements?t=this.xQ.ads.googleIma.uiElements:this.xQ.ads.showCountdown||(t=[]),void 0!==this.xQ.ads.allowedMimeTypes&&(n=this.xQ.ads.allowedMimeTypes),{X8t:n,z8t:t,q8t:i,K9t:this.xQ.ads.googleIma.bitrate,Y8t:void 0,K8t:this.I4t}},i.C9t=function(){if(this.qJt){var t=this.G8t();this.qJt.j8t(t)}},i.d3t=function(t){this.R8t=new tw($g.ADVERTISEMENT_ERROR,t.wb),this.I8t=new id(td.AD_ERROR,"There was a problem playing ads.",this.R8t),this.h2t._o(N$.l2t(t))},i.l9t=function(){this.g2t&&(this.na.ge(),this.x1t(),this.be())},i.B9t=function(){var t;this.na.xR()!==1/0&&0!==this.na.aI().length&&((null==(t=this.x4t.E4t)?void 0:t.G3t)&&-1!==this.Q8t&&(this.na.RR(this.na.xR()+this.Q8t),this.Q8t=-1))},i.L9t=function(t){var n,i;this.Q8t=null!=(i=null==(n=t.d9t)?void 0:n.ZJt)?i:-1},i.x1t=function(){t.prototype.x1t.call(this),this.na.ge(),this.S9t&&!this.na.PR&&this.na.xI()},i.B3t=function(){this.S9t||t.prototype.B3t.call(this)},i.yn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.Z8t.vn(Uy.fa,n.J8t),[4,t.prototype.yn.call(n)];case 1:return i.sent(),n.g9t(),n.O8t.vn("$8t",n.t7t),n.O8t.Xw(),n.V8t.Xw(),n.x4t.yn(),n.Z8t.yn(),[2]}}))}))()},Nt(n,[{key:"r2t",get:function(){return this.Z4t.r8t}},{key:"w8t",get:function(){return this.Z4t}},{key:"f9t",get:function(){return this.x4t}},{key:"S9t",get:function(){return V0(this.xQ)}},{key:"s2t",get:function(){return n.s2t}},{key:"b8t",get:function(){return this.xQ.ads.preload===UA.MIDROLL_AND_POSTROLL}},{key:"F2t",get:function(){return this.V2t},set:function(t){this.V2t=t}},{key:"zJt",get:function(){return this.qJt},set:function(t){this.qJt=t,this.S8t=!1}},{key:"P9t",get:function(){return this.T8t},set:function(t){this.T8t=t}},{key:"bnt",get:function(){return this.p2t}},{key:"w9t",get:function(){return this.k8t}},{key:"N9t",get:function(){return this.E8t},set:function(t){this.E8t=t}},{key:"y9t",get:function(){return this.x8t},set:function(t){this.x8t=t}},{key:"M9t",get:function(){return this.C8t},set:function(t){this.C8t=t}}],[{key:"s2t",get:function(){return zQ.f$t}}]),n}(s0);F(),Tt();var U0=function(){function t(){}var n=t.prototype;return n.registerWebImaAdPlayerConstructor=function(t){this.e7t=t},n.createAdPlayer=function(t,n,i){return W0()&&this.e7t?this.e7t(t,n,i):void 0},t}();function W0(){return!!Boolean(f.google&&f.google.ima)&&!(1===b.keys(f.google.ima).length&&f.google.ima.dai)}U0.Vg=new U0;var Z0=function(){function t(){}var n=t.prototype;return n.CZ=function(t){return t&&t.integration===mS.GOOGLE_IMA},n.t2t=function(t,n,i){return U0.Vg.createAdPlayer(t,n,i)},n.g6=function(t,n,i,r){i.y8t(t,n,r)},n.qz=function(t){var n=iQ(t.sources);if(n){var i={integration:mS.GOOGLE_IMA,sources:n,omidAccessModeRules:b0(t.omidAccessModeRules)},r=eQ(t.timeOffset);return void 0!==r&&(i.timeOffset=r),i}},Nt(t,[{key:"$1t",get:function(){return F0.s2t}}]),t}();yS.Vg.PZ(new Z0),F(),Tt(),Dt(),F(),Tt(),Gt(),Dt(),Rt(),Ut(),qt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Rt();var X0=function(t){function n(){return t.call(this,"g$t")||this}return It(n,t),n.prototype.ka=function(){return new G0},n}(gg),G0=function(t){function n(){return t.call(this,"adloaded")||this}return It(n,t),n}(sa),H0=-1,z0=function(){function t(t,n){this.w$t=[],this.e$t=!1,this.j3t=t,this.Rp=0,this.JJt=n,this.h7t=NaN,this.o7t=!1,this.s7t=new UQ(this,this.JJt)}var n=t.prototype;return n.a7t=function(){return this.Rp<this.w$t.length},n.Bc=function(){var t;return this.Rp<this.w$t.length&&(t=this.w$t[this.Rp],this.Rp++),t},n.u7t=function(t){t.Ojt=this,this.w$t.push(t)},n.c7t=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:i=!1,r=0,e=n.w$t,c.label=1;case 1:if(!(r<e.length))return[3,6];u=e[r],c.label=2;case 2:return c.trys.push([2,4,,5]),[4,u.$n()];case 3:return c.sent(),i=!0,[3,5];case 4:return s=c.sent(),wo(n.w$t,u),o=u.wnt.sources,a="string"==typeof o?o:o.src,t._o(N$.d2t(s,a)),[3,5];case 5:return r++,[3,1];case 6:return n.o7t=!0,[2,i]}}))}))()},n.i$t=function(){this.e$t=!0},n.t$t=function(){return this.e$t},n.l7t=function(){return this.w$t.some((function(t){return OQ(t).some((function(t){return t.sYt}))}))},Nt(t,[{key:"YJt",get:function(){return this.w$t}},{key:"i7t",get:function(){return this.s7t}},{key:"Qut",get:function(){return this.Rp}},{key:"n7t",get:function(){return this.j3t}},{key:"r7t",get:function(){return this.o7t}},{key:"od",get:function(){if(S(this.h7t)){var t=GJ.hQt(this.j3t,this.JJt.t.jd());void 0===t||S(t)||(this.h7t=t)}return this.h7t}}]),t}(),Y0=function(t){function n(n,i,r,e){var u,s;return u=t.call(this)||this,s=u,u.R7t=!1,u.y7t=function(t){return qo(u.A7t(t))},u.A7t=Zt((function(t){var n,i,r,e,u,o,a;return Ht(this,(function(c){switch(c.label){case 0:return s.x7t(),n=t.currentTime,i=t.currentTime!==H0?s.k7t(s.s4,t.currentTime):s.T7t(t.currentTime,0,0)[0],u=s.na.jd()-10,(e=s.S7t(H0)&&k.ceil(n)===k.ceil(u)?s.T7t(H0,10,0).filter((function(t){return!t.r7t})):s.T7t(n,10,0).filter((function(t){return!t.r7t}))).length?[4,et.all(e.map((function(t){return t.c7t(s.g7t)})))]:[3,2];case 1:o=c.sent(),(a=o.some((function(t){return!0===t})))&&s._o(new X0),(!a||!s.m7t.B7t||e[0].od<s.m7t.B7t.od)&&(r=e[0]),c.label=2;case 2:return i&&(i!==s.m7t.B7t&&(r=i),s.I7t([i])),r?(s.m7t.p7t(),s.m7t.B7t=r,[4,s.m7t.v7t()]):[3,4];case 3:c.sent(),c.label=4;case 4:return S(s.na.jd())||(s.s4=t.currentTime),[2]}}))})),u.na=n,u.S3t=i,u.M7t=new FQ(u.S3t,u.na),u.I4t=void 0,u.R7t=!1,n.jd()!==1/0?u.jO=0:u.jO=n.xR(),u.s4=u.jO,u.f7t=[],u.g7t=r,u.m7t=e,u.w7t=!1,u}It(n,t);var i=n.prototype;return i._7t=function(){this.m7t.v7t()},i.Sn=function(){this.Mo(),this.g7t.bn("mnt",this.m7t.p7t)},i.Tn=function(){this.Fo(),this.g7t.vn("mnt",this.m7t.p7t),this.s4=this.jO,this.m7t.nr();for(var t=0,n=this.f7t;t<n.length;t++){n[t].i$t()}bo(this.f7t)},i.Mo=function(){this.w7t||(this.na.bn(oa.hb,this.y7t),this.w7t=!0)},i.Fo=function(){this.w7t&&(this.na.vn(oa.hb,this.y7t),this.w7t=!1)},i.b7t=function(){return this.A7t(new lg(H0,void 0))},i.S7t=function(t){return this.T7t(t,0,0).length>0},i.k7t=function(t,n){for(var i,r=0,e=0,u=this.f7t;e<u.length;e++){var s=u[e];if(!s.t$t()){var o=s.od;o>=t&&o<=n&&o>=r&&!S(o)&&(r=(i=s).od)}}return i},i.E7t=function(t){return this.A7t(new lg(t,void 0))},i.x7t=function(){if(!this.R7t&&void 0!==this.I4t){this.R7t=!this.f7t.some((function(t){return S(t.od)}));for(var t=0,n=this.f7t;t<n.length;t++){var i=n[t];i.od!==H0&&i.od<=this.I4t&&!i.t$t()&&i.i$t()}}},i.I7t=function(t){for(var n=0;n<t.length;n++){t[n].i$t()}this.S3t.C7t(t),0===this.d7t&&this.Fo()},i.T7t=function(t,n,i){var r=this;return this.f7t.filter((function(e){if(e.t$t())return!1;var u=e.od;return r.P7t(u,t)||r.D7t(u,t,n,i)}))},i.P7t=function(t,n){switch(n){case 0:return 0===t;case H0:return t===H0;default:return!1}},i.D7t=function(t,n,i,r){if(t<0)return!1;var e=t-n;return-1!==e&&e<=i&&e>=-r},i.N7t=function(t){if(t&&t.length>0){for(var i=0;i<t.length;i++){var r=t[i],e=n.T4t(r.eOt),u=this.egt(r);-1===u&&(this.R7t=void 0===this.I4t,this.f7t.push(new z0(e,this.M7t)),u=this.f7t.length-1),this.f7t[u].u7t(r)}this.Mo()}},i.egt=function(t){var i=n.T4t(t.eOt);return lo(this.f7t,(function(t){return i===n.T4t(t.n7t)}))},i.L7t=function(t){wo(this.f7t,t)},i.b2t=function(t){this.I4t=t,this.R7t=void 0===t},n.T4t=function(t){switch(t){case"start":case"00:00:00":case"00:00:00.000":case"0%":case"0":return"0";case"end":case"100%":return"-1";default:return t}},Nt(n,[{key:"d7t",get:function(){for(var t=0,n=0,i=this.f7t;n<i.length;n++){i[n].t$t()||(t+=1)}return t}},{key:"nnt",get:function(){return this.f7t}}]),n}(ua);F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Dt(),Rt();var j0,K0=function(t){function n(n,i){var r;return(r=t.call(this)||this).Z7t=[],r.G7t=[],r.YG=void 0,r.I3t=new ua,r.z7t=function(t){t.stopPropagation(),r.q7t()},r.q7t=function(){for(var t=0,n=r.Z7t;t<n.length;t++)for(var i=0,e=n[t].eKt;i<e.length;i++){var u=e[i];Zq(u.uri)}},r.b0t=v.createElement("div"),r.b0t.style.display="none",r.Y7t=n,r.K7t=i,r}It(n,t);var i=n.prototype;return i.F7t=function(){this.V7t(),this.W7t(),this.YG=void 0},i.U7t=function(t){this.G7t=this.G7t.concat(t)},i.H7t=function(t){this.Z7t=this.Z7t.concat(t)},i.W7t=function(){this.G7t=[]},i.V7t=function(){this.Z7t=[]},i.X7t=function(t){for(var n=0,i=this.G7t;n<i.length;n++){var r=i[n];r.WX===t&&Zq(r.eventURL)}},i.ge=function(){this.O7t.style.display=""},i.be=function(){this.O7t.style.display="none"},i.yn=function(){this.Ro(),this.I3t.Ro(),oi(this.b0t)},Nt(n,[{key:"O7t",get:function(){return this.b0t}},{key:"h2t",get:function(){return this.I3t}}]),n}(ua);function q0(t,n){var i=n;if(!function(t){return"ui"in t}(t))return i;var r,e=t.ui.language;if(ti(e)){var u=t.ui.languages;if(!u)return i;r=u[e]}else r=e;return r&&r[n]&&(i=r[n]),i}F(),Tt(),F(),Tt(),sn();var J0=(un(j0={},cA.qC,1),un(j0,cA.YC,2),un(j0,cA.KC,2),j0);function Q0(t,n){var i=n?n.map((function(t){return t.toLowerCase()})):n;return to(t.filter((function(t){var n=t.type.toLowerCase();return!!qn(i)&&-1!==i.indexOf(n)&&BJ(n)})),(function(t,n){return J0[t.type]-J0[n.type]})).map($0)}function $0(t){return dA({src:t.contentURL,type:t.type,isAdvertisement:!0})}function t1(t,n){return nB(n1(t),n1(n))}function n1(t){return{Ti:t.height,ji:t.width}}function i1(t,n,i,r){var e,u=function(t,n,i,r){var e,u=1/0,s=t.filter((function(t){return!BJ(t.type)})).filter((function(t){return void 0===r||-1!==r.indexOf(t.type)}));if(s.length){for(var o=0;o<s.length;o++){var a=s[o],c=(k.abs(a.width/n-1)+k.abs(a.height/i-1))/2;c<u&&(u=c,e=a)}return e||s.sort(t1)[0]}}(t.TKt,n.width,n.height,i),s=Q0(t.TKt,i);if(u){var o=$0(u);o&&s.push(o)}s.length>0&&(t.CKt=null==(e=s[0].src)?void 0:e.trim());return uE({sources:s},r)}var r1=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,n,i)||this).Rte=r,a.MT=e,a.S3t=u,a.Ku=s,a.J7t=o,a.Q7t=!1,a.Ete=0,a.s4=-1,a.GT=new Yo,a.ete=!0,a.yte=function(){a.rte()},a.Ate=function(){a.GT=void 0,a.Q7t||(a.Tte(),a.Q7t=!0),a.ete&&(a.ete=!1,a.S3t._7t()),a.O7t.style.display="block",a.J7t.vn(yp.UL,a.Ate),a.Q7t=!0},a.bte=function(){var t=a.ER,n=a.ct,i=t/n;(0===a.Ete&&i>=.25?(a.X7t(mJ.ZKt),a.Ete=1):1===a.Ete&&i>=.5?(a.X7t(mJ.zKt),a.Ete=2):2===a.Ete&&i>=.75&&(a.X7t(mJ.XKt),a.Ete=3),a.cte(t,n),a.Pte(),a.s4=t,a.wKt)&&(-1!==a.wKt.xKt&&a.wKt.xKt<a.wKt.ct&&(null!=a.E0t||(a.E0t=a.ote()),a.ER<a.wKt.xKt?a.E0t.H$t(a.wKt.xKt-a.ER):a.E0t.X$t()))},a.wte=function(){var t,n;a.GT=void 0,a.J7t.vn(Uy.fa,a.wte),a.ete=!0,null==(t=a.YG)||t.bjt(DJ.mjt),a.Q7t=!1,a.J7t.be();var i=(null==(n=a.J7t.bt)?void 0:n.src)||"";a.Y7t(i)},a.vte=function(){a.Ds(new lg(a.ER,void 0))},a.mte=function(){a.Ds(new fT(a.ct))},a.pte=function(){a.Ds(new wT(a.ER,a.gI))},a.ute=function(){a.S3t.EI()},a.hte=function(){a.tte&&(a.X7t(mJ.FKt),a.h2t._o(new X$(a.tte,a.ER/a.ct)),a.rte(!1))},a.O7t.className="theoplayer-ad-linear",a.O7t.style.zIndex="10",mi(a.O7t),a.J7t.be(),a.xte=!1,a}It(n,t);var i=n.prototype;return i.xI=function(){this.J7t.KR&&(this.J7t.xI(),this._o(new hT(this.ER)),this.Q7t&&this.X7t(mJ.BKt),this.Q7t=!0)},i.EI=function(){this.J7t.KR||(this.J7t.EI(),this._o(new cT(this.ER)),this.X7t(mJ.zy))},i.RI=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return null==(n=t.GT)||n.jw(),t.GT=void 0,t.be(),t.Q7t=!1,t.ete=!0,t.ite(),t.ste(),[4,t.nte()];case 1:return i.sent(),[2]}}))}))()},i.rte=function(t){void 0===t&&(t=!0),this.Q7t=!1,t&&this.X7t(mJ.qKt),this.be(),this.K7t()},i.ote=function(){var t,n=null==(t=this.S3t.Ma)?void 0:t.mi,i=new u$(this.Ku,n);return this.O7t.appendChild(i.we),i.bn("MD",this.hte),i},i.ate=function(){this.wKt&&this.wKt._Kt.QYt&&(this.S0t=new t$(this.O7t),this.S0t.B$t=this.wKt._Kt.QYt,this.S0t.bn("clickstart",this.ute),this.S0t.bn("click",this.q7t))},i.cte=function(t,n){for(var i=0,r=this.G7t;i<r.length;i++){var e=r[i];if(e.WX===mJ.qy){var u=SJ(e.nc,n);void 0!==u&&this.s4<u&&u<=t&&Zq(e.eventURL)}}},i.dte=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.wKt&&t.fte?(n=i1(t.wKt,t.fte,t.MT.ads.allowedMimeTypes,t.MT)).sources.length?(t.GT=new Yo,t.ete=!0,[4,Zo(t.J7t.Ca(n,t.GT.Uw),t.GT)]):[3,2]:[2];case 1:return i.sent(),t.J7t.ge(),t.wKt.kYt(),[3,4];case 2:return[4,t.J7t.nr()];case 3:return i.sent(),t.Y7t(""),t.wKt.kYt(),[2];case 4:return t.ate(),[2]}}))}))()},i._te=function(t,n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return r.tte=t,r.wKt=t.sYt,r.J7t.bn(oa.hb,r.vte),r.J7t.bn(oa.Iy,r.mte),r.J7t.bn(oa.ub,r.pte),r.J7t.bn(pp,r.Ds),r.wKt.cYt&&0!==r.wKt.cYt.length&&r.U7t(r.wKt.cYt),r.wKt._Kt&&r.H7t(r.wKt._Kt),r.YG=n,r.fte=i,0===r.wKt.TKt.length?[3,2]:(r.J7t.bn(Uy.fa,r.wte),[4,r.dte()]);case 1:e.sent(),r.J7t.bn(oa.Dy,r.yte),r.J7t.bn(oa.hb,r.bte),r.J7t.bn(yp.UL,r.Ate),r.J7t.bn(oa.jy,r.Ds),e.label=2;case 2:return[2]}}))}))()},i.ZQt=function(){this.j7t&&this.Ste&&this.hte()},i.Tte=function(){this.X7t(mJ.fTt),this.tte&&this.h2t._o(new GL(this.tte,this.ER))},i.nte=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.J7t.vn(Uy.fa,t.wte),t.J7t.vn(oa.Dy,t.yte),t.J7t.vn(oa.hb,t.bte),t.J7t.vn(yp.UL,t.Ds),t.J7t.vn(yp.UL,t.Ate),t.J7t.vn(oa.jy,t.Ds),t.J7t.vn(oa.hb,t.vte),t.J7t.vn(oa.Iy,t.mte),t.J7t.vn(oa.ub,t.pte),t.J7t.vn(pp,t.Ds),t.tte&&(t.tte.i$t(),t.h2t._o(new zL(t.tte,t.ER))),t.kte(),t.F7t(),t.ite(),t.ste(),t.tte=void 0,t.wKt=void 0,t.fte=void 0,[4,t.J7t.nr()];case 1:return n.sent(),t.J7t.be(),t.O7t.style.cursor="",t.Ete=0,t.s4=-1,t.xte&&(t.Rte.nte(),t.xte=!1),[2]}}))}))()},i.kte=function(){this.S0t&&(this.S0t.Xw(),this.S0t=void 0)},i.ste=function(){this.Ite&&(oi(this.Ite),this.Ite=void 0)},i.ite=function(){this.E0t&&(this.E0t.yn(),this.E0t=void 0)},i.Cte=function(){this.xte=!0},i.Pte=function(){var t;this.Ite||(this.Ite=v.createElement("div"),this.Ite.className="theoplayer-ad-overlay-component theo-ad-remaining-container",this.O7t.appendChild(this.Ite));var n=null==(t=this.tte)?void 0:t.sd;if(n){var i=n.zc.filter(HQ),r=q0(this.MT,"The content will play in")+" "+k.round(n.XJt)+" "+q0(this.MT,"seconds");if(i.length>1){var e=i.filter((function(t){return t.t$t()})).length;r+=". "+q0(this.MT,"Ad")+" "+(e+1)+"/"+i.length}cx(this.Ite,r)}},Nt(n,[{key:"j7t",get:function(){return this.Q7t}},{key:"ER",get:function(){return this.J7t.ER}},{key:"ct",get:function(){var t=this.J7t.ct;return S(t)&&this.wKt&&(t=this.wKt.ct||0),t}},{key:"PR",get:function(){return this.J7t.PR}},{key:"ZR",get:function(){return this.J7t.ZR},set:function(t){this.J7t.ZR=t,t?this.X7t(mJ.MKt):this.X7t(mJ.LKt)}},{key:"KR",get:function(){return this.J7t.KR}},{key:"rI",get:function(){return this.J7t.rI}},{key:"gI",get:function(){return this.J7t.gI},set:function(t){this.J7t.gI=t}},{key:"dI",get:function(){return this.J7t.dI}},{key:"vI",get:function(){return this.J7t.vI}},{key:"$7t",get:function(){return this.tte}},{key:"Ste",get:function(){return this.wKt&&-1!==this.wKt.xKt&&this.J7t.ER>=this.wKt.xKt}}]),n}(K0);F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Dt(),Rt();var e1=function(t){function n(){var i;return(i=t.call(this)||this).q$t=function(t){i._o(new sa("MD")),i.Dte(t)},i.Dte=function(t){t.stopPropagation()},i.Vs=n.mr(),i.z$t(),i}It(n,t);var i=n.prototype;return i.z$t=function(){this.we.addEventListener("mouseup",this.q$t),this.we.addEventListener("touchend",this.q$t),this.we.addEventListener("mousedown",this.Dte)},i.Z$t=function(){this.we.removeEventListener("mouseup",this.q$t),this.we.removeEventListener("touchend",this.q$t),this.we.removeEventListener("mousedown",this.Dte)},i.yn=function(){this.Z$t(),oi(this.Vs)},n.mr=function(){var t=v.createElement("div");return t.className="theoplayer-ad-nonlinear-close",t.style.position="absolute",t.style.right="0",t.style.top="0",t.style.cursor="pointer",t.style.fontSize="1.7em",t.style.lineHeight="0.75em",t},Nt(n,[{key:"we",get:function(){return this.Vs}}]),n}(ra),u1=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).Ote=function(){e.Ute(),e.X7t(mJ.JKt),e.K7t()},e.Bte=function(t){var n,i;e.Ute(),null==(n=e.YG)||n.bjt(DJ.pjt);var r,u,s,o=null==(i=e.u$t)?void 0:i.aYt[0],a=null!=(u=null!=(r=null==o?void 0:o._Yt)?r:null==o?void 0:o.dYt)?u:null==o?void 0:o.mYt;e.Y7t(null!=(s=null==a?void 0:a.cjt)?s:"")},e.Wte=function(){e.be(),ai(e.O7t),e.K7t(),e.Mte=void 0,e.u$t=void 0},e.Hte=function(){e.pu||(e.Vte=void 0,e.pu=new e1,e.O7t.children[0].appendChild(e.pu.we),e.pu.bn("MD",e.Zte))},e.Zte=function(){e.X7t(mJ.FKt),e.ZQt()},e.O7t.className="theoplayer-ad-nonlinear",e.O7t.style.position="absolute",e.O7t.style.width="100%",e.O7t.style.bottom="3em",e.O7t.style.zIndex="10",e.O7t.style.textAlign="center",e.S3t=r,e}It(n,t);var i=n.prototype;return i.F7t=function(){t.prototype.F7t.call(this),this.O7t&&ai(this.O7t)},i._te=function(t,n,i){var r=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return r.u$t&&r.nte(),r.Mte=t,r.u$t=t.nYt,0!==r.u$t.cYt.length&&r.U7t(r.u$t.cYt),r.YG=n,0===r.u$t.aYt.length?[3,2]:(r.H7t(r.u$t.aYt[0].pYt),r.O7t.addEventListener("error",r.Bte),r.O7t.addEventListener("load",r.Ote),[4,r.dte()]);case 1:i.sent(),r.Fte(),i.label=2;case 2:return[2]}}))}))()},i.ZQt=function(){var t;if(void 0===this.Vte){var n=null==(t=this.u$t)?void 0:t.aYt[0];n&&n.sd&&-1!==n.sd.xKt&&(this.X7t(mJ.FKt),this.h2t._o(new X$(this.Mte,0)),this.Wte())}},i.Tte=function(){void 0!==this.Mte&&this.h2t._o(new GL(this.Mte,this.S3t.ER))},i.RI=function(){this.nte(),this.Mte=void 0,this.u$t=void 0},i.nte=function(){this.Ute(),void 0!==this.Mte&&(this.Mte.i$t(),this.h2t._o(new zL(this.Mte,this.S3t.ER))),this.F7t(),this.Gte(),void 0!==this.Vte&&(w(this.Vte),this.Vte=void 0)},i.Ute=function(){this.O7t.removeEventListener("load",this.Ote),this.O7t.removeEventListener("error",this.Bte)},i.dte=function(){var t=this;return Zt((function(){var n,i,r,e,u,s,o,a,c;return Ht(this,(function(h){return(n=v.createElement("div")).className="theoplayer-ad-nonlinear-content",n.style.position="relative",n.style.display="inline-block",i=t.u$t.aYt[0],r=v.createElement("a"),i.pYt.QYt&&(r.href=i.pYt.QYt,r.target="zu",r.setAttribute("rel","noopener")),i._Yt?(e=i._Yt,(u=v.createElement("iframe")).src=e.cjt,r.appendChild(u)):i.dYt?(s=i.dYt,(o=v.createElement("img")).src=s.cjt,r.appendChild(o)):i.mYt&&(a=i.mYt,(c=v.createElement("iframe")).src=a.cjt,r.appendChild(c)),i.kYt(),r.addEventListener("mousedown",t.z7t),r.addEventListener("touchend",t.z7t),t.O7t.firstChild&&(ai(t.O7t),t.nte()),n.appendChild(r),t.O7t.appendChild(n),t.ge(),[2]}))}))()},i.Fte=function(){var t;if(this.u$t){var n=null==(t=this.u$t.aYt[0].sd)?void 0:t.xKt;void 0!==n&&-1!==n&&(this.Vte=f.setTimeout(this.Hte,1e3*n))}},i.Gte=function(){this.pu&&(this.pu.vn("MD",this.Zte),this.pu.yn()),this.pu=void 0},Nt(n,[{key:"Nte",get:function(){return this.Mte}},{key:"Lte",get:function(){return this.pu}},{key:"Xte",get:function(){return this.S3t.zte()}}]),n}(K0);F(),Tt(),Gt(),qt();var s1=function(){function t(){}return t.qte=function(t,n,i){return Zt((function(){var r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:r=[],e=t.shift(),a.label=1;case 1:if(!e)return[3,6];a.label=2;case 2:return a.trys.push([2,4,,5]),[4,(new ZJ).Cjt(e,n)];case 3:return u=a.sent(),r=r.concat(u),[3,5];case 4:return s=a.sent(),o=N$.d2t(s,e.sources.src),i._o(o),[3,5];case 5:return e=t.shift(),[3,1];case 6:return[2,r]}}))}))()},t}();F(),Tt(),Gt(),Dt(),qt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Rt();var o1=function(t){function n(){return t.call(this,"wat")||this}return It(n,t),n.prototype.ka=function(){return new a1},n}(gg),a1=function(t){function n(){return t.call(this,"statechange")||this}return It(n,t),n}(sa);F(),Tt();var c1=function(t){return t.IDLE="idle",t.LOADING="loading",t.DONE="done",t.ERROR="error",t.EVICTED="evicted",t}({});F(),Tt(),Rt(),F(),Tt(),Dt(),Rt();var h1=function(){function t(){this.tc=[],this.eu=void 0}var n=t.prototype;return n.fC=function(t){return this.tc[t]},n.kO=function(t){this.tc.push(t),this.eu&&this.eu.push(t.wa),this.Yte(t)},n.Kte=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.kO(i)}},n.jte=function(t,n){n>=0&&n<=this.tc.length&&(this.tc.splice(n,0,t),this.eu&&this.eu.splice(n,0,t.wa),this.Yte(t))},n.EO=function(t){return po(this.tc,t)},n.eT=function(t){this.Qte(this.tc.indexOf(t))},n.Qte=function(t){if(t>=0&&t<this.tc.length){var n=this.tc[t];mo(this.tc,t),this.eu&&mo(this.eu,t),this.Jte(n)}},n.Fb=function(){var t=this.tc.slice();bo(this.tc),this.eu&&bo(this.eu);for(var n=0;n<t.length;n++){var i=t[n];this.Jte(i)}},Nt(t,[{key:"Zu",get:function(){return this.tc}},{key:"V",get:function(){return this.tc.length}},{key:"wa",get:function(){return this.eu||(this.eu=this.ka()),this.eu}}]),t}(),f1=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).$te=new ua,n.Ds=function(t){n._o(t)},n}It(n,t);var i=n.prototype;return i.ka=function(){return function(t){var n=function(t){var n=t.Zu.map((function(t){return t.wa}));return n.item=function(n){var i=0|n,r=t.fC(i);return r&&r.wa||void 0},n}(t),i=new eR(t,n);return n.addEventListener=function(t,n){i.bn(t,n)},n.removeEventListener=function(t,n){i.vn(t,n)},n}(this)},i.bn=function(t,n){this.$te.bn(t,n)},i.oy=function(t){this.$te.oy(t)},i.Ro=function(){this.$te.Ro()},i._o=function(t){this.$te._o(t)},i.vn=function(t,n){this.$te.vn(t,n)},i.vy=function(t){this.$te.vy(t)},i.gy=function(t){this.$te.gy(t)},i.py=function(t,n){return this.$te.py(t,n)},n}(h1);F(),Tt(),Rt();var v1=function(t){function n(n){var i;return(i=t.call(this,"addtask")||this).task=n,i}return It(n,t),n}(sa),d1=function(t){function n(n){var i;return(i=t.call(this,"iee")||this).eee=n,i}return It(n,t),n.prototype.ka=function(){return new v1(this.eee.wa)},n}(gg);F(),Tt(),Rt();var l1=function(t){function n(n){var i;return(i=t.call(this,"removetask")||this).task=n,i}return It(n,t),n}(sa),g1=function(t){function n(n){var i;return(i=t.call(this,"see")||this).task=n,i}return It(n,t),n.prototype.ka=function(){return new l1(this.task.wa)},n}(gg),w1=function(t){function n(){return t.call(this)||this}It(n,t);var i=n.prototype;return i.Yte=function(t){this._o(new d1(t))},i.Jte=function(t){this._o(new g1(t))},n}(f1),m1=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Rat="uninitialised",e.HT=new w1,e.hee=i,e.aee=r,e.d_=n,e.kI(),e}It(n,t);var i=n.prototype;return i.kI=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.nee()];case 1:return n.sent(),t.Iat("initialised"),[2]}}))}))()},i.nee=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,t.ree()];case 1:return n.sent(),[3,3];case 2:return n.sent(),[3,3];case 3:return[2]}}))}))()},i.ree=function(){var t=this;return Zt((function(){var n,i,r,e;return Ht(this,(function(u){switch(u.label){case 0:return[4,t.d_.Trt()];case 1:n=u.sent(),i=0,u.label=2;case 2:return i<n.length?(r=n[i],e=t.hee.oee(r.id,r.sourceDescription,r.parameters,t.aee),t.uee(e),t.HT.kO(e),[4,e.cee]):[3,5];case 3:u.sent(),u.label=4;case 4:return i++,[3,2];case 5:return[2]}}))}))()},i.Iat=function(t){this.Rat=t,this._o(new o1)},i.oee=function(t,n,i){void 0===i&&(i="persistent");var r=this.hee.dee(t,n,i);return this.fee(r,i),this.HT.kO(r),this.uee(r),r},i.fee=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,i._ee(t,n)];case 1:return e.sent(),[3,3];case 2:throw r=e.sent(),p("Unable to persist task - "+r);case 3:return[2]}}))}))()},i._ee=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return[4,i.d_.brt({key:t.o,id:t.o,sourceDescription:t.Cc,parameters:t.pT},n)];case 1:return r.sent(),[2]}}))}))()},i.uee=function(t){var n=this;t.bn("wat",(function(){t.Yk===c1.EVICTED&&n.HT.eT(t)}))},Nt(n,[{key:"Yk",get:function(){return this.Rat}},{key:"lee",get:function(){return this.HT}}]),n}(ra);F(),Tt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),F(),Tt(),Dt();var y1=function(){function t(t,n,i){if(this.gee=t,this.TO=n,this.vee=i,0===this.TO.size)this.bee=SA.pB();else{var r=new SA([-1/0,1/0]);this.TO.forEach((function(t){r=r.jn(t.timeRanges)})),this.bee=r}}return t.prototype.sF=function(t){return!!Ng(this.TO,t.TO)&&(!!fr(this.gee,t.gee)&&(!!fr(this.vB,t.vB)&&(!!fr(this.pee,t.pee)&&this.wee.aB(t.wee))))},Nt(t,[{key:"vB",get:function(){return this.vee}},{key:"mee",get:function(){return this.gee}},{key:"pee",get:function(){return this.wee.vB}},{key:"yee",get:function(){var t=0,n=0;return this.TO.forEach((function(i){t+=i.timeRanges.vB,n+=i.totalQualityDurationToCache})),0===n?0:k.min(1,t/n)}},{key:"wee",get:function(){return this.bee}}]),t}();y1.QUALITY_TIME_RANGES_NULL_OBJECT=rs(),y1.CACHE_PROGRESSION_NULL_OBJECT=new y1(0,y1.QUALITY_TIME_RANGES_NULL_OBJECT,NaN),y1.Aee=y1.CACHE_PROGRESSION_NULL_OBJECT,F(),Tt(),F(),Tt(),Gt(),Ut(),qt(),F(),Tt(),Gt(),Dt(),Rt(),Ut(),qt(),F(),Tt(),Rt();var p1=function(t){function n(){return t.call(this,"progress")||this}return It(n,t),n}(sa),_1=function(t){function n(){return t.call(this,"z2t")||this}return It(n,t),n.prototype.ka=function(){return new p1},n}(gg);F(),Tt(),F(),Tt(),Dt(),Rt();var b1=function(t){function n(n,i){return t.call(this,n,i)||this}return It(n,t),Nt(n,[{key:"name",get:function(){return"See"}}]),n}(Mo);F(),Tt(),Gt(),qt(),F(),Tt(),Gt(),qt(),F(),Tt();var k1=function(t){return t[t.qC=0]="qC",t[t.YC=1]="YC",t}({});function A1(t,n,i){return T1.apply(this,arguments)}function T1(){return T1=Zt((function(t,n,i){var r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:for(r=[],e=0,u=t.Gpt;e<u.length;e++)s=u[e],r.push(S1(s,n,i));return[4,et.all(r)];case 1:return o=a.sent(),[2,{ct:t.Eyt.cwt(),Eee:[t.NSt],Gpt:o}]}}))})),T1.apply(this,arguments)}function S1(t,n,i){return E1.apply(this,arguments)}function E1(){return E1=Zt((function(t,n,i){var r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:for(r=[],e=0,u=t.Ppt;e<u.length;e++)s=u[e],r.push(I1(s,n,i));return[4,et.all(r)];case 1:return[2,{Tee:o.sent()}]}}))})),E1.apply(this,arguments)}function I1(t,n,i){return R1.apply(this,arguments)}function R1(){return R1=Zt((function(t,n,i){var r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:for(r=[],e=0,u=t.gft;e<u.length;e++)C1(s=u[e])||r.push(P1(s,n,i));return[4,et.all(r)];case 1:return[2,{Z:o.sent(),Tw:t.Tw}]}}))})),R1.apply(this,arguments)}function C1(t){return t.Jat.every(D1)}var N1=1;function D1(t){return t.Owt!==N1&&Boolean(t.Owt)}function P1(t,n,i){return x1.apply(this,arguments)}function x1(){return x1=Zt((function(t,n,i){var r,e,u,s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:for(r=[],e=0,u=t.Jat;e<u.length;e++)D1(s=u[e])||r.push(L1(s,i));return[4,et.all(r)];case 1:return o=v.sent(),a=t.Jrt[0],c=t.TG,h=c?function(t,n){for(var i=[],r=function(t){return t?Vs(t,"avc")?Dv.VIDEO_H264:Vs(t,"hev")||Vs(t,"hvc")||Vs(t,"hvt")||Vs(t,"lhv")||Vs(t,"lhe")||Vs(t,"lht")?Dv.VIDEO_H265:Vs(t,"mp4")?Dv.VIDEO_MP4:Vs(t,"mpeg2")?Dv.VIDEO_MPEG2:Vs(t,"mpeg")?Dv.VIDEO_MPEG:Dv.VIDEO_UNKNOWN:Dv.VIDEO_UNKNOWN}(t),e=0;e<n.length;e++){var u=n[e],s=u.c9.split(":").pop(),o=u.l9;i.push({mimeType:r,uuid:s,data:o})}var a=k1.qC,c=vs;return{type:a,schemeType:c,schemeDatas:i}}(a,c):void 0,f=oZ(t,n,!0),[2,{NC:o,gs:t.Qtt,Tw:t.Tw,sH:h,upt:f}]}}))})),x1.apply(this,arguments)}function L1(t,n){return M1.apply(this,arguments)}function M1(){return M1=Zt((function(t,n){var i,r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:i={stack:[],error:void 0,hasError:!1},c.label=1;case 1:return c.trys.push([1,3,4,5]),r=Yt(i,new Yo,!1),[4,O1(t,n,r.Uw)];case 2:switch(e=c.sent(),u={o:F1(t),LL:e,bG:t.bG,gp:t.gp,Ti:t.Ti,Tw:t.Tw,ji:t.ji},t.Tw){case qg.Tk:break;case qg.mE:u.oft=null!=(o=null==(s=t.oft)?void 0:s._F())?o:NaN;break;case qg.vE:u.audioSamplingRate=t.Nwt}return[2,u];case 3:return a=c.sent(),i.error=a,i.hasError=!0,[3,5];case 4:return jt(i),[7];case 5:return[2]}}))})),M1.apply(this,arguments)}function O1(t,n,i){return B1.apply(this,arguments)}function B1(){return B1=Zt((function(t,n,i){var r,e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:r=[],e=t.Zot,t.pdt&&r.push({WO:0,ct:0,kee:t.pdt}),u=e.hbt(),s=u,h.label=1;case 1:return s?t.dlt(s)?[4,t._lt(s,n,i)]:[3,3]:[3,5];case 2:for(o=h.sent(),a=0;a<o.V;a++)r.push(V1(o.glt(a),t));return[3,4];case 3:r.push(V1(s,t)),h.label=4;case 4:return s=e.wlt(s),[3,1];case 5:return c=e.lbt(),[2,{ct:c.UO-u.WO,Mrt:r}]}}))})),B1.apply(this,arguments)}function V1(t,n){return{WO:t.WO,ct:t.ct,kee:n.Alt(t)}}function F1(t){return t.rlt.Sn+"-"+(""+t.o)}function U1(t,n){var i=function(t){var n=function(t){for(var n=rs(),i=0;i<t.length;i++){var r=t[i],e=n.get(r.lLt);e||(e={Tw:r.Tw,AN:[]},n.set(r.lLt,e)),e.AN.push(r)}return n}(t),i=es();return n.forEach((function(t){for(var n=0,r=t.AN;n<r.length;n++){var e=r[n],u=i.get(t.Tw);u||(u=rs(),i.set(t.Tw,u));var s=u.get(e.l);s||(s=[],u.set(e.l,s)),s.push(e)}})),i}(t);return function(t,n){var i=es();return t.forEach((function(t,r){var e=rs();t.forEach((function(t,i){for(var u=[],s=0;s<t.length;s++){var o=W1(t[s],r,n);u.push(o)}e.set(i,u)})),i.set(r,e)})),i}(i,n)}function W1(t,n,i){for(var r=t.lLt,e={gLt:t,GLt:[]},u=0;u<i.length;u++){var s=i[u];tj(n,r,s)&&e.GLt.push(s)}return e}function Z1(t,n){return X1.apply(this,arguments)}function X1(){return X1=Zt((function(t,n){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,n.aTt([t],{})];case 1:return[2,TY((i=r.sent()).eE,{},i.cTt)]}}))})),X1.apply(this,arguments)}function G1(t,n){return H1.apply(this,arguments)}function H1(){return H1=Zt((function(t,n){return Ht(this,(function(i){return Lz(t)?[2,z1(t,n)]:[2,o2(t)]}))})),H1.apply(this,arguments)}function z1(t,n){return Y1.apply(this,arguments)}function Y1(){return Y1=Zt((function(t,n){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return[4,J1(U1(t.AN,t.rOt),n)];case 1:return i=e.sent(),[4,K1(t.rOt,n)];case 2:return r=e.sent(),i.push(r),[2,{ct:j1(i),Eee:[t.Fyt],Gpt:[{Tee:i}]}]}}))})),Y1.apply(this,arguments)}function j1(t){for(var n=-1/0,i=0;i<t.length;i++)for(var r=0,e=t[i].Z;r<e.length;r++){var u,s=e[r];n=(u=k).max.apply(u,[n].concat(Ft(s.NC.map((function(t){return t.LL.ct})))))}return n}function K1(t,n){return q1.apply(this,arguments)}function q1(){return q1=Zt((function(t,n){var i,r,e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:i=[],r=0,h.label=1;case 1:return r<t.length?[4,u2((e=t[r]).Fyt,n)]:[3,4];case 2:(o=h.sent()).bG=e.bG,o.gp=e.Jrt?function(t){return[t.cPt,t.dPt,t.kBt].filter(Yn).join(",")}(e.Jrt):"",o.Ti=null!=(a=null==(u=e.$Ct)?void 0:u.Ti)?a:0,o.ji=null!=(c=null==(s=e.$Ct)?void 0:s.ji)?c:0,i.push(o),h.label=3;case 3:return r++,[3,1];case 4:return[2,{Tw:qg.iE,Z:[{gs:KB,Tw:qg.iE,NC:i}]}]}}))})),q1.apply(this,arguments)}function J1(t,n){return Q1.apply(this,arguments)}function Q1(){return Q1=Zt((function(t,n){var i,r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:i=[],r=t.entries(),e=r.next(),a.label=1;case 1:return e.done?[3,4]:(u=tn(e.value,2),s=u[0],[4,$1(u[1],s,n)]);case 2:o=a.sent(),i.push(o),a.label=3;case 3:return e=r.next(),[3,1];case 4:return[2,i]}}))})),Q1.apply(this,arguments)}function $1(t,n,i){return t2.apply(this,arguments)}function t2(){return t2=Zt((function(t,n,i){var r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:r=[],e=t.entries(),u=e.next(),a.label=1;case 1:return u.done?[3,4]:(s=tn(u.value,2),[4,n2(s[1],i)]);case 2:o=a.sent(),r.push(o),a.label=3;case 3:return u=e.next(),[3,1];case 4:return[2,{Tw:r2(n),Z:r}]}}))})),t2.apply(this,arguments)}function n2(t,n){return i2.apply(this,arguments)}function i2(){return i2=Zt((function(t,n){var i,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:i=[],r=t[0].gLt,e=0,s.label=1;case 1:return e<t.length?[4,e2(t[e],n)]:[3,4];case 2:u=s.sent(),i.push(u),s.label=3;case 3:return e++,[3,1];case 4:return[2,{gs:r.gs||KB,Tw:r2(r.Tw),NC:i}]}}))})),i2.apply(this,arguments)}function r2(t){switch(t){case Oz.vE:return qg.vE;case Oz.mE:return qg.mE;case Oz.JV:case Oz.aBt:return qg.Tk;default:return qg.iE}}function e2(t,n){var i=function(t){var n=t.gLt.Fyt,i=t.GLt.map((function(t){return t.Fyt}));return n||(i.length?i[0]:void 0)}(t);return u2(i,n)}function u2(t,n){return s2.apply(this,arguments)}function s2(){return s2=Zt((function(t,n){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return i={ct:0,Mrt:[]},t?[4,Z1(t,n)]:[3,2];case 1:Mz(r=e.sent())&&(i=a2(r)),e.label=2;case 2:return[2,{o:t||"default",xee:t,LL:i,bG:0,gp:"",Ti:0,Tw:qg.iE,ji:0}]}}))})),s2.apply(this,arguments)}function o2(t){var n=a2(t);return{ct:n.ct,Eee:[t.Fyt],Gpt:[{Tee:[{Tw:qg.iE,Z:[{Tw:qg.iE,gs:KB,NC:[{o:t.Fyt,LL:n,bG:0,gp:"",Ti:0,Tw:qg.iE,ji:0}]}]}]}]}}function a2(t){for(var n,i=[],r=0,e=0,u=t.Mrt;e<u.length;e++){var s=u[e],o=r;!s.uOt||void 0!==n&&Zz(s.uOt.Fyt,n)||(i.push(c2(s.uOt,o)),n=s.uOt.Fyt),i.push(h2(s,o)),r+=s.ct}return{ct:r,Mrt:i}}function c2(t,n){return{WO:n,ct:0,kee:f2(t.Fyt)}}function h2(t,n){return{WO:n,ct:t.ct,kee:f2(t.Fyt)}}function f2(t){return{Xu:t.Mx,_ut:t._At?[t._At.Sn,t._At.Sn+t._At.V]:void 0,xE:!1}}F(),Tt(),Gt(),nn(),Ut(),qt(),F(),Tt();var v2=function(){function t(t,n,i){this.uTt=t,this.blt=n,this.Pee=i}var n=t.prototype;return n.Ree=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:if(!t.src)throw new p("Invalid typed source");return HA(i=t.type)?[4,n.Iee(t)]:[3,2];case 1:case 3:return[2,r.sent()];case 2:return GA(i)?[4,n.Cee(t)]:[3,4];case 4:throw new p("Unexpected source type");case 5:return[2]}}))}))()},n.Iee=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,Z1(t.src,n.uTt)];case 1:return[4,G1(i.sent(),n.uTt)];case 2:return[2,i.sent()];case 3:throw i.sent(),new p("Unable to fetch HLS manifest");case 4:return[2]}}))}))()},n.Cee=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,(i=new IW({VC:Kn.Ih(t.src),GSt:t.liveOffset,qSt:t.timeServer,xE:t.useCredentials},n.Pee,ll.LE,n.uTt,t.dash)).W];case 1:return r.sent(),[4,A1(i.Er.vdt,t.contentProtection,n.blt)];case 2:return[2,r.sent()];case 3:throw r.sent(),new p("Unable to fetch DASH manifest");case 4:return[2]}}))}))()},t}();F(),Tt(),Gt(),qt();var d2=function(){function t(t){this.Nee=[],this.Bee=0,this.Oee=t}var n=t.prototype;return n.Dee=function(){var t=new Gc;return this.Nee.push(t),this.Mee(),t.Ub},n.Lee=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return r.trys.push([0,,2,3]),[4,t];case 1:return r.sent(),[3,3];case 2:return i.Bee-=1,i.Mee(),0===i.Nee.length&&0===i.Bee&&n.Vb(!0),[7];case 3:return[2]}}))}))()},n.Mee=function(){this.Nee.length>0&&this.Bee<this.Oee&&(this.Nee.shift().Vb(),this.Bee+=1)},t}();var l2=function(t){function n(n,i,r,e,u,s,o,a){var c;(c=t.call(this)||this).DEFAULT_CACHING_SEGMENT_TIMEOUT=3e4,c.DEFAULT_CACHING_SEGMENT_CONNECTION_TIMEOUT=0,c.$ee=new Gc,c.Gee=y1.Aee,c.bTt=n,c.Nrt=i,c.uTt=r,c.zee=e,c.Sct=u,c.blt=s,c.Pee=a,c.aee=o,c.Vee=-1;var h=c.bTt.Cc.sources[0];return c.Fee=h,c.mo=c.kI(),c.Qee=new d2(c.bTt.pT.parallelTasksThreshold),c}It(n,t);var i=n.prototype;return i.kI=function(){var t=this;return Zt((function(){var n,i,r,e,u,s,o,a,c,h,f,v,d,l,g,w,m,y,_,b,A,S,E,I,R,C;return Ht(this,(function(N){switch(N.label){case 0:return[4,new v2(t.uTt,t.blt,t.Pee).Ree(t.Fee)];case 1:return t.hPt=N.sent(),n=t.bTt.pT.amount,i=t.hPt.ct,r=function(t,n){if(ti(t)){if(Vs(t,"%"))return T(t)/100*n;throw new p("Unexpected - Invalid string supplied as amount to cache.")}return n<t?n:t}(n,i),t.vee=r,u=gM(t.hPt.Eee[0]),[4,t.Nrt.Lrt.Ert(u,"manifestURL")];case 2:for(s=N.sent().filter((function(n){return po(n.references,t.bTt.o)})),o=[],a=t.bTt.pT.bandwidth,c=0,h=t.hPt.Gpt;c<h.length;c++)for(f=h[c],v=0,d=f.Tee;v<d.length;v++)for(l=d[v],g=0,w=m2(l,t.bTt.pT.preferredTrackSelection);g<w.length;g++)for(m=w[g],y=0,_=p2(m.NC,a);y<_.length;y++)b=_[y],o.push(b);if(t.Vee=k.ceil(o.map((function(t){return t.bG*function(t,n){for(var i=0,r=0,e=t.LL.Mrt.map((function(t){return t.ct}));r<e.length;r++)if((i+=e[r])>=n)return i;return i}(t,r)/8})).reduce((function(t,n){return t+n}),0)),A=rs(),s&&0!==s.length){for(S=function(n){var i=s[n],r=i.qualityId,e=new SA(i.startsAndEnds);if(A.has(r))A.get(r).timeRanges=A.get(r).timeRanges.tB(e).$L(5e-4);else{var u,a=ho(o,(function(t){return t.o===r})),c=k.min(t.vee,null!=(u=null==a?void 0:a.LL.ct)?u:1/0);A.set(r,{timeRanges:e,totalQualityDurationToCache:c})}},E=s.reduce((function(t,n){return t+n.byteSize}),0),I=0;I<s.length;I++)S(I);e=new y1(E,A,t.vee)}else{for(R=0;R<o.length;R++)C=o[R],A.set(C.o,{timeRanges:SA.pB(),totalQualityDurationToCache:k.min(C.LL.ct,t.vee)});e=new y1(0,A,t.vee)}return t.Wee=e,[2]}}))}))()},i.pi=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.mo];case 1:return i.sent(),[4,n.Hee(n.hPt,t)];case 2:return i.sent(),[2]}}))}))()},i.Hee=function(t,n){var i=this;return Zt((function(){var r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:if(!t.Eee)throw new p("Unexpected - manifest is missing locations");return[4,i.Zee()];case 1:for(o.sent(),r=[],e=0,u=t.Gpt;e<u.length;e++)s=u[e],r.push(i.Xee(s,t.Eee[0],n));return[2,Jo(r)]}}))}))()},i.Zee=function(){var t=this;return Zt((function(){var n,i,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return[4,t.zee.Trt()];case 1:n=s.sent(),i=0,s.label=2;case 2:return i<n.length?(r=n[i],[4,t.Nrt.Brt.Lb(r.key)]):[3,9];case 3:return(e=s.sent())?[4,g2(e,t.bTt.o,t.Nrt.Brt,t.aee)]:[3,5];case 4:return s.sent(),[3,8];case 5:return s.trys.push([5,7,,8]),[4,t.Nrt.Brt.brt(r,t.aee)];case 6:return s.sent(),[3,8];case 7:throw u=s.sent(),new b1("Unable to store manifest with url: "+r.locationURL,u);case 8:return i++,[3,2];case 9:return[4,t.zee.Rrt()];case 10:return s.sent(),[2]}}))}))()},i.Xee=function(t,n,i){for(var r=[],e=0,u=t.Tee;e<u.length;e++)for(var s=m2(u[e],this.bTt.pT.preferredTrackSelection),o=0;o<s.length;o++){var a=s[o];r.push(this.qee(a,n,i))}return Jo(r)},i.qee=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return e=r.bTt.pT.bandwidth,u=p2(t.NC,e),t.Tw===qg.mE&&t.upt&&t.upt.hU.widevine&&"persistent"===t.upt.hU.widevine.licenseType?[4,r.Yee(t.upt)]:[3,2];case 1:c.sent(),Vo(i),c.label=2;case 2:for(s=[],o=0;o<u.length;o++)a=u[o],s.push(r.Kee(a,n,i));return[2,Jo(s)]}}))}))()},i.Kee=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:Vo(i),e=t.LL.Mrt[0].WO,u=e+r.vee,s=[],o=!1,a=0,c=t.LL.Mrt,f.label=1;case 1:return a<c.length?(h=c[a]).WO>=u||r.stopIfFailed(o)?[3,5]:[4,r.jee(i)]:[3,5];case 2:return f.sent(),[4,r.Qee.Dee()];case 3:f.sent(),s.push(r.Qee.Lee(r.Jee(h,t,n),r.$ee).catch((function(t){return o=!0,et.reject(t)}))),f.label=4;case 4:return a++,[3,1];case 5:return[2,Jo(s)]}}))}))()},i.jee=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return(null==t?void 0:t.Fw)?[4,n.$ee.Ub]:[3,2];case 1:throw i.sent(),new Oo;case 2:return[2]}}))}))()},i.tie=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.mo.catch(bi)];case 1:return n.sent(),[2,t.hPt]}}))}))()},i.Yee=function(t){return et.resolve()},i.eie=function(){return Kn.Vp("License renewal unsupported in this SDK."),et.resolve()},i.Jee=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:return e=r.Nrt.Lrt,u=wM(t.kee.Xu,t.kee._ut),[4,e.Lb(u)];case 1:return(s=v.sent())?[4,g2(s,r.bTt.o,e,r.aee)]:[3,3];case 2:return v.sent(),r.iie(s,!1),[3,7];case 3:return v.trys.push([3,6,,7]),[4,r.sie(t.kee)];case 4:return o=v.sent(),a=r.nie(t,n,i,o),c=a.segmentMetadataEntry,h=a.segmentEntry,[4,r.Nrt.Drt(Zt((function(t){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.Lrt.brt(c,r.aee)];case 1:return n.sent(),[4,t.Mrt.brt(h,r.aee)];case 2:return n.sent(),[2]}}))})))];case 5:return v.sent(),r.iie(c,!0),[3,7];case 6:throw f=v.sent(),new b1("Unable to store segment with url: "+t.kee.Xu,f);case 7:return[2]}}))}))()},i.sie=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,n.Sct.hut(t,{mut:n.DEFAULT_CACHING_SEGMENT_TIMEOUT,TE:n.DEFAULT_CACHING_SEGMENT_CONNECTION_TIMEOUT})];case 1:return i=r.sent(),[4,n.Tct(i)];case 2:return[2,r.sent()]}}))}))()},i.Tct=function(t){return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.Dk()];case 1:return[2,{buffer:n.sent()}]}}))}))()},i.nie=function(t,n,i,r){var e=wM(t.kee.Xu,t.kee._ut),u=t.WO,s=t.ct,o=this.rie(r);return{segmentMetadataEntry:{key:e,segmentURLsegmentByteRange:e,manifestURL:gM(i),qualityId:n.o,byteSize:o,startsAndEnds:new SA([u,u+s]).GL,references:[this.bTt.o]},segmentEntry:{key:e,segmentURLsegmentByteRange:e,manifestURL:gM(i),data:r,references:[this.bTt.o]}}},i.rie=function(t){return t.buffer.byteLength},i.iie=function(t,n){var i=t.qualityId,r=this.Gee,e=r.TO;e.get(i).timeRanges=e.get(i).timeRanges.tB(new SA(t.startsAndEnds)).$L(5e-4),this.Wee=new y1(n?r.mee+t.byteSize:r.mee,e,this.vee)},i.stopIfFailed=function(t){return!1},Nt(n,[{key:"cee",get:function(){return this.kI()}},{key:"Uee",get:function(){return this.Vee}},{key:"Wee",get:function(){return this.Gee},set:function(t){this.Gee.sF(t)||(this.Gee=t,t.sF(y1.Aee)||this._o(new _1))}}]),n}(ra);function g2(t,n,i,r){return w2.apply(this,arguments)}function w2(){return w2=Zt((function(t,n,i,r){return Ht(this,(function(e){switch(e.label){case 0:return po(t.references,n)?[3,2]:(t.references.push(n),[4,i.brt(t,r)]);case 1:e.sent(),e.label=2;case 2:return[2]}}))})),w2.apply(this,arguments)}function m2(t,n){switch(t.Tw){case qg.vE:return y2(t.Z,n.audioTrackSelection);case qg.Tk:return y2(t.Z,n.textTrackSelection);default:return y2(t.Z,[])}}function y2(t,n){if(0===n.length)return t.length?[t[0]]:[];for(var i=[],r=0;r<t.length;r++){var e=t[r];n.indexOf(e.gs)>-1&&i.push(e)}return i}function p2(t,n){if(!t.length)return[];var i=Ft(t).sort(iB),r=i.filter((function(t){return t.bG<=n}));return r.length>0?[r.pop()]:[i.shift()]}var _2=function(){function t(t,n,i){this.bTt=t,this.Nrt=n,this.hPt=i}var n=t.prototype;return n.oie=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.Nrt.Drt(Zt((function(n){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.hie(n)];case 1:return i.sent(),[4,t.aie(n)];case 2:return i.sent(),[4,t.uie(n)];case 3:return i.sent(),[4,t.cie(n)];case 4:return i.sent(),[2]}}))})))];case 1:return n.sent(),[2]}}))}))()},n.hie=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return i=t.Ort,r=n.bTt.o,[4,i.eT(r)];case 1:return e.sent(),[2]}}))}))()},n.aie=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return i=t.Lrt,r=t.Mrt,QA(e=n.bTt.Cc.sources[0])?(u=gM(e.src),[4,i.Ert(u,"manifestURL")]):[2];case 1:s=c.sent().filter((function(t){return po(t.references,n.bTt.o)})),o=0,c.label=2;case 2:return o<s.length?(wo((a=s[o]).references,n.bTt.o),0!==a.references.length?[3,5]:[4,i.eT(a.key)]):[3,8];case 3:return c.sent(),[4,r.eT(a.key)];case 4:return c.sent(),[3,7];case 5:return[4,i.brt(a)];case 6:c.sent(),c.label=7;case 7:return o++,[3,2];case 8:return[2]}}))}))()},n.uie=function(t){var n=this;return Zt((function(){var i,r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return i=t.Brt,r=n.lie(),[4,i.frt(r)];case 1:e=o.sent().filter((function(t){return po(t.references,n.bTt.o)})),u=0,o.label=2;case 2:return u<e.length?(wo((s=e[u]).references,n.bTt.o),0!==s.references.length?[3,4]:[4,i.eT(s.key)]):[3,7];case 3:return o.sent(),[3,6];case 4:return[4,i.brt(s)];case 5:o.sent(),o.label=6;case 6:return u++,[3,2];case 7:return[2]}}))}))()},n.lie=function(){if(!this.hPt)return[];var t=this.bTt.Cc.sources[0];if(!QA(t))return[];var n=gM(t.src),i=function(t){if(!t)return[];for(var n=[],i=0,r=t.Gpt;i<r.length;i++)for(var e=0,u=r[i].Tee;e<u.length;e++)for(var s=0,o=u[e].Z;s<o.length;s++)for(var a=0,c=o[s].NC;a<c.length;a++){var h=c[a];h.xee&&n.push(h.xee)}return function(t){return t.reduce((function(t,n){return t.indexOf(n)<0&&t.push(n),t}),[])}(n)}(this.hPt).map((function(t){return{src:t}})).map((function(t){return gM(t.src)}));return[n].concat(Ft(i))},n.cie=function(t){var n=this;return Zt((function(){var i,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return[4,(i=t.Frt).Trt()];case 1:r=s.sent().filter((function(t){return po(t.references,n.bTt.o)})),e=0,s.label=2;case 2:return e<r.length?(wo((u=r[e]).references,n.bTt.o),0!==u.references.length?[3,4]:[4,i.eT(u.key)]):[3,7];case 3:return s.sent(),n.die(u),[3,6];case 4:return[4,i.brt(u)];case 5:s.sent(),s.label=6;case 6:return e++,[3,2];case 7:return[2]}}))}))()},n.die=function(t){},t}(),b2=function(){function t(){}return t.prototype.Ait=function(t,n,i){return new _2(t,n,i)},t}(),k2=new b2;F(),Tt(),Gt(),Dt(),qt(),F(),Tt();var A2=function(){function t(t,n){this.sx=t,this.mie=n}var n=t.prototype;return n.fie=function(t){this._ie(t)},n._ie=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,n.mie.eie(t)];case 1:return i.sent(),[3,3];case 2:return i.sent(),n.sx.Iat(c1.ERROR),[3,3];case 3:return[2]}}))}))()},Nt(t,[{key:"wa",get:function(){return this.eu||(this.eu=function(t){return{renew:function(n){t.fie(n)}}}(this)),this.eu}}]),t}(),T2=function(t){function n(n,i,r,e,u,s){var o;(o=t.call(this)||this).kie=new Yo,o.evictOnLoading=function(){o.vn("wat",o.evictOnLoading),o.Eie()},o.zS=n,o.Sc=i,o.Sie=r,o.Nrt=e,o.mie=u.Ait(o,o.Nrt,s),o.Aie=new A2(o,o.mie),o.Rat=1===o.mie.Wee.yee?c1.DONE:c1.IDLE,o.mie.bn("z2t",(function(t){o.Ds(t),1===o.wie&&o.Iat(c1.DONE)}));var a=new Date,c=o.Sie.expirationDate.getTime()-a.getTime();return function(t){return t<2147483647}(c)&&g((function(){return o.Eie()}),c),o}It(n,t);var i=n.prototype;return i.Iat=function(t){this.Rat!==t&&(this.Rat=t,this._o(new o1))},i.Sn=function(){this.Rat===c1.EVICTED||this.Rat===c1.DONE||this.Tie()},i.Tie=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,3,4]),t.Iat(c1.LOADING),n=new Yo,t.kie=n,[4,t.mie.pi(n.Uw)];case 1:return i.sent(),t.Iat(c1.DONE),[3,4];case 2:return Bo(i.sent())?t.Iat(c1.IDLE):t.Iat(c1.ERROR),[3,4];case 3:return t.kie.Xw(),[7];case 4:return[2]}}))}))()},i.EI=function(){this.kie.jw()},i.eT=function(){this.Yk===c1.LOADING?(this.bn("wat",this.evictOnLoading),this.EI()):this.Eie()},i.Eie=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,t.mie.tie()];case 1:return n=i.sent(),[4,k2.Ait(t,t.Nrt,n).oie()];case 2:return i.sent(),t.mie.Wee=y1.Aee,t.Iat(c1.EVICTED),[3,4];case 3:return i.sent(),t.Iat(c1.ERROR),[3,4];case 4:return[2]}}))}))()},Nt(n,[{key:"cee",get:function(){return this.mie.cee}},{key:"wa",get:function(){return this.eu||(this.eu=function(t){var n,i={get id(){return t.o},get status(){return t.Yk},get source(){return t.Cc},get parameters(){return t.pT},get duration(){return t.ct},get cached(){return t.gie.ks()},get secondsCached(){return t.pie},get percentageCached(){return t.wie},get bytes(){return t.yie},get bytesCached(){return t.bie},get license(){return t.eY.wa},start:function(){t.Sn()},pause:function(){t.EI()},remove:function(){t.eT()},addEventListener:function(t,i){n.bn(t,i)},removeEventListener:function(t,i){n.vn(t,i)}};return n=new rR(t,["z2t","wat"],i),i}(this)),this.eu}},{key:"o",get:function(){return this.zS}},{key:"eY",get:function(){return this.Aie}},{key:"Yk",get:function(){return this.Rat}},{key:"Cc",get:function(){return this.Sc}},{key:"pT",get:function(){return this.Sie}},{key:"ct",get:function(){return this.mie.Wee.vB}},{key:"gie",get:function(){return this.mie.Wee.wee}},{key:"pie",get:function(){return this.mie.Wee.pee}},{key:"wie",get:function(){return this.mie.Wee.yee}},{key:"yie",get:function(){return this.mie.Uee}},{key:"bie",get:function(){return this.mie.Wee.mee}}]),n}(ua);var S2=function(){function t(t,n){this.Nrt=t,this.xie=n}var n=t.prototype;return n.dee=function(t,n,i){var r=WE();return this.oee(r,t,n,i)},n.oee=function(t,n,i,r){return new T2(t,n,i,this.Nrt,this.xie,r)},t}();F(),Tt();var E2=30,I2=5;function R2(t){if(!t)throw new p("Unexpected - The cache parameters are undefined");var n=function(t){if(ti(t)&&!Vs(t,"%"))return A(t);return t}(t.amount);!function(t){if(function(t){return ti(t)&&Vs(t,"%")}(t)){var n=T(t);if(S(n)||n<0||n>100)throw new p("The amount as percentage must be between 0 and 100 percent.")}if(!ti(t)&&S(t))throw new p("The amount must be a number or a string")}(n);var i=function(t){if(!t)return function(){var t=new Date;return t.setMinutes(t.getMinutes()+E2),t}();return t}(t.expirationDate);!function(t){if(t&&!function(t){return!t||ri(t)&&t>new Date}(t))throw new p("Invalid expiration date for the cache parameters")}(i);var r=function(t){if(void 0===t)return 1/0;return t}(t.bandwidth);!function(t){if(S(t)||t<0)throw new p("The bandwidth must be between zero and infinity.")}(r);var e=function(t){if(!t)return I2;if(S(t))throw new p("The amount must be a number");return t}(t.numberOfParallelTasks);return{amount:n,expirationDate:i,bandwidth:r,parallelTasksThreshold:e,preferredTrackSelection:{audioTrackSelection:[],textTrackSelection:[]}}}var C2=function(){function t(t,n,i,r){var e=this,u=this;this.Die=[],this.Iie=0,this.Cie=0,this.v7t=Zt((function(){var t;return Ht(this,(function(n){switch(n.label){case 0:return(t=u.r5t())?[4,u.BZt(t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))})),this.p7t=function(){var t=e.Die.shift();null==t||t.eT()},this.Mie=Zt((function(t,n){var i;return Ht(this,(function(r){switch(r.label){case 0:i=!1,r.label=1;case 1:return i?[3,3]:[4,t.py("z2t")];case 2:return r.sent(),i=1===t.Wee.yee,[3,1];case 3:return n.ct<5&&u.v7t(),[2]}}))})),this.xQ=t,this.fW=n,this.GT=new Yo,this.xie=i,this.gZ=r,this.Nrt=new IM}var n=t.prototype;return n.r5t=function(){if(this.Rie)for(var t=this.Rie.YJt;this.Iie<t.length;){var n=t[this.Iie];for(void 0===this.Pie&&(this.Pie=OQ(n),this.Cie=0);this.Cie<this.Pie.length;){var i=this.Pie[this.Cie];if(this.Cie++,void 0!==i.sYt)return i.sYt}this.Iie++,this.Pie=void 0}},n.nr=function(){for(this.B7t=void 0,this.GT.jw(),this.GT=new Yo;this.Die.length;)this.p7t()},n.Nie=function(t){return new m1(this.Nrt.Ort,t,"temporary")},n.BZt=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return(i=Q0(t.TKt,n.xQ.ads.allowedMimeTypes)).length?[4,GT.Vg.JH(i,uE({sources:i}))]:[2];case 1:return(r=c.sent()).t.WH()?(n.mie||(n.mie=new n.xie(n.fW)),e=n.Nrt,u=new S2(e,n.mie),s=n.Nie(u),o=s.oee(uE({sources:r.Cc}),R2({amount:10,bandwidth:bk.Vg.cG()||n.gZ.Ij}),"temporary"),n.Die.push(o),a=n.mie.Ait(o,e,"temporary"),n.GT.jw(),n.GT=new Yo,Zo(a.pi(n.GT.Uw),n.GT).then(bi),n.Mie(a,t),[2]):[2]}}))}))()},Nt(t,[{key:"B7t",get:function(){return this.Rie},set:function(t){this.Rie=t,this.Iie=0,this.Cie=0,this.Pie=void 0}}]),t}();F(),Tt(),Rt(),F(),Tt(),Gt(),Rt(),qt();var N2={key:"",segmentURLsegmentByteRange:"",manifestURL:"",qualityId:"",byteSize:0,startsAndEnds:new SA([0,0]).GL,references:[]},D2={key:"",segmentURLsegmentByteRange:"",manifestURL:"",data:""},P2=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n)||this).Lie=new cB(i),s.Nrt=r,s.Oie=e,s.aee=u,s}It(n,t);var i=n.prototype;return i.Flt=function(n,i,r,e){var u=this;return Zt((function(){var s;return Ht(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,t.prototype.Flt.call(u,n,i,r,e)];case 1:return[2,o.sent()];case 2:return Fo(o.sent()),[3,3];case 3:return[4,u.Lie.Flt(n,i,r,e)];case 4:return s=o.sent(),[4,u.Bie(n,i,s)];case 5:return o.sent(),[2,s]}}))}))()},i.Bie=function(t,i,r){var e=this;return Zt((function(){var u,s,o,a,c,h,f,v;return Ht(this,(function(d){switch(d.label){case 0:return void 0===e.Oie?[2]:(u=e.Nrt.Lrt,s=wM(t,i),[4,u.Lb(s)]);case 1:return(o=d.sent())?[4,g2(o,e.Oie,u,e.aee)]:[3,3];case 2:case 4:return d.sent(),[3,6];case 3:return d.trys.push([3,5,,6]),a={buffer:r},c=n.nie(s,a,e.Oie),h=c.segmentMetadataEntry,f=c.segmentEntry,[4,e.Nrt.Drt(Zt((function(t){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.Lrt.brt(h,e.aee)];case 1:return n.sent(),[4,t.Mrt.brt(f,e.aee)];case 2:return n.sent(),[2]}}))})))];case 5:throw v=d.sent(),new b1("Unable to store segment with url: "+t,v);case 6:return[2]}}))}))()},n.nie=function(t,n,i){return{segmentMetadataEntry:ns({},N2,{key:t,segmentURLsegmentByteRange:t,references:[i]}),segmentEntry:ns({},D2,{key:t,segmentURLsegmentByteRange:t,data:n,references:[i]})}},n}(hB);var x2=function(){function t(t){this.fW=t}return t.prototype.Ait=function(t,n,i){void 0===i&&(i="persistent");var r=t.Cc.sources[0];if(jA(r))throw new p("Caching THEOlive sources is not supported");var e=Boolean(r.useCredentials),u=new dO(this.fW,hl.iE),s=new ZW(this.fW,e),o=new mM(n.Brt,n.Lrt,n.Mrt,n.Frt),a=function(t,n,i,r,e){return new P2(n,t,i,r,e)}(this.fW,o,n,t.o,i),c=new EM,h=new YW(zW(s,o),c,t);return this.Fie(t,n,h,c,u,a,i)},t}(),L2=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n.prototype.Fie=function(t,n,i,r,e,u,s){return new l2(t,n,i,r,e,u,s,LM())},n}(x2),M2=L2,O2=function(t){function n(n,i,r,e,u,s){var o,a;o=t.call(this,n,i)||this,a=o,o.Xie=[],o.Zie=0,o.ase=[],o.jie=!1,o.X9=!1,o.qie=!0,o.Vie=[],o.lse=function(t){t.type===oa.ho&&o.qie?o.qie=!1:o._o(t)},o.Gie=function(){o.X9=!0},o.dse=Zt((function(){return Ht(this,(function(t){switch(t.label){case 0:return a.Zie=1,[4,a.Wie.nte()];case 1:return t.sent(),[2,a._te(a.ese.Bc())]}}))})),o.fse=Zt((function(t){var n;return Ht(this,(function(i){switch(i.label){case 0:return n=new xJ(LJ.PLAYBACK,MJ.GENERAL_LINEAR_ERROR,"There was a problem playing a linear ad."),a.h2t._o(N$.d2t(n,t)),[4,a.Wie.nte()];case 1:return i.sent(),[2,a._te(a.ese.Bc())]}}))})),o._se=function(){return o.Rte.nte(),o._te(o.ese.Bc())},o.vse=function(t){var n=new xJ(LJ.PLAYBACK,MJ.GENERAL_NON_LINEAR_ERROR,"There was a problem playing a non linear ad.");return o.h2t._o(N$.d2t(n,t)),o.Rte.nte(),o._te(o.ese.Bc())},o.fW=s,o.J7t=r,o.Rte=new u1(o.vse,o._se,o),o.Wie=new r1(o.fse,o.dse,o.Rte,e,o,n.Hu,r),o.use(o.Rte.O7t),o.use(o.Wie.O7t);var c=new C2(e,s,L2,u);return o.Hie=new Y0(o.na,o,o.h2t,c),o.Wie.oy(o.lse),o.Rte.oy(o.Ds),o.h2t.ru(o.Wie.h2t),o.h2t.ru(o.Rte.h2t),o.h2t.ru(o.Hie),o.cse=new FQ(o,o.na),o.Hu.bn(sI.mn,o.Ds),o.na.bn(oa.ho,o.Gie),o}It(n,t);var i=n.prototype;return i.y8t=function(t,n,i){n===IL.$st&&this.X9?qo(this.s5t([t])):this.Vie.push(t)},i.xR=function(){return this.Wie.j7t?this.Wie.ER:this.Tst()},i.RR=function(t,n){},i.jd=function(){return this.Wie.ct},i.DR=function(){return this.Wie.PR},i.NR=function(){},i.LR=function(){},i.XR=function(){return this.Wie.ZR},i.zR=function(t){this.ZR!==t&&(this.Wie.ZR=t,this._o(new wT(this.ER,this.gI)))},i.jR=function(){return this.Wie.KR},i.oI=function(){return this.Wie.rI},i.aI=function(){return SA.pB().ks()},i.fI=function(){return this.Wie.dI},i.mI=function(){return this.Wie.vI},i.pI=function(){return this.Wie.gI},i.wI=function(t){this.gI!==t&&(this.Wie.gI=t,this._o(new wT(this.ER,this.gI)))},i.xI=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.Uie?[2]:(t._o(new hT(t.ER)),t.Gie(),t.Vie.length?(t.Uie=t.s5t(t.Vie),[4,t.Uie]):[3,2]);case 1:i.sent(),t.Uie=void 0,i.label=2;case 2:return[4,t.Hie.E7t(t.na.xR())];case 3:return i.sent(),4!==(n=t.Zie)&&1!==n&&5!==n||(!t.p$t&&t.Xie.length?t.zie():t.p$t?(t.qie=!0,t.Wie.xI()):(t.x1t(),t.na.xI()),t.Zie=3),[2]}}))}))()},i.EI=function(){3===this.Zie&&(this.Wie.EI(),this.Zie=4)},i._7t=function(){this.Hie._7t()},i.Sn=function(){this.Zie=1,this.Hie.Sn()},i.RI=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.Hie&&(t.Hie.Tn(),t.Yie(!1),t.Rte.RI(),t.Zie=5,t.p$t&&(t.Hie.L7t(t.p$t.Ojt),t.p$t=void 0)),t.X9=!1,t.qie=!1,bo(t.Xie),t.g2t&&(t.x1t(),t.na.ge()),bo(t.Vie),[4,t.Wie.RI()];case 1:return n.sent(),[4,t.J7t.nr()];case 2:return n.sent(),[2]}}))}))()},i.MD=function(){this.Wie.ZQt(),this.Rte.ZQt()},i.kI=function(){this.J7t.kI(),this.Gie()},i.c2t=function(t){return!(t.type!==oa.Dy||!this.Hie||!this.Hie.S7t(-1))&&(this.Hie.b7t().then(bi),!0)},i.ge=function(){void 0!==this.Wie.$7t&&(this.J7t.ge(),this.Wie.ge()),void 0!==this.Rte.Nte&&this.Rte.ge()},i.be=function(){this.J7t.be(),this.Wie.be(),this.Rte.be()},i.s5t=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,s1.qte(t,n.fW,n.h2t)];case 1:return(i=r.sent()).length?(n.Hie.N7t(i),n.h2t._o(new jL),n.g2t||n.na.KR||n.Hie.E7t(n.na.xR()),0!==n.Zie&&5!==n.Zie||n.Sn(),[2]):("Ads could not be loaded.",n.h2t._o(N$.d2t(new xJ(LJ.ADBLOCK,MJ.FILE_NOT_FOUND),"Ads could not be loaded.")),n.X9&&!n.p$t&&0===n.Xie.length&&n.Kie(),[2])}}))}))()},i.C7t=function(t){var n;(n=this.Xie).push.apply(n,Ft(t));for(var i=0;i<t.length;i++){t[i];this.X9&&!this.g2t&&this.zie()}},i.zie=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return 2===t.Zie?[2]:t.jie?[3,4]:(t.jie=!0,t.Zie=2,n=t.p$t,t.Qie(),t.p$t?[4,t.p$t.Ojt.c7t(t.h2t)]:[3,3]);case 1:return i.sent(),t.Jie()||(t.jie=!1),t.h2t._o(new Y$(t.$ie(t.p$t))),[4,t.tse()];case 2:return i.sent(),[3,4];case 3:(null==n?void 0:n.Ojt.l7t())&&t.h2t._o(new UL(t.$ie(n))),t.jie=!1,t.Zie=1,t.Kie(),i.label=4;case 4:return[2]}}))}))()},i.Kie=function(){this.x1t(),this.na.ge(),this.na.PR?this.na._o(new dT(this.na.xR())):this.na.xI()},i.Qie=function(){var t;if(this.p$t&&this.Jie())t=this.p$t.Ojt;else{if(0===this.Xie.length)return;t=this.Xie.shift()}if(t){var n=t.Bc();n?this.p$t=n:(this.p$t&&(this.Hie.L7t(this.p$t.Ojt),this.p$t=void 0),this.p$t=void 0)}},i.tse=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:return n=t.p$t?function(t){var n,i,r=null==(i=t.cQt)||null==(n=i.Uqt)?void 0:n.Gqt();return void 0===r?void 0:new MQ(r)}(t.p$t):void 0,n?t.p$t?(t.ese=n,t.ise(t.p$t.cYt),t.sse(mJ.rjt),i=t.ese.Bc(),t.p$t.Ojt.l7t()&&(t.Rte.nte(),1===t.p$t.Ojt.Qut&&t.h2t._o(new ZL(t.$ie(t.p$t)))),[4,t._te(i)]):[2]:[3,2];case 1:return r.sent(),[3,3];case 2:t.Zie=1,t.jie=!1,t.p$t=void 0,t.zie(),r.label=3;case 3:return[2]}}))}))()},i._te=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c,h,f,v,d,l,g,w;return Ht(this,(function(m){switch(m.label){case 0:return t?(r=Yn(t.sYt),e=Yn(t.oYt),s=null!=(u=null==(i=t.rYt)?void 0:i.CYt)?u:[],o=s.length>0,a=n.p$t,c=n.$ie(a),t.sYt?(t.sYt.sd=a,void 0!==a.wnt.skipOffset&&void 0!==(h=GJ.hQt(a.wnt.skipOffset,t.sYt.ct))&&h<t.sYt.ct&&(t.sYt.xKt=h),f=c.KJt(t.sYt,s,t.hYt,a.wnt),n.Rte.nte(),n.C3t(),[4,n.Wie._te(f,t.lt,{width:n.na.we.offsetWidth,height:n.na.we.offsetHeight})]):[3,2]):[3,7];case 1:m.sent(),r=!0,m.label=2;case 2:return t.oYt?((v=t.oYt.aYt[0]).sd=a,void 0!==a.wnt.skipOffset&&(d=GJ.hQt(a.wnt.skipOffset,n.na.jd()))&&(v.sd.xKt=d),l=r?[]:s,g=c.jJt(v,l,t.oYt,t.hYt,a.wnt),r&&n.Wie.Cte(),[4,n.Rte._te(g,t.lt,{width:n.na.we.offsetWidth,height:n.na.we.offsetHeight})]):[3,4];case 3:m.sent(),e=!0,m.label=4;case 4:return r&&(n.Zie=3,n.Wie.ge(),w=0===c.eOt,n.qie=w,n.J7t.EI(),n.Wie.xI(),n.na.EI(),n.na.be(),n.C3t(),n.Wie.Tte()),e&&(n.Zie=3,n.Rte.ge(),n.Rte.Tte()),(r||e||o)&&n.nse(t.tYt),r||e?[3,6]:[4,n.rse()];case 5:m.sent(),m.label=6;case 6:return!r&&e&&(n.Jie()||n.Xie.length>0?n.zie():(n.Kie(),n.p$t=a)),[3,10];case 7:return null!==t?[3,9]:[4,n.rse()];case 8:return m.sent(),[3,10];case 9:n.Yie(!0),m.label=10;case 10:return[2]}}))}))()},i.rse=function(){var t=this.ese;return this._te(t&&t.Bc())},i.Yie=function(t){this.sse(mJ.ojt),this.ose(),this.Zie=1;var n=void 0!==this.p$t&&this.p$t.Ojt.a7t();if(this.jie=!1,n)t&&(this.Zie=1,this.zie());else{if(!this.g2t)return;this.na.ge(),!this.na.PR&&t&&this.na.xI(),this.x1t()}},i.x1t=function(){this.hse(),t.prototype.x1t.call(this)},i.hse=function(){if(this.na.PR&&(this.Zie=5),this.p$t){var t=this.p$t.Ojt;t.l7t()&&this.h2t._o(new UL(this.$ie(this.p$t))),this.Hie.L7t(t),this.p$t=void 0}},i.ise=function(t){this.ase=this.ase.concat(t)},i.ose=function(){this.ase=[]},i.use=function(t){this.na.we.appendChild(t)},i.sse=function(t){for(var n=0,i=this.ase;n<i.length;n++){var r=i[n];r.WX===t&&Zq(r.eventURL)}},i.nse=function(t){this.Wie.X7t(mJ.JKt);for(var n=0;n<t.length;n++){var i=t[n];Zq(i)}},i.hnt=function(t){for(var n=this.A8t(),i=0;i<n.length;i++){var r=n[i];zq(r.sources,r.timeOffset)||t.g6(r,IL.$st,!1)}},i.A8t=function(){for(var t,n=[],i=0,r=this.ent.concat(this.nnt);i<r.length;i++){var e=r[i];n.push(e.wnt)}for(var u=this.Xie.concat(this.Hie.nnt.filter((function(t){return!t.t$t()}))),s=0;s<u.length;s++)for(var o=0,a=u[s].YJt;o<a.length;o++){var c=a[o];c.W||n.push(c.wnt)}return(t=n).push.apply(t,Ft(this.Vie)),Ro(n)},i.Jie=function(){return!!this.p$t&&OQ(this.p$t).some((function(t){return t.sYt}))},i.$ie=function(t){return t.Ojt.i7t},i.zte=function(){return this.cse},i.TI=function(){return this.J7t.TI()},i.pR=function(){return this.J7t.pR()},i.b2t=function(t){this.Hie.b2t(t)},i.yn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.yn.call(n)];case 1:return i.sent(),n.na.vn(oa.ho,n.Gie),n.h2t.bK(n.Wie.h2t),n.h2t.bK(n.Rte.h2t),n.h2t.bK(n.Hie),n.Wie.yn(),n.Rte.yn(),[4,n.J7t.yn()];case 2:return i.sent(),[2]}}))}))()},Nt(n,[{key:"r2t",get:function(){return this}},{key:"s2t",get:function(){return n.s2t}},{key:"snt",get:function(){return this.p$t?this.$ie(this.p$t):null}},{key:"ent",get:function(){return this.p$t?[this.Wie.$7t,this.Rte.Nte].filter(Yn):[]}},{key:"nnt",get:function(){var t=this.Xie.concat(this.Hie.nnt.filter((function(t){return!t.t$t()})));return Ao(t,(function(t){return t.i7t.zc.filter((function(t){return!t.t$t()}))}))}},{key:"rnt",get:function(){return this.Hie.nnt.map((function(t){return t.i7t}))}}],[{key:"s2t",get:function(){return zQ.d$t}}]),n}(s0),B2=function(){function t(){}var n=t.prototype;return n.CZ=function(t){return t&&("string"!=typeof t.integration||t.integration===mS.DEFAULT||t.integration===mS.CSAI||t.integration===mS.THEO)},n.t2t=function(t,n,i){var r=new iS(t.we,i,t.fR,t.vst,t.yI,t.yst,t.Wl);return new O2(t,n,r,i,t.vst,t.fR)},n.g6=function(t,n,i,r){i.y8t(t,n,r)},n.qz=function(t){var n=iQ(t.sources);if(n){var i={integration:mS.CSAI,sources:n};"vast"===i.sources.type&&void 0===t.timeOffset?t.timeOffset=0:"vmap"===i.sources.type&&void 0!==t.timeOffset&&Yr("Do not set timeOffset for VMAP ad sources. VMAP ads have their own offsets included.");var r=eQ(t.timeOffset);void 0!==r&&(i.timeOffset=r);var e=eQ(t.skipOffset);return void 0!==e&&(i.skipOffset=e),i}},Nt(t,[{key:"$1t",get:function(){return O2.s2t}}]),t}();yS.Vg.PZ(new B2),F(),Tt(),F(),Tt(),Dt();var V2=function(){function t(t,n){this.V8t=void 0,this.O6=!1,this.Het=t;var i=v.createElement("div");i.className="theoplayer-ima-wrapper",mi(i),i.style.zIndex="10",Gn.Qs&&function(t,n){t.addEventListener(n,li)}(i,"mousedown"),n.appendChild(i);var r=v.createElement("div");r.className="theoplayer-ima",r.style.height="100%",this.pse=r,i.appendChild(r),this.b0t=i,this.V8t=new google.ima.AdDisplayContainer(this.pse,this.Het)}var n=t.prototype;return n.xj=function(){var t;this.O6||(null==(t=this.V8t)||t.initialize(),this.O6=!0)},n.bse=function(t){"linear"===t?this.b0t.style.marginTop="0px":"nonlinear"===t&&(this.b0t.style.marginTop="-45px")},n.ge=function(){this.b0t.style.opacity="1",this.b0t.style.pointerEvents=""},n.be=function(){this.b0t.style.opacity="0",this.b0t.style.pointerEvents="none"},n.Xw=function(){var t;null==(t=this.V8t)||t.destroy(),this.V8t=void 0},Nt(t,[{key:"O7t",get:function(){return this.b0t}},{key:"gse",get:function(){return this.pse.offsetHeight}},{key:"wse",get:function(){return this.pse.offsetWidth}},{key:"yse",get:function(){return this.V8t}}]),t}();F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Rt(),F(),Tt(),Dt();var F2=function(){function t(t){this.Ase=t;var n=new google.ima.CompanionAdSelectionSettings;n.resourceType=google.ima.CompanionAdSelectionSettings.ResourceType.ALL,n.creativeType=google.ima.CompanionAdSelectionSettings.CreativeType.ALL,n.sizeCriteria=google.ima.CompanionAdSelectionSettings.SizeCriteria.IGNORE,this.PYt=t.getCompanionAds(0,0,n)}return Nt(t,[{key:"vKt",get:function(){return this.Ase.getAdId()}},{key:"d9t",get:function(){var t=this.Ase.getAdPodInfo();if(void 0!==t)try{return{x6t:t.getAdPosition(),ZJt:t.getMaxDuration(),Sse:t.getPodIndex(),eOt:t.getTimeOffset(),R6t:t.getTotalAds(),Tse:t.getIsBumper()}}catch(t){return}}},{key:"jqt",get:function(){return this.Ase.getAdSystem()}},{key:"kse",get:function(){return this.Ase.getAdvertiserName()}},{key:"WYt",get:function(){var t;return null!=(t=this.Ase.getApiFramework())?t:void 0}},{key:"rYt",get:function(){return this.PYt.map((function(t){return{GYt:t.getAdSlotId(),Mk:t.getContentType(),H2t:t.getContent(),Ti:t.getHeight(),ji:t.getWidth()}}))}},{key:"Mk",get:function(){var t;return null!=(t=this.Ase.getContentType())?t:void 0}},{key:"bYt",get:function(){return this.Ase.getCreativeId()}},{key:"t8t",get:function(){return this.Ase.getCreativeAdId()}},{key:"Ese",get:function(){return this.Ase.getDealId()}},{key:"VN",get:function(){return this.Ase.getDescription()}},{key:"ct",get:function(){return this.Ase.getDuration()}},{key:"ji",get:function(){return this.Ase.getWidth()}},{key:"Ti",get:function(){return this.Ase.getHeight()}},{key:"CKt",get:function(){var t;return null!=(t=this.Ase.getMediaUrl())?t:void 0}},{key:"xse",get:function(){return this.Ase.getMinSuggestedDuration()}},{key:"J9t",get:function(){return this.Ase.getSkipTimeOffset()}},{key:"Rse",get:function(){return this.Ase.getSurveyUrl()}},{key:"oH",get:function(){return this.Ase.getTitle()}},{key:"j9t",get:function(){return this.Ase.getTraffickingParameters()}},{key:"Q9t",get:function(){return this.Ase.getTraffickingParametersString()}},{key:"hYt",get:function(){return this.Ase.getUniversalAdIds().map((function(t){return{e8t:t.getAdIdRegistry(),i8t:t.getAdIdValue()}}))}},{key:"z8t",get:function(){return this.Ase.getUiElements()}},{key:"$9t",get:function(){return this.Ase.getVastMediaBitrate()}},{key:"Y9t",get:function(){return this.Ase.getVastMediaHeight()}},{key:"q9t",get:function(){return this.Ase.getVastMediaWidth()}},{key:"H9t",get:function(){return this.Ase.getWrapperAdIds()}},{key:"Z9t",get:function(){return this.Ase.getWrapperAdSystems()}},{key:"X9t",get:function(){return this.Ase.getWrapperCreativeIds()}},{key:"n9t",get:function(){return this.Ase.isLinear()}}]),t}();function U2(){return[google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,google.ima.AdEvent.Type.CLICK,google.ima.AdEvent.Type.DURATION_CHANGE,google.ima.AdEvent.Type.EXPANDED_CHANGED,google.ima.AdEvent.Type.STARTED,google.ima.AdEvent.Type.IMPRESSION,google.ima.AdEvent.Type.PAUSED,google.ima.AdEvent.Type.RESUMED,google.ima.AdEvent.Type.AD_PROGRESS,google.ima.AdEvent.Type.AD_BUFFERING,google.ima.AdEvent.Type.FIRST_QUARTILE,google.ima.AdEvent.Type.MIDPOINT,google.ima.AdEvent.Type.THIRD_QUARTILE,google.ima.AdEvent.Type.COMPLETE,google.ima.AdEvent.Type.USER_CLOSE,google.ima.AdEvent.Type.LINEAR_CHANGED,google.ima.AdEvent.Type.LOADED,google.ima.AdEvent.Type.AD_CAN_PLAY,google.ima.AdEvent.Type.AD_METADATA,google.ima.AdEvent.Type.AD_BREAK_READY,google.ima.AdEvent.Type.INTERACTION,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,google.ima.AdEvent.Type.SKIPPED,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,google.ima.AdEvent.Type.LOG,google.ima.AdEvent.Type.VIEWABLE_IMPRESSION,google.ima.AdEvent.Type.VOLUME_CHANGED,google.ima.AdEvent.Type.VOLUME_MUTED]}var W2=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Oc=[],e.Cse=function(t){t.getAd().isLinear()?e.V8t.bse("linear"):e.V8t.bse("nonlinear")},e.Ise=function(){e.qJt.resize(e.V8t.wse,e.V8t.gse,google.ima.ViewMode.NORMAL)},e.forwardAdEventListener=function(t){var n=t.getAd(),i=function(t){var n;return(un(n={},google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,d0.d5t),un(n,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,d0.f5t),un(n,google.ima.AdEvent.Type.CLICK,d0._5t),un(n,google.ima.AdEvent.Type.DURATION_CHANGE,d0.Iy),un(n,google.ima.AdEvent.Type.EXPANDED_CHANGED,d0.v5t),un(n,google.ima.AdEvent.Type.STARTED,d0.m5t),un(n,google.ima.AdEvent.Type.IMPRESSION,d0.g5t),un(n,google.ima.AdEvent.Type.PAUSED,d0.DZ),un(n,google.ima.AdEvent.Type.RESUMED,d0.p5t),un(n,google.ima.AdEvent.Type.AD_PROGRESS,d0.w5t),un(n,google.ima.AdEvent.Type.AD_BUFFERING,d0.y5t),un(n,google.ima.AdEvent.Type.FIRST_QUARTILE,d0.b5t),un(n,google.ima.AdEvent.Type.MIDPOINT,d0.zKt),un(n,google.ima.AdEvent.Type.THIRD_QUARTILE,d0.A5t),un(n,google.ima.AdEvent.Type.COMPLETE,d0.qKt),un(n,google.ima.AdEvent.Type.USER_CLOSE,d0.S5t),un(n,google.ima.AdEvent.Type.LINEAR_CHANGED,d0.T5t),un(n,google.ima.AdEvent.Type.LOADED,d0.k5t),un(n,google.ima.AdEvent.Type.AD_CAN_PLAY,d0.E5t),un(n,google.ima.AdEvent.Type.AD_METADATA,d0.x5t),un(n,google.ima.AdEvent.Type.AD_BREAK_READY,d0.R5t),un(n,google.ima.AdEvent.Type.INTERACTION,d0.I5t),un(n,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,d0.C5t),un(n,google.ima.AdEvent.Type.SKIPPED,d0.P5t),un(n,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,d0.D5t),un(n,google.ima.AdEvent.Type.LOG,d0.N5t),un(n,google.ima.AdEvent.Type.VIEWABLE_IMPRESSION,d0.M5t),un(n,google.ima.AdEvent.Type.VOLUME_CHANGED,d0.L5t),un(n,google.ima.AdEvent.Type.VOLUME_MUTED,d0.B5t),n)[t]}(t.type),r={type:i,date:new Date,lnt:n?e.Pse(n):void 0,K6t:m0(i,t.getAdData())};e._o(r)},e.forwardAdErrorEventListener=function(t){e._o({date:new Date,lnt:void 0,type:l0.O5t,K6t:{I9t:_0(t.getError())}})},e.qJt=n,e.V8t=i,e.Ku=r,e.Ku.bn(sI.mn,e.Ise),e.qJt.init(e.V8t.wse,e.V8t.gse,google.ima.ViewMode.NORMAL),e.qJt.addEventListener(google.ima.AdEvent.Type.LOADED,e.Cse),e.qJt.addEventListener(U2(),e.forwardAdEventListener),e.qJt.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,e.forwardAdErrorEventListener),e}It(n,t);var i=n.prototype;return i.wI=function(t){var n;null==(n=this.qJt)||n.setVolume(t)},i.pI=function(){return this.qJt.getVolume()},i.E9t=function(){return this.qJt.getRemainingTime()},i.Xw=function(){bo(this.Oc),this.Ku.vn(sI.mn,this.Ise),this.qJt.removeEventListener(google.ima.AdEvent.Type.LOADED,this.Cse),this.qJt.removeEventListener(U2(),this.forwardAdEventListener),this.qJt.removeEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.forwardAdErrorEventListener),this.qJt.destroy()},i.Sn=function(){this.qJt.start()},i.L8t=function(){this.qJt.resume()},i.EI=function(){this.qJt.pause()},i.MD=function(){this.qJt.skip()},i.RI=function(){this.qJt.stop()},i.u9t=function(){var t=this.qJt.getCurrentAd();if(t)return this.Pse(t)},i.U8t=function(){return this.qJt.getCuePoints()},i.Pse=function(t){var n=ho(this.Oc,(function(n){return n.Ase===t}));return n||(n=new F2(t),this.Oc.push(n)),n},i.j8t=function(t){this.qJt.updateAdsRenderingSettings(H2(t))},n}(ra);F(),Tt(),Dt(),Rt();var Z2=function(t){function n(n,i){var r;return(r=t.call(this,"$8t")||this).Nse=n,r.b0t=i,r}return It(n,t),n.prototype.ka=function(){return new X2(this.Nse)},Nt(n,[{key:"Dse",get:function(){return this.Nse}},{key:"O7t",get:function(){return this.b0t}}]),n}(gg),X2=function(t){function n(n){var i;return(i=t.call(this,"adsmanagerloaded")||this).Nse=n,i}return It(n,t),Nt(n,[{key:"adsManager",get:function(){return this.Nse}}]),n}(sa),G2=function(t){function n(n,i){var r;return(r=t.call(this)||this).onAdsManagerLoadedListener=function(t){if(r.Bse&&r.Ose&&r.Mse){var n,i=H2(r.Ose),e=r.Bse,u=t.getAdsManager({get currentTime(){return e.ER},get duration(){return e.ct}},i),s=new W2(u,r.Lse,r.Ku);r._o(new Z2(u,r.Lse.O7t)),null==(n=r.Mse)||n.Vb(s),r.Mse=void 0}},r.onAdsManagerErrorListener=function(t){var n,i={wb:t.getError().getMessage(),I6t:t.getError().getVastErrorCode(),Tjt:t.getError().getErrorCode(),Tw:y0(t.getError().getType()),C6t:void 0};null==(n=r.Mse)||n.Wb(i),r.Mse=void 0},r.Ku=i,r.Lse=n,r}It(n,t);var i=n.prototype;return i.B8t=function(){var t;null==(t=this.O8t)||t.contentComplete()},i.s5t=function(t,n,i){var r=this;return Zt((function(){var e;return Ht(this,(function(u){if(r.Mse)throw new p("Only one ImaAdsRequest can be made at a time.");if(!r.Lse.yse)throw new p("AdDisplayContainer is not initialized.");return r.O8t=new google.ima.AdsLoader(r.Lse.yse),r.O8t.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,r.onAdsManagerLoadedListener),r.O8t.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,r.onAdsManagerErrorListener),r.Mse=new Gc,r.Bse=n,r.Ose=i,e=new google.ima.AdsRequest,t.g4t?e.adTagUrl=t.g4t:t.p4t&&(e.adsResponse=t.p4t),e.linearAdSlotWidth=t.l4t,e.linearAdSlotHeight=t.d4t,e.nonLinearAdSlotWidth=t.f4t,e.nonLinearAdSlotHeight=t._4t,e.contentDuration=t.y4t,e.setAdWillAutoPlay(t.v4t),e.setAdWillPlayMuted(t.m4t),t.w4t&&(e.omidAccessModeRules=t.w4t),r.O8t.requestAds(e),[2,r.Mse.Ub]}))}))()},i.Xw=function(){var t;void 0!==this.O8t&&(this.O8t.removeEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoadedListener),this.O8t.removeEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdsManagerErrorListener),this.O8t.destroy(),this.O8t=void 0),null==(t=this.Mse)||t.Wb("AdsLoader destroyed"),this.Mse=void 0},n}(ra);function H2(t){var n=new google.ima.AdsRenderingSettings;return n.enablePreloading=t.q8t,t.z8t&&(n.uiElements=t.z8t),n.mimeTypes=t.X8t,void 0!==t.K8t&&(n.playAdsAfterTime=t.K8t),void 0!==t.Y8t&&(n.loadVideoTimeout=t.Y8t),void 0!==t.K9t&&(n.bitrate=t.K9t),void 0!==t.K8t&&(n.playAdsAfterTime=t.K8t),n.restoreCustomPlaybackStateOnAdBreakComplete=!0,n}F(),Tt(),Dt(),Rt();var z2=function(t){function n(n){var i;return(i=t.call(this)||this).na=n,i.Fse=i.na.xR(),i.na.bn(oa.hb,(function(){i.na.uI||(i.Fse=i.na.xR()),i._o(new lg(i.ER,void 0))})),i}return It(n,t),n.prototype.nr=function(){this.Fse=0},Nt(n,[{key:"ER",get:function(){return this.na.uI?this.Fse:this.na.xR()}},{key:"ct",get:function(){return this.na.jd()}},{key:"ZR",get:function(){return this.na.ZR}},{key:"gI",get:function(){return this.na.gI}}]),n}(ra);U0.Vg.registerWebImaAdPlayerConstructor((function(t,n,i){B0(i);var r=V0(i)?t.TI():void 0,e=new V2(r,t.we),u=new G2(e,t.Hu),s=new z2(t);return new F0(t,n,i,t.gst,e,u,s)})),F(),Tt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Gt(),Dt(),Rt(),qt();var Y2=function(t){function n(n,i,r){var e;return(e=t.call(this,r)||this).Kse=!0,e.Dst=n,e.S3t=i,e.Yse=n.bR,e}It(n,t);var i=n.prototype;return i.pr=function(t,n,i,r,e){this.na===this.S3t&&this.S3t.Wse(),(e||!r.KR||r.PR)&&this.na.xI()},i.RR=function(t,n){},i.SR=function(t){},i.Use=function(n,i){var r=n-this.S3t.Gse;return t.prototype.RR.call(this,r,i)},i.Hse=function(n){return t.prototype.SR.call(this,n)},i.kR=function(){return this.Dst.bt},i.iu=function(){return this.Dst.iu()},i.jd=function(){return this.Dst.jd()},i.aI=function(){var t=SA.Cn(this.Dst.aI()).xb(this.S3t.Gse);if(this.Zse())return t.ks();var n=SA.Cn(this.S3t.aI()),i=n;return A4(this.Dst)||(i=t.tB(n)),(i=i.jn(SA.gB(0,this.xR()))).ks()},i.xR=function(){return this.Xse(t.prototype.xR.call(this))},i.Xse=function(t){return this.na===this.S3t?this.S3t.zse+t:this.S3t.Gse+t},i.AR=function(){return this.qse(t.prototype.xR.call(this))},i.qse=function(t){return this.na===this.S3t&&this.Yse?new Date(this.Yse.getTime()+1e3*t):this.Dst.bR},i.yR=function(){var t=SA.Cn(this.Dst.yR()).xb(this.S3t.Gse);if(this.Zse())return t.ks();var n=SA.Cn(this.S3t.yR());return t.Tn(t.V-1)<n.Sn(0)?n.ks():t.tB(n).ks()},i.BI=function(n){switch(n.type){case oa.hb:return this._o(new lg(this.Xse(n.currentTime),n.currentProgramDateTime)),!0;case oa.qy:return this._o(new FR(this.Xse(n.currentTime))),!0;case oa.ho:return this._o(new hT(this.Xse(n.currentTime))),!0;case oa.zy:return this._o(new cT(this.Xse(n.currentTime))),!0;case oa.Dy:return this._o(new dT(this.Xse(n.currentTime))),!0;case oa.Jy:return this._o(new lT(this.Xse(n.currentTime))),!0;case oa.Qy:return this._o(new gT(this.Xse(n.currentTime))),!0;case oa.Yy:return this._o(new vT(this.Xse(n.currentTime),n.playbackRate)),!0;case oa.ub:return this.Kse?(this._o(new wT(this.Xse(n.currentTime),n.volume)),!0):(this.Kse=!0,!0);case oa.Cy:return this._o(new aT(this.Xse(n.currentTime),n.readyState)),!0;case yp.BL:return this._o(new Sp(this.Xse(n.currentTime),n.readyState)),!0;case yp.OL:return this._o(new Ep(this.Xse(n.currentTime),n.readyState)),!0;case yp.FL:return this._o(new Ap(this.Xse(n.currentTime),n.readyState)),!0;case yp.VL:return this._o(new kp(this.Xse(n.currentTime),n.readyState)),!0;case yp.iC:return this._o(new _p(this.Xse(n.currentTime),n.readyState)),!0;case yp.WL:return this._o(new Tp(this.Xse(n.currentTime))),!0;case yp.UL:return this._o(new Ip(this.Xse(n.currentTime))),!0;case oa.Py:return this._o(new NW(this.Xse(n.currentTime),n.initDataType,n.initData)),!0}return t.prototype.BI.call(this,n)},i.yn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.yn.call(n,!0)];case 1:return i.sent(),[2]}}))}))()},Nt(n,[{key:"Vse",get:function(){return this.na===this.Dst?this.S3t:this.Dst}}]),n}(Vk);function j2(t,n){n.ZR=t.ZR,n.gI=t.gI,n.QR=t.QR}F(),Tt(),Rt();var K2=function(t){function n(n,i,r){return t.call(this,n,i,r)||this}It(n,t);var i=n.prototype;return i.pr=function(n,i,r,e,u){t.prototype.pr.call(this,n,i,r,e,u),this.Vse.EI(),this.jse(i,r).style.flex="1"},i.dr=function(t,n,i){this.jse(n,i).style.flex="0"},n}(Y2),q2=function(t){function n(n,i){return t.call(this,n,i,n)||this}It(n,t);var i=n.prototype;return i.Zse=function(){return!0},i.jse=function(t,n){return t},i.Qse=function(t,n){return n},i.RR=function(n,i){return t.prototype.Use.call(this,n,i)},i.SR=function(n){return t.prototype.Hse.call(this,n)},n}(K2),J2=function(t){function n(n,i){return t.call(this,n,i,i)||this}It(n,t);var i=n.prototype;return i.Zse=function(){return!1},i.pr=function(n,i,r,e,u){t.prototype.pr.call(this,n,i,r,e,u),this.Kse=!1,this.na.Jse(),i.style.flex="1"},i.dr=function(t,n,i){this.na.$se(),n.style.flex="0"},i.jd=function(){return this.na.jd()},n}(Y2),Q2=function(t){function n(n,i){return t.call(this,n,i,i)||this}It(n,t);var i=n.prototype;return i.Zse=function(){return!1},i.jse=function(t,n){return n},i.Qse=function(t,n){return t},i.pr=function(n,i,r,e,u){t.prototype.pr.call(this,n,i,r,e,u);for(var s=0,o=[i,r];s<o.length;s++){o[s].style.transition=""}},i.dr=function(n,i,r){t.prototype.dr.call(this,n,i,r)},n}(K2);F(),Tt(),Dt(),Rt(),F(),Tt(),Rt();var $2=function(t){function n(n){var i;return(i=t.call(this,"tne")||this).interstitial=n,i}return It(n,t),n.prototype.ka=function(){return new t3(this.interstitial.int())},n}(gg),t3=function(t){function n(n){var i;return(i=t.call(this,"interstitialupdate")||this).interstitial=n,i}return It(n,t),n}(sa),n3=function(t){return t.SINGLE="SINGLE",t.DOUBLE="DOUBLE",t.LSHAPE_AD="LSHAPE_AD",t.LSHAPE_CONTENT="LSHAPE_CONTENT",t}({}),i3=function(t){function n(n){var i;return(i=t.call(this)||this).nne=0,i.tI=!1,i.o=n.o,i.WO=n.WO,i.$O=n.UO,i.nFt=n.pBt,i.MA=n.ct,i.ine=n.rne,i.wvt=n.wvt,i.une=n.une,i.ane(),i}It(n,t);var i=n.prototype;return i.sne=function(t){if(this.ct){var n=(t-(this.WO+this.nne))/this.ct;n<this.z2t||(this.q2t=k.min(n,1),1===this.q2t&&(this.tI=!0))}},i.ir=function(t){var n,i,r,e;this.MA=null!=(n=t.ct)?n:this.MA,this.$O=null!=(i=t.UO)?i:this.$O,this.ine=null!=(r=t.rne)?r:this.ine,this.nne=null!=(e=t.hne)?e:this.nne,this.ane(),this._o(new $2(this))},i.ane=function(){void 0===this.MA&&void 0!==this.$O?this.MA=this.$O-this.WO:void 0===this.$O&&void 0!==this.MA&&(this.$O=this.WO+this.MA)},Nt(n,[{key:"ene",get:function(){var t,n,i=null!=(n=null!=(t=this.ine)?t:this.MA)?n:this.nFt;return void 0!==i?this.WO+i:this.$O?this.$O:void 0}},{key:"ct",get:function(){var t=this.ene;return void 0===t?void 0:t-this.WO}},{key:"z2t",get:function(){var t;return null!=(t=this.q2t)?t:0}}]),n}(ra);F(),Tt(),Rt();var r3=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,i)||this).lne=void 0,e.cne=r,e}It(n,t);var i=n.prototype;return i.Zse=function(){return!0},i.pr=function(n,i,r,e,u){t.prototype.pr.call(this,n,i,r,e,u),j2(this.na,this.Vse),this.Vse.ZR=!0,n.style.backgroundImage="url('"+this.cne+"')",n.style.backgroundSize="contain",n.style.backgroundPosition="center",this.lne=this.Dst.nt.lC.filter((function(t){return t.CE===Vy.Qn}));for(var s=0,o=this.lne;s<o.length;s++){o[s].CE=Vy.Mh}for(var a=0,c=[i,r];a<c.length;a++){var h=c[a];h.style.flex="1",h.style.borderWidth="20px",h.style.transition=["flex","border-width","transform"].map((function(t){return t+" 1s ease-in-out"})).join(", ")}},i.dr=function(t,n,i){for(var r=0,e=[n,i];r<e.length;r++){var u=e[r];u.style.flex="0",u.style.borderWidth="0px"}for(var s,o=0,a=null!=(s=this.lne)?s:[];o<a.length;o++){a[o].CE=Vy.Qn}this.lne=void 0},i.NR=function(){return this.Dst.NR()||this.S3t.NR()},i.LR=function(){return this.Dst.LR()||this.S3t.LR()},i.oI=function(){return k.min(this.Dst.rI,this.S3t.rI)},i.xI=function(){this.Dst.xI(),this.S3t.xI()},i.EI=function(){this.Dst.EI(),this.S3t.EI()},n}(Y2);F(),Tt(),Rt();var e3=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r)||this).cne=e,u}It(n,t);var i=n.prototype;return i.pr=function(n,i,r,e,u){t.prototype.pr.call(this,n,i,r,e,u),this.Qse(i,r).style.visibility="hidden",this.Vse.EI(),n.style.backgroundImage="url('"+this.cne+"')",n.style.backgroundSize="contain",n.style.backgroundPosition="center";var s=this.jse(i,r);s.style.flex="1",s.style.transform="\n          translate(-50%, -50%)\n          scale(calc(43/60))\n          translate(calc(50% + 100%/30), calc(50% + 100%/30))\n        ";for(var o=0,a=[i,r];o<a.length;o++){a[o].style.transition=["flex","border-width","transform"].map((function(t){return t+" 1s ease-in-out"})).join(", ")}},i.dr=function(t,n,i){var r=this.jse(n,i);r.style.flex="0",r.style.transform="",this.Qse(n,i).style.visibility=""},n}(Y2),u3=function(t){function n(n,i,r){return t.call(this,n,i,n,r)||this}It(n,t);var i=n.prototype;return i.Zse=function(){return!0},i.jse=function(t,n){return t},i.Qse=function(t,n){return n},n}(e3),s3=function(t){function n(n,i,r){return t.call(this,n,i,i,r)||this}It(n,t);var i=n.prototype;return i.Zse=function(){return!1},i.jse=function(t,n){return n},i.Qse=function(t,n){return t},n}(e3);F(),Tt();function o3(t){var n=t.style;n.position="relative",n.backgroundColor="transparent",n.backgroundRepeat="no-repeat",n.backgroundAttachment="scroll",n.border="0 solid transparent",n.borderWidth="0px",n.flex="0"}function a3(t){var n=t.style;n.display="",n.backgroundColor="",n.backgroundRepeat="",n.backgroundAttachment="",n.border="",n.borderWidth="",n.flex="",n.transform="",n.transition="",n.backgroundImage="",n.backgroundSize="",n.backgroundPosition="",n.alignItems="",n.position=""}function c3(t){return!Fs(t.Fyt,"theo-ads://dai.break")}F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Rt(),F(),Tt(),Rt();var h3=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n}(Vk),f3=function(t){function n(n){return t.call(this,n)||this}It(n,t);var i=n.prototype;return i.pr=function(t,n){t.style.flex="1"},i.dr=function(t){t.style.flex="0"},n}(h3);F(),Tt(),Rt();var v3=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).cne=i,r}It(n,t);var i=n.prototype;return i.pr=function(t,n){n.style.backgroundImage="url('"+this.cne+"')",n.style.backgroundSize="contain",n.style.backgroundPosition="center",t.style.flex="1",t.style.transition=["flex","border-width","transform"].map((function(t){return t+" 1s ease-in-out"})).join(", "),t.style.transform="\n          translate(-50%, -50%)\n          scale(calc(43/60))\n          translate(calc(50% + 100%/30), calc(50% + 100%/30))\n        "},i.dr=function(t){t.style.flex="0",t.style.transform=""},n}(h3);F(),Tt(),Rt();var d3=function(t){function n(n){var i;return(i=t.call(this,"dne")||this).interstitial=n,i}return It(n,t),n.prototype.ka=function(){return new l3(this.interstitial.int())},n}(gg),l3=function(t){function n(n){var i;return(i=t.call(this,"interstitialbegin")||this).interstitial=n,i}return It(n,t),n}(sa);function g3(t){return{get id(){return t.o},get duration(){return t.ct},get startTime(){return t.WO},get type(){return"adbreak"},get layout(){return function(t){switch(t){case n3.SINGLE:return"single";case n3.DOUBLE:return"double";case n3.LSHAPE_CONTENT:case n3.LSHAPE_AD:return"l-shape"}}(t.fne)},get ads(){return t.zc.map((function(t){return t.int()}))},get backdropUri(){return t._ne}}}F(),Tt(),Gt(),Dt(),Rt(),Ut(),qt(),F(),Tt(),Dt(),F(),Tt(),Dt(),Rt(),F(),Tt();var w3=function(t){return t.image="image",t}({}),m3=function(t){return t.png="png",t.svg="svg",t}({}),y3=function(t){function n(n){var i;return(i=t.call(this,n)||this).pne=n.Tw,i.fo=n.fo,i.Nb=n.Nb,i.wne=n.wne,i.yne=n.yne,i.cjt=n.cjt,i.vne=n.bne,i}It(n,t);var i=n.prototype;return i.ir=function(n){var i,r;this.gne=null!=(i=n.imageUrl)?i:this.gne,this.vne=null!=(r=n.clickThrough)?r:this.vne,t.prototype.ir.call(this,n)},i.int=function(){var t;return null!=(t=this.eu)?t:this.eu=function(t){return{get type(){return"overlay"},get id(){return t.o},get duration(){return t.ct},get startTime(){return t.WO},get clickThrough(){return t.QYt},get imageUrl(){return t.mne},get position(){return function(t){return{get top(){return t.M7},get bottom(){return t.N7},get left(){return t.D7},get right(){return t.P7}}}(t.fo)},get size(){return function(t){return{get width(){return t.ji},get height(){return t.Ti}}}(t.Nb)}}}(this)},Nt(n,[{key:"Tw",get:function(){return"overlay"}},{key:"QYt",get:function(){return this.vne}},{key:"mne",get:function(){return this.gne}}]),n}(i3);F(),Tt(),Dt(),Rt();var p3=function(t){function n(n){var i;return(i=t.call(this,n)||this).Oc=[],i.Fyt=n.Fyt,i.fne=n.fne||n3.SINGLE,i.Ane=n.Ane,i.Sne=n.Sne,i._ne=n.Tne,i.kne=n.kne,i}It(n,t);var i=n.prototype;return i.ir=function(n){var i;n.ad&&this.Oc.push(n.ad),this._ne=null!=(i=n.backdropUri)?i:this._ne,t.prototype.ir.call(this,n)},i.int=function(){var t;return null!=(t=this.eu)?t:this.eu=g3(this)},Nt(n,[{key:"Tw",get:function(){return"adbreak"}},{key:"zc",get:function(){return this.Oc}}]),n}(i3),_3="com.theoplayer.theoads.interstitial",b3="com.theoplayer.theoads.overlay",k3=function(){function t(t){var n=this;this.One=!1,this.xne=[],this.lre=[],this.ore=es(),this.Nne=[],this.qn=function(t){n.Mne(t.Ht)},this.zn=function(t){n.Bne(t.Ht)},this.Hne=function(t){n.qne(t.FO)},this.Yne=function(t){n.Kne(t.FO)},this.Xne=function(t){n.rre(t.FO)},this.zne=function(t){n.Gne(t.FO)},this.Zne=function(t){n.dre(t.FO)},this.Cne=function(t){n.$ne(t)},this.Pne=function(t){n.jne(t)},this.Jne=t}var n=t.prototype;return n.Rne=function(t){this.Ine=new EventSource(t),this.Ine.addEventListener("adbreak",this.Cne),this.Ine.addEventListener("streaminfo",this.Pne)},n.Dne=function(t){if(!po(this.Nne,t)){this.Nne.push(t);for(var n=0,i=t.lC;n<i.length;n++){var r=i[n];this.Mne(r)}t.bn(pg.VI,this.qn),t.bn(pg.UI,this.zn)}},n.Lne=function(t){if(po(this.Nne,t)){wo(this.Nne,t),t.vn(pg.VI,this.qn),t.vn(pg.UI,this.zn);for(var n=0,i=t.lC;n<i.length;n++){var r=i[n];this.Bne(r)}}},n.Mne=function(t){!this.One&&function(t){return t.Lt===zy.eW&&t.Tw===Tw.DATE_RANGE}(t)&&this.Fne!==t?this.Vne(t):this.One&&function(t){return t.Lt===zy.eW&&t.Tw===Tw.ID3}(t)&&this.Wne!==t&&this.Une(t)},n.Bne=function(t){this.Fne===t?this.Vne(void 0):this.Wne===t&&this.Une(void 0)},n.Vne=function(t){var n=this.Fne;if(void 0!==n){if(n.L)for(var i=0,r=n.L.lC;i<r.length;i++){var e=r[i];this.Gne(e)}n.vn(Tg.HI,this.Hne),n.vn(Tg.qI,this.Zne),n.vn(Tg.KI,this.Xne),n.vn(Tg.XI,this.zne),n.CE=Vy.LC}if(this.Fne=t,void 0!==t){if(t.L)for(var u=0,s=t.L.lC;u<s.length;u++){var o=s[u];this.qne(o)}t.bn(Tg.HI,this.Hne),t.bn(Tg.qI,this.Zne),t.bn(Tg.KI,this.Xne),t.bn(Tg.XI,this.zne),t.CE=Vy.LC}},n.Une=function(t){var n=this.Wne;if(void 0!==n){if(n.L)for(var i=0,r=n.L.lC;i<r.length;i++){var e=r[i];this.Gne(e)}n.vn(Tg.HI,this.Yne),n.vn(Tg.KI,this.Xne),n.vn(Tg.XI,this.zne),n.CE=Vy.LC}if(this.Wne=t,void 0!==t){if(t.L)for(var u=0,s=t.L.lC;u<s.length;u++){var o=s[u];this.Kne(o)}t.bn(Tg.HI,this.Yne),t.bn(Tg.KI,this.Xne),t.bn(Tg.XI,this.zne),t.CE=Vy.LC}},n.jne=function(t){try{var n,i,r=JSON.parse(t.data),e=r.networkCode,u=null==(n=r.assetKeys)?void 0:n[0];this.Jne.Qne(e,u),null==(i=this.Ine)||i.removeEventListener("streaminfo",this.Pne)}catch(t){Kn.Wp("Error parsing the Server sent stream info",t)}},n.$ne=function(t){var n=this.Jne.bR;if(void 0!==n)try{var i,r=JSON.parse(t.data),e=null!=(i=r.podDuration)?i:r.adBreakDuration;if(void 0===e)return void Kn.Wp("Tried to schedule an ad break without knowing the duration");var u=(Date.parse(r.startDate)-n.getTime())/1e3;if(u<=-e)return;var s,o="theo-ads://dai.break/?d="+e,a=this.Jne.xR()+u,c=r.networkCode,h=r.assetKey,f=r.podId?A(r.podId):void 0,v=new p3({o:r.id,WO:a,Fyt:null!=(s=r.assetURI)?s:o,fne:this.tre||n3[r.layout],Ane:c,Sne:h,pBt:e,une:f,Tne:r.backdropURI,wvt:r.startPTS,kne:r.eabnVersion});this.ere(v,void 0)}catch(t){Kn.Wp("Error parsing the Server sent event",t)}else Kn.Wp("Tried to schedule an ad break without knowing the Program Date Time of the player")},n.qne=function(t){if((t.mBt===_3||t.mBt===b3)&&t.wBt["X-ASSET-URI"])switch(t.mBt){case b3:try{var n,i=atob(t.wBt["X-COM-THEOPLAYER-THEOADS-OVERLAY-PROPERTIES"]),r=JSON.parse(i),e=w3[r.type],u=this.Jne.ire(t.WO),s=isFinite(t.UO)?this.Jne.ire(t.UO):void 0,o=new y3({o:t.o,Tw:e||w3.image,WO:u,UO:s,ct:t.ct,pBt:t.pBt,fo:T3(r.position),Nb:S3(r.size),wne:r.opacity,yne:A3(r.gamProperties),cjt:null==(n=r.resourceURI)?void 0:n.map((function(t){return function(t){var n=m3[t.type],i=t.default;Gn.Qs&&t.phone?i=t.phone:Gn.gg&&t.tv&&(i=t.tv);return{Tw:n,Fyt:i}}(t)})),bne:r.clickThroughURI});this.ere(o,t)}catch(t){Kn.Wp(t)}break;case _3:var a,c,h,f=t.wBt["X-RESUME-OFFSET"],v=this.sre||t.wBt["X-ASSET-URI"],d=Kn.Ih(v),l=null!=(a=d.searchParams.get("n"))?a:void 0,g=null!=(c=d.searchParams.get("k"))?c:void 0,w=this.Jne.ire(t.WO),m=isFinite(t.UO)?this.Jne.ire(t.UO):void 0;(function(t){return Fs(t,"theo-ads://dai.break")})(v)&&(h=function(t){var n=t.split("?")[1],i={},r=new URLSearchParams(n);return i.d=Number(r.get("d"))||void 0,i.k=r.get("k")||void 0,i.n=r.get("n")||void 0,i.p=Number(r.get("p"))||void 0,i}(v));var y=new p3({o:t.o,WO:w,Fyt:v,fne:this.tre||n3[t.wBt["X-COM-THEOPLAYER-THEOADS-LAYOUT"]]||n3.SINGLE,Ane:l,Sne:g,Tne:t.wBt["X-COM-THEOPLAYER-THEOADS-BACKDROP"],UO:m,ct:t.ct,pBt:t.pBt,une:null==h?void 0:h.p,rne:void 0!==f?Number(f):void 0});this.ere(y,t),this.nre=y}},n.Kne=function(t){var n=t.U;if(function(t){return"GEO"===t.id||"GEOB"===t.id}(n)&&function(t){return"Anvatos"===t.description&&"application/json"===t.mimeType}(n)){var i=gc(new DataView(n.data),new Rc),r=new ku(i),e=r.get("type");if("cue"===e){var u=Number(r.get("duration"))/1e3||void 0,s=new ku(r.get("payload")),o=Number(s.get("dur"))||void 0,a=Number(s.get("s_bd"))||void 0;if(void 0!==o?u=o:void 0!==a&&(u=a/10),!u)return void 0;var c="theo-ads://dai.break/?d="+u,h=Number(r.get("pts"))||void 0,f=this.Jne.ire(t.WO),v=new p3({o:this.sre||t.o,WO:f,Fyt:c,fne:this.tre||n3.SINGLE,pBt:u,wvt:h});this.ere(v,t)}else if("cue_end"===e){var d=this.nre;d&&d.ir({ct:this.Jne.ire(t.WO)-d.WO})}}},n.rre=function(t){var n=this.ore.get(t.IC);n&&this.Jne.hre(n.WO)},n.are=function(t){for(var n=0,i=this.xne;n<i.length;n++){var r=i[n];if(t.o===r.o&&t.Tw===r.Tw)return!0}return!1},n.ure=function(t){for(var n=[],i=this.Jne.aI().start(0),r=0,e=this.lre;r<e.length;r++){var u=e[r];if(u.ene<i)n.push(u);else if(t.o===u.o&&t.Tw===u.Tw)return!0}for(var s=0;s<n.length;s++){var o=n[s];wo(this.lre,o)}return!1},n.ere=function(t,n){var i,r=t.WO+(null!=(i=t.ct)?i:1/0);this.are(t)||this.ure(t)||this.Jne.xR()>=r||(this.xne.push(t),n?this.ore.set(n.IC,t):this.lre.push(t),this.Jne.ere(t))},n.dre=function(t){var n=this.ore.get(t.IC);if(void 0!==n){var i=t.wBt["X-RESUME-OFFSET"],r=isFinite(t.UO)?this.Jne.ire(t.UO):void 0;n.ir({ct:t.ct,UO:r,rne:void 0!==i?Number(i):void 0})}},n.Gne=function(t){this._re(t)},n._re=function(t){void 0!==this.ore.get(t.IC)&&this.ore.delete(t.IC)},n.vre=function(t){var n=this;t.forEach((function(t){return n.mre(t)}))},n.mre=function(t){wo(this.xne,t)},n.nr=function(){var t,n,i;this.nre=void 0,this.Vne(void 0),this.Une(void 0);for(var r=0,e=this.Nne.slice();r<e.length;r++){var u=e[r];this.Lne(u)}bo(this.Nne),bo(this.xne),bo(this.lre),this.ore.clear(),null==(t=this.Ine)||t.removeEventListener("adbreak",this.Cne),null==(n=this.Ine)||n.removeEventListener("streaminfo",this.Pne),null==(i=this.Ine)||i.close(),this.Ine=void 0},n.yn=function(){this.nr()},Nt(t,[{key:"Ene",get:function(){return this.xne}}]),t}();function A3(t){if(t){var n=t.sz.default;return Gn.Qs&&t.sz.phone?n=t.sz.phone:Gn.gg&&t.sz.tv&&(n=t.sz.tv),{wre:t.iu,yre:n}}}function T3(t){var n,i,r,e;return t.top&&t.top>=0&&t.top<=100?n=t.top:t.bottom&&t.bottom>=0&&t.bottom<=100?i=t.bottom:n=10,t.left&&t.left>=0&&t.left<=100?r=t.left:t.right&&t.right>=0&&t.right<=100?e=t.right:r=10,{M7:n,N7:i,D7:r,P7:e}}function S3(t){return{ji:t.width&&t.width>=0&&t.width<=100?t.width:10,Ti:t.height&&t.height>=0&&t.height<=100?t.height:10}}F(),Tt(),Dt(),Rt();var E3=function(t){function n(n){var i;return(i=t.call(this)||this).na=n,i}return It(n,t),n.prototype.Tre=function(t){this.na.kre(t)},Nt(n,[{key:"Are",get:function(){return this.na.Are.map((function(t){return t.int()}))}},{key:"Sre",get:function(){return this.na.Sre.map((function(t){return t.int()}))}},{key:"wa",get:function(){var t;return null!=(t=this.eu)?t:this.eu=function(t){return{get currentInterstitials(){return t.Are},get scheduledInterstitials(){return t.Sre},replaceAdTagParameters:function(n){t.Tre(n)},addEventListener:function(n,i){t.bn(n,i)},removeEventListener:function(n,i){t.vn(n,i)}}}(this)}}]),n}(ra);F(),Tt(),Gt(),Dt(),Rt(),qt(),At(),F(),Tt(),Dt(),Rt();var I3=function(t){function n(n){var i,r;return(i=t.call(this,n.WO)||this).xre=n,i.XJt=null!=(r=i.xre.ct)?r:-1,i}return It(n,t),n.prototype.Ere=function(t){this.Oc.push(t)},Nt(n,[{key:"tI",get:function(){return this.xre.tI}},{key:"aQt",get:function(){return zQ.Hst}},{key:"ZJt",get:function(){var t;return null!=(t=this.xre.ct)?t:-1}},{key:"eOt",get:function(){return this.xre.WO}},{key:"wJt",get:function(){}},{key:"Rre",get:function(){return this.xre}}]),n}(x$),R3=function(t){return t[t.GOOGLE=0]="GOOGLE",t[t.DEFAULT=1]="DEFAULT",t}({}),C3=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).I3t=new RI,e.w$t=[],e.S6=function(t){e.pd(t)},e.Bre=function(){e.Dre()},e.Mre=function(){e._o(new sa("adloading"))},e.Lre=function(){e._o(new sa("adloaded"))},e.S3t=n,e.Fre=i,e.w$t=r,e.Fre.Vre(e),e.I3t=i.h2t,e}It(n,t);var i=n.prototype;return i.Pre=function(){this.Dre()},i.ere=function(t){var n=new I3(t);this.w$t.push(n)},i.mre=function(t){var n=this.p3t(t);wo(this.w$t,n)},i.p3t=function(t){return ho(this.w$t,(function(n){return n.Rre===t}))},i.Nre=function(){this.S3t.bn(oa.Uy,this.Mre),this.S3t.bn(yp.OL,this.Lre),this.S3t.bn(oa.Dy,this.Bre),this.S3t.bn(oa.hb,this.S6)},i.Dre=function(){this.S3t.vn(oa.Uy,this.Mre),this.S3t.vn(yp.OL,this.Lre),this.S3t.vn(oa.Dy,this.Bre),this.S3t.vn(oa.hb,this.S6)},i.pd=function(t){var n;null==(n=this.Cre)||n.sne(this.Xse(t.currentTime))},i.Ore=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:u={stack:[],error:void 0,hasError:!1},h.label=1;case 1:return h.trys.push([1,4,5,6]),e.Nre(),null==(s=e.vW)||s.jw(),o=Yt(u,Yo.$w([n]),!1),e.vW=o,Vo(a=o.Uw),[4,e.S3t.Ca(uE(t),a)];case 2:return h.sent(),Gn.su&&Gn.eg&&(e.S3t.xI(),e.S3t.EI()),i&&e.S3t.RR(i),r&&e.S3t.xI(),[4,et.race([e.py("aderror",a).then(et.reject),e.py("adloaded",a).then((function(){return et.resolve()}))])];case 3:return[2,h.sent()];case 4:return c=h.sent(),u.error=c,u.hasError=!0,[3,6];case 5:return jt(u),[7];case 6:return[2]}}))}))()},i.Md=function(t){this.Cre&&(this.Cre.sne(t),this.Cre.tI=!0,this.mre(this.Cre),this.Cre=void 0),this.a$t&&(this.I3t._o(new zL(this.a$t,t)),this.a$t=void 0),this.p$t&&(this.I3t._o(new UL(this.p$t)),this.p$t=void 0),this.Dre()},i.Xse=function(t){var n,i;return(null!=(i=null==(n=this.Cre)?void 0:n.WO)?i:0)+t},i.nr=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){return null==(n=t.vW)||n.jw(),t.vW=void 0,t.Dre(),t.w$t=[],t.a$t=void 0,t.p$t=void 0,t.Cre=void 0,[2]}))}))()},i.yn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.nr()];case 1:return n.sent(),[4,t.Fre.yn()];case 2:return n.sent(),[2]}}))}))()},Nt(n,[{key:"YJt",get:function(){return this.w$t}},{key:"Ire",get:function(){return this.Cre}},{key:"snt",get:function(){return this.p$t}},{key:"n8t",get:function(){return this.a$t}}]),n}(ra);F(),Tt(),Dt();var N3=function(){function t(){this.I3t=new RI}var n=t.prototype;return n.Vre=function(t){this.Wre=t},n.MD=function(){},n.hnt=function(t){},n.yn=function(){return this.Wre=void 0,et.resolve()},Nt(t,[{key:"h2t",get:function(){return this.I3t}},{key:"g2t",get:function(){var t;return void 0!==(null==(t=this.Wre)?void 0:t.snt)}},{key:"s2t",get:function(){return zQ.Hst}},{key:"ent",get:function(){var t;return(null==(t=this.Wre)?void 0:t.n8t)?[this.Wre.n8t]:[]}},{key:"snt",get:function(){var t,n;return null!=(n=null==(t=this.Wre)?void 0:t.snt)?n:null}},{key:"nnt",get:function(){var t=this;return this.Wre?Ao(this.Wre.YJt,(function(n){var i,r=n.zc;if(n===(null==(i=t.Wre)?void 0:i.snt)&&void 0!==t.Wre.n8t){var e=r.indexOf(t.Wre.n8t);if(e>=0)return r.slice(e+1)}return n.tI?[]:r})):[]}},{key:"rnt",get:function(){var t=this;return this.Wre?this.Wre.YJt.filter((function(n){var i;return n===(null==(i=t.Wre)?void 0:i.snt)||!n.tI})):[]}}]),t}();F(),Tt(),Gt(),Dt(),qt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),At(),F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt();var D3=function(t){function n(n){var i;return i=t.call(this,n,function(t){return t===n3.LSHAPE_CONTENT?M$.M2t:M$.Mjt}(n.Rre.fne))||this,n.Ere(i),i}return It(n,t),n.prototype.ka=function(){return V$(this)},Nt(n,[{key:"aQt",get:function(){return zQ.Hst}}]),n}(B$);var P3=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).Ure=i,r}It(n,t);var i=n.prototype;return i.h$t=function(){return this.Ure.getAdSystem()},i.c$t=function(){return this.sd.Rre.Fyt},Nt(n,[{key:"o",get:function(){return this.Ure.getAdId()}},{key:"ct",get:function(){return this.Ure.getDuration()}},{key:"QYt",get:function(){var t,n;return null==(n=this.Ure)||null==(t=n.ad)?void 0:t.clickThroughUrl}},{key:"bYt",get:function(){return this.Ure.getCreativeId()}},{key:"xKt",get:function(){return this.Ure.getSkipTimeOffset()}}]),n}(D3);F(),Tt(),Rt();var x3=function(t){function n(n){var i;return(i=t.call(this,n)||this).U2t=!0,i.MA=n.XJt,i}return It(n,t),n}(D3);F(),Tt(),Rt(),F(),Tt(),Rt();var L3=function(t){function n(n,i,r){var e;return(e=t.call(this,n,new Date)||this).Gre=i,e.lnt=r,e}return It(n,t),n}(sa),M3=function(t){return t.LOADED="DAILoaded",t.AD_BREAK_STARTED="DAIAdBreakStarted",t.AD_BREAK_ENDED="DAIAdBreakEnded",t.AD_PERIOD_STARTED="DAIAdPeriodStarted",t.AD_PERIOD_ENDED="DAIAdPeriodEnded",t.AD_PROGRESS="DAIAdProgress",t.CUEPOINTS_CHANGED="DAICuePointsChanged",t.CLICK="DAIClick",t.ERROR="DAIError",t.STARTED="DAIStarted",t.FIRST_QUARTILE="DAIFirstQuartile",t.MIDPOINT="DAIMidpoint",t.STREAM_INITIALIZED="DAIStreamInitialized",t.THIRD_QUARTILE="DAIThirdQuartile",t.COMPLETE="DAIComplete",t}({}),O3=function(t){function n(n,i){return t.call(this,"DAILoaded",n,i)||this}return It(n,t),n}(L3),B3=function(t){function n(n,i){return t.call(this,"DAIAdBreakStarted",n,i)||this}return It(n,t),n}(L3),V3=function(t){function n(n,i){return t.call(this,"DAIAdBreakEnded",n,i)||this}return It(n,t),n}(L3),F3=function(t){function n(n,i){return t.call(this,"DAIAdProgress",n,i)||this}return It(n,t),n}(L3),U3=function(t){function n(n,i){return t.call(this,"DAICuePointsChanged",n,i)||this}return It(n,t),n}(L3),W3=function(t){function n(n,i){return t.call(this,"DAIClick",n,i)||this}return It(n,t),n}(L3),Z3=function(t){function n(n,i){return t.call(this,"DAIError",n,i)||this}return It(n,t),n}(L3),X3=function(t){function n(n,i){return t.call(this,"DAIStarted",n,i)||this}return It(n,t),n}(L3),G3=function(t){function n(n,i){return t.call(this,"DAIFirstQuartile",n,i)||this}return It(n,t),n}(L3),H3=function(t){function n(n,i){return t.call(this,"DAIMidpoint",n,i)||this}return It(n,t),n}(L3),z3=function(t){function n(n,i){return t.call(this,"DAIStreamInitialized",n,i)||this}return It(n,t),n}(L3),Y3=function(t){function n(n,i){return t.call(this,"DAIThirdQuartile",n,i)||this}return It(n,t),n}(L3),j3=function(t){function n(n,i){return t.call(this,"DAIComplete",n,i)||this}return It(n,t),n}(L3);var K3=function(t){function n(n,i,r){var e;(e=t.call(this)||this).Hre=n,e.S0t=i,e.noe=r,e.qre=function(t){e.zre(!0);var n=J3(t),i=$3(t);e._o(new B3(n,i))},e.soe=function(t){e.zre(!1);var n=J3(t),i=$3(t);e._o(new V3(n,i))},e.Yre=function(t){var n=J3(t),i=$3(t);e._o(new F3(n,i))},e.q$t=function(t){var n=J3(t),i=$3(t);e._o(new W3(n,i))},e.Kre=function(t){var n=J3(t),i=$3(t);e._o(new j3(n,i))},e.jre=function(t){var n=J3(t),i=$3(t);e._o(new U3(n,i))},e.Ss=function(t){var n=J3(t),i=$3(t);e._o(new Z3(n,i))},e.Qre=function(t){var n=J3(t),i=$3(t);e._o(new G3(n,i))},e.Jre=function(t){var n=J3(t),i=$3(t);e._o(new O3(n,i))},e.$re=function(t){var n=J3(t),i=$3(t);e._o(new H3(n,i))},e.toe=function(t){var n=J3(t),i=$3(t);e._o(new X3(n,i))},e.eoe=function(t){var n=J3(t),i=$3(t);e._o(new z3(n,i))},e.ioe=function(t){var n=J3(t),i=$3(t);e._o(new Y3(n,i))},e.S0t&&(e.S0t.style.display="none",e.Hre.setClickElement(e.S0t));var u=google.ima.dai.api.StreamEvent.Type;return e.Hre.addEventListener(u.AD_BREAK_STARTED,e.qre),e.Hre.addEventListener(u.AD_PROGRESS,e.Yre),e.Hre.addEventListener(u.CLICK,e.q$t),e.Hre.addEventListener(u.COMPLETE,e.Kre),e.Hre.addEventListener(u.CUEPOINTS_CHANGED,e.jre),e.Hre.addEventListener(u.ERROR,e.Ss),e.Hre.addEventListener(u.FIRST_QUARTILE,e.Qre),e.Hre.addEventListener(u.LOADED,e.Jre),e.Hre.addEventListener(u.MIDPOINT,e.$re),e.Hre.addEventListener(u.STARTED,e.toe),e.Hre.addEventListener(u.STREAM_INITIALIZED,e.eoe),e.Hre.addEventListener(u.THIRD_QUARTILE,e.ioe),e.Hre.addEventListener(u.AD_BREAK_ENDED,e.soe),e}It(n,t);var i=n.prototype;return i.replaceAdTagParameters=function(t){return this.Hre.replaceAdTagParameters(null!=t?t:null)},i.Zre=function(t){return this.Hre.contentTimeForStreamTime(t)},i.Xre=function(t){return this.Hre.streamTimeForContentTime(t)},i.YWt=function(t,n){var i=function(t){return"vod"===t.availabilityType?new f.google.ima.dai.api.VODStreamRequest(ns({},q3(t),{contentSourceId:t.contentSourceID,videoId:t.videoID})):new f.google.ima.dai.api.LiveStreamRequest(ns({},q3(t),{assetKey:t.assetKey}))}(t);t.enableNonce&&(i.enableNonce=!0),this.Hre.requestStream(i)},i.nr=function(){this.zre(!1),this.Hre.reset()},i.yn=function(){this.Ro();var t=google.ima.dai.api.StreamEvent.Type;this.Hre.removeEventListener(t.AD_BREAK_STARTED,this.qre),this.Hre.removeEventListener(t.AD_PROGRESS,this.Yre),this.Hre.removeEventListener(t.CLICK,this.q$t),this.Hre.removeEventListener(t.COMPLETE,this.Kre),this.Hre.removeEventListener(t.CUEPOINTS_CHANGED,this.jre),this.Hre.removeEventListener(t.ERROR,this.Ss),this.Hre.removeEventListener(t.FIRST_QUARTILE,this.Qre),this.Hre.removeEventListener(t.LOADED,this.Jre),this.Hre.removeEventListener(t.MIDPOINT,this.$re),this.Hre.removeEventListener(t.STARTED,this.toe),this.Hre.removeEventListener(t.STREAM_INITIALIZED,this.eoe),this.Hre.removeEventListener(t.THIRD_QUARTILE,this.ioe),this.Hre.removeEventListener(t.AD_BREAK_ENDED,this.soe),this.nr(),this.noe&&oi(this.noe)},i.roe=function(t){this.Hre.onTimedMetadata(t)},i.ooe=function(t,n,i){this.Hre.processMetadata(t,n,i)},i.hoe=function(t){var n=this.Hre.previousCuePointForStreamTime(t);if(n)return{UO:n.end,WO:n.start,tI:n.played}},i.aoe=function(t,n){var i=this.hoe(t);if(i){var r=t>n&&i.UO>n,e=i.UO>t&&i.WO<=t;return i.tI||!r&&!e?void 0:i.WO}},i.zre=function(t){this.S0t&&(this.S0t.style.display=t?"block":"none")},n}(ra);function q3(t){var n,i=google.ima.dai.api.StreamRequest.StreamFormat;return{apiKey:t.apiKey,authToken:t.authToken,format:"dash"===t.format?i.DASH:i.HLS,networkCode:t.networkCode,streamActivityMonitorId:t.streamActivityMonitorID,adTagParameters:t.adTagParameters,omidAccessModeRules:null!=(n=b0(t.omidAccessModeRules))?n:{}}}function J3(t){var n,i=t.getStreamData(),r=i.adProgressData;return r&&(n={E6t:r.adBreakDuration,uoe:r.duration,x6t:r.adPosition,ER:r.currentTime,ct:r.duration,R6t:r.totalAds}),{coe:n,loe:(i.cuepoints||[]).map((function(t){return{WO:t.start,UO:t.end,tI:t.played}})),doe:i.errorMessage||void 0,foe:i.manifestFormat||void 0,_oe:i.streamId||void 0,voe:(i.subtitles||[]).map((function(t){return{moe:t.webvtt,goe:t.ttml,gs:t.language}})),Xu:i.url}}function Q3(t){return{GYt:t.getAdSlotId(),H2t:t.getContent(),Mk:t.getContentType(),Ti:t.getHeight(),ji:t.getWidth()}}function $3(t){var n=t.getAd();if(n){var i=n.getAdPodInfo(),r=n.getCompanionAds().map(Q3);return{vKt:n.getAdId(),d9t:{x6t:i.getAdPosition(),ZJt:i.getMaxDuration(),Sse:i.getPodIndex(),eOt:i.getTimeOffset(),R6t:i.getTotalAds()},jqt:n.getAdSystem(),kse:n.getAdvertiserName(),WYt:n.getApiFramework(),rYt:r,bYt:n.getCreativeId(),t8t:n.getCreativeAdId(),Ese:n.getDealId(),VN:n.getDescription(),ct:n.getDuration(),oH:n.getTitle(),poe:n.getUniversalAdIdRegistry(),woe:n.getUniversalAdIdValue(),Y9t:n.getVastMediaHeight(),q9t:n.getVastMediaWidth(),H9t:n.getWrapperAdIds(),Z9t:n.getWrapperAdSystems(),X9t:n.getWrapperCreativeIds()}}}function t4(){var t=v.body.lastElementChild;if(t instanceof HTMLIFrameElement&&"Advertisement"===t.title)return t}var n4="ott_placement",i4="theoads_slot",r4="urn:google:dai:2018",e4=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,n,i,e)||this).Doe=!0,a.Foe=function(){a.Md(a.Xse(a.S3t.xR()))},a.qn=function(t){var n=t.Ht;if(n.Lt===zy.eW&&!(n.Tw!==Tw.ID3&&n.Tw!==Tw.EVENT_STREAM||n.Tw===Tw.EVENT_STREAM&&n.BC!==r4)){if(n.bn(Tg.HI,a.Goe),n.bn(Tg.XI,a.zne),n.L)for(var i=0,r=n.L.lC;i<r.length;i++){var e=r[i];a.Goe(new MN(e))}n.CE=Vy.LC,a.Uoe=n}},a.Goe=function(t){t.FO.bn(Dw.rO,a.Hoe)},a.zne=function(t){t.FO.vn(Dw.rO,a.Hoe)},a.Hoe=function(t){var n,i;if(a.Ioe)if((null==(n=a.Uoe)?void 0:n.Tw)===Tw.ID3){var r,e=t.FO.U;if(YD(e))if(a.Woe!==e.text)a.Woe=e.text,null==(r=a.Hre)||r.processMetadata("ID3",e.text,t.FO.WO)}else if((null==(i=a.Uoe)?void 0:i.Tw)===Tw.EVENT_STREAM){var u,s=t.FO.U;null==(u=a.Hre)||u.processMetadata(r4,s,t.FO.WO)}},a.Voe=function(t){switch(a.p$t&&(a.p$t.XJt=a.S3t.jd()-a.S3t.xR()),t.type){case google.ima.dai.api.StreamEvent.Type.ERROR:a.I3t._o(new N$(LJ.GENERAL));break;case google.ima.dai.api.StreamEvent.Type.AD_PERIOD_STARTED:a.p$t=a.p3t(a.Cre),a.I3t._o(new ZL(a.p$t)),a.Zoe=Kn.Gg(a.Xoe,250);break;case google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED:Kn.Ug(a.Zoe);break;case google.ima.dai.api.StreamEvent.Type.STARTED:var n,i=t.getAd();a.a$t=new P3(a.p$t,i),null==(n=a.Cre)||n.ir({ad:a.a$t}),a.I3t._o(new GL(a.a$t,a.Xse(a.S3t.xR())));break;case google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE:a.I3t._o(new K$(a.a$t,a.Xse(a.S3t.xR())));break;case google.ima.dai.api.StreamEvent.Type.MIDPOINT:a.I3t._o(new J$(a.a$t,a.Xse(a.S3t.xR())));break;case google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE:a.I3t._o(new $$(a.a$t,a.Xse(a.S3t.xR())));break;case google.ima.dai.api.StreamEvent.Type.COMPLETE:a.I3t._o(new zL(a.a$t,a.Xse(a.S3t.xR()))),a.a$t=void 0;break;case google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED:if(!a.p$t)break;a.p$t.XJt>1&&a.Xoe()}},a.Xoe=function(){var t;a.a$t=new x3(a.p$t),null==(t=a.Cre)||t.ir({ad:a.a$t}),a.I3t._o(new GL(a.a$t,a.Xse(a.S3t.xR())))},a.koe=r,a.Toe=null!=u?u:{},a.Doe=!a.Toe[n4],a.xoe=s,a.Moe=o,a}It(n,t);var i=n.prototype;return i.boe=function(t,n,i,r){var e=this;return Zt((function(){return Ht(this,(function(u){switch(u.label){case 0:return!t||!n||t===e.Aoe&&n===e.Soe?(i!==e.Toe&&e.kre(i),[2]):[4,e._J(t,n,i,r)];case 1:return u.sent(),[2]}}))}))()},i._J=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:if(void 0===e.Hre){if(void 0===(null==(s=f.google)||null==(u=s.ima)?void 0:u.dai))throw new p("IMA DAI SDK missing for THEOads");e.Hre=new google.ima.dai.api.StreamManager(e.S3t.we.querySelector("video"),e.koe)}return e.Aoe=t,e.Soe=n,e.Toe=i,o=e.Hre,e.Eoe(),o.reset(),(a=new google.ima.dai.api.PodStreamRequest).networkCode=e.Aoe,a.customAssetKey=e.Soe,a.adTagParameters=e.Toe,e.xoe&&(a.streamActivityMonitorId=e.xoe),a.format="hls",c=e.Roe([google.ima.dai.api.StreamEvent.Type.STREAM_INITIALIZED,google.ima.dai.api.StreamEvent.Type.ERROR]).then((function(t){if(t.type===google.ima.dai.api.StreamEvent.Type.ERROR)throw new p("DAI stream request failed");e.Ioe=t.getStreamData(),e.Coe()})),e.Hre.requestStream(a),e.Poe=Wo(c,r),[4,e.Poe];case 1:return h.sent(),[2]}}))}))()},i.Roe=function(t,n){var i=this;return new et((function(r,e){if(n&&n.Fw)return e(new Oo);for(var u=function(t){o(),r(t)},s=function(){o(),e(new Oo)},o=function(){for(var r=0;r<t.length;r++){var e,o=t[r];null==(e=i.Hre)||e.removeEventListener(o,u)}n&&n.Vw(s)},a=0;a<t.length;a++){var c,h=t[a];null==(c=i.Hre)||c.addEventListener(h,u)}n&&n.Ww(s)}))},i.kre=function(t){var n;this.Toe=t,this.Doe=!this.Toe[n4],null==(n=this.Hre)||n.replaceAdTagParameters(t)},i.Noe=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return(null==(i=n.Cre)?void 0:i.une)&&!S(n.Cre.une)?[2,n.Cre.une]:n.Moe&&(null==(r=n.Cre)?void 0:r.wvt)?[4,mT((function(){return n.Loe()}),t,4,500,5e3)]:[2,void 0];case 1:return[2,e.sent()]}}))}))()},i.Loe=function(){var t=this;return Zt((function(){var n,i,r,e;return Ht(this,(function(u){switch(u.label){case 0:n=t.Moe+"/"+t.Aoe+"/"+t.Soe+"/"+t.Cre.wvt+".json",i=new vl({Xu:n,jk:Id.Ak,AE:ol.GET,SE:1e3}),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,t.S3t.fR.Qk(i)];case 2:return r=u.sent(),[3,4];case 3:throw u.sent(),new xJ(LJ.NETWORK,MJ.UNKNOWN_AD_RESPONSE,"The ad's PodId could not be loaded.");case 4:if(!ul(r))throw new xJ(LJ.NETWORK,MJ.UNKNOWN_ERROR,"Something went wrong while requesting JSON from server.");return[4,r.Kk()];case 5:return(e=u.sent())?[2,e.podid]:[2,void 0]}}))}))()},i.Boe=function(t,n,i,r){void 0===r&&(r=!1);var e=this;return Zt((function(){var u;return Ht(this,(function(s){switch(s.label){case 0:return[4,e.Ooe(t,n,i)];case 1:return u=s.sent(),[2,e.Ore({sources:{src:u}},i,void 0,r)]}}))}))()},i.Ooe=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:return r.Cre=t,u=t.Ane,s=t.Sne,function(t,n,i){var r=new ku(t.cust_params);r.set(i4,function(t){switch(t){case n3.DOUBLE:return"double";case n3.SINGLE:return"single";case n3.LSHAPE_AD:case n3.LSHAPE_CONTENT:return"l-shape"}}(n)),t.cust_params=r.toString(),i&&(t[n4]=function(t){switch(t){case n3.DOUBLE:return"3";case n3.SINGLE:return"99";case n3.LSHAPE_AD:case n3.LSHAPE_CONTENT:return"4"}}(n))}(r.Toe,t.fne,r.Doe),[4,r.boe(u,s,r.Toe,i)];case 1:return v.sent(),o=Kn.Ih(t.Fyt),a=Number(o.searchParams.get("d")),c=k.floor(1e3*k.min(a,t.ene-n)),[4,r.Noe(i)];case 2:if(!(h=v.sent()))throw new p("Something went wrong with retrieving the PodID from the server.");return(null==(e=r.Ioe)?void 0:e.streamId)?[4,r.Poe]:[3,4];case 3:v.sent(),v.label=4;case 4:return f=Kn.Ih("https://dai.google.com/linear/pods/v1/hls/network/"+r.Aoe+"/custom_asset/"+r.Soe),"V2"===t.kne?f.pathname+="/ad_break_id/"+h+".m3u8":f.pathname+="/pod/"+h+".m3u8",f.searchParams.set("stream_id",r.Ioe.streamId),f.searchParams.set("pd",String(c)),[2,f.toString()]}}))}))()},i.Nre=function(){this.S3t.bn(oa.Dy,this.Foe),this.S3t.nt.bn(pg.VI,this.qn),t.prototype.Nre.call(this)},i.Dre=function(){t.prototype.Dre.call(this),this.S3t.vn(oa.Dy,this.Foe),this.S3t.nt.vn(pg.VI,this.qn)},i.Coe=function(){this.Hre&&(this.Hre.addEventListener(google.ima.dai.api.StreamEvent.Type.ERROR,this.Voe),this.Hre.addEventListener(google.ima.dai.api.StreamEvent.Type.CLICK,this.Voe),this.Hre.addEventListener(google.ima.dai.api.StreamEvent.Type.STARTED,this.Voe),this.Hre.addEventListener(google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE,this.Voe),this.Hre.addEventListener(google.ima.dai.api.StreamEvent.Type.MIDPOINT,this.Voe),this.Hre.addEventListener(google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE,this.Voe),this.Hre.addEventListener(google.ima.dai.api.StreamEvent.Type.COMPLETE,this.Voe),this.Hre.addEventListener(google.ima.dai.api.StreamEvent.Type.AD_PERIOD_STARTED,this.Voe),this.Hre.addEventListener(google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,this.Voe),this.Hre.addEventListener(google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,this.Voe),this.Hre.addEventListener(google.ima.dai.api.StreamEvent.Type.AD_PROGRESS,this.Voe),this.Hre.addEventListener(google.ima.dai.api.StreamEvent.Type.RESUMED,this.Voe))},i.Eoe=function(){this.Hre&&(this.Hre.removeEventListener(google.ima.dai.api.StreamEvent.Type.ERROR,this.Voe),this.Hre.removeEventListener(google.ima.dai.api.StreamEvent.Type.CLICK,this.Voe),this.Hre.removeEventListener(google.ima.dai.api.StreamEvent.Type.STARTED,this.Voe),this.Hre.removeEventListener(google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE,this.Voe),this.Hre.removeEventListener(google.ima.dai.api.StreamEvent.Type.MIDPOINT,this.Voe),this.Hre.removeEventListener(google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE,this.Voe),this.Hre.removeEventListener(google.ima.dai.api.StreamEvent.Type.COMPLETE,this.Voe),this.Hre.removeEventListener(google.ima.dai.api.StreamEvent.Type.AD_PERIOD_STARTED,this.Voe),this.Hre.removeEventListener(google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,this.Voe),this.Hre.removeEventListener(google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,this.Voe),this.Hre.removeEventListener(google.ima.dai.api.StreamEvent.Type.AD_PROGRESS,this.Voe),this.Hre.removeEventListener(google.ima.dai.api.StreamEvent.Type.RESUMED,this.Voe))},i.Md=function(n){t.prototype.Md.call(this,n),this.Woe=void 0},i.nr=function(){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return[4,t.prototype.nr.call(n)];case 1:return e.sent(),n.Eoe(),null==(i=n.Hre)||i.reset(),n.Hre=void 0,n.Ioe=void 0,n.Poe=void 0,n.xoe=void 0,n.Soe=void 0,n.Aoe=void 0,n.Doe=!0,void 0!==(r=t4())&&oi(r),[2]}}))}))()},i.yn=function(){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,t.prototype.yn.call(n)];case 1:return r.sent(),null==(i=n.Uoe)||i.yn(),[2]}}))}))()},Nt(n,[{key:"yoe",get:function(){return R3.GOOGLE}}]),n}(C3);var u4=function(){function t(t,n,i){var r=this;this.zoe=[],this.Qoe=rs(),this.rhe=(new Date).getTime(),this.ohe=function(){r.zoe.forEach((function(t){r.Qoe.get(t.o).style.cssText=r.$oe(t)}))},this.z7t=function(t){t.stopPropagation()},this.na=t,this.na.bn(sI.mn,this.ohe);var e=v.createElement("div");e.style.display="none",e.className="theoads-image-overlays-container",n.appendChild(e),mi(e),this.Yoe=e,this.hhe=i,this.fW=Kn.fR}var n=t.prototype;return n.joe=function(t){var n=this;return Zt((function(){var i,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return n.zoe.push(t),n.Yoe.style.display="",(i=v.createElement("div")).className="theoplayer-theoads-overlay",i.style.display="",n.Qoe.set(t.o,i),r=v.createElement("a"),[4,n.Joe(t)];case 1:return(e=s.sent()).clickThroughURI&&(n.Yoe.style.zIndex="11",r.href=e.clickThroughURI,r.target="zu",r.setAttribute("rel","noopener"),r.addEventListener("mousedown",n.z7t),r.addEventListener("touchend",n.z7t)),t.pne===w3.image&&(r.style.backgroundImage="url("+e.resourceURI+")",r.style.backgroundSize="contain",r.style.backgroundPosition="center",r.style.backgroundRepeat="no-repeat",e.impressionURI&&((u=v.createElement("img")).src=e.impressionURI,u.style.display="none",r.appendChild(u))),mi(r),i.appendChild(r),i.style.cssText=n.$oe(t),n.Yoe.appendChild(i),[2]}}))}))()},n.the=function(t){var n=this.Qoe.get(t.o);n&&(this.Yoe.contains(n)&&this.Yoe.removeChild(n),this.Qoe.delete(t.o),0===this.Qoe.size&&(this.Yoe.style.display="none"),wo(this.zoe,t))},n.ehe=function(){var t=this;this.Qoe.forEach((function(n,i){t.Yoe.contains(n)&&t.Yoe.removeChild(n)})),this.Qoe.clear(),this.zoe=[]},n.$oe=function(t){var n=t.fo,i=0,r=1;if(this.Yoe.clientWidth>0&&this.Yoe.clientHeight>0){var e=this.na.vI/this.na.dI,u=this.qoe.clientWidth,s=this.qoe.clientHeight,o=u/e,a=(s-o)/2;i=0===s?0:k.floor(a/s*100),r=0===s?1:k.floor(100*(1-(s-o)/s))/100}var c="position:absolute;zIndex:10;";(n.D7&&(c+="left:"+n.D7+"%;"),n.P7&&(c+="right:"+n.P7+"%;"),n.M7)&&(c+="top:"+(n.M7*r+i)+"%;");n.N7&&(c+="bottom:"+(n.N7*r+i)+"%;");var h=t.Nb;return h.ji&&(c+="width:"+h.ji+"%;"),h.Ti&&(c+="height:"+h.Ti*r+"%;"),t.wne&&t.wne>0&&t.wne<=100&&(c+="opacity:"+t.wne/100+";"),c},n.ihe=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return t?(i=n.she(t))?[4,n.nhe(i,n.fW)]:[2,void 0]:[2];case 1:return[2,r.sent()]}}))}))()},n.Joe=function(t){var n=this;return Zt((function(){var i,r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return i={resourceURI:""},[4,n.ihe(t.yne)];case 1:return(r=o.sent())?(i.resourceURI=r.image,i.impressionURI=r.impression):t.cjt&&((e=ho(t.cjt,(function(t){return t.Tw===m3.svg})))&&(i.resourceURI=e.Fyt),(u=ho(t.cjt,(function(t){return t.Tw===m3.png})))&&(i.resourceURI=u.Fyt)),i.clickThroughURI=null!=(s=null==r?void 0:r.clickThrough)?s:t.QYt,t.ir({imageUrl:i.resourceURI,clickThrough:i.clickThroughURI}),[2,i]}}))}))()},n.she=function(t){var n=new ku(this.Toe);return n.set("iu",t.wre),n.set("sz",t.yre),n.set("c",String(this.rhe)),n.get(n4)||n.set(n4,"5"),"https://securepubads.g.doubleclick.net/gampad/adx?"+n.toString()},n.nhe=function(t,n){return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:i=new vl({Xu:t,jk:Id.Ak,AE:ol.GET}),e.label=1;case 1:return e.trys.push([1,4,,5]),[4,n.Qk(i)];case 2:return[4,e.sent().Kk()];case 3:return[2,e.sent()];case 4:throw r=e.sent(),new xJ(LJ.NETWORK,MJ.UNKNOWN_AD_RESPONSE,"The ad source could not be loaded.",r);case 5:return[2]}}))}))()},n.nr=function(){this.ehe(),this.Yoe.style.display="none"},Nt(t,[{key:"Are",get:function(){return this.zoe}},{key:"qoe",get:function(){return this.Yoe}},{key:"Koe",get:function(){return this.Toe},set:function(t){this.Toe=t}}]),t}();F(),Tt(),Dt();var s4=function(){function t(){}var n=t.prototype;return n.CZ=function(t){return o4(t)},n.t2t=function(t,n,i){},n.g6=function(t,n,i,r){},n.qz=function(t){var n={integration:mS.THEOADS,adTagParameters:Qn(t.adTagParameters)?t.adTagParameters:{},useId3:Boolean(t.useId3)};return ti(t.networkCode)&&(n.networkCode=Vg(t.networkCode)),ti(t.customAssetKey)&&(n.customAssetKey=Vg(t.customAssetKey)),ti(t.backdropDoubleBox)&&(n.backdropDoubleBox=Vg(t.backdropDoubleBox)),ti(t.backdropLShape)&&(n.backdropLShape=Vg(t.backdropLShape)),ti(t.overrideLayout)&&(n.overrideLayout=function(t){switch(t){case"single":case"l-shape":case"double":case"single-if-mobile":return t;default:return}}(t.overrideLayout)),ti(t.overrideAdSrc)&&(n.overrideAdSrc=Vg(t.overrideAdSrc)),ti(t.retrievePodIdURI)&&(n.retrievePodIdURI=Vg(t.retrievePodIdURI)),ti(t.sseEndpoint)&&(n.sseEndpoint=Vg(t.sseEndpoint)),ti(t.streamActivityMonitorId)&&(n.streamActivityMonitorId=Vg(t.streamActivityMonitorId)),n},Nt(t,[{key:"$1t",get:function(){return zQ.Hst}}]),t}();function o4(t){return t&&t.integration===mS.THEOADS}yS.Vg.PZ(new s4),F(),Tt(),Rt();var a4=function(t){function n(n){var i;return(i=t.call(this,"addinterstitial")||this).interstitial=n,i}return It(n,t),n}(sa);F(),Tt(),Rt();var c4=function(t){function n(n){var i;return(i=t.call(this,"ahe")||this).interstitial=n,i}return It(n,t),n.prototype.ka=function(){return new h4(this.interstitial.int())},n}(gg),h4=function(t){function n(n){var i;return(i=t.call(this,"interstitialend")||this).interstitial=n,i}return It(n,t),n}(sa);F(),Tt(),Rt();var f4=function(t){function n(n,i){var r;return(r=t.call(this,"uhe")||this).interstitial=n,r.wb=i,r}return It(n,t),n.prototype.ka=function(){return new v4(this.interstitial.int(),this.wb)},n}(gg),v4=function(t){function n(n,i){var r;return(r=t.call(this,"interstitialerror")||this).interstitial=n,r.message=i,r}return It(n,t),n}(sa);F(),Tt(),Gt(),Dt(),Rt(),qt(),At(),F(),Tt(),Rt();var d4=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).MA=k.min(i,r.sd.ZJt),r}return It(n,t),n}(D3),l4=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).X9=!1,n.Hzt=function(){n._o(new N$(LJ.GENERAL))},n.dhe=function(t){!n.X9&&n.Cre&&(n.X9=!0,n.p$t=n.p3t(n.Cre),n.a$t=new d4(n.p$t,n.S3t.jd()),n.Cre.ir({ad:n.n8t}),n.I3t._o(new ZL(n.p$t)),n.I3t._o(new GL(n.a$t,n.Xse(t.currentTime))))},n.s7=function(t){n.Md(n.Xse(t.currentTime))},n}It(n,t);var i=n.prototype;return i.boe=function(t,n,i,r){return et.resolve()},i._J=function(t,n,i,r){return et.resolve()},i.kre=function(t){},i.Boe=function(t,n,i,r){var e;if(void 0===r&&(r=!1),this.Cre=t,t.WO<n){var u=k.min(t.ct,t.ene-n);e=t.ct-u,t.ir({ct:u,hne:e})}return this.Ore({sources:{src:t.Fyt}},i,e,r)},i.Ooe=function(t,n,i){var r=this;return Zt((function(){return Ht(this,(function(n){return r.Cre=t,[2,t.Fyt]}))}))()},i.Nre=function(){t.prototype.Nre.call(this),this.S3t.bn(yp.UL,this.dhe),this.S3t.bn(oa.Dy,this.s7),this.S3t.bn(Uy.fa,this.Hzt)},i.Dre=function(){this.S3t.vn(yp.UL,this.dhe),this.S3t.vn(oa.Dy,this.s7),this.S3t.vn(Uy.fa,this.Hzt),t.prototype.Dre.call(this)},i.pd=function(t){var n,i=this.Xse(t.currentTime),r=this.Cre.z2t;this.Cre.sne(i);var e=this.Cre.z2t;r<.25&&e>=.25?this.I3t._o(new K$(this.a$t,i)):r<.5&&e>.5?this.I3t._o(new J$(this.a$t,i)):r<.75&&e>=.75?this.I3t._o(new $$(this.a$t,i)):(null==(n=this.Cre)?void 0:n.tI)&&this.Md(i)},i.Md=function(n){t.prototype.Md.call(this,n),this.X9=!1},i.nr=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.nr.call(n)];case 1:return i.sent(),n.X9=!1,[2]}}))}))()},Nt(n,[{key:"yoe",get:function(){return R3.DEFAULT}}]),n}(C3),g4="theo-ads-sgai-container",w4=function(t){function n(n){var i,r,e;return i=t.call(this,n)||this,r=i,i.YG=void 0,i.TZ=void 0,i.Vhe=rs(),i.jhe=!0,i.Qhe=NaN,i.Ohe=NaN,i.Bhe=NaN,i.Khe=!1,i.Sd=function(){i.Dst.vn(yp.FL,i.bhe),i._he.Dne(i.na.nt)},i.ghe=Zt((function(){var t;return Ht(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,4]),[4,r.kst.Aq([dE.THEOADS])];case 1:return n.sent(),[3,4];case 2:return t=n.sent(),[4,r.RI().catch(bi)];case 3:return n.sent(),r.BH(rd(t,td.LICENSE_INVALID_FEATURE)),[3,4];case 4:return[2]}}))})),i.bhe=function(){var t;i.Dst.vn(yp.VL,i.bhe),(null==(t=i.mhe)?void 0:t.sseEndpoint)&&i._he.Rne(i.mhe.sseEndpoint)},i.Ihe=function(){i.Whe(i.xR()),i.Uhe()},i.CX=function(){i.Whe(i.xR()),i.Uhe()},i.RE=function(){i.Hhe(i.xR())},i.Dhe=function(){i.x1t()},i.Fhe=function(t){i.vhe._o(t.wa)},i.Dst=n,i.Vs=n.we,i.khe=function(){var t=v.createElement("div");return vi(t,"theo-ads-sgai-content-player"),t}(),i.vhe=new E3(i),i.hhe=new N3,null==(e=i.Dst.zc)||e.ant(i.hhe),i._he=new k3(i),i.fhe=new u4(i,i.khe,i.hhe),i}It(n,t);var i=n.prototype;return i.Lst=function(){return this.Dst.zc},i.Wst=function(){return this.vhe.wa},i.IR=function(){return this.Vs},i.Mst=function(){return this.Dst.vst},i.NR=function(){var n;return null!=(n=this.TZ)?n:t.prototype.NR.call(this)},i.LR=function(){var n;return null!=(n=this.YG)?n:t.prototype.LR.call(this)},i.kI=function(){this.Dst.kI()},i.ire=function(t){return t},i.Ca=function(n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){switch(s.label){case 0:return[4,t.prototype.Ca.call(r,n,i)];case 1:return s.sent(),void 0===n||void 0===n.ads?[2]:void 0===(e=ho(n.ads,o4))?[2]:(r.ghe(),r.phe(),r.whe(),r.mhe=e,r.yhe=e.backdropLShape,r.fhe.Koe=e.adTagParameters,r.Dst.bn(yp.VL,r.bhe),r.Dst.bn(yp.FL,r.Sd),r.Ahe(),r._he.tre=function(t){switch(t){case"single":return n3.SINGLE;case"l-shape":return n3.LSHAPE_AD;case"double":return n3.DOUBLE;case"single-if-mobile":return Gn.Qs?n3.SINGLE:void 0;default:return}}(r.mhe.overrideLayout),r._he.sre=r.mhe.overrideAdSrc,r._he.One=r.mhe.useId3,u=void 0===e.networkCode||void 0===e.customAssetKey,[4,r.She(u)]);case 2:return s.sent(),[2]}}))}))()},i.phe=function(){vi(this.Vs,g4),ci(this.Vs,this.khe),mi(this.khe),this.Vs.appendChild(this.khe)},i.Ehe=function(){di(this.Vs,g4),ci(this.khe,this.Vs),yi(this.khe),oi(this.khe)},i.She=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c,h,f,v,d,l,g,w,m,y,p,_,b;return Ht(this,(function(k){switch(k.label){case 0:return u=n.J1t(),s=n.xhe(),a=null!=(o=null==(i=n.Wre)?void 0:i.YJt)?o:[],t&&(null==(r=n.Wre)?void 0:r.yoe)!==R3.DEFAULT?[4,null==(c=n.Wre)?void 0:c.nr()]:[3,2];case 1:k.sent(),n.Wre=new l4(u,n.hhe,a),k.label=2;case 2:return t||(null==(e=n.Wre)?void 0:e.yoe)===R3.GOOGLE?[3,5]:[4,null==(h=n.Wre)?void 0:h.nr()];case 3:return k.sent(),n.Wre=new e4(u,n.hhe,s,a,n.Koe,null==(f=n.mhe)?void 0:f.streamActivityMonitorId,null==(v=n.mhe)?void 0:v.retrievePodIdURI),p=null!=(y=null==(d=n.Rhe)?void 0:d.Ane)?y:null==(l=n.mhe)?void 0:l.networkCode,b=null!=(_=null==(g=n.Rhe)?void 0:g.Sne)?_:null==(w=n.mhe)?void 0:w.customAssetKey,[4,null==(m=n.Wre)?void 0:m.boe(p,b,n.Koe)];case 4:k.sent(),k.label=5;case 5:return[2]}}))}))()},i.Qne=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return i.Rhe||void 0===t||void 0===n?[2]:(null==(r=i.Wre)?void 0:r.yoe)===R3.GOOGLE?[3,2]:[4,i.She(!1)];case 1:u.sent(),u.label=2;case 2:return[4,null==(e=i.Wre)?void 0:e.boe(t,n,i.Koe)];case 3:return u.sent(),[2]}}))}))()},i.BH=function(t){void 0===this.LR()&&(this.YG=t,this.TZ=iw(t),this._o(new yk(t)))},i.Ahe=function(){this.Dst.bn(oa.hb,this.Ihe),this.Dst.bn(oa.Jy,this.CX),this.Dst.bn(oa.qy,this.RE)},i.Che=function(){this.Dst.vn(oa.hb,this.Ihe),this.Dst.vn(oa.Jy,this.CX),this.Dst.vn(oa.qy,this.RE)},i.Phe=function(){this.hhe.h2t.bn("fnt",this.Dhe)},i.Nhe=function(){this.hhe.h2t.vn("fnt",this.Dhe)},i.x1t=function(){this.Mhe()},i.Lhe=function(){var t=this;return Zt((function(){return Ht(this,(function(n){return t.Mhe(),[2]}))}))()},i.Mhe=function(){var t=this.na.dI,n=this.na.vI;t===this.Bhe&&n===this.Ohe||(this.Bhe=t,this.Ohe=n,this._o(new wp))},i.ere=function(t){var n;m4(t)&&(null==(n=this.Wre)||n.ere(t),this.hre(this.xR()));t.bn("tne",this.Fhe),this.vhe._o(new a4(t.int()))},i.mre=function(t){var n;(this._he.mre(t),m4(t))?null==(n=this.Wre)||n.mre(t):y4(t)&&(this.fhe.the(t),this.Vhe.delete(t.o));t.vn("tne",this.Fhe),this.vhe._o(new c4(t).wa)},i.hre=function(t){this.Whe(t),this.Uhe()},i.Whe=function(t){this.Ghe(t),this.Hhe(t),this.Zhe(t)},i.Ghe=function(t){for(var n,i=[],r=0,e=this._he.Ene.filter(m4);r<e.length;r++){var u=e[r];if(u.tI)i.push(u);else{var s=u.ene;void 0!==s&&t>=s?(u.tI=!0,i.push(u)):void 0!==n&&n.WO<u.WO||(n=u)}}for(var o=0;o<i.length;o++){var a=i[o];this.mre(a)}this.Rhe!==n&&(this.Rhe=n,this.Xhe())},i.Xhe=function(){var t,n;null==(t=this.Wre)||t.Pre(),null==(n=this.zhe)||n.jw(),this.qhe=void 0,this.Yhe=void 0},i.Hhe=function(t){var n=this;if(void 0!==this.Rhe&&void 0===this.qhe&&!this.Khe){var i=!1,r=SA.Cn(this.Dst.yR())._B(t);if(void 0!==r&&(i=r.Tn(0)>=this.Rhe.WO),m4(this.Rhe)){var e=this.Rhe,u=e.ene,s=t>=e.WO&&(void 0===u||t<u);(i||s)&&(this.zhe=new Yo,this.qhe=Zo(this.Boe(e,t,this.zhe.Uw),this.zhe).catch((function(t){Bo(t)||(n.vhe._o(new f4(e,"Could not load the ad break.").wa),e.tI=!0,n.Rhe=void 0)})))}}},i.Zhe=function(t){var n=this;if(void 0!==this.Rhe&&void 0===this.Yhe&&!this.Khe){var i,r=this.Rhe.ene;if(t>=this.Rhe.WO&&(void 0===r||t<r))this.Yhe=null==(i=this.qhe)?void 0:i.then((function(){return n.Lhe()}))}},i.kre=function(t){var n,i,r;this.Toe=t,null==(i=this.Wre)||i.kre(null!=(r=null!=t?t:null==(n=this.mhe)?void 0:n.adTagParameters)?r:{}),this.fhe.Koe=t},i.Uhe=function(){var t,n=function(n,e){var u=e[n],s=u.ene;if(void 0!==s&&r>=s)return"continue";var o=u.WO,a=u.WO+u.ct;r>=o&&r<=a&&!t.Vhe.has(u.o)&&(t.fhe.joe(u).catch((function(t){i.vhe._o(new f4(u,"Could not load the overlay.").wa)})),t.vhe._o(new d3(u).wa),t.Vhe.set(u.o,u))},i=this,r=this.xR(),e=[];this.Vhe.forEach((function(t){r>=t.WO&&(void 0===t.ene||r<t.ene)||e.push(t)})),e.forEach((function(t){return i.mre(t)}));for(var u=0,s=this._he.Ene.filter(y4);u<s.length;u++)t=this,n(u,s)},i.RI=function(){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return n.YG=void 0,n.TZ=void 0,n.mhe=void 0,n.jhe=!0,n.Qhe=NaN,n.Ohe=NaN,n.Bhe=NaN,n.Rhe=void 0,null==(i=n.zhe)||i.jw(),n.qhe=void 0,n.Yhe=void 0,[4,null==(r=n.Wre)?void 0:r.nr()];case 1:return e.sent(),n.Wre=void 0,n._he.nr(),n.fhe.nr(),n.Vhe.clear(),n.Dst.vn(yp.VL,n.bhe),n.Dst.vn(yp.FL,n.Sd),n.Che(),n.Nhe(),n.Ehe(),n.Xhe(),[4,t.prototype.RI.call(n)];case 2:return e.sent(),[2]}}))}))()},i.yn=function(){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,n.RI().catch(bi)];case 1:return r.sent(),n._he.yn(),[4,null==(i=n.Wre)?void 0:i.yn()];case 2:return r.sent(),[4,t.prototype.yn.call(n)];case 3:return r.sent(),[2]}}))}))()},i.BI=function(n){switch(n.type){case oa.Uy:case oa.xy:case yp.VL:return!this.jhe;case yp.FL:return!this.jhe||(this.jhe=!1,!1);case oa.Iy:var i=this.jd();return i!==this.Qhe&&(this.Qhe=i,this._o(new fT(i))),!0;case oa.jy:return this.Mhe(),!0}return t.prototype.BI.call(this,n)},Nt(n,[{key:"Are",get:function(){var t;return[null==(t=this.Wre)?void 0:t.Ire].concat(Ft(this.fhe.Are)).filter(Yn)}},{key:"Sre",get:function(){return this._he.Ene}},{key:"Koe",get:function(){var t,n,i;return null!=(i=null!=(n=this.Toe)?n:null==(t=this.mhe)?void 0:t.adTagParameters)?i:{}}}]),n}(k$);function m4(t){return"adbreak"===t.Tw}function y4(t){return"overlay"===t.Tw}var p4=function(t){function n(n){var i;return(i=t.call(this,n)||this).Jhe=0,i.aae=!0,i.tae=!1,i.oae=new Yo,i.eae=!0,i.iae=!0,i.lae=!0,i.uzt=function(t){i.MA=t.duration},i.LW=function(){i.Dst.vn(yp.UL,i.LW),i.aae=!1},i.uae=function(){i.Dst.vn(yp.FL,i.uae),i.hae&&(i.Dst.bR=i.hae,i.hae=void 0),i.Dst.xR()>0&&(i.Jhe-=i.Dst.xR())},i.Nrt=PM.Vg,i.nae=new L2(Kn.fR),i}It(n,t);var i=n.prototype;return i.jd=function(){var n;return null!=(n=this.MA)?n:t.prototype.jd.call(this)},i.iu=function(){var n;return null!=(n=this.Sc)?n:t.prototype.iu.call(this)},i.xR=function(){return this.ire(t.prototype.xR.call(this))},i.yR=function(){var n=t.prototype.yR.call(this);return SA.Cn(n).xb(this.Jhe).ks()},i.aI=function(){var n=t.prototype.aI.call(this);return SA.Cn(n).xb(this.Jhe).ks()},i.ire=function(t){return t+this.Jhe},i.Ca=function(n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return[4,t.prototype.Ca.call(r,n,i)];case 1:return e.sent(),r.mhe?(r.Sc=n,r.$he=new f3(r.Dst),r.$he.pr(r.Dst.we,r.Dst.we.parentElement),r.fO(r.$he),[2]):[2]}}))}))()},i.whe=function(){},i.Ahe=function(){t.prototype.Ahe.call(this),this.Dst.bn(oa.Iy,this.uzt),this.Dst.bn(yp.UL,this.LW)},i.Che=function(){t.prototype.Che.call(this),this.Dst.vn(oa.Iy,this.uzt),this.Dst.vn(yp.UL,this.LW)},i.J1t=function(){return this.Dst},i.xhe=function(){return this.khe},i.RR=function(n,i){this.tae=!0,t.prototype.RR.call(this,n,i)},i.Phe=function(){t.prototype.Phe.call(this),this.Dst.bn(oa.Dy,this.Dhe)},i.Nhe=function(){t.prototype.Nhe.call(this),this.Dst.vn(oa.Dy,this.Dhe)},i.xI=function(){t.prototype.xI.call(this),this._o(new hT(this.xR())),this.eae=!0,this.iae=!1},i.EI=function(){this.iae=!0,t.prototype.EI.call(this)},i.Boe=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return u=c3(t),[4,r.She(u)];case 1:return a.sent(),[4,null==(e=r.Wre)?void 0:e.Ooe(t,n,i)];case 2:return r.sae=a.sent(),s=new S2(r.Nrt,r.nae),o=new m1(r.Nrt.Ort,s,"temporary"),r.rae=o.oee(uE(uE({sources:{src:r.sae}})),R2({amount:30,bandwidth:bk.Vg.cG()||r.vst.Ij}),"temporary"),r.oae.jw(),r.oae=new Yo,[4,r.nae.Ait(r.rae,r.Nrt,"temporary").pi(r.oae.Uw)];case 3:return a.sent(),[2]}}))}))()},i.Lhe=function(){var n=this;return Zt((function(){var i,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return void 0===n.Rhe||void 0===n.sae?[2]:(n.Che(),null==(i=n.zhe)||i.jw(),n.zhe=new Yo,u=c3(n.Rhe),[4,n.She(u)]);case 1:return s.sent(),n.hae=n.Dst.bR,null==(r=n.$he)||r.dr(n.Dst.we),n.aae=!0,n.Jhe=n.xR(),n.Dst.bn(yp.FL,n.uae),n.Dst.bn(yp.UL,n.LW),n.vhe._o(new d3(n.Rhe).wa),[4,null==(e=n.Wre)?void 0:e.Ore({sources:{src:n.sae}},n.zhe.Uw,void 0,!0)];case 2:return s.sent(),n.$he=n.cae(n.Rhe.fne,n.yhe),n.D1t(n.$he),n.$he.pr(n.we,n.Dst.we.parentElement),n.Phe(),n.Khe=!0,n.lae=!1,[2,t.prototype.Lhe.call(n)]}}))}))()},i.cae=function(t,n){switch(t){case n3.LSHAPE_AD:return new v3(this.Dst,n);case n3.SINGLE:default:return new f3(this.Dst)}},i.x1t=function(){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return n.Rhe?(n.hae=n.hae?new Date(Number(n.hae)+1e3*n.Rhe.ct):void 0,null==(i=n.rae)||i.eT(),n.rae=void 0,n.Rhe=void 0,n.Nhe(),n.aae=!0,n.Jhe=n.xR(),n._he.Lne(n.Dst.nt),n.Dst.bn(yp.FL,n.uae),n.Dst.bn(yp.FL,n.Sd),n.Dst.bn(yp.UL,n.LW),[4,n.Dst.Ca(n.Sc,(new Yo).Uw)]):[2];case 1:return e.sent(),null==(r=n.$he)||r.dr(n.Dst.we),n.$he=new f3(n.Dst),n.$he.pr(n.Dst.we,n.Dst.we.parentElement),n.D1t(n.$he),n.Dst.xI(),n.lae=!0,n.Khe=!1,n.Ahe(),t.prototype.x1t.call(n),[2]}}))}))()},i.RI=function(){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return n.$he=void 0,n.MA=void 0,n.Jhe=0,n.sae=void 0,n.hae=void 0,n.lae=!0,n.aae=!1,n.eae=!0,n.iae=!0,n.oae.jw(),n.oae=new Yo,null==(i=n.rae)||i.eT(),n.rae=void 0,n.Dst.vn(yp.FL,n.uae),[4,t.prototype.RI.call(n)];case 1:return r.sent(),[2]}}))}))()},i.BI=function(n){if(void 0!==this.$he)switch(n.type){case oa.ho:return!0;case oa.zy:if(!this.iae)return!0;this.iae=!1;break;case yp.UL:if(!this.eae)return!0;this.eae=!1;break;case yp.WL:if(this.aae)return!0;this.eae=!0;break;case oa.Qy:if(this.aae&&!this.tae)return!0;this.tae=!1;break;case oa.Jy:if(this.aae&&!this.tae)return!0;break;case oa.Dy:if(!this.lae)return!0}return t.prototype.BI.call(this,n)},n}(w4);F(),Tt(),Gt(),Dt(),Rt(),qt();var _4=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).dae=0,r.fae=0,r.kae=0,r.Eae=function(){if(r.Dst.vn(yp.VL,r.Eae),r.Tae){var t=r.Tae;t.setSeconds(r.Tae.getSeconds()+r.kae),r.Dst.bR=t,r.Tae=void 0}r.fae-=r.Dst.xR()},r.Dst=n,r.S3t=i,r}It(n,t);var i=n.prototype;return i.Wse=function(){this.dae=this.Dst.xR()+this.fae},i.Jse=function(){var t;if(void 0===this._ae){var n=this.vae;this.vae=void 0,null==(t=this.mae)||t.jw(),A4(this.Dst)&&(this.gae=new Yo,this._ae=Zo(this.pae(n,this.gae.Uw),this.gae).catch(Uo))}},i.$se=function(){var t,n=this._ae;this._ae=void 0,null==(t=this.gae)||t.jw(),this.mae=new Yo,this.vae=Zo(this.wae(n,this.mae.Uw),this.mae).catch(Uo)},i.ja=function(){return this.Dst.fH},i.yae=function(){this.bae={source:this.Dst.iu(),duration:this.Dst.jd(),currentTime:this.Dst.xR(),preload:this.Dst.iI,autoplay:this.Dst.SO}},i.Aae=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return n.Dst.iI=zT.JB,n.Dst.SO=!1,n.S3t.ZR=!0,i=n.S3t.iu(),[4,n.Dst.Ca(i,t)];case 1:return r.sent(),n.Dst.RR(n.S3t.xR()),[2]}}))}))()},i.Sae=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.bae?(n.Dst.iI=n.bae.preload,n.Dst.SO=n.bae.autoplay,[4,n.Dst.Ca(n.bae.source,t)]):[2];case 1:return i.sent(),n.bae=void 0,[2]}}))}))()},i.pae=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return[4,null==t?void 0:t.catch(bi)];case 1:return r.sent(),i.yae(),i.Tae=i.Dst.bR,[4,i.Dst.RI()];case 2:return r.sent(),[4,i.Aae(n)];case 3:return r.sent(),i.D1t(i.Dst),i.Dst.xI(),[2]}}))}))()},i.wae=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return[4,null==t?void 0:t.catch(bi)];case 1:return r.sent(),i.kae=i.S3t.xR(),i.fae=i.kae+i.zse,[4,i.Dst.RI()];case 2:return r.sent(),[4,i.S3t.RI()];case 3:return r.sent(),[4,i.Sae(n)];case 4:return r.sent(),i.D1t(i.S3t),i.Dst.bn(yp.VL,i.Eae),i.Dst.xI(),[2]}}))}))()},i.iu=function(){return this.bae?this.bae.source:t.prototype.iu.call(this)},i.jd=function(){return this.bae?this.bae.duration:t.prototype.jd.call(this)},i.aI=function(){var n=t.prototype.aI.call(this);return SA.Cn(n).xb(this.zse).ks()},i.yR=function(){var n=t.prototype.yR.call(this);return SA.Cn(n).xb(this.zse).ks()},i.nr=function(){this.fae=0,this.dae=0,this.kae=0,this.Tae=void 0,this.Dst.vn(yp.VL,this.Eae)},i.yn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.nr(),[4,t.prototype.yn.call(n)];case 1:return i.sent(),[2]}}))}))()},Nt(n,[{key:"zse",get:function(){return this.dae}},{key:"Gse",get:function(){return this.fae}}]),n}(k$);F(),Tt(),Rt();var b4=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n.prototype.Ca=function(n,i){var r;return void 0!==ho(null!=(r=null==n?void 0:n.ads)?r:[],o4)?et.reject(new id(td.CONFIGURATION_ERROR,"THEOads must be enabled in the player configuration.")):t.prototype.Ca.call(this,n,i)},n}(Vk),k4=function(t){function n(n){var i;return(i=t.call(this,n)||this).Uae=!0,i.eae=!0,i.Oae=!0,i.Lae=!1,i.Rae=function(t){if(i.Mae&&!function(t){return t instanceof J2}(i.Mae)&&i.S3t&&i.Khe)switch(t.presentationMode){case"native-picture-in-picture":i.Dae(new J2(i.Dst,i.S3t),!1,!1);break;case"fullscreen":V0(i.kd)&&i.Dae(new J2(i.Dst,i.S3t),!1,!1)}},i.Fae=function(t){A4(i.Dst)||i.Wae()},i.Vae=function(t){A4(i.Dst)||i.Wae()},i.xae(),i}It(n,t);var i=n.prototype;return i.xae=function(){this.Dst.xst.bn("presentationmodechange",this.Rae)},i.Iae=function(){this.Dst.xst.vn("presentationmodechange",this.Rae)},i.zR=function(n){n||this.KR||this.kI(),t.prototype.zR.call(this,n)},i.Ca=function(n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return[4,t.prototype.Ca.call(r,n,i)];case 1:return e.sent(),r.mhe?(r.Cae=r.mhe.backdropDoubleBox,r.Pae(),r.Dae(new q2(r.Dst,r.S3t),!1,!0),[2]):[2]}}))}))()},i.whe=function(){var t=new r0(new gL(this.Nae,this.na.kd,new IE),yS.Vg);t.iI=zT.JB,t.SO=!1,this.S3t=new _4(this.Dst,t)},i.phe=function(){t.prototype.phe.call(this),this.Nae=function(){var t=v.createElement("div");return vi(t,"theo-ads-sgai-ad-player"),t}(),mi(this.Nae),this.Vs.appendChild(this.Nae),this.koe=function(t){var n=v.createElement("div");return vi(n,"theo-ads-sgai-ima-container"),function(t){t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100%"}(n),t.appendChild(n),n}(this.Nae)},i.Ehe=function(){t.prototype.Ehe.call(this),this.Nae&&(yi(this.Nae),oi(this.Nae),this.Nae=void 0)},i.Dae=function(t,n,i){var r;void 0!==this.Mae&&(this.Mae.dr(this.we,this.khe,this.Nae),this.Mae.yn());var e=null!=(r=this.Mae)?r:this,u=null!=t?t:this.Dst;j2(e,u),null==t||t.pr(this.we,this.khe,this.Nae,e,n),this.Mae=t,i?this.fO(u):this.D1t(u)},i.Pae=function(){this.Lae||(this.Lae=!0,yi(this.khe),yi(this.Nae),o3(this.Vs),o3(this.khe),o3(this.Nae),function(t){var n=t.style;n.display="flex",n.alignItems="center"}(this.Vs))},i.Bae=function(){this.Lae&&(this.Lae=!1,a3(this.Vs),a3(this.khe),a3(this.Nae),mi(this.khe),mi(this.Nae))},i.J1t=function(){return this.S3t},i.xhe=function(){return this.koe},i.kI=function(){var n;t.prototype.kI.call(this),null==(n=this.S3t)||n.kI()},i.RR=function(n,i){this.Oae=!0,t.prototype.RR.call(this,n,i)},i.ire=function(t){var n,i;return t+(null!=(i=null==(n=this.S3t)?void 0:n.Gse)?i:0)},i.Phe=function(){var n,i;t.prototype.Phe.call(this),null==(n=this.S3t)||n.bn(oa.qy,this.Fae),null==(i=this.S3t)||i.bn(oa.Dy,this.Dhe),this.Dst.bn(oa.Gy,this.Vae)},i.Nhe=function(){var n,i;t.prototype.Nhe.call(this),null==(n=this.S3t)||n.vn(oa.qy,this.Fae),null==(i=this.S3t)||i.vn(oa.Dy,this.Dhe),this.Dst.vn(oa.Gy,this.Vae)},i.Wae=function(){var t,n,i=null==(t=this.Rhe)?void 0:t.ene;if(void 0!==i&&!(null==(n=this.Mae)?void 0:n.Zse())&&!or(this.Dst.xR(),i,.001)){var r=SA.Cn(this.S3t.yR()),e=this.S3t.aI(),u=k.min(e.end(e.length-1),i);r.YL().wr(u)&&this.Dst.RR(i,{iOt:!0})}},i.Boe=function(t,n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){switch(s.label){case 0:return u=c3(t),[4,r.She(u)];case 1:return s.sent(),[4,null==(e=r.Wre)?void 0:e.Boe(t,n,i)];case 2:return s.sent(),[2]}}))}))()},i.Lhe=function(){var n=this;return Zt((function(){var i,r,e,u;return Ht(this,(function(s){return void 0===(i=n.Rhe)?[2]:(r=i.fne,e=n.cae(r,i),n.Che(),Gn.eg&&Gn.og>=16&&Gn.og<18&&(null==(u=n.S3t)||u.RR(n.S3t.xR())),Gn.Xv&&!e.Zse()&&(a3(n.khe),mi(n.khe)),n.Dae(e,n.eae,!1),n.vhe._o(new d3(i).wa),n.Phe(),n.Khe=!0,n.Uae=!1,n.Yhe=void 0,[2,t.prototype.Lhe.call(n)])}))}))()},i.cae=function(t,n){if(A4(this.Dst))return new J2(this.Dst,this.S3t);switch(t){case n3.DOUBLE:return n._ne||n.ir({backdropUri:this.Cae}),new r3(this.Dst,this.S3t,n._ne);case n3.LSHAPE_AD:return n._ne||n.ir({backdropUri:this.yhe}),new s3(this.Dst,this.S3t,n._ne);case n3.LSHAPE_CONTENT:return n._ne||n.ir({backdropUri:this.yhe}),new u3(this.Dst,this.S3t,n._ne);case n3.SINGLE:default:return new Q2(this.Dst,this.S3t)}},i.x1t=function(){var n,i;if(void 0!==this.Rhe){this.Nhe(),Gn.Xv&&(yi(this.khe),o3(this.khe)),function(t){return t instanceof J2}(this.Mae)&&(this._he.Lne(this.Dst.nt),this.Dst.bn(yp.FL,this.Sd));var r=null==(n=this.Mae)?void 0:n.Zse();this.Dae(new q2(this.Dst,this.S3t),!0,!1),r||(this.Oae=!1,this.Dst.RR(this.Rhe.ene,{iOt:!0})),null==(i=this.S3t)||i.RI(),this.Ahe(),this.Khe=!1,this.Uae=!1,this.Rhe=void 0,t.prototype.x1t.call(this)}},i.RI=function(){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return n.eae=!0,n.Oae=!0,n.Uae=!0,n.Khe=!1,n.Dae(void 0,!1,!0),n.Bae(),[4,null==(i=n.S3t)?void 0:i.yn()];case 1:return r.sent(),n.S3t=void 0,n.koe=void 0,[4,t.prototype.RI.call(n)];case 2:return r.sent(),[2]}}))}))()},i.yn=function(){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return n.Iae(),[4,null==(i=n.S3t)?void 0:i.yn()];case 1:return r.sent(),[4,t.prototype.yn.call(n)];case 2:return r.sent(),[2]}}))}))()},i.BI=function(n){if(void 0!==this.Mae)switch(n.type){case oa.ho:if(!this.Uae)return this.Uae=!0,!0;this.eae=!0;break;case oa.zy:if(this.PR&&this.Khe)return!0;break;case yp.UL:if(!this.eae)return!0;this.eae=!1;break;case yp.WL:this.eae=!0;break;case oa.Jy:if(!this.Oae)return!0;break;case oa.Qy:if(!this.Oae)return this.Oae=!0,!0}return t.prototype.BI.call(this,n)},Nt(n,[{key:"xst",get:function(){return this.Dst.xst}}]),n}(w4);function A4(t){var n=t.xst.Ho()===_T.FULLSCREEN&&V0(t.kd);return t.fH.hO||n}Gk((function(t){return t.kd.ads.theoads?Gn.Cm||Gn.Mm||Gn.Wm?new p4(t):new k4(t):new b4(t)}),Fk.Hst),F(),Tt(),F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Dt(),Rt(),F(),Tt();var T4=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).eu=void 0,n}return It(n,t),Nt(n,[{key:"wa",get:function(){return this.eu||(this.eu=function(t){return{get casting(){return t.uQ},get state(){return t.Vft},start:function(){t.CI()},stop:function(){t.DI()},addEventListener:function(n,i){var r=Ug(n,Vg);t.bn(r,i)},removeEventListener:function(n,i){var r=Ug(n,Vg);t.vn(r,i)}}}(this)),this.eu}}]),n}(ra),S4=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Fa=BS.UNAVAILABLE,e.Yae=new Yo,e.Zae=function(){var t,n=null==(t=e.gj.iu())?void 0:t.sources.filter(sT);(null==n?void 0:n.some(xk))?e.Da(BS.AVAILABLE):e.Da(BS.UNAVAILABLE)},e.handleAirplayChangedEvent=function(){e.na&&e.na.WR?e.qae():e.Vft===BS.CONNECTED&&e.Jae()},e.handleAirplayPlayerTimeUpdate=function(t){e.Kae=t.currentTime,e.jae=e.gj.bR},e.Qgt=n,e.gj=i,e.zae=r,e.zae.be(),i.bO(r),e.Gae(),e}It(n,t);var i=n.prototype;return i.Gae=function(){this.Hae(),this.Qgt.bn(oa.uo,this.Zae),this.Da(BS.AVAILABLE)},i.Hae=function(){this.na&&this.na.vn(oa.wy,this.handleAirplayChangedEvent),this.Xae?this.na=this.gj:this.na=this.zae,this.na.bn(oa.wy,this.handleAirplayChangedEvent)},i.qae=function(){var t=this;return Zt((function(){var n,i,r;return Ht(this,(function(e){switch(e.label){case 0:return t.na?t.Xae?[3,2]:(t.Kae=t.gj.ER,t.jae=t.gj.bR,t.zae.bn(oa.hb,t.handleAirplayPlayerTimeUpdate),t.Qae=t.gj.vC,t.gj.vC=t.zae,t.Qae.EI(),t.Qae.be(),t.zae.ge(),t.zae.ZR=t.Qae.ZR,t.zae.QR=t.Qae.QR,t.zae.gI=t.Qae.gI,n=t.zae.py(oa.Qy),t.zae.ER=t.Qae.ER,[4,n]):[2];case 1:return e.sent(),t.zae.xI(),t.zae.ZR=t.Qae.ZR,t.zae.QR=t.Qae.QR,t.zae.gI=t.Qae.gI,[3,5];case 2:return t.na.KR?[3,4]:(i=new et((function(t){return g(t,800)})),r=t.na.py(oa.zy,t.Yae.Uw),[4,et.race([r,i])]);case 3:e.sent(),e.label=4;case 4:t.na.xI(),e.label=5;case 5:return t.Da(BS.CONNECTED),[2]}}))}))()},i.Jae=function(){this.Qae?(this.zae.vn(oa.hb,this.handleAirplayPlayerTimeUpdate),this.Qae.ZR=this.zae.ZR,this.Qae.QR=this.zae.QR,this.Qae.gI=this.zae.gI,Gn.eg&&!Gn.su&&this.gj.ct===1/0?this.jae?this.Qae.bR=this.jae:this.Qae.ER=1/0:this.Qae.ER=this.Kae,this.jae=void 0,this.Kae=void 0,this.Qae.ge(),this.zae.be(),this.zae.KR||this.Qae.xI(),this.gj.vC=this.Qae,this.zae.nr(),this.Qae=void 0):this.na&&(this.na.ER=this.na.ER+1e-4);this.Da(BS.AVAILABLE)},i.preloadPlayer=function(t){if(Vo(t),this.na.rI<bp.Xn){var n=this.na.py(yp.VL,t);return this.na.iI=zT.eW,n}return et.resolve()},i.Da=function(t){t!==this.Fa&&(this.Fa=t,this._o(new m$(this.Fa)))},i.CI=function(){this.Qgt.kI(),this.Yae.jw(),this.Yae=new Yo,qo(Zo(this.Xae?this.$ae(this.Yae.Uw):this.tue(this.Yae.Uw),this.Yae))},i.$ae=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.preloadPlayer(t)];case 1:return i.sent(),n.gj.CI(),[2]}}))}))()},i.tue=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return e.trys.push([0,4,,5]),[4,n.zae.nr()];case 1:if(e.sent(),void 0===(i=n.gj.iu()))throw new p("Not possible to start Airplay without a source");return[4,n.zae.Ca(i,t)];case 2:return e.sent(),r=n.zae.py(yp.UL,t),n.zae.xI(),[4,ta(r,3e3)];case 3:return e.sent(),n.zae.EI(),Vo(t),n.zae.CI(),[3,5];case 4:return Bo(e.sent())?[2]:[3,5];case 5:return[2]}}))}))()},i.DI=function(){this.na.DI()},i.yn=function(){var t;this.Ro(),this.Qgt.vn(oa.uo,this.Zae),this.Yae.jw(),this.gj.AO(this.zae),null==(t=this.zae)||t.yn()},Nt(n,[{key:"uQ",get:function(){return this.Vft===BS.CONNECTED}},{key:"Vft",get:function(){return this.Fa}},{key:"Xae",get:function(){return this.gj.II()}}]),n}(T4);F(),Tt(),Dt(),Rt();var E4=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.CI=function(){},i.DI=function(){},Nt(n,[{key:"uQ",get:function(){return!1}},{key:"Vft",get:function(){return BS.UNAVAILABLE}}]),n}(T4);F(),Tt(),Gt(),Dt(),Rt(),qt();var I4=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this)||this).tZ=void 0,a.Sc=void 0,a.cO=new Qk,a.dO=new Qk,a.Hl=new $k,a.Vs=n,a.iue=new WT(s,o,1,[qg.mE]),a.iue.AZ(n),a.eue=new Pk(n,a.iue,i,r,e,u),a.eue.oy(a.Ds),a.cO.vC=a.eue.ht,a.dO.vC=a.eue.rt,a.Hl.vC=a.eue.nt,a}It(n,t);var i=n.prototype;return i.MI=function(){this.eue.MI()},i.OI=function(t){throw new p("Can't add a track while using AirPlay.")},i.RR=function(t,n){this.eue.RR(t,n)},i.II=function(){return this.eue.II()},i.CI=function(){this.eue.CI()},i.DI=function(){this.eue.DI()},i.xI=function(){qo(this.eue.xI())},i.EI=function(){this.eue.EI()},i.RI=function(){return Zt((function(){return Ht(this,(function(t){return[2]}))}))()},i.iu=function(){return this.Sc},i.Ca=function(t,n){var i=this;return Zt((function(){var r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:if(Vo(n),i.Sc=t,nT(t.sources))r=dA({src:""});else for(e=t.sources.filter(sT),u=0;u<e.length;u++)if(xk(s=e[u])){r=s;break}if(!r)throw new p("Unsupported source.");return[4,i.eue.Ca(r,t,n)];case 1:return o.sent(),i.aZ(r),[2]}}))}))()},i.aZ=function(t){this.tZ!==t&&(this.tZ=t,this._o(new RT(t)))},i.TI=function(){return this.eue.TI()},i.pR=function(){return[]},i.kI=function(){this.iue.vZ()},i.pr=function(t){ST(this,t)},i.dr=function(){},i.LI=function(t){return!1},i.NI=function(){this.eue.NI()},i.nr=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.tZ=void 0,t.Sc=void 0,[4,t.eue.nr()];case 1:return n.sent(),[2]}}))}))()},i.ge=function(){this.eue.ge()},i.be=function(){this.eue.be()},i.SI=function(){return this.eue.SI()},i.ja=function(){return this.eue.ja()},i.yn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.Ro(),t.iue.yn(),[4,t.eue.yn()];case 1:return n.sent(),t.cO.yn(),t.dO.yn(),t.Hl.yn(),[2]}}))}))()},Nt(n,[{key:"ht",get:function(){return this.eue.ht}},{key:"wR",get:function(){return this.eue.wR}},{key:"bt",get:function(){return this.tZ}},{key:"ER",get:function(){return this.eue.ER},set:function(t){this.RR(t)}},{key:"bR",get:function(){return this.eue.bR}},{key:"ct",get:function(){return this.eue.ct}},{key:"we",get:function(){return this.Vs}},{key:"PR",get:function(){return this.eue.PR}},{key:"lt",get:function(){return this.eue.lt}},{key:"MR",get:function(){return this.eue.MR}},{key:"OR",get:function(){return this.eue.OR}},{key:"WR",get:function(){return this.eue.WR}},{key:"AI",get:function(){return this.eue.AI}},{key:"yI",get:function(){return this.eue.yI}},{key:"GR",get:function(){return this.eue.GR}},{key:"ZR",get:function(){return this.eue.ZR},set:function(t){this.eue.ZR=t}},{key:"qR",get:function(){return this.eue.qR}},{key:"KR",get:function(){return this.eue.KR}},{key:"QR",get:function(){return this.eue.QR},set:function(t){this.eue.QR=t}},{key:"tI",get:function(){return this.eue.tI}},{key:"iI",get:function(){return this.eue.iI},set:function(t){this.eue.iI=t}},{key:"rI",get:function(){return this.eue.rI}},{key:"hI",get:function(){return this.eue.hI}},{key:"uI",get:function(){return this.eue.uI}},{key:"nt",get:function(){return this.eue.nt}},{key:"dI",get:function(){return this.eue.dI}},{key:"vI",get:function(){return this.eue.vI}},{key:"rt",get:function(){return this.eue.rt}},{key:"gI",get:function(){return this.eue.gI},set:function(t){this.eue.gI=t}}]),n}(ua),R4=function(t){function n(n){var i;i=t.call(this,n)||this;var r=new I4(i.Ta.we,i.fR,i.kd,i.vst,i.yI,i.yst,i.Wl);return i.sue=new S4(i,i.Ta,r),i.Iz._Q(i.sue),i.bn(oa.xy,(function(){i.sue.Hae()})),i}return It(n,t),n.prototype.yn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.sue.yn(),[4,t.prototype.yn.call(n)];case 1:return i.sent(),[2]}}))}))()},n}(Vk);Gk((function(t){return Kn.Ys.jg?new R4(t):(t.Iz._Q(new E4),t)}),Fk.Zst),F(),Tt(),F(),Tt(),Dt();var C4="VPAID",N4=function(){function t(){this.nue=new Z0}var n=t.prototype;return n.CZ=function(t){return D4(t)},n.t2t=function(n,i,r){return r.ads||(r.ads=eT({})),r.ads.vpaidMode=r.ads.vpaidMode||t.rue(),this.nue.t2t(n,i,r)},n.g6=function(n,i,r,e){!function(t){if(!D4(t))throw new p("Unknown ad integration: "+t.integration)}(n);var u=t.oue(n,r.we);this.nue.g6(u,i,r,e)},n.qz=function(t){var n=Cg(t);if(!S(n.id))return n.queryParameters||(n.queryParameters={}),n.custom&&(n.queryParameters.custom?Yr('"custom" parameter is redefined in queryParameters! Please use "queryParameters.custom" only!'):(n.queryParameters.custom=n.custom,delete n.custom)),n.app&&(n.queryParameters.app?Yr('"app" parameter is redefined in queryParameters! Please use "queryParameters.app" only!'):(n.queryParameters.app=n.app,delete n.app)),n.device&&(n.queryParameters.device?Yr('"device" parameter is redefined in queryParameters! Please use "queryParameters.device" only!'):(n.queryParameters.device=n.device,delete n.device)),n.user&&(n.queryParameters.user?Yr('"user" parameter is redefined in queryParameters! Please use "queryParameters.user" only!'):(n.queryParameters.user=n.user,delete n.user)),n.ipAddress&&(n.queryParameters.ip_addr?Yr('"ipAddress" parameter is redefined in queryParameters! Please use "queryParameters.ip_addr" or "ipAddress" only!'):(n.queryParameters.ip_addr=n.ipAddress,delete n.ipAddress)),n.maximumAdDuration&&(n.queryParameters.VMaxd?Yr('"maximumAdDuration" parameter is redefined in queryParameters! Please use "queryParameters.VMaxd" or "maximumAdDuration" only!'):(n.queryParameters.VMaxd=n.maximumAdDuration,delete n.maximumAdDuration)),n},t.oue=function(n,i){return{integration:mS.SPOTX,sources:{src:t.hue(n,f.location.href,i.offsetWidth,i.offsetHeight,Gn.Cg)}}},t.hue=function(n,i,r,e,u){if(n.sources)return n.sources;var s=e,o=r;u&&0===o&&(o=320,s=180);var a={custom_skin:1,player_width:o,player_height:s};n.cacheBuster&&(a.cb=k.random()),t.aue(i)&&(a.content_page_url=i);var c=ns({},a,n.queryParameters);return c[C4]||c.VPI||(c[C4]="js"),"https://search.spotxchange.com/vast/2.0/"+n.id+"?"+t.uue(c)},t.aue=function(t){return Fs(t,"http://")||Fs(t,"https://")},t.uue=function(t){return sQ(t)},t.rue=function(){return Gn.Gm?VA.ENABLED:VA.INSECURE},Nt(t,[{key:"$1t",get:function(){return this.nue.$1t}}]),t}();function D4(t){return"spotx"===t.integration}yS.Vg.PZ(new N4),F(),Tt(),F(),Tt(),Rt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt();var P4=k.PI/180,x4=180/k.PI,L4=function(){function t(t,n){this.x=t||0,this.y=n||0}var n=t.prototype;return n.Bb=function(t,n){return this.x=t,this.y=n,this},n.p_t=function(t){return this.x=t.x,this.y=t.y,this},n.lue=function(t){return this.Bb(t[0],t[1])},n.due=function(){var t=new Float32Array(2);return t[0]=this.x,t[1]=this.y,t},n.fue=function(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this},t}(),M4=function(){function t(t,n,i){this.x=t||0,this.y=n||0,this.z=i||0}var n=t.prototype;return n.Bb=function(t,n,i){return this.x=t,this.y=n,this.z=i,this},n.p_t=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},n.lue=function(t){return this.Bb(t[0],t[1],t[2])},n.due=function(){var t=new Float32Array(3);return t[0]=this.x,t[1]=this.y,t[2]=this.z,t},n.V=function(){return k.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},n._ue=function(){var t=this.V();if(0!==t){var n=1/t;this.vue(n)}else this.x=0,this.y=0,this.z=0;return this},n.vue=function(t){this.x*=t,this.y*=t,this.z*=t},n.mue=function(t){var n=this.x,i=this.y,r=this.z,e=t.x,u=t.y,s=t.z,o=t.w,a=o*n+u*r-s*i,c=o*i+s*n-e*r,h=o*r+e*i-u*n,f=-e*n-u*i-s*r;return this.x=a*o+f*-e+c*-s-h*-u,this.y=c*o+f*-u+h*-e-a*-s,this.z=h*o+f*-s+a*-u-c*-e,this},n.gue=function(t){return this.x*t.x+this.y*t.y+this.z*t.z},n.pue=function(t,n){var i=t.x,r=t.y,e=t.z,u=n.x,s=n.y,o=n.z;return this.x=r*o-e*s,this.y=e*u-i*o,this.z=i*s-r*u,this},t}(),O4=function(){function t(t,n,i,r){this.x=t||0,this.y=n||0,this.z=i||0,this.w=void 0!==r?r:1}var n=t.prototype;return n.Bb=function(t,n,i,r){return this.x=t,this.y=n,this.z=i,this.w=r,this},n.p_t=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w,this},n.lue=function(t){return this.Bb(t[0],t[1],t[2],t[3])},n.due=function(){var t=new Float32Array(4);return t[0]=this.x,t[1]=this.y,t[2]=this.z,t[3]=this.w,t},n.gue=function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},n.tV=function(t){return this.wue(this,t)},n.wue=function(t,n){var i=t.x,r=t.y,e=t.z,u=t.w,s=n.x,o=n.y,a=n.z,c=n.w;return this.x=i*c+u*s+r*a-e*o,this.y=r*c+u*o+e*s-i*a,this.z=e*c+u*a+i*o-r*s,this.w=u*c-i*s-r*o-e*a,this},n.yue=function(){return this.x*=-1,this.y*=-1,this.z*=-1,this._ue(),this},n.bue=function(){var t,n,i,r=this.x,e=this.y,u=this.z,s=this.w,o=r*e+u*s;if(o>.499)t=2*k.atan2(r,s),n=k.PI/2,i=0;else if(o<-.499)t=-2*k.atan2(r,s),n=-k.PI/2,i=0;else{var a=r*r,c=e*e,h=u*u;t=k.atan2(2*e*s-2*r*u,1-2*c-2*h),n=k.asin(2*o),i=k.atan2(2*r*s-2*e*u,1-2*a-2*h)}return new B4(t,i,n)},n._ue=function(){var t=k.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return 0===t?(this.x=0,this.y=0,this.z=0,this.w=1):(t=1/t,this.x=this.x*t,this.y=this.y*t,this.z=this.z*t,this.w=this.w*t),this},t}(),B4=function(){function t(t,n,i){this.Aue=t||0,this.Sue=n||0,this.Tue=i||0}var n=t.prototype;return n.Bb=function(t,n,i){return this.Aue=t,this.Sue=n,this.Tue=i,this},n.p_t=function(t){return this.Bb(t.Aue,t.Sue,t.Tue)},n.kO=function(t){return this.Aue+=t.Aue,this.Sue+=t.Sue,this.Tue+=t.Tue,this},n.kF=function(t){return this.Aue-=t.Aue,this.Sue-=t.Sue,this.Tue-=t.Tue,this},n.kue=function(){var t=this.Aue,n=this.Tue,i=this.Sue,r=k.cos(t/2),e=k.cos(n/2),u=k.cos(i/2),s=k.sin(t/2),o=k.sin(n/2),a=k.sin(i/2),c=r*e,h=s*o;return new O4(c*a+h*u,s*e*u+r*o*a,r*o*u-s*e*a,c*u-h*a)},t}();F(),Tt();var V4=["Eue","wat","xue","error"];F(),Tt();var F4=function(t){return t.Rs="unavailable",t.Rue="available",t.Xa="presenting",t}({});F(),Tt();var U4=function(){function t(t,n){var i=this;this.qe=!1,this.Zue=new L4,this.Xue=new L4,this.Gue=new L4,this.Fue=!1,this.Iue=function(t){i.Zue.Bb(t.clientX,t.clientY),i.Fue=!0,t.preventDefault(),t.stopPropagation()},this.Cue=function(t){t.touches&&1===t.touches.length&&(i.Zue.Bb(t.touches[0].pageX,t.touches[0].pageY),i.Fue=!0,t.preventDefault())},this.ar=function(t){if(i.Fue||i.Hue()){if(i.Hue()){var n=t.movementX||t.mozMovementX||0,r=t.movementY||t.mozMovementY||0;i.Xue.Bb(i.Zue.x-n,i.Zue.y-r)}else i.Xue.Bb(t.clientX,t.clientY);i.Gue.fue(i.Xue,i.Zue),i.Zue.p_t(i.Xue),i.Vue()}},this.Pue=function(t){i.Fue&&(i.Xue.Bb(t.touches[0].pageX,t.touches[0].pageY),i.Gue.fue(i.Xue,i.Zue),i.Zue.p_t(i.Xue),i.Vue())},this.Due=function(){i.Oue()},this.Nue=function(){i.Oue()},this.Bue=function(){i.Oue()},this.Uue=t,this.Vs=n}var n=t.prototype;return n.hW=function(){this.qe||(this.qe=!0,this.Vs.addEventListener("mousedown",this.Iue),this.Vs.addEventListener("touchstart",this.Cue),f.addEventListener("mousemove",this.ar),f.addEventListener("touchmove",this.Pue),f.addEventListener("mouseup",this.Due),f.addEventListener("touchend",this.Nue),this.Mue(f))},n.aW=function(){this.qe&&(this.qe=!1,this.Vs.removeEventListener("mousedown",this.Iue),this.Vs.removeEventListener("touchstart",this.Cue),f.removeEventListener("mousemove",this.ar),f.removeEventListener("touchmove",this.Pue),f.removeEventListener("mouseup",this.Due),f.removeEventListener("touchend",this.Nue),this.Lue(f))},n.Mue=function(t){if(function(t){try{return Boolean(t)&&t===t.top}catch(t){return!1}}(t));else if(_i(t))try{t.parent.addEventListener("mouseup",this.Due),this.Mue(t.parent)}catch(n){t.document.documentElement.addEventListener("mouseleave",this.Bue)}},n.Lue=function(t){if(t.document.documentElement.removeEventListener("mouseleave",this.Bue),_i(t))try{t.parent.removeEventListener("mouseup",this.Due),this.Lue(t.parent)}catch(t){}},n.Oue=function(){this.Fue=!1},n.Vue=function(){var t=this.Uue.Wue;t.yaw+=2*k.PI*this.Gue.x*.4/this.Vs.clientWidth,t.pitch+=2*k.PI*this.Gue.y*.5/this.Vs.clientHeight,t.pitch=sr(t.pitch,-k.PI/2,k.PI/2),this.Uue.Wue=t},n.Hue=function(){return(v.pointerLockElement||v.mozPointerLockElement||v.webkitPointerLockElement)===this.Vs},n.yn=function(){this.aW()},t}();F(),Tt(),Rt();var W4=function(t){function n(){return t.call(this,"xue")||this}return It(n,t),n.prototype.ka=function(){return new Z4},n}(gg),Z4=function(t){function n(){return t.call(this,"stereochange")||this}return It(n,t),n}(sa);F(),Tt(),Ut();var X4=function(){function t(){this.HQ=[0,0,0,1],this.Kue=[]}var n=t.prototype;return n.zue=function(t){var n;(n=t).clearColor.apply(n,Ft(this.HQ)),t.clear(t.COLOR_BUFFER_BIT)},n.Yue=function(t,n){t.clearDepth(1),t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),t.clear(t.DEPTH_BUFFER_BIT),this.Kue.forEach((function(i){i.Yue(t,n)}))},n.jue=function(t){this.Kue.push(t)},n.Que=function(){this.Kue=[]},t}();F(),Tt(),Rt(),F(),Tt(),Ut(),F(),Tt(),Rt();var G4=function(){function t(t,n,i,r,e){this.$ue=t,this.zb=this.Jue(t,n,i),this.tce=r,this.Sp=e,this.ece=!1,this.sce=0,this.rc=0}return t.prototype.Jue=function(t,n,i){var r=t.createBuffer();return null===r?(Yr("Failed to create buffer."),null):(t.bindBuffer(n,r),t.bufferData(n,i,t.STATIC_DRAW),r)},t}(),H4=function(t){function n(n,i,r){return t.call(this,n,n.ARRAY_BUFFER,i,r,n.FLOAT)||this}It(n,t);var i=n.prototype;return i.hW=function(t){if(null!==this.zb)if(null!==t){var n=this.$ue;n.bindBuffer(n.ARRAY_BUFFER,this.zb),n.vertexAttribPointer(t,this.tce,this.Sp,this.ece,this.sce,this.rc),n.enableVertexAttribArray(t)}else Yr("Attempted to enable attribute without location.");else Yr("Attempted to enable buffer that failed to initialize.")},i.aW=function(t){t&&this.$ue.disableVertexAttribArray(t)},n}(G4);var z4=function(t){function n(n,i){var r;return(r=t.call(this,n,n.ELEMENT_ARRAY_BUFFER,i,1,n.UNSIGNED_SHORT)||this).rce=i.length,r}return It(n,t),n.prototype.nce=function(){var t=this.$ue;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.zb),t.drawElements(t.TRIANGLES,this.rce,this.Sp,this.rc)},n}(G4);F(),Tt();var Y4=function(t){return t.VertexPos="aVertexPosition",t.VertexUV="aVertexUV",t.VertexColor="aVertexColor",t}({}),j4=function(t){return t.ProjectionMat="uProjectionMatrix",t.ModelViewMat="uModelViewMatrix",t.Texture="uTexture",t}({}),K4=function(t){return t.Normal="vNormal",t.Color="vColor",t.UV="vUV",t}({}),q4=function(){function t(t,n,i){this.$ue=t,this.uce=this.oce(this.$ue,n,i)}var n=t.prototype;return n.oce=function(t,n,i){var r=this.hce(t,t.VERTEX_SHADER,n),e=this.hce(t,t.FRAGMENT_SHADER,i);if(null===r||null===e)return Yr("Failed to create vertex or fragment shader."),null;var u=t.createProgram();return null===u?(Yr("Failed to create shader program"),null):(t.attachShader(u,r),t.attachShader(u,e),t.linkProgram(u),t.getProgramParameter(u,t.LINK_STATUS)?u:(Yr("Failed to initialize shader program"),null))},n.hce=function(t,n,i){var r=t.createShader(n);if(null===r)return Yr("failed to create shader."),null;if(t.shaderSource(r,i),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS)){var e=t.getShaderInfoLog(r);return Yr("Failed to compile shader with error: "+e),t.deleteShader(r),null}return r},n.ace=function(){return this.uce},n.cce=function(t){var n=this.uce;if(null===n)return Yr("Attempted to retrieve attribute location when shader program was not initialized"),null;var i=this.$ue.getAttribLocation(n,t);return-1===i?null:i},n.lce=function(t){var n=this.uce;if(null===n)return Yr("Attempted to retrieve uniform location when shader program was not initialized"),null;var i=this.$ue.getUniformLocation(n,t);return null===i&&jr("Attempted to retrieve nonexistent uniform: "+t),i},t}(),J4=function(){function t(t,n,i){this.fce=t,this._ce=n,this.vce=i}var n=t.prototype;return n.dce=function(){var t,n=this.fce.length,i=(t=k).max.apply(t,Ft(this._ce));return i>=n?(jr("Created geometry where largest index ("+i+") is larger than/equal to attribute array size ("+n+")"),!1):(i<n-1&&Yr("Created geometry where largest index ("+i+") is smaller than attribute buffer - 1 ("+(n-1)+") resulting in unused vertices"),!this.vce||this.vce.length===n||(jr("Created geometry where position ("+n+") and uv ("+this.vce.length+") buffers have different length."),!1))},n.mce=function(t,n){if(!this.dce())throw new p("Failed to validate buffers for WebGLGeometry.");var i=function(t,n){var i=[];return n.forEach((function(t){i.push(t.x,t.y,t.z)})),new H4(t,new Float32Array(i),3)}(t,this.fce),r=function(t,n){return new z4(t,new Uint16Array(n))}(t,this._ce),e=function(t,n){var i=[];return n.forEach((function(t){i.push(t.x,t.y)})),new H4(t,new Float32Array(i),2)}(t,this.vce);return new Q4(i,r,e,n)},t}(),Q4=function(){function t(t,n,i,r){this.fce=t;var e=r.cce(Y4.VertexPos);if(null===e)throw new p("Failed to get position attribute location.");this.pce=e,this.vce=i,this.wce=r.cce(Y4.VertexUV),this._ce=n}var n=t.prototype;return n.gce=function(){this.fce.hW(this.pce),null!==this.wce&&this.vce.hW(this.wce)},n.yce=function(){this.fce.aW(this.pce),null!==this.wce&&this.vce.aW(this.wce)},n.Yue=function(){this._ce.nce()},t}(),$4=function(t){function n(n,i,r,e,u,s,o){void 0===n&&(n=1),void 0===i&&(i=32),void 0===r&&(r=16),void 0===e&&(e=0),void 0===u&&(u=2*k.PI),void 0===s&&(s=0),void 0===o&&(o=k.PI);for(var a=0,c=k.min(s+o,k.PI),h=[],f=[],v=[],d=[],l=0;l<=r;l++){var g=[],w=l/r,m=0;0===l&&0===s?m=.5/i:l===r&&c===k.PI&&(m=-.5/i);for(var y=0;y<=i;y++){var p=y/i,_=-n*k.cos(e+p*u)*k.sin(s+w*o),b=n*k.cos(s+w*o),A=n*k.sin(e+p*u)*k.sin(s+w*o);f.push(new M4(_,b,A)),v.push(new L4(p+m,1-w)),g.push(a++)}d.push(g)}for(var T=0;T<r;T++)for(var S=0;S<i;S++){var E=d[T][S+1],I=d[T][S],R=d[T+1][S],C=d[T+1][S+1];(0!==T||s>0)&&h.push(E,I,C),(T!==r-1||c<k.PI)&&h.push(I,R,C)}return t.call(this,f,h,v)||this}return It(n,t),n}(J4);F(),Tt(),F(),Tt();var t5=[0,0,0,255,0,0,0,255,0,0,0,255,0,0,0,255],n5=function(){function t(t,n){if(this.$ue=t,this.Sce=t.createTexture(),null===this.Sce)throw new p("Failed to create texture");var i=n.lce(j4.Texture);if(null===i)throw new p("Failed to get texture location.");this.Tce=i,t.bindTexture(t.TEXTURE_2D,this.Sce),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),this.Ace=t.TEXTURE0,this.W1=0,this.Ece=t.RGBA,this.xce=t.RGBA,this.Rce=t.UNSIGNED_BYTE,t.texImage2D(t.TEXTURE_2D,this.W1,this.Ece,2,2,0,this.xce,this.Rce,new E(t5))}var n=t.prototype;return n.bce=function(){var t=this.$ue;t.activeTexture(this.Ace),t.bindTexture(t.TEXTURE_2D,this.Sce)},n.pr=function(){var t=this.$ue;t.activeTexture(this.Ace),t.bindTexture(t.TEXTURE_2D,this.Sce),t.uniform1i(this.Tce,0)},n.kce=function(t){var n=this.$ue;n.bindTexture(n.TEXTURE_2D,this.Sce),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!0),n.texImage2D(n.TEXTURE_2D,this.W1,this.Ece,this.xce,this.Rce,t),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!1)},n.Ice=function(t){var n=this.$ue;n.bindTexture(n.TEXTURE_2D,this.Sce),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!0),t.Rst.AY(n,n.TEXTURE_2D,this.W1,this.Ece,this.xce,this.Rce),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!1)},t}(),i5="\n    attribute vec4 "+Y4.VertexPos+";\n    attribute vec2 "+Y4.VertexUV+";\n\n    uniform mat4 "+j4.ModelViewMat+";\n    uniform mat4 "+j4.ProjectionMat+";\n    \n    varying mediump vec2 "+K4.UV+";\n    \n    void main() {\n      gl_Position = "+j4.ProjectionMat+" * "+j4.ModelViewMat+" * "+Y4.VertexPos+";\n      "+K4.UV+" = "+Y4.VertexUV+";\n    }\n",r5="\n    varying mediump vec2 "+K4.UV+";\n    \n    uniform sampler2D "+j4.Texture+";\n\n    void main() {\n      gl_FragColor = texture2D("+j4.Texture+", "+K4.UV+");\n    }\n",e5=function(){function t(t){this.$ue=t,this.uce=new q4(t,i5,r5),this.Sce=new n5(t,this.uce)}var n=t.prototype;return n.ace=function(){return this.uce},n.hW=function(){this.$ue.useProgram(this.uce.ace()),this.Sce.pr()},n.Cce=function(t){this.Sce.kce(t)},n.Pce=function(t){this.Sce.Ice(t)},t}();F(),Tt(),Dt(),F(),Tt();var u5=V(_n()),s5=V(bn()),o5=(V(kn()),V(An())),a5=(V(Tn()),V(Sn())),c5=V(En()),h5=V(In()),f5=V(Rn()),v5=V(Cn()),d5=function(){function t(t,n,i,r){this.fo=new M4,this.Uce=new M4,this.Nce="none",this.Lce=i;var e=i.ace();this.Mce=n.mce(t,e),r&&(this.Nce=r);var u=e.lce(j4.ModelViewMat);if(null===u)throw new p("Failed to get model view matrix location.");this.Fce=u;var s=e.lce(j4.ProjectionMat);if(null===s)throw new p("Failed to get projection matrix location.");this.Wce=s}var n=t.prototype;return n.Yue=function(t,n){if(this.Dce(n.Nce)){this.Mce.gce(),this.Lce.hW();var i=this.Bce,r=n.Oce,e=(0,c5.default)(r,r,i);t.uniformMatrix4fv(this.Fce,!1,e);var u=n.Vce;t.uniformMatrix4fv(this.Wce,!1,u),this.Mce.Yue(),this.Mce.yce()}},n.Dce=function(t){return"none"===this.Nce||"right"!==t&&"left"===this.Nce||"right"===t&&"right"===this.Nce},Nt(t,[{key:"Bce",get:function(){var t=(0,u5.default)(),n=this.fo;return(0,v5.default)(t,t,n.due()),(0,f5.default)(t,t,this.Uce.x,new Float32Array([1,0,0])),(0,f5.default)(t,t,this.Uce.y,new Float32Array([0,1,0])),(0,f5.default)(t,t,this.Uce.z,new Float32Array([0,0,1])),t}}]),t}();F(),Tt(),Dt();var l5=function(){function t(t){this.Hce=72*k.PI/180,this.Zce=1.77,this.Xce=.1,this.zce=100,this.Nce="none",this.jce=new M4,this.Qce=new O4,this.Yce=this.Gce(),this.$ce=this.Kce(),t&&(this.Nce=t)}var n=t.prototype;return n.Gce=function(){var t=(0,u5.default)();return(0,h5.default)(t,this.Hce,this.Zce,this.Xce,this.zce)},n.qce=function(){this.Yce=this.Gce()},n.Kce=function(){var t=(0,u5.default)(),n=(0,o5.default)((0,u5.default)(),this.jce.due()),i=(0,s5.default)((0,u5.default)(),this.Qce.due());return(0,c5.default)(t,n,i),(0,a5.default)(t,t),t},n.Jce=function(){this.$ce=this.Kce()},n.tle=function(){this.Jce(),this.qce()},n.nr=function(){this.jce=new M4,this.Uce=new O4,this.tle()},n.ele=function(t){var n=this.Qce.bue();n.kO(t),this.Uce=n.kue()},n.sle=function(t){this.Uce=t.kue()},Nt(t,[{key:"Vce",get:function(){return new Float32Array(this.Yce)},set:function(t){this.Yce=t}},{key:"Oce",get:function(){return new Float32Array(this.$ce)}},{key:"nle",get:function(){return this.Hce},set:function(t){this.Hce=t,this.qce()}},{key:"rle",get:function(){return this.Zce},set:function(t){this.Zce=t,this.qce()}},{key:"fo",get:function(){return(new M4).p_t(this.jce)},set:function(t){this.jce=t,this.Jce()}},{key:"Uce",get:function(){return(new O4).p_t(this.Qce)},set:function(t){this.Qce=t,this.Jce()}}]),t}();F(),Tt(),Rt();var g5=function(t){function n(){return t.call(this,"Eue")||this}return It(n,t),n.prototype.ka=function(){return new w5},n}(gg),w5=function(t){function n(){return t.call(this,"directionchange")||this}return It(n,t),n}(sa),m5=1e-4,y5=function(t){function n(n){var i;return(i=t.call(this)||this).vW=new Yo,i.fle=!1,i.rde=!1,i.ude=new O4,i.vde=new O4,i.cde=new O4,i.Hce=74,i.Kle=!1,i.MT=void 0,i.yle=US.NONE,i.ide=!1,i.sde=WS.NONE,i.Ale=new X4,i.Dle=null,i.Yle=null,i.Nle=null,i.Ole=null,i.Vle=!1,i.Wle=null,i.zle=null,i.Xle=null,i.$le=0,i.jle=!1,i.hle=function(){var t=i.fle;i.dle().then((function(){i.fle?t||i.Dle||i.Yle||i.vle():i.cNt("Inline session not available. Panorama functionality will not work.",td.VR_PRESENTATION_ERROR)}))},i.co=function(){var t;i.Ele(),i.Rle(),null==(t=l.xr)||t.removeEventListener("devicechange",i.hle);var n=i._de();i.MT=n,i.ede=Yn(n),i.yle=(null==n?void 0:n.stereoMode)||US.NONE,i.wle=(null==n?void 0:n.panoramaMode)||WS.NONE,n&&(i.ule(),i.vle(),i.ole())},i.kle=function(){i.Ple()},i.Cle=function(){i.Ble&&(i.xle(),i.Ble.removeEventListener("end",i.Cle),i.Ble.end().catch(bi),i.Ble=null,i.Ole=null,i.Vle=!1,i.Dle?i.Mle():i.Ple())},i.gn=function(){i.Tle()},i.Hle=function(t,n){if(i.$ue){var r=i.$ue,e=i.Gle;if(null===i.Xle&&i.Jle()&&(i.Sle.Pce(i.na),i.$le>0&&(i.$le-=1)),null!==e&&void 0!==n){i.Wle=e.requestAnimationFrame(i.Hle);var u=e.renderState.baseLayer,s=n.getViewerPose(i.hde);if(void 0!==u&&void 0!==s){r.bindFramebuffer(r.FRAMEBUFFER,u.framebuffer);for(var o=new B4,a=0,c=0,h=s.views;c<h.length;c++){var f=h[c],v=new l5(f.eye);if(v.Vce=f.projectionMatrix,i.qle()){var d=void 0;if(Gn.Qs&&Gn.pm&&null===i.Yle){if(0===(d=f.transform.inverse.orientation).x&&0===d.y&&0===d.z&&1===d.w)return}else d=f.transform.orientation;v.Uce=new O4(d.x,d.y,d.z,d.w)}i.Dle&&v.ele(i.cde.bue()),o=o.kO(v.Uce.bue()),a+=1;var l=u.getViewport(f);l&&r.viewport(l.x,l.y,l.width,l.height),i.Ale.Yue(r,v)}var g=new B4(o.Aue/a,o.Sue/a,o.Tue);i.ude=g.kue(),function(t,n){var i=t.gue(n);return 1-i*i<m5}(i.ude,i.vde)||(i.vde.p_t(i.ude),i._o(new g5))}}}},i.PX=function(){i.$le=5},i.na=n,i.wa=function(t){var n,i={get stereo(){return t.lde},set stereo(n){t.lde=n},get useDeviceMotionControls(){return t.dde},set useDeviceMotionControls(n){t.dde=n},get direction(){return t.ade},set direction(n){t.ade=n},get verticalFOV(){return t.fde},set verticalFOV(n){t.fde=n},get canPresentVR(){return t.ode},get state(){return t.Vft},addEventListener:function(t,i){n.bn(t,i)},removeEventListener:function(t,i){n.vn(t,i)}};return n=new rR(t,V4,i),i}(i),i.ale(),i}It(n,t);var i=n.prototype;return i.ole=function(){l.xr?(l.xr.addEventListener("devicechange",this.hle),this.hle()):this.cNt("Your browser does not support WebXR",td.VR_PLATFORM_UNSUPPORTED)},i.ale=function(){this.na.Sa.bn(KT.da,this.gn),this.na.bn(sI.mn,this.gn),this.na.bn(oa.uo,this.co),this.na.bn(oa.Qy,this.PX)},i.ule=function(){var t;this.cle||(this.cle=v.createElement("canvas"),this.cle.className="theoplayer-vr",this.cle.style.zIndex="2",this.cle.style.background="black",this.cle.style.display="none",this.na.we.appendChild(this.cle),mi(this.cle));var n=null!=(t=this.cle.getContext("webgl2"))?t:this.cle.getContext("webgl");n?(this.$ue=n,this.lle=new U4(this,this.cle)):this.cNt("Your browser does not support WebGL",td.VR_PLATFORM_UNSUPPORTED)},i.dle=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return l.xr?[4,et.all([l.xr.isSessionSupported("inline").then((function(n){t.fle=n})).catch((function(n){t.fle=!1,t.cNt("exception when calling xr.isSessionSupported for inline session: "+n,td.VR_PRESENTATION_ERROR)})),l.xr.isSessionSupported("immersive-vr").then((function(n){t._le=n})).catch((function(n){t._le=!1,t.cNt("exception when calling xr.isSessionSupported for immersive-vr session: "+n,td.VR_PRESENTATION_ERROR)}))])]:(t.fle=!1,t._le=!1,[2]);case 1:return n.sent(),[2]}}))}))()},i.vle=function(){this.mle&&(this.ple(this.wle,this.yle),this.ble())},i.ple=function(t,n){var i=this.$ue;if(i&&t!==WS.NONE){var r,e;this.Ale.Que(),t===WS.PM360?(r=2*k.PI,e=-k.PI/2):(r=k.PI,e=-k.PI);for(var u=new $4(16,60,40,0,r),s=[],o=[],a=0;a<u.vce.length;a++){var c=u.vce[a];switch(n){case US.NONE:s.push(c),o.push(c);break;case US.VERTICAL:s.push(new L4(c.x,.5*c.y)),o.push(new L4(c.x,.5*c.y+.5));break;case US.HORIZONTAL:s.push(new L4(.5*c.x,c.y)),o.push(new L4(.5*c.x+.5,c.y))}}u.fce.forEach((function(t){t.x*=-1}));var h=new J4(u.fce,u._ce,s),f=new J4(u.fce,u._ce,o);this.Sle=new e5(i);var v=new d5(i,h,this.Sle,"left");v.Uce.y=e,this.Ale.jue(v);var d=new d5(i,f,this.Sle,"right");d.Uce.y=e,this.Ale.jue(d)}},i.ble=function(){this.$ue&&(this.cle.style.display="block",this.Tle(),this.na.vn(oa.ho,this.kle),this.fle&&(this.na.KR?this.na.bn(oa.ho,this.kle):this.kle()))},i.Ele=function(){this.xle(),this.na.vn(oa.ho,this.kle),this.cle&&(this.cle.style.display="none")},i.Rle=function(){this.Ile(),this.Cle()},i.Ple=function(){var t=this;return Zt((function(){var n,i,r,e;return Ht(this,(function(u){switch(u.label){case 0:if(t.Dle||!t.fle)return[2];u.label=1;case 1:return u.trys.push([1,5,,6]),[4,Wo(l.xr.requestSession("inline"),t.vW.Uw)];case 2:return n=u.sent(),i=Gn.Qs?Gn.pm?"viewer":"local":"viewer",[4,n.requestReferenceSpace(i)];case 3:return r=u.sent(),n.addEventListener("end",t.Ile),t.Nle=r,t.Dle=n,t.lle.hW(),t.Mle(),[4,n.updateRenderState({baseLayer:new XRWebGLLayer(n,t.$ue),inlineVerticalFieldOfView:t.Hce*P4})];case 4:return u.sent(),[3,6];case 5:return e=u.sent(),t.Ile(),t.cNt(e,td.VR_PRESENTATION_ERROR),[3,6];case 6:return[2]}}))}))()},i.Ile=function(){this.Dle&&(this.xle(),this.lle.aW(),this.Dle.removeEventListener("end",this.Ile),this.Dle.end().catch(bi),this.Dle=null,this.Tle())},i.Lle=function(){var t=this;return Zt((function(){var n,i,r;return Ht(this,(function(e){switch(e.label){case 0:if(t.Ble||!t._le)return[2];t.xle(),e.label=1;case 1:return e.trys.push([1,5,,6]),[4,Wo(l.xr.requestSession("immersive-vr"),t.vW.Uw)];case 2:return[4,(n=e.sent()).requestReferenceSpace("local")];case 3:return i=e.sent(),n.addEventListener("end",t.Cle),t.Ole=i,t.Ble=n,[4,t.Fle()];case 4:return e.sent(),t.Mle(),[3,6];case 5:return r=e.sent(),t.Cle(),t.cNt(r,td.VR_PRESENTATION_ERROR),[3,6];case 6:return[2]}}))}))()},i.Fle=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:return n=t.$ue,i=t.Ble,t.cle&&n&&i&&!t.Vle?(t.cle.addEventListener("webglcontextlost",(function(t){t.preventDefault()})),t.cle.addEventListener("webglcontextrestored",(function(){t.ple(t.wle,t.yle)})),t.Vle=!0,[4,n.makeXRCompatible()]):[2];case 1:return r.sent(),[4,i.updateRenderState({baseLayer:new XRWebGLLayer(i,n)})];case 2:return r.sent(),[2]}}))}))()},i.Tle=function(){if(!this.Ble&&this.$ue){var t=this.$ue,n=this.cle.clientWidth,i=this.cle.clientHeight;if(0===n||0===i)return;var r=Kn.Ys.Kg;this.cle.width=n*r,this.cle.height=i*r,t.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight)}},i.Mle=function(){null===this.Wle&&(this.Ule(),this.Gle?this.Wle=this.Gle.requestAnimationFrame(this.Hle):this.Zle())},i.xle=function(){null!==this.Wle&&(this.Zle(),this.Gle&&this.Gle.cancelAnimationFrame(this.Wle),this.Wle=null)},i.Ule=function(){var t=this;if(null===this.Xle){var n=this.na.TI();if(void 0!==n&&n instanceof HTMLVideoElement&&"function"==typeof n.requestVideoFrameCallback){var i=function(){t.Sle.Pce(t.na),t.Xle=n.requestVideoFrameCallback(i)};this.zle=n,this.Xle=n.requestVideoFrameCallback(i)}}},i.Zle=function(){var t,n;null!==this.Xle&&(null==(n=this.zle)||null==(t=n.cancelVideoFrameCallback)||t.call(n,this.Xle),this.zle=null,this.Xle=null)},i.qle=function(){return!!this.Yle||(Gn.su?this.Kle&&this.jle:this.Kle)},i.Qle=function(){var t=this,n=DeviceMotionEvent.requestPermission;"function"==typeof n&&n().then((function(n){t.jle="granted"===n}))},i.Jle=function(){return(!this.KR()||Boolean(this.$le))&&this.tde()},i.KR=function(){return this.na.KR},i.tde=function(){return this.na.rI>=2},i.cNt=function(t,n){this._o(new yk(new id(n,t)))},i._de=function(){var t=this.na.iu();return t&&t.vr},i.yn=function(){this.vW.jw(),this.Rle(),this.Ro(),this.cle&&(oi(this.cle),this.cle=void 0),this.$ue=void 0,this.lle&&(this.lle.yn(),this.lle=void 0),this.na=void 0},Nt(n,[{key:"ede",get:function(){return this.ide},set:function(t){var n=this.Vft;this.ide=t,this.Vft!==n&&this._o(new o1)}},{key:"mle",get:function(){return this.wle!==WS.NONE}},{key:"wle",get:function(){return this.sde},set:function(t){var n=this.Vft;this.sde=t,this.Vft!==n&&this._o(new o1)}},{key:"_le",get:function(){return this.rde},set:function(t){var n=this.rde;this.rde=t,this.rde!==n&&this._o(new o1)}},{key:"ode",get:function(){return this._le}},{key:"Gle",get:function(){return this.Ble||this.Dle}},{key:"Ble",get:function(){return this.Yle},set:function(t){var n=this.Vft;this.Yle=t,this.Vft!==n&&this._o(new o1)}},{key:"hde",get:function(){return this.Ole||this.Nle}},{key:"ade",get:function(){var t=this.ude.bue();return{yaw:t.Aue*x4,pitch:t.Sue*x4,roll:t.Tue*x4}},set:function(t){var n=p5(t&&t.pitch||0)*P4,i=p5(t&&t.roll||0)*P4,r=p5(t&&t.yaw||0)*P4,e=new B4(r,n,i),u=this.ude.bue(),s=this.cde.bue();this.ude=e.kue(),this.cde=e.kF(u).kO(s).kue()}},{key:"Wue",get:function(){var t=this.cde.bue();return{yaw:t.Aue,pitch:t.Sue,roll:t.Tue}},set:function(t){var n=_5(t&&t.pitch||0),i=_5(t&&t.roll||0),r=_5(t&&t.yaw||0),e=new B4(r,n,i);this.cde=e.kue()}},{key:"Vft",get:function(){return this.ede?this.Ble?F4.Xa:F4.Rue:F4.Rs}},{key:"lde",get:function(){return null!==this.Ble},set:function(t){var n=this.lde;t&&this._le?this.Lle():this.Cle(),this.lde!==n&&this._o(new W4)}},{key:"dde",get:function(){return this.Kle},set:function(t){null===this.Yle&&(this.Kle=t,t&&Gn.su&&this.Qle())}},{key:"fde",get:function(){return this.Hce},set:function(t){t&&t>=0&&t<=180&&(this.Hce=t,null!==this.Dle&&this.Dle.updateRenderState({inlineVerticalFieldOfView:this.Hce*P4}))}}]),n}(ra);function p5(t){return cr(t+180,360)-180}function _5(t){return cr(t+k.PI,2*k.PI)-k.PI}function b5(t,n){return"function"==typeof t.getAll?k5(void 0===n?t.getAll():t.getAll(n)):function(t){var n=new Gc,i=[];return t.onsuccess=function(){var r=t.result;r&&r.value?(i.push(r.value),r.continue()):n.Vb(i),ut()},t.onerror=function(){n.Wb(t.error),ut()},n.Ub}(void 0===n?t.openCursor():t.openCursor(n))}function k5(t){return new et((function(n,i){t.onsuccess=function(){n(t.result),ut()},t.onerror=function(){i(t.error),ut()}}))}Zk((function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Uue=new y5(r),r}It(n,t);var i=n.prototype;return i.ka=function(){return Rg(t.prototype.ka.call(this),{vr:this.Uue.wa})},i.yn=function(){this.Uue.yn(),t.prototype.yn.call(this)},n}(t)}),Fk.au),F(),Tt(),F(),Tt(),F(),Tt(),Gt(),Dt(),qt(),F(),Tt(),Gt(),qt(),F(),Tt(),Gt(),Dt(),qt(),F(),Tt(),Gt(),nn(),qt(),At();var A5=function(){function t(t){var n=this;this.Drt=t,this.so=!0,this.Ub=new et((function(t,i){n.Drt.oncomplete=function(){n.so=!1,t(),ut()},n.Drt.onerror=function(){n.so&&(n.so=!1,i(n.Drt.error||new p("Transaction error")),ut())},n.Drt.onabort=function(){n.so=!1,i(new p("Transaction aborted")),ut()}}))}return t.prototype.jw=function(){if(this.so)try{this.Drt.abort(),this.so=!1}catch(t){}},t}();function T5(t,n,i){return S5.apply(this,arguments)}function S5(){return S5=Zt((function(t,n,i){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:r=new A5(t),s.label=1;case 1:return s.trys.push([1,3,4,5]),[4,et.all([n(i),r.Ub])];case 2:return e=tn.apply(void 0,[s.sent(),1]),[2,e[0]];case 3:if(u=s.sent(),!r.so)throw new b1("IDBTransaction committed prematurely",u);throw u;case 4:return r.jw(),[7];case 5:return[2]}}))})),S5.apply(this,arguments)}var E5=function(){function t(t,n){this.sx=t,this.wde=n}var n=t.prototype;return n.yrt=function(t){return et.resolve("persistent"===t)},n.brt=function(t,n){return void 0===n&&(n="persistent"),"persistent"!==n?et.reject(TM(n)):k5(this.pde(SM.Wrt).put(t))},n.Art=function(t,n){void 0===n&&(n="persistent");var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:if("persistent"!==n)return[2,et.reject(TM(n))];r=0,u.label=1;case 1:return r<t.length?(e=t[r],[4,i.brt(e,n)]):[3,4];case 2:u.sent(),u.label=3;case 3:return r++,[3,1];case 4:return[2]}}))}))()},n.Mb=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.Lb(t)];case 1:return[2,Boolean.apply(void 0,[i.sent()])]}}))}))()},n.Lb=function(t){return k5(this.pde(SM.Vrt).get(t))},n.Srt=function(t,n){return k5(this.pde(SM.Vrt).index(n).get(t))},n.frt=function(t){var n=this;return Zt((function(){var i,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:i=[],r=0,s.label=1;case 1:return r<t.length?(e=t[r],[4,n.Lb(e)]):[3,4];case 2:(u=s.sent())&&i.push(u),s.label=3;case 3:return r++,[3,1];case 4:return[2,i]}}))}))()},n.Trt=function(){return b5(this.pde(SM.Vrt))},n.krt=function(t){return b5(this.pde(SM.Vrt),t)},n.Ert=function(t,n){return b5(this.pde(SM.Vrt).index(n),t)},n.eT=function(t){return k5(this.pde(SM.Wrt).delete(t))},n.xrt=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:i=0,e.label=1;case 1:return i<t.length?(r=t[i],[4,n.eT(r)]):[3,4];case 2:e.sent(),e.label=3;case 3:return i++,[3,1];case 4:return[2]}}))}))()},n.Rrt=function(){return k5(this.pde(SM.Wrt).clear())},n.pde=function(t){if(!this.wde)throw new p("Lock was released");if(!function(t,n){return t===SM.Vrt&&n===SM.Vrt||n===SM.Wrt}(t,this.wde.mode))throw new p("Incompatible transaction mode: "+this.wde.mode+", expected "+t);return this.wde.objectStore(this.l)},n.yde=function(){this.sx.bde(this),this.wde=void 0},Nt(t,[{key:"l",get:function(){return this.sx.l}}]),t}();var I5=function(){function t(t,n){this.Cxt=void 0,this.Yo=new hd,this.Tde=t,this.l=n}var n=t.prototype;return n.yrt=function(t){return et.resolve("persistent"===t)},n.brt=function(t,n){return void 0===n&&(n="persistent"),"persistent"!==n?et.reject(TM(n)):this.Drt(SM.Wrt,(function(n){return n.brt(t)}))},n.Art=function(t,n){return void 0===n&&(n="persistent"),"persistent"!==n?et.reject(TM(n)):this.Drt(SM.Wrt,(function(n){return n.Art(t)}))},n.Mb=function(t){return this.Drt(SM.Vrt,(function(n){return n.Mb(t)}))},n.Lb=function(t){return this.Drt(SM.Vrt,(function(n){return n.Lb(t)}))},n.Srt=function(t,n){return this.Drt(SM.Vrt,(function(i){return i.Srt(t,n)}))},n.frt=function(t){return this.Drt(SM.Vrt,(function(n){return n.frt(t)}))},n.Trt=function(){return this.Drt(SM.Vrt,(function(t){return t.Trt()}))},n.krt=function(t){return this.Drt(SM.Vrt,(function(n){return n.krt(t)}))},n.Ert=function(t,n){return this.Drt(SM.Vrt,(function(i){return i.Ert(t,n)}))},n.eT=function(t){return this.Drt(SM.Wrt,(function(n){return n.eT(t)}))},n.xrt=function(t){return this.Drt(SM.Wrt,(function(n){return n.xrt(t)}))},n.Rrt=function(){return this.Drt(SM.Wrt,(function(t){return t.Rrt()}))},n.Hxt=function(t){return this.Ade(),this.Cxt=new E5(this,t),this.Cxt},n.Ade=function(){if(void 0!==this.Cxt)throw new p("Already locked")},n.bde=function(t){if(this.Cxt!==t)throw new p("Incorrect lock");this.Cxt=void 0},n.Qo=function(t){return this.Yo.Qo(t)},n.Drt=function(t,n){var i=this;return this.Qo((function(){return i.Sde(t,n)}))},n.Sde=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:i.Ade(),r=i.Tde.transaction(i.l,t),e=i.Hxt(r),u.label=1;case 1:return u.trys.push([1,,3,4]),[4,T5(r,n,e)];case 2:return[2,u.sent()];case 3:return e.yde(),[7];case 4:return[2]}}))}))()},n.kde=function(t){this.Ade();var n=this.Tde.transaction(this.l,t);return this.Hxt(n)},t.Ede=function(t,n){var i,r=new et((function(t){i=t})),e=t.reduce((function(t,n){return t.then((function(){var t,i=new et((function(n){t=n}));return n.Qo((function(){return t(),r})).catch(bi),i}))}),et.resolve());return i(e.then(n)),r},t}();F(),Tt(),Dt(),F(),Tt(),Gt(),qt(),F(),Tt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Gt(),qt();var R5={jD:17,xde:Zt((function(t){var n,i,r,e;return Ht(this,(function(u){if(n=t.transaction,i=t.database,(r=n.objectStoreNames)&&r.length)for(e=0;e<r.length;e++)i.deleteObjectStore(r[e]);return i.createObjectStore(M5,{keyPath:"id"}),i.createObjectStore(O5,{keyPath:"key"}),i.createObjectStore(B5,{keyPath:"key"}),i.createObjectStore(V5,{keyPath:"segmentURLsegmentByteRange"}).createIndex("manifestURL","manifestURL"),i.createObjectStore(F5,{keyPath:"segmentURLsegmentByteRange"}).createIndex("manifestURL","manifestURL"),[2]}))}))},C5=function(){function t(t){this.Cde=t}return t.prototype.Rde=function(t){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:i=0,r=n.Ide,u.label=1;case 1:return i<r.length?(e=r[i],n.Cde<e.jD?[4,e.xde(t)]:[3,3]):[3,4];case 2:u.sent(),u.label=3;case 3:return i++,[3,1];case 4:return[2]}}))}))()},t}(),N5=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),Nt(n,[{key:"Ide",get:function(){return[R5]}}]),n}(C5),D5=function(){function t(){this.Dde=function(t){return new N5(t)}}var n=t.prototype;return n.Pde=function(t){this.Dde=t},n.Ait=function(t){return this.Dde(t)},t}(),P5=new D5,x5="theoplayer-cache-database",L5=18,M5="cachingTask",O5="licences",B5="manifest",V5="segment",F5="segmentMetadata";function U5(){return U5=Zt((function(){var t;return Ht(this,(function(n){switch(n.label){case 0:return function(){if("undefined"==typeof indexedDB)throw new p("Indexed database unavailable")}(),(t=indexedDB.open(x5,L5)).addEventListener("upgradeneeded",W5),[4,k5(t)];case 1:return[2,n.sent()]}}))})),U5.apply(this,arguments)}function W5(t){return Z5.apply(this,arguments)}function Z5(){return Z5=Zt((function(t){var n,i,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return n=t.oldVersion<=L5?t.oldVersion:-1,i=t.target,r=i.result,e=i.transaction,u=P5.Ait(n),[4,T5(e,(function(t){return u.Rde(t)}),{database:r,transaction:e})];case 1:return s.sent(),[2]}}))})),Z5.apply(this,arguments)}var X5=function(){function t(){}return Nt(t,null,[{key:"Vg",get:function(){return this.Qrt||(this.Qrt=function(){return U5.apply(this,arguments)}()),this.Qrt}}]),t}();X5.Qrt=void 0,F(),Tt();var G5=function(){function t(t,n){this.Lrt=t.Lrt.Hxt(n),this.Mrt=t.Mrt.Hxt(n),this.Brt=t.Brt.Hxt(n),this.Ort=t.Ort.Hxt(n),this.Frt=t.Frt.Hxt(n)}var n=t.prototype;return n.Drt=function(t){return t(this)},n.yde=function(){this.Lrt.yde(),this.Mrt.yde(),this.Brt.yde(),this.Ort.yde(),this.Frt.yde()},t}(),H5=function(){function t(t){this.Tde=t,this.Lrt=new I5(t,F5),this.Mrt=new I5(t,V5),this.Brt=new I5(t,B5),this.Ort=new I5(t,M5),this.Frt=new I5(t,O5)}var n=t.prototype;return n.Drt=function(t){var n=this,i=this.allCollections;return I5.Ede(i,(function(){return n.Sde(i,t)}))},n.Sde=function(t,n){var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:r=t.map((function(t){return t.l})),e=i.Tde.transaction(r,SM.Wrt),u=new G5(i,e),s.label=1;case 1:return s.trys.push([1,,3,4]),[4,T5(e,n,u)];case 2:return[2,s.sent()];case 3:return u.yde(),[7];case 4:return[2]}}))}))()},t.Ait=function(){return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,X5.Vg];case 1:return[2,new t(n.sent())]}}))}))()},Nt(t,[{key:"allCollections",get:function(){return[this.Mrt,this.Lrt,this.Brt,this.Ort,this.Frt]}}]),t}();PM.Pa(H5.Ait),F(),Tt(),Dt(),Rt(),F(),Tt();var z5=function(t){function n(n,i){var r;return(r=t.call(this)||this).gde=n,r.Ast=i,r.gde.bn("wat",r.Ds),r}return It(n,t),n.prototype.mde=function(t,n,i){var r,e;if(void 0===i&&(i="persistent"),!t)throw new p("Unexpected - The source description is undefined");if(r=uE(t),e=R2(n),zS(r))throw new p("Invalid source description");return this.gde.oee(r,e).wa},Nt(n,[{key:"wa",get:function(){return this.eu||(this.eu=function(t){var n,i={get status(){return t.Yk},get tasks(){return t.lee},get network(){return t.XX.wa},createTask:function(n,i){return t.mde(n,i)},addEventListener:function(t,i){n.bn(t,i)},removeEventListener:function(t,i){n.vn(t,i)}};return n=new eR(t,i),i}(this)),this.eu}},{key:"Yk",get:function(){return this.gde.Yk}},{key:"lee",get:function(){return this.gde.lee.wa}},{key:"XX",get:function(){return this.Ast}}]),n}(ua);var Y5=function(){var t=new WI(Kn.fR,!1),n=PM.Vg,i=new M2(t),r=new S2(n,i),e=new XI(t),u=new m1(n.Ort,r,"persistent");return new z5(u,e)}().wa;F(),Tt(),F(),Tt(),Rt(),F(),Tt(),Dt();var j5=function(){function t(t){this.eu=void 0,this.gj=t}var n=t.prototype;return n.Nde=function(t){for(var n=this.gj.pR(),i=t.createGain(),r=0;r<n.length;r++){var e=n[r];t.createMediaElementSource(e).connect(i)}return i},n.ka=function(){var t=this;return{createAudioSourceNode:function(n){return t.Nde(n)}}},Nt(t,[{key:"wa",get:function(){return this.eu||(this.eu=this.ka()),this.eu}}]),t}();Zk((function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Mde=new j5(r.Ta),r}return It(n,t),n.prototype.ka=function(){var n=this.Mde.wa;return Rg(t.prototype.ka.call(this),{get audio(){return n}})},n}(t)}),Fk.au),F(),Tt(),F(),Tt(),Rt();Zk((function(t){return function(t){function n(n,i){return t.call(this,n,i)||this}It(n,t);var i=n.prototype;return i.Ca=function(i){var r=n.Lde(this.kd.analytics),e=n.Lde(i?i.analytics:void 0);r||e?this.Bde(ns({},r,e)):this.Ode&&this.Ode.disable(),t.prototype.Ca.call(this,i)},i.Bde=function(t){if(this.Ode)this.Ode.enable(),this.Ode.setOptions(t);else{var n=f.youbora;if(!n)throw new p("Youbora JavaScript library not loaded.");if(!n.adapters.TheoPlayer2)throw new p("TheoPlayer2 adapter not available on Youbora JavasScript library");var i=new n.Plugin(t);i.setAdapter(new n.adapters.TheoPlayer2(this.wa)),this.zc&&n.adapters.TheoPlayer2.NativeAdsAdapter&&i.setAdsAdapter(new n.adapters.TheoPlayer2.NativeAdsAdapter(this.wa)),this.Ode=i}},i.yn=function(){this.Ode&&this.Ode.disable(),t.prototype.yn.call(this)},n.Lde=function(t){if(t){var n=t.filter((function(t){return"youbora"===t.integration}));if(0===n.length)return;if(n.length>1)throw new p("Only one youbora analytics configuration expected");var i=n[0];i.integration;return Jp(i,["integration"])}},n}(t)}),Fk.Xst),F(),Tt(),F(),Tt(),Rt(),F(),Tt(),Dt(),Rt();var K5=1,q5=0,J5=1e3,Q5=function(t){function n(n,i,r,e,u,s){var o;return void 0===e&&(e=MMPlayerState),void 0===u&&(u=MMAdState),void 0===s&&(s=MMPresentationInfo),(o=t.call(this)||this).na=n,o.MT=i,o.Wde=r,o.ofe=e,o.hfe=u,o.Ude=s,o.afe=!0,o.Zde=!1,o.Yde=void 0,o.zde=void 0,o.ufe=void 0,o.$de=function(t){var n,i=t.lnt,r=(i.c$t(),n=i.int().duration,"linear"===i.int().type);i.l$t(),i.h$t();r&&(o.Zde=!0),o.qde=o.hfe.AD_IMPRESSION,o.qde=o.hfe.AD_STARTED},o.tfe=function(t){o.Zde=!1,o.qde=o.hfe.AD_COMPLETED},o.efe=function(t){t.Ajt===LJ.ADBLOCK?o.qde=o.hfe.AD_BLOCKED:o.qde=o.hfe.AD_ERROR},o.ife=function(){o.qde=o.hfe.AD_SKIPPED},o.nfe=function(t){var n,i,r,e;t.EE===qg.mE&&(o.ufe&&t.Az!==o.ufe&&o.Wde.reportABRSwitch(o.ufe,t.Az),o.ufe=t.Az,o.Wde.reportChunkRequest(new MMChunkInformation(t.EN,t.Az,t.sL,t.Jut.Xu,void 0,void 0,null!=(r=null==(n=t.Jut._ut)?void 0:n[0])?r:0,null!=(e=null==(i=t.Jut._ut)?void 0:i[1])?e:-1)))},o.Foe=function(t){o.Xde=o.ofe.STOPPED,o._o(t)},o.X6=function(t){o.Xde=o.ofe.ERROR,o.Wde.reportError(t.error,o.Gde())},o.sfe=function(){o.Hde?o.qde=o.hfe.AD_PAUSED:o.Xde=o.ofe.PAUSED},o.kle=function(){o.Hde&&(o.qde=o.hfe.AD_PLAY)},o.IX=function(){o.Hde?(o.Yde===o.hfe.AD_PAUSED&&(o.qde=o.hfe.AD_RESUMED),o.qde=o.hfe.AD_PLAYING):(o.afe&&(o.afe=!1,o.Fde(),o.Xde=o.ofe.STARTED),o.Xde!==o.ofe.PAUSED&&o.Xde!==o.ofe.BUFFERING||(o.Xde=o.ofe.RESUMED))},o.WY=function(){o.Wde.reportPresentationSize(o.na.vI,o.na.dI)},o.PX=function(t){o.Hde||o.Xde!==o.ofe.PAUSED||o.Wde.reportPlayerSeekCompleted(t.currentTime*J5)},o.xX=function(){o.Hde||(o.Xde=o.ofe.BUFFERING)},o.Qde=function(){o.Wde.reportDownloadRate(k.floor(bk.Vg.cG()))},o.jde=function(){o.Hde||o.Wde.reportPlaybackPosition(o.Gde())},o.Xde=o.ofe.INITIALIZED,o._Mt(),o.rfe=o.Kde(),o}It(n,t);var i=n.prototype;return i.Fde=function(){var t=this.ct===1/0,n=t?K5:q5,i=t?-1:this.ct,r=Ao(this.na.rt.lC,this.Vde);this.Wde.setPresentationInformation(new this.Ude(n,i,r))},i.Vde=function(t){for(var n=t.NC.lC,i=[],r=0;r<n.length;r++){var e=n[r];e.ji&&e.Ti&&i.push({trackIdx:r,bitrate:e.bG,width:e.ji,height:e.Ti,codecIdentifier:e.Jrt})}return i},i.Gde=function(){return this.na.xR()*J5},i.Kde=function(){var t=this;return m((function(){t.jde(),t.Qde()}),n.Jde)},i._Mt=function(){this.na.zc&&(this.na.zc.bn("vnt",this.$de),this.na.zc.bn("mnt",this.tfe),this.na.zc.bn("f2t",this.efe),this.na.zc.bn("j2t",this.ife)),this.na.bn(oa.Dy,this.Foe),this.na.bn(Uy.fa,this.X6),this.na.bn(oa.zy,this.sfe),this.na.bn(oa.ho,this.kle),this.na.bn(yp.UL,this.IX),this.na.bn(oa.jy,this.WY),this.na.bn(oa.Qy,this.PX),this.na.bn(yp.WL,this.xX),this.na.bn(oa.eb,this.nfe)},i.vMt=function(){this.na.zc&&(this.na.zc.vn("vnt",this.$de),this.na.zc.vn("mnt",this.tfe),this.na.zc.vn("f2t",this.efe),this.na.zc.vn("j2t",this.ife)),this.na.vn(oa.Dy,this.Foe),this.na.vn(Uy.fa,this.X6),this.na.vn(oa.zy,this.sfe),this.na.vn(oa.ho,this.kle),this.na.vn(yp.UL,this.IX),this.na.vn(oa.jy,this.WY),this.na.vn(oa.Qy,this.PX),this.na.vn(yp.WL,this.xX),this.na.vn(oa.eb,this.nfe)},i.yn=function(){y(this.rfe),this.vMt()},Nt(n,[{key:"ct",get:function(){return this.na.jd()*J5}},{key:"Hde",get:function(){return this.Zde}},{key:"Xde",get:function(){return this.zde},set:function(t){this.zde=t,t&&this.Wde.reportPlayerState(t)}},{key:"qde",set:function(t){this.Yde=t}}]),n}(uw);Q5.Jde=2e3,Zk((function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).lfe=void 0,r.dfe=void 0,r.ffe=function(){r.dfe=void 0,r.cfe();var n=t.prototype.iu.call(PZ(r));n&&(r.dfe=function(t,n){var i=function(t,n){if(t&&t.analytics)for(var i=0,r=t.analytics;i<r.length;i++){var e=r[i];if("smartsight"===e.integration)return e}if(n&&n.analytics)for(var u=0,s=n.analytics;u<s.length;u++){var o=s[u];if("smartsight"===o.integration)return o}return}(t,n);if(!i)return;return i}(n,r.kd)),r._fe()},r._fe=function(){if(!r.lfe&&r.dfe&&r.bt&&r.bt.src&&!r.KR){var t=MMSmartStreaming.getInstance();!function(t,n,i){t.registerMMSmartStreaming(i.playerName,i.customerID,i.subscriberID,i.domainName),t.reportComponent("THEOSDK"),t.reportPlayerInfo("THEOplayer","THEOplayer","9.3.0"),t.reportDeviceInfo(void 0,void 0,void 0,void 0,void 0,f.innerWidth,f.innerHeight),t.initializeSession("QBRModeDisabled",n,i.metaURL,i.assetID)}(t,r.bt.src,r.dfe),r.lfe=new Q5(r,r.dfe,t),r.lfe.bn("ended",r.cfe)}},r.cfe=function(){r.lfe&&(r.lfe.yn(),r.lfe=void 0)},r.bn(oa.uo,r.ffe),r.bn(oa.xy,r._fe),r.bn(oa.ho,r._fe),r}return It(n,t),n.prototype.yn=function(){t.prototype.yn.call(this),this.cfe()},n}(t)}),Fk.Xst),F(),Tt(),F(),Tt(),Dt(),Rt();var $5=String.fromCharCode(95);var t6=function(){function t(n,i,r,e){var u=this;this.wfe=function(n){u.bfe({type:t.Afe(n.type)})},this.zS=n,this.Nse=i,this.u_=r,this.b0t=e,this.mfe=[],this.Kf=[]}var n=t.prototype;return n.pfe=function(){for(var t in google.ima.AdEvent.Type){var n=google.ima.AdEvent.Type[t];this.Nse.addEventListener(n,this.wfe),this.mfe.push({type:n,listener:this.wfe})}},n.yfe=function(){for(var t in bo(this.mfe),google.ima.AdEvent.Type){var n=google.ima.AdEvent.Type[t];this.Nse.removeEventListener(n,this.wfe)}},n.bfe=function(t){this.Kf.push({type:t.type,adVolume:this.adsManager.getVolume()})},n.gfe=function(){null==this.vfe||this.vfe.call(this,this.Kf),this.Kf=[]},t.Afe=function(n){return t.Sfe[n]||n},Nt(t,[{key:"wa",get:function(){return this.eu||(this.eu=function(t){return{get adsManager(){return t.adsManager},get ids(){return t.ids},get adContainer(){return t.adContainer},get imaSDK(){return t.imaSDK},get sendEvent(){return t.sendEvent},set sendEvent(n){t.sendEvent=n}}}(this)),this.eu}},{key:"id",get:function(){return this.zS}},{key:"adsManager",get:function(){return this.Nse}},{key:"ids",get:function(){return this.u_}},{key:"adContainer",get:function(){return this.b0t}},{key:"sendEvent",get:function(){return this.vfe},set:function(t){for(var n=0,i=this.mfe;n<i.length;n++){var r=i[n];this.Nse.removeEventListener(r.type,r.listener)}this.mfe=[],this.vfe=t,this.gfe()}},{key:"imaSDK",get:function(){return!0}}]),t}();t6.Sfe={loaded:"AdLoaded",impression:"AdImpression",start:"AdVideoStart",firstQuartile:"AdVideoFirstQuartile",midpoint:"AdVideoMidpoint",thirdQuartile:"AdVideoThirdQuartile",complete:"AdVideoComplete",pause:"AdPaused",skip:"AdSkipped",volumeChange:"AdVolumeChange"};var n6=function(){function t(){this.kfe=void 0,this.Efe=void 0}var n=t.prototype;return n.Tfe=function(t,n){this.kfe=v.createElement("script"),this.kfe.id=t.id,this.kfe.type="text/javascript",t.adContainer.appendChild(this.kfe),this.kfe.src="https://z.moatads.com/"+n+"/moatvideo.js#"+t.id,this.Efe=t.id,f[this.Efe]=t.wa},n.xfe=function(){this.kfe&&oi(this.kfe),this.Efe&&(f[this.Efe]=void 0)},t}();Zk((function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Dfe=void 0,r.Bfe=void 0,r.Ife=void 0,r.b0t=void 0,r.Pfe=function(){r.Lfe(r.Ife,{partnerCode:r.Dfe.partnerCode,viewMode:google.ima.ViewMode.NORMAL},r.b0t)},r.t7t=function(t){r.Ife=t.Dse,r.b0t=t.O7t,r.Rfe(),r.Ife.addEventListener(google.ima.AdEvent.Type.COMPLETE,r.Cfe),r.Ife.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,r.Rfe),r.Ife.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,r.Pfe)},r.Cfe=function(t){var n=t.getAd().getAdPodInfo();n.getAdPosition()<n.getTotalAds()&&(r.Rfe(),r.Pfe())},r.Rfe=function(){r.Bfe&&(r.Bfe.yfe(),r.Bfe=void 0),r.Ofe.xfe()},r.Ofe=new n6,r}It(n,t);var i=n.prototype;return i.Ca=function(i){var r,e,u;this.Rfe(),null==(r=this.Ife)||r.removeEventListener(google.ima.AdEvent.Type.COMPLETE,this.Cfe),null==(e=this.Ife)||e.removeEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.Rfe),null==(u=this.Ife)||u.removeEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.Pfe),this.Ife=void 0,this.b0t=void 0,t.prototype.Ca.call(this,i);var s=i&&i.analytics;this.Dfe=n.Nfe(s),this.zc&&this.Dfe&&W0()&&this.Mfe()},i.yn=function(){var n,i,r;this.Rfe(),null==(n=this.Ife)||n.removeEventListener(google.ima.AdEvent.Type.COMPLETE,this.Cfe),null==(i=this.Ife)||i.removeEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.Rfe),null==(r=this.Ife)||r.removeEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.Pfe),this.Ife=void 0,this.b0t=void 0,this.zc&&this.zc.vn("$8t",this.t7t),t.prototype.yn.call(this)},i.Mfe=function(){this.zc&&this.zc.bn("$8t",this.t7t)},i.Lfe=function(t,n,i){var r=$5+"moatApi"+k.floor(1e8*k.random());this.Bfe=new t6(r,t,n,i),this.Bfe.pfe(),this.Ofe.Tfe(this.Bfe,this.Dfe.partnerCode)},n.Nfe=function(t){if(t){var n=t.filter((function(t){return"moat"===t.integration}));if(0===n.length)return;if(n.length>1)throw new p("Only one Moat analytics configuration expected");return n[0]}},n}(t)}),Fk.Xst),F(),Tt(),F(),Tt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Gt(),Dt(),qt();var i6="urn:google:dai:2018",r6=function(){function t(t,n,i,r,e){var u=this;this.Uoe=void 0,this.YG=void 0,this.KG=void 0,this.r8=new Yo,this.Yfe=!1,this.Vfe=!0,this.zfe=function(t){var n=t.Ht;n.Lt===zy.eW&&(n.Tw===Tw.ID3||n.Tw===Tw.EVENT_STREAM&&n.BC===i6)&&(n.CE=Vy.LC,u.Uoe=n,n.bn(Tg.HI,u.Kfe))},this.Kfe=function(t){t.FO.bn(Dw.rO,u.jfe)},this.jfe=function(t){var n,i;if(u.Hre)if((null==(n=u.Uoe)?void 0:n.Tw)===Tw.ID3){var r=t.FO.U;"TXXX"===r.id&&u.Hre.roe({TXXX:r.text})}else if((null==(i=u.Uoe)?void 0:i.Tw)===Tw.EVENT_STREAM){var e=t.FO.U;u.Hre.ooe(i6,e,t.oV)}},this.na=t,this.Hre=n,this.Ufe=i,this.Ffe=r,this.Hfe=e,i&&n&&this.na.zc&&this.na.zc.ant(i.r8t)}var n=t.prototype;return n.RR=function(t){this.r8.jw(),this.r8=new Yo,qo(Zo(this.Use(t,this.r8.Uw),this.r8))},n.Use=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return Vo(n),i.Ufe&&i.Hre?i.Ufe.snt&&!i.Hfe?[2]:(r=i.na.xR(),i.Vfe&&(e=i.Hre.aoe(t,r))?(i.na.Gfe(e),[4,i.Hre.py(M3.AD_BREAK_ENDED,n)]):[3,2]):[2,i.na.Gfe(t)];case 1:if(u.sent(),i.Hre.hoe(t).UO>t)return[2];u.label=2;case 2:return i.na.Gfe(t),[2]}}))}))()},n.aI=function(){var t=this.Ufe&&this.Ufe.snt;if(t){var n=SA.Cn(this.na.Zfe()),i=t.eOt,r=i+t.ZJt,e=new SA([i,r]);return n.jn(e).ks()}return this.na.Zfe()},n.Rnt=function(t,n){var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:if(!t)return[2,i.na.Xfe(t,n)];r=t,s.label=1;case 1:return s.trys.push([1,3,,4]),i.na.nt.bn(pg.VI,i.zfe),[4,i.Ffe.qfe(t,n)];case 2:return r=s.sent(),i.Ufe&&i.Hre&&(i.Yfe=!0),[3,4];case 3:if(Fo(e=s.sent()),e.code===$g.LICENSE_INVALID)return[2];throw u=new id(td.SOURCE_NOT_SUPPORTED,"Something went wrong while setting up a Google DAI stream.",e),i.YG=iw(u),i.KG=u,i.na._o(new yk(u)),u;case 4:return[4,i.na.Xfe(r,n)];case 5:return s.sent(),[2]}}))}))()},n.nr=function(){if(this.Yfe){if(this.na.nt.vn(pg.VI,this.zfe),this.Uoe){this.Uoe.vn(Tg.HI,this.Kfe);for(var t=0,n=this.Uoe.L.lC;t<n.length;t++){n[t].vn(Dw.rO,this.jfe)}this.Uoe=void 0}this.YG=void 0,this.KG=void 0,this.r8.jw(),this.Ufe&&this.Ufe.nr(),this.Hre&&this.Hre.nr(),this.Yfe=!1}},n.yn=function(){this.nr(),this.na.$fe(),this.Hre&&this.Hre.yn()},Nt(t,[{key:"wa",get:function(){var t=this,n=this.Ffe;return{contentTimeForStreamTime:function(n){return t.Hre?t.Hre.Zre(n):n},streamTimeForContentTime:function(n){return t.Hre?t.Hre.Xre(n):n},replaceAdTagParameters:function(n){t.Hre&&t.Hre.replaceAdTagParameters(n)},get snapback(){return t.Vfe},set snapback(n){t.Vfe=n},get sourceTransformer(){return n.Wfe},set sourceTransformer(t){n.Wfe=t}}}},{key:"lt",get:function(){return this.YG||this.na.Qfe()}},{key:"MR",get:function(){return this.KG||this.na.Jfe()}}]),t}();F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt();var e6=function(t){function n(n,i,r,e){var u;return void 0===e&&(e=!0),(u=t.call(this,r)||this).e_e=e,u.S2t=n,u.T2t=i,u}return It(n,t),Nt(n,[{key:"t_e",get:function(){return this.e_e}},{key:"aQt",get:function(){return zQ.Kh}}]),n}(x$),u6=function(t){function n(n,i){var r;return(r=t.call(this,new RI,zQ.Kh)||this).Hre=n,r.na=i,r.Yre=function(t){var n=r.p$t;if(n&&r.a$t){var i=t.Gre.coe;r.a$t.V9t=i.ER,function(t,n){var i=n.x6t,r=n.E6t,e=n.ER,u=dr(t.zc.slice(0,i-1),(function(t){var n;return null!=(n=t.ct)?n:0}));t.XJt=r-e-u}(n,i)}},r.jre=function(t){var n=t.Gre.loe;if(n)for(var i=0;i<n.length;i++){var e=n[i];if(!r.a_e(e.WO)){var u=e.UO-e.WO,s=new e6(u,u,e.WO,!0);r.w$t.push(s)}}},r.s_e=function(t){r.r_e(t.type),r.h_e(t)},r.soe=function(t){r.h8t=!1,r.a$t=void 0;var n=r.snt;n&&(n.XJt=0,r.o_e(t.type,!1,!1),r.p$t=void 0)},r.i_e(),r}It(n,t);var i=n.prototype;return i.i_e=function(){var t=[M3.STARTED,M3.FIRST_QUARTILE,M3.MIDPOINT,M3.THIRD_QUARTILE,M3.COMPLETE];this.Hre.bn(t,this.s_e),this.Hre.bn(M3.AD_BREAK_ENDED,this.soe),this.Hre.bn(M3.AD_PROGRESS,this.Yre),this.Hre.bn(M3.CUEPOINTS_CHANGED,this.jre)},i.n_e=function(t){var n=t.d9t.eOt,i=this.p$t||this.findAdBreakWithPredicate(n,(function(t){return!t.tI}));if(!i){var r=t.d9t.ZJt;n=this.na.xR(),(i=new e6(r,r,n,!1)).E2t(),this.w$t.push(i)}return i},i.r_e=function(t){switch(t){case M3.STARTED:this.h8t=!0;break;case M3.AD_BREAK_ENDED:this.h8t=!1}},i.o_e=function(t,n,i){if(n)switch(t){case M3.STARTED:case M3.FIRST_QUARTILE:case M3.MIDPOINT:case M3.THIRD_QUARTILE:case M3.COMPLETE:this.h2t._o(new ZL(this.p$t))}if(i)switch(t){case M3.STARTED:case M3.FIRST_QUARTILE:case M3.MIDPOINT:case M3.THIRD_QUARTILE:case M3.COMPLETE:this.h2t._o(new GL(this.a$t,this.a$t.V9t))}switch(t){case M3.COMPLETE:this.h2t._o(new zL(this.a$t,this.n8t.V9t));break;case M3.AD_BREAK_ENDED:this.h2t._o(new UL(this.snt))}switch(t){case M3.FIRST_QUARTILE:this.h2t._o(new K$(this.a$t,this.n8t.V9t));break;case M3.MIDPOINT:this.h2t._o(new J$(this.a$t,this.n8t.V9t));break;case M3.THIRD_QUARTILE:this.h2t._o(new $$(this.a$t,this.n8t.V9t))}},i.h_e=function(t){var n=t.lnt,i=this.n_e(n),r=function(t,n){if(t.zc.length)return!1;for(var i=0;i<n;i++){var r=new T0(t,M$.Mjt);t.R2t(r)}return!0}(i,n.d9t.R6t),e=function(t,n){var i=n.d9t.x6t-1;return t.zc[i]}(i,n),u=function(t,n){return t.O2t!==O$.READY&&(t.z9t(n),!0)}(e,n);this.a$t=e,this.p$t=i,i.E2t(),this.o_e(t.type,r,u)},i.a_e=function(t){for(var n=0,i=this.w$t;n<i.length;n++){var r=i[n];if(ar(t,r.eOt))return r}},i.findAdBreakWithPredicate=function(t,n){for(var i=0,r=this.w$t;i<r.length;i++){var e=r[i];if(ar(e.eOt,t)&&n(e))return e}},i.c_e=function(t,n){for(var i,r=0,e=this.w$t;r<e.length;r++){var u=e[r];u.eOt>=t&&u.eOt<=n&&!u.tI&&(!i||u.eOt>=i.eOt)&&(i=u)}return i},i.MD=function(){},i.hnt=function(t){},i.nr=function(){this.a$t&&(this.h2t._o(new zL(this.a$t,this.a$t.V9t)),this.a$t=void 0),this.p$t&&(this.h2t._o(new UL(this.p$t)),this.p$t=void 0),this.h8t=!1,bo(this.w$t)},i.yn=function(){this.nr(),this.h2t.yn()},Nt(n,[{key:"g2t",get:function(){return this.h8t}},{key:"h2t",get:function(){return this.I3t}},{key:"u_e",get:function(){var t=this.findAdBreakWithPredicate(0,(function(t){return t.t_e})),n=0;return t&&(n=t.ZJt),n}}]),n}(C0);F(),Tt(),Gt(),qt();var s6=function(){function t(t){this.Hre=t,this.Wfe=function(t){return t}}var n=t.prototype;return n.qfe=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h,f,v;return Ht(this,(function(d){switch(d.label){case 0:for(r=[],e=[],u=0,s=t.sources;u<s.length;u++)if(zA(o=s[u])){if(!i.Hre)continue;r.push(o)}else e.push(o);if(0===r.length)return[2,t];d.label=1;case 1:return void 0!==a||0===r.length?[3,7]:[4,GT.Vg.JH(r,t)];case 2:h=d.sent().Cc,f=h,Vo(n),d.label=3;case 3:return d.trys.push([3,5,,6]),[4,i.l_e(f,n)];case 4:return a=d.sent(),e.push(a),[3,6];case 5:return Fo(v=d.sent()),c=v,wo(r,f),[3,6];case 6:return[3,1];case 7:if(0!==t.sources.length&&0===e.length)throw new p("Fatal: unable to play DAI streams.");return c&&Yr(c.message),[2,ns({},t,{sources:e})]}}))}))()},n.l_e=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:if(!i.Hre)throw new p("Could not find Google\u2019s IMA DAI HTML5 SDK, all DAI sources will be ignored.");return r=i.Hre.py(M3.LOADED,n),e=i.Hre.py(M3.ERROR,n),u=t.type===cA.qC?"dash":"hls",i.Hre.YWt(ns({},t.ssai,{format:u})),[4,et.race([r,e])];case 1:return(s=c.sent()).type!==M3.LOADED?[3,5]:(o=t.type===cA.qC?cA.qC:cA.KC,i.Wfe?[4,i.Wfe(s.Gre.Xu||"")]:[3,3]);case 2:return a=c.sent(),[3,4];case 3:a=s.Gre.Xu,c.label=4;case 4:return[2,dA(ns({},t,{src:a,type:o}))];case 5:throw p(s.Gre.doe);case 6:return[2]}}))}))()},t}();Zk(function(t){return function(n){return function(n){function i(i,r){var e;(e=n.call(this,i,r)||this).f_e=!1,e.__e=function(t){13===t.which&&e.S0t.click(),e.EI()};var u,s,o,a=e.TI(),c=r.ads.googleIma.useAdUiElementForSsai,h=null!=(u=r.ads.googleIma.allowSeekingForGoogleDai)&&u;try{var f;c?(e.v_e=v.createElement("div"),mi(e.v_e),e.v_e.className="theo-dai-ad-ui"):(e.S0t=v.createElement("button"),e.S0t.className="theo-dai-clickthrough"),s=t(a,e.S0t,e.v_e),o=new u6(s,e);var d=null!=(f=e.S0t)?f:e.v_e;d&&e.we.appendChild(d),e.f_e=!0}catch(t){e.S0t=void 0,e.v_e=void 0}var l=new s6(s);return e.d_e=new r6(e,s,o,l,h),e.S0t&&(e.S0t.addEventListener("keydown",e.__e),e.S0t.addEventListener("click",e.__e)),e}It(i,n);var r=i.prototype;return r.ka=function(){var t=n.prototype.ka.call(this),i=t.ads;if(i){var r=this.d_e.wa;Rg(i,{get dai(){return r}})}return t},r.Gfe=function(t){n.prototype.RR.call(this,t)},r.RR=function(t,n){this.d_e.RR(t)},r.Zfe=function(){return n.prototype.aI.call(this)},r.aI=function(){return this.d_e.aI()},r.Ca=function(t){return this.d_e.nr(),n.prototype.Ca.call(this,t)},r.Xfe=function(t,i){var r=this;return Zt((function(){return Ht(this,(function(e){return[2,n.prototype.Rnt.call(r,t,i)]}))}))()},r.Rnt=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){return[2,i.d_e.Rnt(t,n)]}))}))()},r.Qfe=function(){return n.prototype.NR.call(this)},r.Jfe=function(){return n.prototype.LR.call(this)},r.NR=function(){return this.d_e.lt},r.LR=function(){return this.d_e.MR},r.$fe=function(){n.prototype.yn.call(this)},r.yn=function(){this.d_e.yn(),this.S0t&&(oi(this.S0t),this.S0t.removeEventListener("keydown",this.__e),this.S0t.removeEventListener("click",this.__e),this.S0t=void 0),this.v_e&&(oi(this.v_e),this.v_e=void 0)},Nt(i,[{key:"Xl",get:function(){return this.f_e}}]),i}(n)}}((function(t,n,i){if(!(f.google&&f.google.ima&&Qn(f.google.ima.dai)))throw new p("Could not find Google\u2019s IMA DAI HTML5 SDK, all DAI sources will be ignored.");var r=t4(),e=new google.ima.dai.api.StreamManager(t,i),u=t4();return new K3(e,n,u&&u!==r?u:void 0)})),Fk.Gst),F(),Tt(),F(),Tt(),Rt(),F(),Tt(),Dt();var o6=function(){function t(t,n){var i=this;this.na=t,this.b_e=n,this.D_e=!1,this.E_e=!1,this.N_e=[],this.R_e=-1/0,this.C_e=!1,this.kle=function(){i.D_e||(i.b_e.U_e(),i.C_e&&i.b_e.L_e(),i.D_e=!0)},this.Foe=function(){i.b_e.G_e(),i.E_e=!0},this.Ihe=function(){i.R_e<i.na.xR()&&(i.R_e=i.na.xR()),i.V_e()},this.A_e=function(){i.D_e&&(i.H_e=performance.now(),i.b_e.Z_e(i.na.xR()))},this.S_e=function(){i.H_e&&(i.b_e.X_e((performance.now()-i.H_e)/1e3),i.H_e=void 0)},this.X6=function(){i.R_e<i.na.xR()&&(i.R_e=i.na.xR()),i.b_e.Znt(i.na.NR().message)},this.T_e=function(){var t=i.na.jd()===1/0;t&&!i.C_e&&(i.C_e=t,i.M_e())},this.iMt=function(){i.b_e.x_e(i.R_e),i.b_e.z_e()},this.O_e=function(){void 0!==i.g_e&&i.b_e.q_e(i.m_e)}}var n=t.prototype;return n.p_e=function(t){this.w_e=t,this.b_e.y_e(t),this.na.bn(oa.ho,this.kle),this.na.bn(oa.Dy,this.Foe),this.na.bn(oa.hb,this.Ihe),this.na.bn(Uy.fa,this.X6),this.na.bn(yp.WL,this.A_e),this.na.bn([yp.BL,yp.OL,yp.UL],this.S_e),this.na.bn(oa.Iy,this.T_e),XT.yY(this.iMt)},n.k_e=function(){this.na.vn(oa.ho,this.kle),this.na.vn(oa.Dy,this.Foe),this.na.vn(oa.hb,this.Ihe),this.na.vn(Uy.fa,this.X6),this.na.vn(yp.WL,this.A_e),this.na.vn([yp.BL,yp.OL,yp.UL],this.S_e),this.na.vn(oa.Iy,this.T_e),XT.mY(this.iMt),this.E_e||(this.b_e.x_e(this.R_e),this.b_e.I_e()),this.C_e&&this.P_e(),this.w_e=void 0,this.D_e=!1,this.E_e=!1,this.R_e=-1/0,bo(this.N_e)},n.M_e=function(){this.D_e&&this.b_e.L_e(),this.g_e=performance.now(),this.B_e=m(this.O_e,6e4)},n.P_e=function(){this.b_e.F_e(this.m_e),this.C_e=!1,this.g_e=void 0,this.B_e&&(y(this.B_e),this.B_e=void 0)},n.V_e=function(){if(!S(this.na.jd())){var t=10*function(t,n){return k.floor(t/n)}(this.na.xR()/this.na.jd()*100,10);po(this.N_e,t)||(this.N_e.push(t),this.b_e.W_e(t))}},Nt(t,[{key:"m_e",get:function(){return void 0===this.g_e?0:(performance.now()-this.g_e)/1e3}}]),t}();F(),Tt();var a6=function(){function t(){}var n=t.prototype;return n.y_e=function(t){this.Y_e(["setDocumentTitle",t.itemTitle]),this.Y_e(["setCustomUrl","https://content.streamone.net/embed/cust=Xo9oT45EptMG/account="+t.accountID+"/item="+t.itemID]),this.Y_e(["trackPageView"])},n.U_e=function(){this.K_e("item first play","viewing","1")},n.I_e=function(){this.K_e("item skipped","skipped","1")},n.W_e=function(t){this.K_e("item progress","percent",""+t)},n.z_e=function(){this.K_e("item abandoned","window closed","1")},n.x_e=function(t){this.K_e("item time","watched",""+t)},n.G_e=function(){this.K_e("item finished","ended","1")},n.Z_e=function(t){this.K_e("buffering started","timestamp",""+t)},n.X_e=function(t){this.K_e("buffering ended","duration",""+t)},n.Znt=function(t){this.K_e("error","message",""+t)},n.L_e=function(){this.K_e("livestream first play","viewing","1")},n.q_e=function(t){this.K_e("livestream progress","duration",""+t)},n.F_e=function(t){this.K_e("livestream time","watched",""+t)},n.K_e=function(t,n,i){this.Y_e(["trackEvent","Video",t,n,i])},n.Y_e=function(t){var n="undefined"!=typeof _paq?_paq:void 0;n?n.push(t):console.warn("The Piwik library required for the StreamOne pre-integration was not found. Make sure it is loaded before instantiating THEOplayer.")},t}();F(),Tt(),Dt();var c6=function(){function t(t,n,i){var r=this;this.na=t,this.Oc=n,this.b_e=i,this.$_e=[],this.$de=function(){r.Q_e=r.na.jd(),r.b_e.tve(r.Q_e)},this.tfe=function(){r.Q_e&&(r.b_e.eve(r.Q_e),bo(r.$_e),r.Q_e=void 0)},this.ife=function(t){if(r.Q_e){var n=r.Q_e-r.Q_e*t.Y2t;r.b_e.ive(n),r.Q_e=void 0}},this.efe=function(){r.Q_e=r.na.jd(),r.b_e.sve()},this.Ihe=function(){var t=r.j_e;if(r.J_e&&t&&!po(r.$_e,t)){switch(t){case 1:r.b_e.nve();break;case 2:r.b_e.rve();break;case 3:r.b_e.ove();break;case 4:r.b_e.hve()}r.$_e.push(t)}},this.iMt=function(){r.b_e.uve()}}var n=t.prototype;return n.p_e=function(){this.Oc.bn("vnt",this.$de),this.Oc.bn("mnt",this.tfe),this.Oc.bn("j2t",this.ife),this.Oc.bn("f2t",this.efe),this.na.bn(oa.hb,this.Ihe),XT.yY(this.iMt)},n.k_e=function(){this.Oc.vn("vnt",this.$de),this.Oc.vn("mnt",this.tfe),this.Oc.vn("j2t",this.ife),this.Oc.vn("f2t",this.efe),this.na.vn(oa.hb,this.Ihe),bo(this.$_e),XT.mY(this.iMt),this.Q_e=void 0},Nt(t,[{key:"j_e",get:function(){if(this.Q_e){var t=this.na.xR()/this.Q_e;return k.floor(4*t)+1}}},{key:"J_e",get:function(){return void 0!==this.Q_e}}]),t}();F(),Tt();var h6=function(){function t(t){this.b_e=t}var n=t.prototype;return n.tve=function(t){this.b_e.K_e("ad start","duration",""+t)},n.eve=function(t){this.b_e.K_e("ad finished","duration",""+t)},n.ive=function(t){this.b_e.K_e("ad skipped","remaining time",""+t)},n.sve=function(){this.b_e.K_e("ad blocker","detected","1")},n.nve=function(){this.b_e.K_e("ad progress","firstQuartile","")},n.rve=function(){this.b_e.K_e("ad progress","secondQuartile","")},n.ove=function(){this.b_e.K_e("ad progress","thirdQuartile","")},n.hve=function(){this.b_e.K_e("ad progress","fourthQuartile","")},n.uve=function(){this.b_e.K_e("ad abandoned","window closed","1")},t}();function f6(t){return t&&"streamone"===t.integration}Zk((function(t){return function(t){function n(n,i){var r;(r=t.call(this,n,i)||this).cve=!1,r.co=function(){r.cve&&(r.lve.k_e(),r.dve&&r.dve.k_e());var t=r.iu();if(r.cve=!1,t){var n=function(t){if(t.analytics)for(var n=0,i=t.analytics;n<i.length;n++){var r=i[n];if(f6(r))return r}}(t);n&&(r.cve=!0,r.lve.p_e(n),r.dve&&r.dve.p_e())}};var e=new a6;if(r.lve=new o6(r,e),r.zc){var u=new h6(e);r.dve=new c6(r,r.zc,u)}return r.bn(oa.uo,r.co),r}return It(n,t),n.prototype.yn=function(){this.vn(oa.uo,this.co),this.cve&&(this.lve&&this.lve.k_e(),this.dve&&this.dve.k_e(),this.cve=!1),t.prototype.yn.call(this)},n}(t)}),Fk.Xst),F(),Tt(),F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Rt(),F(),Tt(),Gt(),Rt(),qt();var v6=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).vve=i,r.mve=void 0,r}It(n,t);var i=n.prototype;return i.A2=function(n,i,r){var e=this;return Zt((function(){var u;return Ht(this,(function(s){switch(s.label){case 0:return[4,d6(n)];case 1:return u=s.sent(),[4,t.prototype.A2.call(e,u,i,r)];case 2:return s.sent(),e.fve(u,i),[2]}}))}))()},i.g2=function(n,i,r){var e=this;return Zt((function(){var u;return Ht(this,(function(s){switch(s.label){case 0:return[4,d6(n)];case 1:return u=s.sent(),[4,t.prototype.g2.call(e,u,i,r)];case 2:return s.sent(),e.fve(u,i),[2]}}))}))()},i.fve=function(t,n){var i=this.vve._ve;if(void 0!==i){var r,e=n.W1;if(this.mve!==e&&(this.mve=e,i.setLevelSwitching(e),i.setContainerFormat(2)),function(t){return Hn.call(t,"wit")}(n)){var u=n.wit,s=n.wit+n.ct;r=n.BV,i.newPts(u,s,"video",e)}else 0;i.appendBuffer(t.Kk,"video",e,r)}},i.eT=function(n,i,r){var e=this;return Zt((function(){var u;return Ht(this,(function(s){switch(s.label){case 0:return[4,t.prototype.eT.call(e,n,i,r)];case 1:return s.sent(),null==(u=e.vve._ve)||u.flushBuffer(n,i),[2]}}))}))()},n}(XM);function d6(t){return l6.apply(this,arguments)}function l6(){return l6=Zt((function(t){var n;return Ht(this,(function(i){switch(i.label){case 0:switch(t.Tw){case xR.iJ:return[3,1];case xR.Sk:return[3,2];case xR.sJ:return[3,4]}return[3,5];case 1:return[2,t];case 2:return[4,Ud(t.Kk)];case 3:return n=i.sent(),[2,{Tw:xR.iJ,Kk:new E(n)}];case 4:throw new p("Opaque initialization segments are not supported on web.");case 5:return[2]}}))})),l6.apply(this,arguments)}var g6=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).vve=i,r.Aot(n),r}return It(n,t),n.prototype.Tot=function(t){return t.m3===qg.mE?new v6(t,this.vve):new XM(t)},n}(WM),w6=function(t){function n(n){var i;(i=t.call(this,n)||this).bve=!1,i.Ave=function(t){i.bve||(t||i.BH("LCEVC SDK failed to initialize."),i.pve())},i.Sve=function(){i.bve||i.BH("LCEVC SDK failed to initialize.")},i.wve=v.createElement("canvas"),mi(i.wve),i.wve.style.display="none";var r,e=n.jG;return e.parentElement.insertBefore(i.wve,null!=(r=e.nextSibling)?r:null),LCEVCdec.ready.then(i.Ave,i.Sve),i}It(n,t);var i=n.prototype;return i.pve=function(){this.gve=new LCEVCdec.LCEVCdec(this.WB.jG,this.wve,{})},i.ge=function(){t.prototype.ge.call(this),this.yve()},i.be=function(){t.prototype.be.call(this),this.wve.style.display="none"},i.nr=function(){return this.wve.style.display="none",void 0!==this.gve&&(this.gve.close(),this.pve()),t.prototype.nr.call(this)},i.Xw=function(){return this.bve=!0,void 0!==this.gve&&(this.gve.close(),this.gve=void 0),oi(this.wve),t.prototype.Xw.call(this)},i.BH=function(t){this._o(new kN(new tw($g.ABORTED,t)))},i.yve=function(){this.WB.jG.style.display="none",this.wve.style.display="block"},i.pot=function(t){return new g6(t,this)},i.got=function(t){return new zM(t)},Nt(n,[{key:"_ve",get:function(){return this.gve}},{key:"oot",get:function(){return this.WB}}]),n}(YM),m6=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.OH=function(n){if(n===qg.mE)return this.Tve=new w6(t.prototype.OH.call(this,n)),this.Tve},i.yH=function(n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return i.Tve=void 0,[4,(r=n).Xw()];case 1:return e.sent(),[4,t.prototype.yH.call(i,r.oot)];case 2:return e.sent(),[2]}}))}))()},Nt(n,[{key:"kve",get:function(){return this.Tve}}]),n}(BM),y6=function(t){function n(n,i,r,e,u,s,o,a){var c,h=new m6(s),f=new qM(h),v=f.OH(o);return(c=t.call(this,n,i,r,e,u,v,a)||this).xve=function(t){t.Ht.bn(Tg.hC,c.Eve)},c.Rve=function(t){t.Ht.vn(Tg.hC,c.Eve)},c.Eve=function(t){var n,i=null==(n=c.Ive.kve)?void 0:n._ve,r=t.pat.IC;null==i||i.setCurrentLevel(r)},c.bH=f,c.Ive=h,c.dO.bn(pg.VI,c.xve),c.dO.bn(pg.UI,c.Rve),c}return It(n,t),n.prototype.yn=function(){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:for(i=0,r=n.dO.lC;i<r.length;i++)r[i].vn(Tg.hC,n.Eve);return n.rt.vn(pg.VI,n.xve),n.rt.vn(pg.UI,n.Rve),[4,t.prototype.yn.call(n)];case 1:return e.sent(),[4,n.WB.Xw()];case 2:return e.sent(),[4,n.bH.yH(n.WB)];case 3:return e.sent(),[2]}}))}))()},n}(NZ),p6=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).UH=kk.dG,n}It(n,t);var i=n.prototype;return i.uP=function(t,n,i,r,e,u,s){var o=new mM(PM.Vg.Brt,PM.Vg.Lrt,PM.Vg.Mrt,PM.Vg.Frt),a=n;return QZ.yT()&&(a=new QZ(a)),new y6(i,r,e,u,o,a,qg.mE,t)},i.FH=function(n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return n.lcevc?[4,t.prototype.FH.call(i,n)]:[2,!1];case 1:if(!r.sent())return[2,!1];if(void 0===f.LCEVCdec)throw new id(td.CONFIGURATION_ERROR,"LCEVC SDK is not loaded.");return[2,!0]}}))}))()},i.WH=function(){return!1},n}(lM);UT(new p6),F(),Tt(),Gt(),Rt(),qt();var _6=function(t){function n(n,i,r,e,u,s,o,a){var c,h=new m6(n),f=new qM(h),v=f.OH(qg.mE);return(c=t.call(this,v,i,r,e,u,s,o,a)||this).xve=function(t){t.Ht.bn(Tg.hC,c.Eve)},c.Rve=function(t){t.Ht.vn(Tg.hC,c.Eve)},c.Eve=function(t){var n,i=null==(n=c.Ive.kve)?void 0:n._ve,r=t.pat.gLt.IC;null==i||i.setCurrentLevel(r)},c.bH=f,c.Ive=h,c.dO.bn(pg.VI,c.xve),c.dO.bn(pg.UI,c.Rve),c}return It(n,t),n.prototype.yn=function(){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:for(i=0,r=n.dO.lC;i<r.length;i++)r[i].vn(Tg.hC,n.Eve);return n.rt.vn(pg.VI,n.xve),n.rt.vn(pg.UI,n.Rve),[4,t.prototype.yn.call(n)];case 1:return e.sent(),[4,n.bH.yH(n.WB)];case 2:return e.sent(),[2]}}))}))()},n}(pq),b6=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).UH=kk.mG,n}It(n,t);var i=n.prototype;return i.uP=function(t,n,i,r,e,u,s){return new _6(n,i,e,u,qK(r.libraryLocation),new yq(r.libraryLocation),new mM(PM.Vg.Brt,PM.Vg.Lrt,PM.Vg.Mrt,PM.Vg.Frt),r)},i.FH=function(n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return n.lcevc?[4,t.prototype.FH.call(r,n,i)]:[2,!1];case 1:if(!e.sent())return[2,!1];if(void 0===f.LCEVCdec)throw new id(td.CONFIGURATION_ERROR,"LCEVC SDK is not loaded.");return[2,!0]}}))}))()},i.WH=function(){return!1},n}(bq);UT(new b6),F(),Tt(),F(),Tt(),Dt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt();var k6=function(t){return t.Cve="nr",t.Pve="Dve",t}({}),A6="freewheel-nonlinear-ad",T6=[oa.Iy,oa.hb,oa.ub,oa.zy,yp.UL,oa.ho],S6=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i)||this).YG=void 0,s.KG=void 0,s.Bve=function(t){var n=t.lnt,i="vnt"===t.type;if(n.F2t===M$.M2t){var r=s.na.we.classList;i?r.add(A6):r.remove(A6)}i?s.ge():s.be()},s.Lve=function(){s.C3t(),s.na.EI(),s.na.be()},s.Kie=function(){s.Mve.qve&&(s.na.PR||s.na.xI(),s.be(),s.na.ge(),s.x1t())},s.Mve=e,s.bH=r,s.WB=u,s.Het=u.jG,s.Het.controls=!1,s.Nve(),s.Fve(),s.Wve(),s}It(n,t);var i=n.prototype;return i.kI=function(){this.bH.vZ()},i.Nve=function(){this.Mve.bn("_nt",this.Lve),this.Mve.bn(["vnt","mnt"],this.Bve),this.Mve.bn("fnt",this.Kie)},i.Ove=function(){this.Mve.vn("_nt",this.Lve),this.Mve.vn(["vnt","mnt"],this.Bve),this.Mve.vn("fnt",this.Kie)},i.Fve=function(){this.h2t.ru(this.Mve.Vve)},i.Wve=function(){this.Mve.Uve.bn(T6,this.Ds)},i.Gve=function(){this.Mve.Uve.vn(T6,this.Ds)},i.hnt=function(t){},i.xR=function(){return this.Mve.Uve.ER},i.RR=function(t,n){},i.jd=function(){return this.Mve.Uve.ct},i.DR=function(){return this.Mve.Uve.PR},i.NR=function(){return this.YG},i.LR=function(){return this.KG},i.fI=function(){return 0},i.mI=function(){return 0},i.pI=function(){return this.Mve.Uve.gI},i.wI=function(t){this.Mve.Uve.gI=t},i.XR=function(){return this.Mve.Uve.ZR},i.zR=function(t){this.Mve.Uve.ZR=t},i.oI=function(){return this.Mve.Uve.rI},i.aI=function(){return this.Mve.Uve.hI},i.jR=function(){return this.Mve.Uve.KR},i.c2t=function(t){if(this.g2t||this.Mve.c2t(t),this.Mve.Hve){if(t.type===oa.zy&&this.na.PR)return!0;if(t.type===oa.Dy)return this.Mve.Xve.Zve(),!0}return!1},i.be=function(){this.Mve.be()},i.EI=function(){this.KR||this.Mve.Uve.EI()},i.zve=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:if(t.Mve.qve)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,t.Mve.s5t()];case 2:return i.sent(),[3,4];case 3:return n=i.sent(),t.Yve(n,LJ.GENERAL),[3,4];case 4:return[2]}}))}))()},i.Kve=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.Mve.Uve.jve?(t.Mve.Uve.xI(),[2,!1]):[3,1];case 1:if(!t.Mve.Qve)return[3,5];i.label=2;case 2:return i.trys.push([2,4,,5]),[4,t.Mve.Xve.Jve()];case 3:return i.sent(),[3,5];case 4:return n=i.sent(),t.Yve(n,LJ.PLAYBACK),[3,5];case 5:return[2,!0]}}))}))()},i.Yve=function(t,n){t.name!==k6.Cve&&this.h2t._o(new N$(n,"Ads could not be loaded."))},i.xI=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.KR&&t._o(new hT(t.ER)),[4,t.zve()];case 1:return i.sent(),t.$ve?[2]:[4,t.Kve()];case 2:return n=i.sent(),!t.$ve&&n&&t.Kie(),[2]}}))}))()},i.y8t=function(t,n,i){n===IL.tnt&&this.Mve.y8t(t)},i.ge=function(){this.Mve.ge()},i.MD=function(){this.Mve.Uve.MD()},i.TI=function(){return this.Het},i.pR=function(){return this.bH.yZ.map((function(t){return t.jG}))},i.b2t=function(t){},i.yn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.RI()];case 1:return n.sent(),t.Mve.yn(),[4,t.bH.yH(t.WB)];case 2:return n.sent(),t.Ove(),t.Gve(),t.h2t.bK(t.Mve.Vve),[2]}}))}))()},i.RI=function(){var t=this;return Zt((function(){return Ht(this,(function(n){return t.Mve.nr(),t.g2t&&(t.na.ge(),t.x1t(),t.be()),[2]}))}))()},Nt(n,[{key:"r2t",get:function(){return this}},{key:"s2t",get:function(){return n.s2t}},{key:"snt",get:function(){var t;return null!=(t=this.Mve.Vve.snt)?t:null}},{key:"ent",get:function(){var t=this.Mve.Vve.n8t;return t?[t]:[]}},{key:"nnt",get:function(){return this.Mve.Vve.nnt}},{key:"rnt",get:function(){return this.Mve.Vve.rnt}},{key:"$ve",get:function(){return Yn(this.NR())}}],[{key:"s2t",get:function(){return zQ._$t}}]),n}(s0);F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Gt(),Dt(),Rt(),Ut(),qt(),F(),Tt(),Dt(),Rt();var E6=function(t){function n(n,i,r,e){var u;return(u=t.call(this,r)||this).eme=e,u.nme=0,u.V2t=R6(e),u.S2t=n,u.T2t=i,u}return It(n,t),Nt(n,[{key:"tme",get:function(){return this.eme}},{key:"ime",get:function(){return this.zc[this.nme]}},{key:"rme",get:function(){return this.nme},set:function(t){this.nme=t}},{key:"F2t",get:function(){return this.V2t}},{key:"aQt",get:function(){return zQ._$t}}]),n}(x$);F(),Tt(),Dt(),Rt();var I6=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).hme=r,e}return It(n,t),n.prototype.ka=function(){return V$(this)},Nt(n,[{key:"ome",get:function(){return this.hme},set:function(t){this.hme!==t&&(this.hme=t)}},{key:"Ti",get:function(){return this.sd.tme.getHeight()}},{key:"ji",get:function(){return this.sd.tme.getWidth()}},{key:"QYt",get:function(){return this.ome.getEventCallbackUrls(tv.freewheel.SDK.EVENT_AD_CLICK,tv.freewheel.SDK.EVENT_TYPE_CLICK)[0]}},{key:"aQt",get:function(){return zQ._$t}}]),n}(B$);function R6(t){return t.getTimePositionClass()===tv.freewheel.SDK.TIME_POSITION_CLASS_OVERLAY?M$.M2t:M$.Mjt}var C6=function(t){function n(i,r){var e;return(e=t.call(this)||this).Vs=i,e.$T=r,e.Rme=tv.freewheel.SDK.TIME_POSITION_CLASS_PREROLL,e.Ime=tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL,e.Pme=tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL,e.Cme=tv.freewheel.SDK.TIME_POSITION_CLASS_OVERLAY,e._me=[],e.mme=[],e.pme=[],e.wme=[],e.bme=function(t){var i=t.slot,r=e.Mme(i);r&&(n.Bme(i,r),e.p$t=r,r.E2t(),e.Wme(r),r.F2t===M$.Mjt&&e._o(new ZL(r)))},e.Ame=function(){var t=e.snt;t&&t.F2t===M$.Mjt&&(e._o(new UL(t)),e.$T.src=""),e.p$t=void 0},e.Sme=function(t){var n=e.Nme(t.adInstance);n&&(e._o(new GL(n,n.ome.getPlayheadTime())),e.a$t=n),t.adInstance.getEventCallbackUrls(tv.freewheel.SDK.EVENT_AD_CLICK,tv.freewheel.SDK.EVENT_TYPE_CLICK).length>0&&(e.Vs.style.cursor="pointer",e.Vs.addEventListener("click",e.Ume))},e.Tme=function(){e.Vs.style.cursor="",e.Vs.removeEventListener("click",e.Ume)},e.Ume=function(){e.n8t&&e.n8t.ome.getRendererController().processEvent({name:tv.freewheel.SDK.EVENT_AD_CLICK})},e.kme=function(t){switch(t.subType){case tv.freewheel.SDK.EVENT_AD_COMPLETE:e.Fme();break;case tv.freewheel.SDK.EVENT_AD_SKIPPED:e.x0t(),e.Fme()}},e}It(n,t);var i=n.prototype;return i.ame=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return i.ume=t,i.cme=n,i.lme(t),[4,n];case 1:return r.sent(),i.dme(),[2]}}))}))()},i.dme=function(){this.yme()},i.lme=function(t){t.addEventListener(tv.freewheel.SDK.EVENT_SLOT_STARTED,this.bme),t.addEventListener(tv.freewheel.SDK.EVENT_SLOT_ENDED,this.Ame),t.addEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION,this.Sme),t.addEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION_END,this.Tme),t.addEventListener(tv.freewheel.SDK.EVENT_AD,this.kme)},i.Eme=function(){this.ume&&(this.ume.removeEventListener(tv.freewheel.SDK.EVENT_SLOT_STARTED,this.bme),this.ume.removeEventListener(tv.freewheel.SDK.EVENT_SLOT_ENDED,this.Ame),this.ume.removeEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION,this.Sme),this.ume.removeEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION_END,this.Tme),this.ume.removeEventListener(tv.freewheel.SDK.EVENT_AD,this.kme))},i.yme=function(){this._me=this.xme(this.Rme),this.mme=this.xme(this.Ime).concat(this.xme(this.Cme)),this.pme=this.xme(this.Pme),this.wme=this._me.concat(this.mme).concat(this.pme)},i.xme=function(t){if(!this.ume)return[];var n=this.ume.getSlotsByTimePositionClass(t);return this.Dme(n)},i.Nme=function(t){if(this.p$t){var n=t.getSlot().getAdInstances().indexOf(t);-1!==n&&(this.p$t.rme=n);var i=this.p$t.ime;return i&&(i.ome=t),i}},i.Mme=function(t){return ho(this.wme,(function(n){return n.tme===t}))},i.Dme=function(t){return t.map((function(t){var i=t.getTotalDuration(),r=n.Lme(t);return new E6(i,i,r,t)}))},i.x0t=function(){var t=this.n8t;t&&this._o(new X$(t,this.Ome()))},i.Fme=function(){var t=this.n8t;t&&(this._o(new zL(t,t.ome.getPlayheadTime())),this.a$t=void 0)},i.Vme=function(t){var n=this.snt;n&&(n.XJt=function(t,n,i){void 0===i&&(i=0);for(var r=0,e=t.zc.length,u=n;u<e;u++){var s=t.zc[u],o=s.ct;if(s){var a=o;u===n&&(a=sr(o-i,0,o)),r+=a}}return r}(n,n.rme,t))},i.Ome=function(){var t=this.n8t;if(!t)return 0;var n=t.ome;return n.getPlayheadTime()/n.getDuration()},i.Wme=function(t){wo(this.wme,t),wo(this._me,t),wo(this.mme,t),wo(this.pme,t)},i.nr=function(){this.Eme(),this._me.length=0,this.mme.length=0,this.pme.length=0,this.wme.length=0,this.a$t=void 0,this.p$t=void 0,this.ume=void 0,this.cme=void 0},i.yn=function(){this.nr(),this.Ro()},n.Bme=function(t,n){for(var i=t.getAdInstances(),r=[],e=0;e<i.length;e++){var u=i[e],s=R6(u.getSlot()),o=new I6(n,s,u);o.L2t(u.getAdId(),u.getSlot().getWidth(),u.getSlot().getHeight(),u.getDuration(),[],0),n.R2t(o),r.push(o)}return r},n.Lme=function(t){return t.getTimePositionClass()===tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL?-1:t.getTimePosition()},Nt(n,[{key:"fme",get:function(){return this._me}},{key:"vme",get:function(){return this.mme}},{key:"gme",get:function(){return this.pme}},{key:"snt",get:function(){return this.p$t}},{key:"n8t",get:function(){return this.a$t}},{key:"nnt",get:function(){var t=[];if(this.p$t){var n,i=this.p$t.rme;if(i>=0)(n=t).push.apply(n,Ft(this.p$t.zc.slice(i+1)))}for(var r=0,e=this.wme;r<e.length;r++){var u,s=e[r];(u=t).push.apply(u,Ft(s.zc))}return t}},{key:"rnt",get:function(){return this.wme}}]),n}(ua);F(),Tt(),Dt(),Rt();var N6=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).na=n,u.Ku=i,u.Hyt=r,u.b0t=e,u.v4=SA.pB().ks(),u.dZ=!0,u.MA=NaN,u.Qme=!1,u.B4=!1,u.O4=bp.eO,u.uZ=0,u.tge=0,u.Zme=function(t){switch(t.subType){case tv.freewheel.SDK.EVENT_AD_PAUSE:(function(t){if(!t)return!0;var n=t.ome,i=n.getPlayheadTime(),r=n.getDuration();return i>=r||ar(r,i)})(u.Hyt.n8t)||(u.KR=!0,u._o(new cT(u.ER)));break;case tv.freewheel.SDK.EVENT_AD_RESUME:u.KR=!1,u._o(new Ip(u.ER));break;case tv.freewheel.SDK.EVENT_AD_VOLUME_CHANGE:if(u.Zgt){var n=u.Zgt.getAdVolume();0===n?u.Qme=!0:u.zA=n,u._o(new wT(u.ER,u.gI))}}},u.zme=function(){u.PR=!1;var t=u.KR;if(u.KR=!1,t&&(u._o(new hT(u.ER)),u._o(new Ip(u.ER))),u.O4=bp.sO,u.ER=0,u.Hyt.n8t){var n=u.Hyt.n8t.ome;u.MA=n.getDuration(),u._o(new fT(u.MA)),u.ege=m((function(){if(u.jve){u.Hyt.Vme(u.ER);var t=n.getPlayheadTime();or(t,u.tge,.001)||u._o(new lg(t,void 0)),u.tge=t}else u.Hp()}),250),u.Zgt&&u.Zgt.setAdVolume(D6(u.ZR,u.gI))}},u.ige=function(){var t=u.Hyt.n8t;t&&(t.F2t===M$.M2t?u.na.EI():u.KR||u.EI())},u.Hp=function(){y(u.ege),u.ege=void 0},u.qme=function(){u.Hp(),u.PR=!0},u.Yme=function(){u.$me("pause")},u.Kme=function(){u.$me("playing")},u.Td=function(t){t.sd.F2t===M$.Mjt&&(u.KR=!1)},u.Xme=function(){u.Zgt&&u.Zgt.resize(u.Ku.Au,u.Ku.Eu)},u.zA=n.gI,r.bn("_nt",u.Td),u.Ku.bn(sI.mn,u.Xme),u.b0t.addEventListener("click",u.ige),u}It(n,t);var i=n.prototype;return i.Gme=function(){this.Zgt&&this.Zgt.setAdVolume(D6(this.ZR,this.gI))},i.Hme=function(t){this.Zgt=t,this.lme(t)},i.lme=function(t){t.addEventListener(tv.freewheel.SDK.EVENT_AD,this.Zme),t.addEventListener(tv.freewheel.SDK.EVENT_SLOT_STARTED,this.Xme),t.addEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION,this.zme),t.addEventListener(tv.freewheel.SDK.EVENT_AD_COMPLETE,this.qme),t.addEventListener(tv.freewheel.SDK.EVENT_CONTENT_VIDEO_PAUSE_REQUEST,this.Yme),t.addEventListener(tv.freewheel.SDK.EVENT_CONTENT_VIDEO_RESUME_REQUEST,this.Kme)},i.jme=function(){var t=this.Zgt;t&&(t.removeEventListener(tv.freewheel.SDK.EVENT_AD,this.Zme),t.addEventListener(tv.freewheel.SDK.EVENT_SLOT_STARTED,this.Xme),t.removeEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION,this.zme),t.removeEventListener(tv.freewheel.SDK.EVENT_AD_COMPLETE,this.qme),t.removeEventListener(tv.freewheel.SDK.EVENT_CONTENT_VIDEO_PAUSE_REQUEST,this.Yme),t.removeEventListener(tv.freewheel.SDK.EVENT_CONTENT_VIDEO_RESUME_REQUEST,this.Kme))},i.xI=function(){this.Hyt.snt&&(this.Hyt.snt.tme.resume(),this.KR=!1)},i.EI=function(){this.Hyt.snt&&(this.Hyt.snt.tme.pause(),this.KR=!0)},i.$me=function(t){var i=n.Jme(t);this.Zgt&&i&&this.Zgt.setVideoState(i)},i.MD=function(){var t=this.Hyt.n8t;t&&t.ome.skip()},i.nr=function(){if(this.jme(),this.Zgt){this.$me("stop"),this.Zgt.setVideoState(tv.freewheel.SDK.VIDEO_STATE_STOPPED);for(var t=this.Zgt.getTemporalSlots(),n=0;n<t.length;n++){t[n].stop()}this.Zgt.dispose(),this.Zgt=void 0}this.MA=NaN,this.PR=!1,this.O4=bp.eO,this.ER=0,this.tge=0,this.KR=!0,void 0!==this.ege&&(y(this.ege),this.ege=void 0)},i.yn=function(){this.nr(),this.Ro(),this.Hyt.vn("_nt",this.Td),this.Ku.vn(sI.mn,this.Xme),this.b0t.removeEventListener("click",this.ige)},n.Jme=function(t){switch(t){case"pause":return tv.freewheel.SDK.VIDEO_STATE_PAUSED;case"playing":return tv.freewheel.SDK.VIDEO_STATE_PLAYING;case"ended":return tv.freewheel.SDK.VIDEO_STATE_COMPLETED;case"stop":return tv.freewheel.SDK.VIDEO_STATE_STOPPED}},Nt(n,[{key:"ER",get:function(){var t=this.Hyt.n8t;return t&&(this.ER=t.ome.getPlayheadTime()),this.uZ},set:function(t){this.uZ=t}},{key:"ct",get:function(){return this.MA}},{key:"jve",get:function(){return!!this.Hyt&&void 0!==this.Hyt.snt}},{key:"KR",get:function(){return this.dZ},set:function(t){this.dZ=t}},{key:"gI",get:function(){return this.zA},set:function(t){this.Zgt&&this.Zgt.setAdVolume(t),this.zA=t}},{key:"ZR",get:function(){return this.Zgt&&(this.Qme=0===this.Zgt.getAdVolume()),this.Qme},set:function(t){this.Zgt&&this.Zgt.setAdVolume(D6(t,this.gI)),this.Qme=t}},{key:"hI",get:function(){return this.v4}},{key:"PR",get:function(){return this.B4},set:function(t){this.B4=t}},{key:"rI",get:function(){return this.O4}}]),n}(ua);function D6(t,n){return t?0:n}F(),Tt(),Gt(),qt(),F(),Tt(),Dt(),Rt();var P6=function(t){function n(){return t.call(this,"A FreeWheel Ad Error occurred")||this}return It(n,t),Nt(n,[{key:"name",get:function(){return k6.Pve}}]),n}(Mo);F(),Tt(),Dt(),Rt();var x6=function(t){function n(){return t.call(this,"A FreeWheel Reset Error Occurred")||this}return It(n,t),Nt(n,[{key:"name",get:function(){return k6.Cve}}]),n}(Mo),L6=0;var M6=function(){function t(t,n,i,r){var e=this;this.Zgt=n,this.oge=function(t){e.Zgt.removeEventListener(tv.freewheel.SDK.EVENT_REQUEST_COMPLETE,e.oge),t.success?e.rge.Vb(void 0):e.rge.Wb(new P6)},this.sge(t,i,r),n.addEventListener(tv.freewheel.SDK.EVENT_REQUEST_COMPLETE,this.oge),this.rge=new Gc}var n=t.prototype;return n.sge=function(t,n,i){t.setNetwork(n.networkId),t.setServer(n.adServerUrl);var r=this.Zgt;if(r.setProfile(n.profile),n.assetId&&n.assetDuration&&r.setVideoAsset(n.assetId,n.assetDuration),n.siteSectionId&&r.setSiteSection(n.siteSectionId),r.registerVideoDisplayBase(i),n.cuePoints&&n.cuePoints.length)for(var e=0,u=n.cuePoints;e<u.length;e++){var s=u[e];r.addTemporalSlot("cue-"+ ++L6,s.adUnit,s.timeOffset)}var o=n.customData;if(Qn(o))for(var a=b.keys(o),c=0;c<a.length;c++){var h=a[c],f=o[h];r.addKeyValue(h,f)}},n.nge=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.Zgt.submitRequest(),[4,t.rge.Ub];case 1:return n.sent(),[2]}}))}))()},n.nr=function(){this.Zgt.removeEventListener(tv.freewheel.SDK.EVENT_REQUEST_COMPLETE,this.oge),this.rge.Wb(new x6)},t}();F(),Tt(),Gt(),qt(),F(),Tt(),Dt();var O6=function(){function t(t){var n=this;this.ume=t,this.Ame=function(t){n.hge(),n.Kw.Vb(void 0)},this.$6t=function(t){n.hge(),n.Kw.Wb(new P6)},this.Kw=new Gc,t.addEventListener(tv.freewheel.SDK.EVENT_SLOT_ENDED,this.Ame),t.addEventListener(tv.freewheel.SDK.EVENT_ERROR,this.$6t)}var n=t.prototype;return n.hge=function(){this.ume.removeEventListener(tv.freewheel.SDK.EVENT_SLOT_ENDED,this.Ame),this.ume.removeEventListener(tv.freewheel.SDK.EVENT_ERROR,this.Ame)},n.vUt=function(){this.hge(),this.Kw.Wb(new x6)},Nt(t,[{key:"age",get:function(){return this.Kw.Ub}}]),t}(),B6=function(){function t(t,n){var i=this;this.na=t,this.cge=n,this.dge=0,this.fge=function(){for(var t=i.na.xR(),n=0,r=i.cge.vme;n<r.length;n++){var e=r[n],u=new SA([i.dge,t],[!0,!0]),s=e.tme.getTimePosition();if(u.wr(s))switch(e.tme.getTimePositionClass()){case tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL:i.uge([e]);break;case tv.freewheel.SDK.TIME_POSITION_CLASS_OVERLAY:e.tme.play(),e.tme.setVisible(!0)}}i.dge=t},t.bn(oa.hb,this.fge)}var n=t.prototype;return n.bO=function(t){this.ume=t},n.Jve=function(){return this.uge(this.cge.fme)},n.Zve=function(){this.uge(this.cge.gme)},n.uge=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:if(!n.ume)return[2];e.label=1;case 1:if(!(t.length>0))return[3,6];n.lge=new O6(n.ume),i=n.lge.age,(r=n.cge.snt)&&r.F2t===M$.M2t&&r.tme.stop(),t.shift().tme.play(),e.label=2;case 2:return e.trys.push([2,,4,5]),[4,i];case 3:return e.sent(),[3,5];case 4:return n.lge=void 0,[7];case 5:return[3,1];case 6:return[2]}}))}))()},n.nr=function(){this.lge&&(this.lge.vUt(),this.lge=void 0),this.dge=0},n.yn=function(){this.na.vn(oa.hb,this.fge)},t}(),V6=0,F6=function(t){function n(i,r,e){var u;return(u=t.call(this)||this).na=i,u.$T=r,u.pge=!1,u.vge=n.createUniqueDisplayBaseId(),u.b0t=n.yge(i.we,r,u.vge),u._ge=new f.tv.freewheel.SDK.AdManager,u.wge=new C6(u.b0t,u.$T),u.mge=new B6(u.na,u.Vve),u.ru(u.Vve),u.q6t=new N6(i,e,u.Vve,u.b0t),u}It(n,t);var i=n.prototype;return i.s5t=function(){var t=this;return Zt((function(){var n,i,r,e;return Ht(this,(function(u){switch(u.label){case 0:if(!t.uQt)throw new p("Invalid state");n=t._ge,(i=n.newContext()).setParameter(tv.freewheel.SDK.PARAMETER_RENDERER_VIDEO_DISPLAY_CONTROLS_WHEN_PAUSE,!1,tv.freewheel.SDK.PARAMETER_LEVEL_GLOBAL),i.setParameter(tv.freewheel.SDK.PARAMETER_EXTENSION_CONTENT_VIDEO_ENABLED,!1,tv.freewheel.SDK.PARAMETER_LEVEL_GLOBAL),r=new M6(n,i,t.uQt,t.vge),e=t.Vve.ame(i,r.nge()),t.mge.bO(i),t.Uve.Hme(i),t.gge=r,u.label=1;case 1:return u.trys.push([1,,3,4]),[4,e];case 2:return u.sent(),[3,4];case 3:return t.Uve.Gme(),t.pge=!0,[7];case 4:return[2]}}))}))()},i.c2t=function(t){this.Uve.$me(t.type)},i.ge=function(){this.b0t.style.display="block",this.$T.style.display="block"},i.be=function(){this.b0t.style.display="none",this.$T.style.display="none"},i.y8t=function(t){this.uQt=t},i.nr=function(){this.pge=!1,this.uQt=void 0,this.Vve.nr(),this.mge.nr(),this.gge&&(this.gge.nr(),this.gge=void 0),this.Uve.nr(),this.$T.src=""},i.yn=function(){this.nr(),this.q6t.yn(),this.mge.yn(),this.Vve.yn(),this.b0t.remove(),oi(this.b0t)},n.createUniqueDisplayBaseId=function(){return"theo-freewheel-"+ ++V6},n.yge=function(t,n,i){var r=v.createElement("div");return r.id=i,r.className="theo-freewheel",n.classList.add("theo-freewheel-video"),r.appendChild(n),t.appendChild(r),r},Nt(n,[{key:"Hve",get:function(){return 0!==this.Vve.gme.length}},{key:"Qve",get:function(){return 0!==this.Vve.fme.length}},{key:"Uve",get:function(){return this.q6t}},{key:"Vve",get:function(){return this.wge}},{key:"qve",get:function(){return this.pge}},{key:"Xve",get:function(){return this.mge}}]),n}(RI);function U6(t){if(f.tv)switch(t){case"preroll":return tv.freewheel.SDK.ADUNIT_PREROLL;case"midroll":return tv.freewheel.SDK.ADUNIT_MIDROLL;case"postroll":return tv.freewheel.SDK.ADUNIT_POSTROLL;case"overlay":return tv.freewheel.SDK.ADUNIT_OVERLAY}}function W6(t,n,i){if(void 0!==n&&S(n)||n<0||n===1/0)return NaN;switch(t){case"preroll":return 0;case"postroll":return i}return eQ(n)}var Z6=function(){function t(){}var n=t.prototype;return n.CZ=function(t){return t.integration===mS.FREEWHEEL},n.t2t=function(t,n,i){if(Boolean(f.tv&&f.tv.freewheel&&f.tv.freewheel.SDK&&f.tv.freewheel.SDK.AdManager)){var r=new WT(t.Hu,t.Wl,1,[qg.mE]);r.AZ(t.we);var e=r.OH(qg.mE),u=new F6(t,e.jG,t.Hu);return new S6(t,n,r,u,e)}},n.qz=function(t){var n=Cg(t);qn(n.cuePoints)||(n.cuePoints=[]);for(var i=[],r=t.assetDuration||0,e=0,u=n.cuePoints;e<u.length;e++){var s=u[e],o=W6(s.adUnit,s.timeOffset,r),a=U6(s.adUnit);!S(o)&&ti(a)?(s.adUnit=a,s.timeOffset=o,i.push(s)):Kn.Vp("Invalid adUnit/timeOffset combination. Cue was removed.")}return n.cuePoints=i,n},n.g6=function(t,n,i,r){i.y8t(t,n,r)},Nt(t,[{key:"$1t",get:function(){return zQ._$t}}]),t}();yS.Vg.PZ(new Z6),F(),Tt(),F(),Tt(),F(),Tt(),Rt(),F(),Tt(),F(),Tt();var X6,G6=self.theoplayerDeviceMetadata;function H6(t){return t.navigator&&t.navigator.userAgent||""}F(),Tt(),F(),Tt(),F(),Tt(),sn(),F(),Tt(),sn();var z6=(un(X6={},"Windows 10",/(Windows 10.0|Windows NT 10.0)/i),un(X6,"Windows 8.1",/(Windows 8.1|Windows NT 6.3)/i),un(X6,"Windows 8",/(Windows 8|Windows NT 6.2)/i),un(X6,"Windows 7",/(Windows 7|Windows NT 6.1)/i),un(X6,"Windows Vista",/Windows NT 6.0/i),un(X6,"Windows Server 2003",/Windows NT 5.2/i),un(X6,"Windows XP",/(Windows NT 5.1|Windows XP)/i),un(X6,"Windows Phone",/Windows Phone/i),un(X6,"Android",/Android/i),un(X6,"Linux",/(Linux(?!.*Ubuntu)|X11)/),un(X6,"Ubuntu",/Ubuntu/i),un(X6,"iOS",/(iPhone|iPad|iPod)/i),un(X6,"Mac OS X",/Mac OS X/i),un(X6,"Mac OS",/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/i),un(X6,"Chrome OS",/CrOS/i),X6);function Y6(t,n){var i=z6[n];return!!i&&Boolean(H6(t).match(i))}function j6(t){return Y6(t,"Android")}function K6(t){return Y6(t,"Windows Phone")}function q6(t){return Y6(t,"iOS")&&!K6(t)}function J6(t){return Y6(t,"Ubuntu")}var Q6,$6,t9=/Windows (NT|Phone) ([0-9.]+)/i,n9=/Mac.*?(OS |OS X )(\d+(([_.])\d+)?(([_.])\d+)?)/i,i9=(un(Q6={},"Windows 10",t9),un(Q6,"Windows 8.1",t9),un(Q6,"Windows 8",t9),un(Q6,"Windows 7",t9),un(Q6,"Windows Vista",t9),un(Q6,"Windows Server 2003",t9),un(Q6,"Windows XP",t9),un(Q6,"Windows Phone",/Windows Phone ([0-9.]+)/i),un(Q6,"Android",/Android (\d+(([_.])\d+)?(([_.])\d+)?)/i),un(Q6,"Linux",void 0),un(Q6,"Ubuntu",void 0),un(Q6,"iOS",/(iPad|iPhone|iPod).*?(OS |os |OS_)(\d+(([_.])\d+)?(([_.])\d+)?)/i),un(Q6,"Mac OS X",n9),un(Q6,"Mac OS",n9),un(Q6,"Chrome OS",void 0),Q6);function r9(t,n){var i=i9[n];return i?H6(t).match(i):null}function e9(t){return t.split(/[_.]/).map((function(t){return A(t,10)}))}function u9(t){if(function(t){return Boolean(H6(t).match(/Windows/i))}(t)){if(function(t){return Y6(t,"Windows 10")}(t))return"Windows 10";if(K6(t))return"Windows Phone";if(function(t){return Y6(t,"Windows 8.1")}(t))return"Windows 8.1";if(function(t){return Y6(t,"Windows 8")}(t))return"Windows 8";if(function(t){return Y6(t,"Windows 7")}(t))return"Windows 7";if(function(t){return Y6(t,"Windows Vista")}(t))return"Windows Vista";if(function(t){return Y6(t,"Windows Server 2003")}(t))return"Windows Server 2003";if(function(t){return Y6(t,"Windows XP")}(t))return"Windows XP"}else{if(j6(t))return"Android";if(q6(t))return"iOS";if(function(t){return Y6(t,"Mac OS X")}(t))return"Mac OS X";if(function(t){return Y6(t,"Mac OS")}(t))return"Mac OS";if(J6(t))return"Ubuntu";if(function(t){return Y6(t,"Chrome OS")}(t))return"Chrome OS";if(function(t){return Y6(t,"Linux")&&!J6(t)}(t))return"Linux"}}function s9(t,n){var i=function(t){var n=r9(t,"Windows 10");return n&&n.length>2?e9(n[2]):void 0}(t),r=function(t){var n=r9(t,"Mac OS X");return n&&n.length>2?e9(n[2]):void 0}(t),e=function(t){var n=r9(t,"Android");return n&&n.length>1?e9(n[1]):void 0}(t),u=function(t){var n=r9(t,"iOS");return n&&n.length>3?e9(n[3]):void 0}(t),s=function(t){var n=r9(t,"Chrome OS");return n&&n.length>0?e9(n[0]):void 0}(t);return i?i.length>n?i[n]:void 0:r?r.length>n?r[n]:void 0:e?e.length>n?e[n]:void 0:u?u.length>n?u[n]:void 0:s&&s.length>n?s[n]:void 0}function o9(t){var n=function(t){return s9(t,0)}(t),i=function(t){return s9(t,1)}(t),r=function(t){return s9(t,2)}(t);if(void 0!==n)return void 0===i?""+n:void 0===r?n+"."+i:n+"."+i+"."+r}var a9=(un($6={},"Chrome",/Chrome/i),un($6,"Chrome Mobile",void 0),un($6,"Chrome iOS",/CriOS/i),un($6,"Chromium",/Chromium/i),un($6,"HeadlessChrome",/HeadlessChrome/i),un($6,"Firefox",/Firefox/i),un($6,"Seamonkey",/Seamonkey/i),un($6,"Firefox iOS",/FxiOS/i),un($6,"Safari",/Safari/i),un($6,"Edge",/Edge\/\d+/i),un($6,"Edge Chromium",/Edg\/\d+/i),un($6,"IE",/Trident/i),un($6,"Opera",/Opera|OPR/i),un($6,"Vivaldi",/Vivaldi/i),un($6,"Android Browser",void 0),$6);function c9(t,n){var i=a9[n];return!!i&&Boolean(H6(t).match(i))}function h9(t){return Boolean(H6(t).match(/Mobi/i))}function f9(t){return Boolean(t.chrome&&t.navigator&&t.navigator.vendor&&/google/i.test(t.navigator.vendor))||v9(t)}function v9(t){return c9(t,"Chrome iOS")}function d9(t){return c9(t,"Firefox")&&!g9(t)}function l9(t){return c9(t,"Firefox Mobile")&&!g9(t)&&h9(t)}function g9(t){return c9(t,"Seamonkey")}function w9(t){return c9(t,"Firefox iOS")&&!g9(t)}function m9(t){return c9(t,"Safari")&&!c9(t,"Chrome")&&!Gn.Hv}function y9(t){return Boolean(I9(t))}function p9(t){return c9(t,"Edge")}function _9(t){return c9(t,"Edge Chromium")}function b9(t){return c9(t,"IE")}function k9(t){return c9(t,"Vivaldi")}var A9,T9=/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i,S9=(un(A9={},"Chrome",T9),un(A9,"Chrome Mobile",T9),un(A9,"Chrome iOS",/CriOS\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),un(A9,"Chromium",T9),un(A9,"HeadlessChrome",T9),un(A9,"Firefox",/Firefox\/([0-9.]+)/i),un(A9,"Firefox iOS",/FxiOS\/([0-9.]+)/i),un(A9,"Safari",/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),un(A9,"Safari Mobile",void 0),un(A9,"Edge",/Edge\/(\d+)/i),un(A9,"Edge Chromium",/Edg\/(\d+)/i),un(A9,"Edge Mobile",void 0),un(A9,"IE",/(MSIE |Trident.*?rv:)(\d+)/i),un(A9,"Opera",/(OPR\/(\d+\.\d+))|(Opera(?=.*Version\/((\d+)\.(\d+))))/i),un(A9,"Opera Mobile",void 0),un(A9,"Vivaldi",/Vivaldi\/((\d+)\.(\d+)\.(\d+)(?:\.(\d+))?)/i),un(A9,"Android Browser",void 0),A9);function E9(t,n){var i=S9[n];return i?H6(t).match(i):null}function I9(t){return E9(t,"Opera")}function R9(t){var n=function(t){return E9(t,"Firefox")}(t);return n?T(n[1]):0}function C9(t){var n=function(t){return E9(t,"Firefox iOS")}(t);return n?T(n[1].split(".")[0]):0}function N9(t){var n=function(t){return E9(t,"Safari")}(t);return n?T(n[2].split(".")[0]):0}function D9(t){var n=function(t){return E9(t,"Edge")}(t);return n?T(n[1]):0}function P9(t){var n=function(t){return E9(t,"Edge Chromium")}(t);return n?T(n[1]):0}function x9(t){var n=function(t){return E9(t,"IE")}(t);return n?T(n[2]):0}function L9(t){var n=function(t){return E9(t,"Vivaldi")}(t);return n?T(n[1]):0}function M9(t){if(j6(t))return f9(t)?"Chrome Mobile":d9(t)||l9(t)?"Firefox Mobile":p9(t)?"Edge Mobile":y9(t)?"Opera Mobile":"Android Browser";if(q6(t)){if(f9(t)||v9(t))return"Chrome iOS";if(d9(t)||w9(t))return"Firefox iOS";if(p9(t))return"Edge Mobile";if(m9(t)||function(t){return m9(t)&&h9(t)}(t))return"Safari Mobile";if(y9(t))return"Opera Mobile"}return function(t){return c9(t,"Chromium")}(t)?"Chromium":function(t){return c9(t,"HeadlessChrome")}(t)?"HeadlessChrome":f9(t)?"Chrome":d9(t)?"Firefox":m9(t)?"Safari":p9(t)?"Edge":_9(t)?"Edge Chromium":b9(t)?"IE":y9(t)?"Opera":k9(t)?"Vivaldi":void 0}function O9(t){return k9(t)?L9(t):v9(t)?Number(function(t){var n=S9["Chrome iOS"];return n&&n.exec(H6(t))||[]}(t)[1]):f9(t)?Number(function(t){var n=S9.Chrome;return n&&n.exec(H6(t))||[]}(t)[1]):d9(t)||l9(t)?R9(t):w9(t)?C9(t):m9(t)?N9(t):p9(t)?D9(t):_9(t)?P9(t):b9(t)?x9(t):y9(t)?function(t){var n=I9(t);return n&&n[0].indexOf("Opera")>-1?T(n[5]):n?T(n[2].split(".")[0]):0}(t):void 0}var B9=function(t){return t.bge="pc",t.Age="console",t.Sge="settop",t.Tge="mobile",t.kge="tablet",t.Ege="smarttv",t.xge="searchbot",t}({});function V9(t){var n=H6(t);return n.match(/CrKey|Roku|AFTS|AppleTV|Nexus Player/i)?"settop":n.match(/Xbox|Playstation|Wii|Nintendo/i)?"console":/(iPad|Tablet|(Android(?!.*Mobi))|(Windows(?!.*Phone)(.*Touch))|Kindle|Playbook|Silk|(Puffin(?!.*(IP|AP|WP))))/i.test(n)?"tablet":/Mobi/.test(n)?"mobile":n.match(/GoogleTV|SmartTV|SMART-TV|Internet TV|NetCast|NETTV|boxee|Kylo|DLNADOC|hbbtv|CE-HTML/i)?"smarttv":n.match(/(nuhk|Googlebot|bingbot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/i)?"searchbot":function(t){return Boolean(M9(t))}(t)?"pc":void 0}var F9=function(){function t(t,n){var i=this;this.empClient=t,this.agama=n,this.Pge=function(){var t=Kn.dR;switch(t){case"wifi":i.empClient.setDeviceMetadata(i.agama.DeviceMetadata.DATA_CONNECTION_TYPE,"wlan");break;case"ethernet":i.empClient.setDeviceMetadata(i.agama.DeviceMetadata.DATA_CONNECTION_TYPE,t);break;case"cellular":var n=function(t){switch(t){case"3g":return"mobile/3G";case"4g":return"mobile/4G";default:return}}(Kn.lR);n&&i.empClient.setDeviceMetadata(i.agama.DeviceMetadata.DATA_CONNECTION_TYPE,n)}}}var n=t.prototype;return n.zz=function(t){this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_ID,t.deviceID||function(){var t=kd.Lb("deviceId");if(t)return t;var n=MS();return kd.Bb("deviceId",n),n}()),this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.PLAYER,"THEOplayer"),this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.PLAYER_VERSION,"9.3.0"),this.Rge(t),this.Ige(),this.Cge(t),this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.EMPCLIENT_INTEGRATION_VERSION,"3.0"),this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.EMPCLIENT_INTEGRATION_BUILDDATE,"2023-04-17 12:00:00"),t.application&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.APPLICATION,t.application),t.applicationVersion&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.APPLICATION_VERSION,t.applicationVersion),t.userAccountID&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.USER_ACCOUNT_ID,t.userAccountID);var n=t.connectionType;n?this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DATA_CONNECTION_TYPE,n):(this.Pge(),l.connection&&l.connection.addEventListener&&l.connection.addEventListener("change",this.Pge))},n.Rge=function(t){this.Dge(t);var n=t.deviceManufacturer||G6&&G6.manufacturer;n&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_MANUFACTURER,n);var i=t.deviceModel||G6&&G6.model;i&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_MODEL,i)},n.Dge=function(t){var n=t.deviceType||function(){var t=V9(self);switch(t){case B9.Age:return"game-console";case B9.Ege:return"tv";case B9.Sge:return"media-streamer";default:return t}}();n&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_TYPE,n)},n.Ige=function(){var t=M9(self);t&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_BROWSER,t);var n=O9(self);void 0!==n&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_BROWSER_VERSION,n.toString())},n.Cge=function(t){var n=t.deviceOs||u9(self);n&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_OS,n);var i=t.deviceOsVersion||o9(self);i&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_OS_VERSION,i.toString())},n.yn=function(){l.connection&&l.connection.removeEventListener&&l.connection.removeEventListener("change",this.Pge)},t}();var U9=function(t){function n(){var n;return(n=t.call(this)||this).mo=!1,n.Oge=!1,n.Lge=f.Agama,n}It(n,t);var i=n.prototype;return i.kI=function(t){this.Mge=t,this.Lge&&(this.bX=function(t,n){var i=function(t,n){switch(n){case"info":return t.LogLevel.INFO;case"debug":return t.LogLevel.DEBUG;case"warning":return t.LogLevel.WARNING;case"error":return t.LogLevel.ERROR;default:return t.LogLevel.FATAL}}(n,t.logLevel);n.setLogLevel(i);var r=new n.EMPClient(t.config);return function(t,n){return t.setExternalConfig(n.config),t}(r,t)}(t,this.Lge),this.bX&&(this.Bge=new F9(this.bX,this.Lge),this.mo=!0))},i.Xz=function(){return this.Lge||console.warn("Please load the Agama Library (empclient.min.js) in order to use the integration"),!!this.Lge},i.Gz=function(){return this.mo},i.bz=function(t,n){if(this.bX&&this.Lge)switch(t){case _S.HZ:this.bX.setMeasurement(this.Lge.Measurement.BUFFER_LENGTH,n);break;case _S.ZZ:this.bX.setMeasurement(this.Lge.Measurement.BYTES_RECEIVED,n);break;case _S.zZ:this.bX.setMeasurement(this.Lge.Measurement.SEGMENT_PROFILE_BITRATE,n);break;case _S.qZ:this.bX.setMeasurement(this.Lge.Measurement.VIDEO_PROFILE_BITRATE,n);break;case _S.XZ:this.bX.setMeasurement(this.Lge.Measurement.SEGMENT_READ_BITRATE,n);break;case _S.FZ:this.bX.setMeasurement(this.Lge.Measurement.HTTP_REQUEST_STATUS_CODE_1XX,n);break;case _S.VZ:this.bX.setMeasurement(this.Lge.Measurement.HTTP_REQUEST_STATUS_CODE_2XX,n);break;case _S.WZ:this.bX.setMeasurement(this.Lge.Measurement.HTTP_REQUEST_STATUS_CODE_3XX,n);break;case _S.UZ:this.bX.setMeasurement(this.Lge.Measurement.HTTP_REQUEST_STATUS_CODE_4XX,n);break;case _S.GZ:this.bX.setMeasurement(this.Lge.Measurement.HTTP_REQUEST_STATUS_CODE_5XX,n);break;case _S.KZ:this.bX.setMeasurement(this.Lge.Measurement.PLAYBACK_POSITION,n);break;case _S.jZ:this.bX.setMeasurement(this.Lge.Measurement.NUMBER_OF_FRAMES_DECODED,n);break;case _S.YZ:this.bX.setMeasurement(this.Lge.Measurement.NUMBER_OF_FRAMES_DROPPED,n)}},i.QX=function(t,n){if(this.bX&&this.Lge)switch(t){case bS.eX:this.bX.setSessionMetadata(this.Lge.SessionMetadata.ASSET_DURATION,n);break;case bS.tX:this.bX.setSessionMetadata(this.Lge.SessionMetadata.MANIFEST_URI,n);break;case bS.iX:this.bX.setSessionMetadata(this.Lge.SessionMetadata.NUMBER_OF_CONTENT_PROFILES,n);break;case bS.rX:this.bX.setSessionMetadata(this.Lge.SessionMetadata.SERVICE_NAME,n);break;case bS.sX:this.bX.setSessionMetadata(this.Lge.SessionMetadata.CDN,n);break;case bS.nX:this.bX.setSessionMetadata(this.Lge.SessionMetadata.CONTENT_TITLE,n);break;case bS.oX:this.bX.setSessionMetadata(this.Lge.SessionMetadata.CONTENT_TYPE,n);break;case bS.hX:this.bX.setSessionMetadata(this.Lge.SessionMetadata.CONTENT_DESCRIPTION,n)}},i.zz=function(){this.Bge&&this.Mge&&this.Bge.zz(this.Mge)},i.Zz=function(t,n){this.Lge&&this.bX&&(this.xz(),function(t,n,i,r){var e=OS(t,i,r);n.abrSession(e,t.ViewState.INITIAL_BUFFERING)}(this.Lge,this.bX,t,n),this.Oge=!0)},i.yn=function(){this.Bge&&this.Bge.yn(),this.Fge(kS.aX),this.bX=void 0},i.OX=function(t){this.Vge(t)},i.WX=function(t,n){this.bX&&this.bX.event(t.code,n)},i.xz=function(){this.bX&&this.Oge&&(this.bX.exitSession(),this.Oge=!1)},i.Fge=function(t){if(this.bX&&this.Lge&&(this.xz(),t===kS.aX))this.bX.shutdown(this.Lge.ShutdownType.NORMAL_SHUTDOWN)},i.FX=function(t,n,i){this.Vge(t,n,i)},i.Vge=function(t,n,i){if(this.bX&&this.Lge)switch(t){case pS.UL:this.Wge(this.Lge.ViewState.PLAYING,n,i);break;case pS.LZ:this.Wge(this.Lge.ViewState.FAILED,n,i);break;case pS.BZ:this.Wge(this.Lge.ViewState.INITIAL_BUFFERING,n,i);break;case pS.DZ:this.Wge(this.Lge.ViewState.PAUSED,n,i);break;case pS.NZ:this.Wge(this.Lge.ViewState.SEEK,n,i);break;case pS.MZ:this.Wge(this.Lge.ViewState.STALLED,n,i);break;case pS.OZ:this.Wge(this.Lge.ViewState.NO_ACCESS,n,i)}},i.Wge=function(t,n,i){if(this.bX)if(n){var r=function(t){return t||""}(i);this.bX.viewStateExtended(t,n.code,r)}else this.bX.viewStateChanged(t)},n}(SS);Zk(function(t){return function(n){return function(n){function i(i,r){var e;return(e=n.call(this,i,r)||this).bX=new t,e.Nge=new VS(e,e.bX,r),e}It(i,n);var r=i.prototype;return r.RR=function(t,i){this.Nge&&this.Nge.DX(),n.prototype.RR.call(this,t)},r.yn=function(){this.Nge&&this.Nge.yn(),n.prototype.yn.call(this)},i}(n)}}(U9),Fk.Xst),F(),Tt(),F(),Tt(),Rt(),F(),Tt(),F(),Tt(),Gt(),Dt(),qt(),F(),Tt();var W9=function(t){return t.PLAY_ALL="play-all",t.PLAY_NONE="play-none",t.PLAY_LAST="play-last",t}({});F(),Tt();var Z9=function(t){return t.VOD="vod",t.LIVE="live",t}({}),X9=function(){function t(t,n,i,r,e,u,s){var o=this;this.na=t,this.qge=n,this.jge=i,this.Hge=r,this.Uge=e,this.rpe=u,this.Zge=s,this.YG=void 0,this.KG=void 0,this.r8=new Yo,this.Qge=new Yo,this.bpe=void 0,this.Xge=!1,this.S0t=void 0,this.Jge=function(t){var n=t.currentSource;if(n&&n.integrationData){var i=n.integrationData,r=i.preplayResponse,e=i.source;o.Uge.Ape(r),r&&r.type===Z9.VOD&&r.ads&&o.Hge.hpe(r.ads),o.qge.Spe=n.integrationData,e.assetInfo&&qo(o.fetchAssetInfo(n))}},this.kle=function(){o.Xge=!0},this.Ihe=function(){o.Xge&&o.ape(o.na.xR())},this.Foe=function(){o.Xge&&(o.ape(1/0),o.Xge=!1)},this.Sd=function(){qo(o.qge.Sn())},this.tpe=function(t){o.r8.jw(),o.r8=new Yo,qo(Zo(o.Use(t.sd.UO,o.r8.Uw),o.r8))},this.epe=function(){1!==o.na.QR&&(o.bpe=o.na.QR,o.na.QR=1)},this.ipe=function(){void 0!==o.bpe&&(o.na.QR=o.bpe,o.bpe=void 0)},this.spe=function(t){t.sd.bn("$ge",o.tpe),t.sd.bn("_nt",o.epe),t.sd.bn("fnt",o.ipe)},this.npe=function(t){t.sd.vn("$ge",o.tpe),t.sd.vn("_nt",o.epe),t.sd.vn("fnt",o.ipe)},this.ype=function(){o.na.EI()},this.na.bn(oa.xy,this.Jge),this.na.bn(oa.ho,this.kle),this.na.bn(oa.hb,this.Ihe),this.na.bn(oa.Dy,this.Foe),this.na.bn(yp.FL,this.Sd),this.Hge.YJt.bn("cnt",this.spe),this.Hge.YJt.bn("unt",this.npe)}var n=t.prototype;return n.Gge=function(t){this.YG=iw(t),this.KG=t,this.na._o(new yk(t))},n.Ca=function(t){this.Hge.resetSource(),this.Zge.Fb(),this.Xge=!1,this.na.zge(t)},n.Rnt=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return i.qge.nr(),i.Xge=!1,t&&function(t){return t.sources.some((function(t){return t.integration===OA.UPLYNK}))}(t)?[3,2]:[4,i.na.Yge(t,n)];case 1:return[2,e.sent()];case 2:return e.trys.push([2,5,,6]),[4,i.jge.qfe(t)];case 3:return i.Kge=e.sent(),[4,i.na.Yge(i.Kge,n)];case 4:return e.sent(),[3,6];case 5:return r=e.sent(),i.Gge(new id(td.MANIFEST_LOAD_ERROR,r.message,r)),[3,6];case 6:return[2]}}))}))()},n.yn=function(){this.r8.jw(),this.Qge.jw(),this.na.vn(oa.xy,this.Jge),this.na.vn(oa.ho,this.kle),this.na.vn(oa.hb,this.Ihe),this.na.vn(oa.Dy,this.Foe),this.na.vn(yp.FL,this.Sd);for(var t=0,n=this.Hge.YJt.Zu;t<n.length;t++){var i=n[t];i.vn("$ge",this.tpe),i.vn("_nt",this.epe),i.vn("fnt",this.ipe)}this.Hge.YJt.vn("cnt",this.spe),this.Hge.YJt.vn("unt",this.npe),this.Hge.destroy(),this.S0t&&(this.S0t.Xw(),this.S0t=void 0),this.Xge=!1},n.fetchAssetInfo=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:if(!t||!t.integrationData)return[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.rpe.aTt(t.integrationData.source.prefix,t.integrationData.source.id,n.Qge.Uw,t.integrationData.preplayResponse.sid)];case 2:return i=r.sent(),n.Uge.ope(i),n.Zge.hpe(i,n.Hge.YJt.Zu),[3,4];case 3:return r.sent(),[3,4];case 4:return[2]}}))}))()},n.ape=function(t){this.Hge.upe(t),this.Hge.ent.forEach((function(n){return n.cpe(t)})),this.Hge.lpe(this.na.aI()),this.A0t()},n.RR=function(t){this.Hge.snt||(this.r8.jw(),this.r8=new Yo,qo(Zo(this.Use(t,this.r8.Uw),this.r8)))},n.Use=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:if(Vo(n),t<i.na.xR())return i.dpe(t),[2];switch(r=[],i.Hge.fpe){case W9.PLAY_ALL:return[3,1];case W9.PLAY_LAST:return[3,3];case W9.PLAY_NONE:return[3,5]}return[3,6];case 1:return r=i.Hge._pe(i.na.xR(),t),[4,i.vpe(t,r,n)];case 2:case 4:return u.sent(),[3,6];case 3:return e=i.Hge._pe(i.na.xR(),t).pop(),r=e?[e]:[],[4,i.vpe(t,r,n)];case 5:return i.mpe(t),[3,6];case 6:return[2]}}))}))()},n.dpe=function(t){var n=ho(this.Hge.YJt.Zu,(function(n){return n._ut.wr(t)}));n?this.na.gpe(n.WO):this.na.gpe(t)},n.mpe=function(t){var n=this.Hge._pe(this.na.xR(),t).pop();n&&n._ut.wr(t)?this.na.gpe(n.UO):this.na.gpe(t)},n.vpe=function(t,n,i){var r=this;return Zt((function(){var e,u,s;return Ht(this,(function(o){switch(o.label){case 0:e=0,o.label=1;case 1:return e<n.length?(u=n[e],[4,r.ppe(u,i)]):[3,4];case 2:o.sent(),o.label=3;case 3:return e++,[3,1];case 4:return(s=n[n.length-1])&&s._ut.wr(t)?(r.na.xR()<t&&r.na.gpe(s.UO),[2]):(r.na.gpe(t),[2])}}))}))()},n.ppe=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return t.vn("$ge",i.tpe),r=et.race([t.py("fnt",n),t.py("$ge",n)]),i.ape(i.na.xR()),t.so||i.na.gpe(t.WO),[4,r];case 1:return e.sent(),t.bn("$ge",i.tpe),[2]}}))}))()},n.A0t=function(){var t=ho(this.Hge.ent,(function(t){return t.wpe.length>0}));if(t){var n=t.wpe[0];this.S0t||(this.S0t=new t$(this.na.we),this.S0t.bn("clickstart",this.ype)),this.S0t.B$t=n}else this.S0t&&(this.S0t.Xw(),this.S0t=void 0)},Nt(t,[{key:"wa",get:function(){return this.Uge.wa}},{key:"lt",get:function(){return this.YG}},{key:"MR",get:function(){return this.KG}}]),t}();F(),Tt(),Gt(),sn(),qt(),F(),Tt();var G9=Db({breaksIndex:Ab,adsIndex:Ab,startTime:Ab,endTime:Ab}),H9=Db({index:Ab,timeOffset:Ab}),z9=Db({duration:Ab,apiFramework:Ob(Tb,Rb),creative:Tb,mimeType:Tb,width:Ab,height:Ab,companions:Vb(function(t){return new Wb(t)}((function(){return z9}))),extensions:Ob(Eb,Vb(Ib)),fw_parameters:Ob(Eb,Ub(Tb)),events:Ub(Vb(Tb))}),Y9=Db({type:Lb(["linear","nonlinear"]),position:Lb(["preroll","midroll","postroll","pause","overlay",""]),timeOffset:Ab,duration:Ab,ads:Vb(z9),events:Ub(Vb(Tb))}),j9=Db({breaks:Vb(Y9),breakOffsets:Ob(Eb,Vb(H9)),placeholderOffsets:Ob(Eb,Vb(G9))}),K9=Db({required:Ob(Eb,Sb),fairplayCertificateURL:Ob(Eb,Tb),widevineLicenseURL:Ob(Eb,Tb),playreadyLicenseURL:Ob(Eb,Tb)}),q9={type:Lb(Pb(Z9)),playURL:Tb,prefix:Tb,sid:Tb,drm:Ob(Eb,K9)},J9=Db(ns({},q9,{type:Lb([Z9.VOD]),ads:j9,interstitialURL:Ob(Tb,Rb,Eb)})),Q9=Ob(J9,Db(ns({},q9,{type:Lb([Z9.LIVE])})));F(),Tt();var $9,t8=Tb,n8=Db({userId:Tb,externalId:Ob(Tb,Vb(Tb))}),i8=function(){function t(t){this.fW=t}var n=t.prototype;return n.aTt=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){try{return[2,n.Tpe(t)]}catch(t){throw t}return[2]}))}))()},n.Tpe=function(t){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:return[4,e8(t)];case 1:return i=u.sent(),[4,n.fW.Qk({AE:ol.GET,Xu:i,jk:Id.Ak})];case 2:return[4,u.sent().Kk()];case 3:return r=u.sent(),e=ns({},r,{type:t.assetType===GS.ASSET?Z9.VOD:Z9.LIVE}),Q9.GU(e)||Q9.ZU(e,"PreplayResponse"),[2,e]}}))}))()},t}(),r8=(un($9={},GS.ASSET,""),un($9,GS.CHANNEL,"channel/"),un($9,GS.EVENT,"event/"),$9);function e8(t){return u8.apply(this,arguments)}function u8(){return u8=Zt((function(t){var n,i,r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return n=t.prefix,i=r8[t.assetType],r=function(t){if(Vb(t8).GU(t))return 1===t.length?t[0]:t.join(",")+"/multiple";if(t8.GU(t))return t;if(n8.GU(t)&&qn(t.externalId))return 1===t.externalId.length?"ext/"+t.userId+"/"+t.externalId[0]:"ext/"+t.userId+"/"+t.externalId.join(",")+"/multiple";if(n8.GU(t))return"ext/"+t.userId+"/"+t.externalId;throw new _("Invalid asset id")}(t.id),[4,s8(t.contentProtected)];case 1:return e=o.sent(),u=function(t,n){var i=a8(t,n);return i?{"ad.cping":"1","ad.pingf":String(i)}:{}}(t.assetType,t.ping),s={},qn(t.preplayParameters)?t.preplayParameters.forEach((function(t){s[t[0]]=t[1]})):s=t.preplayParameters,[2,gl(n+"/preplay/"+i+r+".json",ns({v:"2"},s,e,u,s))]}}))})),u8.apply(this,arguments)}function s8(t){return o8.apply(this,arguments)}function o8(){return o8=Zt((function(t){var n,i,r;return Ht(this,(function(e){switch(e.label){case 0:return(n=t)?[4,Kn.qp()]:[3,2];case 1:n=e.sent(),e.label=2;case 2:return n?[2,{rmt:"fps",manifest:"m3u8"}]:[3,3];case 3:return(i=t)?[4,Kn.Kp()]:[3,5];case 4:i=e.sent(),e.label=5;case 5:return i?[2,{rmt:"wv",manifest:"mpd"}]:[3,6];case 6:return(r=t)?[4,Kn.Yp()]:[3,8];case 7:r=e.sent(),e.label=8;case 8:if(r)return[2,{rmt:"pr",manifest:"mpd"}];e.label=9;case 9:return[2,{}]}}))})),o8.apply(this,arguments)}function a8(t,n){var i=t!==GS.ASSET;return(!i&&n.adImpressions?1:0)+(!i&&n.freeWheelVideoViews?2:0)+(i&&n.linearAdData?4:0)}F(),Tt(),Gt(),qt(),F(),Tt();var c8=Db({ad_id:Tb,apiFramework:Ob(Rb,Tb),companions:Vb(Ib),creative:Tb,duration:Ab,mimeType:Tb,height:Ab,width:Ab,extensions:Ob(Eb,Vb(Ib)),fw_parameters:Ob(Eb,Ub(Tb))}),h8=Db({breakId:Tb,ads:Vb(c8),type:Lb(["linear","nonlinear"]),position:Lb(["preroll","midroll","postroll","pause","overlay",""]),timeOffset:Ab,duration:Ab,height:Ob(Eb,Ab),width:Ob(Eb,Ab),events:Ub(Vb(Tb))}),f8=Db({breaks:Vb(h8)}),v8=Db({next_time:Ab,ads:Ob(Eb,f8),extensions:Ob(Eb,Vb(Ib)),error:Ob(Eb,Tb),currentBreakEnd:Ob(Eb,Ab)}),d8=function(t){return t.fTt="start",t.NZ="seek",t}({}),l8=function(){function t(t){this.fW=t}var n=t.prototype;return n.aTt=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){try{return[2,i.Tpe(t,n)]}catch(t){throw t}return[2]}))}))()},n.Tpe=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return r=function(t){var n={v:"3",pt:String(t.currentTime)};(function(t){return void 0!==t.seekTime})(t)&&t.hasFreeWheelVideoViews&&(n.ft=String(t.seekTime));t.event&&(n.ev=t.event);return gl(t.zonePrefix+"/session/ping/"+t.sessionId+".json",ns({},n))}(t),[4,i.fW.Qk({AE:ol.GET,Xu:r,jk:Id.Ak,Uw:n})];case 1:return[4,u.sent().Kk()];case 2:return e=u.sent(),v8.GU(e)||v8.ZU(e,"PingResponse"),[2,e]}}))}))()},t}();F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Dt(),Rt();var g8=function(t){function n(n){var i;return(i=t.call(this,"kpe")||this).qE=n,i}return It(n,t),n.prototype.ka=function(){return new w8(this.qE)},Nt(n,[{key:"zE",get:function(){return this.qE}}]),n}(gg),w8=function(t){function n(n){var i;return(i=t.call(this,"pingresponse")||this).response=n,i}return It(n,t),n}(sa);F(),Tt(),Dt(),Rt();var m8=function(t){function n(n){var i;return(i=t.call(this,"Epe")||this).YG=n,i}return It(n,t),n.prototype.ka=function(){return new y8(this.YG)},Nt(n,[{key:"lt",get:function(){return this.YG}}]),n}(gg),y8=function(t){function n(n){var i;return(i=t.call(this,"pingerror")||this).error=n,i}return It(n,t),n}(sa),p8=function(t){function n(n,i){var r,e;return r=t.call(this)||this,e=r,r.Lpe=n,r.na=i,r.Ipe=NaN,r.Mpe=void 0,r.Bpe=!1,r.Ope=NaN,r.GT=new Yo,r.Npe=void 0,r.Ppe=Zt((function(){var t;return Ht(this,(function(n){switch(n.label){case 0:return t=e.na.xR(),e.Ope=t,e.Bpe||jn(e.Mpe)||S(e.Ipe)?[2]:e.Ipe+e.Mpe<=t?(e.Bpe=!0,[4,e.Cpe()]):[3,2];case 1:n.sent(),e.Bpe=!1,n.label=2;case 2:return[2]}}))})),r.Dpe=function(){if(r.na.xR()!==r.Ipe){r.Bpe&&r.Fpe(),r.Ope=r.na.xR();var t=r.Ope-(r.Ipe||0);S(t)?qo(r.Cpe(d8.NZ,0)):qo(r.Cpe(d8.NZ,t))}},r}It(n,t);var i=n.prototype;return i.Sn=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:return(n=t.xpe)?(i=a8(n.source.assetType,n.source.ping),0!==i?(t.Ipe=t.na.aI().start(0),[4,t.Cpe(d8.fTt)]):[2]):[2];case 1:return r.sent(),t.na.bn("timeupdate",t.Ppe),t.na.bn("seeking",t.Dpe),[2]}}))}))()},i.Cpe=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:if(r=i.xpe.preplayResponse,e={},S(i.Ipe))return[2];if(Yn(i.Npe)&&ar(i.Npe,i.na.xR()-i.Ipe))return[2];void 0!==n&&(e.seekTime=n),void 0!==t&&(e.event=t),u=i.na.xR()-i.Ipe,t===d8.fTt?u=0:t!==d8.NZ&&i.Mpe&&(u=k.min(u,i.Mpe)),i.Npe=u,h.label=1;case 1:return h.trys.push([1,3,4,5]),[4,i.Lpe.aTt(ns({zonePrefix:r.prefix,sessionId:r.sid,currentTime:u,hasFreeWheelVideoViews:null==(o=i.xpe)?void 0:o.source.ping.freeWheelVideoViews},e),i.GT.Uw)];case 2:return a=h.sent(),i._o(new g8(a)),i.Mpe=-1!==a.next_time?a.next_time:void 0,s=a.error,[3,5];case 3:return Bo(c=h.sent())||(s=c.message),[3,5];case 4:return s&&i._o(new m8(s)),[7];case 5:return[2]}}))}))()},i.nr=function(){this.Mpe=void 0,this.xpe=void 0,this.Ipe=NaN,this.Bpe=!1,this.Ope=NaN,this.Npe=void 0,this.na.vn("seeking",this.Dpe),this.na.vn("timeupdate",this.Ppe),this.Fpe()},i.Fpe=function(){this.GT.jw(),this.GT=new Yo},i.yn=function(){this.nr()},Nt(n,[{key:"Spe",set:function(t){this.xpe=t}},{key:"Rpe",get:function(){return this.Ipe}}]),n}(ra);F(),Tt(),Gt(),qt();var _8=function(){function t(t,n){this.Vpe=t,this.xQ=n}return t.prototype.qfe=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:i=[],r=0,e=t.sources,a.label=1;case 1:return r<e.length?YA(u=e[r])?[3,2]:(i.push(u),[3,5]):[3,6];case 2:return a.trys.push([2,4,,5]),[4,n.Vpe.aTt(u)];case 3:return s=a.sent(),o=function(t,n,i){var r,e=t.preplayResponse;t.source.contentProtected&&e.drm&&(r={integration:"uplynk"},e.drm.fairplayCertificateURL&&(r.fairplay={certificateURL:e.drm.fairplayCertificateURL}),e.drm.widevineLicenseURL&&(r.widevine={licenseAcquisitionURL:e.drm.widevineLicenseURL}),e.drm.playreadyLicenseURL&&(r.playready={licenseAcquisitionURL:e.drm.playreadyLicenseURL}));var u=dA({src:e.playURL,contentProtection:r,useNativePlayback:t.source.useNativePlayback,hls:t.source.hls,dash:t.source.dash,seamlessSwitchStrategy:t.source.seamlessSwitchStrategy},n,i);return u.integrationData=t,u}({source:u,preplayResponse:s},t,n.xQ),o.src&&(o.src=gl(o.src,u.playbackUrlParameters)),i.push(o),[3,5];case 4:return a.sent(),[3,5];case 5:return r++,[3,1];case 6:if(0!==t.sources.length&&0===i.length)throw new p("Fatal: unable to play UplynkSources.");return[2,ns({},t,{sources:i})]}}))}))()},t}();F(),Tt(),Dt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Rt();var b8=function(t){function n(n,i){var r;return(r=t.call(this,"_nt")||this).sd=n,r.oV=i,r}return It(n,t),n.prototype.ka=function(){return new k8(this.sd.wa)},n}(gg),k8=function(t){function n(n){var i;return(i=t.call(this,"adbreakbegin")||this).adBreak=n,i}return It(n,t),n}(sa);F(),Tt(),Rt();var A8=function(t){function n(n,i){var r;return(r=t.call(this,"fnt")||this).sd=n,r.oV=i,r}return It(n,t),n.prototype.ka=function(){return new T8(this.sd.wa)},n}(gg),T8=function(t){function n(n){var i;return(i=t.call(this,"adbreakend")||this).adBreak=n,i}return It(n,t),n}(sa);F(),Tt(),Rt();var S8=function(t){function n(n){var i;return(i=t.call(this,"$ge")||this).sd=n,i}return It(n,t),n.prototype.ka=function(){return new E8(this.sd.wa)},n}(gg),E8=function(t){function n(n){var i;return(i=t.call(this,"adbreakskip")||this).adBreak=n,i}return It(n,t),n}(sa);F(),Tt(),F(),Tt(),Rt();var I8=function(t){function n(n){var i;return(i=t.call(this,"Q2t")||this).sd=n,i}return It(n,t),n.prototype.ka=function(){return new R8(this.sd.wa)},n}(gg),R8=function(t){function n(n){var i;return(i=t.call(this,"updateadbreak")||this).adBreak=n,i}return It(n,t),n}(sa),C8=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).jO=n,s.MA=i,s.Oc=r,s.C_e=e,s.eo=!1,s.Gpe=!1,s.RKt=u,s}It(n,t);var i=n.prototype;return i.Wpe=function(t){this.MA=t-this.WO;for(var n=0,i=this.zc.Zu;n<i.length;n++){var r=i[n];r.WO>t&&this.zc.eT(r)}this._o(new I8(this))},i.Bct=function(t){return t>=this.WO&&(jn(this.ct)||t<=this.WO+this.ct)},i.Hpe=function(t){return-1!==this.xKt&&(!!Yn(this.UO)&&t-this.WO>=this.xKt)},i.MD=function(){this.Oc.Zu.forEach((function(t){return t.MD()})),this._o(new S8(this))},i.Zpe=function(t){var n=Yn(this.UO)&&t>=this.UO,i=this.WO<=t&&!n&&!this.so,r=this.so&&this.UO&&t>=this.UO;i&&(this.eo=!0,this._o(new b8(this,this.WO))),this.Oc.Zu.forEach((function(n){return n.Zpe(t)})),r&&(this.Gpe=!0,this.eo=!1,this._o(new A8(this,this.UO)))},Nt(n,[{key:"wa",get:function(){return this.eu||(this.eu=function(t){var n,i={get startTime(){return t.WO},get endTime(){return t.UO},get duration(){return t.ct},get ads(){return t.zc.wa},get skipOffset(){return t.xKt},set skipOffset(n){t.xKt=n},addEventListener:function(t,i){n.bn(t,i)},removeEventListener:function(t,i){n.vn(t,i)}};return n=new eR(t,i),i}(this)),this.eu}},{key:"WO",get:function(){return this.jO}},{key:"UO",get:function(){return this.MA?this.jO+this.MA:void 0}},{key:"ct",get:function(){return this.MA}},{key:"_ut",get:function(){var t=this.UO;return Yn(t)?new SA([this.WO,t]):SA.pB()}},{key:"zc",get:function(){return this.Oc}},{key:"Upe",get:function(){return this.Gpe}},{key:"so",get:function(){return this.eo}},{key:"xKt",get:function(){return this.C_e?-1:this.RKt},set:function(t){this.C_e||(this.RKt=t)}}]),n}(ua);F(),Tt(),Dt(),Rt(),F(),Tt(),Rt();var N8=function(t){function n(n,i){var r;return(r=t.call(this,"vnt")||this).lnt=n,r.oV=i,r}return It(n,t),n.prototype.ka=function(){return new D8(this.lnt.wa)},n}(gg),D8=function(t){function n(n){var i;return(i=t.call(this,"adbegin")||this).ad=n,i}return It(n,t),n}(sa);F(),Tt(),Rt();var P8=function(t){function n(n,i){var r;return(r=t.call(this,"mnt")||this).lnt=n,r.oV=i,r}return It(n,t),n.prototype.ka=function(){return new x8(this.lnt.wa)},n}(gg),x8=function(t){function n(n){var i;return(i=t.call(this,"adend")||this).ad=n,i}return It(n,t),n}(sa);F(),Tt(),Rt(),F(),Tt(),Rt();var L8=function(t){function n(n){var i;return(i=t.call(this,"Xpe")||this).lnt=n,i}return It(n,t),n.prototype.ka=function(){return new M8(this.lnt.wa)},n}(gg),M8=function(t){function n(n){var i;return(i=t.call(this,"removead")||this).ad=n,i}return It(n,t),n}(sa),O8=function(t){function n(){return t.call(this)||this}It(n,t);var i=n.prototype;return i.Yte=function(t){},i.Jte=function(t){this._o(new L8(t))},n}(f1);F(),Tt(),Rt();var B8=function(t){function n(n){var i;return(i=t.call(this,"$2t")||this).lnt=n,i}return It(n,t),n.prototype.ka=function(){return new V8(this.lnt.wa)},n}(gg),V8=function(t){function n(n){var i;return(i=t.call(this,"adfirstquartile")||this).ad=n,i}return It(n,t),n}(sa),F8=function(t){function n(n){var i;return(i=t.call(this,"t3t")||this).lnt=n,i}return It(n,t),n.prototype.ka=function(){return new U8(this.lnt.wa)},n}(gg),U8=function(t){function n(n){var i;return(i=t.call(this,"admidpoint")||this).ad=n,i}return It(n,t),n}(sa),W8=function(t){function n(n){var i;return(i=t.call(this,"e3t")||this).lnt=n,i}return It(n,t),n.prototype.ka=function(){return new Z8(this.lnt.wa)},n}(gg),Z8=function(t){function n(n){var i;return(i=t.call(this,"adthirdquartile")||this).ad=n,i}return It(n,t),n}(sa),X8=function(t){function n(n){var i;return(i=t.call(this,"zpe")||this).lnt=n,i}return It(n,t),n.prototype.ka=function(){return new G8(this.lnt.wa)},n}(gg),G8=function(t){function n(n){var i;return(i=t.call(this,"adcomplete")||this).ad=n,i}return It(n,t),n}(sa);F(),Tt();var H8=function(t){function n(n,i,r,e,u,s,o,a,c,h,f,v){var d;return void 0===c&&(c=[]),void 0===h&&(h={}),void 0===f&&(f={}),(d=t.call(this)||this).jO=n,d.MA=i,d.UYt=r,d.Jpe=e,d.dY=u,d.YA=s,d.KA=o,d.$pe=c,d.twe=h,d.Kf=f,d.mKt=v,d.PYt=new O8,d.eo=!1,d.iwe=!1,d.nwe=!1,d.rwe=!1,d.owe=!1,d.hwe=function(){return d.cpe(d.jO)},d.awe=function(){return d.cpe(d.UO)},d.PYt.Kte(a),d.bn("vnt",d.hwe),d.bn("mnt",d.awe),d}It(n,t);var i=n.prototype;return i.Zpe=function(t){var n=this.WO<=t&&t<this.UO,i=n&&!this.so,r=!n&&this.so;i&&(this.iwe=!1,this.nwe=!1,this.rwe=!1,this.owe=!1,this.eo=!0,this._o(new N8(this,this.WO))),r&&(this.eo=!1,this._o(new P8(this,this.UO)))},i.cpe=function(t){var n=(t-this.WO)/this.ct;!this.iwe&&n>=.25&&(this.iwe=!0,this._o(new B8(this))),!this.nwe&&n>=.5&&(this.nwe=!0,this._o(new F8(this))),!this.rwe&&n>=.75&&(this.rwe=!0,this._o(new W8(this))),!this.owe&&n>=.9999&&(this.owe=!0,this._o(new X8(this)))},i.MD=function(){this.iwe=!0,this.nwe=!0,this.rwe=!0,this.owe=!0},i.yn=function(){this.vn("vnt",this.hwe),this.vn("mnt",this.awe)},n.qpe=function(t,i){return new n(t,i.duration,i.apiFramework||"",i.creative,i.mimeType,i.width,i.height,i.companions.map((function(i){return n.qpe(t,i)})),i.extensions,i.fw_parameters,i.events,void 0)},n.Ype=function(t,i){return new n(t,i.duration,i.apiFramework||"",i.creative,i.mimeType,i.width,i.height,i.companions.map((function(i){return n.Ype(t,i)})),i.extensions,i.fw_parameters,void 0,i.ad_id)},Nt(n,[{key:"wa",get:function(){return this.eu||(this.eu=function(t){var n,i={get apiFramework(){return t.WYt},get companions(){return t.CYt.wa},get creative(){return t.Kpe},get duration(){return t.ct},get endTime(){return t.UO},get events(){return t.Qq},get extensions(){return t.jpe},get freeWheelParameters(){return t.Qpe},get height(){return t.Ti},get mimeType(){return t.jq},get startTime(){return t.WO},get width(){return t.ji},addEventListener:function(t,i){n.bn(t,i)},removeEventListener:function(t,i){n.vn(t,i)}};return n=new eR(t,i),i}(this)),this.eu}},{key:"WO",get:function(){return this.jO}},{key:"UO",get:function(){return this.jO+this.MA}},{key:"ct",get:function(){return this.MA}},{key:"WYt",get:function(){return this.UYt}},{key:"Kpe",get:function(){return this.Jpe}},{key:"jq",get:function(){return this.dY}},{key:"ji",get:function(){return this.YA}},{key:"Ti",get:function(){return this.KA}},{key:"Qq",get:function(){return this.Kf}},{key:"CYt",get:function(){return this.PYt}},{key:"jpe",get:function(){return this.$pe}},{key:"Qpe",get:function(){return this.twe}},{key:"so",get:function(){return this.eo}},{key:"wpe",get:function(){var t;return null!=(t=this.Kf.clickthroughs)?t:[]}}]),n}(ua);F(),Tt(),Rt(),F(),Tt(),Rt();var z8=function(t){function n(n){var i;return(i=t.call(this,"cnt")||this).sd=n,i}return It(n,t),n.prototype.ka=function(){return new Y8(this.sd.wa)},n}(gg),Y8=function(t){function n(n){var i;return(i=t.call(this,"addadbreak")||this).adBreak=n,i}return It(n,t),n}(sa);F(),Tt(),Rt();var j8=function(t){function n(n){var i;return(i=t.call(this,"unt")||this).sd=n,i}return It(n,t),n.prototype.ka=function(){return new K8(this.sd.wa)},n}(gg),K8=function(t){function n(n){var i;return(i=t.call(this,"removeadbreak")||this).adBreak=n,i}return It(n,t),n}(sa),q8=function(t){function n(){return t.call(this)||this}It(n,t);var i=n.prototype;return i.Yte=function(t){this._o(new z8(t))},i.Jte=function(t){this._o(new j8(t))},n}(f1),J8=function(){function t(t,n,i,r){var e,u=this;this.dwe=[],this.gwe=void 0,this.wwe=function(t){return u.gwe=t,u},this.mwe=function(t){t.zE.ads&&u.hpe(t.zE.ads),t.zE.currentBreakEnd&&u.fwe(t.zE.currentBreakEnd)},this.vwe=function(t){if(0!==u.dwe.length&&0!==u.na.aI().length)for(var n=u.na.aI().end(u.na.aI().length-1),i=0,r=u.dwe.slice();i<r.length;i++){var e=r[i];Yn(e.yYt.ct)?wo(u.dwe,e):e.ZRt<n&&(e.yYt.Wpe(e.ZRt),wo(u.dwe,e))}},this._d=function(t){var n,i=null==(n=u.gwe)?void 0:n.createAdBreak({timeOffset:t.sd.WO,maxDuration:t.sd.ct,customData:t.sd});t.sd.bn("$ge",u.ywe);for(var r=0,e=t.sd.zc.Zu;r<e.length;r++){var s,o,a=e[r],c={type:"linear",timeOffset:a.WO,duration:a.ct,creativeId:a.Kpe,skipOffset:t.sd.xKt,clickThrough:null==(s=a.wpe)?void 0:s[0],customData:a};null==(o=u.gwe)||o.createAd(c,i),a.bn("vnt",u.D9t),a.bn("mnt",u.bwe),a.bn("$2t",u.Awe),a.bn("t3t",u.Swe),a.bn("e3t",u.Twe),a.bn("zpe",u.Fme)}},this.ywe=function(t){for(var n=0,i=t.sd.zc.Zu;n<i.length;n++){var r,e,s=i[n],o=u.pwe(s);if(o)null==(r=u.gwe)||r.beginAd(o),null==(e=u.gwe)||e.skipAd(o)}},this.xd=function(t){for(var n=0,i=t.sd.zc.Zu;n<i.length;n++){i[n].Ro()}t.sd.Ro()},this.D9t=function(t){var n,i=u.pwe(t.lnt);i&&(null==(n=u.gwe)||n.beginAd(i))},this.bwe=function(t){var n,i=u.pwe(t.lnt);i&&(null==(n=u.gwe)||n.endAd(i))},this.Awe=function(t){var n,i=u.pwe(t.lnt);i&&(null==(n=u.gwe)||n.updateAdProgress(i,.25))},this.Swe=function(t){var n,i=u.pwe(t.lnt);i&&(null==(n=u.gwe)||n.updateAdProgress(i,.5))},this.Twe=function(t){var n,i=u.pwe(t.lnt);i&&(null==(n=u.gwe)||n.updateAdProgress(i,.75))},this.Fme=function(t){var n,i=u.pwe(t.lnt);i&&(null==(n=u.gwe)||n.updateAdProgress(i,1))},this.na=t,this.qge=n,this.w$t=new q8,this.w$t.bn("cnt",this._d),this.w$t.bn("unt",this.xd),this.lwe=i,this.cwe=r,t.bn("timeupdate",this.vwe),this.qge.bn("kpe",this.mwe),null==(e=this.na.zc)||e.ont(mS.UPLYNK,this.wwe)}var n=t.prototype;return n.lpe=function(t){if(0!==t.length)for(var n=SA.Cn(t),i=0,r=this.w$t.Zu.slice();i<r.length;i++){var e=r[i];Yn(e.UO)&&n.Sn(0)>e.UO&&this.w$t.eT(e)}},n.hpe=function(t){for(var n=!function(t){return Yn(t.breakOffsets)}(t),i=n?this.qge.Rpe:0,r=0,e=t.breaks;r<e.length;r++){var u=e[r];if(0!==u.ads.length){for(var s=u.timeOffset+i,o=new O8,a=0,c=0,h=u.ads;c<h.length;c++){var f=h[c],v=n?H8.Ype(s,f):H8.qpe(s,f);o.kO(v),s+=v.ct,a+=v.ct}var d=u.timeOffset+i,l=n?void 0:u.duration,g=new C8(d,l,o,n,this.lwe);n&&this.dwe.push({yYt:g,ZRt:d+a}),this.w$t.kO(g)}}},n.fwe=function(t){var n=this.uwe;n&&n.Wpe(t+this.qge.Rpe)},n.upe=function(t){this._we=t,this.w$t.Zu.forEach((function(n){return n.Zpe(t)}))},n.MD=function(){var t=this._we,n=this.snt;t&&n&&n.Hpe(t)&&n.MD()},n.skipAd=function(t){this.MD()},n._pe=function(t,n){for(var i=[],r=0,e=this.YJt.Zu;r<e.length;r++){var u=e[r];!u.Upe&&u.WO>=t&&u.WO<n&&i.push(u)}return i},n.destroy=function(){this.na.vn("timeupdate",this.vwe),this.qge.vn("kpe",this.mwe)},n.resetSource=function(){for(var t,n=0,i=this.YJt.Zu;n<i.length;n++){for(var r=i[n],e=0,u=r.zc.Zu;e<u.length;e++){u[e].Ro()}r.Ro()}this.YJt.Fb(),null==(t=this.gwe)||t.removeAllAds(),this._we=void 0,this.dwe=[]},n.pwe=function(t){return ho(this.gwe.ads,(function(n){return n.creativeId===t.Kpe}))},Nt(t,[{key:"wa",get:function(){return this.eu||(this.eu=function(t){return{get adBreaks(){return t.YJt.wa},get currentAdBreak(){if(t.snt)return t.snt.wa},get currentAds(){return t.snt?t.snt.zc.wa:(new O8).wa},skip:function(){t.MD()}}}(this)),this.eu}},{key:"YJt",get:function(){return this.w$t}},{key:"snt",get:function(){return ho(this.w$t.Zu,(function(t){return t.so}))}},{key:"ent",get:function(){return this.snt?this.snt.zc.Zu.filter((function(t){return t.so})):[]}},{key:"uwe",get:function(){if(0!==this.YJt.V&&0!==this.na.aI().length){var t=this.na.aI().end(this.na.aI().length-1);return ho(this.YJt.Zu,(function(n){return n.Bct(t)}))}}},{key:"fpe",get:function(){return this.cwe}}]),t}();F(),Tt(),Gt(),qt(),F(),Tt(),F(),Tt(),Dt();var Q8=function(t){return t[t.NOT_AVAILABLE=-1]="NOT_AVAILABLE",t[t.NOT_APPLICABLE=0]="NOT_APPLICABLE",t[t.G=1]="G",t[t.PG=2]="PG",t[t.PG_13=3]="PG_13",t[t.R=4]="R",t[t.NC_17=5]="NC_17",t[t.X=6]="X",t[t.NOT_RATED=7]="NOT_RATED",t}({}),$8=function(t){return t[t.NOT_AVAILABLE=-1]="NOT_AVAILABLE",t[t.NOT_APPLICABLE=0]="NOT_APPLICABLE",t[t.TV_Y=1]="TV_Y",t[t.TV_Y7=2]="TV_Y7",t[t.TV_G=3]="TV_G",t[t.TV_PG=4]="TV_PG",t[t.TV_14=5]="TV_14",t[t.TV_MA=6]="TV_MA",t[t.NOT_RATED=7]="NOT_RATED",t}({}),t7=function(){function t(t,n,i,r,e,u,s,o,a,c,h,f,v,d,l,g,w,m,y,p,_,b,k,A,T){this.WO=t,this.UO=n,this.ct=i,this.xwe=r,this.Rwe=e,this.lt=u,this.Iwe=s,this.Cwe=o,this.Pwe=a,this.Dwe=c,this.Nwe=h,this.Mwe=f,this.qV=v,this.Lwe=d,this.Bwe=l,this.Owe=g,this.Fwe=w,this.VN=m,this.Vwe=y,this.Wwe=p,this.Uwe=_,this.Gwe=b,this.Hwe=k,this.Zwe=A,this.Xwe=T}return t.kwe=function(n,i,r){var e=new Ba(n.rating_flags);return new t(i,r,n.duration,Boolean(n.audio_only),n.boundary_details,Boolean(n.error),n.tv_rating,n.max_slice,n.thumb_prefix,n.slice_dur,n.movie_rating,n.owner,n.meta,n.rates,n.thumbs,n.poster_url,n.default_poster_url,n.desc,e.Cb(1),e.Cb(2),e.Cb(4),e.Cb(8),n.external_id,Boolean(n.is_ad),n.asset)},Nt(t,[{key:"wa",get:function(){return this.eu||(this.eu=function(t){return{startTime:t.WO,endTime:t.UO,duration:t.ct,audioOnly:t.xwe,boundaryDetails:t.Rwe,error:t.lt,tvRating:t.Iwe,maxSlice:t.Cwe,thumbPrefix:t.Pwe,sliceDuration:t.Dwe,movieRating:t.Nwe,ownerId:t.Mwe,metadata:t.qV,rates:t.Lwe,thumbnailResolutions:t.Bwe,posterUrl:t.Owe,defaultPosterUrl:t.Fwe,description:t.VN,hasAdultLanguage:t.Vwe,hasSexualSituations:t.Wwe,hasViolence:t.Uwe,hasDrugSituations:t.Gwe,externalId:t.Hwe,isAd:t.Zwe,assetId:t.Xwe}}(this)),this.eu}}]),t}();var n7=Db({duration:Ab,offset:Ab}),i7=Db({c3:n7}),r7=Db({c7:n7}),e7=Db({halftime:n7}),u7=Lb(Pb($8)),s7=Lb(Pb(Q8)),o7=Db({width:Ob(Eb,Ab),prefix:Tb,bw:Ab,bh:Ab,height:Ob(Eb,Ab)}),a7=Db({audio_only:Ab,boundary_details:Ob(Eb,Vb(Ob(i7,r7,e7))),error:Ab,tv_rating:u7,max_slice:Ab,thumb_prefix:Tb,slice_dur:Ab,movie_rating:s7,owner:Tb,meta:Ib,rates:Vb(Ab),thumbs:Vb(o7),poster_url:Tb,duration:Ab,default_poster_url:Tb,desc:Tb,rating_flags:Ab,external_id:Tb,is_ad:Ab,asset:Tb}),c7=function(){function t(t){this.fW=t}var n=t.prototype;return n.aTt=function(t,n,i,r){var e=this;return Zt((function(){var u,s;return Ht(this,(function(o){switch(o.label){case 0:return u=function(t,n,i){if(t8.GU(n))return[h7(t,n,i)];if(Vb(t8).GU(n))return n.map((function(n){return h7(t,n,i)}));if(n8.GU(n)){return(qn(n.externalId)?n.externalId:[n.externalId]).map((function(r){return h7(t,"ext/"+n.userId+"/"+r,i)}))}throw new _("Invalid asset id")}(t,n,r),s=u.map((function(t){return mT((function(){return e.Tpe(t)}),i)})),[4,et.all(s)];case 1:return[2,o.sent().filter(Yn)]}}))}))()},n.Tpe=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,n.fW.Qk({AE:ol.GET,Xu:t,jk:Id.Ak})];case 1:return[4,r.sent().Kk()];case 2:return i=r.sent(),a7.GU(i)||a7.ZU(i,"AssetInfoResponse"),[2,i]}}))}))()},t}();function h7(t,n,i){return i?t+"/player/assetinfo/"+n+".json?pbs="+i:t+"/player/assetinfo/"+n+".json"}F(),Tt(),Rt(),F(),Tt(),Rt();var f7=function(t){function n(n){var i;return(i=t.call(this,"zwe")||this).ld=n,i}return It(n,t),n.prototype.ka=function(){return new v7(this.ld.wa)},n}(gg),v7=function(t){function n(n){var i;return(i=t.call(this,"removeasset")||this).asset=n,i}return It(n,t),n}(sa);F(),Tt(),Rt();var d7=function(t){function n(n){var i;return(i=t.call(this,"qwe")||this).ld=n,i}return It(n,t),n.prototype.ka=function(){return new l7(this.ld.wa)},n}(gg),l7=function(t){function n(n){var i;return(i=t.call(this,"addasset")||this).asset=n,i}return It(n,t),n}(sa),g7=function(t){function n(){return t.call(this)||this}It(n,t);var i=n.prototype;return i.hpe=function(t,n){for(var i,r=0,e=0;e<t.length;e++){var u=t[e];i=r+u.duration;for(var s=0;s<n.length;s++){var o=n[s];r<=o.WO&&o.WO<i&&(i+=o.ct||0)}this.kO(t7.kwe(u,r,i)),r=i}},i.Yte=function(t){this._o(new d7(t))},i.Jte=function(t){this._o(new f7(t))},n}(f1);F(),Tt(),Dt(),Rt(),F(),Tt(),Rt();var w7=function(t){function n(n){var i;return(i=t.call(this,"Ywe")||this).zE=n,i}return It(n,t),n.prototype.ka=function(){return new m7(this.zE)},n}(gg),m7=function(t){function n(n){var i;return(i=t.call(this,"preplayresponse")||this).response=n,i}return It(n,t),n}(sa);F(),Tt(),Rt();var y7=function(t){function n(n){var i;return(i=t.call(this,"Kwe")||this).zE=n,i}return It(n,t),n.prototype.ka=function(){return new p7(this.zE)},n}(gg),p7=function(t){function n(n){var i;return(i=t.call(this,"assetinforesponse")||this).response=n,i}return It(n,t),n}(sa),_7=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Hge=n,e.Zge=i,e.qge=r,r.bn("kpe",e.Ds),r.bn("Epe",e.Ds),e}It(n,t);var i=n.prototype;return i.Ape=function(t){t&&this._o(new w7(Cg(t)))},i.ope=function(t){var n=this;t.forEach((function(t){return n._o(new y7(t))}))},i.ka=function(){var t,n=this,i={get ads(){return n.Hge.wa},get assets(){return n.Zge.wa},addEventListener:function(n,i){t.bn(n,i)},removeEventListener:function(n,i){t.vn(n,i)}};return t=new eR(n,i),i},Nt(n,[{key:"wa",get:function(){return this.eu||(this.eu=this.ka()),this.eu}}]),n}(ua),b7=function(){function t(){}return t.prototype.jwe=function(t,n){var i=new i8(t.fR),r=new l8(t.fR),e=function(t){if(t.uplynk&&Yn(t.uplynk.defaultSkipOffset))return function(t){return ei(t)?t:-1}(t.uplynk.defaultSkipOffset);return-1}(n),u=function(t){var n,i,r=null!=(i=null==(n=t.uplynk)?void 0:n.onSeekOverAd)?i:void 0;return function(t){if(!t)return"play-none";switch(t.toLowerCase()){case"play-all":return"play-all";case"play-none":default:return"play-none";case"play-last":return"play-last"}}(r)}(n),s=new p8(r,t),o=new _8(i,n),a=new J8(t,s,e,u),c=new c7(t.fR),h=new g7,f=new _7(a,h,s);return new X9(t,s,o,a,f,c,h)},t}();Zk((function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Qwe=(new b7).jwe(r,i),r}It(n,t);var i=n.prototype;return i.zge=function(n){t.prototype.Ca.call(this,n)},i.Yge=function(n,i){return t.prototype.Rnt.call(this,n,i)},i.gpe=function(n){t.prototype.RR.call(this,n)},i.NR=function(){var n;return null!=(n=this.Qwe.lt)?n:t.prototype.NR.call(this)},i.LR=function(){var n;return null!=(n=this.Qwe.MR)?n:t.prototype.LR.call(this)},i.RR=function(t,n){this.Qwe.RR(t)},i.Ca=function(t){this.Qwe.Ca(t)},i.Rnt=function(t,n){return this.Qwe.Rnt(t,n)},i.ka=function(){var n=this.Qwe.wa;return Rg(t.prototype.ka.call(this),{get uplynk(){return n}})},i.yn=function(){this.Qwe.yn(),t.prototype.yn.call(this)},n}(t)}),Fk.Gst),F(),Tt(),F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Gt(),Dt(),qt(),F(),Tt();var k7=function(t){return t.CREATIVE_VIEW="creativeView",t.START="start",t.FIRST_QUARTILE="firstQuartile",t.MID_POINT="midpoint",t.THIRD_QUARTILE="thirdQuartile",t.COMPLETE="complete",t.MUTE="mute",t.UNMUTE="unmute",t.PAUSE="pause",t.REWIND="rewind",t.RESUME="resume",t.FULL_SCREEN="fullscreen",t.EXIT_FULL_SCREEN="exitFullscreen",t.EXPAND="expand",t.COLLAPSE="collapse",t.ACCEPT_INVITATION_LINEAR="acceptInvitationLinear",t.ACCEPT_INVITATION="acceptInvitation",t.CLOSE_LINEAR="closeLinear",t.CLOSE="close",t.SKIP="skip",t.SKIP_SHOWN="skipShown",t.PROGRESS="progress",t.ENGAGED_VIEW="engagedView",t.IMPRESSION="impression",t.ERROR="error",t}({});F(),Tt(),Dt(),Rt();var A7=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i)||this).YYt=e,u.jO=r,u}return It(n,t),n.prototype.ka=function(){return V$(this)},Nt(n,[{key:"aQt",get:function(){return zQ.v$t}},{key:"WO",get:function(){return this.jO}},{key:"cYt",get:function(){return this.YYt}}]),n}(B$);F(),Tt(),Dt(),Rt();var T7=function(t){function n(n,i,r){var e;if((e=t.call(this,i)||this).S2t=n,e.T2t=n,r){var u=new Date(r);lr(u)&&(e.Jwe=u)}return e}return It(n,t),Nt(n,[{key:"cOt",get:function(){return this.Jwe}},{key:"aQt",get:function(){return zQ.v$t}}]),n}(x$),S7=function(){function t(t,n,i){var r=this;this._ye=-1/0,this.iye=void 0,this.nye=0,this.aye=[],this.Qme=!1,this.aK=!1,this.dge=-1,this.cye=void 0,this.oye=void 0,this.fye=0,this.XB=function(){r.rye()},this.czt=function(){r.Tye(k7.RESUME)},this.sMt=function(){r.pye(),r.Tye(k7.PAUSE)},this.Ge=function(){r.pye(),r.dge=-1},this.Ah=function(){r.pye()},this.pd=function(){-1===r.dge&&(r.dge=r.sye()),r.wye(),r.yye(),r.dge=r.sye()},this.i1t=function(){if(r.Qme!==r.na.ZR){r.Qme=r.na.ZR;var t=r.Qme?k7.MUTE:k7.UNMUTE;r.Tye(t)}},this.$we=function(){if(r.aK!==r.na.cs()){r.aK=r.na.cs();var t=r.aK?k7.FULL_SCREEN:k7.EXIT_FULL_SCREEN;r.Tye(t)}},this.X6=function(t){Bo(t)||(r.Tye(k7.ERROR),qo(r.dye()))},this.Aye=[k7.START,k7.FIRST_QUARTILE,k7.MID_POINT,k7.THIRD_QUARTILE,k7.COMPLETE,k7.IMPRESSION,k7.CREATIVE_VIEW],this.na=t,this.gye=n,this.mye=i,this.wC()}var n=t.prototype;return n.wC=function(){this.na.bn(yp.UL,this.XB),this.na.bn(oa.zy,this.sMt),this.na.bn(oa.ho,this.czt),this.na.bn(oa.Jy,this.Ge),this.na.bn(oa.Dy,this.Ah),this.na.bn(oa.hb,this.pd),this.na.bn(oa.ub,this.i1t),this.na.bn(EI.MODE_CHANGE,this.$we)},n.gC=function(){this.na.vn(yp.UL,this.XB),this.na.vn(oa.zy,this.sMt),this.na.vn(oa.ho,this.czt),this.na.vn(oa.Jy,this.Ge),this.na.vn(oa.Dy,this.Ah),this.na.vn(oa.hb,this.pd),this.na.vn(oa.ub,this.i1t),this.na.vn(EI.MODE_CHANGE,this.$we)},n.sye=function(){return this.na.xR()-this.nye},n.rye=function(){var t=this;if(!this.oye)if(this.na.jd()===1/0){var n=function(){var n;null==(n=t.cye)||n.Xw(),t.cye=void 0,t.oye=void 0};this.cye=new Yo,this.oye=this.lye(this.cye.Uw).catch(this.X6).then(n,n)}else 0===this.aye.length&&(this.oye=this.uye())},n.dye=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:n=k.min(1e3*k.pow(2,t.fye),3e4),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,$o(n,null==(i=t.cye)?void 0:i.Uw)];case 2:return r.sent(),t.fye++,[3,4];case 3:return Bo(r.sent())?(t.fye=0,[2]):[3,4];case 4:return t.rye(),[2]}}))}))()},n.lye=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return Vo(t),n.na.KR?[3,5]:(i=Kn.Wg()-n._ye)>1e4?[4,n.uye(t)]:[3,2];case 1:return r.sent(),n._ye=Kn.Wg(),n.fye=0,[3,4];case 2:return[4,$o(1e4-i,t)];case 3:r.sent(),r.label=4;case 4:return[3,0];case 5:return[2]}}))}))()},n.vye=function(t){var n=t.cOt;if(n&&this.na.bR&&0===this.nye&&!this.mye&&0!==k.floor(this.na.aI().start(0))){var i=(this.na.bR.getTime()-n.getTime())/1e3,r=this.na.xR()-t.eOt;this.nye=r-i}},n.uye=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:return v.trys.push([0,3,,4]),[4,n.na.fR.Qk({Xu:n.gye})];case 1:return[4,v.sent().Ik(t)];case 2:if(0===(i=v.sent()).avails.length)return 0!==n.aye.length&&(n.aye=[]),[2];if(i.avails.length===n.aye.length&&i.avails[0].startTimeInSeconds===n.aye[0].eOt)return n.vye(n.aye[0]),[2];for(r=[],e=0,u=i.avails;e<u.length;e++){for(s=u[e],o=new T7(s.durationInSeconds,s.startTimeInSeconds,s.availProgramDateTime),a=0,c=s.ads;a<c.length;a++)h=c[a],(f=new A7(o,M$.Mjt,h.startTimeInSeconds,h.trackingEvents)).L2t(h.adId,h.width,h.height,h.durationInSeconds,[],h.skipoffset),o.R2t(f);r.push(o),n.vye(o)}return n.aye=to(r,(function(t,n){return t.eOt-n.eOt})),[3,4];case 3:throw Fo(v.sent()),new p("Failed to poll MediaTailor tracking events");case 4:return[2]}}))}))()},n.pye=function(){var t;null==(t=this.cye)||t.jw(),this.cye=void 0,this.oye=void 0,this._ye=-1/0},n.wye=function(){if(0!==this.aye.length){var t=this.aye[this.aye.length-1],n=this.sye();if(t.eOt+t.ZJt<this.dge){var i;this.iye&&(null==(i=this.na.zc)||i._o(new UL(this.iye)),this.iye=void 0)}else{for(var r=0,e=this.aye;r<e.length;r++){var u=e[r],s=u.eOt;if(!(s+u.ZJt<this.dge)&&(s<=n&&s+u.ZJt>this.dge)){var o;if(this.tye===u)return;return this.iye=u,void(null==(o=this.na.zc)||o._o(new ZL(this.iye)))}}var a;if(this.iye)null==(a=this.na.zc)||a._o(new UL(this.iye)),this.iye=void 0}}},n.yye=function(){var t=this,n=this.ent;if(0!==n.length){for(var i=[],r=0;r<n.length;r++){var e=n[r].cYt.filter((function(n){return po(t.Aye,n.eventType)}));i=i.concat(e)}for(var u=0;u<i.length;u++){var s=i[u];this.Sye(s.startTimeInSeconds)&&(s.eventType===k7.COMPLETE&&this.Tye(k7.ENGAGED_VIEW),this.kye(s))}}},n.Eye=function(t,n){return n.cYt.filter((function(n){return Ws(n.eventType,t)}))[0]},n.Tye=function(t){var n=this.ent;if(0!==n.length){var i=this.Eye(t,n[0]);i&&this.kye(i)}},n.kye=function(t){this.o_e(t.eventType);for(var n=0,i=t.beaconUrls;n<i.length;n++){var r=i[n],e={AE:ol.GET,Xu:r,Lk:"",jk:Id.Ak};0,qo(this.xye(e))}},n.o_e=function(t){var n,i,r=this.ent;switch(t){case k7.START:n=new GL(r[r.length-1],this.na.xR());break;case k7.COMPLETE:n=new zL(r[0],this.na.xR());break;case k7.FIRST_QUARTILE:n=new K$(r[0],this.na.xR());break;case k7.MID_POINT:n=new J$(r[0],this.na.xR());break;case k7.THIRD_QUARTILE:n=new $$(r[0],this.na.xR())}void 0!==n&&(null==(i=this.na.zc)||i._o(n))},n.xye=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.na.fR.Qk(t)];case 1:return i.sent().Yk,[2]}}))}))()},n.Sye=function(t){var n=this.sye();return t>=this.dge&&t<n},n.yn=function(){this.gC(),this.pye(),this.dge=-1},Nt(t,[{key:"tye",get:function(){return this.iye}},{key:"ent",get:function(){var t=this.tye;if(!t)return[];for(var n=[],i=this.sye(),r=0,e=t.zc;r<e.length;r++){var u=e[r];i>=u.WO&&this.dge<=u.WO+u.ct&&n.push(u)}return n}}]),t}();Zk((function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Rye=void 0,r.YG=void 0,r.KG=void 0,r.Cye=void 0,r}It(n,t);var i=n.prototype;return i.Ca=function(n){return this.Rye&&(this.Rye.yn(),this.Rye=void 0,this.qEt()),t.prototype.Ca.call(this,n)},i.Rnt=function(n,i){var r=this,e=function(){return t.prototype.Rnt};return Zt((function(){var t,u;return Ht(this,(function(s){switch(s.label){case 0:if(!n||!function(t){return t.sources.some((function(t){return t.integration===OA.MEDIATAILOR}))}(n))return[2,e().call(r,n,i)];s.label=1;case 1:return s.trys.push([1,4,,5]),[4,r.Iye(n,i)];case 2:return t=s.sent(),r.Cye=new i0(r),[4,e().call(r,t,i)];case 3:return s.sent(),[3,5];case 4:return u=s.sent(),r.BH(new id(td.MANIFEST_LOAD_ERROR,u.message,u)),[3,5];case 5:return[2]}}))}))()},i.$R=function(n){var i;(null==(i=this.Cye)?void 0:i.inAdBreak)||t.prototype.$R.call(this,n)},i.RR=function(n,i){var r;(null==(r=this.Rye)?void 0:r.tye)||t.prototype.RR.call(this,n,i)},i.NR=function(){var n;return null!=(n=this.YG)?n:t.prototype.NR.call(this)},i.LR=function(){var n;return null!=(n=this.KG)?n:t.prototype.LR.call(this)},i.BH=function(t){this.YG=iw(t),this.KG=t,this._o(new yk(t))},i.qEt=function(){this.YG=void 0,this.KG=void 0},i.Iye=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:r=[],e=0,u=t.sources,f.label=1;case 1:return e<u.length?KA(s=u[e])&&(o=s).src?[4,i.Pye(o,n)]:(r.push(s),[3,3]):[3,4];case 2:a=f.sent(),Vo(n),c=ns({},o,{integration:void 0,src:a}),r.push(c),f.label=3;case 3:return e++,[3,1];case 4:return(h=Cg(t)).sources=r,[2,h]}}))}))()},i.Pye=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:if(r=t.src||"",!(e=r.match(/.+?(?=\/v1\/)/)))throw new p("Could not find MediaTailor session initialization url");return u=e[0],s=Vs(r,"?ads."),o=s?{Xu:r,jk:Id.Ak}:{Xu:r,AE:ol.POST,Lk:JSON.stringify({adParams:t.adParams}),jk:Id.Ak},[4,mT((function(){return i.Dye(o,n)}),n)];case 1:a=v.sent();try{c=u+a.manifestUrl,s||(h=u+a.trackingUrl,f=WA(c),i.Rye=new S7(i,h,f))}catch(t){throw new p("Something went wrong parsing the MediaTailor session initialization response")}return[2,c]}}))}))()},i.Dye=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,i.fR.Qk(t)];case 1:return[4,r.sent().Ik(n)];case 2:return[2,r.sent()];case 3:throw Fo(r.sent()),new p("Failed to initialize MediaTailor session manifest");case 4:return[2]}}))}))()},i.yn=function(){var n;this.Rye&&(this.Rye.yn(),this.Rye=void 0),this.qEt(),null==(n=this.Cye)||n.destroy(),this.Cye=void 0,t.prototype.yn.call(this)},n}(t)}),Fk.Xst),F(),Tt(),F(),Tt(),Gt(),qt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt();var E7=function(t){return t[t.Nye=0]="Nye",t[t.UL=1]="UL",t[t.DZ=2]="DZ",t[t.Mye=3]="Mye",t[t.Lye=4]="Lye",t[t.Bye=5]="Bye",t[t.fa=6]="fa",t}({});F(),Tt(),Dt(),Rt();var I7=function(t){function n(n,i,r,e,u){var s;return void 0===u&&(u=!1),(s=t.call(this)||this).IO=vw(),s.TO=new sw,s.lu=n,s.CO=i,s.r5=r,s.qe=u,s.VMt=e,s}return It(n,t),n.prototype.DO=function(t){this.qe=t,t?this.VMt.Oye(this.lu):this.VMt.Fye(this.lu)},Nt(n,[{key:"RC",get:function(){}},{key:"Rt",get:function(){return this.qe},set:function(t){this.DO(t)}},{key:"wa",get:function(){var t;return null!=(t=this.eu)?t:this.eu=zg(this)}},{key:"o",get:function(){return String(this.lu.componentTag)||"hbbtvaudiotrack"}},{key:"Lt",get:function(){return this.r5}},{key:"Ch",get:function(){return this.CO}},{key:"gs",get:function(){return""}},{key:"CE",get:function(){return this.Rt?"enabled":"disabled"},set:function(t){this.DO("enabled"===t)}},{key:"NC",get:function(){return this.TO}},{key:"MC",get:function(){},set:function(t){}},{key:"IC",get:function(){return this.IO}}]),n}(ra);F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Gt(),Rt(),qt(),F(),Tt();var R7=function(t){return t.pw="urn:dvb:casystemid:19219",t.ww="urn:dvb:casystemid:19156",t}({}),C7=function(t){return t.pw="application/vnd.ms-playready.initiator+xml",t.ww="application/widevine+xml",t}({});function N7(t,n,i){switch(t){case"urn:dvb:casystemid:19219":return function(t){return'<?xml version="1.0" encoding="utf-8"?><PlayReadyInitiator xmlns="http://schemas.microsoft.com/DRM/2007/03/protocols/"><LicenseServerUriOverride><LA_URL>'+(null!=t?t:"")+"</LA_URL></LicenseServerUriOverride></PlayReadyInitiator>"}(n);case"urn:dvb:casystemid:19156":if(!i)throw new p("Content URL is needed for Widevine license request");return function(t,n){return'<?xml version="1.0" encoding="utf-8"?><WidevineCredentialsInfo xmlns="http://www.smarttv-alliance.org/DRM/widevine/2012/protocols/"><ContentURL>'+gJ(null!=n?n:"")+"</ContentURL><DeviceID></DeviceID><StreamID></StreamID><ClientIP></ClientIP><DRMServerURL>"+gJ(null!=t?t:"")+"</DRMServerURL><DRMAckServerURL></DRMAckServerURL><DRMHeartBeatURL></DRMHeartBeatURL><DRMHeartBeatPeriod></DRMHeartBeatPeriod><UserData></UserData><Portal></Portal><StoreFront></StoreFront><BandwidthCheckURL></BandwidthCheckURL><BandwidthCheckInterval></BandwidthCheckInterval></WidevineCredentialsInfo>"}(n,i);default:throw new p("DRM key system is not supported")}}var D7=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Gye=void 0,n.Xye=void 0,n.Cu=void 0,n.qye=void 0,n.zye=void 0,n.Hye=function(t,i,r){var e,u;if(0!==r){var s=n.Yye(r),o=n.Kye(r),a=new Qg(s,o);null==(u=n.zye)||null==(e=u.Wb)||e.call(u,a)}else{var c,h;null==(h=n.zye)||null==(c=h.Vb)||c.call(h,t)}},n.Zye=function(t,i,r,e){var u=n.jye(t),s=n.Qye(t),o=new Qg(u,s);n._o(new QD(o))},n}It(n,t);var i=n.prototype;return i.Vye=function(t){this.Wye(),this.Cu=t},i.Uye=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:if(!t.sH.length)return n.Wye(),[2];if(!n.Cu)throw new p("The OIPF DRM agent has to be attached to the DOM");n.Gye||(n.Gye=v.createElement("object"),n.Gye.type="application/oipfDrmAgent",n.Cu.appendChild(n.Gye),n.Gye.onDRMMessageResult=n.Hye,n.Gye.onDRMRightsError=n.Zye,n.Xye=v.createElement("object"),n.Xye.type="application/oipfCapabilities",n.Cu.appendChild(n.Xye)),r=0,e=t.sH,h.label=1;case 1:if(!(r<e.length))return[3,6];if(u=e[r],s=void 0,o=void 0,a=void 0,u.cT===Cs)s=R7.pw,o=C7.pw,a=N7(R7.pw,u.CG);else{if(u.cT!==Ns)return[3,5];s=R7.ww,o=C7.ww,a=N7(R7.ww,u.CG,t.VC)}h.label=2;case 2:return h.trys.push([2,4,,5]),[4,n.hit(o,a,s)];case 3:return h.sent(),n._o(new $D),[2];case 4:return c=h.sent(),i=c,[3,5];case 5:return r++,[3,1];case 6:return i&&n._o(new QD(i)),[2]}}))}))()},i.Xw=function(){return this.zye=void 0,this.Cu=void 0,t.prototype.Xw.call(this)},i.hit=function(t,n,i){var r,e;return this.zye=new Gc,this.qye=null==(e=this.Gye)||null==(r=e.sendDRMMessage)?void 0:r.call(e,t,n,i),this.qye||null==this.zye.Wb||this.zye.Wb.call(this.zye,new Qg(td.CONTENT_PROTECTION_INTERNAL_ERROR,"No DRM message returned by OIPF DRM agent")),this.zye.Ub},i.Yye=function(t){switch(t){case 5:return td.CONTENT_PROTECTION_NOT_SUPPORTED;case 2:case 1:case 3:case 4:case 6:return td.CONTENT_PROTECTION_INTERNAL_ERROR;default:return td.CONTENT_PROTECTION_ERROR}},i.Kye=function(t){switch(t){case 2:return"The DRM agent was unable to complete the request";case 3:return"The specified MIME type is unknown for the specified DRM system";case 4:return"User consent is needed for that action";case 5:return"The specified DRM System is unknown";case 6:return"The license message has the wrong format";default:return"Unspecified error occurred"}},i.jye=function(t){return 0===t?td.CONTENT_PROTECTION_LICENSE_ERROR:1===t?td.CONTENT_PROTECTION_LICENSE_INVALID:td.CONTENT_PROTECTION_ERROR},i.Qye=function(t){switch(t){case 0:return"No license, consumption of the content is blocked";case 1:return"Invalid license, consumption of the content is blocked";case 2:return"Valid license, consumption of the content is unblocked";default:return"Unknown error occurred"}},i.Wye=function(){this.Gye&&(oi(this.Gye),this.Gye=void 0),this.Xye&&(oi(this.Xye),this.Xye=void 0)},i.d9=function(t,n,i){return Zt((function(){return Ht(this,(function(t){return[2]}))}))()},n}(sP);F(),Tt(),Gt(),Dt(),qt(),F(),Tt();var P7=et,x7=function(){function t(t,n,i){this.MT=t,this.WB=n,this.vJ=i}var n=t.prototype;return n.dJ=function(t){return!1},n._J=function(t){return P7.resolve(void 0)},n.Uye=function(t){var n=this;return Zt((function(){return Ht(this,(function(t){switch(t.label){case 0:return[4,n.vJ.Uye(n.MT)];case 1:return t.sent(),[2]}}))}))()},n.Xw=function(){return P7.resolve(void 0)},Nt(t,[{key:"hI",get:function(){return SA.gB(0,this.WB.ct)}},{key:"iI",get:function(){return zT.$H},set:function(t){}},{key:"kd",get:function(){return this.MT}}]),t}(),L7=function(t){function n(n,i){var r;return(r=t.call(this)||this).Ku=n,r.wZ=i,r.ea=new JT,r.ta=new $T,r.Hl=new Hy,r.JG=void 0,r.cZ=!1,r.YG=void 0,r.RW=bp.eO,r.hZ=!0,r.tbe=void 0,r.ibe=function(){var t,n,i,e;(null==(t=r.sbe)?void 0:t.playState)&&((null==(n=r.tbe)?void 0:n.Ub)||2!==r.sbe.playState||r.$ye().catch(bi),3===r.sbe.playState&&(null==(e=r.tbe)||null==(i=e.Vb)||i.call(e,String(r.sbe.playState)),r.tbe=void 0))},r.vJ=new D7(r),r.vJ.bn(JD,r.Ds),r.y8=new Ik([r.Hl]),r.b8=new WD(r),r.Ket=new AP,r.jet=new Fx(r.Ket.we,r.Hu,r.nt,r.Wl,r.Sa,r.fH),r.sbe=r.ebe(),r.$ye().catch(bi),r}It(n,t);var i=n.prototype;return i.S7=function(t){this.vJ.Vye(t),this.Ket.S7(t)},i.MJ=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.Tw===mp.pW)return i}},i.$n=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:if(n.JG)throw new p("Already loaded a media source");return t.Tw!==mp.pW?[3,2]:(n.JG=new x7(t,n,n.vJ),[4,n.JG.Uye(t)]);case 1:return i.sent(),[2,n.JG];case 2:throw new p("Unsupported media source configuration for HbbTV");case 3:return[2]}}))}))()},i.Jye=function(t){var n=this;return Zt((function(){return Ht(this,(function(t){switch(t.label){case 0:return[4,n.$ye()];case 1:return t.sent(),[2]}}))}))()},i.xI=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.$ye()];case 1:return n.sent(),[2]}}))}))()},i.zG=function(t){},i.nr=function(){var t=this;return Zt((function(){return Ht(this,(function(n){return t.JG=void 0,t.tbe=void 0,[2]}))}))()},i.Xw=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.nr()];case 1:return n.sent(),t.Hl.yn(),t.y8.yn(),t.Ket.yn(),t.jet.yn(),t.vJ.vn(JD,t.Ds),[4,t.vJ.Xw()];case 2:return n.sent(),[2]}}))}))()},i.ge=function(){this.hZ=!0,this.Ket.ge()},i.be=function(){this.hZ=!1,this.Ket.be()},i.uH=function(){return!1},i.lH=function(t,n,i,r,e){throw new p("Adding native sideloaded text tracks is not supported on HbbTV")},i.p7=function(){},i.w7=function(){},i.A7=function(){},i.HR=function(){return{_O:0,vO:0,mO:0}},i.NI=function(){},i._H=function(t){throw new p("Adding custom text tracks is not supported on HbbTV")},i.TI=function(){},i.OI=function(t,n,i,r,e,u,s,o,a){var c=new FN(t,n,i,r,e,u,s,a,o);return this.Hl.tt(c),this.b8.tt(c),c},i.vH=function(){for(var t=0,n=this.Hl.lC.slice();t<n.length;t++){n[t].yn()}this.Hl.nr()},i.mW=function(t){this.Hl.it(t),this.b8.it(t)},i.ebe=function(){for(var t=v.getElementsByTagName("object"),n=0;n<t.length;n++){var i=t.item(n);if("video/broadcast"===i.type){var r=i;return r.onPlayStateChange=this.ibe,0===r.playState&&(null==r.bindToCurrentChannel||r.bindToCurrentChannel.call(r)),r}}},i.$ye=function(){var t,n;if(!this.sbe||3===this.sbe.playState||0===this.sbe.playState)return et.resolve("");if(null==(t=this.tbe)?void 0:t.Ub)return null==(n=this.tbe)?void 0:n.Ub;this.tbe=new Gc;try{null==this.sbe.stop||this.sbe.stop.call(this.sbe)}catch(t){Kn.Wp("Unable to stop broadcast for HbbTV",t),this.tbe.Wb(new p("Unable to stop broadcast for HbbTV"))}return this.tbe.Ub},Nt(n,[{key:"wR",get:function(){return SA.pB()}},{key:"bR",get:function(){}},{key:"$G",get:function(){}},{key:"Hu",get:function(){return this.Ku}},{key:"hI",get:function(){var t,n;return null!=(n=null==(t=this.JG)?void 0:t.hI)?n:SA.pB()}},{key:"uI",get:function(){return this.cZ}},{key:"X4",get:function(){return!1}},{key:"WR",get:function(){return!1}},{key:"qB",get:function(){return ns({},CR)}},{key:"lt",get:function(){return this.YG}},{key:"U4",get:function(){return!1}},{key:"Sa",get:function(){return this.ea}},{key:"y7",get:function(){return!0}},{key:"M4",get:function(){return!1}},{key:"AI",get:function(){return!0},set:function(t){}},{key:"Wl",get:function(){return this.wZ}},{key:"nt",get:function(){return this.y8}},{key:"G9",get:function(){return this.hZ}},{key:"fH",get:function(){return this.ta}}]),n}(ra),M7=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).nbe=n,e.fZ=1,e.cO=new Kg,e.dO=new Kg,e.O4=bp.eO,e.vbe=void 0,e.obe=void 0,e.rbe=function(){if(e.nbe.playState){e.RW=e.O4,e.mbe=e.gbe,e.gbe=e.nbe.playState;var t=e.ct;switch(t!==e.vbe&&(e._o(new fT(t)),e.vbe=t),e.obe&&e.gbe!==E7.UL&&(Kn.Hp(e.obe),e.obe=void 0),e.gbe){case E7.Mye:e.O4=bp.eO;break;case E7.Lye:if(e.mbe===E7.Mye){var n,i,r=null!=(n=null==e.nbe.getComponents?void 0:e.nbe.getComponents.call(e.nbe,1))?n:e.abe(),u=null!=(i=null==e.nbe.getComponents?void 0:e.nbe.getComponents.call(e.nbe,0))?i:e.abe();if(0===r.length&&0===u.length)break;e.cbe(r),e.dbe(u)}e.O4=bp.Xn;break;case E7.UL:e.cZ&&(e.cZ=!1,e._o(new gT(e.ER))),e._o(new Ip(e.ER)),e.O4=bp.sO,e.obe=Kn.Gp(e.pbe,250);break;case E7.fa:e.O4=bp.eO,e._o(new kN(new tw(e._be(e.nbe.error))));break;case E7.Bye:e._o(new dT(e.ER));case E7.DZ:case E7.Nye:}e.O4!==e.RW&&e._o(new _p(e.ER,e.O4))}},e.pbe=function(){e._o(new lg(e.ER,void 0))},e}It(n,t);var i=n.prototype;return i.S7=function(n){t.prototype.S7.call(this,n),n.appendChild(this.nbe)},i.$n=function(n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return n.Tw!==mp.pW?[3,3]:[4,t.prototype.$n.call(i,n)];case 1:return r=e.sent(),[4,i.Jye(n)];case 2:return e.sent(),i.nbe.onPlayStateChange=i.rbe,[2,r];case 3:throw new p("Unsupported media source configuration for HbbTV")}}))}))()},i.Jye=function(n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return i.nbe.type=ZA(n.VC),i.nbe.data=n.VC,[4,t.prototype.Jye.call(i,n)];case 1:return r.sent(),[2]}}))}))()},i.xI=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.xI.call(n)];case 1:return i.sent(),n.nbe.play(n.fZ),n._o(new hT(n.ER)),[2]}}))}))()},i.EI=function(){this.nbe.play(0),this._o(new cT(this.ER))},i.Rb=function(t,n,i){this.nbe.seek(1e3*t),this.cZ=!0,this._o(new lT(this.ER))},i.nr=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return void 0!==n.JG&&n.nbe.stop(),n.obe&&(Kn.Hp(n.obe),n.obe=void 0),[4,t.prototype.nr.call(n)];case 1:return i.sent(),ai(n.nbe),n.nbe.data&&n.nbe.removeAttribute("data"),n.cO.nr(),n.dO.nr(),[2]}}))}))()},i.Xw=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.Xw.call(n)];case 1:return i.sent(),oi(n.nbe),[2]}}))}))()},i.ge=function(){t.prototype.ge.call(this),this.nbe.style.display="block"},i.be=function(){t.prototype.be.call(this),this.nbe.style.display="none"},i.Oye=function(t){var n=this.hbe(t);if(!n)throw new p("Selected track does not exist on HbbTV");null==this.nbe.selectComponent||this.nbe.selectComponent.call(this.nbe,n)},i.Fye=function(t){var n=this.hbe(t);if(!n)throw new p("Selected track does not exist on HbbTV");null==this.nbe.unselectComponent||this.nbe.unselectComponent.call(this.nbe,n)},i.hbe=function(t){var n,i=null!=(n=null==this.nbe.getComponents?void 0:this.nbe.getComponents.call(this.nbe,t.type))?n:this.abe();return this.ube(i,t)},i.cbe=function(t){var n,i=null!=(n=null==this.nbe.getCurrentActiveComponents?void 0:this.nbe.getCurrentActiveComponents.call(this.nbe,1))?n:this.abe();this.cO.nr();for(var r=0;r<t.length;r++){var e=t.item(r);this.cO.tt(new I7(e,e.language,this.cO.V?EG.NPt:EG.MPt,this,this.lbe(i,e)))}},i.dbe=function(t){var n,i=null!=(n=null==this.nbe.getCurrentActiveComponents?void 0:this.nbe.getCurrentActiveComponents.call(this.nbe,0))?n:this.abe();this.dO.nr();for(var r=0;r<t.length;r++){var e=t.item(r);this.dO.tt(new I7(e,String(e.aspectRatio),this.dO.V?IG.NPt:IG.MPt,this,this.lbe(i,e)))}},i.abe=function(){return{length:0,item:function(t){}}},i.lbe=function(t,n){return void 0!==this.ube(t,n)},i.ube=function(t,n){for(var i=0;i<t.length;i++){var r=t.item(i);if(this.fbe(r,n))return r}},i.fbe=function(t,n){return t.pid===n.pid&&t.componentTag===n.componentTag&&t.type===n.type&&t.encoding===n.encoding&&t.encrypted===n.encrypted},i._be=function(t){switch(t){case 0:return $g.SRC_NOT_SUPPORTED;case 1:case 5:case 6:return $g.NETWORK;default:return $g.DECODE}},Nt(n,[{key:"jG",get:function(){}},{key:"ht",get:function(){return this.cO}},{key:"rt",get:function(){return this.dO}},{key:"QR",get:function(){return this.fZ},set:function(t){this.fZ=t,this.KR||this.nbe.play(t)}},{key:"ZR",get:function(){return this.nbe.muted},set:function(t){this.nbe.muted=t}},{key:"gI",get:function(){var t,n;return(null!=(n=null!=(t=this.nbe.volume)?t:null==this.nbe.getVolume?void 0:this.nbe.getVolume.call(this.nbe))?n:100)/100},set:function(t){null==this.nbe.setVolume||this.nbe.setVolume.call(this.nbe,100*t)}},{key:"ER",get:function(){return this.nbe.playPosition?this.nbe.playPosition/1e3:0}},{key:"ct",get:function(){return!this.nbe.playTime||this.nbe.playTime<0?1/0:this.nbe.playTime/1e3}},{key:"PR",get:function(){return this.nbe.playState===E7.Bye}},{key:"Ti",get:function(){return this.nbe.offsetHeight*Kn.Ys.Kg}},{key:"ji",get:function(){return this.nbe.offsetWidth*Kn.Ys.Kg}},{key:"KR",get:function(){return this.nbe.playState===E7.DZ}},{key:"tI",get:function(){return SA.pB()}},{key:"rI",get:function(){return this.O4}},{key:"dI",get:function(){return 0}},{key:"vI",get:function(){return 0}}]),n}(L7);F(),Tt(),Gt(),Dt(),Rt(),qt();var O7=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).$T=n,e.cO=new Kg,e.dO=new Kg,e.Dbe=void 0,e.BW=function(){e._o(new hT(e.ER))},e.OW=function(){e._o(new cT(e.ER))},e.Tc=function(){var t=e.ER,n=e.uI,i=void 0!==e.Dbe,r=i&&e.Dbe!==t;(n||!i||r)&&(e._o(new lg(t,void 0)),e.Dbe=t)},e.wbe=function(){e._o(new FR(e.ER))},e.Ts=function(){e._o(new UR)},e.Mc=function(){e._o(new dT(e.ER))},e.ybe=function(){e._o(new vT(e.ER,e.QR))},e.fzt=function(){e._o(new wT(e.ER,e.gI))},e.uzt=function(){e._o(new fT(e.ct))},e.bbe=function(){},e.Abe=function(){},e.Sbe=function(){e.cZ&&(e.cZ=!1),e._o(new gT(e.ER))},e.Tbe=function(){e._o(new lT(e.ER))},e.FW=function(t){e.RW!==t.readyState&&(e.RW=t.readyState,e._o(t))},e.LW=function(){e._o(new Ip(e.ER))},e.kbe=function(){if(null!==e.$T.error){var t,n=e.$T.error;e.BH(new tw(null!=(t=n.code)?t:$g.DECODE,n.message||"Error decoding media",void 0,n.msExtendedCode))}},e.y9=function(t){e._o(new la(t.initDataType,t.initData||new ArrayBuffer(0)))},e.Ibe=function(t){var n=e.$T.videoTracks;if(n)for(var i=0;i<n.length;i++){var r=n[i];Mk(e.dO,r)||e.dO.tt(new bw(r))}},e.Cbe=function(t){var n=[],i=e.$T.videoTracks;if(i){for(var r=0,u=e.dO.lC;r<u.length;r++){var s=u[r];Ok(i,s.PO)||n.push(s)}for(var o=0;o<n.length;o++){var a=n[o];e.dO.it(a)}}},e.Pbe=function(t){e.ah(e.dO)},e.Ebe=function(t){var n=e.$T.audioTracks;if(n)for(var i=0;i<n.length;i++){var r=n[i];Mk(e.cO,r)||e.cO.tt(new pw(r))}},e.xbe=function(t){var n=[],i=e.$T.audioTracks;if(i){for(var r=0,u=e.cO.lC;r<u.length;r++){var s=u[r];Ok(i,s.PO)||n.push(s)}for(var o=0;o<n.length;o++){var a=n[o];e.cO.it(a)}}},e.Rbe=function(t){e.ah(e.cO)},e.B9=new aP(e),e.B9.bn(yp.iC,e.FW),e.B9.A9(new mN(e)),e.Q9=new bN(e),e.Q9.bn(yp.UL,e.LW),e.Z8(),e.IH(),e}It(n,t);var i=n.prototype;return i.S7=function(n){t.prototype.S7.call(this,n),n.appendChild(this.$T)},i.$n=function(n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return n.Tw!==mp.pW?[3,3]:[4,t.prototype.$n.call(i,n)];case 1:return r=e.sent(),[4,i.Jye(n)];case 2:return e.sent(),[2,r];case 3:throw new p("Unsupported media source configuration for HbbTV")}}))}))()},i.Jye=function(n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:switch(n.rH){case aA.XC:case aA.zC:i.$T.setAttribute("crossorigin",n.rH);break;case aA.wE:default:i.$T.removeAttribute("crossorigin")}return void 0!==n.iI?i.$T.preload=n.iI:i.$T.preload=zT.yG,void 0!==n.oH?i.$T.title=n.oH:pi(i.$T),r=i.QR,i.$T.src=n.VC,i.QR=r,[4,t.prototype.Jye.call(i,n)];case 1:return e.sent(),[2]}}))}))()},i.xI=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.xI.call(n)];case 1:return i.sent(),[4,n.$T.play()];case 2:return i.sent(),[2]}}))}))()},i.EI=function(){this.$T.pause()},i.Rb=function(t,n,i){n&&this.$T.fastSeek?this.$T.fastSeek(t):this.$T.currentTime=t,this.cZ=!0,this._o(new lT(this.ER))},i.nr=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.nr.call(n)];case 1:return i.sent(),ai(n.$T),n.$T.src&&n.$T.removeAttribute("src"),n.cO.nr(),n.dO.nr(),[2]}}))}))()},i.Xw=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.Xw.call(n)];case 1:return i.sent(),n.Q9.Xw(),n.B9.Xw(),n.q8(),n.pH(),oi(n.$T),[2]}}))}))()},i.ge=function(){t.prototype.ge.call(this),this.$T.style.display="block",this.$T.style.height="100%",this.$T.style.width="100%"},i.be=function(){t.prototype.be.call(this),this.$T.style.display="none"},i.Z8=function(){this.jG.addEventListener("play",this.BW),this.jG.addEventListener("pause",this.OW),this.jG.addEventListener("timeupdate",this.Tc),this.jG.addEventListener("progress",this.wbe),this.jG.addEventListener("loadstart",this.Ts),this.jG.addEventListener("ended",this.Mc),this.jG.addEventListener("ratechange",this.ybe),this.jG.addEventListener("volumechange",this.fzt),this.jG.addEventListener("durationchange",this.uzt),this.jG.addEventListener("loadedmetadata",this.bbe),this.jG.addEventListener("emptied",this.Abe),this.jG.addEventListener("seeked",this.Sbe),this.jG.addEventListener("seeking",this.Tbe),this.jG.addEventListener("error",this.kbe),Js()&&this.jG.addEventListener("encrypted",this.y9)},i.q8=function(){this.jG.removeEventListener("play",this.BW),this.jG.removeEventListener("pause",this.OW),this.jG.removeEventListener("timeupdate",this.Tc),this.jG.removeEventListener("progress",this.wbe),this.jG.removeEventListener("loadstart",this.Ts),this.jG.removeEventListener("ended",this.Mc),this.jG.removeEventListener("ratechange",this.ybe),this.jG.removeEventListener("volumechange",this.fzt),this.jG.removeEventListener("durationchange",this.uzt),this.jG.removeEventListener("loadedmetadata",this.bbe),this.jG.removeEventListener("emptied",this.Abe),this.jG.removeEventListener("seeked",this.Sbe),this.jG.removeEventListener("seeking",this.Tbe),this.jG.removeEventListener("error",this.kbe),this.jG.removeEventListener("encrypted",this.y9)},i.BH=function(t){this.YG=t,this._o(new kN(this.YG))},i.IH=function(){var t=this.$T.audioTracks,n=this.$T.videoTracks;t&&(t.addEventListener("addtrack",this.Ebe),t.addEventListener("removetrack",this.xbe),t.addEventListener("change",this.Rbe)),n&&(n.addEventListener("addtrack",this.Ibe),n.addEventListener("removetrack",this.Cbe),n.addEventListener("change",this.Pbe))},i.pH=function(){var t=this.$T.audioTracks,n=this.$T.videoTracks;t&&(t.removeEventListener("addtrack",this.Ebe),t.removeEventListener("removetrack",this.xbe),t.removeEventListener("change",this.Rbe)),n&&(n.removeEventListener("addtrack",this.Ibe),n.removeEventListener("removetrack",this.Cbe),n.removeEventListener("change",this.Pbe))},i.ah=function(t){for(var n=0;n<t.V;n++){t.fC(n).MO()}},Nt(n,[{key:"jG",get:function(){return this.$T}},{key:"ht",get:function(){return this.cO}},{key:"rt",get:function(){return this.dO}},{key:"QR",get:function(){return this.$T.playbackRate},set:function(t){this.$T.playbackRate=t}},{key:"ZR",get:function(){return this.$T.muted},set:function(t){this.$T.muted=t}},{key:"gI",get:function(){return this.$T.volume},set:function(t){this.$T.volume=t}},{key:"ER",get:function(){return this.$T.currentTime}},{key:"ct",get:function(){return this.$T.duration}},{key:"PR",get:function(){return this.$T.ended}},{key:"Ti",get:function(){return this.$T.offsetHeight*Kn.Ys.Kg}},{key:"ji",get:function(){return this.$T.offsetWidth*Kn.Ys.Kg}},{key:"KR",get:function(){return this.$T.paused}},{key:"tI",get:function(){return SA.Cn(this.$T.played)}},{key:"rI",get:function(){return this.B9.rI}},{key:"dI",get:function(){return this.$T.videoHeight}},{key:"vI",get:function(){return this.$T.videoWidth}}]),n}(L7),B7=[oa.ho,oa.zy,yp.UL,oa.Jy,oa.Qy,oa.Dy,oa.Iy,oa.Ey,oa.Ty,oa.hb,oa.qy,oa.Uy,oa.Yy,oa.ub,oa.jy,oa.Ly,oa.Ny],V7=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).JG=void 0,u.iH=new Ak,u.Sc=void 0,u.YG=void 0,u.KG=void 0,u.QG=zT.$H,u.kH=function(t){var n=t.lt,i=n.code,r=new id(ew(i),"Something went wrong during HbbTV playback.",n),e=iw(r);u.BH(r,e)},u.pn=new yI(n),u.pn.kn(),u.WB=Ni()?new O7(v.createElement(qg.mE),u.pn,e):new M7(v.createElement("object"),u.pn,e),u.WB.S7(n),u.WB.bn(B7,u.Ds),u.WB.bn(Uy.fa,u.kH),u.mH=new Cp(u.WB,!0),u.mH.bn(pp,u.Ds),u.dH=new hp(u.WB,i),u.Hl=new Ik([u.WB.nt,u.dH.Z]),u.pZ=r,u}It(n,t);var i=n.prototype;return i.OI=function(t){return this.WB._H(t)},i.II=function(){return!1},i.SI=function(){return this.WB.Sa},i.TI=function(){},i.be=function(){this.WB.be()},i.NI=function(){this.WB.NI()},i.EI=function(){this.WB.EI()},i.xI=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.WB.xI()];case 1:return n.sent(),[2]}}))}))()},i.MI=function(){throw new p("Recreate media source is not supported on HbbTV")},i.RR=function(t,n){this.WB.Rb(t)},i.Ca=function(t,n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){switch(s.label){case 0:return Vo(i),r.Sc=t,u={Tw:mp.pW,VC:t.src,Mk:t.type,sH:r.nH(t),iI:r.QG,rH:t.crossOrigin,oH:null==(e=n.metadata)?void 0:e.title},[4,r.WB.$n(u)];case 1:return r.JG=s.sent(),n.textTracks&&r.aH(n.textTracks),gp(r.nt),[2]}}))}))()},i.ge=function(){this.WB.ge()},i.CI=function(){},i.DI=function(){},i.ja=function(){return this.WB.fH},i.nr=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.Sc=void 0,t.YG=void 0,t.KG=void 0,t.JG=void 0,[4,t.dH.nr()];case 1:return n.sent(),t.WB.vH(),[4,t.WB.nr()];case 2:return n.sent(),[2]}}))}))()},i.yn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.nr()];case 1:return n.sent(),t.mH.yn(),t.WB.vn(B7,t.Ds),t.WB.vn(Uy.fa,t.kH),[4,t.WB.Xw()];case 2:return n.sent(),t.pn.yn(),t.Hl.yn(),[4,t.dH.yn()];case 3:return n.sent(),[2]}}))}))()},i.BH=function(t,n){this.YG||(this.YG=n,this.KG=t,this._o(new yk(t)))},i.aH=function(t){for(var n=0;n<t.length;n++){var i=t[n];void 0!==i.src&&this.dH.cW(i)}},i.nH=function(t){if(!t.contentProtection)return[];var n=[];return t.contentProtection.widevine&&n.push({cT:Ns,CG:t.contentProtection.widevine.licenseAcquisitionURL,RH:[]}),t.contentProtection.playready&&n.push({cT:Cs,CG:t.contentProtection.playready.licenseAcquisitionURL,RH:[]}),this.Nbe(n,t.contentProtection.preferredKeySystems)},i.Nbe=function(t,n){if(void 0===n||0===n.length)return t;var i=function(t){var i=n.indexOf(t.cT.Iw);return i>=0?i:n.length};return to(t,(function(t,n){return i(t)-i(n)}))},Nt(n,[{key:"ht",get:function(){return this.WB.ht}},{key:"wR",get:function(){return this.WB.wR.ks()}},{key:"KB",get:function(){}},{key:"bR",get:function(){return this.WB.bR},set:function(t){t&&this.WB.zG(t)}},{key:"bt",get:function(){return this.Sc}},{key:"ER",get:function(){return this.WB.ER},set:function(t){this.WB.Rb(t)}},{key:"eH",get:function(){return this.iH}},{key:"ct",get:function(){return this.WB.ct}},{key:"PR",get:function(){return this.WB.PR}},{key:"MR",get:function(){return this.KG}},{key:"lt",get:function(){return this.YG}},{key:"OR",get:function(){}},{key:"WR",get:function(){return!1}},{key:"AI",get:function(){return this.WB.AI},set:function(t){this.WB.AI=t}},{key:"yI",get:function(){return this.pZ}},{key:"GR",get:function(){return ns({},{_O:0,vO:0,mO:0,gO:0,pO:0,wO:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.WB.HR())}},{key:"ZR",get:function(){return this.WB.ZR},set:function(t){this.WB.ZR=t}},{key:"qR",get:function(){return!0}},{key:"KR",get:function(){return this.WB.KR}},{key:"QR",get:function(){return this.WB.QR},set:function(t){this.WB.QR=t}},{key:"tI",get:function(){return this.WB.tI.ks()}},{key:"iI",get:function(){return this.QG},set:function(t){this.QG=t,this.JG&&(this.JG.iI=t)}},{key:"rI",get:function(){return this.WB.rI}},{key:"hI",get:function(){return this.WB.hI.ks()}},{key:"uI",get:function(){return this.WB.uI}},{key:"$G",get:function(){return this.WB.$G}},{key:"nt",get:function(){return this.Hl}},{key:"dI",get:function(){return this.WB.dI}},{key:"rt",get:function(){return this.WB.rt}},{key:"vI",get:function(){return this.WB.vI}},{key:"gI",get:function(){return this.WB.gI},set:function(t){this.WB.gI=t}}]),n}(ra),F7=function(){function t(){this.UH=kk.lG}var n=t.prototype;return n.uP=function(t,n,i,r,e,u,s,o){return new V7(t,i,u,s)},n.FH=function(t,n){var i;return!(!Gn.Bm||t.type!==cA.jC&&!GA(t.type)&&!HA(t.type))&&!(Ni()&&!(null==(i=t.contentProtection)?void 0:i.useOipfDrmAgent)&&(!t.contentProtection||Js()))},n.VH=function(t){return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,k_(t,!0)];case 1:return n.sent()?[2,!0]:[2,!1]}}))}))()},n.WH=function(){return!1},t}();return UT(new F7),F(),Tt(),h.exports}));
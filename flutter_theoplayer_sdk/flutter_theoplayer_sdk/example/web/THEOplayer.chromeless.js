/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: long.js
 (Apache 2.0), promise-polyfill (MIT - Copyright (c) 2014
 Taylor Hakes & Forbes Lindesay), shaka-player (Apache 2.0 -
 Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
 (http://www.apache.org/licenses/LICENSE-2.0), MIT
 (https://opensource.org/licenses/MIT)


 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 9.0.0
 Created: 2025-04-03T12:55:51.582Z
 */
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(t):"function"==typeof define&&define.amd?define([],(function(){return n(t)})):t.THEOplayer=n(t)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof s?s:"undefined"!=typeof global?global:this,(function(t){"use strict";var n,i,r,e,u,s,o,a,c,h={exports:{}},f=(h.exports,t.window),v=t.document,d=t.location,l=t.navigator,g=t.setTimeout,w=t.clearTimeout,m=t.setInterval,y=t.clearInterval,p=t.Error,_=t.TypeError,b=(t.SyntaxError,t.Object),k=t.Math,A=t.parseInt,T=t.parseFloat,S=t.isNaN,E=t.Uint8Array,I=t.Worker,R=(t.WorkerGlobalScope,t.XMLHttpRequest),C=b.create,N=b.defineProperty,D=b.getOwnPropertyDescriptor,P=b.getOwnPropertyNames,x=b.getPrototypeOf,L=b.prototype.hasOwnProperty,M=function(t,n){return function(){return t&&(n=t(t=0)),n}},O=function(t,n){return function(){return n||t((n={exports:{}}).exports,n),n.exports}},B=function(t,n,i,r){if(n&&"object"==typeof n||"function"==typeof n)for(var e,u=P(n),s=0,o=u.length;s<o;s++)e=u[s],L.call(t,e)||e===i||N(t,e,{get:function(t){return n[t]}.bind(null,e),enumerable:!(r=D(n,e))||r.enumerable});return t},V=function(t,n,i){return i=null!=t?C(x(t)):{},B(!n&&t&&t.__esModule?i:N(i,"default",{value:t,enumerable:!0}),t)},F=M((function(){"function"==typeof Symbol&&Symbol.iterator?(n=Symbol,i=null!=(s=Symbol.for)?s:Symbol,r=Symbol.iterator,e=null!=(o=Symbol.dispose)?o:i("Symbol.dispose"),u=null!=(a=Symbol.asyncDispose)?a:i("Symbol.asyncDispose")):(c=0,n=function(t){return"ul"+t+"_"+ ++c},r=(i=function(t){return"ul"+t})("Symbol.iterator"),e=i("Symbol.dispose"),u=i("Symbol.asyncDispose"),n.for=i,n.iterator=r,n.dispose=e,n.asyncDispose=u)}));function U(t){return t&&void 0!==n&&t.constructor===n?"symbol":typeof t}var W,Z,X,G,H,z,Y,j,K,q,J,Q,tt,nt,it,rt,et,ut,st,ot,at=M((function(){F(),Tt()}));function ct(t){var n=this.constructor;return this.then((function(i){return n.resolve(t()).then((function(){return i}))}),(function(i){return n.resolve(t()).then((function(){return n.reject(i)}))}))}function ht(t){return new this((function(n,i){if(!t||void 0===t.length)return i(new _((void 0===t?"undefined":U(t))+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(t);if(0===r.length)return n([]);var e=r.length;function u(t,i){if(i&&("object"===(void 0===i?"undefined":U(i))||"function"==typeof i)){var s=i.then;if("function"==typeof s)return void s.call(i,(function(n){u(t,n)}),(function(i){r[t]={status:"rejected",reason:i},0==--e&&n(r)}))}r[t]={status:"fulfilled",value:i},0==--e&&n(r)}for(var s=0;s<r.length;s++)u(s,r[s])}))}function ft(t){return Boolean(t&&void 0!==t.length)}function vt(){}function dt(t){if(!(this instanceof dt))throw new _("Promises must be constructed via new");if("function"!=typeof t)throw new _("not a function");this.Ea=0,this.ttn=!1,this.PTt=void 0,this.ntn=[],pt(t,this)}function lt(t,n){for(;3===t.Ea;)t=t.PTt;0!==t.Ea?(t.ttn=!0,dt.itn((function(){var i=1===t.Ea?n.onFulfilled:n.onRejected;if(null!==i){var r;try{r=i(t.PTt)}catch(t){return void wt(n.promise,t)}gt(n.promise,r)}else(1===t.Ea?gt:wt)(n.promise,t.PTt)}))):t.ntn.push(n)}function gt(t,n){try{if(n===t)throw new _("A promise cannot be resolved with itself.");if(n&&("object"===(void 0===n?"undefined":U(n))||"function"==typeof n)){var i=n.then;if(n instanceof dt)return t.Ea=3,t.PTt=n,void mt(t);if("function"==typeof i)return void pt(function(t,n){return function(){t.apply(n,arguments)}}(i,n),t)}t.Ea=1,t.PTt=n,mt(t)}catch(n){wt(t,n)}}function wt(t,n){t.Ea=2,t.PTt=n,mt(t)}function mt(t){2===t.Ea&&0===t.ntn.length&&dt.itn((function(){t.ttn||dt.rtn(t.PTt)}));for(var n=0,i=t.ntn.length;n<i;n++)lt(t,t.ntn[n]);t.ntn=null}function yt(t,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=i}function pt(t,n){var i=!1;try{t((function(t){i||(i=!0,gt(n,t))}),(function(t){i||(i=!0,wt(n,t))}))}catch(t){if(i)return;i=!0,wt(n,t)}}function _t(t){return new Q(J,{reason:t,promise:Z.reject(t).catch((function(){})),cancelable:!0})}function bt(t){var n=new tt(J,{detail:{reason:t},cancelable:!0});return b.defineProperty(n,"reason",{value:t}),n}function kt(t){var n=v.createEvent("CustomEvent");return n.initCustomEvent(J,!1,!0,{reason:t}),n}var At=M((function(){var t,n,i,r;F(),Tt(),at(),W=g,dt.prototype.catch=function(t){return this.then(null,t)},dt.prototype.then=function(t,n){var i=new this.constructor(vt);return lt(this,new yt(t,n,i)),i},dt.prototype.finally=ct,dt.all=function(t){return new dt((function(n,i){if(!ft(t))return i(new _("Promise.all accepts an array"));var r=Array.prototype.slice.call(t);if(0===r.length)return n([]);var e=r.length;function u(t,s){try{if(s&&("object"===(void 0===s?"undefined":U(s))||"function"==typeof s)){var o=s.then;if("function"==typeof o)return void o.call(s,(function(n){u(t,n)}),i)}r[t]=s,0==--e&&n(r)}catch(t){i(t)}}for(var s=0;s<r.length;s++)u(s,r[s])}))},dt.allSettled=ht,dt.resolve=function(t){return t&&"object"===(void 0===t?"undefined":U(t))&&t.constructor===dt?t:new dt((function(n){n(t)}))},dt.reject=function(t){return new dt((function(n,i){i(t)}))},dt.race=function(t){return new dt((function(n,i){if(!ft(t))return i(new _("Promise.race accepts an array"));for(var r=0,e=t.length;r<e;r++)dt.resolve(t[r]).then(n,i)}))},dt.itn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){W(t,0)},dt.rtn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},Z=function(){var t=self.Promise;if(void 0!==t)try{if(-1!==t.toString().indexOf("[native code]"))return t}catch(t){}}(),X=l?l.userAgent:"",G=X.match(/Firefox\/([0-9]+)/i),H=null!=G,z=G?Number(G[1]):0,Y=X.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),j=null!=Y,K=Y?Number(Y[3]):0,q=function(){function t(t){this.zb=0,this.Ed=0,this.yp=[],this.etn=t}return t.prototype.utn=function(t){var n=this.length();this.stn(n+1);var i=this.Ed+n&this.etn-1;this.yp[i]=t,this.zb=n+1},t.prototype.push=function(t){var n=this.length()+1;if(this.etn<n)this.utn(t);else{var i=this.Ed+n-1,r=this.etn-1;this.yp[i&r]=t,this.zb=n}},t.prototype.shift=function(){var t=this.Ed,n=this.yp[t];return this.yp[t]=void 0,this.Ed=t+1&this.etn-1,this.zb--,n},t.prototype.length=function(){return this.zb},t.prototype.stn=function(t){this.etn<t&&this.otn(this.etn<<1)},t.prototype.otn=function(t){var n=this.etn;this.etn=t;var i=this.Ed+this.zb&n-1;!function(t,n,i,r){for(var e=0;e<r;++e)t[e+i]=t[e+n],t[e+n]=void 0}(this.yp,0,n,i)},t}(),J="unhandledrejection",Q=self.PromiseRejectionEvent,tt=self.CustomEvent,nt=function(t){return nt=function(){try{var t=Z.resolve(),n="error",i=new Q(J,{reason:n,promise:t});return J===i.type&&n===i.reason}catch(t){}return!1}()?_t:function(){try{var t="error",n=new tt(J,{detail:{reason:t}});return J===n.type&&t===n.detail.reason}catch(t){}return!1}()?bt:kt,nt(t)},rt=H&&z<60||j&&K<15,Z&&!rt?(et=Z,ut=function(){}):(et=dt,st=null!==(it=function(){var t=self.queueMicrotask;if("function"==typeof t)return function(n){return t(n)};var n=Z;if(n&&"function"==typeof n.resolve){var i=n.resolve();return function(t){return i.then(t)}}}())&&void 0!==it?it:dt.itn,t=st,n=new q(16),i=!1,ut=(ot={o6:function(e){n.push(e),i||(i=!0,t(r))},rY:r=function(){for(;n.length()>0;)n.shift()();i=!1}}).rY,dt.itn=ot.o6,dt.rtn=function(t){try{var n=nt(t);if(!self.dispatchEvent(n)||n.defaultPrevented)return}catch(t){}g((function(){throw new p("Unhandled promise rejection: ".concat(t))}),0)})})),Tt=M((function(){At()}));function St(t,n){return(St=b.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}var Et=M((function(){F(),Tt()}));function It(t,n){if("function"!=typeof n&&null!==n)throw new _("Super expression must either be null or a function");t.prototype=b.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&St(t,n)}var Rt=M((function(){F(),Tt(),Et()}));function Ct(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),b.defineProperty(t,r.key,r)}}function Nt(t,n,i){return n&&Ct(t.prototype,n),i&&Ct(t,i),t}var Dt=M((function(){F(),Tt()}));function Pt(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,r=new Array(n);i<n;i++)r[i]=t[i];return r}var xt=M((function(){F(),Tt()}));var Lt=M((function(){F(),Tt(),xt()}));var Mt=M((function(){F(),Tt()}));var Ot=M((function(){F(),Tt()}));function Bt(t,n){if(t){if("string"==typeof t)return Pt(t,n);var i=b.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Pt(t,n):void 0}}var Vt=M((function(){F(),Tt(),xt()}));function Ft(t){return function(t){if(Array.isArray(t))return Pt(t)}(t)||function(t){if(void 0!==n&&null!=t[r]||null!=t["@@iterator"])return Array.from(t)}(t)||Bt(t)||function(){throw new _("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ut=M((function(){F(),Tt(),Lt(),Mt(),Ot(),Vt()}));function Wt(t,n,i,r,e,u,s){try{var o=t[u](s),a=o.value}catch(t){return void i(t)}o.done?n(a):et.resolve(a).then(r,e)}function Zt(t){return function(){var n=this,i=arguments;return new et((function(r,e){var u=t.apply(n,i);function s(t){Wt(u,r,e,s,o,"next",t)}function o(t){Wt(u,r,e,s,o,"throw",t)}s(void 0)}))}}var Xt,Gt=M((function(){F(),Tt()}));function Ht(t,i){var e,u,s,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},a=b.create(("function"==typeof Iterator?Iterator:b).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof n&&(a[r]=function(){return this}),a;function c(n){return function(r){return function(n){if(e)throw new _("Generator is already executing.");for(;a&&(a=0,n[0]&&(o=0)),o;)try{if(e=1,u&&(s=2&n[0]?u.return:n[0]?u.throw||((s=u.return)&&s.call(u),0):u.next)&&!(s=s.call(u,n[1])).done)return s;switch(u=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return o.label++,{value:n[1],done:!1};case 5:o.label++,u=n[1],n=[0];continue;case 7:n=o.ops.pop(),o.trys.pop();continue;default:if(!(s=o.trys,(s=s.length>0&&s[s.length-1])||6!==n[0]&&2!==n[0])){o=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){o.label=n[1];break}if(6===n[0]&&o.label<s[1]){o.label=s[1],s=n;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(n);break}s[2]&&o.ops.pop(),o.trys.pop();continue}n=i.call(t,o)}catch(t){n=[6,t],u=0}finally{e=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,r])}}}function zt(t){var i="function"==typeof n&&r,e=i&&t[i],u=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&u>=t.length&&(t=void 0),{value:t&&t[u++],done:!t}}};throw new _(i?"Object is not iterable.":"Symbol.iterator is not defined.")}function Yt(t,n,i){if(null!=n){if("object"!=typeof n&&"function"!=typeof n)throw new _("Object expected.");var r,s;if(i){if(!u)throw new _("Symbol.asyncDispose is not defined.");r=n[u]}if(void 0===r){if(!e)throw new _("Symbol.dispose is not defined.");r=n[e],i&&(s=r)}if("function"!=typeof r)throw new _("Object not disposable.");s&&(r=function(){try{s.call(this)}catch(t){return et.reject(t)}}),t.stack.push({value:n,dispose:r,async:i})}else i&&t.stack.push({async:!0});return n}function jt(t){function n(n){t.error=t.hasError?new Xt(n,t.error,"An error was suppressed during disposal."):n,t.hasError=!0}var i,r=0;return function e(){for(;i=t.stack.pop();)try{if(!i.async&&1===r)return r=0,t.stack.push(i),et.resolve().then(e);if(i.dispose){var u=i.dispose.call(i.value);if(i.async)return r|=2,et.resolve(u).then(e,(function(t){return n(t),e()}))}else r|=1}catch(t){n(t)}if(1===r)return t.hasError?et.reject(t.error):et.resolve();if(t.hasError)throw t.error}()}var Kt=M((function(){F(),Tt(),Xt="function"==typeof SuppressedError?SuppressedError:function(t,n,i){var r=new p(i);return r.name="SuppressedError",r.error=t,r.suppressed=n,r}})),qt=M((function(){F(),Tt(),Kt()}));var Jt=M((function(){F(),Tt()}));var Qt=M((function(){F(),Tt()}));var $t=M((function(){F(),Tt()}));function tn(t,i){return function(t){if(Array.isArray(t))return t}(t)||function(t,i){var e=null==t?null:void 0!==n&&t[r]||t["@@iterator"];if(null!=e){var u,s,o=[],a=!0,c=!1;try{for(e=e.call(t);!(a=(u=e.next()).done)&&(o.push(u.value),!i||o.length!==i);a=!0);}catch(t){c=!0,s=t}finally{try{a||null==e.return||e.return()}finally{if(c)throw s}}return o}}(t,i)||Bt(t,i)||function(){throw new _("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var nn=M((function(){F(),Tt(),Jt(),Qt(),$t(),Vt()})),rn=O((function(t,i){var e,u;F(),Tt(),at(),e=t,u=function(t){var i="function"==typeof n&&"symbol"===U(r)?n:function(t){return"Symbol("+t+")"};function e(){}var u=Number.isNaN||function(t){return t!=t},s=e;function o(t){return"object"===(void 0===t?"undefined":U(t))&&null!==t||"function"==typeof t}function a(t){return t.slice()}function c(t,n,i,r,e){new E(t).set(new E(i,r,e),n)}function h(t){return!1!==function(t){return"number"==typeof t&&(!u(t)&&!(t<0))}(t)&&t!==1/0}function f(t,n,i){if("function"!=typeof t)throw new _("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function v(t,n,i,r){var e=t[n];if(void 0!==e){if("function"!=typeof e)throw new _(e+" is not a method");switch(i){case 0:return function(){return l(e,t,r)};case 1:return function(n){var i=[n].concat(r);return l(e,t,i)}}}return function(){return I(void 0)}}function d(t,n,i){var r=t[n];if(void 0!==r)return f(r,t,i)}function l(t,n,i){try{return I(f(t,n,i))}catch(t){return R(t)}}function g(t){if(t=Number(t),u(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function w(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new _("size property of a queuing strategy must be a function");return function(n){return t(n)}}var m=et,y=et.prototype.then,A=et.resolve.bind(m),T=et.reject.bind(m);function S(t){return new m(t)}function I(t){return A(t)}function R(t){return T(t)}function C(t,n,i){return y.call(t,n,i)}function N(t,n,i){C(C(t,n,i),void 0,s)}function D(t,n){N(t,n)}function P(t,n){N(t,void 0,n)}function x(t,n,i){return C(t,n,i)}function L(t){C(t,void 0,s)}var M=function(){function t(){this.hd=0,this.Td=0,this.Ed={Rd:[],Id:void 0},this.Pd=this.Ed,this.hd=0,this.Td=0}return b.defineProperty(t.prototype,"length",{get:function(){return this.Td},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.Pd,i=n;16383===n.Rd.length&&(i={Rd:[],Id:void 0}),n.Rd.push(t),i!==n&&(this.Pd=i,n.Id=i),++this.Td},t.prototype.shift=function(){var t=this.Ed,n=t,i=this.hd,r=i+1,e=t.Rd,u=e[i];return 16384===r&&(n=t.Id,r=0),--this.Td,this.hd=r,t!==n&&(this.Ed=n),e[i]=void 0,u},t.prototype.forEach=function(t){for(var n=this.hd,i=this.Ed,r=i.Rd;!(n===r.length&&void 0===i.Id||n===r.length&&(n=0,0===(r=(i=i.Id).Rd).length));)t(r[n]),++n},t.prototype.peek=function(){var t=this.Ed,n=this.hd;return t.Rd[n]},t}();function O(t,n,i){var r=null;!0===i&&(r=b.prototype);var e=b.create(r);return e.value=t,e.done=n,e}function B(t,n){t.Dd=!0,t.Nd=n,n.Md=t,"readable"===n.Ea?Z(t):"closed"===n.Ea?function(t){Z(t),H(t)}(t):X(t,n.Ld)}function V(t,n){return Jn(t.Nd,n)}function F(t){"readable"===t.Nd.Ea?G(t,new _("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){X(t,n)}(t,new _("Reader was released and can no longer be used to monitor the stream's closedness")),t.Nd.Md=void 0,t.Nd=void 0}function W(t){return new _("Cannot "+t+" a stream using a released reader")}function Z(t){t.Bd=S((function(n,i){t.Od=n,t.Fd=i}))}function X(t,n){Z(t),G(t,n)}function G(t,n){L(t.Bd),t.Fd(n),t.Od=void 0,t.Fd=void 0}function H(t){t.Od(void 0),t.Od=void 0,t.Fd=void 0}var z=i("[[CancelSteps]]"),Y=i("[[PullSteps]]");function j(t,n){void 0===n&&(n=!1);var i=new nt(t);return i.Dd=n,i}function K(t){return S((function(n,i){var r={Vd:n,Wd:i};t.Md.Ud.push(r)}))}function q(t,n,i){var r=t.Md;r.Ud.shift().Vd(O(n,i,r.Dd))}function J(t){return t.Md.Ud.length}function Q(t){var n=t.Md;return void 0!==n&&!!it(n)}var $,tt,nt=function(){function t(t){if(!1===Kn(t))throw new _("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===qn(t))throw new _("This stream has already been locked for exclusive reading by another reader");B(this,t),this.Ud=new M}return b.defineProperty(t.prototype,"closed",{get:function(){return it(this)?this.Bd:R(ut("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return it(this)?void 0===this.Nd?R(W("cancel")):V(this,t):R(ut("cancel"))},t.prototype.read=function(){return it(this)?void 0===this.Nd?R(W("read from")):rt(this):R(ut("read"))},t.prototype.releaseLock=function(){if(!it(this))throw ut("releaseLock");if(void 0!==this.Nd){if(this.Ud.length>0)throw new _("Tried to release a reader lock when that reader has pending read() calls un-settled");F(this)}},t}();function it(t){return!!o(t)&&!!b.prototype.hasOwnProperty.call(t,"Ud")}function rt(t){var n=t.Nd;return n.Gd=!0,"closed"===n.Ea?I(O(void 0,!0,t.Dd)):"errored"===n.Ea?R(n.Ld):n.Hd[Y]()}function ut(t){return new _("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}"symbol"===U(i.asyncIterator)&&(($={})[i.asyncIterator]=function(){return this},tt=$,b.defineProperty(tt,i.asyncIterator,{enumerable:!1}));var st={next:function(){if(!1===ot(this))return R(at("next"));var t=this.Zd;return void 0===t.Nd?R(W("iterate")):x(rt(t),(function(n){var i=n.done;return i&&F(t),O(n.value,i,!0)}))},return:function(t){if(!1===ot(this))return R(at("next"));var n=this.Zd;if(void 0===n.Nd)return R(W("finish iterating"));if(n.Ud.length>0)return R(new _("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.Xd){var i=V(n,t);return F(n),x(i,(function(){return O(t,!0,!0)}))}return F(n),I(O(t,!0,!0))}};function ot(t){return!!o(t)&&!!b.prototype.hasOwnProperty.call(t,"Zd")}function at(t){return new _("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function ct(t){var n=t.zd.shift();return t.qd-=n.size,t.qd<0&&(t.qd=0),n.value}function ht(t,n,i){if(!h(i=Number(i)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.zd.push({value:n,size:i}),t.qd+=i}function ft(t){t.zd=new M,t.qd=0}void 0!==tt&&b.setPrototypeOf(st,tt),b.defineProperty(st,"next",{enumerable:!1}),b.defineProperty(st,"return",{enumerable:!1});var vt=i("[[AbortSteps]]"),dt=i("[[ErrorSteps]]"),lt=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),wt(this);var i=n.size,r=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var e=w(i);void 0===r&&(r=1),function(t,n,i,r){var e=b.create(Lt.prototype);function u(){return d(n,"start",[e])}var s=v(n,"write",1,[e]),o=v(n,"close",0,[]),a=v(n,"abort",1,[]);Mt(t,e,u,s,o,a,i,r)}(this,t,r=g(r),e)}return b.defineProperty(t.prototype,"locked",{get:function(){if(!1===mt(this))throw Zt("locked");return yt(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===mt(this)?R(Zt("abort")):!0===yt(this)?R(new _("Cannot abort a stream that already has a writer")):pt(this,t)},t.prototype.close=function(){return!1===mt(this)?R(Zt("close")):!0===yt(this)?R(new _("Cannot close a stream that already has a writer")):!0===Tt(this)?R(new _("Cannot close an already-closing stream")):_t(this)},t.prototype.getWriter=function(){if(!1===mt(this))throw Zt("getWriter");return gt(this)},t}();function gt(t){return new It(t)}function wt(t){t.Ea="writable",t.Ld=void 0,t.Yd=void 0,t.Kd=void 0,t.jd=new M,t.Qd=void 0,t.Jd=void 0,t.$d=void 0,t.tf=void 0,t.ef=!1}function mt(t){return!!o(t)&&!!b.prototype.hasOwnProperty.call(t,"Kd")}function yt(t){return void 0!==t.Yd}function pt(t,n){var i=t.Ea;if("closed"===i||"errored"===i)return I(void 0);if(void 0!==t.tf)return t.tf.nf;var r=!1;"erroring"===i&&(r=!0,n=void 0);var e=S((function(i,e){t.tf={nf:void 0,Vd:i,Wd:e,rf:n,hf:r}}));return t.tf.nf=e,!1===r&&kt(t,n),e}function _t(t){var n=t.Ea;if("closed"===n||"errored"===n)return R(new _("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i=S((function(n,i){var r={Vd:n,Wd:i};t.Jd=r})),r=t.Yd;return void 0!==r&&!0===t.ef&&"writable"===n&&$t(r),function(t){ht(t,"close",0),Vt(t)}(t.Kd),i}function bt(t,n){"writable"!==t.Ea?At(t):kt(t,n)}function kt(t,n){var i=t.Kd;t.Ea="erroring",t.Ld=n;var r=t.Yd;void 0!==r&&Dt(r,n),!1===function(t){return void 0!==t.Qd||void 0!==t.$d}(t)&&!0===i.uf&&At(t)}function At(t){t.Ea="errored",t.Kd[dt]();var n=t.Ld;if(t.jd.forEach((function(t){t.Wd(n)})),t.jd=new M,void 0!==t.tf){var i=t.tf;if(t.tf=void 0,!0===i.hf)return i.Wd(n),void St(t);N(t.Kd[vt](i.rf),(function(){i.Vd(),St(t)}),(function(n){i.Wd(n),St(t)}))}else St(t)}function Tt(t){return void 0!==t.Jd||void 0!==t.$d}function St(t){void 0!==t.Jd&&(t.Jd.Wd(t.Ld),t.Jd=void 0);var n=t.Yd;void 0!==n&&Yt(n,t.Ld)}function Et(t,n){var i=t.Yd;void 0!==i&&n!==t.ef&&(!0===n?function(t){Kt(t)}(i):$t(i)),t.ef=n}var It=function(){function t(t){if(!1===mt(t))throw new _("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===yt(t))throw new _("This stream has already been locked for exclusive writing by another writer");this.cf=t,t.Yd=this;var n=t.Ea;if("writable"===n)!1===Tt(t)&&!0===t.ef?Kt(this):Jt(this),Ht(this);else if("erroring"===n)qt(this,t.Ld),Ht(this);else if("closed"===n)Jt(this),function(t){Ht(t),jt(t)}(this);else{var i=t.Ld;qt(this,i),zt(this,i)}}return b.defineProperty(t.prototype,"closed",{get:function(){return!1===Rt(this)?R(Xt("closed")):this.Bd},enumerable:!0,configurable:!0}),b.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Rt(this))throw Xt("desiredSize");if(void 0===this.cf)throw Gt("desiredSize");return function(t){var n=t.cf,i=n.Ea;return"errored"===i||"erroring"===i?null:"closed"===i?0:Bt(n.Kd)}(this)},enumerable:!0,configurable:!0}),b.defineProperty(t.prototype,"ready",{get:function(){return!1===Rt(this)?R(Xt("ready")):this.lf},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===Rt(this)?R(Xt("abort")):void 0===this.cf?R(Gt("abort")):function(t,n){var i=t.cf;return pt(i,n)}(this,t)},t.prototype.close=function(){if(!1===Rt(this))return R(Xt("close"));var t=this.cf;return void 0===t?R(Gt("close")):!0===Tt(t)?R(new _("Cannot close an already-closing stream")):Ct(this)},t.prototype.releaseLock=function(){if(!1===Rt(this))throw Xt("releaseLock");void 0!==this.cf&&Pt(this)},t.prototype.write=function(t){return!1===Rt(this)?R(Xt("write")):void 0===this.cf?R(Gt("write to")):xt(this,t)},t}();function Rt(t){return!!o(t)&&!!b.prototype.hasOwnProperty.call(t,"cf")}function Ct(t){return _t(t.cf)}function Nt(t,n){"pending"===t.df?Yt(t,n):function(t,n){zt(t,n)}(t,n)}function Dt(t,n){"pending"===t._f?Qt(t,n):function(t,n){qt(t,n)}(t,n)}function Pt(t){var n=t.cf,i=new _("Writer was released and can no longer be used to monitor the stream's closedness");Dt(t,i),Nt(t,i),n.Yd=void 0,t.cf=void 0}function xt(t,n){var i=t.cf,r=i.Kd,e=function(t,n){try{return t.vf(n)}catch(n){return Ft(t,n),1}}(r,n);if(i!==t.cf)return R(Gt("write to"));var u=i.Ea;if("errored"===u)return R(i.Ld);if(!0===Tt(i)||"closed"===u)return R(new _("The stream is closing or closed and cannot be written to"));if("erroring"===u)return R(i.Ld);var s=function(t){return S((function(n,i){var r={Vd:n,Wd:i};t.jd.push(r)}))}(i);return function(t,n,i){var r={chunk:n};try{ht(t,r,i)}catch(n){return void Ft(t,n)}var e=t.mf;!1===Tt(e)&&"writable"===e.Ea&&Et(e,Ut(t)),Vt(t)}(r,n,e),s}var Lt=function(){function t(){throw new _("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1===function(t){return!!o(t)&&!!b.prototype.hasOwnProperty.call(t,"mf")}(this))throw new _("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this.mf.Ea&&Wt(this,t)},t.prototype[vt]=function(t){var n=this.gf(t);return Ot(this),n},t.prototype[dt]=function(){ft(this)},t}();function Mt(t,n,i,r,e,u,s,o){n.mf=t,t.Kd=n,n.zd=void 0,n.qd=void 0,ft(n),n.uf=!1,n.vf=o,n.pf=s,n.wf=r,n.yf=e,n.gf=u;var a=Ut(n);Et(t,a),N(I(i()),(function(){n.uf=!0,Vt(n)}),(function(i){n.uf=!0,bt(t,i)}))}function Ot(t){t.wf=void 0,t.yf=void 0,t.gf=void 0,t.vf=void 0}function Bt(t){return t.pf-t.qd}function Vt(t){var n=t.mf;if(!1!==t.uf&&void 0===n.Qd)if("erroring"!==n.Ea){if(0!==t.zd.length){var i=function(t){return t.zd.peek().value}(t);"close"===i?function(t){var n=t.mf;(function(t){t.$d=t.Jd,t.Jd=void 0})(n),ct(t);var i=t.yf();Ot(t),N(i,(function(){!function(t){t.$d.Vd(void 0),t.$d=void 0,"erroring"===t.Ea&&(t.Ld=void 0,void 0!==t.tf&&(t.tf.Vd(),t.tf=void 0)),t.Ea="closed";var n=t.Yd;void 0!==n&&jt(n)}(n)}),(function(t){!function(t,n){t.$d.Wd(n),t.$d=void 0,void 0!==t.tf&&(t.tf.Wd(n),t.tf=void 0),bt(t,n)}(n,t)}))}(t):function(t,n){var i=t.mf;!function(t){t.Qd=t.jd.shift()}(i);var r=t.wf(n);N(r,(function(){!function(t){t.Qd.Vd(void 0),t.Qd=void 0}(i);var n=i.Ea;if(ct(t),!1===Tt(i)&&"writable"===n){var r=Ut(t);Et(i,r)}Vt(t)}),(function(n){"writable"===i.Ea&&Ot(t),function(t,n){t.Qd.Wd(n),t.Qd=void 0,bt(t,n)}(i,n)}))}(t,i.chunk)}}else At(n)}function Ft(t,n){"writable"===t.mf.Ea&&Wt(t,n)}function Ut(t){return Bt(t)<=0}function Wt(t,n){var i=t.mf;Ot(t),kt(i,n)}function Zt(t){return new _("WritableStream.prototype."+t+" can only be used on a WritableStream")}function Xt(t){return new _("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function Gt(t){return new _("Cannot "+t+" a stream using a released writer")}function Ht(t){t.Bd=S((function(n,i){t.Od=n,t.Fd=i,t.df="pending"}))}function zt(t,n){Ht(t),Yt(t,n)}function Yt(t,n){L(t.Bd),t.Fd(n),t.Od=void 0,t.Fd=void 0,t.df="rejected"}function jt(t){t.Od(void 0),t.Od=void 0,t.Fd=void 0,t.df="resolved"}function Kt(t){t.lf=S((function(n,i){t.bf=n,t.Af=i})),t._f="pending"}function qt(t,n){Kt(t),Qt(t,n)}function Jt(t){Kt(t),$t(t)}function Qt(t,n){L(t.lf),t.Af(n),t.bf=void 0,t.Af=void 0,t._f="rejected"}function $t(t){t.bf(void 0),t.bf=void 0,t.Af=void 0,t._f="fulfilled"}function tn(t){if("object"!==(void 0===t?"undefined":U(t))||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}var nn,rn="undefined"!=typeof DOMException?DOMException:void 0,en=function(t){if("function"!=typeof t&&"object"!==(void 0===t?"undefined":U(t)))return!1;try{return new t,!0}catch(t){return!1}}(rn)?rn:((nn=function(t,n){this.message=t||"",this.name=n||"Error",p.captureStackTrace&&p.captureStackTrace(this,this.constructor)}).prototype=b.create(p.prototype),b.defineProperty(nn.prototype,"constructor",{value:nn,writable:!0,configurable:!0}),nn);function un(t,n,i,r,u,s){var o=j(t),a=gt(n);t.Gd=!0;var c=!1,h=I(void 0);return S((function(f,v){var d,l,g,w;if(void 0!==s){if(d=function(){var i=new en("Aborted","AbortError"),e=[];!1===r&&e.push((function(){return"writable"===n.Ea?pt(n,i):I(void 0)})),!1===u&&e.push((function(){return"readable"===t.Ea?Jn(t,i):I(void 0)})),b((function(){return et.all(e.map((function(t){return t()})))}),!0,i)},!0===s.aborted)return void d();s.addEventListener("abort",d)}if(p(t,o.Bd,(function(t){!1===r?b((function(){return pt(n,t)}),!0,t):k(!0,t)})),p(n,a.Bd,(function(n){!1===u?b((function(){return Jn(t,n)}),!0,n):k(!0,n)})),l=t,g=o.Bd,w=function(){!1===i?b((function(){return function(t){var n=t.cf,i=n.Ea;return!0===Tt(n)||"closed"===i?I(void 0):"errored"===i?R(n.Ld):Ct(t)}(a)})):k()},"closed"===l.Ea?w():D(g,w),!0===Tt(n)||"closed"===n.Ea){var m=new _("the destination writable stream closed before all data could be piped to it");!1===u?b((function(){return Jn(t,m)}),!0,m):k(!0,m)}function y(){var t=h;return C(h,(function(){return t!==h?y():void 0}))}function p(t,n,i){"errored"===t.Ea?i(t.Ld):P(n,i)}function b(t,i,r){function e(){N(t(),(function(){return A(i,r)}),(function(t){return A(!0,t)}))}!0!==c&&(c=!0,"writable"===n.Ea&&!1===Tt(n)?D(y(),e):e())}function k(t,i){!0!==c&&(c=!0,"writable"===n.Ea&&!1===Tt(n)?D(y(),(function(){return A(t,i)})):A(t,i))}function A(t,n){Pt(a),F(o),void 0!==s&&s.removeEventListener("abort",d),t?v(n):f(void 0)}L(S((function(t,n){!function i(r){r?t():C(!0===c?I(!0):C(a.lf,(function(){return C(rt(o),(function(t){return!0===t.done||(h=C(xt(a,t.value),void 0,e),!1)}))})),i,n)}(!1)})))}))}var sn=function(){function t(){throw new _}return b.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===on(this))throw mn("desiredSize");return ln(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===on(this))throw mn("close");if(!1===gn(this))throw new _("The stream is not in a state that permits close");fn(this)},t.prototype.enqueue=function(t){if(!1===on(this))throw mn("enqueue");if(!1===gn(this))throw new _("The stream is not in a state that permits enqueue");return vn(this,t)},t.prototype.error=function(t){if(!1===on(this))throw mn("error");dn(this,t)},t.prototype[z]=function(t){ft(this);var n=this.Sf(t);return hn(this),n},t.prototype[Y]=function(){var t=this.Tf;if(this.zd.length>0){var n=ct(this);return!0===this.kf&&0===this.zd.length?(hn(this),Qn(t)):an(this),I(O(n,!1,t.Md.Dd))}var i=K(t);return an(this),i},t}();function on(t){return!!o(t)&&!!b.prototype.hasOwnProperty.call(t,"Tf")}function an(t){!1!==cn(t)&&(!0!==t.Ef?(t.Ef=!0,N(t.xf(),(function(){t.Ef=!1,!0===t.Rf&&(t.Rf=!1,an(t))}),(function(n){dn(t,n)}))):t.Rf=!0)}function cn(t){var n=t.Tf;return!1!==gn(t)&&!1!==t.uf&&(!0===qn(n)&&J(n)>0||ln(t)>0)}function hn(t){t.xf=void 0,t.Sf=void 0,t.vf=void 0}function fn(t){var n=t.Tf;t.kf=!0,0===t.zd.length&&(hn(t),Qn(n))}function vn(t,n){var i=t.Tf;if(!0===qn(i)&&J(i)>0)q(i,n,!1);else{var r=void 0;try{r=t.vf(n)}catch(n){throw dn(t,n),n}try{ht(t,n,r)}catch(n){throw dn(t,n),n}}an(t)}function dn(t,n){var i=t.Tf;"readable"===i.Ea&&(ft(t),hn(t),$n(i,n))}function ln(t){var n=t.Tf.Ea;return"errored"===n?null:"closed"===n?0:t.pf-t.qd}function gn(t){var n=t.Tf.Ea;return!1===t.kf&&"readable"===n}function wn(t,n,i,r,e,u,s){n.Tf=t,n.zd=void 0,n.qd=void 0,ft(n),n.uf=!1,n.kf=!1,n.Rf=!1,n.Ef=!1,n.vf=s,n.pf=u,n.xf=r,n.Sf=e,t.Hd=n,N(I(i()),(function(){n.uf=!0,an(n)}),(function(t){dn(n,t)}))}function mn(t){return new _("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}var yn=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&k.floor(t)===t},pn=function(){function t(){throw new _("ReadableStreamBYOBRequest cannot be used directly")}return b.defineProperty(t.prototype,"view",{get:function(){if(!1===kn(this))throw Vn("view");return this.If},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===kn(this))throw Vn("respond");if(void 0===this.Cf)throw new _("This BYOB request has been invalidated");this.If.buffer,function(t,n){if(!1===h(n=Number(n)))throw new RangeError("bytesWritten must be a finite");Pn(t,n)}(this.Cf,t)},t.prototype.respondWithNewView=function(t){if(!1===kn(this))throw Vn("respond");if(void 0===this.Cf)throw new _("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new _("You can only respond with array buffer views");t.buffer,function(t,n){var i=t.Pf.peek();if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=n.buffer,Pn(t,n.byteLength)}(this.Cf,t)},t}(),_n=function(){function t(){throw new _("ReadableByteStreamController constructor cannot be used directly")}return b.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===bn(this))throw Fn("byobRequest");if(void 0===this.Df&&this.Pf.length>0){var t=this.Pf.peek(),n=new E(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),i=b.create(pn.prototype);!function(t,n,i){t.Cf=n,t.If=i}(i,this,n),this.Df=i}return this.Df},enumerable:!0,configurable:!0}),b.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===bn(this))throw Fn("desiredSize");return On(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===bn(this))throw Fn("close");if(!0===this.kf)throw new _("The stream has already been closed; do not close it again!");var t=this.Nf.Ea;if("readable"!==t)throw new _("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.Nf;if(t.qd>0)t.kf=!0;else{if(t.Pf.length>0&&t.Pf.peek().bytesFilled>0){var i=new _("Insufficient bytes to fill elements in the given buffer");throw Mn(t,i),i}Ln(t),Qn(n)}}(this)},t.prototype.enqueue=function(t){if(!1===bn(this))throw Fn("enqueue");if(!0===this.kf)throw new _("stream is closed or draining");var n=this.Nf.Ea;if("readable"!==n)throw new _("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new _("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var i=t.Nf,r=n.buffer,e=n.byteOffset,u=n.byteLength,s=r;!0===Q(i)?0===J(i)?En(t,s,e,u):q(i,new E(s,e,u),!1):!0===Zn(i)?(En(t,s,e,u),Dn(t)):En(t,s,e,u),An(t)}(this,t)},t.prototype.error=function(t){if(!1===bn(this))throw Fn("error");Mn(this,t)},t.prototype[z]=function(t){this.Pf.length>0&&(this.Pf.peek().bytesFilled=0),ft(this);var n=this.Sf(t);return Ln(this),n},t.prototype[Y]=function(){var t=this.Nf;if(this.qd>0){var n=this.zd.shift();this.qd-=n.byteLength,Cn(this);var i=void 0;try{i=new E(n.buffer,n.byteOffset,n.byteLength)}catch(t){return R(t)}return I(O(i,!1,t.Md.Dd))}var r=this.Mf;if(void 0!==r){var e=void 0;try{e=new ArrayBuffer(r)}catch(t){return R(t)}var u={buffer:e,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,ctor:E,readerType:"default"};this.Pf.push(u)}var s=K(t);return An(this),s},t}();function bn(t){return!!o(t)&&!!b.prototype.hasOwnProperty.call(t,"Nf")}function kn(t){return!!o(t)&&!!b.prototype.hasOwnProperty.call(t,"Cf")}function An(t){var n=function(t){var n=t.Nf;if("readable"!==n.Ea)return!1;if(!0===t.kf)return!1;if(!1===t.uf)return!1;if(!0===Q(n)&&J(n)>0)return!0;if(!0===Zn(n)&&Wn(n)>0)return!0;var i=On(t);return i>0}(t);!1!==n&&(!0!==t.Ef?(t.Ef=!0,N(t.xf(),(function(){t.Ef=!1,!0===t.Rf&&(t.Rf=!1,An(t))}),(function(n){Mn(t,n)}))):t.Rf=!0)}function Tn(t,n){var i=!1;"closed"===t.Ea&&(i=!0);var r=Sn(n);"default"===n.readerType?q(t,r,i):function(t,n,i){var r=t.Md,e=r.Lf.shift();e.Vd(O(n,i,r.Dd))}(t,r,i)}function Sn(t){var n=t.bytesFilled,i=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/i)}function En(t,n,i,r){t.zd.push({buffer:n,byteOffset:i,byteLength:r}),t.qd+=r}function In(t,n){var i=n.elementSize,r=n.bytesFilled-n.bytesFilled%i,e=k.min(t.qd,n.byteLength-n.bytesFilled),u=n.bytesFilled+e,s=u-u%i,o=e,a=!1;s>r&&(o=s-n.bytesFilled,a=!0);for(var h=t.zd;o>0;){var f=h.peek(),v=k.min(o,f.byteLength),d=n.byteOffset+n.bytesFilled;c(n.buffer,d,f.buffer,f.byteOffset,v),f.byteLength===v?h.shift():(f.byteOffset+=v,f.byteLength-=v),t.qd-=v,Rn(t,v,n),o-=v}return a}function Rn(t,n,i){Nn(t),i.bytesFilled+=n}function Cn(t){0===t.qd&&!0===t.kf?(Ln(t),Qn(t.Nf)):An(t)}function Nn(t){void 0!==t.Df&&(t.Df.Cf=void 0,t.Df.If=void 0,t.Df=void 0)}function Dn(t){for(;t.Pf.length>0;){if(0===t.qd)return;var n=t.Pf.peek();!0===In(t,n)&&(xn(t),Tn(t.Nf,n))}}function Pn(t,n){var i=t.Pf.peek();if("closed"===t.Nf.Ea){if(0!==n)throw new _("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=n.buffer;var i=t.Nf;if(!0===Zn(i))for(;Wn(i)>0;)Tn(i,xn(t))}(t,i)}else!function(t,n,i){if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range");if(Rn(t,n,i),!(i.bytesFilled<i.elementSize)){xn(t);var r=i.bytesFilled%i.elementSize;if(r>0){var e=i.byteOffset+i.bytesFilled,u=i.buffer.slice(e-r,e);En(t,u,0,u.byteLength)}i.buffer=i.buffer,i.bytesFilled-=r,Tn(t.Nf,i),Dn(t)}}(t,n,i);An(t)}function xn(t){var n=t.Pf.shift();return Nn(t),n}function Ln(t){t.xf=void 0,t.Sf=void 0}function Mn(t,n){var i=t.Nf;"readable"===i.Ea&&(function(t){Nn(t),t.Pf=new M}(t),ft(t),Ln(t),$n(i,n))}function On(t){var n=t.Nf.Ea;return"errored"===n?null:"closed"===n?0:t.pf-t.qd}function Bn(t,n,i){var r=b.create(_n.prototype),e=v(n,"pull",0,[r]),u=v(n,"cancel",1,[]),s=n.autoAllocateChunkSize;if(void 0!==s&&(s=Number(s),!1===yn(s)||s<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,i,r,e,u,s){n.Nf=t,n.Rf=!1,n.Ef=!1,n.Df=void 0,n.zd=n.qd=void 0,ft(n),n.kf=!1,n.uf=!1,n.pf=g(u),n.xf=r,n.Sf=e,n.Mf=s,n.Pf=new M,t.Hd=n,N(I(i()),(function(){n.uf=!0,An(n)}),(function(t){Mn(n,t)}))}(t,r,(function(){return d(n,"start",[r])}),e,u,i,s)}function Vn(t){return new _("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function Fn(t){return new _("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function Un(t){return S((function(n,i){var r={Vd:n,Wd:i};t.Md.Lf.push(r)}))}function Wn(t){return t.Md.Lf.length}function Zn(t){var n=t.Md;return void 0!==n&&!!Gn(n)}var Xn=function(){function t(t){if(!Kn(t))throw new _("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===bn(t.Hd))throw new _("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(qn(t))throw new _("This stream has already been locked for exclusive reading by another reader");B(this,t),this.Lf=new M}return b.defineProperty(t.prototype,"closed",{get:function(){return Gn(this)?this.Bd:R(Hn("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Gn(this)?void 0===this.Nd?R(W("cancel")):V(this,t):R(Hn("cancel"))},t.prototype.read=function(t){return Gn(this)?void 0===this.Nd?R(W("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?R(new _("view must have non-zero byteLength")):function(t,n){var i=t.Nd;return i.Gd=!0,"errored"===i.Ea?R(i.Ld):function(t,n){var i=t.Nf,r=1;n.constructor!==DataView&&(r=n.constructor.BYTES_PER_ELEMENT);var e=n.constructor,u={buffer:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:r,ctor:e,readerType:"byob"};if(t.Pf.length>0)return t.Pf.push(u),Un(i);if("closed"===i.Ea)return I(O(new e(u.buffer,u.byteOffset,0),!0,i.Md.Dd));if(t.qd>0){if(!0===In(t,u)){var s=Sn(u);return Cn(t),I(O(s,!1,i.Md.Dd))}if(!0===t.kf){var o=new _("Insufficient bytes to fill elements in the given buffer");return Mn(t,o),R(o)}}t.Pf.push(u);var a=Un(i);return An(t),a}(i.Hd,n)}(this,t)):R(new _("view must be an array buffer view")):R(Hn("read"))},t.prototype.releaseLock=function(){if(!Gn(this))throw Hn("releaseLock");if(void 0!==this.Nd){if(this.Lf.length>0)throw new _("Tried to release a reader lock when that reader has pending read() calls un-settled");F(this)}},t}();function Gn(t){return!!o(t)&&!!b.prototype.hasOwnProperty.call(t,"Lf")}function Hn(t){return new _("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}var zn=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),jn(this);var i=n.size,r=n.highWaterMark,e=t.type;if("bytes"===String(e)){if(void 0!==i)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===r&&(r=0),Bn(this,t,r=g(r))}else{if(void 0!==e)throw new RangeError("Invalid type is specified");var u=w(i);void 0===r&&(r=1),function(t,n,i,r){var e=b.create(sn.prototype),u=v(n,"pull",0,[e]),s=v(n,"cancel",1,[]);wn(t,e,(function(){return d(n,"start",[e])}),u,s,i,r)}(this,t,r=g(r),u)}}return b.defineProperty(t.prototype,"locked",{get:function(){if(!1===Kn(this))throw ti("locked");return qn(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===Kn(this)?R(ti("cancel")):!0===qn(this)?R(new _("Cannot cancel a stream that already has a reader")):Jn(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===Kn(this))throw ti("getReader");if(void 0===n)return j(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var i=new Xn(t);return i.Dd=n,i}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var i=t.writable,r=t.readable,e=void 0===n?{}:n,u=e.preventClose,s=e.preventAbort,o=e.preventCancel,a=e.signal;if(!1===Kn(this))throw ti("pipeThrough");if(!1===mt(i))throw new _("writable argument to pipeThrough must be a WritableStream");if(!1===Kn(r))throw new _("readable argument to pipeThrough must be a ReadableStream");if(u=Boolean(u),s=Boolean(s),o=Boolean(o),void 0!==a&&!tn(a))throw new _("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===qn(this))throw new _("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===yt(i))throw new _("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return L(un(this,i,u,s,o,a)),r},t.prototype.pipeTo=function(t,n){var i=void 0===n?{}:n,r=i.preventClose,e=i.preventAbort,u=i.preventCancel,s=i.signal;return!1===Kn(this)?R(ti("pipeTo")):!1===mt(t)?R(new _("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(r=Boolean(r),e=Boolean(e),u=Boolean(u),void 0===s||tn(s)?!0===qn(this)?R(new _("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===yt(t)?R(new _("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):un(this,t,r,e,u,s):R(new _("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===Kn(this))throw ti("tee");var t=function(t,n){var i,r,e,u,s,o=j(t),c=!1,h=!1,f=!1,v=S((function(t){s=t}));function d(){return!0===c||(c=!0,L(x(rt(o),(function(t){if(c=!1,!0===t.done)return!1===h&&fn(e.Hd),void(!1===f&&fn(u.Hd));var n=t.value,i=n,r=n;!1===h&&vn(e.Hd,i),!1===f&&vn(u.Hd,r)})))),I(void 0)}function l(){}return e=Yn(l,d,(function(n){if(h=!0,i=n,!0===f){var e=a([i,r]),u=Jn(t,e);s(u)}return v})),u=Yn(l,d,(function(n){if(f=!0,r=n,!0===h){var e=a([i,r]),u=Jn(t,e);s(u)}return v})),P(o.Bd,(function(t){dn(e.Hd,t),dn(u.Hd,t)})),[e,u]}(this);return a(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,i=void 0!==n&&n;if(!1===Kn(this))throw ti("getIterator");return function(t,n){void 0===n&&(n=!1);var i=j(t),r=b.create(st);return r.Zd=i,r.Xd=Boolean(n),r}(this,i)},t}();function Yn(t,n,i,r,e){void 0===r&&(r=1),void 0===e&&(e=function(){return 1});var u=b.create(zn.prototype);return jn(u),wn(u,b.create(sn.prototype),t,n,i,r,e),u}function jn(t){t.Ea="readable",t.Md=void 0,t.Ld=void 0,t.Gd=!1}function Kn(t){return!!o(t)&&!!b.prototype.hasOwnProperty.call(t,"Hd")}function qn(t){return void 0!==t.Md}function Jn(t,n){return t.Gd=!0,"closed"===t.Ea?I(void 0):"errored"===t.Ea?R(t.Ld):(Qn(t),x(t.Hd[z](n),e))}function Qn(t){t.Ea="closed";var n=t.Md;void 0!==n&&(it(n)&&(n.Ud.forEach((function(t){t.Vd(O(void 0,!0,n.Dd))})),n.Ud=new M),H(n))}function $n(t,n){t.Ea="errored",t.Ld=n;var i=t.Md;void 0!==i&&(it(i)?(i.Ud.forEach((function(t){t.Wd(n)})),i.Ud=new M):(i.Lf.forEach((function(t){t.Wd(n)})),i.Lf=new M),G(i,n))}function ti(t){return new _("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}"symbol"===U(i.asyncIterator)&&b.defineProperty(zn.prototype,i.asyncIterator,{value:zn.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var ni=function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}return t.prototype.size=function(t){return t.byteLength},t}(),ii=function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}return t.prototype.size=function(){return 1},t}(),ri=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={});var r=n.size,e=n.highWaterMark,u=i.size,s=i.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var o=w(r);if(void 0===e&&(e=1),e=g(e),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var a,c=w(u);void 0===s&&(s=0),s=g(s),function(t,n,i,r,e,u){function s(){return n}function o(n){return function(t,n){var i=t.Bf;return!0===t.ef?x(t.Of,(function(){var r=t.Ff;if("erroring"===r.Ea)throw r.Ld;return vi(i,n)})):vi(i,n)}(t,n)}function a(n){return function(t,n){return ui(t,n),I(void 0)}(t,n)}function c(){return function(t){var n=t.Vf,i=t.Bf,r=i.Wf();return hi(i),x(r,(function(){if("errored"===n.Ea)throw n.Ld;var t=n.Hd;!0===gn(t)&&fn(t)}),(function(i){throw ui(t,i),n.Ld}))}(t)}function h(){return function(t){return oi(t,!1),t.Of}(t)}function f(n){return si(t,n),I(void 0)}t.Ff=function(t,n,i,r,e,u){void 0===e&&(e=1),void 0===u&&(u=function(){return 1});var s=b.create(lt.prototype);return wt(s),Mt(s,b.create(Lt.prototype),t,n,i,r,e,u),s}(s,o,c,a,i,r),t.Vf=Yn(s,h,f,e,u),t.ef=void 0,t.Of=void 0,t.Uf=void 0,oi(t,!0),t.Bf=void 0}(this,S((function(t){a=t})),e,o,s,c),function(t,n){var i=b.create(ai.prototype),r=function(t){try{return fi(i,t),I(void 0)}catch(t){return R(t)}},e=n.transform;if(void 0!==e){if("function"!=typeof e)throw new _("transform is not a method");r=function(t){return l(e,n,[t,i])}}var u=v(n,"flush",0,[i]);!function(t,n,i,r){n.Gf=t,t.Bf=n,n.Hf=i,n.Wf=r}(t,i,r,u)}(this,t);var h=d(t,"start",[this.Bf]);a(h)}return b.defineProperty(t.prototype,"readable",{get:function(){if(!1===ei(this))throw li("readable");return this.Vf},enumerable:!0,configurable:!0}),b.defineProperty(t.prototype,"writable",{get:function(){if(!1===ei(this))throw li("writable");return this.Ff},enumerable:!0,configurable:!0}),t}();function ei(t){return!!o(t)&&!!b.prototype.hasOwnProperty.call(t,"Bf")}function ui(t,n){dn(t.Vf.Hd,n),si(t,n)}function si(t,n){hi(t.Bf),Ft(t.Ff.Kd,n),!0===t.ef&&oi(t,!1)}function oi(t,n){void 0!==t.Of&&t.Uf(),t.Of=S((function(n){t.Uf=n})),t.ef=n}var ai=function(){function t(){throw new _("TransformStreamDefaultController instances cannot be created directly")}return b.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===ci(this))throw di("desiredSize");return ln(this.Gf.Vf.Hd)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===ci(this))throw di("enqueue");fi(this,t)},t.prototype.error=function(t){if(!1===ci(this))throw di("error");!function(t,n){ui(t.Gf,n)}(this,t)},t.prototype.terminate=function(){if(!1===ci(this))throw di("terminate");!function(t){var n=t.Gf,i=n.Vf.Hd;!0===gn(i)&&fn(i);var r=new _("TransformStream terminated");si(n,r)}(this)},t}();function ci(t){return!!o(t)&&!!b.prototype.hasOwnProperty.call(t,"Gf")}function hi(t){t.Hf=void 0,t.Wf=void 0}function fi(t,n){var i=t.Gf,r=i.Vf.Hd;if(!1===gn(r))throw new _("Readable side is not in a state that permits enqueue");try{vn(r,n)}catch(t){throw si(i,t),i.Vf.Ld}var e=function(t){return!0!==cn(t)}(r);e!==i.ef&&oi(i,!0)}function vi(t,n){return x(t.Hf(n),void 0,(function(n){throw ui(t.Gf,n),n}))}function di(t){return new _("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function li(t){return new _("TransformStream.prototype."+t+" can only be used on a TransformStream")}t.ByteLengthQueuingStrategy=ni,t.CountQueuingStrategy=ii,t.ReadableStream=zn,t.TransformStream=ri,t.WritableStream=lt,b.defineProperty(t,"__esModule",{value:!0})},"object"===(void 0===t?"undefined":U(t))&&void 0!==i?u(t):"function"==typeof define&&define.amd?define(["exports"],u):u((e=e||self).WebStreamsPolyfill={})})),en=O((function(t){function n(){var t=rn();return n=function(){return t},t}F(),Tt(),b.defineProperty(t,"__esModule",{value:!0}),function(t,n){for(var i in n)b.defineProperty(t,i,{enumerable:!0,get:n[i]})}(t,{ByteLengthQueuingStrategy:function(){return n().ByteLengthQueuingStrategy},CountQueuingStrategy:function(){return n().CountQueuingStrategy},ReadableStream:function(){return n().ReadableStream},TransformStream:function(){return n().TransformStream},WritableStream:function(){return n().WritableStream}})}));function un(t,n,i){return n in t?b.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}var sn=M((function(){F(),Tt()})),on=M((function(){F(),Tt(),Kt()}));function an(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(an=function(){return!!t})()}var cn=M((function(){F(),Tt()}));function hn(t,n,i){return(hn=an()?Reflect.construct:function(t,n,i){var r=[null];r.push.apply(r,n);var e=new(Function.bind.apply(t,r));return i&&St(e,i.prototype),e}).apply(null,arguments)}var fn=M((function(){F(),Tt(),cn(),Et()}));function vn(t){return(vn=b.setPrototypeOf?b.getPrototypeOf:function(t){return t.__proto__||b.getPrototypeOf(t)})(t)}var dn=M((function(){F(),Tt()}));var ln=M((function(){F(),Tt()}));function gn(t){var n="function"==typeof Map?new Map:void 0;return gn=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new _("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,i)}function i(){return hn(t,arguments,vn(this).constructor)}return i.prototype=b.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),St(i,t)},gn(t)}var wn,mn=M((function(){F(),Tt(),fn(),dn(),ln(),Et()})),yn=O((function(t,e){var u,s;F(),Tt(),Gt(),fn(),Dt(),sn(),Rt(),nn(),Ut(),at(),mn(),qt(),on(),u=t,s=function(t){var e,u=b.defineProperty,s=b.defineProperties,o=b.getOwnPropertyDescriptors,a=b.getOwnPropertySymbols,c=b.prototype.hasOwnProperty,h=b.prototype.propertyIsEnumerable,d=function(t,n,i){return n in t?u(t,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[n]=i},w=function(t,n){for(var i in n||(n={}))c.call(n,i)&&d(t,i,n[i]);if(a)for(var r=0,e=a(n);r<e.length;r++)i=e[r],h.call(n,i)&&d(t,i,n[i]);return t},R=function(t,n){return s(t,o(n))},C=function(t,n){var i={};for(var r in t)c.call(t,r)&&n.indexOf(r)<0&&(i[r]=t[r]);if(null!=t&&a)for(var e=0,u=a(t);e<u.length;e++)r=u[e],n.indexOf(r)<0&&h.call(t,r)&&(i[r]=t[r]);return i},N=("undefined"==typeof globalThis?"undefined":U(globalThis))<"u"?globalThis:(void 0===f?"undefined":U(f))<"u"?f:("undefined"==typeof global?"undefined":U(global))<"u"?global:("undefined"==typeof self?"undefined":U(self))<"u"?self:{};function D(t){return t&&t.__esModule&&b.prototype.hasOwnProperty.call(t,"default")?t.default:t}var P,x={exports:{}};P=x,function(t){var n,i={VERSION:"1.6.1"},r={},e=function(t,n){return function(){return n.apply(t,arguments)}},u=function(){var t,n,i=arguments,r=i[0];for(n=1;n<i.length;n++)for(t in i[n])!(t in r)&&i[n].hasOwnProperty(t)&&(r[t]=i[n][t]);return r},s=function(t,n){return{value:t,name:n}};i.TRACE=s(1,"TRACE"),i.DEBUG=s(2,"DEBUG"),i.INFO=s(3,"INFO"),i.TIME=s(4,"TIME"),i.WARN=s(5,"WARN"),i.ERROR=s(8,"ERROR"),i.OFF=s(99,"OFF");var o=function(t){this.context=t,this.setLevel(t.filterLevel),this.log=this.info};o.prototype={setLevel:function(t){t&&"value"in t&&(this.context.filterLevel=t)},getLevel:function(){return this.context.filterLevel},enabledFor:function(t){var n=this.context.filterLevel;return t.value>=n.value},trace:function(){this.invoke(i.TRACE,arguments)},debug:function(){this.invoke(i.DEBUG,arguments)},info:function(){this.invoke(i.INFO,arguments)},warn:function(){this.invoke(i.WARN,arguments)},error:function(){this.invoke(i.ERROR,arguments)},time:function(t){"string"==typeof t&&t.length>0&&this.invoke(i.TIME,[t,"start"])},timeEnd:function(t){"string"==typeof t&&t.length>0&&this.invoke(i.TIME,[t,"end"])},invoke:function(t,i){n&&this.enabledFor(t)&&n(i,u({level:t},this.context))}};var a,c=new o({filterLevel:i.OFF});(a=i).enabledFor=e(c,c.enabledFor),a.trace=e(c,c.trace),a.debug=e(c,c.debug),a.time=e(c,c.time),a.timeEnd=e(c,c.timeEnd),a.info=e(c,c.info),a.warn=e(c,c.warn),a.error=e(c,c.error),a.log=a.info,i.setHandler=function(t){n=t},i.setLevel=function(t){for(var n in c.setLevel(t),r)r.hasOwnProperty(n)&&r[n].setLevel(t)},i.getLevel=function(){return c.getLevel()},i.get=function(t){return r[t]||(r[t]=new o(u({name:t},c.context)))},i.createDefaultHandler=function(t){(t=t||{}).formatter=t.formatter||function(t,n){n.name&&t.unshift("["+n.name+"]")};var n={},r=function(t,n){Function.prototype.apply.call(t,console,n)};return("undefined"==typeof console?"undefined":U(console))>"u"?function(){}:function(e,u){e=Array.prototype.slice.call(e);var s,o=console.log;u.level===i.TIME?(s=(u.name?"["+u.name+"] ":"")+e[0],"start"===e[1]?console.time?console.time(s):n[s]=(new Date).getTime():console.timeEnd?console.timeEnd(s):r(o,[s+": "+((new Date).getTime()-n[s])+"ms"])):(u.level===i.WARN&&console.warn?o=console.warn:u.level===i.ERROR&&console.error?o=console.error:u.level===i.INFO&&console.info?o=console.info:u.level===i.DEBUG&&console.debug?o=console.debug:u.level===i.TRACE&&console.trace&&(o=console.trace),t.formatter(e,u),r(o,e))}},i.useDefaults=function(t){i.setLevel(t&&t.defaultLevel||i.DEBUG),i.setHandler(i.createDefaultHandler(t))},i.setDefaults=i.useDefaults,P.exports?P.exports=i:(i.Zf=t.Logger,i.noConflict=function(){return t.Logger=i.Zf,i},t.Logger=i)}(N);var L=D(x.exports),M="0.3.2",O=(null==(e=null==f?void 0:f.navigator)?void 0:e.userAgent)||"No user agent available",B="",V="",F="",W="",Z="",X="",G="",H=0,z=[],Y=function(t){B=""===B?t:B},j=function(t){V=""===V?t:V},K=function(t){F=""===F?t:F},q=function(t){W=""===W?t:W},J=function(t){Z=""===Z?t:Z},Q=function(t){H=0===H?t:H},tt=function(t){X=t},nt=function(t){G=""===G?t:G},it=function(t){60===z.length&&z.shift(),z.push(t)},rt=function(t,n){var i;void 0===t&&(t=60),void 0===n&&(n="JSON"),i=!Number.isInteger(t)||t>60||t<=0?60:t;var r={client:"@millicast/millicast-sdk",version:M,timestamp:(new Date).toISOString(),userAgent:O,clusterId:G,accountId:B,streamName:V,subscriberId:F,connection:X,stats:z.slice(-i),connectionDurationMs:(new Date).getTime()-H};return""!==Z?r.feedId=Z:""!==W&&(r.streamViewId=W),"CMCD"===n?function(t){function n(t,n){return{ts:k.round(n.timestamp)||"",ot:"audio"===t?"a":"v",bl:n.jitterBufferDelay||0,br:k.round(n.bitrateBitsPerSecond||0),pld:n.packetsLostDeltaPerSecond||0,j:n.jitter||0,mtp:n.packetRate||0,mid:n.mid||"",mimeType:n.mimeType||""}}return t.stats=t.stats.reduce((function(t,i){var r=0!==i.audio.inbounds.length?i.audio.inbounds.map((function(t){return n("audio",t)})):i.audio.outbounds.map((function(t){return n("audio",t)})),e=0!==i.video.inbounds.length?i.video.inbounds.map((function(t){return n("video",t)})):i.video.outbounds.map((function(t){return n("video",t)}));return t.concat(Ft(r).concat(Ft(e)))}),[]),t}(r):r};L.useDefaults({defaultLevel:L.TRACE});var ut=["TRACE","DEBUG","INFO","WARN","ERROR"],st=function(t,n){t.unshift("[".concat(n.name||"Global","] ").concat((new Date).toISOString()," - ").concat(n.level.name," -"))},ot=function(t,n){return n?t.value>=dt[n].value:t.value>=vt.value},at=L.createDefaultHandler({formatter:st});L.setHandler((function(t,n){(function(t,n){t=(t=Array.prototype.slice.call(t)).map((function(t){return"object"==(void 0===t?"undefined":U(t))?JSON.stringify(t):t})),st(t,n),0!==ht?(ft.push(t.join(" ")),ft.length>=ht&&(ft=ft.slice(-ht))):ft=[]})(t,n),ot(n.level,n.name)&&at(t,n);for(var i=0;i<lt.length;i++){var r=lt[i],e=r.handler,u=r.level;n.level.value>=u.value&&e(t,n)}}));var ct,ht=1e4,ft=[],vt=L.OFF,dt={},lt=[],gt=R(w({},L),{enabledFor:ot,getHistory:function(){return ft},getHistoryMaxSize:function(){return ht},setHistoryMaxSize:function(t){ht=t},setLevel:function(t){for(var n in vt=t,dt)dt[n]=t},getLevel:function(){return vt},get:function(t){dt[t]||(dt[t]=vt);var n=L.get(t);return n.setLevel=function(n){dt[t]=n},n.getLevel=function(){return dt[t]},n},setHandler:function(t,n){lt.push({handler:t,level:n})},diagnose:function(t){var n;void 0===t&&(t={});var i={statsCount:60,historySize:1e3,minLogLevel:"TRACE",statsFormat:"JSON"};"number"==typeof t?(i.statsCount=t,n=i):n=w(w({},i),t);var r=n.statsCount,e=n.historySize,u=n.minLogLevel,s=n.statsFormat,o=rt(r,s),a=gt.getHistory();if(!Number.isInteger(e)||e<=0)throw new p("Invalid Argument Exception : historySize must be a positive integer.");if(!ut.includes(u.toUpperCase()))throw new p('Invalid Argument Exception : the minLogLevel parameter only excepts "trace", "debug", "info", "warn", and "error" as arguments.');if(ut.includes(u.toUpperCase())){var c=ut.slice(ut.indexOf(u.toUpperCase())),h=a.filter((function(t){return c.some((function(n){return t.includes(n)}))}));o.history=h.slice(-e)}return o},JSON:"JSON",CMCD:"CMCD",VERSION:M}),wt={exports:{}},mt="object"==("undefined"==typeof Reflect?"undefined":U(Reflect))?Reflect:null,yt=mt&&"function"==typeof mt.apply?mt.apply:function(t,n,i){return Function.prototype.apply.call(t,n,i)};ct=mt&&"function"==typeof mt.ownKeys?mt.ownKeys:b.getOwnPropertySymbols?function(t){return b.getOwnPropertyNames(t).concat(b.getOwnPropertySymbols(t))}:function(t){return b.getOwnPropertyNames(t)};var pt=Number.isNaN||function(t){return t!=t};function _t(){_t.init.call(this)}wt.exports=_t,wt.exports.once=function(t,n){return new et((function(i,r){function e(i){t.removeListener(n,u),r(i)}function u(){"function"==typeof t.removeListener&&t.removeListener("error",e),i([].slice.call(arguments))}Pt(t,n,u,{once:!0}),"error"!==n&&function(t,n,i){"function"==typeof t.on&&Pt(t,"error",n,i)}(t,e,{once:!0})}))},_t.EventEmitter=_t,_t.prototype.Xf=void 0,_t.prototype.zf=0,_t.prototype.qf=void 0;var bt=10;function kt(t){if("function"!=typeof t)throw new _('The "listener" argument must be of type Function. Received type '+(void 0===t?"undefined":U(t)))}function At(t){return void 0===t.qf?_t.defaultMaxListeners:t.qf}function Tt(t,n,i,r){var e,u,s;if(kt(i),void 0===(u=t.Xf)?(u=t.Xf=b.create(null),t.zf=0):(void 0!==u.newListener&&(t.emit("newListener",n,i.listener?i.listener:i),u=t.Xf),s=u[n]),void 0===s)s=u[n]=i,++t.zf;else if("function"==typeof s?s=u[n]=r?[i,s]:[s,i]:r?s.unshift(i):s.push(i),(e=At(t))>0&&s.length>e&&!s.warned){s.warned=!0;var o=new p("Possible EventEmitter memory leak detected. "+s.length+" "+String(n)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=t,o.type=n,o.count=s.length,function(t){console&&console.warn&&console.warn(t)}(o)}return t}function St(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Et(t,n,i){var r={fired:!1,wrapFn:void 0,target:t,type:n,listener:i},e=St.bind(r);return e.listener=i,r.wrapFn=e,e}function Rt(t,n,i){var r=t.Xf;if(void 0===r)return[];var e=r[n];return void 0===e?[]:"function"==typeof e?i?[e.listener||e]:[e]:i?function(t){for(var n=new Array(t.length),i=0;i<n.length;++i)n[i]=t[i].listener||t[i];return n}(e):Dt(e,e.length)}function Ct(t){var n=this.Xf;if(void 0!==n){var i=n[t];if("function"==typeof i)return 1;if(void 0!==i)return i.length}return 0}function Dt(t,n){for(var i=new Array(n),r=0;r<n;++r)i[r]=t[r];return i}function Pt(t,n,i,r){if("function"==typeof t.on)r.once?t.once(n,i):t.on(n,i);else{if("function"!=typeof t.addEventListener)throw new _('The "emitter" argument must be of type EventEmitter. Received type '+(void 0===t?"undefined":U(t)));t.addEventListener(n,(function e(u){r.once&&t.removeEventListener(n,e),i(u)}))}}b.defineProperty(_t,"defaultMaxListeners",{enumerable:!0,get:function(){return bt},set:function(t){if("number"!=typeof t||t<0||pt(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");bt=t}}),_t.init=function(){(void 0===this.Xf||this.Xf===b.getPrototypeOf(this).Xf)&&(this.Xf=b.create(null),this.zf=0),this.qf=this.qf||void 0},_t.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||pt(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this.qf=t,this},_t.prototype.getMaxListeners=function(){return At(this)},_t.prototype.emit=function(t){for(var n=[],i=1;i<arguments.length;i++)n.push(arguments[i]);var r="error"===t,e=this.Xf;if(void 0!==e)r=r&&void 0===e.error;else if(!r)return!1;if(r){var u;if(n.length>0&&(u=n[0]),u instanceof p)throw u;var s=new p("Unhandled error."+(u?" ("+u.message+")":""));throw s.context=u,s}var o=e[t];if(void 0===o)return!1;if("function"==typeof o)yt(o,this,n);else{var a=o.length,c=Dt(o,a);for(i=0;i<a;++i)yt(c[i],this,n)}return!0},_t.prototype.addListener=function(t,n){return Tt(this,t,n,!1)},_t.prototype.on=_t.prototype.addListener,_t.prototype.prependListener=function(t,n){return Tt(this,t,n,!0)},_t.prototype.once=function(t,n){return kt(n),this.on(t,Et(this,t,n)),this},_t.prototype.prependOnceListener=function(t,n){return kt(n),this.prependListener(t,Et(this,t,n)),this},_t.prototype.removeListener=function(t,n){var i,r,e,u,s;if(kt(n),void 0===(r=this.Xf))return this;if(void 0===(i=r[t]))return this;if(i===n||i.listener===n)0==--this.zf?this.Xf=b.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,i.listener||n));else if("function"!=typeof i){for(e=-1,u=i.length-1;u>=0;u--)if(i[u]===n||i[u].listener===n){s=i[u].listener,e=u;break}if(e<0)return this;0===e?i.shift():function(t,n){for(;n+1<t.length;n++)t[n]=t[n+1];t.pop()}(i,e),1===i.length&&(r[t]=i[0]),void 0!==r.removeListener&&this.emit("removeListener",t,s||n)}return this},_t.prototype.off=_t.prototype.removeListener,_t.prototype.removeAllListeners=function(t){var n,i,r;if(void 0===(i=this.Xf))return this;if(void 0===i.removeListener)return 0===arguments.length?(this.Xf=b.create(null),this.zf=0):void 0!==i[t]&&(0==--this.zf?this.Xf=b.create(null):delete i[t]),this;if(0===arguments.length){var e,u=b.keys(i);for(r=0;r<u.length;++r)"removeListener"!==(e=u[r])&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this.Xf=b.create(null),this.zf=0,this}if("function"==typeof(n=i[t]))this.removeListener(t,n);else if(void 0!==n)for(r=n.length-1;r>=0;r--)this.removeListener(t,n[r]);return this},_t.prototype.listeners=function(t){return Rt(this,t,!0)},_t.prototype.rawListeners=function(t){return Rt(this,t,!1)},_t.listenerCount=function(t,n){return"function"==typeof t.listenerCount?t.listenerCount(n):Ct.call(t,n)},_t.prototype.listenerCount=Ct,_t.prototype.eventNames=function(){return this.zf>0?ct(this.Xf):[]};var xt=wt.exports,Lt=D(xt),Mt={exports:{}};Mt.exports=Bt,Mt.exports.filter=function(t,n){var i=new Ot;return Bt(t,i,n),i};var Ot=xt.EventEmitter;function Bt(t,n,i){Array.isArray(i)||(i=[i]);var r=[];return i.forEach((function(i){var e=function(){var t=[].slice.call(arguments);t.unshift(i),n.emit.apply(n,t)};r.push(e),t.on(i,e)})),function(){i.forEach((function(n,i){t.removeListener(n,r[i])}))}}var Vt=D(Mt.exports),Ut={exports:{}};!function(t,n){var i,r;self,t.exports=(i={7:function(t){var n,i=function(t){if("function"!=typeof t)throw new _('The "listener" argument must be of type Function. Received type '+(void 0===t?"undefined":U(t)))},r=function(t){return void 0===t.qf?l.defaultMaxListeners:t.qf},e=function(t,n,e,u){var s,o,a,c;if(i(e),void 0===(o=t.Xf)?(o=t.Xf=b.create(null),t.zf=0):(void 0!==o.newListener&&(t.emit("newListener",n,e.listener?e.listener:e),o=t.Xf),a=o[n]),void 0===a)a=o[n]=e,++t.zf;else if("function"==typeof a?a=o[n]=u?[e,a]:[a,e]:u?a.unshift(e):a.push(e),(s=r(t))>0&&a.length>s&&!a.warned){a.warned=!0;var h=new p("Possible EventEmitter memory leak detected. "+a.length+" "+String(n)+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name="MaxListenersExceededWarning",h.emitter=t,h.type=n,h.count=a.length,c=h,console&&console.warn&&console.warn(c)}return t},u=function(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)},s=function(t,n,i){var r={fired:!1,wrapFn:void 0,target:t,type:n,listener:i},e=u.bind(r);return e.listener=i,r.wrapFn=e,e},o=function(t,n,i){var r=t.Xf;if(void 0===r)return[];var e=r[n];return void 0===e?[]:"function"==typeof e?i?[e.listener||e]:[e]:i?function(t){for(var n=new Array(t.length),i=0;i<n.length;++i)n[i]=t[i].listener||t[i];return n}(e):c(e,e.length)},a=function(t){var n=this.Xf;if(void 0!==n){var i=n[t];if("function"==typeof i)return 1;if(void 0!==i)return i.length}return 0},c=function(t,n){for(var i=new Array(n),r=0;r<n;++r)i[r]=t[r];return i},h=function(t,n,i,r){if("function"==typeof t.on)r.once?t.once(n,i):t.on(n,i);else{if("function"!=typeof t.addEventListener)throw new _('The "emitter" argument must be of type EventEmitter. Received type '+(void 0===t?"undefined":U(t)));t.addEventListener(n,(function e(u){r.once&&t.removeEventListener(n,e),i(u)}))}},f="object"==("undefined"==typeof Reflect?"undefined":U(Reflect))?Reflect:null,v=f&&"function"==typeof f.apply?f.apply:function(t,n,i){return Function.prototype.apply.call(t,n,i)};n=f&&"function"==typeof f.ownKeys?f.ownKeys:b.getOwnPropertySymbols?function(t){return b.getOwnPropertyNames(t).concat(b.getOwnPropertySymbols(t))}:function(t){return b.getOwnPropertyNames(t)};var d=Number.isNaN||function(t){return t!=t};function l(){l.init.call(this)}t.exports=l,t.exports.once=function(t,n){return new et((function(i,r){function e(i){t.removeListener(n,u),r(i)}function u(){"function"==typeof t.removeListener&&t.removeListener("error",e),i([].slice.call(arguments))}var s,o;h(t,n,u,{once:!0}),"error"!==n&&(o=e,"function"==typeof(s=t).on&&h(s,"error",o,{once:!0}))}))},l.EventEmitter=l,l.prototype.Xf=void 0,l.prototype.zf=0,l.prototype.qf=void 0;var g=10;b.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return g},set:function(t){if("number"!=typeof t||t<0||d(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");g=t}}),l.init=function(){void 0!==this.Xf&&this.Xf!==b.getPrototypeOf(this).Xf||(this.Xf=b.create(null),this.zf=0),this.qf=this.qf||void 0},l.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||d(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this.qf=t,this},l.prototype.getMaxListeners=function(){return r(this)},l.prototype.emit=function(t){for(var n=[],i=1;i<arguments.length;i++)n.push(arguments[i]);var r="error"===t,e=this.Xf;if(void 0!==e)r=r&&void 0===e.error;else if(!r)return!1;if(r){var u;if(n.length>0&&(u=n[0]),u instanceof p)throw u;var s=new p("Unhandled error."+(u?" ("+u.message+")":""));throw s.context=u,s}var o=e[t];if(void 0===o)return!1;if("function"==typeof o)v(o,this,n);else{var a=o.length,h=c(o,a);for(i=0;i<a;++i)v(h[i],this,n)}return!0},l.prototype.addListener=function(t,n){return e(this,t,n,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(t,n){return e(this,t,n,!0)},l.prototype.once=function(t,n){return i(n),this.on(t,s(this,t,n)),this},l.prototype.prependOnceListener=function(t,n){return i(n),this.prependListener(t,s(this,t,n)),this},l.prototype.removeListener=function(t,n){var r,e,u,s,o;if(i(n),void 0===(e=this.Xf))return this;if(void 0===(r=e[t]))return this;if(r===n||r.listener===n)0==--this.zf?this.Xf=b.create(null):(delete e[t],e.removeListener&&this.emit("removeListener",t,r.listener||n));else if("function"!=typeof r){for(u=-1,s=r.length-1;s>=0;s--)if(r[s]===n||r[s].listener===n){o=r[s].listener,u=s;break}if(u<0)return this;0===u?r.shift():function(t,n){for(;n+1<t.length;n++)t[n]=t[n+1];t.pop()}(r,u),1===r.length&&(e[t]=r[0]),void 0!==e.removeListener&&this.emit("removeListener",t,o||n)}return this},l.prototype.off=l.prototype.removeListener,l.prototype.removeAllListeners=function(t){var n,i,r;if(void 0===(i=this.Xf))return this;if(void 0===i.removeListener)return 0===arguments.length?(this.Xf=b.create(null),this.zf=0):void 0!==i[t]&&(0==--this.zf?this.Xf=b.create(null):delete i[t]),this;if(0===arguments.length){var e,u=b.keys(i);for(r=0;r<u.length;++r)"removeListener"!==(e=u[r])&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this.Xf=b.create(null),this.zf=0,this}if("function"==typeof(n=i[t]))this.removeListener(t,n);else if(void 0!==n)for(r=n.length-1;r>=0;r--)this.removeListener(t,n[r]);return this},l.prototype.listeners=function(t){return o(this,t,!0)},l.prototype.rawListeners=function(t){return o(this,t,!1)},l.listenerCount=function(t,n){return"function"==typeof t.listenerCount?t.listenerCount(n):a.call(t,n)},l.prototype.listenerCount=a,l.prototype.eventNames=function(){return this.zf>0?n(this.Xf):[]}},586:function(t,n,i){var r,e;!function(u){var s,o={VERSION:"1.6.1"},a={},c=function(t,n){return function(){return n.apply(t,arguments)}},h=function(){var t,n,i=arguments,r=i[0];for(n=1;n<i.length;n++)for(t in i[n])!(t in r)&&i[n].hasOwnProperty(t)&&(r[t]=i[n][t]);return r},f=function(t,n){return{value:t,name:n}};o.TRACE=f(1,"TRACE"),o.DEBUG=f(2,"DEBUG"),o.INFO=f(3,"INFO"),o.TIME=f(4,"TIME"),o.WARN=f(5,"WARN"),o.ERROR=f(8,"ERROR"),o.OFF=f(99,"OFF");var v=function(t){this.context=t,this.setLevel(t.filterLevel),this.log=this.info};v.prototype={setLevel:function(t){t&&"value"in t&&(this.context.filterLevel=t)},getLevel:function(){return this.context.filterLevel},enabledFor:function(t){var n=this.context.filterLevel;return t.value>=n.value},trace:function(){this.invoke(o.TRACE,arguments)},debug:function(){this.invoke(o.DEBUG,arguments)},info:function(){this.invoke(o.INFO,arguments)},warn:function(){this.invoke(o.WARN,arguments)},error:function(){this.invoke(o.ERROR,arguments)},time:function(t){"string"==typeof t&&t.length>0&&this.invoke(o.TIME,[t,"start"])},timeEnd:function(t){"string"==typeof t&&t.length>0&&this.invoke(o.TIME,[t,"end"])},invoke:function(t,n){s&&this.enabledFor(t)&&s(n,h({level:t},this.context))}};var d,l=new v({filterLevel:o.OFF});(d=o).enabledFor=c(l,l.enabledFor),d.trace=c(l,l.trace),d.debug=c(l,l.debug),d.time=c(l,l.time),d.timeEnd=c(l,l.timeEnd),d.info=c(l,l.info),d.warn=c(l,l.warn),d.error=c(l,l.error),d.log=d.info,o.setHandler=function(t){s=t},o.setLevel=function(t){for(var n in l.setLevel(t),a)a.hasOwnProperty(n)&&a[n].setLevel(t)},o.getLevel=function(){return l.getLevel()},o.get=function(t){return a[t]||(a[t]=new v(h({name:t},l.context)))},o.createDefaultHandler=function(t){(t=t||{}).formatter=t.formatter||function(t,n){n.name&&t.unshift("["+n.name+"]")};var n={},i=function(t,n){Function.prototype.apply.call(t,console,n)};return("undefined"==typeof console?"undefined":U(console))>"u"?function(){}:function(r,e){r=Array.prototype.slice.call(r);var u,s=console.log;e.level===o.TIME?(u=(e.name?"["+e.name+"] ":"")+r[0],"start"===r[1]?console.time?console.time(u):n[u]=(new Date).getTime():console.timeEnd?console.timeEnd(u):i(s,[u+": "+((new Date).getTime()-n[u])+"ms"])):(e.level===o.WARN&&console.warn?s=console.warn:e.level===o.ERROR&&console.error?s=console.error:e.level===o.INFO&&console.info?s=console.info:e.level===o.DEBUG&&console.debug?s=console.debug:e.level===o.TRACE&&console.trace&&(s=console.trace),t.formatter(r,e),i(s,r))}},o.useDefaults=function(t){o.setLevel(t&&t.defaultLevel||o.DEBUG),o.setHandler(o.createDefaultHandler(t))},o.setDefaults=o.useDefaults,void 0===(e="function"==typeof(r=o)?r.call(n,i,n,t):r)||(t.exports=e)}()},156:function(t,n,i){var r=this&&this.Yf||(b.create?function(t,n,i,r){void 0===r&&(r=i);var e=b.getOwnPropertyDescriptor(n,i);e&&!("get"in e?!n.__esModule:e.writable||e.configurable)||(e={enumerable:!0,get:function(){return n[i]}}),b.defineProperty(t,r,e)}:function(t,n,i,r){void 0===r&&(r=i),t[r]=n[i]}),e=this&&this.Kf||function(t,n){for(var i in t)"default"===i||b.prototype.hasOwnProperty.call(n,i)||r(n,t,i)},u=this&&this.jf||function(t){return t&&t.__esModule?t:{default:t}};b.defineProperty(n,"__esModule",{value:!0}),n.Logger=void 0;var s=i(586);b.defineProperty(n,"Logger",{enumerable:!0,get:function(){return u(s).default}}),e(i(284),n),e(i(280),n),e(i(738),n),e(i(767),n)},738:function(t,n){var i,r;b.defineProperty(n,"__esModule",{value:!0}),n.QualityLimitationReason=void 0,(r=i||(n.QualityLimitationReason=i={}))[r.none=0]="none",r[r.cpu=1]="cpu",r[r.bandwidth=2]="bandwidth",r[r.other=3]="other"},280:function(t,n){b.defineProperty(n,"__esModule",{value:!0})},767:function(t,n){b.defineProperty(n,"__esModule",{value:!0})},185:function(t,n){b.defineProperty(n,"__esModule",{value:!0}),n.calculatePacketsLostRatio=n.calculateRate=n.getMediaKind=void 0,n.getMediaKind=function(t){var n=t.kind||t.mediaType;return["audio","video"].includes(n)||"inbound-rtp"!==t.type||(n=t.id.toLocaleLowerCase().includes("video")?"video":"audio"),n},n.calculateRate=function(t,n,i,r){return i&&r?(n-r)/((t-i)/1e3):0},n.calculatePacketsLostRatio=function(t,n,i,r){return 0==n?0:(t-(null!=i?i:0))/(n-(null!=r?r:0))}},284:function(t,n,i){var r,e,u,s,o,a,c,h,f,v,d,l,g,w,p,k,A=this&&this.Qf||function(t,n,i,r){return new(i||(i=et))((function(e,u){function s(t){try{a(r.next(t))}catch(t){u(t)}}function o(t){try{a(r.throw(t))}catch(t){u(t)}}function a(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(t){t(n)}))).then(s,o)}a((r=r.apply(t,n||[])).next())}))},T=this&&this.Jf||function(t,n,i,r,e){if("m"===r)throw new _("Private method is not writable");if("a"===r&&!e)throw new _("Private accessor was defined without a setter");if("function"==typeof n?t!==n||!e:!n.has(t))throw new _("Cannot write private member to an object whose class did not declare it");return"a"===r?e.call(t,i):e?e.value=i:n.set(t,i),i},S=this&&this.$f||function(t,n,i,r){if("a"===i&&!r)throw new _("Private accessor was defined without a getter");if("function"==typeof n?t!==n||!r:!n.has(t))throw new _("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(t):r?r.value:n.get(t)},E=this&&this.jf||function(t){return t&&t.__esModule?t:{default:t}};b.defineProperty(n,"__esModule",{value:!0}),n.WebRTCStats=void 0;var I=i(7),R=E(i(586)),C=i(738),N=i(185),D=function(t){function n(n){var i;return i=t.call(this)||this,r.add(i),e.set(i,void 0),u.set(i,void 0),s.set(i,void 0),o.set(i,null),a.set(i,void 0),c.set(i,null),i.start=function(){S(i,a,"f").info("WebRTC statistics collection is starting..."),T(i,c,null,"f"),T(i,o,m(S(i,h,"f"),S(i,u,"f")),"f")},i.stop=function(){S(i,o,"f")&&(y(S(i,o,"f")),T(i,o,null,"f"),S(i,a,"f").info("WebRTC statistics collection has stopped."))},h.set(i,(function(){return A(i,void 0,void 0,(function(){var t,n,i,u,o,h,f,v,g,m,y,_;return Ht(this,(function(A){switch(A.label){case 0:return A.trys.push([0,2,,3]),S(this,a,"f").trace("Requesting WebRTC statistics..."),[4,S(this,e,"f").call(this)];case 1:return t=A.sent(),n=(new Date).toISOString(),[3,3];case 2:return i=A.sent(),[2,(S(this,a,"f").error("Problem collecting the WebRTC statistics.",i),void this.emit("error","Problem collecting the WebRTC statistics - ".concat(i)))];case 3:u=Array.from(t.values()),o={timestamp:n,input:{audio:[],video:[]},output:{audio:[],video:[]}},S(this,s,"f")&&(o.rawStats=t),h=0,A.label=4;case 4:if(!(h<b.keys(u).length))return[3,19];switch((f=u[h]).type){case"outbound-rtp":return[3,5];case"inbound-rtp":return[3,11];case"candidate-pair":return[3,17]}return[3,18];case 5:return v=f,"audio"!==(g=(0,N.getMediaKind)(v))?[3,7]:[4,S(this,r,"m",d).call(this,t,v,o)];case 6:return A.sent(),[3,10];case 7:return"video"===g?[4,S(this,r,"m",l).call(this,t,v,o)]:[3,9];case 8:A.sent(),A.label=9;case 9:A.label=10;case 10:return[3,18];case 11:return m=f,"audio"!==(y=(0,N.getMediaKind)(m))?[3,13]:[4,S(this,r,"m",w).call(this,t,m,o)];case 12:return A.sent(),[3,16];case 13:return"video"===y?[4,S(this,r,"m",p).call(this,t,m,o)]:[3,15];case 14:A.sent(),A.label=15;case 15:A.label=16;case 16:return[3,18];case 17:(_=f).nominated&&S(this,r,"m",k).call(this,_,o),A.label=18;case 18:return h++,[3,4];case 19:return T(this,c,o,"f"),this.emit("stats",o),[2]}}))}))})),T(i,a,R.default.get("WebRTCStats"),"f"),T(i,e,n.getStats,"f"),T(i,u,n.getStatsInterval||1e3,"f"),T(i,s,!!n.includeRawStats,"f"),i}return It(n,t),n}(I.EventEmitter);n.WebRTCStats=D,e=new WeakMap,u=new WeakMap,s=new WeakMap,o=new WeakMap,a=new WeakMap,c=new WeakMap,h=new WeakMap,r=new WeakSet,f=function(t,n){if(n){var i=t.get(n);if(i)return{mimeType:i.mimeType}}return{}},v=function(t,n,i){return A(this,void 0,void 0,(function(){var e,u,s,o,a,c,h;return Ht(this,(function(v){return a=(0,N.calculateRate)(n.timestamp,n.bytesSent,null==i?void 0:i.timestamp,null==i?void 0:i.totalBytesSent),c=(0,N.calculateRate)(n.timestamp,n.packetsSent,null==i?void 0:i.timestamp,null==i?void 0:i.totalPacketsSent),h=S(this,r,"m",f).call(this,t,n.codecId),[2,b.assign({id:n.id,timestamp:n.timestamp,mid:n.mid,totalBytesSent:n.bytesSent,bytesSentDelta:n.bytesSent-(null!==(e=null==i?void 0:i.totalBytesSent)&&void 0!==e?e:0),totalPacketsSent:n.packetsSent,packetsSentDelta:n.packetsSent-(null!==(u=null==i?void 0:i.totalPacketsSent)&&void 0!==u?u:0),bitrate:a,packetRate:c,targetBitrate:n.targetBitrate,retransmittedPacketsSent:n.retransmittedPacketsSent,retransmittedPacketsSentDelta:n.retransmittedPacketsSent-(null!==(s=null==i?void 0:i.retransmittedPacketsSent)&&void 0!==s?s:0),retransmittedBytesSent:n.retransmittedBytesSent,retransmittedBytesSentDelta:n.retransmittedBytesSent-(null!==(o=null==i?void 0:i.retransmittedBytesSent)&&void 0!==o?o:0)},h)]}))}))},d=function(t,n,i){return A(this,void 0,void 0,(function(){var e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return(u=null===(e=S(this,c,"f"))||void 0===e?void 0:e.output.audio.find((function(t){return t.id===n.id})))&&n.timestamp-u.timestamp<=0?[2]:[4,S(this,r,"m",v).call(this,t,n,u)];case 1:return s=a.sent(),o=b.assign({},s),i.output.audio.push(o),[2]}}))}))},l=function(t,n,i){return A(this,void 0,void 0,(function(){var e,u,s,o,a;return Ht(this,(function(h){switch(h.label){case 0:return(u=null===(e=S(this,c,"f"))||void 0===e?void 0:e.output.video.find((function(t){return t.id===n.id})))&&n.timestamp-u.timestamp<=0?[2]:[4,S(this,r,"m",v).call(this,t,n,u)];case 1:return s=h.sent(),o=C.QualityLimitationReason.none,n.qualityLimitationReason&&(o=n.qualityLimitationReason),a=b.assign(b.assign({},s),{frameWidth:n.frameWidth,frameHeight:n.frameHeight,framesPerSecond:n.framesPerSecond,framesSent:n.framesSent,qualityLimitationReason:o,qualityLimitationDurations:n.qualityLimitationDurations}),i.output.video.push(a),[2]}}))}))},g=function(t,n,i){return A(this,void 0,void 0,(function(){var e,u,s,o,a,c,h;return Ht(this,(function(v){return s=(0,N.calculateRate)(n.timestamp,n.bytesReceived,null==i?void 0:i.timestamp,null==i?void 0:i.totalBytesReceived),o=(0,N.calculateRate)(n.timestamp,n.packetsReceived,null==i?void 0:i.timestamp,null==i?void 0:i.totalPacketsReceived),a=(0,N.calculatePacketsLostRatio)(n.packetsReceived,n.packetsLost,null==i?void 0:i.totalPacketsReceived,null==i?void 0:i.totalPacketsLost),c=(null!==(e=n.packetsLost)&&void 0!==e?e:0)-(null!==(u=null==i?void 0:i.totalPacketsLost)&&void 0!==u?u:0),h=S(this,r,"m",f).call(this,t,n.codecId),[2,b.assign({id:n.id,timestamp:n.timestamp,mid:n.mid,trackIdentifier:n.trackIdentifier,jitter:n.jitter,jitterBufferDelay:n.jitterBufferDelay,jitterBufferEmittedCount:n.jitterBufferEmittedCount,totalBytesReceived:n.bytesReceived,totalPacketsReceived:n.packetsReceived,totalPacketsLost:n.packetsLost,bitrate:s,packetRate:o,packetLossRatio:a,packetLossDelta:c},h)]}))}))},w=function(t,n,i){return A(this,void 0,void 0,(function(){var e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return(u=null===(e=S(this,c,"f"))||void 0===e?void 0:e.input.audio.find((function(t){return t.id===n.id})))&&n.timestamp-u.timestamp<=0?[2]:[4,S(this,r,"m",g).call(this,t,n,u)];case 1:return s=o.sent(),i.input.audio.push(s),[2]}}))}))},p=function(t,n,i){return A(this,void 0,void 0,(function(){var e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return(u=null===(e=S(this,c,"f"))||void 0===e?void 0:e.input.video.find((function(t){return t.id===n.id})))&&n.timestamp-u.timestamp<=0?[2]:[4,S(this,r,"m",g).call(this,t,n,u)];case 1:return s=a.sent(),o=b.assign(b.assign({},s),{keyFramesDecoded:n.keyFramesDecoded,frameHeight:n.frameHeight,frameWidth:n.frameWidth,framesDecoded:n.framesDecoded,framesDropped:n.framesDropped,framesPerSecond:n.framesPerSecond,framesReceived:n.framesReceived}),i.input.video.push(o),[2]}}))}))},k=function(t,n){n.totalRoundTripTime=t.totalRoundTripTime,n.currentRoundTripTime=t.currentRoundTripTime,n.responsesReceived=t.responsesReceived,n.availableOutgoingBitrate=t.availableOutgoingBitrate,n.availableIncomingBitrate=t.availableIncomingBitrate}}},r={},function t(n){var e=r[n];if(void 0!==e)return e.exports;var u=r[n]={exports:{}};return i[n].call(u.exports,u,u.exports,t),u.exports}(156))}(Ut);var Wt=Ut.exports,Xt=gt.get("PeerConnectionStats"),Gt="stats",Yt=function(t){function n(n,i){var r;return void 0===i&&(i={statsIntervalMs:1e3,autoInitStats:!0}),(r=t.call(this)||this).peer=n,r.collection=null,r.initialized=!1,i.autoInitStats&&r.init(i.statsIntervalMs),r}It(n,t);var i=n.prototype;return i.init=function(t){var n=this;if(this.initialized)Xt.warn("PeerConnectionStats.init() has already been called. Automatic initialization occurs when the PeerConnectionStats object is constructed.");else{Xt.info("Initializing peer connection stats");var i=this.peer;try{this.collection=new Wt.WebRTCStats({getStatsInterval:t,getStats:function(){return i.getStats()},includeRawStats:!0}),this.collection.on("stats",(function(t){var i=function(t){var n=t,i=(n.input,n.output,n.rawStats,C(n,["input","output","rawStats"]));return R(w({},i),{audio:{inbounds:t.input.audio.map((function(t){var n=t,i=n.packetLossRatio,r=n.packetLossDelta,e=n.bitrate,u=C(n,["packetLossRatio","packetLossDelta","bitrate"]);return w({packetsLostRatioPerSecond:i,packetsLostDeltaPerSecond:r,bitrateBitsPerSecond:8*e,bitrate:e},u)})),outbounds:t.output.audio.map((function(t){var n=t,i=n.packetLossRatio,r=n.packetLossDelta,e=n.bitrate,u=C(n,["packetLossRatio","packetLossDelta","bitrate"]);return w({packetsLostRatioPerSecond:i,packetsLostDeltaPerSecond:r,bitrateBitsPerSecond:8*e,bitrate:e},u)}))},video:{inbounds:t.input.video.map((function(t){var n=t,i=n.packetLossRatio,r=n.packetLossDelta,e=n.bitrate,u=C(n,["packetLossRatio","packetLossDelta","bitrate"]);return w({packetsLostRatioPerSecond:i,packetsLostDeltaPerSecond:r,bitrateBitsPerSecond:8*e,bitrate:e},u)})),outbounds:t.output.video.map((function(t){var n=t,i=n.packetLossRatio,r=n.packetLossDelta,e=n.bitrate,u=C(n,["packetLossRatio","packetLossDelta","bitrate"]);return w({packetsLostRatioPerSecond:i,packetsLostDeltaPerSecond:r,bitrateBitsPerSecond:8*e,bitrate:e},u)}))},raw:t.rawStats})}(t);it(i),n.emit(Gt,i)})),this.collection.start(),this.initialized=!0}catch(t){Xt.error(t)}}},i.parseStats=function(t){return Xt.warn("The parseStats method is deprecated and will be removed in future releases."),null},i.stop=function(){Xt.info("Stopping peer connection stats"),this.collection.stop()},n}(Lt),jt={},Kt={},qt={},Jt={exports:{}},Qt=Jt.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(t){return t.encoding?"rtpmap:%d %s/%s/%s":t.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(t){return null!=t.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(t){return null!=t.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(t){return"extmap:%d"+(t.direction?"/%s":"%v")+(t["encrypt-uri"]?" %s":"%v")+" %s"+(t.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(t){return null!=t.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(t){var n="candidate:%s %d %s %d %s %d typ %s";return n+=null!=t.raddr?" raddr %s rport %d":"%v%v",n+=null!=t.tcptype?" tcptype %s":"%v",null!=t.generation&&(n+=" generation %d"),n+=null!=t["network-id"]?" network-id %d":"%v",n+=null!=t["network-cost"]?" network-cost %d":"%v"}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(t){var n="ssrc:%d";return null!=t.attribute&&(n+=" %s",null!=t.value&&(n+=":%s")),n}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(t){return null!=t.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(t){return t.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(t){return"imageattr:%s %s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(t){return"simulcast:%s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(t){return"ts-refclk:%s"+(null!=t.clksrcExt?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(t){var n="mediaclk:";return n+=null!=t.id?"id=%s %s":"%v%s",n+=null!=t.mediaClockValue?"=%s":"",n+=null!=t.rateNumerator?" rate=%s":"",n+=null!=t.rateDenominator?"/%s":""}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};b.keys(Qt).forEach((function(t){Qt[t].forEach((function(t){t.reg||(t.reg=/(.*)/),t.format||(t.format="%s")}))}));var $t=Jt.exports;!function(t){var n=function(t){return String(Number(t))===t?Number(t):t},i=function(t,i,r){var e=t.name&&t.names;t.push&&!i[t.push]?i[t.push]=[]:e&&!i[t.name]&&(i[t.name]={});var u=t.push?{}:e?i[t.name]:i;(function(t,i,r,e){if(e&&!r)i[e]=n(t[1]);else for(var u=0;u<r.length;u+=1)null!=t[u+1]&&(i[r[u]]=n(t[u+1]))})(r.match(t.reg),u,t.names,t.name),t.push&&i[t.push].push(u)},r=$t,e=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(t){var n={},u=[],s=n;return t.split(/(\r\n|\r|\n)/).filter(e).forEach((function(t){var n=t[0],e=t.slice(2);"m"===n&&(u.push({rtp:[],fmtp:[]}),s=u[u.length-1]);for(var o=0;o<(r[n]||[]).length;o+=1){var a=r[n][o];if(a.reg.test(e))return i(a,s,e)}})),n.media=u,n};var u=function(t,i){var r=i.split(/=(.+)/,2);return 2===r.length?t[r[0]]=n(r[1]):1===r.length&&i.length>1&&(t[r[0]]=void 0),t};t.parseParams=function(t){return t.split(/;\s?/).reduce(u,{})},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(t){return t.toString().split(" ").map(Number)},t.parseRemoteCandidates=function(t){for(var i=[],r=t.split(" ").map(n),e=0;e<r.length;e+=3)i.push({component:r[e],ip:r[e+1],port:r[e+2]});return i},t.parseImageAttributes=function(t){return t.split(" ").map((function(t){return t.substring(1,t.length-1).split(",").reduce(u,{})}))},t.parseSimulcastStreamList=function(t){return t.split(";").map((function(t){return t.split(",").map((function(t){var i,r=!1;return"~"!==t[0]?i=n(t):(i=n(t.substring(1,t.length)),r=!0),{scid:i,paused:r}}))}))}}(qt);var nn=$t,rn=/%[sdv%]/g,en=function(t){var n=1,i=arguments,r=i.length;return t.replace(rn,(function(t){if(n>=r)return t;var e=i[n];switch(n+=1,t){case"%%":return"%";case"%s":return String(e);case"%d":return Number(e);case"%v":return""}}))},sn=function(t,n,i){var r=[t+"="+(n.format instanceof Function?n.format(n.push?i:i[n.name]):n.format)];if(n.names)for(var e=0;e<n.names.length;e+=1){var u=n.names[e];n.name?r.push(i[n.name][u]):r.push(i[n.names[e]])}else r.push(i[n.name]);return en.apply(null,r)},on=["v","o","s","i","u","e","p","c","b","t","r","z","a"],an=["i","c","b","a"],cn=qt,fn=function(t,n){n=n||{},null==t.version&&(t.version=0),null==t.name&&(t.name=" "),t.media.forEach((function(t){null==t.payloads&&(t.payloads="")}));var i=n.outerOrder||on,r=n.innerOrder||an,e=[];return i.forEach((function(n){nn[n].forEach((function(i){i.name in t&&null!=t[i.name]?e.push(sn(n,i,t)):i.push in t&&null!=t[i.push]&&t[i.push].forEach((function(t){e.push(sn(n,i,t))}))}))})),t.media.forEach((function(t){e.push(sn("m",nn.m[0],t)),r.forEach((function(n){nn[n].forEach((function(i){i.name in t&&null!=t[i.name]?e.push(sn(n,i,t)):i.push in t&&null!=t[i.push]&&t[i.push].forEach((function(t){e.push(sn(n,i,t))}))}))}))})),e.join("\r\n")+"\r\n"};Kt.write=fn,Kt.parse=cn.parse,Kt.parseParams=cn.parseParams,Kt.parseFmtpConfig=cn.parseFmtpConfig,Kt.parsePayloads=cn.parsePayloads,Kt.parseRemoteCandidates=cn.parseRemoteCandidates,Kt.parseImageAttributes=cn.parseImageAttributes,Kt.parseSimulcastStreamList=cn.parseSimulcastStreamList;var vn=function(){function t(t,n,i,r,e,u,s,o,a){this.foundation=t,this.componentId=n,this.transport=i,this.priority=r,this.address=e,this.port=u,this.type=s,this.relAddr=o,this.relPort=a}var n=t.prototype;return n.equals=function(t){return t.foundation===this.foundation&&t.componentId===this.componentId&&t.transport===this.transport&&t.priority===this.priority&&t.address===this.address&&t.port===this.port&&t.type===this.type&&t.relAddr===this.relAddr&&t.relPort===this.relPort},n.clone=function(){return new t(this.foundation,this.componentId,this.transport,this.priority,this.address,this.port,this.type,this.relAddr,this.relPort)},n.plain=function(){var t={foundation:this.foundation,componentId:this.componentId,transport:this.transport,priority:this.priority,address:this.address,port:this.port,type:this.type};return this.relAddr&&(t.relAddr=this.relAddr),this.relPort&&(t.relPort=this.relPort),t},n.getFoundation=function(){return this.foundation},n.getComponentId=function(){return this.componentId},n.getTransport=function(){return this.transport},n.getPriority=function(){return this.priority},n.getAddress=function(){return this.address},n.getPort=function(){return this.port},n.getType=function(){return this.type},n.getRelAddr=function(){return this.relAddr},n.getRelPort=function(){return this.relPort},t}();vn.expand=function(t){return"CandidateInfo"===t.constructor.name?t:new vn(t.foundation,t.componentId,t.transport,t.priority,t.address,t.port,t.type,t.relAddr,t.relPort)},vn.clone=function(t){return"CandidateInfo"===t.constructor.name?t.clone():vn.expand(t)};var dn=vn,ln=function(){function t(t,n){this.id=t,this.params=n||[]}var n=t.prototype;return n.clone=function(){return new t(this.id,this.params)},n.plain=function(){return this.params.length?{id:this.id,params:this.params}:{id:this.id}},n.getId=function(){return this.id},n.getParams=function(){return this.params},t}();ln.expand=function(t){return"RTCPFeedbackInfo"===t.constructor.name?t:new ln(t.id,t.params)},ln.clone=function(t){return"RTCPFeedbackInfo"===t.constructor.name?t.clone():ln.expand(t)};var wn=ln,mn=wn,yn=function(){function t(t,n,i){this.codec=t,this.type=n,this.params={},this.rtcpfbs=new Set,i&&this.addParams(i)}var n=t.prototype;return n.clone=function(){var n=new t(this.codec,this.type,this.params);this.hasRTX()&&n.setRTX(this.getRTX());for(var i=0,r=this.rtcpfbs;i<r.length;i++){var e=r[i];n.addRTCPFeedback(e.clone())}return this.hasChannels()&&n.setChannels(this.getChannels()),n},n.plain=function(){var t={codec:this.codec,type:this.type};this.rtx&&(t.rtx=this.rtx),this.channels&&(t.channels=this.channels),b.keys(this.params).length&&(t.params=this.params);for(var n=0,i=this.rtcpfbs;n<i.length;n++){var r=i[n];t.rtcpfbs||(t.rtcpfbs=[]),t.rtcpfbs.push(r.plain())}return t},n.setRTX=function(t){this.rtx=t},n.getType=function(){return this.type},n.setType=function(t){this.type=t},n.getCodec=function(){return this.codec},n.getParams=function(){return this.params},n.addParams=function(t){for(var n in t)this.params[n]=t[n]},n.addParam=function(t,n){this.params[t]=n},n.hasParam=function(t){return b.hasOwnProperty.call(this.params,t)},n.getParam=function(t,n){if(void 0===n&&(n=void 0),this.hasParam(t))return this.params[t];if(void 0===n)throw new p("param ".concat(t," not found and no default value provided"));return""+n},n.hasRTX=function(){return this.rtx},n.getRTX=function(){return this.rtx},n.hasChannels=function(){return this.channels},n.getChannels=function(){return this.channels},n.setChannels=function(t){this.channels=t},n.addRTCPFeedback=function(t){this.rtcpfbs.add(t)},n.getRTCPFeedbacks=function(){return this.rtcpfbs},t}();yn.expand=function(t){if("CodecInfo"===t.constructor.name)return t;var n=new yn(t.codec,t.type,t.params);t.rtx&&n.setRTX(t.rtx),t.channels&&n.setChannels(t.channels);for(var i=0,r=t.rtcpfbs||[];i<r.length;i++){var e=r[i],u=mn.expand(e);n.addRTCPFeedback(u)}return n},yn.clone=function(t){return"CodecInfo"===t.constructor.name?t.clone():yn.expand(t)},yn.MapFromNames=function(t,n,i){for(var r,e=new Map,u=96,s=0;s<t.length;s++){var o=void 0,a=t[s].split(";"),c=a.shift().toLowerCase().trim();o="pcmu"===c?0:"pcma"===c?8:++u;var h=new yn(c,o);"opus"===c?h.setChannels(2):"multiopus"===c&&h.setChannels(6),n&&"ulpfec"!==c&&"flexfec-03"!==c&&"red"!==c&&h.setRTX(++u);for(var f=0,v=i||[];f<v.length;f++){var d=v[f];h.addRTCPFeedback(new mn(d.id,d.params))}for(var l=0;l<a.length;l++){var g=a[l].split("=");h.addParam(g[0].trim(),null===(r=g[1])||void 0===r?void 0:r.trim())}e.set(o,h)}return e};var pn=yn,_n=function t(){var n=this;if(!(this instanceof t))return new(Function.prototype.bind.apply(t,[null].concat(Array.prototype.slice.call(arguments))));Array.from(arguments).forEach((function(t){n[t]=i("t_"+t)}))},bn=_n("ACTIVE","PASSIVE","ACTPASS","INACTIVE");bn.byValue=function(t){switch(t){case bn.ACTIVE:case bn.PASSIVE:case bn.ACTPASS:case bn.INACTIVE:return t}return bn[t.toUpperCase()]},bn.toString=function(t){switch(t){case bn.ACTIVE:return"active";case bn.PASSIVE:return"passive";case bn.ACTPASS:return"actpass";case bn.INACTIVE:return"inactive"}},bn.reverse=function(t,n){switch(t){case bn.ACTIVE:return bn.PASSIVE;case bn.PASSIVE:return bn.ACTIVE;case bn.ACTPASS:return n?bn.ACTIVE:bn.PASSIVE;case bn.INACTIVE:return bn.INACTIVE}};var kn=bn,An=kn,Tn=function(){function t(t,n,i){this.setup=t,this.hash=n,this.fingerprint=i}var n=t.prototype;return n.clone=function(){return new t(this.setup,this.hash,this.fingerprint)},n.plain=function(){return{setup:An.toString(this.setup),hash:this.hash,fingerprint:this.fingerprint}},n.getFingerprint=function(){return this.fingerprint},n.getHash=function(){return this.hash},n.getSetup=function(){return this.setup},n.setSetup=function(t){this.setup=t},t}();Tn.expand=function(t){return"DTLSInfo"===t.constructor.name?t:new Tn(t.setup?An.byValue(t.setup):An.ACTPASS,t.hash,t.fingerprint)},Tn.clone=function(t){return"DTLSInfo"===t.constructor.name?t.clone():Tn.expand(t)};var Sn=Tn,En=function(){function t(t,n,i,r){this.tag=t,this.suite=n,this.keyParams=i,this.sessionParams=r}var n=t.prototype;return n.clone=function(){return new t(this.tag,this.suite,this.keyParams,this.sessionParams)},n.plain=function(){return{tag:this.tag,suite:this.suite,keyParams:this.keyParams,sessionParams:this.sessionParams}},n.getSessionParams=function(){return this.sessionParams},n.getKeyParams=function(){return this.keyParams},n.getSuite=function(){return this.suite},n.getTag=function(){return this.tag},t}();En.expand=function(t){return"CryptoInfo"===t.constructor.name?t:new En(t.tag,t.suite,t.keyParams,t.sessionParams)},En.clone=function(t){return"CryptoInfo"===t.constructor.name?t.clone():En.expand(t)};for(var In=En,Rn={exports:{}},Cn={exports:{}},Nn={},Dn={byteLength:function(t){var n=Bn(t),i=n[0],r=n[1];return 3*(i+r)/4-r},toByteArray:function(t){var n,i,r=Bn(t),e=r[0],u=r[1],s=new Ln(function(t,n,i){return 3*(n+i)/4-i}(0,e,u)),o=0,a=u>0?e-4:e;for(i=0;i<a;i+=4)n=xn[t.charCodeAt(i)]<<18|xn[t.charCodeAt(i+1)]<<12|xn[t.charCodeAt(i+2)]<<6|xn[t.charCodeAt(i+3)],s[o++]=n>>16&255,s[o++]=n>>8&255,s[o++]=255&n;return 2===u&&(n=xn[t.charCodeAt(i)]<<2|xn[t.charCodeAt(i+1)]>>4,s[o++]=255&n),1===u&&(n=xn[t.charCodeAt(i)]<<10|xn[t.charCodeAt(i+1)]<<4|xn[t.charCodeAt(i+2)]>>2,s[o++]=n>>8&255,s[o++]=255&n),s},fromByteArray:function(t){for(var n,i=t.length,r=i%3,e=[],u=16383,s=0,o=i-r;s<o;s+=u)e.push(Fn(t,s,s+u>o?o:s+u));return 1===r?(n=t[i-1],e.push(Pn[n>>2]+Pn[n<<4&63]+"==")):2===r&&(n=(t[i-2]<<8)+t[i-1],e.push(Pn[n>>10]+Pn[n>>4&63]+Pn[n<<2&63]+"=")),e.join("")}},Pn=[],xn=[],Ln=(void 0===E?"undefined":U(E))<"u"?E:Array,Mn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",On=0;On<64;++On)Pn[On]=Mn[On],xn[Mn.charCodeAt(On)]=On;function Bn(t){var n=t.length;if(n%4>0)throw new p("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");return-1===i&&(i=n),[i,i===n?0:4-i%4]}function Vn(t){return Pn[t>>18&63]+Pn[t>>12&63]+Pn[t>>6&63]+Pn[63&t]}function Fn(t,n,i){for(var r,e=[],u=n;u<i;u+=3)r=(t[u]<<16&16711680)+(t[u+1]<<8&65280)+(255&t[u+2]),e.push(Vn(r));return e.join("")}xn[45]=62,xn[95]=63;var Un={read:function(t,n,i,r,e){var u,s,o=8*e-r-1,a=(1<<o)-1,c=a>>1,h=-7,f=i?e-1:0,v=i?-1:1,d=t[n+f];for(f+=v,u=d&(1<<-h)-1,d>>=-h,h+=o;h>0;u=256*u+t[n+f],f+=v,h-=8);for(s=u&(1<<-h)-1,u>>=-h,h+=r;h>0;s=256*s+t[n+f],f+=v,h-=8);if(0===u)u=1-c;else{if(u===a)return s?NaN:1/0*(d?-1:1);s+=k.pow(2,r),u-=c}return(d?-1:1)*s*k.pow(2,u-r)},write:function(t,n,i,r,e,u){var s,o,a,c=8*u-e-1,h=(1<<c)-1,f=h>>1,v=23===e?k.pow(2,-24)-k.pow(2,-77):0,d=r?0:u-1,l=r?1:-1,g=n<0||0===n&&1/n<0?1:0;for(n=k.abs(n),S(n)||n===1/0?(o=S(n)?1:0,s=h):(s=k.floor(k.log(n)/k.LN2),n*(a=k.pow(2,-s))<1&&(s--,a*=2),(n+=s+f>=1?v/a:v*k.pow(2,1-f))*a>=2&&(s++,a/=2),s+f>=h?(o=0,s=h):s+f>=1?(o=(n*a-1)*k.pow(2,e),s+=f):(o=n*k.pow(2,f-1)*k.pow(2,e),s=0));e>=8;t[i+d]=255&o,d+=l,o/=256,e-=8);for(s=s<<e|o,c+=e;c>0;t[i+d]=255&s,d+=l,s/=256,c-=8);t[i+d-l]|=128*g}};(function(t){var r=Dn,e=Un,u="function"==typeof n&&"function"==typeof i?i("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=function(t){return+t!=t&&(t=0),a.alloc(+t)},t.INSPECT_MAX_BYTES=50;var s=2147483647;function o(t){if(t>s)throw new RangeError('The value "'+t+'" is invalid for option "size"');var n=new E(t);return b.setPrototypeOf(n,a.prototype),n}function a(t,n,i){if("number"==typeof t){if("string"==typeof n)throw new _('The "string" argument must be of type string. Received type number');return f(t)}return c(t,n,i)}function c(t,i,r){if("string"==typeof t)return function(t,n){if(("string"!=typeof n||""===n)&&(n="utf8"),!a.isEncoding(n))throw new _("Unknown encoding: "+n);var i=0|g(t,n),r=o(i),e=r.write(t,n);return e!==i&&(r=r.slice(0,e)),r}(t,i);if(ArrayBuffer.isView(t))return function(t){if(it(t,E)){var n=new E(t);return d(n.buffer,n.byteOffset,n.byteLength)}return v(t)}(t);if(null==t)throw new _("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+(void 0===t?"undefined":U(t)));if(it(t,ArrayBuffer)||t&&it(t.buffer,ArrayBuffer)||("undefined"==typeof SharedArrayBuffer?"undefined":U(SharedArrayBuffer))<"u"&&(it(t,SharedArrayBuffer)||t&&it(t.buffer,SharedArrayBuffer)))return d(t,i,r);if("number"==typeof t)throw new _('The "value" argument must not be of type number. Received type number');var e=t.valueOf&&t.valueOf();if(null!=e&&e!==t)return a.from(e,i,r);var u=function(t){if(a.isBuffer(t)){var n=0|l(t.length),i=o(n);return 0===i.length||t.copy(i,0,0,n),i}return void 0!==t.length?"number"!=typeof t.length||rt(t.length)?o(0):v(t):"Buffer"===t.type&&Array.isArray(t.data)?v(t.data):void 0}(t);if(u)return u;if((void 0===n?"undefined":U(n))<"u"&&null!=n.toPrimitive&&"function"==typeof t[n.toPrimitive])return a.from(t[n.toPrimitive]("string"),i,r);throw new _("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+(void 0===t?"undefined":U(t)))}function h(t){if("number"!=typeof t)throw new _('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function f(t){return h(t),o(t<0?0:0|l(t))}function v(t){for(var n=t.length<0?0:0|l(t.length),i=o(n),r=0;r<n;r+=1)i[r]=255&t[r];return i}function d(t,n,i){if(n<0||t.byteLength<n)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<n+(i||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===n&&void 0===i?new E(t):void 0===i?new E(t,n):new E(t,n,i),b.setPrototypeOf(r,a.prototype),r}function l(t){if(t>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|t}function g(t,n){if(a.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||it(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new _('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+(void 0===t?"undefined":U(t)));var i=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===i)return 0;for(var e=!1;;)switch(n){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return $(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return tt(t).length;default:if(e)return r?-1:$(t).length;n=(""+n).toLowerCase(),e=!0}}function w(t,n,i){var r=!1;if((void 0===n||n<0)&&(n=0),n>this.length||((void 0===i||i>this.length)&&(i=this.length),i<=0)||(i>>>=0)<=(n>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return O(this,n,i);case"utf8":case"utf-8":return P(this,n,i);case"ascii":return L(this,n,i);case"latin1":case"binary":return M(this,n,i);case"base64":return D(this,n,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,n,i);default:if(r)throw new _("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function m(t,n,i){var r=t[n];t[n]=t[i],t[i]=r}function y(t,n,i,r,e){if(0===t.length)return-1;if("string"==typeof i?(r=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),rt(i=+i)&&(i=e?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(e)return-1;i=t.length-1}else if(i<0){if(!e)return-1;i=0}if("string"==typeof n&&(n=a.from(n,r)),a.isBuffer(n))return 0===n.length?-1:T(t,n,i,r,e);if("number"==typeof n)return n&=255,"function"==typeof E.prototype.indexOf?e?E.prototype.indexOf.call(t,n,i):E.prototype.lastIndexOf.call(t,n,i):T(t,[n],i,r,e);throw new _("val must be string, number or Buffer")}function T(t,n,i,r,e){var u,s=1,o=t.length,a=n.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||n.length<2)return-1;s=2,o/=2,a/=2,i/=2}function c(t,n){return 1===s?t[n]:t.readUInt16BE(n*s)}if(e){var h=-1;for(u=i;u<o;u++)if(c(t,u)===c(n,-1===h?0:u-h)){if(-1===h&&(h=u),u-h+1===a)return h*s}else-1!==h&&(u-=u-h),h=-1}else for(i+a>o&&(i=o-a),u=i;u>=0;u--){for(var f=!0,v=0;v<a;v++)if(c(t,u+v)!==c(n,v)){f=!1;break}if(f)return u}return-1}function S(t,n,i,r){i=Number(i)||0;var e=t.length-i;r?(r=Number(r))>e&&(r=e):r=e;var u,s=n.length;for(r>s/2&&(r=s/2),u=0;u<r;++u){var o=A(n.substr(2*u,2),16);if(rt(o))return u;t[i+u]=o}return u}function I(t,n,i,r){return nt($(n,t.length-i),t,i,r)}function R(t,n,i,r){return nt(function(t){for(var n=[],i=0;i<t.length;++i)n.push(255&t.charCodeAt(i));return n}(n),t,i,r)}function C(t,n,i,r){return nt(tt(n),t,i,r)}function N(t,n,i,r){return nt(function(t,n){for(var i,r,e,u=[],s=0;s<t.length&&!((n-=2)<0);++s)i=t.charCodeAt(s),r=i>>8,e=i%256,u.push(e),u.push(r);return u}(n,t.length-i),t,i,r)}function D(t,n,i){return 0===n&&i===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(n,i))}function P(t,n,i){i=k.min(t.length,i);for(var r=[],e=n;e<i;){var u=t[e],s=null,o=u>239?4:u>223?3:u>191?2:1;if(e+o<=i){var a=void 0,c=void 0,h=void 0,f=void 0;switch(o){case 1:u<128&&(s=u);break;case 2:128==(192&(a=t[e+1]))&&(f=(31&u)<<6|63&a)>127&&(s=f);break;case 3:a=t[e+1],c=t[e+2],128==(192&a)&&128==(192&c)&&(f=(15&u)<<12|(63&a)<<6|63&c)>2047&&(f<55296||f>57343)&&(s=f);break;case 4:a=t[e+1],c=t[e+2],h=t[e+3],128==(192&a)&&128==(192&c)&&128==(192&h)&&(f=(15&u)<<18|(63&a)<<12|(63&c)<<6|63&h)>65535&&f<1114112&&(s=f)}}null===s?(s=65533,o=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|1023&s),r.push(s),e+=o}return function(t){var n=t.length;if(n<=x)return String.fromCharCode.apply(String,t);for(var i="",r=0;r<n;)i+=String.fromCharCode.apply(String,t.slice(r,r+=x));return i}(r)}t.kMaxLength=s,a.TYPED_ARRAY_SUPPORT=function(){try{var t=new E(1),n={foo:function(){return 42}};return b.setPrototypeOf(n,E.prototype),b.setPrototypeOf(t,n),42===t.foo()}catch(t){return!1}}(),!a.TYPED_ARRAY_SUPPORT&&("undefined"==typeof console?"undefined":U(console))<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),b.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),b.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(t,n,i){return c(t,n,i)},b.setPrototypeOf(a.prototype,E.prototype),b.setPrototypeOf(a,E),a.alloc=function(t,n,i){return function(t,n,i){return h(t),t<=0?o(t):void 0!==n?"string"==typeof i?o(t).fill(n,i):o(t).fill(n):o(t)}(t,n,i)},a.allocUnsafe=function(t){return f(t)},a.allocUnsafeSlow=function(t){return f(t)},a.isBuffer=function(t){return null!=t&&!0===t.e_&&t!==a.prototype},a.compare=function(t,n){if(it(t,E)&&(t=a.from(t,t.offset,t.byteLength)),it(n,E)&&(n=a.from(n,n.offset,n.byteLength)),!a.isBuffer(t)||!a.isBuffer(n))throw new _('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===n)return 0;for(var i=t.length,r=n.length,e=0,u=k.min(i,r);e<u;++e)if(t[e]!==n[e]){i=t[e],r=n[e];break}return i<r?-1:r<i?1:0},a.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(t,n){if(!Array.isArray(t))throw new _('"list" argument must be an Array of Buffers');if(0===t.length)return a.alloc(0);var i;if(void 0===n)for(n=0,i=0;i<t.length;++i)n+=t[i].length;var r=a.allocUnsafe(n),e=0;for(i=0;i<t.length;++i){var u=t[i];if(it(u,E))e+u.length>r.length?(a.isBuffer(u)||(u=a.from(u)),u.copy(r,e)):E.prototype.set.call(r,u,e);else{if(!a.isBuffer(u))throw new _('"list" argument must be an Array of Buffers');u.copy(r,e)}e+=u.length}return r},a.byteLength=g,a.prototype.e_=!0,a.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var n=0;n<t;n+=2)m(this,n,n+1);return this},a.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var n=0;n<t;n+=4)m(this,n,n+3),m(this,n+1,n+2);return this},a.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var n=0;n<t;n+=8)m(this,n,n+7),m(this,n+1,n+6),m(this,n+2,n+5),m(this,n+3,n+4);return this},a.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?P(this,0,t):w.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(t){if(!a.isBuffer(t))throw new _("Argument must be a Buffer");return this===t||0===a.compare(this,t)},a.prototype.inspect=function(){var n="",i=t.INSPECT_MAX_BYTES;return n=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(n+=" ... "),"<Buffer "+n+">"},u&&(a.prototype[u]=a.prototype.inspect),a.prototype.compare=function(t,n,i,r,e){if(it(t,E)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(t))throw new _('The "target" argument must be one of type Buffer or Uint8Array. Received type '+(void 0===t?"undefined":U(t)));if(void 0===n&&(n=0),void 0===i&&(i=t?t.length:0),void 0===r&&(r=0),void 0===e&&(e=this.length),n<0||i>t.length||r<0||e>this.length)throw new RangeError("out of range index");if(r>=e&&n>=i)return 0;if(r>=e)return-1;if(n>=i)return 1;if(this===t)return 0;for(var u=(e>>>=0)-(r>>>=0),s=(i>>>=0)-(n>>>=0),o=k.min(u,s),c=this.slice(r,e),h=t.slice(n,i),f=0;f<o;++f)if(c[f]!==h[f]){u=c[f],s=h[f];break}return u<s?-1:s<u?1:0},a.prototype.includes=function(t,n,i){return-1!==this.indexOf(t,n,i)},a.prototype.indexOf=function(t,n,i){return y(this,t,n,i,!0)},a.prototype.lastIndexOf=function(t,n,i){return y(this,t,n,i,!1)},a.prototype.write=function(t,n,i,r){if(void 0===n)r="utf8",i=this.length,n=0;else if(void 0===i&&"string"==typeof n)r=n,i=this.length,n=0;else{if(!isFinite(n))throw new p("Buffer.write(string, encoding, offset[, length]) is no longer supported");n>>>=0,isFinite(i)?(i>>>=0,void 0===r&&(r="utf8")):(r=i,i=void 0)}var e=this.length-n;if((void 0===i||i>e)&&(i=e),t.length>0&&(i<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var u=!1;;)switch(r){case"hex":return S(this,t,n,i);case"utf8":case"utf-8":return I(this,t,n,i);case"ascii":case"latin1":case"binary":return R(this,t,n,i);case"base64":return C(this,t,n,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,n,i);default:if(u)throw new _("Unknown encoding: "+r);r=(""+r).toLowerCase(),u=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this.i_||this,0)}};var x=4096;function L(t,n,i){var r="";i=k.min(t.length,i);for(var e=n;e<i;++e)r+=String.fromCharCode(127&t[e]);return r}function M(t,n,i){var r="";i=k.min(t.length,i);for(var e=n;e<i;++e)r+=String.fromCharCode(t[e]);return r}function O(t,n,i){var r=t.length;(!n||n<0)&&(n=0),(!i||i<0||i>r)&&(i=r);for(var e="",u=n;u<i;++u)e+=et[t[u]];return e}function B(t,n,i){for(var r=t.slice(n,i),e="",u=0;u<r.length-1;u+=2)e+=String.fromCharCode(r[u]+256*r[u+1]);return e}function V(t,n,i){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+n>i)throw new RangeError("Trying to access beyond buffer length")}function F(t,n,i,r,e,u){if(!a.isBuffer(t))throw new _('"buffer" argument must be a Buffer instance');if(n>e||n<u)throw new RangeError('"value" argument is out of bounds');if(i+r>t.length)throw new RangeError("Index out of range")}function W(t,n,i,r,e){K(n,r,e,t,i,7);var u=Number(n&BigInt(4294967295));t[i++]=u,u>>=8,t[i++]=u,u>>=8,t[i++]=u,u>>=8,t[i++]=u;var s=Number(n>>BigInt(32)&BigInt(4294967295));return t[i++]=s,s>>=8,t[i++]=s,s>>=8,t[i++]=s,s>>=8,t[i++]=s,i}function Z(t,n,i,r,e){K(n,r,e,t,i,7);var u=Number(n&BigInt(4294967295));t[i+7]=u,u>>=8,t[i+6]=u,u>>=8,t[i+5]=u,u>>=8,t[i+4]=u;var s=Number(n>>BigInt(32)&BigInt(4294967295));return t[i+3]=s,s>>=8,t[i+2]=s,s>>=8,t[i+1]=s,s>>=8,t[i]=s,i+8}function X(t,n,i,r,e,u){if(i+r>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function G(t,n,i,r,u){return n=+n,i>>>=0,u||X(t,0,i,4),e.write(t,n,i,r,23,4),i+4}function H(t,n,i,r,u){return n=+n,i>>>=0,u||X(t,0,i,8),e.write(t,n,i,r,52,8),i+8}a.prototype.slice=function(t,n){var i=this.length;(t=~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),(n=void 0===n?i:~~n)<0?(n+=i)<0&&(n=0):n>i&&(n=i),n<t&&(n=t);var r=this.subarray(t,n);return b.setPrototypeOf(r,a.prototype),r},a.prototype.readUintLE=a.prototype.readUIntLE=function(t,n,i){t>>>=0,n>>>=0,i||V(t,n,this.length);for(var r=this[t],e=1,u=0;++u<n&&(e*=256);)r+=this[t+u]*e;return r},a.prototype.readUintBE=a.prototype.readUIntBE=function(t,n,i){t>>>=0,n>>>=0,i||V(t,n,this.length);for(var r=this[t+--n],e=1;n>0&&(e*=256);)r+=this[t+--n]*e;return r},a.prototype.readUint8=a.prototype.readUInt8=function(t,n){return t>>>=0,n||V(t,1,this.length),this[t]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(t,n){return t>>>=0,n||V(t,2,this.length),this[t]|this[t+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(t,n){return t>>>=0,n||V(t,2,this.length),this[t]<<8|this[t+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(t,n){return t>>>=0,n||V(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(t,n){return t>>>=0,n||V(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},a.prototype.readBigUInt64LE=ut((function(t){q(t>>>=0,"offset");var n=this[t],i=this[t+7];(void 0===n||void 0===i)&&J(t,this.length-8);var r=n+this[++t]*k.pow(2,8)+this[++t]*k.pow(2,16)+this[++t]*k.pow(2,24),e=this[++t]+this[++t]*k.pow(2,8)+this[++t]*k.pow(2,16)+i*k.pow(2,24);return BigInt(r)+(BigInt(e)<<BigInt(32))})),a.prototype.readBigUInt64BE=ut((function(t){q(t>>>=0,"offset");var n=this[t],i=this[t+7];(void 0===n||void 0===i)&&J(t,this.length-8);var r=n*k.pow(2,24)+this[++t]*k.pow(2,16)+this[++t]*k.pow(2,8)+this[++t],e=this[++t]*k.pow(2,24)+this[++t]*k.pow(2,16)+this[++t]*k.pow(2,8)+i;return(BigInt(r)<<BigInt(32))+BigInt(e)})),a.prototype.readIntLE=function(t,n,i){t>>>=0,n>>>=0,i||V(t,n,this.length);for(var r=this[t],e=1,u=0;++u<n&&(e*=256);)r+=this[t+u]*e;return r>=(e*=128)&&(r-=k.pow(2,8*n)),r},a.prototype.readIntBE=function(t,n,i){t>>>=0,n>>>=0,i||V(t,n,this.length);for(var r=n,e=1,u=this[t+--r];r>0&&(e*=256);)u+=this[t+--r]*e;return u>=(e*=128)&&(u-=k.pow(2,8*n)),u},a.prototype.readInt8=function(t,n){return t>>>=0,n||V(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},a.prototype.readInt16LE=function(t,n){t>>>=0,n||V(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},a.prototype.readInt16BE=function(t,n){t>>>=0,n||V(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},a.prototype.readInt32LE=function(t,n){return t>>>=0,n||V(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},a.prototype.readInt32BE=function(t,n){return t>>>=0,n||V(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},a.prototype.readBigInt64LE=ut((function(t){q(t>>>=0,"offset");var n=this[t],i=this[t+7];(void 0===n||void 0===i)&&J(t,this.length-8);var r=this[t+4]+this[t+5]*k.pow(2,8)+this[t+6]*k.pow(2,16)+(i<<24);return(BigInt(r)<<BigInt(32))+BigInt(n+this[++t]*k.pow(2,8)+this[++t]*k.pow(2,16)+this[++t]*k.pow(2,24))})),a.prototype.readBigInt64BE=ut((function(t){q(t>>>=0,"offset");var n=this[t],i=this[t+7];(void 0===n||void 0===i)&&J(t,this.length-8);var r=(n<<24)+this[++t]*k.pow(2,16)+this[++t]*k.pow(2,8)+this[++t];return(BigInt(r)<<BigInt(32))+BigInt(this[++t]*k.pow(2,24)+this[++t]*k.pow(2,16)+this[++t]*k.pow(2,8)+i)})),a.prototype.readFloatLE=function(t,n){return t>>>=0,n||V(t,4,this.length),e.read(this,t,!0,23,4)},a.prototype.readFloatBE=function(t,n){return t>>>=0,n||V(t,4,this.length),e.read(this,t,!1,23,4)},a.prototype.readDoubleLE=function(t,n){return t>>>=0,n||V(t,8,this.length),e.read(this,t,!0,52,8)},a.prototype.readDoubleBE=function(t,n){return t>>>=0,n||V(t,8,this.length),e.read(this,t,!1,52,8)},a.prototype.writeUintLE=a.prototype.writeUIntLE=function(t,n,i,r){t=+t,n>>>=0,i>>>=0,r||F(this,t,n,i,k.pow(2,8*i)-1,0);var e=1,u=0;for(this[n]=255&t;++u<i&&(e*=256);)this[n+u]=t/e&255;return n+i},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(t,n,i,r){t=+t,n>>>=0,i>>>=0,r||F(this,t,n,i,k.pow(2,8*i)-1,0);var e=i-1,u=1;for(this[n+e]=255&t;--e>=0&&(u*=256);)this[n+e]=t/u&255;return n+i},a.prototype.writeUint8=a.prototype.writeUInt8=function(t,n,i){return t=+t,n>>>=0,i||F(this,t,n,1,255,0),this[n]=255&t,n+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(t,n,i){return t=+t,n>>>=0,i||F(this,t,n,2,65535,0),this[n]=255&t,this[n+1]=t>>>8,n+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(t,n,i){return t=+t,n>>>=0,i||F(this,t,n,2,65535,0),this[n]=t>>>8,this[n+1]=255&t,n+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(t,n,i){return t=+t,n>>>=0,i||F(this,t,n,4,4294967295,0),this[n+3]=t>>>24,this[n+2]=t>>>16,this[n+1]=t>>>8,this[n]=255&t,n+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(t,n,i){return t=+t,n>>>=0,i||F(this,t,n,4,4294967295,0),this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t,n+4},a.prototype.writeBigUInt64LE=ut((function(t,n){return void 0===n&&(n=0),W(this,t,n,BigInt(0),BigInt("0xffffffffffffffff"))})),a.prototype.writeBigUInt64BE=ut((function(t,n){return void 0===n&&(n=0),Z(this,t,n,BigInt(0),BigInt("0xffffffffffffffff"))})),a.prototype.writeIntLE=function(t,n,i,r){if(t=+t,n>>>=0,!r){var e=k.pow(2,8*i-1);F(this,t,n,i,e-1,-e)}var u=0,s=1,o=0;for(this[n]=255&t;++u<i&&(s*=256);)t<0&&0===o&&0!==this[n+u-1]&&(o=1),this[n+u]=(t/s>>0)-o&255;return n+i},a.prototype.writeIntBE=function(t,n,i,r){if(t=+t,n>>>=0,!r){var e=k.pow(2,8*i-1);F(this,t,n,i,e-1,-e)}var u=i-1,s=1,o=0;for(this[n+u]=255&t;--u>=0&&(s*=256);)t<0&&0===o&&0!==this[n+u+1]&&(o=1),this[n+u]=(t/s>>0)-o&255;return n+i},a.prototype.writeInt8=function(t,n,i){return t=+t,n>>>=0,i||F(this,t,n,1,127,-128),t<0&&(t=255+t+1),this[n]=255&t,n+1},a.prototype.writeInt16LE=function(t,n,i){return t=+t,n>>>=0,i||F(this,t,n,2,32767,-32768),this[n]=255&t,this[n+1]=t>>>8,n+2},a.prototype.writeInt16BE=function(t,n,i){return t=+t,n>>>=0,i||F(this,t,n,2,32767,-32768),this[n]=t>>>8,this[n+1]=255&t,n+2},a.prototype.writeInt32LE=function(t,n,i){return t=+t,n>>>=0,i||F(this,t,n,4,2147483647,-2147483648),this[n]=255&t,this[n+1]=t>>>8,this[n+2]=t>>>16,this[n+3]=t>>>24,n+4},a.prototype.writeInt32BE=function(t,n,i){return t=+t,n>>>=0,i||F(this,t,n,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t,n+4},a.prototype.writeBigInt64LE=ut((function(t,n){return void 0===n&&(n=0),W(this,t,n,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),a.prototype.writeBigInt64BE=ut((function(t,n){return void 0===n&&(n=0),Z(this,t,n,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),a.prototype.writeFloatLE=function(t,n,i){return G(this,t,n,!0,i)},a.prototype.writeFloatBE=function(t,n,i){return G(this,t,n,!1,i)},a.prototype.writeDoubleLE=function(t,n,i){return H(this,t,n,!0,i)},a.prototype.writeDoubleBE=function(t,n,i){return H(this,t,n,!1,i)},a.prototype.copy=function(t,n,i,r){if(!a.isBuffer(t))throw new _("argument should be a Buffer");if(i||(i=0),!r&&0!==r&&(r=this.length),n>=t.length&&(n=t.length),n||(n=0),r>0&&r<i&&(r=i),r===i||0===t.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-n<r-i&&(r=t.length-n+i);var e=r-i;return this===t&&"function"==typeof E.prototype.copyWithin?this.copyWithin(n,i,r):E.prototype.set.call(t,this.subarray(i,r),n),e},a.prototype.fill=function(t,n,i,r){if("string"==typeof t){if("string"==typeof n?(r=n,n=0,i=this.length):"string"==typeof i&&(r=i,i=this.length),void 0!==r&&"string"!=typeof r)throw new _("encoding must be a string");if("string"==typeof r&&!a.isEncoding(r))throw new _("Unknown encoding: "+r);if(1===t.length){var e=t.charCodeAt(0);("utf8"===r&&e<128||"latin1"===r)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(n<0||this.length<n||this.length<i)throw new RangeError("Out of range index");if(i<=n)return this;var u;if(n>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0),"number"==typeof t)for(u=n;u<i;++u)this[u]=t;else{var s=a.isBuffer(t)?t:a.from(t,r),o=s.length;if(0===o)throw new _('The value "'+t+'" is invalid for argument "value"');for(u=0;u<i-n;++u)this[u+n]=s[u%o]}return this};var z={};function Y(t,n,i){z[t]=function(i){function r(){var r;return r=i.call(this)||this,b.defineProperty(r,"message",{value:n.apply(r,arguments),writable:!0,configurable:!0}),r.name="".concat(r.name," [").concat(t,"]"),r.stack,delete r.name,r}return It(r,i),r.prototype.toString=function(){return"".concat(this.name," [").concat(t,"]: ").concat(this.message)},Nt(r,[{key:"code",get:function(){return t},set:function(t){b.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}}]),r}(i)}function j(t){for(var n="",i=t.length,r="-"===t[0]?1:0;i>=r+4;i-=3)n="_".concat(t.slice(i-3,i)).concat(n);return"".concat(t.slice(0,i)).concat(n)}function K(t,n,i,r,e,u){if(t>i||t<n){var s,o="bigint"==(void 0===n?"undefined":U(n))?"n":"";throw s=0===n||n===BigInt(0)?">= 0".concat(o," and < 2").concat(o," ** ").concat(8*(u+1)).concat(o):">= -(2".concat(o," ** ").concat(8*(u+1)-1).concat(o,") and < 2 ** ")+"".concat(8*(u+1)-1).concat(o),new z.ERR_OUT_OF_RANGE("value",s,t)}!function(t,n,i){q(n,"offset"),(void 0===t[n]||void 0===t[n+i])&&J(n,t.length-(i+1))}(r,e,u)}function q(t,n){if("number"!=typeof t)throw new z.ERR_INVALID_ARG_TYPE(n,"number",t)}function J(t,n,i){throw k.floor(t)!==t?(q(t,i),new z.ERR_OUT_OF_RANGE("offset","an integer",t)):n<0?new z.ERR_BUFFER_OUT_OF_BOUNDS:new z.ERR_OUT_OF_RANGE("offset",">= 0 and <= ".concat(n),t)}Y("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?"".concat(t," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"}),RangeError),Y("ERR_INVALID_ARG_TYPE",(function(t,n){return'The "'.concat(t,'" argument must be of type number. Received type ').concat(void 0===n?"undefined":U(n))}),_),Y("ERR_OUT_OF_RANGE",(function(t,n,i){var r='The value of "'.concat(t,'" is out of range.'),e=i;return Number.isInteger(i)&&k.abs(i)>k.pow(2,32)?e=j(String(i)):"bigint"==(void 0===i?"undefined":U(i))&&(e=String(i),(i>k.pow(BigInt(2),BigInt(32))||i<-k.pow(BigInt(2),BigInt(32)))&&(e=j(e)),e+="n"),r+=" It must be ".concat(n,". Received ").concat(e)}),RangeError);var Q=/[^+/0-9A-Za-z-_]/g;function $(t,n){var i;n=n||1/0;for(var r=t.length,e=null,u=[],s=0;s<r;++s){if((i=t.charCodeAt(s))>55295&&i<57344){if(!e){if(i>56319){(n-=3)>-1&&u.push(239,191,189);continue}if(s+1===r){(n-=3)>-1&&u.push(239,191,189);continue}e=i;continue}if(i<56320){(n-=3)>-1&&u.push(239,191,189),e=i;continue}i=65536+(e-55296<<10|i-56320)}else e&&(n-=3)>-1&&u.push(239,191,189);if(e=null,i<128){if((n-=1)<0)break;u.push(i)}else if(i<2048){if((n-=2)<0)break;u.push(i>>6|192,63&i|128)}else if(i<65536){if((n-=3)<0)break;u.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new p("Invalid code point");if((n-=4)<0)break;u.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return u}function tt(t){return r.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(Q,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function nt(t,n,i,r){var e;for(e=0;e<r&&!(e+i>=n.length||e>=t.length);++e)n[e+i]=t[e];return e}function it(t,n){return t instanceof n||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===n.name}function rt(t){return t!=t}var et=function(){for(var t="0123456789abcdef",n=new Array(256),i=0;i<16;++i)for(var r=16*i,e=0;e<16;++e)n[r+e]=t[i]+t[e];return n}();function ut(t){return("undefined"==typeof BigInt?"undefined":U(BigInt))>"u"?st:t}function st(){throw new p("BigInt not supported")}})(Nn),function(t,n){var i=Nn,r=i.Buffer;function e(t,n){for(var i in t)n[i]=t[i]}function u(t,n,i){return r(t,n,i)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=i:(e(i,n),n.Buffer=u),u.prototype=b.create(r.prototype),e(r,u),u.from=function(t,n,i){if("number"==typeof t)throw new _("Argument must not be a number");return r(t,n,i)},u.alloc=function(t,n,i){if("number"!=typeof t)throw new _("Argument must be a number");var e=r(t);return void 0!==n?"string"==typeof i?e.fill(n,i):e.fill(n):e.fill(0),e},u.allocUnsafe=function(t){if("number"!=typeof t)throw new _("Argument must be a number");return r(t)},u.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new _("Argument must be a number");return i.SlowBuffer(t)}}(Cn,Cn.exports);var Wn=65536,Zn=Cn.exports.Buffer,Xn=N.crypto||N.msCrypto;Xn&&Xn.getRandomValues?Rn.exports=function(t,n){if(t>4294967295)throw new RangeError("requested too many random bytes");var i=Zn.allocUnsafe(t);if(t>0)if(t>Wn)for(var r=0;r<t;r+=Wn)Xn.getRandomValues(i.slice(r,r+Wn));else Xn.getRandomValues(i);return"function"==typeof n?process.nextTick((function(){n(null,i)})):i}:Rn.exports=function(){throw new p("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")};var Gn=Rn.exports,Hn=function(){function t(t,n){this.ufrag=t,this.pwd=n,this.lite=!1,this.endOfCandidates=!1}var n=t.prototype;return n.clone=function(){var n=new t(this.ufrag,this.pwd);return n.setLite(this.lite),n.setEndOfCandidates(this.endOfCandidates),n},n.plain=function(){var t={ufrag:this.ufrag,pwd:this.pwd};return this.lite&&(t.lite=this.lite),this.endOfCandidates&&(t.endOfCandidates=this.endOfCandidates),t},n.getUfrag=function(){return this.ufrag},n.getPwd=function(){return this.pwd},n.isLite=function(){return this.lite},n.setLite=function(t){this.lite=t},n.isEndOfCandidates=function(){return this.endOfCandidates},n.setEndOfCandidates=function(t){this.endOfCandidates=t},t}();Hn.generate=function(t){var n=new Hn,i=Gn(8),r=Gn(24);return n.ufrag=i.toString("hex"),n.pwd=r.toString("hex"),n.lite=t,n},Hn.expand=function(t){if("ICEInfo"===t.constructor.name)return t;var n=new Hn(t.ufrag,t.pwd);return n.setLite(t.lite),n.setEndOfCandidates(t.endOfCandidates),n},Hn.clone=function(t){return"ICEInfo"===t.constructor.name?t.clone():Hn.expand(t)};var zn=Hn,Yn=_n("SEND","RECV");Yn.byValue=function(t){return Yn[t.toUpperCase()]},Yn.toString=function(t){switch(t){case Yn.SEND:return"send";case Yn.RECV:return"recv"}},Yn.reverse=function(t){switch(t){case Yn.SEND:return Yn.RECV;case Yn.RECV:return Yn.SEND}};var jn=Yn,Kn=jn,qn=function(){function t(t,n){this.id=t,this.direction=n,this.formats=[],this.params=new Map}var n=t.prototype;return n.clone=function(){var n=new t(this.id,this.direction);return n.setFormats(this.formats),n.setParams(this.params),n},n.plain=function(){var t={id:this.id,direction:Kn.toString(this.direction)};this.formats&&(t.formats=this.formats);for(var n=0,i=this.params.entries();n<i.length;n++){var r=tn(i[n],2),e=r[0],u=r[1];t.params||(t.params={}),t.params[e]=u}return t},n.getId=function(){return this.id},n.getDirection=function(){return this.direction},n.setDirection=function(t){this.direction=t},n.getFormats=function(){return this.formats},n.setFormats=function(t){this.formats=[];for(var n=0;n<t.length;++n)this.formats.push(A(t[n]))},n.getParams=function(){return this.params},n.setParams=function(t){this.params=new Map(t)},n.addParam=function(t,n){this.params.set(t,n)},t}();qn.expand=function(t){if("RIDInfo"===t.constructor.name)return t;for(var n=new qn(t.id,Kn.byValue(t.direction)),i=0,r=b.entries(t.params||{});i<r.length;i++){var e=tn(r[i],2),u=e[0],s=e[1];n.addParam(u,s)}return t.formats&&n.setFormats(t.formats),n},qn.clone=function(t){return"RIDInfo"===t.constructor.name?t.clone():qn.expand(t)};var Jn=qn,Qn=function(){function t(t,n){this.paused=n,this.id=t}var n=t.prototype;return n.clone=function(){return new t(this.id,this.paused)},n.plain=function(){return{id:this.id,paused:this.paused}},n.isPaused=function(){return this.paused},n.getId=function(){return this.id},t}();Qn.expand=function(t){return"SimulcastStreamInfo"===t.constructor.name?t:new Qn(t.id,t.paused)},Qn.clone=function(t){return"SimulcastStreamInfo"===t.constructor.name?t.clone():Qn.expand(t)};var $n=Qn,ti=$n,ni=jn,ii=function(){function t(){this.send=[],this.recv=[]}var n=t.prototype;return n.clone=function(){for(var n=new t,i=0,r=this.send;i<r.length;i++){var e=r[i];n.addSimulcastAlternativeStreams(ni.SEND,e.map((function(t){return t.clone()})))}for(var u=0,s=this.recv;u<s.length;u++){var o=s[u];n.addSimulcastAlternativeStreams(ni.RECV,o.map((function(t){return t.clone()})))}return n},n.plain=function(){for(var t={send:[],recv:[]},n=0,i=this.send;n<i.length;n++){var r=i[n];t.send.push(r.map((function(t){return t.plain()})))}for(var e=0,u=this.recv;e<u.length;e++){var s=u[e];t.recv.push(s.map((function(t){return t.plain()})))}return t},n.addSimulcastAlternativeStreams=function(t,n){return t===ni.SEND?this.send.push(n):this.recv.push(n)},n.addSimulcastStream=function(t,n){return t===ni.SEND?this.send.push([n]):this.recv.push([n])},n.getSimulcastStreams=function(t){return t===ni.SEND?this.send:this.recv},t}();ii.expand=function(t){if("SimulcastInfo"===t.constructor.name)return t;for(var n=new ii,i=0,r=t.send||[];i<r.length;i++){var e=r[i];n.addSimulcastAlternativeStreams(ni.SEND,e.map(ti.expand))}for(var u=0,s=t.recv||[];u<s.length;u++){var o=s[u];n.addSimulcastAlternativeStreams(ni.RECV,o.map(ti.expand))}return n},ii.clone=function(t){return"SimulcastInfo"===t.constructor.name?t.clone():ii.expand(t)};var ri=ii,ei=_n("SENDRECV","SENDONLY","RECVONLY","INACTIVE");ei.byValue=function(t){return ei[t.toUpperCase()]},ei.toString=function(t){switch(t){case ei.SENDRECV:return"sendrecv";case ei.SENDONLY:return"sendonly";case ei.RECVONLY:return"recvonly";case ei.INACTIVE:return"inactive"}},ei.reverse=function(t){switch(t){case ei.SENDRECV:return ei.SENDRECV;case ei.SENDONLY:return ei.RECVONLY;case ei.RECVONLY:return ei.SENDONLY;case ei.INACTIVE:return ei.INACTIVE}};var ui=ei,si=function(){function t(t,n){this.port=t,this.maxMessageSize=n}var n=t.prototype;return n.clone=function(){return new t(this.port,this.maxMessageSize)},n.plain=function(){return{port:this.port,maxMessageSize:this.maxMessageSize}},n.getPort=function(){return this.port},n.getMaxMessageSize=function(){return this.maxMessageSize},t}();si.expand=function(t){return"DataChannelInfo"===t.constructor.name?t:new si(t.port,t.maxMessageSize)},si.clone=function(t){return"DataChannelInfo"===t.constructor.name?t.clone():si.expand(t)};var oi=si,ai=pn,ci=Jn,hi=ri,fi=ui,vi=jn,di=oi,li=function(){function t(t,n){this.id=t,this.type=n,this.direction=fi.SENDRECV,this.extensions=new Map,this.codecs=new Map,this.rids=new Map,this.simulcast=null,this.bitrate=0,this.control=null,this.dataChannel=null}var n=t.prototype;return n.clone=function(){var n=new t(this.id,this.type);n.setDirection(this.direction),n.setBitrate(this.bitrate);for(var i=0,r=this.codecs.values();i<r.length;i++){var e=r[i];n.addCodec(e.clone())}for(var u=0,s=this.extensions.entries();u<s.length;u++){var o=tn(s[u],2),a=o[0],c=o[1];n.addExtension(a,c)}for(var h=0,f=this.rids.values();h<f.length;h++){var v=f[h];n.addRID(v.clone())}return this.simulcast&&n.setSimulcast(this.simulcast.clone()),this.control&&n.setControl(this.control),this.dataChannel&&n.setDataChannel(this.dataChannel.clone()),n},n.plain=function(){var t={id:this.id,type:this.type,direction:fi.toString(this.direction),codecs:[]};this.dataChannel&&(t.dataChannel=this.dataChannel.plain()),this.bitrate&&(t.bitrate=this.bitrate);for(var n=0,i=this.codecs.values();n<i.length;n++){var r=i[n];t.codecs.push(r.plain())}for(var e=0,u=this.extensions.entries();e<u.length;e++){var s=tn(u[e],2),o=s[0],a=s[1];t.extensions||(t.extensions={}),t.extensions[o]=a}for(var c=0,h=this.rids.values();c<h.length;c++){var f=h[c];t.rids||(t.rids=[]),t.rids.push(f.plain())}return this.simulcast&&(t.simulcast=this.simulcast.plain()),this.control&&(t.control=this.control),t},n.getType=function(){return this.type},n.getId=function(){return this.id},n.setId=function(t){this.id=t},n.addExtension=function(t,n){this.extensions.set(t,n)},n.addRID=function(t){this.rids.set(t.getId(),t)},n.addCodec=function(t){this.codecs.set(t.getType(),t)},n.setCodecs=function(t){this.codecs=t},n.getCodecForType=function(t){return this.codecs.get(t)},n.getCodec=function(t){for(var n=0,i=this.codecs.values();n<i.length;n++){var r=i[n];if(r.getCodec().toLowerCase()===t.toLowerCase())return r}return null},n.hasCodec=function(t){return null!==this.getCodec(t)},n.getCodecs=function(){return this.codecs},n.hasRTX=function(){for(var t=0,n=this.codecs.values();t<n.length;t++)if(n[t].hasRTX())return!0;return!1},n.getExtensions=function(){return this.extensions},n.getRIDs=function(){return this.rids},n.getRID=function(t){return this.rids.get(t)},n.getBitrate=function(){return this.bitrate},n.setBitrate=function(t){this.bitrate=t},n.getDirection=function(){return this.direction},n.setDirection=function(t){this.direction=t},n.hasControl=function(){return!!this.control},n.getControl=function(){return this.control},n.setControl=function(t){this.control=t},n.hasDataChannel=function(){return!!this.dataChannel},n.getDataChannel=function(){return this.dataChannel},n.setDataChannel=function(t){this.dataChannel=t},n.answer=function(n){var i=new t(this.id,this.type);if(n){i.setDirection(fi.reverse(this.direction));var r=n.codecs,e=n.dataChannel;if(r){var u;u=Array.isArray(r)?ai.MapFromNames(r,n.rtx,n.rtcpfbs):r;for(var s=0,o=this.codecs.values();s<o.length;s++)for(var a=o[s],c=0,h=u.values();c<h.length;c++){var f=h[c];if(!(f.getCodec().toLowerCase()!==a.getCodec().toLowerCase()||"h264"===f.getCodec()&&f.hasParam("packetization-mode")&&f.getParam("packetization-mode")!=a.getParam("packetization-mode","0")||"h264"===f.getCodec()&&f.hasParam("profile-level-id")&&a.hasParam("profile-level-id")&&f.getParam("profile-level-id")!=a.getParam("profile-level-id")||"multiopus"===f.getCodec()&&f.hasParam("num_streams")&&a.hasParam("num_streams")&&f.getParam("num_streams")!=a.getParam("num_streams"))){var v=f.clone();v.setType(a.getType()),v.hasRTX()&&v.setRTX(a.getRTX()),a.hasChannels()&&v.setChannels(a.getChannels()),v.addParams(a.getParams()),i.addCodec(v);break}}}for(var d=new Set(n.extensions),l=0,g=this.extensions;l<g.length;l++){var w=tn(g[l],2),m=w[0],y=w[1];d.has(y)&&i.addExtension(m,y)}if(n.simulcast&&this.simulcast){var p=new hi,_=this.simulcast.getSimulcastStreams(vi.SEND);if(_)for(var b=0;b<_.length;b++){var k=_[b].map((function(t){return t.clone()}));p.addSimulcastAlternativeStreams(vi.RECV,k)}var A=this.simulcast.getSimulcastStreams(vi.RECV);if(A)for(var T=0;T<A.length;T++){var S=A[T].map((function(t){return t.clone()}));p.addSimulcastAlternativeStreams(vi.SEND,S)}for(var E=0,I=this.rids.values();E<I.length;E++){var R=I[E],C=R.clone();C.setDirection(vi.reverse(R.getDirection())),i.addRID(C)}i.setSimulcast(p)}if(e&&this.dataChannel){var N=new di(this.dataChannel.getPort(),e.maxMessageSize?e.maxMessageSize:this.dataChannel.getMaxMessageSize());i.setDataChannel(N)}}else i.setDirection(fi.INACTIVE);return i},n.getSimulcast=function(){return this.simulcast},n.setSimulcast=function(t){this.simulcast=t},t}();function gi(t){var n=t.toString();if(!/^\d+$/.test(n))throw new p("invalid integer ".concat(n));return A(n)}li.create=function(t,n,i){!i&&"string"!=typeof n&&(i=n,n=t);var r=new li(t,n);if(i){var e=i.codecs;e&&(Array.isArray(e)?r.setCodecs(ai.MapFromNames(e,i.rtx,i.rtcpfbs)):r.setCodecs(e))}else r.setDirection(fi.INACTIVE);return r},li.expand=function(t){if("MediaInfo"===t.constructor.name)return t;var n=new li(t.id,t.type);if(t.direction&&n.setDirection(fi.byValue(t.direction)),n.setBitrate(t.bitrate),t.dataChannel){var i=di.expand(t.dataChannel);i&&n.setDataChannel(i)}for(var r=0,e=b.entries(t.extensions);r<e.length;r++){var u=tn(e[r],2),s=u[0],o=u[1];n.addExtension(gi(s),o)}for(var a=0,c=t.codecs;a<c.length;a++){var h=c[a],f=ai.expand(h);f&&n.addCodec(f)}for(var v=0,d=t.rids||[];v<d.length;v++){var l=d[v],g=ci.expand(l);n.addRID(g)}return t.simulcast&&n.setSimulcast(hi.expand(t.simulcast)),t.control&&n.setControl(t.control),n},li.clone=function(t){return"MediaInfo"===t.constructor.name?t.clone():li.expand(t)};var wi=li,mi=function(){function t(t,n){this.semantics=t,this.ssrcs=[];for(var i=0;i<n.length;++i)this.ssrcs.push(A(n[i]))}var n=t.prototype;return n.clone=function(){return new t(this.semantics,this.ssrcs)},n.plain=function(){for(var t={semantics:this.semantics,ssrcs:[]},n=0;n<this.ssrcs.length;++n)t.ssrcs.push(this.ssrcs[n]);return t},n.getSemantics=function(){return this.semantics},n.getSSRCs=function(){return this.ssrcs},t}();mi.expand=function(t){return"SourceGroupInfo"===t.constructor.name?t:new mi(t.semantics,t.ssrcs)},mi.clone=function(t){return"SourceGroupInfo"===t.constructor.name?t.clone():mi.expand(t)};var yi=mi,pi=function(){function t(t){this.ssrc=t}var n=t.prototype;return n.clone=function(){var n=new t(this.ssrc);return n.setCName(this.cname),n.setStreamId(this.streamId),n.setTrackId(this.trackId),n},n.plain=function(){var t={ssrc:this.ssrc};return this.cname&&(t.cname=this.cname),this.streamId&&(t.streamId=this.streamId),this.trackId&&(t.trackId=this.trackId),t},n.getCName=function(){return this.cname},n.setCName=function(t){this.cname=t},n.getStreamId=function(){return this.streamId},n.setStreamId=function(t){this.streamId=t},n.getTrackId=function(){return this.trackId},n.setTrackId=function(t){this.trackId=t},n.getSSRC=function(){return this.ssrc},t}();pi.expand=function(t){if("SourceInfo"===t.constructor.name)return t;var n=new pi(t.ssrc);return n.setCName(t.cname),n.setStreamId(t.streamId),n.setTrackId(t.trackId),n},pi.clone=function(t){return"SourceInfo"===t.constructor.name?t.clone():pi.expand(t)};var _i=pi,bi=pn,ki=function(){function t(t,n){void 0===n&&(n=!1),this.id=t,this.paused=n,this.codecs=new Map,this.params=new Map}var n=t.prototype;return n.clone=function(){for(var n=new t(this.id,this.paused),i=0,r=this.codecs.values();i<r.length;i++){var e=r[i];n.addCodec(e.clone())}return n.setParams(this.params),n},n.plain=function(){for(var t={id:this.id,paused:this.paused,codecs:{},params:{}},n=0,i=this.codecs.entries();n<i.length;n++){var r=tn(i[n],2),e=r[0],u=r[1];t.codecs[e]=u.plain()}for(var s=0,o=this.params.entries();s<o.length;s++){var a=tn(o[s],2),c=(e=a[0],a[1]);t.params[e]=c}return t},n.getId=function(){return this.id},n.getCodecs=function(){return this.codecs},n.addCodec=function(t){this.codecs.set(t.getType(),t)},n.getParams=function(){return this.params},n.setParams=function(t){this.params=new Map(t)},n.addParam=function(t,n){this.params.set(t,n)},n.isPaused=function(){return this.paused},t}();ki.expand=function(t){if("TrackEncodingInfo"===t.constructor.name)return t;for(var n=new ki(t.id,t.paused),i=0,r=b.values(t.codecs||{});i<r.length;i++){var e=r[i];n.addCodec(bi.expand(e))}for(var u=0,s=b.entries(t.params||{});u<s.length;u++){var o=tn(s[u],2),a=o[0],c=o[1];n.addParam(a,c)}return n},ki.clone=function(t){return"TrackEncodingInfo"===t.constructor.name?t.clone():ki.expand(t)};var Ai=ki,Ti=yi,Si=Ai,Ei=function(){function t(t,n){this.media=t,this.id=n,this.ssrcs=[],this.groups=[],this.encodings=[]}var n=t.prototype;return n.clone=function(){var n=new t(this.media,this.id);this.mediaId&&n.setMediaId(this.mediaId);for(var i=0;i<this.ssrcs.length;++i)n.addSSRC(this.ssrcs[i]);for(var r=0;r<this.groups.length;++r)n.addSourceGroup(this.groups[r].clone());for(var e=0;e<this.encodings.length;++e){for(var u=[],s=0;s<this.encodings[e].length;++s)u.push(this.encodings[e][s].clone());n.addAlternativeEncodings(u)}return n},n.plain=function(){var t={media:this.media,id:this.id,ssrcs:[]};this.mediaId&&(t.mediaId=this.mediaId);for(var n=0;n<this.ssrcs.length;++n)t.ssrcs.push(this.ssrcs[n]);for(var i=0;i<this.groups.length;++i)t.groups||(t.groups=[]),t.groups.push(this.groups[i].plain());for(var r=0;r<this.encodings.length;++r){for(var e=[],u=0;u<this.encodings[r].length;++u)e.push(this.encodings[r][u].plain());e.length&&(t.encodings||(t.encodings=[]),t.encodings.push(e))}return t},n.getMedia=function(){return this.media},n.setMediaId=function(t){this.mediaId=t},n.getMediaId=function(){return this.mediaId},n.getId=function(){return this.id},n.addSSRC=function(t){this.ssrcs.push(t)},n.getSSRCs=function(){return this.ssrcs},n.addSourceGroup=function(t){this.groups.push(t)},n.getSourceGroup=function(t){for(var n=0,i=this.groups;n<i.length;n++){var r=i[n];if(r.getSemantics().toLowerCase()===t.toLowerCase())return r}return null},n.getSourceGroups=function(){return this.groups},n.getSourceGroupsForMediaSSRC=function(t){return this.groups.filter((function(n){return n.getSSRCs()[0]===t}))},n.hasSourceGroup=function(t){for(var n=0,i=this.groups;n<i.length;n++)if(i[n].getSemantics().toLowerCase()===t.toLowerCase())return!0;return!1},n.getEncodings=function(){return this.encodings},n.addEncoding=function(t){this.encodings.push([t])},n.addAlternativeEncodings=function(t){this.encodings.push(t)},n.setEncodings=function(t){this.encodings=t},n.getEncodingSources=function(){var t=[];if(this.encodings.length)for(var n=0,i=this.encodings;n<i.length;n++)for(var r=i[n],e=0;e<r.length;e++){var u=r[e],s={id:u.getId(),rid:u.getId()},o=u.getParams(),a=null==o?void 0:o.get("ssrc");if(void 0!==a){s.media=A(a);for(var c=0,h=this.getSourceGroupsForMediaSSRC(s.media);c<h.length;c++){var f=h[c];switch(f.getSemantics()){case"FID":s.rtx=f.getSSRCs()[1];break;case"FEC-FR":s.fec=f.getSSRCs()[1]}}}t.push(s)}else if(this.hasSourceGroup("SIM")){var v=this.getSourceGroup("SIM").getSSRCs();this.getSourceGroups();for(var d=0;d<v.length;d++){for(var l=v[d],g={id:String(l),media:l},w=0,m=this.getSourceGroupsForMediaSSRC(g.media);w<m.length;w++){var y=m[w];switch(y.getSemantics()){case"FID":g.rtx=y.getSSRCs()[1];break;case"FEC-FR":g.fec=y.getSSRCs()[1]}}t.push(g)}}else{var p={id:""};if(this.ssrcs.length){p.media=this.ssrcs[0];for(var _=0,b=this.getSourceGroupsForMediaSSRC(p.media);_<b.length;_++){var k=b[_];switch(k.getSemantics()){case"FID":p.rtx=k.getSSRCs()[1];break;case"FEC-FR":p.fec=k.getSSRCs()[1]}}}t.push(p)}return t},t}();Ei.expand=function(t){var n,i;if("TrackInfo"===t.constructor.name)return t;var r=new Ei(t.media,t.id);if(t.mediaId&&r.setMediaId(t.mediaId),Array.isArray(t.ssrcs))for(var e=0,u=t.ssrcs;e<u.length;e++){var s=u[e];r.addSSRC(s)}else if(void 0!==(null===(n=t.ssrcs)||void 0===n?void 0:n.media)){var o=t.ssrcs.media;if(r.addSSRC(o),void 0!==t.ssrcs.rtx){var a=t.ssrcs.rtx;r.addSSRC(a),r.addSourceGroup(new Ti("FID",[o,a]))}if(void 0!==t.ssrcs.fec){var c=t.ssrcs.fec;r.addSSRC(c),r.addSourceGroup(new Ti("FEC-FR",[o,c]))}}if(t.rid){var h=new Si(t.rid);void 0!==(null===(i=t.ssrcs)||void 0===i?void 0:i.media)&&h.addParam("ssrc",t.ssrcs.media),r.addAlternativeEncodings([h])}for(var f=0,v=t.groups||[];f<v.length;f++){var d=v[f];r.addSourceGroup(Ti.expand(d))}for(var l=0,g=t.encodings||[];l<g.length;l++){for(var w=g[l],m=[],y=0;y<w.length;y++){var p=w[y];m.push(Si.expand(p))}r.addAlternativeEncodings(m)}return r},Ei.clone=function(t){return"TrackInfo"===t.constructor.name?t.clone():Ei.expand(t)};var Ii=Ei,Ri=Ii,Ci=function(){function t(t){this.id=t,this.tracks=new Map}var n=t.prototype;return n.clone=function(){for(var n=new t(this.id),i=0,r=this.tracks.values();i<r.length;i++){var e=r[i];n.addTrack(e.clone())}return n},n.plain=function(){for(var t={id:this.id,tracks:[]},n=0,i=this.tracks.values();n<i.length;n++){var r=i[n];t.tracks.push(r.plain())}return t},n.getId=function(){return this.id},n.addTrack=function(t){this.tracks.set(t.getId(),t)},n.removeTrack=function(t){return this.tracks.delete(t.getId())},n.removeTrackById=function(t){return this.tracks.delete(t)},n.getFirstTrack=function(t){for(var n=0,i=this.tracks.values();n<i.length;n++){var r=i[n];if(r.getMedia().toLowerCase()===t.toLowerCase())return r}return null},n.getTracks=function(){return this.tracks},n.removeAllTracks=function(){this.tracks.clear()},n.getTrack=function(t){return this.tracks.get(t)},t}();Ci.expand=function(t){if("StreamInfo"===t.constructor.name)return t;for(var n=new Ci(t.id),i=0,r=t.tracks||[];i<r.length;i++){var e=r[i],u=Ri.expand(e);u&&n.addTrack(u)}return n},Ci.clone=function(t){return"StreamInfo"===t.constructor.name?t.clone():Ci.expand(t)};var Ni,Di,Pi=Ci,xi=Kt,Li=(Ni="en-US",Di=new Intl.Collator(Ni,{sensitivity:"base"}),function(t,n){return 0==Di.compare(t,n)}),Mi=dn,Oi=pn,Bi=wn,Vi=Sn,Fi=In,Ui=zn,Wi=wi,Zi=kn,Xi=ui,Gi=jn,Hi=yi,zi=_i,Yi=Pi,ji=Ii,Ki=Ai,qi=ri,Ji=$n,Qi=Jn,$i=oi,tr=function(){function t(t){this.version=t||1,this.streams=new Map,this.medias=new Array,this.candidates=new Array,this.ice=null,this.dtls=null,this.crypto=null,this.extmapAllowMixed=!0}var n=t.prototype;return n.clone=function(){for(var n=new t(this.version),i=0,r=this.medias;i<r.length;i++){var e=r[i];n.addMedia(e.clone())}for(var u=0,s=this.streams.values();u<s.length;u++){var o=s[u];n.addStream(o.clone())}for(var a=0,c=this.candidates;a<c.length;a++){var h=c[a];n.addCandidate(h.clone())}return n.setICE(this.ice.clone()),this.dtls&&n.setDTLS(this.dtls.clone()),this.crypto&&n.setCrypto(this.crypto.clone()),n.setExtmapAllowMixed(this.extmapAllowMixed),n},n.plain=function(){for(var t={version:this.version,streams:[],medias:[],candidates:[]},n=0,i=this.medias;n<i.length;n++){var r=i[n];t.medias.push(r.plain())}for(var e=0,u=this.streams.values();e<u.length;e++){var s=u[e];t.streams.push(s.plain())}for(var o=0,a=this.candidates;o<a.length;o++){var c=a[o];t.candidates.push(c.plain())}return this.ice&&(t.ice=this.ice.plain()),this.dtls&&(t.dtls=this.dtls.plain()),this.crypto&&(t.crypto=this.crypto.plain()),this.extmapAllowMixed||(t.extmapAllowMixedNotSupported=!this.extmapAllowMixed),t},n.unify=function(){for(var n=new t(this.version),i=0,r=this.medias;i<r.length;i++){var e=r[i];n.addMedia(e.clone())}for(var u={audio:n.getMediasByType("audio"),video:n.getMediasByType("video")},s=0,o=this.streams.values();s<o.length;s++){for(var a=o[s].clone(),c=0,h=a.getTracks().values();c<h.length;c++){var f=h[c],v=u[f.getMedia()].pop();v||((v=this.getMedia(f.getMedia()).clone()).setId(f.getId()),n.addMedia(v)),f.setMediaId(v.getId())}n.addStream(a)}for(var d=0,l=this.candidates;d<l.length;d++){var g=l[d];n.addCandidate(g.clone())}return this.ice&&n.setICE(this.ice.clone()),this.dtls&&n.setDTLS(this.dtls.clone()),this.crypto&&n.setCrypto(this.crypto.clone()),n},n.setVersion=function(t){this.version=t},n.addMedia=function(t){this.medias.push(t)},n.getMedia=function(t){for(var n in this.medias){var i=this.medias[n];if(Li(i.getType(),t))return i}return null},n.getMediasByType=function(t){var n=[];for(var i in this.medias){var r=this.medias[i];Li(r.getType(),t)&&n.push(r)}return n},n.getMediaById=function(t){for(var n=0,i=this.medias;n<i.length;n++){var r=i[n];if(Li(r.getId(),t))return r}return null},n.replaceMedia=function(t){for(var n in this.medias)if(this.medias[n].getId()==t.getId())return this.medias[n]=t,!0;return!1},n.getMedias=function(){return this.medias},n.getVersion=function(){return this.version},n.getDTLS=function(){return this.dtls},n.setDTLS=function(t){this.dtls=t},n.hasCrypto=function(){return!!this.crypto},n.getCrypto=function(){return this.crypto},n.setCrypto=function(t){this.crypto=t},n.hasICE=function(){return!!this.ice},n.getICE=function(){return this.ice},n.setICE=function(t){this.ice=t},n.addCandidate=function(t){for(var n=0,i=this.candidates;n<i.length;n++)if(i[n].equals(t))return;this.candidates.push(t)},n.addCandidates=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.addCandidate(i)}},n.getCandidates=function(){return this.candidates},n.getStream=function(t){return this.streams.get(t)},n.getStreams=function(){return this.streams},n.getFirstStream=function(){for(var t=0,n=this.streams.values();t<n.length;t++)return n[t];return null},n.addStream=function(t){this.streams.set(t.getId(),t)},n.removeStream=function(t){return this.streams.delete(t.getId())},n.removeAllStreams=function(){this.streams.clear()},n.getTracksByMediaType=function(t){for(var n=[],i=0,r=this.streams.values();i<r.length;i++)for(var e=0,u=r[i].getTracks();e<u.length;e++){var s=tn(u[e],2),o=(s[0],s[1]);Li(o.getMedia(),t)&&n.push(o)}return n},n.getTrackByMediaId=function(t){for(var n=0,i=this.streams.values();n<i.length;n++)for(var r=0,e=i[n].getTracks();r<e.length;r++){var u=tn(e[r],2),s=(u[0],u[1]);if(s.getMediaId()==t)return s}return null},n.getStreamByMediaId=function(t){for(var n=0,i=this.streams.values();n<i.length;n++)for(var r=i[n],e=0,u=r.getTracks();e<u.length;e++){var s=tn(u[e],2);if(s[0],s[1].getMediaId()==t)return r}return null},n.getExtmapAllowMixed=function(){return this.extmapAllowMixed},n.setExtmapAllowMixed=function(t){this.extmapAllowMixed=t},n.answer=function(n){var i=new t;n.ice&&(n.ice instanceof Ui?i.setICE(n.ice.clone()):i.setICE(Ui.expand(n.ice))),n.dtls&&(n.dtls instanceof Vi?i.setDTLS(n.dtls):i.setDTLS(Vi.expand(n.dtls))),n.crypto&&(n.crypto instanceof Fi?i.setCrypto(n.crypto):i.setCrypto(Fi.expand(n.crypto)));for(var r=0;n.candidates&&r<n.candidates.length;++r)n.candidates[r]instanceof Mi?i.addCandidate(n.candidates[r].clone()):i.addCandidate(Mi.expand(n.candidates[r]));for(var e=0,u=this.medias;e<u.length;e++){var s=u[e],o=n&&n.capabilities&&n.capabilities[s.getType()];i.addMedia(s.answer(o))}return i.setExtmapAllowMixed(this.extmapAllowMixed),i},n.toString=function(){var t={version:0,media:[]};t.version=0,t.origin={username:"-",sessionId:(new Date).getTime(),sessionVersion:this.version,netType:"IN",ipVer:4,address:"127.0.0.1"},t.name="semantic-sdp",t.connection={version:4,ip:"0.0.0.0"},t.timing={start:0,stop:0},this.hasICE()&&this.getICE().isLite()&&(t.icelite="ice-lite"),t.msidSemantic={semantic:"WMS",token:"*"},t.groups=[],this.extmapAllowMixed&&(t.extmapAllowMixed="extmap-allow-mixed");for(var n=[],i=0,r=this.medias;i<r.length;i++){var e=r[i],u={type:e.getType(),port:9,protocol:"",fmtp:[],rtp:[],rtcpFb:[],ext:[],bandwidth:[],candidates:[],ssrcGroups:[],ssrcs:[],rids:[]};u.direction=Xi.toString(e.getDirection()),this.extmapAllowMixed&&(u.extmapAllowMixed="extmap-allow-mixed"),u.mid=e.getId(),n.push(e.getId()),e.hasControl()&&(u.control=e.getControl()),e.getBitrate()>0&&(u.bandwidth.push({type:"AS",limit:e.getBitrate()}),u.bandwidth.push({type:"TIAS",limit:1e3*e.getBitrate()}));for(var s=this.getCandidates(),o=0;o<s.length;o++){var a=s[o];u.candidates.push({foundation:a.getFoundation(),component:a.getComponentId(),transport:a.getTransport(),priority:a.getPriority(),ip:a.getAddress(),port:a.getPort(),type:a.getType(),raddr:a.getRelAddr(),rport:a.getRelPort()})}if(this.getICE()&&(u.iceUfrag=this.getICE().getUfrag(),u.icePwd=this.getICE().getPwd()),Li("audio",e.getType())||Li("video",e.getType())){u.rtcpMux="rtcp-mux",u.rtcpRsize="rtcp-rsize",this.getDTLS()?(u.protocol="UDP/TLS/RTP/SAVPF",u.fingerprint={type:this.getDTLS().getHash(),hash:this.getDTLS().getFingerprint()},u.setup=Zi.toString(this.getDTLS().getSetup())):this.getCrypto()?(u.protocol="RTP/SAVPF",u.crypto=[{id:this.getCrypto().getTag(),suite:this.getCrypto().getSuite(),config:this.getCrypto().getKeyParams()}]):u.protocol="RTP/AVP";for(var c=0,h=e.getCodecs().values();c<h.length;c++){var f=h[c];Li("video",e.getType())?u.rtp.push({payload:f.getType(),codec:f.getCodec().toUpperCase(),rate:9e4}):Li("opus",f.getCodec())||Li("multiopus",f.getCodec())?u.rtp.push({payload:f.getType(),codec:f.getCodec(),rate:48e3,encoding:f.getChannels()}):u.rtp.push({payload:f.getType(),codec:f.getCodec(),rate:8e3});for(var v=0,d=f.getRTCPFeedbacks();v<d.length;v++){var l=d[v];u.rtcpFb.push({payload:f.getType(),type:l.getId(),subtype:l.getParams().join(" ")})}f.hasRTX()&&(u.rtp.push({payload:f.getRTX(),codec:"rtx",rate:9e4}),u.fmtp.push({payload:f.getRTX(),config:"apt="+f.getType()}));var g=f.getParams();if(b.keys(g).length){var w={payload:f.getType(),config:""};for(var m in g)w.config.length&&(w.config+=";"),b.hasOwnProperty.call(g,m)?w.config+=m+"="+g[m]:w.config+=m;u.fmtp.push(w)}}for(var y=[],p=0,_=u.rtp;p<_.length;p++){var k=_[p];y.push(k.payload)}u.payloads=y.join(" ");for(var A=0,T=e.getExtensions().entries();A<T.length;A++){var S=tn(T[A],2),E=S[0],I=S[1];u.ext.push({value:E,uri:I})}for(var R=0,C=e.getRIDs().values();R<C.length;R++){var N=C[R],D={id:N.getId(),direction:Gi.toString(N.getDirection()),params:""};N.getFormats().length&&(D.params="pt="+N.getFormats().join(","));for(var P=0,x=N.getParams().entries();P<x.length;P++){var L=tn(x[P],2),M=L[0],O=L[1];D.params+=(D.params.length?";":"")+M+"="+O}u.rids.push(D)}var B=e.getSimulcast();if(B){var V=1;u.simulcast={};var F=B.getSimulcastStreams(Gi.SEND),U=B.getSimulcastStreams(Gi.RECV);if(F&&F.length){for(var W="",Z=0;Z<F.length;Z++){for(var X=F[Z],G="",H=0;H<X.length;H++){var z=X[H];G+=(G.length?",":"")+(z.isPaused()?"~":"")+z.getId()}W+=(W.length?";":"")+G}u.simulcast["dir"+V]="send",u.simulcast["list"+V]=W,V++}if(U&&U.length){for(var Y="",j=0;j<U.length;j++){for(var K=U[j],q="",J=0;J<K.length;J++){var Q=K[J];q+=(q.length?",":"")+(Q.isPaused()?"~":"")+Q.getId()}Y+=(Y.length?";":"")+q}u.simulcast["dir"+V]="recv",u.simulcast["list"+V]=Y,V++}}}else if(e.hasDataChannel()){u.protocol="UDP/DTLS/SCTP",u.payloads="webrtc-datachannel";var $=e.getDataChannel();u.sctpPort=$.getPort(),u.maxMessageSize=$.getMaxMessageSize()}t.media.push(u)}for(var tt=0,nt=this.streams.values();tt<nt.length;tt++)for(var it=nt[tt],rt=0,et=it.getTracks().values();rt<et.length;rt++){var ut=et[rt];for(var st in t.media){var ot=t.media[st];if(ut.getMediaId()){if(ut.getMediaId()==ot.mid){var at=ut.getSourceGroups();for(var ct in at){var ht=at[ct];ot.ssrcGroups.push({semantics:ht.getSemantics(),ssrcs:ht.getSSRCs().join(" ")})}var ft=ut.getSSRCs();for(var vt in ft)ot.ssrcs.push({id:ft[vt],attribute:"cname",value:it.getId()}),ot.ssrcs.push({id:ft[vt],attribute:"msid",value:it.getId()+" "+ut.getId()});ot.msid=it.getId()+" "+ut.getId();break}}else if(Li(ot.type,ut.getMedia())){var dt=ut.getSourceGroups();for(var lt in dt){var gt=dt[lt];ot.ssrcGroups.push({semantics:gt.getSemantics(),ssrcs:gt.getSSRCs().join(" ")})}var wt=ut.getSSRCs();for(var mt in wt)ot.ssrcs.push({id:wt[mt],attribute:"cname",value:it.getId()}),ot.ssrcs.push({id:wt[mt],attribute:"msid",value:it.getId()+" "+ut.getId()});break}}}var yt={type:"BUNDLE",mids:n.join(" ")};return t.groups.push(yt),xi.write(t)},n.toIceFragmentString=function(){var t={version:0,media:[],candidates:[]};this.hasICE()&&this.getICE().isLite()&&(t.icelite="ice-lite"),this.getICE()&&(t.iceUfrag=this.getICE().getUfrag(),t.icePwd=this.getICE().getPwd());for(var n=0,i=this.getCandidates();n<i.length;n++){var r=i[n];t.candidates.push({foundation:r.getFoundation(),component:r.getComponentId(),transport:r.getTransport(),priority:r.getPriority(),ip:r.getAddress(),port:r.getPort(),type:r.getType(),raddr:r.getRelAddr(),rport:r.getRelPort()})}return xi.write(t).slice(10)},t}();tr.create=function(t){var n,i=new tr;if(t.streams)for(var r=0,e=t.streams;r<e.length;r++){var u=e[r];i.addStream(Yi.expand(u))}t.ice&&(t.ice instanceof Ui?i.setICE(t.ice.clone()):i.setICE(Ui.expand(t.ice))),t.dtls&&(t.dtls instanceof Vi?i.setDTLS(t.dtls):i.setDTLS(Vi.expand(t.dtls))),t.crypto&&(t.crypto instanceof Fi?i.setCrypto(t.crypto):i.setCrypto(Fi.expand(t.crypto)));for(var s=0,o=t.candidates||[];s<o.length;s++){var a=o[s];a instanceof Mi?i.addCandidate(a.clone()):i.addCandidate(Mi.expand(a))}for(var c=96,h=1,f=0,v=0,d=b.entries(t.capabilities||{});v<d.length;v++){var l=tn(d[v],2),g=l[0],w=l[1];if(t.unified&&null!==(n=t.streams)&&void 0!==n&&n.length)for(var m=0,y=i.getTracksByMediaType(g);m<y.length;m++){for(var p=y[m],_=Wi.create(p.getMediaId(),g,w),k=0,A=_.getCodecs();k<A.length;k++){var T=tn(A[k],2),S=(T[0],T[1]);S.getType()>=96&&S.setType(c++),S.getRTX()&&S.setRTX(c++)}if(w.extensions)for(var E=0,I=w.extensions;E<I.length;E++){var R=I[E];15===h&&h++,_.addExtension(h++,R)}i.addMedia(_)}else{for(var C=Wi.create(t.unified?String(f++):g,g,w),N=0,D=C.getCodecs();N<D.length;N++){var P=tn(D[N],2),x=(P[0],P[1]);x.getType()>=96&&x.setType(c++),x.getRTX()&&x.setRTX(c++)}if(w.extensions)for(var L=0,M=w.extensions;L<M.length;L++){var O=M[L];15===h&&h++,C.addExtension(h++,O)}i.addMedia(C)}}return i},tr.expand=function(t){if("SDPInfo"===t.constructor.name)return t;for(var n=new tr(t.version),i=0,r=t.medias||[];i<r.length;i++){var e=r[i],u=Wi.expand(e);u&&n.addMedia(u)}for(var s=0,o=t.streams||[];s<o.length;s++){var a=o[s],c=Yi.expand(a);c&&n.addStream(c)}for(var h=0,f=t.candidates||[];h<f.length;h++){var v=f[h],d=Mi.expand(v);d&&n.addCandidate(d)}return t.ice&&n.setICE(Ui.expand(t.ice)),t.dtls&&n.setDTLS(Vi.expand(t.dtls)),t.crypto&&n.setCrypto(Fi.expand(t.crypto)),t.extmapAllowMixedNotSupported&&(this.extmapAllowMixed=!t.extmapAllowMixedNotSupported),n},tr.clone=function(t){return"SDPInfo"===t.constructor.name?t.clone():tr.expand(t)},tr.process=function(t){return tr.parse(t)},tr.parse=function(t){var n=xi.parse(t),i=new tr;if(i.setVersion(n.version),n.iceUfrag&&n.icePwd){var r=String(n.iceUfrag),e=String(n.icePwd),u=new Ui(r,e);u.setLite("ice-lite"==n.icelite),u.setEndOfCandidates("end-of-candidates"==n.endOfCandidates),i.setICE(u)}for(var s in n.media){var o=n.media[s],a=o.type,c=o.mid?o.mid.toString():s,h=new Wi(c,a);if(o.iceUfrag&&o.icePwd){var f=String(o.iceUfrag),v=String(o.icePwd),d=new Ui(f,v);d.setLite("ice-lite"==n.icelite),d.setEndOfCandidates("end-of-candidates"==o.endOfCandidates),i.setICE(d)}for(var l=0;o.candidates&&l<o.candidates.length;++l){var g=o.candidates[l],w=new Mi(g.foundation,g.component,g.transport,g.priority,g.ip,g.port,g.type,g.raddr,g.rport);i.addCandidate(w)}var m=o.fingerprint||n.fingerprint;if(m){var y=m.type,p=m.hash,_=Zi.ACTPASS;o.setup&&(_=Zi.byValue(o.setup)),i.setDTLS(new Vi(_,y,p))}if(o.crypto){var b=o.crypto[0];i.setCrypto(new Fi(b.id,b.suite,b.config,b.sessionConfig))}var k=Xi.SENDRECV;o.direction&&(k=Xi.byValue(o.direction),h.setDirection(k)),o.control&&h.setControl(o.control),i.setExtmapAllowMixed("extmap-allow-mixed"==o.extmapAllowMixed||"extmap-allow-mixed"==n.extmapAllowMixed);var T=new Map;for(var S in o.rtp){var E=o.rtp[S],I=E.payload,R=E.codec;if("RED"!==R.toUpperCase()&&"ULPFEC"!==R.toUpperCase()){var C={};for(var N in o.fmtp){var D=o.fmtp[N];if(D.payload===I){var P=D.config.split(";");for(var x in P){var L=P[x].split("="),M=L[0].trim(),O=L.splice(1).join("=").trim();C[M]=O}}}if("RTX"===R.toUpperCase())T.set(A(C.apt),I);else{var B=new Oi(R,I,C);E.encoding>1&&B.setChannels(E.encoding),h.addCodec(B)}}}for(var V=0,F=T.entries();V<F.length;V++){var U=F[V],W=h.getCodecForType(U[0]);W&&W.setRTX(U[1])}for(var Z=0;o.rtcpFb&&Z<o.rtcpFb.length;++Z){var X=h.getCodecForType(o.rtcpFb[Z].payload);if(X){var G=o.rtcpFb[Z].type,H=o.rtcpFb[Z].subtype?o.rtcpFb[Z].subtype.split(" "):null;X.addRTCPFeedback(new Bi(G,H))}}var z=o.ext;for(var Y in z){var j=z[Y];h.addExtension(j.value,j.uri)}var K=o.rids;for(var q in K){var J=K[q],Q=new Qi(J.id,Gi.byValue(J.direction)),$=[],tt=new Map;if(J.params){var nt=xi.parseParams(J.params);for(var it in nt)"pt"===it?$=nt[it].split(","):tt.set(it,nt[it]);Q.setFormats($),Q.setParams(tt)}h.addRID(Q)}var rt=[];if(o.simulcast){var et=new qi;if(o.simulcast.dir1)for(var ut=Gi.byValue(o.simulcast.dir1),st=xi.parseSimulcastStreamList(o.simulcast.list1),ot=0;ot<st.length;++ot){for(var at=[],ct=0;ct<st[ot].length;++ct)at.push(new Ji(st[ot][ct].scid,st[ot][ct].paused));et.addSimulcastAlternativeStreams(ut,at)}if(o.simulcast.dir2)for(var ht=Gi.byValue(o.simulcast.dir2),ft=xi.parseSimulcastStreamList(o.simulcast.list2),vt=0;vt<ft.length;++vt){for(var dt=[],lt=0;lt<ft[vt].length;++lt)dt.push(new Ji(ft[vt][lt].scid,ft[vt][lt].paused));et.addSimulcastAlternativeStreams(ht,dt)}for(var gt=0,wt=et.getSimulcastStreams(Gi.SEND);gt<wt.length;gt++){for(var mt=wt[gt],yt=[],pt=0;pt<mt.length;pt++){var _t=new Ki(mt[pt].getId(),mt[pt].isPaused()),bt=h.getRID(_t.getId());if(bt){for(var kt=bt.getFormats(),At=0;kt&&At<kt.length;++At){var Tt=h.getCodecForType(kt[At]);Tt&&_t.addCodec(Tt)}_t.setParams(bt.getParams()),yt.push(_t)}}yt.length&&rt.push(yt)}h.setSimulcast(et)}var St=new Map;if(o.ssrcs)for(var Et in o.ssrcs){var It=o.ssrcs[Et],Rt=It.id,Ct=It.attribute,Nt=It.value,Dt=St.get(Rt);if(Dt||(Dt=new zi(Rt),St.set(Dt.getSSRC(),Dt)),Li("cname",Ct))Dt.setCName(Nt);else if(Li("msid",Ct)){var Pt=Nt.split(" "),xt=Pt[0],Lt=Pt[1];Dt.setStreamId(xt),Dt.setTrackId(Lt);var Mt=i.getStream(xt);Mt||(Mt=new Yi(xt),i.addStream(Mt));var Ot=Mt.getTrack(Lt);Ot||((Ot=new ji(a,Lt)).setMediaId(c),Ot.setEncodings(rt),Mt.addTrack(Ot)),Ot.addSSRC(Rt)}}if(o.msid){var Bt=o.msid.split(" "),Vt=Bt[0],Ft=Bt[1],Ut=i.getStream(Vt);Ut||(Ut=new Yi(Vt),i.addStream(Ut));var Wt=Ut.getTrack(Ft);Wt||((Wt=new ji(a,Ft)).setMediaId(c),Wt.setEncodings(rt),Ut.addTrack(Wt));for(var Zt=0,Xt=St.entries();Zt<Xt.length;Zt++){var Gt=tn(Xt[Zt],2),Ht=Gt[0],zt=Gt[1];zt.getStreamId()||(zt.setStreamId(Vt),zt.setTrackId(Ft),Wt.addSSRC(Ht))}}for(var Yt=0,jt=St.entries();Yt<jt.length;Yt++){var Kt=tn(jt[Yt],2),qt=Kt[0],Jt=Kt[1];if(!Jt.getStreamId()){var Qt=Jt.getCName(),$t=c;Jt.setStreamId(Qt),Jt.setTrackId($t);var nn=i.getStream(Qt);nn||(nn=new Yi(Qt),i.addStream(nn));var rn=nn.getTrack($t);rn||((rn=new ji(a,$t)).setMediaId(c),rn.setEncodings(rt),nn.addTrack(rn)),rn.addSSRC(qt)}}if(o.ssrcGroups)for(var en in o.ssrcGroups){var un=o.ssrcGroups[en],sn=un.ssrcs.split(" "),on=new Hi(un.semantics,sn),an=St.get(A(sn[0]));an&&i.getStream(an.getStreamId()).getTrack(an.getTrackId()).addSourceGroup(on)}if("application"==o.type&&"webrtc-datachannel"==o.payloads){var cn=new $i(o.sctpPort,o.maxMessageSize);h.setDataChannel(cn)}i.addMedia(h)}return i};var nr=tr;b.defineProperty(jt,"__esModule",{value:!0});var ir=jt.SDPInfo=nr;jt.CandidateInfo=dn,jt.CodecInfo=pn,jt.DTLSInfo=Sn,jt.CryptoInfo=In,jt.ICEInfo=zn;var rr=jt.MediaInfo=wi;jt.Setup=kn,jt.SourceGroupInfo=yi,jt.SourceInfo=_i,jt.StreamInfo=Pi,jt.TrackInfo=Ii,jt.RTCPFeedbackInfo=wn,jt.TrackEncodingInfo=Ai,jt.RIDInfo=Jn,jt.SimulcastInfo=ri,jt.SimulcastStreamInfo=$n,jt.DataChannelInfo=oi;var er=jt.Direction=ui,ur={exports:{}};!function(t,n){!function(i,r){var e="function",u="undefined",s="object",o="string",a="major",c="model",h="name",f="type",v="vendor",d="version",l="architecture",g="console",w="mobile",m="tablet",y="smarttv",p="wearable",_="embedded",b="Amazon",k="Apple",A="ASUS",T="BlackBerry",S="Browser",E="Chrome",I="Firefox",R="Google",C="Huawei",N="LG",D="Microsoft",P="Motorola",x="Opera",L="Samsung",M="Sharp",O="Sony",B="Xiaomi",V="Zebra",F="Facebook",W="Chromium OS",Z="Mac OS",X=" Browser",G=function(t){for(var n={},i=0;i<t.length;i++)n[t[i].toUpperCase()]=t[i];return n},H=function(t,n){return(void 0===t?"undefined":U(t))===o&&-1!==z(n).indexOf(z(t))},z=function(t){return t.toLowerCase()},Y=function(t,n){if((void 0===t?"undefined":U(t))===o)return t=t.replace(/^\s\s*/,""),(void 0===n?"undefined":U(n))===u?t:t.substring(0,500)},j=function(t,n){for(var i,u,o,a,c,h,f=0;f<n.length&&!c;){var v=n[f],d=n[f+1];for(i=u=0;i<v.length&&!c&&v[i];)if(c=v[i++].exec(t))for(o=0;o<d.length;o++)h=c[++u],(void 0===(a=d[o])?"undefined":U(a))===s&&a.length>0?2===a.length?U(a[1])==e?this[a[0]]=a[1].call(this,h):this[a[0]]=a[1]:3===a.length?U(a[1])!==e||a[1].exec&&a[1].test?this[a[0]]=h?h.replace(a[1],a[2]):r:this[a[0]]=h?a[1].call(this,h,a[2]):r:4===a.length&&(this[a[0]]=h?a[3].call(this,h.replace(a[1],a[2])):r):this[a]=h||r;f+=2}},K=function(t,n){for(var i in n)if(U(n[i])===s&&n[i].length>0){for(var e=0;e<n[i].length;e++)if(H(n[i][e],t))return"?"===i?r:i}else if(H(n[i],t))return"?"===i?r:i;return n.hasOwnProperty("*")?n["*"]:t},q={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},J={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[d,[h,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[d,[h,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[h,d],[/opios[\/ ]+([\w\.]+)/i],[d,[h,x+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[d,[h,x+" GX"]],[/\bopr\/([\w\.]+)/i],[d,[h,x]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[d,[h,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[h,d],[/quark(?:pc)?\/([-\w\.]+)/i],[d,[h,"Quark"]],[/\bddg\/([\w\.]+)/i],[d,[h,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[d,[h,"UC"+S]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[d,[h,"WeChat"]],[/konqueror\/([\w\.]+)/i],[d,[h,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[d,[h,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[d,[h,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[d,[h,"Smart Lenovo "+S]],[/(avast|avg)\/([\w\.]+)/i],[[h,/(.+)/,"$1 Secure "+S],d],[/\bfocus\/([\w\.]+)/i],[d,[h,I+" Focus"]],[/\bopt\/([\w\.]+)/i],[d,[h,x+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[d,[h,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[d,[h,"Dolphin"]],[/coast\/([\w\.]+)/i],[d,[h,x+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[d,[h,"MIUI "+S]],[/fxios\/([-\w\.]+)/i],[d,[h,I]],[/\bqihu|(qi?ho?o?|360)browser/i],[[h,"360"+X]],[/\b(qq)\/([\w\.]+)/i],[[h,/(.+)/,"$1Browser"],d],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[h,/(.+)/,"$1"+X],d],[/samsungbrowser\/([\w\.]+)/i],[d,[h,L+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[h,/_/g," "],d],[/metasr[\/ ]?([\d\.]+)/i],[d,[h,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[h,"Sogou Mobile"],d],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[h,d],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[h],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[h,F],d],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[h,d],[/\bgsa\/([\w\.]+) .*safari\//i],[d,[h,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[d,[h,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[d,[h,E+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[h,E+" WebView"],d],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[d,[h,"Android "+S]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[h,d],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[d,[h,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[d,h],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[h,[d,K,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[h,d],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[h,"Netscape"],d],[/(wolvic)\/([\w\.]+)/i],[h,d],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[d,[h,I+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[h,[d,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[h,[d,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[l,"amd64"]],[/(ia32(?=;))/i],[[l,z]],[/((?:i[346]|x)86)[;\)]/i],[[l,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[l,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[l,"armhf"]],[/windows (ce|mobile); ppc;/i],[[l,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[l,/ower/,"",z]],[/(sun4\w)[;\)]/i],[[l,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[l,z]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[c,[v,L],[f,m]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[c,[v,L],[f,w]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[c,[v,k],[f,w]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[c,[v,k],[f,m]],[/(macintosh);/i],[c,[v,k]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[c,[v,M],[f,w]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[c,[v,C],[f,m]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[c,[v,C],[f,w]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[c,/_/g," "],[v,B],[f,w]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[c,/_/g," "],[v,B],[f,m]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[c,[v,"OPPO"],[f,w]],[/\b(opd2\d{3}a?) bui/i],[c,[v,"OPPO"],[f,m]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[c,[v,"Vivo"],[f,w]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[c,[v,"Realme"],[f,w]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[c,[v,P],[f,w]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[c,[v,P],[f,m]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[c,[v,N],[f,m]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[c,[v,N],[f,w]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[c,[v,"Lenovo"],[f,m]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[c,/_/g," "],[v,"Nokia"],[f,w]],[/(pixel c)\b/i],[c,[v,R],[f,m]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[c,[v,R],[f,w]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[c,[v,O],[f,w]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[c,"Xperia Tablet"],[v,O],[f,m]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[c,[v,"OnePlus"],[f,w]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[c,[v,b],[f,m]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[c,/(.+)/g,"Fire Phone $1"],[v,b],[f,w]],[/(playbook);[-\w\),; ]+(rim)/i],[c,v,[f,m]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[c,[v,T],[f,w]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[c,[v,A],[f,m]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[c,[v,A],[f,w]],[/(nexus 9)/i],[c,[v,"HTC"],[f,m]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[v,[c,/_/g," "],[f,w]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[c,[v,"TCL"],[f,m]],[/(itel) ((\w+))/i],[[v,z],c,[f,K,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[c,[v,"Acer"],[f,m]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[c,[v,"Meizu"],[f,w]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[c,[v,"Ulefone"],[f,w]],[/droid.+; (a(?:015|06[35]|142p?))/i],[c,[v,"Nothing"],[f,w]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[v,c,[f,w]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[v,c,[f,m]],[/(surface duo)/i],[c,[v,D],[f,m]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[c,[v,"Fairphone"],[f,w]],[/(u304aa)/i],[c,[v,"AT&T"],[f,w]],[/\bsie-(\w*)/i],[c,[v,"Siemens"],[f,w]],[/\b(rct\w+) b/i],[c,[v,"RCA"],[f,m]],[/\b(venue[\d ]{2,7}) b/i],[c,[v,"Dell"],[f,m]],[/\b(q(?:mv|ta)\w+) b/i],[c,[v,"Verizon"],[f,m]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[c,[v,"Barnes & Noble"],[f,m]],[/\b(tm\d{3}\w+) b/i],[c,[v,"NuVision"],[f,m]],[/\b(k88) b/i],[c,[v,"ZTE"],[f,m]],[/\b(nx\d{3}j) b/i],[c,[v,"ZTE"],[f,w]],[/\b(gen\d{3}) b.+49h/i],[c,[v,"Swiss"],[f,w]],[/\b(zur\d{3}) b/i],[c,[v,"Swiss"],[f,m]],[/\b((zeki)?tb.*\b) b/i],[c,[v,"Zeki"],[f,m]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[v,"Dragon Touch"],c,[f,m]],[/\b(ns-?\w{0,9}) b/i],[c,[v,"Insignia"],[f,m]],[/\b((nxa|next)-?\w{0,9}) b/i],[c,[v,"NextBook"],[f,m]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[v,"Voice"],c,[f,w]],[/\b(lvtel\-)?(v1[12]) b/i],[[v,"LvTel"],c,[f,w]],[/\b(ph-1) /i],[c,[v,"Essential"],[f,w]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[c,[v,"Envizen"],[f,m]],[/\b(trio[-\w\. ]+) b/i],[c,[v,"MachSpeed"],[f,m]],[/\btu_(1491) b/i],[c,[v,"Rotor"],[f,m]],[/(shield[\w ]+) b/i],[c,[v,"Nvidia"],[f,m]],[/(sprint) (\w+)/i],[v,c,[f,w]],[/(kin\.[onetw]{3})/i],[[c,/\./g," "],[v,D],[f,w]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[c,[v,V],[f,m]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[c,[v,V],[f,w]],[/smart-tv.+(samsung)/i],[v,[f,y]],[/hbbtv.+maple;(\d+)/i],[[c,/^/,"SmartTV"],[v,L],[f,y]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[v,N],[f,y]],[/(apple) ?tv/i],[v,[c,k+" TV"],[f,y]],[/crkey/i],[[c,E+"cast"],[v,R],[f,y]],[/droid.+aft(\w+)( bui|\))/i],[c,[v,b],[f,y]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[c,[v,M],[f,y]],[/(bravia[\w ]+)( bui|\))/i],[c,[v,O],[f,y]],[/(mitv-\w{5}) bui/i],[c,[v,B],[f,y]],[/Hbbtv.*(technisat) (.*);/i],[v,c,[f,y]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[v,Y],[c,Y],[f,y]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[f,y]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[v,c,[f,g]],[/droid.+; (shield) bui/i],[c,[v,"Nvidia"],[f,g]],[/(playstation [345portablevi]+)/i],[c,[v,O],[f,g]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[c,[v,D],[f,g]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[c,[v,L],[f,p]],[/((pebble))app/i],[v,c,[f,p]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[c,[v,k],[f,p]],[/droid.+; (glass) \d/i],[c,[v,R],[f,p]],[/droid.+; (wt63?0{2,3})\)/i],[c,[v,V],[f,p]],[/(quest( \d| pro)?)/i],[c,[v,F],[f,p]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[v,[f,_]],[/(aeobc)\b/i],[c,[v,b],[f,_]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[c,[f,w]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[c,[f,m]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[f,m]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[f,w]],[/(android[-\w\. ]{0,9});.+buil/i],[c,[v,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[d,[h,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[d,[h,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[h,d],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[d,h]],os:[[/microsoft (windows) (vista|xp)/i],[h,d],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[h,[d,K,q]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[d,K,q],[h,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[d,/_/g,"."],[h,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[h,Z],[d,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[d,h],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[h,d],[/\(bb(10);/i],[d,[h,T]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[d,[h,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[d,[h,I+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[d,[h,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[d,[h,"watchOS"]],[/crkey\/([\d\.]+)/i],[d,[h,E+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[h,W],d],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[h,d],[/(sunos) ?([\w\.\d]*)/i],[[h,"Solaris"],d],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[h,d]]},Q=function(t,n){if((void 0===t?"undefined":U(t))===s&&(n=t,t=r),!(this instanceof Q))return new Q(t,n).getResult();var g=(void 0===i?"undefined":U(i))!==u&&i.navigator?i.navigator:r,y=t||(g&&g.userAgent?g.userAgent:""),p=g&&g.userAgentData?g.userAgentData:r,_=n?function(t,n){var i={};for(var r in t)n[r]&&n[r].length%2==0?i[r]=n[r].concat(t[r]):i[r]=t[r];return i}(J,n):J,b=g&&g.userAgent==y;return this.getBrowser=function(){var t={};return t[h]=r,t[d]=r,j.call(t,y,_.browser),t[a]=function(t){return(void 0===t?"undefined":U(t))===o?t.replace(/[^\d\.]/g,"").split(".")[0]:r}(t[d]),b&&g&&g.brave&&U(g.brave.isBrave)==e&&(t[h]="Brave"),t},this.getCPU=function(){var t={};return t[l]=r,j.call(t,y,_.cpu),t},this.getDevice=function(){var t={};return t[v]=r,t[c]=r,t[f]=r,j.call(t,y,_.device),b&&!t[f]&&p&&p.mobile&&(t[f]=w),b&&"Macintosh"==t[c]&&g&&U(g.standalone)!==u&&g.maxTouchPoints&&g.maxTouchPoints>2&&(t[c]="iPad",t[f]=m),t},this.getEngine=function(){var t={};return t[h]=r,t[d]=r,j.call(t,y,_.engine),t},this.getOS=function(){var t={};return t[h]=r,t[d]=r,j.call(t,y,_.os),b&&!t[h]&&p&&p.platform&&"Unknown"!=p.platform&&(t[h]=p.platform.replace(/chrome os/i,W).replace(/macos/i,Z)),t},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return y},this.setUA=function(t){return y=(void 0===t?"undefined":U(t))===o&&t.length>500?Y(t,500):t,this},this.setUA(y),this};Q.VERSION="0.7.39",Q.BROWSER=G([h,d,a]),Q.CPU=G([l]),Q.DEVICE=G([c,v,f,g,w,y,m,p,_]),Q.ENGINE=Q.OS=G([h,d]),t.exports&&(n=t.exports=Q),n.UAParser=Q;var $=(void 0===i?"undefined":U(i))!==u&&(i.jQuery||i.Zepto);if($&&!$.ua){var tt=new Q;$.ua=tt.getResult(),$.ua.get=function(){return tt.getUA()},$.ua.set=function(t){tt.setUA(t);var n=tt.getResult();for(var i in n)$.ua[i]=n[i]}}}("object"==(void 0===f?"undefined":U(f))?f:N)}(ur,ur.exports);var sr=D(ur.exports),or=["iOS"],ar=function(t){function n(){return t.call(this,f.navigator.userAgent)||this}It(n,t);var i=n.prototype;return i.isChromium=function(){return this.getUA().match(/Chrome/i)},i.isChrome=function(){var t=this.getBrowser();if(!t.name)return!1;var n,i=this.getOS();return n=!new RegExp(or.join("|"),"i").test(i.name),t.name.match(/Chrome/i)&&n},i.isFirefox=function(){var t=this.getBrowser();return!!t.name&&t.name.match(/Firefox/i)},i.isOpera=function(){var t=this.getBrowser();return!!t.name&&t.name.match(/Opera/i)},i.isSafari=function(){var t=this.getBrowser();return!!t.name&&t.name.match(/Safari/i)},n}(sr),cr=gt.get("SdpParser"),hr=Array.from({length:31},(function(t,n){return n+35})),fr=Array.from({length:32},(function(t,n){return n+96})),vr=Array.from({length:14},(function(t,n){return n+1})),dr=Array.from({length:240},(function(t,n){return n+16})),lr={setSimulcast:function(t,n){if(cr.info("Setting simulcast. Codec: ",n),!(new ar).isChromium())return cr.warn("Your browser does not appear to support Simulcast. For a better experience, use a Chromium based browser."),t;if("h264"!==n&&"vp8"!==n)return cr.warn("Your selected codec ".concat(n," does not appear to support Simulcast.  To broadcast using simulcast, please use H.264 or VP8.")),t;if(!/m=video/.test(t))return cr.warn("There is no available video for simulcast to be enabled."),t;try{for(var i=new RegExp("m=video.*?a=ssrc:(\\d*) cname:(.+?)\\r\\n","s"),r=new RegExp("m=video.*?a=ssrc:(\\d*) msid:(.+?)\\r\\n","s"),e=i.exec(t),u=e[1],s=e[2],o=r.exec(t)[2],a=[u],c=0;c<2;++c){var h=100+2*c,f=h+1;a.push(h),t+="a=ssrc-group:FID "+h+" "+f+"\r\na=ssrc:"+h+" cname:"+s+"\r\na=ssrc:"+h+" msid:"+o+"\r\na=ssrc:"+f+" cname:"+s+"\r\na=ssrc:"+f+" msid:"+o+"\r\n"}return t+="a=ssrc-group:SIM "+a.join(" ")+"\r\n",cr.info("Simulcast setted"),cr.debug("Simulcast SDP: ",t),t}catch(t){throw cr.error("Error setting SDP for simulcast: ",t),t}},setStereo:function(t){return cr.info("Replacing SDP response for support stereo"),t=t.replace(/useinbandfec=1/g,"useinbandfec=1; stereo=1"),cr.info("Replaced SDP response for support stereo"),cr.debug("New SDP value: ",t),t},setDTX:function(t){return cr.info("Replacing SDP response for support dtx"),t=t.replace("useinbandfec=1","useinbandfec=1; usedtx=1"),cr.info("Replaced SDP response for support dtx"),cr.debug("New SDP value: ",t),t},setAbsoluteCaptureTime:function(t){var n="a=extmap:"+lr.getAvailableHeaderExtensionIdRange(t)[0]+" http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time\r\n";return t=t.replace(/(m=.*\r\n(?:.*\r\n)*?)(a=extmap.*\r\n)/gm,(function(t,i,r){return i+n+r})),cr.info("Replaced SDP response for setting absolute capture time"),cr.debug("New SDP value: ",t),t},setDependencyDescriptor:function(t){var n="a=extmap:"+lr.getAvailableHeaderExtensionIdRange(t)[0]+" https://aomediacodec.github.io/av1-rtp-spec/#dependency-descriptor-rtp-header-extension\r\n";return t=t.replace(/(m=.*\r\n(?:.*\r\n)*?)(a=extmap.*\r\n)/gm,(function(t,i,r){return i+n+r})),cr.info("Replaced SDP response for setting depency descriptor"),cr.debug("New SDP value: ",t),t},setVideoBitrate:function(t,n){if(n<1)cr.info("Remove bitrate restrictions"),t=t.replace(/b=AS:.*\r\n/,"").replace(/b=TIAS:.*\r\n/,"");else{var i=ir.parse(t),r=i.getMedia("video");cr.info("Setting video bitrate"),r.setBitrate(n),t=i.toString()}return t},removeSdpLine:function(t,n){return cr.debug("SDP before trimming: ",t),t=t.split("\n").filter((function(t){return t.trim()!==n})).join("\n"),cr.debug("SDP trimmed result: ",t),t},adaptCodecName:function(t,n,i){if(!t)return t;var r=new RegExp("".concat(n),"i");return t.replace(r,i)},setMultiopus:function(t,n){if(!(new ar).isFirefox()&&(!n||gr(n)))if(t.includes("multiopus/48000/6"))cr.info("Multiopus already setted");else{cr.info("Setting multiopus");var i=/m=audio 9 UDP\/TLS\/RTP\/SAVPF (.*)\r\n/.exec(t)[0],r=lr.getAvailablePayloadTypeRange(t)[0],e=i.replace("\r\n"," ")+r+"\r\na=rtpmap:"+r+" multiopus/48000/6\r\na=fmtp:"+r+" channel_mapping=0,4,1,2,3,5;coupled_streams=2;minptime=10;num_streams=4;useinbandfec=1\r\n";t=t.replace(i,e),cr.info("Multiopus offer created"),cr.debug("SDP parsed for multioups: ",t)}return t},getAvailablePayloadTypeRange:function(t){for(var n=function(t){var n=i[t][1].split(" ").map((function(t){return A(t)}));r=r.filter((function(t){return!n.includes(t)}))},i=t.matchAll(/m=(?:.*) (?:.*) UDP\/TLS\/RTP\/SAVPF (.*)\r\n/gm),r=fr.concat(hr),e=0;e<i.length;e++)n(e);return r},getAvailableHeaderExtensionIdRange:function(t){for(var n=function(t){var n=i[t][1].split(" ").map((function(t){return A(t)}));r=r.filter((function(t){return!n.includes(t)}))},i=t.matchAll(/a=extmap:(\d+)(?:.*)\r\n/gm),r=vr.concat(dr),e=0;e<i.length;e++)n(e);return r},renegotiate:function(t,n){for(var i=ir.parse(t),r=ir.parse(n),e=0,u=i.getMedias();e<u.length;e++){var s=u[e],o=r.getMediaById(s.getId());if(!o){(o=new rr(s.getId(),s.getType())).setDirection(er.reverse(s.getDirection()));var a=r.getMedia(s.getType());if(a){o.setCodecs(a.getCodecs());for(var c=0,h=a.getExtensions();c<h.length;c++){var f=tn(h[c],2),v=f[0],d=f[1];o.addExtension(v,d)}}r.addMedia(o)}}return r.toString()},updateMissingVideoExtensions:function(t,n){var i,r=ir.parse(t),e=null==(i=ir.parse(n).getMediasByType("video")[0])?void 0:i.getExtensions();if(e||e.length){for(var u=function(n,i){var r=i[n],u=r.getExtensions();e.forEach((function(n,i){if(!u.get(i)){var e=r.getId(),s="a=extmap:"+i+" "+n+"\r\n",o=new RegExp("(a=mid:"+e+"\r\n(?:.*\r\n)*?)","g");t=t.replace(o,(function(t,n,i){return n+s}))}}))},s=0,o=r.getMediasByType("video");s<o.length;s++)u(s,o);return t}},getCodecPayloadType:function(t){for(var n=t.matchAll(/a=rtpmap:(\d+) (\w+)\/\d+/g),i={},r=0;r<n.length;r++){var e=n[r];i[e[1]]=e[2]}return i}},gr=function(t){return t.getAudioTracks().some((function(t){return t.getSettings().channelCount>2}))},wr={VP8:"vp8",VP9:"vp9",H264:"h264",AV1:"av1",H265:"h265"},mr={OPUS:"opus",MULTIOPUS:"multiopus"},yr=gt.get("PeerConnection"),pr="Publisher",_r="Viewer",br={track:"track",connectionStateChange:"connectionStateChange"},kr={stereo:!1,mediaStream:null,codec:"h264",simulcast:!1,scalabilityMode:null,disableAudio:!1,disableVideo:!1,setSDPToPeer:!0},Ar=function(t){function n(){var n;return(n=t.call(this)||this).mode=null,n.sessionDescription=null,n.peer=null,n.peerConnectionStats=null,n.transceiverMap=new Map,n}It(n,t);var i=n.prototype;return i.createRTCPeer=function(t,n){void 0===t&&(t={autoInitStats:!0,statsIntervalMs:1e3}),void 0===n&&(n=_r);var i=this;return Zt((function(){return Ht(this,(function(r){return yr.info("Creating new RTCPeerConnection"),yr.debug("RTC configuration provided by user: ",t),i.peer=Er(i,t),i.mode=n,t.autoInitStats&&i.initStats(t),[2]}))}))()},i.getRTCPeer=function(){return yr.info("Getting RTC Peer"),this.peer},i.closeRTCPeer=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){return yr.info("Closing RTCPeerConnection"),null==(n=t.peer)||n.close(),t.peer=null,t.stopStats(),t.emit(br.connectionStateChange,"closed"),[2]}))}))()},i.setRTCRemoteSDP=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:yr.info("Setting RTC Remote SDP"),i={type:"answer",sdp:t},e.label=1;case 1:return e.trys.push([1,3,,4]),[4,n.peer.setRemoteDescription(i)];case 2:return e.sent(),yr.info("RTC Remote SDP was set successfully."),yr.debug("RTC Remote SDP new value: ",t),[3,4];case 3:throw r=e.sent(),yr.error("Error while setting RTC Remote SDP: ",r),r;case 4:return[2]}}))}))()},i.getRTCLocalSDP=function(t){void 0===t&&(t=kr);var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return yr.info("Getting RTC Local SDP"),t=w(w({},kr),t),yr.debug("Options: ",t),(i=Sr(t.mediaStream))?Nr(n.peer,i,t):Dr(n.peer,t),yr.info("Creating peer offer"),[4,n.peer.createOffer()];case 1:return r=e.sent(),yr.info("Peer offer created"),yr.debug("Peer offer response: ",r.sdp),n.sessionDescription=r,t.disableAudio||(t.stereo&&(n.sessionDescription.sdp=lr.setStereo(n.sessionDescription.sdp)),t.dtx&&(n.sessionDescription.sdp=lr.setDTX(n.sessionDescription.sdp)),n.sessionDescription.sdp=lr.setMultiopus(n.sessionDescription.sdp,i)),!t.disableVideo&&t.simulcast&&(n.sessionDescription.sdp=lr.setSimulcast(n.sessionDescription.sdp,t.codec)),t.absCaptureTime&&(n.sessionDescription.sdp=lr.setAbsoluteCaptureTime(n.sessionDescription.sdp)),t.dependencyDescriptor&&(n.sessionDescription.sdp=lr.setDependencyDescriptor(n.sessionDescription.sdp)),t.setSDPToPeer?[4,n.peer.setLocalDescription(n.sessionDescription)]:[3,3];case 2:e.sent(),yr.info("Peer local description set"),e.label=3;case 3:return[2,n.sessionDescription.sdp]}}))}))()},i.addRemoteTrack=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){return[2,new et((function(r,e){try{var u=i.peer.addTransceiver(t,{direction:"recvonly",streams:n});i.transceiverMap.set(u,r)}catch(t){e(t)}}))]}))}))()},i.updateBandwidthRestriction=function(t,n){if(this.mode===_r)throw yr.error("Viewer attempting to update bitrate, this is not allowed"),new p("It is not possible for a viewer to update the bitrate.");return yr.info("Updating bandwidth restriction, bitrate value: ",n),yr.debug("SDP value: ",t),lr.setVideoBitrate(t,n)},i.updateBitrate=function(t){void 0===t&&(t=0);var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:if(n.mode===_r)throw yr.error("Viewer attempting to update bitrate, this is not allowed"),new p("It is not possible for a viewer to update the bitrate.");if(!n.peer)throw yr.error("Cannot update bitrate. No peer found."),new p("Cannot update bitrate. No peer found.");return yr.info("Updating bitrate to value: ",t),[4,n.peer.createOffer()];case 1:return n.sessionDescription=r.sent(),[4,n.peer.setLocalDescription(n.sessionDescription)];case 2:return r.sent(),i=n.updateBandwidthRestriction(n.peer.remoteDescription.sdp,t),[4,n.setRTCRemoteSDP(i)];case 3:return r.sent(),yr.info("Bitrate restrictions updated: ","".concat(t>0?t:"unlimited"," kbps")),[2]}}))}))()},i.getRTCPeerStatus=function(){if(yr.info("Getting RTC peer status"),!this.peer)return null;var t=Pr(this.peer);return yr.info("RTC peer status getted, value: ",t),t},i.replaceTrack=function(t){if(this.peer){var n=this.peer.getSenders().find((function(n){return n.track.kind===t.kind}));n?n.replaceTrack(t):yr.error("There is no ".concat(t.kind," track in active broadcast."))}else yr.error("Could not change track if there is not an active connection.")},i.getTracks=function(){var t,n;return null==(n=null==(t=this.peer)?void 0:t.getSenders())?void 0:n.map((function(t){return t.track}))},i.initStats=function(t){this.peerConnectionStats?yr.warn("PeerConnection.initStats() has already been called. Automatic initialization occurs via View.connect(), Publish.connect() or this.createRTCPeer(). See options"):this.peer?(this.peerConnectionStats=new Yt(this.peer,t),Vt(this.peerConnectionStats,this,[Gt])):yr.warn("Cannot init peer stats: RTCPeerConnection not initialized")},i.stopStats=function(){var t;null==(t=this.peerConnectionStats)||t.stop(),this.peerConnectionStats=null},n.getCapabilities=function(t){var n=new ar,i=RTCRtpSender.getCapabilities(t);if(i){var r={},e=new RegExp("^video/(".concat(b.values(wr).join("|"),")x?$"),"i");"audio"===t&&(e=new RegExp("^audio/(".concat(b.values(mr).join("|"),")$"),"i"),n.isChrome()&&(r.multiopus={mimeType:"audio/multiopus",channels:6}));for(var u=0,s=i.codecs;u<s.length;u++){var o=s[u],a=o.mimeType.match(e);if(a){var c=a[1].toLowerCase();if(r[c]=R(w({},r[c]),{mimeType:o.mimeType}),o.scalabilityModes){var h=r[c].scalabilityModes||[];h=Ft(h).concat(Ft(o.scalabilityModes)),r[c].scalabilityModes=Ft(new Set(h))}o.channels&&(r[c].channels=o.channels)}}i.codecs=b.keys(r).map((function(t){return w({codec:t},r[t])}))}return i},n}(Lt),Tr=function(t){return(null==t?void 0:t.getAudioTracks().length)<=1&&(null==t?void 0:t.getVideoTracks().length)<=1},Sr=function(t){if(!t)return null;if(t instanceof MediaStream&&Tr(t))return t;if(!(t instanceof MediaStream)){yr.info("Creating MediaStream to add received tracks.");for(var n=new MediaStream,i=0;i<t.length;i++){var r=t[i];n.addTrack(r)}if(Tr(n))return n}throw yr.error("MediaStream must have 1 audio track and 1 video track, or at least one of them."),new p("MediaStream must have 1 audio track and 1 video track, or at least one of them.")},Er=function(t,n){var i=new RTCPeerConnection(n);return Cr(t,i),i};function Ir(t){return Rr.apply(this,arguments)}function Rr(){return Rr=Zt((function(t){return Ht(this,(function(n){return[2,new et((function(n){return g(n,t)}))]}))})),Rr.apply(this,arguments)}var Cr=function(t,n){n.ontrack=Zt((function(n){var i;return Ht(this,(function(r){switch(r.label){case 0:if(yr.info("New track from peer."),yr.debug("Track event value: ",n),!(i=t.transceiverMap.get(n.transceiver)))return[3,5];r.label=1;case 1:return n.transceiver.mid?[3,4]:[4,Ir(100)];case 2:r.sent(),r.label=3;case 3:return[3,1];case 4:i(n.transceiver),t.transceiverMap.delete(n.transceiver),r.label=5;case 5:return g((function(){t.emit(br.track,n)}),0),[2]}}))})),n.connectionState?n.onconnectionstatechange=function(i){yr.info("Peer connection state change: ",n.connectionState),t.emit(br.connectionStateChange,n.connectionState)}:n.oniceconnectionstatechange=function(i){yr.info("Peer ICE connection state change: ",n.iceConnectionState),t.emit(br.connectionStateChange,n.iceConnectionState)},n.onnegotiationneeded=Zt((function(t){var i,r;return Ht(this,(function(t){switch(t.label){case 0:return n.remoteDescription?(yr.info("Peer onnegotiationneeded, updating local description"),[4,n.createOffer()]):[2];case 1:return i=t.sent(),yr.info("Peer onnegotiationneeded, got local offer",i.sdp),i.sdp=lr.updateMissingVideoExtensions(i.sdp,n.remoteDescription.sdp),[4,n.setLocalDescription(i)];case 2:return t.sent(),r=lr.renegotiate(i.sdp,n.remoteDescription.sdp),yr.info("Peer onnegotiationneeded, updating remote description",r),[4,n.setRemoteDescription({type:"answer",sdp:r})];case 3:return t.sent(),yr.info("Peer onnegotiationneeded, renegotiation done"),[2]}}))}))},Nr=function(t,n,i){yr.info("Adding mediaStream tracks to RTCPeerConnection");for(var r=0,e=n.getTracks();r<e.length;r++){var u=e[r],s={streams:[n]};"audio"===u.kind&&(s.direction=i.disableAudio?"inactive":"sendonly"),"video"===u.kind&&(s.direction=i.disableVideo?"inactive":"sendonly",i.scalabilityMode&&(new ar).isChrome()?(yr.debug("Video track with scalability mode: ".concat(i.scalabilityMode,".")),s.sendEncodings=[{scalabilityMode:i.scalabilityMode}]):i.scalabilityMode&&yr.warn("SVC is only supported in Google Chrome")),t.addTransceiver(u,s),yr.info("Track '".concat(u.label,"' added: "),"id: ".concat(u.id),"kind: ".concat(u.kind))}},Dr=function(t,n){var i=new ar;if(!n.disableVideo){var r=t.addTransceiver("video",{direction:"recvonly"});i.isOpera()&&r.setCodecPreferences(RTCRtpReceiver.getCapabilities("video").codecs.filter((function(t){return"video/H264"!==t.mimeType||t.sdpFmtpLine.includes("profile-level-id=4")})))}n.disableAudio||t.addTransceiver("audio",{direction:"recvonly"});for(var e=0;e<n.multiplexedAudioTracks;e++)t.addTransceiver("audio",{direction:"recvonly"})},Pr=function(t){var n,i=null!=(n=t.connectionState)?n:t.iceConnectionState;switch(i){case"checking":return"connecting";case"completed":return"connected";default:return i}},xr={};b.defineProperty(xr,"__esModule",{value:!0}),xr.TypedEmitter=xt.EventEmitter;var Lr=xr.TypedEmitter,Mr=function(t){function n(n,i){var r;return(r=t.call(this)||this).namespace=n,r.tm=i,r}It(n,t);var i=n.prototype;return i.cmd=function(t,n){return this.tm.cmd(t,n,this.namespace)},i.event=function(t,n){return this.tm.event(t,n,this.namespace)},i.close=function(){return this.tm.namespaces.delete(this.namespace)},n}(Lr),Or=function(t){function n(n){var i;return(i=t.call(this)||this).maxId=0,i.namespaces=new Map,i.transactions=new Map,i.transport=n,i.listener=function(t){var n;try{n=JSON.parse(t.utf8Data||t.data||t)}catch(t){return}switch(n.type){case"cmd":var r=n.transId,e={name:n.name,data:n.data,namespace:n.namespace,accept:function(t){i.s_({type:"response",transId:r,data:t})},reject:function(t){i.s_({type:"error",transId:r,data:t})}};if(e.namespace){var u=i.namespaces.get(e.namespace);u?u.emit("cmd",e):i.emit("cmd",e)}else i.emit("cmd",e);break;case"response":var s=i.transactions.get(n.transId);if(!s)return;i.transactions.delete(n.transId),s.resolve(n.data);break;case"error":var o=i.transactions.get(n.transId);if(!o)return;i.transactions.delete(n.transId),o.reject(n.data);break;case"event":var a={name:n.name,data:n.data,namespace:n.namespace};if(a.namespace){var c=i.namespaces.get(a.namespace);c?c.emit("event",a):i.emit("event",a)}else i.emit("event",a)}},i.transport.addListener?i.transport.addListener("message",i.listener):i.transport.addEventListener("message",i.listener),i}It(n,t);var i=n.prototype;return i.s_=function(t){this.transport.send(JSON.stringify(t))},i.cmd=function(t,n,i){var r=this;return void 0===i&&(i=void 0),new et((function(e,u){if(!t||0===t.length)throw new p("Bad command name");var s={type:"cmd",transId:r.maxId++,name:t,data:n};i&&(s.namespace=i),r.transactions.set(s.transId,R(w({},s),{resolve:e,reject:u}));try{r.s_(s)}catch(t){throw r.transactions.delete(s.transId),t}}))},i.event=function(t,n,i){if(void 0===i&&(i=void 0),!t||0===t.length)throw new p("Bad event name");var r={type:"event",name:t,data:n};i&&(r.namespace=i),this.s_(r)},i.namespace=function(t){var n=this.namespaces.get(t);return n||(n=new Mr(t,this),this.namespaces.set(t,n),n)},i.close=function(){for(var t=0,n=this.namespaces.values();t<n.length;t++)n[t].close();this.transport.removeListener?this.transport.removeListener("message",this.listener):this.transport.removeEventListener("message",this.listener)},n}(Lr),Br=D(Or),Vr=gt.get("Signaling"),Fr="wsConnectionSuccess",Ur="wsConnectionError",Wr="wsConnectionClose",Zr="broadcastEvent",Xr=function(t){function n(n){var i;return void 0===n&&(n={streamName:null,url:"ws://localhost:8080/"}),(i=t.call(this)||this).streamName=n.streamName,i.wsUrl=n.url,i.webSocket=null,i.transactionManager=null,i.serverId=null,i.clusterId=null,i.streamViewId=null,i}It(n,t);var i=n.prototype;return i.connect=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){return[2,(Vr.info("Connecting to Signaling Server"),t.transactionManager&&(null==(n=t.webSocket)?void 0:n.readyState)===WebSocket.OPEN?(Vr.info("Connected to server: ",t.webSocket.url),Vr.debug("WebSocket value: ",{url:t.webSocket.url,protocol:t.webSocket.protocol,readyState:t.webSocket.readyState,binaryType:t.webSocket.binaryType,extensions:t.webSocket.extensions}),t.emit(Fr,{ws:t.webSocket,tm:t.transactionManager}),t.webSocket):new et((function(n,i){t.webSocket=new WebSocket(t.wsUrl),t.transactionManager=new Br(t.webSocket),t.webSocket.onopen=function(){Vr.info("WebSocket opened"),t.transactionManager.on("event",(function(n){t.emit(Zr,n)})),Vr.info("Connected to server: ",t.webSocket.url),Vr.debug("WebSocket value: ",{url:t.webSocket.url,protocol:t.webSocket.protocol,readyState:t.webSocket.readyState,binaryType:t.webSocket.binaryType,extensions:t.webSocket.extensions}),t.emit(Fr,{ws:t.webSocket,tm:t.transactionManager}),n(t.webSocket)},t.webSocket.onerror=function(){Vr.error("WebSocket not connected: ",t.webSocket.url),t.emit(Ur,t.webSocket.url),i(t.webSocket.url)},t.webSocket.onclose=function(){t.webSocket=null,t.transactionManager=null,Vr.info("Connection closed with Signaling Server."),t.emit(Wr)}})))]}))}))()},i.close=function(){var t;Vr.info("Closing connection with Signaling Server."),null==(t=this.webSocket)||t.close()},i.subscribe=function(t,n,i,r){void 0===i&&(i=null),void 0===r&&(r=null);var e=this;return Zt((function(){var u,s,o,a,c,h,f,v,d,l;return Ht(this,(function(g){switch(g.label){case 0:Vr.info("Starting subscription to streamName: ",e.streamName),Vr.debug("Subcription local description: ",t),c=Gr(n,i,r),t=lr.adaptCodecName(t,"AV1X",wr.AV1),h=["active","inactive","layers","viewercount","vad","updated","migrate","stopped"],f={sdp:t,streamId:e.streamName,pinnedSourceId:c.pinnedSourceId,excludedSourceIds:c.excludedSourceIds,events:h},c.vad&&(f.vad=!0),Array.isArray(c.events)&&(f.events=c.events),c.forcePlayoutDelay&&(f.forcePlayoutDelay=c.forcePlayoutDelay),c.layer&&(f.layer=c.layer),g.label=1;case 1:if(g.trys.push([1,4,,5]),c.disableVideo&&c.disableAudio)throw new p("Not attempting to connect as video and audio are disabled");return[4,e.connect()];case 2:return g.sent(),Vr.info("Sending view command"),[4,e.transactionManager.cmd("view",f)];case 3:return v=g.sent(),d=null==(a=null==(o=null==(s=null==(u=RTCRtpReceiver.getCapabilities)?void 0:u.call(RTCRtpReceiver,"video"))?void 0:s.codecs)?void 0:o.find)?void 0:a.call(o,(function(t){return"video/AV1X"===t.mimeType})),[2,(v.sdp=d?lr.adaptCodecName(v.sdp,wr.AV1,"AV1X"):v.sdp,Vr.info("Command sent, subscriberId: ",v.subscriberId),Vr.debug("Command result: ",v),e.serverId=v.subscriberId,e.clusterId=v.clusterId,e.streamViewId=v.streamViewId,j(e.streamName),K(e.serverId),q(v.streamViewId),nt(e.clusterId),v.sdp)];case 4:throw l=g.sent(),Vr.error("Error sending view command, error: ",l),l;case 5:return[2]}}))}))()},i.publish=function(t,n,i,r){void 0===i&&(i=null),void 0===r&&(r=null);var e=this;return Zt((function(){var u,s,o,a,c,h,f,v,d,l,g,w,m,y,_;return Ht(this,(function(k){switch(k.label){case 0:if(d=Hr(n,i,r),Vr.info("Starting publishing to streamName: ".concat(e.streamName,", codec: ").concat(d.codec)),Vr.debug("Publishing local description: ",t),l=null!=(a=null==(o=null==(s=null==(u=Ar.getCapabilities)?void 0:u.call(Ar,"video"))?void 0:s.codecs)?void 0:o.map((function(t){return t.codec})))?a:[],-1===(g=b.values(wr)).indexOf(d.codec))throw Vr.error("Invalid codec ".concat(d.codec,". Possible values are: "),g),new p("Invalid codec ".concat(d.codec,". Possible values are: ").concat(g));if(l.length>0&&-1===l.indexOf(d.codec))throw Vr.error("Unsupported codec ".concat(d.codec,". Possible values are: "),l),new p("Unsupported codec ".concat(d.codec,". Possible values are: ").concat(l));if(d.codec===wr.AV1&&(t=lr.adaptCodecName(t,"AV1X",wr.AV1)),w={name:e.streamName,sdp:t,codec:d.codec,sourceId:d.sourceId},d.priority){if(!(Number.isInteger(d.priority)&&d.priority>=-2147483648&&d.priority<=2147483647))throw new p("Invalid value for priority option. It should be a decimal integer between the range [-2^31, +2^31 - 1]");w.priority=d.priority}null!==d.record&&(w.record=d.record),Array.isArray(d.events)&&(w.events=d.events),k.label=1;case 1:if(k.trys.push([1,4,,5]),d.disableVideo&&d.disableAudio)throw new p("Not attempting to connect as video and audio are disabled");return[4,e.connect()];case 2:return k.sent(),Vr.info("Sending publish command"),[4,e.transactionManager.cmd("publish",w)];case 3:return m=k.sent(),d.codec===wr.AV1&&(y=null==(v=null==(f=null==(h=null==(c=RTCRtpSender.getCapabilities)?void 0:c.call(RTCRtpSender,"video"))?void 0:h.codecs)?void 0:f.find)?void 0:v.call(f,(function(t){return"video/AV1X"===t.mimeType})),m.sdp=y?lr.adaptCodecName(m.sdp,wr.AV1,"AV1X"):m.sdp),[2,(Vr.info("Command sent, publisherId: ",m.publisherId),Vr.debug("Command result: ",m),e.serverId=m.publisherId,e.clusterId=m.clusterId,j(e.streamName),K(e.serverId),J(m.feedId),nt(e.clusterId),m.sdp)];case 4:throw _=k.sent(),Vr.error("Error sending publish command, error: ",_),_;case 5:return[2]}}))}))()},i.cmd=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){return[2,(Vr.info("Sending cmd: ".concat(t)),i.transactionManager.cmd(t,n))]}))}))()},n}(Lt),Gr=function(t,n,i){var r="object"==(void 0===t?"undefined":U(t))?t:{};return 0===b.keys(r).length&&(r={vad:t,pinnedSourceId:n,excludedSourceIds:i}),r},Hr=function(t,n,i){var r="object"==(void 0===t?"undefined":U(t))?t:{};return 0===b.keys(r).length&&(r={codec:null!=t?t:wr.H264,record:n,sourceId:i}),r},zr=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).name="FetchError",r.status=i,r}return It(n,t),n}(gn(p)),Yr=gt.get("Director"),jr="WebRtc",Kr="",qr="https://director.millicast.com",Jr={setEndpoint:function(t){qr=t.replace(/\/$/,"")},getEndpoint:function(){return qr},setLiveDomain:function(t){Kr=t.replace(/\/$/,"")},getLiveDomain:function(){return Kr},getPublisher:Zt((function(t,n,i){var r,e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:void 0===n&&(n=null),void 0===i&&(i=jr),r=Qr(t,n,i),Yr.info("Getting publisher connection path for stream name: ",r.streamName),e={streamName:r.streamName,streamType:r.streamType},u={"Content-Type":"application/json",Authorization:"Bearer ".concat(r.token)},s="".concat(Jr.getEndpoint(),"/api/director/publish"),h.label=1;case 1:return h.trys.push([1,4,,5]),[4,fetch(s,{method:"POST",headers:u,body:JSON.stringify(e)})];case 2:return[4,(o=h.sent()).json()];case 3:if("fail"===(a=h.sent()).status)throw new zr(a.data.message,o.status);return[2,(a=te(a),Yr.debug("Getting publisher response: ",a),Y(a.data.streamAccountId),a.data)];case 4:throw c=h.sent(),Yr.error("Error while getting publisher connection path. ",c),c;case 5:return[2]}}))})),getSubscriber:Zt((function(t,n,i){var r,e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:void 0===n&&(n=null),void 0===i&&(i=null),r=$r(t,n,i),Y(r.streamAccountId),Yr.info("Getting subscriber connection data for stream name: ".concat(r.streamName," and account id: ").concat(r.streamAccountId)),e={streamAccountId:r.streamAccountId,streamName:r.streamName},u={"Content-Type":"application/json"},r.subscriberToken&&(u=R(w({},u),{Authorization:"Bearer ".concat(r.subscriberToken)})),s="".concat(Jr.getEndpoint(),"/api/director/subscribe"),h.label=1;case 1:return h.trys.push([1,4,,5]),[4,fetch(s,{method:"POST",headers:u,body:JSON.stringify(e)})];case 2:return[4,(o=h.sent()).json()];case 3:if("fail"===(a=h.sent()).status)throw new zr(a.data.message,o.status);return[2,(a=te(a),Yr.debug("Getting subscriber response: ",a),r.subscriberToken&&(a.data.subscriberToken=r.subscriberToken),a.data)];case 4:throw c=h.sent(),Yr.error("Error while getting subscriber connection path. ",c),c;case 5:return[2]}}))}))},Qr=function(t,n,i){var r="object"==(void 0===t?"undefined":U(t))?t:{};return 0===b.keys(r).length&&(r={token:t,streamName:n,streamType:i}),r},$r=function(t,n,i){var r="object"==(void 0===t?"undefined":U(t))?t:{};return 0===b.keys(r).length&&(r={streamName:t,streamAccountId:n,subscriberToken:i}),r},te=function(t){if(Jr.getLiveDomain()){var n=/\/\/(.*?)\//,i=t.data.urls.map((function(t){var i=n.exec(t);return t.replace(i[1],Jr.getLiveDomain())}));t.data.urls=i}if(t.data.drmObject){var r=t.data.drmObject.playReadyUrl;r&&(t.data.drmObject.playReadyUrl="".concat(Jr.getEndpoint()).concat(r));var e=t.data.drmObject.widevineUrl;e&&(t.data.drmObject.widevineUrl="".concat(Jr.getEndpoint()).concat(e));var u=t.data.drmObject.fairPlayUrl;u&&(t.data.drmObject.fairPlayUrl="".concat(Jr.getEndpoint()).concat(u));var s=t.data.drmObject.fairPlayCertUrl;s&&(t.data.drmObject.fairPlayCertUrl="".concat(Jr.getEndpoint()).concat(s))}return t};function ne(t){this.message=t}ne.prototype=new p,ne.prototype.name="InvalidCharacterError";var ie=(void 0===f?"undefined":U(f))<"u"&&f.atob&&f.atob.bind(f)||function(t){var n=String(t).replace(/=+$/,"");if(n.length%4==1)throw new ne("'atob' failed: The string to be decoded is not correctly encoded.");for(var i,r,e=0,u=0,s="";r=n.charAt(u++);~r&&(i=e%4?64*i+r:r,e++%4)?s+=String.fromCharCode(255&i>>(-2*e&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return s};function re(t){this.message=t}function ee(t,n){if("string"!=typeof t)throw new re("Invalid token specified");var i=!0===(n=n||{}).header?0:1;try{return JSON.parse(function(t){var n=t.replace(/-/g,"+").replace(/_/g,"/");switch(n.length%4){case 0:break;case 2:n+="==";break;case 3:n+="=";break;default:throw"Illegal base64url string!"}try{return function(t){return decodeURIComponent(ie(t).replace(/(.)/g,(function(t,n){var i=n.charCodeAt(0).toString(16).toUpperCase();return i.length<2&&(i="0"+i),"%"+i})))}(n)}catch(t){return ie(n)}}(t.split(".")[i]))}catch(t){throw new re("Invalid token specified: "+t.message)}}re.prototype=new p,re.prototype.name="InvalidTokenError";var ue={exports:{}};!function(t,n){!function(i){if(null!=n&&"number"!=typeof n.nodeType)t.exports=i();else{var r=i(),e=("undefined"==typeof self?"undefined":U(self))<"u"?self:$.global;"function"!=typeof e.btoa&&(e.btoa=r.btoa),"function"!=typeof e.atob&&(e.atob=r.atob)}}((function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function n(t){this.message=t}return n.prototype=new p,n.prototype.name="InvalidCharacterError",{btoa:function(i){for(var r,e,u,s,o=String(i),a=0,c="";a<o.length;){if(r=o.charCodeAt(a++),e=o.charCodeAt(a++),u=o.charCodeAt(a++),r>255||e>255||u>255)throw new n("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");c+=t.charAt((s=r<<16|e<<8|u)>>18&63)+t.charAt(s>>12&63)+t.charAt(s>>6&63)+t.charAt(63&s)}switch(o.length%3){case 0:return c;case 1:return c.slice(0,-2)+"==";case 2:return c.slice(0,-1)+"="}},atob:function(i){var r=String(i).replace(/[=]+$/,"");if(r.length%4==1)throw new n("'atob' failed: The string to be decoded is not correctly encoded.");for(var e,u,s=0,o=0,a="";u=r.charAt(o++);~u&&(e=s%4?64*e+u:u,s++%4)?a+=String.fromCharCode(255&e>>(-2*s&6)):0)u=t.indexOf(u);return a}}}))}(ue,ue.exports);var se=ue.exports,oe={exports:{}};!function(t,e){self,t.exports=function(){return t={7629:function(t,n,i){var r=i(375),e=i(8571),u=i(9474),s=i(1687),o=i(8652),a=i(8160),c=i(3292),h=i(6354),f=i(8901),v=i(9708),d=i(6914),l=i(2294),g=i(6133),w=i(1152),m=i(8863),y=i(2036),_={Base:function(){function t(t){this.type=t,this.$_root=null,this.m_={},this.n_()}var n=t.prototype;return n.n_=function(){this.r_=new l.Ids,this.o_=null,this.h_=new g.Manager,this.a_=null,this.u_=null,this.c_=null,this.l_={},this.d_=[],this.f_=new Map,this.$_terms={},this.$_temp={ruleset:null,whens:{}}},n.describe=function(){return r("function"==typeof v.describe,"Manifest functionality disabled"),v.describe(this)},n.allow=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return a.verifyFlat(n,"allow"),this.__(n,"u_")},n.alter=function(t){r(t&&"object"==(void 0===t?"undefined":U(t))&&!Array.isArray(t),"Invalid targets argument"),r(!this.v_(),"Cannot set alterations inside a ruleset");var n=this.clone();for(var i in n.$_terms.alterations=n.$_terms.alterations||[],t){var e=t[i];r("function"==typeof e,"Alteration adjuster for",i,"must be a function"),n.$_terms.alterations.push({target:i,adjuster:e})}return n.$_temp.ruleset=!1,n},n.artifact=function(t){return r(void 0!==t,"Artifact cannot be undefined"),r(!this.a_,"Cannot set an artifact with a rule cache"),this.$_setFlag("artifact",t)},n.cast=function(t){return r(!1===t||"string"==typeof t,"Invalid to value"),r(!1===t||this.m_.cast[t],"Type",this.type,"does not support casting to",t),this.$_setFlag("cast",!1===t?void 0:t)},n.default=function(t,n){return this.g_("default",t,n)},n.description=function(t){return r(t&&"string"==typeof t,"Description must be a non-empty string"),this.$_setFlag("description",t)},n.empty=function(t){var n=this.clone();return void 0!==t&&(t=n.$_compile(t,{override:!1})),n.$_setFlag("empty",t,{clone:!1})},n.error=function(t){return r(t,"Missing error"),r(t instanceof p||"function"==typeof t,"Must provide a valid Error object or a function"),this.$_setFlag("error",t)},n.example=function(t,n){return void 0===n&&(n={}),r(void 0!==t,"Missing example"),a.assertOptions(n,["override"]),this.p_("examples",t,{single:!0,override:n.override})},n.external=function(t,n){return"object"==(void 0===t?"undefined":U(t))&&(r(!n,"Cannot combine options with description"),n=t.description,t=t.method),r("function"==typeof t,"Method must be a function"),r(void 0===n||n&&"string"==typeof n,"Description must be a non-empty string"),this.p_("externals",{method:t,description:n},{single:!0})},n.failover=function(t,n){return this.g_("failover",t,n)},n.forbidden=function(){return this.presence("forbidden")},n.id=function(t){return t?(r("string"==typeof t,"id must be a non-empty string"),r(/^[^\.]+$/.test(t),"id cannot contain period character"),this.$_setFlag("id",t)):this.$_setFlag("id",void 0)},n.invalid=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return this.__(n,"c_")},n.label=function(t){return r(t&&"string"==typeof t,"Label name must be a non-empty string"),this.$_setFlag("label",t)},n.meta=function(t){return r(void 0!==t,"Meta cannot be undefined"),this.p_("metas",t,{single:!0})},n.note=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];r(n.length,"Missing notes");for(var e=0;e<n.length;e++){var u=n[e];r(u&&"string"==typeof u,"Notes must be non-empty strings")}return this.p_("notes",n)},n.only=function(t){return void 0===t&&(t=!0),r("boolean"==typeof t,"Invalid mode:",t),this.$_setFlag("only",t)},n.optional=function(){return this.presence("optional")},n.prefs=function(t){r(t,"Missing preferences"),r(void 0===t.context,"Cannot override context"),r(void 0===t.externals,"Cannot override externals"),r(void 0===t.warnings,"Cannot override warnings"),r(void 0===t.debug,"Cannot override debug"),a.checkPreferences(t);var n=this.clone();return n.o_=a.preferences(n.o_,t),n},n.presence=function(t){return r(["optional","required","forbidden"].includes(t),"Unknown presence mode",t),this.$_setFlag("presence",t)},n.raw=function(t){return void 0===t&&(t=!0),this.$_setFlag("result",t?"raw":void 0)},n.result=function(t){return r(["raw","strip"].includes(t),"Unknown result mode",t),this.$_setFlag("result",t)},n.required=function(){return this.presence("required")},n.strict=function(t){var n=this.clone(),i=void 0!==t&&!t;return n.o_=a.preferences(n.o_,{convert:i}),n},n.strip=function(t){return void 0===t&&(t=!0),this.$_setFlag("result",t?"strip":void 0)},n.tag=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];r(n.length,"Missing tags");for(var e=0;e<n.length;e++){var u=n[e];r(u&&"string"==typeof u,"Tags must be non-empty strings")}return this.p_("tags",n)},n.unit=function(t){return r(t&&"string"==typeof t,"Unit name must be a non-empty string"),this.$_setFlag("unit",t)},n.valid=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];a.verifyFlat(n,"valid");var r=this.allow.apply(this,Ft(n));return r.$_setFlag("only",!!r.u_,{clone:!1}),r},n.when=function(t,n){var i=this.clone();i.$_terms.whens||(i.$_terms.whens=[]);var e=c.when(i,t,n);if(!["any","link"].includes(i.type))for(var u=e.is?[e]:e.switch,s=0;s<u.length;s++){var o=u[s];r(!o.then||"any"===o.then.type||o.then.type===i.type,"Cannot combine",i.type,"with",o.then&&o.then.type),r(!o.otherwise||"any"===o.otherwise.type||o.otherwise.type===i.type,"Cannot combine",i.type,"with",o.otherwise&&o.otherwise.type)}return i.$_terms.whens.push(e),i.$_mutateRebuild()},n.cache=function(t){r(!this.v_(),"Cannot set caching inside a ruleset"),r(!this.a_,"Cannot override schema cache"),r(void 0===this.l_.artifact,"Cannot cache a rule with an artifact");var n=this.clone();return n.a_=t||o.provider.provision(),n.$_temp.ruleset=!1,n},n.clone=function(){var t=b.create(b.getPrototypeOf(this));return this.w_(t)},n.concat=function(t){var n=function(t,n){var r=n[t];i.f_.has(r)&&(i.d_=i.d_.filter((function(t){return t.keep||t.name!==r})),i.f_.delete(r))};r(a.isSchema(t),"Invalid schema object"),r("any"===this.type||"any"===t.type||t.type===this.type,"Cannot merge type",this.type,"with another type:",t.type),r(!this.v_(),"Cannot concatenate onto a schema with open ruleset"),r(!t.v_(),"Cannot concatenate a schema with open ruleset");var i=this.clone();if("any"===this.type&&"any"!==t.type){for(var e=t.clone(),u=0,o=b.keys(i);u<o.length;u++){var c=o[u];"type"!==c&&(e[c]=i[c])}i=e}i.r_.concat(t.r_),i.h_.register(t,g.toSibling),i.o_=i.o_?a.preferences(i.o_,t.o_):t.o_,i.u_=y.merge(i.u_,t.u_,t.c_),i.c_=y.merge(i.c_,t.c_,t.u_);for(var h=0,f=t.f_.keys();h<f.length;h++)n(h,f);for(var v=0,d=t.d_;v<d.length;v++){var l=d[v];t.m_.rules[l.method].multi||i.f_.set(l.name,l),i.d_.push(l)}if(i.l_.empty&&t.l_.empty){i.l_.empty=i.l_.empty.concat(t.l_.empty);var w=b.assign({},t.l_);delete w.empty,s(i.l_,w)}else if(t.l_.empty){i.l_.empty=t.l_.empty;var m=b.assign({},t.l_);delete m.empty,s(i.l_,m)}else s(i.l_,t.l_);for(var p in t.$_terms){var _=t.$_terms[p];_?i.$_terms[p]?i.$_terms[p]=i.$_terms[p].concat(_):i.$_terms[p]=_.slice():i.$_terms[p]||(i.$_terms[p]=_)}return this.$_root.y_&&this.$_root.y_.b_(i,[this,t]),i.$_mutateRebuild()},n.extend=function(t){return r(!t.base,"Cannot extend type with another base"),f.type(this,t)},n.extract=function(t){return t=Array.isArray(t)?t:t.split("."),this.r_.reach(t)},n.fork=function(t,n){r(!this.v_(),"Cannot fork inside a ruleset");for(var i=this,e=0,u=[].concat(t);e<u.length;e++){var s=u[e];s=Array.isArray(s)?s:s.split("."),i=i.r_.fork(s,n,i)}return i.$_temp.ruleset=!1,i},n.rule=function(t){var n=this.m_;a.assertOptions(t,b.keys(n.modifiers)),r(!1!==this.$_temp.ruleset,"Cannot apply rules to empty ruleset or the last rule added does not support rule properties");var i=null===this.$_temp.ruleset?this.d_.length-1:this.$_temp.ruleset;r(i>=0&&i<this.d_.length,"Cannot apply rules to empty ruleset");for(var u=this.clone(),s=i;s<u.d_.length;++s){var o=u.d_[s],c=e(o);for(var h in t)n.modifiers[h](c,t[h]),r(c.name===o.name,"Cannot change rule name");u.d_[s]=c,u.f_.get(c.name)===o&&u.f_.set(c.name,c)}return u.$_temp.ruleset=!1,u.$_mutateRebuild()},n.tailor=function(t){t=[].concat(t),r(!this.v_(),"Cannot tailor inside a ruleset");var n=this;if(this.$_terms.alterations)for(var i=0,e=this.$_terms.alterations;i<e.length;i++){var u=e[i],s=u.target,o=u.adjuster;t.includes(s)&&(n=o(n),r(a.isSchema(n),"Alteration adjuster for",s,"failed to return a schema object"))}return(n=n.$_modify({each:function(n){return n.tailor(t)},ref:!1})).$_temp.ruleset=!1,n.$_mutateRebuild()},n.tracer=function(){return w.location?w.location(this):this},n.validate=function(t,n){return m.entry(t,this,n)},n.validateAsync=function(t,n){return m.entryAsync(t,this,n)},n.$_addRule=function(t){for(var n in"string"==typeof t&&(t={name:t}),r(t&&"object"==(void 0===t?"undefined":U(t)),"Invalid options"),r(t.name&&"string"==typeof t.name,"Invalid rule name"),t)r("_"!==n[0],"Cannot set private rule properties");var i=b.assign({},t);i.Vd=[],i.method=i.method||i.name;var e=this.m_.rules[i.method],u=i.args;r(e,"Unknown rule",i.method);var s=this.clone();if(u)for(var o in r(1===b.keys(u).length||b.keys(u).length===this.m_.rules[i.name].args.length,"Invalid rule definition for",this.type,i.name),u){var c=u[o];if(e.argsByName){var h=e.argsByName.get(o);if(h.ref&&a.isResolvable(c))i.Vd.push(o),s.$_mutateRegister(c);else if(h.normalize&&(c=h.normalize(c),u[o]=c),h.assert){var f=a.validateArg(c,o,h);r(!f,f,"or reference")}}void 0!==c?u[o]=c:delete u[o]}return e.multi||(s.A_(i.name,{clone:!1}),s.f_.set(i.name,i)),!1===s.$_temp.ruleset&&(s.$_temp.ruleset=null),e.priority?s.d_.unshift(i):s.d_.push(i),s},n.$_compile=function(t,n){return c.schema(this.$_root,t,n)},n.$_createError=function(t,n,i,r,e,u){void 0===u&&(u={});var s=!1!==u.flags?this.l_:{},o=u.messages?d.merge(this.m_.messages,u.messages):this.m_.messages;return new h.Report(t,n,i,s,o,r,e)},n.$_getFlag=function(t){return this.l_[t]},n.$_getRule=function(t){return this.f_.get(t)},n.$_mapLabels=function(t){return t=Array.isArray(t)?t:t.split("."),this.r_.labels(t)},n.$_match=function(t,n,i,r){(i=b.assign({},i)).abortEarly=!0,i.S_=!1,n.snapshot();var e=!m.validate(t,this,n,i,r).errors;return n.restore(),e},n.$_modify=function(t){return a.assertOptions(t,["each","once","ref","schema"]),l.schema(this,t)||this},n.$_mutateRebuild=function(){var t=this;return r(!this.v_(),"Cannot add this rule inside a ruleset"),this.h_.reset(),this.r_.reset(),this.$_modify({each:function(n,i){var r=i.source,e=i.name,u=(i.path,i.key),s=t.m_[r][e]&&t.m_[r][e].register;!1!==s&&t.$_mutateRegister(n,{family:s,key:u})}}),this.m_.rebuild&&this.m_.rebuild(this),this.$_temp.ruleset=!1,this},n.$_mutateRegister=function(t,n){var i=void 0===n?{}:n,r=i.family,e=i.key;this.h_.register(t,r),this.r_.register(t,{key:e})},n.$_property=function(t){return this.m_.properties[t]},n.$_reach=function(t){return this.r_.reach(t)},n.$_rootReferences=function(){return this.h_.roots()},n.$_setFlag=function(t,n,i){void 0===i&&(i={}),r("_"===t[0]||!this.v_(),"Cannot set flag inside a ruleset");var e=this.m_.flags[t]||{};if(u(n,e.default)&&(n=void 0),u(n,this.l_[t]))return this;var s=!1!==i.clone?this.clone():this;return void 0!==n?(s.l_[t]=n,s.$_mutateRegister(n)):delete s.l_[t],"_"!==t[0]&&(s.$_temp.ruleset=!1),s},n.$_parent=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;return(e=this[t][a.symbols.parent]).call.apply(e,[this].concat(Ft(i)))},n.$_validate=function(t,n,i){return m.validate(t,this,n,i)},n.w_=function(t){for(var n in t.type=this.type,t.$_root=this.$_root,t.$_temp=b.assign({},this.$_temp),t.$_temp.whens={},t.r_=this.r_.clone(),t.o_=this.o_,t.u_=this.u_&&this.u_.clone(),t.c_=this.c_&&this.c_.clone(),t.d_=this.d_.slice(),t.f_=e(this.f_,{shallow:!0}),t.h_=this.h_.clone(),t.l_=b.assign({},this.l_),t.a_=null,t.$_terms={},this.$_terms)t.$_terms[n]=this.$_terms[n]?this.$_terms[n].slice():null;for(var i in t.$_super={},this.$_super)t.$_super[i]=this.T_[i].bind(t);return t},n.k_=function(){var t=this.clone();t.n_();var n=t.m_.terms;for(var i in n){var r=n[i];t.$_terms[i]=r.init}return t.$_mutateRebuild()},n.g_=function(t,n,i){var e;return void 0===i&&(i={}),a.assertOptions(i,"literal"),r(void 0!==n,"Missing",t,"value"),r("function"==typeof n||!i.literal,"Only function value supports literal option"),"function"==typeof n&&i.literal&&(un(e={},a.symbols.literal,!0),un(e,"literal",n),n=e),this.$_setFlag(t,n)},n.E_=function(t,n,i){if(!this.$_terms.whens)return{schema:this};for(var r=[],e=[],u=0;u<this.$_terms.whens.length;++u){var s=this.$_terms.whens[u];if(s.concat)r.push(s.concat),e.push("".concat(u,".concat"));else{for(var o=s.ref?s.ref.resolve(t,n,i):t,a=s.is?[s]:s.switch,c=e.length,h=0;h<a.length;++h){var f=a[h],v=f.is,d=f.then,l=f.otherwise,g="".concat(u).concat(s.switch?"."+h:"");if(v.$_match(o,n.nest(v,"".concat(g,".is")),i)){if(d){var w=n.localize(Ft(n.path).concat(["".concat(g,".then")]),n.ancestors,n.schemas),m=d.E_(t,w,i),y=m.schema,p=m.id;r.push(y),e.push("".concat(g,".then").concat(p?"(".concat(p,")"):""));break}}else if(l){var _=n.localize(Ft(n.path).concat(["".concat(g,".otherwise")]),n.ancestors,n.schemas),b=l.E_(t,_,i),k=b.schema,A=b.id;r.push(k),e.push("".concat(g,".otherwise").concat(A?"(".concat(A,")"):""));break}}if(s.break&&e.length>c)break}}var T=e.join(", ");if(n.mainstay.tracer.debug(n,"rule","when",T),!T)return{schema:this};if(!n.mainstay.tracer.active&&this.$_temp.whens[T])return{schema:this.$_temp.whens[T],id:T};var S=this;this.m_.generate&&(S=this.m_.generate(this,t,n,i));for(var E=0;E<r.length;E++){var I=r[E];S=S.concat(I)}return this.$_root.y_&&this.$_root.y_.b_(S,[this].concat(Ft(r))),this.$_temp.whens[T]=S,{schema:S,id:T}},n.p_=function(t,n,i){var e;void 0===i&&(i={}),r(!this.v_(),"Cannot set ".concat(t," inside a ruleset"));var u=this.clone();return u.$_terms[t]&&!i.override||(u.$_terms[t]=[]),i.single?u.$_terms[t].push(n):(e=u.$_terms[t]).push.apply(e,Ft(n)),u.$_temp.ruleset=!1,u},n.v_=function(){return null!==this.$_temp.ruleset&&!1!==this.$_temp.ruleset},n.A_=function(t,n){if(void 0===n&&(n={}),!this.f_.has(t))return this;var i=!1!==n.clone?this.clone():this;i.f_.delete(t);for(var r=[],e=0;e<i.d_.length;++e){var u=i.d_[e];u.name!==t||u.keep?r.push(u):i.v_()&&e<i.$_temp.ruleset&&--i.$_temp.ruleset}return i.d_=r,i},n.__=function(t,n){a.verifyFlat(t,n.slice(1,-1));var i=this.clone(),e=t[0]===a.symbols.override;if(e&&(t=t.slice(1)),!i[n]&&t.length?i[n]=new y:e&&(i[n]=t.length?new y:null,i.$_mutateRebuild()),!i[n])return i;e&&i[n].override();for(var u=0;u<t.length;u++){var s=t[u];r(void 0!==s,"Cannot call allow/valid/invalid with undefined"),r(s!==a.symbols.override,"Override must be the first value");var o="c_"===n?"u_":"c_";i[o]&&(i[o].remove(s),i[o].length||(r("u_"===n||!i.l_.only,"Setting invalid value",s,"leaves schema rejecting all values due to previous valid rule"),i[o]=null)),i[n].add(s,i.h_)}return i},Nt(t,[{key:"ruleset",get:function(){r(!this.v_(),"Cannot start a new ruleset without closing the previous one");var t=this.clone();return t.$_temp.ruleset=t.d_.length,t}},{key:"$",get:function(){return this.ruleset}}]),t}()};_.Base.prototype[a.symbols.any]={version:a.version,compile:c.compile,root:"$_root"},_.Base.prototype.isImmutable=!0,_.Base.prototype.deny=_.Base.prototype.invalid,_.Base.prototype.disallow=_.Base.prototype.invalid,_.Base.prototype.equal=_.Base.prototype.valid,_.Base.prototype.exist=_.Base.prototype.required,_.Base.prototype.not=_.Base.prototype.invalid,_.Base.prototype.options=_.Base.prototype.prefs,_.Base.prototype.preferences=_.Base.prototype.prefs,t.exports=new _.Base},8652:function(t,n,i){var r=i(375),e=i(8571),u=i(8160),s={max:1e3,supported:new Set(["undefined","boolean","number","string"])};n.provider={provision:function(t){return new s.Cache(t)}},s.Cache=function(){function t(t){void 0===t&&(t={}),u.assertOptions(t,["max"]),r(void 0===t.max||t.max&&t.max>0&&isFinite(t.max),"Invalid max cache size"),this.C_=t.max||s.max,this.x_=new Map,this.R_=new s.List}var n=t.prototype;return n.set=function(t,n){if(null===t||s.supported.has(void 0===t?"undefined":U(t))){var i=this.x_.get(t);if(i)return i.value=n,void this.R_.first(i);i=this.R_.unshift({key:t,value:n}),this.x_.set(t,i),this.I_()}},n.get=function(t){var n=this.x_.get(t);if(n)return this.R_.first(n),e(n.value)},n.I_=function(){if(this.x_.size>this.C_){var t=this.R_.pop();this.x_.delete(t.key)}},Nt(t,[{key:"length",get:function(){return this.x_.size}}]),t}(),s.List=function(){function t(){this.tail=null,this.head=null}var n=t.prototype;return n.unshift=function(t){return t.next=null,t.prev=this.head,this.head&&(this.head.next=t),this.head=t,this.tail||(this.tail=t),t},n.first=function(t){t!==this.head&&(this.P_(t),this.unshift(t))},n.pop=function(){return this.P_(this.tail)},n.P_=function(t){var n=t.next,i=t.prev;return n.prev=i,i&&(i.next=n),t===this.tail&&(this.tail=n),t.prev=null,t.next=null,t},t}()},8160:function(t,r,e){var u,s,o=e(375),a=e(7916),c=e(5934),h={isoDate:/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/};r.version=c.version,r.defaults={abortEarly:!0,allowUnknown:!1,artifacts:!1,cache:!0,context:null,convert:!0,dateFormat:"iso",errors:{escapeHtml:!1,label:"path",language:null,render:!0,stack:!1,wrap:{label:'"',array:"[]"}},externals:!0,messages:{},nonEnumerables:!1,noDefaults:!1,presence:"optional",skipFunctions:!1,stripUnknown:!1,warnings:!1},r.symbols={any:i("@hapi/joi/schema"),arraySingle:n("arraySingle"),deepDefault:n("deepDefault"),errors:n("errors"),literal:n("literal"),override:n("override"),parent:n("parent"),prefs:n("prefs"),ref:n("ref"),template:n("template"),values:n("values")},r.assertOptions=function(t,n,i){void 0===i&&(i="Options"),o(t&&"object"==(void 0===t?"undefined":U(t))&&!Array.isArray(t),"Options must be of type object");var r=b.keys(t).filter((function(t){return!n.includes(t)}));o(0===r.length,"".concat(i," contain unknown keys: ").concat(r))},r.checkPreferences=function(t){var n=(s=s||e(3378)).preferences.validate(t);if(n.error)throw new a([n.error.details[0].message])},r.compare=function(t,n,i){switch(i){case"=":return t===n;case">":return t>n;case"<":return t<n;case">=":return t>=n;case"<=":return t<=n}},r.default=function(t,n){return void 0===t?n:t},r.isIsoDate=function(t){return h.isoDate.test(t)},r.isNumber=function(t){return"number"==typeof t&&!S(t)},r.isResolvable=function(t){return!!t&&(t[r.symbols.ref]||t[r.symbols.template])},r.isSchema=function(t,n){void 0===n&&(n={});var i=t&&t[r.symbols.any];return!!i&&(o(n.legacy||i.version===r.version,"Cannot mix different versions of joi schemas"),!0)},r.isValues=function(t){return t[r.symbols.values]},r.limit=function(t){return Number.isSafeInteger(t)&&t>=0},r.preferences=function(t,n){u=u||e(6914),t=t||{},n=n||{};var i=b.assign({},t,n);return n.errors&&t.errors&&(i.errors=b.assign({},t.errors,n.errors),i.errors.wrap=b.assign({},t.errors.wrap,n.errors.wrap)),n.messages&&(i.messages=u.compile(n.messages,t.messages)),delete i[r.symbols.prefs],i},r.tryWithPath=function(t,n,i){void 0===i&&(i={});try{return t()}catch(t){throw void 0!==t.path?t.path=n+"."+t.path:t.path=n,i.append&&(t.message="".concat(t.message," (").concat(t.path,")")),t}},r.validateArg=function(t,n,i){var e=i.assert,u=i.message;if(r.isSchema(e)){var s=e.validate(t);return s.error?s.error.message:void 0}if(!e(t))return n?"".concat(n," ").concat(u):u},r.verifyFlat=function(t,n){for(var i=0;i<t.length;i++){var r=t[i];o(!Array.isArray(r),"Method no longer accepts array arguments:",n)}}},3292:function(t,n,i){var r=i(375),e=i(8160),u=i(6133),s={};n.schema=function(t,n,i){void 0===i&&(i={}),e.assertOptions(i,["appendPath","override"]);try{return s.schema(t,n,i)}catch(t){throw i.appendPath&&void 0!==t.path&&(t.message="".concat(t.message," (").concat(t.path,")")),t}},s.schema=function(t,n,i){var u,o;r(void 0!==n,"Invalid undefined schema"),Array.isArray(n)&&(r(n.length,"Invalid empty array schema"),1===n.length&&(n=n[0]));var a=function(n){for(var r=arguments.length,e=new Array(r>1?r-1:0),s=1;s<r;s++)e[s-1]=arguments[s];return!1!==i.override?(u=n).valid.apply(u,[t.override].concat(Ft(e))):(o=n).valid.apply(o,Ft(e))};if(s.simple(n))return a(t,n);if("function"==typeof n)return t.custom(n);if(r("object"==(void 0===n?"undefined":U(n)),"Invalid schema content:",void 0===n?"undefined":U(n)),e.isResolvable(n))return a(t,n);if(e.isSchema(n))return n;if(Array.isArray(n)){for(var c,h=0;h<n.length;h++){var f=n[h];if(!s.simple(f))return(c=t.alternatives()).try.apply(c,Ft(n))}return a.apply(void 0,[t].concat(Ft(n)))}return n instanceof RegExp?t.string().regex(n):n instanceof Date?a(t.date(),n):(r(b.getPrototypeOf(n)===b.getPrototypeOf({}),"Schema can only contain plain objects"),t.object().keys(n))},n.ref=function(t,n){return u.isRef(t)?t:u.create(t,n)},n.compile=function(t,i,u){void 0===u&&(u={}),e.assertOptions(u,["legacy"]);var o=i&&i[e.symbols.any];if(o)return r(u.legacy||o.version===e.version,"Cannot mix different versions of joi schemas:",o.version,e.version),i;if("object"!=(void 0===i?"undefined":U(i))||!u.legacy)return n.schema(t,i,{appendPath:!0});var a=s.walk(i);return a?a.compile(a.root,i):n.schema(t,i,{appendPath:!0})},s.walk=function(t){if("object"!=(void 0===t?"undefined":U(t)))return null;if(Array.isArray(t)){for(var n=0;n<t.length;n++){var i=t[n],u=s.walk(i);if(u)return u}return null}var o=t[e.symbols.any];if(o)return{root:t[o.root],compile:o.compile};for(var a in r(b.getPrototypeOf(t)===b.getPrototypeOf({}),"Schema can only contain plain objects"),t){var c=s.walk(t[a]);if(c)return c}return null},s.simple=function(t){return null===t||["boolean","string","number"].includes(void 0===t?"undefined":U(t))},n.when=function(t,i,o){if(void 0===o&&(r(i&&"object"==(void 0===i?"undefined":U(i)),"Missing options"),o=i,i=u.create(".")),Array.isArray(o)&&(o={switch:o}),e.assertOptions(o,["is","not","then","otherwise","switch","break"]),e.isSchema(i))return r(void 0===o.is,'"is" can not be used with a schema condition'),r(void 0===o.not,'"not" can not be used with a schema condition'),r(void 0===o.switch,'"switch" can not be used with a schema condition'),s.condition(t,{is:i,then:o.then,otherwise:o.otherwise,break:o.break});if(r(u.isRef(i)||"string"==typeof i,"Invalid condition:",i),r(void 0===o.not||void 0===o.is,'Cannot combine "is" with "not"'),void 0===o.switch){var a=o;void 0!==o.not&&(a={is:o.not,then:o.otherwise,otherwise:o.then,break:o.break});var c=void 0!==a.is?t.$_compile(a.is):t.$_root.invalid(null,!1,0,"").required();return r(void 0!==a.then||void 0!==a.otherwise,'options must have at least one of "then", "otherwise", or "switch"'),r(void 0===a.break||void 0===a.then||void 0===a.otherwise,"Cannot specify then, otherwise, and break all together"),void 0===o.is||u.isRef(o.is)||e.isSchema(o.is)||(c=c.required()),s.condition(t,{ref:n.ref(i),is:c,then:a.then,otherwise:a.otherwise,break:a.break})}r(Array.isArray(o.switch),'"switch" must be an array'),r(void 0===o.is,'Cannot combine "switch" with "is"'),r(void 0===o.not,'Cannot combine "switch" with "not"'),r(void 0===o.then,'Cannot combine "switch" with "then"');for(var h={ref:n.ref(i),switch:[],break:o.break},f=0;f<o.switch.length;++f){var v=o.switch[f],d=f===o.switch.length-1;e.assertOptions(v,d?["is","then","otherwise"]:["is","then"]),r(void 0!==v.is,'Switch statement missing "is"'),r(void 0!==v.then,'Switch statement missing "then"');var l={is:t.$_compile(v.is),then:t.$_compile(v.then)};if(u.isRef(v.is)||e.isSchema(v.is)||(l.is=l.is.required()),d){r(void 0===o.otherwise||void 0===v.otherwise,'Cannot specify "otherwise" inside and outside a "switch"');var g=void 0!==o.otherwise?o.otherwise:v.otherwise;void 0!==g&&(r(void 0===h.break,"Cannot specify both otherwise and break"),l.otherwise=t.$_compile(g))}h.switch.push(l)}return h},s.condition=function(t,n){for(var i=0,r=["then","otherwise"];i<r.length;i++){var e=r[i];void 0===n[e]?delete n[e]:n[e]=t.$_compile(n[e])}return n}},6354:function(t,n,i){var r=i(5688),e=i(8160),u=i(3328);n.Report=function(){function t(t,i,r,e,u,s,o){if(this.code=t,this.flags=e,this.messages=u,this.path=s.path,this.prefs=o,this.state=s,this.value=i,this.message=null,this.template=null,this.local=r||{},this.local.label=n.label(this.flags,this.state,this.prefs,this.messages),void 0===this.value||this.local.hasOwnProperty("value")||(this.local.value=this.value),this.path.length){var a=this.path[this.path.length-1];"object"!=(void 0===a?"undefined":U(a))&&(this.local.key=a)}}var i=t.prototype;return i.D_=function(t){if(this.template=t,!this.flags.label&&0===this.path.length){var n=this.N_(this.template,"root");n&&(this.local.label=n)}},i.toString=function(){if(this.message)return this.message;var t=this.code;if(!this.prefs.errors.render)return this.code;var n=this.N_(this.template)||this.N_(this.prefs.messages)||this.N_(this.messages);return void 0===n?'Error code "'.concat(t,'" is not defined, your custom type is missing the correct messages definition'):(this.message=n.render(this.value,this.state,this.prefs,this.local,{errors:this.prefs.errors,messages:[this.prefs.messages,this.messages]}),this.prefs.errors.label||(this.message=this.message.replace(/^"" /,"").trim()),this.message)},i.N_=function(t,i){return n.template(this.value,t,i||this.code,this.state,this.prefs)},t}(),n.path=function(t){for(var n="",i=0;i<t.length;i++){var r=t[i];"object"!=(void 0===r?"undefined":U(r))&&("string"==typeof r?(n&&(n+="."),n+=r):n+="[".concat(r,"]"))}return n},n.template=function(t,n,i,r,s){if(n){if(u.isTemplate(n))return"root"!==i?n:null;var o=s.errors.language;if(e.isResolvable(o)&&(o=o.resolve(t,r,s)),o&&n[o]){if(void 0!==n[o][i])return n[o][i];if(void 0!==n[o]["*"])return n[o]["*"]}return n[i]?n[i]:n["*"]}},n.label=function(t,i,r,e){if(!r.errors.label)return"";if(t.label)return t.label;var u=i.path;return"key"===r.errors.label&&i.path.length>1&&(u=i.path.slice(-1)),n.path(u)||n.template(null,r.messages,"root",i,r)||e&&n.template(null,e,"root",i,r)||"value"},n.process=function(t,i,r){if(!t)return null;var e=n.details(t),u=e.override,s=e.message,o=e.details;if(u)return u;if(r.errors.stack)return new n.ValidationError(s,o,i);var a=p.stackTraceLimit;p.stackTraceLimit=0;var c=new n.ValidationError(s,o,i);return p.stackTraceLimit=a,c},n.details=function(t,n){void 0===n&&(n={});for(var i=[],r=[],e=0;e<t.length;e++){var u=t[e];if(u instanceof p){if(!1!==n.override)return{override:u};var s=u.toString();i.push(s),r.push({message:s,type:"override",context:{error:u}})}else{var o=u.toString();i.push(o),r.push({message:o,path:u.path.filter((function(t){return"object"!=(void 0===t?"undefined":U(t))})),type:u.code,context:u.local})}}return i.length>1&&(i=Ft(new Set(i))),{message:i.join(". "),details:r}},n.ValidationError=function(t){function i(n,i,r){var e;return(e=t.call(this,n)||this).M_=r,e.details=i,e}return It(i,t),i.isError=function(t){return t instanceof n.ValidationError},i}(gn(p)),n.ValidationError.prototype.isJoi=!0,n.ValidationError.prototype.name="ValidationError",n.ValidationError.prototype.annotate=r.error},8901:function(t,n,i){var r=i(375),e=i(8571),u=i(8160),s=i(6914),o={};n.type=function(t,n){var i=function(t){var n=v.rules[t];r("object"==(void 0===n?"undefined":U(n)),"Invalid rule definition for",v.type,t);var i=n.method;if(void 0===i&&(i=function(){return this.$_addRule(t)}),i&&(r(!h[t],"Rule conflict in",v.type,t),h[t]=i),r(!m[t],"Rule conflict in",v.type,t),m[t]=n,n.alias)for(var e=[].concat(n.alias),s=0;s<e.length;s++){var o=e[s];h[o]=n.method}n.args&&(n.argsByName=new Map,n.args=n.args.map((function(t){return"string"==typeof t&&(t={name:t}),r(!n.argsByName.has(t.name),"Duplicated argument name",t.name),u.isSchema(t.assert)&&(t.assert=t.assert.strict().label(t.name)),n.argsByName.set(t.name,t),t})))},a=function(t){r(!h[t],"Rule conflict in",v.type,t);var n=v.modifiers[t];r("function"==typeof n,"Invalid modifier definition for",v.type,t);var i=function(n){return this.rule(un({},t,n))};h[t]=i,p[t]=n},c=b.getPrototypeOf(t),h=e(c),f=t.w_(b.create(h)),v=b.assign({},n);delete v.base,h.m_=v;var d=c.m_||{};v.messages=s.merge(d.messages,v.messages),v.properties=b.assign({},d.properties,v.properties),f.type=v.type,v.flags=b.assign({},d.flags,v.flags);var l=b.assign({},d.terms);if(v.terms)for(var g in v.terms){var w=v.terms[g];r(void 0===f.$_terms[g],"Invalid term override for",v.type,g),f.$_terms[g]=w.init,l[g]=w}v.terms=l,v.args||(v.args=d.args),v.prepare=o.prepare(v.prepare,d.prepare),v.coerce&&("function"==typeof v.coerce&&(v.coerce={method:v.coerce}),v.coerce.from&&!Array.isArray(v.coerce.from)&&(v.coerce={method:v.coerce.method,from:[].concat(v.coerce.from)})),v.coerce=o.coerce(v.coerce,d.coerce),v.validate=o.validate(v.validate,d.validate);var m=b.assign({},d.rules);if(v.rules)for(var y in v.rules)i(y);v.rules=m;var p=b.assign({},d.modifiers);if(v.modifiers)for(var _ in v.modifiers)a(_);if(v.modifiers=p,v.overrides){for(var k in h.T_=c,f.$_super={},v.overrides)r(c[k],"Cannot override missing",k),v.overrides[k][u.symbols.parent]=c[k],f.$_super[k]=c[k].bind(f);b.assign(h,v.overrides)}v.cast=b.assign({},d.cast,v.cast);var A=b.assign({},d.manifest,v.manifest);return A.build=o.build(v.manifest&&v.manifest.build,d.manifest&&d.manifest.build),v.manifest=A,v.rebuild=o.rebuild(v.rebuild,d.rebuild),f},o.build=function(t,n){return t&&n?function(i,r){return n(t(i,r),r)}:t||n},o.coerce=function(t,n){return t&&n?{from:t.from&&n.from?Ft(new Set(Ft(t.from).concat(Ft(n.from)))):null,method:function(i,r){var e;if((!n.from||n.from.includes(void 0===i?"undefined":U(i)))&&(e=n.method(i,r))){if(e.errors||void 0===e.value)return e;i=e.value}if(!t.from||t.from.includes(void 0===i?"undefined":U(i))){var u=t.method(i,r);if(u)return u}return e}}:t||n},o.prepare=function(t,n){return t&&n?function(i,r){var e=t(i,r);if(e){if(e.errors||void 0===e.value)return e;i=e.value}return n(i,r)||e}:t||n},o.rebuild=function(t,n){return t&&n?function(i){n(i),t(i)}:t||n},o.validate=function(t,n){return t&&n?function(i,r){var e=n(i,r);if(e){if(e.errors&&(!Array.isArray(e.errors)||e.errors.length))return e;i=e.value}return t(i,r)||e}:t||n}},5107:function(t,n,i){var r,e,u,s=i(375),o=i(8571),a=i(8652),c=i(8160),h=i(3292),f=i(6354),v=i(8901),d=i(9708),l=i(6133),g=i(3328),w=i(1152),m={types:{alternatives:i(4946),any:i(8068),array:i(546),boolean:i(4937),date:i(7500),function:i(390),link:i(8785),number:i(3832),object:i(8966),string:i(7417),symbol:i(8826)},aliases:{alt:"alternatives",bool:"boolean",func:"function"},root:function(){for(var t=function(t,n){var r=n[t];i[r]=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return s(!n.length||["alternatives","link","object"].includes(r),"The",r,"type does not allow arguments"),m.generate(this,m.types[r],n)}},n=function(t,n){var r=n[t];i[r]=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var e;return(e=this.any())[r].apply(e,Ft(n))}},i={L_:new Set(b.keys(m.types))},r=0,e=i.L_;r<e.length;r++)t(r,e);for(var u=0,o=["allow","custom","disallow","equal","exist","forbidden","invalid","not","only","optional","options","prefs","preferences","required","strip","valid","when"];u<o.length;u++)n(u,o);for(var a in b.assign(i,m.methods),m.aliases){var c=m.aliases[a];i[a]=i[c]}return i.x=i.expression,w.setup&&w.setup(i),i}};m.methods={ValidationError:f.ValidationError,version:c.version,cache:a.provider,assert:function(t,n){for(var i=arguments.length,r=new Array(i>2?i-2:0),e=2;e<i;e++)r[e-2]=arguments[e];m.assert(t,n,!0,r)},attempt:function(t,n){for(var i=arguments.length,r=new Array(i>2?i-2:0),e=2;e<i;e++)r[e-2]=arguments[e];return m.assert(t,n,!1,r)},build:function(t){return s("function"==typeof d.build,"Manifest functionality disabled"),d.build(this,t)},checkPreferences:function(t){c.checkPreferences(t)},compile:function(t,n){return h.compile(this,t,n)},defaults:function(t){var n=function(n,r){var e=r[n],u=t(i[e]());s(c.isSchema(u),"modifier must return a valid schema object"),i[e]=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return m.generate(this,u,n)}};s("function"==typeof t,"modifier must be a function");for(var i=b.assign({},this),r=0,e=i.L_;r<e.length;r++)n(r,e);return i},expression:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return hn(g,Ft(n))},extend:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];c.verifyFlat(n,"extend"),u=u||i(3378),s(n.length,"You need to provide at least one extension"),this.assert(n,u.extensions);var e=b.assign({},this);e.L_=new Set(e.L_);for(var o=0;o<n.length;o++){var a,h=function(t){var n=d[t];s(void 0===e[n.type]||e.L_.has(n.type),"Cannot override name",n.type);var i=n.base||a.any(),r=v.type(i,n);e.L_.add(n.type),e[n.type]=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return m.generate(this,r,n)}},f=n[o];"function"==typeof f&&(f=f(e)),this.assert(f,u.extension);for(var d=m.expandExtension(f,e),l=0;l<d.length;l++)a=this,h(l)}return e},isError:f.ValidationError.isError,isExpression:g.isTemplate,isRef:l.isRef,isSchema:c.isSchema,in:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(r=l).in.apply(r,Ft(n))},override:c.symbols.override,ref:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=l).create.apply(e,Ft(n))},types:function(){for(var t={},n=0,i=this.L_;n<i.length;n++){var r=i[n];t[r]=this[r]()}for(var e in m.aliases)t[e]=this[e]();return t}},m.assert=function(t,n,i,r){var e=r[0]instanceof p||"string"==typeof r[0]?r[0]:null,u=null!==e?r[1]:r[0],s=n.validate(t,c.preferences({errors:{stack:!0}},u||{})),a=s.error;if(!a)return s.value;if(e instanceof p)throw e;var h=i&&"function"==typeof a.annotate?a.annotate():a.message;throw a instanceof f.ValidationError==0&&(a=o(a)),a.message=e?"".concat(e," ").concat(h):h,a},m.generate=function(t,n,i){var r;return s(t,"Must be invoked on a Joi instance."),n.$_root=t,n.m_.args&&i.length?(r=n.m_).args.apply(r,[n].concat(Ft(i))):n},m.expandExtension=function(t,n){if("string"==typeof t.type)return[t];for(var i=[],r=0,e=n.L_;r<e.length;r++){var u=e[r];if(t.type.test(u)){var s=b.assign({},t);s.type=u,s.base=n[u](),i.push(s)}}return i},t.exports=m.root()},6914:function(t,n,i){var r=i(375),e=i(8571),u=i(3328);n.compile=function(t,n){var i=function(i){var e=t[i];if("root"===i||u.isTemplate(e))return n[i]=e,"continue";if("string"==typeof e)return n[i]=new u(e),"continue";r("object"==(void 0===e?"undefined":U(e))&&!Array.isArray(e),"Invalid message for",i);var s=i;for(i in n[s]=n[s]||{},e){var o=e[i];"root"===i||u.isTemplate(o)?n[s][i]=o:(r("string"==typeof o,"Invalid message for",i,"in",s),n[s][i]=new u(o))}};if("string"==typeof t)return r(!n,"Cannot set single message string"),new u(t);if(u.isTemplate(t))return r(!n,"Cannot set single message template"),t;for(var s in r("object"==(void 0===t?"undefined":U(t))&&!Array.isArray(t),"Invalid message options"),n=n?e(n):{},t)i(s);return n},n.decompile=function(t){var n=function(n){var r=t[n];if("root"===n)return i.root=r,"continue";if(u.isTemplate(r))return i[n]=r.describe({compact:!0}),"continue";var e=n;for(n in i[e]={},r){var s=r[n];"root"!==n?i[e][n]=s.describe({compact:!0}):i[e].root=s}},i={};for(var r in t)n(r);return i},n.merge=function(t,i){var s=function(t){var n=i[t];if("root"===t||u.isTemplate(n))return o[t]=n,"continue";if("string"==typeof n)return o[t]=new u(n),"continue";r("object"==(void 0===n?"undefined":U(n))&&!Array.isArray(n),"Invalid message for",t);var e=t;for(t in o[e]=o[e]||{},n){var s=n[t];"root"===t||u.isTemplate(s)?o[e][t]=s:(r("string"==typeof s,"Invalid message for",t,"in",e),o[e][t]=new u(s))}};if(!t)return n.compile(i);if(!i)return t;if("string"==typeof i)return new u(i);if(u.isTemplate(i))return i;var o=e(t);for(var a in i)s(a);return o}},2294:function(t,n,i){var r=i(375),e=i(8160),u=i(6133),s={};n.Ids=s.Ids=function(){function t(){this.B_=new Map,this.O_=new Map,this.F_=!1}var n=t.prototype;return n.clone=function(){var t=new s.Ids;return t.B_=new Map(this.B_),t.O_=new Map(this.O_),t.F_=this.F_,t},n.concat=function(t){t.F_&&(this.F_=!0);for(var n=0,i=t.B_.entries();n<i.length;n++){var e=tn(i[n],2),u=e[0],s=e[1];r(!this.O_.has(u),"Schema id conflicts with existing key:",u),this.B_.set(u,s)}for(var o=0,a=t.O_.entries();o<a.length;o++){var c=tn(a[o],2),h=c[0],f=c[1];r(!this.B_.has(h),"Schema key conflicts with existing id:",h),this.O_.set(h,f)}},n.fork=function(t,n,i){var u=this.V_(t);u.push({schema:i});var o=u.shift(),a={id:o.id,schema:n(o.schema)};r(e.isSchema(a.schema),"adjuster function failed to return a joi schema type");for(var c=0;c<u.length;c++){var h=u[c];a={id:h.id,schema:s.fork(h.schema,a.id,a.schema)}}return a.schema},n.labels=function(t,n){void 0===n&&(n=[]);var i=t[0],r=this.W_(i);if(!r)return Ft(n).concat(Ft(t)).join(".");var e=t.slice(1);return n=Ft(n).concat([r.schema.l_.label||i]),e.length?r.schema.r_.labels(e,n):n.join(".")},n.reach=function(t,n){void 0===n&&(n=[]);var i=t[0],e=this.W_(i);r(e,"Schema does not contain path",Ft(n).concat(Ft(t)).join("."));var u=t.slice(1);return u.length?e.schema.r_.reach(u,Ft(n).concat([i])):e.schema},n.register=function(t,n){var i=(void 0===n?{}:n).key;if(t&&e.isSchema(t)){(t.$_property("schemaChain")||t.r_.F_)&&(this.F_=!0);var u=t.l_.id;if(u){var s=this.B_.get(u);r(!s||s.schema===t,"Cannot add different schemas with the same id:",u),r(!this.O_.has(u),"Schema id conflicts with existing key:",u),this.B_.set(u,{schema:t,id:u})}i&&(r(!this.O_.has(i),"Schema already contains key:",i),r(!this.B_.has(i),"Schema key conflicts with existing id:",i),this.O_.set(i,{schema:t,id:i}))}},n.reset=function(){this.B_=new Map,this.O_=new Map,this.F_=!1},n.V_=function(t,n,i){void 0===n&&(n=[]),void 0===i&&(i=[]);var e=t[0],u=this.W_(e);r(u,"Schema does not contain path",Ft(n).concat(Ft(t)).join(".")),i=[u].concat(Ft(i));var s=t.slice(1);return s.length?u.schema.r_.V_(s,Ft(n).concat([e]),i):i},n.W_=function(t){return this.B_.get(t)||this.O_.get(t)},t}(),s.fork=function(t,i,r){var e=n.schema(t,{each:function(t,n){var e=n.key;if(i===(t.l_.id||e))return r},ref:!1});return e?e.$_mutateRebuild():t},n.schema=function(t,n){var i;for(var r in t.l_)if("_"!==r[0]){var e=s.scan(t.l_[r],{source:"flags",name:r},n);void 0!==e&&((i=i||t.clone()).l_[r]=e)}for(var u=0;u<t.d_.length;++u){var o=t.d_[u],a=s.scan(o.args,{source:"rules",name:o.name},n);if(void 0!==a){i=i||t.clone();var c=b.assign({},o);c.args=a,i.d_[u]=c,i.f_.get(o.name)===o&&i.f_.set(o.name,c)}}for(var h in t.$_terms)if("_"!==h[0]){var f=s.scan(t.$_terms[h],{source:"terms",name:h},n);void 0!==f&&((i=i||t.clone()).$_terms[h]=f)}return i},s.scan=function(t,n,i,r,o){var a=r||[];if(null!==t&&"object"==(void 0===t?"undefined":U(t))){var c;if(Array.isArray(t)){for(var h=0;h<t.length;++h){var f="terms"===n.source&&"keys"===n.name&&t[h].key,v=s.scan(t[h],n,i,[h].concat(Ft(a)),f);void 0!==v&&((c=c||t.slice())[h]=v)}return c}if(!1!==i.schema&&e.isSchema(t)||!1!==i.ref&&u.isRef(t)){var d=i.each(t,R(w({},n),{path:a,key:o}));return d===t?void 0:d}for(var l in t)if("_"!==l[0]){var g=s.scan(t[l],n,i,[l].concat(Ft(a)),o);void 0!==g&&((c=c||b.assign({},t))[l]=g)}return c}}},6133:function(t,i,r){var e,u=r(375),s=r(8571),o=r(9621),a=r(8160),c={symbol:n("ref"),defaults:{adjust:null,in:!1,iterables:null,map:null,separator:".",type:"value"}};i.create=function(t,n){void 0===n&&(n={}),u("string"==typeof t,"Invalid reference key:",t),a.assertOptions(n,["adjust","ancestor","in","iterables","map","prefix","render","separator"]),u(!n.prefix||"object"==U(n.prefix),"options.prefix must be of type object");var i=b.assign({},c.defaults,n);delete i.prefix;var r=i.separator,e=c.context(t,r,n.prefix);if(i.type=e.type,t=e.key,"value"===i.type)if(e.root&&(u(!r||t[0]!==r,"Cannot specify relative path with root prefix"),i.ancestor="root",t||(t=null)),r&&r===t)t=null,i.ancestor=0;else if(void 0!==i.ancestor)u(!r||!t||t[0]!==r,"Cannot combine prefix with ancestor option");else{var s=tn(c.ancestor(t,r),2),o=s[0],h=s[1];h&&""===(t=t.slice(h))&&(t=null),i.ancestor=o}return i.path=r?null===t?[]:t.split(r):[t],new c.Ref(i)},i.in=function(t,n){return void 0===n&&(n={}),i.create(t,R(w({},n),{in:!0}))},i.isRef=function(t){return!!t&&!!t[a.symbols.ref]},c.Ref=function(){function t(t){u("object"==(void 0===t?"undefined":U(t)),"Invalid reference construction"),a.assertOptions(t,["adjust","ancestor","in","iterables","map","path","render","separator","type","depth","key","root","display"]),u([!1,void 0].includes(t.separator)||"string"==typeof t.separator&&1===t.separator.length,"Invalid separator"),u(!t.adjust||"function"==typeof t.adjust,"options.adjust must be a function"),u(!t.map||Array.isArray(t.map),"options.map must be an array"),u(!t.map||!t.adjust,"Cannot set both map and adjust options"),b.assign(this,c.defaults,t),u("value"===this.type||void 0===this.ancestor,"Non-value references cannot reference ancestors"),Array.isArray(this.map)&&(this.map=new Map(this.map)),this.depth=this.path.length,this.key=this.path.length?this.path.join(this.separator):null,this.root=this.path[0],this.updateDisplay()}var n=t.prototype;return n.resolve=function(t,n,i,r,e){return void 0===e&&(e={}),u(!this.in||e.in,"Invalid in() reference usage"),"global"===this.type?this.Vd(i.context,n,e):"local"===this.type?this.Vd(r,n,e):this.ancestor?"root"===this.ancestor?this.Vd(n.ancestors[n.ancestors.length-1],n,e):(u(this.ancestor<=n.ancestors.length,"Invalid reference exceeds the schema root:",this.display),this.Vd(n.ancestors[this.ancestor-1],n,e)):this.Vd(t,n,e)},n.Vd=function(t,n,i){var r;if("value"===this.type&&n.mainstay.shadow&&!1!==i.shadow&&(r=n.mainstay.shadow.get(this.absolute(n))),void 0===r&&(r=o(t,this.path,{iterables:this.iterables,functions:!0})),this.adjust&&(r=this.adjust(r)),this.map){var e=this.map.get(r);void 0!==e&&(r=e)}return n.mainstay&&n.mainstay.tracer.resolve(n,this,r),r},n.toString=function(){return this.display},n.absolute=function(t){return Ft(t.path.slice(0,-this.ancestor)).concat(Ft(this.path))},n.clone=function(){return new c.Ref(this)},n.describe=function(){var t={path:this.path};"value"!==this.type&&(t.type=this.type),"."!==this.separator&&(t.separator=this.separator),"value"===this.type&&1!==this.ancestor&&(t.ancestor=this.ancestor),this.map&&(t.map=Ft(this.map));for(var n=0,i=["adjust","iterables","render"];n<i.length;n++){var r=i[n];null!==this[r]&&void 0!==this[r]&&(t[r]=this[r])}return!1!==this.in&&(t.in=!0),{ref:t}},n.updateDisplay=function(){var t=null!==this.key?this.key:"";if("value"===this.type)if(this.separator)if(this.ancestor)if("root"!==this.ancestor)if(1!==this.ancestor){var n=new Array(this.ancestor+1).fill(this.separator).join("");this.display="ref:".concat(n).concat(t||"")}else this.display="ref:".concat(t||"..");else this.display="ref:root:".concat(t);else this.display="ref:".concat(this.separator).concat(t);else this.display="ref:".concat(t);else this.display="ref:".concat(this.type,":").concat(t)},t}(),c.Ref.prototype[a.symbols.ref]=!0,i.build=function(t){return"value"===(t=b.assign({},c.defaults,t)).type&&void 0===t.ancestor&&(t.ancestor=1),new c.Ref(t)},c.context=function(t,n,i){if(void 0===i&&(i={}),t=t.trim(),i){var r=void 0===i.global?"$":i.global;if(r!==n&&t.startsWith(r))return{key:t.slice(r.length),type:"global"};var e=void 0===i.local?"#":i.local;if(e!==n&&t.startsWith(e))return{key:t.slice(e.length),type:"local"};var u=void 0===i.root?"/":i.root;if(u!==n&&t.startsWith(u))return{key:t.slice(u.length),type:"value",root:!0}}return{key:t,type:"value"}},c.ancestor=function(t,n){if(!n)return[1,0];if(t[0]!==n)return[1,0];if(t[1]!==n)return[0,1];for(var i=2;t[i]===n;)++i;return[i-1,i]},i.toSibling=0,i.toParent=1,i.Manager=function(){function t(){this.refs=[]}var n=t.prototype;return n.register=function(t,n){if(t)if(n=void 0===n?i.toParent:n,Array.isArray(t))for(var u=0;u<t.length;u++){var s=t[u];this.register(s,n)}else if(a.isSchema(t))for(var o=0,c=t.h_.refs;o<c.length;o++){var h=c[o];h.ancestor-n>=0&&this.refs.push({ancestor:h.ancestor-n,root:h.root})}else i.isRef(t)&&"value"===t.type&&t.ancestor-n>=0&&this.refs.push({ancestor:t.ancestor-n,root:t.root}),(e=e||r(3328)).isTemplate(t)&&this.register(t.refs(),n)},n.clone=function(){var t=new i.Manager;return t.refs=s(this.refs),t},n.reset=function(){this.refs=[]},n.roots=function(){return this.refs.filter((function(t){return!t.ancestor})).map((function(t){return t.root}))},Nt(t,[{key:"length",get:function(){return this.refs.length}}]),t}()},3378:function(t,n,i){var r=i(5107),e={};e.wrap=r.string().min(1).max(2).allow(!1),n.preferences=r.object({allowUnknown:r.boolean(),abortEarly:r.boolean(),artifacts:r.boolean(),cache:r.boolean(),context:r.object(),convert:r.boolean(),dateFormat:r.valid("date","iso","string","time","utc"),debug:r.boolean(),errors:{escapeHtml:r.boolean(),label:r.valid("path","key",!1),language:[r.string(),r.object().ref()],render:r.boolean(),stack:r.boolean(),wrap:{label:e.wrap,array:e.wrap,string:e.wrap}},externals:r.boolean(),messages:r.object(),noDefaults:r.boolean(),nonEnumerables:r.boolean(),presence:r.valid("required","optional","forbidden"),skipFunctions:r.boolean(),stripUnknown:r.object({arrays:r.boolean(),objects:r.boolean()}).or("arrays","objects").allow(!0,!1),warnings:r.boolean()}).strict(),e.nameRx=/^[a-zA-Z0-9]\w*$/,e.rule=r.object({alias:r.array().items(r.string().pattern(e.nameRx)).single(),args:r.array().items(r.string(),r.object({name:r.string().pattern(e.nameRx).required(),ref:r.boolean(),assert:r.alternatives([r.function(),r.object().schema()]).conditional("ref",{is:!0,then:r.required()}),normalize:r.function(),message:r.string().when("assert",{is:r.function(),then:r.required()})})),convert:r.boolean(),manifest:r.boolean(),method:r.function().allow(!1),multi:r.boolean(),validate:r.function()}),n.extension=r.object({type:r.alternatives([r.string(),r.object().regex()]).required(),args:r.function(),cast:r.object().pattern(e.nameRx,r.object({from:r.function().maxArity(1).required(),to:r.function().minArity(1).maxArity(2).required()})),base:r.object().schema().when("type",{is:r.object().regex(),then:r.forbidden()}),coerce:[r.function().maxArity(3),r.object({method:r.function().maxArity(3).required(),from:r.array().items(r.string()).single()})],flags:r.object().pattern(e.nameRx,r.object({setter:r.string(),default:r.any()})),manifest:{build:r.function().arity(2)},messages:[r.object(),r.string()],modifiers:r.object().pattern(e.nameRx,r.function().minArity(1).maxArity(2)),overrides:r.object().pattern(e.nameRx,r.function()),prepare:r.function().maxArity(3),rebuild:r.function().arity(1),rules:r.object().pattern(e.nameRx,e.rule),terms:r.object().pattern(e.nameRx,r.object({init:r.array().allow(null).required(),manifest:r.object().pattern(/.+/,[r.valid("schema","single"),r.object({mapped:r.object({from:r.string().required(),to:r.string().required()}).required()})])})),validate:r.function().maxArity(3)}).strict(),n.extensions=r.array().items(r.object(),r.function().arity(1)).strict(),e.desc={buffer:r.object({buffer:r.string()}),func:r.object({function:r.function().required(),options:{literal:!0}}),override:r.object({override:!0}),ref:r.object({ref:r.object({type:r.valid("value","global","local"),path:r.array().required(),separator:r.string().length(1).allow(!1),ancestor:r.number().min(0).integer().allow("root"),map:r.array().items(r.array().length(2)).min(1),adjust:r.function(),iterables:r.boolean(),in:r.boolean(),render:r.boolean()}).required()}),regex:r.object({regex:r.string().min(3)}),special:r.object({special:r.valid("deep").required()}),template:r.object({template:r.string().required(),options:r.object()}),value:r.object({value:r.alternatives([r.object(),r.array()]).required()})},e.desc.entity=r.alternatives([r.array().items(r.link("...")),r.boolean(),r.function(),r.number(),r.string(),e.desc.buffer,e.desc.func,e.desc.ref,e.desc.regex,e.desc.special,e.desc.template,e.desc.value,r.link("/")]),e.desc.values=r.array().items(null,r.boolean(),r.function(),r.number().allow(1/0,-1/0),r.string().allow(""),r.symbol(),e.desc.buffer,e.desc.func,e.desc.override,e.desc.ref,e.desc.regex,e.desc.template,e.desc.value),e.desc.messages=r.object().pattern(/.+/,[r.string(),e.desc.template,r.object().pattern(/.+/,[r.string(),e.desc.template])]),n.description=r.object({type:r.string().required(),flags:r.object({cast:r.string(),default:r.any(),description:r.string(),empty:r.link("/"),failover:e.desc.entity,id:r.string(),label:r.string(),only:!0,presence:["optional","required","forbidden"],result:["raw","strip"],strip:r.boolean(),unit:r.string()}).unknown(),preferences:{allowUnknown:r.boolean(),abortEarly:r.boolean(),artifacts:r.boolean(),cache:r.boolean(),convert:r.boolean(),dateFormat:["date","iso","string","time","utc"],errors:{escapeHtml:r.boolean(),label:["path","key"],language:[r.string(),e.desc.ref],wrap:{label:e.wrap,array:e.wrap}},externals:r.boolean(),messages:e.desc.messages,noDefaults:r.boolean(),nonEnumerables:r.boolean(),presence:["required","optional","forbidden"],skipFunctions:r.boolean(),stripUnknown:r.object({arrays:r.boolean(),objects:r.boolean()}).or("arrays","objects").allow(!0,!1),warnings:r.boolean()},allow:e.desc.values,invalid:e.desc.values,rules:r.array().min(1).items({name:r.string().required(),args:r.object().min(1),keep:r.boolean(),message:[r.string(),e.desc.messages],warn:r.boolean()}),keys:r.object().pattern(/.*/,r.link("/")),link:e.desc.ref}).pattern(/^[a-z]\w*$/,r.any())},493:function(t,i,r){var e=r(8571),u=r(9621),s=r(8160),o={value:n("value")};t.exports=o.State=function(){function t(t,n,i){this.path=t,this.ancestors=n,this.mainstay=i.mainstay,this.schemas=i.schemas,this.debug=null}var n=t.prototype;return n.localize=function(t,n,i){void 0===n&&(n=null),void 0===i&&(i=null);var r=new o.State(t,n,this);return i&&r.schemas&&(r.schemas=[o.schemas(i)].concat(Ft(r.schemas))),r},n.nest=function(t,n){var i=new o.State(this.path,this.ancestors,this);return i.schemas=i.schemas&&[o.schemas(t)].concat(Ft(i.schemas)),i.debug=n,i},n.shadow=function(t,n){this.mainstay.shadow=this.mainstay.shadow||new o.Shadow,this.mainstay.shadow.set(this.path,t,n)},n.snapshot=function(){this.mainstay.shadow&&(this.U_=e(this.mainstay.shadow.node(this.path))),this.mainstay.snapshot()},n.restore=function(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this.U_),this.U_=void 0),this.mainstay.restore()},n.commit=function(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this.U_),this.U_=void 0),this.mainstay.commit()},t}(),o.schemas=function(t){return s.isSchema(t)?{schema:t}:t},o.Shadow=function(){function t(){this.__=null}var n=t.prototype;return n.set=function(t,n,i){if(t.length&&("strip"!==i||"number"!=typeof t[t.length-1])){this.__=this.__||new Map;for(var r=this.__,e=0;e<t.length;++e){var u=t[e],s=r.get(u);s||(s=new Map,r.set(u,s)),r=s}r[o.value]=n}},n.get=function(t){var n=this.node(t);if(n)return n[o.value]},n.node=function(t){if(this.__)return u(this.__,t,{iterables:!0})},n.override=function(t,n){if(this.__){var i=t.slice(0,-1),r=t[t.length-1],e=u(this.__,i,{iterables:!0});n?e.set(r,n):e&&e.delete(r)}},t}()},3328:function(t,i,r){var e=r(375),u=r(8571),s=r(5277),o=r(1447),a=r(8160),c=r(6354),h=r(6133),f={symbol:n("template"),opens:new Array(1e3).join("\0"),closes:new Array(1e3).join("\x01"),dateFormat:{date:Date.prototype.toDateString,iso:Date.prototype.toISOString,string:Date.prototype.toString,time:Date.prototype.toTimeString,utc:Date.prototype.toUTCString}};t.exports=f.Template=function(){function t(t,n){if(e("string"==typeof t,"Template source must be a string"),e(!t.includes("\0")&&!t.includes("\x01"),"Template source cannot contain reserved control characters"),this.source=t,this.rendered=t,this.N_=null,n){var i=n,r=i.functions,s=C(i,["functions"]);this.Z_=b.keys(s).length?u(s):void 0,this.X_=r,this.X_&&(e(b.keys(this.X_).every((function(t){return"string"==typeof t})),"Functions keys must be strings"),e(b.values(this.X_).every((function(t){return"function"==typeof t})),"Functions values must be functions"))}else this.Z_=void 0,this.X_=void 0;this.G_()}var n=t.prototype;return n.G_=function(){if(this.source.includes("{")){var t=f.encode(this.source),n=f.split(t),i=!1,r=[],e=n.shift();e&&r.push(e);for(var u=0;u<n.length;u++){var s=n[u],o="{"!==s[0],a=o?"}":"}}",c=s.indexOf(a);if(-1!==c&&"{"!==s[1]){var h=s.slice(o?0:1,c),v=":"===h[0];v&&(h=h.slice(1));var d=this.H_(f.decode(h),{raw:o,wrapped:v});r.push(d),"string"!=typeof d&&(i=!0);var l=s.slice(c+a.length);l&&r.push(f.decode(l))}else r.push("{".concat(f.decode(s)))}i?this.N_=r:this.rendered=r.join("")}},n.describe=function(t){if(void 0===t&&(t={}),!this.Z_&&t.compact)return this.source;var n={template:this.source};return this.Z_&&(n.options=this.Z_),this.X_&&(n.functions=this.X_),n},n.isDynamic=function(){return!!this.N_},n.refs=function(){var t;if(this.N_){for(var n=[],i=0,r=this.N_;i<r.length;i++){var e=r[i];"string"!=typeof e&&(t=n).push.apply(t,Ft(e.refs))}return n}},n.resolve=function(t,n,i,r){return this.N_&&1===this.N_.length?this.z_(this.N_[0],t,n,i,r,{}):this.render(t,n,i,r)},n.z_=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;return t.ref?(e=t.ref).resolve.apply(e,Ft(i)):t.formula.evaluate(i)},n.render=function(t,n,i,r,e){if(void 0===e&&(e={}),!this.isDynamic())return this.rendered;for(var u=[],o=0,a=this.N_;o<a.length;o++){var c=a[o];if("string"==typeof c)u.push(c);else{var h=this.z_(c,t,n,i,r,e),v=f.stringify(h,t,n,i,r,e);if(void 0!==v){var d=c.raw||!1===(e.errors&&e.errors.escapeHtml)?v:s(v);u.push(f.wrap(d,c.wrapped&&i.errors.wrap.label))}}}return u.join("")},n.H_=function(t,n){var i=this,r=n.raw,e=n.wrapped,u=[],s=function(t){var n=h.create(t,i.Z_);return u.push(n),function(t){var i,r=(i=n).resolve.apply(i,Ft(t));return void 0!==r?r:null}};try{var a=this.X_?w(w({},f.functions),this.X_):f.functions,c=new o.Parser(t,{reference:s,functions:a,constants:f.constants})}catch(n){throw n.message='Invalid template variable "'.concat(t,'" fails due to: ').concat(n.message),n}if(c.single){if("reference"===c.single.type){var v=u[0];return{ref:v,raw:r,refs:u,wrapped:e||"local"===v.type&&"label"===v.key}}return f.stringify(c.single.value)}return{formula:c,raw:r,refs:u}},n.toString=function(){return this.source},t.date=function(t,n){return f.dateFormat[n.dateFormat].call(t)},t.build=function(t){return new f.Template(t.template,t.options||t.functions?R(w({},t.options),{functions:t.functions}):void 0)},t.isTemplate=function(t){return!!t&&!!t[a.symbols.template]},t}(),f.Template.prototype[a.symbols.template]=!0,f.Template.prototype.isImmutable=!0,f.encode=function(t){return t.replace(/\\(\{+)/g,(function(t,n){return f.opens.slice(0,n.length)})).replace(/\\(\}+)/g,(function(t,n){return f.closes.slice(0,n.length)}))},f.decode=function(t){return t.replace(/\u0000/g,"{").replace(/\u0001/g,"}")},f.split=function(t){for(var n=[],i="",r=0;r<t.length;++r){var e=t[r];if("{"===e){for(var u="";r+1<t.length&&"{"===t[r+1];)u+="{",++r;n.push(i),i=u}else i+=e}return n.push(i),n},f.wrap=function(t,n){return n?1===n.length?"".concat(n).concat(t).concat(n):"".concat(n[0]).concat(t).concat(n[1]):t},f.stringify=function(t,n,i,r,e,u){void 0===u&&(u={});var s=void 0===t?"undefined":U(t),o=r&&r.errors&&r.errors.wrap||{},a=!1;if(h.isRef(t)&&t.render&&(a=t.in,t=t.resolve(n,i,r,e,w({in:t.in},u))),null===t)return"null";if("string"===s)return f.wrap(t,u.arrayItems&&o.string);if("number"===s||"function"===s||"symbol"===s)return t.toString();if("object"!==s)return JSON.stringify(t);if(t instanceof Date)return f.Template.date(t,r);if(t instanceof Map){for(var c=[],v=0,d=t.entries();v<d.length;v++){var l=tn(d[v],2),g=l[0],m=l[1];c.push("".concat(g.toString()," -> ").concat(m.toString()))}t=c}if(!Array.isArray(t))return t.toString();for(var y=[],p=0;p<t.length;p++){var _=t[p];y.push(f.stringify(_,n,i,r,e,w({arrayItems:!0},u)))}return f.wrap(y.join(", "),!a&&o.array)},f.constants={true:!0,false:!1,null:null,second:1e3,minute:6e4,hour:36e5,day:864e5},f.functions={if:function(t,n,i){return t?n:i},length:function(t){return"string"==typeof t?t.length:t&&"object"==(void 0===t?"undefined":U(t))?Array.isArray(t)?t.length:b.keys(t).length:null},msg:function(t){var n=tn(this,5),i=n[0],r=n[1],e=n[2],u=n[3],s=n[4],o=s.messages;if(!o)return"";var a=c.template(i,o[0],t,r,e)||c.template(i,o[1],t,r,e);return a?a.render(i,r,e,u,s):""},number:function(t){return"number"==typeof t?t:"string"==typeof t?T(t):"boolean"==typeof t?t?1:0:t instanceof Date?t.getTime():null}}},4946:function(t,n,i){var r,e,u=i(375),s=i(1687),o=i(8068),a=i(8160),c=i(3292),h=i(6354),f=i(6133),v={};t.exports=o.extend({type:"alternatives",flags:{match:{default:"any"}},terms:{matches:{init:[],register:f.toSibling}},args:function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),u=1;u<n;u++)i[u-1]=arguments[u];return 1===i.length&&Array.isArray(i[0])?(r=t).try.apply(r,Ft(i[0])):(e=t).try.apply(e,Ft(i))},validate:function(t,n){var i=n.schema,r=n.error,e=n.state,u=n.prefs;if(i.l_.match){for(var o=[],a=[],c=0;c<i.$_terms.matches.length;++c){var f=i.$_terms.matches[c],d=e.nest(f.schema,"match.".concat(c));d.snapshot();var l=f.schema.$_validate(t,d,u);l.errors?(a.push(l.errors),d.restore()):(o.push(l.value),d.commit())}if(0===o.length)return{errors:r("alternatives.any",{details:a.map((function(t){return h.details(t,{override:!1})}))})};if("one"===i.l_.match)return 1===o.length?{value:o[0]}:{errors:r("alternatives.one")};if(o.length!==i.$_terms.matches.length)return{errors:r("alternatives.all",{details:a.map((function(t){return h.details(t,{override:!1})}))})};var g=function(t){return t.$_terms.matches.some((function(t){return"object"===t.schema.type||"alternatives"===t.schema.type&&g(t.schema)}))};return g(i)?{value:o.reduce((function(t,n){return s(t,n,{mergeArrays:!1})}))}:{value:o[o.length-1]}}for(var w=[],m=0;m<i.$_terms.matches.length;++m){var y=i.$_terms.matches[m];if(y.schema){var p=e.nest(y.schema,"match.".concat(m));p.snapshot();var _=y.schema.$_validate(t,p,u);if(!_.errors)return p.commit(),_;p.restore(),w.push({schema:y.schema,reports:_.errors})}else for(var b=y.ref?y.ref.resolve(t,e,u):t,k=y.is?[y]:y.switch,A=0;A<k.length;++A){var T=k[A],S=T.is,E=T.then,I=T.otherwise,R="match.".concat(m).concat(y.switch?"."+A:"");if(S.$_match(b,e.nest(S,"".concat(R,".is")),u)){if(E)return E.$_validate(t,e.nest(E,"".concat(R,".then")),u)}else if(I)return I.$_validate(t,e.nest(I,"".concat(R,".otherwise")),u)}}return v.errors(w,n)},rules:{conditional:{method:function(t,n){u(!this.l_.q_,"Unreachable condition"),u(!this.l_.match,"Cannot combine match mode",this.l_.match,"with conditional rule"),u(void 0===n.break,"Cannot use break option with alternatives conditional");for(var i=this.clone(),r=c.when(i,t,n),e=r.is?[r]:r.switch,s=0;s<e.length;s++){var o=e[s];if(o.then&&o.otherwise){i.$_setFlag("q_",!0,{clone:!1});break}}return i.$_terms.matches.push(r),i.$_mutateRebuild()}},match:{method:function(t){if(u(["any","one","all"].includes(t),"Invalid alternatives match mode",t),"any"!==t)for(var n=0,i=this.$_terms.matches;n<i.length;n++){var r=i[n];u(r.schema,"Cannot combine match mode",t,"with conditional rules")}return this.$_setFlag("match",t)}},try:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];u(n.length,"Missing alternative schemas"),a.verifyFlat(n,"try"),u(!this.l_.q_,"Unreachable condition");for(var r=this.clone(),e=0;e<n.length;e++){var s=n[e];r.$_terms.matches.push({schema:r.$_compile(s)})}return r.$_mutateRebuild()}}},overrides:{label:function(t){return this.$_parent("label",t).$_modify({each:function(n,i){return"is"!==i.path[0]&&"string"!=typeof n.l_.label?n.label(t):void 0},ref:!1})}},rebuild:function(t){t.$_modify({each:function(n){a.isSchema(n)&&"array"===n.type&&t.$_setFlag("Y_",!0,{clone:!1})}})},manifest:{build:function(t,n){if(n.matches)for(var i=0,r=n.matches;i<r.length;i++){var e=r[i],u=e.schema,s=e.ref,o=e.is,a=e.not,c=e.then,h=e.otherwise;t=u?t.try(u):s?t.conditional(s,{is:o,then:c,not:a,otherwise:h,switch:e.switch}):t.conditional(o,{then:c,otherwise:h})}return t}},messages:{"alternatives.all":"{{#label}} does not match all of the required types","alternatives.any":"{{#label}} does not match any of the allowed types","alternatives.match":"{{#label}} does not match any of the allowed types","alternatives.one":"{{#label}} matches more than one allowed type","alternatives.types":"{{#label}} must be one of {{#types}}"}}),v.errors=function(t,n){var i=n.error,r=n.state;if(!t.length)return{errors:i("alternatives.any")};if(1===t.length)return{errors:t[0].reports};for(var e=new Set,u=[],s=0;s<t.length;s++){var o=t[s],a=o.reports,c=o.schema;if(a.length>1)return v.unmatched(t,i);var f=a[0];if(f instanceof h.Report==0)return v.unmatched(t,i);if(f.state.path.length===r.path.length)if("any.only"!==f.code){var d=tn(f.code.split("."),2),l=d[0];"base"!==d[1]?u.push({type:c.type,report:f}):"object.base"===f.code?e.add(f.local.type):e.add(l)}else for(var g=0,w=f.local.valids;g<w.length;g++){var m=w[g];e.add(m)}else u.push({type:c.type,report:f})}return u.length?1===u.length?{errors:u[0].report}:v.unmatched(t,i):{errors:i("alternatives.types",{types:Ft(e)})}},v.unmatched=function(t,n){for(var i,r=[],e=0;e<t.length;e++){var u=t[e];(i=r).push.apply(i,Ft(u.reports))}return{errors:n("alternatives.match",h.details(r,{override:!1}))}}},8068:function(t,n,i){var r=i(375),e=i(7629),u=i(8160),s=i(6914);t.exports=e.extend({type:"any",flags:{only:{default:!1}},terms:{alterations:{init:null},examples:{init:null},externals:{init:null},metas:{init:[]},notes:{init:[]},shared:{init:null},tags:{init:[]},whens:{init:null}},rules:{custom:{method:function(t,n){return r("function"==typeof t,"Method must be a function"),r(void 0===n||n&&"string"==typeof n,"Description must be a non-empty string"),this.$_addRule({name:"custom",args:{method:t,description:n}})},validate:function(t,n,i){var r=i.method;try{return r(t,n)}catch(t){return n.error("any.custom",{error:t})}},args:["method","description"],multi:!0},messages:{method:function(t){return this.prefs({messages:t})}},shared:{method:function(t){r(u.isSchema(t)&&t.l_.id,"Schema must be a schema with an id");var n=this.clone();return n.$_terms.shared=n.$_terms.shared||[],n.$_terms.shared.push(t),n.$_mutateRegister(t),n}},warning:{method:function(t,n){return r(t&&"string"==typeof t,"Invalid warning code"),this.$_addRule({name:"warning",args:{code:t,local:n},warn:!0})},validate:function(t,n,i){var r=i.code,e=i.local;return n.error(r,e)},args:["code","local"],multi:!0}},modifiers:{keep:function(t,n){void 0===n&&(n=!0),t.keep=n},message:function(t,n){t.message=s.compile(n)},warn:function(t,n){void 0===n&&(n=!0),t.warn=n}},manifest:{build:function(t,n){for(var i in n){var r=n[i];if(["examples","externals","metas","notes","tags"].includes(i))for(var e=0;e<r.length;e++){var u=r[e];t=t[i.slice(0,-1)](u)}else if("alterations"!==i)if("whens"!==i){if("shared"===i)for(var s=0;s<r.length;s++){var o=r[s];t=t.shared(o)}}else for(var a=0;a<r.length;a++){var c=r[a],h=c.ref,f=c.is,v=c.not,d=c.then,l=c.otherwise,g=c.concat;t=g?t.concat(g):h?t.when(h,{is:f,not:v,then:d,otherwise:l,switch:c.switch,break:c.break}):t.when(f,{then:d,otherwise:l,break:c.break})}else{for(var w={},m=0;m<r.length;m++){var y=r[m],p=y.target,_=y.adjuster;w[p]=_}t=t.alter(w)}}return t}},messages:{"any.custom":"{{#label}} failed custom validation because {{#error.message}}","any.default":"{{#label}} threw an error when running default method","any.failover":"{{#label}} threw an error when running failover method","any.invalid":"{{#label}} contains an invalid value","any.only":'{{#label}} must be {if(#valids.length == 1, "", "one of ")}{{#valids}}',"any.ref":"{{#label}} {{#arg}} references {{:#ref}} which {{#reason}}","any.required":"{{#label}} is required","any.unknown":"{{#label}} is not allowed"}})},546:function(t,n,i){var r,e,u=i(375),s=i(9474),o=i(9621),a=i(8068),c=i(8160),h=i(3292),f={};t.exports=a.extend({type:"array",flags:{single:{default:!1},sparse:{default:!1}},terms:{items:{init:[],manifest:"schema"},ordered:{init:[],manifest:"schema"},K_:{init:[]},j_:{init:[]},Q_:{init:[]}},coerce:{from:"object",method:function(t,n){var i=n.schema,r=n.state,e=n.prefs;if(Array.isArray(t)){var u=i.$_getRule("sort");return u?f.sort(i,t,u.args.options,r,e):void 0}}},validate:function(t,n){var i=n.schema,r=n.error;if(!Array.isArray(t)){if(i.l_.single){var e=[t];return e[c.symbols.arraySingle]=!0,{value:e}}return{errors:r("array.base")}}if(i.$_getRule("items")||i.$_terms.externals)return{value:t.slice()}},rules:{has:{method:function(t){t=this.$_compile(t,{appendPath:!0});var n=this.$_addRule({name:"has",args:{schema:t}});return n.$_mutateRegister(t),n},validate:function(t,n,i){for(var r=n.state,e=n.prefs,u=n.error,s=i.schema,o=[t].concat(Ft(r.ancestors)),a=0;a<t.length;++a){var c=r.localize(Ft(r.path).concat([a]),o,s);if(s.$_match(t[a],c,e))return t}var h=s.l_.label;return h?u("array.hasKnown",{patternLabel:h}):u("array.hasUnknown",null)},multi:!0},items:{method:function(){for(var t=function(t){var i=c.tryWithPath((function(){return n.$_compile(r[t])}),t,{append:!0});u.$_terms.items.push(i)},n=this,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];c.verifyFlat(r,"items");for(var u=this.$_addRule("items"),s=0;s<r.length;++s)t(s);return u.$_mutateRebuild()},validate:function(t,n){var i=n.schema,r=n.error,e=n.state,u=n.prefs,s=n.errorsArray,o=i.$_terms.Q_.slice(),a=i.$_terms.ordered.slice(),h=Ft(i.$_terms.j_).concat(Ft(o)),v=!t[c.symbols.arraySingle];delete t[c.symbols.arraySingle];for(var d=s(),l=t.length,g=0;g<l;++g){var w=t[g],m=!1,y=!1,p=v?g:new Number(g),_=Ft(e.path).concat([p]);if(i.l_.sparse||void 0!==w){for(var b=[t].concat(Ft(e.ancestors)),k=0,A=i.$_terms.K_;k<A.length;k++){var T=A[k];if(T.$_match(w,e.localize(_,b,T),u,{presence:"ignore"})){if(d.push(r("array.excludes",{pos:g,value:w},e.localize(_))),u.abortEarly)return d;m=!0,a.shift();break}}if(!m){if(i.$_terms.ordered.length){if(a.length){var S,E=a.shift(),I=E.$_validate(w,e.localize(_,b,E),u);if(I.errors){if((S=d).push.apply(S,Ft(I.errors)),u.abortEarly)return d}else if("strip"===E.l_.result)f.fastSplice(t,g),--g,--l;else{if(!i.l_.sparse&&void 0===I.value){if(d.push(r("array.sparse",{key:p,path:_,pos:g,value:void 0},e.localize(_))),u.abortEarly)return d;continue}t[g]=I.value}continue}if(!i.$_terms.items.length){if(d.push(r("array.orderedLength",{pos:g,limit:i.$_terms.ordered.length})),u.abortEarly)return d;break}}for(var R=[],C=o.length,N=0;N<C;++N){var D=e.localize(_,b,o[N]);D.snapshot();var P=o[N].$_validate(w,D,u);if(R[N]=P,!P.errors){if(D.commit(),t[g]=P.value,y=!0,f.fastSplice(o,N),--N,--C,!i.l_.sparse&&void 0===P.value&&(d.push(r("array.sparse",{key:p,path:_,pos:g,value:void 0},e.localize(_))),u.abortEarly))return d;break}D.restore()}if(!y){var x=u.stripUnknown&&!!u.stripUnknown.arrays||!1;C=h.length;for(var L=0;L<h.length;L++){var M=h[L],O=void 0,B=o.indexOf(M);if(-1!==B)O=R[B];else{var V=e.localize(_,b,M);if(V.snapshot(),!(O=M.$_validate(w,V,u)).errors){V.commit(),"strip"===M.l_.result?(f.fastSplice(t,g),--g,--l):i.l_.sparse||void 0!==O.value?t[g]=O.value:(d.push(r("array.sparse",{key:p,path:_,pos:g,value:void 0},e.localize(_))),m=!0),y=!0;break}V.restore()}if(1===C){var F;if(x){f.fastSplice(t,g),--g,--l,y=!0;break}if((F=d).push.apply(F,Ft(O.errors)),u.abortEarly)return d;m=!0;break}}if(!m&&(i.$_terms.j_.length||i.$_terms.Q_.length)&&!y){if(x){f.fastSplice(t,g),--g,--l;continue}if(d.push(r("array.includes",{pos:g,value:w},e.localize(_))),u.abortEarly)return d}}}}else{if(d.push(r("array.sparse",{key:p,path:_,pos:g,value:void 0},e.localize(_))),u.abortEarly)return d;a.shift()}}return o.length&&f.fillMissedErrors(i,d,o,t,e,u),a.length&&(f.fillOrderedErrors(i,d,a,t,e,u),d.length||f.fillDefault(a,t,e,u)),d.length?d:t},priority:!0,manifest:!1},length:{method:function(t){return this.$_addRule({name:"length",args:{limit:t},operator:"="})},validate:function(t,n,i,r){var e=i.limit,u=r.name,s=r.operator,o=r.args;return c.compare(t.length,e,s)?t:n.error("array."+u,{limit:o.limit,value:t})},args:[{name:"limit",ref:!0,assert:c.limit,message:"must be a positive integer"}]},max:{method:function(t){return this.$_addRule({name:"max",method:"length",args:{limit:t},operator:"<="})}},min:{method:function(t){return this.$_addRule({name:"min",method:"length",args:{limit:t},operator:">="})}},ordered:{method:function(){for(var t=function(t){var i=c.tryWithPath((function(){return n.$_compile(r[t])}),t,{append:!0});f.validateSingle(i,u),u.$_mutateRegister(i),u.$_terms.ordered.push(i)},n=this,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];c.verifyFlat(r,"ordered");for(var u=this.$_addRule("items"),s=0;s<r.length;++s)t(s);return u.$_mutateRebuild()}},single:{method:function(t){var n=void 0===t||!!t;return u(!n||!this.l_.Y_,"Cannot specify single rule when array has array items"),this.$_setFlag("single",n)}},sort:{method:function(t){void 0===t&&(t={}),c.assertOptions(t,["by","order"]);var n={order:t.order||"ascending"};return t.by&&(n.by=h.ref(t.by,{ancestor:0}),u(!n.by.ancestor,"Cannot sort by ancestor")),this.$_addRule({name:"sort",args:{options:n}})},validate:function(t,n,i){var r=n.error,e=n.state,u=n.prefs,s=n.schema,o=i.options,a=f.sort(s,t,o,e,u),c=a.value,h=a.errors;if(h)return h;for(var v=0;v<t.length;++v)if(t[v]!==c[v])return r("array.sort",{order:o.order,by:o.by?o.by.key:"value"});return t},convert:!0},sparse:{method:function(t){var n=void 0===t||!!t;return this.l_.sparse===n?this:(n?this.clone():this.$_addRule("items")).$_setFlag("sparse",n,{clone:!1})}},unique:{method:function(t,n){void 0===n&&(n={}),u(!t||"function"==typeof t||"string"==typeof t,"comparator must be a function or a string"),c.assertOptions(n,["ignoreUndefined","separator"]);var i={name:"unique",args:{options:n,comparator:t}};if(t)if("string"==typeof t){var r=c.default(n.separator,".");i.path=r?t.split(r):[t]}else i.comparator=t;return this.$_addRule(i)},validate:function(t,n,i,r){for(var e=n.state,a=n.error,c=(n.schema,i.comparator),h=i.options,f=r.comparator,v=r.path,d={string:b.create(null),number:b.create(null),undefined:b.create(null),boolean:b.create(null),bigint:b.create(null),object:new Map,function:new Map,custom:new Map},l=f||s,g=h.ignoreUndefined,w=0;w<t.length;++w){var m=v?o(t[w],v):t[w],y=f?d.custom:d[void 0===m?"undefined":U(m)];if(u(y,"Failed to find unique map container for type",void 0===m?"undefined":U(m)),y instanceof Map){for(var p=y.entries(),_=void 0;!(_=p.next()).done;)if(l(_.value[0],m)){var k=e.localize(Ft(e.path).concat([w]),[t].concat(Ft(e.ancestors))),A={pos:w,value:t[w],dupePos:_.value[1],dupeValue:t[_.value[1]]};return v&&(A.path=c),a("array.unique",A,k)}y.set(m,w)}else{if((!g||void 0!==m)&&void 0!==y[m]){var T={pos:w,value:t[w],dupePos:y[m],dupeValue:t[y[m]]};return v&&(T.path=c),a("array.unique",T,e.localize(Ft(e.path).concat([w]),[t].concat(Ft(e.ancestors))))}y[m]=w}}return t},args:["comparator","options"],multi:!0}},cast:{set:{from:Array.isArray,to:function(t,n){return new Set(t)}}},rebuild:function(t){t.$_terms.j_=[],t.$_terms.K_=[],t.$_terms.Q_=[];for(var n=0,i=t.$_terms.items;n<i.length;n++){var r=i[n];f.validateSingle(r,t),"required"===r.l_.presence?t.$_terms.Q_.push(r):"forbidden"===r.l_.presence?t.$_terms.K_.push(r):t.$_terms.j_.push(r)}for(var e=0,u=t.$_terms.ordered;e<u.length;e++){var s=u[e];f.validateSingle(s,t)}},manifest:{build:function(t,n){return n.items&&(t=(r=t).items.apply(r,Ft(n.items))),n.ordered&&(t=(e=t).ordered.apply(e,Ft(n.ordered))),t}},messages:{"array.base":"{{#label}} must be an array","array.excludes":"{{#label}} contains an excluded value","array.hasKnown":"{{#label}} does not contain at least one required match for type {:#patternLabel}","array.hasUnknown":"{{#label}} does not contain at least one required match","array.includes":"{{#label}} does not match any of the allowed types","array.includesRequiredBoth":"{{#label}} does not contain {{#knownMisses}} and {{#unknownMisses}} other required value(s)","array.includesRequiredKnowns":"{{#label}} does not contain {{#knownMisses}}","array.includesRequiredUnknowns":"{{#label}} does not contain {{#unknownMisses}} required value(s)","array.length":"{{#label}} must contain {{#limit}} items","array.max":"{{#label}} must contain less than or equal to {{#limit}} items","array.min":"{{#label}} must contain at least {{#limit}} items","array.orderedLength":"{{#label}} must contain at most {{#limit}} items","array.sort":"{{#label}} must be sorted in {#order} order by {{#by}}","array.sort.mismatching":"{{#label}} cannot be sorted due to mismatching types","array.sort.unsupported":"{{#label}} cannot be sorted due to unsupported type {#type}","array.sparse":"{{#label}} must not be a sparse array item","array.unique":"{{#label}} contains a duplicate value"}}),f.fillMissedErrors=function(t,n,i,r,e,u){for(var s=[],o=0,a=0;a<i.length;a++){var c=i[a].l_.label;c?s.push(c):++o}s.length?o?n.push(t.$_createError("array.includesRequiredBoth",r,{knownMisses:s,unknownMisses:o},e,u)):n.push(t.$_createError("array.includesRequiredKnowns",r,{knownMisses:s},e,u)):n.push(t.$_createError("array.includesRequiredUnknowns",r,{unknownMisses:o},e,u))},f.fillOrderedErrors=function(t,n,i,r,e,u){for(var s=[],o=0;o<i.length;o++){var a=i[o];"required"===a.l_.presence&&s.push(a)}s.length&&f.fillMissedErrors(t,n,s,r,e,u)},f.fillDefault=function(t,n,i,r){for(var e,u=[],s=!0,o=t.length-1;o>=0;--o){var a=t[o],c=[n].concat(Ft(i.ancestors)),h=a.$_validate(void 0,i.localize(i.path,c,a),r).value;if(s){if(void 0===h)continue;s=!1}u.unshift(h)}u.length&&(e=n).push.apply(e,Ft(u))},f.fastSplice=function(t,n){for(var i=n;i<t.length;)t[i++]=t[i];--t.length},f.validateSingle=function(t,n){("array"===t.type||t.l_.Y_)&&(u(!n.l_.single,"Cannot specify array item with single rule enabled"),n.$_setFlag("Y_",!0,{clone:!1}))},f.sort=function(t,n,i,r,e){var u="ascending"===i.order?1:-1,s=-1*u,o=u,a=function(a,c){var h=f.compare(a,c,s,o);if(null!==h||(i.by&&(a=i.by.resolve(a,r,e),c=i.by.resolve(c,r,e)),null!==(h=f.compare(a,c,s,o))))return h;var v=void 0===a?"undefined":U(a);if(v!==(void 0===c?"undefined":U(c)))throw t.$_createError("array.sort.mismatching",n,null,r,e);if("number"!==v&&"string"!==v)throw t.$_createError("array.sort.unsupported",n,{type:v},r,e);return"number"===v?(a-c)*u:a<c?s:o};try{return{value:n.slice().sort(a)}}catch(t){return{errors:t}}},f.compare=function(t,n,i,r){return t===n?0:void 0===t?1:void 0===n?-1:null===t?r:null===n?i:null}},4937:function(t,n,i){var r,e,u=i(375),s=i(8068),o=i(8160),a=i(2036),c={isBool:function(t){return"boolean"==typeof t}};t.exports=s.extend({type:"boolean",flags:{sensitive:{default:!1}},terms:{falsy:{init:null,manifest:"values"},truthy:{init:null,manifest:"values"}},coerce:function(t,n){var i=n.schema;if("boolean"!=typeof t){if("string"==typeof t){var r=i.l_.sensitive?t:t.toLowerCase();t="true"===r||"false"!==r&&t}return"boolean"!=typeof t&&(t=i.$_terms.truthy&&i.$_terms.truthy.has(t,null,null,!i.l_.sensitive)||(!i.$_terms.falsy||!i.$_terms.falsy.has(t,null,null,!i.l_.sensitive))&&t),{value:t}}},validate:function(t,n){var i=n.error;if("boolean"!=typeof t)return{value:t,errors:i("boolean.base")}},rules:{truthy:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];o.verifyFlat(n,"truthy");var r=this.clone();r.$_terms.truthy=r.$_terms.truthy||new a;for(var e=0;e<n.length;++e){var s=n[e];u(void 0!==s,"Cannot call truthy with undefined"),r.$_terms.truthy.add(s)}return r}},falsy:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];o.verifyFlat(n,"falsy");var r=this.clone();r.$_terms.falsy=r.$_terms.falsy||new a;for(var e=0;e<n.length;++e){var s=n[e];u(void 0!==s,"Cannot call falsy with undefined"),r.$_terms.falsy.add(s)}return r}},sensitive:{method:function(t){return void 0===t&&(t=!0),this.$_setFlag("sensitive",t)}}},cast:{number:{from:c.isBool,to:function(t,n){return t?1:0}},string:{from:c.isBool,to:function(t,n){return t?"true":"false"}}},manifest:{build:function(t,n){return n.truthy&&(t=(r=t).truthy.apply(r,Ft(n.truthy))),n.falsy&&(t=(e=t).falsy.apply(e,Ft(n.falsy))),t}},messages:{"boolean.base":"{{#label}} must be a boolean"}})},7500:function(t,n,i){var r=i(375),e=i(8068),u=i(8160),s=i(3328),o={isDate:function(t){return t instanceof Date}};t.exports=e.extend({type:"date",coerce:{from:["number","string"],method:function(t,n){var i=n.schema;return{value:o.parse(t,i.l_.format)||t}}},validate:function(t,n){var i=n.schema,r=n.error,e=n.prefs;if(!(t instanceof Date)||S(t.getTime())){var u=i.l_.format;return e.convert&&u&&"string"==typeof t?{value:t,errors:r("date.format",{format:u})}:{value:t,errors:r("date.base")}}},rules:{compare:{method:!1,validate:function(t,n,i,r){var e=i.date,s=r.name,o=r.operator,a=r.args,c="now"===e?Date.now():e.getTime();return u.compare(t.getTime(),c,o)?t:n.error("date."+s,{limit:a.date,value:t})},args:[{name:"date",ref:!0,normalize:function(t){return"now"===t?t:o.parse(t)},assert:function(t){return null!==t},message:"must have a valid date format"}]},format:{method:function(t){return r(["iso","javascript","unix"].includes(t),"Unknown date format",t),this.$_setFlag("format",t)}},greater:{method:function(t){return this.$_addRule({name:"greater",method:"compare",args:{date:t},operator:">"})}},iso:{method:function(){return this.format("iso")}},less:{method:function(t){return this.$_addRule({name:"less",method:"compare",args:{date:t},operator:"<"})}},max:{method:function(t){return this.$_addRule({name:"max",method:"compare",args:{date:t},operator:"<="})}},min:{method:function(t){return this.$_addRule({name:"min",method:"compare",args:{date:t},operator:">="})}},timestamp:{method:function(t){return void 0===t&&(t="javascript"),r(["javascript","unix"].includes(t),'"type" must be one of "javascript, unix"'),this.format(t)}}},cast:{number:{from:o.isDate,to:function(t,n){return t.getTime()}},string:{from:o.isDate,to:function(t,n){var i=n.prefs;return s.date(t,i)}}},messages:{"date.base":"{{#label}} must be a valid date","date.format":'{{#label}} must be in {msg("date.format." + #format) || #format} format',"date.greater":"{{#label}} must be greater than {{:#limit}}","date.less":"{{#label}} must be less than {{:#limit}}","date.max":"{{#label}} must be less than or equal to {{:#limit}}","date.min":"{{#label}} must be greater than or equal to {{:#limit}}","date.format.iso":"ISO 8601 date","date.format.javascript":"timestamp or number of milliseconds","date.format.unix":"timestamp or number of seconds"}}),o.parse=function(t,n){if(t instanceof Date)return t;if("string"!=typeof t&&(S(t)||!isFinite(t))||/^\s*$/.test(t))return null;if("iso"===n)return u.isIsoDate(t)?o.date(t.toString()):null;var i=t;if("string"==typeof t&&/^[+-]?\d+(\.\d+)?$/.test(t)&&(t=T(t)),n){if("javascript"===n)return o.date(1*t);if("unix"===n)return o.date(1e3*t);if("string"==typeof i)return null}return o.date(t)},o.date=function(t){var n=new Date(t);return S(n.getTime())?null:n}},390:function(t,n,i){var r=i(375),e=i(7824);t.exports=e.extend({type:"function",properties:{typeof:"function"},rules:{arity:{method:function(t){return r(Number.isSafeInteger(t)&&t>=0,"n must be a positive integer"),this.$_addRule({name:"arity",args:{n:t}})},validate:function(t,n,i){var r=i.n;return t.length===r?t:n.error("function.arity",{n:r})}},class:{method:function(){return this.$_addRule("class")},validate:function(t,n){return/^\s*class\s/.test(t.toString())?t:n.error("function.class",{value:t})}},minArity:{method:function(t){return r(Number.isSafeInteger(t)&&t>0,"n must be a strict positive integer"),this.$_addRule({name:"minArity",args:{n:t}})},validate:function(t,n,i){var r=i.n;return t.length>=r?t:n.error("function.minArity",{n:r})}},maxArity:{method:function(t){return r(Number.isSafeInteger(t)&&t>=0,"n must be a positive integer"),this.$_addRule({name:"maxArity",args:{n:t}})},validate:function(t,n,i){var r=i.n;return t.length<=r?t:n.error("function.maxArity",{n:r})}}},messages:{"function.arity":"{{#label}} must have an arity of {{#n}}","function.class":"{{#label}} must be a class","function.maxArity":"{{#label}} must have an arity lesser or equal to {{#n}}","function.minArity":"{{#label}} must have an arity greater or equal to {{#n}}"}})},7824:function(t,n,i){var r=i(978),e=i(375),u=i(8571),s=i(3652),o=i(8068),a=i(8160),c=i(3292),h=i(6354),f=i(6133),v=i(3328),d={renameDefaults:{alias:!1,multiple:!1,override:!1}};t.exports=o.extend({type:"J_",properties:{typeof:"object"},flags:{unknown:{default:void 0}},terms:{dependencies:{init:null},keys:{init:null,manifest:{mapped:{from:"schema",to:"key"}}},patterns:{init:null},renames:{init:null}},args:function(t,n){return t.keys(n)},validate:function(t,n){var i=n.schema,r=n.error,e=n.state,u=n.prefs;if(!t||(void 0===t?"undefined":U(t))!==i.$_property("typeof")||Array.isArray(t))return{value:t,errors:r("object.base",{type:i.$_property("typeof")})};if(i.$_terms.renames||i.$_terms.dependencies||i.$_terms.keys||i.$_terms.patterns||i.$_terms.externals){t=d.clone(t,u);var s=[];if(i.$_terms.renames&&!d.rename(i,t,e,u,s))return{value:t,errors:s};if(!i.$_terms.keys&&!i.$_terms.patterns&&!i.$_terms.dependencies)return{value:t,errors:s};var o=new Set(b.keys(t));if(i.$_terms.keys)for(var a=[t].concat(Ft(e.ancestors)),c=0,h=i.$_terms.keys;c<h.length;c++){var f=h[c],v=f.key,l=t[v];o.delete(v);var g=e.localize(Ft(e.path).concat([v]),a,f),w=f.schema.$_validate(l,g,u);if(w.errors){var m;if(u.abortEarly)return{value:t,errors:w.errors};void 0!==w.value&&(t[v]=w.value),(m=s).push.apply(m,Ft(w.errors))}else"strip"===f.schema.l_.result||void 0===w.value&&void 0!==l?delete t[v]:void 0!==w.value&&(t[v]=w.value)}if(o.size||i.l_.rv){var y=d.unknown(i,t,o,s,e,u);if(y)return y}if(i.$_terms.dependencies)for(var p=0,_=i.$_terms.dependencies;p<_.length;p++){var k=_[p];if(null===k.key||!1!==d.isPresent(k.options)(k.key.resolve(t,e,u,null,{shadow:!1}))){var A=d.dependencies[k.rel](i,k,t,e,u);if(A){var T=i.$_createError(A.code,t,A.context,e,u);if(u.abortEarly)return{value:t,errors:T};s.push(T)}}}return{value:t,errors:s}}},rules:{and:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return a.verifyFlat(n,"and"),d.dependency(this,"and",null,n)}},append:{method:function(t){return null==t||0===b.keys(t).length?this:this.keys(t)}},assert:{method:function(t,n,i){v.isTemplate(t)||(t=c.ref(t)),e(void 0===i||"string"==typeof i,"Message must be a string"),n=this.$_compile(n,{appendPath:!0});var r=this.$_addRule({name:"assert",args:{subject:t,schema:n,message:i}});return r.$_mutateRegister(t),r.$_mutateRegister(n),r},validate:function(t,n,i){var r=n.error,e=n.prefs,u=n.state,s=i.subject,o=i.schema,a=i.message,c=s.resolve(t,u,e),h=f.isRef(s)?s.absolute(u):[];return o.$_match(c,u.localize(h,[t].concat(Ft(u.ancestors)),o),e)?t:r("object.assert",{subject:s,message:a})},args:["subject","schema","message"],multi:!0},instance:{method:function(t,n){return e("function"==typeof t,"constructor must be a function"),n=n||t.name,this.$_addRule({name:"instance",args:{constructor:t,name:n}})},validate:function(t,n,i){var r=i.constructor,e=i.name;return t instanceof r?t:n.error("object.instance",{type:e,value:t})},args:["constructor","name"]},keys:{method:function(t){var n=this;e(void 0===t||"object"==(void 0===t?"undefined":U(t)),"Object schema must be a valid object"),e(!a.isSchema(t),"Object schema cannot be a joi schema");var i=this.clone();if(t)if(b.keys(t).length){var r=function(r){a.tryWithPath((function(){return i.$_terms.keys.push({key:r,schema:n.$_compile(t[r])})}),r)};for(var u in i.$_terms.keys=i.$_terms.keys?i.$_terms.keys.filter((function(n){return!t.hasOwnProperty(n.key)})):new d.Keys,t)r(u)}else i.$_terms.keys=new d.Keys;else i.$_terms.keys=null;return i.$_mutateRebuild()}},length:{method:function(t){return this.$_addRule({name:"length",args:{limit:t},operator:"="})},validate:function(t,n,i,r){var e=i.limit,u=r.name,s=r.operator,o=r.args;return a.compare(b.keys(t).length,e,s)?t:n.error("object."+u,{limit:o.limit,value:t})},args:[{name:"limit",ref:!0,assert:a.limit,message:"must be a positive integer"}]},max:{method:function(t){return this.$_addRule({name:"max",method:"length",args:{limit:t},operator:"<="})}},min:{method:function(t){return this.$_addRule({name:"min",method:"length",args:{limit:t},operator:">="})}},nand:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return a.verifyFlat(n,"nand"),d.dependency(this,"nand",null,n)}},or:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return a.verifyFlat(n,"or"),d.dependency(this,"or",null,n)}},oxor:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return d.dependency(this,"oxor",null,n)}},pattern:{method:function(t,n,i){void 0===i&&(i={});var r=t instanceof RegExp;r||(t=this.$_compile(t,{appendPath:!0})),e(void 0!==n,"Invalid rule"),a.assertOptions(i,["fallthrough","matches"]),r&&e(!t.flags.includes("g")&&!t.flags.includes("y"),"pattern should not use global or sticky mode"),n=this.$_compile(n,{appendPath:!0});var u,s=this.clone();s.$_terms.patterns=s.$_terms.patterns||[];var o=(un(u={},r?"regex":"schema",t),un(u,"rule",n),u);return i.matches&&(o.matches=this.$_compile(i.matches),"array"!==o.matches.type&&(o.matches=o.matches.$_root.array().items(o.matches)),s.$_mutateRegister(o.matches),s.$_setFlag("rv",!0,{clone:!1})),i.fallthrough&&(o.fallthrough=!0),s.$_terms.patterns.push(o),s.$_mutateRegister(n),s}},ref:{method:function(){return this.$_addRule("ref")},validate:function(t,n){return f.isRef(t)?t:n.error("object.refType",{value:t})}},regex:{method:function(){return this.$_addRule("regex")},validate:function(t,n){return t instanceof RegExp?t:n.error("object.regex",{value:t})}},rename:{method:function(t,n,i){void 0===i&&(i={}),e("string"==typeof t||t instanceof RegExp,"Rename missing the from argument"),e("string"==typeof n||n instanceof v,"Invalid rename to argument"),e(n!==t,"Cannot rename key to same name:",t),a.assertOptions(i,["alias","ignoreUndefined","override","multiple"]);var u=this.clone();u.$_terms.renames=u.$_terms.renames||[];for(var s=0,o=u.$_terms.renames;s<o.length;s++){var c=o[s];e(c.from!==t,"Cannot rename the same key multiple times")}return n instanceof v&&u.$_mutateRegister(n),u.$_terms.renames.push({from:t,to:n,options:r(d.renameDefaults,i)}),u}},schema:{method:function(t){return void 0===t&&(t="any"),this.$_addRule({name:"schema",args:{type:t}})},validate:function(t,n,i){var r=i.type;return!a.isSchema(t)||"any"!==r&&t.type!==r?n.error("object.schema",{type:r}):t}},unknown:{method:function(t){return this.$_setFlag("unknown",!1!==t)}},with:{method:function(t,n,i){return void 0===i&&(i={}),d.dependency(this,"with",t,n,i)}},without:{method:function(t,n,i){return void 0===i&&(i={}),d.dependency(this,"without",t,n,i)}},xor:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return a.verifyFlat(n,"xor"),d.dependency(this,"xor",null,n)}}},overrides:{default:function(t,n){return void 0===t&&(t=a.symbols.deepDefault),this.$_parent("default",t,n)}},rebuild:function(t){if(t.$_terms.keys){for(var n=function(t,n){var r=n[t];a.tryWithPath((function(){return i.add(r,{after:r.schema.$_rootReferences(),group:r.key})}),r.key)},i=new s.Sorter,r=0,e=t.$_terms.keys;r<e.length;r++)n(r,e);t.$_terms.keys=hn(d.Keys,Ft(i.nodes))}},manifest:{build:function(t,n){if(n.keys&&(t=t.keys(n.keys)),n.dependencies)for(var i=0,r=n.dependencies;i<r.length;i++){var e=r[i],u=e.rel,s=e.key,o=void 0===s?null:s,a=e.peers,c=e.options;t=d.dependency(t,u,o,a,c)}if(n.patterns)for(var h=0,f=n.patterns;h<f.length;h++){var v=f[h],l=v.regex,g=v.schema,w=v.rule,m=v.fallthrough,y=v.matches;t=t.pattern(l||g,w,{fallthrough:m,matches:y})}if(n.renames)for(var p=0,_=n.renames;p<_.length;p++){var b=_[p],k=b.from,A=b.to,T=b.options;t=t.rename(k,A,T)}return t}},messages:{"object.and":"{{#label}} contains {{#presentWithLabels}} without its required peers {{#missingWithLabels}}","object.assert":'{{#label}} is invalid because {if(#subject.key, `"` + #subject.key + `" failed to ` + (#message || "pass the assertion test"), #message || "the assertion failed")}',"object.base":"{{#label}} must be of type {{#type}}","object.instance":"{{#label}} must be an instance of {{:#type}}","object.length":'{{#label}} must have {{#limit}} key{if(#limit == 1, "", "s")}',"object.max":'{{#label}} must have less than or equal to {{#limit}} key{if(#limit == 1, "", "s")}',"object.min":'{{#label}} must have at least {{#limit}} key{if(#limit == 1, "", "s")}',"object.missing":"{{#label}} must contain at least one of {{#peersWithLabels}}","object.nand":"{{:#mainWithLabel}} must not exist simultaneously with {{#peersWithLabels}}","object.oxor":"{{#label}} contains a conflict between optional exclusive peers {{#peersWithLabels}}","object.pattern.match":"{{#label}} keys failed to match pattern requirements","object.refType":"{{#label}} must be a Joi reference","object.regex":"{{#label}} must be a RegExp object","object.rename.multiple":"{{#label}} cannot rename {{:#from}} because multiple renames are disabled and another key was already renamed to {{:#to}}","object.rename.override":"{{#label}} cannot rename {{:#from}} because override is disabled and target {{:#to}} exists","object.schema":"{{#label}} must be a Joi schema of {{#type}} type","object.unknown":"{{#label}} is not allowed","object.with":"{{:#mainWithLabel}} missing required peer {{:#peerWithLabel}}","object.without":"{{:#mainWithLabel}} conflict with forbidden peer {{:#peerWithLabel}}","object.xor":"{{#label}} contains a conflict between exclusive peers {{#peersWithLabels}}"}}),d.clone=function(t,n){if("object"==(void 0===t?"undefined":U(t))){if(n.nonEnumerables)return u(t,{shallow:!0});var i=b.create(b.getPrototypeOf(t));return b.assign(i,t),i}var r=function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t.apply(this,i)};return r.prototype=u(t.prototype),b.defineProperty(r,"name",{value:t.name,writable:!1}),b.defineProperty(r,"length",{value:t.length,writable:!1}),b.assign(r,t),r},d.dependency=function(t,n,i,r,u){e(null===i||"string"==typeof i,n,"key must be a strings"),u||(u=r.length>1&&"object"==U(r[r.length-1])?r.pop():{}),a.assertOptions(u,["separator","isPresent"]),r=[].concat(r);for(var s=a.default(u.separator,"."),o=[],h=0;h<r.length;h++){var f=r[h];e("string"==typeof f,n,"peers must be strings"),o.push(c.ref(f,{separator:s,ancestor:0,prefix:!1}))}null!==i&&(i=c.ref(i,{separator:s,ancestor:0,prefix:!1}));var v=t.clone();return v.$_terms.dependencies=v.$_terms.dependencies||[],v.$_terms.dependencies.push(new d.Dependency(n,i,o,r,u)),v},d.dependencies={and:function(t,n,i,r,e){for(var u=[],s=[],o=n.peers.length,a=d.isPresent(n.options),c=0,h=n.peers;c<h.length;c++){var f=h[c];!1===a(f.resolve(i,r,e,null,{shadow:!1}))?u.push(f.key):s.push(f.key)}if(u.length!==o&&s.length!==o)return{code:"object.and",context:{present:s,presentWithLabels:d.keysToLabels(t,s),missing:u,missingWithLabels:d.keysToLabels(t,u)}}},nand:function(t,n,i,r,e){for(var u=[],s=d.isPresent(n.options),o=0,a=n.peers;o<a.length;o++){var c=a[o];s(c.resolve(i,r,e,null,{shadow:!1}))&&u.push(c.key)}if(u.length===n.peers.length){var h=n.paths[0],f=n.paths.slice(1);return{code:"object.nand",context:{main:h,mainWithLabel:d.keysToLabels(t,h),peers:f,peersWithLabels:d.keysToLabels(t,f)}}}},or:function(t,n,i,r,e){for(var u=d.isPresent(n.options),s=0,o=n.peers;s<o.length;s++)if(u(o[s].resolve(i,r,e,null,{shadow:!1})))return;return{code:"object.missing",context:{peers:n.paths,peersWithLabels:d.keysToLabels(t,n.paths)}}},oxor:function(t,n,i,r,e){for(var u=[],s=d.isPresent(n.options),o=0,a=n.peers;o<a.length;o++){var c=a[o];s(c.resolve(i,r,e,null,{shadow:!1}))&&u.push(c.key)}if(u.length&&1!==u.length){var h={peers:n.paths,peersWithLabels:d.keysToLabels(t,n.paths)};return h.present=u,h.presentWithLabels=d.keysToLabels(t,u),{code:"object.oxor",context:h}}},with:function(t,n,i,r,e){for(var u=d.isPresent(n.options),s=0,o=n.peers;s<o.length;s++){var a=o[s];if(!1===u(a.resolve(i,r,e,null,{shadow:!1})))return{code:"object.with",context:{main:n.key.key,mainWithLabel:d.keysToLabels(t,n.key.key),peer:a.key,peerWithLabel:d.keysToLabels(t,a.key)}}}},without:function(t,n,i,r,e){for(var u=d.isPresent(n.options),s=0,o=n.peers;s<o.length;s++){var a=o[s];if(u(a.resolve(i,r,e,null,{shadow:!1})))return{code:"object.without",context:{main:n.key.key,mainWithLabel:d.keysToLabels(t,n.key.key),peer:a.key,peerWithLabel:d.keysToLabels(t,a.key)}}}},xor:function(t,n,i,r,e){for(var u=[],s=d.isPresent(n.options),o=0,a=n.peers;o<a.length;o++){var c=a[o];s(c.resolve(i,r,e,null,{shadow:!1}))&&u.push(c.key)}if(1!==u.length){var h={peers:n.paths,peersWithLabels:d.keysToLabels(t,n.paths)};return 0===u.length?{code:"object.missing",context:h}:(h.present=u,h.presentWithLabels=d.keysToLabels(t,u),{code:"object.xor",context:h})}}},d.keysToLabels=function(t,n){return Array.isArray(n)?n.map((function(n){return t.$_mapLabels(n)})):t.$_mapLabels(n)},d.isPresent=function(t){return"function"==typeof t.isPresent?t.isPresent:function(t){return void 0!==t}},d.rename=function(t,n,i,r,e){for(var u={},s=0,o=t.$_terms.renames;s<o.length;s++){var a=o[s],c=[],h="string"!=typeof a.from;if(h){for(var f in n)if(!(void 0===n[f]&&a.options.ignoreUndefined||f===a.to)){var d=a.from.exec(f);d&&c.push({from:f,to:a.to,match:d})}}else!b.prototype.hasOwnProperty.call(n,a.from)||void 0===n[a.from]&&a.options.ignoreUndefined||c.push(a);for(var l=0;l<c.length;l++){var g=c[l],w=g.from,m=g.to;if(m instanceof v&&(m=m.render(n,i,r,g.match)),w!==m){if(!a.options.multiple&&u[m]&&(e.push(t.$_createError("object.rename.multiple",n,{from:w,to:m,pattern:h},i,r)),r.abortEarly)||b.prototype.hasOwnProperty.call(n,m)&&!a.options.override&&!u[m]&&(e.push(t.$_createError("object.rename.override",n,{from:w,to:m,pattern:h},i,r)),r.abortEarly))return!1;void 0===n[w]?delete n[m]:n[m]=n[w],u[m]=!0,a.options.alias||delete n[w]}}}return!0},d.unknown=function(t,n,i,r,e,u){if(t.$_terms.patterns){for(var s=!1,o=t.$_terms.patterns.map((function(t){if(t.matches)return s=!0,[]})),c=[n].concat(Ft(e.ancestors)),f=0;f<i.length;f++)for(var v=i[f],d=n[v],l=Ft(e.path).concat([v]),g=0;g<t.$_terms.patterns.length;++g){var w=t.$_terms.patterns[g];if(w.regex){var m=w.regex.test(v);if(e.mainstay.tracer.debug(e,"rule","pattern.".concat(g),m?"pass":"error"),!m)continue}else if(!w.schema.$_match(v,e.nest(w.schema,"pattern.".concat(g)),u))continue;i.delete(v);var y=e.localize(l,c,{schema:w.rule,key:v}),p=w.rule.$_validate(d,y,u);if(p.errors){var _;if(u.abortEarly)return{value:n,errors:p.errors};(_=r).push.apply(_,Ft(p.errors))}if(w.matches&&o[g].push(v),n[v]=p.value,!w.fallthrough)break}if(s)for(var b=0;b<o.length;++b){var k=o[b];if(k){var A=t.$_terms.patterns[b].matches,T=e.localize(e.path,c,A),S=A.$_validate(k,T,u);if(S.errors){var E=h.details(S.errors,{override:!1});E.matches=k;var I=t.$_createError("object.pattern.match",n,E,e,u);if(u.abortEarly)return{value:n,errors:I};r.push(I)}}}}if(i.size&&(t.$_terms.keys||t.$_terms.patterns)){if(u.stripUnknown&&void 0===t.l_.unknown||u.skipFunctions)for(var R=!(!u.stripUnknown||!0!==u.stripUnknown&&!u.stripUnknown.objects),C=0;C<i.length;C++){var N=i[C];R?(delete n[N],i.delete(N)):"function"==typeof n[N]&&i.delete(N)}if(!a.default(t.l_.unknown,u.allowUnknown))for(var D=0;D<i.length;D++){var P=i[D],x=e.localize(Ft(e.path).concat([P]),[]),L=t.$_createError("object.unknown",n[P],{child:P},x,u,{flags:!1});if(u.abortEarly)return{value:n,errors:L};r.push(L)}}},d.Dependency=function(){function t(t,n,i,r,e){this.rel=t,this.key=n,this.peers=i,this.paths=r,this.options=e}return t.prototype.describe=function(){var t={rel:this.rel,peers:this.paths};return null!==this.key&&(t.key=this.key.key),"."!==this.peers[0].separator&&(t.options=R(w({},t.options),{separator:this.peers[0].separator})),this.options.isPresent&&(t.options=R(w({},t.options),{isPresent:this.options.isPresent})),t},t}(),d.Keys=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n.prototype.concat=function(t){for(var n=this.slice(),i=new Map,r=0;r<n.length;++r)i.set(n[r].key,r);for(var e=0;e<t.length;e++){var u=t[e],s=u.key,o=i.get(s);void 0!==o?n[o]={key:s,schema:n[o].schema.concat(u.schema)}:n.push(u)}return n},n}(gn(Array))},8785:function(t,n,i){var r=i(375),e=i(8068),u=i(8160),s=i(3292),o=i(6354),a={};t.exports=e.extend({type:"link",properties:{schemaChain:!0},terms:{link:{init:null,manifest:"single",register:!1}},args:function(t,n){return t.ref(n)},validate:function(t,n){var i=n.schema,e=n.state,u=n.prefs;r(i.$_terms.link,"Uninitialized link schema");var s=a.generate(i,t,e,u),o=i.$_terms.link[0].ref;return s.$_validate(t,e.nest(s,"link:".concat(o.display,":").concat(s.type)),u)},generate:function(t,n,i,r){return a.generate(t,n,i,r)},rules:{ref:{method:function(t){r(!this.$_terms.link,"Cannot reinitialize schema"),t=s.ref(t),r("value"===t.type||"local"===t.type,"Invalid reference type:",t.type),r("local"===t.type||"root"===t.ancestor||t.ancestor>0,"Link cannot reference itself");var n=this.clone();return n.$_terms.link=[{ref:t}],n}},relative:{method:function(t){return void 0===t&&(t=!0),this.$_setFlag("relative",t)}}},overrides:{concat:function(t){r(this.$_terms.link,"Uninitialized link schema"),r(u.isSchema(t),"Invalid schema object"),r("link"!==t.type,"Cannot merge type link with another link");var n=this.clone();return n.$_terms.whens||(n.$_terms.whens=[]),n.$_terms.whens.push({concat:t}),n.$_mutateRebuild()}},manifest:{build:function(t,n){return r(n.link,"Invalid link description missing link"),t.ref(n.link)}}}),a.generate=function(t,n,i,r){var e=i.mainstay.links.get(t);if(e)return e.E_(n,i,r).schema;var u=t.$_terms.link[0].ref,s=a.perspective(u,i),o=s.perspective,c=s.path;a.assert(o,"which is outside of schema boundaries",u,t,i,r);try{e=c.length?o.$_reach(c):o}catch(n){a.assert(!1,"to non-existing schema",u,t,i,r)}return a.assert("link"!==e.type,"which is another link",u,t,i,r),t.l_.relative||i.mainstay.links.set(t,e),e.E_(n,i,r).schema},a.perspective=function(t,n){if("local"===t.type){for(var i=0,r=n.schemas;i<r.length;i++){var e=r[i],u=e.schema,s=e.key;if((u.l_.id||s)===t.path[0])return{perspective:u,path:t.path.slice(1)};if(u.$_terms.shared)for(var o=0,a=u.$_terms.shared;o<a.length;o++){var c=a[o];if(c.l_.id===t.path[0])return{perspective:c,path:t.path.slice(1)}}}return{perspective:null,path:null}}return"root"===t.ancestor?{perspective:n.schemas[n.schemas.length-1].schema,path:t.path}:{perspective:n.schemas[t.ancestor]&&n.schemas[t.ancestor].schema,path:t.path}},a.assert=function(t,n,i,e,u,s){t||r(!1,'"'.concat(o.label(e.l_,u,s),'" contains link reference "').concat(i.display,'" ').concat(n))}},3832:function(t,n,i){var r=i(375),e=i(8068),u=i(8160),s={numberRx:/^\s*[+-]?(?:(?:\d+(?:\.\d*)?)|(?:\.\d+))(?:e([+-]?\d+))?\s*$/i,precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,exponentialPartRegex:/[eE][+-]?\d+$/,leadingSignAndZerosRegex:/^[+-]?(0*)?/,dotRegex:/\./,trailingZerosRegex:/0+$/,decimalPlaces:function(t){var n=t.toString(),i=n.indexOf("."),r=n.indexOf("e");return(i<0?0:(r<0?n.length:r)-i-1)+(r<0?0:k.max(0,-A(n.slice(r+1))))}};t.exports=e.extend({type:"number",flags:{unsafe:{default:!1}},coerce:{from:"string",method:function(t,n){var i=n.schema,r=n.error;if(t.match(s.numberRx)){t=t.trim();var e={value:T(t)};if(0===e.value&&(e.value=0),!i.l_.unsafe)if(t.match(/e/i)){if(s.extractSignificantDigits(t)!==s.extractSignificantDigits(String(e.value)))return e.errors=r("number.unsafe"),e}else{var u=e.value.toString();if(u.match(/e/i))return e;if(u!==s.normalizeDecimal(t))return e.errors=r("number.unsafe"),e}return e}}},validate:function(t,n){var i=n.schema,r=n.error,e=n.prefs;if(t===1/0||t===-1/0)return{value:t,errors:r("number.infinity")};if(!u.isNumber(t))return{value:t,errors:r("number.base")};var s={value:t};if(e.convert){var o=i.$_getRule("precision");if(o){var a=k.pow(10,o.args.limit);s.value=k.round(s.value*a)/a}}return 0===s.value&&(s.value=0),!i.l_.unsafe&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER)&&(s.errors=r("number.unsafe")),s},rules:{compare:{method:!1,validate:function(t,n,i,r){var e=i.limit,s=r.name,o=r.operator,a=r.args;return u.compare(t,e,o)?t:n.error("number."+s,{limit:a.limit,value:t})},args:[{name:"limit",ref:!0,assert:u.isNumber,message:"must be a number"}]},greater:{method:function(t){return this.$_addRule({name:"greater",method:"compare",args:{limit:t},operator:">"})}},integer:{method:function(){return this.$_addRule("integer")},validate:function(t,n){return k.trunc(t)-t==0?t:n.error("number.integer")}},less:{method:function(t){return this.$_addRule({name:"less",method:"compare",args:{limit:t},operator:"<"})}},max:{method:function(t){return this.$_addRule({name:"max",method:"compare",args:{limit:t},operator:"<="})}},min:{method:function(t){return this.$_addRule({name:"min",method:"compare",args:{limit:t},operator:">="})}},multiple:{method:function(t){var n="number"==typeof t?s.decimalPlaces(t):null,i=k.pow(10,n);return this.$_addRule({name:"multiple",args:{base:t,baseDecimalPlace:n,pfactor:i}})},validate:function(t,n,i,r){var e=i.base,u=i.baseDecimalPlace,o=i.pfactor;return s.decimalPlaces(t)>u?n.error("number.multiple",{multiple:r.args.base,value:t}):k.round(o*t)%k.round(o*e)==0?t:n.error("number.multiple",{multiple:r.args.base,value:t})},args:[{name:"base",ref:!0,assert:function(t){return"number"==typeof t&&isFinite(t)&&t>0},message:"must be a positive number"},"baseDecimalPlace","pfactor"],multi:!0},negative:{method:function(){return this.sign("negative")}},port:{method:function(){return this.$_addRule("port")},validate:function(t,n){return Number.isSafeInteger(t)&&t>=0&&t<=65535?t:n.error("number.port")}},positive:{method:function(){return this.sign("positive")}},precision:{method:function(t){return r(Number.isSafeInteger(t),"limit must be an integer"),this.$_addRule({name:"precision",args:{limit:t}})},validate:function(t,n,i){var r=i.limit,e=t.toString().match(s.precisionRx);return k.max((e[1]?e[1].length:0)-(e[2]?A(e[2],10):0),0)<=r?t:n.error("number.precision",{limit:r,value:t})},convert:!0},sign:{method:function(t){return r(["negative","positive"].includes(t),"Invalid sign",t),this.$_addRule({name:"sign",args:{sign:t}})},validate:function(t,n,i){var r=i.sign;return"negative"===r&&t<0||"positive"===r&&t>0?t:n.error("number.".concat(r))}},unsafe:{method:function(t){return void 0===t&&(t=!0),r("boolean"==typeof t,"enabled must be a boolean"),this.$_setFlag("unsafe",t)}}},cast:{string:{from:function(t){return"number"==typeof t},to:function(t,n){return t.toString()}}},messages:{"number.base":"{{#label}} must be a number","number.greater":"{{#label}} must be greater than {{#limit}}","number.infinity":"{{#label}} cannot be infinity","number.integer":"{{#label}} must be an integer","number.less":"{{#label}} must be less than {{#limit}}","number.max":"{{#label}} must be less than or equal to {{#limit}}","number.min":"{{#label}} must be greater than or equal to {{#limit}}","number.multiple":"{{#label}} must be a multiple of {{#multiple}}","number.negative":"{{#label}} must be a negative number","number.port":"{{#label}} must be a valid port","number.positive":"{{#label}} must be a positive number","number.precision":"{{#label}} must have no more than {{#limit}} decimal places","number.unsafe":"{{#label}} must be a safe number"}}),s.extractSignificantDigits=function(t){return t.replace(s.exponentialPartRegex,"").replace(s.dotRegex,"").replace(s.trailingZerosRegex,"").replace(s.leadingSignAndZerosRegex,"")},s.normalizeDecimal=function(t){return(t=t.replace(/^\+/,"").replace(/\.0*$/,"").replace(/^(-?)\.([^\.]*)$/,"$10.$2").replace(/^(-?)0+([0-9])/,"$1$2")).includes(".")&&t.endsWith("0")&&(t=t.replace(/0+$/,"")),"-0"===t?"0":t}},8966:function(t,n,i){var r=i(7824);t.exports=r.extend({type:"object",cast:{map:{from:function(t){return t&&"object"==(void 0===t?"undefined":U(t))},to:function(t,n){return new Map(b.entries(t))}}}})},7417:function(t,n,i){var r=i(375),e=i(5380),u=i(1745),s=i(9959),o=i(6064),a=i(9926),c=i(5752),h=i(8068),f=i(8160),v={tlds:a instanceof Set&&{tlds:{allow:a,deny:null}},base64Regex:{true:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}==|[\w\-]{3}=)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/},false:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}(==)?|[\w\-]{3}=?)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/}},dataUriRegex:/^data:[\w+.-]+\/[\w+.-]+;((charset=[\w-]+|base64),)?(.*)$/,hexRegex:{withPrefix:/^0x[0-9a-f]+$/i,withOptionalPrefix:/^(?:0x)?[0-9a-f]+$/i,withoutPrefix:/^[0-9a-f]+$/i},ipRegex:s.regex({cidr:"forbidden"}).regex,isoDurationRegex:/^P(?!$)(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?$/,guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5",uuidv6:"6",uuidv7:"7",uuidv8:"8"},guidSeparators:new Set([void 0,!0,!1,"-",":"]),normalizationForms:["NFC","NFD","NFKC","NFKD"]};t.exports=h.extend({type:"string",flags:{insensitive:{default:!1},truncate:{default:!1}},terms:{replacements:{init:null}},coerce:{from:"string",method:function(t,n){var i=n.schema,r=n.state,e=n.prefs,u=i.$_getRule("normalize");u&&(t=t.normalize(u.args.form));var s=i.$_getRule("case");s&&(t="upper"===s.args.direction?t.toLocaleUpperCase():t.toLocaleLowerCase());var o=i.$_getRule("trim");if(o&&o.args.enabled&&(t=t.trim()),i.$_terms.replacements)for(var a=0,c=i.$_terms.replacements;a<c.length;a++){var h=c[a];t=t.replace(h.pattern,h.replacement)}var d=i.$_getRule("hex");if(d&&d.args.options.byteAligned&&t.length%2!=0&&(t="0".concat(t)),i.$_getRule("isoDate")){var l=v.isoDate(t);l&&(t=l)}if(i.l_.truncate){var g=i.$_getRule("max");if(g){var w=g.args.limit;if(f.isResolvable(w)&&(w=w.resolve(t,r,e),!f.limit(w)))return{value:t,errors:i.$_createError("any.ref",w,{ref:g.args.limit,arg:"limit",reason:"must be a positive integer"},r,e)};t=t.slice(0,w)}}return{value:t}}},validate:function(t,n){var i=n.schema,r=n.error;if("string"!=typeof t)return{value:t,errors:r("string.base")};if(""===t){var e=i.$_getRule("min");return e&&0===e.args.limit?void 0:{value:t,errors:r("string.empty")}}},rules:{alphanum:{method:function(){return this.$_addRule("alphanum")},validate:function(t,n){return/^[a-zA-Z0-9]+$/.test(t)?t:n.error("string.alphanum")}},base64:{method:function(t){return void 0===t&&(t={}),f.assertOptions(t,["paddingRequired","urlSafe"]),t=w({urlSafe:!1,paddingRequired:!0},t),r("boolean"==typeof t.paddingRequired,"paddingRequired must be boolean"),r("boolean"==typeof t.urlSafe,"urlSafe must be boolean"),this.$_addRule({name:"base64",args:{options:t}})},validate:function(t,n,i){var r=i.options;return v.base64Regex[r.paddingRequired][r.urlSafe].test(t)?t:n.error("string.base64")}},case:{method:function(t){return r(["lower","upper"].includes(t),"Invalid case:",t),this.$_addRule({name:"case",args:{direction:t}})},validate:function(t,n,i){var r=i.direction;return"lower"===r&&t===t.toLocaleLowerCase()||"upper"===r&&t===t.toLocaleUpperCase()?t:n.error("string.".concat(r,"case"))},convert:!0},creditCard:{method:function(){return this.$_addRule("creditCard")},validate:function(t,n){for(var i=t.length,r=0,e=1;i--;){var u=t.charAt(i)*e;r+=u-9*(u>9),e^=3}return r>0&&r%10==0?t:n.error("string.creditCard")}},dataUri:{method:function(t){return void 0===t&&(t={}),f.assertOptions(t,["paddingRequired"]),t=w({paddingRequired:!0},t),r("boolean"==typeof t.paddingRequired,"paddingRequired must be boolean"),this.$_addRule({name:"dataUri",args:{options:t}})},validate:function(t,n,i){var r=i.options,e=t.match(v.dataUriRegex);return!e||e[2]&&"base64"===e[2]&&!v.base64Regex[r.paddingRequired].false.test(e[3])?n.error("string.dataUri"):t}},domain:{method:function(t){t&&f.assertOptions(t,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);var n=v.addressOptions(t);return this.$_addRule({name:"domain",args:{options:t},address:n})},validate:function(t,n,i,r){var u=r.address;return e.isValid(t,u)?t:n.error("string.domain")}},email:{method:function(t){void 0===t&&(t={}),f.assertOptions(t,["allowFullyQualified","allowUnicode","ignoreLength","maxDomainSegments","minDomainSegments","multiple","separator","tlds"]),r(void 0===t.multiple||"boolean"==typeof t.multiple,"multiple option must be an boolean");var n=v.addressOptions(t),i=new RegExp("\\s*[".concat(t.separator?o(t.separator):",","]\\s*"));return this.$_addRule({name:"email",args:{options:t},regex:i,address:n})},validate:function(t,n,i,r){for(var e=i.options,s=r.regex,o=r.address,a=e.multiple?t.split(s):[t],c=[],h=0;h<a.length;h++){var f=a[h];u.isValid(f,o)||c.push(f)}return c.length?n.error("string.email",{value:t,invalids:c}):t}},guid:{alias:"uuid",method:function(t){void 0===t&&(t={}),f.assertOptions(t,["version","separator"]);var n="";if(t.version){var i=[].concat(t.version);r(i.length>=1,"version must have at least 1 valid version specified");for(var e=new Set,u=0;u<i.length;++u){var s=i[u];r("string"==typeof s,"version at position "+u+" must be a string");var o=v.guidVersions[s.toLowerCase()];r(o,"version at position "+u+" must be one of "+b.keys(v.guidVersions).join(", ")),r(!e.has(o),"version at position "+u+" must not be a duplicate"),n+=o,e.add(o)}}r(v.guidSeparators.has(t.separator),'separator must be one of true, false, "-", or ":"');var a=void 0===t.separator?"[:-]?":!0===t.separator?"[:-]":!1===t.separator?"[]?":"\\".concat(t.separator),c=new RegExp("^([\\[{\\(]?)[0-9A-F]{8}(".concat(a,")[0-9A-F]{4}\\2?[").concat(n||"0-9A-F","][0-9A-F]{3}\\2?[").concat(n?"89AB":"0-9A-F","][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$"),"i");return this.$_addRule({name:"guid",args:{options:t},regex:c})},validate:function(t,n,i,r){var e=r.regex.exec(t);return e?v.guidBrackets[e[1]]!==e[e.length-1]?n.error("string.guid"):t:n.error("string.guid")}},hex:{method:function(t){return void 0===t&&(t={}),f.assertOptions(t,["byteAligned","prefix"]),t=w({byteAligned:!1,prefix:!1},t),r("boolean"==typeof t.byteAligned,"byteAligned must be boolean"),r("boolean"==typeof t.prefix||"optional"===t.prefix,'prefix must be boolean or "optional"'),this.$_addRule({name:"hex",args:{options:t}})},validate:function(t,n,i){var r=i.options;return("optional"===r.prefix?v.hexRegex.withOptionalPrefix:!0===r.prefix?v.hexRegex.withPrefix:v.hexRegex.withoutPrefix).test(t)?r.byteAligned&&t.length%2!=0?n.error("string.hexAlign"):t:n.error("string.hex")}},hostname:{method:function(){return this.$_addRule("hostname")},validate:function(t,n){return e.isValid(t,{minDomainSegments:1})||v.ipRegex.test(t)?t:n.error("string.hostname")}},insensitive:{method:function(){return this.$_setFlag("insensitive",!0)}},ip:{method:function(t){void 0===t&&(t={}),f.assertOptions(t,["cidr","version"]);var n=s.regex(t),i=n.cidr,r=n.versions,e=n.regex,u=t.version?r:void 0;return this.$_addRule({name:"ip",args:{options:{cidr:i,version:u}},regex:e})},validate:function(t,n,i,r){var e=i.options;return r.regex.test(t)?t:e.version?n.error("string.ipVersion",{value:t,cidr:e.cidr,version:e.version}):n.error("string.ip",{value:t,cidr:e.cidr})}},isoDate:{method:function(){return this.$_addRule("isoDate")},validate:function(t,n){var i=n.error;return v.isoDate(t)?t:i("string.isoDate")}},isoDuration:{method:function(){return this.$_addRule("isoDuration")},validate:function(t,n){return v.isoDurationRegex.test(t)?t:n.error("string.isoDuration")}},length:{method:function(t,n){return v.length(this,"length",t,"=",n)},validate:function(t,n,i,r){var e=i.limit,u=i.encoding,s=r.name,o=r.operator,a=r.args,c=!u&&t.length;return f.compare(c,e,o)?t:n.error("string."+s,{limit:a.limit,value:t,encoding:u})},args:[{name:"limit",ref:!0,assert:f.limit,message:"must be a positive integer"},"encoding"]},lowercase:{method:function(){return this.case("lower")}},max:{method:function(t,n){return v.length(this,"max",t,"<=",n)},args:["limit","encoding"]},min:{method:function(t,n){return v.length(this,"min",t,">=",n)},args:["limit","encoding"]},normalize:{method:function(t){return void 0===t&&(t="NFC"),r(v.normalizationForms.includes(t),"normalization form must be one of "+v.normalizationForms.join(", ")),this.$_addRule({name:"normalize",args:{form:t}})},validate:function(t,n,i){var r=n.error,e=i.form;return t===t.normalize(e)?t:r("string.normalize",{value:t,form:e})},convert:!0},pattern:{alias:"regex",method:function(t,n){void 0===n&&(n={}),r(t instanceof RegExp,"regex must be a RegExp"),r(!t.flags.includes("g")&&!t.flags.includes("y"),"regex should not use global or sticky mode"),"string"==typeof n&&(n={name:n}),f.assertOptions(n,["invert","name"]);var i=["string.pattern",n.invert?".invert":"",n.name?".name":".base"].join("");return this.$_addRule({name:"pattern",args:{regex:t,options:n},errorCode:i})},validate:function(t,n,i,r){var e=i.regex,u=i.options,s=r.errorCode;return e.test(t)^u.invert?t:n.error(s,{name:u.name,regex:e,value:t})},args:["regex","options"],multi:!0},replace:{method:function(t,n){"string"==typeof t&&(t=new RegExp(o(t),"g")),r(t instanceof RegExp,"pattern must be a RegExp"),r("string"==typeof n,"replacement must be a String");var i=this.clone();return i.$_terms.replacements||(i.$_terms.replacements=[]),i.$_terms.replacements.push({pattern:t,replacement:n}),i}},token:{method:function(){return this.$_addRule("token")},validate:function(t,n){return/^\w+$/.test(t)?t:n.error("string.token")}},trim:{method:function(t){return void 0===t&&(t=!0),r("boolean"==typeof t,"enabled must be a boolean"),this.$_addRule({name:"trim",args:{enabled:t}})},validate:function(t,n,i){return i.enabled&&t!==t.trim()?n.error("string.trim"):t},convert:!0},truncate:{method:function(t){return void 0===t&&(t=!0),r("boolean"==typeof t,"enabled must be a boolean"),this.$_setFlag("truncate",t)}},uppercase:{method:function(){return this.case("upper")}},uri:{method:function(t){void 0===t&&(t={}),f.assertOptions(t,["allowRelative","allowQuerySquareBrackets","domain","relativeOnly","scheme","encodeUri"]),t.domain&&f.assertOptions(t.domain,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);var n=c.regex(t),i=n.regex,r=n.scheme,e=t.domain?v.addressOptions(t.domain):null;return this.$_addRule({name:"uri",args:{options:t},regex:i,domain:e,scheme:r})},validate:function(t,n,i,r){var u=i.options,s=r.regex,o=r.domain,a=r.scheme;if(["http:/","https:/"].includes(t))return n.error("string.uri");var c=s.exec(t);if(!c&&n.prefs.convert&&u.encodeUri){var h=encodeURI(t);(c=s.exec(h))&&(t=h)}if(c){var f=c[1]||c[2];return!o||u.allowRelative&&!f||e.isValid(f,o)?t:n.error("string.domain",{value:f})}return u.relativeOnly?n.error("string.uriRelativeOnly"):u.scheme?n.error("string.uriCustomScheme",{scheme:a,value:t}):n.error("string.uri")}}},manifest:{build:function(t,n){if(n.replacements)for(var i=0,r=n.replacements;i<r.length;i++){var e=r[i],u=e.pattern,s=e.replacement;t=t.replace(u,s)}return t}},messages:{"string.alphanum":"{{#label}} must only contain alpha-numeric characters","string.base":"{{#label}} must be a string","string.base64":"{{#label}} must be a valid base64 string","string.creditCard":"{{#label}} must be a credit card","string.dataUri":"{{#label}} must be a valid dataUri string","string.domain":"{{#label}} must contain a valid domain name","string.email":"{{#label}} must be a valid email","string.empty":"{{#label}} is not allowed to be empty","string.guid":"{{#label}} must be a valid GUID","string.hex":"{{#label}} must only contain hexadecimal characters","string.hexAlign":"{{#label}} hex decoded representation must be byte aligned","string.hostname":"{{#label}} must be a valid hostname","string.ip":"{{#label}} must be a valid ip address with a {{#cidr}} CIDR","string.ipVersion":"{{#label}} must be a valid ip address of one of the following versions {{#version}} with a {{#cidr}} CIDR","string.isoDate":"{{#label}} must be in iso format","string.isoDuration":"{{#label}} must be a valid ISO 8601 duration","string.length":"{{#label}} length must be {{#limit}} characters long","string.lowercase":"{{#label}} must only contain lowercase characters","string.max":"{{#label}} length must be less than or equal to {{#limit}} characters long","string.min":"{{#label}} length must be at least {{#limit}} characters long","string.normalize":"{{#label}} must be unicode normalized in the {{#form}} form","string.token":"{{#label}} must only contain alpha-numeric and underscore characters","string.pattern.base":"{{#label}} with value {:[.]} fails to match the required pattern: {{#regex}}","string.pattern.name":"{{#label}} with value {:[.]} fails to match the {{#name}} pattern","string.pattern.invert.base":"{{#label}} with value {:[.]} matches the inverted pattern: {{#regex}}","string.pattern.invert.name":"{{#label}} with value {:[.]} matches the inverted {{#name}} pattern","string.trim":"{{#label}} must not have leading or trailing whitespace","string.uri":"{{#label}} must be a valid uri","string.uriCustomScheme":"{{#label}} must be a valid uri with a scheme matching the {{#scheme}} pattern","string.uriRelativeOnly":"{{#label}} must be a valid relative uri","string.uppercase":"{{#label}} must only contain uppercase characters"}}),v.addressOptions=function(t){if(!t)return v.tlds||t;if(r(void 0===t.minDomainSegments||Number.isSafeInteger(t.minDomainSegments)&&t.minDomainSegments>0,"minDomainSegments must be a positive integer"),r(void 0===t.maxDomainSegments||Number.isSafeInteger(t.maxDomainSegments)&&t.maxDomainSegments>0,"maxDomainSegments must be a positive integer"),!1===t.tlds)return t;if(!0===t.tlds||void 0===t.tlds)return r(v.tlds,"Built-in TLD list disabled"),b.assign({},t,v.tlds);r("object"==U(t.tlds),"tlds must be true, false, or an object");var n=t.tlds.deny;if(n)return Array.isArray(n)&&(t=b.assign({},t,{tlds:{deny:new Set(n)}})),r(t.tlds.deny instanceof Set,"tlds.deny must be an array, Set, or boolean"),r(!t.tlds.allow,"Cannot specify both tlds.allow and tlds.deny lists"),v.validateTlds(t.tlds.deny,"tlds.deny"),t;var i=t.tlds.allow;return i?!0===i?(r(v.tlds,"Built-in TLD list disabled"),b.assign({},t,v.tlds)):(Array.isArray(i)&&(t=b.assign({},t,{tlds:{allow:new Set(i)}})),r(t.tlds.allow instanceof Set,"tlds.allow must be an array, Set, or boolean"),v.validateTlds(t.tlds.allow,"tlds.allow"),t):t},v.validateTlds=function(t,n){for(var i=0;i<t.length;i++){var u=t[i];r(e.isValid(u,{minDomainSegments:1,maxDomainSegments:1}),"".concat(n," must contain valid top level domain names"))}},v.isoDate=function(t){if(!f.isIsoDate(t))return null;/.*T.*[+-]\d\d$/.test(t)&&(t+="00");var n=new Date(t);return S(n.getTime())?null:n.toISOString()},v.length=function(t,n,i,e,u){return r(!u||!1,"Invalid encoding:",u),t.$_addRule({name:n,method:"length",args:{limit:i,encoding:u},operator:e})}},8826:function(t,n,i){var e=i(375),u=i(8068),s={};s.Map=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n.prototype.slice=function(){return new s.Map(this)},n}(gn(Map)),t.exports=u.extend({type:"symbol",terms:{map:{init:new s.Map}},coerce:{method:function(t,n){var i=n.schema,r=n.error,e=i.$_terms.map.get(t);return e&&(t=e),i.l_.only&&"symbol"!=(void 0===t?"undefined":U(t))?{value:t,errors:r("symbol.map",{map:i.$_terms.map})}:{value:t}}},validate:function(t,n){var i=n.error;if("symbol"!=(void 0===t?"undefined":U(t)))return{value:t,errors:i("symbol.base")}},rules:{map:{method:function(t){var n;t&&!t[r]&&"object"==(void 0===t?"undefined":U(t))&&(t=b.entries(t)),e(t&&t[r],"Iterable must be an iterable or object");for(var i=this.clone(),u=[],s=0;s<t.length;s++){var o=t[s];e(o&&o[r],"Entry must be an iterable");var a=tn(o,2),c=a[0],h=a[1];e("object"!=(void 0===c?"undefined":U(c))&&"function"!=typeof c&&"symbol"!=(void 0===c?"undefined":U(c)),"Key must not be of type object, function, or Symbol"),e("symbol"==(void 0===h?"undefined":U(h)),"Value must be a Symbol"),i.$_terms.map.set(c,h),u.push(h)}return(n=i).valid.apply(n,Ft(u))}}},manifest:{build:function(t,n){return n.map&&(t=t.map(n.map)),t}},messages:{"symbol.base":"{{#label}} must be a symbol","symbol.map":"{{#label}} must be one of {{#map}}"}})},8863:function(t,i,r){var e=r(375),u=r(8571),s=r(738),o=r(9621),a=r(8160),c=r(6354),h=r(493),f={result:n("result")};i.entry=function(t,n,i){var r=a.defaults;i&&(e(void 0===i.warnings,"Cannot override warnings preference in synchronous validation"),e(void 0===i.artifacts,"Cannot override artifacts preference in synchronous validation"),r=a.preferences(a.defaults,i));var u=f.entry(t,n,r);e(!u.mainstay.externals.length,"Schema with external rules must use validateAsync()");var s={value:u.value};return u.error&&(s.error=u.error),u.mainstay.warnings.length&&(s.warning=c.details(u.mainstay.warnings)),u.mainstay.debug&&(s.debug=u.mainstay.debug),u.mainstay.artifacts&&(s.artifacts=u.mainstay.artifacts),s},i.entryAsync=Zt((function(t,n,i){var r,e,u,s,h,v,d,l,g;return Ht(this,(function(w){switch(w.label){case 0:if(r=a.defaults,i&&(r=a.preferences(a.defaults,i)),e=f.entry(t,n,r),u=e.mainstay,e.error)throw u.debug&&(e.error.debug=u.debug),e.error;if(!u.externals.length)return[3,5];s=function(n,e){var s,d,l,g,w,m,y,p,_,b,k,A,T,S,E,I;return Ht(this,(function(R){switch(R.label){case 0:if(s=e[n],d=s.state.path,l="link"===s.schema.type?u.links.get(s.schema):null,g=void 0,w=void 0,m=h,y=d.length?[h]:[],p=d.length?o(t,d):t,d.length){for(g=d[d.length-1],_=h,b=0,k=d.slice(0,-1);b<k.length;b++)A=k[b],_=_[A],y.unshift(_);w=y[0],m=w[g]}R.label=1;case 1:return R.trys.push([1,3,,4]),T=function(t,n){return(l||s.schema).$_createError(t,m,n,s.state,r)},[4,s.method(m,{schema:s.schema,linked:l,state:s.state,prefs:i,original:p,error:T,errorsArray:f.errorsArray,warn:function(t,n){return u.warnings.push((l||s.schema).$_createError(t,m,n,s.state,r))},message:function(t,n){return(l||s.schema).$_createError("external",m,n,s.state,r,{messages:t})}})];case 2:return void 0===(S=R.sent())||S===m?[2,"continue"]:S instanceof c.Report?(u.tracer.log(s.schema,s.state,"rule","external","error"),v.push(S),r.abortEarly?[2,"break"]:[2,"continue"]):Array.isArray(S)&&S[a.symbols.errors]?(u.tracer.log(s.schema,s.state,"rule","external","error"),(E=v).push.apply(E,Ft(S)),r.abortEarly?[2,"break"]:[2,"continue"]):(w?(u.tracer.value(s.state,"rule",m,S,"external"),w[g]=S):(u.tracer.value(s.state,"rule",h,S,"external"),h=S),[3,4]);case 3:throw I=R.sent(),r.errors.label&&(I.message+=" (".concat(s.label,")")),I;case 4:return[2]}}))},h=e.value,v=[],d=0,l=u.externals,w.label=1;case 1:return d<l.length?[5,zt(s(d,l))]:[3,4];case 2:if("break"===w.sent())return[3,4];w.label=3;case 3:return d++,[3,1];case 4:if(e.value=h,v.length)throw e.error=c.process(v,t,r),u.debug&&(e.error.debug=u.debug),e.error;w.label=5;case 5:return r.warnings||r.debug||r.artifacts?(g={value:e.value},[2,(u.warnings.length&&(g.warning=c.details(u.warnings)),u.debug&&(g.debug=u.debug),u.artifacts&&(g.artifacts=u.artifacts),g)]):[2,e.value]}}))})),f.Mainstay=function(){function t(t,n,i){this.externals=[],this.warnings=[],this.tracer=t,this.debug=n,this.links=i,this.shadow=null,this.artifacts=null,this.ov=[]}var n=t.prototype;return n.snapshot=function(){this.ov.push({externals:this.externals.slice(),warnings:this.warnings.slice()})},n.restore=function(){var t=this.ov.pop();this.externals=t.externals,this.warnings=t.warnings},n.commit=function(){this.ov.pop()},t}(),f.entry=function(t,n,r){var e=f.tracer(n,r),u=e.tracer,s=e.cleanup,o=r.debug?[]:null,a=n.r_.F_?new Map:null,v=new f.Mainstay(u,o,a),d=n.r_.F_?[{schema:n}]:null,l=new h([],[],{mainstay:v,schemas:d}),g=i.validate(t,n,l,r);s&&n.$_root.untrace();var w=c.process(g.errors,t,r);return{value:g.value,error:w,mainstay:v}},f.tracer=function(t,n){return t.$_root.y_?{tracer:t.$_root.y_.hv(t)}:n.debug?(e(t.$_root.trace,"Debug mode not supported"),{tracer:t.$_root.trace().hv(t),cleanup:!0}):{tracer:f.ignore}},i.validate=function(t,n,i,r,e){if(void 0===e&&(e={}),n.$_terms.whens&&(n=n.E_(t,i,r).schema),n.o_&&(r=f.prefs(n,r)),n.a_&&r.cache){var u=n.a_.get(t);if(i.mainstay.tracer.debug(i,"validate","cached",!!u),u)return u}var s=function(e,u,s){return n.$_createError(e,t,u,s||i,r)},o={original:t,prefs:r,schema:n,state:i,error:s,errorsArray:f.errorsArray,warn:function(t,n,r){return i.mainstay.warnings.push(s(t,n,r))},message:function(e,u){return n.$_createError("custom",t,u,i,r,{messages:e})}};i.mainstay.tracer.entry(n,i);var c=n.m_;if(c.prepare&&void 0!==t&&r.convert){var h=c.prepare(t,o);if(h){if(i.mainstay.tracer.value(i,"prepare",t,h.value),h.errors)return f.finalize(h.value,[].concat(h.errors),o);t=h.value}}if(c.coerce&&void 0!==t&&r.convert&&(!c.coerce.from||c.coerce.from.includes(void 0===t?"undefined":U(t)))){var v=c.coerce.method(t,o);if(v){if(i.mainstay.tracer.value(i,"coerced",t,v.value),v.errors)return f.finalize(v.value,[].concat(v.errors),o);t=v.value}}var d=n.l_.empty;d&&d.$_match(f.trim(t,n),i.nest(d),a.defaults)&&(i.mainstay.tracer.value(i,"empty",t,void 0),t=void 0);var l=e.presence||n.l_.presence||(n.l_.q_?null:r.presence);if(void 0===t){if("forbidden"===l)return f.finalize(t,null,o);if("required"===l)return f.finalize(t,[n.$_createError("any.required",t,null,i,r)],o);if("optional"===l){if(n.l_.default!==a.symbols.deepDefault)return f.finalize(t,null,o);i.mainstay.tracer.value(i,"default",t,{}),t={}}}else if("forbidden"===l)return f.finalize(t,[n.$_createError("any.unknown",t,null,i,r)],o);var g=[];if(n.u_){var w=n.u_.get(t,i,r,n.l_.insensitive);if(w)return r.convert&&(i.mainstay.tracer.value(i,"valids",t,w.value),t=w.value),i.mainstay.tracer.filter(n,i,"valid",w),f.finalize(t,null,o);if(n.l_.only){var m=n.$_createError("any.only",t,{valids:n.u_.values({display:!0})},i,r);if(r.abortEarly)return f.finalize(t,[m],o);g.push(m)}}if(n.c_){var y=n.c_.get(t,i,r,n.l_.insensitive);if(y){i.mainstay.tracer.filter(n,i,"invalid",y);var p=n.$_createError("any.invalid",t,{invalids:n.c_.values({display:!0})},i,r);if(r.abortEarly)return f.finalize(t,[p],o);g.push(p)}}if(c.validate){var _=c.validate(t,o);if(_&&(i.mainstay.tracer.value(i,"base",t,_.value),t=_.value,_.errors)){var b;if(!Array.isArray(_.errors))return g.push(_.errors),f.finalize(t,g,o);if(_.errors.length)return(b=g).push.apply(b,Ft(_.errors)),f.finalize(t,g,o)}}return n.d_.length?f.rules(t,g,o):f.finalize(t,g,o)},f.rules=function(t,n,i){for(var r=i.schema,e=i.state,u=i.prefs,s=0,o=r.d_;s<o.length;s++){var c=o[s],h=r.m_.rules[c.method];if(h.convert&&u.convert)e.mainstay.tracer.log(r,e,"rule",c.name,"full");else{var v=void 0,d=c.args;if(c.Vd.length){d=b.assign({},d);for(var l=0,g=c.Vd;l<g.length;l++){var w=g[l],m=h.argsByName.get(w),y=d[w].resolve(t,e,u),p=m.normalize?m.normalize(y):y,_=a.validateArg(p,null,m);if(_){v=r.$_createError("any.ref",y,{arg:w,ref:d[w],reason:_},e,u);break}d[w]=p}}v=v||h.validate(t,i,d,c);var k=f.rule(v,c);if(k.errors){var A;if(e.mainstay.tracer.log(r,e,"rule",c.name,"error"),c.warn){var T;(T=e.mainstay.warnings).push.apply(T,Ft(k.errors));continue}if(u.abortEarly)return f.finalize(t,k.errors,i);(A=n).push.apply(A,Ft(k.errors))}else e.mainstay.tracer.log(r,e,"rule",c.name,"pass"),e.mainstay.tracer.value(e,"rule",t,k.value,c.name),t=k.value}}return f.finalize(t,n,i)},f.rule=function(t,n){return t instanceof c.Report?(f.error(t,n),{errors:[t],value:null}):Array.isArray(t)&&t[a.symbols.errors]?(t.forEach((function(t){return f.error(t,n)})),{errors:t,value:null}):{errors:null,value:t}},f.error=function(t,n){return n.message&&t.D_(n.message),t},f.finalize=function(t,n,i){n=n||[];var r=i.schema,u=i.state,s=i.prefs;if(n.length){var o=f.default("failover",void 0,n,i);void 0!==o&&(u.mainstay.tracer.value(u,"failover",t,o),t=o,n=[])}if(n.length&&r.l_.error)if("function"==typeof r.l_.error){n=r.l_.error(n),Array.isArray(n)||(n=[n]);for(var a=0;a<n.length;a++){var h=n[a];e(h instanceof p||h instanceof c.Report,"error() must return an Error object")}}else n=[r.l_.error];if(void 0===t){var v=f.default("default",t,n,i);u.mainstay.tracer.value(u,"default",t,v),t=v}if(r.l_.cast&&void 0!==t){var d=r.m_.cast[r.l_.cast];if(d.from(t)){var l=d.to(t,i);u.mainstay.tracer.value(u,"cast",t,l,r.l_.cast),t=l}}if(r.$_terms.externals&&s.externals&&!1!==s.S_)for(var g=0,w=r.$_terms.externals;g<w.length;g++){var m=w[g].method;u.mainstay.externals.push({method:m,schema:r,state:u,label:c.label(r.l_,u,s)})}var y={value:t,errors:n.length?n:null};return r.l_.result&&(y.value="strip"===r.l_.result?void 0:i.original,u.mainstay.tracer.value(u,r.l_.result,t,y.value),u.shadow(t,r.l_.result)),r.a_&&!1!==s.cache&&!r.h_.length&&r.a_.set(i.original,y),void 0===t||y.errors||void 0===r.l_.artifact||(u.mainstay.artifacts=u.mainstay.artifacts||new Map,u.mainstay.artifacts.has(r.l_.artifact)||u.mainstay.artifacts.set(r.l_.artifact,[]),u.mainstay.artifacts.get(r.l_.artifact).push(u.path)),y},f.prefs=function(t,n){var i=n===a.defaults;return i&&t.o_[a.symbols.prefs]?t.o_[a.symbols.prefs]:(n=a.preferences(n,t.o_),i&&(t.o_[a.symbols.prefs]=n),n)},f.default=function(t,n,i,r){var e=r.schema,s=r.state,o=r.prefs,c=e.l_[t];if(o.noDefaults||void 0===c)return n;if(s.mainstay.tracer.log(e,s,"rule",t,"full"),!c)return c;if("function"==typeof c){var h=c.length?[u(s.ancestors[0]),r]:[];try{return c.apply(void 0,Ft(h))}catch(n){return void i.push(e.$_createError("any.".concat(t),null,{error:n},s,o))}}return"object"!=(void 0===c?"undefined":U(c))?c:c[a.symbols.literal]?c.literal:a.isResolvable(c)?c.resolve(n,s,o):u(c)},f.trim=function(t,n){if("string"!=typeof t)return t;var i=n.$_getRule("trim");return i&&i.args.enabled?t.trim():t},f.ignore={active:!1,debug:s,entry:s,filter:s,log:s,resolve:s,value:s},f.errorsArray=function(){var t=[];return t[a.symbols.errors]=!0,t}},2036:function(t,n,i){var r=i(375),e=i(9474),u=i(8160),s={};t.exports=s.Values=function(){function t(t,n){this.__=new Set(t),this.h_=new Set(n),this.uv=s.lowercases(t),this.fv=!1}var n=t.prototype;return n.add=function(t,n){u.isResolvable(t)?this.h_.has(t)||(this.h_.add(t),n&&n.register(t)):this.has(t,null,null,!1)||(this.__.add(t),"string"==typeof t&&this.uv.set(t.toLowerCase(),t))},n.remove=function(t){u.isResolvable(t)?this.h_.delete(t):(this.__.delete(t),"string"==typeof t&&this.uv.delete(t.toLowerCase()))},n.has=function(t,n,i,r){return!!this.get(t,n,i,r)},n.get=function(t,n,i,r){if(!this.length)return!1;if(this.__.has(t))return{value:t};if("string"==typeof t&&t&&r){var u=this.uv.get(t.toLowerCase());if(u)return{value:u}}if(!this.h_.size&&"object"!=(void 0===t?"undefined":U(t)))return!1;if("object"==(void 0===t?"undefined":U(t)))for(var s=0,o=this.__;s<o.length;s++){var a=o[s];if(e(a,t))return{value:a}}if(n)for(var c=0,h=this.h_;c<h.length;c++){var f=h[c],v=f.resolve(t,n,i,null,{in:!0});if(void 0!==v)for(var d=f.in&&"object"==(void 0===v?"undefined":U(v))?Array.isArray(v)?v:b.keys(v):[v],l=0;l<d.length;l++){var g=d[l];if((void 0===g?"undefined":U(g))==(void 0===t?"undefined":U(t)))if(r&&t&&"string"==typeof t){if(g.toLowerCase()===t.toLowerCase())return{value:g,ref:f}}else if(e(g,t))return{value:g,ref:f}}}return!1},n.override=function(){this.fv=!0},n.values=function(t){if(t&&t.display){for(var n=[],i=0,r=Ft(this.__).concat(Ft(this.h_));i<r.length;i++){var e=r[i];void 0!==e&&n.push(e)}return n}return Array.from(Ft(this.__).concat(Ft(this.h_)))},n.clone=function(){var t=new s.Values(this.__,this.h_);return t.fv=this.fv,t},n.concat=function(t){r(!t.fv,"Cannot concat override set of values");var n=new s.Values(Ft(this.__).concat(Ft(t.__)),Ft(this.h_).concat(Ft(t.h_)));return n.fv=this.fv,n},n.describe=function(){var t=[];this.fv&&t.push({override:!0});for(var n=0,i=this.__.values();n<i.length;n++){var r=i[n];t.push(r&&"object"==(void 0===r?"undefined":U(r))?{value:r}:r)}for(var e=0,u=this.h_.values();e<u.length;e++){var s=u[e];t.push(s.describe())}return t},t.merge=function(t,n,i){if(t=t||new s.Values,n){if(n.fv)return n.clone();for(var r=0,e=Ft(n.__).concat(Ft(n.h_));r<e.length;r++){var u=e[r];t.add(u)}}if(i)for(var o=0,a=Ft(i.__).concat(Ft(i.h_));o<a.length;o++){var c=a[o];t.remove(c)}return t.length?t:null},Nt(t,[{key:"length",get:function(){return this.__.size+this.h_.size}}]),t}(),s.Values.prototype[u.symbols.values]=!0,s.Values.prototype.slice=s.Values.prototype.clone,s.lowercases=function(t){var n=new Map;if(t)for(var i=0;i<t.length;i++){var r=t[i];"string"==typeof r&&n.set(r.toLowerCase(),r)}return n}},978:function(t,n,i){var r=i(375),e=i(8571),u=i(1687),s=i(9621),o={};t.exports=function(t,n,i){if(void 0===i&&(i={}),r(t&&"object"==(void 0===t?"undefined":U(t)),"Invalid defaults value: must be an object"),r(!n||!0===n||"object"==(void 0===n?"undefined":U(n)),"Invalid source value: must be true, falsy or an object"),r("object"==(void 0===i?"undefined":U(i)),"Invalid options: must be an object"),!n)return null;if(i.shallow)return o.applyToDefaultsWithShallow(t,n,i);var s=e(t);if(!0===n)return s;var a=void 0!==i.nullOverride&&i.nullOverride;return u(s,n,{nullOverride:a,mergeArrays:!1})},o.applyToDefaultsWithShallow=function(t,n,i){var a=i.shallow;r(Array.isArray(a),"Invalid keys");for(var c=new Map,h=!0===n?null:new Set,f=0;f<a.length;f++){var v=a[f];v=Array.isArray(v)?v:v.split(".");var d=s(t,v);d&&"object"==(void 0===d?"undefined":U(d))?c.set(d,h&&s(n,v)||d):h&&h.add(v)}var l=e(t,{},c);if(!h)return l;for(var g=0;g<h.length;g++){var w=h[g];o.reachCopy(l,n,w)}var m=void 0!==i.nullOverride&&i.nullOverride;return u(l,n,{nullOverride:m,mergeArrays:!1})},o.reachCopy=function(t,n,i){for(var r=0;r<i.length;r++){var e=i[r];if(!(e in n))return;var u=n[e];if("object"!=(void 0===u?"undefined":U(u))||null===u)return;n=u}for(var s=n,o=t,a=0;a<i.length-1;++a){var c=i[a];"object"!=U(o[c])&&(o[c]={}),o=o[c]}o[i[i.length-1]]=s}},375:function(t,n,i){var r=i(7916);t.exports=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];if(!t)throw 1===i.length&&i[0]instanceof p?i[0]:new r(i)}},8571:function(t,n,i){var r=i(9621),e=i(4277),u=i(7043),s={needsProtoHack:new Set([e.set,e.map,e.weakSet,e.weakMap])};t.exports=s.clone=function(t,n,i){if(void 0===n&&(n={}),void 0===i&&(i=null),"object"!=(void 0===t?"undefined":U(t))||null===t)return t;var r=s.clone,o=i;if(n.shallow){if(!0!==n.shallow)return s.cloneWithShallow(t,n);r=function(t){return t}}else if(o){var a=o.get(t);if(a)return a}else o=new Map;var c=e.getInternalProto(t);if(c===e.buffer)return!1;if(c===e.date)return new Date(t.getTime());if(c===e.regex)return new RegExp(t);var h=s.base(t,c,n);if(h===t)return t;if(o&&o.set(t,h),c===e.set)for(var f=0;f<t.length;f++){var v=t[f];h.add(r(v,n,o))}else if(c===e.map)for(var d=0;d<t.length;d++){var l=tn(t[d],2),g=l[0],w=l[1];h.set(g,r(w,n,o))}for(var m=u.keys(t,n),y=0;y<m.length;y++){var p=m[y];if("__proto__"!==p)if(c!==e.array||"length"!==p){var _=b.getOwnPropertyDescriptor(t,p);_?_.get||_.set?b.defineProperty(h,p,_):_.enumerable?h[p]=r(t[p],n,o):b.defineProperty(h,p,{enumerable:!1,writable:!0,configurable:!0,value:r(t[p],n,o)}):b.defineProperty(h,p,{enumerable:!0,writable:!0,configurable:!0,value:r(t[p],n,o)})}else h.length=t.length}return h},s.cloneWithShallow=function(t,n){var i=n.shallow;(n=b.assign({},n)).shallow=!1;for(var e=new Map,u=0;u<i.length;u++){var o=i[u],a=r(t,o);"object"!=(void 0===a?"undefined":U(a))&&"function"!=typeof a||e.set(a,a)}return s.clone(t,n,e)},s.base=function(t,n,i){if(!1===i.prototype)return s.needsProtoHack.has(n)?new n.constructor:n===e.array?[]:{};var r=b.getPrototypeOf(t);if(r&&r.isImmutable)return t;if(n===e.array){var u=[];return r!==n&&b.setPrototypeOf(u,r),u}if(s.needsProtoHack.has(n)){var o=new r.constructor;return r!==n&&b.setPrototypeOf(o,r),o}return b.create(r)}},9474:function(t,n,i){var r=i(4277),e={mismatched:null};t.exports=function(t,n,i){return i=b.assign({prototype:!0},i),!!e.isDeepEqual(t,n,i,[])},e.isDeepEqual=function(t,n,i,u){if(t===n)return 0!==t||1/t==1/n;var s=void 0===t?"undefined":U(t);if(s!==(void 0===n?"undefined":U(n))||null===t||null===n)return!1;if("function"===s){if(!i.deepFunction||t.toString()!==n.toString())return!1}else if("object"!==s)return t!=t&&n!=n;var o=e.getSharedType(t,n,!!i.prototype);switch(o){case r.buffer:return!1;case r.promise:return t===n;case r.regex:return t.toString()===n.toString();case e.mismatched:return!1}for(var a=u.length-1;a>=0;--a)if(u[a].isSame(t,n))return!0;u.push(new e.SeenEntry(t,n));try{return!!e.isDeepEqualObj(o,t,n,i,u)}finally{u.pop()}},e.getSharedType=function(t,n,i){if(i)return b.getPrototypeOf(t)!==b.getPrototypeOf(n)?e.mismatched:r.getInternalProto(t);var u=r.getInternalProto(t);return u!==r.getInternalProto(n)?e.mismatched:u},e.valueOf=function(t){var n=t.valueOf;if(void 0===n)return t;try{return n.call(t)}catch(t){return t}},e.hasOwnEnumerableProperty=function(t,n){return b.prototype.propertyIsEnumerable.call(t,n)},e.isSetSimpleEqual=function(t,n){for(var i=0,r=Set.prototype.values.call(t);i<r.length;i++){var e=r[i];if(!Set.prototype.has.call(n,e))return!1}return!0},e.isDeepEqualObj=function(t,n,i,u,s){var o=e.isDeepEqual,a=e.valueOf,c=e.hasOwnEnumerableProperty,h=b.keys,f=b.getOwnPropertySymbols;if(t===r.array){if(!u.part){if(n.length!==i.length)return!1;for(var v=0;v<n.length;++v)if(!o(n[v],i[v],u,s))return!1;return!0}for(var d=0;d<n.length;d++)for(var l=n[d],g=0;g<i.length;g++)if(o(l,i[g],u,s))return!0}else if(t===r.set){if(n.size!==i.size)return!1;if(!e.isSetSimpleEqual(n,i))for(var w=new Set(Set.prototype.values.call(i)),m=0,y=Set.prototype.values.call(n);m<y.length;m++){var p=y[m];if(!w.delete(p)){for(var _=!1,k=0;k<w.length;k++){var A=w[k];if(o(p,A,u,s)){w.delete(A),_=!0;break}}if(!_)return!1}}}else if(t===r.map){if(n.size!==i.size)return!1;for(var T=0,S=Map.prototype.entries.call(n);T<S.length;T++){var E=tn(S[T],2),I=E[0],R=E[1];if(void 0===R&&!Map.prototype.has.call(i,I)||!o(R,Map.prototype.get.call(i,I),u,s))return!1}}else if(t===r.error&&(n.name!==i.name||n.message!==i.message))return!1;var C=a(n),N=a(i);if((n!==C||i!==N)&&!o(C,N,u,s))return!1;var D=h(n);if(!u.part&&D.length!==h(i).length&&!u.skip)return!1;for(var P=0,x=0;x<D.length;x++){var L=D[x];if(u.skip&&u.skip.includes(L))void 0===i[L]&&++P;else if(!c(i,L)||!o(n[L],i[L],u,s))return!1}if(!u.part&&D.length-P!==h(i).length)return!1;if(!1!==u.symbols){for(var M=f(n),O=new Set(f(i)),B=0;B<M.length;B++){var V=M[B];if(!u.skip||!u.skip.includes(V))if(c(n,V)){if(!c(i,V)||!o(n[V],i[V],u,s))return!1}else if(c(i,V))return!1;O.delete(V)}for(var F=0;F<O.length;F++)if(c(i,O[F]))return!1}return!0},e.SeenEntry=function(){function t(t,n){this.obj=t,this.ref=n}return t.prototype.isSame=function(t,n){return this.obj===t&&this.ref===n},t}()},7916:function(t,n,i){var r=i(8761);t.exports=function(t){function i(i){var e;return e=t.call(this,i.filter((function(t){return""!==t})).map((function(t){return"string"==typeof t?t:t instanceof p?t.message:r(t)})).join(" ")||"Unknown error")||this,"function"==typeof p.captureStackTrace&&p.captureStackTrace(e,n.assert),e}return It(i,t),i}(gn(p))},5277:function(t){var n={};t.exports=function(t){if(!t)return"";for(var i="",r=0;r<t.length;++r){var e=t.charCodeAt(r);n.isSafe(e)?i+=t[r]:i+=n.escapeHtmlChar(e)}return i},n.escapeHtmlChar=function(t){return n.namedHtml.get(t)||(t>=256?"&#"+t+";":"&#x".concat(t.toString(16).padStart(2,"0"),";"))},n.isSafe=function(t){return n.safeCharCodes.has(t)},n.namedHtml=new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[34,"&quot;"],[160,"&nbsp;"],[162,"&cent;"],[163,"&pound;"],[164,"&curren;"],[169,"&copy;"],[174,"&reg;"]]),n.safeCharCodes=function(){for(var t=new Set,n=32;n<123;++n)(n>=97||n>=65&&n<=90||n>=48&&n<=57||32===n||46===n||44===n||45===n||58===n||95===n)&&t.add(n);return t}()},6064:function(t){t.exports=function(t){return t.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}},738:function(t){t.exports=function(){}},1687:function(t,n,i){var r=i(375),e=i(8571),u=i(7043),s={};t.exports=s.merge=function(t,n,i){if(r(t&&"object"==(void 0===t?"undefined":U(t)),"Invalid target value: must be an object"),r(null==n||"object"==(void 0===n?"undefined":U(n)),"Invalid source value: must be null, undefined, or an object"),!n)return t;if(i=b.assign({nullOverride:!0,mergeArrays:!0},i),Array.isArray(n)){r(Array.isArray(t),"Cannot merge array onto an object"),i.mergeArrays||(t.length=0);for(var o=0;o<n.length;++o)t.push(e(n[o],{symbols:i.symbols}));return t}for(var a=u.keys(n,i),c=0;c<a.length;++c){var h=a[c];if("__proto__"!==h&&b.prototype.propertyIsEnumerable.call(n,h)){var f=n[h];if(f&&"object"==(void 0===f?"undefined":U(f))){if(t[h]===f)continue;!t[h]||"object"!=U(t[h])||Array.isArray(t[h])!==Array.isArray(f)||f instanceof Date||f instanceof RegExp?t[h]=e(f,{symbols:i.symbols}):s.merge(t[h],f,i)}else(null!=f||i.nullOverride)&&(t[h]=f)}}return t}},9621:function(t,n,i){var r=i(375),e={};t.exports=function(t,n,i){if(!1===n||null==n)return t;"string"==typeof(i=i||{})&&(i={separator:i});var u=Array.isArray(n);r(!u||!i.separator,"Separator option is not valid for array-based chain");for(var s=u?n:n.split(i.separator||"."),o=t,a=0;a<s.length;++a){var c=s[a],h=i.iterables&&e.iterables(o);if(Array.isArray(o)||"set"===h){var f=Number(c);Number.isInteger(f)&&(c=f<0?o.length+f:f)}if(!o||"function"==typeof o&&!1===i.functions||!h&&void 0===o[c]){r(!i.strict||a+1===s.length,"Missing segment",c,"in reach path ",n),r("object"==(void 0===o?"undefined":U(o))||!0===i.functions||"function"!=typeof o,"Invalid segment",c,"in reach path ",n),o=i.default;break}o=h?"set"===h?Ft(o)[c]:o.get(c):o[c]}return o},e.iterables=function(t){return t instanceof Set?"set":t instanceof Map?"map":void 0}},8761:function(t){t.exports=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];try{var r;return(r=JSON).stringify.apply(r,Ft(n))}catch(t){return"[Cannot display object: "+t.message+"]"}}},4277:function(t,n){var i={};n=t.exports={array:Array.prototype,buffer:!1,date:Date.prototype,error:p.prototype,generic:b.prototype,map:Map.prototype,promise:et.prototype,regex:RegExp.prototype,set:Set.prototype,weakMap:WeakMap.prototype,weakSet:WeakSet.prototype},i.typeMap=new Map([["[object Error]",n.error],["[object Map]",n.map],["[object Promise]",n.promise],["[object Set]",n.set],["[object WeakMap]",n.weakMap],["[object WeakSet]",n.weakSet]]),n.getInternalProto=function(t){if(Array.isArray(t))return n.array;if(t instanceof Date)return n.date;if(t instanceof RegExp)return n.regex;if(t instanceof p)return n.error;var r=b.prototype.toString.call(t);return i.typeMap.get(r)||n.generic}},7043:function(t,n){n.keys=function(t,n){return void 0===n&&(n={}),!1!==n.symbols?Reflect.ownKeys(t):b.getOwnPropertyNames(t)}},3652:function(t,n,i){var r=i(375),e={};n.Sorter=function(){function t(){this.Qu=[],this.nodes=[]}var n=t.prototype;return n.add=function(t,n){var i=[].concat((n=n||{}).before||[]),e=[].concat(n.after||[]),u=n.group||"?",s=n.sort||0;r(!i.includes(u),"Item cannot come before itself: ".concat(u)),r(!i.includes("?"),"Item cannot come before unassociated items"),r(!e.includes(u),"Item cannot come after itself: ".concat(u)),r(!e.includes("?"),"Item cannot come after unassociated items"),Array.isArray(t)||(t=[t]);for(var o=0;o<t.length;o++){var a=t[o],c={seq:this.Qu.length,sort:s,before:i,after:e,group:u,node:a};this.Qu.push(c)}if(!n.manual){var h=this._v();r(h,"item","?"!==u?"added into group ".concat(u):"","created a dependencies error")}return this.nodes},n.merge=function(t){Array.isArray(t)||(t=[t]);for(var n=0;n<t.length;n++){var i=t[n];if(i)for(var u=0,s=i.Qu;u<s.length;u++){var o=s[u];this.Qu.push(b.assign({},o))}}this.Qu.sort(e.mergeSort);for(var a=0;a<this.Qu.length;++a)this.Qu[a].seq=a;var c=this._v();return r(c,"merge created a dependencies error"),this.nodes},n.sort=function(){var t=this._v();return r(t,"sort created a dependencies error"),this.nodes},n._v=function(){for(var t,n={},i=b.create(null),r=b.create(null),e=0,u=this.Qu;e<u.length;e++){var s=u[e],o=s.seq,a=s.group;r[a]=r[a]||[],r[a].push(o),n[o]=s.before;for(var c=0,h=s.after;c<h.length;c++){var f=h[c];i[f]=i[f]||[],i[f].push(o)}}for(var v in n){var d=[];for(var l in n[v]){var g,w=n[v][l];r[w]=r[w]||[],(g=d).push.apply(g,Ft(r[w]))}n[v]=d}for(var m in i)if(r[m])for(var y=0,p=r[m];y<p.length;y++)(t=n[p[y]]).push.apply(t,Ft(i[m]));var _={};for(var k in n)for(var A=n[k],T=0;T<A.length;T++){var S=A[T];_[S]=_[S]||[],_[S].push(k)}for(var E={},I=[],R=0;R<this.Qu.length;++R){var C=R;if(_[R]){C=null;for(var N=0;N<this.Qu.length;++N)if(!0!==E[N]){_[N]||(_[N]=[]);for(var D=_[N].length,P=0,x=0;x<D;++x)E[_[N][x]]&&++P;if(P===D){C=N;break}}}null!==C&&(E[C]=!0,I.push(C))}if(I.length!==this.Qu.length)return!1;for(var L={},M=0,O=this.Qu;M<O.length;M++){var B=O[M];L[B.seq]=B}this.Qu=[],this.nodes=[];for(var V=0;V<I.length;V++){var F=L[I[V]];this.nodes.push(F.node),this.Qu.push(F)}return!0},t}(),e.mergeSort=function(t,n){return t.sort===n.sort?0:t.sort<n.sort?-1:1}},5380:function(t,n,i){var r=i(443),e=i(2178),u={minDomainSegments:2,nonAsciiRx:/[^\x00-\x7f]/,domainControlRx:/[\x00-\x20@\:\/\\#!\$&\'\(\)\*\+,;=\?]/,tldSegmentRx:/^[a-zA-Z](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,domainSegmentRx:/^[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,URL:r.URL||URL};n.analyze=function(t,n){if(void 0===n&&(n={}),!t)return e.code("DOMAIN_NON_EMPTY_STRING");if("string"!=typeof t)throw new p("Invalid input: domain must be a string");if(t.length>256)return e.code("DOMAIN_TOO_LONG");if(u.nonAsciiRx.test(t)){if(!1===n.allowUnicode)return e.code("DOMAIN_INVALID_UNICODE_CHARS");t=t.normalize("NFC")}if(u.domainControlRx.test(t))return e.code("DOMAIN_INVALID_CHARS");t=u.punycode(t),n.allowFullyQualified&&"."===t[t.length-1]&&(t=t.slice(0,-1));var i=n.minDomainSegments||u.minDomainSegments,r=t.split(".");if(r.length<i)return e.code("DOMAIN_SEGMENTS_COUNT");if(n.maxDomainSegments&&r.length>n.maxDomainSegments)return e.code("DOMAIN_SEGMENTS_COUNT_MAX");var s=n.tlds;if(s){var o=r[r.length-1].toLowerCase();if(s.deny&&s.deny.has(o)||s.allow&&!s.allow.has(o))return e.code("DOMAIN_FORBIDDEN_TLDS")}for(var a=0;a<r.length;++a){var c=r[a];if(!c.length)return e.code("DOMAIN_EMPTY_SEGMENT");if(c.length>63)return e.code("DOMAIN_LONG_SEGMENT");if(a<r.length-1){if(!u.domainSegmentRx.test(c))return e.code("DOMAIN_INVALID_CHARS")}else if(!u.tldSegmentRx.test(c))return e.code("DOMAIN_INVALID_TLDS_CHARS")}return null},n.isValid=function(t,i){return!n.analyze(t,i)},u.punycode=function(t){t.includes("%")&&(t=t.replace(/%/g,"%25"));try{return new u.URL("http://".concat(t)).host}catch(n){return t}}},1745:function(t,n,i){var r=i(9848),e=i(5380),u=i(2178),s={nonAsciiRx:/[^\x00-\x7f]/,encoder:new(r.TextEncoder||TextEncoder)};n.analyze=function(t,n){return s.email(t,n)},n.isValid=function(t,n){return!s.email(t,n)},s.email=function(t,n){if(void 0===n&&(n={}),"string"!=typeof t)throw new p("Invalid input: email must be a string");if(!t)return u.code("EMPTY_STRING");var i=!s.nonAsciiRx.test(t);if(!i){if(!1===n.allowUnicode)return u.code("FORBIDDEN_UNICODE");t=t.normalize("NFC")}var r=t.split("@");if(2!==r.length)return r.length>2?u.code("MULTIPLE_AT_CHAR"):u.code("MISSING_AT_CHAR");var o=tn(r,2),a=o[0],c=o[1];if(!a)return u.code("EMPTY_LOCAL");if(!n.ignoreLength){if(t.length>254)return u.code("ADDRESS_TOO_LONG");if(s.encoder.encode(a).length>64)return u.code("LOCAL_TOO_LONG")}return s.local(a,i)||e.analyze(c,n)},s.local=function(t,n){for(var i=t.split("."),r=0;r<i.length;r++){var e=i[r];if(!e.length)return u.code("EMPTY_LOCAL_SEGMENT");if(n){if(!s.atextRx.test(e))return u.code("INVALID_LOCAL_CHARS")}else for(var o=0;o<e.length;o++){var a=e[o];if(!s.atextRx.test(a)){var c=s.binary(a);if(!s.atomRx.test(c))return u.code("INVALID_LOCAL_CHARS")}}}},s.binary=function(t){return Array.from(s.encoder.encode(t)).map((function(t){return String.fromCharCode(t)})).join("")},s.atextRx=/^[\w!#\$%&'\*\+\-/=\?\^`\{\|\}~]+$/,s.atomRx=new RegExp(["(?:[\\xc2-\\xdf][\\x80-\\xbf])","(?:\\xe0[\\xa0-\\xbf][\\x80-\\xbf])|(?:[\\xe1-\\xec][\\x80-\\xbf]{2})|(?:\\xed[\\x80-\\x9f][\\x80-\\xbf])|(?:[\\xee-\\xef][\\x80-\\xbf]{2})","(?:\\xf0[\\x90-\\xbf][\\x80-\\xbf]{2})|(?:[\\xf1-\\xf3][\\x80-\\xbf]{3})|(?:\\xf4[\\x80-\\x8f][\\x80-\\xbf]{2})"].join("|"))},2178:function(t,n){n.codes={EMPTY_STRING:"Address must be a non-empty string",FORBIDDEN_UNICODE:"Address contains forbidden Unicode characters",MULTIPLE_AT_CHAR:"Address cannot contain more than one @ character",MISSING_AT_CHAR:"Address must contain one @ character",EMPTY_LOCAL:"Address local part cannot be empty",ADDRESS_TOO_LONG:"Address too long",LOCAL_TOO_LONG:"Address local part too long",EMPTY_LOCAL_SEGMENT:"Address local part contains empty dot-separated segment",INVALID_LOCAL_CHARS:"Address local part contains invalid character",DOMAIN_NON_EMPTY_STRING:"Domain must be a non-empty string",DOMAIN_TOO_LONG:"Domain too long",DOMAIN_INVALID_UNICODE_CHARS:"Domain contains forbidden Unicode characters",DOMAIN_INVALID_CHARS:"Domain contains invalid character",DOMAIN_INVALID_TLDS_CHARS:"Domain contains invalid tld character",DOMAIN_SEGMENTS_COUNT:"Domain lacks the minimum required number of segments",DOMAIN_SEGMENTS_COUNT_MAX:"Domain contains too many segments",DOMAIN_FORBIDDEN_TLDS:"Domain uses forbidden TLD",DOMAIN_EMPTY_SEGMENT:"Domain contains empty dot-separated segment",DOMAIN_LONG_SEGMENT:"Domain contains dot-separated segment that is too long"},n.code=function(t){return{code:t,error:n.codes[t]}}},9959:function(t,n,i){var r=i(375),e=i(5752);n.regex=function(t){void 0===t&&(t={}),r(void 0===t.cidr||"string"==typeof t.cidr,"options.cidr must be a string");var n=t.cidr?t.cidr.toLowerCase():"optional";r(["required","optional","forbidden"].includes(n),"options.cidr must be one of required, optional, forbidden"),r(void 0===t.version||"string"==typeof t.version||Array.isArray(t.version),"options.version must be a string or an array of string");var i=t.version||["ipv4","ipv6","ipvfuture"];Array.isArray(i)||(i=[i]),r(i.length>=1,"options.version must have at least 1 version specified");for(var u=0;u<i.length;++u)r("string"==typeof i[u],"options.version must only contain strings"),i[u]=i[u].toLowerCase(),r(["ipv4","ipv6","ipvfuture"].includes(i[u]),"options.version contains unknown version "+i[u]+" - must be one of ipv4, ipv6, ipvfuture");i=Array.from(new Set(i));var s="(?:".concat(i.map((function(t){if("forbidden"===n)return e.ip[t];var i="\\/".concat("ipv4"===t?e.ip.v4Cidr:e.ip.v6Cidr);return"required"===n?"".concat(e.ip[t]).concat(i):"".concat(e.ip[t],"(?:").concat(i,")?")})).join("|"),")"),o=new RegExp("^".concat(s,"$"));return{cidr:n,versions:i,regex:o,raw:s}}},5752:function(t,n,i){var r=i(375),e=i(6064),u={generate:function(){var t={},n="\\dA-Fa-f",i="["+n+"]",r="\\w-\\.~",e="!\\$&'\\(\\)\\*\\+,;=",u="%"+n,s=r+u+e+":@",o="["+s+"]",a="(?:0{0,2}\\d|0?[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";t.ipv4address="(?:"+a+"\\.){3}"+a;var c=i+"{1,4}",h="(?:"+c+":"+c+"|"+t.ipv4address+")",f="(?:"+c+":){6}"+h,v="::(?:"+c+":){5}"+h,d="(?:"+c+")?::(?:"+c+":){4}"+h,l="(?:(?:"+c+":){0,1}"+c+")?::(?:"+c+":){3}"+h,g="(?:(?:"+c+":){0,2}"+c+")?::(?:"+c+":){2}"+h,w="(?:(?:"+c+":){0,3}"+c+")?::"+c+":"+h,m="(?:(?:"+c+":){0,4}"+c+")?::"+h,y="(?:(?:"+c+":){0,5}"+c+")?::"+c,p="(?:(?:"+c+":){0,6}"+c+")?::";t.ipv4Cidr="(?:\\d|[1-2]\\d|3[0-2])",t.ipv6Cidr="(?:0{0,2}\\d|0?[1-9]\\d|1[01]\\d|12[0-8])",t.ipv6address="(?:"+f+"|"+v+"|"+d+"|"+l+"|"+g+"|"+w+"|"+m+"|"+y+"|"+p+")",t.ipvFuture="v"+i+"+\\.["+r+e+":]+",t.scheme="[a-zA-Z][a-zA-Z\\d+-\\.]*",t.schemeRegex=new RegExp(t.scheme);var _="["+r+u+e+":]*",b="["+r+u+e+"]{1,255}",k="(?:\\[(?:"+t.ipv6address+"|"+t.ipvFuture+")\\]|"+t.ipv4address+"|"+b+")",A="(?:"+_+"@)?"+k+"(?::\\d*)?",T="(?:"+_+"@)?("+k+")(?::\\d*)?",S=o+"*",E=o+"+",I="(?:\\/"+S+")*",R="\\/(?:"+E+I+")?",C=E+I,N="["+r+u+e+"@]+"+I,D="(?:\\/\\/\\/"+S+I+")";return t.hierPart="(?:(?:\\/\\/"+A+I+")|"+R+"|"+C+"|"+D+")",t.hierPartCapture="(?:(?:\\/\\/"+T+I+")|"+R+"|"+C+")",t.relativeRef="(?:(?:\\/\\/"+A+I+")|"+R+"|"+N+"|)",t.relativeRefCapture="(?:(?:\\/\\/"+T+I+")|"+R+"|"+N+"|)",t.query="["+s+"\\/\\?]*(?=#|$)",t.queryWithSquareBrackets="["+s+"\\[\\]\\/\\?]*(?=#|$)",t.fragment="["+s+"\\/\\?]*",t}};u.rfc3986=u.generate(),n.ip={v4Cidr:u.rfc3986.ipv4Cidr,v6Cidr:u.rfc3986.ipv6Cidr,ipv4:u.rfc3986.ipv4address,ipv6:u.rfc3986.ipv6address,ipvfuture:u.rfc3986.ipvFuture},u.createRegex=function(t){var n=u.rfc3986,i="(?:\\?"+(t.allowQuerySquareBrackets?n.queryWithSquareBrackets:n.query)+")?(?:#"+n.fragment+")?",s=t.domain?n.relativeRefCapture:n.relativeRef;if(t.relativeOnly)return u.wrap(s+i);var o="";if(t.scheme){r(t.scheme instanceof RegExp||"string"==typeof t.scheme||Array.isArray(t.scheme),"scheme must be a RegExp, String, or Array");var a=[].concat(t.scheme);r(a.length>=1,"scheme must have at least 1 scheme specified");for(var c=[],h=0;h<a.length;++h){var f=a[h];r(f instanceof RegExp||"string"==typeof f,"scheme at position "+h+" must be a RegExp or String"),f instanceof RegExp?c.push(f.source.toString()):(r(n.schemeRegex.test(f),"scheme at position "+h+" must be a valid scheme"),c.push(e(f)))}o=c.join("|")}var v="(?:"+(o?"(?:"+o+")":n.scheme)+":"+(t.domain?n.hierPartCapture:n.hierPart)+")",d=t.allowRelative?"(?:"+v+"|"+s+")":v;return u.wrap(d+i,o)},u.wrap=function(t,n){return{raw:t="(?=.)(?!https?:/(?:$|[^/]))(?!https?:///)(?!https?:[^/])".concat(t),regex:new RegExp("^".concat(t,"$")),scheme:n}},u.uriRegex=u.createRegex({}),n.regex=function(t){return void 0===t&&(t={}),t.scheme||t.allowRelative||t.relativeOnly||t.allowQuerySquareBrackets||t.domain?u.createRegex(t):u.uriRegex}},1447:function(t,i){var r={operators:["!","^","*","/","%","+","-","<","<=",">",">=","==","!=","&&","||","??"],operatorCharacters:["!","^","*","/","%","+","-","<","=",">","&","|","?"],operatorsOrder:[["^"],["*","/","%"],["+","-"],["<","<=",">",">="],["==","!="],["&&"],["||","??"]],operatorsPrefix:["!","n"],literals:{'"':'"',"`":"`","'":"'","[":"]"},numberRx:/^(?:[0-9]*(\.[0-9]*)?){1}$/,tokenRx:/^[\w\$\#\.\@\:\{\}]+$/,symbol:n("formula"),settings:n("settings")};i.Parser=function(){function t(t,n){if(void 0===n&&(n={}),!n[r.settings]&&n.constants)for(var i in n.constants){var e=n.constants[i];if(null!==e&&!["boolean","number","string"].includes(void 0===e?"undefined":U(e)))throw new p("Formula constant ".concat(i," contains invalid ").concat(void 0===e?"undefined":U(e)," value type"))}var u;this.settings=n[r.settings]?n:b.assign((un(u={},r.settings,!0),un(u,"constants",{}),un(u,"functions",{}),u),n),this.single=null,this.mv=null,this.G_(t)}var n=t.prototype;return n.G_=function(t){for(var n=this,e=[],u="",s=0,o=!1,a=function(t){if(s)throw new p("Formula missing closing parenthesis");var a=e.length?e[e.length-1]:null;if(o||u||t){if(a&&"reference"===a.type&&")"===t)return a.type="function",a.value=n.vv(u,a.value),void(u="");if(")"===t){var c=new i.Parser(u,n.settings);e.push({type:"segment",value:c})}else if(o){if("]"===o)return e.push({type:"reference",value:u}),void(u="");e.push({type:"literal",value:u})}else if(r.operatorCharacters.includes(u))a&&"operator"===a.type&&r.operators.includes(a.value+u)?a.value+=u:e.push({type:"operator",value:u});else if(u.match(r.numberRx))e.push({type:"constant",value:T(u)});else if(void 0!==n.settings.constants[u])e.push({type:"constant",value:n.settings.constants[u]});else{if(!u.match(r.tokenRx))throw new p("Formula contains invalid token: ".concat(u));e.push({type:"reference",value:u})}u=""}},c=0;c<t.length;c++){var h=t[c];o?h===o?(a(),o=!1):u+=h:s?"("===h?(u+=h,++s):")"===h?--s?u+=h:a(h):u+=h:h in r.literals?o=r.literals[h]:"("===h?(a(),++s):r.operatorCharacters.includes(h)?(a(),u=h,a()):" "!==h?u+=h:a()}a(),e=e.map((function(t,n){return"operator"!==t.type||"-"!==t.value||n&&"operator"!==e[n-1].type?t:{type:"operator",value:"n"}}));for(var f=!1,v=0;v<e.length;v++){var d=e[v];if("operator"===d.type){if(r.operatorsPrefix.includes(d.value))continue;if(!f)throw new p("Formula contains an operator in invalid position");if(!r.operators.includes(d.value))throw new p("Formula contains an unknown operator ".concat(d.value))}else if(f)throw new p("Formula missing expected operator");f=!f}if(!f)throw new p("Formula contains invalid trailing operator");1===e.length&&["reference","literal","constant"].includes(e[0].type)&&(this.single={type:"reference"===e[0].type?"reference":"value",value:e[0].value}),this.mv=e.map((function(t){if("operator"===t.type)return r.operatorsPrefix.includes(t.value)?t:t.value;if("reference"!==t.type)return t.value;if(n.settings.tokenRx&&!n.settings.tokenRx.test(t.value))throw new p("Formula contains invalid reference ".concat(t.value));return n.settings.reference?n.settings.reference(t.value):r.reference(t.value)}))},n.vv=function(t,n){var e=this,u=this.settings.functions[n];if("function"!=typeof u)throw new p("Formula contains unknown function ".concat(n));var s=[];if(t){for(var o="",a=0,c=!1,h=function(){if(!o)throw new p("Formula contains function ".concat(n," with invalid arguments ").concat(t));s.push(o),o=""},f=0;f<t.length;++f){var v=t[f];c?(o+=v,v===c&&(c=!1)):v in r.literals&&!a?(o+=v,c=r.literals[v]):","!==v||a?(o+=v,"("===v?++a:")"===v&&--a):h()}h()}return s=s.map((function(t){return new i.Parser(t,e.settings)})),function(t){for(var n,i=[],r=0;r<s.length;r++){var e=s[r];i.push(e.evaluate(t))}return(n=u).call.apply(n,[t].concat(Ft(i)))}},n.evaluate=function(t){for(var n=this.mv.slice(),i=n.length-2;i>=0;--i){var e=n[i];if(e&&"operator"===e.type){var u=n[i+1];n.splice(i+1,1);var s=r.evaluate(u,t);n[i]=r.single(e.value,s)}}return r.operatorsOrder.forEach((function(i){for(var e=1;e<n.length-1;)if(i.includes(n[e])){var u=n[e],s=r.evaluate(n[e-1],t),o=r.evaluate(n[e+1],t);n.splice(e,2);var a=r.calculate(u,s,o);n[e-1]=0===a?0:a}else e+=2})),r.evaluate(n[0],t)},t}(),i.Parser.prototype[r.symbol]=!0,r.reference=function(t){return function(n){return n&&void 0!==n[t]?n[t]:null}},r.evaluate=function(t,n){return null===t?null:"function"==typeof t?t(n):t[r.symbol]?t.evaluate(n):t},r.single=function(t,n){if("!"===t)return!n;var i=-n;return 0===i?0:i},r.calculate=function(t,n,i){if("??"===t)return r.exists(n)?n:i;if("string"==typeof n||"string"==typeof i){if("+"===t)return(n=r.exists(n)?n:"")+(r.exists(i)?i:"")}else switch(t){case"^":return k.pow(n,i);case"*":return n*i;case"/":return n/i;case"%":return n%i;case"+":return n+i;case"-":return n-i}switch(t){case"<":return n<i;case"<=":return n<=i;case">":return n>i;case">=":return n>=i;case"==":return n===i;case"!=":return n!==i;case"&&":return n&&i;case"||":return n||i}return null},r.exists=function(t){return null!=t}},9926:function(){},5688:function(){},9708:function(){},1152:function(){},443:function(){},9848:function(){},5934:function(t){t.exports=JSON.parse('{"version":"17.13.3"}')}},e={},function n(i){var r=e[i];if(void 0!==r)return r.exports;var u=e[i]={exports:{}};return t[i](u,u.exports,n),u.exports}(5107);var t,e}()}(oe);var ae,ce=D(oe.exports),he=function(t){function n(n,i,r,e){var u;if(u=t.call(this)||this,ae=r,!i)throw ae.error("Token generator is required to construct this module."),new p("Token generator is required to construct this module.");return u.webRTCPeer=new Ar,u.signaling=null,u.autoReconnect=e,u.reconnectionInterval=1e3,u.alreadyDisconnected=!1,u.firstReconnection=!0,u.stopReconnection=!1,u.isReconnecting=!1,u.tokenGenerator=i,u.options=null,u}It(n,t);var i=n.prototype;return i.getRTCPeerConnection=function(){return this.webRTCPeer?this.webRTCPeer.getRTCPeer():null},i.stop=function(){var t;ae.info("Stopping"),this.webRTCPeer.closeRTCPeer(),null==(t=this.signaling)||t.close(),this.signaling=null,this.stopReconnection=!0,this.webRTCPeer=new Ar},i.isActive=function(){var t=this.webRTCPeer.getRTCPeerStatus();return ae.info("Broadcast status: ",t||"not_established"),"connected"===t},i.setReconnect=function(){var t=this;this.signaling.on("migrate",(function(){return t.replaceConnection()})),this.autoReconnect&&(this.signaling.on(Ur,(function(){(t.firstReconnection||!t.alreadyDisconnected)&&(t.firstReconnection=!1,t.reconnect({error:new p("Signaling error: wsConnectionError")}))})),this.webRTCPeer.on(br.connectionStateChange,(function(n){tt(n),"connected"===n&&Q(new Date),("failed"===n||"disconnected"===n&&t.alreadyDisconnected)&&t.firstReconnection?(t.firstReconnection=!1,t.reconnect({error:new p("Connection state change: RTCPeerConnectionState disconnected")})):"disconnected"===n?(t.alreadyDisconnected=!0,g((function(){return t.reconnect({error:new p("Connection state change: RTCPeerConnectionState disconnected")})}),1500)):t.alreadyDisconnected=!1})))},i.reconnect=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),ae.info("Attempting to reconnect..."),n.isActive()||n.stopReconnection||n.isReconnecting?[3,2]:(n.stop(),n.emit("reconnect",{timeout:fe(n.reconnectionInterval),error:null!=t&&t.error?null==t?void 0:t.error:new p("Attempting to reconnect")}),n.isReconnecting=!0,[4,n.connect(n.options)]);case 1:r.sent(),n.alreadyDisconnected=!1,n.reconnectionInterval=1e3,n.firstReconnection=!0,n.isReconnecting=!1,r.label=2;case 2:return[3,4];case 3:return i=r.sent(),n.isReconnecting=!1,n.reconnectionInterval=fe(n.reconnectionInterval),ae.error("Reconnection failed, retrying in ".concat(n.reconnectionInterval,"ms. "),i),g((function(){return n.reconnect({error:i})}),n.reconnectionInterval),[3,4];case 4:return[2]}}))}))()},n}(Lt),fe=function(t){return t<32e3?2*t:t},ve=f.RTCRtpSender&&!!RTCRtpSender.prototype.createEncodedStreams&&f.RTCRtpReceiver&&!!RTCRtpReceiver.prototype.createEncodedStreams,de="RTCRtpScriptTransform"in f,le="KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBGPXR5cGVvZiBnbG9iYWxUaGlzPCJ1Ij9nbG9iYWxUaGlzOnR5cGVvZiB3aW5kb3c8InUiP3dpbmRvdzp0eXBlb2YgZ2xvYmFsPCJ1Ij9nbG9iYWw6dHlwZW9mIHNlbGY8InUiP3NlbGY6e307ZnVuY3Rpb24gVyhuKXtyZXR1cm4gbiYmbi5fX2VzTW9kdWxlJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobiwiZGVmYXVsdCIpP24uZGVmYXVsdDpufXZhciBCPXtleHBvcnRzOnt9fTsvKiEKICoganMtbG9nZ2VyIC0gaHR0cDovL2dpdGh1Yi5jb20vam9ubnlyZWV2ZXMvanMtbG9nZ2VyCiAqIEpvbm55IFJlZXZlcywgaHR0cDovL2pvbm55cmVldmVzLmNvLnVrLwogKiBqcy1sb2dnZXIgbWF5IGJlIGZyZWVseSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuCiAqLyhmdW5jdGlvbihuKXsoZnVuY3Rpb24odCl7dmFyIGU9e307ZS5WRVJTSU9OPSIxLjYuMSI7dmFyIHMscj17fSxvPWZ1bmN0aW9uKGksdSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHUuYXBwbHkoaSxhcmd1bWVudHMpfX0sYT1mdW5jdGlvbigpe3ZhciBpPWFyZ3VtZW50cyx1PWlbMF0saCxjO2ZvcihjPTE7YzxpLmxlbmd0aDtjKyspZm9yKGggaW4gaVtjXSkhKGggaW4gdSkmJmlbY10uaGFzT3duUHJvcGVydHkoaCkmJih1W2hdPWlbY11baF0pO3JldHVybiB1fSxkPWZ1bmN0aW9uKGksdSl7cmV0dXJue3ZhbHVlOmksbmFtZTp1fX07ZS5UUkFDRT1kKDEsIlRSQUNFIiksZS5ERUJVRz1kKDIsIkRFQlVHIiksZS5JTkZPPWQoMywiSU5GTyIpLGUuVElNRT1kKDQsIlRJTUUiKSxlLldBUk49ZCg1LCJXQVJOIiksZS5FUlJPUj1kKDgsIkVSUk9SIiksZS5PRkY9ZCg5OSwiT0ZGIik7dmFyIGw9ZnVuY3Rpb24oaSl7dGhpcy5jb250ZXh0PWksdGhpcy5zZXRMZXZlbChpLmZpbHRlckxldmVsKSx0aGlzLmxvZz10aGlzLmluZm99O2wucHJvdG90eXBlPXtzZXRMZXZlbDpmdW5jdGlvbihpKXtpJiYidmFsdWUiaW4gaSYmKHRoaXMuY29udGV4dC5maWx0ZXJMZXZlbD1pKX0sZ2V0TGV2ZWw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZXh0LmZpbHRlckxldmVsfSxlbmFibGVkRm9yOmZ1bmN0aW9uKGkpe3ZhciB1PXRoaXMuY29udGV4dC5maWx0ZXJMZXZlbDtyZXR1cm4gaS52YWx1ZT49dS52YWx1ZX0sdHJhY2U6ZnVuY3Rpb24oKXt0aGlzLmludm9rZShlLlRSQUNFLGFyZ3VtZW50cyl9LGRlYnVnOmZ1bmN0aW9uKCl7dGhpcy5pbnZva2UoZS5ERUJVRyxhcmd1bWVudHMpfSxpbmZvOmZ1bmN0aW9uKCl7dGhpcy5pbnZva2UoZS5JTkZPLGFyZ3VtZW50cyl9LHdhcm46ZnVuY3Rpb24oKXt0aGlzLmludm9rZShlLldBUk4sYXJndW1lbnRzKX0sZXJyb3I6ZnVuY3Rpb24oKXt0aGlzLmludm9rZShlLkVSUk9SLGFyZ3VtZW50cyl9LHRpbWU6ZnVuY3Rpb24oaSl7dHlwZW9mIGk9PSJzdHJpbmciJiZpLmxlbmd0aD4wJiZ0aGlzLmludm9rZShlLlRJTUUsW2ksInN0YXJ0Il0pfSx0aW1lRW5kOmZ1bmN0aW9uKGkpe3R5cGVvZiBpPT0ic3RyaW5nIiYmaS5sZW5ndGg+MCYmdGhpcy5pbnZva2UoZS5USU1FLFtpLCJlbmQiXSl9LGludm9rZTpmdW5jdGlvbihpLHUpe3MmJnRoaXMuZW5hYmxlZEZvcihpKSYmcyh1LGEoe2xldmVsOml9LHRoaXMuY29udGV4dCkpfX07dmFyIGY9bmV3IGwoe2ZpbHRlckxldmVsOmUuT0ZGfSk7KGZ1bmN0aW9uKCl7dmFyIGk9ZTtpLmVuYWJsZWRGb3I9byhmLGYuZW5hYmxlZEZvciksaS50cmFjZT1vKGYsZi50cmFjZSksaS5kZWJ1Zz1vKGYsZi5kZWJ1ZyksaS50aW1lPW8oZixmLnRpbWUpLGkudGltZUVuZD1vKGYsZi50aW1lRW5kKSxpLmluZm89byhmLGYuaW5mbyksaS53YXJuPW8oZixmLndhcm4pLGkuZXJyb3I9byhmLGYuZXJyb3IpLGkubG9nPWkuaW5mb30pKCksZS5zZXRIYW5kbGVyPWZ1bmN0aW9uKGkpe3M9aX0sZS5zZXRMZXZlbD1mdW5jdGlvbihpKXtmLnNldExldmVsKGkpO2Zvcih2YXIgdSBpbiByKXIuaGFzT3duUHJvcGVydHkodSkmJnJbdV0uc2V0TGV2ZWwoaSl9LGUuZ2V0TGV2ZWw9ZnVuY3Rpb24oKXtyZXR1cm4gZi5nZXRMZXZlbCgpfSxlLmdldD1mdW5jdGlvbihpKXtyZXR1cm4gcltpXXx8KHJbaV09bmV3IGwoYSh7bmFtZTppfSxmLmNvbnRleHQpKSl9LGUuY3JlYXRlRGVmYXVsdEhhbmRsZXI9ZnVuY3Rpb24oaSl7aT1pfHx7fSxpLmZvcm1hdHRlcj1pLmZvcm1hdHRlcnx8ZnVuY3Rpb24ocCxfKXtfLm5hbWUmJnAudW5zaGlmdCgiWyIrXy5uYW1lKyJdIil9O3ZhciB1PXt9LGg9ZnVuY3Rpb24oYyxwKXtGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbChjLGNvbnNvbGUscCl9O3JldHVybiB0eXBlb2YgY29uc29sZT4idSI/ZnVuY3Rpb24oKXt9OmZ1bmN0aW9uKGMscCl7Yz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChjKTt2YXIgXz1jb25zb2xlLmxvZyxnO3AubGV2ZWw9PT1lLlRJTUU/KGc9KHAubmFtZT8iWyIrcC5uYW1lKyJdICI6IiIpK2NbMF0sY1sxXT09PSJzdGFydCI/Y29uc29sZS50aW1lP2NvbnNvbGUudGltZShnKTp1W2ddPW5ldyBEYXRlKCkuZ2V0VGltZSgpOmNvbnNvbGUudGltZUVuZD9jb25zb2xlLnRpbWVFbmQoZyk6aChfLFtnKyI6ICIrKG5ldyBEYXRlKCkuZ2V0VGltZSgpLXVbZ10pKyJtcyJdKSk6KHAubGV2ZWw9PT1lLldBUk4mJmNvbnNvbGUud2Fybj9fPWNvbnNvbGUud2FybjpwLmxldmVsPT09ZS5FUlJPUiYmY29uc29sZS5lcnJvcj9fPWNvbnNvbGUuZXJyb3I6cC5sZXZlbD09PWUuSU5GTyYmY29uc29sZS5pbmZvP189Y29uc29sZS5pbmZvOnAubGV2ZWw9PT1lLkRFQlVHJiZjb25zb2xlLmRlYnVnP189Y29uc29sZS5kZWJ1ZzpwLmxldmVsPT09ZS5UUkFDRSYmY29uc29sZS50cmFjZSYmKF89Y29uc29sZS50cmFjZSksaS5mb3JtYXR0ZXIoYyxwKSxoKF8sYykpfX0sZS51c2VEZWZhdWx0cz1mdW5jdGlvbihpKXtlLnNldExldmVsKGkmJmkuZGVmYXVsdExldmVsfHxlLkRFQlVHKSxlLnNldEhhbmRsZXIoZS5jcmVhdGVEZWZhdWx0SGFuZGxlcihpKSl9LGUuc2V0RGVmYXVsdHM9ZS51c2VEZWZhdWx0cyxuLmV4cG9ydHM/bi5leHBvcnRzPWU6KGUuX3ByZXZMb2dnZXI9dC5Mb2dnZXIsZS5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHQuTG9nZ2VyPWUuX3ByZXZMb2dnZXIsZX0sdC5Mb2dnZXI9ZSl9KShGKX0pKEIpO3ZhciB6PUIuZXhwb3J0cyxEPVcoeik7Y2xhc3Mgd3tjb25zdHJ1Y3Rvcih0KXt0aGlzLmRhdGE9dCx0aGlzLmJpdE9mZnNldD0wfXJlYWRCaXRzKHQpe2lmKHRoaXMuYml0T2Zmc2V0K3Q+dGhpcy5kYXRhLmxlbmd0aCo4KXRocm93IG5ldyBFcnJvcigiQXR0ZW1wdGVkIHRvIHJlYWQgcGFzdCB0aGUgZW5kIG9mIHRoZSBiaXRzdHJlYW0iKTtsZXQgZT0wO2ZvcihsZXQgcz0wO3M8dDtzKyspe2NvbnN0IHI9TWF0aC5mbG9vcih0aGlzLmJpdE9mZnNldC84KSxvPTctdGhpcy5iaXRPZmZzZXQlOCxhPXRoaXMuZGF0YVtyXT4+byYxO2V8PWE8PHQtMS1zLHRoaXMuYml0T2Zmc2V0Kyt9cmV0dXJuIGV9c2tpcCh0KXt0aGlzLmJpdE9mZnNldCs9dH1yZWFkRXhwR29sb21iVW5zaWduZWQoKXtsZXQgdD0tMTtmb3IobGV0IGU9MDtlPT09MDt0KyspZT10aGlzLnJlYWRCaXRzKDEpO3JldHVybigxPDx0KS0xK3RoaXMucmVhZEJpdHModCl9cmVhZEV4cEdvbG9tYlNpZ25lZCgpe2NvbnN0IHQ9dGhpcy5yZWFkRXhwR29sb21iVW5zaWduZWQoKTtyZXR1cm4gdCUyPT09MD8tKHQvMik6KHQrMSkvMn19Y29uc3QgbT17U0xJQ0VfTk9OX0lEUjoxLFNMSUNFX1BBUlRJVElPTl9BOjIsU0xJQ0VfSURSOjUsU0VJX0gyNjQ6NixTRUlfSDI2NV9QUkVGSVg6MzksU0VJX0gyNjVfU1VGRklYOjQwLFNQU19IMjY0OjcsU1BTX0gyNjU6MzMsUFBTX0gyNjQ6OCxQUFNfSDI2NTozNH0sUj17UElDX1RJTUlORzoxLFVTRVJfREFUQV9VTlJFR0lTVEVSRUQ6NX0sRT17TEVHQUNZOjEsTkVXOjIsVElNRUNPREU6MyxPVEhFUjo0fSxqPSI2ZTljZmQyYS01OTA3LTQ5ZmYtYjM2My04OTc4YTZlODM0MGUiLHE9IjlhMjFmM2JlLTMxZjAtNGI3OC1iMGJlLWM3ZjdkYmI5NzI1MCIsTD0iZDQwZTM4ZWEtZDQxOS00YzYyLTk0ZWQtMjBhYzM3YjRlNGZhIjtjbGFzcyBWe2NvbnN0cnVjdG9yKHQ9IkgyNjQiKXt0aGlzLnNwcz1uZXcgTWFwLHRoaXMucHBzPW5ldyBNYXAsdGhpcy5hY3RpdmVTUFM9bnVsbCx0aGlzLmNvZGVjPXR9Y29sbGVjdFBQUyh0KXt0aGlzLmNvZGVjPT09IkgyNjQiP3RoaXMuY29sbGVjdEgyNjRQUFModCk6dGhpcy5jb2xsZWN0SDI2NVBQUyh0KX1jb2xsZWN0U1BTKHQpe3RoaXMuY29kZWM9PT0iSDI2NCI/dGhpcy5jb2xsZWN0SDI2NFNQUyh0KTp0aGlzLmNvbGxlY3RIMjY1U1BTKHQpfWNvbGxlY3RIMjY0U1BTKHQpe2NvbnN0IGU9bmV3IHcodCkscz1lLnJlYWRCaXRzKDgpLHI9WzEwMCwxMTAsMTIyLDI0NCw0NCw4Myw4NiwxMTgsMTI4LDEzOCwxMzksMTM0LDEzNV07ZS5za2lwKDgpLGUuc2tpcCg4KTtjb25zdCBvPWUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCk7aWYobz4zMXx8bzwwKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBzZXFfcGFyYW1ldGVyX3NldF9pZCIpO2lmKHIuaW5jbHVkZXMocykpe2NvbnN0IGw9ZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKTtpZihsPT09MyYmZS5za2lwKDEpLGUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCksZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKSxlLnNraXAoMSksZS5yZWFkQml0cygxKSl7Y29uc3QgaT1sIT09Mz84OjEyO2ZvcihsZXQgdT0wO3U8aTt1KyspaWYoZS5yZWFkQml0cygxKSl7Y29uc3QgaD11PDY/MTY6NjQ7bGV0IGM9OCxwPTg7Zm9yKGxldCBfPTA7XzxoO18rKyl7aWYocCE9PTApe2NvbnN0IGc9ZS5yZWFkRXhwR29sb21iU2lnbmVkKCk7cD0oYytnKzI1NiklMjU2fWM9cD09PTA/YzpwfX19fWUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCk7Y29uc3QgYT1lLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpO2lmKGE9PT0wKWUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCk7ZWxzZSBpZihhPT09MSl7ZS5za2lwKDEpLGUucmVhZEV4cEdvbG9tYlNpZ25lZCgpLGUucmVhZEV4cEdvbG9tYlNpZ25lZCgpO2NvbnN0IGw9ZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKTtmb3IobGV0IGY9MDtmPGw7ZisrKWUucmVhZEV4cEdvbG9tYlNpZ25lZCgpfWUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCksZS5za2lwKDEpLGUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCksZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKSxlLnJlYWRCaXRzKDEpPT09MCYmZS5za2lwKDEpLGUuc2tpcCgxKSxlLnJlYWRCaXRzKDEpJiYoZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKSxlLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpLGUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCksZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKSk7bGV0IGQ7aWYoZS5yZWFkQml0cygxKSl7bGV0IGY9ZnVuY3Rpb24oYyl7Y29uc3QgcD1jLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpO2Muc2tpcCg0KSxjLnNraXAoNCk7Zm9yKGxldCB4PTA7eDw9cDt4KyspYy5yZWFkRXhwR29sb21iVW5zaWduZWQoKSxjLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpLGMuc2tpcCgxKTtjLnNraXAoNSk7Y29uc3QgXz1jLnJlYWRCaXRzKDUpLGc9Yy5yZWFkQml0cyg1KSxBPWMucmVhZEJpdHMoNSk7cmV0dXJue2NwYl9yZW1vdmFsX2RlbGF5X2xlbmd0aF9taW51czE6XyxkcGJfb3V0cHV0X2RlbGF5X2xlbmd0aF9taW51czE6Zyx0aW1lX29mZnNldF9sZW5ndGg6QX19O2UucmVhZEJpdHMoMSkmJmUucmVhZEJpdHMoOCk9PT0yNTUmJihlLnNraXAoMTYpLGUuc2tpcCgxNikpLGUucmVhZEJpdHMoMSkmJmUuc2tpcCgxKSxlLnJlYWRCaXRzKDEpJiYoZS5za2lwKDMpLGUuc2tpcCgxKSxlLnJlYWRCaXRzKDEpJiZlLnNraXAoMjQpKSxlLnJlYWRCaXRzKDEpJiYoZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKSxlLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpKTtjb25zdCBsPWUucmVhZEJpdHMoMSk/e251bV91bml0c19pbl90aWNrOmUucmVhZEJpdHMoMzIpLHRpbWVfc2NhbGU6ZS5yZWFkQml0cygzMiksZml4ZWRfZnJhbWVfcmF0ZV9mbGFnOmUucmVhZEJpdHMoMSl9OnZvaWQgMCxpPWUucmVhZEJpdHMoMSk/ZihlKTp2b2lkIDAsdT1lLnJlYWRCaXRzKDEpP2YoZSk6dm9pZCAwOyhpfHx1KSYmZS5za2lwKDEpO2NvbnN0IGg9ZS5yZWFkQml0cygxKTtkPXt0aW1pbmdfaW5mbzpsLG5hbF9ocmRfcGFyYW1ldGVyczppLHZjbF9ocmRfcGFyYW1ldGVyczp1LHBpY19zdHJ1Y3RfcHJlc2VudF9mbGFnOmh9fXRoaXMuc3BzLnNldChvLHt2dWlfcGFyYW1ldGVyczpkfSl9Y29sbGVjdEgyNjVTUFModCl7fWNvbGxlY3RIMjY0UFBTKHQpe2NvbnN0IGU9bmV3IHcodCkscz1lLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpO2lmKHM+MjU1fHxzPDApdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIHBpY19wYXJhbWV0ZXJfc2V0X2lkIik7Y29uc3Qgcj1lLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpO3RoaXMucHBzLnNldChzLHtzZXFfcGFyYW1ldGVyX3NldF9pZDpyfSl9Y29sbGVjdEgyNjVQUFModCl7fWZpbmRBY3RpdmVTUFModCl7Y29uc3QgZT1uZXcgdyh0KTtlLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpLGUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCk7Y29uc3Qgcz1lLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpLHI9dGhpcy5wcHMuZ2V0KHMpO2lmKHIpe2NvbnN0IG89dGhpcy5zcHMuZ2V0KHIuc2VxX3BhcmFtZXRlcl9zZXRfaWQpO2lmKG8pe3RoaXMuYWN0aXZlU1BTPW87cmV0dXJufX10aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBmaW5kIHRoZSBhY3RpdmUgU1BTIil9fWNvbnN0IFM9bmV3IFY7ZnVuY3Rpb24gRyhuLHQpe2Zvcig7dDxuLmJ5dGVMZW5ndGgtNDspe2lmKG5bdF09PT0wJiZuW3QrMV09PT0wJiYoblt0KzJdPT09MXx8blt0KzJdPT09MCYmblt0KzNdPT09MSkpcmV0dXJuIHQ7dCs9MX1yZXR1cm4tMX1mdW5jdGlvbiBVKG4pe2NvbnN0IHQ9bmV3IFVpbnQ4QXJyYXkobi5ieXRlTGVuZ3RoKTtsZXQgZT0wLHM9MDtmb3IobGV0IHI9MjtyPG4uYnl0ZUxlbmd0aDtyKyspbltyXT09PTMmJm5bci0xXT09PTAmJm5bci0yXT09PTAmJih0LnNldChuLnN1YmFycmF5KHMsciksZSksZSs9ci1zLHM9cisxKTtyZXR1cm4gczxuLmJ5dGVMZW5ndGgmJnQuc2V0KG4uc3ViYXJyYXkocyksZSksdH1mdW5jdGlvbiBZKG4sdCl7bGV0IGU9MDtjb25zdCBzPXQ9PT0iSDI2NCI/MToyLHI9W107Zm9yKDtlPG4uYnl0ZUxlbmd0aC00Oyl7Y29uc3Qgbz1HKG4sZSk7aWYobz49ZSl7Y29uc3QgYT1uW28rMl09PT0xPzM6NCxkPUcobixvK2Ercyk7aWYoZD5vKXIucHVzaChuLnN1YmFycmF5KG8sZCkpLGU9ZDtlbHNle3IucHVzaChuLnN1YmFycmF5KG8pKTticmVha319ZWxzZSBicmVha31yZXR1cm4gcn1mdW5jdGlvbiBYKG4sdCl7bGV0IGU9ITA7cmV0dXJuIFkobix0KS5maWx0ZXIocz0+e2NvbnN0IHI9c1syXT09PTE/Mzo0LG89dD09PSJIMjY0Ij8xOjIsYT1zW3JdLGQ9dD09PSJIMjY0Ij9hJjMxOmE+PjEmNjM7aWYoZSlzd2l0Y2goZCl7Y2FzZSBtLlBQU19IMjY0OmNhc2UgbS5QUFNfSDI2NTpTLmNvbGxlY3RQUFMoVShzLnN1YmFycmF5KHIrbykpKTticmVhaztjYXNlIG0uU1BTX0gyNjQ6Y2FzZSBtLlNQU19IMjY1OlMuY29sbGVjdFNQUyhVKHMuc3ViYXJyYXkocitvKSkpO2JyZWFrO2Nhc2UgbS5TTElDRV9JRFI6Y2FzZSBtLlNMSUNFX05PTl9JRFI6Y2FzZSBtLlNMSUNFX1BBUlRJVElPTl9BOnRyeXtTLmZpbmRBY3RpdmVTUFMoVShzLnN1YmFycmF5KHIrbykpKSxlPSExfWNhdGNoKGwpe2NvbnNvbGUuaW5mbygiRmFpbGVkIHRvIGZpbmQgYWN0aXZlIFNQUy4gV2lsbCBub3QgYmUgYWJsZSB0byBleHRyYWN0IFBJQyB0aW1pbmcgbWV0YWRhdGEiKX1icmVha31yZXR1cm5bbS5TRUlfSDI2NCxtLlNFSV9IMjY1X1BSRUZJWCxtLlNFSV9IMjY1X1NVRkZJWF0uaW5jbHVkZXMoZCl9KX1mdW5jdGlvbiAkKG4pe2xldCB0PTAsZT0wO2Zvcig7bltlXT09PTI1NTspdCs9MjU1LGUrKzt0Kz1uW2VdLGUrKztsZXQgcz0wO2Zvcig7bltlXT09PTI1NTspcys9MjU1LGUrKztyZXR1cm4gcys9bltlXSxlKysse3R5cGU6dCxjb250ZW50Om4uc3ViYXJyYXkoZSxlK3MpfX1mdW5jdGlvbiBKKG4pe2NvbnN0IHQ9bmV3IFVpbnQ4QXJyYXkoVChxKSksZT1uZXcgVWludDhBcnJheShUKGopKSxzPW5ldyBVaW50OEFycmF5KFQoTCkpO3JldHVybiB0LmV2ZXJ5KChyLG8pPT5yPT09bltvXSk/RS5USU1FQ09ERTplLmV2ZXJ5KChyLG8pPT5yPT09bltvXSk/RS5MRUdBQ1k6cy5ldmVyeSgocixvKT0+cj09PW5bb10pP0UuTkVXOkUuT1RIRVJ9ZnVuY3Rpb24gSyhuLHQpe2xldCBlPTA7bi51dWlkPXQuc3ViYXJyYXkoZSxlKzE2KSxlKz0xNjtjb25zdCBzPUoobi51dWlkKSxyPXQuc3ViYXJyYXkoZSk7c3dpdGNoKHMpe2Nhc2UgRS5MRUdBQ1k6Y2FzZSBFLk9USEVSOm4udW5yZWdpc3RlcmVkPXI7YnJlYWs7Y2FzZSBFLlRJTUVDT0RFOm4udGltZWNvZGU9TyhyKTticmVhaztjYXNlIEUuTkVXOntsZXQgbz0wO2NvbnN0IGE9QyhEYXRlLm5vdygpKS5sZW5ndGgsZD1yLnN1YmFycmF5KG8sYSk7bys9YTtjb25zdCBsPXIuc3ViYXJyYXkobyk7bi50aW1lY29kZT1PKGQpLG4udW5yZWdpc3RlcmVkPWw7YnJlYWt9fX1mdW5jdGlvbiBPKG4pe2NvbnN0IHQ9bi5yZWR1Y2UoKG8sYSk9PihvPDxCaWdJbnQoOCkpK0JpZ0ludChhKSxCaWdJbnQoMCkpLGU9TnVtYmVyKHQpLHM9bmV3IERhdGUoZSk7cmV0dXJuIG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShzLnRvSVNPU3RyaW5nKCkpfWZ1bmN0aW9uIFoobix0KXt2YXIgZixpLHUsaCxjO2lmKCFTLmFjdGl2ZVNQUyl7Y29uc29sZS53YXJuKCJDYW5ub3QgZmluZCB0aGUgYWN0aXZlIFNQUyIpO3JldHVybn1jb25zdCBlPShmPVMuYWN0aXZlU1BTLnZ1aV9wYXJhbWV0ZXJzLm5hbF9ocmRfcGFyYW1ldGVycykhPW51bGw/ZjpTLmFjdGl2ZVNQUy52dWlfcGFyYW1ldGVycy52Y2xfaHJkX3BhcmFtZXRlcnMscz17Y3BiX2RwYl9kZWxheXNfcHJlc2VudF9mbGFnOmU/MTowLGNwYl9yZW1vdmFsX2RlbGF5X2xlbmd0aF9taW51czE6KGk9ZT09bnVsbD92b2lkIDA6ZS5jcGJfcmVtb3ZhbF9kZWxheV9sZW5ndGhfbWludXMxKSE9bnVsbD9pOjIzLGRwYl9vdXRwdXRfZGVsYXlfbGVuZ3RoX21pbnVzMToodT1lPT1udWxsP3ZvaWQgMDplLmRwYl9vdXRwdXRfZGVsYXlfbGVuZ3RoX21pbnVzMSkhPW51bGw/dToyMyx0aW1lX29mZnNldF9sZW5ndGg6ZT8oaD1lLnRpbWVfb2Zmc2V0X2xlbmd0aCkhPW51bGw/aDoyNDp2b2lkIDAscGljX3N0cnVjdF9wcmVzZW50X2ZsYWc6KGM9Uy5hY3RpdmVTUFMudnVpX3BhcmFtZXRlcnMucGljX3N0cnVjdF9wcmVzZW50X2ZsYWcpIT1udWxsP2M6MH07aWYoIXMucGljX3N0cnVjdF9wcmVzZW50X2ZsYWcpe2NvbnNvbGUud2FybigicGljX3N0cnVjdF9wcmVzZW50X2ZsYWcgaXMgbm90IHByZXNlbnQiKTtyZXR1cm59Y29uc3Qgcj1uZXcgdyh0KTtzLmNwYl9kcGJfZGVsYXlzX3ByZXNlbnRfZmxhZyYmKHIuc2tpcChzLmNwYl9yZW1vdmFsX2RlbGF5X2xlbmd0aF9taW51czErMSksci5za2lwKHMuZHBiX291dHB1dF9kZWxheV9sZW5ndGhfbWludXMxKzEpKTtjb25zdCBvPVsxLDEsMSwyLDIsMywzLDIsM10sYT1yLnJlYWRCaXRzKDQpO2lmKGE+PW8ubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBwaWNfc3RydWN0Iik7Y29uc3QgZD1vW2FdLGw9W107Zm9yKGxldCBwPTA7cDxkO3ArKylpZihyLnJlYWRCaXRzKDEpKXtjb25zdCBnPXt9O3Iuc2tpcCgyKSxyLnNraXAoMSksci5za2lwKDUpO2NvbnN0IEE9ci5yZWFkQml0cygxKTtpZihyLnNraXAoMiksZy5uX2ZyYW1lcz1yLnJlYWRCaXRzKDgpLEE/KGcuc2Vjb25kc192YWx1ZT1yLnJlYWRCaXRzKDYpLGcubWludXRlc192YWx1ZT1yLnJlYWRCaXRzKDYpLGcuaG91cnNfdmFsdWU9ci5yZWFkQml0cyg1KSk6ci5yZWFkQml0cygxKSYmKGcuc2Vjb25kc192YWx1ZT1yLnJlYWRCaXRzKDYpLHIucmVhZEJpdHMoMSkmJihnLm1pbnV0ZXNfdmFsdWU9ci5yZWFkQml0cyg2KSxyLnJlYWRCaXRzKDEpJiYoZy5ob3Vyc192YWx1ZT1yLnJlYWRCaXRzKDUpKSkpLHMudGltZV9vZmZzZXRfbGVuZ3RoKXRyeXtnLnRpbWVfb2Zmc2V0PXIucmVhZEJpdHMocy50aW1lX29mZnNldF9sZW5ndGgpfWNhdGNoKHgpe2NvbnNvbGUuZXJyb3IoIkZhaWxlZCB0byByZWFkIHRpbWVfb2Zmc2V0Iix4KSxnLnRpbWVfb2Zmc2V0PTB9ZWxzZSBnLnRpbWVfb2Zmc2V0PTA7bC5wdXNoKGcpfW4uc2VpUGljVGltaW5nVGltZUNvZGVBcnJheT1sfWZ1bmN0aW9uIFEobix0KXtpZih0IT09IkgyNjQiJiZ0IT09IkgyNjUiKXRocm93IG5ldyBFcnJvcigiVW5zdXBwb3J0ZWQgY29kZWMgIi5jb25jYXQodCkpO2NvbnN0IGU9e307cmV0dXJuIFMuY29kZWM9dCxYKG5ldyBVaW50OEFycmF5KG4uZGF0YSksdCkuZm9yRWFjaChzPT57Y29uc3Qgcj1zWzJdPT09MT8zOjQsbz10PT09IkgyNjQiPzE6MixhPVUocy5zdWJhcnJheShyK28pKSxkPSQoYSk7c3dpdGNoKGQudHlwZSl7Y2FzZSBSLlBJQ19USU1JTkc6WihlLGQuY29udGVudCk7YnJlYWs7Y2FzZSBSLlVTRVJfREFUQV9VTlJFR0lTVEVSRUQ6SyhlLGQuY29udGVudCk7YnJlYWt9fSksZX1mdW5jdGlvbiBlZShuKXtyZXR1cm4vXlswLTlhLWZBLUZdezh9LVswLTlhLWZBLUZdezR9LVswLTlhLWZBLUZdezR9LVswLTlhLWZBLUZdezR9LVswLTlhLWZBLUZdezEyfSQvLnRlc3Qobil9ZnVuY3Rpb24gVChuKXtyZXR1cm4gbi5yZXBsYWNlKC8tL2csIiIpLm1hdGNoKC8uezEsMn0vZykubWFwKHQ9PnBhcnNlSW50KHQsMTYpKX1mdW5jdGlvbiB0ZShuLHQsZSl7Y29uc3Qgcz1uZXcgVWludDhBcnJheShUKG4pKSxyPUMoZSksbz1uZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoSlNPTi5zdHJpbmdpZnkodCkpLGE9bmV3IFVpbnQ4QXJyYXkocy5sZW5ndGgrci5sZW5ndGgrby5sZW5ndGgpO3JldHVybiBhLnNldChzKSxhLnNldChyLHMubGVuZ3RoKSxhLnNldChvLHIubGVuZ3RoK3MubGVuZ3RoKSxhfWZ1bmN0aW9uIG5lKG4pe2NvbnN0IHQ9W10sZT1NYXRoLmZsb29yKG4uYnl0ZUxlbmd0aC8yNTUpLHM9bi5ieXRlTGVuZ3RoJTI1NTtmb3IobGV0IHI9MDtyPGU7cisrKXQucHVzaCgyNTUpO3JldHVybiB0LnB1c2gocyksbmV3IFVpbnQ4QXJyYXkoWzUsLi4udF0pfWZ1bmN0aW9uIHJlKG4pe2NvbnN0IHQ9W107Zm9yKGxldCBlPTA7ZTxuLmJ5dGVMZW5ndGg7ZSsrKWUrMjxuLmJ5dGVMZW5ndGgmJlswLDEsMiwzXS5pbmNsdWRlcyhuW2UrMl0pJiZuW2VdPT09MCYmbltlKzFdPT09MD8odC5wdXNoKG5bZV0pLHQucHVzaChuW2UrMV0pLGUrPTIsdC5wdXNoKDMpKTp0LnB1c2gobltlXSk7cmV0dXJuIHQucHVzaCgxMjgpLG5ldyBVaW50OEFycmF5KHQpfWZ1bmN0aW9uIEMobil7Y29uc3QgdD1bXTtpZighaXNOYU4obikpe2NvbnN0IGU9QmlnSW50KG4pO2ZvcihsZXQgcz0wO3M8TWF0aC5jZWlsKE1hdGguZmxvb3IoTWF0aC5sb2cyKG5ldyBOdW1iZXIobikpKzEpLzgpO3MrKyl0LnVuc2hpZnQobmV3IE51bWJlcihlPj5CaWdJbnQoOCpzKSZCaWdJbnQoMjU1KSkpfXJldHVybiBuZXcgVWludDhBcnJheSh0KX1mdW5jdGlvbiBzZSh7dXVpZDpuLHBheWxvYWQ6dCx0aW1lY29kZTplfSl7Y29uc3Qgcz1bMCwwLDAsMV0scj1bMTAyXSxvPXRlKG4sdCxlKSxhPW5lKG8pLGQ9cmUobyksbD1uZXcgVWludDhBcnJheShzLmxlbmd0aCtyLmxlbmd0aCthLmxlbmd0aCtkLmxlbmd0aCk7cmV0dXJuIGwuc2V0KHMpLGwuc2V0KHIscy5sZW5ndGgpLGwuc2V0KGEscy5sZW5ndGgrci5sZW5ndGgpLGwuc2V0KGQscy5sZW5ndGgrci5sZW5ndGgrYS5sZW5ndGgpLGx9ZnVuY3Rpb24gaWUoe3V1aWQ6bixwYXlsb2FkOnQsdGltZWNvZGU6ZX0scyl7aWYobj09PSIifHx0PT09IiIpdGhyb3cgbmV3IEVycm9yKCJ1dWlkIGFuZCBwYXlsb2FkIGNhbm5vdCBiZSBlbXB0eSIpO2VlKG4pfHwoY29uc29sZS53YXJuKCJJbnZhbGlkIFVVSUQuIFVzaW5nIGRlZmF1bHQgVVVJRC4iKSxuPUwsZT1EYXRlLm5vdygpKTtjb25zdCByPXNlKHt1dWlkOm4scGF5bG9hZDp0LHRpbWVjb2RlOmV9KSxvPW5ldyBEYXRhVmlldyhzLmRhdGEpLGE9bmV3IEFycmF5QnVmZmVyKHMuZGF0YS5ieXRlTGVuZ3RoK3IuYnl0ZUxlbmd0aCksZD1uZXcgRGF0YVZpZXcoYSk7Zm9yKGxldCBsPTA7bDxzLmRhdGEuYnl0ZUxlbmd0aDtsKyspZC5zZXRVaW50OChsLG8uZ2V0VWludDgobCkpO2ZvcihsZXQgbD0wO2w8ci5ieXRlTGVuZ3RoO2wrKylkLnNldFVpbnQ4KHMuZGF0YS5ieXRlTGVuZ3RoK2wscltsXSk7cy5kYXRhPWF9RC5nZXQoIlRyYW5zZm9ybVdvcmtlciIpLnNldExldmVsKEQuREVCVUcpO2NvbnN0IG9lPTJlMyxiPVtdO2xldCB5PSIiLFA9e307Y29uc3Qgdj17fTtsZXQgST1bXTtmdW5jdGlvbiBIKG4pe3JldHVybiBuZXcgVHJhbnNmb3JtU3RyZWFtKHtzdGFydCgpe30sZmx1c2goKXt9LGFzeW5jIHRyYW5zZm9ybSh0LGUpe3ZhciBzLHI7aWYodCBpbnN0YW5jZW9mIFJUQ0VuY29kZWRWaWRlb0ZyYW1lKXtjb25zdCBvPSgocz1QW3QuZ2V0TWV0YWRhdGEoKS5wYXlsb2FkVHlwZV0pPT1udWxsP3ZvaWQgMDpzLnRvVXBwZXJDYXNlKCkpfHwoeT09bnVsbD92b2lkIDA6eS50b1VwcGVyQ2FzZSgpKTtpZihvPT09IkgyNjQiKXtjb25zdCBhPVEodCxvKTsoYS50aW1lY29kZXx8YS51bnJlZ2lzdGVyZWR8fCgocj1hLnNlaVBpY1RpbWluZ1RpbWVDb2RlQXJyYXkpPT1udWxsP3ZvaWQgMDpyLmxlbmd0aCk+MCkmJnNlbGYucG9zdE1lc3NhZ2Uoe2V2ZW50OiJtZXRhZGF0YSIsbWlkOm4sbWV0YWRhdGE6YX0pfXNlbGYucG9zdE1lc3NhZ2Uoe2V2ZW50OiJjb21wbGV0ZSIsZnJhbWU6e3R5cGU6dC50eXBlLHRpbWVzdGFtcDp0LnRpbWVzdGFtcCxkYXRhOnQuZGF0YX19KX1lLmVucXVldWUodCl9fSl9ZnVuY3Rpb24gTSgpe09iamVjdC5rZXlzKHYpLnNvcnQoKS5qb2luKCk9PT1JLnNvcnQoKS5qb2luKCkmJihiLnNoaWZ0KCksST1bXSl9ZnVuY3Rpb24gYWUobil7Y29uc3QgdD1uZXcgRGF0ZSgpLmdldFRpbWUoKTt2W25dPXQsT2JqZWN0LmtleXModikuZmlsdGVyKHM9PnQtdltzXT5vZSkuZm9yRWFjaChzPT57ZGVsZXRlIHZbc10sZGVsZXRlIElbc119KSxNKCl9ZnVuY3Rpb24gTigpe3JldHVybiBuZXcgVHJhbnNmb3JtU3RyZWFtKHtzdGFydCgpe30sZmx1c2goKXt9LGFzeW5jIHRyYW5zZm9ybShuLHQpe2lmKG4gaW5zdGFuY2VvZiBSVENFbmNvZGVkVmlkZW9GcmFtZSl7Y29uc3Qgcz1uLmdldE1ldGFkYXRhKCkuc3luY2hyb25pemF0aW9uU291cmNlO2lmKGFlKHMpLCFJLmluY2x1ZGVzKHMpJiZiLmxlbmd0aCl0cnl7aWYoIS8oaDI2WzRdKS8udGVzdCh5KSl0aHJvdyBuZXcgRXJyb3IoIlNlbmRpbmcgbWV0YWRhdGEgaXMgbm90IHN1cHBvcnRlZCB3aXRoIGFueSBvdGhlciBjb2RlYyBvdGhlciB0aGFuIEguMjY0Iik7YlswXS51dWlkPT09TCYmKGJbMF0udGltZWNvZGU9RGF0ZS5ub3coKSksaWUoYlswXSxuKSxJLnB1c2gocyl9Y2F0Y2gocil7Y29uc29sZS5lcnJvcihyKX1maW5hbGx5e00oKX19dC5lbnF1ZXVlKG4pfX0pfWZ1bmN0aW9uIGsoe3JlYWRhYmxlOm4sd3JpdGFibGU6dH0sZSl7bi5waXBlVGhyb3VnaChlKS5waXBlVG8odCl9YWRkRXZlbnRMaXN0ZW5lcigicnRjdHJhbnNmb3JtIixuPT57bGV0IHQ7aWYobi50cmFuc2Zvcm1lci5vcHRpb25zLm5hbWU9PT0ic2VuZGVyVHJhbnNmb3JtIil5PW4udHJhbnNmb3JtZXIub3B0aW9ucy5jb2RlYyx0PU4oKTtlbHNlIGlmKG4udHJhbnNmb3JtZXIub3B0aW9ucy5uYW1lPT09InJlY2VpdmVyVHJhbnNmb3JtIilQPW4udHJhbnNmb3JtZXIub3B0aW9ucy5wYXlsb2FkVHlwZUNvZGVjfHx7fSx5PW4udHJhbnNmb3JtZXIub3B0aW9ucy5jb2RlY3x8IiIsdD1IKG4udHJhbnNmb3JtZXIub3B0aW9ucy5taWQpO2Vsc2UgcmV0dXJuO2sobi50cmFuc2Zvcm1lcix0KX0pLGFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLG49Pntjb25zdHthY3Rpb246dH09bi5kYXRhO3N3aXRjaCh0KXtjYXNlImluc2VydGFibGUtc3RyZWFtcy1zZW5kZXIiOnk9bi5kYXRhLmNvZGVjLGsobi5kYXRhLE4oKSk7YnJlYWs7Y2FzZSJpbnNlcnRhYmxlLXN0cmVhbXMtcmVjZWl2ZXIiOlA9bi5kYXRhLnBheWxvYWRUeXBlQ29kZWN8fHt9LHk9bi5kYXRhLmNvZGVjfHwiIixrKG4uZGF0YSxIKG4uZGF0YS5taWQpKTticmVhaztjYXNlIm1ldGFkYXRhLXNlaS11c2VyLWRhdGEtdW5yZWdpc3RlcmVkIjpiLnB1c2goe3V1aWQ6bi5kYXRhLnV1aWQscGF5bG9hZDpuLmRhdGEucGF5bG9hZH0pO2JyZWFrfX0pfSkoKTsK",ge=("undefined"==typeof self?"undefined":U(self))<"u"&&self.Blob&&new Blob([function(t){return E.from(atob(t),(function(t){return t.charCodeAt(0)}))}(le)],{type:"text/javascript;charset=utf-8"});function we(t){var n;try{if(!(n=ge&&(self.URL||self.webkitURL).createObjectURL(ge)))throw"";var i=new I(n,{name:null==t?void 0:t.name});return i.addEventListener("error",(function(){(self.URL||self.webkitURL).revokeObjectURL(n)})),i}catch(n){return new I("data:text/javascript;base64,"+le,{name:null==t?void 0:t.name})}finally{n&&(self.URL||self.webkitURL).revokeObjectURL(n)}}var me=gt.get("Publish"),ye={mediaStream:null,bandwidth:0,metadata:!1,disableVideo:!1,disableAudio:!1,codec:wr.H264,simulcast:!1,scalabilityMode:null,peerConfig:{autoInitStats:!0,statsIntervalMs:1e3}},pe=function(t){function n(n,i,r){return void 0===r&&(r=!0),n&&me.warn("The streamName property has been deprecated. In a future release, this will be removed. Please do not rely on this value. Instead, set via token generator"),t.call(this,null,i,me,r)||this}It(n,t);var i=n.prototype;return i.connect=function(t){void 0===t&&(t=ye);var n=this;return Zt((function(){var i,r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return r=ce.object({sourceId:ce.string(),stereo:ce.boolean(),dtx:ce.boolean(),absCaptureTime:ce.boolean(),dependencyDescriptor:ce.boolean(),mediaStream:ce.alternatives().try(ce.array().items(ce.object()),ce.object()),bandwidth:ce.number(),metadata:ce.boolean(),disableVideo:ce.boolean(),disableAudio:ce.boolean(),codec:(i=ce.string()).valid.apply(i,Ft(b.values(wr))),simulcast:ce.boolean(),scalabilityMode:ce.string(),peerConfig:ce.object(),record:ce.boolean(),events:ce.array().items(ce.string().valid("active","inactive","viewercount")),priority:ce.number()}),e=r.validate(t),u=e.error,s=e.value,u&&me.warn(u,s),n.options=R(w(w({},ye),t),{peerConfig:w(w({},ye.peerConfig),t.peerConfig),setSDPToPeer:!1}),n.options.metadata=n.options.metadata&&n.options.codec===wr.H264&&!n.options.disableVideo,[4,n.initConnection({migrate:!1})];case 1:return o.sent(),[2]}}))}))()},i.reconnect=function(n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){return i.options.mediaStream=null!=(e=null==(r=i.webRTCPeer)?void 0:r.getTracks())?e:i.options.mediaStream,t.prototype.reconnect.call(i,n),[2]}))}))()},i.replaceConnection=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:return me.info("Migrating current connection"),t.options.mediaStream=null!=(i=null==(n=t.webRTCPeer)?void 0:n.getTracks())?i:t.options.mediaStream,[4,t.initConnection({migrate:!0})];case 1:return r.sent(),[2]}}))}))()},i.record=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.recordingAvailable?(t.options.record=!0,[4,null==(n=t.signaling)?void 0:n.cmd("record")]):[3,2];case 1:return i.sent(),me.info("Broadcaster start recording"),[3,3];case 2:me.error("Record not available"),i.label=3;case 3:return[2]}}))}))()},i.unrecord=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.recordingAvailable?(t.options.record=!1,[4,null==(n=t.signaling)?void 0:n.cmd("unrecord")]):[3,2];case 1:return i.sent(),me.info("Broadcaster stop recording"),[3,3];case 2:me.error("Unrecord not available"),i.label=3;case 3:return[2]}}))}))()},i.stop=function(){var n;t.prototype.stop.call(this),null==(n=this.worker)||n.terminate(),this.worker=null},i.initConnection=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c,h,f,v,d,l,g,w,m;return Ht(this,(function(y){switch(y.label){case 0:if(me.debug("Broadcast option values: ",n.options),n.stopReconnection=!1,!n.options.mediaStream)throw me.error("Error while broadcasting. MediaStream required"),new p("MediaStream required");if(!t.migrate&&n.isActive())throw me.warn("Broadcast currently working"),new p("Broadcast currently working");y.label=1;case 1:return y.trys.push([1,3,,4]),[4,n.tokenGenerator()];case 2:return u=y.sent(),n.options.peerConfig.iceServers=null==u?void 0:u.iceServers,n.options.peerConfig.encodedInsertableStreams=n.options.metadata,[3,4];case 3:throw s=y.sent(),me.error("Error generating token."),s instanceof zr&&(401!==s.status&&n.autoReconnect?n.reconnect():n.stopReconnection=!0),s;case 4:if(!u)throw me.error("Error while broadcasting. Publisher data required"),new p("Publisher data required");if(o=ee(u.jwt),n.streamName=o.millicast.streamName,n.recordingAvailable=o[se.atob("bWlsbGljYXN0")].record,n.options.record&&!n.recordingAvailable)throw me.error("Error while broadcasting. Record option detected but recording is not available"),new p("Record option detected but recording is not available");return a=new Xr({streamName:n.streamName,url:"".concat(u.urls[0],"?token=").concat(u.jwt)}),[4,(c=t.migrate?new Ar:n.webRTCPeer).createRTCPeer(n.options.peerConfig,pr)];case 5:return y.sent(),null==(i=n.stopReemitingWebRTCPeerInstanceEvents)||i.call(n),null==(r=n.stopReemitingSignalingInstanceEvents)||r.call(n),n.stopReemitingWebRTCPeerInstanceEvents=Vt(c,n,[br.connectionStateChange]),n.stopReemitingSignalingInstanceEvents=Vt(a,n,[Zr]),h=c.getRTCLocalSDP(n.options),f=a.connect(),[4,et.all([h,f])];case 6:return e=y.sent(),v=e[0],n.options.metadata&&(n.worker||(n.worker=new we),n.getRTCPeerConnection().getSenders().forEach((function(t){if(de)t.transform=new RTCRtpScriptTransform(n.worker,{name:"senderTransform",codec:n.options.codec});else if(ve){var i=t.createEncodedStreams(),r=i.readable,e=i.writable;n.worker.postMessage({action:"insertable-streams-sender",codec:n.options.codec,readable:r,writable:e},[r,e])}}))),d=n.signaling,n.signaling=a,l=n.signaling.publish(v,n.options),g=c.peer.setLocalDescription(c.sessionDescription),[4,et.all([l,g])];case 7:return e=y.sent(),w=e[0],!n.options.disableVideo&&n.options.bandwidth>0&&(w=c.updateBandwidthRestriction(w,n.options.bandwidth)),[4,c.setRTCRemoteSDP(w)];case 8:return y.sent(),me.info("Broadcasting to streamName: ",n.streamName),m=n.webRTCPeer,n.webRTCPeer=c,n.setReconnect(),t.migrate&&n.webRTCPeer.on(br.connectionStateChange,(function(t){var n,i;["connected","disconnected","failed","closed"].includes(t)&&(null==(n=null==d?void 0:d.close)||n.call(d),null==(i=null==m?void 0:m.closeRTCPeer)||i.call(m),d=m=null)})),[2]}}))}))()},i.sendMetadata=function(t,n){var i;if(void 0===n&&(n="d40e38ea-d419-4c62-94ed-20ac37b4e4fa"),null!=(i=this.options)&&i.metadata&&this.worker)this.worker.postMessage({action:"metadata-sei-user-data-unregistered",uuid:n,payload:t});else{var r="Could not send metadata due to:";this.options?this.options.metadata?this.worker||(r+="\n- Stream not being published."):(r+="\n- Metadata option is not enabled.",this.options.codec!==wr.H264&&(r+="\n- Incompatible codec. Only H264 available."),this.options.disableVideo&&(r+="\n- Video disabled.")):r+="\n- Stream not being published.",me.warn(r)}},n}(he);function _e(t){if(!t)return new E;for(var n=t.length,i=new E(n/2),r=0;r<n;r+=2)i[r/2]=A(t.substr(r,2),16);return i}function be(t,n,i){if(b.prototype.hasOwnProperty.call(t,i)&&b.prototype.hasOwnProperty.call(n,i)){var r=t[i];t[i]=n[i],n[i]=r}else console.error('One or both objects do not have the property "'.concat(i,'"'))}function ke(t,n,i,r){return new(i||(i=et))((function(e,u){function s(t){try{a(r.next(t))}catch(t){u(t)}}function o(t){try{a(r.throw(t))}catch(t){u(t)}}function a(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(t){t(n)}))).then(s,o)}a((r=r.apply(t,n||[])).next())}))}var Ae,Te=Se;function Se(t,n){var i=Le();return(Se=function(t,n){return i[t-=257]})(t,n)}!function(){for(var t=Se,n=Le();;)try{if(A(t(266))/1*(-A(t(261))/2)+A(t(258))/3*(-A(t(264))/4)+-A(t(267))/5*(A(t(274))/6)+A(t(260))/7*(A(t(268))/8)+A(t(270))/9+-A(t(277))/10+A(t(263))/11==303379)break;n.push(n.shift())}catch(t){n.push(n.shift())}}();var Ee=l&&l[Te(276)]||"",Ie=l&&l.vendor||"",Re=!(null==f||!f[Te(273)]),Ce=Ee[Te(278)](Te(257)),Ne=!Ce&&Ie[Te(278)](Te(259)),De=!Ce&&!Ne&&Ee.includes(Te(272)),Pe=!Ce&&!Ne&&!De&&Ee[Te(278)](Te(275)),xe=(null===(Ae=null==l?void 0:l[Te(262)])||void 0===Ae?void 0:Ae[Te(271)])||(null==l?void 0:l[Te(271)])||"";function Le(){var t=["2403660vsbxKa","includes","Firefox","653511krAkNS","Apple","63eEorAu","2iQvmqu","userAgentData","13393182jRLBxS","4fTXBZP","Win32","74923SyWRbn","1345hVdNEb","21688LwGppn","Windows","132498ZoOcLo","platform","Edg","RTCRtpScriptTransform","9372dNMWWf","Chrome","userAgent"];return(Le=function(){return t})()}var Me={supportsRtpScriptTransform:Re,isFirefox:Ce,isSafari:Ne,isEdge:De,isChrome:Pe,platform:xe,isWindows:xe===Te(269)||xe===Te(265)},Oe=Be;function Be(t,n){var i=We();return(Be=function(t,n){return i[t-=185]})(t,n)}!function(){for(var t=Be,n=We();;)try{if(-A(t(380))/1+-A(t(354))/2+-A(t(464))/3*(A(t(486))/4)+-A(t(253))/5+A(t(377))/6+A(t(321))/7*(-A(t(285))/8)+-A(t(444))/9*(-A(t(279))/10)==657542)break;n.push(n.shift())}catch(t){n.push(n.shift())}}();var Ve=Me[Oe(496)];function Fe(t,n){var i=Oe,r=new E((0|t.byteLength)+(0|n[i(442)]));return r[i(311)](t,0),r[i(311)](n,0|t.byteLength),r}var Ue=function(t,n,i,r){var e=Oe,u=r[e(203)]||1;n*=u,i*=u;var s,o=(s=t)instanceof ArrayBuffer?s:s[Oe(492)],a=(t[e(447)]||0)+t[e(442)],c=(t[e(447)]||0)+n,h=k[e(389)](0,k[e(487)](c,a)),f=k[e(487)](h+k[e(389)](i,0),a);return new r(o,h/=u,(f/=u)-h)};function We(){var t=["[MSE] source buffer error","ManagedMediaSource","BYTES_PER_ELEMENT","types","ready","valid","Num frames in chunk: ","readBits","getTrackID","mvhd","parsePPS","encrypted","dependsOn","payload","len","moov","VMHD","mse","volume","h264","setUint16","tfdt","nextDts","avc1.","audioSampleAuxInfo","message","endMSE","width","hdlr","warn","traf","readBoolean","shift","mseReady","revokeObjectURL","smhd","dts","indexOf","<PROTECTINFO>","webkitsourceclose","onMSEClose","[H264Parser] IDR without SPS/PPS, not suitable for recovery",'VALUE="',"createObjectURL","</KID>","mdhd","SMHD","getFramePayload","tkhd","flush","clRtcDrmDebugLog","getBits","2598770DahMdb","dbgQueue","dispatch","DINF","http://schemas.microsoft.com/DRM/2007/03/PlayReadyHeader","isReady","sps","nalus","endOfStream","toString","UNKNOWN","Opus","minf","onError","stco","STSC","buffered","</KIDS>","initSegment","dinf","org.w3.clearkey","mp4track","keyFrame","units","mseEnded","videoSampleAuxInfo","41695210Plpuuo","splice","ended","bitLength","seq","url","8YyaFaO","com.apple.fps","[MSE] error: ","bitsAvailable","</WRMHEADER>","trex","setData","buffer error","slice","length","readUByte","mp4a","Unsupported DRM type ","mdia","fromCharCode",'<WRMHEADER xmlns="',"index","string","both","NDR","dOps","cenc","getPayload","bind","PPS","sourceBuffer","set","Checking codec","releaseBuffer","tenc","trak","flags",'/mp4; codecs="',"[H264Parser] Both IDR and non-IDR VCL NALUs found in the same frame","clRtcDrmCreateMediaDump","STSD","6352549TgZLxu","initBrowser","IDR","trun"," - ","start","mediaSource","startsWith","stype","readSPS","addEventListener","schi","encv","createElement","getVideoFrames","onReady","href","sourceopen","setUint32","vmhd","FTYP","schm","getData","toISOString","remuxer","track","skipScalingList","STSZ","getSize","addSourceBuffer","[MSE] buffer error:","appendBufferError","off","2392886zJoPkf","destroy","sdtp","audiosamplerate",": NRI: ","reportDiscontinuity","extractNALUs","No A/V data","pps","senc","saio","concat","config","ftyp","parseNAL","esds","error","feed","Browser does not support codec","4.3.0.0","skipUEG","mp4","end","2232924PKvVOf","updating","options","227868XbMqAn","prototype","createBuffer","info","MediaSource","timestamp","mvex","isfmb","opus","max","stsz","POSITIVE_INFINITY","saiz","timescale","call","encryption","height","jmuxer","bufferControllers","open","patchSampleAuxinfo","queue","stsd","onBufferError","frameCounter","ntype","remux","getPayloadSize","isSupported","</LA_URL>","waitingForIdr","box","idr"," samples - expected 1","tracks","stbl","getNri",'<KID ALGID="AESCTR" ',"download","readUInt","join","com.microsoft.playready.recommendation",'" version="',"remuxController","Received ","frma","resetTrack","disableRemotePlayback","</DATA>","mfhd","pssh","charCodeAt","drm","mediaDuration","video","readyToDecode","from","SPS","skipLZ","data","keySystem","[MSE] sourceclose","byteLength","STTS","9mESMVl","Buffered range ","samples","byteOffset","parseHeader","codec","node","audio","Failure: Browser doesn't support MSE/MMS","subarray","replaceAll","downloadToFile","onBuffer","skipBits","mdat","isKeyframe","moof","mode","push","STCO","9ffcUcC","listener","isReset","map","enca","type","<LA_URL>","parseSPS","getElementById","no video element were found to render, provide a valid video element","sinf","doAppend","HDLR_TYPES","videoElement","stts","keyId","trackTypes","TYPES","remove","size","AUD","src","1376748eVkTXq","min","tfhd","initialized","offAll","appendBuffer","buffer","nri","skipEG","isvcl","isSafari","isTypeSupported","readyState","abort","apply","reduce","assign","calculateExpectedSizeFromSai","duration","generatePlayReadyHeader","readUEG","onMSEOpen","sampleAuxInfo","SEI","irrecoverableError","channelCount","saiIvSize","stsc"];return(We=function(){return t})()}function Ze(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=1/0),Ue(t,n,i,E)}function Xe(t){var n=Oe,i=Array[n(436)](t)[n(467)]((function(t){return t[n(431)](0)}));return new E(i)}f[Oe(455)]=function(t,n,i){void 0===i&&(i="application/octet-stream");var r=Oe,e=v[r(334)]("a"),u=new Blob([t],{type:i});e[r(337)]=URL[r(244)](u),e[r(418)]=n,e.click(),URL[r(235)](e[r(337)])};var Ge=function(t,n,i,r,e,u,s,o,a,c){function h(t){var n=Oe;this.payload=t,this[n(493)]=(96&this.payload[0])>>5,this[n(405)]=31&this[n(214)][0],this[n(495)]=1==this.ntype||5==this[n(405)],this[n(329)]="",this[n(387)]=!1}var f=h.prototype;return f.toString=function(){var t=Oe;return h[t(469)](this)+t(358)+this[t(416)]()},f.getNri=function(){return this[Oe(493)]},f[u]=function(){return this[Oe(405)]},f[s]=function(){var t=Oe;return this[t(405)]===h[t(323)]},f[o]=function(){return this[Oe(214)]},f[a]=function(){var t=Oe;return this[t(214)][t(442)]},f.getSize=function(){return 4+this[Oe(407)]()},f[c]=function(){var t=Oe,n=new E(this.getSize());return new DataView(n.buffer)[t(339)](0,this.getSize()-4),n[t(311)](this[t(307)](),4),n},h.type=function(t){var n=Oe;return t[n(405)]in h[n(481)]?h[n(481)][t[n(405)]]:n(263)},Nt(h,null,[{key:t,get:function(){return 1}},{key:n,get:function(){return 5}},{key:i,get:function(){return 6}},{key:"SPS",get:function(){return 7}},{key:"PPS",get:function(){return 8}},{key:r,get:function(){return 9}},{key:e,get:function(){var t,n=Oe;return un(t={},h[n(323)],n(323)),un(t,h.SEI,n(196)),un(t,h.SPS,n(437)),un(t,h[n(309)],n(309)),un(t,h[n(304)],n(304)),un(t,h[n(484)],n(484)),t}}]),h}(Oe(304),Oe(323),Oe(196),Oe(484),Oe(481),Oe(469),Oe(459),Oe(307),Oe(407),Oe(343)),He=function(){function t(t){var n=Oe;this[n(439)]=t,this[n(301)]=0,this.bitLength=8*t[n(442)]}var n=t.prototype;return n[Oe(291)]=function(t){var n=Oe;this.data=t,this[n(301)]=0,this[n(282)]=8*t[n(442)]},n.skipBits=function(t){if(this[Oe(288)]<t)return!1;this.index+=t},n[Oe(208)]=function(t,n){return void 0===n&&(n=!0),this.getBits(t,this.index,n)},n[Oe(252)]=function(t,n,i){void 0===i&&(i=!0);var r=Oe;if(this.bitsAvailable<t)return 0;var e=n%8,u=this[r(439)][n/8|0]&255>>>e,s=8-e;if(s>=t)return i&&(this.index+=t),u>>s-t;i&&(this.index+=s);var o=t-s;return u<<o|this[r(252)](o,n+s,i)},n[Oe(438)]=function(){var t,n=Oe;for(t=0;t<this.bitLength-this[n(301)];++t)if(0!==this.getBits(1,this[n(301)]+t,!1))return this.index+=t,t;return t},n[Oe(374)]=function(){var t=Oe;this[t(457)](1+this[t(438)]())},n[Oe(494)]=function(){var t=Oe;this[t(457)](1+this[t(438)]())},n.readUEG=function(){var t=Oe,n=this[t(438)]();return this[t(208)](n+1)-1},n.readEG=function(){var t=this[Oe(193)]();return 1&t?1+t>>>1:-1*(t>>>1)},n.readBoolean=function(){return 1===this[Oe(208)](1)},n[Oe(295)]=function(t){return void 0===t&&(t=1),this[Oe(208)](8*t)},n.readUShort=function(){return this[Oe(208)](16)},n[Oe(419)]=function(){return this[Oe(208)](32)},Nt(t,[{key:Oe(288),get:function(){var t=Oe;return this[t(282)]-this[t(301)]}}]),t}(),ze=function(t,n,i,r,e,u){function s(t){var n=Oe;this.remuxer=t,this[n(346)]=t[n(274)]}var o=s.prototype;return o[r]=function(t){var n=Oe,i=s[n(330)](new E(t));this[n(346)][n(228)]=i[n(228)],this[n(346)][n(396)]=i[n(396)],this[n(346)].sps=[new E(t)],this[n(346)][n(449)]=n(224);for(var r=new DataView(t.buffer,t[n(447)]+1,4),e=0;e<3;++e){var u=r.getUint8(e)[n(262)](16);u.length<2&&(u="0"+u),this.track[n(449)]+=u}},o[e]=function(t){this[Oe(346)].pps=[new E(t)]},o[u]=function(t){var n=Oe;if(!t)return!1;var i=!1;switch(t.type()){case Ge[n(323)]:case Ge[n(304)]:i=!0;break;case Ge[n(309)]:!this[n(346)][n(362)]&&(this.parsePPS(t[n(307)]()),!this[n(345)][n(435)]&&this[n(346)][n(362)]&&this[n(346)][n(259)]&&(this[n(345)][n(435)]=!0)),i=!0;break;case Ge[n(437)]:!this[n(346)][n(259)]&&(this[n(471)](t[n(307)]()),!this[n(345)][n(435)]&&this[n(346)][n(362)]&&this.track.sps&&(this[n(345)][n(435)]=!0)),i=!0;break;case Ge[n(484)]:break;case Ge[n(196)]:i=!0}return i},s[t]=function(t,n){for(var i=Oe,r=[],e=!1,u=!1,s=!1,o=!1,a=0,c=0,h=0,f=[];a<=t.byteLength;){if(a<t.byteLength){var v=t[a++];0!==v?(1===v&&c>1&&(h=c>2?4:3,f.push(a)),c=0):++c}else h=0,f.push(a++);if(f.length>1){var d=f.shift(),l=f[0]-h;if(d<l){var g=!1,w=31&t[d];if(w===Ge.NDR?u=!0:w===Ge.IDR?e=!0:w===Ge.SPS?(g=s,s=!0):w===Ge.PPS&&(g=o,o=!0),!g)if(!n||w!==Ge.NDR&&w!==Ge.IDR)r.push(t.subarray(d,l));else{var m=new E(l-d),y=0;for(a=d,c=0;a<l;){var p=t[a++];c>1&&3===p&&(c=0,p=t[a++]),0!==p?c=0:++c,m[y++]=p}r.push(m.subarray(0,y))}}}}var _=!0,b=!1;return u||e?u&&e&&(console[i(230)](i(318)),_=!1):(console[i(230)]("[H264Parser] No VCL NALUs found"),_=!1),e&&(s&&o?b=!0:console[i(230)](i(242))),{valid:_,idr:b,nalus:r}},s.skipScalingList=function(t,n){for(var i=8,r=8,e=0;e<n;e++)0!==r&&(r=(i+t.readEG()+256)%256),i=0===r?i:r},s[n]=function(t){var n,i,r,e,u,o,a=Oe,c=new He(t),h=0,f=0,v=0,d=0,l=1;if(c[a(295)](),n=c.readUByte(),c[a(208)](5),c[a(457)](3),c.readUByte(),c[a(374)](),100===n||110===n||122===n||244===n||44===n||83===n||86===n||118===n||128===n){var g=c[a(193)]();if(3===g&&c[a(457)](1),c.skipUEG(),c[a(374)](),c[a(457)](1),c[a(232)]()){o=3!==g?8:12;for(var w=0;w<o;++w)c[a(232)]()&&(w<6?s[a(347)](c,16):s[a(347)](c,64))}}c[a(374)]();var m=c.readUEG();if(0===m)c[a(193)]();else if(1===m){c.skipBits(1),c[a(494)](),c[a(494)](),i=c[a(193)]();for(var y=0;y<i;++y)c.skipEG()}if(c.skipUEG(),c[a(457)](1),r=c[a(193)](),e=c.readUEG(),0===(u=c[a(208)](1))&&c[a(457)](1),c[a(457)](1),c[a(232)]()&&(h=c[a(193)](),f=c[a(193)](),v=c[a(193)](),d=c.readUEG()),c.readBoolean()){if(c[a(232)]()){var p;switch(c[a(295)]()){case 1:p=[1,1];break;case 2:p=[12,11];break;case 3:p=[10,11];break;case 4:p=[16,11];break;case 5:p=[40,33];break;case 6:p=[24,11];break;case 7:p=[20,11];break;case 8:p=[32,11];break;case 9:p=[80,33];break;case 10:p=[18,11];break;case 11:p=[15,11];break;case 12:p=[64,33];break;case 13:p=[160,99];break;case 14:p=[4,3];break;case 15:p=[3,2];break;case 16:p=[2,1];break;case 255:p=[c[a(295)]()<<8|c.readUByte(),c[a(295)]()<<8|c[a(295)]()]}p&&p[0]>0&&p[1]>0&&(l=p[0]/p[1])}c.readBoolean()&&c[a(457)](1),c[a(232)]()&&(c.skipBits(4),c[a(232)]()&&c[a(457)](24)),c.readBoolean()&&(c.skipUEG(),c[a(374)]()),c.readBoolean()&&(c[a(419)](),c[a(419)](),c.readBoolean())}return{width:k.ceil((16*(r+1)-2*h-2*f)*l),height:(2-u)*(e+1)*16-(u?2:4)*(v+d)}},s[i]=function(t){var n=Oe,i=new He(t[n(307)]());i.readUByte(),t.isfmb=0===i[n(193)](),t.stype=i[n(193)]()},s}(Oe(360),Oe(330),Oe(448),Oe(471),Oe(211),Oe(368)),Ye=function(){function t(t){var n=Oe;this[n(465)]={},this[n(469)]=""|t}var n=t.prototype;return n.on=function(t,n){var i=Oe;return!this[i(465)][t]&&(this[i(465)][t]=[]),this[i(465)][t][i(462)](n),!0},n[Oe(353)]=function(t,n){var i=Oe;if(this[i(465)][t]){var r=this.listener[t][i(238)](n);return r>-1&&this[i(465)][t][i(280)](r,1),!0}return!1},n[Oe(490)]=function(){this[Oe(465)]={}},n[Oe(255)]=function(t,n){var i=Oe;return!!this.listener[t]&&(this[i(465)][t][i(467)]((function(t){t[i(187)](null,[n])})),!0)},t}(),je=function(t,n,i,r,e,u,s,o,a,c,h,f,v,d,l,g,w,m,y,p,_,b,k,A,T){function S(t){var n,i,r=Oe;for(var e in this[r(432)]=t,this[r(199)]={video:(null==(n=t[r(366)][r(434)])?void 0:n.encryption)===r(306)?16:0,audio:(null==(i=t[r(366)][r(451)])?void 0:i.encryption)===r(306)?16:0},S.types={avc1:[],encv:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],Opus:[],dOps:[],enca:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],pssh:[],sinf:[],frma:[],schm:[],schi:[],tenc:[],saiz:[],saio:[],senc:[]},S[r(204)])S[r(204)][e]=[e[r(431)](0),e[r(431)](1),e.charCodeAt(2),e[r(431)](3)];var u=new E([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),s=new E([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);S[r(476)]={video:u,audio:s};var o=new E([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),a=new E([0,0,0,0,0,0,0,0]);S[r(443)]=S[r(268)]=S[r(463)]=a,S[r(348)]=new E([0,0,0,0,0,0,0,0,0,0,0,0]),S[r(217)]=new E([0,0,0,1,0,0,0,0,0,0,0,0]),S.SMHD=new E([0,0,0,0,0,0,0,0]),S[r(320)]=new E([0,0,0,0,0,0,0,1]);var c=new E([105,115,111,109]),h=new E([97,118,99,49]),f=new E([0,0,0,1]);S[r(341)]=S[r(411)](S[r(204)][r(367)],c,f,c,h),S.DINF=S[r(411)](S[r(204)][r(272)],S[r(411)](S[r(204)].dref,o))}var I=S.prototype;return I.hdlr=function(t){var n=Oe;return S[n(411)](S[n(204)][n(229)],S[n(476)][t])},I.mdat=function(t){var n=Oe;return S.box(S.types[n(458)],t)},I[n]=function(t,n){var i=Oe;return S.box(S[i(204)][i(246)],new E([0,0,0,0,0,0,0,0,0,0,0,0,t>>>24,t>>>16&255,t>>>8&255,255&t,0,0,0,0,85,196,0,0]))},I[i]=function(t){var n=Oe;return S[n(411)](S[n(204)][n(298)],this[n(246)](t[n(393)],t.duration),this[n(229)](t[n(469)]),this[n(265)](t))},I[r]=function(t){var n=Oe;return S[n(411)](S.types[n(429)],new E([0,0,0,0,t>>>24,t>>>16&255,t>>>8&255,255&t]))},I[e]=function(t){var n=Oe;return t[n(469)]===n(451)?S[n(411)](S[n(204)][n(265)],S.box(S[n(204)][n(236)],S[n(247)]),S.DINF,this[n(415)](t)):S[n(411)](S[n(204)][n(265)],S[n(256)],this[n(415)](t),S[n(411)](S[n(204)][n(340)],S[n(217)]))},I[u]=function(t,n,i){var r=Oe;return S[r(411)](S[r(204)][r(460)],this[r(429)](t),this.traf(i,n))},I.moov=function(t,n,i){for(var r=Oe,e=t[r(294)],u=[];e--;)u[e]=this[r(315)](t[e]);return S[r(411)][r(187)](null,[S[r(204)].moov,this[r(210)](i,n),this[r(430)](t)].concat(u)[r(365)](this[r(386)](t)))},I.mvex=function(t){for(var n=Oe,i=t[n(294)],r=[];i--;)r[i]=this[n(290)](t[i]);return S.box[n(187)](null,[S[n(204)].mvex].concat(r))},I[s]=function(t,n){var i=Oe,r=new E([0,0,0,0,0,0,0,0,0,0,0,0,t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return S[i(411)](S[i(204)].mvhd,r)},I[o]=function(t){for(var n=Oe,i=t[n(446)]||[],r=new E(4+i.length),e=0;e<i.length;e++){var u=i[e][n(316)];r[e+4]=u[n(213)]<<4|u.isDependedOn<<2|u.hasRedundancy}return S.box(S.types.sdtp,r)},I[a]=function(t){var n=Oe;return S[n(411)](S.types[n(415)],this[n(402)](t),S.box(S.types[n(478)],S[n(443)]),S.box(S.types[n(200)],S[n(268)]),S[n(411)](S[n(204)][n(390)],S[n(348)]),S[n(411)](S[n(204)][n(267)],S[n(463)]))},I[c]=function(t){var n,i,r,e=Oe,u=[],s=[];for(n=0;n<t[e(259)][e(294)];n++)r=(i=t[e(259)][n])[e(442)],u.push(r>>>8&255),u[e(462)](255&r),u=u[e(365)](Array[e(381)].slice.call(i));for(n=0;n<t.pps.length;n++)r=(i=t.pps[n])[e(442)],s.push(r>>>8&255),s[e(462)](255&r),s=s[e(365)](Array[e(381)][e(293)][e(394)](i));var o=S[e(411)](S[e(204)].avcC,new E([1,u[3],u[4],u[5],255,224|t[e(259)][e(294)]][e(365)](u)[e(365)]([t[e(362)].length]).concat(s))),a=t[e(228)],c=t[e(396)],h=S[e(411)](S[e(204)][e(474)],S[e(411)](S.types[e(425)],new E([97,118,99,49])),S[e(411)](S[e(204)][e(342)],new E([0,0,0,0].concat(Ft(Xe(this[e(432)][e(366)].video[e(395)])),[0,1,0,0]))),S[e(411)](S[e(204)].schi,this[e(314)]("video")));return S[e(411)](S[e(204)][e(333)],new E([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,a>>>8&255,255&a,c>>>8&255,255&c,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,65,86,67,32,67,111,100,105,110,103,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]),o,h)},I[h]=function(t){var n=Oe,i=t.config[n(442)],r=new E(26+i+3);return r[n(311)]([0,0,0,0,3,23+i,0,1,0,4,15+i,64,21,0,0,0,0,0,0,0,0,0,0,0,5,i]),r[n(311)](t[n(366)],26),r[n(311)]([6,1,2],26+i),r},I[f]=function(t){var n=Oe,i=t.audiosamplerate;return S[n(411)](S[n(204)][n(296)],new E([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t[n(198)],0,16,0,0,0,0,i>>>8&255,255&i,0,0]),S[n(411)](S[n(204)][n(369)],this.esds(t)))},I.dOps=function(t){var n=Oe,i=t[n(357)];return new E([0,t[n(198)],1,56,0,0,i>>>8&255,255&i,0,0,0])},I[v]=function(t){var n=Oe,i=t[n(357)];return S[n(411)](S[n(204)].Opus,new E([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t[n(198)],0,16,0,0,0,0,i>>>8&255,255&i,0,0]),S[n(411)](S.types[n(305)],this[n(305)](t)))},I[d]=function(t){var n=Oe,i=S[n(411)](S[n(204)].dOps,this[n(305)](t)),r=S[n(411)](S[n(204)].sinf,S[n(411)](S[n(204)].frma,new E([79,112,117,115])),S[n(411)](S[n(204)][n(342)],new E([0,0,0,0].concat(Ft(Xe(this.drm[n(366)].audio[n(395)])),[0,1,0,0]))),S[n(411)](S[n(204)][n(332)],this[n(314)](n(451)))),e=t[n(357)];return S[n(411)](S[n(204)][n(468)],new E([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t[n(198)],0,16,0,0,0,0,e>>>8&255,255&e,0,0]),i,r)},I[l]=function(t){var n=Oe;return t[n(469)]===n(451)?S.box(S[n(204)][n(402)],S[n(320)],t[n(212)]?this[n(468)](t):this[n(264)](t)):S.box(S[n(204)][n(402)],S[n(320)],this.encv(t))},I[g]=function(t){var n=Oe,i=t.id,r=t[n(191)],e=t.width,u=t[n(396)],s=t[n(219)];return S[n(411)](S[n(204)][n(249)],new E([0,0,0,7,0,0,0,0,0,0,0,0,i>>>24,i>>>16&255,i>>>8&255,255&i,0,0,0,0,r>>>24,r>>>16&255,r>>>8&255,255&r,0,0,0,0,0,0,0,0,0,0,0,0,255&s,s%1*10&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,e>>>8&255,255&e,0,0,u>>>8&255,255&u,0,0]))},I[w]=function(t,n){var i,r=Oe,e=t.id,u=t[r(446)][0][r(483)],s=t[r(446)][0][r(191)],o=t[r(446)][0].flags,a=S[r(411)](S[r(204)][r(488)],new E([0,2,0,58,e>>>24,e>>>16&255,e>>>8&255,255&e,0,0,0,1,s>>>24,e>>>16&255,s>>>8&255,255&s,u>>>24,u>>>16&255,u>>>8&255,255&u,0,o.isNonSync,0,0])),c=S[r(411)](S[r(204)][r(222)],new E([0,0,0,0,n>>>24,n>>>16&255,n>>>8&255,255&n]));if(t[r(212)]){var h,f;if(t[r(469)]===r(434)?(h=!0,f=this[r(199)][r(434)]+(null==(i=t[r(446)][0].sampleAuxInfo)?void 0:i.byteLength)):(h=!1,f=this[r(199)][r(451)]),f>0){var v=this[r(392)](f),d=this[r(363)](t[r(446)],h),l=v.length+20+d.length+a[r(294)]+c[r(294)]+8+16+8+8,g=this[r(324)](t,l);return S[r(411)](S[r(204)][r(231)],a,c,g,v,this[r(364)](l-d[r(294)]+g[r(294)]+8),d)}var w=this[r(363)](null,!1),m=w[r(294)]+a[r(294)]+c.length+8+16+8+8,y=this[r(324)](t,m);return S[r(411)](S[r(204)][r(231)],a,c,y,w)}return S.box(S.types.traf,a,c,this[r(324)](t,a[r(294)]+c[r(294)]+8+16+8+8))},I[m]=function(t){var n=Oe;return t[n(191)]=t[n(191)]||4294967295,S.box(S[n(204)][n(315)],this[n(249)](t),this[n(298)](t))},I.trex=function(t){var n=Oe,i=t.id;return S[n(411)](S[n(204)][n(290)],new E([0,0,0,0,i>>>24,i>>>16&255,i>>>8&255,255&i,0,0,0,1,0,0,0,16,0,0,0,0,0,0,0,0]))},I.trun=function(t,n){var i=Oe,r=(t.samples||[]).length,e=new E(12);return n+=20,e[i(311)]([0,0,0,1,r>>>24,r>>>16&255,r>>>8&255,255&r,n>>>24,n>>>16&255,n>>>8&255,255&n],0),S.box(S.types[i(324)],e)},I[y]=function(t,n){var i,r,e,u=Oe,s=u(373),o=u(257),a=function(t){var n=function(t){for(var n=Oe,i="",r=0;r<t.length;r+=16e3){var e=t[n(453)](r,r+16e3);i+=String[n(299)][n(187)](null,e)}return i}(Ze(t));return btoa(n)}((i=t,(e=[])[(r=Oe)(462)](i[3]),e[r(462)](i[2]),e[r(462)](i[1]),e[r(462)](i[0]),e.push(i[5]),e.push(i[4]),e.push(i[7]),e.push(i[6]),(i=Ze(i))[r(311)](e,0),i));return Ze(function(t,n){for(var i=Oe,r=new E(2*t.length),e=new DataView(r[i(492)]),u=0;u<t[i(294)];++u){var s=t[i(431)](u);e[i(221)](2*u,s,!0)}return r[i(492)]}([u(300)+o+u(422)+s+'">',"<DATA>",u(239),"<KIDS>",u(417),u(243)+a+'"',">",u(245),u(270),"</PROTECTINFO>",n?u(470)+n+u(409):"",u(428),u(289)][u(420)]("")))},I[p]=function(t){var n=Oe;if(this[n(432)][n(440)][n(328)]("com.widevine"))return S[n(411)](S[n(204)][n(430)],new E([0,0,0,0,237,239,139,169,121,214,74,206,163,200,39,220,213,29,33,237,0,0,0,18,18,16].concat(Ft(this[n(432)][n(366)][t[0][n(469)]][n(479)]))));if(this[n(432)].keySystem===n(421)){var i=this[n(192)](this[n(432)][n(366)][t[0].type][n(479)],this.drm.licenseUrl),r=i[n(442)];return S[n(411)](S[n(204)][n(430)],new E([0,0,0,0,154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149,r>>>24,r>>>16&255,r>>>8&255,255&r].concat(Ft(i))))}return this[n(432)][n(440)]===n(273)?S[n(411)](S[n(204)][n(430)],new E([1,0,0,0,16,119,239,236,192,178,77,2,172,227,60,30,82,226,251,75,0,0,0,1].concat(Ft(this.drm.config[t[0][n(469)]][n(479)]),[0,0,0,0]))):this[n(432)][n(440)]===n(286)?null:void console[n(370)](n(297)+this[n(432)].keySystem)},I[_]=function(t){var n,i,r=Oe,e=this[r(432)][r(366)][t];return"cbcs"===e.encryption?(n=new E([16].concat(Ft(e.iv))),i=25):(n=new E([]),i=0),S[r(411)](S[r(204)].tenc,new E([1,0,0,0,0,i,1,this[r(199)][t]].concat(Ft(e[r(479)]),Ft(n))))},I[b]=function(t){return S[Oe(411)](S.types.saiz,new E([0,0,0,0,t,0,0,0,1]))},I[k]=function(t){var n=Oe;return S[n(411)](S[n(204)][n(364)],new E([0,0,0,0,0,0,0,1,t>>>24,t>>>16&255,t>>>8&255,255&t]))},I[A]=function(t,n){var i=Oe,r=null;return t&&(1!==t[i(294)]&&console[i(370)](i(424)+t[i(294)]+i(413)),r=t[0][i(195)]),r&&r[i(442)]?S[i(411)](S[i(204)][i(363)],new E([0,0,0,n?2:0,0,0,0,1].concat(Ft(r)))):S[i(411)](S[i(204)][i(363)],new E([0,0,0,0,0,0,0,1]))},I[T]=function(t,n,i){var r=Oe,e=this[r(216)](t,n,i),u=new E(S[r(341)][r(442)]+e.byteLength);return u.set(S[r(341)]),u[r(311)](e,S[r(341)].byteLength),u},S[t]=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];for(var e,u=Oe,s=8,o=i.length,a=o;o--;)i[o]&&(s+=i[o].byteLength);for((e=new E(s))[0]=s>>>24,e[1]=s>>>16&255,e[2]=s>>>8&255,e[3]=255&s,e[u(311)](t,4),o=0,s=8;o<a;++o)i[o]&&(e[u(311)](i[o],s),s+=i[o][u(442)]);return e},S}(Oe(411),Oe(246),Oe(298),Oe(429),Oe(265),Oe(460),Oe(210),Oe(356),Oe(415),Oe(333),Oe(369),Oe(296),Oe(264),Oe(468),Oe(402),Oe(249),Oe(231),Oe(315),Oe(192),Oe(430),Oe(314),Oe(392),Oe(364),Oe(363),Oe(271)),Ke=1,qe=function(t,n,i){function r(){this[Oe(283)]=1}var e=r.prototype;return e[n]=function(){var t=Oe;this[t(274)][t(215)]=0,this.mp4track[t(446)]=[]},e[i]=function(){var t=Oe;return!(!this.readyToDecode||!this[t(446)][t(294)])},r[t]=function(){return Ke++},r}(Oe(209),Oe(250),Oe(258)),Je=function(t){function n(n){var i,r=Oe;return(i=t.call(this)||this)[r(435)]=!0,i[r(223)]=0,i[r(237)]=0,i[r(274)]={id:qe[r(209)](),type:"audio",channelCount:2,audiosamplerate:48e3,len:0,fragmented:!0,timescale:n,duration:n,samples:[],codec:r(388),encrypted:!0},i[r(446)]=[],i}It(n,t);var i=n.prototype;return i.resetTrack=function(){var t=Oe;this[t(283)]=1,this[t(223)]=0,this[t(237)]=0},i[Oe(406)]=function(t,n,i){var r=Oe;if(t.length>0)for(var e=0;e<t[r(294)];e++){var u=t[e],s=u[r(276)],o=s[r(442)];this.samples.push({units:s,size:o,duration:u.duration,sampleAuxInfo:n,timestamp:i}),this[r(274)][r(215)]+=o}},i[Oe(248)]=function(){var t=Oe;if(!this[t(446)])return null;for(var n,i=this[t(274)][t(446)];this.samples[t(294)];){var r=this[t(446)][t(233)](),e=(1e3*r[t(385)]|0)-this.nextDts|0;e<5&&(e=5),this.dts=this.nextDts,this[t(223)]+=e,n={size:r.size,duration:e,cts:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1},sampleAuxInfo:r[t(195)]};var u=new E(r.size);return u[t(311)](r.units,0),i.push(n),new E(u.buffer,0,r[t(483)])}return null},n}(qe),Qe=function(t){function n(n,i){var r,e=Oe;return(r=t.call(this)||this)[e(435)]=!1,r.nextDts=0,r[e(237)]=0,r[e(477)]=i,r.mp4track={id:qe[e(209)](),type:e(434),len:0,fragmented:!0,sps:"",pps:"",width:0,height:0,timescale:n,duration:n,samples:[],encrypted:!0},r[e(446)]=[],r[e(220)]=new ze(r),r}It(n,t);var i=n.prototype;return i[Oe(426)]=function(){var t=Oe;this[t(283)]=1,this.readyToDecode=!1,this[t(274)].sps="",this[t(274)][t(362)]="",this[t(223)]=0,this[t(237)]=0},i[Oe(406)]=function(t,n,i){for(var r=Oe,e=0;e<t.length;e++){for(var u=t[e],s=[],o=0,a=0,c=u[r(276)];a<c.length;a++){var h=c[a];this.h264[r(368)](h)&&(s[r(462)](h),o+=h.getSize())}s[r(294)]>0&&this[r(435)]&&(this[r(274)][r(215)]+=o,this[r(446)][r(462)]({units:s,size:o,keyFrame:u.keyFrame,duration:u[r(191)],sampleAuxInfo:n,timestamp:i}))}},i[Oe(248)]=function(){var t=Oe;if(!this[t(258)]()||!this.samples)return null;var n,i=this[t(274)][t(446)],r=this.samples[t(233)](),e=r[t(276)],u=(1e3*r.timestamp|0)-this[t(223)]|0;u<5&&(u=5),f[t(251)]&&u>5e3&&console[t(383)]("timestamp gap: "+(u/1e3|0)+" s"),this[t(237)]=this[t(223)],this.nextDts+=u,n={size:r[t(483)],duration:u,cts:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,isNonSync:r[t(275)]?0:1,dependsOn:r.keyFrame?2:1},sampleAuxInfo:r[t(195)]};for(var s=0,o=0;o<e.length;o++)s+=e[o][t(349)]();for(var a=0,c=new E(s),h=0;h<e.length;h++){var v=e[h];c[t(311)](v[t(343)](),a),a+=v[t(349)]()}return i[t(462)](n),new E(c[t(492)],0,s)},n}(qe),$e=function(t){function n(n,i){var r,e=Oe;return(r=t.call(this,e(345))||this).initialized=!1,r.trackTypes=[],r[e(414)]={},r[e(393)]=1e3,r.mediaDuration=0,r[e(477)]=n,r[e(375)]=i,r}It(n,t);var i=n.prototype;return i.addTrack=function(t){var n=Oe;(t===n(434)||"both"===t)&&(this[n(414)][n(434)]=new Qe(this[n(393)],this.videoElement),this[n(480)][n(462)](n(434))),(t===n(451)||t===n(303))&&(this[n(414)][n(451)]=new Je(this.timescale),this[n(480)][n(462)](n(451)))},i.reset=function(){for(var t=Oe,n=0,i=this[t(480)];n<i.length;n++){var r=i[n];this[t(414)][r][t(426)]()}this[t(489)]=!1},i[Oe(355)]=function(){var t=Oe;this[t(414)]={},this[t(490)]()},i[Oe(250)]=function(){var t=Oe;if(this[t(489)])for(var n=0,i=this[t(480)];n<i.length;n++)for(var r=i[n],e=this[t(414)][r];;){var u=e.getFramePayload();if(!u||!u[t(442)])break;var s={type:r,payload:Fe(this[t(375)][t(460)](e[t(283)]++,e[t(237)],e[t(274)]),this[t(375)][t(458)](u)),dts:e[t(237)]};this[t(255)](t(492),s),e[t(250)]()}else this[t(258)]()&&(this[t(255)](t(205)),this[t(271)](),this[t(489)]=!0,this[t(250)]())},i.initSegment=function(){for(var t=Oe,n=0,i=this[t(480)];n<i.length;n++){var r=i[n],e=this[t(414)][r],u={type:r,payload:this[t(375)][t(271)]([e[t(274)]],this[t(433)],this[t(393)])};this.dispatch(t(492),u)}},i.isReady=function(){for(var t=Oe,n=0,i=this.trackTypes;n<i.length;n++){var r=i[n];if(!this[t(414)][r][t(435)]||!this[t(414)][r].samples[t(294)])return!1}return!0},i[Oe(406)]=function(t){for(var n=Oe,i=0,r=this[n(480)];i<r.length;i++){var e=r[i],u=t[e];u.length>0&&this[n(414)][e][n(406)](u,e===n(451)?t[n(225)]:t.videoSampleAuxInfo,t[n(385)])}this.flush()},n}(Ye),tu=function(t){function n(n,i,r){var e,u=Oe;return(e=t.call(this,u(492))||this)[u(469)]=i,e.queue=new E,f[u(319)]&&(e[u(254)]=new E,e[u(404)]=0),e.sourceBuffer=n,e[u(218)]=r,e[u(197)]=!1,e[u(310)].addEventListener(u(370),(function(t){var n=u;console.warn(n(201),t,e.type),e[n(197)]=!0,e[n(255)](n(370),{type:e[n(469)],name:"buffer",error:n(292)})})),e}It(n,t);var i=n.prototype;return i[Oe(355)]=function(){var t=Oe;this[t(401)]=null,this[t(254)]=null;try{this.sourceBuffer&&(this[t(310)][t(186)](),this[t(218)].removeSourceBuffer(this[t(310)]),this[t(310)]=null)}catch(t){}this.offAll()},i[Oe(475)]=function(){var t=Oe;if(this.queue[t(294)]&&this[t(310)]&&!this[t(310)].updating){if(this[t(310)].buffered[t(294)]>1){for(var n=0;n<this[t(310)].buffered[t(294)];++n){var i=n<this[t(310)].buffered[t(294)]-1;f[t(251)]&&console[t(383)](t(445)+n+(i?" (remove)":"")+": "+this[t(310)][t(269)][t(326)](n)+t(325)+this[t(310)][t(269)][t(376)](n)),i&&this.sourceBuffer[t(482)](this[t(310)][t(269)].start(n),this[t(310)].buffered[t(376)](n))}if(this.sourceBuffer[t(378)])return}try{this[t(310)][t(491)](this[t(401)]),this.queue=new E}catch(n){this[t(255)](t(370),{type:this[t(469)],name:t(352),error:n})}}},i[Oe(371)]=function(t){var n=Oe;if(this[n(254)]&&(this.dbgQueue=Fe(this[n(254)],t),100==++this[n(404)])){var i=(new Date)[n(344)]().substring(0,19)[n(454)](":","-"),r=this.type+"-"+i+".mp4";f.downloadToFile(this[n(254)],r),this[n(254)]=null}this[n(197)]||(this[n(401)]=Fe(this[n(401)],t)),this.doAppend()},n}(Ye),nu=function(t){function n(n){var i,r=Oe;return(i=t.call(this,r(397))||this)[r(197)]=!1,i[r(410)]=!0,i[r(466)]=!1,i[r(234)]=!1,i.mseEnded=!1,i[r(379)]=b[r(189)]({},{node:"",mode:"video",debug:!1,onReady:function(){},onError:function(t){}},n),i[r(450)]=U(i.options[r(450)])===r(302)?v[r(472)](i.options.node):i[r(379)].node,i[r(432)]=n.drm,i.mp4=new je(i.drm),i[r(423)]=new $e(i.node,i[r(375)]),i[r(423)].addTrack(i[r(379)][r(461)]),i[r(423)].on(r(492),i[r(456)].bind(i)),i[r(423)].on(r(205),i[r(382)][r(308)](i)),i.initBrowser(),i}It(n,t);var i=n.prototype;return i[Oe(322)]=function(){var t=Oe;U(this.options.node)===t(302)&&""==this.options[t(450)]&&console[t(370)](t(473)),this[t(234)]=!1,this.setupMSE()},i.setupMSE=function(){var t=Oe;if(!f[t(202)]&&!f[t(384)])throw t(452);f.ManagedMediaSource?(this.node[t(427)]=!0,this[t(327)]=new ManagedMediaSource):this[t(327)]=new MediaSource,this[t(284)]=URL[t(244)](this[t(327)]),this.node[t(485)]=this[t(284)],this[t(277)]=!1,this[t(327)][t(331)](t(338),this.onMSEOpen[t(308)](this)),this.mediaSource.addEventListener("sourceclose",this[t(241)][t(308)](this)),this[t(327)][t(331)]("webkitsourceopen",this[t(194)][t(308)](this)),this.mediaSource[t(331)](t(240),this[t(241)].bind(this)),this[t(327)][t(331)]("error",(function(n){var i=t;console[i(370)](i(287),n[i(226)])}))},i[Oe(227)]=function(){var t=Oe;if(!this[t(277)])try{this.mseEnded=!0,this[t(327)][t(185)]===t(399)&&this[t(327)][t(261)]()}catch(n){console[t(370)]("mediasource is not available to end: ",n)}},i[Oe(359)]=function(){this[Oe(410)]=!0},i[Oe(371)]=function(t){var n=Oe,i={video:[],audio:[]};if(this[n(197)]||this[n(277)]||!t||!this[n(423)])return-1;if(t[n(434)]){i.timestamp=t.timestamp;var r=this[n(190)](t.videoSampleAuxInfo,this.mp4[n(199)][n(434)]),e=r!=t[n(434)][n(442)],u=ze[n(360)](t[n(434)],e);if(!u[n(206)]||u[n(260)].length<1)return 0;if(this.waitingForIdr){if(!u[n(412)])return 0;this[n(410)]=!1}if(!Ve&&t[n(278)]){var s=u[n(260)][n(188)]((function(t,i){return t+4+i[n(442)]}),0);s!==r&&this[n(400)](t[n(278)],this.mp4[n(199)][n(434)],s-r)}i[n(434)]=this[n(335)](u[n(260)]),i[n(278)]=t[n(278)]}return t[n(451)]&&(i[n(385)]=t[n(385)],i[n(451)]=[{units:t.audio}],i.audioSampleAuxInfo=t[n(225)]),t[n(434)]||t[n(451)]?(this[n(423)][n(406)](i),0):(console.error(n(361)),0)},i[Oe(335)]=function(t){for(var n=Oe,i=[],r=[],e=!1,u=!1,s=0;s<t.length;s++){var o=t[s],a=new Ge(o);a.type()!==Ge.IDR&&a[n(469)]()!==Ge.NDR||ze[n(448)](a),i[n(294)]&&u&&(a[n(387)]||!a[n(495)])&&(r[n(462)]({units:i,keyFrame:e}),i=[],e=!1,u=!1),i[n(462)](a),e=e||a[n(459)](),u=u||a[n(495)]}if(i[n(294)])if(u)r[n(462)]({units:i,keyFrame:e});else{var c=r[n(294)]-1;c>=0&&(r[c].units=r[c][n(276)].concat(i))}return 1!==r[n(294)]&&console[n(230)](n(207)+r[n(294)]),r},i[Oe(190)]=function(t,n){var i=Oe;if(!t)return 0;for(var r=(t[0]<<8)+t[1],e=n+2+4,u=0,s=2;0<r&&s+e<=t[i(442)];){var o=(t[s+=n]<<8)+t[s+1],a=(t[s+2]<<24)+(t[s+3]<<16)+(t[s+4]<<8)+t[s+5];s+=6,u+=o+a}return u},i.patchSampleAuxinfo=function(t,n,i){var r=Oe,e=2;if(0<(t[0]<<8)+t[1]&&e+(n+2+4)<=t[r(442)]){var u=(t[e+=n]<<8)+t[e+1];(u+=i)>=0&&(t[e]=u>>>8&255,t[e+1]=255&u)}return 0},i[Oe(382)]=function(){var t=Oe;if(this[t(234)]&&this[t(423)]&&this[t(423)].isReady()&&!this.bufferControllers)for(var i in this.bufferControllers={},this[t(423)][t(414)]){var r=this[t(423)][t(414)][i],e="".concat(i,t(317))[t(365)](r[t(274)][t(449)],'"');if(f.clRtcDrmDebugLog&&console[t(383)](t(312),e),!n[t(408)](e))return console[t(370)](t(372)),!1;var u=this[t(327)][t(350)](e);this[t(398)][i]=new tu(u,i,this[t(327)]),this.bufferControllers[i].on(t(370),this[t(403)][t(308)](this))}},i[Oe(313)]=function(){var t=Oe;for(var n in this[t(398)])this[t(398)][n].doAppend()},i.onBuffer=function(t){var n=Oe;this[n(234)]&&this[n(398)]&&this[n(398)][t.type]&&this[n(398)][t[n(469)]][n(371)](t[n(214)])},i[Oe(194)]=function(){var t=Oe;f[t(251)]&&console.info("[MSE] sourceopen"),this[t(327)][t(185)]!==t(281)&&(this.mediaSource.duration=Number[t(391)],this[t(234)]=!0,"function"==typeof this[t(379)][t(336)]&&this[t(379)].onReady[t(394)](null,this[t(466)]),URL[t(235)](this.url),this[t(382)]())},i[Oe(241)]=function(){var t=Oe;f.clRtcDrmDebugLog&&console[t(383)](t(441)),this.mseReady=!1,this[t(227)]()},i[Oe(403)]=function(t){var n=Oe;console.warn(n(351),t),this.irrecoverableError=!0,this[n(227)](),"function"==typeof this[n(379)][n(266)]&&this[n(379)][n(266)][n(394)](null,t)},n.isSupported=function(t){var n=Oe;return f[n(202)]?f.ManagedMediaSource[n(497)](t):!!f[n(384)]&&f.MediaSource[n(497)](t)},n}(Ye);function iu(t,n){var i=ru();return(iu=function(t,n){return i[t-=222]})(t,n)}function ru(){var t=["pv","1634635aeNfVS","4rWkceo","1051qHPzyB","314juHkBI","7752096GfpyFE","1023208nKrJjX","2137269uUqtNM","303058KNxeBb","1097196nHglzA"];return(ru=function(){return t})()}!function(){for(var t=iu,n=ru();;)try{if(A(t(228))/1*(-A(t(229))/2)+-A(t(222))/3*(A(t(227))/4)+A(t(226))/5+A(t(224))/6+A(t(223))/7+-A(t(231))/8+A(t(230))/9==409100)break;n.push(n.shift())}catch(t){n.push(n.shift())}}();var eu=uu;function uu(t,n){var i=cu();return(uu=function(t,n){return i[t-=460]})(t,n)}!function(){for(var t=uu,n=cu();;)try{if(-A(t(471))/1*(-A(t(474))/2)+A(t(479))/3+A(t(473))/4*(A(t(461))/5)+A(t(487))/6+-A(t(467))/7+-A(t(482))/8+-A(t(464))/9==139726)break;n.push(n.shift())}catch(t){n.push(n.shift())}}();var su="CrsCCAMSEKDc0WAwLAQT1SB2ogyBJEwYv4Tx7gUijgIwggEKAoIBAQC8Xc/GTRwZDtlnBThq8"+eu(462)+"wyoYOE+M/t1oIbccwlTQ7o+BpV1X6TB7fxFyx1jsBtRsBWphU65w121zqmSiwzZzJ4xsXVQCJ"+eu(460)+eu(476)+eu(480)+eu(484)+eu(485)+"7hyskG5ZLAyJMzTvgnV3D8/I5Y6mCFBPb/+/Ri+9bEvquPF3Ff9ip3yEHu9mcQeEYCeGe9zR/27eI5MATX39gYtCnn7dDXVxo4/rCYK0A4VemC3HRai2X3pSGcsKY7+6we7h4IycjqtuGtYg8A"+eu(475)+"RL9KsD0v7ysBQVdUXEbJotcFz71tI5qc3jwr6GjYIPA3VzusD17PN6AGQniMwxJV12z/EgnUo"+eu(477),ou=E[eu(478)](f[eu(470)](su),(function(t){return t.charCodeAt(0)})),au=function(){function t(t){this[eu(488)]=t}var n=t.prototype;return n[eu(469)]=function(){return this[eu(488)]},n[eu(483)]=function(){var t=eu;switch(this[t(488)]){case t(489):return"https://lic.staging.drmtoday.com";case t(465):return t(481);default:return t(466)}},n.certificate=function(){return ou},t}();function cu(){var t=["development","https://lic.drmtoday.com","462553oMrSQp","Staging","toString","atob","20047HjYCpd","Development","52chMPdC","6mbMcSk","baigovcoURAZcr1d/G0rpREjLdVLG0Gjqk63Gx688W5gh3TKemsK3R1jV0dOfj3e6uV/kTpsN","+vwmV2/NJWxKqHBKdL9JqvOnNiQUF0hDI7Wf8Wb63RYSXKE27Ky31hKgx1wuq7TTWkA+kHnJT","pcFB13osydpD2AaDsgWo5RWJcNf+fzCgtUQx/0Au9+xVm5LQBdv8Ja4f2oiHN3dw","from","146355HhTpSB","UrTEfQxfPR4dJTquE+IDLAi5yeVVxzbAgMBAAE6DGNhc3RsYWJzLmNvbUABEoADMmGXpXg/0q","https://lic.test.drmtoday.com","501688OkVRMl","baseUrl","xUuwokpsqVIHZrJfu62ar+BF8UVUKdK5oYQoiTZd9OzK3kr29kqGGk3lSgM0/p499p/FUL8oH","HzgsJ7Hajdsyzn0Vs3+VysAgaJAkXZ+k+N6Ka0WBiZlCtcunVJDiHQbz1sF9GvcePUUi2fM/h","Production","1063410zFUyaf","name","staging","pQnNI61gzHO42XZOMuxytMm0F6puNHTTqhyY3Z290YqvSDdOB+UY5QJuXJgjhvOUD9+oaLlvT","93365ZJpndd","V382D1oJAM0F/YgCQtNDLz7vTWJ+QskNGi5Dd2qzO4s48Cnx5BLvL4H0xCRSw2Ed6ekHSdrRU","production","2343546YgIYCY"];return(cu=function(){return t})()}function hu(t,n){var i=fu();return(hu=function(t,n){return i[t-=325]})(t,n)}function fu(){var t=["1052499bnJBHn","cenc","4222tSxFth","Unsupported SampleAuxInfo version","12980Tusgux","3160ZwXFcU","40030ewyARR","16lkTHRT","1199124lbwxEr","data","105TSrukA","getUint8","12bBEpge","SampleAuxInfo corrupted (postfix not found)","getUint16","error","85265ZYYyUv","buffer","3616548TKdsLX","subarray","byteLength","SampleAuxInfo corrupted"];return(fu=function(){return t})()}function vu(t,n){var i=wu();return(vu=function(t,n){return i[t-=295]})(t,n)}au[eu(468)]=new au(eu(489)),au[eu(486)]=new au(eu(463)),au[eu(472)]=new au(eu(465)),function(){for(var t=hu,n=fu();;)try{if(A(t(328))/1+-A(t(332))/2*(-A(t(336))/3)+-A(t(338))/4*(-A(t(342))/5)+-A(t(344))/6+-A(t(326))/7*(A(t(333))/8)+A(t(334))/9+A(t(331))/10*(A(t(330))/11)==358550)break;n.push(n.shift())}catch(t){n.push(n.shift())}}(),function(){for(var t=vu,n=wu();;)try{if(A(t(305))/1*(-A(t(297))/2)+-A(t(295))/3+A(t(310))/4*(A(t(309))/5)+-A(t(304))/6*(A(t(296))/7)+A(t(307))/8*(-A(t(298))/9)+-A(t(301))/10*(A(t(302))/11)+-A(t(300))/12*(-A(t(308))/13)==178039)break;n.push(n.shift())}catch(t){n.push(n.shift())}}();var du=[],lu=null,gu=0;function wu(){var t=["31476hbBsvr","850RxzAPl","4180KczaCN","push","156MUFuvQ","96571jvhWaB","buffer","26232BkewNd","4303YGAqiP","5yhGpFn","1137036pzCnTd","1035942NcoZLh","94073eTaQjy","2bXtEms","414snfiTE","slice"];return(wu=function(){return t})()}var mu=ku;function yu(){var t=["Data does not seem to be UTF-16 encoded!","No init data available!","getElementsByTagName","min","14BFNrBA","keystatuseschange","catch","childNodes","internal-error","Failed to reuse previous EME session: ","output-downscaled","expired","bind","5576688EKOFOG","has","length","License acquisition failed with error ","arrayBuffer","apply","CDM error generating license request: ","<Challenge","No PR challenge data!","then","license","createSession","warn","[PR] License fetched:","text/xml","clRtcDrmDebugLog","push","encode","max","json"," is not ","replace","target","rtcdrmerror","update","fromCharCode","subarray","2993694njpqat","4002692oINhTV","Content-Type","1347492MkzfDC","Data has an incorrect length, must be even.","addEventListener","buffer","onFetch","generateRequest","initData","dispatchEvent","atob","No clear key test key provided!","Challenge","New lic will be requested","oct","BYTES_PER_ELEMENT","sessionId","usable for decryption (status: ","[WV] License fetched:","Key ","5MtuOVr","byteLength","744563CKOUzg","load","floor","error","decode","indexOf","info","isSafari","edef8ba979d64acea3c827dcd51d21ed","mediaKeys","Previous lic will be reused","charCodeAt","licenseUrl","status","Failed to update the session: ","log","keyStatuses","temporary","9a04f07998404286ab92e65be0885f95","output-restricted","nodeValue","btoa","message","EME createSession() failed - no DRM available","5977680uUTwUr","getUint16","[PR] Challenge node not found","A128KW","3974463jrELhf","Failed to update the session","stringify","[EME]","delete","No media keys for media element!","set","2nMQfRz"];return(yu=function(){return t})()}!function(){for(var t=ku,n=yu();;)try{if(-A(t(419))/1*(A(t(454))/2)+A(t(495))/3+A(t(496))/4*(-A(t(417))/5)+-A(t(498))/6*(-A(t(459))/7)+A(t(468))/8+-A(t(447))/9+A(t(443))/10==555073)break;n.push(n.shift())}catch(t){n.push(n.shift())}}();var pu={licenseUrl:"",onFetch:void 0},_u={},bu=function(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=1/0),function(t,n,i){var r=ku,e=E[r(511)];n*=e,i*=e;var u,s=(u=t)instanceof ArrayBuffer?u:u[ku(501)],o=t[r(418)],a=n,c=k[r(486)](0,k[r(458)](a,o)),h=k[r(458)](c+k[r(486)](i,0),o);return new E(s,c/=e,(h/=e)-c)}(t,n,i)};function ku(t,n){var i=yu();return(ku=function(t,n){return i[t-=417]})(t,n)}var Au=function(t){for(var n=ku,i="",r=0;r<t.length;r++){var e=t[r].toString(16);1==e[n(470)]&&(e="0"+e),i+=e}return i},Tu=null,Su=function(t){var n=ku;return f[n(440)](String[n(493)][n(473)](null,t))[n(489)](/\+/g,"-")[n(489)](/\//g,"_")[n(489)](/=*$/,"")},Eu=function(t,n){var i=ku,r=function(t){var n=ku,i=JSON.parse((new TextDecoder)[n(423)](t));if(console[n(434)]("CK license request:",i),null===Tu)throw new p(n(507));for(var r=[],e=0,u=i.kids;e<u.length;e++){var s=u[e],o={kty:n(510),alg:n(446),kid:s,k:Su(Tu)};r[n(484)](o)}return(new TextEncoder)[n(485)](JSON[n(449)]({keys:r}))}(n.message);n[i(490)][i(492)](r)[i(461)]((function(t){var n=i;console[n(422)](n(448),t)}))},Iu=function(t){for(var n=ku,i=f[n(506)](t[n(489)](/-/g,"+")[n(489)](/_/g,"/")),r=new E(i[n(470)]),e=0;e<i.length;++e)r[e]=i[n(430)](e);return r},Ru=function(t,n){for(var i=arguments.length,r=new Array(i>2?i-2:0),e=2;e<i;e++)r[e-2]=arguments[e];return ke(void 0,[t,n].concat(Ft(r)),void 0,(function(t,n,i){var r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return void 0===i&&(i=!1),r=ku,e=new Headers(_u),i&&e.append(r(497),r(482)),u={method:"POST",headers:e,body:n},[4,pu[r(502)]?pu[r(502)](t,u):fetch(t,u)];case 1:if(!(s=o.sent()).ok)throw new p(r(471)+s[r(432)]);return[2,s]}}))}))},Cu=function(t,n){var i=ku;Ru(pu[i(431)],n[i(441)])[i(477)]((function(t){return t[i(487)]()}))[i(477)]((function(t){var r=i;f[r(483)]&&console.info(r(514),t.license);var e=Iu(t[r(478)])[r(501)];n[r(490)][r(492)](e)[r(461)]((function(t){console[r(422)]("Failed to update the session",t)}))}))[i(461)]((function(n){var r=i;t.dispatchEvent(new CustomEvent(r(491),{detail:{message:""+n}})),console[r(422)](n)}))},Nu=function(t,n){var i=ku,r=function(t,n){var i=ku,r=new DOMParser;try{var e=function(t,n,i){void 0===i&&(i=!1);var r=ku;if(!t)return"";var e=t;if(!i&&e.byteLength%2!=0)throw console[r(422)](r(499)),new p(r(455));var u,s=bu(e);if((255===s[0]&&254===s[1]||254===s[0]&&255===s[1])&&(e=s[r(494)](2)),e instanceof ArrayBuffer)u=e;else{var o=new E(e[r(418)]);o[r(453)](bu(e)),u=o[r(501)]}for(var a=k[r(421)](e.byteLength/2),c=new Uint16Array(a),h=new DataView(u),f=0;f<a;f++)c[f]=h[r(444)](2*f,n);return function(t){for(var n=ku,i="",r=0;r<t[n(470)];r+=16e3){var e=t[n(494)](r,r+16e3);i+=String[n(493)].apply(null,e)}return i}(c)}(n,!0);if(e[i(424)](i(475))>-1){var u=r.parseFromString(e,i(482))[i(457)](i(508))[0][i(462)][0][i(439)];if(null===u)throw new p("No PR challenge data!");return Iu(u)}console[i(480)](i(445))}catch(n){t.dispatchEvent(new CustomEvent(i(491),{detail:{message:""+n}})),console.error(n)}return null}(t,n.message);if(null===r)return t[i(505)](new CustomEvent("rtcdrmerror",{detail:{message:"No PR challenge data!"}})),void console.error(i(476));Ru(pu[i(431)],r[i(501)],!0)[i(477)]((function(t){return t[i(472)]()}))[i(477)]((function(r){var e=i;f[e(483)]&&console[e(425)](e(481),r),n[e(490)].update(r)[e(461)]((function(n){var i=e;t[i(505)](new CustomEvent(i(491),{detail:{message:i(433)+n}})),console[i(422)](i(448),n)}))}))[i(461)]((function(n){var r=i;t.dispatchEvent(new CustomEvent("rtcdrmerror",{detail:{message:""+n}})),console[r(422)](n)}))},Du=function(t,n){var i=ku;Ru(pu[i(431)],n[i(441)])[i(477)]((function(t){var n=i,r=t.text();return f[n(483)]&&console.info("[FPS] License fetched:",t,r),r}))[i(477)]((function(t){var r=i;n[r(490)][r(492)](Iu(t))}))[i(461)]((function(n){var r=i;t.dispatchEvent(new CustomEvent(r(491),{detail:{message:""+n}})),console[r(422)](n)}))},Pu=function(t,n){_u[t]=n},xu=Me[mu(426)],Lu=!xu,Mu=new Map;function Ou(t){return ke(this,void 0,void 0,(function(){var n,i,r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:if(null===t[(n=ku)(504)])throw new p(n(456));if(null===(i=t[n(490)]))throw new p("No media element available!");if(null===(r=i[n(428)]))throw new p(n(452));e=Au(new E(t[n(504)])),u=e+i.id,s=null,Mu[n(469)](u)&&(null!=(s=Mu.get(u))&&s.close(),Mu[n(451)](u)),f[n(483)]&&console[n(425)](n(450),n(s?429:509)),o=null;try{o=r[n(479)](Lu?"persistent-license":"temporary")}catch(t){console[n(434)]("EME createSession(persistent) failed:",t)}if(!o&&Lu){Lu=!1;try{o=r[n(479)](n(436))}catch(t){console[n(422)]("EME createSession(temporary) failed:",t)}}if(!o)return[3,7];if(o[n(500)](n(460),(function(t){var r=n;t[r(490)][r(435)].forEach((function(t,n){var e=r;(t===e(466)||t===e(438)||t===e(465)||t===e(463))&&i[e(505)](new CustomEvent(e(491),{detail:{message:e(515)+Au(new E(n))+e(488)+(e(513)+t+")"),keyId:n}}))}))})),xu?o.addEventListener(n(441),Du[n(467)](null,i),!1):-1!==e[n(424)](n(427))?o.addEventListener(n(441),Cu[n(467)](null,i),!1):-1!==e[n(424)](n(437))?o[n(500)](n(441),Nu[n(467)](null,i),!1):o.addEventListener("message",Eu[n(467)](null,i),!1),!s)return[3,5];c.label=1;case 1:return c.trys.push([1,3,,4]),[4,o[n(420)](s[n(512)])];case 2:return c.sent()?Mu[n(453)](u,o):i.dispatchEvent(new CustomEvent(n(491),{detail:{message:"Failed to load previous EME session"}})),[3,4];case 3:return a=c.sent(),i[n(505)](new CustomEvent(n(491),{detail:{message:n(464)+a}})),[3,4];case 4:return[3,6];case 5:o[n(503)](t.initDataType,t[n(504)]).then((function(){Lu&&Mu[n(453)](u,o)}))[n(461)]((function(t){var r=n;i[r(505)](new CustomEvent(r(491),{detail:{message:r(474)+t}}))})),c.label=6;case 6:return[3,8];case 7:i[n(505)](new CustomEvent(n(491),{detail:{message:n(442)}})),c.label=8;case 8:return[2]}}))}))}var Bu=us;function Vu(){var t=[" too close to seek, ","fpsCertificateUrl","9880640TWxZrg","H264","ignoreAudio","Unable to create Worker!","createMediaKeys(",", restart required: ","/license-proxy-headerauth/drmtoday/RightsManager.asmx","6236Nwzlef","worker","serverCertificateUrl","serverCertificate","seq",",255]).buffer,idrFrames.push(new Uint8Array([0,0,0,1,39,100,0,13,172,87,5,6,100,0,0,0,1,40,238,60,176,0,0,0,1,37,","ClearKey","No valid DRM config found, call rtcDrmConfigure first.","sessionId","toISOString","indexOf","robustness","isInteger","info","includes","Development","slice","16niaptx"," frame","video/mp4","isArray","Android","end","PlayReady","streamType","1772WtcYWF","]: ","Frame gap: ","nextKeyFrameAllowedTime","use rtcDrmFeedFrame to push frames manually","Error recovery attempted","merchant","FairPlay","requestMediaKeySystemAccess(","pipeThrough","/license-server-fairplay/","isChrome","type","MSE (re)init","const DUMMY_IDR_FRAME_SLICE_HDR0=new Uint8Array([32,0,203]),DUMMY_IDR_FRAME_SLICE_HDR1=new Uint8Array([16,0,50]);","DRM config env value must be one of: ","length","GOP is getting too long, requesting a new key frame","Worker","let brokenFrame=null,idrFrames=[];function initializeDummyFrames(){brokenFrame=new Uint8Array([0,0,0,1,65,154,255","srcObject","RTCRtpScriptTransform","),idrFrames.push(idrFrames[0].slice());let $=new Uint8Array(idrFrames[1]);$.set([16,0,50],27)}let idrPicIdToggle=","now"," to ","join","setServerCertificate","audioCapabilities","lastKeyFrameTime","prevSeqNum"," seeking from ",".experiment","clRtcDrmDebugLog","Server certificate fetch failed with error ","isFirefox","org.w3.clearkey","x-dt-custom-data","jitterBufferTarget","playbackRate","enabled","keyFrameNeeded","createEncodedStreams","wvCertificateUrl","key","sai","Discarding corrupted video frame (too small)",'gle^=1]}function audioTransformFunction($,e){postMessage({streamType:"audio",frame:{timestamp:$.timestamp,data:$.',"H264 is the only supported video codec.","com.microsoft.playready.recommendation"," will be used","DRM config iv must be an instance of 16-byte long Uint8Array.","encryption","0;function generateDummyFrame($){return(brokenFrame||initializeDummyFrames(),$)?brokenFrame:idrFrames[idrPicIdTog","toString","message","status","bytesSinceKey","currentTime","supportsRtpScriptTransform","1585647fRskxG","audioElement","track","sinf","createObjectURL","enqueue","Invalid videoElement, it must be an instance of HTMLVideoElement.","7302558TqFWae","pipeTo","SampleAuxInfo extraction failed (video)","isEdge","keys","not-allowed","rtcdrmerror","btoa","?audioTransformFunction:videoTransformFunction});e.pipeThrough(a).pipeTo(x)}self.RTCTransformEvent&&(self.onrtctr",", a1d1f1 is recommended).","reportDiscontinuity","onFetch","keyId","sessionTypes","). Edge only supports PlayReady, Widevine and ClearKey.","audioEncrypted","audioStartTimestamp","frame","videoStartTimestamp","184,32,0,203,255,38,29,217,24,192,161,96,0,0,12,229,174,166,6,7,20,3,84,0,247,96,193,181,229,128,0,32,32]).buffer","Duplicate/reordered frame, prev seq: ","ClearKey is not supported by Safari.","bind",") not found in [","DRM config robustness can only be one of: ","persistent-license","postMessage","receiver","get","both","jmuxer","Production","Blob","timestamp","cenc","emeConfig","clear","cbcs-1-9","5iKPdqC","isWindows","PlayReady license acquisition might fail without output protection enabled (sessionId is ","). Chrome only supports Widevine and ClearKey.","mediaBufferMs should be an integer.","size","certificate","prLicenseUrl","fpsLicenseUrl","/license-proxy-widevine/cenc/","4572770OAoUlm","BYTES_PER_ELEMENT","then","SW_SECURE_CRYPTO","ansform=$=>{let e=$.transformer;handleTransform(e.options.operation,e.readable,e.writable)}),onmessage=$=>{keyFra","splice","Safari doesn't support 'cenc'/AES-CTR, use 'cbcs' instead if possible.","videoElement","rtcDrmConfigure did not specify audioElement, audio will be dropped",'audio/mp4; codecs="opus"',"object","Invalid audioElement, it must be an instance of HTMLMediaElement.","keyFrameNeededPosted","debugCreateMediaDump","next","play","6591266VeIbXo","userId","jitterBufferDelayHint",'ame(keyFrameNeeded),e.enqueue($)}function handleTransform($,e,x){let a=new TransformStream({transform:"audio"===$',"dispatchEvent","reduce"," bytes, playback at ","offset","arrayBuffer","waitingForIdr","Widevine","DRM config mediaBufferMs should be an integer.","hwSecurity","authToken","audio"," bytes)","push","licenseUrl","Default transform mode enabled, ","RTCRtpScriptTransform/TransformStream will not be created, ","GET","baseUrl","video","trim","7377TdQrIK","3000","playoutDelayHint","catch","fpsCertificate","POSITIVE_INFINITY","/license-server-fairplay/cert/","DRM config:","streams","mediaBufferMs","log","codec","onmessage","Target video element (","Applying pre-configured certificate (","webkitURL","Discarding corrupted video frame (no Annex B startcode)"," requesting a new key frame (latency ","PlayReady might not support '","No target media element!","URL","set","warn","data","config","isSafari","forEach","setMediaKeys","buffered"," - ","keySystem",'data}}),e.enqueue($)}let keyFrameNeeded=!1;function videoTransformFunction($,e){postMessage({streamType:"video",f',"paused","wvCertificate","a1d1f1","2000","keyFrameRequestInterval","Several DRM configs detected, rtcDrmOnTrack have to be called with target DRM config.","error","238HZxcdH","HW_SECURE_ALL","Invalid DRM type (","buffer","x-dt-auth-token","clRtcDrmCreateMediaDump",'rame:{type:$.type,timestamp:$.timestamp,data:$.data}}),"key"===$.type&&(keyFrameNeeded=!1),$.data=generateDummyFr',"addEventListener",") failed","keyFrameLogCntr","feed","byteLength","kind","purchase","environment","videoCapabilities","requestMediaKeySystemAccess","temporary","). It has to be a string containing a JWT.","value",".. ","string"];return(Vu=function(){return t})()}!function(){for(var t=us,n=Vu();;)try{if(A(t(543))/1*(A(t(512))/2)+A(t(473))/3*(A(t(568))/4)+-A(t(672))/5*(-A(t(634))/6)+-A(t(536))/7+A(t(560))/8*(A(t(627))/9)+-A(t(682))/10+-A(t(449))/11==932877)break;n.push(n.shift())}catch(t){n.push(n.shift())}}();var Fu=Me[Bu(626)],Uu=Me[Bu(602)],Wu=Me[Bu(498)],Zu=Me[Bu(637)],Xu=Me[Bu(579)],Gu=Me.platform,Hu=Me[Bu(673)],zu=Zu||Xu&&Gu===Bu(564),Yu=1e6*(Uu?82:Wu?220:120),ju=Uu?5e3:2e3,Ku=Uu?1.5:.5;function qu(t){var n=Bu;return(void 0===t?"undefined":U(t))!==n(692)||null===t||t instanceof Element||t instanceof au?t:function(t){var n=Bu;return!!((null==t?void 0:t[n(515)])instanceof ArrayBuffer&&null!=t&&t[n(683)])}(t)?t[n(559)]():Array[n(563)](t)?t[n(454)]((function(t,n,i){return t[i]=qu(n),t}),[]):t instanceof b?b[n(638)](t)[n(454)]((function(n,i){return n[i]=qu(t[i]),n}),{}):t}var Ju=function(t){var n=Bu;this[n(545)]="",this.licenseUrl="",this[n(503)]="",this[n(669)]=[],this[n(497)]=qu(t),this[n(664)]=null,this[n(521)]=0,this[n(571)]=Date.now(),this.videoStartTimestamp=0,this.audioStartTimestamp=0,this.prevSeqNum=-1,this[n(596)]=0,this[n(624)]=0,this.keyFrameNeeded=!0,this.keyFrameNeededPosted=!1,this.keyFrameRequestInterval=ju,this.worker=null},Qu=new Map,$u=new E([60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60]),ts=new E([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1]),ns=new E([213,251,214,184,46,217,62,78,249,138,228,9,49,238,51,183]);function is(t){var n=Bu,i=!1;if((t[n(497)].video&&"clear"!==t[n(497)].video[n(619)]&&"HW"===t.config[n(471)][n(554)]||t[n(497)][n(463)]&&t[n(497)][n(463)].encryption!==n(670)&&"HW"===t[n(497)][n(463)][n(554)])&&(i=!0),t.hwSecurity=i,function(t,n){var i=Bu;void 0!==n&&(t[i(497)][i(482)]=n),(void 0===t[i(497)][i(482)]||t[i(497)].mediaBufferMs<0)&&(t.config[i(482)]=100,Uu?t[i(497)][i(482)]=350:!Wu&&Hu&&(t[i(497)][i(580)]===i(566)||t[i(461)])&&(t[i(497)][i(482)]=1400))}(t,t[n(497)][n(482)]),void 0===t.config.authToken){void 0===t.config[n(450)]&&(t[n(497)][n(450)]=n(525)),void 0===t[n(497)][n(551)]&&(t.config[n(551)]=n(507));var r=f[n(641)](JSON.stringify({userId:t.config[n(450)],sessionId:t[n(497)][n(551)],merchant:t.config[n(574)]}));Pu(n(604),r)}else Pu(n(516),t.config[n(462)]);for(var e=0,u=[t[n(497)].audio,t[n(497)][n(471)]];e<u.length;e++){var s=u[e];s&&s[n(619)]!==n(670)&&(s[n(646)]||(s[n(646)]=ts),s.iv||(s.iv=ns))}t[n(546)]=void 0,t[n(545)]="",t[n(466)]="";var o,a=t.config[n(526)][n(470)]();if(t[n(497)][n(580)]===n(549)?(t.keySystem=n(603),Tu=$u):t.config.type===n(459)?(t[n(503)]="com.widevine.alpha",Hu&&i&&(t[n(503)]+=n(599)),t.config.wvCertificate?t[n(546)]=t[n(497)][n(506)]:t[n(497)][n(610)]?t[n(545)]=t[n(497)][n(610)]:t[n(546)]=t.config[n(526)][n(678)](),t.config.wvLicenseUrl?t[n(466)]=t[n(497)].wvLicenseUrl:t[n(466)]=a+n(681)):t[n(497)][n(580)]===n(566)?(t[n(503)]=n(616),t[n(497)][n(679)]?t.licenseUrl=t[n(497)][n(679)]:t[n(466)]=a+n(542)):t[n(497)].type===n(575)&&(t.keySystem="com.apple.fps",t.config[n(477)]?t[n(546)]=t[n(497)][n(477)]:t[n(497)][n(535)]?t.serverCertificateUrl=t.config[n(535)]:t[n(545)]=a+n(479)+t[n(497)].merchant,t[n(497)][n(680)]?t[n(466)]=t.config.fpsLicenseUrl:t.licenseUrl=a+n(578)),o={licenseUrl:t[n(466)],onFetch:t.config[n(645)]},pu=o,t[n(669)]=[],t.config[n(580)]!==n(575)){t[n(669)][n(465)]({initDataTypes:[n(668)],sessionTypes:["persistent-license",n(529)]});for(var c=0,h=[t[n(497)][n(471)],t[n(497)][n(463)]];c<h.length;c++){var v=h[c];if(v&&v.encryption!==n(670)){var d=v==t[n(497)][n(471)]?n(471):n(463),l=void 0;t[n(497)][n(580)]===n(459)?l="HW"===v[n(554)]?n(513):n(685):"PlayReady"===t[n(497)][n(580)]&&(l="HW"===v.robustness?n(474):n(508)),d===n(471)?t[n(669)][0][n(527)]=[{contentType:'video/mp4; codecs="avc1.640032"',encryptionScheme:"cenc"===v[n(619)]?n(668):"cbcs-1-9",robustness:l||void 0}]:t[n(669)][0][n(595)]=[{contentType:n(691),encryptionScheme:v[n(619)]===n(668)?"cenc":n(671),robustness:l||void 0}]}}}else t[n(669)]=[{initDataTypes:[n(630)],videoCapabilities:[{contentType:n(562),robustness:""}],distinctiveIdentifier:"not-allowed",persistentState:n(639),sessionTypes:["temporary"]}];f[n(600)]&&console.info(n(480),t)}function rs(t){var n=Bu;f[n(600)]&&console[n(556)](n(581));var i=t[n(497)].videoElement;(!t[n(497)][n(471)]||t.config[n(471)][n(619)]===n(670))&&(i=t.config.audioElement),t[n(664)]=null;var r=!t.ignoreAudio&&t[n(497)][n(463)]&&"clear"!==t[n(497)].audio[n(619)],e=t[n(497)][n(471)]&&t.config.video[n(619)]!==n(670);t[n(624)]=0,t[n(608)]=!0,t.keyFrameNeededPosted=!1,t[n(509)]=ju,t[n(652)]=0,t[n(650)]=0,t[n(597)]=-1,t[n(596)]=0,t.jmuxer=new nu({node:i,mode:r?n(e?663:463):"video",fps:60,drm:t}),Wu&&t[n(497)].videoElement&&t[n(497)][n(689)][n(448)]()[n(684)]((function(){}))[n(476)]((function(){}))}function es(t,n,i){var r=Bu;if(t[r(497)][r(471)]&&"clear"===t.config[r(471)][r(619)])return null==i||i[r(632)](n),!1;var e=Date[r(591)]();if(n.type===r(611)){var u=f[r(600)];++t[r(521)]<(u?Number[r(478)]:5)&&(console[r(556)]((new Date)[r(552)]().slice(11,-1)+" "+n[r(580)]+", "+(n[r(496)].byteLength+r(455)+t[r(497)][r(689)][r(625)])),u&&1===t[r(521)]&&function(t,n,i){void 0===n&&(n=64),void 0===i&&(i=64);for(var r=Bu,e=new E(t[r(496)]),u="",s=0,o=0;o<n&&o<e[r(584)];++o)u+=(e[o]<16?"0":"")+e[o].toString(16)+" ";if(s<e[r(584)])for(s<e[r(584)]-i&&(u+=r(532),s=e[r(584)]-i);s<e[r(584)];s++)u+=(e[s]<16?"0":"")+e[s][r(621)](16)+" ";console.info("["+((t[r(580)]||r(463))+r(561))+r(569)+u[r(472)]())}(n,128,8)),t[r(608)]=!1,t[r(624)]=0,t[r(571)]=e+t[r(509)]}return t[r(624)]+=n.data[r(523)],!t[r(608)]&&t[r(624)]>Yu&&(console[r(556)](r(585)),t[r(608)]=!0),t.jmuxer&&(function(t,n){var i=Bu;0===t[i(652)]&&(t[i(652)]=n[i(667)],t[i(509)]=ju,t[i(571)]=Date[i(591)]()+2e3);var r=null,e=!1;if(n.data[i(523)]<=4)console[i(495)](i(613)),e=!0;else{var u=new E(n[i(496)],0,4);0!=u[0]||0!=u[1]||0!=u[2]||1!=u[3]?(console[i(495)](i(489)),e=!0):!(r=function(t,n){var i=hu,r=new DataView(t[i(335)]),e=t.data[i(346)]-2,u=r[i(340)](e);if(u<e){var s=e-u;if(69!==r[i(337)](e-1))return console[i(341)](i(339)),null;if(r.getUint8(s++)>>>4!=1)return console[i(341)](i(329)),null;for(var o=new E(u-2),a=0,c=0;s<e-1;){var h=r.getUint8(s++);c>1&&3===h&&(c=0,h=r.getUint8(s++)),0!==h?c=0:++c,o[a++]=h}var f=new DataView(o[i(343)]),v=n===i(327)?16:0,d=v+2+6*f.getUint16(v);return d+2>a?(console.error(i(325)),null):{sai:o[i(345)](0,d),offset:e-u,seq:f.getUint16(d)}}return null}(n,t[i(497)][i(471)][i(619)]))&&(console.warn(i(636)),e=!0)}if(r)if(-1===t[i(597)]){if(n[i(580)]!==i(611))return 0;t[i(597)]=r[i(547)]}else{var s=r.seq-t[i(597)];if(s<-32767&&(s+=65536),s<=0)return f[i(600)]&&console[i(495)](i(654)+t[i(597)]+", curr: "+r[i(547)]),0;s>1&&(e=n[i(580)]!==i(611),console[i(495)](i(570)+t[i(597)]+i(502)+r[i(547)]+i(541)+e)),t.prevSeqNum=r[i(547)]}var o=0;e&&!t[i(664)][i(458)]&&(o=-1,t[i(664)][i(644)]());var a=(n[i(667)]-t[i(652)])/9e4;return r&&t[i(664)][i(522)]({video:new E(n.data,0,r[i(456)]),videoSampleAuxInfo:r[i(612)],timestamp:a})<0&&(o=-1,console[i(495)](i(573)),rs(t)),o>=0&&"key"===n[i(580)]&&(t[i(596)]=a,console[i(483)]((new Date)[i(552)]()[i(559)](11,-1)+" kf at "+a+", playback at "+t[i(497)].videoElement[i(625)])),o}(t,n)<0?t[r(608)]=!0:function(t){var n=Bu,i=t.config[n(689)];if(!(!i||i[n(501)][n(584)]<1||i[n(505)]||i[n(625)]<Ku)){var r=t[n(497)].mediaBufferMs;if(void 0===r||r<0)throw new p("targetLatency not set!");var e,u,s,o,a,c=i[n(501)][n(565)](i[n(501)][n(584)]-1),h=1e3*(c-i[n(625)])|0;if(!t[n(649)]&&(a=Bu,(o=(u=h)<3*(s=r)>>>2?.875:u<=s?1:u<7*s>>>2?1.125:u<9*s>>>2?1.25:u<11*s>>>2?1.375:1.5)!==(e=i).playbackRate&&(e[a(606)]=o)),!(h<r+50||h<5*r>>>2))if(t.lastKeyFrameTime>i[n(625)]+.1){var v=1e3*(c-t[n(596)])|0;v>40&&v>r-100?(f[n(600)]&&console.info((new Date).toISOString().slice(11,-1)+n(598)+(i[n(625)]+n(592)+t[n(596)]+" (")+(t.lastKeyFrameTime-i[n(625)])+")"),i[n(625)]=t[n(596)]):console[n(483)]((new Date)[n(552)]().slice(11,-1)+n(534)+v)}else!t[n(608)]&&Date[n(591)]()>t[n(571)]&&h>r+100&&h>3*r>>>1&&(f[n(600)]&&console[n(556)]((new Date).toISOString()[n(559)](11,-1)+n(490)+h+" ms)"),t[n(608)]=!0,t[n(509)]<16e3&&(t[n(509)]<<=1))}}(t)),i?(!t[r(608)]||!zu)&&(n[r(496)]=function(t){return!lu&&function(){var t=vu;lu=new E([0,0,0,1,65,154,255,255]).buffer,du[t(303)](new E([0,0,0,1,39,100,0,13,172,87,5,6,100,0,0,0,1,40,238,60,176,0,0,0,1,37,184,32,0,203,255,38,29,217,24,192,161,96,0,0,12,229,174,166,6,7,20,3,84,0,247,96,193,181,229,128,0,32,32])[t(306)]),du[t(303)](du[0][t(299)](0)),new E(du[1]).set([16,0,50],27)}(),t?lu:du[gu^=1]}(t[r(608)]),i[r(632)](n)):t[r(608)]!=t[r(445)]&&(t.worker&&t[r(544)][r(660)](t[r(608)]),t[r(445)]=t[r(608)]),t[r(608)]}function us(t,n){var i=Vu();return(us=function(t,n){return i[t-=445]})(t,n)}function ss(t,n,i){var r=Bu;return t[r(497)][r(463)]&&t[r(497)].audio[r(619)]!==r(670)?n[r(496)][r(523)]>0&&function(t,n){var i,r=Bu;if(!t.jmuxer||t[r(538)])return 0;0===t[r(650)]&&(t[r(650)]=n[r(667)]);var e=(n[r(667)]-t.audioStartTimestamp)/48e3;if("cbcs"===(null===(i=t.config[r(463)])||void 0===i?void 0:i[r(619)]))return t[r(664)][r(522)]({audio:new E(n[r(496)]),timestamp:e});var u=function(t){var n=hu,i=new DataView(t.data),r=t.data[n(346)]-2,e=i.getUint16(r);if(e<r){var u=r-e;if(69!==i[n(337)](r-1))return console[n(341)](n(339)),null;if(i[n(337)](u++)>>>4!=1)return console[n(341)](n(329)),null;for(var s=new E(e-2),o=0;u<r-1;){var a=i[n(337)](u++);if(s[o++]=a,o>=16)break}return{sai:s,offset:r-e}}return null}(n);u?t[r(664)][r(522)]({audio:new E(n[r(496)],0,u[r(456)]),audioSampleAuxInfo:u[r(612)],timestamp:e}):console[r(511)]("SampleAuxInfo extraction failed (audio)")}(t,n):i&&i[r(632)](n),!1}function os(t){var n=Bu;if(!t||(void 0===t?"undefined":U(t))!==n(692))throw new _("Invalid config argument type, DRM config must be an object.");if(!(t[n(689)]instanceof HTMLVideoElement))throw new _(n(633));if(t[n(628)]&&!(t.audioElement instanceof HTMLMediaElement))throw new _(n(693));if(void 0!==t[n(482)]&&!Number[n(555)](t[n(482)]))throw new _(n(460));for(var i=!1,r=!1,e=!1,u=["cbcs",n(668),n(670)],s=["SW","HW"],o=0,a=[t[n(471)],t[n(463)]];o<a.length;o++){var c=a[o];if(c){if(!u[n(557)](c[n(619)]))throw new RangeError("DRM config encryption value must be one of: "+u[n(593)](", "));if(Wu&&"cenc"===c.encryption)throw new RangeError(n(688));if(c[n(619)]!==n(670)){if(r=!0,c.keyId){if(!(c[n(646)]instanceof E)||16!==c.keyId[n(584)])throw new _("DRM config keyId must be an instance of 16-byte long Uint8Array.");e=!0}else if(Wu)throw new ReferenceError(n(655));if(c.iv&&(!(c.iv instanceof E)||16!==c.iv.length))throw new _(n(618));if(c[n(554)]&&!s[n(557)](c.robustness))throw new RangeError(n(658)+s[n(593)](", "));if(c===t[n(471)]&&c[n(484)]!==n(537))throw new RangeError(n(615));Wu&&c===t.audio&&"opus"===c.codec&&(i=!0,console.warn("Safari does not support Opus, audio will not be rendered.")),"PlayReady"===t[n(580)]&&(c[n(619)]!==n(668)&&console[n(495)](n(491)+c[n(619)]+"', it's safer to use 'cbcs' instead."),void 0===t.sessionId||t.sessionId[n(557)]("f1")||console.warn(n(674)+t.sessionId+n(643)))}}}if(r){var h=[au[n(558)],au.Staging,au[n(665)]];if(!h.includes(t[n(526)]))throw new RangeError(n(583)+h.join(", "));if(t[n(462)]&&U(t[n(462)])!==n(533))throw new _("Invalid authToken type ("+U(t[n(462)])+n(530));if(t.type)if(Wu){if(t[n(580)]!==n(575))throw new RangeError(n(514)+t[n(580)]+"). Safari only supports FairPlay.")}else if(Xu){if(t.type!==n(459)&&"ClearKey"!==t[n(580)])throw new RangeError("Invalid DRM type ("+t.type+n(675))}else if(Zu&&t[n(580)]!==n(566)&&"Widevine"!==t[n(580)]&&"ClearKey"!==t[n(580)])throw new RangeError(n(514)+t.type+n(648))}void 0!==t.debugLog&&(f[n(600)]=t.debugLog),void 0!==t[n(446)]&&(f[n(517)]=t[n(446)]);var v=Qu.get(t[n(689)]);!v&&(v=new Ju(t),Qu[n(494)](t[n(689)],v)),v.enabled=r,v[n(538)]=i,v[n(649)]=!i&&v[n(497)][n(463)]&&v[n(497)].audio.encryption!==n(670),r&&(v[n(497)].type||(v[n(497)][n(580)]=n(Wu?575:459)),e||v[n(497)][n(580)]===n(549)||(v[n(497)][n(580)]=n(549)),is(v),function(t){ke(this,void 0,void 0,(function(){var n,i,r,e,u,s,o,a,c,h,v,d,g,w,m,y;return Ht(this,(function(_){switch(_.label){case 0:if(e=t[(n=us)(497)][n(689)],(!t[n(497)][n(471)]||t[n(497)][n(471)].encryption===n(670))&&(e=t[n(497)][n(628)]),!e)throw new p(n(492));return e.src="",e[n(588)]=null,[4,e.setMediaKeys(null)];case 1:_.sent(),u=null,_.label=2;case 2:return _.trys.push([2,4,,5]),[4,l[n(528)](t[n(503)],t.emeConfig)];case 3:return u=_.sent(),[3,5];case 4:return _.sent(),[3,5];case 5:if(u||!t[n(669)][0])return[3,9];if(!(void 0!==(s=null===(i=t[n(669)][0][n(647)])||void 0===i?void 0:i[n(553)](n(659)))&&s>=0))return[3,9];null===(r=t.emeConfig[0].sessionTypes)||void 0===r||r[n(687)](s,1),_.label=6;case 6:return _.trys.push([6,8,,9]),[4,l[n(528)](t[n(503)],t[n(669)])];case 7:return u=_.sent(),[3,9];case 8:return _.sent(),[3,9];case 9:if(!u)return o=n(576)+t[n(503)]+n(520),[2,(e.dispatchEvent(new CustomEvent(n(640),{detail:{message:o}})),void console[n(511)](o))];a=null,_.label=10;case 10:return _.trys.push([10,12,,13]),[4,u.createMediaKeys()];case 11:return a=_.sent(),[3,13];case 12:return _.sent(),[3,13];case 13:return a?t.serverCertificate?(f.clRtcDrmDebugLog&&console[n(556)](n(487)+t[n(546)][n(523)]+n(464)),[4,a[n(594)](t[n(546)])]):[3,15]:(c=n(540)+t[n(503)]+n(520),[2,(e[n(453)](new CustomEvent("rtcdrmerror",{detail:{message:c}})),void console[n(511)](c))]);case 14:return _.sent(),[3,21];case 15:if(!t.serverCertificateUrl)return[3,21];h={method:n(469)},v=t.serverCertificateUrl,_.label=16;case 16:return _.trys.push([16,20,,21]),[4,t[n(497)].onFetch?t.config[n(645)](v,h):fetch(v,h)];case 17:return(d=_.sent()).ok?[4,d[n(457)]()]:(g=n(601)+d[n(623)],[2,void e[n(453)](new CustomEvent(n(640),{detail:{message:g}}))]);case 18:return w=_.sent(),f.clRtcDrmDebugLog&&console[n(556)]("Fetched certificate from "+v+", "+w[n(523)]+" bytes"),[4,a[n(594)](w)];case 19:return _.sent(),[3,21];case 20:return m=_.sent(),y=m.name+": "+m[n(622)],[2,(console.error(y),void e[n(453)](new CustomEvent(n(640),{detail:{message:y}})))];case 21:return[4,e[n(500)](a)];case 22:return _.sent(),e[n(519)]("encrypted",Ou),rs(t),[2]}}))}))}(v)),v[n(497)][n(689)][n(519)](n(448),(function(){var t=n;v[t(497)][t(689)][t(625)]>.5&&(v[t(571)]=Date.now())}))}var as=Bu(582)+Bu(587)+Bu(548)+Bu(653)+Bu(590)+Bu(620)+Bu(614)+Bu(504)+Bu(518)+Bu(452)+Bu(642)+Bu(686)+"meNeeded=$.data};";function cs(t){var n,i=Bu;if(0===Qu[i(677)])throw new _(i(550));if(t&&t[i(689)])n=t[i(689)];else{if(1!==Qu.size)throw new _(i(510));n=Qu[i(638)]()[i(447)]()[i(531)]}var r=Qu[i(662)](n);if(!r){var e="";throw Qu[i(499)]((function(t,n){e+=n.id+", "})),e=e.slice(0,-2),new _(i(486)+n.id+i(657)+e+"]")}return r}function hs(t,n){var i=Bu;if(t&&t[i(497)][i(689)]){var r=t[i(497)][i(689)];if(r[i(501)].length>0){var e=r.buffered[i(565)](r[i(501)][i(584)]-1)-r[i(625)];n.playoutDelayHint=n.jitterBufferDelayHint=n.jitterBufferTarget=e}g(hs,1e3,t,n)}}var fs=gt.get("View");fs.setLevel(gt.DEBUG);var vs={metadata:!1,enableDRM:!1,disableVideo:!1,disableAudio:!1,peerConfig:{autoInitStats:!0,statsIntervalMs:1e3}},ds=function(t){function n(n,i,r,e){var u;return void 0===r&&(r=null),void 0===e&&(e=!0),n&&fs.warn("The streamName property has been deprecated. In a future release, this will be removed. Please do not rely on this value. Instead, set via token generator"),(u=t.call(this,null,i,fs,e)||this).payloadTypeCodec={},u.tracksMidValues={},u.drmOptionsMap=null,u.eventQueue=[],u.isMainStreamActive=!1,r&&(u.on(br.track,(function(t){r.srcObject=t.streams[0]})),fs.warn("The mediaElement property has been deprecated. In a future release, this will be removed. Please do not rely on this value. Instead, do this in either the `track` or the `active` broadcast event.")),u}It(n,t);var i=n.prototype;return i.connect=function(t){void 0===t&&(t=vs);var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.options=R(w(w({},vs),t),{peerConfig:w(w({},vs.peerConfig),t.peerConfig),setSDPToPeer:!1}),n.eventQueue.length=0,[4,n.initConnection({migrate:!1})];case 1:return i.sent(),[2]}}))}))()},i.select=function(t){void 0===t&&(t={});var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return fs.debug("Viewer select layer values: ",t),[4,n.signaling.cmd("select",{layer:t})];case 1:return i.sent(),fs.info("Connected to streamName: ",n.streamName),[2]}}))}))()},i.addRemoteTrack=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return fs.info("Viewer adding remote track",t),[4,i.webRTCPeer.addRemoteTrack(t,n)];case 1:for(r=u.sent(),e=0;e<n.length;e++)n[e].addTrack(r.receiver.track);return[2,r]}}))}))()},i.project=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:for(r=function(t){var r=n[t];if(!r.trackId&&!r.media)throw fs.error("Error in projection mapping, trackId or mediaId must be set"),new p("Error in projection mapping, trackId or mediaId must be set");var e=i.webRTCPeer.getRTCPeer();if(r.mediaId&&!e.getTransceivers().find((function(t){return t.mid===r.mediaId.toString()})))throw fs.error("Error in projection mapping, ".concat(r.mediaId," mid not found in local transceivers")),new p("Error in projection mapping, ".concat(r.mediaId," mid not found in local transceivers"))},e=0;e<n.length;e++)r(e);return fs.debug("Viewer project source: layer mappings: ",t,n),[4,i.signaling.cmd("project",{sourceId:t,mapping:n})];case 1:return u.sent(),fs.info("Projection done"),[2]}}))}))()},i.unproject=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return fs.debug("Viewer unproject mediaIds: ",t),[4,n.signaling.cmd("unproject",{mediaIds:t})];case 1:return i.sent(),fs.info("Unprojection done"),[2]}}))}))()},i.replaceConnection=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return fs.info("Migrating current connection"),[4,t.initConnection({migrate:!0})];case 1:return n.sent(),[2]}}))}))()},i.stop=function(){var n,i;t.prototype.stop.call(this),null==(n=this.drmOptionsMap)||n.clear(),this.DRMProfile=null,null==(i=this.worker)||i.terminate(),this.worker=null,this.payloadTypeCodec={},this.tracksMidValues={},this.eventQueue.length=0},i.initConnection=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c,h,f,v,d,l,m,y;return Ht(this,(function(_){switch(_.label){case 0:if(fs.debug("Viewer connect options values: ",n.options),n.stopReconnection=!1,!t.migrate&&n.isActive())throw fs.warn("Viewer currently subscribed"),new p("Viewer currently subscribed");_.label=1;case 1:return _.trys.push([1,3,,4]),[4,n.tokenGenerator()];case 2:return e=_.sent(),n.options.peerConfig.iceServers=null==e?void 0:e.iceServers,n.options.peerConfig.encodedInsertableStreams=ve&&(n.options.enableDRM||n.options.metadata),[3,4];case 3:throw u=_.sent(),fs.error("Error generating token."),u instanceof zr&&(401!==u.status&&n.autoReconnect?n.reconnect():n.stopReconnection=!0),u;case 4:if(!e)throw fs.error("Error while subscribing. Subscriber data required"),new p("Subscriber data required");return s=ee(e.jwt),n.streamName=s.millicast.streamName,o=new Xr({streamName:n.streamName,url:"".concat(e.urls[0],"?token=").concat(e.jwt)}),e.subscriberToken&&(n.subscriberToken=e.subscriberToken),[4,(a=t.migrate?new Ar:n.webRTCPeer).createRTCPeer(n.options.peerConfig)];case 5:return _.sent(),null==(i=n.stopReemitingWebRTCPeerInstanceEvents)||i.call(n),n.stopReemitingWebRTCPeerInstanceEvents=Vt(a,n,b.values(br).filter((function(t){return t!==br.track}))),n.options.metadata&&(n.worker||(n.worker=new we),n.worker.onmessage=function(t){if("metadata"===t.data.event){var i=new TextDecoder,r=t.data.metadata;if(r.mid=t.data.mid,r.track=n.tracksMidValues[t.data.mid],r.uuid){var e=r.uuid;r.uuid=e.reduce((function(t,n){return t+n.toString(16).padStart(2,"0")}),""),r.uuid=r.uuid.replace(/(.{8})(.{4})(.{4})(.{4})(.{12})/,"$1-$2-$3-$4-$5")}if(r.timecode&&(r.timecode=new Date(i.decode(r.timecode))),r.unregistered){var u=i.decode(r.unregistered);try{var s=JSON.parse(u);r.unregistered=s}catch(t){fs.info("The content could not be converted to JSON, returning raw bytes instead")}}n.emit("metadata",r),n.emit("onMetadata",r)}}),a.on(br.track,(function(t){n.isMainStreamActive?n.onTrackEvent(t):n.eventQueue.push(t)})),o.on(Zr,Zt((function(t){var i;return Ht(this,(function(r){switch(r.label){case 0:return n.isMainStreamActive||"active"!==t.name?[3,3]:(n.mainSourceId=t.data.sourceId,n.DRMProfile||!t.data.encryption?[3,2]:[4,n.tokenGenerator()]);case 1:(i=r.sent()).drmObject&&(n.DRMProfile=i.drmObject),r.label=2;case 2:for(n.emit(Zr,t),n.isMainStreamActive=!0;n.eventQueue.length>0;)n.onTrackEvent(n.eventQueue.shift());return[2];case 3:return"inactive"===t.name&&n.isMainStreamActive&&n.mainSourceId===t.data.sourceId&&(n.isMainStreamActive=!1),n.emit(Zr,t),[2]}}))}))),c=a.getRTCLocalSDP(R(w({},n.options),{stereo:!0})),h=o.connect(),[4,et.all([c,h])];case 6:return r=_.sent(),f=r[0],v=n.signaling,n.signaling=o,d=n.signaling.subscribe(f,R(w({},n.options),{vad:n.options.multiplexedAudioTracks>0})),l=a.peer.setLocalDescription(a.sessionDescription),[4,et.all([d,l])];case 7:return r=_.sent(),m=r[0],n.payloadTypeCodec=lr.getCodecPayloadType(m),[4,a.setRTCRemoteSDP(m)];case 8:return _.sent(),fs.info("Connected to streamName: ",n.streamName),y=n.webRTCPeer,n.webRTCPeer=a,n.setReconnect(),t.migrate&&n.webRTCPeer.on(br.connectionStateChange,(function(t){var n,i;"connected"===t?g((function(){var t,n;null==(t=null==v?void 0:v.close)||t.call(v),null==(n=null==y?void 0:y.closeRTCPeer)||n.call(y),v=y=null,fs.info("Current connection migrated")}),1e3):["disconnected","failed","closed"].includes(t)&&(null==(n=null==v?void 0:v.close)||n.call(v),null==(i=null==y?void 0:y.closeRTCPeer)||i.call(y),v=y=null)})),[2]}}))}))()},i.onTrackEvent=function(t){var n,i,r;if(this.tracksMidValues[null==(n=t.transceiver)?void 0:n.mid]=t.track,this.isDRMOn){var e=t.transceiver.mid,u=this.getDRMConfiguration(e);try{!function(t,n){var i,r,e=Bu,u=t[e(629)][e(524)];"video"===u&&(t[e(661)][e(475)]=t[e(661)][e(451)]=t[e(661)][e(605)]=0);var s=cs(n),o=s[e(497)].videoElement,a=s[e(497)][e(628)];if(s[e(607)]){if(s[e(497)].customTransform)f.clRtcDrmDebugLog&&console[e(556)](e(468)+e(572));else if(f[e(600)]&&console[e(556)](e(467)+(e(Fu?589:609)+e(617))),Fu){if(s[e(544)]=function(t){var n=Bu,i=f[n(493)]||f[n(488)],r=f[n(666)],e=f[n(586)];if(!(i&&r&&e&&t))return null;var u=new r([t]);return new e(i[n(631)](u))}(as),null==s[e(544)])throw new p(e(539));s[e(544)][e(485)]=function(t){var n=e;t[n(496)][n(567)]===n(471)?es(s,t[n(496)].frame,null):ss(s,t[n(496)][n(651)],null)},t[e(661)].transform=new RTCRtpScriptTransform(s.worker,{operation:u})}else{var c=u===e(471)?es:ss,h={drm:s,transform:function(t,n){c(s,t,n)}},v=t.receiver.createEncodedStreams(),d=new TransformStream({transform:h.transform[e(656)](h)}),l=v.readable,g=v.writable;l[e(577)](d)[e(635)](g)}if("audio"===u&&(null===(i=s[e(497)][e(463)])||void 0===i?void 0:i.encryption)===e(670)){if(!a)return void console.warn(e(690));a[e(588)]!==t[e(481)][0]&&(a[e(588)]=t[e(481)][0]),s[e(497)].videoElement&&(t[e(661)][e(475)]=t[e(661)].jitterBufferDelayHint=t[e(661)][e(605)]=s[e(497)][e(482)],hs(s,t[e(661)]))}else"video"===u&&"clear"===(null===(r=s.config[e(471)])||void 0===r?void 0:r[e(619)])&&o[e(588)]!==t[e(481)][0]&&(o.srcObject=t.streams[0])}else o[e(588)]!==t[e(481)][0]&&(o.srcObject=t[e(481)][0])}(t,u)}catch(t){fs.error("Failed to apply DRM on media Id:",e,"error is: ",t),this.emit("error",new p("Failed to apply DRM on media Id: "+e+" error is: "+t))}this.worker||(this.worker=new we),this.worker.addEventListener("message",(function(t){"complete"===t.data.event&&function(t,n,i){var r=Bu,e=cs(i);t[r(580)]?es(e,t,n):ss(e,t,n)}(t.data.frame,null,u)}))}if(this.options.metadata)if(de)t.receiver.transform=new RTCRtpScriptTransform(this.worker,{name:"receiverTransform",payloadTypeCodec:w({},this.payloadTypeCodec),codec:this.options.metadata&&"h264",mid:null==(i=t.transceiver)?void 0:i.mid});else if(ve){var s=t.receiver.createEncodedStreams(),o=s.readable,a=s.writable;this.worker.postMessage({action:"insertable-streams-receiver",payloadTypeCodec:w({},this.payloadTypeCodec),codec:this.options.metadata&&"h264",mid:null==(r=t.transceiver)?void 0:r.mid,readable:o,writable:a},[o,a])}this.emit(br.track,t)},i.getDRMConfiguration=function(t){return this.drmOptionsMap?this.drmOptionsMap.get(t):null},i.onRtcDrmFetch=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){return[2,(n.headers||(n.headers=new Headers),n.headers.get("x-dt-custom-data")&&n.headers.delete("x-dt-custom-data"),i.subscriberToken?n.headers.append("Authorization","Bearer ".concat(i.subscriberToken)):fs.warn("onRtcDrmFetch: no subscriberToken"),fetch(t,n))]}))}))()},i.configureDRM=function(t){var n=this;if(!t)throw new p("Required DRM options is not provided");this.drmOptionsMap||(this.drmOptionsMap=new Map);var i={merchant:"dolby",environment:au.Production,customTransform:this.options.metadata,videoElement:t.videoElement,audioElement:t.audioElement,video:{codec:"H264",encryption:"cbcs",keyId:_e(t.videoEncryptionParams.keyId),iv:_e(t.videoEncryptionParams.iv)},audio:{codec:"opus",encryption:"clear"},onFetch:this.onRtcDrmFetch.bind(this)};t.mediaBufferMs&&(i.mediaBufferMs=t.mediaBufferMs),this.DRMProfile&&(this.DRMProfile.playReadyUrl&&(i.prLicenseUrl=this.DRMProfile.playReadyUrl),this.DRMProfile.widevineUrl&&(i.wvLicenseUrl=this.DRMProfile.widevineUrl),this.DRMProfile.fairPlayUrl&&(i.fpsLicenseUrl=this.DRMProfile.fairPlayUrl),this.DRMProfile.fairPlayCertUrl&&(i.fpsCertificateUrl=this.DRMProfile.fairPlayCertUrl));try{os(i),this.drmOptionsMap.set(t.videoMid,i),t.audioMid&&this.drmOptionsMap.set(t.audioMid,i),i.videoElement.addEventListener("rtcdrmerror",(function(t){fs.error("DRM error: ",t.detail.message,"in video element:",i.videoElement.id),n.emit("error",new p(t.detail.message))}))}catch(n){fs.error("Failed to configure DRM with options:",t,"error is:",n)}},i.removeDRMConfiguration=function(t){var n;null==(n=this.drmOptionsMap)||n.delete(t)},i.exchangeDRMConfiguration=function(t,n){var i=this.getDRMConfiguration(t),r=this.getDRMConfiguration(n);if(null===i)throw new p("No DRM configuration found for "+t);if(null===r)throw new p("No DRM configuration found for "+n);be(i.video,r.video,"keyId"),be(i.video,r.video,"iv");try{os(i)}catch(t){fs.error("Failed to configure DRM with options:",i,"error is:",t)}try{os(r)}catch(t){fs.error("Failed to configure DRM with options:",r,"error is:",t)}},Nt(n,[{key:"isDRMOn",get:function(){return!!this.drmOptionsMap&&this.drmOptionsMap.size>0}}]),n}(he);t.Director=Jr,t.Logger=gt,t.PeerConnection=Ar,t.Publish=pe,t.Signaling=Xr,t.View=ds,b.defineProperty(t,n.toStringTag,{value:"Module"})},"object"==(void 0===t?"undefined":U(t))&&(void 0===e?"undefined":U(e))<"u"?s(t):"function"==typeof define&&define.amd?define(["exports"],s):s((u=("undefined"==typeof globalThis?"undefined":U(globalThis))<"u"?globalThis:u||self).millicast={})})),pn=O((function(t){function n(){var t=yn();return n=function(){return t},t}F(),Tt(),b.defineProperty(t,"__esModule",{value:!0}),function(t,n){for(var i in n)b.defineProperty(t,i,{enumerable:!0,get:n[i]})}(t,{Director:function(){return n().Director},View:function(){return n().View}})})),_n=O((function(t,n){F(),Tt(),n.exports=function(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}})),bn=O((function(t,n){F(),Tt(),n.exports=function(t,n){var i=n[0],r=n[1],e=n[2],u=n[3],s=i+i,o=r+r,a=e+e,c=i*s,h=r*s,f=r*o,v=e*s,d=e*o,l=e*a,g=u*s,w=u*o,m=u*a;return t[0]=1-f-l,t[1]=h+m,t[2]=v-w,t[3]=0,t[4]=h-m,t[5]=1-c-l,t[6]=d+g,t[7]=0,t[8]=v+w,t[9]=d-g,t[10]=1-c-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}})),kn=O((function(t,n){F(),Tt(),n.exports=function(t,n,i){var r,e,u,s=i[0],o=i[1],a=i[2],c=k.sqrt(s*s+o*o+a*a);if(k.abs(c)<1e-6)return null;return s*=c=1/c,o*=c,a*=c,r=k.sin(n),e=k.cos(n),u=1-e,t[0]=s*s*u+e,t[1]=o*s*u+a*r,t[2]=a*s*u-o*r,t[3]=0,t[4]=s*o*u-a*r,t[5]=o*o*u+e,t[6]=a*o*u+s*r,t[7]=0,t[8]=s*a*u+o*r,t[9]=o*a*u-s*r,t[10]=a*a*u+e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}})),An=O((function(t,n){F(),Tt(),n.exports=function(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}})),Tn=O((function(t,n){F(),Tt(),n.exports=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}})),Sn=O((function(t,n){F(),Tt(),n.exports=function(t,n){var i=n[0],r=n[1],e=n[2],u=n[3],s=n[4],o=n[5],a=n[6],c=n[7],h=n[8],f=n[9],v=n[10],d=n[11],l=n[12],g=n[13],w=n[14],m=n[15],y=i*o-r*s,p=i*a-e*s,_=i*c-u*s,b=r*a-e*o,k=r*c-u*o,A=e*c-u*a,T=h*g-f*l,S=h*w-v*l,E=h*m-d*l,I=f*w-v*g,R=f*m-d*g,C=v*m-d*w,N=y*C-p*R+_*I+b*E-k*S+A*T;if(!N)return null;return N=1/N,t[0]=(o*C-a*R+c*I)*N,t[1]=(e*R-r*C-u*I)*N,t[2]=(g*A-w*k+m*b)*N,t[3]=(v*k-f*A-d*b)*N,t[4]=(a*E-s*C-c*S)*N,t[5]=(i*C-e*E+u*S)*N,t[6]=(w*_-l*A-m*p)*N,t[7]=(h*A-v*_+d*p)*N,t[8]=(s*R-o*E+c*T)*N,t[9]=(r*E-i*R-u*T)*N,t[10]=(l*k-g*_+m*y)*N,t[11]=(f*_-h*k-d*y)*N,t[12]=(o*S-s*I-a*T)*N,t[13]=(i*I-r*S+e*T)*N,t[14]=(g*p-l*b-w*y)*N,t[15]=(h*b-f*p+v*y)*N,t}})),En=O((function(t,n){F(),Tt(),n.exports=function(t,n,i){var r=n[0],e=n[1],u=n[2],s=n[3],o=n[4],a=n[5],c=n[6],h=n[7],f=n[8],v=n[9],d=n[10],l=n[11],g=n[12],w=n[13],m=n[14],y=n[15],p=i[0],_=i[1],b=i[2],k=i[3];return t[0]=p*r+_*o+b*f+k*g,t[1]=p*e+_*a+b*v+k*w,t[2]=p*u+_*c+b*d+k*m,t[3]=p*s+_*h+b*l+k*y,p=i[4],_=i[5],b=i[6],k=i[7],t[4]=p*r+_*o+b*f+k*g,t[5]=p*e+_*a+b*v+k*w,t[6]=p*u+_*c+b*d+k*m,t[7]=p*s+_*h+b*l+k*y,p=i[8],_=i[9],b=i[10],k=i[11],t[8]=p*r+_*o+b*f+k*g,t[9]=p*e+_*a+b*v+k*w,t[10]=p*u+_*c+b*d+k*m,t[11]=p*s+_*h+b*l+k*y,p=i[12],_=i[13],b=i[14],k=i[15],t[12]=p*r+_*o+b*f+k*g,t[13]=p*e+_*a+b*v+k*w,t[14]=p*u+_*c+b*d+k*m,t[15]=p*s+_*h+b*l+k*y,t}})),In=O((function(t,n){F(),Tt(),n.exports=function(t,n,i,r,e){var u=1/k.tan(n/2),s=1/(r-e);return t[0]=u/i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(e+r)*s,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*e*r*s,t[15]=0,t}})),Rn=O((function(t,n){F(),Tt(),n.exports=function(t,n,i,r){var e,u,s,o,a,c,h,f,v,d,l,g,w,m,y,p,_,b,A,T,S,E,I,R,C=r[0],N=r[1],D=r[2],P=k.sqrt(C*C+N*N+D*D);if(k.abs(P)<1e-6)return null;C*=P=1/P,N*=P,D*=P,e=k.sin(i),u=k.cos(i),s=1-u,o=n[0],a=n[1],c=n[2],h=n[3],f=n[4],v=n[5],d=n[6],l=n[7],g=n[8],w=n[9],m=n[10],y=n[11],p=C*C*s+u,_=N*C*s+D*e,b=D*C*s-N*e,A=C*N*s-D*e,T=N*N*s+u,S=D*N*s+C*e,E=C*D*s+N*e,I=N*D*s-C*e,R=D*D*s+u,t[0]=o*p+f*_+g*b,t[1]=a*p+v*_+w*b,t[2]=c*p+d*_+m*b,t[3]=h*p+l*_+y*b,t[4]=o*A+f*T+g*S,t[5]=a*A+v*T+w*S,t[6]=c*A+d*T+m*S,t[7]=h*A+l*T+y*S,t[8]=o*E+f*I+g*R,t[9]=a*E+v*I+w*R,t[10]=c*E+d*I+m*R,t[11]=h*E+l*I+y*R,n!==t&&(t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]);return t}})),Cn=O((function(t,n){F(),Tt(),n.exports=function(t,n,i){var r,e,u,s,o,a,c,h,f,v,d,l,g=i[0],w=i[1],m=i[2];n===t?(t[12]=n[0]*g+n[4]*w+n[8]*m+n[12],t[13]=n[1]*g+n[5]*w+n[9]*m+n[13],t[14]=n[2]*g+n[6]*w+n[10]*m+n[14],t[15]=n[3]*g+n[7]*w+n[11]*m+n[15]):(r=n[0],e=n[1],u=n[2],s=n[3],o=n[4],a=n[5],c=n[6],h=n[7],f=n[8],v=n[9],d=n[10],l=n[11],t[0]=r,t[1]=e,t[2]=u,t[3]=s,t[4]=o,t[5]=a,t[6]=c,t[7]=h,t[8]=f,t[9]=v,t[10]=d,t[11]=l,t[12]=r*g+o*w+f*m+n[12],t[13]=e*g+a*w+v*m+n[13],t[14]=u*g+c*w+d*m+n[14],t[15]=s*g+h*w+l*m+n[15]);return t}})),Nn={};!function(t,n){for(var i in n)N(t,i,{get:n[i],enumerable:!0})}(Nn,{ChromelessPlayer:function(){return QL},ErrorCategory:function(){return $v},ErrorCode:function(){return Qv},Player:function(){return QL},cache:function(){return k5},cast:function(){return S$},features:function(){return nM},players:function(){return rM},registerContentProtectionIntegration:function(){return eM},utils:function(){return tM},version:function(){return iM}}),h.exports=(wn=Nn,B(N({},"__esModule",{value:!0}),wn)),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),Rt(),F(),Tt(),Dt(),F(),Tt(),F(),Tt(),F(),Tt(),Dt(),F(),Tt();var Dn=function(t){return t.yv="web",t.bv="android",t.Av="android-tv",t.Sv="ios",t.Tv="tvos",t.Ev="chromecast",t.xv="theoliveweb",t}({});var Pn=l?l.userAgent:"",xn=Pn.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),Ln=Pn.match(/Edg\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),Mn=Pn.match(/Android ([0-9\.]+)/i),On=Pn.match(/Windows NT ([0-9\.]+)/i),Bn=Pn.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),Vn=Pn.match(/Firefox\/([0-9\.]+)/i),Fn=Pn.match(/OPR\/(\d+\.\d+)/i),Un=Pn.match(/Tizen ([0-9\.]+)/i),Wn=Pn.match(/(iPhone OS|iPad OS|iPod OS|Mac OS X) (\d+)_(\d+)_?(\d+)?/),Zn=Pn.match(/HbbTV\/([0-9.]+)/i),Xn=function(){function t(){this.Rv=Boolean("ontouchstart"in self||self.DocumentTouch&&v instanceof self.DocumentTouch||l&&l.msMaxTouchPoints),this.Cv=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(Pn)||/(macintosh|mac(?=_powerpc)\s)/i.test(Pn),this.Dv=/Windows NT/i.test(Pn),this.Mv=On?T(On[1]):0,this.Bv=/Android/i.test(Pn),this.Fv=Mn?T(Mn[1]):0,this.Wv=/windows phone (8|8\.1)/i.test(Pn),this.Gv=/iPhone/i.test(Pn),this.Zv=/iPad/i.test(Pn),this.zv=this.Cv&&this.Rv&&!this.Zv,this.Yv=/iPod/i.test(Pn),this.hm=/Mobile Safari/i.test(Pn),this.im=/EOS\d*STB/i.test(Pn),this.nm=/APP\d*STB/i.test(Pn),this.Kv=(this.Gv||this.Zv||this.zv||this.Yv)&&!this.Wv,this.Jv=Wn?T(Wn[2]):0,this.um=this.Wv||this.Kv||this.Bv||this.hm,this.dm=/CriOS/i.test(Pn),this._m=Boolean(self.chrome&&/google/i.test(l.vendor))||this.dm,this.ym=this._m&&/Edg\//i.test(l.userAgent),this.Sm=Ln?A(Ln[1],10):0,this.Mg=Boolean(/CriOS/i.test(Pn)),this.Ng=Boolean(self.chrome||/Chrome/i.test(Pn)||this.Mg),this.pm=xn?A(xn[1],10):0,this.xm=/SMART-TV.*Tizen/i.test(Pn),this.Im=Un?T(Un[1]):0,this.gm=this.Im>0?function(t){return t>=8?108:t>=7?94:t>=6.5?85:t>=6?76:t>=5.5?69:t>=5?63:t>=4?56:t>=3?47:0}(this.Im):void 0,this.Pm=/webos|web0s/i.test(Pn),this.Nm=/HbbTV/i.test(Pn),this.Lm=!!Zn&&function(t){if(!t)return!1;var n=t.split(".").map(Number);return 3===n.length&&1===n[0]&&2===n[1]}(Zn[1]),this.Om=/VIZIO/i.test(Pn),this.Vm=/Edge\/\d+/i.test(Pn),this.Um=/Trident/i.test(Pn),this.Hm=this.Um&&!self.ActiveXObject&&"ActiveXObject"in self,this.Xm=/Vivaldi/i.test(Pn),this.qm=/Firefox/i.test(Pn)&&!/Seamonkey/i.test(Pn),this.Km=Vn?T(Vn[1]):0,this.Qm=/Safari/i.test(Pn)&&!/Chrome/i.test(Pn)&&!this.Wv&&!this.xm,this.$m=Bn?T(Bn[2]):0,this.rg=Boolean(Fn),this.hg=Fn?T(Fn[1]):0,this.cg=/CrKey/.test(Pn),this.fg=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv|vizio)\b/i.test(Pn),this.gg=/PlayStation 4/i.test(Pn),this.wg="web"===Dn.Av,this.Ag="web"===Dn.bv,this.Tg=this.Ag||this.wg,this.xg="web"===Dn.Sv,this.Ig="web"===Dn.Tv,this.Pg="web"===Dn.Ev}return Nt(t,[{key:"Je",get:function(){return this.Rv}},{key:"Iv",get:function(){return this.Cv}},{key:"Pv",get:function(){return this.Dv}},{key:"Nv",get:function(){return this.Mv}},{key:"Lv",get:function(){return this.Bv}},{key:"Ov",get:function(){return this.Fv}},{key:"Vv",get:function(){return this.Wv}},{key:"Uv",get:function(){return this.Gv}},{key:"Hv",get:function(){return this.Zv}},{key:"Xv",get:function(){return this.zv}},{key:"qv",get:function(){return this.Yv}},{key:"Ka",get:function(){return this.Kv}},{key:"Qv",get:function(){return this.Jv}},{key:"$v",get:function(){return this.im||this.nm}},{key:"nd",get:function(){return this.hm}},{key:"Qs",get:function(){return this.um}},{key:"lm",get:function(){return this.dm}},{key:"fm",get:function(){return this._m}},{key:"vm",get:function(){var t;return null!=(t=this.gm)?t:this.pm}},{key:"wm",get:function(){return this.ym}},{key:"Am",get:function(){var t;return(null==(t=f.chrome)?void 0:t.webview)&&this.Sm>0}},{key:"Tm",get:function(){return this.Sm}},{key:"Em",get:function(){return this.xm}},{key:"Rm",get:function(){return this.Im}},{key:"Cm",get:function(){return this.Pm}},{key:"Dm",get:function(){return this.Nm}},{key:"Mm",get:function(){return this.Lm}},{key:"Bm",get:function(){return this.Om}},{key:"Fm",get:function(){return this.Vm}},{key:"Wm",get:function(){return this.Um}},{key:"Gm",get:function(){return this.Hm}},{key:"Zm",get:function(){return this.Xm}},{key:"zm",get:function(){return this.qm}},{key:"Ym",get:function(){return this.Km}},{key:"jm",get:function(){return this.Qm}},{key:"Jm",get:function(){return this.$m}},{key:"eg",get:function(){return this.rg}},{key:"og",get:function(){return this.hg}},{key:"ag",get:function(){return this.cg}},{key:"dg",get:function(){return this.fg}},{key:"_g",get:function(){return!(!this.Cm&&!this.Em)&&this.vm<=56}},{key:"vg",get:function(){return this.gg}},{key:"pg",get:function(){return this.wg}},{key:"yg",get:function(){return this.Ag}},{key:"Sg",get:function(){return this.Tg}},{key:"Eg",get:function(){return this.xg}},{key:"Rg",get:function(){return this.Ig}},{key:"Cg",get:function(){return this.Pg}},{key:"Dg",get:function(){return this.Ng}},{key:"IS_IOS_CHROME",get:function(){return this.Mg}}]),t}();Xn.Lg=new Xn;var Gn=Xn.Lg;F(),Tt(),at();var Hn={}.hasOwnProperty,zn={}.toString;function Yn(t){return null!=t}function jn(t){return void 0===t}var Kn,qn=Array.isArray||function(t){return"[object Array]"===zn.call(t)};function Jn(t){return Qn(t)&&Hn.call(t,"length")&&ei(t.length)}function Qn(t){return"object"===(void 0===t?"undefined":U(t))&&null!==t}function $n(t){return Qn(t)&&t.constructor&&t.constructor===b}function ti(t){return"string"==typeof t}function ni(t){return"boolean"==typeof t}function ii(t){return Yn(t)&&"function"==typeof t.then}function ri(t){return"[object Date]"===zn.call(t)}function ei(t){return"number"==typeof t}function ui(t){return"function"==typeof t}function si(t){return ui(t)||Qn(t)}function oi(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function ai(t){for(var n;Yn(n=t.firstChild);)t.removeChild(n)}function ci(t){var n=t.className;return"string"==typeof n?n:n&&"string"==typeof n.baseVal?n.baseVal:""}function hi(t,n){var i=t.className;"string"==typeof i?t.className=n:i&&"string"==typeof i.baseVal&&(i.baseVal=n)}function fi(t,n){if(void 0!==t.classList)t.classList.add(n);else if(void 0!==t.className){var i=ci(t);-1===(" "+i+" ").indexOf(" "+n+" ")&&hi(t,(i+" "+n).trim())}}function vi(t){t.stopPropagation()}function di(t,n){Gn.Em&&Gn.Rm<3?function(t,n){var i=n;switch(n){case"flex":i="-webkit-flex";break;case"inline-flex":i="-webkit-inline-flex"}t.display=i}(t,n):function(t,n){if(t.display=n,t.display!==n){var i=n;switch(n){case"flex":i="-ms-flexbox";break;case"inline-flex":i="-ms-inline-flexbox"}t.display=i}}(t,n)}function li(t,n){var i=n.style;if(i)for(var r=0,e=b.keys(t);r<e.length;r++){var u=e[r],s=t[u];void 0!==s&&(i[u]=s)}}function gi(t){var n=t.style;n.position="absolute",n.left="0",n.right="0",n.top="0",n.bottom="0",n.width="100%",n.height="100%"}function wi(t){var n=t.style;n.position="",n.left="",n.right="",n.top="",n.bottom="",n.width="",n.height=""}function mi(t){t.removeAttribute("title")}function yi(t){try{return Boolean(t)&&t.parent!==t}catch(t){return!1}}F(),Tt(),F(),Tt();var pi=function(){},_i=function(t){return t};function bi(t,n){var i=-1/0;return function(){for(var r=arguments.length,e=new Array(r),u=0;u<r;u++)e[u]=arguments[u];var s=Kn.Bg();s-i>=n&&(t.apply(this,e),i=s)}}function ki(t,n){var i=0;return function(){for(var r=arguments.length,e=new Array(r),u=0;u<r;u++)e[u]=arguments[u];var s=this;0!==i&&Kn.Og(i),i=Kn.Fg((function(){i=0,t.apply(s,e)}),n)}}function Ai(t){var n;return function(){return void 0!==t&&(n=t(),t=void 0),n}}function Ti(t){return"video"===function(t){return t&&t.nodeName&&t.nodeName.toLowerCase()||""}(t)}function Si(t){t.src&&(t.removeAttribute("src"),t.load()),t.srcObject&&(t.srcObject=null,t.load())}function Ei(){return void 0!==v?v.createElement("video"):void 0}var Ii=Ai(Ei),Ri=Ai((function(){return"undefined"!=typeof HTMLVideoElement&&Ii()instanceof HTMLVideoElement}));F(),Tt(),F(),Tt(),F(),Tt();var Ci=null;try{Ci=new WebAssembly.Instance(new WebAssembly.Module(new E([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(wn){}function Ni(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function Di(t){return!0===(t&&t.Vg)}function Pi(t){var n=k.clz32(t&-t);return t?31-n:n}Ni.prototype.Vg,b.defineProperty(Ni.prototype,"Vg",{value:!0}),Ni.isLong=Di;var xi={},Li={};function Mi(t,n){var i,r,e;return n?(e=0<=(t>>>=0)&&t<256)&&(r=Li[t])?r:(i=Bi(t,0,!0),e&&(Li[t]=i),i):(e=-128<=(t|=0)&&t<128)&&(r=xi[t])?r:(i=Bi(t,t<0?-1:0,!1),e&&(xi[t]=i),i)}function Oi(t,n){if(S(t))return n?zi:Hi;if(n){if(t<0)return zi;if(t>=Zi)return Ji}else{if(t<=-Xi)return Qi;if(t+1>=Xi)return qi}return t<0?Oi(-t,n).neg():Bi(t%Wi|0,t/Wi|0,n)}function Bi(t,n,i){return new Ni(t,n,i)}Ni.fromInt=Mi,Ni.fromNumber=Oi,Ni.fromBits=Bi;var Vi=k.pow;function Fi(t,n,i){if(0===t.length)throw p("empty string");if("number"==typeof n?(i=n,n=!1):n=!!n,"NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return n?zi:Hi;if((i=i||10)<2||36<i)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw p("interior hyphen");if(0===r)return Fi(t.substring(1),n,i).neg();for(var e=Oi(Vi(i,8)),u=Hi,s=0;s<t.length;s+=8){var o=k.min(8,t.length-s),a=A(t.substring(s,s+o),i);if(o<8){var c=Oi(Vi(i,o));u=u.mul(c).add(Oi(a))}else u=(u=u.mul(e)).add(Oi(a))}return u.unsigned=n,u}function Ui(t,n){return"number"==typeof t?Oi(t,n):"string"==typeof t?Fi(t,n):Bi(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}Ni.fromString=Fi,Ni.fromValue=Ui;var Wi=4294967296,Zi=Wi*Wi,Xi=Zi/2,Gi=Mi(1<<24),Hi=Mi(0);Ni.ZERO=Hi;var zi=Mi(0,!0);Ni.UZERO=zi;var Yi=Mi(1);Ni.ONE=Yi;var ji=Mi(1,!0);Ni.UONE=ji;var Ki=Mi(-1);Ni.NEG_ONE=Ki;var qi=Bi(-1,2147483647,!1);Ni.MAX_VALUE=qi;var Ji=Bi(-1,-1,!0);Ni.MAX_UNSIGNED_VALUE=Ji;var Qi=Bi(0,-2147483648,!1);Ni.MIN_VALUE=Qi;var $i=Ni.prototype;$i.toInt=function(){return this.unsigned?this.low>>>0:this.low},$i.toNumber=function(){return this.unsigned?(this.high>>>0)*Wi+(this.low>>>0):this.high*Wi+(this.low>>>0)},$i.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Qi)){var n=Oi(t),i=this.div(n),r=i.mul(n).sub(this);return i.toString(t)+r.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var e=Oi(Vi(t,6),this.unsigned),u=this,s="";;){var o=u.div(e),a=(u.sub(o.mul(e)).toInt()>>>0).toString(t);if((u=o).isZero())return a+s;for(;a.length<6;)a="0"+a;s=""+a+s}},$i.getHighBits=function(){return this.high},$i.getHighBitsUnsigned=function(){return this.high>>>0},$i.getLowBits=function(){return this.low},$i.getLowBitsUnsigned=function(){return this.low>>>0},$i.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Qi)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},$i.isZero=function(){return 0===this.high&&0===this.low},$i.eqz=$i.isZero,$i.isNegative=function(){return!this.unsigned&&this.high<0},$i.isPositive=function(){return this.unsigned||this.high>=0},$i.isOdd=function(){return 1==(1&this.low)},$i.isEven=function(){return 0==(1&this.low)},$i.equals=function(t){return Di(t)||(t=Ui(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},$i.eq=$i.equals,$i.notEquals=function(t){return!this.eq(t)},$i.neq=$i.notEquals,$i.ne=$i.notEquals,$i.lessThan=function(t){return this.comp(t)<0},$i.lt=$i.lessThan,$i.lessThanOrEqual=function(t){return this.comp(t)<=0},$i.lte=$i.lessThanOrEqual,$i.le=$i.lessThanOrEqual,$i.greaterThan=function(t){return this.comp(t)>0},$i.gt=$i.greaterThan,$i.greaterThanOrEqual=function(t){return this.comp(t)>=0},$i.gte=$i.greaterThanOrEqual,$i.ge=$i.greaterThanOrEqual,$i.compare=function(t){if(Di(t)||(t=Ui(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},$i.comp=$i.compare,$i.negate=function(){return!this.unsigned&&this.eq(Qi)?Qi:this.not().add(Yi)},$i.neg=$i.negate,$i.add=function(t){Di(t)||(t=Ui(t));var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,a=0,c=0,h=0,f=0;return h+=(f+=e+(65535&t.low))>>>16,c+=(h+=r+o)>>>16,a+=(c+=i+s)>>>16,a+=n+u,Bi((h&=65535)<<16|(f&=65535),(a&=65535)<<16|(c&=65535),this.unsigned)},$i.subtract=function(t){return Di(t)||(t=Ui(t)),this.add(t.neg())},$i.sub=$i.subtract,$i.multiply=function(t){if(this.isZero())return this;if(Di(t)||(t=Ui(t)),Ci)return Bi(Ci.mul(this.low,this.high,t.low,t.high),Ci.get_high(),this.unsigned);if(t.isZero())return this.unsigned?zi:Hi;if(this.eq(Qi))return t.isOdd()?Qi:Hi;if(t.eq(Qi))return this.isOdd()?Qi:Hi;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(Gi)&&t.lt(Gi))return Oi(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,a=65535&t.low,c=0,h=0,f=0,v=0;return f+=(v+=e*a)>>>16,h+=(f+=r*a)>>>16,f&=65535,h+=(f+=e*o)>>>16,c+=(h+=i*a)>>>16,h&=65535,c+=(h+=r*o)>>>16,h&=65535,c+=(h+=e*s)>>>16,c+=n*a+i*o+r*s+e*u,Bi((f&=65535)<<16|(v&=65535),(c&=65535)<<16|(h&=65535),this.unsigned)},$i.mul=$i.multiply,$i.divide=function(t){if(Di(t)||(t=Ui(t)),t.isZero())throw p("division by zero");var n,i,r;if(Ci)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?Bi((this.unsigned?Ci.div_u:Ci.div_s)(this.low,this.high,t.low,t.high),Ci.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?zi:Hi;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return zi;if(t.gt(this.shru(1)))return ji;r=zi}else{if(this.eq(Qi))return t.eq(Yi)||t.eq(Ki)?Qi:t.eq(Qi)?Yi:(n=this.shr(1).div(t).shl(1)).eq(Hi)?t.isNegative()?Yi:Ki:(i=this.sub(t.mul(n)),r=n.add(i.div(t)));if(t.eq(Qi))return this.unsigned?zi:Hi;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();r=Hi}for(i=this;i.gte(t);){n=k.max(1,k.floor(i.toNumber()/t.toNumber()));for(var e=k.ceil(k.log(n)/k.LN2),u=e<=48?1:Vi(2,e-48),s=Oi(n),o=s.mul(t);o.isNegative()||o.gt(i);)o=(s=Oi(n-=u,this.unsigned)).mul(t);s.isZero()&&(s=Yi),r=r.add(s),i=i.sub(o)}return r},$i.div=$i.divide,$i.modulo=function(t){return Di(t)||(t=Ui(t)),Ci?Bi((this.unsigned?Ci.rem_u:Ci.rem_s)(this.low,this.high,t.low,t.high),Ci.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},$i.mod=$i.modulo,$i.rem=$i.modulo,$i.not=function(){return Bi(~this.low,~this.high,this.unsigned)},$i.countLeadingZeros=function(){return this.high?k.clz32(this.high):k.clz32(this.low)+32},$i.clz=$i.countLeadingZeros,$i.countTrailingZeros=function(){return this.low?Pi(this.low):Pi(this.high)+32},$i.ctz=$i.countTrailingZeros,$i.and=function(t){return Di(t)||(t=Ui(t)),Bi(this.low&t.low,this.high&t.high,this.unsigned)},$i.or=function(t){return Di(t)||(t=Ui(t)),Bi(this.low|t.low,this.high|t.high,this.unsigned)},$i.xor=function(t){return Di(t)||(t=Ui(t)),Bi(this.low^t.low,this.high^t.high,this.unsigned)},$i.shiftLeft=function(t){return Di(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Bi(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):Bi(0,this.low<<t-32,this.unsigned)},$i.shl=$i.shiftLeft,$i.shiftRight=function(t){return Di(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Bi(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):Bi(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},$i.shr=$i.shiftRight,$i.shiftRightUnsigned=function(t){return Di(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Bi(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):Bi(32===t?this.high:this.high>>>t-32,0,this.unsigned)},$i.shru=$i.shiftRightUnsigned,$i.shr_u=$i.shiftRightUnsigned,$i.rotateLeft=function(t){var n;return Di(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?Bi(this.high,this.low,this.unsigned):t<32?(n=32-t,Bi(this.low<<t|this.high>>>n,this.high<<t|this.low>>>n,this.unsigned)):(n=32-(t-=32),Bi(this.high<<t|this.low>>>n,this.low<<t|this.high>>>n,this.unsigned))},$i.rotl=$i.rotateLeft,$i.rotateRight=function(t){var n;return Di(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?Bi(this.high,this.low,this.unsigned):t<32?(n=32-t,Bi(this.high<<n|this.low>>>t,this.low<<n|this.high>>>t,this.unsigned)):(n=32-(t-=32),Bi(this.low<<n|this.high>>>t,this.high<<n|this.low>>>t,this.unsigned))},$i.rotr=$i.rotateRight,$i.toSigned=function(){return this.unsigned?Bi(this.low,this.high,!1):this},$i.toUnsigned=function(){return this.unsigned?this:Bi(this.low,this.high,!0)},$i.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},$i.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},$i.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},Ni.fromBytes=function(t,n,i){return i?Ni.fromBytesLE(t,n):Ni.fromBytesBE(t,n)},Ni.fromBytesLE=function(t,n){return new Ni(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},Ni.fromBytesBE=function(t,n){return new Ni(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var tr=Ni;function nr(t,n){return t.lessThan(n)?t:n}F(),Tt();var ir=9007199254740991,rr=k.pow(2,-52);function er(t,n,i){return k.min(k.max(t,n),i)}function ur(t,n,i){return t===n||k.abs(t-n)<=i}function sr(t,n){if(t===n)return!0;var i=k.abs(t-n);return i<rr||i<k.max(k.abs(t),k.abs(n))*rr}function or(t,n){return t%n+(t<0?n:0)}function ar(t){return t!=t}function cr(t,n){return t===n||ar(t)&&ar(n)}function hr(t,n){for(var i=t,r=n;0!==r;){var e=i%r;i=r,r=e}return i<0?-i:i}function fr(t,n){return t.reduce((function(t,i){return t+n(i)}),0)}function vr(t){return!S(t.getTime())}function dr(){return Date.now()||(new Date).getTime()}function lr(t){return t/1e3}function gr(t){return 1e3*t}var wr=1/6,mr=tr.fromNumber(ir);function yr(t,n){if(0===n)return t.isZero()?NaN:t.isNegative()?-1/0:1/0;if(t.lessThanOrEqual(mr))return t.toNumber()/n;var i=t.divide(n),r=t.subtract(i.multiply(n));return i.toNumber()+r.toNumber()/n}var pr=!!("ontouchstart"in self||self.DocumentTouch&&v instanceof self.DocumentTouch)||!(!l||!l.msMaxTouchPoints),_r=Ii(),br=!(!_r||!_r.webkitShowPlaybackTargetPicker),kr=function(){function t(){this.Ug=void 0,this.cp=!1,this.Je=pr,this.Qs=!1,this.lp=!0}var n=t.prototype;return n.Gg=function(){return 0},n.hp=function(t,n){return!0},n.ap=function(t){return t>=2*wr},Nt(t,[{key:"Wg",get:function(){return void 0===this.Ug&&(this.Ug=this.Gg()),this.Ug}},{key:"Hg",get:function(){return!Gn.dg}},{key:"Zg",get:function(){if(f.screen)return{width:f.screen.width,height:f.screen.height}}},{key:"Xg",get:function(){return f.devicePixelRatio||1}},{key:"zg",get:function(){return br}},{key:"qg",get:function(){return!1}},{key:"Yg",get:function(){return!0}},{key:"Kg",get:function(){return!(!Gn.jm&&!Gn.Ka)||!!Gn.Bm}},{key:"jg",get:function(){return Gn.Bm}},{key:"Qg",get:function(){return!Gn.Ka}},{key:"Jg",get:function(){return!0}},{key:"$g",get:function(){return!0}},{key:"tp",get:function(){return!1}},{key:"ep",get:function(){}},{key:"sp",get:function(){return!0}},{key:"np",get:function(){return!1}},{key:"rp",get:function(){return Gn.Bm}},{key:"op",get:function(){return!1}}]),t}(),Ar=function(t){function n(){return t.call(this)||this}return It(n,t),n}(kr);F(),Tt(),Dt(),Rt();var Tr=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n.prototype.hp=function(t,n){if(t&&t.dp&&n&&n.dp){var i=Sr(t.dp,"mp4a.40.2")&&Sr(n.dp,"mp4a.40.5"),r=Sr(t.dp,"mp4a.40.5")&&Sr(n.dp,"mp4a.40.2"),e=Sr(t.dp,"mp4a.40.2")&&Sr(n.dp,"mp4a.40.34"),u=Sr(t.dp,"mp4a.40.34")&&Sr(n.dp,"mp4a.40.2"),s=Sr(t.dp,"mp4a.40.5")&&Sr(n.dp,"mp4a.40.34"),o=Sr(t.dp,"mp4a.40.34")&&Sr(n.dp,"mp4a.40.5");return!(i||r||e||u||s||o)}return!0},Nt(n,[{key:"ep",get:function(){if(Gn.Iv)return 4096}}]),n}(Ar);function Sr(t,n){return t.indexOf(n)>-1}F(),Tt(),Rt();var Er=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n.prototype.ap=function(t){return t>=2},n}(Ar);F(),Tt(),Dt(),Rt();var Ir=function(t){function n(){var n;return(n=t.call(this)||this).cp=Gn.Jm>=11,n.lp=Gn.jm&&!(Gn.Ka&&Gn.Jm<10),n}return It(n,t),Nt(n,[{key:"op",get:function(){return Gn.Jm<17}}]),n}(Ar);F(),Tt(),Dt(),Rt();var Rr,Cr=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),Nt(n,[{key:"sp",get:function(){return!Gn.Pv||(Gn.wm?92!==Gn.Tm:Gn.vm>=100)}}]),n}(Ar);F(),Tt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt(),F(),Tt();var Nr=function(){var t=Ei();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(Gn.Xv)return!1;var t=Ei();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var Dr=function(t){function n(n){var i;return(i=t.call(this)||this).fp=n,i.cp=i.fp.cp,i.Je=i.fp.Je,i.lp=Nr&&i.fp.lp,i}It(n,t);var i=n.prototype;return i.Gg=function(){return this.fp.Wg},i.hp=function(t,n){return this.fp.hp(t,n)},i.ap=function(t){return this.fp.ap(t)},Nt(n,[{key:"ep",get:function(){return this.fp.ep}},{key:"sp",get:function(){return this.fp.sp}},{key:"op",get:function(){return this.fp.op}}]),n}(kr),Pr=function(t){function n(n){var i;return(i=t.call(this,n)||this).cp=!0,i.Qs=!0,i}return It(n,t),Nt(n,[{key:"tp",get:function(){return Gn.Ka}}]),n}(Dr);F(),Tt();var xr=function(){function t(t){this.vp=Lr(t)}var n=t.prototype;return n._p=function(){return new this.vp},n.mp=function(t){return this.vp.isTypeSupported(t)},t}();function Lr(t){return t&&si(f.ManagedMediaSource)?f.ManagedMediaSource:si(f.MediaSource)?f.MediaSource:void 0}var Mr=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n.prototype.Gg=function(){return Lr(!0)?t.prototype.Gg.call(this):1},Nt(n,[{key:"tp",get:function(){return!0}}]),n}(Pr);F(),Tt(),Dt(),Rt();var Or=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n.prototype.hp=function(n,i){return t.prototype.hp.call(this,n,i)},Nt(n,[{key:"qg",get:function(){return Gn.Rm<3}},{key:"Yg",get:function(){return Gn.Rm>=3}},{key:"Zg",get:function(){var t=this;return f.tizen&&!this.gp&&f.tizen.systeminfo.getPropertyValue("DISPLAY",(function(n){var i=n.resolutionWidth,r=n.resolutionHeight;1===i&&1===r||(t.gp={width:i,height:r})})),this.gp}},{key:"np",get:function(){return Gn.Rm<3}}]),n}(Dr);F(),Tt(),Dt(),Rt();var Br=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),Nt(n,[{key:"Zg",get:function(){var t=this;return f.webOS&&!this.gp&&f.webOS.deviceInfo((function(n){t.gp={width:n.screenWidth,height:n.screenHeight}})),this.gp}},{key:"Jg",get:function(){return!1}}]),n}(Dr);F(),Tt(),Dt(),Rt();var Vr=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),Nt(n,[{key:"tp",get:function(){return!0}}]),n}(Dr);!function(t){Rr=t}(function(){var t=function(){if(Gn.zm)return new Tr;if(Gn.Fm||Gn.Wm)return new Er;if(Gn.jm)return new Ir;if(Gn.fm)return new Cr;return new Ar}();return Gn.Ka?new Mr(t):Gn.Qs?new Pr(t):Gn.Em?new Or(t):Gn.Cm?new Br(t):Gn.Iv?new Vr(t):new Dr(t)}()),F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Ut(),at(),F(),Tt(),Ut();var Fr=!(Gn.Wm&&!Gn.Gm),Ur=self.console;function Wr(t){if(Qn(t))try{return JSON.stringify(t)}catch(t){}return t}function Zr(t){return t.map(Wr).join(" ")}function Xr(t){var n=Ur&&Ur[t];return n?n.bind&&Fr?n.bind(Ur):function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];Ur[t](Zr(i))}:void 0}var Gr=Xr("log")||pi,Hr=Xr("warn")||Gr.bind(void 0,"WARNING:"),zr=Xr("error")||Gr.bind(void 0,"ERROR:"),Yr=function(){var t=Ur&&Ur.assert;return t?t.bind&&Fr?t.bind(Ur):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];Ur.assert(t,Zr(i))}:function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];t||zr.apply(void 0,["Assertion failed:"].concat(Ft(i)))}}();function jr(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),b.defineProperty(t,r.key,r)}}function Kr(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var r=new Array(i),e=1;e<i;e*=2){qr(t,n,e,r);var u=t;t=r,r=u}return t}(t,n);return i!==t&&qr(i,null,t.length,t),t}function qr(t,n,i,r){var e,u,s,o,a,c=t.length,h=0,f=2*i;for(e=0;e<c;e+=f)for(s=(u=e+i)+i,u>c&&(u=c),s>c&&(s=c),o=e,a=u;;)if(o<u&&a<s)n(t[o],t[a])<=0?r[h++]=t[o++]:r[h++]=t[a++];else if(o<u)r[h++]=t[o++];else{if(!(a<s))break;r[h++]=t[a++]}}F(),Tt();var Jr=/[a-zA-Z]/,Qr=/[0-9]/,$r=/[0-9a-fA-F]/,te=/^0x/i,ne=/^[0-9]+$/,ie=/^[0-9a-fA-F]+$/,re=/^[0-7]+$/,ee=b.prototype.toString,ue=Array.isArray||function(t){return"[object Array]"===ee.call(t)},se=void 0!==n&&"symbol"==typeof r;function oe(t){return ue(t)?t:Array.from(t)}function ae(t,n,i){var r=t[n];t[n]=t[i],t[i]=r}function ce(t){return t>=65&&t<=90}function he(t){return ce(t)||function(t){return t>=97&&t<=122}(t)}function fe(t){return t>=48&&t<=57}function ve(t){return fe(t)||he(t)}function de(t){return fe(t)||t>=65&&t<=70||t>=97&&t<=102}function le(t){return ce(t)?t+32:t}function ge(t){return fe(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function we(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var me=k.min,ye=String.fromCharCode,pe=16384;function _e(t){for(var n=t.length,i=[],r=0;r<n;r+=pe){var e=me(r+pe,n);i.push(ye.apply(null,t.slice(r,e)))}return i.join("")}var be=2147483647,ke=/[^\0-\x7E]/,Ae=/[\x2E\u3002\uFF0E\uFF61]/g,Te={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Se=k.floor,Ee=String.fromCharCode;function Ie(t){throw new RangeError(Te[t])}function Re(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}var Ce,Ne,De,Pe=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},xe=function(t,n,i){var r=0;for(t=i?Se(t/700):t>>1,t+=Se(t/n);t>455;r+=36)t=Se(t/35);return Se(r+36*t/(t+38))},Le=function(t){return function(t,n){var i=t.split("@"),r="";i.length>1&&(r=i[0]+"@",t=i[1]);var e=function(t,n){for(var i=[],r=t.length;r--;)i[r]=n(t[r]);return i}((t=t.replace(Ae,".")).split("."),n).join(".");return r+e}(t,(function(t){return ke.test(t)?"xn--"+function(t){for(var n=[],i=(t=Re(t)).length,r=128,e=0,u=72,s=0,o=t;s<o.length;s++){var a=o[s];a<128&&n.push(Ee(a))}var c=n.length,h=c;for(c&&n.push("-");h<i;){for(var f=be,v=0,d=t;v<d.length;v++){var l=d[v];l>=r&&l<f&&(f=l)}var g=h+1;f-r>Se((be-e)/g)&&Ie("overflow"),e+=(f-r)*g,r=f;for(var w=0,m=t;w<m.length;w++){var y=m[w];if(y<r&&++e>be&&Ie("overflow"),y==r){for(var p=e,_=36;;_+=36){var b=_<=u?1:_>=u+26?26:_-u;if(p<b)break;var k=p-b,A=36-b;n.push(Ee(Pe(b+k%A,0))),p=Se(k/A)}n.push(Ee(Pe(p,0))),u=xe(e,g,h==c),e=0,++h}}++e,++r}return n.join("")}(t):t}))};function Me(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return _e(n)}function Oe(t){if(t>=55296&&t<=57343)throw new p("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Be(t,n){return t>>n&63|128}function Ve(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Oe(t),n.push(t>>12&15|224),n.push(Be(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Be(t,12)),n.push(Be(t,6))),n.push(63&t|128)):n.push(t)}function Fe(t){for(var n=[],i=0;i<t.length;i++){Ve(t[i],n)}return n}function Ue(){if(De>=Ne)throw new p("Invalid byte index");var t=255&Ce[De];if(De++,128==(192&t))return 63&t;throw new p("Invalid continuation byte")}function We(){var t,n;if(De>Ne)throw new p("Invalid byte index");if(De===Ne)return!1;if(t=255&Ce[De],De++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|Ue())>=128)return n;throw new p("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|Ue()<<6|Ue())>=2048)return Oe(n),n;throw new p("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|Ue()<<12|Ue()<<6|Ue())>=65536&&n<=1114111)return n;throw new p("Invalid UTF-8 detected")}function Ze(t){return[37,we(t>>4),we(15&t)]}function Xe(t){return function(t){return t>=0&&t<=31}(t)||t>126}function Ge(t){return Xe(t)||32===t||34===t||60===t||62===t||96===t}function He(t){return Ge(t)||35===t||63===t||123===t||125===t}function ze(t){return He(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function Ye(t){return t<33||t>126||34===t||35===t||60===t||62===t}function je(t){return Ye(t)||39===t}function Ke(t,n){if(!n(t))return[t];for(var i=Fe([t]),r=[],e=0;e<i.length;e++){var u=i[e];r.push.apply(r,Ze(u))}return r}function qe(t,n){for(var i=[],r=0,e=Re(t);r<e.length;r++){var u=e[r];i.push.apply(i,Ke(u,n))}return Me(i)}function Je(t){return function(t){for(var n=[],i=t.length,r=0;r<i;r++){var e=t[r];if(37===e&&r+2<i&&de(t[r+1])&&de(t[r+2])){var u=ge(t[r+1])<<4|ge(t[r+2]);n.push(u),r+=2}else n.push(e)}return n}(Fe(t))}function Qe(t){return Me(function(t){Ce=t.slice(),Ne=Ce.length,De=0;for(var n,i=[];!1!==(n=We());)i.push(n);return i}(Je(Re(t))))}function $e(t){var n=t.length,i=[0,0,0,0,0,0,0,0],r=0,e=null,u=0;if(u<n&&":"===t[u]){if(!(u+1<n&&":"===t[u+1]))throw new _;u+=2,e=r+=1}for(;u<n;){if(8===r)throw new _("Too many groups");if(":"!==t[u]){for(var s=0,o=0;o<4&&u<n&&$r.test(t[u]);)s=s<<4|A(t[u],16),u+=1,o+=1;if("."===t[u]){if(0===o)throw new _;if(u-=o,r>6)throw new _;for(var a=0;u<n;){var c=null;if(a>0){if(!("."===t[u]&&a<4))throw new _;u+=1}if(!Qr.test(t[u]))throw new _;for(;u<n&&Qr.test(t[u]);){var h=A(t[u],10);if(null===c)c=h;else{if(0===c)throw new _;if((c=10*c+h)>255)throw new _}u+=1}i[r]=i[r]<<8|c,2!==(a+=1)&&4!==a||(r+=1)}if(4!==a)throw new _;break}if(":"===t[u]){if((u+=1)===n)throw new _}else if(u<n)throw new _;i[r]=s,r+=1}else{if(null!==e)throw new _("Too many :: groups");u+=1,e=r+=1}}if(null!==e){var f=r-e;for(r=7;0!==r&&f>0;)ae(i,r,e+f-1),r-=1,f-=1}else if(8!==r)throw new _;return i}function tu(t){var n=10,i=ne;return te.test(t)?(t=t.slice(2),n=16,i=ie):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=re),""===t?0:i.test(t)?A(t,n):void 0}var nu={pp:4},iu=/[\0\t\n\r #%/:?@\[\\\]]/,ru=/[\0\t\n\r #/:?@\[\\\]]/;function eu(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new _("Invalid IPv6 address");return{pp:2,wp:$e(t.slice(1,-1))}}if(!n)return function(t){if(ru.test(t))throw new _("Invalid code point in opaque host");var n=qe(t,Xe);return""===n?nu:{pp:3,yp:n}}(t);var i=function(t){var n=function(t){return Le(t.toLowerCase())}(t);return n}(Qe(t));if(iu.test(i))throw new _("Invalid code point in host");var r=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],r=0;r<n.length;r++){var e=n[r];if(""===e)return;var u=tu(e);if(void 0===u)return;i.push(u)}for(var s=0;s<i.length-1;s++)if(i[s]>255)throw new _;if(i[i.length-1]>=k.pow(256,5-i.length))throw new _;for(var o=i.pop(),a=0;a<i.length;a++)o+=i[a]*k.pow(256,3-a);return o}}(i);return void 0!==r?{pp:1,wp:r}:""===i?nu:{pp:0,bp:i}}function uu(t){switch(t.pp){case 0:return t.bp;case 1:return function(t){for(var n=[],i=t,r=1;r<=4;r++)n.push(""+(255&i)),4!==r&&n.push("."),i>>>=8;return n.reverse().join("")}(t.wp);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,r=0,e=0,u=0;u<8;u++)0===t[u]?(0===e&&(r=u),e++):(e>i&&(n=r,i=e),e=0);return e>i&&(n=r,i=e),i>1?n:null}(t),r=!1,e=0;e<8;e++){if(r){if(0===t[e])continue;r=!1}i!==e?(n+=t[e].toString(16),7!==e&&(n+=":")):(n+=0===e?"::":":",r=!0)}return n}(t.wp)+"]";case 3:return t.yp;case 4:return""}}var su=/\+/g;function ou(t){return 42===t||45===t||46===t||95===t||ve(t)}function au(t){for(var n=t.split("&"),i=[],r=0;r<n.length;r++){var e=n[r];if(""!==e){var u=e.indexOf("="),s=void 0,o=void 0;-1!==u?(s=e.slice(0,u),o=e.slice(u+1)):(s=e,o=""),s=s.replace(su," "),o=o.replace(su," ");var a=Qe(s),c=Qe(o);i.push([a,c])}}return i}function cu(t){for(var n="",i=0;i<t.length;i++){var r=t[i];i>0&&(n+="&"),n+=hu(Fe(Re(r[0])))+"="+hu(Fe(Re(r[1])))}return n}function hu(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];32===r?n.push(43):ou(r)?n.push(r):n.push.apply(n,Ze(r))}return _e(n)}var fu=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function vu(t){var n=""+t,i=fu.exec(n);return i?function(t,n){for(var i=t.length,r=[],e=n;e<i;e++){var u=t.charCodeAt(e);if(lu(u))if(gu(u)||e===i-1)r.push(du);else{var s=t.charCodeAt(e+1);gu(s)?(r.push(u,s),e++):r.push(du)}else r.push(u)}return t.slice(0,n)+_e(r)}(n,i.index):n}var du=65533,lu=function(t){return 55296==(63488&t)},gu=function(t){return 0!=(1024&t)};function wu(t,n){var i=t[0],r=n[0];return i===r?0:i<r?-1:1}function mu(t){t.R_.length=0}function yu(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.R_,au(n))}function pu(t){if(t.Yu){var n=cu(t.R_);""===n&&(n=null),t.Yu.Yu.Ap=n}}var _u=function(){function t(t){if(void 0===t&&(t=void 0),this.Yu=null,null==t)this.R_=[];else if("object"==typeof t||"function"==typeof t)if(function(t){return t instanceof _u&&!!ue(t.R_)&&(!se||t[r]===bu)}(t))this.R_=t.R_.slice();else if(function(t){return null!=t&&(!!ue(t)||!!se&&"function"==typeof t[r])}(t)){this.R_=[];for(var n=0,i=oe(t);n<i.length;n++){var e=oe(i[n]);if(2!==e.length)throw new _("Invalid name-value pair");this.R_.push([vu(e[0]),vu(e[1])])}}else for(var u in this.R_=[],t)b.prototype.hasOwnProperty.call(t,u)&&this.R_.push([vu(u),vu(t[u])]);else(t=vu(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.R_=au(t)}var n=t.prototype;return n.append=function(t,n){t=vu(t),n=vu(n),this.R_.push([t,n]),pu(this)},n.delete=function(t){t=vu(t);for(var n=this.R_,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}pu(this)},n.get=function(t){t=vu(t);for(var n=this.R_,i=0;i<n.length;i++){var r=n[i];if(r[0]===t)return r[1]}return null},n.getAll=function(t){t=vu(t);for(var n=this.R_,i=[],r=0;r<n.length;r++){var e=n[r];e[0]===t&&i.push(e[1])}return i},n.has=function(t){t=vu(t);for(var n=this.R_,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=vu(t),n=vu(n);for(var i=this.R_,r=!1,e=0;e<i.length;){var u=i[e];u[0]===t?r?i.splice(e,1):(u[1]=n,r=!0,e++):e++}r||i.push([t,n]),pu(this)},n.sort=function(){Kr(this.R_,wu),pu(this)},n.toString=function(){return cu(this.R_)},n.entries=function(){return new Su(this.R_,ku)},n.keys=function(){return new Su(this.R_,Au)},n.values=function(){return new Su(this.R_,Tu)},n.forEach=function(t){var n=this;this.R_.forEach((function(i){return t(i[1],i[0],n)}))},t}(),bu=_u.prototype.entries;se&&(_u.prototype[r]=bu);var ku=function(t){return[t[0],t[1]]},Au=function(t){return t[0]},Tu=function(t){return t[1]},Su=function(){function t(t,n){this.Sp=0,this.R_=t,this.Tp=n}return t.prototype.next=function(){return this.Sp<this.R_.length?{done:!1,value:this.Tp(this.R_[this.Sp++])}:{done:!0,value:void 0}},t}(),Eu="null";var Iu=b.create(null);Iu.ftp=21,Iu.file=0,Iu.gopher=70,Iu.http=80,Iu.https=443,Iu.ws=80,Iu.wss=443;var Ru=/^(?:\.|%2e)$/i,Cu=/^(?:\.|%2e){2}$/i;function Nu(t){return Ru.test(t)}function Du(t){return Cu.test(t)}function Pu(t){return void 0!==Iu[t]}function xu(t){return Pu(t.kp)}function Lu(t){return""!==t.Ep||""!==t.xp}function Mu(t){var n=t.length;if(!(n>=2))return!1;if(!Bu(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function Ou(t){return 2===t.length&&Jr.test(t[0])&&(":"===t[1]||"|"===t[1])}function Bu(t){return 2===t.length&&Ou(_e(t))}function Vu(t){return Ou(t)&&":"===t[1]}function Fu(t){var n=t.Rp;0!==n.length&&("file"===t.kp&&1===n.length&&Vu(n[0])||n.pop())}function Uu(t){return null===t.Ip||nu===t.Ip||t.Cp||"file"===t.kp}var Wu=-1,Zu=/\t|\n|\r/g,Xu=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function Gu(t,n,i,r){void 0===i&&(i=null),void 0===r&&(r=null),i||(i=new zu,t=t.replace(Xu,""));var e=null!==r?r:0;n=n||null;for(var u=[],s=!1,o=!1,a=!1,c=Re(t=t.replace(Zu,"")),h=c.length,f=0;f<=h;){var v=f<h?c[f]:Wu;switch(e){case 0:if(!he(v)){if(null===r){u.length=0,e=2;continue}throw new _("Invalid scheme")}u.push(le(v)),e=1;break;case 1:if(ve(v)||43===v||45===v||46===v)u.push(le(v));else{if(58!==v){if(null===r){u.length=0,e=2,f=0;continue}throw new _("Invalid scheme")}var d=Me(u);if(null!==r){if(Pu(i.kp)&&!Pu(d))return;if(!Pu(i.kp)&&Pu(d))return;if((Lu(i)||null!==i.Pp)&&"file"===d)return;if("file"===i.kp&&(i.Ip===nu||null===i.Ip))return}if(i.kp=d,null!==r)return void(xu(i)&&i.Pp===Iu[i.kp]&&(i.Pp=null));u.length=0,"file"===i.kp?e=13:xu(i)&&n&&n.kp===i.kp?e=3:xu(i)?e=7:47===c[f+1]?(e=4,f+=1):(i.Cp=!0,i.Rp.push(""),e=18)}break;case 2:if(!n||n.Cp&&35!==v)throw new _("Invalid scheme");n.Cp&&35===v?(i.kp=n.kp,i.Rp=n.Rp.slice(),i.Ap=n.Ap,i.Dp="",i.Cp=!0,e=20):"file"!==n.kp?(e=5,f-=1):(e=13,f-=1);break;case 3:47===v&&47===c[f+1]?e=8:(e=5,f-=1);break;case 4:47===v?e=9:(e=17,f-=1);break;case 5:i.kp=n.kp,Wu===v?(i.Ep=n.Ep,i.xp=n.xp,i.Ip=n.Ip,i.Pp=n.Pp,i.Rp=n.Rp.slice(),i.Ap=n.Ap):47===v?e=6:63===v?(i.Ep=n.Ep,i.xp=n.xp,i.Ip=n.Ip,i.Pp=n.Pp,i.Rp=n.Rp.slice(),i.Ap="",e=19):35===v?(i.Ep=n.Ep,i.xp=n.xp,i.Ip=n.Ip,i.Pp=n.Pp,i.Rp=n.Rp.slice(),i.Ap=n.Ap,i.Dp="",e=20):92===v&&xu(i)?e=6:(i.Ep=n.Ep,i.xp=n.xp,i.Ip=n.Ip,i.Pp=n.Pp,i.Rp=n.Rp.slice(),i.Rp.pop(),e=17,f-=1);break;case 6:!xu(i)||47!==v&&92!==v?47===v?e=9:(i.Ep=n.Ep,i.xp=n.xp,i.Ip=n.Ip,i.Pp=n.Pp,e=17,f-=1):e=8;break;case 7:if(47!==v||47!==c[f+1]){e=8;continue}e=8,f+=1;break;case 8:47!==v&&92!==v&&(e=9,f-=1);break;case 9:if(64===v){s&&u.unshift(37,52,48),s=!0;for(var l=0;l<u.length;l++){var g=u[l];if(58!==g||a){var w=Me(Ke(g,ze));a?i.xp+=w:i.Ep+=w}else a=!0}u.length=0}else if(Wu===v||47===v||63===v||35===v||xu(i)&&92===v){if(s&&0===u.length)throw new _("Invalid host");f-=u.length+1,u.length=0,e=10}else u.push(v);break;case 10:case 11:if(null!==r&&"file"===i.kp)f-=1,e=15;else if(58!==v||o)if(Wu===v||47===v||63===v||35===v||xu(i)&&92===v){if(f-=1,xu(i)&&0===u.length)throw new _("Invalid host");if(null!==r&&0===u.length&&(Lu(i)||null!==i.Pp))return;var m=eu(Me(u),xu(i));if(i.Ip=m,u.length=0,e=16,null!==r)return}else 91===v?o=!0:93===v&&(o=!1),u.push(v);else{if(0===u.length)throw new _("Invalid host");var y=eu(Me(u),xu(i));if(i.Ip=y,u.length=0,e=12,11===r)return}break;case 12:if(fe(v))u.push(v);else{if(!(Wu===v||47===v||63===v||35===v||xu(i)&&92===v||null!==r))throw new _("Invalid port");if(0!==u.length){var p=A(Me(u),10);if(p>65535)throw new _("Invalid port");i.Pp=p===Iu[i.kp]?null:p,u.length=0}if(null!==r)return;e=16,f-=1}break;case 13:i.kp="file",47===v||92===v?e=14:n&&"file"===n.kp?Wu===v?(i.Ip=n.Ip,i.Rp=n.Rp.slice(),i.Ap=n.Ap):63===v?(i.Ip=n.Ip,i.Rp=n.Rp.slice(),i.Ap="",e=19):35===v?(i.Ip=n.Ip,i.Rp=n.Rp.slice(),i.Ap=n.Ap,i.Dp="",e=20):(Mu(c.slice(f))||(i.Ip=n.Ip,i.Rp=n.Rp.slice(),Fu(i)),e=17,f-=1):(e=17,f-=1);break;case 14:47===v||92===v?e=15:(n&&"file"===n.kp&&!Mu(c.slice(f))&&(Vu(n.Rp[0])?i.Rp.push(n.Rp[0]):i.Ip=n.Ip),e=17,f-=1);break;case 15:if(Wu===v||47===v||92===v||63===v||35===v)if(f-=1,null===r&&Bu(u))e=17;else if(0===u.length){if(i.Ip=nu,null!==r)return;e=16}else{var b=eu(Me(u),xu(i));if(0===b.pp&&"localhost"===b.bp&&(b=nu),i.Ip=b,null!==r)return;u.length=0,e=16}else u.push(v);break;case 16:xu(i)?(e=17,47!==v&&92!==v&&(f-=1)):null===r&&63===v?(i.Ap="",e=19):null===r&&35===v?(i.Dp="",e=20):Wu!==v&&(e=17,47!==v&&(f-=1));break;case 17:if(Wu===v||47===v||xu(i)&&92===v||null===r&&(63===v||35===v)){var k=Me(u);if(Du(k)?(Fu(i),47===v||xu(i)&&92===v||i.Rp.push("")):!Nu(k)||47===v||xu(i)&&92===v?Nu(k)||("file"===i.kp&&0===i.Rp.length&&Bu(u)&&(nu!==i.Ip&&null!==i.Ip&&(i.Ip=nu),u[1]=58,k=Me(u)),i.Rp.push(k)):i.Rp.push(""),u.length=0,"file"===i.kp&&(Wu===v||63===v||35===v))for(;i.Rp.length>1&&""===i.Rp[0];)i.Rp.shift();63===v?(i.Ap="",e=19):35===v&&(i.Dp="",e=20)}else u.push.apply(u,Ke(v,He));break;case 18:63===v?(i.Ap="",e=19):35===v?(i.Dp="",e=20):Wu!==v&&(i.Rp[0]+=Me(Ke(v,Xe)));break;case 19:null===r&&35===v?(i.Dp="",e=20):Wu!==v&&(i.Ap+=Me(Ke(v,xu(i)?je:Ye)));break;case 20:Wu===v||0===v||(i.Dp+=Me(Ke(v,Ge)))}f++}return i}function Hu(t,n,i,r){try{Gu(t,n,i,r)}catch(t){}}var zu=function(){this.kp="",this.Ep="",this.xp="",this.Ip=null,this.Pp=null,this.Rp=[],this.Ap=null,this.Dp=null,this.Cp=!1};function Yu(t){switch(t.kp){case"blob":var n;try{n=Gu(t.Rp[0],null)}catch(t){return Eu}return Yu(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return function(t,n,i){return t+"://"+uu(n)+(null===i?"":":"+i)}(t.kp,t.Ip,t.Pp);default:return Eu}}var ju=function(){function t(t,n){var i,r=null;if(null!=n)if(function(t){return null!=t&&t instanceof ju&&"object"==typeof t.Yu}(n))r=n.Yu;else try{r=Gu(String(n),null)}catch(t){throw new _("Invalid base URL: "+t.message)}try{i=Gu(String(t),r)}catch(t){throw new _("Invalid URL: "+t.message)}var e=i.Ap;this.Yu=i,this.Ap=function(t){var n=new _u;return null!==t&&yu(n,t),n}(e),this.Ap.Yu=this}var n=t.prototype;return n.toString=function(){return this.href},n.toJSON=function(){return this.href},function(t,n,i){n&&jr(t.prototype,n),i&&jr(t,i)}(t,[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.kp+":";if(null!==t.Ip?(i+="//",Lu(t)&&(i+=t.Ep,""!==t.xp&&(i+=":"+t.xp),i+="@"),i+=uu(t.Ip),null!==t.Pp&&(i+=":"+t.Pp)):null===t.Ip&&"file"===t.kp&&(i+="//"),t.Cp)i+=t.Rp[0];else for(var r=0,e=t.Rp;r<e.length;r++)i+="/"+e[r];return null!==t.Ap&&(i+="?"+t.Ap),n||null===t.Dp||(i+="#"+t.Dp),i}(this.Yu)},set:function(t){var n;try{n=Gu(String(t),null)}catch(t){throw new _("Invalid URL: "+t.message)}this.Yu=n,mu(this.Ap);var i=this.Yu.Ap;null!==i&&yu(this.Ap,i)}},{key:"origin",get:function(){return Yu(this.Yu)}},{key:"protocol",get:function(){return this.Yu.kp+":"},set:function(t){Hu(t+":",null,this.Yu,0)}},{key:"username",get:function(){return this.Yu.Ep},set:function(t){Uu(this.Yu)||(this.Yu.Ep=qe(t,ze))}},{key:"password",get:function(){return this.Yu.xp},set:function(t){Uu(this.Yu)||(this.Yu.xp=qe(t,ze))}},{key:"host",get:function(){var t=this.Yu,n=t.Ip;if(null===n)return"";var i=t.Pp,r=uu(n);return null!==i&&(r+=":"+i),r},set:function(t){this.Yu.Cp||Hu(t,null,this.Yu,10)}},{key:"hostname",get:function(){var t=this.Yu.Ip;return null===t?"":uu(t)},set:function(t){this.Yu.Cp||Hu(t,null,this.Yu,11)}},{key:"port",get:function(){var t=this.Yu.Pp;return null===t?"":""+t},set:function(t){Uu(this.Yu)||(""===t?this.Yu.Pp=null:Hu(t,null,this.Yu,12))}},{key:"pathname",get:function(){var t=this.Yu.Rp;return this.Yu.Cp?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.Yu.Cp||(this.Yu.Rp.length=0,Hu(t,null,this.Yu,16))}},{key:"search",get:function(){var t=this.Yu.Ap;return null===t||""===t?"":"?"+t},set:function(t){t=vu(t);var n=this.Yu;if(""===t)return n.Ap=null,void mu(this.Ap);"?"===t[0]&&(t=t.slice(1)),n.Ap="",Hu(t,null,n,19),yu(this.Ap,t)}},{key:"searchParams",get:function(){return this.Ap}},{key:"hash",get:function(){var t=this.Yu.Dp;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.Yu.Dp="",Hu(t,null,this.Yu,20)):this.Yu.Dp=null}}]),t}();function Ku(t){return t.document&&t.document.baseURI||t.location.href||""}F(),Tt();var qu=function(){function t(){this.Yp=new Ju,this.Qp=Rr,this.jp=Qu(),self.performance&&self.performance.now?this.Bg=function(){return self.performance.now()}:this.Bg=dr}var n=t.prototype;return n.Np=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];Gr.apply(void 0,Ft(n))},n.Mp=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];Hr.apply(void 0,Ft(n))},n.Lp=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];zr.apply(void 0,Ft(n))},n.Bp=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];Yr.apply(void 0,[t].concat(Ft(i)))},n.Fg=function(t,n){return g(t,n)},n.Op=function(t,n){return m(t,n)},n.Og=function(t){w(t)},n.Fp=function(t){y(t)},n.Vp=function(){return this.Wp.Vp()},n.Up=function(){return this.Wp.Up()},n.Gp=function(){return this.Wp.Gp()},n.Hp=function(){return this.Wp.Hp()},n.Zp=function(){return this.Wp.Zp()},n.Xp=function(t,n){return this.Wp.Xp(t,n)},n.zp=function(t){return this.Wp.zp(t)},n.Ah=function(t,n){var i;return void 0===n&&(n=Ku(f)),i="object"!==(void 0===n?"undefined":U(n))||n instanceof ju?n:n.href,new ju(t,i)},n.Kp=function(t,n){if(void 0===n&&(n=Ku(f)),this.jp){var i=ti(n)?n:n.toString();return new self.URL(t,i).href}return this.Ah(t,n).href},Nt(t,[{key:"qp",get:function(){return this.Yp}},{key:"Ys",get:function(){return this.Qp}},{key:"Jp",get:function(){return{$p:l&&l.userAgent.match(/Android /i)?"Android":"other",ew:Boolean(l&&l.userAgent.match(/Android 8.0.0/i))}}},{key:"iw",get:function(){return self&&self.location&&"https:"===self.location.protocol}},{key:"nw",get:function(){return"languages"in l?l.languages.slice():[l.language]}}]),t}(),Ju=function(){function t(){}return Nt(t,[{key:"ow",get:function(){return l.oscpu}},{key:"Ys",get:function(){return l.platform}},{key:"hw",get:function(){return l.vendor}},{key:"aw",get:function(){return l.vendorSub}}]),t}();function Qu(){if(self.URL)try{var t=new self.URL("b","http://a");return t.pathname="c d","http://a/c%20d"===t.href}catch(t){}return!1}function $u(){return $u=b.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var r in i)b.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},$u.apply(this,arguments)}function ts(){var t=b.create(null);return t.uw=void 0,delete t.uw,t}function ns(){return new ss}function is(){return new os}function rs(t){var n=ns();for(var i in t)Hn.call(t,i)&&n.set(i,t[i]);return n}function es(t){var n=[];return t.forEach((function(t){return n.push(t)})),n}F(),Tt(),Gt(),F(),Tt(),qt(),F(),Tt(),Dt(),nn();var us="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,ss=us||function(){var t=function(){function t(t,n){this.index=0,this.data=t,this.selector=n,this.keys=b.keys(t)}return t.prototype.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}();return function(){function n(){this.data=ts(),this.size=0}var i=n.prototype;return i.get=function(t){return this.data[t]},i.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},i.has=function(t){return t in this.data},i.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},i.clear=function(){this.data=ts(),this.size=0},i.keys=function(){return new t(this.data,(function(t,n){return n}))},i.values=function(){return new t(this.data,(function(t,n){return t[n]}))},i.entries=function(){return new t(this.data,(function(t,n){return[n,t[n]]}))},i.forEach=function(t){for(var n in this.data)t(this.data[n],n)},n}()}();var os=us||function(){var t=function(){function t(t,n){this.cw=t,this.lw=n}return t.prototype.next=function(){var t=this.cw.next();return t.done?t:{value:this.lw(t.value),done:!1}},t}();return function(){function n(){this.x_=ns()}var i=n.prototype;return i.get=function(t){return this.x_.get(""+t)},i.set=function(t,n){return this.x_.set(""+t,n),this},i.has=function(t){return this.x_.has(""+t)},i.delete=function(t){return this.x_.delete(""+t)},i.clear=function(){this.x_.clear()},i.keys=function(){return new t(this.x_.keys(),(function(t){return Number(t)}))},i.values=function(){return this.x_.values()},i.entries=function(){return new t(this.x_.entries(),(function(t){var n=tn(t,2),i=n[0],r=n[1];return[Number(i),r]}))},i.forEach=function(t){this.x_.forEach((function(n,i){t(n,Number(i))}))},Nt(n,[{key:"size",get:function(){return this.x_.size}}]),n}()}();F(),Tt(),F(),Tt();var as=function(t){return t.dw="9a04f079-9840-4286-ab92-e65be0885f95",t.fw="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",t._w="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",t.mw="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",t}({}),cs="urn:mpeg:dash:mp4protection:2011",hs="cenc",fs="sinf",vs="skd",ds="9a04f079-9840-4286-ab92-e65be0885f95",ls="urn:uuid:"+ds,gs="com.microsoft.playready",ws="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",ms="urn:uuid:"+ws,ys="com.widevine.alpha",ps="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",_s="urn:uuid:"+ps,bs="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",ks="urn:uuid:"+bs,As="com.apple.fps.1_0",Ts="com.apple.streamingkeydelivery",Ss="identity";F(),Tt();var Es=function(t){return t.dw="playready",t.fw="widevine",t.mw="fairplay",t._w="clearkey",t.gw="aes128",t}({}),Is={pw:Es.dw,ww:gs,yw:"cenc",Aw:ds,Sw:ls,Tw:"PlayReady"},Rs={pw:Es.fw,ww:ys,yw:"cenc",Aw:ws,Sw:ms,Tw:"Widevine"},Cs={pw:Es.mw,ww:As,yw:"skd",Aw:bs,Sw:ks,Tw:"FairPlay"},Ns={pw:Es.mw,ww:"com.apple.fps",yw:"sinf",Aw:bs,Sw:ks,Tw:"FairPlay"},Ds={pw:Es._w,ww:"org.w3.clearkey",yw:"cenc",Aw:ps,Sw:_s,Tw:"ClearKey"},Ps=[Is,Rs,Cs,Ds],xs=[Is,Rs,Ns,Ds];function Ls(t){return Ps.filter((function(n){return n.Sw===t.toLowerCase()}))}F(),Tt(),Ut();var Ms="function"==typeof String.prototype.replaceAll?function(t,n,i){return t.replaceAll(n,i)}:function(t,n,i){return t.split(n).join(i)};function Os(t,n){return Yn(t)&&-1!==t.indexOf(n)}var Bs="function"==typeof String.prototype.startsWith?function(t,n){return Yn(t)&&t.startsWith(n)}:function(t,n){return Yn(t)&&t.substr(0,n.length)===n},Vs="function"==typeof String.prototype.endsWith?function(t,n){return Yn(t)&&t.endsWith(n)}:function(t,n){return Yn(t)&&t.substr(t.length-n.length,n.length)===n};function Fs(t,n){return t.length===n.length&&t.toUpperCase()===n.toUpperCase()}var Us="function"==typeof String.prototype.repeat?function(t,n){return t.repeat(n)}:function(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var r=t,e="";1==(1&i)&&(e+=r),0!=(i>>>=1);)r+=r;return e},Ws="function"==typeof String.prototype.padStart?function(t,n,i){return void 0===i&&(i=" "),t.padStart(n,i)}:function(t,n,i){void 0===i&&(i=" ");var r=i,e=(0|n)-t.length;return e<=0?t:(e>r.length&&(r+=Us(r,e/r.length)),r.slice(0,e)+t)},Zs=(String.prototype.padEnd,16384),Xs="function"==typeof String.fromCodePoint?function(t){var n;return t.length<=Zs?(n=String).fromCodePoint.apply(n,Ft(t)):Hs(t,String.fromCodePoint)}:function(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return Gs(n)};function Gs(t){var n;return t.length<=Zs?(n=String).fromCharCode.apply(n,Ft(t)):Hs(t,String.fromCharCode)}function Hs(t,n){for(var i=[],r=0;r<t.length;r+=Zs)i.push(n.apply(void 0,Ft(t.slice(r,r+Zs))));return i.join("")}function zs(t){return t.replace(/[\\"]/g,(function(t){return"\\"+t}))}var Ys=Gn.fm&&Gn.vm>=42||Gn.zm&&Gn.Ym>=38||Gn.Fm||Gn.Gm||Gn.eg&&Gn.og>=29;function js(t,n){return Os(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[$u({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[$u({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}function Ks(){return void 0!==l&&"function"==typeof l.requestMediaKeySystemAccess}function qs(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest}var Js=function(){function t(t){this.Ew=ns(),this.Iw=void 0,this.Rw=t}var n=t.prototype;return n.Zp=function(){return this.zp(Rs)},n.Up=function(){return this.zp(Ds)},n.Hp=function(){return this.zp(Is)},n.Gp=function(){return this.zp(Cs)},n.zp=function(t){var n=t.Sw,i=this.Ew.get(n);if(i)return i;var r=this.Xp(t,'video/mp4; codecs="avc1.42000a"');return this.Ew.set(n,r),r},n.Xp=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,7]),[4,i.Rw.xw(t.ww,[js(n,!0)])];case 1:return r.sent(),[2,!0];case 2:r.sent(),r.label=3;case 3:return r.trys.push([3,5,,6]),[4,i.Rw.xw(t.ww,[js(n,!1)])];case 4:return r.sent(),[2,!0];case 5:return r.sent(),[2,!1];case 6:return[3,7];case 7:return[2]}}))}))()},n.Vp=function(){return this.Iw||(this.Iw=this.Cw()),this.Iw},n.Cw=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return"https:"===f.location.protocol?[2,!1]:Ys?[4,t.Up()]:[2,!1];case 1:return n.sent()?[2,!1]:[2,!0]}}))}))()},t}();function Qs(t,n){return to(t.slice(),n)}function $s(t,n){var i=to(t,n);return i!==t&&no(i,void 0,t.length,t),t}function to(t,n){var i=t,r=i.length;if(r<=1)return i;for(var e=new Array(r),u=1;u<r;u*=2){no(i,n,u,e);var s=i;i=e,e=s}return i}function no(t,n,i,r){var e,u,s,o,a,c=t.length,h=0,f=2*i;for(u=0;u<c;u+=f)for(e=(s=u+i)+i,s>c&&(s=c),e>c&&(e=c),o=u,a=s;;)if(o<s&&a<e)n&&n(t[o],t[a])<=0?r[h++]=t[o++]:r[h++]=t[a++];else if(o<s)r[h++]=t[o++];else{if(!(a<e))break;r[h++]=t[a++]}}F(),Tt(),F(),Tt(),Gt(),qt(),F(),Tt(),Gt(),Dt(),qt(),F(),Tt(),Gt(),qt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Rt(),F(),Tt(),Gt(),Ut(),qt(),F(),Tt(),F(),Tt();var io=function(t){return t[t.Zr=0]="Zr",t[t.Pw=1]="Pw",t[t.Dw=-1]="Dw",t}({}),ro=function(t,n){return(0|t)-(0|n)},eo=function(t,n){return t===n?0:t<n?-1:t>n?1:S(t)?S(n)?0:1:-1};function uo(t,n,i){return ur(t,n,i)?0:eo(t,n)}var so=function(t,n){return sr(t,n)?0:eo(t,n)};var oo="function"==typeof Array.prototype.find?function(t,n){return t.find(n)}:function(t,n){var i=fo(t,n);return-1===i?void 0:t[i]},ao=oo,co="function"==typeof Array.prototype.findLast?function(t,n){return t.findLast(n)}:function(t,n){var i=vo(t,n);return-1===i?void 0:t[i]},ho=co,fo="function"==typeof Array.prototype.findIndex?function(t,n){return t.findIndex(n)}:function(t,n){for(var i=0;i<t.length;i+=1){if(n(t[i],i,t))return i}return-1},vo="function"==typeof Array.prototype.findLastIndex?function(t,n){return t.findLastIndex(n)}:function(t,n){for(var i=t.length-1;i>=0;i-=1){if(n(t[i],i,t))return i}return-1};function lo(t,n){var i=t.indexOf(n);return-1!==i&&(go(t,i),!0)}function go(t,n){0===n?t.shift():t.splice(n,1)}function wo(t,n){for(var i=new Array(t.length),r=0,e=0;e<t.length;){if(t[e]===n){e++,i.length-=1;break}i[r++]=t[e++]}for(;e<t.length;)i[r++]=t[e++];return i}function mo(t,n){return-1!==t.indexOf(n)}function yo(t,n,i){if(t===n)return!0;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r+=1)if(!i(t[r],n[r]))return!1;return!0}function po(t){t.length=0}function _o(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++){if(!mo(n,t[i]))return!1}return!0}Array.prototype.flat;var bo="function"==typeof Array.prototype.flatMap?function(t,n){return t.flatMap(n)}:function(t,n){for(var i=[],r=0;r<t.length;r++){var e;(e=i).push.apply(e,Ft(n(t[r],r)))}return i};function ko(t,n){return To(t,(function(t,i){return eo(n(t),n(i))}))}function Ao(t,n){return So(t,(function(t,i){return eo(n(t),n(i))}))}function To(t,n){if(0!==t.length)return t.reduce((function(t,i){return n(t,i)<=0?t:i}))}function So(t,n){return To(t,(function(t,i){return n(i,t)}))}function Eo(t){return t.filter((function(n,i){return t.indexOf(n)===i}))}function Io(t,n){return et.all(t.map(n)).then((function(n){return t.filter((function(t,i){return n[i]}))}))}function Ro(t,n){return Co.apply(this,arguments)}function Co(){return Co=Zt((function(t,n){var i,r;return Ht(this,(function(e){switch(e.label){case 0:i=0,e.label=1;case 1:return i<t.length?(r=t[i],[4,n(r)]):[3,4];case 2:if(e.sent())return[2,!0];e.label=3;case 3:return i++,[3,1];case 4:return[2,!1]}}))})),Co.apply(this,arguments)}function No(){return No=Zt((function(t,n){var i,r;return Ht(this,(function(e){switch(e.label){case 0:i=0,e.label=1;case 1:return i<t.length?(r=t[i],[4,n(r)]):[3,4];case 2:if(!e.sent())return[2,!1];e.label=3;case 3:return i++,[3,1];case 4:return[2,!0]}}))})),No.apply(this,arguments)}function Do(t,n,i){if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(!i(t[r],n[r]))return!1;return!0}F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Kt(),F(),Tt(),Kt(),F(),Tt(),Dt(),Rt();var Po=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];p.apply(this,n)};(Po.prototype=b.create(p.prototype)).constructor=Po;var xo=function(t){function n(n,i){var r;return(r=t.call(this)||this).message=n||"Unknown error",r.cause=i,p.captureStackTrace&&p.captureStackTrace(r,r.constructor),r}return It(n,t),Nt(n,[{key:"name",get:function(){return"BaseError"}}]),n}(Po),Lo=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return It(n,t),Nt(n,[{key:"name",get:function(){return"AbortError"}}]),n}(xo);function Mo(t){return t instanceof p&&"AbortError"===t.name}function Oo(t){if(t&&t.Nw)throw new Lo}function Bo(t){if(Mo(t))throw t}function Vo(t){if(!Mo(t))throw t}function Fo(t,n){return n?new et((function(i,r){if(n.Nw)return t.catch(pi),r(new Lo);var e=function(){n.Mw(e),r(new Lo)};n.Lw(e),t.then((function(t){n.Mw(e),i(t)}),(function(t){n.Mw(e),r(t)}))})):t}function Uo(t,n){return Wo.apply(this,arguments)}function Wo(){return Wo=Zt((function(t,n){var i,r;return Ht(this,(function(e){switch(e.label){case 0:i={stack:[],error:void 0,hasError:!1},e.label=1;case 1:return e.trys.push([1,3,4,5]),Yt(i,n,!1),[4,t];case 2:return[2,e.sent()];case 3:return r=e.sent(),i.error=r,i.hasError=!0,[3,5];case 4:return jt(i),[7];case 5:return[2]}}))})),Wo.apply(this,arguments)}function Zo(t,n){return Xo.apply(this,arguments)}function Xo(){return Xo=Zt((function(t,n){var i,r;return Ht(this,(function(e){switch(e.label){case 0:i={stack:[],error:void 0,hasError:!1},e.label=1;case 1:return e.trys.push([1,3,4,5]),Yt(i,n,!1),[4,t(n.Bw)];case 2:return[2,e.sent()];case 3:return r=e.sent(),i.error=r,i.hasError=!0,[3,5];case 4:return jt(i),[7];case 5:return[2]}}))})),Xo.apply(this,arguments)}F(),Tt(),Gt(),qt(),F(),Tt(),Dt();var Go=function(){function t(){this.Nw=!1,this.Fw=!1,this.Vw=[],this.Uw=[]}var n=t.prototype;return n.Ow=function(){if(!this.Nw&&!this.Fw){this.Nw=!0;for(var t=0,n=this.Vw.slice();t<n.length;t++){(0,n[t])()}this.Ww()}},n.Ww=function(){if(!this.Fw){this.Fw=!0;for(var t=0,n=this.Uw.slice();t<n.length;t++){(0,n[t])()}po(this.Vw),po(this.Uw)}},n.Lw=function(t){this.Fw||this.Vw.push(t)},n.Mw=function(t){this.Fw||lo(this.Vw,t)},n.Gw=function(t){this.Fw||this.Uw.push(t)},n.Hw=function(t){this.Fw||lo(this.Uw,t)},t}(),Ho=function(){function t(){this.Zw=new Go}var n=t.prototype;return n.Xw=function(){this.Zw.Ow()},n.Ww=function(){this.Zw.Ww()},n.zw=function(t){var n=this.Zw;if(!n.Nw)if(t.Nw)n.Ow();else if(!n.Fw&&!t.Fw){var i=function(){r(),n.Ow()},r=function(){t.Mw(i),t.Hw(r),n.Mw(i),n.Hw(r)};t.Lw(i),t.Gw(r),n.Lw(i),n.Gw(r)}},n.qw=function(){var n=new t,i=new t,r=n.Bw,e=i.Bw,u=this.Zw,s=function(){r.Nw&&e.Fw||e.Nw&&r.Fw?u.Ow():r.Fw&&e.Fw&&u.Ww()};r.Lw(s),e.Lw(s),r.Gw(s),e.Gw(s),n.zw(u),i.zw(u);return u.Gw((function(){r.Mw(s),e.Mw(s),r.Hw(s),e.Hw(s)})),[n,i]},n[e]=function(){this.Xw()},t.Yw=function(n){for(var i=new t,r=0;r<n.length;r++){var e=n[r];void 0!==e&&i.zw(e)}return i},Nt(t,[{key:"Bw",get:function(){return this.Zw}}]),t}(),zo=et.resolve(),Yo="function"==typeof queueMicrotask?queueMicrotask:function(t){zo.then(t)};function jo(t){t.then(pi,pi)}function Ko(t){return qo.apply(this,arguments)}function qo(){return qo=Zt((function(t){var n;return Ht(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,4]),[4,et.all(t)];case 1:return[2,i.sent()];case 2:return n=i.sent(),[4,et.all(t.map((function(t){return t.catch(pi)})))];case 3:throw i.sent(),n;case 4:return[2]}}))})),qo.apply(this,arguments)}function Jo(t,n){return new et((function(i,r){if(void 0!==n&&n.Nw)r(new Lo);else{var e=Kn.Fg((function(){void 0!==n&&n.Mw(u),i()}),t),u=function(){Kn.Og(e),r(new Lo)};void 0!==n&&n.Lw(u)}}))}function Qo(t,n){return $o.apply(this,arguments)}function $o(){return $o=Zt((function(t,n){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:i={stack:[],error:void 0,hasError:!1},u.label=1;case 1:return u.trys.push([1,3,4,5]),r=Yt(i,new Ho,!1),[4,et.race([t,Jo(n,r.Bw).then((function(){throw new p("Timeout")}))])];case 2:return[2,u.sent()];case 3:return e=u.sent(),i.error=e,i.hasError=!0,[3,5];case 4:return jt(i),[7];case 5:return[2]}}))})),$o.apply(this,arguments)}function ta(t,n,i){if("function"==typeof i)i.call(t,n);else for(var r=0;r<i.length;r++){i[r].call(t,n)}}var na=function(){function t(t){var n=this;this.jw=ts(),this.$w=void 0,this.Qw=0,this.Ds=function(t){n.yo(t)},this.ey=null!=t?t:this}var n=t.prototype;return n.yn=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Kw(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this.Kw(r,n)}},n.Kw=function(t,n){var i=this.jw[t];void 0===i?this.jw[t]=n:"function"==typeof i?this.jw[t]=[i,n]:0===this.Qw?i.push(n):this.jw[t]=i.concat(n)},n.Jw=function(t){if("function"==typeof t){var n=this.$w;void 0===n?this.$w=t:"function"==typeof n?this.$w=[n,t]:0===this.Qw?n.push(t):this.$w=n.concat(t)}},n.Bo=function(){this.jw=ts(),this.$w=void 0},n.yo=function(t){this.Qw++;var n=this.jw[t.type],i=this.$w;void 0!==n&&ta(this.ey,t,n),void 0!==i&&ta(this.ey,t,i),this.Qw--},n.fn=function(t,n){if("function"==typeof n)if("string"==typeof t)this.iy(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this.iy(r,n)}},n.iy=function(t,n){var i=this.jw[t];void 0!==i&&("function"==typeof i?i===n&&(this.jw[t]=void 0):0===this.Qw?lo(i,n):this.jw[t]=wo(i,n))},n.sy=function(t){if("string"==typeof t)this.jw[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.jw[i]=void 0}},n.oy=function(t){var n=this.$w;void 0!==n&&("function"==typeof n?n===t&&(this.$w=void 0):0===this.Qw?lo(n,t):this.$w=wo(n,t))},n.uy=function(t,n){var i=this;return new et((function(r,e){if(n&&n.Nw)return e(new Lo);var u=function(t){o(),r(t)},s=function(){o(),e(new Lo)},o=function(){i.fn(t,u),n&&n.Mw(s)};i.yn(t,u),n&&n.Lw(s)}))},t}(),ia=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n.prototype.yo=function(n){var i=this;Yo((function(){t.prototype.yo.call(i,n)}))},n}(na),ra=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.Jw=function(n){t.prototype.Jw.call(this,n)},i.oy=function(n){t.prototype.oy.call(this,n)},n}(na);F(),Tt(),Rt(),F(),Tt();var ea=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n};F(),Tt();var ua=function(t){return t.ly="_y",t.vy="gy",t.py="contentprotectionerror",t.wy="contentprotectionsuccess",t.yy="currentsourcechange",t.Ay="destroy",t.Sy="durationchange",t.Ty="emptied",t.Ey="encrypted",t.xy="ended",t.Ry="Iy",t.Cy="Py",t.Dy="Ny",t.My="Ly",t.By="loadstart",t.Oy="manifestupdate",t.Fy="nosupportedrepresentationfound",t.Vy="offline",t.Wy="online",t.Uy="pause",t.so="play",t.Gy="progress",t.Hy="ratechange",t.Zy="representationchange",t.Xy="resize",t.zy="seeked",t.qy="seeking",t.Yy="segmentnotfound",t.Ky="jy",t.Qy="Jy",t.ro="sourcechange",t.$y="timeupdate",t.eb="volumechange",t.ib="sb",t.ob="hb",t.ub="metricschange",t}({}),sa=["cenc"],oa=["cbcs","cbcs-1-9"],aa=function(t){function n(n){var i;return(i=t.call(this,ua.ob)||this).fb=n,i}return It(n,t),n}(ea),ca=function(t){function n(n,i,r,e){var u;return(u=t.call(this,"_b")||this).vb=n,u.mb=i,u._b=r,u.gb=e,u}return It(n,t),n}(ea),ha=function(t){function n(){return t.call(this,"lt")||this}return It(n,t),n}(ea),fa=function(t){return t.Ey="pb",t.wb="yb",t}({}),va=function(t){function n(n,i){var r;return(r=t.call(this,"pb")||this).yw=n,r.bb=i,r}return It(n,t),n}(ea),da=function(t){function n(){return t.call(this,"yb")||this}return It(n,t),n}(ea);F(),Tt(),Dt(),F(),Tt(),F(),Tt();var la="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),ga=16383,wa=/[\t\n\f\r ]/g;function ma(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:ya()}function ya(){throw new p("Invalid base64 input")}function pa(t){var n=t;wa.test(n)&&(n=n.replace(wa,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var r=i%4;if(1===r)return ya();for(var e,u=0===r?0:4-r,s=new E(function(t,n){return 3*(t+n)/4-n}(i,u)),o=u>0?i-4:i,a=0,c=0;a<o;a+=4)e=ma(n.charCodeAt(a))<<18|ma(n.charCodeAt(a+1))<<12|ma(n.charCodeAt(a+2))<<6|ma(n.charCodeAt(a+3)),s[c++]=e>>16&255,s[c++]=e>>8&255,s[c++]=255&e;return 2===u?(e=ma(n.charCodeAt(a))<<2|ma(n.charCodeAt(a+1))>>4,s[c++]=255&e):1===u&&(e=ma(n.charCodeAt(a))<<10|ma(n.charCodeAt(a+1))<<4|ma(n.charCodeAt(a+2))>>2,s[c++]=e>>8&255,s[c++]=255&e),s}function _a(t,n,i){return la[t>>2]+la[(3&t)<<4|n>>4]+la[(15&n)<<2|i>>6]+la[63&i]}function ba(t,n,i){for(var r=[],e=n;e<i;e+=3)r.push(_a(t[e],t[e+1],t[e+2]));return r.join("")}function ka(t){for(var n=t.length,i=n%3,r=[],e=n-i,u=0;u<e;u+=ga)r.push(ba(t,u,k.min(e,u+ga)));if(1===i){var s=t[n-1];r.push(la[s>>2]+la[(3&s)<<4]+"==")}else if(2===i){var o=t[n-2],a=t[n-1];r.push(la[o>>2]+la[(3&o)<<4|a>>4]+la[(15&a)<<2]+"=")}return r.join("")}function Aa(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/[=]/g,"")}function Ta(t,n){var i=n.tc,r=t.getUint8(i>>3),e=1<<7-(7&i);return n.Ab(1),(r&e)===e?1:0}function Sa(t,n,i){for(var r=0,e=0;e<i;e++)r=2*r+Ta(t,n);return r}F(),Tt(),Dt(),F(),Tt(),Dt();var Ea=function(){function t(t){void 0===t&&(t=0),this.ic=t}var n=t.prototype;return n.Ab=function(t){this.ic+=t},n.Sb=function(t){this.ic=t},n.Tb=function(){return new t(this.tc)},Nt(t,[{key:"tc",get:function(){return this.ic}}]),t}();var Ia=k.clz32||function(t){var n=32,i=t>>16;return i&&(n-=16,t=i),(i=t>>8)&&(n-=8,t=i),(i=t>>4)&&(n-=4,t=i),(i=t>>2)&&(n-=2,t=i),(i=t>>1)?n-2:n-t};function Ra(t){if(t>=55296&&t<=57343)throw new p("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Ca(t,n){return t>>n&63|128}function Na(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Ra(t),n.push(t>>12&15|224),n.push(Ca(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Ca(t,12)),n.push(Ca(t,6))),n.push(63&t|128)):n.push(t)}function Da(t,n){if(n.tc>=t.length)throw new p("Invalid byte index");var i=255&t[n.tc];if(n.Ab(1),128==(192&i))return 63&i;throw new p("Invalid continuation byte")}function Pa(t,n){var i=n.tc;if(i>t.length)throw new p("Invalid byte index");if(i===t.length)return!1;var r=255&t[i];if(n.Ab(1),0==(128&r))return r;if(192==(224&r)){var e=(31&r)<<6|Da(t,n);if(e>=128)return e;throw new p("Invalid continuation byte")}if(224==(240&r)){var u=(15&r)<<12|Da(t,n)<<6|Da(t,n);if(u>=2048)return Ra(u),u;throw new p("Invalid continuation byte")}if(240==(248&r)){var s=(7&r)<<18|Da(t,n)<<12|Da(t,n)<<6|Da(t,n);if(s>=65536&&s<=1114111)return s}throw new p("Invalid UTF-8 detected")}F(),Tt(),F(),Tt();var xa=65279;var La=[128,64,32,16,8,4,2,1],Ma=function(){function t(t){this.Eb=t}return t.prototype.kb=function(t){return Oa(this.Eb,t)},t}();function Oa(t,n){return(t&n)===n}function Ba(t,n){return Oa(t,La[n])}function Va(t,n){var i=t.getUint8(n.tc);return n.Ab(1),i}function Fa(t,n,i){t.setUint8(n.tc,i),n.Ab(1)}function Ua(t,n,i){var r=mc(_c(t),n.tc,n.tc+i);return n.Ab(r.byteLength),r}function Wa(t,n,i){_c(t).set(_c(i),n.tc),n.Ab(i.byteLength)}function Za(t,n,i){return n.tc+i<=t.byteLength}function Xa(t,n,i,r){return void 0===r&&(r=!1),r?function(t,n,i){for(var r=0,e=1,u=0;u<i;u++)r+=Va(t,n)*e,e*=256;return r}(t,n,i):function(t,n,i){for(var r=0,e=0;e<i;e++)r=256*r+Va(t,n);return r}(t,n,i)}function Ga(t,n){var i=t.getUint8(n.tc);return n.Ab(1),i}function Ha(t,n,i){void 0===i&&(i=!1);var r=t.getUint16(n.tc,i);return n.Ab(2),r}function za(t,n,i,r){void 0===r&&(r=!1),t.setUint16(n.tc,i,r),n.Ab(2)}function Ya(t,n,i){void 0===i&&(i=!1);var r=t.getUint32(n.tc,i);return n.Ab(4),r}function ja(t,n,i,r){void 0===r&&(r=!1),t.setUint32(n.tc,i,r),n.Ab(4)}function Ka(t,n,i){void 0===i&&(i=!1);var r=Ya(t,n,i),e=Ya(t,n,i),u=i?e:r,s=i?r:e;return tr.fromBits(s,u,!0)}function qa(t,n,i,r){void 0===r&&(r=!1);var e=i.getHighBitsUnsigned(),u=i.getLowBitsUnsigned(),s=r?e:u;ja(t,n,r?u:e,r),ja(t,n,s,r)}function Ja(t,n){return tc(t,n)}function Qa(t,n,i){return Gs(Sc(Ua(t,n,i)))}function $a(t,n){var i,r=Va(t,n);return 0==(128&r)?i=r:192==(224&r)?i=64*(31&r)+(63&Va(t,n)):224==(240&r)?i=4096*(15&r)+64*(63&Va(t,n))+(63&Va(t,n)):240==(248&r)&&(i=262144*(7&r)+4096*(63&Va(t,n))+64*(63&Va(t,n))+(63&Va(t,n))),i}function tc(t,n){return nc(t,n,!0)}function nc(t,n,i){for(var r=[];n.tc<t.byteLength;){var e=Va(t,n);if(i&&!e)break;r.push(e)}return Gs(r)}function ic(t,n,i){for(var r=i.length,e=0;e<r;e+=1){Fa(t,n,i.charCodeAt(e))}}function rc(t,n){if(n.tc+2<=t.byteLength){var i=t.getUint8(n.tc),r=t.getUint8(n.tc+1);return(254!==i||255!==r)&&(255===i&&254===r||void 0)}}function ec(t,n){var i=rc(t,n);return void 0!==i&&n.Ab(2),uc(t,n,!0===i)}function uc(t,n,i){return void 0===i&&(i=!1),sc(t,n,i,!0)}function sc(t,n,i,r){for(var e=[];n.tc+2<=t.byteLength;){var u=Ha(t,n,i);if(r&&!u)break;e.push(u)}return Gs(e)}function oc(t,n,i,r){void 0===r&&(r=!1);for(var e=i.length,u=0;u<e;u+=1){za(t,n,i.charCodeAt(u),r)}}function ac(t){return nc(pc(t),new Ec,!1)}function cc(t){var n=new E(t.length);return ic(pc(n),new Ec,t),n}function hc(t,n){return void 0===n&&(n=!1),sc(pc(t),new Ec,n,!1)}function fc(t,n){void 0===n&&(n=!1);var i=new E(2*t.length);return oc(pc(i),new Ec,t,n),i}function vc(t,n){return n.tc+3<=t.byteLength&&(239===t.getUint8(n.tc)&&187===t.getUint8(n.tc+1)&&191===t.getUint8(n.tc+2))}function dc(t,n){return function(t,n,i){var r=[],e=vc(t,n);e&&n.Ab(3);for(;n.tc<t.byteLength;){var u=$a(t,n);if(void 0===u)break;if(i&&0===u)break;r.push(u)}return Xs(r)}(t,n,!0)}function lc(t){return function(t){return Xs(t)}(function(t,n){var i,r=[],e=new Ec;if(!n){if(!1===(i=Pa(t,e)))return r;i===xa||r.push(i)}for(;!1!==(i=Pa(t,e));)r.push(i);return r}(_c(t)))}function gc(t){return new E(function(t){for(var n=[],i=0;i<t.length;i++)Na(t[i],n);return n}(function(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}(t)))}function wc(t,n){if(vc(t,n))return dc(t,n);if(void 0!==rc(t,n))return ec(t,n);if(n.tc+4<=t.byteLength){if(0===t.getUint8(n.tc)&&0===t.getUint8(n.tc+2))return uc(t,n,!1);if(0===t.getUint8(n.tc+1)&&0===t.getUint8(n.tc+3))return uc(t,n,!0)}return dc(t,n)}function mc(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new E(t.buffer,t.byteOffset+n,i-n)}function yc(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function pc(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function _c(t){return new E(t.buffer,t.byteOffset,t.byteLength)}function bc(t){return t instanceof ArrayBuffer||Nc(t)}function kc(t){return t instanceof ArrayBuffer?new E(t):_c(t)}function Ac(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):Tc(mc(t,n,i))}function Tc(t){if(t.slice)return t.slice(0);var n=new E(t.byteLength);return n.set(t,0),n}function Sc(t){return[].slice.call(t)}var Ec=function(){function t(t){void 0===t&&(t=0),this.ic=t}var n=t.prototype;return n.Ab=function(t){this.ic+=t},n.Sb=function(t){this.ic=t},n.Tb=function(){return new t(this.tc)},n.xb=function(){return new Ea(this.tc<<3)},Nt(t,[{key:"tc",get:function(){return this.ic}}]),t}();function Ic(t){var n=t.toLowerCase(),i=0,r=0;Bs(n,"0x")&&(n=n.substring(2));var e=new E(k.ceil(n.length/2));for(1==(1&n.length)&&(i=1,e[r++]=A(n[0],16));i<n.length;i+=2)e[r++]=A(n.substr(i,2),16);return e}function Rc(t){return.001*t}var Cc=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],Nc=ArrayBuffer.isView||function(t){return t&&mo(Cc,zn.call(t))};function Dc(t,n){return t===n||t.byteLength===n.byteLength&&Pc(new E(t),new E(n))}function Pc(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;if(t.buffer===n.buffer&&t.byteOffset===n.byteOffset)return!0;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}function xc(t,n){return t===n||Pc(kc(t),kc(n))}function Lc(t){var n=t.reduce((function(t,n){return t+n.byteLength}),0);return Mc(t,n)}function Mc(t,n){for(var i=new E(n),r=0,e=0;e<t.length;e++){var u=t[e];i.set(u,r),r+=u.byteLength}return i}function Oc(t,n,i){var r=new E(t.byteLength+n.byteLength),e=mc(t,0,i),u=mc(t,i);return r.set(e),r.set(n,i),r.set(u,i+n.byteLength),r}function Bc(t){return pa(t).buffer}function Vc(t){return ka(new E(t))}function Fc(t){return ka(cc(t))}var Uc=new E([0]).buffer,Wc=function(){function t(){this.Qu=[]}var n=t.prototype;return n.Ib=function(t){for(var n=0,i=this.Qu;n<i.length;n++){if(xc(i[n][0],t))return!0}return!1},n.Cb=function(t){for(var n=0,i=this.Qu;n<i.length;n++){var r=i[n];if(xc(r[0],t))return r[1]}},n.Pb=function(t,n){for(var i=0,r=this.Qu;i<r.length;i++){var e=r[i];if(xc(e[0],t))return void(e[1]=n)}this.Qu.push([t,n])},n.Db=function(t,n){this.Qu.forEach((function(n){return t(n[1],n[0])}),n)},n.Nb=function(){po(this.Qu)},Nt(t,[{key:"Rb",get:function(){return this.Qu.length}}]),t}();F(),Tt();var Zc=function(){function t(){var t=this;this.Bb=new et((function(n,i){t.Vd=n,t.Wd=i}))}var n=t.prototype;return n.Mb=function(t){this.Vd&&(this.Vd(t),this.Ww())},n.Lb=function(t){this.Wd&&(this.Wd(t),this.Ww())},n.Xw=function(){this.Bb.catch(pi),this.Lb(new Lo)},n.zw=function(t){var n=this;t.then((function(t){return n.Mb(t)}),(function(t){return n.Lb(t)}))},n.Ww=function(){this.Vd=void 0,this.Wd=void 0},t}();function Xc(){return new E([8,4]).buffer}function Gc(t,n){return t===gs?function(t){if(t.byteLength<2*Hc.length)return t;var n=new DataView(t,0,2*Hc.length),i=hc(n,!0);if(i===Hc)return t;return function(t){var n='<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">',i='</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',r=""+n+Vc(t)+i;return fc(r,!0).buffer}(t)}(n):n}F(),Tt();var Hc="<PlayReady";F(),Tt(),F(),Tt(),Rt();var zc=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,e)||this).Ob=i,u.Fb=r,u}return It(n,t),n}(xo);F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt();var Yc=function(t,n){return(Yc=b.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)b.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])})(t,n)};function jc(t,n){if("function"!=typeof n&&null!==n)throw new _("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}Yc(t,n),t.prototype=null===n?b.create(n):(i.prototype=n.prototype,new i)}function Kc(t,n,i){return t.indexOf?t.indexOf(n,i):Array.prototype.indexOf.call(t,n,i)}F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt();!function(){function t(t,n){this.Vb=t,this.Wb=n}t.prototype.get=function(t){var n=this.Vb.get(t);if(0===this.Wb||void 0===n)return n;var i=this.Vb.get(t+1)||0,r=n&(1<<8-this.Wb)-1,e=i>>8-this.Wb;return(r<<this.Wb)+e},t.prototype.getBit=function(t){if(!(t<0)){var n=this.Vb.get(k.floor((t+this.Wb)/8));if(void 0!==n)return(n&1<<7-this.Wb-t%8)>0?1:0}},b.defineProperty(t.prototype,"bitLength",{get:function(){return this.Vb.bitLength-this.Wb},enumerable:!1,configurable:!0}),b.defineProperty(t.prototype,"length",{get:function(){return this.Vb.length},enumerable:!1,configurable:!0})}();F(),Tt(),F(),Tt();k.pow(2,-52);function qc(t,n,i){return k.min(k.max(t,n),i)}function Jc(t,n){return t>>8-n}function Qc(t,n){return t&(1<<n)-1}var $c=function(){function t(t){this.Ub=t,this.Gb=0,this.Hb=0}return b.defineProperty(t.prototype,"totalBitsRead",{get:function(){return 8*this.Gb+this.Hb},enumerable:!1,configurable:!0}),b.defineProperty(t.prototype,"done",{get:function(){return this.Gb===this.Ub.length&&0===this.Hb},enumerable:!1,configurable:!0}),b.defineProperty(t.prototype,"location",{get:function(){return{byte:this.Gb,bit:this.Hb}},enumerable:!1,configurable:!0}),t.prototype.copy=function(){var n=new t(this.Ub);return n.seek(this.Gb,this.Hb),n},t.prototype.canReadBits=function(t){return 8*this.Gb+t+this.Hb<=8*this.Ub.length},t.prototype.canReadBytes=function(t){return 0===this.Hb?this.Gb+t<=this.Ub.length:this.Gb+t<this.Ub.length},t.prototype.incBit=function(){this.Hb++,this.Hb>7&&(this.Gb++,this.Hb=0)},t.prototype.seek=function(t,n){this.Gb=t,this.Hb=n},t.prototype.peekBit=function(){if(!this.canReadBits(1))throw new p("Cannot read past end of buffer.");return this.Ub.get(this.Gb)>>7-this.Hb&1},t.prototype.readBit=function(){var t=this.peekBit();return this.incBit(),t},t.prototype.readByte=function(){if(!this.canReadBytes(1))throw new p("Cannot read past end of buffer.");if(0===this.Hb)return this.Ub.get(this.Gb++);var t=Qc(this.Ub.get(this.Gb),8-this.Hb),n=Jc(this.Ub.get(this.Gb+1),this.Hb);return this.Gb++,t<<this.Hb|n},t.prototype.readBits=function(t){if(!this.canReadBits(t))throw new p("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readBit());return n},t.prototype.readUInt=function(t){if(t>32)throw new p("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new p("Cannot read past end of buffer.");var n=0;if(0===this.Hb&&t%8==0)for(var i=t-8;i>=0;i-=8)n|=this.readByte()<<i;else for(i=t-1;i>=0;i--)n|=this.readBit()<<i;return n},t.prototype.readInt=function(t){if(t>32)throw new p("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new p("Cannot read past end of buffer.");var n=this.readUInt(t);return 0===(n&1<<t-1)?n:n-k.pow(2,t)},t.prototype.readExponentialGolombCode=function(){for(var t=0;0===this.readBit();)t++;var n=1<<t;return n+=this.readUInt(t)-1},t.prototype.readSignedExponentialGolombCode=function(){var t=this.readExponentialGolombCode();return 1&t?(t+1)/2:-t/2},t.prototype.skipBits=function(t){if(!this.canReadBits(t))throw new p("Skipping over the buffer edge is not allowed.");var n=this.Hb+t;this.Gb+=n>>3,this.Hb=7&n},t.prototype.readBool=function(){return this.readBit()>0},t.prototype.readString=function(t){if(!this.canReadBytes(t))throw new p("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readByte());return String.fromCharCode.apply(String,n)},t}();F(),Tt(),F(),Tt(),F(),Tt();var th=function(t,n){return t===n?0:t<n?-1:t>n?1:S(t)?S(n)?0:1:-1},nh=function(){function t(){this.Zb=[],this.Xb=[],this.zb=0}return t.from=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var r=new t,e=0,u=n;e<u.length;e++){var s=u[e];r.pushRange(s)}return r},t.prototype.pushRange=function(t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=t.length),i<0)throw new p("The buffer length must be positive.");if(0!==i){if(0===this.Xb.length)this.Xb.push(0);else{var r=this.Xb[this.Xb.length-1]+this.Zb[this.Zb.length-1].length;this.Xb.push(r)}this.Zb.push(t.subarray(n,n+i)),this.zb+=i}},t.prototype.concat=function(n){var i=new t;return i.pushRange(this.join()),i.pushRange(n.join()),i},t.prototype.copy=function(t,n,i,r){if(void 0===n&&(n=0),void 0===i&&(i=0),void 0===r&&(r=this.length),n<0||i<0||r<0)throw new RangeError;return this.slice(i,r).copyInternal(t,n)},t.prototype.copyInternal=function(t,n){for(var i=0,r=n,e=0,u=this.Zb;e<u.length;e++){var s=u[e];t.set(s,r),i+=s.length,r+=s.length}return i},t.prototype.clear=function(){this.Zb=[],this.Xb=[],this.zb=0},t.prototype.get=function(t){if(!(t<0||t>=this.length)){var n=this.findContainingBufferIndex(t),i=t-this.Xb[n];return this.Zb[n][i]}},b.defineProperty(t.prototype,"first",{get:function(){return this.get(0)},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){if(this.Zb.length<1)return-1;if(this.Zb.length>1){var n=this.join();this.clear(),this.pushRange(n)}var i=this.Zb[0];return"number"==typeof t?Kc(i,t):"undefined"!=typeof Buffer?Buffer.from(i.buffer,i.byteOffset,i.byteLength).indexOf(t):function(t,n){if(0===n.length)return 0;for(var i=n[0],r=n.length,e=t.length-r,u=0;u<=e&&!((u=Kc(t,i,u))<0||u>e);u++){for(var s=u+1,o=u+r,a=1;s<o&&t[s]===n[a];s++,a++);if(s===o)return u}return-1}(i,t)},t.prototype.findContainingBufferIndex=function(t){return function(t,n,i){if(0!==t.length){var r=0,e=t.length-1;if(1!==i(t[r],n)){if(1===i(n,t[e]))return e;for(;r!==e;){var u=k.ceil((r+e)/2);i(t[u],n)<=0?r=u:e=u-1}return r}}}(this.Xb,t,th)},t.prototype.join=function(){if(1===this.Zb.length)return this.Zb[0];var t=new E(this.length);return this.copyInternal(t,0),t},b.defineProperty(t.prototype,"length",{get:function(){return this.zb},enumerable:!1,configurable:!0}),b.defineProperty(t.prototype,"bitLength",{get:function(){return 8*this.length},enumerable:!1,configurable:!0}),t.prototype.readUIntBE=function(t,n){if(n<=0||n>4)throw new p("Expected byteLength to be between 0 and 4 but was "+n);if(t<0||t>this.length-n)throw new p("Offset must be between 0 and buffer.length - byteLength, but was "+t+" (max allowed "+(this.length-n)+")");if(1===n)return this.get(t);for(var i=0,r=0;r<n;r++)i+=this.get(t+r)*k.pow(2,8*(n-r-1));return i},t.prototype.slice=function(n,i){void 0===i&&(i=this.length);var r=qc(n,0,this.length),e=qc(i,0,this.length);if(r>e)return new t;if(r===e)return new t;for(var u=new t,s=this.findContainingBufferIndex(r),o=this.Zb[s],a=r,c=a-this.Xb[s];a+o.length-c<e;)u.pushRange(o,c,o.length-c),s+=1,c=(a+=o.length-c)-this.Xb[s],o=this.Zb[s];var h=e-a;return u.pushRange(o,c,h),u},t.prototype.trim=function(){if(0===this.length)return new t;for(var n=this.length-1,i=this.Zb.length-1,r=this.Zb[i],e=r.length-1;n>=0&&i>=0;){if(0!==r[e])break;if(0===e){if(0===i)return new t;i-=1,e=(r=this.Zb[i]).length-1}else e-=1;n-=1}return this.slice(0,n+1)},t}(),ih=function(){function t(n){this.qb=n||t.BUFFER_CHUNK_SIZE,this.Yb=!1,this.Kb=new nh,this.Ub=new E(this.qb),this.jb=0,this.Qb=0,this.Hb=7}return t.prototype.closeByte=function(){this.Ub[this.jb++]=this.Qb,this.jb>=this.qb&&this.closeBuffer(),this.Qb=0,this.Hb=7},t.prototype.closeBuffer=function(t){void 0===t&&(t=!0),0!==this.jb&&(this.Kb.pushRange(this.Ub,0,this.jb),t&&(this.Ub=new E(this.qb)),this.jb=0)},b.defineProperty(t.prototype,"isWritingStartBit",{get:function(){return 7===this.Hb},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(this.Yb)throw new p("Cannot close a closed BitWriter.");return this.isWritingStartBit||this.closeByte(),this.closeBuffer(!1),this.Yb=!0,this.Kb},t.prototype.writeBit=function(t){if(this.Yb)throw new p("Cannot write to a closed BitWriter.");this.Qb|=t<<this.Hb,0===this.Hb?this.closeByte():this.Hb--},t.prototype.writeByte=function(t){if(this.Yb)throw new p("Cannot write to a closed BitWriter.");this.isWritingStartBit?(this.Qb=t,this.closeByte()):this.writeByteUnaligned(t)},t.prototype.writeByteUnaligned=function(t){var n=this.Hb;this.Qb|=Jc(t,n+1),this.closeByte(),this.Qb=Qc(t,8-n)<<n+1,this.Hb=n},t.prototype.writeBits=function(t){for(var n=0,i=t;n<i.length;n++){var r=i[n];this.writeBit(r)}},t.prototype.writeBytes=function(t){if(this.Yb)throw new p("Cannot write to a closed BitWriter.");this.isWritingStartBit?this.writeBytesAligned(t):this.writeBytesUnaligned(t)},t.prototype.writeBytesAligned=function(t){this.jb+t.length<=this.qb?(this.Ub.set(t,this.jb),this.jb+=t.length,this.jb===this.qb&&this.closeBuffer()):(this.closeBuffer(),this.Kb.pushRange(t))},t.prototype.writeBytesUnaligned=function(t){if(0!==t.length){var n=this.Hb;this.Qb|=Jc(t[0],n+1),this.closeByte();for(var i=1;i<t.length;i++){var r=Qc(t[i-1],8-n),e=Jc(t[i],n+1);this.Qb=r<<n+1|e,this.closeByte()}this.Qb=Qc(t[t.length-1],8-n)<<n+1,this.Hb=n}},t.prototype.writeUInt=function(t,n){if(t<0)throw new p("Received a negative number.");if(n>32)throw new p("The max bitlength that can be provided is 32.");if(t>=k.pow(2,n))throw new p("Uint "+t+" cannot be represented in "+n+" bit(s).");if(this.isWritingStartBit&&n%8==0)for(var i=n-8;i>=0;i-=8)this.writeByte(t>>i&255);else for(i=n-1;i>=0;i--)this.writeBool((t&1<<i)>0)},t.prototype.writeInt=function(t,n){if(n>32)throw new p("The max bitlength that can be provided is 32.");if(k.abs(t)>=k.pow(2,n-1))throw new p("Signed integer "+t+" cannot be represented in "+n+" bit(s).");t<0?this.writeUInt(t+k.pow(2,n),n):this.writeUInt(t,n)},t.prototype.writeExponentialGolombCode=function(t){if(t<0)throw new p("Received a negative number.");for(var n=k.floor(k.log2(t+1))+1,i=0;i<n-1;i++)this.writeBit(0);this.writeUInt(t+1,n)},t.prototype.writeSignedExponentialGolombCode=function(t){0===t?this.writeExponentialGolombCode(0):t<0?this.writeExponentialGolombCode(-2*t):this.writeExponentialGolombCode(2*t-1)},t.prototype.padByte=function(t){for(;!this.isWritingStartBit;)this.writeBit(t)},t.prototype.writeBool=function(t){this.writeBit(t?1:0)},t.prototype.writeString=function(t){for(var n=function(t){for(var n=new E(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(t),i=0;i<n.length;i++)this.writeByte(n[i])},t.BUFFER_CHUNK_SIZE=1024,t}();F(),Tt();var rh=function(){function t(t){this.rb=new nh,this.Yd=t}return t.prototype.closeWriter=function(){void 0!==this.Yd&&(this.rb=this.rb.concat(this.Yd.close()),this.Yd=void 0)},b.defineProperty(t.prototype,"writer",{get:function(){return void 0===this.Yd&&(this.Yd=new ih),this.Yd},enumerable:!1,configurable:!0}),t.prototype.concat=function(t){this.closeWriter(),this.rb=this.rb.concat(t)},t.prototype.toRangedBuffer=function(){return this.closeWriter(),this.rb},t}(),eh=function(){function t(t){if(this.boxType=t,4!==t.length&&16!==t.length)throw new p("The provided box type does not conform to either a 4 character type or a 16 byte uuid.")}return t.prototype.serializeCommonBoxHeader=function(n){var i=this.getSize(),r=i>=t.LARGE_SIZE/8,e=16===this.boxType.length;n.writeUInt(r?1:i,32),n.writeString(e?"uuid":this.boxType),r&&(n.writeUInt(k.floor(i/t.LARGE_SIZE),32),n.writeUInt(i%t.LARGE_SIZE,32)),e&&n.writeString(this.boxType)},t.prototype.getSize=function(){var n=8+(this.boxType.length>4?16:0),i=this.getBoxContentSize()+n;return i>=t.LARGE_SIZE/8&&(i+=8),i},t.prototype.serialize=function(){var t=new rh;return this.serializeCommonBoxHeader(t.writer),this.serializeBoxContent(t),t.toRangedBuffer()},t.LARGE_SIZE=k.pow(2,32),t}();function uh(t,n){return t instanceof tr?64===n:t<k.pow(2,n)}function sh(t,n){return k.round(t*k.pow(2,n))}function oh(t,n){for(var i=0;i<n.length;i++)t.writeByte(n[i])}function ah(t,n){return t/k.pow(2,n)}F(),Tt();var ch=function(t){function n(n,i,r){var e=t.call(this,n)||this;if(e.version=i,!uh(i,8))throw new p("the provided version cannot fit in 8 bits.");return e.flags=r,e}return jc(n,t),b.defineProperty(n.prototype,"flags",{get:function(){return this.l_},set:function(t){this.l_=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new p("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(eh);F(),Tt(),F(),Tt();var hh=function(t){function n(n,i){var r=t.call(this,n)||this;return r.data=i,r}return jc(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(nh.from(this.data))},n}(eh);F(),Tt(),F(),Tt();var fh=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t}();F(),Tt();var vh=16384;function dh(t){var n=t.length;if(n<=vh)return String.fromCharCode.apply(String,t);for(var i=[],r=0;r<n;r+=vh)i.push(String.fromCharCode.apply(String,t.slice(r,r+vh)));return i.join("")}var lh=function(){function t(t){this.raw=t}return t.prototype.isSet=function(t){return function(t,n){return(t&n)===n}(this.raw,t)},t}();function gh(t,n){var i=t.getUint8(n.offset);return n.shift(1),i}function wh(t,n,i){var r=Ah(Eh(t),n.offset,n.offset+i);return n.shift(r.byteLength),r}function mh(t,n,i){return n.offset+i<=t.byteLength}function yh(t,n,i){void 0===i&&(i=!1);var r=t.getUint32(n.offset,i);return n.shift(4),r}function ph(t,n,i){void 0===i&&(i=!1);var r=yh(t,n,i),e=yh(t,n,i),u=i?e:r,s=i?r:e;return tr.fromBits(s,u,!0)}function _h(t,n,i){return dh(function(t){return[].slice.call(t)}(wh(t,n,i)))}function bh(t,n){var i,r=gh(t,n);return 0==(128&r)?i=r:192==(224&r)?i=64*(31&r)+(63&gh(t,n)):224==(240&r)?i=4096*(15&r)+64*(63&gh(t,n))+(63&gh(t,n)):240==(248&r)&&(i=262144*(7&r)+4096*(63&gh(t,n))+64*(63&gh(t,n))+(63&gh(t,n))),i}function kh(t,n){return function(t,n,i){var r=[],e=function(t,n){return n.offset+3<=t.byteLength&&239===t.getUint8(n.offset)&&187===t.getUint8(n.offset+1)&&191===t.getUint8(n.offset+2)}(t,n);e&&n.shift(3);for(;n.offset<t.byteLength;){var u=bh(t,n);if(void 0===u)break;if(i&&0===u)break;r.push(u)}return function(t){for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return dh(n)}(r)}(t,n,!0)}function Ah(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new E(t.buffer,t.byteOffset+n,i-n)}function Th(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function Sh(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Eh(t){return new E(t.buffer,t.byteOffset,t.byteLength)}var Ih=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t.prototype.toBit=function(){return new fh(this.offset<<3)},t}();F(),Tt();var Rh=function(){function t(t,n){this.data=t,this.cursor=n}return t.prototype.nextUint8=function(){return gh(this.data,this.cursor)},t.prototype.nextUint16=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getUint16(n.offset,i);return n.shift(2),r}(this.data,this.cursor)},t.prototype.nextInt16=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt16(n.offset,i);return n.shift(2),r}(this.data,this.cursor)},t.prototype.nextUint32=function(){return yh(this.data,this.cursor)},t.prototype.nextInt32=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt32(n.offset,i);return n.shift(4),r}(this.data,this.cursor)},t.prototype.nextInt64=function(){return function(t,n,i){void 0===i&&(i=!1);var r=yh(t,n,i),e=yh(t,n,i),u=i?e:r,s=i?r:e;return tr.fromBits(s,u,!1)}(this.data,this.cursor)},t.prototype.nextUint64=function(){return ph(this.data,this.cursor)},t.prototype.nextUint8Array=function(t){return wh(this.data,this.cursor,t)},t.prototype.nextUint32Array=function(t){return function(t,n,i){for(var r=[],e=0;e<i;e++)r.push(yh(t,n));return r}(this.data,this.cursor,t)},t.prototype.nextChars=function(t){return _h(this.data,this.cursor,t)},t.prototype.nextUTF8String=function(){return kh(this.data,this.cursor)},t.prototype.skip=function(t){this.cursor.shift(t)},t.prototype.clone=function(){return new t(this.data,this.cursor.clone())},t}();function Ch(t,n){return t.type===n}var Nh=8;function Dh(t){var n=function(t,n){var i=[];for(;n.offset<t.byteLength;){var r=Ph(t,n);if(!r.complete)return{complete:!1,boxes:i};i.push(r.box)}return{complete:!0,boxes:i}}(t.data,t.cursor);if(!n.complete)throw new p("Data incomplete");return n.boxes}function Ph(t,n){var i=n.offset,r=function(t,n){var i=n.offset;if(!mh(t,n,Nh)){return{complete:!1,neededOffset:u=n.offset+Nh}}var r=yh(t,n),e=_h(t,n,4);if(1===r){if(!mh(t,n,8)){var u=n.offset+8;return n.seek(i),{complete:!1,neededOffset:u}}r=ph(t,n).toNumber()}if("uuid"===e){if(!mh(t,n,16)){u=n.offset+16;return n.seek(i),{complete:!1,neededOffset:u}}e=_h(t,n,16)}var s=n.offset,o={type:e,size:r,headerSize:s-i};return{complete:!0,header:o}}(t,n);if(!r.complete)return r;var e=r.header,u=e.size;0===u&&(u=t.byteLength-i);var s=i+u;if(s>t.byteLength){var o=s;return n.seek(i),{complete:!1,neededOffset:o}}var a={type:e.type,offset:i,data:new Rh(Th(t,i,s),new Ih(e.headerSize))};return n.seek(s),{complete:!0,box:a}}function xh(t){return{version:t>>24,flags:new lh(16777215&t)}}function Lh(t,n){var i,r,e,u;return 1===n?(i=t.nextUint64(),r=t.nextUint64(),e=t.nextUint32(),u=t.nextUint64()):(i=t.nextUint32(),r=t.nextUint32(),e=t.nextUint32(),u=t.nextUint32()),{creation:i,modification:r,scale:e,duration:u}}function Mh(t){return t.skipBits(4),{isLeading:t.readUInt(2),sampleDependsOn:t.readUInt(2),sampleIsDependedOn:t.readUInt(2),sampleHasRedundancy:t.readUInt(2),samplePaddingValue:t.readUInt(3),sampleIsNonSyncSample:Boolean(t.readBit()),sampleDegradationPriority:t.readUInt(16)}}function Oh(t){var n=t.nextUint32Array(9);return{a:ah(n[0],16),b:ah(n[1],16),u:ah(n[2],30),c:ah(n[3],16),d:ah(n[4],16),v:ah(n[5],30),x:ah(n[6],16),y:ah(n[7],16),w:ah(n[8],30)}}function Bh(t){return new hh(t.type,Ah(Eh(t.data.data),t.data.cursor.offset))}var Vh=function(t){function n(n,i,r,e){void 0===r&&(r=0),void 0===e&&(e=0);var u=t.call(this,"hdlr",r,e)||this;return u.name=i,u.handlerType=n,u}return jc(n,t),b.defineProperty(n.prototype,"handlerType",{get:function(){return this.Jb},set:function(t){this.Jb=t},enumerable:!1,configurable:!0}),n.prototype.serializeReserved=function(t){t.writer.writeUInt(0,32),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)},n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+4+4+12+(null!==(i=null===(n=this.name)||void 0===n?void 0:n.length)&&void 0!==i?i:0)+1},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeString(this.handlerType),this.serializeReserved(n),this.name&&n.writer.writeString(this.name),n.writer.writeByte(0)},n}(ch);function Fh(t){var n=t.data,i=xh(n.nextUint32()),r=i.version,e=i.flags;n.skip(4);var u=n.nextChars(4);n.skip(12);var s=n.nextUTF8String();return new Vh(u,s,r,e.raw)}!function(t){function n(){return t.call(this,"mdir")||this}jc(n,t),n.prototype.serializeReserved=function(t){t.writer.writeString("appl"),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)}}(Vh);F(),Tt(),F(),Tt(),F(),Tt();var Uh=function(){function t(t,n){void 0===n&&(n=!1),this.fixed28BitMode=n,this.tag=t}return t.prototype.encodeSize=function(t){for(var n=[];t>0;)n.length>0&&(n[n.length-1]+=128),n.push(t%128),t>>=7;if(this.fixed28BitMode)for(;n.length<4;)n.push(128);return n.reverse()},b.defineProperty(t.prototype,"tag",{get:function(){return this.$b},set:function(t){if(!uh(t,8))throw new p("Provided tag does not fit in 8 bits.");this.$b=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return this.getDescriptorSize()+1+this.encodeSize(this.getDescriptorSize()).length},t.prototype.serialize=function(t){t.writer.writeByte(this.tag);for(var n=0,i=this.encodeSize(this.getDescriptorSize());n<i.length;n++){var r=i[n];t.writer.writeByte(r)}this.serializeDescriptorContent(t)},t}();F(),Tt();!function(t){function n(n,i,r,e,u,s,o){void 0===o&&(o={});var a=t.call(this,4,o.fixed28BitMode)||this;return a.upStream=r,a.decoderSpecificInfo=s,a.objectTypeIndication=n,a.streamType=i,a.bufferSizeDb=e,a.maxBitrate=u.max,a.avgBitrate=u.avg,a}jc(n,t),b.defineProperty(n.prototype,"objectTypeIndication",{get:function(){return this.tA},set:function(t){if(!uh(t,8))throw new p("Provided objectTypeIndication does not fit in 8 bits.");this.tA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"streamType",{get:function(){return this.eA},set:function(t){if(!uh(t,6))throw new p("Provided streamType does not fit in 6 bits.");this.eA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.iA},set:function(t){if(!uh(t,24))throw new p("Provided bufferSizeDb does not fit in 24 bits.");this.iA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"maxBitrate",{get:function(){return this.sA},set:function(t){if(!uh(t,32))throw new p("Provided maxBitrate does not fit in 32 bits.");this.sA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"avgBitrate",{get:function(){return this.nA},set:function(t){if(!uh(t,32))throw new p("Provided avgBitrate does not fit in 32 bits.");this.nA=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 13+this.decoderSpecificInfo.reduce((function(t,n){return t+n.getSize()}),0)},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.objectTypeIndication),t.writer.writeUInt(this.streamType,6),t.writer.writeBool(this.upStream),t.writer.writeBit(1),t.writer.writeUInt(this.bufferSizeDb,24),t.writer.writeUInt(this.maxBitrate,32),t.writer.writeUInt(this.avgBitrate,32);for(var n=0,i=this.decoderSpecificInfo;n<i.length;n++){i[n].serialize(t)}}}(Uh);F(),Tt();!function(t){function n(n,i){void 0===i&&(i={});var r=t.call(this,5,i.fixed28BitMode)||this;return r.data=n,r}jc(n,t),n.prototype.getDescriptorSize=function(){return this.data.length},n.prototype.serializeDescriptorContent=function(t){t.concat(nh.from(this.data))}}(Uh);F(),Tt(),F(),Tt();var Wh=function(t){function n(n){void 0===n&&(n=!1);var i=t.call(this,6,n)||this;return i.predefined=2,i}return jc(n,t),n.prototype.getDescriptorSize=function(){return 1},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.predefined)},n}(Uh);!function(t){function n(n,i,r,e){void 0===e&&(e={});var u=t.call(this,3,e.fixed28BitMode)||this;return u.decoderConfigDescriptor=r,u.esId=n,u.streamPriority=i,u.dependsOnEsId=null==e?void 0:e.dependsOnEsId,u.urlString=null==e?void 0:e.url,u.ocrEsId=null==e?void 0:e.ocrEsId,u.slConfigDescriptor=new Wh(e.fixed28BitMode),u}jc(n,t),b.defineProperty(n.prototype,"streamDependenceFlag",{get:function(){return void 0!==this.dependsOnEsId},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"urlFlag",{get:function(){return void 0!==this.urlString},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"ocrStreamFlag",{get:function(){return void 0!==this.ocrEsId},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"esId",{get:function(){return this.rA},set:function(t){if(!uh(t,16))throw new p("Provided esId does not fit in 16 bits.");this.rA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"streamPriority",{get:function(){return this.oA},set:function(t){if(!uh(t,5))throw new p("Provided streamPriority does not fit in 5 bits.");this.oA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"dependsOnEsId",{get:function(){return this.hA},set:function(t){if(t&&!uh(t,16))throw new p("Provided dependsOnEsId does not fit in 16 bits.");this.hA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"ocrEsId",{get:function(){return this.aA},set:function(t){if(t&&!uh(t,16))throw new p("Provided ocrEsId does not fit in 16 bits.");this.aA=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 3+(this.streamDependenceFlag?2:0)+(this.urlFlag?1+this.urlString.length:0)+(this.ocrStreamFlag?2:0)+this.decoderConfigDescriptor.getSize()+this.slConfigDescriptor.getSize()},n.prototype.serializeDescriptorContent=function(t){t.writer.writeUInt(this.esId,16),t.writer.writeBool(this.streamDependenceFlag),t.writer.writeBool(this.urlFlag),t.writer.writeBool(this.ocrStreamFlag),t.writer.writeUInt(this.streamPriority,5),this.streamDependenceFlag&&t.writer.writeUInt(this.dependsOnEsId,16),this.urlFlag&&(t.writer.writeByte(this.urlString.length),t.writer.writeString(this.urlString)),this.ocrStreamFlag&&t.writer.writeUInt(this.ocrEsId,16),this.decoderConfigDescriptor.serialize(t),this.slConfigDescriptor.serialize(t)}}(Uh);F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt();var Zh=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.boxes=[],n}return jc(n,t),n.prototype.getSize=function(){return t.prototype.getSize.call(this)+this.boxes.reduce((function(t,n){return t+n.getSize()}),0)},n.prototype.serialize=function(){for(var n=t.prototype.serialize.call(this),i=0,r=this.boxes;i<r.length;i++){var e=r[i];n=n.concat(e.serialize())}return n},n}(eh),Xh=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return jc(n,t),n.prototype.serializeBoxContent=function(t){},n.prototype.getBoxContentSize=function(){return 0},n}(Zh),Gh=function(t){function n(n,i){var r=t.call(this,n)||this;return r.dataReferenceIndex=i,r}return jc(n,t),b.defineProperty(n.prototype,"dataReferenceIndex",{get:function(){return this.uA},set:function(t){if(!uh(t,16))throw new p("Provided dataReferenceIndex does not fit in 16 bits.");this.uA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){for(var n=0;n<6;n++)t.writer.writeByte(0);t.writer.writeUInt(this.dataReferenceIndex,16)},n}(Xh),Hh=function(t){function n(n,i,r,e){var u,s,o=this;return(o=t.call(this,n,i)||this).extra=e,o.channelCount=null!==(u=r.channelCount)&&void 0!==u?u:2,o.sampleSize=null!==(s=r.sampleSize)&&void 0!==s?s:16,o.sampleRate=r.sampleRate,o}return jc(n,t),b.defineProperty(n.prototype,"channelCount",{get:function(){return this.cA},set:function(t){if(!uh(t,16))throw new p("Provided channelCount does not fit in 16 bits.");this.cA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"sampleSize",{get:function(){return this.lA},set:function(t){if(!uh(t,16))throw new p("Provided sampleSize does not fit in 16 bits.");this.lA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"sampleRate",{get:function(){return this.dA},set:function(t){if(!uh(sh(t,16),32))throw new p("Provided rate does not fit in 32 bits (fixed 16.16).");this.dA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+8+2+2+2+2+(void 0!==this.sampleRate?4:0)+(null!==(i=null===(n=this.extra)||void 0===n?void 0:n.length)&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.channelCount,16),n.writer.writeUInt(this.sampleSize,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(sh(this.sampleRate,16),32),this.extra&&oh(n.writer,this.extra)},n}(Gh);F(),Tt();!function(t){function n(n){var i=t.call(this,"stco",0,0)||this;return i.entries=n,i}jc(n,t),b.defineProperty(n.prototype,"entries",{get:function(){return this.fA},set:function(t){if(!uh(t.length,32))throw new p("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!uh(t,32)})))throw new p("Not all entries can be represented in 32 bits.");this.fA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];n.writer.writeUInt(e,32)}}}(ch);F(),Tt();!function(t){function n(n){var i=t.call(this,"clap")||this;return i.cleanApertureWidthN=n.cleanApertureWidthN,i.cleanApertureWidthD=n.cleanApertureWidthD,i.cleanApertureHeightN=n.cleanApertureHeightN,i.cleanApertureHeightD=n.cleanApertureHeightD,i.horizOffN=n.horizOffN,i.horizOffD=n.horizOffD,i.vertOffN=n.vertOffN,i.vertOffD=n.vertOffD,i}jc(n,t),b.defineProperty(n.prototype,"cleanApertureWidthN",{get:function(){return this._A},set:function(t){if(!uh(t,32))throw new p("Provided cleanApertureWidthN does not fit in 32 bits.");this._A=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"cleanApertureWidthD",{get:function(){return this.vA},set:function(t){if(!uh(t,32))throw new p("Provided cleanApertureWidthD does not fit in 32 bits.");this.vA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"cleanApertureHeightN",{get:function(){return this.mA},set:function(t){if(!uh(t,32))throw new p("Provided cleanApertureHeightN does not fit in 32 bits.");this.mA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"cleanApertureHeightD",{get:function(){return this.gA},set:function(t){if(!uh(t,32))throw new p("Provided cleanApertureHeightD does not fit in 32 bits.");this.gA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"horizOffN",{get:function(){return this.pA},set:function(t){if(!uh(t,32))throw new p("Provided horizOffN does not fit in 32 bits.");this.pA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"horizOffD",{get:function(){return this.wA},set:function(t){if(!uh(t,32))throw new p("Provided horizOffD does not fit in 32 bits.");this.wA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"vertOffN",{get:function(){return this.yA},set:function(t){if(!uh(t,32))throw new p("Provided vertOffN does not fit in 32 bits.");this.yA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"vertOffD",{get:function(){return this.bA},set:function(t){if(!uh(t,32))throw new p("Provided vertOffD does not fit in 32 bits.");this.bA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 32},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.cleanApertureWidthN,32),t.writer.writeUInt(this.cleanApertureWidthD,32),t.writer.writeUInt(this.cleanApertureHeightN,32),t.writer.writeUInt(this.cleanApertureHeightD,32),t.writer.writeUInt(this.horizOffN,32),t.writer.writeUInt(this.horizOffD,32),t.writer.writeUInt(this.vertOffN,32),t.writer.writeUInt(this.vertOffD,32)}}(eh);F(),Tt();!function(t){function n(n,i){var r=t.call(this,"ctts",n,0)||this;return r.entries=i,r}jc(n,t),b.defineProperty(n.prototype,"entries",{get:function(){return this.fA},set:function(t){if(!uh(t.length,32))throw new p("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!uh(t.sampleCount,32)||!uh(t.sampleOffset,32)})))throw new p("Not all entries can be represented in 64 bits.");this.fA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];n.writer.writeUInt(e.sampleCount,32),0===this.version?n.writer.writeUInt(e.sampleOffset,32):1===this.version&&n.writer.writeInt(e.sampleOffset,32)}}}(ch);F(),Tt();!function(t){function n(n){var i=t.call(this,"url ",0,void 0===n?1:0)||this;return i.location=n,i}jc(n,t),b.defineProperty(n.prototype,"location",{get:function(){return this.AA},set:function(t){this.flags=void 0===t?1:0,this.AA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this);return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(ch);F(),Tt();!function(t){function n(n,i,r){var e=t.call(this,"urn ",0,r)||this;return e.name=n,e.location=i,e}jc(n,t),b.defineProperty(n.prototype,"location",{get:function(){return this.AA},set:function(t){if(1&this.flags)throw new p("The moov containment flag is set, a DataEntryUrlBox should be used instead.");this.AA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+this.name.length+1;return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.name),n.writer.writeByte(0),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(ch);F(),Tt();!function(t){function n(){return t.call(this,"dinf")||this}jc(n,t)}(Xh);F(),Tt(),F(),Tt();var zh=function(t){function n(n,i,r){var e=t.call(this,n)||this;if(e.version=i,!uh(i,8))throw new p("the provided version cannot fit in 8 bits.");return e.flags=r,e}return jc(n,t),b.defineProperty(n.prototype,"flags",{get:function(){return this.l_},set:function(t){this.l_=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new p("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(Zh);!function(t){function n(){return t.call(this,"dref",0,0)||this}jc(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(zh);F(),Tt(),F(),Tt();var Yh=function(t){function n(n,i,r){void 0===r&&(r=0);var e=t.call(this,"elst",i,r)||this;return e.entries=n,e}return jc(n,t),b.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"entries",{get:function(){return this.fA},set:function(t){for(var n=0,i=t;n<i.length;n++){var r=i[n];if(!uh(r.segmentDuration,this.bitSize))throw new p("SegmentDuration of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!uh(r.mediaTime,this.bitSize))throw new p("MediaTime of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!uh(r.mediaRateInteger,16))throw new p("Provided mediaRateInteger does not fit in 16 bits.");if(r.mediaRateFraction&&!uh(r.mediaRateFraction,16))throw new p("Provided mediaRateFraction does not fit in 16 bits.")}this.fA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(2*this.bitSize/8+2+2)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32),this.serializeElstBoxContent(n)},n}(ch),jh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return jc(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,r=this.entries;i<r.length;i++){var e=r[i];t.writer.writeUInt(e.segmentDuration,32),t.writer.writeInt(e.mediaTime,32),t.writer.writeUInt(e.mediaRateInteger,16),t.writer.writeUInt(null!==(n=e.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(Yh),Kh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return jc(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,r=this.entries;i<r.length;i++){var e=r[i];t.writer.writeUInt(e.segmentDuration.getHighBitsUnsigned(),32),t.writer.writeUInt(e.segmentDuration.getLowBitsUnsigned(),32),t.writer.writeInt(e.mediaTime.getHighBits(),32),t.writer.writeInt(e.mediaTime.getLowBits(),32),t.writer.writeUInt(e.mediaRateInteger,16),t.writer.writeUInt(null!==(n=e.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(Yh);function qh(t){for(var n=t.data,i=xh(n.nextUint32()),r=i.version,e=i.flags,u=n.nextUint32(),s=[],o=0;o<u;o++){var a=void 0,c=void 0;0===r?(a=n.nextUint32(),c=n.nextInt32()):(a=n.nextUint64(),c=n.nextInt64());var h=n.nextInt16(),f=n.nextInt16();s.push({segmentDuration:a,mediaTime:c,mediaRateFraction:f,mediaRateInteger:h})}return 0===r?new jh(s,e.raw):new Kh(s,e.raw)}var Jh=function(t){function n(){return t.call(this,"edts")||this}return jc(n,t),n}(Xh);function Qh(t){for(var n=new Jh,i=0,r=Dh(t.data);i<r.length;i++){var e=r[i];Ch(e,"elst")?n.boxes.push(qh(e)):n.boxes.push(Bh(e))}return n}F(),Tt(),F(),Tt();var $h=function(t){function n(n,i,r,e){var u=t.call(this,n)||this;return u.majorBrand=i,u.minorVersion=r,u.compatibleBrands=e,u}return jc(n,t),b.defineProperty(n.prototype,"majorBrand",{get:function(){return this.SA},set:function(t){if(4!==t.length)throw new p("the provided major brand does not conform to the 4 character requirement");this.SA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"minorVersion",{get:function(){return this.TA},set:function(t){if(!uh(t,32))throw new p("the provided minor version does not fit in 32 bits.");this.TA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"compatibleBrands",{get:function(){return this.kA},set:function(t){if(t.some((function(t){return 4!==t.length})))throw new p("Some of the compatible brands do not conform to the 4 character requirement");this.kA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4*(2+this.compatibleBrands.length)},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.majorBrand),t.writer.writeUInt(this.minorVersion,32);for(var n=0,i=this.compatibleBrands;n<i.length;n++){var r=i[n];t.writer.writeString(r)}},n}(eh),tf=function(t){function n(n,i,r){return t.call(this,"ftyp",n,i,r)||this}return jc(n,t),n}($h);function nf(t){for(var n=t.data,i=n.nextChars(4),r=n.nextUint32(),e=[];n.cursor.offset<n.data.byteLength;)e.push(n.nextChars(4));return new tf(i,r,e)}F(),Tt();var rf=function(t){function n(n,i){void 0===i&&(i="free");var r=t.call(this,i)||this;return r.data=n,r}return jc(n,t),n.prototype.getBoxContentSize=function(){var t,n;return null!==(n=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==n?n:0},n.prototype.serializeBoxContent=function(t){this.data&&t.concat(nh.from(this.data))},n}(eh);F(),Tt(),F(),Tt();var ef=function(t){function n(n,i,r,e){void 0===e&&(e=0);var u=t.call(this,"mdhd",r,e)||this;return u.creationTime=n.creation,u.modificationTime=n.modification,u.timescale=n.scale,u.duration=n.duration,u.language=i,u}return jc(n,t),b.defineProperty(n.prototype,"creationTime",{get:function(){return this.EA},set:function(t){if(!uh(t,this.bitSize))throw new p("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.EA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"modificationTime",{get:function(){return this.xA},set:function(t){if(!uh(t,this.bitSize))throw new p("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.xA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"timescale",{get:function(){return this.RA},set:function(t){if(!uh(t,32))throw new p("Provided sequence number does not fit in 32 bits.");this.RA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"duration",{get:function(){return this.IA},set:function(t){if(!uh(t,this.bitSize))throw new p("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.IA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"language",{get:function(){return this.CA},set:function(t){if(!af(t))throw new p("Expected an ISO-639-2/T language code");this.CA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMdiaContent(n),n.writer.writeBit(0);for(var i=0,r=this.language;i<r.length;i++){var e=r[i];n.writer.writeUInt(e.charCodeAt(0)-96,5)}n.writer.writeUInt(0,16)},n}(ch),uf=function(t){function n(n,i,r){return void 0===r&&(r=0),t.call(this,n,i,0,r)||this}return jc(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(ef),sf=function(t){function n(n,i,r){return void 0===r&&(r=0),t.call(this,n,i,1,r)||this}return jc(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(ef);function of(t){var n=t.data,i=xh(n.nextUint32()),r=i.version,e=i.flags,u=Lh(n,r),s=new $c(nh.from(n.nextUint8Array(2)));s.skipBits(1);for(var o=[],a=0;a<3;a++)o.push(s.readUInt(5));var c=o.map((function(t){return String.fromCharCode(t+96)})).join("");return af(c)||(c="und"),n.skip(2),0===r?new uf(u,c,e.raw):new sf(u,c,e.raw)}function af(t){return/^[a-z]{3}$/.test(t)}var cf=function(t){function n(){return t.call(this,"mdia")||this}return jc(n,t),n}(Xh);function hf(t){for(var n=new cf,i=0,r=Dh(t.data);i<r.length;i++){var e=r[i];Ch(e,"mdhd")?n.boxes.push(of(e)):Ch(e,"hdlr")?n.boxes.push(Fh(e)):n.boxes.push(Bh(e))}return n}F(),Tt();var ff=function(t){function n(){var n=t.call(this,"mdat")||this;return n.data=new nh,n}return jc(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(this.data)},n}(eh);function vf(t){var n=t.data,i=n.nextUint8Array(n.data.byteLength-n.cursor.offset),r=new ff;return r.data.pushRange(i),r}F(),Tt();!function(t){function n(){return t.call(this,"minf")||this}jc(n,t)}(Xh);F(),Tt();var df;!function(t){function n(n){var i=t.call(this,"meta",0,0)||this;return i.handler=n,i}jc(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.handler.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.handler.serialize())}}(zh);F(),Tt(),F(),Tt(),function(t){t.VIDEO="vide",t.AUXILIARY_VIDEO="auxv",t.AUDIO="soun",t.METADATA="meta",t.HINT="hint",t.TEXT="text",t.SUBTITLE="subt",t.FONT="fdsm"}(df||(df={})),F(),Tt();var lf,gf,wf={a:1,b:0,u:0,c:0,d:1,v:0,x:0,y:0,w:1};function mf(t,n){n.writer.writeUInt(sh(t.a,16),32),n.writer.writeUInt(sh(t.b,16),32),n.writer.writeUInt(sh(0,30),32),n.writer.writeUInt(sh(t.c,16),32),n.writer.writeUInt(sh(t.d,16),32),n.writer.writeUInt(sh(0,30),32),n.writer.writeUInt(sh(t.x,16),32),n.writer.writeUInt(sh(t.y,16),32),n.writer.writeUInt(sh(1,30),32)}function yf(t,n){var i,r,e,u;n.writer.writeUInt(null!==(i=t.isLeading)&&void 0!==i?i:lf.UNKNOWN,2),n.writer.writeUInt(null!==(r=t.sampleDependsOn)&&void 0!==r?r:gf.UNKNOWN,2),n.writer.writeUInt(null!==(e=t.sampleIsDependedOn)&&void 0!==e?e:gf.UNKNOWN,2),n.writer.writeUInt(null!==(u=t.sampleHasRedundancy)&&void 0!==u?u:gf.UNKNOWN,2)}function pf(t,n){var i,r,e;n.writer.writeUInt(0,4),yf(t,n),n.writer.writeUInt(null!==(i=t.samplePaddingValue)&&void 0!==i?i:0,3),n.writer.writeBool(null!==(r=t.sampleIsNonSyncSample)&&void 0!==r&&r),n.writer.writeUInt(null!==(e=t.sampleDegradationPriority)&&void 0!==e?e:0,16)}F(),Tt(),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WITH_DEPENDENCY=1]="WITH_DEPENDENCY",t[t.NO=2]="NO",t[t.WITHOUT_DEPENDENCY=3]="WITHOUT_DEPENDENCY"}(lf||(lf={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.YES=1]="YES",t[t.NO=2]="NO",t[t.RESERVED=3]="RESERVED"}(gf||(gf={})),F(),Tt(),F(),Tt();var _f=function(){};F(),Tt(),F(),Tt(),F(),Tt();var bf=function(t){function n(n,i,r){var e=t.call(this,"pssh",n,0)||this;return e.systemId=i,e.data=r,e}return jc(n,t),b.defineProperty(n.prototype,"systemId",{get:function(){return this.PA},set:function(t){if(16!==t.length)throw new p("Provided systemId length is not 16.");this.PA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"data",{get:function(){return this.yp},set:function(t){if(!uh(t.length,32))throw new p("Provided data length does not fit in 32 bits.");this.yp=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+16+4+this.data.length},n.prototype.serializeVersionBoxContent=function(t){},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(nh.from(this.systemId)),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.data.length,32),n.concat(nh.from(this.data))},n}(ch),kf=function(t){function n(n,i){return t.call(this,0,n,i)||this}return jc(n,t),n}(bf),Af=function(t){function n(n,i,r){var e=t.call(this,1,n,i)||this;return e.kIds=r,e}return jc(n,t),b.defineProperty(n.prototype,"kIds",{get:function(){return this.DA},set:function(t){if(!uh(t.length,32))throw new p("Provided kIds length cannot fit in 32 bits.");if(t.some((function(t){return 16!==t.length})))throw new p("Not all provided key ids are 16 bytes long.");this.DA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+16*this.kIds.length},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.kIds.length,32);for(var n=0,i=this.kIds;n<i.length;n++){var r=i[n];t.concat(nh.from(r))}},n}(bf);function Tf(t){var n=t.data.nextUint8();t.data.skip(3);var i=t.data.nextUint8Array(16),r=[];if(1===n)for(var e=t.data.nextUint32(),u=0;u<e;u++)r.push(t.data.nextUint8Array(16));var s=t.data.nextUint32(),o=t.data.nextUint8Array(s);return 1===n?new Af(i,o,r):new kf(i,o)}F(),Tt(),F(),Tt();var Sf=function(t){function n(n,i,r){void 0===r&&(r=0);var e=t.call(this,"mehd",i,r)||this;return e.fragmentDuration=n,e}return jc(n,t),b.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"fragmentDuration",{get:function(){return this.NA},set:function(t){if(!uh(t,this.bitSize))throw new p("The provided fragmentDuration does not fit in ".concat(this.bitSize," bits."));this.NA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(ch),Ef=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return jc(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration,32)},n}(Sf),If=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return jc(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration.getHighBitsUnsigned(),32),n.writer.writeUInt(this.fragmentDuration.getLowBitsUnsigned(),32)},n}(Sf);function Rf(t){var n=t.data,i=xh(n.nextUint32()),r=i.version,e=i.flags;return 0===r?new Ef(n.nextUint32(),e.raw):new If(n.nextUint64(),e.raw)}F(),Tt();var Cf=function(t){function n(n,i,r,e){void 0===i&&(i={}),void 0===r&&(r=0),void 0===e&&(e=0);var u,s,o,a=this;return(a=t.call(this,"trex",r,e)||this).trackId=n,a.defaultSampleDescriptionIndex=null!==(u=null==i?void 0:i.sampleDescriptionIndex)&&void 0!==u?u:0,a.defaultSampleDuration=null!==(s=i.sampleDuration)&&void 0!==s?s:0,a.defaultSampleSize=null!==(o=i.sampleSize)&&void 0!==o?o:0,a.defaultSampleFlags=i.sampleFlags,a}return jc(n,t),b.defineProperty(n.prototype,"trackId",{get:function(){return this.MA},set:function(t){if(!uh(t,32))throw new p("Provided track id does not fit in 32 bits.");this.MA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.LA},set:function(t){if(!uh(t,32))throw new p("Provided default sample description index does not fit in 32 bits.");this.LA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.BA},set:function(t){if(!uh(t,32))throw new p("Provided default sample duration does not fit in 32 bits.");this.BA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.OA},set:function(t){if(!uh(t,32))throw new p("Provided default sample size does not fit in 32 bits.");this.OA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.FA},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!uh(t.samplePaddingValue,3))throw new p("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!uh(t.sampleDegradationPriority,16))throw new p("Provided sample degradation priority does not fit in 16 bits.");this.FA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+20},n.prototype.serializeBoxContent=function(n){var i;t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),n.writer.writeUInt(this.defaultSampleDescriptionIndex,32),n.writer.writeUInt(this.defaultSampleDuration,32),n.writer.writeUInt(this.defaultSampleSize,32),pf(null!==(i=this.defaultSampleFlags)&&void 0!==i?i:{},n)},n}(ch);function Nf(t){var n=t.data,i=xh(n.nextUint32()),r=i.version,e=i.flags,u=n.nextUint32(),s=n.nextUint32(),o=n.nextUint32(),a=n.nextUint32(),c=Mh(new $c(nh.from(n.nextUint8Array(4))));return new Cf(u,{sampleDescriptionIndex:s,sampleDuration:o,sampleSize:a,sampleFlags:c},r,e.raw)}var Df=function(t){function n(){return t.call(this,"mvex")||this}return jc(n,t),n}(Xh);function Pf(t){for(var n=new Df,i=0,r=Dh(t.data);i<r.length;i++){var e=r[i];Ch(e,"mehd")?n.boxes.push(Rf(e)):Ch(e,"trex")?n.boxes.push(Nf(e)):n.boxes.push(Bh(e))}return n}F(),Tt();var xf=function(t){function n(i,r,e,u,s){void 0===s&&(s=0);var o,a,c,h=this;return(h=t.call(this,"mvhd",u,s)||this).creationTime=i.creation,h.modificationTime=i.modification,h.timescale=i.scale,h.duration=i.duration,h.rate=null!==(o=e.rate)&&void 0!==o?o:n.DEFAULT_RATE,h.volume=null!==(a=e.volume)&&void 0!==a?a:n.DEFAULT_VOLUME,h.matrix=null!==(c=e.matrix)&&void 0!==c?c:wf,h.VA=r,h}return jc(n,t),b.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"creationTime",{get:function(){return this.EA},set:function(t){if(!uh(t,this.bitSize))throw new p("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.EA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"modificationTime",{get:function(){return this.xA},set:function(t){if(!uh(t,this.bitSize))throw new p("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.xA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"timescale",{get:function(){return this.RA},set:function(t){if(!uh(t,32))throw new p("Provided sequence number does not fit in 32 bits.");this.RA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"duration",{get:function(){return this.IA},set:function(t){if(!uh(t,this.bitSize))throw new p("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.IA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"rate",{get:function(){return this.WA},set:function(t){if(!uh(sh(t,16),32))throw new p("Provided rate does not fit in 32 bits (fixed 16.16).");this.WA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"volume",{get:function(){return this.UA},set:function(t){if(!uh(sh(t,8),16))throw new p("Provided volume does not fit in 16 bits (fixed 8.8).");this.UA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"matrix",{get:function(){return this.GA},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new p("(u, v, w) does not match the required (0, 0, 1)");this.GA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"nextTrackId",{get:function(){return this.VA},set:function(t){if(0===t)throw new p("NextTrackId cannot be 0.");if(!uh(t,32))throw new p("NextTrackId cannot exceed 32 bits.");this.VA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+2+2+8+36+24+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMvhdContent(n),n.writer.writeUInt(sh(this.rate,16),32),n.writer.writeUInt(sh(this.volume,8),16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),mf(this.matrix,n);for(var i=0;i<6;i++)n.writer.writeUInt(0,32);n.writer.writeUInt(this.nextTrackId,32)},n.DEFAULT_RATE=1,n.DEFAULT_VOLUME=1,n}(ch),Lf=function(t){function n(n,i,r,e){return void 0===r&&(r={}),void 0===e&&(e=0),t.call(this,n,i,r,0,e)||this}return jc(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(xf),Mf=function(t){function n(n,i,r,e){return void 0===r&&(r={}),void 0===e&&(e=0),t.call(this,n,i,r,1,e)||this}return jc(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(xf);function Of(t){var n=t.data,i=xh(n.nextUint32()),r=i.version,e=i.flags,u=Lh(n,r),s=ah(n.nextUint32(),16),o=ah(n.nextUint16(),8);n.skip(2),n.skip(8);var a=Oh(n);n.skip(24);var c=n.nextUint32();return 0===r?new Lf(u,c,{rate:s,volume:o,matrix:a},e.raw):new Mf(u,c,{rate:s,volume:o,matrix:a},e.raw)}F(),Tt(),F(),Tt();var Bf=function(t){function n(n,i,r,e,u,s,o){void 0===o&&(o={});var a,c,h,f=this;return f=t.call(this,"tkhd",n,function(t){var n,i,r,e;return{trackEnabled:null===(n=null==t?void 0:t.trackEnabled)||void 0===n||n,trackInMovie:null===(i=null==t?void 0:t.trackInMovie)||void 0===i||i,trackInPreview:null===(r=null==t?void 0:t.trackInPreview)||void 0===r||r,trackSizeIsAspectRatio:null!==(e=null==t?void 0:t.trackSizeIsAspectRatio)&&void 0!==e&&e}}(o))||this,f.creationTime=i.creation,f.modificationTime=i.modification,f.trackId=r,f.duration=i.duration,f.volume=e,f.width=u,f.height=s,f.layer=null!==(a=o.layer)&&void 0!==a?a:0,f.alternateGroup=null!==(c=o.alternateGroup)&&void 0!==c?c:0,f.matrix=null!==(h=o.matrix)&&void 0!==h?h:wf,f}return jc(n,t),b.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"creationTime",{get:function(){return this.EA},set:function(t){if(!uh(t,this.bitSize))throw new p("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.EA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"modificationTime",{get:function(){return this.xA},set:function(t){if(!uh(t,this.bitSize))throw new p("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.xA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"trackId",{get:function(){return this.MA},set:function(t){if(0===t)throw new p("trackId cannot be 0.");if(!uh(t,32))throw new p("trackId cannot exceed 32 bits.");this.MA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"duration",{get:function(){return this.IA},set:function(t){if(!uh(t,this.bitSize))throw new p("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.IA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"volume",{get:function(){return this.UA},set:function(t){if(!uh(sh(t,8),16))throw new p("Provided volume does not fit in 16 bits (fixed 8.8).");this.UA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"width",{get:function(){return this.HA},set:function(t){if(!uh(sh(t,16),32))throw new p("Provided width does not fit in 32 bits (fixed 16.16).");this.HA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"height",{get:function(){return this.ZA},set:function(t){if(!uh(sh(t,16),32))throw new p("Provided height does not fit in 32 bits (fixed 16.16).");this.ZA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"layer",{get:function(){return this.XA},set:function(t){if(!uh(t,16))throw new p("Provided layer does not fit in 16 bits.");this.XA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"alternateGroup",{get:function(){return this.zA},set:function(t){if(!uh(t,16))throw new p("Provided alternateGroup does not fit in 16 bits.");this.zA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"matrix",{get:function(){return this.GA},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new p("(u, v, w) does not match the required (0, 0, 1)");this.GA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+8+2+2+2+2+36+4+4},n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,20),t.writer.writeBool(this.flags.trackSizeIsAspectRatio),t.writer.writeBool(this.flags.trackInPreview),t.writer.writeBool(this.flags.trackInMovie),t.writer.writeBool(this.flags.trackEnabled)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeTkhdContent(n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.layer,16),n.writer.writeUInt(this.alternateGroup,16),n.writer.writeUInt(sh(this.volume,8),16),n.writer.writeUInt(0,16),mf(this.matrix,n),n.writer.writeUInt(sh(this.width,16),32),n.writer.writeUInt(sh(this.height,16),32)},n}(ch),Vf=function(t){function n(n,i,r,e,u,s){return t.call(this,0,n,i,r,e,u,s)||this}return jc(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration,32)},n}(Bf),Ff=function(t){function n(n,i,r,e,u,s){return t.call(this,1,n,i,r,e,u,s)||this}return jc(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Bf);function Uf(t){var n,i,r,e,u=t.data,s=xh(u.nextUint32()),o=s.version,a=s.flags,c=a.isSet(8),h=a.isSet(4),f=a.isSet(2),v=a.isSet(1);0===o?(n=u.nextUint32(),i=u.nextUint32(),r=u.nextUint32(),u.skip(4),e=u.nextUint32()):(n=u.nextUint64(),i=u.nextUint64(),r=u.nextUint32(),u.skip(4),e=u.nextUint64()),u.skip(8);var d=u.nextInt16(),l=u.nextInt16(),g=ah(u.nextInt16(),8);u.skip(2);var w=Oh(u),m=ah(u.nextUint32(),16),y=ah(u.nextUint32(),16);return 0===o?new Vf({creation:n,modification:i,duration:e},r,g,m,y,{layer:d,matrix:w,alternateGroup:l,trackSizeIsAspectRatio:c,trackEnabled:v,trackInPreview:h,trackInMovie:f}):new Ff({creation:n,modification:i,duration:e},r,g,m,y,{layer:d,matrix:w,alternateGroup:l,trackSizeIsAspectRatio:c,trackEnabled:v,trackInPreview:h,trackInMovie:f})}var Wf=function(t){function n(){return t.call(this,"trak")||this}return jc(n,t),n}(Xh);function Zf(t){for(var n=new Wf,i=0,r=Dh(t.data);i<r.length;i++){var e=r[i];Ch(e,"tkhd")?n.boxes.push(Uf(e)):Ch(e,"mdia")?n.boxes.push(hf(e)):Ch(e,"edts")?n.boxes.push(Qh(e)):n.boxes.push(Bh(e))}return n}var Xf=function(t){function n(){return t.call(this,"moov")||this}return jc(n,t),n}(Xh);function Gf(t){for(var n=new Xf,i=0,r=Dh(t.data);i<r.length;i++){var e=r[i];Ch(e,"mvhd")?n.boxes.push(Of(e)):Ch(e,"trak")?n.boxes.push(Zf(e)):Ch(e,"mvex")?n.boxes.push(Pf(e)):Ch(e,"pssh")?n.boxes.push(Tf(e)):n.boxes.push(Bh(e))}return n}F(),Tt(),F(),Tt(),F(),Tt();var Hf=function(t){function n(n,i,r){void 0===r&&(r=0);var e=t.call(this,"tfdt",i,r)||this;return e.baseMediaDecodeTime=n,e}return jc(n,t),b.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"baseMediaDecodeTime",{get:function(){return this.qA},set:function(t){if(!uh(t,this.bitSize))throw new p("Provided baseMediaDecodeTime does not fit in ".concat(this.bitSize," bits."));this.qA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(ch),zf=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return jc(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime,32)},n}(Hf),Yf=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return jc(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseMediaDecodeTime.getLowBitsUnsigned(),32)},n}(Hf);function jf(t){var n=t.data,i=xh(n.nextUint32()),r=i.version,e=i.flags;return 0===r?new zf(n.nextUint32(),e.raw):new Yf(n.nextUint64(),e.raw)}F(),Tt();var Kf=function(t){function n(n,i){void 0===i&&(i=0);var r=t.call(this,"tfhd",i,function(t){return{baseDataOffsetPresent:void 0!==t.baseDataOffset,sampleDescriptionIndexPresent:void 0!==t.sampleDescriptionIndex,defaultSampleDurationPresent:void 0!==t.defaultSampleDuration,defaultSampleSizePresent:void 0!==t.defaultSampleSize,defaultSampleFlagsPresent:void 0!==t.defaultSampleFlags,durationIsEmpty:t.durationIsEmpty,defaultBaseIsMoof:t.defaultBaseIsMoof}}(n))||this;return r.trackId=n.trackId,r.baseDataOffset=n.baseDataOffset,r.sampleDescriptionIndex=n.sampleDescriptionIndex,r.defaultSampleDuration=n.defaultSampleDuration,r.defaultSampleSize=n.defaultSampleSize,r.defaultSampleFlags=n.defaultSampleFlags,r}return jc(n,t),b.defineProperty(n.prototype,"trackId",{get:function(){return this.MA},set:function(t){if(!uh(t,32))throw new p("Provided track id does not fit in 32 bits.");this.MA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"baseDataOffset",{get:function(){return this.YA},set:function(t){if(void 0===t&&this.flags.baseDataOffsetPresent)throw new p("The base data offset present flag is set.");if(void 0!==t&&!this.flags.baseDataOffsetPresent)throw new p("The base data offset present flag is not set.");if(t&&!uh(t,64))throw new p("Provided baseDataOffset does not fit in 32 bits.");this.YA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"sampleDescriptionIndex",{get:function(){return this.KA},set:function(t){if(void 0===t&&this.flags.sampleDescriptionIndexPresent)throw new p("The sample description index flag is set.");if(void 0!==t&&!this.flags.sampleDescriptionIndexPresent)throw new p("The sample description index flag is not set.");if(t&&!uh(t,32))throw new p("Provided sampleDescriptionIndex does not fit in 32 bits.");this.KA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.BA},set:function(t){if(void 0===t&&this.flags.defaultSampleDurationPresent)throw new p("The default sample duration present flag is set.");if(void 0!==t&&!this.flags.defaultSampleDurationPresent)throw new p("The default sample duration present flag is not set.");if(t&&!uh(t,32))throw new p("Provided defaultSampleDuration does not fit in 32 bits.");this.BA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.OA},set:function(t){if(void 0===t&&this.flags.defaultSampleSizePresent)throw new p("The default sample size present flag is set.");if(void 0!==t&&!this.flags.defaultSampleSizePresent)throw new p("The default sample size present flag is not set.");if(t&&!uh(t,32))throw new p("Provided defaultSampleSize does not fit in 32 bits.");this.OA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.FA},set:function(t){if(void 0===t&&this.flags.defaultSampleFlagsPresent)throw new p("The default sample flags present flag is set.");if(void 0!==t&&!this.flags.defaultSampleFlagsPresent)throw new p("The default sample flags present flag is not set.");if((null==t?void 0:t.samplePaddingValue)&&!uh(t.samplePaddingValue,3))throw new p("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!uh(t.sampleDegradationPriority,16))throw new p("Provided sample degradation priority does not fit in 16 bits.");this.FA=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,6),t.writer.writeBool(this.flags.defaultBaseIsMoof),t.writer.writeBool(this.flags.durationIsEmpty),t.writer.writeByte(0),t.writer.writeUInt(0,2),t.writer.writeBool(this.flags.defaultSampleFlagsPresent),t.writer.writeBool(this.flags.defaultSampleSizePresent),t.writer.writeBool(this.flags.defaultSampleDurationPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.sampleDescriptionIndexPresent),t.writer.writeBool(this.flags.baseDataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.baseDataOffsetPresent&&(n+=8),this.flags.sampleDescriptionIndexPresent&&(n+=4),this.flags.defaultSampleDurationPresent&&(n+=4),this.flags.defaultSampleSizePresent&&(n+=4),this.flags.defaultSampleFlagsPresent&&(n+=4),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),this.flags.baseDataOffsetPresent&&(n.writer.writeUInt(this.baseDataOffset.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseDataOffset.getLowBitsUnsigned(),32)),this.flags.sampleDescriptionIndexPresent&&n.writer.writeUInt(this.sampleDescriptionIndex,32),this.flags.defaultSampleDurationPresent&&n.writer.writeUInt(this.defaultSampleDuration,32),this.flags.defaultSampleSizePresent&&n.writer.writeUInt(this.defaultSampleSize,32),this.flags.defaultSampleFlagsPresent&&pf(this.defaultSampleFlags,n)},n}(ch);function qf(t){var n=t.data,i=n.nextUint8(),r=new $c(nh.from(n.nextUint8Array(3)));r.skipBits(6);var e=Boolean(r.readBit()),u=Boolean(r.readBit());r.skipBits(10);var s=Boolean(r.readBit()),o=Boolean(r.readBit()),a=Boolean(r.readBit());r.skipBits(1);var c=Boolean(r.readBit()),h=Boolean(r.readBit()),f=n.nextUint32(),v=h?n.nextUint64():void 0,d=c?n.nextUint32():void 0,l=a?n.nextUint32():void 0,g=o?n.nextUint32():void 0,w=s?Mh(new $c(nh.from(n.nextUint8Array(4)))):void 0;return new Kf({trackId:f,defaultBaseIsMoof:e,durationIsEmpty:u,baseDataOffset:v,sampleDescriptionIndex:d,defaultSampleDuration:l,defaultSampleSize:g,defaultSampleFlags:w},i)}F(),Tt();var Jf=function(t){function n(n,i,r){var e=t.call(this,"trun",n,function(t){var n,i,r,e;return{dataOffsetPresent:void 0!==t.dataOffset,firstSampleFlagsPresent:void 0!==t.firstSampleFlags,sampleDurationPresent:null!==(n=t.sampleDurationPresent)&&void 0!==n&&n,sampleSizePresent:null!==(i=t.sampleSizePresent)&&void 0!==i&&i,sampleFlagsPresent:null!==(r=t.sampleFlagsPresent)&&void 0!==r&&r,sampleCompositionTimeOffsetsPresent:null!==(e=t.sampleCompositionTimeOffsetsPresent)&&void 0!==e&&e}}(i))||this;return e.dataOffset=i.dataOffset,e.samples=r,e.firstSampleFlags=i.firstSampleFlags,e}return jc(n,t),b.defineProperty(n.prototype,"dataOffset",{get:function(){return this.jA},set:function(t){if(t&&!uh(t,32))throw new p("Provided data offset does not fit in 32 bits.");this.jA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"firstSampleFlags",{get:function(){return this.QA},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!uh(t.samplePaddingValue,3))throw new p("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!uh(t.sampleDegradationPriority,16))throw new p("Provided sample degradation priority does not fit in 16 bits.");this.QA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"samples",{get:function(){return this.JA},set:function(t){var n,i;if(!uh(t.length,32))throw new p("The sample count cannot be represented in 32 bits.");for(var r=0,e=t;r<e.length;r++){var u=e[r];if(void 0===u.duration&&this.flags.sampleDurationPresent)throw new p("The sample duration present flag is set.");if(void 0!==u.duration&&!this.flags.sampleDurationPresent)throw new p("The sample duration present flag is not set.");if(u.duration&&!uh(u.duration,32))throw new p("Provided sample duration does not fit in 32 bits.");if(void 0===u.size&&this.flags.sampleSizePresent)throw new p("The sample size present flag is set.");if(void 0!==u.size&&!this.flags.sampleSizePresent)throw new p("The sample size present flag is not set.");if(u.size&&!uh(u.size,32))throw new p("Provided sample size does not fit in 32 bits.");if(void 0===u.flags&&this.flags.sampleFlagsPresent)throw new p("The sample flags present flag is set.");if(void 0!==u.flags&&!this.flags.sampleFlagsPresent)throw new p("The sample flags present flag is not set.");if((null===(n=u.flags)||void 0===n?void 0:n.samplePaddingValue)&&!uh(u.flags.samplePaddingValue,3))throw new p("Provided sample padding value does not fit in 3 bits.");if((null===(i=u.flags)||void 0===i?void 0:i.sampleDegradationPriority)&&!uh(u.flags.sampleDegradationPriority,16))throw new p("Provided sample degradation priority does not fit in 16 bits.");if(void 0===u.compositionTimeOffset&&this.flags.sampleCompositionTimeOffsetsPresent)throw new p("The sample compositionTimeOffset present flag is set.");if(void 0!==u.compositionTimeOffset&&!this.flags.sampleCompositionTimeOffsetsPresent)throw new p("The sample compositionTimeOffset present flag is not set.");if(u.compositionTimeOffset&&!uh(u.compositionTimeOffset,32))throw new p("Provided sample compositionTimeOffset does not fit in 32 bits.")}this.JA=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeByte(0),t.writer.writeUInt(0,4),t.writer.writeBool(this.flags.sampleCompositionTimeOffsetsPresent),t.writer.writeBool(this.flags.sampleFlagsPresent),t.writer.writeBool(this.flags.sampleSizePresent),t.writer.writeBool(this.flags.sampleDurationPresent),t.writer.writeUInt(0,5),t.writer.writeBool(this.flags.firstSampleFlagsPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.dataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.dataOffsetPresent&&(n+=4),this.flags.firstSampleFlagsPresent&&(n+=4),this.flags.sampleDurationPresent&&(n+=4*this.samples.length),this.flags.sampleSizePresent&&(n+=4*this.samples.length),this.flags.sampleFlagsPresent&&(n+=4*this.samples.length),this.flags.sampleCompositionTimeOffsetsPresent&&(n+=4*this.samples.length),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32),this.flags.dataOffsetPresent&&n.writer.writeUInt(this.dataOffset,32),this.flags.firstSampleFlagsPresent&&pf(this.firstSampleFlags,n);for(var i=0,r=this.samples;i<r.length;i++){var e=r[i];this.flags.sampleDurationPresent&&n.writer.writeUInt(e.duration,32),this.flags.sampleSizePresent&&n.writer.writeUInt(e.size,32),this.flags.sampleFlagsPresent&&pf(e.flags,n),this.flags.sampleCompositionTimeOffsetsPresent&&(0===this.version?n.writer.writeUInt(e.compositionTimeOffset,32):n.writer.writeInt(e.compositionTimeOffset,32))}},n}(ch);function Qf(t){var n=t.data,i=n.nextUint8(),r=new $c(nh.from(n.nextUint8Array(3)));r.skipBits(12);var e=Boolean(r.readBit()),u=Boolean(r.readBit()),s=Boolean(r.readBit()),o=Boolean(r.readBit());r.skipBits(5);var a=Boolean(r.readBit());r.skipBits(1);var c=Boolean(r.readBit()),h=n.nextUint32(),f={sampleDurationPresent:o,sampleSizePresent:s,sampleFlagsPresent:u,sampleCompositionTimeOffsetsPresent:e};c&&(f.dataOffset=n.nextInt32()),a&&(f.firstSampleFlags=Mh(new $c(nh.from(n.nextUint8Array(4)))));for(var v=[],d=0;d<h;d++){var l={};o&&(l.duration=n.nextUint32()),s&&(l.size=n.nextUint32()),u&&(l.flags=Mh(new $c(nh.from(n.nextUint8Array(4))))),e&&(l.compositionTimeOffset=0===i?n.nextUint32():n.nextInt32()),v.push(l)}return new Jf(i,f,v)}var $f=function(t){function n(){return t.call(this,"traf")||this}return jc(n,t),n}(Xh);function nv(t){for(var n=new $f,i=0,r=Dh(t.data);i<r.length;i++){var e=r[i];Ch(e,"tfhd")?n.boxes.push(qf(e)):Ch(e,"tfdt")?n.boxes.push(jf(e)):Ch(e,"trun")?n.boxes.push(Qf(e)):n.boxes.push(Bh(e))}return n}var iv=function(t){function n(){return t.call(this,"moof")||this}return jc(n,t),n}(Xh);function rv(t){for(var n=new iv,i=0,r=Dh(t.data);i<r.length;i++){var e=r[i];Ch(e,"traf")?n.boxes.push(nv(e)):Ch(e,"pssh")?n.boxes.push(Tf(e)):n.boxes.push(Bh(e))}return n}F(),Tt();!function(t){function n(n){var i=t.call(this,"mfhd",0,0)||this;return i.sequenceNumber=n,i}jc(n,t),b.defineProperty(n.prototype,"sequenceNumber",{get:function(){return this.$A},set:function(t){if(!uh(t,32))throw new p("Provided sequence number does not fit in 32 bits.");this.$A=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.sequenceNumber,32)}}(ch);F(),Tt();var ev=function(t){function n(n){var i=t.call(this,"frma")||this;return i.codingName=n,i}return jc(n,t),b.defineProperty(n.prototype,"codingName",{get:function(){return this.tS},set:function(t){if(4!==t.length)throw new p("Provided coding name was not 4 characters long.");this.tS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.codingName)},n}(eh);F(),Tt();!function(t){function n(n,i){var r=t.call(this,"pasp")||this;return r.hSpacing=n,r.vSpacing=i,r}jc(n,t),b.defineProperty(n.prototype,"hSpacing",{get:function(){return this.eS},set:function(t){if(!uh(t,32))throw new p("Provided hSpacing does not fit in 32 bits.");this.eS=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"vSpacing",{get:function(){return this.iS},set:function(t){if(!uh(t,32))throw new p("Provided vSpacing does not fit in 32 bits.");this.iS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.hSpacing,32),t.writer.writeUInt(this.vSpacing,32)}}(eh);F(),Tt();!function(t){function n(n,i,r){var e=t.call(this,n)||this;return e.sample=i,e.sinf=r,e}jc(n,t),n.prototype.getBoxContentSize=function(){return this.sample.getBoxContentSize()+this.sinf.getSize()},n.prototype.serializeBoxContent=function(t){this.sample.serializeBoxContent(t),t.concat(this.sinf.serialize())}}(Xh);F(),Tt();!function(t){function n(n,i,r){var e=t.call(this,"sinf")||this;return e.schm=i,e.schi=r,e.frma=new ev(n),e}jc(n,t),n.prototype.getBoxContentSize=function(){var t,n,i,r;return this.frma.getSize()+(null!==(n=null===(t=this.schm)||void 0===t?void 0:t.getSize())&&void 0!==n?n:0)+(null!==(r=null===(i=this.schi)||void 0===i?void 0:i.getSize())&&void 0!==r?r:0)},n.prototype.serializeBoxContent=function(t){t.concat(this.frma.serialize()),this.schm&&t.concat(this.schm.serialize()),this.schi&&t.concat(this.schi.serialize())}}(eh);F(),Tt();var uv=function(t){function n(n,i,r){var e=t.call(this,"saio",n,void 0===r?0:1)||this;return e.entries=i,e.explicitAuxInfoType=r,e}return jc(n,t),b.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"entries",{get:function(){return this.fA},set:function(t){var n=this;if(!uh(t.length,32))throw new p("Number of entries provided does not fit in 32 bits.");if(t.some((function(t){return!uh(t,n.bitSize)})))throw new p("Not all provided entries fit in ".concat(this.bitSize," bits."));this.fA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.sS},set:function(t){if(void 0===t)this.flags=0;else{if(!uh(t.auxInfoType,32))throw new p("Provided auxInfoType does not fit in 32 bits.");if(!uh(t.auxInfoTypeParameter,32))throw new p("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.sS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+4+this.entries.length*this.bitSize/8},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeUInt(this.entries.length,32),this.serializeSaioContent(n)},n}(ch);(function(t){function n(){return null!==t&&t.apply(this,arguments)||this}jc(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var r=i[n];t.writer.writeUInt(r,32)}}})(uv),function(t){function n(){return null!==t&&t.apply(this,arguments)||this}jc(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var r=i[n];t.writer.writeUInt(r.getHighBitsUnsigned(),32),t.writer.writeUInt(r.getLowBitsUnsigned(),32)}}}(uv);F(),Tt();!function(t){function n(n,i,r){var e=t.call(this,"saiz",0,void 0===r?0:1)||this;return e.defaultSampleInfoSize=n,e.sampleInfoSizes=i,e.explicitAuxInfoType=r,e}jc(n,t),b.defineProperty(n.prototype,"defaultSampleInfoSize",{get:function(){return this.nS},set:function(t){if(!uh(t,8))throw new p("Provided defaultSampleInfoSize does not fit in a single byte.");this.nS=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"sampleInfoSizes",{get:function(){return this.rS},set:function(t){if(!uh(t.length,32))throw new p("Number of sampleInfoSizes provided does not fit in 32 bits.");if(t.some((function(t){return!uh(t,8)})))throw new p("Not all provided sampleInfoSizes fit in a byte.");this.rS=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.sS},set:function(t){if(void 0===t)this.flags=0;else{if(!uh(t.auxInfoType,32))throw new p("Provided auxInfoType does not fit in 32 bits.");if(!uh(t.auxInfoTypeParameter,32))throw new p("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.sS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+1+4+(0!==this.defaultSampleInfoSize?0:this.sampleInfoSizes.length)},n.prototype.serializeBoxContent=function(n){if(0!==this.defaultSampleInfoSize&&this.sampleInfoSizes.length>0)throw new p("Both a default size and specific sizes are provided.  This is prohibited.");t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeByte(this.defaultSampleInfoSize),n.writer.writeUInt(this.sampleInfoSizes.length,32);for(var i=0,r=this.sampleInfoSizes;i<r.length;i++){var e=r[i];n.writer.writeByte(e)}}}(ch);F(),Tt();!function(t){function n(n){var i=t.call(this,"sdtp",0,0)||this;return i.samples=n,i}jc(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.samples.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n);for(var i=0,r=this.samples;i<r.length;i++){yf(r[i],n)}}}(ch);F(),Tt();!function(t){function n(n){return t.call(this,"stsd",n,0)||this}jc(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(zh);F(),Tt();var sv=function(t){function n(n,i,r){var e=t.call(this,"sgpd",n,0)||this;return e.entries=r,e.groupingType=i,e}return jc(n,t),b.defineProperty(n.prototype,"groupingType",{get:function(){return this.oS},set:function(t){if(4!==t.length)throw new p("The provided groupingType does not equal 4 characters.");this.oS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.groupingType),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];this.serializeEntryBoxContent(n,e)}},n.prototype.serializeEntryBoxContent=function(t,n){n.serializeBoxContent(t)},n}(ch);(function(t){function n(n,i){return t.call(this,0,n,i)||this}jc(n,t),n.prototype.serializeVersionBoxContent=function(t){}})(sv),function(t){function n(n,i,r){var e=t.call(this,1,n,r)||this;return e.defaultLength=i,e}jc(n,t),b.defineProperty(n.prototype,"defaultLength",{get:function(){return this.hS},set:function(t){if(!uh(t,32))throw new p("The provided defaultLength does not fit in 32 bits.");this.hS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(this.defaultLength||4)},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultLength,32)},n.prototype.serializeEntryBoxContent=function(t,n){0===this.defaultLength&&t.writer.writeUInt(n.getBoxContentSize(),32),n.serializeBoxContent(t)}}(sv),function(t){function n(n,i,r,e){void 0===e&&(e=0);var u=this;if(n<2)throw new p("This constructor is only meant for versions 2 and up.");return(u=t.call(this,n,i,r)||this).defaultSampleDescriptionIndex=e,u}jc(n,t),b.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.LA},set:function(t){if(!uh(t,32))throw new p("The provided defaultSampleDescriptionIndex does not fit in 32 bits.");this.LA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultSampleDescriptionIndex,32)}}(sv);F(),Tt();(function(t){function n(n){void 0===n&&(n=[]);var i=t.call(this,"stsz",0,0)||this;return i.sampleSizes=n,i}jc(n,t),b.defineProperty(n.prototype,"sampleSizes",{get:function(){return this.aS},set:function(t){if(!uh(t.length,32))throw new p("Number of allowed samples cannot fit in 32 bits.");if(t.some((function(t){return!uh(t,32)})))throw new p("Not all sampleSizes can be represented in 32 bits.");this.aS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+4*this.sampleSizes.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(this.sampleSizes.length,32);for(var i=0,r=this.sampleSizes;i<r.length;i++){var e=r[i];n.writer.writeUInt(e,32)}}})(ch),function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=0);var r=t.call(this,"stsz",0,0)||this;return r.defaultSampleSize=n,r.samples=i,r}jc(n,t),b.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.OA},set:function(t){if(!uh(t,32))throw new p("Provided defaultSampleSize does not fit in 32 bits.");this.OA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"samples",{get:function(){return this.JA},set:function(t){if(!uh(t,32))throw new p("Number of allowed samples cannot fit in 32 bits.");this.JA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.defaultSampleSize,32),n.writer.writeUInt(this.samples,32)}}(ch);F(),Tt();!function(t){function n(){return t.call(this,"stbl")||this}jc(n,t)}(Xh);F(),Tt();!function(t){function n(n){var i=t.call(this,"stsc",0,0)||this;return i.entries=n,i}jc(n,t),b.defineProperty(n.prototype,"entries",{get:function(){return this.fA},set:function(t){if(!uh(t.length,32))throw new p("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!uh(t.firstChunk,32)||!uh(t.sampleDescriptionIndex,32)||!uh(t.samplesPerChunk,32)})))throw new p("Not all entries can be represented in 96 bits.");this.fA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+12*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];n.writer.writeUInt(e.firstChunk,32),n.writer.writeUInt(e.samplesPerChunk,32),n.writer.writeUInt(e.sampleDescriptionIndex,32)}}}(ch);F(),Tt();!function(t){function n(){return t.call(this,"schi")||this}jc(n,t)}(Xh);F(),Tt();!function(t){function n(n,i,r){var e=t.call(this,"schm",0,void 0===r?0:1)||this;return e.schemeType=n,e.schemeVersion=i,e.schemeUri=r,e}jc(n,t),b.defineProperty(n.prototype,"schemeType",{get:function(){return this.uS},set:function(t){if(4!==t.length)throw new p("The provided schemeType does not have a length of 4.");this.uS=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"schemeVersion",{get:function(){return this.cS},set:function(t){if(!uh(t,32))throw new p("The provided schemeVersion does not fit in 23 bits.");this.cS=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"schemeUri",{get:function(){return this.lS},set:function(t){if(t&&4!==t.length)throw new p("The provided schemeUri does not have a length of 4.");this.flags=void 0===t?0:1,this.lS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+(void 0===this.schemeUri?0:this.schemeUri.length+1)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeType),n.writer.writeUInt(this.schemeVersion,32),this.schemeUri&&(n.writer.writeString(this.schemeUri),n.writer.writeByte(0))}}(ch);F(),Tt();var ov=function(t){function n(n,i,r,e,u,s,o){void 0===o&&(o=0);var a=t.call(this,"sidx",n,o)||this;return a.referenceId=i,a.timescale=r,a.earliestPresentationTime=e,a.firstOffset=u,a.references=s,a}return jc(n,t),b.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"referenceId",{get:function(){return this.dS},set:function(t){if(!uh(t,32))throw new p("Provided referenceId does not fit in 32 bits.");this.dS=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"timescale",{get:function(){return this.RA},set:function(t){if(!uh(t,32))throw new p("Provided timescale does not fit in 32 bits.");this.RA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"earliestPresentationTime",{get:function(){return this.fS},set:function(t){if(!uh(t,this.bitSize))throw new p("Provided earliestPresentationTime does not fit in ".concat(this.bitSize," bits."));this.fS=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"firstOffset",{get:function(){return this._S},set:function(t){if(!uh(t,this.bitSize))throw new p("Provided timescale does not fit in ".concat(this.bitSize," bits."));this._S=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"references",{get:function(){return this.vS},set:function(t){if(!uh(t.length,16))throw new p("The number of provided reference items does not fit in 16 bits.");for(var n=0,i=t;n<i.length;n++){var r=i[n];if(!uh(r.referencedSize,31))throw new p("Provided referenced size does not fit in 31 bits.");if(!uh(r.subsegmentDuration,32))throw new p("Provided subsegment duration does not fit in 31 bits.");if(!uh(r.sapType,3))throw new p("Provided SAP type does not fit in 3 bits.");if(!uh(r.sapDeltaTime,28))throw new p("Provided SAP delta time does not fit in 28 bits.")}this.vS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+this.bitSize/8*2+2+2+12*this.references.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.referenceId,32),n.writer.writeUInt(this.timescale,32),this.serializeSidxBoxContent(n),n.writer.writeUInt(0,16),n.writer.writeUInt(this.references.length,16);for(var i=0,r=this.references;i<r.length;i++){var e=r[i];n.writer.writeBit(e.referenceType),n.writer.writeUInt(e.referencedSize,31),n.writer.writeUInt(e.subsegmentDuration,32),n.writer.writeBool(e.startsWithSap),n.writer.writeUInt(e.sapType,3),n.writer.writeUInt(e.sapDeltaTime,28)}},n}(ch),av=function(t){function n(n,i,r,e,u,s){return void 0===s&&(s=0),t.call(this,0,n,i,r,e,u,s)||this}return jc(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime,32),t.writer.writeUInt(this.firstOffset,32)},n}(ov),cv=function(t){function n(n,i,r,e,u,s){return void 0===s&&(s=0),t.call(this,1,n,i,r,e,u,s)||this}return jc(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.earliestPresentationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getHighBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getLowBitsUnsigned(),32)},n}(ov);F(),Tt();var hv=function(t){function n(n,i,r){return t.call(this,"styp",n,i,r)||this}return jc(n,t),n}($h);function fv(t){for(var n=t.data,i=n.nextChars(4),r=n.nextUint32(),e=[];n.cursor.offset<n.data.byteLength;)e.push(n.nextChars(4));return new hv(i,r,e)}F(),Tt();!function(t){function n(n){void 0===n&&(n=0);var i=t.call(this,"smhd",0,0)||this;return i.balance=n,i}jc(n,t),b.defineProperty(n.prototype,"balance",{get:function(){return this.mS},set:function(t){if(t<-1||t>1)throw new p("Provided balance does not fit in the allowed range [-1, 1].");if(!uh(sh(t,8),16))throw new p("Provided balance does not fit in 16 bits (fixed 8.8).");this.mS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(sh(this.balance,8),16),n.writer.writeUInt(0,16)}}(ch);F(),Tt();!function(t){function n(n){var i=t.call(this,"stss",0,0)||this;return i.entries=n,i}jc(n,t),b.defineProperty(n.prototype,"entries",{get:function(){return this.fA},set:function(t){if(!uh(t.length,32))throw new p("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!uh(t,32)})))throw new p("Not all entries can be represented in 32 bits.");this.fA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];n.writer.writeUInt(e,32)}}}(ch);F(),Tt();!function(t){function n(n){var i=t.call(this,"stts",0,0)||this;return i.entries=n,i}jc(n,t),b.defineProperty(n.prototype,"entries",{get:function(){return this.fA},set:function(t){if(!uh(t.length,32))throw new p("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!uh(t.sampleCount,32)||!uh(t.sampleDelta,32)})))throw new p("Not all entries can be represented in 64 bits.");this.fA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];n.writer.writeUInt(e.sampleCount,32),n.writer.writeUInt(e.sampleDelta,32)}}}(ch);F(),Tt();!function(t){function n(n){var i=t.call(this,"trep",0,0)||this;return i.trackId=n,i}jc(n,t),b.defineProperty(n.prototype,"trackId",{get:function(){return this.MA},set:function(t){if(!uh(t,32))throw new p("The provided trackId does not fit in 32 bits.");this.MA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32)}}(zh);F(),Tt();!function(t){function n(){return t.call(this,"udta")||this}jc(n,t)}(Xh);F(),Tt();var vv={red:0,green:0,blue:0};!function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=vv);var r=t.call(this,"vmhd",0,1)||this;return r.graphicsMode=n,r.opColor=i,r}jc(n,t),b.defineProperty(n.prototype,"opColor",{get:function(){return this.gS},set:function(t){if(!uh(t.red,16)||!uh(t.green,16)||!uh(t.blue,16))throw new p("Not all colors could be represented in 16 bits.");this.gS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+6},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.graphicsMode,16),n.writer.writeUInt(this.opColor.red,16),n.writer.writeUInt(this.opColor.green,16),n.writer.writeUInt(this.opColor.blue,16)}}(ch);F(),Tt();var dv=function(t){function n(n,i,r,e,u){void 0===e&&(e={}),void 0===u&&(u=void 0);var s,o,a,c,h,f=this;return(f=t.call(this,n,i)||this).width=r.width,f.height=r.height,f.horizontalResolution=null!==(s=r.horizontal)&&void 0!==s?s:72,f.verticalResolution=null!==(o=r.vertical)&&void 0!==o?o:72,f.compressorName=null!==(a=e.compressorName)&&void 0!==a?a:"",f.frameCount=null!==(c=e.frameCount)&&void 0!==c?c:1,f.depth=null!==(h=e.depth)&&void 0!==h?h:24,f.clap=e.clap,f.pasp=e.pasp,f.extra=u,f}return jc(n,t),b.defineProperty(n.prototype,"width",{get:function(){return this.HA},set:function(t){if(!uh(t,16))throw new p("Provided width does not fit in 16 bits.");this.HA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"height",{get:function(){return this.ZA},set:function(t){if(!uh(t,16))throw new p("Provided height does not fit in 16 bits.");this.ZA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"horizontalResolution",{get:function(){return this.pS},set:function(t){if(!uh(sh(t,16),32))throw new p("Provided horizontalResolution does not fit in 32 bits (fixed 16.16).");this.pS=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"verticalResolution",{get:function(){return this.wS},set:function(t){if(!uh(sh(t,16),32))throw new p("Provided verticalResolution does not fit in 32 bits (fixed 16.16).");this.wS=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"compressorName",{get:function(){return this.yS},set:function(t){if(t.length>31)throw new p("The provided compressorName should at most be 31 characters long.");this.yS=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"frameCount",{get:function(){return this.bS},set:function(t){if(!uh(t,16))throw new p("Provided frameCount does not fit in 16 bits.");this.bS=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"depth",{get:function(){return this.SS},set:function(t){if(!uh(t,16))throw new p("Provided depth does not fit in 16 bits.");this.SS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i,r,e,u,s;return t.prototype.getBoxContentSize.call(this)+2+2+12+2+2+4+4+4+2+32+2+2+(null!==(i=null===(n=this.clap)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)+(null!==(e=null===(r=this.pasp)||void 0===r?void 0:r.getSize())&&void 0!==e?e:0)+(null!==(s=null===(u=this.extra)||void 0===u?void 0:u.length)&&void 0!==s?s:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.width,16),n.writer.writeUInt(this.height,16),n.writer.writeUInt(sh(this.horizontalResolution,16),32),n.writer.writeUInt(sh(this.verticalResolution,16),32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.frameCount,16),n.writer.writeByte(this.compressorName.length),n.writer.writeString(this.compressorName);for(var i=0;i<31-this.compressorName.length;i++)n.writer.writeByte(0);n.writer.writeUInt(this.depth,16),n.writer.writeInt(-1,16),this.clap&&n.concat(this.clap.serialize()),this.pasp&&n.concat(this.pasp.serialize()),this.extra&&oh(n.writer,this.extra)},n}(Gh);F(),Tt(),F(),Tt();!function(t){function n(n){var i=t.call(this,"esds",0,0)||this;return i.esDescriptor=n,i}jc(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(this.esDescriptor instanceof E?this.esDescriptor.length:this.esDescriptor.getSize())},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor instanceof E?n.concat(nh.from(this.esDescriptor)):this.esDescriptor.serialize(n)}}(ch);F(),Tt();!function(t){function n(n,i,r){var e=t.call(this,"mp4a",n,r)||this;return e.esd=i,e}jc(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esd.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.esd.serialize())}}(Hh);F(),Tt();!function(t){function n(n,i,r,e){void 0===e&&(e={});var u=t.call(this,"mp4v",n,i,e)||this;return u.esDescriptor=r,u}jc(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(dv);F(),Tt();!function(t){function n(n,i){var r=t.call(this,"mp4s",n)||this;return r.esDescriptor=i,r}jc(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(Gh);F(),Tt(),F(),Tt();!function(t){function n(n){var i=t.call(this,"avcC")||this;return i.decoderConfig=n,i}jc(n,t),n.prototype.getBoxContentSize=function(){return this.decoderConfig.getSize()},n.prototype.serializeBoxContent=function(t){this.decoderConfig.serialize(t)}}(eh);F(),Tt();!function(){function t(t,n,i,r,e,u){void 0===u&&(u=1),this.lengthSizeMinusOne=i,this.version=u,this.profileIndication=t.indication,this.profileCompatibility=t.compatibility,this.levelIndication=n,this.spsSets=r,this.ppsSets=e}b.defineProperty(t.prototype,"version",{get:function(){return this.TS},set:function(t){if(!uh(t,8))throw new p("Provided version does not fit in 8 bits.");this.TS=t},enumerable:!1,configurable:!0}),b.defineProperty(t.prototype,"profileIndication",{get:function(){return this.kS},set:function(t){if(!uh(t,8))throw new p("Provided profileIndication does not fit in 8 bits.");this.kS=t},enumerable:!1,configurable:!0}),b.defineProperty(t.prototype,"profileCompatibility",{get:function(){return this.ES},set:function(t){if(!uh(t,8))throw new p("Provided profileCompatibility does not fit in 8 bits.");this.ES=t},enumerable:!1,configurable:!0}),b.defineProperty(t.prototype,"levelIndication",{get:function(){return this.xS},set:function(t){if(!uh(t,8))throw new p("Provided levelIndication does not fit in 8 bits.");this.xS=t},enumerable:!1,configurable:!0}),b.defineProperty(t.prototype,"spsSets",{get:function(){return this.RS},set:function(t){if(!uh(t.length,5))throw new p("Provided number of spsSets exceeds the max (32)");this.RS=t},enumerable:!1,configurable:!0}),b.defineProperty(t.prototype,"ppsSets",{get:function(){return this.IS},set:function(t){if(!uh(t.length,8))throw new p("Provided number of ppsSets exceeds the max (256)");this.IS=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return 7+2*this.spsSets.length+this.spsSets.reduce((function(t,n){return t+n.length}),0)+2*this.ppsSets.length+this.ppsSets.reduce((function(t,n){return t+n.length}),0)},t.prototype.serialize=function(t){t.writer.writeByte(this.version),t.writer.writeByte(this.profileIndication),t.writer.writeByte(this.profileCompatibility),t.writer.writeByte(this.levelIndication),t.writer.writeBits([1,1,1,1,1,1]),t.writer.writeUInt(this.lengthSizeMinusOne,2),t.writer.writeBits([1,1,1]),t.writer.writeUInt(this.spsSets.length,5);for(var n=0,i=this.spsSets;n<i.length;n++){var r=i[n];t.writer.writeUInt(r.length,16),t.concat(nh.from(r))}t.writer.writeByte(this.ppsSets.length);for(var e=0,u=this.ppsSets;e<u.length;e++){var s=u[e];t.writer.writeUInt(s.length,16),t.concat(nh.from(s))}}}();F(),Tt();!function(t){function n(n,i,r,e,u){void 0===e&&(e={}),void 0===u&&(u=void 0);var s=t.call(this,"avc1",n,i,e)||this;return s.configurationBox=r,s.bitrateBox=u,s}jc(n,t),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+this.configurationBox.getSize()+(null!==(i=null===(n=this.bitrateBox)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.configurationBox.serialize()),this.bitrateBox&&n.concat(this.bitrateBox.serialize())}}(dv);F(),Tt();!function(t){function n(n,i,r){var e=t.call(this,"btrt")||this;return e.bufferSizeDb=n,e.max=i,e.avg=r,e}jc(n,t),b.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.iA},set:function(t){if(!uh(t,32))throw new p("Provided bufferSizeDb does not fit in 32 bits.");this.iA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"max",{get:function(){return this.C_},set:function(t){if(!uh(t,32))throw new p("Provided max does not fit in 32 bits.");this.C_=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"avg",{get:function(){return this.CS},set:function(t){if(!uh(t,32))throw new p("Provided avg does not fit in 32 bits.");this.CS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 12},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.bufferSizeDb,32),t.writer.writeUInt(this.max,32),t.writer.writeUInt(this.avg,32)}}(eh);F(),Tt(),F(),Tt(),F(),Tt();var lv=function(t){function n(n,i){var r,e,u,s,o=this;if(o=t.call(this,"tenc",n,0)||this,i.perSampleIvSize>0&&(null!==(e=null===(r=i.constantIv)||void 0===r?void 0:r.length)&&void 0!==e?e:0)>0)throw new p("Either perSampleSize should be > 0 or constantIv should be defined. Not both.");return o.kId=i.kId,o.isProtected=null!==(u=i.isProtected)&&void 0!==u?u:1,i.perSampleIvSize>0?o.perSampleIvSize=i.perSampleIvSize:o.constantIv=null!==(s=i.constantIv)&&void 0!==s?s:new E(0),o}return jc(n,t),b.defineProperty(n.prototype,"isProtected",{get:function(){return this.PS},set:function(t){if(!uh(t,8))throw new p("Provided isProtected does not fit in 1 byte.");this.PS=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"perSampleIvSize",{get:function(){return this.DS},set:function(t){if(![8,16].includes(t))throw new p("Provided perSampleIvSize does not match any allowed value [8, 16].");this.DS=t,this.NS=new E(0)},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"kId",{get:function(){return this.MS},set:function(t){if(16!==t.length)throw new p("Provided kId length is not 16.");this.MS=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"constantIv",{get:function(){return this.NS},set:function(t){if(![8,16].includes(t.length))throw new p("Provided constant IV length does not match any allowed value [8, 16].");this.NS=t,this.DS=0},enumerable:!1,configurable:!0}),n.prototype.getTencHeaderSize=function(){return 20+(this.constantIv.length>0?1+this.constantIv.length:0)},n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.getTencHeaderSize()},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeByte(0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeOwnContent(n)},n.prototype.serializeOwnContent=function(t){t.writer.writeByte(0),this.serializeVersionBoxContent(t),t.writer.writeByte(this.isProtected),t.writer.writeByte(this.perSampleIvSize),oh(t.writer,this.kId),0===this.perSampleIvSize&&(t.writer.writeByte(this.constantIv.length),oh(t.writer,this.constantIv))},n}(ch),gv=(function(t){function n(n){return t.call(this,0,n)||this}jc(n,t)}(lv),function(t){function n(n){var i=t.call(this,1,n)||this;return i.cryptByteBlocks=n.cryptByteBlock,i.skipByteBlocks=n.skipByteBlock,i}return jc(n,t),b.defineProperty(n.prototype,"cryptByteBlocks",{get:function(){return this.LS},set:function(t){if(!uh(t,4))throw new p("Provided cryptByteBlocks does not fit in 4 bits.");this.LS=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"skipByteBlocks",{get:function(){return this.FS},set:function(t){if(!uh(t,4))throw new p("Provided skipByteBlocks does not fit in 4 bits.");this.FS=t},enumerable:!1,configurable:!0}),n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.cryptByteBlocks,4),t.writer.writeUInt(this.skipByteBlocks,4)},n}(lv));!function(t){function n(n){var i=t.call(this)||this;return i.tencBox=new gv(n),i}jc(n,t),n.prototype.serializeBoxContent=function(t){this.tencBox.serializeOwnContent(t)},n.prototype.getBoxContentSize=function(){return this.tencBox.getTencHeaderSize()}}(_f);function wv(t){return void 0!==t.iv}function mv(t){return void 0!==t.subsamples}F(),Tt();!function(t){function n(n){var i=t.call(this,"senc",0,{useSubsampleEncryption:!1})||this;return i.samples=n,i}jc(n,t),b.defineProperty(n.prototype,"samples",{get:function(){return this.JA},set:function(t){var n;if(!uh(t.length,32))throw new p("The number of samples provided does not fit in 32 bits.");for(var i=0,r=t;i<r.length;i++){var e=r[i];if(wv(e)&&![8,16].includes(e.iv.length))throw new p("IV of one of the provided samples did not satisfy the required length constraints. [8, 16]");if(void 0===n&&(n=mv(e)),!0===n&&!mv(e)||!1===n&&mv(e))throw new p("Mix of samples with and without subsamples detected.");if(mv(e)){if(!uh(e.subsamples.length,16))throw new p("Subsample length of one of the provided samples does not fit in 16 bits.");for(var u=0,s=e.subsamples;u<s.length;u++){var o=s[u];if(!uh(o.clearData,16))throw new p("Subsample clearData of one of the provided samples does not fit in 16 bits.");if(!uh(o.protectedData,23))throw new p("Subsample protectedData of one of the provided samples does not fit in 23 bits.")}}}this.flags.useSubsampleEncryption=null!=n&&n,this.JA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){for(var n=0,i=0,r=this.samples;i<r.length;i++){var e=r[i];wv(e)&&(n+=e.iv.length),mv(e)&&(n+=2+6*e.subsamples.length)}return t.prototype.getBoxContentSize.call(this)+4+n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32);for(var i=0,r=this.samples;i<r.length;i++){var e=r[i];if(wv(e)&&oh(n.writer,e.iv),mv(e)){n.writer.writeUInt(e.subsamples.length,16);for(var u=0,s=e.subsamples;u<s.length;u++){var o=s[u];n.writer.writeUInt(o.clearData,16),n.writer.writeUInt(o.protectedData,32)}}}},n.prototype.serializeFlags=function(t){t.writer.writeUInt(this.flags.useSubsampleEncryption?2:0,24)}}(ch);F(),Tt(),F(),Tt();!function(t){function n(n,i,r,e,u){var s=t.call(this,"emsg",0,0)||this;return s.schemeIdUri=n,s.value=i,s.data=u,s.id=r,s.timescale=e.timescale,s.presentationTimeDelta=e.presentationTimeDelta,s.eventDuration=e.eventDuration,s}jc(n,t),b.defineProperty(n.prototype,"timescale",{get:function(){return this.RA},set:function(t){if(!uh(t,32))throw new p("The provided timescale does not fit in 32 bits.");this.RA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"presentationTimeDelta",{get:function(){return this.VS},set:function(t){if(!uh(t,32))throw new p("The provided presentationTimeDelta does not fit in 32 bits.");this.VS=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"eventDuration",{get:function(){return this.WS},set:function(t){if(!uh(t,32))throw new p("The provided eventDuration does not fit in 32 bits.");this.WS=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"id",{get:function(){return this.US},set:function(t){if(!uh(t,32))throw new p("The provided id does not fit in 32 bits.");this.US=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.schemeIdUri.length+1+this.value.length+1+16+this.data.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeIdUri),n.writer.writeByte(0),n.writer.writeString(this.value),n.writer.writeByte(0),n.writer.writeUInt(this.timescale,32),n.writer.writeUInt(this.presentationTimeDelta,32),n.writer.writeUInt(this.eventDuration,32),n.writer.writeUInt(this.id,32),n.concat(nh.from(this.data))}}(ch);F(),Tt(),F(),Tt(),F(),Tt();var yv=function(){function t(){this.boxes=[]}return t.prototype.serialize=function(){for(var t=new rh,n=0,i=this.boxes;n<i.length;n++){var r=i[n];t.concat(r.serialize())}return t.toRangedBuffer()},t}();function pv(t,n){return function(i){var r=function(t,n){for(var i=t.data,r=t.cursor;r.offset<i.byteLength;){var e=Ph(i,r);if(!e.complete)return;if(Ch(e.box,n))return e.box}}(new Rh(Sh(i),new Ih),t);if(!r)throw new p("".concat(t," box not found"));return n(r)}}var _v=pv("moov",Gf),bv=pv("sidx",(function(t){var n,i,r=t.data,e=xh(r.nextUint32()),u=e.version,s=e.flags,o=r.nextUint32(),a=r.nextUint32();0===u?(n=r.nextUint32(),i=r.nextUint32()):(n=r.nextUint64(),i=r.nextUint64()),r.skip(2);for(var c=r.nextUint16(),h=[],f=0;f<c;f++){var v=new $c(nh.from(r.nextUint8Array(12))),d=v.readBit(),l=v.readUInt(31),g=v.readUInt(32),w=Boolean(v.readBit()),m=v.readUInt(3),y=v.readUInt(28);h.push({referenceType:d,referencedSize:l,subsegmentDuration:g,startsWithSap:w,sapType:m,sapDeltaTime:y})}return 0===u?new av(o,a,n,i,h,s.raw):new cv(o,a,n,i,h,s.raw)})),kv=pv("moof",rv),Av=pv("pssh",Tf);function Tv(t){return function(t){for(var n=new yv,i=0,r=Dh(t);i<r.length;i++){var e=r[i];Ch(e,"ftyp")?n.boxes.push(nf(e)):Ch(e,"styp")?n.boxes.push(fv(e)):Ch(e,"moov")?n.boxes.push(Gf(e)):Ch(e,"moof")?n.boxes.push(rv(e)):Ch(e,"mdat")?n.boxes.push(vf(e)):n.boxes.push(Bh(e))}return n}(new Rh(Sh(t),new Ih))}var Sv=function(t){function n(n,i){var r;(r=t.call(this)||this).ZS=n,r.$S=i,r.qS=!1,r.tT=function(){r.QS()},r.eT=function(t){r.yo(new ca(r,t.messageType,Gc(r.$S,t.message)))},r.iT=function(){r.qS=!0,r.XS.Rb>0&&(r.XS.Nb(),r.yo(new aa(r.XS))),r.ZS.removeEventListener("keystatuseschange",r.tT),r.ZS.removeEventListener("message",r.eT)},r.ZS.addEventListener("keystatuseschange",r.tT),r.ZS.addEventListener("message",r.eT),r.XS=new Wc;var e=[];return r.ZS.closed&&e.push(et.resolve(r.ZS.closed)),r.YS=new Zc,e.push(r.YS.Bb),r.Bd=et.race(e).then(r.iT,r.iT),r.QS(),r}It(n,t);var i=n.prototype;return i.Ws=function(){if(this.qS)return this.Bd;var t=[];return t.push(et.resolve(this.ZS.close())),t.push(Jo(1e3)),this.YS.zw(et.race(t).catch(Ev)),this.qS=!0,this.Bd},i.KS=function(t,n,i){if(Gn.$v){var r=Av(kc(n));if(1===r.version)n=new kf(r.systemId,r.data).serialize().join()}return et.resolve(this.ZS.generateRequest(t,n)).catch(Ev)},i.$n=function(t){return et.resolve(this.ZS.load(t)).catch(Ev)},i.jS=function(){return et.resolve(this.ZS.remove()).catch(Ev)},i.Yn=function(t){return et.resolve(this.ZS.update(t)).catch(Ev)},i.QS=function(){var t=this;this.XS.Nb(),this.ZS.keyStatuses.forEach((function(n,i){t.JS(i,n)})),this.yo(new aa(this.XS))},i.JS=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var r=kc(t);if(this.$S===gs&&16===r.byteLength&&(Gn.wm||Gn.vg)){var e=pc(r),u=e.getUint32(0,!0),s=e.getUint16(4,!0),o=e.getUint16(6,!0);e.setUint32(0,u,!1),e.setUint16(4,s,!1),e.setUint16(6,o,!1)}this.$S===gs&&"status-pending"===n&&(n="usable"),this.XS.Pb(r,n)},Nt(n,[{key:"GS",get:function(){return this.Bd}},{key:"HS",get:function(){return this.ZS.expiration}},{key:"fb",get:function(){return this.XS}},{key:"zS",get:function(){return this.ZS.sessionId}}]),n}(na);function Ev(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|A(i[1],16))}throw new zc(t.message,void 0,n,t)}var Iv=function(){function t(t,n,i){this.nT=t,this.rT=n,this.md=i}var n=t.prototype;return n.sT=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){return[2,new Sv(n.nT.createSession(t),n.rT)]}))}))()},n.oT=function(t){return et.resolve(this.nT.setServerCertificate(t))},n.bn=function(t){return et.resolve(t.setMediaKeys(this.nT))},n.hT=function(t){return et.resolve(t.setMediaKeys(null))},n.tr=function(){return et.resolve()},t}(),Rv=function(){function t(t,n,i){this.aT=t,this.$S=n,this.cT=i}var n=t.prototype;return n.uT=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return[4,t.aT.createMediaKeys()];case 1:return n=i.sent(),[2,new Iv(n,t.$S,t.cT)]}}))}))()},n.lT=function(){return this.cT},Nt(t,[{key:"rT",get:function(){return this.aT.keySystem}}]),t}();F(),Tt(),F(),Tt(),nn();var Cv={VIDEO_H264:"video/avc",VIDEO_H265:"video/hevc",VIDEO_MP4:"video/mp4",VIDEO_MPEG:"video/mpeg",VIDEO_MPEG2:"video/mpeg2",VIDEO_WEBM:"video/webm",VIDEO_UNKNOWN:"video/x-unknown",AUDIO_AAC:"audio/mp4a-latm",AUDIO_MP4:"audio/mp4",AUDIO_WEBM:"audio/webm",AUDIO_UNKOWN:"audio/x-unknown",IMAGE_JPEG:"image/jpeg",APPLICATION_TTML_XML:"application/ttml+xml",APPLICATION_MP4:"application/mp4",TEXT_VTT:"text/vtt"};function Nv(t){return Os(t,Cv.APPLICATION_MP4)||Os(t,Cv.VIDEO_MP4)||Os(t,Cv.AUDIO_MP4)}function Dv(t){return Os(t,Cv.VIDEO_WEBM)||Os(t,Cv.AUDIO_WEBM)}var Pv=function(){function t(t,n){this.pw=t,this.fT=n}return t.prototype.dT=function(t){for(var n=0,i=this.fT;n<i.length;n++){var r=tn(i[n],2),e=r[0],u=r[1];if(e.toLowerCase()===t.toLowerCase())return u}},t}();function xv(t){var n=t.trim(),i=n.indexOf(";");if(i<0)return new Pv(n,[]);for(var r=n.substr(0,i).trim(),e=n.substr(i+1).trim(),u=[],s=0,o=!1,a=0;a<e.length;a++){var c=e[a];if(o||";"!==c)'"'===c&&(o=!o);else{var h=Lv(e.substr(s,a));h&&u.push(h),s=a+1}}if(s!==e.length){var f=Lv(e.substr(s));f&&u.push(f)}return new Pv(r,u)}function Lv(t){var n=t.indexOf("=");if(!(n<0)){var i=t.substr(0,n).trim(),r=t.substr(n+1).trim();return'"'===r[0]&&(r=r.substring(1,r.length-1)),[i,r]}}function Mv(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function Ov(t){var n=t,i=n.match(/^avc1\.(\d+)\.(\d+)$/);if(i){var r=Number(i[1]),e=Number(i[2]);n="avc1."+Ws((r<<16|e).toString(16),6,"0")}return n}function Bv(t,n,i,r){var e=!1;if(!(r.persistentState&&"optional"!==r.persistentState||r.distinctiveIdentifier&&"optional"!==r.distinctiveIdentifier)){var u={audioCapabilities:[],videoCapabilities:[],persistentState:r.persistentState||"optional",distinctiveIdentifier:r.distinctiveIdentifier||"optional",initDataTypes:r.initDataTypes,sessionTypes:["temporary"],label:r.label,_T:r._T},s=!1;if(r.audioCapabilities){var o=r.audioCapabilities.filter((function(t){return Boolean(t.contentType)}));o.length&&(u.audioCapabilities=o.filter((function(r){return Vv(t,n,i,r)})),s=!0,u.audioCapabilities.length&&(e=!0))}if(r.videoCapabilities){var a=r.videoCapabilities.filter((function(t){return Boolean(t.contentType)}));a.length&&(u.videoCapabilities=a.filter((function(r){return Vv(t,n,i,r)})),s=!0,u.videoCapabilities.length&&(e=!0))}return s||(e=t(i,"video/mp4")),e?u:void 0}}function Vv(t,n,i,r){return!!r.contentType&&(!(r.encryptionScheme&&!mo(n,r.encryptionScheme))&&(!r.robustness&&t(i,Mv(r.contentType))))}function Fv(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var r=i[n];if(r.contentType)return r.contentType}if(t.audioCapabilities)for(var e=0,u=t.audioCapabilities;e<u.length;e++){var s=u[e];if(s.contentType)return s.contentType}}function Uv(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r.encryptionScheme&&n.push({contentType:r.contentType,robustness:r.robustness})}return t.concat(n)}function Wv(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(Zv))||!(!t.videoCapabilities||!t.videoCapabilities.some(Zv))}function Zv(t){return!t.robustness}function Xv(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];e.robustness?i.push(e):i.push($u({},e,{robustness:n}))}return i}var Gv=function(){function t(){}return t.prototype.xw=function(t,n){return Zt((function(){var i,r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:for(n=n.filter((function(t){return!t._T})),i=0;i<n.length;i++)(r=n[i]).audioCapabilities&&(r.audioCapabilities=Uv(r.audioCapabilities)),r.videoCapabilities&&(r.videoCapabilities=Uv(r.videoCapabilities));if(t!==ys||!n.some(Wv))return[3,4];e=n.map((function(t){return function(t,n){return $u({},t,{videoCapabilities:t.videoCapabilities?Xv(t.videoCapabilities,n):void 0,audioCapabilities:t.audioCapabilities?Xv(t.audioCapabilities,n):void 0})}(t,"SW_SECURE_CRYPTO")})),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,l.requestMediaKeySystemAccess(t,e)];case 2:return u=c.sent(),s=u.getConfiguration(),[2,new Rv(u,t,s)];case 3:return c.sent(),[3,4];case 4:return[4,l.requestMediaKeySystemAccess(t,n)];case 5:return o=c.sent(),a=o.getConfiguration(),[2,new Rv(o,t,a)]}}))}))()},t.vT=function(){return Ks()},t}();F(),Tt(),F(),Tt(),Dt(),F(),Tt(),Gt(),qt(),F(),Tt(),Gt(),Dt(),Rt(),qt();var Hv=function(t){function n(n,i){var r;return(r=t.call(this)||this).AT=n,r.ST=i,r.qS=!1,r.xT=void 0,r.yT=void 0,r.mT=void 0,r.iT=function(){r.qS=!0,r.gT.Mb(void 0),r.mT&&(r.mT.removeEventListener("mskeyclose",r.iT),r.mT.removeEventListener("mskeymessage",r.TT),r.mT.removeEventListener("mskeyerror",r.Ss),r.mT.removeEventListener("mskeyadded",r.kT))},r.TT=function(t){r.yT&&(r.yT.Mb(void 0),r.yT=void 0),r.yo(new ca(r,"license-request",Tc(t.message).buffer,t.destinationURL||void 0))},r.Ss=function(){var t=r.mT&&r.mT.error;if(t){var n=new zc("Unknown CDM error",t.code,t.systemCode);if(r.yT)r.yT.Lb(n),r.yT=void 0;else if(r.xT)r.xT.Lb(n),r.xT=void 0;else switch(n.Ob){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:r.ET("output-not-allowed");break;default:r.ET("internal-error")}}},r.kT=function(){r.yT&&(r.ET("usable"),r.yT.Mb(void 0),r.yT=void 0),r.xT&&(r.ET("usable"),r.xT.Mb(void 0),r.xT=void 0)},r.gT=new Zc,r.pT=new Wc,r}It(n,t);var i=n.prototype;return i.KS=function(t,n,i){var r=this;return Zt((function(){return Ht(this,(function(t){switch(t.label){case 0:return r.wT(),r.yT=new Zc,r.sT(kc(n),i),[4,r.yT.Bb];case 1:return t.sent(),[2]}}))}))()},i.sT=function(t,n){if(!t)throw new _("Expected initData to be defined but was "+t+".");var i,r=n&&n.playready&&n.playready.bT;return(i=n?this.AT.createSession(this.ST,t,r):this.AT.createSession(this.ST,t)).addEventListener("mskeyclose",this.iT),i.addEventListener("mskeymessage",this.TT),i.addEventListener("mskeyerror",this.Ss),i.addEventListener("mskeyadded",this.kT),this.mT=i,this.ET("status-pending"),i},i.$n=function(t){var n=this;return Zt((function(){return Ht(this,(function(t){return n.wT(),[2,!0]}))}))()},i.Yn=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:if(n.xT=new Zc,n.wT(),!n.mT)return[2,et.resolve()];if(0===(i=kc(t)).byteLength)throw new _("Cannot call update with an empty response.");return n.mT.update(i),[4,n.xT.Bb];case 1:return r.sent(),[2]}}))}))()},i.Ws=function(){return!this.qS&&this.mT&&(this.qS=!0,this.mT.close()),this.gT.Bb},i.jS=function(){var t=this;return Zt((function(){return Ht(this,(function(n){return t.wT(),[2]}))}))()},i.wT=function(){if(this.qS)throw new _("Already closing or closed.")},i.ET=function(t){this.pT.Nb(),this.pT.Pb(Uc,t),this.yo(new aa(this.pT))},Nt(n,[{key:"zS",get:function(){return this.mT&&this.mT.sessionId||""}},{key:"HS",get:function(){return NaN}},{key:"GS",get:function(){return this.gT.Bb}},{key:"fb",get:function(){return this.pT}}]),n}(na),zv=function(){function t(t,n,i){this.AT=t,this.rT=n,this.md=i;var r=Fv(i)||"video/mp4";this.ST=Mv(r)}var n=t.prototype;return n.sT=function(t){var n=this;return Zt((function(){return Ht(this,(function(t){return[2,new Hv(n.AT,n.ST)]}))}))()},n.oT=function(t){return et.resolve(!1)},n.bn=function(t){var n=this,i=function(){t.msSetMediaKeys(n.AT),t.removeEventListener("loadedmetadata",i)};return t.readyState>=1?t.msSetMediaKeys(this.AT):t.addEventListener("loadedmetadata",i),et.resolve()},n.hT=function(t){return et.resolve()},n.tr=function(){return et.resolve()},t}(),Yv=function(){function t(t,n){this.$S=t,this.IT=n}var n=t.prototype;return n.lT=function(){return this.IT},n.uT=function(){var t=new f.MSMediaKeys(this.$S);return et.resolve(new zv(t,this.$S,this.IT))},Nt(t,[{key:"rT",get:function(){return this.$S}}]),t}(),jv=function(){function t(){}return t.prototype.xw=function(t,n){try{return et.resolve(function(t,n){if(!Kv())throw new _("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=Bv(qv,sa,t,r);if(e)return new Yv(t,e)}throw new _("Unsupported key system configuration for "+t)}(t,n))}catch(t){return et.reject(t)}},t.vT=function(){return Kv()},t}();function Kv(){return void 0!==f.MSMediaKeys&&"function"==typeof f.MSMediaKeys.isTypeSupported}function qv(t,n){return f.MSMediaKeys.isTypeSupported(t,n)}F(),Tt(),F(),Tt(),Dt(),F(),Tt(),Gt(),qt(),F(),Tt(),Gt(),Dt(),Rt(),qt();var Jv=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).NT=n,e.ST=i,e.DT=r,e.gT=new Zc,e.LT=void 0,e.pT=new Wc,e.CT=void 0,e.MT=new Zc,e.Ss=function(){var t=e.CT&&e.CT.error;if(t){var n=new zc("Unknown CDM error",t.code,t.systemCode);e.LT?(e.LT.Lb(n),e.LT=void 0):n.Ob===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?e.ET("output-not-allowed"):e.ET("internal-error"),e.yo(new ha)}},e.TT=function(t){e.yo(new ca(e,"license-request",Tc(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},e.kT=function(){e.LT&&(e.LT.Mb(void 0),e.LT=void 0),e.ET("usable")},e}It(n,t);var i=n.prototype;return i.KS=function(t,n,i){var r=i&&i.fairplay&&i.fairplay.PT;if(!r)throw new _("Expected FairPlay contentId to be defined but was "+r+".");var e=function(t,n,i){var r=lc(t),e=2*r.length,u=2*n.length,s=new ArrayBuffer(4+e+4+u+4+i.byteLength),o=new DataView(s),a=new Ec;return ja(o,a,e,!0),oc(o,a,r,!0),ja(o,a,u,!0),oc(o,a,n,!0),ja(o,a,i.byteLength,!0),Wa(o,a,i),new E(s)}(kc(n),r,this.DT);return this.CT=this.NT.createSession(this.ST,e),this.CT.addEventListener("webkitkeymessage",this.TT,!1),this.CT.addEventListener("webkitkeyadded",this.kT,!1),this.CT.addEventListener("webkitkeyerror",this.Ss,!1),this.ET("status-pending"),this.MT.Mb(this.CT),this.MT=new Zc,et.resolve()},i.$n=function(t){return et.resolve(!0)},i.Yn=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:if(0===(i=kc(t)).byteLength)throw new _("Cannot call update with an empty response.");return n.LT=new Zc,(r=n.CT)?[3,2]:[4,n.MT.Bb];case 1:r=e.sent(),e.label=2;case 2:return r.update(i),[4,n.LT.Bb];case 3:return e.sent(),[2]}}))}))()},i.Ws=function(){var t,n=this.CT;return n&&(n.removeEventListener("webkitkeymessage",this.TT,!1),n.removeEventListener("webkitkeyadded",this.kT,!1),n.removeEventListener("webkitkeyerror",this.Ss,!1),n.close()),this.MT.Xw(),null==(t=this.LT)||t.Xw(),this.gT.Mb(void 0),this.gT.Bb},i.jS=function(){return et.resolve(void 0)},i.ET=function(t){this.pT.Nb(),this.pT.Pb(Uc,t),this.yo(new aa(this.pT))},Nt(n,[{key:"zS",get:function(){return this.CT?this.CT.sessionId:""}},{key:"HS",get:function(){return NaN}},{key:"GS",get:function(){return this.gT.Bb}},{key:"fb",get:function(){return this.pT}}]),n}(na);F(),Tt(),Dt(),Rt(),F(),Tt();var Qv=function(t){return t[t.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",t[t.LICENSE_ERROR=2e3]="LICENSE_ERROR",t[t.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",t[t.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",t[t.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",t[t.LICENSE_INVALID_FEATURE=2004]="LICENSE_INVALID_FEATURE",t[t.SOURCE_INVALID=3e3]="SOURCE_INVALID",t[t.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",t[t.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",t[t.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",t[t.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",t[t.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",t[t.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",t[t.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",t[t.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",t[t.MEDIA_ABORTED=5004]="MEDIA_ABORTED",t[t.NETWORK_ERROR=6e3]="NETWORK_ERROR",t[t.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",t[t.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",t[t.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",t[t.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",t[t.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",t[t.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",t[t.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",t[t.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",t[t.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",t[t.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",t[t.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",t[t.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",t[t.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",t[t.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",t[t.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",t[t.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",t[t.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",t[t.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",t[t.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",t[t.AD_ERROR=1e4]="AD_ERROR",t[t.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",t[t.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",t[t.PICTURE_IN_PICTURE_ERROR=11001]="PICTURE_IN_PICTURE_ERROR",t[t.CACHE_SOURCE_ERROR=12e3]="CACHE_SOURCE_ERROR",t[t.CACHE_CONTENT_PROTECTION_ERROR=12001]="CACHE_CONTENT_PROTECTION_ERROR",t[t.THEO_LIVE_UNKNOWN_ERROR=13e3]="THEO_LIVE_UNKNOWN_ERROR",t[t.THEO_LIVE_CHANNEL_NOT_FOUND=13001]="THEO_LIVE_CHANNEL_NOT_FOUND",t[t.THEO_LIVE_END_OF_DEMO=13002]="THEO_LIVE_END_OF_DEMO",t[t.THEO_LIVE_ANALYTICS_ERROR=13003]="THEO_LIVE_ANALYTICS_ERROR",t}({}),$v=function(t){return t[t.CONFIGURATION=1]="CONFIGURATION",t[t.LICENSE=2]="LICENSE",t[t.SOURCE=3]="SOURCE",t[t.MANIFEST=4]="MANIFEST",t[t.MEDIA=5]="MEDIA",t[t.NETWORK=6]="NETWORK",t[t.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",t[t.SUBTITLE=8]="SUBTITLE",t[t.VR=9]="VR",t[t.AD=10]="AD",t[t.FULLSCREEN=11]="FULLSCREEN",t[t.CACHE=12]="CACHE",t[t.THEOLIVE=13]="THEOLIVE",t}({});!function(t){t.fromCode=function(n){var i=k.floor(n/1e3);if(i in t)return i;throw new _("Invalid error code: "+n)}}($v||($v={}));var td=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).code=n,e}return It(n,t),Nt(n,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return $v.fromCode(this.code)}}]),n}(xo);function nd(t,n){return t instanceof td?t:t instanceof p?new td(n,t.message,t):new td(n,String(t))}var id=function(){function t(t,n,i){this.NT=t,this.rT=n,this.md=i,this.DT=void 0;var r=Fv(i)||"video/mp4";this.ST=Mv(r)}var n=t.prototype;return n.getInternalMediaKeys=function(){return this.NT},n.sT=function(t){var n=this;return Zt((function(){return Ht(this,(function(t){if(!n.DT)throw new td(Qv.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");return[2,new Jv(n.NT,n.ST,n.DT)]}))}))()},n.oT=function(t){return this.DT=kc(t),et.resolve(!0)},n.bn=function(t){return t.webkitSetMediaKeys(this.NT),et.resolve()},n.hT=function(t){return t.webkitSetMediaKeys(null),et.resolve()},n.tr=function(){return et.resolve()},t}(),rd=function(){function t(t,n){this.$S=t,this.IT=n}var n=t.prototype;return n.lT=function(){return this.IT},n.uT=function(){var t=new f.WebKitMediaKeys(this.$S);return et.resolve(new id(t,this.$S,this.IT))},Nt(t,[{key:"rT",get:function(){return this.$S}}]),t}(),ed=function(){function t(){}return t.prototype.xw=function(t,n){try{return et.resolve(function(t,n){if(t!==As)throw new _(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!ud())throw new _("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=Bv(sd,oa,t,r);if(e)return new rd(t,e)}throw new _("Unsupported key system configuration for "+t)}(t,n))}catch(t){return et.reject(t)}},t.vT=function(){return ud()},t}();function ud(){return void 0!==f.WebKitMediaKeys&&"function"==typeof f.WebKitMediaKeys.isTypeSupported}function sd(t,n){return f.WebKitMediaKeys.isTypeSupported(t,n)}F(),Tt(),Gt(),qt();var od=function(){function t(t){this.BT=t}return t.prototype.xw=function(t,n){var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:r=0,e=i.BT,s.label=1;case 1:if(!(r<e.length))return[3,6];u=e[r],s.label=2;case 2:return s.trys.push([2,4,,5]),[4,u.xw(t,n)];case 3:return[2,s.sent()];case 4:return s.sent(),[3,5];case 5:return r++,[3,1];case 6:throw new _("Unsupported key system configuration for "+t)}}))}))()},t}();F(),Tt(),F(),Tt(),F(),Tt(),Gt(),qt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt();var ad=function(){function t(t){var n=this;this.FT=[],this.VT=void 0,this.OT=new Ho,this.WT=function(){return 0===n.FT.length?n.GT?cd(n.GT,n.OT.Bw).then(n.HT,n.HT):n.HT():n.FT.shift()().then(n.WT)},this.HT=function(){if(0!==n.FT.length)return n.WT();n.VT=void 0},this.GT=t}var n=t.prototype;return n.Wo=function(t,n){var i=this;return new et((function(r){var e=Ho.Yw([i.OT.Bw,n]),u=function(){e.Ww()};i.FT.push((function(){var n=cd(t,e.Bw);return r(n),n.then(u,u)})),i.VT||(i.VT=i.WT())}))},n.Xw=function(){return this.UT(!0)},n.gn=function(){return this.GT=void 0,this.UT(!1)},n.UT=function(t){var n=this.VT;return this.OT.Xw(),t&&(this.OT=new Ho),et.resolve(n)},t}();function cd(t,n){return new et((function(i){return i(t(n))}))}var hd=new ad,fd=function(t){function n(n){var i;return(i=t.call(this)||this).$S=n,i.yT=void 0,i.LT=void 0,i.Yb=!1,i.JT=void 0,i.YT=void 0,i.gT=new Zc,i.QT="",i.KT=new Zc,i.jT=new Wc,i}It(n,t);var i=n.prototype;return i.ZT=function(){this.LT&&(this.ET("usable"),this.LT.Mb(void 0),this.LT=void 0)},i.XT=function(t){var n=new zc("Unknown CDM error",t.errorCode,t.systemCode);this.LT?(this.LT.Lb(n),this.LT=void 0):this.yT?(this.yT.Lb(n),this.yT=void 0):n.Ob===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.ET("output-restricted"):1===n.Fb?this.ET("expired"):this.ET("internal-error")},i.zT=function(t){0!==t.message.byteLength?(this.yT&&(this.yT.Mb(void 0),this.yT=void 0),this.yo(new ca(this,"license-request",Gc(this.$S,Tc(t.message).buffer),t.defaultURL||void 0))):this.yT&&(this.yT.Lb("Empty key message"),this.yT=void 0)},i.qT=function(t){this.YT||(this.YT=t,this.KT.Mb(t))},i.Ws=function(){var t=this;return Zt((function(){return Ht(this,(function(n){return t.throwIfClosed(),t.LT&&(t.LT.Lb(void 0),t.LT=void 0),t.Yb=!0,t.gT.Mb(void 0),[2]}))}))()},i.KS=function(t,n){var i=this;return Zt((function(){var t;return Ht(this,(function(r){switch(r.label){case 0:return i.throwIfClosed(),i.yT=new Zc,i.JT=kc(n),(t=i.YT)?[3,2]:[4,i.KT.Bb];case 1:t=r.sent(),r.label=2;case 2:return t.webkitGenerateKeyRequest(i.$S,i.JT),[4,i.yT.Bb];case 3:return r.sent(),[2]}}))}))()},i.$n=function(t){var n=this;return Zt((function(){return Ht(this,(function(t){return n.throwIfClosed(),[2,!1]}))}))()},i.jS=function(){var t=this;return Zt((function(){return Ht(this,(function(n){return t.throwIfClosed(),[2]}))}))()},i.Yn=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.throwIfClosed(),n.LT=new Zc,Gn.Cm||Gn.Em?[2,hd.Wo(Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.doUpdate(t)];case 1:return i.sent(),[2]}}))})))]:[4,n.doUpdate(t)];case 1:return i.sent(),[2]}}))}))()},i.doUpdate=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return void 0===n.LT?[2]:(i=n.YT)?[3,2]:[4,n.KT.Bb];case 1:i=r.sent(),r.label=2;case 2:return i.webkitAddKey(n.$S,kc(t),n.JT,n.zS),[4,n.LT.Bb];case 3:return r.sent(),Gn.Em?[4,Jo(500)]:[3,5];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))()},i.throwIfClosed=function(){if(this.Yb)throw new _("Already closing or closed.")},i.ET=function(t){this.jT.Nb(),this.jT.Pb(Uc,t),this.yo(new aa(this.jT))},i.$T=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:return(i=t.YT)?[3,2]:[4,t.KT.Bb];case 1:i=r.sent(),r.label=2;case 2:if(!(n=i).webkitCancelKeyRequest)return[3,7];r.label=3;case 3:return r.trys.push([3,4,5,7]),n.webkitCancelKeyRequest(t.$S,t.QT),[3,7];case 4:return r.sent(),[3,7];case 5:return[4,Jo(500)];case 6:return r.sent(),[7];case 7:return[2]}}))}))()},Nt(n,[{key:"fb",get:function(){return this.jT}},{key:"zS",get:function(){return this.QT},set:function(t){this.QT=t}},{key:"GS",get:function(){return this.gT.Bb}},{key:"HS",get:function(){return NaN}}]),n}(na),vd=function(){function t(t,n){var i=this;this.rT=t,this.md=n,this.YT=void 0,this.rk=ns(),this.hk=[],this.kT=function(t){var n=i.ck(t.sessionId);n&&n.ZT()},this.ek=function(t){var n=i.ck(t.sessionId);n&&n.XT(t)},this.nk=function(t){var n=i.ck(t.sessionId);n&&n.zT(t)}}var n=t.prototype;return n.bn=function(t){return this.YT=t,this.YT.addEventListener("webkitkeyadded",this.kT),this.YT.addEventListener("webkitkeyerror",this.ek),this.YT.addEventListener("webkitkeymessage",this.nk),this.rk.forEach((function(n,i){return n.qT(t)})),this.hk.forEach((function(n){return n.qT(t)})),et.resolve()},n.hT=function(t){return t.removeEventListener("webkitkeyadded",this.kT),t.removeEventListener("webkitkeyerror",this.ek),t.removeEventListener("webkitkeymessage",this.nk),this.YT=void 0,et.resolve()},n.tr=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:n=t.rk.entries(),i=n.next(),r.label=1;case 1:return i.done?[3,3]:[4,i.value[1].$T()];case 2:return r.sent(),i=n.next(),[3,1];case 3:return t.rk.clear(),[2]}}))}))()},n.sT=function(t,n,i){var r=this;return Zt((function(){var t;return Ht(this,(function(n){return t=new fd(r.rT),r.YT&&t.qT(r.YT),r.hk.push(t),[2,t]}))}))()},n.oT=function(t){return et.resolve(!1)},n.ck=function(t){if(t){var n=this.rk.get(t);return n||((n=this.hk.shift())?(n.zS=t,this.rk.set(t,n),n):void 0)}},t}(),dd=function(){function t(t,n){this.rT=t,this.lk=n}var n=t.prototype;return n.uT=function(){return et.resolve(new vd(this.rT,this.lk))},n.lT=function(){return this.lk},t}(),ld=function(){function t(){}return t.prototype.xw=function(t,n){try{return et.resolve(function(t,n){if(!ld.vT())throw new _("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=Bv(gd,sa,t,r);if(e)return new dd(t,e)}throw new _("Unsupported key system configuration for "+t)}(t,n))}catch(t){return et.reject(t)}},t.vT=function(){return qs()},t}();function gd(t,n){var i=Ii();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}F(),Tt();var wd,md=function(){function t(){}return t.prototype.xw=function(t,n){return t===ys||t===gs?et.resolve(void 0):et.reject(new p("DRM configuration not supported"))},t}();function yd(){return wd||(wd=function(){var t=[];ed.vT()&&t.push(new ed);Gv.vT()&&t.push(new Gv);jv.vT()&&t.push(new jv);ld.vT()&&t.push(new ld);Gn.Dm&&t.push(new md);return new od(t)}()),wd}F(),Tt(),Rt(),F(),Tt();var pd=function(){function t(){this.dk=ns()}var n=t.prototype;return n.Nb=function(t){this.dk.delete(t)},n.fk=function(){this.dk.clear()},n.Cb=function(t){return this.dk.get(t)},n.Pb=function(t,n){this.dk.set(t,n)},t}(),_d=function(){function t(){}return t._k=function(){return t.Lg||(t.Lg=bd.vT()?new bd:new pd),t.Lg},t.Nb=function(n){t._k().Nb(n)},t.fk=function(){t._k().fk()},t.Cb=function(n){return t._k().Cb(n)},t.Pb=function(n,i){t._k().Pb(n,i)},t}();_d.Lg=void 0;var bd=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.Nb=function(t){self.sessionStorage.removeItem(t)},i.fk=function(){self.sessionStorage.clear()},i.Cb=function(t){var n;return null!=(n=self.sessionStorage.getItem(t))?n:void 0},i.Pb=function(t,n){self.sessionStorage.setItem(t,n)},n.vT=function(){var t="foobar";try{return self.sessionStorage.setItem(t,t),self.sessionStorage.removeItem(t),!0}catch(t){return!1}},n}(_d);F(),Tt(),F(),Tt();var kd=function(){var t=self.Blob;if(t)try{new t;return function(t){return function(n,i){return new t(n,i)}}(t)}catch(t){}var n=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder;if(n)return function(t){return function(n,i){var r=new t;if(n)for(var e=0;e<n.length;e++){var u=n[e];r.append(u)}return r.getBlob(i&&i.type||"")}}(n)}();function Ad(t,n,i){var r=kd([n],{type:"application/octet-stream"}),e=URL.createObjectURL(r),u=function(t,n){var i=t,r=i.indexOf("?");if(r>=0&&(i=i.substr(0,r)),i=i.substr(i.lastIndexOf("/")+1),n){var e=i.indexOf(".");e<0&&(e=i.length),i=i.substr(0,e)+n+i.substr(e)}return i}(t,i),s=v.createElement("a");s.href=e,s.download=u,v.body.appendChild(s),s.click(),v.body.removeChild(s),URL.revokeObjectURL(e)}F(),Tt();var Td="default";F(),Tt(),Dt(),F(),Tt(),F(),Tt(),Rt(),F(),Tt();var Sd=function(t){return t.vk="arraybuffer",t.gk="json",t.pk="stream",t.wk="text",t}({});F(),Tt(),nn();var Ed=function(){function t(n){var i=this;this.x_={},n instanceof t?n.asList().forEach((function(t){var n=tn(t,2),r=n[0],e=n[1];i.append(r,e)})):Array.isArray(n)?n.forEach((function(t){var n=tn(t,2),r=n[0],e=n[1];i.append(r,e)})):n&&b.getOwnPropertyNames(n).forEach((function(t){i.append(t,n[t])}))}var n=t.prototype;return n.append=function(t,n){var i=t,r=n;i=Id(i),r=Rd(r);var e=i.toLowerCase();if(this.x_.hasOwnProperty(e)){var u=this.x_[e],s=u[1];u[1]=s?s+", "+r:r}else this.x_[e]=[i,r]},n.delete=function(t){var n=Id(t).toLowerCase();delete this.x_[n]},n.get=function(t){var n=Id(t).toLowerCase();return this.x_.hasOwnProperty(n)?this.x_[n][1]:null},n.has=function(t){var n=Id(t).toLowerCase();return this.x_.hasOwnProperty(n)},n.set=function(t,n){var i=t,r=(i=Id(i)).toLowerCase();this.x_[r]=[i,Rd(n)]},n.forEach=function(t,n){for(var i in this.x_)this.x_.hasOwnProperty(i)&&t.call(n,this.x_[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.x_)if(this.x_.hasOwnProperty(n)){var i=tn(this.x_[n],2),r=i[0],e=i[1];t.push([r,e])}return t},n.yk=function(){var t={};return this.forEach((function(n,i){t[i]=n})),t},n.bk=function(t){var n=this;t.forEach((function(t,i){n.append(i,t)}))},n.Ak=function(t){var n=this;t.forEach((function(t,i){n.set(i,t)}))},t}();function Id(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new _("Invalid character in header field name");return n}function Rd(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt(),nn(),F(),Tt();var Cd=V(en());F(),Tt(),Dt(),Rt();var Nd=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return It(n,t),Nt(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(xo),Dd=t,Pd=si(Dd.ReadableStream)&&si(Dd.WritableStream)&&si(Dd.TransformStream)&&ui(Dd.ReadableStream.prototype.pipeThrough)&&!Rr.op,xd=Pd?Dd.ReadableStream:Cd.ReadableStream,Ld=(Pd?Dd.WritableStream:Cd.WritableStream,Pd?Dd.TransformStream:Cd.TransformStream),Md=(Pd&&Dd.ByteLengthQueuingStrategy?Dd.ByteLengthQueuingStrategy:Cd.ByteLengthQueuingStrategy,Pd&&Dd.CountQueuingStrategy?Dd.CountQueuingStrategy:Cd.CountQueuingStrategy);function Od(t){return function(t){return new xd({start:function(n){for(var i=0;i<t.length;i++){var r=t[i];n.enqueue(r)}n.close()}})}([t])}function Bd(t){return Od(function(t){return new E(t)}(t))}function Vd(t,n){return function(t,n){var i=n,r=t.getReader(),e=new Zc,u=function(){s();var t=new Lo;r.cancel(t).catch(pi),e.Lb(t)},s=function(){i&&(i.Mw(u),i=void 0)};i&&(i.Nw?u():i.Lw(u));var o=[],a=function(t){return t.done?(s(),et.resolve(o)):(o.push(t.value),et.resolve(r.read()).then(a))};return et.resolve(r.read()).then(a).then((function(t){s(),e.Mb(t)}),(function(t){s(),e.Lb(t)})),e.Bb}(t,n).then((function(t){return Lc(t).buffer}))}function Fd(t,n){var i=n,r=new Ld,e=r.readable,u=r.writable,s=u.getWriter(),o=function(){i&&i.Xw()};return s.closed.then(o,o),t.then((function(t){return i=void 0,s.releaseLock(),t.pipeTo(u).catch(pi)}),(function(t){return i=void 0,s.releaseLock(),u.abort(t).catch(pi)})),e}function Ud(t){var n=new Ld,i=n.readable,r=n.writable;return t.pipeTo(r,{preventCancel:!0}).catch((function(n){var i;i=qn(n)?n[0]===n[1]||Mo(n[0])&&Mo(n[1])?n[0]:new Nd(n):n,t.cancel(i).catch(pi)})),i.tee()}function Wd(t){return lc(new E(t))}function Zd(t){return gc(t).buffer}F(),Tt();var Xd="content-type",Gd="text/plain;charset=UTF-8",Hd=function(){function t(){}var n=t.prototype;return n.Sk=function(t){return this.Tk(t).then(JSON.parse)},n.Ek=function(t,n){switch(t){case Sd.vk:return this.xk(n);case Sd.gk:return this.Sk(n);case Sd.pk:return this.Rk();case Sd.wk:return this.Tk(n);default:throw new _}},t}();function zd(t,n,i){if(t instanceof Hd)return t;if(t instanceof xd)return function(t,n){return new jd({pw:0,Rk:t,Ik:Yd(n)})}(t,i);var r=Yd(i),e=et.resolve(t).then((function(t){return function(t,n){if(t){if("string"==typeof t)return{pw:Sd.wk,Ck:t,Ik:n||Gd};if(t instanceof ArrayBuffer||Nc(t))return{pw:Sd.vk,Ck:nl(t),Ik:n};if($n(t)||qn(t))return{pw:Sd.gk,Ck:t,Ik:n};throw new _("Unsupported BodyInit type")}return{pw:Sd.wk,Ck:null,Ik:n}}(t,r)}));return new jd({pw:1,Bb:e,Pk:n})}function Yd(t){return(t.get(Xd)||"").toLowerCase()}var jd=function(t){function n(n){var i;return(i=t.call(this)||this).Nk=!1,i.Ok=new Zc,i.Ok.Bb.catch(pi),i.Wk(n),i}It(n,t);var i=n.prototype;return i.Bk=function(){return this.Ok.Bb},i.Tk=function(t){return this.Fk(Kd,t)},i.Sk=function(t){return this.Fk(Jd,t)},i.xk=function(t){return this.Fk($d,t)},i.Rk=function(){return this.Vk(function(t){return 0===t.pw?t.Rk:Fd(t.Bb.then(tl).then(Bd),t.Pk)}(this.Lk))},i.Fk=function(t,n){if(this.Nk)return et.reject(new _("Already used"));this.Nk=!0;var i=t(this.Lk,n);return this.Ok.zw(i.then(pi)),i},i.Vk=function(t){if(this.Nk)throw new _("Already used");if(t.locked)throw new _("Body stream is locked");this.Nk=!0;var n=new Ld,i=et.resolve(t.pipeTo(n.writable));return this.Ok.zw(i),n.readable},i.Wk=function(t){this.Lk=t,1===t.pw&&t.Bb.catch(pi)},i.Uk=function(){if(this.Nk)throw new _("Already used");var t=function(t){if(0===t.pw){var n=tn(t.Rk.tee(),2),i=n[0],r=n[1];return[{pw:t.pw,Rk:i,Ik:t.Ik},{pw:t.pw,Rk:r,Ik:t.Ik}]}var e=tn(t.Pk.qw(),2),u=e[0],s=e[1];return[{pw:t.pw,Bb:t.Bb,Pk:u},{pw:t.pw,Bb:t.Bb,Pk:s}]}(this.Lk),i=t[0],r=t[1];return this.Wk(i),new n(r)},Nt(n,[{key:"Dk",get:function(){return this.Nk}},{key:"Mk",get:function(){return 0===this.Lk.pw}}]),n}(Hd);function Kd(t,n){return 0===t.pw?Vd(t.Rk,n).then(Wd):(n&&t.Pk.zw(n),Uo(t.Bb.then(qd),t.Pk))}function qd(t){switch(t.pw){case Sd.wk:return et.resolve(t.Ck||"");case Sd.vk:return et.resolve(t.Ck).then(Wd);case Sd.gk:return et.resolve(t.Ck).then(JSON.stringify)}}function Jd(t,n){return 0===t.pw?Kd(t,n).then(JSON.parse):(n&&t.Pk.zw(n),Uo(t.Bb.then(Qd),t.Pk))}function Qd(t){return t.pw===Sd.gk?et.resolve(t.Ck):qd(t).then(JSON.parse)}function $d(t,n){return 0===t.pw?Vd(t.Rk,n):(n&&t.Pk.zw(n),Uo(t.Bb.then(tl),t.Pk))}function tl(t){switch(t.pw){case Sd.vk:return et.resolve(t.Ck);case Sd.wk:case Sd.gk:return qd(t).then(Zd)}}function nl(t){return t instanceof ArrayBuffer?t:Tc(_c(t)).buffer}var il=function(t){function n(n){var i;return(i=t.call(this)||this).Gk=n,i}It(n,t);var i=n.prototype;return i.Bk=function(){return this.Gk.Bk()},i.Tk=function(t){return this.Gk.Tk(t)},i.Sk=function(t){return this.Gk.Sk(t)},i.xk=function(t){return this.Gk.xk(t)},i.Rk=function(t){return this.Gk.Rk(t)},i.Uk=function(){return this.Gk.Uk()},Nt(n,[{key:"Dk",get:function(){return this.Gk.Dk}},{key:"Mk",get:function(){return this.Gk.Mk}}]),n}(Hd);function rl(t){return t.Hk>=200&&t.Hk<=299||304===t.Hk}var el=function(t){function n(n,i){var r,e,u,s,o,a;i?(e=i.qk,u=i.Xk,s=i.Hk,o=i.Yk,a=i.Kk):(e=[],u=Sd.wk,s=200,o="OK",a=!1);var c=n.zk,h=new Ed(n.qk||e),f=n.Xk||u,v=n.jk||(i&&i.zk===c?i.jk:c.qu),d=i?i.Gk:null,l=zd(void 0!==n.Zk?n.Zk:d,n.Pk||new Ho,h);return(r=t.call(this,l)||this).qk=h,r.zk=c,r.jk=v,r.Xk=f,r.Hk=void 0!==n.Hk?n.Hk:s,r.Yk=void 0!==n.Yk?String(n.Yk):o,r.Kk=n.Kk||a,r}It(n,t);var i=n.prototype;return i.Zk=function(t){return this.Ek(this.Xk,t)},i.Tb=function(){return new n({Zk:this.Uk(),zk:this.zk},this)},n}(il);F(),Tt();var ul=function(t){return t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT",t}({}),sl=function(t){return t.Qk="",t.Jk="manifest",t.$k="segment",t.tE="preload-hint",t.eE="content-protection",t}({}),ol=function(t){return t.Qk="",t.iE="initialization-segment",t.sE="fairplay-license",t.nE="fairplay-certificate",t.rE="widevine-license",t.oE="widevine-certificate",t.hE="playready-license",t.aE="clearkey-license",t.uE="aes128-key",t}({}),al=function(t){return t.Qk="",t.cE="audio",t.lE="video",t.wk="text",t.dE="image",t}({}),cl=function(t){return t.fE="same-origin",t._E="no-cors",t.vE="cors",t.mE="navigate",t}({}),hl=function(t,n){var i,r,e,u,s,o,a,c,h,f,v,d,l,g,w,m,y,p,_=t.qu;n?(i=n.Ck,r=n.qk,e=n.gE,u=n.Xk,s=n.pE,o=n.wE,a=n.Bw,c=n.pw,h=n.yE,f=n.bE,v=n.AE,d=n.SE,l=n.TE,g=n.kE,w=n.EE):(i=null,r={},e="GET",u=Sd.wk,s=0,o=0,c="",h="",f="",v=!1,l=void 0,g=!1,w=void 0),this.qu=_,this.Ck=t.Ck||i,this.qk=new Ed(t.qk||r),this.gE=t.gE||e,this.Xk=t.Xk||u,this.pE=void 0!==t.pE?Number(t.pE)||0:s,this.wE=void 0!==t.wE?Number(t.wE)||0:o,this.Bw=t.Bw||a||(new Ho).Bw,this.pw=t.pw||c,this.yE=t.yE||h,this.bE=t.bE||f,this.AE=void 0!==t.AE?Boolean(t.AE):v,this.SE=t.SE||d,this.TE=null!=(m=t.TE)?m:l,this.kE=null!=(y=t.kE)?y:g,this.EE=null!=(p=t.EE)?p:w},fl=function(){function t(){}var n=t.prototype;return n.zk=function(t){var n=function(t){return new el({Zk:null,qk:{},zk:t,jk:t.qu,Xk:t.Xk,Hk:0,Yk:ua.Vy})}(new hl(t));return et.resolve(n)},n.xE=function(t){},n.gn=function(){},t}();var vl=function(){function t(t,n){void 0===n&&(n=!0),this.DE=t,this.LE=n}var n=t.prototype;return n.zk=function(t){var n=this.PE(t);return this.DE.zk(n)},n.xE=function(t){return this.DE.xE(this.NE(t))},n.PE=function(n){var i=new hl(n);if(!this.LE){var r=t.BE(i.qu);i=new hl({qu:r},i)}return i},n.NE=function(n){var i=n.qu;return this.LE||(i=t.BE(i)),{qu:i,Ck:n.Ck}},n.gn=function(){this.DE.gn()},t.BE=function(t){return Kn.iw&&Bs(t,"http://")?t.replace(":","s:"):t},Nt(t,null,[{key:"RE",get:function(){return t.CE||(t.CE=new t(new fl)),t.CE}}]),t}();function dl(t,n){var i=Kn.Ah(t);return ll(i,n),i.toString()}function ll(t,n){for(var i=0,r=b.keys(n);i<r.length;i++){var e=r[i];t.searchParams.set(e,n[e])}}function gl(t,n){var i=Kn.Kp(t);return n&&!Vs(i,"/")&&(i+="/"),i}vl.CE=void 0,F(),Tt(),F(),Tt(),Gt(),Dt(),Rt(),nn(),qt(),F(),Tt();var wl=/cache:(.+)?(?=&|$)/,ml="http://webcache.googleusercontent.com/search?q=cache:";function yl(t){if(!Bs(t,ml))return"";var n=Kn.Ah(t).search.match(wl);return n&&n.length>1?n[1]:""}function pl(t){return Kn.Ah(".",t)}F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt();var _l=function(t){return t.OE="HttpOpenError",t.FE="HttpResponseError",t.VE="HttpTimeoutError",t}({}),bl=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).WE=n,e}return It(n,t),Nt(n,[{key:"zk",get:function(){return this.WE}}]),n}(xo);var kl=function(t){function n(n,i){return t.call(this,n,function(t){return"Error while opening "+t+". Invalid URL."}(n.qu),i)||this}return It(n,t),Nt(n,[{key:"name",get:function(){return _l.OE}}]),n}(bl);F(),Tt(),Dt(),Rt();var Al=function(t){function n(n,i,r){var e;return(e=t.call(this,n.zk,null!=r?r:function(t){return"Error while loading "+t.zk.qu+", status code "+t.Hk}(n),i)||this).GE=n,e}return It(n,t),Nt(n,[{key:"name",get:function(){return _l.FE}},{key:"UE",get:function(){return this.GE}}]),n}(bl);F(),Tt(),Dt(),Rt();var Tl=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.qu+" timed out after "+t.pE+" seconds."}(n),i)||this}return It(n,t),Nt(n,[{key:"name",get:function(){return _l.VE}}]),n}(bl);F(),Tt();var Sl=self.fetch,El=self.Request,Il=self.Response,Rl=self.Headers,Cl=self.ReadableStream,Nl=self.AbortSignal,Dl=self.AbortController,Pl=Ai((function(){try{return ui(Sl)&&si(El)&&si(Il)&&si(Rl)&&"forEach"in Rl.prototype&&Qu()}catch(t){return!1}})),xl=["http:","https:"];var Ll=Ai((function(){try{return Pl()&&si(Nl)&&si(Dl)&&"signal"in El.prototype}catch(t){return!1}})),Ml=Ai((function(){try{return Pl()&&si(Cl)&&"body"in Il.prototype&&!Gn.$v}catch(t){return!1}}));function Ol(t){return t instanceof bl}function Bl(t){return t instanceof Al}function Vl(t,n){var i,r=t.qk.has("content-length")?Number(t.qk.get("content-length")):void 0;return i=t.Mk?function(t,n,i){return t.pipeThrough(new Ld(new Fl(n,i)))}(t.Rk(),n,r):function(t,n,i){return Ul.apply(this,arguments)}(t.xk(),n,r),new el({Zk:i,zk:t.zk},t)}F(),Tt(),F(),Tt(),Gt(),qt();var Fl=function(){function t(t,n){this.ZE=t,this.XE=n,this.HE=0}var n=t.prototype;return n.transform=function(t,n){this.HE+=t.byteLength,this.ZE(this.HE,this.XE),n.enqueue(t)},n.flush=function(t){var n;this.ZE(this.HE,null!=(n=this.XE)?n:this.HE)},t}();function Ul(){return Ul=Zt((function(t,n,i){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return[4,et.resolve()];case 1:return u.sent(),n(0,i),[4,t];case 2:return r=u.sent(),e=r.byteLength,n(e,null!=i?i:e),[2,r]}}))})),Ul.apply(this,arguments)}var Wl=function(){function t(t){this.OT=new Ho,this.GE=void 0,this.qE=0,this.YE=!1,this.WE=t,this.OT.zw(t.Bw),this.UE=this.zE()}var n=t.prototype;return n.zE=function(){var t=this;return Zt((function(){var n,i,r,e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:(n=t.WE).pE&&(t.qE=g((function(){t.YE=!0,t.OT.Xw()}),n.pE),t.OT.Bw.Gw((function(){w(t.qE)})));try{i=Sl(n.qu,{method:n.gE,headers:n.qk.yk(),body:n.Ck,credentials:n.AE?"include":"same-origin",signal:Gl(t.OT.Bw),mode:n.TE,keepalive:n.EE})}catch(t){throw new kl(n,t)}h.label=1;case 1:return h.trys.push([1,3,,4]),[4,i];case 2:return r=h.sent(),[3,4];case 3:throw e=h.sent(),Mo(u=t.KE(e))&&t.OT.Xw(),u;case 4:if(s=r.url||n.qu,o=0===r.status&&"file:"===function(t){return Kn.Ah(t).protocol}(s)?200:r.status,a=new Zl(t,r,t.OT),!rl(c=new el({Zk:a,zk:n,Xk:n.Xk,qk:Hl(r.headers),Hk:o,Yk:r.statusText,jk:s})))throw new Al(c);return n.SE&&(c=Vl(c,n.SE)),[2,c]}}))}))()},n.KE=function(t){return Ol(t)?t:Mo(t)?this.YE?new Tl(this.WE):new Lo(t.message,t):this.GE?new Al(this.GE,t):new kl(this.WE,t)},t}(),Zl=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Ok=new Zc,e.QE=n,e.jE=i,e.OT=r,e.Ok.Bb.catch(pi),e}It(n,t);var i=n.prototype;return i.Bk=function(){return this.Ok.Bb},i.Tk=function(t){return this.Fk(this.jE.text(),t)},i.xk=function(t){return this.Fk(this.jE.arrayBuffer(),t)},i.Rk=function(){var t=this.jE.body;return t?this.Vk(t):Fd(this.xk().then(Bd),this.OT)},i.Uk=function(){var t=this.jE.clone(),i=tn(this.OT.qw(),2),r=i[0],e=i[1];return this.OT=r,new n(this.QE,t,e)},i.Fk=function(t,n){var i=this;n&&this.OT.zw(n);var r=Fo(et.resolve(t),this.OT.Bw).catch((function(t){throw i.QE.KE(t)}));return r=Uo(r,this.OT),this.Ok.zw(r.then(pi)),r},i.Vk=function(t){var n=this;return new xd(new zl(t,(function(t){return n.QE.KE(t)}),this.OT,this.Ok),{highWaterMark:0})},Nt(n,[{key:"Dk",get:function(){return this.jE.bodyUsed}},{key:"Mk",get:function(){return Yn(this.jE.body)}}]),n}(Hd),Xl="abort";function Gl(t){if(Ll()){var n=new Dl;if(t.Nw)n.abort();else if(!t.Fw){var i=function(){r(),n.abort()},r=function(){n.signal.removeEventListener(Xl,i),t.Mw(i),t.Hw(r)};n.signal.addEventListener(Xl,i),t.Lw(i),t.Gw(r)}return n.signal}}function Hl(t){if(function(t){return Qn(t)&&"function"==typeof t.forEach}(t)){var n=new Ed;return t.forEach((function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)})),n}return new Ed(t)}var zl=function(){function t(t,n,i,r){this.JE=t,this.$E=n,this.OT=i,this.Ok=r}var n=t.prototype;return n.start=function(t){this.Md=this.JE.getReader()},n.pull=function(t){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Fo(n.Md.read(),n.OT.Bw)];case 1:return i=u.sent(),[3,3];case 2:return r=u.sent(),e=n.$E(r),n.Ok.Lb(e),n.OT.Xw(),n.Md.cancel(e).catch(pi),t.error(e),[2];case 3:return i.done?(n.Ok.Mb(),n.OT.Xw(),t.close()):t.enqueue(i.value),[2]}}))}))()},n.cancel=function(t){return this.OT.Xw(),this.Ok.Lb(t),this.Md.cancel(t)},t}();F(),Tt(),Dt();var Yl=function(){function t(t){var n=this;this.OT=new Ho,this.GE=void 0,this.tx=new Zc,this.vx=!1,this._x=function(){var t;n.sx(),null==(t=n.ix)||t.abort()},this.WE=t,this.OT.zw(t.Bw),this.ix=new R,this.zE()}var n=t.prototype;return n.zE=function(){var t=this,n=this.ix,i=this.WE;if(i.Bw.Nw)return this.sx();n.onreadystatechange=function(){return t.nx()},n.onprogress=function(n){return t.ZE(n)},n.onload=function(){return t.ox()},n.onloadend=function(){return t.hx()},n.onerror=function(){return t.ux()},n.ontimeout=function(){return t.lx()},n.onabort=function(){return t.sx()},n.open(i.gE,i.qu,!0),n.withCredentials=Boolean(i.AE),"responseType"in n&&i.Xk&&(i.Xk===Sd.wk?n.responseType="text":n.responseType="arraybuffer"),i.qk.forEach((function(t,i){n.setRequestHeader(i,t)})),i.pE&&(n.timeout=i.pE),this.OT.Bw.Lw(this._x);var r=i.Ck;r?n.send(r):n.send()},n.nx=function(){var t=this.ix;void 0!==t&&t.readyState>=2&&!this.vx&&(this.vx=!0,this.mx())},n.mx=function(){var t,n,i=this.ix,r=function(t){var n=new Ed,i=t.replace(/\r?\n[\t ]+/g," ");return i.split(/\r?\n/).forEach((function(t){var i=t.split(":"),r=i.shift().trim();if(r){var e=i.join(":").trim();n.append(r,e)}})),n}(i.getAllResponseHeaders()||""),e=this.WE;this.gx=new Zc,this.GE=new el({zk:e,Xk:e.Xk,Zk:this.gx.Bb,Hk:i.status,Yk:i.statusText,qk:r,jk:null!=(n=i.responseURL)?n:r.get("X-Request-URL")}),null==(t=this.tx)||t.Mb(this.GE)},n.ox=function(){var t,n=this.ix;if(void 0!==n){var i=n.response;if(!Yn(i)){var r=this.WE.Xk;i=r===Sd.wk?n.responseText:r===Sd.vk?new ArrayBuffer(0):{}}null==(t=this.gx)||t.Mb(i)}},n.hx=function(){this.gn()},n.ZE=function(t){void 0!==this.ix&&(null==this.WE.SE||this.WE.SE.call(this.WE,t.loaded,t.lengthComputable?t.total:void 0))},n.ux=function(){var t=new p("Network request failed");this.GE?this.Ss(new Al(this.GE,t)):this.Ss(new kl(this.WE,t))},n.lx=function(){this.Ss(new Tl(this.WE))},n.sx=function(){this.Ss(new Lo),this.gn()},n.Ss=function(t){var n,i;null==(n=null!=(i=this.gx)?i:this.tx)||n.Lb(t)},n.gn=function(){this.ix=void 0,this.GE=void 0,this.tx=void 0,this.gx=void 0,this.OT.Ww()},Nt(t,[{key:"UE",get:function(){return this.tx.Bb}}]),t}();function jl(t,n,i){return new et((function(r,e){if(i&&i.Nw)return e(new Lo);var u=function(t){o(),r(t)},s=function(){o(),e(new Lo)},o=function(){t.removeEventListener(n,u),i&&i.Mw(s)};t.addEventListener(n,u),i&&i.Lw(s)}))}F(),Tt();var Kl=function(){function t(){}var n=t.prototype;return n.zk=function(t){return function(t){if(!Pl()||!function(t){try{return xl.indexOf(new self.URL(t,self.location.href).protocol)>=0}catch(t){return!1}}(t.qu))return!1;if(!Ml()&&t.SE)return!1;if(!t.kE&&t.gE!==ul.POST){if(Gn.Cm&&Gn.vm<=68)return!1;if(Gn.Em)return!1}return!0}(t)?new Wl(t).UE:new Yl(t).UE},n.xE=function(t){var n=f.navigator;if(n&&n.sendBeacon)n.sendBeacon(t.qu,kd([t.Ck],{type:t.Ik}));else{var i=t.Ik?{"Content-type":t.Ik}:void 0;this.zk(new hl({gE:ul.POST,qu:t.qu,Ck:t.Ck,qk:i,TE:cl._E})).then((function(t){jo(t.xk())}),pi)}},n.gn=function(){},t}();F(),Tt(),Dt(),Rt(),F(),Tt();var ql=function(t){return t[t.wx=1]="wx",t[t.yx=2]="yx",t[t.wk=3]="wk",t[t.bx=4]="bx",t[t.Ax=9]="Ax",t}({});function Jl(t){return 1===t.Sx}function Ql(t){return 3===t.Sx}F(),Tt(),Rt();var $l=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return It(n,t),n}(xo),tg=function(){function t(){}return t.prototype.Tx=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new $l(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new $l;return new og(n)},t}(),ng=function(){function t(t){this.Ex=t}var n=t.prototype;return n.Cx=function(t){return this.Ex.isEqualNode(t.Ex)},n.Px=function(n){return new t(this.Ex.cloneNode(n))},Nt(t,[{key:"Sx",get:function(){return ql.yx}},{key:"kx",get:function(){var t;return null!=(t=this.Ex.localName)?t:hg(this.Ex.nodeName)}},{key:"l",get:function(){return this.Ex.nodeName}},{key:"xx",get:function(){var t;return null!=(t=this.Ex.namespaceURI)?t:void 0}},{key:"Rx",get:function(){var t;return null!=(t=this.Ex.prefix)?t:void 0}},{key:"Ix",get:function(){return this.Ex.nodeValue}}]),t}(),ig=function(){function t(t){this.Nx=void 0,this.Mx=t}var n=t.prototype;return n.Lx=function(t){return this.Dx.filter((function(n){return ag(n)&&n.Bx===t}))},n.Ox=function(t,n){return this.Dx.filter((function(i){return ag(i)&&i.kx===n&&i.xx===t}))},n.Vx=function(t){this.Mx.appendChild(t.Fx),this.Nx&&this.Nx.push(t)},n.Cx=function(t){return this.Mx.isEqualNode(t.Fx)},Nt(t,[{key:"Dx",get:function(){return void 0===this.Nx&&(this.Nx=function(t){for(var n=[],i=0;i<t.length;i++){var r=cg(t.item(i));r&&n.push(r)}return n}(this.Mx.childNodes)),this.Nx}},{key:"m",get:function(){return this.Dx.filter(ag)}},{key:"Fx",get:function(){return this.Mx}}]),t}(),rg=function(t){function n(n){return t.call(this,n)||this}It(n,t);var i=n.prototype;return i.Gx=function(t){if(this.Mx.hasAttribute(t))return this.Mx.getAttribute(t)},i.Hx=function(t,n){if(this.Mx.hasAttributeNS(t,n))return this.Mx.getAttributeNS(t,n)},i.Zx=function(t){this.Mx.removeAttribute(t)},i.Xx=function(t,n){this.Mx.removeAttributeNS(t,n)},i.zx=function(t,n){this.Mx.setAttribute(t,n)},i.qx=function(t,n,i){this.Mx.setAttributeNS(t,n,i)},i.Px=function(t){return new n(this.Mx.cloneNode(t))},Nt(n,[{key:"Sx",get:function(){return ql.wx}},{key:"kx",get:function(){var t;return null!=(t=this.Mx.localName)?t:hg(this.Mx.nodeName)}},{key:"xx",get:function(){var t;return null!=(t=this.Mx.namespaceURI)?t:void 0}},{key:"Rx",get:function(){var t;return null!=(t=this.Mx.prefix)?t:void 0}},{key:"Bx",get:function(){return this.Mx.nodeName}},{key:"Wx",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new ng(t.item(i)));return n}(this.Mx.attributes)}},{key:"Ux",get:function(){return this.Mx.textContent}}]),n}(ig),eg=function(){function t(t){this.Mx=t}return t.prototype.Cx=function(t){return this.Zk===t.Zk},Nt(t,[{key:"Zk",get:function(){return this.Mx.nodeValue}},{key:"Fx",get:function(){return this.Mx}}]),t}(),ug=function(t){function n(n){return t.call(this,n)||this}return It(n,t),n.prototype.Px=function(t){return new n(this.Mx.cloneNode(t))},Nt(n,[{key:"Sx",get:function(){return ql.wk}}]),n}(eg),sg=function(t){function n(n){return t.call(this,n)||this}return It(n,t),n.prototype.Px=function(t){return new n(this.Mx.cloneNode(t))},Nt(n,[{key:"Sx",get:function(){return ql.bx}}]),n}(eg),og=function(t){function n(n){return t.call(this,n)||this}return It(n,t),n.prototype.Px=function(t){return new n(this.Mx.cloneNode(t))},Nt(n,[{key:"Sx",get:function(){return ql.Ax}},{key:"Yx",get:function(){return new rg(this.Mx.documentElement)}}]),n}(ig);function ag(t){return Jl(t)}function cg(t){switch(t.nodeType){case ql.wx:return new rg(t);case ql.wk:return new ug(t);case ql.bx:return new sg(t)}}function hg(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}var fg=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Kx=void 0,n.Qx=Ml(),n.$x=Gn._g||Gn.$v,n.eR=(Gn._g||Gn.Cm&&Gn.vm<=68||Gn.$v)&&!(Gn.Em&&Gn.Rm<3),n.uR=void 0,n.cR=new tg,n}return It(n,t),n.prototype.Tx=function(t){return this.cR.Tx(t)},Nt(n,[{key:"Wp",get:function(){return this.Kx||(this.Kx=new Js(yd())),this.Kx}},{key:"jx",get:function(){return this.Qx}},{key:"Jx",get:function(){return this.$x}},{key:"tR",get:function(){return this.eR}},{key:"iR",get:function(){return!1}},{key:"sR",get:function(){return _d._k()}},{key:"nR",get:function(){return{rR:Ad}}},{key:"oR",get:function(){return l.connection&&l.connection.effectiveType||Td}},{key:"hR",get:function(){return l.connection&&l.connection.type||"unknown"}},{key:"aR",get:function(){return this.uR||(this.uR=new vl(new Kl)),this.uR}}]),n}(qu);!function(t){Kn=t}(new fg),F(),Tt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Rt();var vg=function(t){function n(n,i){var r;return(r=t.call(this,ua.$y)||this).currentTime=n,r.currentProgramDateTime=i,r}return It(n,t),n}(ea);F(),Tt(),Rt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Rt(),F(),Tt(),Rt(),F(),Tt(),Dt(),Rt();var dg=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Za=void 0,r}return It(n,t),Nt(n,[{key:"ga",get:function(){return this.Za||(this.Za=this.ma()),this.Za}}]),n}(ea);function lg(t){return Boolean(t&&t.ga)}var gg=function(t){function n(n){return t.call(this,n)||this}return It(n,t),n}(dg),wg=function(t){function n(n){return t.call(this,n)||this}return It(n,t),n}(ea);F(),Tt();var mg=function(t){return t.MI="LI",t.BI="OI",t}({}),yg=function(t){function n(n){var i;return(i=t.call(this,mg.MI)||this).Ht=n,i}return It(n,t),n.prototype.ma=function(){return new pg(this.Ht.ga)},n}(gg),pg=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return It(n,t),n}(wg);F(),Tt(),Rt();var _g=function(t){function n(n){var i;return(i=t.call(this,mg.BI)||this).Ht=n,i}return It(n,t),n.prototype.ma=function(){return new bg(this.Ht.ga)},n}(gg),bg=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return It(n,t),n}(wg);F(),Tt();var kg=function(t){return t.FI="VI",t.WI="UI",t.GI="HI",t.ZI="XI",t.zI="qI",t.YI="KI",t.aa="jI",t.QI="JI",t.$I="tC",t.eC="Yn",t.iC="sC",t.nC="rC",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality",t}({}),Ag=function(t){function n(){var n;return(n=t.call(this)||this).hC=[],n.Za=void 0,n}It(n,t);var i=n.prototype;return i.aC=function(t){return this.hC[t]},i.tt=function(t){return!(!t||mo(this.hC,t))&&(this.hC.push(t),this.Za&&this.Za.push(t.ga),t.yn(kg.aa,this.Ds),this.yo(new yg(t)),!0)},i.it=function(t){if(!t)return!1;var n=this.hC.indexOf(t);return!(n<0)&&(go(this.hC,n),this.Za&&go(this.Za,n),t.fn(kg.aa,this.Ds),this.yo(new _g(t)),!0)},i.uC=function(t){return mo(this.hC,t)},i.tr=function(){for(var t=this.hC,n=t.length-1;n>=0;n-=1)this.it(t[n])},i.gn=function(){this.tr(),this.Bo()},Nt(n,[{key:"oC",get:function(){return this.hC}},{key:"ga",get:function(){return this.Za||(this.Za=this.ma()),this.Za}},{key:"V",get:function(){return this.hC.length}}]),n}(na);F(),Tt(),F(),Tt(),F(),Tt();var Tg=b.freeze||_i;function Sg(t,n,i){b.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function Eg(t,n){for(var i=0,r=b.getOwnPropertyNames(n);i<r.length;i++){var e=r[i];b.defineProperty(t,e,b.getOwnPropertyDescriptor(n,e))}return t}function Ig(t){if($n(t)){var n={};for(var i in t)Hn.call(t,i)&&(n[i]=Ig(t[i]));return n}if(qn(t)){for(var r=new Array(t.length),e=0;e<r.length;e++)e in t&&(r[e]=Ig(t[e]));return r}return t}function Rg(t,n){return t===n||!(!t||!n)&&(!(!Qn(t)||!Qn(n))&&(Jn(t)?!!Jn(n)&&function(t,n){var i=t.length,r=n.length;if(i!==r)return!1;for(var e=0;e<i;e+=1)if(!Rg(t[e],n[e]))return!1;return!0}(t,n):!Jn(n)&&function(t,n){var i=b.keys(t),r=b.keys(n);if(!i||!r||i.length!==r.length)return!1;for(var e=0;e<i.length;e++){var u=i[e];if(!Hn.call(n,u)||!Rg(t[u],n[u]))return!1}return!0}(t,n)))}function Cg(t,n){return t.constructor===n.constructor}function Ng(t){for(var n={},i=0,r=b.keys(t);i<r.length;i++){var e=r[i],u=t[e];null!=u&&(n[e]=u)}return n}function Dg(t){for(var n={},i=0,r=b.keys(t);i<r.length;i++){var e=r[i],u=t[e];if(Jn(u)){for(var s=[],o=0;o<u.length;o+=1){var a=u[o];if(null!=a){var c=Qn(a)?Dg(a):a;s.push(c)}}n[e]=s}else null!=u&&(n[e]=Qn(u)?Dg(u):u)}return n}function Pg(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function xg(t){return Yn(t)?Pg(t):void 0}function Lg(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function Mg(t){var n=Lg(t);if(S(n))throw new p("Expected a valid number.");return n}function Og(t){return"string"==typeof t?t:""}function Bg(t,n){if(!Jn(t))return[];for(var i=0|t.length,r=new Array(i),e=0;e<i;e++)r[e]=n(t[e]);return r}function Vg(t,n){return Jn(t)?Bg(t,n):n(t)}F(),Tt();var Fg=[mg.MI,mg.BI,kg.aa];function Ug(t){var n,i=t.oC.map((function(t){return t.ga}));return i.item=function(n){var i=0|n,r=t.aC(i);return r&&r.ga||void 0},i.addEventListener=function(t,i){n.yn(t,i)},i.removeEventListener=function(t,i){n.fn(t,i)},n=new ia(i),t.yn(Fg,(function(t){return n.yo(t.ga)})),i}F(),Tt();var Wg=function(t){return t[t.gC=0]="gC",t[t.pC=1]="pC",t[t.wC=2]="wC",t[t.yC=3]="yC",t[t.bC=4]="bC",t[t.TRANSCRIBES_SPOKEN_DIALOG=5]="TRANSCRIBES_SPOKEN_DIALOG",t[t.DESCRIBES_MUSIC_AND_SOUND=6]="DESCRIBES_MUSIC_AND_SOUND",t[t.AC=7]="AC",t}({});function Zg(t){switch(t){case 0:return"caption";case 2:return"sign";case 1:return"description";case 3:return"enhanced audio intelligibility";case 4:return"easy reader";case 5:return"transcribes spoken dialog";case 6:return"describes music and sound";case 7:return"describes video"}}function Xg(){}function Gg(t){var n,i=[kg.eC,kg.aa,kg.iC,kg.nC,kg.QUALITY_UNAVAILABLE],r={get activeQuality(){return t.SC&&t.SC.ga},get enabled(){return t.Rt},set enabled(n){t.Rt=Pg(n)},get id(){return t.o},get uid(){return t.TC},get kind(){return t.Lt},get label(){return t.kh},set label(n){t.kh=Og(n)},get accessibility(){var n,i;return null!=(i=null==(n=t.kC)?void 0:n.map(Zg))?i:[]},get language(){return t.gs},get qualities(){return t.EC.ga},set targetQuality(n){var i;i=n?function(t,n){for(var i=[],r=0,e=t.EC.oC;r<e.length;r++)for(var u=e[r],s=0;s<n.length;s++){var o=n[s];u.ga===o&&i.push(u)}return i}(t,qn(n)?n:[n]):[],i.length>0?t.xC=i:t.xC=void 0},get targetQuality(){if(t.xC)return 1===t.xC.length?t.xC[0].ga:t.xC.map((function(t){return t.ga}))},addEventListener:function(t,i){var r=Vg(t,Og);n.yn(r,i)},removeEventListener:function(t,i){var r=Vg(t,Og);n.fn(r,i)}};return n=new ia(r),t.yn(i,(function(t){return n.yo(t.ga)})),b.defineProperty(r,"constructor",{value:Xg}),r}function Hg(){}function zg(t){var n=Ug(t);return b.defineProperty(n,"constructor",{value:Hg}),n}var Yg=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.tt=function(n){return t.prototype.tt.call(this,n)},i.ma=function(){return zg(this)},n}(Ag);F(),Tt(),F(),Tt();var jg=function(t){return t.cE="audio",t.lE="video",t.wk="text",t.dE="image",t.Qk="unknown",t}({});function Kg(t){return"audio"===t||"video"===t}F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt();var qg=function(t){function n(n,i,r,e,u,s,o,a){var c;return(c=t.call(this,n,i,r)||this).url=e,c.status=u,c.statusText=s,c.response=o,c.systemCode=a,c}return It(n,t),Nt(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(td);var Jg=function(t){return t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR",t}({}),Qg=function(t){function n(n,i,r,e){var u;return(u=t.call(this,i)||this).code=n,u.message=null!=i?i:"Unknown error",u.cause=r,u.systemCode=e,p.captureStackTrace&&p.captureStackTrace(u,u.constructor),u}return It(n,t),Nt(n,[{key:"name",get:function(){return"MediaError"}}]),n}(Po);function $g(t){Sg(t,"MEDIA_ERR_ABORTED",1),Sg(t,"MEDIA_ERR_NETWORK",2),Sg(t,"MEDIA_ERR_DECODE",3),Sg(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",4),Sg(t,"MEDIA_ERR_ENCRYPTED",5)}function tw(t){var n,i;return function(t){return t.category===$v.CONTENT_PROTECTION}(t)?new Qg(5,t.message,null==(n=t.cause)?void 0:n.message,t.systemCode):new Qg(function(t){if(t===Qv.MEDIA_ABORTED)return 1;if(t===Qv.MANIFEST_LOAD_ERROR||t===Qv.MEDIA_LOAD_ERROR||t===Qv.SUBTITLE_LOAD_ERROR)return 2;if(t===Qv.MEDIA_DECODE_ERROR)return 3;if(t===Qv.MEDIA_NOT_SUPPORTED)return 4;var n=$v.fromCode(t);if(n===$v.NETWORK)return 2;if(n===$v.SOURCE)return 4;if(n===$v.LICENSE)return 6;if(n===$v.CONTENT_PROTECTION)return 5;if(n===$v.AD)return 7;return 3}(t.code),t.message,null==(i=t.cause)?void 0:i.message)}function nw(t){return new td(iw(t.code),t.message,t)}function iw(t){switch(t){case 1:return Qv.MEDIA_ABORTED;case 2:return Qv.NETWORK_ERROR;case 3:return Qv.MEDIA_DECODE_ERROR;case 4:return Qv.SOURCE_NOT_SUPPORTED;case 5:return Qv.CONTENT_PROTECTION_ERROR;case 6:return Qv.LICENSE_ERROR;case 7:return Qv.AD_ERROR}}$g(Qg),$g(Qg.prototype),F(),Tt(),Dt(),Rt(),F(),Tt(),Rt();var rw=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n}(ra);F(),Tt(),Dt(),F(),Tt();var ew=function(){function t(){this.wO=[],this.Za=void 0}var n=t.prototype;return n.yO=function(t){this.wO.push(t),this.Za&&this.Za.push(t.ga)},n.jS=function(t){lo(this.wO,t),this.Za&&lo(this.Za,t.ga)},n.aC=function(t){return this.wO[t]},n.bO=function(t){return qn(t)?function(t,n){for(var i=0;i<n.length;i++)if(!mo(t,n[i]))return!1;return!0}(this.wO,t):mo(this.wO,t)},n.tr=function(){po(this.wO),this.Za&&po(this.Za)},Nt(t,[{key:"oC",get:function(){return this.wO}},{key:"V",get:function(){return this.wO.length}},{key:"ga",get:function(){return this.Za||(this.Za=function(t){var n=t.oC.map((function(t){return t.ga}));return n.item=function(n){var i=0|n,r=t.aC(i);return r&&r.ga||void 0},n}(this)),this.Za}}]),t}();F(),Tt(),Rt();var uw=function(t){function n(n){var i;return(i=t.call(this,kg.aa)||this).Ht=n,i}return It(n,t),n.prototype.ma=function(){return new sw(this.Ht.ga)},n}(gg),sw=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return It(n,t),n}(wg);F(),Tt(),Rt();var ow=function(t){function n(n){var i;return(i=t.call(this,kg.eC)||this).Ht=n,i}return It(n,t),n.prototype.ma=function(){return new aw(this.Ht.ga)},n}(gg),aw=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return It(n,t),n}(wg);F(),Tt();var cw=0;function hw(){return cw++}var fw=0;var vw=0;function dw(){return vw++}var lw=0;function gw(){return lw++}var ww=0;var mw=function(t){function n(n){var i;return(i=t.call(this)||this).pw=jg.cE,i.He=!1,i.Za=void 0,i.SO=n,i.TO=hw(),i.US=ww+++"",i.kO=n.label,i.wO=new ew,i.RO(),i}It(n,t);var i=n.prototype;return i.xO=function(t){this.Rt=t},i.RO=function(){this.Rt=this.AO},Nt(n,[{key:"SC",get:function(){}},{key:"Rt",get:function(){return this.He},set:function(t){this.He!==t&&(this.He=t,this.AO=t,this.yo(new uw(this)))}},{key:"AO",get:function(){return this.SO.enabled},set:function(t){this.SO.enabled=t}},{key:"ga",get:function(){return this.Za||(this.Za=Gg(this)),this.Za}},{key:"o",get:function(){return this.US}},{key:"TC",get:function(){return this.TO}},{key:"Lt",get:function(){return this.SO.kind}},{key:"kh",get:function(){return this.kO},set:function(t){t!==this.kO&&(this.kO=t,this.yo(new ow(this)))}},{key:"gs",get:function(){return this.SO.language}},{key:"TE",get:function(){return this.Rt?"enabled":"disabled"}},{key:"EO",get:function(){return this.SO}},{key:"EC",get:function(){return this.wO}},{key:"xC",get:function(){},set:function(t){}}]),n}(na);F(),Tt(),Dt(),Rt();var yw=0;var pw=function(t){function n(n){var i;return(i=t.call(this)||this).pw=jg.lE,i.He=!1,i.Za=void 0,i.SO=n,i.TO=hw(),i.US=yw+++"",i.wO=new ew,i.kO=n.label,i.RO(),i}It(n,t);var i=n.prototype;return i.RO=function(){this.Rt=this.AO},i.xO=function(t){this.Rt=t},Nt(n,[{key:"SC",get:function(){}},{key:"Rt",get:function(){return this.He},set:function(t){this.He!==t&&(this.He=t,this.AO=t,this.yo(new uw(this)))}},{key:"AO",get:function(){return!!this.SO.selected},set:function(t){this.SO.selected=t}},{key:"ga",get:function(){return this.Za||(this.Za=Gg(this)),this.Za}},{key:"o",get:function(){return this.US}},{key:"TC",get:function(){return this.TO}},{key:"Lt",get:function(){return"main"}},{key:"kh",get:function(){return this.kO},set:function(t){t!==this.kO&&(this.kO=t,this.yo(new ow(this)))}},{key:"gs",get:function(){return this.SO.language}},{key:"TE",get:function(){return this.Rt?"enabled":"disabled"}},{key:"EO",get:function(){return this.SO}},{key:"EC",get:function(){return this.wO}},{key:"xC",get:function(){},set:function(t){}}]),n}(na);F(),Tt(),Rt();var _w=function(t){function n(n){var i;return(i=t.call(this,ua.ly)||this).NR=n,i}return It(n,t),n}(ea);F(),Tt(),Gt(),Rt(),qt(),F(),Tt();var bw=function(t){return t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR",t}({});F(),Tt();var kw=function(t){return t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange",t.MILLICAST="millicast",t}({});function Aw(t){switch(t){case"":case"srt":case"ttml":case"webvtt":case"emsg":case"eventstream":case"id3":case"cea608":case"daterange":case"millicast":return!0;default:return!1}}F(),Tt(),F(),Tt();var Tw=function(t){return t.IO="cue",t.CO="region",t.PO="stylesheet",t}({});F(),Tt(),Dt(),Rt(),F(),Tt();var Sw={"line-left":"start",center:"middle","line-right":"end"},Ew={start:"line-left",middle:"center",end:"line-right"};function Iw(t,n){if("auto"===t)switch(n){case"start":case"left":return"line-left";case"end":case"right":return"line-right";default:return"center"}return t}function Rw(t,n){if("auto"===t)switch(n){case"left":return 0;case"right":return 100;default:return 50}return function(t,n){var i="number"==typeof t?t:T(t);return S(i)?n:i}(t,50)}F(),Tt(),F(),Tt(),F(),Tt(),Rt();var Cw=function(t){return t.tO="co",t.eO="bo",t.eC="Yn",t}({}),Nw=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).DO=i,r}return It(n,t),n}(gg),Dw=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).cue=i,r}return It(n,t),n}(wg);function Pw(t){var n,i=[Cw.tO,Cw.eO,Cw.eC],r={get MO(){return t},get track(){return t.Ht.ga},get id(){return t.o},get uid(){return t.TC},get startTime(){return t.LO},set startTime(n){t.LO=n},get endTime(){return t.BO},set endTime(n){t.BO=n},get content(){return t.U},addEventListener:function(t,i){var r=Vg(t,Og);n.yn(r,i)},removeEventListener:function(t,i){var r=Vg(t,Og);n.fn(r,i)}};return n=new ia(r),t.yn(i,(function(t){return n.yo(t.ga)})),r}function xw(){}function Lw(t){return Eg(Pw(t),{get align(){return t.OO},get line(){return t.FO},get lineAlign(){return t.VO},get position(){return t.uo},get positionAlign(){return t.WO},get region(){return t.UO?t.UO.ga:null},get size(){return t.Rb},get snapToLines(){return t.GO},get text(){return t.U},get vertical(){return t.Pt}})}F(),Tt(),Dt(),Rt(),F(),Tt(),Rt();var Mw=function(t){function n(n){return t.call(this,Cw.eC,n)||this}return It(n,t),n.prototype.ma=function(){return new Ow(this.DO.ga)},n}(Nw),Ow=function(t){function n(n){return t.call(this,"update",n)||this}return It(n,t),n}(Dw);F(),Tt(),Rt();var Bw=function(t){function n(n){var i;return(i=t.call(this,kg.GI)||this).DO=n,i}return It(n,t),n.prototype.ma=function(){return new Vw(this.DO.ga)},n}(gg),Vw=function(t){function n(n){var i;return(i=t.call(this,"updatecue")||this).cue=n,i}return It(n,t),n}(wg),Fw=.02;function Uw(t,n){return ur(t.HO,n.HO,Fw)&&ur(t.ZO,n.ZO,Fw)&&t.o===n.o}var Ww=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).Za=void 0,s.zO=void 0,s.Kh=!1,s.eF=-1,s.TO=gw(),s.XO=n,s.YO=i,s.HO=n,s.ZO=i,s.KO=r,s.QO=Boolean(e),s.US=null!=u?u:"",s}It(n,t);var i=n.prototype;return i.ma=function(){return Pw(this)},i.JO=function(t){return this===t||Cg(this,t)&&Uw(this,t)&&this.$O(t)},i.$O=function(t){return Rg(this.U,t.U)},i.tF=function(t,n){this.XO=t,this.YO=n,this.HO=t,this.ZO=n},i.gn=function(){this.Bo()},Nt(n,[{key:"LO",get:function(){return this.XO},set:function(t){var n,i;this.XO!==t&&(this.XO=t,null==(n=this.zO)||n.qO(this),this.yo(new Mw(this)),null==(i=this.zO)||i.yo(new Bw(this)))}},{key:"BO",get:function(){return this.YO},set:function(t){var n,i;this.YO!==t&&(this.YO=t,null==(n=this.zO)||n.qO(this),this.yo(new Mw(this)),null==(i=this.zO)||i.yo(new Bw(this)))}},{key:"o",get:function(){return this.US}},{key:"TC",get:function(){return this.TO}},{key:"ga",get:function(){return this.Za||(this.Za=this.ma()),this.Za}},{key:"Yh",get:function(){return this.Kh},set:function(t){this.Kh=t}},{key:"Ht",get:function(){return this.zO},set:function(t){this.zO=t}},{key:"U",get:function(){return this.KO},set:function(t){var n;this.KO!==t&&(this.KO=t,this.yo(new Mw(this)),null==(n=this.zO)||n.yo(new Bw(this)))}},{key:"jO",get:function(){return this.QO},set:function(t){this.QO=t}}]),n}(na);function Zw(t,n){return t.U===n.U&&t.FO===n.FO&&t.VO===n.VO&&t.uo===n.uo&&t.WO===n.WO&&t.UO===n.UO&&t.GO===n.GO&&t.Rb===n.Rb&&t.OO===n.OO&&t.Pt===n.Pt}var Xw=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i,r,e,u)||this).FO="auto",s.VO="start",s.uo="auto",s.WO="auto",s.UO=void 0,s.GO=!0,s.Rb=100,s.OO="center",s.Pt="",s}return It(n,t),n.prototype.$O=function(t){return Zw(this,t)},Nt(n,[{key:"ga",get:function(){return this.Za||(this.Za=Lw(this)),this.Za}},{key:"pw",get:function(){return Tw.IO}}]),n}(Ww);function Gw(t){var n=t.FO,i=ei(n);return i&&!t.GO&&(n<0||n>100)?100:i?Number(n):t.GO?-1:100}function Hw(t){return Rw(t.uo,t.OO)}function zw(t){return Iw(t.WO,t.OO)}function Yw(t){var n,i=zw(t),r=Hw(t);switch(i){case"line-left":n=100-r;break;case"line-right":n=r;break;case"center":n=r<=50?2*r:2*(100-r)}return k.min(t.Rb,n)}function jw(t){return{get id(){return t.o},get identifier(){return t.o},get lines(){return t.iF},get regionAnchorX(){return t.sF},get regionAnchorY(){return t.nF},get scrollValue(){return t.rF},get viewportAnchorX(){return t.oF},get viewportAnchorY(){return t.hF},get width(){return t.ji}}}F(),Tt(),Dt(),F(),Tt();var Kw=function(){function t(t,n,i,r,e,u,s,o){this.o=t,this.ji=n,this.iF=i,this.sF=r,this.nF=e,this.oF=u,this.hF=s,this.rF=o}return Nt(t,[{key:"ga",get:function(){return this.Za||(this.Za=jw(this)),this.Za}},{key:"pw",get:function(){return Tw.CO}}]),t}();F(),Tt(),F(),Tt();var qw=1e6,Jw=function(){function t(){}var n=t.prototype;return n.aF=function(t){return this.uF()*t},n.cF=function(t){return this.lF(t)>0},n.dF=function(t){return this.lF(t)>=0},n.fF=function(t,n){return this.vF(t)._F(n)},n.JO=function(t){return 0===this.lF(t)},n.mF=function(t){return this.lF(t)<0},n._F=function(t){return this.lF(t)<=0},n.gF=function(){return this.pF()?this.wF():this},n.yF=function(t){return this.yO(t.wF())},n.vF=function(t){return this.yF(t).gF()},t}();function Qw(t,n){return t.bF()?n.bF()?io.Zr:io.Pw:n.bF()?io.Dw:t.AF()?n.AF()&&t.pF()===n.pF()?io.Zr:t.pF()?io.Dw:io.Pw:n.pF()?io.Pw:io.Dw}F(),Tt(),Rt(),nn(),F(),Tt(),nn();var $w=4294967296,tm=$w*$w,nm=tm*tm,im=nm/2,rm=function(){function t(t,n){this.MF=t,this.DF=n}var n=t.prototype;return n.PF=function(){return this.DF.unsigned},n.NF=function(){return this.MF.isZero()&&this.DF.isZero()},n.pF=function(){return this.DF.isNegative()},n.LF=function(){return this.PF()?t.SF(this.MF,this.DF,!1):this},n.BF=function(){return this.PF()?this:t.SF(this.MF,this.DF,!0)},n.OF=function(){return this.MF},n.uF=function(){return this.pF()?-this.wF().uF():this.DF.toNumber()*tm+this.MF.toUnsigned().toNumber()},n.FF=function(){return this.MF.toInt()},n.JO=function(t){return(this.PF()===t.PF()||this.DF.getHighBits()>>>31!=1||t.DF.getHighBits()>>>31!=1)&&(this.DF.toUnsigned().eq(t.DF.toUnsigned())&&this.MF.toUnsigned().eq(t.MF.toUnsigned()))},n.lF=function(t){if(this.JO(t))return io.Zr;var n=this.pF(),i=t.pF();if(n&&!i)return io.Dw;if(!n&&i)return io.Pw;if(!this.PF())return this.yF(t).pF()?io.Dw:io.Pw;var r=this.BF(),e=t.BF(),u=e.DF.comp(r.DF);return u>0||0===u&&e.MF.gt(r.MF)?io.Dw:io.Pw},n.mF=function(t){return this.lF(t)<0},n._F=function(t){return this.lF(t)<=0},n.VF=function(t){return this.lF(t)>0},n.WF=function(t){return this.lF(t)>=0},n.UF=function(){return new t(this.MF.not(),this.DF.not())},n.GF=function(n){return new t(this.MF.and(n.MF),this.DF.and(n.DF))},n.HF=function(n){return new t(this.MF.or(n.MF),this.DF.or(n.DF))},n.ZF=function(n){var i=127&n;return 0===i?this:i<64?t.SF(this.MF.shl(i),this.DF.shl(i).or(this.MF.shru(64-i)),this.PF()):t.SF(tr.ZERO,this.MF.shl(i-64),this.PF())},n.XF=function(n){var i=127&n;return 0===i?this:i<64?t.SF(this.MF.shru(i).or(this.DF.shl(64-i)),this.DF.shr(i),this.PF()):t.SF(this.DF.shr(i-64),this.DF.isNegative()?tr.NEG_ONE:tr.ZERO,this.PF())},n.zF=function(n){var i=127&n;return 0===i?this:i<64?t.SF(this.MF.shru(i).or(this.DF.shl(64-i)),this.DF.shru(i),this.PF()):64===i?t.SF(this.DF,tr.ZERO,this.PF()):t.SF(this.DF.shru(i-64),tr.ZERO,this.PF())},n.yO=function(n){var i=this.DF.high>>>16,r=65535&this.DF.high,e=this.DF.low>>>16,u=65535&this.DF.low,s=this.MF.high>>>16,o=65535&this.MF.high,a=this.MF.low>>>16,c=65535&this.MF.low,h=n.DF.high>>>16,f=65535&n.DF.high,v=n.DF.low>>>16,d=65535&n.DF.low,l=n.MF.high>>>16,g=65535&n.MF.high,w=n.MF.low>>>16,m=0,y=0,p=0,_=0,b=0,k=0,A=0,T=0;A+=(T+=c+(65535&n.MF.low))>>>16,T&=65535,k+=(A+=a+w)>>>16,A&=65535,b+=(k+=o+g)>>>16,k&=65535,_+=(b+=s+l)>>>16,b&=65535,p+=(_+=u+d)>>>16,_&=65535,y+=(p+=e+v)>>>16,p&=65535,m+=(y+=r+f)>>>16,y&=65535,m+=i+h,m&=65535;var S=this.PF(),E=tr.fromBits(p<<16|_,m<<16|y,S),I=tr.fromBits(A<<16|T,b<<16|k,S);return t.SF(I,E,S)},n.yF=function(t){return this.yO(t.wF())},n.wF=function(){return this.UF().yO(t.qF)},n.YF=function(n){if(this.NF()||n.NF())return this.PF()?t.EF:t.xF;if(this.pF())return n.pF()?this.wF().YF(n.wF()):this.wF().YF(n).wF();if(n.pF())return this.YF(n.wF()).wF();if(this.DF.isZero()&&0===this.MF.high&&n.DF.isZero()&&0===n.MF.high)return t.TF(this.MF.multiply(n.MF));var i=tr.fromBits(4294967295,0,!0),r=this.MF.and(i),e=this.MF.shru(32),u=this.DF.and(i),s=this.DF.shru(32),o=n.MF.and(i),a=n.MF.shru(32),c=n.DF.and(i),h=n.DF.shru(32),f=tr.UZERO,v=tr.UZERO,d=tr.UZERO,l=tr.UZERO;f=f.add(r.mul(o)),v=v.add(f.shru(32)),f=f.and(i),v=v.add(e.mul(o)),d=d.add(v.shru(32)),v=(v=v.and(i)).add(r.mul(a)),d=d.add(v.shru(32)),v=v.and(i),d=d.add(u.mul(o)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(e.mul(a)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(r.mul(c)),l=l.add(d.shru(32)),d=d.and(i),l=l.add(s.mul(o)).add(u.mul(a)).add(e.mul(c)).add(r.mul(h)).and(i);var g=tr.fromBits(f.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),w=tr.fromBits(d.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0);return t.SF(g,w,this.PF())},n.KF=function(n){var i,r,e=n;if(e.NF())throw new RangeError("division by zero");if(this.NF())return this.PF()?[t.EF,t.EF]:[t.xF,t.xF];if(this.PF()){if(e.PF()||(e=e.BF()),e.VF(this))return[t.EF,this];if(e.VF(this.zF(1)))return[r=t.jF,i=this.yF(e)];r=t.EF}else{if(this.JO(t.IF)){if(e.JO(t.qF)||e.JO(t.QF))return[t.IF,t.xF];if(e.JO(t.IF))return[t.qF,t.xF];var u=this.XF(1).JF(e).ZF(1);return u.JO(t.xF)?r=e.pF()?t.qF:t.QF:(i=this.yF(e.YF(u)),r=u.yO(i.JF(e))),[r,i=this.yF(e.YF(r))]}if(e.JO(t.IF))return this.PF()?[t.EF,this]:[t.xF,this];var s,o;if(this.pF())return e.pF()?this.wF().KF(e.wF()):(r=(s=tn(this.wF().KF(e),2))[0],i=s[1],[r.wF(),i.wF()]);if(e.pF())return r=(o=tn(this.KF(e.wF()),2))[0],i=o[1],[r.wF(),i.wF()];r=t.xF}for(i=this;i.WF(e);){for(var a=k.max(1,k.floor(i.uF()/e.uF())),c=k.ceil(k.log(a)/k.LN2),h=c<=48?1:k.pow(2,c-48),f=t.kF(a),v=f.YF(e);v.pF()||v.VF(i);)a-=h,v=(f=t.kF(a,this.PF())).YF(e);f.NF()&&(f=t.qF),r=r.yO(f),i=i.yF(v)}return[r,i]},n.JF=function(t){return this.KF(t)[0]},n.tV=function(t){return this.KF(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.NF())return"0";if(this.pF()){if(this.JO(t.IF)){var r=t.kF(i),e=this.JF(r),u=e.YF(r).yF(this);return e.toString(i)+u.FF().toString(i)}return"-"+this.wF().toString(i)}for(var s=t.kF(k.pow(i,6),this.PF()),o=this,a="";;){var c=o.JF(s),h=(o.yF(c.YF(s)).FF()>>>0).toString(i);if((o=c).NF())return h+a;for(;h.length<6;)h="0"+h;a=String(h)+a}},t.SF=function(n,i,r){return r?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.TF=function(n){return n.unsigned?new t(n,tr.UZERO):new t(n,n.isNegative()?tr.NEG_ONE:tr.ZERO)},t.kF=function(n,i){if(S(n))return i?t.EF:t.xF;if(i){if(n<0)return t.EF;if(n>=nm)return t.RF}else{if(n<=-im)return t.IF;if(n+1>=im)return t.CF}return n<0?t.kF(-n,i).wF():t.SF(tr.fromNumber(n%tm),tr.fromNumber(n/tm),i)},t}();rm.xF=rm.TF(tr.ZERO),rm.EF=rm.TF(tr.UZERO),rm.qF=rm.TF(tr.ONE),rm.jF=rm.TF(tr.UONE),rm.QF=rm.TF(tr.NEG_ONE),rm.CF=rm.SF(tr.NEG_ONE,tr.MAX_VALUE,!1),rm.RF=rm.SF(tr.MAX_UNSIGNED_VALUE,tr.MAX_UNSIGNED_VALUE,!0),rm.IF=rm.SF(tr.ZERO,tr.MIN_VALUE,!1),F(),Tt(),Dt();var em=function(){function t(t,n){void 0===n&&(n=1),this.eV=t,this.lN=n}var n=t.prototype;return n.yO=function(n){return this.lN>=n.lN?new t(this.eV+n.oV(this.lN).eV,this.lN):new t(this.oV(n.lN).eV+n.eV,n.lN)},n.cF=function(t){return t.mF(this)},n.dF=function(t){return t._F(this)},n.vF=function(n){return this.lN>=n.lN?new t(k.abs(this.eV-n.oV(this.lN).eV),this.lN):n.vF(this)},n.fF=function(t,n){return this.vF(t)._F(n)},n.lF=function(t){return function(t,n){return t.lN>=n.lN?so(t.eV,n.oV(t.lN).eV):so(t.oV(n.lN).eV,n.eV)}(this,t)},n.JO=function(t){return 0===this.lF(t)},n.mF=function(t){return this.lF(t)<0},n._F=function(t){return this.lF(t)<=0},n.oV=function(n){return new t(this.eV*(n/this.lN),n)},n.yF=function(n){return this.lN>=n.lN?new t(this.eV-n.oV(this.lN).eV,this.lN):new t(this.oV(n.lN).eV-n.eV,n.lN)},n.hV=function(n){return new t(this.eV*n,this.lN)},t.iV=function(n){return new t(k.ceil(n.eV),n.lN)},t.sV=function(n){return new t(k.floor(n.eV),n.lN)},t.nV=function(t,n){return t.dF(n)?t:n},t.rV=function(t,n){return t._F(n)?t:n},Nt(t,[{key:"AF",get:function(){return!isFinite(this.eV)}},{key:"sd",get:function(){return this.eV/this.lN}}]),t}();em.ed=new em(1/6,1),em.xF=new em(0),em.aV=new em(1/0),em.uV=1e6;var um=function(t){function n(n,i){var r;return(r=t.call(this)||this).Ix=n.toSigned(),r.lN=i>>>0,r}It(n,t);var i=n.prototype;return i.pF=function(){return this.Ix.isNegative()},i.NF=function(){return 0!==this.lN&&this.Ix.isZero()},i.AF=function(){return 0===this.lN&&!this.Ix.isZero()},i.bF=function(){return 0===this.lN&&this.Ix.isZero()},i.uF=function(){if(0===this.lN)return this.Ix.isZero()?NaN:this.Ix.isNegative()?-1/0:1/0;var t=this.Ix.divide(this.lN),n=this.Ix.subtract(t.multiply(this.lN));return t.toNumber()+n.toNumber()/this.lN},i.OF=function(){if(0===this.lN)throw new p("Failed to convert timestamp");return this.Ix},i.gV=function(){return new Date(0===this.lN?NaN:this.oV(1e3).Ix.toNumber())},i.pV=function(){return new em(0===this.lN?this.uF():this.Ix.toNumber(),this.lN)},i.oV=function(t,i){void 0===i&&(i=om.wV);var r=this.lN;if(r===t)return this;if(0===r)return this;var e=hr(r,t),u=function(t,n,i){var r=tn(t.KF(n),2),e=r[0],u=r[1];if(u.NF())return e;if(i===om.wV)return u.pF()?e.yF(rm.qF):e;if(i===om.yV)return u.pF()?e:e.yO(rm.qF);var s=u.YF(rm.kF(2));return s.pF()?s.wF().mF(n)?e:e.yF(rm.qF):s.mF(n)?e:e.yO(rm.qF)}(rm.TF(this.Ix).YF(rm.kF(t/e)),rm.kF(r/e),i);return new n(u.OF(),t)},i.lF=function(t){if(this===t)return io.Zr;if(0===this.lN||0===t.lN)return Qw(this,t);if(this.NF())return t.NF()?io.Zr:t.pF()?io.Pw:io.Dw;if(t.NF())return this.pF()?io.Dw:io.Pw;var n=k.min(this.lN,t.lN),i=this.oV(n,om.bV).Ix,r=t.oV(n,om.bV).Ix;return i.compare(r)},i.wF=function(){return 0===this.lN?function(t){0;return t.bF()?t:t.pF()?um.dV:um.fV}(this):new n(this.Ix.negate(),this.lN)},i.yO=function(t){if(0===this.lN||0===t.lN)return function(t,n){0;if(t.bF()||n.bF())return um.lV;if(t.AF()&&n.AF())return t.pF()===n.pF()?t:um.lV;return t.AF()?t:n}(this,t);if(this.NF())return t;if(t.NF())return this;var i=k.max(this.lN,t.lN),r=this.oV(i,om.bV),e=t.oV(i,om.bV);return new n(r.Ix.add(e.Ix),i)},i.YF=function(t){if(this.bF()||S(t))return n.lV;if(this.AF()||!isFinite(t)){if(this.NF()||0===t)return n.lV;var i=this.pF()?n.fV:n.dV;return t<0?i.wF():i}return this.NF()?this:new n(0===t?tr.ZERO:this.Ix.multiply(t),this.lN)},i.JF=function(t){if(this.bF()||S(t))return n.lV;if(this.AF())return isFinite(t)?0===t?1/t<0?this.wF():this:t<0?this.wF():this:n.lV;if(!isFinite(t))return new n(tr.ZERO,this.lN);if(this.NF())return 0===t?n.lV:new n(tr.ZERO,this.lN);if(0===t){var i=this.pF()?n.fV:n.dV;return 1/t<0?i.wF():i}return new n(this.Ix.divide(t),this.lN)},i.AV=function(){return[this.Ix.low,this.Ix.high,this.lN]},n.cV=function(t,i){return void 0===i&&(i=qw),n.kF(t*i,i)},n.kF=function(t,i){return S(t)?n.lV:t===1/0?n.dV:t===-1/0?n.fV:new n(tr.fromNumber(t),i)},n.TF=function(t,i){return new n(t,i)},n._V=function(t){return n.cV(t.sd,qw)},n.vV=function(t){return new n(tr.fromNumber(t.getTime()),1e3)},n.nV=function(t,n){return t.dF(n)?t:n},n.rV=function(t,n){return t._F(n)?t:n},n.mV=function(t,i,r){return n.nV(i,n.rV(r,t))},n}(Jw);um.xF=new um(tr.ZERO,qw),um.lV=new um(tr.ZERO,0),um.dV=new um(tr.ONE,0),um.fV=new um(tr.NEG_ONE,0),F(),Tt(),Dt(),Rt(),at();var sm=function(t){function n(n,i){var r;return(r=t.call(this)||this).Ix=BigInt.asIntN(64,n),r.lN=i>>>0,r}It(n,t);var i=n.prototype;return i.pF=function(){return this.Ix<BigInt(0)},i.NF=function(){return 0!==this.lN&&this.Ix===BigInt(0)},i.AF=function(){return 0===this.lN&&this.Ix!==BigInt(0)},i.bF=function(){return 0===this.lN&&this.Ix===BigInt(0)},i.uF=function(){if(0===this.lN)return this.Ix===BigInt(0)?NaN:this.Ix<BigInt(0)?-1/0:1/0;var t=this.Ix/BigInt(this.lN),n=this.Ix-t*BigInt(this.lN);return Number(t)+Number(n)/this.lN},i.OF=function(){if(0===this.lN)throw new p("Failed to convert timestamp");return this.xV()},i.xV=function(){var t=this.Ix&BigInt(4294967295),n=this.Ix>>BigInt(32)&BigInt(4294967295);return tr.fromBits(Number(t),Number(n))},i.gV=function(){return new Date(0===this.lN?NaN:Number(this.oV(1e3).Ix))},i.pV=function(){return new em(0===this.lN?this.uF():Number(this.Ix),this.lN)},i.oV=function(t,i){void 0===i&&(i=om.wV);var r=this.lN;if(r===t)return this;if(0===r)return this;var e=hr(r,t),u=function(t,n,i){var r=t/n,e=t-r*n;if(e===BigInt(0))return r;if(i===om.wV)return e<BigInt(0)?r-BigInt(1):r;if(i===om.yV)return e<BigInt(0)?r:r+BigInt(1);var u=e*BigInt(2);return u<BigInt(0)?-u<n?r:r-BigInt(1):u<n?r:r+BigInt(1)}(this.Ix*BigInt(t/e),BigInt(r/e),i);return new n(u,t)},i.lF=function(t){if(this===t)return io.Zr;if(0===this.lN||0===t.lN)return Qw(this,t);if(this.NF())return t.NF()?io.Zr:t.pF()?io.Pw:io.Dw;if(t.NF())return this.pF()?io.Dw:io.Pw;var n=k.min(this.lN,t.lN),i=this.oV(n,om.bV).Ix,r=t.oV(n,om.bV).Ix;return i>r?io.Pw:i<r?io.Dw:io.Zr},i.wF=function(){return 0===this.lN?function(t){0;return t.bF()?t:t.pF()?sm.dV:sm.fV}(this):new n(-this.Ix,this.lN)},i.yO=function(t){if(0===this.lN||0===t.lN)return function(t,n){0;if(t.bF()||n.bF())return sm.lV;if(t.AF()&&n.AF())return t.pF()===n.pF()?t:sm.lV;return t.AF()?t:n}(this,t);if(this.NF())return t;if(t.NF())return this;var i=k.max(this.lN,t.lN),r=this.oV(i,om.bV),e=t.oV(i,om.bV);return new n(r.Ix+e.Ix,i)},i.YF=function(t){if(this.bF()||S(t))return n.lV;if(this.AF()||!isFinite(t)){if(this.NF()||0===t)return n.lV;var i=this.pF()?n.fV:n.dV;return t<0?i.wF():i}return this.NF()?this:new n(0===t?BigInt(0):this.Ix*BigInt(t),this.lN)},i.JF=function(t){if(this.bF()||S(t))return n.lV;if(this.AF())return isFinite(t)?0===t?1/t<0?this.wF():this:t<0?this.wF():this:n.lV;if(!isFinite(t))return new n(BigInt(0),this.lN);if(this.NF())return 0===t?n.lV:new n(BigInt(0),this.lN);if(0===t){var i=this.pF()?n.fV:n.dV;return 1/t<0?i.wF():i}return new n(this.Ix/BigInt(t),this.lN)},i.AV=function(){var t=this.xV();return[t.low,t.high,this.lN]},n.cV=function(t,i){return void 0===i&&(i=qw),n.kF(t*i,i)},n.kF=function(t,i){return S(t)?n.lV:t===1/0?n.dV:t===-1/0?n.fV:new n(BigInt(k.floor(t)),i)},n.TF=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n._V=function(t){return n.cV(t.sd,qw)},n.vV=function(t){return n.kF(t.getTime(),1e3)},n.nV=function(t,n){return t.dF(n)?t:n},n.rV=function(t,n){return t._F(n)?t:n},n.mV=function(t,i,r){return n.nV(i,n.rV(r,t))},Nt(n,null,[{key:"xF",get:function(){return n.SV||(n.SV=new n(BigInt(0),qw)),n.SV}},{key:"lV",get:function(){return n.TV||(n.TV=new n(BigInt(0),0)),n.TV}},{key:"dV",get:function(){return n.kV||(n.kV=new n(BigInt(1),0)),n.kV}},{key:"fV",get:function(){return n.EV||(n.EV=new n(BigInt(-1),0)),n.EV}}]),n}(Jw);sm.SV=void 0,sm.TV=void 0,sm.kV=void 0,sm.EV=void 0;var om=function(t){return t[t.wV=0]="wV",t[t.yV=1]="yV",t[t.bV=2]="bV",t}({}),am=function(){try{return"function"==typeof BigInt&&"bigint"===U(BigInt(0))}catch(t){return!1}}()?sm:um;function cm(t,n){return t.lF(n)}function hm(t,n){return void 0!==t?void 0!==n?am.rV(t,n):t:n}F(),Tt();var fm=9e4,vm=k.pow(2,33),dm=Ai((function(){return am.kF(vm,fm)})),lm=Ai((function(){return dm().JF(2)}));F(),Tt();var gm={RV:0,CV:1/0,PV:0},wm=6,mm=["WEBVTT","WEBVTT ","WEBVTT\t","WEBVTT\n"],ym=[" ","\t","\n","\f","\r"],pm=/^\d*$/,_m=/.*[0-9]+.*/,bm=/^[\d.-]+$/,km=/(^\.|\.$)/,Am=/(\D\.|\.\D)/;function Tm(t,n,i){return void 0===n&&(n=gm),void 0===i&&(i=!0),Sm(wc(pc(t),new Ec),n,i)}function Sm(t,n,i){void 0===n&&(n=gm),void 0===i&&(i=!0);var r={L:[],DV:[],NV:[]},e=Em(t),u=new Ec;if(Vm(e),Im(e,(function(t){return"\n"!==t}),u),u.tc>=e.length)return r;(u.Ab(1),"\n"!==e.charAt(u.tc))?Pm(Rm(e,u,false,!0,r,n,i),r):u.Ab(1);for(Im(e,(function(t){return"\n"===t}),u);u.tc<e.length;){Pm(Rm(e,u,false,!1,r,n,i),r),Im(e,(function(t){return"\n"===t}),u)}return r}function Em(t){var n=Ms(t,"\0"," "),i=Ms(n,"\r\n","\n");return Ms(i,"\r","\n")}function Im(t,n,i){for(var r=i.tc;i.tc<t.length&&n(t.charAt(i.tc));)i.Ab(1);return t.substring(r,i.tc)}function Rm(t,n,i,r,e,u,s){for(var o,a=0,c=n.tc,h="",f=!1,v=!1,d=null,l=null,g=null;!f;)if(o=Im(t,(function(t){return"\n"!==t}),n),a++,n.tc>=t.length?f=!0:n.Ab(1),Os(o,"--\x3e")){if(r||1!==a&&(2!==a||v)){n.Sb(c);break}v=!0,c=n.tc,d=new Xw(0,0,"",!1,h);try{xm(o,e.DV,d,u,s),h=""}catch(t){Kn.Mp(t),d=null}}else{if(""===o)break;r&&Bs(o,"X-TIMESTAMP-MAP")&&(e.MV=Cm(o)),r||2!==a||i||(Fs("STYLE",h.replace(/ /g,""))?(l={pw:Tw.PO},h=""):Fs("REGION",h.replace(/ /g,""))&&(g=new Kw("",100,3,0,100,0,100,""),h="")),h&&(h+="\n"),h+=o,c=n.tc}if(d)return d.U=h,d;if(l);else if(g)return function(t,n){for(var i=t.split(/\s/),r=":",e=0;e<i.length;e++){var u=i[e];if(0!==u.length&&Os(u,r)&&u.charAt(0)!==r&&u.charAt(u.length-1)!==r){var s=u.indexOf(r),o=u.substring(0,s),a=u.substring(s+1,u.length);switch(o.toUpperCase()){case"ID":qm(a,n);break;case"WIDTH":$m(a,n);break;case"LINES":Qm(a,n);break;case"REGIONANCHOR":var c=Km(a);c&&(n.sF=c[0],n.nF=c[1]);break;case"VIEWPORTANCHOR":var h=Km(a);h&&(n.oF=h[0],n.hF=h[1]);break;case"SCROLL":Jm(a,n)}}}}(h,g),g;return null}function Cm(t){var n,i=t.split("=")[1].trim().split(","),r=Dm(i[0].trim(),"MPEGTS")?i[0]:i[1],e=Dm(i[0].trim(),"LOCAL")?i[0]:i[1];return{LV:Nm(Number(r.split(/:(.*)/)[1].trim())||0),lh:am.cV(null!=(n=Om(e.split(/:(.*)/)[1].trim(),new Ec))?n:0)}}function Nm(t){return am.kF(t,fm)}function Dm(t,n){return Bs(t,n)}function Pm(t,n){t&&function(t){return"cue"===t.pw}(t)?n.L.push(t):t&&function(t){return"region"===t.pw}(t)?n.DV.push(t):t&&function(t){return"stylesheet"===t.pw}(t)&&n.NV.push(t)}function xm(t,n,i,r,e){var u=new Ec;Um(t,u);var s=Lm(Om(t,u),r,e);if(Um(t,u),"--\x3e"!==t.substring(u.tc,u.tc+3))throw p("Something went wrong with parsing a WebVTT Cue");u.Ab(3),Um(t,u);var o=Lm(Om(t,u),r,e);i.tF(s,o),function(t,n,i){for(var r=t.split(/\s/),e=":",u=0;u<r.length;u++){var s=r[u];if(0!==s.length&&Os(s,e)&&s.charAt(0)!==e&&s.charAt(s.length-1)!==e){var o=s.indexOf(e),a=s.substring(0,o),c=s.substring(o+1,s.length);switch(a.toUpperCase()){case"REGION":Hm(c,n,i);break;case"VERTICAL":Ym(c,n);break;case"D":jm(c,n);break;case"LINE":case"L":Xm(c,n);break;case"POSITION":case"T":Gm(c,n);break;case"SIZE":case"S":zm(c,n);break;case"ALIGN":case"A":Zm(c,n)}}}}(t.substring(u.tc,t.length),i,n)}function Lm(t,n,i){return i?t+n.RV:t}function Mm(t){return/^[0-9]$/.test(t)}function Om(t,n){var i,r,e,u=Ms(t,",","."),s=!1;if(n.tc>=u.length||!Mm(u.charAt(n.tc)))throw new p("Something went wrong with parsing a WebVTT Cue timestamp");var o=Im(u,Mm,n),a=A(o,10);if((o.length>2||a>59)&&(s=!0),n.tc>=u.length||":"!==u.charAt(n.tc))throw new p("Something went wrong with parsing a WebVTT Cue timestamp");n.Ab(1);var c=Im(u,Mm,n);if(2!==c.length)throw new p("Something went wrong with parsing a WebVTT Cue timestamp");var h=A(c,10);if(s||n.tc<u.length&&":"===u.charAt(n.tc)){if(n.tc>=u.length||":"!==u.charAt(n.tc))throw new p("Something went wrong with parsing a WebVTT Cue timestamp");n.Ab(1);var f=Im(u,Mm,n);if(2!==c.length)throw new p("Something went wrong with parsing a WebVTT Cue timestamp");i=a,r=h,e=A(f,10)}else i=0,r=a,e=h;if(n.tc>=u.length||"."!==u.charAt(n.tc))throw new p("Something went wrong with parsing a WebVTT Cue timestamp");n.Ab(1);var v=Im(u,Mm,n),d=A(v,10);if(h>59||e>59)throw new p("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*r+e+d/1e3}function Bm(t){return Vm(Em(t))}function Vm(t){if(t.length<wm)return!1;for(var n=0;n<mm.length;n++){var i=mm[n];if(Bs(t,i))return!0}return!1}function Fm(t){return mo(ym,t)}function Um(t,n){for(;n.tc<t.length&&Fm(t.charAt(n.tc));)n.Ab(1)}function Wm(t){var n=t.lastIndexOf("%");if(n>-1){var i=T(t.substring(0,n));if(!S(i)&&i>=0&&i<=100)return i}return null}function Zm(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.OO=i;break;case"middle":n.OO="center"}}function Xm(t,n){var i,r,e=t.indexOf(",");if(e>=0?(i=t.substring(0,e),r=t.substring(e+1,t.length)):(i=t,r=""),_m.test(i)){var u,s;if(Vs(i,"%")){var o=Wm(i);if(null===o)return;u=o,s=!1}else{if(!bm.test(i)||i.lastIndexOf("-")>0)return;var a=i.indexOf(".");if(a>=0&&(a!==i.lastIndexOf(".")||!Am.test(i)||km.test(i)))return;if(u=T(i),S(u))return;s=!0}switch(n.FO=u,n.GO=s,r=r.toLowerCase()){case"start":case"center":case"end":n.VO=r;break;case"middle":n.VO="center"}}}function Gm(t,n){var i,r,e=t.indexOf(",");e>=0?(i=t.substring(0,e),r=t.substring(e+1,t.length)):(i=t,r="");var u=Wm(i);if(null!==u)switch(n.uo=u,r=r.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.WO=r;break;case"start":n.WO="line-left";break;case"middle":n.WO="center";break;case"end":n.WO="line-right"}}function Hm(t,n,i){var r=ho(i,(function(n){return n.o===t}));void 0!==r&&(n.UO=r)}function zm(t,n){var i=Wm(t);null!==i&&(n.Rb=i)}function Ym(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.Pt="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.Pt="lr";break;default:n.Pt=""}}function jm(t,n){"VERTICAL"===t.toUpperCase()?n.Pt="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.Pt="lr")}function Km(t){if(t.indexOf(",")>=0){var n=Wm(t.substring(0,t.indexOf(","))),i=Wm(t.substring(t.indexOf(",")+1,t.length));return[er(n||0,0,100),er(i||100,0,100)]}return null}function qm(t,n){n.o=t}function Jm(t,n){"up"===t.toLowerCase()&&(n.rF="up")}function Qm(t,n){pm.test(t)&&(n.iF=A(t))}function $m(t,n){var i=Wm(t);null!==i&&(n.ji=i)}F(),Tt(),nn(),F(),Tt(),F(),Tt();var ty=function(t){return t.dP="moov",t.fP="mvhd",t._P="trak",t.vP="tkhd",t.mP="mdia",t.gP="mdhd",t.pP="hdlr",t.wP="minf",t.yP="stbl",t.bP="stsd",t.AP="stsc",t.SP="mvex",t.TP="trex",t.kP="avc1",t.EP="avcC",t.xP="hev1",t.RP="hvc1",t.IP="hvcC",t.CP="vp09",t.PP="vpcC",t.DP="av01",t.NP="av1C",t.MP="dvcC",t.LP="dvvC",t.BP="dvwC",t.OP="dec3",t.FP="dvav",t.VP="dva1",t.WP="dvhe",t.UP="dvh1",t.GP="ec-3",t.HP="colr",t.ZP="pasp",t.zP="mp4a",t.qP="esds",t.YP="fLaC",t.KP="dfLa",t.jP="wvtt",t.QP="vttC",t.JP="vlab",t.$P="enca",t.tD="encv",t.eD="moof",t.iD="mfhd",t.sD="traf",t.nD="tfhd",t.rD="trun",t.oD="tfdt",t.hD="senc",t.aD="mdat",t.uD="pssh",t.cD="emsg",t.lD="sidx",t.dD="styp",t.fD="ftyp",t._D="sinf",t.vD="frma",t}({}),ny=function(t){return t.ON_SCREEN_COLOURS="nclx",t.RESTRICTED_ICC_PROFILE="rICC",t.UNRESTRICED_ICC_PROFILE="prof",t}({}),iy=function(t){return t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=65536]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF",t}({}),ry=function(t){return t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT",t}({});F(),Tt();var ey=function(){function t(t,n){this.Zk=t,this.gD=n}var n=t.prototype;return n.mD=function(){return Va(this.Zk,this.gD)},n.pD=function(){return Ha(this.Zk,this.gD)},n.wD=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt16(n.tc,i);return n.Ab(2),r}(this.Zk,this.gD)},n.yD=function(){return Ya(this.Zk,this.gD)},n.bD=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt32(n.tc,i);return n.Ab(4),r}(this.Zk,this.gD)},n.SD=function(){return Ka(this.Zk,this.gD)},n.TD=function(t){return Ua(this.Zk,this.gD,t)},n.kD=function(t){return function(t,n,i){for(var r=[],e=0;e<i;e++)r.push(Ya(t,n));return r}(this.Zk,this.gD,t)},n.ED=function(t){return Qa(this.Zk,this.gD,t)},n.xD=function(){return dc(this.Zk,this.gD)},n.RD=function(t){this.gD.Ab(t)},n.Tb=function(){return new t(this.Zk,this.gD.Tb())},t}();F(),Tt(),Dt(),Rt(),F(),Tt();function uy(t,n){return t.pw===n}function sy(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(uy(r,n))return r}}var oy=function(t){function n(n,i){var r;return(r=t.call(this)||this).CD=n,r.PD=i,r}return It(n,t),Nt(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(xo),ay=function(){function t(){}return t.DD=function(n){var i=n.Zk,r=n.gD,e=t.ND(i,r,!1);if(!e.MD)throw new oy(r.tc,e.m);return e.m},t.ND=function(n,i,r){for(var e=[];i.tc<n.byteLength;){var u=t.LD(n,i,r);if(!u.MD)return{MD:!1,m:e};e.push(u.BD)}return{MD:!0,m:e}},t.OD=function(n,i){var r=t.LD(n,i,!1);if(!r.MD)throw new oy(i.tc);return r.BD},t.FD=function(n,i){for(var r=n.Zk,e=n.gD;e.tc<r.byteLength;){var u=t.LD(r,e,!1);if(!u.MD)return;if(u.BD.pw===i)return u.BD}},t.LD=function(n,i,r){var e=i.tc,u=t.VD(n,i);if(!u.MD)return u;var s=u.WD,o=s.Rb;if(0===o){if(r)return i.Sb(e),{MD:!1,UD:1/0};o=n.byteLength-e}var a=e+o;if(a>n.byteLength){var c=a;return i.Sb(e),{MD:!1,UD:c}}var h={pw:s.pw,tc:e,Zk:new ey(yc(n,e,a),new Ec(s.GD))};return i.Sb(a),{MD:!0,BD:h}},t.VD=function(t,n){var i=n.tc;if(!Za(t,n,8))return{MD:!1,UD:n.tc+8};var r=Ya(t,n),e=Qa(t,n,4);if(1===r){if(!Za(t,n,8)){var u=n.tc+8;return n.Sb(i),{MD:!1,UD:u}}r=Ka(t,n).toNumber()}if("uuid"===e){if(!Za(t,n,16)){var s=n.tc+16;return n.Sb(i),{MD:!1,UD:s}}e=Qa(t,n,16)}return{MD:!0,WD:{pw:e,Rb:r,GD:n.tc-i}}},t.HD=function(t,n,i){var r=t.Zk,e=t.gD,u=mc(_c(r),e.tc,r.byteLength);return i&&(u=Tc(u)),e.Ab(u.byteLength),{pw:n,Zk:u}},t.ZD=function(n,i,r){var e=vy(n.yD());return{pw:i,XD:e.version,zD:e.flags,Zk:t.HD(n,i,r).Zk}},t}();function cy(t,n){var i=hy(t,n);if(!i)throw new p("Missing "+n+" atom");return i}function hy(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.pw===n)return r.Zk}}function fy(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];e.pw===n&&i.push(e.Zk)}return i}function vy(t){return{version:t>>24,flags:new Ma(16777215&t)}}var dy=function(){function t(){}return t.qD=function(n){for(var i=[],r=ay.DD(new ey(n,new Ec)),e=0;e<r.length;e++){var u=r[e],s=t.YD(u);s&&i.push(s)}return i},t.KD=function(t){return ay.ND(t,new Ec,!1).m.some(this.jD)},t.QD=function(n){return fy(ay.DD(new ey(n,new Ec)),ty.uD).map(t.JD)},t.$D=function(n){return fy(ay.DD(n.Zk),ty.uD).map(t.JD)},t.jD=function(t){return t.pw===ty.fD||t.pw===ty.dD||t.pw===ty.dP||t.pw===ty.eD||t.pw===ty.aD||t.pw===ty.lD||t.pw===ty.cD},t.YD=function(n){switch(n.pw){case ty.dP:return t.tN(n.Zk);case ty.eD:return t.eN(n.Zk,n.tc);case ty.aD:return t.iN(n.Zk);case ty.lD:return t.sN(n.Zk);case ty.cD:return t.nN(n.Zk)}},t.tN=function(n){var i=ay.DD(n),r=cy(i,ty.fP),e=fy(i,ty._P),u=hy(i,ty.SP),s=t.rN(r),o=e.map(t.oN),a=u?t.hN(u):void 0;return{pw:ty.dP,WD:s,Z:o,aN:a}},t.rN=function(t){var n=vy(t.yD()),i=n.version,r=n.flags,e=1===i?t.SD():t.yD(),u=1===i?t.SD():t.yD(),s=t.yD(),o=1===i?t.SD():t.yD(),a=t.yD(),c=t.pD()>>8;t.RD(2),t.RD(8);var h=t.kD(9);t.RD(24);var f=t.yD();return{pw:ty.fP,XD:i,zD:r,uN:e,cN:u,lN:s,ct:o,dN:a,dI:c,fN:h,_N:f}},t.oN=function(n){var i=ay.DD(n),r=cy(i,ty.vP),e=cy(i,ty.mP),u=t.vN(r),s=t.mN(e);return{pw:ty._P,WD:u,gN:s}},t.vN=function(t){var n=vy(t.yD()),i=n.version,r=n.flags,e=1===i?t.SD():t.yD(),u=1===i?t.SD():t.yD(),s=t.yD();t.RD(4);var o=1===i?t.SD():t.yD();t.RD(8);var a=t.wD(),c=t.wD(),h=t.wD()/k.pow(2,8);t.RD(2);var f=t.kD(9),v=t.yD()/k.pow(2,16),d=t.yD()/k.pow(2,16);return{pw:ty.vP,pN:r.kb(1),wN:r.kb(2),yN:r.kb(4),uN:e,cN:u,bN:s,ct:o,AN:a,SN:c,dI:h,fN:f,ji:v,Ti:d}},t.mN=function(n){var i=ay.DD(n),r=cy(i,ty.gP),e=cy(i,ty.pP),u=cy(i,ty.wP),s=t.TN(r),o=t.kN(e),a=t.EN(u);return{pw:ty.mP,WD:s,xN:o,RN:a}},t.TN=function(t){var n=vy(t.yD()),i=n.version,r=n.flags,e=1===i?t.SD():t.yD(),u=1===i?t.SD():t.yD(),s=t.yD(),o=1===i?t.SD():t.yD();t.pD();return t.RD(2),{pw:ty.gP,XD:i,zD:r,uN:e,cN:u,lN:s,ct:o}},t.kN=function(t){var n=vy(t.yD()),i=n.version,r=n.flags;t.RD(4);var e=t.ED(4);t.RD(12);var u=t.xD();return{pw:ty.pP,XD:i,zD:r,CN:e,l:u}},t.EN=function(n){var i=cy(ay.DD(n),ty.yP),r=t.PN(i);return{pw:ty.wP,DN:r}},t.PN=function(n){var i=cy(ay.DD(n),ty.bP),r=t.NN(i);return{pw:ty.yP,MN:r}},t.NN=function(n){for(var i=vy(n.yD()),r=i.version,e=i.flags,u=(n.yD(),[]),s=ay.DD(n),o=0;o<s.length;o++){var a=s[o],c=t.LN(a.Zk,a.pw);c&&u.push(c)}return{pw:ty.bP,XD:r,zD:e,BN:u}},t.LN=function(n,i){var r=t.ON(n,i);return r||((r=t.FN(n,i))||(i===ty.jP?t.VN(n):void 0))},t.ON=function(n,i){return i===ty.zP?t.WN(n):i===ty.YP||i===ty.YP.toLowerCase()||i===ty.YP.toUpperCase()?t.UN(n):i===ty.$P?t.GN(n):i===ty.GP?t.HN(n):void 0},t.FN=function(n,i){return i===ty.kP?t.ZN(n):i===ty.xP||i===ty.RP?t.XN(n,i):i===ty.CP?t.zN(n,i):i===ty.DP?t.qN(n,i):i===ty.tD?t.YN(n):i===ty.FP||i===ty.VP||i===ty.WP||i===ty.UP?t.KN(n,i):void 0},t.jN=function(t,n){return t.RD(6),{pw:n,QN:t.pD()}},t.JN=function(n,i){var r=t.jN(n,i);n.RD(8);var e=n.pD(),u=n.pD();return n.RD(2),n.RD(2),$u({},r,{$N:e,tM:u,eM:n.yD()>>>16})},t.iM=function(n,i){var r=t.jN(n,i);n.RD(2),n.RD(2),n.RD(12);var e=n.pD(),u=n.pD(),s=n.yD(),o=n.yD();n.RD(4);var a=n.pD();n.RD(32);var c=n.pD();return n.RD(2),$u({},r,{ji:e,Ti:u,sM:s,nM:o,rM:a,oM:c})},t.WN=function(n){var i=t.JN(n,ty.zP),r=cy(ay.DD(n),ty.qP);return $u({},i,{hM:t.aM(r)})},t.UN=function(n){var i=t.JN(n,ty.YP),r=cy(ay.DD(n),ty.KP);return $u({},i,{uM:t.cM(r)})},t.VN=function(n){var i=t.jN(n,ty.jP),r=ay.DD(n),e=cy(r,ty.QP),u=t.lM(e),s=hy(r,ty.JP);return $u({},i,{dM:u,fM:s?t._M(s):void 0})},t.lM=function(t){return{pw:ty.QP,md:t.xD()}},t._M=function(t){return{pw:ty.JP,kh:t.xD()}},t.aM=function(t){return ay.ZD(t,ty.qP,!0)},t.cM=function(t){return ay.ZD(t,ty.KP,!0)},t.ZN=function(n){var i=t.iM(n,ty.kP),r=ay.DD(n),e=cy(r,ty.EP),u=hy(r,ty.ZP);return $u({},i,{vM:t.mM(e),gM:u?t.pM(u):void 0})},t.XN=function(n,i){var r=t.iM(n,i),e=cy(ay.DD(n),ty.IP);return $u({},r,{wM:t.yM(e)})},t.zN=function(n,i){var r=t.iM(n,i),e=cy(ay.DD(n),ty.PP);return $u({},r,{bM:t.AM(e)})},t.qN=function(n,i){var r=t.iM(n,i),e=ay.DD(n),u=cy(e,ty.NP),s=t.SM(u),o=hy(e,ty.HP);return $u({},r,{TM:s,kM:o?t.EM(o):void 0})},t.YN=function(n){var i=n.Tb(),r=t.iM(n,ty.tD),e=cy(ay.DD(n),ty._D),u=t.xM(e);return $u({},r,{RM:t.FN(i,u.CM.IM),PM:u})},t.KN=function(n,i){var r=t.iM(n,i),e=ay.DD(n);return $u({},r,{DM:t.NM(e)})},t.HN=function(n){var i=t.JN(n,ty.GP),r=cy(ay.DD(n),ty.OP);return $u({},i,{MM:t.LM(r)})},t.GN=function(n){var i=n.Tb(),r=t.JN(n,ty.$P),e=cy(ay.DD(n),ty._D),u=t.xM(e);return $u({},r,{RM:t.ON(i,u.CM.IM),PM:u})},t.xM=function(n){var i=cy(ay.DD(n),ty.vD),r=t.BM(i);return{pw:ty._D,CM:r}},t.BM=function(t){var n=t.ED(4);return{pw:ty.vD,IM:n}},t.mM=function(t){return ay.HD(t,ty.EP,!0)},t.yM=function(t){return ay.HD(t,ty.IP,!0)},t.NM=function(t){var n=hy(t,ty.MP);if(void 0!==n)return ay.HD(n,ty.MP,!0);var i=hy(t,ty.LP);if(void 0!==i)return ay.HD(i,ty.LP,!0);var r=hy(t,ty.BP);if(void 0!==r)return ay.HD(r,ty.BP,!0);throw p("Error parsing Dolby Vision configuration box.")},t.LM=function(t){return ay.HD(t,ty.OP,!0)},t.AM=function(t){return ay.HD(t,ty.PP,!0)},t.SM=function(t){return ay.HD(t,ty.NP,!0)},t.EM=function(t){var n=t.ED(4);switch(n){case"nclx":return{OM:ny.ON_SCREEN_COLOURS,FM:t.pD(),VM:t.pD(),WM:t.pD(),UM:0!=(128&t.mD())};case"rICC":return{OM:ny.RESTRICTED_ICC_PROFILE};case"prof":return{OM:ny.UNRESTRICED_ICC_PROFILE};default:throw p("Could not parse ColourInformationBox: unknown type '"+n+"'.")}},t.pM=function(t){var n=t.yD(),i=t.yD();return{pw:ty.ZP,GM:n,HM:i}},t.hN=function(n){var i=fy(ay.DD(n),ty.TP).map(t.ZM);return{pw:ty.SP,Z:i}},t.ZM=function(t){var n=vy(t.yD()),i=n.version,r=n.flags,e=t.yD(),u=t.yD(),s=t.yD(),o=t.yD(),a=t.yD();return{pw:ty.TP,XD:i,zD:r,bN:e,XM:u,zM:s,qM:o,YM:a}},t.eN=function(n,i){var r=ay.DD(n),e=cy(r,ty.iD),u=fy(r,ty.sD),s=t.KM(e),o=u.map(t.jM);return{pw:ty.eD,QM:i,WD:s,Z:o}},t.KM=function(t){var n=vy(t.yD()),i=n.version,r=n.flags,e=t.yD();return{pw:ty.iD,XD:i,zD:r,JM:e}},t.jM=function(n){var i=ay.DD(n),r=cy(i,ty.nD),e=fy(i,ty.rD),u=hy(i,ty.oD),s=t.$M(r),o=e.map((function(n){return t.tL(n,s)})),a=u?t.eL(u):void 0;return{pw:ty.sD,WD:s,iL:o,sL:a}},t.$M=function(t){var n=vy(t.yD()),i=n.version,r=n.flags,e=t.yD(),u=r.kb(iy.BASE_DATA_OFFSET_PRESENT)?t.SD():void 0,s=r.kb(iy.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.yD():void 0,o=r.kb(iy.DEFAULT_SAMPLE_DURATION_PRESENT)?t.yD():void 0,a=r.kb(iy.DEFAULT_SAMPLE_SIZE_PRESENT)?t.yD():void 0,c=r.kb(iy.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.yD():void 0;return{pw:ty.nD,XD:i,zD:r,bN:e,nL:u,rL:s,zM:o,qM:a,YM:c}},t.tL=function(n,i){for(var r=vy(n.yD()),e=r.version,u=r.flags,s=n.yD(),o=u.kb(ry.DATA_OFFSET_PRESENT)?n.bD():void 0,a=u.kb(ry.FIRST_SAMPLE_FLAGS_PRESENT)?n.yD():void 0,c=[],h=0;h<s;h++){var f=t.oL(n,u,e,i);0===h&&void 0!==a&&(f.zD=a),c.push(f)}return{pw:ty.rD,XD:e,zD:u,hL:s,QM:o,aL:a,uL:c}},t.oL=function(t,n,i,r){return{ct:n.kb(ry.SAMPLE_DURATION_PRESENT)?t.yD():r.zM,Rb:n.kb(ry.SAMPLE_SIZE_PRESENT)?t.yD():r.qM,zD:n.kb(ry.SAMPLE_FLAGS_PRESENT)?t.yD():r.YM,cL:n.kb(ry.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.yD():t.bD():void 0}},t.nN=function(t){var n=t.Zk,i=t.gD,r=vy(Ya(n,i)),e=r.version,u=r.flags;if(1===e){var s=Ya(n,i),o=Ka(n,i),a=Ya(n,i),c=Ya(n,i),h=Ja(n,i),f=Ja(n,i),v=Ac(_c(n),i.tc,n.byteLength);return i.Ab(v.byteLength),{pw:ty.cD,XD:e,zD:u,lL:h,Ix:f,lN:s,dL:o,fL:a,o:c,_L:v}}var d=Ja(n,i),l=Ja(n,i),g=Ya(n,i),w=Ya(n,i),m=Ya(n,i),y=Ya(n,i),p=Ac(_c(n),i.tc,n.byteLength);return i.Ab(p.byteLength),{pw:ty.cD,zD:u,XD:e,lL:d,Ix:l,lN:g,vL:w,fL:m,o:y,_L:p}},t.iN=function(t){return ay.HD(t,ty.aD,!1)},t.JD=function(n){var i=n.Zk,r=n.gD,e=Tc(_c(i)).buffer,u=vy(Ya(i,r)),s=u.version,o=u.flags,a=t.mL(i,r),c=[];if(s>0)for(var h=Ya(i,r),f=0;f<h;f++){var v=Ua(i,r,16);c.push(v)}var d=Ya(i,r),l=new E(e,r.tc,d);return r.Ab(i.byteLength),{pw:ty.uD,XD:s,zD:o,gL:a,pL:c,wL:d,Zk:l,yL:e}},t.mL=function(t,n){for(var i="",r=0;r<4;r++){var e=Va(t,n).toString(16);i+=1===e.length?"0"+e:e}i+="-";for(var u=0;u<2;u++){var s=Va(t,n).toString(16);i+=1===s.length?"0"+s:s}i+="-";for(var o=0;o<2;o++){var a=Va(t,n).toString(16);i+=1===a.length?"0"+a:a}i+="-";for(var c=0;c<2;c++){var h=Va(t,n).toString(16);i+=1===h.length?"0"+h:h}i+="-";for(var f=0;f<6;f++){var v=Va(t,n).toString(16);i+=1===v.length?"0"+v:v}return i.toLowerCase()},t.sN=function(t){var n,i,r=t.Zk,e=t.gD,u=vy(Ya(r,e)),s=u.version,o=u.flags,a=Ya(r,e),c=Ya(r,e);0===s?(n=tr.fromBits(Ya(r,e),0,!0),i=tr.fromBits(Ya(r,e),0,!0)):(n=Ka(r,e),i=Ka(r,e)),e.Ab(2);for(var h=Ha(r,e),f=[],v=0;v<h;v+=1){var d=Ya(r,e),l=d>>31&1,g=2147483647&d,w=Ya(r,e),m=Ya(r,e),y=m>>31&1,p=m>>28&7,_=268435455&m;f.push({bL:l,AL:g,ct:w,SL:y,TL:p,kL:_})}return{pw:ty.lD,XD:s,zD:o,EL:a,lN:c,xL:n,RL:i,IL:h,CL:f}},t.eL=function(t){var n,i=t.Zk,r=t.gD,e=vy(Ya(i,r)),u=e.version,s=e.flags;return n=0===u?tr.fromBits(Ya(i,r),0,!0):Ka(i,r),{pw:ty.oD,XD:u,zD:s,sL:n}},t}();function ly(t){return t&&"Fx"in t?t.Fx:t}F(),Tt(),Dt(),Rt(),F(),Tt();var gy=function(t){function n(n,i,r,e,u,s,o,a){var c;return(c=t.call(this,n,i,r,e)||this).OV=u,c.VV=s,c.WV=o,c.HV=a||void 0,c}return It(n,t),n.prototype.$O=function(t){return!!Rg(this.BV,t.BV)&&(!!Rg(this.FV,t.FV)&&(!!Rg(this.DV,t.DV)&&(this.GV&&t.GV?!!this.GV.Cx(t.GV)&&(this.U&&t.U?this.U.Cx(t.U):this.U===t.U):this.GV===t.GV)))},Nt(n,[{key:"BV",get:function(){return this.OV}},{key:"FV",get:function(){return this.VV}},{key:"DV",get:function(){return this.WV}},{key:"GV",get:function(){return this.HV}},{key:"ga",get:function(){return this.Za||(this.Za=function(t){return Eg(Pw(t),{get extent(){return t.BV},get styles(){return t.FV},get regions(){return t.DV},get metadata(){return ly(t.GV)},get content(){return ly(t.U)}})}(this)),this.Za}}]),n}(Ww);F(),Tt(),Dt();var wy=function(){function t(t,n,i){this.XV=t,this.zV=n,Jl(i)?this.If=function(t,n,i){for(var r=0,e=["begin","end","dur"];r<e.length;r++){var u=e[r];i.Zx(u)}return i}(0,0,i):this.If=i}return Nt(t,[{key:"ZV",get:function(){return this.If.Px(!0)}},{key:"LO",get:function(){return this.XV}},{key:"BO",get:function(){return this.zV}}]),t}();F(),Tt(),Ut();var my="http://www.w3.org/XML/1998/namespace";function yy(t,n,i,r){var e=t.Ox(i,n);return 0===e.length&&(e=t.Lx(r+":"+n)),e}function py(t,n){return function(t,n){var i=t.m.slice(),r=[];for(;i.length>0;){var e,u=i.shift();if(n(u))r.push(u);else(e=i).push.apply(e,Ft(u.m))}return r}(t,(function(t){return t.Bx===n}))}function _y(t){for(var n={},i=0,r=t.Wx;i<r.length;i++){var e=r[i];n[e.kx]=e.Ix}return n}var by=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,ky=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,Ay="http://www.w3.org/ns/ttml";function Ty(t,n,i,r){void 0===i&&(i=gm),void 0===r&&(r=Cv.APPLICATION_TTML_XML);var e=[],u=pc(t);return r===Cv.APPLICATION_MP4?e=function(t,n,i){var r=dy.qD(t),e=sy(r,ty.aD);if(!e)return[];return Iy(pc(e.Zk),n,i)}(u,n,i):r===Cv.APPLICATION_TTML_XML&&(e=Iy(u,n,i)),e}function Sy(t,n,i){return void 0===i&&(i=gm),Ry(t,n,i)}function Ey(t,n){for(var i=Ly(n.ZV),r={},e=0;e<i.length;e++){var u=i[e];r[u]=t[u]}return r}function Iy(t,n,i){return Ry(wc(t,new Ec),n,i)}function Ry(t,n,i){var r,e=[];try{r=Kn.Tx(t)}catch(t){return e}var u=r.Yx;if("tt"!==u.kx)return e;var s=u.Ox(Ay,"head")[0],o=u.Ox(Ay,"body")[0];if(!o||!s)return e;for(var a=Ny(u.Gx("tts:extent")),c=a?{width:a[0],height:a[1]}:void 0,h=function(t){for(var n={},i=t.Ox(Ay,"styling")[0],r=i&&i.Ox(Ay,"style")||[],e=0;e<r.length;e++){var u=r[e];n[u.Hx(my,"id")]=_y(u)}return n}(s),f=function(t){for(var n={},i=t.Ox(Ay,"layout")[0],r=i&&i.Ox(Ay,"region")||[],e=0;e<r.length;e++){var u=r[e],s=u.Hx(my,"id");if(s){n[s]=_y(u);var o=xy(u);for(var a in o)Hn.call(o,a)&&(n[s][a]=o[a])}}return n}(s),v=a?function(t,n){for(var i=Ig(t),r=0,e=b.keys(i);r<e.length;r++){var u=e[r],s=Ny(i[u].extent);if(s){var o=Cy(s[0],n[0]),a=Cy(s[1],n[1]);i[u].extent=o+" "+a}var c=Ny(i[u].origin);if(c){var h=Cy(c[0],n[0]),f=Cy(c[1],n[1]);i[u].origin=h+" "+f}}return i}(f,a):f,d=s.Ox(Ay,"metadata")[0],l=Dy(o,i.RV,i.CV,i.PV),g=0;g<l.length;g++){var w=l[g],m=Ey(v,w);e.push(new gy(w.LO,w.BO,w.ZV,!1,c,h,m,d))}return e}function Cy(t,n){return t/n*100+"%"}function Ny(t){if(t){var n=t.split(" ",2);if(2===n.length){var i=tn(n,2),r=i[0],e=i[1];if(Vs(r,"px")&&Vs(e,"px"))return[Number(r.slice(0,-2)),Number(e.slice(0,-2))]}}}function Dy(t,n,i,r){var e,u=function(n){var i=function(t,n,i){for(var r=[],e=0;e<i.length;e++){var u=i[e].LO,s=i[e].BO;(u>=t&&s<=n||u<n&&s>=n||u<t&&s>t)&&r.push(i[e])}return r}(l[n],l[n+1],a);if(i.length<=0&&function(t){if(Jl(t)){var n=t.kx.toUpperCase(),i=Boolean(t.Gx("smpte:backgroundImage"));return"BR"===n||i}return t.Sx===ql.wk}(t)){var r=t.Px(!1);c.push(new wy(l[n],l[n+1],r))}else if(i.length>0){var e=t.Px(!1);i.forEach((function(t){return e.Vx(t.ZV)})),c.push(new wy(l[n],l[n+1],e))}},s=n,o=i,a=[],c=[];if(Jl(t)){var h,f;s=null!=(h=Py(t.Gx("begin"),r))?h:s,e=Py(t.Gx("dur"),0),o=null!=(f=Py(t.Gx("end"),r))?f:void 0!==e?s+e:o;for(var v=t.Dx,d=0;d<v.length;d++)("body"===t.kx||"div"===t.kx)&&v[d].Sx>1||(a=a.concat(Dy(v[d],s,o,r)))}for(var l=function(t,n,i){var r=[];r.push(t,n);for(var e=0;e<i.length;e++){var u=i[e];r.push(u.LO,u.BO)}r.sort(eo);for(var s=r.length,o=0;o<s-1;o++)r[o+1]===r[o]&&(go(r,o+1),o--,s=r.length);return r}(s,o,a),g=0;g<l.length-1;g++)u(g);return c}function Py(t,n){if(t){if(by.test(t)){var i=by.exec(t);if(!i)return;var r=Number(i[1])||0,e=Number(i[2])||0,u=Number(i[3])||0,s=i[6];return 3600*r+60*e+u+(s?Number(s)*k.pow(.1,s.length):0)+n}if(ky.test(t)){var o=ky.exec(t);if(!o)return;var a,c=Number(o[1]);switch(o[4]){case"h":a=3600*c;break;case"m":a=60*c;break;case"s":a=c;break;case"ms":a=.001*c;break;default:a=NaN}return a+n}}}function xy(t){for(var n={},i=t.Lx("style")||[],r=0;r<i.length;r++){var e=_y(i[r]);for(var u in e)Hn.call(e,u)&&(n[u]=e[u])}return n}function Ly(t){var n,i=[];if(Jl(t)){(n=t.Gx("region"))&&i.push(n);for(var r=t.Dx,e=0;e<r.length;e++)i=i.concat(Ly(r[e]))}return i}function My(t){var n=function(t){try{return Kn.Tx(t).Yx}catch(t){}}(t);return"tt"===(null==n?void 0:n.kx)}F(),Tt(),Gt(),Rt(),qt(),F(),Tt();var Oy=function(t){return t.Ch="disabled",t.RC="hidden",t.Jn="showing",t}({});function By(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case"disabled":case"hidden":case"showing":return n}}else if("number"==typeof t)switch(t){case 0:return"disabled";case 1:return"hidden";case 2:return"showing"}return"disabled"}F(),Tt(),Rt(),F(),Tt(),F(),Tt();var Vy=function(t){return t.ua="error",t}({});function Fy(){}function Uy(t){var n,i=[kg.aa,kg.eC,kg.FI,kg.WI,kg.ZI,kg.zI,kg.GI,kg.YI,kg.QI,kg.$I],r=[Vy.ua],e={get kind(){return t.Lt},get label(){return t.kh},set label(n){t.kh=Og(n)},get language(){return t.gs},get id(){return t.o},get uid(){return t.TC},get inBandMetadataTrackDispatchType(){return t.IC},get mode(){return t.TE},set mode(n){n!==Oy.Jn&&n!==Oy.RC&&n!==Oy.Ch||t.DC(n)},get forced(){return Boolean(t.NC)},get accessibility(){var n,i;return null!=(i=null==(n=t.kC)?void 0:n.map(Zg))?i:[]},get type(){return t.pw},get readyState(){return t.tI},get cues(){return t.TE===Oy.Ch?null:t.L.ga},get activeCues(){return t.TE===Oy.Ch?null:t.q.ga},get src(){return t.MC||""},addEventListener:function(t,i){var r=Vg(t,Og);n.yn(r,i)},removeEventListener:function(t,i){var r=Vg(t,Og);n.fn(r,i)}};return n=new ia(t),t.yn(i,(function(t){return n.yo(t.ga)})),t.yn(r,(function(t){return n.yo(t)})),b.defineProperty(e,"constructor",{value:Fy}),e}function Wy(){}function Zy(t){var n=Ug(t);return b.defineProperty(n,"constructor",{value:Wy}),n}var Xy=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.tt=function(n){return t.prototype.tt.call(this,n)},i.it=function(n){var i=t.prototype.it.call(this,n);return i&&(n.TE=Oy.Ch),i},i.ma=function(){return Zy(this)},n}(Ag);F(),Tt(),F(),Tt();var Gy=function(t){return t.qV="subtitles",t.YV="captions",t.KV="descriptions",t.Fn="chapters",t.jV="metadata",t.QV="thumbnails",t}({}),Hy=["subtitles","captions","descriptions","chapters","metadata","thumbnails"];function zy(t){return"string"==typeof t&&mo(Hy,t)}function Yy(t,n){return!(!zy(t)||!zy(n))&&(t===n||"subtitles"===t&&"captions"===n||"captions"===t&&"subtitles"===n)}F(),Tt(),Rt();var jy=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i,u)||this).url=r,s.status=e,s}return It(n,t),n}(td);function Ky(t){return t.some(qy)}function qy(t){return Os(t,"stpp")}function Jy(t){return t.some(Qy)}function Qy(t){return Os(t,"vtt")||Os(t,"wvtt")}function $y(t,n){return Nv(t)&&Jy(n)}function tp(t,n){return t===Gy.QV||t===Gy.jV&&n===Gy.QV}function np(t,n,i,r){for(var e=0,u=t.L.oC;e<u.length;e++){var s=u[e];if(s.LO>i)break;n<=s.BO&&!mo(r,s)&&r.push(s)}}function ip(t,n){return ro(t.TC,n.TC)}function rp(t,n,i,r){var e=function(t){switch(t){case kw.WEBVTT:return"WebVTT";case kw.SRT:return"SRT";case kw.TTML:return"TTML";default:return""}}(t);return new jy(Qv.SUBTITLE_PARSE_ERROR,"Could not parse the "+(e?e+" ":"")+"subtitle file.",n,i,r)}function ep(t,n){for(var i=[],r=0,e=t.L.oC;r<e.length;r++){var u=e[r];if(u.BO<=n)i.push(u);else if(u.LO>=n)break}for(var s=0;s<i.length;s++){var o=i[s];t.JV(o)}}function up(t,n){if(t.V>0)for(var i=t.Cn(0),r=k.max(0,i-10),e=0;e<n.length;e++){n[e].$V(r)}}var sp=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Z=new Xy,n.tW=function(t){var i=t.Ht;n.eW(i)},n}It(n,t);var i=n.prototype;return i.tt=function(t){t.yn(kg.aa,this.tW),this.Z.tt(t),this.eW(t)},i.it=function(t){t.fn(kg.aa,this.tW),t.TE=Oy.Ch,this.Z.it(t)},i.iW=function(t){},i.sW=function(t){},i.eW=function(t){t.TE!==Oy.Ch?this.iW(t):this.sW(t)},i.nW=function(){for(var t=0,n=this.Z.oC;t<n.length;t++){var i=n[t];i.fn(kg.aa,this.tW),i.gn()}},i.$V=function(t){if(t>0)for(var n=0,i=this.Z.oC;n<i.length;n++){ep(i[n],t)}},i.tr=function(){return this.nW(),this.Z.tr(),et.resolve()},i.gn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.Bo(),[4,t.tr()];case 1:return n.sent(),t.Z.gn(),[2]}}))}))()},n}(na);F(),Tt(),Dt(),Rt();var op=function(t){function n(n){var i;return(i=t.call(this,Vy.ua)||this).errorObject=n,i}return It(n,t),n.prototype.ma=function(){return this},Nt(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(dg),ap=function(t){function n(n,i){var r;return(r=t.call(this)||this).cW=new Ho,r.oW=n,r.aW=i,r}It(n,t);var i=n.prototype;return i.rW=function(t){if(t.src){var n=t.kind||Gy.qV,i=this.oW.DI(n,t.id,t.label,t.srclang,t.default);return i.MC=gl(t.src),this.tt(i),i}},i.hW=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h,f,v;return Ht(this,(function(d){switch(d.label){case 0:t.tI=bw.LOADING,r=new hl({qu:t.MC,Xk:Sd.wk,gE:ul.GET,Bw:n}),d.label=1;case 1:return d.trys.push([1,4,,5]),[4,i.aW.zk(r)];case 2:return s=d.sent(),u=s.Hk,[4,s.Tk()];case 3:return e=d.sent(),[3,5];case 4:return Bo(o=d.sent()),t.tI=bw.ERROR,t.yo(new op(function(t,n){var i=n,r=0;if(Ol(t)&&t.name===_l.OE)i=t.zk.qu;else if(Bl(t)){var e=t.UE;if(i=e.jk,0===(r=e.Hk))return new jy(Qv.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",i,r,t)}return new jy(Qv.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",i,r,t)}(o,t.MC))),[2];case 5:try{for(a=function(t){return Bm(t)?kw.WEBVTT:My(t)?kw.TTML:kw.SRT}(e),t.pw=a,c=[],a===kw.WEBVTT||a===kw.SRT?(h=Sm(e),c=h.L):a===kw.TTML&&(c=Sy(e,t)),f=0;f<c.length;f++)v=c[f],t.uW(v)}catch(n){return Bo(n),t.tI=bw.ERROR,t.yo(new op(rp(t.pw,t.MC,u,n))),[2]}return t.tI=bw.LOADED,[2]}}))}))()},i.iW=function(t){mo(this.Z.oC,t)&&t.tI===bw.NONE&&this.hW(t,this.cW.Bw).catch(Vo)},i.$n=function(){},i.tr=function(){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:for(n.cW.Xw(),n.cW=new Ho,i=0,r=n.Z.oC;i<r.length;i++)e=r[i],n.oW.lW(e);return[4,t.prototype.tr.call(n)];case 1:return u.sent(),[2]}}))}))()},n}(sp);function cp(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.Lt===n&&r.dW)return r}}function hp(t,n){fp(cp(t.oC,n))}function fp(t){void 0!==t&&(t.TE=Oy.Jn)}function vp(t,n){var i=cp(t.oC,n)||function(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.Lt===n)return r}}(t.oC,n);fp(i)}function dp(t){for(var n=0;n<Hy.length;n++){var i=Hy[n];i===Gy.Fn?vp(t,i):hp(t,i)}}F(),Tt(),F(),Tt(),Rt();var lp=function(t){function n(){return t.call(this,ua.Xy)||this}return It(n,t),n}(ea);F(),Tt(),F(),Tt();var gp=function(t){return t[t.fW=0]="fW",t[t._W=1]="_W",t}({});F(),Tt();var wp=function(t){return t.PL="canplay",t.DL="canplaythrough",t.NL="loadeddata",t.ML="loadedmetadata",t.QI="readystatechange",t.LL="waiting",t.BL="playing",t}({}),mp=["canplay","canplaythrough","loadeddata","loadedmetadata","readystatechange","waiting","playing"];F(),Tt(),Dt(),Rt(),F(),Tt(),Rt();var yp=function(t){function n(n,i){var r;return(r=t.call(this,wp.QI)||this).currentTime=n,r.readyState=i,r}return It(n,t),n}(ea);F(),Tt();var pp=function(t){return t[t.jB=0]="jB",t[t.Xn=1]="Xn",t[t.QB=2]="QB",t[t.JB=3]="JB",t[t.$B=4]="$B",t}({});F(),Tt(),Rt();var _p=function(t){function n(n,i){var r;return void 0===i&&(i=pp.Xn),(r=t.call(this,wp.ML)||this).currentTime=n,r.readyState=i,r}return It(n,t),n}(ea);F(),Tt(),Rt();var bp=function(t){function n(n,i){var r;return void 0===i&&(i=pp.QB),(r=t.call(this,wp.NL)||this).currentTime=n,r.readyState=i,r}return It(n,t),n}(ea);F(),Tt(),Rt();var kp=function(t){function n(n){var i;return(i=t.call(this,wp.LL)||this).currentTime=n,i}return It(n,t),n}(ea);F(),Tt(),Rt();var Ap=function(t){function n(n,i){var r;return void 0===i&&(i=pp.JB),(r=t.call(this,wp.PL)||this).currentTime=n,r.readyState=i,r}return It(n,t),n}(ea);F(),Tt(),Rt();var Tp=function(t){function n(n,i){var r;return void 0===i&&(i=pp.$B),(r=t.call(this,wp.DL)||this).currentTime=n,r.readyState=i,r}return It(n,t),n}(ea);F(),Tt(),Rt();var Sp=function(t){function n(n){var i;return(i=t.call(this,wp.BL)||this).currentTime=n,i}return It(n,t),n}(ea),Ep=[wp.QI,wp.BL,ua.so,ua.Uy],Ip=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this)||this).gW=n,r.bW=i,r.AW=pp.jB,r.RW=!0,r.wW=!1,r.mW=!1,r.NW=function(t){var n=r.gW.tI;n!==r.AW&&r.yo(new yp(t.currentTime,n)),n===pp.jB&&(r.wW=!1,r.mW=!1),r.vW(n),r.pW(n),r.xW(n),r.maybeDispatchCanPlayThroughEvent(n),r.yW(n),r.kW(n),r.AW=n},r.PW=function(){r.kW(r.AW),r.yW(r.AW),r.RW=r.gW.ZR},r.DW=function(){r.RW=r.gW.ZR},r.IW=function(t){r.yo(new Sp(t.currentTime))},r.gW.yn(wp.QI,r.NW),r.gW.yn(ua.so,r.PW),r.gW.yn(ua.Uy,r.DW),r.bW&&r.gW.yn(wp.BL,r.IW),r}It(n,t);var i=n.prototype;return i.vW=function(t){!this.mW&&t>=pp.Xn&&(this.mW=!0,this.yo(new _p(this.gW.yR,t)))},i.pW=function(t){!this.wW&&t>=pp.QB&&(this.wW=!0,this.yo(new bp(this.gW.yR,t)))},i.yW=function(t){this.bW||(t>=pp.JB&&this.AW<pp.JB&&!this.gW.ZR||this.TW&&t>=pp.JB)&&this.yo(new Sp(this.gW.yR))},i.kW=function(t){!this.EW(t)||this.gW.kR||this.gW.lt||this.yo(new kp(this.gW.yR))},i.xW=function(t){this.AW<=pp.QB&&t>=pp.JB&&this.yo(new Ap(this.gW.yR,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===pp.$B&&this.yo(new Tp(this.gW.yR,t))},i.EW=function(t){var n=!this.gW.ZR&&t<=pp.QB,i=!this.RW&&this.AW<=pp.QB;return n&&!i},i.tr=function(){this.AW=pp.jB,this.RW=!0,this.wW=!1,this.mW=!1},i.gn=function(){this.Bo(),this.bW&&this.gW.fn(wp.BL,this.IW),this.gW.fn(ua.so,this.PW),this.gW.fn(ua.Uy,this.DW),this.gW.fn(wp.QI,this.NW)},Nt(n,[{key:"TW",get:function(){return!this.gW.ZR&&this.RW}}]),n}(na),Rp=function(t){function n(n){var i;return(i=t.call(this)||this).gW=n,i.gW.yn(Ep,i.Ds),i}return It(n,t),n.prototype.Ww=function(){this.Bo(),this.gW.fn(Ep,this.Ds)},Nt(n,[{key:"yR",get:function(){return this.gW.yR}},{key:"kR",get:function(){return this.gW.kR}},{key:"lt",get:function(){return this.gW.lt}},{key:"ZR",get:function(){return this.gW.ZR}},{key:"tI",get:function(){return this.gW.tI}}]),n}(na);F(),Tt(),F(),Tt();var Cp="titanium",Np="conax",Dp="ezdrm",Pp="irdeto",xp="vudrm",Lp="verimatrix",Mp="keyos",Op="drmtoday",Bp="expressplay",Vp="azure",Fp="xstream",Up="vimond",Wp="axinom",Zp="uplynk",Xp="comcast",Gp="custom";F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Gt(),Dt(),qt();var Hp=function(){function t(t,n,i,r,e){this.LW=void 0,this.rT=t,this.iU=n,this.sU=i,this.aW=r,this.eU=e,this.VW=this.nU(n)}var n=t.prototype;return n.MW=function(){return this.LW},n.BW=function(t){this.LW=t},n.WW=function(){return this.VW.licenseAcquisitionURL||this.MW()},n.GW=function(t){return et.resolve()},n.ZW=function(t,n){return et.resolve(void 0)},n.XW=function(t,n,i,r){var e=this;return Zt((function(){var u,s;return Ht(this,(function(o){switch(o.label){case 0:if(""===(u=e.zW(t,n,i,r)).qu)throw new qg(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");o.label=1;case 1:return o.trys.push([1,4,,6]),[4,e.aR.zk(u)];case 2:return[4,o.sent().Ek(n)];case 3:return[2,o.sent()];case 4:return Bo(s=o.sent()),[4,e.qW(s,u.qu,r)];case 5:return o.sent(),[2];case 6:return[2]}}))}))()},n.zW=function(t,n,i,r){var e=this.YW().yk(),u=this.AE,s={qu:this.KW(),Xk:n,qk:e,Ck:t,AE:u,gE:ul.POST,pE:0,Bw:r,pw:sl.eE,yE:i};return new hl(s)},n.jW=function(t,n){return et.resolve(t)},n.QW=function(t,n,i,r){return et.resolve(t)},n.YW=function(){return new Ed(this.VW.headers||{})},n.qW=function(t,n,i){return Zt((function(){return Ht(this,(function(n){throw new qg(Qv.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",t)}))}))()},n.KW=function(t,n){var i=n,r=this.VW.queryParameters;if(!i){var e=this.WW();if(!e)return"";i=e}if(r||t){var u=Kn.Ah(i);t&&ll(u,t),r&&ll(u,r),i=u.href}return i},n.JW=function(t,n){return zp(t)},n.$W=function(t){return new E(t)},n.tU=function(t,n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){switch(s.label){case 0:return[4,r.JW(t,i)];case 1:return e=s.sent(),[4,r.XW(e,r.eU,n,i)];case 2:return u=s.sent(),[2,r.$W(u)]}}))}))()},n.gn=function(){},Nt(t,[{key:"aR",get:function(){return this.aW}},{key:"OW",get:function(){return!1}},{key:"FW",get:function(){var t=this.VW.certificate;if(t)return ti(t)?pa(t):kc(t)}},{key:"UW",get:function(){return!1}},{key:"AE",get:function(){return Boolean(this.VW.useCredentials)}}]),t}();function zp(t){return et.resolve(Tc(t).buffer)}var Yp,jp=function(t){function n(n,i,r,e){return t.call(this,Rs,n,i,r,e)||this}It(n,t);var i=n.prototype;return i.nU=function(t){return t.widevine||{}},i.rU=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){return i.FW?[2,i.FW]:[2,i.oU(new E(t),n)]}))}))()},i.oU=function(n,i){return t.prototype.tU.call(this,n,ol.rE,i)},n}(Hp);function Kp(t,n){if(null==t)return{};var i,r,e={},u=b.keys(t);for(r=0;r<u.length;r++)i=u[r],n.indexOf(i)>=0||(e[i]=t[i]);return e}function qp(t){return Yn(t.token&&t.deviceId)}function Jp(t){var n,i=null==(n=t.fairplay)?void 0:n.headers;return void 0!==i&&Yn(i.PreAuthorization)}function Qp(t){var n=t;return qp(n)&&""!==n.token&&""!==n.deviceId&&!Jp(n)}F(),Tt(),F(),Tt(),Gt(),sn(),F(),Tt(),qt(),F(),Tt(),F(),Tt(),F(),Tt(),function(t){t.jC=!1,t.QC=!1,t.JC=!1,t.$C=!1,t.LOG_ADS_DETAILS=!1,t.LOG_CHROMECAST_DETAILS=!1,t.LOG_CUSTOM_DRM=!1,t.LOG_BUFFERING_VIDEO_MAIN=!1,t.LOG_BUFFERING_VIDEO_SELECTION=!1,t.LOG_BUFFERING_AUDIO_MAIN=!1,t.LOG_BUFFERING_AUDIO_SELECTION=!1,t.tP=!1,t.eP=!1,t.LOG_LCEVC_DETAILS=!1}(Yp||(Yp={})),F(),Tt(),Dt();var $p=function(){function t(t,n,i){this.sP=t,this.$S=n,this.rP=i}return t.prototype.nP=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new _("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new _("ContentProtectionIntegration.onCertificateResponse is not a function.");var r=t.onLicenseRequest;if(void 0!==r&&"function"!=typeof r)throw new _("ContentProtectionIntegration.onLicenseRequest is not a function.");var e=t.onLicenseResponse;if(void 0!==e&&"function"!=typeof e)throw new _("ContentProtectionIntegration.onLicenseResponse is not a function.");var u=t.extractFairplayContentId;if(void 0!==u&&"function"!=typeof u)throw new _("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.rP.build(t))},Nt(t,[{key:"iP",get:function(){return this.sP}},{key:"rT",get:function(){return this.$S}}]),t}();F(),Tt();var t_=function(t){return t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED",t}({}),n_=function(){function t(){this.hP=[]}var n=t.prototype;return n.registerContentProtectionIntegration=function(t,n,i){switch(this.oP(t,n,i)){case t_.FAILED:throw new qg(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+n+".");case t_.OVERRIDDEN:var r=y_(n);Kn.Mp("Warning: Overwriting an earlier registered integration for "+t+" and "+r+".");break;case t_.SUCCEEDED:y_(n);0}},n.oP=function(t,n,i){var r=y_(n);if(!r)return t_.FAILED;for(var e=t_.SUCCEEDED,u=0,s=this.hP.slice();u<s.length;u++){var o=s[u];o.iP===t&&o.rT===r&&(e=t_.OVERRIDDEN,lo(this.hP,o))}return this.hP.push(new $p(t,r,i)),e},n.aP=function(t,n){return void 0!==this.uP(t,n)},n.cP=function(t,n,i){var r=this.uP(t,n);if(!r)throw p("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return r.nP(i)},n.uP=function(t,n){for(var i=0,r=this.hP;i<r.length;i++){var e=r[i];if(e.iP===t&&(!n||e.rT===n))return e}},t}();n_.lP=new n_;var i_={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function r_(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,r=t.keys,e=t.headers,u=t.useCredentials,s=t.queryParameters;return!(n||i||r||e||u||s)}function e_(t){return t&&void 0!==t.licenseAcquisitionURL}var u_=e_,s_=e_;function o_(t){if(!t)return!0;if(f_(t))return!1;var n=t.fairplay,i=t.playready,r=t.widevine,e=t.clearkey,u=t.aes128;return r_(n)&&r_(i)&&r_(r)&&void 0===e&&r_(u)}function a_(t){var n=Qp(t),i=function(t){var n,i=t;return Jp(i)&&""!==(null==(n=i.fairplay)?void 0:n.headers.PreAuthorization)&&!qp(i)}(t);return(!n||!i)&&(n||i)}function c_(t){return t.integration===Pp}function h_(t){var n=t;if(!n)return!1;if(o_(n))return!1;var i=n.fairplay,r=n.playready,e=n.widevine,u=n.clearkey;if(f_(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(r&&!u_(r))return!1;if(e&&!s_(e))return!1;if(u&&!function(t){return void 0!==t}(u))return!1;if(n.integration){if(n_.lP.aP(n.integration))return!0;switch(n.integration){case Cp:if(!function(t){var n=t,i=n.integration===Cp;return i&&(v_(t)||d_(t))}(t))return!1;break;case xp:if(!l_(t))return!1;break;case Lp:if(!function(t){var n=t;return n.integration===Lp}(t))return!1;break;case Pp:if(!c_(t))return!1;break;case Np:if(!a_(t))return!1;break;case Dp:if(!function(t){var n=t;return n.integration===Dp}(t))return!1;break;case Mp:if(!f_(t))return!1;break;case Op:if(!function(t){var n=t;return n.integration===Op&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case Bp:if(!function(t){var n=t;return n.integration===Bp}(t))return!1;break;case Fp:if(!g_(t))return!1;break;case Up:if(!function(t){return t.integration===Up}(t))return!1;break;case Wp:if(!w_(t))return!1;break;case Vp:if(!function(t){var n=t;return n.integration===Vp&&void 0!==n.token}(t))return!1;break;case Zp:if(!function(t){var n=t;return n.integration===Zp}(t))return!1;break;case Xp:if(!function(t){var n=t;return n&&Yn(n.releasePid)&&Yn(n.accountId)&&Yn(n.token)}(t))return!1;break;case Gp:return!0;default:return!1}}return!0}function f_(t){return t.integration===Mp}function v_(t){return void 0!==t.authToken}function d_(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function l_(t){var n=t;return n.integration===xp&&void 0!==n.token}function g_(t){var n=t;return n&&n.integration===Fp&&ti(n.ticketAcquisitionURL)&&ti(n.streamId)}function w_(t){var n=t;return n.integration===Wp&&void 0!==n.token}function m_(t,n){var i,r,e,u=n[t],s=null!=(i=null==u?void 0:u.licenseAcquisitionURL)?i:i_[t],o=null!=(r=null==u?void 0:u.customdata)?r:n.customdata,a=o?{customData:o}:{},c=$u({},null!=(e=null==u?void 0:u.headers)?e:{},a),h=null!=u?u:{};h.customdata;return $u({},Kp(h,["customdata"]),{licenseAcquisitionURL:s,headers:c})}function y_(t){switch(t.toLowerCase()){case"widevine":case ms:return ms;case"playready":case ls:return ls;case"fairplay":case ks:return ks}}function p_(t,n){switch(t){case hs:return function(t){for(var n={},i=dy.QD(new DataView(t)),r=0;r<i.length;r++){var e=i[r];n[e.gL]=e.yL}return n}(n);case fs:case vs:return function(t){return un({},bs,t)}(n);default:throw new td(Qv.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}function __(t){return b_.apply(this,arguments)}function b_(){return b_=Zt((function(t,n){var i,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return void 0===n&&(n=!1),(i=t.widevine)?[4,Kn.Zp()]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return i?[2,!0]:(r=t.playready)?[4,Kn.Hp()]:[3,4];case 3:r=s.sent(),s.label=4;case 4:return r?[2,!0]:(e=t.clearkey)?[4,Kn.Up()]:[3,6];case 5:e=s.sent(),s.label=6;case 6:return e?[2,!0]:(u=!n&&t.fairplay)?[4,Kn.Gp()]:[3,8];case 7:u=s.sent(),s.label=8;case 8:return u?[2,!0]:[2,!1]}}))})),b_.apply(this,arguments)}var k_=function(t){return t.fw="Widevine",t.hU="PlayreadyV2",t.aU="PlayreadyV3",t.dw="PlayreadyV2",t.mw="Fairplay",t}({}),A_={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function T_(t,n){var i,r,e,u,s=A_[n],o=t.accountName;return{CustomerName:t.customerName,AccountName:o,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(i=Kn.qp)?void 0:i.Ys,OSVersion:null==(r=Kn.qp)?void 0:r.ow,DRMProvider:s.DRMProvider,DRMVersion:s.DRMVersion,DRMType:s.DRMType,DeviceVendor:null==(e=Kn.qp)?void 0:e.hw,DeviceModel:null==(u=Kn.qp)?void 0:u.aw}}}function S_(t,n){if(!t.accountName)throw new qg(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration, accountName is not set.");if(!t.customerName)throw new qg(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration, customerName is not set.");if(!t.portalId)throw new qg(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration, portalId is not set.");throw new qg(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration.")}function E_(t,n,i){var r;if(v_(t))r={AuthToken:t.authToken,Payload:n};else{if(!d_(t))throw S_(t,i);r={LatensRegistration:T_(t,i),Payload:n}}return Fc(JSON.stringify(r))}function I_(t,n,i){return R_.apply(this,arguments)}function R_(){return R_=Zt((function(t,n,i){var r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:if(!(r=t.UE))throw new qg(Qv.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,n);e=r,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,e.Sk(i)];case 2:return u=o.sent(),s=function(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}return}(u),[3,4];case 3:return o.sent(),s="",[3,4];case 4:throw new qg(Qv.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,e.zk.qu,e.Hk,e.Yk,s)}}))})),R_.apply(this,arguments)}F(),Tt(),Gt(),qt();var C_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Sd.gk)||this).cU=void 0,e}It(n,t);var i=n.prototype;return i.qW=function(t,n,i){return I_(t,n,i)},i.GW=function(t){return this.cU?Fo(this.cU.Bb,t):(this.cU=new Zc,et.resolve())},i.JW=function(t,n){var i=this;return Zt((function(){var n,r;return Ht(this,(function(e){if(!(n=i.iU))throw new qg(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");return r=ka(t),[2,E_(n,r,k_.fw)]}))}))()},i.$W=function(t){if(!t.license)throw new qg(Qv.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return pa(t.license)},i.lU=function(t){return et.resolve(new E(t))},i.rU=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return i.dU(),[4,i.JW(t,n)];case 1:return r=u.sent(),[4,i.XW(r,Sd.vk,ol.oE,n)];case 2:return e=u.sent(),[4,i.lU(e)];case 3:return[2,u.sent()]}}))}))()},i.oU=function(n,i){var r=this;return Zt((function(){var e;return Ht(this,(function(u){switch(u.label){case 0:return[4,t.prototype.oU.call(r,n,i)];case 1:return e=u.sent(),r.dU(),[2,e]}}))}))()},i.dU=function(){this.cU||(this.cU=new Zc),this.cU.Mb()},i.gn=function(){this.cU&&this.cU.Xw(),t.prototype.gn.call(this)},n.uU=function(){return Kn.Ys.Jg?"required":"optional"},n}(jp);F(),Tt(),Gt(),Dt(),Rt(),qt();var N_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Sd.vk)||this).BW("https://widevine-proxy.drm.technology/proxy"),e}return It(n,t),n.prototype.JW=function(t,n){var i=this;return Zt((function(){var n,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return[4,zp(t)];case 1:if(n=s.sent(),r=i.sU,e=Sc(new E(n)),void 0===(u=i.fU))throw new qg(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");return[2,JSON.stringify({token:u,drm_info:e,kid:r})]}}))}))()},Nt(n,[{key:"fU",get:function(){if(l_(this.iU))return this.iU.token}}]),n}(jp);function D_(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=$u({},i,{SessionId:t.sessionId,Ticket:t.ticket})),$u({},i,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}F(),Tt(),Rt(),F(),Tt();var P_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Sd.vk)||this).BW("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),e}return It(n,t),n.prototype.KW=function(n,i){var r=n;return c_(this.iU)&&(r=D_(this.iU,r)),t.prototype.KW.call(this,r,i)},n}(jp);F(),Tt(),Rt(),F(),Tt();var x_="Conax-Custom-Data";function L_(t,n,i){var r=t&&a_(t)&&t;if(r&&!i.has(x_)){var e=Qp(r)?r.token:void 0,u=Qp(r)?r.deviceId:void 0,s=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:e,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:u}});i.set(x_,s)}return i}var M_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Sd.vk)||this).BW("https://connect.conax.com:8094/license"),e}return It(n,t),n.prototype.YW=function(){var n=t.prototype.YW.call(this);return L_(this.iU,"Widevine",n)},n}(jp);function O_(t){var n=ac(new E(t));return pa(JSON.parse(n).license)}function B_(t){return"string"==typeof t.token?t.token:Fc(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function V_(t,n,i){var r;return r=i.token?"x-dt-auth-token":"dt-custom-data",t.set(r,n),t}F(),Tt(),Dt(),Rt(),F(),Tt();var F_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Sd.vk)||this).BW("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),e}It(n,t);var i=n.prototype;return i.$W=function(t){return O_(t)},i.YW=function(){return V_(t.prototype.YW.call(this),this.fU,this.iU)},Nt(n,[{key:"fU",get:function(){return B_(this.iU)}}]),n}(jp);F(),Tt(),Rt();var U_=function(t){function n(n,i,r){return t.call(this,n,i,r,Sd.vk)||this}return It(n,t),n.prototype.YW=function(){var n=t.prototype.YW.call(this),i=this.iU.token;return n.set("Authorization","Bearer "+i),n},n}(jp);function W_(t,n,i,r){return Z_.apply(this,arguments)}function Z_(){return Z_=Zt((function(t,n,i,r){var e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:if(!g_(t))throw new qg(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");return(e=new Ed).append("Cache-Control","no-cache"),e.append("Content-Type","application/json"),(u=t.sessionId)&&e.append("XSSESSION",u),s=t.streamId,o=t.fairplay?"persistent"===t.fairplay.licenseType?"persistent":"non-persistent":t.widevine&&"persistent"===t.widevine.licenseType?"persistent":"non-persistent",a={drmType:n,licenseType:o,streamId:s},c={qu:t.ticketAcquisitionURL,Xk:Sd.gk,qk:e,gE:ul.POST,Ck:JSON.stringify(a),Bw:r},[4,i.zk(c)];case 1:return[4,h.sent().Sk()];case 2:return[2,h.sent()]}}))})),Z_.apply(this,arguments)}F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Gt(),qt();var X_=function(t){function n(n,i,r){return t.call(this,n,i,r,Sd.gk)||this}It(n,t);var i=n.prototype;return i.YW=function(){var n=t.prototype.YW.call(this);return n.set("Content-Type","application/json"),n},i.JW=function(n,i){var r=this;return Zt((function(){var e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return e=Vc(n.buffer),[4,W_(r.iU,"widevine_modular",r.aR,i)];case 1:return u=o.sent(),r.BW(u.licenseServerUrl),s=cc(JSON.stringify({payload:e,ticket:u.ticket})),[2,t.prototype.JW.call(r,s,i)]}}))}))()},i.$W=function(t){return pa(t.license)},n}(jp);F(),Tt(),Rt();var G_=function(t){function n(n,i,r){return t.call(this,n,i,r,Sd.vk)||this}return It(n,t),n.prototype.YW=function(){if(!w_(this.iU))throw new qg(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var n=t.prototype.YW.call(this);return n.set("X-AxDRM-Message",this.iU.token),n},n}(jp);function H_(t){for(var n=new E(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}F(),Tt(),Gt(),Rt(),qt();var z_=function(t){function n(n,i,r){var e;return(e=t.call(this,Is,n,i,r,Sd.vk)||this)._U=void 0,e}It(n,t);var i=n.prototype;return i.nU=function(t){return t.playready||{}},i.YW=function(){var n=new Ed(this._U);return n.Ak(t.prototype.YW.call(this)),n},i.vU=function(t){return t.length>=1&&t[0].Dx.length>0},i.ZW=function(n){var i=this.iU.playready.customData;if(i){var r=H_(i),e=H_('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+ka(r)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return et.resolve({playready:{bT:e}})}return t.prototype.ZW.call(this,n)},i.JW=function(t,n){var i=this;return Zt((function(){var n;return Ht(this,(function(r){switch(r.label){case 0:return[4,zp(t)];case 1:return n=r.sent(),[2,i.mU(n)]}}))}))()},i.mU=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c,h,f,v,d,l,g,w,m;return Ht(this,(function(y){e=null,u=new DataView(t),s=uc(u,new Ec,!0);try{o=Kn.Tx(s)}catch(t){return[2,e]}for(a=null==(i=o.Lx("PlayReadyKeyMessage")[0])?void 0:i.Lx("LicenseAcquisition")[0],h=null!=(c=null==a?void 0:a.Lx("Challenge"))?c:[],n.vU(h)&&(e=Bc(h[0].Ux)),f=new Ed,d=null!=(v=null==a||null==(r=a.Lx("HttpHeaders")[0])?void 0:r.Lx("HttpHeader"))?v:[],l=0;l<d.length;l++)g=d[l],w=g.Lx("name")[0].Ux,m=g.Lx("value")[0].Ux,f.append(w,m);return n._U=f,[2,e]}))}))()},i.rU=function(t,n){return et.resolve(t)},i.oU=function(n,i){return t.prototype.tU.call(this,n,ol.hE,i)},n}(Hp);F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Dt();var Y_=function(){function t(n){this.wU=n,this.TS=t.gU(n)}return t.prototype.pU=function(){var t={};if(this.TS===k_.aU){var n={LatensRegistration:T_(this.wU,k_.aU)};t["X-TITANIUM-DRM-CDATA"]=Fc(JSON.stringify(n))}return t},t.gU=function(t){return"3"===t.version?k_.aU:k_.hU},Nt(t,[{key:"yU",get:function(){return this.TS}},{key:"_T",get:function(){return this.TS===k_.hU}}]),t}();var j_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).bU=new Y_(e.iU),e}It(n,t);var i=n.prototype;return i.ZW=function(t){var n=this.iU;if(!this.iU)throw new qg(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(d_(n)){var i={};return i.playready={bT:K_(n,this.bU.yU)},et.resolve(i)}return et.reject(S_(n,k_.dw))},i.YW=function(){var n=new Ed(this.bU.pU());return n.Ak(t.prototype.YW.call(this)),n},i.qW=function(t,n,i){return Zt((function(){var r,e,u,s,o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:if(!(r=t.UE))throw new qg(Qv.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,n);f.label=1;case 1:return f.trys.push([1,3,,4]),[4,r.xk(i)];case 2:return s=f.sent(),o=ac(new E(s)),(a=Kn.Tx(o))&&(c=py(a,"CustomData")).length>0&&(e=JSON.parse(c[0].Ux),u=null==(h=e.DrmErr)?void 0:h.desc),[3,4];case 3:return f.sent(),[3,4];case 4:throw new qg(Qv.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,n,r.Hk,r.Yk,u)}}))}))()},i.vU=function(t){if(1!==t.length)throw new qg(Qv.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},n}(z_);function K_(t,n){var i=T_(t,n),r=i.DeviceInfo.FormatVersion,e=function(t){return t.replace(/&lt;/g,"<").replace(/&gt;/g,">")}(function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}("<TitaniumCustomData>"+Fc('<LatensRegistration formatversion="'+r+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+r+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>")+"</TitaniumCustomData>")),u=fc(e,!0);return fc('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+ka(u)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}F(),Tt(),Dt(),Rt();var q_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).BW("https://playready-license.drm.technology/rightsmanager.asmx"),e}It(n,t);var i=n.prototype;return i.vU=function(t){if(1!==t.length)throw new qg(Qv.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},i.KW=function(n,i){var r=$u({},n||{},{token:this.fU});return t.prototype.KW.call(this,r,i)},Nt(n,[{key:"fU",get:function(){if(l_(this.iU))return this.iU.token}}]),n}(z_);F(),Tt(),Rt();var J_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).BW("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),e}return It(n,t),n.prototype.KW=function(n,i){var r=n;return c_(this.iU)&&(r=D_(this.iU,r)),t.prototype.KW.call(this,r,i)},n}(z_);F(),Tt(),Rt();var Q_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).BW("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),e}return It(n,t),n.prototype.YW=function(){var n=t.prototype.YW.call(this);return L_(this.iU,"PlayReady",n)},n}(z_);F(),Tt(),Dt(),Rt();var $_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).BW("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),e}It(n,t);var i=n.prototype;return i.$W=function(n){var i=function(t){var n=ac(new E(t));return Bs(n,"<?xml")?0:1}(n);return 1===i?O_(n):t.prototype.$W.call(this,new E(n))},i.YW=function(){return V_(t.prototype.YW.call(this),this.fU,this.iU)},Nt(n,[{key:"fU",get:function(){return B_(this.iU)}}]),n}(z_);F(),Tt(),Gt(),Rt(),qt();var tb=function(t){function n(n,i,r){return t.call(this,n,i,r)||this}It(n,t);var i=n.prototype;return i.YW=function(){var n=t.prototype.YW.call(this);return this.AU&&n.set("Ticket",this.AU),n.set("Content-Type","text/xml"),n},i.JW=function(n,i){var r=this;return Zt((function(){var e;return Ht(this,(function(u){switch(u.label){case 0:return[4,W_(r.iU,"playready",r.aR,i)];case 1:return e=u.sent(),r.BW(e.licenseServerUrl),r.AU=e.ticket,[2,t.prototype.JW.call(r,n,i)]}}))}))()},n}(z_);F(),Tt(),Rt();var nb=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n.prototype.YW=function(){if(!w_(this.iU))throw new qg(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var n=t.prototype.YW.call(this);return n.set("X-AxDRM-Message",this.iU.token),n},n}(z_);F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt();var ib=function(t){return t.gk="application/json",t.SU="application/x-www-form-urlencoded",t.TU="application/octet-stream",t.wk="text/plain;charset=UTF-8",t}({}),rb=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n.rT,i,r,e,u)||this).IU="",s.EU=void 0,s.DU=n.LU,s}It(n,t);var i=n.prototype;return i.kU=function(){return this.VW.certificateURL||this.EU},i.xU=function(t){this.EU=t},i.JW=function(t){return et.resolve(this.RU(t,this.IU))},i.RU=function(t,n){return"spc="+encodeURIComponent(ka(t))+"&assetId="+encodeURIComponent(n)},i.nU=function(t){return t.fairplay||{}},i.PU=function(t){var n=t.indexOf("?");if(n>=0)return et.resolve(t.substr(n+1));var i=t.split("skd://").pop();if(i){if(/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/.test(i))return et.resolve(i)}var r=t.split("/");return et.resolve(r[r.length-1])},i.ZW=function(t){var n=this;return Zt((function(){var i,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return r=null!=(i=n.DU)?i:lc(new E(t)),[4,n.PU(r)];case 1:return e=s.sent(),n.IU=e,(u={}).fairplay={PT:e},[2,u]}}))}))()},i.YW=function(){var n=t.prototype.YW.call(this);return n.set("Content-Type",this.CU),n},i.rU=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(t){switch(t.label){case 0:return i.FW?[2,i.FW]:[4,i.NU(n)];case 1:return[2,t.sent()]}}))}))()},i.oU=function(n,i){return t.prototype.tU.call(this,n,ol.sE,i)},i.MU=function(t){var n=this.kU(),i=this.YW(),r={qu:n,Xk:Sd.vk,qk:i,gE:ul.GET,AE:!1,Ck:null,pE:0,Bw:t,pw:sl.eE,yE:ol.nE};return new hl(r)},i.NU=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return i=n.MU(t),[4,n.aR.zk(i)];case 1:return[4,e.sent().xk()];case 2:return r=e.sent(),[2,new E(r)]}}))}))()},i.$W=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=pa(i)}else n=new E(t);return n},i.KW=function(n,i){var r=t.prototype.KW.call(this,n,i);return Bs(r,"skd:")&&(r=r.substr(4)),r},Nt(n,[{key:"UW",get:function(){return!0}},{key:"CU",get:function(){return ib.SU}}]),n}(Hp);F(),Tt(),Gt(),Dt(),Rt(),qt();var eb=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Sd.vk)||this}It(n,t);var i=n.prototype;return i.PU=function(n){var i=n.split("://",1);return"skd"!==i[0].slice(-3).toLowerCase()?et.resolve(""):(i=n.split(";",2)).length>1?et.resolve(i[1]):et.resolve(t.prototype.PU.call(this,n))},i.JW=function(t){return Zt((function(){return Ht(this,(function(n){return[2,t]}))}))()},i.$W=function(t){return new E(t)},i.KW=function(n,i){var r=n||{};return r.p1=dr(),t.prototype.KW.call(this,r,i)},Nt(n,[{key:"CU",get:function(){return ib.TU}}]),n}(rb);F(),Tt(),Dt(),Rt();var ub=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Sd.vk)||this).BW("https://fairplay-license.drm.technology/license"),u.xU("https://fairplay-license.drm.technology/certificate"),u}It(n,t);var i=n.prototype;return i.RU=function(t,n){var i={token:this.fU,contentId:n,payload:ka(t)};return JSON.stringify(i)},i.$W=function(t){return new E(t)},i.YW=function(){var n=t.prototype.YW.call(this);return n.set("x-vudrm-token",this.fU),n},Nt(n,[{key:"CU",get:function(){return ib.gk}},{key:"fU",get:function(){if(!l_(this.iU))throw new qg(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.iU.token}}]),n}(rb);F(),Tt(),Rt();var sb="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",ob="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",ab=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Sd.vk)||this}return It(n,t),n.prototype.$W=function(n){var i=function(t){var n;try{n=JSON.parse(t).ckc}catch(t){throw new qg(Qv.CONTENT_PROTECTION_LICENSE_INVALID,sb)}if(!n)throw new qg(Qv.CONTENT_PROTECTION_LICENSE_ERROR,ob);return n}(ac(new DataView(n)));return t.prototype.$W.call(this,i)},n}(rb);F(),Tt(),Gt(),Dt(),Rt(),qt();var cb=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Sd.gk)||this}It(n,t);var i=n.prototype;return i.JW=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){if(!(i=n.iU))throw new qg(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");return r=ka(t),[2,E_(i,r,k_.mw)]}))}))()},i.$W=function(t){try{var n;if(ti(t)){var i=t.trim();n=JSON.parse(i)}else n=t;if(n.license){var r=Bc(n.license);return new E(r)}throw new qg(Qv.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server")}catch(t){throw new qg(Qv.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server")}},i.qW=function(t,n,i){return I_(t,n,i)},Nt(n,[{key:"CU",get:function(){return ib.gk}}]),n}(rb);F(),Tt(),Gt(),Dt(),Rt(),qt();var hb=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Sd.vk)||this).BW("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),u.xU("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),u}It(n,t);var i=n.prototype;return i.kU=function(){var n=t.prototype.kU.call(this);if(!n)return n;var i=Kn.Ah(n),r=this.iU;return c_(r)&&ll(i,{accountId:r.accountId,applicationId:r.applicationId||""}),i.href},i.PU=function(n){return c_(this.iU)?et.resolve(this.iU.contentId):t.prototype.PU.call(this,n)},i.JW=function(t){return Zt((function(){return Ht(this,(function(n){return[2,t]}))}))()},i.$W=function(t){return new E(t)},i.KW=function(n,i){var r=n;return c_(this.iU)&&(r=function(t,n){return $u({},D_(t,n),{KeyId:t.keyId})}(this.iU,r)),t.prototype.KW.call(this,r,i)},Nt(n,[{key:"CU",get:function(){return ib.TU}}]),n}(rb);F(),Tt(),Gt(),Rt(),qt();var fb=function(t){function n(n,i,r,e){var u;if(u=t.call(this,n,i,r,e,Sd.wk)||this,!a_(i))throw new qg(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return u.BW("https://connect.conax.com:8097/license"),u}It(n,t);var i=n.prototype;return i.YW=function(){var n=t.prototype.YW.call(this);return L_(this.iU,"FairPlay",n)},i.NU=function(t){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:return i=n.kU(),r={qu:i,Xk:Sd.vk,qk:{},gE:ul.GET,AE:!1,Ck:null,pE:0,Bw:t,pw:sl.eE,yE:ol.nE},[4,n.aR.zk(r)];case 1:return[4,u.sent().xk()];case 2:return e=u.sent(),[2,new E(e)]}}))}))()},i.JW=function(t){return Zt((function(){return Ht(this,(function(n){return[2,t]}))}))()},i.PU=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring(6,i):t.substring(6),et.resolve(function(t){return ac(pa(t))}(n))):et.resolve("unknown")},i.$W=function(t){try{var n=JSON.parse(t);return new E(Bc(n.CkcMessage))}catch(t){throw new p("CFLRW-66")}},n}(rb);F(),Tt(),Rt();var vb=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Sd.wk)||this).BW(i_[Es.mw]),u}It(n,t);var i=n.prototype;return i.PU=function(t){return Bs(t,"skd://")?et.resolve(t.substring(6,40)):et.reject(new qg(Qv.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},i.RU=function(t,n){return"spc="+ka(t)+"&assetId="+n},n}(rb);F(),Tt(),Dt(),Rt();var db=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Sd.wk)||this).BW("https://lic.drmtoday.com/license-server-fairplay/"),u}It(n,t);var i=n.prototype;return i.RU=function(t,n){var i="spc="+encodeURIComponent(ka(t))+"&"+encodeURI(n);return"persistent"===this.VW.licenseType?i+"&offline=true":i},i.YW=function(){return V_(t.prototype.YW.call(this),this.fU,this.iU)},Nt(n,[{key:"fU",get:function(){return B_(this.iU)}}]),n}(rb);F(),Tt(),Gt(),Dt(),Rt(),qt();var lb=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Sd.vk)||this}It(n,t);var i=n.prototype;return i.PU=function(t){var n=t;return Bs(n,"skd:")&&(n="http:"+n.substring(4)),Bs(n,"http:")||Bs(n,"https:")?et.resolve(Kn.Ah(n).hostname):et.reject(new p("Could not parse ExpressPlay FairPlay content ID."))},i.JW=function(t){return Zt((function(){return Ht(this,(function(n){return[2,t]}))}))()},i.$W=function(t){return new E(t)},Nt(n,[{key:"CU",get:function(){return ib.TU}}]),n}(rb);F(),Tt(),Rt();var gb=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Sd.wk)||this}return It(n,t),n.prototype.YW=function(){var n=t.prototype.YW.call(this),i=this.iU.token;return n.set("Authorization","Bearer "+i),n},n}(rb);F(),Tt(),Gt(),Dt(),Rt(),qt();var wb=function(t){function n(n,i,r,e){var u;if(u=t.call(this,n,i,r,e,Sd.gk)||this,!g_(i))throw new p("Invalid Xstream DRM configuration");return u}It(n,t);var i=n.prototype;return i.NU=function(t){var n=this;return Zt((function(){var i,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return i=n.kU(),r=n.YW(),e={qu:i,Xk:Sd.gk,qk:r,gE:ul.POST,Bw:t,pw:sl.eE,yE:ol.nE},[4,n.aR.zk(e)];case 1:return[4,s.sent().Sk()];case 2:return u=s.sent(),[2,new E(pa(u.certificate))]}}))}))()},i.oU=function(t,n,i){void 0===i&&(i=Sd.wk);var r=this;return Zt((function(){var i,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return i=ka(t),[4,W_(r.iU,"fairplay",r.aR,n)];case 1:return e=o.sent(),u=cc(JSON.stringify({spc:i,ticket:e.ticket})),s={qu:r.WW(),Xk:Sd.gk,qk:r.YW(),gE:ul.POST,Ck:u,pE:0,Bw:n,pw:sl.eE,yE:ol.sE},[4,r.aR.zk(s)];case 2:return[4,o.sent().Sk()];case 3:return[2,pa(o.sent().licence)]}}))}))()},Nt(n,[{key:"CU",get:function(){return ib.gk}}]),n}(rb);F(),Tt(),Rt();var mb=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Sd.wk)||this}It(n,t);var i=n.prototype;return i.RU=function(t,n){return ka(t)},i.$W=function(n){if(0===n.length)throw new qg(Qv.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.$W.call(this,n)},i.YW=function(){var n=t.prototype.YW.call(this);return n.set("Content-Type","text/plain"),n},n}(rb);F(),Tt(),Dt(),Rt();var yb=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Sd.vk)||this}It(n,t);var i=n.prototype;return i.RU=function(t,n){return t},i.$W=function(t){return new E(t)},i.YW=function(){if(!w_(this.iU))throw new qg(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var n=t.prototype.YW.call(this);return n.set("X-AxDRM-Message",this.iU.token),n},Nt(n,[{key:"CU",get:function(){return ib.gk}}]),n}(rb);F(),Tt(),Dt(),Rt();var pb=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Sd.gk)||this).BU=void 0,u}It(n,t);var i=n.prototype;return i.RU=function(t,n){var i={spc:ka(t)};return JSON.stringify(i)},i.PU=function(t){var n=Kn.Ah(t);return this.BU=t,n.searchParams.has("b")?et.resolve(n.searchParams.get("b")):et.reject(new qg(Qv.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},i.KW=function(n,i){var r=this.WW();return!r&&this.BU&&(r=this.BU),r&&(r=r.replace("skd://","https://")),t.prototype.KW.call(this,n,i||r)},i.$W=function(t){try{var n;if((n=ti(t)?JSON.parse(t.trim()):t).ckc)return pa(n.ckc)}catch(t){throw new qg(Qv.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server")}throw new qg(Qv.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server")},Nt(n,[{key:"CU",get:function(){return ib.wk}}]),n}(rb);F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Gt(),qt(),F(),Tt();var _b=function(){function t(t,n){this.FU=t,this.WU=n}var n=t.prototype;return n.OU=function(t){return this.FU(t)},n.VU=function(t,n){throw new _(n+" must be "+this.WU+". (Received: "+t+")")},t}(),bb=(new _b((function(t){return!0}),"any"),new _b(ei,"a number")),kb=new _b(ti,"a string"),Ab=new _b(ni,"a boolean"),Tb=(new _b(ri,"a date"),new _b(jn,"undefined")),Sb=new _b(Qn,"an object"),Eb=new _b((function(t){return null===t}),"null");new _b((function(t){return null==t}),"null or undefined");function Ib(t,n){throw new _(n+" has an incorrect type")}var Rb=function(){function t(t){this.kp=t}var n=t.prototype;return n.OU=function(t){if(!Qn(t))return!1;for(var n=0,i=b.keys(this.kp);n<i.length;n++){var r=i[n];if(!this.kp[r].OU(t[r]))return!1}return!0},n.VU=function(t,n){if(!Qn(t))throw new _(n+" must be an object.");for(var i=0,r=b.keys(this.kp);i<r.length;i++){var e=r[i],u=this.kp[e];if(!u.OU(t[e]))return u.VU(t[e],n+"."+String(e))}throw new _},t}();function Cb(t){return new Rb(t)}function Nb(t){return b.keys(t).map((function(n){return t[n]}))}var Db=function(){function t(t){this.__=t}var n=t.prototype;return n.OU=function(t){return mo(this.__,t)},n.VU=function(t,n){return Ib(0,n)},t}();function Pb(t){return new Db(t)}var xb=function(){function t(t){this.UU=t}var n=t.prototype;return n.OU=function(t){return this.UU.some((function(n){return n.OU(t)}))},n.VU=function(t,n){return Ib(0,n)},t}();function Lb(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return new xb(n)}var Mb=function(){function t(t){this.GU=t}var n=t.prototype;return n.OU=function(t){var n=this;return qn(t)&&t.every((function(t){return n.GU.OU(t)}))},n.VU=function(t,n){if(!qn(t))throw new _(n+" must be an array.");for(var i=0;i<t.length;i++){var r=t[i];this.GU.OU(r)||this.GU.VU(r,n+"["+i+"]")}return Ib(0,n)},t}();function Ob(t){return new Mb(t)}var Bb=function(){function t(t){this.GU=t}var n=t.prototype;return n.OU=function(t){var n=this;return Qn(t)&&b.keys(t).every((function(i){return n.GU.OU(t[i])}))},n.VU=function(t,n){if(!Qn(t))throw new _(n+" must be an object.");for(var i=0,r=b.keys(t);i<r.length;i++){var e=r[i];if(!this.GU.OU(t[e]))return this.GU.VU(t[e],n+"."+e)}return Ib(0,n)},t}();function Vb(t){return new Bb(t)}var Fb=function(){function t(t){this.GU=Ai(t)}var n=t.prototype;return n.OU=function(t){return this.GU().OU(t)},n.VU=function(t,n){return this.GU().VU(t,n)},t}();var Ub=Cb({responseCode:bb,isException:Ab,description:kb,title:kb,correlationId:kb});function Wb(t,n,i,r,e){return Zb.apply(this,arguments)}function Zb(){return Zb=Zt((function(t,n,i,r,e){var u;return Ht(this,(function(s){switch(s.label){case 0:return u=function(t,n,i,r){var e={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(dl(i,e)),s=new Ed({});s.append("Content-Type","application/json");var o=ka(t),a={getFairplayLicense:{releasePid:n.releasePid,spcMessage:o}};return{qu:u,Xk:Sd.wk,qk:s,gE:ul.POST,Ck:JSON.stringify(a),Bw:r,pw:sl.eE,yE:ol.sE}}(t,n,i,e),[4,Xb(u,r)];case 1:return[2,s.sent()]}}))})),Zb.apply(this,arguments)}function Xb(t,n){return Gb.apply(this,arguments)}function Gb(){return Gb=Zt((function(t,n){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,n.zk(t)];case 1:return[4,r.sent().Sk()];case 2:if(i=r.sent(),Ub.OU(i))throw new qg(Qv.CONTENT_PROTECTION_LICENSE_ERROR,i.description,void 0,t.qu,i.responseCode);return[2,pa(i.getFairplayLicenseResponse.ckcResponse)]}}))})),Gb.apply(this,arguments)}var Hb=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Sd.vk)||this).HU=i,u}It(n,t);var i=n.prototype;return i.PU=function(n){var i=n.replace("FairPlay",this.HU.releasePid);return t.prototype.PU.call(this,i)},i.oU=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return[4,Wb(t,i.HU,i.WW(),i.aR,n)];case 1:return[2,r.sent()]}}))}))()},n}(rb);F(),Tt(),Gt(),Rt(),qt();var zb=function(t){function n(n,i,r){return t.call(this,Ds,n,i,r,Sd.vk)||this}It(n,t);var i=n.prototype;return i.nU=function(t){return t.clearkey||{}},i.XW=function(n,i,r,e){var u=this;return Zt((function(){var i,s;return Ht(this,(function(o){if(i=u.VW,u.WW())return[2,t.prototype.XW.call(u,n,u.eU,r,e)];if(i.keys&&i.keys.length)return s={keys:i.keys.map((function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}}))},[2,gc(JSON.stringify(s)).buffer];throw new qg(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.")}))}))()},i.rU=function(t,n){return et.resolve(new E(0))},i.oU=function(n,i){var r=this;return Zt((function(){var e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return[4,t.prototype.tU.call(r,n,ol.aE,i)];case 1:if(e=c.sent(),(u=JSON.parse(lc(e))).keys)for(s=0,o=u.keys;s<o.length;s++)(a=o[s]).k&&(a.k=Aa(a.k)),a.kid&&(a.kid=Aa(a.kid));return[2,gc(JSON.stringify(u))]}}))}))()},n}(Hp);F(),Tt(),Rt();var Yb=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n}(jp);F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Gt(),qt();var jb={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function Kb(t,n,i){return qb.apply(this,arguments)}function qb(){return qb=Zt((function(t,n,i){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return r=hk(n),(e=t.onCertificateRequest)&&"function"==typeof e?[4,Fo(et.resolve(e.call(t,r)),i)]:[2,et.resolve(n)];case 1:return bc(u=s.sent())?[2,kc(u)]:[2,ck($u({},jb,u))]}}))})),qb.apply(this,arguments)}function Jb(t,n,i,r,e){return Qb.apply(this,arguments)}function Qb(){return Qb=Zt((function(t,n,i,r,e){var u,s;return Ht(this,(function(o){switch(o.label){case 0:return u=t.onCertificateResponse,s=ak(n,i,r),u&&"function"==typeof u?[4,Fo(et.resolve(u.call(t,s)),e)]:[2,et.resolve(n)];case 1:return[2,kc(o.sent())]}}))})),Qb.apply(this,arguments)}function $b(t,n,i,r){return tk.apply(this,arguments)}function tk(){return tk=Zt((function(t,n,i,r){var e;return Ht(this,(function(u){switch(u.label){case 0:return[4,rk(t,n,i,r)];case 1:return(e=u.sent())instanceof ArrayBuffer?[2,e]:[2,ck(e)]}}))})),tk.apply(this,arguments)}function nk(t,n,i,r,e,u){return ik.apply(this,arguments)}function ik(){return ik=Zt((function(t,n,i,r,e,u){var s;return Ht(this,(function(o){switch(o.label){case 0:return s=ok(i,e),[4,uk(t,new E(n),s,r,u)];case 1:return[2,kc(o.sent())]}}))})),ik.apply(this,arguments)}function rk(t,n,i,r){return ek.apply(this,arguments)}function ek(){return ek=Zt((function(t,n,i,r){var e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return e=null==t?void 0:t.onLicenseRequest,u=ok(n,i),e&&"function"==typeof e?[4,Fo(et.resolve(e.call(t,u)),r)]:[2,et.resolve(u)];case 1:return bc(s=o.sent())?[2,kc(s).buffer]:[2,$u({fairplaySkdUrl:void 0},jb,s)]}}))})),ek.apply(this,arguments)}function uk(t,n,i,r,e){return sk.apply(this,arguments)}function sk(){return sk=Zt((function(t,n,i,r,e){var u,s;return Ht(this,(function(o){switch(o.label){case 0:return u=null==t?void 0:t.onLicenseResponse,s=ak(n,i,r),u&&"function"==typeof u?[4,Fo(et.resolve(u.call(t,s)),e)]:[2,et.resolve(n)];case 1:return[2,kc(o.sent())]}}))})),sk.apply(this,arguments)}function ok(t,n){return $u({},hk(t),{fairplaySkdUrl:n})}function ak(t,n,i){return{url:i.jk,status:i.Hk,statusText:i.Yk,headers:i.qk.yk(),body:t,request:n}}function ck(t){return new hl({qu:t.url,gE:t.method,qk:t.headers,Ck:t.body,AE:t.useCredentials,pw:sl.eE})}function hk(t){var n;return{url:t.qu,body:null!=(n=fk(t.Ck))?n:null,headers:t.qk.yk(),method:t.gE,useCredentials:t.AE}}function fk(t){if(t)return"string"==typeof t?gc(t):t instanceof ArrayBuffer?new E(t):Nc(t)?_c(t):void 0}var vk=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r)||this).ZU=e,u}It(n,t);var i=n.prototype;return i.rU=function(t,n){return et.resolve(t)},i.oU=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return[4,i.mU(Tc(t).buffer)];case 1:return r=c.sent(),e=i.zW(r,Sd.vk,ol.hE,n),[4,$b(i.ZU,e,void 0,n)];case 2:if((u=c.sent())instanceof ArrayBuffer)return[2,new E(u)];if(""===u.qu)throw new qg(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");c.label=3;case 3:return c.trys.push([3,7,,8]),[4,i.aR.zk(u)];case 4:return[4,(s=c.sent()).xk(n)];case 5:return o=c.sent(),[4,nk(i.ZU,o,e,s,void 0,n)];case 6:return[2,c.sent()];case 7:throw Bo(a=c.sent()),new qg(Qv.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",a);case 8:return[2]}}))}))()},n}(z_);F(),Tt(),Gt(),Rt(),qt();var dk=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,Sd.vk)||this).ZU=e,u}It(n,t);var i=n.prototype;return i.rU=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return i.FW?[2,i.FW]:(r=i.zW(t,Sd.vk,ol.oE,n),[4,Kb(i.ZU,r,n)]);case 1:if((e=c.sent())instanceof E)return[2,e];if(""===e.qu)throw new qg(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");c.label=2;case 2:return c.trys.push([2,5,,6]),[4,i.aR.zk(e)];case 3:return[4,(u=c.sent()).xk(n)];case 4:return s=c.sent(),[3,6];case 5:throw Bo(o=c.sent()),new qg(Qv.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",o);case 6:return a=ok(r,void 0),[4,Jb(i.ZU,new E(s),a,u,n)];case 7:return[2,c.sent()]}}))}))()},i.oU=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return r=i.zW(t,Sd.vk,ol.rE,n),[4,$b(i.ZU,r,void 0,n)];case 1:if((e=a.sent())instanceof ArrayBuffer)return[2,new E(e)];if(""===e.qu)throw new qg(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");a.label=2;case 2:return a.trys.push([2,6,,7]),[4,i.aR.zk(e)];case 3:return[4,(u=a.sent()).xk(n)];case 4:return s=a.sent(),[4,nk(i.ZU,s,r,u,void 0,n)];case 5:return[2,a.sent()];case 6:throw Bo(o=a.sent()),new qg(Qv.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",o);case 7:return[2]}}))}))()},n}(Yb);F(),Tt(),Gt(),Rt(),qt();var lk=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i,r,e,Sd.vk)||this).ZU=u,s}It(n,t);var i=n.prototype;return i.rU=function(t,n){var i=this;return Zt((function(){var t,r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return i.FW?[2,i.FW]:(t=i.MU(n),[4,Kb(i.ZU,t,n)]);case 1:if(r=a.sent(),Nc(r))return[2,r];a.label=2;case 2:return a.trys.push([2,6,,7]),[4,i.aR.zk(r)];case 3:return[4,(e=a.sent()).xk()];case 4:return u=a.sent(),s=ok(t,void 0),[4,Jb(i.ZU,new E(u),s,e,n)];case 5:return[2,a.sent()];case 6:throw Bo(o=a.sent()),new qg(Qv.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",o);case 7:return[2]}}))}))()},i.oU=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return r=i.zW(t,Sd.vk,ol.sE,n),[4,$b(i.ZU,r,i.XU,n)];case 1:if((e=a.sent())instanceof ArrayBuffer)return[2,new E(e)];if(""===e.qu)throw new qg(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");a.label=2;case 2:return a.trys.push([2,6,,7]),[4,i.aR.zk(e)];case 3:return[4,(u=a.sent()).xk(n)];case 4:return s=a.sent(),[4,nk(i.ZU,s,r,u,i.XU,n)];case 5:return[2,a.sent()];case 6:throw Bo(o=a.sent()),new qg(Qv.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",o);case 7:return[2]}}))}))()},i.PU=function(n){var i;return this.XU=n,(null==(i=this.ZU)?void 0:i.extractFairplayContentId)?et.resolve(this.ZU.extractFairplayContentId(n)):t.prototype.PU.call(this,n)},n}(rb),gk=function(){function t(){}var n=t.prototype;return n.zU=function(t,n,i,r){switch(t.rT.pw){case Es.fw:return this.qU(n,i,r);case Es.dw:return this.YU(n,i,r);case Es.mw:return this.KU(t,n,i,r);case Es._w:default:return this.jU(n,i,r)}},n.qU=function(t,n,i){var r=function(t){return t.integration===Gp&&ti(t.customIntegrationId)}(t)?t.customIntegrationId:t.integration;if(r&&n_.lP.aP(r,ms)){var e=n_.lP.cP(r,ms,t);return new dk(t,n,i,e)}switch(r){case Cp:return new C_(t,n,i);case xp:return new N_(t,n,i);case Pp:return new P_(t,n,i);case Np:return new M_(t,n,i);case Op:return new F_(t,n,i);case Vp:return new U_(t,n,i);case Fp:return new X_(t,n,i);case Wp:return new G_(t,n,i);default:return new Yb(t,n,i,Sd.vk)}},n.YU=function(t,n,i){var r=t.integration;if(r&&n_.lP.aP(r,ls)){var e=n_.lP.cP(r,ls,t);return new vk(t,n,i,e)}switch(r){case Cp:return new j_(t,n,i);case xp:return new q_(t,n,i);case Pp:return new J_(t,n,i);case Np:return new Q_(t,n,i);case Op:return new $_(t,n,i);case Fp:return new tb(t,n,i);case Wp:return new nb(t,n,i);default:return new z_(t,n,i)}},n.KU=function(t,n,i,r){var e=n.integration;if(e&&n_.lP.aP(e,ks)){var u=n_.lP.cP(e,ks,n);return new lk(t,n,i,r,u)}switch(e){case Dp:return new eb(t,n,i,r);case xp:return new ub(t,n,i,r);case Lp:return new ab(t,n,i,r);case Cp:return new cb(t,n,i,r);case Pp:return new hb(t,n,i,r);case Np:return new fb(t,n,i,r);case Mp:return new vb(t,n,i,r);case Op:return new db(t,n,i,r);case Bp:return new lb(t,n,i,r);case Vp:return new gb(t,n,i,r);case Fp:return new wb(t,n,i,r);case Up:return new mb(t,n,i,r);case Wp:return new yb(t,n,i,r);case Zp:return new pb(t,n,i,r);case Xp:return new Hb(t,n,i,r);default:return new rb(t,n,i,r,Sd.wk)}},n.jU=function(t,n,i){return new zb(t,n,i)},n.QU=function(t){return t.pw===Es.dw||t.pw===Es.fw||t.pw===Es.mw||t.pw===Es._w},n._T=function(t,n){var i;if(t.pw!==Es.dw)return!1;if(Yn(null==(i=n.playready)?void 0:i.customData))return!0;var r=n.integration;return(!r||!n_.lP.aP(r,ks))&&(r===Cp&&new Y_(n)._T)},n.uU=function(t,n){if(t.pw===Es.fw){var i=n.integration;if(!i||!n_.lP.aP(i,ks))return i===Cp?C_.uU():void 0}},t}();F(),Tt(),F(),Tt(),Dt(),Rt();var wk=function(t){function n(n){var i;return(i=t.call(this,Vy.ua)||this).errorObject=n,i}return It(n,t),n.prototype.ma=function(){return this},Nt(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(dg);F(),Tt(),F(),Tt(),sn();var mk="theoplayer-stored-network-info-v2",yk=25e5,pk=function(){function t(){var t=this;this.$U=Td,this.sG=void 0,this.nG=bi((function(){var n,i=un({},t.$U,{availableBandwidth:t.sG,storedTimestamp:dr()});null==(n=Kn.sR)||n.Pb(mk,JSON.stringify(i))}),1e4)}var n=t.prototype;return n.JU=function(t){var n,i=null==(n=Kn.sR)?void 0:n.Cb(t);if(void 0!==i){var r=JSON.parse(i);if(void 0!==r&&void 0!==r[this.$U]){if(!this.tG(r))return r[this.$U].availableBandwidth;var e;null==(e=Kn.sR)||e.Pb(t,JSON.stringify({}))}}},n.eG=function(){var t=this.JU(mk);if(void 0!==t)return t;var n=this.JU("theoplayer-stored-network-info");return n?8*n:void 0},n.tG=function(t){var n=t[this.$U].storedTimestamp;return!!n&&dr()-n>36e5},n.iG=function(t){this.sG=t,this.nG()},n.rG=function(){var t;return null!=this.sG||(this.sG=null!=(t=this.eG())?t:yk),this.sG},t}();pk.Lg=new pk,F(),Tt();var _k=function(t){return t[t.oG=0]="oG",t[t.hG=1]="hG",t[t.aG=2]="aG",t[t.uG=3]="uG",t[t.cG=4]="cG",t[t.lG=5]="lG",t[t.HC=6]="HC",t[t.dG=7]="dG",t[t.fG=8]="fG",t[t.qC=9]="qC",t[t._G=10]="_G",t[t.YC=11]="YC",t[t.vG=12]="vG",t}({});F(),Tt(),Dt();var bk=function(){function t(){}return t.prototype.pG=function(t){},Nt(t,[{key:"mG",get:function(){return 0}},{key:"gG",get:function(){return 0}}]),t}();F(),Tt(),Rt(),F(),Tt(),Rt();var kk=function(t){function n(n){var i;return(i=t.call(this,"contentProtectionsTracked")||this).wG=n,i}return It(n,t),n}(ea),Ak=function(t){function n(n,i){var r;return void 0===i&&(i=new gk),(r=t.call(this)||this).wU=void 0,r.aW=n,r.bG=i,r}It(n,t);var i=n.prototype;return i.yG=function(t){this.wU=t},i.uU=function(t){var n=this.wU;if(void 0!==n)return this.bG.uU(t,n)},i._T=function(t){var n=this.wU;return void 0!==n&&this.bG._T(t,n)},i.AG=function(t){var n={rT:t.rT,SG:t.SG||[],TG:t.TG,LU:t.LU},i=this.bG.zU(n,this.wU||{},t.sU,this.aW);return n.TG&&i.BW(n.TG),new Tk(i)},i.kG=function(t){t&&(ao(t,(function(t){return void 0!==t.sU}))&&this.yo(new kk(t)))},n}(na),Tk=function(){function t(t){this.EG=t}var n=t.prototype;return n.GW=function(t){return this.EG.GW(t)},n.ZW=function(t,n,i){return this.EG.ZW(n,i)},n.UW=function(){return this.EG.UW||void 0!==this.EG.FW},n.rU=function(t,n){return this.EG.rU(t,n)},n.oU=function(t,n,i){return n&&this.EG.BW(n),this.EG.oU(t,i)},n.Ww=function(){this.EG.gn()},t}();F(),Tt(),Rt();var Sk=function(t){function n(n){var i;(i=t.call(this)||this).IG=[],i.BG=function(t){i.tt(t.Ht)},i.OG=function(t){var n=t.Ht;i.MG(n)||i.it(n)};for(var r=0;r<n.length;r++){var e=n[r];i.xG(e)}return i}It(n,t);var i=n.prototype;return i.xG=function(t){this.IG.push(t);for(var n=0,i=t.oC;n<i.length;n++){var r=i[n];this.tt(r)}this.CG(t)},i.DG=function(t){lo(this.IG,t),this.NG(t);for(var n=0,i=t.oC;n<i.length;n++){var r=i[n];this.MG(r)||this.it(r)}},i.MG=function(t){for(var n=0,i=this.IG;n<i.length;n++){if(i[n].uC(t))return!0}return!1},i.CG=function(t){t.yn(mg.MI,this.BG),t.yn(mg.BI,this.OG)},i.NG=function(t){t.fn(mg.MI,this.BG),t.fn(mg.BI,this.OG)},i.gn=function(){for(;this.IG.length>0;)this.DG(this.IG[0]);t.prototype.gn.call(this)},i.ma=function(){return Zy(this)},n}(Ag);F(),Tt(),Dt(),F(),Tt();var Ek,Ik={forceSeekOffset:0,maximumOffset:0,maximumPlaybackRate:0,minimumOffset:0,minimumPlaybackRate:0,targetOffset:0},Rk=function(){function t(){}var n=t.prototype;return n.Sa=function(t){this.VG=t,void 0!==this.He&&(this.VG.Rt=this.He)},n.tr=function(){this.VG=void 0,this.He=void 0},Nt(t,[{key:"ga",get:function(){return null!=this.Za||(this.Za=function(t){return{get enabled(){return t.Rt},set enabled(n){t.Rt=Pg(n)},get monitoringLivePlayback(){return t.FG},get currentLatency(){return t.ZB},get currentConfiguration(){return function(t){if(void 0!==t)return{get minimumOffset(){return t.minimumOffset},get maximumOffset(){return t.maximumOffset},get targetOffset(){return t.targetOffset},get forceSeekOffset(){return t.forceSeekOffset},get minimumPlaybackRate(){return t.minimumPlaybackRate},get maximumPlaybackRate(){return t.maximumPlaybackRate}}}(t.md)}}}(this)),this.Za}},{key:"Rt",get:function(){var t,n;return null!=(n=this.He)?n:Boolean(null==(t=this.VG)?void 0:t.Rt)},set:function(t){this.He=t,this.VG&&(this.VG.Rt=t)}},{key:"FG",get:function(){var t,n;return null!=(n=null==(t=this.VG)?void 0:t._B)&&n}},{key:"ZB",get:function(){var t;return null==(t=this.VG)?void 0:t.HB}},{key:"md",get:function(){return this.VG?this.VG.vB:Ik}}]),t}();var Ck=!(!f||!f.TextTrack),Nk=function(t){function n(n,i,r,e,u,s,o,a){var c;return void 0===o&&(o=new gk),void 0===a&&(a=yd()),(c=t.call(this)||this).qG=void 0,c.wc=void 0,c.HG=void 0,c.ZG=void 0,c.QG=new bk,c.KG=new Rk,c.yH=function(t){var n=t.lt,i=n.code,r=new td(iw(i),"Something went wrong during native playback.",n),e=new Qg(i,r.message,n.message);c.PH(r,e)},c.xc=function(){c.yo(new vg(c.yR,c.mR))},c.pH=function(t){c.ZR||(c.GG=void 0),c.yo(t)},c.WB=function(t){c.GG=void 0},c.AH=function(){c.yo(new _w(c.NR))},c.wH=function(){c.cI>0&&c.hI>0&&c.yo(new lp)},c.kH=function(t){var n=c.LB.XG.audioTracks;if(n)for(var i=0;i<n.length;i++){var r=n[i];xk(c.rO,r)||c.rO.tt(new mw(r))}},c.EH=function(t){var n=[],i=c.LB.XG.audioTracks;if(i){for(var r=0,e=c.rO.oC;r<e.length;r++){var u=e[r];Lk(i,u.EO)||n.push(u)}for(var s=0;s<n.length;s++){var o=n[s];c.rO.it(o)}}},c.xH=function(){c.nh(c.rO)},c.RH=function(t){var n=c.LB.XG.videoTracks;if(n)for(var i=0;i<n.length;i++){var r=n[i];xk(c.hO,r)||c.hO.tt(new pw(r))}},c.IH=function(t){var n=[],i=c.LB.XG.videoTracks;if(i){for(var r=0,e=c.hO.oC;r<e.length;r++){var u=e[r];Lk(i,u.EO)||n.push(u)}for(var s=0;s<n.length;s++){var o=n[s];c.hO.it(o)}}},c.CH=function(){c.nh(c.hO)},c.bH=function(t){c.yo(t),c.PH(t.errorObject,tw(t.errorObject))},c.mH=i,c.aW=r,c.Rw=a,c.LB=c.mH.DH(jg.lE),c.zG=c.LB.XG.preload,c.lH=new Ip(c.LB,!0),c.lH.yn(mp,c.Ds),c.iH=new Ak(r,o),c.LB._H=c.iH,c.gH(),c.rO=new Yg,c.hO=new Yg,c.TH(),c.hH=new ap(c.LB,c.aW),c.Ul=new Sk([c.LB.nt]),c.ge(),c}It(n,t);var i=n.prototype;return i.AR=function(t,n){this.NR&&(this.GG=t),this.LB.Sb(t)},i.be=function(){this.LB.be()},i.ge=function(){this.LB.ge()},i.ka=function(t,n,i){var r=this;return Zt((function(){var e;return Ht(this,(function(u){switch(u.label){case 0:return Oo(i),r.wc=t,e={pw:gp.fW,MC:t.src,Ik:t.type,JG:r.$G(t),QR:r.zG,tH:t.crossOrigin,eH:n.metadata&&n.metadata.title},r.iH.yG(t.contentProtection),[4,r.LB.$n(e)];case 1:return r.qG=u.sent(),Oo(i),n.textTracks&&r.sH(n.textTracks),dp(r.nt),[2]}}))}))()},i.sH=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(this.LB.nH()&&Gn.Ka&&Ck&&!tp(i.kind,i.label)&&this.rH(i)){var r,e=null!=(r=i.kind)?r:Gy.qV;this.LB.oH(i.src,e,i.label,i.srclang,i.default)}else{if(void 0===i.src)continue;this.hH.rW(i)}}},i.rH=function(t){return!t.format||"webvtt"===t.format},i.AI=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,t.LB.AI()];case 1:case 4:return n.sent(),[3,3];case 2:return n.sent(),[3,3];case 3:return t.WG?[3,5]:[4,t.LB.uy(ua.Gy)];case 5:return[2]}}))}))()},i.bI=function(){this.LB.bI()},i.TI=function(){return void 0!==this.LB.XG.webkitShowPlaybackTargetPicker},i.kI=function(){this.LB.XG.webkitShowPlaybackTargetPicker&&this.LB.XG.webkitShowPlaybackTargetPicker()},i.EI=function(){this.LB.XG.webkitShowPlaybackTargetPicker&&this.LB.XG.webkitShowPlaybackTargetPicker()},i.wI=function(){return this.LB.XG},i.pI=function(){return this.LB.wa},i._a=function(){return this.LB.aH},i.DI=function(t){return this.LB.uH(t)},i.tr=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.wc=void 0,t.HG=void 0,t.ZG=void 0,t.qG=void 0,[4,t.hH.tr()];case 1:return n.sent(),t.LB.cH(),[4,t.LB.tr()];case 2:return n.sent(),t.lH.tr(),t.QR=t.zG,t.ht.tr(),t.rt.tr(),t.GG=void 0,[2]}}))}))()},i.gn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.tr()];case 1:return n.sent(),t.Bo(),t.dH(),t.fH(),t.lH.gn(),t.LB._H=void 0,[4,t.mH.vH(t.LB)];case 2:return n.sent(),t.rO.gn(),t.hO.gn(),t.Ul.gn(),[4,t.hH.gn()];case 3:return n.sent(),[2]}}))}))()},i.gH=function(){this.LB.yn(ua.so,this.Ds),this.LB.yn(ua.Uy,this.Ds),this.LB.yn(ua.$y,this.xc),this.LB.yn(ua.Gy,this.Ds),this.LB.yn(ua.By,this.Ds),this.LB.yn(ua.qy,this.Ds),this.LB.yn(ua.zy,this.pH),this.LB.yn(ua.xy,this.Ds),this.LB.yn(ua.Hy,this.Ds),this.LB.yn(ua.eb,this.Ds),this.LB.yn(ua.Sy,this.Ds),this.LB.yn(ua.Xy,this.wH),this.LB.yn(wp.BL,this.WB),this.LB.yn(Vy.ua,this.yH),this.LB.yn(ua.wy,this.Ds),this.LB.yn(ua.py,this.bH),this.LB.XG.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.AH)},i.dH=function(){this.LB.fn(ua.so,this.Ds),this.LB.fn(ua.Uy,this.Ds),this.LB.fn(ua.$y,this.xc),this.LB.fn(ua.Gy,this.Ds),this.LB.fn(ua.By,this.Ds),this.LB.fn(ua.qy,this.Ds),this.LB.fn(ua.zy,this.pH),this.LB.fn(ua.xy,this.Ds),this.LB.fn(ua.Hy,this.Ds),this.LB.fn(ua.eb,this.Ds),this.LB.fn(ua.Sy,this.Ds),this.LB.fn(ua.Xy,this.wH),this.LB.fn(wp.BL,this.WB),this.LB.fn(Vy.ua,this.yH),this.LB.fn(ua.wy,this.Ds),this.LB.fn(ua.py,this.bH),this.LB.XG.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.AH)},i.$G=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{rT:Cs,SH:[{initDataTypes:[Cs.yw],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.TH=function(){var t=this.LB.XG.audioTracks,n=this.LB.XG.videoTracks;t&&(t.addEventListener("addtrack",this.kH),t.addEventListener("removetrack",this.EH),t.addEventListener("change",this.xH)),n&&(n.addEventListener("addtrack",this.RH),n.addEventListener("removetrack",this.IH),n.addEventListener("change",this.CH))},i.fH=function(){var t=this.LB.XG.audioTracks,n=this.LB.XG.videoTracks;t&&(t.removeEventListener("addtrack",this.kH),t.removeEventListener("removetrack",this.EH),t.removeEventListener("change",this.xH)),n&&(n.removeEventListener("addtrack",this.RH),n.removeEventListener("removetrack",this.IH),n.removeEventListener("change",this.CH))},i.nh=function(t){for(var n=0;n<t.V;n++){t.aC(n).RO()}},i.xI=function(){this.LB.xI()},i.RI=function(){},i.PH=function(t,n){this.HG||(this.HG=n,this.ZG=t,this.yo(new wk(t)))},Nt(n,[{key:"ZB",get:function(){}},{key:"WG",get:function(){var t=this.LB._R,n=this.yR;return t.gr(n,.01)}},{key:"ht",get:function(){return this.rO}},{key:"_R",get:function(){return this.LB._R.ks()}},{key:"mR",get:function(){return this.LB.mR},set:function(t){t&&this.LB.UG(t)}},{key:"bt",get:function(){return this.wc}},{key:"yR",get:function(){return void 0!==this.GG?this.GG:this.LB.yR},set:function(t){this.AR(t)}},{key:"ct",get:function(){return this.LB.ct}},{key:"kR",get:function(){return this.LB.kR}},{key:"lt",get:function(){return this.HG}},{key:"RR",get:function(){return this.ZG}},{key:"PR",get:function(){}},{key:"NR",get:function(){return this.LB.NR}},{key:"LR",get:function(){return $u({},{uO:0,cO:0,lO:0,dO:0,fO:0,_O:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.LB.OR())}},{key:"FR",get:function(){return this.LB.FR},set:function(t){this.LB.FR=t}},{key:"GR",get:function(){return!0}},{key:"ZR",get:function(){return this.LB.ZR}},{key:"zR",get:function(){return this.LB.zR},set:function(t){this.LB.zR=t}},{key:"KR",get:function(){return this.LB.XG.played}},{key:"QR",get:function(){return this.zG},set:function(t){this.zG=t,this.qG&&(this.qG.QR=t)}},{key:"tI",get:function(){return this.LB.tI}},{key:"iI",get:function(){return this.LB.iI.ks()}},{key:"nI",get:function(){return this.LB.nI}},{key:"YG",get:function(){return this.LB.YG}},{key:"nt",get:function(){return this.Ul}},{key:"rt",get:function(){return this.hO}},{key:"hI",get:function(){return this.LB.hI}},{key:"cI",get:function(){return this.LB.cI}},{key:"dI",get:function(){return this.LB.dI},set:function(t){this.LB.dI=t}},{key:"vI",get:function(){return this.KG}},{key:"gI",get:function(){return this.LB.gI},set:function(t){this.LB.gI=t}},{key:"jG",get:function(){return this.QG}}]),n}(ra);function Dk(t){var n,i;if(!(null==(n=(Ek||(Ek=f&&f.document&&f.document.createElement("video")),i=Ek).canPlayType)?void 0:n.call(i,t.type)))return!1;if(t.useNativePlayback)return!0;var r=Gn.Ka||Gn.Eg;return!t.useManagedMediaSource||!r}var Pk=function(){function t(){this.BH=_k.vG}var n=t.prototype;return n.nP=function(t,n,i,r,e,u,s){return new Nk(t,n,i,r,e,u)},n.NH=function(t,n){return Dk(t)},n.MH=function(t){return __(t)},n.LH=function(){return!1},t}();function xk(t,n){for(var i=0,r=t.oC;i<r.length;i++){var e=r[i];if(e.EO===n)return e}}function Lk(t,n){for(var i=0;i<t.length;i++)if(t[i]===n)return!0;return!1}F(),Tt(),F(),Tt(),Dt();var Mk=function(){function t(t,n){var i=this;this.Dnt=!1,this.Nnt=function(t){i.Mnt.$q(t.error,i.yR)},this.Lnt=function(){i.Mnt.Kq(i.Pnt),i.ta.removeEventListener("playing",i.Lnt),i.Dnt=!1},this.js=function(){var t,n,r,e,u,s;(i.Dnt||(i.ta.addEventListener("playing",i.Lnt),i.Dnt=!0),null==(t=i.ta.ads)||t.removeEventListener("adbegin",i.Bnt),null==(n=i.ta.theoads)||n.removeEventListener("interstitialbegin",i.Ont),null==(e=i.ta.source)||null==(r=e.ads)?void 0:r.some((function(t){return"theoads"===t.integration})))&&(null==(u=i.ta.ads)||u.addEventListener("adbegin",i.Bnt),null==(s=i.ta.theoads)||s.addEventListener("interstitialbegin",i.Ont))},this.Bnt=function(t){"theoads"!==t.ad.integration||t.ad.isSlate||i.Mnt.Jq("ad")},this.Ont=function(t){var n=t.interstitial;(function(t){return"adbreak"===t.type})(n)||i.Mnt.Jq(function(t){switch(t){case"adbreak":default:return"ad";case"overlay":return"overlay"}}(n.type))},this.Mnt=n,this.ta=t,this.ta.addEventListener("error",this.Nnt),this.ta.addEventListener("sourcechange",this.js),this.js()}return t.prototype.tr=function(){},Nt(t,[{key:"yR",get:function(){var t=this.ta.currentTime;return isFinite(t)?t:"now"}},{key:"Pnt",get:function(){return this.ta.src||""}}]),t}();F(),Tt(),Rt(),F(),Tt(),Gt(),Dt(),Rt(),qt();var Ok=function(t){function n(n,i){var r;return(r=t.call(this)||this).NI=function(t){r.CI(t)||r.yo(t)},r.ta=n,r.Cst=!i,r.jH(),r}It(n,t);var i=n.prototype;return i.Sst=function(){return this.ta.nst},i.Tst=function(){return this.ta.Vc},i.kst=function(){return this.ta.ost},i.pI=function(){return this.ta.wa},i._a=function(){return this.ta.aH},i.xst=function(){return this.ta.Est},i.Ist=function(){return this.ta.Rst},i.lR=function(){return this.ta.ht},i.vR=function(){return this.ta.vR()},i.gR=function(){return this.ta.mR},i.pR=function(t){this.ta.mR=t},i.wR=function(){return this.ta.bt},i.bR=function(){return this.ta.bR()},i.AR=function(t,n){this.ta.AR(t,n)},i.fst=function(){return this.ta.fst()},i._d=function(){return this.ta._d()},i.SR=function(){return this.ta.we},i.ER=function(){return this.ta.kR},i.xR=function(){return this.ta.xR()},i.IR=function(){return this.ta.IR()},i.DR=function(){return this.ta.PR},i.OR=function(){return this.ta.LR},i.WR=function(){return this.ta.FR},i.UR=function(t){this.ta.UR(t)},i.XR=function(){return this.ta.ZR},i.qR=function(){return this.ta.zR},i.YR=function(t){this.ta.zR=t},i.jR=function(){return this.ta.jR()},i.JR=function(){return this.ta.QR},i.$R=function(t){this.ta.QR=t},i.eI=function(){return this.ta.tI},i.sI=function(){return this.ta.sI()},i.rI=function(){return this.ta.nI},i.oI=function(){return this.ta.nt},i.aI=function(){return this.ta.hI},i.uI=function(){return this.ta.rt},i.lI=function(){return this.ta.cI},i.fI=function(){return this.ta.dI},i._I=function(t){this.ta._I(t)},i.yI=function(){this.ta.yI()},i.bI=function(){this.ta.bI()},i.AI=function(){this.ta.AI()},i.ge=function(){this.ta.ge()},i.be=function(){this.ta.be()},i.cs=function(){return this.ta.cs()},i.wI=function(){return this.ta.wI()},i.xI=function(){this.ta.xI()},i.RI=function(){this.ta.RI()},i.DI=function(t){return this.ta.DI(t)},i.Sa=function(){this.ta.Sa()},i.Ya=function(){return this.ta.Ya()},i.ka=function(t,n){return this.ta.ka(t,n)},i.SI=function(){return this.ta.SI()},i.CI=function(t){return!1},i.jH=function(){this.Cst&&this.ta.Jw(this.NI)},i.QH=function(){this.Cst&&this.ta.oy(this.NI)},i.gn=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.Bo(),t?[3,2]:[4,n.ta.gn()];case 1:i.sent(),i.label=2;case 2:return n.QH(),[2]}}))}))()},Nt(n,[{key:"nst",get:function(){return this.Sst()}},{key:"Vc",get:function(){return this.Tst()}},{key:"wst",get:function(){return this.ta.wst}},{key:"ost",get:function(){return this.kst()}},{key:"pO",get:function(){return this.ta.pO},set:function(t){this.ta.pO=t}},{key:"gst",get:function(){return this.ta.gst}},{key:"Tz",get:function(){return this.ta.Tz}},{key:"dst",get:function(){return this.ta.dst}},{key:"md",get:function(){return this.ta.md}},{key:"Uu",get:function(){return this.ta.Uu}},{key:"wa",get:function(){return this.pI()}},{key:"aH",get:function(){return this._a()}},{key:"aR",get:function(){return this.ta.aR}},{key:"vI",get:function(){return this.ta.vI}},{key:"_st",get:function(){return this.ta._st}},{key:"Qj",get:function(){return this.ta.Qj}},{key:"WX",get:function(){return this.ta.WX}},{key:"mst",get:function(){return this.ta.mst}},{key:"ust",get:function(){return this.ta.ust}},{key:"xa",get:function(){return this.ta.xa}},{key:"Ll",get:function(){return this.ta.Ll}},{key:"Est",get:function(){return this.xst()}},{key:"Rst",get:function(){return this.Ist()}},{key:"TC",get:function(){return this.ta.TC}},{key:"To",get:function(){return this.ta.To}},{key:"ht",get:function(){return this.lR()}},{key:"mR",get:function(){return this.gR()},set:function(t){this.pR(t)}},{key:"bt",get:function(){return this.wR()}},{key:"we",get:function(){return this.SR()}},{key:"kR",get:function(){return this.ER()}},{key:"PR",get:function(){return this.DR()}},{key:"gI",get:function(){return this.ta.gI},set:function(t){this.ta.gI=t}},{key:"LR",get:function(){return this.OR()}},{key:"FR",get:function(){return this.WR()},set:function(t){this.UR(t)}},{key:"ZR",get:function(){return this.XR()}},{key:"zR",get:function(){return this.qR()},set:function(t){this.YR(t)}},{key:"QR",get:function(){return this.JR()},set:function(t){this.$R(t)}},{key:"tI",get:function(){return this.eI()}},{key:"Ca",get:function(){return this.ta.Ca},set:function(t){this.ta.Ca=t}},{key:"nI",get:function(){return this.rI()}},{key:"nt",get:function(){return this.oI()}},{key:"hI",get:function(){return this.aI()}},{key:"rt",get:function(){return this.uI()}},{key:"cI",get:function(){return this.lI()}},{key:"dI",get:function(){return this.fI()},set:function(t){this._I(t)}}]),n}(ra),Bk=function(t){return t[t.nu=0]="nu",t[t.Pst=1]="Pst",t[t.YC=2]="YC",t[t.Dst=3]="Dst",t[t.Nst=4]="Nst",t[t.Mst=5]="Mst",t}({}),Vk=[0,1,2,3,4,5],Fk={};function Uk(t,n){(Fk[n]||(Fk[n]=[])).push(t)}var Wk={};function Zk(t,n){(Wk[n]||(Wk[n]=[])).push(t)}var Xk=[];!function(t){Xk.push(t)}((function(t){new Mk(t.ga,t.wst)})),F(),Tt(),Rt(),F(),Tt(),Rt();var Gk=function(){function t(){}return t._k=function(){return t.Lg||(t.Lg=Hk.vT()?new Hk:new pd),t.Lg},t.Nb=function(n){t._k().Nb(n)},t.fk=function(){t._k().fk()},t.Cb=function(n){return t._k().Cb(n)},t.Pb=function(n,i){t._k().Pb(n,i)},t.pQ=function(n){var i=t.Cb(n);if(void 0!==i)return T(i)},t.wQ=function(n){return"true"===t.Cb(n)},t}();Gk.Lg=void 0;var Hk=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.Nb=function(t){self.localStorage.removeItem(t)},i.fk=function(){self.localStorage.clear()},i.Cb=function(t){var n;return null!=(n=self.localStorage.getItem(t))?n:void 0},i.Pb=function(t,n){self.localStorage.setItem(t,n)},n.vT=function(){var t="foobar";try{return self.localStorage.setItem(t,t),self.localStorage.removeItem(t),!0}catch(t){}return!1},n}(Gk),zk="theoplayer-stored-volume",Yk="theoplayer-stored-mutedstate";Uk((function(t){return function(t){function n(n,i){var r;if(r=t.call(this,n,i)||this,i.persistVolume){var e=Gk.pQ(zk);(void 0===e||S(e))&&(e=1);var u=Gk.wQ(Yk)||!1;r.dI=e,r.FR=u}return r}It(n,t);var i=n.prototype;return i.UR=function(n){this.md.persistVolume&&Gk.Pb(Yk,""+Boolean(n)),t.prototype.UR.call(this,n)},i._I=function(n){this.md.persistVolume&&Gk.Pb(zk,""+Number(n)),t.prototype._I.call(this,n)},n}(t)}),Bk.nu),F(),Tt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Gt(),Dt(),Rt(),Ut(),qt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Gt(),Dt(),Rt(),qt();var jk=function(t){function n(n){var i;return(i=t.call(this)||this).NI=function(t){i.CI(t)||i.yo(t)},i.dR=n,n.Jw(i.NI),i}It(n,t);var i=n.prototype;return i.lR=function(){return this.dR.ht},i.fR=function(){return this.dR.fR()},i.vR=function(){return this.dR._R},i.gR=function(){return this.dR.mR},i.pR=function(t){this.dR.mR=t},i.wR=function(){return this.dR.bt},i.bR=function(){return this.dR.yR},i.AR=function(t,n){this.dR.AR(t,n)},i._d=function(){return this.dR.ct},i.SR=function(){return this.dR.we},i.ER=function(){return this.dR.kR},i.xR=function(){return this.dR.lt},i.IR=function(){return this.dR.RR},i.DR=function(){return this.dR.PR},i.MR=function(){return this.dR.NR},i.OR=function(){return this.dR.LR},i.WR=function(){return this.dR.FR},i.UR=function(t){this.dR.FR=t},i.HR=function(){return this.dR.GR},i.XR=function(){return this.dR.ZR},i.qR=function(){return this.dR.zR},i.YR=function(t){this.dR.zR=t},i.jR=function(){return this.dR.KR},i.JR=function(){return this.dR.QR},i.$R=function(t){this.dR.QR=t},i.eI=function(){return this.dR.tI},i.sI=function(){return this.dR.iI},i.rI=function(){return this.dR.nI},i.Ya=function(){return this.dR.Ya()},i.ka=function(t,n){return this.dR.ka(t,n)},i.oI=function(){return this.dR.nt},i.aI=function(){return this.dR.hI},i.uI=function(){return this.dR.rt},i.lI=function(){return this.dR.cI},i.mI=function(){return this.dR.vI},i.fI=function(){return this.dR.dI},i._I=function(t){this.dR.dI=t},i.pI=function(){return this.dR.pI()},i._a=function(){return this.dR._a()},i.wI=function(){return this.dR.wI()},i.ur=function(t){this.dR.ur(t)},i.ar=function(){this.dR.ar()},i.be=function(){this.dR.be()},i.yI=function(){this.dR.yI()},i.bI=function(){this.dR.bI()},i.AI=function(){this.dR.AI()},i.ge=function(){this.dR.ge()},i.SI=function(){return this.dR.SI()},i.TI=function(){return this.dR.TI()},i.kI=function(){this.dR.kI()},i.EI=function(){this.dR.EI()},i.tr=function(){return this.dR.tr()},i.xI=function(){this.dR.xI()},i.RI=function(){this.dR.RI()},i.II=function(t){return this.dR.II(t)},i.CI=function(t){return!1},i.gn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.Bo(),[4,t.dR.gn()];case 1:return n.sent(),[2]}}))}))()},i.DI=function(t){return this.dR.DI(t)},Nt(n,[{key:"ht",get:function(){return this.lR()}},{key:"_R",get:function(){return this.vR()}},{key:"mR",get:function(){return this.gR()},set:function(t){this.pR(t)}},{key:"bt",get:function(){return this.wR()}},{key:"yR",get:function(){return this.bR()},set:function(t){this.AR(t)}},{key:"ct",get:function(){return this._d()}},{key:"we",get:function(){return this.SR()}},{key:"kR",get:function(){return this.ER()}},{key:"lt",get:function(){return this.xR()}},{key:"RR",get:function(){return this.IR()}},{key:"PR",get:function(){return this.DR()}},{key:"NR",get:function(){return this.MR()}},{key:"LR",get:function(){return this.OR()}},{key:"FR",get:function(){return this.WR()},set:function(t){this.UR(t)}},{key:"GR",get:function(){return this.HR()}},{key:"ZR",get:function(){return this.XR()}},{key:"zR",get:function(){return this.qR()},set:function(t){this.YR(t)}},{key:"KR",get:function(){return this.jR()}},{key:"QR",get:function(){return this.JR()},set:function(t){this.$R(t)}},{key:"tI",get:function(){return this.eI()}},{key:"iI",get:function(){return this.sI()}},{key:"nI",get:function(){return this.rI()}},{key:"nt",get:function(){return this.oI()}},{key:"hI",get:function(){return this.aI()}},{key:"rt",get:function(){return this.uI()}},{key:"cI",get:function(){return this.lI()}},{key:"dI",get:function(){return this.fI()},set:function(t){this._I(t)}},{key:"vI",get:function(){return this.mI()}},{key:"gI",get:function(){return this.dR.gI},set:function(t){this.dR.gI=t}}]),n}(ra);F(),Tt(),Rt(),F(),Tt(),Dt(),Rt();var Kk=function(t){function n(){var n;return(n=t.call(this)||this).lC=void 0,n.vC=function(t){var i=t.Ht;n.tt(i)},n.mC=function(t){var i=t.Ht;n.it(i)},n}It(n,t);var i=n.prototype;return i._C=function(t){t.yn(mg.MI,this.vC),t.yn(mg.BI,this.mC)},i.dC=function(t){t.fn(mg.MI,this.vC),t.fn(mg.BI,this.mC)},i.gn=function(n){!n&&this.lC&&this.lC.gn(),t.prototype.gn.call(this)},Nt(n,[{key:"cC",get:function(){return this.lC},set:function(t){var n=this.lC;if(t!==n){if(n){this.dC(n);for(var i=0,r=n.oC;i<r.length;i++){var e=r[i];t&&t.uC(e)||this.it(e)}}if(this.lC=t,t){for(var u=[],s=0,o=t.oC;s<o.length;s++){var a=o[s];this.tt(a),this.fC(a)&&u.push(a)}this._C(t);for(var c=0;c<u.length;c++){var h=u[c];h.yo(new uw(h))}}}}}]),n}(Ag),qk=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.ma=function(){return zg(this)},i.fC=function(t){return t.Rt},n}(Kk);F(),Tt(),Rt();var Jk=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.ma=function(){return Zy(this)},i.fC=function(t){return t.TE===Oy.Jn},n}(Kk);F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt();var Qk=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n.prototype.FC=function(){},Nt(n,[{key:"LC",get:function(){}},{key:"BC",get:function(){return!1}},{key:"OC",get:function(){}},{key:"ga",get:function(){var t;return null!=(t=this.Za)?t:this.Za=$k(this)}}]),n}(na);function $k(t){return{goLive:function(){return t.FC()},get isLive(){return t.BC},get latencies(){return t.LC},get manifest(){return t.OC},addEventListener:function(n,i){t.yn(nA(n),i)},removeEventListener:function(n,i){t.fn(nA(n),i)}}}var tA=["golive","latencyrecoveryseek"];function nA(t){var n=Vg(t,Og);return(ti(n)?[n]:n).filter((function(t){return mo(tA,t)}))}var iA=function(t){function n(){var n;return(n=t.call(this)||this).lC=void 0,n.Za=void 0,n.lC=void 0,n}It(n,t);var i=n.prototype;return i._C=function(t){t.yn(tA,this.Ds)},i.dC=function(t){t.fn(tA,this.Ds)},i.FC=function(){var t;null==(t=this.lC)||t.FC()},i.gn=function(){this.Bo(),this.lC&&this.dC(this.lC),this.lC=void 0},Nt(n,[{key:"cC",get:function(){return this.lC},set:function(t){var n=this.lC;t!==n&&(n&&this.dC(n),t&&this._C(t),this.lC=t)}},{key:"ga",get:function(){return this.Za||(this.Za=$k(this)),this.Za}},{key:"LC",get:function(){var t;return null==(t=this.lC)?void 0:t.LC}},{key:"BC",get:function(){return!!this.lC&&this.lC.BC}},{key:"OC",get:function(){var t;return null==(t=this.lC)?void 0:t.OC}}]),n}(na);F(),Tt(),F(),Tt();var rA="8E80B9CE",eA=function(t){return t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled",t}({});function uA(t){return{appID:t&&t.appID?Og(t.appID):rA}}F(),Tt(),F(),Tt();var sA=function(t){return t._E="",t.VC="anonymous",t.WC="use-credentials",t}({}),oA=function(t){return t.GC="application/dash+xml",t.HC="application/vnd.apple.mpegurl",t.ZC="application/x-mpegurl",t.XC="video/mp4",t.zC="application/vnd.theoplayer.hesp+json",t.qC="application/vnd.theo.hesp+json",t.YC="millicast",t.KC="theolive",t}({});function aA(t){if(null!==t)return t}function cA(t){var n={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:aA(t.streamActivityMonitorID),adTagParameters:Qn(t.adTagParameters)?t.adTagParameters:{},authToken:aA(t.authToken),omidAccessModeRules:aA(t.omidAccessModeRules)};if("vod"===(null==t?void 0:t.availabilityType)||function(t){var n=t;return Boolean(n.videoID&&n.contentSourceID)}(t)){var i=t.videoID,r=t.contentSourceID;return i?r?$u({},n,{availabilityType:"vod",videoID:i,contentSourceID:r}):void Kn.Mp("A VOD DAI configuration was provided without valid contentSourceID which is required."):void Kn.Mp("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){var n=t;return Boolean(n.assetKey)}(t)){var e=t.assetKey;return e?$u({},n,{availabilityType:"live",assetKey:e}):void Kn.Mp("A Live DAI configuration was provided without valid assetKey which is required.")}Kn.Mp("A DAI configuration was provided without a valid availabilityType which is required.")}function hA(t){return"google-dai"===t.integration?cA(t):$u({},t,{integration:String(t.integration)})}function fA(t,n,i){var r=function(t,n,i){var r,e=function(t,n){var i=sA._E;return t.useCredentials?i=sA.WC:t.crossOrigin&&(i=WA(t.crossOrigin)),i===sA._E&&n&&n.vr&&n.vr[360]&&(i=sA.VC),{useCredentials:i===sA.WC,crossOrigin:i}}(t,n),u=e.useCredentials,s=e.crossOrigin,o=t.liveOffset;Yn(o)||(o=i&&Yn(i.liveOffset)?i.liveOffset:void 0);var a=t.timeServer;Yn(a)||(a=n&&Yn(n.timeServer)?n.timeServer:void 0);var c=t.hlsDateRange;Yn(c)||(c=i&&Yn(i.hlsDateRange)?Boolean(i.hlsDateRange):void 0);var h,f=Boolean(t.experimentalRendering),v=Boolean(t.nativeUiRendering),d=Boolean(t.lowLatency),l=Boolean(t.useNativePlayback),g=Boolean(t.useManagedMediaSource),w=Yn(t.dash)?dA(t.dash):void 0,m=Yn(t.hls)?lA(t.hls):void 0,y=mA(wA(t.abr),null==i?void 0:i.abr),p=xg(t.lcevc),_=Yn(t.ignoreEmbeddedTextTrackTypes)?uT(t.ignoreEmbeddedTextTrackTypes):[],b=MA(null!=(h=t.seamlessSwitchStrategy)?h:null==(r=t.dash)?void 0:r.useSeamlessPeriodSwitch),k=PA(t.latencyConfiguration);return{crossOrigin:s,useCredentials:u,liveOffset:o,timeServer:a,hlsDateRange:c,experimentalRendering:f,nativeUiRendering:v,lowLatency:d,useNativePlayback:l,useManagedMediaSource:g,dash:w,hls:m,abr:y,lcevc:p,ignoreEmbeddedTextTrackTypes:_,seamlessSwitchStrategy:b,latencyConfiguration:k}}(t,n,i),e=aA(t.src),u=t.type;u||(u=t.src?UA(t.src):void 0);var s=function(t,n){var i;i=Yn(t.contentProtection)?t.contentProtection:Yn(t.drm)?t.drm:Yn(n)&&Yn(n.contentProtection)?n.contentProtection:Yn(n)&&Yn(n.drm)?n.drm:void 0;return vA(i)}(t,n);return $u({},r,{src:e,type:u,contentProtection:s,ssai:Yn(t.ssai)?hA(t.ssai):void 0,integrationData:void 0,isAdvertisement:Boolean(t.isAdvertisement)})}function vA(t){return h_(t)&&t.integration&&t.integration===Mp?function(t){var n=m_(Es.fw,t),i=m_(Es.dw,t),r=t[Es.mw]&&m_(Es.mw,t);return $u({integration:"keyos",widevine:n,playready:i},r?{fairplay:r}:{})}(t):t}function dA(t){return{useSeamlessPeriodSwitch:MA(null==t?void 0:t.useSeamlessPeriodSwitch),needsTimescaleShifting:xg(null==t?void 0:t.needsTimescaleShifting),desiredTimescale:void 0!==(null==t?void 0:t.desiredTimescale)?Lg(null==t?void 0:t.desiredTimescale):void 0,forceSeekToSynchronize:xg(null==t?void 0:t.forceSeekToSynchronize),ignoreAvailabilityWindow:xg(null==t?void 0:t.ignoreAvailabilityWindow),forceHardSwitchWhenSeekingBackwards:xg(null==t?void 0:t.forceHardSwitchWhenSeekingBackwards),segmentRelativeVttTiming:xg(null==t?void 0:t.segmentRelativeVttTiming),forceRecreateMediaSourceOnAudioSwitch:xg(null==t?void 0:t.forceRecreateMediaSourceOnAudioSwitch)}}function lA(t){return{discontinuityAlignment:gA(null==t?void 0:t.discontinuityAlignment),delaySubtitlePreload:Pg(null==t?void 0:t.delaySubtitlePreload)}}function gA(t){if(!t||!ti(t))return"auto";switch(t){case"playlist":return"playlist";case"media":return"media";default:return"auto"}}function wA(t){if(Yn(t))return yA(Bg(null==t?void 0:t.preferredAudioCodecs,Og),Bg(null==t?void 0:t.preferredVideoCodecs,Og),xg(null==t?void 0:t.restrictToPlayerSize))}function mA(t,n){var i;if(Yn(t)||Yn(n))return yA(pA(null==t?void 0:t.preferredAudioCodecs,null==n?void 0:n.preferredAudioCodecs),pA(null==t?void 0:t.preferredVideoCodecs,null==n?void 0:n.preferredVideoCodecs),null!=(i=null==t?void 0:t.restrictToPlayerSize)?i:null==n?void 0:n.restrictToPlayerSize)}function yA(t,n,i){if(0!==t.length||0!==n.length||void 0!==i)return{preferredAudioCodecs:0===t.length?void 0:t,preferredVideoCodecs:0===n.length?void 0:n,restrictToPlayerSize:i}}function pA(t,n){return void 0!==t&&(null==t?void 0:t.length)>0?t:null!=n?n:[]}function _A(t,n){if(void 0!==n)switch(t){case jg.lE:return n.preferredVideoCodecs;case jg.cE:return n.preferredAudioCodecs;default:return}}F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),Dt(),Rt(),Ut(),F(),Tt();var bA=!1;function kA(t,n,i){return i?t<=n:t<n}F(),Tt(),Dt();var AA=function(){function t(t,n){this.V=t.length>>1,this.FL=t,this.WL=n||function(t){for(var n=new Array(2*t),i=0,r=0;i<t;i+=1,r+=2)n[r]=!0,n[r+1]=!1;return n}(this.V)}var n=t.prototype;return n.Cn=function(t){return this.FL[2*t]},n.jn=function(t){return this.FL[2*t+1]},n.VL=function(t){return this.WL[2*t]},n.UL=function(t){return this.WL[2*t+1]},n.ks=function(){var t=this;return{get length(){return t.V},start:function(n){var i=0|n;return t.GL(i),t.Cn(i)},end:function(n){var i=0|n;return t.GL(i),t.jn(i)}}},n.HL=function(){for(var n=new Array(2*this.V),i=new Array(2*this.V),r=0;r<this.V;r++)n[2*r]=this.Cn(r),n[2*r+1]=this.jn(r),i[2*r]=!0,i[2*r+1]=!0;return new t(n,i)},n.GL=function(t){if(t<0)throw new p("The index provided ("+t+") must be non-negative");if(t>=this.V)throw new p("The index provided ("+t+") is greater than the maximum bound ("+this.V+")")},n.ZL=function(t){if(0===this.V)return 0;if(this.gr(t))return t;if(t<=this.Cn(0))return this.Cn(0);if(t>=this.jn(this.V-1))return this.jn(this.V-1);for(var n=0,i=1/0,r=0;r<this.V;r++){var e=this.Cn(r),u=k.abs(e-t);u<i&&(n=e,i=u);var s=this.jn(r),o=k.abs(s-t);o<i&&(n=s,i=o)}return n},n.Sn=function(n){for(var i=0,r=0,e=[],u=[];i<this.V&&r<n.V;){var s=this.Cn(i),o=this.jn(i),a=this.VL(i),c=this.UL(i),h=n.Cn(r),f=n.jn(r),v=n.VL(r),d=n.UL(r),l=k.max(s,h),g=k.min(o,f),w=void 0;w=s===h?a&&v:l===s?a:v;var m=void 0;m=o===f?c&&d:g===o?c:d,(l<g||w&&m&&l===g)&&(e.push(l,g),u.push(w,m)),o===f?(i+=1,r+=1):o<f?i+=1:r+=1}return new t(e,u)},n.XL=function(){var n=this.zL(),i=n.V;if(0===i)return new t([-1/0,1/0],[!1,!1]);var r=[],e=[],u=n.Cn(0);u!==-1/0&&(r.push(-1/0,u),e.push(!1,!n.VL(0)));for(var s=0;s<i-1;s++)r.push(n.jn(s),n.Cn(s+1)),e.push(!n.UL(s),!n.VL(s+1));var o=n.jn(i-1);return o!==1/0&&(r.push(o,1/0),e.push(!n.UL(i-1),!1)),new t(r,e)},n.qL=function(n){for(var i=0,r=0,e=this.V,u=n.V,s=new Array(2*(e+u)),o=new Array(2*(e+u)),a=0;i<e&&r<u;){var c=this.Cn(i),h=this.jn(i),f=n.Cn(r),v=n.jn(r);c<f||c===f&&h<v?(s[a]=c,s[a+1]=h,o[a]=this.VL(i),o[a+1]=this.UL(i),i++):(s[a]=f,s[a+1]=v,o[a]=n.VL(r),o[a+1]=n.UL(r),r++),a+=2}for(;i<e;)s[a]=this.Cn(i),s[a+1]=this.jn(i),o[a]=this.VL(i),o[a+1]=this.UL(i),i++,a+=2;for(;r<u;)s[a]=n.Cn(r),s[a+1]=n.jn(r),o[a]=n.VL(r),o[a+1]=n.UL(r),r++,a+=2;return new t(s,o)},n.YL=function(n){void 0===n&&(n=0);var i=this.V;if(i<2)return this;for(var r=[],e=[],u=this.Cn(0),s=this.jn(0),o=this.VL(0),a=this.UL(0),c=1;c<i;c++){var h=this.Cn(c),f=this.jn(c),v=this.VL(c),d=this.UL(c);u<h&&s>f||(u===h&&(o=v=o||v),s===f&&(a=d=a||d),kA(h,s+n,a||v)?(s=f,a=d):(r.push(u,s),e.push(o,a),u=h,s=f,o=v,a=d))}return r.push(u,s),e.push(o,a),new t(r,e).zL()},n.zL=function(){for(var n=[],i=[],r=0;r<this.V;r++){var e=this.Cn(r),u=this.jn(r),s=this.VL(r),o=this.UL(r);e===u?(s||o)&&(n.push(e,u),i.push(!0,!0)):(n.push(e,u),i.push(s,o))}return new t(n,i)},n.KL=function(t){return 0===this.V?t:0===t.V?this:this.qL(t).YL()},n.jL=function(t){var n=this.zL(),i=t.zL(),r=n.XL(),e=i.XL(),u=r.Sn(i),s=e.Sn(n);return u.KL(s)},n.Ab=function(n){if(0===this.V||0===n)return this;for(var i=[],r=[],e=0;e<this.V;e++){var u=this.Cn(e)+n,s=this.jn(e)+n;i.push(u,s),r.push(this.VL(e),this.UL(e))}return new t(i,r)},n.QL=function(t){return 0===this.V||0===t.V?this:this.zL().Sn(t.zL().XL())},n.gr=function(t,n){return this.JL(t,n)>=0},n.$L=function(t,n,i,r,e){return this.tB(t,n,i,r,e)>=0},n.eB=function(t,n,i,r,e){return this.iB(t,n,i,r,e)>=0},n.sB=function(t){if(t.V!==this.V)return!1;for(var n=0;n<this.V;n++)if(this.Cn(n)!==t.Cn(n)||this.jn(n)!==t.jn(n)||this.VL(n)!==t.VL(n)||this.UL(n)!==t.UL(n))return!1;return!0},n.nB=function(n){for(var i=[],r=[],e=0;e<this.V;e++){var u=this.Cn(e),s=this.jn(e),o=this.VL(e),a=this.UL(e);n(u,s,o,a)&&(i.push(u,s),r.push(o,a))}return new t(i,r)},n.iB=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!0),void 0===e&&(e=0);for(var u=t-e,s=n+e,o=0;o<this.V;o+=1)if(kA(this.Cn(o),s,!r||this.VL(o))&&kA(u,this.jn(o),!i||this.UL(o)))return o;return-1},n.tB=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!1),void 0===e&&(e=0);for(var u=t+e,s=n-e,o=0;o<this.V;o+=1)if(kA(this.Cn(o),u,!i||this.VL(o))&&kA(s,this.jn(o),!r||this.UL(o)))return o;return-1},n.JL=function(t,n){return this.tB(t,t,!0,!0,n)},n.rB=function(t,n){void 0===n&&(n=0);for(var i=t+n,r=this.V-1;r>=0;r-=1)if(kA(this.Cn(r),i,this.VL(r)))return r;return-1},n.oB=function(t,n){void 0===n&&(n=0);for(var i=t-n,r=0;r<this.V;r+=1)if(kA(i,this.jn(r),this.UL(r)))return r;return-1},n.hB=function(t,n){void 0===n&&(n=0);for(var i=t+n,r=0;r<this.V;r+=1)if(this.Cn(r)>i)return r;return-1},n.aB=function(n){return this.GL(n),new t([this.Cn(n),this.jn(n)],[this.VL(n),this.UL(n)])},n.uB=function(t,n){var i=this.JL(t,n);return i<0?void 0:this.aB(i)},t.xn=function(n){for(var i=[],r=0;r<n.length;r++)i.push(n.start(r),n.end(r));return new t(i)},t.lB=function(n){return new t([n,n],[!0,!0])},t.dB=function(n,i){return n<=i?new t([n,i]):t.fB()},t.fB=function(){return TA},Nt(t,[{key:"OL",get:function(){return this.FL.slice()}},{key:"cB",get:function(){for(var t=0,n=0;n<this.V;n++){t+=this.jn(n)-this.Cn(n)}return t}}]),t}(),TA=new AA([]),SA=.92,EA=1.08,IA=.25,RA=function(t){function n(n,i,r){var e,u;return(e=t.call(this)||this).Kh=!1,e.He=!1,e.pB=[],e.MB=!1,e.SB=0,e.qE=void 0,e.RB=0,e.xB=1/0,e.VB=function(){var t=e.LB._R,n=e.LB.yR,i=t.uB(n);i&&(e.SB=er(i.jn(0)-n,e.SB,.5),e.wB())},e.WB=function(){e.MB=!0,e.ta.fn(wp.BL,e.WB),e.He&&e.Cn()},e.AB=function(){e.NB(),e.DB();var t=e.HB;if(t){var n=e.XB();if(t>e.mB.forceSeekOffset)return e.yo(new ea("latencyrecoveryseek")),void e.FC();var i=e.mB,r=i.minimumOffset,u=i.targetOffset,s=i.maximumOffset,o=e.LB.zR;if(n>s&&e.zB()){var a=e.mB.maximumPlaybackRate;bA,e.FB(a)}else if(n<r&&!Kn.Ys.Kg){var c=e.mB.minimumPlaybackRate;bA,e.FB(c)}else if(o>1&&n<u){bA,e.FB(1)}else if(o<1&&n>u){bA,e.FB(1)}}},e.ta=n,e.LB=i,e.TB=r,e.CB=r.targetOffset,e.PB=r.targetOffset+(null!=(u=r.leniency)?u:0),e.kB=r.targetOffset,e.mB=e.bB(),e.ta.yn(wp.LL,e.VB),e.ta.yn(wp.BL,e.WB),e}It(n,t);var i=n.prototype;return i.gB=function(t){this.pB.push(t),this.wB()},i.yB=function(t){lo(this.pB,t),this.wB()},i.wB=function(){this.mB=this.bB(),this.Kh&&this.AB()},i.bB=function(){var t=this.SB,n=function(t,n){var i=n-t.targetOffset;return{minimumOffset:t.minimumOffset+i,targetOffset:t.targetOffset+i,maximumOffset:t.maximumOffset+i,forceSeekOffset:t.forceSeekOffset+i,minimumPlaybackRate:t.minimumPlaybackRate,maximumPlaybackRate:t.maximumPlaybackRate,leniency:t.leniency}}(this.TB,this.kB),i=[n].concat(Ft(this.pB)),r=i.reduce((function(t,n){var i;return k.max(t,null!=(i=null==n?void 0:n.minimumOffset)?i:0)}),t),e=i.reduce((function(t,n){var i;return k.max(t,null!=(i=null==n?void 0:n.targetOffset)?i:0)}),r+IA),u=i.reduce((function(t,n){var i;return k.max(t,null!=(i=null==n?void 0:n.maximumOffset)?i:0)}),e+IA);return{minimumOffset:r,targetOffset:e,maximumOffset:u,forceSeekOffset:i.reduce((function(t,n){var i;return k.max(t,null!=(i=null==n?void 0:n.forceSeekOffset)?i:0)}),u+IA),minimumPlaybackRate:i.reduce((function(t,n){var i;return k.min(t,null!=(i=n.minimumPlaybackRate)?i:SA)}),SA),maximumPlaybackRate:i.reduce((function(t,n){var i;return k.max(t,null!=(i=n.maximumPlaybackRate)?i:EA)}),EA)}},i.EB=function(){var t,n=null==(t=AA.xn(this.ta._R).uB(this.ta.yR))?void 0:t.jn(0),i=void 0!==n?n-this.ta.yR:0;this.xB=k.min(this.xB,i),this.RB+=1},i.IB=function(){if(!(this.RB<10)){var t=.25-this.xB,n=er(this.kB+t,this.kB-.1,this.kB+.1);this.kB=er(n,this.CB,this.PB),this.xB=1/0,this.RB=0}},i.DB=function(){var t=this;this.NB(),this.qE=Kn.Fg((function(){return t.AB()}),500)},i.NB=function(){void 0!==this.qE&&(Kn.Og(this.qE),this.qE=void 0)},i.Cn=function(){var t=this;this.He&&this.MB&&(this.Kh||this.LB.yn(ua.$y,this.AB),this.BB=Kn.Op((function(){return t.EB()}),1e3),this.OB=Kn.Op((function(){return t.IB()}),6e4),this.DB(),this.Kh=!0)},i.SI=function(){this.Kh&&(this.NB(),this.BB&&Kn.Fp(this.BB),this.OB&&Kn.Fp(this.OB),this.LB.fn(ua.$y,this.AB),this.FB(1),this.Kh=!1)},i.Ww=function(){this.SI(),this.ta.fn(wp.LL,this.VB),this.ta.fn(wp.BL,this.WB),this.Bo()},i.FB=function(t){this.LB.GB.UB||this.ta.zR!==t&&(this.ta.zR=t)},Nt(n,[{key:"_B",get:function(){return this.He&&this.Kh}},{key:"vB",get:function(){return this.mB}},{key:"Rt",get:function(){return this.He},set:function(t){this.He=t,t?this.Cn():this.SI()}},{key:"HB",get:function(){return this.ta.ZB}}]),n}(na),CA=.66,NA=1.5,DA=3;function PA(t){if(Yn(t)){var n,i,r,e,u,s,o=Kn.Ys.jg?10:0,a=t.targetOffset;return{minimumOffset:null!=(n=t.minimumOffset)?n:a*CA,targetOffset:a,maximumOffset:null!=(i=t.maximumOffset)?i:a*NA,forceSeekOffset:k.max(null!=(r=t.forceSeekOffset)?r:a*DA,o),minimumPlaybackRate:null!=(e=t.minimumPlaybackRate)?e:SA,maximumPlaybackRate:null!=(u=t.maximumPlaybackRate)?u:EA,leniency:null!=(s=t.leniency)?s:void 0}}}var xA=function(t){return t.qB="auto",t.YB="always",t.KB="never",t.CLEAR_ONLY="clear-only",t.SAME_DRM_ONLY="same-drm-only",t}({}),LA=function(t){return t.UPLYNK="uplynk",t.MEDIATAILOR="mediatailor",t}({});function MA(t){if(!t||!ti(t))return"auto";switch(t){case"always":return"always";case"never":return"never";case"clear-only":return"clear-only";case"same-drm-only":return"same-drm-only";default:return"auto"}}F(),Tt(),F(),Tt();var OA=function(t){return t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled",t}({});F(),Tt();var BA=!1;F(),Tt();var VA=function(t){return t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll",t}({});function FA(t){return!!t&&Os(t,"mpd")}function UA(t){var n=oA.XC;return FA(t)&&(n=oA.GC),function(t){return!!t&&Os(t,"m3u8")}(t)&&(n=oA.HC),n}function WA(t){switch(t){case sA.VC:case sA.WC:return t;default:return sA._E}}function ZA(t){if(!t)return!1;var n=t.toLowerCase();return Bs(n,oA.GC)}function XA(t){if(!t)return!1;var n=t.toLowerCase();return Bs(n,oA.HC)||Bs(n,oA.ZC)}function GA(t){return Qn(t)&&Qn(t.ssai)&&"google-dai"===t.ssai.integration}function HA(t){return Qn(t)&&("verizon-media"===t.integration||"uplynk"===t.integration)}function zA(t){return Qn(t)&&("theolive"===t.type||"theolive"===t.integration)}function YA(t){return Qn(t)&&"mediatailor"===t.integration}function jA(t){return Qn(t)&&"millicast"===t.type}function KA(t){if(ti(t))return!t;if(HA(t))return!t.id;if(GA(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,r="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&r)}return jA(t)?!t.src||!t.streamAccountId:!t.src}function qA(t){return Boolean(Qn(t)&&ti(t.src))}function JA(t){return t.type===oA.zC||t.type===oA.qC}function QA(t){return ti(t)||qA(t)||GA(t)||HA(t)||jA(t)}function $A(t){if(t){if(QA(t))return KA(t);for(var n=0;n<t.length;n++){if(!KA(t[n]))return!1}return!0}return!0}function tT(){return{crossOrigin:sA._E,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,useManagedMediaSource:!1,dash:void 0,hls:void 0,abr:void 0,lcevc:void 0,ignoreEmbeddedTextTrackTypes:[],seamlessSwitchStrategy:xA.qB,latencyConfiguration:void 0}}function nT(){return $u({},tT(),{src:void 0,type:oA.XC,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function iT(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:OA.ENABLED,googleIma:{useNativeIma:!1,useAdUiElementForSsai:!1,bitrate:-1,language:void 0,uiElements:void 0},theoads:BA};return void 0===t||(void 0!==t.preload&&(n.preload=function(t){return"none"===t?VA.NONE:VA.MIDROLL_AND_POSTROLL}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=Pg(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return OA.INSECURE;case"disabled":return OA.DISABLED;default:return OA.ENABLED}}(t.vpaidMode)),qn(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(ti)),void 0!==t.googleIma&&(n.googleIma=function(t){return void 0===t?{useNativeIma:!1,useAdUiElementForSsai:!1,bitrate:-1,language:void 0,uiElements:void 0}:{useNativeIma:Pg(t.useNativeIma),useAdUiElementForSsai:Pg(t.useAdUiElementForSsai),bitrate:null!=(n=t.bitrate)?n:-1,language:Yn(t.language)?Og(t.language):void 0,uiElements:t.uiElements};var n}(t.googleIma)),void 0!==t.theoads?n.theoads=Pg(t.theoads):n.theoads=BA),n}function rT(t){if(!Jn(t))return[];for(var n=[],i=0;i<t.length;i++){var r=t[i];Qn(r)&&n.push(r)}return n}function eT(t){return ti(t.src)||jA(t)}function uT(t){return qn(t)?t.filter(Aw):[]}F(),Tt(),Rt();var sT=function(t){function n(n,i){var r;return void 0===i&&(i=pp.jB),(r=t.call(this,ua.Ty)||this).currentTime=n,r.readyState=i,r}return It(n,t),n}(ea);F(),Tt(),Rt();var oT=function(t){function n(n){var i;return(i=t.call(this,ua.Uy)||this).currentTime=n,i}return It(n,t),n}(ea);F(),Tt(),Rt();var aT=function(t){function n(n){var i;return(i=t.call(this,ua.so)||this).currentTime=n,i}return It(n,t),n}(ea);F(),Tt(),Rt();var cT=function(t){function n(n){var i;return(i=t.call(this,ua.Sy)||this).duration=n,i}return It(n,t),n}(ea);F(),Tt(),Rt();var hT=function(t){function n(n,i){var r;return(r=t.call(this,ua.Hy)||this).currentTime=n,r.playbackRate=i,r}return It(n,t),n}(ea);F(),Tt(),Rt();var fT=function(t){function n(n){var i;return(i=t.call(this,ua.xy)||this).currentTime=n,i}return It(n,t),n}(ea);F(),Tt(),Rt();var vT=function(t){function n(n){var i;return(i=t.call(this,ua.qy)||this).currentTime=n,i}return It(n,t),n}(ea);F(),Tt(),Rt();var dT=function(t){function n(n){var i;return(i=t.call(this,ua.zy)||this).currentTime=n,i}return It(n,t),n}(ea);F(),Tt(),Rt();var lT=function(t){function n(n,i){var r;return(r=t.call(this,ua.eb)||this).currentTime=n,r.volume=i,r}return It(n,t),n}(ea);function gT(t,n){return wT.apply(this,arguments)}function wT(){return wT=Zt((function(t,n,i,r,e){var u,s,o;return Ht(this,(function(a){switch(a.label){case 0:void 0===i&&(i=3),void 0===r&&(r=1e3),void 0===e&&(e=1/0),u=0,a.label=1;case 1:0,a.label=2;case 2:return a.trys.push([2,4,,7]),[4,t(n)];case 3:return[2,a.sent()];case 4:return Bo(s=a.sent()),u<i?(o=k.min(r*k.pow(2,u),e),u++,[4,Jo(o,n)]):[3,6];case 5:return a.sent(),[3,1];case 6:throw s;case 7:return[3,1];case 8:return[2]}}))})),wT.apply(this,arguments)}F(),Tt(),Gt(),qt();var mT={maxRetries:1/0,minimumBackoff:200,maximumBackoff:3e4};F(),Tt();var yT=function(t){return t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture",t.NATIVE_PICTURE_IN_PICTURE="native-picture-in-picture",t}({}),pT=function(t){return t.NONE="none",t.ALL="all",t.CONTENT="content",t}({});function _T(t){switch(t){case"all":case"content":return t;default:return"none"}}function bT(t){var n,i=Ig(t||{});return i.libraryLocation&&(i.libraryLocation=gl(i.libraryLocation,!0)),i.isEmbeddable=Boolean(i.isEmbeddable),i.cast=function(t){var n=uA(t?t.chromecast:void 0),i=function(t){switch(t){case"auto":return"auto";case"manual":default:return"manual";case"disabled":return"disabled"}}(t?t.strategy:void 0);return{chromecast:n,strategy:i}}(i.cast),i.ads=iT(i.ads),i.analytics=rT(i.analytics),i.mutedAutoplay=_T(i.mutedAutoplay),i.allowNativeFullscreen=Boolean(i.allowNativeFullscreen),i.allowMixedContent=Boolean(i.allowMixedContent),i.persistVolume=Boolean(i.persistVolume),i.liveOffset=function(t){return Number(t)||void 0}(i.liveOffset),i.hlsDateRange=function(t){return Boolean(t)}(i.hlsDateRange),i.retainPlaybackRateOnSourceChange=Boolean(i.retainPlaybackRateOnSourceChange),i.license=function(t){return ti(t)?t:void 0}(i.license),i.licenseUrl=function(t){if(!t)return;try{return gl(t)}catch(t){return void Kn.Mp("Invalid 'licenseUrl', falling back to default URL")}}(i.licenseUrl),i.abr=wA(i.abr),i.retryConfiguration=function(t){var n=$u({},mT);return void 0!==t&&(void 0!==t.maxRetries&&(n.maxRetries=Number(t.maxRetries)),void 0!==t.minimumBackoff&&(n.minimumBackoff=Number(t.minimumBackoff)),void 0!==t.maximumBackoff&&(n.maximumBackoff=Number(t.maximumBackoff))),n}(i.retryConfiguration),i.hideDeprecationWarnings=Boolean(i.hideDeprecationWarnings),i.theoLive=function(t){if(!t)return t;return $u({},t,{externalSessionId:t.externalSessionId?Og(t.externalSessionId):void 0,fallbackEnabled:xg(t.fallbackEnabled)})}(i.theoLive),null!=(n=i).uplynk||(n.uplynk=i.verizonMedia),i}function kT(t){return{bt:t.bt,yR:t.yR,ct:t.ct,kR:t.kR,lt:t.lt,RR:t.RR,FR:t.FR,ZR:t.ZR,zR:t.zR,tI:t.tI,nI:t.nI,hI:t.hI,cI:t.cI,dI:t.dI}}function AT(t,n){var i=n.dI,r=n.FR;t.dI=i,t.FR=r}function TT(t,n,i){if(n!==i){var r=n.bt!==i.bt,e=n.yR,u=n.ct,s=n.FR,o=n.ZR,a=n.zR,c=n.tI,h=n.nI,f=(n.cI,n.hI,n.dI),v=i.yR,d=i.ct,l=i.kR,g=i.RR,w=i.FR,m=i.ZR,y=i.zR,p=i.tI,_=i.nI,b=(i.cI,i.hI,i.dI);(r||c>pp.jB&&p===pp.jB)&&t.yo(new sT(v,p)),m&&!o?t.yo(new oT(v)):!m&&o&&t.yo(new aT(v)),p>=pp.Xn&&(r||c<pp.Xn)&&t.yo(new _p(v,p)),d===u||S(d)&&S(u)||t.yo(new cT(d)),y!==a&&t.yo(new hT(v,y)),v!==e&&t.yo(new vg(v,void 0)),l&&t.yo(new fT(v)),p>=pp.QB&&(r||c<pp.QB)&&t.yo(new bp(v,p)),_&&!h?t.yo(new vT(v)):!_&&h&&t.yo(new dT(v)),b===f&&w===s||t.yo(new lT(v,b)),p>=pp.JB&&(r||c<pp.JB)&&t.yo(new Ap(v,p)),p>=pp.$B&&(r||c<pp.$B)&&t.yo(new Tp(v,p)),p!==c&&t.yo(new yp(v,p)),g&&t.yo(new wk(g))}}function ST(t){switch(t){case yT.INLINE:case yT.FULLSCREEN:case yT.PICTURE_IN_PICTURE:case yT.NATIVE_PICTURE_IN_PICTURE:return t;default:return}}F(),Tt(),Rt();var ET=function(t){function n(n){var i;return(i=t.call(this,ua.yy)||this).currentSource=n,i}return It(n,t),n}(ea);F(),Tt(),Rt();var IT=function(t){function n(){return t.call(this,ua.Ry)||this}return It(n,t),n}(ea);F(),Tt(),Rt();var RT=function(t){function n(){return t.call(this,ua.Cy)||this}return It(n,t),n}(ea);F(),Tt(),Dt(),Rt(),F(),Tt(),Rt(),F(),Tt();var CT=function(t){return t.tO="enterpictureinpicture",t.eO="exitpictureinpicture",t.ua="pictureinpictureerror",t}({}),NT=function(t){function n(){return t.call(this,CT.tO)||this}return It(n,t),n}(ea);F(),Tt(),Rt();var DT=function(t){function n(){return t.call(this,CT.eO)||this}return It(n,t),n}(ea),PT=function(t){function n(n){var i;return(i=t.call(this)||this).lC=n,i._C(i.lC),i}It(n,t);var i=n.prototype;return i._C=function(t){t.yn(CT.tO,this.Ds),t.yn(CT.eO,this.Ds),t.yn(CT.ua,this.Ds)},i.dC=function(t){t.fn(CT.tO,this.Ds),t.fn(CT.eO,this.Ds),t.fn(CT.ua,this.Ds)},i.co=function(){return this.lC.co()},i.bo=function(){return this.lC.bo()},i.gn=function(t){this.Bo(),this.dC(this.lC),t||this.lC.gn()},Nt(n,[{key:"cC",get:function(){return this.lC},set:function(t){if(t!==this.lC){this.dC(this.lC);var n=this.lC.iO;this.lC=t,this._C(t),!n&&this.lC.iO?this.yo(new NT):n&&!this.lC.iO&&this.yo(new DT)}}},{key:"sO",get:function(){return this.lC.sO}},{key:"iO",get:function(){return this.lC.iO}}]),n}(na),xT=function(t){function n(n){var i;return(i=t.call(this,n)||this).rO=new qk,i.hO=new qk,i.Ul=new Jk,i.oO=new iA,i.nO=new PT(n._a()),i.rO.cC=n.ht,i.hO.cC=n.rt,i.Ul.cC=n.nt,i.oO.cC=n.PR,i}It(n,t);var i=n.prototype;return i._a=function(){return this.nO},i.lR=function(){return this.rO},i.DR=function(){return this.oO},i.oI=function(){return this.Ul},i.uI=function(){return this.hO},i.aO=function(t){var n=this.dR;if(n!==t){n.oy(this.NI);var i=kT(this),r=this.wR(),e=this.pI(),u=this.wI();this.dR=t,this.rO.cC=t.ht,this.hO.cC=t.rt,this.Ul.cC=t.nt,this.nO.cC=t._a(),this.oO.cC=t.PR,void 0!==i&&TT(this,i,this);var s=this.wR();s!==r&&this.yo(new ET(s)),this.pI()!==e&&this.yo(new IT),this.wI()!==u&&this.yo(new RT),t.Jw(this.NI)}},i.gn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return i.sent(),n.nO.gn(),n.rO.gn(),n.hO.gn(),n.Ul.gn(),n.oO.gn(),[2]}}))}))()},Nt(n,[{key:"PR",get:function(){return this.DR()}}]),n}(jk);F(),Tt();var LT=function(t){function n(n){var i;return(i=t.call(this,n)||this).vO=[],i.do=!1,i.pO=!1,i.mO(n),i}It(n,t);var i=n.prototype;return i.OR=function(){return function(t){for(var n=0,i=0,r=0,e=0,u=0,s=0,o=0,a=0;a<t.length;a++){var c=t[a];n+=c.uO,i+=c.cO,r+=c.lO,e+=c.dO,u+=c.fO,s+=c._O.amountOfBufferedAudioSegments,o+=c._O.amountOfBufferedVideoSegments}return{uO:n,cO:i,lO:r,dO:e,fO:u,_O:{amountOfBufferedAudioSegments:s,amountOfBufferedVideoSegments:o}}}(this.vO.map((function(t){return t.LR})))},i.SI=function(){return Ko(this.vO.map((function(t){return t.SI()}))).then(pi)},i.tr=function(){return Ko(this.vO.map((function(t){return t.tr()}))).then(pi)},i.yI=function(){if(!this.do){for(var t=0,n=this.vO;t<n.length;t++){n[t].yI()}this.do=!0}},i.fR=function(){for(var t=[],n=0,i=this.vO;n<i.length;n++){var r,e=i[n];(r=t).push.apply(r,Ft(e.fR()))}return t},i.II=function(t){for(var n=!1,i=0,r=this.vO;i<r.length;i++){n=r[i].II(t)||n}return n},i.yo=function(n){this.II(n)||t.prototype.yo.call(this,n)},i.mO=function(t){this.vO.push(t)},i.gO=function(t){lo(this.vO,t)},i.aO=function(n){if(n!==this.dR){var i=this.dR;i.ar(),t.prototype.aO.call(this,n),n.ur(i)}},i.xI=function(){for(var t=0,n=this.vO;t<n.length;t++){n[t].xI()}},i.gn=function(){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:n.Bo(),n.dR.ar(),i=0,r=n.vO,u.label=1;case 1:return i<r.length?(e=r[i],n.dR===e?[3,3]:[4,e.gn()]):[3,4];case 2:u.sent(),u.label=3;case 3:return i++,[3,1];case 4:return[4,t.prototype.gn.call(n)];case 5:return u.sent(),[2]}}))}))()},Nt(n,[{key:"cC",get:function(){return this.dR},set:function(t){this.aO(t)}}]),n}(xT);F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Dt();var MT=function(){function t(){this.WH=new Pk,this.VH=[]}var n=t.prototype;return n.FH=function(t){this.VH.push(t)},n.nP=function(t,n,i,r,e,u,s){for(var o=this.WH.nP(t,n,i,r,e,u,s),a=0,c=this.VH;a<c.length;a++){o=(0,c[a])(o,i,r)}return o},n.NH=function(t,n){return this.WH.NH(t,n)},n.MH=function(t){return this.WH.MH(t)},n.LH=function(){return!1},t.OH=function(){return this.Lg},Nt(t,[{key:"BH",get:function(){return this.WH.BH}}]),t}();function OT(t,n){return ro(t.BH,n.BH)}MT.Lg=new MT,F(),Tt(),Gt(),qt(),F(),Tt();var BT=function(){function t(){this.GH=[]}var n=t.prototype;return n.UH=function(t){this.GH.push(t),this.GH.sort(OT)},n.HH=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:r=0,e=i.GH,a.label=1;case 1:return r<e.length?(u=e[r],ii(s=u.NH(t,n))?[4,s]:[3,3]):[3,6];case 2:return o=a.sent(),[3,4];case 3:o=Boolean(s),a.label=4;case 4:if(o)return[2,u];a.label=5;case 5:return r++,[3,1];case 6:return[2,void 0]}}))}))()},t}();function VT(t){ZT.Lg.UH(t)}F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt();var FT,UT,WT,ZT=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).XH=MT.OH(),n}It(n,t);var i=n.prototype;return i.ZH=function(t){this.XH=t},i.zH=function(){return this.XH},i.qH=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:r=i.XH,e=!1,u=0,v.label=1;case 1:return u<t.length?(s=t[u],[4,i.HH(s,n)]):[3,12];case 2:return(o=v.sent())?(a=o_(s.contentProtection))?[3,4]:[4,o.MH(s.contentProtection)]:[3,5];case 3:a=v.sent(),v.label=4;case 4:if(a)return[2,{kc:s,t:o}];s.contentProtection&&(e=!0),v.label=5;case 5:return ii(c=r.NH(s,n))?[4,c]:[3,7];case 6:return h=v.sent(),[3,8];case 7:h=Boolean(c),v.label=8;case 8:return h?(f=o_(s.contentProtection))?[3,10]:[4,r.MH(s.contentProtection)]:[3,11];case 9:f=v.sent(),v.label=10;case 10:if(f)return[2,{kc:s,t:r}];s.contentProtection&&(e=!0),v.label=11;case 11:return u++,[3,1];case 12:return e?[4,Kn.Vp()]:[3,14];case 13:throw v.sent()?new td(Qv.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported."):new td(Qv.CONTENT_PROTECTION_NOT_SUPPORTED,"The DRM configuration is not supported by this platform.");case 14:return[2,{kc:t[0],t:r}]}}))}))()},n}(BT);ZT.Lg=new ZT,F(),Tt(),F(),Tt();var XT=function(){function t(t){this.Vs=f&&f.document&&f.document.createElement("div"),gi(this.Vs),t.appendChild(this.Vs)}return t.prototype.gn=function(){oi(this.Vs)},t}();F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt();var GT=function(t){return t.vG="",t.YH="none",t.jV="metadata",t.qB="auto",t}({});var HT=[Vy.ua,ua.Ty,ua.Ey,ua.ub,ua.ly,ua.Ry,ua.Cy,ua.Vy,ua.Wy,ua.Ky,ua.Qy,wp.PL,wp.DL,wp.NL,wp.ML,wp.QI,wp.LL,wp.BL,ua.py,ua.wy,ua.Sy,ua.xy,ua.By,ua.Oy,ua.so,ua.Gy,ua.Uy,ua.Hy,ua.Xy,ua.qy,ua.zy,ua.$y,ua.eb,ua.Zy,ua.Fy,ua.Yy],zT=function(t){function n(n,i){var r;return(r=t.call(this)||this).tZ=void 0,r.KH=void 0,r.zG=GT.YH,r.JH=void 0,r.iZ=!0,r.rO=new qk,r.hO=new qk,r.Ul=new Jk,r.oO=new iA,r.$H=n,r.ta=i,r.ta.QR=r.QR,r.nO=new PT(i._a()),r.jH(),r}It(n,t);var i=n.prototype;return i.bI=function(){this.ta.bI()},i.AI=function(){var t=this.ta.AI();ii(t)&&jo(t)},i.SI=function(){return this.ka(void 0)},i.yI=function(){},i.jH=function(){this.nO.cC=this.ta._a(),this.rO.cC=this.ta.ht,this.hO.cC=this.ta.rt,this.Ul.cC=this.ta.nt,this.oO.cC=this.ta.PR,this.ta.yn(HT,this.Ds)},i.QH=function(){this.ta.fn(HT,this.Ds),this.rO.cC=void 0,this.hO.cC=void 0,this.Ul.cC=void 0,this.oO.cC=void 0},i.Ya=function(){return this.JH},i.ka=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return Oo(n),i.JH=t,t?$A(r=t.sources.filter(eT))?[2]:[4,i.$H.qH(r,t)]:[2];case 1:return e=c.sent(),Oo(n),u=e.kc,s=e.t,o=i.pI(),a=kT(i),i.tZ!==s||i.lt?(i.QH(),[4,i.ta.gn()]):[3,3];case 2:c.sent(),Oo(n),i.tZ=s,i.ta=i.eZ(s,u),function(t,n){t.FR!==n.FR&&(t.FR=n.FR);t.dI!==n.dI&&(t.dI=n.dI);t.zR!==n.zR&&(t.zR=n.zR)}(i.ta,a),TT(i,a,i),i.jH(),c.label=3;case 3:return i.ta.QR=i.QR,i.iZ?i.ta.ge():i.ta.be(),[4,i.ta.ka(u,t,n)];case 4:return c.sent(),Oo(n),i.sZ(u),i.pI()!==o&&i.yo(new IT),[2]}}))}))()},i.sZ=function(t){this.KH!==t&&(this.KH=t,this.yo(new ET(t)))},i.TI=function(){return this.ta.TI()},i.kI=function(){this.ta.kI()},i.EI=function(){this.ta.EI()},i.pI=function(){return this.ta.pI()},i._a=function(){return this.nO},i.xI=function(){this.ta.xI()},i.RI=function(){this.ta.RI()},i.DI=function(t){return this.ta.DI(t)},i.tr=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.JH=void 0,t.sZ(void 0),[4,t.ta.tr()];case 1:return n.sent(),[2]}}))}))()},i.gn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.Bo(),[4,t.tr()];case 1:return n.sent(),[4,t.ta.gn()];case 2:return n.sent(),t.rO.gn(),t.hO.gn(),t.Ul.gn(),t.nO.gn(),t.oO.gn(),[2]}}))}))()},i.ge=function(){this.iZ=!0,this.ta.ge()},i.be=function(){this.iZ=!1,this.ta.be()},Nt(n,[{key:"ht",get:function(){return this.rO}},{key:"_R",get:function(){return this.ta._R}},{key:"lt",get:function(){return this.ta.lt}},{key:"RR",get:function(){return this.ta.RR}},{key:"mR",get:function(){return this.ta.mR},set:function(t){this.ta.mR=t}},{key:"bt",get:function(){return this.KH}},{key:"yR",get:function(){return this.ta.yR},set:function(t){this.ta.yR=t}},{key:"ct",get:function(){return this.ta.ct}},{key:"kR",get:function(){return this.ta.kR}},{key:"PR",get:function(){return this.oO}},{key:"NR",get:function(){return this.ta.NR}},{key:"LR",get:function(){return this.ta.LR}},{key:"FR",get:function(){return this.ta.FR},set:function(t){this.ta.FR=t}},{key:"GR",get:function(){return this.ta.GR}},{key:"ZR",get:function(){return this.ta.ZR}},{key:"zR",get:function(){return this.ta.zR},set:function(t){this.ta.zR=t}},{key:"KR",get:function(){return this.ta.KR}},{key:"QR",get:function(){return this.zG},set:function(t){this.zG=t,this.ta&&(this.ta.QR=this.zG)}},{key:"tI",get:function(){return this.ta.tI}},{key:"iI",get:function(){return this.ta.iI}},{key:"nI",get:function(){return this.ta.nI}},{key:"nt",get:function(){return this.Ul}},{key:"hI",get:function(){return this.ta.hI}},{key:"rt",get:function(){return this.hO}},{key:"cI",get:function(){return this.ta.cI}},{key:"dI",get:function(){return this.ta.dI},set:function(t){this.ta.dI=t}},{key:"vI",get:function(){return this.ta.vI}},{key:"jG",get:function(){return this.ta.jG}}]),n}(ra);F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Dt(),Rt(),F(),Tt();var YT=function(t){return t.aa="fullscreenchange",t.fa="fullscreensupportchange",t.ua="fullscreenerror",t}({});F(),Tt(),Rt();var jT=function(t){function n(){return t.call(this,YT.ua)||this}return It(n,t),n}(ea),KT=(YT.aa,YT.fa,YT.ua,function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.co=function(){this.yo(new jT)},i.bo=function(){},i.gn=function(){this.Bo()},Nt(n,[{key:"cs",get:function(){return!1}},{key:"ea",get:function(){return!1}}]),n}(na));F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Rt();var qT=function(t){function n(){return t.call(this,CT.ua)||this}return It(n,t),n}(ea),JT=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.co=function(){var t=this;return Zt((function(){return Ht(this,(function(n){return t.yo(new qT),[2]}))}))()},i.bo=function(){var t=this;return Zt((function(){return Ht(this,(function(n){return t.yo(new qT),[2]}))}))()},i.gn=function(){this.Bo()},Nt(n,[{key:"sO",get:function(){return!1}},{key:"iO",get:function(){return!1}}]),n}(na),QT=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).nZ=0,n.oZ=!1,n.hZ=!0,n.aZ=1,n.rZ=!1,n.UA=1,n.ht=new Yg,n._R=AA.fB().ks(),n.ct=NaN,n.kR=!1,n.lt=void 0,n.RR=void 0,n.PR=void 0,n.NR=!1,n.GR=!0,n.KR=AA.fB().ks(),n.QR=GT.YH,n.tI=pp.jB,n.iI=AA.fB().ks(),n.YG=void 0,n.nt=new Xy,n.hI=0,n.rt=new Yg,n.cI=0,n.vI=new Rk,n.QG=new bk,n.Zo=new KT,n.Qo=new JT,n}It(n,t);var i=n.prototype;return i.AR=function(t,n){this.nZ!==t&&(this.nZ=t,this.rZ=!0,this.yo(new vT(this.yR)))},i.ge=function(){},i.be=function(){},i.AI=function(){this.hZ&&(this.hZ=!1,this.yo(new aT(this.yR)),this.yo(new kp(this.yR)))},i.bI=function(){this.hZ||(this.hZ=!0,this.yo(new vg(this.yR,this.mR)),this.yo(new oT(this.yR)))},i.ka=function(t,n){return et.resolve()},i.TI=function(){return!1},i.kI=function(){},i.EI=function(){},i.pI=function(){return this.Zo},i._a=function(){return this.Qo},i.DI=function(t){throw new p("Adding a CustomTextTrack is not supported without setting a source.")},i.xI=function(){},i.RI=function(){},i.tr=function(){var t=this;return Zt((function(){return Ht(this,(function(n){return t.nZ=0,t.rZ=!1,t.bI(),t.yo(new sT(t.nZ)),[2]}))}))()},i.gn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){return t.Bo(),t.ht.gn(),t.nt.gn(),t.rt.gn(),[2]}))}))()},Nt(n,[{key:"mR",get:function(){},set:function(t){}},{key:"bt",get:function(){}},{key:"yR",get:function(){return this.nZ},set:function(t){this.AR(t)}},{key:"LR",get:function(){return{uO:0,cO:0,lO:0,dO:0,fO:0,_O:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"FR",get:function(){return this.oZ},set:function(t){this.oZ!==t&&(this.oZ=t,this.yo(new lT(this.yR,this.dI)))}},{key:"ZR",get:function(){return this.hZ}},{key:"zR",get:function(){return this.aZ},set:function(t){this.aZ!==t&&(this.aZ=t,this.yo(new hT(this.yR,this.zR)))}},{key:"nI",get:function(){return this.rZ}},{key:"dI",get:function(){return this.UA},set:function(t){this.UA!==t&&(this.UA=t,this.yo(new lT(this.yR,this.dI)))}},{key:"gI",get:function(){return!1},set:function(t){}},{key:"jG",get:function(){return this.QG}},{key:"ZB",get:function(){}}]),n}(na),$T=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).mH=void 0,n.LB=void 0,n}It(n,t);var i=n.prototype;return i.wI=function(){var t;return null==(t=this.LB)?void 0:t.XG},i.gn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return i.sent(),n.LB?[4,n.mH.vH(n.LB)]:[3,3];case 2:i.sent(),n.LB=void 0,i.label=3;case 3:return[2]}}))}))()},Nt(n,[{key:"uZ",set:function(t){this.mH=t,this.LB=t.DH(jg.lE)}}]),n}(QT),tS=function(t){function n(n,i,r,e,u,s,o){var a,c=new $T;return(a=t.call(this,ZT.Lg,c)||this).ku=n,a.IT=i,a.aW=r,a.dZ=e,a.fZ=u,a._Z=o,a.lZ=new FT(s,a._Z),a.lZ.gZ(a.ku),c.uZ=a.lZ,a.mZ=new XT(a.ku),a}It(n,t);var i=n.prototype;return i.yI=function(){t.prototype.yI.call(this),this.lZ.cZ()},i.ur=function(t){AT(this,t)},i.ar=function(){},i.II=function(t){return!1},i.ka=function(n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){switch(s.label){case 0:return e=r.pI(),u=r.wI(),[4,t.prototype.ka.call(r,n,i)];case 1:return s.sent(),r.pI()!==e&&r.yo(new IT),r.wI()!==u&&r.yo(new RT),[2]}}))}))()},i.AR=function(t,n){this.ta.AR(t,n)},i.eZ=function(t,n){return t.nP(this.ku,this.lZ,this.aW,this.IT,this.dZ,this.fZ,this._Z,n)},i.wI=function(){return this.ta.wI()},i.fR=function(){return this.lZ.vZ.map((function(t){return t.XG}))},i.gn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return i.sent(),n.lZ.gn(),n.mZ.gn(),[2]}}))}))()},Nt(n,[{key:"we",get:function(){return this.ku}},{key:"gI",get:function(){return this.ta.gI},set:function(t){this.ta.gI=t}}]),n}(zT);F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt();var nS=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Zo=new KT,e.Qo=new JT,e.KG=new Rk,e.ku=n,e.wZ=i,e.pZ=new Yg,e.bZ=new Xy,e.yZ=r,e}It(n,t);var i=n.prototype;return i.AR=function(t,n){},i.II=function(t){return!0},i.be=function(){},i.AI=function(){throw this.yo(new wk(this.yZ)),this.wZ},i.bI=function(){},i.Ya=function(){},i.ka=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(t){throw Oo(n),i.yo(new wk(i.yZ)),i.wZ}))}))()},i.ge=function(){},i.SI=function(){return et.resolve()},i.wI=function(){},i.pI=function(){return this.Zo},i._a=function(){return this.Qo},i.fR=function(){return[]},i.yI=function(){},i.ur=function(t){},i.ar=function(){},i.TI=function(){return!1},i.kI=function(){},i.EI=function(){},i.xI=function(){},i.RI=function(){},i.DI=function(t){},i.tr=function(){return et.resolve()},i.gn=function(){return this.Bo(),this.pZ.gn(),this.bZ.gn(),et.resolve()},Nt(n,[{key:"ht",get:function(){return this.pZ}},{key:"_R",get:function(){return AA.fB().ks()}},{key:"mR",get:function(){return new Date(NaN)},set:function(t){}},{key:"bt",get:function(){}},{key:"yR",get:function(){return 0},set:function(t){}},{key:"ct",get:function(){return 0}},{key:"we",get:function(){return this.ku}},{key:"kR",get:function(){return!0}},{key:"lt",get:function(){return this.wZ}},{key:"RR",get:function(){return this.yZ}},{key:"PR",get:function(){}},{key:"LR",get:function(){return{uO:0,cO:0,lO:0,dO:0,fO:0,_O:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"FR",get:function(){return!1},set:function(t){}},{key:"GR",get:function(){return!0}},{key:"ZR",get:function(){return!0}},{key:"zR",get:function(){return 0},set:function(t){}},{key:"KR",get:function(){return AA.fB().ks()}},{key:"QR",get:function(){return GT.YH},set:function(t){}},{key:"tI",get:function(){return pp.jB}},{key:"iI",get:function(){return AA.fB().ks()}},{key:"nI",get:function(){return!1}},{key:"nt",get:function(){return this.bZ}},{key:"hI",get:function(){return 0}},{key:"rt",get:function(){return this.pZ}},{key:"cI",get:function(){return 0}},{key:"dI",get:function(){return 1},set:function(t){}},{key:"vI",get:function(){return this.KG}},{key:"gI",get:function(){return!1},set:function(t){}},{key:"NR",get:function(){return!1}}]),n}(ra);function iS(t){if(t&&Qn(t))return $u({},t,{integration:rS(t.integration),fairplay:cS(t.fairplay),widevine:eS(t.widevine),playready:uS(t.playready),clearkey:hS(t.clearkey),aes128:fS(t.aes128),integrationParameters:vS(t.integrationParameters),preferredKeySystems:dS(t.preferredKeySystems),useOipfDrmAgent:Pg(t.useOipfDrmAgent)})}function rS(t){if(ti(t))return t}function eS(t){if(t&&Qn(t))return{persistentState:sS(t.persistentState),distinctiveIdentifier:sS(t.distinctiveIdentifier),audioRobustness:oS(t.audioRobustness),videoRobustness:oS(t.videoRobustness),licenseAcquisitionURL:ti(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:aS(t.licenseType),headers:t.headers,useCredentials:!!ni(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:ti(t.certificate)||bc(t.certificate)?t.certificate:void 0}}function uS(t){if(t){var n=eS(t);if(n)return $u({},n,{customData:ti(t.customData)?t.customData:void 0})}}function sS(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function oS(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function aS(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function cS(t){if(t){var n=eS(t);if(n)return $u({},n,{certificateURL:ti(t.certificateURL)?t.certificateURL:void 0})}}function hS(t){if(t){var n=eS(t);if(n){var i=qn(t.keys)?t.keys.map((function(t){return function(t){if(!t||!Qn(t))return;var n=t.id,i=t.value;if(!ti(n)||!ti(i))return;return{id:n,value:i}}(t)})).filter(Yn):void 0;return $u({},n,{keys:i})}}}function fS(t){if(Qn(t))return{useCredentials:ni(t.useCredentials)?t.useCredentials:void 0}}function vS(t){if(Qn(t))return t}function dS(t){return t&&qn(t)?t.map((function(t){return y_(t)})).filter(Yn):[ms,ls,ks]}F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt();var lS={bt:void 0,yR:0,ct:NaN,kR:!1,lt:void 0,RR:void 0,FR:!1,ZR:!0,zR:1,tI:pp.jB,nI:!1,hI:0,cI:0,dI:1};F(),Tt(),Dt();var gS=function(t){return t.DEFAULT="",t.THEO="theo",t.CSAI="csai",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel",t.MEDIATAILOR="mediatailor",t.THEOADS="theoads",t.UPLYNK="uplynk",t}({}),wS=function(){function t(){this.SZ=[]}var n=t.prototype;return n.TZ=function(t){var n=this.SZ.filter((function(n){return n.kZ(t)}));if(n.length>1)0;else if(0===n.length)throw p("Unknown ad integration: "+t.integration);return n[0]||null},n.EZ=function(t){this.SZ.push(t)},Nt(t,[{key:"AZ",get:function(){return this.SZ}}]),t}();wS.Lg=new wS,F(),Tt(),Rt(),F(),Tt(),F(),Tt(),Rt(),F(),Tt(),Dt(),Rt();var mS=function(t){return t.BL="PLAYING",t.xZ="PAUSED",t.RZ="SEEK",t.IZ="STALLED",t.CZ="FAILED",t.PZ="INITIAL_BUFFERING",t.DZ="NO_ACCESS",t}({}),yS=function(t){return t.NZ="HTTP_REQUEST_STATUS_CODE_1XX",t.MZ="HTTP_REQUEST_STATUS_CODE_2XX",t.LZ="HTTP_REQUEST_STATUS_CODE_3XX",t.BZ="HTTP_REQUEST_STATUS_CODE_4XX",t.OZ="HTTP_REQUEST_STATUS_CODE_5XX",t.FZ="BUFFER_LENGTH",t.VZ="BYTES_RECEIVED",t.WZ="SEGMENT_READ_BITRATE",t.UZ="SEGMENT_PROFILE_BITRATE",t.GZ="VIDEO_PROFILE_BITRATE",t.HZ="NUMBER_OF_FRAMES_DROPPED",t.ZZ="PLAYBACK_POSITION",t.XZ="NUMBER_OF_FRAMES_DECODED",t.zZ="PLAYBACK_DELTA_TO_ORIGIN",t.qZ="STREAM_DELTA_TO_ORIGIN",t.YZ="ORIGIN_TIMESTAMP",t}({}),pS=function(t){return t.KZ="MANIFEST_URI",t.jZ="ASSET_DURATION",t.QZ="NUMBER_OF_CONTENT_PROFILES",t.JZ="CDN",t.$Z="CONTENT_TITLE",t.tX="SERVICE_NAME",t.eX="CONTENT_TYPE",t.iX="CONTENT_DESCRIPTION",t}({}),_S=function(t){return t.sX="shutdown_normal_shutdown",t}({}),bS=function(t){return t.nX="session/",t.rX="content/",t.oX="internalError/",t.hX="drmError/",t.aX="caError/",t.uX="networkError/",t}({}),kS=function(){function t(t,n){this.category=t,this.statusCode=n}return Nt(t,[{key:"code",get:function(){return this.category+this.statusCode}}]),t}(),AS=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n}(na);F(),Tt(),Rt(),F(),Tt(),F(),Tt();var TS=function(t){return t.PAUSE="cX",t.RESUME="lX",t}({}),SS=function(t){function n(){return t.call(this,"dX")||this}return It(n,t),n}(ea),ES=function(t){function n(n,i){var r;return(r=t.call(this)||this).ta=n,r.mX=i,r._X=!1,r.gX=function(){r.vX(),r._X=!1},r.pX=function(){r._X=!0},r.mX.yn(TS.PAUSE,r.gX),r.mX.yn(TS.RESUME,r.pX),r}It(n,t);var i=n.prototype;return i.fX=function(){this._X=!0},i.vX=function(){},i.gn=function(){this._X=!1,this.mX.fn(TS.PAUSE,this.gX),this.mX.fn(TS.RESUME,this.pX)},i.wX=function(){return isFinite(this.ta._d())},n}(na),IS=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).RX=!1,n.BX=!1,n.OX=!1,n.AX=function(){n.BX&&!n.OX&&n.PX(mS.IZ)},n.TX=function(){n.ta.ZR||(n.BX||n.MX(new kS(bS.rX,"firstFrameDisplayed"),"now"),n.BX=!0,n.PX(mS.BL))},n.SX=function(){n.ta.ZR&&(n.BX=!0,n.PX(mS.xZ))},n.kX=function(){n.RX&&(n.OX=!0,n.RX=!1,n.PX(mS.RZ))},n.EX=function(){n.OX=!1,n.ta.ZR&&n.PX(mS.xZ)},n}It(n,t);var i=n.prototype;return i.fX=function(){t.prototype.fX.call(this),this.yX()},i.gn=function(){this.bX(),t.prototype.gn.call(this)},i.yX=function(){this.ta.yn(wp.LL,this.AX),this.ta.yn(ua.Uy,this.SX),this.ta.yn(wp.BL,this.TX),this.ta.yn(ua.qy,this.kX),this.ta.yn(ua.zy,this.EX)},i.bX=function(){this.ta.fn(wp.LL,this.AX),this.ta.fn(ua.Uy,this.SX),this.ta.fn(wp.BL,this.TX),this.ta.fn(ua.qy,this.kX),this.ta.fn(ua.zy,this.EX)},i.xX=function(){this.RX=!0},i.IX=function(){var t=this.ta.xR(),n=new kS(bS.oX,String(t.code));this.CX(mS.CZ,n,t.message)},i.PX=function(t){this._X&&(this.mX.DX(t),this.yo(new SS))},i.CX=function(t,n,i){this.mX.NX(t,n,i),this.yo(new SS)},i.MX=function(t,n){this.mX.LX(t,n)},n}(ES);F(),Tt(),Rt();var RS=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).GX=function(){n.wX()&&n.XX(pS.jZ,k.round(n.ta._d()))},n.UX=function(t){"manifest"===t.request.type&&n.XX(pS.KZ,t.url)},n.FX=function(){var t=ao(n.ta.rt.oC,(function(t){return t.Rt}));t&&n.XX(pS.QZ,t.EC.V)},n}It(n,t);var i=n.prototype;return i.fX=function(){t.prototype.fX.call(this),this.FX(),this.yX()},i.gn=function(){this.bX(),t.prototype.gn.call(this)},i.yX=function(){this.ta.rt.yn(kg.aa,this.FX),this.ta.WX.VX(this.UX),this.ta.yn(ua.Sy,this.GX)},i.bX=function(){this.ta.rt.fn(kg.aa,this.FX),this.ta.WX.HX(this.UX),this.ta.fn(ua.Sy,this.GX)},i.ZX=function(t){t.serviceName&&this.XX(pS.tX,t.serviceName),t.cdn&&this.XX(pS.JZ,t.cdn),t.contentTitle&&this.XX(pS.$Z,t.contentTitle),t.contentType&&this.XX(pS.eX,t.contentType),t.contentDescription&&this.XX(pS.iX,t.contentDescription)},i.XX=function(t,n){this._X&&this.mX.zX(t,n)},n}(ES);F(),Tt(),Rt();var CS=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).oz=ns(),n.iz=0,n.qX=0,n.YX=0,n.KX=[],n.jX=function(){n.cz(),n.lz(),n.vz()},n.$X=function(t){t.bE===jg.lE&&(n.ez(t.fO),n.fz(),n._z(t.gz),n.QX())},n.JX=function(t){var i=t.status.toString()[0],r=n.oz.get(i)||0;n.oz.set(i,r+1),n.rz(yS.NZ,"1"),n.rz(yS.MZ,"2"),n.rz(yS.LZ,"3"),n.rz(yS.BZ,"4"),n.rz(yS.OZ,"5")},n}It(n,t);var i=n.prototype;return i.fX=function(){t.prototype.fX.call(this),this.qX=this.ta.LR.uO,this.YX=this.ta.LR.lO,this.yX(),this.KX.push(m(this.jX,1e3))},i.vX=function(){t.prototype.vX.call(this),this.QX()},i.gn=function(){this.QX(),this.bX(),this.KX.forEach(y),po(this.KX),t.prototype.gn.call(this)},i.yX=function(){this.ta.WX.VX(this.JX),this.ta.yn(ua.Qy,this.$X)},i.bX=function(){this.ta.WX.HX(this.JX),this.ta.fn(ua.Qy,this.$X)},i.tz=function(){this.QX()},i.ez=function(t){this.iz+=t,this.nz(yS.VZ,this.iz)},i.rz=function(t,n){var i=this.oz.get(n)||0;this.nz(t,i)},i.cz=function(){var t=this.ta.LR.uO-this.qX;this.nz(yS.HZ,t)},i.lz=function(){var t=this.ta.LR.lO-this.YX;this.nz(yS.XZ,t)},i.fz=function(){var t=pk.Lg.rG();this.nz(yS.WZ,Rc(t))},i._z=function(t){this.nz(yS.UZ,Rc(t)),this.nz(yS.GZ,Rc(t))},i.QX=function(){if(this.wX()){var t=k.round(gr(this.ta.bR()));this.nz(yS.ZZ,t)}},i.vz=function(){var t=AA.xn(this.ta.vR()),n=this.ta.bR(),i=t.uB(n),r=i?gr(i.jn(0)-n):0;this.nz(yS.FZ,r)},i.nz=function(t,n){this._X&&this.mX.mz(t,n)},n}(ES);F(),Tt();function NS(t){return t&&t.integration===BS}function DS(t){if(!ti(t.asset))throw new _("Agama source configuration: expected 'asset' to be a string");if(!function(t){return!!ti(t)&&("live"===t||"vod"===t)}(t.streamType))throw new _("Agama source configuration: expected 'streamType' to be 'live' or 'vod'");if(void 0!==t.serviceName&&!function(t){return!!ti(t)&&("live"===t||"svod"===t||"nvod"===t||"tvod"===t||"avod"===t||"catchuptv"===t)}(t.serviceName))throw new _("Agama source configuration: expected 'serviceName' to be 'live', 'svod', 'nvod','tvod', 'avod' or 'catchuptv'");if(void 0!==t.cdn&&!ti(t.cdn))throw new _("Agama source configuration: expected 'cdn' to be a string");if(void 0!==t.contentTitle&&!ti(t.contentTitle))throw new _("Agama source configuration: expected 'contentTitle' to be a string");if(void 0!==t.contentType&&!ti(t.contentType))throw new _("Agama source configuration: expected 'contentType' to be a string");if(void 0!==t.contentDescription&&!ti(t.contentDescription))throw new _("Agama source configuration: expected 'contentDescription' to be a string");return t}function PS(t){if(!ti(t.config))throw new _("Agama player configuration: expected 'config' to be a string");if(void 0!==t.logLevel&&!function(t){return!!ti(t)&&("info"===t||"debug"===t||"warning"===t||"error"===t||"fatal"===t)}(t.logLevel))throw new _("Agama player configuration: expected 'logLevel' to be 'info', 'debug', 'warning','error' or 'fatal'");if(void 0!==t.application&&!ti(t.application))throw new _("Agama player configuration: expected 'application' to be a string");if(void 0!==t.applicationVersion&&!ti(t.applicationVersion))throw new _("Agama player configuration: expected 'applicationVersion' to be a string");if(void 0!==t.userAccountID&&!ti(t.userAccountID))throw new _("Agama player configuration: expected 'userAccountID' to be a string");if(void 0!==t.deviceID&&!ti(t.deviceID))throw new _("Agama player configuration: expected 'deviceID' to be a string");return t}function xS(){var t="00000000-0000-0000-0000-000000000000",n=f.navigator,i=f.screen,r=""+n.mimeTypes.length;r+=n.userAgent.replace(/\D+/g,""),r+=n.plugins.length,r+=i.height||"",r+=i.width||"",r+=i.pixelDepth||"";var e=function(t){var n,i=0;if(0===t.length)return"0";for(n=0;n<t.length;n++)i=(i<<5)-i+t.charCodeAt(n),i|=0;return k.abs(i).toString().substring(0,12)}(r+=k.floor(1e3*k.random()));return t=[t.slice(0,t.length-e.length),e].join("")}function LS(t,n,i){var r=n,e=function(t,n){return XA(n)?t.DsProtocol.APPLE_HLS:t.DsProtocol.MPEG_DASH}(t,r.type),u=function(t,n){var i=t.DsPlaylistType.VOD;"live"===n&&(i=t.DsPlaylistType.LIVE);return i}(t,i.streamType);return{asset:i.asset,playlistType:u,protocol:e,uri:r.src}}F(),Tt();var MS=function(t){return t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected",t}({}),OS=function(){function t(t,n,i){var r=this;this.ta=t,this.mX=n,this.ho=function(){r.Lz(),r.Rz()},this.Lz=function(){var t=r.ta.Ya(),n=t&&t.analytics;r.Bz=function(t){void 0===t&&(t=[]);for(var n=0;n<t.length;n++){var i=t[n];if(NS(i))return DS(i)}}(n)},this.Rz=function(){r.pz(),r.ta.fn(ua.so,r.xz),!r.Ez()&&r.mX.Oz()&&r.ta.bt&&r.Bz&&(r.Iz(),r.ta.ZR||r.ta.kR?r.ta.yn(ua.so,r.xz):r.xz())},this.xz=function(){r.ta.bt&&r.Bz&&(r.mX.Fz(r.ta.bt,r.Bz),r.fX(),r.ZX(r.Bz),r.Sz(),r.ta.yn(Vy.ua,r.wz),r.ta.fn(ua.so,r.xz))},this.kz=function(){r.Ez()&&r.pz()},this.wz=function(){r.Mz(),r.pz()},this.Nz=function(){r.Pz&&r.Pz.tz()};var e=function(t){void 0===t&&(t=[]);for(var n=0;n<t.length;n++){var i=t[n];if(NS(i))return PS(i)}}(i.analytics);e&&this.mX.Vz()&&(this.mX.yI(e),this.mX.Oz()?(this.mX.Wz(),this.ta.yn(ua.ro,this.ho),this.ta.yn(ua.xy,this.Rz)):console.warn("An error occurred while initializing an Agama EMP client. Please check your configuration"))}var n=t.prototype;return n.pz=function(){this.ta.fn(Vy.ua,this.wz),this.yz(),this.bz(),this.mX.Az()},n.Sz=function(){this.ta.Tz.ga.chromecast&&this.ta.Tz.ga.chromecast.addEventListener("statechange",this.kz)},n.bz=function(){this.ta.Tz.ga.chromecast&&this.ta.Tz.ga.chromecast.removeEventListener("statechange",this.kz)},n.Ez=function(){return void 0!==this.ta.Tz.ga.chromecast&&this.ta.Tz.ga.chromecast.state===MS.CONNECTED},n.gn=function(){this.ta.fn(ua.ro,this.ho),this.ta.fn(ua.so,this.xz),this.ta.fn(ua.xy,this.Rz),this.pz(),this.mX.gn()},n.Iz=function(){this.Cz||(this.Cz=new IS(this.ta,this.mX)),this.Pz||(this.Pz=new CS(this.ta,this.mX)),this.Dz||(this.Dz=new RS(this.ta,this.mX))},n.fX=function(){this.Cz&&(this.Cz.fX(),this.Cz.yn("dX",this.Nz)),this.Pz&&this.Pz.fX(),this.Dz&&this.Dz.fX()},n.yz=function(){this.Cz&&(this.Cz.fn("dX",this.Nz),this.Cz.gn(),this.Cz=void 0),this.Pz&&(this.Pz.gn(),this.Pz=void 0),this.Dz&&(this.Dz.gn(),this.Dz=void 0)},n.ZX=function(t){this.Dz&&this.Dz.ZX(t)},n.Mz=function(){this.Cz&&this.Cz.IX()},n.xX=function(){this.Cz&&this.Cz.xX()},t}(),BS="agama";F(),Tt(),F(),Tt();var VS=function(t){return t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical",t}({});F(),Tt();var FS=function(t){return t.NONE="",t.PM360="360",t.PM180="180",t}({});function US(t){switch(t){case"":return VS.NONE;case"horizontal":return VS.HORIZONTAL;case"vertical":return VS.VERTICAL;default:throw new _}}function WS(t,n){if(n)return FS.PM360;if(null==t)return FS.NONE;switch(t){case"":return FS.NONE;case"360":return FS.PM360;case"180":return FS.PM180;default:throw new _("Provided panoramaMode value is not recognized. Expected '', '360' or '180' but value was "+t)}}F(),Tt();var ZS=function(t){return t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event",t}({});F(),Tt();var XS="https://content.uplynk.com";function GS(t){if(!t)return!0;var n=!function(t){return QA(t)||Jn(t)&&QA(t[0])}(t.sources)||$A(t.sources),i=!t.ads||function(t){return!t||qn(t)&&0===t.length}(t.ads),r=""!==t.poster&&!t.poster;return n&&i&&r}function HS(t){if(t&&t.sources)return zS(t.sources)}function zS(t){return ti(t)?UA(t):qA(t)?t.type||t.src&&UA(t.src):Jn(t)&&t.length>0?zS(t[0]):void 0}function YS(t){if(t&&t.sources)return jS(t.sources)}function jS(t){return ti(t)?t:qA(t)?t.src:Jn(t)&&t.length>0?jS(t[0]):void 0}function KS(t,n,i){return HA(t)?function(t,n,i){var r=$u({},tT(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:LA.UPLYNK,id:"",prefix:XS,preplayParameters:{},playbackUrlParameters:{},assetType:ZS.ASSET,contentProtected:!1,assetInfo:!0});r.id=function(t){if(ti(t))return t;if(Jn(t)&&ti(t[0]))return t;if(function(t){return Qn(t)&&ti(t.userId)&&(Jn(t.externalId)||ti(t.externalId))}(t))return t;return""}(t.id),t.preplayParameters&&(r.preplayParameters=t.preplayParameters);t.playbackUrlParameters&&(r.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(r.assetType=function(t){switch(t){case"channel":return ZS.CHANNEL;case"event":return ZS.EVENT;default:return ZS.ASSET}}(t.assetType));t.contentProtected&&(r.contentProtected=Pg(t.contentProtected));t.assetInfo?r.assetInfo=Pg(t.assetInfo):r.assetInfo="asset"===r.assetType;t.prefix&&(r.prefix=Og(t.prefix)||XS);return r.ping=function(t,n){var i=!1,r=!1,e=!1;n?(i=!!ni(n.adImpressions)&&n.adImpressions,r=!!ni(n.freeWheelVideoViews)&&n.freeWheelVideoViews,e=ni(n.linearAdData)?n.linearAdData:t!==ZS.ASSET):t!==ZS.ASSET&&(e=!0);return{adImpressions:i,freeWheelVideoViews:r,linearAdData:e}}(r.assetType,t.ping),r=JS(r,t),r=$S(r,n,i),r=QS(r,t,i),r}(t,n,i):YA(t)?function(t,n,i){var r;return $u({},qS(t,n,i),{integration:LA.MEDIATAILOR,adParams:null!=(r=t.adParams)?r:{}})}(t,n,i):zA(t)?function(t,n,i){return $u({},qS(t,n,i),{type:"theolive"})}(t,n,i):jA(t)?function(t,n,i){return $u({},qS(t,n,i),{type:oA.YC,src:t.src,streamAccountId:t.streamAccountId,subscriberToken:t.subscriberToken,connectOptions:iE(t.connectOptions),apiUrl:t.apiUrl})}(t,n,i):qS(t,n,i)}function qS(t,n,i){var r=nT(),e=n&&(n.contentProtection||n.drm);if(ti(t)){if(r.src=t,r.type=UA(t),e){var u=iS(e);r.contentProtection=vA(u)}}else if(qA(t)||GA(t)||jA(t)){r.src=t.src,r.type=t.type||UA(t.src),r.isAdvertisement=t.isAdvertisement;var s=JA(t)?t.hesp:void 0;void 0!==s&&(r.hesp=s),YA(t)&&(r.integration=t.integration);var o=iS(t.contentProtection||t.drm||e);r.contentProtection=vA(o),t.ssai&&(r.ssai=hA(t.ssai)),r=JS(r,t)}return r=QS(r=$S(r,n,i),t,i)}function JS(t,n){var i,r;n.useCredentials?t.crossOrigin=sA.WC:n.crossOrigin&&(t.crossOrigin=WA(n.crossOrigin)),ti(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=Pg(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=Pg(n.useNativePlayback)),n.useManagedMediaSource&&(t.useManagedMediaSource=Pg(n.useManagedMediaSource)),n.dash&&(t.dash=dA(n.dash)),n.hls&&(t.hls=lA(n.hls)),n.lcevc&&(t.lcevc=Pg(n.lcevc)),n.ignoreEmbeddedTextTrackTypes&&(t.ignoreEmbeddedTextTrackTypes=uT(n.ignoreEmbeddedTextTrackTypes)),n.latencyConfiguration&&(t.latencyConfiguration=PA(n.latencyConfiguration)),t.seamlessSwitchStrategy=MA(null!=(r=n.seamlessSwitchStrategy)?r:null==(i=n.dash)?void 0:i.useSeamlessPeriodSwitch);var e=xg(n.experimentalRendering);void 0!==e&&(t.experimentalRendering=e);var u=xg(n.nativeUiRendering);return void 0!==u&&(t.nativeUiRendering=u),t}function QS(t,n,i){return t.abr=mA(ti(n)?void 0:wA(n.abr),null==i?void 0:i.abr),t}function $S(t,n,i){var r,e=n&&n.timeServer;return i&&i.liveOffset&&!Yn(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!Yn(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===sA._E&&(null==n||null==(r=n.vr)?void 0:r[360])&&(t.crossOrigin=sA.VC),t.useCredentials=t.crossOrigin===sA.WC,ti(e)&&!t.timeServer&&(t.timeServer=e),t}function tE(t){var n={src:""};if(t&&t.src){if(n.src=Og(t.src),"default"in t&&(n.default=Pg(t.default)),n.kind=function(t){var n=String(t||"").toLowerCase();return zy(n)?n:n?"metadata":"subtitles"}(t.kind),Aw(t.format)&&(n.format=t.format),"srclang"in t){var i=t.srclang;"string"==typeof i&&""!==i&&(n.srclang=i)}if("label"in t){var r=t.label;"string"==typeof r&&""!==r&&(n.label=r)}}return n}function nE(t,n){if(Qn(t))try{return n.TZ(t).Uz(t)}catch(t){return}}function iE(t){if(null==t)return t;if(!Qn(t))throw new p("connectOptions must be an object");return t}function rE(t,n,i){if(void 0===i&&(i=wS.Lg),GS(t))return{sources:[nT()]};var r=Ig(t);if(r.sources=function(t,n,i){if(QA(t))return[KS(t,n,i)];if(Jn(t)&&QA(t[0])){for(var r=[],e=0;e<t.length;e++){var u=t[e];r.push(KS(u,n,i))}return r}return[nT()]}(r.sources,r,n),"contentProtection"in r&&delete r.contentProtection,"drm"in r&&delete r.drm,"ads"in r){var e=function(t,n){if(!Jn(t))return[];for(var i=[],r=0;r<t.length;r++){var e=t[r];(e=nE(e,n))&&i.push(e)}return i}(r.ads,i);0===e.length?delete r.ads:r.ads=e}var u=!$A(r.sources),s=r.ads&&r.ads.length>0;if(u&&!s?delete r.ads:s&&!u&&(r.sources=[]),"textTracks"in r){var o=function(t){if(!Jn(t))return[];for(var n=[],i=0;i<t.length;i++){var r=t[i];""!==(r=tE(r)).src&&n.push(r)}return n}(r.textTracks);0===o.length?delete r.textTracks:r.textTracks=o}if("poster"in r&&(r.poster=Og(r.poster)),"streamType"in r&&(r.streamType=function(t){switch(t){case"live":case"dvr":case"vod":return t}}(r.streamType)),"vr"in r&&(r.vr=function(t){var n=t||{};return n.stereoMode=function(t){return function(t){switch(t){case"":case"horizontal":case"vertical":return!0;default:return!1}}(t)?t:""}(n.stereoMode),{panoramaMode:WS(n.panoramaMode,Boolean(n[360])),stereoMode:n.stereoMode?US(n.stereoMode):VS.NONE,nativeVR:Boolean(n.nativeVR)}}(r.vr)),"analytics"in r||(null==n?void 0:n.analytics)){var a=rT(r.analytics),c=n&&n.analytics||[];r.analytics=function(t,n){for(var i=function(i){var e=n[i],u=!t.some((function(t){return t.integration===e.integration}));u&&e.integration!==BS&&r.push(e)},r=Ig(t),e=0;e<n.length;e++)i(e);return r}(a,c)}return"mutedAutoplay"in r&&(r.mutedAutoplay=_T(r.mutedAutoplay)),"timeServer"in r&&delete r.timeServer,"playAdsAfterTime"in r&&(r.playAdsAfterTime=Lg(r.playAdsAfterTime)),r.blockContentIfAdError=function(t){return void 0!==t&&"boolean"==typeof t&&Boolean(t)}(r.blockContentIfAdError),r}F(),Tt(),F(),Tt(),F(),Tt();var eE=function(){function t(t){this.Gz=t}return t.prototype.Zz=function(t){var n,i,r,e,u,s,o,a=[];if(!t)return"";var c=t.length%4;if(c>0)for(;c++<4;)t+=this.Gz.charAt(64);for(n=0;n<t.length;n+=4)i=(o=this.Gz.indexOf(t.charAt(n))<<18|this.Gz.indexOf(t.charAt(n+1))<<12|(u=this.Gz.indexOf(t.charAt(n+2)))<<6|(s=this.Gz.indexOf(t.charAt(n+3))))>>>16&255,r=o>>>8&255,e=255&o,a[n/4]=String.fromCharCode(i,r,e),64===s&&(a[n/4]=String.fromCharCode(i,r)),64===u&&(a[n/4]=String.fromCharCode(i));return a.join("")},t.prototype.Xz=function(t,n){var i,r,e,u,s,o,a,c=[],h="";if((o=t.length%3)>0)for(;o++<3;)h+=this.Gz.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)r=(i=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,e=i>>12&63,u=i>>6&63,s=63&i,c[o/3]=this.Gz.charAt(r)+this.Gz.charAt(e)+this.Gz.charAt(u)+this.Gz.charAt(s);return a=(a=c.join("")).slice(0,a.length-h.length),n||(a+=h),a},t.lh=new t(function(){var t,n,i,r,e=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)r=n.charAt(i),-1===e.indexOf(r)&&e.push(r);return e.join("")}()),t.zz=new t(function(t){return t.Zz("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")}(t.lh)),t}();function uE(t){return"string"==typeof t}function sE(t){return"number"==typeof t}F(),Tt(),F(),Tt(),F(),Tt(),at();var oE={}.toString;var aE,cE=Array.isArray||function(t){return"[object Array]"===oE.call(t)};function hE(t,n){return cE(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf",t.THEOLIVEWEB="theoliveweb",t.KEPLER="kepler"}(aE||(aE={}));var fE,vE=b.keys(aE).map((function(t){return aE[t]}));function dE(t){return-1!==vE.indexOf(t)}!function(t){t.HESP="hesp",t.MULTIVIEW="multiview",t.THEOADS="theoads",t.MILLICAST="millicast"}(fE||(fE={}));var lE,gE=b.keys(fE).map((function(t){return fE[t]}));function wE(t){return-1!==gE.indexOf(t)}function mE(t){try{var n=eE.zz.Zz(t),i=JSON.parse(n);if(!function(t,n){var i,r=function(t){return"object"===(void 0===t?"undefined":U(t))&&null!==t}(t),e=uE(t.key),u=uE(t.customer_id),s=sE(t.generation_date),o=sE(t.expiration_date),a=hE(t.domains_page,uE),c=hE(t.domains_source,uE),h=hE(t.sdks,n?dE:uE),f=function(t){return"boolean"==typeof t}(t.send_impression);t.features?i=hE(t.features,n?wE:uE):(i=!0,t.features=[]);if(!(r&&e&&u&&s&&o&&a&&c&&h&&f&&i))return!1;return!0}(i,!1))throw new p("The provided license could not be decoded correctly.");return i}catch(t){throw new p("The provided license could not be decoded correctly.")}}function yE(){return lE||(lE={qu:f.location.href,qz:f.parent&&f.parent!==f,Yz:_E()}),lE}var pE=["http:","https:","ftp:","ws:","wss:"];function _E(){var t,n;try{var i;if(null==(i=f)?void 0:i.top)return f.top.location.href}catch(t){}return null==(n=f)||null==(t=n.document)?void 0:t.referrer}var bE=function(t){return t[t.Kz=0]="Kz",t[t.jz=1]="jz",t[t.Qz=2]="Qz",t}({}),kE=function(t,n,i,r,e,u,s,o,a){void 0===e&&(e=[]),void 0===u&&(u=""),void 0===s&&(s=Date.now()),void 0===o&&(o=[]),void 0===a&&(a=!0),this.Jz=t,this.$z=n,this.tq=i,this.iq=r,this.nq=e,this.rq=u,this.oq=s,this.hq=o,this.aq=a},AE=function(t){return t.jz="expired",t.uq="invaliddomain",t.cq="invalidsource",t.lq="invalidfeature",t.ua="error",t}({}),TE=function(){function t(t,n,i){this.xq=t,this.Pq=n,this.AA=i,this.Tq=xE(this.AA)}var n=t.prototype;return n.dq=function(t,n){var i=[];QA(t.sources)?i=[t.sources]:Jn(t.sources)&&(i=t.sources),this.fq(t,i,n),this._q(i,n)},n.fq=function(t,n,i){var r=this;if(!GS(t)&&0!==i.tq.length&&!NE(i.tq)&&!n.every((function(t){return r.vq(t,i)}))){var e="invalidsource",u=LE.mq(e);throw new td(EE(e),u)}},n._q=function(t,n){for(var i=0;i<t.length;i++){var r=t[i];qA(r)&&JA(r)&&!r.bypassLicense&&this.gq([fE.HESP],n)}},n.pq=function(n){return this.wq(n.hq)&&this.yq(n)?t.bq(n.iq)?0:1:2},n.gq=function(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(!mo(n.nq,r)){var e="invalidfeature",u=LE.Aq(e,r);throw new td(EE(e),u)}}},n.wq=function(t){var n=this;return 0===t.length||t.some((function(t){return n.Sq(t)}))},n.Sq=function(t){return"web"===function(t){switch(t){case aE.ANDROID:return Dn.bv;case aE.ANDROIDTV:case aE.FIRETV:return Dn.Av;case aE.IOS:return Dn.Sv;case aE.TVOS:return Dn.Tv;case aE.CHROMECAST:case aE.CHROMECASTCAF:return Dn.Ev;case aE.THEOLIVEWEB:return Dn.xv;default:return Dn.yv}}(t)},n.yq=function(t){return!(this.Tq&&0!==t.$z.length&&!NE(t.$z))||!!(this.Tq&&this.kq(t.$z)&&this.Eq(t.$z))},n.kq=function(t){return DE(this.AA.qu,t)},n.Eq=function(t){if(!this.AA.qz)return!0;if(this.xq)return!0;var n=this.Rq();return!!n&&DE(n,t)},n.Rq=function(){if(this.AA.qz){var t=d.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.AA.Yz?this.AA.Yz:void 0}},n.vq=function(n,i){return!!t.Iq(n,i.tq)},t.bq=function(t){var n=Number(new Date);return!!t&&n<=t},t.Iq=function(t,n){return DE(this.Cq(t),n)},t.Cq=function(t){return ti(t)?t:qA(t)&&t.src||""},t}(),SE=function(){function t(){}var n=t.prototype;return n.pq=function(t){return 0},n.dq=function(t,n){},n.gq=function(t,n){},t}();function EE(t){switch(t){case"invaliddomain":return Qv.LICENSE_INVALID_DOMAIN;case"invalidsource":return Qv.LICENSE_INVALID_SOURCE;case"expired":return Qv.LICENSE_EXPIRED;case"invalidfeature":return Qv.LICENSE_INVALID_FEATURE;case"error":return Qv.LICENSE_ERROR}}var IE="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",RE=Ai((function(){var t="\\.",n="(\\*|"+IE+")";return new RegExp("ip-range\\("+n+t+n+t+n+t+n+"\\)")}));function CE(t,n){var i=t,r=n;if(!i)return!1;if("*"===(r=r.trim()))return!0;if(r===(i=i.replace(/\.+$/,"")))return!0;if(Bs(r,"ip-range(")){var e="\\.",u=r.match(RE()),s=function(t){return"*"===t?"("+IE+")":t};if(null!==u&&5===u.length){var o=new RegExp("^"+u[1]+e+s(u[2])+e+s(u[3])+e+s(u[4])+"$");return null!==i.match(o)}}return r="."+r,-1!==i.indexOf(r,i.length-r.length)}function NE(t){return t.some((function(t){return"*"===t}))}function DE(t,n){var i=Kn.Ah(t);if(!PE(i))return!0;for(var r=0;r<n.length;r++){var e=n[r];if(CE(i.hostname,e))return!0;if(CE(yl(t),e))return!0}return!1}function PE(t){return-1!==pE.indexOf(t.protocol)}function xE(t){var n=Kn.Ah(t.qu);return PE(n)&&!function(t){return CE(t.hostname,"localhost")}(n)&&!function(t){return CE(t.hostname,"theoplayer.doubleclick.net")}(n)}var LE=function(){function t(){}return t.Aq=function(t,n){return"The requested feature '"+n+"' is not available with the license for this player."},t.mq=function(t){return"invaliddomain"===t?this.Dq:"invalidsource"===t?this.Nq:"expired"===t?this.Mq:"invalidfeature"===t?this.Lq:this.Bq},t}();LE.Bq="The license for this player is invalid.",LE.Mq="The usage license for this video player has expired.",LE.Dq="The current domain is incompatible with the license for this player.",LE.Nq="The provided video source is incompatible with the license for this player.",LE.Lq="The requested feature is not available with the license for this player.",F(),Tt(),Gt(),Dt(),qt(),F(),Tt();var ME=function(t){return t[t.Oq=1]="Oq",t[t.Fq=4]="Fq",t[t.Vq=5]="Vq",t[t.Wq=9]="Wq",t}({});function OE(t){var n=[t.JM,t.Uq,t.Gq];switch(t.Uq){case 1:n.push(t.MC);break;case 4:n.push(t.yR),n.push(t.lt);break;case 5:n.push(t.lt);break;case 9:n.push(t.pw)}return n}F(),Tt();var BE,VE=new Array(256);for(BE=0;BE<256;BE+=1)VE[BE]=(BE<16?"0":"")+BE.toString(16);function FE(){var t=dr(),n=(4294967296*k.random()|0)+t&3029421624,i=(4294967296*k.random()|0)+t&3595553209,r=(4294967296*k.random()|0)+t&1130486254,e=(4294967296*k.random()|0)+t&1284287105;return VE[255&n]+VE[n>>>8&255]+VE[n>>>16&255]+VE[n>>>24&255]+"-"+VE[255&i]+VE[i>>>8&255]+"-"+VE[i>>>16&15|64]+VE[i>>>24&255]+"-"+VE[63&r|128]+VE[r>>>8&255]+"-"+VE[r>>>16&255]+VE[r>>>24&255]+VE[255&e]+VE[e>>>8&255]+VE[e>>>16&255]+VE[e>>>24&255]}function UE(t){return Ic(t.replace(/-/g,""))}function WE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=16*k.random()|0;return("x"===t?n:3&n|8).toString(16)}))}function ZE(){return Kn.Bg()}F(),Tt(),F(),Tt(),F(),Tt();var XE,GE="theoplayer-session-id";function HE(){if(!XE){var t=_d.Cb(GE);t?XE=t:(XE=FE(),_d.Pb(GE,XE))}return XE}F(),Tt(),F(),Tt();var zE=/[^\x00-\x7E]/g;function YE(t){return"\\u"+Ws(t.charCodeAt(0).toString(16),4,"0")}var jE="https://license.theoplayer.com";function KE(t){var n=function(t){var n=[];return function(t,n,i){return JSON.stringify(t,n,i).replace(zE,YE)}(t,(function(t,i){if(Qn(i)){if(-1!==n.indexOf(i))return null;n.push(i)}return i}))}(function(t){return[t.Hq,t.zS,t.Jz,t.XD,t.Zq,t.Xq,t.zq.map(OE)]}(t));return eE.zz.Xz(n)}var qE=function(){function t(t,n,i,r,e,u){var s=this;void 0===r&&(r=eE.lh),void 0===e&&(e=0),void 0===u&&(u=1),this.TS=t,this.aW=n,this.Qq=i,this.eY=r,this.sY=e,this.aY=u,this.Xf=[],this.Yq=null,this.cY=0,this.hY="unknown",this.$A=0,this._Y=function(){ZE()-s.cY>6e4&&s.rY()},this.dY=function(){s.rY(!0)},WT.vY(this.dY),this.fY=m(this._Y,6e4)}var n=t.prototype;return n.qq=function(){return Boolean(this.Zq)},n.Kq=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,n.Qq.jq()];case 1:return r.sent().aq?(i={Uq:ME.Oq,Gq:dr(),MC:t},[4,n.MX(i)]):[2];case 2:return r.sent(),[2]}}))}))()},n.Jq=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,n.Qq.jq()];case 1:return r.sent().aq?(i={Uq:ME.Wq,Gq:dr(),pw:t},[4,n.MX(i)]):[2];case 2:return r.sent(),[2]}}))}))()},n.$q=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return r={Uq:ME.Fq,Gq:dr(),yR:n,lt:t},[4,i.MX(r)];case 1:return e.sent(),[2]}}))}))()},n.tY=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return i={Uq:ME.Vq,Gq:dr(),lt:t},[4,n.MX(i)];case 1:return r.sent(),[2]}}))}))()},n.MX=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,n.Qq.jq()];case 1:return i=r.sent(),"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"===n.eY.Xz(i.Jz)&&t.Uq!==ME.Vq?[2]:(t.Uq===ME.Oq?n.iY():n.qq()||n.iY(),t.JM=n.$A++,n.Xf.push(t),function(t){return t===ME.Oq||t===ME.Vq}(t.Uq)?[4,n.rY()]:[3,3]);case 2:case 4:return r.sent(),[3,5];case 3:return n.Xf.length>n.sY?[4,n.nY()]:[3,5];case 5:return[2]}}))}))()},n.rY=function(t){void 0===t&&(t=!1);var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.Xf.length>0?[4,n.nY(t)]:[3,2];case 1:return i.sent(),[3,0];case 2:return[2]}}))}))()},n.oY=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,n.Qq.jq()];case 1:return i=r.sent(),[2,{Hq:dr(),zS:HE(),Jz:n.eY.Xz(i.Jz)||"dev",XD:n.TS,Zq:n.Yq,Xq:n.hY,zq:t}]}}))}))()},n.nY=function(t){void 0===t&&(t=!1);var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return i=n.Xf.splice(0,n.aY),[4,n.oY(i)];case 1:return r=e.sent(),t?n.xE(r):n.uY(r),n.cY=ZE(),[2]}}))}))()},n.uY=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:i=KE(t),r=new hl({qu:jE,Ck:i,AE:!1,Xk:Sd.wk,qk:{"Content-Type":ib.SU},pE:4e3,gE:ul.POST}),e.label=1;case 1:return e.trys.push([1,4,,5]),[4,n.aW.zk(r)];case 2:return[4,e.sent().xk()];case 3:return e.sent(),[3,5];case 4:return e.sent(),(new Image).src="https://licensing.theoplayer.com/t?"+i,[3,5];case 5:return[2]}}))}))()},n.xE=function(t){var n=KE(t);this.aW.xE({qu:jE,Ck:n,Ik:ib.SU})},n.iY=function(){this.qq()&&this.rY(),this.Yq=FE(),this.$A=0},n.gn=function(){WT.lY(this.dY),y(this.fY),this.rY()},Nt(t,[{key:"zq",get:function(){return this.Xf}},{key:"Zq",get:function(){return this.Yq}}]),t}();F(),Tt(),Dt(),Ut(),F(),Tt(),Ut(),F(),Tt();var JE=0;var QE=w,$E=self.requestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame,tI=self.cancelAnimationFrame||self.webkitCancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelRequestAnimationFrame;$E&&tI||($E=function(t){var n=ZE(),i=k.max(0,16-(n-JE)),r=g((function(){return t(n+i)}),i);return JE=n+i,r},tI=QE),$E=$E.bind(self),tI=tI.bind(self);var nI=Gn.Wm||Gn.Ka&&Gn.Jm<13;function iI(t,n,i){var r=t.getImageData(n,i,1,1).data;return 0===r[0]&&0===r[1]&&0===r[2]&&0===r[3]}var rI=function(){function t(t){var n=this;this.yY=void 0,this.Za=void 0,this.IY=void 0,this.TY=is(),this.AY=1,this.RY=!0,this.PY=function(){n.RY=!0},this.CY=function(){n.yY=n.t.wI(),n.TY.forEach((function(t,i){t.EY(),t.EY=n.SY(t.kY,i)}))},this.t=t,this.t.yn(ua.Cy,this.CY),this.t.yn(ua.zy,this.PY),this.CY()}var n=t.prototype;return n.mY=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e,u=this.yY;return void 0!==u&&((e=t).drawImage.apply(e,[u].concat(Ft(i))),!0)},n.gY=function(t,n,i,r,e,u){var s=this.yY;return void 0!==s&&(nI&&(s=this.bY(s)),t.texImage2D(n,i,r,e,u,s),!0)},n.pY=function(t){var n=this.AY++,i=this.SY(t,n);return this.TY.set(n,{kY:t,EY:i}),n},n.wY=function(t){var n=this.TY.get(t);void 0!==n&&(this.TY.delete(t),n.EY())},n.SY=function(t,n){var i=this,r=this.yY;if(void 0===r)return pi;if(r instanceof HTMLVideoElement&&r.requestVideoFrameCallback){var e=r.requestVideoFrameCallback((function(r,e){i.TY.delete(n),t(r,e)}));return function(){return r.cancelVideoFrameCallback(e)}}var u,s=function(r){i.xY()?(i.TY.delete(n),i.RY=!1,t(r,void 0)):u=$E(s)};return u=$E(s),function(){return tI(u)}},n.xY=function(){return(!this.t.ZR||this.RY)&&!this.t.nI&&this.t.tI>=pp.QB},n.bY=function(t){var n=this.IY;void 0===n&&(n=v.createElement("canvas"),this.IY=n);var i=n.getContext("2d"),r=this.t,e=r.cI,u=r.hI,s=n.width,o=n.height;i.clearRect(0,0,n.width,n.height),s===e&&o===u||(n.width=e,n.height=u),i.drawImage(t,0,0,e,u);var a=!1;return e>0&&iI(i,e-1,0)&&(n.width=s,a=!0),u>0&&iI(i,0,u-1)&&(n.height=o,a=!0),a&&i.drawImage(t,0,0,e,u),n},n.gn=function(){this.TY.forEach((function(t){return t.EY()})),this.TY.clear(),this.t.fn(ua.Cy,this.CY),this.t.fn(ua.zy,this.PY),this.yY=void 0,this.IY=void 0},Nt(t,[{key:"ga",get:function(){var t;return null!=(t=this.Za)?t:this.Za=function(t){return{drawImage:function(n){for(var i=arguments.length,r=new Array(i>1?i-1:0),e=1;e<i;e++)r[e-1]=arguments[e];var u;return(u=t).mY.apply(u,[n].concat(Ft(r)))},texImage2D:function(n,i,r,e,u,s){return t.gY(n,i,r,e,u,s)},requestVideoFrameCallback:function(n){return t.pY(n)},cancelVideoFrameCallback:function(n){return t.wY(n)}}}(this)}}]),t}();F(),Tt(),Dt(),Rt(),F(),Tt(),Rt(),F(),Tt();var eI=function(t){return t.pn="dimensionchange",t}({}),uI=function(t){function n(n,i){var r;return(r=t.call(this,eI.pn)||this).width=n,r.height=i,r}return It(n,t),n}(ea);F(),Tt(),Dt(),Rt(),F(),Tt();var sI,oI=function(t,n){this.we=t,this.kY=n},aI=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).DY=0,r.NY=0,r.LY=function(t){if(t.length>0){var n=t[t.length-1].contentRect;r.NY=n.width,r.DY=n.height,r.kY(r.NY,r.DY)}},r.MY=new f.ResizeObserver(r.LY),r.MY.observe(r.we),r}return It(n,t),n.prototype.gn=function(){this.MY.disconnect()},Nt(n,[{key:"Tu",get:function(){return this.DY}},{key:"Su",get:function(){return this.NY}}]),n}(oI);F(),Tt(),Dt(),Rt(),F(),Tt();var cI=["Webkit","Moz","O","ms"],hI=function(){var t=!1;try{if(void 0!==f&&"function"==typeof f.addEventListener){var n=b.defineProperty({},"passive",{get:function(){t=!0}});f.addEventListener("testPassiveEventSupport",pi,n),f.removeEventListener("testPassiveEventSupport",pi,n)}}catch(t){}return t}(),fI=ns();function vI(t){return fI.has(t)||fI.set(t,function(t){var n=(sI||(sI=f&&f.document&&f.document.createElement("span")),sI);if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<cI.length;r++){var e=cI[r]+i;if(void 0!==n.style[e])return e}return t}(t)),fI.get(t)}function dI(t){var n=t.style;n.position="absolute",n.left="0",n.right="0",n.bottom="0",n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function lI(t){var n=t.style;n.position="absolute",n.left="0",n.top="0",n[vI("transition")]="0s"}var gI=function(t){function n(n,i,r){var e;(e=t.call(this,n,i)||this).BY=0,e.NY=NaN,e.DY=NaN,e.GY=void 0,e.tr=function(){var t=1e5;e.HY.style.width=t+"px",e.HY.style.height=t+"px",e.OY.scrollLeft=t,e.OY.scrollTop=t,e.VY.scrollLeft=t,e.VY.scrollTop=t,0===e.VY.scrollTop&&$E(e.tr)},e.ZY=function(){var t=e.Su,n=e.Tu;e.kY(t,n),e.NY=t,e.DY=n,e.tr(),e.BY=0},e.FY=function(){if(!e.BY){var t=e.Su,n=e.Tu;t===e.NY&&n===e.DY||(e.BY=$E(e.ZY))}},e.UY=function(){e.GY||(e.GY=g(e.XY,66))},e.XY=function(){e.GY=void 0,e.zY()},e.zY=function(){e.FY()};var u=function(t,n){return f.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");r||"static"!==u||(n.style.position="relative");var s=v.createElement("div");return e.WY=s,e.OY=v.createElement("div"),e.HY=v.createElement("div"),e.VY=v.createElement("div"),e.qY=v.createElement("div"),dI(e.OY),dI(e.VY),lI(e.HY),function(t){lI(t),t.style.width="200%",t.style.height="200%"}(e.qY),s.appendChild(e.OY),s.appendChild(e.VY),e.OY.appendChild(e.HY),e.VY.appendChild(e.qY),n.appendChild(s),e.OY.addEventListener("scroll",e.FY),e.VY.addEventListener("scroll",e.FY),f&&f.addEventListener("resize",e.UY),e.FY(),e}return It(n,t),n.prototype.gn=function(){tI(this.BY),this.BY=0,this.OY.removeEventListener("scroll",this.FY),this.VY.removeEventListener("scroll",this.FY),oi(this.WY),f&&f.removeEventListener("resize",this.UY)},Nt(n,[{key:"Tu",get:function(){return this.we.getBoundingClientRect().height||this.DY||0}},{key:"Su",get:function(){return this.we.getBoundingClientRect().width||this.NY||0}}]),n}(oI),wI=function(t){function n(n){var i;return(i=t.call(this)||this).MY=void 0,i.LY=function(t,n){i.yo(new uI(t,n))},i.we=n,i}It(n,t);var i=n.prototype;return i.bn=function(t){this.MY||("function"==typeof f.ResizeObserver?this.MY=new aI(this.we,this.LY):this.MY=new gI(this.we,this.LY,t))},i.gn=function(){this.Bo(),this.MY&&(this.MY.gn(),this.MY=void 0)},Nt(n,[{key:"Tu",get:function(){return this.MY?this.MY.Tu:0}},{key:"Su",get:function(){return this.MY?this.MY.Su:0}}]),n}(na);F(),Tt(),Dt(),Rt(),F(),Tt(),Rt();var mI=function(t){function n(){return t.call(this,YT.aa)||this}return It(n,t),n}(ea);F(),Tt();var yI=function(){if(v)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in v)return{YY:i[0],Jo:i[1],KY:i[2],jY:i[3],Qe:i[4],QY:i[5]}}}();F(),Tt(),Rt();var pI=function(t){function n(){return t.call(this,YT.fa)||this}return It(n,t),n}(ea),_I=function(t){function n(i){var r;return(r=t.call(this)||this).cs=!1,r.JY=function(){return r.tK()},r.$Y=function(){return r.eK()},r.we=i,r.ea=n.na(i),v.addEventListener(yI.Qe,r.JY),r.tK(),r}It(n,t);var i=n.prototype;return i.co=function(){var t=this.we[yI.YY]();t&&t.then?t.then(this.JY,this.$Y):(v.removeEventListener(yI.QY,this.$Y),v.addEventListener(yI.QY,this.$Y))},i.bo=function(){var t=v[yI.Jo]();t&&t.then?t.then(this.JY,this.$Y):(v.removeEventListener(yI.QY,this.$Y),v.addEventListener(yI.QY,this.$Y))},i.tK=function(){var t=this.cs,n=this.we===v[yI.KY];this.cs=n,t!==n&&this.yo(new mI)},i.eK=function(){this.yo(new jT)},i.gn=function(){this.Bo(),v.removeEventListener(yI.Qe,this.JY),v.removeEventListener(yI.QY,this.$Y)},n.na=function(t){return Boolean(yI&&v[yI.jY]&&yI.YY in t)},n}(na),bI=function(t){function n(i){var r;return(r=t.call(this)||this).cs=!1,r.JY=function(){return r.tK()},r.we=i,r.ea=n.na(i),r.we.addEventListener("webkitbeginfullscreen",r.JY),r.we.addEventListener("webkitendfullscreen",r.JY),r.we.addEventListener("webkitpresentationmodechanged",r.JY),r.tK(),r}It(n,t);var i=n.prototype;return i.co=function(){var t=this;this.we.webkitSupportsPresentationMode&&this.we.webkitSupportsPresentationMode("fullscreen")?Gn.Ka?requestAnimationFrame((function(){return t.we.webkitSetPresentationMode("fullscreen")})):this.we.webkitSetPresentationMode("fullscreen"):this.we.webkitEnterFullscreen()},i.bo=function(){this.we.webkitSupportsPresentationMode&&this.we.webkitSupportsPresentationMode("inline")?this.we.webkitSetPresentationMode("inline"):this.we.webkitExitFullscreen()},i.tK=function(){var t,n=this.cs;t=this.we.webkitPresentationMode?"fullscreen"===this.we.webkitPresentationMode:Boolean(this.we.webkitDisplayingFullscreen),this.cs=t,n!==t&&this.yo(new mI)},i.gn=function(){this.Bo(),this.we.removeEventListener("webkitbeginfullscreen",this.JY),this.we.removeEventListener("webkitendfullscreen",this.JY),this.we.removeEventListener("webkitpresentationmodechanged",this.JY)},n.na=function(t){return Gn.Ka&&("webkitEnterFullscreen"in t||"webkitSupportsPresentationMode"in t)},n}(na),kI=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).nK=[],n.iK=void 0,n.sK=!1,n.tK=function(){var t=n.sK,i=n.aK();t!==i&&(n.sK=i,n.yo(new mI))},n}It(n,t);var i=n.prototype;return i.co=function(){this.iK?this.iK.co():this.yo(new jT)},i.bo=function(){for(var t=0,n=this.nK;t<n.length;t++){var i=n[t];i.cs&&i.bo()}},i.rK=function(t){this.iK=t},i.oK=function(t){this.nK.push(t),t.yn(YT.aa,this.tK),t.yn(YT.ua,this.Ds),this.tK()},i.hK=function(t){lo(this.nK,t),t.fn(YT.aa,this.tK),t.fn(YT.ua,this.Ds)},i.aK=function(){for(var t=0,n=this.nK;t<n.length;t++){if(n[t].cs)return!0}return!1},i.tr=function(){this.iK=void 0,this.sK=!1;for(var t=this.nK.slice(),n=0;n<t.length;n++){var i=t[n];this.hK(i),i.gn()}this.tK()},i.gn=function(){this.Bo(),this.tr()},Nt(n,[{key:"ea",get:function(){return!!this.iK&&this.iK.ea}},{key:"cs",get:function(){return this.sK}}]),n}(na),AI=function(t){function n(n,i){var r;return(r=t.call(this)||this).ca=!1,r.fK=function(){return r.Yn()},r.tK=function(t){r.ca||r.yo(t)},r.t=n,r.uK=i,r.cK=new KT,r.lK(),r.t.yn(ua.Ry,r.fK),r.Yn(),r}It(n,t);var i=n.prototype;return i.co=function(){this.uK&&this.cK.co()},i.bo=function(){this.cK.bo()},i.lK=function(){this.cK.yn([YT.aa,YT.fa],this.tK),this.cK.yn(YT.ua,this.Ds)},i.dK=function(){this.cK.fn([YT.aa,YT.fa],this.tK),this.cK.fn(YT.ua,this.Ds)},i.Yn=function(){var t=this.cK,n=this.t.pI();if(t!==n){this.ca=!0;var i=this.cs,r=this.ea;i&&this.bo(),this.dK(),this.cK=n,this.lK(),i&&!this.cs&&this.ea?this.co():this.bo(),this.ca=!1,r!==this.ea&&this.yo(new pI),i!==this.cs&&this.yo(new mI)}},i.gn=function(){this.Bo(),this.dK(),this.t.fn(ua.Ry,this.fK)},Nt(n,[{key:"ea",get:function(){return!!this.uK&&this.cK.ea}},{key:"cs",get:function(){return this.cK.cs}}]),n}(na);F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Rt(),F(),Tt();var TI=function(t){return t.MODE_CHANGE="presentationmodechange",t.ERROR="error",t}({}),SI=function(t){function n(n){var i;return(i=t.call(this,TI.MODE_CHANGE)||this).presentationMode=n,i}return It(n,t),n}(ea);F(),Tt(),F(),Tt(),Rt();var EI=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this,n)||this).vK=[],r.gK=function(t){Yo((function(){r.Ds(t)}))},r.pK=i?r.gK:r.Ds,r}It(n,t);var i=n.prototype;return i.iu=function(t){t.Jw(this.pK),this.vK.push(t)},i.mK=function(t){t.oy(this.pK),lo(this.vK,t)},i.gn=function(){this.Bo();for(var t=0,n=this.vK;t<n.length;t++){n[t].oy(this.pK)}po(this.vK)},n}(ra);F(),Tt(),Dt(),Rt();var II=function(t){function n(n){var i;return(i=t.call(this,TI.ERROR)||this).errorObject=n,i}return It(n,t),n.prototype.ma=function(){return this},Nt(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(dg);F(),Tt(),Rt();var RI=function(t){function n(n,i,r){return t.call(this,n,i,r)||this}return It(n,t),n}(td),CI=function(t){function n(n,i){var r;return(r=t.call(this)||this).qo=yT.INLINE,r.Ko=!1,r.Go=new ad,r.Za=void 0,r.tK=function(){r.wi()},r.eK=function(){r.Ko||(r.yo(new wk(new td(Qv.FULLSCREEN_ERROR,"Failed to enter fullscreen."))),r.wi())},r.SK=function(){r.Ko||(r.qo!==yT.NATIVE_PICTURE_IN_PICTURE||r.Qo.iO?r.qo!==yT.NATIVE_PICTURE_IN_PICTURE&&r.Qo.iO&&r.Lo(yT.NATIVE_PICTURE_IN_PICTURE):r.Lo(yT.INLINE))},r.TK=function(){r.Ko||(r.yo(new II(new RI(Qv.PICTURE_IN_PICTURE_ERROR,"Unexpected native picture-in-picture error."))),r.SK())},r.Zo=n,r.Qo=i,r.Zo.yn(YT.aa,r.tK),r.Zo.yn(YT.ua,r.eK),r.Qo.yn(CT.tO,r.SK),r.Qo.yn(CT.eO,r.SK),r.Qo.yn(CT.ua,r.TK),r}It(n,t);var i=n.prototype;return i.ma=function(){return function(t){var n,i={get currentMode(){return t.Uo()},requestMode:function(n){var i=ST(n);i&&t.Lo(i)},supportsMode:function(n){var i=ST(n);return!!i&&t.Vo(i)},addEventListener:function(t,i){n.yn(t,i)},removeEventListener:function(t,i){n.fn(t,i)}};return(n=new EI(i,!0)).iu(t),i}(this)},i.Lo=function(t){this.qo!==t&&(this.qo=t,this.Ko=!0,this.zo(t))},i.Uo=function(){return this.qo},i.Vo=function(t){switch(t){case yT.NATIVE_PICTURE_IN_PICTURE:return this.Qo.sO;case yT.FULLSCREEN:return this.Zo.ea;case yT.INLINE:return!0}return!1},i.zo=function(t){var n=this;switch(this.Go.Xw(),t){case yT.FULLSCREEN:jo(this.Go.Wo((function(t){return n.wK(t)})));break;case yT.NATIVE_PICTURE_IN_PICTURE:jo(this.Go.Wo((function(t){return n.yK(t)})));break;case yT.INLINE:jo(this.Go.Wo((function(t){return n.bK(t)})))}},i.wK=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return Oo(t),[4,n.Qo.bo().catch(pi)];case 1:r.sent(),Oo(t),r.label=2;case 2:return r.trys.push([2,4,5,6]),[4,n.AK()];case 3:return r.sent(),n.yo(new SI(n.qo)),[3,6];case 4:throw r.sent(),i=new RI(Qv.FULLSCREEN_ERROR,"Failed to enter fullscreen."),n.yo(new II(i)),Oo(t),n.Lo(yT.INLINE),i;case 5:return n.Ko=!1,[7];case 6:return[2]}}))}))()},i.yK=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return Oo(t),[4,n.Jo().catch(pi)];case 1:r.sent(),Oo(t),r.label=2;case 2:return r.trys.push([2,4,5,6]),[4,n.Qo.co()];case 3:return r.sent(),n.yo(new SI(n.qo)),[3,6];case 4:throw r.sent(),i=new RI(Qv.PICTURE_IN_PICTURE_ERROR,"Failed to enter native picture-in-picture."),n.yo(new II(i)),Oo(t),n.Lo(yT.INLINE),i;case 5:return n.Ko=!1,[7];case 6:return[2]}}))}))()},i.bK=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return Oo(t),[4,n.Jo().catch(pi)];case 1:return i.sent(),Oo(t),[4,n.Qo.bo().catch(pi)];case 2:return i.sent(),n.yo(new SI(n.qo)),n.Ko=!1,[2]}}))}))()},i.AK=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.Zo.cs?[2]:(n=t.Zo.uy([YT.aa,YT.ua]),t.Zo.co(),[4,n]);case 1:if(i.sent(),!t.Zo.cs)throw new p("Failed to enter fullscreen.");return[2]}}))}))()},i.Jo=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.Zo.cs?(n=t.Zo.uy([YT.aa,YT.ua]),t.Zo.bo(),[4,n]):[2];case 1:if(i.sent(),t.Zo.cs)throw new p("Failed to exit fullscreen.");return[2]}}))}))()},i.wi=function(){this.Ko||(this.qo!==yT.FULLSCREEN||this.Zo.cs?this.qo!==yT.FULLSCREEN&&this.Zo.cs&&this.Lo(yT.FULLSCREEN):this.Lo(yT.INLINE))},i.gn=function(){this.Zo.fn(YT.aa,this.tK),this.Zo.fn(YT.ua,this.eK),this.Qo.fn(CT.tO,this.SK),this.Qo.fn(CT.eO,this.SK),this.Qo.fn(CT.ua,this.TK),this.Bo()},Nt(n,[{key:"ga",get:function(){return this.Za||(this.Za=this.ma()),this.Za}}]),n}(ra);function NI(t){var n;return{get url(){return t.qu},get method(){return t.gE},get headers(){return n||(n=t.qk.yk()),n},get body(){return t.Ck},get useCredentials(){return t.AE},get type(){return t.pw},get subType(){return t.yE},get mediaType(){return t.bE},get responseType(){return t.Xk}}}function DI(t){switch(t.toLowerCase()){case"arraybuffer":return Sd.vk;case"json":return Sd.gk;case"stream":return Sd.pk;default:return Sd.wk}}function PI(t){switch(t.toUpperCase()){case"POST":return ul.POST;case"PUT":return ul.PUT;case"DELETE":return ul.DELETE;case"HEAD":return ul.HEAD;case"OPTIONS":return ul.OPTIONS;default:return ul.GET}}function xI(t){switch(t.toLowerCase()){case"manifest":return sl.Jk;case"segment":return sl.$k;case"preload-hint":return sl.tE;case"content-protection":return sl.eE;default:return sl.Qk}}function LI(t){switch(t.toLowerCase()){case"initialization-segment":return ol.iE;case"fairplay-license":return ol.sE;case"fairplay-certificate":return ol.nE;case"widevine-license":return ol.rE;case"widevine-certificate":return ol.oE;case"playready-license":return ol.hE;case"clearkey-license":return ol.aE;case"aes128-key":return ol.uE;default:return ol.Qk}}function MI(t){switch(t.toLowerCase()){case"audio":return al.cE;case"video":return al.lE;case"text":return al.wk;case"image":return al.dE;default:return al.Qk}}F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Dt(),Rt(),F(),Tt(),F(),Tt(),Gt(),Dt(),qt();var OI=function(){function t(t,n){this.GK=t,this.VK=n,this.EK=new Zc,this.MK=[],this.Za=void 0,this.IK=!1,this.GE=void 0,this.DK=0}var n=t.prototype;return n.MD=function(){this.IK=!0,this.EK.Mb(null)},n.NK=function(){this.EK.Lb(new Nd(this.MK))},n.LK=function(t){if(!this.CK)throw new _("Cannot respond more than once");if(!Qn(t))throw new _("Expected valid response");this.GE=this.BK(t),this.MD()},n.FK=function(){try{var t=this.VK(this.ga);t?this.WK(t):this.PK||this.RK||this.MD()}catch(t){this.MK.push(t),this.NK()}},n.WK=function(t){if(this.RK)throw new p("Request has been redirected or a response already exists");if(ii(t))this.UK(t);else{if("function"!=typeof t)throw new _("Expected promise or function");var n=new Zc;try{var i=t((function(t){t?n.Lb(t):n.Mb(void 0)}));ii(i)&&n.zw(i)}catch(t){n.Lb(t)}this.UK(n.Bb)}},n.UK=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),n.DK++,[4,t];case 1:return r.sent(),n.DK--,n.PK||n.RK||(n.MK.length?n.NK():n.MD()),[3,3];case 2:return i=r.sent(),n.DK--,n.MK.push(i),n.PK||n.RK||n.NK(),[3,3];case 3:return[2]}}))}))()},Nt(t,[{key:"kK",get:function(){return this.EK.Bb}},{key:"ga",get:function(){return this.Za||(this.Za=this.xK()),this.Za}},{key:"RK",get:function(){return this.IK}},{key:"CK",get:function(){return!this.IK}},{key:"PK",get:function(){return this.DK>0}},{key:"UE",get:function(){return this.GE}}]),t}(),BI=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).HK=r,e.FK(),e}It(n,t);var i=n.prototype;return i.xK=function(){return function(t){var n,i=NI(t.zk);return{get closed(){return!t.CK},get request(){return i},get url(){return t.qu},get status(){return t.Hk},get statusText(){return t.Yk},get headers(){return n||(n=t.qk.yk()),n},get body(){return t.Ck},respondWith:function(n){return t.LK(n)},waitUntil:function(n){return t.WK(n)}}}(this)},i.BK=function(t){return n.ZK(t,this.GK,this.HK)},n.ZK=function(t,n,i){var r=void 0===t.body?i:t.body;return new el({Zk:r,zk:n.zk,Xk:n.zk.Xk,qk:t.headers,Hk:t.status,Yk:t.statusText,jk:t.url,Kk:!0},n)},Nt(n,[{key:"Ck",get:function(){return this.HK}},{key:"qk",get:function(){return this.GK.qk}},{key:"zk",get:function(){return this.GK.zk}},{key:"UE",get:function(){return this.GE}},{key:"Hk",get:function(){return this.GK.Hk}},{key:"Yk",get:function(){return this.GK.Yk}},{key:"qu",get:function(){return this.GK.jk}}]),n}(OI);F(),Tt(),Dt(),Rt();var VI=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).qK=void 0,e.XK=r,e.FK(),e}It(n,t);var i=n.prototype;return i.xK=function(){return function(t){var n;return{get url(){return t.qu},get method(){return t.gE},get headers(){return n||(n=t.qk.yk()),n},get body(){return t.Ck},get closed(){return!t.CK},get useCredentials(){return t.AE},get type(){return t.pw},get subType(){return t.yE},get mediaType(){return t.bE},get responseType(){return t.Xk},redirect:function(n){return t.YK(n)},respondWith:function(n){return t.LK(n)},waitUntil:function(n){return t.WK(n)}}}(this)},i.BK=function(t){var n=this.GK.Ck,i=new el({Zk:n,qk:{},zk:this.GK,jk:this.GK.qu,Xk:this.GK.Xk,Hk:200,Yk:"OK"});return BI.ZK(t,i,n)},i.YK=function(t){if(!this.CK)throw new _("Cannot redirect, already redirected or has a response");var n;n=ti(t)?{url:t}:t,this.qK=function(t,n){return new hl({qu:void 0===t.url?n.qu:t.url,gE:void 0!==t.method?PI(t.method):void 0,qk:t.headers,Ck:t.body,AE:t.useCredentials,pw:void 0!==t.type?xI(t.type):void 0,yE:void 0!==t.subType?LI(t.subType):void 0,bE:void 0!==t.mediaType?MI(t.mediaType):void 0,Xk:void 0!==t.responseType?DI(t.responseType):void 0},n)}(n,this.GK),this.MD()},Nt(n,[{key:"Ck",get:function(){return this.GK.Ck}},{key:"CK",get:function(){return this.XK&&!this.IK}},{key:"qk",get:function(){return this.GK.qk}},{key:"gE",get:function(){return this.GK.gE}},{key:"zK",get:function(){return this.qK}},{key:"UE",get:function(){return this.GE}},{key:"Xk",get:function(){return this.GK.Xk}},{key:"pE",get:function(){return this.GK.pE}},{key:"wE",get:function(){return this.GK.wE}},{key:"Bw",get:function(){return this.GK.Bw}},{key:"pw",get:function(){return this.GK.pw}},{key:"yE",get:function(){return this.GK.yE}},{key:"bE",get:function(){return this.GK.bE}},{key:"qu",get:function(){return this.GK.qu}},{key:"AE",get:function(){return this.GK.AE}},{key:"kE",get:function(){return this.GK.kE}},{key:"SE",get:function(){return this.GK.SE}},{key:"TE",get:function(){return this.GK.TE}},{key:"EE",get:function(){return this.GK.EE}}]),n}(OI);var FI=function(t){function n(n,i){var r;void 0===i&&(i=!0);var e=new UI(n);return(r=t.call(this,e,i)||this).jK=e,r}It(n,t);var i=n.prototype;return i.KK=function(t){this.jK.KK(t)},i.QK=function(t){this.jK.QK(t)},i.JK=function(t){this.jK.JK(t)},i.VX=function(t){this.jK.VX(t)},i.HX=function(t){this.jK.HX(t)},n}(vl),UI=function(){function t(t){this.ij=[],this.sj=[],this.DE=t}var n=t.prototype;return n.zk=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,5]),[4,n.$K(t,t.Bw)];case 1:return i=e.sent(),[3,5];case 2:return(r=e.sent())instanceof bl?[4,n.tj(r,t.Bw)]:[3,4];case 3:return[2,e.sent()];case 4:throw r;case 5:return[4,n.ej(i,t.Bw)];case 6:if(rl(i=e.sent()))return[2,i];throw new Al(i)}}))}))()},n.xE=function(t){return this.DE.xE(t)},n.$K=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:Oo(n),r=t,u=0,s=i.ij.slice(),c.label=1;case 1:if(!(u<s.length))return[3,7];if(o=s[u],Oo(n),(a=new VI(r,o,!e)).RK)return[3,5];c.label=2;case 2:return c.trys.push([2,4,,5]),[4,a.kK];case 3:return c.sent(),[3,5];case 4:return c.sent(),[3,6];case 5:a.zK&&!e?r=a.zK:a.UE&&!e&&(e=a.UE),c.label=6;case 6:return u++,[3,1];case 7:return e?[2,e]:[2,i.DE.zk(r)]}}))}))()},n.tj=function(t,n){var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return t instanceof Al?r=t.UE:(e=t.zk,r=new el({Zk:null,zk:e,Xk:e.Xk,Hk:0,Yk:""})),[4,i.ej(r,n)];case 1:if((u=s.sent())===r)throw t;if(rl(u))return[2,u];throw new Al(u)}}))}))()},n.ej=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:r=t,e=0,u=i.sj.slice(),c.label=1;case 1:return e<u.length?(s=u[e],Oo(n),[4,et.resolve(r.Tb().Zk(n))]):[3,8];case 2:if(o=c.sent(),(a=new BI(r,s,o)).RK)return[3,6];c.label=3;case 3:return c.trys.push([3,5,,6]),[4,a.kK];case 4:return c.sent(),[3,6];case 5:return c.sent(),[3,7];case 6:r=a.UE||r,c.label=7;case 7:return e++,[3,1];case 8:return[2,r]}}))}))()},n.KK=function(t){this.ij.unshift(t)},n.QK=function(t){this.ij.push(t)},n.JK=function(t){lo(this.ij,t)},n.VX=function(t){this.sj.unshift(t)},n.HX=function(t){lo(this.sj,t)},n.gn=function(){this.DE.gn(),po(this.ij),po(this.sj)},t}();F(),Tt(),Dt(),Rt();var WI=function(){function t(t){this.aW=t}var n=t.prototype;return n.KK=function(t){this.aW.KK(t)},n.JK=function(t){this.aW.JK(t)},n.VX=function(t){this.aW.VX(t)},n.HX=function(t){this.aW.HX(t)},Nt(t,[{key:"ga",get:function(){return this.Za||(this.Za=function(t){return{addRequestInterceptor:function(n){t.KK(n)},removeRequestInterceptor:function(n){t.JK(n)},addResponseInterceptor:function(n){t.VX(n)},removeResponseInterceptor:function(n){t.HX(n)}}}(this)),this.Za}}]),t}(),ZI=function(t){function n(n,i,r){var e;return(e=t.call(this,i)||this).lj=n,e.aW=i,e.dZ=r,e.dj=function(t){e.yo(t)},e._j=function(t){e.yo(t)},e.lj.yn(ua.Wy,e.dj),e.lj.yn(ua.Vy,e._j),e}It(n,t);var i=n.prototype;return i.rj=function(t){this.dZ.rj(t)},i.KK=function(t){this.aW.KK(t)},i.JK=function(t){this.aW.JK(t)},i.VX=function(t){this.aW.VX(t)},i.HX=function(t){this.aW.HX(t)},i.gn=function(){this.Bo(),this.lj.fn(ua.Wy,this.dj),this.lj.fn(ua.Vy,this._j)},Nt(n,[{key:"ga",get:function(){return this.Za||(this.Za=function(t){return{get online(){return t.GR},get estimator(){return function(t){return{get bandwidth(){return t.mG},get roundTripTime(){return t.gG}}}(t.nj)},setEstimator:function(n){t.rj(function(t){if(!t)return;return{get mG(){return Mg(t.bandwidth)},get gG(){return Mg(t.roundTripTime)},pG:function(n){return function(t){if(!t)return;return{hj:function(n){t.markRequestStart(n)},aj:function(n){t.markResponseStart(n)},uj:function(n,i){t.markResponseData(n,i)},cj:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(NI(n)))}}}(n))},addRequestInterceptor:function(n){t.KK(n)},removeRequestInterceptor:function(n){t.JK(n)},addResponseInterceptor:function(n){t.VX(n)},removeResponseInterceptor:function(n){t.HX(n)},addEventListener:function(n,i){t.yn(n,i)},removeEventListener:function(n,i){t.fn(n,i)}}}(this)),this.Za}},{key:"GR",get:function(){return this.lj.GR}},{key:"nj",get:function(){return this.dZ.nj}}]),n}(na);F(),Tt(),Dt(),Rt(),F(),Tt(),F(),Tt();var XI=function(t){return t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth",t}({});F(),Tt();function GI(t,n,i,r,e,u){var s=[],o=t-k.max(u,1),a=t+e;if(n&&i){var c=er(i,1,5),h=n-c;o=k.min(o,h);var f=n+i+c;a=k.max(a,f)}return 0!==o&&r.eB(0,o)&&s.push([0,o]),r.eB(a,1/0)&&s.push([a,1/0]),s}function HI(t){return t instanceof p&&"QuotaExceededError"===t.name}F(),Tt();var zI={type:XI.BANDWIDTH};function YI(t){var n=Ig(zI);return ti(t)?n.type=jI(t):Qn(t)&&function(t){switch(t){case XI.PERFORMANCE:case XI.QUALITY:case XI.BANDWIDTH:return!0;default:return!1}}(t.type)&&(n.type=jI(t.type)),Qn(t)&&Qn(t.metadata)&&(n.metadata=function(t){var n={},i=Lg(t.bitrate);return S(i)||(n.bitrate=i),n}(t.metadata)),n}function jI(t){switch(t){case"bandwidth":return XI.BANDWIDTH;case"performance":return XI.PERFORMANCE;case"quality":return XI.QUALITY}}F(),Tt(),Rt();var KI=function(t){function n(n){var i;return(i=t.call(this,"vj")||this).mj=n,i}return It(n,t),n}(ea);F(),Tt(),Rt();var qI=function(t){function n(n){var i;return(i=t.call(this,"gj")||this).pj=n,i}return It(n,t),n}(ea);F(),Tt(),Rt();var JI=function(t){function n(n){var i;return(i=t.call(this,"wj")||this).yj=n,i}return It(n,t),n}(ea),QI=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Za=function(t){return{get strategy(){return function(t){return{metadata:t.metadata,type:t.type}}(t.pj)},set strategy(n){t.pj=YI(n)},get targetBuffer(){return t.mj},set targetBuffer(n){var i=Lg(n);S(i)||(t.mj=i)},get bufferLookbackWindow(){return t.yj},set bufferLookbackWindow(n){var i=Lg(n);S(i)||(t.yj=i<=0?30:i)},get maxBufferLength(){return t.Cj},get clearBufferWhenSettingTargetQuality(){return t.Nj},set clearBufferWhenSettingTargetQuality(n){t.Nj=Pg(n)}}}(n),n.Tj=zI,n.Ej=20,n.Ij=30,n.Rj=1/0,n.Mj=!1,n.Pj=void 0,n}It(n,t);var i=n.prototype;return i.bj=function(t){this.Aj=t},i.rj=function(t){this.Pj=t},i.Dj=function(t){var n=k.min(t,.8*this.Rj);if(n=k.max(10,n),this.Rj===n)return!1;var i=this.xj;this.Rj=n;var r=this.xj;return r!==i&&this.yo(new KI(r)),!0},Nt(n,[{key:"Sj",get:function(){switch(this.Tj.type){case XI.PERFORMANCE:return 0;case XI.QUALITY:return 1/0;case XI.BANDWIDTH:return this.Tj.metadata&&void 0!==this.Tj.metadata.bitrate?this.Tj.metadata.bitrate:pk.Lg.rG();default:return pk.Lg.rG()}}},{key:"ga",get:function(){return this.Za}},{key:"pj",get:function(){return this.Tj},set:function(t){this.Tj=t,this.yo(new qI(t))}},{key:"mj",get:function(){return this.Ej},set:function(t){this.Ej=t,this.yo(new KI(t))}},{key:"xj",get:function(){return k.min(this.Ej,this.Rj)}},{key:"yj",get:function(){return this.Ij},set:function(t){this.Ij=t,this.yo(new JI(t))}},{key:"Cj",get:function(){return this.Rj}},{key:"nj",get:function(){var t;return null!=(t=this.Pj)?t:this.Aj.jG}},{key:"Nj",get:function(){return this.Mj},set:function(t){this.Mj=t}}]),n}(na);F(),Tt(),Dt(),Rt(),F(),Tt(),Rt();var $I=function(t){function n(){return t.call(this,"jI")||this}return It(n,t),n.prototype.ma=function(){return new tR},n}(dg),tR=function(t){function n(){return t.call(this,"change")||this}return It(n,t),n}(ea);F(),Tt(),F(),Tt(),Rt();var nR=function(t){function n(n,i,r){var e;(e=t.call(this,r)||this).Bj=function(t){lg(t)&&Yo((function(){e.yo(t.ga)}))},e.Lj=n,e.Xf=i;for(var u=0,s=e.Xf;u<s.length;u++){var o=s[u];e.Lj.yn(o,e.Bj)}return e}return It(n,t),n.prototype.gn=function(){this.Bo();for(var t=0,n=this.Xf;t<n.length;t++){var i=n[t];this.Lj.fn(i,this.Bj)}},n}(na),iR=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).Bj=function(t){lg(t)&&Yo((function(){r.yo(t.ga)}))},r.Lj=n,r.Lj.Jw(r.Bj),r}return It(n,t),n.prototype.gn=function(){this.Bo(),this.Lj.oy(this.Bj)},n}(ra);var rR=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).XO=0,n.YO=1/0,n}It(n,t);var i=n.prototype;return i.tr=function(){0===this.XO&&this.YO===1/0||(this.XO=0,this.YO=1/0,this.yo(new $I))},i.Oj=function(){return new AA([this.LO,this.BO],[!0,!0])},Nt(n,[{key:"LO",get:function(){return this.XO},set:function(t){if(this.BO<=t)throw new p("Start time of a clip should be smaller than the end time.");this.XO!==t&&(this.XO=t,this.yo(new $I))}},{key:"BO",get:function(){return this.YO},set:function(t){if(t<=this.LO)throw new p("End time of a clip should be larger than the start time.");this.YO!==t&&(this.YO=t,this.yo(new $I))}},{key:"ga",get:function(){return this.Za||(this.Za=function(t){var n,i={get startTime(){return t.LO},set startTime(n){t.LO=n},get endTime(){return t.BO},set endTime(n){t.BO=n},addEventListener:function(t,i){n.yn(t,i)},removeEventListener:function(t,i){n.fn(t,i)}};return n=new iR(t,i),i}(this)),this.Za}}]),n}(ra);F(),Tt(),Gt(),Dt(),Rt(),qt();var eR=function(t){function n(i,r){var e;return(e=t.call(this,i)||this).Wj=!1,e.Yj=void 0,e.Kj=!1,e.Hj=function(){e.Gj(),e.Vj()},e.xc=function(){e.Zj(),e.Vj(),e.qj&&e.yR>=e.Fj.BO-n.jj&&!e.kR&&(e.Yj=$E(e.xc))},e.Xj=function(){e.Kj=!0},e.zj=function(){e.Kj&&(e.Kj=!1,e.Vj())},e.Fj=r,e.Fj.yn("jI",e.Hj),e.dR.yn(ua.$y,e.xc),e}It(n,t);var i=n.prototype;return i.AR=function(n,i){var r=this.Fj.Oj().ZL(n);t.prototype.AR.call(this,r,i),this.Vj()},i.ER=function(){return t.prototype.ER.call(this)||this.Wj},i.sI=function(){return AA.xn(t.prototype.sI.call(this)).Sn(this.Fj.Oj()).ks()},i.AI=function(){this.ER()?this.AR(this.Uj.start(0)):this.Gj(),t.prototype.AI.call(this),this.Vj()},i.ka=function(n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return Oo(i),r.Wj=!1,r.Fj.tr(),[4,t.prototype.ka.call(r,n,i)];case 1:return e.sent(),[2]}}))}))()},i.gn=function(){return this.Fj.fn("jI",this.Hj),this.dR.fn(ua.$y,this.xc),this.Zj(),t.prototype.gn.call(this)},i.CI=function(n){switch(n.type){case ua.qy:return this.yo(n),this.Xj(),!0;case ua.zy:case ua.Ty:return this.yo(n),this.zj(),!0;case ua.xy:if(this.qj)return!0}return t.prototype.CI.call(this,n)},i.Zj=function(){this.Yj&&(tI(this.Yj),this.Yj=void 0)},i.Vj=function(){var t=this.yR,i=this.qj&&t>=this.Fj.BO-n.ed;this.Wj&&!i?(this.Wj=!1,this.ZR&&this.AI()):this.Wj||!i||this.nI||this.Kj||(this.Wj=!0,this.yo(new fT(t)),this.bI())},i.Gj=function(){if(this.ct!==1/0){var t=this.Uj,i=AA.xn(t).ZL(this.yR);ur(this.yR,i,n.ed)||this.AR(i)}},Nt(n,[{key:"Uj",get:function(){return this.sI().length?this.sI():this.Fj.Oj().ks()}},{key:"qj",get:function(){return this.Fj.BO<this.ct}}]),n}(jk);eR.jj=1,eR.ed=.001,F(),Tt(),Dt();var uR=function(){function t(){this.Jj=!1}return Nt(t,[{key:"Qj",get:function(){return this.Jj},set:function(t){this.Jj=t}}]),t}();F(),Tt(),Rt();var sR=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).tQ=!1,r.$j=!1,r.Jj=i,r}It(n,t);var i=n.prototype;return i.ER=function(){return!this.Jj.Qj&&t.prototype.ER.call(this)},i.bI=function(){this.$j=!0,t.prototype.bI.call(this)},i.AI=function(){this.$j=!1,t.prototype.AI.call(this)},i.CI=function(n){if(this.Jj.Qj)switch(n.type){case ua.xy:return this.yR=0,this.$j||(this.nI?this.tQ=!0:this.AI()),!0;case ua.zy:this.tQ&&(this.tQ=!1,this.AI());break;case ua.Uy:if(this.tQ||t.prototype.ER.call(this))return!0}return t.prototype.CI.call(this,n)},n}(jk);F(),Tt(),Dt(),F(),Tt();var oR=function(){function t(t){this.ta=t,this.Za=function(t){return{get currentBandwidthEstimate(){return t.dO},get corruptedVideoFrames(){return t.cO},get droppedVideoFrames(){return t.uO},get totalVideoFrames(){return t.lO},get totalBytesLoaded(){return t.fO},get bufferedSegments(){return t._O}}}(this)}return Nt(t,[{key:"ga",get:function(){return this.Za}},{key:"cO",get:function(){return this.ta.LR.cO}},{key:"dO",get:function(){return this.ta.LR.dO}},{key:"uO",get:function(){return this.ta.LR.uO}},{key:"eQ",get:function(){throw new p("Not implemented")}},{key:"iQ",get:function(){throw new p("Not implemented")}},{key:"fO",get:function(){return this.ta.LR.fO}},{key:"lO",get:function(){return this.ta.LR.lO}},{key:"_O",get:function(){return this.ta.LR._O}}]),t}();function aR(t){if(!t||!Ti(t))return{uO:0,cO:0,lO:0,dO:0,fO:0,_O:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}};if("function"==typeof t.getVideoPlaybackQuality){var n=t.getVideoPlaybackQuality();return{uO:n.droppedVideoFrames,cO:n.corruptedVideoFrames||0,lO:n.totalVideoFrames}}return{uO:t.webkitDroppedFrameCount||0,cO:0,lO:t.webkitDecodedFrameCount||0}}F(),Tt(),Dt(),Rt(),F(),Tt(),Rt();var cR=function(t){function n(){return t.call(this,"sQ")||this}return It(n,t),n.prototype.ma=function(){return new hR},n}(dg),hR=function(t){function n(){return t.call(this,"castingchange")||this}return It(n,t),n}(ea);F(),Tt();var fR=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).rQ=void 0,n.oQ=void 0,n._Q=!1,n.Za=void 0,n.dQ=function(){var t=n._Q,i=n.nQ;t!==i&&(n._Q=i,n.yo(new cR))},n}It(n,t);var i=n.prototype;return i.uQ=function(t){this.rQ=t,this.cQ(t)},i.lQ=function(t){this.oQ=t,this.cQ(t)},i.cQ=function(t){t.yn("statechange",this.dQ)},i.fQ=function(t){t.fn("statechange",this.dQ)},i.gn=function(){this.Bo(),this.rQ&&(this.fQ(this.rQ),this.rQ=void 0),this.oQ&&(this.fQ(this.oQ),this.oQ=void 0)},Nt(n,[{key:"nQ",get:function(){var t,n;return(null==(t=this.rQ)?void 0:t.nQ)||(null==(n=this.oQ)?void 0:n.nQ)||!1}},{key:"hQ",get:function(){return this.rQ}},{key:"aQ",get:function(){return this.oQ}},{key:"ga",get:function(){return this.Za||(this.Za=function(t){var n,i={get casting(){return t.nQ},get airplay(){var n;return null==(n=t.hQ)?void 0:n.ga},get chromecast(){var n;return null==(n=t.aQ)?void 0:n.ga},addEventListener:function(t,i){n.yn(t,i)},removeEventListener:function(t,i){n.fn(t,i)}};return n=new nR(t,["sQ"],i),i}(this)),this.Za}}]),n}(na);F(),Tt(),Gt(),qt(),F(),Tt(),Gt(),qt();var vR=function(){function t(){}return t.vQ=function(t,n){return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),i=new hl({qu:t,Xk:Sd.wk,gE:ul.GET}),[4,n.zk(i)];case 1:return[4,r.sent().Zk()];case 2:return[2,r.sent().trim()];case 3:return Mo(r.sent()),[2,void 0];case 4:return[2]}}))}))()},t.mQ=function(t){try{var n=mE(t);return new kE(n.key,n.domains_page,n.domains_source,n.expiration_date,n.features,n.customer_id,n.generation_date,n.sdks,n.send_impression)}catch(t){throw new td(Qv.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.gQ=function(t){void 0===t&&(t=eE.lh),Kn.Mp("The baked-in license is used. Please update the configuration with your license.");var n=t.Zz("F2b-iL'[FL[S"),i=JSON.parse('["F$(:_L50F|aY"]').map((function(n){return t.Zz(n)})),r=JSON.parse('[".$hsF|b9_Ess*rS:F]Y\\""]').map((function(n){return t.Zz(n)})),e=Number(new Date(Number(t.Zz('COD|aHpHa:p3Ceo3Co""')))),u=JSON.parse("[]").map((function(n){return t.Zz(n)}));return new kE(n,i,r,e,u)},t.convertLicenseToDummyLicense=function(t){return new kE(t.Jz,t.$z,t.tq,864e13,t.nq,t.rq,Date.now(),t.hq,t.aq)},t}(),dR="https://validate.theoplayer.com/1/",lR=72e5,gR=k.floor(14399999*k.random()-lR),wR="THEOplayer.license",mR=function(){function t(t,n,i,r,e,u){this.aW=t,this.kQ=n,this.CQ=i,this.Qq=r,this.AQ=e,this.AA=u,this.Tq=xE(u)}var n=t.prototype;return n.yQ=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return[4,t.bQ(t.AQ.license,t.AQ.licenseUrl)];case 1:return n=i.sent(),t.Qq.SQ(n),[2]}}))}))()},n.bQ=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:return r=n,t?e=vR.mQ(t):r||(e=vR.gQ()),r||(r=dR+e.Jz),u=i.TQ(),e?(s=i.kQ.pq(e))!==bE.Kz?[3,3]:i.EQ(e.iq)&&i.EQ(null==u?void 0:u.iq)?[4,i.xQ(r)]:[3,2]:[3,3];case 1:if(o=f.sent())return[2,o];f.label=2;case 2:return[2,e];case 3:return u?i.kQ.pq(u)!==bE.Kz?[3,6]:i.EQ(null==u?void 0:u.iq)?[4,i.xQ(r)]:[3,5]:[3,7];case 4:if(a=f.sent())return[2,a];f.label=5;case 5:return[2,u];case 6:Gk.Nb(wR),f.label=7;case 7:return[4,vR.vQ(r,i.aW)];case 8:if(c=f.sent()){if(h=vR.mQ(c),i.kQ.pq(h)===bE.Kz)return Gk.Pb(wR,c),[2,h];Gk.Nb(wR)}else if(!i.Tq&&e&&s===bE.jz&&r===dR+e.Jz)return[2,vR.convertLicenseToDummyLicense(e)];if(!e&&!h)throw new td(Qv.LICENSE_ERROR,"The given license is invalid!");return i.RQ(null!=e?e:h,new td(Qv.LICENSE_ERROR,"The given license is invalid!")),[2]}}))}))()},n.dq=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return[4,n.Qq.jq()];case 1:return i=c.sent(),n.EQ(i.iq)?(e=null!=(r=n.AQ.licenseUrl)?r:dR+i.Jz,[4,n.xQ(e)]):[3,3];case 2:(u=c.sent())&&(n.Qq.SQ(u),i=u),c.label=3;case 3:try{if((s=n.kQ.pq(i))===bE.Qz)throw o=AE.uq,new td(EE(o),LE.mq(o));if(s===bE.jz)throw a=AE.jz,new td(EE(a),LE.mq(a));n.kQ.dq(t,i)}catch(t){n.IQ(t)}return[2]}}))}))()},n.gq=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,n.Qq.jq()];case 1:i=r.sent();try{n.kQ.gq(t,i)}catch(t){n.IQ(t)}return[2]}}))}))()},n.xQ=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,vR.vQ(t,n.aW)];case 1:return void 0===(i=e.sent())?[2,void 0]:(r=vR.mQ(i),n.kQ.pq(r)===bE.Kz?(Gk.Pb(wR,i),[2,r]):[2,void 0]);case 2:return e.sent(),[2,void 0];case 3:return[2]}}))}))()},n.EQ=function(t){return!t||Number(new Date)+2592e5+gR>=t},n.TQ=function(){var t=Gk.Cb(wR);if(t)return vR.mQ(t)},n.RQ=function(t,n){this.Qq.SQ(t),this.IQ(n)},n.IQ=function(t){throw zr(t.message),this.CQ.tY(t.message),t},t}();F(),Tt(),Gt(),Dt(),qt();var yR=function(){function t(){this.NQ=new Zc}var n=t.prototype;return n.SQ=function(t){this.DQ=t,this.NQ.Mb()},n.jq=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.DQ?[2,et.resolve(t.DQ)]:[4,t.NQ.Bb];case 1:return n.sent(),[2,t.DQ]}}))}))()},Nt(t,[{key:"MQ",get:function(){return this.DQ}}]),t}();F(),Tt(),Dt(),Rt(),F(),Tt(),Rt();var pR=function(t){function n(){return t.call(this,"jI")||this}return It(n,t),n.prototype.ma=function(){return new _R},n}(dg),_R=function(t){function n(){return t.call(this,"change")||this}return It(n,t),n}(ea);function bR(t){var n,i={get fontFamily(){return t.LQ},set fontFamily(n){t.LQ=n},get fontColor(){return t.BQ},set fontColor(n){t.BQ=n},get fontSize(){return t.OQ},set fontSize(n){t.OQ=n},get backgroundColor(){return t.FQ},set backgroundColor(n){t.FQ=n},get windowColor(){return t.VQ},set windowColor(n){t.VQ=n},get edgeStyle(){return t.WQ},set edgeStyle(n){t.WQ=n},get marginTop(){return t.UQ},set marginTop(n){t.UQ=n},get marginBottom(){return t.GQ},set marginBottom(n){t.GQ=n},get marginLeft(){return t.HQ},set marginLeft(n){t.HQ=n},get marginRight(){return t.ZQ},set marginRight(n){t.ZQ=n},addEventListener:function(t,i){var r=Vg(t,Og);n.yn(r,i)},removeEventListener:function(t,i){var r=Vg(t,Og);n.fn(r,i)}};return n=new ia(i),t.yn(["jI"],(function(t){return n.yo(t.ga)})),i}F(),Tt();var kR={LQ:void 0,BQ:void 0,OQ:void 0,FQ:void 0,VQ:void 0,WQ:void 0,UQ:void 0,GQ:void 0,HQ:void 0,ZQ:void 0},AR="THEOplayer.textTrackStyle.",TR=function(t){function n(){var i;return(i=t.call(this)||this).Za=void 0,i.zQ=n.YQ(),i}return It(n,t),n.prototype.Yn=function(t){this.zQ=$u({},this.zQ,t),n.qQ(this.zQ),this.yo(new pR)},n.YQ=function(){var t=$u({},kR);return t.LQ=Gk.Cb(AR+"fontFamily")||t.LQ,t.BQ=Gk.Cb(AR+"fontColor")||t.BQ,t.OQ=Gk.Cb(AR+"fontSize")||t.OQ,t.FQ=Gk.Cb(AR+"backgroundColor")||t.FQ,t.VQ=Gk.Cb(AR+"windowColor")||t.VQ,t.WQ=Gk.Cb(AR+"edgeStyle")||t.WQ,t},n.qQ=function(t){Gk.Pb(AR+"fontFamily",t.LQ||""),Gk.Pb(AR+"fontColor",t.BQ||""),Gk.Pb(AR+"fontSize",t.OQ||""),Gk.Pb(AR+"backgroundColor",t.FQ||""),Gk.Pb(AR+"windowColor",t.VQ||""),Gk.Pb(AR+"edgeStyle",t.WQ||"")},Nt(n,[{key:"XQ",get:function(){return this.zQ}},{key:"LQ",get:function(){return this.zQ.LQ},set:function(t){this.Yn({LQ:t})}},{key:"BQ",get:function(){return this.zQ.BQ},set:function(t){this.Yn({BQ:t})}},{key:"OQ",get:function(){return this.zQ.OQ},set:function(t){this.Yn({OQ:t})}},{key:"FQ",get:function(){return this.zQ.FQ},set:function(t){this.Yn({FQ:t})}},{key:"VQ",get:function(){return this.zQ.VQ},set:function(t){this.Yn({VQ:t})}},{key:"WQ",get:function(){return this.zQ.WQ},set:function(t){this.Yn({WQ:t})}},{key:"UQ",get:function(){return this.zQ.UQ},set:function(t){this.Yn({UQ:t})}},{key:"GQ",get:function(){return this.zQ.GQ},set:function(t){this.Yn({GQ:t})}},{key:"ZQ",get:function(){return this.zQ.ZQ},set:function(t){this.Yn({ZQ:t})}},{key:"HQ",get:function(){return this.zQ.HQ},set:function(t){this.Yn({HQ:t})}},{key:"ga",get:function(){return this.Za||(this.Za=bR(this)),this.Za}}]),n}(na);function SR(t,n){var i,r;t.style.marginLeft=(null!=(i=n.HQ)?i:0)+"px",t.style.marginRight=(null!=(r=n.ZQ)?r:0)+"px",t.style.width="calc(100% - "+t.style.marginLeft+" - "+t.style.marginRight+")"}F(),Tt(),Gt(),Dt(),Ut(),qt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt();var ER=[ua.so,ua.Uy,wp.BL,ua.$y,ua.Gy,ua.By,ua.qy,ua.zy,ua.xy,ua.Hy,ua.eb,ua.Sy,wp.QI,ua.Xy,Vy.ua,fa.Ey,fa.wb,ua.wy,ua.py,ua.ib,ua.ob,ua.Dy,ua.My,ua.Cy,ua.Ry],IR={UB:!1};function RR(t){return t.md.pw===gp._W}F(),Tt();var CR=function(t){return t.KQ="jQ",t}({}),NR=["jQ"],DR=function(t){return t[t.QQ=0]="QQ",t[t.pk=1]="pk",t[t.JQ=2]="JQ",t}({});F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Gt(),Dt(),Rt(),qt();var PR=["loadstart","encrypted","waitingforkey","webkitneedkey","msneedkey"],xR=function(t){return t.$Q="tJ",t.eJ="iJ",t.sJ="nJ",t}({}),LR=function(t){function n(n,i,r,e){var u;(u=t.call(this)||this).gJ=!1,u.pJ=new Zc,u.aJ=!1,u.Go=new ad,u.nT=void 0,u.dJ=function(){u.aJ=!0},u.fJ=function(){u.mJ(!0)},u.IT=n,u.LB=i,u.YT=i.XG,u.cJ=r,u.Rw=e,u.YT.addEventListener("loadedmetadata",u.dJ);for(var s=0;s<PR.length;s++){var o=PR[s];u.YT.addEventListener(o,u.fJ)}return u}It(n,t);var i=n.prototype;return i.rJ=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return[4,i.Rw.xw(t.ww,n)];case 1:return[4,e.sent().uT()];case 2:return r=e.sent(),[4,i.oJ(r)];case 3:return e.sent(),[2,r]}}))}))()},i.hJ=function(t){var n=this,i=this.nT;return i?0!==t.JG.length&&t.JG.some((function(t){return t.rT.ww===i.rT})):0!==this.IT.JG.length?t.JG.some((function(t){return n.IT.JG.some((function(n){return t.rT===n.rT}))})):0===t.JG.length||!this.aJ},i.uJ=function(t){return this.cJ.uJ(t),this.IT=t,et.resolve()},i.lJ=function(t){this.cJ.lJ(t)},i.Ww=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:for(t.Bo(),t.YT.removeEventListener("loadedmetadata",t.dJ),n=0;n<PR.length;n++)i=PR[n],t.YT.removeEventListener(i,t.fJ);return[4,t.Go.gn()];case 1:return r.sent(),t._J(),[4,t.cJ.tr()];case 2:return r.sent(),[4,t.vJ(void 0)];case 3:return r.sent(),[2]}}))}))()},i.mJ=function(t){t!==this.gJ&&(this.gJ=t,t?this.pJ.Mb(void 0):this.pJ=new Zc)},i.oJ=function(t){var n=this;return this.Go.Wo((function(){return n.vJ(t)}))},i.vJ=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:if(t&&!n.YT.src&&!n.YT.srcObject)throw new qg(Qv.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");if(!t&&(n.YT.src||n.YT.srcObject))throw new qg(Qv.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");return!t||n.gJ?[3,2]:[4,n.pJ.Bb];case 1:r.sent(),r.label=2;case 2:return(i=n.nT)?[4,i.hT(n.YT)]:[3,4];case 3:r.sent(),n.nT=void 0,r.label=4;case 4:return t?[4,t.bn(n.YT)]:[3,6];case 5:r.sent(),n.nT=t,r.label=6;case 6:return[2]}}))}))()},i.ka=function(t){var n=this;return this.Go.Wo((function(){return n.wJ(t)}))},i.wJ=function(t){this.mJ(!1);var n=this.LB.zR;if(ti(t))this.YT.src=t;else if(function(t){if(void 0!==f.ManagedMediaSource&&t instanceof f.ManagedMediaSource)return!0;if("undefined"!=typeof MediaSource&&t instanceof MediaSource)return!0;return!1}(t))if(function(t){return"srcObject"in t&&Gn.Ka&&Gn.Jm>=17}(this.YT))try{this.YT.srcObject=t}catch(n){this.YT.src=URL.createObjectURL(t)}else this.YT.src=URL.createObjectURL(t);else MR(t)&&(this.YT.srcObject=t);this.LB.zR=n},i.yJ=function(t){var n=this;return this.Go.Wo((function(){return n.bJ(t)}))},i.bJ=function(t){this.wJ(t),this.YT.load()},i._J=function(){this.mJ(!1),Si(this.YT)},i.AJ=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.nT?[4,t.nT.tr()]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))()},Nt(n,[{key:"md",get:function(){return this.IT}},{key:"XG",get:function(){return this.YT}}]),n}(na);function MR(t){return"undefined"!=typeof MediaStream&&t instanceof MediaStream}var OR=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.bj=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:switch((n=t.md).tH){case sA.VC:case sA.WC:t.YT.setAttribute("crossorigin",n.tH);break;case sA._E:default:t.YT.removeAttribute("crossorigin")}return void 0!==n.QR?t.YT.preload=n.QR:t.YT.preload=GT.vG,void 0!==n.eH?t.YT.title=n.eH:mi(t.YT),n.EJ?[4,t.yJ(n.EJ)]:[3,2];case 1:return i.sent(),[3,4];case 2:return[4,t.ka(n.MC)];case 3:i.sent(),i.label=4;case 4:return t.cJ.$n(t,n),[2]}}))}))()},i.hJ=function(t){return!1},i.uJ=function(t){return et.resolve(void 0)},i.xJ=function(t){return!1},i.RJ=function(){return!MR(this.IT.EJ)},i.Ww=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return mi(n.YT),[4,t.prototype.Ww.call(n)];case 1:return i.sent(),[2]}}))}))()},n.IJ=function(t,n){return!!n.canPlayType&&Boolean(n.canPlayType(t.Ik))},Nt(n,[{key:"_R",get:function(){return AA.xn(this.YT.buffered)}},{key:"ct",get:function(){return this.YT.duration}},{key:"SJ",get:function(){var t=this.ct;if(!isFinite(t))return!1;var n=this._R;return 0!==n.V&&t-n.jn(n.V-1)<wr}},{key:"QR",get:function(){return this.YT.preload},set:function(t){this.YT.preload=t}},{key:"iI",get:function(){return AA.xn(this.YT.seekable)}},{key:"TJ",get:function(){return this._R}},{key:"kJ",get:function(){if(Ti(this.YT)&&(this.YT.videoWidth>0||this.YT.videoHeight>0))return this._R}}]),n}(LR);F(),Tt(),Rt();var BR=function(t){function n(n){var i;return(i=t.call(this,ua.Gy)||this).currentTime=n,i}return It(n,t),n}(ea);F(),Tt(),Rt();var VR=function(t){function n(){return t.call(this,ua.By)||this}return It(n,t),n}(ea);F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Dt(),Rt();var FR=function(t){return t.CJ="PJ",t}({}),UR=function(t){function n(n){var i;return(i=t.call(this,"PJ")||this).DJ=n,i}return It(n,t),n}(ea),WR=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).MJ=AA.fB(),n}It(n,t);var i=n.prototype;return i.LJ=function(t,n){var i=new AA([t,n]);this.MJ=this.MJ.KL(i),this.yo(new UR(i))},i.BJ=function(t,n){this.MJ=this.MJ.QL(new AA([t,n]))},i.tr=function(){this.MJ=AA.fB()},i.gn=function(){this.Bo()},Nt(n,[{key:"NJ",get:function(){return this.MJ}}]),n}(na);function ZR(t,n){return void 0===n&&(n=new Md({highWaterMark:1/0})),new xd(new XR(t,n),{highWaterMark:0})}F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt();var XR=function(){function t(t,n){var i=this,r=n.size,e=void 0===r?function(){return 1}:r,u=n.highWaterMark,s=void 0===u?1:u;this.zd=[],this.qd=0,this.NQ=void 0,this.WJ=!1,this.GJ=void 0,this.HJ=function(t){return t.done?(i.VJ(),void i.NQ.close()):(i.zd.push(t.value),i.qd+=i.ZJ(t.value),i.WJ&&i.VJ(),i.OJ()?i.Md.read().then(i.HJ):void 0)},this.ux=function(t){i.VJ(),i.NQ.error(t)},this.Md=t.getReader(),this.ZJ=e,this.UJ=s}var n=t.prototype;return n.start=function(t){this.NQ=t,this.OJ()&&this.FJ()},n.pull=function(){this.zd.length>0?this.VJ():this.WJ=!0,this.OJ()&&this.FJ()},n.cancel=function(t){return po(this.zd),this.qd=0,this.WJ=!1,this.Md.cancel(t)},n.VJ=function(){if(0!==this.zd.length){var t=this.zd;this.zd=[],this.qd=0,this.WJ=!1,this.NQ.enqueue(t)}},n.OJ=function(){return!!this.WJ||this.UJ-this.qd>0},n.FJ=function(){var t=this;if(!this.GJ){var n=this.Md.read().then(this.HJ).catch(this.ux);this.GJ=n;var i=function(){t.GJ===n&&(t.GJ=void 0)};n.then(i,i)}},t}();F(),Tt(),F(),Tt(),Dt(),Rt(),F(),Tt(),F(),Tt();var GR=function(){function t(){this.zJ=[],this.Rb=0}var n=t.prototype;return n.XJ=function(t){this.zJ.push(t),this.Rb+=t.byteLength},n.qJ=function(t){if(this.Rb<=t)return this.YJ();for(var n=this.zJ,i=0,r=0;r<n.length&&i+n[r].byteLength<=t;)i+=n[r].byteLength,r++;var e=n.slice(0,r);if(r<n.length&&i<t){var u=t-i;0,e.push(mc(n[r],0,u)),i+=u}return{zJ:e,Rb:i}},n.KJ=function(t){var n=this.qJ(t);return 1===n.zJ.length?n.zJ[0]:Mc(n.zJ,n.Rb)},n.YJ=function(){return{zJ:this.zJ,Rb:this.Rb}},n.jJ=function(t){if(this.Rb<=t)return this.QJ();for(var n=this.zJ,i=0,r=0;r<n.length&&i+n[r].byteLength<=t;)i+=n[r].byteLength,r++;var e=n.splice(0,r);if(n.length>0&&i<t){var u=t-i;0,e.push(mc(n[0],0,u)),n[0]=mc(n[0],u),i+=u}return this.Rb-=i,{zJ:e,Rb:i}},n.JJ=function(t){var n=this.jJ(t);return 1===n.zJ.length?n.zJ[0]:Mc(n.zJ,n.Rb)},n.QJ=function(){var t=this.YJ();return this.zJ=[],this.Rb=0,t},n.$J=function(){var t=1===this.zJ.length?this.zJ[0]:Mc(this.zJ,this.Rb);return this.zJ=[],this.Rb=0,t},t}(),HR=function(){function t(){this.zd=new GR,this.Ea=0,this.o$=0,this.v$=0,this.c$()}var n=t.prototype;return n.t$=function(t,n){},n.e$=function(){},n.i$=function(t){this.zd.XJ(t),this.s$(!1)},n.n$=function(){this.s$(!0)},n.r$=function(){return 0!==this.Ea||0!==this.zd.Rb},n.s$=function(t){for(;0!==this.zd.Rb;){if(!t&&this.o$>this.zd.Rb)return;switch(this.Ea){case 0:this.h$(t);break;case 1:this.a$(t);break;case 2:this.u$(t)}}},n.c$=function(){this.Ea=0,this.o$=8},n.h$=function(t){var n=pc(this.zd.KJ(this.o$)),i=new Ec,r=ay.VD(n,i);if(!r.MD)return this.o$=r.UD,void(t&&this.o$>this.zd.Rb&&this.l$(this.zd.Rb));var e=r.WD.pw,u=r.WD.Rb;0===u&&(u=1/0),this.t$(e,u),this.d$(e)?this.f$(u):this.l$(u)},n.f$=function(t){this.Ea=1,this.o$=t},n.a$=function(t){var n=pc(this.zd.JJ(this.o$)),i=new Ec,r=ay.LD(n,i,!t);if(!r.MD)throw new oy(i.tc);this.e$(),this._$(r.BD),this.c$()},n.l$=function(t){this.Ea=2,this.o$=0,this.v$=t},n.u$=function(t){var n=this.zd.jJ(this.v$);this.v$-=n.Rb;for(var i=0,r=n.zJ;i<r.length;i++){var e=r[i];this.m$(e)}(0===this.v$||t&&this.v$===1/0)&&(this.e$(),this.c$())},t}();function zR(t){return t instanceof Xf}function YR(t){return t instanceof Wf}function jR(t){return t instanceof Vf||t instanceof Ff}function KR(t){return t instanceof cf}function qR(t){return t instanceof Vh}function JR(t){return t instanceof Df}function QR(t){return t instanceof Cf}function $R(t){return t instanceof iv}function tC(t){return t instanceof $f}function nC(t){return t instanceof Kf}function iC(t){return t instanceof Jf}function rC(t,n){var i=ao(t.boxes,nC);if(i&&i.flags.baseDataOffsetPresent)i.baseDataOffset=i.baseDataOffset.add(n);else for(var r=0,e=t.boxes;r<e.length;r++){var u=e[r];u instanceof Jf&&u.flags.dataOffsetPresent&&(u.dataOffset=u.dataOffset+n)}}F(),Tt();var eC=function(t){function n(n){var i;return(i=t.call(this)||this).T$=is(),i.I$=n,i}It(n,t);var i=n.prototype;return i.start=function(t){this.NQ=t},i.transform=function(t){this.i$(t)},i.flush=function(){this.n$()},i.d$=function(t){return t===ty.dP||t===ty.eD||t===ty.lD},i._$=function(t){var n=this.g$(t);this.NQ.enqueue(n)},i.m$=function(t){this.NQ.enqueue(t)},i.g$=function(t){var n=_c(t.Zk.Zk);switch(t.pw){case"moov":return this.p$(n);case"sidx":return this.w$(n);case"moof":return this.y$(n)}return n},i.S$=function(t){var n=this.T$.get(t);if(void 0===n)throw new p("Expected to have found a media header timescale for track ID "+t+".");return n},i.p$=function(t){for(var n=_v(t),i=0;i<n.boxes.length;i++){var r=n.boxes[i];r instanceof Lf?n.boxes[i]=this.k$(r):r instanceof Mf?n.boxes[i]=this.E$(r):r instanceof Wf&&this.x$(r)}for(var e=0,u=n.boxes;e<u.length;e++){var s=u[e];s instanceof Df&&this.R$(s)}return n.serialize().join()},i.k$=function(t){this.A$=t.timescale;var n=oC(tr.fromNumber(t.duration,!0),this.b$,this.I$);return 0!==n.getHighBits()?this.E$(function(t){return new Mf({creation:tr.fromNumber(t.creationTime,!0),modification:tr.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:tr.fromNumber(t.duration,!0)},t.nextTrackId,{rate:t.rate,volume:t.volume,matrix:t.matrix},t.flags)}(t)):(t.timescale=this.I$,t.duration=n.toInt(),t)},i.E$=function(t){return this.A$=t.timescale,t.timescale=this.I$,t.duration=oC(t.duration,this.b$,this.I$),t},i.x$=function(t){for(var n,i=0;i<t.boxes.length;i++){var r=t.boxes[i];r instanceof Vf?(n=r.trackId,t.boxes[i]=this.C$(r)):r instanceof Ff?(n=r.trackId,t.boxes[i]=this.P$(r)):r instanceof cf?this.D$(r,n):r instanceof Jh&&this.N$(r)}},i.C$=function(t){var n=oC(tr.fromNumber(t.duration,!0),this.b$,this.I$);return 0!==n.getHighBits()?this.P$(function(t){return new Ff({creation:tr.fromNumber(t.creationTime,!0),modification:tr.fromNumber(t.modificationTime,!0),duration:tr.fromNumber(t.duration,!0)},t.trackId,t.volume,t.width,t.height,{layer:t.layer,alternateGroup:t.alternateGroup,matrix:t.matrix})}(t)):(t.duration=n.toInt(),t)},i.P$=function(t){return t.duration=oC(t.duration,this.b$,this.I$),t},i.D$=function(t,n){for(var i=0;i<t.boxes.length;i++){var r=t.boxes[i];r instanceof uf?t.boxes[i]=this.M$(r,n):r instanceof sf&&(t.boxes[i]=this.L$(r,n))}},i.M$=function(t,n){this.T$.set(n,t.timescale);var i=oC(tr.fromNumber(t.duration,!0),t.timescale,this.I$);return 0!==i.getHighBits()?this.L$(function(t){return new sf({creation:tr.fromNumber(t.creationTime,!0),modification:tr.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:tr.fromNumber(t.duration,!0)},t.language,t.flags)}(t),n):(t.timescale=this.I$,t.duration=i.toInt(),t)},i.L$=function(t,n){return this.T$.set(n,t.timescale),t.timescale=this.I$,t.duration=oC(t.duration,t.timescale,this.I$),t},i.N$=function(t){for(var n=0,i=t.boxes;n<i.length;n++){var r=i[n];r instanceof jh?this.B$(r):r instanceof Kh&&this.O$(r)}},i.B$=function(t){for(var n=0,i=t.entries;n<i.length;n++){var r=i[n];r.mediaTime=sC(r.mediaTime,this.b$,this.I$),r.segmentDuration=sC(r.segmentDuration,this.b$,this.I$)}},i.O$=function(t){for(var n=0,i=t.entries;n<i.length;n++){var r=i[n];r.mediaTime=oC(r.mediaTime,this.b$,this.I$),r.segmentDuration=oC(r.segmentDuration,this.b$,this.I$)}},i.R$=function(t){for(var n=0;n<t.boxes.length;n++){var i=t.boxes[n];i instanceof Cf?this.F$(i):i instanceof Ef?t.boxes[n]=this.V$(i):i instanceof If&&(t.boxes[n]=this.W$(i))}},i.F$=function(t){var n=this.S$(t.trackId);t.defaultSampleDuration=sC(t.defaultSampleDuration,n,this.I$)},i.V$=function(t){var n=oC(tr.fromNumber(t.fragmentDuration,!0),this.b$,this.I$);return 0!==n.getHighBits()?this.W$(function(t){return new If(tr.fromNumber(t.fragmentDuration,!0),t.flags)}(t)):(t.fragmentDuration=n.toInt(),t)},i.W$=function(t){return t.fragmentDuration=oC(t.fragmentDuration,this.b$,this.I$),t},i.w$=function(t){var n=bv(t);return(n=n instanceof av?this.U$(n):this.G$(n)).serialize().join()},i.U$=function(t){var n=t.timescale,i=oC(tr.fromNumber(t.earliestPresentationTime,!0),n,this.I$);if(0!==i.getHighBits())return this.G$(function(t){return new cv(t.referenceId,t.timescale,tr.fromNumber(t.earliestPresentationTime,!0),tr.fromNumber(t.firstOffset,!0),t.references,t.flags)}(t));t.timescale=this.I$,t.earliestPresentationTime=i.toInt();for(var r=0,e=t.references;r<e.length;r++){var u=e[r];u.subsegmentDuration=sC(u.subsegmentDuration,n,this.I$)}return t},i.G$=function(t){var n=t.timescale;t.timescale=this.I$,t.earliestPresentationTime=oC(t.earliestPresentationTime,n,this.I$);for(var i=0,r=t.references;i<r.length;i++){var e=r[i];e.subsegmentDuration=sC(e.subsegmentDuration,n,this.I$)}return t},i.y$=function(t){for(var n=kv(t),i=n.getSize(),r=0,e=n.boxes;r<e.length;r++){var u=e[r];u instanceof $f&&this.H$(u)}var s=n.getSize();if(s!==i)for(var o=s-i,a=0,c=n.boxes;a<c.length;a++){var h=c[a];h instanceof $f&&rC(h,o)}return n.serialize().join()},i.H$=function(t){for(var n,i=0;i<t.boxes.length;i++){var r=t.boxes[i];r instanceof Kf?(n=this.S$(r.trackId),this.Z$(r,n)):r instanceof zf?t.boxes[i]=this.X$(r,n):r instanceof Yf?t.boxes[i]=this.z$(r,n):r instanceof Jf&&this.q$(r,n)}},i.Z$=function(t,n){void 0!==t.defaultSampleDuration&&(t.defaultSampleDuration=sC(t.defaultSampleDuration,n,this.I$))},i.X$=function(t,n){var i=oC(tr.fromNumber(t.baseMediaDecodeTime,!0),n,this.I$);return 0!==i.getHighBits()?this.z$(function(t){return new Yf(tr.fromNumber(t.baseMediaDecodeTime,!0),t.flags)}(t),n):(t.baseMediaDecodeTime=i.toInt(),t)},i.z$=function(t,n){return t.baseMediaDecodeTime=oC(t.baseMediaDecodeTime,n,this.I$),t},i.q$=function(t,n){for(var i=0,r=0,e=0,u=t.samples;e<u.length;e++){var s=u[e];if(void 0!==s.duration){var o=sC(r+=s.duration,n,this.I$);s.duration=o-i,i=o}void 0!==s.compositionTimeOffset&&(s.compositionTimeOffset=uC(s.compositionTimeOffset,n,this.I$))}},Nt(n,[{key:"b$",get:function(){if(void 0===this.A$)throw new p("Expected to have found a movie header timescale.");return this.A$}}]),n}(HR);function uC(t,n,i){return tr.fromInt(t,!1).multiply(i).divide(n).toNumber()}function sC(t,n,i){return tr.fromInt(t,!0).multiply(i).divide(n).toNumber()}function oC(t,n,i){return rm.TF(t).YF(rm.kF(i,!0)).JF(rm.kF(n,!0)).OF()}var aC=function(){function t(t){this.K$=new eC(t)}return t.prototype.Y$=function(t){return t.pipeThrough(new Ld(this.K$))},t}();F(),Tt(),F(),Tt();var cC=function(t){return t[t.j$=64]="j$",t[t.Q$=103]="Q$",t[t.J$=107]="J$",t}({});function hC(t,n,i){var r=Va(t,n);if(r!==i)throw new _("Expected descriptor with tag "+i+", but found "+r)}function fC(t,n){hC(t,n,3);var i,r,e,u=vC(t,n),s=n.tc+u,o=Ha(t,n),a=Va(t,n),c=0!=(64&a),h=0!=(32&a),f=31&a;(0!=(128&a)&&(i=Ha(t,n)),c)&&(r=Qa(t,n,Va(t,n)));h&&(e=Qa(t,n,2));var v=function(t,n){hC(t,n,4);var i,r=vC(t,n),e=n.tc+r,u=Va(t,n),s=Va(t,n),o=s>>2,a=0!=(2&s),c=Xa(t,n,3),h=Ya(t,n),f=Ya(t,n);if(n.tc<e){var v=function(t,n){return t.getUint8(n.tc)}(t,n);5===v&&(i=function(t,n){hC(t,n,5);var i=vC(t,n),r=Ua(t,n,i);return{t0:5,e0:r}}(t,n))}return n.Sb(e),{t0:4,i0:u,s0:o,n0:a,r0:c,o0:h,h0:f,a0:i}}(t,n);return n.Sb(s),{t0:3,o:o,u0:i,qu:r,c0:f,l0:e,d0:v}}function vC(t,n){for(var i=0,r=0;r<4;r++){var e=Va(t,n);if(i=i<<7|127&e,!(128&e))break}return i}function dC(t,n){for(var i=Va(t,n),r=Va(t,n),e=Va(t,n),u=Va(t,n),s=3&Va(t,n),o=31&Va(t,n),a=[],c=0;c<o;c++){var h=Ha(t,n);a.push(Ua(t,n,h))}for(var f=Va(t,n),v=[],d=0;d<f;d++){var l=Ha(t,n);v.push(Ua(t,n,l))}return{f0:i,_0:r,v0:e,m0:u,g0:s,p0:a,w0:v}}function lC(t,n,i){if(!(i&&n.byte>=i)){var r=t.Cb(n.byte);return n.byte+=1,r}}function gC(t,n){return function(t,n,i){for(var r=0,e=i;e>0;)e-=1,r=256*r+lC(t,n);return r}(t,n,2)}F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),Dt();var wC=function(){function t(){this.A0=0,this.b0=[],this.GV={}}var n=t.prototype;return n.y0=function(t){this.b0=this.b0.concat(t.b0),this.A0+=t.V},n.S0=function(t,n,i){var r=this.A0,e=i-n;e>0&&(this.b0.push({T0:n,k0:i,E0:e,x0:r,R0:t}),this.A0+=e)},n.Cb=function(t){for(var n=0,i=this.b0;n<i.length;n++){var r=i[n];if(r.x0<=t&&t<r.x0+r.E0)return r.R0[t+r.T0-r.x0]}},n.I0=function(t,n){for(var i=n,r=0,e=this.b0;r<e.length;r++)for(var u=e[r],s=u.k0,o=u.T0;o<s;o+=1,i+=1)t[i]=u.R0[o];return i},n.C0=function(){for(var t=new E(this.A0),n=0,i=0,r=this.b0;i<r.length;i++)for(var e=r[i],u=e.k0,s=e.T0;s<u;s+=1,n+=1)t[n]=e.R0[s];return t},n.Tb=function(n){for(var i=new t,r=0,e=this.b0;r<e.length;r++){var u=e[r];i.S0(u.R0,u.T0,u.k0)}return i.GV=n||$u({},this.GV),i},Nt(t,[{key:"V",get:function(){return this.A0},set:function(t){var n=this.b0,i=this.A0-t;if(!(t>=this.A0))if(this.A0=t,0!==t)for(var r=n.length-1;r>=0;r-=1){var e=n[r];if(i<=e.E0)return e.k0-=i,e.E0-=i,void(n.length!==r+1&&(n.length=r+1));i-=e.E0}else n.length=0}},{key:"Zk",get:function(){for(var t=new Array(this.A0),n=0,i=0,r=this.b0;i<r.length;i++)for(var e=r[i],u=e.k0,s=e.T0;s<u;s+=1,n+=1)t[n]=e.R0[s];return t}}]),t}();F(),Tt();var mC=[128,64,32,16,8,4,2,1];function yC(t,n){var i=k.floor(n.bit/8),r=0==(t.Cb(i)&mC[n.bit%8])?0:1;return n.bit+=1,r}function pC(t,n,i){for(var r=0,e=i;e>0;)e-=1,r=2*r+yC(t,n);return r}function _C(t,n){for(var i=0;0===yC(t,n)&&i<32;)i+=1;return pC(t,n,i)+k.pow(2,i)-1}function bC(t,n){var i=_C(t,n);return 1&i?k.floor((i+1)/2):-k.floor(i/2)}function kC(t,n){var i,r=[],e={byte:1};do{r.push(TC(t,n,e)),i=n.Cb(e.byte)}while(void 0!==i&&128!==i);return r}function AC(t,n){var i,r=0;do{r+=i=lC(t,n)}while(255===i);return r}function TC(t,n,i){var r=AC(n,i),e=AC(n,i),u=i.byte,s=u+e;return i.byte=s,{P0:t,D0:r,N0:e,M0:u,L0:s,B0:n}}var SC=function(t){return t[t.O0=1]="O0",t[t.F0=2]="F0",t[t.V0=3]="V0",t[t.W0=4]="W0",t[t.U0=5]="U0",t[t.G0=6]="G0",t[t.H0=7]="H0",t[t.Z0=8]="Z0",t[t.X0=9]="X0",t}({}),EC=[void 0,[1,1],[12,11],[10,11],[16,11],[40,33],[24,11],[20,11],[32,11],[80,33],[18,11],[15,11],[64,33],[160,99],[4,3],[3,2],[2,1]];function IC(t,n,i){for(var r=8,e=8,u=0;u<i;u+=1){if(0!==e)e=(r+bC(t,n)+256)%256;r=0===e?r:e}}var RC=function(){function t(t){this.q0=[],this.Y0=0,this.K0=t}var n=t.prototype;return n.z0=function(){for(var t=this.q0,n=k.max(0,this.Y0+t.length-2),i=this.K0,r=i.V,e=0;n<r;n+=1){var u=i.Cb(n);0===u?e+=1:(3===u&&e>=2&&t.push(n),e=0)}this.Y0=n-t.length},n.j0=function(t){for(var n=this.q0,i=t,r=0;r<n.length;r++){if(!(n[r]<=i))return i;i+=1}return i},n.Cb=function(t){if(!(t>this.K0.V))return t>this.Y0&&this.z0(),this.K0.Cb(this.j0(t))},t}();function CC(t){var n,i,r,e,u,s,o=new RC(t),a=0,c=0,h=0,f=0,v=o.Cb(1),d={bit:32};if(_C(o,d),100===v||110===v||122===v||144===v){var l=_C(o,d);if(3===l&&(n=yC(o,d)),_C(o,d),_C(o,d),yC(o,d),1===yC(o,d))for(var g=0;g<(3!==l?8:12);g+=1){1===yC(o,d)&&IC(o,d,g<6?16:64)}}var w=_C(o,d),m=_C(o,d);if(0===m)_C(o,d);else if(1===m){yC(o,d),bC(o,d),bC(o,d);for(var y=_C(o,d),p=0;p<y;p+=1)bC(o,d)}_C(o,d),yC(o,d);var _=_C(o,d),b=_C(o,d),A=yC(o,d);if(0===A&&yC(o,d),yC(o,d),1===yC(o,d)&&(a=_C(o,d),c=_C(o,d),h=_C(o,d),f=_C(o,d)),1===yC(o,d)){if(1===yC(o,d)){var T=pC(o,d,8);if(255===T)i=pC(o,d,16),r=pC(o,d,16);else{var S=EC[T];S&&(i=S[0],r=S[1])}}if(1===yC(o,d)&&yC(o,d),1===yC(o,d))pC(o,d,3),yC(o,d),1===yC(o,d)&&(pC(o,d,8),pC(o,d,8),pC(o,d,8));1===yC(o,d)&&(_C(o,d),_C(o,d)),1===(e=yC(o,d))&&(u=pC(o,d,32),s=pC(o,d,32),yC(o,d))}return{width:k.floor(16*(_+1)-2*a-2*c),height:k.floor((2-A)*(b+1)*16-2*h-2*f),GM:i,HM:r,Q0:e?s/(2*u):void 0,J0:n,$0:w}}function NC(t){var n=sy(dy.qD(t),ty.dP);if(n){for(var i=n.WD.lN,r=[],e=0,u=n.Z;e<u.length;e++){for(var s=u[e],o=s.WD.bN,a=s.gN.WD.lN,c=void 0,h=void 0,f=void 0,v=0,d=s.gN.RN.DN.MN.BN;v<d.length;v++){var l,g,w,m=DC(d[v]);if(m)c=null!=(l=m.t1)?l:c,h=null!=(g=m.e1)?g:h,f=null!=(w=m.i1)?w:f}r.push({bN:o,lN:a,t1:c,e1:h,i1:f})}return{lN:i,Z:r}}}function DC(t){var n,i,r;if(t.pw===ty.kP){var e,u=dC(pc(t.vM.Zk),new Ec);n=function(t){return"avc1."+PC(t._0,2)+PC(t.v0,2)+PC(t.m0,2)}(u),r=null==(e=function(t){if(0===t.p0.length)return;var n=t.p0[0],i=new wC;return i.S0(n,0,n.byteLength),CC(i)}(u))?void 0:e.Q0}else if(t.pw===ty.xP||t.pw===ty.RP){var s=function(t,n){for(var i=n.xb(),r=Sa(t,i,8),e=Sa(t,i,2),u=Sa(t,i,1),s=Sa(t,i,5),o=Sa(t,i,32),a=[],c=0;c<6;c++)a.push(Sa(t,i,8));var h=Sa(t,i,8);i.Ab(4);var f=Sa(t,i,12);i.Ab(6);var v=Sa(t,i,2);i.Ab(6);var d=Sa(t,i,2);i.Ab(5);var l=Sa(t,i,3);i.Ab(5);for(var g=Sa(t,i,3),w=Sa(t,i,16),m=Sa(t,i,2),y=Sa(t,i,3),p=Sa(t,i,1),_=Sa(t,i,2),b=Sa(t,i,8),k=[],A=0;A<b;A++){var T=Sa(t,i,1);i.Ab(1);for(var S=Sa(t,i,6),E=Sa(t,i,16),I=[],R=0;R<E;R++){var C=Sa(t,i,16),N=Ua(t,new Ec(i.tc>>3),C);i.Ab(8*C),I.push({s1:C,n1:N})}k.push({o1:T,h1:S,a1:E,u1:I})}return{f0:r,c1:e,l1:u,d1:s,_1:a,v1:h,m1:f,g1:v,w1:o,b1:d,A1:l,S1:g,T1:w,E1:y,R1:p,I1:m,g0:_,C1:b,P1:k}}(pc(t.wM.Zk),new Ec);n=function(t,n){var i=t.toString()+".";switch(n.c1){case 0:break;case 1:i+="A";break;case 2:i+="B";break;case 3:i+="C";break;default:return}switch(i+=n.d1.toString()+".",i+=function(t){var n=t;return n=n>>>1&1431655765|(1431655765&n)<<1,n=n>>>2&858993459|(858993459&n)<<2,n=n>>>4&252645135|(252645135&n)<<4,n=n>>>8&16711935|(16711935&n)<<8,n=n>>>16|n<<16,n}(n.w1).toString(16)+".",n.l1){case 0:i+="L";break;case 1:i+="H";break;default:return}i+=n.v1.toString();for(var r=n._1.reduce((function(t,n){return 0===t?n:n+1}),0),e=0;e<r;e++)i+="."+n._1[e].toString(16).toUpperCase();return i}(t.pw,s)}else if(t.pw===ty.FP||t.pw===ty.VP||t.pw===ty.WP||t.pw===ty.UP){var o=function(t,n){var i=n.xb(),r=Sa(t,i,8),e=Sa(t,i,8),u=Sa(t,i,7),s=Sa(t,i,6),o=Boolean(Sa(t,i,1)),a=Boolean(Sa(t,i,1)),c=Boolean(Sa(t,i,1)),h=Sa(t,i,4);return Sa(t,i,28),Sa(t,i,32),Sa(t,i,32),Sa(t,i,32),Sa(t,i,32),{D1:r,N1:e,M1:u,L1:s,B1:o,O1:a,F1:c,V1:h}}(pc(t.DM.Zk),new Ec);n=function(t,n){var i=t.toString(),r=Ws(n.M1.toString(),2,"0"),e=Ws(n.L1.toString(),2,"0");return i+"."+r+"."+e}(t.pw,o)}else if(t.pw===ty.CP){var a=function(t,n){var i=n.xb(),r=Sa(t,i,8);i.Ab(24);for(var e=Sa(t,i,8),u=Sa(t,i,8),s=Sa(t,i,4),o=Sa(t,i,3),a=Ta(t,i),c=Sa(t,i,8),h=Sa(t,i,8),f=Sa(t,i,8),v=Sa(t,i,16),d=new Array(8),l=0;l<v;l++)d[l]=Sa(t,i,8);return{f0:r,M1:e,L1:u,W1:s,U1:o,G1:a,FM:c,VM:h,WM:f,H1:v,Z1:d}}(pc(t.bM.Zk),new Ec);n=function(t,n){var i=t.toString()+".";return i+="0"+n.M1+".",i+=Ws(""+n.L1,2,"0")+".",i+=Ws(""+n.W1,2,"0")+".",i+=Ws(""+n.U1,2,"0")+".",i+=Ws(""+n.FM,2,"0")+".",i+=Ws(""+n.VM,2,"0")+".",i+=Ws(""+n.WM,2,"0")+".",i+="0"+n.G1,i}(t.pw,a)}else if(t.pw===ty.DP){var c=function(t,n){var i=n.xb();i.Ab(1);var r=Sa(t,i,7),e=Sa(t,i,3),u=Sa(t,i,5),s=Ta(t,i),o=Ta(t,i),a=Ta(t,i),c=Ta(t,i),h=Ta(t,i),f=Ta(t,i),v=Sa(t,i,2);i.Ab(3);var d,l=Ta(t,i);return l?d=Sa(t,i,4):i.Ab(4),{XD:r,X1:e,z1:u,q1:s,Y1:o,K1:a,j1:c,Q1:h,J1:f,t2:v,e2:l,i2:d}}(pc(t.TM.Zk),new Ec);n=function(t,n,i){var r=t.toString()+".";if(r+=n.X1+".",r+=""+Ws(""+n.z1,2,"0"),r+=(0===n.q1?"M":"H")+".",r+=(1===n.K1?12:10)+".",r+=(1===n.X1?0:n.j1)+".",r+=""+n.Q1+n.J1+(1===n.Q1&&1===n.J1?n.t2:"0"),i&&i.OM===ny.ON_SCREEN_COLOURS){var e=i;r+="."+Ws(""+e.FM,2,"0")+"."+Ws(""+e.VM,2,"0")+"."+Ws(""+e.WM,2,"0")+"."+(e.UM?1:0)}return r}(t.pw,c,t.kM)}else if(t.pw===ty.zP){i=function(t){var n=t.d0;switch(n.i0){case cC.j$:return function(t){var n;if(!(null==(n=t.a0)?void 0:n.e0))return"mp4a.40";var i=function(t,n){var i=Sa(t,n,5);31===i&&(i=32+Sa(t,n,6));var r,e=Sa(t,n,4);return 15===e&&(r=Sa(t,n,24)),{s2:i,n2:e,o2:r,h2:Sa(t,n,4)}}(pc(t.a0.e0),new Ea);return"mp4a.40."+i.s2}(n);case cC.Q$:return"mp4a.40.2";case cC.J$:return"mp4a.40.34"}}(fC(pc(t.hM.Zk),new Ec))}else if(t.pw===ty.YP)i="fLaC";else{if(t.pw!==ty.GP)return(t.pw===ty.tD||t.pw===ty.$P)&&t.RM?DC(t.RM):void 0;i="ec-3"}return{t1:n,e1:i,i1:r}}function PC(t,n){var i=t.toString(16);return Ws(i,n,"0")}function xC(t,n){var i=dy.qD(pc(t)),r=function(t,n){for(var i,r=function(t,r){var e,u=r[t],s=null==(e=u.sL)?void 0:e.sL;if(s){var o=u.WD.bN,a=ao(n.Z,(function(t){return t.bN===o})),c=am.TF(s,a.lN);i&&!c.mF(i)||(i=c)}},e=0,u=t.Z;e<u.length;e++)r(e,u);return i}(sy(i,ty.eD),n),e=sy(i,ty.aD);return{LO:r.uF(),a2:e.Zk}}function LC(t,n){return MC.apply(this,arguments)}function MC(){return MC=Zt((function(t,n){var i;return Ht(this,(function(r){switch(r.label){case 0:switch(t.pw){case DR.QQ:return[3,1];case DR.pk:return[3,2];case DR.JQ:return[3,4]}return[3,5];case 1:return[2,t];case 2:return[4,Vd(t.Zk,n)];case 3:return i=r.sent(),Oo(n),[2,{pw:DR.QQ,Zk:new E(i)}];case 4:throw new p("MediaBufferWrapper - Cannot convert opaque SegmentData to ArraySegmentData.");case 5:return[2]}}))})),MC.apply(this,arguments)}F(),Tt(),F(),Tt(),Gt(),qt();var OC=Gn.jm,BC=function(t){function n(n,i,r,e,u){var s,o;if((s=t.call(this)||this).Ej=20,s.Ij=30,s.u2=!1,s.L2=!1,s.q2=void 0,s.K2=new Ho,s.A2=!1,s.S2=void 0,s.g2=!1,s.w2=void 0,s.j2=function(){s.u2=!1},s.Q2=function(t){t.removedRanges&&s.yo(new ea(CR.KQ))},s.F2=i,s.C2=n,s.c2=r,s.c2.addEventListener("updateend",s.j2),s.c2.addEventListener("bufferedchange",s.Q2),s.H2=e,s.X2=u,s.g2=VC(e.Ik,u),null==(o=i.md)?void 0:o.np){var a,c=null!=(a=i.md.J2)?a:1e5;s.E2=new aC(c)}return s}It(n,t);var i=n.prototype;return i.l2=function(t,n,i){var r=this;switch(t.pw){case DR.QQ:case DR.pk:return this.d2((function(i){return r.f2(t,n,i)}),i);case DR.JQ:throw new p("Opaque segments are not supported on web.")}},i._2=function(t,n){var i=this;switch(t.pw){case DR.QQ:return this.d2((function(n){return i.m2(t,n)}),n);case DR.pk:throw new p("Streaming initialization segments are not supported on web.");case DR.JQ:throw new p("Opaque initialization segments are not supported on web.")}},i.m2=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return i.g2?(i.w2=NC(pc(t.Zk)),[2]):[4,i.b2(t,void 0,n)];case 1:return r.sent(),OC&&(i.A2=!1,i.S2=t),[2]}}))}))()},i.f2=function(t,n,i){var r=this;return Zt((function(){var e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return OC&&r.A2&&r.S2?[4,r.m2(r.S2,i)]:[3,2];case 1:o.sent(),o.label=2;case 2:return o.trys.push([2,,6,7]),Oo(i),r.g2&&r.w2?[4,LC(t,i)]:[3,4];case 3:e=o.sent(),u=xC(e.Zk,r.w2),t={pw:DR.QQ,Zk:u.a2},n=$u({},n,{PV:u.LO+(null!=(s=n.PV)?s:0)}),o.label=4;case 4:return[4,r.b2(t,n,i)];case 5:return o.sent(),r.yo(new ea(CR.KQ)),[3,7];case 6:return t.pw===DR.pk&&t.Zk.cancel(new Lo).catch(pi),[7];case 7:return[2]}}))}))()},i.b2=function(t,n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){switch(s.label){case 0:return Oo(i),n?[4,r.T2(n)]:[3,2];case 1:s.sent(),s.label=2;case 2:switch(t.pw){case DR.QQ:return[3,3];case DR.pk:return[3,7]}return[3,11];case 3:return r.E2?(e=r.E2.Y$(Od(t.Zk)),[4,r.R2(e,i)]):[3,5];case 4:return[2,s.sent()];case 5:return[4,r.I2(t.Zk)];case 6:return[2,s.sent()];case 7:return r.E2?(u=r.E2.Y$(t.Zk),[4,r.R2(u,i)]):[3,9];case 8:return[2,s.sent()];case 9:return[4,r.R2(t.Zk,i)];case 10:return[2,s.sent()];case 11:return[2]}}))}))()},i.R2=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:r=i.C2._R,e=ZR(t),u=e.getReader(),s=!1,v.label=1;case 1:v.trys.push([1,6,,12]),v.label=2;case 2:return[4,Fo(u.read(),n)];case 3:return(o=v.sent()).done?(s=!1,[3,5]):(Oo(n),a=Lc(o.value),s=!0,[4,i.I2(a)]);case 4:return v.sent(),[3,2];case 5:return[3,12];case 6:return c=v.sent(),u.cancel(c).catch(pi),s?[4,i.P2()]:[3,11];case 7:v.sent(),h=i.C2._R.Sn(r.XL()),f=0,v.label=8;case 8:return f<h.V?[4,i.D2(h.Cn(f),h.jn(f))]:[3,11];case 9:v.sent(),v.label=10;case 10:return f++,[3,8];case 11:throw c;case 12:return[2]}}))}))()},i.N2=function(t,n){var i=this;return this.d2((function(){return i.M2(t,n)}))},i.M2=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return i.c2.appendWindowStart===t&&i.c2.appendWindowEnd===n?[3,2]:[4,i.P2()];case 1:r.sent(),i.c2.appendWindowStart=0,i.c2.appendWindowEnd=n,i.c2.appendWindowStart=t,r.label=2;case 2:return[2]}}))}))()},i.T2=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:if(n.c2.timestampOffset===t.PV)return[2];i.label=1;case 1:return i.trys.push([1,2,,4]),n.c2.timestampOffset=t.PV,[3,4];case 2:return i.sent(),[4,n.P2()];case 3:return i.sent(),n.c2.timestampOffset=t.PV,[3,4];case 4:return[2]}}))}))()},i.I2=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.c2.appendBuffer(t),n.L2=!0,[4,n.B2()];case 1:return i.sent(),[2]}}))}))()},i.O2=function(t,n,i){var r=this;return this.d2((function(i){return r.D2(t,n,i)}),i)},i.D2=function(t,n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return Oo(i),r.c2.remove(t,n),[4,r.B2()];case 1:return e.sent(),[2]}}))}))()},i.B2=function(){var t=this,n=this.C2._R;return new et((function(i,r){var e,u=!1,s=function(){u=!0},o=function(){u=!1,e="error"},a=function(){u=!1,e="aborted"},c=function(){u=!1,e="sourceclose",h()},h=function(){f(),u&&!e?(n.sB(t.C2._R)||t.yo(new ea(CR.KQ)),i()):r(new p(e))},f=function(){t.c2.removeEventListener("update",s),t.c2.removeEventListener("error",o),t.c2.removeEventListener("abort",a),t.c2.removeEventListener("updateend",h),t.F2.fn(xR.eJ,c)};t.c2.addEventListener("update",s),t.c2.addEventListener("error",o),t.c2.addEventListener("abort",a),t.c2.addEventListener("updateend",h),Gn.Em&&Gn.Rm<3&&t.F2.yn(xR.eJ,c)}))},i.V2=function(){var t=this;return this.d2((function(){return t.P2()}))},i.P2=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:if(t.F2.tI!==rN.OE)return[2];OC&&(t.A2=!0),t.c2.updating&&(t.u2=!0);try{t.c2.abort()}catch(n){0,t.u2=!1}return t.ca?[4,t.B2().catch(pi)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))()},i.W2=function(){return"function"==typeof this.c2.changeType&&!Gn.Am},i.uJ=function(t){if(this.U2(),this.F2.tI!==rN.G2){var n;this.H2=t;var i=null!=(n=this.F2.Z2(t.Ik))?n:t.Ik;this.g2=VC(t.Ik,this.X2),this.W2()&&!Fs(this.X2,i)&&(this.X2=i,this.c2.changeType(this.X2))}},i.z2=function(){this.F2.tI!==rN.xy||this.q2||this.ca||(this.c2.timestampOffset=this.c2.timestampOffset,this.F2.Y2())},i.d2=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:i.U2(),(r=new Ho).zw(i.K2.Bw),n&&r.zw(n),e.label=1;case 1:return e.trys.push([1,,5,6]),i.q2=t(r.Bw),[4,i.q2];case 2:return e.sent(),i.F2.Y2(),i.ca?[4,i.B2()]:[3,4];case 3:e.sent(),e.label=4;case 4:return[3,6];case 5:return i.q2=void 0,r.Ww(),[7];case 6:return[2]}}))}))()},i.U2=function(){if(this.q2)throw new p("Internal error")},i.Ww=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.Bo(),t.K2.Xw(),t.q2?[4,t.q2.catch(pi)]:[3,2];case 1:n.sent(),t.q2=void 0,n.label=2;case 2:return t.c2.removeEventListener("updateend",t.j2),t.c2.removeEventListener("bufferedchange",t.Q2),[2]}}))}))()},Nt(n,[{key:"mj",get:function(){return this.Ej},set:function(t){this.Ej=t}},{key:"yj",get:function(){return this.Ij},set:function(t){this.Ij=t}},{key:"ca",get:function(){return this.u2||this.c2.updating}}]),n}(na);function VC(t,n){return Bs(t,"audio/mp4")&&Bs(n,"audio/mpeg")}F(),Tt(),Dt();var FC=function(){function t(t,n){this.e3=void 0,this.t3=n,this.c2=t}var n=t.prototype;return n.SJ=function(){return!!this.e3&&this._R.HL().gr(this.e3)},n.i3=function(){var t=this._R;this.e3=t.V>0?t.jn(t.V-1):0,this.t3.s3()},n.z2=function(){this.e3=void 0},Nt(t,[{key:"_R",get:function(){if(this.t3.tI===rN.G2)return AA.fB();var t=AA.xn(this.c2.buffered).Sn(new AA([0,1/0])),n=this.e3;return void 0!==n&&t.V>0&&t.jn(t.V-1)===n&&(t=t.KL(AA.lB(n))),t}}]),t}();function UC(t){var n=t.dT("codecs");return n?n.split(",").map((function(t){return t.trim()})):[]}function WC(t,n){return!("opus"===t)&&!("opus"===n)||t===n}function ZC(t,n){var i=XC(t)||GC(t),r=XC(n)||GC(n);return!i&&!r||t.split(".")[0]===n.split(".")[0]}function XC(t){return/^(ac-3|dac3|ec-3|dec3|ec\+3|ac-4|dac4)/.test(t)}function GC(t){return/^(dvav|dva1|dvhe|dvh1)/.test(t)}function HC(t,n){if(t===n)return!0;var i=t.split("."),r=n.split("."),e=i[0];if(e!==r[0])return!1;if("mp4a"===e){var u=tn(i,3),s=u[1],o=u[2],a=tn(r,3),c=a[1],h=a[2];if(s!==c)return!1;if(Number(o)!==Number(h))return!1}return!0}function zC(t,n,i,r,e,u,s){var o=new FC(e,t),a=new BC(o,t,e,i,u);return new YC(t,n,i,r,o,a,s)}F(),Tt(),nn();var YC=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this)||this).f3=ns(),a.F2=n,a.IT=r,a.ST=r.Ik,a.r3=e,a.LB=i,a.C2=u,a.a3=s,a.h3=o,a.a3.yn(CR.KQ,a.Ds),a}It(n,t);var i=n.prototype;return i.SJ=function(){return this.C2.SJ()},i.i3=function(){this.C2.i3()},i.z2=function(){this.C2.z2(),this.a3.z2()},i.u3=function(t,n){this.h3.LJ(t,n)},i.l3=function(t,n){this.h3.BJ(t,n)},i.d3=function(){return this.a3.V2()},i.l2=function(t,n,i){return this.a3.l2(t,n,i)},i._2=function(t,n,i){return this.a3._2(t,i)},i.N2=function(t,n){return Gn.Em&&Gn.Rm<3?this.a3.N2(t,1/0):this.a3.N2(t,n)},i.jS=function(t,n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){switch(s.label){case 0:return r.l3(t,n),e=r._R,[4,r.a3.O2(t,n,i)];case 1:return s.sent(),u=0!==e.V&&0===r._R.V,(Gn.ag||Gn.Cm)&&u&&r.LB.Sb(r.LB.yR),[2]}}))}))()},i.hJ=function(t){var n=t.Ik;if(this.ST===n)return!0;var i=this.f3.get(n);if(void 0!==i)return i;var r=this._3(t);return this.f3.set(n,r),r},i._3=function(t){var n=this.F2.Z2(t.Ik);if(void 0===n)return!1;var i=xv(this.ST),r=xv(n),e=UC(i),u=UC(r);if(this.a3.W2()){if(!function(t,n){return Do(t,n,ZC)}(e,u))return!1;if(Gn.dg&&!function(t,n){return Do(t,n,WC)}(e,u))return!1}else{if(i.pw!==r.pw)return!1;if(!function(t,n){return Do(t,n,HC)}(e,u))return!1}return!0},i.uJ=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){return i=t.Ik,n.ST!==i&&(n.f3.clear(),n.a3.uJ(t),n.ST=i),n.IT=t,n.F2.v3(),[2]}))}))()},i.Ww=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:t.f3.clear(),t.Bo(),t.h3.gn(),n.label=1;case 1:return n.trys.push([1,3,,4]),t.a3.fn(CR.KQ,t.Ds),[4,t.a3.Ww()];case 2:return n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return[2]}}))}))()},Nt(n,[{key:"_R",get:function(){return this.C2._R}},{key:"md",get:function(){return this.IT}},{key:"Ik",get:function(){return this.ST}},{key:"n3",get:function(){return this.r3}},{key:"o3",get:function(){return this.h3.NJ}},{key:"mj",get:function(){return this.a3.mj},set:function(t){this.a3.mj=t}},{key:"yj",get:function(){return this.a3.yj},set:function(t){this.a3.yj=t}},{key:"ca",get:function(){return this.a3.ca}}]),n}(na);F(),Tt();var jC=function(){function t(t,n,i,r){void 0===i&&(i=!1),void 0===r&&(r=!1),this.Cn=t,this.jn=n,this.g3=i,this.w3=r,this.y3=Kn.Bg()}return t.prototype.m3=function(){var t=this.Cn,n=this.jn;if(this.g3||this.w3){var i=.001*(Kn.Bg()-this.y3);this.g3&&(t+=i),this.w3&&(n+=i)}return AA.dB(t,n)},t}();F(),Tt(),Dt(),F(),Tt();var KC=.5,qC=[ua.so,ua.Uy,ua.qy,ua.zy,ua.Dy,ua.My,ua.xy,ua.Hy,wp.QI,Vy.ua],JC=function(){function t(t,n,i,r){var e=this;this.C2=t,this.E3=n,this.LB=i,this.C3=!1,this.A3=[],this.P3=0,this.O3=0,this.X3=0,this.M3=0,this.U3=0,this.V3=0,this.z3=1,this.S3=function(t){var n=e.LB.yR,i=t.DJ.gr(n),r=t.DJ.gr(n,KC)&&e.LB.tI<=pp.QB;(i||r)&&e.xJ(n)},this.x3=ki((function(t){if(!e.C3)if(e.E3.tI<=pp.QB){var n=e.LB.yR;e.xJ(n)||e.W3()}else e.I3()}),100),this.Kl=ki((function(t){e.F3()}),100),this.L3=function(t){t.currentTime!==e.M3&&e.I3()},this.R3=function(){e.G3()?0===e.V3&&(e.LB.yn(ua.$y,e.Kl),e.O3=Kn.Fg((function(){e.F3()}),3500)):e.T3()},this.W3=function(){var t=e.X3,n=e.U3,i=e.LB.yR,r=Kn.Bg(),u=e.C2._R;if(t!==i)return e.X3=i,e.U3=r,e.z3=1,void(e.q3=Kn.tR?2e3:1e3);if(e.G3()&&0!==u.V&&n>0&&r>n+e.q3){var s,o,a=e.NJ.HL().QL(u),c=a.oB(i);if(-1!==c){var h=a.Cn(c);if(h-i<1){var f=a.jn(c);0,s=f}}if(!s)(s=null==(o=e.Y3)?void 0:o.determineStallJumpTarget())||(s=i+.01*e.z3,u.gr(s)||(s=e.Z3(i,u)));0,e.X3=s,e.z3++,e.q3=k.min(2*e.q3,1e4),e.N3(s)}},this.E3.yn(wp.QI,this.x3),this.LB.yn(ua.Gy,this.x3),this.LB.yn(qC,this.R3),this.Y3=r,this.q3=Kn.tR?2e3:1e3}var n=t.prototype;return n.b3=function(t){this.A3.push(t),t.yn(FR.CJ,this.S3)},n.gn=function(){var t=this;this.T3(),this.E3.fn(wp.QI,this.x3),this.LB.fn(ua.Gy,this.x3),this.LB.fn(qC,this.R3),this.A3.forEach((function(n){return n.fn(FR.CJ,t.S3)})),this.I3(),this.C3=!0},n.xJ=function(t){if(this.LB.kR)return!1;if(0!==this.P3)return!1;var n=this.C2._R,i=n.JL(t);if(i>=0&&t+KC<n.jn(i))return!1;var r=i>=0?i+1:n.hB(t);if(r<0||r>=n.V)return!1;var e=n.Cn(r);return!(AA.dB(t,e).QL(this.NJ).cB>1)&&(0!==t||this.LB.nI?Kn.Jx?(this.D3(t,e,250),!0):!(k.abs(e-t)<=.001)&&(this.N3(e),!0):(this.D3(t,e,2e3),!0))},n.D3=function(t,n,i){var r=this;this.I3(),this.M3=t,this.LB.yn(ua.qy,this.L3),this.P3=Kn.Fg((function(){r.M3===r.LB.yR&&r.N3(n),r.I3()}),i)},n.I3=function(){0!==this.P3&&(this.LB.fn(ua.qy,this.L3),Kn.Og(this.P3),this.P3=0)},n.N3=function(t){this.LB.Sb(t,!1,!0)},n.B3=function(){0!==this.O3&&(Kn.Og(this.O3),this.O3=0),this.LB.fn(ua.$y,this.Kl)},n.F3=function(){this.C3||0===this.V3&&(this.B3(),this.V3=Kn.Op(this.W3,250))},n.T3=function(){0!==this.V3&&(Kn.Fp(this.V3),this.V3=0),this.B3(),this.LB.nI||(this.U3=0)},n.G3=function(){return!this.LB.ZR&&!this.LB.nI&&0!==this.LB.zR&&!this.LB.kR&&!this.LB.lt&&(this.H3()||this.E3.tI>=pp.JB)},n.H3=function(){var t=this.LB.yR,n=this.C2._R,i=n.JL(t);return-1!==i&&n.jn(i)>t+KC},n.Z3=function(t,n){var i=n.JL(t);return i>-1?n.jn(i):t},Nt(t,[{key:"NJ",get:function(){return this.A3.reduce((function(t,n){return t.KL(n.NJ)}),AA.fB())}}]),t}();function QC(t){var n=[];if(t.K3&&n.push(t.K3._R),t.j3&&n.push(t.j3._R),0===n.length)return AA.fB();for(var i=0,r=0;r<n.length;r++){var e=n[r];e.V>0&&(i=k.max(i,e.jn(e.V-1)))}for(var u=t.SJ,s=new AA([0,i],[!0,u]),o=0;o<n.length;o++){var a=n[o];u&&a.V>0&&(a=a.KL(new AA([a.jn(a.V-1),i],[!0,!0]))),s=s.Sn(a)}return s}function $C(t,n,i){var r,e=t._R,u=e.JL(n);if(u>=0){if(!(u+1<e.V))return et.resolve();r=e.Cn(u+1)}else{if(!((u=e.hB(n))>=0))return et.resolve();r=e.Cn(u)}return t.jS(r,1/0,i)}function tN(t,n,i){if(!t.gr(n)){var r=t.JL(n,i);if(r>=0){var e=t.Cn(r);if(n<e)return e}}return n}F(),Tt();var nN=Gn.Fm||Gn.Wm,iN=Gn.zm||Gn.jm||Gn.Ka,rN=function(t){return t.G2="closed",t.OE="open",t.xy="ended",t}({}),eN=function(t){function n(n,i,r,e,u,s,o){var a;return void 0===s&&(s=new xr(n.g4)),(a=t.call(this,n,i,e,u)||this).Q3=void 0,a.u4=void 0,a.J3=void 0,a.c4=void 0,a.n4=new jC(0,1/0),a.t4=void 0,a.l4=!1,a.f4=function(){a.yo(new ea(xR.eJ))},a.w4=function(){a.yo(new ea(xR.sJ))},a._4=function(){a.d4()},a.Q2=function(){a.LB.Q2()},a.m4=s,a.qG=a.m4._p(),a.qG.addEventListener("sourceclose",a.f4),a.qG.addEventListener("sourceopen",a.w4),a.LB.yn([ua.qy,ua.Dy],a._4),a.a4=new JC(a,r,a.LB,o),a}It(n,t);var i=n.prototype;return i.e4=function(t){if(S(t)||t<0)throw new p("Invalid duration");this.i4()?this.s4(t):this.t4=t},i.s4=function(t){var n=t===1/0;if(n&&this.qG.setLiveSeekableRange){var i=k.pow(2,39);this.qG.setLiveSeekableRange(0,i)}this.qG.duration=n?iN?1/0:ir:t,this.t4=void 0},i.r4=function(t,n,i,r){this.n4=new jC(t,n,!!i,!!r)},i.bj=function(){var t=this;return Zt((function(){var n,i,r,e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:return n=t.IT,i=ao(n.o4,(function(t){return Bs(t.Ik,"audio")})),r=ao(n.o4,(function(t){return Bs(t.Ik,"video")})),t.YT.disableRemotePlayback=!0,[4,t.h4()];case 1:return h.sent(),i&&(e=new WR,t.a4.b3(e),s=null!=(u=t.Z2(i.Ik))?u:i.Ik,t.u4=t.qG.addSourceBuffer(s),t.Q3=zC(t,t.LB,i,jg.cE,t.u4,s,e),t.Q3.yn(CR.KQ,t.Q2)),r&&(o=new WR,t.a4.b3(o),c=null!=(a=t.Z2(r.Ik))?a:r.Ik,t.c4=t.qG.addSourceBuffer(c),t.J3=zC(t,t.LB,r,jg.lE,t.c4,c,o),t.J3.yn(CR.KQ,t.Q2)),t.cJ.$n(t,n),[2]}}))}))()},i.h4=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.yJ.call(n,n.qG)];case 1:return i.sent(),"open"===n.tI?[3,3]:[4,jl(n.qG,"sourceopen")];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))()},i.i4=function(){if("open"!==this.tI)return!1;var t=this.Q3&&this.Q3.ca,n=this.J3&&this.J3.ca;return!(t||n)},i.i3=function(){this.l4=!0,this.Q3&&this.Q3.i3(),this.J3&&this.J3.i3(),this.l4=!1,this.d4()},i.z2=function(){this.Q3&&this.Q3.z2(),this.J3&&this.J3.z2()},i.hJ=function(n){var i=ao(n.o4,(function(t){return Bs(t.Ik,"audio")})),r=ao(n.o4,(function(t){return Bs(t.Ik,"video")}));if(this.Q3){if(!i)return!1;if(!this.Q3.hJ(i))return!1}else if(i)return!1;if(this.J3){if(!r)return!1;if(!this.J3.hJ(r))return!1}else if(r)return!1;return!!t.prototype.hJ.call(this,n)},i.uJ=function(n){var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return r=ao(n.o4,(function(t){return Bs(t.Ik,"audio")})),e=ao(n.o4,(function(t){return Bs(t.Ik,"video")})),u=[],i.Q3&&u.push(i.Q3.uJ(r)),i.J3&&u.push(i.J3.uJ(e)),[4,et.all(u)];case 1:return s.sent(),[4,t.prototype.uJ.call(i,n)];case 2:return s.sent(),[2]}}))}))()},i.lJ=function(n){t.prototype.lJ.call(this,n)},i.Ww=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.qG.removeEventListener("sourceclose",n.f4),Gn.Cm?[4,n.AJ()]:[3,2];case 1:i.sent(),i.label=2;case 2:return n.Q3?[4,n.Q3.Ww()]:[3,4];case 3:if(i.sent(),n.Q3=void 0,qs()&&(Gn.Cm||Gn.Em))try{n.qG.removeSourceBuffer(n.u4)}catch(t){}n.u4=void 0,i.label=4;case 4:return n.J3?[4,n.J3.Ww()]:[3,6];case 5:if(i.sent(),n.J3=void 0,qs()&&(Gn.Cm||Gn.Em))try{n.qG.removeSourceBuffer(n.c4)}catch(t){}n.c4=void 0,i.label=6;case 6:return n.YT.src&&URL.revokeObjectURL(n.YT.src),n.YT.disableRemotePlayback=!1,n.LB.fn([ua.qy,ua.Dy],n._4),n.a4.gn(),Gn.Em?[4,n.AJ()]:[3,8];case 7:i.sent(),i.label=8;case 8:return[4,t.prototype.Ww.call(n)];case 9:return i.sent(),[2]}}))}))()},i.v3=function(){var t=this,n=this.IT,i=n.o4.map((function(n){return Bs(n.Ik,"audio")&&t.Q3?t.Q3.md:Bs(n.Ik,"video")&&t.J3?t.J3.md:n}));this.IT=$u({},n,{o4:i})},i.s3=function(){this.l4||this.d4()},i.d4=function(){this.v4&&this.i4()&&(this.qG.endOfStream(),this.t4=void 0,this.yo(new ea(xR.$Q)),this.LB.Q2())},i.Y2=function(){this.i4()&&(this.SJ?this.d4():void 0!==this.t4&&this.s4(this.t4))},i.xJ=function(t){return this.a4.xJ(t)},i.RJ=function(){return!0},i.Z2=function(t){return uN(this.m4,t)},n.IJ=function(t){var n=Lr(t.g4);if(void 0===n)return!1;if("function"!=typeof n.isTypeSupported)return!1;for(var i=new xr(t.g4),r=0,e=t.o4;r<e.length;r++){if(void 0===uN(i,e[r].Ik))return!1}return!0},Nt(n,[{key:"K3",get:function(){return this.Q3}},{key:"j3",get:function(){return this.J3}},{key:"ct",get:function(){if(this.t4)return this.t4;var t=this.qG.duration;return t===ir?1/0:t}},{key:"_R",get:function(){return nN?QC(this):function(t,n){var i=n;return i.V>0&&t.SJ&&(i=i.KL(AA.lB(i.jn(i.V-1)))),i}(this,AA.xn(this.YT.buffered))}},{key:"TJ",get:function(){var t;return null==(t=this.Q3)?void 0:t._R}},{key:"kJ",get:function(){var t;return null==(t=this.J3)?void 0:t._R}},{key:"iI",get:function(){return this.n4.m3().Sn(new AA([0,this.ct],[!0,!0]))}},{key:"SJ",get:function(){return(!this.Q3||this.Q3.SJ())&&(!this.J3||this.J3.SJ())}},{key:"tI",get:function(){return this.qG.readyState}},{key:"v4",get:function(){if(!this.SJ)return!1;var t=this._R;return 0!==t.V&&t.Cn(t.V-1)<=this.LB.yR}}]),n}(LR);function uN(t,n){var i=xv(n),r=UC(i),e="audio/mp4"===i.pw,u=e&&1===r.length&&"mp4a.40.34"===r[0];if(t.mp(n)&&(!u||!Gn.jm))return n;if(u)for(var s=['audio/mp4; codecs="mp3"',"audio/mpeg"],o=0;o<s.length;o++){var a=s[o];if(t.mp(a))return a}if(e&&1===r.length&&"flac"===r[0].toLowerCase())for(var c=["flac","fLaC","FLAC"],h=0;h<c.length;h++){var f='audio/mp4; codecs="'+c[h]+'"';if(t.mp(n))return f}}F(),Tt(),Dt(),Rt(),F(),Tt(),Rt();var sN=function(t){function n(n){var i;return(i=t.call(this,ua.Dy)||this).currentTime=n,i}return It(n,t),n}(ea),oN=[ua.eb,ua.Hy,ua.qy,ua.Dy,ua.so,ua.Uy],aN=function(t){function n(n,i,r,e,u,s,o,a,c,h,f){var v;return(v=t.call(this)||this).nZ=n,v.IA=i,v.T4=r,v.hZ=e,v.rZ=u,v.oZ=s,v.aZ=o,v.UA=a,v.E4=c,v.b4=h,v.S4=f,v}It(n,t);var i=n.prototype;return i.Sb=function(t,n,i){this.nZ!==t&&(this.nZ=t,this.b4=n,i&&!this.rZ?(this.S4=!0,this.yo(new sN(this.yR))):(this.S4=!1,this.rZ=!0,this.yo(new vT(this.yR))))},i.bI=function(){this.hZ||(this.hZ=!0,this.yo(new oT(this.yR)))},i.AI=function(){this.hZ&&(this.hZ=!1,this.yo(new aT(this.yR)))},i.Ww=function(){this.Bo()},Nt(n,[{key:"yR",get:function(){return this.nZ}},{key:"y4",get:function(){return this.b4}},{key:"A4",get:function(){return this.S4}},{key:"ct",get:function(){return this.IA}},{key:"kR",get:function(){return this.T4}},{key:"ZR",get:function(){return this.hZ}},{key:"tI",get:function(){return this.E4}},{key:"nI",get:function(){return this.rZ}},{key:"FR",get:function(){return this.oZ},set:function(t){this.FR!==t&&(this.oZ=t,this.yo(new lT(this.yR,this.dI)))}},{key:"zR",get:function(){return this.aZ},set:function(t){this.zR!==t&&(this.aZ=t,this.yo(new hT(this.yR,this.zR)))}},{key:"dI",get:function(){return this.UA},set:function(t){this.dI!==t&&(this.UA=t,this.yo(new lT(this.yR,this.dI)))}}]),n}(na);function cN(t){return new aN(t.yR,t.ct,t.kR,t.ZR,t.nI,t.FR,t.zR,t.dI,t.tI,!1,t.A4)}function hN(t,n){n.ct===t.ct||S(n.ct)&&S(t.ct)||t.yo(new cT(t.ct)),t.FR=n.FR,t.dI=n.dI,t.zR=n.zR,n.ZR?t.bI():t.AI().catch(pi),n.yR!==t.yR||n.tI>pp.jB&&t.tI===pp.jB?t.Sb(n.yR,n.y4,n.A4):!n.nI&&t.nI?t.yo(new vT(t.yR)):n.nI&&!t.nI&&t.tI>=pp.QB&&t.yo(new dT(t.yR)),!n.kR&&t.kR&&t.yo(new fT(t.yR))}F(),Tt(),Rt(),F(),Tt(),Dt(),Rt();var fN=function(t){function n(n){var i;return(i=t.call(this)||this).AW=pp.jB,i.I4=function(){i.R4()},i.LB=n,i}It(n,t);var i=n.prototype;return i.x4=function(t){this.AW!==t&&(this.AW=t,this.yo(new yp(this.LB.yR,t)))},i.R4=function(){this.x4(this.eI())},i.tr=function(){this.x4(pp.jB)},i.Ww=function(){this.Bo()},Nt(n,[{key:"tI",get:function(){return this.eI()}}]),n}(na);F(),Tt(),Rt();var vN=["emptied","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","timeupdate","progress","seeking","seeked"],dN=function(t){function n(n){var i;i=t.call(this,n)||this;for(var r=0;r<vN.length;r++){var e=vN[r];i.LB.XG.addEventListener(e,i.I4)}return i}It(n,t);var i=n.prototype;return i.eI=function(){var t=this.LB.XG.readyState;return t>pp.QB&&this.LB.C4?pp.QB:(this.LB.XG.seeking&&t>pp.Xn&&(t=pp.Xn),t)},i.Ww=function(){for(var n=0;n<vN.length;n++){var i=vN[n];this.LB.XG.removeEventListener(i,this.I4)}t.prototype.Ww.call(this)},n}(fN);F(),Tt();var lN=function(t){function n(n){var i;(i=t.call(this,n)||this).LB.yn([ua.qy,ua.Dy],i.I4);for(var r=0;r<vN.length;r++){var e=vN[r];i.LB.XG.addEventListener(e,i.I4)}return i}It(n,t);var i=n.prototype;return i.eI=function(){if(this.LB.XG.readyState===pp.jB)return pp.jB;var t=this.P4(),n=t?t.jn-t.Cn:0;if(!t)return pp.Xn;var i=this.LB.zR;return this.D4()||n>=3*i?pp.$B:n>=3?pp.JB:pp.QB},i.P4=function(){var t=this.LB.yR,n=this.LB._R.YL(.04),i=n.JL(t);if(!(i<0))return{Cn:t,jn:n.jn(i)}},i.D4=function(){if(this.LB.kR)return!0;var t=this.LB.ct,n=this.P4();return!!n&&t-n.jn<=.16666666666666666},i.Ww=function(){this.LB.fn([ua.qy,ua.Dy],this.I4);for(var n=0;n<vN.length;n++){var i=vN[n];this.LB.XG.removeEventListener(i,this.I4)}t.prototype.Ww.call(this)},n}(fN);F(),Tt(),Rt(),F(),Tt(),Rt();var gN=[wp.QI,ua.so,ua.Uy,ua.qy,ua.zy,ua.Dy,ua.My,ua.xy,Vy.ua],wN=function(t){function n(n){var i;return(i=t.call(this)||this).B4=!1,i.fK=function(){i.Yn()},i.gW=n,i.gW.yn(gN,i.fK),i}It(n,t);var i=n.prototype;return i.N4=function(){return(!this.gW.A4||!this.gW.M4)&&this.gW.tI<pp.JB},i.L4=function(){return!this.gW.nI&&!(this.gW.ZR||this.gW.kR||this.gW.lt||this.N4())},i.Yn=function(){var t=this.B4;this.B4=this.L4(),!t&&this.B4&&this.yo(new Sp(this.gW.yR))},i.tr=function(){this.B4=!1},i.Ww=function(){this.Bo(),this.gW.fn(gN,this.fK)},n}(na),mN=function(t){function n(n){var i;return(i=t.call(this,n)||this).O4=!1,i.IW=function(){i.O4=!0,i.Yn()},i.YT=n.XG,i.YT.addEventListener(wp.BL,i.IW),i}It(n,t);var i=n.prototype;return i.L4=function(){return this.O4&&t.prototype.L4.call(this)},i.Yn=function(){this.O4&&(this.YT.paused||this.YT.ended||this.YT.error)&&(this.O4=!1),t.prototype.Yn.call(this)},i.tr=function(){t.prototype.tr.call(this),this.O4=!1},i.Ww=function(){this.YT.removeEventListener(wp.BL,this.IW),t.prototype.Ww.call(this)},n}(wN);F(),Tt(),Rt();var yN=function(t){function n(n){var i;return(i=t.call(this,Vy.ua)||this).lt=n,i}return It(n,t),n}(ea);function pN(t,n){return t.LO<=n&&t.BO>n}function _N(t,n){return function(t,n){return uo(t.LO,n.LO,Fw)}(t,n)||function(t,n){return uo(t.BO,n.BO,Fw)}(t,n)}function bN(t,n){return function(t,n){return uo(t.HO,n.HO,Fw)}(t,n)||function(t,n){return uo(t.ZO,n.ZO,Fw)}(t,n)}function kN(t,n,i){var r=function(t,n,i,r,e,u,s){void 0===e&&(e=!1),void 0===u&&(u=0),void 0===s&&(s=t.length);for(var o=u,a=s-1;o<=a;){var c=o+(a-o>>1),h=r(i(t[c]),n);if(h<0)o=c+1;else if(h>0)a=c-1;else{if(!(e&&c>u&&0===r(i(t[c-1]),n)))return c;a=c-1}}return~o}(t,n,_i,i,!0);if(r<0)return r;for(;r<t.length&&i(n,t[r])===io.Zr;r++)if(t[r].JO(n))return r;return-(r+1)}function AN(t,n,i){var r=kN(t,n,i);return r>=0?r:-(r+1)}function TN(t){var n=t.Ht;if(!n)return-1;if(t instanceof Ww)return n.F4(t);var i=n.L;if(!i)return-1;var r=kN(i.oC,t,_N);return r>=0?r:-1}function SN(t,n){var i=function(t,n,i){for(var r=t.length,e=n.length,u=0,s=0,o=[],a=[];u<r&&s<e;){var c=t[u],h=n[s];c===h?(u++,s++):i(h,c)<=0?(o.push(h),s++):(a.push(c),u++)}for(;u<r;)a.push(t[u]),u++;for(;s<e;)o.push(n[s]),s++;return{V4:o,W4:a}}(t,n,_N);return function(t,n){for(var i=n.length,r=0;r<i;r++)t[r]=n[r];t.length=i}(t,n),i}F(),Tt(),Dt(),Rt(),F(),Tt(),F(),Tt(),F(),Tt(),Dt();var EN=function(){function t(t){this.Za=void 0,this.U4=t}var n=t.prototype;return n.ma=function(){return function(t){for(var n=[],i=0;i<t.V;i++)n[i]=t.Cb(i).ga;return n.item=function(n){var i=0|n,r=t.Cb(i);return r&&r.ga||void 0},b.defineProperty(n,"constructor",{value:xw}),n}(this)},n.bO=function(t){for(var n=this.U4,i=n.length-1;i>=0;i-=1){var r=n[i];if(t.JO(r))return!0}return!1},n.Cb=function(t){return this.U4[t]},Nt(t,[{key:"oC",get:function(){return this.U4}},{key:"V",get:function(){return this.U4.length}},{key:"ga",get:function(){if(this.Za){var t=this.U4;this.Za.length=t.length;for(var n=0;n<t.length;n++)this.Za[n]=t[n].ga}else this.Za=this.ma();return this.Za}}]),t}();F(),Tt(),Rt();var IN=function(t){function n(n,i){var r;return(r=t.call(this,kg.QI)||this).Ht=n,r.tI=i,r}return It(n,t),n.prototype.ma=function(){return new RN(this.Ht.ga,this.tI)},n}(gg),RN=function(t){function n(n,i){var r;return(r=t.call(this,"readystatechange")||this).track=n,r.readyState=i,r}return It(n,t),n}(wg);F(),Tt(),Rt();var CN=function(t){function n(n){var i;return(i=t.call(this,kg.$I)||this).Ht=n,i}return It(n,t),n.prototype.ma=function(){return new NN(this.Ht.ga)},n}(gg),NN=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return It(n,t),n}(wg);F(),Tt(),Rt();var DN=function(t){function n(n){var i;return(i=t.call(this,kg.FI)||this).DO=n,i}return It(n,t),n.prototype.ma=function(){return new PN(this.DO.ga)},n}(gg),PN=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return It(n,t),n}(wg);F(),Tt(),Rt();var xN=function(t){function n(n){var i;return(i=t.call(this,kg.WI)||this).DO=n,i}return It(n,t),n.prototype.ma=function(){return new LN(this.DO.ga)},n}(gg),LN=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return It(n,t),n}(wg),MN=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return(h=t.call(this)||this).TO=hw(),h.g_=!1,h.qo=Oy.Ch,h.E4=bw.NONE,h.J4=void 0,h.U4=[],h.t5=[],h.j4=[],h.r5=0,h.Q4=0,h.US=i||"",h.z4=a||"",h.q4=n,h.CA=e||"",h.g_=Boolean(u),h.X4=Boolean(o),h.pp=s||kw.DEFAULT,h.kO=r||"",h.Y4=c||[],h.H4=new EN(h.U4),h.G4=new EN(h.j4),h}It(n,t);var i=n.prototype;return i.Z4=function(t){return ao(this.H4.oC,(function(n){return n.o===t}))},i.ma=function(){return Uy(this)},i.K4=function(t){var n=By(t);n!==this.TE&&(this.qo=n,n===Oy.Ch&&(this.j4.forEach((function(t){t.Yh=!1})),po(this.j4),this.Q4=0),this.yo(new uw(this)))},i.uW=function(t){if(t&&!t.Ht){var n=kN(this.t5,t,bN);if(!(n>=0)){t.Ht=this;var i=-(n+1);this.t5.splice(i,0,t);var r=AN(this.L.oC,t,_N);this.e5(t,r),this.yo(new DN(t))}}},i.e5=function(t,n){this.U4.splice(n,0,t),this.i5(n),t.eF=n,n<this.Q4&&(this.Q4=n)},i.JV=function(t){if(t&&t.Ht===this){var n=this.F4(t);if(!(n<0)){t.Yh=!1;var i=this.j4,r=kN(i,t,_N);r>=0&&go(i,r);var e=kN(this.t5,t,bN);e>=0&&go(this.t5,e),this.s5(t,n),this.yo(new xN(t))}}},i.s5=function(t,n){go(this.U4,n),this.i5(n),t.eF=-1,this.Q4>n&&--this.Q4},i.qO=function(t){if(t&&t.Ht===this){var n=this.F4(t);if(!(n<0)){this.s5(t,n);var i=AN(this.L.oC,t,_N);this.e5(t,i);var r=fo(this.j4,(function(n){return n===t}));if(r>=0){go(this.j4,r);var e=AN(this.j4,t,_N);this.j4.splice(e,0,t)}}}},i.n5=function(t,n){var i=this.j4,r=this.U4,e=this.Q4,u=!1,s=1/0;n&&(e=0);for(var o=i.length-1;o>=0;o--){var a=i[o];pN(a,t)?a.BO<s&&(s=a.BO):(u=!0,go(i,o))}for(;e<r.length&&r[e].LO<=t;){var c=r[e];pN(c,t)&&(mo(i,c)||(u=!0,i.push(c)),c.BO<s&&(s=c.BO)),e++}return e<r.length&&r[e].LO<s&&(s=r[e].LO),u&&$s(i,_N),this.Q4=e,s},i.F4=function(t){return(-1===t.eF||t.eF>=this.r5)&&this.o5(),t.eF},i.o5=function(){for(var t=this.U4,n=this.r5;n<t.length;n++)t[n].eF=n;this.r5=t.length},i.i5=function(t){t<this.r5&&(this.r5=k.max(t,0))},i.DC=function(t){this.NC||(this.TE=t)},i.gn=function(){this.Bo();for(var t=this.U4.slice(),n=0;n<t.length;n++){t[n].gn()}po(this.U4),po(this.t5),po(this.j4)},Nt(n,[{key:"q",get:function(){return this.G4}},{key:"L",get:function(){return this.H4}},{key:"dW",get:function(){return this.g_},set:function(t){this.g_=t}},{key:"NC",get:function(){return this.X4}},{key:"ga",get:function(){return this.Za||(this.Za=this.ma()),this.Za}},{key:"o",get:function(){return this.US}},{key:"TC",get:function(){return this.TO}},{key:"IC",get:function(){return this.z4},set:function(t){this.z4=t}},{key:"Lt",get:function(){return this.q4}},{key:"kh",get:function(){return this.kO},set:function(t){t!==this.kO&&(this.kO=t,this.yo(new ow(this)))}},{key:"gs",get:function(){return this.CA}},{key:"kC",get:function(){return this.Y4}},{key:"TE",get:function(){return this.qo},set:function(t){this.K4(t)}},{key:"tI",get:function(){return this.E4},set:function(t){this.E4!==t&&(this.E4=t,this.yo(new IN(this,this.E4)))}},{key:"MC",get:function(){return this.J4},set:function(t){this.J4=t}},{key:"pw",get:function(){return this.pp},set:function(t){this.pp!==t&&(this.pp=t,this.yo(new CN(this)))}}]),n}(na);F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Rt();var ON=function(t){function n(n,i){var r;return(r=t.call(this,Cw.tO,n)||this).eV=i,r}return It(n,t),n.prototype.ma=function(){return new BN(this.DO.ga)},n}(Nw),BN=function(t){function n(n){return t.call(this,"enter",n)||this}return It(n,t),n}(Dw);F(),Tt(),Rt();var VN=function(t){function n(n,i){var r;return(r=t.call(this,Cw.eO,n)||this).eV=i,r}return It(n,t),n.prototype.ma=function(){return new FN(this.DO.ga)},n}(Nw),FN=function(t){function n(n){return t.call(this,"exit",n)||this}return It(n,t),n}(Dw);F(),Tt(),Rt();var UN=function(t){function n(n){var i;return(i=t.call(this,kg.ZI)||this).DO=n,i}return It(n,t),n.prototype.ma=function(){return new WN(this.DO.ga)},n}(gg),WN=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return It(n,t),n}(wg);F(),Tt(),Rt();var ZN=function(t){function n(n){var i;return(i=t.call(this,kg.zI)||this).DO=n,i}return It(n,t),n.prototype.ma=function(){return new XN(this.DO.ga)},n}(gg),XN=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return It(n,t),n}(wg),GN=function(t){function n(n){var i;return(i=t.call(this)||this).KO=void 0,i.zO=void 0,i.Za=void 0,i.Kh=!1,i.a5=function(){i.Yh=!0},i.u5=function(){i.Yh=!1},i.TO=gw(),i.h5=n,i.HO=n.startTime,i.ZO=n.endTime,i.h5.addEventListener("enter",i.a5),i.h5.addEventListener("exit",i.u5),i}It(n,t);var i=n.prototype;return i.ma=function(){return Pw(this)},i.JO=function(t){return this===t||Cg(this,t)&&Uw(this,t)&&this.$O(t)},i.$O=function(t){return Rg(this.U,t.U)},i.gn=function(){this.Bo(),this.h5.removeEventListener("enter",this.a5),this.h5.removeEventListener("exit",this.u5)},Nt(n,[{key:"TC",get:function(){return this.TO}},{key:"LO",get:function(){return this.h5.startTime},set:function(t){this.h5.startTime=t}},{key:"BO",get:function(){return this.h5.endTime},set:function(t){this.h5.endTime=t}},{key:"U",get:function(){return this.KO},set:function(t){this.KO=t}},{key:"jO",get:function(){return!!this.h5.pauseOnExit},set:function(t){this.h5.pauseOnExit=!!t}},{key:"Ht",get:function(){return this.zO},set:function(t){this.zO=t}},{key:"o",get:function(){return this.h5.id||""}},{key:"ga",get:function(){return this.Za||(this.Za=this.ma()),this.Za}},{key:"Yh",get:function(){return this.Kh},set:function(t){this.Yh!==t&&(this.Kh=t,t?(this.yo(new ON(this,this.LO)),this.zO&&this.zO.yo(new UN(this))):(this.yo(new VN(this,this.BO)),this.zO&&this.zO.yo(new ZN(this))))}}]),n}(ra);F(),Tt(),Rt();var HN=function(t){function n(n){var i;return(i=t.call(this,kg.YI)||this).Ht=n,i}return It(n,t),n.prototype.ma=function(){return new zN(this.Ht.ga)},n}(gg),zN=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return It(n,t),n}(wg);function YN(t){if(t){var n=t.THEOplayerVTTRegion;return n||(n=new jN(t),t.THEOplayerVTTRegion=n),n}}F(),Tt(),Dt(),Rt(),F(),Tt(),Dt();var jN=function(){function t(t){this.Za=void 0,this.l5=t}return Nt(t,[{key:"c5",get:function(){return this.l5}},{key:"o",get:function(){return this.l5.id||""}},{key:"ji",get:function(){return+this.l5.width||0},set:function(t){this.l5.width=t||0}},{key:"iF",get:function(){return+this.l5.lines||0},set:function(t){this.l5.lines=t||0}},{key:"sF",get:function(){return+this.l5.regionAnchorX||0},set:function(t){this.l5.regionAnchorX=t||0}},{key:"nF",get:function(){return+this.l5.regionAnchorY||0},set:function(t){this.l5.regionAnchorY=t||0}},{key:"oF",get:function(){return+this.l5.viewportAnchorX||0},set:function(t){this.l5.viewportAnchorX=t||0}},{key:"hF",get:function(){return+this.l5.viewportAnchorY||0},set:function(t){this.l5.viewportAnchorY=t||0}},{key:"rF",get:function(){return this.l5.scroll||""}},{key:"ga",get:function(){return this.Za||(this.Za=jw(this)),this.Za}}]),t}();var KN=function(t){function n(n){return t.call(this,n)||this}It(n,t);var i=n.prototype;return i.ma=function(){return Lw(this)},i.$O=function(t){return Zw(this,t)},Nt(n,[{key:"U",get:function(){return this.h5.text},set:function(t){this.h5.text=t}},{key:"Pt",get:function(){return this.h5.vertical||""},set:function(t){this.h5.vertical=t||""}},{key:"GO",get:function(){return this.h5.snapToLines},set:function(t){this.h5.snapToLines=t}},{key:"FO",get:function(){return this.h5.line},set:function(t){this.h5.line=t}},{key:"Rb",get:function(){return+this.h5.size},set:function(t){this.h5.size=er(t,0,100)}},{key:"ga",get:function(){return this.Za||(this.Za=this.ma()),this.Za}}]),n}(GN),qN=function(t){function n(n){return t.call(this,n)||this}return It(n,t),Nt(n,[{key:"UO",get:function(){return YN(this.h5.region)}},{key:"VO",get:function(){return this.h5.lineAlign||"start"},set:function(t){this.h5.lineAlign=t||"start"}},{key:"uo",get:function(){return this.h5.position},set:function(t){this.h5.position=t}},{key:"WO",get:function(){return this.h5.positionAlign||"auto"},set:function(t){this.h5.positionAlign=t||"auto"}},{key:"OO",get:function(){return this.h5.align||"center"},set:function(t){this.h5.align=t||"center"}}]),n}(KN),JN=function(t){function n(n){return t.call(this,n)||this}return It(n,t),Nt(n,[{key:"UO",get:function(){return YN(this.c5)}},{key:"c5",get:function(){return function(t,n){if(void 0!==n){var i=t&&t.regions;return i&&i.getRegionById(n)||void 0}}(this.h5.track,this.h5.regionId)}},{key:"VO",get:function(){return function(t){return"middle"===t?"center":t}(this.h5.lineAlign||"start")},set:function(t){this.h5.lineAlign=function(t){return"center"===t?"middle":t}(t||"start")}},{key:"uo",get:function(){return this.h5.position},set:function(t){this.h5.position=function(t,n){return Rw(t,n)}(t,this.OO)}},{key:"WO",get:function(){return function(t){return Ew[t]}(this.h5.positionAlign||"middle")},set:function(t){this.h5.positionAlign=function(t,n){return Sw[Iw(t,n)]}(t||"center",this.OO)}},{key:"OO",get:function(){return function(t){return"middle"===t?"center":t}(this.h5.align||"middle")},set:function(t){this.h5.align=function(t){return"center"===t?"middle":t}(t||"center")}}]),n}(KN);function QN(t,n){return t.U===n.U}function $N(t,n){if(0!==n.length){var i=n.length-1;if(n[i].LO<t.LO)tD(n,i,t.LO);else{var r=n[0];if(r.LO>t.LO)t.BO=r.LO;else{var e=kN(n,t,_N);if(!(e>=0)){var u=-(e+1),s=u-1;if(s>=0)n[s].LO<t.LO&&tD(n,s,t.LO);if(u<n.length){var o=n[u];t.BO=o.LO}}}}}}function tD(t,n,i){for(var r=t[n].LO,e=n;e>=0&&t[e].LO===r;e--)t[e].BO=i}function nD(t){return Pw(t)}F(),Tt(),F(),Tt(),Dt(),Rt(),F(),Tt(),F(),Tt();var iD=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).d5=i,r}It(n,t);var i=n.prototype;return i.ma=function(){return nD(this)},i.$O=function(t){return QN(this,t)},Nt(n,[{key:"U",get:function(){return this.d5}},{key:"ga",get:function(){return this.Za||(this.Za=this.ma()),this.Za}}]),n}(GN);function rD(t){switch(t){case 0:case 1:case 2:case 3:return!0}return!1}function eD(t){switch(t){case 0:return tc;case 1:return ec;case 2:return uc;case 3:return dc}}function uD(t,n){var i=n.tc,r=t.byteLength,e=_c(t);return n.Ab(r-i),Ac(e,i,r).buffer}function sD(t,n){return{id:t||"",data:n instanceof ArrayBuffer?n:void 0}}function oD(t,n,i){var r=Va(t,n);if(rD(r)){var e=eD(r);return{id:i,language:Qa(t,n,3),description:e(t,n),text:e(t,n)}}}function aD(t,n,i){var r=Va(t,n);if(rD(r)){var e=eD(r);return{id:i,mimeType:tc(t,n),fileName:e(t,n),description:e(t,n),data:uD(t,n)}}}function cD(t,n,i){var r=Va(t,n);if(rD(r)){for(var e=eD(r),u=[];n.tc<t.byteLength;)u.push({involvement:e(t,n),involvee:e(t,n)});return{id:i,entries:u}}}function hD(t,n,i){var r=Va(t,n);if(rD(r)){for(var e=eD(r),u=Qa(t,n,3),s=Va(t,n),o=Va(t,n),a=e(t,n),c=!1,h=[];n.tc<t.byteLength;){var f=void 0;if(1===r){var v=rc(t,n);void 0===v?v=c:c=v,f=uc(t,n,v)}else f=e(t,n);if(!f||n.tc+4>t.byteLength)break;h.push({text:f,timestamp:Ya(t,n)})}return{id:i,language:u,format:s,contentType:o,description:a,entries:h}}}function fD(t,n,i){return{id:i,ownerIdentifier:tc(t,n),identifier:uD(t,n)}}function vD(t,n,i){var r=Va(t,n);if(rD(r)){var e=eD(r);return{id:i,language:Qa(t,n,3),description:e(t,n),text:e(t,n)}}}function dD(t,n,i){var r=Va(t,n);if(rD(r))return{id:i,text:eD(r)(t,n)}}function lD(t,n,i){return{id:i,url:tc(t,n)}}function gD(t,n,i){var r=Va(t,n);if(rD(r)){var e=eD(r);return{id:i,description:e(t,n),text:e(t,n)}}}function wD(t,n,i){var r=Va(t,n);if(rD(r))return{id:i,description:eD(r)(t,n),url:tc(t,n)}}function mD(t,n,i){switch(i){case"COM":return oD(t,n,i);case"GEO":return aD(t,n,i);case"IPL":return cD(t,n,i);case"PIC":return function(t,n,i){var r=Va(t,n);if(rD(r)){var e,u,s=eD(r),o=Qa(t,n,3),a=Va(t,n),c=s(t,n);return"--\x3e"===o?(e=o,u=tc(t,n)):(e="image/"+o.toLowerCase(),u=uD(t,n)),{id:i,mimeType:e,pictureType:a,description:c,data:u}}}(t,n,i);case"SLT":return hD(t,n,i);case"TXX":return gD(t,n,i);case"UFI":return fD(t,n,i);case"ULT":return vD(t,n,i);case"WXX":return wD(t,n,i);default:if("T"===i.charAt(0))return dD(t,n,i);if("W"===i.charAt(0))return lD(t,n,i)}}function yD(t,n,i){switch(i){case"APIC":return function(t,n,i){var r=Va(t,n);if(rD(r)){var e=eD(r),u=tc(t,n);return{id:i,mimeType:u,pictureType:Va(t,n),description:e(t,n),data:"--\x3e"===u?tc(t,n):uD(t,n)}}}(t,n,i);case"COMM":return oD(t,n,i);case"COMR":return function(t,n,i){var r=Va(t,n);if(rD(r)){var e,u,s=eD(r),o=tc(t,n),a=Qa(t,n,8),c=tc(t,n),h=Va(t,n),f=s(t,n),v=s(t,n);return n.tc<t.byteLength&&(e=tc(t,n)||"image/",u=uD(t,n)),{id:i,price:o,validUntil:a,contactURL:c,receivedAs:h,nameOfSeller:f,description:v,pictureMimeType:e,sellerLogo:u}}}(t,n,i);case"GEOB":return aD(t,n,i);case"IPLS":return cD(t,n,i);case"PRIV":return function(t,n,i){return{id:i,ownerIdentifier:tc(t,n),data:uD(t,n)}}(t,n,i);case"POSS":return function(t,n,i){return{id:i,format:Va(t,n),position:Ya(t,n)}}(t,n,i);case"SYLT":return hD(t,n,i);case"TXXX":return gD(t,n,i);case"UFID":return fD(t,n,i);case"USER":return function(t,n,i){var r=Va(t,n);if(rD(r)){var e=eD(r);return{id:i,language:Qa(t,n,3),text:e(t,n)}}}(t,n,i);case"USLT":return vD(t,n,i);case"WXXX":return wD(t,n,i);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return dD(t,n,i);default:var r=i.charAt(0);if("T"===r)return dD(t,n,i);if("W"===r)return lD(t,n,i)}}F(),Tt(),F(),Tt();var pD=10;function _D(t,n){return(127&Va(t,n))<<21|(127&Va(t,n))<<14|(127&Va(t,n))<<7|127&Va(t,n)}function bD(t,n){switch(t){case 4:return{f5:Ba(n,0),_5:Ba(n,1),v5:Ba(n,2),m5:Ba(n,3)};case 3:return{f5:Ba(n,0),_5:Ba(n,1),v5:Ba(n,2)};case 2:return{f5:Ba(n,0),g5:Ba(n,1)}}}function kD(t,n,i){switch(i.XD){case 3:i.zD._5&&function(t,n){var i=n.tc,r=Ya(t,n)+4,e=32768&Ha(t,n);n.Sb(i+r),e&&Ya(t,n)}(t,n);break;case 4:i.zD._5&&function(t,n){var i=n.tc,r=_D(t,n);n.Sb(i+r)}(t,n)}}function AD(t,n){if(t.byteLength-n.tc<pD)return null;if(73!==Va(t,n)||68!==Va(t,n)||51!==Va(t,n))return null;var i=Va(t,n),r=Va(t,n);if(!function(t){switch(t){case 2:case 3:case 4:return!0}return!1}(i))return null;var e=Va(t,n),u=_D(t,n);return{XD:i,p5:r,zD:bD(i,e),w5:u}}function TD(t,n,i){switch(i){case 2:return function(t,n){if(!(n.tc+6>t.byteLength))return{o:Qa(t,n,3),Rb:Xa(t,n,3)}}(t,n);case 3:return function(t,n){if(!(n.tc+10>t.byteLength)){var i=Qa(t,n,4),r=Ya(t,n);Va(t,n);var e=Va(t,n);return{o:i,Rb:r,zD:{g5:Ba(e,0),y5:Ba(e,1),groupingIdentity:Ba(e,2)}}}}(t,n);case 4:return function(t,n){if(!(n.tc+10>t.byteLength)){var i=Qa(t,n,4),r=_D(t,n);Va(t,n);var e=Va(t,n);return{o:i,Rb:r,zD:{groupingIdentity:Ba(e,1),g5:Ba(e,4),y5:Ba(e,5),f5:Ba(e,6),b5:Ba(e,7)}}}}(t,n)}}function SD(t){for(var n=_c(t),i=new E(n.byteLength),r=0,e=0;e<n.byteLength;e++){var u=n[e];255===u&&e++,i[r]=u,r++}return pc(Ac(i,0,r))}function ED(t,n){var i=n||new Ec,r=AD(t,i);if(!r)return null;var e=function(t,n,i){var r=[],e=n.tc,u=yc(t,e,e+i.w5),s=new Ec;switch(n.Ab(i.w5),i.XD){case 2:case 3:i.zD.f5&&(u=SD(u))}kD(t,n,i);for(;s.tc<u.byteLength;){var o=ID(u,s,i);if(void 0===o)break;r.push(o)}return r}(t,i,r);return{WD:r,A5:e}}function ID(t,n,i){var r=TD(t,n,i.XD);if(void 0!==r&&0!==r.o.charCodeAt(0)&&0!==r.Rb){var e,u,s=n.tc,o=yc(t,s,s+r.Rb);switch(n.Ab(r.Rb),i.XD){case 2:var a=r;e=mD(u=o,new Ec,a.o);break;case 3:var c=r,h=new Ec;!function(t,n,i){var r,e,u,s=i.zD;s.g5&&(r=Ya(t,n)),s.y5&&(e=Va(t,n)),s.groupingIdentity&&(u=Va(t,n))}(o,h,c),e=yD(u=yc(o,h.tc,o.byteLength),new Ec,c.o);break;case 4:var f=r,v=new Ec;f.zD.f5&&(o=SD(o)),function(t,n,i){var r,e,u,s,o=i.zD;o.groupingIdentity&&(r=Va(t,n)),o.g5&&(e=Ya(t,n)),o.y5&&(u=Va(t,n)),o.b5&&(s=_D(t,n))}(o,v,f),e=yD(u=yc(o,v.tc,o.byteLength),new Ec,f.o)}if(!e){var d=Tc(_c(u));e=sD(r.o,d.buffer)}return e}}F(),Tt();function RD(t){return Yn(t)&&"org.id3"===t.type&&Yn(t.value)}function CD(t){return function(t,n,i){return dD(t,n,i)}(new DataView(t.data),new Ec,t.key)}function ND(t){switch(t.key){case"APIC":case"PIC":return function(t){return{id:t.key,mimeType:t.type,pictureType:16,description:t.info,data:t.data}}(t);case"GEOB":case"GEO":return function(t){return{id:t.key,mimeType:t.type,fileName:t.name,description:t.info,data:t.data}}(t);case"PRIV":return function(t){return{id:t.key,ownerIdentifier:t.info,data:t.data}}(t);case"TXXX":case"TXX":return function(t){return{id:t.key,description:t.info,text:t.data}}(t);case"WXXX":case"WXX":return function(t){return{id:t.key,description:t.info,url:t.data}}(t);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return CD(t);default:var n=t.key.charAt(0);if("T"===n)return function(t){return{id:t.key,text:t.data}}(t);if("W"===n)return function(t){return{id:t.key,url:t.data}}(t)}return function(t){return sD(t.key,t.data)}(t)}F(),Tt(),F(),Tt();var DD=function(t){function n(n,i,r){var e;return void 0===r&&(r=!0),(e=t.call(this)||this).U4=[],e.j4=[],e.qo=Oy.Ch,e.E4=bw.NONE,e.J4=void 0,e.pp=kw.DEFAULT,e.C5=!1,e.D5=0,e.V5=function(){e.T5(),e.SO.removeEventListener("cuechange",e.V5)},e.P5=function(){e.TE!==Oy.Ch&&(e.F5(),e.n5(),e.U4.length&&e.k5(bw.LOADING))},e.W5=function(){e.k5(bw.LOADED)},e.U5=function(){e.k5(bw.ERROR)},e.SO=n,e.I5=r,e.SO.addEventListener("cuechange",e.V5),e.SO.addEventListener("cuechange",e.P5),e.S5=i,e.S5&&(e.J4=gl(e.S5.src),e.S5.addEventListener("load",e.W5),e.S5.addEventListener("error",e.U5)),e.TO=hw(),e.kO=n.label||"",e.H4=new EN(e.U4),e.G4=new EN(e.j4),e.TE=e.E5,Yo((function(){e.P5(),e.k5(bw.NONE)})),e}It(n,t);var i=n.prototype;return i.ma=function(){return Uy(this)},i.uW=function(t){t.Ht!==this&&(t.Ht=this,this.SO.addCue(t.h5),this.P5())},i.JV=function(t){t.Ht===this&&(t.Ht=void 0,this.SO.removeCue(t.h5),this.P5())},i.Z4=function(t){var n,i=null==(n=this.SO.cues)?void 0:n.getCueById(t);if(i){var r=PD(i);return r&&Jn(r)?r[0]:r}},i.$V=function(t){this.D5>=t||(this.D5=t,ep(this,t))},i.T5=function(){var t=this.TE;this.R5||t!==Oy.Jn?this.E5=t:this.E5=Oy.RC},i.N5=function(){var t=this.TE,n=this.E5;t!==n&&(this.R5||t!==Oy.Jn||n!==Oy.RC)&&("metadata"===this.Lt&&n===Oy.Ch?this.TE=t:this.C5&&n===Oy.Ch&&t===Oy.Jn?this.E5=t:this.TE=n)},i.R4=function(t){this.E4!==t&&(this.E4=t,this.yo(new IN(this,t)))},i.k5=function(t){var n=k.max(this.E4,this.x5,t);this.R4(n)},i.M5=function(t){var n=PD(t);if(n)return n;if(Jn(n=this.L5(t)))for(var i=0;i<n.length;i++){n[i].Ht=this}else n.Ht=this;return n},i.L5=function(t){var n=this.B5(t);return t.THEOplayerTextTrackCue=n,n},i.B5=function(t){return t.endTime<this.D5?[]:RD(t)?(this.pw=kw.ID3,function(t){var n;try{n=ND(t.value)}catch(t){n=sD("")}return new iD(t,n)}(t)):function(t){return t&&t.data instanceof ArrayBuffer}(t)?(this.pw=kw.ID3,function(t){var n=[];try{var i=ED(new DataView(t.data));if(i)for(var r=0,e=i.A5;r<e.length;r++){var u=e[r];n.push(new iD(t,u))}}catch(t){}return n}(t)):function(t){return"text"in t}(t)?(this.pw=kw.WEBVTT,function(t){return"regionId"in t}(t)?new JN(t):new qN(t)):new GN(t)},i.O5=function(t){var n=[];if(!t)return n;for(var i=t.length,r=0;r<i;r++){var e,u=this.M5(null!=(e=t[r])?e:t.item(r));if(Jn(u))for(var s=0;s<u.length;s++){var o=u[s];n.push(o)}else n.push(u)}return n},i.F5=function(){for(var t=this.O5(this.SO.cues),n=SN(this.U4,t),i=0,r=n.W4;i<r.length;i++){var e=r[i];e.fn(Cw.eO,this.P5),e.fn(Cw.tO,this.P5),this.yo(new xN(e))}for(var u=0,s=n.V4;u<s.length;u++){var o=s[u];o.yn(Cw.tO,this.P5),o.yn(Cw.eO,this.P5),this.yo(new DN(o))}},i.n5=function(){for(var t=this.O5(this.SO.activeCues),n=SN(this.j4,t),i=0,r=n.W4;i<r.length;i++){r[i].Yh=!1}for(var e=0,u=n.V4;e<u.length;e++){u[e].Yh=!0}(n.V4.length||n.W4.length)&&this.yo(new HN(this))},i.DC=function(t){this.TE=t},i.gn=function(){this.Bo();for(var t=this.U4.slice(),n=0;n<t.length;n++){t[n].gn()}po(this.U4),po(this.j4),this.SO.removeEventListener("cuechange",this.V5),this.SO.removeEventListener("cuechange",this.P5),this.S5&&(this.S5.removeEventListener("load",this.W5),this.S5.removeEventListener("error",this.U5),oi(this.S5))},Nt(n,[{key:"q",get:function(){return this.G4}},{key:"dW",get:function(){return this.S5?this.S5.default:void 0}},{key:"L",get:function(){return this.H4}},{key:"ga",get:function(){return this.Za||(this.Za=this.ma()),this.Za}},{key:"o",get:function(){return this.SO.id||this.S5&&this.S5.id||""}},{key:"TC",get:function(){return this.TO}},{key:"IC",get:function(){return this.SO.inBandMetadataTrackDispatchType||""}},{key:"Lt",get:function(){return this.SO.kind||Gy.qV}},{key:"kh",get:function(){return this.kO},set:function(t){t!==this.kO&&(this.kO=t,void 0!==this.S5&&(this.S5.label=t),this.yo(new ow(this)))}},{key:"gs",get:function(){return this.SO.language||""}},{key:"TE",get:function(){return this.qo},set:function(t){var n=this.TE;this.qo=By(t),this.T5();var i=this.TE;n!==i&&this.yo(new uw(this)),i!==Oy.Ch&&this.k5(bw.LOADING)}},{key:"E5",get:function(){return By(this.SO.mode)},set:function(t){this.SO.mode=t}},{key:"EO",get:function(){return this.SO}},{key:"tI",get:function(){return this.E4}},{key:"x5",get:function(){return this.S5?+this.S5.readyState||bw.NONE:bw.LOADED}},{key:"MC",get:function(){return this.J4}},{key:"pw",get:function(){return this.pp},set:function(t){this.pp!==t&&(this.pp=t,this.yo(new CN(this)))}},{key:"R5",get:function(){return this.I5},set:function(t){var n=this;this.I5=t,t&&(this.C5=!0,g((function(){n.C5=!1}),50)),this.T5()}}]),n}(na);function PD(t){return null==t?void 0:t.THEOplayerTextTrackCue}F(),Tt(),Rt(),F(),Tt();function xD(t,n){return eo(t.eV,n.eV)||function(t,n){return t.Ht===n.Ht?ro(TN(t),TN(n)):ip(t.Ht,n.Ht)}(t.DO,n.DO)||function(t,n){return t===n?io.Zr:t===Cw.tO?io.Dw:io.Pw}(t.type,n.type)}var LD=function(){function t(t,n){var i=this;this.Ul=[],this.Z5=0,this.An=0,this.G5=[],this.s6=[],this.X5=[],this.z5=!1,this.q5=!1,this.Y5=0,this.a6=function(){i.Z5=0,i.l6(),i.r6()},this.d6=function(){i.l6(),i.r6()},this.f6=function(){i.z5=!0,i.d6()},this._6=function(){i.q5=!0,i.Y5=0,i.H5()},this.K5=function(){i.j5(),i.l6(),i.r6()},this.t6=function(t){var n=t.DO;mo(i.s6,n)||i.s6.push(n),i.c6(n),i.n6()},this.e6=function(t){var n=t.DO;lo(i.G5,n),lo(i.s6,n),i.c6(n),i.n6()},this.i6=function(t){i.c6(t.DO),i.n6()},this.h6=n,this.ta=t,t.yn(ua.$y,this.d6),t.yn(ua.so,this.f6),t.yn(wp.BL,this.d6),t.yn(ua.Uy,this.d6),t.yn(ua.qy,this._6),t.yn(ua.zy,this.d6),this.n6()}var n=t.prototype;return n.tr=function(){po(this.G5);for(var t=0,n=this.Ul.slice();t<n.length;t++){var i=n[t];this.it(i)}this.H5(),this.Z5=0,this.An=0,po(this.X5),this.z5=!1,this.q5=!1,this.Y5=0},n.tt=function(t){mo(this.Ul,t)||(this.Ul.push(t),t.yn(kg.aa,this.K5),t.TE!==Oy.Ch&&this.j5())},n.it=function(t){lo(this.Ul,t)&&(t.fn(kg.aa,this.K5),t.TE!==Oy.Ch&&this.j5())},n.j5=function(){var t=this.X5,n=this.Ul.filter((function(t){return t.TE!==Oy.Ch}));this.X5=n;for(var i=0;i<t.length;i++){var r=t[i];mo(n,r)||this.Q5(r)}for(var e=0;e<n.length;e++){var u=n[e];mo(t,u)||this.J5(u)}this.Y5=0},n.J5=function(t){if(t.yn(kg.FI,this.t6),t.yn(kg.WI,this.e6),t.yn(kg.GI,this.i6),t.L.V>0){for(var n=0,i=t.L.oC;n<i.length;n++){var r=i[n];this.s6.push(r)}this.n6()}},n.Q5=function(t){if(t.fn(kg.FI,this.t6),t.fn(kg.WI,this.e6),t.fn(kg.GI,this.i6),t.L.V>0){for(var n=0,i=t.L.oC;n<i.length;n++){var r=i[n];lo(this.G5,r),lo(this.s6,r)}this.n6()}},n.r6=function(){this.ta.nI||this.ta.ZR?this.H5():this.n6()},n.n6=function(){this.z5&&0!==this.X5.length&&(this.Y5-this.ta.yR>.25*this.ta.zR||this.Z5||(this.Z5=this.h6.o6(this.a6)))},n.H5=function(){this.Z5&&(this.h6.u6(this.Z5),this.Z5=0)},n.c6=function(t){0!==this.Y5&&(t.Yh!==pN(t,this.ta.yR)?this.Y5=0:this.An<t.LO&&t.LO<this.Y5?this.Y5=t.LO:this.An<t.BO&&t.BO<this.Y5&&(this.Y5=t.BO))},n.l6=function(){if(this.z5&&0!==this.X5.length&&!this.ta.nI){var t=this.X5,n=this.An,i=this.ta.yR,r=i-n<-.1,e=this.q5||r;e&&i>n&&i-n<.1&&(e=!1),this.q5=!1;for(var u=[],s=1/0,o=0;o<t.length;o++){var a=t[o],c=a.n5(i,e);c<s&&(s=c);for(var h=0,f=a.q.oC;h<f.length;h++){var v=f[h];u.push(v)}}var d=this.G5.slice();if(e);else for(var l=0;l<t.length;l++){np(t[l],n-wr,i,d)}for(var g=d.length-1;g>=0;g--)mo(u,d[g])&&go(d,g);var w=[];if(!e)for(var m=d.length-1;m>=0;m--){var y=d[m];y.LO>n&&y.BO<=i&&(w.push(y),go(d,m))}for(var p=0,_=this.s6;p<_.length;p++){var b=_[p];b.LO!==b.BO&&lo(w,b)}po(this.s6);for(var A=[],T=[],S=0;S<w.length;S++){var E=w[S];E.Yh||A.push(new ON(E,E.LO)),A.push(new VN(E,k.max(E.LO,E.BO))),E.Yh=!1}for(var I=0;I<d.length;I++){var R=d[I];R.Yh&&(A.push(new VN(R,k.max(R.LO,R.BO))),R.Yh=!1)}for(var C=0;C<u.length;C++){var N=u[C];N.Yh||(A.push(new ON(N,N.LO)),N.Yh=!0)}A.sort(xD);for(var D=0;D<A.length;D++){var P=A[D],x=P.DO;x.yo(P);var L=x.Ht;L&&(P.type===Cw.tO?L.yo(new UN(x)):L.yo(new ZN(x)),mo(T,L)||T.push(L))}T.sort(ip);for(var M=0;M<T.length;M++){var O=T[M];O.yo(new HN(O))}this.An=i,this.G5=u,this.Y5=s}},n.gn=function(){this.tr(),this.ta.fn(ua.$y,this.d6),this.ta.fn(ua.so,this.f6),this.ta.fn(wp.BL,this.d6),this.ta.fn(ua.Uy,this.d6),this.ta.fn(ua.qy,this._6),this.ta.fn(ua.zy,this.d6)},t}();F(),Tt();var MD=function(){function t(){}var n=t.prototype;return n.o6=function(t){return $E(t)},n.u6=function(t){tI(t)},t}(),OD=new MD,BD=function(t){function n(n,i){return void 0===i&&(i=OD),t.call(this,n,i)||this}return It(n,t),n}(LD);F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt();var VD=function(t){function n(n,i,r){return t.call(this,n,1/0,i,!1,r)||this}return It(n,t),n.prototype.$O=function(t){return QN(this,t)},Nt(n,[{key:"ga",get:function(){return this.Za||(this.Za=nD(this)),this.Za}}]),n}(Ww);F(),Tt(),Rt(),F(),Tt(),Rt();var FD=function(t){function n(n,i,r){return void 0===r&&(r=kw.DEFAULT),t.call(this,Gy.jV,"",i||"","",!1,r,!1,n)||this}return It(n,t),n}(MN),UD=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).pw=kw.ID3,r}It(n,t);var i=n.prototype;return i.uW=function(n){$N(n,this.U4),t.prototype.uW.call(this,n)},i.ma=function(){return Uy(this)},n}(FD),WD=function(t){function n(n){var i;return(i=t.call(this,n.inBandMetadataTrackDispatchType,n.label)||this).D5=0,i.P5=function(){i.TE!==Oy.Ch&&(i.F5(),i.k5(bw.LOADED))},i.SO=n,i.SO.addEventListener("cuechange",i.P5),i.TE=i.E5,Yo((function(){i.P5()})),i}It(n,t);var i=n.prototype;return i.K4=function(n){t.prototype.K4.call(this,n),this.E5=this.TE},i.uW=function(n){t.prototype.uW.call(this,n),n.h5.track!==this.SO&&this.SO.addCue(n.h5)},i.JV=function(n){t.prototype.JV.call(this,n),n.h5.track===this.SO&&this.SO.removeCue(n.h5)},i.$V=function(t){this.D5>=t||(this.D5=t,ep(this,t))},i.k5=function(t){this.tI=k.max(this.tI,t)},i.F5=function(){var t=this.SO.cues;if(t){for(var n=t.length,i=[],r=[],e=0;e<n;e++){var u,s=null!=(u=t[e])?u:t.item(e);if(RD(s)&&s.endTime>=this.D5){var o,a=null!=(o=null==s?void 0:s.THEOplayerTextTrackCue)?o:new ZD(s);i.push(a)}else r.push(s)}$s(i,_N);for(var c=SN(this.L.oC.slice(),i),h=0;h<r.length;h++){var f=r[h];this.SO.removeCue(f)}for(var v=0,d=c.W4;v<d.length;v++){var l=d[v];l.gn(),this.JV(l)}for(var g=0,w=c.V4;g<w.length;g++){var m=w[g];this.uW(m)}}},i.gn=function(){this.SO.removeEventListener("cuechange",this.P5),t.prototype.gn.call(this)},Nt(n,[{key:"o",get:function(){return this.SO.id||""}},{key:"IC",get:function(){return this.SO.inBandMetadataTrackDispatchType||""}},{key:"gs",get:function(){return this.SO.language||""}},{key:"E5",get:function(){return By(this.SO.mode)},set:function(t){this.SO.mode=t}},{key:"EO",get:function(){return this.SO}}]),n}(UD),ZD=function(t){function n(n){var i,r=n.startTime,e=ND(n.value);return(i=t.call(this,r,e,n.id)||this).h5=n,i.h5.THEOplayerTextTrackCue=i,i}return It(n,t),n.prototype.gn=function(){t.prototype.gn.call(this),this.h5.THEOplayerTextTrackCue=void 0},n}(VD);function XD(t){return"TXXX"===t.id||"TXX"===t.id}F(),Tt(),Gt(),Rt(),qt(),F(),Tt();var GD=function(t){function n(n,i){var r,e;return r=t.call(this)||this,e=r,r.oW=n,r.m6=i,r.y6=is(),r.BG=Zt((function(t){var n;return Ht(this,(function(i){switch(i.label){case 0:return(n=t.Ht).pw?[3,2]:[4,n.uy(kg.$I)];case 1:i.sent(),i.label=2;case 2:if(n.pw!==kw.ID3)return[2];i.label=3;case 3:return 0!==n.L.V?[3,5]:[4,n.uy(kg.FI)];case 4:return i.sent(),[3,3];case 5:return e.p6(n),[2]}}))})),r.OG=function(t){var n=t.Ht;if(n.pw===kw.ID3&&r.y6.has(n.TC)){var i=r.y6.get(n.TC);r.it(i),r.oW.lW(i),n.fn(kg.FI,r.A6)}},r.A6=function(t){HD(t.DO)&&r.b6(t.DO)},r.v6(),r}It(n,t);var i=n.prototype;return i.v6=function(){this.m6.yn(mg.MI,this.BG),this.m6.yn(mg.BI,this.OG)},i.g6=function(){this.m6.fn(mg.MI,this.BG),this.m6.fn(mg.BI,this.OG)},i.p6=function(t){var n=t.L.oC[0];if(HD(n)){var i=function(t){var n=t.match(zD);if(!n)return;return{Ht:n[1],gs:n[2]}}(n.U.description),r=i.Ht,e=i.gs;if(!this.w6(r,e)){var u=this.oW.DI(Gy.qV,t.o,r,e,!1,kw.TTML);this.tt(u),this.y6.set(t.TC,u);for(var s=0,o=t.L.oC;s<o.length;s++){var a=o[s];HD(a)&&this.b6(a)}t.yn(kg.FI,this.A6)}}},i.w6=function(t,n){return this.Z.oC.some((function(i){return i.kh===t&&i.gs===n}))},i.b6=function(t){if(t.Ht)for(var n=this.y6.get(t.Ht.TC),i=Sy(t.U.text,n,{RV:0,CV:1/0,PV:t.LO}),r=0;r<i.length;r++){var e=i[r];n.uW(e)}},i.tr=function(){var n=this;return Zt((function(){var i,r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:for(i=0,r=n.m6.oC;i<r.length;i++)r[i].fn(kg.FI,n.A6);for(e=0,u=n.Z.oC;e<u.length;e++)s=u[e],n.oW.lW(s);return n.y6.clear(),[4,t.prototype.tr.call(n)];case 1:return o.sent(),[2]}}))}))()},i.gn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.g6(),[4,t.prototype.gn.call(n)];case 1:return i.sent(),[2]}}))}))()},n}(sp);function HD(t){return function(t){return XD(t)&&zD.test(t.description)}(t.U)}var zD=/^Track:(.+),Lang:(.+)$/;F(),Tt(),Gt(),Dt(),Rt(),at(),qt(),on(),F(),Tt();var YD=[ua.wy,ua.py,ua.ib,ua.ob];F(),Tt(),Dt(),Rt();var jD=function(t){function n(n){var i;return(i=t.call(this,ua.py)||this).errorObject=n,i}return It(n,t),Nt(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(ea);F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Rt();var KD=function(t){function n(n){var i;return(i=t.call(this,ua.wy)||this).S6=n,i}return It(n,t),n}(ea);F(),Tt(),Rt();var qD=function(t){function n(n){var i;return(i=t.call(this,"sb")||this).S6=n,i}return It(n,t),n}(ea),JD=new ad,QD=function(t){function n(n){var i;return(i=t.call(this,"Ws")||this).session=n,i}return It(n,t),n}(ea),$D=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).C6=n,e.R6=i,e.I6=r,e.E6=!1,e.L6=!1,e.OT=new Ho,e.k6=!1,e.eT=function(t){if(!e.OT.Bw.Nw)switch(t.mb){case"license-request":case"license-renewal":e.jW(t._b,t.gb).catch((function(t){return e.Ss(t)}));break;default:e.Ss(new qg(Qv.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.mb))}},e.N6=function(t){e.C6.fb.Db((function(t,n){switch(t){case"usable":Kn.Fg((function(){e.L6=!0,e.yo(new KD(n))}),100);break;case"expired":case"status-pending":default:break;case"output-restricted":case"internal-error":e.yo(new qD(n))}})),e.k6=!0,e.yo(t)},e.M6=function(t){e.Ss(new qg(Qv.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},n.yn("_b",e.eT),n.yn(ua.ob,e.N6),n.yn("lt",e.M6),n.GS.then((function(){return e.D6()}),(function(t){return e.Ss(t)})),e}It(n,t);var i=n.prototype;return i.KS=function(){var t=this;return this.E6=!0,JD.Wo((function(n){return t.x6(n)}),this.OT.Bw)},i.x6=function(t){var n=this;return Zt((function(){var i,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return s.trys.push([0,4,,5]),Oo(t),[4,n.R6.GW(t)];case 1:return s.sent(),[4,n.R6.ZW(n.I6.yw,n.I6.bb,t)];case 2:return i=s.sent(),[4,n.C6.KS(n.I6.yw,n.I6.bb,i)];case 3:return s.sent(),[3,5];case 4:throw Bo(r=s.sent()),e=r instanceof zc?r.Fb:void 0,u=new qg(Qv.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",r,void 0,void 0,void 0,void 0,e),n.Ss(u),u;case 5:return[2]}}))}))()},i.jW=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return c.trys.push([0,5,,6]),function(t){return Dc(t,Xc())}(t)?[4,i.R6.rU(new E(t),i.OT.Bw)]:[3,2];case 1:return r=c.sent(),[3,4];case 2:return[4,i.R6.oU(new E(t),n,i.OT.Bw)];case 3:r=c.sent(),c.label=4;case 4:return[3,6];case 5:if(Mo(e=c.sent()))return[2];throw e;case 6:if(i.OT.Bw.Nw)return[2];u=i.P6,s=new Zc,i.P6=s,c.label=7;case 7:return c.trys.push([7,10,11,14]),[4,i.C6.Yn(r)];case 8:return c.sent(),[4,Jo(100)];case 9:return c.sent(),[3,14];case 10:throw o=c.sent(),a=o instanceof zc?o.Fb:void 0,new qg(Qv.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",o,void 0,void 0,void 0,void 0,a);case 11:return void 0===u?[3,13]:[4,u.Bb];case 12:c.sent(),c.label=13;case 13:return s.Mb(),i.P6===s&&(i.P6=void 0),[7];case 14:return[2]}}))}))()},i.Ss=function(t){var n=t instanceof qg?t:new qg(Qv.CONTENT_PROTECTION_ERROR,t.message,t);this.yo(new jD(n)),this.Ws()},i.D6=function(){this.C6.fn("_b",this.eT),this.C6.fn(ua.ob,this.N6),this.C6.fn("lt",this.M6),this.L6=!1,this.k6=!1,this.OT.Xw(),this.yo(new QD(this))},i.Ws=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:t.Bo(),i.label=1;case 1:return void 0===(n=t.P6)?[3,3]:[4,n.Bb];case 2:i.sent(),i.label=3;case 3:if(t.P6!==n)return[3,1];i.label=4;case 4:return t.D6(),[4,t.C6.Ws().catch(pi)];case 5:return i.sent(),[2]}}))}))()},Nt(n,[{key:"T6",get:function(){return this.k6}}]),n}(na),tP=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).O6=[],e.W6=void 0,e.H6=[],e.Z6=function(t){if(t.type===ua.ob)return null!=e.Y6||(e.Y6=new Wc),t.fb.Db((function(t,n){e.Y6.Pb(n,t)})),void(e.B6&&e.yo(new aa(e.Y6)));e.Ds(t)},e.X6=function(t){t.session.fn(YD,e.Ds),t.session.fn("Ws",e.X6),lo(e.O6,t.session),e.Y6=void 0},e.$S=n,e.nT=i,e.F6=r,e}It(n,t);var i=n.prototype;return i.UW=function(){return this.F6.UW()},i.V6=function(t){return this.W6||(this.W6=this.U6(t)),this.W6},i.U6=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return Oo(t),[4,n.F6.rU(new E(Xc()),t)];case 1:if(i=r.sent(),Oo(t),!n.nT)throw new p("Invalid MediaKeys when setting ServerCertificate");return[4,n.nT.oT(i.buffer)];case 2:return r.sent(),[2]}}))}))()},i.G6=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:if(!n.nT)throw new p("Invalid MediaKeys when creating KeySession");e.label=1;case 1:return e.trys.push([1,,3,4]),n.H6.push(t),[4,n.nT.sT("temporary")];case 2:return i=e.sent(),r=new $D(i,n.F6,t),n.O6.push(r),r.yn(YD,n.Z6),r.yn("Ws",n.X6),[2,r];case 3:return lo(n.H6,t),[7];case 4:return[2]}}))}))()},i.z6=function(t){if(t.q6)return!1;for(var n=0,i=this.O6;n<i.length;n++){if(nP(i[n].I6,t))return!0}for(var r=0,e=this.H6;r<e.length;r++){if(nP(e[r],t))return!0}return!1},i.gn=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.nT=void 0,t.Bo(),n=t.O6.slice(),po(t.O6),[4,et.all(n.map((function(t){return t.Ws()})))];case 1:return i.sent(),t.Y6=void 0,t.F6.Ww(),[2]}}))}))()},Nt(n,[{key:"rT",get:function(){return this.$S}},{key:"B6",get:function(){return this.O6.every((function(t){return t.T6}))}}]),n}(na);function nP(t,n){return!t.q6&&t.yw===n.yw&&Dc(t.bb,n.bb)}var iP=function(t){function n(n){var i;return(i=t.call(this)||this).OT=new Ho,i.Go=new ad,i.IT=void 0,i.F6=void 0,i.qG=void 0,i.$S=void 0,i.u9=function(t){i.e9(t.yw,t.bb,i.OT.Bw).catch((function(t){return i.Ss(t)}))},i.LB=n,i.LB.yn(fa.Ey,i.u9),i}It(n,t);var i=n.prototype;return i.$n=function(t,n){this.qG=t,this.uJ(n)},i.uJ=function(t){this.IT=t,this.j6(this.OT.Bw).catch(Vo)},i.lJ=function(t){this.Q6(t,this.OT.Bw).catch(Vo)},i.Q6=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:if(r=function(r,e){var u,s,o;return Ht(this,(function(a){switch(a.label){case 0:if(u=e[r],void 0===(null==(o=ao(t,(function(t){return t.J6===u.rT.Sw})))?void 0:o.t9))return[2,"continue"];if(null==(s=u.SG)?void 0:s.some((function(t){return Dc(o.t9,t)})))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,i.e9(u.rT.yw,o.t9,n)];case 2:return a.sent(),[2,{v:void 0}];case 3:return Bo(a.sent()),[3,4];case 4:return[2]}}))},Oo(n),!(null==(e=i.IT)?void 0:e.JG))return[2];o=0,a=null!=(s=null==(u=i.IT)?void 0:u.JG)?s:[],h.label=1;case 1:return o<a.length?[5,zt(r(o,a))]:[3,4];case 2:if("object"===U(c=h.sent()))return[2,c.v];h.label=3;case 3:return o++,[3,1];case 4:return[2]}}))}))()},i.j6=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return Kn.Ys.Yg?[4,n.i9(t)]:[3,2];case 1:if(i.sent())return[2];i.label=2;case 2:return n.IT&&n.IT.s9?[4,n.n9(t)]:[3,4];case 3:return[2,i.sent()];case 4:return[2]}}))}))()},i.i9=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c,h,f,v;return Ht(this,(function(d){switch(d.label){case 0:if(!(null==(i=n.IT)?void 0:i.JG))return[2,!1];e=!1,s=0,o=null!=(u=null==(r=n.IT)?void 0:r.JG)?u:[],d.label=1;case 1:if(!(s<o.length))return[3,9];a=o[s],h=0,f=null!=(c=a.SG)?c:[],d.label=2;case 2:if(!(h<f.length))return[3,7];v=f[h],d.label=3;case 3:return d.trys.push([3,5,,6]),[4,n.e9(a.rT.yw,v,t)];case 4:return d.sent(),e=!0,[3,6];case 5:return Bo(d.sent()),[3,6];case 6:return h++,[3,2];case 7:if(e)return[2,!0];d.label=8;case 8:return s++,[3,1];case 9:return[2,!1]}}))}))()},i.e9=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h,f,v,d;return Ht(this,(function(l){switch(l.label){case 0:if(Oo(i),!n.byteLength)return[2];if(!r.IT||!r.IT.JG.length)throw new qg(Qv.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");if(t!==hs&&t!==vs&&t!==fs)return[2];e=p_(t,n),u=r.IT.JG,o=0,l.label=1;case 1:if(!(o<u.length))return[3,11];if(a=u[o],Oo(i),!(c=e[a.rT.Aw])||a.rT.yw!==t)return[3,10];l.label=2;case 2:return l.trys.push([2,9,,10]),[4,r.r9(a,i)];case 3:return(h=l.sent()).UW()?[4,h.V6()]:[3,5];case 4:l.sent(),l.label=5;case 5:return f=r.LB.NR,v={yw:a.rT.yw,bb:c,q6:f},r.o9(h,v)?[4,h.G6(v)]:[3,8];case 6:return[4,l.sent().KS()];case 7:l.sent(),l.label=8;case 8:return[2];case 9:return Bo(d=l.sent()),s=d,[3,10];case 10:return o++,[3,1];case 11:return[4,Kn.Vp()];case 12:throw l.sent()?new qg(Qv.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",s):new qg(Qv.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",s)}}))}))()},i.n9=function(t){var n=this;return Zt((function(){var i,r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:if(!(r=null==(i=n.IT)?void 0:i.JG))return[2];e=0,o.label=1;case 1:if(!(e<r.length))return[3,8];u=r[e],Oo(t),o.label=2;case 2:return o.trys.push([2,6,,7]),[4,n.r9(u,t)];case 3:return(s=o.sent()).UW()?[4,s.V6()]:[3,5];case 4:o.sent(),o.label=5;case 5:return[2];case 6:return Bo(o.sent()),[3,7];case 7:return e++,[3,1];case 8:return[2]}}))}))()},i.o9=function(t,n){return Kn.Ys.qg||this.LB.GB.UB||!t.z6(n)},i.r9=function(t,n){var i=this;return this.Go.Wo((function(n){return i.h9(t,n)}),n)},i.h9=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:if(Oo(n),!i.IT||!i.F6||!i.qG)throw new p("Not initialized");if(i.$S){if(i.$S.rT!==t.rT)throw new p("Internal key system error");return[2,i.$S]}return r=i.F6,e=$u({},t,{SH:t.SH.map((function(n){var i;return $u({},n,{persistentState:null!=(i=n.persistentState)?i:r.uU(t.rT),_T:n._T||r._T(t.rT)})}))}),[4,i.qG.rJ(e.rT,e.SH)];case 1:return u=a.sent(),s=r.AG(e),(o=new tP(e.rT,u,s)).yn(YD,i.Ds),i.$S=o,[2,o]}}))}))()},i.Ss=function(t){if(!Mo(t)){var n=t instanceof qg?t:new qg(Qv.CONTENT_PROTECTION_ERROR,t.message,t);this.yo(new jD(n))}},i.tr=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.qG=void 0,t.IT=void 0,t.OT.Xw(),t.OT=new Ho,[4,t.a9()];case 1:return n.sent(),[2]}}))}))()},i.a9=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return[4,t.Go.Xw()];case 1:return i.sent(),(n=t.$S)?(n.fn(ua.ib,t.Ds),t.$S=void 0,[4,n.gn()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))()},i.Ww=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.Bo(),t.LB.fn(fa.Ey,t.u9),[4,t.tr()];case 1:return n.sent(),[4,t.Go.gn()];case 2:return n.sent(),[2]}}))}))()},Nt(n,[{key:"K6",get:function(){var t;return null==(t=this.$S)?void 0:t.rT}},{key:"_H",get:function(){return this.F6},set:function(t){this.F6=t}}]),n}(na);F(),Tt(),Rt();var rP=function(t){function n(n){var i;return(i=t.call(this,ua.My)||this).currentTime=n,i}return It(n,t),n}(ea);F(),Tt(),Dt(),Rt();var eP=function(t){function n(n){var i;return(i=t.call(this)||this).d9=n,i}It(n,t);var i=n.prototype;return i.R4=function(){var t;null==(t=this.c9)||t.R4()},i.tr=function(){var t;null==(t=this.c9)||t.tr()},i.Ww=function(){this.Bo(),void 0!==this.c9&&(this.c9.Ww(),this.c9=void 0)},i.l9=function(t){if(this.c9!==t){var n=this.tI;void 0!==this.c9&&this.c9.Ww(),this.c9=t,void 0!==t&&(t.yn(wp.QI,this.Ds),t.R4());var i=this.tI;n!==i&&this.yo(new yp(this.d9.yR,i))}},Nt(n,[{key:"tI",get:function(){return void 0!==this.c9?this.c9.tI:pp.jB}}]),n}(na);F(),Tt(),Dt(),Rt();var uP=function(t){function n(n,i,r){return t.call(this,n,i,"",r,void 0,kw.WEBVTT)||this}It(n,t);var i=n.prototype;return i.f9=function(t,n,i){var r=new Xw(t,n,i,!1);return this.uW(r),r},i._9=function(t){this.JV(t)},Nt(n,[{key:"ga",get:function(){var t;return null!=(t=this.Za)?t:this.Za=sP(this)}}]),n}(MN);function sP(t){return Eg(Uy(t),{get type(){return t.pw},addCue:function(n,i,r){return t.f9(n,i,r).ga},removeCue:function(n){t._9(n.MO)}})}F(),Tt(),Dt(),Rt();var oP=function(t){function n(n,i){var r,e;return(r=t.call(this,n,i)||this).HE=!1,r.v9=[],r.m9=function(){var t;null==(t=r.S5)||t.removeEventListener("load",r.m9),r.HE=!0;for(var n=0,i=r.v9;n<i.length;n++){var e=i[n];r.uW(e)}po(r.v9)},null==(e=r.S5)||e.addEventListener("load",r.m9),r.pw=kw.WEBVTT,r}It(n,t);var i=n.prototype;return i.f9=function(t,n,i){var r=this.L5(new f.VTTCue(t,n,i));return this.HE?this.uW(r):this.v9.push(r),r},i._9=function(t){lo(this.v9,t),this.JV(t)},i.gn=function(){var n;t.prototype.gn.call(this),null==(n=this.S5)||n.removeEventListener("load",this.m9),po(this.v9)},Nt(n,[{key:"ga",get:function(){var t;return null!=(t=this.Za)?t:this.Za=sP(this)}}]),n}(DD),aP=Gn.Fm||Gn.Wm,cP=Gn.Dg,hP=Gn.jm,fP=Gn.jm&&Gn.Ka,vP=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).HG=void 0,u.iZ=!0,u.qG=void 0,u.A8=new ad,u.w9=void 0,u.Zo=new KT,u.Qo=new JT,u.f8=[],u.y9=void 0,u.Q9=0,u.j9=NaN,u.p9=void 0,u.a8=!1,u.C8=void 0,u.b8=0,u.rZ=!1,u.S4=!1,u._7=pp.jB,u.E9=0,u.Y9=et.resolve(),u.q9=new Ho,u.Z9=[],u.Fo=AA.fB(),u.R9=void 0,u.C9=1,u.N9=!1,u.D9=1,u.A9=!1,u.P8=!1,u.D8=!1,u.t8=!1,u.S9=!1,u.T9=!1,u.g9=!1,u.u7=!1,u.M8=0,u.M9=!1,u._8=function(t){var n=t.track,i=u.w8(n);if(!lP(u.d8,n)){if(Gn.jm){if(n.kind===Gy.jV)return void u.g8(n);if(n.kind===Gy.YV&&""===n.label&&""===n.language&&!gP(n))return void u.p8(n,i)}u.d8.tt(new DD(n,i))}},u.v8=function(t){var n=lP(u.d8,t.track);n&&u.d8.it(n)},u.m8=function(){for(var t=0;t<u.d8.V;t++){var n=u.d8.aC(t);n instanceof DD&&n.N5()}},u.T8=function(){if(void 0!==u.qG&&RR(u.qG)&&!u.ZR){var t=u.qG,n=t.K3,i=t.j3;if(n&&i)if(t.SJ)u.x8();else if(t.tI!==rN.G2){var r=n._R,e=i._R;if(0!==r.V||0!==e.V){var s=u.yR;if(s<r.Cn(0)||s<e.Cn(0))u.x8();else if(r.gr(s)!==e.gr(s)){if(t.xJ(s))return;u.E8()}else{if(u.x8(),!u.M8&&u.W9.L4())r.jL(e).eB(s,s+.5)&&(u.M8=$E(u.v7))}}else u.x8()}}},u.v7=function(){u.M8=0,u.T8()},u.k8=function(){if(!u.nI&&!u.A4&&!(u.k9.tI>=pp.JB)&&void 0!==u.qG&&RR(u.qG)){var t=u.qG,n=t.K3,i=t.j3;if(n&&i){var r=u.yR,e=n._R,s=i._R;if(e.gr(r)&&s.gr(r))e.jL(s).eB(r-5,r)&&(u.g9?u.x8():u.I8())}}},u.W8=function(){u.yo(new aT(u.yR))},u.U8=function(){u.z9(new Lo),u.yo(new oT(u.yR))},u.O8=function(){u.U9(),u.yo(new Sp(u.yR))},u.z8=function(){u.I9()},u.Y8=function(){u.yo(new cT(u.ct))},u.H8=function(){u.yo(new BR(u.yR))},u.Z8=function(){u.yo(new VR)},u.J8=function(){u.rZ||u.S4||u.a8?u.a8=!1:u.yo(new dT(u.yR))},u.t7=function(){u.r8(u.yR),u.a8=!1},u.G8=function(){var t=u.yR,n=u.nI,i=u.k9.tI<pp.JB&&!u.kR,r=void 0!==u.C8,e=r&&u.C8!==t;u.y8(),(n||!r||e&&!i)&&u.h8()},u.X8=function(){u.Vj()},u.j8=function(){if(null!==u.YT.error){var t,n=u.YT.error;u.PH(new Qg(null!=(t=n.code)?t:Jg.DECODE,n.message||"Error decoding media",void 0,n.msExtendedCode))}},u.Q8=function(){u.P8&&(u.B8(),u.D8=!0)},u.m7=function(t){if(Kn.Og(u.E9),u.E9=0,t.readyState<=pp.QB)if(u.rZ||u.S4){var n=Kn.Bg()-u.Q9;if(n<250)return void(u.E9=Kn.Fg((function(){return u.m7(t)}),250-n))}else if(void 0!==u.qG&&u.qG.xJ(u.yR))return void(u.E9=Kn.Fg((function(){return u.m7(t)}),250));u._7!==t.readyState&&(u._7=t.readyState,u.yo(t))},u.q8=function(){u.x9()},u.K8=function(){u.cI>0&&u.hI>0&&u.yo(new lp)},u.e7=function(t){u.yo(new va(t.initDataType,t.initData||new ArrayBuffer(0)))},u.i7=function(){u.yo(new da)},u.r7=function(t){var n=t.initData,i=n?Tc(n).buffer:new ArrayBuffer(0);u.yo(new va(hs,i))},u.s7=function(t){if(t.initData){var n=function(t){try{var n=pc(t),i=new Ec;return cc(hc(Ua(n,i,Ya(n,i,!0)),!0))}catch(t){return}}(t.initData);if(!n)return;u.yo(new va(vs,n))}else u.yo(new va(vs,new ArrayBuffer(0)))},u.n7=function(t){var n=t.initData,i=n?Tc(n).buffer:new ArrayBuffer(0);u.yo(new va(hs,i))},u.F9=function(){u.U9()},u.V9=function(t){u.z9(t)},u.g7=function(t){u.yo(t),t.type===ua.py&&u.PH(tw(t.errorObject))},u.YT=n,u.Rw=i,u.Xu=r,u._Z=e,u.k9=new eP(u),u.k9.yn(wp.QI,u.m7),u.k9.l9(new dN(u)),u.W9=new mN(u),u.W9.yn(wp.BL,u.O8),u.cJ=new iP(u),u.cJ.yn(YD,u.g7),u.Ul=new Xy,u.d8=new Xy,u.V8=new Sk([u.Ul,u.d8]),u.F8=new GD(u,u.V8),u.u8=new Sk([u.V8,u.F8.Z]),u.c8=new BD(u),u.N8(),u.TH(),u}It(n,t);var i=n.prototype;return i.b9=function(){return void 0!==this.y9&&this.ct===this.y9},i.I9=function(){var t=this.zR;this.C9!==t&&(this.C9=t,this.yo(new hT(this.yR,t)))},i.x9=function(){var t=this.dI,n=this.FR;this.D9===t&&this.N9===n||(this.D9=t,this.N9=n,this.yo(new lT(this.yR,this.dI)))},i.OR=function(){return aR(this.YT)},i.AI=function(){this.M9||(this.M9=!0);var t=this.L9();return this.B9(),t},i.B9=function(){this.S9?this.T9&&(this.T9=!1,this.yo(new aT(this.yR))):this.O9()},i.O9=function(){if(this.w9)this.w9.AI();else{Gn.jm&&!Gn.Ka&&this.YT.preload===GT.YH&&(this.YT.preload=GT.jV);var t=this.zR,n=this.YT.play();t!==this.XG.playbackRate&&(this.zR=t),this.A9=!1,ii(n)?n.then(this.F9,this.V9):this.W9.L4()&&this.U9()}},i.bI=function(){this.S9?this.T9||(this.T9=!0,this.yo(new oT(this.yR))):this.G9()},i.G9=function(){this.w9?this.w9.bI():(this.YT.pause(),this.W9.Yn()),this.H9(new Lo)},i.L9=function(){var t=new Zc;return this.Z9.push(t),t.Bb},i.X9=function(){for(var t=0,n=this.Z9;t<n.length;t++){n[t].Mb(void 0)}po(this.Z9)},i.H9=function(t){for(var n=0,i=this.Z9;n<i.length;n++){i[n].Lb(t)}po(this.Z9)},i.U9=function(){this.S9||this.w9||this.X9()},i.z9=function(t){this.S9||this.w9||this.H9(t)},i.Sb=function(t,n,i){void 0===n&&(n=!1),void 0===i&&(i=!1),this.w9?this.w9.Sb(t,n,i):(this.q9.Xw(),this.q9=new Ho,this.Y9=Uo(this.K9(t,n,i,this.Y9,this.q9.Bw),this.q9).catch(pi))},i.UG=function(t){var n=this.YG;if(n&&!S(n.getTime())){var i=(t.getTime()-n.getTime())/1e3;this.Sb(i)}},i.K9=function(t,n,i,r,e){var u=this;return Zt((function(){var s,o,a,c,h,f,v,d,l,g,w,m,y,p,_,b,A;return Ht(this,(function(T){switch(T.label){case 0:return T.trys.push([0,24,,25]),u.y9=t,u.j9=t,u.Q9=Kn.Bg(),i&&!u.rZ?u.S4=!0:(u.rZ=!0,u.S4=!1),u.A9&&!u.b9()&&(u.A9=!1),u.S4?u.yo(new sN(u.yR)):u.yo(new vT(t)),[4,r.catch(pi)];case 1:return T.sent(),Oo(e),u.qG&&!u.qG.RJ()?(u.J9(),[2]):(u.t8&&u.e8(),u.k9.tI!==pp.jB?[3,3]:[4,u.k9.uy(wp.QI,e)]);case 2:T.sent(),T.label=3;case 3:if(0!==u.YT.seekable.length&&(!fP||u.M9))return[3,9];s={stack:[],error:void 0,hasError:!1},T.label=4;case 4:return T.trys.push([4,6,7,8]),o=Yt(s,Ho.Yw([e]),!1),[4,et.race([jl(u.YT,"timeupdate",o.Bw),Jo(100,o.Bw)])];case 5:return T.sent(),Oo(e),[3,8];case 6:return a=T.sent(),s.error=a,s.hasError=!0,[3,8];case 7:return jt(s),[7];case 8:return[3,3];case 9:c=tN(u._R,t,.05),h=u.iI,f=!0,v=!1,T.label=10;case 10:0,d={stack:[],error:void 0,hasError:!1},T.label=11;case 11:return T.trys.push([11,20,21,22]),(h=u.iI).V>0&&!h.gr(c)&&(c=h.ZL(c),f=!0),n&&!u.YT.fastSeek&&((g=u._R).gr(c)||(w=tN(g,c,1))!==c&&(c=w,f=!0)),hP&&void 0!==(m=u.i8())&&c>m&&(c=m,f=!0),v?[3,14]:void 0!==(y=u.s8())&&c>y?(v=!0,[4,u.n8(y,!1,e)]):[3,14];case 12:return T.sent(),[4,jl(u.YT,"seeked",e)];case 13:T.sent(),Oo(e),f=!0,T.label=14;case 14:return f?(f=!1,[4,u.n8(c,n,e)]):[3,18];case 15:T.sent(),Oo(e),p=u.yR,h=u.iI,c=h.ZL(c),_=1,T.label=16;case 16:return k.abs(c-p)>=wr?(h=u.iI,c=function(t,n,i){void 0===i&&(i=0);if(!n.V)return 0;var r=n.ZL(t),e=dP*i;r===n.Cn(0)?r+=e:r===n.jn(n.V-1)&&(r-=e);return r}(c,h,_),[4,u.n8(c,n,e)]):[3,18];case 17:return T.sent(),Oo(e),p=u.yR,_++,[3,16];case 18:return u.YT.seeking||u.k9.tI<pp.QB?(b=Yt(d,Ho.Yw([e]),!1),[4,et.race([jl(u.YT,"seeked",b.Bw),u.uy([ua.Gy,ua.Sy],b.Bw),u.k9.uy(wp.QI,b.Bw),null==(l=u.qG)?void 0:l.uy(xR.$Q,b.Bw)].filter(Yn))]):[3,23];case 19:return T.sent(),Oo(e),[3,22];case 20:return A=T.sent(),d.error=A,d.hasError=!0,[3,22];case 21:return jt(d),[7];case 22:return[3,10];case 23:return u.J9(),[3,25];case 24:return Mo(T.sent())?[2]:[3,25];case 25:return[2]}}))}))()},i.n8=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:if(Oo(i),e=r.iI,t=e.ZL(t),!r.t8)return[3,8];u=!0,h.label=1;case 1:if(!(u||r.k9.tI<pp.JB))return[3,7];s={stack:[],error:void 0,hasError:!1},h.label=2;case 2:return h.trys.push([2,4,5,6]),(e=r.iI).gr(t)||(t=e.ZL(t),u=!0),u?(u=!1,r.y9=t,r.r8(r.yR),[3,1]):(o=Yt(s,Ho.Yw([i]),!1),[4,et.race([r.uy(ua.Sy,o.Bw),r.k9.uy(wp.QI,o.Bw)])]);case 3:return h.sent(),[3,6];case 4:return a=h.sent(),s.error=a,s.hasError=!0,[3,6];case 5:return jt(s),[7];case 6:return[3,1];case 7:Oo(i),h.label=8;case 8:return c=jl(r.YT,"seeking",i),n&&r.YT.fastSeek?r.YT.fastSeek(t):r.YT.currentTime=t,r.y9=void 0,r.r8(r.yR),r.YT.seeking?[4,c]:[3,10];case 9:h.sent(),h.label=10;case 10:return[2]}}))}))()},i.i8=function(){if(this.qG&&this.qG.SJ){var t=this.qG.TJ,n=this.qG.kJ,i=t&&n?t.Sn(n):t||n;if(i&&0!==i.V){var r=i.Cn(i.V-1),e=i.jn(i.V-1);return k.max(r,e-.001)}}},i.s8=function(){if(this.qG&&this.qG.SJ){var t=this.qG.kJ;if(t&&0!==t.V){var n=t.Cn(t.V-1),i=t.jn(t.V-1)-.02;return i-=.001,k.max(n,i)}}},i.r8=function(t){this.j9!==t&&(this.j9=t,this.S4?this.yo(new sN(t)):this.yo(new vT(t)))},i.J9=function(){var t=this.S4;this.rZ=!1,this.S4=!1,this.Q9=0,this.j9=NaN,this.t8&&this.o8(),t?(this.yo(new rP(this.yR)),this.h8()):(this.yo(new dT(this.yR)),this.a8=!0),this.Vj()},i.e8=function(){this.S9||(this.T9=this.ZR,this.S9=!0,this.G9())},i.o8=function(){this.S9&&(this.S9=!1,this.T9||this.B9())},i.IJ=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.pw===gp.fW&&OR.IJ(i,this.YT))return i;if(i.pw===gp._W&&eN.IJ(i))return i}},i.be=function(){this.iZ=!1,Ti(this.YT)&&(this.YT.style.display="none")},i.ge=function(){this.iZ=!0,Ti(this.YT)&&(this.YT.style.display="block")},i.DI=function(t,n,i,r,e,u,s,o,a){var c=new MN(t,n,i,r,e,u,s,a,o);return this.Ul.tt(c),this.c8.tt(c),c},i.uH=function(t){var n=t.Lt,i=t.kh,r=t.gs;if("function"==typeof this.YT.addTextTrack&&"function"==typeof f.VTTCue){var e=this.l8("data:text/vtt,WEBVTT%0A%0A",n,i,r),u=e.track,s=e.trackElement,o=new oP(u,s);return this.d8.tt(o),this.f8.push(o),o}var a=new uP(n,i,r);return this.Ul.tt(a),this.c8.tt(a),a},i.nH=function(){return!0},i.oH=function(t,n,i,r,e){var u=this.l8(t,n,i,r,e),s=u.track,o=u.trackElement,a=new DD(s,o);return this.d8.tt(a),this.f8.push(a),a},i.l8=function(t,n,i,r,e){var u=v.createElement("track");return u.src=gl(t),u.kind=n,u.label=null!=i?i:"",r&&(u.srclang=r),u.default=!!e,u.id=FE(),this.YT.appendChild(u),{track:this.YT.textTracks.getTrackById(u.id),trackElement:u}},i.lW=function(t){this.Ul.it(t),this.c8.it(t)},i.cH=function(){for(var t=0,n=this.Ul.oC.slice();t<n.length;t++){n[t].gn()}this.Ul.tr();for(var i=0,r=this.f8.slice();i<r.length;i++){var e=r[i];this.d8.it(e),e.gn()}po(this.f8)},i.TH=function(){var t=this.YT.textTracks;t&&t.addEventListener&&(t.addEventListener("addtrack",this._8),t.addEventListener("removetrack",this.v8),t.addEventListener("change",this.m8))},i.fH=function(){var t=this.YT.textTracks;t&&t.removeEventListener&&(t.removeEventListener("addtrack",this._8),t.removeEventListener("removetrack",this.v8),t.removeEventListener("change",this.m8))},i.g8=function(t){t.mode=Oy.RC;var n=new WD(t);this.d8.tt(n),this.c8.tt(n)},i.p8=function(t,n){var i=this,r=function(){gP(t)&&(t.removeEventListener("cuechange",r),i.d8.tt(new DD(t,n)))};t.addEventListener("cuechange",r),t.mode=Oy.RC},i.w8=function(t){for(var n=this.YT.getElementsByTagName("track"),i=0;i<n.length;i++){var r=n[i]||n.item(i);if(r.track===t)return r}},i.y8=function(){if(0!==this.d8.V){var t=this.iI;if(0!==t.V){var n=t.Cn(0);if(this.b8!==n){for(var i=0,r=this.d8.oC;i<r.length;i++){r[i].$V(n)}this.b8=n}}}},i.$n=function(t){var n=this;return this.A8.Wo(Zt((function(i){var r,e;return Ht(this,(function(u){switch(u.label){case 0:if(Oo(i),n.qG)throw new p("Already loaded a media source");if(t.pw===gp.fW)r=new OR(t,n,n.cJ,n.Rw),n.t8=!1,n.k9.l9(n.S8());else{if(t.pw!==gp._W)throw new p("Unsupported configuration");n.t8=aP,e=n.S8(),r=new eN(t,n,e,n.cJ,n.Rw,void 0,n.Y3),n.k9.l9(e),cP&&(n.yn(ua.$y,n.T8),n.k9.yn(wp.QI,n.k8))}return n.qG=r,[4,r.bj()];case 1:return u.sent(),[2,r]}}))})))},i.S8=function(){return this.t8?new lN(this):new dN(this)},i.E8=function(){if(!this.g9){var t=this.zR;this.g9=!0,this.zR=t,this.YT.playbackRate=0,this.k9&&this.k9.R4()}},i.x8=function(){if(this.g9){var t=this.zR;this.g9=!1,this.zR=t,this.I8()}},i.I8=function(){this.YT.currentTime=this.YT.currentTime,this.k9&&this.k9.R4()},i.tr=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.rZ=!1,t.S4=!1,t.a8=!1,Kn.Og(t.E9),t.E9=0,t.Fo=AA.fB(),t.q9.Xw(),t.y9=void 0,t.j9=NaN,t.p9=void 0,t.t8=!1,t.S9=!1,t.HG=void 0,t.A9=!1,t.C8=void 0,t.b8=0,t.P8=!1,t.M9=!1,t.D8&&(t.N8(),t.D8=!1),t.H9(new Lo),t.k9.l9(new dN(t)),t.W9.tr(),t.d8.tr(),t.x8(),cP&&(tI(t.M8),t.M8=0,t.fn(ua.$y,t.T8)),[4,t.A8.Xw()];case 1:return n.sent(),[4,t.A8.Wo(Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.qG?[4,t.qG.Ww()]:[3,2];case 1:n.sent(),t.qG=void 0,Gn.Em&&Gn.Rm<3&&t.L8(),n.label=2;case 2:return[2]}}))})))];case 2:return n.sent(),[2]}}))}))()},i.L8=function(){this.B8();var t=this.YT,n=t.parentElement,i=t.tagName.toLowerCase();this.YT=qx(i),this.retainMediaElementState(t),Jx(t),null==n||n.replaceChild(this.YT,t),this.N8(),this.k9.l9(this.S8()),this.W9.fn(wp.BL,this.O8),this.W9.Ww(),this.W9=new mN(this),this.W9.yn(wp.BL,this.O8),this.iZ?this.ge():this.be(),this.yo(new IT),this.yo(new RT)},i.retainMediaElementState=function(t){this.XG.muted=t.muted,this.XG.volume=t.volume},i.Ww=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.D8=!1,t.B8(),t.fH(),[4,t.tr()];case 1:return n.sent(),[4,t.A8.gn()];case 2:return n.sent(),t.W9.Ww(),t.k9.Ww(),[4,t.cJ.Ww()];case 3:return n.sent(),t.cH(),t.Ul.gn(),t.d8.gn(),[4,t.F8.gn()];case 4:return n.sent(),t.V8.gn(),t.u8.gn(),t.Bo(),[2]}}))}))()},i.N8=function(){this.XG.addEventListener("play",this.W8),this.XG.addEventListener("pause",this.U8),this.XG.addEventListener("timeupdate",this.G8),this.XG.addEventListener("progress",this.H8),this.XG.addEventListener("loadstart",this.Z8),this.XG.addEventListener("ended",this.X8),this.XG.addEventListener("ratechange",this.z8),this.XG.addEventListener("volumechange",this.q8),this.XG.addEventListener("durationchange",this.Y8),this.XG.addEventListener("resize",this.K8),this.XG.addEventListener("loadedmetadata",this.K8),this.XG.addEventListener("error",this.j8),this.XG.addEventListener("emptied",this.Q8),this.XG.addEventListener("seeked",this.J8),this.XG.addEventListener("seeking",this.t7),Ks()?(this.YT.addEventListener("encrypted",this.e7),this.YT.addEventListener("waitingforkey",this.i7)):void 0!==f.WebKitMediaKeys&&"function"==typeof f.WebKitMediaKeys.isTypeSupported?this.YT.addEventListener("webkitneedkey",this.s7):qs()?this.YT.addEventListener("webkitneedkey",this.n7):void 0!==f.MSMediaKeys&&"function"==typeof f.MSMediaKeys.isTypeSupported&&this.YT.addEventListener("msneedkey",this.r7)},i.B8=function(){this.XG.removeEventListener("play",this.W8),this.XG.removeEventListener("pause",this.U8),this.XG.removeEventListener("timeupdate",this.G8),this.XG.removeEventListener("progress",this.H8),this.XG.removeEventListener("loadstart",this.Z8),this.XG.removeEventListener("ended",this.X8),this.XG.removeEventListener("ratechange",this.z8),this.XG.removeEventListener("volumechange",this.q8),this.XG.removeEventListener("durationchange",this.Y8),this.XG.removeEventListener("resize",this.K8),this.XG.removeEventListener("loadedmetadata",this.K8),this.XG.removeEventListener("error",this.j8),this.XG.removeEventListener("encrypted",this.e7),this.XG.removeEventListener("waitingforkey",this.i7),this.XG.removeEventListener("webkitneedkey",this.s7),this.XG.removeEventListener("webkitneedkey",this.n7),this.XG.removeEventListener("msneedkey",this.r7),this.XG.removeEventListener("emptied",this.Q8),this.XG.removeEventListener("seeked",this.J8),this.XG.removeEventListener("seeking",this.t7)},i.o7=function(){this.w9||(this.Fo=this.KR,this.w9=cN(this),this.B8(),this.w9.yn(oN,this.Ds))},i.h7=function(){if(this.w9){var t=this.w9;this.w9=void 0,this.k9.R4(),hN(this,t),t.Ww(),this.N8()}},i.h8=function(){var t=this.yR;this.yo(new vg(t,void 0)),this.C8=t},i.Vj=function(){this.A9||!this.kR||this.nI||(this.A9=!0,this.yo(new fT(this.yR)))},i.PH=function(t){this.HG=t,this.H9(this.HG),this.yo(new yN(this.HG))},i.l7=function(){this.u7||($x(this.YT,Kn.Ys),this.u7=!0)},i.d7=function(t){t.appendChild(this.YT)},i.Q2=function(){cP&&this.T8(),this.k9.R4()},i.xI=function(){this.cJ.a9().catch(pi),this.d8.tr()},Nt(n,[{key:"C4",get:function(){return this.g9}},{key:"_R",get:function(){return this.qG?this.qG._R:AA.fB()}},{key:"mR",get:function(){var t=this.YG;if(t&&!S(t.getTime())){var n=1e3*this.yR;return new Date(t.getTime()+n)}}},{key:"YG",get:function(){if(this.XG.getStartDate)return this.rZ&&this.p9||(this.p9=this.XG.getStartDate()),this.p9}},{key:"yR",get:function(){return this.w9?this.w9.yR:void 0!==this.y9?this.y9:this.YT.currentTime}},{key:"Uu",get:function(){return this.Xu}},{key:"ct",get:function(){return this.w9?this.w9.ct:this.qG?this.qG.ct:this.YT.duration}},{key:"kR",get:function(){return this.nI?this.b9():this.w9?this.w9.kR:this.YT.ended||this.A9}},{key:"lt",get:function(){return this.HG}},{key:"XG",get:function(){return this.YT}},{key:"ZR",get:function(){return this.S9?this.T9:this.w9?this.w9.ZR:this.YT.paused}},{key:"KR",get:function(){return this.Fo.KL(AA.xn(this.YT.played))}},{key:"Ti",get:function(){return this.YT.offsetHeight*Kn.Ys.Xg}},{key:"ji",get:function(){return this.YT.offsetWidth*Kn.Ys.Xg}},{key:"wa",get:function(){return this.Zo}},{key:"aH",get:function(){return this.Qo}},{key:"tI",get:function(){return this.k9.tI}},{key:"iI",get:function(){return this.qG?this.qG.iI:AA.fB()}},{key:"nI",get:function(){return this.w9?this.w9.nI:this.rZ||this.YT.seeking&&!this.S4}},{key:"A4",get:function(){return this.w9?this.w9.A4:this.S4}},{key:"M4",get:function(){return 0!==this.E9}},{key:"FR",get:function(){return this.w9?this.w9.FR:this.YT.muted},set:function(t){this.w9?this.w9.FR=t:(this.YT.muted=t,this.x9())}},{key:"zR",get:function(){return this.w9?this.w9.zR:void 0!==this.R9?this.R9:this.YT.playbackRate},set:function(t){this.w9?this.w9.zR=t:this.ZR||this.g9?(this.R9=t,this.I9()):(this.R9=void 0,this.YT.playbackRate=t,this.I9())}},{key:"P9",get:function(){return this.iZ}},{key:"dI",get:function(){return this.w9?this.w9.dI:this.YT.volume},set:function(t){this.w9?this.w9.dI=t:(this.YT.volume=t,this.x9())}},{key:"nt",get:function(){return this.u8}},{key:"Ll",get:function(){return this._Z}},{key:"NR",get:function(){return!!this.YT.webkitCurrentPlaybackTargetIsWireless}},{key:"a7",get:function(){return this.u7}},{key:"GB",get:function(){return $u({},IR)}},{key:"_H",get:function(){return this.cJ._H},set:function(t){this.cJ._H=t}},{key:"f7",get:function(){return this.Y3},set:function(t){this.Y3=t}},{key:"K6",get:function(){return this.cJ.K6}},{key:"gI",get:function(){return this.P8},set:function(t){this.P8=t,this.D8&&!this.P8&&(this.D8=!1,this.N8())}}]),n}(na);var dP=.01;function lP(t,n){for(var i=0,r=t.oC;i<r.length;i++){var e=r[i];if(e.EO===n)return e}}function gP(t){return!!t.cues&&t.cues.length>0}F(),Tt(),Dt(),Rt();var wP={LQ:void 0,BQ:void 0,OQ:void 0,FQ:void 0,VQ:void 0,WQ:void 0,UQ:void 0,GQ:void 0,HQ:void 0,ZQ:void 0},mP=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Za=void 0,n}return It(n,t),Nt(n,[{key:"ga",get:function(){return this.Za||(this.Za=bR(this)),this.Za}},{key:"LQ",get:function(){}},{key:"BQ",get:function(){}},{key:"OQ",get:function(){}},{key:"FQ",get:function(){}},{key:"VQ",get:function(){}},{key:"WQ",get:function(){}},{key:"p7",get:function(){}},{key:"UQ",get:function(){}},{key:"GQ",get:function(){}},{key:"HQ",get:function(){}},{key:"ZQ",get:function(){}}]),n}(na),yP=function(t){function n(n,i,r){return t.call(this,n,i,r,new mP)||this}return It(n,t),n.prototype.wI=function(){},Nt(n,[{key:"hI",get:function(){return 0}},{key:"cI",get:function(){return 0}}]),n}(vP);F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Dt();var pP=function(){function t(t){void 0===t&&(t=5);var n=f.document.createElement("div");n.className="theoplayer-texttracks",n.style.position="absolute",n.style.display="none",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.width="100%",n.style.height="100%",n.style.lineHeight="1.3em",n.style.zIndex=""+t,this.w7=n,this.ge()}var n=t.prototype;return n.be=function(){this.w7.style.display="none"},n.ge=function(){this.w7.style.display="block"},n.d7=function(t){t.appendChild(this.w7)},n.gn=function(){oi(this.w7)},Nt(t,[{key:"we",get:function(){return this.w7}}]),t}();function _P(t,n){return $u({},n,Ng(function(t){return{LQ:t.LQ,BQ:t.BQ,OQ:t.OQ,FQ:t.FQ,VQ:t.VQ,WQ:t.WQ,UQ:t.UQ,GQ:t.GQ,HQ:t.HQ,ZQ:t.ZQ}}(t)))}function bP(t){return t.OQ&&Vs(t.OQ,"%")?Number(t.OQ.replace("%",""))/100:t.OQ&&Vs(t.OQ,"em")?Number(t.OQ.replace("em","")):1}F(),Tt(),Dt(),F(),Tt(),Rt(),nn(),Ut(),F(),Tt(),Dt(),F(),Tt(),F(),Tt(),Dt();var kP=function(){function t(t,n,i,r){this.b7=t,this.S7=n,this.ji=i,this.Ti=r}var n=t.prototype;return n.T7=function(t){return this.b7<t.y7&&this.y7>t.b7&&this.S7<t.A7&&this.A7>t.S7},n.bO=function(t){return this.b7<=t.b7&&t.y7<=this.y7&&this.S7<=t.S7&&t.A7<=this.A7},n.Tb=function(){return new t(this.b7,this.S7,this.ji,this.Ti)},n.k7=function(n){return new t(this.b7+n,this.S7+n,k.max(0,this.ji-2*n),k.max(0,this.Ti-2*n))},n.E7=function(n){var i=k.min(this.b7,n.b7),r=k.max(this.y7,n.y7),e=k.min(this.S7,n.S7);return new t(i,e,r-i,k.max(this.A7,n.A7)-e)},Nt(t,[{key:"y7",get:function(){return this.b7+this.ji},set:function(t){this.b7=t-this.ji}},{key:"A7",get:function(){return this.S7+this.Ti},set:function(t){this.S7=t-this.Ti}}]),t}(),AP=function(){function t(t,n,i,r,e){var u=this;this.U7=is(),this.stt=!0,this.N7=$u({},wP),this.ott=[],this.G7=function(t){return u.uW(t.DO)},this.H7=function(t){return u.JV(t.DO)},this.Z7=function(){return u.ttt()},this.q7=function(t){return u.Q7(t.DO)},this.Y7=function(t){return u.J7(t.DO)},this.K7=function(t){return u.ntt(t.DO)},this.L7=function(t){return u.re(t.width,t.height)},this.zO=t,this.O7=this.P7=e,this.YT=this.ltt(i),this.Xu=r,n.appendChild(this.YT)}var n=t.prototype;return n.x7=function(t){var n=this.R7(t);if(!n)return!1;for(var i=0;i<n.length;i++){oi(n[i])}return this.I7(t),!0},n.bj=function(){var t=this;this.M7(),this.zO.L.oC.forEach((function(n){return t.uW(n)})),this.Uu.yn(eI.pn,this.L7),this.re(this.Uu.Su,this.Uu.Tu)},n.B7=function(t){this.N7=t,this.P7=_P(this.N7,this.O7),this.P7.LQ&&(this.XG.style.fontFamily=this.P7.LQ),this.re(this.Uu.Su,this.Uu.Tu),this.F7(!0)},n.V7=function(){return this.P7},n.W7=function(t){return this.U7.has(t.TC)},n.M7=function(){this.zO.yn(kg.FI,this.G7),this.zO.yn(kg.WI,this.H7),this.zO.yn(kg.aa,this.Z7)},n.X7=function(){this.zO.fn(kg.FI,this.G7),this.zO.fn(kg.WI,this.H7),this.zO.fn(kg.aa,this.Z7)},n.z7=function(t){t.yn(Cw.tO,this.q7),t.yn(Cw.eO,this.Y7),t.yn(Cw.eC,this.K7)},n.j7=function(t){t.fn(Cw.tO,this.q7),t.fn(Cw.eO,this.Y7),t.fn(Cw.eC,this.K7)},n.uW=function(t){this.z7(t),t.Yh&&this.Q7(t)},n.JV=function(t){this.j7(t),this.J7(t)},n.ttt=function(){this.zO.TE===Oy.Jn?this.ett():this.itt()},n.ett=function(){if(this.stt){this.stt=!1;var t=this.Uu.Su,n=this.Uu.Tu;this.re(t,n),this.F7(!1)}},n.itt=function(){this.stt||(this.stt=!0,this.F7(!0))},n.Q7=function(t){this.stt||t.Yh&&!this.W7(t)&&this.F7(!1)},n.J7=function(t){this.W7(t)&&this.F7(!0)},n.ntt=function(t){(t.Yh||this.W7(t))&&this.F7(!0)},n.F7=function(t){var n=this.ott,i=this.stt?[]:this.zO.q.oC.slice();this.htt(i,n,t),this.ott=i},n.R7=function(t){return this.U7.get(t.TC)},n.att=function(t,n){this.U7.set(t.TC,n)},n.I7=function(t){this.U7.delete(t.TC)},n.utt=function(t){var n=[],i=this.P7;if(void 0!==i.UQ){var r=t.Tb();r.Ti=i.UQ,n.push(r)}if(void 0!==i.GQ){var e=t.Tb();e.Ti=i.GQ,e.A7=t.A7,n.push(e)}return n},n.ctt=function(){return this.ott.slice()},n.gn=function(){var t=this;oi(this.XG),this.U7.clear(),this.X7(),this.zO.L.oC.forEach((function(n){return t.j7(n)})),this.Uu.fn(eI.pn,this.L7)},Nt(t,[{key:"Ht",get:function(){return this.zO}},{key:"XG",get:function(){return this.YT}},{key:"Uu",get:function(){return this.Xu}},{key:"C7",get:function(){return this.P7}},{key:"D7",get:function(){return this.N7}}]),t}();function TP(t,n,i,r,e){var u=t.Tb(),s=u,o=1,a=!1,c=T(getComputedStyle(n).lineHeight)/4;if(!S(c)&&c>0){for(var h=0;h<i.length&&!a;h++){for(;!CP(t,r,i[h],.01)&&(!r.bO(t)||SP(t,e));)RP(t,i[h],c);if(r.bO(t)){s=t.Tb(),a=!0;break}var f=NP(t,r);o>f&&(s=t.Tb(),o=f),t=u.Tb()}r.bO(t)||(s=u.Tb())}n.style.left=(s.b7-r.b7)/r.ji*100+"%",n.style.top=(s.S7-r.S7)/r.Ti*100+"%"}function SP(t,n){return n.some((function(n){return t.T7(n)}))}function EP(t){return new kP(t.left,t.top,t.width,t.height)}var IP=function(t){return t[t.POS_X=0]="POS_X",t[t.NEG_X=1]="NEG_X",t[t.POS_Y=2]="POS_Y",t[t.NEG_Y=3]="NEG_Y",t}({});function RP(t,n,i){switch(n){case 0:t.b7+=i;break;case 1:t.b7-=i;break;case 2:t.S7+=i;break;case 3:t.S7-=i}}function CP(t,n,i,r){switch(i){case 0:return t.y7>n.y7+r;case 1:return t.b7<n.b7-r;case 2:return t.A7>n.A7+r;case 3:return t.S7<n.S7-r}}function NP(t,n){return k.max(0,k.min(t.y7,n.y7)-k.max(t.b7,n.b7))*k.max(0,k.min(t.A7,n.A7)-k.max(t.S7,n.S7))/(t.ji*t.Ti)}F(),Tt();var DP=function(t){return t.Gc='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.Xc='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.Jc='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.Qc='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif',t}({}),PP=function(t){return t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent",t}({});function xP(t){return LP[t||"none"]}var LP={none:"",dropshadow:"#222 2px 2px 3px, #222 2px 2px 4px, #222 2px 2px 5px",raised:"#222 1px 1px, #222 2px 2px, #222 3px 3px",depressed:"#ccc 1px 1px, #ccc 0px 1px, #222 -1px -1px, #222 0px -1px",uniform:"#222 -1px -1px 0, #222 1px -1px 0, #222 -1px 1px 0, #222 1px 1px 0"},MP="monospace, sans-serif",OP="Arial, Helvetica, sans-serif",BP='"Times New Roman", Times, serif',VP=rs({monospace:"monospace",sansSerif:OP,serif:BP,monospaceSansSerif:MP,monospaceSerif:"monospace, serif",proportionalSansSerif:OP,proportionalSerif:BP,default:MP}),FP=16,UP="1.3em",WP=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,wP)||this}It(n,t);var i=n.prototype;return i.ltt=function(t){var n=v.createElement("div");n.className="theoplayer-ttml-texttrack-"+t;var i=n.style;return i.position="absolute",di(i,"flex"),i.flexDirection=i.webkitFlexDirection="column",i.overflow="hidden",i.pointerEvents="none",i.top="0",i.left="0",i.width="100%",i.height="100%",i.fontSize=FP+"px",i.lineHeight=UP,n},i.re=function(t,n){var i=k.min(t/640,n/360),r=FP*i*bP(this.C7);this.XG.style.fontSize=r+"px"},i.htt=function(t,n,i){for(var r,e=0;e<n.length;e++){var u=n[e];!i&&u.Yh||this.x7(u)}var s=[],o=EP(this.XG.getBoundingClientRect());(r=s).push.apply(r,Ft(this.utt(o)));for(var a=0;a<t.length;a++)for(var c=t[a],h=this.mtt(c,s,o),f=0;f<h.length;f++){var v=h[f];s.push(v.k7(.1))}},i.mtt=function(t,n,i){var r=this.R7(t);r||(r=this.gtt(t),this.att(t,r));for(var e=0;e<r.length;e++){var u=r[e];this.XG.appendChild(u)}for(var s=[],o=[IP.POS_Y,IP.NEG_Y,IP.POS_X,IP.NEG_X],a=0;a<r.length;a++){var c=r[a];TP(tx(c),c,o,i,n),s.push(tx(c))}return s},i.gtt=function(t){var n=[],i=t.FV,r=t.DV,e=t.GV,u=t.U,s=t.BV,o=s?k.min(640/s.width,360/s.height):1,a=this.C7;if(0===b.keys(r).length){var c=v.createElement("div");QP(c),ZP(u,i,e,c,c,o,a),XP(c,"body",a),c.firstChild&&n.push(c)}else for(var h=0,f=b.keys(r);h<f.length;h++){var d=f[h],l=v.createElement("div");l.id=d,QP(l),zP(l,"region",r[d],i,o),ZP(u,i,e,l,l,o,a),XP(l,"body",a),l.firstChild&&n.push(l)}return n},i.B7=function(n){return SR(this.XG,n),t.prototype.B7.call(this,n)},n}(AP);function ZP(t,n,i,r,e,u,s){if(Jl(t)&&function(t){var n=t.kx.toUpperCase();return"SPAN"===n||"P"===n||"BR"===n||"DIV"===n||"BODY"===n}(t)){var o=GP(t);if(!o||(null==e?void 0:e.id)===o){var a;if("BODY"===t.kx.toUpperCase())a=e;else{if(a=function(t){var n;switch(t.kx.toUpperCase()){case"BR":n=v.createElement("br");break;case"SPAN":$P(n=v.createElement("span")),HP(n,t);break;case"P":(function(t){$P(t);var n=t.style;n.textAlign="inherit",n.padding="0",n.margin="0"})(n=v.createElement("p")),HP(n,t);break;case"DIV":HP(n=v.createElement("div"),t)}return n}(t),!a)return;r.appendChild(a)}!function(t,n,i,r,e){var u=n.Gx("style");KP(t,n.kx,u,i,r,e),function(t,n,i,r){for(var e=0,u=n.Wx;e<u.length;e++){var s=u[e];qP(t,n.kx,s.kx,s.Ix,i,r)}}(t,n,r,e)}(a,t,n,e,u),function(t,n,i){var r=null==n?void 0:n.Gx("smpte:backgroundImage");if(r){r=r.replace("#","");var e=i&&YP(i,(function(t){return t.Wx.some((function(t){return"id"===t.kx&&t.Ix===r}))}));e&&jP(t,e,n,!0)}!function(t,n){var i=n.m[0];if(!i||"metadata"!==i.kx.toLowerCase())return;var r=i.m[0];jP(t,r,n)}(t,n)}(a,t,i),XP(a,t.kx,s);for(var c=0,h=t.Dx;c<h.length;c++){ZP(h[c],n,i,a,e,u,s)}}}else if(Ql(t)){var f=v.createTextNode(t.Zk);if("SPAN"!==r.nodeName.toUpperCase()){var d=v.createElement("span");$P(d),XP(d,"span",s),d.appendChild(f),r.appendChild(d)}else r.appendChild(f)}}function XP(t,n,i){var r=t.style;switch(i.LQ&&(r.fontFamily=i.LQ),i.BQ&&(r.color=i.BQ),n.toLowerCase()){case"span":i.FQ&&(r.background=i.FQ);break;case"p":case"div":i.VQ&&(r.backgroundColor=i.VQ);break;case"body":i.WQ&&(r.textShadow=xP(i.WQ))}}function GP(t){var n=t.Gx("region");if("p"===t.kx.toLowerCase())return n;for(var i,r=[],e=0,u=t.m;e<u.length;e++){var s=u[e];r.push(GP(s))}return Eo(r),0===r.length?n:1===r.length?null!=(i=r[0])?i:n:void 0}function HP(t,n){var i=n.Hx(my,"id");i&&(t.id=i)}function zP(t,n,i,r,e){KP(t,n,i.style,r,t,e);for(var u=0,s=b.keys(i);u<s.length;u++){var o=s[u];qP(t,n,o,i[o],t,e)}}function YP(t,n){if(n(t))return t;for(var i=0,r=t.m;i<r.length;i++){var e=YP(r[i],n);if(e)return e}return null}function jP(t,n,i,r){void 0===r&&(r=!1),r&&(t.style.width=t.style.height="100%");var e=v.createElement("img");e.src=function(t){var n=t&&t.Dx.length>0?t.Dx[0]:null;return n&&Ql(n)?"data:image/png;base64,"+n.Zk:""}(n),e.id=t.id,e.style.height="100%",e.style.maxWidth="100%",function(t,n){var i=t.style;di(i,"flex"),i.flexDirection=i.webkitFlexDirection="column";var r=n.Gx("smpte:backgroundImageVertical"),e="center";if(r)switch(r.toLowerCase()){case"left":e="flex-start";break;case"center":e="center";break;case"right":e="flex-end";break;case"inherit":e="inherit"}i.justifyContent=i.webkitJustifyContent=e;var u=n.Gx("smpte:backgroundImageHorizontal"),s="center";if(u)switch(u.toLowerCase()){case"left":s="flex-start";break;case"center":s="center";break;case"right":s="flex-end";break;case"inherit":s="inherit"}i.alignItems=i.webkitAlignItems=s}(t,i),t.appendChild(e)}function KP(t,n,i,r,e,u){if(i)for(var s=0,o=i.split(" ");s<o.length;s++){var a=o[s];if(r[a])for(var c=0,h=b.keys(r[a]);c<h.length;c++){var f=h[c];"style"===f.toLowerCase()?KP(t,n,r[a][f],r,e,u):qP(t,n,f,r[a][f],e,u)}}}function qP(t,n,i,r,e,u){var s=t.style;switch(i){case"backgroundColor":s.backgroundColor=r;break;case"color":s.color=r;break;case"direction":s.direction=r;break;case"display":"none"===r&&(s.display="none");break;case"fontFamily":var o;s.fontFamily=null!=(o=VP.get(r))?o:r;break;case"fontSize":var a=r;if(Vs(a,"px")){var c=Number(a.slice(0,-2));a=c*u/FP+"em"}else Vs(a,"c")&&(a=a.replace("c","em"));s.fontSize=a,s.lineHeight&&"inherit"!==s.lineHeight||(s.lineHeight=UP);break;case"fontStyle":s.fontStyle=r;break;case"fontWeight":s.fontWeight=r;break;case"lineHeight":var h=r;if(Vs(h,"px")){var f=Number(h.slice(0,-2));h=f*u+"px"}s.lineHeight=h;break;case"opacity":s.opacity=r;break;case"overflow":s.overflow=r;break;case"padding":s.padding=r;break;case"textAlign":s.textAlign=r;break;case"textDecoration":switch(r){case"lineThrough":s.textDecoration="line-through";break;case"underline":case"overline":s.textDecoration=r;break;case"noUnderline":case"noLineThrough":case"noOverline":s.textDecoration="none"}break;case"unicodeBidi":switch(r){case"bidiOverride":s.unicodeBidi="bidi-override";break;case"normal":case"embed":case"isolate":s.unicodeBidi=r}break;case"visibility":s.visibility=r;break;case"zIndex":s.zIndex=r;break;case"displayAlign":var v;switch(r.toLowerCase()){case"before":v="flex-start";break;case"center":v="center";break;case"after":v="flex-end";break;case"justify":v="space-between";break;default:return}s.justifyContent=s.webkitJustifyContent=v;break;case"extent":var d,l,g=JP(n.toLowerCase())?e:t,w=r.split(" ",2);2===w.length?(d=w[0],l=w[1]):d=l="100%",g&&(g.style.height=l,g.style.width=d);break;case"origin":var m=JP(n.toLowerCase())?e:t,y=tn(r.split(" ",2),2),p=y[0],_=y[1];m&&(p||_)&&(p&&(m.style.left=p),_&&(m.style.top=_));break;case"showBackground":case"textOutline":break;case"wrapOption":switch(r){case"wrap":s.whiteSpace="normal";break;case"noWrap":s.whiteSpace="nowrap"}break;case"writingMode":var b,k,A,T;switch(r){case"lrtb":case"lr":b="horizontal-tb";break;case"rltb":b="horizontal-tb",k="rtl",T="bidi-override";break;case"tbrl":case"tb":b="vertical-rl",A="upright";break;case"tblr":b="vertical-lr",A="upright";break;case"rl":b="horizontal-tb",k="rtl";break;default:return}s.writingMode=b,s.setProperty("-webkit-writing-mode",b),k&&(s.direction=k),A&&(s.textOrientation=A,s.setProperty("-webkit-text-orientation",A)),T&&(s.unicodeBidi=T);break;case"linePadding":if(Vs(r,"c")){var S=r.replace("c","em");s.paddingLeft=s.paddingRight=S}break;case"multiRowAlign":"auto"===r.toLowerCase()?s.textAlign="":s.textAlign=r}}function JP(t){return"div"===t||"p"===t||"span"===t}function QP(t){var n=t.style;di(n,"flex"),n.flexDirection=n.webkitFlexDirection="column",n.top="auto",n.left="5%",n.width="90%",n.height="100%",n.maxHeight="100%",n.maxWidth="100%",n.overflow="visible",n.position="absolute",n.fontFamily=OP,n.color=PP.WHITE,n.background=PP.TRANSPARENT,n.textShadow=xP("uniform"),n.textAlign="start",n.writingMode="horizontal-tb",n.setProperty("-webkit-writing-mode","horizontal-tb"),n.padding="0",n.margin="0",n.fontSize="inherit",n.lineHeight="inherit"}function $P(t){var n=t.style;n.fontFamily="inherit",n.color="inherit",n.fontSize="inherit",n.lineHeight="inherit",n.textShadow="inherit"}function tx(t){var n=EP(t.getBoundingClientRect());if("visible"===getComputedStyle(t).overflow&&t.scrollHeight>t.clientHeight)for(var i=t.children,r=0;r<i.length;r++){var e=i[r];n=n.E7(EP(e.getBoundingClientRect()))}return n}F(),Tt(),Rt(),nn(),Ut(),F(),Tt();var nx=void 0;function ix(t){return nx||(nx=f.document.createElement("textarea")),nx.innerHTML=t,nx.value}function rx(t,n){for(var i="Data",r="",e=[],u=t.charAt(n.tc),s="",o={pw:"starttag",Bx:"",ptt:[]};n.tc<t.length+1;){switch(u=n.tc<t.length?t.charAt(n.tc):"EOF",i){case"Data":switch(u){case"&":var a=t.substring(n.tc).match(/&#?[0-9a-zA-Z]+;/);a?(r+=ix(a[0]),n.Ab(a[0].length-1)):r+="&";break;case"<":if(r)return{pw:"string",U:r};i="Tag";break;case"EOF":return{pw:"string",U:r};default:r+=u}break;case"Tag":switch(u){case"\t":case"\n":case"\f":case" ":i="StartTagAnnotation";break;case".":i="StartTagClass";break;case"/":i="EndTag";break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r=u,i="TimestampTag";break;case">":return n.Ab(1),o;case"EOF":return o;default:r=u,i="StartTag"}break;case"StartTag":switch(u){case"\t":case"\f":case" ":i="StartTagAnnotation";break;case"\n":s=u,i="StartTagAnnotation";break;case".":i="StartTagClass";break;case">":return n.Ab(1),{pw:"starttag",Bx:r,ptt:[]};case"EOF":return{pw:"starttag",Bx:r,ptt:[]};default:r+=u}break;case"StartTagClass":switch(u){case"\t":case"\f":case" ":e.push(s),s="",i="StartTagAnnotation";break;case"\n":e.push(s),s=u,i="StartTagAnnotation";break;case".":e.push(s),s="";break;case">":return n.Ab(1),e.push(s),{pw:"starttag",Bx:r,ptt:e};case"EOF":return e.push(s),{pw:"starttag",Bx:r,ptt:e};default:s+=u}break;case"StartTagAnnotation":switch(u){case"&":i="CharRefInAnnotation";break;case">":n.Ab(1);var c=s.trim();return{pw:"starttag",Bx:r,ptt:e,wtt:c=c.replace(/\s/," ")};default:s+=u}break;case"CharRefInAnnotation":for(var h="",f=n.tc;">"===t.charAt(f);f++)h+=t.charAt(f);s+=h||"&",i="StartTagAnnotation";break;case"EndTag":switch(u){case">":return n.Ab(1),{pw:"endtag",Bx:r};case"EOF":return{pw:"endtag",Bx:r};default:r+=u}break;case"TimestampTag":switch(u){case">":return n.Ab(1),{pw:"timestamp",ytt:r};case"EOF":return{pw:"timestamp",ytt:r};default:r+=u}}n.Ab(1)}return o}var ex=function(t){return t.btt="string",t.Att="starttag",t.Stt="endtag",t.Ttt="timestamp",t}({});function ux(t,n){void 0===t.textContent?t.innerText=n:t.textContent=n}F(),Tt();var sx={BQ:PP.WHITE,LQ:"sans-serif",OQ:"100%",FQ:"rgba(0,0,0,0.8)",VQ:PP.TRANSPARENT,WQ:"none",UQ:void 0,GQ:void 0,HQ:void 0,ZQ:void 0},ox="theoplayer-webvtt-region-",ax="theoplayer-webvtt-styling-",cx="theoplayer-webvtt-default-style",hx=5.23,fx=1.14,vx=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,sx)||this).Rtt=ns(),u.xtt=yx(3),u}It(n,t);var i=n.prototype;return i.ltt=function(t){var n=v.createElement("div");n.className="theoplayer-webvtt-texttrack-"+t,gi(n),n.style.overflow="hidden",n.style.pointerEvents="none";var i=this.C7.LQ;return i&&(n.style.fontFamily=i),n.style.whiteSpace="pre-line",function(){if(v.getElementById(cx))return;for(var t=[],n=0;n<bx.length;n++){var i=tn(bx[n],2),r=i[0],e=i[1];t.push("."+ax+r+" { color: "+e+" !important; }"),t.push("."+ax+"ktt"+r+" { background-color: "+e+" !important; }"),t.push("video::cue(."+r+") { color: "+e+"; }"),t.push("Ett"+r+") { background-color: "+e+"; }")}var u=v.createElement("style");u.id=cx,u.innerHTML=t.join("\n"),v.body.appendChild(u)}(),n},i.bj=function(){this.XG.appendChild(this.xtt),t.prototype.bj.call(this)},i.re=function(t,n){var i=this,r=k.min(t/100,n/100),e=bP(this.C7);this.Rtt.forEach((function(t){var n=t.UO,u=t.Itt;i.Ctt(u,r,e,n)})),this.Ctt(this.xtt,r,e)},i.B7=function(n){SR(this.XG,n),t.prototype.B7.call(this,n)},i.htt=function(t,n,i){for(var r,e=this,u=this.XG,s=this.Uu.Tu/100,o=[],a=0;a<t.length;a++){var c=t[a];void 0!==c.UO&&(mo(o,c.UO)||o.push(c.UO))}this.Rtt.forEach((function(t,n){var r=t.UO,u=t.Itt;!i&&mo(o,r)||(oi(u),e.Rtt.delete(n))}));for(var h=0;h<n.length;h++){var f=n[h];!i&&f.Yh||this.x7(f)}var v=[],d=EP(this.xtt.getBoundingClientRect());(r=v).push.apply(r,Ft(this.utt(d)));for(var l=0;l<o.length;l++){var g=o[l],w=void 0;this.Rtt.has(g.o)?w=this.Rtt.get(g.o).Itt:(w=px(g,s),u.appendChild(w),this.Rtt.set(g.o,{UO:g,Itt:w})),v.push(EP(w.getBoundingClientRect()))}t.sort(kx);for(var m=0;m<t.length;m++){var y=t[m],p=this.mtt(y,v,d);void 0!==p&&v.push(p.k7(.1))}},i.mtt=function(t,n,i){var r,e;t.UO?(e=this.Rtt.get(t.UO.o).Itt,"up"===t.UO.rF&&e.children.length>=1&&(e.style.transitionProperty="top",e.style.transitionDuration="0.433s")):e=this.xtt;var u=null==(r=this.R7(t))?void 0:r[0];if(u||(u=this.Ptt(t),this.att(t,[u])),e.appendChild(u),t.UO||(dx(u,t),t.GO?function(t,n,i,r){var e=_x(t),u=e?i.Ti:i.ji,s=T(getComputedStyle(n).lineHeight);if(0===s||S(s))return;var o=EP(n.getBoundingClientRect()),a=k.round(Gw(t));"rl"===t.Pt&&(a=-(a+1));var c=s*a;"rl"===t.Pt&&(c=c-o.ji+s);a<0&&(c+=u,s=-s);e?o.S7+=c:o.b7+=c;var h=o.Tb(),f=!1;for(;!i.bO(o)||SP(o,r);)if(e)if(s<0&&o.S7<i.S7||s>0&&o.A7>i.A7){if(o.S7=h.S7,f)break;s=-s,f=!0}else o.S7+=s;else if(s<0&&o.b7<i.b7||s>0&&o.y7>i.y7){if(o.b7=h.b7,f)break;s=-s,f=!0}else o.b7+=s;e?n.style.top=(o.S7-i.S7)/i.Ti*100+"%":n.style.left=(o.b7-i.b7)/i.ji*100+"%"}(t,u,i,n):function(t,n,i,r){var e,u=EP(n.getBoundingClientRect());if(0===u.ji||0===u.Ti)return;_x(t)?"center"===t.VO?u.S7-=u.Ti/2:"end"===t.VO&&(u.S7-=u.Ti):"center"===t.VO?u.b7-=u.ji/2:"end"===t.VO&&(u.b7-=u.ji);e=""===t.Pt?[IP.POS_Y,IP.NEG_Y,IP.POS_X,IP.NEG_X]:"lr"===t.Pt?[IP.POS_X,IP.NEG_X,IP.POS_Y,IP.NEG_Y]:[IP.NEG_X,IP.POS_X,IP.POS_Y,IP.NEG_Y];TP(u,n,e,i,r)}(t,u,i,n)),!t.UO)return EP(u.getBoundingClientRect())},i.Ptt=function(t){for(var n=new Ec,i=t.U,r=this.Dtt(t),e={Ntt:void 0,we:r},u=e,s="",o="",a=[e],c=[],h=[];n.tc<i.length;){var f=rx(i,n);if(f.pw===ex.btt){var d=v.createElement("span");ux(d,f.U),lx(d,a),""!==s&&(d.lang=s),this.Mtt(d,o),u.we.appendChild(d)}else if(f.pw===ex.Att){var l=f.Bx.toLowerCase();switch(l){case"i":case"b":case"u":case"ruby":var g=v.createElement(l);u.we.appendChild(g),u={Ntt:f,we:g},a.push(u);break;case"rt":var w;if("ruby"===(null==(w=u.Ntt)?void 0:w.Bx.toLowerCase())){var m=v.createElement("rt");u.we.appendChild(m),u={Ntt:f,we:m},a.push(u)}break;case"c":case"v":u={Ntt:f,we:u.we},a.push(u);break;case"font":var y,p=null==(y=f.wtt)?void 0:y.match(/(?:^| )color=["']([^"']+)/i);p&&(o=p[1],h.push(o),u={Ntt:f,we:u.we},a.push(u));break;case"lang":var _;s=null!=(_=f.wtt)?_:"",c.push(s)}}else if(f.pw===ex.Stt){var b,k=f.Bx.toLowerCase(),A=null==(b=u.Ntt)?void 0:b.Bx.toLowerCase();A===k?(a.pop(),u=a[a.length-1],"font"===k&&(h.pop(),o=h.length>0?h[h.length-1]:"")):"rt"===A&&"ruby"===k?(a.pop(),a.pop(),u=a[a.length-1]):"lang"===k&&(c.pop(),s=c.length>0?c[c.length-1]:"")}else if(f.pw===ex.Ttt){var T=f.ytt,S=new Ec;try{Om(T,S)}catch(t){zr("ERROR collecting timestamp",t)}}}return r},i.Mtt=function(t,n){var i=this.C7,r=this.D7;i.FQ&&(t.style.background=i.FQ);var e=r.BQ||n||i.BQ;e&&(t.style.color=e)},i.Ctt=function(t,n,i,r){if(r){var e=gx(r,n);t.style.height=e*i+"px",t.style.left=wx(r)+"%",t.style.top=mx(r,n)+"px"}t.style.fontSize=hx*n*i+"px"},i.Dtt=function(t){var n=v.createElement("div");n.style.position="absolute",n.style.margin="0",n.style.padding="0",n.style.unicodeBidi="plaintext",n.style.wordWrap="break-word",n.style.overflowWrap="break-word",n.style.width="auto",n.style.textAlign=t.OO,function(t,n){"rl"===n.Pt?t.style.writingMode="vertical-rl":"lr"===n.Pt?t.style.writingMode="vertical-lr":t.style.writingMode="horizontal-tb"}(n,t),function(t,n){var i=Yw(n);_x(n)?(t.style.width=i+"%",t.style.height="auto"):(t.style.height=i+"%",t.style.width="auto")}(n,t),dx(n,t);var i=this.C7.VQ;i&&(n.style.background=i);var r=this.C7.BQ;return r&&(n.style.color=r),n.style.textShadow=xP(this.C7.WQ),n},n}(AP);function dx(t,n){var i,r,e=zw(n),u=Hw(n),s=Yw(n);if(_x(n)){switch(e){case"line-left":i=u;break;case"center":i=u-s/2;break;case"line-right":i=u-s}r=n.GO?0:Gw(n)}else{switch(e){case"line-left":r=u;break;case"center":r=u-s/2;break;case"line-right":r=u-s}i=n.GO?0:Gw(n)}t.style.left=i+"%",t.style.top=r+"%"}function lx(t,n){for(var i=0;i<n.length;i++){var r=n[i];if(r.Ntt){for(var e=0,u=r.Ntt.ptt;e<u.length;e++){var s=u[e];fi(t,ax+s)}"v"===r.Ntt.Bx.toLowerCase()&&r.Ntt.wtt&&fi(t,"theoplayer-webvtt-voice-"+r.Ntt.wtt)}}}function gx(t,n){return t.iF*(hx*n)*fx}function wx(t){return t.oF-t.sF*t.ji/100}function mx(t,n){var i=t.hF,r=t.nF*gx(t,n)/100;return k.max(0,i-r)}function yx(t){var n=v.createElement("div");return n.className=ox+"default",gi(n),n.style.wordWrap="break-word",n.style.writingMode="horizontal-tb",n.style.pointerEvents="none",n.style.width="auto",n.style.height="auto",n.style.maxHeight="100%",n.style.minHeight="0px",n.style.padding="0",n.style.boxSizing="border-box",n.style.fontSize=hx*t+"px",n.style.lineHeight=fx+"em",n}function px(t,n){var i=yx(n);i.className=ox+t.o;var r=t.ji,e=gx(t,n);return i.style.width=r+"%",i.style.height=e+"px",i.style.left=wx(t)+"%",i.style.right="",i.style.top=mx(t,n)+"px",i.style.bottom="",i.style.boxSizing="border-box",i}function _x(t){return""===t.Pt}var bx=[["white","#fff"],["lime","#0f0"],["cyan","#0ff"],["red","#f00"],["yellow","#ff0"],["magenta","#f0f"],["blue","#00f"],["black","#000"]];function kx(t,n){var i=Gw(t),r=Gw(n),e=Ax(i,t.GO),u=Ax(r,n.GO);return e&&u?i-r||_N(n,t)||n.TC-t.TC:_N(t,n)||t.TC-n.TC}function Ax(t,n){return n?t<0?t>-8:t>8:t>50}F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),F(),Tt();var Tx=function(t){return t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics",t}({}),Sx={BQ:PP.WHITE,LQ:DP.Jc,OQ:"100%",FQ:PP.BLACK,VQ:"transparent",WQ:"none",Ltt:"regular",UQ:void 0,GQ:void 0,HQ:void 0,ZQ:void 0},Ex=[{Btt:PP.WHITE,Ltt:"regular",Ott:0},{Btt:PP.WHITE,Ltt:"underline",Ott:0},{Btt:PP.GREEN,Ltt:"regular",Ott:0},{Btt:PP.GREEN,Ltt:"underline",Ott:0},{Btt:PP.BLUE,Ltt:"regular",Ott:0},{Btt:PP.BLUE,Ltt:"underline",Ott:0},{Btt:PP.CYAN,Ltt:"regular",Ott:0},{Btt:PP.CYAN,Ltt:"underline",Ott:0},{Btt:PP.RED,Ltt:"regular",Ott:0},{Btt:PP.RED,Ltt:"underline",Ott:0},{Btt:PP.YELLOW,Ltt:"regular",Ott:0},{Btt:PP.YELLOW,Ltt:"underline",Ott:0},{Btt:PP.MAGENTA,Ltt:"regular",Ott:0},{Btt:PP.MAGENTA,Ltt:"underline",Ott:0},{Btt:PP.WHITE,Ltt:"italics",Ott:0},{Btt:PP.WHITE,Ltt:"underline-italics",Ott:0},{Btt:PP.WHITE,Ltt:"regular",Ott:0},{Btt:PP.WHITE,Ltt:"underline",Ott:0},{Btt:PP.WHITE,Ltt:"regular",Ott:4},{Btt:PP.WHITE,Ltt:"underline",Ott:4},{Btt:PP.WHITE,Ltt:"regular",Ott:8},{Btt:PP.WHITE,Ltt:"underline",Ott:8},{Btt:PP.WHITE,Ltt:"regular",Ott:12},{Btt:PP.WHITE,Ltt:"underline",Ott:12},{Btt:PP.WHITE,Ltt:"regular",Ott:16},{Btt:PP.WHITE,Ltt:"underline",Ott:16},{Btt:PP.WHITE,Ltt:"regular",Ott:20},{Btt:PP.WHITE,Ltt:"underline",Ott:20},{Btt:PP.WHITE,Ltt:"regular",Ott:24},{Btt:PP.WHITE,Ltt:"underline",Ott:24},{Btt:PP.WHITE,Ltt:"regular",Ott:28},{Btt:PP.WHITE,Ltt:"underline",Ott:28}],Ix=[11,-1,1,2,3,4,12,13,14,15,5,6,7,8,9,10];function Rx(t,n){return cm(t.Ftt,n.Ftt)||ro(t.JM,n.JM)}F(),Tt(),nn();var Cx=32,Nx=/CC([1-4])=(.*)/;function Dx(t){if(!t)return[];var n=[],i=t.trim().split(";");if(i.every((function(t){return t.match(Nx)})))for(var r=0;r<i.length;r++){var e=tn(i[r].match(Nx),3),u=e[1],s=e[2];n.push({Vtt:Number(u),Wtt:s})}else for(var o=0;o<i.length;o++)n.push({Vtt:o+1,Wtt:i[o]});return n}var Px=function(){function t(t,n,i){this.Htt=t,this.tet=n,this.P7=i}var n=t.prototype;return n.pr=function(){return this.Ktt=this.jtt(),this.Qtt(),this.Jtt(),this.Ktt},n.jtt=function(){var t=v.createElement("div");t.style.position="absolute",t.style.margin="0",t.style.padding="0",t.style.whiteSpace="pre",t.style.width=this.ztt/Cx*this.tet.$tt*100+"%",t.style.height=1.2*this.qtt+"em",t.style.lineHeight="1.2em",t.style.letterSpacing=this.tet.eet?"calc(1em - 1ch)":"";var n=this.P7.LQ;n&&(t.style.fontFamily=n);var i=this.P7.VQ;return i&&(t.style.backgroundColor=i),t},n.Qtt=function(){if(this.Ktt){var t=this.Utt.Ytt/15*100,n=this.Utt.Ott/Cx*100,i=(Cx-this.Ztt.Ott-1)/Cx*100,r=(15-this.Ztt.Ytt-1)/15*100;this.tet.iet||(n=i=1,this.Ktt.style.width="98%"),r<t?this.Ktt.style.bottom=r*this.tet.$tt+"%":this.Ktt.style.top=t*this.tet.$tt+"%",i<n?this.Ktt.style.right=i+"%":this.Ktt.style.left=n+"%"}},n.Jtt=function(){for(var t=this.Htt.net.sort(xx),n=0;n<t.length;n++)this.ret(t[n-1],t[n]),this.oet(t[n]);this.ret(t[t.length-1],void 0)},n.oet=function(n){var i,r=_P(this.P7,n.het),e=t.aet(r);ux(e,n.uet),null==(i=this.Ktt)||i.appendChild(e)},n.ret=function(t,n){var i=t?t.Xtt.Ytt:this.Htt.Gtt.Ytt,r=n?n.Gtt.Ytt:this.Htt.Xtt.Ytt,e=t?t.Xtt.Ott:this.Htt.Gtt.Ott,u=n?n.Gtt.Ott:this.Htt.Xtt.Ott;i<r&&(!n||t&&t.Gtt.Ytt!==n.Gtt.Ytt?this.cet():this.let(this.Htt.Xtt.Ott-e),e=this.Htt.Gtt.Ott),e<u&&(n?this.let(u-e):this.cet())},n.cet=function(){var t,n=v.createElement("br");null==(t=this.Ktt)||t.appendChild(n)},n.let=function(t){var n;if(!(t<=0)){var i=v.createElement("span");i.style.display="inline-block",ux(i,Us(" ",t)),null==(n=this.Ktt)||n.appendChild(i)}},t.aet=function(t){var n=v.createElement("span");n.style.display="inline-block",t.Ltt!==Tx.FONT_ITALICS&&t.Ltt!==Tx.FONT_UNDERLINE_ITALICS||(n.style.fontStyle="italic"),t.Ltt!==Tx.FONT_UNDERLINE&&t.Ltt!==Tx.FONT_UNDERLINE_ITALICS||(n.style.textDecoration="underline");var i=t.BQ;i&&(n.style.color=i);var r=t.FQ;return r&&(n.style.backgroundColor=r),n.style.textShadow=xP(t.WQ),n.style.height="1.2em",n},Nt(t,[{key:"Utt",get:function(){return this.Htt.Gtt}},{key:"Ztt",get:function(){return this.Htt.Xtt}},{key:"ztt",get:function(){return this.Htt.Xtt.Ott-this.Htt.Gtt.Ott+1}},{key:"qtt",get:function(){return this.Htt.Xtt.Ytt-this.Htt.Gtt.Ytt+1}}]),t}();function xx(t,n){return function(t,n){if(t.Ytt!==n.Ytt)return t.Ytt-n.Ytt;return t.Ott-n.Ott}(t.Gtt,n.Gtt)}var Lx=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Sx)||this}It(n,t);var i=n.prototype;return i.ltt=function(t){var n=v.createElement("div");return n.className="theoplayer-cea608-texttrack-"+t,n.style.position="absolute",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="10%",n.style.bottom="10%",this.C7.LQ&&(n.style.fontFamily=this.C7.LQ),n},i.re=function(t,n){this.vl()},i.vl=function(){var t=bP(this.C7);this.det=function(t){return{$tt:t/100,eet:t<=100,iet:t<=150}}(100*t);var n=this.fet/Cx;this._et=n*t,this.XG.style.fontSize=this._et+"px"},i.htt=function(t,n,i){for(var r=0;r<n.length;r++){var e=n[r];!i&&e.Yh||this.x7(e)}for(var u=0;u<t.length;u++){var s=t[u];this.mtt(s)}},i.mtt=function(t){this.det&&this.det.iet?this.vet(80):this.vet(100),this.vl();var n=this.R7(t);n||(n=this.gtt(t),this.att(t,n));for(var i=0;i<n.length;i++){var r=n[i];this.XG.appendChild(r)}},i.gtt=function(t){var n=this;return t.U.map((function(t){return new Px(t,n.det,n.C7).pr()}))},i.vet=function(t){var n=(100-t)/2;this.XG.style.left=n+"%",this.XG.style.width=t+"%"},Nt(n,[{key:"fet",get:function(){var t=this.XG.offsetWidth;return this.det&&this.det.iet||(t*=.8),t}}]),n}(AP),Mx=function(){function t(t,n,i,r,e,u){var s=this;this.pet=[],this.Ret=function(t){var n=t.Ht;n.yn(kg.QI,s.xet),n.yn(kg.$I,s.xet),n instanceof DD&&(n.R5=s.R5),s.ket(n)},this.xet=function(t){var n=t.Ht;s.ket(n)},this.Iet=function(t){var n=t.Ht;n.fn(kg.QI,s.xet),n.fn(kg.$I,s.xet),s.Tet(n)},this.Cet=function(){for(var t=s.R5,n=0,i=s.Ul.oC;n<i.length;n++){var r=i[n];r instanceof DD&&(r.R5=t)}},this.Pet=function(){for(var t=0,n=s.pet;t<n.length;t++){n[t].B7(s._Z)}},this.bet=t,this.Xu=n,this.Ul=i,this.Eet=e,this.Qo=u,this._Z=r,this.Ul.yn(mg.MI,this.Ret),this.Ul.yn(mg.BI,this.Iet),this.Ul.yn(kg.aa,this.xet),this.Eet.yn(YT.aa,this.Cet),this.Qo.yn([CT.tO,CT.eO],this.Cet),this._Z.yn("jI",this.Pet),this.Cet()}var n=t.prototype;return n.met=function(t){for(var n=0,i=this.pet;n<i.length;n++){var r=i[n];if(r.Ht===t)return r}},n.yet=function(t){switch(t.pw){case kw.TTML:return new WP(t,this.bet,t.kh,this.Xu);case kw.SRT:case kw.WEBVTT:return new vx(t,this.bet,t.kh,this.Xu);case kw.CEA608:return new Lx(t,this.bet,t.kh,this.Xu)}},n.Aet=function(t){var n=this.met(t);n||(n=this.yet(t))&&(n.bj(),n.B7(this._Z),this.pet.push(n),t.TE===Oy.Jn&&n.ett())},n.Tet=function(t){for(var n=this.pet,i=n.length-1;i>=0;i-=1){var r=n[i];r.Ht===t&&(r.gn(),go(n,i))}},n.ket=function(n){(function(t){return t===Gy.qV||t===Gy.YV})(n.Lt)&&t.wet(n)&&(n.tI===bw.ERROR?this.Tet(n):this.Aet(n))},n.tr=function(){for(var t=0,n=this.pet;t<n.length;t++){var i=n[t];i.Ht.fn(kg.QI,this.xet),i.Ht.fn(kg.$I,this.xet),i.gn()}po(this.pet)},n.gn=function(){this.tr();for(var t=0,n=this.pet;t<n.length;t++){n[t].gn()}this.Ul.fn(mg.MI,this.Ret),this.Ul.fn(mg.BI,this.Iet),this.Ul.fn(kg.aa,this.xet),this.Eet.fn(YT.aa,this.Cet),this.Qo.fn([CT.tO,CT.eO],this.Cet),this._Z.fn("jI",this.Pet)},t.wet=function(t){switch(t.pw){case kw.TTML:case kw.SRT:case kw.WEBVTT:case kw.CEA608:return!0}return!1},Nt(t,[{key:"R5",get:function(){return this.Eet.cs||this.Qo.iO}}]),t}();F(),Tt(),Gt(),Dt(),Rt(),qt();var Ox=function(t){function n(n){var i;return(i=t.call(this)||this).Net=!1,i.Met=function(){i.Net=!0,i.yo(new NT)},i.Let=function(){i.Net=!1,i.yo(new DT)},i.Det=n,i.Det.addEventListener("enterpictureinpicture",i.Met),i.Det.addEventListener("leavepictureinpicture",i.Let),i}It(n,t);var i=n.prototype;return i.co=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.sO?t.iO?[3,3]:(n=t.uy([CT.tO,CT.ua]),[4,t.Det.requestPictureInPicture()]):[3,4];case 1:return i.sent(),[4,n];case 2:i.sent(),t.Net||t.yo(new qT),i.label=3;case 3:return[3,5];case 4:t.yo(new qT),i.label=5;case 5:return[2]}}))}))()},i.bo=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.sO?t.Net?(n=t.uy([CT.eO,CT.ua]),[4,t.Det.ownerDocument.exitPictureInPicture()]):[3,3]:[3,4];case 1:return i.sent(),[4,n];case 2:i.sent(),t.Net&&t.yo(new qT),i.label=3;case 3:return[3,5];case 4:t.yo(new qT),i.label=5;case 5:return[2]}}))}))()},i.gn=function(){this.Bo(),this.Det.removeEventListener("enterpictureinpicture",this.Met),this.Det.removeEventListener("leavepictureinpicture",this.Let)},Nt(n,[{key:"sO",get:function(){var t;return null!=(t=this.Det.ownerDocument.pictureInPictureEnabled)&&t}},{key:"iO",get:function(){return this.Net}}]),n}(na);function Bx(t){var n=new kI,i=function(t){var n=[];return _I.na(t)&&n.push(new _I(t)),bI.na(t)&&n.push(new bI(t)),n}(t);if(i.length>0){for(var r=0;r<i.length;r++){var e=i[r];n.oK(e)}n.rK(i[0])}return n}var Vx=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e)||this).Bet=Bx(n),u.Oet=new Ox(n),u.Fet=new pP,u.Vet=new Mx(u.Fet.we,u.Uu,u.nt,u.Ll,u.wa,u.aH),u}It(n,t);var i=n.prototype;return i.wI=function(){return this.YT},i.Ww=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.Oet.gn(),n.Bet.gn(),n.Fet.gn(),n.Vet.gn(),[4,t.prototype.Ww.call(n)];case 1:return i.sent(),[2]}}))}))()},i.be=function(){t.prototype.be.call(this),this.Fet.be()},i.ge=function(){t.prototype.ge.call(this),this.Fet.ge()},i.d7=function(n){t.prototype.d7.call(this,n),this.Fet.d7(n)},Nt(n,[{key:"XG",get:function(){return this.YT}},{key:"hI",get:function(){return this.YT.videoHeight}},{key:"cI",get:function(){return this.YT.videoWidth}},{key:"wa",get:function(){return this.Bet}},{key:"aH",get:function(){return this.Oet}}]),n}(vP);F(),Tt(),Gt(),Dt(),Rt(),Ut(),qt(),F(),Tt();F(),Tt(),Gt(),qt(),F(),Tt();var Fx=!1,Ux=function(t){return t.Wet="HELLO",t.Uet="HI_THERE",t.Get="INITIALIZE",t.Het="APPEND_INIT",t.Zet="APPEND_DATA",t.Xet="ACK",t.zet="REMOVE",t.qet="DESTROY_SESSION",t}({}),Wx=function(){function t(){this.Go=new ad}var n=t.prototype;return n.Yet=function(t){var n=this;return this.Go.Wo(Zt((function(t){var i,r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return Oo(t),i=new MessageChannel,r=i.port1,e=i.port2,l.serviceWorker.controller?[3,2]:[4,jl(l.serviceWorker,"install",t)];case 1:c.sent(),c.label=2;case 2:return"activated"===l.serviceWorker.controller.state?[3,4]:[4,jl(l.serviceWorker.controller,"activate",t)];case 3:c.sent(),c.label=4;case 4:u={kind:"HELLO",port:e},l.serviceWorker.controller.postMessage(u,[e]),r.start(),n.Pp=r,c.label=5;case 5:return c.trys.push([5,7,,8]),[4,jl(r,"message",t)];case 6:if(s=c.sent(),"HI_THERE"!==(o=s.data).kind)throw new p("Could not set up message channel");return n.QT=o.sessionId,[3,8];case 7:throw Mo(a=c.sent())&&n.Ket(),a;case 8:return[2]}}))})),t)},n.jet=function(t,n){this.Pp;var i=this;return this.Go.Wo(Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:if(!i.Pp)throw new p("MessageSession not set up yet or already closed.");return n||(n=[]),i.Pp.postMessage(t,n),[4,jl(i.Pp,"message")];case 1:return[2,r.sent().data]}}))})))},n.Qet=function(){var t=this;return this.Go.Wo((function(){return t.Ket()}))},n.Ket=function(){if(l.serviceWorker.controller&&"activated"===l.serviceWorker.controller.state&&this.Pp){var t={kind:"DESTROY_SESSION"};Fx,this.Pp.postMessage(t),this.Pp.close(),this.Pp=void 0}},t}();F(),Tt(),Dt();var Zx=function(){function t(){this.$et=1/0}var n=t.prototype;return n.tit=function(t,n){var i=t-n;this.$et=i>this.Jet?this.$et:i},n.eit=function(t){this.$et=t},Nt(t,[{key:"Jet",get:function(){return this.$et}}]),t}();F(),Tt(),Gt(),Dt(),qt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt();var Xx=function(t){return t.cE="audio",t.lE="video",t.jV="metadata",t}({}),Gx=function(t){function n(n,i){var r;return(r=t.call(this)||this).hY=n,r.ait=i,r.iit=void 0,r.sit=void 0,r.Go=new ad,r.rit=!1,r.nit=!1,r}It(n,t);var i=n.prototype;return i.u3=function(t,n){},i.l3=function(t,n){},i.SJ=function(){return this.nit},i.d3=function(){return Zt((function(){return Ht(this,(function(t){return[2]}))}))()},i.N2=function(t,n){return Zt((function(){return Ht(this,(function(t){return[2]}))}))()},i.l2=function(t,n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){if(t.pw!==DR.QQ)throw new p("Streaming or opaque segments are not supported yet.");return e=t.Zk,u=Zt((function(){var t,i,u;return Ht(this,(function(s){switch(s.label){case 0:return t=e.buffer,i={kind:Ux.Zet,mediaType:Hx(r.hY),segment:e,startPts:n.hit,totalDuration:n.ct},[4,r.ait.jet(i,[t])];case 1:return s.sent(),void 0===r.iit&&(u=n.hit+n.PV,r.iit=u,r.sit=u),r.sit=r.sit+n.ct,r.yo(new ea(CR.KQ)),[2]}}))})),[2,r.Go.Wo(Zt((function(t){return Ht(this,(function(n){switch(n.label){case 0:Oo(t),n.label=1;case 1:return n.trys.push([1,,3,4]),r.rit=!0,[4,u()];case 2:return n.sent(),[3,4];case 3:return r.rit=!1,[7];case 4:return[2]}}))})),i)]}))}))()},i._2=function(t,n,i){var r=this;return Zt((function(){var n,e;return Ht(this,(function(u){if(t.pw!==DR.QQ)throw new p("Streaming or opaque initialization segments are not supported yet.");return n=t.Zk,e=Zt((function(){var t;return Ht(this,(function(i){switch(i.label){case 0:return t={kind:Ux.Het,mediaType:Hx(r.hY),segment:n},[4,r.ait.jet(t,[])];case 1:return i.sent(),[2]}}))})),[2,r.Go.Wo(Zt((function(t){return Ht(this,(function(n){switch(n.label){case 0:Oo(t),n.label=1;case 1:return n.trys.push([1,,3,4]),r.rit=!0,[4,e()];case 2:return n.sent(),[3,4];case 3:return r.rit=!1,[7];case 4:return[2]}}))})),i)]}))}))()},i.i3=function(){this.nit=!0},i.z2=function(){this.nit=!1},i.jS=function(t,n,i){var r=this;return Zt((function(){var t;return Ht(this,(function(e){return t=Zt((function(){var t;return Ht(this,(function(i){switch(i.label){case 0:return t={kind:Ux.zet,mediaType:Hx(r.hY),endTime:n},[4,r.ait.jet(t)];case 1:return i.sent(),r.iit=void 0,r.sit=void 0,r.yo(new ea(CR.KQ)),[2]}}))})),[2,r.Go.Wo(Zt((function(n){return Ht(this,(function(i){switch(i.label){case 0:Oo(n),i.label=1;case 1:return i.trys.push([1,,3,4]),r.rit=!0,[4,t()];case 2:return i.sent(),[3,4];case 3:return r.rit=!1,[7];case 4:return[2]}}))})),i)]}))}))()},i.hJ=function(t){return this.hY===t.Ik},i.uJ=function(t){return this.hY=t.Ik,et.resolve()},i.Ww=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.Bo(),[4,t.Go.gn()];case 1:return n.sent(),[2]}}))}))()},Nt(n,[{key:"_R",get:function(){return void 0===this.iit||void 0===this.sit?AA.fB():new AA([this.iit,this.sit])}},{key:"md",get:function(){return{Ik:this.hY}}},{key:"n3",get:function(){return Bs(this.hY,"audio")?jg.cE:Bs(this.hY,"video")?jg.lE:jg.Qk}},{key:"Xq",get:function(){return this.hY}},{key:"o3",get:function(){return AA.fB()}},{key:"mj",get:function(){return 30},set:function(t){}},{key:"yj",get:function(){return 30},set:function(t){}},{key:"ca",get:function(){return this.rit}},{key:"oit",get:function(){return this.iit}},{key:"BO",get:function(){return this.sit}}]),n}(na);function Hx(t){return t.match(/video/)?Xx.lE:Xx.cE}var zx=function(){function t(t,n,i,r){this.nT=void 0,this.IT=t,this.J3=ao(n,(function(t){return Boolean(t.Xq.match(/video/))})),this.Q3=ao(n,(function(t){return Boolean(t.Xq.match(/audio/))})),this.Rw=i,this.YT=r,this.cit()}var n=t.prototype;return n.cit=function(){},n.Ww=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,et.all([t.Q3,t.J3].filter(Yn).map((function(t){return t.Ww()})))];case 1:return n.sent(),[2]}}))}))()},n.e4=function(t){},n.r4=function(t,n,i,r){},n.i3=function(){var t,n;null==(t=this.Q3)||t.i3(),null==(n=this.J3)||n.i3()},n.z2=function(){var t,n;null==(t=this.Q3)||t.z2(),null==(n=this.J3)||n.z2()},n.hJ=function(t){return!0},n.uJ=function(t){return this.IT=t,et.resolve()},n.lJ=function(t){},n.rJ=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return[4,i.Rw.xw(t.ww,n)];case 1:return[4,e.sent().uT()];case 2:return r=e.sent(),[4,i.oJ(r)];case 3:return e.sent(),[2,r]}}))}))()},n.oJ=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:if(t&&!n.YT.src)throw new qg(Qv.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");if(!t&&n.YT.src)throw new qg(Qv.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");return(i=n.nT)?[4,i.hT(n.YT)]:[3,2];case 1:r.sent(),n.nT=void 0,r.label=2;case 2:return t?[4,t.bn(n.YT)]:[3,4];case 3:r.sent(),n.nT=t,r.label=4;case 4:return[2]}}))}))()},t.uit=function(n,i,r,e){for(var u=[],s=0;s<n.o4.length;s++){var o=n.o4[s].Ik;u.push(new Gx(o,i))}return new t(n,u,r,e)},Nt(t,[{key:"dit",get:function(){return[this.Q3,this.J3].filter(Yn)}},{key:"K3",get:function(){return this.Q3}},{key:"_R",get:function(){return QC(this)}},{key:"md",get:function(){return this.IT}},{key:"ct",get:function(){return 0}},{key:"SJ",get:function(){var t,n,i,r,e=null==(i=null==(t=this.Q3)?void 0:t.SJ())||i,u=null==(r=null==(n=this.J3)?void 0:n.SJ())||r;return e&&u}},{key:"iI",get:function(){return new AA([0,1/0])}},{key:"j3",get:function(){return this.J3}}]),t}(),Yx=function(t){function n(n,i,r,e){var u,s;return u=t.call(this)||this,s=u,u.Dit=!0,u.ait=new Wx,u.Rit=new Zx,u.Mit=!0,u.Bit=new Zc,u.rZ=!1,u.Y9=et.resolve(),u.q9=new Ho,u.Lit=!0,u.Fo=AA.fB(),u.u7=!1,u._it=function(){u.ZR||u.Cit.V<=0||u._R.V<=0||u.Rit.tit(u._R.jn(u._R.V-1),u.Cit.jn(u.Cit.V-1))},u.vit=function(){u.yo(new fT(u.yR))},u.mit=function(){u.yo(new vg(u.yR,u.mR))},u.git=function(){u.yo(new hT(u.yR,u.zR))},u.pit=function(){u.yo(new lT(u.yR,u.dI))},u.wit=function(){u.yo(new cT(u.ct))},u.yit=function(){u.yo(new Sp(u.yR))},u.Ait=function(){u.Sb(u.yR)},u.Sit=Zt((function(){return Ht(this,(function(t){return s.Lit&&s.yo(new aT(s.yR)),s.Mit=!1,s.Lit=!0,[2]}))})),u.Tit=function(){u.Mit=!0,u.yo(new oT(u.yR))},u.e7=function(t){var n,i=t.initDataType,r=null!=(n=t.initData)?n:new ArrayBuffer(0);u.yo(new va(i,r))},u.Det=n,u.k9=new dN(u),u.Fit=r,u._Z=e,u.Det.playsInline=!0,u.Det.style.width="100%",u.Det.style.height="100%",u.fit(),u.Eit(),u.Bet=Bx(u.Det),u.Qo=new Ox(u.Det),u.cJ=new iP(u),u.Rw=i,u.Ul=new Xy,u.c8=new BD(u),u.Fet=new pP,u.Vet=new Mx(u.Fet.we,u.Uu,u.nt,u.Ll,u.wa,u.aH),u}It(n,t);var i=n.prototype;return i.fit=function(){this.Det.addEventListener("timeupdate",this._it),this.Det.addEventListener("ended",this.vit),this.Det.addEventListener("timeupdate",this.mit),this.Det.addEventListener("ratechange",this.git),this.Det.addEventListener("volumechange",this.pit),this.Det.addEventListener("durationchange",this.wit),this.Det.addEventListener("playing",this.yit),this.Det.addEventListener("seeking",this.Ait),this.Det.addEventListener("play",this.Sit),this.Det.addEventListener("pause",this.Tit),this.Det.addEventListener("encrypted",this.e7)},i.kit=function(){this.Det.removeEventListener("timeupdate",this._it),this.Det.removeEventListener("ended",this.vit),this.Det.removeEventListener("timeupdate",this.mit),this.Det.removeEventListener("ratechange",this.git),this.Det.removeEventListener("volumechange",this.pit),this.Det.removeEventListener("durationchange",this.wit),this.Det.removeEventListener("playing",this.yit),this.Det.removeEventListener("seeking",this.Ait),this.Det.removeEventListener("play",this.Sit),this.Det.removeEventListener("pause",this.Tit)},i.Eit=function(){this.k9.yn(wp.QI,this.Ds)},i.xit=function(){this.k9.fn(wp.QI,this.Ds)},i.Sb=function(t,n,i){this.q9.Xw(),this.q9=new Ho,this.Y9=Uo(this.K9(t,this.Y9,this.q9.Bw),this.q9).catch(pi)},i.K9=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return r.Fo=r.KR,(s=null==(u=r.qG)?void 0:u.dit)?(o=(e=k).max.apply(e,Ft(s.map((function(t){return t.oit?t.oit:1/0})))),r.rZ=!0,r.yo(new vT(t)),[4,n.catch(pi)]):[2];case 1:c.sent(),Oo(i),c.label=2;case 2:return c.trys.push([2,7,8,9]),r.Dit||r.Nit(),r.Det.load(),r.Mit?[3,4]:(r.Lit=!1,[4,Fo(r.Det.play(),i)]);case 3:c.sent(),c.label=4;case 4:return r.tI<pp.QB?[4,r.k9.uy(wp.QI,i)]:[3,6];case 5:return c.sent(),[3,4];case 6:return r.Bit.Mb(),r.Dit=!1,r.rZ=!1,r.yo(new dT(r.yR)),[3,9];case 7:throw a=c.sent(),r.Bit.Lb(a),a;case 8:return r.Oit(),r.Rit.eit(o),[7];case 9:return[2]}}))}))()},i.bI=function(){this.Mit=!0,this.Det.pause()},i.AI=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.Mit?(t.Det.src||t.l7(),[4,t.Bit.Bb]):[2];case 1:return n.sent(),[4,t.Det.play()];case 2:return n.sent(),[2]}}))}))()},i.Ww=function(){var t=this;return Zt((function(){return Ht(this,(function(n){return t.ait&&t.ait.Qet().catch(pi),t.q9.Xw(),t.kit(),t.xit(),t.k9.Ww(),t.Bo(),t.Ul.gn(),t.Fet.gn(),t.Vet.gn(),[2]}))}))()},i.tr=function(){var t=this;return Zt((function(){return Ht(this,(function(n){return t.ait&&t.ait.Qet().catch(pi),t.q9.Xw(),t.Det.removeAttribute("src"),t.Det.removeAttribute("x-webkit-wirelessvideoplaybackdisabled"),t.Det.removeAttribute("x-airplay-deny"),t.Det.disableRemotePlayback=!1,t.Det.load(),t.k9.tr(),t.Fo=AA.fB(),[2]}))}))()},i.l7=function(){this.a7||($x(this.Det,Kn.Ys),this.u7=!0)},i.Nit=function(){var t,n=this.Det.getClientRects();if(n.length>0){var i,r,e=(t=n[0]).width,u=this.Det.videoWidth/this.Det.videoHeight,s=t.height;e/s>u?(i=s*u,r=s):(r=e/u,i=e),this.Det.style.width=i+"px",this.Det.style.height=r+"px",this.Det.style.marginLeft=(e-i)/2+"px",this.Det.style.marginTop=(s-r)/2+"px",this.Det.style.backgroundColor="black"}},i.Oit=function(){this.Det.style.width="100%",this.Det.style.height="100%",this.Det.style.marginLeft="",this.Det.style.marginTop="",this.Det.style.backgroundColor=""},i.oH=function(t,n,i,r,e){},i.DI=function(t,n,i,r,e,u,s,o,a){var c=new MN(t,n,i,r,e,u,s,a,o);return this.Ul.tt(c),this.c8.tt(c),c},i.uH=function(t){throw p("Not supported.")},i.IJ=function(t){},i.OR=function(){return aR(this.Det)},i.ge=function(){this.Det.style.display="block",this.Fet.ge()},i.be=function(){this.Det.style.display="none",this.Fet.be()},i.o7=function(){},i.$n=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:if(t.pw===gp.fW)throw new p("Not yet implemented");return[4,n.ait.Yet()];case 1:return e.sent(),i=ao(t.JG,(function(t){return t.rT.pw===Es.mw})),r={kind:Ux.Get,mediaBufferConfigs:t.o4.map((function(t){return t.Ik})),fairPlaySdkUri:null==i?void 0:i.LU},[4,n.ait.jet(r)];case 2:return e.sent(),n.qG=zx.uit(t,n.ait,n.Rw,n.Det),n.cJ.$n(n.qG,t),n.Det.setAttribute("x-webkit-airplay","deny"),n.Det.setAttribute("x-webkit-wirelessvideoplaybackdisabled",""),n.Det.disableRemotePlayback=!0,n.Det.preload="none",n.Det.src="https://theo.proxy/"+n.ait.QT+"/master.m3u8",[2,n.qG]}}))}))()},i.h7=function(){},i.lW=function(t){this.Ul.it(t),this.c8.it(t)},i.cH=function(){for(var t=0,n=this.Ul.oC.slice();t<n.length;t++){n[t].gn()}this.Ul.tr()},i.UG=function(t){},i.nH=function(){return!1},i.d7=function(t){t.appendChild(this.Det),this.Fet.d7(t)},i.wI=function(){return this.Det},i.xI=function(){},Nt(n,[{key:"XG",get:function(){return this.Det}},{key:"C4",get:function(){return!1}},{key:"yR",get:function(){return this.Det.currentTime+this.Rit.Jet}},{key:"ZR",get:function(){return this.Det.paused}},{key:"dI",get:function(){return this.Det.volume},set:function(t){this.Det.volume=t}},{key:"zR",get:function(){return this.Det.playbackRate},set:function(t){this.Det.playbackRate=t}},{key:"Iit",get:function(){return this.Det.defaultPlaybackRate}},{key:"_R",get:function(){var t,n;return null!=(n=null==(t=this.qG)?void 0:t._R)?n:AA.fB()}},{key:"Cit",get:function(){return AA.xn(this.Det.buffered)}},{key:"KR",get:function(){var t=this.Pit;return this.Fo.KL(t.Ab(this.Rit.Jet))}},{key:"Pit",get:function(){return AA.xn(this.Det.played)}},{key:"nI",get:function(){return this.rZ}},{key:"A4",get:function(){return!1}},{key:"M4",get:function(){return!1}},{key:"ct",get:function(){return this.Det.duration}},{key:"FR",get:function(){return this.Det.muted},set:function(t){this.Det.muted=t}},{key:"het",get:function(){return this.Det.style}},{key:"GB",get:function(){return $u({},IR,{UB:!0})}},{key:"tI",get:function(){return this.k9.tI}},{key:"hI",get:function(){return this.Det.videoHeight}},{key:"cI",get:function(){return this.Det.videoWidth}},{key:"kR",get:function(){return this.Det.ended}},{key:"Ti",get:function(){return this.Det.offsetHeight*Kn.Ys.Xg}},{key:"ji",get:function(){return this.Det.offsetWidth*Kn.Ys.Xg}},{key:"NR",get:function(){return!1}},{key:"a7",get:function(){return this.u7}},{key:"mR",get:function(){}},{key:"Uu",get:function(){return this.Fit}},{key:"lt",get:function(){}},{key:"wa",get:function(){return this.Bet}},{key:"aH",get:function(){return this.Qo}},{key:"iI",get:function(){return this.qG?this.qG.iI:AA.fB()}},{key:"YG",get:function(){}},{key:"nt",get:function(){return this.Ul}},{key:"Ll",get:function(){return this._Z}},{key:"gI",get:function(){return!1},set:function(t){}},{key:"P9",get:function(){return"block"===this.Det.style.display}},{key:"_H",get:function(){return this.cJ._H},set:function(t){this.cJ._H=t}},{key:"f7",get:function(){},set:function(t){}},{key:"K6",get:function(){}}]),n}(na),jx=[jg.cE,jg.lE],Kx=function(){function t(t,n,i,r,e){void 0===i&&(i=2),void 0===r&&(r=jx),void 0===e&&(e=yd()),this.znt=i,this.Vnt=Ft(r),this.Rw=e,this.Xu=t,this._Z=n,this.Wnt=ns(),this.Xnt()}var n=t.prototype;return n.gZ=function(t){for(var n=0,i=this.vZ;n<i.length;n++){i[n].d7(t)}},n.DH=function(t){var n=ao(this.Wnt.get(t),(function(t){return t.Hnt}));if(n)return n.Hnt=!1,n.Unt},n.Znt=function(t){if(!this.Gnt){var n,i=null==(n=this.Wnt.get(jg.lE))?void 0:n[0].Unt.XG;if(!i)throw new p("Error creating iOS Safari MediaController");this.Gnt=new Yx(i,this.Rw,this.Xu,this._Z),i.parentElement&&this.Gnt.d7(i.parentElement)}return this.Gnt},n.vH=function(t){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:return i=t.XG,r=i.tagName.toLowerCase(),[4,t.tr()];case 1:return u.sent(),Qx(i),(e=ao(n.Wnt.get(r)||[],(function(n){return t===n.Unt})))&&(e.Hnt=!0),[2]}}))}))()},n.cZ=function(){for(var t=0,n=this.vZ;t<n.length;t++){n[t].l7()}},n.gn=function(){for(var t=0,n=this.vZ;t<n.length;t++){var i=n[t],r=i.XG;i.Ww(),Jx(r),oi(r)}this.Wnt.clear(),this.Gnt=void 0},n.Xnt=function(){for(var t=0,n=this.Vnt;t<n.length;t++){var i=n[t],r=[];this.Wnt.set(i,r);for(var e=0;e<this.znt;e++){var u=qx(i),s=i===jg.cE?new yP(u,this.Rw,this.Xu):new Vx(u,this.Rw,this.Xu,this._Z);r.push({Unt:s,Hnt:!0})}}},Nt(t,[{key:"vZ",get:function(){for(var t=[],n=0,i=this.Vnt;n<i.length;n++){var r=i[n],e=this.Wnt.get(r);if(e){var u,s=e.map((function(t){return t.Unt}));(u=t).push.apply(u,Ft(s))}}return this.Gnt&&t.push(this.Gnt),t}}]),t}();function qx(t){var n=v.createElement(t);return Ti(n)&&n.addEventListener("contextmenu",tL),Qx(n),n}function Jx(t){Qx(t),t.removeEventListener("contextmenu",tL)}function Qx(t){t.removeAttribute("id"),t.removeAttribute("class"),t.removeAttribute("style"),ai(t),Si(t),t.pause(),t.playbackRate=1,t.disableRemotePlayback=!1,t.preload=GT.qB,t.controls=!1,t.style.display="none",Ti(t)&&(t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",t.playsInline=!0,t.setAttribute("webkit-playsinline",""))}function $x(t,n){if(n.lp){var i=t.muted;t.muted=!0,t.muted=!1,t.muted=i}else if(t.paused){var r=t.play();ii(r)&&jo(r),t.pause()}}function tL(t){t.preventDefault()}F(),Tt(),Gt(),Rt(),qt(),F(),Tt();var nL=function(){function t(t){this.aW=t}var n=t.prototype;return n.zk=function(t){return this.aW.zk(t)},n.xE=function(t){this.aW.xE(t)},n.gn=function(){this.aW.gn()},t}(),iL=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).dZ=i,r}It(n,t);var i=n.prototype;return i.zk=function(t){var n=new hl(t),i=this.dZ.nj.pG(n);return i?this.Vit(n,i):this.aW.zk(n)},i.Vit=function(t,n){var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return n.hj(Kn.Bg()/1e3),[4,i.aW.zk(t)];case 1:return r=s.sent(),n.aj(Kn.Bg()/1e3),e=r.Mk?r.Rk().pipeThrough(new Ld(new rL(n))):r.xk().then((function(t){var i=Kn.Bg()/1e3;return n.uj(i,new E(t)),n.cj(i),t})),u={Zk:e,zk:r.zk},[2,new el(u,r)]}}))}))()},n}(nL),rL=function(){function t(t){this.Wit=t}var n=t.prototype;return n.start=function(t){this.NQ=t},n.transform=function(t){this.Wit.uj(Kn.Bg()/1e3,t),this.NQ.enqueue(t)},n.flush=function(){this.Wit.cj(Kn.Bg()/1e3)},t}();function eL(t){return{get ratio(){return t.$o},get thresholds(){return t.Uit.slice()}}}function uL(t){var n=[],i=k.floor(1/t);if(S(i))return[];for(var r=0;r<=i;r++){var e=er(r*t,0,1);n.push(e)}return n}F(),Tt(),Dt(),F(),Tt(),Dt(),Rt(),F(),Tt();var sL=function(){function t(t,n,i){this.Git=1,this.Za=void 0,this.Hit=uL(n);var r=this.Zit(i);this.Xit=new f.IntersectionObserver(r,{root:null,threshold:this.Hit}),this.Xit.observe(t)}var n=t.prototype;return n.Zit=function(t){var n=this;return function(i){var r=i[i.length-1];n.Git=r.intersectionRatio,t(r.intersectionRatio)}},n.SI=function(){this.Xit.disconnect()},Nt(t,[{key:"$o",get:function(){return this.Git}},{key:"Uit",get:function(){return this.Hit}},{key:"ga",get:function(){return this.Za||(this.Za=eL(this)),this.Za}}]),t}(),oL=function(){function t(t,n){this.Git=1,this.qit=-1,this.Za=void 0,this.Hit=uL(t),this.Yit=n}return t.prototype.zit=function(t){this.Git=t;var n=this.Hit,i=0;if(t>0)for(;i<n.length&&n[i]<=t;)++i;this.qit!==i&&(this.qit=i,this.Yit(t))},Nt(t,[{key:"$o",get:function(){return this.Git}},{key:"Uit",get:function(){return this.Hit}},{key:"ga",get:function(){return this.Za||(this.Za=eL(this)),this.Za}}]),t}(),aL=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).jit=bi((function(){return e.zit(e.Kit())}),50),e.lo=n,f.addEventListener("scroll",e.jit,!!hI&&{passive:!0}),Yo((function(){return e.zit(e.Kit())})),e}It(n,t);var i=n.prototype;return i.Kit=function(){var t=this.lo.getBoundingClientRect();return er(k.max(0,k.min(f.innerWidth,t.right)-k.max(0,t.left))*k.max(0,k.min(f.innerHeight,t.bottom)-k.max(0,t.top))/(t.width*t.height),0,1)},i.SI=function(){f.removeEventListener("scroll",this.jit)},n}(oL),cL=function(){function t(t){this.Jit=1,this.$it=0,this.sst=[],this.Za=void 0,this.lo=t,this.Ao(.1,this.ist())}var n=t.prototype;return n.ist=function(t){var n=this;return function(i){n.Jit=i,null==t||t(n.Jit)}},n.Ao=function(t,n){if(S(t))throw new _("step is not of the right type");if(t>1||t<=0)throw new RangeError("The step must be a number greater than 0 and smaller than or equal to 1");var i;return i="function"==typeof f.IntersectionObserver?new sL(this.lo,t,this.ist(n)):new aL(this.lo,t,this.ist(n)),this.sst.push(i),i},n.No=function(t){t.SI(),lo(this.sst,t)},n.tst=function(t){for(var n=0,i=this.sst;n<i.length;n++){var r=i[n];if(r.ga===t)return r}},n.gn=function(){for(var t=0,n=this.sst;t<n.length;t++){n[t].SI()}po(this.sst)},Nt(t,[{key:"Qit",get:function(){return this.Jit}},{key:"Do",get:function(){return this.$it},set:function(t){if(S(t)||t<0||t>1)throw new RangeError("The threshold must be a value between 0 and 1");this.$it=t}},{key:"ga",get:function(){return this.Za||(this.Za=function(t){return{get ratio(){return t.Qit},get visible(){return t.Qit>t.Do},get visibleThreshold(){return t.Do},set visibleThreshold(n){n=Lg(n),t.Do=n},addObserver:function(n,i){return n=Lg(n),t.Ao(n,i).ga},removeObserver:function(n){var i=t.tst(n);i&&t.No(i)}}}(this)),this.Za}}]),t}();F(),Tt(),Rt();var hL=function(t){function n(){return t.call(this,ua.Ay)||this}return It(n,t),n}(ea),fL=function(t){function n(n,i,r){var e;(e=t.call(this)||this).rst=!1,e.do=!1,e.JH=void 0,e.yst=!1,e.Ca=void 0,e.vst=function(t){if(!e.yst){e.yst=!0;var n=e.bst,i=tw(t);e.xa.cC=new nS(e.we,i,t),jo(n.gn())}},e.Ast=function(t){t.type!==ua.Wy&&t.type!==ua.Vy&&e.yo(t)};var u=Lg(i.uid);S(u)?e.TO=fw++:e.TO=u,e.md=i;var s=Kn.aR,o=new yR;e.wst=new qE("9.0.0",s,o),e.dZ=new QI,e.fZ=new Rk;var a=new iL(s,e.dZ);e.aR=new FI(a,i.allowMixedContent),e.kQ=null!=r?r:new TE(i.isEmbeddable,"9.0.0",yE()),e._st=new mR(s,e.kQ,e.wst,o,i,yE()),e._st.yQ().catch(e.vst),e.ust=new wI(n),e.ust.yn(eI.pn,e.Ds),e._Z=new TR,e.Fj=new rR,e.Jj=new uR;var c=new tS(n,i,e.aR,e.dZ,e.fZ,e.ust,e._Z);e.dZ.bj(c);var h=c;return h=new eR(h,e.dst),h=new sR(h,e.Qj),e.bst=h,e.xa=new LT(e.bst),e.xa.Jw(e.Ast),e.cst=new oR(e.xa),e.lst=new ZI(e.xa,e.aR,e.dZ),e.gst=new rI(e),e.pst=new AI(e.xa,i.allowNativeFullscreen),e.mst=new CI(e.pst,e.xa._a()),e.ust.bn(),e.To=new cL(n),e.lZ=new FT(e.ust,e._Z,1,[jg.lE]),e.hst=new UT(e.lZ),e.ast=new fR,e}It(n,t);var i=n.prototype;return i.vR=function(){return this.xa._R},i.bR=function(){return this.xa.yR},i.AR=function(t,n){this.xa.AR(t,n)},i.fst=function(){return this.bR()},i._d=function(){return this.xa.ct},i.xR=function(){return this.xa.lt},i.IR=function(){return this.xa.RR},i.UR=function(t){this.xa.FR=t,t||this.ZR||this.yI()},i.qR=function(){return this.xa.zR},i.YR=function(t){this.xa.zR=t},i.jR=function(){return this.xa.KR},i.sI=function(){return this.xa.iI},i._I=function(t){this.xa.dI=t},i.Sa=function(){TT(this,lS,this)},i.AI=function(){this.xa.AI()},i.bI=function(){this.xa.bI()},i.Ya=function(){return this.JH},i.ka=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return i.JH=t,t?(i._st.dq(t).catch(i.vst),r=function(t){t.sources;var n=t.sources.filter((function(t){return jn(t.integration)}));return t.sources=n,t}(t),[4,i.xa.ka(r,n)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))()},i.yI=function(){if(!this.do){this.xa.yI(),this.hst.yI();for(var t=this.we.getElementsByTagName("video"),n=0;n<t.length;n++){var i=t[n];"Advertisement"===i.title&&$x(i,Kn.Ys)}this.do=!0}},i.cs=function(){return this.mst.Uo()===yT.FULLSCREEN},i.ge=function(){this.xa.ge()},i.be=function(){this.xa.be()},i.wI=function(){return this.xa.wI()},i.xI=function(){this.xa.xI()},i.RI=function(){this.xa.RI()},i.DI=function(t){return this.xa.DI(t)},i.SI=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.JH=void 0,[4,t.xa.SI()];case 1:return n.sent(),[4,t.xa.tr()];case 2:return n.sent(),[2]}}))}))()},i.gn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.yo(new hL),t.Bo(),t.ast.gn(),t.aR.gn(),t.lst.gn(),t.gst.gn(),t.pst.gn(),t.mst.gn(),t.ust.gn(),t.wst.gn(),t.hst.gn(),t.lZ.gn(),[4,t.xa.gn()];case 1:return n.sent(),[2]}}))}))()},Nt(n,[{key:"nst",get:function(){return this.dZ}},{key:"pO",get:function(){return this.rst},set:function(t){this.rst=t,this.xa.pO=t}},{key:"ost",get:function(){return this.hst}},{key:"ht",get:function(){return this.xa.ht}},{key:"Tz",get:function(){return this.ast}},{key:"Uu",get:function(){return this.ust}},{key:"PR",get:function(){return this.xa.PR}},{key:"LR",get:function(){return this.cst}},{key:"WX",get:function(){return this.lst}},{key:"nt",get:function(){return this.xa.nt}},{key:"Ll",get:function(){return this._Z}},{key:"rt",get:function(){return this.xa.rt}},{key:"_R",get:function(){return this.vR()}},{key:"dst",get:function(){return this.Fj}},{key:"Qj",get:function(){return this.Jj}},{key:"yR",get:function(){return this.bR()},set:function(t){this.AR(t)}},{key:"mR",get:function(){return this.xa.mR},set:function(t){this.xa.mR=t}},{key:"bt",get:function(){return this.xa.bt}},{key:"ct",get:function(){return this._d()}},{key:"we",get:function(){return this.xa.we}},{key:"kR",get:function(){return this.xa.kR}},{key:"lt",get:function(){return this.xR()}},{key:"RR",get:function(){return this.IR()}},{key:"wa",get:function(){return this.xa.pI()}},{key:"aH",get:function(){return this.xa._a()}},{key:"gI",get:function(){return this.xa.gI},set:function(t){this.xa.gI=t}},{key:"FR",get:function(){return this.xa.FR},set:function(t){var n=Boolean(t);this.UR(n)}},{key:"ZR",get:function(){return this.xa.ZR}},{key:"zR",get:function(){return this.qR()},set:function(t){this.YR(t)}},{key:"KR",get:function(){return this.jR()}},{key:"QR",get:function(){return this.xa.QR},set:function(t){this.xa.QR=t}},{key:"tI",get:function(){return this.xa.tI}},{key:"iI",get:function(){return this.sI()}},{key:"nI",get:function(){return this.xa.nI}},{key:"TC",get:function(){return this.TO}},{key:"hI",get:function(){return this.xa.hI}},{key:"cI",get:function(){return this.xa.cI}},{key:"dI",get:function(){return this.xa.dI},set:function(t){var n=er(Number(t),0,1)||0;this._I(n)}},{key:"vI",get:function(){return this.fZ}}]),n}(ra);F(),Tt();var vL=self.CustomEvent;var dL=function(){try{var t=new vL("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=v.createEvent("CustomEvent");return i.initCustomEvent(t,(null==n?void 0:n.bubbles)||!1,(null==n?void 0:n.cancelable)||!1,null==n?void 0:n.detail),i};F(),Tt(),Dt();var lL=function(){function t(){this.vO=[],this.Za=void 0}var n=t.prototype;return n.aC=function(t){return this.vO[t]},n.XJ=function(t){this.vO.push(t),this.ga.push(t.ga)},n.jS=function(t){var n=this.vO.indexOf(t);n<0||(go(this.vO,n),this.Za&&go(this.Za,n))},n.Lst=function(t){for(var n=0,i=this.vO;n<i.length;n++){var r=i[n];if(r.TC===t)return r}},Nt(t,[{key:"V",get:function(){return this.vO.length}},{key:"ga",get:function(){var t;return null!=(t=this.Za)?t:this.Za=function(t){for(var n=[],i=0;i<t.V;i++)n[i]=t.aC(i).ga;return n.getPlayerByUID=function(n){var i=t.Lst(n);return i&&i.ga},n}(this)}}]),t}();var gL=new lL;function wL(t){var n,i,r=function(n){i=n;var r=rE(n,t.md);t.ka(r)},e={get abr(){return t.nst.ga},get ads(){var n;return null==(n=t.Vc)?void 0:n.ga},get audioTracks(){return t.ht.ga},get autoplay(){return t.pO},set autoplay(n){t.pO=Boolean(n)},get buffered(){return t.vR()},get canvas(){return t.gst.ga},get cast(){var n;return null==(n=t.Tz)?void 0:n.ga},get clip(){return t.dst.ga},get currentProgramDateTime(){var n;return null!=(n=t.mR)?n:null},set currentProgramDateTime(n){t.mR=null!=n?n:void 0},get currentTime(){return t.bR()},set currentTime(n){t.AR(Number(n))},get duration(){return t._d()},get element(){return t.we},get ended(){return t.kR},get error(){return t.xR()},get errorObject(){return t.IR()},get loop(){return t.Qj.Qj},set loop(n){t.Qj.Qj=Boolean(n)},get metrics(){return t.LR.ga},get muted(){return t.FR},set muted(n){t.UR(n)},get network(){return t.WX.ga},get paused(){return t.ZR},get playbackRate(){return t.zR},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.zR=i},get played(){return t.jR()},get poster(){return t.mi},set poster(n){t.mi=Og(n)},get preload(){return t.QR},set preload(n){t.QR=function(t){switch(t){case"auto":case"":return"auto";case"metadata":return"metadata";default:return"none"}}(n)},get presentation(){return t.mst.ga},get readyState(){return t.tI},get seekable(){return t.sI()},get seeking(){return t.nI},get source(){return i},set source(t){r(t)},get src(){return YS(t.Ya())},set src(t){r({sources:t})},get textTracks(){return t.nt.ga},get textTrackStyle(){return t.Ll.ga},get theoLive(){return t.Est},get uid(){return t.TC},get videoHeight(){return t.hI},get videoTracks(){return t.rt.ga},get videoWidth(){return t.cI},get visibility(){return t.To.ga},get volume(){return t.dI},set volume(n){t._I(Number(n))},get latency(){return t.vI.ga},get theoads(){return t.Rst},destroy:function(){t.gn(),t=null,i=void 0},play:function(){t.Bst()},pause:function(){t.bI()},stop:function(){i=void 0,t.SI()},prepareWithUserAction:function(){t.yI()},addEventListener:function(t,i){n.yn(t,i)},removeEventListener:function(t,i){n.fn(t,i)},setSource:function(t){r(t)},addTextTrack:function(n){return t.DI(function(t){return{Lt:Og(t.kind),kh:Og(t.label),gs:Og(t.language),pw:Og(t.type)}}(n)).ga}};return(n=new EI(e,!0)).iu(t),n.yn("destroy",(function(){n.gn()})),e}F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),F(),Tt(),F(),Tt(),Rt();var mL=function(t){function n(n){var i;return(i=t.call(this,ua.ro)||this).source=n,i}return It(n,t),n}(ea);F(),Tt(),Dt(),Rt();var yL=function(t){function n(){var n;return(n=t.call(this)||this).nZ=0,n.hZ=!0,n.rZ=!1,n.aZ=1,n}It(n,t);var i=n.prototype;return i.bR=function(){return this.nZ},i.fst=function(){return this.bR()},i.AR=function(t,n){this.rZ&&this.nZ===t||(this.nZ=t,this.rZ=!0,this.yo(new vT(this.nZ)))},i.AI=function(){this.hZ&&(this.hZ=!1,this.yo(new aT(this.nZ)),this.yo(new kp(this.nZ)))},i.bI=function(){this.hZ||(this.hZ=!0,this.yo(new vg(this.nZ,this.mR)),this.yo(new oT(this.nZ)))},i.tr=function(){this.nZ=0,this.rZ=!1,this.aZ=1,this.bI()},i.gn=function(){this.Bo()},i.be=function(){},i.ge=function(){},Nt(n,[{key:"mR",get:function(){},set:function(t){}},{key:"yR",get:function(){return this.bR()},set:function(t){this.AR(t)}},{key:"ZR",get:function(){return this.hZ}},{key:"zR",get:function(){return this.aZ},set:function(t){this.aZ!==t&&(this.aZ=t,this.yo(new hT(this.nZ,this.zR)))}},{key:"tI",get:function(){return pp.jB}},{key:"nI",get:function(){return this.rZ}}]),n}(ra);F(),Tt(),Dt();var pL={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},_L={visibility:"hidden"},bL={visibility:"visible"},kL=function(){function t(t){var n=this;this.Wst=!1,this.Ust=function(t){var i;n.Wst=!n.ta.ZR,n.Ost=null==(i=t.source)?void 0:i.poster,n.Yn()},this.PW=function(){n.Wst=!0,n.be()},this.ta=t,this.jH(),this.Vs=function(){var t=f&&f.document&&f.document.createElement("div");return t.className="theoplayer-poster",li(pL,t),t}(),t.we.appendChild(this.Vs)}var n=t.prototype;return n.Yn=function(){var t=this.ta.ZR,n=this.Wst;this.qu?this.Vs.style.backgroundImage='url("'+zs(this.qu)+'")':this.Vs.style.backgroundImage="",t&&this.qu&&!n?this.ge():this.be()},n.ge=function(){li(_L,this.ta.we),li(bL,this.Vs)},n.be=function(){li(_L,this.Vs),li(bL,this.ta.we)},n.jH=function(){this.ta.yn(ua.ro,this.Ust),this.ta.yn(ua.so,this.PW)},n.gn=function(){this.ta.fn(ua.ro,this.Ust),this.ta.fn(ua.so,this.PW),oi(this.Vs)},Nt(t,[{key:"qu",get:function(){return void 0!==this.Ost?this.Ost:void 0!==this.Fst?this.Fst:void 0}},{key:"Vst",set:function(t){this.Fst=t,this.Yn()}}]),t}();F(),Tt(),Dt(),Rt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),F(),Tt();var AL=function(t){return t[t.Gst=0]="Gst",t[t.Hst=1]="Hst",t}({});function TL(t){var n,i={get playing(){return t.$c},get currentAds(){return t.Zst.map((function(t){return t.Xst()}))},get currentAdBreak(){var n,i;return null!=(i=null==(n=t.zst)?void 0:n.Xst())?i:null},get scheduledAds(){return t.qst.map((function(t){return t.Xst()}))},get scheduledAdBreaks(){return t.Yst.map((function(t){return t.Xst()}))},skip:function(){t.RD()},schedule:function(n){var i=nE(n,wS.Lg);i?t.o6(i,AL.Gst,!1):console.error("Invalid ad description")},registerServerSideIntegration:function(n,i){t.Kst(n,i)},addEventListener:function(t,i){n.yn(t,i)},removeEventListener:function(t,i){n.fn(t,i)}};return n=new iR(t,i),i}var SL=function(t){function n(n){var i,r;return(i=t.call(this)||this).Za=void 0,i.Dc=n,null==(r=i.Dc)||r.Jw(i.Ds),i}It(n,t);var i=n.prototype;return i.o6=function(t,n,i){var r;null==(r=this.Dc)||r.o6(t,n,i)},i.jst=function(t){var n;null==(n=this.Dc)||n.jst(t)},i.RD=function(){var t;null==(t=this.Dc)||t.RD()},i.Qst=function(t){var n;null==(n=this.Dc)||n.Qst(t)},i.Kst=function(t,n){var i;null==(i=this.Dc)||i.Kst(t,n)},i.gn=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.Bo(),void 0===n.Dc?[3,3]:(n.Dc.oy(n.Ds),t?[3,2]:[4,n.Dc.gn()]);case 1:i.sent(),i.label=2;case 2:n.Dc=void 0,i.label=3;case 3:return[2]}}))}))()},Nt(n,[{key:"$c",get:function(){return!!this.Dc&&this.Dc.$c}},{key:"Zst",get:function(){return this.Dc?this.Dc.Zst:[]}},{key:"zst",get:function(){return this.Dc?this.Dc.zst:null}},{key:"qst",get:function(){return this.Dc?this.Dc.qst:[]}},{key:"Yst",get:function(){return this.Dc?this.Dc.Yst:[]}},{key:"ga",get:function(){var t;return null!=(t=this.Za)?t:this.Za=TL(this)}}]),n}(ra);F(),Tt(),Rt(),F(),Tt(),Dt(),Rt();var EL=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).Yl=i,r}return It(n,t),n}(dg),IL=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).adBreak=i,r}return It(n,t),Nt(n,[{key:"ad",get:function(){return this.adBreak}}]),n}(ea),RL=function(t){function n(n){return t.call(this,"Jst",n)||this}return It(n,t),n.prototype.ma=function(){return new CL(this.Yl.Xst())},n}(EL),CL=function(t){function n(n){return t.call(this,"removeadbreak",n)||this}return It(n,t),n}(IL);F(),Tt(),Rt();var NL=function(t){function n(n){return t.call(this,"$st",n)||this}return It(n,t),n.prototype.ma=function(){return new DL(this.Yl.Xst())},n}(EL),DL=function(t){function n(n){return t.call(this,"addadbreak",n)||this}return It(n,t),n}(IL);F(),Tt(),Rt(),F(),Tt(),Rt();var PL=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).tnt=i,r}return It(n,t),n}(dg),xL=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).ad=i,r}return It(n,t),n}(ea),LL=function(t){function n(n){return t.call(this,"ent",n)||this}return It(n,t),n.prototype.ma=function(){return new ML(this.tnt.Xst())},n}(PL),ML=function(t){function n(n){return t.call(this,"addad",n)||this}return It(n,t),n}(xL);F(),Tt(),Rt();var OL=function(t){function n(n){return t.call(this,"int",n)||this}return It(n,t),n.prototype.ma=function(){return new BL(this.Yl.Xst())},n}(EL),BL=function(t){function n(n){return t.call(this,"adbreakend",n)||this}return It(n,t),n}(IL);F(),Tt(),Rt();var VL=function(t){function n(n){return t.call(this,"snt",n)||this}return It(n,t),n.prototype.ma=function(){return new FL(this.Yl.Xst())},n}(EL),FL=function(t){function n(n){return t.call(this,"adbreakbegin",n)||this}return It(n,t),n}(IL);F(),Tt(),Rt();var UL=function(t){function n(n,i){var r;return(r=t.call(this,"nnt",n)||this).currentTime=i,r}return It(n,t),n.prototype.ma=function(){return new WL(this.tnt.Xst(),this.currentTime)},n}(PL),WL=function(t){function n(n,i){var r;return(r=t.call(this,"adbegin",n)||this).currentTime=i,r}return It(n,t),n}(xL);F(),Tt(),Rt();var ZL=function(t){function n(n,i){var r;return(r=t.call(this,"rnt",n)||this).currentTime=i,r}return It(n,t),n.prototype.ma=function(){return new XL(this.tnt.Xst(),this.currentTime)},n}(PL),XL=function(t){function n(n,i){var r;return(r=t.call(this,"adend",n)||this).currentTime=i,r}return It(n,t),n}(xL);F(),Tt(),Rt();var GL=function(t){function n(){return t.call(this,"ont")||this}return It(n,t),n.prototype.ma=function(){return new HL},n}(dg),HL=function(t){function n(){return t.call(this,"adadded")||this}return It(n,t),n}(ea),zL=function(t){function n(n){var i;return(i=t.call(this,void 0)||this).ta=n,i}return It(n,t),Nt(n,[{key:"cC",get:function(){return this.Dc},set:function(t){var n=this.Dc;if(n!==t){var i=this.Zst,r=this.zst,e=this.qst,u=this.Yst;null==n||n.oy(this.Ds),this.Dc=t,null==t||t.Jw(this.Ds);for(var s=this.Zst,o=this.zst,a=this.qst,c=this.Yst,h=[],f=!1,v=0;v<u.length;v++){var d=u[v];mo(c,d)||h.push(new RL(d))}for(var l=0;l<c.length;l++){var g=c[l];mo(u,g)||h.push(new NL(g))}for(var w=0;w<a.length;w++){var m=a[w];mo(e,m)||(h.push(new LL(m)),f=!0)}f&&h.push(new GL),r!==o&&(r&&h.push(new OL(r)),o&&h.push(new VL(o)));for(var y=0;y<i.length;y++){var p=i[y];mo(s,p)||h.push(new ZL(p,this.ta.bR()))}for(var _=0;_<s.length;_++){var b=s[_];mo(i,b)||h.push(new UL(b,this.ta.bR()))}for(var k=0;k<h.length;k++){var A=h[k];this.yo(A)}}}}]),n}(SL);F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Dt(),Rt();var YL=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).$c=!1,n.zst=null,n.Zst=[],n.Yst=[],n.qst=[],n.Za=void 0,n}It(n,t);var i=n.prototype;return i.Qst=function(t){},i.Kst=function(t,n){},i.o6=function(t,n,i){},i.RD=function(){},i.jst=function(t){},i.gn=function(){return this.Bo(),et.resolve()},Nt(n,[{key:"ga",get:function(){var t;return null!=(t=this.Za)?t:this.Za=TL(this)}}]),n}(ra),jL=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).lnt=[],n.hnt=[],n}It(n,t);var i=n.prototype;return i.o6=function(t,n,i){this.hnt.push({ant:t,unt:n,cnt:i})},i.RD=function(){},i.Qst=function(t){},i.Kst=function(t,n){this.lnt.push({iP:t,dnt:n})},i.jst=function(t){var n=this.lnt.slice(),i=this.hnt.slice();this.tr();for(var r=0;r<n.length;r++){var e=n[r];t.Kst(e.iP,e.dnt)}for(var u=0;u<i.length;u++){var s=i[u];t.o6(s.ant,s.unt,s.cnt)}},i.fnt=function(){var t=this.hnt.map((function(t){return t.ant}));return this.tr(),t},i.tr=function(){po(this.lnt),po(this.hnt)},i.gn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.tr(),[4,t.prototype.gn.call(n)];case 1:return i.sent(),[2]}}))}))()},n}(YL);F(),Tt(),Rt();var KL,qL=function(t){function n(n){var i;return(i=t.call(this,"tizen2retry")||this).originalErrorEvent=n,i}return It(n,t),n}(ea);function JL(){if(!KL){var t=fL;t=function(t){return function(n){function i(i,r){for(var e=new t(i,r),u=0;u<Vk.length;u++){var s=Vk[u];if(Wk[s])for(var o=0,a=Wk[s];o<a.length;o++)e=(0,a[o])(e)}return n.call(this,e)||this}return It(i,n),i}(Ok)}(t);var n=function(t){return function(n){function i(i,r){var e;return(e=n.call(this)||this).xnt=!0,e._7=pp.jB,e.Tnt=!1,e.JH=void 0,e.HG=void 0,e.wZ=void 0,e.pnt=function(t){t.type!==ua.Hy&&e.knt.push(t)},e.Rnt=function(t){(t.type!==ua.so||e.ta.ZR)&&(t.type===ua.Uy&&e.ta.ZR||t.type===ua.qy&&e.ta.nI&&e.ta.bR()===t.currentTime||t.type===ua.Hy&&e.ta.zR===t.playbackRate||e.yo(t))},e.II=function(t){if(e.Tnt){if(t.type===wp.LL)return;t.type!==wp.PL&&t.type!==wp.BL||(e.Tnt=!1)}if(t.type===ua.so){if(!e.xnt)return;e.xnt=!1}else if(t.type===ua.Uy){if(e.xnt)return;e.xnt=!0}else if(t.type===wp.QI){if(e._7===t.readyState)return;e._7=t.readyState}else if(t.type===ua.Ay)return;e.yo(t)},e._nt=new t(i,r),e.Ent=new yL,e.ta=e._nt,e.mnt=new kL(e),e._nt.Vc&&(e.Dc=new zL(e),e.Dc.cC=e._nt.Vc,e.Int=new jL),e.Go=new ad,e.knt=[],e.iZ=!0,e.jH(),e}It(i,n);var r=i.prototype;return r.qR=function(){return this._nt.zR},r.YR=function(t){this.ta.zR=t},r.Wo=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){return[2,i.Go.Wo(t,n).catch(Vo)]}))}))()},r.gnt=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:Oo(n),i._nt.Jw(i.pnt),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,i._nt.ka(t,n)];case 2:return r.sent(),[3,4];case 3:return i._nt.oy(i.pnt),[7];case 4:return[2]}}))}))()},r.vnt=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return[4,t.wnt()];case 1:return n=i.sent(),t.ynt(n),[2]}}))}))()},r.wnt=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){return(n=t.Ya())&&!GS(n)&&t.pO&&t.ZR?[2,t.ost.bnt(t.FR)]:[2,"none"]}))}))()},r.ynt=function(t){var n,i=(null==(n=this.Ya())?void 0:n.mutedAutoplay)||this.md.mutedAutoplay;switch(t){case"all":this.Bst();break;case"muted":(this.FR||i===pT.ALL)&&(this.FR=!0,this.AI())}},r.ka=function(t){GS(this.JH)||this.yo(new sT(0,pp.jB)),this.tr(),this.JH=t;var n=this;jo(this.Wo(Zt((function(i){var r,e;return Ht(this,(function(u){switch(u.label){case 0:Oo(i),u.label=1;case 1:return u.trys.push([1,3,4,5]),[4,n.gnt(t,i)];case 2:return u.sent(),[3,5];case 3:return Bo(r=u.sent()),n.JH=void 0,n.PH(nd(r,Qv.SOURCE_NOT_SUPPORTED)),[2];case 4:return n.Ant(n._nt),[7];case 5:return[4,n.wnt()];case 6:return e=u.sent(),n.yo(new mL(n.Ya())),n.ynt(e),[2]}}))}))))},r.AR=function(t,n){this.ta.AR(t,n)},r.xR=function(){var t;return null!=(t=this.wZ)?t:this._nt.xR()},r.IR=function(){var t;return null!=(t=this.HG)?t:this._nt.IR()},r.PH=function(t){void 0===this.IR()&&(this.HG=t,this.wZ=tw(t),this.yo(new wk(t)))},r.AI=function(){this.ta.AI()},r.Bst=function(){this.FR||this.yI(),this.AI()},r.yI=function(){this._nt.yI()},r.bI=function(){this.ta.bI()},r.SI=function(){this.ka(void 0)},r.ge=function(){this.iZ=!0,this.ta.ge()},r.be=function(){this.iZ=!1,this.ta.be()},r.Sa=function(){this._nt.Sa()},r._I=function(t){this._nt._I(t)},r.UR=function(t){this._nt.UR(t)},r.ja=function(t){this.Snt=t,t.XJ(this)},r.cs=function(){return this._nt.cs()},r.Ya=function(){return this.JH},r.wI=function(){return this._nt.wI()},r.bR=function(){return this.ta.bR()},r.fst=function(){return this.ta.fst()},r._d=function(){return this._nt._d()},r.vR=function(){return this._nt.vR()},r.jR=function(){return this._nt.jR()},r.sI=function(){return this._nt.sI()},r.xI=function(){this._nt.xI()},r.RI=function(){this._nt.RI()},r.DI=function(t){return this._nt.DI(t)},r.tr=function(){this.JH=void 0,this.HG=void 0,this.wZ=void 0,this.Tnt=!0,po(this.knt),this.Ent.tr(),this.Ant(this.Ent),this.Go.Xw();var t=this;jo(this.Go.Wo(Zt((function(n){return Ht(this,(function(i){switch(i.label){case 0:return Oo(n),[4,t._nt.SI()];case 1:return i.sent(),[2]}}))}))))},r.gn=function(){this.yo(new hL),this.mnt.gn(),this.QH(),this.tr();var t=this;jo(this.Wo(Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t._nt.gn()];case 1:return n.sent(),t.Snt&&(t.Snt.jS(t),t.Snt=void 0),t.Go.gn(),[2]}}))})))),this.Bo()},r.Ant=function(t){if(this.ta!==t){var n=this.ta.ZR,i=this.ta.bR(),r=this.ta.zR,e=this.ta.tI,u=this.ta.nI;this.xnt=n,this._7=e,this.QH(),t.Jw(this.Rnt),t===this._nt?(void 0!==this.Dc&&(this.Dc.cC=t.Vc,this.Int.jst(this.Dc)),(u||t.bR()!==i)&&t.AR(i),t.zR!==r&&(t.zR=r),n?t.bI():t.AI()):(void 0!==this.Dc&&(this.Dc.cC=this.Int,this.Int.tr()),this.md.retainPlaybackRateOnSourceChange?t.zR=r:1!==r&&this.yo(new hT(this.bR(),1))),t.oy(this.Rnt),this.ta=t,this.jH();for(var s=0,o=this.knt;s<o.length;s++){var a=o[s];this.yo(a)}po(this.knt),this.iZ?t.ge():t.be()}},r.jH=function(){this.ta.Jw(this.II)},r.QH=function(){this.ta.oy(this.II)},r.ma=function(){return wL(this)},Nt(i,[{key:"wst",get:function(){return this._nt.wst}},{key:"Vc",get:function(){return this.Dc}},{key:"gst",get:function(){return this._nt.gst}},{key:"md",get:function(){return this._nt.md}},{key:"aR",get:function(){return this._nt.aR}},{key:"wa",get:function(){return this._nt.wa}},{key:"aH",get:function(){return this._nt.aH}},{key:"mst",get:function(){return this._nt.mst}},{key:"ust",get:function(){return this._nt.ust}},{key:"xa",get:function(){return this._nt.xa}},{key:"nst",get:function(){return this._nt.nst}},{key:"pO",get:function(){return this._nt.pO},set:function(t){this._nt.pO=t,this.vnt()}},{key:"ost",get:function(){return this._nt.ost}},{key:"ht",get:function(){return this._nt.ht}},{key:"Tz",get:function(){return this._nt.Tz}},{key:"Uu",get:function(){return this._nt.ust}},{key:"ga",get:function(){return this.Za||(this.Za=this.ma()),this.Za}},{key:"PR",get:function(){return this._nt.PR}},{key:"gI",get:function(){return this._nt.gI},set:function(t){this._nt.gI=t}},{key:"LR",get:function(){return this._nt.LR}},{key:"WX",get:function(){return this._nt.WX}},{key:"nt",get:function(){return this._nt.nt}},{key:"Ll",get:function(){return this._nt.Ll}},{key:"rt",get:function(){return this._nt.rt}},{key:"dst",get:function(){return this._nt.dst}},{key:"Qj",get:function(){return this._nt.Qj}},{key:"mR",get:function(){return this.ta.mR},set:function(t){this.ta.mR=t}},{key:"bt",get:function(){return this._nt.bt}},{key:"we",get:function(){return this._nt.we}},{key:"kR",get:function(){return this._nt.kR}},{key:"FR",get:function(){return this._nt.FR},set:function(t){this.UR(t)}},{key:"ZR",get:function(){return this.ta.ZR}},{key:"mi",get:function(){return this.mnt.qu||""},set:function(t){this.mnt.Vst=t}},{key:"zR",get:function(){return this.qR()},set:function(t){this.YR(t)}},{key:"QR",get:function(){return this._nt.QR},set:function(t){this._nt.QR=t}},{key:"tI",get:function(){return this.ta.tI}},{key:"Ca",get:function(){return this._nt.Ca},set:function(t){this._nt.Ca=t}},{key:"nI",get:function(){return this.ta.nI}},{key:"Est",get:function(){return this._nt.Est}},{key:"Rst",get:function(){return this._nt.Rst}},{key:"TC",get:function(){return this._nt.TC}},{key:"hI",get:function(){return this._nt.hI}},{key:"cI",get:function(){return this._nt.cI}},{key:"dI",get:function(){return this._nt.dI},set:function(t){this._I(t)}},{key:"vI",get:function(){return this._nt.vI}},{key:"_st",get:function(){return this._nt._st}},{key:"To",get:function(){return this._nt.To}}]),i}(ra)}(t);Gn.Em&&Gn.Rm<3&&(n=function(t){return function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Cnt=0,n}It(n,t);var i=n.prototype;return i.ka=function(n){this.Cnt=0,t.prototype.ka.call(this,n)},i.yo=function(n){if(n.type===Vy.ua&&this.Cnt<3)return this.Cnt++,t.prototype.yo.call(this,new qL(n)),void t.prototype.ka.call(this,this.Ya());t.prototype.yo.call(this,n)},n}(t)}(n)),n=function(t){for(var n=t,i=0;i<Vk.length;i++){var r=Vk[i];if(Fk[r])for(var e=0,u=Fk[r];e<u.length;e++)n=(0,u[e])(n)}return n}(n),KL=n}return KL}function QL(t,n){var i=bT(n),r=new(JL())(t,i);r.Ca=r;var e=r.ga;return r.Sa(),r.ja(gL),b.defineProperty(e,"constructor",{value:QL}),e=function(t){return Tg(t)}(e),function(t){for(var n=0;n<Xk.length;n++)(0,Xk[n])(t)}(r),e}Yo((function(){self.dispatchEvent&&self.dispatchEvent(dL("theoplayerready"))})),F(),Tt();var $L=function(){function t(){}var n=t.prototype;return n.encode=function(t){return ka(t)},n.decode=function(t){return pa(t)},t}(),tM={base64:new $L};F(),Tt();var nM=JSON.parse('["hbbtv","dash","hesp","millicast","hls","chromecast","ads","theoads","airplay","spotx","vr","cache","webaudio","youbora","mediamelon","moat","google-dai","streamone","lcevc","freewheel","agama","uplynk","mediatailor"]'),iM="9.0.0",rM=gL.ga,eM=n_.lP.registerContentProtectionIntegration.bind(n_.lP);F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),Gt(),qt();var uM=function(){function t(t){this.lZ=t,this.Ynt=new ad}var n=t.prototype;return n.bnt=function(t){var n=this;return this.Ynt.Wo((function(){return n.Knt(t)}))},n.yI=function(){this.lZ.cZ()},n.Knt=function(n){var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return r=i.lZ.DH(jg.lE),e=r.XG,[4,t.jnt(e,n)];case 1:return u=s.sent(),[4,i.lZ.vH(r)];case 2:return s.sent(),[2,u]}}))}))()},n.gn=function(){this.Ynt.gn()},t.jnt=function(n,i){return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return Gn.Cm||Gn.Em?[2,"all"]:(n.src||(n.src="data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"),[4,t.Qnt()]);case 1:return e.sent(),(r=!i)?[4,t.Jnt(n,!1)]:[3,3];case 2:r=e.sent(),e.label=3;case 3:return r?[2,"all"]:[4,t.Jnt(n,!0)];case 4:return e.sent()?[2,"muted"]:[2,"none"]}}))}))()},t.Jnt=function(t,n){return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:t.muted=n,i=t.play(),e.label=1;case 1:return e.trys.push([1,3,4,5]),ii(i)?(r=Jo(250),[4,et.race([i,r])]):[2,!Gn.Qs];case 2:return e.sent(),[2,!0];case 3:return e.sent(),[2,!1];case 4:return t.pause(),t.muted=!0,[7];case 5:return[2]}}))}))()},t.Qnt=function(){return new et((function(t){if("function"==typeof MessageChannel){var n=new MessageChannel;n.port1.onmessage=function(){return t()},n.port2.postMessage("")}else g(t,0)}))},t}(),sM={vY:function(t){f.addEventListener("beforeunload",t)},lY:function(t){f.removeEventListener("beforeunload",t)}},oM={Fnt:Kx,qnt:uM,$nt:sM};F(),Tt();var aM=function(){function t(){}var n=t.prototype;return n.bnt=function(t){return et.resolve("all")},n.yI=function(){},n.gn=function(){},t}();(function(t){FT=t.Fnt,UT=t.qnt,WT=t.$nt})(Gn.Dm&&Gn.Mm?$u({},oM,{qnt:aM}):oM),F(),Tt(),F(),Tt(),Rt(),F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Gt(),qt();var cM=function(){function t(){}var n=t.prototype;return n.NH=function(t){return Zt((function(){return Ht(this,(function(n){return[2,ZA(t.type)]}))}))()},n.MH=function(t){return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,__(t,!0)];case 1:return n.sent()?[2,!0]:[2,!1]}}))}))()},t}(),hM=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n.prototype.NH=function(n){var i=this;return Zt((function(){return Ht(this,(function(r){return Lr(n.useManagedMediaSource)?[2,t.prototype.NH.call(i,n)]:[2,!1]}))}))()},n}(cM);function fM(t){return gl(t)}function vM(t,n){var i=gl(t);return n?""+i+n:""+i}F(),Tt(),Gt(),qt(),F(),Tt();var dM=function(){function t(t,n,i,r){this.irt=t,this.rrt=n,this.hrt=i,this.art=r}var n=t.prototype;return n.trt=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.irt.ert(t.map(fM))];case 1:return[2,i.sent().shift()]}}))}))()},n.nrt=function(t,n){var i=vM(t,n);return this.rrt.Ib(i)},n.ort=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return e=vM(t,n),[4,i.hrt.Cb(e)];case 1:return[2,null==(r=u.sent())?void 0:r.data]}}))}))()},n.TQ=function(t){return this.art.Cb(t)},t}();F(),Tt(),Dt(),F(),Tt(),F(),Tt();var lM=function(){function t(){}var n=t.prototype;return n.urt=function(t){return et.resolve(!1)},n.crt=function(t){return et.reject(gM)},n.lrt=function(t){return et.reject(gM)},n.Ib=function(t){return et.resolve(!1)},n.Cb=function(t){return et.resolve(void 0)},n.drt=function(t,n){return et.resolve(void 0)},n.ert=function(t){return et.resolve([])},n.frt=function(){return et.resolve([])},n._rt=function(t){return et.resolve([])},n.vrt=function(t,n){return et.resolve([])},n.jS=function(t){return et.reject(gM)},n.mrt=function(t){return et.reject(gM)},n.grt=function(){return et.reject(gM)},t}(),gM="Storage disabled",wM=function(){function t(){this.Trt=new lM,this.Srt=new lM,this.krt=new lM,this.Ert=new lM,this.xrt=new lM}return t.prototype.brt=function(t){return et.reject(mM)},t.uit=function(){return et.resolve(new t)},t}(),mM="Storage disabled";F(),Tt(),Gt(),qt(),F(),Tt(),Gt(),Dt(),qt(),F(),Tt(),Gt(),Dt(),qt();var yM=function(){function t(t){var n=this;this.Zw=new Zc,this.wrt=void 0,this.Zw.zw(t),this.Zw.Bb.then((function(t){n.wrt=t}))}var n=t.prototype;return n.urt=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return(i=n.wrt)?[3,2]:[4,n.prt];case 1:i=r.sent(),r.label=2;case 2:return[2,i.urt(t)]}}))}))()},n.crt=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return(r=i.wrt)?[3,2]:[4,i.prt];case 1:r=e.sent(),e.label=2;case 2:return[2,r.crt(t,n)]}}))}))()},n.lrt=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return(r=i.wrt)?[3,2]:[4,i.prt];case 1:r=e.sent(),e.label=2;case 2:return[2,r.lrt(t,n)]}}))}))()},n.Ib=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return(i=n.wrt)?[3,2]:[4,n.prt];case 1:i=r.sent(),r.label=2;case 2:return[2,i.Ib(t)]}}))}))()},n.Cb=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return(i=n.wrt)?[3,2]:[4,n.prt];case 1:i=r.sent(),r.label=2;case 2:return[2,i.Cb(t)]}}))}))()},n.drt=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return(r=i.wrt)?[3,2]:[4,i.prt];case 1:r=e.sent(),e.label=2;case 2:return[2,r.drt(t,n)]}}))}))()},n.ert=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return(i=n.wrt)?[3,2]:[4,n.prt];case 1:i=r.sent(),r.label=2;case 2:return[2,i.ert(t)]}}))}))()},n.frt=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return(n=t.wrt)?[3,2]:[4,t.prt];case 1:n=i.sent(),i.label=2;case 2:return[2,n.frt()]}}))}))()},n._rt=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return(i=n.wrt)?[3,2]:[4,n.prt];case 1:i=r.sent(),r.label=2;case 2:return[2,i._rt(t)]}}))}))()},n.vrt=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return(r=i.wrt)?[3,2]:[4,i.prt];case 1:r=e.sent(),e.label=2;case 2:return[2,r.vrt(t,n)]}}))}))()},n.jS=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return(i=n.wrt)?[3,2]:[4,n.prt];case 1:i=r.sent(),r.label=2;case 2:return[2,i.jS(t)]}}))}))()},n.mrt=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return(i=n.wrt)?[3,2]:[4,n.prt];case 1:i=r.sent(),r.label=2;case 2:return[2,i.mrt(t)]}}))}))()},n.grt=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return(n=t.wrt)?[3,2]:[4,t.prt];case 1:n=i.sent(),i.label=2;case 2:return[2,n.grt()]}}))}))()},Nt(t,[{key:"prt",get:function(){return this.Zw.Bb}}]),t}(),pM=function(){function t(t){var n=this;this.Zw=new Zc,this.Art=void 0,this.Zw.zw(t);var i=this.Zw.Bb;i.then((function(t){n.Art=t})),this.Srt=new yM(i.then((function(t){return t.Srt}))),this.Trt=new yM(i.then((function(t){return t.Trt}))),this.krt=new yM(i.then((function(t){return t.krt}))),this.Ert=new yM(i.then((function(t){return t.Ert}))),this.xrt=new yM(i.then((function(t){return t.xrt})))}return t.prototype.brt=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return(i=n.Art)?[3,2]:[4,n.yrt];case 1:i=r.sent(),r.label=2;case 2:return[4,i.brt(t)];case 3:return[2,r.sent()]}}))}))()},Nt(t,[{key:"yrt",get:function(){return this.Zw.Bb}}]),t}();function _M(t){return new p("This storage cannot handle persistency type "+t)}F(),Tt(),F(),Tt(),Ut(),F(),Tt();var bM=function(t){return t.Rrt="readonly",t.Irt="readwrite",t}({}),kM=function(){function t(){this.fA=[]}var n=t.prototype;return n.urt=function(t){return et.resolve("temporary"===t)},n.crt=function(t,n){return void 0===n&&(n="temporary"),"temporary"!==n?et.reject(_M(n)):(this.Crt(t.key),this.fA.push(t),et.resolve())},n.lrt=function(t,n){if(void 0===n&&(n="temporary"),"temporary"!==n)return et.reject(_M(n));for(var i=0;i<t.length;i++){var r=t[i];this.Crt(r.key)}for(var e=0;e<t.length;e++){var u=t[e];this.fA.push(u)}return et.resolve()},n.Ib=function(t){return et.resolve(Boolean(this.Prt(t)))},n.Cb=function(t){return et.resolve(this.Prt(t))},n.drt=function(t,n){return et.resolve(this.Drt(t,n))},n.ert=function(t){var n=this,i=t?t.map((function(t){return n.Prt(t)})):this.fA;return et.resolve(i.filter(Yn))},n.frt=function(){return et.resolve(Ft(this.fA))},n._rt=function(t){return this.vrt(t,"key")},n.vrt=function(t,n){var i=this.fA.filter((function(i){return i[n]===t}));return et.resolve(i)},n.jS=function(t){return this.Crt(t),et.resolve()},n.mrt=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Crt(i)}return et.resolve()},n.grt=function(){return po(this.fA),et.resolve()},n.Prt=function(t){return this.Drt(t,"key")},n.Drt=function(t,n){for(var i=0,r=this.fA;i<r.length;i++){var e=r[i];if(e[n]===t)return e}},n.Crt=function(t){var n=this.Prt(t);n&&lo(this.fA,n)},t}(),AM=function(){function t(){this.Trt=new kM,this.Srt=new kM,this.krt=new kM,this.Ert=new kM,this.xrt=new kM}return t.prototype.brt=function(t){return t(this)},t.uit=function(){return et.resolve(new t)},t}();F(),Tt(),Gt(),Dt(),qt(),F(),Tt(),Gt(),Ut(),qt();var TM=function(){function t(t){this.Nrt=t}var n=t.prototype;return n.urt=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:i=0,r=n.Nrt,e.label=1;case 1:return i<r.length?[4,r[i].urt(t)]:[3,4];case 2:if(e.sent())return[2,!0];e.label=3;case 3:return i++,[3,1];case 4:return[2,!1]}}))}))()},n.crt=function(t,n){void 0===n&&(n="persistent");var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:r=0,e=i.Nrt,s.label=1;case 1:return r<e.length?[4,(u=e[r]).urt(n)]:[3,4];case 2:if(s.sent())return[2,u.crt(t)];s.label=3;case 3:return r++,[3,1];case 4:throw _M(n)}}))}))()},n.lrt=function(t,n){void 0===n&&(n="persistent");var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:r=0,e=i.Nrt,s.label=1;case 1:return r<e.length?[4,(u=e[r]).urt(n)]:[3,4];case 2:if(s.sent())return[2,u.lrt(t)];s.label=3;case 3:return r++,[3,1];case 4:throw _M(n)}}))}))()},n.Ib=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:i=0,r=n.Nrt,e.label=1;case 1:return i<r.length?[4,r[i].Ib(t)]:[3,4];case 2:if(e.sent())return[2,!0];e.label=3;case 3:return i++,[3,1];case 4:return[2,!1]}}))}))()},n.Cb=function(t){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:i=0,r=n.Nrt,u.label=1;case 1:return i<r.length?[4,r[i].Cb(t)]:[3,4];case 2:if(e=u.sent())return[2,e];u.label=3;case 3:return i++,[3,1];case 4:return[2,void 0]}}))}))()},n.drt=function(t,n){var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:r=0,e=i.Nrt,s.label=1;case 1:return r<e.length?[4,e[r].drt(t,n)]:[3,4];case 2:if(u=s.sent())return[2,u];s.label=3;case 3:return r++,[3,1];case 4:return[2,void 0]}}))}))()},n.ert=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:i=[],r=0,e=n.Nrt,h.label=1;case 1:return r<e.length?(u=e[r],a=(o=(s=i).push).apply,c=[s],[4,u.ert(t)]):[3,4];case 2:a.apply(o,c.concat([Ft.apply(void 0,[h.sent()])])),h.label=3;case 3:return r++,[3,1];case 4:return[2,i]}}))}))()},n.frt=function(){var t=this;return Zt((function(){var n,i,r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:n=[],i=0,r=t.Nrt,c.label=1;case 1:return i<r.length?(e=r[i],o=(s=(u=n).push).apply,a=[u],[4,e.frt()]):[3,4];case 2:o.apply(s,a.concat([Ft.apply(void 0,[c.sent()])])),c.label=3;case 3:return i++,[3,1];case 4:return[2,n]}}))}))()},n._rt=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:i=[],r=0,e=n.Nrt,h.label=1;case 1:return r<e.length?(u=e[r],a=(o=(s=i).push).apply,c=[s],[4,u._rt(t)]):[3,4];case 2:a.apply(o,c.concat([Ft.apply(void 0,[h.sent()])])),h.label=3;case 3:return r++,[3,1];case 4:return[2,i]}}))}))()},n.vrt=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:r=[],e=0,u=i.Nrt,f.label=1;case 1:return e<u.length?(s=u[e],c=(a=(o=r).push).apply,h=[o],[4,s.vrt(t,n)]):[3,4];case 2:c.apply(a,h.concat([Ft.apply(void 0,[f.sent()])])),f.label=3;case 3:return e++,[3,1];case 4:return[2,r]}}))}))()},n.jS=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:i=0,r=n.Nrt,e.label=1;case 1:return i<r.length?[4,r[i].jS(t)]:[3,4];case 2:e.sent(),e.label=3;case 3:return i++,[3,1];case 4:return[2]}}))}))()},n.mrt=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:i=0,r=n.Nrt,e.label=1;case 1:return i<r.length?[4,r[i].mrt(t)]:[3,4];case 2:e.sent(),e.label=3;case 3:return i++,[3,1];case 4:return[2]}}))}))()},n.grt=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:n=0,i=t.Nrt,r.label=1;case 1:return n<i.length?[4,i[n].grt()]:[3,4];case 2:r.sent(),r.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))()},t}();function SM(t){return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return[4,et.all(t.map((function(t){return t()})))];case 1:return n=i.sent(),[2,EM.uit(n)]}}))}))}var EM=function(){function t(t){this.Vrt=t,this.Mrt=new TM(t.map((function(t){return t.Ert}))),this.Lrt=new TM(t.map((function(t){return t.xrt}))),this.Brt=new TM(t.map((function(t){return t.krt}))),this.Ort=new TM(t.map((function(t){return t.Trt}))),this.Frt=new TM(t.map((function(t){return t.Srt})))}return t.prototype.brt=function(n){var i=this;if(0===this.Vrt.length)return n(this);var r=[],e=0,u=function(s){return r.push(s),++e<i.Vrt.length?i.Vrt[e].brt(u):n(new t(r))};return this.Vrt[e].brt(u)},t.uit=function(n){return et.resolve(new t(n))},Nt(t,[{key:"Ert",get:function(){return this.Mrt}},{key:"xrt",get:function(){return this.Lrt}},{key:"krt",get:function(){return this.Brt}},{key:"Trt",get:function(){return this.Ort}},{key:"Srt",get:function(){return this.Frt}}]),t}(),IM=function(){function t(t){this.Zrt=[],this.Hrt=!0,this.Xrt=t}var n=t.prototype;return n.uit=function(){return new pM(this.Grt())},n.Grt=function(){var t=this;return Zt((function(){var n,i,r;return Ht(this,(function(e){switch(e.label){case 0:return t.Hrt?[4,et.resolve()]:[3,2];case 1:e.sent(),t.Hrt=!1,e.label=2;case 2:n=0,i=t.Zrt,e.label=3;case 3:if(!(n<i.length))return[3,8];r=i[n],e.label=4;case 4:return e.trys.push([4,6,,7]),[4,SM([AM.uit,r])()];case 5:return[2,e.sent()];case 6:return e.sent(),[3,7];case 7:return n++,[3,3];case 8:return[4,SM([AM.uit,t.Xrt])()];case 9:return[2,e.sent()]}}))}))()},n.ja=function(t){if(!this.Hrt)throw new p("Registration overdue");this.Zrt.push(t)},t}(),RM=function(){function t(){}return t.ja=function(n){t.bG.ja(n)},Nt(t,null,[{key:"Lg",get:function(){return t.Wrt||(t.Wrt=t.bG.uit()),t.Wrt}}]),t}();function CM(t){return void 0!==t.hI}function NM(t){var n=Gn.Cm||Gn.Em,i=void 0!==t&&void 0!==t.preferredAudioCodecs&&t.preferredAudioCodecs.some((function(t){return"ac-3"===t||"ec-3"===t})),r=n&&!i,e=new xr(!0);return Zt((function(t){var n,i,u;return Ht(this,(function(s){switch(s.label){case 0:return n=t.Ik,e.mp(n)||function(t,n){return!!t&&(Nv(t)?Ky(n)||Jy(n):Os(t,Cv.APPLICATION_TTML_XML)||Os(t,Cv.TEXT_VTT)||Os(t,Cv.IMAGE_JPEG))}(t.Xq,t.Urt)?(i=t.Urt.some((function(t){return"ac-3"===t||"ec-3"===t})),r&&i?[2,!1]:t.wG?(u=t.wG,[4,Ro(bo(u,(function(t){return Ls(t.J6)})).filter(Yn),(function(t){return Kn.Xp(t,n)}))]):[3,2]):[2,!1];case 1:if(!s.sent())return[2,!1];s.label=2;case 2:return[2,!0]}}))}))}RM.bG=new IM(wM.uit),RM.Wrt=void 0,F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),F(),Tt(),Gt(),qt(),F(),Tt(),Dt();var DM=function(){function t(t){this.zrt=t}return Nt(t,[{key:"Ti",get:function(){return this.zrt.offsetHeight*Kn.Ys.Xg}},{key:"ji",get:function(){return this.zrt.offsetWidth*Kn.Ys.Xg}}]),t}();F(),Tt(),Dt();var PM=function(){function t(t,n){this.Ul=new Xy,this.c8=new LD(t,n)}var n=t.prototype;return n.DI=function(t,n,i,r,e,u,s,o){var a=new MN(t,n,i,r,e,u,s,void 0,o);return this.Ul.tt(a),this.c8.tt(a),a},n.lW=function(t){this.Ul.it(t),this.c8.it(t),t.gn()},n.uH=function(t){var n=new uP(t.Lt,t.kh,t.gs);return this.Ul.tt(n),this.c8.tt(n),n},n.tr=function(){for(var t=0,n=this.Ul.oC.slice();t<n.length;t++){n[t].gn()}this.Ul.tr(),this.c8.tr()},n.gn=function(){this.tr(),this.Ul.gn(),this.c8.gn()},Nt(t,[{key:"nt",get:function(){return this.Ul}}]),t}();F(),Tt(),Gt(),Rt(),qt(),F(),Tt();var xM=function(){function t(t){this.bG=t}var n=t.prototype;return n.DH=function(t){return this.bG.DH(t)},n.Znt=function(t){return this.bG.Znt(t)},n.vH=function(t){return this.bG.vH(t)},t}();F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Gt(),Dt(),Rt(),qt();var LM=function(t){function n(n){var i;return(i=t.call(this)||this).qG=void 0,i.$rt=new Jk,i.aot=function(t){return i.II(t)},i.LB=n,i.$rt.cC=n.nt,i.LB.yn(ER,i.aot),i}It(n,t);var i=n.prototype;return i.vR=function(){return this.LB._R},i.gR=function(){return this.LB.mR},i.bR=function(){return this.LB.yR},i._d=function(){return this.LB.ct},i.Yrt=function(){return this.LB.YG},i.Krt=function(){return this.LB.kR},i.pI=function(){return this.LB.wa},i._a=function(){return this.LB.aH},i.jrt=function(){return this.LB.ZR},i.jR=function(){return this.LB.KR},i.eI=function(){return this.LB.tI},i.sI=function(){return this.LB.iI},i.rI=function(){return this.LB.nI},i.Qrt=function(){return this.LB.A4},i.Jrt=function(){return this.LB.M4},i.oI=function(){return this.$rt},i.V7=function(){return this.LB.Ll},i.tot=function(){return this.LB._H},i.eot=function(t){this.LB._H=t},i.iot=function(t){this.LB.f7=t},i.rot=function(){return this.LB.K6},i.OR=function(){return this.LB.OR()},i.AI=function(){return this.LB.AI()},i.bI=function(){this.LB.bI()},i.Sb=function(t,n,i){this.LB.Sb(t,n,i)},i.UG=function(t){this.LB.UG(t)},i.ge=function(){this.LB.ge()},i.be=function(){this.LB.be()},i.DI=function(t,n,i,r,e,u,s,o){return this.LB.DI(t,n,i,r,e,u,s,o)},i.uH=function(t){return this.LB.uH(t)},i.nH=function(){return this.LB.nH()},i.oH=function(t,n,i,r,e){return this.LB.oH(t,n,i,r,e)},i.lW=function(t){this.LB.lW(t)},i.cH=function(){this.LB.cH()},i.IJ=function(t){return this.LB.IJ(t)},i.$n=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return[4,n.LB.$n(t)];case 1:return i=e.sent(),r=t.pw===gp.fW?n.oot(i):n.hot(i),n.qG=r,[2,r]}}))}))()},i.tr=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.qG?[4,t.qG.Ww()]:[3,2];case 1:n.sent(),t.qG=void 0,n.label=2;case 2:return[4,t.LB.tr()];case 3:return n.sent(),[2]}}))}))()},i.o7=function(){this.LB.o7()},i.h7=function(){this.LB.h7()},i.Ww=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.Bo(),t.LB.fn(ER,t.aot),t.$rt.cC=void 0,t.$rt.gn(),t.qG?[4,t.qG.Ww()]:[3,2];case 1:n.sent(),t.qG=void 0,n.label=2;case 2:return[2]}}))}))()},i.l7=function(){this.LB.l7()},i.uot=function(t){this.LB.fn(ER,this.aot),this.LB=t,this.$rt.cC=t.nt,this.LB.yn(ER,this.aot)},i.II=function(t){this.yo(t)},Nt(n,[{key:"qrt",get:function(){return this.LB}},{key:"_R",get:function(){return this.vR()}},{key:"mR",get:function(){return this.gR()}},{key:"yR",get:function(){return this.bR()}},{key:"Uu",get:function(){return this.LB.Uu}},{key:"ct",get:function(){return this._d()}},{key:"YG",get:function(){return this.Yrt()}},{key:"kR",get:function(){return this.Krt()}},{key:"lt",get:function(){return this.LB.lt}},{key:"Ti",get:function(){return this.LB.Ti}},{key:"ji",get:function(){return this.LB.ji}},{key:"wa",get:function(){return this.pI()}},{key:"aH",get:function(){return this._a()}},{key:"FR",get:function(){return this.LB.FR},set:function(t){this.LB.FR=t}},{key:"ZR",get:function(){return this.jrt()}},{key:"zR",get:function(){return this.LB.zR},set:function(t){this.LB.zR=t}},{key:"KR",get:function(){return this.jR()}},{key:"tI",get:function(){return this.eI()}},{key:"iI",get:function(){return this.sI()}},{key:"nI",get:function(){return this.rI()}},{key:"A4",get:function(){return this.Qrt()}},{key:"M4",get:function(){return this.Jrt()}},{key:"nt",get:function(){return this.oI()}},{key:"Ll",get:function(){return this.V7()}},{key:"P9",get:function(){return this.LB.P9}},{key:"dI",get:function(){return this.LB.dI},set:function(t){this.LB.dI=t}},{key:"a7",get:function(){return this.LB.a7}},{key:"NR",get:function(){return this.LB.NR}},{key:"GB",get:function(){return this.LB.GB}},{key:"_H",get:function(){return this.tot()},set:function(t){this.eot(t)}},{key:"f7",get:function(){return this.LB.f7},set:function(t){this.iot(t)}},{key:"K6",get:function(){return this.rot()}}]),n}(na),MM=function(t){function n(n){return t.call(this,n)||this}It(n,t);var i=n.prototype;return i.d7=function(t){this.LB.d7(t)},i.xI=function(){this.LB.xI()},Nt(n,[{key:"XG",get:function(){return this.LB.XG}},{key:"C4",get:function(){return this.LB.C4}},{key:"gI",get:function(){return this.LB.gI},set:function(t){this.LB.gI=t}}]),n}(LM);F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Dt();var OM=function(){function t(t){this.qG=t}var n=t.prototype;return n.lT=function(){return this.qG.md},n.sI=function(){return this.qG.iI},n.hJ=function(t){return this.qG.hJ(t)},n.uJ=function(t){return this.qG.uJ(t)},n.Ww=function(){return et.resolve()},Nt(t,[{key:"md",get:function(){return this.lT()}},{key:"iI",get:function(){return this.sI()}}]),t}(),BM=function(t){function n(n){var i;return(i=t.call(this,n)||this).Q3=void 0,i.J3=void 0,i._ot=function(t){return i.vot(t)},i}It(n,t);var i=n.prototype;return i.vR=function(){return this.qG._R},i._d=function(){return this.qG.ct},i.cot=function(){return this.qG.SJ},i.e4=function(t){this.qG.e4(t)},i.r4=function(t,n,i,r){this.qG.r4(t,n,i,r)},i.i3=function(){this.qG.i3()},i.z2=function(){this.qG.z2()},i.Ww=function(){return this.Q3&&(this.Q3.Ww(),this.Q3=void 0),this.J3&&(this.J3.Ww(),this.J3=void 0),t.prototype.Ww.call(this)},i.lot=function(t){this.qG=t,this.Q3?t.K3?this.Q3.dot(t.K3):(this.Q3.Ww(),this.Q3=void 0):t.K3&&(this.Q3=this.fot(t.K3),this.Q3.yn(NR,this._ot)),this.J3?t.j3?this.J3.dot(t.j3):(this.J3.Ww(),this.J3=void 0):t.j3&&(this.J3=this.fot(t.j3),this.J3.yn(NR,this._ot))},i.lJ=function(t){this.qG.lJ(t)},i.vot=function(t){},Nt(n,[{key:"K3",get:function(){return this.Q3}},{key:"j3",get:function(){return this.J3}},{key:"_R",get:function(){return this.vR()}},{key:"ct",get:function(){return this._d()}},{key:"SJ",get:function(){return this.cot()}}]),n}(OM);F(),Tt(),Gt(),Dt(),Rt(),nn(),qt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt();var VM=function(t){function n(n){var i;return(i=t.call(this)||this).Ej=0,i.Ij=0,i.IT=n,i}It(n,t);var i=n.prototype;return i.l2=function(t,n,i){return et.reject(new p("Invalid media buffer"))},i.d3=function(){return et.reject(new p("Invalid media buffer"))},i._2=function(t,n,i){return et.reject(new p("Invalid media buffer"))},i.SJ=function(){return!1},i.i3=function(){},i.u3=function(t,n){},i.l3=function(t,n){},i.jS=function(t,n,i){return et.resolve()},i.N2=function(t,n){return et.reject(new p("Invalid media buffer"))},i.xO=function(t,n){return et.reject(new p("Invalid media buffer"))},i.hJ=function(t){return!1},i.uJ=function(t){return et.reject(new p("Invalid media buffer"))},i.Ww=function(){this.Bo()},Nt(n,[{key:"yj",get:function(){return this.Ij},set:function(t){this.Ij=t}},{key:"_R",get:function(){return AA.fB()}},{key:"md",get:function(){return this.IT}},{key:"n3",get:function(){return jg.Qk}},{key:"o3",get:function(){return AA.fB()}},{key:"mot",get:function(){return!1}},{key:"mj",get:function(){return this.Ej},set:function(t){this.Ej=t}}]),n}(na),FM=function(t){function n(n){var i;return(i=t.call(this)||this).Sot=function(t){return i.II(t)},i.wot=n,i.wot.yn(NR,i.Sot),i}It(n,t);var i=n.prototype;return i.got=function(){return this.wot.yj},i.pot=function(t){this.wot.yj=t},i.vR=function(){return this.wot._R},i.lT=function(){return this.wot.md},i.yot=function(){return this.wot.o3},i.bot=function(){return this.wot.mj},i.Aot=function(t){this.wot.mj=t},i.l2=function(t,n,i){return this.wot.l2(t,n,i)},i.d3=function(){return this.wot.d3()},i._2=function(t,n,i){return this.wot._2(t,n,i)},i.SJ=function(){return this.wot.SJ()},i.i3=function(){this.wot.i3()},i.u3=function(t,n){this.wot.u3(t,n)},i.l3=function(t,n){this.wot.l3(t,n)},i.jS=function(t,n,i){return this.wot.jS(t,n,i)},i.N2=function(t,n){return this.wot.N2(t,n)},i.hJ=function(t){return this.wot.hJ(t)},i.uJ=function(t){return this.wot.uJ(t)},i.II=function(t){this.yo(t)},i.Ww=function(){this.Bo(),this.dot(new VM(this.md))},i.dot=function(t){this.wot.fn(NR,this.Sot),this.wot=t,this.wot.yn(NR,this.Sot)},Nt(n,[{key:"yj",get:function(){return this.got()},set:function(t){this.pot(t)}},{key:"_R",get:function(){return this.vR()}},{key:"md",get:function(){return this.lT()}},{key:"n3",get:function(){return this.wot.n3}},{key:"o3",get:function(){return this.yot()}},{key:"mj",get:function(){return this.bot()},set:function(t){this.Aot(t)}}]),n}(na),UM=function(t){function n(n){var i;return(i=t.call(this,n)||this).LB=void 0,i}It(n,t);var i=n.prototype;return i.l2=function(t,n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return Oo(i),[4,r.Tot(r.LB.yR,null==n?void 0:n.hit,null==n?void 0:n.ct)];case 1:return e.sent(),Oo(i),t.pw!==DR.pk?[3,3]:[4,r.kot(t,n,i)];case 2:case 4:return[2,e.sent()];case 3:return[4,r.Eot(t,n,i)];case 5:return[2]}}))}))()},i.kot=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:e=t,c.label=1;case 1:0,u=tn(Ud(e.Zk),2),s=u[0],o=u[1],e={pw:DR.pk,Zk:s},c.label=2;case 2:return c.trys.push([2,4,,7]),[4,r.xot(e,n,i)];case 3:return c.sent(),o.cancel(new Lo).catch(pi),[2];case 4:return HI(a=c.sent())?[4,r.Tot(r.LB.yR,n.hit,n.ct,i)]:[3,6];case 5:if(c.sent())return e={pw:DR.pk,Zk:o},[3,1];c.label=6;case 6:throw o.cancel(a).catch(pi),a;case 7:return[3,1];case 8:return[2]}}))}))()},i.Eot=function(t,n,i){var r=this;return Zt((function(){var e;return Ht(this,(function(u){switch(u.label){case 0:0,u.label=1;case 1:return u.trys.push([1,3,,6]),Oo(i),[4,r.xot(t,n,i)];case 2:return[2,u.sent()];case 3:return HI(e=u.sent())?[4,r.Tot(r.LB.yR,n.hit,n.ct,i)]:[3,5];case 4:if(u.sent())return[3,0];u.label=5;case 5:throw e;case 6:return[3,0];case 7:return[2]}}))}))()},i.Tot=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:u=GI(t,n,i,e._R,e.mj,e.yj),s=0,h.label=1;case 1:return s<u.length?(o=tn(u[s],2),a=o[0],c=o[1],[4,e.Rot(a,c,r)]):[3,4];case 2:h.sent(),h.label=3;case 3:return s++,[3,1];case 4:return[2,u.length>0]}}))}))()},i.xot=function(n,i,r){return t.prototype.l2.call(this,n,i,r)},i.Rot=function(n,i,r){return t.prototype.jS.call(this,n,i,r)},Nt(n,[{key:"Unt",get:function(){return this.LB},set:function(t){this.LB=t}}]),n}(FM),WM=function(t){function n(n){var i;return(i=t.call(this,n)||this).LB=void 0,i.lot(n),i}return It(n,t),n.prototype.fot=function(t){var n=new UM(t);return n.Unt=this.LB,n},Nt(n,[{key:"Unt",get:function(){return this.LB},set:function(t){this.LB=t,this.Q3&&(this.Q3.Unt=t),this.J3&&(this.J3.Unt=t)}}]),n}(BM);F(),Tt(),Dt(),Rt();var ZM=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),Nt(n,[{key:"QR",get:function(){return this.qG.QR},set:function(t){this.qG.QR=t}}]),n}(OM);F(),Tt(),Dt(),Rt();var XM=function(t){function n(n){return t.call(this,n)||this}It(n,t);var i=n.prototype;return i.d7=function(t){this.LB.d7(t)},i.xI=function(){this.LB.xI()},i.wI=function(){return this.LB.wI()},Nt(n,[{key:"XG",get:function(){return this.LB.XG}},{key:"C4",get:function(){return this.LB.C4}},{key:"cI",get:function(){return this.LB.cI}},{key:"hI",get:function(){return this.LB.hI}},{key:"gI",get:function(){return this.LB.gI},set:function(t){this.LB.gI=t}}]),n}(LM),GM=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.hot=function(t){var n=new WM(t);return n.Unt=this,n},i.oot=function(t){return new ZM(t)},Nt(n,[{key:"qrt",get:function(){return this.LB}}]),n}(MM),HM=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.hot=function(t){var n=new WM(t);return n.Unt=this,n},i.oot=function(t){return new ZM(t)},Nt(n,[{key:"qrt",get:function(){return this.LB}}]),n}(XM),zM=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.DH=function(n){return n===jg.lE?new HM(t.prototype.DH.call(this,n)):n===jg.cE?new GM(t.prototype.DH.call(this,n)):void 0},i.vH=function(n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return[4,(r=n).Ww()];case 1:return e.sent(),[4,t.prototype.vH.call(i,r.qrt)];case 2:return e.sent(),[2]}}))}))()},n}(xM);F(),Tt();var YM=function(){function t(t){var n=this;this.Cot=function(t){t.persisted&&n.Iot()},this.ta=t,f.addEventListener("pageshow",this.Cot)}var n=t.prototype;return n.Iot=function(){this.ta.RI()},n.gn=function(){f.removeEventListener("pageshow",this.Cot)},t}();F(),Tt(),Gt(),Dt(),Rt(),Ut(),qt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Gt(),Dt(),qt(),F(),Tt(),F(),Tt();var jM=function(){function t(t){this.Mot=t}var n=t.prototype;return n.Pot=function(t,n,i){return et.resolve()},n.Dot=function(t,n,i,r){var e=[];if(r){var u={RV:n.LO,CV:n.BO,PV:i.Not.PV};r.pw===kw.TTML?e=Ty(t,r,u,i.Xq):r.pw===kw.WEBVTT&&(e=Tm(t,u,this.Mot).L)}return e},n.tr=function(){},t}();F(),Tt(),Ut(),F(),Tt(),sn(),F(),Tt();var KM,qM=function(t){return t.QP="vttc",t.Lot="vsid",t.Bot="iden",t.Oot="ctim",t.Fot="sttg",t.Vot="payl",t.Wot="vtte",t.Uot="vtta",t}({}),JM=function(){function t(){}return t.Got=function(n){return Boolean(t.Hot[n])},t.qD=function(n){for(var i=[],r=ay.DD(new ey(n,new Ec)),e=0;e<r.length;e++){var u=r[e];t.Got(u.pw)&&i.push(t.Hot[u.pw](u.Zk))}return i},t.Zot=function(n){var i=ay.DD(n),r=hy(i,qM.Lot),e=hy(i,qM.Bot),u=hy(i,qM.Oot),s=hy(i,qM.Fot),o=hy(i,qM.Vot);return{pw:qM.QP,Xot:r?t.zot(r):void 0,qot:e?t.Yot(e):void 0,Kot:u?t.jot(u):void 0,Qot:s?t.Jot(s):void 0,$ot:o?t.tht(o):void 0}},t.zot=function(t){return{pw:qM.Lot,eht:t.bD()}},t.Yot=function(t){return{pw:qM.Bot,qot:t.xD()}},t.jot=function(t){return{pw:qM.Oot,iht:t.xD()}},t.Jot=function(t){return{pw:qM.Fot,sht:t.xD()}},t.tht=function(t){return{pw:qM.Vot,nht:t.xD()}},t.rht=function(t){return{pw:qM.Wot}},t.oht=function(t){return{pw:qM.Uot,hht:t.xD()}},t}();JM.Hot=(un(KM={},qM.QP,JM.Zot),un(KM,qM.Wot,JM.rht),un(KM,qM.Uot,JM.oht),KM);var QM=function(){function t(){this.uht=NaN}var n=t.prototype;return n.Pot=function(t,n,i){var r=new DataView(t.aht),e=dy.qD(r),u=ao(e,(function(t){return t.pw===ty.dP}));return u&&(this.uht=u.Z[0].gN.WD.lN),et.resolve()},n.Dot=function(t,n,i){if(S(this.uht))return[];var r=pc(t),e=dy.qD(r),u=sy(e,ty.eD),s=sy(e,ty.aD);if(!u||0===u.Z.length||!s)return[];var o=function(t,n,i){for(var r=t.Z[0],e=r.sL?r.sL.sL.toNumber()/i:n.LO,u=[],s=0,o=r.iL;s<o.length;s++){var a,c=o[s];(a=u).push.apply(a,Ft(c.uL))}return{cht:e,uL:u}}(u,n,this.uht),a=i.Not.PV;return function(t,n,i,r){for(var e=JM.qD(pc(n.Zk)),u=t.uL,s=t.cht+r,o=[],a=0,c=0;c<u.length;c++){var h,f=u[c],v=e[c],d=(null!=(h=f.ct)?h:0)/i,l=void 0;v.pw===qM.QP&&(l=$M(v,a,d,s)),l&&o.push(l),a+=d}return o}(o,s,this.uht,a)},n.tr=function(){this.uht=NaN},t}();function $M(t,n,i,r){if(t.$ot){var e=t.Kot?function(t){return Om(t.iht,new Ec(0))}(t.Kot):n,u=r+e,s=u+i,o=t.$ot.nht;return new Xw(u,s,o,!1)}}F(),Tt(),Gt(),Dt(),Rt(),nn(),qt(),F(),Tt(),sn();var tO,nO=function(t){return t[t.CZ=0]="CZ",t[t.dht=1]="dht",t[t.fht=10]="fht",t[t._ht=11]="_ht",t[t.vht=12]="vht",t[t.mht=13]="mht",t[t.ght=14]="ght",t[t.pht=15]="pht",t[t.wht=20]="wht",t[t.yht=21]="yht",t[t.bht=22]="bht",t[t.Aht=23]="Aht",t[t.Sht=24]="Sht",t[t.Tht=30]="Tht",t[t.kht=31]="kht",t[t.Eht=32]="Eht",t[t.xht=33]="xht",t[t.Rht=34]="Rht",t[t.Iht=35]="Iht",t[t.Cht=40]="Cht",t[t.Pht=41]="Pht",t[t.Dht=42]="Dht",t[t.Nht=43]="Nht",t[t.Mht=44]="Mht",t[t.Lht=50]="Lht",t[t.Bht=51]="Bht",t[t.Oht=52]="Oht",t[t.Fht=60]="Fht",t[t.Vht=61]="Vht",t[t.Wht=62]="Wht",t[t.Uht=63]="Uht",t[t.Ght=70]="Ght",t[t.Hht=71]="Hht",t[t.Zht=72]="Zht",t[t.Xht=73]="Xht",t[t.zht=74]="zht",t[t.qht=75]="qht",t[t.Yht=76]="Yht",t[t.Kht=77]="Kht",t[t.jht=90]="jht",t[t.Qht=91]="Qht",t}({});un(tO={},0,"Failed because"),un(tO,1,"Created"),un(tO,10,"Starting because unknown reason"),un(tO,11,"Starting because new track loading"),un(tO,12,"Starting because manifest changed"),un(tO,13,"Starting because seek"),un(tO,14,"Starting because timeupdate"),un(tO,15,"Starting because buffering is being resumed"),un(tO,20,"Interrupting because unknown reason"),un(tO,21,"Interrupting because segment has a gap"),un(tO,22,"Interrupting because segment is missing"),un(tO,23,"Interrupting because seeking"),un(tO,24,"Interrupting because buffer is full"),un(tO,30,"Pausing because unknown reason"),un(tO,31,"Pausing because target buffer reached"),un(tO,32,"Pausing because no target time"),un(tO,33,"Pausing because no segment selected"),un(tO,34,"Pausing because end of stream is reached"),un(tO,35,"Pausing because initialization segment is missing"),un(tO,40,"Stopping because unknown reason"),un(tO,41,"Stopping because manifest went offline"),un(tO,42,"Stopping because seeking"),un(tO,43,"Stopping because buffering is being paused"),un(tO,44,"Stopping because unload"),un(tO,50,"Resetting because unknown reason"),un(tO,51,"Resetting because player was reset"),un(tO,52,"Resetting because disallowed segment was added"),un(tO,63,"Marking gap at"),un(tO,60,"Target time is"),un(tO,70,"[Selection 1] Select nothing if the target time has already been appended."),un(tO,71,"[Selection 2] Select nothing if the time-based lookup failed."),un(tO,72,"[Selection 3] If the segment has not been appended, select time-based lookup."),un(tO,73,"[Selection 4A] Select the first unappended segment that occurs before the segment."),un(tO,74,"[Selection 4B] Notify gap if no previous segment is available."),un(tO,75,"[Selection 5A] Select the first unappended segment that occurs after the segment."),un(tO,76,"[Selection 5B] Select nothing if no next segment is available."),un(tO,77,"[Selection 6] Unreachable"),un(tO,61,"Selected segment is"),un(tO,62,"Appended segment is"),un(tO,90,"Test setup"),un(tO,91,"Test");function iO(t,n){var i=n.nB((function(n,i){return t.eB(n,i,!1,!1)}));return t.KL(i)}function rO(t,n){var i=n.Sn(t.XL()).nB((function(n,i){return t.gr(i)}));return t.KL(i)}F(),Tt(),F(),Tt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt();var eO=function(t){return t.Jht="$ht",t.eat="iat",t}({});F(),Tt(),Rt();var uO=function(t){function n(n,i,r){var e;return(e=t.call(this,"sat")||this).Cn=n,e.jn=i,e.nat=r,e}return It(n,t),n}(xo),sO=function(t){function n(){return t.call(this,"rat")||this}return It(n,t),n}(ea),oO=[ua.Ky,ua.Qy,ua.Yy,ua.vy],aO=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).zat=n,s.Dat=i,s._at=r,s.uat=e,s.d9=u,s.mat="Tat",s.HG=void 0,s.Sat=new Zc,s.Lat=new Ho,s.bat=new Ho,s.We=function(t){s.wat||s.Iat||(!Kn.iR&&s.uat.qat(t.currentTime)||(s.Lat.Xw(),s.Lat=new Ho,Uo(s.Xat(s.Lat.Bw),s.Lat).catch(Vo)))},s.ld=bi((function(){if(s.yat){try{if(s.uat.Yat(),s.uat.Kat())return}catch(t){if(!(t instanceof uO))throw t}s.Cn(nO.ght)}}),250),s.Pat(),s}It(n,t);var i=n.prototype;return i.gat=function(t){this.mat!==t&&(this.mat=t,this.yo(new sO))},i.Cn=function(t){var n=this;return Zt((function(){var t;return Ht(this,(function(i){switch(i.label){case 0:return n.wat||n.yat?(t=n.uy("rat"),n.wat?(n.bat.Xw(),n.bat=new Ho,Uo(n.Aat(n.bat.Bw),n.bat)):(n.Sat.Mb(void 0),n.Sat=new Zc),[4,t]):[2];case 1:return i.sent(),[2]}}))}))()},i.SI=function(t){var n=this;return Zt((function(){return Ht(this,(function(t){switch(t.label){case 0:if(!n.xat&&!n.yat)return[2];0,n.bat.Xw(),t.label=1;case 1:return n.wat||n.Iat?[3,3]:[4,n.uy("rat")];case 2:return t.sent(),[3,1];case 3:return[2]}}))}))()},i.tr=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.Iat?(n.HG=void 0,n.gat("Tat"),[3,3]):[3,1];case 1:return[4,n.SI(t)];case 2:i.sent(),i.label=3;case 3:return n.uat.tr(),n._at.tr(),[2]}}))}))()},i.PH=function(t){this.HG=t,this.gat("Cat"),this.yo(new wk(t))},i.Pat=function(){this.d9.yn(ua.$y,this.ld),this.d9.yn([ua.qy,ua.Dy],this.We),this.uat.yn(oO,this.Ds),this.Dat.yn(eO.Jht,this.ld)},i.Nat=function(){this.d9.fn(ua.$y,this.ld),this.d9.fn([ua.qy,ua.Dy],this.We),this.uat.fn(oO,this.Ds),this.Dat.fn(eO.Jht,this.ld)},i.Mat=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.Nat(),n.Lat.Xw(),[4,n.SI(null!=t?t:nO.Nht)];case 1:return i.sent(),n.uat.tr(),[2]}}))}))()},i.Bat=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.Pat(),[4,n.Cn(null!=t?t:nO.pht)];case 1:return i.sent(),[2]}}))}))()},i.Oat=function(t,n,i){var r,e=function(t,e){var u=e[t];u.Vat<=i&&n<=u.Wat&&r.Dat.Uat.some((function(t){return t.o===u.Gat}))&&r._at.Hat(u)};if(this.wat)for(var u=0,s=t._at.Fat();u<s.length;u++)r=this,e(u,s)},i.gn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.Bo(),t.Nat(),t.Lat.Xw(),[4,t.SI(nO.Mht)];case 1:return n.sent(),t.uat.gn(),[2]}}))}))()},i.Aat=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:0,e.label=1;case 1:return e.trys.push([1,4,,5]),Oo(t),n.gat("Rat"),[4,n.uat.Zat(t)];case 2:return e.sent(),Oo(t),n.gat("Eat"),[4,Fo(n.Sat.Bb,t)];case 3:return e.sent(),[3,5];case 4:return Mo(i=e.sent())?n.gat("Tat"):(r=i instanceof td?i:new td(Qv.MEDIA_LOAD_ERROR,i.message,i),n.PH(r)),[3,6];case 5:return[3,0];case 6:return[2]}}))}))()},i.Xat=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return Oo(t),[4,n.SI(nO.Dht)];case 1:return i.sent(),n.uat.tr(),Oo(t),[4,n.Cn(nO.mht)];case 2:return i.sent(),[2]}}))}))()},Nt(n,[{key:"oat",get:function(){var t,n;return(null==(t=this.uat.aat)?void 0:t.nat)||(null==(n=this.uat.dat)?void 0:n.nat)}},{key:"fat",get:function(){return this._at}},{key:"vat",get:function(){return this.uat.vat},set:function(t){this.uat.vat=t}},{key:"Hk",get:function(){return this.mat}},{key:"pat",get:function(){return this._at.Ht.pat}},{key:"lt",get:function(){return this.HG}},{key:"wat",get:function(){return"Tat"===this.mat}},{key:"yat",get:function(){return"Eat"===this.mat}},{key:"xat",get:function(){return"Rat"===this.mat}},{key:"Iat",get:function(){return"Cat"===this.mat}}]),n}(na);F(),Tt(),Gt(),qt(),F(),Tt();var cO=function(){function t(t,n){this.aW=t,this.sut=n}var n=t.prototype;return n.jat=function(t,n){return this.Qat(t,!1,n)},n.Jat=function(t,n){return this.Qat(t,!0,n)},n.Qat=function(n,i,r){var e=this;return Zt((function(){var u;return Ht(this,(function(s){switch(s.label){case 0:return Oo(r.Bw),[4,e.$at(n,i,r)];case 1:return(u=s.sent()).Mk?[2,t.tut(u)]:[2,e.eut(u)]}}))}))()},n.eut=function(t){return t},n.$at=function(t,n,i){var r,e=new hl({qu:t.qu,Xk:Sd.vk,qk:t.iut?{Range:"bytes="+t.iut[0]+"-"+(null!=(r=t.iut[1])?r:"")}:void 0,AE:t.AE,gE:ul.GET,pw:sl.$k,yE:n?ol.iE:ol.Qk,bE:this.sut,pE:i.nut,wE:i.wE,Bw:i.Bw,kE:i.kE});return this.aW.zk(e)},t.tut=function(t){return t},t}();F(),Tt(),Dt(),F(),Tt();var hO=function(){function t(t){this.tit=0,this.hut=0,this.out=k.exp(k.log(.5)/t)}var n=t.prototype;return n.rut=function(t,n){var i=k.pow(this.out,t),r=n*(1-i)+i*this.tit;S(r)||(this.tit=r,this.hut+=t)},n.aut=function(){var t=1-k.pow(this.out,this.hut);return this.tit/t},t}(),fO=function(){function t(t,n,i){void 0===t&&(t=2),void 0===n&&(n=5),void 0===i&&(i=128e3),this.uut=0,this._ut=yk,this.cut=new hO(t),this.lut=new hO(n),this.vut=i}var n=t.prototype;return n.rut=function(t,n){var i=8e3*n/t,r=t/1e3;this.uut+=n,this.cut.rut(r,i),this.lut.rut(r,i)},n.aut=function(){return this.fut()?k.min(this.cut.aut(),this.lut.aut()):this._ut},n.fut=function(){return this.uut>=this.vut},t}(),vO=function(){function t(t,n){this.but=n,n&&Kg(t)?t===jg.lE?(this.Eut=5e3,this.gut=new fO(.05,1,0)):(this.Eut=0,this.gut=new fO(.005,.1,0)):(this.Eut=16e3,this.gut=new fO)}return t.prototype.wut=function(t){var n=t.yut,i=this.but?t.Aut-t.Sut:t.Aut-t.Tut,r=t.kut;!r&&n<this.Eut||(r?this.gut.rut(2*i,n):this.gut.rut(i,n))},Nt(t,[{key:"mut",get:function(){return this.gut.aut()}},{key:"fut",get:function(){return this.gut.fut()}}]),t}();F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Dt(),nn(),F(),Tt();var dO=function(){function t(t){this.Yd=t}var n=t.prototype;return n.transform=function(t,n){this.Yd.write(t).catch(pi),n.enqueue(t)},n.flush=function(){this.Yd.close().catch(pi)},t}(),lO=function(){function t(t,n,i){this.aht=t,this.Rut=n,this.Iut=i}return t.prototype.xut=function(){return new gO(Bd(this.aht),this.Rut,this.Iut)},t}(),gO=function(){function t(t,n,i){this.Cut=t,this.Rut=n,this.Iut=i}var n=t.prototype;return n.xk=function(t){return Vd(this.Cut,t)},n.Tb=function(){var n=tn(Ud(this.Cut),2),i=n[0],r=n[1];return this.Cut=i,new t(r,this.Rut,this.Iut)},n.Put=function(){var n=tn(function(t){var n=new Ld,i=n.writable.getWriter(),r=new Ld(new dO(i));return t.pipeTo(r.writable).catch((function(t){i.abort(t).catch(pi)})),[r.readable,n.readable]}(this.Cut),2),i=n[0],r=n[1];return this.Cut=i,new t(r,this.Rut,this.Iut)},n.Dut=function(t){var n=this;return this.xk(t).then((function(t){return new lO(t,n.Rut,n.Iut)}))},Nt(t,[{key:"Rk",get:function(){return this.Cut}}]),t}();F(),Tt(),Rt();var wO=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).Nut=n,e}return It(n,t),n}(xo),mO="Cache lookup failed.",yO=function(t){function n(n){var i;return(i=t.call(this)||this).Lut=n,i}It(n,t);var i=n.prototype;return i.Mut=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return Oo(n),[4,i.Lut.ort(t.qu.qu,t.qu.iut)];case 1:if(r=u.sent(),Oo(n),!r)throw new wO(t,mO);return e=new lO(r.buffer,r.byteLength,r.reference),[2,{Nut:t.Nut,But:{pw:DR.QQ,Zk:e},nat:t.nat,qu:t.qu}]}}))}))()},i.Out=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return Oo(n),[4,i.Lut.ort(t.qu,t.iut)];case 1:if(r=u.sent(),Oo(n),!r)throw new wO(t,mO);return e=new lO(r.buffer,r.byteLength,r.reference),[2,{pw:DR.QQ,Zk:e}]}}))}))()},i.gn=function(){this.Bo()},n}(na);F(),Tt(),Gt(),Rt(),qt();var pO=["jy","Jy"],_O=function(t){function n(n){var i;(i=t.call(this)||this).Fut=n;for(var r=0,e=i.Fut;r<e.length;r++){e[r].yn(pO,i.Ds)}return i}It(n,t);var i=n.prototype;return i.Mut=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:e=0,u=i.Fut,a.label=1;case 1:if(!(e<u.length))return[3,6];s=u[e],a.label=2;case 2:return a.trys.push([2,4,,5]),[4,s.Mut(t,n)];case 3:return[2,a.sent()];case 4:return Bo(o=a.sent()),r=o,[3,5];case 5:return e++,[3,1];case 6:throw r}}))}))()},i.Out=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:e=0,u=i.Fut,a.label=1;case 1:if(!(e<u.length))return[3,6];s=u[e],a.label=2;case 2:return a.trys.push([2,4,,5]),[4,s.Out(t,n)];case 3:return[2,a.sent()];case 4:return Bo(o=a.sent()),r=o,[3,5];case 5:return e++,[3,1];case 6:throw r}}))}))()},i.gn=function(){for(var t=0,n=this.Fut;t<n.length;t++){var i=n[t];i.fn(pO,this.Ds),i.gn()}},n}(na);function bO(t){return ei(t.Vut)}function kO(t){return bO(t)?t.Vut:t.Wut}F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),F(),Tt(),Rt(),F(),Tt(),Rt();var AO=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n)||this).Uut=i,o.gz=r,o.JM=e,o.bN=u,o.bE=s,o}return It(n,t),n}(ea),TO=function(t){function n(n,i,r,e,u){return t.call(this,ua.Ky,n,i,r,e,u)||this}return It(n,t),n}(AO);F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt();var SO=function(t,n){this.Gut=t,this.Hut=n},EO=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Zut=0,n}It(n,t);var i=n.prototype;return i.start=function(){},i.transform=function(t,n){this.Zut+=t.byteLength,n.enqueue(t)},i.flush=function(){this.Xut(!1)},i.Xw=function(){this.Xut(!0)},i.Xut=function(t){this.Gut(this.Hut,Kn.Bg(),this.yut,t)},Nt(n,[{key:"yut",get:function(){return this.Zut}}]),n}(SO),IO=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Zut=0,n.zut=!1,n}It(n,t);var i=n.prototype;return i.start=function(){this.Hut=Kn.Bg()},i.transform=function(t,n){this.Zut+=t.byteLength,this.zut||this.qut(t)&&this.Xut(!1),n.enqueue(t)},i.flush=function(){},i.Xw=function(){this.Xut(!0)},i.qut=function(t){var n=this.Yut(t),i=this.Kut(n);return Boolean(ao(i,RO))},i.Yut=function(t){return this.jut&&void 0!==this.Qut?(this.jut=Lc([this.jut,t]),new ey(pc(this.jut),new Ec(this.Qut))):(this.jut=t,new ey(pc(t),new Ec))},i.Kut=function(t){var n=ay.ND(t.Zk,t.gD,!0);return n.MD?(this.jut=void 0,this.Qut=void 0):this.Qut=t.gD.tc,n.m},i.Xut=function(t){this.zut||(this.Gut(this.Hut,Kn.Bg(),this.yut,t),this.zut=!0)},Nt(n,[{key:"yut",get:function(){return this.Zut}}]),n}(SO);function RO(t){return t.pw===ty.aD}var CO=function(){function t(t){var n=this;this.nct=t,this.ect=new Zc,this.wut=function(t,i,r,e){var u={Tut:n.$ut,Sut:t,Aut:i,yut:r,kut:e};n.nct.wut(u),n.nct.fut&&pk.Lg.iG(n.nct.mut)},this.ect.Bb.catch(pi),this.$ut=Kn.Bg()}var n=t.prototype;return n.Jut=function(t){var n=t.Kk?this.$ut:Kn.Bg(),i=this.tct(n),r=new Ld(i),e=t.Rk().pipeTo(r.writable).then((function(){return{LR:{yut:i.yut}}}),(function(t){throw i.Xw(),t}));return this.ect.zw(e),r.readable},n.ict=function(t){var n=this,i=t.Kk?this.$ut:Kn.Bg(),r=t.xk(),e=r.then((function(t){var r=Kn.Bg();return n.wut(i,r,t.byteLength,!1),{LR:{yut:t.byteLength}}}),(function(t){var r=Kn.Bg();throw n.wut(i,r,0,!0),t}));return this.ect.zw(e),r},Nt(t,[{key:"sct",get:function(){return this.ect.Bb}}]),t}(),NO=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n.prototype.tct=function(t){return new EO(this.wut,t)},n}(CO),DO=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n.prototype.tct=function(t){return new IO(this.wut,t)},n}(CO);F(),Tt(),Rt();var PO=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,ua.Qy,n,i,r,e,u)||this).rct=s,a.fO=o,a}return It(n,t),n}(AO);F(),Tt(),Rt();var xO=function(t){function n(n,i,r){var e;return(e=t.call(this,"Error downloading segment "+kO(i),n)||this).hct=i.LO,e.act=i.BO,e.uct=r,e}return It(n,t),n}(xo),LO=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).dct=n,e.nct=i,e.but=r,e}It(n,t);var i=n.prototype;return i.cct=function(){return this.but?new DO(this.nct):new NO(this.nct)},i.Mut=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h,f,v;return Ht(this,(function(d){switch(d.label){case 0:Oo(n),r=t.nat,e=t.qu,u=t.Nut,s=kO(u),o=r.nat?r.nat.TC:-1,a=function(t){var n,i=t.nat;n=i===function(t){return t.Uat.reduce((function(t,n){return t.mG<n.mG?t:n}))}(i.lct)?gr(5*t.Nut.ct):gr(1.2*t.Nut.ct);return er(n,1e3,18e3)}(t),i.yo(new TO(e,r.mG,s,o,r.pw)),d.label=1;case 1:return d.trys.push([1,4,,5]),c=i.cct(),[4,i.dct.jat(e,{kE:i.but,nut:a,Bw:n})];case 2:return h=d.sent(),[4,i.fct(h,h.Mk,n,c)];case 3:return f=d.sent(),jo(i._ct(c.sct,r,e,s,o,h)),[2,{But:f,nat:r,Nut:u,qu:e}];case 4:throw Bo(v=d.sent()),new xO(v,u,r);case 5:return[2]}}))}))()},i.Out=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return Oo(n),r=!1,[4,i.dct.Jat(t,{kE:r,nut:1e4,Bw:n})];case 1:return e=u.sent(),[4,i.fct(e,r,n)];case 2:return[2,u.sent()]}}))}))()},i.fct=function(t,n,i,r){return Zt((function(){var e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return n?(e=r?r.Jut(t):t.Rk(),[2,{pw:DR.pk,Zk:new gO(e)}]):[3,1];case 1:return r?[4,r.ict(t)]:[3,3];case 2:return s=o.sent(),[3,5];case 3:return[4,t.xk(i)];case 4:s=o.sent(),o.label=5;case 5:return u=s,[2,{pw:DR.QQ,Zk:new lO(u)}];case 6:return[2]}}))}))()},i._ct=function(t,n,i,r,e,u){var s=this;return Zt((function(){var o;return Ht(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,t];case 1:return o=a.sent(),s.yo(new PO(i,n.mG,r,e,n.pw,u.Hk,o.LR.yut)),[3,3];case 2:return a.sent(),[3,3];case 3:return[2]}}))}))()},i.gn=function(){this.Bo()},n}(na);F(),Tt(),Dt();var MO=.001,OO=function(){function t(t,n,i,r){this.vct=t,this.d9=n,this.E3=i,this.dZ=r}return Nt(t,[{key:"_R",get:function(){return this.vct._R}},{key:"mct",get:function(){return this.vct.mct}},{key:"NJ",get:function(){return this.vct.NJ}},{key:"gct",get:function(){if(this.E3.tI<pp.Xn)return!1;if(this.vct.jn<=this.pct&&this.vct.wct())return!0;var t=this.vct.WG;if(!t||0===t.V)return!1;var n=AA.dB(this.d9.yR,1/0);return t.Sn(n).QL(this.vct.NJ).cB>=this.dZ.xj}},{key:"pct",get:function(){var t,n=this.vct.WG;if(n&&n.V>0)t=n.jn(0);else{t=this.d9.yR;var i=this.vct.NJ,r=i.JL(t);r>=0&&(t=i.jn(r))}var e=this.vct.iI.Cn(0);if(e>t){if(this.vct.Cn<=t&&this.vct.jn>=t&&e>t+MO)throw new uO(t,e);t=e}return t=this.vct.yct.ZL(t)}}]),t}();F(),Tt(),Dt();var BO=function(){function t(){this.x_=ns(),this.Act=AA.fB()}var n=t.prototype;return n.Sct=function(t){return this.x_.get(t.o)},n.Tct=function(){var t=this.Act;return this.x_.forEach((function(n){t=t.KL(n)})),t},n.kct=function(t){if(this.Act.gr(t))return!0;var n=!1;return this.x_.forEach((function(i){n=n||i.gr(t)})),n},n.Ect=function(t,n){var i=this.x_.get(n.o);return!!i&&i.gr(t)},n.$L=function(t,n){if(this.Act.$L(t,n))return!0;var i=!1;return this.x_.forEach((function(r){i=i||r.$L(t,n)})),i},n.xct=function(t,n){var i=this.x_.get(n),r=i?i.KL(t):t;this.x_.set(n,r),this.Act=this.Act.KL(t)},n.Rct=function(t){var n=this;this.x_.forEach((function(i,r){n.x_.set(r,i.KL(t))})),this.Act=this.Act.KL(t)},n.Ict=function(t){var n=this;this.x_.forEach((function(i,r){n.x_.set(r,i.Sn(t))})),this.Act=this.Act.Sn(t)},n.tr=function(){var t=this;this.x_.forEach((function(n,i){t.x_.set(i,AA.fB())})),this.Act=AA.fB()},Nt(t,[{key:"bct",get:function(){if(0===this.x_.size)return this.Act;var t=AA.dB(0,1/0);return t=t.Sn(this.Act),this.x_.forEach((function(n){t=t.Sn(n)})),t}}]),t}(),VO=function(){function t(t){this.Srt=[],this.Ht=t,this.Pct=new BO,this.MJ=new BO}var n=t.prototype;return n.Dct=function(t){for(var n=0,i=this.Srt;n<i.length;n++){var r=i[n];if(r.Vat>t)break;if(r.Wat>t)return r}},n.Nct=function(t){for(var n=0,i=this.Srt;n<i.length;n++){var r=i[n];if(r.Mct>t)break;if(r.Lct>=t)return r}},n.Bct=function(t,n){for(var i=[],r=0,e=this.Srt;r<e.length;r++){var u=e[r];if(u.Vat>t)break;u.Wat>=n&&i.push(u)}return i},n.Fat=function(){return this.Srt},n.Hat=function(t){var n=AA.dB(t.Mct,t.Lct),i=n.XL();this.Pct.Ict(i),this.Pct.xct(n,t.Gat),this.Oct(i);var r=fo(this.Srt,(function(n){return t.Vat<=n.Vat}));r<0?this.Srt.push(t):this.Srt[r].Wat<=t.Wat?this.Srt.splice(r,1,t):this.Srt.splice(r,0,t)},n.LJ=function(t,n){this.MJ.xct(t,n)},n.Fct=function(t){this.MJ.Rct(t)},n.Ict=function(t){this.Pct.Ict(t),this.MJ.Ict(t);var n=this.Pct.Tct();this.Oct(n)},n.Oct=function(t){this.Srt=this.Srt.filter((function(n){return t.eB(n.Mct,n.Lct)})).map((function(n){return n.Vct&&!t.$L(n.Mct,n.Lct)?function(t,n){return{Gat:t.Gat,Vat:t.Vat,Wat:t.Wat,Mct:t.Mct,Lct:t.Lct,Vct:n}}(n,!1):n}))},n.tr=function(){this.Pct.tr(),this.MJ.tr(),this.Srt=[]},n.gn=function(){this.tr()},Nt(t,[{key:"Cct",get:function(){return this.Pct}},{key:"NJ",get:function(){return this.MJ}}]),t}();F(),Tt(),F(),Tt(),Gt(),Dt(),qt();var FO=function(){function t(t,n,i){this.zat=t,this._at=n,this.Tp=i}var n=t.prototype;return n.Uct=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:return Oo(i),u=r._at.Nct(t),e=u&&ur(u.Lct,t,1e-5)?u.Wat:t,s=r.Gct(e),o=function(t){return UO.bind(void 0,t)}(e),[4,r.Tp.Hct(o,s,n,i)];case 1:a=v.sent(),Oo(i),v.label=2;case 2:return a&&r.Zct(a.Nut)?(c=zO(a.Nut),h=a.nat,[4,r.Tp.Hct(c,[h],n,i)]):[3,4];case 3:return a=v.sent(),Oo(i),[3,2];case 4:return a?r.Xct(a.Nut)?(f=r.zct(a.Nut),t<f.Cn?[4,r.findFirstNonAppendedSegmentBeforeSegment(a,n,i,f)]:[3,6]):[2,a]:[2,void 0];case 5:return[2,v.sent()];case 6:return t>=f.jn?[4,r.findFirstNonAppendedSegmentAfterSegment(a,n,i)]:[3,8];case 7:return[2,v.sent()];case 8:if(a.nat.qct(a.Nut))return[2,void 0];throw new p("Fatal buffering error")}}))}))()},n.findFirstNonAppendedSegmentAfterSegment=function(t,n,i){var r=this;return Zt((function(){var e,u,s;return Ht(this,(function(o){switch(o.label){case 0:e=t,o.label=1;case 1:return u=zO(e.Nut),s=t.nat,[4,r.Tp.Hct(u,[s],n,i)];case 2:e=o.sent(),Oo(i),o.label=3;case 3:if(e&&r.Xct(e.Nut))return[3,1];o.label=4;case 4:return e?[2,e]:[2,void 0]}}))}))()},n.findFirstNonAppendedSegmentBeforeSegment=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:u=t,c.label=1;case 1:return s=function(t){return ZO.bind(void 0,t)}(u.Nut),o=t.nat,[4,e.Tp.Hct(s,[o],n,i)];case 2:u=c.sent(),Oo(i),c.label=3;case 3:if(u&&e.Xct(u.Nut))return[3,1];c.label=4;case 4:if(!u)throw a=t.nat.Yct.Cn,new uO(a,r.Cn,t.nat);return[2,u]}}))}))()},n.Kct=function(t){return this._at.Cct.kct(t)},n.jct=function(t){return this._at.Bct(t.LO,t.BO)},n.Xct=function(t){var n=this.jct(t);return n.length>0&&function(t,n){return function(t){for(var n=AA.fB(),i=0;i<t.length;i++){var r=t[i];n=n.KL(AA.dB(r.Vat,r.Wat))}return n}(t).$L(n.LO,n.BO)}(n,t)&&n.every(YO)},n.Zct=function(t){return this._at.NJ.$L(t.LO,t.BO)},n.zct=function(t){var n=this.jct(t);return{Cn:n[0].Mct,jn:n[n.length-1].Lct}},n.Gct=function(t){var n=this.Qct(t);if(0===n.length){var i=this.Wct?this.Wct:this._at.Ht.Uat;return[i[i.length-1]]}var r=n.filter((function(t){var n;return(null==(n=t.nat)?void 0:n.Hnt)&&!t.Jct}));return r.length>0?r:[n[n.length-1]]},n.Qct=function(t){var n=this;return(this.Wct?this.Wct:this._at.Ht.Uat).filter((function(i){return!n._at.NJ.Ect(t,i)}))},Nt(t,[{key:"vat",get:function(){return this.Wct},set:function(t){this.Wct=t}},{key:"pat",get:function(){return this._at.Ht.pat}}]),t}();function UO(t,n,i,r){return WO.apply(this,arguments)}function WO(){return WO=Zt((function(t,n,i,r){var e,u;return Ht(this,(function(s){switch(s.label){case 0:return e=n.Not,(u=e.$ct(t))?n.tlt(u)?[4,n.ilt(u,i,r)]:[3,2]:[2,void 0];case 1:return[2,s.sent().elt(t)];case 2:return[2,u]}}))})),WO.apply(this,arguments)}function ZO(t,n,i,r){return XO.apply(this,arguments)}function XO(){return XO=Zt((function(t,n,i,r){var e;return Ht(this,(function(u){switch(u.label){case 0:return bO(t)?0===t.Vut?[2,void 0]:(e=n.Not.slt(t))?[4,n.ilt(e,i,r)]:[2,void 0]:[3,2];case 1:return[2,u.sent().nlt(t.Vut-1)];case 2:return[2,n.Not.rlt(t)];case 3:return[2]}}))})),XO.apply(this,arguments)}function GO(t,n,i,r){return HO.apply(this,arguments)}function HO(){return HO=Zt((function(t,n,i,r){var e,u;return Ht(this,(function(s){switch(s.label){case 0:return bO(t)?(e=n.Not.slt(t))?[4,n.ilt(e,i,r)]:[2,void 0]:[3,2];case 1:return u=s.sent(),t.Vut+1===u.V?[2,void 0]:[2,u.nlt(t.Vut+1)];case 2:return[2,n.Not.olt(t)];case 3:return[2]}}))})),HO.apply(this,arguments)}function zO(t){return GO.bind(void 0,t)}function YO(t){return t.Vct}F(),Tt(),Gt(),qt();var jO=function(){function t(t,n,i,r){this.dlt=t,this.vct=n,this.dZ=i,this.ult=r,this.flt=!1}var n=t.prototype;return n.Hct=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return Oo(r),(u=e.hlt(n,i))?[4,t(u,e.ult,r)]:[2,void 0];case 1:return(s=a.sent())?(o=u.clt(s),[2,{nat:u,Nut:s,qu:o}]):[2,void 0]}}))}))()},n.hlt=function(t,n){if(0!==t.length){var i=this.dlt.llt(t,this.flt?n:void 0,this.vct,this.dZ.Sj);return this.flt||(this.flt=!0),i}},t}();F(),Tt(),Gt(),qt();var KO=function(){function t(t,n,i,r){this.dlt=t,this.vct=n,this.Lut=i,this.ult=r}return t.prototype.Hct=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:if(Oo(r),!(u=e.dlt._lt(n,i,e.vct)).length)return[2,void 0];o=0,v.label=1;case 1:if(!(o<u.length))return[3,8];a=u[o],v.label=2;case 2:return v.trys.push([2,6,,7]),Oo(r),[4,t(a,e.ult,r)];case 3:return(c=v.sent())?(h=a.clt(c),[4,e.Lut.nrt(h.qu,h.iut)]):[3,5];case 4:if(v.sent())return[2,{Nut:c,nat:a,qu:h}];v.label=5;case 5:return[3,7];case 6:return Bo(f=v.sent()),s=f,[3,7];case 7:return o++,[3,1];case 8:if(s)throw s;return[2,void 0]}}))}))()},t}();function qO(t){return void 0!==t.zR}function JO(t,n){var i=t.ji&&n.ji,r=t.Ti&&n.Ti;return i||r?i&&r?t.ji*t.Ti-n.ji*n.Ti:i?t.ji-n.ji:r?t.Ti-n.Ti:(t.ji||1)*(t.Ti||1)-(n.ji||1)*(n.Ti||1):0}function QO(t,n){return JO(t,n)||function(t,n){return t.mG-n.mG}(t,n)}F(),Tt(),Ut(),at(),F(),Tt();var $O=function(){function t(t,n,i,r,e,u){this.d_=t,this.plt=n,this.Qp=i,this.Alt=r,this.vlt=e,this.Slt=u}var n=t.prototype;return n.llt=function(n,i,r,e){var u=t.sortByQuality(n);if(void 0!==this.vlt&&void 0===i&&n.length>1){var s=t.glt(u,this.vlt);s&&(u=s)}var o=this._lt(u,i,r,e);return o.length?o[o.length-1]:u[0]},n._lt=function(n,i,r,e){for(var u,s=t.sortByQuality(n),o={mut:void 0===e||this.plt.fut?this.plt.mut:e,zR:qO(r)&&r.zR?r.zR:1,wlt:r.ji,ylt:r.Ti,blt:null==(u=this.Alt)?void 0:u.restrictToPlayerSize},a=s,c=0,h=this.d_;c<h.length;c++){a=(0,h[c])(a,i,o,this.Qp,this.Slt)}return a},t.Tlt=function(n){return t.sortByQuality(n)[0]},t.klt=function(n,i){var r;return i?t.Tlt(null!=(r=t.glt(n,i))?r:n):t.Tlt(n)},t.glt=function(t,n){for(var i=function(i){var r=n[i],e=t.filter((function(t){return HC(t.dp,r)}));if(e.length>0)return{v:e}},r=0;r<n.length;r++){var e=i(r);if("object"===U(e))return e.v}},t.sortByQuality=function(t){var n=Ft(t);return n.sort(QO),n},t}();F(),Tt();var tB=function(t,n,i,r,e){return t.filter((function(t){return e.hJ(t)&&r.hp(n,t)}))};F(),Tt();var nB=function(t,n,i){return t.filter((function(t){return function(t,n,i){var r=i.mut;if(r<=0)return!1;return.8*r>t.mG*i.zR}(t,0,i)}))};F(),Tt();var iB=function(t,n,i,r,e){var u=i.blt;if(void 0===u&&!r.Qs)return t;if(!1===u)return t;if(t.length>0&&t[0].pw!==jg.lE)return t;for(var s=t.length-1;s>=0;s--){var o=t[s];if(o.Ti===i.ylt&&o.ji===i.wlt)return t.slice(0,s+1);if(o.Ti<i.ylt||o.ji<i.wlt)return t.slice(0,s+2)}return[]};F(),Tt(),Gt(),qt();var rB=function(){function t(t){this.Elt=t}return t.prototype.Hct=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:s=0,o=e.Elt,f.label=1;case 1:if(!(s<o.length))return[3,6];a=o[s],f.label=2;case 2:return f.trys.push([2,4,,5]),[4,a.Hct(t,n,i,r)];case 3:return(c=f.sent())?[2,c]:[3,5];case 4:return h=f.sent(),u=h,[3,5];case 5:return s++,[3,1];case 6:if(u)throw u;return[2,void 0]}}))}))()},t}();F(),Tt(),F(),Tt(),Gt(),qt();var eB=function(){function t(t){this.Rlt=t}return t.prototype.xlt=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:s=0,o=e.Rlt,h.label=1;case 1:if(!(s<o.length))return[3,6];a=o[s],h.label=2;case 2:return h.trys.push([2,4,,5]),[4,a.xlt(t,n,i,r)];case 3:return[2,h.sent()];case 4:return Bo(c=h.sent()),u=c,[3,5];case 5:return s++,[3,1];case 6:throw u}}))}))()},t}();F(),Tt(),Gt(),qt();var uB=function(){function t(t){this.aW=t}return t.prototype.xlt=function(t,n,i,r){var e=this;return Zt((function(){var u;return Ht(this,(function(s){switch(s.label){case 0:return[4,e.aW.zk({qu:t,Xk:Sd.vk,qk:n?{Range:"bytes="+n[0]+"-"+(null!=(u=n[1])?u:"")}:void 0,AE:i,gE:ul.GET,pw:sl.Qk,Bw:r})];case 1:return[4,s.sent().xk()];case 2:return[2,s.sent()]}}))}))()},t}();F(),Tt(),Gt(),qt();var sB=function(){function t(t){this.Lut=t}return t.prototype.xlt=function(t,n,i,r){var e=this;return Zt((function(){var i,r;return Ht(this,(function(u){switch(u.label){case 0:return[4,e.Lut.ort(t,n)];case 1:return(i=u.sent())?[2,i.buffer]:n?[4,e.Lut.ort(t)]:[3,3];case 2:if(r=u.sent())return[2,Ac(new E(r.buffer),n[0],n[1])];u.label=3;case 3:throw new wO({qu:t,iut:n,AE:!1})}}))}))()},t}();F(),Tt();var oB=1.05,aB=function(t,n,i,r){if(!1===i.blt)return t;if(r.Hg)return t;for(var e,u,s=r.Zg,o=(null!=(e=null==s?void 0:s.width)?e:i.wlt)*oB,a=(null!=(u=null==s?void 0:s.height)?u:i.ylt)*oB,c=t.length-1;c>=0;c--){var h=t[c];if(h.Ti<=a&&h.ji<=o)return t.slice(0,c+1)}return[]},cB=function(){function t(){}return t.uit=function(t,n,i,r,e,u,s,o,a,c){var h=function(t,n){return new eB([new sB(n),new uB(t)])}(u,s),f=new $O([tB],e,Kn.Ys,o,a,c),v=new KO(f,n,s,h),d=new $O([nB,tB,iB,aB],e,Kn.Ys,o,a,c),l=new jO(d,n,r,h),g=new rB([v,l]);return new FO(t,i,g)},t}();F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Rt();var hB=function(t){function n(n,i,r,e,u,s){var o;return void 0===s&&(s=0),(o=t.call(this,ua.Yy)||this).segmentStartTime=n,o.error=i,o.trackType=r,o.track=e,o.quality=u,o.retryCount=s,o}return It(n,t),n}(ea);F(),Tt(),Rt();var fB=function(t){function n(n,i){var r;return(r=t.call(this,ua.vy)||this).track=n,r.segments=i,r}return It(n,t),n}(ea),vB=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).Ilt=n,r}return It(n,t),n}(xo),dB=[ua.Ky,ua.Qy],lB=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return(h=t.call(this)||this).zat=n,h._at=i,h.Mlt=r,h.Dlt=e,h.udt=u,h.jlt=s,h.Slt=o,h.Zlt=a,h.iH=c,h.Clt=void 0,h.S2=void 0,h.Plt=void 0,h.Jlt=void 0,h.Ult=0,h.Glt=0,h.Xlt=AA.fB(),h.udt.yn(dB,h.Ds),h}It(n,t);var i=n.prototype;return i.Nlt=function(t){return!this.S2||!t||!Dc(this.S2.aht,t.aht)},i.qat=function(t){if(!this.Clt)return!1;var n=this.Clt.Nut,i=AA.dB(n.LO,n.BO),r=this.Mlt.mct,e=r.JL(t);return e<0?i.gr(t,MO):i.eB(t,r.jn(e),!0,!0,MO)},i.Zat=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c,h,f,v,d,l;return Ht(this,(function(g){switch(g.label){case 0:i=n._at.Ht.Uat,g.label=1;case 1:0,r=void 0,g.label=2;case 2:return g.trys.push([2,12,16,17]),Oo(t),n.Yat(),n.Kat()?[3,18]:(r=n.Llt(),[4,n.Hct(r,t)]);case 3:return void 0===(u=g.sent())?[3,18]:(n.Clt=u,function(t){var n=t.nat,i=n.Not,r=bO(t.Nut)?i.slt(t.Nut):t.Nut;return i._dt(r,n.ndt.sdt())}(n.Clt)?[3,5]:[4,n.Blt(n.Clt,t)]);case 4:return g.sent(),[3,1];case 5:return!n.Plt||HC(n.Plt.nat.Ik,n.Clt.nat.Ik)?[3,7]:[4,n.Slt.uJ(n.Clt.nat)];case 6:g.sent(),g.label=7;case 7:return!n.Clt.nat.wG||n.dat&&(null==(e=n.Plt)?void 0:e.nat)===n.Clt.nat||null==(s=n.iH)||s.kG(n.Clt.nat.wG),[4,n.Olt(r,n.Clt.Nut,t)];case 8:return g.sent(),[4,n.Flt(n.Clt.nat,t)];case 9:return n.S2=g.sent(),[4,n.Mut(n.Clt,t)];case 10:return o=g.sent(),a=n.Mlt._R,c=n.Plt,[4,n.Vlt(o,t)];case 11:return n.Plt=g.sent(),h=n.Mlt._R,n.Wlt(c,n.Clt,a,h,r),i.forEach((function(t){return t.Jct=!1})),n.Ult=0,n.Glt=0,[3,17];case 12:return(f=g.sent())instanceof uO?(n.u3(f.Cn,f.jn,f.nat),[3,1]):[3,13];case 13:if(!(f instanceof vB))return[3,15];if(v=500,i.every((function(t){return t.Jct}))){if(2===n.Ult){if(d=n.Mlt._R,n.Hlt(n.Clt),n.Wlt(n.Plt,n.Clt,d,d,r),i.forEach((function(t){return t.Jct=!1})),n.Glt+=1,n.Ult=0,n.Glt===n.Zlt.maxRetries)throw new td(Qv.MEDIA_LOAD_ERROR,"The segments could not be loaded.",f);return[3,1]}n.Ult++,l=n.Zlt.minimumBackoff*k.pow(2,n.Ult-1),v=k.min(l,n.Zlt.maximumBackoff)}return[4,Jo(v,t)];case 14:return g.sent(),[3,1];case 15:throw n.Xlt=AA.fB(),f;case 16:return n.Clt=void 0,[7];case 17:return[3,1];case 18:return[2]}}))}))()},i.Wlt=function(t,n,i,r,e){var u=r.QL(i),s=n.nat,o=s.zlt(n.Nut),a=s.qct(n.Nut),c=n.Nut.LO,h=n.Nut.BO;o&&(c=k.min(c,k.max(0,s.Yct.Cn-.05))),a&&(h=k.max(h,s.Yct.jn));var f=AA.dB(c,h).QL(r);if(0!==u.V){if(o||this.Xlt.V>0){var v=f.Sn(AA.dB(c,u.Cn(0)));this.Ylt(v)}var d=u.XL().Sn(AA.dB(u.Cn(0),u.jn(u.V-1)));if(this.Ylt(d),a){var l=f.Sn(AA.dB(u.jn(u.V-1),h));this.Ylt(l)}if(this.Xlt.V>0){var g=this.Xlt.QL(u);this.Ylt(g),this.Xlt=AA.fB()}var w,m=s.Not,y=bO(n.Nut)?void 0:m.rlt(n.Nut),p=null!=(w=null==t?void 0:t.Nut)?w:this.Klt(y)?y:void 0;if(p){var _=this._at.Bct(p.LO,p.BO);if(_.length>0){var b=AA.dB(_[_.length-1].Lct,u.Cn(0));this.Ylt(b)}}var A=bO(n.Nut)?void 0:m.olt(n.Nut);if(A&&this.Klt(A)){var T=this._at.Bct(A.LO,A.BO);if(T.length>0){var S=AA.dB(u.jn(u.V-1),T[0].Mct);this.Ylt(S)}}}else this.qlt(i,f,c,e)},i.qlt=function(t,n,i,r){var e=n;0===this.Xlt.V&&(this.Xlt=AA.dB(t.jn(t.V-1),i)),0===e.V&&void 0!==r&&(e=AA.lB(r)),this.Xlt=this.Xlt.KL(e),this._at.Fct(this.Xlt)},i.Klt=function(t){return!!t&&this._at.Bct(t.LO,t.BO).length>0},i.Ylt=function(t){for(var n=t.QL(this.Mlt._R),i=0;i<n.V;i++)n.Cn(i)!==n.jn(i)&&this.jlt.LJ(n.Cn(i),n.jn(i))},i.Qlt=function(t,n){throw new vB(t,n)},i.Yat=function(){if(!(this.Xlt.V>0)){var t,n=this.Mlt.mct.KL(null!=(t=this.Mlt.NJ.HL().uB(this.Mlt.pct))?t:AA.fB());this._at.Ict(n),this.Jlt&&!this.$lt(this.Jlt)&&(this.Jlt=void 0),this.yo(new fB(this._at.Ht.pat,this._at.Fat()))}},i.Kat=function(){return this.Plt&&this.Plt.nat.qct(this.Plt.Nut)?(this.jlt.i3(),!0):(this.Jlt&&this.Jlt.nat.qct(this.Jlt.Nut)&&this.$lt(this.Jlt)&&this.jlt.i3(),!!this.Mlt.gct)},i.$lt=function(t){return this._at.Cct.$L(t.tdt,t.edt)},i.idt=function(t,n,i){(!this.Jlt||this.Jlt.Nut.BO<t.Nut.BO)&&(this.Jlt=$u({},t,{tdt:n,edt:i}))},i.Llt=function(){var t=this.Mlt.pct;return t},i.Hct=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return Oo(n),r=i.Plt?i.Plt.nat:void 0,[4,i.Dlt.Uct(t,r,n)];case 1:return(e=u.sent())?[2,e]:[2,void 0]}}))}))()},i.Blt=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:r={stack:[],error:void 0,hasError:!1},v.label=1;case 1:return v.trys.push([1,3,4,5]),e=t.nat,u=e.Not,s=bO(t.Nut)?u.slt(t.Nut):t.Nut,o=e.ndt.sdt(),(a=u.rdt(s))&&a.getTime()<=o.getTime()?[2,i.Qlt(nO.bht,"Segment is not available.")]:(c=u.odt(s).getTime()-o.getTime(),h=Yt(r,Ho.Yw([n]),!1),[4,et.race([Jo(c,h.Bw),e.uy(eO.Jht,h.Bw)])]);case 2:return v.sent(),[3,5];case 3:return f=v.sent(),r.error=f,r.hasError=!0,[3,5];case 4:return jt(r),[7];case 5:return[2]}}))}))()},i.Flt=function(t,n,i){void 0===i&&(i=0);var r=this;return Zt((function(){var e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:if(Oo(n),!(e=t.hdt))return[2,r.S2];a.label=1;case 1:return a.trys.push([1,4,,7]),t.adt?[3,3]:[4,r.udt.Out(e,n)];case 2:u=a.sent(),t.adt=u.Zk,a.label=3;case 3:return[3,7];case 4:return Bo(s=a.sent()),Ol(s)?2===i?(t.Jct=!0,[2,r.Qlt(nO.Iht,"Could not fetch the initializer.")]):[4,Jo(k.min(r.Zlt.minimumBackoff*k.pow(2,i),r.Zlt.maximumBackoff),n)]:[3,6];case 5:return a.sent(),[2,r.Flt(t,n,i+1)];case 6:throw new td(Qv.MEDIA_LOAD_ERROR,s.message,s);case 7:Oo(n),a.label=8;case 8:return a.trys.push([8,11,,12]),r.Nlt(t.adt)?[4,r.jlt.Pot(t.adt,t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,12];case 11:if(Bo(o=a.sent()),Ol(o))return[2,r.Qlt(nO.Iht,"Could not append the initializer.")];throw new td(Qv.MEDIA_DECODE_ERROR,o.message,o);case 12:return[2,t.adt]}}))}))()},i.Mut=function(t,n,i){void 0===i&&(i=0);var r=this;return Zt((function(){var e;return Ht(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,6]),Oo(n),[4,r.udt.Mut(t,n)];case 1:case 4:return[2,u.sent()];case 2:return Bo(e=u.sent()),e instanceof xO?function(t){return t instanceof Tl}(e.cause)?(r.cdt(new xO(e,t.Nut,t.nat),i),[2,r.Qlt(nO.bht,"Could not append the segment.")]):2===i?(t.nat.Jct=!0,r.cdt(e,i),[2,r.Qlt(nO.bht,"Could not fetch the segment.")]):[4,Jo(k.min(r.Zlt.minimumBackoff*k.pow(2,i),r.Zlt.maximumBackoff),n)]:[3,5];case 3:return u.sent(),[4,r.Mut(t,n,i+1)];case 5:throw new td(Qv.MEDIA_LOAD_ERROR,e.message,e);case 6:return[2]}}))}))()},i.Olt=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h,f,v,d;return Ht(this,(function(l){switch(l.label){case 0:for(e=r._at.Bct(n.LO,n.BO),u=r.Mlt.mct.uB(t),s=AA.fB(),o=0;o<e.length;o++)a=e[o],Oo(i),c=a.Mct,h=a.Lct,(f=u&&u.eB(c,h)?k.max(c,u.jn(0)):c)<(v=h)&&(s=s.KL(AA.dB(f,v)));d=0,l.label=1;case 1:return d<s.V?[4,r.jlt.ldt(s.Cn(d),s.jn(d),i)]:[3,4];case 2:l.sent(),l.label=3;case 3:return d++,[3,1];case 4:return r.Yat(),[2]}}))}))()},i.Vlt=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),Oo(n),[4,i.jlt.ddt(t.But,t.Nut,t.nat,n)];case 1:return r=u.sent(),i.fdt(t,r.tdt,r.edt),i.idt(t,r.tdt,r.edt),[2,t];case 2:if(Bo(e=u.sent()),Ol(e))return i.cdt(new xO(e,t.Nut,t.nat),0),[2,i.Qlt(nO.bht,"Could not append the segment.")];if(HI(e)&&i.jlt.Dj())return[2,i.Qlt(nO.Sht,"Buffer is full. Could not reduce the buffer.")];throw new td(Qv.MEDIA_DECODE_ERROR,e.message,e);case 3:return[2]}}))}))()},i.fdt=function(t,n,i){var r=t.nat,e=t.Nut;this.Hat(e,r,n,i)},i.Hat=function(t,n,i,r){this._at.Hat({Gat:n.o,Vat:t.LO,Wat:t.BO,Mct:i,Lct:r,Vct:!0}),this.jlt.BJ(i,r)},i.u3=function(t,n,i){var r=AA.dB(t,n);i?this._at.LJ(r,i.o):this._at.Fct(r),this.jlt.LJ(t,n)},i.Hlt=function(t){var n=AA.dB(t.Nut.LO,t.Nut.BO);t.nat?this._at.LJ(n,t.nat.o):this._at.Fct(n)},i.cdt=function(t,n){var i=t.hct,r=this._at.Ht.pat,e=this._at.Ht.ga,u=t.uct.nat&&t.uct.nat.ga,s=new hB(i,t.message,r,e,u,n);this.yo(s)},i.tr=function(){this.S2=void 0,this.Plt=void 0},i.gn=function(){this.tr(),this.Jlt=void 0,this.udt.fn(dB,this.Ds),this.udt.gn()},Nt(n,[{key:"aat",get:function(){return this.Clt}},{key:"dat",get:function(){return this.Plt}},{key:"vat",get:function(){return this.Dlt.vat},set:function(t){this.Dlt.vat=t}},{key:"pat",get:function(){return this._at.Ht.pat}}]),n}(na);var gB=0,wB=function(){function t(t,n,i,r,e,u,s,o,a,c,h,f){this.vct=t,this.d9=n,this.E3=i,this.aW=r,this.dZ=e,this.vdt=u,this.Lut=s,this.Alt=o,this.vlt=a,this.Slt=c,this.Zlt=h,this.iH=f}var n=t.prototype;return n.uit=function(t){var n=gB++,i=this.vct.n3,r=new VO(t),e=this.vdt&&Kg(i),u=new vO(i,e),s=new OO(this.vct,this.d9,this.E3,this.dZ),o=cB.uit(n,this.vct,r,this.dZ,u,this.aW,this.Lut,this.Alt,this.vlt,this.Slt),a=function(t){switch(t){case jg.cE:return al.cE;case jg.lE:return al.lE;case jg.wk:return al.wk;case jg.dE:return al.dE;default:return al.Qk}}(i),c=function(t,n,i,r){var e=new yO(r),u=new LO(t,n,i);return new _O([e,u])}(new cO(this.aW,a),u,e,this.Lut),h=new lB(n,r,s,o,c,this.vct,this.Slt,this.Zlt,this.iH);return new aO(n,t.lct,r,h,this.d9)},n.mdt=function(t,n){var i={pat:jg.wk,lct:n,Uat:n.Uat,ga:t.ga};return this.uit(i)},t}();F(),Tt();var mB=function(){function t(t){this.wot=t}var n=t.prototype;return n.hJ=function(t){return this.wot.hJ(t)},n.uJ=function(t){return this.wot.uJ(t)},t}(),yB=function(){function t(){}var n=t.prototype;return n.hJ=function(t){return!0},n.uJ=function(t){return et.resolve(void 0)},t}();F(),Tt(),Dt(),Rt(),Ut(),F(),Tt(),Rt();var pB=function(t){function n(n,i){var r;return(r=t.call(this,kg.nC)||this).EC=n||[],r.Ht=i,r}return It(n,t),n.prototype.ma=function(){return new _B(this.EC.map((function(t){return t.ga})))},n}(dg),_B=function(t){function n(n){var i;return(i=t.call(this,"targetqualitychanged")||this).qualities=n,i.quality=i.qualities.length>0?i.qualities[0]:void 0,i}return It(n,t),n}(ea);F(),Tt(),Rt();var bB=function(t){function n(n){var i;return(i=t.call(this,kg.QUALITY_UNAVAILABLE)||this).quality=n,i}return It(n,t),n.prototype.ma=function(){return new kB(this.quality.ga)},n}(gg),kB=function(t){function n(n){var i;return(i=t.call(this,"qualityunavailable")||this).quality=n,i}return It(n,t),n}(wg);F(),Tt(),Rt();var AB=function(t){function n(){return t.call(this,kg.NO_QUALITY)||this}return It(n,t),n}(ea);function TB(t){return{mG:t.mG,dp:t.Urt,Ti:SB(t)?t.Ti:0,pw:SB(t)?jg.lE:jg.cE,ji:SB(t)?t.ji:0}}function SB(t){var n=t;return void 0!==n.Ti&&void 0!==n.ji}F(),Tt();var EB=0,IB=function(t){function n(n,i,r){var e;return void 0===r&&(r="alternative"),(e=t.call(this)||this).Tdt=void 0,e.He=!1,e.Za=void 0,e.xdt=void 0,e.US="",e.Fdt=!1,e.wO=new ew,e.Pdt=[],e.Adt=void 0,e.Rdt=void 0,e.wdt=function(){return e.yo(new ow(e))},e.Ndt=[],e.Dat=n,e.US=String(EB++),e.TO=hw(),e.q4=r,e.CA=n.Wtt,e.kO=n.kh,e.Mdt=n.pw,e.Pdt=n.Uat,e.pdt(i),e}It(n,t);var i=n.prototype;return i.pdt=function(t){for(var n=0;n<t.length;n++){var i=t[n];i.yn("update",this.wdt),this.wO.yO(i)}},i.ydt=function(t){if(this.wO.bO(t)){t.sW();var n=this.bdt();if(this.Adt&&mo(this.Adt,t)){var i=this.Adt.filter((function(t){return t.Hnt}));0===i.length&&n.length>0?this.xC=n:this.xC=i}else this.xC=n;this.yo(new bB(t))}},i.Sdt=function(t){if(this.wO.bO(t)){var n=this.bdt();t.iW(),this.Adt&&!function(t,n){return yo(t,n,(function(t,n){return t===n}))}(this.Adt,n)||(this.xC=this.bdt())}},i.bdt=function(){return this.wO.oC.filter((function(t){return t.Hnt}))},i.kdt=function(t){this.Tdt=t.nat,this.yo(t)},i.Idt=function(t){if(t&&0!==t.length){for(var n=[],i=0,r=this.Uat;i<r.length;i++)for(var e=r[i],u=0;u<t.length;u++){var s=t[u];s===e.nat&&s.Hnt&&n.push(e)}return n}},i.Ddt=function(t){var n;this.Ndt.push(t),(n=this.Pdt).push.apply(n,Ft(t.Uat));var i=t.Uat.map((function(t){return t.nat}));this.pdt(i)},i.xO=function(t){this.He=t,this.xdt&&(t?this.xdt.iW(this):this.xdt.sW(this))},i.Odt=function(t){this.He=t,this.Fdt!==t&&(this.Fdt=t,this.yo(new uw(this)))},i.gn=function(){for(var t=0,n=this.wO.oC;t<n.length;t++){n[t].fn("update",this.wdt)}this.wO.tr()},Nt(n,[{key:"kC",get:function(){return this.Dat.gdt.map(RB).filter(Yn)}},{key:"SC",get:function(){return this.Tdt}},{key:"lct",get:function(){return this.Dat}},{key:"Rt",get:function(){return this.He},set:function(t){this.xO(t)}},{key:"ga",get:function(){return this.Za||(this.Za=Gg(this)),this.Za}},{key:"Edt",get:function(){return this.xdt},set:function(t){this.xdt=t}},{key:"o",get:function(){return this.US}},{key:"TC",get:function(){return this.TO}},{key:"Lt",get:function(){return this.q4}},{key:"gs",get:function(){return this.CA}},{key:"kh",get:function(){return this.kO},set:function(t){t!==this.kO&&(this.kO=t,this.yo(new ow(this)))}},{key:"TE",get:function(){return this.Rt?"enabled":"disabled"}},{key:"xC",get:function(){return this.Adt},set:function(t){var n;if(t){var i=this.SC?TB(this.SC):void 0;n=t.filter((function(t){return t.Hnt&&Kn.Ys.hp(i,TB(t))}))}else n=this.bdt();0!==n.length?(this.Adt=t&&this.wO.bO(t)?t:void 0,this.Rdt=this.Idt(this.Adt),this.yo(new pB(t,this))):this.yo(new AB)}},{key:"Cdt",get:function(){return this.Rdt}},{key:"EC",get:function(){return this.wO}},{key:"Uat",get:function(){return this.Pdt}},{key:"pat",get:function(){return this.Mdt}},{key:"Ldt",get:function(){return this.Ndt}},{key:"Bdt",get:function(){return this.Uat.every((function(t){return t.Bdt}))}}]),n}(na);function RB(t){if("urn:mpeg:dash:role:2011"===t.J6)return CB(t);if("urn:tva:metadata:cs:AudioPurposeCS:2007"===t.J6){if("1"===t.Ix)return Wg.pC;if("2"===t.Ix)return Wg.yC}}function CB(t){if(void 0!==(null==t?void 0:t.Ix))switch(t.Ix){case"caption":return Wg.gC;case"sign":return Wg.wC;case"description":return Wg.pC;case"enhanced-audio-intelligibility":return Wg.yC;default:return}}var NB=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this)||this).ZA=0,o.aZ=1,o.Xdt=void 0,o.Gdt={},o.Zdt={},o.HA=0,o.hft=is(),o.eft=function(t){0},o.d9=n,o.aW=i,o.dZ=r,o.$dt=e,o.Lut=u,o.oW=s,o}It(n,t);var i=n.prototype;return i.i3=function(){},i.wct=function(){return this.mct.gr(this.jn)},i.ddt=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a,c,h,f,v,d,l;return Ht(this,(function(g){switch(g.label){case 0:return t.pw!==DR.QQ?[3,1]:(s=t.Zk.aht,[3,3]);case 1:return[4,t.Zk.xk(r)];case 2:s=g.sent(),g.label=3;case 3:for(u=s,o=e.findTrackForRepresentation(i),a=e.Gdt[o.TC],c=n.LO,h=n.BO,f=new AA([c,h]),a||(e.Gdt[o.TC]=AA.fB(),e.Zdt[o.TC]=AA.fB()),e.Tot(r),v=e.Dot(new E(u),n,i,o),d=0;d<v.length;d++)l=v[d],o.uW(l);return e.Gdt[o.TC]=e.Gdt[o.TC].KL(f),[2,{tdt:c,edt:h}]}}))}))()},i.Tot=function(t){for(var n=GI(this.d9.yR,void 0,void 0,this._R,this.dZ.xj,this.dZ.yj),i=0;i<n.length;i++){var r=tn(n[i],2),e=r[0],u=r[1];jo(this.ldt(e,u,t))}},i.Pot=function(t,n,i){return this.$dt.Pot(t,n,i)},i.Dot=function(t,n,i,r){return this.$dt.Dot(t,n,i,r)},i.ldt=function(t,n,i){for(var r=t,e=n,u=new AA([t,n]),s=0,o=this.Z.oC;s<o.length;s++){for(var a=o[s],c=[],h=0,f=a.L.oC;h<f.length;h++){var v=f[h];v.LO>=r&&v.BO<=e?c.push(v):u=u.QL(new AA([v.LO,v.BO]))}for(var d=0;d<c.length;d++){var l=c[d];a.JV(l)}var g=this.Gdt[a.TC];g&&(this.Gdt[a.TC]=g.QL(u))}return et.resolve()},i.LJ=function(t,n){},i.BJ=function(t,n){},i.Dj=function(){return!1},i.iW=function(t){var n=this.tft(t);if(n&&this.Vdt!==n){this.Vdt=n;for(var i=0,r=this.Z.oC;i<r.length;i++){var e=r[i];e!==n&&(e.TE=Oy.Ch)}if(this.$dt.tr(),this.Xdt&&(this.Xdt.gn(),this.Xdt=void 0),this.Vdt){var u=this.jdt(this.Vdt);this.Xdt=new wB(this,this.d9,this.d9,this.aW,this.dZ,!1,this.Lut,void 0,void 0,new yB,mT,void 0).mdt(this.Vdt,u),this.Xdt.yn(Vy.ua,this.eft),this.Xdt.Cn(nO._ht)}}},i.sW=function(t){if(this.Vdt===t){var n=this.tft(t);n&&this.Vdt===n&&(this.Vdt=void 0),this.Xdt&&(this.Xdt.gn(),this.Xdt=void 0)}},i.$n=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.tr()];case 1:return i.sent(),n.qdt=t,n.ift(t),[2]}}))}))()},i.sft=function(t){var n=function(t){var n=t.Uat&&t.Uat.length>0&&t.Uat[0],i=n&&Ky(n.Urt),r=Ky(t.Urt),e=t.Xq===Cv.APPLICATION_TTML_XML;return i||r||e?kw.TTML:t.Xq===Cv.TEXT_VTT||$y(t.Xq,t.Urt)?kw.WEBVTT:kw.DEFAULT}(t);if(!n)throw new p("Unknown TextTrack type for Representation");var i=t.nft.concat(t.gdt);return this.rft(function(t){return mo(t.filter((function(t){return"urn:mpeg:dash:role:2011"===t.J6})).map((function(t){return t.Ix})).filter(Yn),"caption")?Gy.YV:Gy.qV}(i),t.kh,t.Wtt,!1,n,t,function(t){return t.filter((function(t){return"urn:mpeg:dash:role:2011"===t.J6})).some((function(t){return function(t){return"forced-subtitle"===t||"forced_subtitle"===t}(t.Ix)}))}(t.nft),t.gdt.map(CB).filter(Yn))},i.ift=function(t){for(var n=0,i=t.oft;n<i.length;n++){var r=i[n],e=this.sft(r);this.hft.set(e.TC,r),e.tI=bw.LOADED,this.tt(e)}},i.it=function(n){this.hft.delete(n.TC),t.prototype.it.call(this,n)},i.rft=function(t,n,i,r,e,u,s,o){var a,c,h=u.Uat.reduce((function(t,n){return t||n.o}),void 0),f=null!=(c=null!=h?h:null==(a=u.o)?void 0:a.toString())?c:"";return this.oW.DI(t,f,n,i,r,e,s,o)},i.tr=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.tr.call(n)];case 1:return i.sent(),n.Xdt?[4,n.Xdt.tr(nO.Bht)]:[3,3];case 2:i.sent(),n.Xdt.fn(Vy.ua,n.eft),n.Xdt=void 0,i.label=3;case 3:return n.qdt=void 0,n.Gdt={},n.Zdt={},[2]}}))}))()},i.aft=function(){this.Gdt={},this.Zdt={}},i.findTrackForRepresentation=function(t){for(var i=0,r=this.Z.oC;i<r.length;i++){var e=r[i],u=this.jdt(e);if(u&&n.uft(u)===t)return e}},i.tft=function(t){return ao(this.Z.oC,(function(n){return t.TC===n.TC}))},i.jdt=function(t){return this.hft.get(t.TC)},i.Ydt=function(){if(this.Vdt){var t=this.jdt(this.Vdt);if(t)return n.uft(t)}},i.gn=function(){for(var n=0,i=this.Z.oC;n<i.length;n++){var r=i[n];this.oW.lW(r)}return t.prototype.gn.call(this)},n.uft=function(t){return t.Uat&&t.Uat.length>0?t.Uat[0]:void 0},Nt(n,[{key:"Vdt",get:function(){return this.Wdt},set:function(t){this.Wdt=t}},{key:"Rt",get:function(){for(var t=0,n=this.Z.oC;t<n.length;t++){if(n[t].TE!==Oy.Ch)return!0}return!1}},{key:"WG",get:function(){var t=this.d9.yR;return this.mct.uB(t,.01)}},{key:"Udt",get:function(){return this.Vdt&&this.Gdt[this.Vdt.TC]?this.Gdt[this.Vdt.TC]:AA.fB()}},{key:"Hdt",get:function(){return this.Vdt&&this.Zdt[this.Vdt.TC]?this.Zdt[this.Vdt.TC]:AA.fB()}},{key:"yct",get:function(){return new AA([0,1/0])}},{key:"_R",get:function(){return this.Udt}},{key:"NJ",get:function(){return this.Xdt?this.Xdt.fat.NJ.bct:AA.fB()}},{key:"mct",get:function(){return iO(this._R,this.NJ).YL(2*this.zdt)}},{key:"Cn",get:function(){return this.qdt?this.qdt.Yct.Cn:NaN}},{key:"jn",get:function(){return this.qdt?this.qdt.Yct.jn:NaN}},{key:"kR",get:function(){var t=this.jn;return!!t&&this.d9.yR>=t}},{key:"zdt",get:function(){var t,n,i=this.Ydt();return i?1/(null!=(n=this.Vdt&&(null==i||null==(t=i.Kdt)?void 0:t.uF()))?n:25):.04}},{key:"Ti",get:function(){return this.ZA}},{key:"n3",get:function(){return jg.wk}},{key:"zR",get:function(){return this.aZ},set:function(t){this.aZ=t}},{key:"KR",get:function(){return this.Hdt}},{key:"iI",get:function(){if(!this.Vdt)return AA.lB(0);var t=this.jdt(this.Vdt),n=null==t?void 0:t.Qdt,i=null==t?void 0:t.Jdt;if(void 0===i||void 0===n)return AA.lB(0);var r=k.max(n,this.d9.yR);return new AA([i,r]).HL()}},{key:"ji",get:function(){return this.HA}}]),n}(sp),DB=function(){function t(t,n,i,r,e,u){this.dft=[],this.Ul=new Sk([]),this.d9=t,this.aW=n,this.dZ=i,this.Lut=r,this.oW=e,this.Mot=u}var n=t.prototype;return n.hW=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return t.pw!==jg.wk?[2]:(i=function(t,n,i){return Ky(n)||t===Cv.APPLICATION_TTML_XML||t===Cv.TEXT_VTT?new jM(i):$y(t,n)?new QM:void 0}(t.Xq,t.Urt,n.Mot),i?(r=n.cft(i),n.lft(r),[4,r.$n(t)]):[3,2]);case 1:return e.sent(),[2,r];case 2:return[2]}}))}))()},n.cft=function(t){return new NB(this.d9,this.aW,this.dZ,t,this.Lut,this.oW)},n.lft=function(t){this.dft.push(t),this.Ul.xG(t.Z)},n.tr=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:n=0,i=t.dft.slice(),r.label=1;case 1:return n<i.length?[4,i[n].tr()]:[3,4];case 2:r.sent(),r.label=3;case 3:return n++,[3,1];case 4:return po(t.dft),t.Ul.tr(),[2]}}))}))()},n.gn=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:n=0,i=t.dft,r.label=1;case 1:return n<i.length?[4,i[n].gn()]:[3,4];case 2:r.sent(),r.label=3;case 3:return n++,[3,1];case 4:return po(t.dft),t.Ul.gn(),[2]}}))}))()},Nt(t,[{key:"nt",get:function(){return this.Ul}}]),t}();F(),Tt(),Rt();var PB=function(t){function n(n){var i;return(i=t.call(this,ua.Fy)||this).error=n,i}return It(n,t),n}(ea);F(),Tt();var xB=function(t){return t.fW="static",t._W="dynamic",t}({});F(),Tt(),Rt(),F(),Tt();var LB=function(t){return t.fft="_ft",t}({}),MB=function(t){function n(){return t.call(this,LB.fft)||this}return It(n,t),n}(ea);F(),Tt(),Gt(),Dt(),Rt(),nn(),qt(),F(),Tt(),Rt();var OB=function(t){function n(n,i){var r;return(r=t.call(this,ua.Zy)||this).representation=n,r.previousRepresentation=i,r}return It(n,t),n}(ea);F(),Tt(),Rt(),F(),Tt(),Ut(),F(),Tt();var BB=function(t){return t[t.vft=0]="vft",t[t.mft=1]="mft",t[t.gft=2]="gft",t[t.pft=3]="pft",t[t.wft=4]="wft",t[t.yft=5]="yft",t}({}),VB=function(t){return t[t.bft=0]="bft",t[t.Aft=1]="Aft",t[t.Sft=2]="Sft",t[t.Tft=3]="Tft",t}({});function FB(t,n,i){return i===BB.vft?i:n!==VB.bft&&n!==VB.Aft||i!==BB.mft&&i!==BB.gft?t?n===VB.Sft?BB.wft:n===VB.Tft?BB.pft:BB.vft:BB.yft:BB.gft}function UB(t,n,i,r){var e={byte:i},u=BB.mft,s=[],o=31&lC(n,e,r);e.byte+=1;for(var a=0;a<o;a+=1){var c=lC(n,e,r),h=4&c,f=3&c;u=FB(Boolean(h),f,u);var v=lC(n,e,r),d=lC(n,e,r);s.push({kft:t,JM:-1,Eft:!a,xft:Boolean(h),pw:f,Rft:u,Ift:v,Cft:d})}return s}function WB(t,n,i){var r=lC(t,n,i);if(!S(r))return String.fromCharCode(r)}function ZB(t){var n=t.B0,i={byte:t.M0},r=t.L0,e=lC(n,i,r);if(255===e&&(i.byte+=1),181===e){var u=gC(n,i);if(47===u||49===u){if(49===u){var s=function(t,n,i){for(var r="",e=i;e>0;)e-=1,r+=WB(t,n);return r}(n,i,4);if("GA94"!==s)return}if(3===lC(n,i,r)){47===u&&(i.byte+=1);var o=t;return o.Pft=i.byte,o}}}}function XB(t){return 4===t.D0}function GB(t){for(var n=t.filter(XB).map(ZB).filter(Yn),i=[],r=0;r<n.length;r++){var e,u=n[r];(e=i).push.apply(e,Ft(UB(u.P0,u.B0,u.Pft,u.L0)))}return i}F(),Tt();var HB="und";var zB=[{l:"Abkhaz",lh:"\u0410\u04a7\u0441\u0443\u0430",1:"ab",2:"abk","2T":"abk","2B":"abk",3:"abk"},{l:"Afar",lh:"Afaraf",1:"aa",2:"aar","2T":"aar","2B":"aar",3:"aar"},{l:"Afrikaans",lh:"Afrikaans",1:"af",2:"afr","2T":"afr","2B":"afr",3:"afr"},{l:"Akan",lh:"Akan",1:"ak",2:"aka","2T":"aka","2B":"aka",3:"aka"},{l:"Albanian",lh:"Shqip",1:"sq",2:"sqi","2T":"sqi","2B":"alb",3:"sqi"},{l:"Amharic",lh:"\u12a0\u121b\u122d\u129b",1:"am",2:"amh","2T":"amh","2B":"amh",3:"amh"},{l:"Arabic",lh:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",1:"ar",2:"ara","2T":"ara","2B":"ara",3:"ara"},{l:"Aragonese",lh:"Aragon\xe9s",1:"an",2:"arg","2T":"arg","2B":"arg",3:"arg"},{l:"Armenian",lh:"\u0540\u0561\u0575\u0565\u0580\u0565\u0576",1:"hy",2:"hye","2T":"hye","2B":"arm",3:"hye"},{l:"Assamese",lh:"\u0985\u09b8\u09ae\u09c0\u09af\u09bc\u09be",1:"as",2:"asm","2T":"asm","2B":"asm",3:"asm"},{l:"Avaric",lh:"\u0410\u0432\u0430\u0440",1:"av",2:"ava","2T":"ava","2B":"ava",3:"ava"},{l:"Avestan",lh:"avesta",1:"ae",2:"ave","2T":"ave","2B":"ave",3:"ave"},{l:"Aymara",lh:"Aymar",1:"ay",2:"aym","2T":"aym","2B":"aym",3:"aym"},{l:"Azerbaijani",lh:"Az\u0259rbaycanca",1:"az",2:"aze","2T":"aze","2B":"aze",3:"aze"},{l:"Bambara",lh:"Bamanankan",1:"bm",2:"bam","2T":"bam","2B":"bam",3:"bam"},{l:"Bashkir",lh:"\u0411\u0430\u0448\u04a1\u043e\u0440\u0442\u0441\u0430",1:"ba",2:"bak","2T":"bak","2B":"bak",3:"bak"},{l:"Basque",lh:"Euskara",1:"eu",2:"eus","2T":"eus","2B":"baq",3:"eus"},{l:"Belarusian",lh:"\u0411\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0430\u044f",1:"be",2:"bel","2T":"bel","2B":"bel",3:"bel"},{l:"Bengali",lh:"\u09ac\u09be\u0982\u09b2\u09be",1:"bn",2:"ben","2T":"ben","2B":"ben",3:"ben"},{l:"Bihari",lh:"\u092d\u094b\u091c\u092a\u0941\u0930\u0940",1:"bh",2:"bih","2T":"bih","2B":"bih",3:"bih"},{l:"Bislama",lh:"Bislama",1:"bi",2:"bis","2T":"bis","2B":"bis",3:"bis"},{l:"Bosnian",lh:"Bosanski",1:"bs",2:"bos","2T":"bos","2B":"bos",3:"bos"},{l:"Breton",lh:"Brezhoneg",1:"br",2:"bre","2T":"bre","2B":"bre",3:"bre"},{l:"Bulgarian",lh:"\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438",1:"bg",2:"bul","2T":"bul","2B":"bul",3:"bul"},{l:"Burmese",lh:"\u1019\u103c\u1014\u103a\u1019\u102c\u1018\u102c\u101e\u102c",1:"my",2:"mya","2T":"mya","2B":"bur",3:"mya"},{l:"Catalan",lh:"Catal\xe0",1:"ca",2:"cat","2T":"cat","2B":"cat",3:"cat"},{l:"Chamorro",lh:"Chamoru",1:"ch",2:"cha","2T":"cha","2B":"cha",3:"cha"},{l:"Chechen",lh:"\u041d\u043e\u0445\u0447\u0438\u0439\u043d",1:"ce",2:"che","2T":"che","2B":"che",3:"che"},{l:"Chichewa",lh:"Chichewa",1:"ny",2:"nya","2T":"nya","2B":"nya",3:"nya"},{l:"Chinese",lh:"\u4e2d\u6587",1:"zh",2:"zho","2T":"zho","2B":"chi",3:"zho"},{l:"Chuvash",lh:"\u0427\u04d1\u0432\u0430\u0448\u043b\u0430",1:"cv",2:"chv","2T":"chv","2B":"chv",3:"chv"},{l:"Cornish",lh:"Kernewek",1:"kw",2:"cor","2T":"cor","2B":"cor",3:"cor"},{l:"Corsican",lh:"Corsu",1:"co",2:"cos","2T":"cos","2B":"cos",3:"cos"},{l:"Cree",lh:"\u14c0\u1426\u1403\u152d\u140d\u140f\u1423",1:"cr",2:"cre","2T":"cre","2B":"cre",3:"cre"},{l:"Croatian",lh:"Hrvatski",1:"hr",2:"hrv","2T":"hrv","2B":"hrv",3:"hrv"},{l:"Czech",lh:"\u010ce\u0161tina",1:"cs",2:"ces","2T":"ces","2B":"cze",3:"ces"},{l:"Danish",lh:"Dansk",1:"da",2:"dan","2T":"dan","2B":"dan",3:"dan"},{l:"Divehi",lh:"Divehi",1:"dv",2:"div","2T":"div","2B":"div",3:"div"},{l:"Dutch",lh:"Nederlands",1:"nl",2:"nld","2T":"nld","2B":"dut",3:"nld"},{l:"Dzongkha",lh:"\u0f62\u0fab\u0f7c\u0f44\u0f0b\u0f41",1:"dz",2:"dzo","2T":"dzo","2B":"dzo",3:"dzo"},{l:"English",lh:"English",1:"en",2:"eng","2T":"eng","2B":"eng",3:"eng"},{l:"Esperanto",lh:"Esperanto",1:"eo",2:"epo","2T":"epo","2B":"epo",3:"epo"},{l:"Estonian",lh:"Eesti",1:"et",2:"est","2T":"est","2B":"est",3:"est"},{l:"Ewe",lh:"E\u028begbe",1:"ee",2:"ewe","2T":"ewe","2B":"ewe",3:"ewe"},{l:"Faroese",lh:"F\xf8royskt",1:"fo",2:"fao","2T":"fao","2B":"fao",3:"fao"},{l:"Fijian",lh:"Na Vosa Vaka-Viti",1:"fj",2:"fij","2T":"fij","2B":"fij",3:"fij"},{l:"Finnish",lh:"Suomi",1:"fi",2:"fin","2T":"fin","2B":"fin",3:"fin"},{l:"French",lh:"Fran\xe7ais",1:"fr",2:"fra","2T":"fra","2B":"fre",3:"fra"},{l:"Fula",lh:"Fulfulde",1:"ff",2:"ful","2T":"ful","2B":"ful",3:"ful"},{l:"Galician",lh:"Galego",1:"gl",2:"glg","2T":"glg","2B":"glg",3:"glg"},{l:"Georgian",lh:"\u10e5\u10d0\u10e0\u10d7\u10e3\u10da\u10d8",1:"ka",2:"kat","2T":"kat","2B":"geo",3:"kat"},{l:"German",lh:"Deutsch",1:"de",2:"deu","2T":"deu","2B":"ger",3:"deu"},{l:"Greek",lh:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",1:"el",2:"ell","2T":"ell","2B":"gre",3:"ell"},{l:"Guaran\xed",lh:"Ava\xf1e'\u1ebd",1:"gn",2:"grn","2T":"grn","2B":"grn",3:"grn"},{l:"Gujarati",lh:"\u0a97\u0ac1\u0a9c\u0ab0\u0abe\u0aa4\u0ac0",1:"gu",2:"guj","2T":"guj","2B":"guj",3:"guj"},{l:"Haitian",lh:"Krey\xf2l Ayisyen",1:"ht",2:"hat","2T":"hat","2B":"hat",3:"hat"},{l:"Hausa",lh:"\u0647\u064e\u0648\u064f\u0633\u064e",1:"ha",2:"hau","2T":"hau","2B":"hau",3:"hau"},{l:"Hebrew",lh:"\u05e2\u05d1\u05e8\u05d9\u05ea",1:"he",2:"heb","2T":"heb","2B":"heb",3:"heb"},{l:"Herero",lh:"Otjiherero",1:"hz",2:"her","2T":"her","2B":"her",3:"her"},{l:"Hindi",lh:"\u0939\u093f\u0928\u094d\u0926\u0940",1:"hi",2:"hin","2T":"hin","2B":"hin",3:"hin"},{l:"Hiri Motu",lh:"Hiri Motu",1:"ho",2:"hmo","2T":"hmo","2B":"hmo",3:"hmo"},{l:"Hungarian",lh:"Magyar",1:"hu",2:"hun","2T":"hun","2B":"hun",3:"hun"},{l:"Interlingua",lh:"Interlingua",1:"ia",2:"ina","2T":"ina","2B":"ina",3:"ina"},{l:"Indonesian",lh:"Bahasa Indonesia",1:"id",2:"ind","2T":"ind","2B":"ind",3:"ind"},{l:"Interlingue",lh:"Interlingue",1:"ie",2:"ile","2T":"ile","2B":"ile",3:"ile"},{l:"Irish",lh:"Gaeilge",1:"ga",2:"gle","2T":"gle","2B":"gle",3:"gle"},{l:"Igbo",lh:"Igbo",1:"ig",2:"ibo","2T":"ibo","2B":"ibo",3:"ibo"},{l:"Inupiaq",lh:"I\xf1upiak",1:"ik",2:"ipk","2T":"ipk","2B":"ipk",3:"ipk"},{l:"Ido",lh:"Ido",1:"io",2:"ido","2T":"ido","2B":"ido",3:"ido"},{l:"Icelandic",lh:"\xcdslenska",1:"is",2:"isl","2T":"isl","2B":"ice",3:"isl"},{l:"Italian",lh:"Italiano",1:"it",2:"ita","2T":"ita","2B":"ita",3:"ita"},{l:"Inuktitut",lh:"\u1403\u14c4\u1483\u144e\u1450\u1466",1:"iu",2:"iku","2T":"iku","2B":"iku",3:"iku"},{l:"Japanese",lh:"\u65e5\u672c\u8a9e",1:"ja",2:"jpn","2T":"jpn","2B":"jpn",3:"jpn"},{l:"Javanese",lh:"Basa Jawa",1:"jv",2:"jav","2T":"jav","2B":"jav",3:"jav"},{l:"Kalaallisut",lh:"Kalaallisut",1:"kl",2:"kal","2T":"kal","2B":"kal",3:"kal"},{l:"Kannada",lh:"\u0c95\u0ca8\u0ccd\u0ca8\u0ca1",1:"kn",2:"kan","2T":"kan","2B":"kan",3:"kan"},{l:"Kanuri",lh:"Kanuri",1:"kr",2:"kau","2T":"kau","2B":"kau",3:"kau"},{l:"Kashmiri",lh:"\u0643\u0634\u0645\u064a\u0631\u064a",1:"ks",2:"kas","2T":"kas","2B":"kas",3:"kas"},{l:"Kazakh",lh:"\u049a\u0430\u0437\u0430\u049b\u0448\u0430",1:"kk",2:"kaz","2T":"kaz","2B":"kaz",3:"kaz"},{l:"Khmer",lh:"\u1797\u17b6\u179f\u17b6\u1781\u17d2\u1798\u17c2\u179a",1:"km",2:"khm","2T":"khm","2B":"khm",3:"khm"},{l:"Kikuyu",lh:"G\u0129k\u0169y\u0169",1:"ki",2:"kik","2T":"kik","2B":"kik",3:"kik"},{l:"Kinyarwanda",lh:"Kinyarwanda",1:"rw",2:"kin","2T":"kin","2B":"kin",3:"kin"},{l:"Kyrgyz",lh:"\u041a\u044b\u0440\u0433\u044b\u0437\u0447\u0430",1:"ky",2:"kir","2T":"kir","2B":"kir",3:"kir"},{l:"Komi",lh:"\u041a\u043e\u043c\u0438",1:"kv",2:"kom","2T":"kom","2B":"kom",3:"kom"},{l:"Kongo",lh:"Kongo",1:"kg",2:"kon","2T":"kon","2B":"kon",3:"kon"},{l:"Korean",lh:"\ud55c\uad6d\uc5b4",1:"ko",2:"kor","2T":"kor","2B":"kor",3:"kor"},{l:"Kurdish",lh:"Kurd\xee",1:"ku",2:"kur","2T":"kur","2B":"kur",3:"kur"},{l:"Kwanyama",lh:"Kuanyama",1:"kj",2:"kua","2T":"kua","2B":"kua",3:"kua"},{l:"Latin",lh:"Latina",1:"la",2:"lat","2T":"lat","2B":"lat",3:"lat"},{l:"Luxembourgish",lh:"L\xebtzebuergesch",1:"lb",2:"ltz","2T":"ltz","2B":"ltz",3:"ltz"},{l:"Ganda",lh:"Luganda",1:"lg",2:"lug","2T":"lug","2B":"lug",3:"lug"},{l:"Limburgish",lh:"Limburgs",1:"li",2:"lim","2T":"lim","2B":"lim",3:"lim"},{l:"Lingala",lh:"Ling\xe1la",1:"ln",2:"lin","2T":"lin","2B":"lin",3:"lin"},{l:"Lao",lh:"\u0e9e\u0eb2\u0eaa\u0eb2\u0ea5\u0eb2\u0ea7",1:"lo",2:"lao","2T":"lao","2B":"lao",3:"lao"},{l:"Lithuanian",lh:"Lietuvi\u0173",1:"lt",2:"lit","2T":"lit","2B":"lit",3:"lit"},{l:"Luba-Katanga",lh:"Tshiluba",1:"lu",2:"lub","2T":"lub","2B":"lub",3:"lub"},{l:"Latvian",lh:"Latvie\u0161u",1:"lv",2:"lav","2T":"lav","2B":"lav",3:"lav"},{l:"Manx",lh:"Gaelg",1:"gv",2:"glv","2T":"glv","2B":"glv",3:"glv"},{l:"Macedonian",lh:"\u041c\u0430\u043a\u0435\u0434\u043e\u043d\u0441\u043a\u0438",1:"mk",2:"mkd","2T":"mkd","2B":"mac",3:"mkd"},{l:"Malagasy",lh:"Malagasy",1:"mg",2:"mlg","2T":"mlg","2B":"mlg",3:"mlg"},{l:"Malay",lh:"Bahasa Melayu",1:"ms",2:"msa","2T":"msa","2B":"may",3:"msa"},{l:"Malayalam",lh:"\u0d2e\u0d32\u0d2f\u0d3e\u0d33\u0d02",1:"ml",2:"mal","2T":"mal","2B":"mal",3:"mal"},{l:"Maltese",lh:"Malti",1:"mt",2:"mlt","2T":"mlt","2B":"mlt",3:"mlt"},{l:"M\u0101ori",lh:"M\u0101ori",1:"mi",2:"mri","2T":"mri","2B":"mao",3:"mri"},{l:"Marathi",lh:"\u092e\u0930\u093e\u0920\u0940",1:"mr",2:"mar","2T":"mar","2B":"mar",3:"mar"},{l:"Marshallese",lh:"Kajin M\u0327aje\u013c",1:"mh",2:"mah","2T":"mah","2B":"mah",3:"mah"},{l:"Mongolian",lh:"\u041c\u043e\u043d\u0433\u043e\u043b",1:"mn",2:"mon","2T":"mon","2B":"mon",3:"mon"},{l:"Nauru",lh:"Dorerin Naoero",1:"na",2:"nau","2T":"nau","2B":"nau",3:"nau"},{l:"Navajo",lh:"Din\xe9 Bizaad",1:"nv",2:"nav","2T":"nav","2B":"nav",3:"nav"},{l:"Northern Ndebele",lh:"isiNdebele",1:"nd",2:"nde","2T":"nde","2B":"nde",3:"nde"},{l:"Nepali",lh:"\u0928\u0947\u092a\u093e\u0932\u0940",1:"ne",2:"nep","2T":"nep","2B":"nep",3:"nep"},{l:"Ndonga",lh:"Owambo",1:"ng",2:"ndo","2T":"ndo","2B":"ndo",3:"ndo"},{l:"Norwegian Bokm\xe5l",lh:"Norsk (Bokm\xe5l)",1:"nb",2:"nob","2T":"nob","2B":"nob",3:"nob"},{l:"Norwegian Nynorsk",lh:"Norsk (Nynorsk)",1:"nn",2:"nno","2T":"nno","2B":"nno",3:"nno"},{l:"Norwegian",lh:"Norsk",1:"no",2:"nor","2T":"nor","2B":"nor",3:"nor"},{l:"Nuosu",lh:"\ua188\ua320\ua4bf Nuosuhxop",1:"ii",2:"iii","2T":"iii","2B":"iii",3:"iii"},{l:"Southern Ndebele",lh:"isiNdebele",1:"nr",2:"nbl","2T":"nbl","2B":"nbl",3:"nbl"},{l:"Occitan",lh:"Occitan",1:"oc",2:"oci","2T":"oci","2B":"oci",3:"oci"},{l:"Ojibwe",lh:"\u140a\u14c2\u1511\u14c8\u142f\u14a7\u140e\u14d0",1:"oj",2:"oji","2T":"oji","2B":"oji",3:"oji"},{l:"Old Church Slavonic",lh:"\u0421\u043b\u043e\u0432\u0463\u0301\u043d\u044c\u0441\u043a\u044a",1:"cu",2:"chu","2T":"chu","2B":"chu",3:"chu"},{l:"Oromo",lh:"Afaan Oromoo",1:"om",2:"orm","2T":"orm","2B":"orm",3:"orm"},{l:"Oriya",lh:"\u0b13\u0b21\u0b3f\u0b3c\u0b06",1:"or",2:"ori","2T":"ori","2B":"ori",3:"ori"},{l:"Ossetian",lh:"\u0418\u0440\u043e\u043d \xe6\u0432\u0437\u0430\u0433",1:"os",2:"oss","2T":"oss","2B":"oss",3:"oss"},{l:"Panjabi",lh:"\u0a2a\u0a70\u0a1c\u0a3e\u0a2c\u0a40",1:"pa",2:"pan","2T":"pan","2B":"pan",3:"pan"},{l:"P\u0101li",lh:"\u092a\u093e\u0934\u093f",1:"pi",2:"pli","2T":"pli","2B":"pli",3:"pli"},{l:"Persian",lh:"\u0641\u0627\u0631\u0633\u06cc",1:"fa",2:"fas","2T":"fas","2B":"per",3:"fas"},{l:"Polish",lh:"Polski",1:"pl",2:"pol","2T":"pol","2B":"pol",3:"pol"},{l:"Pashto",lh:"\u067e\u069a\u062a\u0648",1:"ps",2:"pus","2T":"pus","2B":"pus",3:"pus"},{l:"Portuguese",lh:"Portugu\xeas",1:"pt",2:"por","2T":"por","2B":"por",3:"por"},{l:"Quechua",lh:"Runa Simi",1:"qu",2:"que","2T":"que","2B":"que",3:"que"},{l:"Romansh",lh:"Rumantsch",1:"rm",2:"roh","2T":"roh","2B":"roh",3:"roh"},{l:"Kirundi",lh:"Kirundi",1:"rn",2:"run","2T":"run","2B":"run",3:"run"},{l:"Romanian",lh:"Rom\xe2n\u0103",1:"ro",2:"ron","2T":"ron","2B":"rum",3:"ron"},{l:"Russian",lh:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",1:"ru",2:"rus","2T":"rus","2B":"rus",3:"rus"},{l:"Sanskrit",lh:"\u0938\u0902\u0938\u094d\u0915\u0943\u0924\u092e\u094d",1:"sa",2:"san","2T":"san","2B":"san",3:"san"},{l:"Sardinian",lh:"Sardu",1:"sc",2:"srd","2T":"srd","2B":"srd",3:"srd"},{l:"Sindhi",lh:"\u0633\u0646\u068c\u064a\u200e",1:"sd",2:"snd","2T":"snd","2B":"snd",3:"snd"},{l:"Northern Sami",lh:"S\xe1megiella",1:"se",2:"sme","2T":"sme","2B":"sme",3:"sme"},{l:"Samoan",lh:"Gagana S\u0101moa",1:"sm",2:"smo","2T":"smo","2B":"smo",3:"smo"},{l:"Sango",lh:"S\xe4ng\xf6",1:"sg",2:"sag","2T":"sag","2B":"sag",3:"sag"},{l:"Serbian",lh:"\u0421\u0440\u043f\u0441\u043a\u0438",1:"sr",2:"srp","2T":"srp","2B":"srp",3:"srp"},{l:"Gaelic",lh:"G\xe0idhlig",1:"gd",2:"gla","2T":"gla","2B":"gla",3:"gla"},{l:"Shona",lh:"ChiShona",1:"sn",2:"sna","2T":"sna","2B":"sna",3:"sna"},{l:"Sinhala",lh:"\u0dc3\u0dd2\u0d82\u0dc4\u0dbd",1:"si",2:"sin","2T":"sin","2B":"sin",3:"sin"},{l:"Slovak",lh:"Sloven\u010dina",1:"sk",2:"slk","2T":"slk","2B":"slo",3:"slk"},{l:"Slovene",lh:"Sloven\u0161\u010dina",1:"sl",2:"slv","2T":"slv","2B":"slv",3:"slv"},{l:"Somali",lh:"Soomaaliga",1:"so",2:"som","2T":"som","2B":"som",3:"som"},{l:"Southern Sotho",lh:"Sesotho",1:"st",2:"sot","2T":"sot","2B":"sot",3:"sot"},{l:"Spanish",lh:"Espa\xf1ol",1:"es",2:"spa","2T":"spa","2B":"spa",3:"spa"},{l:"Sundanese",lh:"Basa Sunda",1:"su",2:"sun","2T":"sun","2B":"sun",3:"sun"},{l:"Swahili",lh:"Kiswahili",1:"sw",2:"swa","2T":"swa","2B":"swa",3:"swa"},{l:"Swati",lh:"SiSwati",1:"ss",2:"ssw","2T":"ssw","2B":"ssw",3:"ssw"},{l:"Swedish",lh:"Svenska",1:"sv",2:"swe","2T":"swe","2B":"swe",3:"swe"},{l:"Tamil",lh:"\u0ba4\u0bae\u0bbf\u0bb4\u0bcd",1:"ta",2:"tam","2T":"tam","2B":"tam",3:"tam"},{l:"Telugu",lh:"\u0c24\u0c46\u0c32\u0c41\u0c17\u0c41",1:"te",2:"tel","2T":"tel","2B":"tel",3:"tel"},{l:"Tajik",lh:"\u0422\u043e\u04b7\u0438\u043a\u04e3",1:"tg",2:"tgk","2T":"tgk","2B":"tgk",3:"tgk"},{l:"Thai",lh:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",1:"th",2:"tha","2T":"tha","2B":"tha",3:"tha"},{l:"Tigrinya",lh:"\u1275\u130d\u122d\u129b",1:"ti",2:"tir","2T":"tir","2B":"tir",3:"tir"},{l:"Tibetan Standard",lh:"\u0f56\u0f7c\u0f51\u0f0b\u0f61\u0f72\u0f42",1:"bo",2:"bod","2T":"bod","2B":"tib",3:"bod"},{l:"Turkmen",lh:"T\xfcrkmen\xe7e",1:"tk",2:"tuk","2T":"tuk","2B":"tuk",3:"tuk"},{l:"Tagalog",lh:"Tagalog",1:"tl",2:"tgl","2T":"tgl","2B":"tgl",3:"tgl"},{l:"Tswana",lh:"Setswana",1:"tn",2:"tsn","2T":"tsn","2B":"tsn",3:"tsn"},{l:"Tonga",lh:"faka Tonga",1:"to",2:"ton","2T":"ton","2B":"ton",3:"ton"},{l:"Turkish",lh:"T\xfcrk\xe7e",1:"tr",2:"tur","2T":"tur","2B":"tur",3:"tur"},{l:"Tsonga",lh:"Xitsonga",1:"ts",2:"tso","2T":"tso","2B":"tso",3:"tso"},{l:"Tatar",lh:"\u0422\u0430\u0442\u0430\u0440\u0447\u0430",1:"tt",2:"tat","2T":"tat","2B":"tat",3:"tat"},{l:"Twi",lh:"Twi",1:"tw",2:"twi","2T":"twi","2B":"twi",3:"twi"},{l:"Tahitian",lh:"Reo M\u0101\u2019ohi",1:"ty",2:"tah","2T":"tah","2B":"tah",3:"tah"},{l:"Uyghur",lh:"\u0626\u06c7\u064a\u063a\u06c7\u0631\u0686\u0647",1:"ug",2:"uig","2T":"uig","2B":"uig",3:"uig"},{l:"Ukrainian",lh:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",1:"uk",2:"ukr","2T":"ukr","2B":"ukr",3:"ukr"},{l:"Urdu",lh:"\u0627\u0631\u062f\u0648",1:"ur",2:"urd","2T":"urd","2B":"urd",3:"urd"},{l:"Uzbek",lh:"O\u2018zbek",1:"uz",2:"uzb","2T":"uzb","2B":"uzb",3:"uzb"},{l:"Venda",lh:"Tshiven\u1e13a",1:"ve",2:"ven","2T":"ven","2B":"ven",3:"ven"},{l:"Vietnamese",lh:"Ti\u1ebfng Vi\u1ec7t",1:"vi",2:"vie","2T":"vie","2B":"vie",3:"vie"},{l:"Volap\xfck",lh:"Volap\xfck",1:"vo",2:"vol","2T":"vol","2B":"vol",3:"vol"},{l:"Walloon",lh:"Walon",1:"wa",2:"wln","2T":"wln","2B":"wln",3:"wln"},{l:"Welsh",lh:"Cymraeg",1:"cy",2:"cym","2T":"cym","2B":"wel",3:"cym"},{l:"Wolof",lh:"Wolof",1:"wo",2:"wol","2T":"wol","2B":"wol",3:"wol"},{l:"Western Frisian",lh:"Frysk",1:"fy",2:"fry","2T":"fry","2B":"fry",3:"fry"},{l:"Xhosa",lh:"isiXhosa",1:"xh",2:"xho","2T":"xho","2B":"xho",3:"xho"},{l:"Yiddish",lh:"\u05d9\u05d9\u05b4\u05d3\u05d9\u05e9",1:"yi",2:"yid","2T":"yid","2B":"yid",3:"yid"},{l:"Yoruba",lh:"Yor\xf9b\xe1",1:"yo",2:"yor","2T":"yor","2B":"yor",3:"yor"},{l:"Zhuang",lh:"Cuengh",1:"za",2:"zha","2T":"zha","2B":"zha",3:"zha"},{l:"Zulu",lh:"isiZulu",1:"zu",2:"zul","2T":"zul","2B":"zul",3:"zul"}];F(),Tt(),Ut();function YB(t){var n,i=null!=(n=function(t){var n=t.p0,i=new wC;return i.S0(n,0,n.byteLength),CC(i).Q0}(t))?n:24;return t.Dft/i}function jB(t){return t.pw===ty.eD}function KB(t,n,i,r,e){for(var u,s=function(t,n,i,r){var e=i.Dft,u=tr.fromNumber(t.cL||0),s=r.yO(am.TF(u,e));return{Nft:r.uF(),Mft:r,Lft:s,Bft:r}}(t,0,i,r),o=am.kF(t.ct||0,i.Dft),a=t.zD||0,c=!(65536&a)&&1!==(a>>24&3),h=pc(e),f=new Ec;f.tc<h.byteLength;){var v=Ya(h,f);if((31&Xa(h,f,1))===SC.G0){var d,l=new wC;l.S0(e,f.tc-1,f.tc+v-1);var g=new RC(l),w=kC(s.Lft,g);(d=u=u||[]).push.apply(d,Ft(GB(w)))}f.Ab(v-1)}return $u({},s,{ct:o.uF(),Oft:o,Fft:s.Lft.uF(),Vft:s.Nft,Wft:c,Uft:u,Gft:!1,Hft:!1})}function qB(t){return{bN:t.WD.bN,Dft:t.gN.WD.lN}}function JB(t){return t.pw===ty.dP}F(),Tt(),Rt(),F(),Tt(),Rt(),F(),Tt(),Ut(),F(),Tt(),F(),Tt(),F(),Tt(),Rt(),F(),Tt(),F(),Tt();var QB=function(){function t(t,n){this.Ytt=t,this.Ott=n}return t.prototype.JO=function(t){return this.Ytt===t.Ytt&&this.Ott===t.Ott},t}();F(),Tt(),Dt();var $B=function(){function t(t,n){this.zQ=t,this.Xft=n,this.Zft=""}var n=t.prototype;return n.zft=function(t){this.Zft+=t},n.qft=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.zft(i)}},Nt(t,[{key:"uet",get:function(){return this.Zft}},{key:"net",get:function(){return[this]}},{key:"het",get:function(){return this.zQ}},{key:"Gtt",get:function(){return this.Xft}},{key:"Xtt",get:function(){return new QB(this.Gtt.Ytt,this.Gtt.Ott+this.uet.length-1)}}]),t}();function tV(t,n){return t===n||t.uet===n.uet&&t.Gtt.JO(n.Gtt)&&Rg(t.het,n.het)}function nV(t,n){return t===n||t.Gtt.JO(n.Gtt)&&t.Xtt.JO(n.Xtt)&&yo(t.net,n.net,tV)}var iV=function(t){function n(n,i,r){return t.call(this,n,i,r,!1)||this}return It(n,t),n.prototype.$O=function(t){return yo(this.U,t.U,nV)},n}(Ww);F(),Tt(),Dt();var rV=function(){function t(){}var n=t.prototype;return n.Yft=function(t){return t.AV(this)},n.Kft=function(t){var n=this;return bo(t,(function(t,i){return t.AV(n,i)}))},n.jft=function(t,n){return new eV(t,n).Qft()},t}(),eV=function(){function t(t,n){this.Ytt=t,this.n_t=n,this.e_t=[],this.s_t=null}var n=t.prototype;return n.Qft=function(){if(this.Jft)return[];for(var t=0;t<this.Ytt.length;t++)this.$ft(t);return this.t_t(),this.e_t},n.i_t=function(t){this.s_t=new $B(Sx,new QB(this.n_t,t))},n.t_t=function(){this.s_t&&(this.e_t.push(this.s_t),this.s_t=null)},n.$ft=function(t){var n=this.Ytt[t];uV(n)?this.s_t&&this.t_t():(this.s_t||this.i_t(t),this.s_t.zft(n))},Nt(t,[{key:"Jft",get:function(){return this.Ytt.every(uV)}}]),t}();function uV(t){return null==t}var sV=function(){function t(){}return t.r_t=function(t,n,i){if(!(n>=i)){var r=bo(t,(function(t,n){return new eV(t.map((function(t){return t?t.o_t():null})),n).Qft()}));if(0!==r.length)return new iV(n,i,r)}},t}(),oV="black",aV="white";F(),Tt(),F(),Tt();var cV=[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce((function(t,n){return t[n[0]]=n[1],t}),{}),hV=function(){function t(){this.a_t=[],this.l_t=0;for(var t=0;t<Cx;t++)this.a_t.push(null);this.__t=!1}var n=t.prototype;return n.h_t=function(t){for(var n=0;n<Cx;n++)t&&(this.a_t[n]=t.a_t[n])},n.JO=function(t){for(var n=0;n<Cx;n++)if(this.a_t[n]!==t.a_t[n])return!1;return!0},n.u_t=function(){for(var t=0;t<Cx;t++)if(null!==this.a_t[t])return!1;return!0},n.c_t=function(t){this.l_t!==t&&(this.l_t=t),this.l_t<0?this.l_t=0:this.l_t>Cx&&(this.l_t=31)},n.d_t=function(t){var n=this.l_t+t;this.c_t(n)},n.f_t=function(){this.d_t(-1),this.a_t[this.l_t]=null},n.zft=function(t){t>=144&&this.f_t();var n=function(t){return cV[t]?String.fromCharCode(cV[t]):String.fromCharCode(t)}(t);this.addParsedChar(n)},n.addParsedChar=function(t){this.l_t>=Cx||(32===Number(t)?(this.a_t[this.l_t]=this.__t?"</i>":"<i>",this.__t=!this.__t):this.a_t[this.l_t]=t,this.d_t(1))},n.v_t=function(t){for(var n=t;n<Cx;n++)this.a_t[n]=null},n.Nb=function(){this.v_t(0),this.l_t=0},n.m_t=function(){this.v_t(this.l_t)},n.g_t=function(t,n){for(var i=this.a_t,r=null,e=0;e<Cx;e++){var u=i[e];null===u?r=null:(r||(r={Oh:e,Vh:t,ji:0,Ti:1,a_t:[[]]},n.push(r)),r.a_t[0].push(u),r.ji++)}},n.AV=function(t,n){return t.jft(this.a_t,n)},t}();var fV=function(){function t(t,n){this.b_t=new Array(vV+1);for(var i=0;i<=vV;i++)this.b_t[i]=new hV;this.T_t=1,this.R_t=0,this.w_t=t,this.y_t=n,this.L_t=!1,this.O_t=!1,this.V_t=aV,this.U_t=oV,this.tr()}var n=t.prototype;return n.p_t=function(t,n){var i="CC"+(this.w_t<<1|this.y_t+1);if(t>=n)return null;var r=(new rV).Kft(this.b_t.slice(1));return 0===r.length?null:{DO:new iV(t,n,r),Rk:i,A_t:this.w_t<<1|this.y_t+1}},n.tr=function(){this.S_t(),this.T_t=1},n.k_t=function(){return this.T_t},n.E_t=function(t){this.T_t=t},n.c_t=function(t){this.b_t[this.T_t].c_t(t)},n.d_t=function(t){this.b_t[this.T_t].d_t(t)},n.x_t=function(){return this.R_t},n.I_t=function(t){this.R_t=t},n.zft=function(t,n){if(!(n<32||n>127)){var i="";switch(t){case 0:i=void 0!==lV[n]?lV[n]:String.fromCharCode(n);break;case 1:i=gV[n];break;case 2:this.C_t(),i=wV[n];break;case 3:this.C_t(),i=mV[n]}i&&this.b_t[this.T_t].addParsedChar(i)}},n.C_t=function(){this.b_t[this.T_t].f_t()},n.P_t=function(t,n,i){if(t>=n)for(var r=i-1;r>=0;r--)this.b_t[t+r]=this.b_t[n+r];else for(var e=0;e<i;e++)this.b_t[t+e]=this.b_t[n+e]},n.D_t=function(t,n){for(var i=0;i<=n;i++)this.b_t[t+i]=new hV},n.S_t=function(){this.D_t(0,vV)},n.N_t=function(){this.T_t=this.R_t>0?this.R_t:0,this.S_t()},n.M_t=function(t){this.L_t=t},n.B_t=function(t){this.O_t=t},n.F_t=function(t){this.V_t=t},n.W_t=function(t){this.U_t=t},t}(),vV=15,dV=function(t){return t[t.G_t=0]="G_t",t[t.H_t=1]="H_t",t[t.Z_t=2]="Z_t",t[t.X_t=3]="X_t",t}({}),lV={39:"\u2019",42:"\xe1",92:"\xe9",94:"\xed",95:"\xf3",96:"\xfa",123:"\xe7",124:"\xf7",125:"\xd1",126:"\xf1",127:"\u2588"},gV={48:"\xae",49:"\xb0",50:"\xbd",51:"\xbf",52:"\u2122",53:"\xa2",54:"\xa3",55:"\u266a",56:"\xe0",57:"\u2800",58:"\xe8",59:"\xe2",60:"\xea",61:"\xee",62:"\xf4",63:"\xfb"},wV={32:"\xc1",33:"\xc9",34:"\xd3",35:"\xda",36:"\xdc",37:"\xfc",38:"\u2018",39:"\xa1",40:"*",41:"'",42:"\u2500",43:"\xa9",44:"\u2120",45:"\xb7",46:"\u201c",47:"\u201d",48:"\xc0",49:"\xc2",50:"\xc7",51:"\xc8",52:"\xca",53:"\xcb",54:"\xeb",55:"\xce",56:"\xcf",57:"\xef",58:"\xd4",59:"\xd9",60:"\xf9",61:"\xdb",62:"\xab",63:"\xbb"},mV={32:"\xc3",33:"\xe3",34:"\xcd",35:"\xcc",36:"\xec",37:"\xd2",38:"\xf2",39:"\xd5",40:"\xf5",41:"{",42:"}",43:"\\",44:"^",45:"_",46:"|",47:"~",48:"\xc4",49:"\xe4",50:"\xd6",51:"\xf6",52:"\xdf",53:"\xa5",54:"\xa4",55:"\u2502",56:"\xc5",57:"\xe5",58:"\xd8",59:"\xf8",60:"\u250c",61:"\u2510",62:"\u2514",63:"\u2518"},yV=function(){function t(t,n){this.pp=0,this.J_t=new fV(t,n),this.K_t=new fV(t,n),this.Q_t=new fV(t,n),this.Y_t=this.K_t,this.q_t=0,this.j_t=void 0,this.z_t=!1}var n=t.prototype;return n.tr=function(){this.z_t=!0,this.q_t=0,this.pp=0,this.Y_t=this.K_t,this.j_t=void 0,this.K_t.tr(),this.Q_t.tr(),this.J_t.tr()},n.$_t=function(t,n){return[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&t)<<1|n>>5&1]},n.tvt=function(t,n){var i=this.$_t(t,n),r=(30&n)>>1,e=aV,u=!1;r<7?e=bV[r]:7===r&&(u=!0);var s=1==(1&n);if(4!==this.pp){var o=this.Y_t;if(3===this.pp&&i!==o.k_t()){var a=1+o.k_t()-o.x_t(),c=1+i-o.x_t();o.P_t(c,a,o.x_t()),o.D_t(0,c-1),o.D_t(i+1,vV-i)}o.E_t(i);var h=Ix[t<<1&14|n>>5&1]-1;if(!(h<0)){var f=function(t,n){var i=n>95?n-96:n-64;return{Btt:Ex[i].Btt,Ltt:Ex[i].Ltt,Ott:Ex[i].Ott,Ytt:t}}(h,n);o.c_t(f.Ott),this.Y_t.M_t(s),this.Y_t.B_t(u),this.Y_t.F_t(e),this.Y_t.W_t(oV)}}},n.evt=function(t,n){this.Y_t.M_t(!1),this.Y_t.B_t(!1),this.Y_t.F_t(aV);var i=this.ivt(t,dV.G_t," ".charCodeAt(0)),r=aV,e=!1,u=1==(1&n);return"white_italics"===(r=bV[(14&n)>>1])&&(r="white",e=!0),this.Y_t.M_t(u),this.Y_t.B_t(e),this.Y_t.F_t(r),i},n.ivt=function(t,n,i){if(this.Y_t.zft(n,i),2===this.pp||3===this.pp){var r=this.svt(this.Y_t,this.q_t,t);return this.q_t=t,r}return null},n.svt=function(t,n,i){return this.z_t?null:2===this.pp||3===this.pp?t.p_t(i,i+10):t.p_t(n,i)},n.nvt=function(t,n){var i=oV;0==(7&t)&&(i=_V[(14&n)>>1]),this.Y_t.W_t(i)},n.rvt=function(t){var n=pV,i=t.ovt,r=t.avt,e=null;switch(i){case n.RCL:this.uvt();break;case n.BS:this.cvt();break;case n.AOD:case n.AON:case n.DER:break;case n.RU2:e=this.lvt(2,r);break;case n.RU3:e=this.lvt(3,r);break;case n.RU4:e=this.lvt(4,r);break;case n.FON:e=this.dvt(r);break;case n.RDC:this.fvt(r);break;case n.TR:this._vt();break;case n.RTD:this.vvt();break;case n.EDM:e=this.mvt(r);break;case n.CR:e=this.gvt(r);break;case n.ENM:this.pvt();break;case n.EOC:e=this.wvt(r)}return e},n.gvt=function(t){var n=this.Y_t;if(3!==this.pp)return null;var i=this.svt(n,this.q_t,t),r=n.k_t()-n.x_t()+1;return n.P_t(r-1,r,n.x_t()),n.D_t(0,r-1),n.D_t(n.k_t(),vV-n.k_t()),this.q_t=t,i},n.lvt=function(t,n){this.Y_t=this.K_t;var i=this.Y_t,r=null;return 3!==this.pp&&4!==this.pp&&(r=this.svt(i,this.q_t,n),this.K_t.N_t(),this.Q_t.N_t(),this.z_t=!1,i.E_t(vV)),this.pp=3,i.I_t(t),r},n.dvt=function(t){return this.ivt(t,dV.G_t," ".charCodeAt(0))},n.mvt=function(t){var n=this.K_t,i=null;return 4!==this.pp&&(i=this.svt(n,this.q_t,t)),n.S_t(),this.z_t=!1,i},n.fvt=function(t){this.pp=2,this.Y_t=this.K_t,this.Y_t.I_t(0),this.q_t=t},n.pvt=function(){this.Q_t.S_t()},n.wvt=function(t){var n=null;4!==this.pp&&(n=this.svt(this.K_t,this.q_t,t));var i=this.Q_t;return this.Q_t=this.K_t,this.K_t=i,this.uvt(),this.q_t=t,n},n.uvt=function(){this.pp=1,this.Y_t=this.Q_t,this.Y_t.I_t(0)},n.cvt=function(){this.Y_t.C_t()},n._vt=function(){this.J_t.tr(),this.z_t=!1,this.vvt()},n.vvt=function(){this.Y_t=this.J_t,this.pp=4},n.yvt=function(t,n,i){return this.Y_t.zft(dV.G_t,n),this.ivt(t,dV.G_t,i)},n.bvt=function(t,n,i){var r=1&n?dV.X_t:dV.Z_t;return this.ivt(t,r,i)},n.Avt=function(t){var n=t.Svt,i=t.ovt,r=t.avt;if(this.j_t===(n<<8|i))return this.j_t=void 0,null;if(this.j_t=n<<8|i,this.Tvt(n,i))this.tvt(n,i);else{if(this.kvt(n,i))return this.evt(r,i);if(this.Evt(n,i))this.nvt(n,i);else{if(this.xvt(n,i))return this.ivt(r,dV.H_t,i);if(this.Rvt(n,i))return this.bvt(r,n,i);if(this.Ivt(n,i))return this.rvt(t);this.isTabOffset(n)&&this.Y_t.d_t(i-32)}}return null},n.isTabOffset=function(t){return 23===t||31===t},n.Ivt=function(t,n){return 20==(246&t)&&32==(240&n)},n.Tvt=function(t,n){return 16==(240&t)&&64==(192&n)},n.kvt=function(t,n){return 17==(247&t)&&32==(240&n)},n.Evt=function(t,n){return 16==(247&t)&&32==(240&n)||23==(247&t)&&45==(255&n)},n.xvt=function(t,n){return 17==(247&t)&&48==(240&n)},n.Rvt=function(t,n){return 18==(246&t)&&32==(224&n)},t.Cvt=function(t){return 16==(112&t)},t}(),pV={RCL:32,BS:33,AOD:34,AON:35,DER:36,RU2:37,RU3:38,RU4:39,FON:40,RDC:41,TR:42,RTD:43,EDM:44,CR:45,ENM:46,EOC:47},_V=["black","green","blue","cyan","red","yellow","magenta","black"],bV=["white","green","blue","cyan","red","yellow","magenta","white_italics"];F(),Tt(),qt(),F(),Tt(),F(),Tt();var kV=function(){function t(t,n,i,r,e){this.Pvt=t,this.L_t=n,this.O_t=i,this.U_t=r,this.V_t=e}var n=t.prototype;return n.o_t=function(){return this.Pvt},n.Dvt=function(){return this.L_t},n.Nvt=function(){return this.O_t},n.Mvt=function(){return this.U_t},n.Lvt=function(){return this.V_t},t}(),AV=function(){function t(t){this.lmt=t,this.iZ=!1,this.Wvt=!1,this.Fvt=0,this.Ovt=0,this.Vvt=0,this.Uvt=0,this.Gvt=0,this.umt=2,this.Zvt=[],this.XO=0,this.T_t=0,this.Yvt=0,this.O_t=!1,this.L_t=!1,this.V_t=aV,this.U_t=oV,this.Hvt()}var n=t.prototype;return n.Bvt=function(t,n,i,r,e,u,s){this.iZ=t,this.Ovt=n,this.Fvt=i,this.Vvt=r,this.Wvt=e,this.Uvt=u,this.Gvt=s},n.Hvt=function(){this.Zvt=[];for(var t=0;t<SV;t++)this.Zvt.push(this.Xvt())},n.Xvt=function(){for(var t=[],n=0;n<TV;n++)t.push(null);return t},n.zvt=function(t){this.qvt()&&(this.Zvt[this.T_t][this.Yvt]=new kV(t,this.L_t,this.O_t,this.U_t,this.V_t),this.Yvt++)},n.Kvt=function(){this.qvt()&&(this.Yvt<=0&&this.T_t<=0||(this.Yvt<=0?(this.Yvt=this.Gvt-1,this.T_t--):this.Yvt--,this.Zvt[this.T_t][this.Yvt]=null))},n.qvt=function(){var t=this.T_t<this.Uvt&&this.T_t>=0,n=this.Yvt<this.Gvt&&this.Yvt>=0;return t&&n},n.jvt=function(){return this.iZ},n.Qvt=function(t){for(var n=0,i=t;i<SV;i++,n++)this.Zvt[n]=this.Zvt[i];for(var r=0;r<t;r++,n++)this.Zvt[n]=this.Xvt()},n.Jvt=function(){if(this.T_t+1>=this.Uvt)return this.Qvt(1),void(this.Yvt=0);this.T_t++,this.Yvt=0},n.$vt=function(){this.Zvt[this.T_t]=this.Xvt(),this.Yvt=0},n.p_t=function(t,n){if(this.XO>=t)return null;var i=sV.r_t(this.Zvt,this.XO,t);return i?(this.tmt(t),{DO:i,Rk:"svc"+n,A_t:n}):null},n.emt=function(t,n){this.T_t=t,this.Yvt=n},n.imt=function(t){this.U_t=t},n.smt=function(t){this.V_t=t},n.nmt=function(t){this.L_t=t},n.omt=function(t){this.O_t=t},n.hmt=function(){this.T_t=0,this.Yvt=0,this.L_t=!1,this.O_t=!1,this.V_t=aV,this.U_t=oV},n.amt=function(t){this.umt=t},n.cmt=function(){this.iZ=!0},n.be=function(){this.iZ=!1},n.wh=function(){this.iZ=!this.iZ},n.tmt=function(t){this.XO=t},t}(),TV=42,SV=15,EV=function(){function t(t){this.Smt=t,this.Nmt=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],this.Amt=void 0}var n=t.prototype;return n.dmt=function(t){var n=t.fmt(),i=n.Ix,r=n.avt;i===DV&&(i=i<<16|t.fmt().Ix);return i>=0&&i<=31?this._mt(i,r):i>=128&&i<=159?this.vmt(t,i,r):(i>=4096&&i<=4127?this.mmt(t,255&i):i>=4224&&i<=4255?this.gmt(t,255&i):i>=32&&i<=127?this.pmt(i):i>=160&&i<=255?this.wmt(i):i>=4128&&i<=4223?this.ymt(255&i):i>=4256&&i<=4351&&this.bmt(255&i),null)},n.pmt=function(t){this.Amt&&(127!==t?this.Amt.zvt(String.fromCharCode(t)):this.Amt.zvt("\u266a"))},n.wmt=function(t){this.Amt&&this.Amt.zvt(String.fromCharCode(t))},n.ymt=function(t){if(this.Amt)if(void 0!==PV[t]){var n=PV[t];this.Amt.zvt(n)}else this.Amt.zvt("_")},n.bmt=function(t){this.Amt&&(160===t?this.Amt.zvt("[CC]"):this.Amt.zvt("_"))},n._mt=function(t,n){if(!this.Amt)return null;var i=this.Amt,r=null;switch(t){case IV:i.Kvt();break;case CV:i.jvt()&&(r=i.p_t(n,this.Smt)),i.Jvt();break;case NV:i.jvt()&&(r=i.p_t(n,this.Smt)),i.$vt();break;case RV:i.jvt()&&(r=i.p_t(n,this.Smt)),i.Hvt(),i.emt(0,0)}return r},n.vmt=function(t,n,i){if(n>=128&&n<=135){var r=7&n;this.Tmt(r)}else{if(136===n){var e=t.fmt().Ix;return this.kmt(e,i)}if(137===n){var u=t.fmt().Ix;this.Emt(u,i)}else{if(138===n){var s=t.fmt().Ix;return this.xmt(s,i)}if(139===n){var o=t.fmt().Ix;return this.Rmt(o,i)}if(140===n){var a=t.fmt().Ix;return this.Imt(a,i)}if(143===n)return this.tr(i);if(144===n)this.Cmt(t);else if(145===n)this.Pmt(t);else if(146===n)this.emt(t);else if(151===n)this.Dmt(t);else if(n>=152&&n<=159){var c=(15&n)-8;this.Bvt(t,c,i)}}}return null},n.mmt=function(t,n){n>=8&&n<=15?t.RD(1):n>=16&&n<=23?t.RD(2):n>=24&&n<=31&&t.RD(3)},n.gmt=function(t,n){n>=128&&n<=135?t.RD(4):n>=136&&n<=143&&t.RD(5)},n.Tmt=function(t){this.Nmt[t]&&(this.Amt=this.Nmt[t])},n.Mmt=function(t){var n;return Ht(this,(function(i){switch(i.label){case 0:n=0,i.label=1;case 1:return n<8?1==(1&t)&&this.Nmt[n]?[4,n]:[3,3]:[3,5];case 2:i.sent(),i.label=3;case 3:t>>=1,i.label=4;case 4:return n++,[3,1];case 5:return[2]}}))},n.kmt=function(t,n){for(var i=null,r=0,e=this.Mmt(t);r<e.length;r++){var u=e[r],s=this.Nmt[u];s.jvt()&&(i=s.p_t(n,this.Smt)),s.Hvt()}return i},n.Emt=function(t,n){for(var i=0,r=this.Mmt(t);i<r.length;i++){var e=r[i],u=this.Nmt[e];u.jvt()||u.tmt(n),u.cmt()}},n.xmt=function(t,n){for(var i=null,r=0,e=this.Mmt(t);r<e.length;r++){var u=e[r],s=this.Nmt[u];s.jvt()&&(i=s.p_t(n,this.Smt)),s.be()}return i},n.Rmt=function(t,n){for(var i=null,r=0,e=this.Mmt(t);r<e.length;r++){var u=e[r],s=this.Nmt[u];s.jvt()?i=s.p_t(n,this.Smt):s.tmt(n),s.wh()}return i},n.Imt=function(t,n){for(var i=null,r=0,e=this.Mmt(t);r<e.length;r++){var u=e[r],s=this.Nmt[u];s.jvt()&&(i=s.p_t(n,this.Smt)),this.Nmt[u]=void 0}return i},n.tr=function(t){var n=this.Imt(255,t);return this.Nb(),n},n.Nb=function(){this.Amt=void 0,this.Nmt=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0]},n.Cmt=function(t){t.RD(1);var n=t.fmt().Ix;if(this.Amt){var i=(128&n)>0,r=(64&n)>0;this.Amt.omt(i),this.Amt.nmt(r)}},n.Pmt=function(t){var n=t.fmt().Ix,i=t.fmt().Ix;if(t.RD(1),this.Amt){var r=3&n,e=(12&n)>>2,u=(48&n)>>4,s=3&i,o=(12&i)>>2,a=(48&i)>>4,c=this.Lmt(u,e,r),h=this.Lmt(a,o,s);this.Amt.smt(c),this.Amt.imt(h)}},n.emt=function(t){var n=t.fmt().Ix,i=t.fmt().Ix;if(this.Amt){var r=15&n,e=63&i;this.Amt.emt(r,e)}},n.Dmt=function(t){t.RD(1),t.RD(1);var n=t.fmt().Ix;if(t.RD(1),this.Amt){var i=3&n;this.Amt.amt(i)}},n.Bvt=function(t,n,i){var r=void 0!==this.Nmt[n];if(!r){var e=new AV(n);e.tmt(i),this.Nmt[n]=e}var u=t.fmt().Ix,s=t.fmt().Ix,o=t.fmt().Ix,a=t.fmt().Ix,c=t.fmt().Ix,h=t.fmt().Ix,f=(32&u)>0,v=127&s,d=(128&s)>0,l=o,g=1+(15&a),w=(240&a)>>4,m=1+(63&c);r&&0===(7&h)||this.Nmt[n].hmt(),this.Nmt[n].Bvt(f,v,l,w,d,g,m),this.Amt=this.Nmt[n]},n.Lmt=function(t,n,i){var r={0:0,1:0,2:1,3:1};return xV[r[t]<<2|r[n]<<1|r[i]]},t}(),IV=8,RV=12,CV=13,NV=14,DV=16,PV={32:" ",33:"\xa0",37:"\u2026",42:"\u0160",44:"\u0152",48:"\u2588",49:"\u2018",50:"\u2019",51:"\u201c",52:"\u201d",53:"\u2022",57:"\u2122",58:"\u0161",60:"\u0153",61:"\u2120",63:"\u0178",118:"\u215b",119:"\u215c",120:"\u215d",121:"\u215e",122:"\u2502",123:"\u2510",124:"\u2514",125:"\u2500",126:"\u2518",127:"\u250c"},xV=["black","blue","green","cyan","red","magenta","yellow","white"];F(),Tt();var LV=function(){function t(){this.Vmt=[],this.Fmt=null,this.Omt=0}var n=t.prototype;return n.Bmt=function(t){if(t.pw===VB.Tft){var n=63&t.Ix;return this.Omt=2*n-1,void(this.Fmt=[])}if(this.Fmt&&(this.Omt>0&&(this.Fmt.push(t),this.Omt--),0===this.Omt)){var i=new MV(this.Fmt);this.Vmt.push(i),this.Fmt=null,this.Omt=0}},n.Wmt=function(){return this.Vmt},n.Umt=function(){this.Vmt=[]},n.Nb=function(){this.Vmt=[],this.Fmt=[],this.Omt=0},t}(),MV=function(){function t(t){this.Hmt=0,this.Zmt=t}var n=t.prototype;return n.Gmt=function(){return this.Hmt<this.Zmt.length},n.Xmt=function(){return this.Hmt},n.fmt=function(){if(!this.Gmt())throw new td(Qv.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");return this.Zmt[this.Hmt++]},n.RD=function(t){if(this.Hmt+t>this.Zmt.length)throw new td(Qv.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");this.Hmt+=t},t}(),OV=function(){function t(){this.igt=!1,this.qmt=[],this.Ymt=[],this.Kmt=new LV,this.zmt=0,this.$mt=rs({CC1:new yV(0,0),CC2:new yV(0,1),CC3:new yV(1,0),CC4:new yV(1,1)}),this.Qmt=0,this.Jmt=0,this.jmt=is(),this.tr()}var n=t.prototype;return n.Nb=function(){this.zmt=0,this.qmt=[],this.Ymt=[],this.Kmt.Nb(),this.tr(),this.jmt.forEach((function(t){t.Nb()}))},n.tr=function(){this.Qmt=0,this.Jmt=0,this.$mt.forEach((function(t){t.tr()}))},n.tgt=function(t,n){if(t.xft){var i=t.Ift,r=t.Cft,e=t.pw;e===VB.bft||e===VB.Aft?this.qmt.push({avt:n,pw:e,Svt:i,ovt:r,egt:this.qmt.length}):this.igt&&(this.Ymt.push({avt:n,pw:e,Ix:i,egt:this.Ymt.length}),this.Ymt.push({avt:n,pw:VB.Sft,Ix:r,egt:this.Ymt.length}))}},n.Zz=function(){var t=[];this.qmt.sort((function(t,n){return t.avt-n.avt||t.egt-n.egt})),this.Ymt.sort((function(t,n){return t.avt-n.avt||t.egt-n.egt}));for(var n=0,i=this.qmt;n<i.length;n++){var r=i[n],e=this.sgt(r);e&&t.push(e)}for(var u=0,s=this.Ymt;u<s.length;u++){var o=s[u];this.Kmt.Bmt(o)}for(var a=this.Kmt.Wmt(),c=0;c<a.length;c++){var h,f=a[c],v=this.ngt(f);(h=t).push.apply(h,Ft(v))}return this.Kmt.Umt(),this.qmt=[],this.Ymt=[],t},n.sgt=function(t){var n=t.pw;if(yV.Cvt(t.Svt)){var i=t.Svt>>3&1;0===n?this.Qmt=i:this.Jmt=i}var r="CC"+(n<<1|(n?this.Jmt:this.Qmt)+1),e=this.$mt.get(r);return 255===t.Svt&&255===t.ovt||!t.Svt&&!t.ovt||!this.rgt(t.Svt)||!this.rgt(t.ovt)?(++this.zmt>=45&&this.tr(),null):(this.zmt=0,t.Svt&=127,t.ovt&=127,t.Svt||t.ovt?yV.Cvt(t.Svt)?e.Avt(t):e.yvt(t.avt,t.Svt,t.ovt):null)},n.ngt=function(t){var n=[];try{for(;t.Gmt();){var i=t.fmt().Ix,r=(224&i)>>5,e=31&i;if(7===r&&0!==e)r=63&t.fmt().Ix;if(0!==r){if(!this.jmt.has(r)){var u=new EV(r);this.jmt.set(r,u)}for(var s=this.jmt.get(r),o=t.Xmt();t.Xmt()-o<e;){var a=s.dmt(t);a&&n.push(a)}}}}catch(t){if(!(t instanceof td&&t.code===Qv.SUBTITLE_PARSE_ERROR))throw t}return n},n.rgt=function(t){for(var n=0;t;)n^=1&t,t>>=1;return 1===n},t}();F(),Tt(),Rt();var BV=function(t){function n(n,i){var r;return(r=t.call(this,"ogt")||this).A_t=n,r.DO=i,r}return It(n,t),n}(ea),VV=am.cV(.1),FV=function(t){function n(){var n;return(n=t.call(this)||this).agt=new OV,n}It(n,t);var i=n.prototype;return i.hgt=function(t,n){this.agt.tgt(t,n)},i.Zz=function(){for(var t=this.agt.Zz(),n=0;n<t.length;n++){var i=t[n];this.yo(new BV(i.A_t,i.DO))}},i.tr=function(){this.agt.Nb()},i.gn=function(){this.Bo(),this.agt.Nb()},n}(na),UV=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).dgt=[],n}It(n,t);var i=n.prototype;return i.ugt=function(t,n,i,r){var e=this.cgt(t,r);this.lgt(e,n,i),this.Zz()},i.cgt=function(t,n){var i,r=t.slice().sort(Rx),e=this.dgt;if(0===e.length)return r;if(0===r.length)return e;var u=e[0].Ftt,s=e[e.length-1].Ftt,o=r[0].Ftt,a=e[0].nat===r[0].nat;if(s.yF(o).gF().mF(am.cV(2.5*n))&&a)i=e.concat(r).sort(Rx);else if(o.dF(u)){for(var c=0;c<e.length&&e[c].Ftt.mF(o);)c++;for(var h=!1,f=!1,v=c,d=0;v<e.length&&d<r.length;v++,d++)WV(e[v],r[d])?h=!0:f=!0;var l=h&&!f,g=h&&f;!h&&f?i=e.concat(r).sort(Rx):l?i=e.slice(0,c).concat(r):(i=r,g&&this.tr())}else i=r,this.tr();return i},i.lgt=function(t,n,i){for(var r=0;r<t.length;r++){var e=t[r],u=e.Ftt.uF();if(!i&&n-u<VV.uF())return void(this.dgt=t.slice(r));this.hgt(e,u)}this.dgt=[]},n}(FV);function WV(t,n){return t.Ftt.JO(n.Ftt)&&t.pw===n.pw&&t.Ift===n.Ift&&t.Cft===n.Cft}var ZV=function(t){function n(n){var i;return(i=t.call(this)||this).pgt=void 0,i.ygt=NaN,i.bgt=NaN,i.Sgt=function(t){for(var n=i.vgt({Vtt:t.A_t,Wtt:""}),r=t.DO,e=0,u=n.L.oC;e<u.length;e++){var s=u[e];r.LO<s.LO&&r.BO>s.LO?r.BO=s.LO:r.LO>s.LO&&s.BO>r.LO?s.BO=r.LO:r.LO===s.LO&&(r.BO=s.BO)}n.uW(r)},i.oW=n,i._gt=is(),i.Agt=new UV,i.Agt.yn("ogt",i.Sgt),i}It(n,t);var i=n.prototype;return i.fgt=function(t){return this._gt.get(t)},i.vgt=function(t){var n=this._gt.get(t.Vtt);return n||(n=this.mgt(t),this._gt.set(t.Vtt,n)),n},i.mgt=function(t){var n,i=[Wg.gC],r=function(t){if(t!==HB)for(var n=t.toLowerCase(),i=0;i<zB.length;i++){var r=zB[i];if(r[1]===n||r[2]===n||r["2T"]===n||r["2B"]===n||r[3]===n)return r}}(t.Wtt),e=r?r.l:"";t.ggt&&(e="easy "+e,i.push(Wg.bC)),n=t.kh?"CC "+t.kh:e?"CC "+e:"CC"+t.Vtt;var u=this.oW.DI(Gy.YV,n,n,t.Wtt,!1,kw.CEA608,void 0,i);return this.tt(u),u},i.Pot=function(t){var n=dy.qD(pc(t));this.pgt=function(t){for(var n=0,i=t.Z;n<i.length;n++){var r=i[n],e=qB(r),u=r.gN.RN.DN.MN.BN,s=ao(u,(function(t){return t.pw===ty.kP}));if(!s){var o=u.filter((function(t){return t.pw===ty.tD})),a=ao(o,(function(t){var n;return(null==(n=t.RM)?void 0:n.pw)===ty.kP}));a&&(s=a.RM)}if(s){var c=dC(pc(s.vM.Zk),new Ec),h=s.gM;return $u({},e,{bN:r.WD.bN,vM:Sc(s.vM.Zk),ji:s.ji,Ti:s.Ti,HM:h&&h.HM,GM:h&&h.GM,M1:c._0,wgt:c.v0,L1:c.m0,p0:c.p0[0],w0:c.w0[0]})}}}(ao(n,JB))},i.ddt=function(t,n,i,r,e,u){var s;if(this.pgt&&(S(this.ygt)||!ur(this.ygt,n,1e-5))){S(this.bgt)||ur(this.bgt,n,.1)||this.Agt.tr();for(var o,a=function(t,n,i,r,e){for(var u=[],s=n.filter(jB),o=r(i),a=0;a<s.length;a++){var c=s[a],h=ao(c.Z,(function(t){return t.WD.bN===i.bN}));if(h)for(var f,v=h.WD.zM||0,d=h.WD.qM||0,l=h.sL?h.sL.sL:tr.ZERO,g=c.QM+(null!=(f=h.WD.nL)?f:tr.ZERO).toNumber(),w=0,m=h.iL;w<m.length;w++)for(var y=m[w],p=g+(y.QM||0),_=0,b=y.uL;_<b.length;_++){var k=b[_],A=k.Rb||d,T=new wC;T.S0(t,p,p+A);var S=am.TF(l,i.Dft);T.GV=e(k,c,i,S,Ac(t,p,p+A)),u.push(T),p+=A,l=l.add(k.ct||v||o)}}return u}(t,dy.qD(pc(t)),this.pgt,YB,KB),c=null!=(o=null==(s=So(a,(function(t){return t.GV.ct})))?void 0:s.GV.ct)?o:0,h=function(t){for(var n=[],i=0;i<t.length;i++){var r,e=t[i];e.GV.Uft&&(r=n).push.apply(r,Ft(e.GV.Uft)),delete e.GV.Uft}for(var u=0;u<n.length;u+=1)n[u].JM=u;return n}(a),f=am.cV(r),v=[],d=0;d<h.length;d++){var l=h[d];v.push($u({},l,{nat:e,Ftt:l.kft.yO(f)}))}this.Agt.ugt(v,i,u,c),this.ygt=n,this.bgt=i}},i.tr=function(){var n=this;return this.Agt.tr(),this._gt.forEach((function(t){t.gn(),n.it(t),n.oW.lW(t)})),this._gt.clear(),this.pgt=void 0,this.ygt=NaN,this.bgt=NaN,t.prototype.tr.call(this)},i.gn=function(){return this.Agt.fn("ogt",this.Sgt),this.Agt.gn(),t.prototype.gn.call(this)},n}(sp);F(),Tt(),F(),Tt(),nn();var XV=/(.*)=(.*)/,GV=/(.*):(.*)/;function HV(t){if(!t)return[];for(var n=[],i=t.trim().split(";"),r=0;r<i.length;r++){var e=i[r].match(XV);if(e){for(var u=tn(e,3),s=u[1],o="",a=!1,c=0,h=u[2].trim().split(",");c<h.length;c++){var f=h[c];if(f.match(GV)){var v=tn(f.match(GV),3),d=v[1],l=v[2];switch(d){case"lang":o=l;break;case"er":a=Boolean(Number(l))}}}n.push({Vtt:Number(s),Wtt:o,ggt:a})}}return n}var zV={1:1,2:3,3:2,4:4},YV="urn:scte:dash:cc:cea-608:2015",jV="urn:scte:dash:cc:cea-708:2015";F(),Tt(),Rt(),F(),Tt(),Rt();var KV=function(t){function n(n,i,r){var e;return(e=t.call(this,kg.iC)||this).nat=n,e.uct=i,e.Tgt=r,e}return It(n,t),n.prototype.ma=function(){return new qV(this.nat&&this.nat.ga)},n}(dg),qV=function(t){function n(n){var i;return(i=t.call(this,"activequalitychanged")||this).quality=n,i}return It(n,t),n}(ea),JV=[ua.so,wp.QI,ua.$y],QV=function(t){function n(n,i){var r;return(r=t.call(this)||this).Egt=function(t){var n=r.xgt,i=r.kgt(t.currentTime)||r.Xdt.oat;i&&n!==i&&(r.xgt=i,i.nat&&r.yo(new KV(i.nat,null==i?void 0:i.ga,null==n?void 0:n.ga)))},r.LB=n,r.LB.yn(JV,r.Egt),r.Xdt=i,r}It(n,t);var i=n.prototype;return i.kgt=function(t){for(var n=this.Xdt.fat,i=0,r=n.Ht.Uat;i<r.length;i++){var e=r[i];if(n.Cct.Ect(t,e))return e}},i.gn=function(){this.Bo(),this.LB.fn(JV,this.Egt)},n}(na);function $V(t,n,i){var r=new ey(pc(t),new Ec),e=ay.FD(r,ty.dP);if(e){var u=ay.DD(e.Zk),s=ao(u,(function(t){return t.pw===ty._P})),o=ao(u,(function(t){return t.pw===ty.uD}));if(s){var a=ay.FD(s.Zk,ty.mP);if(a){var c=ay.FD(a.Zk,ty.wP);if(c){var h=ay.FD(c.Zk,ty.yP);if(h){var f=ay.DD(h.Zk),v=ao(f,(function(t){return t.pw===ty.bP}));if(v){var d=ay.ZD(v.Zk,ty.bP,!1),l=new ey(pc(d.Zk),new Ec);l.RD(4);for(var g=ay.DD(l),w=[],m=0;m<g.length;m++){var y=g[m];if(y.pw===ty.$P||y.pw===ty.tD)return;y.pw===ty.kP?w.push({Rgt:y,Igt:ty.tD}):y.pw===ty.zP&&w.push({Rgt:y,Igt:ty.$P})}if(function(t,n){return void 0===t&&void 0!==n&&n.length>0}(o,n)||0!==w.length){var p=Tc(t),_=ao(u,(function(t){return t.pw===ty.SP})),b=_?ay.FD(_.Zk,ty.TP):void 0,k=b?function(t){var n=t.Zk.Tb();return n.RD(4),n.RD(4),n.yD()}(b):1,A=ao(f,(function(t){return t.pw===ty.AP}));A&&function(t,n,i){var r=iF(pc(t),n),e=ay.OD(r,new Ec),u=e.Zk;u.RD(4);for(var s=u.yD(),o=0;o<s;o++){u.RD(4),u.RD(4);var a=u.gD.Tb(),c=u.yD();ja(u.Zk,a,c+i)}}(p,A,w.length),b&&function(t,n,i){var r=iF(pc(t),n),e=ay.OD(r,new Ec),u=e.Zk;u.RD(4),u.RD(4),ja(u.Zk,u.gD,i)}(p,b,1),p=function(t,n,i,r){if(i||!r)return t;for(var e=t,u=0;u<r.length;u++){var s=r[u];e=tF(e,n,new E(s))}return e}(p,e,o,n);for(var T=[e,s,a,c,h,v],S=w.length-1;S>=0;S--){var I=w[S];p=nF(p,I.Rgt,v,T,I.Igt,i)}return{Cgt:p,Pgt:{Dgt:w.length,XM:k}}}}}}}}}}function tF(t,n,i){var r=Oc(t,i,n.Zk.Zk.byteOffset+n.Zk.Zk.byteLength);return rF(iF(pc(r),n),i.byteLength),r}function nF(t,n,i,r,e,u){var s=function(t,n,i){0;var r=t.Zk.Zk,e=aF(),u=new E(r.byteLength+e.byteLength),s=pc(u);u.set(_c(r),0),rF(s,e.byteLength),ic(s,new Ec(fF),n),u.set(e,r.byteLength),ic(s,new Ec(r.byteLength+cF),t.pw),i&&Wa(s,new Ec(r.byteLength+hF),i);return u}(n,e,u),o=Oc(t,s,n.Zk.Zk.byteOffset),a=pc(o);!function(t,n){var i=ay.OD(t,new Ec),r=ay.ZD(i.Zk,ty.bP,!1),e=pc(r.Zk),u=e.getUint32(0);e.setUint32(0,u+n)}(iF(a,i),1);for(var c=0;c<r.length;c++){rF(iF(a,r[c]),s.byteLength)}return o}function iF(t,n){var i=n.Zk.Zk.byteOffset;return yc(t,i,i+n.Zk.Zk.byteLength)}function rF(t,n){var i=new Ec,r=Ya(t,i);if(0===r);else if(1===r){i.Ab(4);var e=Ka(t,i.Tb());qa(t,i,e.add(n))}else i.Sb(0),ja(t,i,r+n)}F(),Tt(),Rt();var eF=function(t){function n(n){var i;return(i=t.call(this)||this).Lgt=[],i.Mgt=n,i}It(n,t);var i=n.prototype;return i.start=function(t){this.NQ=t},i.transform=function(t){this.i$(t),this.Ngt()},i.flush=function(){this.n$(),this.Ngt()},i.d$=function(t){return t===ty.eD},i._$=function(t){var n=Tc(_c(t.Zk.Zk)),i=ay.OD(pc(n),new Ec);n=uF(n,i,this.Mgt),this.Lgt.push(n)},i.m$=function(t){this.Lgt.push(t)},i.Ngt=function(){for(var t=0,n=function(t){if(t.length<2)return t;for(var n=[],i=t[0],r=i.buffer,e=i.byteOffset,u=i.byteLength,s=1;s<t.length;s++){var o,a=t[s];r===a.buffer&&e+u===a.byteOffset?u+=a.byteLength:(n.push(new E(r,e,u)),r=(o=a).buffer,e=o.byteOffset,u=o.byteLength)}return n.push(new E(r,e,u)),n}(this.Lgt);t<n.length;t++){var i=n[t];this.NQ.enqueue(i)}po(this.Lgt)},n}(HR);function uF(t,n,i){for(var r=t,e=ay.DD(n.Zk),u=e.length-1;u>=0;u--){var s=e[u];s.pw===ty.sD&&(r=sF(r,s,n,i))}return r}function sF(t,n,i,r){var e=iF(pc(t),n),u=ay.OD(e,new Ec),s=ay.DD(u.Zk),o=ao(s,(function(t){return t.pw===ty.nD}));if(!o)return t;var a=o.Zk,c=a.gD.Tb(),h=a.yD(),f=vy(h).flags;a.RD(4),f.kb(iy.BASE_DATA_OFFSET_PRESENT)&&a.RD(8);var v=a.gD.Tb();if(f.kb(iy.SAMPLE_DESCRIPTION_INDEX_PRESENT)){var d=Ya(a.Zk,v);return ja(a.Zk,a.gD,d+r.Dgt),t}ja(a.Zk,c,h|iy.SAMPLE_DESCRIPTION_INDEX_PRESENT);var l=new E(4);pc(l).setUint32(0,r.XM+r.Dgt);for(var g=a.Zk.byteOffset+v.tc,w=0,m=s.filter((function(t){return t.pw===ty.rD}));w<m.length;w++){oF(m[w],l.byteLength)}for(var y=0,p=[o,n,i];y<p.length;y++){var _=p[y];rF(iF(pc(t),_),l.byteLength)}return Oc(t,l,g)}function oF(t,n){var i=t.Zk,r=vy(i.yD()).flags;if(i.RD(4),r.kb(ry.DATA_OFFSET_PRESENT)){var e=i.Tb().yD();ja(i.Zk,i.gD,e+n)}}var aF=Ai((function(){return new E([0,0,0,80,115,105,110,102,0,0,0,12,102,114,109,97,0,0,0,0,0,0,0,20,115,99,104,109,0,0,0,0,99,101,110,99,0,1,0,0,0,0,0,40,115,99,104,105,0,0,0,32,116,101,110,99,0,0,0,0,0,0,1,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])})),cF=16,hF=64,fF=4,vF=[Vy.ua,ua.Yy,ua.Ky,ua.Qy,ua.vy],dF=function(t){function n(n,i,r,e,u,s,o,a,c,h,f,v,d){var l;return(l=t.call(this)||this).Wdt=void 0,l.Xdt=void 0,l.cpt=!1,l.cW=new Ho,l.opt=void 0,l.Vgt=void 0,l.wot=void 0,l.Slt=new yB,l.Kgt=void 0,l.Ygt=void 0,l.Bgt=new Sk([]),l.Zgt=function(){!l.xat()&&l.wct()&&l.Ugt.Zgt()},l.kdt=function(t){l.Wdt.kdt(t),l.yo(new OB(t.uct,t.Tgt))},l.dpt=function(t){l.mpt(t)},l.US=function(){var t=gF;return gF+=1,t}(),l.r3=n,l.aW=e,l.dZ=u,l.Ugt=i,l.LB=r,l.Lut=s,l.oW=o,l.qgt=a,l.Alt=c,l.vlt=c?_A(n,c):void 0,l.Zlt=h,l.upt=f,l.vdt=v,l.iH=d,l}It(n,t);var i=n.prototype;return i.Ggt=function(){var t;return null==(t=this.Wdt)?void 0:t.lct.Yct.jn},i.xat=function(){return void 0!==this.Xdt&&this.Xdt.xat},i.wct=function(){if(void 0===this.Vgt)return!1;var t=this.Fgt().HL(),n=t.JL(this.Vgt);return!(n<0)&&t.Cn(n)!==this.Vgt},i.i3=function(){var t=this.Ugt.yct,n=this.Fgt().Sn(t);this.Vgt=n.V>0?n.jn(n.V-1):0;var i=t.jn(0);isFinite(i)&&this.Vgt<i&&this.LJ(this.Vgt,i),this.Zgt()},i.ddt=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return u=i.Not.PV,s=e.Xgt(t,n,i,u,r),[4,Ko([e.zgt(t,n,i,u,r),s])];case 1:return o=tn.apply(void 0,[a.sent(),1]),[2,o[0]]}}))}))()},i.Xgt=function(t,n,i,r,e){var u=this;return Zt((function(){var s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:return Nv(i.Xq)?t.pw!==DR.pk?[3,2]:[4,t.Zk.Put().xk(e)]:[2];case 1:return o=h.sent(),s=new E(o),[3,3];case 2:s=new E(t.Zk.aht),h.label=3;case 3:return a=[],void 0!==u.qgt&&(u.qgt.ddt(s,n.LO,r),a.push(u.qgt)),void 0!==u.Ygt&&(c=i.qct(n),u.Ygt.ddt(s,n.LO,n.BO,r,i.nat,c),a.push(u.Ygt)),up(u._R,a),[2]}}))}))()},i.zgt=function(t,n,i,r,e){var u=this;return Zt((function(){var s,o,a,c,h,f,v,d;return Ht(this,(function(l){switch(l.label){case 0:return Oo(e),t.pw===DR.pk?(a=t.Zk.Rk,u.Kgt&&(a=function(t,n){return t.pipeThrough(new Ld(new eF(n)))}(a,u.Kgt)),o={pw:DR.pk,Zk:a}):(c=new E(t.Zk.aht),u.Kgt&&(c=function(t,n){for(var i=Tc(t),r=new ey(pc(i),new Ec),e=ay.DD(r),u=e.length-1;u>=0;u--){var s=e[u];s.pw===ty.eD&&(i=uF(i,s,n))}return i}(c,u.Kgt)),o={pw:DR.QQ,Zk:c}),h={hit:n.LO,ct:n.ct,PV:r,L1:null==(s=i.nat)?void 0:s.TC},f=u.wot._R,[4,u.jgt()];case 1:return l.sent(),[4,u.wot.l2(o,h,e)];case 2:return l.sent(),v=u.wot._R,d=u.wot.o3,[2,lF(f,v,d,n)]}}))}))()},i.Pot=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:return Oo(i),r.Ygt&&r.Ygt.Pot(new E(t.aht)),u=new E(t.aht),r.Qgt(n)&&(s=r.Ugt.Jgt,o=[],s&&(o=bo(s.$gt,(function(t){return t.SG})),a=s.tpt.sU?UE(s.tpt.sU):void 0),(c=$V(u,o,a))?(r.Kgt=c.Pgt,u=c.Cgt):r.Kgt=void 0),h={pw:DR.QQ,Zk:u},[4,r.jgt()];case 1:return f.sent(),[4,r.wot._2(h,{L1:null==(e=n.nat)?void 0:e.TC},i)];case 2:return f.sent(),[2]}}))}))()},i.ldt=function(t,n,i){return this.wot.jS(t,n,i)},i.LJ=function(t,n){this.wot.u3(t,n)},i.BJ=function(t,n){this.wot.l3(t,n)},i.Fgt=function(){return this.wot?this.wot._R:AA.fB()},i.Ogt=function(){return this.wot?this.wot.o3:AA.fB()},i.ept=function(){return this.wot?this.wot.jS(0,1/0):et.resolve()},i.ipt=function(){return this.wot&&(this.wot.fn(CR.KQ,this.Ds),this.wot=void 0),et.resolve()},i.spt=function(t){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:return r=$O.klt(null!=(i=t.Cdt)?i:t.Uat,n.vlt),e=r.Xq,n.wot||(n.wot=n.Ugt.npt(e),n.wot.yn(CR.KQ,n.Ds),n.Slt=new mB(n.wot)),[4,n.jgt()];case 1:return u.sent(),[2]}}))}))()},i.$n=function(t,n){var i=Ho.Yw([n]);this.cW.Xw(),this.cW=i;var r=this.rpt(t,this.opt,i.Bw);return this.opt=r,r},i.hpt=function(t){if(!mo(this.upt,kw.CEA608)){var n=t.lct.gdt;if(function(t){return t.some((function(t){return t.J6===YV||t.J6===jV}))}(n)){this.Ygt=new ZV(this.oW);for(var i=function(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];if(r.J6===YV)for(var e=Dx(r.Ix),u=0;u<e.length;u++){var s=e[u];n.push(s)}else if(r.J6===jV)for(var o=HV(r.Ix),a=0;a<o.length;a++){var c=o[a];if(c.Vtt<=4){var h=zV[c.Vtt];n.push($u({},c,{Vtt:h}))}}}return n}(n),r=0;r<i.length;r++){var e=i[r];this.Ygt.vgt(e)}this.Bgt.xG(this.Ygt.Z)}}},i.rpt=function(t,n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return Oo(i),n?[4,n.catch(pi)]:[3,2];case 1:e.sent(),e.label=2;case 2:return r.Wdt===t&&r.cpt?[2]:[4,r.lpt()];case 3:return e.sent(),Oo(i),[4,r.ept()];case 4:return e.sent(),Oo(i),t?[4,r.hW(t)]:[3,6];case 5:e.sent(),e.label=6;case 6:return[2]}}))}))()},i.lpt=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return n=t.Wdt,t.Wdt=void 0,t.cpt=!1,t.Vgt=void 0,n&&(n.fn(kg.nC,t.dpt),n.Odt(!1),n.fn(kg.NO_QUALITY,t.Ds)),t.fpt&&(t.fpt.gn(),t.fpt=void 0),t.Xdt?[4,t.Xdt.gn()]:[3,2];case 1:i.sent(),t.Xdt=void 0,i.label=2;case 2:return t.Ygt?(t.Bgt.DG(t.Ygt.Z),[4,t.Ygt.gn()]):[3,4];case 3:i.sent(),i.label=4;case 4:return[2]}}))}))()},i.hW=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.Wdt=t,n.hpt(t),t.yn(kg.nC,n.dpt),t.yn(kg.NO_QUALITY,n.Ds),[4,n.spt(t)];case 1:return i.sent(),n.Xdt=n._pt(t),n.Xdt.yn(vF,n.Ds),n.Xdt.yn("rat",n.Zgt),n.Xdt.vat=t.Cdt,n.fpt=new QV(n.LB,n.Xdt),n.fpt.yn(kg.iC,n.kdt),t.Odt(!0),n.cpt=!0,[2]}}))}))()},i._pt=function(t){return new wB(this,this.LB,this.LB,this.aW,this.dZ,this.vdt,this.Lut,this.Alt,this.vlt,this.Slt,this.Zlt,this.iH).uit(t)},i.tr=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.cW.Xw(),n.opt?[4,n.opt.catch(pi)]:[3,2];case 1:i.sent(),n.opt=void 0,i.label=2;case 2:return[4,n.lpt()];case 3:return i.sent(),t?[3,5]:[4,n.ept()];case 4:i.sent(),i.label=5;case 5:return[4,n.ipt()];case 6:return i.sent(),[2]}}))}))()},i.vpt=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.lpt()];case 1:return n.sent(),[2]}}))}))()},i.Sdt=function(t){var n;null==(n=this.Vdt)||n.Sdt(t)},i.ydt=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return[4,i.Mat()];case 1:if(a.sent(),null==(r=i.Vdt)||r.ydt(n),!((u=null==(e=i.Xdt)?void 0:e.fat.Cct.Sct(t))&&u.V>0))return[3,5];s=0,a.label=2;case 2:return s<u.V?[4,null==(o=i.wot)?void 0:o.jS(u.Cn(s),u.jn(s))]:[3,5];case 3:a.sent(),a.label=4;case 4:return s++,[3,2];case 5:return[4,i.Bat()];case 6:return a.sent(),[2]}}))}))()},i.mpt=function(t){var n=this,i=t.Ht.Cdt;return void 0===i||i.some((function(t){return n.Slt.hJ(t)}))?this.gpt(t):void this.yo(new ea("ppt"))},i.gpt=function(t){this.Xdt&&this.Wdt&&this.Wdt===t.Ht&&(this.Xdt.vat=this.Wdt.Cdt)},i.Mat=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.Xdt?[4,n.Xdt.Mat(t)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))()},i.Bat=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.Xdt?[4,n.Xdt.Bat(t)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))()},i.Dj=function(){var t=this._R.cB;return this.dZ.Dj(t)},i.jgt=function(){var t=this.Ugt.yct,n=k.max(0,t.Cn(0)-.1),i=t.jn(0)+.01;return this.wot.N2(n,i)},i.Qgt=function(t){return!!Nv(t.Xq)&&(!!this.Ugt.K6||void 0!==this.Ugt.Jgt)},i.Oat=function(t){if(Kg(this.r3)){var n=this.Xdt,i=t.Xdt;void 0!==n&&void 0!==i&&n.Oat(i,this.Cn,this.jn)}},i.gn=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:n.Bo(),i.label=1;case 1:return i.trys.push([1,4,,5]),[4,n.tr(t)];case 2:return i.sent(),[4,n.vpt()];case 3:return i.sent(),[3,5];case 4:return i.sent(),[3,5];case 5:return[2]}}))}))()},Nt(n,[{key:"Vdt",get:function(){return this.Wdt}},{key:"o",get:function(){return this.US}},{key:"n3",get:function(){return this.r3}},{key:"nt",get:function(){return this.Bgt}},{key:"Kdt",get:function(){return function(t){var n=29.97,i=1024,r=44100;return t===jg.cE?r/i:n}(this.r3)}},{key:"zdt",get:function(){return 1/this.Kdt}},{key:"Rt",get:function(){return Boolean(this.Wdt&&this.Wdt.Rt)}},{key:"NJ",get:function(){var t=this.Xdt?this.Xdt.fat.NJ.bct:AA.fB();return this.Ogt().KL(t)}},{key:"_R",get:function(){var t=this.Fgt(),n=this.Vgt;return void 0!==n&&t.HL().gr(n)&&(t=t.KL(AA.lB(n))),t}},{key:"mct",get:function(){return iO(this.Fgt(),this.NJ.KL(this.Wgt)).YL(2*this.zdt)}},{key:"Wgt",get:function(){var t=this.Vgt;if(t&&isFinite(t)){var n=this.Ugt.jn;if(isFinite(n)&&t<n)return new AA([t,n],[!1,!0])}return AA.fB()}},{key:"iI",get:function(){var t=this.Wdt;if(!t)return AA.lB(0);var n=t.lct.Qdt,i=t.lct.Jdt;if(void 0===i||void 0===n)return AA.lB(0);var r=i,e=n>=t.lct.Yct.jn?k.max(n,this.jn):n;return e=k.max(r,e),AA.dB(r,e).HL()}},{key:"WG",get:function(){return this.mct.uB(this.yR)}},{key:"yct",get:function(){return this.Ugt.yct}},{key:"yR",get:function(){return this.LB.yR}},{key:"Cn",get:function(){return this.Wdt?this.Wdt.lct.Yct.Cn:NaN}},{key:"jn",get:function(){var t=this.Ggt(),n=this.Vgt;return void 0===t?NaN:void 0!==n?n:t}},{key:"Ti",get:function(){return this.Ugt.Ti}},{key:"ji",get:function(){return this.Ugt.ji}},{key:"Hgt",get:function(){return this.Vgt}}]),n}(na);function lF(t,n,i,r){var e,u,s=n.QL(t.HL());return 0===(s=s.QL(i.QL(n))).V?u=e=r.BO:(e=s.Cn(0),u=s.jn(0)),{tdt:e,edt:u}}var gF=0;var wF=function(t){function n(n,i,r,e,u,s,o,a,c,h,f,v,d,l){var g,w,m;return(g=t.call(this)||this).rO=new Yg,g.hO=new Yg,g.Vpt=[],g.Opt=new Ho,g.Mpt=!0,g.dft=[],g.opt=void 0,g.Rpt=bi((function(){g.yo(new BR(g.yR))}),350),g.Upt=function(t){var n=t.Qpt.Vdt;if(n)for(var i=0,r=g.Vpt;i<r.length;i++){var e,u=r[i];u.Vdt&&u.Vdt!==n&&u.pw===(null==(e=n.Edt)?void 0:e.pw)&&(u.fn("Wpt",g.Upt),u.Vdt.Rt=!1,u.yn("Wpt",g.Upt))}g.Ds(t)},g.Xpt=function(t){Mo(t)||g.yo(new wk(nd(t,Qv.MEDIA_LOAD_ERROR)))},g.Lpt=function(t){var n=t.S6;n&&g.zpt(n).catch(g.Xpt)},g.Jpt=function(t){g.qpt(t).catch(g.Xpt)},g.Bpt=function(t){var n=t.S6;if(n)for(var i=0,r=g.Zpt;i<r.length;i++)for(var e=r[i],u=0,s=e.lct.Uat;u<s.length;u++){var o=s[u],a=(o.wG||[]).some((function(t){return t.sU&&Pc(kc(n),UE(t.sU))}));o.Bdt&&a&&(o.Bdt=!1,o.nat&&e.Sdt(o.nat))}},g.aW=r,g.dZ=e,g.Lut=u,g.LB=n,g.TO=hw(),g.Vpt=[],g.Apt=o,g.Cpt=a,g.iH=l,g.oW=h,g.Spt=new DB(n,r,e,u,h,null==(m=null==s||null==(w=s.dash)?void 0:w.segmentRelativeVttTiming)||m),g.Ul=new Sk([g.Spt.nt]),g.Zlt=v,g.upt=d,g.Apt.yn(eO.eat,g.Ds),g.bu=c,g.F2=i,g.vdt=s.lowLatency,g.qgt=f,g.kpt=s.abr,g.LB.yn(ua.ib,g.Lpt),g.LB.yn(ua.wy,g.Bpt),g}It(n,t);var i=n.prototype;return i.bj=function(t,n){return this.wpt(t,n)},i.wpt=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:for(r=0;r<t.length;r++)e=t[r],i.ypt(e);return[4,i.$n(n)];case 1:a.sent(),u=0,s=i.Apt.bpt,a.label=2;case 2:return u<s.length?(o=s[u]).pw!==jg.wk?[3,5]:o.Uat&&0!==o.Uat.length?[3,3]:(i.yo(new PB("No supported representation found in the AdaptationSet with mimetype : "+o.pw)),[3,5]):[3,6];case 3:return[4,i.Spt.hW(o)];case 4:a.sent(),a.label=5;case 5:return u++,[3,2];case 6:return[2]}}))}))()},i.Tpt=function(t){return new dF(t,this,this.LB,this.aW,this.dZ,this.Lut,this.oW,this.qgt,this.kpt,this.Zlt,this.upt,this.vdt,this.iH)},i.xat=function(){return this.dft.some((function(t){return t.xat()}))},i.wct=function(){return 0!==this.dft.length&&this.dft.every((function(t){return t.wct()}))},i.Zgt=function(){this.Ept()&&this.yo(new MB)},i.npt=function(t){if(Bs(t,"audio")){if(this.F2.K3)return this.F2.K3}else if(Bs(t,"video")&&this.F2.j3)return this.F2.j3;throw new p("Cannot allocate source buffer for mime type "+t)},i.xpt=function(t){t.yn([Vy.ua,ua.Zy,ua.Yy,ua.Ky,ua.Qy,ua.vy],this.Ds),t.yn(CR.KQ,this.Rpt),t.yn("ppt",this.Ds)},i.Ipt=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,et.all(n.dft.map((function(n){return n.gn(t)})))];case 1:return i.sent(),po(n.dft),[2]}}))}))()},i.Ept=function(){if(this.xat())return!1;if(!this.wct())return!1;var t=this._R;if(0===t.V)return!1;var n=this.yR;if(this.Ppt)return t.Cn(t.V-1)<=n;var i=t.Sn(this.yct);if(0===i.V)return!0;var r=i.Cn(i.V-1),e=i.jn(i.V-1)+.1;return r<=n&&n<=e},i.Mat=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.Mpt?[2]:(n.Mpt=!0,[4,et.all(n.dft.map((function(n){return n.Mat(t)})))]);case 1:return i.sent(),[2]}}))}))()},i.Bat=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.Mpt?(n.Mpt=!1,[4,et.all(n.dft.map((function(n){return n.Bat(t)})))]):[2];case 1:return i.sent(),[2]}}))}))()},i.gn=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.LB.fn(ua.ib,n.Lpt),n.LB.fn(ua.wy,n.Bpt),n.Bo(),n.Apt.fn(eO.eat,n.Ds),n.Opt.Xw(),n.opt?[4,n.opt.catch(pi)]:[3,2];case 1:i.sent(),n.opt=void 0,i.label=2;case 2:return[4,n.Ipt(t)];case 3:return i.sent(),[4,n.Spt.gn()];case 4:return i.sent(),n.rO.gn(),n.hO.gn(),n.Ul.gn(),n.Fpt(),[2]}}))}))()},i.ypt=function(t){this.Vpt.push(t),t.yn("Wpt",this.Upt);for(var n=t.pw===jg.cE?this.rO:this.hO,i=0,r=t.Z;i<r.length;i++){var e=r[i];n.tt(e)}},i.Gpt=function(t){for(var n=t.pw===jg.cE?this.rO:this.hO,i=0,r=t.Z;i<r.length;i++){var e=r[i];n.it(e),e.gn()}t.gn(),lo(this.Vpt,t)},i.Fpt=function(){for(var t=this.Vpt.length-1;t>=0;t--)this.Gpt(this.Vpt[t])},i.$n=function(t,n){return this.Opt.Xw(),this.Opt=Ho.Yw([n]),this.opt=Uo(this.zE(t,this.opt,this.Opt.Bw),this.Opt).catch(this.Xpt),this.opt},i.zE=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h,f,v;return Ht(this,(function(d){switch(d.label){case 0:return n?[4,n.catch(pi)]:[3,2];case 1:d.sent(),d.label=2;case 2:Oo(i),e=[],u=r.dft.slice(),s=t.slice(),po(r.dft),o=0,d.label=3;case 3:return o<u.length?(a=u[o],(c=a.Vdt)&&mo(s,c)?(r.dft.push(a),e.push(a.$n(c,i)),lo(s,c),[3,6]):[3,4]):[3,7];case 4:return r.Ul.DG(a.nt),[4,a.gn()];case 5:d.sent(),Oo(i),d.label=6;case 6:return o++,[3,3];case 7:for(h=0;h<s.length;h++)f=s[h],v=r.Tpt(f.pat),r.Ul.xG(v.nt),r.dft.push(v),r.xpt(v),e.push(v.$n(f,i));return[4,et.all(e)];case 8:return d.sent(),[2]}}))}))()},i.uJ=function(t,n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return r.F2===i?[3,2]:(r.F2=i,[4,r.Ipt(!1)]);case 1:e.sent(),e.label=2;case 2:return[4,r.$n(t)];case 3:return e.sent(),r.Cpt=n,[2]}}))}))()},i.zpt=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:i=0,r=n.dft,h.label=1;case 1:if(!(i<r.length))return[3,6];if(e=r[i],void 0===(u=e.Vdt))return[3,5];s=0,o=u.lct.Uat,h.label=2;case 2:return s<o.length?(a=o[s],c=a.wG||[],!c.some((function(n){return n.sU&&Pc(kc(t),UE(n.sU))}))||a.Bdt?[3,4]:(a.Bdt=!0,[4,e.ydt(a,a.nat)])):[3,5];case 3:h.sent(),n.yo(new jD(new qg(Qv.CONTENT_PROTECTION_OUTPUT_RESTRICTED,"Content unavailable due to DRM restrictions"))),h.label=4;case 4:return s++,[3,2];case 5:return i++,[3,1];case 6:return[2]}}))}))()},i.qpt=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:i=0,r=n.dft,v.label=1;case 1:if(!(i<r.length))return[3,7];if(e=r[i],void 0===(u=e.Vdt))return[3,6];s=0,o=u.Uat,v.label=2;case 2:return s<o.length?(a=o[s],c=a.wG,h=a.nat,void 0===c||0===c.length||void 0===h?[3,5]:(f=n.Ypt(c,t.fb),h.Hnt===f?[3,5]:f?(e.Sdt(h),[3,5]):[3,3])):[3,6];case 3:return[4,e.ydt(a,h)];case 4:v.sent(),v.label=5;case 5:return s++,[3,2];case 6:return i++,[3,1];case 7:return[2]}}))}))()},i.Ypt=function(t,n){var i=!1;return n.Db((function(n,r){t.some((function(t){return t.sU&&Pc(kc(r),UE(t.sU))}))&&"usable"===n&&(i=!0)})),i},i.Oat=function(t){var n=function(n,i){var r=i[n],e=ao(t.dft,(function(t){return t.n3===r.n3}));void 0!==e&&r.Oat(e)};if(void 0!==t){var i=t.Apt;if(this.Apt.Kpt===i||this.Apt.jpt===i)for(var r=0,e=this.dft;r<e.length;r++)n(r,e)}},Nt(n,[{key:"TC",get:function(){return this.TO}},{key:"ct",get:function(){return this.LB.ct}},{key:"Rt",get:function(){return this.dft.some((function(t){return t.Rt}))}},{key:"ht",get:function(){return this.rO}},{key:"_R",get:function(){if(0===this.dft.length)return AA.fB();for(var t=this.dft.map((function(t){return t._R})),n=AA.dB(0,1/0),i=0;i<t.length;i++){var r=t[i];n=n.Sn(r)}if(0===n.V)return n;if(this.wct()){var e=n.Sn(this.yct);if(0===e.V)return n;for(var u=e.jn(e.V-1),s=0,o=0,a=this.dft;o<a.length;o++){var c=a[o];s=k.max(s,c.Hgt)}u<=s&&(n=n.KL(new AA([u,s],[!0,!0])))}return n}},{key:"K6",get:function(){return this.LB.K6}},{key:"yR",get:function(){return this.LB.yR}},{key:"Jgt",get:function(){return this.Cpt}},{key:"jn",get:function(){if(this.Ppt){var t=this.ct;if(!S(t)&&t!==ir)return t}if(!this.dft.length)return NaN;for(var n=0,i=0,r=this.dft;i<r.length;i++){var e=r[i];n=k.max(n,e.jn)}return n}},{key:"Ppt",get:function(){var t=this.Apt.ndt;if(t.pw===xB._W)return!1;var n=t.Dpt;return 0!==n.length&&this.Apt===n[n.length-1]}},{key:"iI",get:function(){if(!this.dft.length)return AA.fB();for(var t=new AA([0,1/0]),n=0,i=this.dft;n<i.length;n++){var r=i[n];t=t.Sn(r.iI)}if(t.V>0&&this.Ppt&&isFinite(this.ct)){var e=this.ct,u=t.jn(t.V-1);e>u&&(t=t.KL(AA.dB(u,e).HL()))}return t}},{key:"kc",get:function(){return this.Apt}},{key:"nt",get:function(){return this.Ul}},{key:"rt",get:function(){return this.hO}},{key:"ji",get:function(){return this.bu.ji}},{key:"Ti",get:function(){return this.bu.Ti}},{key:"WG",get:function(){var t=this.yR,n=this._R,i=n.JL(t);if(-1!==i)return{Cn:n.Cn(i),jn:n.jn(i)}}},{key:"yct",get:function(){var t=this.Apt.Cn,n=this.Ppt?1/0:this.Apt.jn;return AA.dB(t,n)}},{key:"Npt",get:function(){return this.Mpt}},{key:"Hpt",get:function(){return this.Vpt.map((function(t){return t.Vdt})).filter(Yn)}},{key:"Zpt",get:function(){return this.dft.map((function(t){return t.Vdt})).filter(Yn)}}]),n}(na);F(),Tt(),Gt(),Dt(),qt(),F(),Tt(),nn(),F(),Tt(),Dt();var mF=/^P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)D)?(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d*\.?\d*)S)?)?$/,yF=function(){function t(t){this.$pt=t}var n=t.prototype;return n.twt=function(){return this.$pt},n.ewt=function(){return 1e3*this.$pt},t.qD=function(n){var i=n.match(mF);if(!i)throw new p("The given value could not be parsed as a valid DateTimeInterval");return new t(31536e3*(Number(i[1])||0)+2592e3*(Number(i[2])||0)+86400*(Number(i[3])||0)+3600*(Number(i[4])||0)+60*(Number(i[5])||0)+(Number(i[6])||0))},Nt(t,[{key:"Nft",get:function(){return am.cV(this.$pt,1e3)}}]),t}();F(),Tt();var pF=function(t){return t.iwt="progressive",t.swt="interlaced",t.Qk="unknown",t}({});F(),Tt();var _F=function(){function t(t,n){this.nwt=t,this.rwt=n}return t.prototype.uF=function(){return this.nwt/this.rwt},t}(),bF=/^(?:true|false)$/i,kF=/^(-?)(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(?:Z|([+-])(\d{2}):(\d{2}))?$/;function AF(t){if(void 0!==t)return yF.qD(t)}function TF(t){if(void 0!==t){var n=t.match(kF);if(!n)throw new p("The given value could not be parsed as a valid Date");var i=tn(n,12),r=i[1],e=i[2],u=i[3],s=i[4],o=i[5],a=i[6],c=i[7],h=i[8],f=i[9],v=i[10],d=i[11],l=("-"===r?-1:1)*Number(e),g=Number(u)-1,w=Number(s),m=Number(o),y=Number(a),_=Number(c),b=Number("0."+(h||"")),A=k.round(1e3*b);if(f)y-=("-"===f?-1:1)*(60*Number(v)+Number(d));var T=new Date(Date.UTC(l,g,w,m,y,_,A));if(S(T.getTime()))throw new p("The given value could not be parsed as a valid Date");return T}}function SF(t){if(t){var n=/(\d+)-(\d+)/.exec(t);if(n)return[IF(n[1]),IF(n[2])]}}function EF(t){if(void 0!==t){if(!S(Number(t)))try{return tr.fromString(t,!0)}catch(t){}throw new p("The given value could not be parsed as a valid unsigned long")}}function IF(t){if(void 0!==t){var n=Number(t);if(!S(n))return n;throw new p("The given value could not be parsed as a valid Number")}}function RF(t){if(void 0!==t){var n=t.split("/"),i=Number(n[0]),r=Number(n[1]||1);if(!S(i)&&!S(r))return new _F(i,r);throw new p("The given value could not be parsed as a valid frame rate")}}function CF(t){if(void 0!==t){if(bF.test(t))return"true"===t.toLowerCase();if(!S(A(t)))return Boolean(A(t));throw new p("The given value could not be parsed as a valid Boolean.")}}function NF(t){return{qu:t.Ux,owt:CF(t.Gx("availabilityTimeComplete")),hwt:IF(t.Gx("availabilityTimeOffset"))}}function DF(t){return t.map(NF)}function PF(t){var n,i=ZF(t),r=function(t,n,i,r){var e=t.Hx(i,n);return void 0===e&&(e=t.Gx(r+":"+n)),e}(t,"default_KID","urn:mpeg:cenc:2013","cenc"),e=yy(t,"pssh","urn:mpeg:cenc:2013","cenc")[0];if(void 0!==e&&(n=Bc(e.Ux)),!n){var u=yy(t,"pro","urn:microsoft:playready","mspr")[0];void 0!==u&&(n=function(t){var n=pa(t.Ux),i=new E([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),r=n.length,e=12+i.length+4+r,u=new ArrayBuffer(e),s=new E(u),o=new DataView(u),a=new Ec;ja(o,a,e),ja(o,a,1886614376),ja(o,a,0),Wa(o,a,i),ja(o,a,r),Wa(o,a,n),!1;return s.buffer}(u))}return{sU:r,t9:n,J6:i.J6,Ix:i.Ix}}function xF(t){return{awt:t.Gx("sourceURL"),iut:SF(t.Gx("range"))}}function LF(t,n){var i=t.Gx("d"),r=t.Gx("t"),e=IF(t.Gx("r"));n.push({ct:i,LO:r,uwt:e})}function MF(t){return{Wut:t.Gx("index"),cwt:SF(t.Gx("indexRange")),gN:t.Gx("media"),lwt:SF(t.Gx("mediaRange"))}}function OF(t){var n=VF(t),i=function(t){var n=t.map(MF);return n.length>0?n:void 0}(t.Lx("SegmentURL"));return $u({},n,{dwt:i,fwt:t.Gx("xlink:href"),_wt:t.Gx("xlink:actuate")})}function BF(t){var n=CF(t.Gx("availabilityTimeComplete")),i=IF(t.Gx("availabilityTimeOffset")),r=SF(t.Gx("indexRange")),e=CF(t.Gx("indexRangeExact")),u=t.Lx("Initialization");if(u.length>1)throw new p("The provided MPEG-DASH document's "+t.Bx+" element can not have more than one Initialization element.");var s=1===u.length?xF(u[0]):void 0,o=EF(t.Gx("presentationTimeOffset")),a=t.Lx("RepresentationIndex");if(a.length>1)throw new p("The provided MPEG-DASH document's "+t.Bx+" element can not have more than one RepresentationIndex element.");return{owt:n,hwt:i,cwt:r,vwt:e,mwt:s,gwt:o,pwt:1===a.length?xF(a[0]):void 0,wwt:AF(t.Gx("timeShiftBufferDepth")),lN:IF(t.Gx("timescale"))}}function VF(t){var n=BF(t),i=t.Lx("BitstreamSwitching"),r=i.length>0?xF(i[0]):void 0,e=IF(t.Gx("duration")),u=t.Lx("SegmentTimeline");if(u.length>1)throw new p("The provided MPEG-DASH document's "+t.Bx+" element can not have more than one SegmentTimeline element.");var s=1===u.length?function(t){for(var n=[],i=t.Lx("S"),r=0;r<i.length;r++)LF(i[r],n);return n}(u[0]):void 0;return $u({},n,{ywt:r,ct:e,Not:s,bwt:IF(t.Gx("startNumber")),Awt:IF(t.Gx("endNumber"))})}function FF(t){return{Swt:function(t){if(t){var n=t.split(/\s/);return n.length>1?(n.length=2,n.map(IF)):1===n.length?n.map(IF)[0]:void 0}}(t.Gx("audioSamplingRate")),Urt:t.Gx("codecs"),Twt:CF(t.Gx("codingDependency")),wG:function(t){if(0!==t.length)return t.map(PF)}(t.Lx("ContentProtection")),kwt:function(t){return t.map(XF)}(t.Lx("EssentialProperty")),Ewt:function(t){return t.map(GF)}(t.Lx("SupplementalProperty")),Kdt:RF(t.Gx("frameRate")),Ti:IF(t.Gx("height")),xwt:IF(t.Gx("maxPlayoutRate")),Rwt:IF(t.Gx("maximumSAPPeriod")),Xq:t.Gx("mimeType"),Iwt:t.Gx("profiles"),Cwt:t.Gx("sar"),Pwt:function(t){switch(t){case pF.iwt:case pF.swt:case pF.Qk:return t;default:return}}(t.Gx("scanType")),Dwt:t.Gx("segmentProfiles"),Nwt:IF(t.Gx("startWithSAP")),ji:IF(t.Gx("width"))}}function UF(t){var n=DF(t.Lx("BaseURL")),i=t.Lx("SegmentBase");if(i.length>1)throw new p("The provided MPEG-DASH document's "+t.kx+" element can not have more than one SegmentBase element.");var r=1===i.length?BF(i[0]):void 0,e=function(t){var n=t.map(OF);return n.length>0?n:void 0}(t.Lx("SegmentList")),u=t.Lx("SegmentTemplate");if(u.length>1)throw new p("The provided MPEG-DASH document's "+t.kx+" element can not have more than one SegmentTemplate element.");var s=1===u.length?function(t){return $u({},VF(t),{Mwt:t.Gx("bitstreamSwitching"),Lwt:t.Gx("index"),Bwt:t.Gx("initialization"),Owt:t.Gx("media")})}(u[0]):void 0;return{Fwt:n,Vwt:r,Wwt:e,Uwt:s}}function WF(t){var n=FF(t),i=UF(t),r=IF(t.Gx("bandwidth")),e=t.Gx("dependencyId"),u=t.Gx("id"),s=t.Gx("mediaStreamStructureId"),o=IF(t.Gx("qualityRanking"));if(t.Lx("SegmentBase").length>1)throw new p("The provided MPEG-DASH document's Representation element can not have more than one SegmentBase element.");return $u({},n,i,{mG:r,Gwt:e,o:u,Hwt:s,Zwt:o})}function ZF(t){return{J6:t.Gx("schemeIdUri"),Ix:t.Gx("value")}}function XF(t){return ZF(t)}function GF(t){return ZF(t)}function HF(t){return ZF(t)}function zF(t){return ZF(t)}function YF(t){var n,i=FF(t),r=UF(t),e=function(t){return t.map(zF)}(t.Lx("Accessibility")),u=CF(t.Gx("bitstreamSwitching")),s=t.Gx("contentType"),o=IF(t.Gx("group")),a=IF(t.Gx("id")),c=(null==(n=t.Lx("Label")[0])?void 0:n.Ux)||"",h=t.Gx("lang"),f=IF(t.Gx("maxBandwidth")),v=RF(t.Gx("maxFrameRate")),d=IF(t.Gx("maxHeight")),l=IF(t.Gx("maxWidth")),g=IF(t.Gx("minBandwidth")),w=RF(t.Gx("minFrameRate")),m=IF(t.Gx("minHeight")),y=IF(t.Gx("minWidth")),_=t.Gx("par"),b=function(t){return t.map(WF)}(t.Lx("Representation"));if(0===b.length)throw new p("The provided MPEG-DASH document has an AdaptationSet with no valid Representation's");var k,A=function(t){return t.map(HF)}(t.Lx("Role")),T=CF(t.Gx("segmentAlignment"))||!1,S=IF(t.Gx("selectionPriority")),E=S||1,I=CF(t.Gx("subsegmentAlignment"))||!1;try{k=IF(t.Gx("subsegmentStartsWithSAP"))}catch(t){}return $u({},i,r,{gdt:e,ywt:u,Ik:s,Edt:o,o:a,kh:c,gs:h,Xwt:f,zwt:v,qwt:d,Ywt:l,Kwt:g,Qwt:w,Jwt:m,$wt:y,tyt:_,Uat:b,nft:A,eyt:T,BH:E,iyt:I,syt:k,nyt:t.Gx("xlink:actuate")||"onRequest",ryt:t.Gx("xlink:href")})}function jF(t){var n=EF(t.Gx("presentationTime"))||tr.ZERO,i=EF(t.Gx("duration")),r=IF(t.Gx("id")),e=function(t){for(var n=t.Wx,i={},r=0;r<n.length;r++)i[n[r].l]=n[r].Ix;return i}(t),u=t.Ux;return{dL:n,ct:i,o:r,Wx:e,Zk:""!==u.trim()?u:t.Gx("messageData")||""}}function KF(t){return{ryt:t.Gx("xlink:href"),nyt:t.Gx("xlink:actuate"),J6:t.Gx("schemeIdUri"),Ix:t.Gx("value"),lN:IF(t.Gx("timescale")),gwt:EF(t.Gx("presentationTimeOffset")),zq:t.Lx("Event").map(jF)}}function qF(t){var n=UF(t),i=t.Lx("AssetIdentifier");if(i.length>1)throw new p("The provided MPEG-DASH document's Period element can not have more than one AssetIdentifier element.");var r=1===i.length?function(t){return ZF(t)}(i[0]):void 0,e=function(t){return t.map(YF)}(t.Lx("AdaptationSet")),u=CF(t.Gx("bitstreamSwitching")),s=AF(t.Gx("duration")),o=function(t){return t.map(KF)}(t.Lx("EventStream")),a=t.Gx("id"),c=AF(t.Gx("start")),h=(t.Lx("Subset"),t.Gx("xlink:href"));return $u({},n,{oft:e,oyt:r,ywt:u,ct:s,hyt:o,o:a,Cn:c,nyt:t.Gx("xlink:actuate"),ryt:h})}function JF(t){var n=t.Gx("schemeIdUri");if(n)return{J6:n,Ix:t.Gx("value")}}function QF(t,n){var i=TF(t.Gx("availabilityEndTime")),r=TF(t.Gx("availabilityStartTime")),e=DF(t.Lx("BaseURL")),u=t.Gx("id"),s=function(t){return t.map((function(t){return""+t.Ux}))}(t.Lx("Location")),o=AF(t.Gx("maxSegmentDuration")),a=AF(t.Gx("maxSubsegmentDuration")),c=AF(t.Gx("mediaPresentationDuration")),h=(t.Lx("Metrics"),AF(t.Gx("minBufferTime")));if(!h)throw new p("The provided MPEG-DASH document's MPD element does not have the required 'minimumBufferTime' attribute.");var f=AF(t.Gx("minimumUpdatePeriod")),v=function(t){return t.map((function(t){return qF(t)}))}(t.Lx("Period"));if(!v.length)throw new p("The provided MPEG-DASH document's MPD element does not have the required 'Period' element.");var d=t.Gx("profiles");if(!d)throw new p("The provided MPEG-DASH document's MPD element does not have the required 'profiles' attribute.");var l=TF(t.Gx("publishTime")),g=AF(t.Gx("suggestedPresentationDelay")),w=AF(t.Gx("timeShiftBufferDepth")),m=function(t){switch(t){case xB.fW:case xB._W:return t;default:return}}(t.Gx("type")),y=function(t){for(var n=[],i=0;i<t.length;i++){var r=JF(t[i]);r&&n.push(r)}return n}(t.Lx("UTCTiming")),_=function(t){if(0===t.length)return;var n=t[0],i=n.Lx("Latency");if(0===i.length)return;var r=function(t){var n=t[0],i=IF(n.Gx("target"));if(void 0===i)return;var r=IF(n.Gx("min")),e=IF(n.Gx("max"));return{ayt:i,rV:r,nV:e}}(i);if(void 0===r)return;var e=function(t){if(0===t.length)return;var n=t[0],i=IF(n.Gx("max")),r=IF(n.Gx("min"));return{rV:r,nV:i}}(n.Lx("PlaybackRate"));return{uyt:r,zR:e}}(t.Lx("ServiceDescription"));return{cyt:i,lyt:r,Fwt:e,o:u,dyt:s,fyt:n,_yt:o,vyt:a,myt:c,gyt:h,pyt:f,Dpt:v,Iwt:d,wyt:l,yyt:g,wwt:w,pw:m,byt:y,Ayt:_}}var $F=function(){function t(){}return t.prototype.Syt=function(t,n){return function(t,n){if(!t)throw new p("The provided MPEG-DASH document does not contain a valid MPD root element.");return QF(t,n)}(Kn.Tx(t).Yx,n)},t}();function tU(t){return{get bandwidth(){return t.mG},get codecs(){return t.Urt},get id(){return t.o},get uid(){return t.TC},get name(){return t.kh},get averageBandwidth(){return t.Tyt},get label(){return t.kh},set label(n){t.kh=Og(n)},get available(){return t.Hnt},get score(){return t.kyt},addEventListener:function(n,i){t.yn(n,i)},removeEventListener:function(n,i){t.fn(n,i)}}}function nU(t){return Eg(tU(t),{get height(){return t.Ti},get width(){return t.ji},get frameRate(){return t.Kdt},get firstFrame(){return t.Eyt}})}function iU(t){return Eg(tU(t),{get audioSamplingRate(){return t.Swt}})}F(),Tt(),Dt(),F(),Tt(),Gt(),Dt(),Rt(),Ut(),qt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt(),F(),Tt(),F(),Tt(),Rt();var rU=function(t){function n(n){var i;return(i=t.call(this,"update")||this).quality=n,i}return It(n,t),n}(ea),eU=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).o=n,s.mG=i,s.Urt=r,s.Ryt=u,s.TC=dw(),s.kO=e||"",s.xyt=!0,s}It(n,t);var i=n.prototype;return i.sW=function(){this.xyt=!1,this.yo(new rU(this.ga))},i.iW=function(){this.xyt=!0,this.yo(new rU(this.ga))},Nt(n,[{key:"kh",get:function(){return this.kO},set:function(t){this.kO!==t&&(this.kO=t,this.yo(new rU(this.ga)))}},{key:"Tyt",get:function(){}},{key:"Hnt",get:function(){return this.xyt}},{key:"kyt",get:function(){}}]),n}(na),uU=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return void 0===c&&(c=0),(h=t.call(this,n,i,r,e,u)||this).Kdt=s,h.ji=o,h.Ti=a,h.Eyt=c,h.Za=void 0,h}return It(n,t),Nt(n,[{key:"ga",get:function(){return this.Za||(this.Za=nU(this)),this.Za}}]),n}(eU),sU=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n,i,r,e,u)||this).Swt=s,o.Za=void 0,o}return It(n,t),Nt(n,[{key:"ga",get:function(){return this.Za||(this.Za=iU(this)),this.Za}}]),n}(eU);F(),Tt(),F(),Tt(),Dt(),Rt();var oU=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Dyt=function(t){n.yo(t)},n}return It(n,t),Nt(n,[{key:"Iyt",get:function(){var t=this.Cyt();return null==t?void 0:t.Cn}},{key:"Pyt",get:function(){var t=this.Cyt();return null==t?void 0:t.jn}}]),n}(na),aU=function(t){function n(n,i){var r;if((r=t.call(this)||this).Za=void 0,r.Lyt=void 0,r.Vyt=!1,r.Wyt=!1,r.Dat=n,r.Nyt=i,r.Nyt.yn(eO.Jht,r.Dyt),r.pw===jg.lE){var e,u,s=null!=(u=null==(e=r.Kdt)?void 0:e.uF())?u:NaN;r.Oyt=new uU(r.o,r.mG,r.dp,"","",s,r.ji,r.Ti)}else r.pw===jg.cE?r.Oyt=new sU(r.o,r.mG,r.dp,"","",r.Swt):r.Oyt=void 0;return r}It(n,t);var i=n.prototype;return i.clt=function(t){var n=bO(t)?this.Nyt.Uyt(t):this.Nyt.clt(t);return{qu:n.qu,iut:n.iut,AE:this.ndt.AE}},i.Gyt=function(){return this.Nyt.Gyt()},i.Cyt=function(){return this.Nyt.Cyt()},i.Hyt=function(){return this.Nyt.Hyt()},i.tlt=function(t){return this.Nyt.tlt(t)},i.ilt=function(t,n,i){return this.Nyt.ilt(t,this.ndt.AE,n,i)},i.zlt=function(t){return bO(t)?this.Not.Zyt(t,this.Nyt):this.Not.zlt(t)},i.qct=function(t){return bO(t)?this.Not.Xyt(t,this.Nyt):this.Not.qct(t)},i.gn=function(){this.Nyt.fn(eO.Jht,this.Dyt)},Nt(n,[{key:"lct",get:function(){return this.Dat}},{key:"Swt",get:function(){var t;return null!=(t=this.Nyt.Zk.Swt)?t:this.lct.Swt}},{key:"mG",get:function(){return this.Nyt.Zk.mG||0}},{key:"Urt",get:function(){var t=this.Nyt.Zk;return t.Urt?[t.Urt]:this.lct.Urt}},{key:"Myt",get:function(){var t=this.Nyt.Zk;return t.Urt?[t.Urt]:[]}},{key:"dp",get:function(){return this.Nyt.Zk.Urt||this.lct.dp}},{key:"Twt",get:function(){return this.Nyt.Zk.Twt||this.lct.Twt}},{key:"wG",get:function(){return this.Nyt.Zk.wG||this.lct.wG}},{key:"Ik",get:function(){return this.Xq+'; codecs="'+this.dp+'"'}},{key:"kwt",get:function(){var t=this.Nyt.Zk;return t.kwt.length?t.kwt:this.lct.kwt}},{key:"ga",get:function(){return this.Za||(this.Za=function(t){return{get id(){return t.o},get type(){return t.pw},get bandwidth(){return t.mG},get width(){return t.ji},get height(){return t.Ti},get frameRate(){var n,i;return null!=(i=null==(n=t.Kdt)?void 0:n.uF())?i:NaN},get audioSamplingRate(){return t.Swt}}}(this))}},{key:"Kdt",get:function(){var t;return null!=(t=this.Nyt.Zk.Kdt)?t:this.lct.Kdt}},{key:"Ti",get:function(){return this.Nyt.Zk.Ti||this.lct.Ti}},{key:"o",get:function(){return this.Nyt.Zk.o||""}},{key:"adt",get:function(){return this.Lyt},set:function(t){this.Lyt=t}},{key:"hdt",get:function(){var t=this.Nyt.Byt();if(t)return{qu:t.qu,iut:t.iut,AE:this.ndt.AE}}},{key:"xwt",get:function(){return this.Nyt.Zk.xwt||this.lct.xwt||1}},{key:"Rwt",get:function(){return this.Nyt.Zk.Rwt||this.lct.Rwt}},{key:"ndt",get:function(){return this.Yct.ndt}},{key:"Xq",get:function(){return this.Nyt.Zk.Xq||this.lct.Xq}},{key:"Yct",get:function(){return this.lct.Yct}},{key:"Iwt",get:function(){return this.Nyt.Zk.Iwt||this.lct.Iwt}},{key:"nat",get:function(){return this.Oyt}},{key:"Cwt",get:function(){return this.Nyt.Zk.Cwt||this.lct.Cwt}},{key:"Pwt",get:function(){return this.Nyt.Zk.Pwt||this.lct.Pwt}},{key:"Fyt",get:function(){return this.Nyt.Fyt}},{key:"Dwt",get:function(){return this.Nyt.Zk.Dwt||this.lct.Dwt}},{key:"Not",get:function(){return this.Nyt.Not}},{key:"Nwt",get:function(){return this.Nyt.Zk.Nwt||this.lct.Nwt}},{key:"pw",get:function(){var t=this.Xq.split("/")[0];return"application"===t||"text"===t||$y(this.Xq,this.Urt)?jg.wk:"video"===t?jg.lE:"audio"===t?jg.cE:"image"===t?jg.dE:jg.Qk}},{key:"ji",get:function(){return this.Nyt.Zk.ji||this.lct.ji}},{key:"Jct",get:function(){return this.Vyt},set:function(t){this.Vyt=t}},{key:"Bdt",get:function(){return this.Wyt},set:function(t){this.Wyt=t}}]),n}(oU),cU=function(t){function n(n,i){var r;return(r=t.call(this)||this).Pdt=[],r.Apt=n,r.Nyt=i,r.Nyt.yn(eO.Jht,r.Dyt),r}It(n,t);var i=n.prototype;return i.Yn=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return 0!==i.Pdt.length?[3,2]:(r=i.Nyt.Uat.map((function(r){return i.qyt(r,t,n)})),[4,et.all(r)]);case 1:i.Pdt=e.sent().filter(Yn),e.label=2;case 2:return i.Yyt(),[2]}}))}))()},i.qyt=function(t,n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){switch(s.label){case 0:return e=new aU(r,t),[4,n(e)];case 1:return u=s.sent(),Oo(i),u?[2,e]:[2,void 0]}}))}))()},i.Yyt=function(){if(!this.Pdt.length)throw new p("Detected an AdaptationSet without any supported Representations.")},i.Cyt=function(){return this.Nyt.Cyt()},i.Hyt=function(){return this.Nyt.Hyt()},i.gn=function(){this.Nyt.fn(eO.Jht,this.Dyt);for(var t=0,n=this.Pdt;t<n.length;t++){n[t].gn()}po(this.Pdt)},Nt(n,[{key:"gdt",get:function(){return this.Nyt.Zk.gdt}},{key:"Swt",get:function(){var t;return null!=(t=this.Nyt.Zk.Swt)?t:-1}},{key:"Urt",get:function(){if(this.Nyt.Zk.Urt)return[this.Nyt.Zk.Urt];for(var t=[],n=0,i=this.Uat;n<i.length;n++){var r=i[n];r.Myt.length&&-1===t.indexOf(r.dp)&&t.push(r.dp)}return t}},{key:"dp",get:function(){return this.Urt.join()}},{key:"Twt",get:function(){return this.Nyt.Zk.Twt}},{key:"wG",get:function(){return this.Nyt.Zk.wG}},{key:"Ik",get:function(){return this.Xq+'; codecs="'+this.dp+'"'}},{key:"kwt",get:function(){return this.Nyt.kwt}},{key:"Ewt",get:function(){return this.Nyt.Ewt}},{key:"Kdt",get:function(){return this.Nyt.Zk.Kdt}},{key:"Edt",get:function(){return this.Nyt.Zk.Edt}},{key:"Ti",get:function(){return this.Nyt.Zk.Ti||0}},{key:"o",get:function(){return this.Nyt.Zk.o}},{key:"kh",get:function(){return this.Nyt.Zk.kh||""}},{key:"xwt",get:function(){return this.Nyt.Zk.xwt}},{key:"Rwt",get:function(){return this.Nyt.Zk.Rwt}},{key:"ndt",get:function(){return this.Yct.ndt}},{key:"Xq",get:function(){return this.Nyt.Zk.Xq||this.Pdt[0].Xq}},{key:"Yct",get:function(){return this.Apt}},{key:"Iwt",get:function(){return this.Nyt.Zk.Iwt}},{key:"Uat",get:function(){return this.Pdt}},{key:"nft",get:function(){return this.Nyt.Zk.nft||[]}},{key:"Cwt",get:function(){return this.Nyt.Zk.Cwt}},{key:"Pwt",get:function(){return this.Nyt.Zk.Pwt}},{key:"Dwt",get:function(){return this.Nyt.Zk.Dwt}},{key:"BH",get:function(){return this.Nyt.Zk.BH}},{key:"Nwt",get:function(){return this.Nyt.Zk.Nwt}},{key:"pw",get:function(){var t=(this.Nyt.Zk.Ik||this.Xq).split("/")[0];return"application"===t||"text"===t||"subtitle"===t||$y(this.Xq,this.Urt)?jg.wk:"video"===t?jg.lE:"audio"===t?jg.cE:"image"===t?jg.dE:jg.Qk}},{key:"ji",get:function(){return this.Nyt.Zk.ji||0}},{key:"Wtt",get:function(){return this.Nyt.Zk.gs||""}},{key:"Jdt",get:function(){return this.Iyt}},{key:"Qdt",get:function(){var t=this.Jdt,n=this.Pyt;if(void 0!==t&&void 0!==n){var i=k.min(n,this.ndt.zyt);return k.max(t,i)}}}]),n}(oU);function hU(t,n){for(var i=[],r=0;r<n.length;r++)for(var e=n[r],u=0;u<t.length;u++){var s=t[u];i.push(Kn.Ah(s,e))}return i}F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt(),F(),Tt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Rt(),F(),Tt(),Dt();var fU=function(){function t(t,n){this.Apt=t,this.fbt=n,this.RA=n.lN,this.lbt=n.hwt,this.wbt=n.gwt}var n=t.prototype;return n.Kyt=function(t){var n=t-this.Apt.Cn;if(!(n<0||n>=this.Apt.ct)){var i=this.jyt();return void 0!==i&&ur(i,n,1e-5)?this.Qyt():this.Jyt(n)}},n.$ct=function(t){var n=t-this.Apt.Cn;if(!(n<0))return this.$yt(k.min(n,this.Apt.ct))},n.Qyt=function(){return this.tbt(0)},n.ebt=function(){var t=this.Apt.ct;if(isFinite(t))return this.$yt(t)},n.Gyt=function(t){if(this.Apt.nbt.pw===xB._W){if(this.ibt){var n=this.Qyt(),i=this.rbt();if(void 0===n||void 0===i)return;return{obt:t,hbt:n,abt:i}}var r=this.ubt(t);if(!r)return;return{obt:t,hbt:this.cbt(t),abt:r}}var e=this.Qyt();if(e)return{obt:t,hbt:e,abt:this.ebt()}},n.Hyt=function(t,n){if(n){var i=this.rdt(n.hbt),r=this.olt(n.abt);if(r){var e=this.odt(r);(!i||e.getTime()<i.getTime())&&(i=e)}return i}var u=this.Qyt();if(u){var s=this.odt(u);if(t.getTime()<s.getTime())return s}var o=this.Apt.nbt.lyt;return t.getTime()<o.getTime()?o:void 0},n.ubt=function(t){var n=(t.getTime()-this.Apt.nbt.lyt.getTime())/1e3-this.Apt.Cn+this.lbt,i=this.$yt(er(n,0,this.Apt.ct));if(i&&(i=this.dbt(i,t))){for(var r=this.olt(i);r&&this._dt(r,t);)i=r,r=this.olt(i);return i}},n.cbt=function(t){var n,i=this.fbt.wwt;if(i){var r=(t.getTime()-this.Apt.nbt.lyt.getTime())/1e3-this.Apt.Cn-i.twt();(n=this.$yt(er(r,0,this.Apt.ct)))||(n=this.Qyt())}else n=this.Qyt();if(n&&(n=this.dbt(n,t))){for(var e=this.rlt(n);e&&this._dt(e,t);)n=e,e=this.rlt(n);return n}},n.dbt=function(t,n){for(var i=t;i&&this.odt(i).getTime()>n.getTime();)i=this.rlt(i);if(i){var r=this.rdt(i);if(r&&r.getTime()<=n.getTime()){var e=this.rlt(i);for(e&&this._dt(e,n)&&(i=e);i;){if(this.odt(i).getTime()>n.getTime())return;if(this._dt(i,n))break;i=this.olt(i)}if(!i)return}return i}},n._dt=function(t,n){if(this.ibt)return!0;if(this.odt(t).getTime()>n.getTime())return!1;var i=this.rdt(t);return!(i&&n.getTime()>=i.getTime())},n._bt=function(t,n){if(this.ibt)return!0;if(this.vbt(t).getTime()>n.getTime())return!1;var i=this.rdt(t);return!(i&&n.getTime()>=i.getTime())},n.mbt=function(t,n,i){var r=yr(n,this.RA)+this.Apt.Cn;return{Wut:t,gbt:n,LO:r,ct:i,BO:r+i}},n.vbt=function(t){return this.Apt.nbt.pw===xB._W?new Date(this.Apt.nbt.lyt.getTime()+1e3*(t.LO+t.ct)):this.Apt.nbt.lyt},n.odt=function(t){var n=this.vbt(t);return this.Apt.nbt.pw===xB._W?new Date(n.getTime()-1e3*this.lbt):n},n.rdt=function(t){var n=1/0;if(this.Apt.nbt.pw===xB._W){var i=this.fbt.wwt;i&&(n=this.vbt(t).getTime()+1e3*t.ct+i.ewt())}var r=this.Apt.nbt.cyt;return r&&(n=k.min(n,r.getTime())),n===1/0?void 0:new Date(n)},n.pbt=function(t,n){return t.Wut+n},n.tlt=function(t){return!1},n.ilt=function(t,n,i,r,e){var u=this.ybt(t);if(!u)return et.reject(new p("Invalid segment"));var s=this.bbt(u.Wut,n);return s?et.resolve(s):Fo(this.Abt(u.Wut,n,i,r),e)},n.bbt=function(t,n){},n.Abt=function(t,n,i,r){return et.reject(new p("Not supported"))},n.rlt=function(t){var n=this.ybt(t);if(n)return this.tbt(n.Wut-1)},n.olt=function(t){var n=this.ybt(t);if(n)return this.tbt(n.Wut+1)},n.ybt=function(t){var n=this.tbt(t.Wut);if(n&&n.LO===t.LO)return n;var i=this.Kyt(t.LO);return i&&i.LO===t.LO?i:void 0},n.Sbt=function(t,n){var i=this.slt(t);if(i&&this.tlt(i.Wut)){var r=this.bbt(i.Wut,n);if(r)return r.Sbt(t)}},n.slt=function(t){return this.tbt(t.Tbt)},n.zlt=function(t){var n=this.ybt(t);return!!n&&0===n.Wut},n.Zyt=function(t,n){var i=this.Sbt(t,n);return!!i&&0===i.Vut},n.qct=function(t){var n=this.ybt(t);if(!n)return!1;var i=this.ebt();return!!i&&n.Wut===i.Wut},n.Xyt=function(t,n){var i=this.Sbt(t,n);if(!i)return!1;var r=this.ebt();if(!r||i.Tbt!==r.Wut)return!1;var e=this.bbt(i.Tbt,n);return i.Vut+1===e.V},n.Ww=function(){},Nt(t,[{key:"ibt",get:function(){return this.Apt.nbt.sbt&&void 0!==this.rbt()}},{key:"PV",get:function(){return this.Apt.Cn-yr(this.wbt,this.RA)}},{key:"gwt",get:function(){return yr(this.wbt,this.RA)}}]),t}(),vU=function(t){function n(n,i){var r;r=t.call(this,i,n)||this;var e=n.Cbt,u=n.ct;if(void 0===e||void 0===u)throw new p("MultipleSegmentBase does not have a segment duration specified.");return r.kbt=e,r.xbt=u,r}It(n,t);var i=n.prototype;return i.tbt=function(t){if(!(t<0)){var n=this.kbt.multiply(t),i=yr(n,this.RA),r=this.Apt.ct;if(!(i>=r)){var e=this.Ebt();if(void 0!==e){if(t>e)return;if(t===e&&isFinite(r))return this.mbt(t,n,r-i)}return isFinite(r)&&i+this.xbt>r?this.mbt(t,n,r-i):this.mbt(t,n,this.xbt)}}},i.jyt=function(){return 0},i.Jyt=function(t){var n=k.floor(t/this.xbt),i=this.Ebt();return void 0!==i&&n>=i?this.tbt(i):this.tbt(n)},i.$yt=function(t){if(t>=this.Apt.ct){var n=k.ceil(this.Apt.ct/this.xbt)-1,i=this.Ebt();return void 0!==i&&n>=i?this.tbt(i):this.tbt(n)}return this.Jyt(t)},i.Ebt=function(){var t,n=this.fbt.Awt;if(void 0!==n)return n-(null!=(t=this.fbt.bwt)?t:1);var i=this.fbt.Rbt;return void 0!==i&&i>0?i-1:void 0},i.rbt=function(){if(isFinite(this.Apt.ct))return this.ebt()},i.Ibt=function(t,n){return this.kbt.multiply(t.Wut+(n-1))},i.Yn=function(){},n}(fU);function dU(t,n,i){var r=n.length;if(0===r)return-1;for(var e=0,u=r-1,s=t.Pbt(n[e]),o=t.Dbt(n[u]);e<=u&&t.Nbt(s,i)<=0&&t.Nbt(i,o)<0;){var a=e+k.floor(t.Mbt(i,s,o)*(u-e)),c=n[a],h=t.Pbt(c),f=a+1<r?t.Pbt(n[a+1]):t.Dbt(c);if(t.Nbt(f,i)<=0)e=a+1,s=f;else{if(!(t.Nbt(i,h)<0))return a;u=a-1,o=h}}return-1}function lU(t,n){return dU(gU.Lg,t,n)}F(),Tt(),Rt(),F(),Tt(),Dt(),F(),Tt();var gU=function(){function t(){}var n=t.prototype;return n.Pbt=function(t){return t.LO},n.Dbt=function(t){return t.BO},n.Nbt=function(t,n){return t.compare(n)},n.Mbt=function(t,n,i){return t.subtract(n).toNumber()/i.subtract(n).toNumber()},Nt(t,null,[{key:"Lg",get:function(){return null!=this.Wrt||(this.Wrt=new t),this.Wrt}}]),t}(),wU=.01,mU=function(t){function n(n,i){var r;return(r=t.call(this,i,n)||this).Lbt=[],r.Obt=void 0,r.ygt=tr.ZERO,r.Yn(),r}It(n,t);var i=n.prototype;return i.tbt=function(t){if(!(t<0))return t<this.Lbt.length?this.Lbt[t].Nut:this.Bbt(t-this.Lbt.length)},i.jyt=function(){if(this.Lbt.length>0)return yr(this.Lbt[0].LO,this.RA)},i.Jyt=function(t){if(this.Obt&&yr(this.Obt.LO,this.RA)<=t){var n=yr(this.Obt.LO,this.RA),i=yr(this.Obt.ct,this.RA),r=k.floor((t-n)/i);return this.Bbt(r)}if(this.Lbt.length>0&&ur(t,yr(this.Lbt[0].LO,this.RA),1e-5))return this.Lbt[0].Nut;var e=lU(this.Lbt,tr.fromNumber(t*this.RA));return e<0?void 0:this.Lbt[e].Nut},i.$yt=function(t){if(!this.Obt&&this.Lbt.length>0){var n=this.Lbt[this.Lbt.length-1];if(function(t,n,i){return uo(t,n,i)>=0}(t,yr(n.BO,this.RA),1e-5))return n.Nut}var i=this.jyt();return i&&t<i?this.Lbt[0].Nut:this.Jyt(t)},i.rbt=function(){return isFinite(this.Apt.ct)?this.ebt():this.tbt(this.Lbt.length-1)},i.Ibt=function(t){return this.Fbt(t)},i.Bbt=function(t){if(this.Obt){var n=this.Obt.LO,i=this.Obt.ct,r=n.add(i.multiply(t)),e=yr(r,this.RA),u=this.Apt.ct;if(!(e>=u)){var s=this.Lbt.length+t,o=k.min(yr(i,this.RA),e+u);return this.mbt(s,r,o)}}},i.Fbt=function(t){return t.gbt.add(this.wbt)},i.Yn=function(){var t=this.fbt.Zk.Not;if(!t)throw new p("MultipleSegmentBaseTO does not have a SegmentTimeline specified.");this.Vbt(t)},i.Vbt=function(t){var n=this.wbt;this.Wbt(t,n);var i=this.Ubt(t);this.Gbt(t,n,i.Hbt,i.Tbt)},i.Wbt=function(t,n){var i=this.Lbt;if(0===t.length)po(i);else{for(var r=t[0],e=0,u=yr(r.LO?tr.fromString(r.LO,!1).subtract(n):tr.ZERO,this.RA);e<i.length&&yr(i[e].LO,this.RA)<u-wU;)e++;e>0&&i.splice(0,e)}},i.Ubt=function(t){for(var n=this.Lbt,i=this.ygt,r=0,e=0;r<t.length&&e<n.length;){var u=t[r].uwt||0;if(u<0)break;var s=e+u;if(s>=n.length)break;if(n[s].LO.greaterThanOrEqual(i))break;if(n[e].Nut.Wut===e)e=s+1;else for(;e<=s;)n[e].Nut.Wut=e,e++;0,r++}return{Hbt:r,Tbt:e}},i.Gbt=function(t,n,i,r){for(var e,u=this.Lbt,s=i,o=r;s<t.length;){var a=t[s],c=tr.fromString(a.ct,!1),h=a.uwt||0,f=void 0;if(a.LO){if(f=tr.fromString(a.LO,!1).subtract(n),o>0){var v=u[o-1];v.BO.greaterThan(f)&&(v.ct=f.subtract(v.LO),v.BO=v.LO.add(v.ct))}}else f=o>0?u[o-1].BO:tr.ZERO;if(h<0){if(s+1===t.length){e={LO:f,ct:c};break}for(var d=tr.fromString(t[s+1].LO,!1).subtract(n);f.lessThan(d);){var l=f.add(c);this.Zbt(u,o,f,c,l),f=l,o++}}else for(var g=o+h;o<=g;){var w=f.add(c);this.Zbt(u,o,f,c,w),f=w,o++}s++}o<u.length&&u.splice(o),u.length>0&&(this.ygt=u[u.length-1].LO),this.Obt=e},i.Zbt=function(t,n,i,r,e){if(n<t.length){var u=t[n];u.ct.equals(r)?u.Nut.Wut=n:t[n]={LO:i,ct:r,BO:e,Nut:this.mbt(n,i,yr(r,this.RA))}}else t.push({LO:i,ct:r,BO:e,Nut:this.mbt(n,i,yr(r,this.RA))})},n}(fU);F(),Tt(),Dt();var yU=function(){function t(t,n,i){this.zbt=void 0,this.Ybt=void 0,this.Yct=t,this.Xbt=n,this.yp=i}var n=t.prototype;return n.qbt=function(){if(this.Ybt=this.Kbt(),this.Ybt)return this.Ybt;if(this.Xbt)return this.Xbt.Not;throw new p("Missing media segment information.")},n.Byt=function(t){var n=this.mwt;if(n)return{qu:(void 0!==n.awt?Kn.Ah(n.awt,t.Fwt[0]):t.Fwt[0]).href,iut:n.iut};var i=this.cwt;return i?{qu:t.Fwt[0].href,iut:[0,i[0]-1]}:void 0},n.Yn=function(t){this.yp=t,this.Ybt&&this.Ybt.Yn()},n.Ww=function(){this.Ybt&&(this.Ybt.Ww(),this.Ybt=void 0)},Nt(t,[{key:"Zk",get:function(){return this.yp}},{key:"hwt",get:function(){return this.yp&&void 0!==this.yp.hwt?this.yp.hwt:this.Xbt?this.Xbt.hwt:0}},{key:"gwt",get:function(){return this.yp&&void 0!==this.yp.gwt?this.yp.gwt:this.Xbt?this.Xbt.gwt:tr.ZERO}},{key:"wwt",get:function(){return this.yp&&void 0!==this.yp.wwt?this.yp.wwt:this.Xbt?this.Xbt.wwt:this.Yct.nbt.wwt}},{key:"lN",get:function(){return this.yp&&void 0!==this.yp.lN?this.yp.lN:this.Xbt&&this.Xbt.lN?this.Xbt.lN:1}},{key:"cwt",get:function(){return this.yp&&void 0!==this.yp.cwt?this.yp.cwt:this.Xbt?this.Xbt.cwt:void 0}},{key:"mwt",get:function(){return this.yp&&void 0!==this.yp.mwt?this.yp.mwt:this.Xbt?this.Xbt.mwt:void 0}},{key:"Not",get:function(){return this.zbt||(this.zbt=this.qbt()),this.zbt}}]),t}(),pU=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n.prototype.Kbt=function(){return void 0!==this.yp.Not?new mU(this,this.Yct):void 0!==this.yp.ct?new vU(this,this.Yct):void 0},Nt(n,[{key:"ct",get:function(){return void 0!==this.yp.ct?this.yp.ct/this.lN:this.Xbt&&_U(this.Xbt)?this.Xbt.ct:void 0}},{key:"Cbt",get:function(){return void 0!==this.yp.ct?tr.fromNumber(this.yp.ct):this.Xbt&&_U(this.Xbt)?this.Xbt.Cbt:void 0}},{key:"bwt",get:function(){return void 0!==this.yp.bwt?this.yp.bwt:this.Xbt&&_U(this.Xbt)?this.Xbt.bwt:void 0}},{key:"Awt",get:function(){return void 0!==this.yp.Awt?this.yp.Awt:this.Xbt&&_U(this.Xbt)?this.Xbt.Awt:void 0}}]),n}(yU);function _U(t){return t instanceof pU}F(),Tt();var bU=function(){function t(t){this.jbt=t}return t.prototype.Mb=function(t){return this.jbt.replace(/\$\$|\$(RepresentationID|Number|Bandwidth|Time)(?:%0(\d+)([diuxXo]))?\$/g,(function(n,i,r,e){if("$$"===n)return"$";var u=t[i];if(void 0===u)return n;if(void 0===r)return u.toString();var s=function(t,n){switch(n){case"d":case"i":case"u":return t.toString(10);case"x":return t.toString(16);case"X":return t.toString(16).toUpperCase();case"o":return t.toString(8);default:return}}(u,e);return void 0===s?n:s=Ws(s,Number(r),"0")}))},t}();var kU=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).Qbt=r.Bwt?new bU(r.Bwt):void 0,e.Jbt=r.Owt?new bU(r.Owt):void 0,e}It(n,t);var i=n.prototype;return i.Byt=function(n){var i=this.Bwt;if(!i)return t.prototype.Byt.call(this,n);var r=i.Mb({Bandwidth:n.Zk.mG,RepresentationID:n.Zk.o});return{qu:Kn.Kp(r,n.Fwt[0])}},i.clt=function(t,n){var i,r=null!=(i=n.Fyt.bwt)?i:1,e=this.Owt.Mb({Bandwidth:n.Zk.mG,Number:n.Not.pbt(t,r),RepresentationID:n.Zk.o,Time:n.Not.Ibt(t,r)});return{qu:Kn.Kp(e,n.Fwt[0])}},i.Uyt=function(t,n){},Nt(n,[{key:"Bwt",get:function(){return this.Qbt?this.Qbt:this.Xbt&&this.Xbt instanceof n?this.Xbt.Bwt:void 0}},{key:"Owt",get:function(){return this.Jbt?this.Jbt:this.Xbt&&this.Xbt instanceof n?this.Xbt.Owt:void 0}},{key:"Rbt",get:function(){}}]),n}(pU);F(),Tt(),Dt(),Rt();var AU=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.clt=function(t,n){var i=this.dwt[t.Wut],r=n.Fwt[0];return{qu:(i.gN?Kn.Ah(i.gN,r):r).href,iut:i.lwt}},i.Uyt=function(t,n){},Nt(n,[{key:"dwt",get:function(){return void 0!==this.yp.dwt?this.yp.dwt:this.Xbt&&this.Xbt instanceof n?this.Xbt.dwt:void 0}},{key:"Rbt",get:function(){var t;return null==(t=this.dwt)?void 0:t.length}}]),n}(pU);F(),Tt(),Dt(),Rt(),F(),Tt(),Gt(),Rt(),nn(),qt(),F(),Tt(),Dt(),Rt(),F(),Tt();var TU=function(){function t(){}return t.prototype.Sbt=function(t){var n=this.nlt(t.Vut);if(n&&n.LO===t.LO)return n;var i=this.$bt(t.LO);return i&&i.LO===t.LO?i:void 0},t}(),SU=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).Tbt=n,s.lN=i,s.sAt=r,s.gwt=e,s.tAt=u,s}It(n,t);var i=n.prototype;return i.nlt=function(t){if(t>=0&&t<this.V)return this.eAt(this.tAt[t])},i.$bt=function(t){var n=this.iAt(t);if(this.tAt.length>0){var i=this.tAt[0];if(n<=yr(i.LO,this.lN))return this.eAt(i)}var r=lU(this.tAt,tr.fromNumber(n*this.lN));if(!(r<0))return this.eAt(this.tAt[r])},i.elt=function(t){var n=this.iAt(t);if(this.tAt.length>0){var i=this.tAt[this.tAt.length-1];if(n>=yr(i.BO,this.lN))return this.eAt(i)}return this.$bt(t)},i.eAt=function(t){var n=yr(t.LO,this.lN)-this.gwt,i=n+this.sAt,r=yr(t.ct,this.lN);return{Tbt:this.Tbt,Vut:t.Wut,LO:i,gbt:tr.fromNumber(n*this.lN),ct:r,BO:i+r,nAt:[t.rAt,t.oAt]}},i.iAt=function(t){return t-this.sAt+this.gwt},Nt(n,[{key:"V",get:function(){return this.tAt.length}}]),n}(TU);F(),Tt(),F(),Tt(),F(),Tt();var EU=function(){function t(t){this.Zk=t,this.gD=new Ec}var n=t.prototype;return n.Gmt=function(){return this.gD.tc<this.Zk.byteLength},n.hAt=function(){var n,i=this.aAt(),r=this.uAt(),e=this.gD.tc,u=this.Zk.byteLength,s=e+(n=t.cAt(r)?u-e:t.lAt(r))<=u?n:u-e,o=Ua(this.Zk,this.gD,s);return new RU(i,pc(o))},n.aAt=function(){var t=this.uAt();if(t.length>7)throw new RangeError("Invalid EBML ID size");for(var n=0,i=0;i<t.length;i++)n=256*n+t[i];return n},n.uAt=function(){var t=Va(this.Zk,this.gD.Tb());if(0===t)throw new RangeError("EBML variable sized integer is invalid");var n=8-(31-Ia(t));return Kn.Bp(n<=8&&n>=1,"Incorrect log2 value"),Ua(this.Zk,this.gD,n)},t.lAt=function(t){if(8===t.length&&224&t[1])throw new _("EBML variable sized integer is too large");for(var n=0,i=0;i<t.length;i++){var r=t[i];if(0===i)n=r&(1<<8-t.length)-1;else n=256*n+r}return n},t.cAt=function(t){for(var n=0;n<IU.length;n++){var i=IU[n];if(Pc(t,new E(i)))return!0}return!1},t}(),IU=[[255],[127,255],[63,255,255],[31,255,255,255],[15,255,255,255,255],[7,255,255,255,255,255],[3,255,255,255,255,255,255],[1,255,255,255,255,255,255,255]],RU=function(){function t(t,n){this.id=t,this.fAt=n}var n=t.prototype;return n.dAt=function(){return this.fAt.byteOffset},n._At=function(){return new EU(this.fAt)},n.vAt=function(){var t=this.fAt.byteLength;if(t>8)throw new RangeError("EMBL integer field size is too large");if(8===t&&224&this.fAt.getUint8(0))throw new RangeError("EMBL integer field value is too large");for(var n=0,i=0;i<t;i++){n=256*n+this.fAt.getUint8(i)}return n},n.pQ=function(){if(4===this.fAt.byteLength)return this.fAt.getFloat32(0);if(8===this.fAt.byteLength)return this.fAt.getFloat64(0);throw new RangeError("Invalid size for EMBL floating-point field")},t}();function CU(t,n){var i=function(t){var n=new EU(pc(t)),i=n.hAt();if(i.id!==DU)throw new _("Missing WebM EBML header");var r=n.hAt();if(r.id!==PU)throw new _("Missing WebM SegmentElement");var e=r.dAt(),u=function(t){var n,i=t._At();for(;i.Gmt();){var r=i.hAt();if(r.id===xU){n=r;break}}if(!n)throw new _("Missing WebM InfoElement");return function(t){var n,i=t._At(),r=1e6;for(;i.Gmt();){var e=i.hAt();e.id===LU?r=e.vAt():e.id===MU&&(n=e.pQ())}if(void 0===n)throw new _("Missing Duration in WebM InfoElement");var u=r/1e9,s=n*u;return{timecodeScale:u,duration:s}}(n)}(r);return{segmentOffset:e,timecodeScale:u.timecodeScale,duration:u.duration}}(n),r=new EU(pc(t)).hAt();if(r.id!==OU)throw new _("Missing WebM CuesElement");var e=function(t,n,i,r){var e,u,s=[],o=t._At();for(;o.Gmt();){var a=o.hAt();if(a.id===BU){var c=NU(a);if(c){var h=c.unscaledTime,f=n+c.relativeOffset;void 0!==e&&s.push({Wut:s.length,LO:e,ct:h.subtract(e),BO:h,rAt:u,oAt:f-1}),e=h,u=f}}}if(void 0!==e){0;var v=tr.fromNumber(r/i);s.push({Wut:s.length,LO:e,ct:v.subtract(e),BO:v,rAt:u,oAt:void 0})}return s}(r,i.segmentOffset,i.timecodeScale,i.duration);return{lN:k.round(1/i.timecodeScale),mAt:e}}function NU(t){var n=t._At(),i=n.hAt();if(i.id!==VU)throw new _("Missing CueTime in WebM CuePointElement");var r=tr.fromNumber(i.vAt()),e=n.hAt();if(e.id!==FU)throw new _("Missing CueTrackPositions in WebM CuePointElement");for(var u=e._At(),s=0;u.Gmt();){var o=u.hAt();if(o.id===UU){s=o.vAt();break}}return{unscaledTime:r,relativeOffset:s}}var DU=440786851,PU=408125543,xU=357149030,LU=2807729,MU=17545,OU=475249515,BU=187,VU=179,FU=183,UU=241,WU=function(t){function n(n,i){var r;return(r=t.call(this,i,n)||this).yAt=ns(),r.bAt=ns(),r.AAt=new Ho,r.wAt=n.cwt,r.gAt=r.mbt(0,tr.ZERO,r.Apt.ct),r}It(n,t);var i=n.prototype;return i.tbt=function(t){if(0===t)return this.gAt},i.jyt=function(){return 0},i.Jyt=function(t){return this.gAt},i.$yt=function(t){return this.Jyt(t)},i.rbt=function(){return this.gAt},i.Ibt=function(t,n){return tr.ZERO},i.Gyt=function(t){var n=this.pAt(t);return n&&{obt:t,hbt:n,abt:n}},i.pAt=function(t){var n=this.gAt;return this._dt(n,t)?n:void 0},i.ubt=function(t){return this.pAt(t)},i.cbt=function(t){return this.pAt(t)},i.Yn=function(){},i.tlt=function(t){return 0===t&&void 0!==this.wAt},i.bbt=function(t,n){var i=n.Fwt[0].href;return this.yAt.get(i)},i.Abt=function(t,n,i,r){var e=n.Fwt[0].href,u=this.bAt.get(e);if(void 0===u){var s=n.Xq,o=this.AAt.Bw;if(Nv(s))u=this.SAt(t,e,i,r,o);else{if(!Dv(s))throw new td(Qv.MEDIA_NOT_SUPPORTED,"Unsupported MIME type for segment index: "+s);u=this.TAt(t,e,n,i,r,o)}this.bAt.set(e,u)}return u},i.SAt=function(t,n,i,r,e){var u=this;return Zt((function(){var s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return s=u.wAt,[4,r.xlt(n,s,i,e)];case 1:return o=c.sent(),a=u.kAt(t,o),u.yAt.set(n,a),[2,a]}}))}))()},i.kAt=function(t,n){var i=this.wAt,r=ay.OD(new DataView(n),new Ec);if(r.pw!==ty.lD)throw new p("Invalid segment index");var e=dy.sN(r.Zk),u=function(t,n){for(var i=[],r=t.xL,e=n+t.RL.toNumber(),u=0,s=0,o=t.CL;s<o.length;s++){var a=o[s],c=a.AL,h=tr.fromNumber(a.ct),f=r.add(h);0===a.bL&&i.push({Wut:u++,LO:r,ct:h,BO:f,rAt:e,oAt:e+c-1}),e+=c,r=f}return i}(e,i[1]+1);return new SU(t,e.lN,this.Apt.Cn,yr(this.wbt,this.RA),u)},i.TAt=function(t,n,i,r,e,u){var s=this;return Zt((function(){var o,a,c,h,f,v,d,l;return Ht(this,(function(g){switch(g.label){case 0:return o=i.Byt(),a=s.wAt,c=e.xlt(o.qu,o.iut,r,u),h=e.xlt(n,a,r,u),[4,et.all([c,h])];case 1:return f=tn.apply(void 0,[g.sent(),2]),v=f[0],d=f[1],l=s.EAt(t,d,v),s.yAt.set(n,l),[2,l]}}))}))()},i.EAt=function(t,n,i){var r=CU(new E(n),new E(i));return new SU(t,r.lN,this.Apt.Cn,yr(this.wbt,this.RA),r.mAt)},i.Ww=function(){t.prototype.Ww.call(this),this.AAt.Xw()},n}(fU),ZU=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.clt=function(t,n){return{qu:n.Fwt[0].href}},i.Uyt=function(t,n){return{qu:n.Fwt[0].href,iut:t.nAt}},i.Kbt=function(){return new WU(this,this.Yct)},Nt(n,[{key:"bwt",get:function(){}}]),n}(yU);F(),Tt(),Rt();var XU=function(t){function n(){return t.call(this,eO.Jht)||this}return It(n,t),n}(ea);F(),Tt();var GU=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).fbt=void 0,e.LAt=1/0,e.PAt=void 0,e.QE=i,e.CAt(n,r),e}It(n,t);var i=n.prototype;return i.RAt=function(){var t,n;return null!=(n=this.fbt)?n:null==(t=this.QE)?void 0:t.RAt()},i.IAt=function(t){var n=this.Yct,i=this.QE&&this.QE.RAt();this.yp.Uwt?this.fbt=new kU(n,i,this.yp.Uwt):this.yp.Wwt?this.fbt=new AU(n,i,this.yp.Wwt[0]):this.yp.Vwt?this.fbt=new ZU(n,i,this.yp.Vwt):t&&!i&&(this.fbt=new ZU(n,i,void 0))},i.CAt=function(t,n){this.yp=t,this.xAt=t.Fwt&&t.Fwt.length>0?hU(t.Fwt.map((function(t){return t.qu})),n):n.slice(),this.fbt&&(t.Uwt?this.fbt.Yn(t.Uwt):t.Wwt?this.fbt.Yn(t.Wwt[0]):t.Vwt&&this.fbt.Yn(t.Vwt))},i.Cyt=function(){var t;return null==(t=this.PAt)?void 0:t.DAt},i.Hyt=function(){var t;return null==(t=this.PAt)?void 0:t.NAt},i.MAt=function(t){var n=this.LAt,i=this.Yct.ct,r=this.PAt,e=this.BAt(t);r&&ur(i,n,1e-5)&&jU(r,e)||(this.LAt=i,this.PAt=e,this.yo(new XU))},i.Ww=function(){this.Bo(),this.fbt&&(this.fbt.Ww(),this.fbt=void 0)},Nt(n,[{key:"Zk",get:function(){return this.yp}},{key:"Fwt",get:function(){return this.xAt}}]),n}(na);function HU(t){for(var n,i=0;i<t.length;i++){var r=t[i].Cyt();if(r){n=r.Cn;break}}if(void 0!==n){for(var e,u=t.length-1;u>=0;u--){var s=t[u].Cyt();if(s){e=s.jn;break}}if(void 0!==e)return{Cn:n,jn:e}}}function zU(t){if(0!==t.length){for(var n=0,i=1/0,r=0;r<t.length;r++){var e=t[r].Cyt();if(!e)return;if((n=k.max(n,e.Cn))>=(i=k.min(i,e.jn)))return}return{Cn:n,jn:i}}}function YU(t){for(var n,i=0;i<t.length;i++){var r=t[i].Hyt();r&&(!n||r.getTime()<n.getTime())&&(n=r)}return n}function jU(t,n){return function(t,n){return t&&n?t.getTime()===n.getTime():t===n}(t.NAt,n.NAt)&&function(t,n){return t&&n?ur(t.Cn,n.Cn,1e-5)&&ur(t.jn,n.jn,1e-5):t===n}(t.DAt,n.DAt)}var KU=function(t){function n(n,i,r){var e;(e=t.call(this)||this).Apt=n,e.US=i,e.OAt=r.slice();for(var u=0;u<r.length;u++){r[u].yn(eO.Jht,e.Dyt)}return e}It(n,t);var i=n.prototype;return i.Cyt=function(){return zU(this.OAt)},i.Hyt=function(){for(var t,n=0,i=this.OAt;n<i.length;n++){var r=i[n].Hyt();r&&(!t||r.getTime()<t.getTime())&&(t=r)}return t},i.gn=function(){this.Bo();for(var t=0,n=this.OAt;t<n.length;t++){n[t].fn(eO.Jht,this.Dyt)}},Nt(n,[{key:"oft",get:function(){return this.OAt}},{key:"Urt",get:function(){return this.oft.reduce((function(t,n){for(var i=0,r=n.Urt;i<r.length;i++){var e=r[i];mo(t,e)||t.push(e)}return t}),[])}},{key:"dp",get:function(){return this.Urt.length>0?this.Urt[0]:""}},{key:"pw",get:function(){return this.OAt[0].pw}},{key:"o",get:function(){return this.US}},{key:"ndt",get:function(){return this.Apt.ndt}},{key:"Xq",get:function(){return this.OAt[0].Xq}},{key:"Yct",get:function(){return this.Apt}},{key:"Uat",get:function(){return bo(this.oft,(function(t){return t.Uat}))}}]),n}(oU);F(),Tt(),Rt();var qU=function(t){function n(){return t.call(this,eO.eat)||this}return It(n,t),n}(ea);function JU(t){for(var n=function(n){var r=t[n],e=void 0,u=r.Edt;void 0===u||(e=ao(i,(function(t){return t.o===u}))),e||(e={o:u,oft:[]},i.push(e)),e.oft.push(r)},i=[],r=0;r<t.length;r++)n(r);return i}F(),Tt();var QU=function(t){function n(n,i){var r;return(r=t.call(this)||this).OAt=[],r.FAt=[],r.VAt=!1,r.WAt=n,r.Nyt=i,r.Nyt.yn(eO.Jht,r.Dyt),r}It(n,t);var i=n.prototype;return i.ZAt=function(t,n){if(0!==this.FAt.length){for(var i=t,r=0,e=this.FAt;r<e.length;r++){var u=e[r];if(Kg(u.pw)){var s=u.Pyt;if(void 0===s)return;i=n(i,s)}}return i}},i.zAt=function(){this.VAt||(this.VAt=!0,this.yo(new qU),this.gn())},i.Yn=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return 0!==i.OAt.length?[3,2]:[4,i.qAt(i.Nyt.oft,t,n)];case 1:return r.sent(),i.YAt(i.OAt),Oo(n),[3,4];case 2:return[4,i.KAt(t,n)];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))()},i.qAt=function(t,n,i){var r=this;return Zt((function(){var e,u,s;return Ht(this,(function(o){switch(o.label){case 0:e=0,o.label=1;case 1:if(!(e<t.length))return[3,6];u=t[e],s=new cU(r,u),o.label=2;case 2:return o.trys.push([2,4,,5]),[4,s.Yn(n,i)];case 3:return o.sent(),r.OAt.push(s),[3,5];case 4:return Bo(o.sent()),[3,5];case 5:return e++,[3,1];case 6:return[2]}}))}))()},i.YAt=function(t){for(var n=JU(t),i=0;i<n.length;i++){var r=n[i],e=new KU(this,r.o,r.oft);this.FAt.push(e)}},i.KAt=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:r=0,e=i.OAt,u.label=1;case 1:return r<e.length?[4,e[r].Yn(t,n)]:[3,4];case 2:u.sent(),u.label=3;case 3:return r++,[3,1];case 4:return[2]}}))}))()},i.Cyt=function(){return this.Nyt.Cyt()},i.Hyt=function(){return this.Nyt.Hyt()},i.gn=function(){this.Bo(),this.Nyt.fn(eO.Jht,this.Dyt);for(var t=0,n=this.FAt;t<n.length;t++){n[t].gn()}for(var i=0,r=this.OAt;i<r.length;i++){r[i].gn()}po(this.OAt),po(this.FAt)},Nt(n,[{key:"oft",get:function(){return this.OAt}},{key:"bpt",get:function(){return this.FAt}},{key:"oyt",get:function(){return this.Nyt.Zk.oyt}},{key:"ct",get:function(){return this.Nyt.ct}},{key:"jn",get:function(){return this.Cn+this.ct}},{key:"hyt",get:function(){return this.Nyt.Zk.hyt||[]}},{key:"o",get:function(){return this.Nyt.o}},{key:"iat",get:function(){return this.VAt}},{key:"ndt",get:function(){return this.WAt}},{key:"jpt",get:function(){return this.WAt.UAt(this)}},{key:"Yct",get:function(){return this}},{key:"Kpt",get:function(){return this.WAt.GAt(this)}},{key:"HAt",get:function(){return this.ZAt(1/0,k.min)}},{key:"XAt",get:function(){return this.ZAt(0,k.max)}},{key:"Cn",get:function(){return this.Nyt.Cn}},{key:"AE",get:function(){return this.ndt.AE}}]),n}(oU);F(),Tt(),Rt();var $U=function(t){function n(){return t.call(this,ua.Oy)||this}return It(n,t),n}(ea);F(),Tt(),Rt(),F(),Tt();var tW=function(t){return t.jAt="QAt",t}({}),nW=function(t){function n(){return t.call(this,tW.jAt)||this}return It(n,t),n}(ea);F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt();var iW=function(t){function n(n,i){var r;return(r=t.call(this,n,i,i.Fwt)||this).JAt=void 0,r.Dat=i,r.IAt(!0),r}It(n,t);var i=n.prototype;return i.tlt=function(t){var n=this.Xq;return!(!Nv(n)&&!Dv(n))&&this.Not.tlt(t.Wut)},i.ilt=function(t,n,i,r){return this.Not.ilt(t,this,n,i,r)},i.Byt=function(){return this.Fyt.Byt(this)},i.clt=function(t){return this.Fyt.clt(t,this)},i.Uyt=function(t){return this.Fyt.Uyt(t,this)},i.Gyt=function(){return this.JAt},i.BAt=function(t){var n=this.Not,i=n.Gyt(t),r=i&&function(t,n){var i,r=t.hbt,e=t.abt,u=t.obt,s=r.LO,o=n.vbt(e);if(o.getTime()<=u.getTime())i=e.BO;else{var a=(o.getTime()-u.getTime())/1e3,c=k.max(e.ct-a,0);i=e.LO+c}return{Cn:s,jn:i}}(i,n),e=this.Not.Hyt(t,i);return this.JAt=i,{obt:t,DAt:r,NAt:e}},i.Yn=function(t){this.CAt(t,this.Dat.Fwt)},Nt(n,[{key:"lct",get:function(){return this.Dat}},{key:"Yct",get:function(){return this.Dat.Yct}},{key:"nbt",get:function(){return this.Dat.nbt}},{key:"Xq",get:function(){return this.yp.Xq||this.Dat.Xq}},{key:"Fyt",get:function(){return this.RAt()}},{key:"Not",get:function(){return this.Fyt.Not}}]),n}(GU),rW=function(t){function n(n,i){var r;return(r=t.call(this,n,i,i.Fwt)||this).Apt=i,r.IAt(!1),r.Pdt=n.Uat.map((function(t){return new iW(t,r)})),r}It(n,t);var i=n.prototype;return i.Yn=function(t){this.CAt(t,this.Apt.Fwt);var n=t.Uat||[];if(this.Pdt.length!==n.length)throw new p("Expected "+this.Pdt.length+' representations in adaptation set "'+t.o+'", found '+n.length);for(var i=0;i<n.length;i++)this.Pdt[i].Yn(n[i])},i.MAt=function(n){for(var i=0,r=this.Pdt;i<r.length;i++){r[i].MAt(n)}t.prototype.MAt.call(this,n)},i.BAt=function(t){return{obt:t,DAt:zU(this.Pdt),NAt:YU(this.Pdt)}},i.Ww=function(){for(var n=0,i=this.Pdt;n<i.length;n++){i[n].Ww()}t.prototype.Ww.call(this)},Nt(n,[{key:"Uat",get:function(){return this.Pdt}},{key:"Yct",get:function(){return this.Apt}},{key:"nbt",get:function(){return this.Apt.nbt}},{key:"Edt",get:function(){return this.yp.Edt}},{key:"Xq",get:function(){var t;return this.yp.Xq||(null==(t=this.Pdt[0])?void 0:t.Zk.Xq)||""}},{key:"kwt",get:function(){return this.Zk.kwt}},{key:"Ewt",get:function(){return this.Zk.Ewt}}]),n}(GU),eW=function(t){function n(n,i,r,e){var u;return(u=t.call(this,i,void 0,n.Fwt)||this).FAt=[],u.$At=n,u.XV=r,u.IA=e,u.IAt(!1),u.OAt=(i.oft||[]).map((function(t){return new rW(t,u)})),u.FAt=JU(u.OAt),u}It(n,t);var i=n.prototype;return i.Yn=function(t,n){this.CAt(t,this.$At.Fwt),this.IA=n;var i=t.oft||[];if(this.OAt.length!==i.length)throw new p("Expected "+this.OAt.length+' adaptation sets in period "'+t.o+'", found '+i.length);for(var r=0;r<i.length;r++)this.OAt[r].Yn(i[r])},i.MAt=function(n){for(var i=0,r=this.OAt;i<r.length;i++){r[i].MAt(n)}t.prototype.MAt.call(this,n)},i.BAt=function(t){return{obt:t,DAt:zU(this.OAt),NAt:YU(this.OAt)}},i.Ww=function(){for(var n=0,i=this.OAt;n<i.length;n++){i[n].Ww()}t.prototype.Ww.call(this)},Nt(n,[{key:"oft",get:function(){return this.OAt}},{key:"bpt",get:function(){return this.FAt}},{key:"Yct",get:function(){return this}},{key:"nbt",get:function(){return this.$At}},{key:"o",get:function(){return this.yp.o}},{key:"Cn",get:function(){return this.XV}},{key:"ct",get:function(){return this.IA}}]),n}(GU);F(),Tt(),Dt();var uW=function(){function t(t){this.eSt=t}return Nt(t,[{key:"tSt",get:function(){return this.eSt.uyt.rV}},{key:"iSt",get:function(){return this.eSt.uyt.nV}},{key:"sSt",get:function(){return this.eSt.uyt.ayt}},{key:"nSt",get:function(){var t;return null==(t=this.eSt.zR)?void 0:t.rV}},{key:"rSt",get:function(){var t;return null==(t=this.eSt.zR)?void 0:t.rV}}]),t}(),sW=new Date("2000-01-01"),oW=function(t){function n(n,i,r,e,u){var s;if((s=t.call(this)||this).PAt=void 0,s.aSt=void 0,s.oSt=void 0,s.cSt=[],s._St=i,s.hSt=u,s.Yn(n,r,e),n.pw===xB._W){var o=s.rbt();o&&o.cyt&&o.cyt.getTime()<sW.getTime()&&(s.oSt=new Date(s.wyt.getTime()-1e3*(o.Nut.LO+o.Nut.ct)),s.MAt(e))}return s}It(n,t);var i=n.prototype;return i.Cyt=function(){var t;return null==(t=this.PAt)?void 0:t.DAt},i.Hyt=function(){var t;return null==(t=this.PAt)?void 0:t.NAt},i.Yn=function(t,n,i,r){var e,u=void 0!==this.yp&&this.yp.pw===xB._W;this.yp=t,this.dSt=null!=r?r:i,this.An=i;var s=[pl(n)];this.xAt=t.Fwt&&t.Fwt.length>0?hU(t.Fwt.map((function(t){return t.qu})),s):s,this.uSt=t.dyt&&t.dyt.length>0?hU(t.dyt,this.xAt):[];var o=this.uSt.map((function(t){return t.href})),a=n.href;mo(o,a)||(this.uSt.push(n),o.push(a));var c=this._St.href;mo(o,c)||(this.uSt.push(this._St),o.push(c)),this.aSt=null==(e=t.myt)?void 0:e.twt(),t.Ayt&&(this.eSt=new uW(t.Ayt));var h=t.pw===xB._W,f=function(t,n,i){for(var r=[],e=0;e<t.length;e++){var u=t[e],s=void 0;if(u.Cn)s=u.Cn.twt();else if(e>0&&t[e-1].ct){s=r[e-1]+t[e-1].ct.twt()}else{if(0!==e||n)break;s=0}r.push(s)}for(var o=[],a=0;a<r.length-1;a++)o.push({Zk:t[a],Cn:r[a],ct:r[a+1]-r[a]});if(r.length>0){var c=r.length-1,h=t[c],f=r[c],v=1/0;n||(v=h.ct?h.ct.twt():i-f),o.push({Zk:h,Cn:f,ct:v})}return o}(t.Dpt,h,this.aSt);this.vSt(f,u,h),this.MAt(i)},i.vSt=function(t,n,i){var r=this.cSt;if(0!==t.length){for(var e=t[0].Zk.o,u=0;u<r.length&&r[u].o!==e;)u++;for(var s=r.splice(0,u),o=0;o<s.length;o++){s[o].Ww()}if(n&&!i&&r.length>0&&t.length>0){var a,c,h=null!=(a=aW(r[0].Zk))?a:am.xF,f=null!=(c=aW(t[0].Zk))?c:am.xF;if(f.cF(h)){var v=f.yF(h);void 0!==this.aSt&&(this.aSt+=v.uF());for(var d=0;d<t.length;d++){var l=t[d];if(d<r.length){var g=r[d];l.Cn=g.Cn,dW(l.Zk,g.Zk)}d===t.length-1&&(l.ct+=v.uF())}}}for(var w=0;w<t.length;w++){var m=t[w];if(w<r.length){var y=r[w];0,y.Yn(m.Zk,m.ct)}else r.push(new eW(this,m.Zk,m.Cn,m.ct))}}else po(r)},i.MAt=function(t){for(var n=0,i=this.cSt;n<i.length;n++){i[n].MAt(t)}var r=this.PAt,e=this.BAt(t);r&&jU(r,e)||(this.PAt=e,this.yo(new XU))},i.BAt=function(t){return{obt:t,DAt:HU(this.cSt),NAt:YU(this.cSt)}},i.rbt=function(){if(0!==this.cSt.length){var t=this.cSt[this.cSt.length-1];if(!isFinite(t.ct)&&0!==t.oft.length){var n=t.oft[0];if(0!==n.Uat.length){var i=n.Uat[0].Not,r=i.rbt();if(r)return{Nut:r,cyt:i.rdt(r)}}}}},i.Ww=function(){this.Bo();for(var t=0,n=this.cSt;t<n.length;t++){n[t].Ww()}},Nt(n,[{key:"Zk",get:function(){return this.yp}},{key:"pw",get:function(){return this.yp.pw||xB.fW}},{key:"lyt",get:function(){return this.oSt||this.yp.lyt||this.wyt}},{key:"cyt",get:function(){return this.yp.cyt}},{key:"sbt",get:function(){var t,n;return null!=(n=null==(t=this.hSt)?void 0:t.ignoreAvailabilityWindow)&&n}},{key:"myt",get:function(){return this.aSt}},{key:"Fwt",get:function(){return this.xAt}},{key:"dyt",get:function(){return this.uSt}},{key:"Dpt",get:function(){return this.cSt}},{key:"wyt",get:function(){return this.yp.wyt||this.An}},{key:"wwt",get:function(){return this.yp.wwt}},{key:"lSt",get:function(){return this.dSt}},{key:"fSt",get:function(){return this.An}},{key:"Ayt",get:function(){return this.eSt}}]),n}(na);function aW(t){for(var n,i,r=fW(t),e=0,u=null!=(n=t.oft)?n:[];e<u.length;e++){r=hm(r,cW(u[e]))}for(var s=0,o=null!=(i=t.hyt)?i:[];s<o.length;s++){r=hm(r,vW(o[s]))}return r}function cW(t){for(var n=fW(t),i=0,r=t.Uat;i<r.length;i++){n=hm(n,hW(r[i]))}return n}function hW(t){return fW(t)}function fW(t){var n;if(void 0!==t.Uwt&&(n=hm(n,vW(t.Uwt))),void 0!==t.Vwt&&(n=hm(n,vW(t.Vwt))),void 0!==t.Wwt)for(var i=0,r=t.Wwt;i<r.length;i++){n=hm(n,vW(r[i]))}return n}function vW(t){var n,i;return am.TF(null!=(n=t.gwt)?n:tr.ZERO,null!=(i=t.lN)?i:1)}function dW(t,n){if(wW(t,n),t.Cn=n.Cn,void 0!==t.oft&&void 0!==n.oft&&t.oft.length===n.oft.length)for(var i=0;i<t.oft.length;i++)lW(t.oft[i],n.oft[i]);if(void 0!==t.hyt&&void 0!==n.hyt&&t.hyt.length===n.hyt.length)for(var r=0;r<t.hyt.length;r++)mW(t.hyt[r],n.hyt[r])}function lW(t,n){if(wW(t,n),void 0!==t.Uat&&void 0!==n.Uat&&t.Uat.length===n.Uat.length)for(var i=0;i<t.Uat.length;i++)gW(t.Uat[i],n.Uat[i])}function gW(t,n){wW(t,n)}function wW(t,n){if(void 0!==t.Uwt&&void 0!==n.Uwt&&mW(t.Uwt,n.Uwt),void 0!==t.Vwt&&void 0!==n.Vwt&&mW(t.Vwt,n.Vwt),void 0!==t.Wwt&&void 0!==n.Wwt&&t.Wwt.length===n.Wwt.length)for(var i=0;i<t.Wwt.length;i++)mW(t.Wwt[i],n.Wwt[i])}function mW(t,n){t.lN=n.lN,t.gwt=n.gwt}F(),Tt(),Gt(),qt();var yW=function(){function t(t,n,i){this.aW=t,this.gSt=n,this.pSt=i,this.wSt=0}var n=t.prototype;return n.bj=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.mSt(t,n.aW,n.gSt,n.pSt).catch(Vo)];case 1:return i.sent(),[2]}}))}))()},n.sdt=function(){return new Date(dr()+this.wSt)},n.mSt=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return r?[4,e.ySt(n,r,i)]:[3,2];case 1:u=a.sent(),a.label=2;case 2:if(void 0!==u)return[3,6];Oo(i),s=0,a.label=3;case 3:return s<t.length?(o=t[s],[4,e.bSt(n,o,i)]):[3,6];case 4:if(void 0!==(u=a.sent()))return[3,6];a.label=5;case 5:return s++,[3,3];case 6:return e.wSt=void 0===u?0:u-dr(),[2]}}))}))()},n.bSt=function(t,n,i){var r=this;return Zt((function(){var e,u,s;return Ht(this,(function(o){switch(o.label){case 0:switch(n.J6){case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2012":case"urn:mpeg:dash:utc:http-iso:2014":return[3,1];case"urn:mpeg:dash:utc:direct:2012":case"urn:mpeg:dash:utc:direct:2014":return[3,4]}return[3,5];case 1:return(e=n.Ix)?[4,r.ySt(t,e,i)]:[3,3];case 2:return[2,o.sent()];case 3:return[3,6];case 4:return(u=n.Ix)&&(s=new Date(u).getTime(),!S(s))?[2,s]:[3,6];case 5:case 6:return[2]}}))}))()},n.ySt=function(t,n,i){return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),[4,t.zk({qu:n,gE:ul.GET,Xk:Sd.wk,Bw:i})];case 1:return[4,u.sent().Tk()];case 2:return r=u.sent(),e=new Date(r).getTime(),S(e)?[3,4]:[2,e];case 3:return Bo(u.sent()),[3,4];case 4:return[2]}}))}))()},t}(),pW=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).Nyt=void 0,s.kSt=!0,s.cSt=[],s.LSt=void 0,s.PSt=n,s.TSt=n.MC,s.MSt=i,s.aW=r,s.BSt=e,s.NSt=new yW(s.aW,s.BSt,s.PSt.OSt),s.hSt=u,s}It(n,t);var i=n.prototype;return i.ESt=function(t){var n=this.GR;this.kSt=t,n!==this.GR&&this.yo(new nW)},i.Yn=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h,f,v,d,l,g;return Ht(this,(function(w){switch(w.label){case 0:return u=[],s=[],o=t.fyt?Kn.Ah(t.fyt,r.TSt):r.TSt,void 0!==r.Nyt?[3,2]:[4,r.NSt.bj(t.byt)];case 1:return w.sent(),r.Nyt=new oW(t,r.TSt,o,r.sdt(),r.hSt),r.Nyt.yn(eO.Jht,r.Ds),[3,3];case 2:r.Nyt.Yn(t,o,r.sdt(),n),w.label=3;case 3:if(0===(a=r.Nyt.Dpt).length)c=r.cSt.slice(),po(r.cSt);else{for(h=a[0].o,f=0;f<r.cSt.length&&r.cSt[f].o!==h;)f++;for(c=r.cSt.splice(0,f),v=0;v<a.length;v++)d=a[v],l=void 0,v<r.cSt.length?l=r.cSt[v]:(l=new QU(r,d),u.push(l)),s.push(l.Yn(r.MSt,i))}return[4,et.all(s)];case 4:for(w.sent(),(e=r.cSt).push.apply(e,Ft(u)),g=0;g<c.length;g++)c[g].zAt();return r.yo(new $U),[2]}}))}))()},i.sdt=function(){return this.NSt.sdt()},i.GAt=function(t){var n=this.cSt.indexOf(t);if(n>0)return this.cSt[n-1]},i.UAt=function(t){var n=this.cSt.indexOf(t);if(n>=0&&n+1<this.cSt.length)return this.cSt[n+1]},i.Cyt=function(){return this.Nyt?this.Nyt.Cyt():void 0},i.Hyt=function(){return this.Nyt&&this.Nyt.Hyt()},i.MAt=function(t){this.Nyt&&this.Nyt.MAt(t)},i.gn=function(){this.Bo(),this.LSt=void 0,this.ESt(!1);for(var t=0,n=this.cSt;t<n.length;t++){n[t].gn()}po(this.cSt),this.Nyt&&this.Nyt.Ww()},Nt(n,[{key:"cyt",get:function(){return this.Nyt&&this.Nyt.cyt}},{key:"lyt",get:function(){return this.Nyt&&this.Nyt.lyt}},{key:"sbt",get:function(){return this.Nyt&&this.Nyt.sbt}},{key:"o",get:function(){return this.Nyt&&this.Nyt.Zk.o}},{key:"lSt",get:function(){var t;return null==(t=this.Nyt)?void 0:t.lSt}},{key:"ASt",get:function(){var t;return null==(t=this.Nyt)?void 0:t.fSt}},{key:"dyt",get:function(){return this.Nyt?this.Nyt.dyt.map((function(t){return t.href})):[this.SSt]}},{key:"SSt",get:function(){return this.TSt.href}},{key:"_yt",get:function(){return this.Nyt&&this.Nyt.Zk._yt}},{key:"vyt",get:function(){return this.Nyt&&this.Nyt.Zk.vyt}},{key:"myt",get:function(){return this.Nyt&&this.Nyt.Zk.myt}},{key:"gyt",get:function(){return this.Nyt&&this.Nyt.Zk.gyt}},{key:"pyt",get:function(){var t,n,i=(null==(n=this.Nyt)||null==(t=n.Zk.pyt)?void 0:t.ewt())||0;return k.max(i,bW)}},{key:"GR",get:function(){return this.kSt}},{key:"Dpt",get:function(){return this.cSt}},{key:"xSt",get:function(){return this.pw===xB._W?this.zyt:this.RSt}},{key:"ISt",get:function(){var t=this.xSt;if(void 0!==t)for(var n=0,i=this.Dpt;n<i.length;n++){var r=i[n];if(r.Cn<=t&&r.jn>t)return r}}},{key:"Iwt",get:function(){return this.Nyt&&this.Nyt.Zk.Iwt}},{key:"wyt",get:function(){return this.Nyt&&this.Nyt.wyt}},{key:"HAt",get:function(){for(var t=this.cSt.length-1;t>=0;t-=1){var n=this.cSt[t].HAt;if(n)return n}}},{key:"zyt",get:function(){var t=this.HAt;if(void 0!==t){var n=t-this.CSt;return k.max(n,this.RSt)}}},{key:"RSt",get:function(){for(var t=0,n=this.cSt;t<n.length;t++){var i=n[t].Iyt;if(void 0!==i)return i}}},{key:"AE",get:function(){return Boolean(this.PSt.AE)}},{key:"CSt",get:function(){var t,n;if(this.PSt.DSt&&this.pw===xB._W)return this.PSt.DSt;var i=null==(n=this.Nyt)||null==(t=n.Zk.yyt)?void 0:t.twt();return void 0!==i?i:this.pw===xB._W?1.5*this.gyt.twt():0}},{key:"wwt",get:function(){return this.Nyt&&this.Nyt.wwt}},{key:"pw",get:function(){return this.Nyt?this.Nyt.pw:void 0}},{key:"Ayt",get:function(){var t;return null==(t=this.Nyt)?void 0:t.Ayt}}]),n}(na),_W=function(){function t(t,n,i,r,e){this.WAt=new pW(t,n,i,r,e)}return Nt(t,[{key:"ndt",get:function(){return this.WAt}}]),t}(),bW=1e3,kW=k.pow(2,31)-1,AW=function(){function t(t,n,i,r,e){var u=this;this.VSt=new Ho,this.WSt=Zt((function(t){var n,i,r;return Ht(this,(function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),n=u.Nyt.ndt.sdt(),[4,u.QSt(u.Nyt.ndt.dyt,t)];case 1:return i=e.sent(),[4,u.Nyt.ndt.Yn(i,n,t)];case 2:return e.sent(),[3,4];case 3:throw Ol(r=e.sent())&&u.Nyt.ndt.ESt(!1),r;case 4:return[2]}}))})),this.$St=r,this.Nyt=new _W(t,n,i,this.VSt.Bw,e)}var n=t.prototype;return n.zE=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:n.Nyt.ndt.yo(new VR),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.WSt(t)];case 2:return r.sent(),n.Nyt.ndt.ESt(!0),[3,4];case 3:throw Bo(i=r.sent()),n.FSt=void 0,n.Nyt.ndt.ESt(!1),new p("The provided MPEG-DASH document could not be loaded - "+i.message);case 4:return n.USt=n.GSt(n.VSt.Bw),[2]}}))}))()},n.GSt=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:i.trys.push([0,4,,5]),i.label=1;case 1:return n.Nyt.ndt.pw!==xB._W?[3,3]:[4,Fo(n.HSt,t)];case 2:return i.sent(),[3,1];case 3:return[3,5];case 4:return i.sent(),[3,5];case 5:return[2]}}))}))()},n.XSt=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return Oo(t),(i=n.zSt())>0?[4,Jo(k.min(i,kW),t)]:[3,2];case 1:e.sent(),e.label=2;case 2:return e.trys.push([2,4,5,6]),[4,n.WSt(t)];case 3:return e.sent(),n.Nyt.ndt.ESt(!0),[3,6];case 4:throw r=e.sent(),new p("The provided MPEG-DASH manifest could not be loaded - "+r.message);case 5:return n.qSt=void 0,[7];case 6:return[2]}}))}))()},n.zSt=function(){var t=this.Nyt.ndt.sdt().getTime()-this.Nyt.ndt.lSt.getTime();return this.Nyt.ndt.pyt-t},n.YSt=function(t){var n=this.Nyt.ndt.Hyt();if(n){var i=n.getTime()-t.getTime();if(i>0)return i}this.Nyt.ndt.MAt(t);var r=this.Nyt.ndt.Hyt();return r?r.getTime()-t.getTime():NaN},n.ZSt=function(t){var n=this;return Zt((function(){var i,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:i={stack:[],error:void 0,hasError:!1},s.label=1;case 1:return s.trys.push([1,3,4,5]),null!=n.qSt||(n.qSt=n.XSt(t)),r=Yt(i,Ho.Yw([t]),!1),e=[n.qSt,n.KSt(r.Bw)].filter(Yn),[4,et.race(e).catch(Vo)];case 2:return s.sent(),[3,5];case 3:return u=s.sent(),i.error=u,i.hasError=!0,[3,5];case 4:return jt(i),[7];case 5:return[2]}}))}))()},n.KSt=function(t){var n=this.Nyt.ndt.sdt(),i=this.YSt(n);if(!S(i)&&!this.Tr.ndt.sbt)return this.jSt(i,t)},n.jSt=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return[4,Jo(t,n)];case 1:return e.sent(),r=i.Nyt.ndt.sdt(),i.Nyt.ndt.MAt(r),[2]}}))}))()},n.QSt=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return[4,i.$St.JSt(t,{},n)];case 1:return r=e.sent(),[2,(new $F).Syt(r.tTt,r.jk)]}}))}))()},n.gn=function(){return this.VSt.Xw(),this.USt=void 0,this.FSt=void 0,this.qSt=void 0,this.Nyt.ndt.gn(),et.resolve()},Nt(t,[{key:"Tr",get:function(){return this.Nyt}},{key:"W",get:function(){return this.FSt||(this.FSt=this.zE(this.VSt.Bw),jo(this.FSt)),this.FSt}},{key:"HSt",get:function(){return this.Nyt.ndt.ASt&&this.Nyt.ndt.pw===xB._W?this.ZSt(this.VSt.Bw):this.W}}]),t}();F(),Tt(),Dt(),Rt(),F(),Tt(),Rt();var TW=function(t){function n(n,i){var r;return(r=t.call(this,"Wpt")||this).Qpt=n,r.Vdt=i,r}return It(n,t),n}(ea),SW=function(t){function n(n,i){var r;(r=t.call(this)||this).Wdt=void 0,r.pp=n,r.hC=i;for(var e=0,u=r.hC;e<u.length;e++){u[e].Edt=r}return r}It(n,t);var i=n.prototype;return i.iW=function(t){t&&this.Wdt!==t&&this.eTt(t)},i.sW=function(t){this.Wdt===t&&this.eTt(void 0)},i.eTt=function(t){this.Wdt=t,this.yo(new TW(this,this.Wdt))},i.gn=function(){this.Bo();for(var t=0,n=this.hC;t<n.length;t++){n[t].Edt=void 0}po(this.hC)},Nt(n,[{key:"Vdt",get:function(){return this.Wdt}},{key:"pw",get:function(){return this.pp}},{key:"Z",get:function(){return this.hC.slice()}}]),n}(na);F(),Tt(),F(),Tt(),F(),Tt(),Rt();var EW=function(t){function n(n,i,r){var e;return(e=t.call(this,ua.Ey)||this).currentTime=n,e.initDataType=i,e.initData=r,e}return It(n,t),n}(ea);function IW(t,n,i,r,e){for(var u=[],s=[],o=0;o<n.length;o++){var a=n[o];a.pw===jg.cE?u=u.concat(a.Z):a.pw===jg.lE&&(s=s.concat(a.Z))}return[RW(t,u,i,r,null==e?void 0:e.preferredAudioCodecs),CW(t,s,i,r,null==e?void 0:e.preferredVideoCodecs)].filter(Yn)}function RW(t,n,i,r,e){var u=ao(r||[],(function(t){return t.pat===jg.cE&&t.Rt})),s=[DW(u,i,t),PW(u),xW(u),LW(u,e),MW(),function(t){var n=t.filter((function(t){return"main"===t.Lt}));return n.length>0?n:t}];return NW(n,s)}function CW(t,n,i,r,e){var u=ao(r||[],(function(t){return t.pat===jg.lE&&t.Rt})),s=[DW(u,i,t),LW(u,e),MW(),function(t){var n=t.filter((function(t){return"main"===t.Lt}));return n.length>0?n:t}];return NW(n,s)}function NW(t,n){if(0!==t.length){for(var i=t,r=0;r<n.length;r++){var e=n[r];if(1===i.length)return i[0];i=e(i)}return i[0]}}function DW(t,n,i){return function(r){var e=t?t.lct.o:void 0;if(!Yn(e))return r;var u=null==n?void 0:n.oyt,s=i.oyt,o=u&&s&&u.Ix===s.Ix,a=ao(r,(function(t){return t.lct.o===e}));return o&&a?[a]:r}}function PW(t){return function(n){var i=t?t.gs:"",r=n.some((function(t){return""!==t.gs}))?n.filter((function(t){return""!==t.gs})):n;if(""===i)return r;var e=r.filter((function(t){return t.gs===i}));return e.length>0?e:r}}function xW(t){return function(n){var i=t?t.Lt:"";if(""===i)return n;var r=n.filter((function(t){return t.Lt===i}));return r.length>0?r:n}}function LW(t,n){return function(t){if(n&&n.length>0)for(var i=function(i){var r=n[i],e=t.filter((function(t){return t.EC.oC.some((function(t){return HC(t.Urt,r)}))}));if(e.length>0)return{v:e}},r=0;r<n.length;r++){var e=i(r);if("object"===U(e))return e.v}return t}}function MW(){return function(t){for(var n=[],i=-1/0,r=0;r<t.length;r++){var e=t[r],u=e.lct.BH;u>i?(i=u,n=[e]):u===i&&n.push(e)}return n}}F(),Tt(),at(),F(),Tt();var OW=function(t){return t.iTt="api",t.sTt="start",t}({});F(),Tt(),Gt(),qt();var BW={maxRetries:3,minimumBackoff:1e3,maximumBackoff:1/0},VW=function(){function t(t,n,i){void 0===i&&(i=BW),this.aW=t,this.oTt=n,this.Zlt=i}var n=t.prototype;return n.nTt=function(t,n,i){var r=this,e=this.Zlt.maxRetries===1/0?BW:this.Zlt;return gT((function(){return r.rTt(t,n,i)}),i,e.maxRetries,e.minimumBackoff,e.maximumBackoff)},n.rTt=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:u=0,h.label=1;case 1:if(!(u<t.length))return[3,7];s=t[u],h.label=2;case 2:return h.trys.push([2,5,,6]),o=new hl({qu:s,Xk:Sd.wk,qk:n,AE:r.oTt,gE:ul.GET,pw:sl.Jk,yE:ol.Qk,Bw:i,pE:15e3,wE:5e3}),[4,r.aW.zk(o)];case 3:return[4,(a=h.sent()).Tk(i)];case 4:return[2,{tTt:h.sent(),hTt:s,jk:a.jk}];case 5:return c=h.sent(),e=c,[3,6];case 6:return u++,[3,1];case 7:throw e}}))}))()},t}();F(),Tt(),Gt(),qt();var FW=function(){function t(t){this.aTt=t}return t.prototype.JSt=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:u=0,s=r.aTt,c.label=1;case 1:if(!(u<s.length))return[3,6];o=s[u],c.label=2;case 2:return c.trys.push([2,4,,5]),[4,o.JSt(t,n,i)];case 3:return[2,c.sent()];case 4:return Bo(a=c.sent()),e=a,[3,5];case 5:return u++,[3,1];case 6:throw e}}))}))()},t}(),UW=function(){function t(t){this.Lut=t}return t.prototype.JSt=function(t,n,i){var r=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return[4,r.Lut.trt(t)];case 1:if(n=i.sent())return[2,{tTt:n.data,hTt:n.locationURL,jk:n.responseURL}];throw new p("Manifest fetch from cache unsuccesful")}}))}))()},t}(),WW=function(){function t(t){this.uTt=t}return t.prototype.JSt=function(t,n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return[4,r.uTt.nTt(t,n,i)];case 1:return[2,e.sent()]}}))}))()},t}();function ZW(t,n){return new FW([new UW(n),new WW(t)])}var XW=function(){function t(t,n,i){this.$St=t,this.a_=n,this.lTt=i}var n=t.prototype;return n.JSt=function(t,n,i){var r=this;return Zt((function(){var e;return Ht(this,(function(u){switch(u.label){case 0:return[4,r.$St.JSt(t,n,i)];case 1:return e=u.sent(),[4,r.cTt(e)];case 2:return u.sent(),[2,e]}}))}))()},n.cTt=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.a_.crt({key:fM(t.hTt),locationURL:gl(t.hTt),responseURL:gl(t.jk),data:t.tTt,references:[n.lTt.o]})];case 1:return i.sent(),[2]}}))}))()},t}();F(),Tt(),Rt();var GW=function(t){function n(){return t.call(this,ua.Wy)||this}return It(n,t),n}(ea);F(),Tt(),Rt();var HW=function(t){function n(){return t.call(this,ua.Vy)||this}return It(n,t),n}(ea);F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Rt();var zW=function(t){function n(){return t.call(this)||this}It(n,t);var i=n.prototype;return i.dTt=function(t){return t.tI=bw.LOADED,this.tt(t),t},i.fTt=function(t){for(var n=0,i=this.Z.oC;n<i.length;n++){var r=i[n];if(r.IC===t)return r}},n}(sp);function YW(t,n){return""===n?t:t+" "+n}F(),Tt(),F(),Tt(),Dt(),Rt(),F(),Tt();var jW=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i,r,!1,null==u?void 0:u.toString())||this).Wx=e,s._Tt=u,s}return It(n,t),n.prototype.$O=function(t){return this.U===t.U},Nt(n,[{key:"ga",get:function(){return this.Za||(this.Za=function(t){return Eg(Pw(t),{get attributes(){return t.Wx},get eventID(){var n;return""+(null!=(n=t._Tt)?n:"")}})}(this)),this.Za}}]),n}(Ww),KW=function(t){function n(n){var i;return(i=t.call(this)||this).$At=void 0,i.gTt=function(){var t,n,r=null!=(n=null==(t=i.$At.Cyt())?void 0:t.Cn)?n:0;if(r>0)for(var e=0,u=i.Z.oC;e<u.length;e++){ep(u[e],r)}for(var s=0,o=i.$At.Dpt;s<o.length;s++){var a=o[s];if(a.jn>r)for(var c=0,h=a.hyt;c<h.length;c++){var f=h[c];i.mTt(f,a,r)}}},i.oW=n,i}It(n,t);var i=n.prototype;return i.vTt=function(t){var n=this.oW.DI(Gy.jV,"","","",void 0,kw.EVENT_STREAM);return n.IC=t,this.dTt(n),n},i.mTt=function(t,n,i){var r,e,u,s=t.J6,o=null!=(r=t.Ix)?r:"",a=null!=(e=t.lN)?e:1,c=null!=(u=t.gwt)?u:tr.ZERO,h=YW(s,o),f=this.fTt(h);f||(f=this.vTt(h));for(var v=0,d=t.zq;v<d.length;v++){var l=d[v];if(!qW(l,f)){var g=JW(l,a,c,n);g.BO>i&&f.uW(g)}}},i.$n=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.tr()];case 1:return i.sent(),n.$At=t,n.$At.yn(ua.Oy,n.gTt),n.gTt(),[2]}}))}))()},i.tr=function(){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:for(n.$At&&(n.$At.fn(ua.Oy,n.gTt),n.$At=void 0),i=0,r=n.Z.oC;i<r.length;i++)e=r[i],n.oW.lW(e);return[4,t.prototype.tr.call(n)];case 1:return u.sent(),[2]}}))}))()},n}(zW);function qW(t,n){var i=t.o;if(void 0!==i&&ao(n.L.oC,(function(n){return n._Tt===i&&n.U===t.Zk})))return!0;return!1}function JW(t,n,i,r){var e=t.o,u=t.dL.toSigned().subtract(i),s=t.ct,o=t.Zk,a=t.Wx,c=u.toNumber()/n+r.Cn,h=s?s.toNumber()/n:void 0,f=void 0!==h?c+h:r.XAt;return new jW(c,f,o,a,e)}function QW(t,n,i,r,e){var u=[],s=ao(i,(function(t){return t.J6===cs}));if(void 0!==s){var o=s.Ix?function(t){var n=t.split(":",1)[0];switch(n){case"cbcs":case"cenc":return n;default:return}}(s.Ix.toLowerCase()):"cenc";if(void 0!==o){for(var a=0;a<i.length;a++){var c=i[a];if(c.J6!==cs)for(var h=0,f=Ls(c.J6);h<f.length;h++){var v=f[h],d=e&&c.t9?[c.t9]:[];u.push({rT:v,SG:d,TG:void 0,LU:void 0})}}if(u.length)return{iU:t,tpt:{pTt:o,sU:s.sU},$gt:u,wTt:n===jg.cE?r.slice():[],yTt:n===jg.lE?r.slice():[],s9:!1}}}}function $W(t,n){if(!t)return n;if(!n)return t;var i,r=[],e=ns();return tZ(r,e,t.$gt),tZ(r,e,n.$gt),{iU:t.iU,tpt:{pTt:t.tpt.pTt,sU:null!=(i=t.tpt.sU)?i:n.tpt.sU},$gt:r,wTt:nZ(t.wTt,n.wTt,mo),yTt:nZ(t.yTt,n.yTt,mo),s9:t.s9||n.s9||!1}}function tZ(t,n,i){for(var r=0;r<i.length;r++){var e=i[r],u=e.rT.Sw,s=void 0;n.has(u)?(s=n.get(u)).SG=nZ(s.SG,e.SG,iZ):(s=$u({},e),t.push(s),n.set(u,s))}}function nZ(t,n,i){for(var r=t.slice(),e=0;e<n.length;e++){var u=n[e];i(r,u)||r.push(u)}return r}function iZ(t,n){for(var i=0;i<t.length;i++){if(Dc(t[i],n))return!0}return!1}function rZ(t,n,i){var r,e=t.wG;if(e){for(var u=t.Xq,s=[],o=0,a=t.Urt;o<a.length;o++){var c=a[o];s.push(u+'; codecs="'+c+'"')}r=QW(n||{},t.pw,e,s,i)}for(var h=0,f=t.Uat;h<f.length;h++){r=$W(r,eZ(f[h],n,i))}return r}function eZ(t,n,i){return QW(n||{},t.pw,t.wG||[],[t.Ik],i)}function uZ(t){return t?t.$gt.map((function(n){var i=sZ(t.iU,n.rT),r=t.tpt.pTt;return{rT:n.rT,SG:n.SG,LU:n.LU,SH:[{initDataTypes:[n.rT.yw],audioCapabilities:oZ(t.wTt,r,null==i?void 0:i.audioRobustness),videoCapabilities:oZ(t.yTt,r,null==i?void 0:i.videoRobustness),persistentState:null==i?void 0:i.persistentState,distinctiveIdentifier:null==i?void 0:i.distinctiveIdentifier}]}})):[]}function sZ(t,n){switch(n.pw){case Es.fw:return t.widevine;case Es.dw:return t.playready;case Es.mw:return t.fairplay;case Es._w:return t.clearkey}}function oZ(t,n,i){if(0!==t.length)return t.map((function(t){return{contentType:t,encryptionScheme:n,robustness:i}}))}function aZ(t,n){var i=function(t){var i=n.indexOf(t.rT.Sw);return i>=0?i:n.length};return Qs(t,(function(t,n){return i(t)-i(n)}))}F(),Tt(),F(),Tt(),Gt(),Rt(),nn(),qt();var cZ=function(t){function n(n){var i;(i=t.call(this)||this).Pdt=[],i.Yn=function(){for(var t=[],n=0,r=i.$At.Dpt;n<r.length;n++)for(var e=0,u=r[n].oft;e<u.length;e++){var s=u[e];if(s.pw===jg.dE&&s.Uat.length>0){var o=s.Uat[0];t.push(o),i.xTt(o)||i.vTt(o),-1===i.Pdt.indexOf(o)&&(i.Pdt.push(o),o.yn(eO.Jht,i.kTt)),i.ITt(o)}}i.bTt(t)},i.ITt=function(t){var n=i.RTt(t);n&&t&&n.TE!==Oy.Ch&&(i.ETt(),function(t,n){var i=t.Not,r=t.Gyt();if(!r)return;var e=r.hbt,u=r.abt,s=t.ji,o=t.Ti,a=tn(function(t){for(var n=0;n<t.length;n++){var i=t[n];if(Fs(i.J6,fZ)||Fs(i.J6,vZ)){var r=i.Ix.match(hZ);if(r){var e=tn(r,3),u=e[1],s=e[2];return[Number(u),Number(s)]}}}return[1,1]}(t.kwt),2),c=a[0],h=a[1],f=e;for(;f&&f.Wut<=u.Wut;){for(var v=t.Fyt.ct||f.ct,d=dZ(n,f,t.clt(f).qu,s,o,c,h,v),l=0;l<d.length;l++){var g=d[l];n.uW(g)}f=i.olt(f)}}(t,n))},i.oW=n;var r=i;return i.kTt=function(){r.ITt(this)},i}It(n,t);var i=n.prototype;return i.vTt=function(t){var n=this.oW.DI(Gy.jV,t.o,"thumbnails","",!1,kw.DEFAULT);return n.TE=Oy.Jn,this.dTt(n),n},i.$n=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.tr()];case 1:return i.sent(),n.$At=t,n.$At.yn(ua.Oy,n.Yn),n.Yn(),[2]}}))}))()},i.bTt=function(t){this.ATt(t),this.STt()},i.STt=function(){for(var t=[],n=0,i=this.Z.oC;n<i.length;n++){var r=i[n];this.TTt(r)||t.push(r)}for(var e=0;e<t.length;e++){var u=t[e];this.it(u)}},i.ATt=function(t){for(var n=[],i=0,r=this.Pdt;i<r.length;i++){var e=r[i];-1===t.indexOf(e)&&n.push(e)}for(var u=0;u<n.length;u++){var s=n[u];lo(this.Pdt,s)}},i.tr=function(){var n=this;return Zt((function(){var i,r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:for(n.$At&&(n.$At.fn(ua.Oy,n.Yn),n.$At=void 0),i=0,r=n.Pdt;i<r.length;i++)r[i].fn(eO.Jht,n.kTt);for(n.Pdt.length=0,e=0,u=n.Z.oC;e<u.length;e++)s=u[e],n.oW.lW(s);return[4,t.prototype.tr.call(n)];case 1:return o.sent(),[2]}}))}))()},i.gn=function(){return this.kTt=void 0,t.prototype.gn.call(this)},i.ETt=function(){var t,n,i=null!=(n=null==(t=this.$At.Cyt())?void 0:t.Cn)?n:0;if(i>0)for(var r=0,e=this.Z.oC;r<e.length;r++){ep(e[r],i)}},i.xTt=function(t){return this.Z.oC.some((function(n){return n.o===t.o}))},i.RTt=function(t){return ao(this.Z.oC,(function(n){return n.o===t.o}))},i.TTt=function(t){return this.Pdt.some((function(n){return t.o===n.o}))},n}(zW),hZ=/^(\d+)x(\d+)$/,fZ="http://dashif.org/guidelines/thumbnail_tile",vZ="http://dashif.org/thumbnail_tile";function dZ(t,n,i,r,e,u,s,o){var a=[],c=n.LO,h=u*s,f=r/u,v=e/s,d=k.round(f),l=k.round(v),g=o/h;if(1===h){var w=c+g;return lZ(t,c,w,i)?a:[new Ww(c,w,i,!1)]}for(var m=0;m<s;m++)for(var y=0;y<u;y++){var p=c+(m*u+y)*g,_=p+g,b=i+"#xywh="+k.round(y*f)+","+k.round(m*v)+","+d+","+l;if(lZ(t,p,_,b)||a.push(new Ww(p,_,b,!1)),_>=n.BO)return a}return a}function lZ(t,n,i,r){return t.L.oC.some((function(t){return t.LO===n&&t.BO===i&&t.U===r}))}F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Dt(),Rt(),F(),Tt();var gZ=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n,i,s,!1)||this).CTt=r,o.PTt=e,o.NTt=u,o}return It(n,t),n.prototype.$O=function(t){return Pc(this.U,t.U)},Nt(n,[{key:"lL",get:function(){return this.CTt}},{key:"Ix",get:function(){return this.PTt}},{key:"DTt",get:function(){return this.NTt}},{key:"ga",get:function(){return this.Za||(this.Za=function(t){return Eg(Pw(t),{get schemeIDURI(){return t.lL},get value(){return t.Ix},get emsgID(){return t.DTt}})}(this)),this.Za}}]),n}(Ww),wZ=function(t){function n(n){var i;return(i=t.call(this)||this).oW=n,i}It(n,t);var i=n.prototype;return i.ddt=function(t,i,r){var e=dy.qD(pc(t));if(e){var u=function(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];uy(e,n)&&i.push(e)}return i}(e,ty.cD);if(u.length){var s=n.MTt(e,i,r);this.LTt(u,s,r)}}},i.LTt=function(t,n,i){for(var r=0;r<t.length;r++){var e=t[r],u=void 0,s=(u=1===e.XD?e.dL.toNumber()/e.lN+i:n+e.vL/e.lN)+e.fL/e.lN;"https://aomedia.org/emsg/ID3"===e.lL||"https://developer.apple.com/streaming/emsg-id3"===e.lL?this.BTt(e,u):this.OTt(e,u,s)}},i.OTt=function(t,n,i){var r=YW(t.lL,t.Ix),e=this.fTt(r);e||(e=this.FTt(r),this.dTt(e)),e.uW(new gZ(n,i,t.lL,t.Ix,t.o,t._L))},i.BTt=function(t,n){var i=ED(pc(t._L));if(i){var r=YW(t.lL,t.Ix),e=this.fTt(r);e||(e=this.VTt(r),this.dTt(e));for(var u=0,s=i.A5;u<s.length;u++){var o=s[u],a=new VD(n,o);$N(a,e.L.oC),e.uW(a)}}},i.FTt=function(t){var n=this.oW.DI(Gy.jV,"","","",void 0,kw.EMSG);return n.IC=t,n.TE=Oy.RC,n},i.VTt=function(t){var n=this.oW.DI(Gy.jV,"","","",void 0,kw.ID3);return n.IC=t,n.TE=Oy.RC,n},i.tr=function(){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:for(i=0,r=n.Z.oC;i<r.length;i++)e=r[i],n.oW.lW(e);return[4,t.prototype.tr.call(n)];case 1:return u.sent(),[2]}}))}))()},n.MTt=function(t,n,i){var r=sy(t,ty.lD);return r?yr(r.xL,r.lN)+i:n},n}(zW),mZ=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).gTt=function(){var t,i,r=null!=(i=null==(t=n.$At.Cyt())?void 0:t.Cn)?i:0;n.$V(r)},n}It(n,t);var i=n.prototype;return i.$n=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.tr()];case 1:return i.sent(),n.$At=t,n.$At.yn(ua.Oy,n.gTt),n.gTt(),[2]}}))}))()},i.tr=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.$At&&(n.$At.fn(ua.Oy,n.gTt),n.$At=void 0),[4,t.prototype.tr.call(n)];case 1:return i.sent(),[2]}}))}))()},n}(wZ);F(),Tt(),F(),Tt(),Gt(),qt();var yZ=function(){function t(t){this.WTt=!1,this.Lut=t}var n=t.prototype;return n.nrt=function(t,n){return this.WTt?this.Lut.nrt(t,n):et.resolve(!1)},n.ort=function(t,n){return this.WTt?this.Lut.ort(t,n):et.resolve(void 0)},n.trt=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,n.Lut.trt(t)];case 1:return i=r.sent(),n.WTt=void 0!==i,[2,i]}}))}))()},n.TQ=function(t){return this.Lut.TQ(t)},t}();F(),Tt(),Rt();var pZ=function(t){function n(n,i,r){return t.call(this,n,i,r)||this}It(n,t);var i=n.prototype;return i.XB=function(){var t;return null!=(t=this.HB)?t:0},i.FC=function(){this.ta.yR=1/0},i.zB=function(){return!0},n}(RA),_Z=[ua.Gy,ua.Zy,ua.Yy,ua.Fy,ua.Ky],bZ=[ua.Hy,ua.eb,ua.Cy,ua.Ry],kZ=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this)||this).akt=void 0,a.bkt=void 0,a.M9=!1,a.txt=NaN,a.HG=void 0,a.ZG=void 0,a.S9=!1,a.Akt=void 0,a.y9=void 0,a.nxt=!1,a.ixt=0,a.sxt=0,a.Mkt=!1,a.cW=new Ho,a.hkt=new Zc,a.jEt=!1,a.Nyt=void 0,a.rEt=void 0,a.kSt=!0,a.Ikt=!0,a.xEt=void 0,a.Fo=AA.fB(),a.zG=GT.YH,a.zEt=void 0,a.RW=!0,a.wc=void 0,a.FEt=void 0,a.kpt=void 0,a.upt=[],a.rZ=!1,a.ikt=new Ho,a.okt=et.resolve(),a.q9=new Ho,a.Y9=et.resolve(),a.tEt=!1,a.IEt=!1,a.skt=new Ho,a.nkt=et.resolve(),a.vkt=void 0,a.qgt=void 0,a.Ekt=0,a.xkt=0,a.Rkt=0,a.QG=new bk,a.pEt=void 0,a.qTt={uO:0,cO:0,lO:0},a.qG=void 0,a.VG=void 0,a.Ykt=function(t){var n,i,r,e;"Wpt"===(null==t?void 0:t.type)&&(e=t.Vdt),e&&(null==(n=e.Edt)?void 0:n.pw)===jg.cE&&(null==(r=a.bt)||null==(i=r.dash)?void 0:i.forceRecreateMediaSourceOnAudioSwitch)?a.ekt(!0):a.ekt()},a.Jpt=function(t){var n;null==(n=a.akt)||n.Jpt(t)},a.xc=function(){a.yo(new vg(a.yR,a.mR))},a.u9=function(t){a.yo(new EW(a.yR,t.yw,t.bb))},a.Hkt=function(t){a.Ekt+=t.fO,a.yo(t)},a.Zkt=function(t){var n=t.segments.filter((function(t){return t.Vct}));t.track===jg.cE?a.xkt=n.length:t.track===jg.lE&&(a.Rkt=n.length)},a.Y8=function(){var t=a.ct;S(t)||t===a.txt||(a.txt=t,a.yo(new cT(a.txt)))},a.axt=function(){a.tkt(),a.EEt()},a.hxt=function(t){a.IEt||!a.kR||a.nI||(a.IEt=!0,a.yo(null!=t?t:new fT(a.yR)))},a.UEt=function(t){a.Ds(t),a.Mkt||(a.Mkt=!0,a.oxt.fxt())},a.WEt=function(){a.Nyt.ndt.fn(ua.By,a.WEt),a.yo(new VR)},a.zkt=function(t){var n;if(t.errorObject.code===Qv.CONTENT_PROTECTION_OUTPUT_RESTRICTED&&(null==(n=a.akt)?void 0:n.Zpt.every((function(t){return!t.Bdt}))))return;a.PH(t.errorObject),a.yo(t)},a.Xkt=function(t){a.PH(t.errorObject)},a.Xpt=function(t){Mo(t)||a.PH(new td(Qv.MEDIA_DECODE_ERROR,t.message,t))},a.tkt=function(){if(!a.ZR)if(a.Skt())if(a.kkt()){var t=a.Nyt.ndt.xSt;a.Sb(t,!0)}else;else{var n=a.Nyt.ndt.xSt;a.Sb(n,!0)}},a.PEt=function(t){a.nxt=a.nI,a.yo(t)},a.MEt=function(t){var n=a.nxt,i=a.nI;a.nxt=i,n&&!i&&a.yo(t),a.hxt()},a.qkt=function(){var t=a.cI,n=a.hI;a.ixt===t&&a.sxt===n||(a.ixt=t,a.sxt=n,a.yo(new lp))},a.yEt=function(t){var n=t.Ht;n.TE===Oy.Jn?(a.lEt(n),a.fEt=n):n===a.fEt&&n.TE===Oy.Ch&&(a.fEt=void 0,a._Et())},a.CEt=function(){a.S9||a.xEt&&(a.xEt.Mb(),a.xEt=void 0)},a.TEt=function(t){a.S9||a.xEt&&(a.xEt.Lb(t),a.xEt=void 0)},a.GEt=function(){a.XEt().catch(a.Xpt)},a.lxt=function(t){a.PH(nw(t.lt))},a.uxt=function(){a.GTt()},a.cxt=function(){a.HTt()},a.dxt=function(t){a.XTt(t.wG)},a.aW=n,a.Lut=new yZ(u),a.LB=s,a.QTt=o,a.dZ=r,a.dZ.yn("vj",a.uxt),a.dZ.yn("wj",a.cxt),a.KG=e,a.Zlt=i.retryConfiguration,a.rO=new qk,a.hO=new qk,a.iH=new Ak(n),a.iH.yn("contentProtectionsTracked",a.dxt),a.LB.yn(ua.Sy,a.Y8),a.LB.yn(fa.Ey,a.u9),a.LB.yn(ua.xy,a.hxt),a.LB.yn(ua.qy,a.PEt),a.LB.yn(ua.zy,a.MEt),a.LB.yn(ua.Xy,a.qkt),a.LB.yn(ua.$y,a.xc),a.LB.yn([ua.so,ua.Uy],a.axt),a.LB.yn(bZ,a.Ds),a.LB.yn(Vy.ua,a.lxt),a.LB._H=a.iH,a.LB.f7=a,a.LB.yn([ua.wy,ua.py],a.Ds),a.LB.yn(ua.ob,a.Jpt),a.oxt=new AZ(a,a.LB),a.lH=new Ip(a.oxt,!0),a.lH.yn(wp.LL,a.tkt),a.lH.yn(mp,a.Ds),a.wEt=new Jk,a.wEt.yn(kg.aa,a.yEt),a.mEt=new Jk,a.oW=a._xt(),a.HEt=new KW(a.oW),a.ZEt=new cZ(a.oW),a.hH=new ap(a.LB,a.aW),a.rxt=new Xy,a.Ul=new Sk([a.wEt,a.HEt.Z,a.ZEt.Z,a.hH.Z,a.rxt]),a}It(n,t);var i=n.prototype;return i.UTt=function(t){return!!this.qG&&this.qG.hJ(t)},i._p=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.LB.$n(t)];case 1:return n.qG=i.sent(),n.GTt(),n.HTt(),n.qG.e4(n.ct),[2]}}))}))()},i.ZTt=function(t){return this.qG.uJ(t)},i.XTt=function(t){return this.qG.lJ(t)},i.zTt=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.qTt=t.YTt,t.qG?[4,t.LB.tr()]:[3,2];case 1:n.sent(),t.qG=void 0,n.label=2;case 2:return[2]}}))}))()},i.i3=function(){this.qG.i3()},i.z2=function(){var t=this.ct;this.qG.ct<t&&this.qG.e4(t),this.qG.z2()},i.KTt=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return i=n.qG,r=[],i.K3&&r.push($C(i.K3,t)),i.j3&&r.push($C(i.j3,t)),[4,et.all(r)];case 1:return e.sent(),[2]}}))}))()},i.jTt=function(t,n,i,r,e,u){var s=this.LB,o=this.qG;return new wF(s,o,t,n,i,r,e,u,this.QTt,s,this.qgt,this.Zlt,this.upt,this.iH)},i.JTt=function(t,n,i){return t.uJ(n,i,this.qG)},i.$Tt=function(t,n,i,r){var e=this;return Zt((function(){var u;return Ht(this,(function(s){switch(s.label){case 0:return(u=e.jTt(e.aW,e.dZ,e.Lut,e.wc,t,r)).yn(eO.eat,e.tkt),u.yn(ua.Fy,e.Ds),[4,u.bj(n,i)];case 1:return s.sent(),[2,u]}}))}))()},i.ekt=function(t){void 0===t&&(t=!1),this.ikt.Xw(),this.q9.Xw(),this.skt.Xw(),this.skt=new Ho,this.nkt=Uo(this.rkt(this.okt,this.Y9,this.nkt,t,this.skt.Bw),this.skt).catch(this.Xpt)},i.rkt=function(t,n,i,r,e){var u=this;return Zt((function(){var s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:return[4,et.all([t,n,i])];case 1:return v.sent(),Oo(e),[4,Fo(u.hkt.Bb,e)];case 2:return v.sent(),[4,(s=u.akt).Mat()];case 3:return v.sent(),u.z2(),Oo(e),o=s.kc,a=s.Zpt,c=s.Hpt,h=u.ukt(o,c,o,a,!1),f=u.ckt(c,h),r||!u.UTt(f)?[3,5]:[4,u.lkt(c,h,f)];case 4:return v.sent(),[3,7];case 5:return h=u.ukt(o,c,o,a,!0),f=u.ckt(c,h),[4,u.dkt(c,h,f,e)];case 6:v.sent(),v.label=7;case 7:return Oo(e),u.nI?u.Sb(u.yR):u.fkt(),u._kt(),[2]}}))}))()},i.lkt=function(t,n,i){var r=this;return Zt((function(){var e;return Ht(this,(function(u){switch(u.label){case 0:return e=r.akt,[4,r.ZTt(i)];case 1:return u.sent(),r.vkt=i,[4,r.JTt(e,t,n)];case 2:return u.sent(),[4,e.Bat(nO._ht)];case 3:return u.sent(),[2]}}))}))()},i.dkt=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return u=e.akt,e.e8(),e.mkt(),s=e.gkt,[4,e.zTt()];case 1:return a.sent(),[4,e._p(i)];case 2:return a.sent(),e.vkt=i,[4,e.JTt(u,t,n)];case 3:a.sent(),a.label=4;case 4:return a.trys.push([4,,7,8]),jo(o=e.pkt(s,!1,!0,r)),[4,u.Bat(nO._ht)];case 5:return a.sent(),[4,o];case 6:return a.sent(),[3,8];case 7:return e.o8(),e.wkt(),[7];case 8:return[2]}}))}))()},i.AR=function(t,n){this.Sb(t,t===1/0)},i.b9=function(){return!!this.nI&&(!(!this.akt||!this.akt.Ppt)&&this.gkt===this.akt.jn)},i.Skt=function(){var t,n,i=this.Tkt;if(0===i.V)return!0;var r=null!=(n=null==(t=this.WG)?void 0:t.jn)?n:this.gkt,e=i.Cn(0);return r>=e||ur(r,e,.001)},i.kkt=function(){var t;if(!this.Nyt)return!1;if(this.Nyt.ndt.pw!==xB._W)return!1;var n=null==(t=this.akt)?void 0:t.kc;if(n&&n.iat)return!0;for(var i=[],r=0,e=this.Nyt.ndt.Dpt;r<e.length;r++){var u=e[r],s=u.Iyt,o=u.XAt;void 0!==s&&void 0!==o&&i.push(s,o)}var a=new AA(i).YL();return function(t,n,i){if(!n.V||!i.V)return AA.fB();var r=n.Cn(0),e=n.jn(n.V-1),u=t.Sn(i).XL().Sn(t).KL(n);return AA.dB(u.Cn(0),u.jn(u.V-1)).jL(u).nB((function(t,n){return t<r&&n<=e&&n-t>wr}))}(this.ykt,this.Tkt,a).V>0},i.Dkt=function(t){this.Fo=this.Fo.KL(t)},i.Gkt=function(t){t.yn(_Z,this.Ds),t.yn(ua.Qy,this.Hkt),t.yn(ua.vy,this.Zkt),t.yn(Vy.ua,this.Xkt),t.yn(ua.py,this.zkt),t.yn(ua.Zy,this.qkt),t.yn("Wpt",this.Ykt),t.yn("ppt",this.Ykt)},i.Kkt=function(t){t.fn(_Z,this.Ds),t.fn(ua.Qy,this.Hkt),t.fn(ua.vy,this.Zkt),t.fn(Vy.ua,this.Xkt),t.fn(ua.py,this.zkt),t.fn(ua.Zy,this.qkt),t.fn("Wpt",this.Ykt),t.fn("ppt",this.Ykt)},i.jkt=function(t){t.yn(ua.Gy,this.Ds)},i.Qkt=function(t){t.fn(ua.Gy,this.Ds)},i.Wkt=function(){if(this.akt){var t=ao(this.akt.Hpt,(function(t){return t.pat===jg.lE}));if(t)return t.SC}},i.Lkt=function(t){var n,i=null==(n=this.Nyt)?void 0:n.ndt;if(!i)return AA.fB();var r=i.RSt,e=t?i.HAt:i.zyt;if(void 0===r||void 0===e)return AA.fB();if(!t){var u=this.Pkt;u.V>0&&u.jn(u.V-1)>e&&(e=k.min(u.jn(u.V-1),i.HAt))}var s=this.ct;return isFinite(s)&&s>e&&(e=s),AA.dB(r,e).HL()},i.$n=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:Oo(n),u=i.Nyt.ndt;try{r=u.ISt,e=u.xSt}catch(t){throw new p("Something went wrong determining the start of the provided MPEG-DASH stream")}if(!r)throw new p("Something went wrong determining the initial Period of the provided MPEG-DASH stream");if(void 0===e)throw new p("Something went wrong determining the start time of the provided MPEG-DASH stream");return t.textTracks&&i.Jkt(t.textTracks),i.e8(),s=i.ift(r),o=IW(r,s,void 0,void 0,i.kpt),a=i.ukt(r,o,r,o,!0),o.forEach((function(t){return t.Rt=!0})),c=i.ckt(o,a),[4,i._p(c)];case 1:return f.sent(),i.vkt=c,Oo(n),[4,i.$Tt(r,s,o,a)];case 2:return h=f.sent(),Oo(n),i.$kt(h),i.o8(),Oo(n),[4,h.Bat()];case 3:return f.sent(),Oo(n),!i.tEt&&e>0&&i.Sb(e,!0,OW.sTt),i.rZ||(i.fkt(),i.eEt()),[2]}}))}))()},i.fkt=function(){this.ikt.Xw(),this.ikt=new Ho,this.okt=Uo(this.iEt(this.okt,this.nkt,this.ikt.Bw),this.ikt).catch(this.Xpt)},i.sEt=function(){this.ikt.Xw()},i.iEt=function(t,n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){switch(s.label){case 0:return[4,et.all([t,n])];case 1:s.sent(),Oo(i),s.label=2;case 2:return(u=null==(e=r.akt)?void 0:e.kc)?[4,r.nEt(u,i)]:[3,4];case 3:return s.sent()?[3,2]:[3,4];case 4:return[2]}}))}))()},i.nEt=function(t,n){var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:Oo(n),e=i.akt,s.label=1;case 1:return i.Nyt.ndt.pw!==xB._W||void 0!==(null==(r=i.UAt(t))?void 0:r.Iyt)?[3,4]:[4,Fo(i.rEt.HSt,n)];case 2:return s.sent(),[4,i.oEt()];case 3:return s.sent(),[3,1];case 4:return Oo(n),[4,i.oEt()];case 5:s.sent(),Oo(n),s.label=6;case 6:return e.Ept()?[3,9]:[4,e.uy(LB.fft,n)];case 7:return s.sent(),[4,i.oEt()];case 8:return s.sent(),[3,6];case 9:return Oo(n),[4,i.oEt()];case 10:return s.sent(),Oo(n),(u=i.UAt(t))?i.hEt(u)?[4,i.aEt(u,n)]:[3,12]:(i.i3(),[2,!1]);case 11:return s.sent(),[3,14];case 12:return[4,i.uEt(u,n)];case 13:s.sent(),s.label=14;case 14:return[2,!0]}}))}))()},i.hEt=function(t){var n,i,r,e,u,s=null!=(u=null==(n=this.wc)?void 0:n.seamlessSwitchStrategy)?u:xA.qB;if(s===xA.YB)return!0;if(s===xA.KB)return!1;var o=this.akt,a=null==o?void 0:o.kc,c=null==o?void 0:o.Hpt,h=IW(t,this.ift(t),a,c,this.kpt),f=this.ukt(t,h,a,c,!1);if(s===xA.CLEAR_ONLY&&((null==(i=this.akt)?void 0:i.Jgt)||f)||s===xA.SAME_DRM_ONLY&&!((null==(r=this.akt)?void 0:r.Jgt)&&f||!(null==(e=this.akt)?void 0:e.Jgt)&&!f))return!1;var v=this.ckt(h,f);return this.UTt(v)},i.cEt=function(){return!0},i.lEt=function(t){for(var n=this.dEt(),i=0;i<n.length;i++){var r=n[i];r!==t&&(r.TE=Oy.Ch)}},i._kt=function(){if(void 0!==this.fEt){if(this.fEt.NC){var t=ao(this.ht.oC,(function(t){return t.Rt}));void 0!==t&&this.fEt.gs===t.gs||(this.fEt.TE=Oy.Ch)}}else this._Et()},i._Et=function(){if(!this.dEt().length){var t=ao(this.ht.oC,(function(t){return t.Rt}));if(void 0!==t)for(var n=this.nt.oC.filter((function(t){return t.NC})),i=0;i<n.length;i++){var r=n[i];if(r.gs===t.gs)return r.TE=Oy.Jn,void(this.fEt=r)}}},i.dEt=function(){return this.nt.oC.filter((function(t){return t.TE===Oy.Jn&&(t.Lt===Gy.YV||t.Lt===Gy.qV)}))},i.vEt=function(t){if(t&&this.fEt){var n=function(t,n){if(""!==t.gs)return n.filter((function(n){return n.gs===t.gs}))[0]}(this.fEt,t.nt.oC);n&&(n.TE=Oy.Jn)}},i.aEt=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h,f,v,d,l;return Ht(this,(function(g){switch(g.label){case 0:u=i.akt,s=i.bkt,o=i.vkt,g.label=1;case 1:return g.trys.push([1,16,,22]),Oo(n),a=u.kc,c=u.Hpt,h=i.ift(t),f=IW(t,h,a,c,i.kpt),v=i.ukt(t,f,a,c,!1),f.forEach((function(t){return t.Rt=!0})),d=i.ckt(f,v),[4,u.Mat()];case 2:return g.sent(),i.z2(),Oo(n),s&&s.kc===t?i.UTt(d)?[4,i.ZTt(d)]:[3,4]:[3,5];case 3:g.sent(),g.label=4;case 4:return i.vkt=d,[3,11];case 5:return s?[4,s.gn(!0)]:[3,7];case 6:g.sent(),g.label=7;case 7:return i.UTt(d)?[4,i.ZTt(d)]:[3,9];case 8:g.sent(),g.label=9;case 9:return i.vkt=d,[4,i.$Tt(t,h,f,v)];case 10:s=g.sent(),i.bkt=s,i.jkt(s),i.mEt.cC=s.nt,s.Oat(u),g.label=11;case 11:return[4,s.Bat()];case 12:g.sent(),Oo(n),g.label=13;case 13:return i.gkt<t.Cn?[4,i.LB.uy(ua.$y,n)]:[3,15];case 14:return g.sent(),[3,13];case 15:return Oo(n),i.$kt(s),[3,22];case 16:return Mo(l=g.sent())?s?[4,s.Mat()]:[3,18]:[3,21];case 17:g.sent(),g.label=18;case 18:return o&&i.vkt!==o?i.UTt(o)?[4,i.ZTt(o)]:[3,20]:[3,21];case 19:g.sent(),g.label=20;case 20:i.vkt=o,g.label=21;case 21:throw l;case 22:return(null==(e=i.wc)||null==(r=e.dash)?void 0:r.forceSeekToSynchronize)?[4,i.gEt(t,n)]:[3,24];case 23:g.sent(),g.label=24;case 24:return[2]}}))}))()},i.gEt=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return r=Date.now()/1e3,void 0!==i.pEt?[3,1]:(i.pEt=r,[3,5]);case 1:if(!(r-i.pEt>900))return[3,5];i.pEt=r,i.mkt(),e=k.max(i.gkt,t.Cn),u.label=2;case 2:return u.trys.push([2,,4,5]),[4,i.pkt(e,!1,!0,n)];case 3:return u.sent(),[3,5];case 4:return i.wkt(),[7];case 5:return[2]}}))}))()},i.uEt=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h,f,v,d,l;return Ht(this,(function(g){switch(g.label){case 0:return Oo(n),[4,i.akt.Mat()];case 1:return g.sent(),i.z2(),[4,i.KTt(t.Cn)];case 2:g.sent(),Oo(n),i.i3(),g.label=3;case 3:return!i.LB.kR&&i.gkt<t.Cn?[4,i.LB.uy([ua.$y,ua.xy],n)]:[3,5];case 4:return g.sent(),[3,3];case 5:return Oo(n),r=i.akt.kc,e=i.akt.Hpt,u=i.ift(t),s=IW(t,u,r,e,i.kpt),o=i.ukt(t,s,r,e,!0),s.forEach((function(t){return t.Rt=!0})),a=i.ckt(s,o),i.akt?(i.wEt.fn(kg.aa,i.yEt),[4,i.akt.gn()]):[3,7];case 6:g.sent(),i.wEt.yn(kg.aa,i.yEt),i.akt=void 0,g.label=7;case 7:return i.bkt?[4,i.bkt.gn()]:[3,9];case 8:g.sent(),i.bkt=void 0,g.label=9;case 9:return i.mkt(),i.e8(),c=k.max(i.gkt,t.Cn),[4,i.zTt()];case 10:return g.sent(),[4,i._p(a)];case 11:return g.sent(),i.vkt=a,[4,i.$Tt(t,u,s,o)];case 12:h=g.sent(),i.$kt(h),g.label=13;case 13:g.trys.push([13,,20,21]),f={stack:[],error:void 0,hasError:!1},g.label=14;case 14:return g.trys.push([14,17,18,19]),jo(v=i.pkt(c,!1,!0,n)),[4,h.Bat()];case 15:return g.sent(),d=Yt(f,Ho.Yw([n]),!1),[4,et.race([v,h.uy([LB.fft],d.Bw)])];case 16:return g.sent(),[3,19];case 17:return l=g.sent(),f.error=l,f.hasError=!0,[3,19];case 18:return jt(f),[7];case 19:return[3,21];case 20:return i.o8(),i.wkt(),[7];case 21:return[2]}}))}))()},i.oEt=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return(n=t.bkt)?n.kc.iat?[4,n.gn(!0)]:[3,2]:[2];case 1:i.sent(),t.bkt=void 0,i.label=2;case 2:return[2]}}))}))()},i.ift=function(t){for(var i=[],r=[],e=0,u=t.bpt;e<u.length;e++){var s=u[e];if(Kg(s.pw))if(0===s.Uat.length)this.yo(new PB("No supported representation found in the AdaptationSet with mimetype : "+s.pw));else if(s.pw===jg.cE){var o;(o=i).push.apply(o,Ft(s.oft))}else{var a;(a=r).push.apply(a,Ft(s.oft))}}var c=[];return i.length>0&&c.push(n.bEt(jg.cE,i)),r.length>0&&c.push(n.bEt(jg.lE,r)),c},i.ckt=function(t,n){var i,r,e,u,s,o,a,c,h,f=this,v=t.map((function(t){var n;return $O.klt(null!=(n=t.Cdt)?n:t.Uat,_A(t.pat,f.kpt))})).map((function(t){return{Ik:t.Ik}})),d=null==(r=this.wc)||null==(i=r.dash)?void 0:i.desiredTimescale,l=(null==(e=this.wc)?void 0:e.seamlessSwitchStrategy)!==xA.KB&&(null==(u=this.wc)?void 0:u.seamlessSwitchStrategy)!==xA.CLEAR_ONLY&&(null==(s=this.wc)?void 0:s.seamlessSwitchStrategy)!==xA.SAME_DRM_ONLY&&(null!=(h=null==(a=this.wc)||null==(o=a.dash)?void 0:o.needsTimescaleShifting)?h:Kn.Ys.np),g=null==(c=this.wc)?void 0:c.useManagedMediaSource;return{pw:gp._W,o4:v,JG:uZ(n),s9:null==n?void 0:n.s9,np:l,J2:d,g4:g}},i.ukt=function(t,i,r,e,u){var s,o,a,c=this.wc.contentProtection,h=n.AEt(i,c);if(void 0!==h)return h;var f=null!=(a=null==(s=this.wc)?void 0:s.seamlessSwitchStrategy)?a:xA.qB;if(f!==xA.KB&&f!==xA.CLEAR_ONLY&&f!==xA.SAME_DRM_ONLY){var v=null==(o=this.akt)?void 0:o.Jgt;if(!u&&void 0!==v){var d=!v.s9;if(f===xA.qB&&d&&!this.cEt())return;return v}var l=!u&&f===xA.qB;if(void 0!==(h=this.SEt(t,c,r,e,l)))return h.s9=!0,h}},i.SEt=function(t,i,r,e,u){for(var s=t,o=!1;;)if(void 0!==(s=o?this.GAt(s):this.UAt(s))){var a=IW(s,this.ift(s),r,e,this.kpt),c=n.AEt(a,i);if(u){var h=this.ckt(a,c);if(!this.UTt(h))return}if(void 0!==c)return c}else{if(o)return;o=!0,s=t}},i.Jkt=function(t){for(var n=0;n<t.length;n++){var i=t[n];i.src&&this.hH.rW(i)}dp(this.hH.Z)},i.bI=function(){var t,n=this.ZR;this.Ikt=!0,n||(this.S9||(this.TEt(new Lo),this.kEt()),(null==(t=this.VG)?void 0:t._B)&&this.VG.SI(),this.EEt())},i.AI=function(){this.xEt||(this.xEt=new Zc),this.REt();var t=this.xEt.Bb;return jo(t),t},i.REt=function(){if(this.Ikt=!1,this.M9=!0,this.IEt=!1,this.Nkt(),this.kR){var t=this.Tkt;t.V>0&&this.Sb(t.Cn(0))}this.S9||this.B9().then(this.CEt,this.TEt),this.tkt(),this.EEt()},i.B9=function(){return this.LB.AI()},i.kEt=function(){this.LB.bI()},i.e8=function(){this.S9||(this.Ikt=this.ZR,this.S9=!0,this.kEt())},i.o8=function(){this.S9&&(this.S9=!1,this.Ikt||this.B9().then(this.CEt,this.TEt),this.tkt(),this.EEt())},i.EEt=function(){var t=this.RW,n=this.ZR;t!==n&&(this.RW=n,n?this.yo(new oT(this.yR)):this.yo(new aT(this.yR)))},i.Sb=function(t,n,i){return void 0===n&&(n=!1),void 0===i&&(i=OW.iTt),this.tEt=!0,this.ikt.Xw(),this.q9.Xw(),this.rZ=!0,this.y9=t,this.IEt=this.IEt&&this.b9(),this.Dkt(this.Pkt),this.PEt(new vT(this.yR)),this.q9=new Ho,this.Y9=Uo(this.K9(t,this.okt,this.Y9,this.nkt,this.q9.Bw,n,i),this.q9).catch(this.Xpt),this.Y9},i.DEt=function(){this.q9.Xw()},i.K9=function(t,n,i,r,e,u,s,o){void 0===u&&(u=!1),void 0===s&&(s=OW.iTt),void 0===o&&(o=!1);var a=this;return Zt((function(){var c,h,f,v,d,l,g,w,m,y,p,_,b,k,A,T,S,E;return Ht(this,(function(I){switch(I.label){case 0:null==(c=a.VG)||c.SI(),0,I.label=1;case 1:return I.trys.push([1,30,,31]),[4,et.all([n,i,r])];case 2:return I.sent(),Oo(e),[4,Fo(a.hkt.Bb,e)];case 3:return I.sent(),v=a.Tkt.ZL(t),a.y9=v,d=o||(null==(f=a.wc)||null==(h=f.dash)?void 0:h.forceHardSwitchWhenSeekingBackwards)&&v<=a.yR,l=a.NEt(v),g=a.akt,d||!g||!g.iI.gr(v)&&s!==OW.sTt&&g.kc!==l?[3,8]:!(w=a.bkt)||w.Npt?[3,7]:[4,w.Mat()];case 4:return I.sent(),a.z2(),m=a.ckt(g.Zpt,g.Jgt),a.UTt(m)?[4,a.ZTt(m)]:[3,6];case 5:I.sent(),I.label=6;case 6:a.vkt=m,I.label=7;case 7:return[3,27];case 8:return l?(y=a.bkt,a.e8(),g?[4,g.Mat()]:[3,10]):[3,27];case 9:I.sent(),I.label=10;case 10:return!y||y.kc!==l||d?[3,13]:(p=a.ckt(y.Zpt,y.Jgt),a.z2(),a.UTt(p)?[4,a.ZTt(p)]:[3,12]);case 11:I.sent(),I.label=12;case 12:return a.vkt=p,[3,25];case 13:return y?[4,y.gn(!0)]:[3,15];case 14:I.sent(),I.label=15;case 15:return _=a.ift(l),b=null==g?void 0:g.kc,k=null==g?void 0:g.Hpt,A=IW(l,_,b,k,a.kpt),T=a.ukt(l,A,b,k,!1),A.forEach((function(t){return t.Rt=!0})),S=a.ckt(A,T),!a.hEt(l)||d?[3,18]:(a.z2(),a.UTt(S)?[4,a.ZTt(S)]:[3,17]);case 16:I.sent(),I.label=17;case 17:return[3,23];case 18:return T=a.ukt(l,A,b,k,!0),S=a.ckt(A,T),g?(a.wEt.fn(kg.aa,a.yEt),[4,g.gn()]):[3,20];case 19:I.sent(),a.wEt.yn(kg.aa,a.yEt),a.akt=void 0,I.label=20;case 20:return[4,a.zTt()];case 21:return I.sent(),[4,a._p(S)];case 22:I.sent(),I.label=23;case 23:return a.vkt=S,[4,a.$Tt(l,_,A,T)];case 24:y=I.sent(),a.bkt=y,a.mEt.cC=y.nt,a.jkt(y),y.Oat(a.akt),I.label=25;case 25:return[4,y.Bat(nO.mht)];case 26:return I.sent(),a.$kt(y),[3,27];case 27:return jo(E=a.pkt(v,u,!1,e)),a.y9=void 0,[4,a.akt.Bat(nO.mht)];case 28:return I.sent(),Oo(e),a.fkt(),[4,E];case 29:return I.sent(),Oo(e),a.o8(),a.rZ=!1,a.MEt(new dT(a.yR)),a.eEt(),[3,31];case 30:return Mo(I.sent())?[2]:[3,31];case 31:return[2]}}))}))()},i.eEt=function(){if(!this.ZR&&!this.nI&&void 0!==this.ZB){var t,n,i=this.yR;if(this.yR+this.ZB-this.vI.md.maximumOffset<i)null==(t=this.VG)||t.Cn();else null==(n=this.VG)||n.SI()}},i.pkt=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a,c,h,f,v,d;return Ht(this,(function(l){switch(l.label){case 0:u=!0,s=t,l.label=1;case 1:0,c={stack:[],error:void 0,hasError:!1},l.label=2;case 2:if(l.trys.push([2,4,5,6]),(h=e.Bkt).V>0&&(f=h.ZL(t),s!==f&&(h.gr(s)&&e.Nyt.ndt.pw===xB._W||(s=f,u=!0))),u)u=!1,null==a||a.Xw(),(a=new Ho).zw(r),jo(o=Uo(e.LEt(s,n,i,a.Bw),a));else if(!e.Okt&&!e.A4)return[3,7];return v=Yt(c,Ho.Yw([r]),!1),[4,et.race([o,e.uy([ua.Yy,ua.Sy],v.Bw),e.Nyt.ndt.uy(eO.Jht,v.Bw)])];case 3:return l.sent(),[3,6];case 4:return d=l.sent(),c.error=d,c.hasError=!0,[3,6];case 5:return jt(c),[7];case 6:return[3,1];case 7:return[2]}}))}))()},i.LEt=function(t,n,i,r){var e=this;return Zt((function(){return Ht(this,(function(u){switch(u.label){case 0:e.LB.Sb(t,n,i),u.label=1;case 1:return e.Okt||e.A4?[4,e.LB.uy([ua.zy,ua.My],r)]:[3,3];case 2:return u.sent(),[3,1];case 3:return[2]}}))}))()},i.mkt=function(){void 0===this.Akt&&(this.Akt=this.gkt,this.LB.fn(ua.qy,this.PEt),this.LB.fn(ua.zy,this.MEt))},i.wkt=function(){if(void 0!==this.Akt){var t=this.gkt;this.Akt=void 0,this.LB.yn(ua.qy,this.PEt),this.LB.yn(ua.zy,this.MEt),this.gkt!==t&&this.xc()}},i.BEt=function(t){this.Fo=this.Fo.KL(t)},i.NEt=function(t){var n=this.Nyt.ndt,i=n.Dpt.filter((function(t){return t.ct>=.2}));if(0!==i.length){var r=i[0];if(t<=r.Cn)return r;for(var e=0;e<i.length;e++){var u=i[e];if(u.jn>t)return u}return n.pw!==xB._W?i[i.length-1]:void 0}},i.GAt=function(t){for(var n=t.Kpt;n&&n.ct<.2;)n=n.Kpt;return n},i.UAt=function(t){for(var n=t.jpt;n&&n.ct<.2;)n=n.jpt;return n},i.ka=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:e={stack:[],error:void 0,hasError:!1},v.label=1;case 1:return v.trys.push([1,8,9,10]),r.iH.yG(t.contentProtection),r.OEt(),!r.wc||$A(r.wc)?[3,3]:[4,r.tr()];case 2:v.sent(),v.label=3;case 3:return!t||$A(t)?[2]:(s=Yt(e,Ho.Yw([i]),!1),r.cW=Ho.Yw([s.Bw]),r.wc=t,r.FEt=n,r.kpt=t.abr,r.upt=t.ignoreEmbeddedTextTrackTypes,o=new VW(r.aW,Boolean(r.wc.useCredentials),r.Zlt),a=ZW(o,r.Lut),r.ESt(!0),r.rEt=new AW({MC:Kn.Ah(r.wc.src),DSt:null!=(c=null==(u=r.wc.latencyConfiguration)?void 0:u.targetOffset)?c:r.wc.liveOffset,OSt:r.wc.timeServer,AE:r.wc.useCredentials},r.VEt(r.kpt),r.aW,a,r.wc.dash),r.Nyt=r.rEt.Tr,r.Nyt.ndt.yn(ua.By,r.WEt),r.Nyt.ndt.yn(ua.Oy,r.UEt),r.Nyt.ndt.yn(tW.jAt,r.GEt),r.Nyt.ndt.yn(eO.Jht,r.tkt),[4,r.HEt.$n(r.Nyt.ndt)]);case 4:return v.sent(),[4,r.ZEt.$n(r.Nyt.ndt)];case 5:return v.sent(),mo(r.upt,kw.EMSG)?[3,7]:(r.qgt=new mZ(r.oW),r.Ul.xG(r.qgt.Z),[4,r.qgt.$n(r.Nyt.ndt)]);case 6:v.sent(),v.label=7;case 7:return t.latencyConfiguration&&(h=t.latencyConfiguration,r.VG=new pZ(r,r.LB,h),r.VG.Rt=!0,r.KG.Sa(r.VG)),r.Nkt(),s.Ww(),[3,10];case 8:return f=v.sent(),e.error=f,e.hasError=!0,[3,10];case 9:return jt(e),[7];case 10:return[2]}}))}))()},i.XEt=function(){var t=this;return Zt((function(){var n,i,r;return Ht(this,(function(e){switch(e.label){case 0:return n=t.Nyt.ndt.GR,t.ESt(n),n?(t.Ykt(),[3,3]):[3,1];case 1:return[4,et.all([null==(i=t.akt)?void 0:i.Mat(nO.Pht),null==(r=t.bkt)?void 0:r.Mat(nO.Pht)].filter(Yn))];case 2:e.sent(),t.sEt(),t.DEt(),t.skt.Xw(),e.label=3;case 3:return[2]}}))}))()},i.ESt=function(t){this.kSt!==t&&(this.kSt=t,this.yo(t?new GW:new HW))},i.Nkt=function(){this.Nyt&&(this.zEt=this.qEt(this.zEt,this.cW.Bw).catch(this.Xpt))},i.qEt=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return t?[4,t]:[3,2];case 1:e.sent(),Oo(n),e.label=2;case 2:return e.trys.push([2,7,,8]),i.QR===GT.qB||i.M9?[4,i.YEt(n)]:[3,4];case 3:return e.sent(),[3,6];case 4:return i.QR!==GT.jV?[3,6]:[4,i.KEt(n)];case 5:return e.sent(),[3,6];case 6:return[3,8];case 7:throw Bo(r=e.sent()),i.PH(new td(Qv.MANIFEST_LOAD_ERROR,r.message,r)),r;case 8:return[2]}}))}))()},i.YEt=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,n.KEt(t)];case 1:r.sent(),n.jEt||(n.jEt=!0,n.hkt.zw(n.$n(n.FEt,t))),r.label=2;case 2:return r.trys.push([2,4,,5]),[4,n.hkt.Bb];case 3:return r.sent(),[3,5];case 4:return Bo(i=r.sent()),n.PH(new td(Qv.MEDIA_DECODE_ERROR,i.message,i)),[3,5];case 5:return[2]}}))}))()},i.KEt=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return[4,Fo(n.rEt.W,t)];case 1:return a.sent(),i=n.Nyt.ndt,void 0===n.VG&&i.pw===xB._W&&(r=i.Ayt,e=(null==r?void 0:r.sSt)?(null==r?void 0:r.sSt)/1e3:i.CSt,u=(null==r?void 0:r.tSt)?(null==r?void 0:r.tSt)/1e3:.5*e,s=(null==r?void 0:r.iSt)?(null==r?void 0:r.iSt)/1e3:1.5*e,o={minimumOffset:u,maximumOffset:s,targetOffset:e,forceSeekOffset:2.5*e,minimumPlaybackRate:SA,maximumPlaybackRate:EA},n.VG=new pZ(n,n.LB,o),n.KG.Sa(n.VG)),[2]}}))}))()},i.$kt=function(t){var i=this.akt;t!==i&&(this.akt&&this.Kkt(this.akt),this.bkt&&this.Qkt(this.bkt),i&&this.Dkt(this.Pkt),this.akt=t,this.bkt=i,this.Gkt(this.akt),this.bkt&&this.jkt(this.bkt),this.rO.cC=t.ht,this.hO.cC=t.rt,this.vEt(t),this.wEt.fn(kg.aa,this.yEt),n.QEt(this.wEt),this.wEt.yn(kg.aa,this.yEt),this.wEt.cC=t.nt,this.mEt.cC=void 0,this._Et())},i.ge=function(){this.LB.ge()},i.be=function(){this.LB.be()},i.PH=function(t){this.HG||(jo(this.tr()),this.HG=tw(t),this.ZG=t,this.yo(new wk(t)))},i.OEt=function(){this.HG=void 0,this.ZG=void 0},i.GTt=function(){var t=this.qG;t&&(t.j3&&(t.j3.mj=this.dZ.xj),t.K3&&(t.K3.mj=this.dZ.xj))},i.HTt=function(){var t=this.qG;t&&(t.j3&&(t.j3.yj=this.dZ.yj),t.K3&&(t.K3.yj=this.dZ.yj))},i.determineStallJumpTarget=function(){if(this.akt)return this.akt.Ept()&&this.yR>this.akt.jn-KC&&!this.akt.Ppt?this.akt.jn:void 0},i.tr=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:if(t.JEt)return[2,t.JEt];n.label=1;case 1:return n.trys.push([1,,3,4]),t.JEt=t.$Et(),[4,t.JEt];case 2:return n.sent(),[3,4];case 3:return t.JEt=void 0,[7];case 4:return[2]}}))}))()},i.$Et=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.zR=1,t.cW.Xw(),t.DEt(),t.sEt(),t.skt.Xw(),t.hkt.Xw(),t.tEt=!1,t.bI(),t.M9=!1,t.IEt=!1,t.rO.cC=void 0,t.hO.cC=void 0,t.wEt.cC=void 0,t.mEt.cC=void 0,t.zEt?[4,t.zEt.catch(pi)]:[3,2];case 1:n.sent(),t.zEt=void 0,n.label=2;case 2:return[4,et.all([t.okt,t.Y9,t.nkt,t.hkt.Bb.catch(pi)])];case 3:return n.sent(),t.akt?[4,t.akt.gn(!0)]:[3,5];case 4:n.sent(),t.akt=void 0,n.label=5;case 5:return t.bkt?(t.Qkt(t.bkt),[4,t.bkt.gn(!0)]):[3,7];case 6:n.sent(),t.bkt=void 0,n.label=7;case 7:return[4,t.zTt()];case 8:return n.sent(),t.vkt=void 0,t.fEt=void 0,t.lH.tr(),[4,t.HEt.tr()];case 9:return n.sent(),[4,t.ZEt.tr()];case 10:return n.sent(),void 0===t.qgt?[3,12]:(t.Ul.DG(t.qgt.Z),[4,t.qgt.gn()]);case 11:n.sent(),t.qgt=void 0,n.label=12;case 12:return t.oW.tr(),t.Nyt?(t.Nyt.ndt.fn(ua.By,t.WEt),t.Nyt.ndt.fn(ua.Oy,t.UEt),t.Nyt.ndt.fn(tW.jAt,t.GEt),[4,t.rEt.gn()]):[3,14];case 13:n.sent(),t.Nyt=void 0,n.label=14;case 14:return t.Mkt=!1,t.txt=NaN,t.ixt=0,t.sxt=0,t.Akt=void 0,t.S9=!1,t.Fo=AA.fB(),t.RW=!0,t.y9=void 0,t.nxt=!1,t.rZ=!1,t.jEt=!1,t.hkt=new Zc,t.Ekt=0,t.xkt=0,t.Rkt=0,t.wc=void 0,t.FEt=void 0,t.upt=[],t.pEt=void 0,t.KG.tr(),t.VG=void 0,t.qTt={uO:0,cO:0,lO:0},[4,t.hH.tr()];case 15:return n.sent(),t.LB.cH(),t.rxt.tr(),[2]}}))}))()},i.gn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.Bo(),t.OEt(),[4,t.tr()];case 1:return n.sent(),t.Bo(),t.rO.gn(),t.hO.gn(),t.wEt.gn(),t.mEt.gn(),t.Ul.gn(),t.lH.gn(),t.oxt.Ww(),[4,t.HEt.gn()];case 2:return n.sent(),[4,t.ZEt.gn()];case 3:return n.sent(),t.oW.gn(),t.rxt.gn(),t.LB.fn(ua.Sy,t.Y8),t.LB.fn(fa.Ey,t.u9),t.LB.fn(ua.xy,t.hxt),t.LB.fn(ua.qy,t.PEt),t.LB.fn(ua.zy,t.MEt),t.LB.fn(ua.Xy,t.qkt),t.LB.fn(ua.$y,t.xc),t.LB.fn([ua.so,ua.Uy],t.axt),t.LB.fn(bZ,t.Ds),[4,t.hH.gn()];case 4:return n.sent(),t.Ul.gn(),t.dZ.fn("vj",t.uxt),t.dZ.fn("wj",t.cxt),t.LB.fn(Vy.ua,t.lxt),t.LB.fn([ua.wy,ua.py],t.Ds),t.LB.fn(ua.ob,t.Jpt),t.LB._H=void 0,t.iH.fn("contentProtectionsTracked",t.dxt),t.LB.f7=void 0,[2]}}))}))()},i.pI=function(){return this.LB.wa},i._a=function(){return this.LB.aH},i.TI=function(){return!1},i.kI=function(){},i.EI=function(){},i.xI=function(){},i.RI=function(){this.ekt(!0)},i.DI=function(t){var n=this.LB.uH(t);return this.rxt.tt(n),n},n.bEt=function(t,n){for(var i=[],r=[],e=!n.some((function(t){return t.nft.some((function(t){return"main"===t.Ix}))})),u=0;u<n.length;u++){var s=n[u];if(-1===i.indexOf(s)){var o=TZ(s.gdt.concat(s.nft),e);e=!1;for(var a=s.Uat.map((function(t){return t.nat})),c=new IB(s,a,o),h=SZ(s,n),f=0;f<h.length;f++){var v=h[f];c.Ddt(v),i.push(v)}r.push(c)}}return new SW(t,r)},n.AEt=function(t,n){if(t.length){for(var i,r=0;r<t.length;r++){var e=t[r],u=0===e.Ldt.length;i=$W(i,rZ(e.lct,n,u))}return(null==n?void 0:n.preferredKeySystems)&&i&&(i.$gt=aZ(i.$gt,n.preferredKeySystems)),i}},n.QEt=function(t){for(var n=0,i=t.oC;n<i.length;n++){i[n].TE=Oy.Ch}},Nt(n,[{key:"ht",get:function(){return this.rO}},{key:"WG",get:function(){var t=this.gkt,n=this.ykt,i=n.JL(t);if(-1!==i)return{Cn:n.Cn(i),jn:n.jn(i)}}},{key:"ykt",get:function(){var t,n,i,r,e=null!=(i=null==(t=this.akt)?void 0:t._R)?i:AA.fB(),u=null!=(r=null==(n=this.bkt)?void 0:n._R)?r:AA.fB();return e.KL(u)}},{key:"_R",get:function(){return this.ykt.ks()}},{key:"mR",get:function(){var t,n=null==(t=this.Nyt)?void 0:t.ndt,i=null==n?void 0:n.lyt;if(n&&i){var r=i.getTime(),e=1e3*this.yR;return new Date(e+r)}},set:function(t){var n,i=null==(n=this.Nyt)?void 0:n.ndt,r=null==i?void 0:i.lyt;if(t&&i&&r){var e=r.getTime()/1e3,u=t.getTime()/1e3;this.Sb(u-e)}}},{key:"bt",get:function(){return this.wc}},{key:"gkt",get:function(){return void 0!==this.y9?this.y9:void 0!==this.Akt?this.Akt:this.LB.yR}},{key:"yR",get:function(){return this.gkt},set:function(t){this.AR(t)}},{key:"ct",get:function(){var t=NaN;return this.akt&&this.akt.Ppt?t=this.akt.jn:this.Nyt&&void 0!==this.Nyt.ndt.pw&&(t=this.Nyt.ndt.myt?this.Nyt.ndt.myt.twt():1/0),t}},{key:"jn",get:function(){return this.ct}},{key:"kR",get:function(){return this.nI?this.b9():!(!this.akt||!this.akt.Ppt)&&this.LB.kR}},{key:"lt",get:function(){return this.HG}},{key:"RR",get:function(){return this.ZG}},{key:"PR",get:function(){}},{key:"LR",get:function(){return $u({},this.YTt,{dO:pk.Lg.rG(),fO:this.Ekt,_O:{amountOfBufferedAudioSegments:this.xkt,amountOfBufferedVideoSegments:this.Rkt}})}},{key:"YTt",get:function(){return function(t,n){return{uO:t.uO+n.uO,cO:t.cO+n.cO,lO:t.lO+n.lO}}(this.qTt,this.LB.OR())}},{key:"FR",get:function(){return this.LB.FR},set:function(t){this.LB.FR=t}},{key:"ZR",get:function(){return this.S9?this.Ikt:this.akt&&this.akt.Ppt?this.Ckt:this.Ikt}},{key:"zR",get:function(){return this.LB.zR},set:function(t){this.LB.zR=t}},{key:"KR",get:function(){var t=this.Fo;return this.akt&&(t=t.KL(this.Pkt)),t.YL(.1).ks()}},{key:"Pkt",get:function(){return this.LB.KR}},{key:"QR",get:function(){return this.zG},set:function(t){this.zG=t,this.Nkt()}},{key:"tI",get:function(){var t=this.LB.tI;return this.Mkt&&(t=k.max(pp.Xn,t)),t}},{key:"Tkt",get:function(){return this.Lkt(!1)}},{key:"Bkt",get:function(){return this.Lkt(!0)}},{key:"iI",get:function(){return this.Tkt.ks()}},{key:"nI",get:function(){return this.rZ||this.Okt}},{key:"Okt",get:function(){return this.LB.nI}},{key:"A4",get:function(){return this.LB.A4}},{key:"YG",get:function(){}},{key:"Fkt",get:function(){var t,n;return null!=(n=null==(t=this.Nyt)?void 0:t.ndt.pw)?n:xB.fW}},{key:"nt",get:function(){return this.Ul}},{key:"rt",get:function(){return this.hO}},{key:"hI",get:function(){var t;return this.Vkt||(null==(t=this.Wkt())?void 0:t.Ti)||0}},{key:"cI",get:function(){var t;return this.Ukt||(null==(t=this.Wkt())?void 0:t.ji)||0}},{key:"dI",get:function(){return this.LB.dI},set:function(t){this.LB.dI=er(t,0,1)}},{key:"vI",get:function(){return this.KG}},{key:"gI",get:function(){return!1},set:function(t){}},{key:"jG",get:function(){return this.QG}},{key:"Ckt",get:function(){return this.LB.ZR}},{key:"GR",get:function(){return this.kSt}},{key:"NR",get:function(){return!1}},{key:"ZB",get:function(){var t,n=null==(t=this.Nyt)?void 0:t.ndt;if(n&&n.pw===xB._W&&n.lyt)return n.sdt().getTime()/1e3-n.lyt.getTime()/1e3-this.yR}}]),n}(na),AZ=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).ta=n,r}return It(n,t),n.prototype.fxt=function(){this.yo(new yp(this.yR,this.tI))},Nt(n,[{key:"tI",get:function(){return this.ta.tI}}]),n}(Rp);function TZ(t,n){var i=t.filter((function(t){return"urn:mpeg:dash:role:2011"===t.J6})).map((function(t){return t.Ix})).filter(Yn);return n||mo(i,"main")?mo(i,"caption")?"captions":mo(i,"subtitle")?"subtitles":mo(i,"dub")?"translation":"main":mo(i,"sign")?"sign":mo(i,"description")?"descriptions":mo(i,"commentary")?"commentary":"alternative"}function SZ(t,n){for(var i,r,e=function(t){var i=s[t],r=Number(i),e=ao(n,(function(t){return t.o===r}));e&&o.push(e)},u=ao(Ft(t.kwt).concat(Ft(t.Ewt)),(function(t){return"urn:mpeg:dash:adaptation-set-switching:2016"===t.J6})),s=null!=(r=null==u||null==(i=u.Ix)?void 0:i.split(","))?r:[],o=[],a=0;a<s.length;a++)e(a);return o}var EZ=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,n,i,r,e,u,s,new DM(o))||this).zrt=o,Gn.jm&&(a.vxt=new YM(a)),a}It(n,t);var i=n.prototype;return i.wI=function(){if(CM(this.LB))return this.LB.wI()},i.gn=function(){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return r.sent(),null==(i=n.vxt)||i.gn(),[2]}}))}))()},i.hEt=function(n){var i,r;return((null!=(r=null==(i=this.wc)?void 0:i.seamlessSwitchStrategy)?r:xA.qB)!==xA.qB||!Gn.pg)&&t.prototype.hEt.call(this,n)},i.cEt=function(){return!(Gn.Em&&Gn.Rm<3)&&t.prototype.cEt.call(this)},i._xt=function(){return new PM(this,new MD)},i.VEt=function(t){return NM(t)},Nt(n,[{key:"Vkt",get:function(){return CM(this.LB)?this.LB.hI:0}},{key:"Ukt",get:function(){return CM(this.LB)?this.LB.cI:0}}]),n}(kZ),IZ=function(t){function n(n,i,r,e,u,s,o,a){var c,h=new zM(s),f=h.DH(o);return(c=t.call(this,n,i,r,e,u,f,a)||this).mH=h,c}return It(n,t),n.prototype.gn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return i.sent(),[4,n.mH.vH(n.LB)];case 2:return i.sent(),[2]}}))}))()},n}(EZ);function RZ(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt();var CZ=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).QE=n,r}It(n,t);var i=n.prototype;return i.vR=function(){return t.prototype.vR.call(this).Ab(this.mxt)},i.yot=function(){return t.prototype.yot.call(this).Ab(this.mxt)},i.l2=function(n,i,r){var e=this.mxt;return t.prototype.l2.call(this,n,{hit:i.hit-e,ct:i.ct,PV:i.PV-e},r)},i.N2=function(n,i){var r=this.mxt;return t.prototype.N2.call(this,k.max(0,n-r),k.max(0,i-r))},i.jS=function(n,i,r){var e=this.mxt;return t.prototype.jS.call(this,k.max(0,n-e),k.max(0,i-e),r)},i.u3=function(n,i){var r=this.mxt;t.prototype.u3.call(this,k.max(0,n-r),k.max(0,i-r))},i.l3=function(n,i){var r=this.mxt;t.prototype.l3.call(this,k.max(0,n-r),k.max(0,i-r))},Nt(n,[{key:"mxt",get:function(){return this.QE.mxt}}]),n}(FM),NZ=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).lot(i),r.QE=n,r}It(n,t);var i=n.prototype;return i._d=function(){return t.prototype._d.call(this)+this.mxt},i.e4=function(n){t.prototype.e4.call(this,n-this.mxt)},i.sI=function(){return t.prototype.sI.call(this).Ab(this.mxt)},i.r4=function(n,i,r,e){var u=this.mxt;t.prototype.r4.call(this,n-u,i-u,r,e)},i.fot=function(t){return new CZ(this,t)},Nt(n,[{key:"mxt",get:function(){return this.QE.mxt}}]),n}(BM),DZ=function(t){function n(n){var i;return(i=t.call(this,n)||this).gxt=0,i.oW=new PM(i,new MD),i.Ul=new Sk([i.oW.nt,t.prototype.oI.call(RZ(i))]),i.Fet=new pP,i.Fet.d7(i.XG.parentElement),i.Vet=new Mx(i.Fet.we,i.Uu,i.Ul,i.Ll,i.wa,i.aH),i}It(n,t);var i=n.prototype;return i.vR=function(){return t.prototype.vR.call(this).Ab(this.gxt)},i.gR=function(){return PZ(t.prototype.gR.call(this),this.gxt)},i.bR=function(){return t.prototype.bR.call(this)+this.gxt},i._d=function(){return t.prototype._d.call(this)+this.gxt},i.jR=function(){return t.prototype.jR.call(this).Ab(this.gxt)},i.sI=function(){return t.prototype.sI.call(this).Ab(this.gxt)},i.Sb=function(n,i,r){var e=k.max(0,n-this.gxt);t.prototype.Sb.call(this,e,i,r)},i.UG=function(n){t.prototype.UG.call(this,PZ(n,-this.gxt))},i.oI=function(){return this.Ul},i.DI=function(t,n,i,r,e,u,s,o){return this.oW.DI(t,n,i,r,e,u,s,o)},i.uH=function(t){return this.oW.uH(t)},i.lW=function(t){this.oW.lW(t)},i.cH=function(){this.oW.tr(),t.prototype.cH.call(this)},i.nH=function(){return!1},i.oH=function(t,n,i,r,e){throw new p("Not supported")},i.Ww=function(){return this.Vet.gn(),this.Fet.gn(),this.oW.gn(),this.Ul.gn(),t.prototype.Ww.call(this)},i.hot=function(t){return new NZ(this,t)},i.oot=function(t){return new ZM(t)},i.II=function(n){var i;switch(n.type){case ua.so:i=new aT(n.currentTime+this.gxt);break;case ua.Uy:i=new oT(n.currentTime+this.gxt);break;case wp.BL:i=new Sp(n.currentTime+this.gxt);break;case ua.$y:i=new vg(n.currentTime+this.gxt,PZ(n.currentProgramDateTime,this.gxt));break;case ua.Gy:i=new BR(n.currentTime+this.gxt);break;case ua.qy:i=new vT(n.currentTime+this.gxt);break;case ua.zy:i=new dT(n.currentTime+this.gxt);break;case ua.Dy:i=new sN(n.currentTime+this.gxt);break;case ua.My:i=new rP(n.currentTime+this.gxt);break;case ua.xy:i=new fT(n.currentTime+this.gxt);break;case ua.Hy:i=new hT(n.currentTime+this.gxt,n.playbackRate);break;case ua.eb:i=new lT(n.currentTime+this.gxt,n.volume);break;case ua.Sy:i=new cT(n.duration+this.gxt);break;case wp.QI:i=new yp(n.currentTime+this.gxt,n.readyState);break;default:i=n}t.prototype.II.call(this,i)},i.be=function(){t.prototype.be.call(this),this.Fet.be()},i.ge=function(){t.prototype.ge.call(this),this.Fet.ge()},Nt(n,[{key:"qrt",get:function(){return this.LB}},{key:"mxt",get:function(){return this.gxt},set:function(t){this.gxt=t}}]),n}(XM);function PZ(t,n){return t?new Date(t.getTime()+1e3*n):void 0}var xZ=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.DH=function(n){if(n===jg.lE)return new DZ(t.prototype.DH.call(this,n))},i.vH=function(n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return[4,(r=n).Ww()];case 1:return e.sent(),[4,t.prototype.vH.call(i,r.qrt)];case 2:return e.sent(),[2]}}))}))()},n}(xM),LZ=function(t){function n(n,i,r,e,u,s,o,a){var c,h=new xZ(new zM(s)),f=h.DH(o);return(c=t.call(this,n,i,r,e,u,f,a)||this).mH=h,c.pxt=void 0,c}It(n,t);var i=n.prototype;return i._p=function(n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return[4,t.prototype._p.call(i,n)];case 1:return r.sent(),void 0===i.pxt&&(i.pxt=i.wxt(),i.LB.mxt=i.pxt),[2]}}))}))()},i.wxt=function(){if(this.ct===1/0){var t=this.Tkt;if(t.V>0)return k.max(0,t.Cn(0)-300)}return 0},i.K9=function(n,i,r,e,u,s,o,a){return void 0===s&&(s=!1),void 0===o&&(o=OW.iTt),void 0===a&&(a=!1),a||(a=this.ct===1/0&&Gn.Em&&Gn.Rm<3&&n<=this.yR),t.prototype.K9.call(this,n,i,r,e,u,s,o,a)},i.tr=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.tr.call(n)];case 1:return i.sent(),n.pxt=void 0,n.LB.mxt=0,[2]}}))}))()},i.gn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return i.sent(),[4,n.LB.Ww()];case 2:return i.sent(),[4,n.mH.vH(n.LB)];case 3:return i.sent(),[2]}}))}))()},n.vT=function(t){var n;return(!t||"google-dai"!==(null==t||null==(n=t.ssai)?void 0:n.integration))&&(Gn.Em&&Gn.Rm<4)},n}(EZ);F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Dt(),Rt();var MZ=function(t){function n(n){return t.call(this,n)||this}return It(n,t),Nt(n,[{key:"qrt",get:function(){return this.LB}},{key:"hI",get:function(){return this.LB.hI}},{key:"cI",get:function(){return this.LB.cI}}]),n}(LM);F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Gt(),Rt(),qt();var OZ=function(t){function n(n){var i;return(i=t.call(this,n)||this).q2=void 0,i.yxt=void 0,i.Ij=0,i.bxt=AA.fB(),i.Axt=AA.fB(),i.xxt=[],i.nit=!1,i.Ext=!1,i.Ej=0,i.IT=n.md,i}It(n,t);var i=n.prototype;return i.got=function(){return this.yxt?this.Ij:t.prototype.got.call(this)},i.pot=function(n){this.yxt?this.Ij=n:t.prototype.pot.call(this,n)},i.vR=function(){return this.yxt?this.bxt:t.prototype.vR.call(this)},i.lT=function(){return this.yxt?this.IT:t.prototype.lT.call(this)},i.yot=function(){return this.yxt?this.Axt:t.prototype.yot.call(this)},i.bot=function(){return this.yxt?this.Ej:t.prototype.bot.call(this)},i.Aot=function(n){this.yxt?this.Ej=n:t.prototype.Aot.call(this,n)},i.l2=function(t,n,i){var r=this;return this.d2((function(i){return r.Sxt(t,n,i)}),i)},i.Sxt=function(n,i,r){return t.prototype.l2.call(this,n,i,r)},i.d3=function(){var t=this;return this.d2((function(){return t.Txt()}))},i.Txt=function(){return t.prototype.d3.call(this)},i._2=function(t,n,i){var r=this;return this.d2((function(i){return r.kxt(t,n,i)}),i)},i.kxt=function(n,i,r){return t.prototype._2.call(this,n,i,r)},i.SJ=function(){return this.yxt?this.nit:t.prototype.SJ.call(this)},i.i3=function(){this.yxt?this.Ext=!0:t.prototype.i3.call(this)},i.u3=function(t,n){this.yxt?(this.Axt=this.Axt.KL(new AA([t,n])),this.xxt.push({pw:"xct",LO:t,BO:n})):this.Rxt(t,n)},i.Rxt=function(n,i){t.prototype.u3.call(this,n,i)},i.N2=function(t,n){var i=this;return this.d2((function(){return i.Ixt(t,n)}))},i.Ixt=function(n,i){return t.prototype.N2.call(this,n,i)},i.l3=function(t,n){this.yxt?(this.Axt=this.Axt.QL(new AA([t,n])),this.xxt.push({pw:"jS",LO:t,BO:n})):this.Cxt(t,n)},i.Cxt=function(n,i){t.prototype.l3.call(this,n,i)},i.jS=function(t,n,i){var r=this;return this.d2((function(i){return r.Pxt(t,n,i)}),i)},i.Pxt=function(n,i,r){return t.prototype.jS.call(this,n,i,r)},i.uJ=function(t){var n=this;return this.d2((function(){return n.Dxt(t)}))},i.Dxt=function(n){return t.prototype.uJ.call(this,n)},i.d2=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return i.U2(),i.yxt?[4,Fo(i.yxt.Bb,n)]:[3,2];case 1:r.sent(),i.U2(),r.label=2;case 2:Oo(n),r.label=3;case 3:return r.trys.push([3,,5,6]),i.q2=t(n),[4,i.q2];case 4:return r.sent(),[3,6];case 5:return i.q2=void 0,[7];case 6:return[2]}}))}))()},i.U2=function(){if(this.q2)throw new p("Internal error")},i.Nxt=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:if(t.yxt)throw new _("Already locked");return t.yxt=new Zc,t.Mxt(),t.q2?[4,t.q2.catch(pi)]:[3,2];case 1:n.sent(),t.Mxt(),n.label=2;case 2:return[2]}}))}))()},i.Lxt=function(){var t;null==(t=this.yxt)||t.Mb(),this.yxt=void 0,this.Bxt()},i.Mxt=function(){this.IT=t.prototype.lT.call(this),this.Ij=t.prototype.got.call(this),this.Ej=t.prototype.bot.call(this),this.bxt=t.prototype.vR.call(this),this.Axt=t.prototype.yot.call(this),this.nit=t.prototype.SJ.call(this),this.Ext=!1},i.Bxt=function(){this.U2(),t.prototype.pot.call(this,this.Ij),t.prototype.Aot.call(this,this.Ej);var n=this.xxt.slice();po(this.xxt);for(var i=0;i<n.length;i++){var r=n[i];"xct"===r.pw?this.Rxt(r.LO,r.BO):this.Cxt(r.LO,r.BO)}this.Ext&&t.prototype.i3.call(this),this.bxt.sB(t.prototype.vR.call(this))||this.yo(new ea(CR.KQ))},i.Ww=function(){var n;null==(n=this.yxt)||n.Xw(),this.yxt=void 0,t.prototype.Ww.call(this)},n}(FM),BZ=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).Oxt=void 0,r.QE=n,r}It(n,t);var i=n.prototype;return i.vR=function(){var n,i;return t.prototype.vR.call(this).KL(null!=(i=null==(n=this.Oxt)?void 0:n._R)?i:AA.fB())},i.yot=function(){var n,i;return t.prototype.yot.call(this).KL(null!=(i=null==(n=this.Oxt)?void 0:n.o3)?i:AA.fB())},i.pot=function(n){t.prototype.pot.call(this,n),this.Oxt&&(this.Oxt.yj=n)},i.Aot=function(n){t.prototype.Aot.call(this,n),this.Oxt&&(this.Oxt.mj=n)},i.Rxt=function(n,i){t.prototype.Rxt.call(this,n,i),this.Oxt&&this.Oxt.u3(n,i)},i.Cxt=function(n,i){t.prototype.Cxt.call(this,n,i),this.Oxt&&this.Oxt.l3(n,i)},i.Pxt=function(n,i,r){var e=this;return Zt((function(){var u;return Ht(this,(function(s){switch(s.label){case 0:return Oo(r),(u=[]).push(t.prototype.Pxt.call(e,n,i,r)),e.Oxt&&u.push(e.Oxt.jS(n,i,r)),[4,et.all(u)];case 1:return s.sent(),[2]}}))}))()},i.hJ=function(n){return!!t.prototype.hJ.call(this,n)||this.QE.Fxt(n)},i.Dxt=function(n){return t.prototype.hJ.call(this,n)?t.prototype.Dxt.call(this,n):this.QE.Vxt(n)},i.Wxt=function(t){var n,i;null==(n=this.Oxt)||n.fn(NR,this.Sot),this.Oxt=t,null==(i=this.Oxt)||i.yn(NR,this.Sot)},n}(OZ),VZ=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).Uxt=void 0,r.IA=NaN,r.qxt=!1,r.Yxt=!1,r.Kxt=void 0,r.lot(i),r.QE=n,r}It(n,t);var i=n.prototype;return i.hJ=function(n){var i=void 0!==this.Q3,r=void 0!==this.J3,e=n.o4.some((function(t){return Bs(t.Ik,"audio")})),u=n.o4.some((function(t){return Bs(t.Ik,"video")}));return i===e&&r===u&&(!!t.prototype.hJ.call(this,n)||(!(!this.Uxt||!this.Uxt.hJ(n))||this.QE.Gxt(n)))},i.uJ=function(n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return t.prototype.hJ.call(i,n)?[4,t.prototype.uJ.call(i,n)]:[3,2];case 1:case 3:case 6:return[2,r.sent()];case 2:return i.Uxt&&i.Uxt.hJ(n)?(i.Hxt(),[4,i.uJ(n)]):[3,4];case 4:return[4,i.QE.Zxt(n)];case 5:return r.sent(),[4,i.uJ(n)];case 7:return[2]}}))}))()},i.Fxt=function(t){return this.hJ(this.Xxt(t))},i.Vxt=function(t){return this.uJ(this.Xxt(t))},i.Xxt=function(t){var n=this.md,i=n.o4.map((function(n){return Bs(t.Ik,"audio")&&Bs(n.Ik,"audio")||Bs(t.Ik,"video")&&Bs(n.Ik,"video")?t:n}));return $u({},n,{o4:i})},i.r4=function(n,i,r,e){t.prototype.r4.call(this,n,i,r,e),this.Uxt&&this.Uxt.r4(n,i,r,e)},i.zxt=function(){return!this.qxt&&this.Yxt},i._d=function(){return void 0!==this.Kxt?this.Kxt:this.zxt()?this.IA:t.prototype._d.call(this)},i.e4=function(n){this.IA=n,this.Kxt=void 0,this.zxt()||t.prototype.e4.call(this,n)},i.cot=function(){return!this.zxt()&&t.prototype.cot.call(this)},i.i3=function(){this.Kxt=k.max(UZ(this.qG.K3),UZ(this.qG.j3)),this.zxt()||t.prototype.i3.call(this)},i.z2=function(){this.Kxt=void 0,this.zxt()||t.prototype.z2.call(this)},i.fot=function(t){return new BZ(this,t)},i.jxt=function(){this.qxt=!this.qxt},i.Hxt=function(){var t=this.qG,n=this.Uxt;n&&(this.qxt=!this.qxt,this.lot(n),this.Qxt(t),this.zxt()&&this.Jxt())},i.Qxt=function(t){var n,i;this.Uxt=t,null==(n=this.Q3)||n.Wxt(null==t?void 0:t.K3),null==(i=this.J3)||i.Wxt(null==t?void 0:t.j3)},i.$xt=function(t){var n=this.qG,i=this.Uxt;if(i){var r=this.qxt,e=r?n:i,u=(r?i:n)._R.uB(t);if(u){var s=rO(e._R,this.yot()).uB(u.jn(0),wr);if(s&&!(u.jn(0)+wr>=s.jn(0)))return k.max(u.jn(0),s.Cn(0))}}},i.tRt=function(t,n){var i=this;if(this.Yxt)return et.resolve();var r=this.qxt?this.Uxt:this.qG;return r?(this.Yxt=!0,this.eRt((function(n){if(Oo(n),i.Yxt)return function(t,n,i){return FZ.apply(this,arguments)}(r,t,n)}),n)):et.resolve()},i.Jxt=function(){if(this.Yxt){var t=this.qxt?this.Uxt:this.qG;if(t){var n;0,this.Yxt=!1;var i=null!=(n=this.Kxt)?n:this.IA;t.ct<i&&t.e4(i),t.z2()}}},i.iRt=function(t){var n,i=null!=(n=this.Kxt)?n:this.IA;t.e4(i),this.qxt?this.lot(t):this.Qxt(t)},i.yot=function(){var t,n,i,r,e=null!=(i=null==(t=this.Q3)?void 0:t.o3)?i:AA.fB(),u=null!=(r=null==(n=this.J3)?void 0:n.o3)?r:AA.fB();return e.KL(u)},i.eRt=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:r=[],i.Q3&&r.push(i.Q3.Nxt()),i.J3&&r.push(i.J3.Nxt()),e.label=1;case 1:return e.trys.push([1,,4,5]),[4,et.all(r)];case 2:return e.sent(),[4,t(n)];case 3:return e.sent(),[3,5];case 4:return i.Q3&&i.Q3.Lxt(),i.J3&&i.J3.Lxt(),[7];case 5:return[2]}}))}))()},i.vot=function(n){n.type===CR.KQ&&this.QE.Q2(),t.prototype.vot.call(this,n)},n}(BM);function FZ(){return FZ=Zt((function(t,n,i){var r;return Ht(this,(function(e){switch(e.label){case 0:return Oo(i),r=[],t.K3&&r.push($C(t.K3,n,i)),t.j3&&r.push($C(t.j3,n,i)),[4,et.all(r)];case 1:return e.sent(),t.i3(),[2]}}))})),FZ.apply(this,arguments)}function UZ(t){if(!t)return 0;var n=t._R;return n.V>0?n.jn(n.V-1):0}function WZ(t){return t.md.pw===gp._W}F(),Tt();var ZZ=function(t){function n(n,i,r){var e;return(e=t.call(this,n)||this).rRt=!1,e.y9=void 0,e.j9=NaN,e.Fo=AA.fB(),e.hZ=!0,e.mRt=!1,e.iZ=!0,e.lRt=void 0,e.hRt=void 0,e.oRt=new Ho,e.q9=new Ho,e.nRt=i,e.uRt=n,e.LB.ge(),e.nRt.be(),e.oW=new PM(e,r),e.Ul=new Sk([e.oW.nt,t.prototype.oI.call(RZ(e))]),e}It(n,t);var i=n.prototype;return i.vR=function(){return t.prototype.vR.call(this).KL(this.nRt._R)},i._d=function(){if(!this.rRt){var n=this.qG;if(n&&WZ(n))return n.ct}return t.prototype._d.call(this)},i.Krt=function(){return!!t.prototype.Krt.call(this)&&!(!this.rRt&&!this.SJ())},i.jrt=function(){return!!t.prototype.jrt.call(this)&&!(!this.rRt&&t.prototype.Krt.call(this)&&!this.SJ())},i.SJ=function(){var t=this.qG;return!(!t||!WZ(t))&&t.SJ},i.jR=function(){return this.Fo.KL(this.LB.KR)},i.sI=function(){return t.prototype.sI.call(this).KL(this.nRt.iI)},i.eI=function(){return t.prototype.eI.call(this)},i.Yrt=function(){var n;return null!=(n=t.prototype.Yrt.call(this))?n:this.nRt.YG},i.AI=function(){return this.hZ=!1,t.prototype.AI.call(this)},i.bI=function(){this.hZ=!0,t.prototype.bI.call(this)},i.o7=function(){this.rRt=!0,t.prototype.o7.call(this),this.nRt.o7()},i.h7=function(){this.rRt=!1,t.prototype.h7.call(this),this.nRt.o7()},i.bR=function(){var n;return null!=(n=this.y9)?n:t.prototype.bR.call(this)},i.rI=function(){return void 0!==this.y9||t.prototype.rI.call(this)},i.Sb=function(t,n,i){void 0===n&&(n=!1),void 0===i&&(i=!1),this.oRt.Xw(),this.q9.Xw(),this.q9=new Ho,this.hRt=Uo(this.K9(t,n,i,this.hRt,this.q9.Bw),this.q9).catch(pi)},i.K9=function(n,i,r,e,u){var s=this;return Zt((function(){return Ht(this,(function(o){switch(o.label){case 0:return s.y9=n,s.j9=n,s.yo(new vT(n)),e?[4,e.catch(pi)]:[3,2];case 1:o.sent(),o.label=2;case 2:return Oo(u),s.qG&&WZ(s.qG)&&s.qG.Jxt(),s.y9=void 0,t.prototype.Sb.call(s,n,i,r),s.nRt.Sb(n,i,r),s.aRt(),[2]}}))}))()},i.UG=function(t){var n=this.YG;if(n&&!S(n.getTime())){var i=(t.getTime()-n.getTime())/1e3;this.Sb(i)}},i.l7=function(){t.prototype.l7.call(this),this.nRt.l7()},i.be=function(){this.iZ&&(this.iZ=!1,this.uRt.be())},i.ge=function(){this.iZ||(this.iZ=!0,this.uRt.ge())},i.cRt=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.y9=void 0,t.j9=NaN,t.Fo=AA.fB(),null==(n=t.lRt)||n.Xw(),t.oRt.Xw(),t.q9.Xw(),t.hRt?[4,t.hRt.catch(pi)]:[3,2];case 1:i.sent(),t.hRt=void 0,i.label=2;case 2:return[2]}}))}))()},i.eot=function(n){t.prototype.eot.call(this,n),this.nRt._H=n},i.iot=function(n){t.prototype.iot.call(this,n),this.nRt.f7=n},i.oI=function(){return this.Ul},i.DI=function(t,n,i,r,e,u,s,o){return this.oW.DI(t,n,i,r,e,u,s,o)},i.uH=function(t){return this.oW.uH(t)},i.oH=function(t,n,i,r,e){throw new p("Not implemented yet")},i.nH=function(){return!1},i.lW=function(t){this.oW.lW(t)},i.cH=function(){this.oW.tr(),t.prototype.cH.call(this)},i.$n=function(n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return[4,t.prototype.$n.call(i,n)];case 1:return WZ(r=e.sent())&&i.aRt(),[2,r]}}))}))()},i.tr=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.cRt()];case 1:return i.sent(),[4,t.prototype.tr.call(n)];case 2:return i.sent(),[4,n.nRt.tr()];case 3:return i.sent(),[2]}}))}))()},i.Ww=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.cRt()];case 1:return i.sent(),n.oW.gn(),n.Ul.gn(),[4,t.prototype.Ww.call(n)];case 2:return i.sent(),[2]}}))}))()},i.hot=function(t){return new VZ(this,t)},i.oot=function(t){return new ZM(t)},i.aRt=function(){this.oRt.Xw(),this.oRt=new Ho,this.hRt=Uo(this.dRt(this.hRt,this.oRt.Bw),this.oRt).catch(pi)},i.dRt=function(t,n){var i=this;return Zt((function(){var r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return t?[4,t.catch(pi)]:[3,2];case 1:o.sent(),o.label=2;case 2:if(!i.qG||!WZ(i.qG))return[2];o.label=3;case 3:0,Oo(n),i.fRt()&&i.jxt(),r=void 0,i.qG.Jxt(),Oo(n),o.label=4;case 4:0,e={stack:[],error:void 0,hasError:!1},o.label=5;case 5:return o.trys.push([5,9,10,11]),Oo(n),i.fRt()?[3,12]:void 0===(r=i.qG.$xt(i.bR()))?[3,7]:(i._Rt(),[4,i.qG.tRt(r,n)]);case 6:return o.sent(),Oo(n),i.nRt.Sb(r),[3,12];case 7:return u=Yt(e,Ho.Yw([n]),!1),[4,et.race([i.uy(ua.$y,u.Bw),i.vRt(u.Bw)])];case 8:return o.sent(),[3,11];case 9:return s=o.sent(),e.error=s,e.hasError=!0,[3,11];case 10:return jt(e),[7];case 11:return[3,4];case 12:Oo(n),o.label=13;case 13:return i.fRt()?[3,15]:[4,i.LB.uy([ua.$y,ua.xy,wp.QI],n)];case 14:return o.sent(),[3,13];case 15:return[3,3];case 16:return[2]}}))}))()},i.fRt=function(){var t=this.qG;if(void 0===t||!WZ(t))return!1;var n=this.bR(),i=this.LB._R;return!(!this.LB.kR&&i.gr(n))&&!!rO(this.nRt._R,t.yot()).eB(n,n+wr)},i.jxt=function(){if(!this.mRt){0,this.mRt=!0,this.Fo=this.jR();var t=cN(this),n=this.rI(),i=this.eI(),r=this.LB,e=this.nRt,u=this.qG;u.Jxt(),u.jxt(),hN(e,t),this.uot(e),this.nRt=r,r.bI(),r.FR=!0,this.mRt=!1;var s=this.rI();n!==s&&(s?this.yo(new vT(this.yR)):this.yo(new dT(this.yR)));var o=this.eI();i!==o&&this.yo(new yp(this.yR,o)),s||this._Rt()}},i._Rt=function(){var t=this.LB,n=this.uRt;if(n!==t){0;var i=this.cI,r=this.hI;this.uRt=t,this.iZ&&(n.be(),t.ge());var e=this.cI,u=this.hI;e>0&&u>0&&(i!==e||r!==u)&&this.yo(new lp)}},i.Gxt=function(t){return void 0!==this.nRt.IJ([t])},i.Zxt=function(t){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:return n._Rt(),i=n.qG,[4,(r=n.nRt).tr()];case 1:return u.sent(),[4,r.$n(t)];case 2:return e=u.sent(),i.iRt(e),[2]}}))}))()},i.vRt=function(t){return this.lRt=new Zc,Fo(this.lRt.Bb,t)},i.Q2=function(){var t;null==(t=this.lRt)||t.Mb()},i.II=function(n){n.type===ua.qy&&this.j9===n.currentTime||(n.type===ua.zy&&(this.j9=NaN,this._Rt()),n.type!==wp.QI&&n.type!==ua.Uy&&n.type!==ua.xy||this.mRt||!this.fRt()?(n.type!==ua.xy||this.kR)&&t.prototype.II.call(this,n):this.aRt())},Nt(n,[{key:"sRt",get:function(){return this.nRt}},{key:"hI",get:function(){return this.uRt.hI}},{key:"cI",get:function(){return this.uRt.cI}}]),n}(MZ),XZ=function(t){function n(n,i){var r;return(r=t.call(this,n,i,new MD)||this).nO=new PT(n.aH),r.Fet=new pP,r.Fet.d7(n.XG.parentElement),r.Vet=new Mx(r.Fet.we,r.Uu,r.nt,r.Ll,r.wa,r.aH),r}It(n,t);var i=n.prototype;return i.be=function(){t.prototype.be.call(this),this.Fet.be()},i.ge=function(){t.prototype.ge.call(this),this.Fet.ge()},i.d7=function(t){this.LB.d7(t),this.nRt.d7(t)},i.xI=function(){this.LB.xI(),this.nRt.xI()},i.wI=function(){return this.LB.wI()},i._a=function(){return this.nO},i.uot=function(n){var i=this.pI(),r=this.wI();t.prototype.uot.call(this,n),this.nO.cC=n.aH,this.pI()!==i&&this.yo(new IT),this.wI()!==r&&this.yo(new RT)},i.Ww=function(){return this.nO.gn(),this.Vet.gn(),this.Fet.gn(),t.prototype.Ww.call(this)},Nt(n,[{key:"qrt",get:function(){return this.LB}},{key:"sRt",get:function(){return this.nRt}},{key:"XG",get:function(){return this.LB.XG}},{key:"C4",get:function(){return this.LB.C4}},{key:"gI",get:function(){return this.LB.gI},set:function(t){this.LB.gI=t}}]),n}(ZZ),GZ=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.DH=function(n){if(n===jg.lE){var i=t.prototype.DH.call(this,n),r=t.prototype.DH.call(this,n);return new XZ(i,r)}return t.prototype.DH.call(this,n)},i.vH=function(n){var i=this,r=function(){return t.prototype.vH};return Zt((function(){return Ht(this,(function(t){switch(t.label){case 0:return n instanceof XZ?[4,n.Ww()]:[3,4];case 1:return t.sent(),[4,r().call(i,n.qrt)];case 2:return t.sent(),[4,r().call(i,n.sRt)];case 3:return t.sent(),[3,6];case 4:return[4,r().call(i,n)];case 5:t.sent(),t.label=6;case 6:return[2]}}))}))()},n}(xM),HZ=function(t){function n(n,i,r,e,u,s,o,a){var c,h=new zM(new GZ(s)),f=h.DH(o);return(c=t.call(this,n,i,r,e,u,f,a)||this).mH=h,c}return It(n,t),n.prototype.gn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return i.sent(),[4,n.mH.vH(n.LB)];case 2:return i.sent(),[2]}}))}))()},n.vT=function(t){var n;return!Gn.Qs&&!Gn.dg&&!(t&&"google-dai"===(null==(n=t.ssai)?void 0:n.integration))},n}(EZ);F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Gt(),Rt(),qt();var zZ=function(t){function n(n){var i;return(i=t.call(this,n)||this).gRt=!1,i.bxt=AA.fB(),i.IA=0,i.pRt=!1,i.nit=!1,i.Ext=void 0,i.n4=AA.fB(),i.wRt=void 0,i.lot(n),i.IT=n.md,i}It(n,t);var i=n.prototype;return i.fot=function(t){return new OZ(t)},i.lT=function(){return this.gRt?this.IT:t.prototype.lT.call(this)},i.vR=function(){return this.gRt?this.bxt:t.prototype.vR.call(this)},i._d=function(){return this.gRt?this.IA:t.prototype._d.call(this)},i.e4=function(n){this.gRt?(this.IA=n,this.pRt=!0):t.prototype.e4.call(this,n)},i.sI=function(){return this.gRt?this.wRt?this.wRt.m3():this.n4:t.prototype.sI.call(this)},i.r4=function(n,i,r,e){this.gRt?this.wRt=new jC(n,i,r,e):t.prototype.r4.call(this,n,i,r,e)},i.cot=function(){return this.gRt?this.nit&&!1!==this.Ext:t.prototype.cot.call(this)},i.i3=function(){this.gRt?this.Ext=!0:t.prototype.i3.call(this)},i.z2=function(){this.gRt?this.Ext=!1:t.prototype.z2.call(this)},i.hJ=function(n){return!this.gRt&&t.prototype.hJ.call(this,n)},i.uJ=function(n){return this.gRt?et.reject(new _("Not supported")):t.prototype.uJ.call(this,n)},i.Nxt=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:if(t.gRt)throw new _("Already locked");return t.gRt=!0,t.Mxt(),n=[],t.Q3&&n.push(t.Q3.Nxt()),t.J3&&n.push(t.J3.Nxt()),[4,et.all(n)];case 1:return i.sent(),[2]}}))}))()},i.Lxt=function(){this.gRt=!1,this.Q3&&this.Q3.Lxt(),this.J3&&this.J3.Lxt(),this.Bxt()},i.Mxt=function(){this.IT=t.prototype.lT.call(this),this.bxt=t.prototype.vR.call(this),this.IA=t.prototype._d.call(this),this.n4=t.prototype.sI.call(this),this.pRt=!1,this.Ext=void 0,this.wRt=void 0},i.Bxt=function(){if(this.pRt&&(t.prototype.e4.call(this,this.IA),this.pRt=!1),void 0!==this.wRt){var n=this.wRt;t.prototype.r4.call(this,n.Cn,n.jn,n.g3,n.w3),this.wRt=void 0}void 0!==this.Ext&&(this.Ext?t.prototype.i3.call(this):t.prototype.z2.call(this),this.Ext=void 0)},n}(BM),YZ=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).bRt=!1,n.SRt=!1,n.RRt=void 0,n.xRt=void 0,n.ERt=new Ho,n}It(n,t);var i=n.prototype;return i.AI=function(){return void 0!==this.qG&&WZ(this.qG)&&this.kR&&this.Sb(0),t.prototype.AI.call(this)},i.Sb=function(n,i,r){void 0!==this.qG&&WZ(this.qG)&&this.kR&&n<this.ct&&this.yRt(),t.prototype.Sb.call(this,n,i,r)},i.o7=function(){this.bRt=!0,t.prototype.o7.call(this)},i.h7=function(){this.bRt=!1,this.ARt()||t.prototype.h7.call(this)},i.ARt=function(){return this.bRt||this.SRt},i.TRt=function(){this.SRt||(this.SRt=!0,t.prototype.o7.call(this))},i.kRt=function(){this.SRt&&(this.SRt=!1,this.ARt()||t.prototype.h7.call(this))},i.$n=function(t){this.ERt.Xw();var n=this.zE(t,this.xRt);return this.RRt=n,n},i.zE=function(n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return i?[4,i.catch(pi)]:[3,2];case 1:e.sent(),e.label=2;case 2:return r.kRt(),[4,t.prototype.$n.call(r,n)];case 3:return[2,e.sent()]}}))}))()},i.hot=function(t){return new zZ(t)},i.oot=function(t){return new ZM(t)},i.tr=function(){this.ERt.Xw();var t=this.$Et(this.xRt);return this.RRt=t,t},i.$Et=function(n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return n?[4,n.catch(pi)]:[3,2];case 1:r.sent(),r.label=2;case 2:return i.kRt(),[4,t.prototype.tr.call(i)];case 3:return[2,r.sent()]}}))}))()},i.yRt=function(){this.TRt(),this.ERt.Xw(),this.ERt=new Ho,this.xRt=Uo(this.IRt(this.RRt,this.xRt,this.ERt.Bw),this.ERt).catch(Vo)},i.IRt=function(t,n,i){var r=this;return Zt((function(){var e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return t?[4,t.catch(pi)]:[3,2];case 1:o.sent(),o.label=2;case 2:return n?[4,n.catch(pi)]:[3,4];case 3:o.sent(),o.label=4;case 4:return Oo(i),(e=r.qG)&&WZ(e)?(u=e.md,[4,e.Nxt()]):[2];case 5:return o.sent(),[4,r.LB.tr()];case 6:return o.sent(),[4,r.LB.$n(u)];case 7:return(s=o.sent()).e4(e.ct),e.lot(s),e.Lxt(),r.kRt(),[2]}}))}))()},i.Ww=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.ERt.Xw(),n.xRt?[4,n.xRt.catch(pi)]:[3,2];case 1:i.sent(),n.xRt=void 0,i.label=2;case 2:return n.ARt()&&t.prototype.h7.call(n),[4,t.prototype.Ww.call(n)];case 3:return i.sent(),[2]}}))}))()},Nt(n,[{key:"qrt",get:function(){return this.LB}}]),n}(XM),jZ=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.DH=function(n){if(n===jg.lE)return new YZ(t.prototype.DH.call(this,n))},i.vH=function(n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return[4,(r=n).Ww()];case 1:return e.sent(),[4,t.prototype.vH.call(i,r.qrt)];case 2:return e.sent(),[2]}}))}))()},n.vT=function(){return Gn._g},n}(xM),KZ=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).BH=_k.cG,n}It(n,t);var i=n.prototype;return i.nP=function(t,n,i,r,e,u,s,o){var a,c=new dM(RM.Lg.krt,RM.Lg.Trt,RM.Lg.Srt,RM.Lg.xrt);a=LZ.vT(o)?LZ:HZ.vT(o)?HZ:IZ;var h=n;return jZ.vT()&&(h=new jZ(h)),new a(i,r,e,u,c,h,jg.lE,t)},i.LH=function(){return!0},n}(hM);VT(new KZ),F(),Tt(),F(),Tt(),Rt(),Uk((function(t){return function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n.prototype.ma=function(){var n=this.PR.ga;return Eg(t.prototype.ma.call(this),{get hesp(){return n}})},n}(t)}),Bk.nu),F(),Tt(),Rt(),F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Gt(),qt(),F(),Tt(),Ut();var qZ=0;function JZ(t,n){if(void 0===n&&(n=!0),t){var i=t;return"/"===i.charAt(0)&&(i=i.substring(1)),n&&"/"!==i.charAt(i.length-1)&&(i+="/"),i}}function QZ(t){var n,i,r;return $u({},t,{baseUrl:JZ(t.baseUrl),id:null!=(n=t.id)?n:String(qZ++),timeBounds:$u({},t.timeBounds,{scale:null!=(i=t.timeBounds.timescale)?i:1e3}),currentTime:t.currentTime?{value:t.currentTime.timestamp,scale:null!=(r=t.currentTime.timescale)?r:1e3}:void 0,audio:t.audio.map(eX),video:t.video.map(sX),metadata:t.metadata.map(aX),events:t.events.map(dX)})}var $Z=0;function tX(t){var n,i=JZ(t.initPattern,!1),r=JZ(t.contPattern,!1);return $u({},t,{id:null!=(n=t.id)?n:String($Z++),continuationPattern:r?Ms(r,"${segmentId}","{segmentId}"):void 0,initializationPattern:i?Ms(i,"${initId}","{initId}"):void 0})}function nX(t){var n,i=JZ(t.initPattern,!1),r=JZ(t.contPattern,!1);return $u({},t,{continuationPattern:r?Ms(r,"${segmentId}","{segmentId}"):void 0,initializationPattern:i?Ms(i,"${initId}","{initId}"):void 0,segmentDuration:t.segmentDuration?{value:t.segmentDuration.duration,scale:t.segmentDuration.timescale}:void 0,segments:t.segments.map(iX),activeSegment:null==(n=ao(t.segments,(function(t){return t.active})))?void 0:n.id})}function iX(t){var n;return $u({},t,{timeBounds:$u({},t.timeBounds,{endTime:void 0!==t.timeBounds.duration?t.timeBounds.startTime+t.timeBounds.duration:void 0,scale:null!=(n=t.timeBounds.timescale)?n:1e3})})}function rX(t){return t&&"-"===t.charAt(0)}function eX(t){var n;try{var i;n=A(null!=(i=t.channels)?i:"2")}catch(t){n=2}return rX(t.contPattern)||rX(t.initPattern)?function(t,n){var i=t.initPattern,r=t.contPattern;return t.initPattern=void 0,t.contPattern=void 0,$u({},tX(t),{baseUrl:JZ(t.baseUrl),language:"eng",channels:n,sampleRate:t.samplerate,tracks:t.tracks.map((function(t){var n,e;return t.initPattern=null!=(n=t.initPattern)?n:i,t.contPattern=null!=(e=t.contPattern)?e:r,uX(t)}))})}(t,n):$u({},tX(t),{baseUrl:JZ(t.baseUrl),language:"eng",channels:n,sampleRate:t.samplerate,tracks:t.tracks.map(uX)})}function uX(t){var n;try{var i;n=A(null!=(i=t.channels)?i:"2")}catch(t){n=2}return rX(t.contPattern)||rX(t.initPattern)?function(t,n){return t.contPattern=t.baseUrl+t.contPattern,t.initPattern=t.baseUrl+t.initPattern,$u({},nX(t),{baseUrl:"./",channels:n,sampleRate:t.samplerate})}(t,n):$u({},nX(t),{baseUrl:JZ(t.baseUrl),channels:n,sampleRate:t.samplerate})}function sX(t){return rX(t.contPattern)||rX(t.initPattern)?function(t){var n=t.initPattern,i=t.contPattern;return t.initPattern=void 0,t.contPattern=void 0,$u({},tX(t),{baseUrl:JZ(t.baseUrl),frameRate:t.framerate?{value:t.framerate.rate,scale:t.framerate.scale}:void 0,tracks:t.tracks.map((function(t){return t.initPattern=n,t.contPattern=i,oX(t)}))})}(t):$u({},tX(t),{baseUrl:JZ(t.baseUrl),frameRate:t.framerate?{value:t.framerate.rate,scale:t.framerate.scale}:void 0,tracks:t.tracks.map(oX)})}function oX(t){var n,i;return rX(t.contPattern)||rX(t.initPattern)?function(t){var n,i;return t.contPattern=t.baseUrl+t.contPattern,t.initPattern=t.baseUrl+t.initPattern,$u({},nX(t),{baseUrl:"./",frameRate:t.framerate?{value:t.framerate.rate,scale:t.framerate.scale}:void 0,resolution:$u({},t.resolution,{sarWidth:null==(n=t.resolution.sar)?void 0:n.width,sarHeight:null==(i=t.resolution.sar)?void 0:i.height})})}(t):$u({},nX(t),{baseUrl:JZ(t.baseUrl),frameRate:t.framerate?{value:t.framerate.rate,scale:t.framerate.scale}:void 0,resolution:$u({},t.resolution,{sarWidth:null==(n=t.resolution.sar)?void 0:n.width,sarHeight:null==(i=t.resolution.sar)?void 0:i.height})})}function aX(t){var n;return $u({},t,{id:null!=(n=t.id)?n:String($Z++),schemeId:"",tracks:t.tracks.map(cX)})}function cX(t){return $u({},t,{segments:t.segments.map(fX)})}var hX=0;function fX(t){return{id:hX++,timeBounds:$u({},t.timeBounds,{scale:t.timeBounds.timescale})}}var vX=0;function dX(t){var n,i;return $u({},t,{id:null!=(n=t.id)?n:String(vX++),timeBounds:$u({},t.timestamp,{scale:null!=(i=t.timestamp.timescale)?i:1e3})})}var lX=function(){function t(t){this.aR=t}return t.prototype.CRt=function(t,n){var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return r={qu:t,Bw:n},[4,i.aR.zk(r)];case 1:return[4,s.sent().Sk(n)];case 2:return e=s.sent(),function(t){var n,i,r=t;if(ti(r.manifestVersion)&&Os(r.manifestVersion,"alpha"))return!0;for(var e=0,u=r.presentations;e<u.length;e++){for(var s=u[e],o=0,a=Ft(s.video).concat(Ft(s.audio));o<a.length;o++){var c=a[o];if(c.tracks.length>0){n=c.tracks[0],i=c;break}}if(Yn(n))break}return(ti(null==i?void 0:i.initPattern)||ti(null==n?void 0:n.initPattern))&&!ti(null==n?void 0:n.initializationPattern)&&!ti(null==i?void 0:i.initializationPattern)}(u=e)&&(u=function(t){return $u({},t,{availabilityDuration:{value:t.dvrDuration?t.dvrDuration.duration/t.dvrDuration.timescale:0},manifestVersion:"1.0.0",presentations:t.presentations.map(QZ),contentBaseUrl:t.contentBaseUrl||"./"})}(u)),[2,u]}}))}))()},t}();F(),Tt(),Dt(),Rt();var gX=function(t){function n(n){var i;return(i=t.call(this)||this).PRt=n,i}It(n,t);var i=n.prototype;return i.FC=function(){return this.PRt.FC()},i.yn=function(t,n){this.PRt.yn(t,n)},i.fn=function(t,n){this.PRt.fn(t,n)},Nt(n,[{key:"ga",get:function(){return this.Za||(this.Za=$k(this)),this.Za}},{key:"LC",get:function(){return this.PRt.LC}},{key:"BC",get:function(){return this.PRt.BC}},{key:"OC",get:function(){return this.PRt.OC}}]),n}(na);F(),Tt(),Dt(),F(),Tt(),Dt(),F(),Tt(),Dt();var wX=function(){function t(t){this.MRt=0,this.NRt=0,this.DRt=k.exp(k.log(.5)/t)}var n=t.prototype;return n.rut=function(t,n){var i=k.pow(this.DRt,t),r=n*(1-i)+i*this.MRt;S(r)||(this.MRt=r,this.NRt+=t)},n.uJ=function(t){var n=k.exp(k.log(.5)/t);if(n!==this.DRt)if(0!==this.NRt){var i=this.tit,r=1-k.pow(n,this.NRt);this.MRt=i*r,this.DRt=n}else this.DRt=n},Nt(t,[{key:"tit",get:function(){var t=1-k.pow(this.DRt,this.NRt);return this.MRt/t}}]),t}(),mX=function(){function t(n,i,r,e){void 0===n&&(n=t.zRt),void 0===i&&(i=t.qRt),void 0===r&&(r=t._ut),void 0===e&&(e=!1),this.URt=0,this.GRt=[],this.VRt=void 0,this.WRt=6e4,this.HRt=10,this.ZRt=n,this.XRt=i,this.ORt=r,this.FRt=e,this.LRt=new wX(n),this.BRt=new wX(i)}var n=t.prototype;return n.rut=function(t){var n=Kn.Bg(),i=t;this.FRt&&void 0!==this.VRt&&n-this.VRt>=this.WRt&&this.tr(),this.URt+=1,this.LRt.rut(1,i),this.BRt.rut(1,i),this.GRt.push(i),this.GRt.length>this.HRt&&this.GRt.shift(),this.VRt=n},n.fut=function(){return void 0!==this.VRt&&Kn.Bg()-this.VRt<=this.WRt},n.tr=function(){this.LRt=new wX(this.ZRt),this.BRt=new wX(this.XRt),this.URt=0,this.GRt=[],this.VRt=void 0},Nt(t,[{key:"tit",get:function(){return this.fut()?k.max(this.LRt.tit,this.BRt.tit):this.ORt}}]),t}();mX.zRt=2,mX.qRt=5,mX._ut=.1,F(),Tt();var yX=function(){function t(t){this.YRt=t}var n=t.prototype;return n.hj=function(t){for(var n=0,i=this.YRt;n<i.length;n++){i[n].hj(t)}},n.aj=function(t){for(var n=0,i=this.YRt;n<i.length;n++){i[n].aj(t)}},n.uj=function(t,n){for(var i=0,r=this.YRt;i<r.length;i++){r[i].uj(t,n)}},n.cj=function(t){for(var n=0,i=this.YRt;n<i.length;n++){i[n].cj(t)}},t}();F(),Tt();var pX=function(){function t(t){this.KRt=0,this.jRt=t}var n=t.prototype;return n.hj=function(t){this.KRt=t},n.aj=function(t){this.jRt.rut(t-this.KRt)},n.uj=function(t){},n.cj=function(t){},t}();F(),Tt();var _X=function(){function t(t){this.QRt=0,this.gut=t}var n=t.prototype;return n.aj=function(t){this.QRt=t},n.uj=function(t,n){this.gut.rut(t-this.QRt,n.byteLength),this.QRt=t},n.cj=function(t){},n.hj=function(t){},t}();F(),Tt(),Rt();var bX=function(){function t(t,n){void 0===n&&(n=0),this.$Rt=new kX,this.An=0,this.JRt=0,this.gut=t,this.eIt=n}var n=t.prototype;return n.hj=function(t){},n.uj=function(t,n){var i=n.byteLength,r=this.JRt;this.JRt=i;var e=t-this.An;this.An=t,this.$Rt.i$(n);var u=!this.$Rt.tIt(),s=i>=this.eIt;r!==Kn.Ys.ep&&u&&s&&this.gut.rut(e,i)},n.aj=function(t){this.An=t},n.cj=function(t){},t}(),kX=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).sIt=void 0,n.iIt=!1,n}It(n,t);var i=n.prototype;return i.tIt=function(){return this.iIt},i.i$=function(n){this.iIt=!1,t.prototype.i$.call(this,n)},i.t$=function(n,i){this.sIt&&this.sIt!==ty.aD||(this.iIt=!0),t.prototype.t$.call(this,n,i),this.sIt=n},i.d$=function(t){return!1},i._$=function(t){},i.m$=function(t){},n}(HR);F(),Tt(),Rt();var AX=function(t){return t.nIt="sample",t}({}),TX=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).rIt=0,n}return It(n,t),n.prototype.iG=function(){if(this.fut()){var t=Kn.Bg();t-this.rIt>1e3&&(this.rIt=t,pk.Lg.iG(this.tit))}},n}(na);F(),Tt(),Dt(),Rt();var SX=function(t){function n(n){var i;return(i=t.call(this)||this).JA=[],i.aIt=0,i.oIt=n,i.MRt=n,i}It(n,t);var i=n.prototype;return i.fut=function(){return this.JA.length>=3},i.rut=function(t,n){if(0!==t){var i={mG:8*n/t,hIt:n};if(this.JA.push(i),this.aIt+=i.hIt,this.JA.length>30){var r=this.JA.shift();this.aIt-=r.hIt}for(var e=this.JA.slice().sort((function(t,n){return t.mG-n.mG})),u=0,s=0;s<e.length;s++){var o=e[s];if(u+=o.hIt/this.aIt,this.MRt=o.mG,u>=.5)break}this.iG(),this.yo(new ea(AX.nIt))}},Nt(n,[{key:"tit",get:function(){return this.fut()?this.MRt:this.oIt}}]),n}(TX);F(),Tt(),Dt(),Rt();var EX=function(t){function n(i,r,e,u){var s;return void 0===i&&(i=n.zRt),void 0===r&&(r=n.qRt),void 0===e&&(e=n.lIt),void 0===u&&(u=n._ut),(s=t.call(this)||this).uIt=0,s.cIt=e,s.LRt=new wX(i),s.BRt=new wX(r),s.ORt=u,s}It(n,t);var i=n.prototype;return i.rut=function(t,n){var i=8*n/t;this.LRt.rut(t,i),this.BRt.rut(t,i),this.uIt+=n,this.iG(),this.yo(new ea(AX.nIt))},i.fut=function(){return this.uIt>=this.cIt},Nt(n,[{key:"tit",get:function(){return this.fut()?k.min(this.LRt.tit,this.BRt.tit):this.ORt}}]),n}(TX);EX.lIt=128e3,EX._ut=yk,EX.zRt=.5,EX.qRt=5;var IX=function(){function t(t,n){var i=this;this.vIt=[],this.fIt=function(){for(var t=0,n=i.vIt;t<n.length;t++){(0,n[t])()}},this.gIt=t>0?t:EX._ut,this.pIt=new mX(mX.zRt,mX.qRt,n>0?n:mX._ut),this.dIt(this.gIt)}var n=t.prototype;return n.dIt=function(t){var n;null==(n=this.gut)||n.fn(AX.nIt,this.fIt),this.gut=new SX(t),this.gut.yn(AX.nIt,this.fIt)},n._It=function(t){this.vIt.push(t)},n.mIt=function(t){lo(this.vIt,t)},n.pG=function(t){if("segment"===t.pw&&"video"===t.bE){var n=[new pX(this.pIt)];return this.gut&&("stream"===t.Xk&&"initialization-segment"!==t.yE?n.push(new bX(this.gut,1e3)):n.push(new _X(this.gut))),new yX(n)}},Nt(t,[{key:"mG",get:function(){var t,n;return null!=(n=null==(t=this.gut)?void 0:t.tit)?n:this.gIt}},{key:"gG",get:function(){return this.pIt.tit}}]),t}();F(),Tt(),Dt();var RX=function(){function t(){}var n=t.prototype;return n.wIt=function(t,n){var i=n-t;(!this.yIt||i<this.yIt)&&(this.yIt=i)},n.bIt=function(t,n){this.AIt=n-t},n.SIt=function(t,n){this.TIt=n-t},n.kIt=function(t,n){this.EIt=n-t},n.RIt=function(t){var n=this.xIt;if(void 0!==n)return n-t},n.tr=function(){this.yIt=void 0,this.AIt=void 0,this.EIt=void 0,this.TIt=void 0},Nt(t,[{key:"xIt",get:function(){var t=ko([this.TIt,this.EIt].filter(Yn),_i);return void 0!==t?Kn.Bg()/1e3+t:void 0!==this.AIt?Kn.Bg()/1e3+this.AIt:void 0!==this.yIt?Kn.Bg()/1e3+this.yIt:void 0}}]),t}();F(),Tt();var CX=.25,NX=400,DX={minimumOffset:.2,targetOffset:.45,maximumOffset:.7,forceSeekOffset:3,minimumPlaybackRate:SA,maximumPlaybackRate:EA},PX={minimumOffset:.4,targetOffset:.65,maximumOffset:1,forceSeekOffset:3,minimumPlaybackRate:SA,maximumPlaybackRate:EA},xX={minimumOffset:.4,targetOffset:.7,maximumOffset:.9,forceSeekOffset:3,minimumPlaybackRate:SA,maximumPlaybackRate:EA},LX={minimumOffset:.2,targetOffset:.45,maximumOffset:1,forceSeekOffset:3,minimumPlaybackRate:SA,maximumPlaybackRate:EA},MX={minimumOffset:.5,targetOffset:1.125,maximumOffset:1.75,forceSeekOffset:2.55,minimumPlaybackRate:SA,maximumPlaybackRate:EA};function OX(t){if(Kn.Jp.ew){var n=(NX+250)/1e3,i=k.max(n,t.minimumOffset),r=k.max(i+CX,t.targetOffset),e=k.max(r+CX,t.maximumOffset);return{minimumOffset:i,targetOffset:r,maximumOffset:e,forceSeekOffset:k.max(e+CX,t.forceSeekOffset),minimumPlaybackRate:SA,maximumPlaybackRate:EA}}return t}function BX(){var t;return t=Kn.Ys.Kg?LX:Kn.Ys.tp?PX:Kn.Ys.$g?"Android"===Kn.Jp.$p?xX:DX:MX,Kn.Jp.ew?OX(t):t}F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Gt(),Dt(),Rt(),nn(),qt(),F(),Tt();var VX=function(){function t(){this.bxt=[]}var n=t.prototype;return n.IIt=function(t){for(var n=0,i=this.bxt;n<i.length;n++){var r=i[n];r[1]=r[1].Sn(t)}},n.CIt=function(t,n){for(var i=!0,r=0,e=this.bxt;r<e.length;r++){var u=e[r],s=u[1];s=s.QL(n),t===u[0]&&(s=s.KL(n),i=!1),u[1]=s.YL(1e-5)}i&&this.bxt.push([t,n])},n.PIt=function(t){for(var n=0,i=this.bxt;n<i.length;n++){var r=i[n];r[1]=r[1].QL(t)}},n.DIt=function(t){for(var n=0;n<this.bxt.length;n++)if(this.bxt[n][1].gr(t))return this.bxt[n][0]},t}(),FX=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).NIt=[],u.BIt=void 0,u.K2=new Ho,u.LB=i,u.wot=n,u.Oyt=r,u.WIt=e,u.MIt=new VX,u.wot.yn(CR.KQ,u.Ds),u}It(n,t);var i=n.prototype;return i.DIt=function(t){return this.MIt.DIt(t)},i.appendStream=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h,f,v,d,l,g,w;return Ht(this,(function(m){switch(m.label){case 0:if(r.LIt)throw new p("Concurrent appends are not supported.");m.label=1;case 1:m.trys.push([1,,10,11]),e={stack:[],error:void 0,hasError:!1},m.label=2;case 2:m.trys.push([2,7,8,9]),u=Yt(e,Ho.Yw([i,r.K2.Bw]),!1),s=u.Bw,r.MIt.IIt(r._R),r.BIt=new Zc,o=ZR(t),a=o.getReader(),m.label=3;case 3:return[4,Fo(a.read(),s)];case 4:return(c=m.sent()).done?[3,6]:(h=c.value,f={pw:DR.QQ,Zk:Lc(h.map((function(t){return t.Nut})))},v={ct:fr(h,(function(t){return t.ct})),hit:h[0].avt,PV:-n.nat.FIt},[4,r.f2(f,v,s)]);case 5:return m.sent(),d=v.hit+v.PV,l=d+v.ct,r.MIt.CIt(n.nat,AA.dB(d,l)),[3,3];case 6:return[3,9];case 7:return g=m.sent(),e.error=g,e.hasError=!0,[3,9];case 8:return jt(e),[7];case 9:return[3,11];case 10:return n.VIt(),w=r.BIt,r.BIt=void 0,null==w||w.Mb(),[7];case 11:return[2]}}))}))()},i.l2=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:if(e.LIt)throw new p("Concurrent appends are not supported.");v.label=1;case 1:v.trys.push([1,,7,8]),u={stack:[],error:void 0,hasError:!1},v.label=2;case 2:return v.trys.push([2,4,5,6]),s=Yt(u,Ho.Yw([r,e.K2.Bw]),!1),o=s.Bw,e.BIt=new Zc,[4,e.f2(t,n,o)];case 3:return v.sent(),a=n.hit+n.PV,c=a+n.ct,e.MIt.IIt(e._R),e.MIt.CIt(i,AA.dB(a,c)),[3,6];case 4:return h=v.sent(),u.error=h,u.hasError=!0,[3,6];case 5:return jt(u),[7];case 6:return[3,8];case 7:return f=e.BIt,e.BIt=void 0,null==f||f.Mb(),[7];case 8:return[2]}}))}))()},i.f2=function(t,n,i){var r=this;return Zt((function(){var e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return r.wot.n3===jg.lE&&r.WIt.ddt(t.Zk,n.hit,n.hit+n.ct,n.PV,r.Oyt,!1),e=r.LB.GB.UB,u=r.wot._R.gr(r.LB.yR),e||u?[4,r.UIt(i)]:[3,3];case 1:return o.sent(),[4,r.wot.l2(t,n,i)];case 2:case 4:return[2,o.sent()];case 3:return r.NIt.push([t,n]),s=r.NIt[0][1].hit,r.NIt[r.NIt.length-1][1].hit-s>=.4?[4,r.UIt(i)]:[3,5];case 5:return[2]}}))}))()},i._2=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:if(i.LIt)throw new p("Concurrent appends are not supported.");a.label=1;case 1:a.trys.push([1,,8,9]),r={stack:[],error:void 0,hasError:!1},a.label=2;case 2:return a.trys.push([2,5,6,7]),e=Yt(r,Ho.Yw([n,i.K2.Bw]),!1),u=e.Bw,i.BIt=new Zc,[4,i.UIt(u)];case 3:return a.sent(),[4,i.wot._2(t,{},u)];case 4:return a.sent(),i.wot.n3===jg.lE&&i.WIt.Pot(t.Zk),[3,7];case 5:return s=a.sent(),r.error=s,r.hasError=!0,[3,7];case 6:return jt(r),[7];case 7:return[3,9];case 8:return o=i.BIt,i.BIt=void 0,null==o||o.Mb(),[7];case 9:return[2]}}))}))()},i.jS=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:if(r.LIt)throw new p("Concurrent appends are not supported.");c.label=1;case 1:c.trys.push([1,,8,9]),e={stack:[],error:void 0,hasError:!1},c.label=2;case 2:return c.trys.push([2,5,6,7]),u=Yt(e,Ho.Yw([i,r.K2.Bw]),!1),s=u.Bw,r.BIt=new Zc,[4,r.UIt(s)];case 3:return c.sent(),[4,r.wot.jS(t,n,s)];case 4:return c.sent(),r.MIt.PIt(AA.dB(t,n)),[3,7];case 5:return o=c.sent(),e.error=o,e.hasError=!0,[3,7];case 6:return jt(e),[7];case 7:return[3,9];case 8:return a=r.BIt,r.BIt=void 0,null==a||a.Mb(),[7];case 9:return[2]}}))}))()},i.rY=function(t){var n=this;return Zt((function(){var i,r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:if(n.LIt)throw new p("Concurrent appends are not supported.");o.label=1;case 1:o.trys.push([1,,7,8]),i={stack:[],error:void 0,hasError:!1},o.label=2;case 2:return o.trys.push([2,4,5,6]),r=Yt(i,Ho.Yw([t,n.K2.Bw]),!1),e=r.Bw,n.BIt=new Zc,[4,n.UIt(e)];case 3:return o.sent(),[3,6];case 4:return u=o.sent(),i.error=u,i.hasError=!0,[3,6];case 5:return jt(i),[7];case 6:return[3,8];case 7:return s=n.BIt,n.BIt=void 0,null==s||s.Mb(),[7];case 8:return[2]}}))}))()},i.UIt=function(t){var n=this;return Zt((function(){var i,r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:i=0,r=n.NIt,o.label=1;case 1:return i<r.length?(e=tn(r[i],2),u=e[0],s=e[1],[4,n.wot.l2(u,s,t)]):[3,4];case 2:o.sent(),o.label=3;case 3:return i++,[3,1];case 4:return po(n.NIt),[2]}}))}))()},i.Ww=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:t.K2.Ww(),n.label=1;case 1:return t.LIt?[4,t.OIt]:[3,3];case 2:return n.sent(),[3,1];case 3:return[2]}}))}))()},Nt(n,[{key:"_R",get:function(){for(var t=AA.fB(),n=0,i=this.NIt;n<i.length;n++){var r=tn(i[n],2)[1],e=r.hit+r.PV,u=e+r.ct;t=t.KL(AA.dB(e,u))}return this.wot._R.KL(t)}},{key:"LIt",get:function(){return void 0!==this.BIt}},{key:"OIt",get:function(){return this.BIt?this.BIt.Bb:et.resolve()}}]),n}(na);F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Gt(),qt();var UX=function(){function t(t){this.HIt=0,this.ZIt=t}var n=t.prototype;return n.GIt=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:if(i.HIt>=i.ZIt.maxRetries)throw t;return[4,Jo(i.XIt(i.HIt++),n)];case 1:return r.sent(),[2]}}))}))()},n.XIt=function(t){var n=0;return 0!==t&&(n+=k.min(this.ZIt.maximumBackoff,this.ZIt.minimumBackoff*(k.pow(2,t)-1))),n},t}();F(),Tt(),Rt(),F(),Tt(),Rt();var WX=function(t){return t.zIt="emsgdata",t}({}),ZX=function(t){function n(n,i){var r;return(r=t.call(this,"emsgdata")||this).value=n,r.data=i,r}return It(n,t),n}(ea);F(),Tt();var XX=function(){function t(){}var n=t.prototype;return n.start=function(t){this.NQ=t},n.qIt=function(t){this.NQ.enqueue(t)},t}();F(),Tt(),F(),Tt();var GX=function(t){return t.YIt="initdata",t.MANIFEST_UPDATE="manifestupdate",t.KIt="timestamps:v1",t}({});var HX="urn:theo:hesp:2020";function zX(t){if(t.lL===HX){var n=t.Ix;if(n===GX.YIt)return function(t){if(t&&Qn(t)){var n=t;if(ei(n.index)&&ei(n.offset)&&!(n.index<0&&n.offset<0))return{pw:"initdata",index:n.index,offset:n.offset}}}(JSON.parse(dc(pc(t._L),new Ec)));if(n===GX.MANIFEST_UPDATE)return function(t){if(t&&Qn(t)){var n=t;if(!Yn(n.url)||ti(n.url))return{pw:"manifestupdate",url:n.url}}}(JSON.parse(dc(pc(t._L),new Ec)));if(n===GX.KIt){var i,r=pc(t._L),e=new Ec,u=Ka(r,e).toNumber()/t.lN,s=Ka(r,e).toNumber()/1e3,o=Ya(r,e)/1e3;return e.tc+8<=r.byteLength&&(i={hours:Ya(r,e),minutes:Ga(r,e),seconds:Ga(r,e),frames:Ha(r,e)}),{pw:GX.KIt,jIt:u,QIt:s,JIt:o,$It:i}}}}var YX=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).tCt=new na,n}It(n,t);var i=n.prototype;return i.transform=function(t){if(t.pw===ty.cD)try{var n=zX(dy.nN(t.Zk));n&&this.tCt.yo(new ZX(n.pw,n))}catch(t){false}this.qIt(t)},i.Ww=function(){this.tCt.Bo()},n}(XX);F(),Tt(),Rt();var jX=function(){function t(){}var n=t.prototype;return n.start=function(t){this.p_=new KX(t)},n.transform=function(t){this.p_.i$(t)},n.flush=function(){this.p_.n$()},t}(),KX=function(t){function n(n){var i;return(i=t.call(this)||this).NQ=n,i}It(n,t);var i=n.prototype;return i.d$=function(t){return!0},i._$=function(t){this.NQ.enqueue(t)},i.m$=function(t){},n}(HR);F(),Tt(),Gt(),Rt(),qt(),F(),Tt();var qX=tr.fromNumber(ir);var JX=function(t){function n(n,i){var r;return(r=t.call(this)||this).aW=n,r.eCt=i,r}return It(n,t),n.prototype.zk=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:0,r.label=1;case 1:return r.trys.push([1,3,,5]),[4,n.aW.zk(t)];case 2:return[2,r.sent()];case 3:if(Mo(i=r.sent()))throw i;return[4,n.eCt.GIt(i,t.Bw)];case 4:return r.sent(),[3,5];case 5:return[3,0];case 6:return[2]}}))}))()},n}(na);function QX(t,n,i,r,e,u,s,o){var a=new Ed;return e&&a.Ak(function(t,n){return void 0===n&&(n=qX),new Ed({Range:"bytes="+t.toString()+"-"+n.toString()})}(e.start,e.end)),{qu:t,qk:a,AE:!1,Bw:o,pw:sl.$k,yE:i,bE:r,pE:u,wE:s,Xk:n,kE:n===Sd.pk}}F(),Tt(),Rt(),F(),Tt();var $X=function(t){return t[t.INITIALIZER=0]="INITIALIZER",t[t.FRAMES=1]="FRAMES",t}({}),tG=function(t){function n(n,i){var r;return(r=t.call(this)||this).iCt=[],r.hY=n,r.sut=r.hY.match(/video/)?Xx.lE:Xx.cE,r.RA=i,r}It(n,t);var i=n.prototype;return i.transform=function(t){this.iCt.push(t),t.pw===ty.aD&&this.sCt(this.iCt.splice(0),$X.FRAMES)},i.sCt=function(t,n){var i={lN:this.RA,Xq:this.hY},r=Lc(t.map((function(t){return _c(t.Zk.Zk)}))),e=ao(t,nG),u=dy.qD(e.Zk.Zk)[0],s={bE:this.sut,bb:i,Nut:r,pw:n,ct:this._d(u)/this.RA,avt:yr(this.nCt(u),this.RA)};this.qIt(s)},i._d=function(t){var n,i=t.Z[0];if(!i||0===i.iL.length)return 0;var r=null!=(n=i.WD.zM)?n:0;return i.iL[0].uL.reduce((function(t,n){var i;return t+(null!=(i=n.ct)?i:r)}),0)},i.nCt=function(t){var n,i;return null!=(i=null==(n=t.Z[0].sL)?void 0:n.sL)?i:tr.UZERO},n}(XX);function nG(t){return t.pw===ty.eD}F(),Tt();var iG=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).aCt="now",e.mCt=new Ho,e.BIt=void 0,e.rCt=n,e.eCt=new UX(r),e.ACt=new YX,e.ACt.tCt.yn(WX.zIt,e.Ds),e.aW=i,e.sut=function(t){switch(t){case Xx.cE:return al.cE;case Xx.lE:return al.lE;default:return al.Qk}}(n.pw),e.gCt=new JX(e.aW,e.eCt),e}It(n,t);var i=n.prototype;return i.olt=function(t){return t+1},i.Sb=function(t){this.aCt=t,this.uCt=void 0,this.cCt=void 0},i.lCt=function(){return void 0!==this.uCt},i.dCt=function(){var t=this;return Zt((function(){var n,i,r,e,u,s,o,a,c,h,f,v,d,l;return Ht(this,(function(g){switch(g.label){case 0:if(t.LIt)throw new p("Concurrent downloads are not supported.");g.label=1;case 1:return g.trys.push([1,,4,5]),t.BIt=new Zc,"now"===t.aCt?n=Kn.Kp(t.rCt.fCt("now"),t.rCt._Ct):(i=t.aCt,r=0===i?1:t.rCt.vCt(i),n=Kn.Kp(t.rCt.fCt(r),t.rCt._Ct)),e=QX(n,Sd.vk,ol.iE,t.sut,void 0,3e3,1e3,t.mCt.Bw),[4,t.gCt.zk(e)];case 2:return[4,g.sent().xk(t.mCt.Bw)];case 3:return u=g.sent(),s=new E(u),o=function(t){var n=ay.DD(new ey(pc(t),new Ec)),i=ao(n,(function(t){return t.pw===ty.dD||t.pw===ty.eD}));if(void 0===i)return{pCt:t,gN:void 0};var r=mc(t,0,i.tc),e=mc(t,i.tc);return{pCt:r,gN:0===e.byteLength?void 0:e}}(s),a=o.pCt,c=o.gN,h=dy.qD(pc(s)),t.RA=function(t){var n=ao(t,(function(t){return t.pw===ty.dP}));return n.Z[0].gN.WD.lN}(h),f=function(t){var n=t.filter((function(t){return t.pw===ty.cD})),i=n.map((function(t){return zX(t)})),r=ao(i,(function(t){return(null==t?void 0:t.pw)===GX.YIt}));if(!r)throw new p("No init data in init response");return r}(h),t.uCt=f.index,t.cCt=f.offset,c&&(d=dy.qD(pc(s)),v=function(t,n,i){var r,e,u,s=ao(t,(function(t){return t.pw===ty.eD})),o=yr(null!=(e=null==(r=s.Z[0].sL)?void 0:r.sL)?e:tr.UZERO,i),a=s.Z[0],c=null!=(u=a.WD.zM)?u:0,h=a.iL[0],f=h.uL.reduce((function(t,n){var i;return t+(null!=(i=n.ct)?i:c)}),0)/i;return{hit:o,ct:f,PV:n}}(d,-t.nat.FIt,t.RA)),[2,{initialization:a,data:c,metadata:v}];case 4:return l=t.BIt,t.BIt=void 0,null==l||l.Mb(),[7];case 5:return[2]}}))}))()},i.wCt=function(){if(this.LIt)throw new p("Concurrent downloads are not supported.");this.BIt=new Zc;var t=void 0!==this.cCt?tr.fromNumber(this.cCt):void 0;return Fd(this.yCt(this.uCt,t,this.mCt.Bw)).pipeThrough(new Ld(new tG(this.nat.Xq,this.RA))).pipeThrough(new Ld(new rG(this.mCt.Bw)))},i.yCt=function(t,n,i){var r=this;return Zt((function(){var e;return Ht(this,(function(u){switch(u.label){case 0:return e=r.bCt(t,n,i),[4,r.gCt.zk(e)];case 1:return[2,u.sent().Rk().pipeThrough(new Ld(new jX)).pipeThrough(new Ld(r.ACt))]}}))}))()},i.bCt=function(t,n,i){var r=this.rCt.SCt(t),e=void 0!==n?{start:n,end:void 0}:void 0;return QX(Kn.Kp(r,this.rCt._Ct),Sd.pk,ol.Qk,this.sut,e,25e3,1e3,i)},i.VIt=function(){void 0!==this.uCt&&(this.uCt=this.olt(this.uCt)),this.cCt=void 0;var t=this.BIt;this.BIt=void 0,null==t||t.Mb()},i.cancelDownload=function(){var t;this.mCt.Xw(),this.mCt=new Ho,this.BIt=null!=(t=this.BIt)?t:new Zc,this.uCt=void 0,this.cCt=void 0;var n=this.BIt;this.BIt=void 0,null==n||n.Mb()},i.Ww=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.Bo(),t.ACt.Ww(),t.mCt.Xw(),[4,t.OIt];case 1:return n.sent(),t.uCt=void 0,t.cCt=void 0,[2]}}))}))()},Nt(n,[{key:"nat",get:function(){return this.rCt}},{key:"oCt",get:function(){return!1}},{key:"hCt",get:function(){return this.aCt}},{key:"LIt",get:function(){return void 0!==this.BIt}},{key:"OIt",get:function(){return this.BIt?this.BIt.Bb:et.resolve()}}]),n}(na);var rG=function(){function t(t){var n=this;this.TCt=function(){n.NQ.error(new Lo)},this.Zw=t}var n=t.prototype;return n.start=function(t){this.NQ=t,this.Zw.Lw(this.TCt)},n.flush=function(){this.Zw.Mw(this.TCt)},t}();function eG(t){var n;return t.value/(null!=(n=t.scale)?n:1)}F(),Tt(),Dt(),F(),Tt(),Dt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt(),F(),Tt();var uG="{initId}",sG=/{initId(?::0(?:\d+)d)?}/,oG=/{segmentId(?::0(?:\d+)d)?}/,aG=function(){function t(t,n,i){var r,e,u,s;this.Lbt=[],this.zO=t,this.VCt=i,this.US=t.id,this.sG=t.bandwidth,this.kCt=t.averageBandwidth,this.CCt=null!=(r=t.baseUrl)?r:"",this.DCt=null!=(e=t.codecs)?e:n.codecs,this.MCt=null!=(u=t.continuationPattern)?u:n.continuationPattern,this.BCt=null!=(s=t.initializationPattern)?s:n.initializationPattern,this.kO=t.label,this.OCt=t.mediaTimeOffset?eG(t.mediaTimeOffset):0,this.xbt=t.segmentDuration?eG(t.segmentDuration):0,this.Yn(t)}return t.prototype.Yn=function(t){this.xCt=t.activeSegment,this.ICt=t.activeSequenceNumber,this.Lbt=t.segments},Nt(t,[{key:"o",get:function(){return this.US}},{key:"mG",get:function(){return this.sG}},{key:"Tyt",get:function(){return this.kCt}},{key:"Srt",get:function(){return this.Lbt}},{key:"ECt",get:function(){return this.xCt}},{key:"RCt",get:function(){return this.ICt}},{key:"_Ct",get:function(){return Kn.Kp(this.CCt,this.PCt._Ct)}},{key:"Urt",get:function(){return this.DCt}},{key:"kh",get:function(){return this.kO}},{key:"NCt",get:function(){return this.MCt}},{key:"LCt",get:function(){return this.BCt}},{key:"FIt",get:function(){return this.OCt}},{key:"FCt",get:function(){return this.xbt}}]),t}(),cG=function(t){function n(n,i,r){var e,u,s,o,a;return(e=t.call(this,n,i,r)||this).UCt=null!=(u=n.channels)?u:1,e.GCt=null!=(o=null!=(s=n.frameRate)?s:i.frameRate)?o:1024,e.dA=null!=(a=n.sampleRate)?a:i.sampleRate,e}return It(n,t),Nt(n,[{key:"pw",get:function(){return Xx.cE}},{key:"PCt",get:function(){return this.VCt}},{key:"WCt",get:function(){return this.UCt}},{key:"Kdt",get:function(){return this.GCt}},{key:"eM",get:function(){return this.dA}},{key:"Xq",get:function(){return'audio/mp4; codecs="'+this.Urt+'"'}}]),n}(aG),hG=function(t){function n(n,i,r){var e,u;return(e=t.call(this,n,i,r)||this).gp=n.resolution,e.GCt=eG(null!=(u=n.frameRate)?u:i.frameRate),e}return It(n,t),Nt(n,[{key:"pw",get:function(){return Xx.lE}},{key:"PCt",get:function(){return this.VCt}},{key:"HCt",get:function(){return this.gp}},{key:"Kdt",get:function(){return this.GCt}},{key:"Xq",get:function(){return'video/mp4; codecs="'+this.Urt+'"'}}]),n}(aG);function fG(t,n){var i=String(n);if(t===uG||"now"===n)return i;var r=A(t.substring(9,t.lastIndexOf("d")));return Ws(i,r,"0")}function vG(t,n){var i=String(n);if(t===uG)return i;var r=A(t.substring(12,t.lastIndexOf("d")));return Ws(i,r,"0")}var dG=function(){function t(t,n,i){var r;this.VCt=t,this.hC=i,this.ZCt=n,this.US=t.id,this.zCt=t.alignId,this.CCt=null!=(r=t.baseUrl)?r:"",this.kO=t.label,this.OCt=t.mediaTimeOffset?eG(t.mediaTimeOffset):0,this.YCt=t.protection,this.Yn(t)}return t.prototype.Yn=function(t){for(var n=function(n,i){var r=i[n],e=ao(t.tracks,(function(t){return r.o===t.id}));e&&r.Yn(e)},i=0,r=this.hC;i<r.length;i++)n(i,r)},Nt(t,[{key:"mst",get:function(){return this.ZCt}},{key:"o",get:function(){return this.US}},{key:"XCt",get:function(){return this.zCt}},{key:"_Ct",get:function(){return Kn.Kp(this.CCt,this.mst._Ct)}},{key:"kh",get:function(){return this.kO}},{key:"FIt",get:function(){return this.OCt}},{key:"qCt",get:function(){return this.YCt}}]),t}(),lG=function(t){function n(n,i){var r,e=[];r=t.call(this,n,i,e)||this;for(var u=0,s=n.tracks;u<s.length;u++){var o=s[u];e.push(new cG(o,n,r))}return r}return It(n,t),n.prototype.Yn=function(n){var i,r;t.prototype.Yn.call(this,n),this.CA=n.language,this.UCt=null!=(i=n.channels)?i:1,this.hY=null!=(r=n.mimeType)?r:"audio/mp4"},Nt(n,[{key:"PCt",get:function(){return this.VCt}},{key:"Z",get:function(){return this.hC}},{key:"gs",get:function(){return this.CA}},{key:"WCt",get:function(){return this.UCt}}]),n}(dG),gG=function(t){function n(n,i){var r,e=[];r=t.call(this,n,i,e)||this;for(var u=0,s=n.tracks;u<s.length;u++){var o=s[u];e.push(new hG(o,n,r))}return r}return It(n,t),n.prototype.Yn=function(n){var i;t.prototype.Yn.call(this,n),this.hY=null!=(i=n.mimeType)?i:"video/mp4"},Nt(n,[{key:"PCt",get:function(){return this.VCt}},{key:"Z",get:function(){return this.hC}}]),n}(dG),wG=function(){function t(t,n){var i,r,e;this.tPt=[],this.iPt=[],this.jCt=t,this.US=n.id,this.CCt=null!=(i=n.baseUrl)?i:"";for(var u=0,s=null!=(r=n.audio)?r:[];u<s.length;u++){var o=s[u];this.tPt.push(new lG(o,this))}for(var a=0,c=null!=(e=n.video)?e:[];a<c.length;a++){var h=c[a];this.iPt.push(new gG(h,this))}this.Yn(n)}return t.prototype.Yn=function(t){var n;this.JCt=t.timeBounds,this.Xf=null!=(n=t.events)?n:[],this.nZ=t.currentTime?eG(t.currentTime):void 0},Nt(t,[{key:"o",get:function(){return this.US}},{key:"_Ct",get:function(){return Kn.Kp(this.CCt,this.jCt.KCt)}},{key:"QCt",get:function(){return this.JCt}},{key:"yR",get:function(){return this.nZ}},{key:"zq",get:function(){return this.Xf}},{key:"$Ct",get:function(){return this.tPt}},{key:"ePt",get:function(){return this.iPt}}]),t}(),mG=function(){function t(t,n){this.dPt=[],this.mPt=t,this.jCt=n,this.Yn(n)}return t.prototype.Yn=function(t){var n,i,r=function(t,i){var r=i[t],e=ao(n.dPt,(function(t){return t.o===r.id}));e?e.Yn(r):n.dPt.push(new wG(n,r))};this.nPt=eG(t.availabilityDuration),this.oPt=t.creationDate,this.aPt=t.fallbackPollRate,this.cPt=t.manifestVersion,this.eA=t.streamType,this._Pt=t.activePresentation,this.vPt=t.contentBaseUrl,this.pPt=null==(i=t.timeSource)?void 0:i.url,this.jCt=t;for(var e=0,u=t.presentations;e<u.length;e++)n=this,r(e,u);this.dPt=this.dPt.filter((function(n){return t.presentations.some((function(t){return t.id===n.o}))}))},Nt(t,[{key:"OC",get:function(){return this.jCt}},{key:"sPt",get:function(){return this.nPt}},{key:"rPt",get:function(){return this.oPt}},{key:"hPt",get:function(){return this.aPt}},{key:"uPt",get:function(){return this.cPt}},{key:"lPt",get:function(){return this.dPt}},{key:"s0",get:function(){return this.eA}},{key:"fPt",get:function(){return this._Pt}},{key:"KCt",get:function(){var t;return Kn.Kp(null!=(t=this.vPt)?t:"",this.mPt)}},{key:"gPt",get:function(){return this.pPt}}]),t}();F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt();var yG=0,pG=function(t){function n(n){var i;return(i=t.call(this)||this).TO=yG++,i.wPt=n,i}It(n,t);var i=n.prototype;return i.vCt=function(t){var n=(t-this.wPt.PCt.mst.yR)*this.framesPerSecond();return k.round(this.wPt.RCt+n)},i.yPt=function(t){return t+1},i.fCt=function(t){for(var n,i,r=this.wPt.LCt;i=null==(n=r.match(sG))?void 0:n.pop();)r=r.split(i).join(fG(i,t));return r+("now"===t?"?uuid="+WE():"")},i.SCt=function(t){for(var n,i,r=this.wPt.NCt;i=null==(n=r.match(oG))?void 0:n.pop();)r=r.split(i).join(vG(i,t));return r},i.sW=function(){},i.iW=function(){},Nt(n,[{key:"Hnt",get:function(){return!0}},{key:"Tyt",get:function(){return this.wPt.Tyt}},{key:"mG",get:function(){return this.wPt.mG}},{key:"Urt",get:function(){return this.wPt.Urt}},{key:"o",get:function(){return this.wPt.o}},{key:"kh",get:function(){var t;return null!=(t=this.wPt.kh)?t:""}},{key:"TC",get:function(){return this.TO}},{key:"Ryt",get:function(){return this.wPt._Ct}},{key:"kyt",get:function(){}},{key:"Xq",get:function(){return this.wPt.Xq}},{key:"FIt",get:function(){return this.wPt.FIt}},{key:"_Ct",get:function(){return this.wPt._Ct}},{key:"pw",get:function(){return this.wPt.pw}}]),n}(na),_G=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).Za=void 0,r.zO=i,r}return It(n,t),n.prototype.framesPerSecond=function(){return this.wPt.eM/this.wPt.Kdt},Nt(n,[{key:"bPt",get:function(){return this.wPt}},{key:"Swt",get:function(){return this.wPt.eM}},{key:"Ht",get:function(){return this.zO}},{key:"ga",get:function(){return this.Za||(this.Za=iU(this)),this.Za}}]),n}(pG),bG=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).Za=void 0,r.zO=i,r}return It(n,t),n.prototype.framesPerSecond=function(){return this.wPt.Kdt},Nt(n,[{key:"bPt",get:function(){return this.wPt}},{key:"Eyt",get:function(){return 0}},{key:"Kdt",get:function(){return this.wPt.Kdt}},{key:"Ti",get:function(){return this.wPt.HCt.height}},{key:"ji",get:function(){return this.wPt.HCt.width}},{key:"HCt",get:function(){return this.wPt.HCt}},{key:"Ht",get:function(){return this.zO}},{key:"ga",get:function(){return this.Za||(this.Za=nU(this)),this.Za}}]),n}(pG);F(),Tt();var kG=function(t){return t.APt="alternative",t.SPt="main",t.TPt="commentary",t.kPt="",t.KV="descriptions",t.EPt="main-desc",t.xPt="translation",t}({}),AG=function(t){return t.APt="alternative",t.SPt="main",t.TPt="commentary",t.kPt="",t.YV="captions",t.wC="sign",t.qV="subtitles",t}({}),TG=0,SG=function(t){function n(n,i,r){var e;(e=t.call(this)||this).wO=new ew,e.TO=TG++,e.He=!1,e.Wct=void 0,e.VCt=i,e.PPt=r,e.DPt=new SW(n,[]);for(var u=0,s=i.Z;u<s.length;u++){var o=s[u];e.wO.yO(e.createQuality(o))}return e}It(n,t);var i=n.prototype;return i.xO=function(t){this.Rt=t},i.NPt=function(t){for(var n=0,i=this.wO.oC;n<i.length;n++){var r=i[n];r===t&&this.yo(new KV(r))}},Nt(n,[{key:"SC",get:function(){return this.RPt()}},{key:"Rt",get:function(){return this.He},set:function(t){this.Rt!==t&&(this.He=t,t&&this.IPt(),this.PPt.CPt(),this.yo(new uw(this)))}},{key:"ga",get:function(){return this.Za||(this.Za=Gg(this)),this.Za}},{key:"Edt",get:function(){return this.DPt}},{key:"o",get:function(){return this.VCt.o}},{key:"TC",get:function(){return this.TO}},{key:"kh",get:function(){var t;return null!=(t=this.VCt.kh)?t:""}},{key:"TE",get:function(){return this.Rt?"enabled":"disabled"},set:function(t){"enabled"===t?this.Rt=!0:"disabled"===t&&(this.Rt=!1)}},{key:"EC",get:function(){return this.wO}},{key:"xC",get:function(){return this.Wct},set:function(t){this.Wct=t,this.PPt.CPt(),this.yo(new pB(t,this))}}]),n}(na),EG=function(t){function n(n,i){return t.call(this,jg.cE,n,i)||this}It(n,t);var i=n.prototype;return i.IPt=function(){this.PPt.MPt(this)},i.RPt=function(){var t=this.PPt.LPt;return(null==t?void 0:t.Ht)===this?t:void 0},i.createQuality=function(t){return new _G(t,this)},Nt(n,[{key:"pw",get:function(){return Xx.cE}},{key:"Lt",get:function(){return kG.SPt}},{key:"gs",get:function(){return this.VCt.gs}},{key:"PCt",get:function(){return this.VCt}}]),n}(SG),IG=function(t){function n(n,i){return t.call(this,jg.lE,n,i)||this}It(n,t);var i=n.prototype;return i.IPt=function(){this.PPt.BPt(this)},i.RPt=function(){var t=this.PPt.OPt;return(null==t?void 0:t.Ht)===this?t:void 0},i.createQuality=function(t){return new bG(t,this)},Nt(n,[{key:"pw",get:function(){return Xx.lE}},{key:"Lt",get:function(){return AG.SPt}},{key:"gs",get:function(){return""}},{key:"PCt",get:function(){return this.VCt}}]),n}(SG);function RG(t,n,i,r){if(t){var e=function(t,n,i){for(var r=[],e=0;e<n.length;e++){var u,s,o=n[e],a=null!=(u=o.mimeType)?u:"audio/mp4",c=null!=(s=o.codecs)?s:o.tracks.map((function(t){return t.codecs}))[0];r.push(a+'; codecs="'+c+'"')}return CG(t,n,r,[],i)}(t,n?[n]:[],!r),u=function(t,n,i){for(var r=[],e=0;e<n.length;e++){var u,s,o=n[e],a=null!=(u=o.mimeType)?u:"video/mp4",c=null!=(s=o.codecs)?s:o.tracks.map((function(t){return t.codecs}))[0];r.push(a+'; codecs="'+c+'"')}return CG(t,n,[],r,i)}(t,i?[i]:[],!r),s=$W(e,u);return t.preferredKeySystems&&(null==s?void 0:s.$gt)&&(s.$gt=aZ(s.$gt,t.preferredKeySystems)),s}}function CG(t,n,i,r,e){var u=n.map((function(t){return t.protection})).filter(Yn);if(u.length){var s=u[0].type,o=bo(u,(function(t){return t.systems})),a=bo(o,(function(t){return function(t,n){void 0===n&&(n=!0);for(var i=[],r=n?function(t){return xs.filter((function(n){return n.Aw===t.toLowerCase()}))}(t.schemeId):function(t){return Ps.filter((function(n){return n.Aw===t.toLowerCase()}))}(t.schemeId),e=0;e<r.length;e++){var u=r[e];i.push({LU:NG(t)?t.uri:void 0,rT:u,TG:void 0,SG:t.pssh?[pa(t.pssh).buffer]:[]})}return i}(t,e)}));return{iU:t,tpt:{pTt:s},$gt:a,wTt:i,yTt:r}}}function NG(t){return t.schemeId===as.mw&&void 0!==t.keyFormat&&void 0!==t.keyFormatVersions}F(),Tt(),F(),Tt(),Gt(),Dt(),qt(),F(),Tt();var DG;function PG(t){var n=t.yR,i=t._R.uB(n);return i?i.jn(0)-n:0}DG="Android"===Kn.Jp.$p?200:300;var xG=Kn.Ys.tp?1:.5,LG=function(){function t(t,n,i,r,e){var u=this;this.LB=t,this.VG=n,this.qPt=i,this.hDt=r,this.WPt=e,this.Ea=0,this.YPt=et.resolve(),this.eDt=[],this.iDt=void 0,this.ZPt=function(){var t,n;if(!u.hDt.nI){var i=null==(t=u.qPt.LPt)?void 0:t.Ht,r=null==(n=u.qPt.OPt)?void 0:n.Ht,e=ko(u.QPt(i,r),(function(t){return t.JPt}));e&&(jo(u.$Pt(e,!0)),u.LB.GB.UB&&u.hDt.FC())}},this.HPt=function(){u.GPt.yn(wp.LL,u.ZPt),u.GPt.fn(wp.BL,u.HPt)},this.UPt=function(){if(u.eDt.unshift(u.WPt.mG),u.eDt=u.eDt.slice(0,3),u.XPt){var t=u.XPt.tDt.JPt;u.WPt.mG<t&&(u.XPt=void 0,u.yB())}},this.GPt=new Ip(this.LB)}var n=t.prototype;return n.Cn=function(){var t=this;1!==this.Ea&&(this.Ea=1,this.FPt=Kn.Op((function(){t.VPt()}),DG),this.WPt._It(this.UPt),this.LB.ZR?this.GPt.yn(wp.BL,this.HPt):this.HPt())},n.SI=function(){0!==this.Ea&&(this.Ea=0,void 0!==this.FPt&&Kn.Fp(this.FPt),this.WPt.mIt(this.UPt),this.GPt.fn(wp.LL,this.ZPt),this.GPt.fn(wp.BL,this.HPt),this.XPt=void 0,this.yB())},n.VPt=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.YPt];case 1:return n.sent(),t.YPt=t.KPt(),[4,t.YPt];case 2:return n.sent(),[2]}}))}))()},n.jPt=function(t,n){for(var i=this.QPt(t,n),r=this.WPt.mG,e=0;e<i.length;e++){var u=i[e];if(u.JPt<=r)return u}return i[i.length-1]},n.KPt=function(){var t=this;return Zt((function(){var n,i,r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return r=null==(n=t.qPt.LPt)?void 0:n.Ht,e=null==(i=t.qPt.OPt)?void 0:i.Ht,0===(u=t.QPt(r,e)).length?[2]:(s=t.maybeSwitchToTargetQuality(u))?[4,t.$Pt(s)]:[3,2];case 1:case 3:return a.sent(),[2];case 2:return(o=t.maybeGetUpSwitch(u))?[4,t.$Pt(o)]:[3,4];case 4:return[2]}}))}))()},n.maybeSwitchToTargetQuality=function(t){var n=this.zPt;if(!t.some((function(t){return OG(t,n)}))){for(var i=this.WPt.mG,r=0;r<t.length;r++){var e=t[r];if(e.JPt<=i)return e}return t[t.length-1]}},n.maybeGetUpSwitch=function(t){for(var n,i,r,e,u,s=this.WPt.mG,o=(null!=(r=null==(n=this.qPt.LPt)?void 0:n.mG)?r:0)+(null!=(e=null==(i=this.qPt.OPt)?void 0:i.mG)?e:0),a=0;a<t.length;a++){var c=t[a];if(c.JPt<s&&c.JPt>o){u={tDt:c,Nft:Kn.Bg()};break}}if(this.XPt&&OG(this.XPt.tDt,null==u?void 0:u.tDt)){var h=Kn.Bg()-this.XPt.Nft,f=this.XPt.tDt.JPt,v=this.eDt.length>=3&&this.eDt.every((function(t){return t>f}));if(h>1e3&&v){if(this.LB.GB.UB||Kn.Ys.Kg){var d=2*this.WPt.gG;if(!(PG(this.LB)>d))return}else{var l=k.max(2*this.WPt.gG+xG,this.VG.vB.minimumOffset);if(!(PG(this.LB)>l))return void(this.iDt&&this.iDt.minimumOffset===l||(this.yB(),this.iDt={minimumOffset:l},this.VG.gB(this.iDt)))}return this.XPt.tDt}}else this.XPt=u},n.$Pt=function(t,n){void 0===n&&(n=!1);var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return i.XPt=void 0,i.yB(),(r=i.zPt).sDt===t.sDt&&r.nDt===t.nDt?[2]:(e=t.sDt,u=t.nDt,r.nDt&&u&&r.nDt.mG>u.mG&&n&&(i.WPt.dIt(t.JPt),i.eDt=[]),[4,i.qPt.rDt(u,e)]);case 1:return s.sent(),[2]}}))}))()},n.yB=function(){this.iDt&&(this.VG.yB(this.iDt),this.iDt=void 0)},n.QPt=function(t,n){var i,r=[],e=[];t&&(r=(null==(i=t.xC)?void 0:i.length)?t.xC:t.EC.oC);if(n){var u,s=(null==(u=n.xC)?void 0:u.length)?n.xC:n.EC.oC,o=s.slice().sort((function(t,n){return t.mG-n.mG})),a=this.oDt(o);0===a.length&&s.length>0&&a.push(ko(s,(function(t){return t.mG}))),e=a}for(var c=[],h=r.length>0?r:[void 0],f=e.length>0?e:[void 0],v=0;v<h.length;v++)for(var d=h[v],l=0;l<f.length;l++){var g=f[l];c.push(MG(d,g))}return function(t){return t.sort((function(t,n){return n.JPt-t.JPt}))}(c)},n.oDt=function(t){for(var n=0;n<t.length;n++){var i=t[n].HCt;if(i.height>=this.LB.Ti&&i.width>=this.LB.ji)return t.slice(0,n+1)}return t.slice()},n.Ww=function(){this.XPt=void 0,this.GPt.tr(),this.yB()},Nt(t,[{key:"zPt",get:function(){return MG(this.qPt.LPt,this.qPt.OPt)}}]),t}();function MG(t,n){var i,r;return{sDt:t,nDt:n,JPt:(null!=(i=null==t?void 0:t.mG)?i:0)+(null!=(r=null==n?void 0:n.mG)?r:0)}}function OG(t,n){var i,r,e,u;return void 0===t||void 0===n?t===n:(null==(i=t.sDt)?void 0:i.o)===(null==(r=n.sDt)?void 0:r.o)&&(null==(e=t.nDt)?void 0:e.o)===(null==(u=n.nDt)?void 0:u.o)&&t.JPt===n.JPt}F(),Tt(),Gt(),Dt(),nn(),qt();var BG=20,VG=function(){function t(t,n,i){this.OT=new Ho,this.aDt=t,this.dRt(n,i,this.OT.Bw).catch(pi)}var n=t.prototype;return n.dRt=function(t,n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return i.Nw?[3,6]:[4,Jo(6e5,i)];case 1:e.sent(),e.label=2;case 2:return e.trys.push([2,4,,5]),[4,FG(t,n,i)];case 3:return r.aDt=e.sent(),[3,5];case 4:return Bo(e.sent()),[3,5];case 5:return[3,0];case 6:return[2]}}))}))()},n.Ww=function(){this.OT.Xw()},t.create=function(n,i,r){return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return[4,FG(n,i,r)];case 1:return[2,new t(e.sent(),n,i)]}}))}))()},Nt(t,[{key:"obt",get:function(){return(this.aDt.serverTimeMs+(Kn.Bg()-this.aDt.localTimeMs))/1e3}},{key:"uDt",get:function(){return(this.aDt.localTimeMs-this.aDt.serverTimeMs)/1e3}}]),t}();function FG(t,n,i){return UG.apply(this,arguments)}function UG(){return UG=Zt((function(t,n,i){var r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return[4,WG(t,n,i)];case 1:return r=tn.apply(void 0,[a.sent(),3]),e=r[0],u=r[1],s=r[2],u>BG?[4,WG(t,n,i)]:[3,3];case 2:o=tn.apply(void 0,[a.sent(),3]),e=o[0],u=o[1],s=o[2],a.label=3;case 3:return[2,{localTimeMs:e,serverTimeMs:s-u/2}]}}))})),UG.apply(this,arguments)}function WG(t,n,i){return ZG.apply(this,arguments)}function ZG(){return ZG=Zt((function(t,n,i){var r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return r=Kn.Bg(),[4,n.zk({gE:ul.GET,qu:t,Bw:i})];case 1:return e=a.sent(),u=Kn.Bg()-r,[4,e.Tk(i)];case 2:return s=a.sent(),o=1e3*Number(s),[2,[r,u,o]]}}))})),ZG.apply(this,arguments)}var XG=function(t){function n(){return t.call(this,"seek")||this}return It(n,t),n}(ea),GG=function(t){return t.RZ="seek",t}({}),HG=[ua.so,wp.QI,ua.$y],zG=function(t){function n(n,i,r,e,u,s,o,a,c,h){var f;return(f=t.call(this)||this).kDt=!1,f.ZDt=!1,f.rO=new Yg,f.hO=new Yg,f.XDt=void 0,f.dDt=void 0,f.fDt=void 0,f.vDt=new Zc,f.qG=void 0,f.opt=void 0,f.mDt=new Zc,f.cW=new Ho,f.MDt=void 0,f.NDt=new Ho,f.Y9=void 0,f.q9=new Ho,f.CDt=void 0,f.cDt=void 0,f.UDt=void 0,f.PDt=void 0,f.lDt=void 0,f.WDt=void 0,f.GDt=void 0,f.WB=function(){f.ZDt=!0},f.updateActiveQualities=function(){var t,n,i=f.LB.yR,r=null==(t=f.cDt)?void 0:t.DIt(i),e=null==(n=f.lDt)?void 0:n.DIt(i);if(f.dDt!==r&&(f.dDt=r,r))for(var u=0,s=f.rO.oC;u<s.length;u++){s[u].NPt(r)}if(f.fDt!==e&&(f.fDt=e,e))for(var o=0,a=f.hO.oC;o<a.length;o++){a[o].NPt(e)}},f.FDt=function(t,n){var i=n.data;if(i.pw===GX.KIt){var r,e=i.QIt,u=i.JIt,s=i.jIt,o=i.$It;if(f.yDt){var a=f.yDt.obt,c=f.LB.yR;if(f.ZDt&&0!==c){var h={theolive:a-e+s-c,engine:u,distribution:a-(e+u),player:s-c};t===jg.cE?(f.SDt=h,f.gDt.kIt(f.yDt.uDt+e,s)):(f.ADt=h,f.gDt.SIt(f.yDt.uDt+e,s))}}if(o)null!=f.XDt||(f.XDt=f.LB.DI(Gy.jV,"timecode","timecode",void 0,!1,kw.DEFAULT,!1,void 0)),f.XDt.uW(new Ww(s,s,o,!1,void 0)),ep(f.XDt,null!=(r=f.LB._R.Cn(0))?r:-1)}f.yo(n)},f.M6=function(t){Mo(t)||(f.SI(),f.yo(new wk(new td(Qv.MEDIA_LOAD_ERROR,t.message))))},f.wc=n,f.wDt=i,f.LB=r,f.aW=u,f.gDt=s,f.dZ=new LG(r,o,f,c,e),f.Zlt=a,f.VDt=h,f.LB.yn(wp.BL,f.WB),f.LB.yn(HG,f.updateActiveQualities),f}It(n,t);var i=n.prototype;return i.pDt=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.cDt?[4,t.cDt.jS(0,1/0)]:[3,2];case 1:n.sent(),n.label=2;case 2:return t.lDt?[4,t.lDt.jS(0,1/0)]:[3,4];case 3:n.sent(),n.label=4;case 4:return[2]}}))}))()},i.$n=function(){if(!this.wc.src)throw new td(Qv.SOURCE_INVALID,"No src property found in given source.");this.opt||(this.opt=this.zE(this.cW.Bw).catch(this.M6))},i.zE=function(t){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:return n.yo(new VR),i=n.wc.src,[4,n.wDt.CRt(i,t)];case 1:return r=u.sent(),n.jCt=new mG(i,r),n.jCt.gPt?[4,VG.create(n.jCt.gPt,n.aW,t)]:[3,3];case 2:n.yDt=u.sent(),u.label=3;case 3:return n.bDt(),e=n.jCt.lPt[n.jCt.lPt.length-1],n.createTracksForPresentation(e),n.vDt.Mb(),n.CPt(),[2]}}))}))()},i.MPt=function(t){for(var n=0,i=this.rO.oC;n<i.length;n++){var r=i[n];r.xO(r===t)}},i.BPt=function(t){for(var n=0,i=this.hO.oC;n<i.length;n++){var r=i[n];r.xO(r===t)}},i.CPt=function(){var t=ao(this.rO.oC,(function(t){return t.Rt})),n=ao(this.hO.oC,(function(t){return t.Rt})),i=this.dZ.jPt(t,n);jo(this.rDt(i.nDt,i.sDt))},i.bDt=function(){var t=this;if(this.jCt&&"live"===this.jCt.s0&&this.yDt){var n=this.jCt.lPt.filter((function(n){return n.o===t.jCt.fPt}))[0].yR,i=this.yDt.uDt+new Date(this.jCt.rPt).getTime()/1e3;this.gDt.bIt(i,n)}},i.createTracksForPresentation=function(t){for(var n,i,r,e,u=0,s=null!=(r=t.$Ct)?r:[];u<s.length;u++){var o=s[u];this.rO.tt(new EG(o,this))}for(var a=0,c=null!=(e=t.ePt)?e:[];a<c.length;a++){var h=c[a];this.hO.tt(new IG(h,this))}null==(n=this.rO.aC(0))||n.xO(!0),null==(i=this.hO.aC(0))||i.xO(!0)},i.Cn=function(){this.kDt=!0,this.EDt()},i.SI=function(){var t;this.kDt=!1,this.xDt().catch(this.M6),"live"===(null==(t=this.OC)?void 0:t.s0)&&(this.RDt(),this.IDt())},i.RDt=function(){this.CDt&&this.CDt.cancelDownload()},i.IDt=function(){this.PDt&&this.PDt.cancelDownload()},i.FC=function(t){var n=this;this.q9.Xw(),this.q9=new Ho,this.Y9=Zo((function(i){return n.DDt(t,n.Y9,i)}),this.q9).catch(this.M6)},i.DDt=function(t,n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){switch(s.label){case 0:return n?[4,n]:[3,2];case 1:s.sent(),s.label=2;case 2:return[4,Fo(r.W,i)];case 3:if(s.sent(),"live"!==r.jCt.s0)throw new p("The current video source does not support Live playback.");return Oo(i),[4,r.xDt()];case 4:if(s.sent(),Oo(i),!r.CDt||!r.CDt.lCt()&&r.CDt.hCt===(null!=t?t:"now"))return[3,10];if(r.RDt(),!r.cDt)return[3,9];s.label=5;case 5:return r.cDt.LIt?[4,Fo(r.cDt.OIt,i)]:[3,7];case 6:return s.sent(),[3,5];case 7:return[4,r.cDt.jS(0,1/0)];case 8:s.sent(),s.label=9;case 9:null==(e=r.CDt)||e.Sb(null!=t?t:"now"),s.label=10;case 10:if(!r.PDt||!r.PDt.lCt()&&r.PDt.hCt===(null!=t?t:"now"))return[3,16];if(r.IDt(),!r.lDt)return[3,15];s.label=11;case 11:return r.lDt.LIt?[4,Fo(r.lDt.OIt,i)]:[3,13];case 12:return s.sent(),[3,11];case 13:return[4,r.lDt.jS(0,1/0)];case 14:s.sent(),s.label=15;case 15:null==(u=r.PDt)||u.Sb(null!=t?t:"now"),s.label=16;case 16:return r.yo(new XG),Oo(i),r.Y9=void 0,r.EDt(),[2]}}))}))()},i.Sb=function(t){var n=this;this.q9.Xw(),this.q9=new Ho,this.Y9=Zo((function(i){return n.K9(t,n.Y9,i)}),this.q9).catch(this.M6)},i.K9=function(t,n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){switch(s.label){case 0:return n?[4,n]:[3,2];case 1:s.sent(),s.label=2;case 2:return[4,Fo(r.W,i)];case 3:return s.sent(),Oo(i),[4,r.xDt()];case 4:return s.sent(),Oo(i),r.CDt&&(r.CDt.lCt()||r.CDt.hCt!==t)&&r.RDt(),r.PDt&&(r.PDt.lCt()||r.PDt.hCt!==t)&&r.IDt(),r.yo(new XG),Oo(i),null==(e=r.CDt)||e.Sb(t),null==(u=r.PDt)||u.Sb(t),r.Y9=void 0,r.EDt(),[2]}}))}))()},i.rDt=function(t,n){var i,r,e=this;return(null==(i=this.CDt)?void 0:i.nat)===n&&(null==(r=this.PDt)?void 0:r.nat)===t?et.resolve():(this.NDt.Xw(),this.NDt=new Ho,this.MDt=Zo((function(i){return e.LDt(t,n,e.MDt,i)}),this.NDt).catch(this.M6),this.MDt)},i.LDt=function(t,n,i,r){var e=this;return Zt((function(){return Ht(this,(function(u){switch(u.label){case 0:return i?[4,i]:[3,2];case 1:u.sent(),u.label=2;case 2:return[4,Fo(e.vDt.Bb,r)];case 3:return u.sent(),Oo(r),[4,e.xDt()];case 4:return u.sent(),Oo(r),[4,e.BDt(t,n)];case 5:return u.sent(),[4,e.ODt(t,n)];case 6:return u.sent(),Oo(r),e.MDt=void 0,e.EDt(),[2]}}))}))()},i.BDt=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h,f,v,d,l,g,w,m,y,p,_;return Ht(this,(function(b){switch(b.label){case 0:return s=null!=(u=i.TDt)?u:"now",(null==(r=i.CDt)?void 0:r.nat)===n?[3,5]:(a=i.CDt&&!i.CDt.lCt(),c=null==(o=i.CDt)?void 0:o.hCt,i.CDt?[4,i.CDt.Ww()]:[3,2]);case 1:b.sent(),i.CDt=void 0,b.label=2;case 2:return i.cDt?[4,i.cDt.OIt]:[3,4];case 3:b.sent(),b.label=4;case 4:n&&(v=null!=(f=null==(h=i.cDt)?void 0:h._R)?f:AA.fB(),d=a?c:v.jn(v.V-1),i.CDt=new iG(n,i.aW,i.Zlt),i.CDt.yn(WX.zIt,(function(t){return i.FDt(jg.cE,t)})),i.CDt.Sb(null!=d?d:s)),b.label=5;case 5:return(null==(e=i.PDt)?void 0:e.nat)===t?[3,10]:(g=i.PDt&&!i.PDt.lCt(),w=null==(l=i.PDt)?void 0:l.hCt,i.PDt?[4,i.PDt.Ww()]:[3,7]);case 6:b.sent(),i.PDt=void 0,b.label=7;case 7:return i.lDt?[4,i.lDt.OIt]:[3,9];case 8:b.sent(),b.label=9;case 9:t&&(p=null!=(y=null==(m=i.lDt)?void 0:m._R)?y:AA.fB(),_=g?w:p.jn(p.V-1),i.PDt=new iG(t,i.aW,i.Zlt),i.PDt.yn(WX.zIt,(function(t){return i.FDt(jg.lE,t)})),i.PDt.Sb(null!=_?_:s)),b.label=10;case 10:return[2]}}))}))()},i.ODt=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:if(r=function(t,n,i,r,e){var u=RG(t,null==n?void 0:n.Ht.PCt.PCt,null==i?void 0:i.Ht.PCt.PCt,r),s=uZ(u),o=[];n&&o.push({Ik:n.Xq});i&&o.push({Ik:i.Xq});return{pw:gp._W,o4:o,JG:s,g4:e&&!r}}(i.wc.contentProtection,n,t,i.LB.GB.UB,i.wc.useManagedMediaSource),!i.qG||!i.qG.hJ(r))return[3,12];if(s=!(null==(e=i.CDt)?void 0:e.lCt()),!i.cDt||!s)return[3,5];h.label=1;case 1:return i.cDt.LIt?[4,i.cDt.OIt]:[3,3];case 2:return h.sent(),[3,1];case 3:return[4,i.cDt.rY()];case 4:h.sent(),h.label=5;case 5:if(o=!(null==(u=i.PDt)?void 0:u.lCt()),!i.lDt||!o)return[3,10];h.label=6;case 6:return(null==(a=i.lDt)?void 0:a.LIt)?[4,i.lDt.OIt]:[3,8];case 7:return h.sent(),[3,6];case 8:return[4,null==(c=i.lDt)?void 0:c.rY()];case 9:h.sent(),h.label=10;case 10:return[4,i.qG.uJ(r)];case 11:return h.sent(),[3,21];case 12:return i.RDt(),i.IDt(),i.cDt?[4,i.cDt.Ww()]:[3,14];case 13:h.sent(),i.cDt=void 0,h.label=14;case 14:return i.lDt?[4,i.lDt.Ww()]:[3,16];case 15:h.sent(),i.lDt=void 0,h.label=16;case 16:i.LB.o7(),h.label=17;case 17:return h.trys.push([17,,20,21]),[4,i.LB.tr()];case 18:return h.sent(),[4,i.LB.$n(r)];case 19:return i.qG=h.sent(),i.mDt.Mb(),i.qG.K3&&i.CDt&&(i.qG.K3.yn(CR.KQ,i.Ds),i.cDt=new FX(i.qG.K3,i.LB,n,i.VDt)),i.qG.j3&&i.PDt&&(i.qG.j3.yn(CR.KQ,i.Ds),i.lDt=new FX(i.qG.j3,i.LB,t,i.VDt)),"live"===i.jCt.s0&&i.qG.e4(1/0),[3,21];case 20:return i.LB.h7(),[7];case 21:return[2]}}))}))()},i.EDt=function(){!this.kDt||this.Y9||this.MDt||this.WDt||this.UDt||(this.dZ.Cn(),this.GDt=new Ho,this.PDt&&this.lDt&&(this.WDt=this.HDt(this.PDt,this.lDt,this.GDt.Bw).catch(this.M6)),this.CDt&&this.cDt&&(this.UDt=this.HDt(this.CDt,this.cDt,this.GDt.Bw).catch(this.M6)))},i.xDt=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.dZ.SI(),t.GDt&&(t.GDt.Xw(),t.GDt=void 0),t.WDt?[4,t.WDt]:[3,2];case 1:n.sent(),t.WDt=void 0,n.label=2;case 2:return t.UDt?[4,t.UDt]:[3,4];case 3:n.sent(),t.UDt=void 0,n.label=4;case 4:return[2]}}))}))()},i.HDt=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h,f,v,d,l;return Ht(this,(function(g){switch(g.label){case 0:return[4,r.W];case 1:g.sent(),g.label=2;case 2:return t.LIt?[4,Fo(t.OIt,i)]:[3,4];case 3:return g.sent(),[3,2];case 4:return n.LIt?[4,Fo(n.OIt,i)]:[3,6];case 5:return g.sent(),[3,4];case 6:return t.lCt()?[3,13]:(e=Kn.Bg()/1e3,u="now"===t.hCt,[4,t.dCt()]);case 7:return s=g.sent(),o=s.initialization,a=s.data,c=s.metadata,h={pw:DR.QQ,Zk:o},f=a?{pw:DR.QQ,Zk:a}:void 0,v=n._R,!Kn.Ys.Qg&&!r.LB.GB.UB&&c&&v.jn(v.V-1)>c.hit?[4,n.jS(c.hit,1/0)]:[3,9];case 8:g.sent(),g.label=9;case 9:return[4,n._2(h)];case 10:return g.sent(),f?[4,n.l2(f,c,t.nat)]:[3,12];case 11:g.sent(),g.label=12;case 12:d=n._R.QL(v),u&&d.V>0&&r.gDt.wIt(e,d.jn(d.V-1)),g.label=13;case 13:return t.oCt?[3,15]:(Oo(i),l=t.wCt(),[4,Fo(n.appendStream(l,t),i)]);case 14:return g.sent(),[3,13];case 15:return[2]}}))}))()},i.Ww=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.cW.Xw(),t.opt?[4,t.opt.catch(pi)]:[3,2];case 1:n.sent(),n.label=2;case 2:return t.Y9?(t.q9.Xw(),t.RDt(),t.IDt(),[4,t.Y9.catch(pi)]):[3,4];case 3:n.sent(),n.label=4;case 4:return t.MDt?(t.NDt.Xw(),t.RDt(),t.IDt(),[4,t.MDt.catch(pi)]):[3,6];case 5:n.sent(),n.label=6;case 6:return[4,t.xDt()];case 7:return n.sent(),t.CDt?[4,t.CDt.Ww()]:[3,9];case 8:n.sent(),n.label=9;case 9:return t.PDt?[4,t.PDt.Ww()]:[3,11];case 10:n.sent(),n.label=11;case 11:return t.CDt=void 0,t.PDt=void 0,t.mDt.Xw(),t.vDt.Xw(),t.qG?[4,t.LB.tr()]:[3,13];case 12:n.sent(),t.qG=void 0,n.label=13;case 13:return t.cDt=void 0,t.lDt=void 0,t.LB.fn(wp.BL,t.WB),t.LB.fn(HG,t.updateActiveQualities),t.rO.tr(),t.dDt=void 0,t.hO.tr(),t.fDt=void 0,t.jCt=void 0,t.yDt&&(t.yDt.Ww(),t.yDt=void 0),t.kDt=!1,[2]}}))}))()},Nt(n,[{key:"OC",get:function(){return this.jCt}},{key:"_R",get:function(){return this.cDt&&this.lDt?this.cDt._R.Sn(this.lDt._R):this.cDt?this.cDt._R:this.lDt?this.lDt._R:AA.fB()}},{key:"LPt",get:function(){return this.dDt}},{key:"OPt",get:function(){return this.fDt}},{key:"ht",get:function(){return this.rO}},{key:"rt",get:function(){return this.hO}},{key:"_Dt",get:function(){return this.vDt.Bb}},{key:"W",get:function(){return this.mDt.Bb}},{key:"iI",get:function(){return this.jCt?function(t,n,i){var r,e=null==(r=t.lPt[0])?void 0:r.yR,u=t.sPt;if(void 0===e||void 0===u)return i>0&&i<ir?new AA([0,i],[!0,!0]):AA.fB();var s=n.xIt;if(!s){var o=TF(t.rPt).getTime()/1e3;s=e+(Date.now()/1e3-o)}return new AA([s-u,s],[!0,!0])}(this.jCt,this.gDt,this.LB.ct):AA.fB()}},{key:"LC",get:function(){return ko([this.ADt,this.SDt].filter(Yn),(function(t){return t.theolive}))}},{key:"TDt",get:function(){var t=this.gDt.xIt;if(void 0!==t)return t}}]),n}(na);F(),Tt(),Rt();var YG=function(t){function n(n,i,r){return t.call(this,n,i,r)||this}It(n,t);var i=n.prototype;return i.XB=function(){var t=this.LB._R;return 0===t.V?0:t.jn(t.V-1)-this.LB.yR},i.FC=function(){this.ta.FC()},i.bB=function(){return OX(t.prototype.bB.call(this))},i.zB=function(){return!Kn.Ys.Kg},n}(RA),jG=[ua.Xy,ua.$y,ua.xy,ua.Hy,ua.eb,ua.Sy,ua.Cy,ua.Ry],KG=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).qPt=void 0,s.rZ=!1,s.q9=new Ho,s.Y9=void 0,s.JEt=void 0,s.aNt=new Ho,s.Mit=!0,s.ZDt=!1,s.rO=new qk,s.hO=new qk,s.ZG=void 0,s.HG=void 0,s.QDt=GT.YH,s.ld=function(){var t=s._R;t.length>0&&s.VDt.$V(t.start(0))},s.zDt=function(){s.LB.ZR!==s.Mit&&(s.LB.ZR?s.bI():s.AI().catch(pi))},s.TX=function(){s.ZDt=!0},s.iNt=function(t){s.ZG=t.errorObject,s.HG=tw(s.ZG),s.$Dt(s.ZG)},s.qDt=function(t){s.ZG=nw(t.lt),s.HG=t.lt,s.$Dt(s.ZG)},s.LB=n,s.lH=new Ip(s.LB,!0),s.aW=i,s.QG=new IX(r.Sj,r.nj.gG),s.iH=new Ak(i),s.LB._H=s.iH,s.VDt=new ZV(s.LB),s.Ul=new Sk([s.LB.nt,s.VDt.Z]),s.gDt=new RX,s.jDt=new gX(s),s.fZ=e,s.Zlt=u.retryConfiguration,s._C(),s}It(n,t);var i=n.prototype;return i._C=function(){this.LB.yn(jG,this.Ds),this.LB.yn(wp.BL,this.TX),this.LB.yn([ua.so,ua.Uy],this.zDt),this.LB.yn(Vy.ua,this.qDt),this.LB.yn(ua.$y,this.ld),this.lH.yn(mp,this.Ds)},i.dC=function(){this.LB.fn(jG,this.Ds),this.LB.fn(wp.BL,this.TX),this.LB.fn([ua.so,ua.Uy],this.zDt),this.LB.fn(Vy.ua,this.qDt),this.LB.fn(ua.$y,this.ld),this.lH.fn(mp,this.Ds)},i.TI=function(){return!1},i.pI=function(){return this.LB.wa},i._a=function(){return this.LB.aH},i.DI=function(t){return this.LB.uH(t)},i.be=function(){this.LB.be()},i.ge=function(){return this.LB.ge()},i.xI=function(){},i.RI=function(){},i.kI=function(){},i.EI=function(){},i.AR=function(t,n){var i=this;this.q9.Xw(),this.q9=new Ho,this.Y9=Zo((function(n){return i.K9(t,n,i.Y9)}),this.q9)},i.KDt=function(){var t=this.OC;if(t){for(var n=new Date(t.creationDate).getTime(),i=NaN,r=0,e=t.presentations;r<e.length;r++){var u=e[r];u.currentTime&&(i=u.currentTime.value/(u.currentTime.scale||1)*1e3)}if(!S(i))return new Date(n-i)}},i.JDt=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.QDt!==GT.YH&&t.qPt?(t.qPt.$n(),t.QDt!==GT.qB&&t.QDt!==GT.vG?[3,2]:[4,t.qPt._Dt]):[2];case 1:n.sent(),"vod"===t.qPt.OC.s0&&t.qPt.Cn(),n.label=2;case 2:return[2]}}))}))()},i.ka=function(t,n,i){var r=this;return Zt((function(){var n,e;return Ht(this,(function(u){switch(u.label){case 0:return Oo(i),[4,r.tr()];case 1:return u.sent(),Oo(i),JA(t)?(n=t,r.wc=n,e=new lX(r.aW),r.tNt=r.eNt(t),r.VG=new YG(r,r.LB,r.tNt),r.VG.Rt=!0,r.VG.yn("latencyrecoveryseek",r.Ds),r.vI.Sa(r.VG),r.qPt=new zG(n,e,r.LB,r.QG,r.aW,r.gDt,r.VG,r.Zlt,r,r.VDt),r.qPt.yn(ua.By,r.Ds),r.qPt.yn(Vy.ua,r.iNt),r.rO.cC=r.qPt.ht,r.hO.cC=r.qPt.rt,r.iH.yG(t.contentProtection),jo(r.JDt()),[2]):(r.ZG=new td(Qv.SOURCE_INVALID,"HESP source incorrectly configured"),r.HG=tw(r.ZG),r.$Dt(r.ZG),[2,et.resolve()])}}))}))()},i.eNt=function(t){return t.latencyConfiguration?t.latencyConfiguration:BX()},i.AI=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:return t.qPt?(t.Mit=!1,t.qPt.$n(),[4,t.qPt.W]):[2];case 1:return r.sent(),t.yo(new aT(t.yR)),i=t.qPt.uy(GG.RZ),t.FC(),[4,i];case 2:return r.sent(),t.qPt.Cn(),[4,t.LB.AI()];case 3:return r.sent(),null==(n=t.VG)||n.Cn(),[2]}}))}))()},i.bI=function(){var t;this.qPt&&(this.Mit=!0,this.yo(new oT(this.yR)),this.qPt.SI(),null==(t=this.VG)||t.SI(),this.LB.bI())},i.FC=function(){var t=this;if(this.JEt)throw new p("Cannot seek while resetting");this.q9.Xw(),this.q9=new Ho,this.Y9=Zo((function(n){return t.DDt(t.Y9,n)}),this.q9)},i.sNt=function(){var t;null==(t=this.qPt)||t.SI()},i.$Dt=function(t){this.yo(new wk(t)),this.sNt()},i.K9=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:if(r.JEt)throw new p("Cannot seek while resetting");return u=t,r.nNt(u),r.iI.length>0&&(u=AA.xn(r.iI).ZL(u),r.nNt(u)),r.qPt?i?[4,i.catch(pi)]:[3,2]:[2];case 1:a.sent(),Oo(n),a.label=2;case 2:(null==(e=r.VG)?void 0:e._B)&&r.VG.SI(),a.label=3;case 3:return a.trys.push([3,5,,6]),s=r.LB.uy(ua.zy,n),r.LB.Sb(u),r.qPt.Sb(u),[4,s];case 4:return a.sent(),[3,6];case 5:throw Bo(o=a.sent()),r.qPt.SI(),r.rNt(),o;case 6:return r.oNt(),[2]}}))}))()},i.DDt=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:return i.yo(new ea("golive")),r=i.TDt,i.nNt(r),i.qPt?t?[4,t.catch(pi)]:[3,2]:[2];case 1:f.sent(),Oo(n),f.label=2;case 2:return f.trys.push([2,11,,13]),e=i.VG.vB.targetOffset,[4,i.qPt._Dt];case 3:f.sent(),r&&e>=1?(i.VG.zB()||(s=k.min(1,.5*e),e-=s),u=r-e):u=i.TDt?i.TDt-.2:void 0,i.qPt.FC(u),f.label=4;case 4:return i.ykt.V>0?[4,i.qPt.uy(CR.KQ,n)]:[3,6];case 5:return f.sent(),[3,4];case 6:o=i.ykt,f.label=7;case 7:return 0!==i.ykt.QL(o).V?[3,9]:[4,i.qPt.uy(CR.KQ,n)];case 8:return f.sent(),[3,7];case 9:return u=i.ykt.Cn(i.ykt.V-1),u=i.hNt(u),i.nNt(u),a=i.LB.uy(ua.zy,n),i.LB.Sb(u,!0),[4,a];case 10:return f.sent(),[3,13];case 11:if(Mo(c=f.sent()))throw null==(h=i.VG)||h.Cn(),c;return i.qPt.SI(),[4,i.qPt.pDt()];case 12:throw f.sent(),i.rNt(),c;case 13:return i.oNt(),[2]}}))}))()},i.nNt=function(t){this.rZ=!0,this.YDt=t,this.yo(new vT(this.yR))},i.oNt=function(){this.rZ&&(this.YDt=void 0,this.rZ=!1,this.yo(new dT(this.yR)))},i.rNt=function(){this.YDt=void 0,this.rZ=!1},i.hNt=function(t){return t},i.$Et=function(t,n,i){var r=this;return Zt((function(){var e;return Ht(this,(function(u){switch(u.label){case 0:return Oo(i),t?[4,t.catch(pi)]:[3,2];case 1:u.sent(),u.label=2;case 2:return n?[4,n.catch(pi)]:[3,4];case 3:u.sent(),u.label=4;case 4:return[4,r.VDt.tr()];case 5:return u.sent(),null==(e=r.VG)||e.SI(),r.qPt?[4,r.qPt.Ww()]:[3,7];case 6:u.sent(),r.qPt=void 0,u.label=7;case 7:return Oo(i),[4,r.LB.tr()];case 8:return u.sent(),Oo(i),r.LB.cH(),r.hO.tr(),r.rO.tr(),r.rNt(),r.lH.tr(),r.gDt.tr(),r.ZG=void 0,r.HG=void 0,r.Mit=!0,r.ZDt=!1,r.wc=void 0,r.JEt=void 0,r.tNt=void 0,[2]}}))}))()},i.tr=function(){return this.q9.Xw(),this.q9=new Ho,this.aNt.Xw(),this.aNt=new Ho,this.JEt=this.$Et(this.Y9,this.JEt,this.aNt.Bw),this.JEt},i.gn=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:return t.dC(),t.lH.gn(),t.wc?[4,t.tr()]:[3,2];case 1:r.sent(),r.label=2;case 2:return t.Bo(),t.LB._H=void 0,null==(n=t.VG)||n.fn("latencyrecoveryseek",t.Ds),null==(i=t.VG)||i.Ww(),[4,t.VDt.gn()];case 3:return r.sent(),t.Ul.gn(),t.rO.gn(),t.hO.gn(),[2]}}))}))()},Nt(n,[{key:"ht",get:function(){return this.rO}},{key:"rt",get:function(){return this.hO}},{key:"OC",get:function(){var t,n;return null==(n=this.qPt)||null==(t=n.OC)?void 0:t.OC}},{key:"dI",get:function(){return this.LB.dI},set:function(t){this.LB.dI=t}},{key:"gI",get:function(){return!1},set:function(t){}},{key:"jG",get:function(){return this.QG}},{key:"FR",get:function(){return this.LB.FR},set:function(t){this.LB.FR=t}},{key:"yR",get:function(){var t;return null!=(t=this.YDt)?t:this.LB.yR},set:function(t){this.AR(t)}},{key:"mR",get:function(){var t=this.KDt();if(t)return new Date(t.getTime()+1e3*this.yR)},set:function(t){var n=this.KDt();t&&n&&(this.yR=n.getTime()-t.getTime())}},{key:"bt",get:function(){return this.wc}},{key:"zR",get:function(){return this.LB.zR},set:function(t){this.LB.zR=t}},{key:"ct",get:function(){var t=this.LB.ct;return t===ir?1/0:t}},{key:"kR",get:function(){return!1}},{key:"RR",get:function(){return this.ZG}},{key:"lt",get:function(){return this.HG}},{key:"PR",get:function(){return this.jDt}},{key:"NR",get:function(){return!1}},{key:"LR",get:function(){return $u({},{uO:0,cO:0,lO:0,dO:0,fO:0,_O:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.LB.OR())}},{key:"GR",get:function(){return!0}},{key:"nI",get:function(){return this.rZ}},{key:"YG",get:function(){}},{key:"nt",get:function(){return this.Ul}},{key:"hI",get:function(){return this.LB.hI}},{key:"cI",get:function(){return this.LB.cI}},{key:"_R",get:function(){return this.ykt.ks()}},{key:"ykt",get:function(){return this.qPt?this.qPt._R:AA.fB()}},{key:"KR",get:function(){return this.LB.KR.ks()}},{key:"iI",get:function(){var t,n;return null!=(n=null==(t=this.qPt)?void 0:t.iI.ks())?n:AA.fB().ks()}},{key:"ZR",get:function(){return this.Mit}},{key:"BC",get:function(){return!0}},{key:"vI",get:function(){return this.fZ}},{key:"TDt",get:function(){var t;return null==(t=this.qPt)?void 0:t.TDt}},{key:"ZB",get:function(){if(!this.ZR&&this.ZDt){var t=this.yR,n=this.gDt.RIt(t);if(void 0!==n){var i=this.ykt,r=0;if(i.V>0){var e=i.jn(i.V-1);r=k.max(e-t,0)}return k.max(n,r)}}}},{key:"LC",get:function(){var t;return null==(t=this.qPt)?void 0:t.LC}},{key:"tI",get:function(){return this.LB.tI}},{key:"QR",get:function(){return this.QDt},set:function(t){this.QDt=t,this.JDt()}}]),n}(na),qG=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n,i,r,e,s)||this).fNt=!1,o.uNt=!1,o.lNt=[],o.dNt=void 0,o._Nt=function(){var n=o.FR||0===o.dI;"hidden"===v.visibilityState&&!o.ZR&&n?(o.bI(),o.fNt=!0):"visible"===v.visibilityState&&o.fNt&&(o.uNt=!0,o.dNt=Kn.Fg((function(){for(var n=0,i=o.lNt;n<i.length;n++){var r=i[n];t.prototype.yo.call(RZ(o),r)}o.dNt=void 0,o.uNt=!1}),2e3),jo(o.AI()),o.fNt=!1)},o.mH=u,o.vNt=n,Gn.Dg&&v.addEventListener("visibilitychange",o._Nt),o}It(n,t);var i=n.prototype;return i.yo=function(n){if(this.uNt){if(n.type===ua.zy)return void this.cNt();if(n.type===wp.LL||n.type===ua.qy||n.type===wp.BL)return void this.lNt.push(n)}t.prototype.yo.call(this,n)},i.cNt=function(){this.uNt=!1,void 0!==this.dNt&&Kn.Og(this.dNt);var n=ao(this.lNt,(function(t){return t.type===wp.BL}));n&&t.prototype.yo.call(this,n),po(this.lNt)},i.wI=function(){if(CM(this.LB))return this.LB.wI()},i.tr=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.fNt=!1,n.cNt(),[4,t.prototype.tr.call(n)];case 1:return i.sent(),[2]}}))}))()},i.gn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return v.removeEventListener("visibilitychange",n._Nt),n.cNt(),[4,t.prototype.gn.call(n)];case 1:return i.sent(),[4,n.LB.Ww()];case 2:return i.sent(),[4,n.mH.vH(n.vNt)];case 3:return i.sent(),[2]}}))}))()},i.hNt=function(t){return Gn.jm&&Gn.Jm>=15&&Gn.Xv?t+.25:t},n}(KG);F(),Tt(),Gt(),Dt(),qt();var JG=function(){function t(){}var n=t.prototype;return n.NH=function(t,n){return Zt((function(){return Ht(this,(function(n){return[2,QG(t.type)]}))}))()},n.MH=function(t){return Zt((function(){return Ht(this,(function(n){return[2,__(t)]}))}))()},Nt(t,[{key:"BH",get:function(){return _k.qC}}]),t}();function QG(t){if(!t)return!1;var n=t.toLowerCase();return Bs(n,oA.zC)||Bs(n,oA.qC)}var $G=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.nP=function(t,n,i,r,e,u,s){var o=new zM(n),a=o.DH(jg.lE);return new qG(a,i,e,u,o,r)},i.NH=function(n,i){return Kn.jx&&Pd?Gn.IS_IOS_CHROME||Gn.Em&&Gn.Rm<6?et.resolve(!1):Lr(n.useManagedMediaSource)?t.prototype.NH.call(this,n,i):et.resolve(!1):et.resolve(!1)},i.LH=function(){return!1},n}(JG);VT(new $G),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Gt(),Rt(),qt();var tH=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n,i,r,e,s)||this).mH=u,o}It(n,t);var i=n.prototype;return i.wI=function(){if(CM(this.LB))return this.LB.wI()},i.gn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return i.sent(),[4,n.mH.vH(n.LB)];case 2:return i.sent(),[2]}}))}))()},n}(KG),nH=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.NH=function(n,i){var r=this;return Zt((function(){var e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return Gn.IS_IOS_CHROME?[2,!1]:[4,t.prototype.NH.call(r,n,i)];case 1:if(s=a.sent(),!(null!=(o=null==(u=Ii())||null==(e=u.canPlayType)?void 0:e.call(u,oA.HC))?o:"")||!s||!("serviceWorker"in l))return[2,!1];a.label=2;case 2:return a.trys.push([2,4,,5]),[4,Qo(l.serviceWorker.ready,1e3)];case 3:return a.sent(),[2,!0];case 4:return a.sent(),[2,!1];case 5:return[2]}}))}))()},i.MH=function(n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return n.fairplay?[4,t.prototype.MH.call(i,n)]:[2,!1];case 1:return[2,r.sent()]}}))}))()},i.nP=function(t,n,i,r,e,u,s){if(t instanceof HTMLDivElement){var o=n.Znt(jg.lE);return new tH(o,i,e,u,n,r)}throw new td(Qv.CONFIGURATION_ERROR,"Container Div element expected.")},i.LH=function(){return!1},Nt(n,[{key:"BH",get:function(){return _k._G}}]),n}(JG);Gn.jm&&Gn.Ka&&VT(new nH),F(),Tt(),F(),Tt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Dt();var iH="theo_live_user_id",rH=function(){function t(t){this.externalId=t,this.id=WE(),this.userId=eH(),this.$A=0}return t.prototype.incrementSequenceNumber=function(){this.$A+=1},Nt(t,[{key:"sequenceNumber",get:function(){return this.$A}}]),t}();function eH(){try{var t=localStorage.getItem(iH);if(t)return t;var n=WE();return localStorage.setItem(iH,n),n}catch(t){return WE()}}F(),Tt(),Gt(),Dt(),Rt(),qt();var uH=function(){function t(t,n){this.aW=t,this.mNt=new Map,this.gNt=n}return t.prototype.fgt=function(t){var n=this.mNt.get(t.id);if(n)return n;var i=new sH(t,this.aW,this.gNt);return this.mNt.set(t.id,i),i},t}(),sH=function(){function t(t,n,i){this.US=t,this.aW=n,this.SNt=new Ed,i.discoveryHeader&&this.SNt.append("x-theolive-discovery",i.discoveryHeader),this.Yn()}var n=t.prototype;return n.Yn=function(){var t=this;this.yNt=!1,this.wNt=dr(),this.bNt=this.JSt(),this.bNt.catch((function(){return t.yNt=!0}))},n.JSt=function(){var t=this;return Zt((function(){var n,i,r,e,u,s,o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:return n=t.US,i=n.id,r=n.discovery,Vs(r.pathname,"manifest.json")?[2,oH(t.US)]:[4,t.ANt(t.US,t.SNt)];case 1:if(!(e=f.sent()))throw new cH(i);if(u=e.mode,s=e.status,o=e.fallback,a=e.metadata,"locked"===u)throw new hH(i);if("deleted"===s)throw new fH(i);return c={id:t.US,name:a.name,mode:u,status:s,source:vH(e)},o?[4,t.TNt(o,r,t.SNt)]:[3,3];case 2:return h=f.sent(),[3,4];case 3:h=void 0,f.label=4;case 4:return[2,(c.fallback=h,c.insights=null==a?void 0:a.insights,c.enhancedLogging=null==a?void 0:a.enhancedLogging,c.customization=null==a?void 0:a.customization,c.sseEndpoint=e.sseEndpoint,c)]}}))}))()},n.TNt=function(t,n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){switch(s.label){case 0:return"theo.live"!==t.type?[2,{src:t.src,type:t.type}]:(e={id:t.src,discovery:n},[4,r.ANt(e,i)]);case 1:return(u=s.sent())?[2,vH(u)]:[2,void 0]}}))}))()},n.ANt=function(t,n){var i=t.id,r=t.discovery,e=this;return Zt((function(){return Ht(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,e.aW.zk({qu:Kn.Ah(i,r.toString()).toString(),qk:n})];case 1:return[4,t.sent().Sk()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,void 0];case 4:return[2]}}))}))()},Nt(t,[{key:"pNt",get:function(){return dr()-this.wNt>36e5}},{key:"Vtt",get:function(){return(this.yNt||this.pNt)&&this.Yn(),this.bNt}}]),t}();function oH(t){return{id:{id:t.id,discovery:Kn.Ah("dev://")},name:"demo",mode:"demo",status:"playing",source:{src:t.id,type:"theo.live"},customization:{autoplay:!0}}}var aH=function(t){function n(n,i,r){var e;return(e=t.call(this,n,"Could not load channel with id "+i+": "+r)||this).channelId=i,e.reason=r,e}return It(n,t),n}(td),cH=function(t){function n(n){return t.call(this,Qv.THEO_LIVE_CHANNEL_NOT_FOUND,n,"The channel could not be found")||this}return It(n,t),n}(aH),hH=function(t){function n(n){return t.call(this,Qv.THEO_LIVE_CHANNEL_NOT_FOUND,n,"This account has been locked")||this}return It(n,t),n}(aH),fH=function(t){function n(n){return t.call(this,Qv.THEO_LIVE_CHANNEL_NOT_FOUND,n,"The channel got deleted")||this}return It(n,t),n}(aH);function vH(t){var n;return{src:t.hespSrc,type:"theo.live",hlsSrc:t.hlsSrc,targetLatency:null==(n=t.metadata.customization)?void 0:n.targetLatency,contentProtection:t.drmConfig?dH(t.drmConfig):void 0}}function dH(t){var n=t.integration,i=t.widevine,r=t.playready,e=t.fairplay;return $u({integration:n},i&&{widevine:{licenseAcquisitionURL:i.licenseUrl}},r&&{playready:{licenseAcquisitionURL:r.licenseUrl}},e&&{fairplay:{licenseAcquisitionURL:e.licenseUrl,certificateURL:e.certificateUrl}})}function lH(t,n){return{id:t,discovery:Kn.Ah(t,n)}}F(),Tt(),at(),F(),Tt();var gH=function(t){return t.STARTING="s",t.PLAYING="p",t.SEEKING="k",t.REBUFFERING="r",t.PAUSED="a",t.ENDED="e",t.QUIT="q",t}({}),wH=function(t){return t.MANIFEST="m",t.AUDIO="a",t.VIDEO="v",t.OTHER="o",t}({});function mH(t){return 100*k.round(t/100)}function yH(t){for(var n=t.bR(),i=t.vR(),r=0;r<i.length;r++)if(i.start(r)<=n&&n<=i.end(r))return 1e3*(i.end(r)-n);return 0}function pH(t){return ao(t.oC,(function(t){return t.Rt}))}function _H(t){return t.EC.aC(0)}function bH(t){return t.EC.aC(t.EC.V-1)}F(),Tt(),Dt(),F(),Tt();var kH=function(){function t(t,n,i,r){var e,u,s,o;this.kNt=Date.now(),this.RNt=0,this.CNt=0,this.KG=0,this.PNt=0,this.xNt=0,this.pp=t,this.ta=n,this.DNt=null==(u=pH(this.ta.rt))||null==(e=u.SC)?void 0:e.o,this.NNt=null==(o=pH(this.ta.ht))||null==(s=o.SC)?void 0:s.o,this.rf=i,this.HG=r}var n=t.prototype;return n.ENt=function(){var t=this.ta.WX.nj.mG,n=this.ta.vI.ZB,i=yH(this.ta);t>0&&void 0!==i&&void 0!==n&&(this.xNt+=1,this.RNt=this.INt(this.RNt,i),this.CNt=this.INt(this.CNt,1e3*this.ta.vI.md.targetOffset),this.KG=this.INt(this.KG,1e3*n),this.PNt=this.INt(this.PNt,t/1e3))},n.INt=function(t,n){return t+(n-t)/this.xNt},n.nP=function(){var t={sta:this.pp,ts:this.kNt,"theo-vt":this.DNt,"theo-at":this.NNt,"theo-d":this.ct,"theo-r":this.rf};return this.xNt>0?$u({},t,{bl:mH(this.RNt),tbl:mH(this.CNt),ltc:mH(this.KG),mtp:mH(this.PNt),"theo-w":this.xNt}):t},n.MNt=function(){return new t(this.pp,this.ta,this.rf)},t.starting=function(n,i,r){return new t(gH.STARTING,n,i,r)},t.playing=function(n){return new t(gH.PLAYING,n)},t.seeking=function(n,i){return new t(gH.SEEKING,n,i)},t.rebuffering=function(n,i){return new t(gH.REBUFFERING,n,i)},t.paused=function(n){return new t(gH.PAUSED,n)},t.ended=function(n){return new t(gH.ENDED,n)},t.quit=function(n){return new t(gH.QUIT,n)},Nt(t,[{key:"ct",get:function(){return Date.now()-this.kNt}}]),t}(),AH=function(){function t(t,n,i){var r=this;this.HNt=[],this.ZDt=!1,this.OX=!1,this.KNt=function(){var t;r.ZNt(kH.starting(r.ta,"fallback",null==(t=r.ta.IR())?void 0:t.message))},this.jNt=function(){r.ZNt(kH.starting(r.ta,"loadChannel"))},this.QNt=function(){r.ZNt(kH.ended(r.ta))},this.BG=function(t){t.Ht.yn(kg.iC,r.Jr)},this.Jr=function(){var t,n,i,e,u=null==(n=pH(r.ta.rt))||null==(t=n.SC)?void 0:t.o,s=null==(e=pH(r.ta.ht))||null==(i=e.SC)?void 0:i.o;u&&s&&(r.BNt&&r.BNt.pp===gH.PLAYING&&r.BNt.DNt===u&&r.BNt.NNt===s||r.ZNt(kH.playing(r.ta)))},this.WB=function(){r.ZDt=!0,r.OX=!1,r.ZNt(kH.playing(r.ta))},this.qNt=function(){r.ZDt&&!r.OX&&(r.OX=!0,r.ZNt(kH.seeking(r.ta,"latencyRecovery")))},this.YNt=function(){r.ZDt&&!r.OX&&(r.OX=!0,r.ZNt(kH.seeking(r.ta,"goLive")))},this.VB=function(){r.ta.nI||r.ZNt(kH.rebuffering(r.ta,"visible"===v.visibilityState?void 0:"invisible"))},this.zNt=function(){r.ZNt(kH.paused(r.ta))},this.JNt=function(t){var n=Kn.Ah(t.url),i=function(t){var n=t.pathname;if(Vs(n,"manifest.json"))return wH.MANIFEST;if(Os(n,"/video/"))return wH.VIDEO;if(Os(n,"/audio/"))return wH.AUDIO;return wH.OTHER}(n);if("o"!==i){r.ONt.incrementSequenceNumber();var e=$u({},t.headers,{"CMCD-Request":r.LNt(),"CMCD-Object":r.FNt(i),"CMCD-Status":r.VNt(),"CMCD-Session":r.WNt()});i===wH.VIDEO&&Vs(n.pathname,".hspc")&&r.BNt&&(r.ZNt(r.BNt.MNt()),e=$u({},e,r.GNt())),t.redirect($u({},t,{headers:e}))}},this.XNt=function(){r.BNt&&(r.HNt.push(r.BNt.nP()),r.BNt=void 0),r.HNt.push(kH.quit(r.ta).nP()),jo(r.ta.aR.zk({qu:r.tMt,qk:r.GNt(),EE:!0}))},this.ta=t,this.UNt=n,this.ONt=i,this.tMt=Kn.Ah("bye",n.source.src).href,f.addEventListener("beforeunload",this.XNt),this.ta.yn(wp.BL,this.WB),this.ta.yn(wp.LL,this.VB),this.ta.yn(ua.Uy,this.zNt),this.ta.PR.yn("latencyrecoveryseek",this.qNt),this.ta.PR.yn("golive",this.YNt),this.ta.WX.KK(this.JNt),this.ta.rt.yn(mg.MI,this.BG),this.ta.ht.yn(mg.MI,this.BG),this.ta.Est.addEventListener("intenttofallback",this.KNt),this.ta.Est.addEventListener("publicationloadstart",this.jNt),this.ta.Est.addEventListener("publicationoffline",this.QNt),this.BNt=kH.starting(this.ta,"loadchannel"),this.$Nt=Kn.Op((function(){var t;null==(t=r.BNt)||t.ENt()}),1e3)}var n=t.prototype;return n.LNt=function(){var t,n=this.ta.vI.ZB,i=yH(this.ta),r=this.ta.WX.nj.mG;return TH({bl:i?mH(i):void 0,tbl:mH(1e3*this.ta.vI.md.targetOffset),ltc:n?mH(n):void 0,mtp:r?mH(r/1e3):void 0,sta:null==(t=this.BNt)?void 0:t.pp,su:!this.ZDt||void 0,"theo-sq":this.ONt.sequenceNumber})},n.FNt=function(t){var n,i,r=function(t,n){switch(n){case wH.VIDEO:return pH(t.rt);case wH.AUDIO:return pH(t.ht)}}(this.ta,t);return TH({br:(null==r||null==(n=r.SC)?void 0:n.mG)?mH((null==r||null==(i=r.SC)?void 0:i.mG)/1e3):void 0,ot:t,tb:r?mH(bH(r).mG/1e3):void 0,lb:r?mH(_H(r).mG/1e3):void 0})},n.VNt=function(){return TH({"theo-cw":this.ta.we.clientWidth,"theo-ch":this.ta.we.clientHeight})},n.WNt=function(){var t;return TH({sf:"e",sid:this.ONt.id,st:"l",v:2,"theo-eid":null==(t=this.ONt.externalId)?void 0:t.substring(0,128),"theo-cn":this.UNt.name.substring(0,128),"theo-v":"9.0.0","theo-t":"web","theo-u":this.ONt.userId})},n.GNt=function(){var t={"CMCD-States":btoa(JSON.stringify(this.HNt))};return this.HNt=[],t},n.ZNt=function(t){this.BNt&&this.HNt.push(this.BNt.nP()),this.BNt=t},n.destroy=function(){var t=this;this.XNt(),f.removeEventListener("beforeunload",this.XNt),this.ta.fn(wp.BL,this.WB),this.ta.fn(wp.LL,this.VB),this.ta.fn(ua.Uy,this.zNt),this.ta.PR.fn("latencyrecoveryseek",this.qNt),this.ta.PR.fn("golive",this.YNt),this.ta.rt.fn(mg.MI,this.BG),this.ta.ht.fn(mg.MI,this.BG),this.ta.rt.oC.forEach((function(n){return n.fn(kg.iC,t.Jr)})),this.ta.ht.oC.forEach((function(n){return n.fn(kg.iC,t.Jr)})),this.ta.Est.removeEventListener("intenttofallback",this.KNt),this.ta.Est.removeEventListener("publicationloadstart",this.jNt),this.ta.Est.removeEventListener("publicationoffline",this.QNt),this.ta.WX.JK(this.JNt),Kn.Fp(this.$Nt)},t}();function TH(t){return b.keys(t).map((function(n){return function(t,n){switch(void 0===n?"undefined":U(n)){case"boolean":return n?t:t+"=false";case"number":return t+"="+n;case"string":return t+'="'+n+'"';default:return}}(n,t[n])})).filter(Boolean).sort().join(",")}F(),Tt(),Gt(),Dt(),Rt(),qt();var SH=function(t){function n(n){var i;return(i=t.call(this,"publicationloadstart")||this).publicationId=n,i}return It(n,t),n}(ea),EH=function(t){function n(n){var i;return(i=t.call(this,"publicationoffline")||this).publicationId=n,i}return It(n,t),n}(ea),IH=function(t){function n(n,i){var r;return(r=t.call(this,"publicationloaded")||this).publicationId=n,r.channelName=i,r}return It(n,t),n}(ea),RH=function(t){function n(){return t.call(this,"intenttofallback")||this}return It(n,t),n}(ea),CH=function(t){function n(){return t.call(this,"enterbadnetworkmode")||this}return It(n,t),n}(ea),NH=function(t){function n(){return t.call(this,"exitbadnetworkmode")||this}return It(n,t),n}(ea),DH=function(t){function n(n){var i;return(i=t.call(this)||this).ta=n,i}return It(n,t),n.prototype.iMt=function(t){return this.ta.iMt(t)},Nt(n,[{key:"ga",get:function(){return this.Za||(this.Za=function(t){return{addEventListener:function(n,i){t.yn(n,i)},removeEventListener:function(n,i){t.fn(n,i)},get badNetworkMode(){return t.eMt},set badNetworkMode(n){t.eMt=n},preloadPublications:function(n){return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.iMt(n)];case 1:return[2,i.sent().map((function(t){return{name:t.name}}))]}}))}))()}}}(this)),this.Za}},{key:"eMt",get:function(){return this.ta.eMt},set:function(t){this.ta.eMt=t}}]),n}(na);var PH=["https://theo-insights-prod-5cb0.ew.r.appspot.com/"],xH=8e5,LH=function(t){function n(n,i){var r,e,u,s;r=t.call(this,n,i)||this,e=r,r.kDt=!1,r.OT=new Ho,r.rMt=void 0,r.ZDt=!1,r.TMt=[],r.aMt=!1,r.BG=function(t){var n,i=t.Ht;i.yn(kg.iC,r.Jr);var e=MH(null!=(n=i.xC)?n:i.EC.oC);i.xC=e.length>0?e:MH(i.EC.oC)},r.Jr=function(t){var n,i=t.nat;(!i||(null!=(n=i.Tyt)?n:i.mG)>=xH)&&r.cMt()},r.qNt=Zt((function(){return Ht(this,(function(t){switch(t.label){case 0:return e.uMt(),e.TMt.push(Kn.Bg()),e.TMt=e.TMt.filter((function(t){return Kn.Bg()-t<=3e5})),e.TMt.length>=3?(e.TMt=[],[4,e.mMt(!0)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))})),r.oMt=Zt((function(){return Ht(this,(function(t){switch(t.label){case 0:return e.fMt?[4,e.fMt.Vtt]:[2];case 1:return"demo"!==t.sent().mode?[3,3]:(e.fMt.Yn(),[4,e.fMt.Vtt]);case 2:if("playing"!==t.sent().status)return e.yo(new wk(new td(Qv.THEO_LIVE_END_OF_DEMO,"This demo channel has been stopped automatically after 5 minutes"))),[2];t.label=3;case 3:return[4,e.mMt(!0)];case 4:return t.sent(),[2]}}))})),r._Mt=function(t){if("manifest"===t.type||"segment"===t.type||""===t.type){var n=Kn.Ah(t.url);n.searchParams.append("enhancedLogging","true"),t.redirect({url:n.toString()})}},r.hMt=new DH(r);var o,a,c,h,f=n.md.theoLive;return r.dMt={sessionId:null!=(o=null==f?void 0:f.sessionId)?o:WE(),userId:null!=(a=null==f?void 0:f.userId)?a:eH(),externalSessionId:null==f?void 0:f.externalSessionId,analyticsEnabled:!1!==(null==f?void 0:f.analyticsEnabled),fallbackEnabled:!1!==(null==f?void 0:f.fallbackEnabled),discoveryUrl:null!=(c=null==f?void 0:f.discoveryUrl)?c:"https://discovery.theo.live/channels/",analyticsUrls:null!=(h=null==f?void 0:f.analyticsUrls)?h:PH},r.ONt=new rH(null==(u=r.dMt)?void 0:u.externalSessionId),r.lMt=new uH(n.aR,{discoveryHeader:null==(s=r.dMt)?void 0:s.discoveryHeader}),r.ta.PR.yn("latencyrecoveryseek",r.qNt),r}It(n,t);var i=n.prototype;return i.sMt=function(){this.ta.PR.yn("latencyrecoveryseek",this.qNt),this.ta.rt.yn(mg.MI,this.BG)},i.nMt=function(){this.ta.PR.fn("latencyrecoveryseek",this.qNt),this.ta.rt.fn(mg.MI,this.BG)},i.CI=function(n){var i=this;return this.kDt?n.type===wp.BL?(void 0!==this.rMt?(Kn.Og(this.rMt),this.rMt=void 0,this.ZDt||this.yo(new Sp(this.bR()))):this.yo(new Sp(this.bR())),this.ZDt=!0,!0):n.type===wp.LL?(this.rMt||(this.rMt=Kn.Fg((function(){i.yo(new kp(i.bR())),i.rMt=void 0}),100)),!0):"error"===n.type?(jo(this.oMt()),!0):t.prototype.CI.call(this,n):t.prototype.CI.call(this,n)},i.xst=function(){return this.hMt.ga},i.uMt=function(){if(!this.aMt&&(this.aMt=!0,this.hMt.yo(new CH),0!==this.ta.rt.V)){var t,n=this.rt.aC(0),i=To(n.EC.oC,(function(t){return t.mG}));(null!=(t=i.Tyt)?t:i.mG)<xH?(n.xC=[i],et.resolve().then((function(){return n.xC=n.EC.oC.slice()}))):this.cMt()}},i.cMt=function(){if(this.aMt&&(this.aMt=!1,this.hMt.yo(new NH),0!==this.ta.rt.V)){var t,n=this.ta.rt.aC(0),i=MH(null!=(t=n.xC)?t:n.EC.oC);n.xC=i.length>0?i:MH(n.EC.oC)}},i.iMt=function(t){var n=this;return et.all(t.map(Zt((function(t){return Ht(this,(function(i){switch(i.label){case 0:return[4,Fo(n.lMt.fgt(lH(t,n.dMt.discoveryUrl)).Vtt,n.OT.Bw)];case 1:return[2,i.sent()]}}))}))))},i.addSseEndpointToSource=function(t){var n;if(t&&(null==(n=this.wc)?void 0:n.ads))for(var i=0,r=this.wc.ads;i<r.length;i++){var e,u=r[i];if("theoads"===u.integration)null!=(e=u).sseEndpoint||(e.sseEndpoint=t)}},i.ka=function(n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h,f,v,d;return Ht(this,(function(l){switch(l.label){case 0:r.kDt=!1,u=0,s=null!=(e=null==n?void 0:n.sources)?e:[],l.label=1;case 1:if(!(u<s.length))return[3,10];if(!eT(o=s[u])||o.type!==oA.KC)return[3,8];if(void 0===o.src)return[3,9];r.sMt(),r.kDt=!0,r.hMt.yo(new SH(o.src)),a=lH(o.src,r.dMt.discoveryUrl),c=r.hMt.uy("publicationloaded"),l.label=2;case 2:return l.trys.push([2,5,,6]),r.wc=n,r.KH=o,r.fMt=r.lMt.fgt(a),[4,r.fMt.Vtt];case 3:return h=l.sent(),r.addSseEndpointToSource(h.sseEndpoint),(null==(f=h.enhancedLogging)?void 0:f.enabled)&&k.random()<=f.percentage&&r.ta.WX.KK(r._Mt),r.dMt.analyticsEnabled&&"theo.live"===h.source.type&&(r.vMt=new AH(r,h,r.ONt)),[4,Fo(r.mMt(r.ta.pO),i)];case 4:return l.sent(),[3,6];case 5:throw v=l.sent(),r.a9(),r.dispatchErrorEvent(v),v;case 6:return[4,Fo(c,i).catch(Bo)];case 7:return l.sent(),[2];case 8:if("web"===Dn.xv&&(null==n?void 0:n.contentProtection)&&(!eT(o)||o.type!==oA.qC))throw d=new td(Qv.CONFIGURATION_ERROR,"Content protection is not supported for this source type"),r.dispatchErrorEvent(d),d;l.label=9;case 9:return u++,[3,1];case 10:return[4,t.prototype.ka.call(r,n,i)];case 11:return[2,l.sent()]}}))}))()},i.mMt=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return n.a9(),n.fMt?[4,n.fMt.Vtt]:[2];case 1:return i=e.sent().source,[4,n.gMt(i)];case 2:if("live"!==(r=e.sent()))return[3,11];if("primary"!==n.pMt)return[3,8];e.label=3;case 3:return e.trys.push([3,5,,7]),[4,n.wMt(t)];case 4:return e.sent(),[3,7];case 5:return e.sent(),[4,n.yMt(t)];case 6:return e.sent(),[3,7];case 7:return[3,10];case 8:return[4,n.yMt(t)];case 9:e.sent(),e.label=10;case 10:return[3,17];case 11:return"offline"!==r?[3,13]:[4,n.QNt()];case 12:return e.sent(),[3,17];case 13:return e.trys.push([13,15,,17]),[4,n.wMt(t)];case 14:return e.sent(),[3,17];case 15:return e.sent(),[4,n.QNt()];case 16:return e.sent(),[3,17];case 17:return[2]}}))}))()},i.gMt=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,n.ta.aR.zk({qu:t.src})];case 1:return(i=r.sent()).Hk>=200&&i.Hk<300?[2,"live"]:404===i.Hk||503===i.Hk?[2,"offline"]:[2,"error"];case 2:return r.sent(),[2,"error"];case 3:return[2]}}))}))()},i.yMt=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return n.fMt?[4,n.fMt.Vtt]:[2];case 1:return i=r.sent(),n.pMt="primary",n.wJ(i.source,t),[2]}}))}))()},i.QNt=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.fMt?[4,t.fMt.Vtt]:[2];case 1:return n=i.sent(),t.hMt.yo(new EH(n.id.id)),t.bMt=Kn.Fg((function(){return t.mMt(t.ta.pO)}),15e3),[2]}}))}))()},i.wJ=function(t,n){var i,r,e,u,s=this,o=this.fMt.US.id,a=rE({sources:[{type:OH(t.type),src:t.src,contentProtection:t.contentProtection,useManagedMediaSource:!0,latencyConfiguration:null!=(u=null==(i=this.KH)?void 0:i.latencyConfiguration)?u:BH(t.targetLatency)},t.hlsSrc?{type:"application/x-mpegurl",src:t.hlsSrc}:void 0].filter(Yn),ads:this.ZDt?[]:null==(r=this.wc)?void 0:r.ads,blockContentIfAdError:null==(e=this.wc)?void 0:e.blockContentIfAdError,streamType:"live"});a.sources[0].bypassLicense=!0,this.ta.ka(a,(new Ho).Bw).then((function(){n&&s.ta.AI()})).catch(this.dispatchErrorEvent),this.fMt.Vtt.then((function(t){s.hMt.yo(new IH(o,t.name))}))},i.wMt=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.hMt.yo(new RH),[4,n.AMt()];case 1:if(!i.sent())throw new p("fallback not live");return[4,n.SMt(t)];case 2:return i.sent(),[2]}}))}))()},i.SMt=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return[4,null==(i=n.fMt)?void 0:i.Vtt];case 1:return(null==(r=e.sent())?void 0:r.fallback)?(n.pMt="fallback",n.wJ(r.fallback,t),[2]):[2]}}))}))()},i.AMt=function(){var t=this;return Zt((function(){var n,i,r,e;return Ht(this,(function(u){switch(u.label){case 0:return[4,null==(n=t.fMt)?void 0:n.Vtt];case 1:return r=u.sent(),(null==(i=t.dMt)?void 0:i.fallbackEnabled)&&(null==r?void 0:r.fallback)?[4,t.ta.aR.zk({qu:r.fallback.src})]:[2,!1];case 2:return[2,(e=u.sent()).Hk>=200&&e.Hk<300]}}))}))()},i.dispatchErrorEvent=function(t){if(t instanceof td)return this.yo(new wk(t));this.yo(new wk(new td(Qv.THEO_LIVE_UNKNOWN_ERROR,t.message,t)))},i.a9=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.ta.SI()];case 1:return n.sent(),void 0!==t.bMt&&(Kn.Og(t.bMt),t.bMt=void 0),[2]}}))}))()},i.SI=function(){var n;return this.OT.Xw(),this.OT=new Ho,this.nMt(),void 0!==this.rMt&&(Kn.Og(this.rMt),this.rMt=void 0),this.kDt=!1,this.ZDt=!1,null==(n=this.vMt)||n.destroy(),this.vMt=void 0,this.wc=void 0,this.KH=void 0,this.fMt=void 0,this.pMt=void 0,this.TMt=[],this.ta.WX.JK(this._Mt),this.aMt&&this.cMt(),t.prototype.SI.call(this)},i.gn=function(n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return i.OT.Xw(),void 0!==i.rMt&&(Kn.Og(i.rMt),i.rMt=void 0),i.Bo(),i.nMt(),null==(r=i.vMt)||r.destroy(),i.ta.PR.fn("latencyrecoveryseek",i.qNt),[4,t.prototype.gn.call(i,n)];case 1:return e.sent(),[2]}}))}))()},Nt(n,[{key:"eMt",get:function(){return this.aMt},set:function(t){this.kDt&&(t?this.uMt():this.cMt())}}]),n}(Ok);function MH(t){return t.filter((function(t){var n;return(null!=(n=t.Tyt)?n:t.mG)>=xH}))}function OH(t){switch(t){case"theo.live":return"application/vnd.theo.hesp+json";case"hls":return"application/x-mpegurl";case"dash":return"application/dash+xml";default:throw new p("Unknown source type: "+t)}}function BH(t){return void 0===t?BX():{minimumOffset:t-IA,targetOffset:t,maximumOffset:t+IA,forceSeekOffset:t+2.5,minimumPlaybackRate:SA,maximumPlaybackRate:EA}}Zk((function(t){return new LH(t)}),Bk.nu),F(),Tt(),F(),Tt(),Gt(),Dt(),qt(),F(),Tt(),Gt(),Dt(),Rt(),qt();var VH=V(pn());F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt();var FH=function(t){function n(n,i){var r;return(r=t.call(this)||this).TO=dw(),r.Za=void 0,r.XA=n,r.kMt=i,r}It(n,t);var i=n.prototype;return i.Yn=function(t,n){this.XA=t,this.kMt=n,this.Za&&this.yo(new rU(this.Za))},i.iW=function(){throw new p("Method not implemented.")},i.sW=function(){throw new p("Method not implemented.")},i.gn=function(){this.Bo()},Nt(n,[{key:"AN",get:function(){return this.kMt}},{key:"ga",get:function(){var t;return null!=(t=this.Za)?t:this.Za=this.ma()}},{key:"o",get:function(){return this.XA.id}},{key:"TC",get:function(){return this.TO}},{key:"mG",get:function(){return this.XA.bitrate}},{key:"Tyt",get:function(){}},{key:"Urt",get:function(){return""}},{key:"kh",get:function(){return""}},{key:"Ryt",get:function(){return""}},{key:"Hnt",get:function(){return!0}},{key:"kyt",get:function(){}}]),n}(na),UH=function(t){function n(n,i){return t.call(this,n,i)||this}return It(n,t),n.prototype.ma=function(){return nU(this)},Nt(n,[{key:"Kdt",get:function(){return 0}},{key:"ji",get:function(){return this.XA.targetWidth}},{key:"Ti",get:function(){return this.XA.targetHeight}},{key:"Eyt",get:function(){return 0}}]),n}(FH);F(),Tt(),Dt(),Rt();var WH=function(t){function n(n,i){var r;return(r=t.call(this)||this).TO=hw(),r.wO=new ew,r.US=n,r.q4=i,r}It(n,t);var i=n.prototype;return i.xO=function(t){this.Rt=t},i.gn=function(){this.Bo();for(var t=0,n=this.wO.oC;t<n.length;t++){n[t].gn()}this.wO.tr()},Nt(n,[{key:"Rt",get:function(){return!0},set:function(t){}},{key:"ga",get:function(){var t;return null!=(t=this.Za)?t:this.Za=Gg(this)}},{key:"Edt",get:function(){}},{key:"Lt",get:function(){return this.q4}},{key:"o",get:function(){return this.US||"millitrack"}},{key:"TC",get:function(){return this.TO}},{key:"kh",get:function(){return""}},{key:"gs",get:function(){return""}},{key:"TE",get:function(){return this.Rt?"enabled":"disabled"},set:function(t){this.xO("enabled"===t)}},{key:"SC",get:function(){}},{key:"EC",get:function(){return this.wO}},{key:"xC",get:function(){return this.EMt},set:function(t){if(this.EMt=t,this.Rt){var n=1===(null==t?void 0:t.length)?t[0].AN:void 0;this.xMt(n)}this.yo(new pB(this.wO.oC.slice(),this)),((null==t?void 0:t.length)||this.wO.V)&&this.yo(new KV((null==t?void 0:t[0])||this.wO.aC(0)))}},{key:"kC",get:function(){}}]),n}(na),ZH=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).RMt=r,e}It(n,t);var i=n.prototype;return i.Yn=function(t){for(var n,i=function(i,r){var e=r[i],u=ao(t.layers,(function(t){return t.encodingId===e.id})),s=ao(n.wO.oC,(function(t){return t.o===e.id}));s?s.Yn(e,u):n.wO.yO(new UH(e,u))},r=0,e=t.active;r<e.length;r++)n=this,i(r,e);this.yo(new ow(this))},i.xMt=function(t){var n;null==(n=this.RMt)||n.IMt(t)},i.gn=function(){this.RMt=void 0,t.prototype.gn.call(this)},Nt(n,[{key:"pw",get:function(){return jg.lE}}]),n}(WH);F(),Tt(),Dt();var XH=function(){function t(){}var n=t.prototype;return n.Yn=function(t){this.CMt=t},n.pG=function(t){},Nt(t,[{key:"mG",get:function(){var t,n,i,r,e,u;return(null!=(e=null==(n=this.CMt)||null==(t=n.video.inbounds)?void 0:t.reduce((function(t,n){return t+n.bitrateBitsPerSecond}),0))?e:0)+(null!=(u=null==(r=this.CMt)||null==(i=r.audio.inbounds)?void 0:i.reduce((function(t,n){return t+n.bitrateBitsPerSecond}),0))?u:0)}},{key:"gG",get:function(){var t,n;return null!=(n=null==(t=this.CMt)?void 0:t.currentRoundTripTime)?n:0}}]),t}();F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt();var GH=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).PMt=0,r}return It(n,t),n.prototype.ma=function(){return iU(this)},Nt(n,[{key:"Swt",get:function(){return this.PMt}}]),n}(FH),HH=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).RMt=r,e}It(n,t);var i=n.prototype;return i.Yn=function(t){for(var n,i=function(i,r){var e=r[i],u=ao(t.layers,(function(t){return t.encodingId===e.id})),s=ao(n.wO.oC,(function(t){return t.o===e.id}));s?s.Yn(e,u):n.wO.yO(new GH(e,u))},r=0,e=t.active;r<e.length;r++)n=this,i(r,e);this.yo(new ow(this))},i.xMt=function(t){var n;null==(n=this.RMt)||n.DMt(t)},i.gn=function(){this.RMt=void 0,t.prototype.gn.call(this)},Nt(n,[{key:"pw",get:function(){return jg.cE}}]),n}(WH);F(),Tt(),Rt();var zH=function(t){function n(n,i){var r;return(r=t.call(this,n,n,void 0,!1)||this).GV=i,r}return It(n,t),n.prototype.ma=function(){return function(t){return Eg(Pw(t),{get mid(){return t.GV.mid},get uuid(){return t.GV.uuid},get timecode(){return t.GV.timecode},get unregistered(){return t.GV.unregistered}})}(this)},n}(Ww);F(),Tt();var YH=[ua.so,ua.Uy,wp.BL,ua.$y,ua.Gy,ua.By,ua.qy,ua.zy,ua.xy,ua.Hy,ua.eb,ua.Sy,ua.Xy,ua.wy,ua.py,ua.Cy,ua.Ry],jH=["active","inactive","stopped","vad","layers","migrate","viewercount"],KH=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).lZ=n,e.dZ=i,e.fZ=r,e.OT=new Ho,e.opt=void 0,e.MMt=void 0,e.hO=new Yg,e.rO=new Yg,e.BMt=0,e.QG=new XH,e.Ss=function(t){e.PH(nw(t.lt))},e.Xpt=function(t){Mo(t)||e.PH(new td(Qv.MEDIA_DECODE_ERROR,t.message,t))},e.LB=e.lZ.DH(jg.lE),e.lH=new Ip(e.LB,!0),e.LB.yn(YH,e.Ds),e.LB.yn(Vy.ua,e.Ss),e.lH.yn(mp,e.Ds),e}It(n,t);var i=n.prototype;return i.IMt=function(t){var n;null==(n=this.If)||n.select(t).catch(this.Xpt)},i.DMt=function(t){var n;null==(n=this.If)||n.select(t).catch(this.Xpt)},i.wI=function(){return this.LB.wI()},i.AR=function(t,n){},i.ge=function(){this.LB.ge()},i.be=function(){this.LB.be()},i.AI=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.$n(),[4,t.LB.AI()];case 1:return n.sent(),[2]}}))}))()},i.bI=function(){this.LB.bI()},i.tr=function(){var t=this;return Zt((function(){var n,i,r;return Ht(this,(function(e){switch(e.label){case 0:return t.wc=void 0,t.OT.Xw(),null==(n=t.If)||n.stop(),t.If=void 0,t.opt?[4,t.opt.catch(pi)]:[3,2];case 1:e.sent(),t.opt=void 0,e.label=2;case 2:return t.MMt=void 0,[4,t.LB.tr()];case 3:for(e.sent(),t.LMt=void 0,t.BMt=0,t.LB.cH(),i=0,r=t.hO.oC;i<r.length;i++)r[i].gn();return t.rO.tr(),t.hO.tr(),[2]}}))}))()},i.gn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.Bo(),[4,t.tr()];case 1:return n.sent(),t.rO.gn(),t.hO.gn(),t.lH.gn(),t.LB.fn(YH,t.Ds),t.LB.fn(Vy.ua,t.Ss),[4,t.lZ.vH(t.LB)];case 2:return n.sent(),[2]}}))}))()},i.ka=function(t,n,i){var r=this;return Zt((function(){var n,e;return Ht(this,(function(u){return Oo(i),r.OEt(),n=t,r.wc=n,r.OT=new Ho,n.apiUrl&&VH.Director.setEndpoint(n.apiUrl),e=function(){return VH.Director.getSubscriber({streamName:n.src,streamAccountId:n.streamAccountId,subscriberToken:n.subscriberToken})},r.If=new VH.View(void 0,e,void 0,!0),r.OMt=$u({},n.connectOptions,{events:jH}),r.FMt(),[2]}))}))()},i.$n=function(){if(void 0===this.opt){var t=this.If;void 0!==t&&(this.opt=this.zE(t,this.OMt,this.OT.Bw).catch(this.Xpt))}},i.zE=function(t,n,i){var r=this;return Zt((function(){var e;return Ht(this,(function(u){switch(u.label){case 0:Oo(i),u.label=1;case 1:return u.trys.push([1,3,,6]),[4,Fo(t.connect(n),i)];case 2:return u.sent(),t.webRTCPeer.initStats({autoInitStats:!0,statsIntervalMs:1e3}),[3,6];case 3:return Bo(e=u.sent()),function(t){return Qn(t)&&"FetchError"===t.name}(e)&&400===e.status?(Kn.Mp("[THEOplayer] Millicast connect error, reconnecting.",e),[4,Fo(t.reconnect(),i)]):[3,5];case 4:u.sent(),u.label=5;case 5:return r.PH(new td(Qv.NETWORK_ERROR,e.message,e)),[3,6];case 6:return[2]}}))}))()},i.VMt=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:Oo(n),r.label=1;case 1:return r.trys.push([1,,4,5]),i.LB.o7(),i.MMt=t,[4,i.LB.tr()];case 2:return r.sent(),[4,i.LB.$n({pw:gp.fW,MC:"",EJ:t,Ik:oA.YC,JG:[]})];case 3:return r.sent(),[3,5];case 4:return i.LB.h7(),[7];case 5:return[2]}}))}))()},i.FMt=function(){var t,n=this,i=this.If;i.on("track",(function(t){return n.WMt(t)})),i.on("broadcastEvent",(function(t){return n.UMt(t)})),i.webRTCPeer.on("stats",(function(t){n.NMt=t,n.QG.Yn(t)})),(null==(t=this.OMt)?void 0:t.metadata)&&i.on("metadata",(function(t){return n.GMt(t)}))},i.WMt=function(t){var n=this.rO.V>0,i=this.hO.V>0,r=n&&!i;if(i&&t.track.kind===jg.lE||r&&t.track.kind===jg.cE){var e=t.streams[0];if(r)for(var u=e.getVideoTracks().slice(),s=0;s<u.length;s++){var o=u[s];e.removeTrack(o)}this.VMt(e,this.OT.Bw).catch(this.Xpt)}},i.UMt=function(t){switch(t.name){case"active":this.yo(new GW);for(var n=0,i=t.data.tracks;n<i.length;n++){var r=i[n];r.media===jg.lE?this.hO.tt(new ZH(r.trackId,this.hO.V?AG.APt:AG.SPt,this)):r.media===jg.cE&&this.rO.tt(new HH(r.trackId,this.rO.V?kG.APt:kG.SPt,this))}break;case"inactive":this.yo(new HW),this.hO.tr(),this.rO.tr();break;case"stopped":this.yo(new HW);break;case"viewercount":default:break;case"layers":var e=t.data;if(0===this.hO.V){var u=new ZH("",AG.SPt,this);u.Yn(e.medias[0]),this.hO.tt(u)}else{var s=ao(this.hO.oC,(function(t){return t.Lt===AG.SPt}));null==s||s.Yn(e.medias[0])}}},i.GMt=function(t){var n=this.LMt;void 0===n&&((n=this.LB.DI(Gy.jV,void 0,void 0,void 0,void 0,kw.MILLICAST)).TE=Oy.RC,this.LMt=n);var i=this.yR,r=k.max(0,i-10);this.BMt<r&&(ep(n,r),this.BMt=r);var e=new zH(i+.001,t);n.uW(e)},i.PH=function(t){this.HG||(jo(this.tr()),this.HG=tw(t),this.ZG=t,this.yo(new wk(t)))},i.OEt=function(){this.HG=void 0,this.ZG=void 0},i.TI=function(){return!1},i.kI=function(){},i.EI=function(){},i.xI=function(){this.LB.xI()},i.RI=function(){var t=this.MMt;void 0!==t&&this.VMt(t,this.OT.Bw).catch(this.Xpt)},i.pI=function(){return this.LB.wa},i._a=function(){return this.LB.aH},i.DI=function(t){return this.LB.uH(t)},Nt(n,[{key:"gI",get:function(){return!1}},{key:"ht",get:function(){return this.rO}},{key:"_R",get:function(){return this.LB._R.ks()}},{key:"mR",get:function(){return this.LB.mR},set:function(t){}},{key:"bt",get:function(){return this.wc}},{key:"yR",get:function(){return this.LB.yR},set:function(t){this.AR(t)}},{key:"ct",get:function(){return this.LB.ct}},{key:"kR",get:function(){return this.LB.kR}},{key:"lt",get:function(){return this.HG}},{key:"RR",get:function(){return this.ZG}},{key:"PR",get:function(){}},{key:"NR",get:function(){return this.LB.NR}},{key:"LR",get:function(){var t,n,i,r,e,u,s=this.NMt,o=null==s||null==(t=s.video.inbounds)?void 0:t[0],a=null==s||null==(n=s.audio.inbounds)?void 0:n[0];return{dO:this.dZ.nj.mG,uO:null!=(i=null==o?void 0:o.framesDropped)?i:0,cO:0,lO:null!=(r=null==o?void 0:o.framesReceived)?r:0,fO:(null!=(e=null==o?void 0:o.totalBytesReceived)?e:0)+(null!=(u=null==a?void 0:a.totalBytesReceived)?u:0),_O:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"FR",get:function(){return this.LB.FR},set:function(t){this.LB.FR=t}},{key:"GR",get:function(){var t,n;return null!=(n=null==(t=this.If)?void 0:t.isActive())&&n}},{key:"ZR",get:function(){return this.LB.ZR}},{key:"zR",get:function(){return 1},set:function(t){}},{key:"KR",get:function(){return this.LB.KR.ks()}},{key:"QR",get:function(){return GT.YH},set:function(t){}},{key:"tI",get:function(){return this.LB.tI}},{key:"iI",get:function(){return this.LB.iI.ks()}},{key:"nI",get:function(){return this.LB.nI}},{key:"YG",get:function(){return this.LB.YG}},{key:"nt",get:function(){return this.LB.nt}},{key:"hI",get:function(){return this.LB.hI}},{key:"rt",get:function(){return this.hO}},{key:"cI",get:function(){return this.LB.cI}},{key:"dI",get:function(){return this.LB.dI},set:function(t){this.LB.dI=t}},{key:"vI",get:function(){return this.fZ}},{key:"jG",get:function(){return this.QG}},{key:"ZB",get:function(){return this.fZ.ZB}}]),n}(na),qH=function(){function t(){}var n=t.prototype;return n.nP=function(t,n,i,r,e,u,s,o){return new KH(n,e,u)},n.NH=function(t,n){return t.type===oA.YC},n.MH=function(t){return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return[4,__(t)];case 1:return(n=i.sent())&&(n=Boolean(t.widevine||t.fairplay)),[2,n&&!1]}}))}))()},n.LH=function(){return!1},Nt(t,[{key:"BH",get:function(){return _k.YC}}]),t}();VT(new qH),F(),Tt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Gt(),Dt(),Rt(),nn(),Ut(),at(),qt(),on(),F(),Tt();var JH=function(t){return t.HMt="currentbufferingrenditionchange",t.ZMt="XMt",t.zMt="qMt",t.YMt="KMt",t}({});F(),Tt(),Dt(),Rt(),F(),Tt();var QH=function(t,n){var i,r;this.Urt=void 0,this.TC=dw(),this.jMt=n,this.pw=t.pw,this.QMt=t.QMt,this.JMt=t.JMt,this.$Mt=t.$Mt,this.l=t.l,this.gs=t.gs,this.tLt=t.tLt,this.eLt=t.eLt,this.iLt=void 0===t.Ryt,this.sLt=null!=(r=null==(i=t.sLt)?void 0:i.split(","))?r:[]};function $H(t,n){return t.pw===n.pw&&(t.l===n.l||!(!t.QMt||!n.QMt))}function tz(t,n){return void 0!==t&&void 0!==n&&nz(t,n)}function nz(t,n){return t.jMt===n.jMt}function iz(t,n){return nz(t,n)&&t.tLt===n.tLt}function rz(t,n){for(var i=0;i<t.length;i++){if(iz(t[i],n))return!0}return!1}var ez=function(t){function n(n,i,r,e,u){var s,o;(s=t.call(this)||this).pp=n,s.ta=i,s.dZ=r,s.fh=e,s.EC=u,s.Wct=void 0,s.pLt=void 0,s.wLt=function(){return s.yo(new ow(s))},s.mLt=function(){var t=s.SC;t&&s.pLt!==t&&(s.pLt=t,s.yo(new KV(t)))},s.gLt=function(){var t=s.Rt;s.yLt!==t&&(s.yLt=t,s.fh.yo(new uw(s)),s.yo(new uw(s)))},s.pLt=s.SC,s.yLt=s.Rt;var a,c,h=u.aC(0);s.kO=null!=(a=null==h?void 0:h.oLt.l)?a:"",s.CA=null!=(c=null==h?void 0:h.oLt.gs)?c:"",s.nLt=null==h||null==(o=h.oLt)?void 0:o.sLt.map(hz).filter(Yn),s.TO=hw(),s.ta.yn(JH.HMt,s.mLt),s.ta.yn(JH.ZMt,s.gLt);for(var f=0;f<s.EC.V;f++){s.EC.aC(f).yn("update",s.wLt)}return s}It(n,t);var i=n.prototype;return i.xO=function(t){this.Rt=t},i.gn=function(){this.Bo(),this.ta.fn(JH.HMt,this.mLt),this.ta.fn(JH.ZMt,this.gLt);for(var t=0,n=this.EC.oC;t<n.length;t++){n[t].gn()}this.EC.tr()},Nt(n,[{key:"kC",get:function(){return this.nLt}},{key:"Rt",get:function(){var t=this.rLt();if(!t)return!1;for(var n=0,i=this.EC.oC;n<i.length;n++){if(i[n].oLt===t)return!0}return!1},set:function(t){if(t!==this.Rt)if(t){for(var n,i=null==(n=this.EC.aC(0))?void 0:n.oLt,r=this.ta.hLt,e=0,u=this.EC.oC;e<u.length;e++){var s=u[e];if(s.aLt===r){i=s.oLt;break}}this.uLt(i)}else this.uLt(void 0)}},{key:"SC",get:function(){if(this.Rt)for(var t=this.ta.cLt,n=0,i=this.EC.oC;n<i.length;n++){var r=i[n];if(rz(t,r.oLt))return r}}},{key:"ga",get:function(){return this.Za||(this.Za=Gg(this)),this.Za}},{key:"o",get:function(){return this.TO.toString()}},{key:"TC",get:function(){return this.TO}},{key:"kh",get:function(){return this.kO},set:function(t){t!==this.kO&&(this.kO=t,this.yo(new ow(this)))}},{key:"gs",get:function(){return this.CA}},{key:"TE",get:function(){return this.Rt?"enabled":"disabled"}},{key:"xC",get:function(){return this.Wct},set:function(t){var n=this,i=[];t?i=t.filter((function(t){var i=n.SC?TB(n.SC):void 0;return Kn.Ys.hp(i,TB(t))})).filter((function(i){return n.EC.bO(t)&&i.Hnt})):i=this.EC.oC.filter((function(t){return t.Hnt}));if(0!==i.length){if(!(t===this.Wct||this.Wct&&_o(this.Wct,i))){if(this.Wct=t?i:void 0,this.ta.lLt(i.map((function(t){return t.aLt}))),1===i.length){var r=i[0].aLt,e=this.pp===jg.lE,u=this.dZ.Nj;jo(this.ta.dLt(r,{fLt:!0,_Lt:u&&e,vLt:u&&!e}))}this.yo(new pB(i,this))}}else this.yo(new AB)}}]),n}(na),uz=function(t){function n(n,i,r,e){return t.call(this,jg.cE,n,i,r,e)||this}It(n,t);var i=n.prototype;return i.rLt=function(){return this.ta.bLt},i.uLt=function(t){jo(this.ta.ALt(t))},Nt(n,[{key:"Lt",get:function(){return kG.SPt}}]),n}(ez),sz=function(t){function n(n,i,r,e){return t.call(this,jg.lE,n,i,r,e)||this}It(n,t);var i=n.prototype;return i.rLt=function(){return this.ta.SLt},i.uLt=function(t){jo(this.ta.TLt(t))},Nt(n,[{key:"Lt",get:function(){return AG.SPt}}]),n}(ez),oz=function(t){function n(n,i){var r;return(r=t.call(this)||this).aLt=n,r.oLt=i,r.kO="",r.Hnt=!0,r}It(n,t);var i=n.prototype;return i.sW=function(){},i.iW=function(){},i.gn=function(){this.Bo()},Nt(n,[{key:"o",get:function(){return String(this.aLt.o)}},{key:"TC",get:function(){return this.aLt.o}},{key:"mG",get:function(){return this.aLt.mG}},{key:"Tyt",get:function(){return this.aLt.Tyt}},{key:"kh",get:function(){var t;return null!=(t=this.kO)?t:this.oLt.l},set:function(t){this.kh!==t&&(this.kO=t,this.yo(new rU(this.ga)))}},{key:"Ryt",get:function(){return this.oLt.jMt.kLt()}},{key:"kyt",get:function(){return this.aLt.kyt}}]),n}(na),az=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Za=void 0,r}return It(n,t),n.prototype.ma=function(){return iU(this)},Nt(n,[{key:"Swt",get:function(){return 0}},{key:"Urt",get:function(){var t;return(null==(t=this.aLt.Urt)?void 0:t.$Ct)||""}},{key:"ga",get:function(){return this.Za||(this.Za=this.ma()),this.Za}}]),n}(oz),cz=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Za=void 0,r.ELt=0,r.GCt=void 0,r}return It(n,t),n.prototype.ma=function(){return nU(this)},Nt(n,[{key:"Urt",get:function(){var t;return(null==(t=this.aLt.Urt)?void 0:t.ePt)||""}},{key:"Eyt",get:function(){return this.ELt},set:function(t){this.ELt!==t&&(this.ELt=t,this.yo(new rU(this.ga)))}},{key:"Kdt",get:function(){var t,n;return null!=(n=null!=(t=this.GCt)?t:this.aLt.Kdt)?n:0},set:function(t){this.Kdt!==t&&(this.GCt=t,this.yo(new rU(this.ga)))}},{key:"Ti",get:function(){var t,n;return null!=(n=null==(t=this.aLt.HCt)?void 0:t.Ti)?n:0}},{key:"ji",get:function(){var t,n;return null!=(n=null==(t=this.aLt.HCt)?void 0:t.ji)?n:0}},{key:"ga",get:function(){return this.Za||(this.Za=this.ma()),this.Za}}]),n}(oz);function hz(t){return"public.accessibility.describes-video"===t?Wg.AC:"public.accessibility.transcribes-spoken-dialog"===t?Wg.TRANSCRIBES_SPOKEN_DIALOG:"public.accessibility.describes-music-and-sound"===t?Wg.DESCRIBES_MUSIC_AND_SOUND:"public.accessibility.easy-to-read"===t?Wg.bC:void 0}F(),Tt(),F(),Tt(),Ut();var fz=function(){function t(){this.Rt=function(){return!1}}var n=t.prototype;return n.xLt=function(t){if(!this.Rt())return!1;var n=[];return!(n.length>0)||n.some((function(n){return n.toLowerCase()===t.toLowerCase()}))},n.RLt=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;this.xLt(t)&&(e=Kn).Np.apply(e,["DEBUG "+t+" -"].concat(Ft(i)))},n.RN=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;this.xLt(t)&&(e=Kn).Np.apply(e,["INFO "+t+" -"].concat(Ft(i)))},n.ILt=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;this.xLt(t)&&(e=Kn).Mp.apply(e,["WARNING "+t+" -"].concat(Ft(i)))},n.lt=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;this.xLt(t)&&(e=Kn).Lp.apply(e,["ERROR "+t+" -"].concat(Ft(i)))},n.CLt=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;this.xLt(t)&&(e=Kn).Lp.apply(e,["FATAL "+t+" -"].concat(Ft(i)))},t}(),vz=new fz,dz="HLSPlaylistParser",lz="Discontinuity",gz="Buffering",wz=function(){function t(t,n,i,r){this.ta=t,this.dZ=n,this.MLt=i,this.LLt=r}var n=t.prototype;return n.ift=function(){var t,n=null==(t=this.ta.Tr)?void 0:t.PLt;if(n&&0!==n.length){for(var i,r=null!=(i=ao(n,(function(t){return 0!==t.DLt.length&&0!==t.NLt.length})))?i:n[0],e=n.filter((function(t){return t!==r})),u=0,s=r.DLt;u<s.length;u++){var o=s[u],a=new ew,c=[];a.yO(new az(r,o)),c.push(o);for(var h=0;h<e.length;h++)for(var f=e[h],v=0,d=f.DLt;v<d.length;v++){var l=d[v];if($H(l,o)&&!rz(c,l)){a.yO(new az(f,l)),c.push(l);break}}this.MLt.tt(new uz(this.ta,this.dZ,this.MLt,a))}for(var g=0,w=r.NLt;g<w.length;g++){var m=w[g],y=new ew,p=[];y.yO(new cz(r,m)),p.push(m);for(var _=0;_<e.length;_++)for(var b=e[_],k=0,A=b.NLt;k<A.length;k++){var T=A[k];if($H(T,m)&&!rz(p,T)){y.yO(new cz(b,T)),p.push(T);break}}this.LLt.tt(new sz(this.ta,this.dZ,this.LLt,y))}}else vz.ILt("LLHLSTrackConfigurator","The HLSModel contains no variant streams.")},n.BLt=function(){this.OLt(this.MLt),this.OLt(this.LLt)},n.OLt=function(t){for(var n=[],i=0,r=t.oC;i<r.length;i++){for(var e=r[i],u=[],s=0,o=e.EC.oC;s<o.length;s++){var a=o[s];mo(a.aLt.FLt,a.oLt)||u.push(a)}for(var c=0;c<u.length;c++){var h=u[c];e.EC.jS(h),h.gn()}0===e.EC.V&&n.push(e)}for(var f=0;f<n.length;f++){var v=n[f];t.it(v),v.gn()}},n.VLt=function(t,n){var i=this.WLt(t);void 0!==i&&(i.Kdt=n)},n.ULt=function(t,n){var i=this.WLt(t);void 0!==i&&(i.Eyt=n)},n.WLt=function(t){for(var n=0,i=this.LLt.oC;n<i.length;n++){var r=i[n],e=ao(r.EC.oC,(function(n){return n.oLt===t}));if(void 0!==e)return e}},t}();F(),Tt(),Dt();var mz=function(){function t(t){var n=t.mG>0?t.mG:EX._ut,i=t.gG>0?t.gG:mX._ut;this.gut=new EX(EX.zRt,EX.qRt,1,n),this.pIt=new mX(mX.zRt,mX.qRt,i)}var n=t.prototype;return n.pG=function(t){if("segment"===t.pw||"preload-hint"===t.pw){var n=[new pX(this.pIt)];return"stream"!==t.Xk||!function(t){return"segment"===t.pw&&"initialization-segment"!==t.yE}(t)&&"preload-hint"!==t.pw?n.push(new _X(this.gut)):n.push(new bX(this.gut,1e3)),new yX(n)}},n.dIt=function(t){this.gut=new EX(EX.zRt,EX.qRt,1,t)},Nt(t,[{key:"mG",get:function(){return this.gut.tit}},{key:"gG",get:function(){return this.pIt.tit}}]),t}();F(),Tt(),Rt();var yz=function(t){function n(n){var i;return(i=t.call(this,JH.YMt)||this).lt=n,i}return It(n,t),n}(ea);F(),Tt();var pz=function(){function t(t){this.Unt=t}return t.prototype.IJ=function(t,n){var i={pw:gp._W,JG:[],o4:t.map((function(t){return{Ik:t}})),g4:n};return et.resolve(void 0!==this.Unt.IJ([i]))},t}();F(),Tt(),Gt(),Dt(),qt(),F(),Tt();var _z=function(t,n,i,r,e){return t.filter((function(t){return!!mo(r,t)||1.1*t.mG<=i.mG}))},bz=function(t,n,i,r,e){return t.filter((function(t){if(mo(r,t))return!0;for(var u=1/0,s=0,o=t.FLt;s<o.length;s++){var a,c,h=o[s];u=k.min(u,null!=(c=null!=(a=h.jMt.GLt)?a:h.jMt.HLt)?c:1/0)}u===1/0&&(u=1);var f=2*i.gG+t.mG*u/i.mG;return t.mG<=n.mG||e.ZLt>f}))},kz=function(t,n,i,r,e){return Qs(t,(function(t,n){return n.mG-t.mG}))},Az=function(t,n,i,r,e){return t.every((function(t){return t.kyt&&!S(t.kyt)}))?Qs(t,(function(t,n){return n.kyt-t.kyt})):t},Tz=function(t,n,i,r,e){return 0===r.length?t:Qs(t,(function(t,n){var i=mo(r,t)?1:0;return(mo(r,n)?1:0)-i}))},Sz=function(t,n,i,r,e,u){return t.filter((function(t){return!t.Urt||!n.Urt||!(void 0!==n.Urt.ePt&&void 0!==t.Urt.ePt&&!HC(n.Urt.ePt,t.Urt.ePt)&&!u.XLt({Ik:'video/mp4; codecs="'+t.Urt.ePt+'"'}))&&!(void 0!==n.Urt.$Ct&&void 0!==t.Urt.$Ct&&!HC(n.Urt.$Ct,t.Urt.$Ct)&&!u.zLt({Ik:'audio/mp4; codecs="'+t.Urt.$Ct+'"'}))}))},Ez=function(t,n,i,r,e){if(!1===e.blt)return t;if(Kn.Ys.Hg)return t;for(var u,s,o=Kn.Ys.Zg,a=(null!=(u=null==o?void 0:o.width)?u:e.ji)*oB,c=(null!=(s=null==o?void 0:o.height)?s:e.Ti)*oB,h=0;h<t.length;h++){var f=t[h];if(void 0===f.HCt)return t;var v=f.HCt.Ti,d=f.HCt.ji;if(v<=c&&d<=a)return t.slice(h,t.length)}return[]},Iz=function(t,n,i,r,e){return function(t,n){var i=n.blt;if(void 0===i&&!Kn.Ys.Qs)return t;if(!1===i)return t;for(var r=0;r<t.length;r++){var e=t[r];if(void 0===e.HCt)return t;var u=e.HCt.Ti,s=e.HCt.ji;if(u===n.Ti&&s===n.ji)return t.slice(r,t.length);if(u<n.Ti||s<n.ji)return t.slice(0===r?r:r-1,t.length)}return[]}(t,e)};var Rz="AbrEvaluator",Cz=function(){function t(t){this.dZ=t,this.d_=[Sz,_z,bz,kz,Ez,Iz,Az,Tz]}var n=t.prototype;return n.YLt=function(t){this.d_=t},n.KLt=function(t,n,i,r,e){var u=this;return Zt((function(){return Ht(this,(function(s){switch(s.label){case 0:return[4,u.jLt(t,n,i,r,e)];case 1:return[2,s.sent()[0]]}}))}))()},n.jLt=function(t,n,i,r,e){var u=this;return Zt((function(){var s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:if(0===t.length)throw new p("AbrEvaluator - Unable to select optimal variant stream from an empty list.");vz.RLt(Rz,"Performing optimal variant stream selection."),s=u.qLt,o=t,a=0,c=u.d_,v.label=1;case 1:return a<c.length?(h=c[a],f=h(o,n,s,i,r,e),qn(f)?(o=f,[3,4]):[3,2]):[3,5];case 2:return[4,f];case 3:o=v.sent(),v.label=4;case 4:return a++,[3,1];case 5:return 0===o.length?(vz.ILt(Rz,"No possible variant stream remains after ABR rule evaluation. Selecting the lowest bandwidth variant stream."),[2,[ko(t,(function(t){return t.mG}))]]):[2,o]}}))}))()},Nt(t,[{key:"qLt",get:function(){return this.dZ.nj}}]),t}();function Nz(t,n){return[t,void 0!==n?t+n-1:ir]}function Dz(t){return Boolean(t.gN)}function Pz(t){return Boolean(t.Srt)}F(),Tt(),Dt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),nn(),F(),Tt(),F(),Tt();var xz=function(t){return t[t.cE=0]="cE",t[t.lE=1]="lE",t[t.qV=2]="qV",t[t.QLt=3]="QLt",t}({}),Lz=function(t){return t[t.JLt=0]="JLt",t[t.$Lt=1]="$Lt",t}({}),Mz=function(t){return t[t.YH=0]="YH",t[t.tBt=1]="tBt",t[t.eBt=2]="eBt",t}({}),Oz=function(t){return t[t.Qk=0]="Qk",t[t.iBt=1]="iBt",t[t.sBt=2]="sBt",t}({});function Bz(t){return t?t.nAt?t.Ix+"@"+t.nAt.Cn+"-"+(null!=(n=t.nAt.V)?n:""):""+t.Ix:"";var n}function Vz(t,n){if(n===t)return!0;if(n.Ix!==t.Ix)return!1;if(!t.nAt)return!0;if(n.nAt){var i=Nz(t.nAt.Cn,t.nAt.V),r=Nz(n.nAt.Cn,n.nAt.V);if(i[0]<=r[0])return void 0===i[1]||void 0!==r[1]&&i[1]>=r[1]}return!1}function Fz(t,n){return t===n||t.Ix===n.Ix&&(t.nAt&&n.nAt?t.nAt.Cn===n.nAt.Cn&&t.nAt.V===n.nAt.V:t.nAt===n.nAt)}function Uz(t){var n=!!t.nBt||void 0;return{o:t.o,rBt:t.rBt,YG:t.YG,oBt:t.oBt,ct:t.ct,hBt:t.hBt,nBt:n,aBt:t.uBt,cBt:t.lBt,dBt:t.dBt,fBt:t.fBt}}function Wz(t,n){var i,r,e;return{$Ct:null!=(i=n.$Ct)?i:null==t?void 0:t.$Ct,ePt:null!=(r=n.ePt)?r:null==t?void 0:t.ePt,_Bt:null!=(e=n._Bt)?e:null==t?void 0:t._Bt}}function Zz(t,n,i,r,e){return Xz.apply(this,arguments)}function Xz(){return Xz=Zt((function(t,n,i,r,e){var u,s,o,a,c,h,f,v,d,l,g;return Ht(this,(function(w){switch(w.label){case 0:return u=n.filter((function(t){return Os(t,"audio")})),s=n.filter((function(t){return Os(t,"video")})),o=[],a=i.map((function(t){return function(t,n,i){return Gz.apply(this,arguments)}(t,r,e)})),[4,et.all(a)];case 1:for(c=w.sent().filter(Yn),f=function(t,n){if(0===n.length)return t;var i=function(t){var i=n.indexOf(t.rT.Sw);return i>=0?i:n.length};return Qs(t,(function(t,n){return i(t)-i(n)}))}(c,null!=(h=null==t?void 0:t.preferredKeySystems)?h:[]),v=0;v<f.length;v++)d=f[v],l=sZ(null!=t?t:{},d.rT),g="cbcs",o.push({rT:d.rT,SG:d.SG,TG:d.TG,LU:d.LU,SH:[{initDataTypes:[d.rT.yw],audioCapabilities:oZ(u,g,null==l?void 0:l.audioRobustness),videoCapabilities:oZ(s,g,null==l?void 0:l.videoRobustness),persistentState:null==l?void 0:l.persistentState,distinctiveIdentifier:null==l?void 0:l.distinctiveIdentifier}]});return[2,o]}}))})),Xz.apply(this,arguments)}function Gz(){return Gz=Zt((function(t,n,i){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return t.Ryt&&t.vBt?t.gE!==Mz.eBt?[2]:(r=Hz(t.vBt))?r.Sw!==ks?[3,1]:[2,{rT:r,SG:[],TG:void 0,LU:t.Ryt}]:[2]:[2];case 1:return r.Sw!==_s||t.vBt!==Ss?[3,2]:[2,{rT:r,SG:[],TG:t.Ryt,LU:void 0}];case 2:return vz.RN("HLSDrmUtils","Fetching key uri "+t.Ryt+"."),[4,n.zk({qu:t.Ryt,AE:i})];case 3:return[4,u.sent().xk()];case 4:return e=u.sent(),[2,{rT:r,SG:[e],TG:void 0,LU:void 0}];case 5:return[2]}}))})),Gz.apply(this,arguments)}function Hz(t){return t===ms?Rs:t===gs?Is:t===Ts?Ns:t===Ss?Ds:void 0}function zz(t){if("#"!==t[0])throw new p("HLSPlaylistParser - Could not extract M3U8 tag or comment: "+t);return t.split(":",1)[0]}function Yz(t){return"#"!==t[0]?t:t.split(":",1)[0]}function jz(t){var n=t.indexOf(":");if(-1===n||t.length<n+1)throw new p("HLSPlaylistParser - Could not extract M3U8 parameter: "+t);return t.substring(n+1)}function Kz(t){var n=tY(jz(t));if(void 0===n)throw new p("HLSPlaylistParser - Could not extract M3U8 float parameter: "+t);return n}function qz(t){for(var n={},i=/[:,] ?([A-Z0-9-]+)=([^",]+|"([^"]*)")/gi,r=i.exec(t);null!==r;){var e=r[1],u=void 0;u=void 0!==r[3]?r[3]:r[2],null!==e?n[e]=u:vz.ILt(dz,"Ignoring unparsable M3U8 attribute name: "+t+"."),r=i.exec(t)}return n}function Jz(t,n){var i,r,e=qz(t);try{i=e.URI?Kn.Kp(e.URI,n):void 0,r=function(t){switch(t){case"AUDIO":return xz.cE;case"VIDEO":return xz.lE;case"SUBTITLES":return xz.qV;case"CLOSED-CAPTIONS":return xz.QLt}throw new p("HLSPlaylistParser - Could not parse M3U8 media type: "+t+".")}(e.TYPE)}catch(n){throw new p("HLSPlaylistParser - Could not parse #EXT-X-MEDIA tag: "+t+".")}var u=e["GROUP-ID"],s=e.LANGUAGE,o=e["ASSOC-LANGUAGE"],a=e.NAME,c="YES"===e.DEFAULT,h="YES"===e.AUTOSELECT,f="YES"===e.FORCED,v=e["INSTREAM-ID"],d=e.CHARACTERISTICS,l=e.CHANNELS;if(u||vz.ILt(dz,"#EXT-X-MEDIA tag has no GROUP-ID attribute: "+t+"."),s||vz.ILt(dz,"#EXT-X-MEDIA tag has no LANGUAGE attribute: "+t+"."),a||vz.ILt(dz,"#EXT-X-MEDIA tag has no NAME attribute: "+t+"."),r===xz.QLt?(i&&vz.ILt(dz,"#EXT-X-MEDIA tag of type CAPTIONS must not have a URI: "+t+"."),v?/^(CC[0-4])|(SERVICE([1-9]|[1-5][0-9]|6[0-3]))$/.test(v)||vz.ILt(dz,"#EXT-X-MEDIA's INSTREAM-ID is invalid: "+t+"."):vz.ILt(dz,"#EXT-X-MEDIA tag of type CAPTIONS must have an INSTREAM-ID attribute: "+t+".")):v&&vz.ILt(dz,"#EXT-X-MEDIA tag must not have an INSTREAM-ID attribute if the TYPE is not CAPTIONS: "+t+"."),c&&!h&&(h=!0,e.AUTOSELECT&&vz.ILt(dz,"#EXT-X-MEDIA tag with DEFAULT=YES attribute must have AUTOSELECT=YES attribute: "+t+".")),e.FORCED&&r!==xz.qV&&vz.ILt(dz,"#EXT-X-MEDIA tag must not have a FORCED attribute if the TYPE is not SUBTITLES: "+t+"."),void 0===u||void 0===a)throw new p("HLSPlaylistParser - Could not parse #EXT-X-MEDIA tag: "+t+".");return{mBt:o,WCt:l,sLt:d,tLt:u,JMt:h,QMt:c,$Mt:f,eLt:v,gs:s,l:a,pw:r,Ryt:i}}function Qz(t,n,i){var r,e,u,s=qz(t);try{r=Kn.Kp(i,n),u=function(t){if(void 0===t)return;var n=t.split("x"),i=Number(n[0]),r=Number(n[1]);if(S(i)||S(r))throw new p("HLSPlaylistParser - Could not parse RESOLUTION attribute: "+t+".");return{ji:i,Ti:r}}(s.RESOLUTION),e=function(t){if(!t)return;for(var n,i,r,e=t.split(","),u=0;u<e.length;u++){var s=e[u].trim();Bs(s,"mp4a")?n="mp4a.40.05"===s?"mp4a.40.5":"mp4a.40.02"===s?"mp4a.40.2":s:"ac-3"===s||"ec-3"===s||"flac"===s.toLowerCase()?n=s:Bs(s,"avc")||Bs(s,"hvc1")||Bs(s,"hev1")||Bs(s,"dvh")||Bs(s,"vp09")||Bs(s,"av01")?i=s:r=r?r+","+s:s}return{$Ct:n,ePt:i,_Bt:r}}(s.CODECS)}catch(n){throw new p("HLSPlaylistParser - Could not parse #EXT-X-STREAM-INF tag: "+t+".")}var o=tY(s.BANDWIDTH),a=tY(s["AVERAGE-BANDWIDTH"]),c=tY(s.SCORE),h=tY(s["FRAME-RATE"]),f=s["HDCP-LEVEL"],v=[];if(void 0!==s["ALLOWED-CPC"]){var d,l=s["ALLOWED-CPC"].split(",");(d=v).push.apply(d,Ft(l.map((function(t){var n=t.split(":");return{keysystem:n[0],label:n[1]}}))))}var g=s["VIDEO-RANGE"],w=s.AUDIO,m=s.VIDEO,y=s.SUBTITLES,_=s["CLOSED-CAPTIONS"];if(void 0===o?vz.ILt(dz,"#EXT-X-STREAM-INF tag has no valid BANDWIDTH attribute: "+t+"."):void 0!==a&&a>o&&vz.ILt(dz,"#EXT-X-STREAM-INF tag must have BANDWIDTH attribute higher or equal to AVERAGE-BANDWIDTH attribute: "+t+"."),e||vz.RN(dz,"#EXT-X-STREAM-INF tag should have a CODECS attribute: "+t+"."),e&&e.ePt&&void 0===u&&vz.RN(dz,"#EXT-X-STREAM-INF tag should have a valid RESOLUTION attribute if it contains video codecs: "+t+"."),void 0===f||mo(["TYPE-0","TYPE-1","NONE"],f)||vz.ILt(dz,"#EXT-X-STREAM-INF tag has an invalid HDCP-LEVEL attribute: "+t+"."),void 0===g||mo(["SDR","PQ","HLG"],g)||vz.ILt(dz,"#EXT-X-STREAM-INF tag has an invalid VIDEO-RANGE attribute: "+t+"."),void 0===o)throw new p("HLSPlaylistParser - Could not parse #EXT-X-STREAM-INF tag: "+t+".");return{gBt:v,pBt:w,Tyt:a,mG:o,wBt:_,Urt:e,Kdt:h,yBt:f,HCt:u,kyt:c,bBt:y,Ryt:r,ABt:m,SBt:g}}function $z(t,n){var i=qz(t);if(!i.URI)throw new p("HLSPlaylistParser - Could not parse #EXT-X-I-FRAME-STREAM-INF tag: "+t+".");try{return Qz(t,n,i.URI)}catch(n){throw new p("HLSPlaylistParser - Could not parse #EXT-X-I-FRAME-STREAM-INF tag: "+t+".")}}function tY(t){var n=Number(t);return S(n)?void 0:n}function nY(t,n){var i,r,e=qz(t);try{i=function(t){switch(t){case"NONE":return Mz.YH;case"AES-128":return Mz.tBt;case"SAMPLE-AES":return Mz.eBt;case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return t}throw new p("LLHLSPlaylistParser - Could not parse M3U8 key method: "+t+".")}(e.METHOD),r=e.URI?cY(e.URI,n):void 0}catch(n){throw new p("HLSPlaylistParser - Could not parse #EXT-X-KEY tag: "+t+".")}var u,s,o,a,c,h=e.KEYFORMAT,f=e.IV,v=e.KEYFORMATVERSIONS;if(i!==Mz.YH){if(o=h||Ss,"SAMPLE-AES-CENC"===i||"SAMPLE-AES-CTR"===i){if(Hz(o)!==Rs)throw new p("HLSPlaylistParser - #EXT-X-KEY tag with METHOD="+i+" is only compatible with Widevine.");u=Mz.eBt}else u=i;s=r,a=f?Ic(f):void 0,c=v?v.split("/").map((function(t){return Number(t)})):[1]}else u=Mz.YH,(r||h||v||f)&&vz.ILt(dz,"#EXT-X-KEY tag with METHOD=NONE must not have additional attributes: "+t+".");return{gE:u,Ryt:s,TBt:a,vBt:o,kBt:c}}function iY(t){var n=jz(t);if(!n)return[void 0,""];var i=tn(n.split(","),2),r=i[0],e=i[1];return[tY(r),e]}function rY(t,n){var i=t.split("@"),r=tY(i[0]),e=i.length>1?tY(i[1]):n;if(void 0===r||void 0===e)throw new p("HLSPlaylistParser - Could not parse #EXT-X-BYTERANGE tag: "+t+".");return{Cn:e,V:r}}function eY(t){if(void 0!==t)return rY(t,void 0)}function uY(t,n){return rY(jz(t),n)}function sY(t,n){var i=qz(t);try{return{Ix:cY(i.URI,n),nAt:eY(i.BYTERANGE)}}catch(n){throw new p("HLSPlaylistParser - Could not parse #EXT-X-MAP tag: "+t+".")}}function oY(t){var n=jz(t);if(!n)throw new p("HLSPlaylistParser - Could not parse #EXT-X-PROGRAM-DATE-TIME tag: "+t+".");var i=new Date(n);if(!vr(i))throw new p("HLSPlaylistParser - Could not parse #EXT-X-PROGRAM-DATE-TIME tag: "+t+".");return i}function aY(t){var n,i,r,e=qz(t),u=e["START-DATE"],s=e["END-DATE"],o=tY(e["PLANNED-DURATION"]),a=tY(e.DURATION);void 0!==e["SCTE35-CMD"]&&(n=Ic(e["SCTE35-CMD"]).buffer),e["SCTE35-IN"]&&(i=Ic(e["SCTE35-IN"]).buffer),e["SCTE35-OUT"]&&(r=Ic(e["SCTE35-OUT"]).buffer);var c,h,f="YES"===e["END-ON-NEXT"],v=function(t){for(var n={},i=0,r=b.keys(t);i<r.length;i++){var e=r[i],u=t[e];void 0!==u&&Bs(e,"X-")&&(n[e]=u)}return n}(e),d=e.ID,l=e.CLASS;if(void 0===u)vz.ILt(dz,"Could not parse #EXT-X-DATERANGE tag without START-DATE attribute: "+u+".");else if(c=new Date(u),h=void 0!==s?new Date(s):void 0,vr(c)||vz.ILt(dz,"Could not parse EXT-X-DATERANGE tag with invalid START-DATE attribute: "+c+"."),void 0!==a){var g=new Date(c.getTime()+1e3*a);h?h.getTime()!==g.getTime()&&(vz.ILt(dz,"DURATION and END-DATE attributes of #EXT-X-DATERANGE tag are not aligned, updating the END-DATE: "+t+"."),h=g):h=g}else h&&(a=(c.getTime()-h.getTime())/1e3);if(f&&(e.CLASS||vz.ILt(dz,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute without CLASS attribute: "+t+"."),e.DURATION&&vz.ILt(dz,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute with DURATION attribute: "+t+"."),h&&vz.ILt(dz,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute with END-DATE attribute: "+t+".")),void 0===d&&vz.ILt(dz,"Could not parse #EXT-X-DATERANGE tag without valid ID attribute: "+t+"."),void 0===d||void 0===c)throw new p("HLSPlaylistParser - Could not parse #EXT-X-DATERANGE tag: "+t+".");return{o:d,rBt:l,YG:c,oBt:h,ct:a,hBt:o,lBt:n,fBt:i,dBt:r,nBt:f,uBt:v}}function cY(t,n){if(void 0===t)throw new p("HLSPlaylistParser - Unable to parse URL from string: "+t+".");return Kn.Kp(t,n)}function hY(t,n){var i=qz(t),r=tY(i.DURATION),e=cY(i.URI,n),u=eY(i.BYTERANGE),s="YES"===i.INDEPENDENT,o="YES"===i.GAP;if(void 0===r)throw new p("HLSPlaylistParser - Unable to parse #EXT-X-PART without valid DURATION: "+t);return{ct:r,Ryt:{Ix:e,nAt:u},EBt:s,xBt:o}}function fY(t){var n=qz(t);return{RBt:"YES"===n["CAN-BLOCK-RELOAD"],IBt:tY(n["CAN-SKIP-UNTIL"]),CBt:"YES"===n["CAN-SKIP-DATERANGES"],PBt:tY(n["HOLD-BACK"]),DBt:tY(n["PART-HOLD-BACK"])}}function vY(t,n){var i=qz(t);if(void 0===i.URI)throw new p("HLSPlaylistParser - Could not parse #EXT-X-RENDITION-REPORT: "+t+".");var r=cY(i.URI,n),e=tY(i["LAST-MSN"]),u=tY(i["LAST-PART"]);if(void 0===e)throw new p("HLSPlaylistParser - Could not parse #EXT-X-RENDITION-REPORT: "+t+".");return{Ryt:r,NBt:e,MBt:u}}function dY(t,n){var i,r=qz(t),e=tY(r["SKIPPED-SEGMENTS"]),u=null==(i=r["RECENTLY-REMOVED-DATERANGES"])?void 0:i.split("\t");if(void 0===e)throw new p("HLSPlaylistParser - Could not parse #EXT-X-SKIP tag without valid SKIPPED-SEGMENTS attribute: "+t+".");return{LBt:e,BBt:u,OBt:n}}function lY(t){var n=tY(qz(t)["PART-TARGET"]);if(void 0===n)throw new p("HLSPlaylistParser - Could not parse #EXT-X-PART-TARGET-DURATION tag: "+t+".");return n}function gY(t){switch(jz(t)){case"VOD":return Oz.iBt;case"EVENT":return Oz.sBt;default:return vz.ILt(dz,"Found #EXT-X-PLAYLIST-TYPE tag with invalid value: "+t+"."),Oz.Qk}}function wY(t,n){var i,r,e=qz(t);try{i=function(t){if(void 0===t)throw new p("HLSPlaylistParser - Could not parse PRELOAD-HINT type: "+t+".");if("MAP"===t)return Lz.JLt;if("PART"===t)return Lz.$Lt;throw new p("HLSPlaylistParser - Could not parse PRELOAD-HINT type: "+t+".")}(e.TYPE),r=cY(e.URI,n)}catch(n){throw new p("HLSPlaylistParser - Could not parse #EXT-X-PRELOAD-HINT tag: "+t+".")}var u,s=tY(e["BYTERANGE-START"]),o=tY(e["BYTERANGE-LENGTH"]);return void 0===s&&void 0===o||(u={Cn:s||0,V:o}),{pw:i,Ryt:{Ix:r,nAt:u}}}F(),Tt(),nn(),Ut(),F(),Tt(),Gt(),qt(),F(),Tt();var mY=function(){function t(n){this.WBt=0,this.VBt=t.GBt(n)}var n=t.prototype;return n.FBt=function(){var t=this.VBt[this.WBt];return this.WBt+=1,t},n.UBt=function(){return this.VBt[this.WBt]},n.Tb=function(){var n=new t("");return n.WBt=0,n.VBt=this.VBt.slice(this.WBt),n},t.GBt=function(t){return t?t.split(/[\r\n]+/).map((function(t){return t.trim()})).filter((function(t){return t})):[]},t}();function yY(t,n,i){var r=t.Ryt,e=t.XD,u=t.HBt,s=t.Cn;switch(i){case"#EXT-X-VERSION":e=function(t){var n=Kz(t);return S(n)?(vz.ILt(dz,"Playlist version is NaN: "+t+"."),1):n}(n);break;case"#EXT-X-INDEPENDENT-SEGMENTS":u=!0;break;case"#EXT-X-START":s=function(t){var n=qz(t),i=tY(n["TIME-OFFSET"]);if(void 0===i)throw new p("HLSPlaylistParser - #EXT-X-START is missing a TIME-OFFSET: "+t+".");return{ZBt:i,XBt:"YES"===n.PRECISE}}(n);break;case"#EXT-X-DEFINE":vz.ILt(dz,"Ignoring unsupported #EXT-X-DEFINE: "+n+".");break;default:vz.RN(dz,"Ignoring unrecognized line or comment: "+n+".")}return{Ryt:r,XD:e,HBt:u,Cn:s}}function pY(t,n){return t.map((function(t){return t.gE===Mz.YH||t.TBt?t:$u({},t,{TBt:_Y(n)})}))}function _Y(t){var n=new DataView(new ArrayBuffer(16)),i=new Ec;return i.Ab(8),qa(n,i,tr.fromNumber(t)),new E(n.buffer)}function bY(t,n,i){vz.RN(dz,"Parsing M3U8 playlist at "+t+".");var r=new mY(i);if("#EXTM3U"!==r.FBt())throw new p("HLSPlaylistParser - Could not parse M3U8 playlist. Playlist does not start with #EXTM3U.");return function(t){return/^#EXT-X-(MEDIA|STREAM-INF|I-FRAME-STREAM-INF|SESSION-DATA|SESSION-KEY):/m.test(t)}(i)?function(t,n){var i;try{i=Kn.Kp(t)}catch(n){throw vz.ILt(dz,"The master playlist has no valid base URI: "+t+"."),new p("HLSPlaylistParser - Could not parse HLS master playlist: "+t)}for(var r={Ryt:i,HBt:void 0,Cn:void 0,XD:void 0},e=[],u=[],s=[],o=[];;){var a=n.FBt();if(!a)break;try{var c=zz(a);switch(c){case"#EXT-X-MEDIA":var h=Jz(a,i);e.push(h);break;case"#EXT-X-STREAM-INF":var f=Qz(a,i,n.FBt());u.push(f);break;case"#EXT-X-I-FRAME-STREAM-INF":var v=$z(a,i);s.push(v);break;case"#EXT-X-SESSION-DATA":vz.ILt(dz,"Ignoring unsupported #EXT-X-SESSION-DATA: "+a+".");break;case"#EXT-X-SESSION-KEY":var d=nY(a,i);o.push(d);break;default:r=yY(r,a,c)}}catch(t){vz.ILt(dz,"Ignoring unparsable line: "+a,t)}}var l,g=r.XD,w=null!=(l=r.HBt)&&l,m=r.Cn;return void 0===g&&(vz.ILt(dz,"The playlist has no #EXT-X-VERSION, assuming version is 2."),g=2),g>=8&&(u.some((function(t){return void 0!==t.kyt}))||s.some((function(t){return void 0!==t.kyt})))&&(u.some((function(t){return void 0===t.kyt}))||s.some((function(t){return void 0===t.kyt})))&&vz.ILt(dz,"If one master playlist variant stream has a SCORE, all variants should have it."),{Ryt:i,XD:g,HBt:w,Cn:m,zBt:s,qBt:o,gN:e,YBt:u}}(t,r):function(t,n,i){var r,e,u,s,o,a,c,h,f,v,d,l,g,w,m,y,_,b,k={Ryt:t,HBt:void 0,Cn:void 0,XD:void 0},A=[],T=!1,S=!1,E=[],I=ns(),R=[],C=[],N=!1,D=!1,P=[],x=[],L=0,M=!1,O=Oz.Qk,B=!1,V=0;try{b=Kn.Kp(t)}catch(n){throw vz.ILt(dz,"The media playlist has no valid base URI: "+t+".",n),new p("HLSPlaylistParser - Could not parse HLS media playlist.")}for(var F=i.Tb();void 0===m||void 0===y;){var U=F.FBt();if(!U)break;try{switch(Yz(U)){case"#EXT-X-MEDIA-SEQUENCE":m=Kz(U);break;case"#EXT-X-DISCONTINUITY-SEQUENCE":y=Kz(U)}}catch(t){vz.ILt(dz,"Ignoring unparsable line: "+U,t)}}void 0===m&&(vz.RN(dz,"#EXT-X-MEDIA-SEQUENCE tag is missing, assuming first segment media sequence number is 0."),m=0),void 0===y&&(vz.RN(dz,"#EXT-X-DISCONTINUITY-SEQUENCE tag is missing, assuming first segment discontinuity sequence number is 0."),y=0);for(var W=m,Z=y;;){var X=i.FBt();if(!X)break;var G=!1;try{var H=Yz(X);switch(H){case"#EXTINF":var z;G=!0,o=(z=tn(iY(X),2))[0],a=z[1];break;case"#EXT-X-BYTERANGE":G=!0,(c=uY(X,L))&&(L=c.Cn+c.V);break;case"#EXT-X-DISCONTINUITY":G=!0,N=!0,Z++;break;case"#EXT-X-KEY":var Y;G=!0;var j,K=nY(X,b);if(K.gE===Mz.YH){I.clear(),g=void 0;break}var q=null!=(j=null==(Y=K.vBt)?void 0:Y.toString())?j:"identity";I.set(q,K),K.gE===Mz.tBt&&(g=K);break;case"#EXT-X-MAP":G=!0,f=sY(X,b),v=g;break;case"#EXT-X-PROGRAM-DATE-TIME":G=!0,d=oY(X);break;case"#EXT-X-GAP":G=!0,D=!0;break;case"#EXT-X-BITRATE":G=!0,l=Kz(X);break;case"#EXT-X-TARGETDURATION":r=Kz(X);break;case"#EXT-X-DATERANGE":var J=aY(X);A.push(J);break;case"#EXT-X-PART":G=!0;var Q=hY(X,b);C.push(Q);break;case"#EXT-X-PRELOAD-HINT":var $=wY(X,b);P.push($);break;case"#EXT-X-SKIP":E.length>0&&vz.ILt(dz,"#EXT-X-SKIP must appear before any #EXTINF tags."),G=!0;var tt=dY(X,W);V=tt.LBt,_=tt.BBt,W+=tt.LBt;break;case"#EXT-X-SERVER-CONTROL":var nt=fY(X);T=nt.RBt,e=nt.IBt,S=nt.CBt,u=nt.PBt,s=nt.DBt;break;case"#EXT-X-RENDITION-REPORT":var it=vY(X,b);x.push(it);break;case"#EXT-X-PART-INF":w=lY(X);break;case"#EXT-X-MEDIA-SEQUENCE":G&&vz.ILt(dz,"#EXT-X-MEDIA-SEQUENCE must appear before any media segment tags.");break;case"#EXT-X-DISCONTINUITY-SEQUENCE":G&&vz.ILt(dz,"#EXT-X-DISCONTINUITY-SEQUENCE must appear before any media segment tags.");break;case"#EXT-X-ENDLIST":M=!0;break;case"#EXT-X-PLAYLIST-TYPE":O=gY(X);break;case"#EXT-X-I-FRAMES-ONLY":B=!0;break;default:if(Bs(H,"#"))k=yY(k,X,H);else{h=Kn.Kp(X,b);var rt=f?{Ryt:f,KBt:v}:void 0,et={qBt:pY(es(I),W),GV:R,jBt:C,ct:o,eH:a,QBt:N,Ryt:{nAt:c,Ix:h},JBt:rt,$Bt:d,xBt:D,tOt:l,OBt:W,eOt:Z};E.push(et),W++,R=[],C=[],o=void 0,a=void 0,N=!1,c=void 0,h=void 0,d=void 0,D=!1,l=void 0}}}catch(t){vz.ILt(dz,"Ignoring unparsable line: "+X,t)}}if(C.length){var ut=f?{Ryt:f,KBt:g}:void 0,st={qBt:pY(es(I),W),GV:R,jBt:C,ct:o,eH:a,QBt:N,Ryt:void 0,JBt:ut,$Bt:d,xBt:D,tOt:l,OBt:W,eOt:Z};E.push(st)}var ot,at=k.XD,ct=null!=(ot=k.HBt)&&ot,ht=k.Cn;void 0===at&&(vz.ILt(dz,"The media playlist has no #EXT-X-VERSION tag, assuming version is 2."),at=2),void 0===r&&vz.ILt(dz,"Could not parse the HLS media playlist: no #EXT-X-TARGET-DURATION tag was found.");var ft=E.length,vt=ft>0;vt||vz.ILt(dz,"The HLS media playlist contains no segments.");var dt=vt&&E[ft-1].jBt.length>0;return dt&&void 0===w&&vz.ILt(dz,"Could not parse the HLS media playlist: no #EXT-X-PART-TARGET-DURATION tag was found, but it is required when some or all segments contain parts."),dt&&void 0===s&&vz.ILt(dz,"Could not parse the HLS media playlist: The #EXT-X-SERVER-CONTROL tag has no PART-HOLDBACK attribute, but it is required when some or all segments contain parts."),{RBt:T,IBt:e,CBt:S,iOt:A,eOt:y,sOt:M,HBt:ct,PBt:u,nOt:B,OBt:m,LBt:V,DBt:s,GLt:w,rOt:O,oOt:P,BBt:_,hOt:x,aOt:r,Srt:E,Cn:ht,Ryt:b,uOt:n,XD:at}}(t,n,r)}F(),Tt(),Dt(),Ut(),F(),Tt(),Dt();var kY=function(){function t(t,n,i){var r,e,u,s;this.o=AY++,this.kyt=void 0,this.HCt=void 0,this.Tyt=void 0,this.cOt=!1,this.fOt=[],this.jMt=n,this.mG=t.mG,this.Tyt=t.Tyt,this.kyt=t.kyt,this.lOt=t.Urt?TY(t.Urt):void 0,this.DCt=this.lOt,this.HCt=t.HCt,this.Kdt=t.Kdt,this.pBt=null!=(r=t.pBt)?r:"wOt"+this.o,this.ABt=null!=(e=t.ABt)?e:"yOt"+this.o,this.bBt=null!=(u=t.bBt)?u:"bOt"+this.o,this.wBt=null!=(s=t.wBt)?s:"AOt"+this.o,this.fOt=i}var n=t.prototype;return n.mOt=function(t){for(var n=0,i=this.fOt;n<i.length;n++){var r=i[n].jMt.mOt(t);if(void 0!==r)return r}},n.gOt=function(t){for(var n=0,i=this.fOt;n<i.length;n++){var r=i[n].jMt.gOt(t);if(void 0!==r)return r}},n.pOt=function(t){lo(this.fOt,t)},Nt(t,[{key:"Ryt",get:function(){return this.jMt.Ryt}},{key:"Urt",get:function(){return this.DCt},set:function(t){this.DCt=t?TY(t):void 0,this.cOt=function(t,n){return!(void 0!==(null==t?void 0:t.$Ct)&&void 0===(null==n?void 0:n.$Ct)||void 0!==(null==t?void 0:t.ePt)&&void 0===(null==n?void 0:n.ePt))}(this.lOt,this.DCt)}},{key:"dOt",get:function(){return this.cOt}},{key:"FLt",get:function(){return this.fOt}},{key:"DLt",get:function(){return this.fOt.filter((function(t){return t.pw===xz.cE}))}},{key:"NLt",get:function(){return this.fOt.filter((function(t){return t.pw===xz.lE}))}},{key:"_Ot",get:function(){return this.fOt.filter((function(t){return t.pw===xz.qV}))}},{key:"vOt",get:function(){return this.fOt.filter((function(t){return t.pw===xz.QLt}))}}]),t}(),AY=0;function TY(t){return $u({},t,{ePt:t.ePt?Ov(t.ePt):void 0})}F(),Tt(),Dt(),nn(),F(),Tt(),Dt(),F(),Tt(),Dt();var SY=function(){function t(t,n,i,r,e,u){this.hit=void 0,this.ROt=t,this.COt=n,this.XO=i,this.kOt=r,this.xOt=e,this.ct=u.ct,this.Ryt=u.Ryt,this.EBt=u.EBt,this.xBt=u.xBt}return t.prototype.IOt=function(t,n,i){this.XO=t,this.kOt=n,this.xOt=i},Nt(t,[{key:"LO",get:function(){var t;return this.XO+(null!=(t=this.SOt)?t:0)}},{key:"TOt",get:function(){return this.kOt}},{key:"EOt",get:function(){return this.xOt}},{key:"qBt",get:function(){return this.ROt.qBt}}]),t}(),EY=function(){function t(t,n,i,r,e){this.hit=void 0,this.mv=[],this.LOt=0,this.XO=t,this.JBt=e.JBt,this.kOt=i,this.xOt=r,this.IA=e.ct,this.$Bt=e.$Bt,this.NOt=e.Ryt,this.xBt=e.xBt,this.OBt=e.OBt,this.QBt=e.QBt,this.eOt=n,this.qBt=e.qBt,this.WOt(e.jBt)}var n=t.prototype;return n.BOt=function(t){return this.mv[t]},n.OOt=function(t){for(var n=0;n<this.mv.length;n++){var i=this.mv[n],r=i.LO,e=r+i.ct;if(r<=t&&t<=e)return t===e&&n+1<this.mv.length?this.mv[n+1]:i}},n.FOt=function(t){for(var n=this.mv.length-1;n>=0;n--){var i=this.mv[n];if(i.LO<=t)return i}},n.VOt=function(t){for(var n=this.FOt(t);n&&!n.EBt&&n.COt>0;)n=this.BOt(n.COt-1);return n},n.IOt=function(t,n,i){var r=t.jBt.length!==this.mv.length||i!==this.xOt;this.kOt=n,this.xOt=i,this.IA=t.ct,null!=this.$Bt||(this.$Bt=t.$Bt),void 0===this.NOt&&(this.NOt=t.Ryt),r&&this.WOt(t.jBt)},n.WOt=function(t){this.mv.length>t.length&&(this.mv.length=t.length);for(var n=0,i=0;i<t.length;i++){var r=t[i],e=this.kOt&&0===i,u=this.xOt&&i===t.length-1,s=this.XO+n;if(i<this.mv.length)this.mv[i].IOt(s,e,u);else{var o=new SY(this,i,s,e,u,r);o.SOt=this.POt,this.mv.push(o)}n+=r.ct}this.LOt=n},n.UOt=function(){po(this.mv),this.LOt=0},Nt(t,[{key:"LO",get:function(){var t;return this.XO+(null!=(t=this.POt)?t:0)}},{key:"DOt",get:function(){return this.XO}},{key:"ct",get:function(){return this.IA}},{key:"Ryt",get:function(){return this.NOt}},{key:"TOt",get:function(){return this.kOt}},{key:"EOt",get:function(){return this.xOt}},{key:"jBt",get:function(){return this.mv}},{key:"MOt",get:function(){return this.LOt}},{key:"BO",get:function(){var t;return this.LO+(null!=(t=this.IA)?t:this.LOt)}},{key:"SOt",get:function(){return this.POt},set:function(t){this.POt=t;for(var n=0,i=this.mv;n<i.length;n++){i[n].SOt=t}}}]),t}();F(),Tt();var IY=function(t){return t.GOt="YES",t.HOt="v2",t}({});F(),Tt(),Rt();var RY=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n}(xo);F(),Tt(),Rt(),F(),Tt(),Dt(),Rt(),F(),Tt();var CY=function(t){function n(n,i){var r,e=NY(i,n.ct,n.YG,n.oBt);return(r=t.call(this,i,e,void 0,!1,n.o)||this).ZOt=n.rBt,r.XOt=n.YG,r.zOt=n.oBt,r.IA=n.ct,r.qOt=n.hBt,r.YOt=Boolean(n.nBt),r.JOt=n.aBt||{},r.KOt=n.cBt,r.jOt=n.dBt,r.QOt=n.fBt,r.$Ot(),r.tFt(),r}It(n,t);var i=n.prototype;return i.Yn=function(t){var n,i=!1;(void 0===this.ZOt&&void 0!==t.rBt&&(i=!0,this.ZOt=t.rBt),void 0===this.zOt&&void 0!==t.oBt&&(i=!0,this.zOt=t.oBt),void 0===this.IA&&void 0!==t.ct&&(i=!0,this.IA=t.ct),void 0===this.qOt&&void 0!==t.hBt&&(i=!0,this.qOt=t.hBt),!this.YOt&&t.nBt&&(i=!0,this.YOt=t.nBt),i=this.updateCustomAttributes(t,i),void 0===this.KOt&&void 0!==t.cBt&&(i=!0,this.KOt=t.cBt),void 0===this.jOt&&void 0!==t.dBt&&(i=!0,this.jOt=t.dBt),void 0===this.QOt&&void 0!==t.fBt&&(i=!0,this.QOt=t.fBt),this.$Ot(),this.tFt(),this.eFt(),i)&&(this.yo(new Mw(this)),null==(n=this.zO)||n.yo(new Bw(this)))},i.updateCustomAttributes=function(t,n){var i=n;if(t.aBt)for(var r=0,e=b.keys(t.aBt);r<e.length;r++){var u=e[r];void 0===this.JOt[u]&&(i=!0,this.JOt[u]=t.aBt[u])}return i},i.$Ot=function(){this.IA&&!this.zOt&&(this.zOt=new Date(this.XOt.getTime()+gr(this.IA)))},i.tFt=function(){this.zOt&&!this.IA&&(this.IA=lr(this.zOt.getTime()-this.XOt.getTime()))},i.eFt=function(){this.YO===1/0&&(this.zOt||this.IA)&&(this.YO=NY(this.XO,this.IA,this.XOt,this.zOt))},Nt(n,[{key:"ga",get:function(){return this.Za||(this.Za=function(t){return Eg(Pw(t),{get content(){return t.U},get class(){return t.rBt},get startDate(){return t.YG},get endDate(){return t.oBt},get duration(){return t.ct},get plannedDuration(){return t.hBt},get endOnNext(){return t.nBt},get scte35Cmd(){return t.cBt},get scte35Out(){return t.dBt},get scte35In(){return t.fBt},get customAttributes(){return t.aBt}})}(this)),this.Za}},{key:"rBt",get:function(){return this.ZOt}},{key:"YG",get:function(){return this.XOt}},{key:"oBt",get:function(){return this.zOt}},{key:"ct",get:function(){return this.IA}},{key:"hBt",get:function(){return this.qOt}},{key:"nBt",get:function(){return this.YOt}},{key:"cBt",get:function(){return this.KOt}},{key:"dBt",get:function(){return this.jOt}},{key:"fBt",get:function(){return this.QOt}},{key:"aBt",get:function(){return this.JOt}}]),n}(Ww);function NY(t,n,i,r){return Yn(n)?t+n:r?t+(lr(r.getTime())-lr(i.getTime())):1/0}var DY=function(t){function n(){return t.call(this,void 0,void 0,kw.DATE_RANGE)||this}It(n,t);var i=n.prototype;return i.Yn=function(t,n){PY(this,xY(t),n)},i.uW=function(n){LY(this.L.oC,n),t.prototype.uW.call(this,n)},n}(FD);function PY(t,n,i){for(var r=function(i){var r=e[i],u=ao(n,(function(t){return t.o===r.o}));u?r.Yn(u):t.JV(r)},e=t.L.oC,u=e.length-1;u>=0;u--)r(u);for(var s=0;s<n.length;s++){var o=n[s],a=o.YG;if(void 0!==a&&!t.Z4(o.o)){var c=i(a),h=new CY(o,c);LY(t.L.oC,h),t.uW(h)}}}function xY(t){for(var n=ns(),i=[],r=0;r<t.length;r++){var e=t[r];if(n.has(e.o)){var u=n.get(e.o),s=$u({},u,Ng(e),{aBt:$u({},u.aBt,e.aBt)});n.set(e.o,s)}else n.set(e.o,e),i.push(e.o)}return i.map((function(t){return n.get(t)}))}function LY(t,n){var i=ho(t,(function(t){return t.rBt===n.rBt}));i&&i.nBt&&i.Yn({o:i.o,oBt:n.YG})}var MY=String.fromCharCode(95),OY=MY+"HLS_msn",BY=MY+"HLS_part",VY=MY+"HLS_skip",FY="HLSMediaPlaylist",UY=function(){function t(t,n,i){this.mFt=void 0,this.pFt=void 0,this.RFt=void 0,this.IFt=void 0,this.nFt=void 0,this.rFt=void 0,this.oFt=void 0,this.hFt=void 0,this.Lbt=[],this.wFt=[],this.aFt=!1,this.uFt=void 0,this.cFt=!1,this.lFt=Oz.Qk,this.n4=AA.fB(),this.sFt=AA.fB(),this.IA=void 0,this.bFt=-1/0,this.SFt=void 0,this.Ryt=t,this.XV=n,this.BFt=i}var n=t.prototype;return n.kLt=function(t){if(!t)return this.Ryt;var n=Kn.Ah(this.Ryt);return void 0!==t.OBt&&n.searchParams.append(OY,String(t.OBt)),void 0!==t.TFt&&n.searchParams.append(BY,String(t.TFt)),void 0!==t.RD&&n.searchParams.append(VY,t.RD),n.href},n.Qat=function(t){var n=this.Lbt;if(0!==n.length){var i=t-n[0].OBt;if(!(i<0||i>=n.length))return n[i]}},n.kFt=function(t){if(0!==this.Lbt.length){var n=dU(WY.Lg,this.Lbt,t);if(!(n<0)){var i=this.Lbt[n];return t===i.BO&&n+1<this.Lbt.length?this.Lbt[n+1]:i}var r=this.Lbt[this.Lbt.length-1];return t===r.BO?r:void 0}},n.EFt=function(t){if(0!==this.Lbt.length){var n=this.Lbt[0];if(t<n.BO)return n;var i=this.Lbt[this.Lbt.length-1];return t>=i.LO?i:this.kFt(t)}},n.mOt=function(t){var n=this.EFt(t);if(void 0!==n)for(var i=n.OBt-this.Lbt[0].OBt;i>=0;i--){var r=this.Lbt[i];if(void 0!==r.$Bt)return new Date(r.$Bt.getTime()+1e3*(t-r.LO))}},n.gOt=function(t){for(var n,i=0,r=this.Lbt;i<r.length;i++){var e=r[i];if(ZY(e))if(void 0===n)n=e;else{if(!(e.$Bt.getTime()<=t.getTime()))break;n=e}}if(void 0!==n)return n.LO+(t.getTime()-n.$Bt.getTime())/1e3},n.xFt=function(t){switch(t){case Lz.JLt:return this.RFt;case Lz.$Lt:return this.IFt;default:return}},n.IOt=function(t){var n;void 0===this.nFt&&(this.nFt=null!=(n=t.aOt)?n:this.CFt(t));void 0===this.oFt&&void 0!==t.PBt&&(this.oFt=t.PBt),void 0===this.rFt&&void 0!==t.GLt&&(this.rFt=t.GLt),void 0===this.hFt&&void 0!==t.DBt&&(this.hFt=t.DBt),this.aFt=t.RBt,this.uFt=t.IBt,this.cFt=t.CBt,this.lFt=t.rOt,this.Vbt(t),this.PFt(t);var i=ao(t.oOt,(function(t){return t.pw===Lz.JLt})),r=ao(t.oOt,(function(t){return t.pw===Lz.$Lt}));this.RFt=i?{Ryt:i.Ryt,pw:i.pw,eOt:t.eOt}:void 0,this.IFt=r?{Ryt:r.Ryt,pw:r.pw,eOt:t.eOt}:void 0,this.mFt=Kn.Bg()/1e3;var e=this.n4.jn(this.n4.V-1);this.DFt();var u=this.n4.jn(this.n4.V-1);(!this.pFt||u-e>0)&&(this.pFt=this.mFt),null!=this.XV||(this.XV=t.Cn)},n.DFt=function(){this.sFt=this.NFt(),this.n4=this.MFt(this.sFt),this.IA=this.LFt()},n.NFt=function(){var t=this.Srt;if(0===t.length)return AA.fB();var n=t[0].LO,i=t[t.length-1].BO;return new AA([n,i])},n.MFt=function(t){if(0===t.V||this.sOt)return t;var n=t.Cn(0),i=t.jn(0)-this.DSt;return i<n?AA.lB(n):new AA([n,i])},n.LFt=function(){return 0===this.Lbt.length?0:this.sOt?fr(this.Lbt,(function(t){var n;return null!=(n=t.ct)?n:t.MOt})):1/0},n.CFt=function(t){for(var n,i=0,r=t.Srt;i<r.length;i++){var e=r[i];if(void 0!==e.ct){var u=k.max(1,k.round(e.ct));(void 0===n||n<u)&&(n=u)}}if(void 0===n)throw new p("HLSModel - Could not determine required segment target duration.");return n},n.Vbt=function(t){if(0===t.Srt.length)return po(this.Lbt),void this.OFt();var n=this.FFt(t);if(n){var i,r,e;n.VFt>0&&this.Lbt.splice(0,n.VFt);var u=t.LBt;if(u>0){if(u>this.Lbt.length)throw new RY("New playlist skips over missing segments.");var s=this.Lbt[u-1];if(void 0===s.ct)throw new RY("New playlist skips over an incomplete segment.");i=s.DOt+s.ct,e=s.eOt-t.eOt,r=u;for(var o=0;o<u;o++)this.Lbt[o].UOt()}else i=n.WFt,e=0,r=0;for(var a=0;a<t.Srt.length;a++,r++){var c=t.Srt[a],h=0===a,f=t.sOt&&a===t.Srt.length-1,v=c.ct,d=c.eOt+e;if(r<this.Lbt.length){var l=this.Lbt[r];0,l.IOt(c,h,f)}else{var g=c;if(this.Lbt.length>0&&void 0===g.JBt)g=$u({},g,{JBt:this.Lbt[this.Lbt.length-1].JBt});var w=new EY(i,d,h,f,g);w.SOt=this.POt,this.Lbt.push(w)}void 0!==v&&(i+=v)}}},n.FFt=function(t){if(0===this.Lbt.length)return{VFt:0,WFt:0};var n=this.Lbt[0].OBt,i=this.Lbt[this.Lbt.length-1].OBt,r=t.Srt[0].OBt-t.LBt,e=t.Srt[t.Srt.length-1].OBt,u=0,s=0;if(r<n){var o=this.Srt[0].$Bt,a=t.Srt[0].$Bt;if(!(o&&a&&o<a))return void vz.ILt(FY,"Ignoring older playlist (first media sequence number is "+r+", but previous playlist already started at "+n+")");u=this.Lbt.length,this.OFt()}else{if(e<i)return void vz.ILt(FY,"Ignoring older playlist (last media sequence number is "+e+", but previous playlist already ended at "+i+")");if(i<r){var c;s=null!=(c=function(t,n){var i=ho(t,(function(t){return void 0!==t.$Bt}));if(void 0===i)return;var r=function(t){for(var n=0,i=0;i<t.length;i++){var r,e=t[i];if(e.QBt)return;if(e.$Bt)return[e,n];n+=null!=(r=e.ct)?r:0}return}(n.Srt);if(void 0===r)return;var e=tn(r,2),u=e[0],s=e[1];if(i.eOt!==u.eOt)return;var o=(u.$Bt.getTime()-i.$Bt.getTime())/1e3;return i.DOt+o-s}(this.Lbt,t))?c:function(t,n,i){var r,e=t[t.length-1],u=null!=(r=e.ct)?r:k.max(i,e.MOt),s=i*(n-e.OBt-1);return e.DOt+u+s}(this.Lbt,r,this.nFt),vz.RLt(FY,"New playlist (starting at "+r+") is entirely after previous playlist (ending at "+i+"), resetting playlist and restarting at "+s+"s"),u=this.Lbt.length,this.OFt()}else{0;var h=fo(this.Lbt,(function(t){return t.OBt===r}));0,s=this.Lbt[h].DOt,h>0&&(u=h)}}return{VFt:u,WFt:s}},n.PFt=function(t){var n=t.iOt.map(Uz);if(t.CBt&&t.uOt.RD===IY.HOt&&(n=this.wFt.concat(n)),this.wFt=xY(n),t.BBt)for(var i,r=function(t,n){var r=n[t],e=fo(i.wFt,(function(t){return t.o===r}));e>=0&&go(i.wFt,e)},e=0,u=t.BBt;e<u.length;e++)i=this,r(e,u)},n.UFt=function(t,n){if(this.POt!==t){this.POt=t;for(var i=0,r=this.Lbt;i<r.length;i++){r[i].SOt=this.POt}this.DFt()}this.SFt=n},n.OFt=function(){this.POt=void 0,this.SFt=void 0},Nt(t,[{key:"sOt",get:function(){return 0!==this.Lbt.length&&this.Lbt[this.Lbt.length-1].EOt}},{key:"ct",get:function(){return this.IA}},{key:"iI",get:function(){return this.n4}},{key:"iFt",get:function(){return this.sFt}},{key:"HLt",get:function(){return this.nFt}},{key:"GLt",get:function(){return this.rFt}},{key:"PBt",get:function(){return this.sOt?0:this.oFt?this.oFt:this.nFt?3*this.nFt:void 0}},{key:"DBt",get:function(){var t;return null!=(t=this.hFt)?t:this.rFt?3*this.rFt:void 0}},{key:"RBt",get:function(){return this.aFt}},{key:"IBt",get:function(){return this.uFt}},{key:"CBt",get:function(){return this.cFt}},{key:"rOt",get:function(){return this.lFt}},{key:"dFt",get:function(){return void 0!==this.GLt}},{key:"fFt",get:function(){if(this.sOt)return!0;var t=Kn.Bg()/1e3,n=this._Ft,i=this.vFt;return void 0!==n&&t-n<i}},{key:"_Ft",get:function(){return this.mFt}},{key:"gFt",get:function(){if(this.pFt)return Kn.Bg()/1e3-this.pFt}},{key:"SOt",get:function(){return this.POt}},{key:"vFt",get:function(){var t;return null!=(t=this.nFt)?t:void 0===this.mFt?5:1}},{key:"Srt",get:function(){return this.Lbt}},{key:"iOt",get:function(){return this.wFt}},{key:"yFt",get:function(){return this.bFt},set:function(t){this.bFt=t}},{key:"Cn",get:function(){return this.XV}},{key:"AFt",get:function(){return this.SFt}},{key:"DSt",get:function(){return this.sOt?0:null!=(i=null!=(n=null!=(t=this.BFt)?t:this.DBt)?n:this.PBt)?i:0;var t,n,i}}]),t}(),WY=function(){function t(){}var n=t.prototype;return n.Pbt=function(t){return t.LO},n.Dbt=function(t){return t.BO},n.Nbt=function(t,n){return eo(t,n)},n.Mbt=function(t,n,i){return(t-n)/(i-n)},Nt(t,null,[{key:"Lg",get:function(){return null!=this.Wrt||(this.Wrt=new t),this.Wrt}}]),t}();function ZY(t){return void 0!==t.$Bt}function XY(t){return void 0!==t.jBt}function GY(t){return XY(t)?t.TOt:0===t.COt&&t.ROt.TOt}function HY(t,n){return XY(t)?XY(n)?t.OBt+1===n.OBt:0===n.COt&&HY(t,n.ROt):t.COt===t.ROt.jBt.length-1?HY(t.ROt,n):!XY(n)&&t.ROt===n.ROt&&t.COt+1===n.COt}F(),Tt(),F(),Tt(),F(),Tt(),Dt(),Rt();var zY=function(t){function n(){return t.call(this,"Tried to wait for multiple discontinuity mappings at the same time")||this}return It(n,t),Nt(n,[{key:"name",get:function(){return"DiscontinuityMisalignmentError"}}]),n}(xo);var YY=function(){function t(){this.aVt=[],this.HFt=is(),this.zFt=[],this.eVt=-1}var n=t.prototype;return n.GFt=function(t){var n=this.HFt.get(t);return void 0!==n&&jY(n)},n.ZFt=function(t){if(this.XFt()>t)return et.reject(new zY);for(var n=[],i=0,r=this.zFt;i<r.length;i++){var e,u=r[i];if(u<t)null==(e=this.HFt.get(u))||e.qFt.Lb(new zY),this.HFt.delete(u);else n.push(u)}return this.zFt=n,-1===this.zFt.indexOf(t)&&this.zFt.push(t),this.YFt(t).qFt.Bb},n.KFt=function(t){var n=this.HFt.get(t);if(!n||!jY(n))throw new p("LLHLSPlayer - Missing timestamp mapping for discontinuity #"+t);return n},n.jFt=function(t){return this.KFt(t).PV},n.QFt=function(t,n){var i=XY(n)?n:n.ROt,r=this.KFt(i.eOt),e=t.yO(r.PV);if(r.JFt){var u=am.cV(n.LO).yF(e);if(u.gF().cF(lm())){var s=k.round(u.uF()/dm().uF());e=e.yO(dm().YF(s))}}return e},n.$Ft=function(t,n){return this.QFt(t,n).yF(t)},n.tVt=function(t,n,i,r,e,u){this.eVt<t&&(this.eVt=t);var s=this.YFt(t);void 0===s.PV&&(s.iVt.some((function(t){return t.pat===n}))||(s.iVt.push({pat:n,sVt:i,nVt:r.oV(i.lN),rVt:e,JFt:u}),this.oVt(s,t)))},n.oVt=function(t,n){if(!t.PV&&this.hVt(t)){var i=function(t){return So(t,KY)}(t.iVt);t.PV=i.nVt.yF(i.sVt),t.JFt=t.iVt.some((function(t){return t.JFt})),t.qFt.Mb(),po(t.iVt),lo(this.zFt,n)}},n.hVt=function(t){return this.aVt.length>0&&this.aVt.every((function(n){return t.iVt.some((function(t){return t.pat===n}))}))},n.YFt=function(t){if(this.HFt.has(t))return this.HFt.get(t);var n={PV:void 0,JFt:!1,qFt:new Zc,iVt:[]};return this.HFt.set(t,n),n},n.uVt=function(t){var n=this;this.aVt=t,this.HFt.forEach((function(t,i){return n.oVt(t,i)}))},n.cVt=function(){this.eVt=-1},n.XFt=function(){return this.eVt},n.Ww=function(){this.HFt.forEach((function(t){return t.qFt.Xw()})),this.HFt.clear()},t}();function jY(t){return void 0!==t.PV}function KY(t,n){return-function(t,n){if(t.JFt||n.JFt)return function(t,n){var i=t.yF(n);return t.AF()||n.AF()||(i.dF(lm())?i=i.yF(dm()):i.mF(lm().wF())&&(i=i.yO(dm()))),i}(t.sVt,n.sVt).lF(am.xF);return t.sVt.lF(n.sVt)}(t,n)||function(t,n){return t.rVt===n.rVt?io.Zr:t.rVt?io.Pw:io.Dw}(t,n)||function(t,n){return t.nVt.lF(n.nVt)}(t,n)}var qY=function(){function t(t,n){this.fVt=[],this.dVt=[],this.bVt=ns(),this._Vt=new YY,this.kVt=t,this.BFt=n}var n=t.prototype;return n.IOt=function(t,n){if(Pz(t))if(0===this.fVt.length)this.vVt(t);else{if(!n)return void vz.ILt("HLSModel","No rendition was provided to update the playlist. Ignoring the update.");n.jMt.IOt(t)}else{if(0!==this.fVt.length)return void vz.ILt("HLSModel","Master playlist can only be applied once. Ignoring the update.");this.mVt(t)}},n.vVt=function(t){var n=this.gVt(t.Ryt);n.IOt(t);var i=this.pVt(xz.cE,n),r=this.pVt(xz.lE,n),e=new kY({Ryt:n.Ryt,mG:0,Tyt:0,kyt:NaN,Urt:void 0,HCt:void 0,Kdt:0,gBt:[],yBt:void 0,SBt:void 0,pBt:void 0,ABt:void 0,bBt:void 0,wBt:void 0},n,[i,r]);this.fVt.push(e)},n.mVt=function(t){var n,i,r=function(i,r){var u=r[i],s=e.filter((function(t){return function(t,n){return JY(t.pw,t.tLt,n)&&(!t.iLt||t.jMt.Ryt===n.Ryt)}(t,u)}));n.yVt(u,s);var o=new kY(u,n.gVt(u.Ryt,t.Cn),s);n.fVt.push(o)};(i=this.dVt).push.apply(i,Ft(t.qBt));for(var e=this.wVt(t),u=0,s=t.YBt;u<s.length;u++)n=this,r(u,s)},n.gVt=function(t,n){var i=this.bVt.get(t);return void 0===i&&(i=new UY(t,n,this.BFt),this.bVt.set(t,i)),i},n.wVt=function(t){for(var n=[],i=0,r=t.gN;i<r.length;i++){var e=r[i];if(void 0===e.Ryt)for(var u=0,s=t.YBt;u<s.length;u++){var o=s[u];if(JY(e.pw,e.tLt,o)){var a=new QH(e,this.gVt(o.Ryt));n.push(a)}}else{var c=new QH(e,this.gVt(e.Ryt));n.push(c)}}return n},n.pVt=function(t,n){return new QH({pw:t,Ryt:void 0,tLt:"",gs:void 0,mBt:void 0,l:"",QMt:!0,JMt:!1,$Mt:!1,sLt:void 0,eLt:void 0,WCt:void 0},n)},n.yVt=function(t,n){var i=n.filter((function(t){return t.pw===xz.cE})),r=n.filter((function(t){return t.pw===xz.lE})),e=t.Urt&&(t.Urt.ePt||t.Urt.$Ct);if((!e||t.Urt.ePt)&&0===r.length){var u=this.pVt(xz.lE,this.gVt(t.Ryt));n.push(u)}if((!e||t.Urt.$Ct)&&0===i.length){var s=this.pVt(xz.cE,this.gVt(t.Ryt));n.push(s)}t.Urt&&t.Urt._Bt},n.AVt=function(t){for(var n=0,i=this.fVt;n<i.length;n++)for(var r=0,e=i[n].FLt;r<e.length;r++){var u=e[r];if(u===t)return u}},n.SVt=function(t){for(var n=0,i=this.fVt;n<i.length;n++){var r=i[n];if(r===t)return r}},n.TVt=function(t){for(var n=0,i=this.fVt;n<i.length;n++){var r=i[n];if(mo(r.FLt,t))return r}},n.Ww=function(){po(this.fVt),po(this.dVt),this.bVt.clear(),this._Vt.Ww()},Nt(t,[{key:"lVt",get:function(){return this.dVt}},{key:"PLt",get:function(){return this.fVt}},{key:"CL",get:function(){return this._Vt}}]),t}();function JY(t,n,i){switch(t){case xz.cE:return i.pBt===n;case xz.lE:return i.ABt===n;case xz.qV:return i.bBt===n;case xz.QLt:return i.wBt===n}return!1}F(),Tt(),Rt();var QY=function(t){function n(n){var i;return(i=t.call(this,nj.EVt)||this).oLt=n,i}return It(n,t),n}(ea);F(),Tt(),Rt();var $Y=function(t){function n(n){var i;return(i=t.call(this,nj.xVt)||this).oLt=n,i}return It(n,t),n}(ea),tj="HlsModelUpdater",nj=function(t){return t.EVt="RVt",t.xVt="IVt",t}({}),ij=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).aW=n,s.Lut=i,s.oTt=r,s.PVt=!1,s.NVt=!1,s.qVt=void 0,s.LVt=void 0,s.zVt=is(),s.Nyt=new qY(e,u),s}It(n,t);var i=n.prototype;return i.BVt=function(t){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:if(!(i=n.Nyt.kVt))throw new p("HLSModelUpdater - Could not load HLS playlist: The provided source is empty.");return n.yo(new VR),[4,n.OVt(i,{},2,!0,t)];case 1:if(r=u.sent(),!Dz(e=r.jMt)&&!Pz(e))throw new p("HLSModelUpdater - Could not load HLS playlist: The playlist is invalid.");return Dz(e)||vz.RN(tj,"Detected media playlist only HLS stream."),n.FVt(e),r.VVt?(n.NVt=!0,[4,n.WVt(t)]):[3,3];case 2:u.sent(),u.label=3;case 3:return n.PVt=!0,[2]}}))}))()},i.UVt=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:if(!(u=e.Nyt.AVt(t)))throw new p("HLSModelUpdater - Could not load HLS playlist for rendition: the rendition does not exist on the internal model.");s={OBt:n,TFt:i,RD:sj(u)},o=gr(k.max(1,3*t.jMt.vFt)),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,e.GVt(u,s,r,o)];case 2:return c.sent(),[3,4];case 3:throw Bo(a=c.sent()),e.HVt(u),a;case 4:return[2]}}))}))()},i.ZVt=function(t,n){var i=this.Nyt.AVt(t);if(!i)throw new p("HLSModelUpdater - Could not load HLS playlist for rendition: the rendition does not exist on the internal model.");var r={OBt:void 0,TFt:void 0,RD:sj(i)},e=gr(k.max(1,3*t.jMt.vFt));return this.GVt(i,r,n,e)},i.XVt=function(t,n){return this.zVt.has(t.TC)||this.zVt.set(t.TC,new Zc),Fo(this.zVt.get(t.TC).Bb,n)},i.HVt=function(t){this.yo(new $Y(t))},i.GVt=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:u=t.jMt.kLt(n),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,e.OVt(u,n,0,e.NVt,i,r)];case 2:return o=h.sent(),s=o.jMt,[3,4];case 3:throw Bo(a=h.sent()),t.jMt.yFt=Kn.Bg(),a;case 4:if(!Pz(s))throw new p("HLSModelUpdater - Could not load HLS playlist for rendition: the playlist is not a media playlist.");if(!e.qVt||t===e.qVt||e.qVt.jMt.fFt)return[3,8];h.label=5;case 5:return h.trys.push([5,7,,8]),[4,e.ZVt(e.qVt,i)];case 6:return h.sent(),[3,8];case 7:return Bo(h.sent()),e.qVt=t,e.YVt(),[3,8];case 8:try{e.FVt(s,t)}catch(u){if(u instanceof RY&&void 0!==n.RD)return c=$u({},n,{RD:void 0}),[2,e.GVt(t,c,i,r)];throw u}return e.KVt(t),e.qVt=t,[2]}}))}))()},i.OVt=function(t,n,i,r,e,u){var s=this;return Zt((function(){var o;return Ht(this,(function(a){switch(a.label){case 0:return vz.RN(tj,"Loading HLS playlist at "+t+"."),r?[4,s.jVt(t,e)]:[3,2];case 1:if(void 0!==(o=a.sent()))return[2,{jMt:o,VVt:!0}];a.label=2;case 2:return[4,s.QVt(t,n,i,e,u)];case 3:return[2,{jMt:a.sent(),VVt:!1}]}}))}))()},i.jVt=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,i.Lut.trt([t])];case 1:return r=e.sent(),Oo(n),void 0!==r?[2,bY(r.responseURL,{},r.data)]:[3,3];case 2:return Bo(e.sent()),[3,3];case 3:return[2]}}))}))()},i.QVt=function(t,n,i,r,e){var u=this;return Zt((function(){var s,o;return Ht(this,(function(a){switch(a.label){case 0:return s={qu:t,Xk:Sd.wk,AE:u.oTt,gE:ul.GET,pw:sl.Jk,Bw:r,pE:e},[4,gT((function(){return u.JVt(s)}),r,i)];case 1:return[2,bY((o=a.sent()).jk,n,o.Zk)]}}))}))()},i.JVt=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,n.aW.zk(t)];case 1:return[4,(i=r.sent()).Tk()];case 2:return[2,{Zk:r.sent(),jk:i.jk}]}}))}))()},i.WVt=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:for(Oo(t),i=[],r=0,e=n.Nyt.PLt;r<e.length;r++)for(u=e[r],s=0,o=u.FLt;s<o.length;s++)a=o[s],i.push(n.$Vt(a,t));return[4,et.all(i)];case 1:return c.sent(),[2]}}))}))()},i.$Vt=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return e.trys.push([0,4,,5]),[4,i.Lut.trt([t.jMt.Ryt])];case 1:return r=e.sent(),Oo(n),void 0===r||t.jMt.fFt?[3,3]:[4,i.ZVt(t,n)];case 2:e.sent(),e.label=3;case 3:return[3,5];case 4:return Bo(e.sent()),[3,5];case 5:return[2]}}))}))()},i.YVt=function(){for(var t=0,n=this.Nyt.PLt;t<n.length;t++)for(var i=0,r=n[t].FLt;i<r.length;i++){var e=r[i];e!==this.qVt&&(void 0!==e.jMt.SOt&&(e.jMt.fFt?this.KVt(e):e.jMt.OFt()))}},i.KVt=function(t){if(0!==t.jMt.Srt.length){if(!this.qVt)return this.qVt=t,void this.qVt.jMt.UFt(0,void 0);if(this.tWt(this.qVt),!this.tWt(t)&&void 0===t.jMt.SOt){var n=this.eWt(t,this.qVt);vz.RLt(tj,"Assuming global timeline offset of "+n+"s for rendition "+t.jMt.Ryt+"."),t.jMt.UFt(n,void 0)}}},i.eWt=function(t,n){if(rj(t)){var i=t.jMt.Srt[0],r=n.jMt.Srt[0];return vz.RLt(tj,"Synchronizing by start of VOD: "+r.LO+" vs "+i.LO),r.LO-i.DOt}var e=function(t,n){var i=t.length-1,r=n.length-1;for(;i>=0&&r>=0;){var e=t[i],u=n[r];if(e.eOt>u.eOt)i--;else if(e.eOt<u.eOt)r--;else if(e.QBt){if(u.QBt)return{segment:e,referenceSegment:u};r--}else i--}return}(t.jMt.Srt,n.jMt.Srt);if(void 0!==e){var u=e.segment,s=e.referenceSegment;return vz.RLt(tj,"Synchronizing by start of discontinuity #"+s.eOt+": "+s.LO+" vs "+u.LO),s.LO-u.DOt}var o=uj(t.jMt.Srt);if(void 0!==o){var a=uj(n.jMt.Srt);if(void 0!==a)return vz.RLt(tj,"Synchronizing by PDT:",a.$Bt.toISOString()+" vs "+o.$Bt.getTime()),a.LO-o.DOt-(a.$Bt.getTime()-o.$Bt.getTime())/1e3}var c,h=ej(n),f=ej(t),v=null!=(c=t.jMt.SOt)?c:0;return vz.RLt(tj,"Synchronizing by last segment:",h+" vs "+f),h-f+v},i.tWt=function(t){var n=this.Nyt.AVt(t);if(!n)return!1;if(rj(n))return!1;var i=function(t,n){return ho(t,(function(t){return void 0!==t.hit&&n.GFt(t.eOt)}))}(n.jMt.Srt,this.Nyt.CL);if(void 0===i)return!1;if(n.jMt.AFt===i.eOt)return!0;var r=this.Nyt.CL.QFt(i.hit,i).uF()-i.DOt;return vz.RLt(tj,"Synchronize by media timestamp: "+r+"s for rendition "+t.jMt.Ryt+"."),n.jMt.UFt(r,i.eOt),(void 0===this.qVt||void 0===this.qVt.jMt.AFt||this.qVt.jMt.AFt<i.eOt)&&(this.qVt=n),!0},i.FVt=function(t,n){var i;(this.Nyt.IOt(t,n),Pz(t)&&n)&&(this.LVt=n,this.yo(new QY(n)),null==(i=this.zVt.get(n.TC))||i.Mb(),this.zVt.delete(n.TC));this.yo(new $U)},i.iWt=function(t,n){for(var i=0,r=this.Nyt.PLt;i<r.length;i++){var e=r[i],u=ao(e.NLt,(function(t){return t.jMt===n}));void 0!==u&&void 0!==t.ePt&&(u.Urt=Wz(u.Urt,t));var s=ao(e.DLt,(function(t){return t.jMt===n}));void 0!==s&&void 0!==t.$Ct&&(s.Urt=Wz(s.Urt,t)),e.dOt||void 0===u&&void 0===s||(e.Urt=Wz(e.Urt,t))}},i.sWt=function(t,n){for(var i=0,r=this.Nyt.PLt;i<r.length;i++){var e=r[i],u=ao(e.NLt,(function(t){return t.jMt===n}));void 0!==u&&void 0===t.ePt&&e.pOt(u);var s=ao(e.DLt,(function(t){return t.jMt===n}));void 0!==s&&void 0===t.$Ct&&e.pOt(s)}},i.Ww=function(){this.Bo(),this.Nyt.Ww(),this.zVt.forEach((function(t){return t.Xw()})),this.zVt.clear()},Nt(n,[{key:"CVt",get:function(){return this.PVt}},{key:"DVt",get:function(){return this.NVt}},{key:"Tr",get:function(){return this.Nyt}},{key:"MVt",get:function(){return this.LVt}}]),n}(na);function rj(t){return t.jMt.sOt||t.jMt.rOt===Oz.sBt}function ej(t){var n=t.jMt.Srt;return n[n.length-1].BO}function uj(t){return ho(t,(function(t){return void 0!==t.$Bt}))}function sj(t){if(void 0!==t.jMt.IBt&&!t.jMt.sOt&&!(void 0===t.jMt._Ft||Kn.Bg()/1e3-t.jMt._Ft>=t.jMt.IBt/2))return t.jMt.CBt?IY.HOt:IY.GOt}var oj=function(){function t(t,n){var i=this;this.rWt=function(t){i.PFt(t.oLt)},this.rEt=t,this.LB=n,this.Bgt=new Xy,this.rEt.yn(nj.EVt,this.rWt)}return t.prototype.PFt=function(t){if(0!==t.jMt.iOt.length){this.nWt||(this.nWt=this.LB.DI(Gy.jV,void 0,void 0,void 0,void 0,kw.DATE_RANGE),this.Bgt.tt(this.nWt));PY(this.nWt,t.jMt.iOt,(function(n){var i;return null!=(i=t.jMt.gOt(n))?i:NaN}))}},Nt(t,[{key:"nt",get:function(){return this.Bgt}}]),t}();F(),Tt(),Rt();var aj=function(t){function n(){return t.call(this,JH.HMt)||this}return It(n,t),n}(ea);F(),Tt(),Dt(),F(),Tt(),Gt(),Dt(),qt(),F(),Tt(),Dt();var cj=function(){function t(t){this.wot=t,this.Lbt=[],this.S2=void 0,this.Vgt=void 0}var n=t.prototype;return n.hWt=function(t){var n;return null==(n=this.aWt(t))?void 0:n.oLt},n.uWt=function(t){this.S2=t,this.cWt()},n.ddt=function(t,n,i,r,e,u){this.Lbt.push({oLt:t,Nut:n,lWt:AA.dB(e,u),dWt:AA.dB(i,r)}),this.cWt()},n.aWt=function(t){return ao(this.Lbt,(function(n){return n.dWt.gr(t)}))},n.Qat=function(t){return ao(this.Lbt,(function(n){return n.Nut===t}))},n.rlt=function(t,n){return ao(this.Lbt,(function(i){return i.oLt===t&&HY(i.Nut,n)}))},n.i3=function(){var t=this._R;t.V>0&&(this.Vgt=t.jn(t.V-1))},n.cWt=function(){var t=this.wot._R;this.Lbt=this.Lbt.filter((function(n){return 0!==t.Sn(n.dWt).V}))},Nt(t,[{key:"oWt",get:function(){return this.S2}},{key:"_R",get:function(){return iO(this.wot._R,this.wot.o3)}},{key:"Srt",get:function(){return this.Lbt}},{key:"Hgt",get:function(){return this.Vgt}}]),t}(),hj=function(){function t(t,n,i,r,e){var u=this;this.gWt=void 0,this.OT=new Ho,this.mWt=AA.fB(),this.kWt=function(t){u.gWt&&(t?HI(t)&&u.fWt?u.IWt.Dj(u.wot._R.cB)?u.gWt.Mb():u.gWt.Lb(t):Mo(t)?u.gWt.Mb():u.gWt.Lb(t):u.gWt.Mb(),u.gWt=void 0)},this.pp=t,this.TWt=i,this.wot=n,this._at=r,this.IWt=e}var n=t.prototype;return n.pWt=function(){if(this.LIt)throw new p("Cannot perform new operation while BufferAppender is still busy")},n.dot=function(t){this.wot!==t&&(this.pWt(),this.wot=t,this._at=new cj(t))},n.wWt=function(){return this.gWt?this.gWt.Bb:et.resolve()},n.yWt=function(t){var n=this._at.Hgt;return void 0!==n&&this.bWt(t,n)},n.bWt=function(t,n){var i,r,e=k.min(t,n);return null!=(r=null==(i=this._at._R.HL().QL(this.vWt).uB(e))?void 0:i.gr(n))&&r},n.AWt=function(t){return this._at.hWt(t)},n.Xw=function(){this.OT.Xw(),this.OT=new Ho},n._2=function(t){var n=this;this.pWt(),this.gWt=new Zc;var i=function(i){n.TWt.SWt(t),n.kWt(i)};this.m2(t,this.OT.Bw).then(i,i)},n.m2=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return vz.RLt(gz,"Appending initializer",Bz(t.EWt.Ryt)),[4,i.wot._2(t,n)];case 1:return r.sent(),vz.RLt(gz,"Appended initializer",Bz(t.EWt.Ryt)),i._at.uWt(t),[2]}}))}))()},n.Vlt=function(t){var n=this;this.pWt(),this.gWt=new Zc;var i=function(i){n.TWt.SWt(t),n.kWt(i)};this.xWt(t,this.OT.Bw).then(i,i)},n.xWt=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h,f,v,d,l,g,w,m,y,_,b,k,A,T,S;return Ht(this,(function(E){switch(E.label){case 0:if(void 0===(r=t.oLt).jMt.HLt)throw new p("MediaBufferWrapper - Cannot append HLSAsset to "+i.pp+" MediaBuffer for a HLSRendition with an undefined targetDuration.");return e=i._at._R.OL,u=i.wot._R,vz.RLt(gz,"Appending",Bz(t.EWt.Ryt)),[4,i.wot.l2(t,n)];case 1:if(E.sent(),vz.RLt(gz,"Appended",Bz(t.EWt.Ryt),e,i._at._R.OL),s=t.LO,o=s+t.ct,a=t.EWt,c=a.LO,f=a.LO+(null!=(h=a.ct)?h:0),i._at.ddt(r,a,s,o,c,f),v=i.wot._R.QL(u),d=i._at.rlt(r,a),i.pw===jg.lE)if(d)i.RWt(d)?0===v.V?void 0===i._at.Qat(a)&&(l=i.wot.o3.Sn(new AA([s,o])),i.mWt=i.mWt.KL(l)):(g=v.Cn(0),w=new AA([g,o]),i.mWt=i.mWt.QL(w),g>s&&(m=i.wot.o3.Sn(new AA([s,g])),i.mWt=i.mWt.KL(m))):(y=v.V>0&&v.Cn(0)<s?v.Cn(0):s,i.mWt=i.mWt.QL(new AA([y,o])));else if(0===v.V)_=i.wot.o3.Sn(new AA([s,o])),i.mWt=i.mWt.KL(_);else{if(t.EWt.TOt)return[2];k=v.Cn(0),A=null==(b=u.uB(s))?void 0:b.jn(0),k>(T=A&&A>s?A:s)&&(S=i.wot.o3.Sn(new AA([T,v.Cn(0)])),i.mWt=i.mWt.KL(S))}return t.EWt.EOt&&i._at.i3(),[2]}}))}))()},n.RWt=function(t){var n=t.dWt,i=n.Cn(0),r=n.jn(n.V-1),e=n.VL(0),u=n.UL(n.V-1);return this.mWt.$L(i,r,e,u)},Nt(t,[{key:"pw",get:function(){return this.pp}},{key:"fWt",get:function(){return Kg(this.pp)}},{key:"_Wt",get:function(){return this._at}},{key:"vWt",get:function(){return this.mWt}},{key:"LIt",get:function(){return void 0!==this.gWt}}]),t}();F(),Tt(),Gt(),Dt(),Rt(),nn(),qt(),F(),Tt(),Gt(),qt();var fj=function(){function t(t,n,i){this.DWt=t,this.aW=n,this.oTt=i,this.NWt=void 0}var n=t.prototype;return n.CWt=function(t,n,i,r){var e=this;return Zt((function(){var u;return Ht(this,(function(s){switch(s.label){case 0:return[4,e.PWt(n,r)];case 1:return u=s.sent(),[4,e.DWt.CWt(t,u,i)];case 2:return[2,s.sent()]}}))}))()},n.PWt=function(t,n){var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return(null==(r=i.NWt)?void 0:r.qu)===t?[3,3]:(vz.RLt("HLSDecryptor","Fetching new AES-128 decryption key from "+t+"."),[4,i.aW.zk({qu:t,Xk:Sd.vk,gE:ul.GET,Bw:n,pw:sl.eE,yE:ol.uE,AE:i.oTt})]);case 1:return[4,s.sent().xk()];case 2:e=s.sent(),u=new E(e),i.NWt={qu:t,Zk:u},s.label=3;case 3:return[2,i.NWt.Zk]}}))}))()},t}();F(),Tt(),Gt(),qt();var vj=function(){function t(t,n,i,r,e){void 0===e&&(e=2),this.aW=t,this.Lut=n,this.sut=i,this.oTt=r,this.Cnt=e}var n=t.prototype;return n.zk=function(t,n,i,r,e){var u=this;return Zt((function(){var s,o;return Ht(this,(function(a){switch(a.label){case 0:return[4,u.MWt(t,n,i,Sd.vk,r,e)];case 1:return[4,(s=a.sent()).xk(e)];case 2:return o=a.sent(),[2,{httpStatusCode:s.Hk,response:new E(o)}]}}))}))()},n.LWt=function(t,n,i,r,e){var u=this;return Zt((function(){return Ht(this,(function(s){switch(s.label){case 0:return[4,u.MWt(t,n,i,Sd.pk,r,e)];case 1:return[2,s.sent().Rk(e)]}}))}))()},n.MWt=function(t,n,i,r,e,u){var s=this;return Zt((function(){var o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:t.nAt&&0===(o=Nz(t.nAt.Cn,t.nAt.V))[0]&&o[1]===ir&&(o=void 0),a=o?{Range:"bytes="+o[0]+"-"+o[1]}:void 0,c=new hl({qu:t.Ix,Xk:r,qk:a,AE:s.oTt,gE:ul.GET,pw:n,yE:i,bE:s.sut,kE:r===Sd.pk,SE:e,Bw:u}),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,s.Lut.ort(t.Ix,o)];case 2:return h=f.sent(),Oo(u),void 0!==h?(null==e||e(h.buffer.byteLength,h.buffer.byteLength),[2,new el({zk:c,Xk:c.Xk,Zk:h.buffer})]):[3,4];case 3:return Bo(f.sent()),[3,4];case 4:return[4,gT((function(){return Fo(s.aW.zk(c),c.Bw)}),u,s.Cnt)];case 5:return[2,f.sent()]}}))}))()},t}();F(),Tt(),Gt(),qt();var dj=function(){function t(t,n){this.HWt=void 0,this.zWt=new Ho,this.An=-1/0,this.VWt=void 0,this.ZWt=!1,this.rEt=t,this.OWt=n,this.UWt()}var n=t.prototype;return n.BWt=function(){return this.OWt.jMt.RBt},n.FWt=function(t,n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){switch(s.label){case 0:if(!r.BWt())throw new p("Could not perform blocking playlist update.");return e=r.VWt,u={OBt:t,TFt:n},void 0!==e&&function(t,n,i){if(t.OBt===n.OBt){if(t.TFt===n.TFt)return!0;if(0===t.TFt&&void 0===n.TFt)return!0}if(t.OBt===n.OBt+1&&0===t.TFt&&void 0!==n.TFt){var r=i.Qat(n.OBt);if(r&&r.Ryt&&n.TFt>=r.jBt.length)return!0}return!1}(e,u,r.OWt.jMt)?[3,2]:[4,r.WWt()];case 1:s.sent(),r.UWt(u),s.label=2;case 2:return[2,r.rEt.XVt(r.OWt,i)]}}))}))()},n.GWt=function(t){return this.UWt(),this.rEt.XVt(this.OWt,t)},n.UWt=function(t){var n=this;if(!this.HWt&&!this.ZWt){var i=function(){n.HWt=void 0};this.HWt=this.XWt(t,this.zWt.Bw).then(i,i)}},n.WWt=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.HWt?(t.zWt.Xw(),t.zWt=new Ho,[4,t.HWt.catch(pi)]):[3,2];case 1:n.sent(),t.HWt=void 0,n.label=2;case 2:return[2]}}))}))()},n.XWt=function(t,n){var i=this;return Zt((function(){var r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:r=t,o.label=1;case 1:if(Oo(n),i.OWt.jMt.sOt&&i.OWt.jMt.fFt)return[2];null!=r||(r=i.qWt()),i.VWt=r,o.label=2;case 2:return o.trys.push([2,9,,10]),r?[4,i.rEt.UVt(i.OWt,r.OBt,r.TFt,n)]:[3,4];case 3:return o.sent(),[3,8];case 4:return e=Kn.Bg()-i.An,u=1e3*i.OWt.jMt.vFt,e<u?[4,Jo(u-e,n)]:[3,6];case 5:o.sent(),o.label=6;case 6:return[4,i.rEt.ZVt(i.OWt,n)];case 7:o.sent(),o.label=8;case 8:return[3,10];case 9:throw s=o.sent(),i.VWt=void 0,Bo(s),i.rEt.HVt(i.OWt),s;case 10:return r=void 0,i.An=Kn.Bg(),[3,1];case 11:return[2]}}))}))()},n.qWt=function(){var t=this.OWt.jMt;if(t.RBt&&!t.sOt&&0!==t.Srt.length){var n=t.Srt[t.Srt.length-1];return n.Ryt?{OBt:n.OBt+1,TFt:t.dFt?0:void 0}:{OBt:n.OBt,TFt:n.jBt.length}}},n.Ww=function(){this.ZWt=!0,jo(this.WWt())},t}();F(),Tt();var lj=function(t){return t[t.JLt=0]="JLt",t[t.$Lt=1]="$Lt",t[t.$k=2]="$k",t[t.tE=3]="tE",t}({});F(),Tt(),Gt(),qt(),F(),Tt(),Gt(),Dt(),qt();var gj="AssetExtractor",wj=function(){function t(){this.KWt=[]}var n=t.prototype;return n.YWt=function(t,n,i){for(var r=n,e=0,u=this.KWt;e<u.length;e++){var s=u[e];if(r>=t)return!0;if(r<s.Cn)return!1;if(r<s.jn){if(i<=s.jn)return!0;r=s.jn}}return r>=t},n.jWt=function(t,n){for(var i=[],r=0;r<this.KWt.length;r+=1){var e=this.KWt[r],u=t-e.Cn,s=e.Zk.length,o=k.min(s,k.max(u,0)),a=k.max(0,n+u),c=Ac(e.Zk,o,a);c.length&&(r=this.QWt(r,e,t,o,a),i.push(c))}return i},n.JWt=function(t,n){this.KWt.push({Cn:t,jn:t+n.length,Zk:n})},n.QWt=function(t,n,i,r,e){var u=t;this.KWt.splice(u,1),u-=1,n.Cn<i&&(u+=1,this.KWt.splice(u,0,{Cn:n.Cn,jn:i,Zk:Ac(n.Zk,0,r)}));var s=i+e-r;return s<n.jn&&(u+=1,this.KWt.splice(u,0,{Cn:s,jn:n.jn,Zk:Ac(n.Zk,e)})),u},t}(),mj=function(){function t(t,n){this.tUt=n,this.Md=t.getReader()}var n=t.prototype;return n.eUt=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return[4,t.Md.read()];case 1:if((n=i.sent()).done)throw t.tUt=1/0,new p("No more data can be read from the given stream.");return t.tUt+=n.value.length,[2,n.value]}}))}))()},n.iUt=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.Md.cancel(t)];case 1:return i.sent(),[2]}}))}))()},Nt(t,[{key:"$Wt",get:function(){return this.tUt}}]),t}(),yj=function(){function t(t,n,i,r){this.cUt=new Zc,this.NOt=t,this.Md=n,this.oUt=i,this.uUt=r,this.hUt=new Zc,this.nUt=new Zc}var n=t.prototype;return n.sUt=function(){this.nUt.Mb(),this.nUt=new Zc},n.rUt=function(t){var n=_j(this.NOt.nAt),i=n.rAt,r=n.oAt,e=this.oUt.jWt(i,r-i);vz.RLt(gj,"Collected "+e.length+" chunks.");for(var u=0;u<e.length;u++){var s=e[u];t.enqueue(s)}},n.readAndSliceOutAssetBytes=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c,h,f,v,d,l;return Ht(this,(function(g){switch(g.label){case 0:return[4,n.hUt.Bb];case 1:g.sent(),i=_j(n.NOt.nAt),r=i.rAt,e=i.oAt,g.label=2;case 2:g.trys.push([2,11,,12]),g.label=3;case 3:return u=n.Md.$Wt,[4,n.Md.eUt()];case 4:return s=g.sent(),o=s.length,vz.RLt(gj,"Read "+o+" at "+u+" for extraction of "+Bz(n.NOt)),a=k.min(u+o,r),(c=a-u)>0?(h=Ac(s,0,c),f=Ac(s,c),vz.RLt(gj,"Of the read "+o+" bytes, the first "+c+" will be stored locally for extraction of "+Bz(n.NOt)),n.oUt.JWt(u,h),f.length>0?(vz.RLt(gj,"Extracting "+f.length+" bytes for extraction of "+Bz(n.NOt)),t.enqueue(f),n.sUt(),[2,jo(n.readAndSliceOutAssetBytes(t))]):[3,9]):[3,5];case 5:return u+o<=e?(vz.RLt(gj,"Extracting the read data range for extraction of "+Bz(n.NOt)),t.enqueue(s),n.sUt(),[2,jo(n.readAndSliceOutAssetBytes(t))]):[3,6];case 6:return d=Ac(s,0,v=e-u),l=Ac(s,v),d.length>0&&(vz.RLt(gj,"Extracting "+d.length+" bytes for extraction of "+Bz(n.NOt)),t.enqueue(d)),vz.RLt(gj,"Of the read "+o+" bytes, the last "+l.length+" will be stored locally for extraction of "+Bz(n.NOt)),n.oUt.JWt(u+v,l),vz.RLt(gj,"Extraction of "+Bz(n.NOt)+" completed as the entire request has been fulfilled."),n.aUt(t),n.uUt?(vz.RLt(gj,"Aborting stream upstream as no more bytes are needed from "+Bz(n.NOt)+"."),[4,n.Md.iUt("AssetExtraction - AbortOnEnd")]):[3,8];case 7:g.sent(),g.label=8;case 8:return[2];case 9:return[3,3];case 10:return[3,12];case 11:return g.sent(),vz.RLt(gj,"Extraction of "+Bz(n.NOt)+" completed as the entire source stream has been read."),n.aUt(t),[3,12];case 12:return[2]}}))}))()},n.aUt=function(t){t.close(),this.sUt(),this.cUt.Mb()},n.start=function(t){vz.RLt(gj,"Preparing to push all collected data to controller for extraction of "+Bz(this.NOt)),this.rUt(t),vz.RLt(gj,"Collected data pushed to controller for extraction of "+Bz(this.NOt));var n=_j(this.NOt.nAt).oAt;this.Md.$Wt>=n?(vz.RLt(gj,"Extraction of "+Bz(this.NOt)+" completed as the entire request has been fulfilled."),this.aUt(t)):(vz.RLt(gj,"Continuing read from original stream for extraction of "+Bz(this.NOt)),jo(this.readAndSliceOutAssetBytes(t)))},n.pull=function(){return this.hUt.Mb(),this.hUt=new Zc,this.nUt.Bb},Nt(t,[{key:"lUt",get:function(){return this.cUt.Bb}}]),t}(),pj=function(){function t(t,n){this.NOt=n;var i=_j(this.NOt.nAt).rAt;this.dUt=new mj(t,i),this.oUt=new wj}var n=t.prototype;return n.bO=function(t){if(!Vz(this.NOt,t))return!1;var n=_j(t.nAt),i=n.rAt,r=n.oAt;return this.oUt.YWt(this.dUt.$Wt,i,r)},n.tgt=function(t,n){void 0===n&&(n=!1);var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return r=i.dUt,e=i.oUt,vz.RN(gj,"Extracting data from "+Bz(t)+" out of "+Bz(i.NOt)),i.fUt?(vz.RLt(gj,"Awaiting previous extraction before extracting "+Bz(t)+" out of "+Bz(i.NOt)),[4,i.fUt]):[3,2];case 1:s.sent(),s.label=2;case 2:if(!i.bO(t))throw new p("The extractor does not contain the data requested");return u=new yj(t,r,e,n),i.fUt=u.lUt,[2,new xd(u)]}}))}))()},t}();function _j(t){if(t){var n=t.Cn;return{rAt:n,oAt:void 0!==t.V?n+t.V:ir}}return{rAt:0,oAt:ir}}var bj=function(){function t(t,n){this.NOt=t,this._Ut=n,this.OT=new Ho,this.opt=this.$n()}var n=t.prototype;return n.$n=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return[4,t._Ut.LWt(t.NOt,sl.tE,ol.Qk,void 0,t.OT.Bw)];case 1:return n=i.sent(),[2,new pj(n,t.NOt)]}}))}))()},n.bO=function(t){return Vz(this.NOt,t)},n.tgt=function(t,n){void 0===n&&(n=!1);var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return[4,i.opt];case 1:return[4,Fo(r.sent().tgt(t,n),i.OT.Bw)];case 2:return[2,r.sent()]}}))}))()},n.Xw=function(){this.opt.catch(pi),this.OT.Xw()},t}();F(),Tt(),Rt();var kj=function(t){function n(n){var i;return(i=t.call(this,Cj.vUt)||this).bE=n,i}return It(n,t),n}(ea);F(),Tt(),Rt();var Aj=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,Cj.mUt)||this).uri=n,a.gUt=i,a.bE=r,a.mediaSequenceNumeber=e,a.mediaTrackId=u,a.pUt=s,a.httpStatusCode=o,a}return It(n,t),n}(ea);function Tj(t,n,i){var r=XY(i)?i:i.ROt;if(n.GFt(r.eOt)){if(void 0!==i.hit)return n.QFt(i.hit,i).uF();if(i!==r&&void 0!==r.hit){var e=n.QFt(r.hit,r).uF();return i.LO+(e-r.LO)}}var u=t.jMt.Qat(r.OBt-1);if(void 0!==u&&n.GFt(u.eOt)){if(u.jBt.length>0){var s=u.BOt(u.jBt.length-1);if(void 0!==s.hit){var o=n.QFt(s.hit,s).uF();return i.LO+(o-s.LO)}}if(void 0!==u.hit){var a=n.QFt(u.hit,u).uF();return i.LO+(a-u.LO)}}var c=t.jMt.Qat(r.OBt+1);if(void 0!==c&&n.GFt(c.eOt)){if(c.jBt.length>0){var h=c.BOt(0);if(void 0!==h.hit){var f=n.QFt(h.hit,h).uF();return i.LO+(f-h.LO)}}if(void 0!==c.hit){var v=n.QFt(c.hit,c).uF();return i.LO+(v-c.LO)}}return i.LO}function Sj(t){return void 0!==t.hit}function Ej(t,n,i,r){for(var e=n;e<t.length;e++){var u=t[e];if(u.eOt!==i)break;if(Sj(u))if(r(u,e))break}}function Ij(t,n,i,r){for(var e=n;e>=0;e--){var u=t[e];if(u.eOt!==i)break;if(Sj(u))if(r(u,e))break}}F(),Tt();var Rj="HlsPlaylistDownloader",Cj=function(t){return t.vUt="segmentdownloadprogress",t.mUt="segmentdownloaded",t}({}),Nj=function(t){function n(n,i,r,e,u,s,o,a){var c;return(c=t.call(this)||this).bUt=void 0,c.kUt=void 0,c.sGt=void 0,c.nGt=0,c.rGt=0,c.oGt=0,c.hGt=0,c.RUt=new Ho,c.IUt=void 0,c.AUt=0,c.SUt=void 0,c.TUt=void 0,c.PUt=void 0,c.CUt=void 0,c.FUt=function(t){c.bUt&&(c.OWt=c.bUt,c.bUt=void 0,c.AUt=0,c.SUt=void 0,c.TUt=void 0),c.kUt&&(t&&!Mo(t)?c.kUt.Lb(t):c.kUt.Mb(),c.kUt=void 0)},c.tGt=function(t,n){c.oGt=t,t>0&&0===c.nGt&&(c.nGt=Kn.Bg()),void 0!==n&&(c.hGt=n),c.yo(new kj(c.pp))},c.pp=n,c.rEt=r,c.TWt=e,c.OWt=i,c.yUt=new dj(r,i),c.iGt=new fj(o,u,a),c._Ut=new vj(u,s,function(t){switch(t){case xz.lE:return al.lE;case xz.cE:return al.cE;case xz.qV:case xz.QLt:return al.wk;default:return al.Qk}}(i.pw),a),c}It(n,t);var i=n.prototype;return i.wUt=function(t){this.yUt.Ww(),this.yUt=new dj(this.rEt,t),this.LIt?this.bUt=t:(this.OWt=t,this.AUt=0,this.SUt=void 0,this.TUt=void 0)},i.wWt=function(){return this.kUt?this.kUt.Bb:et.resolve()},i.EUt=function(){return this.TWt.EUt()},i.xUt=function(t){this.TWt.xUt(t)},i.Xw=function(){var t,n,i;this.RUt.Xw(),this.RUt=new Ho,null==(t=this.IUt)||t.Xw(),this.IUt=void 0,null==(n=this.CUt)||n.Xw(),null==(i=this.PUt)||i.Xw(),this.CUt=void 0,this.PUt=void 0,this.AUt=0,this.SUt=void 0,this.TUt=void 0},i.Ww=function(){this.yUt.Ww()},i.DUt=function(t){var n=this.OWt.jMt.kFt(t);if(!n)return!1;if(void 0!==this.SUt){var i=n.OBt===this.SUt;return void 0!==this.TUt?n.OOt(t)===n.BOt(this.TUt)&&i:i}return!1},i.NUt=function(t){var n;if(void 0===this.SUt||t<this.AUt-1e-6)n=this.MUt(t);else if(void 0!==(n=this.LUt(this.SUt,this.TUt))){var i=tn(n,2),r=i[0],e=i[1],u=Tj(this.OWt,this.rEt.Tr.CL,null!=e?e:r),s=3*this.OWt.jMt.HLt;k.abs(u-t)>=s&&(n=this.MUt(t))}else if(this.OWt.jMt.sOt){if(this.OWt.jMt.Qat(this.SUt).EOt&&void 0!==(n=this.MUt(t))&&n[0].OBt===this.SUt)return}if(n){this.AUt=t;var o=tn(n,2),a=o[0],c=o[1];return 0===(null==c?void 0:c.COt)&&void 0!==a.ct?[a,void 0]:[a,c]}},i.MUt=function(t){var n,i,r=this.OWt.jMt.Srt;if(0!==r.length){var e,u=this.rEt.Tr.CL,s=am.cV(t),o=function(t,n,i){var r=t.jMt.Srt;if(0!==r.length){var e=t.jMt.EFt(i.uF());if(n.GFt(e.eOt)){var u,s,o,a=e.OBt-r[0].OBt,c=e.eOt,h=0;if(!(Ij(r,a,c,(function(t,n){return u=t,h=n,!0})),void 0===u&&(Ej(r,a+1,c,(function(t,n){return u=t,h=n,!0})),void 0===u)||(n.QFt(u.hit,u)._F(i)?(s=u,Ej(r,h+1,c,(function(t){return n.QFt(t.hit,t).cF(i)?(o=t,!0):(s=t,!1)}))):(o=u,Ij(r,h-1,c,(function(t){return n.QFt(t.hit,t)._F(i)?(s=t,!0):(o=t,!1)}))),void 0===s||void 0===o)))return[s,o]}}}(this.OWt,u,s);if(void 0!==o){var a=tn(o,2),c=a[0],h=a[1],f=u.QFt(c.hit,c),v=u.QFt(h.hit,h),d=s.yF(f).uF()/v.yF(f).uF()*(h.LO-c.LO);e=c.LO+d}else e=t;var l=r[r.length-1];return l.BO<=e?(n=l,i=l.VOt(e)):i=r[0].LO>e?(n=r[0]).BOt(0):null==(n=this.OWt.jMt.kFt(e))?void 0:n.VOt(e),n?[n,i]:void 0}},i.LUt=function(t,n){var i,r;if((i=this.OWt.jMt.Qat(t))&&void 0!==n){if(0===i.jBt.length)return[i,void 0];r=i.BOt(n+1)}return void 0!==i&&void 0!==r||(r=null==(i=this.OWt.jMt.Qat(t+1))?void 0:i.BOt(0)),i?[i,r]:void 0},i.pWt=function(){if(this.LIt)throw new p("Cannot perform new operation while PlaylistDownloader is still busy")},i.BUt=function(t){this.pWt(),this.kUt=new Zc,this.OUt(t,this.RUt.Bw).then(this.FUt,this.FUt)},i.VUt=function(){this.yUt.UWt()},i.OUt=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return i.OWt.jMt.sOt?[2]:(r=i.NUt(t))||!i.yUt.BWt()||void 0===i.SUt?[3,2]:[4,i.yUt.FWt(void 0===i.TUt?i.SUt+1:i.SUt,void 0!==i.TUt?i.TUt+1:void 0,n)];case 1:u.sent(),r=i.NUt(t),u.label=2;case 2:return r||!i.yUt.BWt()||void 0===i.SUt?[3,4]:[4,i.yUt.FWt(i.SUt+1,0,n)];case 3:u.sent(),r=i.NUt(t),u.label=4;case 4:return r?[3,6]:(vz.RN(Rj,"No next segment / part available, need to update playlist before continuing."),[4,i.yUt.GWt(n)]);case 5:return u.sent(),e=i.oLt.jMt.Srt,e[0].LO>t&&(i.TUt=void 0,i.SUt=void 0),e[e.length-1].OBt<i.SUt&&(i.TUt=void 0,i.SUt=void 0),r=i.NUt(t),[3,4];case 6:return[2]}}))}))()},i.WUt=function(){return this.TWt.UUt()},i.GUt=function(){this.pWt();try{var t=this.OWt.jMt.xFt(Lz.JLt);t&&this.HUt(t);var n=this.OWt.jMt.xFt(Lz.$Lt);n&&this.ZUt(n)}catch(t){throw Bo(t),this.OWt.jMt.yFt=Kn.Bg(),this.rEt.HVt(this.OWt),t}},i.HUt=function(t){this.PUt&&!this.PUt.bO(t.Ryt)&&(this.PUt.Xw(),this.PUt=void 0),this.PUt||(this.PUt=new bj(t.Ryt,this._Ut))},i.ZUt=function(t){this.CUt&&!this.CUt.bO(t.Ryt)&&(this.CUt.Xw(),this.CUt=void 0),this.CUt||(this.CUt=new bj(t.Ryt,this._Ut))},i.jat=function(t,n,i){var r=this;this.pWt(),vz.RN(Rj,"Starting download of segment "+Bz(t.Ryt)+" and part "+(null==n?void 0:n.COt)),this.kUt=new Zc,this.XUt(t,n,i,this.RUt.Bw).catch((function(t){throw Bo(t),r.OWt.jMt.yFt=Kn.Bg(),r.rEt.HVt(r.OWt),t})).then(this.FUt,this.FUt)},i.XUt=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:return t.JBt&&(i&&Fz(i.EWt.Ryt,null==(s=t.JBt)?void 0:s.Ryt)&&t.eOt===i.eOt||(null==(a=e.IUt)||a.Xw(),e.IUt=new Zc,c=e.zUt(t.JBt,t,r).then((function(){e.IUt=void 0})),e.IUt.zw(c)),u=null==(o=e.IUt)?void 0:o.Bb),[4,e.qUt(t,n,u,r)];case 1:return h.sent(),[2]}}))}))()},i.zUt=function(t,n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){switch(s.label){case 0:return[4,r.YUt(t,n,i)];case 1:return e=s.sent(),u=e.JBt.Zk.Zk.byteLength,r.TWt.KUt(e),r.yo(new Aj(e.JBt.EWt.Ryt,e.pw,r.pp,n.OBt,e.oLt.TC,u,e.JBt.rct)),vz.RLt(gz,"Download initializer complete",Bz(t.Ryt)),[2]}}))}))()},i.qUt=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return[4,e.jUt(t,n,r)];case 1:return u=a.sent(),s=u.Nut.Zk.Zk.byteLength,i?[4,Fo(i,r)]:[3,3];case 2:a.sent(),a.label=3;case 3:return e.TWt.KUt(u),e.yo(new Aj(u.Nut.EWt.Ryt,u.pw,e.pp,t.OBt,u.oLt.TC,s,u.Nut.rct)),vz.RLt(gz,"Download complete",Bz(null!=(o=null==n?void 0:n.Ryt)?o:t.Ryt)),[2]}}))}))()},i.jUt=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return n?r.CUt?r.CUt.bO(n.Ryt)?[4,r.CUt.tgt(n.Ryt)]:[3,4]:[3,5]:[3,8];case 1:return[4,Vd(a.sent(),i)];case 2:return u=a.sent(),s=new E(u),[4,r.CWt(s,n.qBt,i)];case 3:return o=a.sent(),e=xj(n,o,200),[3,5];case 4:r.CUt.Xw(),r.CUt=void 0,a.label=5;case 5:return e?[3,7]:(vz.RLt(gz,"Start download",Bz(n.Ryt)),[4,r.QUt(n,i)]);case 6:e=a.sent(),a.label=7;case 7:return[3,10];case 8:return vz.RLt(gz,"Start download",Bz(t.Ryt)),[4,r.$at(t,i)];case 9:e=a.sent(),a.label=10;case 10:return r.SUt=t.OBt,r.TUt=null==n?void 0:n.COt,[2,{pw:"Nut",Nut:e,oLt:r.OWt,eOt:t.eOt}]}}))}))()},i.YUt=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return r.PUt?r.PUt.bO(t.Ryt)?[4,Fo(r.PUt.tgt(t.Ryt),i)]:[3,4]:[3,5];case 1:return[4,Vd(c.sent(),i)];case 2:return s=c.sent(),o=new E(s),[4,r.CWt(o,t.KBt?[t.KBt]:[],i)];case 3:a=c.sent(),e=Dj(t,n,a,200),c.label=4;case 4:vz.RN(Rj,"MAP is required for segment, downloading MAP data."),null==(u=r.PUt)||u.Xw(),r.PUt=void 0,c.label=5;case 5:return e?[3,7]:(vz.RLt(gz,"Start download",Bz(t.Ryt)),[4,r.JUt(t,n,i)]);case 6:e=c.sent(),c.label=7;case 7:return[2,{pw:"JBt",JBt:e,oLt:r.OWt,LO:n.LO,eOt:n.eOt,qBt:n.qBt}]}}))}))()},i.JUt=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return[4,r._Ut.zk(t.Ryt,sl.$k,ol.iE,void 0,i)];case 1:return e=c.sent(),u=e.response,s=e.httpStatusCode,o=t.KBt?[t.KBt]:[],[4,r.CWt(u,o,i)];case 2:return a=c.sent(),[2,Dj(t,n,a,s)]}}))}))()},i.$at=function(t,n){var i=this;return Zt((function(){var r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:if(!t.Ryt)throw new p("Internal error: attempted to download an incomplete segment");o.label=1;case 1:return o.trys.push([1,,3,4]),i.$Ut(t),[4,i._Ut.zk(t.Ryt,sl.$k,ol.Qk,i.tGt,n)];case 2:return u=o.sent(),r=u.response,e=u.httpStatusCode,[3,4];case 3:return i.eGt(),[7];case 4:return[4,i.CWt(r,t.qBt,n)];case 5:return s=o.sent(),[2,Pj(t,s,e)]}}))}))()},i.QUt=function(t,n){var i=this;return Zt((function(){var r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return o.trys.push([0,,2,3]),i.$Ut(t),[4,i._Ut.zk(t.Ryt,sl.$k,ol.Qk,i.tGt,n)];case 1:return u=o.sent(),r=u.response,e=u.httpStatusCode,[3,3];case 2:return i.eGt(),[7];case 3:return[4,i.CWt(r,t.qBt,n)];case 4:return s=o.sent(),[2,xj(t,s,e)]}}))}))()},i.CWt=function(t,n,i){var r=this;return Zt((function(){var e;return Ht(this,(function(u){switch(u.label){case 0:return(e=ao(n,(function(t){return t.gE===Mz.tBt})))?e.Ryt&&e.TBt?[4,r.iGt.CWt(t,e.Ryt,e.TBt,i)]:(vz.lt(Rj,"Encountered an AES-128 encrypted segment for which no initialization vector could be determined."),[2,t]):[2,t];case 1:return[2,u.sent()]}}))}))()},i.$Ut=function(t){var n,i,r;this.sGt=t,this.nGt=0,this.rGt=Kn.Bg(),this.oGt=0,this.hGt=null!=(r=null==(i=t.Ryt)||null==(n=i.nAt)?void 0:n.V)?r:0},i.eGt=function(){this.sGt=void 0,this.nGt=0,this.rGt=0,this.oGt=0,this.hGt=0},i.aGt=function(){if(void 0!==this.sGt)return{Nut:this.sGt,uGt:this.oGt,cGt:this.hGt,lGt:Kn.Bg()-this.rGt}},i.dGt=function(t){return void 0!==this.sGt&&(0!==this.nGt&&(!(this.hGt>0&&this.oGt>=this.hGt)&&!(t-this.nGt<500)))},Nt(n,[{key:"LIt",get:function(){return void 0!==this.kUt}},{key:"oLt",get:function(){var t;return null!=(t=this.bUt)?t:this.OWt}},{key:"oCt",get:function(){if(!this.OWt.jMt.sOt||void 0===this.SUt)return!1;var t=this.OWt.jMt.Qat(this.SUt);if(!t.EOt)return!1;if(void 0!==this.TUt&&!t.BOt(this.TUt).EOt)return!1;return!0}}]),n}(na);function Dj(t,n,i,r){return{Zk:{Zk:i,pw:DR.QQ},pw:lj.JLt,rct:r,EWt:t,eOt:n.eOt}}function Pj(t,n,i){return{Zk:{Zk:n,pw:DR.QQ},pw:lj.$k,rct:i,EWt:t,eOt:t.eOt}}function xj(t,n,i){return{Zk:{Zk:n,pw:DR.QQ},rct:i,pw:lj.$Lt,EWt:t,eOt:t.ROt.eOt}}F(),Tt(),Dt();var Lj=function(){function t(t){this.vGt=[],this.gGt=ns(),this.wGt=void 0,this.fGt=void 0,this._Vt=t}var n=t.prototype;return n.KUt=function(t){"JBt"===t.pw&&(this.fGt=t.JBt),this.vGt.push(t),this.wGt&&(this.wGt.Mb(),this.wGt=void 0)},n.EUt=function(){return this.vGt[0]},n.xUt=function(t){lo(this.vGt,t)},n.UUt=function(){return null!=this.wGt||(this.wGt=new Zc),this.wGt.Bb},n.yGt=function(t){this.bGt(t.pat).yGt(t)},n.AGt=function(t){return this.bGt(t).AGt()},n.SWt=function(t){this.bGt(t.pat).SWt(t)},n.SGt=function(t){var n;null==(n=this.gGt.get(t))||n.Ww()},n.TGt=function(t){return this.bGt(t).TGt()},n.bGt=function(t){if(this.gGt.has(t))return this.gGt.get(t);var n=new Mj;return this.gGt.set(t,n),n},n.Nb=function(){this.kGt(),this.EGt()},n.kGt=function(){this.fGt=void 0,po(this.vGt)},n.EGt=function(){this.gGt.forEach((function(t){return t.Nb()}))},n.Ww=function(){this.gGt.forEach((function(t){return t.Ww()})),this.gGt.clear(),this.Nb(),this.wGt&&(this.wGt.Xw(),this.wGt=void 0)},Nt(t,[{key:"oWt",get:function(){return this.fGt}},{key:"_Gt",get:function(){for(var t=[],n=0,i=this.vGt;n<i.length;n++){var r=i[n];if("Nut"===r.pw){var e,u=r.Nut.EWt,s=Tj(r.oLt,this._Vt,u);t.push({Nut:u,oLt:r.oLt,LO:s,BO:s+(null!=(e=u.ct)?e:0)})}}return t}},{key:"mGt",get:function(){var t=[];return this.gGt.forEach((function(n){for(var i=0,r=n.pGt;i<r.length;i++){var e=r[i];"Nut"===e.pw&&t.push({Nut:e.EWt,oLt:e.oLt,LO:e.LO,BO:e.LO+e.ct})}})),t}}]),t}(),Mj=function(){function t(){this.xGt=[],this.RGt=void 0}var n=t.prototype;return n.yGt=function(t){this.xGt.push(t),this.RGt&&(this.RGt.Mb(),this.RGt=void 0)},n.AGt=function(){return this.xGt[0]},n.SWt=function(t){lo(this.xGt,t)},n.TGt=function(){return null!=this.RGt||(this.RGt=new Zc),this.RGt.Bb},n.Nb=function(){po(this.xGt)},n.Ww=function(){this.Nb(),this.RGt&&(this.RGt.Xw(),this.RGt=void 0)},Nt(t,[{key:"pGt",get:function(){return this.xGt}}]),t}();F(),Tt(),Gt(),Dt(),qt();var Oj=1e-6,Bj=function(){function t(t,n){this.bxt=AA.fB(),this.Axt=AA.fB(),this.CGt=t,this._Vt=n}var n=t.prototype;return n._2=function(t,n){var i=this;return Zt((function(){var r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return r=t.Zk.Zk,i.IGt(r),i.CGt.pw!==kw.TTML?[3,3]:i._Vt.GFt(t.eOt)?[3,2]:[4,Fo(i._Vt.ZFt(t.eOt),n)];case 1:o.sent(),o.label=2;case 2:for(e=i.PGt(r,t.eOt),u=0;u<e.length;u++)s=e[u],i.CGt.uW(s);o.label=3;case 3:return[2]}}))}))()},n.l2=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return void 0===t.Zk?[2]:(r=t.LO,e=r+t.ct,i.bxt=i.bxt.KL(AA.dB(r,e)).YL(Oj),i.u3(t.DGt,t.NGt),i.l3(r,e),i._Vt.GFt(t.eOt)?[3,2]:[4,Fo(i._Vt.ZFt(t.eOt),n)]);case 1:u.sent(),u.label=2;case 2:return i.f2(t.Zk.Zk,t.eOt,t.EWt),[2]}}))}))()},n.f2=function(t,n,i){var r;this.IGt(t),r=this.CGt.pw===kw.WEBVTT?this.MGt(t,i):this.PGt(t,n);for(var e=0;e<r.length;e++){var u=r[e];this.CGt.uW(u)}},n.MGt=function(t,n){for(var i,r=Tm(t),e=r.L,u=null!=(i=r.MV)?i:{LV:am.xF,lh:am.xF},s=0;s<e.length;s++){var o=e[s],a=am.cV(o.LO).yF(u.lh).yO(u.LV),c=this._Vt.QFt(a,n).uF(),h=c+(o.BO-o.LO);o.tF(c,h)}return e},n.PGt=function(t,n){var i=this._Vt.jFt(n).uF();return Ty(t,this.CGt,{RV:0,CV:1/0,PV:i},Cv.APPLICATION_MP4)},n.IGt=function(t){this.CGt.pw===kw.DEFAULT&&(this.CGt.pw=this.LGt(t)?kw.WEBVTT:kw.TTML)},n.LGt=function(t){return Bm(wc(yc(pc(t),0,k.min(t.byteLength,16)),new Ec))},n.u3=function(t,n){this.Axt=this.Axt.KL(AA.dB(t,n)).YL(Oj)},n.l3=function(t,n){this.Axt=this.Axt.QL(AA.dB(t,n))},Nt(t,[{key:"_R",get:function(){return this.bxt}},{key:"o3",get:function(){return this.Axt}}]),t}();F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Rt();var Vj=function(t){function n(n,i){var r;return(r=t.call(this,Zj.BGt)||this).oLt=n,r.Urt=i,r}return It(n,t),n}(ea);F(),Tt(),Rt();var Fj=function(t){function n(n){var i;return(i=t.call(this,Zj.OGt)||this).oLt=n,i}return It(n,t),n}(ea);F(),Tt(),Rt();var Uj=function(t){function n(n,i){var r;return(r=t.call(this,Zj.FGt)||this).oLt=n,r.Kdt=i,r}return It(n,t),n}(ea);F(),Tt(),Rt();var Wj=function(t){function n(n,i){var r;return(r=t.call(this,Zj.VGt)||this).oLt=n,r.WGt=i,r}return It(n,t),n}(ea),Zj=function(t){return t.BGt="UGt",t.FGt="GGt",t.VGt="HGt",t.OGt="ZGt",t}({}),Xj=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).YGt=void 0,e.OT=new Ho,e.TWt=n,e._Vt=i,e.zGt=r,e}It(n,t);var i=n.prototype;return i.qGt=function(t){for(var n=0,i=this.zGt;n<i.length;n++){var r=i[n];mo(t,r)||this.TWt.SGt(r)}this.zGt=t},i.wWt=function(){var t,n;return null!=(n=null==(t=this.YGt)?void 0:t.Bb)?n:et.resolve()},i.pWt=function(){if(this.LIt)throw new p("Cannot perform new operation while transmuxer is still busy")},i.KGt=function(t,n){},i.jGt=function(t){var n=this;this.pWt(),this.YGt=new Zc;var i=function(i){n.QGt(t,i)};this.JGt(t,this.OT.Bw).then(i,i)},i.$Gt=function(t){var n=this;this.pWt(),this.YGt=new Zc;var i=function(i){n.QGt(t,i)};this.tHt(t,this.OT.Bw).then(i,i)},i.QGt=function(t,n){this.YGt&&(!n||Mo(n)||function(t){return t instanceof zY}(n)?(Mo(n)||this.TWt.xUt(t),this.YGt.Mb(),this.YGt=void 0):this.YGt.Lb(n))},i.eHt=function(t,n){this.yo(new Vj(t,n))},i.iHt=function(t,n){this.yo(new Uj(t,n))},i.sHt=function(t,n,i){GY(n)&&this.yo(new Wj(t,i))},i.nHt=function(t){this.yo(new Fj(t))},i.yGt=function(t){mo(this.zGt,t.pat)&&this.TWt.yGt(t)},i.rHt=function(t){return this.TWt.AGt(t)},i.SWt=function(t){this.TWt.SWt(t)},i.oHt=function(t){return this.TWt.TGt(t)},i.Xw=function(){this.OT.Xw(),this.OT=new Ho},Nt(n,[{key:"XGt",get:function(){return this.zGt}},{key:"LIt",get:function(){return void 0!==this.YGt}}]),n}(na);function Gj(t,n){return GY(t)?0:k.min(t.LO,n)}function Hj(t,n){var i;return k.max(t.LO,n)+(null!=(i=t.ct)?i:0)}var zj=function(t){function n(n,i,r){return t.call(this,n,i,[r])||this}It(n,t);var i=n.prototype;return i.JGt=function(t,n){Oo(n);var i={pw:"pCt",Zk:t.JBt.Zk,pat:this.XGt[0],eOt:t.eOt,hHt:{Urt:"",qBt:t.qBt},LO:t.LO,oLt:t.oLt,EWt:t.JBt.EWt};return this.yGt(i),et.resolve()},i.tHt=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return Oo(n),void 0===(r=t.Nut.EWt).hit?[3,3]:i._Vt.GFt(t.eOt)?[3,2]:[4,Fo(i._Vt.ZFt(t.eOt),n)];case 1:c.sent(),c.label=2;case 2:return e=i._Vt.QFt(r.hit,r).uF(),[3,4];case 3:e=r.LO,c.label=4;case 4:return u=Gj(r,e),s=Hj(r,u),a={pw:"Nut",Zk:t.Nut.Zk,pat:i.XGt[0],DGt:u,NGt:s,LO:e,ct:null!=(o=r.ct)?o:0,PV:0,eOt:t.eOt,oLt:t.oLt,EWt:t.Nut.EWt},i.yGt(a),[2]}}))}))()},n}(Xj);function Yj(t,n){for(var i=function(i){var e=t[i],u=e.LO;if(e.oLt.jMt.sOt&&GY(e.Nut))u=0;else{var s=function(t){return e.oLt===t.oLt&&HY(t.Nut,e.Nut)},o=ao(t,s);if(void 0!==o)u=k.min(u,o.BO);else{var a=ao(n,s);void 0!==a&&(u=k.min(u,a.dWt.jn(0)))}}r=r.KL(AA.dB(u,e.BO))},r=AA.fB(),e=0;e<t.length;e++)i(e);return r}F(),Tt();var jj=.001,Kj=function(){function t(t,n,i,r){this.cHt=t,this.fHt=n,this.lHt=i,this.dZ=r,this.uHt=[]}var n=t.prototype;return n.wUt=function(t){this.cHt.wUt(t)},n.dHt=function(t){for(var n,i=function(t){var i=n.uHt[t];if(!i.fWt)throw new p("Invalid state");var e=fo(r,(function(t){return t.pw===i.pw}));e>=0?(i.dot(r[e]),go(r,e)):go(n.uHt,t)},r=t.slice(),e=this.uHt.length-1;e>=0;e--)n=this,i(e);for(var u=0;u<r.length;u++){var s=r[u],o=new cj(s);this.uHt.push(new hj(s.pw,s,this.fHt,o,this))}r.length>0&&this.fHt.Nb();var a=t.map((function(t){return t.pw}));this.lHt.qGt(a)},n.Dj=function(t){var n,i=(null==(n=this.dZ)?void 0:n.Dj(t))||!1;return i&&(this.Xw(),this.fHt.Nb()),i},n._Ht=function(t){for(var n=0,i=this.uHt;n<i.length;n++){var r=i[n];if(r.pw!==jg.wk||r.LIt)throw new p("Invalid state")}var e=new cj(t),u=new hj(jg.wk,t,this.fHt,e,this);this.uHt=[u]},n.Yat=function(){for(var t=0,n=this.uHt;t<n.length;t++){n[t]._Wt.cWt()}},n.Llt=function(t){var n=this.vHt.uB(t,jj);return n?n.jn(n.V-1):t},n.DUt=function(t){return!!this.vHt.uB(t,jj)||this.cHt.DUt(t)},n.gHt=function(t){return this.mHt.gr(t,jj)},n.pHt=function(t,n,i){for(var r=0,e=this.uHt;r<e.length;r++){var u=e[r]._Wt,s=u.Hgt;if(void 0!==s&&n>=s&&!u._R.HL().gr(s))return!0}return n-t<i},n.Xw=function(){this.wHt(),this.yHt()},n.wHt=function(){this.cHt.Xw()},n.yHt=function(){this.lHt.Xw(),this.aHt.forEach((function(t){return t.Xw()}))},n.Ww=function(){this.Xw(),this.cHt.Ww()},Nt(t,[{key:"aHt",get:function(){return this.uHt}},{key:"oLt",get:function(){return this.cHt.oLt}},{key:"LIt",get:function(){return this.cHt.LIt||this.lHt.LIt||this.uHt.some((function(t){return t.LIt}))}},{key:"oWt",get:function(){var t=this.fHt.oWt;if(t)return t;if(this.uHt.length>0){var n=this.uHt[0]._Wt.oWt;if(n&&this.uHt.every((function(t){return t._Wt.oWt===n})))return n}}},{key:"vHt",get:function(){if(0===this.uHt.length)return AA.fB();for(var t=Yj(this.fHt._Gt.concat(this.fHt.mGt),bo(this.uHt,(function(t){return t._Wt.Srt}))).HL(),n=new AA([0,1/0]),i=0,r=this.uHt;i<r.length;i++){var e=r[i];n=n.Sn(e._Wt._R)}for(var u=0,s=this.uHt;u<s.length;u++){var o=s[u];n=n.QL(o.vWt)}return(n=n.KL(t)).YL(jj)}},{key:"mHt",get:function(){if(0===this.uHt.length)return AA.fB();for(var t=Yj(this.fHt.mGt,bo(this.uHt,(function(t){return t._Wt.Srt}))).HL(),n=new AA([0,1/0]),i=0,r=this.uHt;i<r.length;i++){var e=r[i];n=n.Sn(e._Wt._R)}return n=n.KL(t)}}]),t}();F(),Tt(),Rt();var qj=function(t){function n(){return t.call(this,JH.zMt)||this}return It(n,t),n}(ea);F(),Tt(),Rt();var Jj=function(t){function n(){return t.call(this,JH.ZMt)||this}return It(n,t),n}(ea);F(),Tt(),Gt(),Dt(),qt(),F(),Tt(),Gt(),Dt(),Rt(),qt();var Qj="LazyMediaBuffer",$j=function(t){function n(n,i){var r;return(r=t.call(this)||this).pp=n,r.kHt=i,r.ST=void 0,r.wot=void 0,r.SHt=new Zc,r.Ej=20,r.bHt=!1,r.Ij=30,r.h3=new WR,r}It(n,t);var i=n.prototype;return i.SJ=function(){return this.wot?this.wot.SJ():this.bHt},i.u3=function(t,n){vz.RLt(Qj,"Marking gap from "+t+" to "+n+"."),this.h3.LJ(t,n),this.wot&&this.wot.u3(t,n)},i.l3=function(t,n){vz.RLt(Qj,"Removing gap from "+t+" to "+n+"."),this.h3.BJ(t,n),this.wot&&this.wot.l3(t,n)},i.AHt=function(t){this.wot=t,this.wot.yj=this.Ij,this.wot.mj=this.Ej;for(var n,i=this.h3.NJ,r=0;r<i.V;r++)this.wot.u3(i.Cn(r),i.jn(r));this.bHt&&(vz.RLt(Qj,"End of stream"),null==(n=this.wot)||n.i3());this.wot.yn(CR.KQ,this.Ds),this.SHt.Mb(t)},i.THt=function(t){return Fo(this.SHt.Bb,t)},i.l2=function(t,n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return[4,r.THt(i)];case 1:return[4,e.sent().l2(t,n,i)];case 2:return e.sent(),[2]}}))}))()},i.d3=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.THt()];case 1:return[4,n.sent().d3()];case 2:return n.sent(),[2]}}))}))()},i._2=function(t,n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return[4,r.THt(i)];case 1:return[4,e.sent()._2(t,n,i)];case 2:return e.sent(),[2]}}))}))()},i.jS=function(t,n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return[4,r.THt(i)];case 1:return[4,e.sent().jS(t,n,i)];case 2:return e.sent(),[2]}}))}))()},i.N2=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return[4,i.THt()];case 1:return[4,r.sent().N2(t,n)];case 2:return r.sent(),[2]}}))}))()},i.i3=function(){this.bHt=!0,this.wot&&this.wot.i3()},i.hJ=function(t){return!!this.wot&&this.wot.hJ(t)},i.uJ=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.THt()];case 1:return[4,i.sent().uJ(t)];case 2:return i.sent(),[2]}}))}))()},i.gn=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){return t.Bo(),null==(n=t.wot)||n.fn(CR.KQ,t.Ds),[2]}))}))()},Nt(n,[{key:"Ik",get:function(){return this.ST}},{key:"n3",get:function(){return this.pp}},{key:"md",get:function(){if(!this.wot)throw new td(Qv.MEDIA_LOAD_ERROR,"Cannot get the configuration of an uninitialized MediaBuffer.");return this.wot.md}},{key:"mj",get:function(){return this.Ej},set:function(t){this.Ej=t,this.wot&&(this.wot.mj=t)}},{key:"_R",get:function(){return this.wot?this.wot._R:AA.fB()}},{key:"o3",get:function(){return this.wot?this.wot.o3:this.h3.NJ}},{key:"yj",get:function(){return this.Ij},set:function(t){this.Ij=t,this.wot&&(this.wot.yj=t)}}]),n}(na),tK="LazyMediaSource",nK=function(){function t(t,n,i){this.LB=t,this.EHt=void 0,this.xHt=void 0,this.NHt=new Zc,this.qG=void 0,this.DHt=!1,this.IA=NaN,this.nit=!1,this.RHt=0,this.IHt=1/0,this.CHt=!1,this.PHt=!1,n&&(vz.RLt(tK,"Created lazy media buffer for audio."),this.EHt=new $j(jg.cE,this)),i&&(vz.RLt(tK,"Created lazy media buffer for video."),this.xHt=new $j(jg.lE,this))}var n=t.prototype;return n.e4=function(t){this.IA=t,this.qG&&this.qG.e4(t)},n.i3=function(){this.nit=!0,this.qG&&this.qG.i3()},n.z2=function(){this.nit=!1,this.qG&&this.qG.z2()},n.r4=function(t,n,i,r){this.RHt=t,this.IHt=n,this.CHt=Boolean(i),this.PHt=Boolean(r),this.qG&&this.qG.r4(t,n,i,r)},n.hJ=function(t){return!this.qG||this.qG.hJ(t)},n.uJ=function(t){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:if(!n.hJ(t))throw new p("LazyMediaSource - Unable to reconfigure MediaSource.");return n.qG?[3,2]:(n.LB.o7(),[4,n.LB.$n(t)]);case 1:return e=u.sent(),S(n.IA)||e.e4(n.IA),n.nit&&e.i3(),e.r4(n.RHt,n.IHt,n.CHt,n.PHt),vz.RLt(tK,"The MediaSource has been loaded."),n.DHt=!0,n.qG=e,null==(i=n.EHt)||i.AHt(n.qG.K3),null==(r=n.xHt)||r.AHt(n.qG.j3),n.NHt.Mb(e),n.LB.h7(),[3,4];case 2:return[4,n.qG.uJ(t)];case 3:u.sent(),u.label=4;case 4:return[2]}}))}))()},n.lJ=function(t){this.qG.lJ(t)},n.Ww=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.qG?[4,t.qG.Ww()]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))()},Nt(t,[{key:"md",get:function(){return{pw:gp._W,o4:[],JG:[]}}},{key:"K3",get:function(){return this.EHt}},{key:"j3",get:function(){return this.xHt}},{key:"_R",get:function(){return this.qG?this.qG._R:AA.fB()}},{key:"ct",get:function(){return this.qG?this.qG.ct:this.IA}},{key:"SJ",get:function(){return!!this.qG&&this.qG.SJ}},{key:"iI",get:function(){return this.qG?this.qG.iI:new AA([0,1/0])}}]),t}();function iK(t,n){return void 0===n&&(n=!1),function(i,r){void 0===r&&(r="*");var e,u,s,o=eK(i,"tag"),a=eK(null==r?"*":r,"range"),c=[],h=-1;for(;++h<a.length;)if(e=a[h].toLowerCase(),n||"*"!==e){for(u=-1,s=[];++u<o.length;)if(t(o[u].toLowerCase(),e)){if(!n)return o[u];c.push(o[u])}else s.push(o[u]);o=s}return n?c:void 0}}F(),Tt(),at();iK((function(t,n){return"*"===n||t===n||Os(t,n+"-")}),!0),iK((function(t,n){var i=t.split("-"),r=n.split("-"),e=0,u=0;if("*"!==r[u]&&i[e]!==r[u])return!1;for(e++,u++;u<r.length;)if("*"!==r[u]){if(!i[e])return!1;if(i[e]!==r[u]){if(1===i[e].length)return!1;e++}else e++,u++}else u++;return!0}),!0);var rK=iK((function(t,n){for(var i,r=n;;){if("*"===r||t===r)return!0;if((i=r.lastIndexOf("-"))<0)return!1;"-"===r.charAt(i-2)&&(i-=2),r=r.slice(0,i)}}));function eK(t,n){var i=t&&"string"==typeof t?[t]:t;if(!i||"object"!==(void 0===i?"undefined":U(i))||!("length"in i))throw new p("Invalid "+n+" `"+i+"`, expected non-empty string");return i}F(),Tt(),Gt(),Dt(),qt(),F(),Tt();var uK=16384,sK=71,oK=188,aK=2,cK=3,hK=function(t){return t[t.Qk=0]="Qk",t[t.XC=1]="XC",t[t.MHt=2]="MHt",t[t.LHt=3]="LHt",t}({});function fK(t){return vK(t)?1:function(t){return function(t){if(t.length<aK*oK)return-1;for(var n=t.length<cK*oK?aK:cK,i=k.min(1e3,t.length-n*oK),r=0;r<=i;r++){for(var e=!0,u=0;u<n;u++)if(t[r+u*oK]!==sK){e=!1;break}if(e)return r}return-1}(t)>=0}(t)?2:function(t){return null!==AD(pc(t),new Ec)}(t)?3:0}function vK(t){var n=mc(t,0,k.min(t.length,uK));return dy.KD(pc(n))}var dK=function(){function t(t,n,i,r){this.pp=t,this.wot=n,this.qgt=i,this.VDt=r}var n=t.prototype;return n.BHt=function(t){return this.wot===t},n._2=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return i.wot.md.Ik===t.hHt.Urt?[3,2]:(r={Ik:t.hHt.Urt},i.wot.hJ(r)?[4,i.wot.uJ(r)]:[3,2]);case 1:e.sent(),Oo(n),e.label=2;case 2:return[4,i.wot._2(t.Zk,{L1:t.oLt.TC},n)];case 3:return e.sent(),void 0!==i.VDt&&i.pp===jg.lE&&vK(t.Zk.Zk)&&i.VDt.Pot(t.Zk.Zk),[2]}}))}))()},n.l2=function(t,n){var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return Oo(n),vz.RN("HlsMediaBuffer","Got media data, appending to "+i.pp+" MediaBuffer: "+Bz(t.EWt.Ryt)),r=t.DGt,e=t.NGt,u={hit:t.LO,ct:t.ct,PV:t.PV,L1:t.oLt.TC},void 0===t.Zk?[3,2]:[4,i.wot.l2(t.Zk,u,n)];case 1:s.sent(),i.OHt(t.Zk,t),s.label=2;case 2:return i.FHt(r,e),[2]}}))}))()},n.OHt=function(t,n){var i;if(vK(t.Zk)){var r=n.LO,e=r+n.ct,u=n.PV;if(null==(i=this.qgt)||i.ddt(t.Zk,r,u),void 0!==this.VDt&&this.pp===jg.lE){var s=n.EWt.EOt;this.VDt.ddt(t.Zk,r,e,u,n.oLt,s)}var o=[];void 0!==this.qgt&&o.push(this.qgt),void 0!==this.VDt&&o.push(this.VDt),up(this._R,o)}},n.FHt=function(t,n){for(var i=this.wot._R,r=new AA([t,n]).QL(i),e=0;e<r.V;e++)this.wot.u3(r.Cn(e),r.jn(e));for(var u=0;u<i.V;u++)this.wot.l3(i.Cn(u),i.jn(u))},n.u3=function(t,n){this.wot.u3(t,n)},n.l3=function(t,n){this.wot.l3(t,n)},Nt(t,[{key:"pw",get:function(){return this.pp}},{key:"_R",get:function(){return this.wot._R}},{key:"o3",get:function(){return this.wot.o3}}]),t}();function lK(t){if(t.pw===xz.QLt&&void 0!==t.eLt){var n=t.eLt.match(/^CC([1-4])$/);if(n)return Number(n[1]);var i=t.eLt.match(/^SERVICE([\d+])$/);return i?Number(i[1]):void 0}}F(),Tt(),F(),Tt(),F(),Tt();var gK=function(){function t(t){this.qG=t}var n=t.prototype;return n.XLt=function(t){var n,i,r;return null==(r=null==(i=this.qG)||null==(n=i.j3)?void 0:n.hJ(t))||r},n.zLt=function(t){var n,i,r;return null==(r=null==(i=this.qG)||null==(n=i.K3)?void 0:n.hJ(t))||r},t}(),wK="LLHLSPlayer",mK=[wp.DL,wp.NL,wp.ML,wp.QI],yK=[ua.Hy,ua.wy,ua.Cy,ua.Ry],pK=2e3,_K=function(t){function n(n,i,r,e,u,s,o,a){var c,h;return c=t.call(this)||this,h=c,c.dZ=r,c.fZ=e,c.DWt=u,c.AZt=s,c.UZt=is(),c.fZt=!0,c.dZt=!0,c.oZt=!1,c.iZt=void 0,c.qG=void 0,c.opt=void 0,c.cW=new Ho,c.rEt=void 0,c.BZt=void 0,c.FZt=void 0,c.VZt=void 0,c.ZHt=void 0,c.WHt=void 0,c.VHt=void 0,c.JHt=void 0,c.MZt=void 0,c.nXt=[],c.Q3=void 0,c.J3=void 0,c.mZt=void 0,c.GHt=void 0,c.GZt=void 0,c.bZt=void 0,c.rXt=new Ho,c.uZt=void 0,c.q9=new Ho,c.Y9=void 0,c.jHt=-1,c.DXt=void 0,c.MXt=void 0,c.OXt=void 0,c.PXt=void 0,c.NXt=void 0,c.BXt=void 0,c.kSt=!0,c.qZt=0,c.zZt=!1,c.zG=GT.YH,c.HG=void 0,c.ZG=void 0,c.n4=AA.fB(),c.ezt=[],c.sZt=void 0,c.nZt=void 0,c.tEt=!1,c.M9=!1,c.txt=void 0,c.ixt=0,c.sxt=0,c.rZt=void 0,c.hZt=0,c.Mkt=!1,c.XXt=!1,c.pZt=xA.qB,c.XPt=void 0,c.izt=void 0,c.Ekt=0,c.handleContentProtectionErrorEvent=function(t){c.HG=tw(t.errorObject),c.ZG=t.errorObject,c.Ds(t)},c.handleBufferingErrorEvent=function(t){c.PH(new td(Qv.MEDIA_LOAD_ERROR,t.lt.message,t.lt))},c.lxt=function(t){c.PH(nw(t.lt))},c.jXt=function(){c.DFt();var t=c.ct;t!==c.txt&&(c.txt=t,c.yo(new cT(c.txt)))},c.Sh=function(){c.kR&&c.yo(new fT(c.yR))},c.zNt=function(){c.yo(new oT(c.yR))},c.QXt=function(){c.tkt(),c.yo(new aT(c.yR))},c.WB=function(){void 0!==c.izt&&(Kn.Og(c.izt),c.izt=void 0),c.yo(new Sp(c.yR))},c.JXt=function(){c.yo(new BR(c.yR))},c.NW=function(){c.yo(new yp(c.yR,c.tI))},c.d6=function(){var t=c.cLt;_o(c.ezt,t)||(c.yo(new aj),c.ezt=t),c.yo(new vg(c.yR,c.mR))},c.wXt=bi((function(t){t.bE===jg.lE&&c.UHt()&&jo(c.HHt())}),200),c.yXt=function(t){var n;c.Ekt+=t.pUt;var i=c.rt.V>0?t.bE===jg.lE:t.bE===jg.cE;"Nut"===t.gUt&&i&&jo(c.KZt()),c.yo(new PO(function(t){if(t){if(void 0!==t.nAt){var n,i,r=t.nAt.Cn+(null!=(i=t.nAt.V)?i:0);return{qu:t.Ix,iut:[null==(n=t.nAt)?void 0:n.Cn,r],AE:!0}}return{qu:t.Ix.toString()||"",AE:!0}}return{qu:"",AE:!0}}(t.uri),(null==(n=c.hLt)?void 0:n.mG)||0,t.mediaSequenceNumeber,t.mediaTrackId,t.bE,t.httpStatusCode,t.pUt))},c.We=function(){c.yo(new vT(c.yR))},c.pH=function(){c.yo(new dT(c.yR))},c.$Xt=function(){c.qkt()},c.tzt=function(){c.yo(new lT(c.yR,c.dI))},c.YXt=function(){c.LB.nI?c.yo(new kp(c.yR)):(null!=c.izt||(c.izt=Kn.Fg((function(){c.XXt&&(c.XPt=void 0,jo(c.zHt()))}),2500)),c.tkt(),c.yo(new kp(c.yR)))},c.KXt=function(){c.XXt=!0,c.yo(new Ap(c.yR,c.tI))},c.cZt=function(t){Mo(t)||Ol(t)||Bl(t)||(c.cXt(),jo(c.dXt()),c.yo(new yz(t)))},c.rWt=function(){c.DFt()},c.wZt=function(t){jo(c.iXt(t.oLt,c.cW.Bw))},c.Xpt=function(t){if(!Mo(t)){var n=t instanceof td?t:new td(Qv.MEDIA_DECODE_ERROR,t.message,t);c.PH(n)}},c.onTextTrackChange=function(t){if(c.ZHt){var n=t.Ht,i=c.WZt(n);i&&(n.TE===Oy.RC||n.TE===Oy.Jn?(jo(c.eXt(i)),c.UZt.forEach((function(t){t!==n&&(t.TE=Oy.Ch)}))):c.JHt&&c.JHt===i&&jo(c.gZt(c.WHt,c.VHt,void 0)))}},c.retryOfflineRenditionsCallback=Zt((function(t,n){return Ht(this,(function(i){switch(i.label){case 0:return h.QHt!==t&&h.bLt!==t&&h.SLt!==t?[2]:[4,h.rEt.ZVt(t,n)];case 1:return i.sent(),t.jMt.yFt=-1/0,[2]}}))})),c.uxt=function(){c.GTt()},c.cxt=function(){c.HTt()},c.bXt=function(t){var n=c.ZHt,i=null==n?void 0:n.dOt;if(c.rEt.iWt(t.Urt,t.oLt.jMt),!i&&(c.rEt.sWt(t.Urt,t.oLt.jMt),c.kZt.BLt(),n)){var r=void 0!==c.WHt&&!mo(n.DLt,c.WHt),e=void 0!==c.VHt&&!mo(n.NLt,c.VHt);(r||e)&&c.gZt(r?void 0:c.WHt,e?void 0:c.VHt,c.JHt).catch(pi)}},c.AXt=function(t){c.kZt.VLt(t.oLt,t.Kdt)},c.SXt=function(t){c.kZt.ULt(t.oLt,t.WGt.uF())},c.TXt=function(t){c.rEt.tWt(t.oLt)},c.Lut=new yZ(o),c.LB=n,c.aW=i,c.QG=new mz(c.dZ.nj),c.$Zt=new pz(c.LB),c.jZt=new Cz(c.dZ),c.Zlt=a.retryConfiguration,c.rO=new Yg,c.hO=new Yg,c.kZt=new wz(c,c.dZ,c.rO,c.hO),c.XZt=new Xy,c.hH=new ap(c.LB,c.aW),c.qgt=new wZ(c.LB),c.VDt=new ZV(c.LB),c.Ul=new Sk([c.XZt,c.hH.Z,c.qgt.Z,c.VDt.Z,c.LB.nt]),c.iH=new Ak(c.aW),c.LB._H=c.iH,c.oxt=new kK(c,c.LB),c.ZXt=new Ip(c.oxt,!0),c.qXt(),c}It(n,t);var i=n.prototype;return i.UHt=function(){if(void 0===this.GHt)return!1;var t=Kn.Bg();if(!this.GHt.cHt.dGt(t))return!1;var n=this.GHt.cHt.aGt();if(void 0===n||void 0===n.Nut.ct)return!1;var i=this.yR,r=this.zR,e=this.GHt.vHt.uB(i);return!((void 0!==e?e.jn(0)-i:0)>=2*n.Nut.ct*r)&&(n.uGt>0&&0===n.cGt?n.lGt>1e3*n.Nut.ct*.8:8*n.cGt/this.dZ.nj.mG>=1.8*n.Nut.ct)},i.HHt=function(){var t=this;return Zt((function(){var n,i,r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return[4,t.KLt()];case 1:return void 0===(i=a.sent())||void 0===(r=null==(n=t.GHt)?void 0:n.cHt.aGt())?[2]:(e=t.ZHt,r.cGt>0&&(u=k.max(0,r.cGt-r.uGt),s=r.cGt*(i.mG/e.mG),u<=s)?[2]:(o=i.mG<e.mG,[4,t.dLt(i,{fLt:o})]));case 2:return a.sent(),[2]}}))}))()},i.XHt=function(t){return ko(t,(function(t){return t.mG}))},i.zHt=function(){var t=this;return Zt((function(){var n,i,r;return Ht(this,(function(e){switch(e.label){case 0:return[4,t.qHt()];case 1:return 0===(n=e.sent()).length?[2]:[4,t.YHt(n)];case 2:return(i=e.sent()).length>0&&(n=i),void 0===(r=t.XHt(n))?[3,4]:[4,t.dLt(r,{fLt:!0})];case 3:e.sent(),t.QG.dIt(r.mG),e.label=4;case 4:return[2]}}))}))()},i.AR=function(t,n){var i,r,e,u,s=this;vz.RN(wK,"Seeking to "+t+" s.");var o={tZt:null!=(r=null==n?void 0:n.tZt)?r:t===1/0,eZt:null==(e=null==n?void 0:n.eZt)||e,XBt:null!=(u=null==n?void 0:n.XBt)&&u};this.sZt=t,this.nZt=o,this.rZt=!0,this.tEt=!0,null==(i=this.VG)||i.SI(),this.yo(new vT(t)),this.q9.Xw(),this.oZt&&(Kn.Og(this.hZt),o.eZt?this.hZt=Kn.Fg((function(){return s.aZt(t,o)}),50):this.aZt(t,o))},i.aZt=function(t,n){Kn.Og(this.hZt);var i=[this.opt,this.uZt,this.Y9].filter(Yn);this.q9=new Ho,this.q9.zw(this.cW.Bw),this.Y9=Uo(this.K9(i,t,n,this.q9.Bw),this.q9).catch(this.cZt)},i.DFt=function(){var t=function(t){if(0===t.length)return AA.fB();for(var n=new AA([0,1/0]),i=0,r=0;r<t.length;r++){var e=t[r].jMt.iI;e.V>0&&(n=n.Sn(e),i=k.max(i,e.Cn(0)))}if(n.V>0)return n;return AA.lB(i)}([this.WHt,this.VHt].filter(Yn));0!==t.V&&(this.qG&&this.KHt&&this.qG.ct!==1/0&&(t=new AA([t.Cn(0),this.qG.ct])),this.n4=t,this.dZt&&this.qgt.$V(t.Cn(0)),this.fZt&&this.VDt.$V(t.Cn(0)))},i.TI=function(){return!1},i.pI=function(){return this.LB.wa},i._a=function(){return this.LB.aH},i.DI=function(t){return this.LB.uH(t)},i.be=function(){vz.RN(wK,"Hiding the player."),this.LB.be()},i.bI=function(){var t;vz.RN(wK,"Pausing the player."),this.LB.bI(),(null==(t=this.VG)?void 0:t._B)&&this.VG.SI()},i.AI=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:return t.M9=!0,n=t.LB.AI(),t.kR&&(i=t.Tkt).V>0&&t.AR(i.Cn(0),{eZt:!1}),t.oZt?[3,2]:[4,t.lZt()];case 1:r.sent(),r.label=2;case 2:return t.tkt(),[4,n];case 3:return r.sent(),t.eEt(),[2]}}))}))()},i.tkt=function(){var t;if(!this.Skt())if(null==(t=this.hLt)?void 0:t.jMt.sOt){var n,i=!0,r=0,e=null==(n=this.ZHt)?void 0:n.jMt.Cn;if(!this.tEt&&e&&(i=!e.XBt,(r=e.ZBt)<0)){var u=this.hLt.jMt.iFt;r+=u.jn(u.V-1)}this.aZt(r,{tZt:i})}else this.aZt(1/0,{tZt:!0});this._Zt()&&this.aZt(1/0,{tZt:!0})},i.Skt=function(){var t,n=this.Tkt;if(0===n.V)return!0;var i=null==(t=this.vZt)?void 0:t.JL(this.yR);return(i&&i>0?this.vZt.jn(i):this.yR)>=n.Cn(0)},i._Zt=function(){return NK(this.yR,this.WHt)||NK(this.yR,this.VHt)},i.OEt=function(){this.HG=void 0,this.ZG=void 0},i.PH=function(t){this.HG||(jo(this.tr()),this.HG=tw(t),this.ZG=t,this.yo(new wk(t)))},i.ge=function(){vz.RN(wK,"Showing the player."),this.LB.ge()},i.kI=function(){throw new p("Not implemented")},i.EI=function(){throw new p("Not implemented")},i.xI=function(){},i.RI=function(){this.oZt&&jo(this.gZt(this.WHt,this.VHt,this.JHt,{RI:!0}))},i.ka=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:e={stack:[],error:void 0,hasError:!1},f.label=1;case 1:return f.trys.push([1,4,5,6]),vz.RN(wK,"Setting the player source to "+t.src+"."),r.OEt(),!r.iZt||$A(r.iZt)?[3,3]:[4,r.tr()];case 2:f.sent(),Oo(i),f.label=3;case 3:return!t.src||$A(t)?[2]:(s=Yt(e,Ho.Yw([i]),!1),r.cW=Ho.Yw([s.Bw]),r.iH.yG(t.contentProtection),r.iZt=t,r.pZt=t.seamlessSwitchStrategy,r.fZt=!mo(t.ignoreEmbeddedTextTrackTypes,kw.CEA608),r.dZt=!mo(t.ignoreEmbeddedTextTrackTypes,kw.EMSG),r.yn(JH.YMt,r.handleBufferingErrorEvent),a=null!=(o=null==(u=t.latencyConfiguration)?void 0:u.targetOffset)?o:t.liveOffset,r.rEt=new ij(r.aW,r.Lut,t.useCredentials,Kn.Kp(t.src),a),r.rEt.yn(nj.EVt,r.rWt),r.rEt.yn(nj.xVt,r.wZt),r.rEt.yn(ua.By,r.Ds),r.rEt.yn(ua.Oy,r.Ds),t.hlsDateRange&&(r.yZt=new oj(r.rEt,r.LB),r.Ul.xG(r.yZt.nt)),null!=r.bZt||(r.bZt=r.AZt.uit()),n.textTracks&&r.sH(n.textTracks),t.latencyConfiguration&&(c=t.latencyConfiguration,r.VG=new pZ(r,r.LB,c),r.VG.Rt=!0,r.vI.Sa(r.VG)),dp(r.Ul),r.lZt(),s.Ww(),[3,6]);case 4:return h=f.sent(),e.error=h,e.hasError=!0,[3,6];case 5:return jt(e),[7];case 6:return[2]}}))}))()},i.lZt=function(){return this.opt=this.SZt(this.opt,this.cW.Bw).catch(this.Xpt),this.opt},i.SZt=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return t?[4,t]:[3,2];case 1:e.sent(),Oo(n),e.label=2;case 2:return i.rEt?(r=i.zG)===GT.qB||i.M9?[4,i.zE(n)]:[3,4]:[2];case 3:return e.sent(),[3,6];case 4:return r!==GT.jV?[3,6]:[4,i.TZt(n)];case 5:e.sent(),e.label=6;case 6:return[2]}}))}))()},i.TZt=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:if(void 0===n.rEt||n.Mkt)return[2];if(n.rEt.CVt)return[3,5];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,n.rEt.BVt(t)];case 2:return a.sent(),[3,4];case 3:throw Bo(i=a.sent()),n.GR=!1,new td(Qv.MANIFEST_LOAD_ERROR,"The provided HLS document could not be loaded - "+i.message,i);case 4:n.kZt.ift(),a.label=5;case 5:return[4,n.EZt()];case 6:return r=a.sent(),n.xZt(r),e=n.RZt(r.DLt),u=n.IZt(r.NLt),(s=n.CZt(r._Ot))||(o=TK(r.vOt))&&(vz.RN(wK,"Detected initial closed caption rendition."),n.PZt(r,o)),[4,n.gZt(e,u,s,{DZt:!0})];case 7:return a.sent(),n.Mkt=!0,n.oxt.fxt(),n.NZt(),[2]}}))}))()},i.NZt=function(){var t,n=[this.WHt,this.VHt].filter(Yn);if(!n.some((function(t){return t.jMt.sOt}))&&!this.VG){var i=(t=k).max.apply(t,Ft(n.map((function(t){var n;return null!=(n=t.jMt.DSt)?n:0})))),r={minimumOffset:.66*i,maximumOffset:2*i,targetOffset:1*i,forceSeekOffset:3*i,minimumPlaybackRate:SA,maximumPlaybackRate:EA};this.VG=new pZ(this,this.LB,r),this.fZ.Sa(this.VG)}},i.EZt=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:if(t.MZt=t.rEt.Tr.PLt,!t.MZt.length)throw new td(Qv.MANIFEST_LOAD_ERROR,"LLHLSPlayer - Could not select initial variant stream: the HLS stream contains no variant streams.");return[4,t.LZt(t.MZt)];case 1:if(0===(n=r.sent()).length)throw new td(Qv.MANIFEST_LOAD_ERROR,"LLHLSPlayer - Could not select initial variant stream: the HLS stream contains no variant stream with a supported codec.");return[4,t.YHt(n)];case 2:return(i=r.sent()).length>0&&(n=i),vz.RN(wK,"Selecting initial active variant stream."),[2,SK(n,t.iZt.abr,t.dZ,t.Zlt.maximumBackoff)]}}))}))()},i.RZt=function(t){if(this.BZt){var n=this.OZt(this.BZt);if(n)return n}return IK(t)},i.IZt=function(t){if(this.FZt){var n=this.OZt(this.FZt);if(n)return n}return IK(t)},i.CZt=function(t){for(var n=0,i=this.Ul.oC;n<i.length;n++){var r=i[n];r.TE===Oy.Jn&&(this.VZt=this.WZt(r))}if(this.VZt){var e=this.OZt(this.VZt);if(e)return e}return TK(t)},i.WZt=function(t){var n=this;return ao(this.ZHt._Ot,(function(i){return t===n.UZt.get(i.TC)}))},i.zE=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.oZt?[2]:[4,n.TZt(t)];case 1:return i.sent(),Oo(t),n.oZt=!0,[4,n.gZt(n.WHt,n.VHt,n.JHt,{DZt:!0})];case 2:return i.sent(),[2]}}))}))()},i.sH=function(t){for(var n=0;n<t.length;n++){var i=t[n];i.src&&this.hH.rW(i)}},i.PZt=function(t,n){if(this.fZt){for(var i=function(t){for(var n=[],i=0;i<t.length;i++){var r=t[i],e=lK(r);void 0!==e&&n.push({Vtt:e,Wtt:r.gs||"",kh:r.l})}return n}(t.vOt),r=0;r<i.length;r++){var e=i[r];this.VDt.vgt(e)}if(void 0!==n){var u=lK(n);this.VDt.fgt(u).TE=Oy.Jn}}},i.lLt=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(!this.HZt(i))throw new p("LLHLSPlayer - Could not set an allowed variant stream that does not exists in the internal HLS model.")}this.MZt=t},i.HZt=function(t){var n=this.Tr;return!!n&&mo(n.PLt,t)},i.OZt=function(t){if(t&&this.ZHt)return ao(this.ZHt.FLt,(function(n){return n===t}))},i.xZt=function(t){var n;if(vz.RN(wK,"Setting active variant stream."),this.ZHt!==t){var i=(null==(n=this.ZHt)?void 0:n.bBt)!==(null==t?void 0:t.bBt);if(this.ZHt&&i)for(var r=0,e=this.ZHt._Ot;r<e.length;r++){var u=e[r];this.lW(u)}if(this.ZHt=t,this.yo(new qj),this.qkt(),t&&i)for(var s=0,o=t._Ot;s<o.length;s++){var a=o[s];this.ZZt(a)}}},i.ZZt=function(t){var n=this.LB.DI(Gy.qV,void 0,t.l,t.gs,t.QMt,void 0,void 0,t.sLt.map(hz).filter(Yn));n.yn(kg.aa,this.onTextTrackChange),this.UZt.set(t.TC,n),this.XZt.tt(n)},i.lW=function(t){var n=this.UZt.get(t.TC);n&&(n.fn(kg.aa,this.onTextTrackChange),this.XZt.it(n),this.UZt.delete(t.TC),this.LB.lW(n))},i.qHt=function(){var t=this;return Zt((function(){var n,i,r,e;return Ht(this,(function(u){switch(u.label){case 0:return 0!==(i=null!=(n=t.MZt)?n:t.Tr.PLt).length||t.MZt?1!==i.length||t.MZt?[4,t.LZt(i)]:(vz.RN(wK,"The HLS stream contains only a single variant stream, skipping ABR selection."),[2,[]]):(vz.RN(wK,"The HLS stream does not contain any variant streams, skipping ABR selection."),[2,[]]);case 1:return 0===(r=u.sent()).length?(vz.ILt(wK,"LLHLSPlayer - No variant streams with supported codecs available to perform ABR selection on."),[2,[]]):0!==(e=RK(r,t.Zlt.maximumBackoff)).length?[3,3]:t.zZt?[2,[]]:(vz.ILt(wK,"LLHLSPlayer - No variant streams with online renditions available to perform ABR selection on."),t.qZt++,[4,t.YZt(r)]);case 2:return u.sent(),[2,[]];case 3:return[2,e]}}))}))()},i.KZt=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:return[4,t.KLt()];case 1:return void 0===(n=r.sent())?[2]:(i=!!t.ZHt&&n.mG<t.ZHt.mG,[4,t.dLt(n,{fLt:i})]);case 2:return r.sent(),[2]}}))}))()},i.KLt=function(){var t=this;return Zt((function(){var n,i,r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return[4,t.qHt()];case 1:return 0===(r=c.sent()).length?[2,void 0]:(e=PG(t.LB),[4,t.YHt(r)]);case 2:return u=c.sent(),s={ji:t.LB.ji,Ti:t.LB.Ti,ZLt:e,blt:null==(i=t.iZt)||null==(n=i.abr)?void 0:n.restrictToPlayerSize},[4,t.jZt.KLt(r,t.ZHt,u,s,new gK(t.qG))];case 3:return o=c.sent(),a=!!t.ZHt&&o.mG<t.ZHt.mG,[2,a||t.QZt(o,e)?o:void 0]}}))}))()},i.QZt=function(t,n){var i;if(t===this.hLt)return!1;var r=this.hLt&&CK(this.hLt,this.Zlt.maximumBackoff),e=CK(t,this.Zlt.maximumBackoff);if(!r&&e)return!0;(!this.XPt||this.XPt.aLt.mG>t.mG)&&(this.XPt={aLt:t,Nft:Kn.Bg()});var u,s=Kn.Bg()-this.XPt.Nft,o=null!=(u=null==(i=this.SLt)?void 0:i.jMt.HLt)?u:1/0;return n>=k.max(o-1,5)||s>1e3},i.YZt=function(t){var n=this;return Zt((function(){var i,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:n.zZt=!0,i=!1,r=0,s.label=1;case 1:if(!(r<t.length))return[3,6];e=t[r],s.label=2;case 2:return s.trys.push([2,4,,5]),void 0===(u=n.VHt?ao(e.NLt,(function(t){return $H(t,n.VHt)})):void 0)?[3,5]:[4,n.ZVt(u)];case 3:return s.sent(),u.jMt.yFt=-1/0,i=!0,[3,5];case 4:return s.sent(),[3,5];case 5:return r++,[3,1];case 6:return i?(n.qZt=0,[4,n.JZt()]):[3,8];case 7:return s.sent(),[3,10];case 8:return n.qZt>=n.Zlt.maxRetries?(n.PH(new td(Qv.MEDIA_LOAD_ERROR,"The provided video renditions could not be loaded.")),[2]):[4,Jo(k.min(n.Zlt.minimumBackoff*k.pow(2,n.qZt-1),n.Zlt.maximumBackoff))];case 9:s.sent(),s.label=10;case 10:return n.zZt=!1,[4,n.KZt()];case 11:return s.sent(),[2]}}))}))()},i.LZt=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,Io(t,Zt((function(t){var i,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return 0===(u=[(null==(i=t.Urt)?void 0:i.$Ct)?'audio/mp4; codecs="'+t.Urt.$Ct+'"':void 0,(null==(r=t.Urt)?void 0:r.ePt)?'video/mp4; codecs="'+t.Urt.ePt+'"':void 0].filter(Yn)).length?[2,!0]:[4,n.$Zt.IJ(u,null==(e=n.iZt)?void 0:e.useManagedMediaSource)];case 1:return[2,s.sent()]}}))})))];case 1:return(i=r.sent()).some((function(t){var n;return null==(n=t.Urt)?void 0:n.ePt}))&&(i=i.filter((function(t){return!t.Urt||t.Urt.ePt||0!==t.NLt.length}))),i.some((function(t){var n;return null==(n=t.Urt)?void 0:n.$Ct}))&&(i=i.filter((function(t){return!t.Urt||t.Urt.$Ct||0!==t.DLt.length}))),[2,i]}}))}))()},i.YHt=function(t){var n=this;return this.rEt.DVt?Io(t,(function(t){return function(t,n){return No.apply(this,arguments)}([IK(t.DLt),IK(t.NLt),TK(t._Ot),TK(t.vOt)].filter(Yn),(function(t){return n.tXt(t)}))})):et.resolve([])},i.tXt=function(t){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:if(0===t.jMt.Srt.length)return[2,!1];if(!(i=t.jMt.Srt[0]).Ryt)return[2,!1];r=i.Ryt,e=r.nAt?Nz(r.nAt.Cn,r.nAt.V):void 0,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,n.Lut.nrt(r.Ix,e)];case 2:return[2,u.sent()];case 3:return u.sent(),[2,!1];case 4:return[2]}}))}))()},i.dLt=function(t,n){var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:if(!i.oZt)throw new p("LLHLSPlayer - The LLHLSPlayer is not loaded.");if(!t)throw new p("LLHLSPlayer - Cannot explicitly set the active variant stream to undefined.");if(!i.HZt(t))throw new p("LLHLSPlayer - Trying to set an active variant stream that does not exists on the internal model.");return t===i.ZHt?(vz.RN(wK,"Trying to set the already active variant stream, ignoring."),[2]):(r=i.WHt?ao(t.DLt,(function(t){return $H(t,i.WHt)})):void 0,e=i.VHt?ao(t.NLt,(function(t){return $H(t,i.VHt)})):void 0,u=i.JHt?ao(t._Ot,(function(t){return $H(t,i.JHt)})):void 0,i.xZt(t),i.XPt=void 0,[4,i.gZt(r,e,u,n)]);case 1:return s.sent(),[2]}}))}))()},i.ALt=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:if(!n.ZHt)return n.BZt=t,[2];if(i=n.OZt(t),t&&!i)throw new p("LLHLSPlayer - Trying to set an invalid rendition as the active audio rendition.");return n.bLt===i?[2]:(vz.RN(wK,"Switching audio rendition"),[4,n.gZt(i,n.VHt,n.JHt,{vLt:!0})]);case 1:return r.sent(),[2]}}))}))()},i.TLt=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:if(!n.ZHt)return n.FZt=t,[2];if(i=n.OZt(t),t&&!i)throw new p("LLHLSPlayer - Trying to set an invalid rendition as the active video rendition.");return n.SLt===i?[2]:(vz.RN(wK,"Switching video rendition"),[4,n.gZt(n.WHt,i,n.JHt,{_Lt:!0})]);case 1:return r.sent(),[2]}}))}))()},i.eXt=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:if(!t)throw new p("LLHLSPlayer - Cannot explicitly set the active subtitle rendition to undefined.");if(!n.Mkt)return n.VZt=t,[2];if(!(i=n.OZt(t)))throw new p("LLHLSPlayer - Trying to set an invalid rendition as the active subtitle rendition.");return vz.RN(wK,"Switching subtitle rendition"),[4,n.gZt(n.WHt,n.VHt,i)];case 1:return r.sent(),[2]}}))}))()},i.iXt=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return i.zZt?[2]:(r=0===i.rt.V,t.pw===xz.lE||t.pw===xz.cE&&r?[3,2]:[4,i.sXt(t,n)]);case 1:return e.sent(),[3,10];case 2:return i.MZt&&i.MZt.length<=1?t.pw!==xz.lE||i.VHt===t?[3,4]:[4,i.gZt(i.WHt,t,i.JHt)]:[3,8];case 3:return e.sent(),[3,6];case 4:return t.pw===xz.cE&&r&&i.WHt!==t?[4,i.gZt(t,i.VHt,i.JHt)]:[3,6];case 5:e.sent(),e.label=6;case 6:return[4,i.sXt(t,n)];case 7:return e.sent(),[3,10];case 8:return[4,i.KZt()];case 9:e.sent(),e.label=10;case 10:return[2]}}))}))()},i.ZVt=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,5]),[4,i.rEt.ZVt(t,n)];case 1:return e.sent(),[3,5];case 2:return Bo(r=e.sent()),Ol(r)||Bl(r)?[4,i.iXt(t,n)]:[3,4];case 3:e.sent(),e.label=4;case 4:throw r;case 5:return[2]}}))}))()},i.sXt=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:if(mo(i.nXt,t))return[2];i.nXt.push(t),u.label=1;case 1:return u.trys.push([1,3,4,7]),r=t.pw===xz.qV||t.pw===xz.QLt?1/0:i.Zlt.maxRetries,[4,gT((function(){return i.retryOfflineRenditionsCallback(t,n)}),n,r,i.Zlt.minimumBackoff,i.Zlt.maximumBackoff)];case 2:return u.sent(),[3,7];case 3:return e=u.sent(),i.PH(new td(Qv.MEDIA_LOAD_ERROR,e.message,e)),[3,7];case 4:return lo(i.nXt,t),t.jMt.yFt!==-1/0?[3,6]:[4,i.JZt()];case 5:u.sent(),u.label=6;case 6:return[7];case 7:return[2]}}))}))()},i.gZt=function(t,n,i,r){void 0===r&&(r={});var e={fLt:r.fLt||!1,vLt:r.vLt||!1,_Lt:r._Lt||!1,RI:r.RI||!1,DZt:r.DZt||!1};return e.DZt||e.RI||this.WHt!==t||this.VHt!==n||this.JHt!==i?void 0===t&&void 0===n?et.reject(new p("Trying to buffer no media renditions.")):(this.WHt=t,this.VHt=n,this.JHt=i,this.DFt(),this.yo(new Jj),this.q9.Xw(),this.q9=new Ho,this.q9.zw(this.cW.Bw),this.rXt.Xw(),this.rXt=new Ho,this.rXt.zw(this.cW.Bw),this.uZt=Uo(this.oXt([this.uZt,this.Y9].filter(Yn),t,n,i,e,this.rXt.Bw),this.rXt).catch(this.cZt),this.uZt):et.resolve()},i.hXt=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a;return Ht(this,(function(c){return(o=[]).push(e.aXt(n,r)),tz(t,n)||o.push(e.aXt(t,r)),(null==(s=e.iZt)||null==(u=s.hls)?void 0:u.delaySubtitlePreload)?[2,et.all(o).then((function(){return e.aXt(i,r)}))]:(a=e.aXt(i,r),[2,et.all(Ft(o).concat([a]))])}))}))()},i.aXt=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:if(!t)return[2];e.label=1;case 1:return e.trys.push([1,3,,6]),[4,i.rEt.ZVt(t,n)];case 2:return e.sent(),[3,6];case 3:return Bo(r=e.sent()),Ol(r)||Bl(r)?[4,i.uXt(t,n)]:[3,5];case 4:e.sent(),e.label=5;case 5:return[3,6];case 6:return[2]}}))}))()},i.uXt=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return i.zZt?[2]:(r=0===i.rt.V,t.pw===xz.lE||t.pw===xz.cE&&r?[3,2]:[4,i.sXt(t,n)]);case 1:return a.sent(),[3,7];case 2:return i.MZt&&i.MZt.length<=1?[4,i.sXt(t,n)]:[3,4];case 3:return a.sent(),[3,7];case 4:return[4,i.EZt()];case 5:return e=a.sent(),i.xZt(e),u=i.RZt(e.DLt),s=i.IZt(e.NLt),o=i.CZt(e._Ot),[4,i.gZt(u,s,o)];case 6:a.sent(),a.label=7;case 7:return[2]}}))}))()},i.oXt=function(t,n,i,r,e,u){var s=this;return Zt((function(){var o,a,c,h,f,v,d,l;return Ht(this,(function(g){switch(g.label){case 0:return s.oZt?[3,2]:[4,s.hXt(n,i,r,u)];case 1:return g.sent(),[2];case 2:return[4,et.all(t.map((function(t){return t.catch(pi)})))];case 3:return g.sent(),s.cXt(),[4,s.lXt(u)];case 4:return g.sent(),[4,s.dXt()];case 5:return g.sent(),a=[],e.vLt&&s.qG&&s.qG.K3&&a.push(s.qG.K3.jS(0,1/0)),e._Lt&&s.qG&&s.qG.j3&&a.push(s.qG.j3.jS(0,1/0)),[4,et.all(a)];case 6:return g.sent(),Oo(u),[4,s.fXt(n,i,e.RI,u)];case 7:c=g.sent(),s._Xt(n,i,e.fLt||c),s.vXt(r,e.fLt),Oo(u),h=[i,tz(n,i)?void 0:n,r].filter(Yn),g.label=8;case 8:return g.trys.push([8,10,,11]),[4,et.all(h.filter((function(t){return!t.jMt.fFt})).map((function(t){var n;return null==(n=s.rEt)?void 0:n.XVt(t,u)})))];case 9:return g.sent(),[3,11];case 10:return Bo(g.sent()),[3,11];case 11:return Oo(u),s.s4(),s.DFt(),void 0!==s.sZt?s.aZt(s.sZt,s.nZt):!s.tEt&&(null==(o=s.ZHt)?void 0:o.jMt.Cn)?(f=s.ZHt.jMt,v=f.Cn,d=v.ZBt,v.ZBt<0&&(l=f.iFt,d+=l.jn(l.V-1)),s.aZt(d,{tZt:!v.XBt})):!s.tEt&&h.every((function(t){return!t.jMt.sOt}))?s.aZt(1/0,{tZt:!0}):s.$Ht.length>0&&s.mXt(),[2]}}))}))()},i.fXt=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a,c,h,f,v,d,l;return Ht(this,(function(g){switch(g.label){case 0:return o=void 0!==t&&t!==n,a=void 0!==n,[4,e.gXt(t,n,e.ZHt)];case 1:return c=g.sent(),Oo(r),i||!e.qG||c?(h=void 0!==(null==(u=e.qG)?void 0:u.K3),f=void 0!==(null==(s=e.qG)?void 0:s.j3),v=o!==h||a!==f,!i&&!v&&c&&e.qG&&e.qG.hJ(c)?[4,e.lXt(r)]:[3,4]):[2,!1];case 2:return g.sent(),[4,e.qG.uJ(c)];case 3:return g.sent(),[2,!0];case 4:for(d=0,l=e.$Ht;d<l.length;d++)l[d].aHt.forEach((function(t){return t.Xw()}));e.LB.o7(),g.label=5;case 5:return g.trys.push([5,,9,10]),e.qG?[4,e.LB.tr()]:[3,7];case 6:g.sent(),g.label=7;case 7:return[4,e.pXt(c,o,a)];case 8:return e.qG=g.sent(),[3,10];case 9:return e.LB.h7(),[7];case 10:return[2,!0]}}))}))()},i.gXt=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h,f,v,d,l,g,w,m,y,p,_,b;return Ht(this,(function(k){switch(k.label){case 0:if(s=i.Urt,o=[],void 0!==t){if(!(h=null!=(c=null==(a=t.Urt)?void 0:a.$Ct)?c:null==s?void 0:s.$Ct))return[2,void 0];f='audio/mp4; codecs="'+h+'"',vz.RN(wK,"Configuring MediaSource for initial audio rendition with codec: "+f+"."),o.push(f)}if(void 0!==n){if(!(l=null!=(d=null==(v=n.Urt)?void 0:v.ePt)?d:null==s?void 0:s.ePt))return[2,void 0];g='video/mp4; codecs="'+l+'"',vz.RN(wK,"Configuring MediaSource for initial video rendition with codec: "+g+"."),o.push(g)}return 0===o.length?(vz.ILt(wK,"No codecs found on the active variant stream."),[2,void 0]):(m=null!=(w=null==n||null==(e=n.jMt.Srt[0])?void 0:e.qBt)?w:[],p=null!=(y=null==t||null==(u=t.jMt.Srt[0])?void 0:u.qBt)?y:[],_=r.rEt.Tr,[4,Zz(r.iZt.contentProtection,o,_.lVt.concat(p).concat(m),r.aW,r.iZt.useCredentials)]);case 1:return b=k.sent(),[2,{pw:gp._W,o4:o.map((function(t){return{Ik:t}})),JG:b,g4:r.iZt.useManagedMediaSource}]}}))}))()},i.pXt=function(t,n,i){var r=this;return Zt((function(){var e;return Ht(this,(function(u){switch(u.label){case 0:return t?[4,r.LB.$n(t)]:[3,2];case 1:return e=u.sent(),[3,3];case 2:e=new nK(r.LB,n,i),u.label=3;case 3:return r.qG=e,r.s4(),r.GTt(),r.HTt(),[2,e]}}))}))()},i.s4=function(){var t=this.qG;if(t&&S(t.ct)){var n,i,r,e=null!=(r=null==(n=this.WHt)?void 0:n.jMt.ct)?r:null==(i=this.VHt)?void 0:i.jMt.ct;void 0!==e&&e>0&&t.e4(e)}this.DFt()},i.GTt=function(){var t=this.qG;t&&(t.j3&&(t.j3.mj=this.dZ.xj),t.K3&&(t.K3.mj=this.dZ.xj))},i.HTt=function(){var t=this.qG;t&&(t.j3&&(t.j3.yj=this.dZ.yj),t.K3&&(t.K3.yj=this.dZ.yj))},i._Xt=function(t,n,i){if(!this.qG)throw new p("Invalid state");this.qG.K3?this.Q3&&this.Q3.BHt(this.qG.K3)||(this.Q3=new dK(jg.cE,this.qG.K3,this.dZt?this.qgt:void 0,this.fZt?this.VDt:void 0)):this.Q3=void 0,this.qG.j3?this.J3&&this.J3.BHt(this.qG.j3)||(this.J3=new dK(jg.lE,this.qG.j3,this.dZt?this.qgt:void 0,this.fZt?this.VDt:void 0)):this.J3=void 0;var r,e=tz(t,n);if(this.J3&&n){var u=e&&this.Q3?[this.J3,this.Q3]:[this.J3];this.GHt?this.GHt.oLt!==n&&(i&&(this.GHt.Xw(),this.GHt.fHt.Nb()),this.GHt.wUt(n)):(this.GHt=function(t,n,i,r,e,u,s,o,a,c){var h=r.Tr.CL,f=new Lj(h),v=new Nj(jg.lE,t,r,f,e,u,s,c),d=n.map((function(t){return t.pw})),l=o.vTt(f,r.Tr.CL,d),g=new Kj(v,f,l,a);return g.dHt(n),g}(n,u,this.LB,this.rEt,this.aW,this.Lut,this.DWt,this.bZt,this.dZ,this.iZt.useCredentials),this.GHt.cHt.yn(Cj.vUt,this.wXt),this.GHt.cHt.yn(Cj.mUt,this.yXt),this.GHt.lHt.yn(Zj.BGt,this.bXt),this.GHt.lHt.yn(Zj.FGt,this.AXt),this.GHt.lHt.yn(Zj.VGt,this.SXt),this.GHt.lHt.yn(Zj.OGt,this.TXt)),this.GHt.dHt(u)}else{var s;null==(s=this.GHt)||s.Ww(),this.GHt=void 0}this.Q3&&t&&!e?(this.mZt?this.mZt.oLt!==t&&(i&&(this.mZt.Xw(),this.mZt.fHt.Nb()),this.mZt.wUt(t)):(this.mZt=function(t,n,i,r,e,u,s,o,a,c){var h=r.Tr.CL,f=new Lj(h),v=new Nj(jg.cE,t,r,f,e,u,s,c),d=o.vTt(f,r.Tr.CL,[n.pw]),l=new Kj(v,f,d,a);return l.dHt([n]),l}(t,this.Q3,this.LB,this.rEt,this.aW,this.Lut,this.DWt,this.bZt,this.dZ,this.iZt.useCredentials),this.mZt.cHt.yn(Cj.mUt,this.yXt),this.mZt.lHt.yn(Zj.BGt,this.bXt),this.mZt.lHt.yn(Zj.OGt,this.TXt)),this.mZt.dHt([this.Q3])):(null==(r=this.mZt)||r.Ww(),this.mZt=void 0);this.kXt()},i.vXt=function(t,n){this.GZt&&(this.GZt.cHt.oLt===t?n&&(this.GZt.Xw(),this.GZt.fHt.Nb()):(this.GZt.Ww(),this.GZt=void 0));if(!this.GZt&&t){var i=this.UZt.get(t.TC);i.TE=Oy.Jn,this.GZt=function(t,n,i,r,e,u,s){var o=i.Tr.CL,a=new Bj(n,o),c=new Lj(o),h=new Nj(jg.wk,t,i,c,r,e,u,s),f=new zj(c,o,jg.wk),v=new Kj(h,c,f);return v._Ht(a),v}(t,i,this.rEt,this.aW,this.Lut,this.DWt,this.iZt.useCredentials)}},i.kXt=function(){var t=[this.Q3,this.J3].filter(Yn).map((function(t){return t.pw}));this.rEt.Tr.CL.uVt(t)},i.K9=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return[4,et.all(t.map((function(t){return t.catch(pi)})))];case 1:return c.sent(),Oo(r),[4,e.dXt()];case 2:return c.sent(),Oo(r),e.sZt=void 0,e.rZt=void 0,e.tEt=!0,i.XBt?(s=[e.WHt,e.VHt].filter(Yn),u=AK(s)):u=e.Tkt,o=u.ZL(n),a=e.LB.uy(ua.zy,r),e.LB.Sb(o,i.tZt),e.oZt&&e.$Ht.length>0&&(e.rEt.Tr.CL.cVt(),e.EXt(e.LB.yR),e.mXt()),[4,a];case 3:return c.sent(),e.eEt(),[2]}}))}))()},i.eEt=function(){var t=this.ZB;if(!this.ZR&&!this.nI&&void 0!==t){var n,i,r=this.yR;if(t+this.yR-this.vI.md.maximumOffset<r)null==(n=this.VG)||n.Cn();else null==(i=this.VG)||i.SI()}},i.EXt=function(t){for(var n=0,i=this.$Ht;n<i.length;n++){var r=i[n];r.DUt(t)||(r.wHt(),r.fHt.kGt()),r.gHt(t)||(r.yHt(),r.fHt.EGt())}},i.cXt=function(){for(var t=0,n=this.$Ht;t<n.length;t++){n[t].Xw()}},i.dXt=function(){return et.all([this.xDt(),this.xXt(),this.RXt()])},i.mXt=function(){this.EDt(),this.IXt(),this.CXt()},i.JZt=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.oZt&&t.$Ht.length>0?(t.$Ht.forEach((function(t){return t.wHt()})),[4,t.xDt()]):[3,2];case 1:n.sent(),t.EDt(),t.$Ht.forEach((function(t){return t.cHt.VUt()})),n.label=2;case 2:return[2]}}))}))()},i.EDt=function(){var t=this;if(!this.PXt){var n=function(){t.PXt=void 0};this.DXt=new Ho,this.DXt.zw(this.cW.Bw),this.PXt=Uo(this.HDt(this.DXt.Bw),this.DXt).catch(this.cZt).then(n,n)}},i.xDt=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:return null==(n=t.DXt)||n.Xw(),i=t.PXt,t.PXt=void 0,i?[4,i]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))()},i.HDt=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c,h,f,v,d,l,g,w,m,y;return Ht(this,(function(p){switch(p.label){case 0:Oo(t),i=n.$Ht,p.label=1;case 1:0,r={stack:[],error:void 0,hasError:!1},p.label=2;case 2:for(p.trys.push([2,4,5,6]),e=[],u=n.LB.yR,s=0;s<i.length;s++)if(o=i[s],a=o.cHt,c=o.Llt(u),a.LIt)e.push(a.wWt());else if(o.pHt(u,c,n.dZ.xj)){if(void 0===(h=a.NUt(c))){if(a.oLt.jMt.sOt)continue;(f=a.oLt.jMt.Srt).length&&f[0].LO>c&&(n.yR=1/0),a.GUt(),a.BUt(c)}else v=tn(h,2),d=v[0],l=v[1],a.jat(d,l,o.oWt),o.lHt.KGt(d,l);e.push(a.wWt())}if(g=Yt(r,Ho.Yw([t]),!1),0===e.length)for(i.every((function(t){return t.cHt.oCt}))||e.push(n.LB.uy(ua.$y,g.Bw)),w=0;w<i.length;w++)m=i[w],e.push(m.lHt.uy(Zj.OGt,g.Bw));return[4,Fo(et.race(e),g.Bw)];case 3:return p.sent(),[3,6];case 4:return y=p.sent(),r.error=y,r.hasError=!0,[3,6];case 5:return jt(r),[7];case 6:return[3,1];case 7:return[2]}}))}))()},i.IXt=function(){var t=this;if(!this.NXt){var n=function(){t.NXt=void 0};this.MXt=new Ho,this.MXt.zw(this.cW.Bw),this.NXt=Uo(this.LXt(this.MXt.Bw),this.MXt).catch(this.cZt).then(n,n)}},i.xXt=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:return null==(n=t.MXt)||n.Xw(),i=t.NXt,t.NXt=void 0,i?[4,i]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))()},i.LXt=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:Oo(t),i=n.$Ht,c.label=1;case 1:for(r=[],e=0;e<i.length;e++)u=i[e],s=u.cHt,(o=u.lHt).LIt?r.push(o.wWt()):(a=s.EUt())?"Nut"===a.pw?(o.$Gt(a),r.push(o.wWt())):"JBt"===a.pw&&(o.jGt(a),r.push(o.wWt())):r.push(s.WUt());return 0!==r.length?[3,2]:[3,5];case 2:return[4,Fo(et.race(r),t)];case 3:c.sent(),c.label=4;case 4:return[3,1];case 5:return[2]}}))}))()},i.CXt=function(){var t=this;if(!this.BXt){this.OXt=new Ho,this.OXt.zw(this.cW.Bw);var n=function(){t.BXt=void 0};this.BXt=Uo(this.FXt(this.OXt.Bw),this.OXt).catch(this.cZt).then(n,n)}},i.RXt=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:return null==(n=t.OXt)||n.Xw(),i=t.BXt,t.BXt=void 0,i?[4,i]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))()},i.FXt=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:i=function(){var i,r,e,u,s,o,a,c,h,f,v,d;return Ht(this,(function(l){switch(l.label){case 0:for((i=n.$Ht).forEach((function(t){return t.Yat()})),r=n.LB.yR,e=[],u=[],s=0;s<i.length;s++)for(o=i[s],a=o.lHt,c=0,h=o.aHt;c<h.length;c++)f=h[c],v=f.fWt?e:u,f.LIt?v.push(f.wWt()):f.yWt(r)||((d=a.rHt(f.pw))?"Nut"===d.pw&&d.eOt===n.jHt?(f.Vlt(d),v.push(f.wWt())):"pCt"===d.pw&&d.eOt===n.jHt&&(f._2(d),v.push(f.wWt())):u.push(a.oHt(f.pw)));return 0!==e.length?[3,2]:[4,n.VXt(i,r,t)];case 1:if(l.sent())return[2,"continue"];l.label=2;case 2:return 0===e.length&&0===u.length?(i.every((function(t){return t.aHt.length>0&&t.aHt.every((function(t){return t.yWt(r)}))}))&&n.qG.i3(),[2,"break"]):[4,Fo(et.race(Ft(e).concat(Ft(u))),t)];case 3:return l.sent(),[2]}}))},r.label=1;case 1:return[5,zt(i())];case 2:return"break"===r.sent()?[3,3]:[3,1];case 3:return[2]}}))}))()},i.VXt=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h,f,v,d,l,g,w,m,y,p,_,b,k,A;return Ht(this,(function(T){switch(T.label){case 0:for(e=[],u=[],s=0;s<t.length;s++)for(o=t[s],a=o.Llt(n),c=0,h=o.aHt;c<h.length;c++)if((f=h[c]).fWt)if(void 0!==(v=o.lHt.rHt(f.pw))){if(v.eOt===r.jHt)return[2,!1];e.push(v)}else{if(o.LIt||o.pHt(n,a,r.dZ.xj)||!f.bWt(n,a))return[2,!1];void 0!==(d=f._Wt.oWt)&&u.push(d)}return 0===e.length?[2,!1]:(l=Ao(e,(function(t){return t.eOt})).eOt,e.every((function(t){return"pCt"===t.pw&&t.eOt===l}))?(g=ko(e,(function(t){return t.LO})).LO,w=Ft(e).concat(Ft(u)),[4,r.WXt(w)]):[3,6]);case 1:return m=T.sent(),r.UXt(m)?(vz.RLt(lz,"Seamless switch from",r.qG.md,"to",m),[4,r.qG.uJ(m)]):[3,3];case 2:return T.sent(),vz.RLt(lz,"Seamless switch complete."),[3,5];case 3:return[4,r.GXt(g,m,i)];case 4:T.sent(),T.label=5;case 5:return r.jHt=e[0].eOt,[3,7];case 6:for(y=0;y<t.length;y++)for(p=t[y],_=0,b=p.aHt;_<b.length;_++)for(k=b[_],A=p.lHt.rHt(k.pw);void 0!==A&&("pCt"!==A.pw||A.eOt!==l);)vz.RLt(lz,"Removing append for other discontinuity, expecting "+l,A),p.lHt.SWt(A),A=p.lHt.rHt(k.pw);T.label=7;case 7:return[2,!0]}}))}))()},i.UXt=function(t){return this.pZt===xA.YB||this.pZt!==xA.KB&&this.qG.hJ(t)},i.WXt=function(t){var n=this;return Zt((function(){var i,r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return r=t.map((function(t){return t.hHt.Urt})),e=r.map((function(t){return{Ik:t}})),u=bo(t,(function(t){return t.hHt.qBt})),(i=u).push.apply(i,Ft(n.rEt.Tr.lVt)),[4,Zz(n.iZt.contentProtection,r,u,n.aW,n.iZt.useCredentials)];case 1:return 0===(s=o.sent()).length&&n.qG&&n.qG.md.JG.length>0&&(s=n.qG.md.JG),[2,{pw:gp._W,o4:e,JG:s,g4:n.iZt.useManagedMediaSource}]}}))}))()},i.GXt=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:if(u=r.qG,s=u.ct,!(o=r._R.length>0&&r.yR<t))return[3,6];f.label=1;case 1:f.trys.push([1,5,,6]),vz.RLt(lz,"Marking end of stream and waiting for ended to switch discontinuity."),u.i3(),f.label=2;case 2:return!r.LB.kR&&r.LB.yR<t?[4,r.LB.uy([ua.$y,ua.xy],i)]:[3,4];case 3:return f.sent(),[3,2];case 4:return[3,6];case 5:throw a=f.sent(),u.z2(),u.e4(s),a;case 6:vz.RLt(lz,"Perform hard switch from",null==(e=r.qG)?void 0:e.md,"to",n),f.label=7;case 7:return f.trys.push([7,,10,11]),r.LB.o7(),r.yR<t&&r.LB.Sb(t,!0,!0),r.J3=void 0,r.Q3=void 0,r.kXt(),[4,r.LB.tr()];case 8:return f.sent(),[4,r.LB.$n(n)];case 9:return r.qG=f.sent(),r.s4(),r.GTt(),r.HTt(),r.qG.j3&&(r.J3=new dK(jg.lE,r.qG.j3,r.dZt?r.qgt:void 0,r.fZt?r.VDt:void 0),r.J3.u3(t-1,t)),r.qG.K3&&(r.Q3=new dK(jg.cE,r.qG.K3,r.dZt?r.qgt:void 0,r.fZt?r.VDt:void 0),r.Q3.u3(t-1,t)),r.kXt(),[3,11];case 10:return o&&jo(r.LB.AI()),r.LB.h7(),[7];case 11:return r.GHt&&(c=void 0!==r.Q3&&void 0===r.mZt,h=c?[r.J3,r.Q3]:[r.J3],r.GHt.dHt(h)),r.mZt&&r.mZt.dHt([r.Q3]),vz.RLt(lz,"Hard switch complete."),[2]}}))}))()},i.lXt=function(t){return Fo(Ko(bo(this.$Ht,(function(t){return t.aHt.map((function(t){return t.wWt()}))}))),t)},i.qkt=function(){var t=this.cI,n=this.hI;this.ixt===t&&this.sxt===n||(this.ixt=t,this.sxt=n,this.yo(new lp))},i.gn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return vz.RN(wK,"Unloading the player."),t.HXt(),t.OEt(),[4,t.tr()];case 1:return n.sent(),t.LB._H=void 0,t.XZt.gn(),[4,t.hH.gn()];case 2:return n.sent(),[4,t.qgt.gn()];case 3:return n.sent(),[4,t.VDt.gn()];case 4:return n.sent(),t.rO.gn(),t.hO.gn(),t.Ul.gn(),t.ZXt.gn(),t.oxt.Ww(),t.DWt.Ww(),t.bZt&&(t.bZt.Ww(),t.bZt=void 0),[2]}}))}))()},i.tr=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return vz.RN(wK,"Resetting the player."),t.fn(JH.YMt,t.handleBufferingErrorEvent),t.jHt=-1,t.cW.Xw(),t.q9.Xw(),t.q9=new Ho,t.q9.zw(t.cW.Bw),t.rXt.Xw(),t.rXt=new Ho,t.rXt.zw(t.cW.Bw),n=[t.opt,t.Y9,t.uZt].filter(Yn),[4,et.all(n.map((function(t){return t.catch(pi)})))];case 1:return i.sent(),t.opt=void 0,t.Y9=void 0,t.uZt=void 0,t.WHt=void 0,t.VHt=void 0,t.JHt=void 0,t.MZt=void 0,t.BZt=void 0,t.FZt=void 0,t.VZt=void 0,t.BZt=void 0,t.FZt=void 0,t.VZt=void 0,t.VG=void 0,t.fZ.tr(),t.nXt=[],t.xZt(void 0),t.cXt(),[4,t.dXt()];case 2:return i.sent(),t.mZt&&(t.mZt.Ww(),t.mZt=void 0),t.GHt&&(t.GHt.Ww(),t.GHt=void 0),t.GZt&&(t.GZt.Ww(),t.GZt=void 0),t.Q3=void 0,t.J3=void 0,t.qG=void 0,t.rEt&&(t.rEt.Ww(),t.rEt=void 0),t.yZt&&(t.Ul.DG(t.yZt.nt),t.yZt=void 0),[4,t.hH.tr()];case 3:return i.sent(),[4,t.qgt.tr()];case 4:return i.sent(),[4,t.VDt.tr()];case 5:return i.sent(),t.LB.cH(),[4,t.LB.tr()];case 6:return i.sent(),t.iZt=void 0,t.oZt=!1,t.n4=AA.fB(),t.sZt=void 0,t.txt=void 0,t.ixt=0,t.sxt=0,t.rZt=void 0,t.tEt=!1,t.M9=!1,Kn.Og(t.hZt),t.Mkt=!1,t.XXt=!1,t.Ekt=0,t.pZt=xA.qB,t.ZXt.tr(),t.zXt(),t.yo(new sT(t.yR,t.tI)),[2]}}))}))()},i.zXt=function(){for(var t=0,n=this.rO.oC;t<n.length;t++){n[t].gn()}for(var i=0,r=this.hO.oC;i<r.length;i++){r[i].gn()}for(var e=0,u=this.Ul.oC;e<u.length;e++){u[e].gn()}this.rO.tr(),this.hO.tr(),this.Ul.tr(),this.UZt.clear()},i.qXt=function(){this.ZXt.yn(mK,this.Ds),this.ZXt.yn(wp.BL,this.WB),this.ZXt.yn(wp.LL,this.YXt),this.ZXt.yn(wp.PL,this.KXt),this.dZ.yn("vj",this.uxt),this.dZ.yn("wj",this.cxt),this.LB.yn(yK,this.Ds),this.LB.yn(Vy.ua,this.lxt),this.LB.yn(ua.py,this.handleContentProtectionErrorEvent),this.LB.yn(ua.Sy,this.jXt),this.LB.yn(ua.xy,this.Sh),this.LB.yn(ua.Uy,this.zNt),this.LB.yn(ua.so,this.QXt),this.LB.yn(ua.Gy,this.JXt),this.LB.yn(wp.QI,this.NW),this.LB.yn(ua.$y,this.d6),this.LB.yn(ua.qy,this.We),this.LB.yn(ua.zy,this.pH),this.LB.yn(ua.Xy,this.$Xt),this.LB.yn(ua.eb,this.tzt)},i.HXt=function(){this.ZXt.fn(mK,this.Ds),this.ZXt.fn(wp.BL,this.WB),this.ZXt.fn(wp.LL,this.YXt),this.ZXt.fn(wp.PL,this.KXt),this.dZ.fn("vj",this.uxt),this.dZ.fn("wj",this.cxt),this.LB.fn(yK,this.Ds),this.LB.fn(Vy.ua,this.lxt),this.LB.fn(ua.py,this.handleContentProtectionErrorEvent),this.LB.fn(ua.Sy,this.jXt),this.LB.fn(ua.xy,this.Sh),this.LB.fn(ua.Uy,this.zNt),this.LB.fn(ua.so,this.QXt),this.LB.fn(ua.Gy,this.JXt),this.LB.fn(wp.QI,this.NW),this.LB.fn(ua.$y,this.d6),this.LB.fn(ua.qy,this.We),this.LB.fn(ua.zy,this.pH),this.LB.fn(ua.Xy,this.$Xt),this.LB.fn(ua.eb,this.tzt)},Nt(n,[{key:"ZB",get:function(){var t,n=[this.VHt,this.WHt].filter(Yn);if(0!==n.length&&this.ct===1/0){var i,r=null==(t=this.mR)?void 0:t.getTime();if(r)return(Date.now()-r)/1e3;for(var e=0;e<n.length;e++){var u=n[e],s=u.jMt.iI;if(0!==s.V){var o=s.jn(s.V-1)+u.jMt.DSt,a=u.jMt.gFt,c=o+(null!=a?a:0)-this.yR;(!i||i<c)&&(i=c)}}return i}}},{key:"KHt",get:function(){for(var t=[this.WHt,this.VHt].filter(Yn),n=0;n<t.length;n++){var i=t[n];if(!i.jMt.sOt)return!1;var r=i.jMt.Srt,e=r[r.length-1];if(e&&e.eOt!==this.jHt)return!1}return!0}},{key:"hLt",get:function(){return this.ZHt}},{key:"bLt",get:function(){return this.WHt}},{key:"SLt",get:function(){return this.VHt}},{key:"QHt",get:function(){return this.JHt}},{key:"ht",get:function(){return this.rO}},{key:"_R",get:function(){return this.LB._R.ks()}},{key:"cLt",get:function(){var t=[];if(this.ZHt)for(var n=this.LB.yR,i=0,r=this.$Ht;i<r.length;i++)for(var e=0,u=r[i].aHt;e<u.length;e++){var s=u[e].AWt(n);s&&!mo(t,s)&&t.push(s)}return t}},{key:"mR",get:function(){if(this.ZHt){var t=this.LB.yR;return this.ZHt.mOt(t)}},set:function(t){if(t&&this.ZHt){var n=this.ZHt.gOt(t);void 0!==n&&this.AR(n,{tZt:!1,eZt:!0})}}},{key:"bt",get:function(){return this.iZt}},{key:"yR",get:function(){var t;return null!=(t=this.sZt)?t:this.LB.yR},set:function(t){this.AR(t)}},{key:"ct",get:function(){var t,n,i,r,e,u,s;if(!this.KHt)return null!=(s=null!=(u=null!=(e=null==(t=this.WHt)?void 0:t.jMt.ct)?e:null==(n=this.VHt)?void 0:n.jMt.ct)?u:null==(r=this.rEt)||null==(i=r.MVt)?void 0:i.jMt.ct)?s:[this.WHt,this.VHt].filter(Yn).every((function(t){return function(t){if(void 0===t)return!1;return t.jMt.Srt.length>0&&!t.jMt.sOt}(t)}))?1/0:NaN;var o=this.LB.ct;if(S(o)){var a,c,h=null==(c=this.rEt)||null==(a=c.MVt)?void 0:a.jMt.ct;if(void 0!==h)return h}return o}},{key:"kR",get:function(){if(!this.KHt)return!1;if(this.nI&&this.oZt){var t,n,i=this.yR,r=null==(t=this.WHt)?void 0:t.jMt.ct,e=null==(n=this.VHt)?void 0:n.jMt.ct;return!(void 0!==r&&i<r)&&!(void 0!==e&&i<e)}return this.LB.kR}},{key:"lt",get:function(){return this.HG}},{key:"RR",get:function(){return this.ZG}},{key:"PR",get:function(){}},{key:"NR",get:function(){return!1}},{key:"LR",get:function(){return $u({},{uO:0,cO:0,lO:0,dO:0,fO:0,_O:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.LB.OR(),{fO:this.Ekt,dO:this.dZ.nj.mG})}},{key:"Tr",get:function(){var t;return null==(t=this.rEt)?void 0:t.Tr}},{key:"FR",get:function(){return this.LB.FR},set:function(t){this.LB.FR=t}},{key:"GR",get:function(){return this.kSt},set:function(t){this.kSt!==t&&(this.kSt=t,this.yo(t?new GW:new HW))}},{key:"ZR",get:function(){return this.LB.ZR}},{key:"zR",get:function(){return this.LB.zR},set:function(t){vz.RN(wK,"Setting playback rate to "+t+"."),this.LB.zR=t}},{key:"KR",get:function(){return this.Pkt.ks()}},{key:"Pkt",get:function(){return this.LB.KR}},{key:"QR",get:function(){return this.zG},set:function(t){this.zG!==t&&(this.zG=t,this.lZt())}},{key:"tI",get:function(){var t=this.LB.tI;return this.Mkt&&(t=k.max(pp.Xn,t)),t}},{key:"iI",get:function(){return this.Tkt.ks()}},{key:"Tkt",get:function(){var t=this.n4,n=[this.WHt,this.VHt].filter(Yn);if(t.V>0&&n.some((function(t){return!t.jMt.sOt}))){var i=this.Pkt,r=t.jn(t.V-1);if(i.V>0&&i.jn(i.V-1)>r){var e=i.jn(i.V-1),u=AK(n);u.V>0&&(e=k.min(e,u.jn(u.V-1))),t=t.KL(new AA([r,e]))}}return t}},{key:"nI",get:function(){var t;return null!=(t=this.rZt)?t:this.LB.nI}},{key:"YG",get:function(){}},{key:"nt",get:function(){return this.Ul}},{key:"rt",get:function(){return this.hO}},{key:"hI",get:function(){var t,n;return this.LB.hI||(null==(n=this.ZHt)||null==(t=n.HCt)?void 0:t.Ti)||0}},{key:"cI",get:function(){var t,n;return this.LB.cI||(null==(n=this.ZHt)||null==(t=n.HCt)?void 0:t.ji)||0}},{key:"dI",get:function(){return this.LB.dI},set:function(t){vz.RN(wK,"Setting volume to "+t+"."),this.LB.dI=t}},{key:"vI",get:function(){return this.fZ}},{key:"gI",get:function(){return!1},set:function(t){}},{key:"jG",get:function(){return this.QG}},{key:"vZt",get:function(){var t,n,i=null==(t=this.mZt)?void 0:t.vHt,r=null==(n=this.GHt)?void 0:n.vHt;return i?r?r.Sn(i):i:r}},{key:"$Ht",get:function(){return[this.mZt,this.GHt,this.GZt].filter(Yn)}}]),n}(na),bK=function(){function t(){}var n=t.prototype;return n.NH=function(t,n){return Zt((function(){return Ht(this,(function(n){return XA(t.type)?[2,!t.useNativePlayback]:[2,!1]}))}))()},n.MH=function(t){return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.aes128?[2,!0]:[4,__(t,!0)];case 1:return[2,n.sent()]}}))}))()},t}(),kK=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).ta=n,r}return It(n,t),n.prototype.fxt=function(){this.yo(new yp(this.yR,this.tI))},Nt(n,[{key:"tI",get:function(){return this.ta.tI}}]),n}(Rp);function AK(t){return t.reduce((function(t,n){return t.Sn(n.jMt.iFt)}),new AA([0,1/0]))}function TK(t){var n=ao(t,(function(t){return t.QMt})),i=t.filter((function(t){return t.JMt})),r=Kn.nw,e=i.map((function(t){return t.gs})).filter(Yn),u=rK(e,r);return u?ao(i,(function(t){return t.gs===u})):n}function SK(t,n,i,r){void 0===r&&(r=mT.maximumBackoff);var e=function(t,n){if(void 0===n)return t;var i=n.preferredVideoCodecs,r=n.preferredAudioCodecs;if(void 0!==i){for(var e,u=function(n){var u=i[n],s=t.filter((function(t){return t.Urt&&t.Urt.ePt&&HC(t.Urt.ePt,u)}));if(0===s.length)return"continue";if(void 0===r)return{v:s};void 0===e&&(e=s);var o=EK(s,r);return void 0!==o?{v:o}:void 0},s=0;s<i.length;s++){var o=u(s);if("object"===U(o))return o.v}if(void 0!==e)return e}if(void 0!==r){var a=EK(t,r);if(void 0!==a)return a}return t}(t,n),u=RK(e,r);switch(i.pj.type){case XI.BANDWIDTH:var s=i.Sj,o=u.filter((function(t){return t.mG<=s}));if(o.length>0)return Ao(o,(function(t){return t.mG}));case XI.PERFORMANCE:return ko(u,(function(t){return t.mG}));case XI.QUALITY:return Ao(u,(function(t){return t.mG}))}}function EK(t,n){for(var i=function(i){var r=n[i],e=t.filter((function(t){return t.Urt&&t.Urt.$Ct&&HC(t.Urt.$Ct,r)}));return 0===e.length?"continue":{v:e}},r=0;r<n.length;r++){var e=i(r);if("object"===U(e))return e.v}}function IK(t){var n;return null!=(n=TK(t))?n:t[0]}function RK(t,n){return t.filter((function(t){return CK(t,n)}))}function CK(t,n){var i=n+pK,r=0===t.NLt.length||t.NLt.some((function(t){return t.jMt.yFt<Kn.Bg()-i})),e=0===t.DLt.length||t.DLt.some((function(t){return t.jMt.yFt<Kn.Bg()-i}));return r&&e}function NK(t,n){if(!n||n.jMt.sOt)return!1;var i=n.jMt.Srt;return 0!==i.length&&i[0].LO>t}F(),Tt(),F(),Tt(),Gt(),qt();var DK=function(){function t(){}var n=t.prototype;return n.CWt=function(t,n,i){return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),[4,crypto.subtle.importKey("raw",n,{name:"AES-CBC"},!1,["decrypt"])];case 1:return r=u.sent(),[4,crypto.subtle.decrypt({name:"AES-CBC",iv:i},r,t)];case 2:return e=u.sent(),[2,new E(e)];case 3:throw u.sent(),new td(Qv.CONTENT_PROTECTION_INTERNAL_ERROR,"Error during AES128 decrypt.");case 4:return[2]}}))}))()},n.Ww=function(){},t.vT=function(){return"undefined"!=typeof crypto&&void 0!==crypto.subtle&&void 0!==crypto.subtle.decrypt},t}();F(),Tt(),F(),Tt(),Gt(),qt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Rt();var PK=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).data=i,r}return It(n,t),n}(ea),xK=["message","messageerror","error"];F(),Tt(),Rt();var LK=function(t){function n(n){var i;return(i=t.call(this,Vy.ua)||this).error=n,i}return It(n,t),n}(ea),MK=function(t){function n(n){var i;return(i=t.call(this)||this).ozt=void 0,i.hzt=[],i.czt=function(t){if(i.szt)t.uzt();else{i.ozt=t,i.ozt.yn(xK,i.Ds);for(var n=0,r=i.hzt;n<r.length;n++){var e=r[n];t.rzt(e._b,e.azt)}po(i.hzt)}},i.lzt=function(t){if(!i.szt){var n=t instanceof p?t:new p("Could not create Worker.");i.yo(new LK(n)),i.uzt()}},i.nzt=new Ho,n(i.nzt.Bw).then(i.czt,i.lzt),i}It(n,t);var i=n.prototype;return i.rzt=function(t,n){this.szt||(void 0!==this.ozt?this.ozt.rzt(t,n):this.hzt.push({_b:t,azt:n}))},i.uzt=function(){this.szt||(this.nzt.Xw(),po(this.hzt),void 0!==this.ozt&&this.ozt.uzt())},Nt(n,[{key:"szt",get:function(){return this.nzt.Bw.Nw}}]),n}(na);F(),Tt(),F(),Tt(),Rt();var OK=function(t){function n(n,i){var r;return(r=t.call(this)||this).dzt=function(t){r.yo(new PK("message",t.data))},r.fzt=function(t){r.yo(new PK("messageerror",t.data))},r.j8=function(t){null==t.preventDefault||t.preventDefault.call(t);var n=t.error instanceof p?t.error:new p(t.message);r.yo(new LK(n)),r.uzt()},r.ozt=new I(n,i),r.ozt.addEventListener("message",r.dzt),r.ozt.addEventListener("messageerror",r.fzt),r.ozt.addEventListener("error",r.j8),r}It(n,t);var i=n.prototype;return i.rzt=function(t,n){n?this.ozt.postMessage(t,n):this.ozt.postMessage(t)},i.uzt=function(){this.Bo(),this.ozt.removeEventListener("message",this.dzt),this.ozt.removeEventListener("messageerror",this.fzt),this.ozt.removeEventListener("error",this.j8),this.ozt.terminate()},n}(na);F(),Tt(),Rt();var BK=0,VK=function(t){function n(n,i){var r;(r=t.call(this)||this).vzt=function(){r._zt.removeEventListener("load",r.vzt),r._zt.contentWindow.postMessage({type:"initialize",id:r.US,script:r.gzt},"*")},r.mzt=function(t){t.origin===r.pzt&&t.data.id===r.US&&("initialized"===t.data.type||("error"===t.data.type?(r.yo(new LK(new p(t.data.data.message))),r.uzt()):r.yo(new PK("message",t.data.data))))},r.US=BK++,r.gzt=n;var e=Kn.Ah("iframe.html",i);return r._zt=function(t){var n=v.createElement("iframe");return n.width="0",n.height="0",n.style.display="none",n.role="",n.src=t,v.body.appendChild(n),n}(e.href),r.pzt=e.origin,r._zt.addEventListener("load",r.vzt),self.addEventListener("message",r.mzt),r}It(n,t);var i=n.prototype;return i.rzt=function(t,n){n?this._zt.contentWindow.postMessage({type:"message",data:t},"*",n):this._zt.contentWindow.postMessage({type:"message",data:t},"*")},i.uzt=function(){var t;this._zt.removeEventListener("load",this.vzt),self.removeEventListener("message",this.mzt),null==(t=this._zt.contentWindow)||t.postMessage({type:"terminate"},"*"),oi(this._zt)},n}(na);function FK(t,n,i){var r=Kn.Kp(t,n);return new MK((function(t){return function(t,n,i,r){return WK.apply(this,arguments)}(r,n,i,t)}))}var UK=!0;function WK(){return WK=Zt((function(t,n,i,r){var e,u,s,o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:return f.trys.push([0,2,,3]),[4,ZK(e=new OK(t,i),r)];case 1:return f.sent(),[2,e];case 2:return u=f.sent(),null==e||e.uzt(),Bo(u),[3,3];case 3:if(!UK||!kd)return[3,13];f.label=4;case 4:return f.trys.push([4,7,,8]),[4,Kn.aR.zk({qu:t,gE:ul.GET,Xk:Sd.wk,Bw:r})];case 5:return[4,f.sent().Tk(r)];case 6:return s=f.sent(),[3,8];case 7:return Bo(f.sent()),[3,8];case 8:if(!s)return[3,13];f.label=9;case 9:return f.trys.push([9,11,12,13]),a=kd([s],{type:"application/javascript"}),o=URL.createObjectURL(a),[4,ZK(e=new OK(o,i),r)];case 10:return f.sent(),[2,e];case 11:return c=f.sent(),null==e||e.uzt(),Bo(c),UK=!1,[3,13];case 12:return o&&URL.revokeObjectURL(o),[7];case 13:return f.trys.push([13,15,,16]),[4,ZK(e=new VK(t,n),r)];case 14:return f.sent(),[2,e];case 15:throw h=f.sent(),null==e||e.uzt(),h;case 16:return[2]}}))})),WK.apply(this,arguments)}function ZK(t,n){return XK.apply(this,arguments)}function XK(){return XK=Zt((function(t,n){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,t.uy(["message","error"],n)];case 1:if("error"===(i=r.sent()).type)throw function(t){return new td(Qv.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check the configuration of the libraryLocation.",t)}(i.error);if(!function(t){return $n(t)&&"9.0.0"===t.wzt}(i.data))throw new td(Qv.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check that the worker's version matches THEOplayer's version (9.0.0).");return[2,i]}}))})),XK.apply(this,arguments)}F(),Tt();var GK=function(t){return t.yzt="CWt",t.bzt="iUt",t}({}),HK=function(t){return t.Azt="Szt",t.Tzt="kzt",t}({}),zK=function(){function t(t){var n=this;this.ozt=void 0,this.Pzt=0,this.Ozt=ns(),this.Izt=function(t){var i=t.data,r=i.Fzt,e=n.Ozt.get(r);if(e)if(n.Ozt.delete(r),i.Vzt===HK.Azt)e.Mb(i.Wzt);else if(i.Vzt===HK.Tzt){var u=i.Uzt,s=i.Gzt?new p(i.Gzt):void 0,o=new td(Qv.CONTENT_PROTECTION_INTERNAL_ERROR,"Error during AES128 decrypt. (code: "+u+")",s);e.Lb(o)}},this.Czt=function(t){var i=new td(Qv.CONTENT_PROTECTION_INTERNAL_ERROR,t.error.message,t.error);n.Ww(i)},this.Rzt=t;try{this.xzt=Kn.Kp("theoplayer.d.js",t)}catch(t){throw new td(Qv.CONFIGURATION_ERROR,"Invalid player configuration: missing libraryLocation",t)}}var n=t.prototype;return n.Ezt=function(){var t=FK(this.xzt,this.Rzt,{name:"THEOplayer decrypt worker"});return t.yn("message",this.Izt),t.yn("error",this.Czt),t},n.CWt=function(t,n,i){var r=""+ ++this.Pzt,e={Dzt:GK.yzt,Nzt:r,Mzt:t,Lzt:n,Bzt:i},u=new Zc;return this.Ozt.set(r,u),null!=this.ozt||(this.ozt=this.Ezt()),this.ozt.rzt(e),u.Bb},n.Ww=function(t){void 0===t&&(t=new Lo),this.Ozt.forEach((function(n){return n.Lb(t)})),this.Ozt.clear(),this.ozt&&(this.ozt.uzt(),this.ozt=void 0)},t}();function YK(t){return DK.vT()?new DK:new zK(t)}function jK(t){var n=ao(t.boxes,KR);if(n){var i=ao(n.boxes,qR);if(i)return i.handlerType}}function KK(t){var n,i=new yv;return(n=i.boxes).push.apply(n,Ft(t.boxes)),i}function qK(t){var n,i=new Df;return(n=i.boxes).push.apply(n,Ft(t.boxes)),i}F(),Tt(),Rt(),F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Ut();var JK=8;function QK(t,n){for(var i=function(t){var n,i=new Xf;return(n=i.boxes).push.apply(n,Ft(t.boxes)),i}(t),r=tq(n),e=0;e<i.boxes.length;e++){var u=i.boxes[e];if(u===n)i.boxes[e]=new rf(new E(n.getSize()-JK));else if(JR(u)){var s=u,o=fo(s.boxes,(function(t){return t instanceof Cf&&t.trackId===r}));if(o>=0){var a=s.boxes[o],c=qK(s);c.boxes[o]=new rf(new E(a.getSize()-JK)),i.boxes[e]=c}}}return i}function $K(t,n){for(var i=function(t){var n,i=new iv;return(n=i.boxes).push.apply(n,Ft(t.boxes)),i}(t),r=0;r<i.boxes.length;r++){var e=i.boxes[r];if(tC(e)){var u=ao(e.boxes,nC);u&&u.trackId===n&&(i.boxes[r]=new rf(new E(e.getSize()-JK)))}}return i}function tq(t){return ao(t.boxes,jR).trackId}function nq(t,n,i,r){for(var e=ao(t.boxes,nC),u=i.oV(n).OF(),s=tr.ZERO,o=0,a=t.boxes;o<a.length;o++){var c=a[o];if(c instanceof Yf){s=nr(c.baseMediaDecodeTime,u),c.baseMediaDecodeTime=c.baseMediaDecodeTime.subtract(s);break}if(c instanceof zf){s=nr(tr.fromNumber(c.baseMediaDecodeTime),u),c.baseMediaDecodeTime-=s.toNumber();break}}if(!s.isZero()){var h=ao(t.boxes,iC);if(void 0!==h&&h.samples.length>0){var f=h.samples;if(!h.flags.sampleDurationPresent){h.flags.sampleDurationPresent=!0;for(var v=null!=r?r:e.defaultSampleDuration,d=0;d<f.length;d++){f[d].duration=v}}f[0].duration+=s.toNumber(),h.samples=f}}}F(),Tt();var iq="Mp4Transmuxer",rq=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).w2=void 0,n.Hzt=void 0,n.qzt=void 0,n.Yzt=void 0,n.zzt=void 0,n}It(n,t);var i=n.prototype;return i.JGt=function(t,n){Oo(n);var i=t.oLt,r=NC(pc(t.JBt.Zk.Zk));if(!r)throw new p("Mp4Transmuxer - Unable to parse "+i.pw+" MP4 initializer.");this.w2=r;var e=function(t){for(var n,i,r=0,e=t.Z;r<e.length;r++){var u=e[r];n||(n=u.e1),i||(i=u.t1)}if(n||i)return{$Ct:n,ePt:i,_Bt:void 0};return}(r);e&&this.eHt(i,e);var u=function(t){for(var n=0,i=t.Z;n<i.length;n++){var r=i[n];if(void 0!==r.i1)return r.i1}return}(r);void 0!==u&&this.iHt(i,u);var s=function(t){var n,i,r,e,u,s=Tv(t),o=ao(s.boxes,zR),a=o.boxes.filter(YR),c=ao(a,(function(t){return jK(t)===df.AUDIO})),h=ao(a,(function(t){return jK(t)===df.VIDEO})),f={$Ct:{bN:c?tq(c):void 0},ePt:{bN:h?tq(h):void 0}},v=null==(n=ao(o.boxes,JR))?void 0:n.boxes.filter(QR),d=v?{$Ct:null!=(i=ao(v,(function(t){return t.trackId===f.$Ct.bN})))?i:void 0,ePt:null!=(r=ao(v,(function(t){return t.trackId===f.ePt.bN})))?r:void 0}:void 0;if(d&&(f.$Ct.zM=null==(e=d.$Ct)?void 0:e.defaultSampleDuration,f.ePt.zM=null==(u=d.ePt)?void 0:u.defaultSampleDuration),!c||!h)return{$Ct:c?t:void 0,ePt:h?t:void 0,GV:f};var l=KK(s),g=KK(s),w=s.boxes.indexOf(o);l.boxes[w]=QK(o,h),g.boxes[w]=QK(o,c);var m=l.serialize().join(),y=g.serialize().join();return{$Ct:m,ePt:y,GV:f}}(t.JBt.Zk.Zk);if(this.Hzt=s.GV,s.ePt){var o=ao(r.Z,(function(t){return t.bN===s.GV.ePt.bN})),a={pw:"pCt",Zk:{pw:DR.QQ,Zk:s.ePt},pat:jg.lE,eOt:t.eOt,hHt:{Urt:'video/mp4; codecs="'+o.t1+'"',qBt:t.qBt},LO:t.LO,oLt:t.oLt,EWt:t.JBt.EWt};this.yGt(a)}if(s.$Ct){var c=ao(r.Z,(function(t){return t.bN===s.GV.$Ct.bN})),h={pw:"pCt",Zk:{pw:DR.QQ,Zk:s.$Ct},pat:jg.cE,eOt:t.eOt,hHt:{Urt:'audio/mp4; codecs="'+c.e1+'"',qBt:t.qBt},LO:t.LO,oLt:t.oLt,EWt:t.JBt.EWt};this.yGt(h)}return et.resolve()},i.tHt=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h,f,v,d,l,g,w,m,y,p,_,b,k,A,T,S;return Ht(this,(function(E){switch(E.label){case 0:if(Oo(n),r=t.Nut.EWt,vz.RN(iq,"Transmuxing fMP4: "+Bz(r.Ryt)),e=t.Nut.Zk,u=eq(e.Zk,i.w2),void 0!==(s=To(u.map((function(t){return t.oit})),cm))&&(r.hit=s,i.nHt(t.oLt)),i._Vt.GFt(t.eOt))return[3,2];if(o=am.cV(r.LO),u.length>0){for(a=To(u.map((function(t){return t.Zzt})),cm),c=0,h=i.XGt;c<h.length;c++)f=h[c],i._Vt.tVt(t.eOt,f,a,o,uq(r),!1);i.nHt(t.oLt)}return i._Vt.GFt(t.eOt)?[3,2]:[4,Fo(i._Vt.ZFt(t.eOt),n)];case 1:E.sent(),E.label=2;case 2:return v=i._Vt.jFt(t.eOt),d=r.hit?i._Vt.QFt(r.hit,r).uF():r.LO,l=Gj(r,d),g=Hj(r,l),m={DGt:l,NGt:g,LO:d,ct:null!=(w=r.ct)?w:0,PV:v.uF(),eOt:t.eOt,oLt:t.oLt,EWt:t.Nut.EWt},y=function(t,n){if(void 0===n.$Ct.bN)return{$Ct:void 0,ePt:t};if(void 0===n.ePt.bN)return{$Ct:t,ePt:void 0};for(var i=Tv(t),r=KK(i),e=KK(i),u=0;u<i.boxes.length;u++){var s=i.boxes[u];$R(s)&&(r.boxes[u]=$K(s,n.ePt.bN),e.boxes[u]=$K(s,n.$Ct.bN))}var o=r.serialize().join(),a=e.serialize().join();return{$Ct:o,ePt:a}}(e.Zk,i.Hzt),y.ePt&&(_=i.Hzt.ePt.bN,b=ao(i.w2.Z,(function(t){return t.bN===_})),k=ao(u,(function(t){return t.bN===_})),A=i.Xzt(y.ePt,b,k,null==(p=i.Hzt)?void 0:p.ePt.zM,r),i.zzt=b,i.sHt(t.oLt,r,k.oit.yF(s)),T=$u({pw:"Nut",Zk:{pw:DR.QQ,Zk:A},pat:jg.lE},m),i.yGt(T)),y.$Ct&&(S=$u({pw:"Nut",Zk:{pw:DR.QQ,Zk:y.$Ct},pat:jg.cE},m),i.yGt(S)),i.qzt=r,i.Yzt=u,[2]}}))}))()},i.Xzt=function(t,n,i,r,e){if(!uq(e))return t;if(!this.qzt||!this.zzt||!this.Yzt)return t;var u=this.zzt.bN,s=ao(this.Yzt,(function(t){return t.bN===u})),o=this._Vt.QFt(s.Kzt,this.qzt),a=this._Vt.QFt(i.oit,e).yF(o).oV(n.lN);if(a._F(am.xF))return t;if(a.cF(am.cV(.5)))return t;var c=XY(e)?e:e.ROt;return vz.RLt(iq,"Stretching first video frame of segment #"+c.OBt+" to fill gap of "+a.uF()+"s"),function(t,n,i,r){var e=Tv(t),u=ao(e.boxes,$R);if(u){for(var s=u.getSize(),o=0,a=u.boxes;o<a.length;o++){var c=a[o];c instanceof $f&&nq(c,n,i,r)}var h=u.getSize();if(h!==s)for(var f=h-s,v=0,d=u.boxes;v<d.length;v++){var l=d[v];l instanceof $f&&rC(l,f)}}return e.serialize().join()}(t,n.lN,a,r)},n}(Xj);function eq(t,n){var i=sy(dy.qD(pc(t)),ty.eD);if(!i)throw new p("Mp4Transmuxer - Unable to parse segment or part.");return function(t,n){for(var i=function(t,i){var e=i[t];if(!e.sL||0===e.iL.length||0===e.iL[0].uL.length)return"continue";for(var u=e.WD.bN,s=ao(n.Z,(function(t){return t.bN===u})),o=0,a=1/0,c=0,h=e.WD.zM||0,f=0,v=e.iL;f<v.length;f++)for(var d=0,l=v[f].uL;d<l.length;d++){var g,w=l[d],m=w.cL||0,y=o+m,p=(o+=null!=(g=w.ct)?g:h)+m;y<a&&(a=y),p>c&&(c=p)}var _=am.TF(e.sL.sL,s.lN);r.push({bN:u,Zzt:_,oit:_.yO(am.kF(a,s.lN)),jzt:_.yO(am.kF(o,s.lN)),Kzt:_.yO(am.kF(c,s.lN))})},r=[],e=0,u=t.Z;e<u.length;e++)i(e,u);return r}(i,n)}function uq(t){return XY(t)?t.QBt:0===t.COt&&t.ROt.QBt}var sq="MpegtsTransmuxer",oq=function(t){function n(n,i,r,e){var u;return(u=t.call(this,i,r,e)||this).sqt=void 0,u.rqt=void 0,u.hqt=void 0,u.uqt=void 0,u.oqt=-1,u.aqt=-1,u.tqt=void 0,u.eqt=is(),u.QE=n,u}It(n,t);var i=n.prototype;return i.JGt=function(n,i){return t.prototype.JGt.call(this,n,i)},i.KGt=function(n,i){if(t.prototype.KGt.call(this,n,i),!this.QE.Qzt()){var r,e=null!=(r=null==i?void 0:i.Ryt)?r:n.Ryt;if(e)/\.(ts|aac|mp3)/i.test(e.Ix)&&this.QE.Jzt()}},i.$zt=function(t){var n;return t.oLt===this.tqt&&this.eqt.has(t.eOt)?n=this.eqt.get(t.eOt):(n=fK(t.Nut.Zk.Zk),this.tqt=t.oLt,this.eqt.set(t.eOt,n)),n},i.tHt=function(n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h,f,v,d,l,g,w,m,y,p,_,b,k,A,T,S,E,I,R,C,N,D,P,x,L,M,O;return Ht(this,(function(B){switch(B.label){case 0:if(Oo(i),e=r.$zt(n),u=n.Nut,e!==hK.MHt&&e!==hK.LHt)return[2,t.prototype.tHt.call(r,n,i)];if(u.EWt.qBt.some(cq))throw new td(Qv.CONTENT_PROTECTION_NOT_SUPPORTED,"SAMPLE-AES encryption is not supported for MPEG-TS or Packed Audio segments");return s=r.QE.Jzt(),e!==hK.MHt?[3,2]:(vz.RN(sq,"Transmuxing MPEG-TS: "+Bz(u.EWt.Ryt)),[4,s.iqt({data:u.Zk.Zk,metadata:r.sqt})]);case 1:return o=B.sent(),[3,4];case 2:return vz.RN(sq,"Transmuxing raw audio: "+Bz(u.EWt.Ryt)),[4,s.nqt({data:u.Zk.Zk,metadata:r.sqt})];case 3:o=B.sent(),B.label=4;case 4:if(Oo(i),r.eHt(n.oLt,{$Ct:o.metadata.audio_codec,ePt:o.metadata.video_codec,_Bt:void 0}),o.metadata.video_frame_rate&&r.iHt(n.oLt,o.metadata.video_frame_rate),a=hq(o.metadata.first_decode_timestamp),c=hq(o.metadata.first_presentation_timestamp),h=void 0!==o.metadata.first_video_presentation_timestamp?hq(o.metadata.first_video_presentation_timestamp):void 0,u.EWt.hit=c,r.nHt(n.oLt),void 0!==h&&r.sHt(n.oLt,u.EWt,function(t,n){var i=t.yF(n);return i.mF(am.xF)&&(i=i.yO(dm())),i}(h,c)),r._Vt.GFt(n.eOt))return[3,6];for(f=am.cV(u.EWt.LO),v=0,d=r.XGt;v<d.length;v++)l=d[v],r._Vt.tVt(n.eOt,l,a,f,uq(u.EWt),!0);return r.nHt(n.oLt),r._Vt.GFt(n.eOt)?[3,6]:[4,Fo(r._Vt.ZFt(n.eOt),i)];case 5:B.sent(),B.label=6;case 6:if(g=r._Vt.$Ft(a,u.EWt),r.sqt=o.metadata,w=r._Vt.QFt(c,u.EWt).uF(),m=Gj(u.EWt,w),y=Hj(u.EWt,m),_={DGt:m,NGt:y,LO:w,ct:null!=(p=u.EWt.ct)?p:0,PV:g.uF(),eOt:n.eOt,oLt:n.oLt,EWt:u.EWt},void 0===o.data.audio_media&&void 0===o.data.video_media){for(b=0,k=r.XGt;b<k.length;b++)A=k[b],T=$u({pw:"Nut",Zk:void 0,pat:A},_),r.yGt(T);return[2]}return S=[],void 0!==o.data.audio_media?(!o.data.audio_init||r.rqt&&r.oqt===n.eOt&&Pc(r.rqt,o.data.audio_init)||(E=r._Vt.QFt(u.EWt.hit,u.EWt).uF(),I={pw:"pCt",Zk:{pw:DR.QQ,Zk:o.data.audio_init},pat:jg.cE,eOt:n.eOt,hHt:{Urt:'audio/mp4; codecs="'+o.metadata.audio_codec+'"',qBt:u.EWt.qBt},LO:E,oLt:n.oLt,EWt:u.EWt},r.rqt=o.data.audio_init,r.oqt=n.eOt,r.yGt(I)),R=$u({pw:"Nut",Zk:{pw:DR.QQ,Zk:o.data.audio_media},pat:jg.cE},_),r.yGt(R)):n.Nut.EWt.EOt&&mo(r.XGt,jg.cE)&&(C=$u({pw:"Nut",Zk:void 0,pat:jg.cE},_),r.yGt(C)),void 0!==o.data.video_media?(!o.data.video_init||r.hqt&&r.aqt===n.eOt&&Pc(r.hqt,o.data.video_init)||(N=r._Vt.QFt(u.EWt.hit,u.EWt).uF(),D={pw:"pCt",Zk:{pw:DR.QQ,Zk:o.data.video_init},pat:jg.lE,eOt:n.eOt,hHt:{Urt:'video/mp4; codecs="'+o.metadata.video_codec+'"',qBt:u.EWt.qBt},LO:N,oLt:n.oLt,EWt:u.EWt},r.hqt=o.data.video_init,r.aqt=n.eOt,r.uqt=NC(pc(o.data.video_init)),r.yGt(D)),P=r.uqt.Z[0],x=eq(o.data.video_media,r.uqt)[0],L=r.Xzt(o.data.video_media,P,x,void 0,u.EWt),r.zzt=P,M=$u({pw:"Nut",Zk:{pw:DR.QQ,Zk:L},pat:jg.lE},_),r.yGt(M),S.push(x)):n.Nut.EWt.EOt&&mo(r.XGt,jg.lE)&&(O=$u({pw:"Nut",Zk:void 0,pat:jg.lE},_),r.yGt(O)),r.qzt=u.EWt,r.Yzt=S,[2]}}))}))()},i.Xw=function(){this.rqt=void 0,this.hqt=void 0,this.oqt=-1,this.aqt=-1,t.prototype.Xw.call(this)},n}(rq),aq=function(){function t(){}return t.prototype.vTt=function(t,n,i){return new oq(this,t,n,i)},t}();function cq(t){return t.gE===Mz.eBt}function hq(t){return am.TF(tr.fromBits(t.low,t.high),t.base)}F(),Tt(),F(),Tt();var fq=function(t){return t[t.MPEGTS_TO_FMP4=0]="MPEGTS_TO_FMP4",t[t.RAW_AUDIO_TO_FMP4=1]="RAW_AUDIO_TO_FMP4",t}({}),vq=function(){var t=function(){if("undefined"==typeof WebAssembly)return!1;var t=Gn.vm;if(t>0&&t<=56)return!1;try{return void 0!==new WebAssembly.Module(pa("AGFzbQEAAAA="))}catch(t){return!1}}();return vq=function(){return t},t};var dq=function(){function t(t){var n=this;this.Pzt=0,this.Ozt=is(),this.Izt=function(t){var i=t.data;if(void 0!==i.requestId){var r=n.Ozt.get(i.requestId);if(!r)return;n.Ozt.delete(i.requestId),i.success?r.Mb(i.output):r.Lb(new td(i.errorCode,i.error))}else i.success||n.Ww(new td(i.errorCode,i.error))},this.Czt=function(t){var i=new td(Qv.MEDIA_DECODE_ERROR,t.error.message,t.error);n.Ww(i)},this.Rzt=t;var i=vq()?"THEOplayer.transmux.js":"THEOplayer.transmux.asmjs.js";try{this.xzt=Kn.Kp(i,t)}catch(t){throw new td(Qv.CONFIGURATION_ERROR,"Invalid player configuration: missing libraryLocation",t)}this.ozt=this.Ezt()}var n=t.prototype;return n.iqt=function(t){return this.cqt(fq.MPEGTS_TO_FMP4,t)},n.nqt=function(t){return this.cqt(fq.RAW_AUDIO_TO_FMP4,t)},n.Ezt=function(){var t=FK(this.xzt,this.Rzt,{name:"THEOplayer transmux worker"});return t.yn("message",this.Izt),t.yn("error",this.Czt),t},n.cqt=function(t,n){var i=++this.Pzt,r={type:t,id:i,input:n},e=new Zc;return this.Ozt.set(i,e),this.ozt.rzt(r),e.Bb},n.Ww=function(t){void 0===t&&(t=new Lo),this.Ozt.forEach((function(n){return n.Lb(t)})),this.Ozt.clear(),this.ozt.uzt()},t}(),lq=function(t){function n(n){var i;return(i=t.call(this)||this).lqt=n,i.ozt=void 0,i}It(n,t);var i=n.prototype;return i.Qzt=function(){return void 0!==this.ozt},i.Jzt=function(){var t;return null!=(t=this.ozt)?t:this.ozt=new dq(this.lqt)},i.Ww=function(){this.ozt&&(this.ozt.Ww(),this.ozt=void 0)},n}(aq),gq=function(){function t(t){this.lqt=t}return t.prototype.uit=function(){return new lq(this.lqt)},t}(),wq=function(t){function n(n,i,r,e,u,s,o,a){var c;return c=t.call(this,n,i,r,e,u,s,o,a)||this,Gn.jm&&(c.vxt=new YM(c)),c}It(n,t);var i=n.prototype;return i.wI=function(){return this.LB.wI()},i.gn=function(){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return r.sent(),null==(i=n.vxt)||i.gn(),[2]}}))}))()},Nt(n,[{key:"gI",get:function(){return this.LB.gI},set:function(t){this.LB.gI=t}}]),n}(_K),mq=function(t){function n(n,i,r,e,u,s,o,a){var c,h=new zM(n),f=h.DH(jg.lE);return(c=t.call(this,f,i,r,e,u,s,o,a)||this).mH=h,c}return It(n,t),n.prototype.gn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return i.sent(),[4,n.mH.vH(n.LB)];case 2:return i.sent(),[2]}}))}))()},n}(wq),yq=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.NH=function(n,i){var r=this;return Zt((function(){return Ht(this,(function(e){return Lr(n.useManagedMediaSource)&&(n.useManagedMediaSource||!Gn.Ka&&!Gn.Eg)?[2,t.prototype.NH.call(r,n,i)]:[2,!1]}))}))()},i.MH=function(n){var i=this;return Zt((function(){return Ht(this,(function(r){return n.clearkey&&!n.fairplay&&Gn.jm?[2,!1]:[2,t.prototype.MH.call(i,n)]}))}))()},n}(bK),pq=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).BH=_k.HC,n}It(n,t);var i=n.prototype;return i.nP=function(t,n,i,r,e,u,s){return new mq(n,i,e,u,YK(r.libraryLocation),new gq(r.libraryLocation),new dM(RM.Lg.krt,RM.Lg.Trt,RM.Lg.Srt,RM.Lg.xrt),r)},i.LH=function(){return!0},n}(yq);VT(new pq),vz.Rt=function(){var t;return Boolean(null==(t=f)?void 0:t.THEOplayerDebugLogsEnabled)},F(),Tt(),F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Gt(),Rt(),qt(),F(),Tt();var _q=function(){function t(){}var n=t.prototype;return n.nrt=function(t,n){return et.resolve(!1)},n.ort=function(t,n){return et.resolve(void 0)},n.trt=function(t){return et.resolve(void 0)},n.TQ=function(t){return et.resolve(void 0)},t}(),bq=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).fqt=void 0,e.yqt=void 0,e.vqt=void 0,e.OT=new Ho,e.bqt=function(){e.yo(new $U)},e.wc=n,e.rEt=new ij(r,new _q,n.useCredentials,n.src,n.liveOffset),e.rEt.yn(ua.Oy,e.Ds),e.E6=!1,e}It(n,t);var i=n.prototype;return i.dqt=function(){var t;return null==(t=this.fqt)?void 0:t.jMt},i.Cn=function(){var t=this;jo(gT((function(){return t._qt(t.OT.Bw)}),this.OT.Bw))},i._qt=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.rEt.BVt(t)];case 1:return i.sent(),n.vqt&&(n.mqt(n.vqt.ji,n.vqt.Ti),n.vqt=void 0),n.E6=!0,[2]}}))}))()},i.gqt=function(t,n){this.E6?this.mqt(t,n):this.vqt={ji:t,Ti:n}},i.mqt=function(t,n){var i=this.pqt(t,n),r=null==i?void 0:i.NLt[0];r!==this.fqt&&(this.wqt(),void 0!==r&&(this.fqt=r,this.yqt=new dj(this.rEt,r),this.yqt.UWt()))},i.wqt=function(){this.fqt=void 0,this.yqt&&(this.yqt.Ww(),this.yqt=void 0)},i.pqt=function(t,n){var i=ao(this.rEt.Tr.PLt,(function(i){return void 0!==i.HCt&&i.HCt.ji===t&&i.HCt.Ti===n}));return null!=i?i:this.rEt.Tr.PLt[0]},i.gn=function(){this.Bo(),this.OT.Xw(),this.OT.Ww(),this.wqt(),this.rEt.Ww()},n}(na);F(),Tt(),Dt(),Rt();var kq=function(t){function n(n){var i;(i=t.call(this)||this).c9=n;for(var r=0;r<HT.length;r++){var e=HT[r];i.c9.yn(e,i.Ds)}return i}It(n,t);var i=n.prototype;return i.AR=function(t,n){this.yR=t},i.TI=function(){return this.c9.TI()},i.pI=function(){return this.c9.pI()},i._a=function(){return this.c9._a()},i.DI=function(t){return this.c9.DI(t)},i.wI=function(){return this.c9.wI()},i.be=function(){return this.c9.be()},i.xI=function(){return this.c9.xI()},i.RI=function(){return this.c9.RI()},i.bI=function(){return this.c9.bI()},i.AI=function(){return this.c9.AI()},i.tr=function(){return this.c9.tr()},i.ka=function(t,n,i){return this.c9.ka(t,n,i)},i.ge=function(){return this.c9.ge()},i.kI=function(){return this.c9.kI()},i.EI=function(){return this.c9.EI()},i.gn=function(){this.Bo();for(var t=0;t<HT.length;t++){var n=HT[t];this.c9.fn(n,this.Ds)}return this.c9.gn()},Nt(n,[{key:"ht",get:function(){return this.c9.ht}},{key:"_R",get:function(){return this.c9._R}},{key:"mR",get:function(){return this.c9.mR},set:function(t){this.c9.mR=t}},{key:"bt",get:function(){return this.c9.bt}},{key:"yR",get:function(){return this.c9.yR},set:function(t){this.c9.yR=t}},{key:"ct",get:function(){return this.c9.ct}},{key:"kR",get:function(){return this.c9.kR}},{key:"RR",get:function(){return this.c9.RR}},{key:"PR",get:function(){return this.c9.PR}},{key:"lt",get:function(){return this.c9.lt}},{key:"NR",get:function(){return this.c9.NR}},{key:"LR",get:function(){return this.c9.LR}},{key:"FR",get:function(){return this.c9.FR},set:function(t){this.c9.FR=t}},{key:"GR",get:function(){return this.c9.GR}},{key:"ZR",get:function(){return this.c9.ZR}},{key:"zR",get:function(){return this.c9.zR},set:function(t){this.c9.zR=t}},{key:"KR",get:function(){return this.c9.KR}},{key:"QR",get:function(){return this.c9.QR},set:function(t){this.c9.QR=t}},{key:"tI",get:function(){return this.c9.tI}},{key:"iI",get:function(){return this.c9.iI}},{key:"nI",get:function(){return this.c9.nI}},{key:"YG",get:function(){return this.c9.YG}},{key:"nt",get:function(){return this.c9.nt}},{key:"hI",get:function(){return this.c9.hI}},{key:"rt",get:function(){return this.c9.rt}},{key:"cI",get:function(){return this.c9.cI}},{key:"dI",get:function(){return this.c9.dI},set:function(t){this.c9.dI=t}},{key:"vI",get:function(){return this.c9.vI}},{key:"gI",get:function(){return this.c9.gI},set:function(t){this.c9.gI=t}},{key:"jG",get:function(){return this.c9.jG}},{key:"ZB",get:function(){}}]),n}(ra),Aq=function(t){function n(n,i,r){var e;return(e=t.call(this,n)||this).Aqt=void 0,e.Tqt=!1,e.nWt=void 0,e.handleManifestUpdate=function(){var t=e.Aqt.dqt();if(t){var n=e.YG;if(n){var i=n.getTime(),r=e.nWt;r||(r=new DY,e.nWt=r),r.Yn(t.iOt,(function(t){return(t.getTime()-i)/1e3})),!e.Tqt&&r.L.V>0&&(e.nt.tt(r),e.c8.tt(r),e.Tqt=!0)}}},e.$Xt=function(){e.Aqt&&e.Aqt.gqt(e.cI,e.hI)},e.Sqt=i,e.c8=new BD(e),e.yn(ua.Xy,e.$Xt),e}It(n,t);var i=n.prototype;return i.ka=function(n,i,r){var e=this;return Zt((function(){return Ht(this,(function(u){switch(u.label){case 0:return[4,t.prototype.ka.call(e,n,i,r)];case 1:return u.sent(),n.hlsDateRange&&e.Syt(n,i),[2]}}))}))()},i.Syt=function(t,n){this.Aqt=new bq(t,n,this.Sqt),this.Aqt.yn(ua.Oy,this.handleManifestUpdate),this.Aqt.Cn()},i.tr=function(){return this.nWt&&(this.nt.it(this.nWt),this.c8.it(this.nWt),this.nWt.gn(),this.nWt=void 0,this.Tqt=!1),this.Aqt&&(this.Aqt.gn(),this.Aqt=void 0),this.c8.tr(),t.prototype.tr.call(this)},i.gn=function(){return this.fn(ua.Xy,this.$Xt),this.Aqt&&(this.Aqt.gn(),this.Aqt=void 0),this.c8.gn(),t.prototype.gn.call(this)},n}(kq);!function(t){MT.OH().FH(t)}((function(t,n,i){return new Aq(t,n,i)})),F(),Tt(),F(),Tt(),F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Gt(),qt(),F(),Tt(),Dt(),Rt();var Tq=function(t){function n(n,i){var r;return void 0===i&&(i=""),(r=t.call(this,"An error occurred while casting.")||this).errorCode=n,r.description=i,r}return It(n,t),Nt(n,[{key:"name",get:function(){return"CastError"}}]),n}(xo);function Sq(t){return Eq.apply(this,arguments)}function Eq(){return Eq=Zt((function(t){return Ht(this,(function(n){switch(n.label){case 0:return Dq()?[3,2]:[4,Iq(t)];case 1:n.sent(),n.label=2;case 2:return Nq()?[3,4]:[4,Jo(100,t)];case 3:n.sent(),n.label=4;case 4:return Nq()?[3,6]:(Kn.Mp('Detected the Chromecast library was loaded without the CAF framework. It is strongly encouraged to load it with the CAF framework by using this URL: "//www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1"'),[4,Cq()]);case 5:n.sent(),n.label=6;case 6:return[2]}}))})),Eq.apply(this,arguments)}function Iq(t){return Rq.apply(this,arguments)}function Rq(){return Rq=Zt((function(t){var n,i,r,e,u,s;return Ht(this,(function(o){return(null==t?void 0:t.Nw)?[2,et.reject(new Lo)]:(n=function(){var t,n;return{Bb:new et((function(i,r){t=i,n=r})),Mb:t,Lb:n}}(),i=n.Bb,r=n.Mb,e=n.Lb,u=f.__onGCastApiAvailable,s=function(){f.__onGCastApiAvailable=u,e(new Lo)},f.__onGCastApiAvailable=function(n,i){n?r():e(new p(i)),null==t||t.Mw(s),f.__onGCastApiAvailable=u,u&&u(n,i)},null==t||t.Lw(s),[2,i])}))})),Rq.apply(this,arguments)}var Cq=Ai((function(){return function(t){return new et((function(n,i){var r=v.createElement("script");r.onload=function(){return n()},r.onerror=function(t){return i((null==t?void 0:t.error)||t)},r.type="text/javascript",r.src=t,(v.head||v.documentElement).appendChild(r)}))}("//www.gstatic.com/cast/sdk/libs/sender/1.0/cast_framework.js").catch((function(){throw new Tq("API_NOT_INITIALIZED","The Chromecast library could not be loaded successfully.")}))}));function Nq(){return Boolean("undefined"!=typeof cast&&cast.framework)}function Dq(){return"undefined"!=typeof chrome&&chrome&&chrome.cast&&chrome.cast.isAvailable}function Pq(t,n,i,r){if(Yn(n))for(var e=0,u=b.keys(n);e<u.length;e++){var s=u[e];if("type"!==s&&"images"!==s){var o=n[s];Yn(o)&&(t[s]=o)}}!function(t,n,i,r){if(!Yn(i)&&!Yn(null==n?void 0:n.images))return;t.images=[],i&&t.images.push(new r.Image(i));if(null==n?void 0:n.images)if(ti(n.images))t.images.push(new r.Image(n.images));else if(qn(n.images))for(var e=0,u=n.images;e<u.length;e++){var s,o,a=u[e],c=void 0;if(ti(a))c=new r.Image(a);else(c=new r.Image(a.src)).height=null!=(s=a.height)?s:null,c.width=null!=(o=a.width)?o:null;t.images.push(c)}}(t,n,i,r)}function xq(t,n,i){return void 0===i&&(i=chrome),function(t,n,i){switch(null==t?void 0:t.type){case"movie":var r=new i.MovieMediaMetadata;return Pq(r,t,n,i),r;case"audio":var e=new i.MusicTrackMediaMetadata;return Pq(e,t,n,i),!Yn(e.artist)&&Yn(t.artistName)&&(e.artist=t.artistName),e;case"tv-show":var u=new i.TvShowMediaMetadata;return Pq(u,t,n,i),!Yn(u.title)&&Yn(t.episodeTitle)&&(u.title=t.episodeTitle),!Yn(u.season)&&Yn(t.seasonNumber)&&(u.season=t.seasonNumber),!Yn(u.episode)&&Yn(t.episodeNumber)&&(u.episode=t.episodeNumber),u;default:var s=new i.GenericMediaMetadata;return Pq(s,t,n,i),s}}(t,n,function(t){return{GenericMediaMetadata:t.cast.media.GenericMediaMetadata,MovieMediaMetadata:t.cast.media.MovieMediaMetadata,TvShowMediaMetadata:t.cast.media.TvShowMediaMetadata,MusicTrackMediaMetadata:t.cast.media.MusicTrackMediaMetadata,Image:t.cast.Image}}(i))}function Lq(t){switch(t){case chrome.cast.ErrorCode.CANCEL:return"CANCEL";case chrome.cast.ErrorCode.TIMEOUT:return"TIMEOUT";case chrome.cast.ErrorCode.API_NOT_INITIALIZED:return"API_NOT_INITIALIZED";case chrome.cast.ErrorCode.INVALID_PARAMETER:return"INVALID_PARAMETER";case chrome.cast.ErrorCode.EXTENSION_NOT_COMPATIBLE:return"EXTENSION_NOT_COMPATIBLE";case chrome.cast.ErrorCode.EXTENSION_MISSING:return"EXTENSION_MISSING";case chrome.cast.ErrorCode.RECEIVER_UNAVAILABLE:return"RECEIVER_UNAVAILABLE";case chrome.cast.ErrorCode.SESSION_ERROR:return"SESSION_ERROR";case chrome.cast.ErrorCode.CHANNEL_ERROR:return"CHANNEL_ERROR";case chrome.cast.ErrorCode.LOAD_MEDIA_FAILED:return"LOAD_MEDIA_FAILED";default:return"CANCEL"}}function Mq(t){if(t.items&&t.items.length>0&&t.currentItemId>=0)return ao(t.items,(function(n){return n.itemId===t.currentItemId}))}F(),Tt(),Gt(),Rt(),nn(),qt(),F(),Tt(),Dt(),Rt(),F(),Tt(),F(),Tt(),F(),Tt();var Oq="urn:x-cast:com.theoplayer.cast";F(),Tt(),F(),Tt();var Bq=function(t){return t.kqt="theoplayer_receiver_info",t.Eqt="theoplayer_trackpropertychange",t.xqt="theoplayer_propertychange",t}({});F(),Tt();var Vq=function(t){return t.SKIP_AD="SKIP_AD",t}({});F(),Tt();function Fq(t){v.createElement("img").src=t}F(),Tt(),F(),Tt(),Gt(),Dt(),qt(),F(),Tt();var Uq=new RegExp(/^(\d\d):(\d\d):(\d\d)(?:\.(\d{3}))?$/);function Wq(t){if(ti(t)){var n=t.match(Uq);if(n)return 3600*A(n[1],10)+60*A(n[2],10)+Number(n[3])+(Number(n[4])||0)/1e3}}function Zq(t){if(void 0!==t){var n=t.match(/^([1-9]?\d|100)%$/);if(n)return A(n[1])/100}}function Xq(t,n){return"vmap"===t.type||!Yn(t.type)&&!Yn(n)}function Gq(t,n){return"vast"===t.type||!Yn(t.type)&&Yn(n)}F(),Tt(),Gt(),qt(),F(),Tt(),Dt(),Rt(),F(),Tt();var Hq=function(){},zq=function(t){function n(n){var i;return(i=t.call(this)||this).Dc=n.sort((function(t,n){return t.JM-n.JM})),i}return It(n,t),n.prototype.Iqt=function(){return null!=this.Cqt||(this.Cqt=bo(this.Dc,(function(t){return t.Iqt()}))),this.Cqt},Nt(n,[{key:"Rqt",get:function(){return this.Dc}}]),n}(Hq);F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt();var Yq=function(t){function n(n,i){var r;return(r=t.call(this)||this).Pqt=n,r.Dqt=i,r.Mqt=!1,r}return It(n,t),Nt(n,[{key:"o",get:function(){return this.Pqt}},{key:"JM",get:function(){return this.Dqt}},{key:"Nqt",get:function(){return this.Mqt}}]),n}(Hq),jq=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,n,i)||this).Fqt=r,a.Wqt=e,a.Gqt=u,a.Bqt=s,a.HG=o,a}return It(n,t),n.prototype.Iqt=function(){if(void 0===this.Hqt){for(var t,n,i,r=[],e=0,u=this.Bqt;e<u.length;e++){var s=u[e];s.Zqt&&(t=s.Zqt),s.Xqt&&(n=s.Xqt),s.zqt&&(i=s.zqt),r=r.concat(s.universalAdIds)}this.Hqt={Uqt:this.Uqt,Zqt:t,qqt:n,zqt:i,lt:this.lt,Yqt:r}}return[this.Hqt]},Nt(n,[{key:"Lqt",get:function(){return this.Bqt}},{key:"Oqt",get:function(){return this.Fqt}},{key:"Vqt",get:function(){return this.Wqt}},{key:"Uqt",get:function(){return this.Gqt}},{key:"lt",get:function(){return this.HG}}]),n}(Yq);F(),Tt(),Dt(),Rt(),F(),Tt(),Dt();var Kq=function(){function t(t,n){this.jqt=t,this.Jqt=n}return Nt(t,[{key:"Kqt",get:function(){return this.jqt}},{key:"Qqt",get:function(){return this.Jqt}}]),t}(),qq=function(){function t(t,n,i,r,e,u){this.tYt=t,this.iYt=n,this.nYt=i,this.oYt=r,this.lYt=!1,this.uYt=e,this.Fqt=u}return t.prototype.dYt=function(){this.lYt=!0},Nt(t,[{key:"$qt",get:function(){return this.tYt}},{key:"eYt",get:function(){return this.iYt}},{key:"sYt",get:function(){return this.nYt}},{key:"rYt",get:function(){return this.oYt}},{key:"Yl",get:function(){return this.hYt},set:function(t){this.hYt=t}},{key:"aYt",get:function(){return this.uYt}},{key:"cYt",get:function(){return this.lYt}},{key:"Oqt",get:function(){return this.Fqt}}]),t}();F(),Tt(),Dt();var Jq=function(t){return t.fYt="all",t._Yt="any",t.YH="none",t}({});var Qq=function(){function t(t,n){this.mYt=t,this.pYt=n}return Nt(t,[{key:"vYt",get:function(){return this.mYt}},{key:"gYt",get:function(){return this.pYt}}]),t}(),$q=function(){function t(t,n,i,r,e,u,s,o,a,c,h,f,v,d,l,g){this.HA=t,this.ZA=n,this.US=i,this.yYt=r,this.AYt=e,this.TYt=u,this.EYt=s,this.RYt=o,this.CYt=a,this.DYt=c,this.tYt=h,this.iYt=f,this.nYt=v,this.MYt=d,this.LYt=l,this.OYt=g}return Nt(t,[{key:"o",get:function(){return this.US}},{key:"ji",get:function(){return this.HA}},{key:"Ti",get:function(){return this.ZA}},{key:"wYt",get:function(){return this.yYt}},{key:"bYt",get:function(){return this.AYt}},{key:"SYt",get:function(){return this.TYt}},{key:"kYt",get:function(){return this.EYt}},{key:"xYt",get:function(){return this.RYt}},{key:"IYt",get:function(){return this.CYt}},{key:"PYt",get:function(){return this.DYt}},{key:"$qt",get:function(){return this.tYt}},{key:"eYt",get:function(){return this.iYt}},{key:"sYt",get:function(){return this.nYt}},{key:"NYt",get:function(){return this.MYt}},{key:"Qqt",get:function(){return this.LYt}},{key:"BYt",get:function(){return this.OYt}}]),t}();F(),Tt(),Dt();var tJ=function(){function t(t,n){this.US=t,this.NOt=n}return Nt(t,[{key:"id",get:function(){return this.US}},{key:"uri",get:function(){return this.NOt}}]),t}(),nJ=function(){function t(t,n,i,r){this.VYt=t,this.UYt=n,this.HYt=i,this.XYt=r}return Nt(t,[{key:"FYt",get:function(){return this.VYt}},{key:"WYt",get:function(){return this.UYt}},{key:"GYt",get:function(){return this.HYt}},{key:"ZYt",get:function(){return this.XYt}}]),t}(),iJ=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return(h=t.call(this,n,i)||this).Gqt=r,h.qYt=e,h.KYt=u,h.Bqt=s,h.QYt=o,h.$Yt=a,h.HG=c,h}It(n,t);var i=n.prototype;return i.Iqt=function(){var t=this;return void 0===this.qYt?[]:(null!=this.Cqt||(this.Cqt=this.qYt.Iqt().map((function(n){return t.tKt(n)}))),this.Cqt)},i.tKt=function(t){for(var n,i,r,e=0,u=this.Lqt;e<u.length;e++){var s=u[e];s.Zqt&&(n=s.Zqt),s.Xqt&&(i=s.Xqt),s.zqt&&(r=s.zqt)}var o=t.Uqt.concat(this.Uqt),a=t.Zqt;if(n&&t.Zqt){var c=new nJ(t.Zqt.eKt.FYt,t.Zqt.eKt.WYt,t.Zqt.eKt.GYt.concat(n.eKt.GYt),t.Zqt.eKt.ZYt.concat(n.eKt.ZYt));(a=t.Zqt).eKt=c,a.Qqt=a.Qqt.concat(n.Qqt)}var h=t.qqt;if(i&&i.Kqt){for(var f,v,d=[],l=0,g=i.Kqt;l<g.length;l++){var w=g[l];d.concat(w.rYt.GYt)}for(var m,y,p=[],_=0,b=null!=(m=null==(f=t.qqt)?void 0:f.Kqt)?m:[];_<b.length;_++){var k,A,T,S=b[_],E=new nJ(S.rYt.FYt,S.rYt.WYt,S.rYt.GYt.concat(d),(null!=(A=null==(k=t.Zqt)?void 0:k.eKt.ZYt)?A:[]).concat(null!=(T=null==n?void 0:n.eKt.ZYt)?T:[]));p.push(new qq(S.$qt,S.eYt,S.sYt,E,S.aYt,S.Oqt))}h=new Kq(p,(null!=(y=null==(v=t.qqt)?void 0:v.Qqt)?y:[]).concat(i.Qqt))}var I=t.zqt;if(I){var R,C,N,D=I.vYt;r&&r.vYt&&(D=r.vYt),I=new Qq(D,(null!=(C=null==(R=t.zqt)?void 0:R.gYt)?C:[]).concat(null!=(N=null==r?void 0:r.gYt)?N:[]))}var P=t.lt;return this.lt&&(P=this.lt),{Uqt:o,Zqt:a,qqt:h,zqt:I,lt:P,Yqt:t.Yqt}},Nt(n,[{key:"Uqt",get:function(){return this.Gqt}},{key:"zYt",get:function(){return this.qYt}},{key:"YYt",get:function(){return this.KYt}},{key:"Lqt",get:function(){return this.Bqt}},{key:"jYt",get:function(){return this.QYt}},{key:"JYt",get:function(){return this.$Yt}},{key:"lt",get:function(){return this.HG}}]),n}(Yq);F(),Tt(),Dt();var rJ=function(){function t(t,n,i,r,e,u,s,o){this.US=t,this.sKt=n,this.rKt=i,this.RYt=r,this.oKt=e,this.hKt=u,this.aKt=s,this.uKt=o}return Nt(t,[{key:"o",get:function(){return this.US}},{key:"iKt",get:function(){return this.sKt}},{key:"nKt",get:function(){return this.rKt}},{key:"xYt",get:function(){return this.RYt}},{key:"Zqt",get:function(){return this.oKt}},{key:"Xqt",get:function(){return this.hKt}},{key:"zqt",get:function(){return this.aKt}},{key:"universalAdIds",get:function(){return this.uKt}}]),t}();F(),Tt(),Dt();var eJ=function(){function t(t,n,i,r,e,u,s,o){this.cKt=t,this.dKt=n,this.Jqt=i,this.fKt=r,this.vKt=e,this.lYt=!1,this.uYt=u,this.Fqt=s,this.yKt=o}return t.prototype.dYt=function(){this.lYt=!0},Nt(t,[{key:"ct",get:function(){return this.cKt}},{key:"lKt",get:function(){return this.dKt}},{key:"Qqt",get:function(){return this.Jqt},set:function(t){this.Jqt=t}},{key:"eKt",get:function(){return this.fKt},set:function(t){this.fKt=t}},{key:"_Kt",get:function(){return this.vKt},set:function(t){this.vKt=t}},{key:"mKt",get:function(){return this.lYt}},{key:"Yl",get:function(){return this.hYt},set:function(t){this.hYt=t}},{key:"aYt",get:function(){return this.uYt}},{key:"Oqt",get:function(){return this.Fqt}},{key:"gKt",get:function(){return this.pKt},set:function(t){this.pKt=t}},{key:"wKt",get:function(){return this.yKt}}]),t}();function uJ(t,n){return cJ(t)&&t.getAttribute(n)||void 0}function sJ(t,n){return oJ(t,n,void 0,!1)}function oJ(t,n,i,r){return n===(t.localName?t.localName:t.nodeName)&&(r&&i?i===t.namespaceURI:!i||!t.namespaceURI||i===t.namespaceURI)}function aJ(t,n){for(var i=[],r=0;r<t.childNodes.length;r+=1){var e=t.childNodes.item(r);cJ(e)&&sJ(e,n)&&i.push(e)}return i}function cJ(t){return t&&1===t.nodeType}function hJ(t,n){var i=(new DOMParser).parseFromString(t,n);if(!i||i.getElementsByTagName("parsererror").length>0)throw new p('Invalid document for MIME type "'+n+'"');return i}function fJ(t){return hJ(t,"text/xml")}function vJ(t){return t.replace(/[<>&'"]/g,(function(t){switch(t){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&apos;";case'"':return"&quot;";default:return t}}))}function dJ(t){return"data:application/xml,"+encodeURIComponent(t)}F(),Tt(),F(),Tt(),Dt();var lJ=function(t){return t.bKt="mute",t.AKt="unmute",t.Uy="pause",t.SKt="resume",t.TKt="rewind",t.kKt="skip",t.EKt="playerExpand",t.xKt="playerCollapse",t.RKt="fullscreen",t.IKt="exitFullscreen",t.CKt="expand",t.COLLAPSE="collapse",t.sTt="start",t.PKt="firstQuartile",t.DKt="thirdQuartile",t.NKt="midpoint",t.MKt="complete",t.LKt="acceptInvitationLinear",t.BKt="acceptInvitation",t.OKt="timeSpentViewing",t.FKt="otherAdInteraction",t.Gy="progress",t.VKt="creativeView",t.WKt="adExpand",t.UKt="adCollapse",t.GKt="minimize",t.HKt="close",t.ZKt="closeLinear",t.XKt="overlayViewDuration",t.zKt="breakStart",t.qKt="breakEnd",t.ua="error",t}({});function gJ(t){switch(t){case"breakStart":case"breakEnd":case"error":return!0;default:return!1}}var wJ=["mute","unmute","pause","resume","rewind","skip","closeLinear","close","playerExpand","playerCollapse","fullscreen","exitFullscreen","expand","collapse","creativeView","start","firstQuartile","midpoint","thirdQuartile","complete","acceptInvitationLinear","acceptInvitation","timeSpentViewing","otherAdInteraction","progress"];function mJ(t){return void 0!==t&&-1!==wJ.indexOf(t)}var yJ=["start","firstQuartile","midpoint","thirdQuartile","complete","mute","unmute","pause","resume","rewind","skip","playerExpand","playerCollapse","expand","collapse","fullscreen","exitFullscreen","creativeView","acceptInvitation","adExpand","adCollapse","minimize","close","overlayViewDuration","otherAdInteraction","progress"];function pJ(t){return void 0!==t&&-1!==yJ.indexOf(t)}var _J=["mute","unmute","pause","resume","rewind","skip","playerExpand","playerCollapse","creativeView"];function bJ(t){return void 0!==t&&-1!==_J.indexOf(t)}function kJ(t,n){if(void 0!==t&&""!==t&&void 0!==n){var i=t.match(/^(\d+):(\d+):(\d+)$/);return i?T(i[1]||"0")+60*T(i[2]||"0")+T(i[3]||"0"):(i=t.match(/^(100|[1-9]\d|\d)%$/))?T(i[1]||"0")*n/100:void 0}}var AJ=function(){function t(t,n,i){this.YKt=t,this.KKt=n,this.jKt=i}return Nt(t,[{key:"LX",get:function(){return this.YKt}},{key:"tc",get:function(){return this.KKt}},{key:"eventURL",get:function(){return this.jKt}}]),t}();F(),Tt(),Dt(),Rt();var TJ=function(){function t(t){this.JKt=t}return Nt(t,[{key:"QKt",get:function(){return this.JKt}}]),t}(),SJ=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n)||this).tjt=i,u.VYt=r,u.OYt=e,u}return It(n,t),Nt(n,[{key:"FYt",get:function(){return this.VYt}},{key:"BYt",get:function(){return this.OYt}},{key:"$Kt",get:function(){return this.tjt}}]),n}(TJ),EJ=function(t){function n(n){return t.call(this,n)||this}return It(n,t),n}(TJ),IJ=function(t){function n(n){return t.call(this,n)||this}return It(n,t),n}(TJ);F(),Tt(),Dt();var RJ={ejt:{Ob:100,_b:"XML parsing error."},ijt:{Ob:303,_b:"Empty or invalid VAST error."},sjt:{Ob:400,_b:"General linear error"},njt:{Ob:403,_b:"Unsupported MIME-type or missing mediafiles error"},rjt:{Ob:500,_b:"General nonlinear error"},uX:{Ob:900,_b:"Network error"}},CJ=function(){function t(t){this.hjt=t}return t.prototype.ajt=function(t){if(this.ojt){var n=this.ojt.replace(/\[ERRORCODE]/,""+t.Ob);Fq(n)}},Nt(t,[{key:"ojt",get:function(){return this.hjt}}]),t}();F(),Tt(),Dt(),Rt();var NJ=function(t){function n(n,i,r,e){var u;return(u=t.call(this,r||i&&xJ[i]||n,e)||this).cjt=n,u.djt=i,u.fjt=r,u}return It(n,t),Nt(n,[{key:"ujt",get:function(){return this.cjt}},{key:"ljt",get:function(){var t;return null!=(t=this.djt)?t:900}}]),n}(xo),DJ=function(t){return t.ADBLOCK="adblock",t.NETWORK="network",t.PARSING="parsing",t.PLAYBACK="playback",t.GENERAL="general",t}({}),PJ=function(t){return t[t.VAST_MALFORMED_RESPONSE=100]="VAST_MALFORMED_RESPONSE",t[t.VAST_SCHEMA_VALIDATION_ERROR=101]="VAST_SCHEMA_VALIDATION_ERROR",t[t.VAST_UNSUPPORTED_VERSION=102]="VAST_UNSUPPORTED_VERSION",t[t.VAST_TRAFFICKING_ERROR=200]="VAST_TRAFFICKING_ERROR",t[t.VAST_UNEXPECTED_LINEARITY=201]="VAST_UNEXPECTED_LINEARITY",t[t.VAST_UNEXPECTED_DURATION_ERROR=202]="VAST_UNEXPECTED_DURATION_ERROR",t[t.UNEXPECTED_SIZE=203]="UNEXPECTED_SIZE",t[t.VAST_WRAPPER_ERROR=300]="VAST_WRAPPER_ERROR",t[t.VAST_LOAD_TIMEOUT=301]="VAST_LOAD_TIMEOUT",t[t.VAST_TOO_MANY_REDIRECTS=302]="VAST_TOO_MANY_REDIRECTS",t[t.VAST_NO_ADS_AFTER_WRAPPER=303]="VAST_NO_ADS_AFTER_WRAPPER",t[t.GENERAL_LINEAR_ERROR=400]="GENERAL_LINEAR_ERROR",t[t.FILE_NOT_FOUND=401]="FILE_NOT_FOUND",t[t.VAST_MEDIA_LOAD_TIMEOUT=402]="VAST_MEDIA_LOAD_TIMEOUT",t[t.VAST_LINEAR_ASSET_MISMATCH=403]="VAST_LINEAR_ASSET_MISMATCH",t[t.VAST_PROBLEM_DISPLAYING_MEDIA_FILE=405]="VAST_PROBLEM_DISPLAYING_MEDIA_FILE",t[t.MEZZANINE_FILE_REQUIRES=406]="MEZZANINE_FILE_REQUIRES",t[t.MEZZANINE_FILE_DOWNLOADED_FIRST_TIME=407]="MEZZANINE_FILE_DOWNLOADED_FIRST_TIME",t[t.AD_IN_VAST_REJECTED=408]="AD_IN_VAST_REJECTED",t[t.INTERACTIVE_CREATIVE_NOT_EXECUTED=409]="INTERACTIVE_CREATIVE_NOT_EXECUTED",t[t.VERIFICATION_CODE_NOT_EXECUTED=410]="VERIFICATION_CODE_NOT_EXECUTED",t[t.GENERAL_NON_LINEAR_ERROR=500]="GENERAL_NON_LINEAR_ERROR",t[t.NONLINEAR_DIMENSIONS_ERROR=501]="NONLINEAR_DIMENSIONS_ERROR",t[t.OVERLAY_AD_LOADING_FAILED=502]="OVERLAY_AD_LOADING_FAILED",t[t.VAST_NONLINEAR_ASSET_MISMATCH=503]="VAST_NONLINEAR_ASSET_MISMATCH",t[t.GENERAL_COMPANION_AD_ERROR=600]="GENERAL_COMPANION_AD_ERROR",t[t.INVALID_DIMENSIONS_COMPANION_AD=601]="INVALID_DIMENSIONS_COMPANION_AD",t[t.COMPANION_REQUIRED_ERROR=602]="COMPANION_REQUIRED_ERROR",t[t.COMPANION_AD_LOADING_FAILED=603]="COMPANION_AD_LOADING_FAILED",t[t.UNABLE_TO_FIND_SUPPORTED_COMPANION=604]="UNABLE_TO_FIND_SUPPORTED_COMPANION",t[t.UNKNOWN_ERROR=900]="UNKNOWN_ERROR",t[t.GENERAL_VPAID_ERROR=901]="GENERAL_VPAID_ERROR",t[t.MALFORMED_URI=1005]="MALFORMED_URI",t[t.VAST_ASSET_NOT_FOUND=1007]="VAST_ASSET_NOT_FOUND",t[t.VAST_EMPTY_RESPONSE=1009]="VAST_EMPTY_RESPONSE",t[t.UNKNOWN_AD_RESPONSE=1010]="UNKNOWN_AD_RESPONSE",t[t.UNSUPPORTED_LOCALE=1011]="UNSUPPORTED_LOCALE",t[t.INVALID_ARGUMENTS=1101]="INVALID_ARGUMENTS",t[t.INVALID_ADX_EXTENSION=1105]="INVALID_ADX_EXTENSION",t[t.AUTOPLAY_DISALLOWED=1205]="AUTOPLAY_DISALLOWED",t}({}),xJ={100:"XML parsing error.",101:"VAST schema validation error.",102:"VAST version of response not supported.",200:"Trafficking error. The video player received an ad type that it was not expecting and/or cannot display.",201:"Video player expecting different linearity.",202:"Video player expecting different duration.",203:"Video player expecting different size.",300:"General wrapper error.",301:"Timeout of VAST URI provided in wrapper element, or of VAST URI provided in a subsequent wrapper element. This includes request errors such as invalid URI, unreachable or request timeout for URI, and security or other exceptions related to requesting a VAST URI.",302:"Wrapper limit reached, as defined by the video player. Too many wrapper responses have been received with no InLine response. This can be caused by a circular loop of daisy chaining (one network bouncing to another and another).",303:"No ads VAST response after one or more wrappers. This also includes the number of empty VAST responses from fallback.",400:"General linear error. The video player is unable to display the linear ad.",401:"File not found. Unable to find Linear/MediaFile from URI.",402:"Unable to download or timeout of MediaFile URI.",403:"Could not find a media file that is supported by this video player, based on the attributes of the MediaFile element.",405:"Problem displaying a media file.",406:"A mezzanine file was required, but not provided.",407:"The mezzanine file was downloaded for the first time, so the ad did not serve. This can occur when an ad insertion is missed because the creative is being transcoded. It continues to occur until the creative is available for insertion.",408:"The ad returned in the VAST response was rejected.",409:"The interactive creative defined in the InteractiveCreativeFile node was not executed.",410:"The code referenced in the Verification node was not executed.",500:"General NonLinearAds error.",501:"Unable to display non-linear ad because creative dimensions do not align with creative display area (in other words, the creative dimension was too large). This can occur if you use CSS styles to set width and height of the video ,content element. You should instead use the width and height HTML attributes.",502:"Unable to fetch NonLinearAds/NonLinear resource.",503:"Could not find NonLinearResource with supported type. This can occur when a creative size is larger than the player size.",600:"General CompanionAds error.",601:"Unable to display companion because creative dimensions do not fit within the companion display area (in other words, space was not available).",602:"Unable to display required companion.",603:"Unable to fetch CompanionAds/Companion resource.",604:"Could not find Companion resource with supported type.",900:"VAST 2 error. Even if you request VAST 3 or your DFP network default is VAST 3, this can occur if you have a VAST redirect that returns a VAST 2 response.",901:"General VPAID error",1005:"URI malformed."};function LJ(t){if(!t)return!1;switch(t.toLocaleLowerCase()){case oA.HC:case oA.ZC:case oA.GC:return!0;default:return!1}}function MJ(t){var n=Ii();return!!(LJ(t)||t&&n&&(null==n?void 0:n.canPlayType)&&n.canPlayType(t))||(BJ("Invalid or unsupported MediaFile Content delivery type, skipping mediafile"),!1)}function OJ(t,n){for(var i=0;i<n.length;i++){var r=n[i];new CJ(r).ajt(t)}}function BJ(t){0}F(),Tt(),F(),Tt(),Dt();var VJ=function(){function t(t,n){this.vjt=t,this.gjt=n}return Nt(t,[{key:"_jt",get:function(){return this.vjt}},{key:"mjt",get:function(){return this.gjt}}]),t}(),FJ=function(){function t(){}var n=t.prototype;return n.pjt=function(n,i){var r=this;return Zt((function(){var e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return Xq(n.sources,n.timeOffset)?[4,t.wjt(n.sources.src,i)]:[3,7];case 1:if(e=a.sent(),!(u=e&&e.documentElement))throw new NJ(DJ.NETWORK,PJ.VAST_SCHEMA_VALIDATION_ERROR,"Ad source is not a valid XML document.");return sJ(u,"VMAP")?[4,r.yjt(u,n,i)]:[3,3];case 2:return[2,a.sent()];case 3:return sJ(u,"VAST")?[4,r.bjt(u,i,!1)]:[3,5];case 4:return(s=a.sent())?(o=new GJ("",!0,!0,s),[2,[new ZJ("start",o,UJ.Ajt,"",[],!1,!0,n)]]):[2,[]];case 5:throw new NJ(DJ.GENERAL,PJ.VAST_MALFORMED_RESPONSE,"Only VMAP and VAST files are allowed as ad source.");case 6:return[3,8];case 7:if(Gq(n.sources,n.timeOffset))return[2,[new XJ(String(n.timeOffset),n,i)]];throw new NJ(DJ.GENERAL,PJ.VAST_MALFORMED_RESPONSE,"Something went wrong parsing the ad source; only VMAP and VAST files are allowed as ad source.");case 8:return[2]}}))}))()},n.Sjt=function(n,i,r,e){void 0===e&&(e=[]);var u=this;return Zt((function(){var s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,t.wjt(n,i)];case 1:return s=c.sent(),[3,3];case 2:throw o=c.sent(),OJ(o instanceof NJ&&o.ljt===PJ.VAST_MALFORMED_RESPONSE?RJ.ijt:RJ.uX,e),o;case 3:return(a=s&&s.documentElement)&&sJ(a,"VAST")?[4,u.bjt(a,i,r,e)]:[3,5];case 4:return[2,c.sent()];case 5:a&&sJ(a,"VMAP")&&Hr("Received VMAP ad when expecting VAST. Please set the type of your ad source in the configuration, or make sure to not set a timeOffset for VMAP ad sources. VMAP ads have their own offsets included."),c.label=6;case 6:return[2,void 0]}}))}))()},n.Tjt=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:if(!(null==(u=t.sources)?void 0:u.src))throw new NJ(DJ.GENERAL,PJ.MALFORMED_URI,"Property src on adSource is missing.");return[4,e.Sjt(t.sources.src,r,!1)];case 1:return s=c.sent(),o=new GJ("",!0,!0,s),(a=new ZJ(n,o,UJ.Ajt,"",[],!1,!0,t)).kjt=i,[2,a]}}))}))()},n.bjt=function(t,n,i,r){void 0===r&&(r=[]);var e=this;return Zt((function(){var u,s,o,a,c,h,f,v,d,l,g,w;return Ht(this,(function(m){switch(m.label){case 0:if(u=[],s=[],o=[],!t||!sJ(t,"VAST")){if(OJ(RJ.ijt,r),i)throw new NJ(DJ.PARSING,PJ.VAST_NO_ADS_AFTER_WRAPPER,"No VAST element found after wrapper.");throw new NJ(DJ.PARSING,PJ.VAST_EMPTY_RESPONSE,"The VAST element was empty.")}if(0===aJ(t,"Ad").length)return[3,7];a=0,c=aJ(t,"Ad"),m.label=1;case 1:if(!(a<c.length))return[3,6];h=c[a],m.label=2;case 2:return m.trys.push([2,4,,5]),[4,e.Ejt(h,n,r)];case 3:return 0===(f=m.sent()).JM?u.push(f):s.push(f),[3,5];case 4:return v=m.sent(),o.push(v),[3,5];case 5:return a++,[3,1];case 6:if(0===u.length&&0===s.length&&o.length>0)throw o[0];if(1===u.length&&0===s.length)return[2,u[0]];if(0===u.length&&0!==s.length)return[2,new zq(s)];if(u.length>0||s.length>0)return[2,new zq(s.concat(u))];m.label=7;case 7:if(0!==aJ(t,"Error").length)for(d=0,l=aJ(t,"Error");d<l.length;d++)g=l[d],BJ(RJ.ijt._b),(w=g.textContent)&&r.push(w.trim());if(OJ(RJ.ijt,r),i)throw new NJ(DJ.PARSING,PJ.VAST_NO_ADS_AFTER_WRAPPER,"No VAST element found after wrapper.");throw new NJ(DJ.PARSING,PJ.VAST_EMPTY_RESPONSE,"The VAST element was empty.")}}))}))()},n.yjt=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:e=[],u=aJ(t,"AdBreak"),s=0,h.label=1;case 1:if(!(s<u.length))return[3,6];o=u[s],h.label=2;case 2:return h.trys.push([2,4,,5]),[4,r.xjt(o,n,i)];case 3:return(a=h.sent())&&e.push(a),[3,5];case 4:return c=h.sent(),Kn.Np(c),[3,5];case 5:return s++,[3,1];case 6:return[2,e]}}))}))()},n.Ejt=function(n,i,r){var e=this;return Zt((function(){var u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return u=uJ(n,"id")||"",(s=IF(uJ(n,"sequence")))||(s=0),o=aJ(n,"InLine"),0===(a=aJ(n,"Wrapper")).length?[3,2]:[4,e.Rjt(a[0],u,s,i,r)];case 1:return[2,c.sent()];case 2:if(0!==o.length)return[2,t.Ijt(o[0],u,s,r)];c.label=3;case 3:throw new NJ(DJ.PARSING,PJ.VAST_SCHEMA_VALIDATION_ERROR,"An Ad tag without a Wrapper or inline element cannot be parsed")}}))}))()},n.Rjt=function(n,i,r,e,u){var s=this;return Zt((function(){var o,a,c,h,f,v,d,l,g,w,m,y,p,_,b,k;return Ht(this,(function(A){switch(A.label){case 0:for(o=aJ(n,"Error")[0],a="",o&&o.textContent&&(a=o.textContent,u.push(a)),c=aJ(n,"AdSystem")[0],h="",c&&(h=c.textContent||h),f=[],v=0,d=aJ(n,"Impression");v<d.length;v++)(l=d[v]).textContent&&f.push(l.textContent);return g=aJ(n,"VASTAdTagURI")[0],w="",g&&g.textContent&&(w=g.textContent),[4,s.Sjt(w,e,!0,u)];case 1:return m=A.sent(),y=aJ(n,"Creatives")[0],p=[],y&&(p=t.Pjt(y,h,u)),(_=CF(uJ(n,"followAdditionalWrappers")))||(_=!0),(b=CF(uJ(n,"allowMultipleAds")))||(b=!0),(k=CF(uJ(n,"fallbackOnNoAd")))||(k=!1),[2,new iJ(i,r,f,m,_,p,b,k,new CJ(a))]}}))}))()},n.xjt=function(n,i,r){var e=this;return Zt((function(){var u,s,o,a,c,h,f,v,d,l,g,w,m,y,p,_,b;return Ht(this,(function(k){switch(k.label){case 0:if(u=uJ(n,"timeOffset")||"0",s=uJ(n,"breakType")||UJ.Qk,o=uJ(n,"breakId"),a=CF(uJ(n,"repeatAfter")),c=void 0!==WJ.Wjt(u),void 0===o&&(o=""),void 0===a&&(a=!1),!c)throw new NJ(DJ.PARSING,PJ.VAST_SCHEMA_VALIDATION_ERROR,"Invalid TimeOffset type");if(h=aJ(n,"AdSource")[0],f=aJ(n,"TrackingEvents")[0],v=[],f&&(v=t.Ljt(f,gJ,"vmap")),(d=uJ(h,"id"))||(d=""),void 0===(l=CF(uJ(h,"allowMultipleAds")))&&(l=!0),(g=CF(uJ(h,"followRedirects")))||(g=!0),w=aJ(h,"AdTagURI")[0],m="",y=aJ(h,"VASTAdData")[0],!w||!w.textContent)return[3,1];try{return m=w.textContent,(p=Ig(i)).sources.src=m,[2,new XJ(u,p,r)]}catch(t){return[2,void 0]}return[3,6];case 1:return y?y.firstElementChild&&oJ(y.firstElementChild,"VAST")?[4,e.bjt(y.firstElementChild,r,!1)]:[3,3]:[3,5];case 2:return(_=k.sent())?(b=new GJ(d,l,g,_),[2,new ZJ(u,b,s,o,v,a,!1,i)]):[2,void 0];case 3:throw new NJ(DJ.PARSING,PJ.VAST_SCHEMA_VALIDATION_ERROR,"vmap:VASTAdData does not have a VAST-structure as a child element");case 4:return[3,6];case 5:throw new NJ(DJ.PARSING,PJ.VAST_SCHEMA_VALIDATION_ERROR,"Invalid AdTagURI source or invalid VASTAdData in Adbreak Element");case 6:return[2]}}))}))()},t.requestSuccessOnly=function(t,n){return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,n.zk(t)];case 1:return i=e.sent(),[3,3];case 2:throw r=e.sent(),new NJ(DJ.NETWORK,PJ.UNKNOWN_ERROR,"Something went wrong while requesting xml from server.",r);case 3:if(!rl(i))throw new NJ(DJ.NETWORK,PJ.UNKNOWN_ERROR,"Something went wrong while requesting xml from server.");return[2,i]}}))}))()},t.wjt=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return r=new hl({qu:t,Xk:Sd.wk,gE:ul.GET}),[4,i.requestSuccessOnly(r,n)];case 1:e=u.sent(),u.label=2;case 2:return u.trys.push([2,4,,5]),[4,e.Zk()];case 3:return[2,fJ.apply(void 0,[u.sent()])];case 4:throw u.sent(),new NJ(DJ.NETWORK,PJ.VAST_MALFORMED_RESPONSE,"The ad source could not be loaded.");case 5:return[2]}}))}))()},t.Ijt=function(n,i,r,e){var u,s=aJ(n,"Error")[0];s&&s.textContent&&(u=s.textContent,e.push(u));var o,a=aJ(n,"AdSystem")[0],c="";a&&(c=a.textContent||c);var h=aJ(n,"AdTitle")[0];h&&(o=h.textContent||void 0);for(var f=[],v=0,d=aJ(n,"Impression");v<d.length;v++){var l=d[v];l.textContent&&f.push(l.textContent)}var g=t.Cjt(aJ(n,"Creatives")[0],c,e);return new jq(i,r,c,o,f,g,new CJ(u))},t.Pjt=function(n,i,r){for(var e=[],u=0,s=aJ(n,"Creative");u<s.length;u++){var o=s[u],a=uJ(o,"id");a||(a="");var c=IF(uJ(o,"sequence"));c||(c=0);var h=uJ(o,"adId");h||(h="");var f=aJ(o,"Linear")[0],v=void 0;f&&(v=t.Djt(f,"wrapper",a,i,r));var d=aJ(o,"NonLinearAds")[0],l=void 0;if(d)try{l=t.Njt(d,a,i)}catch(t){}var g=aJ(o,"CompanionAds")[0],w=void 0;g&&(w=t.Mjt(g)),e.push(new rJ(a,h,c,"",v,l,w,[]))}return e},t.Cjt=function(n,i,r){for(var e=[],u=0,s=aJ(n,"Creative");u<s.length;u++){var o=s[u],a=uJ(o,"id");a||(a="");var c=IF(uJ(o,"sequence"));c||(c=0);var h=uJ(o,"adId");h||(h="");var f=uJ(o,"apiFramework");f||(f="");var v=aJ(o,"Linear")[0],d=void 0;if(v)try{d=t.Djt(v,"inline",a,i,r)}catch(t){}if(0===(null==d?void 0:d.ct))throw new NJ(DJ.PARSING,PJ.VAST_UNEXPECTED_DURATION_ERROR,"The VAST response had a duration of 0 seconds, so skipping the ad(s).");var l=aJ(o,"NonLinearAds")[0],g=void 0;if(l)try{g=t.Njt(l,a,i)}catch(t){}var w=aJ(o,"CompanionAds")[0],m=void 0;w&&(m=t.Mjt(w));var y=aJ(o,"UniversalAdId"),p=t.parseUniversalAdIds(y);e.push(new rJ(a,h,c,f,d,g,m,p))}return e},t.Djt=function(n,i,r,e,u){var s=aJ(n,"Duration")[0],o=0;if(s)o=Wq(s.textContent)||0;else if(!s&&"inline"===i)throw new NJ(DJ.PARSING,PJ.VAST_SCHEMA_VALIDATION_ERROR,"Missing duration element in inLine linear");var a=uJ(n,"skipoffset"),c=-1;if(a){var h=Wq(a);if(void 0===h&&a.indexOf("%")>-1){var f=k.abs(Number(a.replace(/(?![0-9])./g,"")))/100;S(f)||(h=o*f)}void 0!==h&&(c=h)}var v=aJ(n,"MediaFiles")[0],d=[],l=[];if(v&&(d=function(t,n){for(var i=[],r=0,e=aJ(t,"MediaFile");r<e.length;r++){var u=e[r],s=uJ(u,"delivery"),o=uJ(u,"type");if(o){if(n(o)){var a=IF(uJ(u,"width")),c=IF(uJ(u,"height"));a||(BJ(),a=0),c||(BJ(),c=0);var h={delivery:s,type:o,width:a,height:c,contentURL:""+u.textContent};i.push(h)}}else BJ()}return i}(v,MJ),l=function(t){var n=aJ(t,"ClosedCaptionFiles");if(0===n.length)return[];for(var i=[],r=0,e=aJ(n[0],"ClosedCaptionFile");r<e.length;r++){var u=e[r],s=uJ(u,"type");s||BJ();var o=uJ(u,"language");o||BJ();var a={type:null!=s?s:"",language:null!=o?o:"",contentURL:(""+u.textContent).trim()};i.push(a)}return i}(v)),"inline"===i&&(!v||0===d.length))throw OJ(RJ.njt,u),new NJ(DJ.PARSING,PJ.VAST_LINEAR_ASSET_MISMATCH,"Missing MediaFiles in linear element");var g=aJ(n,"TrackingEvents")[0],w=[];g&&(w=t.Ljt(g,mJ,"linear"));var m=aJ(n,"VideoClicks")[0],y=t.Bjt(m);return new eJ(o,d,w,y,c,r,e,l)},t.Bjt=function(n){if(!n)return new nJ("","",[],[]);var i,r=aJ(n,"ClickThrough")[0],e="";r&&(i=r.textContent||void 0,e=uJ(r,"id")||"");var u=t.Ojt(aJ(n,"ClickTracking")),s=t.Ojt(aJ(n,"CustomClick"));return new nJ(i,e,u,s)},t.Ojt=function(t){for(var n=[],i=0;i<t.length;i++){var r=t[i],e=r.textContent;if(e){var u=uJ(r,"id")||"";n.push(new tJ(u,e))}}return n},t.Ljt=function(t,n,i){for(var r=[],e=0,u=aJ(t,"Tracking");e<u.length;e++){var s=u[e],o=uJ(s,"event");if(n(o)){var a="";"linear"===i&&(a=uJ(t,"offset")||"0");var c=s.textContent;c&&r.push(new AJ(o,a,c))}else BJ()}return r},t.Njt=function(n,i,r){for(var e=[],u=0,s=aJ(n,"NonLinear");u<s.length;u++){var o=s[u],a=aJ(o,"NonLinearClickThrough")[0],c=void 0;a&&(c=a.textContent||void 0);var h=t.Ojt(aJ(o,"NonLinearClickTracking")),f=aJ(o,"StaticResource")[0],v=void 0;if(f&&f.parentNode){var d=uJ(f,"creativeType"),l=f.textContent||"",g=aJ(f.parentNode,"NonLinearClickThrough")[0],w="";g&&(w=g.textContent||""),v=new SJ(l,d,w,"")}var m=t.Fjt(o),y=t.parseHtmlResource(o);if(v||m||y){var p=new nJ(c,"",h,[]);e.push(new qq(v,m,y,p,i,r))}else BJ()}if(0===e.length)throw new NJ(DJ.PARSING,PJ.VAST_SCHEMA_VALIDATION_ERROR,"nonLinearAds element found with no nonLinear elements");var _=aJ(n,"TrackingEvents")[0],b=[];return _&&(b=t.Ljt(_,pJ,"nonlinear")),new Kq(e,b)},t.parseUniversalAdIds=function(t){for(var n=[],i=0;i<t.length;i++){var r,e,u,s=t[i],o=null!=(r=uJ(s,"idRegistry"))?r:"",a=null!=(u=null!=(e=uJ(s,"idValue"))?e:s.textContent)?u:"";n.push(new VJ(o,a))}return n},t.Mjt=function(n){var i=uJ(n,"requiredType");(function(t){switch(t){case"all":case"any":case"none":return!0;default:return!1}})(i)||(i=Jq.YH);for(var r=[],e=0,u=aJ(n,"Companion");e<u.length;e++){var s=u[e],o=IF(uJ(s,"width")),a=IF(uJ(s,"height")),c=uJ(s,"id"),h=IF(uJ(s,"assetWidth")),f=IF(uJ(s,"assetHeight")),v=IF(uJ(s,"expandedWidth")),d=IF(uJ(s,"rxpandedHeight")),l=uJ(s,"apiFramework"),g=uJ(s,"adSlotId"),w=IF(uJ(s,"pxratio")),m=aJ(s,"AltText")[0],y=m?m.textContent:"";o||(BJ(),o=0),a||(BJ(),a=0),c||(c=""),h||(h=0),f||(f=0),v||(v=0),d||(d=0),l||(l=""),g||(g=""),w||(w=1),y||(y="");var p=t.Vjt(s),_=t.Fjt(s),b=t.parseHtmlResource(s),k=aJ(s,"TrackingEvents")[0],A=[];k&&(A=t.Ljt(k,bJ,"companion"));var T=aJ(s,"CompanionClickThrough")[0],S=void 0;T&&(S=T.textContent||void 0);var E=t.Ojt(aJ(s,"CompanionClickTracking"));(p||_||b)&&r.push(new $q(o,a,c,h,f,v,d,l,g,w,p,_,b,new nJ(S,"",E,[]),A,y))}return new Qq(i,r)},t.Vjt=function(t){var n,i=aJ(t,"StaticResource")[0];if(i&&i.parentNode){var r=uJ(i,"creativeType");r||(r="");var e,u=i.textContent,s=aJ(i.parentNode,"AltText")[0],o=aJ(i.parentNode,"CompanionClickThrough")[0],a="";s&&(a=s.textContent||""),o&&(e=o.textContent||void 0),u&&(n=new SJ(u,r,e,a))}return n},t.Fjt=function(t){var n,i=aJ(t,"IFrameResource")[0];if(i){var r=i.textContent||"";n=new EJ(r)}return n},t.parseHtmlResource=function(t){var n,i=aJ(t,"HTMLResource")[0];if(i){var r=i.textContent||"";n=new IJ(r)}return n},t}(),UJ=function(t){return t.Qk="",t.Ajt="linear",t.Ujt="nonlinear",t.Gjt="display",t}({}),WJ=function(){function t(){}return t.Hjt=function(t){switch(t){case"linear":case"nonlinear":case"display":return!0;default:return!1}},t.Zjt=function(t){},t.Xjt=function(t){if(void 0!==t)return"start"===t?0:"end"===t?-1:void 0},t.zjt=function(t){var n=t.split(":"),i=0;return i+=3600*Number(n[0]),i+=60*Number(n[1]),i+=Number(n[2])},t.qjt=function(t){if(t<=0)return"00:00:00.000";var n=k.floor(t),i=t-n;return this.Yjt(n/3600,2)+":"+this.Yjt(n/60%60,2)+":"+this.Yjt(n%60,2)+"."+this.Yjt(1e3*i,3)},t.Yjt=function(t,n){return("00"+k.floor(t)).slice(-n)},t.Kjt=function(t,n){var i=this.Wjt(t);if(0===i)switch(t){case"start":return 0;case"end":return-1}else{if(2===i)return Zq(t)*n;if(1===i)return Wq(t);if(3===i)return this.Xjt(t);if(4===i){var r=Number(t);if(!S(r)&&r>=-1)return r}}},t.Wjt=function(t){return"start"===t||"end"===t?0:void 0!==Wq(t.toString())?1:void 0!==Zq(t.toString())?2:void 0!==this.Zjt(t.toString())?3:S(Number(t))?void 0:4},t}(),ZJ=function(){function t(t,n,i,r,e,u,s,o){this.vKt=-1,this.$jt=n,this.tQt=t,this.hQt=i,this.iQt=r,this.nQt=u,this.LYt=e,this.aQt=s,this.Qjt=o}return t.prototype.$n=function(){return et.resolve()},Nt(t,[{key:"jjt",get:function(){return this.Qjt.integration}},{key:"Jjt",get:function(){return this.$jt}},{key:"ZBt",get:function(){return this.tQt}},{key:"_Kt",get:function(){return this.vKt},set:function(t){this.vKt=t}},{key:"Qqt",get:function(){return this.LYt}},{key:"eQt",get:function(){return this.iQt}},{key:"sQt",get:function(){return this.nQt}},{key:"ant",get:function(){return this.Qjt}},{key:"rQt",get:function(){return this.kjt.sd}},{key:"W",get:function(){return!0}},{key:"kjt",get:function(){return this.oQt},set:function(t){this.oQt=t}}]),t}(),XJ=function(){function t(t,n,i){this.HE=!1,this.aW=i,this.hYt=new ZJ(t,void 0,"","",[],!1,!1,n)}var n=t.prototype;return n.$n=function(){var t;return null!=(t=this.uQt)?t:this.uQt=this.zE()},n.zE=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,(new FJ).Tjt(t.ant,t.ZBt,t.kjt,t.aW)];case 1:return t.hYt=n.sent(),t.HE=!0,[2]}}))}))()},Nt(t,[{key:"jjt",get:function(){return this.hYt.jjt}},{key:"Jjt",get:function(){return this.hYt.Jjt}},{key:"ZBt",get:function(){return this.hYt.ZBt}},{key:"_Kt",get:function(){return this.hYt._Kt},set:function(t){this.hYt._Kt=t}},{key:"Qqt",get:function(){return this.hYt.Qqt}},{key:"eQt",get:function(){return this.hYt.eQt}},{key:"sQt",get:function(){return this.hYt.sQt}},{key:"ant",get:function(){return this.hYt.ant}},{key:"rQt",get:function(){return this.hYt.rQt}},{key:"W",get:function(){return this.HE}},{key:"kjt",get:function(){return this.hYt.kjt},set:function(t){this.hYt.kjt=t}}]),t}(),GJ=function(){function t(t,n,i,r){this.US=t,this.cQt=n,this.fQt=r,this.dQt=i}return Nt(t,[{key:"o",get:function(){return this.US}},{key:"jYt",get:function(){return this.cQt}},{key:"lQt",get:function(){return this.dQt}},{key:"Rqt",get:function(){return this.fQt}}]),t}();function HJ(t,n){var i;if(t.vastAdsRequest&&(i=function(t){if(t.adTagUrl)return t.adTagUrl;if(t.adsResponse)return dJ(t.adsResponse);return}(t.vastAdsRequest)),!i){var r=function(t){var n=t.contentUrl||t.contentId;if(!n)return;var i=t.contentType||"video/mp4",r=FA(i)||XA(t.contentType)?"streaming":"progressive",e=void 0!==t.duration?"<Duration>"+WJ.qjt(t.duration)+"</Duration>":"",u=void 0!==t.whenSkippable&&t.whenSkippable>=0?' skipoffset="'+WJ.qjt(t.whenSkippable)+'"':"",s='<MediaFile delivery="'+r+'" type="'+i+'">'+vJ(n)+"</MediaFile>",o=t.clickThroughUrl?"<VideoClicks><ClickThrough>"+vJ(t.clickThroughUrl)+"</ClickThrough></VideoClicks>":"",a="<Linear"+u+">"+e+"<MediaFiles>"+s+"</MediaFiles>"+o+"</Linear>",c=t.title?"<AdTitle>"+vJ(t.title)+"</AdTitle>":"";return'<VAST version="3.0"><Ad>'+c+"<InLine><Creatives><Creative>"+a+"</Creative></Creatives></InLine></Ad></VAST>"}(t);r&&(i=dJ(r))}var e=t.customData;if(i){var u={integration:null==e?void 0:e.integration,sources:{src:i,type:"vast"},timeOffset:n};return u.integration&&"csai"!==u.integration&&"theo"!==u.integration||(u.skipOffset=t.whenSkippable),u}}var zJ=function(t){return t._Qt="error",t.vQt="sourceupdate",t}({}),YJ=function(t){function n(n){var i;return(i=t.call(this,"error")||this).lt=n,i}return It(n,t),n}(ea),jJ=function(t){function n(n,i){var r;return(r=t.call(this,"sourceupdate")||this).bt=n,r.kc=i,r}return It(n,t),n}(ea),KJ=function(t){function n(n,i,r){var e;return(e=t.call(this,i)||this).NQt=0,e.xQt=function(t){e.yo(new YJ(t))},e.EQt=function(t){var n,i=new Tq(Lq(t.code),null!=(n=t.description)?n:void 0);e.xQt(i)},e.ONt=n,e.pQt=i,e.mQt=r,e}It(n,t);var i=n.prototype;return i.gQt=function(t){this.pQt.gQt(t)},i.wQt=function(t){this.pQt.wQt(t)},i.yQt=function(t){this.pQt.yQt(t)},i.bQt=function(t){this.pQt.bQt(t)},i.AQt=function(t){this.mQt.addUpdateListener(t)},i.SQt=function(t){this.mQt.removeUpdateListener(t)},i.TQt=function(){var t=this,n=new Zc,i=new chrome.cast.media.GetStatusRequest;return this.mQt.getStatus(i,(function(){n.Mb({bt:t.wR(),kc:t.Ya()})}),(function(t){return n.Lb(t)})),n.Bb},i.wR=function(){var t;return null==(t=this.mQt.customData)?void 0:t.currentSource},i.Ya=function(){var t,n;if(null==(t=this.ONt.kQt())?void 0:t.version){var i;n=null==(i=this.mQt.customData)?void 0:i.sourceDescription}else{var r,e=null==(r=Mq(this.mQt))?void 0:r.customData;(function(t){return Qn(t)&&t.theoplayer_version>=1&&Yn(t.streamStart)&&Yn(t.isLive)&&Yn(t.sourceDescription)})(e)&&(n=e.sourceDescription),n||(n=function(t){return{sources:[{src:t.contentId,type:t.contentType}],ads:qJ(t)}}(this.mQt.media))}return n},i.bI=function(){var t=new chrome.cast.media.PauseRequest;this.mQt.pause(t,pi,this.EQt)},i.SI=function(){var t=new chrome.cast.media.StopRequest;this.mQt.stop(t,pi,this.EQt)},i.AI=function(){var t=new chrome.cast.media.PlayRequest;this.mQt.play(t,pi,this.EQt)},i.Sb=function(t,n){var i=this,r=new chrome.cast.media.SeekRequest;return r.currentTime=t,r.resumeState=n?chrome.cast.media.ResumeState.PLAYBACK_PAUSE:chrome.cast.media.ResumeState.PLAYBACK_START,new et((function(t,n){i.mQt.seek(r,t,(function(t){var i;n(new Tq(Lq(t.code),null!=(i=t.description)?i:void 0))}))}))},i.YR=function(t){this.pQt.jet(Oq,function(t){return{type:Bq.xqt,properties:{playbackRate:t}}}(t)).catch(this.xQt)},i.RQt=function(t){var n=new chrome.cast.media.EditTracksInfoRequest(t);this.mQt.editTracksInfo(n,pi,this.EQt)},i.IQt=function(){return this.mQt.getEstimatedTime()},i.CQt=function(){return this.mQt.getEstimatedBreakClipTime()},i.PQt=function(){return this.mQt.getEstimatedBreakTime()},i.DQt=function(){this.pQt.jet("urn:x-cast:com.google.cast.media",{type:Vq.SKIP_AD,requestId:this.NQt++,mediaSessionId:this.mQt.mediaSessionId}).catch(this.xQt)},i.gn=function(){this.Bo()},Nt(n,[{key:"gN",get:function(){return this.mQt}}]),n}(na);function qJ(t){return t.vmapAdsRequest&&t.vmapAdsRequest.adTagUrl?[{sources:{src:t.vmapAdsRequest.adTagUrl,type:"vmap"}}]:t.breaks&&t.breakClips?bo(t.breaks,(function(n){return function(t,n){var i=function(i,e){var u=e[i],s=ao(n,(function(t){return t.id===u}));if(s){var o=HJ(s,t.position);o&&r.push(o)}},r=[];if(t.isWatched)return r;for(var e=0,u=t.breakClipIds;e<u.length;e++)i(e,u);return r}(n,t.breakClips)})):[]}F(),Tt();var JJ=function(){function t(t){this.ONt=t}var n=t.prototype;return n.MQt=function(t,n){this.ONt.addMessageListener(t,n)},n.LQt=function(t,n){this.ONt.removeMessageListener(t,n)},n.jet=function(t,n){var i=this;return new et((function(r,e){i.ONt.sendMessage(t,n,r,(function(t){var n;e(new Tq(Lq(t.code),null!=(n=t.description)?n:void 0))}))}))},n.gn=function(){},t}();function QJ(t){return"vmap"===t||"adrule"===t}function $J(t){if(t)return ti(t)&&""!==t?{src:Og(t),type:void 0}:function(t){return Qn(t)&&Boolean(t.src)}(t)&&""!==t.src?{src:Og(t.src),type:tQ(t.type)}:void 0}function tQ(t){if(ti(t)){var n=t.toLowerCase();switch(n){case"vast":case"vmap":case"adrule":return n;default:return void Hr("The ad source type provided in the configuration could not be recognized: '"+t+"'.")}}else t||Hr("For better performance it is highly recommended to add the type to the configuration of your ad sources.")}function nQ(t){if(void 0!==t&&""!==t&&("string"==typeof t||"number"==typeof t)){switch(t){case"start":case"00:00:00":case"00:00:00.000":case"0%":case"0":return 0;case"end":case"100%":return-1}if("string"==typeof t){if(function(t){return Uq.test(t)}(t))return WJ.zjt(t);if(iQ(t))return t}return Number(t)>=0?Number(t):void 0}}function iQ(t){return new RegExp(/^\d{1,2}%$/).test(t)}function rQ(t){for(var n=[],i=function(t,r){if(qn(r))for(var e=0,u=r.length;e<u;e++){var s=Qn(r[e])&&r[e]?String(e):"";i(t+"["+encodeURIComponent(s)+"]",r[e])}else if(Qn(r))for(var o=0,a=b.keys(r);o<a.length;o++){var c=a[o];i(t+"["+encodeURIComponent(c)+"]",r[c])}else!function(t,i){n.push(t+"="+encodeURIComponent(null!=i?i:""))}(t,String(r))},r=0,e=b.keys(t);r<e.length;r++){var u=e[r];i(encodeURIComponent(u),t[u])}return n.join("&")}F(),Tt(),F(),Tt(),F(),Tt();var eQ=function(t){return t.kqt="receiver_info",t.sBt="event",t.BQt="propertychange",t.Eqt="trackevent",t}({}),uQ=function(){function t(t){var n=this;this.FQt=[],this.VQt=[],this.HQt=function(t,i){var r=n.OQt(i);if(r)if(r.type===eQ.BQt)for(var e=0,u=n.FQt;e<u.length;e++)for(var s=u[e],o=0,a=b.keys(r.properties);o<a.length;o++){var c=a[o];s(c,r.properties[c])}else if(r.type===eQ.sBt)for(var h=0,f=n.VQt;h<f.length;h++){(0,f[h])(r.event)}else r.type===eQ.Eqt&&n.UQt&&r.event.trackState&&n.UQt(r.event.trackId,r.event.trackState.targetQualityIds)},this.GQt=t,this.GQt.MQt(Oq,this.HQt)}var n=t.prototype;return n.OQt=function(t){var n;try{n=JSON.parse(t)}catch(t){0}return n},n.gQt=function(t){this.FQt.push(t)},n.wQt=function(t){lo(this.FQt,t)},n.yQt=function(t){this.VQt.push(t)},n.bQt=function(t){lo(this.VQt,t)},n.WQt=function(t){this.UQt=t},n.jet=function(t,n){return this.GQt.jet(t,n)},n.gn=function(){this.GQt.LQt(Oq,this.HQt),po(this.VQt),po(this.FQt),this.UQt=void 0},t}();F(),Tt(),F(),Tt();var sQ=function(t){return t.ZQt="medialoadedchange",t.eb="volumechange",t._Qt="casterror",t.XQt="playererror",t.zQt="targetqualitychanged",t.qQt="receiverinfochanged",t}({}),oQ=function(t){function n(){return t.call(this,"medialoadedchange")||this}return It(n,t),n}(ea),aQ=function(t){function n(n,i){var r;return(r=t.call(this,"volumechange")||this).dI=n,r.FR=i,r}return It(n,t),n}(ea),cQ=function(t){function n(n){var i;return(i=t.call(this,"casterror")||this).lt=n,i}return It(n,t),n}(ea),hQ=function(t){function n(n){var i;return(i=t.call(this,"playererror")||this).lt=n,i}return It(n,t),n}(ea),fQ=function(t){function n(n,i){var r;return(r=t.call(this,"targetqualitychanged")||this).bN=n,r.YQt=i,r}return It(n,t),n}(ea),vQ=function(t){function n(){return t.call(this,"receiverinfochanged")||this}return It(n,t),n}(ea),dQ=function(t){function n(n){var i;(i=t.call(this)||this).JQt=void 0,i.xQt=function(t){i.yo(new cQ(t))},i.lJt=function(t,n){"error"===t&&i.yo(new hQ(n))},i.dJt=function(t,n){i.yo(new fQ(t,n))},i.QQt=function(t,n){var r=JSON.parse(n);r.type===eQ.kqt&&(i.JQt=r.info,i.yo(new vQ))},i.iJt=function(){var t=i.$Qt().receiver.volume,n=t.level,r=t.muted;i.yo(new aQ(null!=n?n:void 0,null!=r?r:void 0))},i.cJt=function(){return i.tJt(i.ONt.getMediaSession())},i.sJt=function(t){var n;t||(null==(n=i.eJt)||n.SQt(i.sJt),i.eJt=void 0,i.yo(new oQ))},i.aJt=function(t){var n,r=new Tq(Lq(t.code),null!=(n=t.description)?n:void 0);i.xQt(r)},i.ONt=n,i.ONt.addEventListener(cast.framework.SessionEventType.MEDIA_SESSION,i.cJt),i.GQt=new JJ(n.getSessionObj()),i.pQt=new uQ(i.GQt),i.pQt.gQt(i.lJt),i.pQt.WQt(i.dJt),i.$Qt().addUpdateListener(i.iJt),i.iJt(),i.jQt();var r=i.ONt.getMediaSession();return r&&i.tJt(r),i}It(n,t);var i=n.prototype;return i.KQt=function(t,n,i){this.pQt.jet(Oq,function(t,n,i){return{type:Bq.Eqt,trackID:t,trackType:n,properties:{targetQuality:i}}}(t,n,i)).catch(this.xQt)},i.jQt=function(){this.GQt.MQt(Oq,this.QQt),this.pQt.jet(Oq,{type:Bq.kqt}).catch(pi)},i.kQt=function(){return this.JQt},i.$Qt=function(){return this.ONt.getSessionObj()},i.tJt=function(t){!this.eJt&&t&&t.idleReason!==chrome.cast.media.IdleReason.FINISHED&&(this.eJt=new KJ(this,this.pQt,t),this.iJt(),this.yo(new oQ),this.eJt.AQt(this.sJt))},i.nJt=function(){return this.eJt},i.rJt=function(t){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:i=function(t){var n=function(t,n,i,r){var e=tn(function(t){for(var n=0,i=t.sources;n<i.length;n++){var r=i[n];if(qA(r)){var e=r.src;if(e){var u,s=null!=(u=r.type)?u:UA(e);if(lQ(s))return[e,s]}}}var o,a;return[null!=(o=YS(t))?o:"",null!=(a=HS(t))?a:""]}(t),2),u=e[0],s=e[1],o=new chrome.cast.media.MediaInfo(u,s);return o.metadata=xq(t.metadata,t.poster),o.streamType=r,function(t,n,i){for(var r,e=function(t){var e=n[t],c=$J(e.sources);if(c)if(Xq(c,e.timeOffset))(r=new chrome.cast.media.VastAdsRequest).adTagUrl=c.src;else if(Gq(c,e.timeOffset)){var h,f,v=null!=(h=e.timeOffset)?h:0,d=e.skipOffset,l=null!=(f=WJ.Kjt(v,i))?f:0,g=void 0!==d?WJ.Kjt(d,i):void 0,w=new chrome.cast.media.BreakClip("bc"+a++);w.vastAdsRequest=new chrome.cast.media.VastAdsRequest,w.vastAdsRequest.adTagUrl=c.src,w.whenSkippable=g,w.customData={integration:e.integration};var m=ao(s,(function(t){return t.position===l}));void 0===m&&(m=new chrome.cast.media.Break("b"+o++,[],l),s.push(m)),m.breakClipIds.push(w.id),u.push(w)}else 0;else 0},u=[],s=[],o=0,a=0,c=0;c<n.length;c++)e(c);t.breakClips=u,t.breaks=s,t.vmapAdsRequest=r}(o,n,i),o}(t.oJt,t.Vc,t.ct,t.s0),i=new chrome.cast.media.LoadRequest(n);return i.autoplay=!0,i.currentTime=t.yR,i.customData=t.hJt,i}(t),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,n.ONt.loadMedia(i)];case 2:return r=u.sent(),[3,4];case 3:return e=u.sent(),r=e,[3,4];case 4:if(r)throw new Tq(Lq(r));return[2]}}))}))()},i.UR=function(t){this.$Qt().setReceiverMuted(t,pi,this.aJt)},i._I=function(t){this.$Qt().setReceiverVolumeLevel(t,pi,this.aJt)},i.uJt=function(){return this.$Qt().receiver.friendlyName},i.gn=function(){this.Bo(),this.ONt.removeEventListener(cast.framework.SessionEventType.MEDIA_SESSION,this.cJt),this.$Qt().removeUpdateListener(this.iJt),this.GQt.LQt(Oq,this.QQt),this.pQt.gn(),this.GQt.gn()},n}(na);function lQ(t){switch(t){case oA.HC:case oA.GC:case oA.ZC:case oA.XC:return!0}return!1}var gQ=function(t){return t.fJt="statechange",t}({}),wQ=function(t){function n(n){var i;return(i=t.call(this,"statechange")||this).Rft=n,i}return It(n,t),n}(ea),mQ=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).M1t=void 0,n.N1t=void 0,n.dQ=function(){var t=n.w1t();n.M1t=t===MS.CONNECTED?new dQ(n.L1t.getCurrentSession()):void 0,n.yo(new wQ(t))},n}It(n,t);var i=n.prototype;return i.j0t=function(t){this.N1t=t},i.Q0t=function(){return this.N1t},i.$0t=function(){return this.M1t},i.w1t=function(){switch(this.L1t.getCastState()){case cast.framework.CastState.CONNECTED:return MS.CONNECTED;case cast.framework.CastState.CONNECTING:return MS.CONNECTING;case cast.framework.CastState.NOT_CONNECTED:return MS.AVAILABLE;case cast.framework.CastState.NO_DEVICES_AVAILABLE:default:return MS.UNAVAILABLE}},i.bj=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return[4,Sq(n)];case 1:return r.sent(),i.L1t=cast.framework.CastContext.getInstance(),i.L1t.addEventListener(cast.framework.CastContextEventType.CAST_STATE_CHANGED,i.dQ),i.L1t.setOptions({receiverApplicationId:t.appID,autoJoinPolicy:chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED}),[2]}}))}))()},i.n1t=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,t.L1t.requestSession()];case 1:if(n=r.sent())throw n;return[3,3];case 2:throw i=r.sent(),new Tq(Lq(i));case 3:return[2]}}))}))()},i.o1t=function(t){var n;return null==(n=this.N1t)?void 0:n.onStart(t)},i._1t=function(t){var n;return null==(n=this.N1t)?void 0:n.onStop(t)},i.a1t=function(t){var n;return null==(n=this.N1t)?void 0:n.onJoin(t)},i.f1t=function(t){var n;return null==(n=this.N1t)?void 0:n.onLeave(t)},i.m1t=function(t){this.L1t.endCurrentSession(t)},n}(na);F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Rt();var yQ=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return(h=t.call(this)||this).ta=n,h._Jt=0,h.rO=new Yg,h.hO=new Yg,h.Ul=new Xy,h.Dc=new jL,h._Jt=i,h.nZ=r-i,h.IA=e,h.T4=u,h.hZ=s,h.aZ=o,h.mJt=a,h.gJt=c,h}It(n,t);var i=n.prototype;return i.Tst=function(){return this.Dc},i.vR=function(){return AA.fB()},i.bR=function(){return this.nZ+this._Jt},i.fst=function(){return this.bR()},i.gR=function(){},i._d=function(){return this.IA},i.ER=function(){return this.T4},i.xR=function(){},i.XR=function(){return this.hZ},i.vJt=function(){},i.qR=function(){return this.aZ},i.YR=function(t){this.aZ!==t&&(this.aZ=t,this.yo(new hT(this.ta.yR,t)))},i.eI=function(){return pp.jB},i.jR=function(){return AA.fB()},i.sI=function(){return AA.fB()},i.rI=function(){return!1},i.lR=function(){return this.rO},i.uI=function(){return this.hO},i.oI=function(){return this.Ul},i.RQt=function(t){},i.lI=function(){return this.mJt},i.aI=function(){return this.gJt},i.AI=function(){this.hZ=!1},i.bI=function(){this.hZ=!0},i.Sb=function(t){this.nZ=t-this._Jt},i.pJt=function(){return this._Jt},i.wJt=function(t){this._Jt=t},i.jst=function(t){this.Dc.jst(t)},i.SI=function(){},i.gn=function(){this.Bo(),this.rO.gn(),this.hO.gn(),this.Ul.gn(),this.Dc.gn()},n}(na);F(),Tt(),Rt(),nn(),F(),Tt(),Dt(),Rt(),F(),Tt(),Rt(),F(),Tt();var pQ=function(t){return t.yJt="ccmodechangerequest",t.bJt="cctargetqualitychangerequest",t.AJt="cctrackchangerequest",t}({}),_Q=function(t){function n(n,i,r){var e;return(e=t.call(this,pQ.yJt)||this).track=n,e.trackId=i,e.mode=r,e}return It(n,t),n}(ea);F(),Tt();var bQ=function(t){return t.wk="TEXT",t.cE="AUDIO",t.lE="VIDEO",t}({}),kQ=function(t){return t.qV="SUBTITLES",t.YV="CAPTIONS",t.KV="DESCRIPTIONS",t.Fn="CHAPTERS",t.jV="METADATA",t}({});function AQ(t){return"AUDIO"===t.type}function TQ(t){return"VIDEO"===t.type}function SQ(t){return"TEXT"===t.type}var EQ=function(t){function n(n){var i;(i=t.call(this)||this).Za=void 0;var r=n.customData;return i.TC=Number(n.trackId)||0,i.o=""+(r&&r.id||i.TC),i.kO=r&&r.label||n.name||"",i.gs=r&&r.language||n.language||"",i.IC=r&&r.inBandMetadataTrackDispatchType||"",i.Lt=r&&r.kind||function(t){switch(t){case kQ.qV:return Gy.qV;case kQ.YV:return Gy.YV;case kQ.KV:return Gy.KV;case kQ.Fn:return Gy.Fn;case kQ.jV:return Gy.jV}return}(n.subtype)||"subtitles",i.tI=bw.NONE,i.pw=r&&void 0!==r.type?function(t){return Aw(t)?t:kw.DEFAULT}(r.type):kw.WEBVTT,i.U4=[],i.H4=new EN(i.U4),i.j4=[],i.G4=new EN(i.j4),i.qo=By(r&&r.mode||Oy.Ch),i.SJt=i.qo,i}It(n,t);var i=n.prototype;return i.Z4=function(t){return ao(this.H4.oC,(function(n){return n.o===t}))},i.DC=function(t){this.TE=t},i.kJt=function(t){},i.gn=function(){},i.tr=function(){},Nt(n,[{key:"ga",get:function(){return this.Za||(this.Za=Uy(this)),this.Za}},{key:"kh",get:function(){return this.kO},set:function(t){t!==this.kO&&(this.kO=t,this.yo(new ow(this)))}},{key:"q",get:function(){return this.G4}},{key:"L",get:function(){return this.H4}},{key:"TE",get:function(){return this.qo},set:function(t){var n=By(t);this.qo!==n&&(this.qo=n,this.SJt!==n&&this.yo(new _Q(this,this.TC,n)),this.yo(new uw(this)))}},{key:"TJt",get:function(){return this.SJt},set:function(t){var n=By(t),i=this.qo!==n;this.qo=n,this.SJt=n,i&&this.yo(new uw(this))}}]),n}(na);F(),Tt(),Dt(),Rt(),F(),Tt(),Rt();var IQ=function(t){function n(n,i){var r;return(r=t.call(this,pQ.AJt)||this).trackId=n,r.enabled=i,r}return It(n,t),n}(ea);F(),Tt(),Rt();var RQ=function(t){function n(n,i){var r;return(r=t.call(this,pQ.bJt)||this).track=n,r.targetQuality=i,r}return It(n,t),n}(ea);F(),Tt();var CQ=function(t){return t.cE="audio",t.lE="video",t.wk="text",t}({}),NQ=function(t){function n(n){var i;(i=t.call(this)||this).Tdt=void 0,i.wO=new ew,i.Adt=void 0,i.Za=void 0,i.wLt=function(){return i.yo(new ow(i))};var r=n.customData;if(i.TC=Number(n.trackId)||0,i.o=""+(r&&r.id||i.TC),i.kO=r&&r.label||n.name||"",i.gs=r&&r.language||n.language||"",i.Lt=r&&r.kind||"main",i.He=r&&r.enabled,i.xJt=i.He,AQ(n)){i.n3=CQ.cE;var e=n.customData&&n.customData.qualities;if(e)for(var u=0;u<e.length;u++){var s=e[u],o=new sU(s.id,s.bandwidth,s.codecs,s.name,"",s.audioSamplingRate);o.yn("update",i.wLt),i.wO.yO(o)}}else{i.n3=CQ.lE;var a=n.customData&&n.customData.qualities;if(a)for(var c=0;c<a.length;c++){var h=a[c],f=new uU(h.id,h.bandwidth,h.codecs,h.name,"",h.frameRate,h.width,h.height);f.yn("update",i.wLt),i.wO.yO(f)}}return i}It(n,t);var i=n.prototype;return i.xO=function(t){this.Rt=t},i.kJt=function(t){if(t.targetQualityIds){for(var n=[],i=0,r=this.wO.oC;i<r.length;i++){var e=r[i];t.targetQualityIds.indexOf(e.o)>-1&&n.push(e)}var u=n.length?n:void 0;this.EJt(u)}},i.EJt=function(t){(function(t,n){return!t&&n||t&&!n||t&&n&&!_o(t,n)})(this.Adt,t)&&(this.Adt=t&&this.wO.bO(t)?t:void 0,this.yo(new pB(this.Adt,this)))},i.unload=function(){for(var t=0,n=this.wO.oC;t<n.length;t++){n[t].fn("update",this.wLt)}this.wO.tr()},Nt(n,[{key:"SC",get:function(){return this.Tdt}},{key:"xC",get:function(){return this.Adt},set:function(t){this.EJt(t),this.yo(new RQ(this,t))}},{key:"EC",get:function(){return this.wO}},{key:"kh",get:function(){return this.kO},set:function(t){t!==this.kO&&(this.kO=t,this.yo(new ow(this)))}},{key:"Rt",get:function(){return this.He},set:function(t){this.He!==t&&(this.He=t,this.xJt!==t&&this.yo(new IQ(this.TC,t)),this.yo(new uw(this)))}},{key:"RJt",get:function(){return this.xJt},set:function(t){var n=this.He!==t;this.He=t,this.xJt=t,n&&this.yo(new uw(this))}},{key:"ga",get:function(){return this.Za||(this.Za=Gg(this)),this.Za}},{key:"TE",get:function(){return this.Rt?"enabled":"disabled"}}]),n}(na);F(),Tt();var DQ=function(t){return t.IJt="legacy",t.CJt="caf",t}({});F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt(),F(),Tt(),F(),Tt();var PQ=function(){function t(t){this.PJt=0,this.Dc=t}var n=t.prototype;return n.Pc=function(){if(!(this.PJt>=this.Dc.length)){var t=this.Dc[this.PJt];return this.PJt+=1,t}},n.lt=function(){return this.Pc()},t}();function xQ(t){var n,i,r;return null!=(r=null==(i=t.Jjt)||null==(n=i.Rqt)?void 0:n.Iqt())?r:[]}var LQ=function(){},MQ=function(){function t(){this.Za=void 0}return t.prototype.Xst=function(){var t;return null!=(t=this.Za)?t:this.Za=function(t){return{get ads(){return t.Vc.map((function(t){return t.Xst()}))},get integration(){return t.jjt},get maxDuration(){return t.DJt},get maxRemainingDuration(){return t.NJt},get timeOffset(){return t.ZBt},get customData(){return t.hJt}}}(this)},t}(),OQ=function(){function t(t,n){this.LJt=t,this.ta=n}return Nt(t,[{key:"MJt",get:function(){return this.LJt}},{key:"t",get:function(){return this.ta}}]),t}(),BQ=function(t){function n(n,i){var r;return(r=t.call(this)||this).VJt=[],r.UJt=[],r.oQt=n,r.WJt=i,r}It(n,t);var i=n.prototype;return i.OJt=function(t,n,i,r){var e=ao(this.VJt,(function(n){return n.Zqt===t}));if(void 0!==e)return e;var u=new WQ(t,n,this,this.WJt,i,r);return this.VJt.push(u),u},i.FJt=function(t,n,i,r,e){var u=ao(this.UJt,(function(n){return n.qqt===t}));if(void 0!==u)return u;var s=new UQ(t,n,i,this,this.WJt,r,e);return this.UJt.push(s),s},Nt(n,[{key:"kjt",get:function(){return this.oQt}},{key:"Vc",get:function(){for(var t=[],n=0,i=this.oQt.BJt;n<i.length;n++)for(var r=i[n],e=0,u=xQ(r);e<u.length;e++){var s,o,a=u[e],c=null!=(o=null==(s=a.zqt)?void 0:s.gYt)?o:[];if(a.Zqt&&t.push(this.OJt(a.Zqt,c,a.Yqt,r.ant)),a.qqt)for(var h=0,f=a.qqt.Kqt;h<f.length;h++){var v=f[h];t.push(this.FJt(v,c,a.qqt,a.Yqt,r.ant))}}return t}},{key:"jjt",get:function(){return gS.CSAI}},{key:"ZBt",get:function(){var t=this.oQt.sd;return t>=0?t:this.WJt.t._d()}},{key:"NJt",get:function(){for(var t=0,n=0,i=this.oQt.BJt;n<i.length;n++)for(var r=0,e=xQ(i[n]);r<e.length;r++){var u=e[r];u.Zqt&&!u.Zqt.mKt&&(t+=u.Zqt.ct)}return this.WJt&&this.WJt.MJt&&(t+=this.WJt.MJt.ct-this.WJt.MJt.yR),t}},{key:"DJt",get:function(){for(var t=0,n=0,i=this.oQt.BJt;n<i.length;n++)for(var r=0,e=xQ(i[n]);r<e.length;r++){var u=e[r];u.Zqt&&(t+=u.Zqt.ct)}return t}},{key:"hJt",get:function(){}}]),n}(MQ),VQ={height:0,width:0,clickThrough:"",contentHTML:"",resourceURI:"",altText:""},FQ=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this)||this).HJt=!1,o.jJt=n,o.pYt=i,o.hYt=r,o.WJt=e,o.uKt=u,o.Qjt=s,o}It(n,t);var i=n.prototype;return i.GJt=function(){return this.HJt},i.ZJt=function(){this.HJt=!0},i.XJt=function(t){return $u({},VQ,{resourceURI:t.QKt||""})},i.zJt=function(t){return $u({},VQ,{contentHTML:t.QKt.trim(),type:"HTMLResource"})},i.qJt=function(t){var n,i;return $u({},VQ,{clickThrough:(null==(n=t.FYt)?void 0:n.trim())||"",resourceURI:(null==(i=t.QKt)?void 0:i.trim())||"",altText:t.BYt||"",type:"StaticResource"})},i.YJt=function(t,n,i){if(t&&n){var r="<img "+(i?"title='"+i+"' ":"")+"src='"+encodeURI(t)+"'>";return"<a href='"+encodeURI(n)+"' target='_blank' rel='noopener'>"+r+"</a>"}},i.zqt=function(t){var n=this;return t?t.map((function(t){var i,r={adSlotId:t.IYt||"",height:t.Ti||0,width:t.ji||0};if(t.$qt){var e,u=n.qJt(t.$qt),s=u.clickThrough||(null==(e=t.NYt)?void 0:e.FYt);i=$u({},u,{contentHTML:n.YJt(u.resourceURI,s,u.altText)||""})}else if(t.sYt)i=n.zJt(t.sYt);else{if(!t.eYt)return;i=n.XJt(t.eYt)}return Eg(i,r)})).filter((function(t){return void 0!==t})):[]},i.KJt=function(){return this.jJt.Oqt},Nt(n,[{key:"Yl",get:function(){return this.hYt}},{key:"ant",get:function(){return this.Qjt}},{key:"Yqt",get:function(){return this.uKt}}]),n}(LQ),UQ=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,n,i,e,u,s,o)||this).QJt=r,a}It(n,t);var i=n.prototype;return i.ma=function(){var t=this.hYt,n={companions:this.zqt(this.pYt),type:"nonlinear",id:this.jJt.aYt,skipOffset:this._Kt,integration:this.Qjt.integration,adSystem:this.jJt.Oqt,get adBreak(){return t.Xst()},creativeId:this.jJt.aYt,universalAdIds:this.uKt.map((function(t){return{adIdRegistry:t._jt,adIdValue:t.mjt}}))};return this.jJt.eYt?Eg(this.XJt(this.jJt.eYt),n):this.jJt.sYt?Eg(this.zJt(this.jJt.sYt),n):this.jJt.$qt?Eg(this.qJt(this.jJt.$qt),n):n},i.Xst=function(){var t;return null!=(t=this.Za)?t:this.Za=this.ma()},i.JJt=function(){var t,n;return null!=(n=null==(t=this.jJt.$qt)?void 0:t.QKt)?n:""},i.$Jt=function(){var t,n,i;return null!=(i=null==(n=this.jJt)||null==(t=n.$qt)?void 0:t.$Kt)?i:""},Nt(n,[{key:"qqt",get:function(){return this.jJt}},{key:"Xqt",get:function(){return this.QJt}},{key:"_Kt",get:function(){var t,n=this.jJt.Yl;return n&&n.ant&&void 0!==n.ant.skipOffset?WJ.Kjt(n.ant.skipOffset,this.WJt.MJt.ct):(null==(t=this.jJt.Yl)?void 0:t._Kt)||-1}}]),n}(FQ),WQ=function(t){function n(n,i,r,e,u,s){return t.call(this,n,i,r,e,u,s)||this}It(n,t);var i=n.prototype;return i.ma=function(){var t,n=this.hYt,i=this.jJt;return{companions:this.zqt(this.pYt),duration:i.ct,id:i.aYt,mediaFiles:i.lKt,get mediaUrl(){return i.gKt},skipOffset:this._Kt,type:"linear",integration:this.Qjt.integration,adSystem:i.Oqt,width:void 0,height:void 0,get adBreak(){return n.Xst()},clickThrough:null==(t=i.eKt)?void 0:t.FYt,creativeId:i.aYt,universalAdIds:this.uKt.map((function(t){return{adIdRegistry:t._jt,adIdValue:t.mjt}})),closedCaptionFiles:i.wKt}},i.Xst=function(){var t;return null!=(t=this.Za)?t:this.Za=this.ma()},i.JJt=function(){return this.jJt.lKt.length>0?this.jJt.lKt[0].contentURL:""},i.$Jt=function(){return this.jJt.lKt.length>0?this.jJt.lKt[0].type:""},Nt(n,[{key:"Zqt",get:function(){return this.jJt}},{key:"_Kt",get:function(){var t=this.jJt.Yl;return t&&t.ant&&void 0!==t.ant.skipOffset?WJ.Kjt(t.ant.skipOffset,this.WJt.MJt.ct):this.jJt._Kt||-1}}]),n}(FQ);function ZQ(t){return t instanceof WQ}F(),Tt();var XQ=function(t){return t.t$t="csai",t.e$t="google-ima",t.Xh="google-dai",t.i$t="freewheel",t.s$t="mediatailor",t.Ev="chromecast",t.Dst="theoads",t}({});F(),Tt(),Rt();var GQ=function(t){function n(n){return t.call(this,"n$t",n)||this}return It(n,t),n.prototype.ma=function(){return new HQ(this.tnt.Xst())},n}(PL),HQ=function(t){function n(n){return t.call(this,"updatead",n)||this}return It(n,t),n}(xL);F(),Tt(),Rt();var zQ=function(t){function n(n){return t.call(this,"r$t",n)||this}return It(n,t),n.prototype.ma=function(){return new YQ(this.tnt.Xst())},n}(PL),YQ=function(t){function n(n){return t.call(this,"adloaded",n)||this}return It(n,t),n}(xL),jQ=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).h$t=[],e.o$t=void 0,e.jJt=void 0,e.Za=void 0,e.Yr=function(t){var n;if(t){var i=e.mQt.gN,r=i.breakStatus,u=i.media,s=u.breakClips,o=u.breaks,a=null==(n=Mq(i))?void 0:n.media,c=[];o&&s&&e.l$t(o,s,a,c),e.v$t(r,c);for(var h=0;h<c.length;h++){var f=c[h];e.yo(f)}}},e.ta=n,e.mQt=i,e.u$t=r,e.mQt.AQt(e.Yr),e}It(n,t);var i=n.prototype;return i.o6=function(t,n,i){throw new _("Scheduling ads while casting is not supported.")},i.RD=function(){this.mQt.DQt()},i.Qst=function(t){var n;null==(n=this.u$t)||n.Qst(t)},i.Kst=function(t,n){var i;null==(i=this.u$t)||i.Kst(t,n)},i.c$t=function(t){return ao(this.h$t,(function(n){return n.o===t}))},i.l$t=function(t,n,i,r){for(var e=this.h$t,u=[],s=!1,o=0;o<t.length;o++){var a=t[o],c=this.c$t(a.id);void 0===c&&(c=new KQ(a),r.push(new NL(c))),!Yn(c.d$t)&&Yn(i)&&(c.d$t=this.f$t(c._$t,i));var h=c.Vc;c.Yn(a,n,i,r);for(var f=c.Vc,v=0;v<f.length;v++){var d=f[v];mo(h,d)||(r.push(new LL(d)),s=!0)}u.push(c)}this.h$t=u,s&&r.push(new GL);for(var l=0;l<e.length;l++){var g=e[l];mo(u,g)||r.push(new RL(g))}},i.v$t=function(t,n){var i,r,e=this.o$t,u=this.jJt;if(t){var s,o=t.breakId,a=t.breakClipId;i=o?this.c$t(o):void 0,r=a?null==(s=this.o$t)?void 0:s.m$t(a):void 0}if(this.o$t=i,this.jJt=r,i!==e&&(void 0!==e&&(e.g$t=void 0,n.push(new OL(e))),void 0!==i&&(i.g$t=this.mQt,n.push(new VL(i)))),r!==u){var c=this.ta.bR();void 0!==u&&n.push(new ZL(u,c)),void 0!==r&&n.push(new UL(r,c))}},i.f$t=function(t,n){if(n&&n.breaks){var i=ao(n.breaks,(function(n){return n.id===t.id}));return i}},i.jst=function(t){for(var n=[],i=0,r=this.h$t;i<r.length;i++){var e=r[i],u=e.Vc;if(e===this.o$t&&void 0!==this.jJt){var s=u.indexOf(this.jJt);s>=0&&(u=u.slice(s))}else if(e.a$t())continue;for(var o=0;o<u.length;o++){var a=u[o].p$t();a&&n.push(a)}}for(var c=0;c<n.length;c++){var h=n[c];t.o6(h,AL.Gst,!1)}},i.gn=function(){return this.Bo(),this.mQt.SQt(this.Yr),void 0!==this.o$t&&(this.o$t.g$t=void 0,this.o$t=void 0),this.jJt=void 0,po(this.h$t),et.resolve(void 0)},Nt(n,[{key:"$c",get:function(){return void 0!==this.o$t}},{key:"Zst",get:function(){return this.jJt?[this.jJt]:[]}},{key:"zst",get:function(){var t;return null!=(t=this.o$t)?t:null}},{key:"qst",get:function(){var t=this;return bo(this.h$t,(function(n){var i=n.Vc;if(n===t.o$t&&void 0!==t.jJt){var r=i.indexOf(t.jJt);if(r>=0)return i.slice(r+1)}return n.a$t()?[]:i}))}},{key:"Yst",get:function(){var t=this;return this.h$t.filter((function(n){return n===t.o$t||!n.a$t()}))}},{key:"ga",get:function(){var t;return null!=(t=this.Za)?t:this.Za=TL(this)}}]),n}(ra),KQ=function(t){function n(n){var i;return(i=t.call(this)||this).d$t=void 0,i.Dc=[],i.g$t=void 0,i.w$t=n,i}It(n,t);var i=n.prototype;return i.a$t=function(){return this.w$t.isWatched},i.m$t=function(t){return ao(this.Dc,(function(n){return n.o===t}))},i.Yn=function(t,n,i,r){for(var e,u=function(u){var o=t.breakClipIds[u],a=ao(n,(function(t){return t.id===o}));if(void 0===a)return"continue";var c=u<e.Dc.length?e.Dc[u]:new qQ(a,e);!Yn(c.y$t)&&Yn(i)&&(c.y$t=e.b$t(i,o,u)),c.Yn(a,r),s.push(c)},s=[],o=0;o<t.breakClipIds.length;o++)e=this,u(o);this.w$t=t,this.Dc=s},i.b$t=function(t,n,i){if(t&&t.breakClips){var r=ao(t.breakClips,(function(t){return t.id===n}));if(!r){var e,u=null==(e=this.d$t)?void 0:e.breakClipIds[i];u&&(r=ao(t.breakClips,(function(t){return t.id===u})))}return r}},Nt(n,[{key:"_$t",get:function(){return this.w$t}},{key:"o",get:function(){return this.w$t.id}},{key:"Vc",get:function(){return this.Dc}},{key:"jjt",get:function(){return XQ.Ev}},{key:"DJt",get:function(){var t=this.w$t.duration;return void 0===t&&this.Dc.length>0&&(t=fr(this.Dc,(function(t){return t.ct})),S(t)&&(t=void 0)),t}},{key:"NJt",get:function(){var t=this.DJt;if(void 0!==t&&void 0!==this.g$t){var n=this.g$t.PQt();if(void 0!==n)return k.max(0,t-n)}return t}},{key:"ZBt",get:function(){return this.w$t.position}},{key:"hJt",get:function(){}}]),n}(MQ),qQ=function(){function t(t,n){this.Za=void 0,this.S$t=t,this.Yl=n}var n=t.prototype;return n.KJt=function(){return""},n.$Jt=function(){var t;return null!=(t=this.S$t.contentType)?t:""},n.JJt=function(){var t,n;return null!=(n=null!=(t=this.S$t.contentUrl)?t:this.S$t.contentId)?n:""},n.Yn=function(t,n){var i=this.o,r=this.ct,e=this.S$t.contentUrl;this.S$t=t;var u=this.o,s=this.ct,o=this.S$t.contentUrl;i===u&&(r===s||S(r)&&S(s))&&e===o||n.push(new GQ(this)),S(r)&&!S(s)&&n.push(new zQ(this))},n.p$t=function(){var t;return this.y$t&&(t=HJ(this.y$t,this.Yl.ZBt)),t||(t=HJ(this.S$t,this.Yl.ZBt)),t},n.Xst=function(){var t;return null!=(t=this.Za)?t:this.Za=this.ma()},n.ma=function(){var t=this;return{get companions(){return t.gYt},get duration(){return t.ct},get id(){return t.o},get mediaFiles(){return t.lKt},get mediaUrl(){return t.gKt},get closedCaptionFiles(){return[]},get skipOffset(){return t._Kt},type:"linear",integration:XQ.Ev,get adSystem(){return t.KJt()},width:void 0,height:void 0,get adBreak(){return t.Yl.Xst()},get resourceURI(){return t.JJt()},get clickThrough(){return t.FYt},get creativeId(){return t.aYt},get customData(){return t.hJt},get isSlate(){return!1},get universalAdIds(){return t.Yqt.map((function(t){return{adIdRegistry:t._jt,adIdValue:t.mjt}}))}}},Nt(t,[{key:"A$t",get:function(){return this.S$t}},{key:"o",get:function(){return this.S$t.id}},{key:"gYt",get:function(){return[]}},{key:"ct",get:function(){var t;return null!=(t=this.S$t.duration)?t:NaN}},{key:"lKt",get:function(){var t=this.JJt();return t?[{contentURL:t,delivery:"progressive",type:this.$Jt(),width:0,height:0}]:[]}},{key:"gKt",get:function(){return this.JJt()}},{key:"_Kt",get:function(){var t=this.S$t.whenSkippable;return void 0===t?void 0:t<0?-1:t}},{key:"FYt",get:function(){return this.S$t.clickThroughUrl}},{key:"aYt",get:function(){}},{key:"Yqt",get:function(){return[]}},{key:"hJt",get:function(){}}]),t}();F(),Tt(),Dt(),Rt();var JQ=function(t){function n(n,i){var r;return void 0===i&&(i=Kn.Ys.Je),(r=t.call(this)||this).He=!1,r.x$t=function(t){t.stopPropagation(),r.yo(new ea("clickstart"))},r.R$t=function(t){t.stopPropagation(),r.yo(new ea("click"))},r.QE=n,r.E$t=i,r.Vs=v.createElement("a"),r.Vs.style.position="absolute",r.Vs.style.zIndex="11",r.Vs.target="Vu",r.E$t?(ux(r.Vs,"learn more"),r.Vs.className="theoplayer-ad-overlay-component theoplayer-ad-touch-clickthrough",r.Vs.setAttribute("rel","noopener")):gi(r.Vs),r.QE.appendChild(r.Vs),r.sW(),r}It(n,t);var i=n.prototype;return i.iW=function(){if(!this.He){this.He=!0,this.Vs.style.display="",this.E$t||(this.QE.style.cursor="pointer");var t=this.E$t?this.Vs:this.QE;Kn.Ys.Je?(t.addEventListener("touchstart",this.x$t),t.addEventListener("touchend",this.R$t)):(t.addEventListener("mousedown",this.x$t),t.addEventListener("click",this.R$t))}},i.sW=function(){if(this.He){this.He=!1,this.Vs.style.display="none",this.E$t||(this.QE.style.cursor="");var t=this.E$t?this.Vs:this.QE;Kn.Ys.Je?(t.removeEventListener("touchstart",this.x$t),t.removeEventListener("touchend",this.R$t)):(t.removeEventListener("mousedown",this.x$t),t.removeEventListener("click",this.R$t))}},i.Ww=function(){this.Bo(),this.sW(),this.QE.removeChild(this.Vs)},Nt(n,[{key:"T$t",get:function(){return this.k$t},set:function(t){this.k$t!==t&&(this.k$t=t,this.Vs.href=null!=t?t:"",t?this.iW():this.sW())}}]),n}(na);F(),Tt(),Dt(),Rt(),F(),Tt();var QQ=[1200,992,768,576],$Q={1200:"theo-size-xl",992:"theo-size-l",768:"theo-size-m",576:"theo-size-s"},t$=function(){function t(t,n){var i=this;this.Vs=t,this.Xu=n,this.mn=function(t){i.I$t(t.width)},this.C$t=n$(n.Su),fi(this.Vs,this.C$t),n.yn(eI.pn,this.mn)}var n=t.prototype;return n.I$t=function(t){var n=n$(t);n!==this.C$t&&(fi(this.Vs,n),function(t,n){if(void 0!==t.classList)t.classList.remove(n);else if(void 0!==t.className){for(var i=" "+ci(t)+" ",r=" "+n+" ";-1!==i.indexOf(r);)i=i.replace(r," ");hi(t,i.trim())}}(this.Vs,this.C$t),this.C$t=n)},n.gn=function(){this.Xu.fn(eI.pn,this.mn)},t}();function n$(t){for(var n=0;n<QQ.length;n++){var i=QQ[n];if(t>i)return $Q[i]}return"theo-size-xs"}var i$=function(t){function n(n,i){var r;return(r=t.call(this)||this).L$t=function(){r.yo(new ea("RD"))},r.Vs=v.createElement("div"),r.we.className="theoplayer-ad-overlay-component theoplayer-ad-skip theoplayer-ad-skip-countdown",r.we.style.position="absolute",r.Zl=v.createElement("span"),r.we.appendChild(r.Zl),i&&(r.B$t=v.createElement("div"),r.B$t.className="theoplayer-ad-skip-poster",r.B$t.style.backgroundImage='url("'+zs(i)+'")',r.we.appendChild(r.B$t)),r.qo="countdown",r.Gu=new t$(r.we,n),r}It(n,t);var i=n.prototype;return i.P$t=function(t){"countdown"!==this.qo&&(this.qo="countdown",this.D$t(),this.we.classList.remove("theoplayer-ad-skip-button"),this.we.classList.add("theoplayer-ad-skip-countdown")),this.Tk="You can skip in "+k.round(t)+" seconds"},i.N$t=function(){"skip"!==this.qo&&(this.qo="skip",this.Tk="Skip Ad",this.M$t(),this.we.classList.remove("theoplayer-ad-skip-countdown"),this.we.classList.add("theoplayer-ad-skip-button"))},i.M$t=function(){this.we.addEventListener("mouseup",this.L$t),this.we.addEventListener("touchend",this.L$t)},i.D$t=function(){this.we.removeEventListener("mouseup",this.L$t),this.we.removeEventListener("touchend",this.L$t)},i.gn=function(){this.Bo(),this.D$t(),this.Gu.gn(),oi(this.Vs),oi(this.Zl),this.B$t&&oi(this.B$t)},Nt(n,[{key:"we",get:function(){return this.Vs}},{key:"TE",get:function(){return this.qo}},{key:"Tk",get:function(){return this.Zl.textContent||""},set:function(t){ux(this.Zl,t)}}]),n}(na),r$=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).bxt=AA.fB(),s.n0t=void 0,s.T4=!1,s.HG=void 0,s.j$t=void 0,s.E4=pp.jB,s.h0t=!1,s.Fo=AA.fB(),s.n4=void 0,s.rZ=!1,s.rO=new Yg,s.hO=new Yg,s.Ul=new Xy,s.txt=NaN,s.s0t=void 0,s.K$t=!1,s.i0t=NaN,s.t0t=void 0,s.H$t=0,s.m0t=function(t,n){switch(t){case"buffered":s.bxt=new AA(n),s.yo(new BR(s.bR()));break;case"currentProgramDateTime":s.n0t=new Date(n).getTime()-s.bR();break;case"played":s.Fo=new AA(n);break;case"seekable":s.z$t();break;case"videoHeight":s.$$t(void 0,n);break;case"videoWidth":s.$$t(n,void 0)}},s.x3=function(t){switch(t.type){case ua.qy:s.We(t.currentTime);break;case ua.zy:s.pH();break;case ua.Zy:s.yo(new OB(t.representation,t.previousRepresentation));break;case ua.Yy:s.yo(new hB(t.segmentStartTime,t.error,t.trackType,t.track,t.quality,t.retryCount));break;case ua.Ey:s.yo(new EW(t.currentTime,t.initDataType,t.initData));break;case ua.py:s.yo(new jD(new qg(Qv.CONTENT_PROTECTION_ERROR,t.error,void 0,t.licenseAcquisitionURL,t.status,t.statusText,t.licenseAcquisitionMessage,t.systemCode)));break;case ua.wy:s.yo(new KD)}},s.sJt=function(t){s.z$t(),s.Y$t(),s.th(),s.Q$t(),s.e0t(),s.X$t(),s.V$t(),s.O$t(),s.a0t(),s.c0t(),s.f0t(),t||e$(s.mQt.gN)&&s.Sh()},s.ld=function(){s.e0t(),s.f0t()},s.g0t=function(t){s.yo(t)},s.r0t=ki((function(t){return s.K9(t)}),50),s.xQt=function(t){s.s0t=void 0,s.yo(new YJ(t))},s.d0t=function(){s.bI()},s.v0t=function(){s.Dc.RD()},s.ta=n,s.ONt=r,s.mQt=e,s.Dc=new jQ(n,e,i.Vc),s._Jt=u.pJt(),s.IA=u._d()-s._Jt,s.hZ=u.XR(),s.aZ=u.qR(),s.mJt=u.lI(),s.gJt=u.aI(),s.mQt.yQt(s.x3),s.mQt.gQt(s.m0t),s.mQt.AQt(s.sJt),s.mQt.yn(zJ._Qt,s.g0t),s.mQt.TQt().then((function(t){s.yo(new jJ(t.bt,t.kc))}),s.xQt),s}It(n,t);var i=n.prototype;return i.O$t=function(){var t=this.mQt.gN.activeTrackIds;if(t){if(this.F$t()){var n=this.hO.oC.map((function(t){return t.o})),i=this.rO.oC.map((function(t){return t.o}));mo(n.concat(i),"0")&&t.push(0)}a$(t,this.rO),a$(t,this.hO),function(t,n){for(var i=!1,r=0,e=n.oC;r<e.length;r++){var u=e[r];u.TJt=mo(t,u.TC)?Oy.Jn:Oy.Ch}}(t,this.Ul)}},i.V$t=function(){var t,n=null==(t=this.mQt.gN.media)?void 0:t.tracks;if(n){var i=n.filter(AQ),r=n.filter(TQ),e=n.filter(SQ);if(this.F$t()&&0===r.length&&0!==this.lI()){var u=this.W$t();r.push(u)}if(this.F$t()&&0===i.length){var s=this.U$t();i.push(s)}s$(this.rO,i.map((function(t){return t.trackId}))),s$(this.hO,r.map((function(t){return t.trackId}))),s$(this.Ul,e.map((function(t){return t.trackId}))),o$(i,this.rO),o$(r,this.hO),function(t,n){for(var i=!1,r=0;r<t.length;r++){var e=t[r],u=u$(n,e.trackId);u||(u=new EQ(e),n.tt(u),i=!0)}}(e,this.Ul)}},i.G$t=function(){this.hZ||(this.H$t=m(this.ld,250))},i.Z$t=function(){y(this.H$t)},i.X$t=function(){this.Z$t(),this.G$t()},i.z$t=function(){var t,n,i=this.mQt.gN,r=i.media,e=null!=(n=null==r?void 0:r.duration)?n:NaN,u=(null==r?void 0:r.streamType)===chrome.cast.media.StreamType.LIVE||e<0,s=u?1/0:e;this.IA=s,this.q$t();var o=i.getEstimatedLiveSeekableRange(),a=null==(t=i.customData)?void 0:t.buffers;if(Yn(o)){var c=o.start,h=o.end,f=o.isMovingWindow,v=void 0===f?u:f,d=o.isLiveDone,l=void 0!==d&&d;this.DFt(c,h,v,l)}else if(Yn(a)){var g=tn(a.seekable,2),w=g[0],m=g[1];this.DFt(w,m,u,!1)}else u?this.DFt(void 0,void 0,!0,!1):this.DFt(0,s,!1,!1)},i.Y$t=function(){var t=this.mQt.gN,n=function(t){return void 0!==t&&t.playerState===chrome.cast.media.PlayerState.PAUSED}(t)||e$(t);this.K$t=n,this.hZ!==n&&(this.hZ=n,this.hZ?this.yo(new oT(this.bR())):this.yo(new aT(this.bR())))},i.th=function(){var t=this.mQt.gN.playbackRate;this.j$t!==t&&(this.j$t=void 0,this.aZ!==t&&(this.aZ=t,this.yo(new hT(this.bR(),t))))},i.Q$t=function(){var t;switch(this.mQt.gN.playerState){case chrome.cast.media.PlayerState.IDLE:t=pp.jB;break;case chrome.cast.media.PlayerState.BUFFERING:t=pp.Xn;break;case chrome.cast.media.PlayerState.PAUSED:case chrome.cast.media.PlayerState.PLAYING:t=pp.JB}this.R4(t),this.J$t()},i.DFt=function(t,n,i,r){Yn(t)&&Yn(n)?this.n4=new jC(t,n,i,i&&!r):this.n4=void 0},i.$$t=function(t,n){this.gJt=null!=n?n:this.gJt,this.mJt=null!=t?t:this.mJt,this.yo(new lp)},i.We=function(t){this.t0t!==t?(this.rZ=!0,this.yo(new vT(this.bR()))):this.t0t=void 0},i.pH=function(){if(this.rZ){this.rZ=!1;var t=this.bR();this.yo(new vg(t,this.gR())),this.yo(new dT(t))}},i.Sh=function(){this.T4=!0,this.ER()&&this.yo(new fT(this.bR()))},i.q$t=function(){var t=this.txt,n=this._d();t===n||S(t)&&S(n)||(this.txt=n,this.yo(new cT(n)))},i.e0t=function(){var t=this.bR();this.rZ||this.i0t===t||(this.i0t=t,this.yo(new vg(t,this.gR())))},i.vJt=function(){this.hZ&&(this.hZ=!1,this.yo(new aT(this.bR())),this.R4(pp.jB))},i.Tst=function(){return this.Dc},i.vR=function(){return this.bxt.Ab(this._Jt)},i.bR=function(){if(this.Dc.$c){var t=this.mQt.CQt();if(void 0!==t)return t}return this.fst()},i.fst=function(){return void 0!==this.s0t?this._Jt+this.s0t:this.T4?this._d():this._Jt+this.mQt.IQt()},i.gR=function(){if(this.n0t)return new Date(this.fst()+this.n0t)},i._d=function(){if(this.Dc.$c){var t,n=null==(t=this.Dc.Zst[0])?void 0:t.ct;if(void 0!==n&&!S(n))return n}return this._Jt+this.IA},i.xR=function(){return this.HG},i.ER=function(){return!this.Dc.$c&&this.T4},i.XR=function(){return this.hZ},i.qR=function(){return this.aZ},i.YR=function(t){this.aZ!==t&&(this.j$t=this.aZ,this.aZ=t,this.yo(new hT(this.bR(),t)),this.mQt.YR(t))},i.eI=function(){return this.E4},i.jR=function(){return this.Dc.$c?AA.dB(0,this.bR()):this.Fo.Ab(this._Jt)},i.sI=function(){var t,n;if(this.Dc.$c)return AA.fB();var i=null!=(n=null==(t=this.n4)?void 0:t.m3().Ab(this._Jt))?n:AA.fB();if(i.V>0){var r=i.jn(i.V-1);i=i.KL(AA.dB(r,this.bR()))}return i},i.rI=function(){return this.rZ},i.lR=function(){return this.rO},i.uI=function(){return this.hO},i.oI=function(){return this.Ul},i.W$t=function(){return{customData:{activeQuality:{averageBandwidth:0,bandwidth:0,codecs:"",frameRate:0,height:this.aI(),id:"0",name:"",width:this.lI()},enabled:!0,id:"0",kind:"main",label:"",language:"",qualities:[],uid:0},language:"",name:"",trackContentId:"",trackContentType:"",trackId:0,type:bQ.lE}},i.U$t=function(){return{customData:{activeQuality:{averageBandwidth:0,bandwidth:0,codecs:"",id:"0",name:"",audioSamplingRate:0},qualities:[],enabled:!0,id:"0",kind:"main",label:"",language:"",uid:0},language:"",name:"",trackContentId:"",trackContentType:"",trackId:0,type:bQ.cE}},i.F$t=function(){var t,n;return!(void 0!==(null==(t=this.ONt.kQt())?void 0:t.version))||(null==(n=this.ONt.kQt())?void 0:n.sdkType)===DQ.CJt},i.RQt=function(t){this.F$t()&&lo(t,0),this.mQt.RQt(t)},i.lI=function(){return this.mJt},i.aI=function(){return this.gJt},i.AI=function(){this.hZ&&(this.hZ=!1,this.K$t=!1,this.yo(new aT(this.bR()))),this.mQt.AI()},i.bI=function(){this.hZ||(this.hZ=!0,this.K$t=!0,this.yo(new oT(this.bR()))),this.mQt.bI()},i.Sb=function(t){if(!this.Dc.$c){var n=k.max(0,t-this._Jt);n=k.round(1e6*n)/1e6;var i=this.s0t;this.s0t=n,this.K$t=this.XR(),this.t0t=n,this.rZ=!0,this.yo(new vT(this.bR())),void 0===i&&(this.F$t()?this.r0t(n):this.K9(n))}},i.K9=function(t){this.mQt.Sb(t,this.K$t).then(this.o0t(t)).catch(this.xQt)},i.o0t=function(t){var n=this;return function(){void 0!==n.s0t&&(n.s0t===t?n.s0t=void 0:n.K9(n.s0t))}},i.R4=function(t){this.E4!==t&&(this.E4=t,this.yo(new yp(this.bR(),t))),void 0===this.s0t&&this.rZ&&t>=pp.QB&&this.pH(),this.J$t()},i.J$t=function(){if(this.hZ)this.h0t=!1;else{var t=this.E4>=pp.JB;this.h0t!==t&&(this.h0t=t,t?this.yo(new Sp(this.bR())):this.yo(new kp(this.bR())))}},i.a0t=function(){this.u0t||(this.u0t=v.createElement("div"),this.ta.we.appendChild(this.u0t),this.u0t.className="theoplayer-ad-linear theoplayer-chromecast-ad",this.u0t.style.zIndex="10",gi(this.u0t)),this.u0t.style.display=this.Dc.$c?"":"none"},i.c0t=function(){var t,n=null==(t=this.Dc.Zst[0])?void 0:t.FYt;n&&!this.l0t?(this.l0t=new JQ(this.u0t,!0),this.l0t.T$t=n,this.l0t.yn("clickstart",this.d0t)):this.l0t&&(this.l0t.T$t=n)},i.f0t=function(){var t,n=null==(t=this.Dc.Zst[0])?void 0:t._Kt;if(void 0===n||n<0)this._0t&&(this._0t.gn(),this._0t=void 0);else{if(!this._0t){var i,r=null==(i=this.ta.Ca)?void 0:i.mi;this._0t=new i$(this.ta.Uu,r),this.u0t.appendChild(this._0t.we),this._0t.yn("RD",this.v0t)}var e=this.mQt.CQt();void 0!==e&&(e<n?this._0t.P$t(n-e):this._0t.N$t())}},i.pJt=function(){return this._Jt},i.wJt=function(t){this._Jt=t},i.jst=function(t){},i.SI=function(){this.mQt.SI()},i.gn=function(){this.Bo(),this.Dc.gn(),this.l0t&&(this.l0t.Ww(),this.l0t=void 0),this._0t&&(this._0t.gn(),this._0t=void 0),this.u0t&&(oi(this.u0t),this.u0t=void 0),this.mQt.bQt(this.x3),this.mQt.wQt(this.m0t),this.mQt.SQt(this.sJt),this.mQt.fn(zJ._Qt,this.g0t),this.mQt.gn()},n}(na);function e$(t){return void 0!==t&&t.playerState===chrome.cast.media.PlayerState.IDLE&&t.idleReason===chrome.cast.media.IdleReason.FINISHED}function u$(t,n){for(var i=0,r=t.oC;i<r.length;i++){var e=r[i];if(e.TC===n)return e}}function s$(t,n){for(var i=!1,r=0;r<t.V;r++){var e=t.aC(r);-1===n.indexOf(e.TC)&&(t.it(e),r--,i=!0)}return i}function o$(t,n){for(var i=!1,r=0;r<t.length;r++){var e=t[r],u=u$(n,e.trackId);u||(u=new NQ(e),n.tt(u),i=!0)}return i}function a$(t,n){for(var i=0,r=n.oC;i<r.length;i++){var e=r[i];e.RJt=mo(t,e.TC)}return!1}F(),Tt();var c$=function(){function t(){}var n=t.prototype;return n.bnt=function(t){return et.resolve("all")},n.yI=function(){},n.gn=function(){},t}();F(),Tt();var h$=[ua.xy,ua.Sy,ua.Hy,ua.Xy,ua.Uy,ua.so,ua.Gy,ua.$y,ua.qy,ua.zy,wp.LL,wp.BL,ua.Zy,ua.Yy,ua.Ey,ua.py,ua.wy],f$=function(t){function n(n,i){var r;return(r=t.call(this,n,!0)||this).Kh=!1,r.G0t=pi,r.AW=pp.jB,r.mW=!1,r.wW=!1,r.T0t=!1,r.A0t=void 0,r.HG=void 0,r.ZG=void 0,r.rO=new qk,r.hO=new qk,r.Ul=new Jk,r.Zo=new KT,r.oO=new Qk,r.hst=new c$,r.O0t=void 0,r.F0t=void 0,r.V0t=void 0,r.Z0t=function(t){var n,i;(Yn(t.dI)&&!ur(t.dI,r.UA,1e-5)||Yn(t.FR)&&t.FR!==r.oZ)&&(r.UA=null!=(n=t.dI)?n:r.UA,r.oZ=null!=(i=t.FR)?i:r.oZ,r.yo(new lT(r.yR,r.UA)))},r.X0t=function(){var t=r.ONt.nJt();r.Rft=t?new r$(r,r.ta,r.ONt,t,r.Ea):r.H0t()},r.y0t=function(t){r.sZ(t.bt),r.p0t(t.kc)},r.z0t=function(t){var n=r.w0t(t.bN);if(n){var i={targetQualityIds:t.YQt};n.kJt(i)}},r.g0t=function(t){r.E0t(t.lt)},r.E0t=function(t){r.G0t&&r.G0t(t)},r.oMt=function(t){r.HG=t.lt,r.ZG=nw(r.HG),r.yo(new wk(r.ZG))},r.N0t=function(t){if(t.enabled)for(var n=0,i=(r.rt.oC.some((function(n){return n.TC===t.trackId}))?r.rt:r.ht).oC;n<i.length;n++){var e=i[n];e.Rt&&e.TC!==t.trackId&&(e.Rt=!1)}},r.M0t=function(t){if(t.mode===Oy.Jn)for(var n=0,i=r.nt.oC;n<i.length;n++){var e=i[n];e.TE===Oy.Jn&&e.TC!==t.trackId&&Yy(e.Lt,t.track.Lt)&&(e.TE=Oy.Ch)}},r.O$t=ki((function(){r.L0t()}),50),r.P0t=function(){var t,n,i=[],e=null!=(t=ao(r.ht.oC,(function(t){return b$(t,r.O0t)})))?t:ao(r.ht.oC,(function(t){return t.Rt}));e&&i.push(e.TC);var u,s=null!=(n=ao(r.nt.oC,(function(t){return b$(t,r.F0t)})))?n:ao(r.nt.oC,(function(t){return t.TE===Oy.Jn}));s&&i.push(s.TC);var o=null!=(u=ao(r.rt.oC,(function(t){return b$(t,r.V0t)})))?u:ao(r.rt.oC,(function(t){return t.Rt}));o&&i.push(o.TC),0!==i.length&&r.Ea.RQt(i)},r.dpt=function(t){var n=r.W0t(t.targetQuality),i=t.track;r.ONt.KQt(i.TC,i.n3,n)},r.NW=function(t){r.yo(t);var n=t.readyState;!r.mW&&r.AW===pp.jB&&n>=pp.Xn&&(r.mW=!0,r.yo(new _p(t.currentTime))),!r.wW&&r.AW<=pp.Xn&&n>=pp.QB&&(r.wW=!0,r.yo(new bp(t.currentTime))),r.AW<=pp.QB&&n>=pp.JB&&r.yo(new Ap(t.currentTime)),r.AW<=pp.JB&&n===pp.$B&&r.yo(new Tp(t.currentTime)),r.AW=n},r.UA=r.ta.dI,r.oZ=r.ta.FR,r.ONt=i,r.ONt.yn(sQ._Qt,r.g0t),r.ONt.yn(sQ.XQt,r.oMt),r.ONt.yn(sQ.eb,r.Z0t),r.ONt.yn(sQ.ZQt,r.X0t),r.ONt.yn(sQ.zQt,r.z0t),r.Dc=new zL(r),r.KH=r.ta.bt,r.wc=r.ta.Ya(),r.Rft=new yQ(r,0,r.ta.fst(),r.ta._d(),r.ta.kR,r.ta.ZR,r.ta.zR,r.ta.cI,r.ta.hI),r.x0t(),r}It(n,t);var i=n.prototype;return i.sZ=function(t){t&&(Rg(this.KH&&Dg(this.KH),t&&Dg(t))||(this.KH=t,this.yo(new ET(t))))},i.p0t=function(t){if(t){var n=rE(t,this.ta.md);Rg(this.wc&&Dg(this.wc),n&&Dg(n))||(this.Ea.wJt(0),this.wc=n,this.yo(new mL(n)),this.Ea.vJt())}},i.w0t=function(t){for(var n=0,i=this.rt.oC;n<i.length;n++){var r=i[n];if(r.TC===t)return r}for(var e=0,u=this.ht.oC;e<u.length;e++){var s=u[e];if(s.TC===t)return s}},i.Tst=function(){return this.Dc},i.kst=function(){return this.hst},i.lR=function(){return this.rO},i.vR=function(){return this.Ea.vR().ks()},i.$n=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return t?[4,i.rJt(t,null!=(r=t.ads)?r:[],t.streamType,NaN,0,null!=n?n:0)]:[2];case 1:return e.sent(),[2]}}))}))()},i.S0t=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:return(r=null!=(i=n.A0t)?i:n.wc)?(u=n.A0t?null!=(e=n.A0t.ads)?e:[]:n.fnt(),s=n.ta._d(),o=n.ta.sI(),a=function(t,n,i){return S(t)?i:t===1/0?"live"===i||"dvr"===i?i:n&&n.length>0&&n.end(n.length-1)-n.start(0)>60?"dvr":"live":"vod"}(s,o,r.streamType),c=o.length>0?o.start(0):0,h=null!=t?t:n.fst(),[4,n.rJt(r,u,a,s,c,h)]):[2];case 1:return f.sent(),[2]}}))}))()},i.fnt=function(){var t=new jL;return this.Dc.jst(t),t.fnt()},i.gR=function(){return this.Ea.gR()},i.wR=function(){return this.KH},i.bR=function(){return this.Ea.bR()},i.fst=function(){return this.Ea.fst()},i.AR=function(t,n){this.T0t||(this.ONt.nJt()||this.T0t||!this.wc?this.Ea.Sb(t):this.$n(this.wc,t))},i._d=function(){return this.Ea._d()},i.ER=function(){return this.Ea.ER()},i.xR=function(){return this.HG},i.IR=function(){return this.ZG},i.DR=function(){return this.oO},i.OR=function(){return this.ta.LR},i.WR=function(){return this.oZ},i.UR=function(t){this.oZ=t,this.yo(new lT(this.yR,this.dI)),this.ONt.UR(t)},i.XR=function(){return this.Ea.XR()},i.qR=function(){return this.Ea.qR()},i.YR=function(t){this.Ea.YR(t)},i.jR=function(){return this.Ea.jR().ks()},i.JR=function(){return GT.qB},i.$R=function(t){},i.eI=function(){return this.Ea.eI()},i.sI=function(){return this.Ea.sI().ks()},i.rI=function(){return this.Ea.rI()},i.Ya=function(){return this.wc},i.ka=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.wc=t,[4,n.$n(t)];case 1:return i.sent(),n.A0t=void 0,n.Ea.vJt(),[2]}}))}))()},i.oI=function(){return this.Ul},i.aI=function(){return this.Ea.aI()},i.lI=function(){return this.Ea.lI()},i.uI=function(){return this.hO},i.fI=function(){return this.UA},i._I=function(t){this.UA=t,this.yo(new lT(this.yR,this.dI)),this.ONt._I(t)},i.wI=function(){},i.pI=function(){return this.Zo},i.yI=function(){},i.AI=function(){this.ONt.nJt()||this.T0t||!this.wc?this.Ea.AI():this.$n(this.wc)},i.bI=function(){this.Ea.bI()},i.ur=function(){this.Kh=!0},i.ar=function(){this.KH=void 0,this.Kh=!1},i.ge=function(){},i.be=function(){},i.rJt=function(t,n,i,r,e,u){var s=this;return Zt((function(){var o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:s.T0t=!0,s.k0t(),s.Ea.wJt(e),a=function(t,n,i){return{theoplayer_version:1,streamStart:t,isLive:n,sourceDescription:i}}(e,o="live"===i||"dvr"===i,t),c={oJt:t,Vc:n,yR:k.max(0,u-e),ct:r,s0:o?chrome.cast.media.StreamType.LIVE:chrome.cast.media.StreamType.BUFFERED,hJt:a},f.label=1;case 1:return f.trys.push([1,3,4,5]),[4,s.ONt.rJt(c)];case 2:return f.sent(),[3,5];case 3:return h=f.sent(),s.E0t(h),[3,5];case 4:return s.T0t=!1,[7];case 5:return[2]}}))}))()},i.x0t=function(){this.R0t(this.rO),this.R0t(this.hO),this.I0t(this.Ul)},i.R0t=function(t){for(var n=this,i=0,r=t.oC;i<r.length;i++){var e=r[i];this.C0t(e)}t.yn(mg.MI,(function(t){n.C0t(t.Ht),n.P0t()}))},i.I0t=function(t){for(var n=this,i=0,r=t.oC;i<r.length;i++){var e=r[i];this.D0t(e)}t.yn(mg.MI,(function(t){n.D0t(t.Ht),n.P0t()}))},i.C0t=function(t){t.yn(pQ.bJt,this.dpt),t.yn(pQ.AJt,this.N0t),t.yn(pQ.AJt,this.O$t)},i.D0t=function(t){t.yn(pQ.yJt,this.M0t),t.yn(pQ.yJt,this.O$t)},i.L0t=function(){for(var t=[],n=0,i=this.rt.oC;n<i.length;n++){var r=i[n];r.Rt&&t.push(r.TC)}for(var e=0,u=this.ht.oC;e<u.length;e++){var s=u[e];s.Rt&&t.push(s.TC)}for(var o=0,a=this.nt.oC;o<a.length;o++){var c=a[o];c.TE===Oy.Jn&&t.push(c.TC)}this.Ea.RQt(t)},i.B0t=function(t,n,i){this.O0t=t,this.F0t=n,this.V0t=i},i.W0t=function(t){var n,i;return!!t&&((null!=(i=null==(n=this.ONt.kQt())?void 0:n.version)?i:-1)>=2?t.map((function(t){return t.o})):[t[0].o])},i.U0t=function(t){this.G0t=t},i.xI=function(){},i.RI=function(){},i.DI=function(t){throw new p("Can't add a track while casting.")},i.SI=function(){var t=this;return Zt((function(){return Ht(this,(function(n){return t.Ea.SI(),t.k0t(),[2]}))}))()},i.k0t=function(){this.AW=pp.jB,this.mW=!1,this.wW=!1,this.HG=void 0,this.ZG=void 0},i.gn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){return t.k0t(),t.Bo(),t.Rft=t.H0t(),t.ONt.fn(sQ._Qt,t.g0t),t.ONt.fn(sQ.XQt,t.oMt),t.ONt.fn(sQ.eb,t.Z0t),t.ONt.fn(sQ.ZQt,t.X0t),t.ONt.fn(sQ.zQt,t.z0t),t.ONt.gn(),[2]}))}))()},i.H0t=function(){return new yQ(this,this.Ea.pJt(),this.Ea.bR(),this.Ea._d(),this.Ea.ER(),this.Ea.XR(),this.Ea.qR(),this.Ea.lI(),this.Ea.aI())},Nt(n,[{key:"Rft",get:function(){return this.Ea},set:function(t){var n=this.Ea;n&&(n.fn(zJ._Qt,this.g0t),n.fn(zJ.vQt,this.y0t),n.fn(h$,this.Ds),n.fn(wp.QI,this.NW),t.wJt(n.pJt()),n.jst(t.Tst())),this.Ea=t,this.rO.cC=t.lR(),this.hO.cC=t.uI(),this.Ul.cC=t.oI(),this.Dc.cC=t.Tst(),n&&n.gn(),t.yn(zJ._Qt,this.g0t),t.yn(zJ.vQt,this.y0t),t.yn(h$,this.Ds),t.yn(wp.QI,this.NW)}},{key:"Yh",get:function(){return this.Kh}},{key:"Vc",get:function(){return this.Tst()}},{key:"b0t",get:function(){return this.A0t||this.wc},set:function(t){this.A0t=t}},{key:"yR",get:function(){return this.bR()},set:function(t){this.AR(t)}},{key:"gI",get:function(){return!1},set:function(t){}}]),n}(Ok);F(),Tt(),Rt();var v$=function(t){function n(n){var i;return(i=t.call(this,"error")||this).lt=n,i}return It(n,t),n.prototype.ma=function(){return new d$(this.lt)},n}(dg),d$=function(t){function n(n){var i;return(i=t.call(this,"error")||this).error=n,i}return It(n,t),n}(ea);F(),Tt(),Rt();var l$=function(t){function n(n){var i;return(i=t.call(this,"statechange")||this).state=n,i}return It(n,t),n}(ea);function g$(t,n){var i=void 0;return{get casting(){return t.nQ},get error(){return t.lt},get receiverName(){return t.q0t},get state(){return t.Rft},start:function(){t.Cn()},stop:function(){t.SI()},join:function(){t.Y0t()},leave:function(){t.K0t()},set connectionCallback(t){null==n||n.j0t(t)},get connectionCallback(){return null==n?void 0:n.Q0t()},get source(){return i||t.kc},set source(n){i=n,t.kc=n},addEventListener:function(n,i){var r=Vg(n,Og);t.yn(r,i)},removeEventListener:function(n,i){var r=Vg(n,Og);t.fn(r,i)}}}F(),Tt();var w$=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).HG=void 0,u.Za=void 0,u.ta=void 0,u.Ea=MS.UNAVAILABLE,u.e1t=!1,u.cW=new Ho,u.p1t=function(){u.J0t.yn(gQ.fJt,u.g1t),u.Rft=u.J0t.w1t()},u.g1t=function(t){var n=t.Rft;u.Rft=n,n!==MS.UNAVAILABLE&&n!==MS.AVAILABLE||u.h1t(!1).catch(u.M6)},u.A0t=void 0,u.M6=function(t){Mo(t)||t instanceof Tq&&(u.HG=t,u.yo(new v$(t).ga))},u.lj=n,u.t1t=i,u.J0t=e,u.IT=r.chromecast,u.s1t=Uo(u.J0t.bj(u.IT,u.cW.Bw),u.cW),u.s1t.then(u.p1t).catch(u.M6),u}It(n,t);var i=n.prototype;return i.i1t=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:if(!t.s1t)throw new p("Chromecast must be initialized before starting a session");return[4,t.s1t];case 1:return n.sent(),t.J0t.$0t()?[3,3]:[4,t.J0t.n1t()];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))()},i.Cn=function(){var t=this;return Zt((function(){var n,i,r;return Ht(this,(function(e){switch(e.label){case 0:t.e1t=!0,e.label=1;case 1:return e.trys.push([1,5,,6]),t.Rft=MS.CONNECTING,[4,t.i1t()];case 2:return e.sent(),[4,t.r1t()];case 3:return e.sent(),t.ta&&(n=t.t1t.Ya(),i=t.J0t.o1t(n),t.ta.b0t=i?rE(i,t.t1t.md):t.A0t,t.ta.S0t()),t.Rft=MS.CONNECTED,[4,t.t1t.SI()];case 4:return e.sent(),[3,6];case 5:return r=e.sent(),t.h1t(!1).catch(pi),t.Rft=MS.AVAILABLE,Mo(r)||t.M6(r),[3,6];case 6:return[2]}}))}))()},i.Y0t=function(){var t=this;return Zt((function(){var n,i,r;return Ht(this,(function(e){switch(e.label){case 0:t.e1t=!0,e.label=1;case 1:return e.trys.push([1,5,,7]),t.Rft=MS.CONNECTING,[4,t.i1t()];case 2:return e.sent(),[4,t.r1t()];case 3:return e.sent(),t.ta&&(n=t.t1t.Ya(),(i=t.J0t.a1t(n))&&(t.ta.b0t=rE(i,t.t1t.md))),t.Rft=MS.CONNECTED,[4,t.t1t.SI()];case 4:return e.sent(),[3,7];case 5:return r=e.sent(),[4,t.h1t(!0).catch(pi)];case 6:return e.sent(),t.Rft=MS.AVAILABLE,Mo(r)||t.M6(r),[3,7];case 7:return[2]}}))}))()},i.u1t=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.J0t.$0t()?[4,t.Cn()]:[2];case 1:return n.sent(),[2]}}))}))()},i.r1t=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return null!=t.ta||(t.ta=t.c1t()),t.HG=void 0,t.t1t.bI(),[4,t.lj.l1t(t.ta)];case 1:return n.sent(),[2]}}))}))()},i.c1t=function(){var t=new f$(this.t1t,this.J0t.$0t());return t.U0t(this.M6),t},i.d1t=function(){this.ta&&(this.ta.gn(),this.ta=void 0)},i.h1t=function(t){var n=this;return Zt((function(){var i,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:if(n.e1t=!1,!n.ta)return[2];i=n.ta.Yh,r=n.ta.Ya(),e=n.ta.fst(),s.label=1;case 1:return s.trys.push([1,,4,5]),i?(null!=(u=t?n.J0t.f1t(r):n.J0t._1t(r))||(u=r),[4,n.lj.v1t(u,u===r)]):[3,3];case 2:s.sent(),n.t1t.AR(e),n.t1t.AI(),s.label=3;case 3:return[3,5];case 4:return n.d1t(),[7];case 5:return[2]}}))}))()},i.K0t=function(){this.nQ&&(this.J0t.m1t(!1),this.h1t(!0).catch(this.M6))},i.SI=function(){this.nQ&&(this.J0t.m1t(!0),this.h1t(!1).catch(this.M6))},i.gn=function(){this.cW.Xw(),this.J0t.fn(gQ.fJt,this.g1t),this.Bo(),this.d1t()},Nt(n,[{key:"nQ",get:function(){return this.Rft===MS.CONNECTING||this.Rft===MS.CONNECTED}},{key:"lt",get:function(){return this.HG}},{key:"ga",get:function(){return this.Za||(this.Za=g$(this,this.J0t)),this.Za}},{key:"q0t",get:function(){var t;return null==(t=this.J0t.$0t())?void 0:t.uJt()}},{key:"kc",get:function(){return this.ta?this.ta.b0t:this.A0t},set:function(t){this.A0t=t?rE(t,this.t1t.md):void 0,this.ta&&(this.ta.b0t=this.A0t,this.A0t&&this.ta.$n(this.A0t))}},{key:"Rft",get:function(){return this.Ea},set:function(t){var n=t;this.e1t||n!==MS.CONNECTING&&n!==MS.CONNECTED||(n=MS.AVAILABLE),this.Ea!==n&&(this.Ea=n,this.yo(new l$(this.Rft)))}}]),n}(ra);F(),Tt(),Dt(),Rt();var m$=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.Y0t=function(){Kn.Mp("Joining a Chromecast session is not possible when JoinStrategy is configured to disabled")},i.K0t=function(){Kn.Mp("Leaving a Chromecast session is not possible when JoinStrategy is configured to disabled")},i.Cn=function(){Kn.Mp("Starting a Chromecast session is not possible when JoinStrategy is configured to disabled")},i.SI=function(){Kn.Mp("Stopping a Chromecast session is not possible when JoinStrategy is configured to disabled")},i.u1t=function(){return et.resolve()},i.gn=function(){},Nt(n,[{key:"nQ",get:function(){return!1}},{key:"lt",get:function(){}},{key:"q0t",get:function(){}},{key:"kc",get:function(){},set:function(t){}},{key:"Rft",get:function(){return MS.UNAVAILABLE}},{key:"ga",get:function(){return this.Za||(this.Za=g$(this)),this.Za}}]),n}(ra);function y$(t){return{bt:t.bt,yR:t.bR(),ct:t._d(),kR:t.kR,lt:t.xR(),RR:t.IR(),FR:t.FR,ZR:t.ZR,zR:t.zR,tI:t.tI,nI:t.nI,hI:t.hI,cI:t.cI,dI:t.dI}}F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt();var p$=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).rO=new qk,r.hO=new qk,r.Ul=new Jk,r.oO=new iA,r.nO=new PT(n.aH),r.rO.cC=n.ht,r.hO.cC=n.rt,r.Ul.cC=n.nt,r.oO.cC=n.PR,r.Dc=new zL(r),r.Dc.cC=n.Vc,r}It(n,t);var i=n.prototype;return i.Tst=function(){return this.Dc},i.lR=function(){return this.rO},i.DR=function(){return this.oO},i._a=function(){return this.nO},i.oI=function(){return this.Ul},i.uI=function(){return this.hO},i.switchContexts=function(t){this.ta=t,this.rO.cC=t.ht,this.hO.cC=t.rt,this.Ul.cC=t.nt,this.nO.cC=t.aH,this.oO.cC=t.PR,this.Dc.cC=t.Vc},i.y1t=function(t){this.ta!==t&&(this.QH(),this.switchContexts(t),this.jH())},i.aO=function(t){if(this.ta!==t){var n;this.QH(),this.Cst&&(n=y$(this));var i=this.wR(),r=this.pI(),e=this.wI();if(this.switchContexts(t),void 0!==n)TT(this,n,y$(this));var u=this.wR();u!==i&&this.yo(new ET(u)),this.pI()!==r&&this.yo(new IT),this.wI()!==e&&this.yo(new RT),this.jH()}},i.gn=function(n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return[4,t.prototype.gn.call(i,n)];case 1:return r.sent(),i.nO.gn(n),i.rO.gn(n),i.hO.gn(n),i.Ul.gn(n),i.oO.gn(),[4,i.Dc.gn(n)];case 2:return r.sent(),[2]}}))}))()},Nt(n,[{key:"PR",get:function(){return this.DR()}}]),n}(Ok),_$=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).Go=new ad,r.x1t=void 0,r.fEt=void 0,r.R1t=void 0,r.C1t=function(t){var n=t.Ht;b$(r.x1t,n)&&(n.Rt=!0)},r.P1t=function(t){var n=t.Ht;b$(r.fEt,n)&&(n.TE=Oy.Jn)},r.D1t=function(t){var n=t.Ht;b$(r.R1t,n)&&(n.Rt=!0)},r.E1t=function(){r.k1t.ht.fn(mg.MI,r.C1t),r.k1t.nt.fn(mg.MI,r.P1t),r.k1t.rt.fn(mg.MI,r.D1t)},r.k1t=n,r.md.cast.strategy!==eA.DISABLED?r.b1t=new w$(r,n,r.md.cast,i):r.b1t=new m$,r.Tz.lQ(r.b1t),r}It(n,t);var i=n.prototype;return i.Ya=function(){var n=t.prototype.Ya.call(this);return!n&&this.b1t.nQ&&this.b1t.kc?this.b1t.kc:n},i.ka=function(n,i){var r=this;return this.Go.Wo((function(i){return r.A1t=new Ho,r.A1t.zw(i),Uo(t.prototype.ka.call(r,n,r.A1t.Bw),r.A1t)}),i)},i.AI=function(){t.prototype.AI.call(this),this.md.cast.strategy!==eA.AUTO||this.b1t.nQ||this.b1t.u1t()},i.l1t=function(t){var n=this;return this.Go.Wo((function(i){return n.S1t(t,i)}))},i.v1t=function(t,n){var i=this;return void 0===t&&(t=void 0),void 0===n&&(n=!1),this.Go.Wo((function(r){return i.T1t(t,n,r)}))},i.S1t=function(t,n){Oo(n),this.k1t.Vc&&this.k1t.Vc.jst(t.Vc),this.E1t(),this.x1t=ao(this.k1t.ht.oC,(function(t){return t.Rt})),this.fEt=ao(this.k1t.nt.oC,(function(t){return"showing"===t.TE})),this.R1t=ao(this.k1t.rt.oC,(function(t){return t.Rt})),this.I1t=t,this.I1t.B0t(this.x1t,this.fEt,this.R1t),this.aO(t),this.I1t.ur()},i.T1t=function(t,n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){switch(s.label){case 0:if(Oo(i),void 0===(e=r.I1t))return[2];s.label=1;case 1:return s.trys.push([1,5,6,7]),t?[4,r.k1t.SI()]:[3,4];case 2:return s.sent(),Oo(i),u=rE(t,r.k1t.md),n&&(u.ads=void 0),r.A1t=new Ho,r.A1t.zw(i),[4,Uo(r.k1t.ka(u,r.A1t.Bw),r.A1t)];case 3:s.sent(),s.label=4;case 4:return n&&r.k1t.Vc&&e.Vc.jst(r.k1t.Vc),[3,7];case 5:return Vo(s.sent()),[3,7];case 6:return e.ar(),r.aO(r.k1t),r.x1t=ao(r.I1t.ht.oC,(function(t){return t.Rt})),r.fEt=ao(r.I1t.nt.oC,(function(t){return"showing"===t.TE})),r.R1t=ao(r.I1t.rt.oC,(function(t){return t.Rt})),r.k1t.ht.yn(mg.MI,r.C1t),r.k1t.nt.yn(mg.MI,r.P1t),r.k1t.rt.yn(mg.MI,r.D1t),r.k1t.yn(wp.ML,r.E1t),r.I1t===e&&(r.I1t=void 0),[7];case 7:return[2]}}))}))()},i.SI=function(){var n,i=this;return this.x1t=void 0,this.fEt=void 0,this.R1t=void 0,this.E1t(),null==(n=this.A1t)||n.Xw(),this.Go.Wo((function(){return t.prototype.SI.call(i)}))},i.gn=function(){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return null==(i=n.A1t)||i.Xw(),n.b1t.gn(),[4,n.v1t()];case 1:return r.sent(),[4,n.Go.gn()];case 2:return r.sent(),[4,t.prototype.gn.call(n)];case 3:return r.sent(),[2]}}))}))()},n}(p$);function b$(t,n){return void 0!==t&&void 0!==n&&(t.gs===n.gs&&n.kh===t.kh)}F(),Tt(),Gt(),Dt(),qt();var k$=function(){function t(t){this.s1t=void 0,this.Za=void 0,this.J0t=t}var n=t.prototype;return n.bj=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.s1t||(n.s1t=n.O1t(t)),[4,n.s1t];case 1:return i.sent(),[2]}}))}))()},n.O1t=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.J0t.bj(t)];case 1:return i.sent(),[2]}}))}))()},n.n1t=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:if(!t.s1t)throw new p("Chromecast must be initialized before starting a session");return[4,t.s1t];case 1:return n.sent(),t.J0t.$0t()?[3,3]:[4,t.J0t.n1t()];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))()},n.F1t=function(){this.J0t.m1t(!1)},n.B1t=function(){this.J0t.m1t(!0)},Nt(t,[{key:"ga",get:function(){return this.Za||(this.Za=function(t){return{initialize:function(n){var i=t.bj(uA(n));return i.catch(pi),i},startSession:function(){var n=t.n1t();return n.catch(pi),n},endSession:function(){t.B1t()}}}(this)),this.Za}}]),t}();var A$=new mQ,T$=new k$(A$),S$={get chromecast(){return T$.ga}};Zk((function(t){return new _$(t,A$)}),Bk.Nst),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Gt(),Dt(),Rt(),Ut(),qt(),F(),Tt(),Gt(),qt();var E$=function(){function t(t){this.Y1t=t,this.Z1t=ns(),this.z1t=ns()}var n=t.prototype;return n.V1t=function(t,n,i,r){var e=this;t.AZ.forEach((function(t){if(!e.W1t(t.U1t)){var u=t.G1t(n,i,r);u&&e.H1t(u)}}))},n.W1t=function(t){return this.Z1t.get(t)},n.H1t=function(t){this.Z1t.set(t.X1t,t),this.z1t.set(t.X1t,t.q1t),this.Y1t.iu(t.K1t)},n.Qst=function(t){this.z1t.has(t.X1t)||(this.z1t.set(t.X1t,t),this.Y1t.iu(t.K1t))},n.j1t=function(t){return this.z1t.forEach(t)},n.Q1t=function(t){return this.Z1t.forEach(t)},n.J1t=function(t){var n=!1;return this.Z1t.forEach((function(i){n=i.J1t(t)||n})),n},n.gn=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return n=[],t.Z1t.forEach((function(t){return n.push(t.gn())})),t.z1t.forEach((function(t){return n.push(t.gn())})),[4,et.all(n)];case 1:return i.sent(),t.Z1t.clear(),t.z1t.clear(),[2]}}))}))()},t}();F(),Tt(),Rt();var I$=function(t){function n(n,i,r,e){var u;return(u=t.call(this,"e2t")||this).ujt=n,u._b=i,u.Ob=r,u.kc=e,u}return It(n,t),n.prototype.ma=function(){return new R$(this.ujt,this._b,this.Ob,this.kc)},n.$1t=function(t){return new n(DJ.GENERAL,t._b,t.ljt)},n.t2t=function(t,i){return new n(t.ujt,t.message,t.ljt,i)},n}(dg),R$=function(t){function n(n,i,r,e){var u;return(u=t.call(this,"aderror")||this).problemType=n,u.message=i,u.errorCode=r,u.source=e,u}return It(n,t),n}(ea),C$=function(t){function n(n){var i;return(i=t.call(this)||this).o2t=!1,i.M9=!1,i.Za=void 0,i.c2t=function(t){if(i.o2t){var n=new Qg(Jg.ADVERTISEMENT_ERROR,t._b),r=new td(Qv.AD_BLOCKER_DETECTED,t._b+" Turn off your AdBlocker and try again.",n);i.a2t.PH(r)}},i.Sit=function(){i.M9=!0},i.a2t=n,i.s2t=new E$(i),i.yn("e2t",i.c2t),n.yn(ua.so,i.Sit),i}It(n,t);var i=n.prototype;return i.jst=function(t){this.n2t((function(n){n.jst(t)}))},i.o6=function(t,n,i){try{this.o2t=i;var r=wS.Lg.TZ(t);if(r.U1t===XQ.Dst)return;var e=this.s2t.W1t(r.U1t);if(!e)throw new NJ(DJ.ADBLOCK,void 0,"Ads could not be loaded.");n!==AL.Hst&&this.M9||this.a2t.h2t(e),r.o6(t,n,e,this.o2t)}catch(n){0,this.yo(I$.t2t(n,t.sources))}},i.RD=function(){this.n2t((function(t){t.RD()}))},i.Qst=function(t){this.s2t.Qst(t)},i.Kst=function(t,n){return this.a2t.Kst(t,n)},i.u2t=function(t){this.s2t.Q1t((function(n){n.u2t(t)}))},i.J1t=function(t){return this.s2t.J1t(t)},i.n2t=function(t){return this.s2t.j1t(t)},i.yI=function(){this.s2t.Q1t((function(t){return t.yI()}))},i.tr=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.M9=!1,n=[],t.s2t.Q1t((function(t){return n.push(t.SI())})),[4,et.all(n)];case 1:return i.sent(),[2]}}))}))()},i.gn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.Bo(),[4,t.s2t.gn()];case 1:return n.sent(),t.a2t.fn(ua.so,t.Sit),t.fn("e2t",t.c2t),[2]}}))}))()},Nt(n,[{key:"i2t",get:function(){return this.s2t}},{key:"$c",get:function(){var t=!1;return this.n2t((function(n){t=t||n.r2t})),t}},{key:"Zst",get:function(){var t=[];return this.n2t((function(n){var i,r=n.Zst;r.length&&(i=t).push.apply(i,Ft(r))})),t}},{key:"zst",get:function(){var t=null;return this.n2t((function(n){null!=t||(t=n.zst)})),t}},{key:"qst",get:function(){var t=[];return this.n2t((function(n){var i;(i=t).push.apply(i,Ft(n.qst))})),t}},{key:"Yst",get:function(){var t=[];return this.n2t((function(n){var i;(i=t).push.apply(i,Ft(n.Yst))})),t}},{key:"ga",get:function(){var t;return null!=(t=this.Za)?t:this.Za=TL(this)}}]),n}(EI);F(),Tt(),Gt(),Dt(),qt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt();var N$=function(t){function n(n){var i;return(i=t.call(this)||this).tQt=n,i.Dc=[],i.l2t=-1,i.d2t=-1,i.f2t=void 0,i.v2t=!1,i}It(n,t);var i=n.prototype;return i._2t=function(){this.v2t=!0},i.m2t=function(t){this.Dc.push(t),this.v2t=!1},i.g2t=function(t){lo(this.Dc,t)},Nt(n,[{key:"Vc",get:function(){return this.Dc}},{key:"DJt",get:function(){return this.l2t},set:function(t){this.l2t=t}},{key:"NJt",get:function(){return this.d2t},set:function(t){this.d2t=t}},{key:"ZBt",get:function(){return this.tQt},set:function(t){this.tQt=t}},{key:"hJt",get:function(){return this.f2t}},{key:"KR",get:function(){return this.v2t}}]),n}(MQ),D$=function(t){function n(n,i){var r;return(r=t.call(this,i.timeOffset)||this).w2t=[],r.p2t=n,r.Yn(i),r}It(n,t);var i=n.prototype;return i.Yn=function(t){void 0!==t.maxDuration&&(this.l2t=t.maxDuration),void 0!==t.customData&&(this.f2t=t.customData)},i.y2t=function(t){var n=this.Dc.indexOf(t);return n>=0&&n<this.Dc.length-1},i.m2t=function(n){t.prototype.m2t.call(this,n),this.w2t.push(n)},i.b2t=function(t){lo(this.w2t,t)},i.g2t=function(n){t.prototype.g2t.call(this,n),lo(this.w2t,n)},Nt(n,[{key:"jjt",get:function(){return this.p2t}},{key:"qst",get:function(){return this.w2t}}]),n}(N$);F(),Tt(),Dt(),Rt(),Ut(),F(),Tt(),Dt(),Rt();var P$=function(t){return t.Ajt="linear",t.A2t="nonlinear",t.Qk="unknown",t}({}),x$=function(t){return t.NONE="none",t.READY="ready",t}({}),L$=function(t){function n(n,i){var r;return(r=t.call(this)||this).x2t=i,r.US=void 0,r.vKt=void 0,r.HA=void 0,r.ZA=void 0,r.IA=void 0,r.uKt=[],r.pYt=[],r.T2t="none",r.f2t=void 0,r.I2t=!1,r.Yl=n,r}It(n,t);var i=n.prototype;return i.S2t=function(t,n,i,r,e,u){this.US=t,this.HA=n,this.ZA=i,this.IA=r,this.pYt=e,this.vKt=u,this.T2t="ready"},i.Xst=function(){var t;return null!=(t=this.Za)?t:this.Za=this.ma()},i.KJt=function(){},i.$Jt=function(){return""},i.JJt=function(){return this.C2t},Nt(n,[{key:"k2t",get:function(){return this.T2t}},{key:"gYt",get:function(){return this.pYt}},{key:"ct",get:function(){return this.IA}},{key:"Ti",get:function(){return this.ZA}},{key:"o",get:function(){return this.US}},{key:"_Kt",get:function(){return this.vKt}},{key:"ji",get:function(){return this.HA}},{key:"E2t",get:function(){return this.x2t}},{key:"FYt",get:function(){return this.VYt}},{key:"aYt",get:function(){return this.uYt}},{key:"Yqt",get:function(){return this.uKt}},{key:"hJt",get:function(){return this.f2t}},{key:"R2t",get:function(){return this.I2t}}]),n}(LQ);function M$(t){return{get adSystem(){return t.KJt()},get readyState(){return t.k2t},get adBreak(){return t.Yl.Xst()},get duration(){return t.ct},get companions(){return t.gYt.map((function(t){return t.ga}))},get resourceURI(){return t.JJt()},get clickThrough(){return t.FYt},get width(){return t.ji},get type(){return function(t){switch(t){case"linear":case"unknown":return"linear";case"nonlinear":return"nonlinear"}}(t.E2t)},get height(){return t.Ti},get id(){return t.o},get skipOffset(){return t._Kt},get integration(){return t.jjt},get creativeId(){return t.aYt},get universalAdIds(){return t.Yqt},get customData(){return t.hJt},get isSlate(){return t.R2t}}}F(),Tt(),Dt();var O$=function(){function t(t){var n;this.Za=void 0,this.VYt=void 0,this.C2t=void 0,this.CYt=t.IYt,this.HA=t.ji,this.ZA=t.Ti,this.D2t=t.P2t,this.VYt=t.FYt,this.C2t=t.QKt,this.OYt=null!=(n=t.BYt)?n:"",this.N2t(t)}return t.prototype.N2t=function(t){if(!t.FYt||!t.QKt){var n=function(t){try{return hJ(t,"text/html")}catch(t){return}}(t.P2t);n&&(this.VYt=B$(n,"a","href"),this.C2t=B$(n,"img","src"))}},Nt(t,[{key:"IYt",get:function(){return this.CYt}},{key:"BYt",get:function(){return this.OYt}},{key:"P2t",get:function(){return this.D2t}},{key:"FYt",get:function(){return this.VYt}},{key:"Ti",get:function(){return this.ZA}},{key:"QKt",get:function(){return this.C2t}},{key:"ji",get:function(){return this.HA}},{key:"ga",get:function(){var t;return null!=(t=this.Za)?t:this.Za=function(t){return{get adSlotId(){return t.IYt},get altText(){return t.BYt},get contentHTML(){return t.P2t},get clickThrough(){return t.FYt},get height(){return t.Ti},get resourceURI(){return t.QKt},get width(){return t.ji}}}(this)}}]),t}();function B$(t,n,i){var r=t.querySelector(n);return r&&r.getAttribute(i)||""}var V$=function(t){function n(n,i,r){var e;return(e=t.call(this,r,function(t){return"linear"===t?P$.Ajt:"nonlinear"===t?P$.A2t:P$.Qk}(i.type))||this).L2t=0,e.p2t=n,e.Yn(i),e}It(n,t);var i=n.prototype;return i.ma=function(){return M$(this)},i.Yn=function(t){t.id&&(this.US=t.id),void 0!==t.skipOffset&&(this.vKt=t.skipOffset),void 0!==t.width&&(this.HA=t.width),void 0!==t.height&&(this.ZA=t.height),void 0!==t.duration&&(this.IA=t.duration),void 0!==t.readyState&&(this.T2t=function(t){return"ready"===t?x$.READY:x$.NONE}(t.readyState)),void 0!==t.resourceURI&&(this.C2t=t.resourceURI),void 0!==t.clickThrough&&(this.VYt=t.clickThrough),void 0!==t.companions&&(this.pYt=Ft(t.companions).map(F$)),void 0!==t.creativeId&&(this.uYt=t.creativeId),void 0!==t.universalAdIds&&(this.uKt=t.universalAdIds),void 0!==t.customData&&(this.f2t=t.customData)},Nt(n,[{key:"jjt",get:function(){return this.p2t}},{key:"M2t",get:function(){return this.L2t},set:function(t){this.L2t=t}}]),n}(L$);function F$(t){var n={IYt:t.adSlotId,BYt:t.altText,P2t:t.contentHTML,Ik:void 0,FYt:t.clickThrough,Ti:t.height,QKt:t.resourceURI,ji:t.width};return new O$(n)}F(),Tt(),Dt(),Rt();var U$=function(t){function n(n,i){var r;return(r=t.call(this,"F2t",n)||this).O2t=i,r}return It(n,t),n.prototype.ma=function(){return new W$(this.tnt.Xst(),this.B2t)},Nt(n,[{key:"B2t",get:function(){return this.O2t}}]),n}(PL),W$=function(t){function n(n,i){var r;return(r=t.call(this,"adskip",n)||this).playedPercentage=i,r}return It(n,t),n}(xL);F(),Tt(),Rt();var Z$=function(t){function n(n){return t.call(this,"V2t",n)||this}return It(n,t),n.prototype.ma=function(){return new X$(this.Yl.Xst())},n}(EL),X$=function(t){function n(n){return t.call(this,"updateadbreak",n)||this}return It(n,t),n}(IL);F(),Tt(),Rt();var G$=function(t){function n(n){return t.call(this,"W2t",n)||this}return It(n,t),n.prototype.ma=function(){return new H$(this.Yl.Xst())},n}(EL),H$=function(t){function n(n){return t.call(this,"adbreakchange",n)||this}return It(n,t),n}(IL);F(),Tt(),Rt();var z$=function(t){function n(n,i){var r;return(r=t.call(this,"U2t",n)||this).currentTime=i,r}return It(n,t),n.prototype.ma=function(){return new Y$(this.tnt.Xst(),this.currentTime)},n}(PL),Y$=function(t){function n(n,i){var r;return(r=t.call(this,"adfirstquartile",n)||this).currentTime=i,r}return It(n,t),n}(xL);F(),Tt(),Rt();var j$=function(t){function n(n,i){var r;return(r=t.call(this,"G2t",n)||this).currentTime=i,r}return It(n,t),n.prototype.ma=function(){return new K$(this.tnt.Xst(),this.currentTime)},n}(PL),K$=function(t){function n(n,i){var r;return(r=t.call(this,"admidpoint",n)||this).currentTime=i,r}return It(n,t),n}(xL);F(),Tt(),Rt();var q$=function(t){function n(n,i){var r;return(r=t.call(this,"H2t",n)||this).currentTime=i,r}return It(n,t),n.prototype.ma=function(){return new J$(this.tnt.Xst(),this.currentTime)},n}(PL),J$=function(t){function n(n,i){var r;return(r=t.call(this,"adthirdquartile",n)||this).ad=n,r.currentTime=i,r}return It(n,t),n}(xL),Q$=function(){function t(t,n){this.K1t=new EI,this.Dc=[],this.h$t=[],this.i3t=[],this.jjt=t,this.a2t=n}var n=t.prototype;return n.RD=function(){var t;if(0!==this.i3t.length){var n=this.i3t[0];(null==(t=this.F6)?void 0:t.skipAd)?this.F6.skipAd(n.Xst()):this.DQt(n)}},n.jst=function(t){},n.Z2t=function(t,n){var i,r=null!=n?n:this.s3t({timeOffset:null!=(i=t.timeOffset)?i:0}),e=new V$(this.jjt,t,r);return r.m2t(e),this.Dc.push(e),this.K1t.yo(new LL(e)),e},n.z2t=function(t,n){t.Yn(n),this.K1t.yo(new GQ(t))},n.Y2t=function(t,n){if(!mo(this.i3t,t))throw new p("Cannot update ad progress on a non-started ad");var i=t.M2t,r=k.max(i,n);t.M2t=r;var e=this.a2t.bR();i<.25&&r>=.25&&this.K1t.yo(new z$(t,e)),i<.5&&r>=.5&&this.K1t.yo(new j$(t,e)),i<.75&&r>=.75&&this.K1t.yo(new q$(t,e))},n.b2t=function(t){mo(this.i3t,t)||(this.i3t.push(t),t.Yl.b2t(t),this.n3t(t.Yl),this.K1t.yo(new UL(t,this.a2t.bR())))},n.DQt=function(t){if(mo(this.i3t,t)){var n=t.Yl.y2t(t);this.K1t.yo(new U$(t,t.M2t)),this.r3t(t,n)}},n.K2t=function(t){if(mo(this.i3t,t)){var n=t.Yl.y2t(t);this.K1t.yo(new ZL(t,this.a2t.bR())),this.r3t(t,n)}},n.g2t=function(t){if(mo(this.Dc,t)){var n=t.Yl.y2t(t);lo(this.Dc,t),t.Yl.g2t(t),this.K1t.yo(new G$(t.Yl)),this.r3t(t,n)}},n.j2t=function(t){var n=new D$(this.jjt,t);return this.h$t.push(n),this.K1t.yo(new NL(n)),n},n.Q2t=function(t,n){t.Yn(n),this.K1t.yo(new Z$(t))},n.J2t=function(t){if(mo(this.h$t,t)){for(var n=0,i=t.Vc.slice();n<i.length;n++){var r=i[n];this.g2t(r)}lo(this.h$t,t),this.K1t.yo(new RL(t))}},n.$2t=function(){for(var t=0,n=this.h$t.slice();t<n.length;t++){var i=n[t];this.J2t(i)}},n.t3t=function(t){this.K1t.yo(new I$(DJ.GENERAL,t.message))},n.e3t=function(t,n){var i=new td(null!=n?n:Qv.AD_ERROR,t.message,t);this.a2t.PH(i)},n.o3t=function(t){return ao(this.h$t,(function(n){return n.ZBt===t}))},n.s3t=function(t){var n;return null!=(n=this.o3t(t.timeOffset))?n:this.j2t(t)},n.r3t=function(t,n){lo(this.i3t,t);var i=t.Yl;0!==this.i3t.length||this.o$t!==i||n||(i._2t(),this.n3t(void 0))},n.n3t=function(t){this.o$t!==t&&(void 0!==this.o$t&&this.K1t.yo(new OL(this.o$t)),this.o$t=t,void 0!==t&&this.K1t.yo(new VL(t)))},n.q2t=function(t){var n=ao(this.Dc,(function(n){return n.Xst()===t}));if(void 0===n)throw new p('Invalid ad for integration "'+this.jjt+'"');return n},n.X2t=function(t){var n=ao(this.h$t,(function(n){return n.Xst()===t}));if(void 0===n)throw new p('Invalid ad break for integration "'+this.jjt+'"');return n},n.ka=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return Oo(n),(null==(r=i.F6)?void 0:r.setSource)?[4,et.resolve(i.F6.setSource(t))]:[3,2];case 1:return GS(e=u.sent())&&(e=t),[2,rE(e,i.a2t.md)];case 2:return[2,t];case 3:return[2]}}))}))()},n.h3t=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return(null==(n=t.F6)?void 0:n.resetSource)?[4,et.resolve(t.F6.resetSource())]:[3,2];case 1:return i.sent(),[3,3];case 2:t.$2t(),i.label=3;case 3:return[2]}}))}))()},n.gn=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return(null==(n=t.F6)?void 0:n.destroy)?[4,et.resolve(t.F6.destroy()).catch(pi)]:[3,2];case 1:i.sent(),i.label=2;case 2:return t.$2t(),t.n3t(void 0),t.F6=void 0,t.K1t.gn(),[2]}}))}))()},Nt(t,[{key:"Vc",get:function(){return this.Dc}},{key:"BJt",get:function(){return this.h$t}},{key:"ga",get:function(){var t;return null!=(t=this.Za)?t:this.Za=function(t){return{get integration(){return t.jjt},get ads(){return t.Vc.map((function(t){return t.Xst()}))},get adBreaks(){return t.BJt.map((function(t){return t.Xst()}))},createAd:function(n,i){return t.Z2t(n,i?t.X2t(i):void 0).Xst()},updateAd:function(n,i){t.z2t(t.q2t(n),i)},updateAdProgress:function(n,i){var r=er(Number(i),0,1);t.Y2t(t.q2t(n),r)},beginAd:function(n){t.b2t(t.q2t(n))},endAd:function(n){t.K2t(t.q2t(n))},skipAd:function(n){t.DQt(t.q2t(n))},removeAd:function(n){t.g2t(t.q2t(n))},createAdBreak:function(n){return t.j2t(n).Xst()},updateAdBreak:function(n,i){t.Q2t(t.X2t(n),i)},removeAdBreak:function(n){t.J2t(t.X2t(n))},removeAllAds:function(){t.$2t()},error:function(n){t.t3t(n)},fatalError:function(n,i){var r=i?Number(i):void 0;t.e3t(n,r)}}}(this)}},{key:"xN",get:function(){return this.F6},set:function(t){this.F6=t}},{key:"r2t",get:function(){return this.i3t.some((function(t){return t.E2t===P$.Ajt}))}},{key:"X1t",get:function(){return this.jjt}},{key:"Zst",get:function(){return this.i3t}},{key:"zst",get:function(){var t;return null!=(t=this.o$t)?t:null}},{key:"qst",get:function(){return bo(this.h$t,(function(t){return t.qst}))}},{key:"Yst",get:function(){return this.h$t.filter((function(t){return!t.KR}))}}]),t}();F(),Tt(),Dt();var $$=function(){function t(t){var n=this;this.R9=void 0,this.a3t=!1,this.xd=function(t){1!==n.ta.zR&&(n.R9=n.ta.zR,n.ta.zR=1),n.a3t=!0},this.Cd=function(t){n.a3t=!1,void 0!==n.R9&&(n.ta.zR=n.R9,n.R9=void 0)},this.ta=t,this.addAdListeners()}var n=t.prototype;return n.destroy=function(){this.removeAdListeners()},n.addAdListeners=function(){var t,n;null==(t=this.ta.Vc)||t.yn("snt",this.xd),null==(n=this.ta.Vc)||n.yn("int",this.Cd)},n.removeAdListeners=function(){var t,n;null==(t=this.ta.Vc)||t.fn("snt",this.xd),null==(n=this.ta.Vc)||n.fn("int",this.Cd)},Nt(t,[{key:"player",get:function(){return this.ta},set:function(t){this.ta&&this.removeAdListeners(),this.ta=t,this.addAdListeners()}},{key:"inAdBreak",get:function(){return this.a3t}}]),t}(),t0=function(t){function n(n,i){var r;return(r=t.call(this,n)||this)._3t=[],r.HG=void 0,r.wZ=void 0,r.v3t=1,r.k1t=n,r.u3t=new C$(r),r.u3t.i2t.V1t(i,n,r,n.md),r}It(n,t);var i=n.prototype;return i.Tst=function(){return this.u3t},i.yI=function(){this.k1t.yI(),this.u3t.yI()},i.AI=function(){void 0===this.HG?(void 0!==this.d3t&&this.f3t(this.d3t),t.prototype.AI.call(this)):this.yo(new wk(this.HG))},i.ka=function(n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:if(Oo(i),!(e=n))return[3,4];u=0,s=r._3t,f.label=1;case 1:return u<s.length?[4,s[u].ka(e,i)]:[3,4];case 2:e=f.sent(),f.label=3;case 3:return u++,[3,1];case 4:return[4,t.prototype.ka.call(r,e,i)];case 5:if(f.sent(),Oo(i),null==e?void 0:e.ads)for(o=Boolean(e.blockContentIfAdError),r.u3t.u2t(e.playAdsAfterTime),a=0,c=e.ads;a<c.length;a++)h=c[a],r.u3t.o6(h,AL.Hst,o);return[2]}}))}))()},i.SI=function(){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return n.HG=void 0,n.wZ=void 0,[4,n.u3t.tr()];case 1:return e.sent(),n.v1t(),[4,t.prototype.SI.call(n)];case 2:e.sent(),i=0,r=n._3t,e.label=3;case 3:return i<r.length?[4,r[i].h3t()]:[3,6];case 4:e.sent(),e.label=5;case 5:return i++,[3,3];case 6:return[2]}}))}))()},i.f3t=function(t){this.v3t=this.ta.zR;var n=this.ta.dI,i=this.ta.FR;t._I(n),t.UR(i),this.l3t=t,this.d3t=void 0,this.aO(t)},i.h2t=function(t){void 0===this.l3t&&(this.d3t=t)},i.v1t=function(){this.d3t=void 0,void 0!==this.l3t&&(this.k1t.zR=this.v3t,this.k1t.dI=this.dI,this.k1t.FR=this.FR,this.aO(this.k1t),this.l3t=void 0)},i.xR=function(){var n;return null!=(n=this.wZ)?n:t.prototype.xR.call(this)},i.IR=function(){var n;return null!=(n=this.HG)?n:t.prototype.IR.call(this)},i.PH=function(t){void 0===this.IR()&&(this.HG=t,this.wZ=tw(t),this.yo(new wk(t)))},i.CI=function(t){return void 0===this.l3t&&this.u3t.J1t(t)},i.Kst=function(t,n){try{var i=new Q$(t,this);i.xN=n(i.ga),this.u3t.Qst(i),this._3t.push(i),t!==gS.UPLYNK&&(this.m3t=new $$(this))}catch(n){this.u3t.yo(new I$(DJ.GENERAL,'Error while constructing ad integration "'+t+'": '+n+'"'))}},i.YR=function(n){var i;(null==(i=this.m3t)?void 0:i.inAdBreak)||t.prototype.YR.call(this,n)},i.gn=function(){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:r=0,e=n._3t,u.label=1;case 1:return r<e.length?[4,e[r].gn().catch(pi)]:[3,4];case 2:u.sent(),u.label=3;case 3:return r++,[3,1];case 4:return[4,n.u3t.gn()];case 5:return u.sent(),n.v1t(),null==(i=n.m3t)||i.destroy(),n.m3t=void 0,[4,t.prototype.gn.call(n)];case 6:return u.sent(),[2]}}))}))()},Nt(n,[{key:"c3t",get:function(){return this.l3t}}]),n}(p$);Zk((function(t){return new t0(t,wS.Lg)}),Bk.Pst),F(),Tt(),Dt(),F(),Tt(),Gt(),Dt(),Rt(),Ut(),qt(),F(),Tt(),Gt(),Dt(),Rt(),qt();var n0=0!==Gn.Jm?Gn.Jm:Gn.Qv,i0=Gn.Ka&&n0<12,r0=function(t){function n(n,i){var r;return(r=t.call(this,n,!0)||this).a2t=i,r.b3t=!1,r.hO=new Yg,r.rO=new Yg,r.Ul=new Xy,r.oO=new Qk,r.g3t=new EI,r.Zo=new KT,r.KG=new Rk,r.A3t=function(){r.ta.ge()},r.S3t=function(){r.T3t()},r.ta.yn(ua.yy,r.Ds),r}It(n,t);var i=n.prototype;return i.fst=function(){return this.ta.fst()},i.vR=function(){return AA.fB().ks()},i.gR=function(){},i.pR=function(t){},i.qR=function(){return 1},i.YR=function(t){},i.jR=function(){return new AA([0,this.yR]).ks()},i.rI=function(){return!1},i.oI=function(){return this.Ul},i.uI=function(){return this.hO},i.cs=function(){return this.pI().cs},i.pI=function(){return this.Zo},i.Sa=function(){},i.gn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){return t.Bo(),t.rO.gn(),t.hO.gn(),t.Ul.gn(),t.g3t.gn(),t.ta.fn(ua.yy,t.Ds),[2]}))}))()},i.p3t=function(){i0&&this.w3t(),this.r2t||this.a2t.f3t(this)},i.v1t=function(){this.r2t&&(i0&&this.y3t(),Gn.Eg&&this.we.querySelectorAll("video[src]").forEach((function(t){t.src=""})),Kn.Ys.rp&&this.ta.RI(),this.a2t.v1t())},i.w3t=function(){this.b3t||(f.addEventListener("blur",this.A3t),f.addEventListener("focus",this.S3t),this.b3t=!0)},i.y3t=function(){f.removeEventListener("blur",this.A3t),f.removeEventListener("focus",this.S3t),this.b3t=!1},i.T3t=function(){var t=this;requestAnimationFrame((function(){return t.ta.be()}))},Nt(n,[{key:"yR",get:function(){return this.bR()},set:function(t){this.AR(t)}},{key:"ct",get:function(){return this._d()}},{key:"PR",get:function(){return this.oO}},{key:"iI",get:function(){return this.sI()}},{key:"vI",get:function(){return this.KG}},{key:"K1t",get:function(){return this.g3t}},{key:"ht",get:function(){return this.rO}},{key:"r2t",get:function(){return this.a2t.c3t===this}}]),n}(Ok);F(),Tt(),Gt(),Dt(),qt(),F(),Tt(),Dt();var e0=0,u0="theoplayer-wrapper",s0=function(){function t(n,i,r,e){this.E3t=i,this.ta=r,this.P3t=e,this.V3t=NaN,this.G3t=!1,this.Z3t=!1,this.B3t=!1,this.q3t=[],this.rst=!1,this.oZ=!1,this.R3t=[],this.TC=++e0,this.j3t=n.timeOffset,this.F3t=t.d4t(this.j3t),this.W3t(),this.R3t.push(n)}var n=t.prototype;return n.D3t=function(t){var n=this.N3t===t.timeOffset;return!this.M3t&&n},n.W3t=function(){if(S(this.V3t)){var t=this.N3t;if(void 0===t)return void(this.V3t=0);if("string"==typeof t&&iQ(t)){var n=this.ta._d();S(n)||n===1/0||(t=Zq(t)*n)}S(t)||(this.V3t=t)}},n.Y3t=function(t){this.q3t.push(t)},n.K3t=function(){if(!this.M3t){var t,n,i=this.E3t===AL.Hst&&void 0===this.j3t&&1===this.R3t.length,r=this.R3t[0];if(!i&&1===this.R3t.length){var e=Kn.Ah(r.sources.src).searchParams.get("output");e&&e.toLowerCase().indexOf("vmap")>-1&&(i=!0,void 0!==this.j3t&&Hr("Do not set a timeOffset for VMAP ad sources. VMAP ads have their own offsets included."))}if(QJ(r.sources.type)||i)t=r.sources.src;else{if(S(this.ta._d())&&"end"===this.Q3t())return;n=this.J3t()}var u=this.ta._d();(S(u)||u===1/0)&&(u=-3),this.M3t={$3t:this.ta.we.offsetWidth,t4t:this.ta.we.offsetHeight,e4t:this.ta.we.offsetWidth,i4t:this.ta.we.offsetHeight,s4t:this.rst,n4t:this.oZ,r4t:t,o4t:n,h4t:r.omidAccessModeRules,a4t:u}}return this.M3t},n.J3t=function(){var t=this;return'<vmap:VMAP xmlns:vmap="http://www.iab.net/videosuite/vmap" version="1.0">'+this.R3t.map((function(n,i){return t.u4t(n.sources,i)})).join("\n")+"</vmap:VMAP>"},n.u4t=function(t,n){var i=this.Q3t(),r=t.src;return'<vmap:AdBreak timeOffset="'+i+'" breakType="linear,nonlinear" breakId="theoplayer-break-'+this.TC+"-"+n+'"><vmap:AdSource allowMultipleAds="true" followRedirects="true"><vmap:VASTAdData><VAST version="3.0"><Ad id="'+u0+"-"+this.TC+"-"+n+'"><Wrapper allowMultipleAds="true" followAdditionalWrappers="true"><VASTAdTagURI><![CDATA['+r+"]]></VASTAdTagURI></Wrapper></Ad></VAST></vmap:VASTAdData></vmap:AdSource></vmap:AdBreak>"},n.Q3t=function(){if(0===this.N3t)return"start";if(this.N3t===1/0)return"end";var t=this.N3t;if("string"==typeof t&&iQ(t)){var n=Zq(t)*this.ta._d();return WJ.qjt(n)}return WJ.qjt(this.N3t||0)},n.c4t=function(t){this.R3t.push(t)},n.l4t=function(t){for(var n=u0+"-"+this.TC+"-",i=0;i<t.length;i++){var r=t[i];if(Bs(r,n)){var e=Number(r.slice(n.length));if(!S(e)&&e>=0&&e<this.R3t.length)return e}}return-1},n.f4t=function(){this.B3t=!0},t.d4t=function(t){if(void 0!==t)return-1===t?1/0:t},Nt(t,[{key:"k3t",get:function(){return this.E3t}},{key:"x3t",get:function(){return this.R3t}},{key:"I3t",get:function(){return 1===this.R3t.length&&QJ(this.R3t[0].sources.type)}},{key:"C3t",get:function(){return this.P3t}},{key:"L3t",get:function(){return this.B3t}},{key:"O3t",get:function(){return iQ(this.F3t)&&!this.M3t}},{key:"N3t",get:function(){return this.F3t}},{key:"sd",get:function(){return this.V3t}},{key:"U3t",get:function(){return this.G3t},set:function(t){this.G3t=t}},{key:"H3t",get:function(){return this.Z3t},set:function(t){this.Z3t=t,this.X3t=!1}},{key:"z3t",get:function(){return this.q3t}},{key:"pO",get:function(){return this.rst},set:function(t){this.rst=t}},{key:"FR",get:function(){return this.oZ},set:function(t){this.oZ=t}}]),t}();F(),Tt(),Dt();var o0=function(){function t(t){this.S4t=!1,this.v4t=t,this.g4t=void 0}var n=t.prototype;return n.u2t=function(t){this.g4t=t},n.p4t=function(t){return!(this._4t&&!this._4t.L3t&&"nonlinear"!==this.m4t.E2t)||this._4t.sd>t.sd&&this._4t.sd!==t.sd},n.w4t=function(t){if(t.length)return t.sort((function(t,n){return t.sd-n.sd}))[0]},n.y4t=function(){if(this.qst.length)return this.w4t(this.b4t(this.t.bR()))},n.A4t=function(){var t=this;if(!(void 0!==this.g4t&&this.g4t>=0))return this.qst.filter((function(n){return!n.U3t&&0===n.sd&&n!==t._4t}))[0]},n.b4t=function(t){var n=this;if(!this.S4t&&(this.S4t=!this.qst.some((function(t){return S(t.sd)})),!this.S4t))return[];var i=this.qst.filter((function(n){return!n.U3t&&(n.I3t||!S(n.sd)&&t<=n.sd)}));return void 0===this.g4t?i:i.filter((function(t){return t.I3t||void 0===t.N3t||t.sd>n.g4t}))},Nt(t,[{key:"_4t",get:function(){return this.v4t._4t}},{key:"m4t",get:function(){return this.v4t.m4t}},{key:"qst",get:function(){return this.v4t.qst}},{key:"t",get:function(){return this.v4t.t}}]),t}(),a0=function(t){return t[t.T4t=0]="T4t",t[t.k4t=1]="k4t",t[t.E4t=2]="E4t",t}({}),c0=function(){function t(t,n,i,r,e){var u=this;this.L4t=0,this.opt=void 0,this.j4t=!1,this.GX=function(){for(var t=u.w2t.filter((function(t){return t.O3t})),n=0;n<t.length;n++){var i=t[n];i.W3t();var r=i.N3t;u.D4t.$4t(r,i.sd)}u.do&&u.Q4t&&u.R4t()},this.w2t=[],this.M4t=t,this.do=!1,this.x4t=!1,this.ta=n,this.a2t=i,this._4t=void 0,this.G4t=0,this.Y4t=new o0(this),this.hst=r,this.D4t=e,this.ta.yn(ua.Sy,this.GX)}var n=t.prototype;return n.yI=function(){this.do=!0,this.x4t&&this.R4t()},n.I4t=function(t,n){this.C4t(t,n);var i=ao(this.qst,(function(n){return n.D3t(t)}));if(i)i.c4t(t);else{var r,e=new s0(t,n,this.ta,null==(r=t.replaceContent)||r);this.w2t.push(e),2===this.P4t&&this.D4t.j2t(e.sd,e,e.N3t),this.N4t(n,e)}},n.B4t=function(){if(lo(this.qst,this._4t),this._4t){for(var t=0,n=this._4t.z3t;t<n.length;t++){n[t];this.D4t.O4t()}this._4t=void 0}},n.F4t=function(){for(var t=0,n=this.w2t;t<n.length;t++)for(var i=0,r=n[t].z3t;i<r.length;i++){var e=r[i];this.D4t.V4t(e,!0)}po(this.w2t)},n.W4t=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.B4t(),n.U4t=!0,n._4t=t,n.G4t=t.sd,n.opt=n.H4t(t),[4,n.opt];case 1:return i.sent(),n.opt=void 0,[2]}}))}))()},n.H4t=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:if(n.Z4t(t),!(i=t.K3t()))return n.U4t=!1,n._4t=void 0,[2];r=n.M4t.X4t(i),t.U3t=!0,e.label=1;case 1:return e.trys.push([1,3,,5]),[4,r];case 2:return e.sent(),t.k3t===AL.Gst&&n.M4t.z4t(),[3,5];case 3:return e.sent(),n._4t=void 0,[4,n.R4t()];case 4:return e.sent(),[3,5];case 5:return[2]}}))}))()},n.Z4t=function(t){this.do?t.pO=!0:t.pO=this.a2t.pO,t.FR=this.a2t.FR},n.q4t=function(){var t;return null!=(t=this.Y4t.A4t())?t:this.Y4t.y4t()},n.R4t=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t._4t&&!t._4t.L3t?[2,t.opt]:(n=t.q4t())?[4,t.W4t(n)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))()},n.tr=function(){this.B4t(),po(this.w2t),this.G4t=0,this._4t=void 0,this.opt=void 0,this.U4t=!1},n.H3t=function(){this.U4t=!1,this._4t&&(this._4t.H3t=!0)},n.N4t=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return t===AL.Gst&&i.do&&i.Y4t.p4t(n)?i.DZt||"linear"===i.M4t.E2t||!(!i._4t||i._4t&&i._4t.U3t)?[3,3]:[4,et.resolve()]:[3,3];case 1:return r.sent(),[4,i.W4t(n)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))()},n.f4t=function(){this._4t&&this._4t.f4t()},n.J4t=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.Q4t?(n=t.q4t())?[4,t.W4t(n)]:[3,2]:[2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))()},n.C4t=function(t,n){var i=t.sources.type,r=n===AL.Hst&&void 0===t.timeOffset,e=QJ(i)||r?1:2;e!==this.L4t&&(this.L4t=e,this.F4t(),this.M4t.MJt&&!this.DZt&&"linear"!==this.M4t.E2t&&(this.M4t.MJt.Ww(),this._4t=void 0,this.opt=void 0),this.G4t=0,this.x4t=!0)},n.u2t=function(t){this.Y4t.u2t(t)},n.gn=function(){this.ta.fn(ua.Sy,this.GX)},Nt(t,[{key:"m4t",get:function(){return this.M4t}},{key:"qst",get:function(){return this.w2t}},{key:"t",get:function(){return this.ta}},{key:"DZt",get:function(){return Boolean(this.opt)}},{key:"P4t",get:function(){return this.L4t}},{key:"_4t",get:function(){return this.K4t},set:function(t){this.K4t=t}},{key:"U4t",get:function(){return this.j4t},set:function(t){this.j4t=t}},{key:"Q4t",get:function(){var t=this;return!this.DZt&&!this.U4t&&(!(this._4t&&!this._4t.L3t)&&(!!this.w2t.filter((function(n){return t._4t!==n})).length&&Boolean(this.q4t())))}}]),t}();F(),Tt(),Gt(),Rt(),qt(),F(),Tt();var h0=function(t){return t.t5t="contentResumeRequested",t.e5t="contentPauseRequested",t.i5t="click",t.Sy="durationChange",t.s5t="expandedChanged",t.n5t="start",t.r5t="impression",t.xZ="pause",t.o5t="resume",t.h5t="adProgress",t.a5t="adBuffering",t.u5t="firstQuartile",t.NKt="midpoint",t.c5t="thirdQuartile",t.MKt="complete",t.l5t="userClose",t.d5t="linearChanged",t.f5t="loaded",t._5t="adCanPlay",t.v5t="adMetadata",t.m5t="adBreakReady",t.g5t="interaction",t.p5t="allAdsCompleted",t.w5t="skip",t.y5t="skippableStateChanged",t.b5t="log",t.A5t="viewableImpression",t.S5t="volumeChange",t.T5t="mute",t}({});F(),Tt();var f0=function(t){return t.k5t="adError",t}({});F(),Tt();var v0=function(t){return t[t.E5t=-1]="E5t",t[t.x5t=-1]="x5t",t[t.R5t=-1]="R5t",t[t.I5t=101]="I5t",t[t.C5t=102]="C5t",t[t.P5t=200]="P5t",t[t.D5t=201]="D5t",t[t.N5t=202]="N5t",t[t.M5t=300]="M5t",t[t.L5t=301]="L5t",t[t.B5t=302]="B5t",t[t.O5t=303]="O5t",t[t.F5t=400]="F5t",t[t.V5t=402]="V5t",t[t.W5t=403]="W5t",t[t.U5t=405]="U5t",t[t.G5t=500]="G5t",t[t.H5t=501]="H5t",t[t.Z5t=-1]="Z5t",t[t.X5t=503]="X5t",t[t.z5t=602]="z5t",t[t.q5t=900]="q5t",t[t.Y5t=901]="Y5t",t[t.K5t=1005]="K5t",t[t.j5t=1007]="j5t",t[t.Q5t=1009]="Q5t",t[t.J5t=1010]="J5t",t[t.$5t=1011]="$5t",t[t.t6t=1012]="t6t",t[t.e6t=1013]="e6t",t[t.i6t=1020]="i6t",t[t.s6t=1021]="s6t",t[t.n6t=1101]="n6t",t[t.r6t=1204]="r6t",t[t.o6t=1205]="o6t",t[t.h6t=1300]="h6t",t[t.a6t=-1]="a6t",t[t.u6t=-1]="u6t",t[t.c6t=-1]="c6t",t[t.l6t=-1]="l6t",t}({}),d0=function(t){return t.d6t="adLoadError",t.f6t="adPlayError",t}({});function l0(t,n){if(t===h0.h5t){var i=n;return{_6t:i.adBreakDuration,v6t:i.adPosition,yR:i.currentTime,ct:i.duration,m6t:i.totalAds}}return n}function g0(t){switch(t){case google.ima.AdError.Type.AD_LOAD:return d0.d6t;case google.ima.AdError.Type.AD_PLAY:return d0.f6t}}function w0(t){return Qn(t)&&ui(t.getVastErrorCode)}function m0(t){var n=t.getInnerError(),i=n&&w0(n)?m0(n):void 0;return{_b:t.getMessage(),ljt:t.getErrorCode(),g6t:t.getVastErrorCode(),pw:g0(t.getType()),p6t:i}}function y0(t){if(Yn(t))return t}F(),Tt(),sn(),F(),Tt();var p0=function(t){function n(n,i,r){var e,u;return e=t.call(this)||this,u=e,e.M4t=n,e.ta=i,e.L6t=r,e.m9t=!1,e.d9t=void 0,e.f9t=void 0,e.X6t=0,e.K6t=function(t){if(t.tnt&&t.tnt.t9t){var n=t.tnt.t9t;e.L6t.Q2t(n.ZBt,n.m6t,n.DJt)}},e.j6t=function(t){var n,i,r;if(!(e.X6t>=5)){e.X6t++;var u=t.O6t;if(function(t){return Qn(t)&&void 0!==t._6t&&void 0!==t.m6t}(u)){var s=null==(r=e.LJt)||null==(i=r.Q6t())||null==(n=i.t9t)?void 0:n.ZBt;void 0!==s&&e.L6t.Q2t(s,u.m6t,u._6t)}}},e.b6t=Zt((function(t){return Ht(this,(function(n){switch(n.label){case 0:return t.O6t.g9t?[4,u.U6t(t.O6t.g9t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))})),e.T6t=Zt((function(){return Ht(this,(function(t){switch(t.label){case 0:return u.m9t=!0,u.M4t.f4t(),[4,u.S6t()];case 1:return t.sent(),[2]}}))})),e.k6t=function(t){if(t.tnt){0;var n=t.tnt;e.M4t.n9t(n),e.M4t.ge(),e.M4t.p9t(),e.M4t.w9t=!0,e.L6t.y9t(n);var i=n.ct;if(e.B6t(i),n.z6t){var r=e.M4t.yR,u=e.M4t.tI;e.M4t.x4(pp.JB),e.w6t(new bp(r,u)),e.w6t(new Ap(r,u)),e.w6t(new Tp(r,u)),e.M4t.ZR||e.w6t(new Sp(e.M4t.yR)),e.setCountdownTimer(),e.D6t(!0)}else e.M4t.v1t(),e.ta.ge(),e.M4t.ZR||e.ta.AI()}},e.E6t=function(t){var n;if(t.tnt){0;var i=t.tnt;if(e.Fp(),e.L6t.s9t(e.M4t.ct,i.z6t),e.M4t.tI!==pp.jB){var r=pp.jB;e.M4t.x4(r);var u=e.M4t.yR;e.w6t(new sT(u,r))}e.B6t(NaN),e.M4t.w9t=!1,null==(n=e.LJt)||n._I(e.M4t.q6t())}},e.x6t=function(t){t.tnt&&(e.E6t(t),e.L6t.x6t(t.tnt,e.M4t.yR,e.M4t.ct))},e.R6t=function(t){t.tnt&&(e.L6t.s9t(-1,t.tnt.z6t),e.M4t.f4t(),!t.tnt.z6t&&e.M4t.Q4t()&&e.M4t.J4t())},e.I6t=function(t){t.tnt&&(t.tnt.z6t?e.M4t.bI():e.ta.bI())},e.C6t=function(){var t;(e.M4t.w9t=!0,e.M4t.b9t)&&(null==(t=e.LJt)||t.bI(),e.M4t.b9t=!1)},e.A6t=function(t){var n;if(t.tnt){0,e.M4t.l9t&&(e.f9t=e.ta.bR(),e.ta.xI(),e.ta.gI=!0),e.M4t.A9t=!0;var i=t.tnt;e.L6t.xd(i);var r=i.ct;e.M4t.n9t(i),e.B6t(r),e.M4t.P6t(!1),e.M4t.ge(),e.M4t.p3t(),e.M4t.l9t||e.ta.be(),e.ta.bI(),e.M4t.S9t(i),0===(null==(n=i.t9t)?void 0:n.ZBt)||e.M4t.yo(new kp(e.M4t.yR))}},e.S6t=Zt((function(t){var n,i,r,e,s;return Ht(this,(function(o){switch(o.label){case 0:return n=null==t?void 0:t.tnt,u.M4t.A9t=!1,"linear"===u.M4t.E2t&&u.L6t.Cd(),n&&n.ct>=0&&u.B6t(n.ct),u.ta._d()===1/0&&u.M4t.T9t(),u.M4t.w9t=!1,u.m9t?[4,u.i9t()]:[3,2];case 1:o.sent(),o.label=2;case 2:u.M4t.P6t(!0),o.label=3;case 3:return o.trys.push([3,5,,6]),[4,u.c9t()];case 4:return o.sent(),[3,6];case 5:return Mo(i=o.sent())||u.yo(new LK(i)),[2];case 6:return u.M4t.v1t(),u.M4t.be(),u.ta.kR||u.ta.AI(),n&&u.M4t.n9t(n),u.M4t.h9t&&(u.M4t.l9t&&(e=u.ta.wI(),s=null==(r=u.ta.bt)?void 0:r.src,e&&s&&(e.src=s)),u.M4t.a9t=!0),u.ta.gI=!1,u.M4t.Q4t()?[4,u.M4t.J4t()]:[3,8];case 7:o.sent(),o.label=8;case 8:return[2]}}))})),e}It(n,t);var i=n.prototype;return i.w6t=function(t){this.M4t.yo(t)},i.y6t=function(t){var n=this;this.LJt=t,this.LJt.yn(f0.k5t,this.b6t),this.LJt.yn(h0.e5t,this.A6t),this.LJt.yn(h0.t5t,this.S6t),this.LJt.yn(h0.p5t,this.T6t),this.LJt.yn(h0.n5t,this.k6t),this.LJt.yn(h0.MKt,this.E6t),this.LJt.yn(h0.w5t,this.x6t),this.LJt.yn(h0.l5t,this.R6t),this.LJt.yn(h0.i5t,this.I6t),this.LJt.yn(h0._5t,this.C6t),this.LJt.yn(h0.xZ,(function(){n.M4t.ZR||(n.M4t.P6t(!0),n.M4t.yo(new oT(n.M4t.yR))),n.D6t(!0)})),this.LJt.yn(h0.o5t,(function(){n.M4t.ZR&&(n.M4t.P6t(!1),n.M4t.yo(new aT(n.M4t.yR)))})),this.LJt.yn(h0.T5t,(function(){var i=t.fI();i>=0&&n.N6t(i)})),this.LJt.yn(h0.S5t,(function(){var i=t.fI();i>=0&&n.N6t(i)})),this.LJt.yn(h0.v5t,(function(t){n.L6t.M6t(t.type)})),this.LJt.yn(h0.Sy,(function(t){t.tnt&&n.B6t(t.tnt.ct)}));var i=this;this.LJt.yn(h0.b5t,Zt((function(t){var n,r;return Ht(this,(function(e){switch(e.label){case 0:return n=t.O6t.adError,(r=w0(n)?m0(n):void 0)?i.F6t(r)?[4,i.V6t(t)]:[3,2]:[2];case 1:return e.sent(),[3,5];case 2:return i.W6t(r)?[4,i.U6t(r)]:[3,4];case 3:return e.sent(),[3,5];case 4:i.G6t(r)&&i.H6t(r),e.label=5;case 5:return[2]}}))}))),this.LJt.yn(h0.f5t,(function(t){if(t.tnt&&(n.M4t.H3t(),n.L6t.Z6t(t.tnt),n.X6t=0,t.tnt.z6t)){var i,r=n.M4t.tI,e=pp.jB;n.M4t.x4(e);var u=n.M4t.yR,s=n.M4t.tI;s!==r&&n.w6t(new sT(u,s)),null==(i=n.LJt)||i._I(n.M4t.q6t()),n.w6t(new _p(u,e))}})),this.LJt.yn([h0.a5t,h0.r5t,h0.u5t,h0.NKt,h0.c5t],(function(t){t.tnt&&n.L6t.Y6t(t.tnt,t.type,n.M4t.yR)})),this.LJt.yn(h0.u5t,this.K6t),this.LJt.yn(h0.h5t,this.j6t)},i.switchToPlayerIfNoNextAd=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:return t.LJt?(n=t.LJt.Q6t())&&t.J6t(n)?[3,3]:t.M4t.Q4t()?[4,t.M4t.J4t()]:[3,2]:[3,4];case 1:return r.sent(),[3,3];case 2:t.M4t.$6t(),t.ta.ZR&&!t.ta.kR&&t.ta.AI(),r.label=3;case 3:return[3,7];case 4:return t.M4t.Q4t()?[4,t.M4t.J4t()]:[3,6];case 5:return r.sent(),[3,7];case 6:i=t.M4t.ZR,t.M4t.$6t(),i||t.ta.AI(),r.label=7;case 7:return[2]}}))}))()},i.J6t=function(t){var n=t.t9t,i=null==n?void 0:n.m6t;return(null==n?void 0:n.v6t)!==i},i.Fp=function(){this.M4t.Mc&&(y(this.M4t.Mc),this.M4t.Mc=null)},i.G6t=function(t){return t.pw===d0.d6t},i.W6t=function(t){return t.pw===d0.f6t},i.F6t=function(t){return t.ljt===v0.Q5t},i.U6t=function(t){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:return n.H6t(t),r=[v0.F5t,v0.Y5t,v0.s6t,v0.o6t],n.M4t.cnt||mo(r,t.ljt)||mo(r,null==(i=t.p6t)?void 0:i.ljt)?[3,2]:(n.M4t.e9t.U4t=!1,null==(e=n.M4t.e9t._4t)||e.f4t(),[4,n.switchToPlayerIfNoNextAd()]);case 1:u.sent(),u.label=2;case 2:return[2]}}))}))()},i.H6t=function(t){this.M4t.t3t(t)},i.i9t=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.L6t.O4t(),t.M4t.f4t(),"nonlinear"===t.M4t.E2t&&(t.L6t.s9t(-1,!1),t.M4t.n9t(void 0)),"nonlinear"!==t.M4t.E2t&&"none"!==t.M4t.E2t?[3,2]:t.M4t.Q4t()?[4,t.M4t.J4t()]:[3,2];case 1:n.sent(),n.label=2;case 2:return t.M4t.r9t(),t.M4t.r2t?t.M4t.v1t():t.o9t()&&t.ta.yo(new fT(t.ta.bR())),[2]}}))}))()},i.o9t=function(){return this.M4t.h9t&&!this.M4t.a9t&&this.ta.kR},i.setCountdownTimer=function(){var t=this;this.Fp(),this.M4t.Mc=m((function(){return t.D6t()}),250)},i.V6t=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return void 0===t.tnt?[2]:(n.M4t.e9t.U4t=!1,n.M4t.f4t(),n.M4t.Q4t()?[4,n.M4t.J4t()]:[3,2]);case 1:return i.sent(),[3,3];case 2:n.M4t.P6t(!0),i.label=3;case 3:return[2]}}))}))()},i.B6t=function(t){this.M4t.ct!==t&&t>=0&&(this.M4t.e4(t),this.w6t(new cT(this.M4t.ct)))},i.N6t=function(t){this.M4t.q6t()!==t&&(0===t?this.M4t.u9t(t,!0,!1):this.M4t.u9t(t,!1,!1))},i.c9t=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.M4t.l9t&&void 0!==t.ta.xR()?(t.d9t=new Ho,[4,Uo(t.ta.ka(t.ta.Ya(),t.d9t.Bw),t.d9t)]):[3,2];case 1:n.sent(),t.f9t&&t.ta.AR(t.f9t),t.f9t=void 0,n.label=2;case 2:return[2]}}))}))()},i.D6t=function(t){if(this.LJt){var n=this.LJt._9t();n>this.M4t.ct&&this.B6t(k.round(n))}var i=this.M4t.yR;(t||!this.M4t.ZR&&i!==this.M4t.v9t)&&(this.M4t.yo(new vg(i,void 0)),this.M4t.v9t=i)},i.tr=function(){this.d9t&&(this.d9t.Xw(),this.d9t=void 0),this.m9t=!1,this.X6t=0},i.gn=function(){this.tr(),this.Bo()},n}(na);F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt();var _0=function(t){function n(n,i,r){var e;return(e=t.call(this,n)||this).k9t=i,e.E9t=r,e}return It(n,t),Nt(n,[{key:"jjt",get:function(){return XQ.e$t}}]),n}(N$);F(),Tt(),Dt(),Rt(),F(),Tt(),F(),Tt(),Dt(),Rt();var b0=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).R9t=0,r.I9t=void 0,r}It(n,t);var i=n.prototype;return i.KJt=function(){var t;return null==(t=this.I9t)?void 0:t.Oqt},i.ma=function(){return function(t,n){return Eg(t,{bitrate:0,contentType:void 0,mediaUrl:void 0,traffickingParameters:void 0,traffickingParametersString:void 0,universalAdIds:[],get description(){return n.MN},get apiFramework(){return n.C9t},get creativeId(){return n.aYt},get title(){return n.eH},get wrapperAdIds(){return n.P9t},get wrapperAdSystems(){return n.D9t},get wrapperCreativeIds(){return n.N9t}})}(M$(this),this)},i.M9t=function(t){this.I9t=t;var n=k0(t);this.S2t(t.iKt,t.L9t,t.B9t,t.ct,n,-1)},Nt(n,[{key:"x9t",get:function(){return this.R9t},set:function(t){this.R9t=t}},{key:"jjt",get:function(){return XQ.Xh}},{key:"C9t",get:function(){var t;return null==(t=this.I9t)?void 0:t.xYt}},{key:"aYt",get:function(){var t;return null==(t=this.I9t)?void 0:t.aYt}},{key:"MN",get:function(){var t;return null==(t=this.I9t)?void 0:t.MN}},{key:"eH",get:function(){var t;return null==(t=this.I9t)?void 0:t.eH}},{key:"P9t",get:function(){var t,n;return null!=(n=null==(t=this.I9t)?void 0:t.P9t)?n:[]}},{key:"D9t",get:function(){var t,n;return null!=(n=null==(t=this.I9t)?void 0:t.D9t)?n:[]}},{key:"N9t",get:function(){var t,n;return null!=(n=null==(t=this.I9t)?void 0:t.N9t)?n:[]}}]),n}(L$);function k0(t){return t.zqt.map((function(t){return new O$(t)}))}var A0=function(t){function n(n){var i;return(i=t.call(this,n,P$.Qk)||this).I9t=void 0,i.pKt=void 0,i}It(n,t);var i=n.prototype;return i.ma=function(){return function(t,n){return Eg(t,{get adSystem(){return n.KJt()},get apiFramework(){return n.C9t},get bitrate(){return n.O9t},get contentType(){return n.Ik},get creativeId(){return n.aYt},get description(){return n.MN},get mediaUrl(){return n.gKt},get title(){return n.eH},get traffickingParameters(){return n.F9t},get traffickingParametersString(){return n.V9t},get wrapperAdIds(){return n.P9t},get wrapperAdSystems(){return n.D9t},get wrapperCreativeIds(){return n.N9t},get universalAdIds(){return n.Yqt}})}(M$(this),this)},i.M9t=function(t){this.I9t=t,this.S2t(t.iKt,t.L9t,t.B9t,t.ct,k0(t),t.W9t),this.x2t=t.z6t?P$.Ajt:P$.A2t},i.KJt=function(){return this.I9t?T0(this.I9t.Oqt):void 0},Nt(n,[{key:"jjt",get:function(){return XQ.e$t}},{key:"C9t",get:function(){return this.I9t?T0(this.I9t.xYt):void 0}},{key:"O9t",get:function(){return this.I9t?this.I9t.U9t:0}},{key:"Ik",get:function(){return this.I9t?T0(this.I9t.Ik):void 0}},{key:"aYt",get:function(){return this.I9t?T0(this.I9t.aYt):void 0}},{key:"G9t",get:function(){return this.I9t?T0(this.I9t.G9t):void 0}},{key:"MN",get:function(){var t;return null==(t=this.I9t)?void 0:t.MN}},{key:"gKt",get:function(){var t,n=null==(t=this.I9t)?void 0:t.gKt;return Yn(n)?n:this.pKt},set:function(t){this.pKt=t}},{key:"eH",get:function(){var t;return null==(t=this.I9t)?void 0:t.eH}},{key:"F9t",get:function(){return this.I9t?T0(this.I9t.F9t):void 0}},{key:"V9t",get:function(){return this.I9t?T0(this.I9t.V9t):void 0}},{key:"P9t",get:function(){var t,n;return null!=(n=null==(t=this.I9t)?void 0:t.P9t)?n:[]}},{key:"D9t",get:function(){var t,n;return null!=(n=null==(t=this.I9t)?void 0:t.D9t)?n:[]}},{key:"N9t",get:function(){var t,n;return null!=(n=null==(t=this.I9t)?void 0:t.N9t)?n:[]}},{key:"Yqt",get:function(){var t,n;return null!=(n=null==(t=this.I9t)?void 0:t.Yqt.map((function(t){return{adIdRegistry:t.H9t,adIdValue:t.Z9t}})))?n:[]}}]),n}(L$);function T0(t){return null===t?void 0:t}F(),Tt(),Dt(),F(),Tt(),Dt();var S0=function(){function t(t,n){this.L6t=t,this.X9t=n}var n=t.prototype;return n.jst=function(t){this.L6t.jst(t)},n.RD=function(){this.L6t.RD()},n.gn=function(){return et.resolve()},Nt(t,[{key:"K1t",get:function(){return this.L6t.K1t}},{key:"X1t",get:function(){return this.X9t}},{key:"r2t",get:function(){return this.L6t.r2t}},{key:"zst",get:function(){var t;return null!=(t=this.L6t.zst)?t:null}},{key:"Zst",get:function(){var t=this.L6t.z9t;return t?[t]:[]}},{key:"qst",get:function(){return this.L6t.qst}},{key:"Yst",get:function(){return this.L6t.Yst}}]),t}(),E0=function(){function t(t,n){this.g3t=t,this.h$t=[],this.K9t=!1,this.Y9t=new S0(this,n)}return Nt(t,[{key:"q9t",get:function(){return this.Y9t}},{key:"K1t",get:function(){return this.g3t}},{key:"r2t",get:function(){return this.K9t}},{key:"z9t",get:function(){return this.jJt}},{key:"zst",get:function(){return this.o$t}},{key:"qst",get:function(){var t=this;return bo(this.h$t,(function(n){if(n.KR)return[];var i=n.Vc;if(n===t.o$t&&void 0!==t.jJt){var r=i.indexOf(t.jJt);if(r>=0)return i.slice(r+1)}return i}))}},{key:"Yst",get:function(){return this.h$t.filter((function(t){return!t.KR}))}}]),t}();F(),Tt(),Rt();var I0=function(t){function n(n){return t.call(this,"j9t",n)||this}return It(n,t),n.prototype.ma=function(){return new R0(this.tnt.Xst())},n}(PL),R0=function(t){function n(n){return t.call(this,"adimpression",n)||this}return It(n,t),n}(xL);F(),Tt(),Rt();var C0=function(t){function n(n){var i;return(i=t.call(this,"Q9t")||this).tnt=n,i}return It(n,t),n.prototype.ma=function(){return new N0(this.tnt.Xst())},n}(dg),N0=function(t){function n(n){var i;return(i=t.call(this,"adbuffering")||this).ad=n,i}return It(n,t),n}(ea);F(),Tt(),Rt();var D0=function(t){function n(){return t.call(this,"J9t")||this}return It(n,t),n.prototype.ma=function(){return new P0},n}(dg),P0=function(t){function n(){return t.call(this,"admetadata")||this}return It(n,t),n}(ea),x0=function(t){function n(n,i){var r;return(r=t.call(this,n,XQ.e$t)||this).e8t=i,r.n8t=[],r.s8t=[],r}It(n,t);var i=n.prototype;return i.$9t=function(t,n){for(var i=0;i<t;i++){var r=new A0(n);n.m2t(r),this.K1t.yo(new LL(r))}},i.j2t=function(t,n,i){var r=t;r===1/0&&(r=-1);var e=new _0(r,i,n);this.h$t.push(e),n.Y3t(e),this.K1t.yo(new NL(e))},i.$4t=function(t,n){for(var i=0,r=this.h$t;i<r.length;i++){var e=r[i];S(e.ZBt)&&e.k9t===t&&(e.ZBt=n,this.K1t.yo(new Z$(e)))}},i.V4t=function(t,n){void 0===n&&(n=!1),n&&lo(this.h$t,t),this.K1t.yo(new RL(t))},i.O4t=function(){if(this.zst){this.V4t(this.zst,!0);var t=Boolean(this.jJt&&this.jJt.E2t===P$.Ajt);this.t8t(void 0,t)}},i.z2t=function(t,n){var i=n.t9t;if(i){var r=i.v6t-1,e=t.Vc[r];return e.M9t(n),this.K1t.yo(new GQ(e)),e.Yl.DJt=i.DJt,e}},i.i8t=function(t){if(!mo(this.s8t,t)){if(t){if(this.jJt===t)return;this.jJt=t;for(var n=0,i=this.n8t;n<i.length;n++){var r=i[n];0,this.M6t(r,t,this.e8t.yR)}}else{if(!this.jJt)return;var e=new ZL(this.jJt,this.jJt.Yl.ZBt);this.s8t.push(this.jJt),this.jJt=void 0,this.g3t.yo(e)}po(this.n8t)}},i.t8t=function(t,n){if(t){var i;if((null==(i=this.zst)?void 0:i.ZBt)===t.ZBt)return;this.o$t=t,n&&this.K1t.yo(new VL(this.o$t))}else{if(!this.o$t)return;var r=new OL(this.o$t);this.o$t=void 0,po(this.s8t),n&&this.g3t.yo(r)}},i.r8t=function(t){return this.h$t.filter((function(n){return ur(n.ZBt,t,.01)}))[0]},i.xd=function(t){if(t.t9t){var n=t.t9t,i=this.r8t(n.ZBt);i&&(po(this.n8t),this.t8t(i,t.z6t))}},i.Cd=function(){this.zst&&this.K1t.yo(new OL(this.zst)),po(this.n8t),this.O4t()},i.y9t=function(t){if(!this.o$t&&t.t9t){var i=this.r8t(t.t9t.ZBt);this.t8t(i,t.z6t)}if(this.o$t){var r=n.o8t(this.o$t,t);if(!r)return;this.z2t(this.o$t,t);var e=t.gKt;Yn(e)&&!Yn(r.gKt)&&(r.gKt=e,this.K1t.yo(new GQ(r))),this.i8t(r),this.K1t.yo(new UL(this.jJt,r.Yl.ZBt))}else 0},i.s9t=function(t,n){if(this.i8t(void 0),!n&&this.zst){var i=this.zst;this.t8t(void 0,!1),this.V4t(i)}},i.Z6t=function(t){var n=t.t9t;if(n){var i=this.r8t(n.ZBt);if(i){this.Q2t(n.ZBt,n.m6t,n.DJt);var r=this.z2t(i,t);r&&this.K1t.yo(new zQ(r))}}},i.Q2t=function(t,n,i){var r=this.r8t(t);if(r){var e=r.Vc.length;if(n>e){var u=n-e;this.$9t(u,r),r.DJt=i,this.K1t.yo(new Z$(r))}}},i.x6t=function(t,i,r){if(this.o$t){var e=n.o8t(this.o$t,t);if(e){var u=i/r;this.K1t.yo(new U$(e,u))}}},i.Y6t=function(t,i,r){if(this.o$t){var e=this.jJt;if(!e){var u=n.o8t(this.o$t,t);if(!u||mo(this.s8t,u))return void this.n8t.push(i);e=u,this.z2t(this.o$t,t),this.i8t(e)}this.M6t(i,e,r)}},i.M6t=function(t,n,i){t===h0.v5t?this.K1t.yo(new D0):t===h0.r5t&&n?this.K1t.yo(new I0(n)):t===h0.a5t&&n?this.K1t.yo(new C0(n)):t===h0.u5t&&n&&i?this.K1t.yo(new z$(n,i)):t===h0.NKt&&n&&i?this.K1t.yo(new j$(n,i)):t===h0.c5t&&n&&i&&this.K1t.yo(new q$(n,i))},i.RD=function(){this.e8t.RD()},i.jst=function(t){this.e8t.jst(t)},i.tr=function(){var t=Boolean(this.jJt&&this.jJt.E2t===P$.Ajt);this.i8t(void 0),this.t8t(void 0,t);for(var n=0,i=this.h$t;n<i.length;n++){var r=i[n];this.V4t(r)}po(this.h$t),po(this.n8t),po(this.s8t)},i.gn=function(){this.tr()},n.o8t=function(t,n){if(n.t9t)return t.Vc[n.t9t.v6t-1]},Nt(n,[{key:"r2t",get:function(){return this.e8t.r2t}}]),n}(E0);function L0(t){var n=f.google.ima.settings;t.ads&&t.ads.vpaidMode&&f.google.ima.settings.setVpaidMode(function(t){var n=f.google.ima.ImaSdkSettings.VpaidMode;switch(t){case OA.ENABLED:return n.ENABLED;case OA.INSECURE:return n.INSECURE;case OA.DISABLED:default:return n.DISABLED}}(t.ads.vpaidMode)),n.setPlayerVersion("9.0.0"),n.setPlayerType("THEOplayer"),n.setAutoPlayAdBreaks(!0),n.setDisableCustomPlaybackForIOS10Plus(!M0(t));var i=function(t){var n,i,r,e=null==(i=t.ads)||null==(n=i.googleIma)?void 0:n.language;if(void 0!==e)return e;var u=null==(r=t.ui)?void 0:r.language;if(ti(u))return u;return}(t);i&&n.setLocale(i)}function M0(t){return Gn.Ka&&t.allowNativeFullscreen}F(),Tt();var O0=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,n,i)||this).do=!1,a.o2t=!1,a.m8t=void 0,a.g8t=void 0,a.V8t=-1,a.x2t="none",a.p8t=!1,a.l8t=!1,a.b8t=new Ho,a.d8t=!1,a._8t=!1,a.G8t=function(t){a.K1t.yo(t)},a.W8t=function(t){a.m8t=new Qg(Jg.ADVERTISEMENT_ERROR,"Error while recovering from failed IMA ad.",t.error.message),a.g8t=nw(a.m8t)},a.v9t=NaN,a.w8t=function(){a.do||a.yI()},a.AQ=r,a.hZ=!0,a.IA=NaN,a.E4=pp.jB,a.f8t=!1,a.v8t=!1,a.D4t=new x0(a.K1t,a),a.D8t=new p0(a,a.ta,a.D4t),a.D8t.yn(Vy.ua,a.W8t),a.ta.yn(ua.so,a.w8t),a.v4t=new c0(a,a.ta,a.a2t,e,a.D4t),a.E8t=o,a.k8t=s,a.x8t=u,a.be(),a.k8t.yn("U8t",a.G8t),a}It(n,t);var i=n.prototype;return i.a8t=function(t,n,i){n===AL.Hst&&void 0!==i&&(this.o2t=i),this.v4t.I4t(t,n)},i.jst=function(t){for(var n=this.c8t(),i=0;i<n.length;i++){var r=n[i];Xq(r.sources,r.timeOffset)||t.o6(r,AL.Gst,!1)}},i.c8t=function(){for(var t=[],n=this.q1t,i=n.Zst,r=n.qst,e=[],u=0,s=i.concat(r);u<s.length;u++){var o=s[u],a=o.Yl.E9t;if(!mo(e,a.TC)){var c,h,f=a.l4t(o.P9t);if(f>=0)(c=t).push.apply(c,Ft(a.x3t.slice(f)));else(h=t).push.apply(h,Ft(a.x3t));e.push(a.TC)}}for(var v=0,d=this.v4t.qst;v<d.length;v++){var l,g=d[v];if(!g.U3t)(l=t).push.apply(l,Ft(g.x3t))}return Eo(t)},i.bR=function(){if(!this.MJt)return 0;var t=this.MJt._9t();return S(this.ct)||t<0?0:this.ct-t},i.AR=function(t,n){},i._d=function(){return this.IA||NaN},i.e4=function(t){this.IA=t},i.WR=function(){return this.ta.FR},i.UR=function(t){this.u9t(this.dI,t,!0)},i.XR=function(){return this.hZ},i.P6t=function(t){this.hZ=t},i.aI=function(){var t,n,i;return null!=(i=null==(n=this.MJt)||null==(t=n.Q6t())?void 0:t.B9t)?i:0},i.lI=function(){var t,n,i;return null!=(i=null==(n=this.MJt)||null==(t=n.Q6t())?void 0:t.L9t)?i:0},i.fR=function(){return[]},i.u2t=function(t){this.g4t=t,this.v4t.u2t(t)},i.z4t=function(){!this.l8t&&this.MJt&&(this.MJt.Cn(),this.l8t=!0)},i.n9t=function(t){this.E2t=t?t.z6t?"linear":"nonlinear":"none"},i.sI=function(){return AA.fB().ks()},i.fI=function(){return this.ta.dI},i._I=function(t){this.u9t(t,this.FR,!0)},i.q6t=function(){return this.ta.FR?0:this.ta.dI},i.u9t=function(t,n,i){var r=this.ta.dI!==t||this.ta.FR!==n;r&&(this.ta.dI=t,this.ta.FR=n),this.MJt&&i&&this.MJt._I(this.q6t()),r&&this.yo(new lT(this.yR,this.dI))},i.ER=function(){return!1},i.xR=function(){if(this.m8t&&this.o2t)return this.m8t},i.IR=function(){if(this.g8t&&this.o2t)return this.g8t},i.eI=function(){return this.E4},i.x4=function(t){this.E4=t,this.yo(new yp(this.yR,t))},i.yI=function(){this.ta.fn(ua.so,this.w8t),this.do||(this.do=!0,this.v4t.yI(),this.p9t())},i.AI=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:if(t.y8t)return[2];t.b8t.Xw(),t.b8t=new Ho,n=t.ZR,t.P6t(!1),t.yo(new aT(t.yR)),t.A8t()||(t.l9t||t.ta.be(),t.yo(new kp(t.yR))),t.w9t||(t.b9t=!1),i=Boolean(t.MJt),t.y8t=t.v4t.R4t(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,t.y8t];case 2:return r.sent(),[3,4];case 3:return t.y8t=void 0,[7];case 4:try{Oo(t.b8t.Bw)}catch(t){return[2]}if(t.do||t.w8t(),t.m8t&&t.o2t)return[2];if(t.MJt){if(n)if(i)try{Oo(t.b8t.Bw),t.MJt.S8t(),t.yo(new Sp(t.yR))}catch(t){return[2]}else t.z4t()}else t.o2t||(t.v1t(),t.a2t.AI());return[2]}}))}))()},i.bI=function(){var t;this.ZR||(this.P6t(!0),this.yo(new oT(this.yR))),this.b8t.Xw(),this.w9t?null==(t=this.MJt)||t.bI():this.b9t=!0},i.RD=function(){var t;null==(t=this.MJt)||t.RD()},i.r9t=function(){this.MJt&&(this.k8t.T8t(),this.MJt.SI(),this.MJt.Ww(),this.MJt=void 0,this.E2t="none",this.l8t=!1)},i.SI=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){return t.v9t=0,t.v4t.tr(),t.b8t.Xw(),t.P6t(!0),t.f8t=!1,t.v8t=!1,t.w9t=!1,t.D4t.tr(),t.r9t(),t.$6t(),null==(n=t.E8t)||n.tr(),t.b9t=!1,t.k8t.Ww(),[2]}))}))()},i.ge=function(){this.x8t.ge(),this.l9t&&this.ta.ge()},i.be=function(){this.x8t.be()},i.R8t=function(){return Boolean(this.MJt)&&mo(this.MJt.I8t(),-1)&&!this.f8t},i.H3t=function(){this.v4t.H3t()},i.Q4t=function(){return this.v4t.Q4t},i.f4t=function(){this.v4t.f4t()},i.J4t=function(){return this.v4t.J4t()},i.J1t=function(t){if(this.R8t()){if(t.type===ua.Uy&&this.ta.kR)return!0;if(t.type===ua.xy)return this.f8t=!0,this.k8t.T8t(),!0}return!1},i.A8t=function(){return Boolean(this.MJt&&this.MJt.Q6t())},i.X4t=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),n.r9t(),i=n.C8t(),n.x8t.bj(),[4,n.k8t.X4t(t,n.E8t,i)];case 1:return n.MJt=e.sent(),n.P8t(n.MJt),[3,3];case 2:return r=e.sent(),n.D8t.U6t(r),[3,3];case 3:return[2]}}))}))()},i.P8t=function(t){if(t._I(this.q6t()),this.v4t.P4t===a0.k4t){var n=t.I8t();if(n.length)for(var i=0;i<n.length;i++){var r=n[i];this.D4t.j2t(r,this.v4t._4t)}else this.D4t.j2t(this.v4t._4t.sd,this.v4t._4t)}this.D8t.tr(),this.D8t.y6t(t)},i.wI=function(){if(this.LJt&&this.l9t&&this.A8t())return this.ta.wI()},i.pI=function(){return this.l9t&&this.r2t?this.ta.wa:t.prototype.pI.call(this)},i.C8t=function(){var t,n,i=!!(this.v4t.P4t===a0.k4t)&&this.u8t;return void 0!==this.AQ.ads.googleIma.uiElements?t=this.AQ.ads.googleIma.uiElements:this.AQ.ads.showCountdown||(t=[]),void 0!==this.AQ.ads.allowedMimeTypes&&(n=this.AQ.ads.allowedMimeTypes),{N8t:n,M8t:t,L8t:i,O9t:this.AQ.ads.googleIma.bitrate,B8t:void 0,O8t:this.g4t}},i.p9t=function(){if(this.LJt){var t=this.C8t();this.LJt.F8t(t)}},i.t3t=function(t){this.m8t=new Qg(Jg.ADVERTISEMENT_ERROR,t._b),this.g8t=new td(Qv.AD_ERROR,"There was a problem playing ads.",this.m8t),this.K1t.yo(I$.$1t(t))},i.$6t=function(){this.r2t&&(this.ta.ge(),this.v1t(),this.be())},i.T9t=function(){var t;this.ta.bR()!==1/0&&0!==this.ta.sI().length&&((null==(t=this.v4t._4t)?void 0:t.C3t)&&-1!==this.V8t&&(this.ta.AR(this.ta.bR()+this.V8t),this.V8t=-1))},i.S9t=function(t){var n,i;this.V8t=null!=(i=null==(n=t.t9t)?void 0:n.DJt)?i:-1},i.v1t=function(){t.prototype.v1t.call(this),this.ta.ge(),this.l9t&&!this.ta.kR&&this.ta.AI()},i.T3t=function(){this.l9t||t.prototype.T3t.call(this)},i.gn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.D8t.fn(Vy.ua,n.W8t),[4,t.prototype.gn.call(n)];case 1:return i.sent(),n.r9t(),n.k8t.fn("U8t",n.G8t),n.k8t.Ww(),n.x8t.Ww(),n.v4t.gn(),n.D8t.gn(),[2]}}))}))()},Nt(n,[{key:"q1t",get:function(){return this.D4t.q9t}},{key:"h8t",get:function(){return this.D4t}},{key:"e9t",get:function(){return this.v4t}},{key:"l9t",get:function(){return M0(this.AQ)}},{key:"X1t",get:function(){return n.X1t}},{key:"u8t",get:function(){return this.AQ.ads.preload===VA.MIDROLL_AND_POSTROLL}},{key:"E2t",get:function(){return this.x2t},set:function(t){this.x2t=t}},{key:"MJt",get:function(){return this.LJt},set:function(t){this.LJt=t,this.l8t=!1}},{key:"w9t",get:function(){return this.d8t},set:function(t){this.d8t=t}},{key:"cnt",get:function(){return this.o2t}},{key:"h9t",get:function(){return this.f8t}},{key:"b9t",get:function(){return this._8t},set:function(t){this._8t=t}},{key:"a9t",get:function(){return this.v8t},set:function(t){this.v8t=t}},{key:"A9t",get:function(){return this.p8t},set:function(t){this.p8t=t}}],[{key:"X1t",get:function(){return XQ.e$t}}]),n}(r0);F(),Tt();var B0=function(){function t(){}var n=t.prototype;return n.registerWebImaAdPlayerConstructor=function(t){this.H8t=t},n.createAdPlayer=function(t,n,i){return V0()&&this.H8t?this.H8t(t,n,i):void 0},t}();function V0(){return!!Boolean(f.google&&f.google.ima)&&!(1===b.keys(f.google.ima).length&&f.google.ima.dai)}B0.Lg=new B0;var F0=function(){function t(){}var n=t.prototype;return n.kZ=function(t){return t&&t.integration===gS.GOOGLE_IMA},n.G1t=function(t,n,i){return B0.Lg.createAdPlayer(t,n,i)},n.o6=function(t,n,i,r){i.a8t(t,n,r)},n.Uz=function(t){var n=$J(t.sources);if(n){var i={integration:gS.GOOGLE_IMA,sources:n,omidAccessModeRules:y0(t.omidAccessModeRules)},r=nQ(t.timeOffset);return void 0!==r&&(i.timeOffset=r),i}},Nt(t,[{key:"U1t",get:function(){return O0.X1t}}]),t}();wS.Lg.EZ(new F0),F(),Tt(),Dt(),F(),Tt(),Gt(),Dt(),Rt(),Ut(),qt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Rt();var U0=function(t){function n(){return t.call(this,"r$t")||this}return It(n,t),n.prototype.ma=function(){return new W0},n}(dg),W0=function(t){function n(){return t.call(this,"adloaded")||this}return It(n,t),n}(ea),Z0=-1,X0=function(){function t(t,n){this.h$t=[],this.HJt=!1,this.F3t=t,this.Sp=0,this.WJt=n,this.K8t=NaN,this.Y8t=!1,this.X8t=new BQ(this,this.WJt)}var n=t.prototype;return n.j8t=function(){return this.Sp<this.h$t.length},n.Pc=function(){var t;return this.Sp<this.h$t.length&&(t=this.h$t[this.Sp],this.Sp++),t},n.Q8t=function(t){t.kjt=this,this.h$t.push(t)},n.J8t=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:i=!1,r=0,e=n.h$t,c.label=1;case 1:if(!(r<e.length))return[3,6];u=e[r],c.label=2;case 2:return c.trys.push([2,4,,5]),[4,u.$n()];case 3:return c.sent(),i=!0,[3,5];case 4:return s=c.sent(),lo(n.h$t,u),o=u.ant.sources,a="string"==typeof o?o:o.src,t.yo(I$.t2t(s,a)),[3,5];case 5:return r++,[3,1];case 6:return n.Y8t=!0,[2,i]}}))}))()},n.ZJt=function(){this.HJt=!0},n.GJt=function(){return this.HJt},n.$8t=function(){return this.h$t.some((function(t){return xQ(t).some((function(t){return t.Zqt}))}))},Nt(t,[{key:"BJt",get:function(){return this.h$t}},{key:"Z8t",get:function(){return this.X8t}},{key:"Wut",get:function(){return this.Sp}},{key:"z8t",get:function(){return this.F3t}},{key:"q8t",get:function(){return this.Y8t}},{key:"sd",get:function(){if(S(this.K8t)){var t=WJ.Kjt(this.F3t,this.WJt.t._d());void 0===t||S(t)||(this.K8t=t)}return this.K8t}}]),t}(),G0=function(t){function n(n,i,r,e){var u,s;return u=t.call(this)||this,s=u,u.m7t=!1,u.a7t=function(t){return jo(u.c7t(t))},u.c7t=Zt((function(t){var n,i,r,e,u,o,a;return Ht(this,(function(c){switch(c.label){case 0:return s.v7t(),n=t.currentTime,i=t.currentTime!==Z0?s.f7t(s.X3,t.currentTime):s.d7t(t.currentTime,0,0)[0],u=s.ta._d()-10,(e=s.l7t(Z0)&&k.ceil(n)===k.ceil(u)?s.d7t(Z0,10,0).filter((function(t){return!t.q8t})):s.d7t(n,10,0).filter((function(t){return!t.q8t}))).length?[4,et.all(e.map((function(t){return t.J8t(s.r7t)})))]:[3,2];case 1:o=c.sent(),(a=o.some((function(t){return!0===t})))&&s.yo(new U0),(!a||!s.n7t.T7t||e[0].sd<s.n7t.T7t.sd)&&(r=e[0]),c.label=2;case 2:return i&&(i!==s.n7t.T7t&&(r=i),s.g7t([i])),r?(s.n7t.o7t(),s.n7t.T7t=r,[4,s.n7t.s7t()]):[3,4];case 3:c.sent(),c.label=4;case 4:return S(s.ta._d())||(s.X3=t.currentTime),[2]}}))})),u.ta=n,u.l3t=i,u.A7t=new OQ(u.l3t,u.ta),u.g4t=void 0,u.m7t=!1,n._d()!==1/0?u.XO=0:u.XO=n.bR(),u.X3=u.XO,u.e7t=[],u.r7t=r,u.n7t=e,u.h7t=!1,u}It(n,t);var i=n.prototype;return i.i7t=function(){this.n7t.s7t()},i.Cn=function(){this.Co(),this.r7t.yn("rnt",this.n7t.o7t)},i.jn=function(){this.Eo(),this.r7t.fn("rnt",this.n7t.o7t),this.X3=this.XO,this.n7t.tr();for(var t=0,n=this.e7t;t<n.length;t++){n[t].ZJt()}po(this.e7t)},i.Co=function(){this.h7t||(this.ta.yn(ua.$y,this.a7t),this.h7t=!0)},i.Eo=function(){this.h7t&&(this.ta.fn(ua.$y,this.a7t),this.h7t=!1)},i.u7t=function(){return this.c7t(new vg(Z0,void 0))},i.l7t=function(t){return this.d7t(t,0,0).length>0},i.f7t=function(t,n){for(var i,r=0,e=0,u=this.e7t;e<u.length;e++){var s=u[e];if(!s.GJt()){var o=s.sd;o>=t&&o<=n&&o>=r&&!S(o)&&(r=(i=s).sd)}}return i},i._7t=function(t){return this.c7t(new vg(t,void 0))},i.v7t=function(){if(!this.m7t&&void 0!==this.g4t){this.m7t=!this.e7t.some((function(t){return S(t.sd)}));for(var t=0,n=this.e7t;t<n.length;t++){var i=n[t];i.sd!==Z0&&i.sd<=this.g4t&&!i.GJt()&&i.ZJt()}}},i.g7t=function(t){for(var n=0;n<t.length;n++){t[n].ZJt()}this.l3t.p7t(t),0===this.t7t&&this.Eo()},i.d7t=function(t,n,i){var r=this;return this.e7t.filter((function(e){if(e.GJt())return!1;var u=e.sd;return r.w7t(u,t)||r.y7t(u,t,n,i)}))},i.w7t=function(t,n){switch(n){case 0:return 0===t;case Z0:return t===Z0;default:return!1}},i.y7t=function(t,n,i,r){if(t<0)return!1;var e=t-n;return-1!==e&&e<=i&&e>=-r},i.b7t=function(t){if(t&&t.length>0){for(var i=0;i<t.length;i++){var r=t[i],e=n.d4t(r.ZBt),u=this.Xmt(r);-1===u&&(this.m7t=void 0===this.g4t,this.e7t.push(new X0(e,this.A7t)),u=this.e7t.length-1),this.e7t[u].Q8t(r)}this.Co()}},i.Xmt=function(t){var i=n.d4t(t.ZBt);return fo(this.e7t,(function(t){return i===n.d4t(t.z8t)}))},i.S7t=function(t){lo(this.e7t,t)},i.u2t=function(t){this.g4t=t,this.m7t=void 0===t},n.d4t=function(t){switch(t){case"start":case"00:00:00":case"00:00:00.000":case"0%":case"0":return"0";case"end":case"100%":return"-1";default:return t}},Nt(n,[{key:"t7t",get:function(){for(var t=0,n=0,i=this.e7t;n<i.length;n++){i[n].GJt()||(t+=1)}return t}},{key:"qst",get:function(){return this.e7t}}]),n}(ra);F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Dt(),Rt();var H0,z0=function(t){function n(n,i){var r;return(r=t.call(this)||this).D7t=[],r.C7t=[],r.HG=void 0,r.g3t=new ra,r.M7t=function(t){t.stopPropagation(),r.L7t()},r.L7t=function(){for(var t=0,n=r.D7t;t<n.length;t++)for(var i=0,e=n[t].GYt;i<e.length;i++){var u=e[i];Fq(u.uri)}},r.u0t=v.createElement("div"),r.u0t.style.display="none",r.B7t=n,r.O7t=i,r}It(n,t);var i=n.prototype;return i.E7t=function(){this.x7t(),this.R7t(),this.HG=void 0},i.I7t=function(t){this.C7t=this.C7t.concat(t)},i.P7t=function(t){this.D7t=this.D7t.concat(t)},i.R7t=function(){this.C7t=[]},i.x7t=function(){this.D7t=[]},i.N7t=function(t){for(var n=0,i=this.C7t;n<i.length;n++){var r=i[n];r.LX===t&&Fq(r.eventURL)}},i.ge=function(){this.k7t.style.display=""},i.be=function(){this.k7t.style.display="none"},i.gn=function(){this.Bo(),this.g3t.Bo(),oi(this.u0t)},Nt(n,[{key:"k7t",get:function(){return this.u0t}},{key:"K1t",get:function(){return this.g3t}}]),n}(ra);function Y0(t,n){var i=n;if(!function(t){return"ui"in t}(t))return i;var r,e=t.ui.language;if(ti(e)){var u=t.ui.languages;if(!u)return i;r=u[e]}else r=e;return r&&r[n]&&(i=r[n]),i}F(),Tt(),F(),Tt(),sn();var j0=(un(H0={},oA.GC,1),un(H0,oA.HC,2),un(H0,oA.ZC,2),H0);function K0(t,n){var i=n?n.map((function(t){return t.toLowerCase()})):n;return Qs(t.filter((function(t){var n=t.type.toLowerCase();return!!qn(i)&&-1!==i.indexOf(n)&&LJ(n)})),(function(t,n){return j0[t.type]-j0[n.type]})).map(q0)}function q0(t){return fA({src:t.contentURL,type:t.type,isAdvertisement:!0})}function J0(t,n){return JO(Q0(t),Q0(n))}function Q0(t){return{Ti:t.height,ji:t.width}}function $0(t,n,i,r){var e,u=function(t,n,i,r){var e,u=1/0,s=t.filter((function(t){return!LJ(t.type)})).filter((function(t){return void 0===r||-1!==r.indexOf(t.type)}));if(s.length){for(var o=0;o<s.length;o++){var a=s[o],c=(k.abs(a.width/n-1)+k.abs(a.height/i-1))/2;c<u&&(u=c,e=a)}return e||s.sort(J0)[0]}}(t.lKt,n.width,n.height,i),s=K0(t.lKt,i);if(u){var o=q0(u);o&&s.push(o)}s.length>0&&(t.gKt=null==(e=s[0].src)?void 0:e.trim());return rE({sources:s},r)}var t1=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,n,i)||this).vte=r,a.IT=e,a.l3t=u,a.Xu=s,a.W7t=o,a.V7t=!1,a.fte=0,a.X3=-1,a.OT=new Ho,a.H7t=!0,a.ote=function(){a.q7t()},a.ate=function(){a.OT=void 0,a.V7t||(a.cte(),a.V7t=!0),a.H7t&&(a.H7t=!1,a.l3t.i7t()),a.k7t.style.display="block",a.W7t.fn(wp.BL,a.ate),a.V7t=!0},a.hte=function(){var t=a.yR,n=a.ct,i=t/n;(0===a.fte&&i>=.25?(a.N7t(lJ.PKt),a.fte=1):1===a.fte&&i>=.5?(a.N7t(lJ.NKt),a.fte=2):2===a.fte&&i>=.75&&(a.N7t(lJ.DKt),a.fte=3),a.J7t(t,n),a.wte(),a.X3=t,a.oKt)&&(-1!==a.oKt._Kt&&a.oKt._Kt<a.oKt.ct&&(null!=a._0t||(a._0t=a.Y7t()),a.yR<a.oKt._Kt?a._0t.P$t(a.oKt._Kt-a.yR):a._0t.N$t()))},a.rte=function(){var t,n;a.OT=void 0,a.W7t.fn(Vy.ua,a.rte),a.H7t=!0,null==(t=a.HG)||t.ajt(RJ.sjt),a.V7t=!1,a.W7t.be();var i=(null==(n=a.W7t.bt)?void 0:n.src)||"";a.B7t(i)},a.ite=function(){a.Ds(new vg(a.yR,void 0))},a.ste=function(){a.Ds(new cT(a.ct))},a.nte=function(){a.Ds(new lT(a.yR,a.dI))},a.Q7t=function(){a.l3t.bI()},a.K7t=function(){a.G7t&&(a.N7t(lJ.kKt),a.K1t.yo(new U$(a.G7t,a.yR/a.ct)),a.q7t(!1))},a.k7t.className="theoplayer-ad-linear",a.k7t.style.zIndex="10",gi(a.k7t),a.W7t.be(),a._te=!1,a}It(n,t);var i=n.prototype;return i.AI=function(){this.W7t.ZR&&(this.W7t.AI(),this.yo(new aT(this.yR)),this.V7t&&this.N7t(lJ.SKt),this.V7t=!0)},i.bI=function(){this.W7t.ZR||(this.W7t.bI(),this.yo(new oT(this.yR)),this.N7t(lJ.Uy))},i.SI=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return null==(n=t.OT)||n.Xw(),t.OT=void 0,t.be(),t.V7t=!1,t.H7t=!0,t.Z7t(),t.X7t(),[4,t.z7t()];case 1:return i.sent(),[2]}}))}))()},i.q7t=function(t){void 0===t&&(t=!0),this.V7t=!1,t&&this.N7t(lJ.MKt),this.be(),this.O7t()},i.Y7t=function(){var t,n=null==(t=this.l3t.Ca)?void 0:t.mi,i=new i$(this.Xu,n);return this.k7t.appendChild(i.we),i.yn("RD",this.K7t),i},i.j7t=function(){this.oKt&&this.oKt.eKt.FYt&&(this.l0t=new JQ(this.k7t),this.l0t.T$t=this.oKt.eKt.FYt,this.l0t.yn("clickstart",this.Q7t),this.l0t.yn("click",this.L7t))},i.J7t=function(t,n){for(var i=0,r=this.C7t;i<r.length;i++){var e=r[i];if(e.LX===lJ.Gy){var u=kJ(e.tc,n);void 0!==u&&this.X3<u&&u<=t&&Fq(e.eventURL)}}},i.$7t=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.oKt&&t.tte?(n=$0(t.oKt,t.tte,t.IT.ads.allowedMimeTypes,t.IT)).sources.length?(t.OT=new Ho,t.H7t=!0,[4,Uo(t.W7t.ka(n,t.OT.Bw),t.OT)]):[3,2]:[2];case 1:return i.sent(),t.W7t.ge(),t.oKt.dYt(),[3,4];case 2:return[4,t.W7t.tr()];case 3:return i.sent(),t.B7t(""),t.oKt.dYt(),[2];case 4:return t.j7t(),[2]}}))}))()},i.ete=function(t,n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return r.G7t=t,r.oKt=t.Zqt,r.W7t.yn(ua.$y,r.ite),r.W7t.yn(ua.Sy,r.ste),r.W7t.yn(ua.eb,r.nte),r.W7t.yn(mp,r.Ds),r.oKt.Qqt&&0!==r.oKt.Qqt.length&&r.I7t(r.oKt.Qqt),r.oKt.eKt&&r.P7t(r.oKt.eKt),r.HG=n,r.tte=i,0===r.oKt.lKt.length?[3,2]:(r.W7t.yn(Vy.ua,r.rte),[4,r.$7t()]);case 1:e.sent(),r.W7t.yn(ua.xy,r.ote),r.W7t.yn(ua.$y,r.hte),r.W7t.yn(wp.BL,r.ate),r.W7t.yn(ua.Xy,r.Ds),e.label=2;case 2:return[2]}}))}))()},i.DQt=function(){this.F7t&&this.ute&&this.K7t()},i.cte=function(){this.N7t(lJ.sTt),this.G7t&&this.K1t.yo(new UL(this.G7t,this.yR))},i.z7t=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.W7t.fn(Vy.ua,t.rte),t.W7t.fn(ua.xy,t.ote),t.W7t.fn(ua.$y,t.hte),t.W7t.fn(wp.BL,t.Ds),t.W7t.fn(wp.BL,t.ate),t.W7t.fn(ua.Xy,t.Ds),t.W7t.fn(ua.$y,t.ite),t.W7t.fn(ua.Sy,t.ste),t.W7t.fn(ua.eb,t.nte),t.W7t.fn(mp,t.Ds),t.G7t&&(t.G7t.ZJt(),t.K1t.yo(new ZL(t.G7t,t.yR))),t.dte(),t.E7t(),t.Z7t(),t.X7t(),t.G7t=void 0,t.oKt=void 0,t.tte=void 0,[4,t.W7t.tr()];case 1:return n.sent(),t.W7t.be(),t.k7t.style.cursor="",t.fte=0,t.X3=-1,t._te&&(t.vte.z7t(),t._te=!1),[2]}}))}))()},i.dte=function(){this.l0t&&(this.l0t.Ww(),this.l0t=void 0)},i.X7t=function(){this.mte&&(oi(this.mte),this.mte=void 0)},i.Z7t=function(){this._0t&&(this._0t.gn(),this._0t=void 0)},i.pte=function(){this._te=!0},i.wte=function(){var t;this.mte||(this.mte=v.createElement("div"),this.mte.className="theoplayer-ad-overlay-component theo-ad-remaining-container",this.k7t.appendChild(this.mte));var n=null==(t=this.G7t)?void 0:t.Yl;if(n){var i=n.Vc.filter(ZQ),r=Y0(this.IT,"The content will play in")+" "+k.round(n.NJt)+" "+Y0(this.IT,"seconds");if(i.length>1){var e=i.filter((function(t){return t.GJt()})).length;r+=". "+Y0(this.IT,"Ad")+" "+(e+1)+"/"+i.length}ux(this.mte,r)}},Nt(n,[{key:"F7t",get:function(){return this.V7t}},{key:"yR",get:function(){return this.W7t.yR}},{key:"ct",get:function(){var t=this.W7t.ct;return S(t)&&this.oKt&&(t=this.oKt.ct||0),t}},{key:"kR",get:function(){return this.W7t.kR}},{key:"FR",get:function(){return this.W7t.FR},set:function(t){this.W7t.FR=t,t?this.N7t(lJ.bKt):this.N7t(lJ.AKt)}},{key:"ZR",get:function(){return this.W7t.ZR}},{key:"tI",get:function(){return this.W7t.tI}},{key:"dI",get:function(){return this.W7t.dI},set:function(t){this.W7t.dI=t}},{key:"hI",get:function(){return this.W7t.hI}},{key:"cI",get:function(){return this.W7t.cI}},{key:"U7t",get:function(){return this.G7t}},{key:"ute",get:function(){return this.oKt&&-1!==this.oKt._Kt&&this.W7t.yR>=this.oKt._Kt}}]),n}(z0);F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Dt(),Rt();var n1=function(t){function n(){var i;return(i=t.call(this)||this).L$t=function(t){i.yo(new ea("RD")),i.yte(t)},i.yte=function(t){t.stopPropagation()},i.Vs=n.cr(),i.M$t(),i}It(n,t);var i=n.prototype;return i.M$t=function(){this.we.addEventListener("mouseup",this.L$t),this.we.addEventListener("touchend",this.L$t),this.we.addEventListener("mousedown",this.yte)},i.D$t=function(){this.we.removeEventListener("mouseup",this.L$t),this.we.removeEventListener("touchend",this.L$t),this.we.removeEventListener("mousedown",this.yte)},i.gn=function(){this.D$t(),oi(this.Vs)},n.cr=function(){var t=v.createElement("div");return t.className="theoplayer-ad-nonlinear-close",t.style.position="absolute",t.style.right="0",t.style.top="0",t.style.cursor="pointer",t.style.fontSize="1.7em",t.style.lineHeight="0.75em",t},Nt(n,[{key:"we",get:function(){return this.Vs}}]),n}(na),i1=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).kte=function(){e.Ite(),e.N7t(lJ.VKt),e.O7t()},e.Tte=function(t){var n,i;e.Ite(),null==(n=e.HG)||n.ajt(RJ.rjt);var r,u,s,o=null==(i=e.QJt)?void 0:i.Kqt[0],a=null!=(u=null!=(r=null==o?void 0:o.eYt)?r:null==o?void 0:o.$qt)?u:null==o?void 0:o.sYt;e.B7t(null!=(s=null==a?void 0:a.QKt)?s:"")},e.Rte=function(){e.be(),ai(e.k7t),e.O7t(),e.Ate=void 0,e.QJt=void 0},e.Pte=function(){e.lu||(e.xte=void 0,e.lu=new n1,e.k7t.children[0].appendChild(e.lu.we),e.lu.yn("RD",e.Dte))},e.Dte=function(){e.N7t(lJ.kKt),e.DQt()},e.k7t.className="theoplayer-ad-nonlinear",e.k7t.style.position="absolute",e.k7t.style.width="100%",e.k7t.style.bottom="3em",e.k7t.style.zIndex="10",e.k7t.style.textAlign="center",e.l3t=r,e}It(n,t);var i=n.prototype;return i.E7t=function(){t.prototype.E7t.call(this),this.k7t&&ai(this.k7t)},i.ete=function(t,n,i){var r=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return r.QJt&&r.z7t(),r.Ate=t,r.QJt=t.Xqt,0!==r.QJt.Qqt.length&&r.I7t(r.QJt.Qqt),r.HG=n,0===r.QJt.Kqt.length?[3,2]:(r.P7t(r.QJt.Kqt[0].rYt),r.k7t.addEventListener("error",r.Tte),r.k7t.addEventListener("load",r.kte),[4,r.$7t()]);case 1:i.sent(),r.Ete(),i.label=2;case 2:return[2]}}))}))()},i.DQt=function(){var t;if(void 0===this.xte){var n=null==(t=this.QJt)?void 0:t.Kqt[0];n&&n.Yl&&-1!==n.Yl._Kt&&(this.N7t(lJ.kKt),this.K1t.yo(new U$(this.Ate,0)),this.Rte())}},i.cte=function(){void 0!==this.Ate&&this.K1t.yo(new UL(this.Ate,this.l3t.yR))},i.SI=function(){this.z7t(),this.Ate=void 0,this.QJt=void 0},i.z7t=function(){this.Ite(),void 0!==this.Ate&&(this.Ate.ZJt(),this.K1t.yo(new ZL(this.Ate,this.l3t.yR))),this.E7t(),this.Cte(),void 0!==this.xte&&(w(this.xte),this.xte=void 0)},i.Ite=function(){this.k7t.removeEventListener("load",this.kte),this.k7t.removeEventListener("error",this.Tte)},i.$7t=function(){var t=this;return Zt((function(){var n,i,r,e,u,s,o,a,c;return Ht(this,(function(h){return(n=v.createElement("div")).className="theoplayer-ad-nonlinear-content",n.style.position="relative",n.style.display="inline-block",i=t.QJt.Kqt[0],r=v.createElement("a"),i.rYt.FYt&&(r.href=i.rYt.FYt,r.target="Vu",r.setAttribute("rel","noopener")),i.eYt?(e=i.eYt,(u=v.createElement("iframe")).src=e.QKt,r.appendChild(u)):i.$qt?(s=i.$qt,(o=v.createElement("img")).src=s.QKt,r.appendChild(o)):i.sYt&&(a=i.sYt,(c=v.createElement("iframe")).src=a.QKt,r.appendChild(c)),i.dYt(),r.addEventListener("mousedown",t.M7t),r.addEventListener("touchend",t.M7t),t.k7t.firstChild&&(ai(t.k7t),t.z7t()),n.appendChild(r),t.k7t.appendChild(n),t.ge(),[2]}))}))()},i.Ete=function(){var t;if(this.QJt){var n=null==(t=this.QJt.Kqt[0].Yl)?void 0:t._Kt;void 0!==n&&-1!==n&&(this.xte=f.setTimeout(this.Pte,1e3*n))}},i.Cte=function(){this.lu&&(this.lu.fn("RD",this.Dte),this.lu.gn()),this.lu=void 0},Nt(n,[{key:"bte",get:function(){return this.Ate}},{key:"Ste",get:function(){return this.lu}},{key:"Nte",get:function(){return this.l3t.Mte()}}]),n}(z0);F(),Tt(),Gt(),qt();var r1=function(){function t(){}return t.Lte=function(t,n,i){return Zt((function(){var r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:r=[],e=t.shift(),a.label=1;case 1:if(!e)return[3,6];a.label=2;case 2:return a.trys.push([2,4,,5]),[4,(new FJ).pjt(e,n)];case 3:return u=a.sent(),r=r.concat(u),[3,5];case 4:return s=a.sent(),o=I$.t2t(s,e.sources.src),i.yo(o),[3,5];case 5:return e=t.shift(),[3,1];case 6:return[2,r]}}))}))()},t}();F(),Tt(),Gt(),Dt(),qt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Rt();var e1=function(t){function n(){return t.call(this,"rat")||this}return It(n,t),n.prototype.ma=function(){return new u1},n}(dg),u1=function(t){function n(){return t.call(this,"statechange")||this}return It(n,t),n}(ea);F(),Tt();var s1=function(t){return t.IDLE="idle",t.LOADING="loading",t.DONE="done",t.ERROR="error",t.EVICTED="evicted",t}({});F(),Tt(),Rt(),F(),Tt(),Dt(),Rt();var o1=function(){function t(){this.Qu=[],this.Za=void 0}var n=t.prototype;return n.aC=function(t){return this.Qu[t]},n.yO=function(t){this.Qu.push(t),this.Za&&this.Za.push(t.ga),this.Bte(t)},n.Ote=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.yO(i)}},n.Fte=function(t,n){n>=0&&n<=this.Qu.length&&(this.Qu.splice(n,0,t),this.Za&&this.Za.splice(n,0,t.ga),this.Bte(t))},n.bO=function(t){return mo(this.Qu,t)},n.jS=function(t){this.Vte(this.Qu.indexOf(t))},n.Vte=function(t){if(t>=0&&t<this.Qu.length){var n=this.Qu[t];go(this.Qu,t),this.Za&&go(this.Za,t),this.Wte(n)}},n.Nb=function(){var t=this.Qu.slice();po(this.Qu),this.Za&&po(this.Za);for(var n=0;n<t.length;n++){var i=t[n];this.Wte(i)}},Nt(t,[{key:"Ju",get:function(){return this.Qu}},{key:"V",get:function(){return this.Qu.length}},{key:"ga",get:function(){return this.Za||(this.Za=this.ma()),this.Za}}]),t}(),a1=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Ute=new ra,n.Ds=function(t){n.yo(t)},n}It(n,t);var i=n.prototype;return i.ma=function(){return function(t){var n=function(t){var n=t.Ju.map((function(t){return t.ga}));return n.item=function(n){var i=0|n,r=t.aC(i);return r&&r.ga||void 0},n}(t),i=new iR(t,n);return n.addEventListener=function(t,n){i.yn(t,n)},n.removeEventListener=function(t,n){i.fn(t,n)},n}(this)},i.yn=function(t,n){this.Ute.yn(t,n)},i.Jw=function(t){this.Ute.Jw(t)},i.Bo=function(){this.Ute.Bo()},i.yo=function(t){this.Ute.yo(t)},i.fn=function(t,n){this.Ute.fn(t,n)},i.sy=function(t){this.Ute.sy(t)},i.oy=function(t){this.Ute.oy(t)},i.uy=function(t,n){return this.Ute.uy(t,n)},n}(o1);F(),Tt(),Rt();var c1=function(t){function n(n){var i;return(i=t.call(this,"addtask")||this).task=n,i}return It(n,t),n}(ea),h1=function(t){function n(n){var i;return(i=t.call(this,"Hte")||this).Gte=n,i}return It(n,t),n.prototype.ma=function(){return new c1(this.Gte.ga)},n}(dg);F(),Tt(),Rt();var f1=function(t){function n(n){var i;return(i=t.call(this,"removetask")||this).task=n,i}return It(n,t),n}(ea),v1=function(t){function n(n){var i;return(i=t.call(this,"Zte")||this).task=n,i}return It(n,t),n.prototype.ma=function(){return new f1(this.task.ga)},n}(dg),d1=function(t){function n(){return t.call(this)||this}It(n,t);var i=n.prototype;return i.Bte=function(t){this.yo(new h1(t))},i.Wte=function(t){this.yo(new v1(t))},n}(a1),l1=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).mat="uninitialised",e.FT=new d1,e.Yte=i,e.Kte=r,e.a_=n,e.yI(),e}It(n,t);var i=n.prototype;return i.yI=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.Xte()];case 1:return n.sent(),t.gat("initialised"),[2]}}))}))()},i.Xte=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,t.zte()];case 1:return n.sent(),[3,3];case 2:return n.sent(),[3,3];case 3:return[2]}}))}))()},i.zte=function(){var t=this;return Zt((function(){var n,i,r,e;return Ht(this,(function(u){switch(u.label){case 0:return[4,t.a_.frt()];case 1:n=u.sent(),i=0,u.label=2;case 2:return i<n.length?(r=n[i],e=t.Yte.qte(r.id,r.sourceDescription,r.parameters,t.Kte),t.jte(e),t.FT.yO(e),[4,e.Qte]):[3,5];case 3:u.sent(),u.label=4;case 4:return i++,[3,2];case 5:return[2]}}))}))()},i.gat=function(t){this.mat=t,this.yo(new e1)},i.qte=function(t,n,i){void 0===i&&(i="persistent");var r=this.Yte.$te(t,n,i);return this.eee(r,i),this.FT.yO(r),this.jte(r),r},i.eee=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,i.iee(t,n)];case 1:return e.sent(),[3,3];case 2:throw r=e.sent(),p("Unable to persist task - "+r);case 3:return[2]}}))}))()},i.iee=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return[4,i.a_.crt({key:t.o,id:t.o,sourceDescription:t.kc,parameters:t.fT},n)];case 1:return r.sent(),[2]}}))}))()},i.jte=function(t){var n=this;t.yn("rat",(function(){t.Hk===s1.EVICTED&&n.FT.jS(t)}))},Nt(n,[{key:"Hk",get:function(){return this.mat}},{key:"Jte",get:function(){return this.FT}}]),n}(na);F(),Tt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),F(),Tt(),Dt();var g1=function(){function t(t,n,i){if(this.ree=t,this.wO=n,this.see=i,0===this.wO.size)this.uee=AA.fB();else{var r=new AA([-1/0,1/0]);this.wO.forEach((function(t){r=r.Sn(t.timeRanges)})),this.uee=r}}return t.prototype.JO=function(t){return!!Rg(this.wO,t.wO)&&(!!cr(this.ree,t.ree)&&(!!cr(this.cB,t.cB)&&(!!cr(this.oee,t.oee)&&this.hee.sB(t.hee))))},Nt(t,[{key:"cB",get:function(){return this.see}},{key:"nee",get:function(){return this.ree}},{key:"oee",get:function(){return this.hee.cB}},{key:"aee",get:function(){var t=0,n=0;return this.wO.forEach((function(i){t+=i.timeRanges.cB,n+=i.totalQualityDurationToCache})),0===n?0:k.min(1,t/n)}},{key:"hee",get:function(){return this.uee}}]),t}();g1.QUALITY_TIME_RANGES_NULL_OBJECT=ns(),g1.CACHE_PROGRESSION_NULL_OBJECT=new g1(0,g1.QUALITY_TIME_RANGES_NULL_OBJECT,NaN),g1.cee=g1.CACHE_PROGRESSION_NULL_OBJECT,F(),Tt(),F(),Tt(),Gt(),Ut(),qt(),F(),Tt(),Gt(),Dt(),Rt(),Ut(),qt(),F(),Tt(),Rt();var w1=function(t){function n(){return t.call(this,"progress")||this}return It(n,t),n}(ea),m1=function(t){function n(){return t.call(this,"M2t")||this}return It(n,t),n.prototype.ma=function(){return new w1},n}(dg);F(),Tt(),F(),Tt(),Dt(),Rt();var y1=function(t){function n(n,i){return t.call(this,n,i)||this}return It(n,t),Nt(n,[{key:"name",get:function(){return"lee"}}]),n}(xo);F(),Tt(),Gt(),qt(),F(),Tt(),Gt(),qt(),F(),Tt();var p1=function(t){return t[t.GC=0]="GC",t[t.HC=1]="HC",t}({});function _1(t,n,i){return b1.apply(this,arguments)}function b1(){return b1=Zt((function(t,n,i){var r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:for(r=[],e=0,u=t.Dpt;e<u.length;e++)s=u[e],r.push(k1(s,n,i));return[4,et.all(r)];case 1:return o=a.sent(),[2,{ct:t.myt.twt(),_ee:[t.SSt],Dpt:o}]}}))})),b1.apply(this,arguments)}function k1(t,n,i){return A1.apply(this,arguments)}function A1(){return A1=Zt((function(t,n,i){var r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:for(r=[],e=0,u=t.bpt;e<u.length;e++)s=u[e],r.push(T1(s,n,i));return[4,et.all(r)];case 1:return[2,{dee:o.sent()}]}}))})),A1.apply(this,arguments)}function T1(t,n,i){return S1.apply(this,arguments)}function S1(){return S1=Zt((function(t,n,i){var r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:for(r=[],e=0,u=t.oft;e<u.length;e++)E1(s=u[e])||r.push(C1(s,n,i));return[4,et.all(r)];case 1:return[2,{Z:o.sent(),pw:t.pw}]}}))})),S1.apply(this,arguments)}function E1(t){return t.Uat.every(R1)}var I1=1;function R1(t){return t.xwt!==I1&&Boolean(t.xwt)}function C1(t,n,i){return N1.apply(this,arguments)}function N1(){return N1=Zt((function(t,n,i){var r,e,u,s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:for(r=[],e=0,u=t.Uat;e<u.length;e++)R1(s=u[e])||r.push(D1(s,i));return[4,et.all(r)];case 1:return o=v.sent(),a=t.Urt[0],c=t.wG,h=c?function(t,n){for(var i=[],r=function(t){return t?Os(t,"avc")?Cv.VIDEO_H264:Os(t,"hev")||Os(t,"hvc")||Os(t,"hvt")||Os(t,"lhv")||Os(t,"lhe")||Os(t,"lht")?Cv.VIDEO_H265:Os(t,"mp4")?Cv.VIDEO_MP4:Os(t,"mpeg2")?Cv.VIDEO_MPEG2:Os(t,"mpeg")?Cv.VIDEO_MPEG:Cv.VIDEO_UNKNOWN:Cv.VIDEO_UNKNOWN}(t),e=0;e<n.length;e++){var u=n[e],s=u.J6.split(":").pop(),o=u.t9;i.push({mimeType:r,uuid:s,data:o})}var a=p1.GC,c=hs;return{type:a,schemeType:c,schemeDatas:i}}(a,c):void 0,f=rZ(t,n,!0),[2,{EC:o,gs:t.Wtt,pw:t.pw,JG:h,Jgt:f}]}}))})),N1.apply(this,arguments)}function D1(t,n){return P1.apply(this,arguments)}function P1(){return P1=Zt((function(t,n){var i,r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:i={stack:[],error:void 0,hasError:!1},c.label=1;case 1:return c.trys.push([1,3,4,5]),r=Yt(i,new Ho,!1),[4,x1(t,n,r.Bw)];case 2:switch(e=c.sent(),u={o:O1(t),CL:e,mG:t.mG,dp:t.dp,Ti:t.Ti,pw:t.pw,ji:t.ji},t.pw){case jg.wk:break;case jg.lE:u.Kdt=null!=(o=null==(s=t.Kdt)?void 0:s.uF())?o:NaN;break;case jg.cE:u.audioSamplingRate=t.Swt}return[2,u];case 3:return a=c.sent(),i.error=a,i.hasError=!0,[3,5];case 4:return jt(i),[7];case 5:return[2]}}))})),P1.apply(this,arguments)}function x1(t,n,i){return L1.apply(this,arguments)}function L1(){return L1=Zt((function(t,n,i){var r,e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:r=[],e=t.Not,t.hdt&&r.push({LO:0,ct:0,fee:t.hdt}),u=e.Qyt(),s=u,h.label=1;case 1:return s?t.tlt(s)?[4,t.ilt(s,n,i)]:[3,3]:[3,5];case 2:for(o=h.sent(),a=0;a<o.V;a++)r.push(M1(o.nlt(a),t));return[3,4];case 3:r.push(M1(s,t)),h.label=4;case 4:return s=e.olt(s),[3,1];case 5:return c=e.ebt(),[2,{ct:c.BO-u.LO,Srt:r}]}}))})),L1.apply(this,arguments)}function M1(t,n){return{LO:t.LO,ct:t.ct,fee:n.clt(t)}}function O1(t){return t.Yct.Cn+"-"+(""+t.o)}function B1(t,n){var i=function(t){var n=function(t){for(var n=ns(),i=0;i<t.length;i++){var r=t[i],e=n.get(r.tLt);e||(e={pw:r.pw,gN:[]},n.set(r.tLt,e)),e.gN.push(r)}return n}(t),i=is();return n.forEach((function(t){for(var n=0,r=t.gN;n<r.length;n++){var e=r[n],u=i.get(t.pw);u||(u=ns(),i.set(t.pw,u));var s=u.get(e.l);s||(s=[],u.set(e.l,s)),s.push(e)}})),i}(t);return function(t,n){var i=is();return t.forEach((function(t,r){var e=ns();t.forEach((function(t,i){for(var u=[],s=0;s<t.length;s++){var o=V1(t[s],r,n);u.push(o)}e.set(i,u)})),i.set(r,e)})),i}(i,n)}function V1(t,n,i){for(var r=t.tLt,e={oLt:t,PLt:[]},u=0;u<i.length;u++){var s=i[u];JY(n,r,s)&&e.PLt.push(s)}return e}function F1(t,n){return U1.apply(this,arguments)}function U1(){return U1=Zt((function(t,n){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,n.JSt([t],{})];case 1:return[2,bY((i=r.sent()).jk,{},i.tTt)]}}))})),U1.apply(this,arguments)}function W1(t,n){return Z1.apply(this,arguments)}function Z1(){return Z1=Zt((function(t,n){return Ht(this,(function(i){return Dz(t)?[2,X1(t,n)]:[2,e2(t)]}))})),Z1.apply(this,arguments)}function X1(t,n){return G1.apply(this,arguments)}function G1(){return G1=Zt((function(t,n){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return[4,j1(B1(t.gN,t.YBt),n)];case 1:return i=e.sent(),[4,z1(t.YBt,n)];case 2:return r=e.sent(),i.push(r),[2,{ct:H1(i),_ee:[t.Ryt],Dpt:[{dee:i}]}]}}))})),G1.apply(this,arguments)}function H1(t){for(var n=-1/0,i=0;i<t.length;i++)for(var r=0,e=t[i].Z;r<e.length;r++){var u,s=e[r];n=(u=k).max.apply(u,[n].concat(Ft(s.EC.map((function(t){return t.CL.ct})))))}return n}function z1(t,n){return Y1.apply(this,arguments)}function Y1(){return Y1=Zt((function(t,n){var i,r,e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:i=[],r=0,h.label=1;case 1:return r<t.length?[4,i2((e=t[r]).Ryt,n)]:[3,4];case 2:(o=h.sent()).mG=e.mG,o.dp=e.Urt?function(t){return[t.$Ct,t.ePt,t._Bt].filter(Yn).join(",")}(e.Urt):"",o.Ti=null!=(a=null==(u=e.HCt)?void 0:u.Ti)?a:0,o.ji=null!=(c=null==(s=e.HCt)?void 0:s.ji)?c:0,i.push(o),h.label=3;case 3:return r++,[3,1];case 4:return[2,{pw:jg.Qk,Z:[{gs:HB,pw:jg.Qk,EC:i}]}]}}))})),Y1.apply(this,arguments)}function j1(t,n){return K1.apply(this,arguments)}function K1(){return K1=Zt((function(t,n){var i,r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:i=[],r=t.entries(),e=r.next(),a.label=1;case 1:return e.done?[3,4]:(u=tn(e.value,2),s=u[0],[4,q1(u[1],s,n)]);case 2:o=a.sent(),i.push(o),a.label=3;case 3:return e=r.next(),[3,1];case 4:return[2,i]}}))})),K1.apply(this,arguments)}function q1(t,n,i){return J1.apply(this,arguments)}function J1(){return J1=Zt((function(t,n,i){var r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:r=[],e=t.entries(),u=e.next(),a.label=1;case 1:return u.done?[3,4]:(s=tn(u.value,2),[4,Q1(s[1],i)]);case 2:o=a.sent(),r.push(o),a.label=3;case 3:return u=e.next(),[3,1];case 4:return[2,{pw:t2(n),Z:r}]}}))})),J1.apply(this,arguments)}function Q1(t,n){return $1.apply(this,arguments)}function $1(){return $1=Zt((function(t,n){var i,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:i=[],r=t[0].oLt,e=0,s.label=1;case 1:return e<t.length?[4,n2(t[e],n)]:[3,4];case 2:u=s.sent(),i.push(u),s.label=3;case 3:return e++,[3,1];case 4:return[2,{gs:r.gs||HB,pw:t2(r.pw),EC:i}]}}))})),$1.apply(this,arguments)}function t2(t){switch(t){case xz.cE:return jg.cE;case xz.lE:return jg.lE;case xz.qV:case xz.QLt:return jg.wk;default:return jg.Qk}}function n2(t,n){var i=function(t){var n=t.oLt.Ryt,i=t.PLt.map((function(t){return t.Ryt}));return n||(i.length?i[0]:void 0)}(t);return i2(i,n)}function i2(t,n){return r2.apply(this,arguments)}function r2(){return r2=Zt((function(t,n){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return i={ct:0,Srt:[]},t?[4,F1(t,n)]:[3,2];case 1:Pz(r=e.sent())&&(i=u2(r)),e.label=2;case 2:return[2,{o:t||"default",vee:t,CL:i,mG:0,dp:"",Ti:0,pw:jg.Qk,ji:0}]}}))})),r2.apply(this,arguments)}function e2(t){var n=u2(t);return{ct:n.ct,_ee:[t.Ryt],Dpt:[{dee:[{pw:jg.Qk,Z:[{pw:jg.Qk,gs:HB,EC:[{o:t.Ryt,CL:n,mG:0,dp:"",Ti:0,pw:jg.Qk,ji:0}]}]}]}]}}function u2(t){for(var n,i=[],r=0,e=0,u=t.Srt;e<u.length;e++){var s=u[e],o=r;!s.JBt||void 0!==n&&Fz(s.JBt.Ryt,n)||(i.push(s2(s.JBt,o)),n=s.JBt.Ryt),i.push(o2(s,o)),r+=s.ct}return{ct:r,Srt:i}}function s2(t,n){return{LO:n,ct:0,fee:a2(t.Ryt)}}function o2(t,n){return{LO:n,ct:t.ct,fee:a2(t.Ryt)}}function a2(t){return{qu:t.Ix,iut:t.nAt?[t.nAt.Cn,t.nAt.Cn+t.nAt.V]:void 0,AE:!1}}F(),Tt(),Gt(),nn(),Ut(),qt(),F(),Tt();var c2=function(){function t(t,n,i){this.$St=t,this.ult=n,this.wee=i}var n=t.prototype;return n.mee=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:if(!t.src)throw new p("Invalid typed source");return XA(i=t.type)?[4,n.gee(t)]:[3,2];case 1:case 3:return[2,r.sent()];case 2:return ZA(i)?[4,n.pee(t)]:[3,4];case 4:throw new p("Unexpected source type");case 5:return[2]}}))}))()},n.gee=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,F1(t.src,n.$St)];case 1:return[4,W1(i.sent(),n.$St)];case 2:return[2,i.sent()];case 3:throw i.sent(),new p("Unable to fetch HLS manifest");case 4:return[2]}}))}))()},n.pee=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,(i=new AW({MC:Kn.Ah(t.src),DSt:t.liveOffset,OSt:t.timeServer,AE:t.useCredentials},n.wee,vl.RE,n.$St,t.dash)).W];case 1:return r.sent(),[4,_1(i.Tr.ndt,t.contentProtection,n.ult)];case 2:return[2,r.sent()];case 3:throw r.sent(),new p("Unable to fetch DASH manifest");case 4:return[2]}}))}))()},t}();F(),Tt(),Gt(),qt();var h2=function(){function t(t){this.bee=[],this.Tee=0,this.kee=t}var n=t.prototype;return n.yee=function(){var t=new Zc;return this.bee.push(t),this.Aee(),t.Bb},n.See=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return r.trys.push([0,,2,3]),[4,t];case 1:return r.sent(),[3,3];case 2:return i.Tee-=1,i.Aee(),0===i.bee.length&&0===i.Tee&&n.Mb(!0),[7];case 3:return[2]}}))}))()},n.Aee=function(){this.bee.length>0&&this.Tee<this.kee&&(this.bee.shift().Mb(),this.Tee+=1)},t}();var f2=function(t){function n(n,i,r,e,u,s,o,a){var c;(c=t.call(this)||this).DEFAULT_CACHING_SEGMENT_TIMEOUT=3e4,c.DEFAULT_CACHING_SEGMENT_CONNECTION_TIMEOUT=0,c.Uee=new Zc,c.Cee=g1.cee,c.lTt=n,c.Art=i,c.$St=r,c.Mee=e,c.dct=u,c.ult=s,c.wee=a,c.Kte=o,c.xee=-1;var h=c.lTt.kc.sources[0];return c.Eee=h,c.do=c.yI(),c.Vee=new h2(c.lTt.fT.parallelTasksThreshold),c}It(n,t);var i=n.prototype;return i.yI=function(){var t=this;return Zt((function(){var n,i,r,e,u,s,o,a,c,h,f,v,d,l,g,w,m,y,_,b,A,S,E,I,R,C;return Ht(this,(function(N){switch(N.label){case 0:return[4,new c2(t.$St,t.ult,t.wee).mee(t.Eee)];case 1:return t.jCt=N.sent(),n=t.lTt.fT.amount,i=t.jCt.ct,r=function(t,n){if(ti(t)){if(Os(t,"%"))return T(t)/100*n;throw new p("Unexpected - Invalid string supplied as amount to cache.")}return n<t?n:t}(n,i),t.see=r,u=fM(t.jCt._ee[0]),[4,t.Art.Trt.vrt(u,"manifestURL")];case 2:for(s=N.sent().filter((function(n){return mo(n.references,t.lTt.o)})),o=[],a=t.lTt.fT.bandwidth,c=0,h=t.jCt.Dpt;c<h.length;c++)for(f=h[c],v=0,d=f.dee;v<d.length;v++)for(l=d[v],g=0,w=l2(l,t.lTt.fT.preferredTrackSelection);g<w.length;g++)for(m=w[g],y=0,_=w2(m.EC,a);y<_.length;y++)b=_[y],o.push(b);if(t.xee=k.ceil(o.map((function(t){return t.mG*function(t,n){for(var i=0,r=0,e=t.CL.Srt.map((function(t){return t.ct}));r<e.length;r++)if((i+=e[r])>=n)return i;return i}(t,r)/8})).reduce((function(t,n){return t+n}),0)),A=ns(),s&&0!==s.length){for(S=function(n){var i=s[n],r=i.qualityId,e=new AA(i.startsAndEnds);if(A.has(r))A.get(r).timeRanges=A.get(r).timeRanges.KL(e).YL(5e-4);else{var u,a=ao(o,(function(t){return t.o===r})),c=k.min(t.see,null!=(u=null==a?void 0:a.CL.ct)?u:1/0);A.set(r,{timeRanges:e,totalQualityDurationToCache:c})}},E=s.reduce((function(t,n){return t+n.byteSize}),0),I=0;I<s.length;I++)S(I);e=new g1(E,A,t.see)}else{for(R=0;R<o.length;R++)C=o[R],A.set(C.o,{timeRanges:AA.fB(),totalQualityDurationToCache:k.min(C.CL.ct,t.see)});e=new g1(0,A,t.see)}return t.Ree=e,[2]}}))}))()},i.pi=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.do];case 1:return i.sent(),[4,n.Pee(n.jCt,t)];case 2:return i.sent(),[2]}}))}))()},i.Pee=function(t,n){var i=this;return Zt((function(){var r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:if(!t._ee)throw new p("Unexpected - manifest is missing locations");return[4,i.Dee()];case 1:for(o.sent(),r=[],e=0,u=t.Dpt;e<u.length;e++)s=u[e],r.push(i.Nee(s,t._ee[0],n));return[2,Ko(r)]}}))}))()},i.Dee=function(){var t=this;return Zt((function(){var n,i,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return[4,t.Mee.frt()];case 1:n=s.sent(),i=0,s.label=2;case 2:return i<n.length?(r=n[i],[4,t.Art.krt.Cb(r.key)]):[3,9];case 3:return(e=s.sent())?[4,v2(e,t.lTt.o,t.Art.krt,t.Kte)]:[3,5];case 4:return s.sent(),[3,8];case 5:return s.trys.push([5,7,,8]),[4,t.Art.krt.crt(r,t.Kte)];case 6:return s.sent(),[3,8];case 7:throw u=s.sent(),new y1("Unable to store manifest with url: "+r.locationURL,u);case 8:return i++,[3,2];case 9:return[4,t.Mee.grt()];case 10:return s.sent(),[2]}}))}))()},i.Nee=function(t,n,i){for(var r=[],e=0,u=t.dee;e<u.length;e++)for(var s=l2(u[e],this.lTt.fT.preferredTrackSelection),o=0;o<s.length;o++){var a=s[o];r.push(this.Lee(a,n,i))}return Ko(r)},i.Lee=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return e=r.lTt.fT.bandwidth,u=w2(t.EC,e),t.pw===jg.lE&&t.Jgt&&t.Jgt.iU.widevine&&"persistent"===t.Jgt.iU.widevine.licenseType?[4,r.Bee(t.Jgt)]:[3,2];case 1:c.sent(),Oo(i),c.label=2;case 2:for(s=[],o=0;o<u.length;o++)a=u[o],s.push(r.Oee(a,n,i));return[2,Ko(s)]}}))}))()},i.Oee=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:Oo(i),e=t.CL.Srt[0].LO,u=e+r.see,s=[],o=!1,a=0,c=t.CL.Srt,f.label=1;case 1:return a<c.length?(h=c[a]).LO>=u||r.stopIfFailed(o)?[3,5]:[4,r.Fee(i)]:[3,5];case 2:return f.sent(),[4,r.Vee.yee()];case 3:f.sent(),s.push(r.Vee.See(r.Wee(h,t,n),r.Uee).catch((function(t){return o=!0,et.reject(t)}))),f.label=4;case 4:return a++,[3,1];case 5:return[2,Ko(s)]}}))}))()},i.Fee=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return(null==t?void 0:t.Nw)?[4,n.Uee.Bb]:[3,2];case 1:throw i.sent(),new Lo;case 2:return[2]}}))}))()},i.Gee=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.do.catch(pi)];case 1:return n.sent(),[2,t.jCt]}}))}))()},i.Bee=function(t){return et.resolve()},i.Hee=function(){return Kn.Mp("License renewal unsupported in this SDK."),et.resolve()},i.Wee=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:return e=r.Art.Trt,u=vM(t.fee.qu,t.fee.iut),[4,e.Cb(u)];case 1:return(s=v.sent())?[4,v2(s,r.lTt.o,e,r.Kte)]:[3,3];case 2:return v.sent(),r.Zee(s,!1),[3,7];case 3:return v.trys.push([3,6,,7]),[4,r.Xee(t.fee)];case 4:return o=v.sent(),a=r.zee(t,n,i,o),c=a.segmentMetadataEntry,h=a.segmentEntry,[4,r.Art.brt(Zt((function(t){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.Trt.crt(c,r.Kte)];case 1:return n.sent(),[4,t.Srt.crt(h,r.Kte)];case 2:return n.sent(),[2]}}))})))];case 5:return v.sent(),r.Zee(c,!0),[3,7];case 6:throw f=v.sent(),new y1("Unable to store segment with url: "+t.fee.qu,f);case 7:return[2]}}))}))()},i.Xee=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,n.dct.jat(t,{nut:n.DEFAULT_CACHING_SEGMENT_TIMEOUT,wE:n.DEFAULT_CACHING_SEGMENT_CONNECTION_TIMEOUT})];case 1:return i=r.sent(),[4,n.fct(i)];case 2:return[2,r.sent()]}}))}))()},i.fct=function(t){return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.xk()];case 1:return[2,{buffer:n.sent()}]}}))}))()},i.zee=function(t,n,i,r){var e=vM(t.fee.qu,t.fee.iut),u=t.LO,s=t.ct,o=this.qee(r);return{segmentMetadataEntry:{key:e,segmentURLsegmentByteRange:e,manifestURL:fM(i),qualityId:n.o,byteSize:o,startsAndEnds:new AA([u,u+s]).OL,references:[this.lTt.o]},segmentEntry:{key:e,segmentURLsegmentByteRange:e,manifestURL:fM(i),data:r,references:[this.lTt.o]}}},i.qee=function(t){return t.buffer.byteLength},i.Zee=function(t,n){var i=t.qualityId,r=this.Cee,e=r.wO;e.get(i).timeRanges=e.get(i).timeRanges.KL(new AA(t.startsAndEnds)).YL(5e-4),this.Ree=new g1(n?r.nee+t.byteSize:r.nee,e,this.see)},i.stopIfFailed=function(t){return!1},Nt(n,[{key:"Qte",get:function(){return this.yI()}},{key:"Iee",get:function(){return this.xee}},{key:"Ree",get:function(){return this.Cee},set:function(t){this.Cee.JO(t)||(this.Cee=t,t.JO(g1.cee)||this.yo(new m1))}}]),n}(na);function v2(t,n,i,r){return d2.apply(this,arguments)}function d2(){return d2=Zt((function(t,n,i,r){return Ht(this,(function(e){switch(e.label){case 0:return mo(t.references,n)?[3,2]:(t.references.push(n),[4,i.crt(t,r)]);case 1:e.sent(),e.label=2;case 2:return[2]}}))})),d2.apply(this,arguments)}function l2(t,n){switch(t.pw){case jg.cE:return g2(t.Z,n.audioTrackSelection);case jg.wk:return g2(t.Z,n.textTrackSelection);default:return g2(t.Z,[])}}function g2(t,n){if(0===n.length)return t.length?[t[0]]:[];for(var i=[],r=0;r<t.length;r++){var e=t[r];n.indexOf(e.gs)>-1&&i.push(e)}return i}function w2(t,n){if(!t.length)return[];var i=Ft(t).sort(QO),r=i.filter((function(t){return t.mG<=n}));return r.length>0?[r.pop()]:[i.shift()]}var m2=function(){function t(t,n,i){this.lTt=t,this.Art=n,this.jCt=i}var n=t.prototype;return n.Yee=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.Art.brt(Zt((function(n){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.Kee(n)];case 1:return i.sent(),[4,t.jee(n)];case 2:return i.sent(),[4,t.Qee(n)];case 3:return i.sent(),[4,t.Jee(n)];case 4:return i.sent(),[2]}}))})))];case 1:return n.sent(),[2]}}))}))()},n.Kee=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return i=t.Ert,r=n.lTt.o,[4,i.jS(r)];case 1:return e.sent(),[2]}}))}))()},n.jee=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return i=t.Trt,r=t.Srt,qA(e=n.lTt.kc.sources[0])?(u=fM(e.src),[4,i.vrt(u,"manifestURL")]):[2];case 1:s=c.sent().filter((function(t){return mo(t.references,n.lTt.o)})),o=0,c.label=2;case 2:return o<s.length?(lo((a=s[o]).references,n.lTt.o),0!==a.references.length?[3,5]:[4,i.jS(a.key)]):[3,8];case 3:return c.sent(),[4,r.jS(a.key)];case 4:return c.sent(),[3,7];case 5:return[4,i.crt(a)];case 6:c.sent(),c.label=7;case 7:return o++,[3,2];case 8:return[2]}}))}))()},n.Qee=function(t){var n=this;return Zt((function(){var i,r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return i=t.krt,r=n.$ee(),[4,i.ert(r)];case 1:e=o.sent().filter((function(t){return mo(t.references,n.lTt.o)})),u=0,o.label=2;case 2:return u<e.length?(lo((s=e[u]).references,n.lTt.o),0!==s.references.length?[3,4]:[4,i.jS(s.key)]):[3,7];case 3:return o.sent(),[3,6];case 4:return[4,i.crt(s)];case 5:o.sent(),o.label=6;case 6:return u++,[3,2];case 7:return[2]}}))}))()},n.$ee=function(){if(!this.jCt)return[];var t=this.lTt.kc.sources[0];if(!qA(t))return[];var n=fM(t.src),i=function(t){if(!t)return[];for(var n=[],i=0,r=t.Dpt;i<r.length;i++)for(var e=0,u=r[i].dee;e<u.length;e++)for(var s=0,o=u[e].Z;s<o.length;s++)for(var a=0,c=o[s].EC;a<c.length;a++){var h=c[a];h.vee&&n.push(h.vee)}return function(t){return t.reduce((function(t,n){return t.indexOf(n)<0&&t.push(n),t}),[])}(n)}(this.jCt).map((function(t){return{src:t}})).map((function(t){return fM(t.src)}));return[n].concat(Ft(i))},n.Jee=function(t){var n=this;return Zt((function(){var i,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return[4,(i=t.xrt).frt()];case 1:r=s.sent().filter((function(t){return mo(t.references,n.lTt.o)})),e=0,s.label=2;case 2:return e<r.length?(lo((u=r[e]).references,n.lTt.o),0!==u.references.length?[3,4]:[4,i.jS(u.key)]):[3,7];case 3:return s.sent(),n.tie(u),[3,6];case 4:return[4,i.crt(u)];case 5:s.sent(),s.label=6;case 6:return e++,[3,2];case 7:return[2]}}))}))()},n.tie=function(t){},t}(),y2=function(){function t(){}return t.prototype.uit=function(t,n,i){return new m2(t,n,i)},t}(),p2=new y2;F(),Tt(),Gt(),Dt(),qt(),F(),Tt();var _2=function(){function t(t,n){this.QE=t,this.sie=n}var n=t.prototype;return n.eie=function(t){this.iie(t)},n.iie=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,n.sie.Hee(t)];case 1:return i.sent(),[3,3];case 2:return i.sent(),n.QE.gat(s1.ERROR),[3,3];case 3:return[2]}}))}))()},Nt(t,[{key:"ga",get:function(){return this.Za||(this.Za=function(t){return{renew:function(n){t.eie(n)}}}(this)),this.Za}}]),t}(),b2=function(t){function n(n,i,r,e,u,s){var o;(o=t.call(this)||this).die=new Ho,o.evictOnLoading=function(){o.fn("rat",o.evictOnLoading),o.fie()},o.US=n,o.wc=i,o.cie=r,o.Art=e,o.sie=u.uit(o,o.Art,s),o.uie=new _2(o,o.sie),o.mat=1===o.sie.Ree.aee?s1.DONE:s1.IDLE,o.sie.yn("M2t",(function(t){o.Ds(t),1===o.oie&&o.gat(s1.DONE)}));var a=new Date,c=o.cie.expirationDate.getTime()-a.getTime();return function(t){return t<2147483647}(c)&&g((function(){return o.fie()}),c),o}It(n,t);var i=n.prototype;return i.gat=function(t){this.mat!==t&&(this.mat=t,this.yo(new e1))},i.Cn=function(){this.mat===s1.EVICTED||this.mat===s1.DONE||this.lie()},i.lie=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,3,4]),t.gat(s1.LOADING),n=new Ho,t.die=n,[4,t.sie.pi(n.Bw)];case 1:return i.sent(),t.gat(s1.DONE),[3,4];case 2:return Mo(i.sent())?t.gat(s1.IDLE):t.gat(s1.ERROR),[3,4];case 3:return t.die.Ww(),[7];case 4:return[2]}}))}))()},i.bI=function(){this.die.Xw()},i.jS=function(){this.Hk===s1.LOADING?(this.yn("rat",this.evictOnLoading),this.bI()):this.fie()},i.fie=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,t.sie.Gee()];case 1:return n=i.sent(),[4,p2.uit(t,t.Art,n).Yee()];case 2:return i.sent(),t.sie.Ree=g1.cee,t.gat(s1.EVICTED),[3,4];case 3:return i.sent(),t.gat(s1.ERROR),[3,4];case 4:return[2]}}))}))()},Nt(n,[{key:"Qte",get:function(){return this.sie.Qte}},{key:"ga",get:function(){return this.Za||(this.Za=function(t){var n,i={get id(){return t.o},get status(){return t.Hk},get source(){return t.kc},get parameters(){return t.fT},get duration(){return t.ct},get cached(){return t.nie.ks()},get secondsCached(){return t.rie},get percentageCached(){return t.oie},get bytes(){return t.hie},get bytesCached(){return t.aie},get license(){return t.jq.ga},start:function(){t.Cn()},pause:function(){t.bI()},remove:function(){t.jS()},addEventListener:function(t,i){n.yn(t,i)},removeEventListener:function(t,i){n.fn(t,i)}};return n=new nR(t,["M2t","rat"],i),i}(this)),this.Za}},{key:"o",get:function(){return this.US}},{key:"jq",get:function(){return this.uie}},{key:"Hk",get:function(){return this.mat}},{key:"kc",get:function(){return this.wc}},{key:"fT",get:function(){return this.cie}},{key:"ct",get:function(){return this.sie.Ree.cB}},{key:"nie",get:function(){return this.sie.Ree.hee}},{key:"rie",get:function(){return this.sie.Ree.oee}},{key:"oie",get:function(){return this.sie.Ree.aee}},{key:"hie",get:function(){return this.sie.Iee}},{key:"aie",get:function(){return this.sie.Ree.nee}}]),n}(ra);var k2=function(){function t(t,n){this.Art=t,this._ie=n}var n=t.prototype;return n.$te=function(t,n,i){var r=FE();return this.qte(r,t,n,i)},n.qte=function(t,n,i,r){return new b2(t,n,i,this.Art,this._ie,r)},t}();F(),Tt();var A2=30,T2=5;function S2(t){if(!t)throw new p("Unexpected - The cache parameters are undefined");var n=function(t){if(ti(t)&&!Os(t,"%"))return A(t);return t}(t.amount);!function(t){if(function(t){return ti(t)&&Os(t,"%")}(t)){var n=T(t);if(S(n)||n<0||n>100)throw new p("The amount as percentage must be between 0 and 100 percent.")}if(!ti(t)&&S(t))throw new p("The amount must be a number or a string")}(n);var i=function(t){if(!t)return function(){var t=new Date;return t.setMinutes(t.getMinutes()+A2),t}();return t}(t.expirationDate);!function(t){if(t&&!function(t){return!t||ri(t)&&t>new Date}(t))throw new p("Invalid expiration date for the cache parameters")}(i);var r=function(t){if(void 0===t)return 1/0;return t}(t.bandwidth);!function(t){if(S(t)||t<0)throw new p("The bandwidth must be between zero and infinity.")}(r);var e=function(t){if(!t)return T2;if(S(t))throw new p("The amount must be a number");return t}(t.numberOfParallelTasks);return{amount:n,expirationDate:i,bandwidth:r,parallelTasksThreshold:e,preferredTrackSelection:{audioTrackSelection:[],textTrackSelection:[]}}}var E2=function(){function t(t,n,i,r){var e=this,u=this;this.yie=[],this.gie=0,this.pie=0,this.s7t=Zt((function(){var t;return Ht(this,(function(n){switch(n.label){case 0:return(t=u.q4t())?[4,u.SZt(t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))})),this.o7t=function(){var t=e.yie.shift();null==t||t.jS()},this.Aie=Zt((function(t,n){var i;return Ht(this,(function(r){switch(r.label){case 0:i=!1,r.label=1;case 1:return i?[3,3]:[4,t.uy("M2t")];case 2:return r.sent(),i=1===t.Ree.aee,[3,1];case 3:return n.ct<5&&u.s7t(),[2]}}))})),this.AQ=t,this.aW=n,this.OT=new Ho,this._ie=i,this.dZ=r,this.Art=new AM}var n=t.prototype;return n.q4t=function(){if(this.mie)for(var t=this.mie.BJt;this.gie<t.length;){var n=t[this.gie];for(void 0===this.wie&&(this.wie=xQ(n),this.pie=0);this.pie<this.wie.length;){var i=this.wie[this.pie];if(this.pie++,void 0!==i.Zqt)return i.Zqt}this.gie++,this.wie=void 0}},n.tr=function(){for(this.T7t=void 0,this.OT.Xw(),this.OT=new Ho;this.yie.length;)this.o7t()},n.bie=function(t){return new l1(this.Art.Ert,t,"temporary")},n.SZt=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return(i=K0(t.lKt,n.AQ.ads.allowedMimeTypes)).length?[4,ZT.Lg.qH(i,rE({sources:i}))]:[2];case 1:return(r=c.sent()).t.LH()?(n.sie||(n.sie=new n._ie(n.aW)),e=n.Art,u=new k2(e,n.sie),s=n.bie(u),o=s.qte(rE({sources:r.kc}),S2({amount:10,bandwidth:pk.Lg.rG()||n.dZ.Sj}),"temporary"),n.yie.push(o),a=n.sie.uit(o,e,"temporary"),n.OT.Xw(),n.OT=new Ho,Uo(a.pi(n.OT.Bw),n.OT).then(pi),n.Aie(a,t),[2]):[2]}}))}))()},Nt(t,[{key:"T7t",get:function(){return this.mie},set:function(t){this.mie=t,this.gie=0,this.pie=0,this.wie=void 0}}]),t}();F(),Tt(),Rt(),F(),Tt(),Gt(),Rt(),qt();var I2={key:"",segmentURLsegmentByteRange:"",manifestURL:"",qualityId:"",byteSize:0,startsAndEnds:new AA([0,0]).OL,references:[]},R2={key:"",segmentURLsegmentByteRange:"",manifestURL:"",data:""},C2=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n)||this).Sie=new uB(i),s.Art=r,s.kie=e,s.Kte=u,s}It(n,t);var i=n.prototype;return i.xlt=function(n,i,r,e){var u=this;return Zt((function(){var s;return Ht(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,t.prototype.xlt.call(u,n,i,r,e)];case 1:return[2,o.sent()];case 2:return Bo(o.sent()),[3,3];case 3:return[4,u.Sie.xlt(n,i,r,e)];case 4:return s=o.sent(),[4,u.Tie(n,i,s)];case 5:return o.sent(),[2,s]}}))}))()},i.Tie=function(t,i,r){var e=this;return Zt((function(){var u,s,o,a,c,h,f,v;return Ht(this,(function(d){switch(d.label){case 0:return void 0===e.kie?[2]:(u=e.Art.Trt,s=vM(t,i),[4,u.Cb(s)]);case 1:return(o=d.sent())?[4,v2(o,e.kie,u,e.Kte)]:[3,3];case 2:case 4:return d.sent(),[3,6];case 3:return d.trys.push([3,5,,6]),a={buffer:r},c=n.zee(s,a,e.kie),h=c.segmentMetadataEntry,f=c.segmentEntry,[4,e.Art.brt(Zt((function(t){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.Trt.crt(h,e.Kte)];case 1:return n.sent(),[4,t.Srt.crt(f,e.Kte)];case 2:return n.sent(),[2]}}))})))];case 5:throw v=d.sent(),new y1("Unable to store segment with url: "+t,v);case 6:return[2]}}))}))()},n.zee=function(t,n,i){return{segmentMetadataEntry:$u({},I2,{key:t,segmentURLsegmentByteRange:t,references:[i]}),segmentEntry:$u({},R2,{key:t,segmentURLsegmentByteRange:t,data:n,references:[i]})}},n}(sB);var N2=function(){function t(t){this.aW=t}return t.prototype.uit=function(t,n,i){void 0===i&&(i="persistent");var r=t.kc.sources[0];if(zA(r))throw new p("Caching THEOlive sources is not supported");var e=Boolean(r.useCredentials),u=new cO(this.aW,al.Qk),s=new VW(this.aW,e),o=new dM(n.krt,n.Trt,n.Srt,n.xrt),a=function(t,n,i,r,e){return new C2(n,t,i,r,e)}(this.aW,o,n,t.o,i),c=new kM,h=new XW(ZW(s,o),c,t);return this.Eie(t,n,h,c,u,a,i)},t}(),D2=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n.prototype.Eie=function(t,n,i,r,e,u,s){return new f2(t,n,i,r,e,u,s,NM())},n}(N2),P2=D2,x2=function(t){function n(n,i,r,e,u,s){var o,a;o=t.call(this,n,i)||this,a=o,o.Nie=[],o.Die=0,o.jie=[],o.Fie=!1,o.M9=!1,o.Lie=!0,o.xie=[],o.$ie=function(t){t.type===ua.so&&o.Lie?o.Lie=!1:o.yo(t)},o.Cie=function(){o.M9=!0},o.tse=Zt((function(){return Ht(this,(function(t){switch(t.label){case 0:return a.Die=1,[4,a.Rie.z7t()];case 1:return t.sent(),[2,a.ete(a.Hie.Pc())]}}))})),o.ese=Zt((function(t){var n;return Ht(this,(function(i){switch(i.label){case 0:return n=new NJ(DJ.PLAYBACK,PJ.GENERAL_LINEAR_ERROR,"There was a problem playing a linear ad."),a.K1t.yo(I$.t2t(n,t)),[4,a.Rie.z7t()];case 1:return i.sent(),[2,a.ete(a.Hie.Pc())]}}))})),o.ise=function(){return o.vte.z7t(),o.ete(o.Hie.Pc())},o.sse=function(t){var n=new NJ(DJ.PLAYBACK,PJ.GENERAL_NON_LINEAR_ERROR,"There was a problem playing a non linear ad.");return o.K1t.yo(I$.t2t(n,t)),o.vte.z7t(),o.ete(o.Hie.Pc())},o.aW=s,o.W7t=r,o.vte=new i1(o.sse,o.ise,o),o.Rie=new t1(o.ese,o.tse,o.vte,e,o,n.Uu,r),o.Qie(o.vte.k7t),o.Qie(o.Rie.k7t);var c=new E2(e,s,D2,u);return o.Pie=new G0(o.ta,o,o.K1t,c),o.Rie.Jw(o.$ie),o.vte.Jw(o.Ds),o.K1t.iu(o.Rie.K1t),o.K1t.iu(o.vte.K1t),o.K1t.iu(o.Pie),o.Jie=new OQ(o,o.ta),o.Uu.yn(eI.pn,o.Ds),o.ta.yn(ua.so,o.Cie),o}It(n,t);var i=n.prototype;return i.a8t=function(t,n,i){n===AL.Gst&&this.M9?jo(this.X4t([t])):this.xie.push(t)},i.bR=function(){return this.Rie.F7t?this.Rie.yR:this.fst()},i.AR=function(t,n){},i._d=function(){return this.Rie.ct},i.ER=function(){return this.Rie.kR},i.xR=function(){},i.IR=function(){},i.WR=function(){return this.Rie.FR},i.UR=function(t){this.FR!==t&&(this.Rie.FR=t,this.yo(new lT(this.yR,this.dI)))},i.XR=function(){return this.Rie.ZR},i.eI=function(){return this.Rie.tI},i.sI=function(){return AA.fB().ks()},i.aI=function(){return this.Rie.hI},i.lI=function(){return this.Rie.cI},i.fI=function(){return this.Rie.dI},i._I=function(t){this.dI!==t&&(this.Rie.dI=t,this.yo(new lT(this.yR,this.dI)))},i.AI=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.Iie?[2]:(t.yo(new aT(t.yR)),t.Cie(),t.xie.length?(t.Iie=t.X4t(t.xie),[4,t.Iie]):[3,2]);case 1:i.sent(),t.Iie=void 0,i.label=2;case 2:return[4,t.Pie._7t(t.ta.bR())];case 3:return i.sent(),4!==(n=t.Die)&&1!==n&&5!==n||(!t.o$t&&t.Nie.length?t.Mie():t.o$t?(t.Lie=!0,t.Rie.AI()):(t.v1t(),t.ta.AI()),t.Die=3),[2]}}))}))()},i.bI=function(){3===this.Die&&(this.Rie.bI(),this.Die=4)},i.i7t=function(){this.Pie.i7t()},i.Cn=function(){this.Die=1,this.Pie.Cn()},i.SI=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.Pie&&(t.Pie.jn(),t.Bie(!1),t.vte.SI(),t.Die=5,t.o$t&&(t.Pie.S7t(t.o$t.kjt),t.o$t=void 0)),t.M9=!1,t.Lie=!1,po(t.Nie),t.r2t&&(t.v1t(),t.ta.ge()),po(t.xie),[4,t.Rie.SI()];case 1:return n.sent(),[4,t.W7t.tr()];case 2:return n.sent(),[2]}}))}))()},i.RD=function(){this.Rie.DQt(),this.vte.DQt()},i.yI=function(){this.W7t.yI(),this.Cie()},i.J1t=function(t){return!(t.type!==ua.xy||!this.Pie||!this.Pie.l7t(-1))&&(this.Pie.u7t().then(pi),!0)},i.ge=function(){void 0!==this.Rie.U7t&&(this.W7t.ge(),this.Rie.ge()),void 0!==this.vte.bte&&this.vte.ge()},i.be=function(){this.W7t.be(),this.Rie.be(),this.vte.be()},i.X4t=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,r1.Lte(t,n.aW,n.K1t)];case 1:return(i=r.sent()).length?(n.Pie.b7t(i),n.K1t.yo(new GL),n.r2t||n.ta.ZR||n.Pie._7t(n.ta.bR()),0!==n.Die&&5!==n.Die||n.Cn(),[2]):("Ads could not be loaded.",n.K1t.yo(I$.t2t(new NJ(DJ.ADBLOCK,PJ.FILE_NOT_FOUND),"Ads could not be loaded.")),n.M9&&!n.o$t&&0===n.Nie.length&&n.Oie(),[2])}}))}))()},i.p7t=function(t){var n;(n=this.Nie).push.apply(n,Ft(t));for(var i=0;i<t.length;i++){t[i];this.M9&&!this.r2t&&this.Mie()}},i.Mie=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return 2===t.Die?[2]:t.Fie?[3,4]:(t.Fie=!0,t.Die=2,n=t.o$t,t.Vie(),t.o$t?[4,t.o$t.kjt.J8t(t.K1t)]:[3,3]);case 1:return i.sent(),t.Wie()||(t.Fie=!1),t.K1t.yo(new G$(t.Uie(t.o$t))),[4,t.Gie()];case 2:return i.sent(),[3,4];case 3:(null==n?void 0:n.kjt.$8t())&&t.K1t.yo(new OL(t.Uie(n))),t.Fie=!1,t.Die=1,t.Oie(),i.label=4;case 4:return[2]}}))}))()},i.Oie=function(){this.v1t(),this.ta.ge(),this.ta.kR?this.ta.yo(new fT(this.ta.bR())):this.ta.AI()},i.Vie=function(){var t;if(this.o$t&&this.Wie())t=this.o$t.kjt;else{if(0===this.Nie.length)return;t=this.Nie.shift()}if(t){var n=t.Pc();n?this.o$t=n:(this.o$t&&(this.Pie.S7t(this.o$t.kjt),this.o$t=void 0),this.o$t=void 0)}},i.Gie=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:return n=t.o$t?function(t){var n,i,r=null==(i=t.Jjt)||null==(n=i.Rqt)?void 0:n.Iqt();return void 0===r?void 0:new PQ(r)}(t.o$t):void 0,n?t.o$t?(t.Hie=n,t.Zie(t.o$t.Qqt),t.Xie(lJ.zKt),i=t.Hie.Pc(),t.o$t.kjt.$8t()&&(t.vte.z7t(),1===t.o$t.kjt.Wut&&t.K1t.yo(new VL(t.Uie(t.o$t)))),[4,t.ete(i)]):[2]:[3,2];case 1:return r.sent(),[3,3];case 2:t.Die=1,t.Fie=!1,t.o$t=void 0,t.Mie(),r.label=3;case 3:return[2]}}))}))()},i.ete=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c,h,f,v,d,l,g,w;return Ht(this,(function(m){switch(m.label){case 0:return t?(r=Yn(t.Zqt),e=Yn(t.qqt),s=null!=(u=null==(i=t.zqt)?void 0:i.gYt)?u:[],o=s.length>0,a=n.o$t,c=n.Uie(a),t.Zqt?(t.Zqt.Yl=a,void 0!==a.ant.skipOffset&&void 0!==(h=WJ.Kjt(a.ant.skipOffset,t.Zqt.ct))&&h<t.Zqt.ct&&(t.Zqt._Kt=h),f=c.OJt(t.Zqt,s,t.Yqt,a.ant),n.vte.z7t(),n.p3t(),[4,n.Rie.ete(f,t.lt,{width:n.ta.we.offsetWidth,height:n.ta.we.offsetHeight})]):[3,2]):[3,7];case 1:m.sent(),r=!0,m.label=2;case 2:return t.qqt?((v=t.qqt.Kqt[0]).Yl=a,void 0!==a.ant.skipOffset&&(d=WJ.Kjt(a.ant.skipOffset,n.ta._d()))&&(v.Yl._Kt=d),l=r?[]:s,g=c.FJt(v,l,t.qqt,t.Yqt,a.ant),r&&n.Rie.pte(),[4,n.vte.ete(g,t.lt,{width:n.ta.we.offsetWidth,height:n.ta.we.offsetHeight})]):[3,4];case 3:m.sent(),e=!0,m.label=4;case 4:return r&&(n.Die=3,n.Rie.ge(),w=0===c.ZBt,n.Lie=w,n.W7t.bI(),n.Rie.AI(),n.ta.bI(),n.ta.be(),n.p3t(),n.Rie.cte()),e&&(n.Die=3,n.vte.ge(),n.vte.cte()),(r||e||o)&&n.zie(t.Uqt),r||e?[3,6]:[4,n.qie()];case 5:m.sent(),m.label=6;case 6:return!r&&e&&(n.Wie()||n.Nie.length>0?n.Mie():(n.Oie(),n.o$t=a)),[3,10];case 7:return null!==t?[3,9]:[4,n.qie()];case 8:return m.sent(),[3,10];case 9:n.Bie(!0),m.label=10;case 10:return[2]}}))}))()},i.qie=function(){var t=this.Hie;return this.ete(t&&t.Pc())},i.Bie=function(t){this.Xie(lJ.qKt),this.Yie(),this.Die=1;var n=void 0!==this.o$t&&this.o$t.kjt.j8t();if(this.Fie=!1,n)t&&(this.Die=1,this.Mie());else{if(!this.r2t)return;this.ta.ge(),!this.ta.kR&&t&&this.ta.AI(),this.v1t()}},i.v1t=function(){this.Kie(),t.prototype.v1t.call(this)},i.Kie=function(){if(this.ta.kR&&(this.Die=5),this.o$t){var t=this.o$t.kjt;t.$8t()&&this.K1t.yo(new OL(this.Uie(this.o$t))),this.Pie.S7t(t),this.o$t=void 0}},i.Zie=function(t){this.jie=this.jie.concat(t)},i.Yie=function(){this.jie=[]},i.Qie=function(t){this.ta.we.appendChild(t)},i.Xie=function(t){for(var n=0,i=this.jie;n<i.length;n++){var r=i[n];r.LX===t&&Fq(r.eventURL)}},i.zie=function(t){this.Rie.N7t(lJ.VKt);for(var n=0;n<t.length;n++){var i=t[n];Fq(i)}},i.jst=function(t){for(var n=this.c8t(),i=0;i<n.length;i++){var r=n[i];Xq(r.sources,r.timeOffset)||t.o6(r,AL.Gst,!1)}},i.c8t=function(){for(var t,n=[],i=0,r=this.Zst.concat(this.qst);i<r.length;i++){var e=r[i];n.push(e.ant)}for(var u=this.Nie.concat(this.Pie.qst.filter((function(t){return!t.GJt()}))),s=0;s<u.length;s++)for(var o=0,a=u[s].BJt;o<a.length;o++){var c=a[o];c.W||n.push(c.ant)}return(t=n).push.apply(t,Ft(this.xie)),Eo(n)},i.Wie=function(){return!!this.o$t&&xQ(this.o$t).some((function(t){return t.Zqt}))},i.Uie=function(t){return t.kjt.Z8t},i.Mte=function(){return this.Jie},i.wI=function(){return this.W7t.wI()},i.fR=function(){return this.W7t.fR()},i.u2t=function(t){this.Pie.u2t(t)},i.gn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return i.sent(),n.ta.fn(ua.so,n.Cie),n.K1t.mK(n.Rie.K1t),n.K1t.mK(n.vte.K1t),n.K1t.mK(n.Pie),n.Rie.gn(),n.vte.gn(),[4,n.W7t.gn()];case 2:return i.sent(),[2]}}))}))()},Nt(n,[{key:"q1t",get:function(){return this}},{key:"X1t",get:function(){return n.X1t}},{key:"zst",get:function(){return this.o$t?this.Uie(this.o$t):null}},{key:"Zst",get:function(){return this.o$t?[this.Rie.U7t,this.vte.bte].filter(Yn):[]}},{key:"qst",get:function(){var t=this.Nie.concat(this.Pie.qst.filter((function(t){return!t.GJt()})));return bo(t,(function(t){return t.Z8t.Vc.filter((function(t){return!t.GJt()}))}))}},{key:"Yst",get:function(){return this.Pie.qst.map((function(t){return t.Z8t}))}}],[{key:"X1t",get:function(){return XQ.t$t}}]),n}(r0),L2=function(){function t(){}var n=t.prototype;return n.kZ=function(t){return t&&("string"!=typeof t.integration||t.integration===gS.DEFAULT||t.integration===gS.CSAI||t.integration===gS.THEO)},n.G1t=function(t,n,i){var r=new tS(t.we,i,t.aR,t.nst,t.vI,t.ust,t.Ll);return new x2(t,n,r,i,t.nst,t.aR)},n.o6=function(t,n,i,r){i.a8t(t,n,r)},n.Uz=function(t){var n=$J(t.sources);if(n){var i={integration:gS.CSAI,sources:n};"vast"===i.sources.type&&void 0===t.timeOffset?t.timeOffset=0:"vmap"===i.sources.type&&void 0!==t.timeOffset&&Hr("Do not set timeOffset for VMAP ad sources. VMAP ads have their own offsets included.");var r=nQ(t.timeOffset);void 0!==r&&(i.timeOffset=r);var e=nQ(t.skipOffset);return void 0!==e&&(i.skipOffset=e),i}},Nt(t,[{key:"U1t",get:function(){return x2.X1t}}]),t}();wS.Lg.EZ(new L2),F(),Tt(),F(),Tt(),Dt();var M2=function(){function t(t,n){this.x8t=void 0,this.E6=!1,this.Det=t;var i=v.createElement("div");i.className="theoplayer-ima-wrapper",gi(i),i.style.zIndex="10",Gn.Qs&&function(t,n){t.addEventListener(n,vi)}(i,"mousedown"),n.appendChild(i);var r=v.createElement("div");r.className="theoplayer-ima",r.style.height="100%",this.rse=r,i.appendChild(r),this.u0t=i,this.x8t=new google.ima.AdDisplayContainer(this.rse,this.Det)}var n=t.prototype;return n.bj=function(){var t;this.E6||(null==(t=this.x8t)||t.initialize(),this.E6=!0)},n.ase=function(t){"linear"===t?this.u0t.style.marginTop="0px":"nonlinear"===t&&(this.u0t.style.marginTop="-45px")},n.ge=function(){this.u0t.style.opacity="1",this.u0t.style.pointerEvents=""},n.be=function(){this.u0t.style.opacity="0",this.u0t.style.pointerEvents="none"},n.Ww=function(){var t;null==(t=this.x8t)||t.destroy(),this.x8t=void 0},Nt(t,[{key:"k7t",get:function(){return this.u0t}},{key:"nse",get:function(){return this.rse.offsetHeight}},{key:"ose",get:function(){return this.rse.offsetWidth}},{key:"hse",get:function(){return this.x8t}}]),t}();F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Rt(),F(),Tt(),Dt();var O2=function(){function t(t){this.use=t;var n=new google.ima.CompanionAdSelectionSettings;n.resourceType=google.ima.CompanionAdSelectionSettings.ResourceType.ALL,n.creativeType=google.ima.CompanionAdSelectionSettings.CreativeType.ALL,n.sizeCriteria=google.ima.CompanionAdSelectionSettings.SizeCriteria.IGNORE,this.pYt=t.getCompanionAds(0,0,n)}return Nt(t,[{key:"iKt",get:function(){return this.use.getAdId()}},{key:"t9t",get:function(){var t=this.use.getAdPodInfo();if(void 0!==t)try{return{v6t:t.getAdPosition(),DJt:t.getMaxDuration(),cse:t.getPodIndex(),ZBt:t.getTimeOffset(),m6t:t.getTotalAds(),lse:t.getIsBumper()}}catch(t){return}}},{key:"Oqt",get:function(){return this.use.getAdSystem()}},{key:"dse",get:function(){return this.use.getAdvertiserName()}},{key:"xYt",get:function(){var t;return null!=(t=this.use.getApiFramework())?t:void 0}},{key:"zqt",get:function(){return this.pYt.map((function(t){return{IYt:t.getAdSlotId(),Ik:t.getContentType(),P2t:t.getContent(),Ti:t.getHeight(),ji:t.getWidth()}}))}},{key:"Ik",get:function(){var t;return null!=(t=this.use.getContentType())?t:void 0}},{key:"aYt",get:function(){return this.use.getCreativeId()}},{key:"G9t",get:function(){return this.use.getCreativeAdId()}},{key:"fse",get:function(){return this.use.getDealId()}},{key:"MN",get:function(){return this.use.getDescription()}},{key:"ct",get:function(){return this.use.getDuration()}},{key:"ji",get:function(){return this.use.getWidth()}},{key:"Ti",get:function(){return this.use.getHeight()}},{key:"gKt",get:function(){var t;return null!=(t=this.use.getMediaUrl())?t:void 0}},{key:"_se",get:function(){return this.use.getMinSuggestedDuration()}},{key:"W9t",get:function(){return this.use.getSkipTimeOffset()}},{key:"vse",get:function(){return this.use.getSurveyUrl()}},{key:"eH",get:function(){return this.use.getTitle()}},{key:"F9t",get:function(){return this.use.getTraffickingParameters()}},{key:"V9t",get:function(){return this.use.getTraffickingParametersString()}},{key:"Yqt",get:function(){return this.use.getUniversalAdIds().map((function(t){return{H9t:t.getAdIdRegistry(),Z9t:t.getAdIdValue()}}))}},{key:"M8t",get:function(){return this.use.getUiElements()}},{key:"U9t",get:function(){return this.use.getVastMediaBitrate()}},{key:"B9t",get:function(){return this.use.getVastMediaHeight()}},{key:"L9t",get:function(){return this.use.getVastMediaWidth()}},{key:"P9t",get:function(){return this.use.getWrapperAdIds()}},{key:"D9t",get:function(){return this.use.getWrapperAdSystems()}},{key:"N9t",get:function(){return this.use.getWrapperCreativeIds()}},{key:"z6t",get:function(){return this.use.isLinear()}}]),t}();function B2(){return[google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,google.ima.AdEvent.Type.CLICK,google.ima.AdEvent.Type.DURATION_CHANGE,google.ima.AdEvent.Type.EXPANDED_CHANGED,google.ima.AdEvent.Type.STARTED,google.ima.AdEvent.Type.IMPRESSION,google.ima.AdEvent.Type.PAUSED,google.ima.AdEvent.Type.RESUMED,google.ima.AdEvent.Type.AD_PROGRESS,google.ima.AdEvent.Type.AD_BUFFERING,google.ima.AdEvent.Type.FIRST_QUARTILE,google.ima.AdEvent.Type.MIDPOINT,google.ima.AdEvent.Type.THIRD_QUARTILE,google.ima.AdEvent.Type.COMPLETE,google.ima.AdEvent.Type.USER_CLOSE,google.ima.AdEvent.Type.LINEAR_CHANGED,google.ima.AdEvent.Type.LOADED,google.ima.AdEvent.Type.AD_CAN_PLAY,google.ima.AdEvent.Type.AD_METADATA,google.ima.AdEvent.Type.AD_BREAK_READY,google.ima.AdEvent.Type.INTERACTION,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,google.ima.AdEvent.Type.SKIPPED,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,google.ima.AdEvent.Type.LOG,google.ima.AdEvent.Type.VIEWABLE_IMPRESSION,google.ima.AdEvent.Type.VOLUME_CHANGED,google.ima.AdEvent.Type.VOLUME_MUTED]}var V2=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Dc=[],e.pse=function(t){t.getAd().isLinear()?e.x8t.ase("linear"):e.x8t.ase("nonlinear")},e.gse=function(){e.LJt.resize(e.x8t.ose,e.x8t.nse,google.ima.ViewMode.NORMAL)},e.forwardAdEventListener=function(t){var n=t.getAd(),i=function(t){var n;return(un(n={},google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,h0.t5t),un(n,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,h0.e5t),un(n,google.ima.AdEvent.Type.CLICK,h0.i5t),un(n,google.ima.AdEvent.Type.DURATION_CHANGE,h0.Sy),un(n,google.ima.AdEvent.Type.EXPANDED_CHANGED,h0.s5t),un(n,google.ima.AdEvent.Type.STARTED,h0.n5t),un(n,google.ima.AdEvent.Type.IMPRESSION,h0.r5t),un(n,google.ima.AdEvent.Type.PAUSED,h0.xZ),un(n,google.ima.AdEvent.Type.RESUMED,h0.o5t),un(n,google.ima.AdEvent.Type.AD_PROGRESS,h0.h5t),un(n,google.ima.AdEvent.Type.AD_BUFFERING,h0.a5t),un(n,google.ima.AdEvent.Type.FIRST_QUARTILE,h0.u5t),un(n,google.ima.AdEvent.Type.MIDPOINT,h0.NKt),un(n,google.ima.AdEvent.Type.THIRD_QUARTILE,h0.c5t),un(n,google.ima.AdEvent.Type.COMPLETE,h0.MKt),un(n,google.ima.AdEvent.Type.USER_CLOSE,h0.l5t),un(n,google.ima.AdEvent.Type.LINEAR_CHANGED,h0.d5t),un(n,google.ima.AdEvent.Type.LOADED,h0.f5t),un(n,google.ima.AdEvent.Type.AD_CAN_PLAY,h0._5t),un(n,google.ima.AdEvent.Type.AD_METADATA,h0.v5t),un(n,google.ima.AdEvent.Type.AD_BREAK_READY,h0.m5t),un(n,google.ima.AdEvent.Type.INTERACTION,h0.g5t),un(n,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,h0.p5t),un(n,google.ima.AdEvent.Type.SKIPPED,h0.w5t),un(n,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,h0.y5t),un(n,google.ima.AdEvent.Type.LOG,h0.b5t),un(n,google.ima.AdEvent.Type.VIEWABLE_IMPRESSION,h0.A5t),un(n,google.ima.AdEvent.Type.VOLUME_CHANGED,h0.S5t),un(n,google.ima.AdEvent.Type.VOLUME_MUTED,h0.T5t),n)[t]}(t.type),r={type:i,date:new Date,tnt:n?e.wse(n):void 0,O6t:l0(i,t.getAdData())};e.yo(r)},e.forwardAdErrorEventListener=function(t){e.yo({date:new Date,tnt:void 0,type:f0.k5t,O6t:{g9t:m0(t.getError())}})},e.LJt=n,e.x8t=i,e.Xu=r,e.Xu.yn(eI.pn,e.gse),e.LJt.init(e.x8t.ose,e.x8t.nse,google.ima.ViewMode.NORMAL),e.LJt.addEventListener(google.ima.AdEvent.Type.LOADED,e.pse),e.LJt.addEventListener(B2(),e.forwardAdEventListener),e.LJt.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,e.forwardAdErrorEventListener),e}It(n,t);var i=n.prototype;return i._I=function(t){var n;null==(n=this.LJt)||n.setVolume(t)},i.fI=function(){return this.LJt.getVolume()},i._9t=function(){return this.LJt.getRemainingTime()},i.Ww=function(){po(this.Dc),this.Xu.fn(eI.pn,this.gse),this.LJt.removeEventListener(google.ima.AdEvent.Type.LOADED,this.pse),this.LJt.removeEventListener(B2(),this.forwardAdEventListener),this.LJt.removeEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.forwardAdErrorEventListener),this.LJt.destroy()},i.Cn=function(){this.LJt.start()},i.S8t=function(){this.LJt.resume()},i.bI=function(){this.LJt.pause()},i.RD=function(){this.LJt.skip()},i.SI=function(){this.LJt.stop()},i.Q6t=function(){var t=this.LJt.getCurrentAd();if(t)return this.wse(t)},i.I8t=function(){return this.LJt.getCuePoints()},i.wse=function(t){var n=ao(this.Dc,(function(n){return n.use===t}));return n||(n=new O2(t),this.Dc.push(n)),n},i.F8t=function(t){this.LJt.updateAdsRenderingSettings(Z2(t))},n}(na);F(),Tt(),Dt(),Rt();var F2=function(t){function n(n,i){var r;return(r=t.call(this,"U8t")||this).bse=n,r.u0t=i,r}return It(n,t),n.prototype.ma=function(){return new U2(this.bse)},Nt(n,[{key:"yse",get:function(){return this.bse}},{key:"k7t",get:function(){return this.u0t}}]),n}(dg),U2=function(t){function n(n){var i;return(i=t.call(this,"adsmanagerloaded")||this).bse=n,i}return It(n,t),Nt(n,[{key:"adsManager",get:function(){return this.bse}}]),n}(ea),W2=function(t){function n(n,i){var r;return(r=t.call(this)||this).onAdsManagerLoadedListener=function(t){if(r.Tse&&r.kse&&r.Ase){var n,i=Z2(r.kse),e=r.Tse,u=t.getAdsManager({get currentTime(){return e.yR},get duration(){return e.ct}},i),s=new V2(u,r.Sse,r.Xu);r.yo(new F2(u,r.Sse.k7t)),null==(n=r.Ase)||n.Mb(s),r.Ase=void 0}},r.onAdsManagerErrorListener=function(t){var n,i={_b:t.getError().getMessage(),g6t:t.getError().getVastErrorCode(),ljt:t.getError().getErrorCode(),pw:g0(t.getError().getType()),p6t:void 0};null==(n=r.Ase)||n.Lb(i),r.Ase=void 0},r.Xu=i,r.Sse=n,r}It(n,t);var i=n.prototype;return i.T8t=function(){var t;null==(t=this.k8t)||t.contentComplete()},i.X4t=function(t,n,i){var r=this;return Zt((function(){var e;return Ht(this,(function(u){if(r.Ase)throw new p("Only one ImaAdsRequest can be made at a time.");if(!r.Sse.hse)throw new p("AdDisplayContainer is not initialized.");return r.k8t=new google.ima.AdsLoader(r.Sse.hse),r.k8t.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,r.onAdsManagerLoadedListener),r.k8t.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,r.onAdsManagerErrorListener),r.Ase=new Zc,r.Tse=n,r.kse=i,e=new google.ima.AdsRequest,t.r4t?e.adTagUrl=t.r4t:t.o4t&&(e.adsResponse=t.o4t),e.linearAdSlotWidth=t.$3t,e.linearAdSlotHeight=t.t4t,e.nonLinearAdSlotWidth=t.e4t,e.nonLinearAdSlotHeight=t.i4t,e.contentDuration=t.a4t,e.setAdWillAutoPlay(t.s4t),e.setAdWillPlayMuted(t.n4t),t.h4t&&(e.omidAccessModeRules=t.h4t),r.k8t.requestAds(e),[2,r.Ase.Bb]}))}))()},i.Ww=function(){var t;void 0!==this.k8t&&(this.k8t.removeEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoadedListener),this.k8t.removeEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdsManagerErrorListener),this.k8t.destroy(),this.k8t=void 0),null==(t=this.Ase)||t.Lb("AdsLoader destroyed"),this.Ase=void 0},n}(na);function Z2(t){var n=new google.ima.AdsRenderingSettings;return n.enablePreloading=t.L8t,t.M8t&&(n.uiElements=t.M8t),n.mimeTypes=t.N8t,void 0!==t.O8t&&(n.playAdsAfterTime=t.O8t),void 0!==t.B8t&&(n.loadVideoTimeout=t.B8t),void 0!==t.O9t&&(n.bitrate=t.O9t),void 0!==t.O8t&&(n.playAdsAfterTime=t.O8t),n.restoreCustomPlaybackStateOnAdBreakComplete=!0,n}F(),Tt(),Dt(),Rt();var X2=function(t){function n(n){var i;return(i=t.call(this)||this).ta=n,i.Ese=i.ta.bR(),i.ta.yn(ua.$y,(function(){i.ta.nI||(i.Ese=i.ta.bR()),i.yo(new vg(i.yR,void 0))})),i}return It(n,t),n.prototype.tr=function(){this.Ese=0},Nt(n,[{key:"yR",get:function(){return this.ta.nI?this.Ese:this.ta.bR()}},{key:"ct",get:function(){return this.ta._d()}},{key:"FR",get:function(){return this.ta.FR}},{key:"dI",get:function(){return this.ta.dI}}]),n}(na);B0.Lg.registerWebImaAdPlayerConstructor((function(t,n,i){L0(i);var r=M0(i)?t.wI():void 0,e=new M2(r,t.we),u=new W2(e,t.Uu),s=new X2(t);return new O0(t,n,i,t.ost,e,u,s)})),F(),Tt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Gt(),Dt(),Rt(),qt();var G2=function(t){function n(n,i,r){var e;return(e=t.call(this,r)||this).Ose=!0,e.bst=n,e.l3t=i,e.Bse=n.mR,e}It(n,t);var i=n.prototype;return i.ur=function(t,n,i,r,e){this.ta===this.l3t&&this.l3t.Rse(),(e||!r.ZR||r.kR)&&this.ta.AI()},i.AR=function(t,n){},i.pR=function(t){},i.Ise=function(n,i){var r=n-this.l3t.Cse;return t.prototype.AR.call(this,r,i)},i.Pse=function(n){return t.prototype.pR.call(this,n)},i.wR=function(){return this.bst.bt},i.Ya=function(){return this.bst.Ya()},i._d=function(){return this.bst._d()},i.sI=function(){var t=AA.xn(this.bst.sI()).Ab(this.l3t.Cse);if(this.Dse())return t.ks();var n=AA.xn(this.l3t.sI()),i=n;return Q3(this.bst)||(i=t.KL(n)),(i=i.Sn(AA.dB(0,this.bR()))).ks()},i.bR=function(){return this.Nse(t.prototype.bR.call(this))},i.Nse=function(t){return this.ta===this.l3t?this.l3t.Mse+t:this.l3t.Cse+t},i.gR=function(){return this.Lse(t.prototype.bR.call(this))},i.Lse=function(t){return this.ta===this.l3t&&this.Bse?new Date(this.Bse.getTime()+1e3*t):this.bst.mR},i.vR=function(){var t=AA.xn(this.bst.vR()).Ab(this.l3t.Cse);if(this.Dse())return t.ks();var n=AA.xn(this.l3t.vR());return t.jn(t.V-1)<n.Cn(0)?n.ks():t.KL(n).ks()},i.CI=function(n){switch(n.type){case ua.$y:return this.yo(new vg(this.Nse(n.currentTime),n.currentProgramDateTime)),!0;case ua.Gy:return this.yo(new BR(this.Nse(n.currentTime))),!0;case ua.so:return this.yo(new aT(this.Nse(n.currentTime))),!0;case ua.Uy:return this.yo(new oT(this.Nse(n.currentTime))),!0;case ua.xy:return this.yo(new fT(this.Nse(n.currentTime))),!0;case ua.qy:return this.yo(new vT(this.Nse(n.currentTime))),!0;case ua.zy:return this.yo(new dT(this.Nse(n.currentTime))),!0;case ua.Hy:return this.yo(new hT(this.Nse(n.currentTime),n.playbackRate)),!0;case ua.eb:return this.Ose?(this.yo(new lT(this.Nse(n.currentTime),n.volume)),!0):(this.Ose=!0,!0);case ua.Ty:return this.yo(new sT(this.Nse(n.currentTime),n.readyState)),!0;case wp.PL:return this.yo(new Ap(this.Nse(n.currentTime),n.readyState)),!0;case wp.DL:return this.yo(new Tp(this.Nse(n.currentTime),n.readyState)),!0;case wp.NL:return this.yo(new bp(this.Nse(n.currentTime),n.readyState)),!0;case wp.ML:return this.yo(new _p(this.Nse(n.currentTime),n.readyState)),!0;case wp.QI:return this.yo(new yp(this.Nse(n.currentTime),n.readyState)),!0;case wp.LL:return this.yo(new kp(this.Nse(n.currentTime))),!0;case wp.BL:return this.yo(new Sp(this.Nse(n.currentTime))),!0;case ua.Ey:return this.yo(new EW(this.Nse(n.currentTime),n.initDataType,n.initData)),!0}return t.prototype.CI.call(this,n)},i.gn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.gn.call(n,!0)];case 1:return i.sent(),[2]}}))}))()},Nt(n,[{key:"xse",get:function(){return this.ta===this.bst?this.l3t:this.bst}}]),n}(Ok);function H2(t,n){n.FR=t.FR,n.dI=t.dI,n.zR=t.zR}F(),Tt(),Rt();var z2=function(t){function n(n,i,r){return t.call(this,n,i,r)||this}It(n,t);var i=n.prototype;return i.ur=function(n,i,r,e,u){t.prototype.ur.call(this,n,i,r,e,u),this.xse.bI(),this.Fse(i,r).style.flex="1"},i.ar=function(t,n,i){this.Fse(n,i).style.flex="0"},n}(G2),Y2=function(t){function n(n,i){return t.call(this,n,i,n)||this}It(n,t);var i=n.prototype;return i.Dse=function(){return!0},i.Fse=function(t,n){return t},i.Vse=function(t,n){return n},i.AR=function(n,i){return t.prototype.Ise.call(this,n,i)},i.pR=function(n){return t.prototype.Pse.call(this,n)},n}(z2),j2=function(t){function n(n,i){return t.call(this,n,i,i)||this}It(n,t);var i=n.prototype;return i.Dse=function(){return!1},i.ur=function(n,i,r,e,u){t.prototype.ur.call(this,n,i,r,e,u),this.Ose=!1,this.ta.Wse(),i.style.flex="1"},i.ar=function(t,n,i){this.ta.Use(),n.style.flex="0"},i._d=function(){return this.ta._d()},n}(G2),K2=function(t){function n(n,i){return t.call(this,n,i,i)||this}It(n,t);var i=n.prototype;return i.Dse=function(){return!1},i.Fse=function(t,n){return n},i.Vse=function(t,n){return t},i.ur=function(n,i,r,e,u){t.prototype.ur.call(this,n,i,r,e,u);for(var s=0,o=[i,r];s<o.length;s++){o[s].style.transition=""}},i.ar=function(n,i,r){t.prototype.ar.call(this,n,i,r)},n}(z2);F(),Tt(),Dt(),Rt(),F(),Tt(),Rt();var q2=function(t){function n(n){var i;return(i=t.call(this,"Gse")||this).interstitial=n,i}return It(n,t),n.prototype.ma=function(){return new J2(this.interstitial.Xst())},n}(dg),J2=function(t){function n(n){var i;return(i=t.call(this,"interstitialupdate")||this).interstitial=n,i}return It(n,t),n}(ea),Q2=function(t){return t.SINGLE="SINGLE",t.DOUBLE="DOUBLE",t.LSHAPE_AD="LSHAPE_AD",t.LSHAPE_CONTENT="LSHAPE_CONTENT",t}({}),$2=function(t){function n(n){var i;return(i=t.call(this)||this).zse=0,i.KR=!1,i.o=n.o,i.LO=n.LO,i.YO=n.BO,i.qOt=n.hBt,i.IA=n.ct,i.Zse=n.qse,i.avt=n.avt,i.jse=n.jse,i.Kse(),i}It(n,t);var i=n.prototype;return i.Xse=function(t){if(this.ct){var n=(t-(this.LO+this.zse))/this.ct;n<this.M2t||(this.L2t=k.min(n,1),1===this.L2t&&(this.KR=!0))}},i.Yn=function(t){var n,i,r,e;this.IA=null!=(n=t.ct)?n:this.IA,this.YO=null!=(i=t.BO)?i:this.YO,this.Zse=null!=(r=t.qse)?r:this.Zse,this.zse=null!=(e=t.Yse)?e:this.zse,this.Kse(),this.yo(new q2(this))},i.Kse=function(){void 0===this.IA&&void 0!==this.YO?this.IA=this.YO-this.LO:void 0===this.YO&&void 0!==this.IA&&(this.YO=this.LO+this.IA)},Nt(n,[{key:"Hse",get:function(){var t,n,i=null!=(n=null!=(t=this.Zse)?t:this.IA)?n:this.qOt;return void 0!==i?this.LO+i:this.YO?this.YO:void 0}},{key:"ct",get:function(){var t=this.Hse;return void 0===t?void 0:t-this.LO}},{key:"M2t",get:function(){var t;return null!=(t=this.L2t)?t:0}}]),n}(na);F(),Tt(),Rt();var t3=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,i)||this).Jse=void 0,e.Qse=r,e}It(n,t);var i=n.prototype;return i.Dse=function(){return!0},i.ur=function(n,i,r,e,u){t.prototype.ur.call(this,n,i,r,e,u),H2(this.ta,this.xse),this.xse.FR=!0,n.style.backgroundImage="url('"+this.Qse+"')",n.style.backgroundSize="contain",n.style.backgroundPosition="center",this.Jse=this.bst.nt.oC.filter((function(t){return t.TE===Oy.Jn}));for(var s=0,o=this.Jse;s<o.length;s++){o[s].TE=Oy.Ch}for(var a=0,c=[i,r];a<c.length;a++){var h=c[a];h.style.flex="1",h.style.borderWidth="20px",h.style.transition=["flex","border-width","transform"].map((function(t){return t+" 1s ease-in-out"})).join(", ")}},i.ar=function(t,n,i){for(var r=0,e=[n,i];r<e.length;r++){var u=e[r];u.style.flex="0",u.style.borderWidth="0px"}for(var s,o=0,a=null!=(s=this.Jse)?s:[];o<a.length;o++){a[o].TE=Oy.Jn}this.Jse=void 0},i.xR=function(){return this.bst.xR()||this.l3t.xR()},i.IR=function(){return this.bst.IR()||this.l3t.IR()},i.eI=function(){return k.min(this.bst.tI,this.l3t.tI)},i.AI=function(){this.bst.AI(),this.l3t.AI()},i.bI=function(){this.bst.bI(),this.l3t.bI()},n}(G2);F(),Tt(),Rt();var n3=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r)||this).Qse=e,u}It(n,t);var i=n.prototype;return i.ur=function(n,i,r,e,u){t.prototype.ur.call(this,n,i,r,e,u),this.Vse(i,r).style.visibility="hidden",this.xse.bI(),n.style.backgroundImage="url('"+this.Qse+"')",n.style.backgroundSize="contain",n.style.backgroundPosition="center";var s=this.Fse(i,r);s.style.flex="1",s.style.transform="\n          translate(-50%, -50%)\n          scale(calc(43/60))\n          translate(calc(50% + 100%/30), calc(50% + 100%/30))\n        ";for(var o=0,a=[i,r];o<a.length;o++){a[o].style.transition=["flex","border-width","transform"].map((function(t){return t+" 1s ease-in-out"})).join(", ")}},i.ar=function(t,n,i){var r=this.Fse(n,i);r.style.flex="0",r.style.transform="",this.Vse(n,i).style.visibility=""},n}(G2),i3=function(t){function n(n,i,r){return t.call(this,n,i,n,r)||this}It(n,t);var i=n.prototype;return i.Dse=function(){return!0},i.Fse=function(t,n){return t},i.Vse=function(t,n){return n},n}(n3),r3=function(t){function n(n,i,r){return t.call(this,n,i,i,r)||this}It(n,t);var i=n.prototype;return i.Dse=function(){return!1},i.Fse=function(t,n){return n},i.Vse=function(t,n){return t},n}(n3);function e3(t){var n=v.createElement("div"),i=v.createElement("div");return function(t,n){for(var i;Yn(i=t.firstChild);)n.appendChild(i)}(t,n),fi(t,"theo-ads-sgai-container"),fi(n,"theo-ads-sgai-content-player"),fi(i,"theo-ads-sgai-ad-player"),t.appendChild(n),t.appendChild(i),{contentElement:n,adElement:i}}function u3(t){var n=t.style;n.position="relative",n.backgroundColor="transparent",n.backgroundRepeat="no-repeat",n.backgroundAttachment="scroll",n.border="0 solid transparent",n.borderWidth="0px",n.flex="0"}function s3(t){var n=t.style;n.display="",n.backgroundColor="",n.backgroundRepeat="",n.backgroundAttachment="",n.border="",n.borderWidth="",n.flex="",n.transform="",n.transition="",n.backgroundImage="",n.backgroundSize="",n.backgroundPosition="",n.alignItems="",n.position=""}function o3(t){return!Bs(t.Ryt,"theo-ads://dai.break")}F(),Tt(),F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Rt(),F(),Tt(),Rt();var a3=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n}(Ok),c3=function(t){function n(n){return t.call(this,n)||this}It(n,t);var i=n.prototype;return i.ur=function(t,n){t.style.flex="1"},i.ar=function(t){t.style.flex="0"},n}(a3);F(),Tt(),Rt();var h3=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).Qse=i,r}It(n,t);var i=n.prototype;return i.ur=function(t,n){n.style.backgroundImage="url('"+this.Qse+"')",n.style.backgroundSize="contain",n.style.backgroundPosition="center",t.style.flex="1",t.style.transition=["flex","border-width","transform"].map((function(t){return t+" 1s ease-in-out"})).join(", "),t.style.transform="\n          translate(-50%, -50%)\n          scale(calc(43/60))\n          translate(calc(50% + 100%/30), calc(50% + 100%/30))\n        "},i.ar=function(t){t.style.flex="0",t.style.transform=""},n}(a3);F(),Tt(),Rt();var f3=function(t){function n(n){var i;return(i=t.call(this,"$se")||this).interstitial=n,i}return It(n,t),n.prototype.ma=function(){return new v3(this.interstitial.Xst())},n}(dg),v3=function(t){function n(n){var i;return(i=t.call(this,"interstitialbegin")||this).interstitial=n,i}return It(n,t),n}(ea);function d3(t){return{get id(){return t.o},get duration(){return t.ct},get startTime(){return t.LO},get type(){return"adbreak"},get layout(){return function(t){switch(t){case Q2.SINGLE:return"single";case Q2.DOUBLE:return"double";case Q2.LSHAPE_CONTENT:case Q2.LSHAPE_AD:return"l-shape"}}(t.tne)},get ads(){return t.Vc.map((function(t){return t.Xst()}))},get backdropUri(){return t.ene}}}F(),Tt(),Gt(),Dt(),Rt(),Ut(),qt(),F(),Tt(),Dt(),F(),Tt(),Dt(),Rt(),F(),Tt();var l3=function(t){return t.image="image",t}({}),g3=function(t){return t.png="png",t.svg="svg",t}({}),w3=function(t){function n(n){var i;return(i=t.call(this,n)||this).rne=n.pw,i.uo=n.uo,i.Rb=n.Rb,i.hne=n.hne,i.ane=n.ane,i.QKt=n.QKt,i.ine=n.une,i}It(n,t);var i=n.prototype;return i.Yn=function(n){var i,r;this.nne=null!=(i=n.imageUrl)?i:this.nne,this.ine=null!=(r=n.clickThrough)?r:this.ine,t.prototype.Yn.call(this,n)},i.Xst=function(){var t;return null!=(t=this.Za)?t:this.Za=function(t){return{get type(){return"overlay"},get id(){return t.o},get duration(){return t.ct},get startTime(){return t.LO},get clickThrough(){return t.FYt},get imageUrl(){return t.sne},get position(){return function(t){return{get top(){return t.S7},get bottom(){return t.A7},get left(){return t.b7},get right(){return t.y7}}}(t.uo)},get size(){return function(t){return{get width(){return t.ji},get height(){return t.Ti}}}(t.Rb)}}}(this)},Nt(n,[{key:"pw",get:function(){return"overlay"}},{key:"FYt",get:function(){return this.ine}},{key:"sne",get:function(){return this.nne}}]),n}($2);F(),Tt(),Dt(),Rt();var m3=function(t){function n(n){var i;return(i=t.call(this,n)||this).Dc=[],i.Ryt=n.Ryt,i.tne=n.tne||Q2.SINGLE,i.cne=n.cne,i.lne=n.lne,i.ene=n.dne,i}It(n,t);var i=n.prototype;return i.Yn=function(n){var i;n.ad&&this.Dc.push(n.ad),this.ene=null!=(i=n.backdropUri)?i:this.ene,t.prototype.Yn.call(this,n)},i.Xst=function(){var t;return null!=(t=this.Za)?t:this.Za=d3(this)},Nt(n,[{key:"pw",get:function(){return"adbreak"}},{key:"Vc",get:function(){return this.Dc}}]),n}($2),y3="com.theoplayer.theoads.interstitial",p3="com.theoplayer.theoads.overlay",_3=function(){function t(t){var n=this;this.Tne=!1,this._ne=[],this.zne=is(),this.yne=[],this.qn=function(t){n.bne(t.Ht)},this.zn=function(t){n.Sne(t.Ht)},this.Cne=function(t){n.Mne(t.DO)},this.Lne=function(t){n.Bne(t.DO)},this.Dne=function(t){n.Xne(t.DO)},this.Nne=function(t){n.Ine(t.DO)},this.Pne=function(t){n.Kne(t.DO)},this.gne=function(t){n.Vne(t)},this.pne=function(t){n.One(t)},this.RMt=t}var n=t.prototype;return n.vne=function(t){this.mne=new EventSource(t),this.mne.addEventListener("adbreak",this.gne),this.mne.addEventListener("streaminfo",this.pne)},n.wne=function(t){if(!mo(this.yne,t)){this.yne.push(t);for(var n=0,i=t.oC;n<i.length;n++){var r=i[n];this.bne(r)}t.yn(mg.MI,this.qn),t.yn(mg.BI,this.zn)}},n.Ane=function(t){if(mo(this.yne,t)){lo(this.yne,t),t.fn(mg.MI,this.qn),t.fn(mg.BI,this.zn);for(var n=0,i=t.oC;n<i.length;n++){var r=i[n];this.Sne(r)}}},n.bne=function(t){!this.Tne&&function(t){return t.Lt===Gy.jV&&t.pw===kw.DATE_RANGE}(t)&&this.kne!==t?this.Ene(t):this.Tne&&function(t){return t.Lt===Gy.jV&&t.pw===kw.ID3}(t)&&this.xne!==t&&this.Rne(t)},n.Sne=function(t){this.kne===t?this.Ene(void 0):this.xne===t&&this.Rne(void 0)},n.Ene=function(t){var n=this.kne;if(void 0!==n){if(n.L)for(var i=0,r=n.L.oC;i<r.length;i++){var e=r[i];this.Ine(e)}n.fn(kg.FI,this.Cne),n.fn(kg.GI,this.Pne),n.fn(kg.ZI,this.Dne),n.fn(kg.WI,this.Nne),n.TE=Oy.RC}if(this.kne=t,void 0!==t){if(t.L)for(var u=0,s=t.L.oC;u<s.length;u++){var o=s[u];this.Mne(o)}t.yn(kg.FI,this.Cne),t.yn(kg.GI,this.Pne),t.yn(kg.ZI,this.Dne),t.yn(kg.WI,this.Nne),t.TE=Oy.RC}},n.Rne=function(t){var n=this.xne;if(void 0!==n){if(n.L)for(var i=0,r=n.L.oC;i<r.length;i++){var e=r[i];this.Ine(e)}n.fn(kg.FI,this.Lne),n.fn(kg.ZI,this.Dne),n.fn(kg.WI,this.Nne),n.TE=Oy.RC}if(this.xne=t,void 0!==t){if(t.L)for(var u=0,s=t.L.oC;u<s.length;u++){var o=s[u];this.Bne(o)}t.yn(kg.FI,this.Lne),t.yn(kg.ZI,this.Dne),t.yn(kg.WI,this.Nne),t.TE=Oy.RC}},n.One=function(t){try{var n,i,r=JSON.parse(t.data),e=r.networkCode,u=null==(n=r.assetKeys)?void 0:n[0];this.RMt.Fne(e,u),null==(i=this.mne)||i.removeEventListener("streaminfo",this.pne)}catch(t){Kn.Lp("Error parsing the Server sent stream info",t)}},n.Vne=function(t){var n=this.RMt.mR;if(void 0!==n)try{var i,r=JSON.parse(t.data),e=null!=(i=r.podDuration)?i:r.adBreakDuration;if(void 0===e)return void Kn.Lp("Tried to schedule an ad break without knowing the duration");var u=(Date.parse(r.startDate)-n.getTime())/1e3;if(u<=-e)return;var s,o="theo-ads://dai.break/?d="+e,a=this.RMt.bR()+u,c=r.networkCode,h=r.assetKey,f=r.podId?A(r.podId):void 0,v=new m3({o:t.id,LO:a,Ryt:null!=(s=r.assetURI)?s:o,tne:this.Wne||Q2[r.layout],cne:c,lne:h,hBt:e,jse:f,dne:r.backdropURI,avt:r.startPTS});this.Une(v,void 0)}catch(t){Kn.Lp("Error parsing the Server sent event",t)}else Kn.Lp("Tried to schedule an ad break without knowing the Program Date Time of the player")},n.Mne=function(t){if((t.rBt===y3||t.rBt===p3)&&t.aBt["X-ASSET-URI"])switch(t.rBt){case p3:try{var n,i=atob(t.aBt["X-COM-THEOPLAYER-THEOADS-OVERLAY-PROPERTIES"]),r=JSON.parse(i),e=l3[r.type],u=this.RMt.Gne(t.LO),s=new w3({o:t.o,pw:e||l3.image,LO:u,BO:isFinite(t.BO)?t.BO:void 0,ct:t.ct,hBt:t.hBt,uo:k3(r.position),Rb:A3(r.size),hne:r.opacity,ane:b3(r.gamProperties),QKt:null==(n=r.resourceURI)?void 0:n.map((function(t){return function(t){var n=g3[t.type],i=t.default;Gn.Qs&&t.phone?i=t.phone:Gn.dg&&t.tv&&(i=t.tv);return{pw:n,Ryt:i}}(t)})),une:r.clickThroughURI});this.Une(s,t)}catch(t){Kn.Lp(t)}break;case y3:var o,a,c,h=t.aBt["X-RESUME-OFFSET"],f=this.Hne||t.aBt["X-ASSET-URI"],v=Kn.Ah(f),d=null!=(o=v.searchParams.get("n"))?o:void 0,l=null!=(a=v.searchParams.get("k"))?a:void 0,g=this.RMt.Gne(t.LO);(function(t){return Bs(t,"theo-ads://dai.break")})(f)&&(c=function(t){var n=t.split("?")[1],i={},r=new URLSearchParams(n);return i.d=Number(r.get("d"))||void 0,i.k=r.get("k")||void 0,i.n=r.get("n")||void 0,i.p=Number(r.get("p"))||void 0,i}(f));var w=new m3({o:t.o,LO:g,Ryt:f,tne:this.Wne||Q2[t.aBt["X-COM-THEOPLAYER-THEOADS-LAYOUT"]]||Q2.SINGLE,cne:d,lne:l,dne:t.aBt["X-COM-THEOPLAYER-THEOADS-BACKDROP"],BO:isFinite(t.BO)?t.BO:void 0,ct:t.ct,hBt:t.hBt,jse:null==c?void 0:c.p,qse:void 0!==h?Number(h):void 0});this.Une(w,t),this.Zne=w}},n.Bne=function(t){var n=t.U;if(function(t){return"GEO"===t.id||"GEOB"===t.id}(n)&&function(t){return"Anvatos"===t.description&&"application/json"===t.mimeType}(n)){var i=dc(new DataView(n.data),new Ec),r=new _u(i),e=r.get("type");if("cue"===e){var u=Number(r.get("duration"))/1e3||void 0,s=new _u(r.get("payload")),o=Number(s.get("dur"))||void 0,a=Number(s.get("s_bd"))||void 0;if(void 0!==o?u=o:void 0!==a&&(u=a/10),!u)return void 0;var c="theo-ads://dai.break/?d="+u,h=Number(r.get("pts"))||void 0,f=this.RMt.Gne(t.LO),v=new m3({o:this.Hne||t.o,LO:f,Ryt:c,tne:this.Wne||Q2.SINGLE,hBt:u,avt:h});this.Une(v,t)}else if("cue_end"===e){var d=this.Zne;d&&d.Yn({ct:t.LO-d.LO})}}},n.Xne=function(t){this.zne.get(t.TC)&&this.RMt.qne(t.LO)},n.Yne=function(t){for(var n=0,i=this._ne;n<i.length;n++){var r=i[n];if(t.o===r.o&&t.pw===r.pw)return!0}return!1},n.Une=function(t,n){this.Yne(t)||(this._ne.push(t),n&&this.zne.set(n.TC,t),this.RMt.Une(t))},n.Kne=function(t){var n=this.zne.get(t.TC);if(void 0!==n){var i=t.aBt["X-RESUME-OFFSET"];n.Yn({ct:t.ct,BO:isFinite(t.BO)?t.BO:void 0,qse:void 0!==i?Number(i):void 0})}},n.Ine=function(t){this.jne(t)},n.jne=function(t){void 0!==this.zne.get(t.TC)&&this.zne.delete(t.TC)},n.Qne=function(t){lo(this._ne,t)},n.tr=function(){var t,n,i;this.Zne=void 0,this.Ene(void 0),this.Rne(void 0);for(var r=0,e=this.yne.slice();r<e.length;r++){var u=e[r];this.Ane(u)}po(this.yne),po(this._ne),this.zne.clear(),null==(t=this.mne)||t.removeEventListener("adbreak",this.gne),null==(n=this.mne)||n.removeEventListener("streaminfo",this.pne),null==(i=this.mne)||i.close(),this.mne=void 0},n.gn=function(){this.tr()},Nt(t,[{key:"fne",get:function(){return this._ne}}]),t}();function b3(t){if(t){var n=t.sz.default;return Gn.Qs&&t.sz.phone?n=t.sz.phone:Gn.dg&&t.sz.tv&&(n=t.sz.tv),{Jne:t.iu,$ne:n}}}function k3(t){var n,i,r,e;return t.top&&t.top>=0&&t.top<=100?n=t.top:t.bottom&&t.bottom>=0&&t.bottom<=100?i=t.bottom:n=10,t.left&&t.left>=0&&t.left<=100?r=t.left:t.right&&t.right>=0&&t.right<=100?e=t.right:r=10,{S7:n,A7:i,b7:r,y7:e}}function A3(t){return{ji:t.width&&t.width>=0&&t.width<=100?t.width:10,Ti:t.height&&t.height>=0&&t.height<=100?t.height:10}}F(),Tt(),Dt(),Rt();var T3=function(t){function n(n){var i;return(i=t.call(this)||this).ta=n,i}return It(n,t),n.prototype.ire=function(t){this.ta.sre(t)},Nt(n,[{key:"tre",get:function(){return this.ta.tre.map((function(t){return t.Xst()}))}},{key:"ere",get:function(){return this.ta.ere.map((function(t){return t.Xst()}))}},{key:"ga",get:function(){var t;return null!=(t=this.Za)?t:this.Za=function(t){return{get currentInterstitials(){return t.tre},get scheduledInterstitials(){return t.ere},replaceAdTagParameters:function(n){t.ire(n)},addEventListener:function(n,i){t.yn(n,i)},removeEventListener:function(n,i){t.fn(n,i)}}}(this)}}]),n}(na);F(),Tt(),Gt(),Dt(),Rt(),qt(),At(),F(),Tt(),Dt(),Rt();var S3=function(t){function n(n){var i,r;return(i=t.call(this,n.LO)||this).rre=n,i.NJt=null!=(r=i.rre.ct)?r:-1,i}return It(n,t),n.prototype.nre=function(t){this.Dc.push(t)},Nt(n,[{key:"KR",get:function(){return this.rre.KR}},{key:"jjt",get:function(){return XQ.Dst}},{key:"DJt",get:function(){var t;return null!=(t=this.rre.ct)?t:-1}},{key:"ZBt",get:function(){return this.rre.LO}},{key:"hJt",get:function(){}},{key:"ore",get:function(){return this.rre}}]),n}(N$),E3=function(t){return t[t.GOOGLE=0]="GOOGLE",t[t.DEFAULT=1]="DEFAULT",t}({}),I3=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).g3t=new EI,e.h$t=[],e.d6=function(t){e.ld(t)},e.mre=function(){e.lre()},e._re=function(){e.yo(new ea("adloading"))},e.vre=function(){e.yo(new ea("adloaded"))},e.l3t=n,e.yre=i,e.h$t=r,e.yre.Are(e),e.g3t=i.K1t,e}It(n,t);var i=n.prototype;return i.ure=function(){this.lre()},i.Une=function(t){var n=new S3(t);this.h$t.push(n)},i.Qne=function(t){var n=this.o3t(t);lo(this.h$t,n)},i.o3t=function(t){return ao(this.h$t,(function(n){return n.ore===t}))},i.dre=function(){this.l3t.yn(ua.By,this._re),this.l3t.yn(wp.DL,this.vre),this.l3t.yn(ua.xy,this.mre),this.l3t.yn(ua.$y,this.d6)},i.lre=function(){this.l3t.fn(ua.By,this._re),this.l3t.fn(wp.DL,this.vre),this.l3t.fn(ua.xy,this.mre),this.l3t.fn(ua.$y,this.d6)},i.ld=function(t){var n;null==(n=this.are)||n.Xse(this.Nse(t.currentTime))},i.wre=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:u={stack:[],error:void 0,hasError:!1},h.label=1;case 1:return h.trys.push([1,4,5,6]),e.dre(),null==(s=e.cW)||s.Xw(),o=Yt(u,Ho.Yw([n]),!1),e.cW=o,Oo(a=o.Bw),[4,e.l3t.ka(rE(t),a)];case 2:return h.sent(),Gn.Ka&&Gn.jm&&(e.l3t.AI(),e.l3t.bI()),i&&e.l3t.AR(i),r&&e.l3t.AI(),[4,et.race([e.uy("aderror",a).then(et.reject),e.uy("adloaded",a).then((function(){return et.resolve()}))])];case 3:return[2,h.sent()];case 4:return c=h.sent(),u.error=c,u.hasError=!0,[3,6];case 5:return jt(u),[7];case 6:return[2]}}))}))()},i.Cd=function(t){this.are&&(this.are.Xse(t),this.are.KR=!0,this.Qne(this.are),this.are=void 0),this.jJt&&(this.g3t.yo(new ZL(this.jJt,t)),this.jJt=void 0),this.o$t&&(this.g3t.yo(new OL(this.o$t)),this.o$t=void 0),this.lre()},i.Nse=function(t){var n,i;return(null!=(i=null==(n=this.are)?void 0:n.LO)?i:0)+t},i.tr=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){return null==(n=t.cW)||n.Xw(),t.cW=void 0,t.lre(),t.h$t=[],t.jJt=void 0,t.o$t=void 0,t.are=void 0,[2]}))}))()},i.gn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.tr()];case 1:return n.sent(),[4,t.yre.gn()];case 2:return n.sent(),[2]}}))}))()},Nt(n,[{key:"BJt",get:function(){return this.h$t}},{key:"hre",get:function(){return this.are}},{key:"zst",get:function(){return this.o$t}},{key:"z9t",get:function(){return this.jJt}}]),n}(na);F(),Tt(),Dt();var R3=function(){function t(){this.g3t=new EI}var n=t.prototype;return n.Are=function(t){this.Sre=t},n.RD=function(){},n.jst=function(t){},n.gn=function(){return this.Sre=void 0,et.resolve(void 0)},Nt(t,[{key:"K1t",get:function(){return this.g3t}},{key:"r2t",get:function(){var t;return void 0!==(null==(t=this.Sre)?void 0:t.zst)}},{key:"X1t",get:function(){return XQ.Dst}},{key:"Zst",get:function(){var t;return(null==(t=this.Sre)?void 0:t.z9t)?[this.Sre.z9t]:[]}},{key:"zst",get:function(){var t,n;return null!=(n=null==(t=this.Sre)?void 0:t.zst)?n:null}},{key:"qst",get:function(){var t=this;return this.Sre?bo(this.Sre.BJt,(function(n){var i,r=n.Vc;if(n===(null==(i=t.Sre)?void 0:i.zst)&&void 0!==t.Sre.z9t){var e=r.indexOf(t.Sre.z9t);if(e>=0)return r.slice(e+1)}return n.KR?[]:r})):[]}},{key:"Yst",get:function(){var t=this;return this.Sre?this.Sre.BJt.filter((function(n){var i;return n===(null==(i=t.Sre)?void 0:i.zst)||!n.KR})):[]}}]),t}();F(),Tt(),Gt(),Dt(),qt();var C3=function(){function t(t,n,i){var r=this;this.Tre=[],this.Cre=ns(),this.Fre=(new Date).getTime(),this.Vre=function(){r.Tre.forEach((function(t){r.Cre.get(t.o).style.cssText=r.Dre(t)}))},this.M7t=function(t){t.stopPropagation()},this.ta=t,this.ta.yn(eI.pn,this.Vre);var e=v.createElement("div");e.style.display="none",e.className="theoads-image-overlays-container",n.appendChild(e),gi(e),this.Ere=e,this.Wre=i,this.aW=Kn.aR}var n=t.prototype;return n.Ire=function(t){var n=this;return Zt((function(){var i,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return n.Tre.push(t),n.Ere.style.display="",(i=v.createElement("div")).className="theoplayer-theoads-overlay",i.style.display="",n.Cre.set(t.o,i),r=v.createElement("a"),[4,n.Pre(t)];case 1:return(e=s.sent()).clickThroughURI&&(n.Ere.style.zIndex="11",r.href=e.clickThroughURI,r.target="Vu",r.setAttribute("rel","noopener"),r.addEventListener("mousedown",n.M7t),r.addEventListener("touchend",n.M7t)),t.rne===l3.image&&(r.style.backgroundImage="url("+e.resourceURI+")",r.style.backgroundSize="contain",r.style.backgroundPosition="center",r.style.backgroundRepeat="no-repeat",e.impressionURI&&((u=v.createElement("img")).src=e.impressionURI,u.style.display="none",r.appendChild(u))),gi(r),i.appendChild(r),i.style.cssText=n.Dre(t),n.Ere.appendChild(i),[2]}}))}))()},n.Nre=function(t){var n=this.Cre.get(t.o);n&&(this.Ere.contains(n)&&this.Ere.removeChild(n),this.Cre.delete(t.o),0===this.Cre.size&&(this.Ere.style.display="none"),lo(this.Tre,t))},n.Mre=function(){var t=this;this.Cre.forEach((function(n,i){t.Ere.contains(n)&&t.Ere.removeChild(n)})),this.Cre.clear(),this.Tre=[]},n.Dre=function(t){var n=t.uo,i=0,r=1;if(this.Ere.clientWidth>0&&this.Ere.clientHeight>0){var e=this.ta.cI/this.ta.hI,u=this.kre.clientWidth,s=this.kre.clientHeight,o=u/e,a=(s-o)/2;i=0===s?0:k.floor(a/s*100),r=0===s?1:k.floor(100*(1-(s-o)/s))/100}var c="position:absolute;zIndex:10;";(n.b7&&(c+="left:"+n.b7+"%;"),n.y7&&(c+="right:"+n.y7+"%;"),n.S7)&&(c+="top:"+(n.S7*r+i)+"%;");n.A7&&(c+="bottom:"+(n.A7*r+i)+"%;");var h=t.Rb;return h.ji&&(c+="width:"+h.ji+"%;"),h.Ti&&(c+="height:"+h.Ti*r+"%;"),t.hne&&t.hne>0&&t.hne<=100&&(c+="opacity:"+t.hne/100+";"),c},n.Lre=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return t?(i=n.Bre(t))?[4,n.Ore(i,n.aW)]:[2,void 0]:[2];case 1:return[2,r.sent()]}}))}))()},n.Pre=function(t){var n=this;return Zt((function(){var i,r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return i={resourceURI:""},[4,n.Lre(t.ane)];case 1:return(r=o.sent())?(i.resourceURI=r.image,i.impressionURI=r.impression):t.QKt&&((e=ao(t.QKt,(function(t){return t.pw===g3.svg})))&&(i.resourceURI=e.Ryt),(u=ao(t.QKt,(function(t){return t.pw===g3.png})))&&(i.resourceURI=u.Ryt)),i.clickThroughURI=null!=(s=null==r?void 0:r.clickThrough)?s:t.FYt,t.Yn({imageUrl:i.resourceURI,clickThrough:i.clickThroughURI}),[2,i]}}))}))()},n.Bre=function(t){var n=new _u(this.Rre);return n.set("iu",t.Jne),n.set("sz",t.$ne),n.set("c",String(this.Fre)),"https://securepubads.g.doubleclick.net/gampad/adx?"+n.toString()},n.Ore=function(t,n){return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:i=new hl({qu:t,Xk:Sd.gk,gE:ul.GET}),e.label=1;case 1:return e.trys.push([1,4,,5]),[4,n.zk(i)];case 2:return[4,e.sent().Zk()];case 3:return[2,e.sent()];case 4:throw r=e.sent(),new NJ(DJ.NETWORK,PJ.UNKNOWN_AD_RESPONSE,"The ad source could not be loaded.",r);case 5:return[2]}}))}))()},n.tr=function(){this.Mre(),this.Ere.style.display="none"},Nt(t,[{key:"tre",get:function(){return this.Tre}},{key:"kre",get:function(){return this.Ere}},{key:"xre",get:function(){return this.Rre},set:function(t){this.Rre=t}}]),t}();F(),Tt(),Dt();var N3=function(){function t(){}var n=t.prototype;return n.kZ=function(t){return D3(t)},n.G1t=function(t,n,i){},n.o6=function(t,n,i,r){},n.Uz=function(t){var n={integration:gS.THEOADS,adTagParameters:Qn(t.adTagParameters)?t.adTagParameters:{},useId3:Boolean(t.useId3)};return ti(t.networkCode)&&(n.networkCode=Og(t.networkCode)),ti(t.customAssetKey)&&(n.customAssetKey=Og(t.customAssetKey)),ti(t.backdropDoubleBox)&&(n.backdropDoubleBox=Og(t.backdropDoubleBox)),ti(t.backdropLShape)&&(n.backdropLShape=Og(t.backdropLShape)),ti(t.overrideLayout)&&(n.overrideLayout=function(t){switch(t){case"single":case"l-shape":case"double":case"single-if-mobile":return t;default:return}}(t.overrideLayout)),ti(t.overrideAdSrc)&&(n.overrideAdSrc=Og(t.overrideAdSrc)),ti(t.retrievePodIdURI)&&(n.retrievePodIdURI=Og(t.retrievePodIdURI)),ti(t.sseEndpoint)&&(n.sseEndpoint=Og(t.sseEndpoint)),ti(t.streamActivityMonitorId)&&(n.streamActivityMonitorId=Og(t.streamActivityMonitorId)),n},Nt(t,[{key:"U1t",get:function(){return XQ.Dst}}]),t}();function D3(t){return t&&t.integration===gS.THEOADS}wS.Lg.EZ(new N3),F(),Tt(),Rt();var P3=function(t){function n(n){var i;return(i=t.call(this,"addinterstitial")||this).interstitial=n,i}return It(n,t),n}(ea);F(),Tt(),Rt();var x3=function(t){function n(n){var i;return(i=t.call(this,"Ure")||this).interstitial=n,i}return It(n,t),n.prototype.ma=function(){return new L3(this.interstitial.Xst())},n}(dg),L3=function(t){function n(n){var i;return(i=t.call(this,"interstitialend")||this).interstitial=n,i}return It(n,t),n}(ea);F(),Tt(),Rt();var M3=function(t){function n(n,i){var r;return(r=t.call(this,"Gre")||this).interstitial=n,r._b=i,r}return It(n,t),n.prototype.ma=function(){return new O3(this.interstitial.Xst(),this._b)},n}(dg),O3=function(t){function n(n,i){var r;return(r=t.call(this,"interstitialerror")||this).interstitial=n,r.message=i,r}return It(n,t),n}(ea);F(),Tt(),Gt(),Dt(),Rt(),qt(),At(),F(),Tt(),Rt(),F(),Tt(),Dt(),Rt();var B3=function(t){function n(n){var i;return i=t.call(this,n,function(t){return t===Q2.LSHAPE_CONTENT?P$.A2t:P$.Ajt}(n.ore.tne))||this,n.nre(i),i}return It(n,t),n.prototype.ma=function(){return M$(this)},Nt(n,[{key:"jjt",get:function(){return XQ.Dst}}]),n}(L$);var V3=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).IA=k.min(i,r.Yl.DJt),r}return It(n,t),n}(B3),F3=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).M9=!1,n.Czt=function(){n.yo(new I$(DJ.GENERAL))},n.qre=function(t){!n.M9&&n.are&&(n.M9=!0,n.o$t=n.o3t(n.are),n.jJt=new V3(n.o$t,n.l3t._d()),n.are.Yn({ad:n.z9t}),n.g3t.yo(new VL(n.o$t)),n.g3t.yo(new UL(n.jJt,n.Nse(t.currentTime))))},n.X8=function(t){n.Cd(n.Nse(t.currentTime))},n}It(n,t);var i=n.prototype;return i.Zre=function(t,n,i,r){return et.resolve()},i.uJ=function(t,n,i,r){return et.resolve()},i.sre=function(t){},i.Xre=function(t,n,i,r){var e;if(void 0===r&&(r=!1),this.are=t,t.LO<n){var u=k.min(t.ct,t.Hse-n);e=t.ct-u,t.Yn({ct:u,Yse:e})}return this.wre({sources:{src:t.Ryt}},i,e,r)},i.zre=function(t,n,i){var r=this;return Zt((function(){return Ht(this,(function(n){return r.are=t,[2,t.Ryt]}))}))()},i.dre=function(){t.prototype.dre.call(this),this.l3t.yn(wp.BL,this.qre),this.l3t.yn(ua.xy,this.X8),this.l3t.yn(Vy.ua,this.Czt)},i.lre=function(){this.l3t.fn(wp.BL,this.qre),this.l3t.fn(ua.xy,this.X8),this.l3t.fn(Vy.ua,this.Czt),t.prototype.lre.call(this)},i.ld=function(t){var n,i=this.Nse(t.currentTime),r=this.are.M2t;this.are.Xse(i);var e=this.are.M2t;r<.25&&e>=.25?this.g3t.yo(new z$(this.jJt,i)):r<.5&&e>.5?this.g3t.yo(new j$(this.jJt,i)):r<.75&&e>=.75?this.g3t.yo(new q$(this.jJt,i)):(null==(n=this.are)?void 0:n.KR)&&this.Cd(i)},i.Cd=function(n){t.prototype.Cd.call(this,n),this.M9=!1},i.tr=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.tr.call(n)];case 1:return i.sent(),n.M9=!1,[2]}}))}))()},Nt(n,[{key:"Hre",get:function(){return E3.DEFAULT}}]),n}(I3);F(),Tt(),Gt(),Dt(),Rt(),qt(),At(),F(),Tt(),Dt(),Rt();var U3=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).Yre=i,r}It(n,t);var i=n.prototype;return i.KJt=function(){return this.Yre.getAdSystem()},i.JJt=function(){return this.Yl.ore.Ryt},Nt(n,[{key:"o",get:function(){return this.Yre.getAdId()}},{key:"ct",get:function(){return this.Yre.getDuration()}},{key:"FYt",get:function(){var t,n;return null==(n=this.Yre)||null==(t=n.ad)?void 0:t.clickThroughUrl}},{key:"aYt",get:function(){return this.Yre.getCreativeId()}},{key:"_Kt",get:function(){return this.Yre.getSkipTimeOffset()}}]),n}(B3);F(),Tt(),Rt();var W3=function(t){function n(n){var i;return(i=t.call(this,n)||this).I2t=!0,i.IA=n.NJt,i}return It(n,t),n}(B3),Z3="theoads_slot",X3="urn:google:dai:2018",G3=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,n,i,e)||this).hoe=function(){a.Cd(a.Nse(a.l3t.bR()))},a.qn=function(t){var n=t.Ht;if(n.Lt===Gy.jV&&!(n.pw!==kw.ID3&&n.pw!==kw.EVENT_STREAM||n.pw===kw.EVENT_STREAM&&n.IC!==X3)){if(n.yn(kg.FI,a.loe),n.yn(kg.WI,a.Nne),n.L)for(var i=0,r=n.L.oC;i<r.length;i++){var e=r[i];a.loe(new DN(e))}n.TE=Oy.RC,a.coe=n}},a.loe=function(t){t.DO.yn(Cw.tO,a.doe)},a.Nne=function(t){t.DO.fn(Cw.tO,a.doe)},a.doe=function(t){var n,i;if(a.ioe)if((null==(n=a.coe)?void 0:n.pw)===kw.ID3){var r,e=t.DO.U;if(XD(e))if(a.uoe!==e.text)a.uoe=e.text,null==(r=a.Qre)||r.processMetadata("ID3",e.text,t.DO.LO)}else if((null==(i=a.coe)?void 0:i.pw)===kw.EVENT_STREAM){var u,s=t.DO.U;null==(u=a.Qre)||u.processMetadata(X3,s,t.DO.LO)}},a.aoe=function(t){switch(a.o$t&&(a.o$t.NJt=a.l3t._d()-a.l3t.bR()),t.type){case google.ima.dai.api.StreamEvent.Type.ERROR:a.g3t.yo(new I$(DJ.GENERAL));break;case google.ima.dai.api.StreamEvent.Type.AD_PERIOD_STARTED:a.o$t=a.o3t(a.are),a.g3t.yo(new VL(a.o$t)),a.foe=Kn.Fg(a._oe,250);break;case google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED:Kn.Og(a.foe);break;case google.ima.dai.api.StreamEvent.Type.STARTED:var n,i=t.getAd();a.jJt=new U3(a.o$t,i),null==(n=a.are)||n.Yn({ad:a.jJt}),a.g3t.yo(new UL(a.jJt,a.Nse(a.l3t.bR())));break;case google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE:a.g3t.yo(new z$(a.jJt,a.Nse(a.l3t.bR())));break;case google.ima.dai.api.StreamEvent.Type.MIDPOINT:a.g3t.yo(new j$(a.jJt,a.Nse(a.l3t.bR())));break;case google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE:a.g3t.yo(new q$(a.jJt,a.Nse(a.l3t.bR())));break;case google.ima.dai.api.StreamEvent.Type.COMPLETE:a.g3t.yo(new ZL(a.jJt,a.Nse(a.l3t.bR()))),a.jJt=void 0;break;case google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED:if(!a.o$t)break;a.o$t.NJt>1&&a._oe()}},a._oe=function(){var t;a.jJt=new W3(a.o$t),null==(t=a.are)||t.Yn({ad:a.jJt}),a.g3t.yo(new UL(a.jJt,a.Nse(a.l3t.bR())))},a.Jre=r,a.Rre=null!=u?u:{},a.toe=s,a.roe=o,a}It(n,t);var i=n.prototype;return i.Zre=function(t,n,i,r){var e=this;return Zt((function(){return Ht(this,(function(u){switch(u.label){case 0:return!t||!n||t===e.Kre&&n===e.jre?(i!==e.Rre&&e.sre(i),[2]):[4,e.uJ(t,n,i,r)];case 1:return u.sent(),[2]}}))}))()},i.uJ=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:if(void 0===e.Qre){if(void 0===(null==(s=f.google)||null==(u=s.ima)?void 0:u.dai))throw new p("IMA DAI SDK missing for THEOads");e.Qre=new google.ima.dai.api.StreamManager(e.l3t.we.querySelector("video"),e.Jre)}return e.Kre=t,e.jre=n,e.Rre=i,o=e.Qre,e.$re(),o.reset(),(a=new google.ima.dai.api.PodStreamRequest).networkCode=e.Kre,a.customAssetKey=e.jre,a.adTagParameters=e.Rre,e.toe&&(a.streamActivityMonitorId=e.toe),a.format="hls",c=e.eoe([google.ima.dai.api.StreamEvent.Type.STREAM_INITIALIZED,google.ima.dai.api.StreamEvent.Type.ERROR]).then((function(t){if(t.type===google.ima.dai.api.StreamEvent.Type.ERROR)throw new p("DAI stream request failed");e.ioe=t.getStreamData(),e.soe()})),e.Qre.requestStream(a),[4,Fo(c,r)];case 1:return h.sent(),[2]}}))}))()},i.eoe=function(t,n){var i=this;return new et((function(r,e){var u;if(n&&n.Nw)return e(new Lo);var s=function(t){a(),r(t)},o=function(){a(),e(new Lo)},a=function(){var r;null==(r=i.Qre)||r.removeEventListener(t,s),n&&n.Mw(o)};null==(u=i.Qre)||u.addEventListener(t,s),n&&n.Lw(o)}))},i.sre=function(t){var n;this.Rre=t,null==(n=this.Qre)||n.replaceAdTagParameters(t)},i.noe=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return(null==(i=n.are)?void 0:i.jse)&&!S(n.are.jse)?[2,n.are.jse]:n.roe&&(null==(r=n.are)?void 0:r.avt)?[4,gT((function(){return n.ooe()}),t,4,500,5e3)]:[2,void 0];case 1:return[2,e.sent()]}}))}))()},i.ooe=function(){var t=this;return Zt((function(){var n,i,r,e;return Ht(this,(function(u){switch(u.label){case 0:n=t.roe+"/"+t.Kre+"/"+t.jre+"/"+t.are.avt+".json",i=new hl({qu:n,Xk:Sd.gk,gE:ul.GET,pE:1e3}),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,t.l3t.aR.zk(i)];case 2:return r=u.sent(),[3,4];case 3:throw u.sent(),new NJ(DJ.NETWORK,PJ.UNKNOWN_AD_RESPONSE,"The ad's PodId could not be loaded.");case 4:if(!rl(r))throw new NJ(DJ.NETWORK,PJ.UNKNOWN_ERROR,"Something went wrong while requesting JSON from server.");return[4,r.Zk()];case 5:return(e=u.sent())?[2,e.podid]:[2,void 0]}}))}))()},i.Xre=function(t,n,i,r){void 0===r&&(r=!1);var e=this;return Zt((function(){var u;return Ht(this,(function(s){switch(s.label){case 0:return[4,e.zre(t,n,i)];case 1:return u=s.sent(),[2,e.wre({sources:{src:u}},i,void 0,r)]}}))}))()},i.zre=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:return r.are=t,e=t.cne,u=t.lne,(s=r.Rre).cust_params=function(t,n){var i=new _u(t);return i.set(Z3,function(t){switch(t){case Q2.DOUBLE:return"double";case Q2.SINGLE:return"single";case Q2.LSHAPE_AD:case Q2.LSHAPE_CONTENT:return"l-shape"}}(n)),i.toString()}(s.cust_params,t.tne),[4,r.Zre(e,u,s,i)];case 1:return f.sent(),o=Kn.Ah(t.Ryt),a=Number(o.searchParams.get("d")),c=k.floor(1e3*k.min(a,t.Hse-n)),[4,r.noe(i)];case 2:if(!(h=f.sent()))throw new p("Something went wrong with retrieving the PodID from the server.");return[2,r.ioe.getStandalonePodManifestUrl((function(){return h}),c)]}}))}))()},i.dre=function(){this.l3t.yn(ua.xy,this.hoe),this.l3t.nt.yn(mg.MI,this.qn),t.prototype.dre.call(this)},i.lre=function(){t.prototype.lre.call(this),this.l3t.fn(ua.xy,this.hoe),this.l3t.nt.fn(mg.MI,this.qn)},i.soe=function(){var t;null==(t=this.Qre)||t.addEventListener([google.ima.dai.api.StreamEvent.Type.ERROR,google.ima.dai.api.StreamEvent.Type.CLICK,google.ima.dai.api.StreamEvent.Type.STARTED,google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE,google.ima.dai.api.StreamEvent.Type.MIDPOINT,google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE,google.ima.dai.api.StreamEvent.Type.COMPLETE,google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,google.ima.dai.api.StreamEvent.Type.AD_PERIOD_STARTED,google.ima.dai.api.StreamEvent.Type.AD_PERIOD_ENDED,google.ima.dai.api.StreamEvent.Type.AD_PROGRESS,google.ima.dai.api.StreamEvent.Type.RESUMED],this.aoe)},i.$re=function(){var t;null==(t=this.Qre)||t.removeEventListener([google.ima.dai.api.StreamEvent.Type.ERROR,google.ima.dai.api.StreamEvent.Type.CLICK,google.ima.dai.api.StreamEvent.Type.STARTED,google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE,google.ima.dai.api.StreamEvent.Type.MIDPOINT,google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE,google.ima.dai.api.StreamEvent.Type.COMPLETE,google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,google.ima.dai.api.StreamEvent.Type.AD_PERIOD_STARTED,google.ima.dai.api.StreamEvent.Type.AD_PERIOD_ENDED,google.ima.dai.api.StreamEvent.Type.AD_PROGRESS,google.ima.dai.api.StreamEvent.Type.RESUMED],this.aoe)},i.Cd=function(n){t.prototype.Cd.call(this,n),this.uoe=void 0},i.tr=function(){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,t.prototype.tr.call(n)];case 1:return r.sent(),n.$re(),null==(i=n.Qre)||i.reset(),n.Qre=void 0,n.ioe=void 0,n.toe=void 0,n.jre=void 0,n.Kre=void 0,[2]}}))}))()},i.gn=function(){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return r.sent(),null==(i=n.coe)||i.gn(),[2]}}))}))()},Nt(n,[{key:"Hre",get:function(){return E3.GOOGLE}}]),n}(I3);var H3=function(t){function n(n){var i,r,e;i=t.call(this,n)||this,r=i,i.HG=void 0,i.wZ=void 0,i.Ooe=ns(),i.Yoe=!0,i.Koe=NaN,i.Loe=NaN,i.Moe=NaN,i.moe=!1,i.qoe=!1,i.yoe=Zt((function(){var t;return Ht(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,4]),[4,r._st.gq([fE.THEOADS])];case 1:return n.sent(),[3,4];case 2:return t=n.sent(),[4,r.SI().catch(pi)];case 3:return n.sent(),r.PH(nd(t,Qv.LICENSE_INVALID_FEATURE)),[3,4];case 4:return[2]}}))})),i.Aoe=function(){var t;i.bst.fn(wp.ML,i.Aoe),(null==(t=i.woe)?void 0:t.sseEndpoint)&&i.goe.vne(i.woe.sseEndpoint)},i.wd=function(){i.qne(i.bR()),i.moe=!0,i.bst.fn(wp.NL,i.wd),i.goe.fne.forEach((function(t){return i.Une(t)}))},i.xoe=function(){i.Foe(i.bR()),i.Voe()},i.kX=function(){i.Foe(i.bR()),i.Voe()},i.SE=function(){i.Uoe(i.bR())},i.Coe=function(){i.v1t()},i.Boe=function(t){i.poe.yo(t.ga)},i.bst=n,i.Vs=n.we;var u=e3(i.Vs),s=u.contentElement,o=u.adElement;return i.joe=s,i.Qoe=o,gi(i.joe),gi(i.Qoe),i.poe=new T3(i),i.Wre=new R3,null==(e=i.bst.Vc)||e.Qst(i.Wre),i.goe=new _3(i),i.voe=new C3(i,s,i.Wre),i}It(n,t);var i=n.prototype;return i.Tst=function(){return this.bst.Vc},i.Ist=function(){return this.poe.ga},i.SR=function(){return this.Vs},i.Sst=function(){return this.bst.nst},i.xR=function(){var n;return null!=(n=this.wZ)?n:t.prototype.xR.call(this)},i.IR=function(){var n;return null!=(n=this.HG)?n:t.prototype.IR.call(this)},i.yI=function(){this.bst.yI()},i.Gne=function(t){return t},i.ka=function(n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){switch(s.label){case 0:return[4,t.prototype.ka.call(r,n,i)];case 1:return s.sent(),void 0===n||void 0===n.ads?[2]:void 0===(e=ao(n.ads,D3))?[2]:(r.yoe(),r.woe=e,r.boe=e.backdropLShape,r.goe.Wne=function(t){switch(t){case"single":return Q2.SINGLE;case"l-shape":return Q2.LSHAPE_AD;case"double":return Q2.DOUBLE;case"single-if-mobile":return Gn.Qs?Q2.SINGLE:void 0;default:return}}(e.overrideLayout),r.goe.Hne=e.overrideAdSrc,r.goe.Tne=e.useId3,r.goe.wne(r.ta.nt),r.voe.xre=e.adTagParameters,r.bst.yn(wp.NL,r.wd),r.bst.yn(wp.ML,r.Aoe),r.Soe(),u=void 0===e.networkCode||void 0===e.customAssetKey,[4,r.Toe(u)]);case 2:return s.sent(),[2]}}))}))()},i.Toe=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c,h,f,v,d,l,g,w,m,y,p,_,b;return Ht(this,(function(k){switch(k.label){case 0:return u=n.W1t(),s=n.koe(),a=null!=(o=null==(i=n.Sre)?void 0:i.BJt)?o:[],t&&(null==(r=n.Sre)?void 0:r.Hre)!==E3.DEFAULT?[4,null==(c=n.Sre)?void 0:c.tr()]:[3,2];case 1:k.sent(),n.Sre=new F3(u,n.Wre,a),k.label=2;case 2:return t||(null==(e=n.Sre)?void 0:e.Hre)===E3.GOOGLE?[3,5]:[4,null==(h=n.Sre)?void 0:h.tr()];case 3:return k.sent(),n.Sre=new G3(u,n.Wre,s,a,n.xre,null==(f=n.woe)?void 0:f.streamActivityMonitorId,null==(v=n.woe)?void 0:v.retrievePodIdURI),p=null!=(y=null==(d=n.Eoe)?void 0:d.cne)?y:null==(l=n.woe)?void 0:l.networkCode,b=null!=(_=null==(g=n.Eoe)?void 0:g.lne)?_:null==(w=n.woe)?void 0:w.customAssetKey,[4,null==(m=n.Sre)?void 0:m.Zre(p,b,n.xre)];case 4:k.sent(),k.label=5;case 5:return[2]}}))}))()},i.Fne=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return i.Eoe||void 0===t||void 0===n?[2]:(null==(r=i.Sre)?void 0:r.Hre)===E3.GOOGLE?[3,2]:[4,i.Toe(!1)];case 1:u.sent(),u.label=2;case 2:return[4,null==(e=i.Sre)?void 0:e.Zre(t,n,i.xre)];case 3:return u.sent(),[2]}}))}))()},i.PH=function(t){void 0===this.IR()&&(this.HG=t,this.wZ=tw(t),this.yo(new wk(t)))},i.Soe=function(){this.bst.yn(ua.$y,this.xoe),this.bst.yn(ua.qy,this.kX),this.bst.yn(ua.Gy,this.SE)},i.Roe=function(){this.bst.fn(ua.$y,this.xoe),this.bst.fn(ua.qy,this.kX),this.bst.fn(ua.Gy,this.SE)},i.Ioe=function(){this.Wre.K1t.yn("int",this.Coe)},i.Poe=function(){this.Wre.K1t.fn("int",this.Coe)},i.v1t=function(){this.Doe()},i.Noe=function(){var t=this;return Zt((function(){return Ht(this,(function(n){return t.Doe(),[2]}))}))()},i.Doe=function(){var t=this.ta.hI,n=this.ta.cI;t===this.Moe&&n===this.Loe||(this.Moe=t,this.Loe=n,this.yo(new lp))},i.Une=function(t){if(this.moe){var n;if(z3(t))null==(n=this.Sre)||n.Une(t),this.qne(this.bst.bR());t.yn("Gse",this.Boe),this.poe.yo(new P3(t.Xst()))}},i.Qne=function(t){var n;(this.goe.Qne(t),z3(t))?null==(n=this.Sre)||n.Qne(t):Y3(t)&&(this.voe.Nre(t),this.Ooe.delete(t.o));this.moe&&(t.fn("Gse",this.Boe),this.poe.yo(new x3(t).ga))},i.qne=function(t){this.Foe(t),this.Voe()},i.Foe=function(t){this.Woe(t),this.Uoe(t),this.Goe(t)},i.Woe=function(t){for(var n,i=[],r=0,e=this.goe.fne.filter(z3);r<e.length;r++){var u=e[r];if(u.KR)i.push(u);else{var s=u.Hse;void 0!==s&&t>=s?(u.KR=!0,i.push(u)):void 0!==n&&n.LO<u.LO||(n=u)}}for(var o=0;o<i.length;o++){var a=i[o];this.Qne(a)}this.Eoe!==n&&(this.Eoe=n,this.Hoe())},i.Hoe=function(){var t,n;null==(t=this.Sre)||t.ure(),null==(n=this.Zoe)||n.Xw(),this.Xoe=void 0,this.zoe=void 0},i.Uoe=function(t){var n=this;if(void 0!==this.Eoe&&void 0===this.Xoe&&!this.qoe){var i=!1,r=AA.xn(this.bst.vR()).uB(t);if(void 0!==r&&(i=r.jn(0)>=this.Eoe.LO),z3(this.Eoe)){var e=this.Eoe,u=e.Hse,s=t>=e.LO&&(void 0===u||t<u);(i||s)&&(this.Zoe=new Ho,this.Xoe=Uo(this.Xre(e,t,this.Zoe.Bw),this.Zoe).catch((function(t){Mo(t)||(n.poe.yo(new M3(e,"Could not load the ad break.").ga),e.KR=!0,n.Eoe=void 0)})))}}},i.Goe=function(t){var n=this;if(void 0!==this.Eoe&&void 0===this.zoe&&!this.qoe){var i,r=this.Eoe.Hse;if(t>=this.Eoe.LO&&(void 0===r||t<r))this.zoe=null==(i=this.Xoe)?void 0:i.then((function(){return n.Noe()}))}},i.sre=function(t){var n,i,r;this.Rre=t,null==(i=this.Sre)||i.sre(null!=(r=null!=t?t:null==(n=this.woe)?void 0:n.adTagParameters)?r:{}),this.voe.xre=t},i.Voe=function(){var t,n=function(n,e){var u=e[n],s=u.Hse;if(void 0!==s&&r>=s)return"continue";var o=u.LO,a=u.LO+u.ct;r>=o&&r<=a&&!t.Ooe.has(u.o)&&(t.voe.Ire(u).catch((function(t){i.poe.yo(new M3(u,"Could not load the overlay.").ga)})),t.poe.yo(new f3(u).ga),t.Ooe.set(u.o,u))},i=this,r=this.bR(),e=[];this.Ooe.forEach((function(t){r>=t.LO&&(void 0===t.Hse||r<t.Hse)||e.push(t)})),e.forEach((function(t){return i.Qne(t)}));for(var u=0,s=this.goe.fne.filter(Y3);u<s.length;u++)t=this,n(u,s)},i.SI=function(){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return n.HG=void 0,n.wZ=void 0,n.moe=!1,n.woe=void 0,n.Yoe=!0,n.Koe=NaN,n.Loe=NaN,n.Moe=NaN,n.Eoe=void 0,null==(i=n.Zoe)||i.Xw(),n.Xoe=void 0,n.zoe=void 0,[4,null==(r=n.Sre)?void 0:r.tr()];case 1:return e.sent(),n.Sre=void 0,n.goe.tr(),n.voe.tr(),n.Ooe.clear(),n.bst.fn(wp.NL,n.wd),n.bst.fn(wp.ML,n.Aoe),n.Roe(),n.Poe(),n.Hoe(),[4,t.prototype.SI.call(n)];case 2:return e.sent(),[2]}}))}))()},i.gn=function(){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,n.SI().catch(pi)];case 1:return r.sent(),n.goe.gn(),[4,null==(i=n.Sre)?void 0:i.gn()];case 2:return r.sent(),[4,t.prototype.gn.call(n)];case 3:return r.sent(),[2]}}))}))()},i.CI=function(n){switch(n.type){case ua.By:case ua.yy:case wp.ML:return!this.Yoe;case wp.NL:return!this.Yoe||(this.Yoe=!1,!1);case ua.Sy:var i=this._d();return i!==this.Koe&&(this.Koe=i,this.yo(new cT(i))),!0;case ua.Xy:return this.Doe(),!0}return t.prototype.CI.call(this,n)},Nt(n,[{key:"tre",get:function(){var t;return[null==(t=this.Sre)?void 0:t.hre].concat(Ft(this.voe.tre)).filter(Yn)}},{key:"ere",get:function(){return this.moe?this.goe.fne:[]}},{key:"xre",get:function(){var t,n,i;return null!=(i=null!=(n=this.Rre)?n:null==(t=this.woe)?void 0:t.adTagParameters)?i:{}}}]),n}(p$);function z3(t){return"adbreak"===t.pw}function Y3(t){return"overlay"===t.pw}var j3=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).she=!0,n.$oe=!1,n.the=!0,n.ehe=!0,n.rhe=!0,n.jXt=function(t){n.IA=t.duration},n.IW=function(){n.bst.fn(wp.BL,n.IW),n.she=!1},n}It(n,t);var i=n.prototype;return i._d=function(){var n;return null!=(n=this.IA)?n:t.prototype._d.call(this)},i.Ya=function(){var n;return null!=(n=this.wc)?n:t.prototype.Ya.call(this)},i.ka=function(n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return[4,t.prototype.ka.call(r,n,i)];case 1:return e.sent(),r.woe?(r.wc=n,r.Joe=new c3(r.bst),r.Joe.ur(r.bst.we,r.bst.we.parentElement),r.aO(r.Joe),[2]):[2]}}))}))()},i.Soe=function(){t.prototype.Soe.call(this),this.bst.yn(ua.Sy,this.jXt),this.bst.yn(wp.BL,this.IW)},i.Roe=function(){t.prototype.Roe.call(this),this.bst.fn(ua.Sy,this.jXt),this.bst.fn(wp.BL,this.IW)},i.W1t=function(){return this.bst},i.koe=function(){return this.joe},i.AR=function(n,i){this.$oe=!0,t.prototype.AR.call(this,n,i)},i.Ioe=function(){t.prototype.Ioe.call(this),this.bst.yn(ua.xy,this.Coe)},i.Poe=function(){t.prototype.Poe.call(this),this.bst.fn(ua.xy,this.Coe)},i.AI=function(){t.prototype.AI.call(this),this.yo(new aT(this.bR())),this.the=!0,this.ehe=!1},i.bI=function(){this.ehe=!0,t.prototype.bI.call(this)},i.Xre=function(t,n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){switch(s.label){case 0:return u=o3(t),[4,r.Toe(u)];case 1:return s.sent(),[4,null==(e=r.Sre)?void 0:e.zre(t,n,i)];case 2:return r.ihe=s.sent(),[2]}}))}))()},i.Noe=function(){var n=this;return Zt((function(){var i,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return void 0===n.Eoe||void 0===n.ihe?[2]:(n.Roe(),null==(i=n.Zoe)||i.Xw(),n.Zoe=new Ho,u=o3(n.Eoe),[4,n.Toe(u)]);case 1:return s.sent(),n.XOt=n.bst.mR,null==(r=n.Joe)||r.ar(n.bst.we),n.she=!0,n.bst.yn(wp.BL,n.IW),n.poe.yo(new f3(n.Eoe).ga),[4,null==(e=n.Sre)?void 0:e.wre({sources:{src:n.ihe}},n.Zoe.Bw,void 0,!0)];case 2:return s.sent(),n.Joe=n.nhe(n.Eoe.tne,n.boe),n.y1t(n.Joe),n.Joe.ur(n.we,n.bst.we.parentElement),n.Ioe(),n.qoe=!0,n.rhe=!1,[2,t.prototype.Noe.call(n)]}}))}))()},i.nhe=function(t,n){switch(t){case Q2.LSHAPE_AD:return new h3(this.bst,n);case Q2.SINGLE:default:return new c3(this.bst)}},i.v1t=function(){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return n.Eoe?(n.Poe(),n.she=!0,n.bst.yn(wp.BL,n.IW),[4,n.bst.ka(n.wc,(new Ho).Bw)]):[2];case 1:return r.sent(),null==(i=n.Joe)||i.ar(n.bst.we),n.Joe=new c3(n.bst),n.Joe.ur(n.bst.we,n.bst.we.parentElement),n.y1t(n.Joe),n.bst.AI(),n.rhe=!0,n.bst.mR=new Date(Number(n.XOt)+1e3*n.Eoe.ct),n.Eoe=void 0,n.XOt=void 0,n.qoe=!1,n.Soe(),t.prototype.v1t.call(n),[2]}}))}))()},i.SI=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.Joe=void 0,n.IA=void 0,n.rhe=!0,n.she=!1,n.the=!0,n.ehe=!0,[4,t.prototype.SI.call(n)];case 1:return i.sent(),[2]}}))}))()},i.CI=function(n){if(void 0!==this.Joe)switch(n.type){case ua.so:return!0;case ua.Uy:if(!this.ehe)return!0;this.ehe=!1;break;case wp.BL:if(!this.the)return!0;this.the=!1;break;case wp.LL:if(this.she)return!0;this.the=!0;break;case ua.zy:if(this.she&&!this.$oe)return!0;this.$oe=!1;break;case ua.qy:if(this.she&&!this.$oe)return!0;break;case ua.xy:if(!this.rhe)return!0}return t.prototype.CI.call(this,n)},n}(H3);F(),Tt(),Gt(),Dt(),Rt(),qt();var K3=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).ohe=0,r.hhe=0,r.bhe=0,r.Ahe=function(){if(r.bst.fn(wp.ML,r.Ahe),r.yhe){var t=r.yhe;t.setSeconds(r.yhe.getSeconds()+r.bhe),r.bst.mR=t,r.yhe=void 0}r.hhe-=r.bst.bR()},r.bst=n,r.l3t=i,r}It(n,t);var i=n.prototype;return i.Rse=function(){this.ohe=this.bst.bR()+this.hhe},i.Wse=function(){var t;if(void 0===this.ahe){var n=this.uhe;this.uhe=void 0,null==(t=this.dhe)||t.Xw(),Q3(this.bst)&&(this.fhe=new Ho,this.ahe=Uo(this._he(n,this.fhe.Bw),this.fhe).catch(Vo))}},i.Use=function(){var t,n=this.ahe;this.ahe=void 0,null==(t=this.fhe)||t.Xw(),this.dhe=new Ho,this.uhe=Uo(this.vhe(n,this.dhe.Bw),this.dhe).catch(Vo)},i._a=function(){return this.bst.aH},i.mhe=function(){this.ghe={source:this.bst.Ya(),duration:this.bst._d(),currentTime:this.bst.bR(),preload:this.bst.QR,autoplay:this.bst.pO}},i.phe=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return n.bst.QR=GT.qB,n.bst.pO=!1,n.l3t.FR=!0,i=n.l3t.Ya(),[4,n.bst.ka(i,t)];case 1:return r.sent(),n.bst.AR(n.l3t.bR()),[2]}}))}))()},i.whe=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.ghe?(n.bst.QR=n.ghe.preload,n.bst.pO=n.ghe.autoplay,[4,n.bst.ka(n.ghe.source,t)]):[2];case 1:return i.sent(),n.ghe=void 0,[2]}}))}))()},i._he=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return[4,null==t?void 0:t.catch(pi)];case 1:return r.sent(),i.mhe(),i.yhe=i.bst.mR,[4,i.bst.SI()];case 2:return r.sent(),[4,i.phe(n)];case 3:return r.sent(),i.y1t(i.bst),i.bst.AI(),[2]}}))}))()},i.vhe=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return[4,null==t?void 0:t.catch(pi)];case 1:return r.sent(),i.bhe=i.l3t.bR(),i.hhe=i.bhe+i.Mse,[4,i.bst.SI()];case 2:return r.sent(),[4,i.whe(n)];case 3:return r.sent(),i.y1t(i.l3t),i.bst.yn(wp.ML,i.Ahe),i.bst.AI(),[2]}}))}))()},i.Ya=function(){return this.ghe?this.ghe.source:t.prototype.Ya.call(this)},i._d=function(){return this.ghe?this.ghe.duration:t.prototype._d.call(this)},i.sI=function(){var n=t.prototype.sI.call(this);return AA.xn(n).Ab(this.Mse).ks()},i.vR=function(){var n=t.prototype.vR.call(this);return AA.xn(n).Ab(this.Mse).ks()},i.tr=function(){this.hhe=0,this.ohe=0,this.bhe=0,this.yhe=void 0},i.gn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return i.sent(),n.tr(),n.bst.fn(wp.ML,n.Ahe),[2]}}))}))()},Nt(n,[{key:"Mse",get:function(){return this.ohe}},{key:"Cse",get:function(){return this.hhe}}]),n}(p$);F(),Tt(),Rt();var q3=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n.prototype.ka=function(n,i){var r;return void 0!==ao(null!=(r=null==n?void 0:n.ads)?r:[],D3)?et.reject(new td(Qv.CONFIGURATION_ERROR,"THEOads must be enabled in the player configuration.")):t.prototype.ka.call(this,n,i)},n}(Ok),J3=function(t){function n(n){var i;(i=t.call(this,n)||this).Ohe=!0,i.the=!0,i.Nhe=!0,i.Phe=!1,i.khe=function(t){if(i.Che&&!function(t){return t instanceof j2}(i.Che)&&i.qoe)switch(t.presentationMode){case"native-picture-in-picture":i.Ihe(new j2(i.bst,i.l3t),!1,!1);break;case"fullscreen":M0(i.md)&&i.Ihe(new j2(i.bst,i.l3t),!1,!1)}},i.Mhe=function(t){Q3(i.bst)||i.Bhe()},i.Lhe=function(t){Q3(i.bst)||i.Bhe()};var r=new t0(new fL(i.Qoe,n.md,new SE),wS.Lg);return r.QR=GT.qB,r.pO=!1,i.l3t=new K3(i.bst,r),i.Jre=function(t){var n=v.createElement("div");return fi(n,"theo-ads-sgai-ima-container"),function(t){t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100%"}(n),t.appendChild(n),n}(i.Qoe),i.She(),i}It(n,t);var i=n.prototype;return i.She=function(){this.bst.mst.yn("presentationmodechange",this.khe)},i.Ehe=function(){this.bst.mst.fn("presentationmodechange",this.khe)},i.ka=function(n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return[4,t.prototype.ka.call(r,n,i)];case 1:return e.sent(),r.woe?(r.xhe=r.woe.backdropDoubleBox,r.Rhe(),r.Ihe(new Y2(r.bst,r.l3t),!1,!0),[2]):[2]}}))}))()},i.Ihe=function(t,n,i){var r;void 0!==this.Che&&(this.Che.ar(this.we,this.joe,this.Qoe),this.Che.gn());var e=null!=(r=this.Che)?r:this,u=null!=t?t:this.bst;H2(e,u),null==t||t.ur(this.we,this.joe,this.Qoe,e,n),this.Che=t,i?this.aO(u):this.y1t(u)},i.Rhe=function(){this.Phe||(this.Phe=!0,wi(this.joe),wi(this.Qoe),u3(this.Vs),u3(this.joe),u3(this.Qoe),function(t){var n=t.style;n.display="flex",n.alignItems="center"}(this.Vs))},i.Dhe=function(){this.Phe&&(this.Phe=!1,s3(this.Vs),s3(this.joe),s3(this.Qoe),gi(this.joe),gi(this.Qoe))},i.W1t=function(){return this.l3t},i.koe=function(){return this.Jre},i.yI=function(){t.prototype.yI.call(this),this.l3t.yI()},i.AR=function(n,i){this.Nhe=!0,t.prototype.AR.call(this,n,i)},i.Gne=function(t){return t+this.l3t.Cse},i.Ioe=function(){t.prototype.Ioe.call(this),this.l3t.yn(ua.Gy,this.Mhe),this.l3t.yn(ua.xy,this.Coe),this.bst.yn(ua.Oy,this.Lhe)},i.Poe=function(){t.prototype.Poe.call(this),this.l3t.fn(ua.Gy,this.Mhe),this.l3t.fn(ua.xy,this.Coe),this.bst.fn(ua.Oy,this.Lhe)},i.Bhe=function(){var t,n,i=null==(t=this.Eoe)?void 0:t.Hse;if(void 0!==i&&!(null==(n=this.Che)?void 0:n.Dse())&&!ur(this.bst.bR(),i,.001)){var r=AA.xn(this.l3t.vR()),e=this.l3t.sI(),u=k.min(e.end(e.length-1),this.Eoe.ct);r.HL().gr(u)&&this.bst.AR(i,{XBt:!0})}},i.Xre=function(t,n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){switch(s.label){case 0:return u=o3(t),[4,r.Toe(u)];case 1:return s.sent(),[4,null==(e=r.Sre)?void 0:e.Xre(t,n,i)];case 2:return s.sent(),[2]}}))}))()},i.Noe=function(){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){return void 0===(i=n.Eoe)?[2]:(r=i.tne,e=n.nhe(r,i),n.Roe(),Gn.jm&&Gn.Jm>=16&&Gn.Jm<18&&n.l3t.AR(n.l3t.bR()),Gn.Uv&&!e.Dse()&&(s3(n.joe),gi(n.joe)),n.Ihe(e,n.the,!1),n.poe.yo(new f3(i).ga),n.Ioe(),n.qoe=!0,n.Ohe=!1,n.zoe=void 0,[2,t.prototype.Noe.call(n)])}))}))()},i.nhe=function(t,n){if(Q3(this.bst))return new j2(this.bst,this.l3t);switch(t){case Q2.DOUBLE:return n.ene||n.Yn({backdropUri:this.xhe}),new t3(this.bst,this.l3t,n.ene);case Q2.LSHAPE_AD:return n.ene||n.Yn({backdropUri:this.boe}),new r3(this.bst,this.l3t,n.ene);case Q2.LSHAPE_CONTENT:return n.ene||n.Yn({backdropUri:this.boe}),new i3(this.bst,this.l3t,n.ene);case Q2.SINGLE:default:return new K2(this.bst,this.l3t)}},i.v1t=function(){var n;if(void 0!==this.Eoe){this.Poe();var i=null==(n=this.Che)?void 0:n.Dse();Gn.Uv&&(wi(this.joe),u3(this.joe)),this.Ihe(new Y2(this.bst,this.l3t),!0,!1),i||(this.Nhe=!1,this.bst.AR(this.Eoe.Hse,{XBt:!0})),this.l3t.SI(),this.Soe(),this.qoe=!1,this.Ohe=!1,this.Eoe=void 0,t.prototype.v1t.call(this)}},i.SI=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.the=!0,n.Nhe=!0,n.Ohe=!0,n.qoe=!1,n.Ihe(void 0,!1,!0),[4,n.l3t.SI()];case 1:return i.sent(),n.Dhe(),[4,t.prototype.SI.call(n)];case 2:return i.sent(),[2]}}))}))()},i.gn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.Ehe(),[4,n.l3t.gn()];case 1:return i.sent(),[4,t.prototype.gn.call(n)];case 2:return i.sent(),[2]}}))}))()},i.CI=function(n){if(void 0!==this.Che)switch(n.type){case ua.so:if(!this.Ohe)return this.Ohe=!0,!0;this.the=!0;break;case ua.Uy:if(this.kR&&this.qoe)return!0;break;case wp.BL:if(!this.the)return!0;this.the=!1;break;case wp.LL:this.the=!0;break;case ua.qy:if(!this.Nhe)return!0;break;case ua.zy:if(!this.Nhe)return this.Nhe=!0,!0}return t.prototype.CI.call(this,n)},Nt(n,[{key:"mst",get:function(){return this.bst.mst}}]),n}(H3);function Q3(t){var n=t.mst.Uo()===yT.FULLSCREEN&&M0(t.md);return t.aH.iO||n}Zk((function(t){return t.md.ads.theoads?Gn.Em||Gn.Cm?new j3(t):new J3(t):new q3(t)}),Bk.Dst),F(),Tt(),F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Dt(),Rt(),F(),Tt();var $3=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Za=void 0,n}return It(n,t),Nt(n,[{key:"ga",get:function(){return this.Za||(this.Za=function(t){return{get casting(){return t.nQ},get state(){return t.Rft},start:function(){t.kI()},stop:function(){t.EI()},addEventListener:function(n,i){var r=Vg(n,Og);t.yn(r,i)},removeEventListener:function(n,i){var r=Vg(n,Og);t.fn(r,i)}}}(this)),this.Za}}]),n}(na),t4=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Ea=MS.UNAVAILABLE,e.Zhe=new Ho,e.Whe=function(){var t,n=null==(t=e.lj.Ya())?void 0:t.sources.filter(eT);(null==n?void 0:n.some(Dk))?e.Na(MS.AVAILABLE):e.Na(MS.UNAVAILABLE)},e.handleAirplayChangedEvent=function(){e.ta&&e.ta.NR?e.Hhe():e.Rft===MS.CONNECTED&&e.Yhe()},e.handleAirplayPlayerTimeUpdate=function(t){e.Xhe=t.currentTime,e.zhe=e.lj.mR},e.Ugt=n,e.lj=i,e.Ghe=r,e.Ghe.be(),i.mO(r),e.Fhe(),e}It(n,t);var i=n.prototype;return i.Fhe=function(){this.Vhe(),this.Ugt.yn(ua.ro,this.Whe),this.Na(MS.AVAILABLE)},i.Vhe=function(){this.ta&&this.ta.fn(ua.ly,this.handleAirplayChangedEvent),this.Uhe?this.ta=this.lj:this.ta=this.Ghe,this.ta.yn(ua.ly,this.handleAirplayChangedEvent)},i.Hhe=function(){var t=this;return Zt((function(){var n,i,r;return Ht(this,(function(e){switch(e.label){case 0:return t.ta?t.Uhe?[3,2]:(t.Xhe=t.lj.yR,t.zhe=t.lj.mR,t.Ghe.yn(ua.$y,t.handleAirplayPlayerTimeUpdate),t.qhe=t.lj.cC,t.lj.cC=t.Ghe,t.qhe.bI(),t.qhe.be(),t.Ghe.ge(),t.Ghe.FR=t.qhe.FR,t.Ghe.zR=t.qhe.zR,t.Ghe.dI=t.qhe.dI,n=t.Ghe.uy(ua.zy),t.Ghe.yR=t.qhe.yR,[4,n]):[2];case 1:return e.sent(),t.Ghe.AI(),t.Ghe.FR=t.qhe.FR,t.Ghe.zR=t.qhe.zR,t.Ghe.dI=t.qhe.dI,[3,5];case 2:return t.ta.ZR?[3,4]:(i=new et((function(t){return g(t,800)})),r=t.ta.uy(ua.Uy,t.Zhe.Bw),[4,et.race([r,i])]);case 3:e.sent(),e.label=4;case 4:t.ta.AI(),e.label=5;case 5:return t.Na(MS.CONNECTED),[2]}}))}))()},i.Yhe=function(){this.qhe?(this.Ghe.fn(ua.$y,this.handleAirplayPlayerTimeUpdate),this.qhe.FR=this.Ghe.FR,this.qhe.zR=this.Ghe.zR,this.qhe.dI=this.Ghe.dI,Gn.jm&&!Gn.Ka&&this.lj.ct===1/0?this.zhe?this.qhe.mR=this.zhe:this.qhe.yR=1/0:this.qhe.yR=this.Xhe,this.zhe=void 0,this.Xhe=void 0,this.qhe.ge(),this.Ghe.be(),this.Ghe.ZR||this.qhe.AI(),this.lj.cC=this.qhe,this.Ghe.tr(),this.qhe=void 0):this.ta&&(this.ta.yR=this.ta.yR+1e-4);this.Na(MS.AVAILABLE)},i.preloadPlayer=function(t){if(Oo(t),this.ta.tI<pp.Xn){var n=this.ta.uy(wp.ML,t);return this.ta.QR=GT.jV,n}return et.resolve()},i.Na=function(t){t!==this.Ea&&(this.Ea=t,this.yo(new l$(this.Ea)))},i.kI=function(){this.Ugt.yI(),this.Zhe.Xw(),this.Zhe=new Ho,jo(Uo(this.Uhe?this.Khe(this.Zhe.Bw):this.jhe(this.Zhe.Bw),this.Zhe))},i.Khe=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.preloadPlayer(t)];case 1:return i.sent(),n.lj.kI(),[2]}}))}))()},i.jhe=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return e.trys.push([0,4,,5]),[4,n.Ghe.tr()];case 1:if(e.sent(),void 0===(i=n.lj.Ya()))throw new p("Not possible to start Airplay without a source");return[4,n.Ghe.ka(i,t)];case 2:return e.sent(),r=n.Ghe.uy(wp.BL,t),n.Ghe.AI(),[4,Qo(r,3e3)];case 3:return e.sent(),n.Ghe.bI(),Oo(t),n.Ghe.kI(),[3,5];case 4:return Mo(e.sent())?[2]:[3,5];case 5:return[2]}}))}))()},i.EI=function(){this.ta.EI()},i.gn=function(){var t;this.Bo(),this.Ugt.fn(ua.ro,this.Whe),this.Zhe.Xw(),this.lj.gO(this.Ghe),null==(t=this.Ghe)||t.gn()},Nt(n,[{key:"nQ",get:function(){return this.Rft===MS.CONNECTED}},{key:"Rft",get:function(){return this.Ea}},{key:"Uhe",get:function(){return this.lj.TI()}}]),n}($3);F(),Tt(),Dt(),Rt();var n4=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.kI=function(){},i.EI=function(){},Nt(n,[{key:"nQ",get:function(){return!1}},{key:"Rft",get:function(){return MS.UNAVAILABLE}}]),n}($3);F(),Tt(),Gt(),Dt(),Rt(),qt();var i4=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this)||this).KH=void 0,a.wc=void 0,a.rO=new qk,a.hO=new qk,a.Ul=new Jk,a.Vs=n,a.Jhe=new FT(s,o,1,[jg.lE]),a.Jhe.gZ(n),a.Qhe=new Nk(n,a.Jhe,i,r,e,u),a.Qhe.Jw(a.Ds),a.rO.cC=a.Qhe.ht,a.hO.cC=a.Qhe.rt,a.Ul.cC=a.Qhe.nt,a}It(n,t);var i=n.prototype;return i.RI=function(){this.Qhe.RI()},i.DI=function(t){throw new p("Can't add a track while using AirPlay.")},i.AR=function(t,n){this.Qhe.AR(t,n)},i.TI=function(){return this.Qhe.TI()},i.kI=function(){this.Qhe.kI()},i.EI=function(){this.Qhe.EI()},i.AI=function(){jo(this.Qhe.AI())},i.bI=function(){this.Qhe.bI()},i.SI=function(){return Zt((function(){return Ht(this,(function(t){return[2]}))}))()},i.Ya=function(){return this.wc},i.ka=function(t,n){var i=this;return Zt((function(){var r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:if(Oo(n),i.wc=t,$A(t.sources))r=fA({src:""});else for(e=t.sources.filter(eT),u=0;u<e.length;u++)if(Dk(s=e[u])){r=s;break}if(!r)throw new p("Unsupported source.");return[4,i.Qhe.ka(r,t,n)];case 1:return o.sent(),i.sZ(r),[2]}}))}))()},i.sZ=function(t){this.KH!==t&&(this.KH=t,this.yo(new ET(t)))},i.wI=function(){return this.Qhe.wI()},i.fR=function(){return[]},i.yI=function(){this.Jhe.cZ()},i.ur=function(t){AT(this,t)},i.ar=function(){},i.II=function(t){return!1},i.xI=function(){this.Qhe.xI()},i.tr=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.KH=void 0,t.wc=void 0,[4,t.Qhe.tr()];case 1:return n.sent(),[2]}}))}))()},i.ge=function(){this.Qhe.ge()},i.be=function(){this.Qhe.be()},i.pI=function(){return this.Qhe.pI()},i._a=function(){return this.Qhe._a()},i.gn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.Bo(),t.Jhe.gn(),[4,t.Qhe.gn()];case 1:return n.sent(),t.rO.gn(),t.hO.gn(),t.Ul.gn(),[2]}}))}))()},Nt(n,[{key:"ht",get:function(){return this.Qhe.ht}},{key:"_R",get:function(){return this.Qhe._R}},{key:"bt",get:function(){return this.KH}},{key:"yR",get:function(){return this.Qhe.yR},set:function(t){this.AR(t)}},{key:"mR",get:function(){return this.Qhe.mR}},{key:"ct",get:function(){return this.Qhe.ct}},{key:"we",get:function(){return this.Vs}},{key:"kR",get:function(){return this.Qhe.kR}},{key:"lt",get:function(){return this.Qhe.lt}},{key:"RR",get:function(){return this.Qhe.RR}},{key:"PR",get:function(){return this.Qhe.PR}},{key:"NR",get:function(){return this.Qhe.NR}},{key:"gI",get:function(){return this.Qhe.gI}},{key:"vI",get:function(){return this.Qhe.vI}},{key:"LR",get:function(){return this.Qhe.LR}},{key:"FR",get:function(){return this.Qhe.FR},set:function(t){this.Qhe.FR=t}},{key:"GR",get:function(){return this.Qhe.GR}},{key:"ZR",get:function(){return this.Qhe.ZR}},{key:"zR",get:function(){return this.Qhe.zR},set:function(t){this.Qhe.zR=t}},{key:"KR",get:function(){return this.Qhe.KR}},{key:"QR",get:function(){return this.Qhe.QR},set:function(t){this.Qhe.QR=t}},{key:"tI",get:function(){return this.Qhe.tI}},{key:"iI",get:function(){return this.Qhe.iI}},{key:"nI",get:function(){return this.Qhe.nI}},{key:"nt",get:function(){return this.Qhe.nt}},{key:"hI",get:function(){return this.Qhe.hI}},{key:"cI",get:function(){return this.Qhe.cI}},{key:"rt",get:function(){return this.Qhe.rt}},{key:"dI",get:function(){return this.Qhe.dI},set:function(t){this.Qhe.dI=t}}]),n}(ra),r4=function(t){function n(n){var i;i=t.call(this,n)||this;var r=new i4(i.xa.we,i.aR,i.md,i.nst,i.vI,i.ust,i.Ll);return i.$he=new t4(i,i.xa,r),i.Tz.uQ(i.$he),i.yn(ua.yy,(function(){i.$he.Vhe()})),i}return It(n,t),n.prototype.gn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.$he.gn(),[4,t.prototype.gn.call(n)];case 1:return i.sent(),[2]}}))}))()},n}(Ok);Zk((function(t){return Kn.Ys.zg?new r4(t):(t.Tz.uQ(new n4),t)}),Bk.Nst),F(),Tt(),F(),Tt(),Dt();var e4="VPAID",u4=function(){function t(){this.tae=new F0}var n=t.prototype;return n.kZ=function(t){return s4(t)},n.G1t=function(n,i,r){return r.ads||(r.ads=iT({})),r.ads.vpaidMode=r.ads.vpaidMode||t.eae(),this.tae.G1t(n,i,r)},n.o6=function(n,i,r,e){!function(t){if(!s4(t))throw new p("Unknown ad integration: "+t.integration)}(n);var u=t.iae(n,r.we);this.tae.o6(u,i,r,e)},n.Uz=function(t){var n=Ig(t);if(!S(n.id))return n.queryParameters||(n.queryParameters={}),n.custom&&(n.queryParameters.custom?Hr('"custom" parameter is redefined in queryParameters! Please use "queryParameters.custom" only!'):(n.queryParameters.custom=n.custom,delete n.custom)),n.app&&(n.queryParameters.app?Hr('"app" parameter is redefined in queryParameters! Please use "queryParameters.app" only!'):(n.queryParameters.app=n.app,delete n.app)),n.device&&(n.queryParameters.device?Hr('"device" parameter is redefined in queryParameters! Please use "queryParameters.device" only!'):(n.queryParameters.device=n.device,delete n.device)),n.user&&(n.queryParameters.user?Hr('"user" parameter is redefined in queryParameters! Please use "queryParameters.user" only!'):(n.queryParameters.user=n.user,delete n.user)),n.ipAddress&&(n.queryParameters.ip_addr?Hr('"ipAddress" parameter is redefined in queryParameters! Please use "queryParameters.ip_addr" or "ipAddress" only!'):(n.queryParameters.ip_addr=n.ipAddress,delete n.ipAddress)),n.maximumAdDuration&&(n.queryParameters.VMaxd?Hr('"maximumAdDuration" parameter is redefined in queryParameters! Please use "queryParameters.VMaxd" or "maximumAdDuration" only!'):(n.queryParameters.VMaxd=n.maximumAdDuration,delete n.maximumAdDuration)),n},t.iae=function(n,i){return{integration:gS.SPOTX,sources:{src:t.sae(n,f.location.href,i.offsetWidth,i.offsetHeight,Gn.Eg)}}},t.sae=function(n,i,r,e,u){if(n.sources)return n.sources;var s=e,o=r;u&&0===o&&(o=320,s=180);var a={custom_skin:1,player_width:o,player_height:s};n.cacheBuster&&(a.cb=k.random()),t.nae(i)&&(a.content_page_url=i);var c=$u({},a,n.queryParameters);return c[e4]||c.VPI||(c[e4]="js"),"https://search.spotxchange.com/vast/2.0/"+n.id+"?"+t.rae(c)},t.nae=function(t){return Bs(t,"http://")||Bs(t,"https://")},t.rae=function(t){return rQ(t)},t.eae=function(){return Gn.Fm?OA.ENABLED:OA.INSECURE},Nt(t,[{key:"U1t",get:function(){return this.tae.U1t}}]),t}();function s4(t){return"spotx"===t.integration}wS.Lg.EZ(new u4),F(),Tt(),F(),Tt(),Rt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt();var o4=k.PI/180,a4=180/k.PI,c4=function(){function t(t,n){this.x=t||0,this.y=n||0}var n=t.prototype;return n.Pb=function(t,n){return this.x=t,this.y=n,this},n.h_t=function(t){return this.x=t.x,this.y=t.y,this},n.oae=function(t){return this.Pb(t[0],t[1])},n.hae=function(){var t=new Float32Array(2);return t[0]=this.x,t[1]=this.y,t},n.aae=function(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this},t}(),h4=function(){function t(t,n,i){this.x=t||0,this.y=n||0,this.z=i||0}var n=t.prototype;return n.Pb=function(t,n,i){return this.x=t,this.y=n,this.z=i,this},n.h_t=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},n.oae=function(t){return this.Pb(t[0],t[1],t[2])},n.hae=function(){var t=new Float32Array(3);return t[0]=this.x,t[1]=this.y,t[2]=this.z,t},n.V=function(){return k.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},n.uae=function(){var t=this.V();if(0!==t){var n=1/t;this.cae(n)}else this.x=0,this.y=0,this.z=0;return this},n.cae=function(t){this.x*=t,this.y*=t,this.z*=t},n.lae=function(t){var n=this.x,i=this.y,r=this.z,e=t.x,u=t.y,s=t.z,o=t.w,a=o*n+u*r-s*i,c=o*i+s*n-e*r,h=o*r+e*i-u*n,f=-e*n-u*i-s*r;return this.x=a*o+f*-e+c*-s-h*-u,this.y=c*o+f*-u+h*-e-a*-s,this.z=h*o+f*-s+a*-u-c*-e,this},n.dae=function(t){return this.x*t.x+this.y*t.y+this.z*t.z},n.fae=function(t,n){var i=t.x,r=t.y,e=t.z,u=n.x,s=n.y,o=n.z;return this.x=r*o-e*s,this.y=e*u-i*o,this.z=i*s-r*u,this},t}(),f4=function(){function t(t,n,i,r){this.x=t||0,this.y=n||0,this.z=i||0,this.w=void 0!==r?r:1}var n=t.prototype;return n.Pb=function(t,n,i,r){return this.x=t,this.y=n,this.z=i,this.w=r,this},n.h_t=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w,this},n.oae=function(t){return this.Pb(t[0],t[1],t[2],t[3])},n.hae=function(){var t=new Float32Array(4);return t[0]=this.x,t[1]=this.y,t[2]=this.z,t[3]=this.w,t},n.dae=function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},n.YF=function(t){return this._ae(this,t)},n._ae=function(t,n){var i=t.x,r=t.y,e=t.z,u=t.w,s=n.x,o=n.y,a=n.z,c=n.w;return this.x=i*c+u*s+r*a-e*o,this.y=r*c+u*o+e*s-i*a,this.z=e*c+u*a+i*o-r*s,this.w=u*c-i*s-r*o-e*a,this},n.vae=function(){return this.x*=-1,this.y*=-1,this.z*=-1,this.uae(),this},n.mae=function(){var t,n,i,r=this.x,e=this.y,u=this.z,s=this.w,o=r*e+u*s;if(o>.499)t=2*k.atan2(r,s),n=k.PI/2,i=0;else if(o<-.499)t=-2*k.atan2(r,s),n=-k.PI/2,i=0;else{var a=r*r,c=e*e,h=u*u;t=k.atan2(2*e*s-2*r*u,1-2*c-2*h),n=k.asin(2*o),i=k.atan2(2*r*s-2*e*u,1-2*a-2*h)}return new v4(t,i,n)},n.uae=function(){var t=k.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return 0===t?(this.x=0,this.y=0,this.z=0,this.w=1):(t=1/t,this.x=this.x*t,this.y=this.y*t,this.z=this.z*t,this.w=this.w*t),this},t}(),v4=function(){function t(t,n,i){this.gae=t||0,this.pae=n||0,this.wae=i||0}var n=t.prototype;return n.Pb=function(t,n,i){return this.gae=t,this.pae=n,this.wae=i,this},n.h_t=function(t){return this.Pb(t.gae,t.pae,t.wae)},n.yO=function(t){return this.gae+=t.gae,this.pae+=t.pae,this.wae+=t.wae,this},n.yF=function(t){return this.gae-=t.gae,this.pae-=t.pae,this.wae-=t.wae,this},n.yae=function(){var t=this.gae,n=this.wae,i=this.pae,r=k.cos(t/2),e=k.cos(n/2),u=k.cos(i/2),s=k.sin(t/2),o=k.sin(n/2),a=k.sin(i/2),c=r*e,h=s*o;return new f4(c*a+h*u,s*e*u+r*o*a,r*o*u-s*e*a,c*u-h*a)},t}();F(),Tt();var d4=["bae","rat","Aae","error"];F(),Tt();var l4=function(t){return t.Rs="unavailable",t.Sae="available",t.qa="presenting",t}({});F(),Tt();var g4=function(){function t(t,n){var i=this;this.He=!1,this.Vae=new c4,this.Wae=new c4,this.Oae=new c4,this.Nae=!1,this.Tae=function(t){i.Vae.Pb(t.clientX,t.clientY),i.Nae=!0,t.preventDefault(),t.stopPropagation()},this.kae=function(t){t.touches&&1===t.touches.length&&(i.Vae.Pb(t.touches[0].pageX,t.touches[0].pageY),i.Nae=!0,t.preventDefault())},this.er=function(t){if(i.Nae||i.Fae()){if(i.Fae()){var n=t.movementX||t.mozMovementX||0,r=t.movementY||t.mozMovementY||0;i.Wae.Pb(i.Vae.x-n,i.Vae.y-r)}else i.Wae.Pb(t.clientX,t.clientY);i.Oae.aae(i.Wae,i.Vae),i.Vae.h_t(i.Wae),i.Mae()}},this.Eae=function(t){i.Nae&&(i.Wae.Pb(t.touches[0].pageX,t.touches[0].pageY),i.Oae.aae(i.Wae,i.Vae),i.Vae.h_t(i.Wae),i.Mae())},this.xae=function(){i.Dae()},this.Rae=function(){i.Dae()},this.Pae=function(){i.Dae()},this.Bae=t,this.Vs=n}var n=t.prototype;return n.iW=function(){this.He||(this.He=!0,this.Vs.addEventListener("mousedown",this.Tae),this.Vs.addEventListener("touchstart",this.kae),f.addEventListener("mousemove",this.er),f.addEventListener("touchmove",this.Eae),f.addEventListener("mouseup",this.xae),f.addEventListener("touchend",this.Rae),this.Iae(f))},n.sW=function(){this.He&&(this.He=!1,this.Vs.removeEventListener("mousedown",this.Tae),this.Vs.removeEventListener("touchstart",this.kae),f.removeEventListener("mousemove",this.er),f.removeEventListener("touchmove",this.Eae),f.removeEventListener("mouseup",this.xae),f.removeEventListener("touchend",this.Rae),this.Cae(f))},n.Iae=function(t){if(function(t){try{return Boolean(t)&&t===t.top}catch(t){return!1}}(t));else if(yi(t))try{t.parent.addEventListener("mouseup",this.xae),this.Iae(t.parent)}catch(n){t.document.documentElement.addEventListener("mouseleave",this.Pae)}},n.Cae=function(t){if(t.document.documentElement.removeEventListener("mouseleave",this.Pae),yi(t))try{t.parent.removeEventListener("mouseup",this.xae),this.Cae(t.parent)}catch(t){}},n.Dae=function(){this.Nae=!1},n.Mae=function(){var t=this.Bae.Lae;t.yaw+=2*k.PI*this.Oae.x*.4/this.Vs.clientWidth,t.pitch+=2*k.PI*this.Oae.y*.5/this.Vs.clientHeight,t.pitch=er(t.pitch,-k.PI/2,k.PI/2),this.Bae.Lae=t},n.Fae=function(){return(v.pointerLockElement||v.mozPointerLockElement||v.webkitPointerLockElement)===this.Vs},n.gn=function(){this.sW()},t}();F(),Tt(),Rt();var w4=function(t){function n(){return t.call(this,"Aae")||this}return It(n,t),n.prototype.ma=function(){return new m4},n}(dg),m4=function(t){function n(){return t.call(this,"stereochange")||this}return It(n,t),n}(ea);F(),Tt(),Ut();var y4=function(){function t(){this.FQ=[0,0,0,1],this.Hae=[]}var n=t.prototype;return n.Uae=function(t){var n;(n=t).clearColor.apply(n,Ft(this.FQ)),t.clear(t.COLOR_BUFFER_BIT)},n.Gae=function(t,n){t.clearDepth(1),t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),t.clear(t.DEPTH_BUFFER_BIT),this.Hae.forEach((function(i){i.Gae(t,n)}))},n.Zae=function(t){this.Hae.push(t)},n.Xae=function(){this.Hae=[]},t}();F(),Tt(),Rt(),F(),Tt(),Ut(),F(),Tt(),Rt();var p4=function(){function t(t,n,i,r,e){this.qae=t,this.Ub=this.zae(t,n,i),this.Yae=r,this.pp=e,this.Kae=!1,this.jae=0,this.ic=0}return t.prototype.zae=function(t,n,i){var r=t.createBuffer();return null===r?(Hr("Failed to create buffer."),null):(t.bindBuffer(n,r),t.bufferData(n,i,t.STATIC_DRAW),r)},t}(),_4=function(t){function n(n,i,r){return t.call(this,n,n.ARRAY_BUFFER,i,r,n.FLOAT)||this}It(n,t);var i=n.prototype;return i.iW=function(t){if(null!==this.Ub)if(null!==t){var n=this.qae;n.bindBuffer(n.ARRAY_BUFFER,this.Ub),n.vertexAttribPointer(t,this.Yae,this.pp,this.Kae,this.jae,this.ic),n.enableVertexAttribArray(t)}else Hr("Attempted to enable attribute without location.");else Hr("Attempted to enable buffer that failed to initialize.")},i.sW=function(t){t&&this.qae.disableVertexAttribArray(t)},n}(p4);var b4=function(t){function n(n,i){var r;return(r=t.call(this,n,n.ELEMENT_ARRAY_BUFFER,i,1,n.UNSIGNED_SHORT)||this).Jae=i.length,r}return It(n,t),n.prototype.Qae=function(){var t=this.qae;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.Ub),t.drawElements(t.TRIANGLES,this.Jae,this.pp,this.ic)},n}(p4);F(),Tt();var k4=function(t){return t.VertexPos="aVertexPosition",t.VertexUV="aVertexUV",t.VertexColor="aVertexColor",t}({}),A4=function(t){return t.ProjectionMat="uProjectionMatrix",t.ModelViewMat="uModelViewMatrix",t.Texture="uTexture",t}({}),T4=function(t){return t.Normal="vNormal",t.Color="vColor",t.UV="vUV",t}({}),S4=function(){function t(t,n,i){this.qae=t,this.iue=this.$ae(this.qae,n,i)}var n=t.prototype;return n.$ae=function(t,n,i){var r=this.tue(t,t.VERTEX_SHADER,n),e=this.tue(t,t.FRAGMENT_SHADER,i);if(null===r||null===e)return Hr("Failed to create vertex or fragment shader."),null;var u=t.createProgram();return null===u?(Hr("Failed to create shader program"),null):(t.attachShader(u,r),t.attachShader(u,e),t.linkProgram(u),t.getProgramParameter(u,t.LINK_STATUS)?u:(Hr("Failed to initialize shader program"),null))},n.tue=function(t,n,i){var r=t.createShader(n);if(null===r)return Hr("failed to create shader."),null;if(t.shaderSource(r,i),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS)){var e=t.getShaderInfoLog(r);return Hr("Failed to compile shader with error: "+e),t.deleteShader(r),null}return r},n.eue=function(){return this.iue},n.sue=function(t){var n=this.iue;if(null===n)return Hr("Attempted to retrieve attribute location when shader program was not initialized"),null;var i=this.qae.getAttribLocation(n,t);return-1===i?null:i},n.nue=function(t){var n=this.iue;if(null===n)return Hr("Attempted to retrieve uniform location when shader program was not initialized"),null;var i=this.qae.getUniformLocation(n,t);return null===i&&zr("Attempted to retrieve nonexistent uniform: "+t),i},t}(),E4=function(){function t(t,n,i){this.oue=t,this.hue=n,this.aue=i}var n=t.prototype;return n.rue=function(){var t,n=this.oue.length,i=(t=k).max.apply(t,Ft(this.hue));return i>=n?(zr("Created geometry where largest index ("+i+") is larger than/equal to attribute array size ("+n+")"),!1):(i<n-1&&Hr("Created geometry where largest index ("+i+") is smaller than attribute buffer - 1 ("+(n-1)+") resulting in unused vertices"),!this.aue||this.aue.length===n||(zr("Created geometry where position ("+n+") and uv ("+this.aue.length+") buffers have different length."),!1))},n.uue=function(t,n){if(!this.rue())throw new p("Failed to validate buffers for WebGLGeometry.");var i=function(t,n){var i=[];return n.forEach((function(t){i.push(t.x,t.y,t.z)})),new _4(t,new Float32Array(i),3)}(t,this.oue),r=function(t,n){return new b4(t,new Uint16Array(n))}(t,this.hue),e=function(t,n){var i=[];return n.forEach((function(t){i.push(t.x,t.y)})),new _4(t,new Float32Array(i),2)}(t,this.aue);return new I4(i,r,e,n)},t}(),I4=function(){function t(t,n,i,r){this.oue=t;var e=r.sue(k4.VertexPos);if(null===e)throw new p("Failed to get position attribute location.");this.due=e,this.aue=i,this.fue=r.sue(k4.VertexUV),this.hue=n}var n=t.prototype;return n.lue=function(){this.oue.iW(this.due),null!==this.fue&&this.aue.iW(this.fue)},n._ue=function(){this.oue.sW(this.due),null!==this.fue&&this.aue.sW(this.fue)},n.Gae=function(){this.hue.Qae()},t}(),R4=function(t){function n(n,i,r,e,u,s,o){void 0===n&&(n=1),void 0===i&&(i=32),void 0===r&&(r=16),void 0===e&&(e=0),void 0===u&&(u=2*k.PI),void 0===s&&(s=0),void 0===o&&(o=k.PI);for(var a=0,c=k.min(s+o,k.PI),h=[],f=[],v=[],d=[],l=0;l<=r;l++){var g=[],w=l/r,m=0;0===l&&0===s?m=.5/i:l===r&&c===k.PI&&(m=-.5/i);for(var y=0;y<=i;y++){var p=y/i,_=-n*k.cos(e+p*u)*k.sin(s+w*o),b=n*k.cos(s+w*o),A=n*k.sin(e+p*u)*k.sin(s+w*o);f.push(new h4(_,b,A)),v.push(new c4(p+m,1-w)),g.push(a++)}d.push(g)}for(var T=0;T<r;T++)for(var S=0;S<i;S++){var E=d[T][S+1],I=d[T][S],R=d[T+1][S],C=d[T+1][S+1];(0!==T||s>0)&&h.push(E,I,C),(T!==r-1||c<k.PI)&&h.push(I,R,C)}return t.call(this,f,h,v)||this}return It(n,t),n}(E4);F(),Tt(),F(),Tt();var C4=[0,0,0,255,0,0,0,255,0,0,0,255,0,0,0,255],N4=function(){function t(t,n){if(this.qae=t,this.gue=t.createTexture(),null===this.gue)throw new p("Failed to create texture");var i=n.nue(A4.Texture);if(null===i)throw new p("Failed to get texture location.");this.pue=i,t.bindTexture(t.TEXTURE_2D,this.gue),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),this.mue=t.TEXTURE0,this.L1=0,this.yue=t.RGBA,this.bue=t.RGBA,this.Aue=t.UNSIGNED_BYTE,t.texImage2D(t.TEXTURE_2D,this.L1,this.yue,2,2,0,this.bue,this.Aue,new E(C4))}var n=t.prototype;return n.vue=function(){var t=this.qae;t.activeTexture(this.mue),t.bindTexture(t.TEXTURE_2D,this.gue)},n.ur=function(){var t=this.qae;t.activeTexture(this.mue),t.bindTexture(t.TEXTURE_2D,this.gue),t.uniform1i(this.pue,0)},n.wue=function(t){var n=this.qae;n.bindTexture(n.TEXTURE_2D,this.gue),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!0),n.texImage2D(n.TEXTURE_2D,this.L1,this.yue,this.bue,this.Aue,t),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!1)},n.Sue=function(t){var n=this.qae;n.bindTexture(n.TEXTURE_2D,this.gue),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!0),t.gst.gY(n,n.TEXTURE_2D,this.L1,this.yue,this.bue,this.Aue),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!1)},t}(),D4="\n    attribute vec4 "+k4.VertexPos+";\n    attribute vec2 "+k4.VertexUV+";\n\n    uniform mat4 "+A4.ModelViewMat+";\n    uniform mat4 "+A4.ProjectionMat+";\n    \n    varying mediump vec2 "+T4.UV+";\n    \n    void main() {\n      gl_Position = "+A4.ProjectionMat+" * "+A4.ModelViewMat+" * "+k4.VertexPos+";\n      "+T4.UV+" = "+k4.VertexUV+";\n    }\n",P4="\n    varying mediump vec2 "+T4.UV+";\n    \n    uniform sampler2D "+A4.Texture+";\n\n    void main() {\n      gl_FragColor = texture2D("+A4.Texture+", "+T4.UV+");\n    }\n",x4=function(){function t(t){this.qae=t,this.iue=new S4(t,D4,P4),this.gue=new N4(t,this.iue)}var n=t.prototype;return n.eue=function(){return this.iue},n.iW=function(){this.qae.useProgram(this.iue.eue()),this.gue.ur()},n.Tue=function(t){this.gue.wue(t)},n.kue=function(t){this.gue.Sue(t)},t}();F(),Tt(),Dt(),F(),Tt();var L4=V(_n()),M4=V(bn()),O4=(V(kn()),V(An())),B4=(V(Tn()),V(Sn())),V4=V(En()),F4=V(In()),U4=V(Rn()),W4=V(Cn()),Z4=function(){function t(t,n,i,r){this.uo=new h4,this.Lue=new h4,this.xue="none",this.Iue=i;var e=i.eue();this.Rue=n.uue(t,e),r&&(this.xue=r);var u=e.nue(A4.ModelViewMat);if(null===u)throw new p("Failed to get model view matrix location.");this.Due=u;var s=e.nue(A4.ProjectionMat);if(null===s)throw new p("Failed to get projection matrix location.");this.Mue=s}var n=t.prototype;return n.Gae=function(t,n){if(this.Eue(n.xue)){this.Rue.lue(),this.Iue.iW();var i=this.Cue,r=n.Pue,e=(0,V4.default)(r,r,i);t.uniformMatrix4fv(this.Due,!1,e);var u=n.Nue;t.uniformMatrix4fv(this.Mue,!1,u),this.Rue.Gae(),this.Rue._ue()}},n.Eue=function(t){return"none"===this.xue||"right"!==t&&"left"===this.xue||"right"===t&&"right"===this.xue},Nt(t,[{key:"Cue",get:function(){var t=(0,L4.default)(),n=this.uo;return(0,W4.default)(t,t,n.hae()),(0,U4.default)(t,t,this.Lue.x,new Float32Array([1,0,0])),(0,U4.default)(t,t,this.Lue.y,new Float32Array([0,1,0])),(0,U4.default)(t,t,this.Lue.z,new Float32Array([0,0,1])),t}}]),t}();F(),Tt(),Dt();var X4=function(){function t(t){this.Oue=72*k.PI/180,this.Fue=1.77,this.Vue=.1,this.Wue=100,this.xue="none",this.Zue=new h4,this.Xue=new f4,this.Gue=this.Bue(),this.Yue=this.Hue(),t&&(this.xue=t)}var n=t.prototype;return n.Bue=function(){var t=(0,L4.default)();return(0,F4.default)(t,this.Oue,this.Fue,this.Vue,this.Wue)},n.Uue=function(){this.Gue=this.Bue()},n.Hue=function(){var t=(0,L4.default)(),n=(0,O4.default)((0,L4.default)(),this.Zue.hae()),i=(0,M4.default)((0,L4.default)(),this.Xue.hae());return(0,V4.default)(t,n,i),(0,B4.default)(t,t),t},n.zue=function(){this.Yue=this.Hue()},n.Kue=function(){this.zue(),this.Uue()},n.tr=function(){this.Zue=new h4,this.Lue=new f4,this.Kue()},n.jue=function(t){var n=this.Xue.mae();n.yO(t),this.Lue=n.yae()},n.Que=function(t){this.Lue=t.yae()},Nt(t,[{key:"Nue",get:function(){return new Float32Array(this.Gue)},set:function(t){this.Gue=t}},{key:"Pue",get:function(){return new Float32Array(this.Yue)}},{key:"Jue",get:function(){return this.Oue},set:function(t){this.Oue=t,this.Uue()}},{key:"$ue",get:function(){return this.Fue},set:function(t){this.Fue=t,this.Uue()}},{key:"uo",get:function(){return(new h4).h_t(this.Zue)},set:function(t){this.Zue=t,this.zue()}},{key:"Lue",get:function(){return(new f4).h_t(this.Xue)},set:function(t){this.Xue=t,this.zue()}}]),t}();F(),Tt(),Rt();var G4=function(t){function n(){return t.call(this,"bae")||this}return It(n,t),n.prototype.ma=function(){return new H4},n}(dg),H4=function(t){function n(){return t.call(this,"directionchange")||this}return It(n,t),n}(ea),z4=1e-4,Y4=function(t){function n(n){var i;return(i=t.call(this)||this).cW=new Ho,i.nce=!1,i.Jce=!1,i.sle=new f4,i.ale=new f4,i.nle=new f4,i.Oue=74,i.Zce=!1,i.IT=void 0,i.dce=VS.NONE,i.jce=!1,i.Qce=FS.NONE,i.gce=new y4,i.xce=null,i.Hce=null,i.Rce=null,i.Dce=null,i.Mce=!1,i.Lce=null,i.Uce=null,i.Wce=null,i.Yce=0,i.Xce=!1,i.ece=function(){i.sce()},i.ho=function(){i.bce(),i.Sce(),i.rce()},i.yce=function(){i.Ece()},i.kce=function(){i.Pce&&(Gr("Ending immersive session"),i.Ace(),i.Pce.removeEventListener("end",i.kce),i.Pce.end(),i.Pce=null,i.Dce=null,i.Mce=!1,i.xce?i.Ice():i.Ece())},i.mn=function(){i.wce()},i.Fce=function(t,n){if(i.qae){var r=i.qae,e=i.Oce;if(null===i.Wce&&i.qce()&&(i.pce.kue(i.ta),i.Yce>0&&(i.Yce-=1)),null!==e&&void 0!==n){i.Lce=e.requestAnimationFrame(i.Fce);var u=e.renderState.baseLayer,s=n.getViewerPose(i.tle);if(void 0!==u&&void 0!==s){r.bindFramebuffer(r.FRAMEBUFFER,u.framebuffer);for(var o=new v4,a=0,c=0,h=s.views;c<h.length;c++){var f=h[c],v=new X4(f.eye);if(v.Nue=f.projectionMatrix,i.Gce()){var d=void 0;if(Gn.Qs&&Gn.fm&&null===i.Hce){if(0===(d=f.transform.inverse.orientation).x&&0===d.y&&0===d.z&&1===d.w)return}else d=f.transform.orientation;v.Lue=new f4(d.x,d.y,d.z,d.w)}i.xce&&v.jue(i.nle.mae()),o=o.yO(v.Lue.mae()),a+=1;var l=u.getViewport(f);l&&r.viewport(l.x,l.y,l.width,l.height),i.gce.Gae(r,v)}var g=new v4(o.gae/a,o.pae/a,o.wae);i.sle=g.yae(),function(t,n){var i=t.dae(n);return 1-i*i<z4}(i.sle,i.ale)||(i.ale.h_t(i.sle),i.yo(new G4))}else Hr("Attempted to run webXR animation loop without glLayer or viewerPose.")}else Hr("Attempted to run webXR animation loop without session or xrFrame.")}},i.EX=function(){i.Yce=5},i.ta=n,i.ga=function(t){var n,i={get stereo(){return t.rle},set stereo(n){t.rle=n},get useDeviceMotionControls(){return t.ole},set useDeviceMotionControls(n){t.ole=n},get direction(){return t.ele},set direction(n){t.ele=n},get verticalFOV(){return t.hle},set verticalFOV(n){t.hle=n},get canPresentVR(){return t.$ce},get state(){return t.Rft},addEventListener:function(t,i){n.yn(t,i)},removeEventListener:function(t,i){n.fn(t,i)}};return n=new nR(t,d4,i),i}(i),i.fo(),i}It(n,t);var i=n.prototype;return i.fo=function(){var t=this;this.tce(),this.qae?l.xr?(l.xr.addEventListener("devicechange",this.ece),this.sce().then((function(){t.nce?(t.rce(),t.oce()):t.$Dt("XR: Inline session not available. Panorama functionality will not work.",Qv.VR_PRESENTATION_ERROR)}))):this.$Dt("Your browser does not support WebXR",Qv.VR_PLATFORM_UNSUPPORTED):this.$Dt("Your browser does not support webGL",Qv.VR_PLATFORM_UNSUPPORTED)},i.oce=function(){this.ta.wa.yn(YT.aa,this.mn),this.ta.yn(eI.pn,this.mn),this.ta.yn(ua.ro,this.ho),this.ta.yn(ua.zy,this.EX)},i.tce=function(){this.hce=v.createElement("canvas"),this.hce.className="theoplayer-vr",this.hce.style.zIndex="2",this.hce.style.background="black",this.hce.style.display="none",this.ta.we.appendChild(this.hce),gi(this.hce);var t=this.hce.getContext("webgl2");t||(t=this.hce.getContext("webgl")),t&&(this.qae=t,this.ace=new g4(this,this.hce))},i.sce=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return l.xr?[4,et.all([l.xr.isSessionSupported("inline").then((function(n){t.nce=n})).catch((function(n){t.nce=!1,t.$Dt("exception when calling xr.isSessionSupported for inline session: "+n,Qv.VR_PRESENTATION_ERROR)})),l.xr.isSessionSupported("immersive-vr").then((function(n){t.uce=n})).catch((function(n){t.uce=!1,t.$Dt("exception when calling xr.isSessionSupported for immersive-vr session: "+n,Qv.VR_PRESENTATION_ERROR)}))])]:[3,2];case 1:return n.sent(),[3,3];case 2:t.nce=!1,t.uce=!1,n.label=3;case 3:return[2]}}))}))()},i.rce=function(){var t=this.cce();this.IT=t,this.lce=Boolean(t),this.lce&&(this.dce=(null==t?void 0:t.stereoMode)||VS.NONE,this.fce=(null==t?void 0:t.panoramaMode)||FS.NONE,this._ce&&(this.vce(this.fce,this.dce),this.mce()))},i.vce=function(t,n){if(this.qae&&t!==FS.NONE){var i,r,e=this.qae;this.gce.Xae(),t===FS.PM360?(i=2*k.PI,r=-k.PI/2):(i=k.PI,r=-k.PI);for(var u=new R4(16,60,40,0,i),s=[],o=[],a=0;a<u.aue.length;a++){var c=u.aue[a];switch(n){case VS.NONE:s.push(c),o.push(c);break;case VS.VERTICAL:s.push(new c4(c.x,.5*c.y)),o.push(new c4(c.x,.5*c.y+.5));break;case VS.HORIZONTAL:s.push(new c4(.5*c.x,c.y)),o.push(new c4(.5*c.x+.5,c.y))}}u.oue.forEach((function(t){t.x*=-1}));var h=new E4(u.oue,u.hue,s),f=new E4(u.oue,u.hue,o);this.pce=new x4(e);var v=new Z4(e,h,this.pce,"left");v.Lue.y=r,this.gce.Zae(v);var d=new Z4(e,f,this.pce,"right");d.Lue.y=r,this.gce.Zae(d)}},i.mce=function(){this.hce.style.display="block",this.wce(),this.nce&&this.ta.yn(ua.so,this.yce)},i.bce=function(){this.Ace(),this.ta.fn(ua.so,this.yce),this.hce.style.display="none"},i.Sce=function(){this.Tce(),this.kce()},i.Ece=function(){var t=this;return Zt((function(){var n,i,r,e;return Ht(this,(function(u){switch(u.label){case 0:if(t.xce||!t.nce)return[2];u.label=1;case 1:return u.trys.push([1,5,,6]),[4,Fo(l.xr.requestSession("inline"),t.cW.Bw)];case 2:return n=u.sent(),i=Gn.Qs?Gn.fm?"viewer":"local":"viewer",[4,n.requestReferenceSpace(i)];case 3:return r=u.sent(),n.addEventListener("end",t.Tce),t.Rce=r,t.xce=n,t.ace.iW(),t.Ice(),[4,n.updateRenderState({baseLayer:new XRWebGLLayer(n,t.qae),inlineVerticalFieldOfView:t.Oue*o4})];case 4:return u.sent(),[3,6];case 5:return e=u.sent(),t.Tce(),t.$Dt(e,Qv.VR_PRESENTATION_ERROR),[3,6];case 6:return[2]}}))}))()},i.Tce=function(){this.xce&&(this.Ace(),this.ace.sW(),this.xce.removeEventListener("end",this.kce),this.xce.end(),this.xce=null,this.wce())},i.Cce=function(){var t=this;return Zt((function(){var n,i,r;return Ht(this,(function(e){switch(e.label){case 0:if(t.Pce||!t.uce)return[2];t.Ace(),e.label=1;case 1:return e.trys.push([1,5,,6]),[4,Fo(l.xr.requestSession("immersive-vr"),t.cW.Bw)];case 2:return[4,(n=e.sent()).requestReferenceSpace("local")];case 3:return i=e.sent(),n.addEventListener("end",t.kce),t.Dce=i,t.Pce=n,[4,t.Nce()];case 4:return e.sent(),t.Ice(),[3,6];case 5:return r=e.sent(),t.kce(),t.$Dt(r,Qv.VR_PRESENTATION_ERROR),[3,6];case 6:return[2]}}))}))()},i.Nce=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:return n=t.qae,i=t.Pce,t.hce&&n&&i&&!t.Mce?(t.hce.addEventListener("webglcontextlost",(function(t){t.preventDefault()})),t.hce.addEventListener("webglcontextrestored",(function(){t.vce(t.fce,t.dce)})),t.Mce=!0,[4,n.makeXRCompatible()]):[2];case 1:return r.sent(),[4,i.updateRenderState({baseLayer:new XRWebGLLayer(i,n)})];case 2:return r.sent(),[2]}}))}))()},i.wce=function(){if(!this.Pce&&this.qae){var t=this.qae,n=this.hce.clientWidth,i=this.hce.clientHeight;if(0===n||0===i)return;var r=Kn.Ys.Xg;this.hce.width=n*r,this.hce.height=i*r,t.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight)}},i.Ice=function(){null===this.Lce&&(this.Bce(),this.Oce?this.Lce=this.Oce.requestAnimationFrame(this.Fce):(this.Vce(),Hr("XR: Attempted to start animation loop without inline or immersive session.")))},i.Ace=function(){null!==this.Lce&&(this.Vce(),this.Oce?this.Oce.cancelAnimationFrame(this.Lce):Hr("XR: Attempted to stop animation loop by cancelAnimationFrame even though there is no session running."),this.Lce=null)},i.Bce=function(){var t=this;if(null===this.Wce){var n=this.ta.wI();if(void 0!==n&&n instanceof HTMLVideoElement){if("function"==typeof n.requestVideoFrameCallback){var i=function(){t.pce.kue(t.ta),t.Wce=n.requestVideoFrameCallback(i)};this.Uce=n,this.Wce=n.requestVideoFrameCallback(i)}}else Hr("No video source.")}},i.Vce=function(){var t,n;null!==this.Wce&&(null==(n=this.Uce)||null==(t=n.cancelVideoFrameCallback)||t.call(n,this.Wce),this.Uce=null,this.Wce=null)},i.Gce=function(){return!!this.Hce||(Gn.Ka?this.Zce&&this.Xce:this.Zce)},i.zce=function(){var t=this,n=DeviceMotionEvent.requestPermission;"function"==typeof n&&n().then((function(n){t.Xce="granted"===n}))},i.qce=function(){return(!this.ZR()||Boolean(this.Yce))&&this.Kce()},i.ZR=function(){return this.ta.ZR},i.Kce=function(){return this.ta.tI>=2},i.$Dt=function(t,n){zr(t),this.yo(new wk(new td(n,t)))},i.cce=function(){var t=this.ta.Ya();return t&&t.vr},i.gn=function(){this.cW.Xw(),this.Sce(),this.Bo(),this.ta=void 0,this.qae=void 0},Nt(n,[{key:"lce",get:function(){return this.jce},set:function(t){var n=this.Rft;this.jce=t,this.Rft!==n&&this.yo(new e1)}},{key:"_ce",get:function(){return this.fce!==FS.NONE}},{key:"fce",get:function(){return this.Qce},set:function(t){var n=this.Rft;this.Qce=t,this.Rft!==n&&this.yo(new e1)}},{key:"uce",get:function(){return this.Jce},set:function(t){var n=this.Rft;this.Jce=t,this.Rft!==n&&this.yo(new e1)}},{key:"$ce",get:function(){return this.uce}},{key:"Oce",get:function(){return this.Pce||this.xce}},{key:"Pce",get:function(){return this.Hce},set:function(t){var n=this.Rft;this.Hce=t,this.Rft!==n&&this.yo(new e1)}},{key:"tle",get:function(){return this.Dce||this.Rce}},{key:"ele",get:function(){var t=this.sle.mae();return{yaw:t.gae*a4,pitch:t.pae*a4,roll:t.wae*a4}},set:function(t){var n=j4(t&&t.pitch||0)*o4,i=j4(t&&t.roll||0)*o4,r=j4(t&&t.yaw||0)*o4,e=new v4(r,n,i),u=this.sle.mae(),s=this.nle.mae();this.sle=e.yae(),this.nle=e.yF(u).yO(s).yae()}},{key:"Lae",get:function(){var t=this.nle.mae();return{yaw:t.gae,pitch:t.pae,roll:t.wae}},set:function(t){var n=K4(t&&t.pitch||0),i=K4(t&&t.roll||0),r=K4(t&&t.yaw||0),e=new v4(r,n,i);this.nle=e.yae()}},{key:"Rft",get:function(){return this.lce?this.Pce?l4.qa:l4.Sae:l4.Rs}},{key:"rle",get:function(){return null!==this.Pce},set:function(t){var n=this.rle;t&&this.uce?this.Cce():this.kce(),this.rle!==n&&this.yo(new w4)}},{key:"ole",get:function(){return this.Zce},set:function(t){null===this.Hce&&(this.Zce=t,t&&Gn.Ka&&this.zce())}},{key:"hle",get:function(){return this.Oue},set:function(t){t&&t>=0&&t<=180&&(this.Oue=t,null!==this.xce&&this.xce.updateRenderState({inlineVerticalFieldOfView:this.Oue*o4}))}}]),n}(na);function j4(t){return or(t+180,360)-180}function K4(t){return or(t+k.PI,2*k.PI)-k.PI}function q4(t,n){return"function"==typeof t.getAll?J4(void 0===n?t.getAll():t.getAll(n)):function(t){var n=new Zc,i=[];return t.onsuccess=function(){var r=t.result;r&&r.value?(i.push(r.value),r.continue()):n.Mb(i),ut()},t.onerror=function(){n.Lb(t.error),ut()},n.Bb}(void 0===n?t.openCursor():t.openCursor(n))}function J4(t){return new et((function(n,i){t.onsuccess=function(){n(t.result),ut()},t.onerror=function(){i(t.error),ut()}}))}Uk((function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Bae=new Y4(r),r}It(n,t);var i=n.prototype;return i.ma=function(){return Eg(t.prototype.ma.call(this),{vr:this.Bae.ga})},i.gn=function(){this.Bae.gn(),t.prototype.gn.call(this)},n}(t)}),Bk.nu),F(),Tt(),F(),Tt(),F(),Tt(),Gt(),Dt(),qt(),F(),Tt(),Gt(),qt(),F(),Tt(),Gt(),Dt(),qt(),F(),Tt(),Gt(),nn(),qt(),At();var Q4=function(){function t(t){var n=this;this.brt=t,this.Yh=!0,this.Bb=new et((function(t,i){n.brt.oncomplete=function(){n.Yh=!1,t(),ut()},n.brt.onerror=function(){n.Yh&&(n.Yh=!1,i(n.brt.error||new p("Transaction error")),ut())},n.brt.onabort=function(){n.Yh=!1,i(new p("Transaction aborted")),ut()}}))}return t.prototype.Xw=function(){if(this.Yh)try{this.brt.abort(),this.Yh=!1}catch(t){}},t}();function $4(t,n,i){return t5.apply(this,arguments)}function t5(){return t5=Zt((function(t,n,i){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:r=new Q4(t),s.label=1;case 1:return s.trys.push([1,3,4,5]),[4,et.all([n(i),r.Bb])];case 2:return e=tn.apply(void 0,[s.sent(),1]),[2,e[0]];case 3:if(u=s.sent(),!r.Yh)throw new y1("IDBTransaction committed prematurely",u);throw u;case 4:return r.Xw(),[7];case 5:return[2]}}))})),t5.apply(this,arguments)}var n5=function(){function t(t,n){this.QE=t,this.dle=n}var n=t.prototype;return n.urt=function(t){return et.resolve("persistent"===t)},n.crt=function(t,n){return void 0===n&&(n="persistent"),"persistent"!==n?et.reject(_M(n)):J4(this.lle(bM.Irt).put(t))},n.lrt=function(t,n){void 0===n&&(n="persistent");var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:if("persistent"!==n)return[2,et.reject(_M(n))];r=0,u.label=1;case 1:return r<t.length?(e=t[r],[4,i.crt(e,n)]):[3,4];case 2:u.sent(),u.label=3;case 3:return r++,[3,1];case 4:return[2]}}))}))()},n.Ib=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.Cb(t)];case 1:return[2,Boolean.apply(void 0,[i.sent()])]}}))}))()},n.Cb=function(t){return J4(this.lle(bM.Rrt).get(t))},n.drt=function(t,n){return J4(this.lle(bM.Rrt).index(n).get(t))},n.ert=function(t){var n=this;return Zt((function(){var i,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:i=[],r=0,s.label=1;case 1:return r<t.length?(e=t[r],[4,n.Cb(e)]):[3,4];case 2:(u=s.sent())&&i.push(u),s.label=3;case 3:return r++,[3,1];case 4:return[2,i]}}))}))()},n.frt=function(){return q4(this.lle(bM.Rrt))},n._rt=function(t){return q4(this.lle(bM.Rrt),t)},n.vrt=function(t,n){return q4(this.lle(bM.Rrt).index(n),t)},n.jS=function(t){return J4(this.lle(bM.Irt).delete(t))},n.mrt=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:i=0,e.label=1;case 1:return i<t.length?(r=t[i],[4,n.jS(r)]):[3,4];case 2:e.sent(),e.label=3;case 3:return i++,[3,1];case 4:return[2]}}))}))()},n.grt=function(){return J4(this.lle(bM.Irt).clear())},n.lle=function(t){if(!this.dle)throw new p("Lock was released");if(!function(t,n){return t===bM.Rrt&&n===bM.Rrt||n===bM.Irt}(t,this.dle.mode))throw new p("Incompatible transaction mode: "+this.dle.mode+", expected "+t);return this.dle.objectStore(this.l)},n.fle=function(){this.QE._le(this),this.dle=void 0},Nt(t,[{key:"l",get:function(){return this.QE.l}}]),t}();var i5=function(){function t(t,n){this.yxt=void 0,this.Go=new ad,this.ple=t,this.l=n}var n=t.prototype;return n.urt=function(t){return et.resolve("persistent"===t)},n.crt=function(t,n){return void 0===n&&(n="persistent"),"persistent"!==n?et.reject(_M(n)):this.brt(bM.Irt,(function(n){return n.crt(t)}))},n.lrt=function(t,n){return void 0===n&&(n="persistent"),"persistent"!==n?et.reject(_M(n)):this.brt(bM.Irt,(function(n){return n.lrt(t)}))},n.Ib=function(t){return this.brt(bM.Rrt,(function(n){return n.Ib(t)}))},n.Cb=function(t){return this.brt(bM.Rrt,(function(n){return n.Cb(t)}))},n.drt=function(t,n){return this.brt(bM.Rrt,(function(i){return i.drt(t,n)}))},n.ert=function(t){return this.brt(bM.Rrt,(function(n){return n.ert(t)}))},n.frt=function(){return this.brt(bM.Rrt,(function(t){return t.frt()}))},n._rt=function(t){return this.brt(bM.Rrt,(function(n){return n._rt(t)}))},n.vrt=function(t,n){return this.brt(bM.Rrt,(function(i){return i.vrt(t,n)}))},n.jS=function(t){return this.brt(bM.Irt,(function(n){return n.jS(t)}))},n.mrt=function(t){return this.brt(bM.Irt,(function(n){return n.mrt(t)}))},n.grt=function(){return this.brt(bM.Irt,(function(t){return t.grt()}))},n.Nxt=function(t){return this.vle(),this.yxt=new n5(this,t),this.yxt},n.vle=function(){if(void 0!==this.yxt)throw new p("Already locked")},n._le=function(t){if(this.yxt!==t)throw new p("Incorrect lock");this.yxt=void 0},n.Wo=function(t){return this.Go.Wo(t)},n.brt=function(t,n){var i=this;return this.Wo((function(){return i.mle(t,n)}))},n.mle=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:i.vle(),r=i.ple.transaction(i.l,t),e=i.Nxt(r),u.label=1;case 1:return u.trys.push([1,,3,4]),[4,$4(r,n,e)];case 2:return[2,u.sent()];case 3:return e.fle(),[7];case 4:return[2]}}))}))()},n.wle=function(t){this.vle();var n=this.ple.transaction(this.l,t);return this.Nxt(n)},t.yle=function(t,n){var i,r=new et((function(t){i=t})),e=t.reduce((function(t,n){return t.then((function(){var t,i=new et((function(n){t=n}));return n.Wo((function(){return t(),r})).catch(pi),i}))}),et.resolve());return i(e.then(n)),r},t}();F(),Tt(),Dt(),F(),Tt(),Gt(),qt(),F(),Tt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Gt(),qt();var r5={XD:17,ble:Zt((function(t){var n,i,r,e;return Ht(this,(function(u){if(n=t.transaction,i=t.database,(r=n.objectStoreNames)&&r.length)for(e=0;e<r.length;e++)i.deleteObjectStore(r[e]);return i.createObjectStore(h5,{keyPath:"id"}),i.createObjectStore(f5,{keyPath:"key"}),i.createObjectStore(v5,{keyPath:"key"}),i.createObjectStore(d5,{keyPath:"segmentURLsegmentByteRange"}).createIndex("manifestURL","manifestURL"),i.createObjectStore(l5,{keyPath:"segmentURLsegmentByteRange"}).createIndex("manifestURL","manifestURL"),[2]}))}))},e5=function(){function t(t){this.Tle=t}return t.prototype.Ale=function(t){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:i=0,r=n.Sle,u.label=1;case 1:return i<r.length?(e=r[i],n.Tle<e.XD?[4,e.ble(t)]:[3,3]):[3,4];case 2:u.sent(),u.label=3;case 3:return i++,[3,1];case 4:return[2]}}))}))()},t}(),u5=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),Nt(n,[{key:"Sle",get:function(){return[r5]}}]),n}(e5),s5=function(){function t(){this.Ele=function(t){return new u5(t)}}var n=t.prototype;return n.kle=function(t){this.Ele=t},n.uit=function(t){return this.Ele(t)},t}(),o5=new s5,a5="theoplayer-cache-database",c5=18,h5="cachingTask",f5="licences",v5="manifest",d5="segment",l5="segmentMetadata";function g5(){return g5=Zt((function(){var t;return Ht(this,(function(n){switch(n.label){case 0:return function(){if("undefined"==typeof indexedDB)throw new p("Indexed database unavailable")}(),(t=indexedDB.open(a5,c5)).addEventListener("upgradeneeded",w5),[4,J4(t)];case 1:return[2,n.sent()]}}))})),g5.apply(this,arguments)}function w5(t){return m5.apply(this,arguments)}function m5(){return m5=Zt((function(t){var n,i,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return n=t.oldVersion<=c5?t.oldVersion:-1,i=t.target,r=i.result,e=i.transaction,u=o5.uit(n),[4,$4(e,(function(t){return u.Ale(t)}),{database:r,transaction:e})];case 1:return s.sent(),[2]}}))})),m5.apply(this,arguments)}var y5=function(){function t(){}return Nt(t,null,[{key:"Lg",get:function(){return this.Wrt||(this.Wrt=function(){return g5.apply(this,arguments)}()),this.Wrt}}]),t}();y5.Wrt=void 0,F(),Tt();var p5=function(){function t(t,n){this.Trt=t.Trt.Nxt(n),this.Srt=t.Srt.Nxt(n),this.krt=t.krt.Nxt(n),this.Ert=t.Ert.Nxt(n),this.xrt=t.xrt.Nxt(n)}var n=t.prototype;return n.brt=function(t){return t(this)},n.fle=function(){this.Trt.fle(),this.Srt.fle(),this.krt.fle(),this.Ert.fle(),this.xrt.fle()},t}(),_5=function(){function t(t){this.ple=t,this.Trt=new i5(t,l5),this.Srt=new i5(t,d5),this.krt=new i5(t,v5),this.Ert=new i5(t,h5),this.xrt=new i5(t,f5)}var n=t.prototype;return n.brt=function(t){var n=this,i=this.allCollections;return i5.yle(i,(function(){return n.mle(i,t)}))},n.mle=function(t,n){var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:r=t.map((function(t){return t.l})),e=i.ple.transaction(r,bM.Irt),u=new p5(i,e),s.label=1;case 1:return s.trys.push([1,,3,4]),[4,$4(e,n,u)];case 2:return[2,s.sent()];case 3:return u.fle(),[7];case 4:return[2]}}))}))()},t.uit=function(){return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,y5.Lg];case 1:return[2,new t(n.sent())]}}))}))()},Nt(t,[{key:"allCollections",get:function(){return[this.Srt,this.Trt,this.krt,this.Ert,this.xrt]}}]),t}();RM.ja(_5.uit),F(),Tt(),Dt(),Rt(),F(),Tt();var b5=function(t){function n(n,i){var r;return(r=t.call(this)||this).cle=n,r.lst=i,r.cle.yn("rat",r.Ds),r}return It(n,t),n.prototype.ule=function(t,n,i){var r,e;if(void 0===i&&(i="persistent"),!t)throw new p("Unexpected - The source description is undefined");if(r=rE(t),e=S2(n),GS(r))throw new p("Invalid source description");return this.cle.qte(r,e).ga},Nt(n,[{key:"ga",get:function(){return this.Za||(this.Za=function(t){var n,i={get status(){return t.Hk},get tasks(){return t.Jte},get network(){return t.WX.ga},createTask:function(n,i){return t.ule(n,i)},addEventListener:function(t,i){n.yn(t,i)},removeEventListener:function(t,i){n.fn(t,i)}};return n=new iR(t,i),i}(this)),this.Za}},{key:"Hk",get:function(){return this.cle.Hk}},{key:"Jte",get:function(){return this.cle.Jte.ga}},{key:"WX",get:function(){return this.lst}}]),n}(ra);var k5=function(){var t=new FI(Kn.aR,!1),n=RM.Lg,i=new P2(t),r=new k2(n,i),e=new WI(t),u=new l1(n.Ert,r,"persistent");return new b5(u,e)}().ga;F(),Tt(),F(),Tt(),Rt(),F(),Tt(),Dt();var A5=function(){function t(t){this.Za=void 0,this.lj=t}var n=t.prototype;return n.xle=function(t){for(var n=this.lj.fR(),i=t.createGain(),r=0;r<n.length;r++){var e=n[r];t.createMediaElementSource(e).connect(i)}return i},n.ma=function(){var t=this;return{createAudioSourceNode:function(n){return t.xle(n)}}},Nt(t,[{key:"ga",get:function(){return this.Za||(this.Za=this.ma()),this.Za}}]),t}();Uk((function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Rle=new A5(r.xa),r}return It(n,t),n.prototype.ma=function(){var n=this.Rle.ga;return Eg(t.prototype.ma.call(this),{get audio(){return n}})},n}(t)}),Bk.nu),F(),Tt(),F(),Tt(),Rt();Uk((function(t){return function(t){function n(n,i){return t.call(this,n,i)||this}It(n,t);var i=n.prototype;return i.ka=function(i){var r=n.Ile(this.md.analytics),e=n.Ile(i?i.analytics:void 0);r||e?this.Cle($u({},r,e)):this.Ple&&this.Ple.disable(),t.prototype.ka.call(this,i)},i.Cle=function(t){if(this.Ple)this.Ple.enable(),this.Ple.setOptions(t);else{var n=f.youbora;if(!n)throw new p("Youbora JavaScript library not loaded.");if(!n.adapters.TheoPlayer2)throw new p("TheoPlayer2 adapter not available on Youbora JavasScript library");var i=new n.Plugin(t);i.setAdapter(new n.adapters.TheoPlayer2(this.ga)),this.Vc&&n.adapters.TheoPlayer2.NativeAdsAdapter&&i.setAdsAdapter(new n.adapters.TheoPlayer2.NativeAdsAdapter(this.ga)),this.Ple=i}},i.gn=function(){this.Ple&&this.Ple.disable(),t.prototype.gn.call(this)},n.Ile=function(t){if(t){var n=t.filter((function(t){return"youbora"===t.integration}));if(0===n.length)return;if(n.length>1)throw new p("Only one youbora analytics configuration expected");var i=n[0];i.integration;return Kp(i,["integration"])}},n}(t)}),Bk.Mst),F(),Tt(),F(),Tt(),Rt(),F(),Tt(),Dt(),Rt();var T5=1,S5=0,E5=1e3,I5=function(t){function n(n,i,r,e,u,s){var o;return void 0===e&&(e=MMPlayerState),void 0===u&&(u=MMAdState),void 0===s&&(s=MMPresentationInfo),(o=t.call(this)||this).ta=n,o.IT=i,o.Mle=r,o.tde=e,o.ede=u,o.Lle=s,o.ide=!0,o.Fle=!1,o.Gle=void 0,o.Wle=void 0,o.sde=void 0,o.qle=function(t){var n,i=t.tnt,r=(i.JJt(),n=i.Xst().duration,"linear"===i.Xst().type);i.$Jt(),i.KJt();r&&(o.Fle=!0),o.Ule=o.ede.AD_IMPRESSION,o.Ule=o.ede.AD_STARTED},o.Yle=function(t){o.Fle=!1,o.Ule=o.ede.AD_COMPLETED},o.Kle=function(t){t.ujt===DJ.ADBLOCK?o.Ule=o.ede.AD_BLOCKED:o.Ule=o.ede.AD_ERROR},o.jle=function(){o.Ule=o.ede.AD_SKIPPED},o.Jle=function(t){var n,i,r,e;t.bE===jg.lE&&(o.sde&&t.gz!==o.sde&&o.Mle.reportABRSwitch(o.sde,t.gz),o.sde=t.gz,o.Mle.reportChunkRequest(new MMChunkInformation(t.bN,t.gz,t.JM,t.Uut.qu,void 0,void 0,null!=(r=null==(n=t.Uut.iut)?void 0:n[0])?r:0,null!=(e=null==(i=t.Uut.iut)?void 0:i[1])?e:-1)))},o.hoe=function(t){o.Vle=o.tde.STOPPED,o.yo(t)},o.M6=function(t){o.Vle=o.tde.ERROR,o.Mle.reportError(t.error,o.Ble())},o.Qle=function(){o.Ole?o.Ule=o.ede.AD_PAUSED:o.Vle=o.tde.PAUSED},o.yce=function(){o.Ole&&(o.Ule=o.ede.AD_PLAY)},o.TX=function(){o.Ole?(o.Gle===o.ede.AD_PAUSED&&(o.Ule=o.ede.AD_RESUMED),o.Ule=o.ede.AD_PLAYING):(o.ide&&(o.ide=!1,o.Dle(),o.Vle=o.tde.STARTED),o.Vle!==o.tde.PAUSED&&o.Vle!==o.tde.BUFFERING||(o.Vle=o.tde.RESUMED))},o.LY=function(){o.Mle.reportPresentationSize(o.ta.cI,o.ta.hI)},o.EX=function(t){o.Ole||o.Vle!==o.tde.PAUSED||o.Mle.reportPlayerSeekCompleted(t.currentTime*E5)},o.AX=function(){o.Ole||(o.Vle=o.tde.BUFFERING)},o.Xle=function(){o.Mle.reportDownloadRate(k.floor(pk.Lg.rG()))},o.Zle=function(){o.Ole||o.Mle.reportPlaybackPosition(o.Ble())},o.Vle=o.tde.INITIALIZED,o.sMt(),o.$le=o.Hle(),o}It(n,t);var i=n.prototype;return i.Dle=function(){var t=this.ct===1/0,n=t?T5:S5,i=t?-1:this.ct,r=bo(this.ta.rt.oC,this.Nle);this.Mle.setPresentationInformation(new this.Lle(n,i,r))},i.Nle=function(t){for(var n=t.EC.oC,i=[],r=0;r<n.length;r++){var e=n[r];e.ji&&e.Ti&&i.push({trackIdx:r,bitrate:e.mG,width:e.ji,height:e.Ti,codecIdentifier:e.Urt})}return i},i.Ble=function(){return this.ta.bR()*E5},i.Hle=function(){var t=this;return m((function(){t.Zle(),t.Xle()}),n.zle)},i.sMt=function(){this.ta.Vc&&(this.ta.Vc.yn("nnt",this.qle),this.ta.Vc.yn("rnt",this.Yle),this.ta.Vc.yn("e2t",this.Kle),this.ta.Vc.yn("F2t",this.jle)),this.ta.yn(ua.xy,this.hoe),this.ta.yn(Vy.ua,this.M6),this.ta.yn(ua.Uy,this.Qle),this.ta.yn(ua.so,this.yce),this.ta.yn(wp.BL,this.TX),this.ta.yn(ua.Xy,this.LY),this.ta.yn(ua.zy,this.EX),this.ta.yn(wp.LL,this.AX),this.ta.yn(ua.Ky,this.Jle)},i.nMt=function(){this.ta.Vc&&(this.ta.Vc.fn("nnt",this.qle),this.ta.Vc.fn("rnt",this.Yle),this.ta.Vc.fn("e2t",this.Kle),this.ta.Vc.fn("F2t",this.jle)),this.ta.fn(ua.xy,this.hoe),this.ta.fn(Vy.ua,this.M6),this.ta.fn(ua.Uy,this.Qle),this.ta.fn(ua.so,this.yce),this.ta.fn(wp.BL,this.TX),this.ta.fn(ua.Xy,this.LY),this.ta.fn(ua.zy,this.EX),this.ta.fn(wp.LL,this.AX),this.ta.fn(ua.Ky,this.Jle)},i.gn=function(){y(this.$le),this.nMt()},Nt(n,[{key:"ct",get:function(){return this.ta._d()*E5}},{key:"Ole",get:function(){return this.Fle}},{key:"Vle",get:function(){return this.Wle},set:function(t){this.Wle=t,t&&this.Mle.reportPlayerState(t)}},{key:"Ule",set:function(t){this.Gle=t}}]),n}(rw);I5.zle=2e3,Uk((function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).ode=void 0,r.hde=void 0,r.ade=function(){r.hde=void 0,r.rde();var n=t.prototype.Ya.call(RZ(r));n&&(r.hde=function(t,n){var i=function(t,n){if(t&&t.analytics)for(var i=0,r=t.analytics;i<r.length;i++){var e=r[i];if("smartsight"===e.integration)return e}if(n&&n.analytics)for(var u=0,s=n.analytics;u<s.length;u++){var o=s[u];if("smartsight"===o.integration)return o}return}(t,n);if(!i)return;return i}(n,r.md)),r.ude()},r.ude=function(){if(!r.ode&&r.hde&&r.bt&&r.bt.src&&!r.ZR){var t=MMSmartStreaming.getInstance();!function(t,n,i){t.registerMMSmartStreaming(i.playerName,i.customerID,i.subscriberID,i.domainName),t.reportComponent("THEOSDK"),t.reportPlayerInfo("THEOplayer","THEOplayer","9.0.0"),t.reportDeviceInfo(void 0,void 0,void 0,void 0,void 0,f.innerWidth,f.innerHeight),t.initializeSession("QBRModeDisabled",n,i.metaURL,i.assetID)}(t,r.bt.src,r.hde),r.ode=new I5(r,r.hde,t),r.ode.yn("ended",r.rde)}},r.rde=function(){r.ode&&(r.ode.gn(),r.ode=void 0)},r.yn(ua.ro,r.ade),r.yn(ua.yy,r.ude),r.yn(ua.so,r.ude),r}return It(n,t),n.prototype.gn=function(){t.prototype.gn.call(this),this.rde()},n}(t)}),Bk.Mst),F(),Tt(),F(),Tt(),Dt(),Rt();var R5=String.fromCharCode(95);var C5=function(){function t(n,i,r,e){var u=this;this._de=function(n){u.mde({type:t.gde(n.type)})},this.US=n,this.bse=i,this.r_=r,this.u0t=e,this.lde=[],this.Xf=[]}var n=t.prototype;return n.fde=function(){for(var t in google.ima.AdEvent.Type){var n=google.ima.AdEvent.Type[t];this.bse.addEventListener(n,this._de),this.lde.push({type:n,listener:this._de})}},n.vde=function(){for(var t in po(this.lde),google.ima.AdEvent.Type){var n=google.ima.AdEvent.Type[t];this.bse.removeEventListener(n,this._de)}},n.mde=function(t){this.Xf.push({type:t.type,adVolume:this.adsManager.getVolume()})},n.dde=function(){null==this.cde||this.cde.call(this,this.Xf),this.Xf=[]},t.gde=function(n){return t.pde[n]||n},Nt(t,[{key:"ga",get:function(){return this.Za||(this.Za=function(t){return{get adsManager(){return t.adsManager},get ids(){return t.ids},get adContainer(){return t.adContainer},get imaSDK(){return t.imaSDK},get sendEvent(){return t.sendEvent},set sendEvent(n){t.sendEvent=n}}}(this)),this.Za}},{key:"id",get:function(){return this.US}},{key:"adsManager",get:function(){return this.bse}},{key:"ids",get:function(){return this.r_}},{key:"adContainer",get:function(){return this.u0t}},{key:"sendEvent",get:function(){return this.cde},set:function(t){for(var n=0,i=this.lde;n<i.length;n++){var r=i[n];this.bse.removeEventListener(r.type,r.listener)}this.lde=[],this.cde=t,this.dde()}},{key:"imaSDK",get:function(){return!0}}]),t}();C5.pde={loaded:"AdLoaded",impression:"AdImpression",start:"AdVideoStart",firstQuartile:"AdVideoFirstQuartile",midpoint:"AdVideoMidpoint",thirdQuartile:"AdVideoThirdQuartile",complete:"AdVideoComplete",pause:"AdPaused",skip:"AdSkipped",volumeChange:"AdVolumeChange"};var N5=function(){function t(){this.yde=void 0,this.bde=void 0}var n=t.prototype;return n.wde=function(t,n){this.yde=v.createElement("script"),this.yde.id=t.id,this.yde.type="text/javascript",t.adContainer.appendChild(this.yde),this.yde.src="https://z.moatads.com/"+n+"/moatvideo.js#"+t.id,this.bde=t.id,f[this.bde]=t.ga},n.Ade=function(){this.yde&&oi(this.yde),this.bde&&(f[this.bde]=void 0)},t}();Uk((function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).xde=void 0,r.Pde=void 0,r.Tde=void 0,r.u0t=void 0,r.Ede=function(){r.Cde(r.Tde,{partnerCode:r.xde.partnerCode,viewMode:google.ima.ViewMode.NORMAL},r.u0t)},r.G8t=function(t){r.Tde=t.yse,r.u0t=t.k7t,r.Sde(),r.Tde.addEventListener(google.ima.AdEvent.Type.COMPLETE,r.kde),r.Tde.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,r.Sde),r.Tde.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,r.Ede)},r.kde=function(t){var n=t.getAd().getAdPodInfo();n.getAdPosition()<n.getTotalAds()&&(r.Sde(),r.Ede())},r.Sde=function(){r.Pde&&(r.Pde.vde(),r.Pde=void 0),r.Dde.Ade()},r.Dde=new N5,r}It(n,t);var i=n.prototype;return i.ka=function(i){var r,e,u;this.Sde(),null==(r=this.Tde)||r.removeEventListener(google.ima.AdEvent.Type.COMPLETE,this.kde),null==(e=this.Tde)||e.removeEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.Sde),null==(u=this.Tde)||u.removeEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.Ede),this.Tde=void 0,this.u0t=void 0,t.prototype.ka.call(this,i);var s=i&&i.analytics;this.xde=n.Rde(s),this.Vc&&this.xde&&V0()&&this.Ide()},i.gn=function(){var n,i,r;this.Sde(),null==(n=this.Tde)||n.removeEventListener(google.ima.AdEvent.Type.COMPLETE,this.kde),null==(i=this.Tde)||i.removeEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.Sde),null==(r=this.Tde)||r.removeEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.Ede),this.Tde=void 0,this.u0t=void 0,this.Vc&&this.Vc.fn("U8t",this.G8t),t.prototype.gn.call(this)},i.Ide=function(){this.Vc&&this.Vc.yn("U8t",this.G8t)},i.Cde=function(t,n,i){var r=R5+"moatApi"+k.floor(1e8*k.random());this.Pde=new C5(r,t,n,i),this.Pde.fde(),this.Dde.wde(this.Pde,this.xde.partnerCode)},n.Rde=function(t){if(t){var n=t.filter((function(t){return"moat"===t.integration}));if(0===n.length)return;if(n.length>1)throw new p("Only one Moat analytics configuration expected");return n[0]}},n}(t)}),Bk.Mst),F(),Tt(),F(),Tt(),Rt(),F(),Tt(),Rt();var D5=function(t){function n(n,i,r){var e;return(e=t.call(this,n,new Date)||this).Nde=i,e.tnt=r,e}return It(n,t),n}(ea),P5=function(t){return t.LOADED="DAILoaded",t.AD_BREAK_STARTED="DAIAdBreakStarted",t.AD_BREAK_ENDED="DAIAdBreakEnded",t.AD_PERIOD_STARTED="DAIAdPeriodStarted",t.AD_PERIOD_ENDED="DAIAdPeriodEnded",t.AD_PROGRESS="DAIAdProgress",t.CUEPOINTS_CHANGED="DAICuePointsChanged",t.CLICK="DAIClick",t.ERROR="DAIError",t.STARTED="DAIStarted",t.FIRST_QUARTILE="DAIFirstQuartile",t.MIDPOINT="DAIMidpoint",t.STREAM_INITIALIZED="DAIStreamInitialized",t.THIRD_QUARTILE="DAIThirdQuartile",t.COMPLETE="DAIComplete",t}({}),x5=function(t){function n(n,i){return t.call(this,"DAILoaded",n,i)||this}return It(n,t),n}(D5),L5=function(t){function n(n,i){return t.call(this,"DAIAdBreakStarted",n,i)||this}return It(n,t),n}(D5),M5=function(t){function n(n,i){return t.call(this,"DAIAdBreakEnded",n,i)||this}return It(n,t),n}(D5),O5=function(t){function n(n,i){return t.call(this,"DAIAdProgress",n,i)||this}return It(n,t),n}(D5),B5=function(t){function n(n,i){return t.call(this,"DAICuePointsChanged",n,i)||this}return It(n,t),n}(D5),V5=function(t){function n(n,i){return t.call(this,"DAIClick",n,i)||this}return It(n,t),n}(D5),F5=function(t){function n(n,i){return t.call(this,"DAIError",n,i)||this}return It(n,t),n}(D5),U5=function(t){function n(n,i){return t.call(this,"DAIStarted",n,i)||this}return It(n,t),n}(D5),W5=function(t){function n(n,i){return t.call(this,"DAIFirstQuartile",n,i)||this}return It(n,t),n}(D5),Z5=function(t){function n(n,i){return t.call(this,"DAIMidpoint",n,i)||this}return It(n,t),n}(D5),X5=function(t){function n(n,i){return t.call(this,"DAIStreamInitialized",n,i)||this}return It(n,t),n}(D5),G5=function(t){function n(n,i){return t.call(this,"DAIThirdQuartile",n,i)||this}return It(n,t),n}(D5),H5=function(t){function n(n,i){return t.call(this,"DAIComplete",n,i)||this}return It(n,t),n}(D5);var z5=function(t){function n(n,i,r){var e;(e=t.call(this)||this).Qre=n,e.l0t=i,e.Yde=r,e.Ode=function(t){e.Bde(!0);var n=j5(t),i=q5(t);e.yo(new L5(n,i))},e.qde=function(t){e.Bde(!1);var n=j5(t),i=q5(t);e.yo(new M5(n,i))},e.Fde=function(t){var n=j5(t),i=q5(t);e.yo(new O5(n,i))},e.L$t=function(t){var n=j5(t),i=q5(t);e.yo(new V5(n,i))},e.Vde=function(t){var n=j5(t),i=q5(t);e.yo(new H5(n,i))},e.Wde=function(t){var n=j5(t),i=q5(t);e.yo(new B5(n,i))},e.Ss=function(t){var n=j5(t),i=q5(t);e.yo(new F5(n,i))},e.Ude=function(t){var n=j5(t),i=q5(t);e.yo(new W5(n,i))},e.Gde=function(t){var n=j5(t),i=q5(t);e.yo(new x5(n,i))},e.Hde=function(t){var n=j5(t),i=q5(t);e.yo(new Z5(n,i))},e.Zde=function(t){var n=j5(t),i=q5(t);e.yo(new U5(n,i))},e.Xde=function(t){var n=j5(t),i=q5(t);e.yo(new X5(n,i))},e.zde=function(t){var n=j5(t),i=q5(t);e.yo(new G5(n,i))},e.l0t&&(e.l0t.style.display="none",e.Qre.setClickElement(e.l0t));var u=google.ima.dai.api.StreamEvent.Type;return e.Qre.addEventListener(u.AD_BREAK_STARTED,e.Ode),e.Qre.addEventListener(u.AD_PROGRESS,e.Fde),e.Qre.addEventListener(u.CLICK,e.L$t),e.Qre.addEventListener(u.COMPLETE,e.Vde),e.Qre.addEventListener(u.CUEPOINTS_CHANGED,e.Wde),e.Qre.addEventListener(u.ERROR,e.Ss),e.Qre.addEventListener(u.FIRST_QUARTILE,e.Ude),e.Qre.addEventListener(u.LOADED,e.Gde),e.Qre.addEventListener(u.MIDPOINT,e.Hde),e.Qre.addEventListener(u.STARTED,e.Zde),e.Qre.addEventListener(u.STREAM_INITIALIZED,e.Xde),e.Qre.addEventListener(u.THIRD_QUARTILE,e.zde),e.Qre.addEventListener(u.AD_BREAK_ENDED,e.qde),e}It(n,t);var i=n.prototype;return i.replaceAdTagParameters=function(t){return this.Qre.replaceAdTagParameters(null!=t?t:null)},i.Mde=function(t){return this.Qre.contentTimeForStreamTime(t)},i.Lde=function(t){return this.Qre.streamTimeForContentTime(t)},i.LWt=function(t,n){var i=function(t){return"vod"===t.availabilityType?new f.google.ima.dai.api.VODStreamRequest($u({},Y5(t),{contentSourceId:t.contentSourceID,videoId:t.videoID})):new f.google.ima.dai.api.LiveStreamRequest($u({},Y5(t),{assetKey:t.assetKey}))}(t);this.Qre.requestStream(i)},i.tr=function(){this.Bde(!1),this.Qre.reset()},i.gn=function(){this.Bo();var t=google.ima.dai.api.StreamEvent.Type;this.Qre.removeEventListener(t.AD_BREAK_STARTED,this.Ode),this.Qre.removeEventListener(t.AD_PROGRESS,this.Fde),this.Qre.removeEventListener(t.CLICK,this.L$t),this.Qre.removeEventListener(t.COMPLETE,this.Vde),this.Qre.removeEventListener(t.CUEPOINTS_CHANGED,this.Wde),this.Qre.removeEventListener(t.ERROR,this.Ss),this.Qre.removeEventListener(t.FIRST_QUARTILE,this.Ude),this.Qre.removeEventListener(t.LOADED,this.Gde),this.Qre.removeEventListener(t.MIDPOINT,this.Hde),this.Qre.removeEventListener(t.STARTED,this.Zde),this.Qre.removeEventListener(t.STREAM_INITIALIZED,this.Xde),this.Qre.removeEventListener(t.THIRD_QUARTILE,this.zde),this.Qre.removeEventListener(t.AD_BREAK_ENDED,this.qde),this.tr(),this.Yde&&oi(this.Yde)},i.Kde=function(t){this.Qre.onTimedMetadata(t)},i.jde=function(t,n,i){this.Qre.processMetadata(t,n,i)},i.Qde=function(t){var n=this.Qre.previousCuePointForStreamTime(t);if(n)return{BO:n.end,LO:n.start,KR:n.played}},i.Jde=function(t,n){var i=this.Qde(t);if(i){var r=t>n&&i.BO>n,e=i.BO>t&&i.LO<=t;return i.KR||!r&&!e?void 0:i.LO}},i.Bde=function(t){this.l0t&&(this.l0t.style.display=t?"block":"none")},n}(na);function Y5(t){var n,i=google.ima.dai.api.StreamRequest.StreamFormat;return{apiKey:t.apiKey,authToken:t.authToken,format:"dash"===t.format?i.DASH:i.HLS,networkCode:t.networkCode,streamActivityMonitorId:t.streamActivityMonitorID,adTagParameters:t.adTagParameters,omidAccessModeRules:null!=(n=y0(t.omidAccessModeRules))?n:{}}}function j5(t){var n,i=t.getStreamData(),r=i.adProgressData;return r&&(n={_6t:r.adBreakDuration,$de:r.duration,v6t:r.adPosition,yR:r.currentTime,ct:r.duration,m6t:r.totalAds}),{tfe:n,efe:(i.cuepoints||[]).map((function(t){return{LO:t.start,BO:t.end,KR:t.played}})),ife:i.errorMessage||void 0,sfe:i.manifestFormat||void 0,nfe:i.streamId||void 0,rfe:(i.subtitles||[]).map((function(t){return{ofe:t.webvtt,hfe:t.ttml,gs:t.language}})),qu:i.url}}function K5(t){return{IYt:t.getAdSlotId(),P2t:t.getContent(),Ik:t.getContentType(),Ti:t.getHeight(),ji:t.getWidth()}}function q5(t){var n=t.getAd();if(n){var i=n.getAdPodInfo(),r=n.getCompanionAds().map(K5);return{iKt:n.getAdId(),t9t:{v6t:i.getAdPosition(),DJt:i.getMaxDuration(),cse:i.getPodIndex(),ZBt:i.getTimeOffset(),m6t:i.getTotalAds()},Oqt:n.getAdSystem(),dse:n.getAdvertiserName(),xYt:n.getApiFramework(),zqt:r,aYt:n.getCreativeId(),G9t:n.getCreativeAdId(),fse:n.getDealId(),MN:n.getDescription(),ct:n.getDuration(),eH:n.getTitle(),afe:n.getUniversalAdIdRegistry(),ufe:n.getUniversalAdIdValue(),B9t:n.getVastMediaHeight(),L9t:n.getVastMediaWidth(),P9t:n.getWrapperAdIds(),D9t:n.getWrapperAdSystems(),N9t:n.getWrapperCreativeIds()}}}function J5(){var t=v.body.lastElementChild;if(t instanceof HTMLIFrameElement&&"Advertisement"===t.title)return t}F(),Tt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Gt(),Dt(),qt();var Q5="urn:google:dai:2018",$5=function(){function t(t,n,i,r){var e=this;this.coe=void 0,this.HG=void 0,this.ZG=void 0,this.q9=new Ho,this.wfe=!1,this.lfe=!0,this.gfe=function(t){var n=t.Ht;n.Lt===Gy.jV&&(n.pw===kw.ID3||n.pw===kw.EVENT_STREAM&&n.IC===Q5)&&(n.TE=Oy.RC,e.coe=n,n.yn(kg.FI,e.yfe))},this.yfe=function(t){t.DO.yn(Cw.tO,e.bfe)},this.bfe=function(t){var n,i;if(e.Qre)if((null==(n=e.coe)?void 0:n.pw)===kw.ID3){var r=t.DO.U;"TXXX"===r.id&&e.Qre.Kde({TXXX:r.text})}else if((null==(i=e.coe)?void 0:i.pw)===kw.EVENT_STREAM){var u=t.DO.U;e.Qre.jde(Q5,u,t.eV)}},this.ta=t,this.Qre=n,this.ffe=i,this.cfe=r,i&&n&&this.ta.Vc&&this.ta.Vc.Qst(i.q9t)}var n=t.prototype;return n.AR=function(t){this.q9.Xw(),this.q9=new Ho,jo(Uo(this.Ise(t,this.q9.Bw),this.q9))},n.Ise=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return Oo(n),i.ffe&&i.Qre?i.ffe.zst?[2]:(r=i.ta.bR(),i.lfe&&(e=i.Qre.Jde(t,r))?(i.ta._fe(e),[4,i.Qre.uy(P5.AD_BREAK_ENDED,n)]):[3,2]):[2,i.ta._fe(t)];case 1:if(u.sent(),i.Qre.Qde(t).BO>t)return[2];u.label=2;case 2:return i.ta._fe(t),[2]}}))}))()},n.sI=function(){var t=this.ffe&&this.ffe.zst;if(t){var n=AA.xn(this.ta.vfe()),i=t.ZBt,r=i+t.DJt,e=new AA([i,r]);return n.Sn(e).ks()}return this.ta.vfe()},n.gnt=function(t,n){var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:if(!t)return[2,i.ta.mfe(t,n)];r=t,s.label=1;case 1:return s.trys.push([1,3,,4]),i.ta.nt.yn(mg.MI,i.gfe),[4,i.cfe.pfe(t,n)];case 2:return r=s.sent(),i.ffe&&i.Qre&&(i.wfe=!0),[3,4];case 3:if(Bo(e=s.sent()),e.code===Jg.LICENSE_INVALID)return[2];throw u=new td(Qv.SOURCE_NOT_SUPPORTED,"Something went wrong while setting up a Google DAI stream.",e),i.HG=tw(u),i.ZG=u,i.ta.yo(new wk(u)),u;case 4:return[4,i.ta.mfe(r,n)];case 5:return s.sent(),[2]}}))}))()},n.tr=function(){if(this.wfe){if(this.ta.nt.fn(mg.MI,this.gfe),this.coe){this.coe.fn(kg.FI,this.yfe);for(var t=0,n=this.coe.L.oC;t<n.length;t++){n[t].fn(Cw.tO,this.bfe)}this.coe=void 0}this.HG=void 0,this.ZG=void 0,this.q9.Xw(),this.ffe&&this.ffe.tr(),this.Qre&&this.Qre.tr(),this.wfe=!1}},n.gn=function(){this.tr(),this.ta.Tfe(),this.Qre&&this.Qre.gn()},Nt(t,[{key:"ga",get:function(){var t=this,n=this.cfe;return{contentTimeForStreamTime:function(n){return t.Qre?t.Qre.Mde(n):n},streamTimeForContentTime:function(n){return t.Qre?t.Qre.Lde(n):n},replaceAdTagParameters:function(n){t.Qre&&t.Qre.replaceAdTagParameters(n)},get snapback(){return t.lfe},set snapback(n){t.lfe=n},get sourceTransformer(){return n.dfe},set sourceTransformer(t){n.dfe=t}}}},{key:"lt",get:function(){return this.HG||this.ta.Afe()}},{key:"RR",get:function(){return this.ZG||this.ta.Sfe()}}]),t}();F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt();var t6=function(t){function n(n,i,r,e){var u;return void 0===e&&(e=!0),(u=t.call(this,r)||this).Efe=e,u.l2t=n,u.d2t=i,u}return It(n,t),Nt(n,[{key:"kfe",get:function(){return this.Efe}},{key:"jjt",get:function(){return XQ.Xh}}]),n}(N$),n6=function(t){function n(n,i){var r;return(r=t.call(this,new EI,XQ.Xh)||this).Qre=n,r.ta=i,r.Fde=function(t){var n=r.o$t;if(n&&r.jJt){var i=t.Nde.tfe;r.jJt.x9t=i.yR,function(t,n){var i=n.v6t,r=n._6t,e=n.yR,u=fr(t.Vc.slice(0,i-1),(function(t){var n;return null!=(n=t.ct)?n:0}));t.NJt=r-e-u}(n,i)}},r.Wde=function(t){var n=t.Nde.efe;if(n)for(var i=0;i<n.length;i++){var e=n[i];if(!r.Nfe(e.LO)){var u=e.BO-e.LO,s=new t6(u,u,e.LO,!0);r.h$t.push(s)}}},r.Rfe=function(t){r.Cfe(t.type),r.Dfe(t)},r.qde=function(t){r.K9t=!1,r.jJt=void 0;var n=r.zst;n&&(n.NJt=0,r.Pfe(t.type,!1,!1),r.o$t=void 0)},r.xfe(),r}It(n,t);var i=n.prototype;return i.xfe=function(){var t=[P5.STARTED,P5.FIRST_QUARTILE,P5.MIDPOINT,P5.THIRD_QUARTILE,P5.COMPLETE];this.Qre.yn(t,this.Rfe),this.Qre.yn(P5.AD_BREAK_ENDED,this.qde),this.Qre.yn(P5.AD_PROGRESS,this.Fde),this.Qre.yn(P5.CUEPOINTS_CHANGED,this.Wde)},i.Ife=function(t){var n=t.t9t.ZBt,i=this.o$t||this.findAdBreakWithPredicate(n,(function(t){return!t.KR}));if(!i){var r=t.t9t.DJt;n=this.ta.bR(),(i=new t6(r,r,n,!1))._2t(),this.h$t.push(i)}return i},i.Cfe=function(t){switch(t){case P5.STARTED:this.K9t=!0;break;case P5.AD_BREAK_ENDED:this.K9t=!1}},i.Pfe=function(t,n,i){if(n)switch(t){case P5.STARTED:case P5.FIRST_QUARTILE:case P5.MIDPOINT:case P5.THIRD_QUARTILE:case P5.COMPLETE:this.K1t.yo(new VL(this.o$t))}if(i)switch(t){case P5.STARTED:case P5.FIRST_QUARTILE:case P5.MIDPOINT:case P5.THIRD_QUARTILE:case P5.COMPLETE:this.K1t.yo(new UL(this.jJt,this.jJt.x9t))}switch(t){case P5.COMPLETE:this.K1t.yo(new ZL(this.jJt,this.z9t.x9t));break;case P5.AD_BREAK_ENDED:this.K1t.yo(new OL(this.zst))}switch(t){case P5.FIRST_QUARTILE:this.K1t.yo(new z$(this.jJt,this.z9t.x9t));break;case P5.MIDPOINT:this.K1t.yo(new j$(this.jJt,this.z9t.x9t));break;case P5.THIRD_QUARTILE:this.K1t.yo(new q$(this.jJt,this.z9t.x9t))}},i.Dfe=function(t){var n=t.tnt,i=this.Ife(n),r=function(t,n){if(t.Vc.length)return!1;for(var i=0;i<n;i++){var r=new b0(t,P$.Ajt);t.m2t(r)}return!0}(i,n.t9t.m6t),e=function(t,n){var i=n.t9t.v6t-1;return t.Vc[i]}(i,n),u=function(t,n){return t.k2t!==x$.READY&&(t.M9t(n),!0)}(e,n);this.jJt=e,this.o$t=i,i._2t(),this.Pfe(t.type,r,u)},i.Nfe=function(t){for(var n=0,i=this.h$t;n<i.length;n++){var r=i[n];if(sr(t,r.ZBt))return r}},i.findAdBreakWithPredicate=function(t,n){for(var i=0,r=this.h$t;i<r.length;i++){var e=r[i];if(sr(e.ZBt,t)&&n(e))return e}},i.Lfe=function(t,n){for(var i,r=0,e=this.h$t;r<e.length;r++){var u=e[r];u.ZBt>=t&&u.ZBt<=n&&!u.KR&&(!i||u.ZBt>=i.ZBt)&&(i=u)}return i},i.RD=function(){},i.jst=function(t){},i.tr=function(){this.jJt&&(this.K1t.yo(new ZL(this.jJt,this.jJt.x9t)),this.jJt=void 0),this.o$t&&(this.K1t.yo(new OL(this.o$t)),this.o$t=void 0),this.K9t=!1,po(this.h$t)},i.gn=function(){this.tr(),this.K1t.gn()},Nt(n,[{key:"r2t",get:function(){return this.K9t}},{key:"K1t",get:function(){return this.g3t}},{key:"Mfe",get:function(){var t=this.findAdBreakWithPredicate(0,(function(t){return t.kfe})),n=0;return t&&(n=t.DJt),n}}]),n}(E0);F(),Tt(),Gt(),qt();var i6=function(){function t(t){this.Qre=t,this.dfe=function(t){return t}}var n=t.prototype;return n.pfe=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h,f,v;return Ht(this,(function(d){switch(d.label){case 0:for(r=[],e=[],u=0,s=t.sources;u<s.length;u++)if(GA(o=s[u])){if(!i.Qre)continue;r.push(o)}else e.push(o);if(0===r.length)return[2,t];d.label=1;case 1:return void 0!==a||0===r.length?[3,7]:[4,ZT.Lg.qH(r,t)];case 2:h=d.sent().kc,f=h,Oo(n),d.label=3;case 3:return d.trys.push([3,5,,6]),[4,i.Bfe(f,n)];case 4:return a=d.sent(),e.push(a),[3,6];case 5:return Bo(v=d.sent()),c=v,lo(r,f),[3,6];case 6:return[3,1];case 7:if(0!==t.sources.length&&0===e.length)throw new p("Fatal: unable to play DAI streams.");return c&&Hr(c.message),[2,$u({},t,{sources:e})]}}))}))()},n.Bfe=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:if(!i.Qre)throw new p("Could not find Google\u2019s IMA DAI HTML5 SDK, all DAI sources will be ignored.");return r=i.Qre.uy(P5.LOADED,n),e=i.Qre.uy(P5.ERROR,n),u=t.type===oA.GC?"dash":"hls",i.Qre.LWt($u({},t.ssai,{format:u})),[4,et.race([r,e])];case 1:return(s=c.sent()).type!==P5.LOADED?[3,5]:(o=t.type===oA.GC?oA.GC:oA.ZC,i.dfe?[4,i.dfe(s.Nde.qu||"")]:[3,3]);case 2:return a=c.sent(),[3,4];case 3:a=s.Nde.qu,c.label=4;case 4:return[2,fA($u({},t,{src:a,type:o}))];case 5:throw p(s.Nde.ife);case 6:return[2]}}))}))()},t}();Uk(function(t){return function(n){return function(n){function i(i,r){var e;(e=n.call(this,i,r)||this).Ffe=!1,e.Vfe=function(t){13===t.which&&e.l0t.click(),e.bI()};var u,s,o=e.wI(),a=r.ads.googleIma.useAdUiElementForSsai;try{var c;a?(e.Wfe=v.createElement("div"),gi(e.Wfe),e.Wfe.className="theo-dai-ad-ui"):(e.l0t=v.createElement("button"),e.l0t.className="theo-dai-clickthrough"),u=t(o,e.l0t,e.Wfe),s=new n6(u,e);var h=null!=(c=e.l0t)?c:e.Wfe;h&&e.we.appendChild(h),e.Ffe=!0}catch(t){e.l0t=void 0,e.Wfe=void 0}var f=new i6(u);return e.Ofe=new $5(e,u,s,f),e.l0t&&(e.l0t.addEventListener("keydown",e.Vfe),e.l0t.addEventListener("click",e.Vfe)),e}It(i,n);var r=i.prototype;return r.ma=function(){var t=n.prototype.ma.call(this),i=t.ads;if(i){var r=this.Ofe.ga;Eg(i,{get dai(){return r}})}return t},r._fe=function(t){n.prototype.AR.call(this,t)},r.AR=function(t,n){this.Ofe.AR(t)},r.vfe=function(){return n.prototype.sI.call(this)},r.sI=function(){return this.Ofe.sI()},r.ka=function(t){return this.Ofe.tr(),n.prototype.ka.call(this,t)},r.mfe=function(t,i){var r=this;return Zt((function(){return Ht(this,(function(e){return[2,n.prototype.gnt.call(r,t,i)]}))}))()},r.gnt=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){return[2,i.Ofe.gnt(t,n)]}))}))()},r.Afe=function(){return n.prototype.xR.call(this)},r.Sfe=function(){return n.prototype.IR.call(this)},r.xR=function(){return this.Ofe.lt},r.IR=function(){return this.Ofe.RR},r.Tfe=function(){n.prototype.gn.call(this)},r.gn=function(){this.Ofe.gn(),this.l0t&&(oi(this.l0t),this.l0t.removeEventListener("keydown",this.Vfe),this.l0t.removeEventListener("click",this.Vfe),this.l0t=void 0),this.Wfe&&(oi(this.Wfe),this.Wfe=void 0)},Nt(i,[{key:"ql",get:function(){return this.Ffe}}]),i}(n)}}((function(t,n,i){if(!(f.google&&f.google.ima&&Qn(f.google.ima.dai)))throw new p("Could not find Google\u2019s IMA DAI HTML5 SDK, all DAI sources will be ignored.");var r=J5(),e=new google.ima.dai.api.StreamManager(t,i),u=J5();return new z5(e,n,u&&u!==r?u:void 0)})),Bk.Pst),F(),Tt(),F(),Tt(),Rt(),F(),Tt(),Dt();var r6=function(){function t(t,n){var i=this;this.ta=t,this.zfe=n,this.s_e=!1,this.Qfe=!1,this.n_e=[],this.$fe=-1/0,this.e_e=!1,this.yce=function(){i.s_e||(i.zfe.d_e(),i.e_e&&i.zfe.o_e(),i.s_e=!0)},this.hoe=function(){i.zfe.f_e(),i.Qfe=!0},this.xoe=function(){i.$fe<i.ta.bR()&&(i.$fe=i.ta.bR()),i.c_e()},this.qfe=function(){i.s_e&&(i.__e=performance.now(),i.zfe.v_e(i.ta.bR()))},this.Yfe=function(){i.__e&&(i.zfe.m_e((performance.now()-i.__e)/1e3),i.__e=void 0)},this.M6=function(){i.$fe<i.ta.bR()&&(i.$fe=i.ta.bR()),i.zfe.Nnt(i.ta.xR().message)},this.Kfe=function(){var t=i.ta._d()===1/0;t&&!i.e_e&&(i.e_e=t,i.r_e())},this.XNt=function(){i.zfe.Jfe(i.$fe),i.zfe.g_e()},this.a_e=function(){void 0!==i.Gfe&&i.zfe.p_e(i.Ufe)}}var n=t.prototype;return n.Hfe=function(t){this.Zfe=t,this.zfe.Xfe(t),this.ta.yn(ua.so,this.yce),this.ta.yn(ua.xy,this.hoe),this.ta.yn(ua.$y,this.xoe),this.ta.yn(Vy.ua,this.M6),this.ta.yn(wp.LL,this.qfe),this.ta.yn([wp.PL,wp.DL,wp.BL],this.Yfe),this.ta.yn(ua.Sy,this.Kfe),WT.vY(this.XNt)},n.jfe=function(){this.ta.fn(ua.so,this.yce),this.ta.fn(ua.xy,this.hoe),this.ta.fn(ua.$y,this.xoe),this.ta.fn(Vy.ua,this.M6),this.ta.fn(wp.LL,this.qfe),this.ta.fn([wp.PL,wp.DL,wp.BL],this.Yfe),this.ta.fn(ua.Sy,this.Kfe),WT.lY(this.XNt),this.Qfe||(this.zfe.Jfe(this.$fe),this.zfe.t_e()),this.e_e&&this.i_e(),this.Zfe=void 0,this.s_e=!1,this.Qfe=!1,this.$fe=-1/0,po(this.n_e)},n.r_e=function(){this.s_e&&this.zfe.o_e(),this.Gfe=performance.now(),this.h_e=m(this.a_e,6e4)},n.i_e=function(){this.zfe.u_e(this.Ufe),this.e_e=!1,this.Gfe=void 0,this.h_e&&(y(this.h_e),this.h_e=void 0)},n.c_e=function(){if(!S(this.ta._d())){var t=10*function(t,n){return k.floor(t/n)}(this.ta.bR()/this.ta._d()*100,10);mo(this.n_e,t)||(this.n_e.push(t),this.zfe.l_e(t))}},Nt(t,[{key:"Ufe",get:function(){return void 0===this.Gfe?0:(performance.now()-this.Gfe)/1e3}}]),t}();F(),Tt();var e6=function(){function t(){}var n=t.prototype;return n.Xfe=function(t){this.w_e(["setDocumentTitle",t.itemTitle]),this.w_e(["setCustomUrl","https://content.streamone.net/embed/cust=Xo9oT45EptMG/account="+t.accountID+"/item="+t.itemID]),this.w_e(["trackPageView"])},n.d_e=function(){this.y_e("item first play","viewing","1")},n.t_e=function(){this.y_e("item skipped","skipped","1")},n.l_e=function(t){this.y_e("item progress","percent",""+t)},n.g_e=function(){this.y_e("item abandoned","window closed","1")},n.Jfe=function(t){this.y_e("item time","watched",""+t)},n.f_e=function(){this.y_e("item finished","ended","1")},n.v_e=function(t){this.y_e("buffering started","timestamp",""+t)},n.m_e=function(t){this.y_e("buffering ended","duration",""+t)},n.Nnt=function(t){this.y_e("error","message",""+t)},n.o_e=function(){this.y_e("livestream first play","viewing","1")},n.p_e=function(t){this.y_e("livestream progress","duration",""+t)},n.u_e=function(t){this.y_e("livestream time","watched",""+t)},n.y_e=function(t,n,i){this.w_e(["trackEvent","Video",t,n,i])},n.w_e=function(t){var n="undefined"!=typeof _paq?_paq:void 0;n?n.push(t):console.warn("The Piwik library required for the StreamOne pre-integration was not found. Make sure it is loaded before instantiating THEOplayer.")},t}();F(),Tt(),Dt();var u6=function(){function t(t,n,i){var r=this;this.ta=t,this.Dc=n,this.zfe=i,this.T_e=[],this.qle=function(){r.A_e=r.ta._d(),r.zfe.k_e(r.A_e)},this.Yle=function(){r.A_e&&(r.zfe.E_e(r.A_e),po(r.T_e),r.A_e=void 0)},this.jle=function(t){if(r.A_e){var n=r.A_e-r.A_e*t.B2t;r.zfe.x_e(n),r.A_e=void 0}},this.Kle=function(){r.A_e=r.ta._d(),r.zfe.R_e()},this.xoe=function(){var t=r.b_e;if(r.S_e&&t&&!mo(r.T_e,t)){switch(t){case 1:r.zfe.I_e();break;case 2:r.zfe.C_e();break;case 3:r.zfe.P_e();break;case 4:r.zfe.D_e()}r.T_e.push(t)}},this.XNt=function(){r.zfe.N_e()}}var n=t.prototype;return n.Hfe=function(){this.Dc.yn("nnt",this.qle),this.Dc.yn("rnt",this.Yle),this.Dc.yn("F2t",this.jle),this.Dc.yn("e2t",this.Kle),this.ta.yn(ua.$y,this.xoe),WT.vY(this.XNt)},n.jfe=function(){this.Dc.fn("nnt",this.qle),this.Dc.fn("rnt",this.Yle),this.Dc.fn("F2t",this.jle),this.Dc.fn("e2t",this.Kle),this.ta.fn(ua.$y,this.xoe),po(this.T_e),WT.lY(this.XNt),this.A_e=void 0},Nt(t,[{key:"b_e",get:function(){if(this.A_e){var t=this.ta.bR()/this.A_e;return k.floor(4*t)+1}}},{key:"S_e",get:function(){return void 0!==this.A_e}}]),t}();F(),Tt();var s6=function(){function t(t){this.zfe=t}var n=t.prototype;return n.k_e=function(t){this.zfe.y_e("ad start","duration",""+t)},n.E_e=function(t){this.zfe.y_e("ad finished","duration",""+t)},n.x_e=function(t){this.zfe.y_e("ad skipped","remaining time",""+t)},n.R_e=function(){this.zfe.y_e("ad blocker","detected","1")},n.I_e=function(){this.zfe.y_e("ad progress","firstQuartile","")},n.C_e=function(){this.zfe.y_e("ad progress","secondQuartile","")},n.P_e=function(){this.zfe.y_e("ad progress","thirdQuartile","")},n.D_e=function(){this.zfe.y_e("ad progress","fourthQuartile","")},n.N_e=function(){this.zfe.y_e("ad abandoned","window closed","1")},t}();function o6(t){return t&&"streamone"===t.integration}Uk((function(t){return function(t){function n(n,i){var r;(r=t.call(this,n,i)||this).M_e=!1,r.ho=function(){r.M_e&&(r.L_e.jfe(),r.B_e&&r.B_e.jfe());var t=r.Ya();if(r.M_e=!1,t){var n=function(t){if(t.analytics)for(var n=0,i=t.analytics;n<i.length;n++){var r=i[n];if(o6(r))return r}}(t);n&&(r.M_e=!0,r.L_e.Hfe(n),r.B_e&&r.B_e.Hfe())}};var e=new e6;if(r.L_e=new r6(r,e),r.Vc){var u=new s6(e);r.B_e=new u6(r,r.Vc,u)}return r.yn(ua.ro,r.ho),r}return It(n,t),n.prototype.gn=function(){this.fn(ua.ro,this.ho),this.M_e&&(this.L_e&&this.L_e.jfe(),this.B_e&&this.B_e.jfe(),this.M_e=!1),t.prototype.gn.call(this)},n}(t)}),Bk.Mst),F(),Tt(),F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Rt(),F(),Tt(),Gt(),Rt(),qt();var a6=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).V_e=i,r.W_e=void 0,r}It(n,t);var i=n.prototype;return i._2=function(n,i,r){var e=this;return Zt((function(){var u;return Ht(this,(function(s){switch(s.label){case 0:return[4,c6(n)];case 1:return u=s.sent(),[4,t.prototype._2.call(e,u,i,r)];case 2:return s.sent(),e.O_e(u,i),[2]}}))}))()},i.l2=function(n,i,r){var e=this;return Zt((function(){var u;return Ht(this,(function(s){switch(s.label){case 0:return[4,c6(n)];case 1:return u=s.sent(),[4,t.prototype.l2.call(e,u,i,r)];case 2:return s.sent(),e.O_e(u,i),[2]}}))}))()},i.O_e=function(t,n){var i=this.V_e.F_e;if(void 0!==i){var r,e=n.L1;if(this.W_e!==e&&(this.W_e=e,i.setLevelSwitching(e),i.setContainerFormat(2)),function(t){return Hn.call(t,"hit")}(n)){var u=n.hit,s=n.hit+n.ct;r=n.PV,i.newPts(u,s,"video",e)}else 0;i.appendBuffer(t.Zk,"video",e,r)}},i.jS=function(n,i,r){var e=this;return Zt((function(){var u;return Ht(this,(function(s){switch(s.label){case 0:return[4,t.prototype.jS.call(e,n,i,r)];case 1:return s.sent(),null==(u=e.V_e.F_e)||u.flushBuffer(n,i),[2]}}))}))()},n}(FM);function c6(t){return h6.apply(this,arguments)}function h6(){return h6=Zt((function(t){var n;return Ht(this,(function(i){switch(i.label){case 0:switch(t.pw){case DR.QQ:return[3,1];case DR.pk:return[3,2];case DR.JQ:return[3,4]}return[3,5];case 1:return[2,t];case 2:return[4,Vd(t.Zk)];case 3:return n=i.sent(),[2,{pw:DR.QQ,Zk:new E(n)}];case 4:throw new p("Opaque initialization segments are not supported on web.");case 5:return[2]}}))})),h6.apply(this,arguments)}var f6=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).V_e=i,r.lot(n),r}return It(n,t),n.prototype.fot=function(t){return t.n3===jg.lE?new a6(t,this.V_e):new FM(t)},n}(BM),v6=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).X_e=!1,r.z_e=function(t){r.X_e||(t||r.PH("LCEVC SDK failed to initialize."),r.G_e())},r.q_e=function(){r.X_e||r.PH("LCEVC SDK failed to initialize.")},r.ku=i,r.H_e=v.createElement("canvas"),r.H_e.style.width="100%",r.H_e.style.height="100%",r.H_e.style.position="absolute",r.H_e.style.transform="translate(0%, -100%)",r.H_e.style.display="none",r.ku.appendChild(r.H_e),LCEVCdec.ready.then(r.z_e,r.q_e),r}It(n,t);var i=n.prototype;return i.G_e=function(){this.U_e=new LCEVCdec.LCEVCdec(this.LB.XG,this.H_e,{})},i.ge=function(){t.prototype.ge.call(this),this.Z_e()},i.be=function(){t.prototype.be.call(this),this.H_e.style.display="none"},i.tr=function(){return this.H_e.style.display="none",void 0!==this.U_e&&(this.U_e.close(),this.G_e()),t.prototype.tr.call(this)},i.Ww=function(){return this.X_e=!0,void 0!==this.U_e&&(this.U_e.close(),this.U_e=void 0),this.ku.removeChild(this.H_e),t.prototype.Ww.call(this)},i.PH=function(t){this.yo(new yN(new Qg(Jg.ABORTED,t)))},i.Z_e=function(){this.LB.XG.style.display="none",this.H_e.style.display="block"},i.hot=function(t){return new f6(t,this)},i.oot=function(t){return new ZM(t)},Nt(n,[{key:"F_e",get:function(){return this.U_e}},{key:"qrt",get:function(){return this.LB}}]),n}(XM),d6=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).ku=i,r}It(n,t);var i=n.prototype;return i.DH=function(n){if(n===jg.lE)return this.Y_e=new v6(t.prototype.DH.call(this,n),this.ku),this.Y_e},i.vH=function(n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return i.Y_e=void 0,[4,(r=n).Ww()];case 1:return e.sent(),[4,t.prototype.vH.call(i,r.qrt)];case 2:return e.sent(),[2]}}))}))()},Nt(n,[{key:"K_e",get:function(){return this.Y_e}}]),n}(xM),l6=function(t){function n(n,i,r,e,u,s,o,a){var c,h=new d6(s,a),f=new zM(h),v=f.DH(o);return(c=t.call(this,n,i,r,e,u,v,a)||this).Q_e=function(t){t.Ht.yn(kg.iC,c.j_e)},c.J_e=function(t){t.Ht.fn(kg.iC,c.j_e)},c.j_e=function(t){var n,i=null==(n=c.$_e.K_e)?void 0:n.F_e,r=t.nat.TC;null==i||i.setCurrentLevel(r)},c.mH=f,c.$_e=h,c.hO.yn(mg.MI,c.Q_e),c.hO.yn(mg.BI,c.J_e),c}return It(n,t),n.prototype.gn=function(){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:for(i=0,r=n.hO.oC;i<r.length;i++)r[i].fn(kg.iC,n.j_e);return n.rt.fn(mg.MI,n.Q_e),n.rt.fn(mg.BI,n.J_e),[4,t.prototype.gn.call(n)];case 1:return e.sent(),[4,n.LB.Ww()];case 2:return e.sent(),[4,n.mH.vH(n.LB)];case 3:return e.sent(),[2]}}))}))()},n}(EZ),g6=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).BH=_k.hG,n}It(n,t);var i=n.prototype;return i.nP=function(t,n,i,r,e,u,s){var o=new dM(RM.Lg.krt,RM.Lg.Trt,RM.Lg.Srt,RM.Lg.xrt),a=n;return jZ.vT()&&(a=new jZ(a)),new l6(i,r,e,u,o,a,jg.lE,t)},i.NH=function(n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return n.lcevc?[4,t.prototype.NH.call(i,n)]:[2,!1];case 1:if(!r.sent())return[2,!1];if(void 0===f.LCEVCdec)throw new td(Qv.CONFIGURATION_ERROR,"LCEVC SDK is not loaded.");return[2,!0]}}))}))()},i.LH=function(){return!1},n}(hM);VT(new g6),F(),Tt(),Gt(),Rt(),qt();var w6=function(t){function n(n,i,r,e,u,s,o,a,c){var h,f=new d6(i,n),v=new zM(f),d=v.DH(jg.lE);return(h=t.call(this,d,r,e,u,s,o,a,c)||this).Q_e=function(t){t.Ht.yn(kg.iC,h.j_e)},h.J_e=function(t){t.Ht.fn(kg.iC,h.j_e)},h.j_e=function(t){var n,i=null==(n=h.$_e.K_e)?void 0:n.F_e,r=t.nat.oLt.TC;null==i||i.setCurrentLevel(r)},h.mH=v,h.$_e=f,h.hO.yn(mg.MI,h.Q_e),h.hO.yn(mg.BI,h.J_e),h}return It(n,t),n.prototype.gn=function(){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:for(i=0,r=n.hO.oC;i<r.length;i++)r[i].fn(kg.iC,n.j_e);return n.rt.fn(mg.MI,n.Q_e),n.rt.fn(mg.BI,n.J_e),[4,t.prototype.gn.call(n)];case 1:return e.sent(),[4,n.mH.vH(n.LB)];case 2:return e.sent(),[2]}}))}))()},n}(wq),m6=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).BH=_k.lG,n}It(n,t);var i=n.prototype;return i.nP=function(t,n,i,r,e,u,s){return new w6(t,n,i,e,u,YK(r.libraryLocation),new gq(r.libraryLocation),new dM(RM.Lg.krt,RM.Lg.Trt,RM.Lg.Srt,RM.Lg.xrt),r)},i.NH=function(n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return n.lcevc?[4,t.prototype.NH.call(r,n,i)]:[2,!1];case 1:if(!e.sent())return[2,!1];if(void 0===f.LCEVCdec)throw new td(Qv.CONFIGURATION_ERROR,"LCEVC SDK is not loaded.");return[2,!0]}}))}))()},i.LH=function(){return!1},n}(yq);VT(new m6),F(),Tt(),F(),Tt(),Dt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt();var y6=function(t){return t.tve="tr",t.eve="ive",t}({}),p6="freewheel-nonlinear-ad",_6=[ua.Sy,ua.$y,ua.eb,ua.Uy,wp.BL,ua.so],b6=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i)||this).HG=void 0,s.ZG=void 0,s.ove=function(t){var n=t.tnt,i="nnt"===t.type;if(n.E2t===P$.A2t){var r=s.ta.we.classList;i?r.add(p6):r.remove(p6)}i?s.ge():s.be()},s.rve=function(){s.p3t(),s.ta.bI(),s.ta.be()},s.Oie=function(){s.nve.pve&&(s.ta.kR||s.ta.AI(),s.be(),s.ta.ge(),s.v1t())},s.nve=e,s.mH=r,s.LB=u,s.Det=u.XG,s.Det.controls=!1,s.sve(),s.uve(),s.lve(),s}It(n,t);var i=n.prototype;return i.yI=function(){this.mH.cZ()},i.sve=function(){this.nve.yn("snt",this.rve),this.nve.yn(["nnt","rnt"],this.ove),this.nve.yn("int",this.Oie)},i.hve=function(){this.nve.fn("snt",this.rve),this.nve.fn(["nnt","rnt"],this.ove),this.nve.fn("int",this.Oie)},i.uve=function(){this.K1t.iu(this.nve.cve)},i.lve=function(){this.nve.dve.yn(_6,this.Ds)},i.fve=function(){this.nve.dve.fn(_6,this.Ds)},i.jst=function(t){},i.bR=function(){return this.nve.dve.yR},i.AR=function(t,n){},i._d=function(){return this.nve.dve.ct},i.ER=function(){return this.nve.dve.kR},i.xR=function(){return this.HG},i.IR=function(){return this.ZG},i.aI=function(){return 0},i.lI=function(){return 0},i.fI=function(){return this.nve.dve.dI},i._I=function(t){this.nve.dve.dI=t},i.WR=function(){return this.nve.dve.FR},i.UR=function(t){this.nve.dve.FR=t},i.eI=function(){return this.nve.dve.tI},i.sI=function(){return this.nve.dve.iI},i.XR=function(){return this.nve.dve.ZR},i.J1t=function(t){if(this.r2t||this.nve.J1t(t),this.nve._ve){if(t.type===ua.Uy&&this.ta.kR)return!0;if(t.type===ua.xy)return this.nve.mve.vve(),!0}return!1},i.be=function(){this.nve.be()},i.bI=function(){this.ZR||this.nve.dve.bI()},i.gve=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:if(t.nve.pve)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,t.nve.X4t()];case 2:return i.sent(),[3,4];case 3:return n=i.sent(),t.wve(n,DJ.GENERAL),[3,4];case 4:return[2]}}))}))()},i.yve=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.nve.dve.bve?(t.nve.dve.AI(),[2,!1]):[3,1];case 1:if(!t.nve.Ave)return[3,5];i.label=2;case 2:return i.trys.push([2,4,,5]),[4,t.nve.mve.Sve()];case 3:return i.sent(),[3,5];case 4:return n=i.sent(),t.wve(n,DJ.PLAYBACK),[3,5];case 5:return[2,!0]}}))}))()},i.wve=function(t,n){t.name!==y6.tve&&this.K1t.yo(new I$(n,"Ads could not be loaded."))},i.AI=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.ZR&&t.yo(new aT(t.yR)),[4,t.gve()];case 1:return i.sent(),t.Tve?[2]:[4,t.yve()];case 2:return n=i.sent(),!t.Tve&&n&&t.Oie(),[2]}}))}))()},i.a8t=function(t,n,i){n===AL.Hst&&this.nve.a8t(t)},i.ge=function(){this.nve.ge()},i.RD=function(){this.nve.dve.RD()},i.wI=function(){return this.Det},i.fR=function(){return this.mH.vZ.map((function(t){return t.XG}))},i.u2t=function(t){},i.gn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.SI()];case 1:return n.sent(),t.nve.gn(),[4,t.mH.vH(t.LB)];case 2:return n.sent(),t.hve(),t.fve(),t.K1t.mK(t.nve.cve),[2]}}))}))()},i.SI=function(){var t=this;return Zt((function(){return Ht(this,(function(n){return t.nve.tr(),t.r2t&&(t.ta.ge(),t.v1t(),t.be()),[2]}))}))()},Nt(n,[{key:"q1t",get:function(){return this}},{key:"X1t",get:function(){return n.X1t}},{key:"zst",get:function(){var t;return null!=(t=this.nve.cve.zst)?t:null}},{key:"Zst",get:function(){var t=this.nve.cve.z9t;return t?[t]:[]}},{key:"qst",get:function(){return this.nve.cve.qst}},{key:"Yst",get:function(){return this.nve.cve.Yst}},{key:"Tve",get:function(){return Yn(this.xR())}}],[{key:"X1t",get:function(){return XQ.i$t}}]),n}(r0);F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Gt(),Dt(),Rt(),Ut(),qt(),F(),Tt(),Dt(),Rt();var k6=function(t){function n(n,i,r,e){var u;return(u=t.call(this,r)||this).Eve=e,u.Rve=0,u.x2t=T6(e),u.l2t=n,u.d2t=i,u}return It(n,t),Nt(n,[{key:"kve",get:function(){return this.Eve}},{key:"xve",get:function(){return this.Vc[this.Rve]}},{key:"Ive",get:function(){return this.Rve},set:function(t){this.Rve=t}},{key:"E2t",get:function(){return this.x2t}},{key:"jjt",get:function(){return XQ.i$t}}]),n}(N$);F(),Tt(),Dt(),Rt();var A6=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).Pve=r,e}return It(n,t),n.prototype.ma=function(){return M$(this)},Nt(n,[{key:"Cve",get:function(){return this.Pve},set:function(t){this.Pve!==t&&(this.Pve=t)}},{key:"Ti",get:function(){return this.Yl.kve.getHeight()}},{key:"ji",get:function(){return this.Yl.kve.getWidth()}},{key:"FYt",get:function(){return this.Cve.getEventCallbackUrls(tv.freewheel.SDK.EVENT_AD_CLICK,tv.freewheel.SDK.EVENT_TYPE_CLICK)[0]}},{key:"jjt",get:function(){return XQ.i$t}}]),n}(L$);function T6(t){return t.getTimePositionClass()===tv.freewheel.SDK.TIME_POSITION_CLASS_OVERLAY?P$.A2t:P$.Ajt}var S6=function(t){function n(i,r){var e;return(e=t.call(this)||this).Vs=i,e.YT=r,e.Jve=tv.freewheel.SDK.TIME_POSITION_CLASS_PREROLL,e.$ve=tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL,e.eme=tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL,e.tme=tv.freewheel.SDK.TIME_POSITION_CLASS_OVERLAY,e.Fve=[],e.Wve=[],e.Gve=[],e.Hve=[],e.Xve=function(t){var i=t.slot,r=e.rme(i);r&&(n.hme(i,r),e.o$t=r,r._2t(),e.lme(r),r.E2t===P$.Ajt&&e.yo(new VL(r)))},e.zve=function(){var t=e.zst;t&&t.E2t===P$.Ajt&&(e.yo(new OL(t)),e.YT.src=""),e.o$t=void 0},e.qve=function(t){var n=e.nme(t.adInstance);n&&(e.yo(new UL(n,n.Cve.getPlayheadTime())),e.jJt=n),t.adInstance.getEventCallbackUrls(tv.freewheel.SDK.EVENT_AD_CLICK,tv.freewheel.SDK.EVENT_TYPE_CLICK).length>0&&(e.Vs.style.cursor="pointer",e.Vs.addEventListener("click",e.dme))},e.Yve=function(){e.Vs.style.cursor="",e.Vs.removeEventListener("click",e.dme)},e.dme=function(){e.z9t&&e.z9t.Cve.getRendererController().processEvent({name:tv.freewheel.SDK.EVENT_AD_CLICK})},e.Kve=function(t){switch(t.subType){case tv.freewheel.SDK.EVENT_AD_COMPLETE:e.ume();break;case tv.freewheel.SDK.EVENT_AD_SKIPPED:e.v0t(),e.ume()}},e}It(n,t);var i=n.prototype;return i.Dve=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return i.Nve=t,i.Mve=n,i.Lve(t),[4,n];case 1:return r.sent(),i.Bve(),[2]}}))}))()},i.Bve=function(){this.Zve()},i.Lve=function(t){t.addEventListener(tv.freewheel.SDK.EVENT_SLOT_STARTED,this.Xve),t.addEventListener(tv.freewheel.SDK.EVENT_SLOT_ENDED,this.zve),t.addEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION,this.qve),t.addEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION_END,this.Yve),t.addEventListener(tv.freewheel.SDK.EVENT_AD,this.Kve)},i.jve=function(){this.Nve&&(this.Nve.removeEventListener(tv.freewheel.SDK.EVENT_SLOT_STARTED,this.Xve),this.Nve.removeEventListener(tv.freewheel.SDK.EVENT_SLOT_ENDED,this.zve),this.Nve.removeEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION,this.qve),this.Nve.removeEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION_END,this.Yve),this.Nve.removeEventListener(tv.freewheel.SDK.EVENT_AD,this.Kve))},i.Zve=function(){this.Fve=this.Qve(this.Jve),this.Wve=this.Qve(this.$ve).concat(this.Qve(this.tme)),this.Gve=this.Qve(this.eme),this.Hve=this.Fve.concat(this.Wve).concat(this.Gve)},i.Qve=function(t){if(!this.Nve)return[];var n=this.Nve.getSlotsByTimePositionClass(t);return this.ime(n)},i.nme=function(t){if(this.o$t){var n=t.getSlot().getAdInstances().indexOf(t);-1!==n&&(this.o$t.Ive=n);var i=this.o$t.xve;return i&&(i.Cve=t),i}},i.rme=function(t){return ao(this.Hve,(function(n){return n.kve===t}))},i.ime=function(t){return t.map((function(t){var i=t.getTotalDuration(),r=n.ome(t);return new k6(i,i,r,t)}))},i.v0t=function(){var t=this.z9t;t&&this.yo(new U$(t,this.ame()))},i.ume=function(){var t=this.z9t;t&&(this.yo(new ZL(t,t.Cve.getPlayheadTime())),this.jJt=void 0)},i.cme=function(t){var n=this.zst;n&&(n.NJt=function(t,n,i){void 0===i&&(i=0);for(var r=0,e=t.Vc.length,u=n;u<e;u++){var s=t.Vc[u],o=s.ct;if(s){var a=o;u===n&&(a=er(o-i,0,o)),r+=a}}return r}(n,n.Ive,t))},i.ame=function(){var t=this.z9t;if(!t)return 0;var n=t.Cve;return n.getPlayheadTime()/n.getDuration()},i.lme=function(t){lo(this.Hve,t),lo(this.Fve,t),lo(this.Wve,t),lo(this.Gve,t)},i.tr=function(){this.jve(),this.Fve.length=0,this.Wve.length=0,this.Gve.length=0,this.Hve.length=0,this.jJt=void 0,this.o$t=void 0,this.Nve=void 0,this.Mve=void 0},i.gn=function(){this.tr(),this.Bo()},n.hme=function(t,n){for(var i=t.getAdInstances(),r=[],e=0;e<i.length;e++){var u=i[e],s=T6(u.getSlot()),o=new A6(n,s,u);o.S2t(u.getAdId(),u.getSlot().getWidth(),u.getSlot().getHeight(),u.getDuration(),[],0),n.m2t(o),r.push(o)}return r},n.ome=function(t){return t.getTimePositionClass()===tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL?-1:t.getTimePosition()},Nt(n,[{key:"Ove",get:function(){return this.Fve}},{key:"Vve",get:function(){return this.Wve}},{key:"Uve",get:function(){return this.Gve}},{key:"zst",get:function(){return this.o$t}},{key:"z9t",get:function(){return this.jJt}},{key:"qst",get:function(){var t=[];if(this.o$t){var n,i=this.o$t.Ive;if(i>=0)(n=t).push.apply(n,Ft(this.o$t.Vc.slice(i+1)))}for(var r=0,e=this.Hve;r<e.length;r++){var u,s=e[r];(u=t).push.apply(u,Ft(s.Vc))}return t}},{key:"Yst",get:function(){return this.Hve}}]),n}(ra);F(),Tt(),Dt(),Rt();var E6=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).ta=n,u.Xu=i,u.Nyt=r,u.u0t=e,u.n4=AA.fB().ks(),u.hZ=!0,u.IA=NaN,u.Ame=!1,u.T4=!1,u.E4=pp.jB,u.nZ=0,u.kme=0,u.vme=function(t){switch(t.subType){case tv.freewheel.SDK.EVENT_AD_PAUSE:(function(t){if(!t)return!0;var n=t.Cve,i=n.getPlayheadTime(),r=n.getDuration();return i>=r||sr(r,i)})(u.Nyt.z9t)||(u.ZR=!0,u.yo(new oT(u.yR)));break;case tv.freewheel.SDK.EVENT_AD_RESUME:u.ZR=!1,u.yo(new Sp(u.yR));break;case tv.freewheel.SDK.EVENT_AD_VOLUME_CHANGE:if(u.Mgt){var n=u.Mgt.getAdVolume();0===n?u.Ame=!0:u.UA=n,u.yo(new lT(u.yR,u.dI))}}},u.gme=function(){u.kR=!1;var t=u.ZR;if(u.ZR=!1,t&&(u.yo(new aT(u.yR)),u.yo(new Sp(u.yR))),u.E4=pp.JB,u.yR=0,u.Nyt.z9t){var n=u.Nyt.z9t.Cve;u.IA=n.getDuration(),u.yo(new cT(u.IA)),u.Eme=m((function(){if(u.bve){u.Nyt.cme(u.yR);var t=n.getPlayheadTime();ur(t,u.kme,.001)||u.yo(new vg(t,void 0)),u.kme=t}else u.Fp()}),250),u.Mgt&&u.Mgt.setAdVolume(I6(u.FR,u.dI))}},u.xme=function(){var t=u.Nyt.z9t;t&&(t.E2t===P$.A2t?u.ta.bI():u.ZR||u.bI())},u.Fp=function(){y(u.Eme),u.Eme=void 0},u.pme=function(){u.Fp(),u.kR=!0},u.wme=function(){u.Tme("pause")},u.yme=function(){u.Tme("playing")},u.xd=function(t){t.Yl.E2t===P$.Ajt&&(u.ZR=!1)},u.mme=function(){u.Mgt&&u.Mgt.resize(u.Xu.Su,u.Xu.Tu)},u.UA=n.dI,r.yn("snt",u.xd),u.Xu.yn(eI.pn,u.mme),u.u0t.addEventListener("click",u.xme),u}It(n,t);var i=n.prototype;return i.fme=function(){this.Mgt&&this.Mgt.setAdVolume(I6(this.FR,this.dI))},i._me=function(t){this.Mgt=t,this.Lve(t)},i.Lve=function(t){t.addEventListener(tv.freewheel.SDK.EVENT_AD,this.vme),t.addEventListener(tv.freewheel.SDK.EVENT_SLOT_STARTED,this.mme),t.addEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION,this.gme),t.addEventListener(tv.freewheel.SDK.EVENT_AD_COMPLETE,this.pme),t.addEventListener(tv.freewheel.SDK.EVENT_CONTENT_VIDEO_PAUSE_REQUEST,this.wme),t.addEventListener(tv.freewheel.SDK.EVENT_CONTENT_VIDEO_RESUME_REQUEST,this.yme)},i.bme=function(){var t=this.Mgt;t&&(t.removeEventListener(tv.freewheel.SDK.EVENT_AD,this.vme),t.addEventListener(tv.freewheel.SDK.EVENT_SLOT_STARTED,this.mme),t.removeEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION,this.gme),t.removeEventListener(tv.freewheel.SDK.EVENT_AD_COMPLETE,this.pme),t.removeEventListener(tv.freewheel.SDK.EVENT_CONTENT_VIDEO_PAUSE_REQUEST,this.wme),t.removeEventListener(tv.freewheel.SDK.EVENT_CONTENT_VIDEO_RESUME_REQUEST,this.yme))},i.AI=function(){this.Nyt.zst&&(this.Nyt.zst.kve.resume(),this.ZR=!1)},i.bI=function(){this.Nyt.zst&&(this.Nyt.zst.kve.pause(),this.ZR=!0)},i.Tme=function(t){var i=n.Sme(t);this.Mgt&&i&&this.Mgt.setVideoState(i)},i.RD=function(){var t=this.Nyt.z9t;t&&t.Cve.skip()},i.tr=function(){if(this.bme(),this.Mgt){this.Tme("stop"),this.Mgt.setVideoState(tv.freewheel.SDK.VIDEO_STATE_STOPPED);for(var t=this.Mgt.getTemporalSlots(),n=0;n<t.length;n++){t[n].stop()}this.Mgt.dispose(),this.Mgt=void 0}this.IA=NaN,this.kR=!1,this.E4=pp.jB,this.yR=0,this.kme=0,this.ZR=!0,void 0!==this.Eme&&(y(this.Eme),this.Eme=void 0)},i.gn=function(){this.tr(),this.Bo(),this.Nyt.fn("snt",this.xd),this.Xu.fn(eI.pn,this.mme),this.u0t.removeEventListener("click",this.xme)},n.Sme=function(t){switch(t){case"pause":return tv.freewheel.SDK.VIDEO_STATE_PAUSED;case"playing":return tv.freewheel.SDK.VIDEO_STATE_PLAYING;case"ended":return tv.freewheel.SDK.VIDEO_STATE_COMPLETED;case"stop":return tv.freewheel.SDK.VIDEO_STATE_STOPPED}},Nt(n,[{key:"yR",get:function(){var t=this.Nyt.z9t;return t&&(this.yR=t.Cve.getPlayheadTime()),this.nZ},set:function(t){this.nZ=t}},{key:"ct",get:function(){return this.IA}},{key:"bve",get:function(){return!!this.Nyt&&void 0!==this.Nyt.zst}},{key:"ZR",get:function(){return this.hZ},set:function(t){this.hZ=t}},{key:"dI",get:function(){return this.UA},set:function(t){this.Mgt&&this.Mgt.setAdVolume(t),this.UA=t}},{key:"FR",get:function(){return this.Mgt&&(this.Ame=0===this.Mgt.getAdVolume()),this.Ame},set:function(t){this.Mgt&&this.Mgt.setAdVolume(I6(t,this.dI)),this.Ame=t}},{key:"iI",get:function(){return this.n4}},{key:"kR",get:function(){return this.T4},set:function(t){this.T4=t}},{key:"tI",get:function(){return this.E4}}]),n}(ra);function I6(t,n){return t?0:n}F(),Tt(),Gt(),qt(),F(),Tt(),Dt(),Rt();var R6=function(t){function n(){return t.call(this,"A FreeWheel Ad Error occurred")||this}return It(n,t),Nt(n,[{key:"name",get:function(){return y6.eve}}]),n}(xo);F(),Tt(),Dt(),Rt();var C6=function(t){function n(){return t.call(this,"A FreeWheel Reset Error Occurred")||this}return It(n,t),Nt(n,[{key:"name",get:function(){return y6.tve}}]),n}(xo),N6=0;var D6=function(){function t(t,n,i,r){var e=this;this.Mgt=n,this.Pme=function(t){e.Mgt.removeEventListener(tv.freewheel.SDK.EVENT_REQUEST_COMPLETE,e.Pme),t.success?e.Cme.Mb(void 0):e.Cme.Lb(new R6)},this.Rme(t,i,r),n.addEventListener(tv.freewheel.SDK.EVENT_REQUEST_COMPLETE,this.Pme),this.Cme=new Zc}var n=t.prototype;return n.Rme=function(t,n,i){t.setNetwork(n.networkId),t.setServer(n.adServerUrl);var r=this.Mgt;if(r.setProfile(n.profile),n.assetId&&n.assetDuration&&r.setVideoAsset(n.assetId,n.assetDuration),n.siteSectionId&&r.setSiteSection(n.siteSectionId),r.registerVideoDisplayBase(i),n.cuePoints&&n.cuePoints.length)for(var e=0,u=n.cuePoints;e<u.length;e++){var s=u[e];r.addTemporalSlot("cue-"+ ++N6,s.adUnit,s.timeOffset)}var o=n.customData;if(Qn(o))for(var a=b.keys(o),c=0;c<a.length;c++){var h=a[c],f=o[h];r.addKeyValue(h,f)}},n.Ime=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.Mgt.submitRequest(),[4,t.Cme.Bb];case 1:return n.sent(),[2]}}))}))()},n.tr=function(){this.Mgt.removeEventListener(tv.freewheel.SDK.EVENT_REQUEST_COMPLETE,this.Pme),this.Cme.Lb(new C6)},t}();F(),Tt(),Gt(),qt(),F(),Tt(),Dt();var P6=function(){function t(t){var n=this;this.Nve=t,this.zve=function(t){n.Dme(),n.Zw.Mb(void 0)},this.U6t=function(t){n.Dme(),n.Zw.Lb(new R6)},this.Zw=new Zc,t.addEventListener(tv.freewheel.SDK.EVENT_SLOT_ENDED,this.zve),t.addEventListener(tv.freewheel.SDK.EVENT_ERROR,this.U6t)}var n=t.prototype;return n.Dme=function(){this.Nve.removeEventListener(tv.freewheel.SDK.EVENT_SLOT_ENDED,this.zve),this.Nve.removeEventListener(tv.freewheel.SDK.EVENT_ERROR,this.zve)},n.iUt=function(){this.Dme(),this.Zw.Lb(new C6)},Nt(t,[{key:"Nme",get:function(){return this.Zw.Bb}}]),t}(),x6=function(){function t(t,n){var i=this;this.ta=t,this.Lme=n,this.Ome=0,this.Fme=function(){for(var t=i.ta.bR(),n=0,r=i.Lme.Vve;n<r.length;n++){var e=r[n],u=new AA([i.Ome,t],[!0,!0]),s=e.kve.getTimePosition();if(u.gr(s))switch(e.kve.getTimePositionClass()){case tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL:i.Mme([e]);break;case tv.freewheel.SDK.TIME_POSITION_CLASS_OVERLAY:e.kve.play(),e.kve.setVisible(!0)}}i.Ome=t},t.yn(ua.$y,this.Fme)}var n=t.prototype;return n.mO=function(t){this.Nve=t},n.Sve=function(){return this.Mme(this.Lme.Ove)},n.vve=function(){this.Mme(this.Lme.Uve)},n.Mme=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:if(!n.Nve)return[2];e.label=1;case 1:if(!(t.length>0))return[3,6];n.Bme=new P6(n.Nve),i=n.Bme.Nme,(r=n.Lme.zst)&&r.E2t===P$.A2t&&r.kve.stop(),t.shift().kve.play(),e.label=2;case 2:return e.trys.push([2,,4,5]),[4,i];case 3:return e.sent(),[3,5];case 4:return n.Bme=void 0,[7];case 5:return[3,1];case 6:return[2]}}))}))()},n.tr=function(){this.Bme&&(this.Bme.iUt(),this.Bme=void 0),this.Ome=0},n.gn=function(){this.ta.fn(ua.$y,this.Fme)},t}(),L6=0,M6=function(t){function n(i,r,e){var u;return(u=t.call(this)||this).ta=i,u.YT=r,u.Hme=!1,u.Wme=n.createUniqueDisplayBaseId(),u.u0t=n.Xme(i.we,r,u.Wme),u.Vme=new f.tv.freewheel.SDK.AdManager,u.Zme=new S6(u.u0t,u.YT),u.Ume=new x6(u.ta,u.cve),u.iu(u.cve),u.L6t=new E6(i,e,u.cve,u.u0t),u}It(n,t);var i=n.prototype;return i.X4t=function(){var t=this;return Zt((function(){var n,i,r,e;return Ht(this,(function(u){switch(u.label){case 0:if(!t.Qjt)throw new p("Invalid state");n=t.Vme,(i=n.newContext()).setParameter(tv.freewheel.SDK.PARAMETER_RENDERER_VIDEO_DISPLAY_CONTROLS_WHEN_PAUSE,!1,tv.freewheel.SDK.PARAMETER_LEVEL_GLOBAL),i.setParameter(tv.freewheel.SDK.PARAMETER_EXTENSION_CONTENT_VIDEO_ENABLED,!1,tv.freewheel.SDK.PARAMETER_LEVEL_GLOBAL),r=new D6(n,i,t.Qjt,t.Wme),e=t.cve.Dve(i,r.Ime()),t.Ume.mO(i),t.dve._me(i),t.Gme=r,u.label=1;case 1:return u.trys.push([1,,3,4]),[4,e];case 2:return u.sent(),[3,4];case 3:return t.dve.fme(),t.Hme=!0,[7];case 4:return[2]}}))}))()},i.J1t=function(t){this.dve.Tme(t.type)},i.ge=function(){this.u0t.style.display="block",this.YT.style.display="block"},i.be=function(){this.u0t.style.display="none",this.YT.style.display="none"},i.a8t=function(t){this.Qjt=t},i.tr=function(){this.Hme=!1,this.Qjt=void 0,this.cve.tr(),this.Ume.tr(),this.Gme&&(this.Gme.tr(),this.Gme=void 0),this.dve.tr(),this.YT.src=""},i.gn=function(){this.tr(),this.L6t.gn(),this.Ume.gn(),this.cve.gn(),this.u0t.remove(),this.ta.we.removeChild(this.u0t)},n.createUniqueDisplayBaseId=function(){return"theo-freewheel-"+ ++L6},n.Xme=function(t,n,i){var r=v.createElement("div");return r.id=i,r.className="theo-freewheel",n.classList.add("theo-freewheel-video"),r.appendChild(n),t.appendChild(r),r},Nt(n,[{key:"_ve",get:function(){return 0!==this.cve.Uve.length}},{key:"Ave",get:function(){return 0!==this.cve.Ove.length}},{key:"dve",get:function(){return this.L6t}},{key:"cve",get:function(){return this.Zme}},{key:"pve",get:function(){return this.Hme}},{key:"mve",get:function(){return this.Ume}}]),n}(EI);function O6(t){if(f.tv)switch(t){case"preroll":return tv.freewheel.SDK.ADUNIT_PREROLL;case"midroll":return tv.freewheel.SDK.ADUNIT_MIDROLL;case"postroll":return tv.freewheel.SDK.ADUNIT_POSTROLL;case"overlay":return tv.freewheel.SDK.ADUNIT_OVERLAY}}function B6(t,n,i){if(void 0!==n&&S(n)||n<0||n===1/0)return NaN;switch(t){case"preroll":return 0;case"postroll":return i}return nQ(n)}var V6=function(){function t(){}var n=t.prototype;return n.kZ=function(t){return t.integration===gS.FREEWHEEL},n.G1t=function(t,n,i){if(Boolean(f.tv&&f.tv.freewheel&&f.tv.freewheel.SDK&&f.tv.freewheel.SDK.AdManager)){var r=new FT(t.Uu,t.Ll,1,[jg.lE]);r.gZ(t.we);var e=r.DH(jg.lE),u=new M6(t,e.XG,t.Uu);return new b6(t,n,r,u,e)}},n.Uz=function(t){var n=Ig(t);qn(n.cuePoints)||(n.cuePoints=[]);for(var i=[],r=t.assetDuration||0,e=0,u=n.cuePoints;e<u.length;e++){var s=u[e],o=B6(s.adUnit,s.timeOffset,r),a=O6(s.adUnit);!S(o)&&ti(a)?(s.adUnit=a,s.timeOffset=o,i.push(s)):Kn.Mp("Invalid adUnit/timeOffset combination. Cue was removed.")}return n.cuePoints=i,n},n.o6=function(t,n,i,r){i.a8t(t,n,r)},Nt(t,[{key:"U1t",get:function(){return XQ.i$t}}]),t}();wS.Lg.EZ(new V6),F(),Tt(),F(),Tt(),F(),Tt(),Rt(),F(),Tt(),F(),Tt();var F6,U6=self.theoplayerDeviceMetadata;function W6(t){return t.navigator&&t.navigator.userAgent||""}F(),Tt(),F(),Tt(),F(),Tt(),sn(),F(),Tt(),sn();var Z6=(un(F6={},"Windows 10",/(Windows 10.0|Windows NT 10.0)/i),un(F6,"Windows 8.1",/(Windows 8.1|Windows NT 6.3)/i),un(F6,"Windows 8",/(Windows 8|Windows NT 6.2)/i),un(F6,"Windows 7",/(Windows 7|Windows NT 6.1)/i),un(F6,"Windows Vista",/Windows NT 6.0/i),un(F6,"Windows Server 2003",/Windows NT 5.2/i),un(F6,"Windows XP",/(Windows NT 5.1|Windows XP)/i),un(F6,"Windows Phone",/Windows Phone/i),un(F6,"Android",/Android/i),un(F6,"Linux",/(Linux(?!.*Ubuntu)|X11)/),un(F6,"Ubuntu",/Ubuntu/i),un(F6,"iOS",/(iPhone|iPad|iPod)/i),un(F6,"Mac OS X",/Mac OS X/i),un(F6,"Mac OS",/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/i),un(F6,"Chrome OS",/CrOS/i),F6);function X6(t,n){var i=Z6[n];return!!i&&Boolean(W6(t).match(i))}function G6(t){return X6(t,"Android")}function H6(t){return X6(t,"Windows Phone")}function z6(t){return X6(t,"iOS")&&!H6(t)}function Y6(t){return X6(t,"Ubuntu")}var j6,K6,q6=/Windows (NT|Phone) ([0-9.]+)/i,J6=/Mac.*?(OS |OS X )(\d+(([_.])\d+)?(([_.])\d+)?)/i,Q6=(un(j6={},"Windows 10",q6),un(j6,"Windows 8.1",q6),un(j6,"Windows 8",q6),un(j6,"Windows 7",q6),un(j6,"Windows Vista",q6),un(j6,"Windows Server 2003",q6),un(j6,"Windows XP",q6),un(j6,"Windows Phone",/Windows Phone ([0-9.]+)/i),un(j6,"Android",/Android (\d+(([_.])\d+)?(([_.])\d+)?)/i),un(j6,"Linux",void 0),un(j6,"Ubuntu",void 0),un(j6,"iOS",/(iPad|iPhone|iPod).*?(OS |os |OS_)(\d+(([_.])\d+)?(([_.])\d+)?)/i),un(j6,"Mac OS X",J6),un(j6,"Mac OS",J6),un(j6,"Chrome OS",void 0),j6);function $6(t,n){var i=Q6[n];return i?W6(t).match(i):null}function t9(t){return t.split(/[_.]/).map((function(t){return A(t,10)}))}function n9(t){if(function(t){return Boolean(W6(t).match(/Windows/i))}(t)){if(function(t){return X6(t,"Windows 10")}(t))return"Windows 10";if(H6(t))return"Windows Phone";if(function(t){return X6(t,"Windows 8.1")}(t))return"Windows 8.1";if(function(t){return X6(t,"Windows 8")}(t))return"Windows 8";if(function(t){return X6(t,"Windows 7")}(t))return"Windows 7";if(function(t){return X6(t,"Windows Vista")}(t))return"Windows Vista";if(function(t){return X6(t,"Windows Server 2003")}(t))return"Windows Server 2003";if(function(t){return X6(t,"Windows XP")}(t))return"Windows XP"}else{if(G6(t))return"Android";if(z6(t))return"iOS";if(function(t){return X6(t,"Mac OS X")}(t))return"Mac OS X";if(function(t){return X6(t,"Mac OS")}(t))return"Mac OS";if(Y6(t))return"Ubuntu";if(function(t){return X6(t,"Chrome OS")}(t))return"Chrome OS";if(function(t){return X6(t,"Linux")&&!Y6(t)}(t))return"Linux"}}function i9(t,n){var i=function(t){var n=$6(t,"Windows 10");return n&&n.length>2?t9(n[2]):void 0}(t),r=function(t){var n=$6(t,"Mac OS X");return n&&n.length>2?t9(n[2]):void 0}(t),e=function(t){var n=$6(t,"Android");return n&&n.length>1?t9(n[1]):void 0}(t),u=function(t){var n=$6(t,"iOS");return n&&n.length>3?t9(n[3]):void 0}(t),s=function(t){var n=$6(t,"Chrome OS");return n&&n.length>0?t9(n[0]):void 0}(t);return i?i.length>n?i[n]:void 0:r?r.length>n?r[n]:void 0:e?e.length>n?e[n]:void 0:u?u.length>n?u[n]:void 0:s&&s.length>n?s[n]:void 0}function r9(t){var n=function(t){return i9(t,0)}(t),i=function(t){return i9(t,1)}(t),r=function(t){return i9(t,2)}(t);if(void 0!==n)return void 0===i?""+n:void 0===r?n+"."+i:n+"."+i+"."+r}var e9=(un(K6={},"Chrome",/Chrome/i),un(K6,"Chrome Mobile",void 0),un(K6,"Chrome iOS",/CriOS/i),un(K6,"Chromium",/Chromium/i),un(K6,"HeadlessChrome",/HeadlessChrome/i),un(K6,"Firefox",/Firefox/i),un(K6,"Seamonkey",/Seamonkey/i),un(K6,"Firefox iOS",/FxiOS/i),un(K6,"Safari",/Safari/i),un(K6,"Edge",/Edge\/\d+/i),un(K6,"Edge Chromium",/Edg\/\d+/i),un(K6,"IE",/Trident/i),un(K6,"Opera",/Opera|OPR/i),un(K6,"Vivaldi",/Vivaldi/i),un(K6,"Android Browser",void 0),K6);function u9(t,n){var i=e9[n];return!!i&&Boolean(W6(t).match(i))}function s9(t){return Boolean(W6(t).match(/Mobi/i))}function o9(t){return Boolean(t.chrome&&t.navigator&&t.navigator.vendor&&/google/i.test(t.navigator.vendor))||a9(t)}function a9(t){return u9(t,"Chrome iOS")}function c9(t){return u9(t,"Firefox")&&!f9(t)}function h9(t){return u9(t,"Firefox Mobile")&&!f9(t)&&s9(t)}function f9(t){return u9(t,"Seamonkey")}function v9(t){return u9(t,"Firefox iOS")&&!f9(t)}function d9(t){return u9(t,"Safari")&&!u9(t,"Chrome")&&!Gn.Vv}function l9(t){return Boolean(A9(t))}function g9(t){return u9(t,"Edge")}function w9(t){return u9(t,"Edge Chromium")}function m9(t){return u9(t,"IE")}function y9(t){return u9(t,"Vivaldi")}var p9,_9=/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i,b9=(un(p9={},"Chrome",_9),un(p9,"Chrome Mobile",_9),un(p9,"Chrome iOS",/CriOS\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),un(p9,"Chromium",_9),un(p9,"HeadlessChrome",_9),un(p9,"Firefox",/Firefox\/([0-9.]+)/i),un(p9,"Firefox iOS",/FxiOS\/([0-9.]+)/i),un(p9,"Safari",/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),un(p9,"Safari Mobile",void 0),un(p9,"Edge",/Edge\/(\d+)/i),un(p9,"Edge Chromium",/Edg\/(\d+)/i),un(p9,"Edge Mobile",void 0),un(p9,"IE",/(MSIE |Trident.*?rv:)(\d+)/i),un(p9,"Opera",/(OPR\/(\d+\.\d+))|(Opera(?=.*Version\/((\d+)\.(\d+))))/i),un(p9,"Opera Mobile",void 0),un(p9,"Vivaldi",/Vivaldi\/((\d+)\.(\d+)\.(\d+)(?:\.(\d+))?)/i),un(p9,"Android Browser",void 0),p9);function k9(t,n){var i=b9[n];return i?W6(t).match(i):null}function A9(t){return k9(t,"Opera")}function T9(t){var n=function(t){return k9(t,"Firefox")}(t);return n?T(n[1]):0}function S9(t){var n=function(t){return k9(t,"Firefox iOS")}(t);return n?T(n[1].split(".")[0]):0}function E9(t){var n=function(t){return k9(t,"Safari")}(t);return n?T(n[2].split(".")[0]):0}function I9(t){var n=function(t){return k9(t,"Edge")}(t);return n?T(n[1]):0}function R9(t){var n=function(t){return k9(t,"Edge Chromium")}(t);return n?T(n[1]):0}function C9(t){var n=function(t){return k9(t,"IE")}(t);return n?T(n[2]):0}function N9(t){var n=function(t){return k9(t,"Vivaldi")}(t);return n?T(n[1]):0}function D9(t){if(G6(t))return o9(t)?"Chrome Mobile":c9(t)||h9(t)?"Firefox Mobile":g9(t)?"Edge Mobile":l9(t)?"Opera Mobile":"Android Browser";if(z6(t)){if(o9(t)||a9(t))return"Chrome iOS";if(c9(t)||v9(t))return"Firefox iOS";if(g9(t))return"Edge Mobile";if(d9(t)||function(t){return d9(t)&&s9(t)}(t))return"Safari Mobile";if(l9(t))return"Opera Mobile"}return function(t){return u9(t,"Chromium")}(t)?"Chromium":function(t){return u9(t,"HeadlessChrome")}(t)?"HeadlessChrome":o9(t)?"Chrome":c9(t)?"Firefox":d9(t)?"Safari":g9(t)?"Edge":w9(t)?"Edge Chromium":m9(t)?"IE":l9(t)?"Opera":y9(t)?"Vivaldi":void 0}function P9(t){return y9(t)?N9(t):a9(t)?Number(function(t){var n=b9["Chrome iOS"];return n&&n.exec(W6(t))||[]}(t)[1]):o9(t)?Number(function(t){var n=b9.Chrome;return n&&n.exec(W6(t))||[]}(t)[1]):c9(t)||h9(t)?T9(t):v9(t)?S9(t):d9(t)?E9(t):g9(t)?I9(t):w9(t)?R9(t):m9(t)?C9(t):l9(t)?function(t){var n=A9(t);return n&&n[0].indexOf("Opera")>-1?T(n[5]):n?T(n[2].split(".")[0]):0}(t):void 0}var x9=function(t){return t.zme="pc",t.qme="console",t.Yme="settop",t.Kme="mobile",t.jme="tablet",t.Qme="smarttv",t.Jme="searchbot",t}({});function L9(t){var n=W6(t);return n.match(/CrKey|Roku|AFTS|AppleTV|Nexus Player/i)?"settop":n.match(/Xbox|Playstation|Wii|Nintendo/i)?"console":/(iPad|Tablet|(Android(?!.*Mobi))|(Windows(?!.*Phone)(.*Touch))|Kindle|Playbook|Silk|(Puffin(?!.*(IP|AP|WP))))/i.test(n)?"tablet":/Mobi/.test(n)?"mobile":n.match(/GoogleTV|SmartTV|SMART-TV|Internet TV|NetCast|NETTV|boxee|Kylo|DLNADOC|hbbtv|CE-HTML/i)?"smarttv":n.match(/(nuhk|Googlebot|bingbot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/i)?"searchbot":function(t){return Boolean(D9(t))}(t)?"pc":void 0}var M9=function(){function t(t,n){var i=this;this.empClient=t,this.agama=n,this.ige=function(){var t=Kn.hR;switch(t){case"wifi":i.empClient.setDeviceMetadata(i.agama.DeviceMetadata.DATA_CONNECTION_TYPE,"wlan");break;case"ethernet":i.empClient.setDeviceMetadata(i.agama.DeviceMetadata.DATA_CONNECTION_TYPE,t);break;case"cellular":var n=function(t){switch(t){case"3g":return"mobile/3G";case"4g":return"mobile/4G";default:return}}(Kn.oR);n&&i.empClient.setDeviceMetadata(i.agama.DeviceMetadata.DATA_CONNECTION_TYPE,n)}}}var n=t.prototype;return n.Wz=function(t){this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_ID,t.deviceID||function(){var t=_d.Cb("deviceId");if(t)return t;var n=xS();return _d.Pb("deviceId",n),n}()),this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.PLAYER,"THEOplayer"),this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.PLAYER_VERSION,"9.0.0"),this.$me(t),this.tge(),this.ege(t),this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.EMPCLIENT_INTEGRATION_VERSION,"3.0"),this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.EMPCLIENT_INTEGRATION_BUILDDATE,"2023-04-17 12:00:00"),t.application&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.APPLICATION,t.application),t.applicationVersion&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.APPLICATION_VERSION,t.applicationVersion),t.userAccountID&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.USER_ACCOUNT_ID,t.userAccountID);var n=t.connectionType;n?this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DATA_CONNECTION_TYPE,n):(this.ige(),l.connection&&l.connection.addEventListener&&l.connection.addEventListener("change",this.ige))},n.$me=function(t){this.sge(t);var n=t.deviceManufacturer||U6&&U6.manufacturer;n&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_MANUFACTURER,n);var i=t.deviceModel||U6&&U6.model;i&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_MODEL,i)},n.sge=function(t){var n=t.deviceType||function(){var t=L9(self);switch(t){case x9.qme:return"game-console";case x9.Qme:return"tv";case x9.Yme:return"media-streamer";default:return t}}();n&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_TYPE,n)},n.tge=function(){var t=D9(self);t&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_BROWSER,t);var n=P9(self);void 0!==n&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_BROWSER_VERSION,n.toString())},n.ege=function(t){var n=t.deviceOs||n9(self);n&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_OS,n);var i=t.deviceOsVersion||r9(self);i&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_OS_VERSION,i.toString())},n.gn=function(){l.connection&&l.connection.removeEventListener&&l.connection.removeEventListener("change",this.ige)},t}();var O9=function(t){function n(){var n;return(n=t.call(this)||this).do=!1,n.age=!1,n.oge=f.Agama,n}It(n,t);var i=n.prototype;return i.yI=function(t){this.rge=t,this.oge&&(this.mX=function(t,n){var i=function(t,n){switch(n){case"info":return t.LogLevel.INFO;case"debug":return t.LogLevel.DEBUG;case"warning":return t.LogLevel.WARNING;case"error":return t.LogLevel.ERROR;default:return t.LogLevel.FATAL}}(n,t.logLevel);n.setLogLevel(i);var r=new n.EMPClient(t.config);return function(t,n){return t.setExternalConfig(n.config),t}(r,t)}(t,this.oge),this.mX&&(this.hge=new M9(this.mX,this.oge),this.do=!0))},i.Vz=function(){return this.oge||console.warn("Please load the Agama Library (empclient.min.js) in order to use the integration"),!!this.oge},i.Oz=function(){return this.do},i.mz=function(t,n){if(this.mX&&this.oge)switch(t){case yS.FZ:this.mX.setMeasurement(this.oge.Measurement.BUFFER_LENGTH,n);break;case yS.VZ:this.mX.setMeasurement(this.oge.Measurement.BYTES_RECEIVED,n);break;case yS.UZ:this.mX.setMeasurement(this.oge.Measurement.SEGMENT_PROFILE_BITRATE,n);break;case yS.GZ:this.mX.setMeasurement(this.oge.Measurement.VIDEO_PROFILE_BITRATE,n);break;case yS.WZ:this.mX.setMeasurement(this.oge.Measurement.SEGMENT_READ_BITRATE,n);break;case yS.NZ:this.mX.setMeasurement(this.oge.Measurement.HTTP_REQUEST_STATUS_CODE_1XX,n);break;case yS.MZ:this.mX.setMeasurement(this.oge.Measurement.HTTP_REQUEST_STATUS_CODE_2XX,n);break;case yS.LZ:this.mX.setMeasurement(this.oge.Measurement.HTTP_REQUEST_STATUS_CODE_3XX,n);break;case yS.BZ:this.mX.setMeasurement(this.oge.Measurement.HTTP_REQUEST_STATUS_CODE_4XX,n);break;case yS.OZ:this.mX.setMeasurement(this.oge.Measurement.HTTP_REQUEST_STATUS_CODE_5XX,n);break;case yS.ZZ:this.mX.setMeasurement(this.oge.Measurement.PLAYBACK_POSITION,n);break;case yS.XZ:this.mX.setMeasurement(this.oge.Measurement.NUMBER_OF_FRAMES_DECODED,n);break;case yS.HZ:this.mX.setMeasurement(this.oge.Measurement.NUMBER_OF_FRAMES_DROPPED,n)}},i.zX=function(t,n){if(this.mX&&this.oge)switch(t){case pS.jZ:this.mX.setSessionMetadata(this.oge.SessionMetadata.ASSET_DURATION,n);break;case pS.KZ:this.mX.setSessionMetadata(this.oge.SessionMetadata.MANIFEST_URI,n);break;case pS.QZ:this.mX.setSessionMetadata(this.oge.SessionMetadata.NUMBER_OF_CONTENT_PROFILES,n);break;case pS.tX:this.mX.setSessionMetadata(this.oge.SessionMetadata.SERVICE_NAME,n);break;case pS.JZ:this.mX.setSessionMetadata(this.oge.SessionMetadata.CDN,n);break;case pS.$Z:this.mX.setSessionMetadata(this.oge.SessionMetadata.CONTENT_TITLE,n);break;case pS.eX:this.mX.setSessionMetadata(this.oge.SessionMetadata.CONTENT_TYPE,n);break;case pS.iX:this.mX.setSessionMetadata(this.oge.SessionMetadata.CONTENT_DESCRIPTION,n)}},i.Wz=function(){this.hge&&this.rge&&this.hge.Wz(this.rge)},i.Fz=function(t,n){this.oge&&this.mX&&(this.Az(),function(t,n,i,r){var e=LS(t,i,r);n.abrSession(e,t.ViewState.INITIAL_BUFFERING)}(this.oge,this.mX,t,n),this.age=!0)},i.gn=function(){this.hge&&this.hge.gn(),this.uge(_S.sX),this.mX=void 0},i.DX=function(t){this.cge(t)},i.LX=function(t,n){this.mX&&this.mX.event(t.code,n)},i.Az=function(){this.mX&&this.age&&(this.mX.exitSession(),this.age=!1)},i.uge=function(t){if(this.mX&&this.oge&&(this.Az(),t===_S.sX))this.mX.shutdown(this.oge.ShutdownType.NORMAL_SHUTDOWN)},i.NX=function(t,n,i){this.cge(t,n,i)},i.cge=function(t,n,i){if(this.mX&&this.oge)switch(t){case mS.BL:this.lge(this.oge.ViewState.PLAYING,n,i);break;case mS.CZ:this.lge(this.oge.ViewState.FAILED,n,i);break;case mS.PZ:this.lge(this.oge.ViewState.INITIAL_BUFFERING,n,i);break;case mS.xZ:this.lge(this.oge.ViewState.PAUSED,n,i);break;case mS.RZ:this.lge(this.oge.ViewState.SEEK,n,i);break;case mS.IZ:this.lge(this.oge.ViewState.STALLED,n,i);break;case mS.DZ:this.lge(this.oge.ViewState.NO_ACCESS,n,i)}},i.lge=function(t,n,i){if(this.mX)if(n){var r=function(t){return t||""}(i);this.mX.viewStateExtended(t,n.code,r)}else this.mX.viewStateChanged(t)},n}(AS);Uk(function(t){return function(n){return function(n){function i(i,r){var e;return(e=n.call(this,i,r)||this).mX=new t,e.nge=new OS(e,e.mX,r),e}It(i,n);var r=i.prototype;return r.AR=function(t,i){this.nge&&this.nge.xX(),n.prototype.AR.call(this,t)},r.gn=function(){this.nge&&this.nge.gn(),n.prototype.gn.call(this)},i}(n)}}(O9),Bk.Mst),F(),Tt(),F(),Tt(),Rt(),F(),Tt(),F(),Tt(),Gt(),Dt(),qt(),F(),Tt();var B9=function(t){return t.PLAY_ALL="play-all",t.PLAY_NONE="play-none",t.PLAY_LAST="play-last",t}({});F(),Tt();var V9=function(t){return t.VOD="vod",t.LIVE="live",t}({}),F9=function(){function t(t,n,i,r,e,u,s){var o=this;this.ta=t,this.pge=n,this.bge=i,this._ge=r,this.dge=e,this.Cge=u,this.vge=s,this.HG=void 0,this.ZG=void 0,this.q9=new Ho,this.Age=new Ho,this.zge=void 0,this.mge=!1,this.l0t=void 0,this.Sge=function(t){var n=t.currentSource;if(n&&n.integrationData){var i=n.integrationData,r=i.preplayResponse,e=i.source;o.dge.qge(r),r&&r.type===V9.VOD&&r.ads&&o._ge.Dge(r.ads),o.pge.Yge=n.integrationData,e.assetInfo&&jo(o.fetchAssetInfo(n))}},this.yce=function(){o.mge=!0},this.xoe=function(){o.mge&&o.Nge(o.ta.bR())},this.hoe=function(){o.mge&&(o.Nge(1/0),o.mge=!1)},this.wd=function(){jo(o.pge.Cn())},this.kge=function(t){o.q9.Xw(),o.q9=new Ho,jo(Uo(o.Ise(t.Yl.BO,o.q9.Bw),o.q9))},this.Ege=function(){1!==o.ta.zR&&(o.zge=o.ta.zR,o.ta.zR=1)},this.xge=function(){void 0!==o.zge&&(o.ta.zR=o.zge,o.zge=void 0)},this.Rge=function(t){t.Yl.yn("Tge",o.kge),t.Yl.yn("snt",o.Ege),t.Yl.yn("int",o.xge)},this.Ige=function(t){t.Yl.fn("Tge",o.kge),t.Yl.fn("snt",o.Ege),t.Yl.fn("int",o.xge)},this.Xge=function(){o.ta.bI()},this.ta.yn(ua.yy,this.Sge),this.ta.yn(ua.so,this.yce),this.ta.yn(ua.$y,this.xoe),this.ta.yn(ua.xy,this.hoe),this.ta.yn(wp.NL,this.wd),this._ge.BJt.yn("$st",this.Rge),this._ge.BJt.yn("Jst",this.Ige)}var n=t.prototype;return n.fge=function(t){this.HG=tw(t),this.ZG=t,this.ta.yo(new wk(t))},n.ka=function(t){this._ge.resetSource(),this.vge.Nb(),this.mge=!1,this.ta.gge(t)},n.gnt=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return i.pge.tr(),i.mge=!1,t&&function(t){return t.sources.some((function(t){return t.integration===LA.UPLYNK}))}(t)?[3,2]:[4,i.ta.wge(t,n)];case 1:return[2,e.sent()];case 2:return e.trys.push([2,5,,6]),[4,i.bge.pfe(t)];case 3:return i.yge=e.sent(),[4,i.ta.wge(i.yge,n)];case 4:return e.sent(),[3,6];case 5:return r=e.sent(),i.fge(new td(Qv.MANIFEST_LOAD_ERROR,r.message,r)),[3,6];case 6:return[2]}}))}))()},n.gn=function(){this.q9.Xw(),this.Age.Xw(),this.ta.fn(ua.yy,this.Sge),this.ta.fn(ua.so,this.yce),this.ta.fn(ua.$y,this.xoe),this.ta.fn(ua.xy,this.hoe),this.ta.fn(wp.NL,this.wd);for(var t=0,n=this._ge.BJt.Ju;t<n.length;t++){var i=n[t];i.fn("Tge",this.kge),i.fn("snt",this.Ege),i.fn("int",this.xge)}this._ge.BJt.fn("$st",this.Rge),this._ge.BJt.fn("Jst",this.Ige),this._ge.destroy(),this.l0t&&(this.l0t.Ww(),this.l0t=void 0),this.mge=!1},n.fetchAssetInfo=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:if(!t||!t.integrationData)return[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.Cge.JSt(t.integrationData.source.prefix,t.integrationData.source.id,n.Age.Bw,t.integrationData.preplayResponse.sid)];case 2:return i=r.sent(),n.dge.Pge(i),n.vge.Dge(i,n._ge.BJt.Ju),[3,4];case 3:return r.sent(),[3,4];case 4:return[2]}}))}))()},n.Nge=function(t){this._ge.Mge(t),this._ge.Zst.forEach((function(n){return n.Lge(t)})),this._ge.Bge(this.ta.sI()),this.c0t()},n.AR=function(t){this._ge.zst||(this.q9.Xw(),this.q9=new Ho,jo(Uo(this.Ise(t,this.q9.Bw),this.q9)))},n.Ise=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:if(Oo(n),t<i.ta.bR())return i.Oge(t),[2];switch(r=[],i._ge.Fge){case B9.PLAY_ALL:return[3,1];case B9.PLAY_LAST:return[3,3];case B9.PLAY_NONE:return[3,5]}return[3,6];case 1:return r=i._ge.Vge(i.ta.bR(),t),[4,i.Wge(t,r,n)];case 2:case 4:return u.sent(),[3,6];case 3:return e=i._ge.Vge(i.ta.bR(),t).pop(),r=e?[e]:[],[4,i.Wge(t,r,n)];case 5:return i.Uge(t),[3,6];case 6:return[2]}}))}))()},n.Oge=function(t){var n=ao(this._ge.BJt.Ju,(function(n){return n.iut.gr(t)}));n?this.ta.Gge(n.LO):this.ta.Gge(t)},n.Uge=function(t){var n=this._ge.Vge(this.ta.bR(),t).pop();n&&n.iut.gr(t)?this.ta.Gge(n.BO):this.ta.Gge(t)},n.Wge=function(t,n,i){var r=this;return Zt((function(){var e,u,s;return Ht(this,(function(o){switch(o.label){case 0:e=0,o.label=1;case 1:return e<n.length?(u=n[e],[4,r.Hge(u,i)]):[3,4];case 2:o.sent(),o.label=3;case 3:return e++,[3,1];case 4:return(s=n[n.length-1])&&s.iut.gr(t)?(r.ta.bR()<t&&r.ta.Gge(s.BO),[2]):(r.ta.Gge(t),[2])}}))}))()},n.Hge=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return t.fn("Tge",i.kge),r=et.race([t.uy("int",n),t.uy("Tge",n)]),i.Nge(i.ta.bR()),t.Yh||i.ta.Gge(t.LO),[4,r];case 1:return e.sent(),t.yn("Tge",i.kge),[2]}}))}))()},n.c0t=function(){var t=ao(this._ge.Zst,(function(t){return t.Zge.length>0}));if(t){var n=t.Zge[0];this.l0t||(this.l0t=new JQ(this.ta.we),this.l0t.yn("clickstart",this.Xge)),this.l0t.T$t=n}else this.l0t&&(this.l0t.Ww(),this.l0t=void 0)},Nt(t,[{key:"ga",get:function(){return this.dge.ga}},{key:"lt",get:function(){return this.HG}},{key:"RR",get:function(){return this.ZG}}]),t}();F(),Tt(),Gt(),sn(),qt(),F(),Tt();var U9=Cb({breaksIndex:bb,adsIndex:bb,startTime:bb,endTime:bb}),W9=Cb({index:bb,timeOffset:bb}),Z9=Cb({duration:bb,apiFramework:Lb(kb,Eb),creative:kb,mimeType:kb,width:bb,height:bb,companions:Ob(function(t){return new Fb(t)}((function(){return Z9}))),extensions:Lb(Tb,Ob(Sb)),fw_parameters:Lb(Tb,Vb(kb)),events:Vb(Ob(kb))}),X9=Cb({type:Pb(["linear","nonlinear"]),position:Pb(["preroll","midroll","postroll","pause","overlay",""]),timeOffset:bb,duration:bb,ads:Ob(Z9),events:Vb(Ob(kb))}),G9=Cb({breaks:Ob(X9),breakOffsets:Lb(Tb,Ob(W9)),placeholderOffsets:Lb(Tb,Ob(U9))}),H9=Cb({required:Lb(Tb,Ab),fairplayCertificateURL:Lb(Tb,kb),widevineLicenseURL:Lb(Tb,kb),playreadyLicenseURL:Lb(Tb,kb)}),z9={type:Pb(Nb(V9)),playURL:kb,prefix:kb,sid:kb,drm:Lb(Tb,H9)},Y9=Cb($u({},z9,{type:Pb([V9.VOD]),ads:G9,interstitialURL:Lb(kb,Eb,Tb)})),j9=Lb(Y9,Cb($u({},z9,{type:Pb([V9.LIVE])})));F(),Tt();var K9,q9=kb,J9=Cb({userId:kb,externalId:Lb(kb,Ob(kb))}),Q9=function(){function t(t){this.aW=t}var n=t.prototype;return n.JSt=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){try{return[2,n.Kge(t)]}catch(t){throw t}return[2]}))}))()},n.Kge=function(t){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:return[4,t8(t)];case 1:return i=u.sent(),[4,n.aW.zk({gE:ul.GET,qu:i,Xk:Sd.gk})];case 2:return[4,u.sent().Zk()];case 3:return r=u.sent(),e=$u({},r,{type:t.assetType===ZS.ASSET?V9.VOD:V9.LIVE}),j9.OU(e)||j9.VU(e,"PreplayResponse"),[2,e]}}))}))()},t}(),$9=(un(K9={},ZS.ASSET,""),un(K9,ZS.CHANNEL,"channel/"),un(K9,ZS.EVENT,"event/"),K9);function t8(t){return n8.apply(this,arguments)}function n8(){return n8=Zt((function(t){var n,i,r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return n=t.prefix,i=$9[t.assetType],r=function(t){if(Ob(q9).OU(t))return 1===t.length?t[0]:t.join(",")+"/multiple";if(q9.OU(t))return t;if(J9.OU(t)&&qn(t.externalId))return 1===t.externalId.length?"ext/"+t.userId+"/"+t.externalId[0]:"ext/"+t.userId+"/"+t.externalId.join(",")+"/multiple";if(J9.OU(t))return"ext/"+t.userId+"/"+t.externalId;throw new _("Invalid asset id")}(t.id),[4,i8(t.contentProtected)];case 1:return e=o.sent(),u=function(t,n){var i=e8(t,n);return i?{"ad.cping":"1","ad.pingf":String(i)}:{}}(t.assetType,t.ping),s={},qn(t.preplayParameters)?t.preplayParameters.forEach((function(t){s[t[0]]=t[1]})):s=t.preplayParameters,[2,dl(n+"/preplay/"+i+r+".json",$u({v:"2"},s,e,u,s))]}}))})),n8.apply(this,arguments)}function i8(t){return r8.apply(this,arguments)}function r8(){return r8=Zt((function(t){var n,i,r;return Ht(this,(function(e){switch(e.label){case 0:return(n=t)?[4,Kn.Gp()]:[3,2];case 1:n=e.sent(),e.label=2;case 2:return n?[2,{rmt:"fps",manifest:"m3u8"}]:[3,3];case 3:return(i=t)?[4,Kn.Zp()]:[3,5];case 4:i=e.sent(),e.label=5;case 5:return i?[2,{rmt:"wv",manifest:"mpd"}]:[3,6];case 6:return(r=t)?[4,Kn.Hp()]:[3,8];case 7:r=e.sent(),e.label=8;case 8:if(r)return[2,{rmt:"pr",manifest:"mpd"}];e.label=9;case 9:return[2,{}]}}))})),r8.apply(this,arguments)}function e8(t,n){var i=t!==ZS.ASSET;return(!i&&n.adImpressions?1:0)+(!i&&n.freeWheelVideoViews?2:0)+(i&&n.linearAdData?4:0)}F(),Tt(),Gt(),qt(),F(),Tt();var u8=Cb({ad_id:kb,apiFramework:Lb(Eb,kb),companions:Ob(Sb),creative:kb,duration:bb,mimeType:kb,height:bb,width:bb,extensions:Lb(Tb,Ob(Sb)),fw_parameters:Lb(Tb,Vb(kb))}),s8=Cb({breakId:kb,ads:Ob(u8),type:Pb(["linear","nonlinear"]),position:Pb(["preroll","midroll","postroll","pause","overlay",""]),timeOffset:bb,duration:bb,height:Lb(Tb,bb),width:Lb(Tb,bb),events:Vb(Ob(kb))}),o8=Cb({breaks:Ob(s8)}),a8=Cb({next_time:bb,ads:Lb(Tb,o8),extensions:Lb(Tb,Ob(Sb)),error:Lb(Tb,kb),currentBreakEnd:Lb(Tb,bb)}),c8=function(t){return t.sTt="start",t.RZ="seek",t}({}),h8=function(){function t(t){this.aW=t}var n=t.prototype;return n.JSt=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){try{return[2,i.Kge(t,n)]}catch(t){throw t}return[2]}))}))()},n.Kge=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return r=function(t){var n={v:"3",pt:String(t.currentTime)};(function(t){return void 0!==t.seekTime})(t)&&t.hasFreeWheelVideoViews&&(n.ft=String(t.seekTime));t.event&&(n.ev=t.event);return dl(t.zonePrefix+"/session/ping/"+t.sessionId+".json",$u({},n))}(t),[4,i.aW.zk({gE:ul.GET,qu:r,Xk:Sd.gk,Bw:n})];case 1:return[4,u.sent().Zk()];case 2:return e=u.sent(),a8.OU(e)||a8.VU(e,"PingResponse"),[2,e]}}))}))()},t}();F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Dt(),Rt();var f8=function(t){function n(n){var i;return(i=t.call(this,"jge")||this).GE=n,i}return It(n,t),n.prototype.ma=function(){return new v8(this.GE)},Nt(n,[{key:"UE",get:function(){return this.GE}}]),n}(dg),v8=function(t){function n(n){var i;return(i=t.call(this,"pingresponse")||this).response=n,i}return It(n,t),n}(ea);F(),Tt(),Dt(),Rt();var d8=function(t){function n(n){var i;return(i=t.call(this,"Qge")||this).HG=n,i}return It(n,t),n.prototype.ma=function(){return new l8(this.HG)},Nt(n,[{key:"lt",get:function(){return this.HG}}]),n}(dg),l8=function(t){function n(n){var i;return(i=t.call(this,"pingerror")||this).error=n,i}return It(n,t),n}(ea),g8=function(t){function n(n,i){var r,e;return r=t.call(this)||this,e=r,r.ope=n,r.ta=i,r.tpe=NaN,r.rpe=void 0,r.hpe=!1,r.ape=NaN,r.OT=new Ho,r.npe=void 0,r.ipe=Zt((function(){var t;return Ht(this,(function(n){switch(n.label){case 0:return t=e.ta.bR(),e.ape=t,e.hpe||jn(e.rpe)||S(e.tpe)?[2]:e.tpe+e.rpe<=t?(e.hpe=!0,[4,e.epe()]):[3,2];case 1:n.sent(),e.hpe=!1,n.label=2;case 2:return[2]}}))})),r.spe=function(){if(r.ta.bR()!==r.tpe){r.hpe&&r.upe(),r.ape=r.ta.bR();var t=r.ape-(r.tpe||0);S(t)?jo(r.epe(c8.RZ,0)):jo(r.epe(c8.RZ,t))}},r}It(n,t);var i=n.prototype;return i.Cn=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:return(n=t.Jge)?(i=e8(n.source.assetType,n.source.ping),0!==i?(t.tpe=t.ta.sI().start(0),[4,t.epe(c8.sTt)]):[2]):[2];case 1:return r.sent(),t.ta.yn("timeupdate",t.ipe),t.ta.yn("seeking",t.spe),[2]}}))}))()},i.epe=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:if(r=i.Jge.preplayResponse,e={},S(i.tpe))return[2];if(Yn(i.npe)&&sr(i.npe,i.ta.bR()-i.tpe))return[2];void 0!==n&&(e.seekTime=n),void 0!==t&&(e.event=t),u=i.ta.bR()-i.tpe,t===c8.sTt?u=0:t!==c8.RZ&&i.rpe&&(u=k.min(u,i.rpe)),i.npe=u,h.label=1;case 1:return h.trys.push([1,3,4,5]),[4,i.ope.JSt($u({zonePrefix:r.prefix,sessionId:r.sid,currentTime:u,hasFreeWheelVideoViews:null==(o=i.Jge)?void 0:o.source.ping.freeWheelVideoViews},e),i.OT.Bw)];case 2:return a=h.sent(),i.yo(new f8(a)),i.rpe=-1!==a.next_time?a.next_time:void 0,s=a.error,[3,5];case 3:return Mo(c=h.sent())||(s=c.message),[3,5];case 4:return s&&i.yo(new d8(s)),[7];case 5:return[2]}}))}))()},i.tr=function(){this.rpe=void 0,this.Jge=void 0,this.tpe=NaN,this.hpe=!1,this.ape=NaN,this.npe=void 0,this.ta.fn("seeking",this.spe),this.ta.fn("timeupdate",this.ipe),this.upe()},i.upe=function(){this.OT.Xw(),this.OT=new Ho},i.gn=function(){this.tr()},Nt(n,[{key:"Yge",set:function(t){this.Jge=t}},{key:"$ge",get:function(){return this.tpe}}]),n}(na);F(),Tt(),Gt(),qt();var w8=function(){function t(t,n){this.cpe=t,this.AQ=n}return t.prototype.pfe=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:i=[],r=0,e=t.sources,a.label=1;case 1:return r<e.length?HA(u=e[r])?[3,2]:(i.push(u),[3,5]):[3,6];case 2:return a.trys.push([2,4,,5]),[4,n.cpe.JSt(u)];case 3:return s=a.sent(),o=function(t,n,i){var r,e=t.preplayResponse;t.source.contentProtected&&e.drm&&(r={integration:"uplynk"},e.drm.fairplayCertificateURL&&(r.fairplay={certificateURL:e.drm.fairplayCertificateURL}),e.drm.widevineLicenseURL&&(r.widevine={licenseAcquisitionURL:e.drm.widevineLicenseURL}),e.drm.playreadyLicenseURL&&(r.playready={licenseAcquisitionURL:e.drm.playreadyLicenseURL}));var u=fA({src:e.playURL,contentProtection:r,useNativePlayback:t.source.useNativePlayback,hls:t.source.hls,dash:t.source.dash,seamlessSwitchStrategy:t.source.seamlessSwitchStrategy},n,i);return u.integrationData=t,u}({source:u,preplayResponse:s},t,n.AQ),o.src&&(o.src=dl(o.src,u.playbackUrlParameters)),i.push(o),[3,5];case 4:return a.sent(),[3,5];case 5:return r++,[3,1];case 6:if(0!==t.sources.length&&0===i.length)throw new p("Fatal: unable to play UplynkSources.");return[2,$u({},t,{sources:i})]}}))}))()},t}();F(),Tt(),Dt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Rt();var m8=function(t){function n(n,i){var r;return(r=t.call(this,"snt")||this).Yl=n,r.eV=i,r}return It(n,t),n.prototype.ma=function(){return new y8(this.Yl.ga)},n}(dg),y8=function(t){function n(n){var i;return(i=t.call(this,"adbreakbegin")||this).adBreak=n,i}return It(n,t),n}(ea);F(),Tt(),Rt();var p8=function(t){function n(n,i){var r;return(r=t.call(this,"int")||this).Yl=n,r.eV=i,r}return It(n,t),n.prototype.ma=function(){return new _8(this.Yl.ga)},n}(dg),_8=function(t){function n(n){var i;return(i=t.call(this,"adbreakend")||this).adBreak=n,i}return It(n,t),n}(ea);F(),Tt(),Rt();var b8=function(t){function n(n){var i;return(i=t.call(this,"Tge")||this).Yl=n,i}return It(n,t),n.prototype.ma=function(){return new k8(this.Yl.ga)},n}(dg),k8=function(t){function n(n){var i;return(i=t.call(this,"adbreakskip")||this).adBreak=n,i}return It(n,t),n}(ea);F(),Tt(),F(),Tt(),Rt();var A8=function(t){function n(n){var i;return(i=t.call(this,"V2t")||this).Yl=n,i}return It(n,t),n.prototype.ma=function(){return new T8(this.Yl.ga)},n}(dg),T8=function(t){function n(n){var i;return(i=t.call(this,"updateadbreak")||this).adBreak=n,i}return It(n,t),n}(ea),S8=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).XO=n,s.IA=i,s.Dc=r,s.e_e=e,s.Kh=!1,s.fpe=!1,s.vKt=u,s}It(n,t);var i=n.prototype;return i.lpe=function(t){this.IA=t-this.LO;for(var n=0,i=this.Vc.Ju;n<i.length;n++){var r=i[n];r.LO>t&&this.Vc.jS(r)}this.yo(new A8(this))},i.kct=function(t){return t>=this.LO&&(jn(this.ct)||t<=this.LO+this.ct)},i._pe=function(t){return-1!==this._Kt&&(!!Yn(this.BO)&&t-this.LO>=this._Kt)},i.RD=function(){this.Dc.Ju.forEach((function(t){return t.RD()})),this.yo(new b8(this))},i.vpe=function(t){var n=Yn(this.BO)&&t>=this.BO,i=this.LO<=t&&!n&&!this.Yh,r=this.Yh&&this.BO&&t>=this.BO;i&&(this.Kh=!0,this.yo(new m8(this,this.LO))),this.Dc.Ju.forEach((function(n){return n.vpe(t)})),r&&(this.fpe=!0,this.Kh=!1,this.yo(new p8(this,this.BO)))},Nt(n,[{key:"ga",get:function(){return this.Za||(this.Za=function(t){var n,i={get startTime(){return t.LO},get endTime(){return t.BO},get duration(){return t.ct},get ads(){return t.Vc.ga},get skipOffset(){return t._Kt},set skipOffset(n){t._Kt=n},addEventListener:function(t,i){n.yn(t,i)},removeEventListener:function(t,i){n.fn(t,i)}};return n=new iR(t,i),i}(this)),this.Za}},{key:"LO",get:function(){return this.XO}},{key:"BO",get:function(){return this.IA?this.XO+this.IA:void 0}},{key:"ct",get:function(){return this.IA}},{key:"iut",get:function(){var t=this.BO;return Yn(t)?new AA([this.LO,t]):AA.fB()}},{key:"Vc",get:function(){return this.Dc}},{key:"dpe",get:function(){return this.fpe}},{key:"Yh",get:function(){return this.Kh}},{key:"_Kt",get:function(){return this.e_e?-1:this.vKt},set:function(t){this.e_e||(this.vKt=t)}}]),n}(ra);F(),Tt(),Dt(),Rt(),F(),Tt(),Rt();var E8=function(t){function n(n,i){var r;return(r=t.call(this,"nnt")||this).tnt=n,r.eV=i,r}return It(n,t),n.prototype.ma=function(){return new I8(this.tnt.ga)},n}(dg),I8=function(t){function n(n){var i;return(i=t.call(this,"adbegin")||this).ad=n,i}return It(n,t),n}(ea);F(),Tt(),Rt();var R8=function(t){function n(n,i){var r;return(r=t.call(this,"rnt")||this).tnt=n,r.eV=i,r}return It(n,t),n.prototype.ma=function(){return new C8(this.tnt.ga)},n}(dg),C8=function(t){function n(n){var i;return(i=t.call(this,"adend")||this).ad=n,i}return It(n,t),n}(ea);F(),Tt(),Rt(),F(),Tt(),Rt();var N8=function(t){function n(n){var i;return(i=t.call(this,"mpe")||this).tnt=n,i}return It(n,t),n.prototype.ma=function(){return new D8(this.tnt.ga)},n}(dg),D8=function(t){function n(n){var i;return(i=t.call(this,"removead")||this).ad=n,i}return It(n,t),n}(ea),P8=function(t){function n(){return t.call(this)||this}It(n,t);var i=n.prototype;return i.Bte=function(t){},i.Wte=function(t){this.yo(new N8(t))},n}(a1);F(),Tt(),Rt();var x8=function(t){function n(n){var i;return(i=t.call(this,"U2t")||this).tnt=n,i}return It(n,t),n.prototype.ma=function(){return new L8(this.tnt.ga)},n}(dg),L8=function(t){function n(n){var i;return(i=t.call(this,"adfirstquartile")||this).ad=n,i}return It(n,t),n}(ea),M8=function(t){function n(n){var i;return(i=t.call(this,"G2t")||this).tnt=n,i}return It(n,t),n.prototype.ma=function(){return new O8(this.tnt.ga)},n}(dg),O8=function(t){function n(n){var i;return(i=t.call(this,"admidpoint")||this).ad=n,i}return It(n,t),n}(ea),B8=function(t){function n(n){var i;return(i=t.call(this,"H2t")||this).tnt=n,i}return It(n,t),n.prototype.ma=function(){return new V8(this.tnt.ga)},n}(dg),V8=function(t){function n(n){var i;return(i=t.call(this,"adthirdquartile")||this).ad=n,i}return It(n,t),n}(ea),F8=function(t){function n(n){var i;return(i=t.call(this,"gpe")||this).tnt=n,i}return It(n,t),n.prototype.ma=function(){return new U8(this.tnt.ga)},n}(dg),U8=function(t){function n(n){var i;return(i=t.call(this,"adcomplete")||this).ad=n,i}return It(n,t),n}(ea);F(),Tt();var W8=function(t){function n(n,i,r,e,u,s,o,a,c,h,f,v){var d;return void 0===c&&(c=[]),void 0===h&&(h={}),void 0===f&&(f={}),(d=t.call(this)||this).XO=n,d.IA=i,d.RYt=r,d.Spe=e,d.hY=u,d.HA=s,d.ZA=o,d.Tpe=c,d.kpe=h,d.Xf=f,d.sKt=v,d.pYt=new P8,d.Kh=!1,d.Epe=!1,d.xpe=!1,d.Rpe=!1,d.Ipe=!1,d.Cpe=function(){return d.Lge(d.XO)},d.Ppe=function(){return d.Lge(d.BO)},d.pYt.Ote(a),d.yn("nnt",d.Cpe),d.yn("rnt",d.Ppe),d}It(n,t);var i=n.prototype;return i.vpe=function(t){var n=this.LO<=t&&t<this.BO,i=n&&!this.Yh,r=!n&&this.Yh;i&&(this.Epe=!1,this.xpe=!1,this.Rpe=!1,this.Ipe=!1,this.Kh=!0,this.yo(new E8(this,this.LO))),r&&(this.Kh=!1,this.yo(new R8(this,this.BO)))},i.Lge=function(t){var n=(t-this.LO)/this.ct;!this.Epe&&n>=.25&&(this.Epe=!0,this.yo(new x8(this))),!this.xpe&&n>=.5&&(this.xpe=!0,this.yo(new M8(this))),!this.Rpe&&n>=.75&&(this.Rpe=!0,this.yo(new B8(this))),!this.Ipe&&n>=.9999&&(this.Ipe=!0,this.yo(new F8(this)))},i.RD=function(){this.Epe=!0,this.xpe=!0,this.Rpe=!0,this.Ipe=!0},i.gn=function(){this.fn("nnt",this.Cpe),this.fn("rnt",this.Ppe)},n.ppe=function(t,i){return new n(t,i.duration,i.apiFramework||"",i.creative,i.mimeType,i.width,i.height,i.companions.map((function(i){return n.ppe(t,i)})),i.extensions,i.fw_parameters,i.events,void 0)},n.wpe=function(t,i){return new n(t,i.duration,i.apiFramework||"",i.creative,i.mimeType,i.width,i.height,i.companions.map((function(i){return n.wpe(t,i)})),i.extensions,i.fw_parameters,void 0,i.ad_id)},Nt(n,[{key:"ga",get:function(){return this.Za||(this.Za=function(t){var n,i={get apiFramework(){return t.xYt},get companions(){return t.gYt.ga},get creative(){return t.ype},get duration(){return t.ct},get endTime(){return t.BO},get events(){return t.zq},get extensions(){return t.bpe},get freeWheelParameters(){return t.Ape},get height(){return t.Ti},get mimeType(){return t.Xq},get startTime(){return t.LO},get width(){return t.ji},addEventListener:function(t,i){n.yn(t,i)},removeEventListener:function(t,i){n.fn(t,i)}};return n=new iR(t,i),i}(this)),this.Za}},{key:"LO",get:function(){return this.XO}},{key:"BO",get:function(){return this.XO+this.IA}},{key:"ct",get:function(){return this.IA}},{key:"xYt",get:function(){return this.RYt}},{key:"ype",get:function(){return this.Spe}},{key:"Xq",get:function(){return this.hY}},{key:"ji",get:function(){return this.HA}},{key:"Ti",get:function(){return this.ZA}},{key:"zq",get:function(){return this.Xf}},{key:"gYt",get:function(){return this.pYt}},{key:"bpe",get:function(){return this.Tpe}},{key:"Ape",get:function(){return this.kpe}},{key:"Yh",get:function(){return this.Kh}},{key:"Zge",get:function(){var t;return null!=(t=this.Xf.clickthroughs)?t:[]}}]),n}(ra);F(),Tt(),Rt(),F(),Tt(),Rt();var Z8=function(t){function n(n){var i;return(i=t.call(this,"$st")||this).Yl=n,i}return It(n,t),n.prototype.ma=function(){return new X8(this.Yl.ga)},n}(dg),X8=function(t){function n(n){var i;return(i=t.call(this,"addadbreak")||this).adBreak=n,i}return It(n,t),n}(ea);F(),Tt(),Rt();var G8=function(t){function n(n){var i;return(i=t.call(this,"Jst")||this).Yl=n,i}return It(n,t),n.prototype.ma=function(){return new H8(this.Yl.ga)},n}(dg),H8=function(t){function n(n){var i;return(i=t.call(this,"removeadbreak")||this).adBreak=n,i}return It(n,t),n}(ea),z8=function(t){function n(){return t.call(this)||this}It(n,t);var i=n.prototype;return i.Bte=function(t){this.yo(new Z8(t))},i.Wte=function(t){this.yo(new G8(t))},n}(a1),Y8=function(){function t(t,n,i,r){var e,u=this;this.Lpe=[],this.Wpe=void 0,this.Gpe=function(t){return u.Wpe=t,u},this.Vpe=function(t){t.UE.ads&&u.Dge(t.UE.ads),t.UE.currentBreakEnd&&u.Bpe(t.UE.currentBreakEnd)},this.Fpe=function(t){if(0!==u.Lpe.length&&0!==u.ta.sI().length)for(var n=u.ta.sI().end(u.ta.sI().length-1),i=0,r=u.Lpe.slice();i<r.length;i++){var e=r[i];Yn(e.hYt.ct)?lo(u.Lpe,e):e.MRt<n&&(e.hYt.lpe(e.MRt),lo(u.Lpe,e))}},this.yd=function(t){var n,i=null==(n=u.Wpe)?void 0:n.createAdBreak({timeOffset:t.Yl.LO,maxDuration:t.Yl.ct,customData:t.Yl});t.Yl.yn("Tge",u.Hpe);for(var r=0,e=t.Yl.Vc.Ju;r<e.length;r++){var s,o,a=e[r],c={type:"linear",timeOffset:a.LO,duration:a.ct,creativeId:a.ype,skipOffset:t.Yl._Kt,clickThrough:null==(s=a.Zge)?void 0:s[0],customData:a};null==(o=u.Wpe)||o.createAd(c,i),a.yn("nnt",u.y9t),a.yn("rnt",u.Zpe),a.yn("U2t",u.Xpe),a.yn("G2t",u.zpe),a.yn("H2t",u.qpe),a.yn("gpe",u.ume)}},this.Hpe=function(t){for(var n=0,i=t.Yl.Vc.Ju;n<i.length;n++){var r,e,s=i[n],o=u.Upe(s);if(o)null==(r=u.Wpe)||r.beginAd(o),null==(e=u.Wpe)||e.skipAd(o)}},this.bd=function(t){for(var n=0,i=t.Yl.Vc.Ju;n<i.length;n++){i[n].Bo()}t.Yl.Bo()},this.y9t=function(t){var n,i=u.Upe(t.tnt);i&&(null==(n=u.Wpe)||n.beginAd(i))},this.Zpe=function(t){var n,i=u.Upe(t.tnt);i&&(null==(n=u.Wpe)||n.endAd(i))},this.Xpe=function(t){var n,i=u.Upe(t.tnt);i&&(null==(n=u.Wpe)||n.updateAdProgress(i,.25))},this.zpe=function(t){var n,i=u.Upe(t.tnt);i&&(null==(n=u.Wpe)||n.updateAdProgress(i,.5))},this.qpe=function(t){var n,i=u.Upe(t.tnt);i&&(null==(n=u.Wpe)||n.updateAdProgress(i,.75))},this.ume=function(t){var n,i=u.Upe(t.tnt);i&&(null==(n=u.Wpe)||n.updateAdProgress(i,1))},this.ta=t,this.pge=n,this.h$t=new z8,this.h$t.yn("$st",this.yd),this.h$t.yn("Jst",this.bd),this.Mpe=i,this.Npe=r,t.yn("timeupdate",this.Fpe),this.pge.yn("jge",this.Vpe),null==(e=this.ta.Vc)||e.Kst(gS.UPLYNK,this.Gpe)}var n=t.prototype;return n.Bge=function(t){if(0!==t.length)for(var n=AA.xn(t),i=0,r=this.h$t.Ju.slice();i<r.length;i++){var e=r[i];Yn(e.BO)&&n.Cn(0)>e.BO&&this.h$t.jS(e)}},n.Dge=function(t){for(var n=!function(t){return Yn(t.breakOffsets)}(t),i=n?this.pge.$ge:0,r=0,e=t.breaks;r<e.length;r++){var u=e[r];if(0!==u.ads.length){for(var s=u.timeOffset+i,o=new P8,a=0,c=0,h=u.ads;c<h.length;c++){var f=h[c],v=n?W8.wpe(s,f):W8.ppe(s,f);o.yO(v),s+=v.ct,a+=v.ct}var d=u.timeOffset+i,l=n?void 0:u.duration,g=new S8(d,l,o,n,this.Mpe);n&&this.Lpe.push({hYt:g,MRt:d+a}),this.h$t.yO(g)}}},n.Bpe=function(t){var n=this.Dpe;n&&n.lpe(t+this.pge.$ge)},n.Mge=function(t){this.Ope=t,this.h$t.Ju.forEach((function(n){return n.vpe(t)}))},n.RD=function(){var t=this.Ope,n=this.zst;t&&n&&n._pe(t)&&n.RD()},n.skipAd=function(t){this.RD()},n.Vge=function(t,n){for(var i=[],r=0,e=this.BJt.Ju;r<e.length;r++){var u=e[r];!u.dpe&&u.LO>=t&&u.LO<n&&i.push(u)}return i},n.destroy=function(){this.ta.fn("timeupdate",this.Fpe),this.pge.fn("jge",this.Vpe)},n.resetSource=function(){for(var t,n=0,i=this.BJt.Ju;n<i.length;n++){for(var r=i[n],e=0,u=r.Vc.Ju;e<u.length;e++){u[e].Bo()}r.Bo()}this.BJt.Nb(),null==(t=this.Wpe)||t.removeAllAds(),this.Ope=void 0,this.Lpe=[]},n.Upe=function(t){return ao(this.Wpe.ads,(function(n){return n.creativeId===t.ype}))},Nt(t,[{key:"ga",get:function(){return this.Za||(this.Za=function(t){return{get adBreaks(){return t.BJt.ga},get currentAdBreak(){if(t.zst)return t.zst.ga},get currentAds(){return t.zst?t.zst.Vc.ga:(new P8).ga},skip:function(){t.RD()}}}(this)),this.Za}},{key:"BJt",get:function(){return this.h$t}},{key:"zst",get:function(){return ao(this.h$t.Ju,(function(t){return t.Yh}))}},{key:"Zst",get:function(){return this.zst?this.zst.Vc.Ju.filter((function(t){return t.Yh})):[]}},{key:"Dpe",get:function(){if(0!==this.BJt.V&&0!==this.ta.sI().length){var t=this.ta.sI().end(this.ta.sI().length-1);return ao(this.BJt.Ju,(function(n){return n.kct(t)}))}}},{key:"Fge",get:function(){return this.Npe}}]),t}();F(),Tt(),Gt(),qt(),F(),Tt(),F(),Tt(),Dt();var j8=function(t){return t[t.NOT_AVAILABLE=-1]="NOT_AVAILABLE",t[t.NOT_APPLICABLE=0]="NOT_APPLICABLE",t[t.G=1]="G",t[t.PG=2]="PG",t[t.PG_13=3]="PG_13",t[t.R=4]="R",t[t.NC_17=5]="NC_17",t[t.X=6]="X",t[t.NOT_RATED=7]="NOT_RATED",t}({}),K8=function(t){return t[t.NOT_AVAILABLE=-1]="NOT_AVAILABLE",t[t.NOT_APPLICABLE=0]="NOT_APPLICABLE",t[t.TV_Y=1]="TV_Y",t[t.TV_Y7=2]="TV_Y7",t[t.TV_G=3]="TV_G",t[t.TV_PG=4]="TV_PG",t[t.TV_14=5]="TV_14",t[t.TV_MA=6]="TV_MA",t[t.NOT_RATED=7]="NOT_RATED",t}({}),q8=function(){function t(t,n,i,r,e,u,s,o,a,c,h,f,v,d,l,g,w,m,y,p,_,b,k,A,T){this.LO=t,this.BO=n,this.ct=i,this.Kpe=r,this.jpe=e,this.lt=u,this.Qpe=s,this.Jpe=o,this.$pe=a,this.twe=c,this.iwe=h,this.nwe=f,this.GV=v,this.rwe=d,this.owe=l,this.hwe=g,this.awe=w,this.MN=m,this.uwe=y,this.cwe=p,this.lwe=_,this.dwe=b,this.fwe=k,this._we=A,this.vwe=T}return t.Ype=function(n,i,r){var e=new Ma(n.rating_flags);return new t(i,r,n.duration,Boolean(n.audio_only),n.boundary_details,Boolean(n.error),n.tv_rating,n.max_slice,n.thumb_prefix,n.slice_dur,n.movie_rating,n.owner,n.meta,n.rates,n.thumbs,n.poster_url,n.default_poster_url,n.desc,e.kb(1),e.kb(2),e.kb(4),e.kb(8),n.external_id,Boolean(n.is_ad),n.asset)},Nt(t,[{key:"ga",get:function(){return this.Za||(this.Za=function(t){return{startTime:t.LO,endTime:t.BO,duration:t.ct,audioOnly:t.Kpe,boundaryDetails:t.jpe,error:t.lt,tvRating:t.Qpe,maxSlice:t.Jpe,thumbPrefix:t.$pe,sliceDuration:t.twe,movieRating:t.iwe,ownerId:t.nwe,metadata:t.GV,rates:t.rwe,thumbnailResolutions:t.owe,posterUrl:t.hwe,defaultPosterUrl:t.awe,description:t.MN,hasAdultLanguage:t.uwe,hasSexualSituations:t.cwe,hasViolence:t.lwe,hasDrugSituations:t.dwe,externalId:t.fwe,isAd:t._we,assetId:t.vwe}}(this)),this.Za}}]),t}();var J8=Cb({duration:bb,offset:bb}),Q8=Cb({c3:J8}),$8=Cb({c7:J8}),t7=Cb({halftime:J8}),n7=Pb(Nb(K8)),i7=Pb(Nb(j8)),r7=Cb({width:Lb(Tb,bb),prefix:kb,bw:bb,bh:bb,height:Lb(Tb,bb)}),e7=Cb({audio_only:bb,boundary_details:Lb(Tb,Ob(Lb(Q8,$8,t7))),error:bb,tv_rating:n7,max_slice:bb,thumb_prefix:kb,slice_dur:bb,movie_rating:i7,owner:kb,meta:Sb,rates:Ob(bb),thumbs:Ob(r7),poster_url:kb,duration:bb,default_poster_url:kb,desc:kb,rating_flags:bb,external_id:kb,is_ad:bb,asset:kb}),u7=function(){function t(t){this.aW=t}var n=t.prototype;return n.JSt=function(t,n,i,r){var e=this;return Zt((function(){var u,s;return Ht(this,(function(o){switch(o.label){case 0:return u=function(t,n,i){if(q9.OU(n))return[s7(t,n,i)];if(Ob(q9).OU(n))return n.map((function(n){return s7(t,n,i)}));if(J9.OU(n)){return(qn(n.externalId)?n.externalId:[n.externalId]).map((function(r){return s7(t,"ext/"+n.userId+"/"+r,i)}))}throw new _("Invalid asset id")}(t,n,r),s=u.map((function(t){return gT((function(){return e.Kge(t)}),i)})),[4,et.all(s)];case 1:return[2,o.sent().filter(Yn)]}}))}))()},n.Kge=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,n.aW.zk({gE:ul.GET,qu:t,Xk:Sd.gk})];case 1:return[4,r.sent().Zk()];case 2:return i=r.sent(),e7.OU(i)||e7.VU(i,"AssetInfoResponse"),[2,i]}}))}))()},t}();function s7(t,n,i){return i?t+"/player/assetinfo/"+n+".json?pbs="+i:t+"/player/assetinfo/"+n+".json"}F(),Tt(),Rt(),F(),Tt(),Rt();var o7=function(t){function n(n){var i;return(i=t.call(this,"mwe")||this).rd=n,i}return It(n,t),n.prototype.ma=function(){return new a7(this.rd.ga)},n}(dg),a7=function(t){function n(n){var i;return(i=t.call(this,"removeasset")||this).asset=n,i}return It(n,t),n}(ea);F(),Tt(),Rt();var c7=function(t){function n(n){var i;return(i=t.call(this,"gwe")||this).rd=n,i}return It(n,t),n.prototype.ma=function(){return new h7(this.rd.ga)},n}(dg),h7=function(t){function n(n){var i;return(i=t.call(this,"addasset")||this).asset=n,i}return It(n,t),n}(ea),f7=function(t){function n(){return t.call(this)||this}It(n,t);var i=n.prototype;return i.Dge=function(t,n){for(var i,r=0,e=0;e<t.length;e++){var u=t[e];i=r+u.duration;for(var s=0;s<n.length;s++){var o=n[s];r<=o.LO&&o.LO<i&&(i+=o.ct||0)}this.yO(q8.Ype(u,r,i)),r=i}},i.Bte=function(t){this.yo(new c7(t))},i.Wte=function(t){this.yo(new o7(t))},n}(a1);F(),Tt(),Dt(),Rt(),F(),Tt(),Rt();var v7=function(t){function n(n){var i;return(i=t.call(this,"pwe")||this).UE=n,i}return It(n,t),n.prototype.ma=function(){return new d7(this.UE)},n}(dg),d7=function(t){function n(n){var i;return(i=t.call(this,"preplayresponse")||this).response=n,i}return It(n,t),n}(ea);F(),Tt(),Rt();var l7=function(t){function n(n){var i;return(i=t.call(this,"wwe")||this).UE=n,i}return It(n,t),n.prototype.ma=function(){return new g7(this.UE)},n}(dg),g7=function(t){function n(n){var i;return(i=t.call(this,"assetinforesponse")||this).response=n,i}return It(n,t),n}(ea),w7=function(t){function n(n,i,r){var e;return(e=t.call(this)||this)._ge=n,e.vge=i,e.pge=r,r.yn("jge",e.Ds),r.yn("Qge",e.Ds),e}It(n,t);var i=n.prototype;return i.qge=function(t){t&&this.yo(new v7(Ig(t)))},i.Pge=function(t){var n=this;t.forEach((function(t){return n.yo(new l7(t))}))},i.ma=function(){var t,n=this,i={get ads(){return n._ge.ga},get assets(){return n.vge.ga},addEventListener:function(n,i){t.yn(n,i)},removeEventListener:function(n,i){t.fn(n,i)}};return t=new iR(n,i),i},Nt(n,[{key:"ga",get:function(){return this.Za||(this.Za=this.ma()),this.Za}}]),n}(ra),m7=function(){function t(){}return t.prototype.ywe=function(t,n){var i=new Q9(t.aR),r=new h8(t.aR),e=function(t){if(t.uplynk&&Yn(t.uplynk.defaultSkipOffset))return function(t){return ei(t)?t:-1}(t.uplynk.defaultSkipOffset);return-1}(n),u=function(t){var n,i,r=null!=(i=null==(n=t.uplynk)?void 0:n.onSeekOverAd)?i:void 0;return function(t){if(!t)return"play-none";switch(t.toLowerCase()){case"play-all":return"play-all";case"play-none":default:return"play-none";case"play-last":return"play-last"}}(r)}(n),s=new g8(r,t),o=new w8(i,n),a=new Y8(t,s,e,u),c=new u7(t.aR),h=new f7,f=new w7(a,h,s);return new F9(t,s,o,a,f,c,h)},t}();Uk((function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).bwe=(new m7).ywe(r,i),r}It(n,t);var i=n.prototype;return i.gge=function(n){t.prototype.ka.call(this,n)},i.wge=function(n,i){return t.prototype.gnt.call(this,n,i)},i.Gge=function(n){t.prototype.AR.call(this,n)},i.xR=function(){var n;return null!=(n=this.bwe.lt)?n:t.prototype.xR.call(this)},i.IR=function(){var n;return null!=(n=this.bwe.RR)?n:t.prototype.IR.call(this)},i.AR=function(t,n){this.bwe.AR(t)},i.ka=function(t){this.bwe.ka(t)},i.gnt=function(t,n){return this.bwe.gnt(t,n)},i.ma=function(){var n=this.bwe.ga;return Eg(t.prototype.ma.call(this),{get uplynk(){return n}})},i.gn=function(){this.bwe.gn(),t.prototype.gn.call(this)},n}(t)}),Bk.Pst),F(),Tt(),F(),Tt(),Gt(),Rt(),qt(),F(),Tt(),Gt(),Dt(),qt(),F(),Tt();var y7=function(t){return t.CREATIVE_VIEW="creativeView",t.START="start",t.FIRST_QUARTILE="firstQuartile",t.MID_POINT="midpoint",t.THIRD_QUARTILE="thirdQuartile",t.COMPLETE="complete",t.MUTE="mute",t.UNMUTE="unmute",t.PAUSE="pause",t.REWIND="rewind",t.RESUME="resume",t.FULL_SCREEN="fullscreen",t.EXIT_FULL_SCREEN="exitFullscreen",t.EXPAND="expand",t.COLLAPSE="collapse",t.ACCEPT_INVITATION_LINEAR="acceptInvitationLinear",t.ACCEPT_INVITATION="acceptInvitation",t.CLOSE_LINEAR="closeLinear",t.CLOSE="close",t.SKIP="skip",t.SKIP_SHOWN="skipShown",t.PROGRESS="progress",t.ENGAGED_VIEW="engagedView",t.IMPRESSION="impression",t.ERROR="error",t}({});F(),Tt(),Dt(),Rt();var p7=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i)||this).LYt=e,u.XO=r,u}return It(n,t),n.prototype.ma=function(){return M$(this)},Nt(n,[{key:"jjt",get:function(){return XQ.s$t}},{key:"LO",get:function(){return this.XO}},{key:"Qqt",get:function(){return this.LYt}}]),n}(L$);F(),Tt(),Dt(),Rt();var _7=function(t){function n(n,i,r){var e;if((e=t.call(this,i)||this).l2t=n,e.d2t=n,r){var u=new Date(r);vr(u)&&(e.Awe=u)}return e}return It(n,t),Nt(n,[{key:"$Bt",get:function(){return this.Awe}},{key:"jjt",get:function(){return XQ.s$t}}]),n}(N$),b7=function(){function t(t,n,i){var r=this;this.Owe=-1/0,this.kwe=void 0,this.Rwe=0,this.Pwe=[],this.Ame=!1,this.sK=!1,this.Ome=-1,this.Nwe=void 0,this.Cwe=void 0,this.Bwe=0,this.WB=function(){r.Iwe()},this.QXt=function(){r.zwe(y7.RESUME)},this.zNt=function(){r.Uwe(),r.zwe(y7.PAUSE)},this.We=function(){r.Uwe(),r.Ome=-1},this.Sh=function(){r.Uwe()},this.ld=function(){-1===r.Ome&&(r.Ome=r.xwe()),r.Gwe(),r.Hwe(),r.Ome=r.xwe()},this.Z0t=function(){if(r.Ame!==r.ta.FR){r.Ame=r.ta.FR;var t=r.Ame?y7.MUTE:y7.UNMUTE;r.zwe(t)}},this.Swe=function(){if(r.sK!==r.ta.cs()){r.sK=r.ta.cs();var t=r.sK?y7.FULL_SCREEN:y7.EXIT_FULL_SCREEN;r.zwe(t)}},this.M6=function(t){Mo(t)||(r.zwe(y7.ERROR),jo(r.Lwe()))},this.Zwe=[y7.START,y7.FIRST_QUARTILE,y7.MID_POINT,y7.THIRD_QUARTILE,y7.COMPLETE,y7.IMPRESSION,y7.CREATIVE_VIEW],this.ta=t,this.Wwe=n,this.Vwe=i,this._C()}var n=t.prototype;return n._C=function(){this.ta.yn(wp.BL,this.WB),this.ta.yn(ua.Uy,this.zNt),this.ta.yn(ua.so,this.QXt),this.ta.yn(ua.qy,this.We),this.ta.yn(ua.xy,this.Sh),this.ta.yn(ua.$y,this.ld),this.ta.yn(ua.eb,this.Z0t),this.ta.yn(TI.MODE_CHANGE,this.Swe)},n.dC=function(){this.ta.fn(wp.BL,this.WB),this.ta.fn(ua.Uy,this.zNt),this.ta.fn(ua.so,this.QXt),this.ta.fn(ua.qy,this.We),this.ta.fn(ua.xy,this.Sh),this.ta.fn(ua.$y,this.ld),this.ta.fn(ua.eb,this.Z0t),this.ta.fn(TI.MODE_CHANGE,this.Swe)},n.xwe=function(){return this.ta.bR()-this.Rwe},n.Iwe=function(){var t=this;if(!this.Cwe)if(this.ta._d()===1/0){var n=function(){var n;null==(n=t.Nwe)||n.Ww(),t.Nwe=void 0,t.Cwe=void 0};this.Nwe=new Ho,this.Cwe=this.Mwe(this.Nwe.Bw).catch(this.M6).then(n,n)}else 0===this.Pwe.length&&(this.Cwe=this.Dwe())},n.Lwe=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:n=k.min(1e3*k.pow(2,t.Bwe),3e4),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,Jo(n,null==(i=t.Nwe)?void 0:i.Bw)];case 2:return r.sent(),t.Bwe++,[3,4];case 3:return Mo(r.sent())?(t.Bwe=0,[2]):[3,4];case 4:return t.Iwe(),[2]}}))}))()},n.Mwe=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return Oo(t),n.ta.ZR?[3,5]:(i=Kn.Bg()-n.Owe)>1e4?[4,n.Dwe(t)]:[3,2];case 1:return r.sent(),n.Owe=Kn.Bg(),n.Bwe=0,[3,4];case 2:return[4,Jo(1e4-i,t)];case 3:r.sent(),r.label=4;case 4:return[3,0];case 5:return[2]}}))}))()},n.Fwe=function(t){var n=t.$Bt;if(n&&this.ta.mR&&0===this.Rwe&&!this.Vwe&&0!==k.floor(this.ta.sI().start(0))){var i=(this.ta.mR.getTime()-n.getTime())/1e3,r=this.ta.bR()-t.ZBt;this.Rwe=r-i}},n.Dwe=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:return v.trys.push([0,3,,4]),[4,n.ta.aR.zk({qu:n.Wwe})];case 1:return[4,v.sent().Sk(t)];case 2:if(0===(i=v.sent()).avails.length)return 0!==n.Pwe.length&&(n.Pwe=[]),[2];if(i.avails.length===n.Pwe.length&&i.avails[0].startTimeInSeconds===n.Pwe[0].ZBt)return n.Fwe(n.Pwe[0]),[2];for(r=[],e=0,u=i.avails;e<u.length;e++){for(s=u[e],o=new _7(s.durationInSeconds,s.startTimeInSeconds,s.availProgramDateTime),a=0,c=s.ads;a<c.length;a++)h=c[a],(f=new p7(o,P$.Ajt,h.startTimeInSeconds,h.trackingEvents)).S2t(h.adId,h.width,h.height,h.durationInSeconds,[],h.skipoffset),o.m2t(f);r.push(o),n.Fwe(o)}return n.Pwe=Qs(r,(function(t,n){return t.ZBt-n.ZBt})),[3,4];case 3:throw Bo(v.sent()),new p("Failed to poll MediaTailor tracking events");case 4:return[2]}}))}))()},n.Uwe=function(){var t;null==(t=this.Nwe)||t.Xw(),this.Nwe=void 0,this.Cwe=void 0,this.Owe=-1/0},n.Gwe=function(){if(0!==this.Pwe.length){var t=this.Pwe[this.Pwe.length-1],n=this.xwe();if(t.ZBt+t.DJt<this.Ome){var i;this.kwe&&(null==(i=this.ta.Vc)||i.yo(new OL(this.kwe)),this.kwe=void 0)}else{for(var r=0,e=this.Pwe;r<e.length;r++){var u=e[r],s=u.ZBt;if(!(s+u.DJt<this.Ome)&&(s<=n&&s+u.DJt>this.Ome)){var o;if(this.Twe===u)return;return this.kwe=u,void(null==(o=this.ta.Vc)||o.yo(new VL(this.kwe)))}}var a;if(this.kwe)null==(a=this.ta.Vc)||a.yo(new OL(this.kwe)),this.kwe=void 0}}},n.Hwe=function(){var t=this,n=this.Zst;if(0!==n.length){for(var i=[],r=0;r<n.length;r++){var e=n[r].Qqt.filter((function(n){return mo(t.Zwe,n.eventType)}));i=i.concat(e)}for(var u=0;u<i.length;u++){var s=i[u];this.Xwe(s.startTimeInSeconds)&&(s.eventType===y7.COMPLETE&&this.zwe(y7.ENGAGED_VIEW),this.qwe(s))}}},n.Ywe=function(t,n){return n.Qqt.filter((function(n){return Fs(n.eventType,t)}))[0]},n.zwe=function(t){var n=this.Zst;if(0!==n.length){var i=this.Ywe(t,n[0]);i&&this.qwe(i)}},n.qwe=function(t){this.Pfe(t.eventType);for(var n=0,i=t.beaconUrls;n<i.length;n++){var r=i[n],e={gE:ul.GET,qu:r,Ck:"",Xk:Sd.gk};0,jo(this.Kwe(e))}},n.Pfe=function(t){var n,i,r=this.Zst;switch(t){case y7.START:n=new UL(r[r.length-1],this.ta.bR());break;case y7.COMPLETE:n=new ZL(r[0],this.ta.bR());break;case y7.FIRST_QUARTILE:n=new z$(r[0],this.ta.bR());break;case y7.MID_POINT:n=new j$(r[0],this.ta.bR());break;case y7.THIRD_QUARTILE:n=new q$(r[0],this.ta.bR())}void 0!==n&&(null==(i=this.ta.Vc)||i.yo(n))},n.Kwe=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.ta.aR.zk(t)];case 1:return i.sent().Hk,[2]}}))}))()},n.Xwe=function(t){var n=this.xwe();return t>=this.Ome&&t<n},n.gn=function(){this.dC(),this.Uwe(),this.Ome=-1},Nt(t,[{key:"Twe",get:function(){return this.kwe}},{key:"Zst",get:function(){var t=this.Twe;if(!t)return[];for(var n=[],i=this.xwe(),r=0,e=t.Vc;r<e.length;r++){var u=e[r];i>=u.LO&&this.Ome<=u.LO+u.ct&&n.push(u)}return n}}]),t}();Uk((function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).jwe=void 0,r.HG=void 0,r.ZG=void 0,r.Jwe=void 0,r}It(n,t);var i=n.prototype;return i.ka=function(n){return this.jwe&&(this.jwe.gn(),this.jwe=void 0,this.OEt()),t.prototype.ka.call(this,n)},i.gnt=function(n,i){var r=this,e=function(){return t.prototype.gnt};return Zt((function(){var t,u;return Ht(this,(function(s){switch(s.label){case 0:if(!n||!function(t){return t.sources.some((function(t){return t.integration===LA.MEDIATAILOR}))}(n))return[2,e().call(r,n,i)];s.label=1;case 1:return s.trys.push([1,4,,5]),[4,r.Qwe(n,i)];case 2:return t=s.sent(),r.Jwe=new $$(r),[4,e().call(r,t,i)];case 3:return s.sent(),[3,5];case 4:return u=s.sent(),r.PH(new td(Qv.MANIFEST_LOAD_ERROR,u.message,u)),[3,5];case 5:return[2]}}))}))()},i.YR=function(n){var i;(null==(i=this.Jwe)?void 0:i.inAdBreak)||t.prototype.YR.call(this,n)},i.AR=function(n,i){var r;(null==(r=this.jwe)?void 0:r.Twe)||t.prototype.AR.call(this,n,i)},i.xR=function(){var n;return null!=(n=this.HG)?n:t.prototype.xR.call(this)},i.IR=function(){var n;return null!=(n=this.ZG)?n:t.prototype.IR.call(this)},i.PH=function(t){this.HG=tw(t),this.ZG=t,this.yo(new wk(t))},i.OEt=function(){this.HG=void 0,this.ZG=void 0},i.Qwe=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:r=[],e=0,u=t.sources,f.label=1;case 1:return e<u.length?YA(s=u[e])&&(o=s).src?[4,i.$we(o,n)]:(r.push(s),[3,3]):[3,4];case 2:a=f.sent(),Oo(n),c=$u({},o,{integration:void 0,src:a}),r.push(c),f.label=3;case 3:return e++,[3,1];case 4:return(h=Ig(t)).sources=r,[2,h]}}))}))()},i.$we=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:if(r=t.src||"",!(e=r.match(/.+?(?=\/v1\/)/)))throw new p("Could not find MediaTailor session initialization url");return u=e[0],s=Os(r,"?ads."),o=s?{qu:r,Xk:Sd.gk}:{qu:r,gE:ul.POST,Ck:JSON.stringify({adParams:t.adParams}),Xk:Sd.gk},[4,gT((function(){return i.tye(o,n)}),n)];case 1:a=v.sent();try{c=u+a.manifestUrl,s||(h=u+a.trackingUrl,f=FA(c),i.jwe=new b7(i,h,f))}catch(t){throw new p("Something went wrong parsing the MediaTailor session initialization response")}return[2,c]}}))}))()},i.tye=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,i.aR.zk(t)];case 1:return[4,r.sent().Sk(n)];case 2:return[2,r.sent()];case 3:throw Bo(r.sent()),new p("Failed to initialize MediaTailor session manifest");case 4:return[2]}}))}))()},i.gn=function(){var n;this.jwe&&(this.jwe.gn(),this.jwe=void 0),this.OEt(),null==(n=this.Jwe)||n.destroy(),this.Jwe=void 0,t.prototype.gn.call(this)},n}(t)}),Bk.Mst),F(),Tt(),F(),Tt(),Gt(),qt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt();var k7=function(t){return t[t.iye=0]="iye",t[t.BL=1]="BL",t[t.xZ=2]="xZ",t[t.sye=3]="sye",t[t.nye=4]="nye",t[t.rye=5]="rye",t[t.ua=6]="ua",t}({});F(),Tt(),Dt(),Rt();var A7=function(t){function n(n,i,r,e,u){var s;return void 0===u&&(u=!1),(s=t.call(this)||this).TO=hw(),s.wO=new ew,s.ou=n,s.kO=i,s.q4=r,s.He=u,s.RMt=e,s}return It(n,t),n.prototype.xO=function(t){this.He=t,t?this.RMt.oye(this.ou):this.RMt.aye(this.ou)},Nt(n,[{key:"SC",get:function(){}},{key:"Rt",get:function(){return this.He},set:function(t){this.xO(t)}},{key:"ga",get:function(){var t;return null!=(t=this.Za)?t:this.Za=Gg(this)}},{key:"o",get:function(){return String(this.ou.componentTag)||"hbbtvaudiotrack"}},{key:"Lt",get:function(){return this.q4}},{key:"kh",get:function(){return this.kO}},{key:"gs",get:function(){return""}},{key:"TE",get:function(){return this.Rt?"enabled":"disabled"},set:function(t){this.xO("enabled"===t)}},{key:"EC",get:function(){return this.wO}},{key:"xC",get:function(){},set:function(t){}},{key:"TC",get:function(){return this.TO}}]),n}(na);F(),Tt(),Gt(),Dt(),Rt(),qt(),F(),Tt(),Gt(),Rt(),qt(),F(),Tt();var T7=function(t){return t.dw="urn:dvb:casystemid:19219",t.fw="urn:dvb:casystemid:19156",t}({}),S7=function(t){return t.dw="application/vnd.ms-playready.initiator+xml",t.fw="application/widevine+xml",t}({});function E7(t,n,i){switch(t){case"urn:dvb:casystemid:19219":return function(t){return'<?xml version="1.0" encoding="utf-8"?><PlayReadyInitiator xmlns="http://schemas.microsoft.com/DRM/2007/03/protocols/"><LicenseServerUriOverride><LA_URL>'+(null!=t?t:"")+"</LA_URL></LicenseServerUriOverride></PlayReadyInitiator>"}(n);case"urn:dvb:casystemid:19156":if(!i)throw new p("Content URL is needed for Widevine license request");return function(t,n){return'<?xml version="1.0" encoding="utf-8"?><WidevineCredentialsInfo xmlns="http://www.smarttv-alliance.org/DRM/widevine/2012/protocols/"><ContentURL>'+vJ(null!=n?n:"")+"</ContentURL><DeviceID></DeviceID><StreamID></StreamID><ClientIP></ClientIP><DRMServerURL>"+vJ(null!=t?t:"")+"</DRMServerURL><DRMAckServerURL></DRMAckServerURL><DRMHeartBeatURL></DRMHeartBeatURL><DRMHeartBeatPeriod></DRMHeartBeatPeriod><UserData></UserData><Portal></Portal><StoreFront></StoreFront><BandwidthCheckURL></BandwidthCheckURL><BandwidthCheckInterval></BandwidthCheckInterval></WidevineCredentialsInfo>"}(n,i);default:throw new p("DRM key system is not supported")}}var I7=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).dye=void 0,n.vye=void 0,n.ku=void 0,n.gye=void 0,n.mye=void 0,n.fye=function(t,i,r){var e,u;if(0!==r){var s=n.pye(r),o=n.wye(r),a=new qg(s,o);null==(u=n.mye)||null==(e=u.Lb)||e.call(u,a)}else{var c,h;null==(h=n.mye)||null==(c=h.Mb)||c.call(h,t)}},n._ye=function(t,i,r,e){var u=n.yye(t),s=n.Aye(t),o=new qg(u,s);n.yo(new jD(o))},n}It(n,t);var i=n.prototype;return i.uye=function(t){this.cye(),this.ku=t},i.lye=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:if(!t.JG.length)return n.cye(),[2];if(!n.ku)throw new p("The OIPF DRM agent has to be attached to the DOM");n.dye||(n.dye=v.createElement("object"),n.dye.type="application/oipfDrmAgent",n.ku.appendChild(n.dye),n.dye.onDRMMessageResult=n.fye,n.dye.onDRMRightsError=n._ye,n.vye=v.createElement("object"),n.vye.type="application/oipfCapabilities",n.ku.appendChild(n.vye)),r=0,e=t.JG,h.label=1;case 1:if(!(r<e.length))return[3,6];if(u=e[r],s=void 0,o=void 0,a=void 0,u.rT===Is)s=T7.dw,o=S7.dw,a=E7(T7.dw,u.TG);else{if(u.rT!==Rs)return[3,5];s=T7.fw,o=S7.fw,a=E7(T7.fw,u.TG,t.MC)}h.label=2;case 2:return h.trys.push([2,4,,5]),[4,n.jet(o,a,s)];case 3:return h.sent(),n.yo(new KD),[2];case 4:return c=h.sent(),i=c,[3,5];case 5:return r++,[3,1];case 6:return i&&n.yo(new jD(i)),[2]}}))}))()},i.Ww=function(){return this.mye=void 0,this.ku=void 0,t.prototype.Ww.call(this)},i.jet=function(t,n,i){var r,e;return this.mye=new Zc,this.gye=null==(e=this.dye)||null==(r=e.sendDRMMessage)?void 0:r.call(e,t,n,i),this.gye||null==this.mye.Lb||this.mye.Lb.call(this.mye,new qg(Qv.CONTENT_PROTECTION_INTERNAL_ERROR,"No DRM message returned by OIPF DRM agent")),this.mye.Bb},i.pye=function(t){switch(t){case 5:return Qv.CONTENT_PROTECTION_NOT_SUPPORTED;case 2:case 1:case 3:case 4:case 6:return Qv.CONTENT_PROTECTION_INTERNAL_ERROR;default:return Qv.CONTENT_PROTECTION_ERROR}},i.wye=function(t){switch(t){case 2:return"The DRM agent was unable to complete the request";case 3:return"The specified MIME type is unknown for the specified DRM system";case 4:return"User consent is needed for that action";case 5:return"The specified DRM System is unknown";case 6:return"The license message has the wrong format";default:return"Unspecified error occurred"}},i.yye=function(t){return 0===t?Qv.CONTENT_PROTECTION_LICENSE_ERROR:1===t?Qv.CONTENT_PROTECTION_LICENSE_INVALID:Qv.CONTENT_PROTECTION_ERROR},i.Aye=function(t){switch(t){case 0:return"No license, consumption of the content is blocked";case 1:return"Invalid license, consumption of the content is blocked";case 2:return"Valid license, consumption of the content is unblocked";default:return"Unknown error occurred"}},i.cye=function(){this.dye&&(oi(this.dye),this.dye=void 0),this.vye&&(oi(this.vye),this.vye=void 0)},i.e9=function(t,n,i){return Zt((function(){return Ht(this,(function(t){return[2]}))}))()},n}(iP);F(),Tt(),Gt(),Dt(),qt(),F(),Tt();var R7=et,C7=function(){function t(t,n,i){this.IT=t,this.LB=n,this.cJ=i}var n=t.prototype;return n.hJ=function(t){return!1},n.uJ=function(t){return R7.resolve(void 0)},n.lye=function(t){var n=this;return Zt((function(){return Ht(this,(function(t){switch(t.label){case 0:return[4,n.cJ.lye(n.IT)];case 1:return t.sent(),[2]}}))}))()},n.Ww=function(){return R7.resolve(void 0)},Nt(t,[{key:"iI",get:function(){return AA.dB(0,this.LB.ct)}},{key:"QR",get:function(){return GT.YH},set:function(t){}},{key:"md",get:function(){return this.IT}}]),t}(),N7=function(t){function n(n,i){var r;return(r=t.call(this)||this).Xu=n,r._Z=i,r.Zo=new KT,r.Qo=new JT,r.Ul=new Xy,r.qG=void 0,r.rZ=!1,r.HG=void 0,r.AW=pp.jB,r.iZ=!0,r.kye=void 0,r.xye=function(){var t,n,i,e;(null==(t=r.Rye)?void 0:t.playState)&&((null==(n=r.kye)?void 0:n.Bb)||2!==r.Rye.playState||r.Tye().catch(pi),3===r.Rye.playState&&(null==(e=r.kye)||null==(i=e.Mb)||i.call(e,String(r.Rye.playState)),r.kye=void 0))},r.cJ=new I7(r),r.cJ.yn(YD,r.Ds),r.u8=new Sk([r.Ul]),r.c8=new BD(r),r.Fet=new pP,r.Vet=new Mx(r.Fet.we,r.Uu,r.nt,r.Ll,r.wa,r.aH),r.Rye=r.Eye(),r.Tye().catch(pi),r}It(n,t);var i=n.prototype;return i.d7=function(t){this.cJ.uye(t),this.Fet.d7(t)},i.IJ=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.pw===gp.fW)return i}},i.$n=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:if(n.qG)throw new p("Already loaded a media source");return t.pw!==gp.fW?[3,2]:(n.qG=new C7(t,n,n.cJ),[4,n.qG.lye(t)]);case 1:return i.sent(),[2,n.qG];case 2:throw new p("Unsupported media source configuration for HbbTV");case 3:return[2]}}))}))()},i.Sye=function(t){var n=this;return Zt((function(){return Ht(this,(function(t){switch(t.label){case 0:return[4,n.Tye()];case 1:return t.sent(),[2]}}))}))()},i.AI=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.Tye()];case 1:return n.sent(),[2]}}))}))()},i.UG=function(t){},i.tr=function(){var t=this;return Zt((function(){return Ht(this,(function(n){return t.qG=void 0,t.kye=void 0,[2]}))}))()},i.Ww=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.tr()];case 1:return n.sent(),t.Ul.gn(),t.u8.gn(),t.Fet.gn(),t.Vet.gn(),t.cJ.fn(YD,t.Ds),[4,t.cJ.Ww()];case 2:return n.sent(),[2]}}))}))()},i.ge=function(){this.iZ=!0,this.Fet.ge()},i.be=function(){this.iZ=!1,this.Fet.be()},i.nH=function(){return!1},i.oH=function(t,n,i,r,e){throw new p("Adding native sideloaded text tracks is not supported on HbbTV")},i.o7=function(){},i.h7=function(){},i.l7=function(){},i.OR=function(){return{uO:0,cO:0,lO:0}},i.xI=function(){},i.uH=function(t){throw new p("Adding custom text tracks is not supported on HbbTV")},i.wI=function(){},i.DI=function(t,n,i,r,e,u,s,o,a){var c=new MN(t,n,i,r,e,u,s,a,o);return this.Ul.tt(c),this.c8.tt(c),c},i.cH=function(){for(var t=0,n=this.Ul.oC.slice();t<n.length;t++){n[t].gn()}this.Ul.tr()},i.lW=function(t){this.Ul.it(t),this.c8.it(t)},i.Eye=function(){for(var t=v.getElementsByTagName("object"),n=0;n<t.length;n++){var i=t.item(n);if("video/broadcast"===i.type){var r=i;return r.onPlayStateChange=this.xye,0===r.playState&&(null==r.bindToCurrentChannel||r.bindToCurrentChannel.call(r)),r}}},i.Tye=function(){var t,n;if(!this.Rye||3===this.Rye.playState||0===this.Rye.playState)return et.resolve("");if(null==(t=this.kye)?void 0:t.Bb)return null==(n=this.kye)?void 0:n.Bb;this.kye=new Zc;try{null==this.Rye.stop||this.Rye.stop.call(this.Rye)}catch(t){Kn.Lp("Unable to stop broadcast for HbbTV",t),this.kye.Lb(new p("Unable to stop broadcast for HbbTV"))}return this.kye.Bb},Nt(n,[{key:"_R",get:function(){return AA.fB()}},{key:"mR",get:function(){}},{key:"YG",get:function(){}},{key:"Uu",get:function(){return this.Xu}},{key:"iI",get:function(){var t,n;return null!=(n=null==(t=this.qG)?void 0:t.iI)?n:AA.fB()}},{key:"nI",get:function(){return this.rZ}},{key:"M4",get:function(){return!1}},{key:"NR",get:function(){return!1}},{key:"GB",get:function(){return $u({},IR)}},{key:"lt",get:function(){return this.HG}},{key:"C4",get:function(){return!1}},{key:"wa",get:function(){return this.Zo}},{key:"a7",get:function(){return!0}},{key:"A4",get:function(){return!1}},{key:"gI",get:function(){return!0},set:function(t){}},{key:"Ll",get:function(){return this._Z}},{key:"nt",get:function(){return this.u8}},{key:"P9",get:function(){return this.iZ}},{key:"aH",get:function(){return this.Qo}}]),n}(na),D7=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).Iye=n,e.aZ=1,e.rO=new Yg,e.hO=new Yg,e.E4=pp.jB,e.Wye=void 0,e.Pye=void 0,e.Cye=function(){if(e.Iye.playState){e.AW=e.E4,e.Uye=e.Gye,e.Gye=e.Iye.playState;var t=e.ct;switch(t!==e.Wye&&(e.yo(new cT(t)),e.Wye=t),e.Pye&&e.Gye!==k7.BL&&(Kn.Fp(e.Pye),e.Pye=void 0),e.Gye){case k7.sye:e.E4=pp.jB;break;case k7.nye:if(e.Uye===k7.sye){var n,i,r=null!=(n=null==e.Iye.getComponents?void 0:e.Iye.getComponents.call(e.Iye,1))?n:e.Nye(),u=null!=(i=null==e.Iye.getComponents?void 0:e.Iye.getComponents.call(e.Iye,0))?i:e.Nye();if(0===r.length&&0===u.length)break;e.Lye(r),e.Oye(u)}e.E4=pp.Xn;break;case k7.BL:e.rZ&&(e.rZ=!1,e.yo(new dT(e.yR))),e.yo(new Sp(e.yR)),e.E4=pp.JB,e.Pye=Kn.Op(e.Hye,250);break;case k7.ua:e.E4=pp.jB,e.yo(new yN(new Qg(e.Vye(e.Iye.error))));break;case k7.rye:e.yo(new fT(e.yR));case k7.xZ:case k7.iye:}e.E4!==e.AW&&e.yo(new yp(e.yR,e.E4))}},e.Hye=function(){e.yo(new vg(e.yR,void 0))},e}It(n,t);var i=n.prototype;return i.d7=function(n){t.prototype.d7.call(this,n),n.appendChild(this.Iye)},i.$n=function(n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return n.pw!==gp.fW?[3,3]:[4,t.prototype.$n.call(i,n)];case 1:return r=e.sent(),[4,i.Sye(n)];case 2:return e.sent(),i.Iye.onPlayStateChange=i.Cye,[2,r];case 3:throw new p("Unsupported media source configuration for HbbTV")}}))}))()},i.Sye=function(n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return i.Iye.type=UA(n.MC),i.Iye.data=n.MC,[4,t.prototype.Sye.call(i,n)];case 1:return r.sent(),[2]}}))}))()},i.AI=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.AI.call(n)];case 1:return i.sent(),n.Iye.play(n.aZ),n.yo(new aT(n.yR)),[2]}}))}))()},i.bI=function(){this.Iye.play(0),this.yo(new oT(this.yR))},i.Sb=function(t,n,i){this.Iye.seek(1e3*t),this.rZ=!0,this.yo(new vT(this.yR))},i.tr=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return void 0!==n.qG&&n.Iye.stop(),n.Pye&&(Kn.Fp(n.Pye),n.Pye=void 0),[4,t.prototype.tr.call(n)];case 1:return i.sent(),ai(n.Iye),n.Iye.data&&n.Iye.removeAttribute("data"),n.rO.tr(),n.hO.tr(),[2]}}))}))()},i.Ww=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.Ww.call(n)];case 1:return i.sent(),oi(n.Iye),[2]}}))}))()},i.ge=function(){t.prototype.ge.call(this),this.Iye.style.display="block"},i.be=function(){t.prototype.be.call(this),this.Iye.style.display="none"},i.oye=function(t){var n=this.Dye(t);if(!n)throw new p("Selected track does not exist on HbbTV");null==this.Iye.selectComponent||this.Iye.selectComponent.call(this.Iye,n)},i.aye=function(t){var n=this.Dye(t);if(!n)throw new p("Selected track does not exist on HbbTV");null==this.Iye.unselectComponent||this.Iye.unselectComponent.call(this.Iye,n)},i.Dye=function(t){var n,i=null!=(n=null==this.Iye.getComponents?void 0:this.Iye.getComponents.call(this.Iye,t.type))?n:this.Nye();return this.Mye(i,t)},i.Lye=function(t){var n,i=null!=(n=null==this.Iye.getCurrentActiveComponents?void 0:this.Iye.getCurrentActiveComponents.call(this.Iye,1))?n:this.Nye();this.rO.tr();for(var r=0;r<t.length;r++){var e=t.item(r);this.rO.tt(new A7(e,e.language,this.rO.V?kG.APt:kG.SPt,this,this.Bye(i,e)))}},i.Oye=function(t){var n,i=null!=(n=null==this.Iye.getCurrentActiveComponents?void 0:this.Iye.getCurrentActiveComponents.call(this.Iye,0))?n:this.Nye();this.hO.tr();for(var r=0;r<t.length;r++){var e=t.item(r);this.hO.tt(new A7(e,String(e.aspectRatio),this.hO.V?AG.APt:AG.SPt,this,this.Bye(i,e)))}},i.Nye=function(){return{length:0,item:function(t){}}},i.Bye=function(t,n){return void 0!==this.Mye(t,n)},i.Mye=function(t,n){for(var i=0;i<t.length;i++){var r=t.item(i);if(this.Fye(r,n))return r}},i.Fye=function(t,n){return t.pid===n.pid&&t.componentTag===n.componentTag&&t.type===n.type&&t.encoding===n.encoding&&t.encrypted===n.encrypted},i.Vye=function(t){switch(t){case 0:return Jg.SRC_NOT_SUPPORTED;case 1:case 5:case 6:return Jg.NETWORK;default:return Jg.DECODE}},Nt(n,[{key:"XG",get:function(){}},{key:"ht",get:function(){return this.rO}},{key:"rt",get:function(){return this.hO}},{key:"zR",get:function(){return this.aZ},set:function(t){this.aZ=t,this.ZR||this.Iye.play(t)}},{key:"FR",get:function(){return this.Iye.muted},set:function(t){this.Iye.muted=t}},{key:"dI",get:function(){var t,n;return(null!=(n=null!=(t=this.Iye.volume)?t:null==this.Iye.getVolume?void 0:this.Iye.getVolume.call(this.Iye))?n:100)/100},set:function(t){null==this.Iye.setVolume||this.Iye.setVolume.call(this.Iye,100*t)}},{key:"yR",get:function(){return this.Iye.playPosition?this.Iye.playPosition/1e3:0}},{key:"ct",get:function(){return!this.Iye.playTime||this.Iye.playTime<0?1/0:this.Iye.playTime/1e3}},{key:"kR",get:function(){return this.Iye.playState===k7.rye}},{key:"Ti",get:function(){return this.Iye.offsetHeight*Kn.Ys.Xg}},{key:"ji",get:function(){return this.Iye.offsetWidth*Kn.Ys.Xg}},{key:"ZR",get:function(){return this.Iye.playState===k7.xZ}},{key:"KR",get:function(){return AA.fB()}},{key:"tI",get:function(){return this.E4}},{key:"hI",get:function(){return 0}},{key:"cI",get:function(){return 0}}]),n}(N7);F(),Tt(),Gt(),Dt(),Rt(),qt();var P7=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).YT=n,e.rO=new Yg,e.hO=new Yg,e.sbe=void 0,e.PW=function(){e.yo(new aT(e.yR))},e.DW=function(){e.yo(new oT(e.yR))},e.xc=function(){var t=e.yR,n=e.nI,i=void 0!==e.sbe,r=i&&e.sbe!==t;(n||!i||r)&&(e.yo(new vg(t,void 0)),e.sbe=t)},e.Zye=function(){e.yo(new BR(e.yR))},e.Ts=function(){e.yo(new VR)},e.Cc=function(){e.yo(new fT(e.yR))},e.Xye=function(){e.yo(new hT(e.yR,e.zR))},e.tzt=function(){e.yo(new lT(e.yR,e.dI))},e.jXt=function(){e.yo(new cT(e.ct))},e.zye=function(){},e.qye=function(){},e.Yye=function(){e.rZ&&(e.rZ=!1),e.yo(new dT(e.yR))},e.Kye=function(){e.yo(new vT(e.yR))},e.NW=function(t){e.AW!==t.readyState&&(e.AW=t.readyState,e.yo(t))},e.IW=function(){e.yo(new Sp(e.yR))},e.jye=function(){if(null!==e.YT.error){var t,n=e.YT.error;e.PH(new Qg(null!=(t=n.code)?t:Jg.DECODE,n.message||"Error decoding media",void 0,n.msExtendedCode))}},e.u9=function(t){e.yo(new va(t.initDataType,t.initData||new ArrayBuffer(0)))},e.tbe=function(t){var n=e.YT.videoTracks;if(n)for(var i=0;i<n.length;i++){var r=n[i];xk(e.hO,r)||e.hO.tt(new pw(r))}},e.ebe=function(t){var n=[],i=e.YT.videoTracks;if(i){for(var r=0,u=e.hO.oC;r<u.length;r++){var s=u[r];Lk(i,s.EO)||n.push(s)}for(var o=0;o<n.length;o++){var a=n[o];e.hO.it(a)}}},e.ibe=function(t){e.nh(e.hO)},e.Qye=function(t){var n=e.YT.audioTracks;if(n)for(var i=0;i<n.length;i++){var r=n[i];xk(e.rO,r)||e.rO.tt(new mw(r))}},e.Jye=function(t){var n=[],i=e.YT.audioTracks;if(i){for(var r=0,u=e.rO.oC;r<u.length;r++){var s=u[r];Lk(i,s.EO)||n.push(s)}for(var o=0;o<n.length;o++){var a=n[o];e.rO.it(a)}}},e.$ye=function(t){e.nh(e.rO)},e.k9=new eP(e),e.k9.yn(wp.QI,e.NW),e.k9.l9(new dN(e)),e.W9=new mN(e),e.W9.yn(wp.BL,e.IW),e.N8(),e.TH(),e}It(n,t);var i=n.prototype;return i.d7=function(n){t.prototype.d7.call(this,n),n.appendChild(this.YT)},i.$n=function(n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return n.pw!==gp.fW?[3,3]:[4,t.prototype.$n.call(i,n)];case 1:return r=e.sent(),[4,i.Sye(n)];case 2:return e.sent(),[2,r];case 3:throw new p("Unsupported media source configuration for HbbTV")}}))}))()},i.Sye=function(n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:switch(n.tH){case sA.VC:case sA.WC:i.YT.setAttribute("crossorigin",n.tH);break;case sA._E:default:i.YT.removeAttribute("crossorigin")}return void 0!==n.QR?i.YT.preload=n.QR:i.YT.preload=GT.vG,void 0!==n.eH?i.YT.title=n.eH:mi(i.YT),r=i.zR,i.YT.src=n.MC,i.zR=r,[4,t.prototype.Sye.call(i,n)];case 1:return e.sent(),[2]}}))}))()},i.AI=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.AI.call(n)];case 1:return i.sent(),[4,n.YT.play()];case 2:return i.sent(),[2]}}))}))()},i.bI=function(){this.YT.pause()},i.Sb=function(t,n,i){n&&this.YT.fastSeek?this.YT.fastSeek(t):this.YT.currentTime=t,this.rZ=!0,this.yo(new vT(this.yR))},i.tr=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.tr.call(n)];case 1:return i.sent(),ai(n.YT),n.YT.src&&n.YT.removeAttribute("src"),n.rO.tr(),n.hO.tr(),[2]}}))}))()},i.Ww=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.Ww.call(n)];case 1:return i.sent(),n.W9.Ww(),n.k9.Ww(),n.B8(),n.fH(),oi(n.YT),[2]}}))}))()},i.ge=function(){t.prototype.ge.call(this),this.YT.style.display="block",this.YT.style.height="100%",this.YT.style.width="100%"},i.be=function(){t.prototype.be.call(this),this.YT.style.display="none"},i.N8=function(){this.XG.addEventListener("play",this.PW),this.XG.addEventListener("pause",this.DW),this.XG.addEventListener("timeupdate",this.xc),this.XG.addEventListener("progress",this.Zye),this.XG.addEventListener("loadstart",this.Ts),this.XG.addEventListener("ended",this.Cc),this.XG.addEventListener("ratechange",this.Xye),this.XG.addEventListener("volumechange",this.tzt),this.XG.addEventListener("durationchange",this.jXt),this.XG.addEventListener("loadedmetadata",this.zye),this.XG.addEventListener("emptied",this.qye),this.XG.addEventListener("seeked",this.Yye),this.XG.addEventListener("seeking",this.Kye),this.XG.addEventListener("error",this.jye),Ks()&&this.XG.addEventListener("encrypted",this.u9)},i.B8=function(){this.XG.removeEventListener("play",this.PW),this.XG.removeEventListener("pause",this.DW),this.XG.removeEventListener("timeupdate",this.xc),this.XG.removeEventListener("progress",this.Zye),this.XG.removeEventListener("loadstart",this.Ts),this.XG.removeEventListener("ended",this.Cc),this.XG.removeEventListener("ratechange",this.Xye),this.XG.removeEventListener("volumechange",this.tzt),this.XG.removeEventListener("durationchange",this.jXt),this.XG.removeEventListener("loadedmetadata",this.zye),this.XG.removeEventListener("emptied",this.qye),this.XG.removeEventListener("seeked",this.Yye),this.XG.removeEventListener("seeking",this.Kye),this.XG.removeEventListener("error",this.jye),this.XG.removeEventListener("encrypted",this.u9)},i.PH=function(t){this.HG=t,this.yo(new yN(this.HG))},i.TH=function(){var t=this.YT.audioTracks,n=this.YT.videoTracks;t&&(t.addEventListener("addtrack",this.Qye),t.addEventListener("removetrack",this.Jye),t.addEventListener("change",this.$ye)),n&&(n.addEventListener("addtrack",this.tbe),n.addEventListener("removetrack",this.ebe),n.addEventListener("change",this.ibe))},i.fH=function(){var t=this.YT.audioTracks,n=this.YT.videoTracks;t&&(t.removeEventListener("addtrack",this.Qye),t.removeEventListener("removetrack",this.Jye),t.removeEventListener("change",this.$ye)),n&&(n.removeEventListener("addtrack",this.tbe),n.removeEventListener("removetrack",this.ebe),n.removeEventListener("change",this.ibe))},i.nh=function(t){for(var n=0;n<t.V;n++){t.aC(n).RO()}},Nt(n,[{key:"XG",get:function(){return this.YT}},{key:"ht",get:function(){return this.rO}},{key:"rt",get:function(){return this.hO}},{key:"zR",get:function(){return this.YT.playbackRate},set:function(t){this.YT.playbackRate=t}},{key:"FR",get:function(){return this.YT.muted},set:function(t){this.YT.muted=t}},{key:"dI",get:function(){return this.YT.volume},set:function(t){this.YT.volume=t}},{key:"yR",get:function(){return this.YT.currentTime}},{key:"ct",get:function(){return this.YT.duration}},{key:"kR",get:function(){return this.YT.ended}},{key:"Ti",get:function(){return this.YT.offsetHeight*Kn.Ys.Xg}},{key:"ji",get:function(){return this.YT.offsetWidth*Kn.Ys.Xg}},{key:"ZR",get:function(){return this.YT.paused}},{key:"KR",get:function(){return AA.xn(this.YT.played)}},{key:"tI",get:function(){return this.k9.tI}},{key:"hI",get:function(){return this.YT.videoHeight}},{key:"cI",get:function(){return this.YT.videoWidth}}]),n}(N7),x7=[ua.so,ua.Uy,wp.BL,ua.qy,ua.zy,ua.xy,ua.Sy,ua.wy,ua.py,ua.$y,ua.Gy,ua.By,ua.Hy,ua.eb,ua.Xy,ua.Cy,ua.Ry],L7=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).qG=void 0,u.QG=new bk,u.wc=void 0,u.HG=void 0,u.ZG=void 0,u.zG=GT.YH,u.yH=function(t){var n=t.lt,i=n.code,r=new td(iw(i),"Something went wrong during HbbTV playback.",n),e=tw(r);u.PH(r,e)},u.vn=new wI(n),u.vn.bn(),u.LB=Ri()?new P7(v.createElement(jg.lE),u.vn,e):new D7(v.createElement("object"),u.vn,e),u.LB.d7(n),u.LB.yn(x7,u.Ds),u.LB.yn(Vy.ua,u.yH),u.lH=new Ip(u.LB,!0),u.lH.yn(mp,u.Ds),u.hH=new ap(u.LB,i),u.Ul=new Sk([u.LB.nt,u.hH.Z]),u.fZ=r,u}It(n,t);var i=n.prototype;return i.DI=function(t){return this.LB.uH(t)},i.TI=function(){return!1},i.pI=function(){return this.LB.wa},i.wI=function(){},i.be=function(){this.LB.be()},i.xI=function(){this.LB.xI()},i.bI=function(){this.LB.bI()},i.AI=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.LB.AI()];case 1:return n.sent(),[2]}}))}))()},i.RI=function(){throw new p("Recreate media source is not supported on HbbTV")},i.AR=function(t,n){this.LB.Sb(t)},i.ka=function(t,n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){switch(s.label){case 0:return Oo(i),r.wc=t,u={pw:gp.fW,MC:t.src,Ik:t.type,JG:r.$G(t),QR:r.zG,tH:t.crossOrigin,eH:null==(e=n.metadata)?void 0:e.title},[4,r.LB.$n(u)];case 1:return r.qG=s.sent(),n.textTracks&&r.sH(n.textTracks),dp(r.nt),[2]}}))}))()},i.ge=function(){this.LB.ge()},i.kI=function(){},i.EI=function(){},i._a=function(){return this.LB.aH},i.tr=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.wc=void 0,t.HG=void 0,t.ZG=void 0,t.qG=void 0,[4,t.hH.tr()];case 1:return n.sent(),t.LB.cH(),[4,t.LB.tr()];case 2:return n.sent(),[2]}}))}))()},i.gn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.tr()];case 1:return n.sent(),t.lH.gn(),t.LB.fn(x7,t.Ds),t.LB.fn(Vy.ua,t.yH),[4,t.LB.Ww()];case 2:return n.sent(),t.vn.gn(),t.Ul.gn(),[4,t.hH.gn()];case 3:return n.sent(),[2]}}))}))()},i.PH=function(t,n){this.HG||(this.HG=n,this.ZG=t,this.yo(new wk(t)))},i.sH=function(t){for(var n=0;n<t.length;n++){var i=t[n];void 0!==i.src&&this.hH.rW(i)}},i.$G=function(t){if(!t.contentProtection)return[];var n=[];return t.contentProtection.widevine&&n.push({rT:Rs,TG:t.contentProtection.widevine.licenseAcquisitionURL,SH:[]}),t.contentProtection.playready&&n.push({rT:Is,TG:t.contentProtection.playready.licenseAcquisitionURL,SH:[]}),this.nbe(n,t.contentProtection.preferredKeySystems)},i.nbe=function(t,n){if(void 0===n||0===n.length)return t;var i=function(t){var i=n.indexOf(t.rT.Sw);return i>=0?i:n.length};return Qs(t,(function(t,n){return i(t)-i(n)}))},Nt(n,[{key:"ht",get:function(){return this.LB.ht}},{key:"_R",get:function(){return this.LB._R.ks()}},{key:"ZB",get:function(){}},{key:"mR",get:function(){return this.LB.mR},set:function(t){t&&this.LB.UG(t)}},{key:"bt",get:function(){return this.wc}},{key:"yR",get:function(){return this.LB.yR},set:function(t){this.LB.Sb(t)}},{key:"jG",get:function(){return this.QG}},{key:"ct",get:function(){return this.LB.ct}},{key:"kR",get:function(){return this.LB.kR}},{key:"RR",get:function(){return this.ZG}},{key:"lt",get:function(){return this.HG}},{key:"PR",get:function(){}},{key:"NR",get:function(){return!1}},{key:"gI",get:function(){return this.LB.gI},set:function(t){this.LB.gI=t}},{key:"vI",get:function(){return this.fZ}},{key:"LR",get:function(){return $u({},{uO:0,cO:0,lO:0,dO:0,fO:0,_O:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.LB.OR())}},{key:"FR",get:function(){return this.LB.FR},set:function(t){this.LB.FR=t}},{key:"GR",get:function(){return!0}},{key:"ZR",get:function(){return this.LB.ZR}},{key:"zR",get:function(){return this.LB.zR},set:function(t){this.LB.zR=t}},{key:"KR",get:function(){return this.LB.KR.ks()}},{key:"QR",get:function(){return this.zG},set:function(t){this.zG=t,this.qG&&(this.qG.QR=t)}},{key:"tI",get:function(){return this.LB.tI}},{key:"iI",get:function(){return this.LB.iI.ks()}},{key:"nI",get:function(){return this.LB.nI}},{key:"YG",get:function(){return this.LB.YG}},{key:"nt",get:function(){return this.Ul}},{key:"hI",get:function(){return this.LB.hI}},{key:"rt",get:function(){return this.LB.rt}},{key:"cI",get:function(){return this.LB.cI}},{key:"dI",get:function(){return this.LB.dI},set:function(t){this.LB.dI=t}}]),n}(na),M7=function(){function t(){this.BH=_k.oG}var n=t.prototype;return n.nP=function(t,n,i,r,e,u,s,o){return new L7(t,i,u,s)},n.NH=function(t,n){var i;return!(!Gn.Dm||t.type!==oA.XC&&!ZA(t.type)&&!XA(t.type))&&!(Ri()&&!(null==(i=t.contentProtection)?void 0:i.useOipfDrmAgent)&&(!t.contentProtection||Ks()))},n.MH=function(t){return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,__(t,!0)];case 1:return n.sent()?[2,!0]:[2,!1]}}))}))()},n.LH=function(){return!1},t}();return VT(new M7),F(),Tt(),h.exports}));
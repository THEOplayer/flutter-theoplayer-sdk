/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: long.js
 (Apache 2.0), promise-polyfill (MIT - Copyright (c) 2014
 Taylor Hakes & Forbes Lindesay), shaka-player (Apache 2.0 -
 Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
 (http://www.apache.org/licenses/LICENSE-2.0), MIT
 (https://opensource.org/licenses/MIT)


 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 10.0.0
 Created: 2025-09-12T12:50:32.290Z
 */
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(t):"function"==typeof define&&define.amd?define([],function(){return n(t)}):t.THEOplayer=n(t)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof s?s:"undefined"!=typeof global?global:this,function(t){"use strict";var n,i,r,e,s,u,o,h,c,a={exports:{}},f=(a.exports,t.window),v=t.document,d=t.location,l=t.navigator,w=t.setTimeout,g=t.clearTimeout,_=t.setInterval,m=t.clearInterval,y=t.Error,p=t.TypeError,k=(t.SyntaxError,t.Object),b=t.Math,A=t.parseInt,T=t.parseFloat,S=t.isNaN,E=t.Uint8Array,I=t.Worker,R=(t.WorkerGlobalScope,t.XMLHttpRequest),C=k.create,D=k.defineProperty,P=k.getOwnPropertyDescriptor,N=k.getOwnPropertyNames,B=k.getPrototypeOf,x=k.prototype.hasOwnProperty,O=function(t,n){return function(){return t&&(n=t(t=0)),n}},M=function(t,n){return function(){return n||t((n={exports:{}}).exports,n),n.exports}},L=function(t,n,i,r){if(n&&"object"==typeof n||"function"==typeof n)for(var e,s=N(n),u=0,o=s.length;u<o;u++)e=s[u],x.call(t,e)||e===i||D(t,e,{get:function(t){return n[t]}.bind(null,e),enumerable:!(r=P(n,e))||r.enumerable});return t},U=function(t,n,i){return i=null!=t?C(B(t)):{},L(!n&&t&&t.__esModule?i:D(i,"default",{value:t,enumerable:!0}),t)},F=O(function(){"function"==typeof Symbol&&Symbol.iterator?(n=Symbol,i=null!=(u=Symbol.for)?u:Symbol,r=Symbol.iterator,e=null!=(o=Symbol.dispose)?o:i("Symbol.dispose"),s=null!=(h=Symbol.asyncDispose)?h:i("Symbol.asyncDispose")):(c=0,n=function(t){return"hd"+t+"_"+ ++c},r=(i=function(t){return"hd"+t})("Symbol.iterator"),e=i("Symbol.dispose"),s=i("Symbol.asyncDispose"),n.for=i,n.iterator=r,n.dispose=e,n.asyncDispose=s)});function V(t,i){return null!=i&&void 0!==n&&i[n.hasInstance]?!!i[n.hasInstance](t):t instanceof i}var H=O(function(){F(),Et()});function W(t){return t&&void 0!==n&&t.constructor===n?"symbol":typeof t}var z,X,q,G,j,Q,Y,K,J,Z,tt,nt,it,rt,et,st,ut,ot,ht,ct,at=O(function(){F(),Et()});function ft(t){var n=this.constructor;return this.then(function(i){return n.resolve(t()).then(function(){return i})},function(i){return n.resolve(t()).then(function(){return n.reject(i)})})}function vt(t){return new this(function(n,i){if(!t||void 0===t.length)return i(new p((void 0===t?"undefined":W(t))+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(t);if(0===r.length)return n([]);var e=r.length;function s(t,i){if(i&&("object"===(void 0===i?"undefined":W(i))||"function"==typeof i)){var u=i.then;if("function"==typeof u)return void u.call(i,function(n){s(t,n)},function(i){r[t]={status:"rejected",reason:i},0===--e&&n(r)})}r[t]={status:"fulfilled",value:i},0===--e&&n(r)}for(var u=0;u<r.length;u++)s(u,r[u])})}function dt(t){return Boolean(t&&void 0!==t.length)}function lt(){}function wt(t){if(!V(this,wt))throw new p("Promises must be constructed via new");if("function"!=typeof t)throw new p("not a function");this.Ra=0,this.ttn=!1,this.lTt=void 0,this.ntn=[],kt(t,this)}function gt(t,n){for(;3===t.Ra;)t=t.lTt;0!==t.Ra?(t.ttn=!0,wt.itn(function(){var i=1===t.Ra?n.onFulfilled:n.onRejected;if(null!==i){var r;try{r=i(t.lTt)}catch(t){return void mt(n.promise,t)}_t(n.promise,r)}else(1===t.Ra?_t:mt)(n.promise,t.lTt)})):t.ntn.push(n)}function _t(t,n){try{if(n===t)throw new p("A promise cannot be resolved with itself.");if(n&&("object"===(void 0===n?"undefined":W(n))||"function"==typeof n)){var i=n.then;if(V(n,wt))return t.Ra=3,t.lTt=n,void yt(t);if("function"==typeof i)return void kt(function(t,n){return function(){t.apply(n,arguments)}}(i,n),t)}t.Ra=1,t.lTt=n,yt(t)}catch(n){mt(t,n)}}function mt(t,n){t.Ra=2,t.lTt=n,yt(t)}function yt(t){2===t.Ra&&0===t.ntn.length&&wt.itn(function(){t.ttn||wt.rtn(t.lTt)});for(var n=0,i=t.ntn.length;n<i;n++)gt(t,t.ntn[n]);t.ntn=null}function pt(t,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=i}function kt(t,n){var i=!1;try{t(function(t){i||(i=!0,_t(n,t))},function(t){i||(i=!0,mt(n,t))})}catch(t){if(i)return;i=!0,mt(n,t)}}function bt(t){return new nt(tt,{reason:t,promise:X.reject(t).catch(function(){}),cancelable:!0})}function At(t){var n=new it(tt,{detail:{reason:t},cancelable:!0});return k.defineProperty(n,"reason",{value:t}),n}function Tt(t){var n=v.createEvent("CustomEvent");return n.initCustomEvent(tt,!1,!0,{reason:t}),n}var St=O(function(){var t,n,i,r;F(),Et(),H(),at(),z=w,wt.prototype.catch=function(t){return this.then(null,t)},wt.prototype.then=function(t,n){var i=new this.constructor(lt);return gt(this,new pt(t,n,i)),i},wt.prototype.finally=ft,wt.all=function(t){return new wt(function(n,i){if(!dt(t))return i(new p("Promise.all accepts an array"));var r=Array.prototype.slice.call(t);if(0===r.length)return n([]);var e=r.length;function s(t,u){try{if(u&&("object"===(void 0===u?"undefined":W(u))||"function"==typeof u)){var o=u.then;if("function"==typeof o)return void o.call(u,function(n){s(t,n)},i)}r[t]=u,0===--e&&n(r)}catch(t){i(t)}}for(var u=0;u<r.length;u++)s(u,r[u])})},wt.allSettled=vt,wt.resolve=function(t){return t&&"object"===(void 0===t?"undefined":W(t))&&t.constructor===wt?t:new wt(function(n){n(t)})},wt.reject=function(t){return new wt(function(n,i){i(t)})},wt.race=function(t){return new wt(function(n,i){if(!dt(t))return i(new p("Promise.race accepts an array"));for(var r=0,e=t.length;r<e;r++)wt.resolve(t[r]).then(n,i)})},wt.itn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){z(t,0)},wt.rtn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},X=function(){var t=self.Promise;if(void 0!==t)try{if(-1!==t.toString().indexOf("[native code]"))return t}catch(t){}}(),q=l?l.userAgent:"",G=q.match(/Firefox\/([0-9]+)/i),j=null!=G,Q=G?Number(G[1]):0,Y=q.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),K=null!=Y,J=Y?Number(Y[3]):0,Z=function(){function t(t){this.nA=0,this.Ld=0,this.Wp=[],this.etn=t}return t.prototype.stn=function(t){var n=this.length();this.utn(n+1);var i=this.Ld+n&this.etn-1;this.Wp[i]=t,this.nA=n+1},t.prototype.push=function(t){var n=this.length()+1;if(this.etn<n)this.stn(t);else{var i=this.Ld+n-1,r=this.etn-1;this.Wp[i&r]=t,this.nA=n}},t.prototype.shift=function(){var t=this.Ld,n=this.Wp[t];return this.Wp[t]=void 0,this.Ld=t+1&this.etn-1,this.nA--,n},t.prototype.length=function(){return this.nA},t.prototype.utn=function(t){this.etn<t&&this.otn(this.etn<<1)},t.prototype.otn=function(t){var n=this.etn;this.etn=t;var i=this.Ld+this.nA&n-1;!function(t,n,i,r){for(var e=0;e<r;++e)t[e+i]=t[e+n],t[e+n]=void 0}(this.Wp,0,n,i)},t}(),tt="unhandledrejection",nt=self.PromiseRejectionEvent,it=self.CustomEvent,rt=function(t){return rt=function(){try{var t=X.resolve(),n="error",i=new nt(tt,{reason:n,promise:t});return tt===i.type&&n===i.reason}catch(t){}return!1}()?bt:function(){try{var t="error",n=new it(tt,{detail:{reason:t}});return tt===n.type&&t===n.detail.reason}catch(t){}return!1}()?At:Tt,rt(t)},st=j&&Q<60||K&&J<15,X&&!st?(ut=X,ot=function(){}):(ut=wt,ht=null!==(et=function(){var t=self.queueMicrotask;if("function"==typeof t)return function(n){return t(n)};var n=X;if(n&&"function"==typeof n.resolve){var i=n.resolve();return function(t){return i.then(t)}}}())&&void 0!==et?et:wt.itn,t=ht,n=new Z(16),i=!1,ot=(ct={M6:function(e){n.push(e),i||(i=!0,t(r))},AQ:r=function(){for(;n.length()>0;)n.shift()();i=!1}}).AQ,wt.itn=ct.M6,wt.rtn=function(t){try{var n=rt(t);if(!self.dispatchEvent(n)||n.defaultPrevented)return}catch(t){}w(function(){throw new y("Unhandled promise rejection: ".concat(t))},0)})}),Et=O(function(){St()});function It(t,n){return(It=k.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}var Rt=O(function(){F(),Et()});function Ct(t,n){if("function"!=typeof n&&null!==n)throw new p("Super expression must either be null or a function");t.prototype=k.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&It(t,n)}var Dt=O(function(){F(),Et(),Rt()});function Pt(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),k.defineProperty(t,r.key,r)}}function Nt(t,n,i){return n&&Pt(t.prototype,n),i&&Pt(t,i),t}var Bt=O(function(){F(),Et()});function xt(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,r=new Array(n);i<n;i++)r[i]=t[i];return r}var Ot=O(function(){F(),Et()});var Mt=O(function(){F(),Et(),Ot()});function Lt(t,i){var e=void 0!==n&&t[r]||t["@@iterator"];if(e)return(e=e.call(t)).next.bind(e);if(Array.isArray(t)||(e=function(t,n){if(t){if("string"==typeof t)return xt(t,n);var i=k.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?xt(t,n):void 0}}(t))||i&&t&&"number"==typeof t.length){e&&(t=e);var s=0;return function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}}}throw new p("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Ut=O(function(){F(),Et(),Mt()});function Ft(t,n,i,r,e,s,u){try{var o=t[s](u),h=o.value}catch(t){return void i(t)}o.done?n(h):ut.resolve(h).then(r,e)}function Vt(t){return function(){var n=this,i=arguments;return new ut(function(r,e){var s=t.apply(n,i);function u(t){Ft(s,r,e,u,o,"next",t)}function o(t){Ft(s,r,e,u,o,"throw",t)}u(void 0)})}}var Ht,Wt=O(function(){F(),Et()});function zt(t,i){var e,s,u,o={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]},h=k.create(("function"==typeof Iterator?Iterator:k).prototype);return h.next=c(0),h.throw=c(1),h.return=c(2),"function"==typeof n&&(h[r]=function(){return this}),h;function c(n){return function(r){return function(n){if(e)throw new p("Generator is already executing.");for(;h&&(h=0,n[0]&&(o=0)),o;)try{if(e=1,s&&(u=2&n[0]?s.return:n[0]?s.throw||((u=s.return)&&u.call(s),0):s.next)&&!(u=u.call(s,n[1])).done)return u;switch(s=0,u&&(n=[2&n[0],u.value]),n[0]){case 0:case 1:u=n;break;case 4:return o.label++,{value:n[1],done:!1};case 5:o.label++,s=n[1],n=[0];continue;case 7:n=o.ops.pop(),o.trys.pop();continue;default:if(!(u=o.trys,(u=u.length>0&&u[u.length-1])||6!==n[0]&&2!==n[0])){o=0;continue}if(3===n[0]&&(!u||n[1]>u[0]&&n[1]<u[3])){o.label=n[1];break}if(6===n[0]&&o.label<u[1]){o.label=u[1],u=n;break}if(u&&o.label<u[2]){o.label=u[2],o.ops.push(n);break}u[2]&&o.ops.pop(),o.trys.pop();continue}n=i.call(t,o)}catch(t){n=[6,t],s=0}finally{e=u=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,r])}}}function Xt(t){var i="function"==typeof n&&r,e=i&&t[i],s=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new p(i?"Object is not iterable.":"Symbol.iterator is not defined.")}function qt(t,n,i){if(null!=n){if("object"!=typeof n&&"function"!=typeof n)throw new p("Object expected.");var r,u;if(i){if(!s)throw new p("Symbol.asyncDispose is not defined.");r=n[s]}if(void 0===r){if(!e)throw new p("Symbol.dispose is not defined.");r=n[e],i&&(u=r)}if("function"!=typeof r)throw new p("Object not disposable.");u&&(r=function(){try{u.call(this)}catch(t){return ut.reject(t)}}),t.stack.push({value:n,dispose:r,async:i})}else i&&t.stack.push({async:!0});return n}function Gt(t){function n(n){t.error=t.hasError?new Ht(n,t.error,"An error was suppressed during disposal."):n,t.hasError=!0}var i,r=0;return function e(){for(;i=t.stack.pop();)try{if(!i.async&&1===r)return r=0,t.stack.push(i),ut.resolve().then(e);if(i.dispose){var s=i.dispose.call(i.value);if(i.async)return r|=2,ut.resolve(s).then(e,function(t){return n(t),e()})}else r|=1}catch(t){n(t)}if(1===r)return t.hasError?ut.reject(t.error):ut.resolve();if(t.hasError)throw t.error}()}var jt=O(function(){F(),Et(),Ht="function"==typeof SuppressedError?SuppressedError:function(t,n,i){var r=new y(i);return r.name="SuppressedError",r.error=t,r.suppressed=n,r}}),Qt=O(function(){F(),Et(),jt()}),Yt=M(function(t,i){var e,s;F(),Et(),at(),e=t,s=function(t){var i="function"==typeof n&&"symbol"===W(r)?n:function(t){return"Symbol("+t+")"};function e(){}var s=Number.isNaN||function(t){return t!=t},u=e;function o(t){return"object"===(void 0===t?"undefined":W(t))&&null!==t||"function"==typeof t}function h(t){return t.slice()}function c(t,n,i,r,e){new E(t).set(new E(i,r,e),n)}function a(t){return!1!==function(t){return"number"==typeof t&&(!s(t)&&!(t<0))}(t)&&t!==1/0}function f(t,n,i){if("function"!=typeof t)throw new p("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function v(t,n,i,r){var e=t[n];if(void 0!==e){if("function"!=typeof e)throw new p(e+" is not a method");switch(i){case 0:return function(){return l(e,t,r)};case 1:return function(n){var i=[n].concat(r);return l(e,t,i)}}}return function(){return I(void 0)}}function d(t,n,i){var r=t[n];if(void 0!==r)return f(r,t,i)}function l(t,n,i){try{return I(f(t,n,i))}catch(t){return R(t)}}function w(t){if(t=Number(t),s(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function g(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new p("size property of a queuing strategy must be a function");return function(n){return t(n)}}var _=ut,m=ut.prototype.then,A=ut.resolve.bind(_),T=ut.reject.bind(_);function S(t){return new _(t)}function I(t){return A(t)}function R(t){return T(t)}function C(t,n,i){return m.call(t,n,i)}function D(t,n,i){C(C(t,n,i),void 0,u)}function P(t,n){D(t,n)}function N(t,n){D(t,void 0,n)}function B(t,n,i){return C(t,n,i)}function x(t){C(t,void 0,u)}var O=function(){function t(){this.Rd=0,this.Dd=0,this.Ld={Od:[],Fd:void 0},this.Ud=this.Ld,this.Rd=0,this.Dd=0}return k.defineProperty(t.prototype,"length",{get:function(){return this.Dd},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.Ud,i=n;16383===n.Od.length&&(i={Od:[],Fd:void 0}),n.Od.push(t),i!==n&&(this.Ud=i,n.Fd=i),++this.Dd},t.prototype.shift=function(){var t=this.Ld,n=t,i=this.Rd,r=i+1,e=t.Od,s=e[i];return 16384===r&&(n=t.Fd,r=0),--this.Dd,this.Rd=r,t!==n&&(this.Ld=n),e[i]=void 0,s},t.prototype.forEach=function(t){for(var n=this.Rd,i=this.Ld,r=i.Od;!(n===r.length&&void 0===i.Fd||n===r.length&&(n=0,0===(r=(i=i.Fd).Od).length));)t(r[n]),++n},t.prototype.peek=function(){var t=this.Ld,n=this.Rd;return t.Od[n]},t}();function M(t,n,i){var r=null;!0===i&&(r=k.prototype);var e=k.create(r);return e.value=t,e.done=n,e}function L(t,n){t.Vd=!0,t.Hd=n,n.Wd=t,"readable"===n.Ra?H(t):"closed"===n.Ra?function(t){H(t),q(t)}(t):z(t,n.qd)}function U(t,n){return Jn(t.Hd,n)}function F(t){"readable"===t.Hd.Ra?X(t,new p("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){z(t,n)}(t,new p("Reader was released and can no longer be used to monitor the stream's closedness")),t.Hd.Wd=void 0,t.Hd=void 0}function V(t){return new p("Cannot "+t+" a stream using a released reader")}function H(t){t.zd=S(function(n,i){t.Gd=n,t.Xd=i})}function z(t,n){H(t),X(t,n)}function X(t,n){x(t.zd),t.Xd(n),t.Gd=void 0,t.Xd=void 0}function q(t){t.Gd(void 0),t.Gd=void 0,t.Xd=void 0}var G=i("[[CancelSteps]]"),j=i("[[PullSteps]]");function Q(t,n){void 0===n&&(n=!1);var i=new nt(t);return i.Vd=n,i}function Y(t){return S(function(n,i){var r={Qd:n,Kd:i};t.Wd.Yd.push(r)})}function K(t,n,i){var r=t.Wd;r.Yd.shift().Qd(M(n,i,r.Vd))}function J(t){return t.Wd.Yd.length}function Z(t){var n=t.Wd;return void 0!==n&&!!it(n)}var $,tt,nt=function(){function t(t){if(!1===Yn(t))throw new p("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===Kn(t))throw new p("This stream has already been locked for exclusive reading by another reader");L(this,t),this.Yd=new O}return k.defineProperty(t.prototype,"closed",{get:function(){return it(this)?this.zd:R(et("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return it(this)?void 0===this.Hd?R(V("cancel")):U(this,t):R(et("cancel"))},t.prototype.read=function(){return it(this)?void 0===this.Hd?R(V("read from")):rt(this):R(et("read"))},t.prototype.releaseLock=function(){if(!it(this))throw et("releaseLock");if(void 0!==this.Hd){if(this.Yd.length>0)throw new p("Tried to release a reader lock when that reader has pending read() calls un-settled");F(this)}},t}();function it(t){return!!o(t)&&!!k.prototype.hasOwnProperty.call(t,"Yd")}function rt(t){var n=t.Hd;return n.Jd=!0,"closed"===n.Ra?I(M(void 0,!0,t.Vd)):"errored"===n.Ra?R(n.qd):n.Zd[j]()}function et(t){return new p("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}"symbol"===W(i.asyncIterator)&&(($={})[i.asyncIterator]=function(){return this},tt=$,k.defineProperty(tt,i.asyncIterator,{enumerable:!1}));var st={next:function(){if(!1===ot(this))return R(ht("next"));var t=this.$d;return void 0===t.Hd?R(V("iterate")):B(rt(t),function(n){var i=n.done;return i&&F(t),M(n.value,i,!0)})},return:function(t){if(!1===ot(this))return R(ht("next"));var n=this.$d;if(void 0===n.Hd)return R(V("finish iterating"));if(n.Yd.length>0)return R(new p("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.ul){var i=U(n,t);return F(n),B(i,function(){return M(t,!0,!0)})}return F(n),I(M(t,!0,!0))}};function ot(t){return!!o(t)&&!!k.prototype.hasOwnProperty.call(t,"$d")}function ht(t){return new p("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function ct(t){var n=t.tf.shift();return t.if-=n.size,t.if<0&&(t.if=0),n.value}function at(t,n,i){if(!a(i=Number(i)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.tf.push({value:n,size:i}),t.if+=i}function ft(t){t.tf=new O,t.if=0}void 0!==tt&&k.setPrototypeOf(st,tt),k.defineProperty(st,"next",{enumerable:!1}),k.defineProperty(st,"return",{enumerable:!1});var vt=i("[[AbortSteps]]"),dt=i("[[ErrorSteps]]"),lt=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),gt(this);var i=n.size,r=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var e=g(i);void 0===r&&(r=1),function(t,n,i,r){var e=k.create(xt.prototype);function s(){return d(n,"start",[e])}var u=v(n,"write",1,[e]),o=v(n,"close",0,[]),h=v(n,"abort",1,[]);Ot(t,e,s,u,o,h,i,r)}(this,t,r=w(r),e)}return k.defineProperty(t.prototype,"locked",{get:function(){if(!1===_t(this))throw Wt("locked");return mt(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===_t(this)?R(Wt("abort")):!0===mt(this)?R(new p("Cannot abort a stream that already has a writer")):yt(this,t)},t.prototype.close=function(){return!1===_t(this)?R(Wt("close")):!0===mt(this)?R(new p("Cannot close a stream that already has a writer")):!0===Tt(this)?R(new p("Cannot close an already-closing stream")):pt(this)},t.prototype.getWriter=function(){if(!1===_t(this))throw Wt("getWriter");return wt(this)},t}();function wt(t){return new It(t)}function gt(t){t.Ra="writable",t.qd=void 0,t.ef=void 0,t.nf=void 0,t.rf=new O,t.hf=void 0,t.uf=void 0,t.cf=void 0,t.df=void 0,t.lf=!1}function _t(t){return!!o(t)&&!!k.prototype.hasOwnProperty.call(t,"nf")}function mt(t){return void 0!==t.ef}function yt(t,n){var i=t.Ra;if("closed"===i||"errored"===i)return I(void 0);if(void 0!==t.df)return t.df.vf;var r=!1;"erroring"===i&&(r=!0,n=void 0);var e=S(function(i,e){t.df={vf:void 0,Qd:i,Kd:e,_f:n,gf:r}});return t.df.vf=e,!1===r&&bt(t,n),e}function pt(t){var n=t.Ra;if("closed"===n||"errored"===n)return R(new p("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i=S(function(n,i){var r={Qd:n,Kd:i};t.uf=r}),r=t.ef;return void 0!==r&&!0===t.lf&&"writable"===n&&$t(r),function(t){at(t,"close",0),Ut(t)}(t.nf),i}function kt(t,n){"writable"!==t.Ra?At(t):bt(t,n)}function bt(t,n){var i=t.nf;t.Ra="erroring",t.qd=n;var r=t.ef;void 0!==r&&Pt(r,n),!1===function(t){return void 0!==t.hf||void 0!==t.cf}(t)&&!0===i.pf&&At(t)}function At(t){t.Ra="errored",t.nf[dt]();var n=t.qd;if(t.rf.forEach(function(t){t.Kd(n)}),t.rf=new O,void 0!==t.df){var i=t.df;if(t.df=void 0,!0===i.gf)return i.Kd(n),void St(t);D(t.nf[vt](i._f),function(){i.Qd(),St(t)},function(n){i.Kd(n),St(t)})}else St(t)}function Tt(t){return void 0!==t.uf||void 0!==t.cf}function St(t){void 0!==t.uf&&(t.uf.Kd(t.qd),t.uf=void 0);var n=t.ef;void 0!==n&&jt(n,t.qd)}function Et(t,n){var i=t.ef;void 0!==i&&n!==t.lf&&(!0===n?function(t){Yt(t)}(i):$t(i)),t.lf=n}var It=function(){function t(t){if(!1===_t(t))throw new p("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===mt(t))throw new p("This stream has already been locked for exclusive writing by another writer");this.mf=t,t.ef=this;var n=t.Ra;if("writable"===n)!1===Tt(t)&&!0===t.lf?Yt(this):Jt(this),qt(this);else if("erroring"===n)Kt(this,t.qd),qt(this);else if("closed"===n)Jt(this),function(t){qt(t),Qt(t)}(this);else{var i=t.qd;Kt(this,i),Gt(this,i)}}return k.defineProperty(t.prototype,"closed",{get:function(){return!1===Rt(this)?R(zt("closed")):this.zd},enumerable:!0,configurable:!0}),k.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Rt(this))throw zt("desiredSize");if(void 0===this.mf)throw Xt("desiredSize");return function(t){var n=t.mf,i=n.Ra;return"errored"===i||"erroring"===i?null:"closed"===i?0:Lt(n.nf)}(this)},enumerable:!0,configurable:!0}),k.defineProperty(t.prototype,"ready",{get:function(){return!1===Rt(this)?R(zt("ready")):this.wf},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===Rt(this)?R(zt("abort")):void 0===this.mf?R(Xt("abort")):function(t,n){var i=t.mf;return yt(i,n)}(this,t)},t.prototype.close=function(){if(!1===Rt(this))return R(zt("close"));var t=this.mf;return void 0===t?R(Xt("close")):!0===Tt(t)?R(new p("Cannot close an already-closing stream")):Ct(this)},t.prototype.releaseLock=function(){if(!1===Rt(this))throw zt("releaseLock");void 0!==this.mf&&Nt(this)},t.prototype.write=function(t){return!1===Rt(this)?R(zt("write")):void 0===this.mf?R(Xt("write to")):Bt(this,t)},t}();function Rt(t){return!!o(t)&&!!k.prototype.hasOwnProperty.call(t,"mf")}function Ct(t){return pt(t.mf)}function Dt(t,n){"pending"===t.yf?jt(t,n):function(t,n){Gt(t,n)}(t,n)}function Pt(t,n){"pending"===t.Af?Zt(t,n):function(t,n){Kt(t,n)}(t,n)}function Nt(t){var n=t.mf,i=new p("Writer was released and can no longer be used to monitor the stream's closedness");Pt(t,i),Dt(t,i),n.ef=void 0,t.mf=void 0}function Bt(t,n){var i=t.mf,r=i.nf,e=function(t,n){try{return t.bf(n)}catch(n){return Ft(t,n),1}}(r,n);if(i!==t.mf)return R(Xt("write to"));var s=i.Ra;if("errored"===s)return R(i.qd);if(!0===Tt(i)||"closed"===s)return R(new p("The stream is closing or closed and cannot be written to"));if("erroring"===s)return R(i.qd);var u=function(t){return S(function(n,i){var r={Qd:n,Kd:i};t.rf.push(r)})}(i);return function(t,n,i){var r={chunk:n};try{at(t,r,i)}catch(n){return void Ft(t,n)}var e=t.Sf;!1===Tt(e)&&"writable"===e.Ra&&Et(e,Vt(t)),Ut(t)}(r,n,e),u}var xt=function(){function t(){throw new p("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1===function(t){return!!o(t)&&!!k.prototype.hasOwnProperty.call(t,"Sf")}(this))throw new p("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this.Sf.Ra&&Ht(this,t)},t.prototype[vt]=function(t){var n=this.Tf(t);return Mt(this),n},t.prototype[dt]=function(){ft(this)},t}();function Ot(t,n,i,r,e,s,u,o){n.Sf=t,t.nf=n,n.tf=void 0,n.if=void 0,ft(n),n.pf=!1,n.bf=o,n.kf=u,n.Ef=r,n.Pf=e,n.Tf=s;var h=Vt(n);Et(t,h),D(I(i()),function(){n.pf=!0,Ut(n)},function(i){n.pf=!0,kt(t,i)})}function Mt(t){t.Ef=void 0,t.Pf=void 0,t.Tf=void 0,t.bf=void 0}function Lt(t){return t.kf-t.if}function Ut(t){var n=t.Sf;if(!1!==t.pf&&void 0===n.hf)if("erroring"!==n.Ra){if(0!==t.tf.length){var i=function(t){return t.tf.peek().value}(t);"close"===i?function(t){var n=t.Sf;(function(t){t.cf=t.uf,t.uf=void 0})(n),ct(t);var i=t.Pf();Mt(t),D(i,function(){!function(t){t.cf.Qd(void 0),t.cf=void 0,"erroring"===t.Ra&&(t.qd=void 0,void 0!==t.df&&(t.df.Qd(),t.df=void 0)),t.Ra="closed";var n=t.ef;void 0!==n&&Qt(n)}(n)},function(t){!function(t,n){t.cf.Kd(n),t.cf=void 0,void 0!==t.df&&(t.df.Kd(n),t.df=void 0),kt(t,n)}(n,t)})}(t):function(t,n){var i=t.Sf;!function(t){t.hf=t.rf.shift()}(i);var r=t.Ef(n);D(r,function(){!function(t){t.hf.Qd(void 0),t.hf=void 0}(i);var n=i.Ra;if(ct(t),!1===Tt(i)&&"writable"===n){var r=Vt(t);Et(i,r)}Ut(t)},function(n){"writable"===i.Ra&&Mt(t),function(t,n){t.hf.Kd(n),t.hf=void 0,kt(t,n)}(i,n)})}(t,i.chunk)}}else At(n)}function Ft(t,n){"writable"===t.Sf.Ra&&Ht(t,n)}function Vt(t){return Lt(t)<=0}function Ht(t,n){var i=t.Sf;Mt(t),bt(i,n)}function Wt(t){return new p("WritableStream.prototype."+t+" can only be used on a WritableStream")}function zt(t){return new p("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function Xt(t){return new p("Cannot "+t+" a stream using a released writer")}function qt(t){t.zd=S(function(n,i){t.Gd=n,t.Xd=i,t.yf="pending"})}function Gt(t,n){qt(t),jt(t,n)}function jt(t,n){x(t.zd),t.Xd(n),t.Gd=void 0,t.Xd=void 0,t.yf="rejected"}function Qt(t){t.Gd(void 0),t.Gd=void 0,t.Xd=void 0,t.yf="resolved"}function Yt(t){t.wf=S(function(n,i){t.xf=n,t.If=i}),t.Af="pending"}function Kt(t,n){Yt(t),Zt(t,n)}function Jt(t){Yt(t),$t(t)}function Zt(t,n){x(t.wf),t.If(n),t.xf=void 0,t.If=void 0,t.Af="rejected"}function $t(t){t.xf(void 0),t.xf=void 0,t.If=void 0,t.Af="fulfilled"}function tn(t){if("object"!==(void 0===t?"undefined":W(t))||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}var nn,rn="undefined"!=typeof DOMException?DOMException:void 0,en=function(t){if("function"!=typeof t&&"object"!==(void 0===t?"undefined":W(t)))return!1;try{return new t,!0}catch(t){return!1}}(rn)?rn:((nn=function(t,n){this.message=t||"",this.name=n||"Error",y.captureStackTrace&&y.captureStackTrace(this,this.constructor)}).prototype=k.create(y.prototype),k.defineProperty(nn.prototype,"constructor",{value:nn,writable:!0,configurable:!0}),nn);function sn(t,n,i,r,s,u){var o=Q(t),h=wt(n);t.Jd=!0;var c=!1,a=I(void 0);return S(function(f,v){var d,l,w,g;if(void 0!==u){if(d=function(){var i=new en("Aborted","AbortError"),e=[];!1===r&&e.push(function(){return"writable"===n.Ra?yt(n,i):I(void 0)}),!1===s&&e.push(function(){return"readable"===t.Ra?Jn(t,i):I(void 0)}),k(function(){return ut.all(e.map(function(t){return t()}))},!0,i)},!0===u.aborted)return void d();u.addEventListener("abort",d)}if(y(t,o.zd,function(t){!1===r?k(function(){return yt(n,t)},!0,t):b(!0,t)}),y(n,h.zd,function(n){!1===s?k(function(){return Jn(t,n)},!0,n):b(!0,n)}),l=t,w=o.zd,g=function(){!1===i?k(function(){return function(t){var n=t.mf,i=n.Ra;return!0===Tt(n)||"closed"===i?I(void 0):"errored"===i?R(n.qd):Ct(t)}(h)}):b()},"closed"===l.Ra?g():P(w,g),!0===Tt(n)||"closed"===n.Ra){var _=new p("the destination writable stream closed before all data could be piped to it");!1===s?k(function(){return Jn(t,_)},!0,_):b(!0,_)}function m(){var t=a;return C(a,function(){return t!==a?m():void 0})}function y(t,n,i){"errored"===t.Ra?i(t.qd):N(n,i)}function k(t,i,r){function e(){D(t(),function(){return A(i,r)},function(t){return A(!0,t)})}!0!==c&&(c=!0,"writable"===n.Ra&&!1===Tt(n)?P(m(),e):e())}function b(t,i){!0!==c&&(c=!0,"writable"===n.Ra&&!1===Tt(n)?P(m(),function(){return A(t,i)}):A(t,i))}function A(t,n){Nt(h),F(o),void 0!==u&&u.removeEventListener("abort",d),t?v(n):f(void 0)}x(S(function(t,n){!function i(r){r?t():C(!0===c?I(!0):C(h.wf,function(){return C(rt(o),function(t){return!0===t.done||(a=C(Bt(h,t.value),void 0,e),!1)})}),i,n)}(!1)}))})}var un=function(){function t(){throw new p}return k.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===on(this))throw _n("desiredSize");return ln(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===on(this))throw _n("close");if(!1===wn(this))throw new p("The stream is not in a state that permits close");fn(this)},t.prototype.enqueue=function(t){if(!1===on(this))throw _n("enqueue");if(!1===wn(this))throw new p("The stream is not in a state that permits enqueue");return vn(this,t)},t.prototype.error=function(t){if(!1===on(this))throw _n("error");dn(this,t)},t.prototype[G]=function(t){ft(this);var n=this.Rf(t);return an(this),n},t.prototype[j]=function(){var t=this.Cf;if(this.tf.length>0){var n=ct(this);return!0===this.Df&&0===this.tf.length?(an(this),Zn(t)):hn(this),I(M(n,!1,t.Wd.Vd))}var i=Y(t);return hn(this),i},t}();function on(t){return!!o(t)&&!!k.prototype.hasOwnProperty.call(t,"Cf")}function hn(t){!1!==cn(t)&&(!0!==t.Bf?(t.Bf=!0,D(t.Nf(),function(){t.Bf=!1,!0===t.Mf&&(t.Mf=!1,hn(t))},function(n){dn(t,n)})):t.Mf=!0)}function cn(t){var n=t.Cf;return!1!==wn(t)&&!1!==t.pf&&(!0===Kn(n)&&J(n)>0||ln(t)>0)}function an(t){t.Nf=void 0,t.Rf=void 0,t.bf=void 0}function fn(t){var n=t.Cf;t.Df=!0,0===t.tf.length&&(an(t),Zn(n))}function vn(t,n){var i=t.Cf;if(!0===Kn(i)&&J(i)>0)K(i,n,!1);else{var r=void 0;try{r=t.bf(n)}catch(n){throw dn(t,n),n}try{at(t,n,r)}catch(n){throw dn(t,n),n}}hn(t)}function dn(t,n){var i=t.Cf;"readable"===i.Ra&&(ft(t),an(t),$n(i,n))}function ln(t){var n=t.Cf.Ra;return"errored"===n?null:"closed"===n?0:t.kf-t.if}function wn(t){var n=t.Cf.Ra;return!1===t.Df&&"readable"===n}function gn(t,n,i,r,e,s,u){n.Cf=t,n.tf=void 0,n.if=void 0,ft(n),n.pf=!1,n.Df=!1,n.Mf=!1,n.Bf=!1,n.bf=u,n.kf=s,n.Nf=r,n.Rf=e,t.Zd=n,D(I(i()),function(){n.pf=!0,hn(n)},function(t){dn(n,t)})}function _n(t){return new p("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}var mn=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&b.floor(t)===t},yn=function(){function t(){throw new p("ReadableStreamBYOBRequest cannot be used directly")}return k.defineProperty(t.prototype,"view",{get:function(){if(!1===bn(this))throw Un("view");return this.Lf},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===bn(this))throw Un("respond");if(void 0===this.Of)throw new p("This BYOB request has been invalidated");this.Lf.buffer,function(t,n){if(!1===a(n=Number(n)))throw new RangeError("bytesWritten must be a finite");Nn(t,n)}(this.Of,t)},t.prototype.respondWithNewView=function(t){if(!1===bn(this))throw Un("respond");if(void 0===this.Of)throw new p("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new p("You can only respond with array buffer views");t.buffer,function(t,n){var i=t.Ff.peek();if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=n.buffer,Nn(t,n.byteLength)}(this.Of,t)},t}(),pn=function(){function t(){throw new p("ReadableByteStreamController constructor cannot be used directly")}return k.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===kn(this))throw Fn("byobRequest");if(void 0===this.Uf&&this.Ff.length>0){var t=this.Ff.peek(),n=new E(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),i=k.create(yn.prototype);!function(t,n,i){t.Of=n,t.Lf=i}(i,this,n),this.Uf=i}return this.Uf},enumerable:!0,configurable:!0}),k.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===kn(this))throw Fn("desiredSize");return Mn(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===kn(this))throw Fn("close");if(!0===this.Df)throw new p("The stream has already been closed; do not close it again!");var t=this.Vf.Ra;if("readable"!==t)throw new p("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.Vf;if(t.if>0)t.Df=!0;else{if(t.Ff.length>0&&t.Ff.peek().bytesFilled>0){var i=new p("Insufficient bytes to fill elements in the given buffer");throw On(t,i),i}xn(t),Zn(n)}}(this)},t.prototype.enqueue=function(t){if(!1===kn(this))throw Fn("enqueue");if(!0===this.Df)throw new p("stream is closed or draining");var n=this.Vf.Ra;if("readable"!==n)throw new p("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new p("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var i=t.Vf,r=n.buffer,e=n.byteOffset,s=n.byteLength,u=r;!0===Z(i)?0===J(i)?En(t,u,e,s):K(i,new E(u,e,s),!1):!0===Wn(i)?(En(t,u,e,s),Pn(t)):En(t,u,e,s),An(t)}(this,t)},t.prototype.error=function(t){if(!1===kn(this))throw Fn("error");On(this,t)},t.prototype[G]=function(t){this.Ff.length>0&&(this.Ff.peek().bytesFilled=0),ft(this);var n=this.Rf(t);return xn(this),n},t.prototype[j]=function(){var t=this.Vf;if(this.if>0){var n=this.tf.shift();this.if-=n.byteLength,Cn(this);var i=void 0;try{i=new E(n.buffer,n.byteOffset,n.byteLength)}catch(t){return R(t)}return I(M(i,!1,t.Wd.Vd))}var r=this.Hf;if(void 0!==r){var e=void 0;try{e=new ArrayBuffer(r)}catch(t){return R(t)}var s={buffer:e,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,ctor:E,readerType:"default"};this.Ff.push(s)}var u=Y(t);return An(this),u},t}();function kn(t){return!!o(t)&&!!k.prototype.hasOwnProperty.call(t,"Vf")}function bn(t){return!!o(t)&&!!k.prototype.hasOwnProperty.call(t,"Of")}function An(t){var n=function(t){var n=t.Vf;if("readable"!==n.Ra)return!1;if(!0===t.Df)return!1;if(!1===t.pf)return!1;if(!0===Z(n)&&J(n)>0)return!0;if(!0===Wn(n)&&Hn(n)>0)return!0;var i=Mn(t);return i>0}(t);!1!==n&&(!0!==t.Bf?(t.Bf=!0,D(t.Nf(),function(){t.Bf=!1,!0===t.Mf&&(t.Mf=!1,An(t))},function(n){On(t,n)})):t.Mf=!0)}function Tn(t,n){var i=!1;"closed"===t.Ra&&(i=!0);var r=Sn(n);"default"===n.readerType?K(t,r,i):function(t,n,i){var r=t.Wd,e=r.Wf.shift();e.Qd(M(n,i,r.Vd))}(t,r,i)}function Sn(t){var n=t.bytesFilled,i=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/i)}function En(t,n,i,r){t.tf.push({buffer:n,byteOffset:i,byteLength:r}),t.if+=r}function In(t,n){var i=n.elementSize,r=n.bytesFilled-n.bytesFilled%i,e=b.min(t.if,n.byteLength-n.bytesFilled),s=n.bytesFilled+e,u=s-s%i,o=e,h=!1;u>r&&(o=u-n.bytesFilled,h=!0);for(var a=t.tf;o>0;){var f=a.peek(),v=b.min(o,f.byteLength),d=n.byteOffset+n.bytesFilled;c(n.buffer,d,f.buffer,f.byteOffset,v),f.byteLength===v?a.shift():(f.byteOffset+=v,f.byteLength-=v),t.if-=v,Rn(t,v,n),o-=v}return h}function Rn(t,n,i){Dn(t),i.bytesFilled+=n}function Cn(t){0===t.if&&!0===t.Df?(xn(t),Zn(t.Vf)):An(t)}function Dn(t){void 0!==t.Uf&&(t.Uf.Of=void 0,t.Uf.Lf=void 0,t.Uf=void 0)}function Pn(t){for(;t.Ff.length>0;){if(0===t.if)return;var n=t.Ff.peek();!0===In(t,n)&&(Bn(t),Tn(t.Vf,n))}}function Nn(t,n){var i=t.Ff.peek();if("closed"===t.Vf.Ra){if(0!==n)throw new p("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=n.buffer;var i=t.Vf;if(!0===Wn(i))for(;Hn(i)>0;)Tn(i,Bn(t))}(t,i)}else!function(t,n,i){if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range");if(Rn(t,n,i),!(i.bytesFilled<i.elementSize)){Bn(t);var r=i.bytesFilled%i.elementSize;if(r>0){var e=i.byteOffset+i.bytesFilled,s=i.buffer.slice(e-r,e);En(t,s,0,s.byteLength)}i.buffer=i.buffer,i.bytesFilled-=r,Tn(t.Vf,i),Pn(t)}}(t,n,i);An(t)}function Bn(t){var n=t.Ff.shift();return Dn(t),n}function xn(t){t.Nf=void 0,t.Rf=void 0}function On(t,n){var i=t.Vf;"readable"===i.Ra&&(function(t){Dn(t),t.Ff=new O}(t),ft(t),xn(t),$n(i,n))}function Mn(t){var n=t.Vf.Ra;return"errored"===n?null:"closed"===n?0:t.kf-t.if}function Ln(t,n,i){var r=k.create(pn.prototype),e=v(n,"pull",0,[r]),s=v(n,"cancel",1,[]),u=n.autoAllocateChunkSize;if(void 0!==u&&(u=Number(u),!1===mn(u)||u<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,i,r,e,s,u){n.Vf=t,n.Mf=!1,n.Bf=!1,n.Uf=void 0,n.tf=n.if=void 0,ft(n),n.Df=!1,n.pf=!1,n.kf=w(s),n.Nf=r,n.Rf=e,n.Hf=u,n.Ff=new O,t.Zd=n,D(I(i()),function(){n.pf=!0,An(n)},function(t){On(n,t)})}(t,r,function(){return d(n,"start",[r])},e,s,i,u)}function Un(t){return new p("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function Fn(t){return new p("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function Vn(t){return S(function(n,i){var r={Qd:n,Kd:i};t.Wd.Wf.push(r)})}function Hn(t){return t.Wd.Wf.length}function Wn(t){var n=t.Wd;return void 0!==n&&!!Xn(n)}var zn=function(){function t(t){if(!Yn(t))throw new p("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===kn(t.Zd))throw new p("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(Kn(t))throw new p("This stream has already been locked for exclusive reading by another reader");L(this,t),this.Wf=new O}return k.defineProperty(t.prototype,"closed",{get:function(){return Xn(this)?this.zd:R(qn("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Xn(this)?void 0===this.Hd?R(V("cancel")):U(this,t):R(qn("cancel"))},t.prototype.read=function(t){return Xn(this)?void 0===this.Hd?R(V("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?R(new p("view must have non-zero byteLength")):function(t,n){var i=t.Hd;return i.Jd=!0,"errored"===i.Ra?R(i.qd):function(t,n){var i=t.Vf,r=1;n.constructor!==DataView&&(r=n.constructor.BYTES_PER_ELEMENT);var e=n.constructor,s={buffer:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:r,ctor:e,readerType:"byob"};if(t.Ff.length>0)return t.Ff.push(s),Vn(i);if("closed"===i.Ra)return I(M(new e(s.buffer,s.byteOffset,0),!0,i.Wd.Vd));if(t.if>0){if(!0===In(t,s)){var u=Sn(s);return Cn(t),I(M(u,!1,i.Wd.Vd))}if(!0===t.Df){var o=new p("Insufficient bytes to fill elements in the given buffer");return On(t,o),R(o)}}t.Ff.push(s);var h=Vn(i);return An(t),h}(i.Zd,n)}(this,t)):R(new p("view must be an array buffer view")):R(qn("read"))},t.prototype.releaseLock=function(){if(!Xn(this))throw qn("releaseLock");if(void 0!==this.Hd){if(this.Wf.length>0)throw new p("Tried to release a reader lock when that reader has pending read() calls un-settled");F(this)}},t}();function Xn(t){return!!o(t)&&!!k.prototype.hasOwnProperty.call(t,"Wf")}function qn(t){return new p("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}var Gn=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),Qn(this);var i=n.size,r=n.highWaterMark,e=t.type;if("bytes"===String(e)){if(void 0!==i)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===r&&(r=0),Ln(this,t,r=w(r))}else{if(void 0!==e)throw new RangeError("Invalid type is specified");var s=g(i);void 0===r&&(r=1),function(t,n,i,r){var e=k.create(un.prototype),s=v(n,"pull",0,[e]),u=v(n,"cancel",1,[]);gn(t,e,function(){return d(n,"start",[e])},s,u,i,r)}(this,t,r=w(r),s)}}return k.defineProperty(t.prototype,"locked",{get:function(){if(!1===Yn(this))throw ti("locked");return Kn(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===Yn(this)?R(ti("cancel")):!0===Kn(this)?R(new p("Cannot cancel a stream that already has a reader")):Jn(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===Yn(this))throw ti("getReader");if(void 0===n)return Q(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var i=new zn(t);return i.Vd=n,i}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var i=t.writable,r=t.readable,e=void 0===n?{}:n,s=e.preventClose,u=e.preventAbort,o=e.preventCancel,h=e.signal;if(!1===Yn(this))throw ti("pipeThrough");if(!1===_t(i))throw new p("writable argument to pipeThrough must be a WritableStream");if(!1===Yn(r))throw new p("readable argument to pipeThrough must be a ReadableStream");if(s=Boolean(s),u=Boolean(u),o=Boolean(o),void 0!==h&&!tn(h))throw new p("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===Kn(this))throw new p("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===mt(i))throw new p("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return x(sn(this,i,s,u,o,h)),r},t.prototype.pipeTo=function(t,n){var i=void 0===n?{}:n,r=i.preventClose,e=i.preventAbort,s=i.preventCancel,u=i.signal;return!1===Yn(this)?R(ti("pipeTo")):!1===_t(t)?R(new p("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(r=Boolean(r),e=Boolean(e),s=Boolean(s),void 0===u||tn(u)?!0===Kn(this)?R(new p("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===mt(t)?R(new p("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):sn(this,t,r,e,s,u):R(new p("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===Yn(this))throw ti("tee");var t=function(t){var n,i,r,e,s,u=Q(t),o=!1,c=!1,a=!1,f=S(function(t){s=t});function v(){return!0===o||(o=!0,x(B(rt(u),function(t){if(o=!1,!0===t.done)return!1===c&&fn(r.Zd),void(!1===a&&fn(e.Zd));var n=t.value,i=n,s=n;!1===c&&vn(r.Zd,i),!1===a&&vn(e.Zd,s)}))),I(void 0)}function d(){}return r=jn(d,v,function(r){if(c=!0,n=r,!0===a){var e=h([n,i]),u=Jn(t,e);s(u)}return f}),e=jn(d,v,function(r){if(a=!0,i=r,!0===c){var e=h([n,i]),u=Jn(t,e);s(u)}return f}),N(u.zd,function(t){dn(r.Zd,t),dn(e.Zd,t)}),[r,e]}(this);return h(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,i=void 0!==n&&n;if(!1===Yn(this))throw ti("getIterator");return function(t,n){void 0===n&&(n=!1);var i=Q(t),r=k.create(st);return r.$d=i,r.ul=Boolean(n),r}(this,i)},t}();function jn(t,n,i,r,e){void 0===r&&(r=1),void 0===e&&(e=function(){return 1});var s=k.create(Gn.prototype);return Qn(s),gn(s,k.create(un.prototype),t,n,i,r,e),s}function Qn(t){t.Ra="readable",t.Wd=void 0,t.qd=void 0,t.Jd=!1}function Yn(t){return!!o(t)&&!!k.prototype.hasOwnProperty.call(t,"Zd")}function Kn(t){return void 0!==t.Wd}function Jn(t,n){return t.Jd=!0,"closed"===t.Ra?I(void 0):"errored"===t.Ra?R(t.qd):(Zn(t),B(t.Zd[G](n),e))}function Zn(t){t.Ra="closed";var n=t.Wd;void 0!==n&&(it(n)&&(n.Yd.forEach(function(t){t.Qd(M(void 0,!0,n.Vd))}),n.Yd=new O),q(n))}function $n(t,n){t.Ra="errored",t.qd=n;var i=t.Wd;void 0!==i&&(it(i)?(i.Yd.forEach(function(t){t.Kd(n)}),i.Yd=new O):(i.Wf.forEach(function(t){t.Kd(n)}),i.Wf=new O),X(i,n))}function ti(t){return new p("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}"symbol"===W(i.asyncIterator)&&k.defineProperty(Gn.prototype,i.asyncIterator,{value:Gn.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var ni=function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}return t.prototype.size=function(t){return t.byteLength},t}(),ii=function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}return t.prototype.size=function(){return 1},t}(),ri=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={});var r=n.size,e=n.highWaterMark,s=i.size,u=i.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var o=g(r);if(void 0===e&&(e=1),e=w(e),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var h,c=g(s);void 0===u&&(u=0),u=w(u),function(t,n,i,r,e,s){function u(){return n}function o(n){return function(t,n){var i=t.qf;return!0===t.lf?B(t.zf,function(){var r=t.Gf;if("erroring"===r.Ra)throw r.qd;return vi(i,n)}):vi(i,n)}(t,n)}function h(n){return function(t,n){return si(t,n),I(void 0)}(t,n)}function c(){return function(t){var n=t.Xf,i=t.qf,r=i.jf();return ai(i),B(r,function(){if("errored"===n.Ra)throw n.qd;var t=n.Zd;!0===wn(t)&&fn(t)},function(i){throw si(t,i),n.qd})}(t)}function a(){return function(t){return oi(t,!1),t.zf}(t)}function f(n){return ui(t,n),I(void 0)}t.Gf=function(t,n,i,r,e,s){void 0===e&&(e=1),void 0===s&&(s=function(){return 1});var u=k.create(lt.prototype);return gt(u),Ot(u,k.create(xt.prototype),t,n,i,r,e,s),u}(u,o,c,h,i,r),t.Xf=jn(u,a,f,e,s),t.lf=void 0,t.zf=void 0,t.Qf=void 0,oi(t,!0),t.qf=void 0}(this,S(function(t){h=t}),e,o,u,c),function(t,n){var i=k.create(hi.prototype),r=function(t){try{return fi(i,t),I(void 0)}catch(t){return R(t)}},e=n.transform;if(void 0!==e){if("function"!=typeof e)throw new p("transform is not a method");r=function(t){return l(e,n,[t,i])}}var s=v(n,"flush",0,[i]);!function(t,n,i,r){n.Kf=t,t.qf=n,n.Yf=i,n.jf=r}(t,i,r,s)}(this,t);var a=d(t,"start",[this.qf]);h(a)}return k.defineProperty(t.prototype,"readable",{get:function(){if(!1===ei(this))throw li("readable");return this.Xf},enumerable:!0,configurable:!0}),k.defineProperty(t.prototype,"writable",{get:function(){if(!1===ei(this))throw li("writable");return this.Gf},enumerable:!0,configurable:!0}),t}();function ei(t){return!!o(t)&&!!k.prototype.hasOwnProperty.call(t,"qf")}function si(t,n){dn(t.Xf.Zd,n),ui(t,n)}function ui(t,n){ai(t.qf),Ft(t.Gf.nf,n),!0===t.lf&&oi(t,!1)}function oi(t,n){void 0!==t.zf&&t.Qf(),t.zf=S(function(n){t.Qf=n}),t.lf=n}var hi=function(){function t(){throw new p("TransformStreamDefaultController instances cannot be created directly")}return k.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===ci(this))throw di("desiredSize");return ln(this.Kf.Xf.Zd)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===ci(this))throw di("enqueue");fi(this,t)},t.prototype.error=function(t){if(!1===ci(this))throw di("error");!function(t,n){si(t.Kf,n)}(this,t)},t.prototype.terminate=function(){if(!1===ci(this))throw di("terminate");!function(t){var n=t.Kf,i=n.Xf.Zd;!0===wn(i)&&fn(i);var r=new p("TransformStream terminated");ui(n,r)}(this)},t}();function ci(t){return!!o(t)&&!!k.prototype.hasOwnProperty.call(t,"Kf")}function ai(t){t.Yf=void 0,t.jf=void 0}function fi(t,n){var i=t.Kf,r=i.Xf.Zd;if(!1===wn(r))throw new p("Readable side is not in a state that permits enqueue");try{vn(r,n)}catch(t){throw ui(i,t),i.Xf.qd}var e=function(t){return!0!==cn(t)}(r);e!==i.lf&&oi(i,!0)}function vi(t,n){return B(t.Yf(n),void 0,function(n){throw si(t.Kf,n),n})}function di(t){return new p("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function li(t){return new p("TransformStream.prototype."+t+" can only be used on a TransformStream")}t.ByteLengthQueuingStrategy=ni,t.CountQueuingStrategy=ii,t.ReadableStream=Gn,t.TransformStream=ri,t.WritableStream=lt,k.defineProperty(t,"__esModule",{value:!0})},"object"===(void 0===t?"undefined":W(t))&&void 0!==i?s(t):"function"==typeof define&&define.amd?define(["exports"],s):s((e=e||self).WebStreamsPolyfill={})}),Kt=M(function(t){function n(){var t=Yt();return n=function(){return t},t}F(),Et(),k.defineProperty(t,"__esModule",{value:!0}),function(t,n){for(var i in n)k.defineProperty(t,i,{enumerable:!0,get:k.getOwnPropertyDescriptor(n,i).get})}(t,{get ByteLengthQueuingStrategy(){return n().ByteLengthQueuingStrategy},get CountQueuingStrategy(){return n().CountQueuingStrategy},get ReadableStream(){return n().ReadableStream},get TransformStream(){return n().TransformStream},get WritableStream(){return n().WritableStream}})});function Jt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Jt=function(){return!!t})()}var Zt=O(function(){F(),Et()});function $t(t,n,i){return($t=Jt()?Reflect.construct:function(t,n,i){var r=[null];r.push.apply(r,n);var e=new(Function.bind.apply(t,r));return i&&It(e,i.prototype),e}).apply(null,arguments)}var tn=O(function(){F(),Et(),Zt(),Rt()});function nn(t){return(nn=k.setPrototypeOf?k.getPrototypeOf:function(t){return t.__proto__||k.getPrototypeOf(t)})(t)}var rn=O(function(){F(),Et()});var en=O(function(){F(),Et()});function sn(t){var n="function"==typeof Map?new Map:void 0;return sn=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new p("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,i)}function i(){return $t(t,arguments,nn(this).constructor)}return i.prototype=k.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),It(i,t)},sn(t)}var un,on=O(function(){F(),Et(),tn(),rn(),en(),Rt()}),hn=M(function(t,r){var e,s;F(),Et(),Wt(),Bt(),Dt(),H(),at(),on(),Ut(),Qt(),e=t,s=function(t){var r,e=k.defineProperty,s=k.defineProperties,u=k.getOwnPropertyDescriptors,o=k.getOwnPropertySymbols,h=k.prototype.hasOwnProperty,c=k.prototype.propertyIsEnumerable,a=function(t,n,i){return n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[n]=i},d=function(t,n){for(var i in n||(n={}))h.call(n,i)&&a(t,i,n[i]);if(o)for(var r,e=Lt(o(n));!(r=e()).done;)i=r.value,c.call(n,i)&&a(t,i,n[i]);return t},g=function(t,n){return s(t,u(n))},T=function(t,n){var i={};for(var r in t)h.call(t,r)&&n.indexOf(r)<0&&(i[r]=t[r]);if(null!=t&&o)for(var e,s=Lt(o(t));!(e=s()).done;)r=e.value,n.indexOf(r)<0&&c.call(t,r)&&(i[r]=t[r]);return i},R=("undefined"==typeof globalThis?"undefined":W(globalThis))<"u"?globalThis:(void 0===f?"undefined":W(f))<"u"?f:("undefined"==typeof global?"undefined":W(global))<"u"?global:("undefined"==typeof self?"undefined":W(self))<"u"?self:{};function C(t){return t&&t.__esModule&&k.prototype.hasOwnProperty.call(t,"default")?t.default:t}var D,P,N={exports:{}},B=(D||(D=1,P=N,function(t){var n,i={VERSION:"1.6.1"},r={},e=function(t,n){return function(){return n.apply(t,arguments)}},s=function(){var t,n,i=arguments,r=i[0];for(n=1;n<i.length;n++)for(t in i[n])!(t in r)&&i[n].hasOwnProperty(t)&&(r[t]=i[n][t]);return r},u=function(t,n){return{value:t,name:n}};i.TRACE=u(1,"TRACE"),i.DEBUG=u(2,"DEBUG"),i.INFO=u(3,"INFO"),i.TIME=u(4,"TIME"),i.WARN=u(5,"WARN"),i.ERROR=u(8,"ERROR"),i.OFF=u(99,"OFF");var o=function(t){this.context=t,this.setLevel(t.filterLevel),this.log=this.info};o.prototype={setLevel:function(t){t&&"value"in t&&(this.context.filterLevel=t)},getLevel:function(){return this.context.filterLevel},enabledFor:function(t){var n=this.context.filterLevel;return t.value>=n.value},trace:function(){this.invoke(i.TRACE,arguments)},debug:function(){this.invoke(i.DEBUG,arguments)},info:function(){this.invoke(i.INFO,arguments)},warn:function(){this.invoke(i.WARN,arguments)},error:function(){this.invoke(i.ERROR,arguments)},time:function(t){"string"==typeof t&&t.length>0&&this.invoke(i.TIME,[t,"start"])},timeEnd:function(t){"string"==typeof t&&t.length>0&&this.invoke(i.TIME,[t,"end"])},invoke:function(t,i){n&&this.enabledFor(t)&&n(i,s({level:t},this.context))}};var h,c=new o({filterLevel:i.OFF});(h=i).enabledFor=e(c,c.enabledFor),h.trace=e(c,c.trace),h.debug=e(c,c.debug),h.time=e(c,c.time),h.timeEnd=e(c,c.timeEnd),h.info=e(c,c.info),h.warn=e(c,c.warn),h.error=e(c,c.error),h.log=h.info,i.setHandler=function(t){n=t},i.setLevel=function(t){for(var n in c.setLevel(t),r)r.hasOwnProperty(n)&&r[n].setLevel(t)},i.getLevel=function(){return c.getLevel()},i.get=function(t){return r[t]||(r[t]=new o(s({name:t},c.context)))},i.createDefaultHandler=function(t){(t=t||{}).formatter=t.formatter||function(t,n){n.name&&t.unshift("["+n.name+"]")};var n={},r=function(t,n){Function.prototype.apply.call(t,console,n)};return("undefined"==typeof console?"undefined":W(console))>"u"?function(){}:function(e,s){e=Array.prototype.slice.call(e);var u,o=console.log;s.level===i.TIME?(u=(s.name?"["+s.name+"] ":"")+e[0],"start"===e[1]?console.time?console.time(u):n[u]=(new Date).getTime():console.timeEnd?console.timeEnd(u):r(o,[u+": "+((new Date).getTime()-n[u])+"ms"])):(s.level===i.WARN&&console.warn?o=console.warn:s.level===i.ERROR&&console.error?o=console.error:s.level===i.INFO&&console.info?o=console.info:s.level===i.DEBUG&&console.debug?o=console.debug:s.level===i.TRACE&&console.trace&&(o=console.trace),t.formatter(e,s),r(o,e))}},i.useDefaults=function(t){i.setLevel(t&&t.defaultLevel||i.DEBUG),i.setHandler(i.createDefaultHandler(t))},i.setDefaults=i.useDefaults,P.exports?P.exports=i:(i.Jf=t.Logger,i.noConflict=function(){return t.Logger=i.Jf,i},t.Logger=i)}(N.exports)),N.exports),x=C(B),O="0.6.0",M=(null==(r=null==f?void 0:f.navigator)?void 0:r.userAgent)||"No user agent available",L="",U="",F="",H="",z="",X="",q="",G=0,j=[],Q=function(t){L=""===L?t:L},Y=function(t){U=""===U?t:U},K=function(t){F=""===F?t:F},J=function(t){H=""===H?t:H},Z=function(t){z=""===z?t:z},tt=function(t){G=0===G?t:G},nt=function(t){X=t},it=function(t){q=""===q?t:q},rt=function(t){60===j.length&&j.shift(),j.push(t)},et=function(t,n){var i;void 0===t&&(t=60),void 0===n&&(n="JSON"),i=!Number.isInteger(t)||t>60||t<=0?60:t;var r={client:"@millicast/millicast-sdk",version:O,timestamp:(new Date).toISOString(),userAgent:M,clusterId:q,accountId:L,streamName:U,subscriberId:F,connection:X,stats:j.slice(-i),connectionDurationMs:(new Date).getTime()-G};return""!==z?r.feedId=z:""!==H&&(r.streamViewId=H),"CMCD"===n?function(t){function n(t,n){return{ts:b.round(n.timestamp)||"",ot:"audio"===t?"a":"v",bl:n.jitterBufferDelay||0,br:b.round(n.bitrateBitsPerSecond||0),pld:n.packetsLostDeltaPerSecond||0,j:n.jitter||0,mtp:n.packetRate||0,mid:n.mid||"",mimeType:n.mimeType||""}}return t.stats=t.stats.reduce(function(t,i){var r=0!==i.audio.inbounds.length?i.audio.inbounds.map(function(t){return n("audio",t)}):i.audio.outbounds.map(function(t){return n("audio",t)}),e=0!==i.video.inbounds.length?i.video.inbounds.map(function(t){return n("video",t)}):i.video.outbounds.map(function(t){return n("video",t)});return t.concat([].concat(r,e))},[]),t}(r):r};x.useDefaults({defaultLevel:x.TRACE});var st=["TRACE","DEBUG","INFO","WARN","ERROR"],ot=function(t,n){t.unshift("[".concat(n.name||"Global","] ").concat((new Date).toISOString()," - ").concat(n.level.name," -"))},ht=function(t,n){return n?t.value>=lt[n].value:t.value>=dt.value},ct=x.createDefaultHandler({formatter:ot});x.setHandler(function(t,n){(function(t,n){t=(t=Array.prototype.slice.call(t)).map(function(t){return"object"==(void 0===t?"undefined":W(t))?JSON.stringify(t):t}),ot(t,n),0!==ft?(vt.push(t.join(" ")),vt.length>=ft&&(vt=vt.slice(-ft))):vt=[]})(t,n),ht(n.level,n.name)&&ct(t,n);for(var i,r=Lt(wt);!(i=r()).done;){var e=i.value,s=e.handler,u=e.level;n.level.value>=u.value&&s(t,n)}});var at,ft=1e4,vt=[],dt=x.OFF,lt={},wt=[],gt=g(d({},x),{enabledFor:ht,getHistory:function(){return vt},getHistoryMaxSize:function(){return ft},setHistoryMaxSize:function(t){ft=t},setLevel:function(t){for(var n in dt=t,lt)lt[n]=t},getLevel:function(){return dt},get:function(t){lt[t]||(lt[t]=dt);var n=x.get(t);return n.setLevel=function(n){lt[t]=n},n.getLevel=function(){return lt[t]},n},setHandler:function(t,n){wt.push({handler:t,level:n})},diagnose:function(t){var n;void 0===t&&(t={});var i={statsCount:60,historySize:1e3,minLogLevel:"TRACE",statsFormat:"JSON"};"number"==typeof t?(i.statsCount=t,n=i):n=d(d({},i),t);var r=n.statsCount,e=n.historySize,s=n.minLogLevel,u=n.statsFormat,o=et(r,u),h=gt.getHistory();if(!Number.isInteger(e)||e<=0)throw new y("Invalid Argument Exception : historySize must be a positive integer.");if(!st.includes(s.toUpperCase()))throw new y('Invalid Argument Exception : the minLogLevel parameter only excepts "trace", "debug", "info", "warn", and "error" as arguments.');if(st.includes(s.toUpperCase())){var c=st.slice(st.indexOf(s.toUpperCase())),a=h.filter(function(t){return c.some(function(n){return t.includes(n)})});o.history=a.slice(-e)}return o},JSON:"JSON",CMCD:"CMCD",VERSION:O}),_t={exports:{}};function mt(){if(at)return _t.exports;at=1;var t,n="object"==("undefined"==typeof Reflect?"undefined":W(Reflect))?Reflect:null,i=n&&"function"==typeof n.apply?n.apply:function(t,n,i){return Function.prototype.apply.call(t,n,i)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:k.getOwnPropertySymbols?function(t){return k.getOwnPropertyNames(t).concat(k.getOwnPropertySymbols(t))}:function(t){return k.getOwnPropertyNames(t)};var r=Number.isNaN||function(t){return t!=t};function e(){e.init.call(this)}_t.exports=e,_t.exports.once=function(t,n){return new ut(function(i,r){function e(i){t.removeListener(n,s),r(i)}function s(){"function"==typeof t.removeListener&&t.removeListener("error",e),i([].slice.call(arguments))}l(t,n,s,{once:!0}),"error"!==n&&function(t,n,i){"function"==typeof t.on&&l(t,"error",n,i)}(t,e,{once:!0})})},e.EventEmitter=e,e.prototype.Zf=void 0,e.prototype.$f=0,e.prototype.rv=void 0;var s=10;function u(t){if("function"!=typeof t)throw new p('The "listener" argument must be of type Function. Received type '+(void 0===t?"undefined":W(t)))}function o(t){return void 0===t.rv?e.defaultMaxListeners:t.rv}function h(t,n,i,r){var e,s,h;if(u(i),void 0===(s=t.Zf)?(s=t.Zf=k.create(null),t.$f=0):(void 0!==s.newListener&&(t.emit("newListener",n,i.listener?i.listener:i),s=t.Zf),h=s[n]),void 0===h)h=s[n]=i,++t.$f;else if("function"==typeof h?h=s[n]=r?[i,h]:[h,i]:r?h.unshift(i):h.push(i),(e=o(t))>0&&h.length>e&&!h.warned){h.warned=!0;var c=new y("Possible EventEmitter memory leak detected. "+h.length+" "+String(n)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=n,c.count=h.length,function(t){console&&console.warn&&console.warn(t)}(c)}return t}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function a(t,n,i){var r={fired:!1,wrapFn:void 0,target:t,type:n,listener:i},e=c.bind(r);return e.listener=i,r.wrapFn=e,e}function f(t,n,i){var r=t.Zf;if(void 0===r)return[];var e=r[n];return void 0===e?[]:"function"==typeof e?i?[e.listener||e]:[e]:i?function(t){for(var n=new Array(t.length),i=0;i<n.length;++i)n[i]=t[i].listener||t[i];return n}(e):d(e,e.length)}function v(t){var n=this.Zf;if(void 0!==n){var i=n[t];if("function"==typeof i)return 1;if(void 0!==i)return i.length}return 0}function d(t,n){for(var i=new Array(n),r=0;r<n;++r)i[r]=t[r];return i}function l(t,n,i,r){if("function"==typeof t.on)r.once?t.once(n,i):t.on(n,i);else{if("function"!=typeof t.addEventListener)throw new p('The "emitter" argument must be of type EventEmitter. Received type '+(void 0===t?"undefined":W(t)));t.addEventListener(n,function e(s){r.once&&t.removeEventListener(n,e),i(s)})}}return k.defineProperty(e,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(t){if("number"!=typeof t||t<0||r(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");s=t}}),e.init=function(){(void 0===this.Zf||this.Zf===k.getPrototypeOf(this).Zf)&&(this.Zf=k.create(null),this.$f=0),this.rv=this.rv||void 0},e.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||r(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this.rv=t,this},e.prototype.getMaxListeners=function(){return o(this)},e.prototype.emit=function(t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var e="error"===t,s=this.Zf;if(void 0!==s)e=e&&void 0===s.error;else if(!e)return!1;if(e){var u;if(n.length>0&&(u=n[0]),V(u,y))throw u;var o=new y("Unhandled error."+(u?" ("+u.message+")":""));throw o.context=u,o}var h=s[t];if(void 0===h)return!1;if("function"==typeof h)i(h,this,n);else{var c=h.length,a=d(h,c);for(r=0;r<c;++r)i(a[r],this,n)}return!0},e.prototype.addListener=function(t,n){return h(this,t,n,!1)},e.prototype.on=e.prototype.addListener,e.prototype.prependListener=function(t,n){return h(this,t,n,!0)},e.prototype.once=function(t,n){return u(n),this.on(t,a(this,t,n)),this},e.prototype.prependOnceListener=function(t,n){return u(n),this.prependListener(t,a(this,t,n)),this},e.prototype.removeListener=function(t,n){var i,r,e,s,o;if(u(n),void 0===(r=this.Zf))return this;if(void 0===(i=r[t]))return this;if(i===n||i.listener===n)0===--this.$f?this.Zf=k.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,i.listener||n));else if("function"!=typeof i){for(e=-1,s=i.length-1;s>=0;s--)if(i[s]===n||i[s].listener===n){o=i[s].listener,e=s;break}if(e<0)return this;0===e?i.shift():function(t,n){for(;n+1<t.length;n++)t[n]=t[n+1];t.pop()}(i,e),1===i.length&&(r[t]=i[0]),void 0!==r.removeListener&&this.emit("removeListener",t,o||n)}return this},e.prototype.off=e.prototype.removeListener,e.prototype.removeAllListeners=function(t){var n,i,r;if(void 0===(i=this.Zf))return this;if(void 0===i.removeListener)return 0===arguments.length?(this.Zf=k.create(null),this.$f=0):void 0!==i[t]&&(0===--this.$f?this.Zf=k.create(null):delete i[t]),this;if(0===arguments.length){var e,s=k.keys(i);for(r=0;r<s.length;++r)"removeListener"!==(e=s[r])&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this.Zf=k.create(null),this.$f=0,this}if("function"==typeof(n=i[t]))this.removeListener(t,n);else if(void 0!==n)for(r=n.length-1;r>=0;r--)this.removeListener(t,n[r]);return this},e.prototype.listeners=function(t){return f(this,t,!0)},e.prototype.rawListeners=function(t){return f(this,t,!1)},e.listenerCount=function(t,n){return"function"==typeof t.listenerCount?t.listenerCount(n):v.call(t,n)},e.prototype.listenerCount=v,e.prototype.eventNames=function(){return this.$f>0?t(this.Zf):[]},_t.exports}var yt,pt,kt,bt,At,Tt,St,Et,It,Rt,Dt,Pt,Bt,xt,Ot,Mt,Ut,Ft,Ht,Wt,Xt,qt,Gt,jt=C(mt()),Qt={exports:{}},Yt=function(){if(yt)return Qt.exports;yt=1,Qt.exports=n,Qt.exports.filter=function(i,r){var e=new t;return n(i,e,r),e};var t=mt().EventEmitter;function n(t,n,i){Array.isArray(i)||(i=[i]);var r=[];return i.forEach(function(i){var e=function(){var t=[].slice.call(arguments);t.unshift(i),n.emit.apply(n,t)};r.push(e),t.on(i,e)}),function(){i.forEach(function(n,i){t.removeListener(n,r[i])})}}return Qt.exports}(),Kt=C(Yt),Jt={exports:{}},Zt=(pt||(pt=1,function(t){var n,i;self,t.exports=(n={7:function(t){var n,i=function(t){if("function"!=typeof t)throw new p('The "listener" argument must be of type Function. Received type '+(void 0===t?"undefined":W(t)))},r=function(t){return void 0===t.rv?l.defaultMaxListeners:t.rv},e=function(t,n,e,s){var u,o,h,c;if(i(e),void 0===(o=t.Zf)?(o=t.Zf=k.create(null),t.$f=0):(void 0!==o.newListener&&(t.emit("newListener",n,e.listener?e.listener:e),o=t.Zf),h=o[n]),void 0===h)h=o[n]=e,++t.$f;else if("function"==typeof h?h=o[n]=s?[e,h]:[h,e]:s?h.unshift(e):h.push(e),(u=r(t))>0&&h.length>u&&!h.warned){h.warned=!0;var a=new y("Possible EventEmitter memory leak detected. "+h.length+" "+String(n)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=n,a.count=h.length,c=a,console&&console.warn&&console.warn(c)}return t},s=function(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)},u=function(t,n,i){var r={fired:!1,wrapFn:void 0,target:t,type:n,listener:i},e=s.bind(r);return e.listener=i,r.wrapFn=e,e},o=function(t,n,i){var r=t.Zf;if(void 0===r)return[];var e=r[n];return void 0===e?[]:"function"==typeof e?i?[e.listener||e]:[e]:i?function(t){for(var n=new Array(t.length),i=0;i<n.length;++i)n[i]=t[i].listener||t[i];return n}(e):c(e,e.length)},h=function(t){var n=this.Zf;if(void 0!==n){var i=n[t];if("function"==typeof i)return 1;if(void 0!==i)return i.length}return 0},c=function(t,n){for(var i=new Array(n),r=0;r<n;++r)i[r]=t[r];return i},a=function(t,n,i,r){if("function"==typeof t.on)r.once?t.once(n,i):t.on(n,i);else{if("function"!=typeof t.addEventListener)throw new p('The "emitter" argument must be of type EventEmitter. Received type '+(void 0===t?"undefined":W(t)));t.addEventListener(n,function e(s){r.once&&t.removeEventListener(n,e),i(s)})}},f="object"==("undefined"==typeof Reflect?"undefined":W(Reflect))?Reflect:null,v=f&&"function"==typeof f.apply?f.apply:function(t,n,i){return Function.prototype.apply.call(t,n,i)};n=f&&"function"==typeof f.ownKeys?f.ownKeys:k.getOwnPropertySymbols?function(t){return k.getOwnPropertyNames(t).concat(k.getOwnPropertySymbols(t))}:function(t){return k.getOwnPropertyNames(t)};var d=Number.isNaN||function(t){return t!=t};function l(){l.init.call(this)}t.exports=l,t.exports.once=function(t,n){return new ut(function(i,r){function e(i){t.removeListener(n,s),r(i)}function s(){"function"==typeof t.removeListener&&t.removeListener("error",e),i([].slice.call(arguments))}var u,o;a(t,n,s,{once:!0}),"error"!==n&&(o=e,"function"==typeof(u=t).on&&a(u,"error",o,{once:!0}))})},l.EventEmitter=l,l.prototype.Zf=void 0,l.prototype.$f=0,l.prototype.rv=void 0;var w=10;k.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return w},set:function(t){if("number"!=typeof t||t<0||d(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");w=t}}),l.init=function(){void 0!==this.Zf&&this.Zf!==k.getPrototypeOf(this).Zf||(this.Zf=k.create(null),this.$f=0),this.rv=this.rv||void 0},l.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||d(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this.rv=t,this},l.prototype.getMaxListeners=function(){return r(this)},l.prototype.emit=function(t){for(var n=[],i=1;i<arguments.length;i++)n.push(arguments[i]);var r="error"===t,e=this.Zf;if(void 0!==e)r=r&&void 0===e.error;else if(!r)return!1;if(r){var s;if(n.length>0&&(s=n[0]),V(s,y))throw s;var u=new y("Unhandled error."+(s?" ("+s.message+")":""));throw u.context=s,u}var o=e[t];if(void 0===o)return!1;if("function"==typeof o)v(o,this,n);else{var h=o.length,a=c(o,h);for(i=0;i<h;++i)v(a[i],this,n)}return!0},l.prototype.addListener=function(t,n){return e(this,t,n,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(t,n){return e(this,t,n,!0)},l.prototype.once=function(t,n){return i(n),this.on(t,u(this,t,n)),this},l.prototype.prependOnceListener=function(t,n){return i(n),this.prependListener(t,u(this,t,n)),this},l.prototype.removeListener=function(t,n){var r,e,s,u,o;if(i(n),void 0===(e=this.Zf))return this;if(void 0===(r=e[t]))return this;if(r===n||r.listener===n)0==--this.$f?this.Zf=k.create(null):(delete e[t],e.removeListener&&this.emit("removeListener",t,r.listener||n));else if("function"!=typeof r){for(s=-1,u=r.length-1;u>=0;u--)if(r[u]===n||r[u].listener===n){o=r[u].listener,s=u;break}if(s<0)return this;0===s?r.shift():function(t,n){for(;n+1<t.length;n++)t[n]=t[n+1];t.pop()}(r,s),1===r.length&&(e[t]=r[0]),void 0!==e.removeListener&&this.emit("removeListener",t,o||n)}return this},l.prototype.off=l.prototype.removeListener,l.prototype.removeAllListeners=function(t){var n,i,r;if(void 0===(i=this.Zf))return this;if(void 0===i.removeListener)return 0===arguments.length?(this.Zf=k.create(null),this.$f=0):void 0!==i[t]&&(0==--this.$f?this.Zf=k.create(null):delete i[t]),this;if(0===arguments.length){var e,s=k.keys(i);for(r=0;r<s.length;++r)"removeListener"!==(e=s[r])&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this.Zf=k.create(null),this.$f=0,this}if("function"==typeof(n=i[t]))this.removeListener(t,n);else if(void 0!==n)for(r=n.length-1;r>=0;r--)this.removeListener(t,n[r]);return this},l.prototype.listeners=function(t){return o(this,t,!0)},l.prototype.rawListeners=function(t){return o(this,t,!1)},l.listenerCount=function(t,n){return"function"==typeof t.listenerCount?t.listenerCount(n):h.call(t,n)},l.prototype.listenerCount=h,l.prototype.eventNames=function(){return this.$f>0?n(this.Zf):[]}},156:function(t,n,i){var r=this&&this.hv||(k.create?function(t,n,i,r){void 0===r&&(r=i);var e=k.getOwnPropertyDescriptor(n,i);e&&!("get"in e?!n.__esModule:e.writable||e.configurable)||(e={enumerable:!0,get:function(){return n[i]}}),k.defineProperty(t,r,e)}:function(t,n,i,r){void 0===r&&(r=i),t[r]=n[i]}),e=this&&this.ov||function(t,n){for(var i in t)"default"===i||k.prototype.hasOwnProperty.call(n,i)||r(n,t,i)},s=this&&this.uv||function(t){return t&&t.__esModule?t:{default:t}};k.defineProperty(n,"__esModule",{value:!0}),n.Logger=void 0;var u=i(586);k.defineProperty(n,"Logger",{enumerable:!0,get:function(){return s(u).default}}),e(i(284),n),e(i(280),n),e(i(738),n),e(i(767),n)},185:function(t,n){k.defineProperty(n,"__esModule",{value:!0}),n.calculatePacketsLostRatio=n.calculateRate=n.getMediaKind=void 0,n.getMediaKind=function(t){var n=t.kind||t.mediaType;return["audio","video"].includes(n)||"inbound-rtp"!==t.type||(n=t.id.toLocaleLowerCase().includes("video")?"video":"audio"),n},n.calculateRate=function(t,n,i,r){return i&&r?(n-r)/((t-i)/1e3):0},n.calculatePacketsLostRatio=function(t,n,i,r){var e=t-(null!=i?i:0),s=e+(n-(null!=r?r:0));return 0===s?0:e/s}},280:function(t,n){k.defineProperty(n,"__esModule",{value:!0})},284:function(t,n,i){var r,e,s,u,o,h,c,a,f,v,d,l,w,g,y,b,A=this&&this.fv||function(t,n,i,r){return new(i||(i=ut))(function(e,s){function u(t){try{h(r.next(t))}catch(t){s(t)}}function o(t){try{h(r.throw(t))}catch(t){s(t)}}function h(t){var n;t.done?e(t.value):(n=t.value,V(n,i)?n:new i(function(t){t(n)})).then(u,o)}h((r=r.apply(t,n||[])).next())})},T=this&&this.vv||function(t,n,i,r,e){if("m"===r)throw new p("Private method is not writable");if("a"===r&&!e)throw new p("Private accessor was defined without a setter");if("function"==typeof n?t!==n||!e:!n.has(t))throw new p("Cannot write private member to an object whose class did not declare it");return"a"===r?e.call(t,i):e?e.value=i:n.set(t,i),i},S=this&&this._v||function(t,n,i,r){if("a"===i&&!r)throw new p("Private accessor was defined without a getter");if("function"==typeof n?t!==n||!r:!n.has(t))throw new p("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(t):r?r.value:n.get(t)},E=this&&this.uv||function(t){return t&&t.__esModule?t:{default:t}};k.defineProperty(n,"__esModule",{value:!0}),n.WebRTCStats=void 0;var I=i(7),R=E(i(586)),C=i(738),D=i(185),P=function(t){function n(n){var i;return i=t.call(this)||this,r.add(i),e.set(i,void 0),s.set(i,void 0),u.set(i,void 0),o.set(i,null),h.set(i,void 0),c.set(i,null),i.start=function(){S(i,h,"f").info("WebRTC statistics collection is starting..."),T(i,c,null,"f"),T(i,o,_(S(i,a,"f"),S(i,s,"f")),"f")},i.stop=function(){S(i,o,"f")&&(m(S(i,o,"f")),T(i,o,null,"f"),S(i,h,"f").info("WebRTC statistics collection has stopped."))},a.set(i,function(){return A(i,void 0,void 0,function(){var t,n,i,s,o,a,f,v,w,_,m,p;return zt(this,function(A){switch(A.label){case 0:return A.trys.push([0,2,,3]),S(this,h,"f").trace("Requesting WebRTC statistics..."),[4,S(this,e,"f").call(this)];case 1:return t=A.sent(),n=(new Date).toISOString(),[3,3];case 2:return i=A.sent(),[2,(S(this,h,"f").error("Problem collecting the WebRTC statistics.",i),void this.emit("error","Problem collecting the WebRTC statistics - ".concat(i)))];case 3:s=Array.from(t.values()),o={timestamp:n,input:{audio:[],video:[]},output:{audio:[],video:[]}},S(this,u,"f")&&(o.rawStats=t),a=0,A.label=4;case 4:if(!(a<k.keys(s).length))return[3,19];switch((f=s[a]).type){case"outbound-rtp":return[3,5];case"inbound-rtp":return[3,11];case"candidate-pair":return[3,17]}return[3,18];case 5:return v=f,"audio"!==(w=(0,D.getMediaKind)(v))?[3,7]:[4,S(this,r,"m",d).call(this,t,v,o)];case 6:return A.sent(),[3,10];case 7:return"video"===w?[4,S(this,r,"m",l).call(this,t,v,o)]:[3,9];case 8:A.sent(),A.label=9;case 9:A.label=10;case 10:return[3,18];case 11:return _=f,"audio"!==(m=(0,D.getMediaKind)(_))?[3,13]:[4,S(this,r,"m",g).call(this,t,_,o)];case 12:return A.sent(),[3,16];case 13:return"video"===m?[4,S(this,r,"m",y).call(this,t,_,o)]:[3,15];case 14:A.sent(),A.label=15;case 15:A.label=16;case 16:return[3,18];case 17:(p=f).nominated&&S(this,r,"m",b).call(this,p,o),A.label=18;case 18:return a++,[3,4];case 19:return T(this,c,o,"f"),this.emit("stats",o),[2]}})})}),T(i,h,R.default.get("WebRTCStats"),"f"),T(i,e,n.getStats,"f"),T(i,s,n.getStatsInterval||1e3,"f"),T(i,u,!!n.includeRawStats,"f"),i}return Ct(n,t),n}(I.EventEmitter);n.WebRTCStats=P,e=new WeakMap,s=new WeakMap,u=new WeakMap,o=new WeakMap,h=new WeakMap,c=new WeakMap,a=new WeakMap,r=new WeakSet,f=function(t,n){if(n){var i=t.get(n);if(i)return{mimeType:i.mimeType}}return{}},v=function(t,n,i){return A(this,void 0,void 0,function(){var e,s,u,o,h,c,a;return zt(this,function(v){return h=(0,D.calculateRate)(n.timestamp,n.bytesSent,null==i?void 0:i.timestamp,null==i?void 0:i.totalBytesSent),c=(0,D.calculateRate)(n.timestamp,n.packetsSent,null==i?void 0:i.timestamp,null==i?void 0:i.totalPacketsSent),a=S(this,r,"m",f).call(this,t,n.codecId),[2,k.assign({id:n.id,timestamp:n.timestamp,mid:n.mid,totalBytesSent:n.bytesSent,bytesSentDelta:n.bytesSent-(null!==(e=null==i?void 0:i.totalBytesSent)&&void 0!==e?e:0),totalPacketsSent:n.packetsSent,packetsSentDelta:n.packetsSent-(null!==(s=null==i?void 0:i.totalPacketsSent)&&void 0!==s?s:0),bitrate:h,packetRate:c,targetBitrate:n.targetBitrate,retransmittedPacketsSent:n.retransmittedPacketsSent,retransmittedPacketsSentDelta:n.retransmittedPacketsSent-(null!==(u=null==i?void 0:i.retransmittedPacketsSent)&&void 0!==u?u:0),retransmittedBytesSent:n.retransmittedBytesSent,retransmittedBytesSentDelta:n.retransmittedBytesSent-(null!==(o=null==i?void 0:i.retransmittedBytesSent)&&void 0!==o?o:0)},a)]})})},d=function(t,n,i){return A(this,void 0,void 0,function(){var e,s,u,o;return zt(this,function(h){switch(h.label){case 0:return(s=null===(e=S(this,c,"f"))||void 0===e?void 0:e.output.audio.find(function(t){return t.id===n.id}))&&n.timestamp-s.timestamp<=0?[2]:[4,S(this,r,"m",v).call(this,t,n,s)];case 1:return u=h.sent(),o=k.assign({},u),i.output.audio.push(o),[2]}})})},l=function(t,n,i){return A(this,void 0,void 0,function(){var e,s,u,o,h;return zt(this,function(a){switch(a.label){case 0:return(s=null===(e=S(this,c,"f"))||void 0===e?void 0:e.output.video.find(function(t){return t.id===n.id}))&&n.timestamp-s.timestamp<=0?[2]:[4,S(this,r,"m",v).call(this,t,n,s)];case 1:return u=a.sent(),o=C.QualityLimitationReason.none,n.qualityLimitationReason&&(o=n.qualityLimitationReason),h=k.assign(k.assign({},u),{frameWidth:n.frameWidth,frameHeight:n.frameHeight,framesPerSecond:n.framesPerSecond,framesSent:n.framesSent,qualityLimitationReason:o,qualityLimitationDurations:n.qualityLimitationDurations}),i.output.video.push(h),[2]}})})},w=function(t,n,i){return A(this,void 0,void 0,function(){var e,s,u,o,h,c,a;return zt(this,function(v){return u=(0,D.calculateRate)(n.timestamp,n.bytesReceived,null==i?void 0:i.timestamp,null==i?void 0:i.totalBytesReceived),o=(0,D.calculateRate)(n.timestamp,n.packetsReceived,null==i?void 0:i.timestamp,null==i?void 0:i.totalPacketsReceived),h=(0,D.calculatePacketsLostRatio)(n.packetsLost,n.packetsReceived,null==i?void 0:i.totalPacketsLost,null==i?void 0:i.totalPacketsReceived),c=(null!==(e=n.packetsLost)&&void 0!==e?e:0)-(null!==(s=null==i?void 0:i.totalPacketsLost)&&void 0!==s?s:0),a=S(this,r,"m",f).call(this,t,n.codecId),[2,k.assign({id:n.id,timestamp:n.timestamp,mid:n.mid,trackIdentifier:n.trackIdentifier,jitter:n.jitter,jitterBufferDelay:n.jitterBufferDelay,jitterBufferEmittedCount:n.jitterBufferEmittedCount,totalBytesReceived:n.bytesReceived,totalPacketsReceived:n.packetsReceived,totalPacketsLost:n.packetsLost,bitrate:u,packetRate:o,packetLossRatio:h,packetLossDelta:c},a)]})})},g=function(t,n,i){return A(this,void 0,void 0,function(){var e,s,u;return zt(this,function(o){switch(o.label){case 0:return(s=null===(e=S(this,c,"f"))||void 0===e?void 0:e.input.audio.find(function(t){return t.id===n.id}))&&n.timestamp-s.timestamp<=0?[2]:[4,S(this,r,"m",w).call(this,t,n,s)];case 1:return u=o.sent(),i.input.audio.push(u),[2]}})})},y=function(t,n,i){return A(this,void 0,void 0,function(){var e,s,u,o;return zt(this,function(h){switch(h.label){case 0:return(s=null===(e=S(this,c,"f"))||void 0===e?void 0:e.input.video.find(function(t){return t.id===n.id}))&&n.timestamp-s.timestamp<=0?[2]:[4,S(this,r,"m",w).call(this,t,n,s)];case 1:return u=h.sent(),o=k.assign(k.assign({},u),{keyFramesDecoded:n.keyFramesDecoded,frameHeight:n.frameHeight,frameWidth:n.frameWidth,framesDecoded:n.framesDecoded,framesDropped:n.framesDropped,framesPerSecond:n.framesPerSecond,framesReceived:n.framesReceived}),i.input.video.push(o),[2]}})})},b=function(t,n){n.totalRoundTripTime=t.totalRoundTripTime,n.currentRoundTripTime=t.currentRoundTripTime,n.responsesReceived=t.responsesReceived,n.availableOutgoingBitrate=t.availableOutgoingBitrate,n.availableIncomingBitrate=t.availableIncomingBitrate}},586:function(t,n,i){var r,e;!function(){var s,u={VERSION:"1.6.1"},o={},h=function(t,n){return function(){return n.apply(t,arguments)}},c=function(){var t,n,i=arguments,r=i[0];for(n=1;n<i.length;n++)for(t in i[n])!(t in r)&&i[n].hasOwnProperty(t)&&(r[t]=i[n][t]);return r},a=function(t,n){return{value:t,name:n}};u.TRACE=a(1,"TRACE"),u.DEBUG=a(2,"DEBUG"),u.INFO=a(3,"INFO"),u.TIME=a(4,"TIME"),u.WARN=a(5,"WARN"),u.ERROR=a(8,"ERROR"),u.OFF=a(99,"OFF");var f=function(t){this.context=t,this.setLevel(t.filterLevel),this.log=this.info};f.prototype={setLevel:function(t){t&&"value"in t&&(this.context.filterLevel=t)},getLevel:function(){return this.context.filterLevel},enabledFor:function(t){var n=this.context.filterLevel;return t.value>=n.value},trace:function(){this.invoke(u.TRACE,arguments)},debug:function(){this.invoke(u.DEBUG,arguments)},info:function(){this.invoke(u.INFO,arguments)},warn:function(){this.invoke(u.WARN,arguments)},error:function(){this.invoke(u.ERROR,arguments)},time:function(t){"string"==typeof t&&t.length>0&&this.invoke(u.TIME,[t,"start"])},timeEnd:function(t){"string"==typeof t&&t.length>0&&this.invoke(u.TIME,[t,"end"])},invoke:function(t,n){s&&this.enabledFor(t)&&s(n,c({level:t},this.context))}};var v,d=new f({filterLevel:u.OFF});(v=u).enabledFor=h(d,d.enabledFor),v.trace=h(d,d.trace),v.debug=h(d,d.debug),v.time=h(d,d.time),v.timeEnd=h(d,d.timeEnd),v.info=h(d,d.info),v.warn=h(d,d.warn),v.error=h(d,d.error),v.log=v.info,u.setHandler=function(t){s=t},u.setLevel=function(t){for(var n in d.setLevel(t),o)o.hasOwnProperty(n)&&o[n].setLevel(t)},u.getLevel=function(){return d.getLevel()},u.get=function(t){return o[t]||(o[t]=new f(c({name:t},d.context)))},u.createDefaultHandler=function(t){(t=t||{}).formatter=t.formatter||function(t,n){n.name&&t.unshift("["+n.name+"]")};var n={},i=function(t,n){Function.prototype.apply.call(t,console,n)};return("undefined"==typeof console?"undefined":W(console))>"u"?function(){}:function(r,e){r=Array.prototype.slice.call(r);var s,o=console.log;e.level===u.TIME?(s=(e.name?"["+e.name+"] ":"")+r[0],"start"===r[1]?console.time?console.time(s):n[s]=(new Date).getTime():console.timeEnd?console.timeEnd(s):i(o,[s+": "+((new Date).getTime()-n[s])+"ms"])):(e.level===u.WARN&&console.warn?o=console.warn:e.level===u.ERROR&&console.error?o=console.error:e.level===u.INFO&&console.info?o=console.info:e.level===u.DEBUG&&console.debug?o=console.debug:e.level===u.TRACE&&console.trace&&(o=console.trace),t.formatter(r,e),i(o,r))}},u.useDefaults=function(t){u.setLevel(t&&t.defaultLevel||u.DEBUG),u.setHandler(u.createDefaultHandler(t))},u.setDefaults=u.useDefaults,void 0===(e="function"==typeof(r=u)?r.call(n,i,n,t):r)||(t.exports=e)}()},738:function(t,n){var i,r;k.defineProperty(n,"__esModule",{value:!0}),n.QualityLimitationReason=void 0,(r=i||(n.QualityLimitationReason=i={}))[r.none=0]="none",r[r.cpu=1]="cpu",r[r.bandwidth=2]="bandwidth",r[r.other=3]="other"},767:function(t,n){k.defineProperty(n,"__esModule",{value:!0})}},i={},function t(r){var e=i[r];if(void 0!==e)return e.exports;var s=i[r]={exports:{}};return n[r].call(s.exports,s,s.exports,t),s.exports}(156))}(Jt)),Jt.exports),$t=gt.get("PeerConnectionStats"),tn="stats",nn=function(t){function n(n,i){var r;return void 0===i&&(i={statsIntervalMs:1e3,autoInitStats:!0}),(r=t.call(this)||this).peer=n,r.collection=null,r.initialized=!1,i.autoInitStats&&r.init(i.statsIntervalMs),r}Ct(n,t);var i=n.prototype;return i.init=function(t){var n=this;if(this.initialized)$t.warn("PeerConnectionStats.init() has already been called. Automatic initialization occurs when the PeerConnectionStats object is constructed.");else{$t.info("Initializing peer connection stats");var i=this.peer;try{this.collection=new Zt.WebRTCStats({getStatsInterval:t,getStats:function(){return i.getStats()},includeRawStats:!0}),this.collection.on("stats",function(t){var i=function(t){var n=t,i=(n.input,n.output,n.rawStats,T(n,["input","output","rawStats"]));return g(d({},i),{audio:{inbounds:t.input.audio.map(function(t){var n=t,i=n.packetLossRatio,r=n.packetLossDelta,e=n.bitrate,s=T(n,["packetLossRatio","packetLossDelta","bitrate"]);return d({packetsLostRatioPerSecond:i,packetsLostDeltaPerSecond:r,bitrateBitsPerSecond:8*e,bitrate:e},s)}),outbounds:t.output.audio.map(function(t){var n=t,i=n.packetLossRatio,r=n.packetLossDelta,e=n.bitrate,s=T(n,["packetLossRatio","packetLossDelta","bitrate"]);return d({packetsLostRatioPerSecond:i,packetsLostDeltaPerSecond:r,bitrateBitsPerSecond:8*e,bitrate:e},s)})},video:{inbounds:t.input.video.map(function(t){var n=t,i=n.packetLossRatio,r=n.packetLossDelta,e=n.bitrate,s=T(n,["packetLossRatio","packetLossDelta","bitrate"]);return d({packetsLostRatioPerSecond:i,packetsLostDeltaPerSecond:r,bitrateBitsPerSecond:8*e,bitrate:e},s)}),outbounds:t.output.video.map(function(t){var n=t,i=n.packetLossRatio,r=n.packetLossDelta,e=n.bitrate,s=T(n,["packetLossRatio","packetLossDelta","bitrate"]);return d({packetsLostRatioPerSecond:i,packetsLostDeltaPerSecond:r,bitrateBitsPerSecond:8*e,bitrate:e},s)})},raw:t.rawStats})}(t);rt(i),n.emit(tn,i)}),this.collection.start(),this.initialized=!0}catch(t){$t.error(t)}}},i.parseStats=function(t){return $t.warn("The parseStats method is deprecated and will be removed in future releases."),null},i.stop=function(){$t.info("Stopping peer connection stats"),this.collection.stop()},n}(jt),rn={},en={},un={},on={exports:{}};function hn(){if(kt)return on.exports;kt=1;var t=on.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(t){return t.encoding?"rtpmap:%d %s/%s/%s":t.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(t){return null!=t.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(t){return null!=t.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(t){return"extmap:%d"+(t.direction?"/%s":"%v")+(t["encrypt-uri"]?" %s":"%v")+" %s"+(t.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(t){return null!=t.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(t){var n="candidate:%s %d %s %d %s %d typ %s";return n+=null!=t.raddr?" raddr %s rport %d":"%v%v",n+=null!=t.tcptype?" tcptype %s":"%v",null!=t.generation&&(n+=" generation %d"),n+=null!=t["network-id"]?" network-id %d":"%v",n+=null!=t["network-cost"]?" network-cost %d":"%v"}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(t){var n="ssrc:%d";return null!=t.attribute&&(n+=" %s",null!=t.value&&(n+=":%s")),n}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(t){return null!=t.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(t){return t.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(t){return"imageattr:%s %s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(t){return"simulcast:%s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(t){return"ts-refclk:%s"+(null!=t.clksrcExt?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(t){var n="mediaclk:";return n+=null!=t.id?"id=%s %s":"%v%s",n+=null!=t.mediaClockValue?"=%s":"",n+=null!=t.rateNumerator?" rate=%s":"",n+=null!=t.rateDenominator?"/%s":""}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};return k.keys(t).forEach(function(n){t[n].forEach(function(t){t.reg||(t.reg=/(.*)/),t.format||(t.format="%s")})}),on.exports}function cn(){return bt||(bt=1,function(t){var n=function(t){return String(Number(t))===t?Number(t):t},i=function(t,i,r){var e=t.name&&t.names;t.push&&!i[t.push]?i[t.push]=[]:e&&!i[t.name]&&(i[t.name]={});var s=t.push?{}:e?i[t.name]:i;(function(t,i,r,e){if(e&&!r)i[e]=n(t[1]);else for(var s=0;s<r.length;s+=1)null!=t[s+1]&&(i[r[s]]=n(t[s+1]))})(r.match(t.reg),s,t.names,t.name),t.push&&i[t.push].push(s)},r=hn(),e=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(t){var n={},s=[],u=n;return t.split(/(\r\n|\r|\n)/).filter(e).forEach(function(t){var n=t[0],e=t.slice(2);"m"===n&&(s.push({rtp:[],fmtp:[]}),u=s[s.length-1]);for(var o=0;o<(r[n]||[]).length;o+=1){var h=r[n][o];if(h.reg.test(e))return i(h,u,e)}}),n.media=s,n};var s=function(t,i){var r=i.split(/=(.+)/,2);return 2===r.length?t[r[0]]=n(r[1]):1===r.length&&i.length>1&&(t[r[0]]=void 0),t};t.parseParams=function(t){return t.split(/;\s?/).reduce(s,{})},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(t){return t.toString().split(" ").map(Number)},t.parseRemoteCandidates=function(t){for(var i=[],r=t.split(" ").map(n),e=0;e<r.length;e+=3)i.push({component:r[e],ip:r[e+1],port:r[e+2]});return i},t.parseImageAttributes=function(t){return t.split(" ").map(function(t){return t.substring(1,t.length-1).split(",").reduce(s,{})})},t.parseSimulcastStreamList=function(t){return t.split(";").map(function(t){return t.split(",").map(function(t){var i,r=!1;return"~"!==t[0]?i=n(t):(i=n(t.substring(1,t.length)),r=!0),{scid:i,paused:r}})})}}(un)),un}function an(){if(Tt)return At;Tt=1;var t=hn(),n=/%[sdv%]/g,i=function(t){var i=1,r=arguments,e=r.length;return t.replace(n,function(t){if(i>=e)return t;var n=r[i];switch(i+=1,t){case"%%":return"%";case"%s":return String(n);case"%d":return Number(n);case"%v":return""}})},r=function(t,n,r){var e=[t+"="+(V(n.format,Function)?n.format(n.push?r:r[n.name]):n.format)];if(n.names)for(var s=0;s<n.names.length;s+=1){var u=n.names[s];n.name?e.push(r[n.name][u]):e.push(r[n.names[s]])}else e.push(r[n.name]);return i.apply(null,e)},e=["v","o","s","i","u","e","p","c","b","t","r","z","a"],s=["i","c","b","a"];return At=function(n,i){i=i||{},null==n.version&&(n.version=0),null==n.name&&(n.name=" "),n.media.forEach(function(t){null==t.payloads&&(t.payloads="")});var u=i.outerOrder||e,o=i.innerOrder||s,h=[];return u.forEach(function(i){t[i].forEach(function(t){t.name in n&&null!=n[t.name]?h.push(r(i,t,n)):t.push in n&&null!=n[t.push]&&n[t.push].forEach(function(n){h.push(r(i,t,n))})})}),n.media.forEach(function(n){h.push(r("m",t.m[0],n)),o.forEach(function(i){t[i].forEach(function(t){t.name in n&&null!=n[t.name]?h.push(r(i,t,n)):t.push in n&&null!=n[t.push]&&n[t.push].forEach(function(n){h.push(r(i,t,n))})})})}),h.join("\r\n")+"\r\n"}}function fn(){if(Dt)return Rt;Dt=1;var t=function(){function t(t,n,i,r,e,s,u,o,h){this.foundation=t,this.componentId=n,this.transport=i,this.priority=r,this.address=e,this.port=s,this.type=u,this.relAddr=o,this.relPort=h}var n=t.prototype;return n.equals=function(t){return t.foundation===this.foundation&&t.componentId===this.componentId&&t.transport===this.transport&&t.priority===this.priority&&t.address===this.address&&t.port===this.port&&t.type===this.type&&t.relAddr===this.relAddr&&t.relPort===this.relPort},n.clone=function(){return new t(this.foundation,this.componentId,this.transport,this.priority,this.address,this.port,this.type,this.relAddr,this.relPort)},n.plain=function(){var t={foundation:this.foundation,componentId:this.componentId,transport:this.transport,priority:this.priority,address:this.address,port:this.port,type:this.type};return this.relAddr&&(t.relAddr=this.relAddr),this.relPort&&(t.relPort=this.relPort),t},n.getFoundation=function(){return this.foundation},n.getComponentId=function(){return this.componentId},n.getTransport=function(){return this.transport},n.getPriority=function(){return this.priority},n.getAddress=function(){return this.address},n.getPort=function(){return this.port},n.getType=function(){return this.type},n.getRelAddr=function(){return this.relAddr},n.getRelPort=function(){return this.relPort},t}();return t.expand=function(n){return"CandidateInfo"===n.constructor.name?n:new t(n.foundation,n.componentId,n.transport,n.priority,n.address,n.port,n.type,n.relAddr,n.relPort)},t.clone=function(n){return"CandidateInfo"===n.constructor.name?n.clone():t.expand(n)},Rt=t}function vn(){if(Bt)return Pt;Bt=1;var t=function(){function t(t,n){this.id=t,this.params=n||[]}var n=t.prototype;return n.clone=function(){return new t(this.id,this.params)},n.plain=function(){return this.params.length?{id:this.id,params:this.params}:{id:this.id}},n.getId=function(){return this.id},n.getParams=function(){return this.params},t}();return t.expand=function(n){return"RTCPFeedbackInfo"===n.constructor.name?n:new t(n.id,n.params)},t.clone=function(n){return"RTCPFeedbackInfo"===n.constructor.name?n.clone():t.expand(n)},Pt=t}function dn(){if(Ot)return xt;Ot=1;var t=vn(),n=function(){function t(t,n,i){this.codec=t,this.type=n,this.params={},this.rtcpfbs=new Set,i&&this.addParams(i)}var n=t.prototype;return n.clone=function(){var n=new t(this.codec,this.type,this.params);this.hasRTX()&&n.setRTX(this.getRTX());for(var i,r=Lt(this.rtcpfbs);!(i=r()).done;){var e=i.value;n.addRTCPFeedback(e.clone())}return this.hasChannels()&&n.setChannels(this.getChannels()),n},n.plain=function(){var t={codec:this.codec,type:this.type};this.rtx&&(t.rtx=this.rtx),this.channels&&(t.channels=this.channels),k.keys(this.params).length&&(t.params=this.params);for(var n,i=Lt(this.rtcpfbs);!(n=i()).done;){var r=n.value;t.rtcpfbs||(t.rtcpfbs=[]),t.rtcpfbs.push(r.plain())}return t},n.setRTX=function(t){this.rtx=t},n.getType=function(){return this.type},n.setType=function(t){this.type=t},n.getCodec=function(){return this.codec},n.getParams=function(){return this.params},n.addParams=function(t){for(var n in t)this.params[n]=t[n]},n.addParam=function(t,n){this.params[t]=n},n.hasParam=function(t){return k.hasOwnProperty.call(this.params,t)},n.getParam=function(t,n){if(void 0===n&&(n=void 0),this.hasParam(t))return this.params[t];if(void 0===n)throw new y("param ".concat(t," not found and no default value provided"));return""+n},n.hasRTX=function(){return this.rtx},n.getRTX=function(){return this.rtx},n.hasChannels=function(){return this.channels},n.getChannels=function(){return this.channels},n.setChannels=function(t){this.channels=t},n.addRTCPFeedback=function(t){this.rtcpfbs.add(t)},n.getRTCPFeedbacks=function(){return this.rtcpfbs},t}();return n.expand=function(i){if("CodecInfo"===i.constructor.name)return i;var r=new n(i.codec,i.type,i.params);i.rtx&&r.setRTX(i.rtx),i.channels&&r.setChannels(i.channels);for(var e,s=Lt(i.rtcpfbs||[]);!(e=s()).done;){var u=e.value,o=t.expand(u);r.addRTCPFeedback(o)}return r},n.clone=function(t){return"CodecInfo"===t.constructor.name?t.clone():n.expand(t)},n.MapFromNames=function(i,r,e){for(var s,u,o=new Map,h=96,c=Lt(i);!(u=c()).done;){var a=void 0,f=u.value.split(";"),v=f.shift().toLowerCase().trim();a="pcmu"===v?0:"pcma"===v?8:++h;var d=new n(v,a);"opus"===v?d.setChannels(2):"multiopus"===v&&d.setChannels(6),r&&"ulpfec"!==v&&"flexfec-03"!==v&&"red"!==v&&d.setRTX(++h);for(var l,w=Lt(e||[]);!(l=w()).done;){var g=l.value;d.addRTCPFeedback(new t(g.id,g.params))}for(var _,m=Lt(f);!(_=m()).done;){var y=_.value.split("=");d.addParam(y[0].trim(),null===(s=y[1])||void 0===s?void 0:s.trim())}o.set(a,d)}return o},xt=n}function ln(){return Ut||(Ut=1,Mt=function t(){var n=this;if(!V(this,t))return new(Function.prototype.bind.apply(t,[null].concat(Array.prototype.slice.call(arguments))));Array.from(arguments).forEach(function(t){n[t]=i("pv"+t)})}),Mt}function wn(){if(Ht)return Ft;Ht=1;var t=ln()("ACTIVE","PASSIVE","ACTPASS","INACTIVE");return t.byValue=function(n){switch(n){case t.ACTIVE:case t.PASSIVE:case t.ACTPASS:case t.INACTIVE:return n}return t[n.toUpperCase()]},t.toString=function(n){switch(n){case t.ACTIVE:return"active";case t.PASSIVE:return"passive";case t.ACTPASS:return"actpass";case t.INACTIVE:return"inactive"}},t.reverse=function(n,i){switch(n){case t.ACTIVE:return t.PASSIVE;case t.PASSIVE:return t.ACTIVE;case t.ACTPASS:return i?t.ACTIVE:t.PASSIVE;case t.INACTIVE:return t.INACTIVE}},Ft=t}function gn(){if(Xt)return Wt;Xt=1;var t=wn(),n=function(){function n(t,n,i){this.setup=t,this.hash=n,this.fingerprint=i}var i=n.prototype;return i.clone=function(){return new n(this.setup,this.hash,this.fingerprint)},i.plain=function(){return{setup:t.toString(this.setup),hash:this.hash,fingerprint:this.fingerprint}},i.getFingerprint=function(){return this.fingerprint},i.getHash=function(){return this.hash},i.getSetup=function(){return this.setup},i.setSetup=function(t){this.setup=t},n}();return n.expand=function(i){return"DTLSInfo"===i.constructor.name?i:new n(i.setup?t.byValue(i.setup):t.ACTPASS,i.hash,i.fingerprint)},n.clone=function(t){return"DTLSInfo"===t.constructor.name?t.clone():n.expand(t)},Wt=n}function _n(){if(Gt)return qt;Gt=1;var t=function(){function t(t,n,i,r){this.tag=t,this.suite=n,this.keyParams=i,this.sessionParams=r}var n=t.prototype;return n.clone=function(){return new t(this.tag,this.suite,this.keyParams,this.sessionParams)},n.plain=function(){return{tag:this.tag,suite:this.suite,keyParams:this.keyParams,sessionParams:this.sessionParams}},n.getSessionParams=function(){return this.sessionParams},n.getKeyParams=function(){return this.keyParams},n.getSuite=function(){return this.suite},n.getTag=function(){return this.tag},t}();return t.expand=function(n){return"CryptoInfo"===n.constructor.name?n:new t(n.tag,n.suite,n.keyParams,n.sessionParams)},t.clone=function(n){return"CryptoInfo"===n.constructor.name?n.clone():t.expand(n)},qt=t}var mn,yn,pn,kn,bn,An,Tn,Sn,En,In,Rn,Cn,Dn,Pn,Nn,Bn,xn,On,Mn,Ln,Un,Fn,Vn,Hn,Wn,zn,Xn,qn,Gn,jn,Qn,Yn,Kn,Jn,Zn={exports:{}},$n={exports:{}},ti={},ni={},ii={};function ri(){return pn||(pn=1,function(t){var r=function(){if(mn)return ni;mn=1,ni.byteLength=function(t){var n=s(t),i=n[0],r=n[1];return 3*(i+r)/4-r},ni.toByteArray=function(t){var r,e,u=s(t),o=u[0],h=u[1],c=new i(function(t,n,i){return 3*(n+i)/4-i}(0,o,h)),a=0,f=h>0?o-4:o;for(e=0;e<f;e+=4)r=n[t.charCodeAt(e)]<<18|n[t.charCodeAt(e+1)]<<12|n[t.charCodeAt(e+2)]<<6|n[t.charCodeAt(e+3)],c[a++]=r>>16&255,c[a++]=r>>8&255,c[a++]=255&r;return 2===h&&(r=n[t.charCodeAt(e)]<<2|n[t.charCodeAt(e+1)]>>4,c[a++]=255&r),1===h&&(r=n[t.charCodeAt(e)]<<10|n[t.charCodeAt(e+1)]<<4|n[t.charCodeAt(e+2)]>>2,c[a++]=r>>8&255,c[a++]=255&r),c},ni.fromByteArray=function(n){for(var i,r=n.length,e=r%3,s=[],u=16383,h=0,c=r-e;h<c;h+=u)s.push(o(n,h,h+u>c?c:h+u));return 1===e?(i=n[r-1],s.push(t[i>>2]+t[i<<4&63]+"==")):2===e&&(i=(n[r-2]<<8)+n[r-1],s.push(t[i>>10]+t[i>>4&63]+t[i<<2&63]+"=")),s.join("")};for(var t=[],n=[],i=(void 0===E?"undefined":W(E))<"u"?E:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0;e<64;++e)t[e]=r[e],n[r.charCodeAt(e)]=e;function s(t){var n=t.length;if(n%4>0)throw new y("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");return-1===i&&(i=n),[i,i===n?0:4-i%4]}function u(n){return t[n>>18&63]+t[n>>12&63]+t[n>>6&63]+t[63&n]}function o(t,n,i){for(var r,e=[],s=n;s<i;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),e.push(u(r));return e.join("")}return n[45]=62,n[95]=63,ni}(),e=(yn||(yn=1,ii.read=function(t,n,i,r,e){var s,u,o=8*e-r-1,h=(1<<o)-1,c=h>>1,a=-7,f=i?e-1:0,v=i?-1:1,d=t[n+f];for(f+=v,s=d&(1<<-a)-1,d>>=-a,a+=o;a>0;s=256*s+t[n+f],f+=v,a-=8);for(u=s&(1<<-a)-1,s>>=-a,a+=r;a>0;u=256*u+t[n+f],f+=v,a-=8);if(0===s)s=1-c;else{if(s===h)return u?NaN:1/0*(d?-1:1);u+=b.pow(2,r),s-=c}return(d?-1:1)*u*b.pow(2,s-r)},ii.write=function(t,n,i,r,e,s){var u,o,h,c=8*s-e-1,a=(1<<c)-1,f=a>>1,v=23===e?b.pow(2,-24)-b.pow(2,-77):0,d=r?0:s-1,l=r?1:-1,w=n<0||0===n&&1/n<0?1:0;for(n=b.abs(n),S(n)||n===1/0?(o=S(n)?1:0,u=a):(u=b.floor(b.log(n)/b.LN2),n*(h=b.pow(2,-u))<1&&(u--,h*=2),(n+=u+f>=1?v/h:v*b.pow(2,1-f))*h>=2&&(u++,h/=2),u+f>=a?(o=0,u=a):u+f>=1?(o=(n*h-1)*b.pow(2,e),u+=f):(o=n*b.pow(2,f-1)*b.pow(2,e),u=0));e>=8;t[i+d]=255&o,d+=l,o/=256,e-=8);for(u=u<<e|o,c+=e;c>0;t[i+d]=255&u,d+=l,u/=256,c-=8);t[i+d-l]|=128*w}),ii),s="function"==typeof n&&"function"==typeof i?i("nodejs.util.inspect.custom"):null;t.Buffer=h,t.SlowBuffer=function(t){return+t!=t&&(t=0),h.alloc(+t)},t.INSPECT_MAX_BYTES=50;var u=2147483647;function o(t){if(t>u)throw new RangeError('The value "'+t+'" is invalid for option "size"');var n=new E(t);return k.setPrototypeOf(n,h.prototype),n}function h(t,n,i){if("number"==typeof t){if("string"==typeof n)throw new p('The "string" argument must be of type string. Received type number');return f(t)}return c(t,n,i)}function c(t,i,r){if("string"==typeof t)return function(t,n){if(("string"!=typeof n||""===n)&&(n="utf8"),!h.isEncoding(n))throw new p("Unknown encoding: "+n);var i=0|w(t,n),r=o(i),e=r.write(t,n);return e!==i&&(r=r.slice(0,e)),r}(t,i);if(ArrayBuffer.isView(t))return function(t){if(et(t,E)){var n=new E(t);return d(n.buffer,n.byteOffset,n.byteLength)}return v(t)}(t);if(null==t)throw new p("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+(void 0===t?"undefined":W(t)));if(et(t,ArrayBuffer)||t&&et(t.buffer,ArrayBuffer)||("undefined"==typeof SharedArrayBuffer?"undefined":W(SharedArrayBuffer))<"u"&&(et(t,SharedArrayBuffer)||t&&et(t.buffer,SharedArrayBuffer)))return d(t,i,r);if("number"==typeof t)throw new p('The "value" argument must not be of type number. Received type number');var e=t.valueOf&&t.valueOf();if(null!=e&&e!==t)return h.from(e,i,r);var s=function(t){if(h.isBuffer(t)){var n=0|l(t.length),i=o(n);return 0===i.length||t.copy(i,0,0,n),i}return void 0!==t.length?"number"!=typeof t.length||st(t.length)?o(0):v(t):"Buffer"===t.type&&Array.isArray(t.data)?v(t.data):void 0}(t);if(s)return s;if((void 0===n?"undefined":W(n))<"u"&&null!=n.toPrimitive&&"function"==typeof t[n.toPrimitive])return h.from(t[n.toPrimitive]("string"),i,r);throw new p("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+(void 0===t?"undefined":W(t)))}function a(t){if("number"!=typeof t)throw new p('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function f(t){return a(t),o(t<0?0:0|l(t))}function v(t){for(var n=t.length<0?0:0|l(t.length),i=o(n),r=0;r<n;r+=1)i[r]=255&t[r];return i}function d(t,n,i){if(n<0||t.byteLength<n)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<n+(i||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===n&&void 0===i?new E(t):void 0===i?new E(t,n):new E(t,n,i),k.setPrototypeOf(r,h.prototype),r}function l(t){if(t>=u)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u.toString(16)+" bytes");return 0|t}function w(t,n){if(h.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||et(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new p('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+(void 0===t?"undefined":W(t)));var i=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===i)return 0;for(var e=!1;;)switch(n){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return nt(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return it(t).length;default:if(e)return r?-1:nt(t).length;n=(""+n).toLowerCase(),e=!0}}function g(t,n,i){var r=!1;if((void 0===n||n<0)&&(n=0),n>this.length||((void 0===i||i>this.length)&&(i=this.length),i<=0)||(i>>>=0)<=(n>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return L(this,n,i);case"utf8":case"utf-8":return B(this,n,i);case"ascii":return O(this,n,i);case"latin1":case"binary":return M(this,n,i);case"base64":return N(this,n,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,n,i);default:if(r)throw new p("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function _(t,n,i){var r=t[n];t[n]=t[i],t[i]=r}function m(t,n,i,r,e){if(0===t.length)return-1;if("string"==typeof i?(r=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),st(i=+i)&&(i=e?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(e)return-1;i=t.length-1}else if(i<0){if(!e)return-1;i=0}if("string"==typeof n&&(n=h.from(n,r)),h.isBuffer(n))return 0===n.length?-1:T(t,n,i,r,e);if("number"==typeof n)return n&=255,"function"==typeof E.prototype.indexOf?e?E.prototype.indexOf.call(t,n,i):E.prototype.lastIndexOf.call(t,n,i):T(t,[n],i,r,e);throw new p("val must be string, number or Buffer")}function T(t,n,i,r,e){var s,u=1,o=t.length,h=n.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||n.length<2)return-1;u=2,o/=2,h/=2,i/=2}function c(t,n){return 1===u?t[n]:t.readUInt16BE(n*u)}if(e){var a=-1;for(s=i;s<o;s++)if(c(t,s)===c(n,-1===a?0:s-a)){if(-1===a&&(a=s),s-a+1===h)return a*u}else-1!==a&&(s-=s-a),a=-1}else for(i+h>o&&(i=o-h),s=i;s>=0;s--){for(var f=!0,v=0;v<h;v++)if(c(t,s+v)!==c(n,v)){f=!1;break}if(f)return s}return-1}function I(t,n,i,r){i=Number(i)||0;var e=t.length-i;r?(r=Number(r))>e&&(r=e):r=e;var s,u=n.length;for(r>u/2&&(r=u/2),s=0;s<r;++s){var o=A(n.substr(2*s,2),16);if(st(o))return s;t[i+s]=o}return s}function R(t,n,i,r){return rt(nt(n,t.length-i),t,i,r)}function C(t,n,i,r){return rt(function(t){for(var n=[],i=0;i<t.length;++i)n.push(255&t.charCodeAt(i));return n}(n),t,i,r)}function D(t,n,i,r){return rt(it(n),t,i,r)}function P(t,n,i,r){return rt(function(t,n){for(var i,r,e,s=[],u=0;u<t.length&&!((n-=2)<0);++u)i=t.charCodeAt(u),r=i>>8,e=i%256,s.push(e),s.push(r);return s}(n,t.length-i),t,i,r)}function N(t,n,i){return 0===n&&i===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(n,i))}function B(t,n,i){i=b.min(t.length,i);for(var r=[],e=n;e<i;){var s=t[e],u=null,o=s>239?4:s>223?3:s>191?2:1;if(e+o<=i){var h=void 0,c=void 0,a=void 0,f=void 0;switch(o){case 1:s<128&&(u=s);break;case 2:128==(192&(h=t[e+1]))&&(f=(31&s)<<6|63&h)>127&&(u=f);break;case 3:h=t[e+1],c=t[e+2],128==(192&h)&&128==(192&c)&&(f=(15&s)<<12|(63&h)<<6|63&c)>2047&&(f<55296||f>57343)&&(u=f);break;case 4:h=t[e+1],c=t[e+2],a=t[e+3],128==(192&h)&&128==(192&c)&&128==(192&a)&&(f=(15&s)<<18|(63&h)<<12|(63&c)<<6|63&a)>65535&&f<1114112&&(u=f)}}null===u?(u=65533,o=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),e+=o}return function(t){var n=t.length;if(n<=x)return String.fromCharCode.apply(String,t);for(var i="",r=0;r<n;)i+=String.fromCharCode.apply(String,t.slice(r,r+=x));return i}(r)}t.kMaxLength=u,h.TYPED_ARRAY_SUPPORT=function(){try{var t=new E(1),n={foo:function(){return 42}};return k.setPrototypeOf(n,E.prototype),k.setPrototypeOf(t,n),42===t.foo()}catch(t){return!1}}(),!h.TYPED_ARRAY_SUPPORT&&("undefined"==typeof console?"undefined":W(console))<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),k.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),k.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}}),h.poolSize=8192,h.from=function(t,n,i){return c(t,n,i)},k.setPrototypeOf(h.prototype,E.prototype),k.setPrototypeOf(h,E),h.alloc=function(t,n,i){return function(t,n,i){return a(t),t<=0?o(t):void 0!==n?"string"==typeof i?o(t).fill(n,i):o(t).fill(n):o(t)}(t,n,i)},h.allocUnsafe=function(t){return f(t)},h.allocUnsafeSlow=function(t){return f(t)},h.isBuffer=function(t){return null!=t&&!0===t.mv&&t!==h.prototype},h.compare=function(t,n){if(et(t,E)&&(t=h.from(t,t.offset,t.byteLength)),et(n,E)&&(n=h.from(n,n.offset,n.byteLength)),!h.isBuffer(t)||!h.isBuffer(n))throw new p('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===n)return 0;for(var i=t.length,r=n.length,e=0,s=b.min(i,r);e<s;++e)if(t[e]!==n[e]){i=t[e],r=n[e];break}return i<r?-1:r<i?1:0},h.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(t,n){if(!Array.isArray(t))throw new p('"list" argument must be an Array of Buffers');if(0===t.length)return h.alloc(0);var i;if(void 0===n)for(n=0,i=0;i<t.length;++i)n+=t[i].length;var r=h.allocUnsafe(n),e=0;for(i=0;i<t.length;++i){var s=t[i];if(et(s,E))e+s.length>r.length?(h.isBuffer(s)||(s=h.from(s)),s.copy(r,e)):E.prototype.set.call(r,s,e);else{if(!h.isBuffer(s))throw new p('"list" argument must be an Array of Buffers');s.copy(r,e)}e+=s.length}return r},h.byteLength=w,h.prototype.mv=!0,h.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var n=0;n<t;n+=2)_(this,n,n+1);return this},h.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var n=0;n<t;n+=4)_(this,n,n+3),_(this,n+1,n+2);return this},h.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var n=0;n<t;n+=8)_(this,n,n+7),_(this,n+1,n+6),_(this,n+2,n+5),_(this,n+3,n+4);return this},h.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?B(this,0,t):g.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(t){if(!h.isBuffer(t))throw new p("Argument must be a Buffer");return this===t||0===h.compare(this,t)},h.prototype.inspect=function(){var n="",i=t.INSPECT_MAX_BYTES;return n=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(n+=" ... "),"<Buffer "+n+">"},s&&(h.prototype[s]=h.prototype.inspect),h.prototype.compare=function(t,n,i,r,e){if(et(t,E)&&(t=h.from(t,t.offset,t.byteLength)),!h.isBuffer(t))throw new p('The "target" argument must be one of type Buffer or Uint8Array. Received type '+(void 0===t?"undefined":W(t)));if(void 0===n&&(n=0),void 0===i&&(i=t?t.length:0),void 0===r&&(r=0),void 0===e&&(e=this.length),n<0||i>t.length||r<0||e>this.length)throw new RangeError("out of range index");if(r>=e&&n>=i)return 0;if(r>=e)return-1;if(n>=i)return 1;if(this===t)return 0;for(var s=(e>>>=0)-(r>>>=0),u=(i>>>=0)-(n>>>=0),o=b.min(s,u),c=this.slice(r,e),a=t.slice(n,i),f=0;f<o;++f)if(c[f]!==a[f]){s=c[f],u=a[f];break}return s<u?-1:u<s?1:0},h.prototype.includes=function(t,n,i){return-1!==this.indexOf(t,n,i)},h.prototype.indexOf=function(t,n,i){return m(this,t,n,i,!0)},h.prototype.lastIndexOf=function(t,n,i){return m(this,t,n,i,!1)},h.prototype.write=function(t,n,i,r){if(void 0===n)r="utf8",i=this.length,n=0;else if(void 0===i&&"string"==typeof n)r=n,i=this.length,n=0;else{if(!isFinite(n))throw new y("Buffer.write(string, encoding, offset[, length]) is no longer supported");n>>>=0,isFinite(i)?(i>>>=0,void 0===r&&(r="utf8")):(r=i,i=void 0)}var e=this.length-n;if((void 0===i||i>e)&&(i=e),t.length>0&&(i<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var s=!1;;)switch(r){case"hex":return I(this,t,n,i);case"utf8":case"utf-8":return R(this,t,n,i);case"ascii":case"latin1":case"binary":return C(this,t,n,i);case"base64":return D(this,t,n,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,n,i);default:if(s)throw new p("Unknown encoding: "+r);r=(""+r).toLowerCase(),s=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this.yv||this,0)}};var x=4096;function O(t,n,i){var r="";i=b.min(t.length,i);for(var e=n;e<i;++e)r+=String.fromCharCode(127&t[e]);return r}function M(t,n,i){var r="";i=b.min(t.length,i);for(var e=n;e<i;++e)r+=String.fromCharCode(t[e]);return r}function L(t,n,i){var r=t.length;(!n||n<0)&&(n=0),(!i||i<0||i>r)&&(i=r);for(var e="",s=n;s<i;++s)e+=ut[t[s]];return e}function U(t,n,i){for(var r=t.slice(n,i),e="",s=0;s<r.length-1;s+=2)e+=String.fromCharCode(r[s]+256*r[s+1]);return e}function F(t,n,i){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+n>i)throw new RangeError("Trying to access beyond buffer length")}function H(t,n,i,r,e,s){if(!h.isBuffer(t))throw new p('"buffer" argument must be a Buffer instance');if(n>e||n<s)throw new RangeError('"value" argument is out of bounds');if(i+r>t.length)throw new RangeError("Index out of range")}function z(t,n,i,r,e){J(n,r,e,t,i,7);var s=Number(n&BigInt(4294967295));t[i++]=s,s>>=8,t[i++]=s,s>>=8,t[i++]=s,s>>=8,t[i++]=s;var u=Number(n>>BigInt(32)&BigInt(4294967295));return t[i++]=u,u>>=8,t[i++]=u,u>>=8,t[i++]=u,u>>=8,t[i++]=u,i}function X(t,n,i,r,e){J(n,r,e,t,i,7);var s=Number(n&BigInt(4294967295));t[i+7]=s,s>>=8,t[i+6]=s,s>>=8,t[i+5]=s,s>>=8,t[i+4]=s;var u=Number(n>>BigInt(32)&BigInt(4294967295));return t[i+3]=u,u>>=8,t[i+2]=u,u>>=8,t[i+1]=u,u>>=8,t[i]=u,i+8}function q(t,n,i,r,e,s){if(i+r>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function G(t,n,i,r,s){return n=+n,i>>>=0,s||q(t,0,i,4),e.write(t,n,i,r,23,4),i+4}function j(t,n,i,r,s){return n=+n,i>>>=0,s||q(t,0,i,8),e.write(t,n,i,r,52,8),i+8}h.prototype.slice=function(t,n){var i=this.length;(t=~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),(n=void 0===n?i:~~n)<0?(n+=i)<0&&(n=0):n>i&&(n=i),n<t&&(n=t);var r=this.subarray(t,n);return k.setPrototypeOf(r,h.prototype),r},h.prototype.readUintLE=h.prototype.readUIntLE=function(t,n,i){t>>>=0,n>>>=0,i||F(t,n,this.length);for(var r=this[t],e=1,s=0;++s<n&&(e*=256);)r+=this[t+s]*e;return r},h.prototype.readUintBE=h.prototype.readUIntBE=function(t,n,i){t>>>=0,n>>>=0,i||F(t,n,this.length);for(var r=this[t+--n],e=1;n>0&&(e*=256);)r+=this[t+--n]*e;return r},h.prototype.readUint8=h.prototype.readUInt8=function(t,n){return t>>>=0,n||F(t,1,this.length),this[t]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(t,n){return t>>>=0,n||F(t,2,this.length),this[t]|this[t+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(t,n){return t>>>=0,n||F(t,2,this.length),this[t]<<8|this[t+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(t,n){return t>>>=0,n||F(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(t,n){return t>>>=0,n||F(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},h.prototype.readBigUInt64LE=ot(function(t){Z(t>>>=0,"offset");var n=this[t],i=this[t+7];(void 0===n||void 0===i)&&$(t,this.length-8);var r=n+this[++t]*b.pow(2,8)+this[++t]*b.pow(2,16)+this[++t]*b.pow(2,24),e=this[++t]+this[++t]*b.pow(2,8)+this[++t]*b.pow(2,16)+i*b.pow(2,24);return BigInt(r)+(BigInt(e)<<BigInt(32))}),h.prototype.readBigUInt64BE=ot(function(t){Z(t>>>=0,"offset");var n=this[t],i=this[t+7];(void 0===n||void 0===i)&&$(t,this.length-8);var r=n*b.pow(2,24)+this[++t]*b.pow(2,16)+this[++t]*b.pow(2,8)+this[++t],e=this[++t]*b.pow(2,24)+this[++t]*b.pow(2,16)+this[++t]*b.pow(2,8)+i;return(BigInt(r)<<BigInt(32))+BigInt(e)}),h.prototype.readIntLE=function(t,n,i){t>>>=0,n>>>=0,i||F(t,n,this.length);for(var r=this[t],e=1,s=0;++s<n&&(e*=256);)r+=this[t+s]*e;return r>=(e*=128)&&(r-=b.pow(2,8*n)),r},h.prototype.readIntBE=function(t,n,i){t>>>=0,n>>>=0,i||F(t,n,this.length);for(var r=n,e=1,s=this[t+--r];r>0&&(e*=256);)s+=this[t+--r]*e;return s>=(e*=128)&&(s-=b.pow(2,8*n)),s},h.prototype.readInt8=function(t,n){return t>>>=0,n||F(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},h.prototype.readInt16LE=function(t,n){t>>>=0,n||F(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},h.prototype.readInt16BE=function(t,n){t>>>=0,n||F(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},h.prototype.readInt32LE=function(t,n){return t>>>=0,n||F(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},h.prototype.readInt32BE=function(t,n){return t>>>=0,n||F(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},h.prototype.readBigInt64LE=ot(function(t){Z(t>>>=0,"offset");var n=this[t],i=this[t+7];(void 0===n||void 0===i)&&$(t,this.length-8);var r=this[t+4]+this[t+5]*b.pow(2,8)+this[t+6]*b.pow(2,16)+(i<<24);return(BigInt(r)<<BigInt(32))+BigInt(n+this[++t]*b.pow(2,8)+this[++t]*b.pow(2,16)+this[++t]*b.pow(2,24))}),h.prototype.readBigInt64BE=ot(function(t){Z(t>>>=0,"offset");var n=this[t],i=this[t+7];(void 0===n||void 0===i)&&$(t,this.length-8);var r=(n<<24)+this[++t]*b.pow(2,16)+this[++t]*b.pow(2,8)+this[++t];return(BigInt(r)<<BigInt(32))+BigInt(this[++t]*b.pow(2,24)+this[++t]*b.pow(2,16)+this[++t]*b.pow(2,8)+i)}),h.prototype.readFloatLE=function(t,n){return t>>>=0,n||F(t,4,this.length),e.read(this,t,!0,23,4)},h.prototype.readFloatBE=function(t,n){return t>>>=0,n||F(t,4,this.length),e.read(this,t,!1,23,4)},h.prototype.readDoubleLE=function(t,n){return t>>>=0,n||F(t,8,this.length),e.read(this,t,!0,52,8)},h.prototype.readDoubleBE=function(t,n){return t>>>=0,n||F(t,8,this.length),e.read(this,t,!1,52,8)},h.prototype.writeUintLE=h.prototype.writeUIntLE=function(t,n,i,r){t=+t,n>>>=0,i>>>=0,r||H(this,t,n,i,b.pow(2,8*i)-1,0);var e=1,s=0;for(this[n]=255&t;++s<i&&(e*=256);)this[n+s]=t/e&255;return n+i},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(t,n,i,r){t=+t,n>>>=0,i>>>=0,r||H(this,t,n,i,b.pow(2,8*i)-1,0);var e=i-1,s=1;for(this[n+e]=255&t;--e>=0&&(s*=256);)this[n+e]=t/s&255;return n+i},h.prototype.writeUint8=h.prototype.writeUInt8=function(t,n,i){return t=+t,n>>>=0,i||H(this,t,n,1,255,0),this[n]=255&t,n+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(t,n,i){return t=+t,n>>>=0,i||H(this,t,n,2,65535,0),this[n]=255&t,this[n+1]=t>>>8,n+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(t,n,i){return t=+t,n>>>=0,i||H(this,t,n,2,65535,0),this[n]=t>>>8,this[n+1]=255&t,n+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(t,n,i){return t=+t,n>>>=0,i||H(this,t,n,4,4294967295,0),this[n+3]=t>>>24,this[n+2]=t>>>16,this[n+1]=t>>>8,this[n]=255&t,n+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(t,n,i){return t=+t,n>>>=0,i||H(this,t,n,4,4294967295,0),this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t,n+4},h.prototype.writeBigUInt64LE=ot(function(t,n){return void 0===n&&(n=0),z(this,t,n,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeBigUInt64BE=ot(function(t,n){return void 0===n&&(n=0),X(this,t,n,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeIntLE=function(t,n,i,r){if(t=+t,n>>>=0,!r){var e=b.pow(2,8*i-1);H(this,t,n,i,e-1,-e)}var s=0,u=1,o=0;for(this[n]=255&t;++s<i&&(u*=256);)t<0&&0===o&&0!==this[n+s-1]&&(o=1),this[n+s]=(t/u|0)-o&255;return n+i},h.prototype.writeIntBE=function(t,n,i,r){if(t=+t,n>>>=0,!r){var e=b.pow(2,8*i-1);H(this,t,n,i,e-1,-e)}var s=i-1,u=1,o=0;for(this[n+s]=255&t;--s>=0&&(u*=256);)t<0&&0===o&&0!==this[n+s+1]&&(o=1),this[n+s]=(t/u|0)-o&255;return n+i},h.prototype.writeInt8=function(t,n,i){return t=+t,n>>>=0,i||H(this,t,n,1,127,-128),t<0&&(t=255+t+1),this[n]=255&t,n+1},h.prototype.writeInt16LE=function(t,n,i){return t=+t,n>>>=0,i||H(this,t,n,2,32767,-32768),this[n]=255&t,this[n+1]=t>>>8,n+2},h.prototype.writeInt16BE=function(t,n,i){return t=+t,n>>>=0,i||H(this,t,n,2,32767,-32768),this[n]=t>>>8,this[n+1]=255&t,n+2},h.prototype.writeInt32LE=function(t,n,i){return t=+t,n>>>=0,i||H(this,t,n,4,2147483647,-2147483648),this[n]=255&t,this[n+1]=t>>>8,this[n+2]=t>>>16,this[n+3]=t>>>24,n+4},h.prototype.writeInt32BE=function(t,n,i){return t=+t,n>>>=0,i||H(this,t,n,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t,n+4},h.prototype.writeBigInt64LE=ot(function(t,n){return void 0===n&&(n=0),z(this,t,n,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),h.prototype.writeBigInt64BE=ot(function(t,n){return void 0===n&&(n=0),X(this,t,n,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),h.prototype.writeFloatLE=function(t,n,i){return G(this,t,n,!0,i)},h.prototype.writeFloatBE=function(t,n,i){return G(this,t,n,!1,i)},h.prototype.writeDoubleLE=function(t,n,i){return j(this,t,n,!0,i)},h.prototype.writeDoubleBE=function(t,n,i){return j(this,t,n,!1,i)},h.prototype.copy=function(t,n,i,r){if(!h.isBuffer(t))throw new p("argument should be a Buffer");if(i||(i=0),!r&&0!==r&&(r=this.length),n>=t.length&&(n=t.length),n||(n=0),r>0&&r<i&&(r=i),r===i||0===t.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-n<r-i&&(r=t.length-n+i);var e=r-i;return this===t&&"function"==typeof E.prototype.copyWithin?this.copyWithin(n,i,r):E.prototype.set.call(t,this.subarray(i,r),n),e},h.prototype.fill=function(t,n,i,r){if("string"==typeof t){if("string"==typeof n?(r=n,n=0,i=this.length):"string"==typeof i&&(r=i,i=this.length),void 0!==r&&"string"!=typeof r)throw new p("encoding must be a string");if("string"==typeof r&&!h.isEncoding(r))throw new p("Unknown encoding: "+r);if(1===t.length){var e=t.charCodeAt(0);("utf8"===r&&e<128||"latin1"===r)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(n<0||this.length<n||this.length<i)throw new RangeError("Out of range index");if(i<=n)return this;var s;if(n>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0),"number"==typeof t)for(s=n;s<i;++s)this[s]=t;else{var u=h.isBuffer(t)?t:h.from(t,r),o=u.length;if(0===o)throw new p('The value "'+t+'" is invalid for argument "value"');for(s=0;s<i-n;++s)this[s+n]=u[s%o]}return this};var Q={};function Y(t,n,i){Q[t]=function(i){function r(){var r;return r=i.call(this)||this,k.defineProperty(r,"message",{value:n.apply(r,arguments),writable:!0,configurable:!0}),r.name="".concat(r.name," [").concat(t,"]"),r.stack,delete r.name,r}return Ct(r,i),r.prototype.toString=function(){return"".concat(this.name," [").concat(t,"]: ").concat(this.message)},Nt(r,[{key:"code",get:function(){return t},set:function(t){k.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}}]),r}(i)}function K(t){for(var n="",i=t.length,r="-"===t[0]?1:0;i>=r+4;i-=3)n="_".concat(t.slice(i-3,i)).concat(n);return"".concat(t.slice(0,i)).concat(n)}function J(t,n,i,r,e,s){if(t>i||t<n){var u,o="bigint"==(void 0===n?"undefined":W(n))?"n":"";throw u=0===n||n===BigInt(0)?">= 0".concat(o," and < 2").concat(o," ** ").concat(8*(s+1)).concat(o):">= -(2".concat(o," ** ").concat(8*(s+1)-1).concat(o,") and < 2 ** ")+"".concat(8*(s+1)-1).concat(o),new Q.ERR_OUT_OF_RANGE("value",u,t)}!function(t,n,i){Z(n,"offset"),(void 0===t[n]||void 0===t[n+i])&&$(n,t.length-(i+1))}(r,e,s)}function Z(t,n){if("number"!=typeof t)throw new Q.ERR_INVALID_ARG_TYPE(n,"number",t)}function $(t,n,i){throw b.floor(t)!==t?(Z(t,i),new Q.ERR_OUT_OF_RANGE("offset","an integer",t)):n<0?new Q.ERR_BUFFER_OUT_OF_BOUNDS:new Q.ERR_OUT_OF_RANGE("offset",">= 0 and <= ".concat(n),t)}Y("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?"".concat(t," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),Y("ERR_INVALID_ARG_TYPE",function(t,n){return'The "'.concat(t,'" argument must be of type number. Received type ').concat(void 0===n?"undefined":W(n))},p),Y("ERR_OUT_OF_RANGE",function(t,n,i){var r='The value of "'.concat(t,'" is out of range.'),e=i;return Number.isInteger(i)&&b.abs(i)>b.pow(2,32)?e=K(String(i)):"bigint"==(void 0===i?"undefined":W(i))&&(e=String(i),(i>b.pow(BigInt(2),BigInt(32))||i<-b.pow(BigInt(2),BigInt(32)))&&(e=K(e)),e+="n"),r+=" It must be ".concat(n,". Received ").concat(e)},RangeError);var tt=/[^+/0-9A-Za-z-_]/g;function nt(t,n){var i;n=n||1/0;for(var r=t.length,e=null,s=[],u=0;u<r;++u){if((i=t.charCodeAt(u))>55295&&i<57344){if(!e){if(i>56319){(n-=3)>-1&&s.push(239,191,189);continue}if(u+1===r){(n-=3)>-1&&s.push(239,191,189);continue}e=i;continue}if(i<56320){(n-=3)>-1&&s.push(239,191,189),e=i;continue}i=65536+(e-55296<<10|i-56320)}else e&&(n-=3)>-1&&s.push(239,191,189);if(e=null,i<128){if((n-=1)<0)break;s.push(i)}else if(i<2048){if((n-=2)<0)break;s.push(i>>6|192,63&i|128)}else if(i<65536){if((n-=3)<0)break;s.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new y("Invalid code point");if((n-=4)<0)break;s.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return s}function it(t){return r.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(tt,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function rt(t,n,i,r){var e;for(e=0;e<r&&!(e+i>=n.length||e>=t.length);++e)n[e+i]=t[e];return e}function et(t,n){return V(t,n)||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===n.name}function st(t){return t!=t}var ut=function(){for(var t="0123456789abcdef",n=new Array(256),i=0;i<16;++i)for(var r=16*i,e=0;e<16;++e)n[r+e]=t[i]+t[e];return n}();function ot(t){return("undefined"==typeof BigInt?"undefined":W(BigInt))>"u"?ht:t}function ht(){throw new y("BigInt not supported")}}(ti)),ti}function ei(){if(bn)return Zn.exports;bn=1;var t=65536,n=(kn||(kn=1,function(t,n){var i=ri(),r=i.Buffer;function e(t,n){for(var i in t)n[i]=t[i]}function s(t,n,i){return r(t,n,i)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=i:(e(i,n),n.Buffer=s),s.prototype=k.create(r.prototype),e(r,s),s.from=function(t,n,i){if("number"==typeof t)throw new p("Argument must not be a number");return r(t,n,i)},s.alloc=function(t,n,i){if("number"!=typeof t)throw new p("Argument must be a number");var e=r(t);return void 0!==n?"string"==typeof i?e.fill(n,i):e.fill(n):e.fill(0),e},s.allocUnsafe=function(t){if("number"!=typeof t)throw new p("Argument must be a number");return r(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new p("Argument must be a number");return i.SlowBuffer(t)}}($n,$n.exports)),$n.exports).Buffer,i=R.crypto||R.msCrypto;return i&&i.getRandomValues?Zn.exports=function(r,e){if(r>4294967295)throw new RangeError("requested too many random bytes");var s=n.allocUnsafe(r);if(r>0)if(r>t)for(var u=0;u<r;u+=t)i.getRandomValues(s.slice(u,u+t));else i.getRandomValues(s);return"function"==typeof e?process.nextTick(function(){e(null,s)}):s}:Zn.exports=function(){throw new y("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")},Zn.exports}function si(){if(Tn)return An;Tn=1;var t=ei(),n=function(){function t(t,n){this.ufrag=t,this.pwd=n,this.lite=!1,this.endOfCandidates=!1}var n=t.prototype;return n.clone=function(){var n=new t(this.ufrag,this.pwd);return n.setLite(this.lite),n.setEndOfCandidates(this.endOfCandidates),n},n.plain=function(){var t={ufrag:this.ufrag,pwd:this.pwd};return this.lite&&(t.lite=this.lite),this.endOfCandidates&&(t.endOfCandidates=this.endOfCandidates),t},n.getUfrag=function(){return this.ufrag},n.getPwd=function(){return this.pwd},n.isLite=function(){return this.lite},n.setLite=function(t){this.lite=t},n.isEndOfCandidates=function(){return this.endOfCandidates},n.setEndOfCandidates=function(t){this.endOfCandidates=t},t}();return n.generate=function(i){var r=new n,e=t(8),s=t(24);return r.ufrag=e.toString("hex"),r.pwd=s.toString("hex"),r.lite=i,r},n.expand=function(t){if("ICEInfo"===t.constructor.name)return t;var i=new n(t.ufrag,t.pwd);return i.setLite(t.lite),i.setEndOfCandidates(t.endOfCandidates),i},n.clone=function(t){return"ICEInfo"===t.constructor.name?t.clone():n.expand(t)},An=n}function ui(){if(En)return Sn;En=1;var t=ln()("SEND","RECV");return t.byValue=function(n){return t[n.toUpperCase()]},t.toString=function(n){switch(n){case t.SEND:return"send";case t.RECV:return"recv"}},t.reverse=function(n){switch(n){case t.SEND:return t.RECV;case t.RECV:return t.SEND}},Sn=t}function oi(){if(Rn)return In;Rn=1;var t=ui(),n=function(){function n(t,n){this.id=t,this.direction=n,this.formats=[],this.params=new Map}var i=n.prototype;return i.clone=function(){var t=new n(this.id,this.direction);return t.setFormats(this.formats),t.setParams(this.params),t},i.plain=function(){var n={id:this.id,direction:t.toString(this.direction)};this.formats&&(n.formats=this.formats);for(var i,r=Lt(this.params.entries());!(i=r()).done;){var e=i.value,s=e[0],u=e[1];n.params||(n.params={}),n.params[s]=u}return n},i.getId=function(){return this.id},i.getDirection=function(){return this.direction},i.setDirection=function(t){this.direction=t},i.getFormats=function(){return this.formats},i.setFormats=function(t){this.formats=[];for(var n=0;n<t.length;++n)this.formats.push(A(t[n]))},i.getParams=function(){return this.params},i.setParams=function(t){this.params=new Map(t)},i.addParam=function(t,n){this.params.set(t,n)},n}();return n.expand=function(i){if("RIDInfo"===i.constructor.name)return i;for(var r,e=new n(i.id,t.byValue(i.direction)),s=Lt(k.entries(i.params||{}));!(r=s()).done;){var u=r.value,o=u[0],h=u[1];e.addParam(o,h)}return i.formats&&e.setFormats(i.formats),e},n.clone=function(t){return"RIDInfo"===t.constructor.name?t.clone():n.expand(t)},In=n}function hi(){if(Dn)return Cn;Dn=1;var t=function(){function t(t,n){this.paused=n,this.id=t}var n=t.prototype;return n.clone=function(){return new t(this.id,this.paused)},n.plain=function(){return{id:this.id,paused:this.paused}},n.isPaused=function(){return this.paused},n.getId=function(){return this.id},t}();return t.expand=function(n){return"SimulcastStreamInfo"===n.constructor.name?n:new t(n.id,n.paused)},t.clone=function(n){return"SimulcastStreamInfo"===n.constructor.name?n.clone():t.expand(n)},Cn=t}function ci(){if(Nn)return Pn;Nn=1;var t=hi(),n=ui(),i=function(){function t(){this.send=[],this.recv=[]}var i=t.prototype;return i.clone=function(){for(var i,r=new t,e=Lt(this.send);!(i=e()).done;){var s=i.value;r.addSimulcastAlternativeStreams(n.SEND,s.map(function(t){return t.clone()}))}for(var u,o=Lt(this.recv);!(u=o()).done;){var h=u.value;r.addSimulcastAlternativeStreams(n.RECV,h.map(function(t){return t.clone()}))}return r},i.plain=function(){for(var t,n={send:[],recv:[]},i=Lt(this.send);!(t=i()).done;){var r=t.value;n.send.push(r.map(function(t){return t.plain()}))}for(var e,s=Lt(this.recv);!(e=s()).done;){var u=e.value;n.recv.push(u.map(function(t){return t.plain()}))}return n},i.addSimulcastAlternativeStreams=function(t,i){return t===n.SEND?this.send.push(i):this.recv.push(i)},i.addSimulcastStream=function(t,i){return t===n.SEND?this.send.push([i]):this.recv.push([i])},i.getSimulcastStreams=function(t){return t===n.SEND?this.send:this.recv},t}();return i.expand=function(r){if("SimulcastInfo"===r.constructor.name)return r;for(var e,s=new i,u=Lt(r.send||[]);!(e=u()).done;){var o=e.value;s.addSimulcastAlternativeStreams(n.SEND,o.map(t.expand))}for(var h,c=Lt(r.recv||[]);!(h=c()).done;){var a=h.value;s.addSimulcastAlternativeStreams(n.RECV,a.map(t.expand))}return s},i.clone=function(t){return"SimulcastInfo"===t.constructor.name?t.clone():i.expand(t)},Pn=i}function ai(){if(xn)return Bn;xn=1;var t=ln()("SENDRECV","SENDONLY","RECVONLY","INACTIVE");return t.byValue=function(n){return t[n.toUpperCase()]},t.toString=function(n){switch(n){case t.SENDRECV:return"sendrecv";case t.SENDONLY:return"sendonly";case t.RECVONLY:return"recvonly";case t.INACTIVE:return"inactive"}},t.reverse=function(n){switch(n){case t.SENDRECV:return t.SENDRECV;case t.SENDONLY:return t.RECVONLY;case t.RECVONLY:return t.SENDONLY;case t.INACTIVE:return t.INACTIVE}},Bn=t}function fi(){if(Mn)return On;Mn=1;var t=function(){function t(t,n){this.port=t,this.maxMessageSize=n}var n=t.prototype;return n.clone=function(){return new t(this.port,this.maxMessageSize)},n.plain=function(){return{port:this.port,maxMessageSize:this.maxMessageSize}},n.getPort=function(){return this.port},n.getMaxMessageSize=function(){return this.maxMessageSize},t}();return t.expand=function(n){return"DataChannelInfo"===n.constructor.name?n:new t(n.port,n.maxMessageSize)},t.clone=function(n){return"DataChannelInfo"===n.constructor.name?n.clone():t.expand(n)},On=t}function vi(){if(Un)return Ln;Un=1;var t=dn(),n=oi(),i=ci(),r=ai(),e=ui();vn();var s=fi(),u=function(){function n(t,n){this.id=t,this.type=n,this.direction=r.SENDRECV,this.extensions=new Map,this.codecs=new Map,this.rids=new Map,this.simulcast=null,this.bitrate=0,this.control=null,this.dataChannel=null}var u=n.prototype;return u.clone=function(){var t=new n(this.id,this.type);t.setDirection(this.direction),t.setBitrate(this.bitrate);for(var i,r=Lt(this.codecs.values());!(i=r()).done;){var e=i.value;t.addCodec(e.clone())}for(var s,u=Lt(this.extensions.entries());!(s=u()).done;){var o=s.value,h=o[0],c=o[1];t.addExtension(h,c)}for(var a,f=Lt(this.rids.values());!(a=f()).done;){var v=a.value;t.addRID(v.clone())}return this.simulcast&&t.setSimulcast(this.simulcast.clone()),this.control&&t.setControl(this.control),this.dataChannel&&t.setDataChannel(this.dataChannel.clone()),t},u.plain=function(){var t={id:this.id,type:this.type,direction:r.toString(this.direction),codecs:[]};this.dataChannel&&(t.dataChannel=this.dataChannel.plain()),this.bitrate&&(t.bitrate=this.bitrate);for(var n,i=Lt(this.codecs.values());!(n=i()).done;){var e=n.value;t.codecs.push(e.plain())}for(var s,u=Lt(this.extensions.entries());!(s=u()).done;){var o=s.value,h=o[0],c=o[1];t.extensions||(t.extensions={}),t.extensions[h]=c}for(var a,f=Lt(this.rids.values());!(a=f()).done;){var v=a.value;t.rids||(t.rids=[]),t.rids.push(v.plain())}return this.simulcast&&(t.simulcast=this.simulcast.plain()),this.control&&(t.control=this.control),t},u.getType=function(){return this.type},u.getId=function(){return this.id},u.setId=function(t){this.id=t},u.addExtension=function(t,n){this.extensions.set(t,n)},u.addRID=function(t){this.rids.set(t.getId(),t)},u.addCodec=function(t){this.codecs.set(t.getType(),t)},u.setCodecs=function(t){this.codecs=t},u.getCodecForType=function(t){return this.codecs.get(t)},u.getCodec=function(t){for(var n,i=Lt(this.codecs.values());!(n=i()).done;){var r=n.value;if(r.getCodec().toLowerCase()===t.toLowerCase())return r}return null},u.hasCodec=function(t){return null!==this.getCodec(t)},u.getCodecs=function(){return this.codecs},u.hasRTX=function(){for(var t,n=Lt(this.codecs.values());!(t=n()).done;)if(t.value.hasRTX())return!0;return!1},u.getExtensions=function(){return this.extensions},u.getRIDs=function(){return this.rids},u.getRID=function(t){return this.rids.get(t)},u.getBitrate=function(){return this.bitrate},u.setBitrate=function(t){this.bitrate=t},u.getDirection=function(){return this.direction},u.setDirection=function(t){this.direction=t},u.hasControl=function(){return!!this.control},u.getControl=function(){return this.control},u.setControl=function(t){this.control=t},u.hasDataChannel=function(){return!!this.dataChannel},u.getDataChannel=function(){return this.dataChannel},u.setDataChannel=function(t){this.dataChannel=t},u.answer=function(u){var o=new n(this.id,this.type);if(u){o.setDirection(r.reverse(this.direction));var h=u.codecs,c=u.dataChannel;if(h){var a;a=Array.isArray(h)?t.MapFromNames(h,u.rtx,u.rtcpfbs):h;for(var f,v=Lt(this.codecs.values());!(f=v()).done;)for(var d,l=f.value,w=Lt(a.values());!(d=w()).done;){var g=d.value;if(!(g.getCodec().toLowerCase()!==l.getCodec().toLowerCase()||"h264"===g.getCodec()&&g.hasParam("packetization-mode")&&g.getParam("packetization-mode")!=l.getParam("packetization-mode","0")||"h264"===g.getCodec()&&g.hasParam("profile-level-id")&&l.hasParam("profile-level-id")&&g.getParam("profile-level-id")!=l.getParam("profile-level-id")||"multiopus"===g.getCodec()&&g.hasParam("num_streams")&&l.hasParam("num_streams")&&g.getParam("num_streams")!=l.getParam("num_streams"))){var _=g.clone();_.setType(l.getType()),_.hasRTX()&&_.setRTX(l.getRTX()),l.hasChannels()&&_.setChannels(l.getChannels()),_.addParams(l.getParams()),o.addCodec(_);break}}}for(var m,y=new Set(u.extensions),p=Lt(this.extensions);!(m=p()).done;){var k=m.value,b=k[0],A=k[1];y.has(A)&&o.addExtension(b,A)}if(u.simulcast&&this.simulcast){var T=new i,S=this.simulcast.getSimulcastStreams(e.SEND);if(S)for(var E,I=Lt(S);!(E=I()).done;){var R=E.value.map(function(t){return t.clone()});T.addSimulcastAlternativeStreams(e.RECV,R)}var C=this.simulcast.getSimulcastStreams(e.RECV);if(C)for(var D,P=Lt(C);!(D=P()).done;){var N=D.value.map(function(t){return t.clone()});T.addSimulcastAlternativeStreams(e.SEND,N)}for(var B,x=Lt(this.rids.values());!(B=x()).done;){var O=B.value,M=O.clone();M.setDirection(e.reverse(O.getDirection())),o.addRID(M)}o.setSimulcast(T)}if(c&&this.dataChannel){var L=new s(this.dataChannel.getPort(),c.maxMessageSize?c.maxMessageSize:this.dataChannel.getMaxMessageSize());o.setDataChannel(L)}}else o.setDirection(r.INACTIVE);return o},u.getSimulcast=function(){return this.simulcast},u.setSimulcast=function(t){this.simulcast=t},n}();function o(t){var n=t.toString();if(!/^\d+$/.test(n))throw new y("invalid integer ".concat(n));return A(n)}return u.create=function(n,i,e){!e&&"string"!=typeof i&&(e=i,i=n);var s=new u(n,i);if(e){var o=e.codecs;o&&(Array.isArray(o)?s.setCodecs(t.MapFromNames(o,e.rtx,e.rtcpfbs)):s.setCodecs(o))}else s.setDirection(r.INACTIVE);return s},u.expand=function(e){if("MediaInfo"===e.constructor.name)return e;var h=new u(e.id,e.type);if(e.direction&&h.setDirection(r.byValue(e.direction)),h.setBitrate(e.bitrate),e.dataChannel){var c=s.expand(e.dataChannel);c&&h.setDataChannel(c)}for(var a,f=Lt(k.entries(e.extensions));!(a=f()).done;){var v=a.value,d=v[0],l=v[1];h.addExtension(o(d),l)}for(var w,g=Lt(e.codecs);!(w=g()).done;){var _=w.value,m=t.expand(_);m&&h.addCodec(m)}for(var y,p=Lt(e.rids||[]);!(y=p()).done;){var b=y.value,A=n.expand(b);h.addRID(A)}return e.simulcast&&h.setSimulcast(i.expand(e.simulcast)),e.control&&h.setControl(e.control),h},u.clone=function(t){return"MediaInfo"===t.constructor.name?t.clone():u.expand(t)},Ln=u}function di(){if(Vn)return Fn;Vn=1;var t=function(){function t(t,n){this.semantics=t,this.ssrcs=[];for(var i=0;i<n.length;++i)this.ssrcs.push(A(n[i]))}var n=t.prototype;return n.clone=function(){return new t(this.semantics,this.ssrcs)},n.plain=function(){for(var t={semantics:this.semantics,ssrcs:[]},n=0;n<this.ssrcs.length;++n)t.ssrcs.push(this.ssrcs[n]);return t},n.getSemantics=function(){return this.semantics},n.getSSRCs=function(){return this.ssrcs},t}();return t.expand=function(n){return"SourceGroupInfo"===n.constructor.name?n:new t(n.semantics,n.ssrcs)},t.clone=function(n){return"SourceGroupInfo"===n.constructor.name?n.clone():t.expand(n)},Fn=t}function li(){if(Wn)return Hn;Wn=1;var t=function(){function t(t){this.ssrc=t}var n=t.prototype;return n.clone=function(){var n=new t(this.ssrc);return n.setCName(this.cname),n.setStreamId(this.streamId),n.setTrackId(this.trackId),n},n.plain=function(){var t={ssrc:this.ssrc};return this.cname&&(t.cname=this.cname),this.streamId&&(t.streamId=this.streamId),this.trackId&&(t.trackId=this.trackId),t},n.getCName=function(){return this.cname},n.setCName=function(t){this.cname=t},n.getStreamId=function(){return this.streamId},n.setStreamId=function(t){this.streamId=t},n.getTrackId=function(){return this.trackId},n.setTrackId=function(t){this.trackId=t},n.getSSRC=function(){return this.ssrc},t}();return t.expand=function(n){if("SourceInfo"===n.constructor.name)return n;var i=new t(n.ssrc);return i.setCName(n.cname),i.setStreamId(n.streamId),i.setTrackId(n.trackId),i},t.clone=function(n){return"SourceInfo"===n.constructor.name?n.clone():t.expand(n)},Hn=t}function wi(){if(Xn)return zn;Xn=1;var t=dn(),n=function(){function t(t,n){void 0===n&&(n=!1),this.id=t,this.paused=n,this.codecs=new Map,this.params=new Map}var n=t.prototype;return n.clone=function(){for(var n,i=new t(this.id,this.paused),r=Lt(this.codecs.values());!(n=r()).done;){var e=n.value;i.addCodec(e.clone())}return i.setParams(this.params),i},n.plain=function(){for(var t,n={id:this.id,paused:this.paused,codecs:{},params:{}},i=Lt(this.codecs.entries());!(t=i()).done;){var r=t.value,e=r[0],s=r[1];n.codecs[e]=s.plain()}for(var u,o=Lt(this.params.entries());!(u=o()).done;){var h=u.value,c=(e=h[0],h[1]);n.params[e]=c}return n},n.getId=function(){return this.id},n.getCodecs=function(){return this.codecs},n.addCodec=function(t){this.codecs.set(t.getType(),t)},n.getParams=function(){return this.params},n.setParams=function(t){this.params=new Map(t)},n.addParam=function(t,n){this.params.set(t,n)},n.isPaused=function(){return this.paused},t}();return n.expand=function(i){if("TrackEncodingInfo"===i.constructor.name)return i;for(var r,e=new n(i.id,i.paused),s=Lt(k.values(i.codecs||{}));!(r=s()).done;){var u=r.value;e.addCodec(t.expand(u))}for(var o,h=Lt(k.entries(i.params||{}));!(o=h()).done;){var c=o.value,a=c[0],f=c[1];e.addParam(a,f)}return e},n.clone=function(t){return"TrackEncodingInfo"===t.constructor.name?t.clone():n.expand(t)},zn=n}function gi(){if(Gn)return qn;Gn=1;var t=di(),n=wi(),i=function(){function t(t,n){this.media=t,this.id=n,this.ssrcs=[],this.groups=[],this.encodings=[]}var n=t.prototype;return n.clone=function(){var n=new t(this.media,this.id);this.mediaId&&n.setMediaId(this.mediaId);for(var i=0;i<this.ssrcs.length;++i)n.addSSRC(this.ssrcs[i]);for(var r=0;r<this.groups.length;++r)n.addSourceGroup(this.groups[r].clone());for(var e=0;e<this.encodings.length;++e){for(var s=[],u=0;u<this.encodings[e].length;++u)s.push(this.encodings[e][u].clone());n.addAlternativeEncodings(s)}return n},n.plain=function(){var t={media:this.media,id:this.id,ssrcs:[]};this.mediaId&&(t.mediaId=this.mediaId);for(var n=0;n<this.ssrcs.length;++n)t.ssrcs.push(this.ssrcs[n]);for(var i=0;i<this.groups.length;++i)t.groups||(t.groups=[]),t.groups.push(this.groups[i].plain());for(var r=0;r<this.encodings.length;++r){for(var e=[],s=0;s<this.encodings[r].length;++s)e.push(this.encodings[r][s].plain());e.length&&(t.encodings||(t.encodings=[]),t.encodings.push(e))}return t},n.getMedia=function(){return this.media},n.setMediaId=function(t){this.mediaId=t},n.getMediaId=function(){return this.mediaId},n.getId=function(){return this.id},n.addSSRC=function(t){this.ssrcs.push(t)},n.getSSRCs=function(){return this.ssrcs},n.addSourceGroup=function(t){this.groups.push(t)},n.getSourceGroup=function(t){for(var n,i=Lt(this.groups);!(n=i()).done;){var r=n.value;if(r.getSemantics().toLowerCase()===t.toLowerCase())return r}return null},n.getSourceGroups=function(){return this.groups},n.getSourceGroupsForMediaSSRC=function(t){return this.groups.filter(function(n){return n.getSSRCs()[0]===t})},n.hasSourceGroup=function(t){for(var n,i=Lt(this.groups);!(n=i()).done;)if(n.value.getSemantics().toLowerCase()===t.toLowerCase())return!0;return!1},n.getEncodings=function(){return this.encodings},n.addEncoding=function(t){this.encodings.push([t])},n.addAlternativeEncodings=function(t){this.encodings.push(t)},n.setEncodings=function(t){this.encodings=t},n.getEncodingSources=function(){var t=[];if(this.encodings.length)for(var n,i=Lt(this.encodings);!(n=i()).done;)for(var r,e=Lt(n.value);!(r=e()).done;){var s=r.value,u={id:s.getId(),rid:s.getId()},o=s.getParams(),h=null==o?void 0:o.get("ssrc");if(void 0!==h){u.media=A(h);for(var c,a=Lt(this.getSourceGroupsForMediaSSRC(u.media));!(c=a()).done;){var f=c.value;switch(f.getSemantics()){case"FID":u.rtx=f.getSSRCs()[1];break;case"FEC-FR":u.fec=f.getSSRCs()[1]}}}t.push(u)}else if(this.hasSourceGroup("SIM")){var v=this.getSourceGroup("SIM").getSSRCs();this.getSourceGroups();for(var d,l=Lt(v);!(d=l()).done;){for(var w,g=d.value,_={id:String(g),media:g},m=Lt(this.getSourceGroupsForMediaSSRC(_.media));!(w=m()).done;){var y=w.value;switch(y.getSemantics()){case"FID":_.rtx=y.getSSRCs()[1];break;case"FEC-FR":_.fec=y.getSSRCs()[1]}}t.push(_)}}else{var p={id:""};if(this.ssrcs.length){p.media=this.ssrcs[0];for(var k,b=Lt(this.getSourceGroupsForMediaSSRC(p.media));!(k=b()).done;){var T=k.value;switch(T.getSemantics()){case"FID":p.rtx=T.getSSRCs()[1];break;case"FEC-FR":p.fec=T.getSSRCs()[1]}}}t.push(p)}return t},t}();return i.expand=function(r){var e,s;if("TrackInfo"===r.constructor.name)return r;var u=new i(r.media,r.id);if(r.mediaId&&u.setMediaId(r.mediaId),Array.isArray(r.ssrcs))for(var o,h=Lt(r.ssrcs);!(o=h()).done;){var c=o.value;u.addSSRC(c)}else if(void 0!==(null===(e=r.ssrcs)||void 0===e?void 0:e.media)){var a=r.ssrcs.media;if(u.addSSRC(a),void 0!==r.ssrcs.rtx){var f=r.ssrcs.rtx;u.addSSRC(f),u.addSourceGroup(new t("FID",[a,f]))}if(void 0!==r.ssrcs.fec){var v=r.ssrcs.fec;u.addSSRC(v),u.addSourceGroup(new t("FEC-FR",[a,v]))}}if(r.rid){var d=new n(r.rid);void 0!==(null===(s=r.ssrcs)||void 0===s?void 0:s.media)&&d.addParam("ssrc",r.ssrcs.media),u.addAlternativeEncodings([d])}for(var l,w=Lt(r.groups||[]);!(l=w()).done;){var g=l.value;u.addSourceGroup(t.expand(g))}for(var _,m=Lt(r.encodings||[]);!(_=m()).done;){for(var y,p=[],k=Lt(_.value);!(y=k()).done;){var b=y.value;p.push(n.expand(b))}u.addAlternativeEncodings(p)}return u},i.clone=function(t){return"TrackInfo"===t.constructor.name?t.clone():i.expand(t)},qn=i}function _i(){if(Qn)return jn;Qn=1;var t=gi(),n=function(){function t(t){this.id=t,this.tracks=new Map}var n=t.prototype;return n.clone=function(){for(var n,i=new t(this.id),r=Lt(this.tracks.values());!(n=r()).done;){var e=n.value;i.addTrack(e.clone())}return i},n.plain=function(){for(var t,n={id:this.id,tracks:[]},i=Lt(this.tracks.values());!(t=i()).done;){var r=t.value;n.tracks.push(r.plain())}return n},n.getId=function(){return this.id},n.addTrack=function(t){this.tracks.set(t.getId(),t)},n.removeTrack=function(t){return this.tracks.delete(t.getId())},n.removeTrackById=function(t){return this.tracks.delete(t)},n.getFirstTrack=function(t){for(var n,i=Lt(this.tracks.values());!(n=i()).done;){var r=n.value;if(r.getMedia().toLowerCase()===t.toLowerCase())return r}return null},n.getTracks=function(){return this.tracks},n.removeAllTracks=function(){this.tracks.clear()},n.getTrack=function(t){return this.tracks.get(t)},t}();return n.expand=function(i){if("StreamInfo"===i.constructor.name)return i;for(var r,e=new n(i.id),s=Lt(i.tracks||[]);!(r=s()).done;){var u=r.value,o=t.expand(u);o&&e.addTrack(o)}return e},n.clone=function(t){return"StreamInfo"===t.constructor.name?t.clone():n.expand(t)},jn=n}function mi(){if(Kn)return Yn;Kn=1;var t=function(){if(St)return en;St=1;var t=cn(),n=an();return en.write=n,en.parse=t.parse,en.parseParams=t.parseParams,en.parseFmtpConfig=t.parseFmtpConfig,en.parsePayloads=t.parsePayloads,en.parseRemoteCandidates=t.parseRemoteCandidates,en.parseImageAttributes=t.parseImageAttributes,en.parseSimulcastStreamList=t.parseSimulcastStreamList,en}(),n=(It||(It=1,Et=function(t){var n=new Intl.Collator(t,{sensitivity:"base"});return function(t,i){return 0==n.compare(t,i)}}),Et)("en-US"),i=fn(),r=dn(),e=vn(),s=gn(),u=_n(),o=si(),h=vi(),c=wn(),a=ai(),f=ui(),v=di(),d=li(),l=_i(),w=gi(),g=wi(),_=ci(),m=hi(),y=oi(),p=fi(),b=function(){function r(t){this.version=t||1,this.streams=new Map,this.medias=new Array,this.candidates=new Array,this.ice=null,this.dtls=null,this.crypto=null,this.extmapAllowMixed=!0}var e=r.prototype;return e.clone=function(){for(var t,n=new r(this.version),i=Lt(this.medias);!(t=i()).done;){var e=t.value;n.addMedia(e.clone())}for(var s,u=Lt(this.streams.values());!(s=u()).done;){var o=s.value;n.addStream(o.clone())}for(var h,c=Lt(this.candidates);!(h=c()).done;){var a=h.value;n.addCandidate(a.clone())}return n.setICE(this.ice.clone()),this.dtls&&n.setDTLS(this.dtls.clone()),this.crypto&&n.setCrypto(this.crypto.clone()),n.setExtmapAllowMixed(this.extmapAllowMixed),n},e.plain=function(){for(var t,n={version:this.version,streams:[],medias:[],candidates:[]},i=Lt(this.medias);!(t=i()).done;){var r=t.value;n.medias.push(r.plain())}for(var e,s=Lt(this.streams.values());!(e=s()).done;){var u=e.value;n.streams.push(u.plain())}for(var o,h=Lt(this.candidates);!(o=h()).done;){var c=o.value;n.candidates.push(c.plain())}return this.ice&&(n.ice=this.ice.plain()),this.dtls&&(n.dtls=this.dtls.plain()),this.crypto&&(n.crypto=this.crypto.plain()),this.extmapAllowMixed||(n.extmapAllowMixedNotSupported=!this.extmapAllowMixed),n},e.unify=function(){for(var t,n=new r(this.version),i=Lt(this.medias);!(t=i()).done;){var e=t.value;n.addMedia(e.clone())}for(var s,u={audio:n.getMediasByType("audio"),video:n.getMediasByType("video")},o=Lt(this.streams.values());!(s=o()).done;){for(var h,c=s.value.clone(),a=Lt(c.getTracks().values());!(h=a()).done;){var f=h.value,v=u[f.getMedia()].pop();v||((v=this.getMedia(f.getMedia()).clone()).setId(f.getId()),n.addMedia(v)),f.setMediaId(v.getId())}n.addStream(c)}for(var d,l=Lt(this.candidates);!(d=l()).done;){var w=d.value;n.addCandidate(w.clone())}return this.ice&&n.setICE(this.ice.clone()),this.dtls&&n.setDTLS(this.dtls.clone()),this.crypto&&n.setCrypto(this.crypto.clone()),n},e.setVersion=function(t){this.version=t},e.addMedia=function(t){this.medias.push(t)},e.getMedia=function(t){for(var i in this.medias){var r=this.medias[i];if(n(r.getType(),t))return r}return null},e.getMediasByType=function(t){var i=[];for(var r in this.medias){var e=this.medias[r];n(e.getType(),t)&&i.push(e)}return i},e.getMediaById=function(t){for(var i,r=Lt(this.medias);!(i=r()).done;){var e=i.value;if(n(e.getId(),t))return e}return null},e.replaceMedia=function(t){for(var n in this.medias)if(this.medias[n].getId()==t.getId())return this.medias[n]=t,!0;return!1},e.getMedias=function(){return this.medias},e.getVersion=function(){return this.version},e.getDTLS=function(){return this.dtls},e.setDTLS=function(t){this.dtls=t},e.hasCrypto=function(){return!!this.crypto},e.getCrypto=function(){return this.crypto},e.setCrypto=function(t){this.crypto=t},e.hasICE=function(){return!!this.ice},e.getICE=function(){return this.ice},e.setICE=function(t){this.ice=t},e.addCandidate=function(t){for(var n,i=Lt(this.candidates);!(n=i()).done;)if(n.value.equals(t))return;this.candidates.push(t)},e.addCandidates=function(t){for(var n,i=Lt(t);!(n=i()).done;){var r=n.value;this.addCandidate(r)}},e.getCandidates=function(){return this.candidates},e.getStream=function(t){return this.streams.get(t)},e.getStreams=function(){return this.streams},e.getFirstStream=function(){for(var t,n=Lt(this.streams.values());!(t=n()).done;)return t.value;return null},e.addStream=function(t){this.streams.set(t.getId(),t)},e.removeStream=function(t){return this.streams.delete(t.getId())},e.removeAllStreams=function(){this.streams.clear()},e.getTracksByMediaType=function(t){for(var i,r=[],e=Lt(this.streams.values());!(i=e()).done;)for(var s,u=Lt(i.value.getTracks());!(s=u()).done;){var o=s.value,h=(o[0],o[1]);n(h.getMedia(),t)&&r.push(h)}return r},e.getTrackByMediaId=function(t){for(var n,i=Lt(this.streams.values());!(n=i()).done;)for(var r,e=Lt(n.value.getTracks());!(r=e()).done;){var s=r.value,u=(s[0],s[1]);if(u.getMediaId()==t)return u}return null},e.getStreamByMediaId=function(t){for(var n,i=Lt(this.streams.values());!(n=i()).done;)for(var r,e=n.value,s=Lt(e.getTracks());!(r=s()).done;){var u=r.value;if(u[0],u[1].getMediaId()==t)return e}return null},e.getExtmapAllowMixed=function(){return this.extmapAllowMixed},e.setExtmapAllowMixed=function(t){this.extmapAllowMixed=t},e.answer=function(t){var n=new r;t.ice&&(V(t.ice,o)?n.setICE(t.ice.clone()):n.setICE(o.expand(t.ice))),t.dtls&&(V(t.dtls,s)?n.setDTLS(t.dtls):n.setDTLS(s.expand(t.dtls))),t.crypto&&(V(t.crypto,u)?n.setCrypto(t.crypto):n.setCrypto(u.expand(t.crypto)));for(var e=0;t.candidates&&e<t.candidates.length;++e)V(t.candidates[e],i)?n.addCandidate(t.candidates[e].clone()):n.addCandidate(i.expand(t.candidates[e]));for(var h,c=Lt(this.medias);!(h=c()).done;){var a=h.value,f=t&&t.capabilities&&t.capabilities[a.getType()];n.addMedia(a.answer(f))}return n.setExtmapAllowMixed(this.extmapAllowMixed),n},e.toString=function(){var i={version:0,media:[]};i.version=0,i.origin={username:"-",sessionId:(new Date).getTime(),sessionVersion:this.version,netType:"IN",ipVer:4,address:"127.0.0.1"},i.name="semantic-sdp",i.connection={version:4,ip:"0.0.0.0"},i.timing={start:0,stop:0},this.hasICE()&&this.getICE().isLite()&&(i.icelite="ice-lite"),i.msidSemantic={semantic:"WMS",token:"*"},i.groups=[],this.extmapAllowMixed&&(i.extmapAllowMixed="extmap-allow-mixed");for(var r,e=[],s=Lt(this.medias);!(r=s()).done;){var u=r.value,o={type:u.getType(),port:9,protocol:"",fmtp:[],rtp:[],rtcpFb:[],ext:[],bandwidth:[],candidates:[],ssrcGroups:[],ssrcs:[],rids:[]};o.direction=a.toString(u.getDirection()),this.extmapAllowMixed&&(o.extmapAllowMixed="extmap-allow-mixed"),o.mid=u.getId(),e.push(u.getId()),u.hasControl()&&(o.control=u.getControl()),u.getBitrate()>0&&(o.bandwidth.push({type:"AS",limit:u.getBitrate()}),o.bandwidth.push({type:"TIAS",limit:1e3*u.getBitrate()}));for(var h,v=Lt(this.getCandidates());!(h=v()).done;){var d=h.value;o.candidates.push({foundation:d.getFoundation(),component:d.getComponentId(),transport:d.getTransport(),priority:d.getPriority(),ip:d.getAddress(),port:d.getPort(),type:d.getType(),raddr:d.getRelAddr(),rport:d.getRelPort()})}if(this.getICE()&&(o.iceUfrag=this.getICE().getUfrag(),o.icePwd=this.getICE().getPwd()),n("audio",u.getType())||n("video",u.getType())){o.rtcpMux="rtcp-mux",o.rtcpRsize="rtcp-rsize",this.getDTLS()?(o.protocol="UDP/TLS/RTP/SAVPF",o.fingerprint={type:this.getDTLS().getHash(),hash:this.getDTLS().getFingerprint()},o.setup=c.toString(this.getDTLS().getSetup())):this.getCrypto()?(o.protocol="RTP/SAVPF",o.crypto=[{id:this.getCrypto().getTag(),suite:this.getCrypto().getSuite(),config:this.getCrypto().getKeyParams()}]):o.protocol="RTP/AVP";for(var l,w=Lt(u.getCodecs().values());!(l=w()).done;){var g=l.value;n("video",u.getType())?o.rtp.push({payload:g.getType(),codec:g.getCodec().toUpperCase(),rate:9e4}):n("opus",g.getCodec())||n("multiopus",g.getCodec())?o.rtp.push({payload:g.getType(),codec:g.getCodec(),rate:48e3,encoding:g.getChannels()}):o.rtp.push({payload:g.getType(),codec:g.getCodec(),rate:8e3});for(var _,m=Lt(g.getRTCPFeedbacks());!(_=m()).done;){var y=_.value;o.rtcpFb.push({payload:g.getType(),type:y.getId(),subtype:y.getParams().join(" ")})}g.hasRTX()&&(o.rtp.push({payload:g.getRTX(),codec:"rtx",rate:9e4}),o.fmtp.push({payload:g.getRTX(),config:"apt="+g.getType()}));var p=g.getParams();if(k.keys(p).length){var b={payload:g.getType(),config:""};for(var A in p)b.config.length&&(b.config+=";"),k.hasOwnProperty.call(p,A)?b.config+=A+"="+p[A]:b.config+=A;o.fmtp.push(b)}}for(var T,S=[],E=Lt(o.rtp);!(T=E()).done;){var I=T.value;S.push(I.payload)}o.payloads=S.join(" ");for(var R,C=Lt(u.getExtensions().entries());!(R=C()).done;){var D=R.value,P=D[0],N=D[1];o.ext.push({value:P,uri:N})}for(var B,x=Lt(u.getRIDs().values());!(B=x()).done;){var O=B.value,M={id:O.getId(),direction:f.toString(O.getDirection()),params:""};O.getFormats().length&&(M.params="pt="+O.getFormats().join(","));for(var L,U=Lt(O.getParams().entries());!(L=U()).done;){var F=L.value,V=F[0],H=F[1];M.params+=(M.params.length?";":"")+V+"="+H}o.rids.push(M)}var W=u.getSimulcast();if(W){var z=1;o.simulcast={};var X=W.getSimulcastStreams(f.SEND),q=W.getSimulcastStreams(f.RECV);if(X&&X.length){for(var G,j="",Q=Lt(X);!(G=Q()).done;){for(var Y,K="",J=Lt(G.value);!(Y=J()).done;){var Z=Y.value;K+=(K.length?",":"")+(Z.isPaused()?"~":"")+Z.getId()}j+=(j.length?";":"")+K}o.simulcast["dir"+z]="send",o.simulcast["list"+z]=j,z++}if(q&&q.length){for(var $,tt="",nt=Lt(q);!($=nt()).done;){for(var it,rt="",et=Lt($.value);!(it=et()).done;){var st=it.value;rt+=(rt.length?",":"")+(st.isPaused()?"~":"")+st.getId()}tt+=(tt.length?";":"")+rt}o.simulcast["dir"+z]="recv",o.simulcast["list"+z]=tt,z++}}}else if(u.hasDataChannel()){o.protocol="UDP/DTLS/SCTP",o.payloads="webrtc-datachannel";var ut=u.getDataChannel();o.sctpPort=ut.getPort(),o.maxMessageSize=ut.getMaxMessageSize()}i.media.push(o)}for(var ot,ht=Lt(this.streams.values());!(ot=ht()).done;)for(var ct,at=ot.value,ft=Lt(at.getTracks().values());!(ct=ft()).done;){var vt=ct.value;for(var dt in i.media){var lt=i.media[dt];if(vt.getMediaId()){if(vt.getMediaId()==lt.mid){var wt=vt.getSourceGroups();for(var gt in wt){var _t=wt[gt];lt.ssrcGroups.push({semantics:_t.getSemantics(),ssrcs:_t.getSSRCs().join(" ")})}var mt=vt.getSSRCs();for(var yt in mt)lt.ssrcs.push({id:mt[yt],attribute:"cname",value:at.getId()}),lt.ssrcs.push({id:mt[yt],attribute:"msid",value:at.getId()+" "+vt.getId()});lt.msid=at.getId()+" "+vt.getId();break}}else if(n(lt.type,vt.getMedia())){var pt=vt.getSourceGroups();for(var kt in pt){var bt=pt[kt];lt.ssrcGroups.push({semantics:bt.getSemantics(),ssrcs:bt.getSSRCs().join(" ")})}var At=vt.getSSRCs();for(var Tt in At)lt.ssrcs.push({id:At[Tt],attribute:"cname",value:at.getId()}),lt.ssrcs.push({id:At[Tt],attribute:"msid",value:at.getId()+" "+vt.getId()});break}}}var St={type:"BUNDLE",mids:e.join(" ")};return i.groups.push(St),t.write(i)},e.toIceFragmentString=function(){var n={version:0,media:[],candidates:[]};this.hasICE()&&this.getICE().isLite()&&(n.icelite="ice-lite"),this.getICE()&&(n.iceUfrag=this.getICE().getUfrag(),n.icePwd=this.getICE().getPwd());for(var i,r=Lt(this.getCandidates());!(i=r()).done;){var e=i.value;n.candidates.push({foundation:e.getFoundation(),component:e.getComponentId(),transport:e.getTransport(),priority:e.getPriority(),ip:e.getAddress(),port:e.getPort(),type:e.getType(),raddr:e.getRelAddr(),rport:e.getRelPort()})}return t.write(n).slice(10)},r}();return b.create=function(t){var n,r=new b;if(t.streams)for(var e,c=Lt(t.streams);!(e=c()).done;){var a=e.value;r.addStream(l.expand(a))}t.ice&&(V(t.ice,o)?r.setICE(t.ice.clone()):r.setICE(o.expand(t.ice))),t.dtls&&(V(t.dtls,s)?r.setDTLS(t.dtls):r.setDTLS(s.expand(t.dtls))),t.crypto&&(V(t.crypto,u)?r.setCrypto(t.crypto):r.setCrypto(u.expand(t.crypto)));for(var f,v=Lt(t.candidates||[]);!(f=v()).done;){var d=f.value;V(d,i)?r.addCandidate(d.clone()):r.addCandidate(i.expand(d))}for(var w,g=96,_=1,m=0,y=Lt(k.entries(t.capabilities||{}));!(w=y()).done;){var p=w.value,A=p[0],T=p[1];if(t.unified&&null!==(n=t.streams)&&void 0!==n&&n.length)for(var S,E=Lt(r.getTracksByMediaType(A));!(S=E()).done;){for(var I,R=S.value,C=h.create(R.getMediaId(),A,T),D=Lt(C.getCodecs());!(I=D()).done;){var P=I.value,N=(P[0],P[1]);N.getType()>=96&&N.setType(g++),N.getRTX()&&N.setRTX(g++)}if(T.extensions)for(var B,x=Lt(T.extensions);!(B=x()).done;){var O=B.value;15===_&&_++,C.addExtension(_++,O)}r.addMedia(C)}else{for(var M,L=h.create(t.unified?String(m++):A,A,T),U=Lt(L.getCodecs());!(M=U()).done;){var F=M.value,H=(F[0],F[1]);H.getType()>=96&&H.setType(g++),H.getRTX()&&H.setRTX(g++)}if(T.extensions)for(var W,z=Lt(T.extensions);!(W=z()).done;){var X=W.value;15===_&&_++,L.addExtension(_++,X)}r.addMedia(L)}}return r},b.expand=function(t){if("SDPInfo"===t.constructor.name)return t;for(var n,r=new b(t.version),e=Lt(t.medias||[]);!(n=e()).done;){var c=n.value,a=h.expand(c);a&&r.addMedia(a)}for(var f,v=Lt(t.streams||[]);!(f=v()).done;){var d=f.value,w=l.expand(d);w&&r.addStream(w)}for(var g,_=Lt(t.candidates||[]);!(g=_()).done;){var m=g.value,y=i.expand(m);y&&r.addCandidate(y)}return t.ice&&r.setICE(o.expand(t.ice)),t.dtls&&r.setDTLS(s.expand(t.dtls)),t.crypto&&r.setCrypto(u.expand(t.crypto)),t.extmapAllowMixedNotSupported&&(this.extmapAllowMixed=!t.extmapAllowMixedNotSupported),r},b.clone=function(t){return"SDPInfo"===t.constructor.name?t.clone():b.expand(t)},b.process=function(t){return b.parse(t)},b.parse=function(k){var T=t.parse(k),S=new b;if(S.setVersion(T.version),T.iceUfrag&&T.icePwd){var E=String(T.iceUfrag),I=String(T.icePwd),R=new o(E,I);R.setLite("ice-lite"==T.icelite),R.setEndOfCandidates("end-of-candidates"==T.endOfCandidates),S.setICE(R)}for(var C in T.media){var D=T.media[C],P=D.type,N=D.mid?D.mid.toString():C,B=new h(N,P);if(D.iceUfrag&&D.icePwd){var x=String(D.iceUfrag),O=String(D.icePwd),M=new o(x,O);M.setLite("ice-lite"==T.icelite),M.setEndOfCandidates("end-of-candidates"==D.endOfCandidates),S.setICE(M)}for(var L=0;D.candidates&&L<D.candidates.length;++L){var U=D.candidates[L],F=new i(U.foundation,U.component,U.transport,U.priority,U.ip,U.port,U.type,U.raddr,U.rport);S.addCandidate(F)}var V=D.fingerprint||T.fingerprint;if(V){var H=V.type,W=V.hash,z=c.ACTPASS;D.setup&&(z=c.byValue(D.setup)),S.setDTLS(new s(z,H,W))}if(D.crypto){var X=D.crypto[0];S.setCrypto(new u(X.id,X.suite,X.config,X.sessionConfig))}var q=a.SENDRECV;D.direction&&(q=a.byValue(D.direction),B.setDirection(q)),D.control&&B.setControl(D.control),S.setExtmapAllowMixed("extmap-allow-mixed"==D.extmapAllowMixed||"extmap-allow-mixed"==T.extmapAllowMixed);var G=new Map;for(var j in D.rtp){var Q=D.rtp[j],Y=Q.payload,K=Q.codec;if("RED"!==K.toUpperCase()&&"ULPFEC"!==K.toUpperCase()){var J={};for(var Z in D.fmtp){var $=D.fmtp[Z];if($.payload===Y){var tt=$.config.split(";");for(var nt in tt){var it=tt[nt].split("="),rt=it[0].trim(),et=it.splice(1).join("=").trim();J[rt]=et}}}if("RTX"===K.toUpperCase())G.set(A(J.apt),Y);else{var st=new r(K,Y,J);Q.encoding>1&&st.setChannels(Q.encoding),B.addCodec(st)}}}for(var ut,ot=Lt(G.entries());!(ut=ot()).done;){var ht=ut.value,ct=B.getCodecForType(ht[0]);ct&&ct.setRTX(ht[1])}for(var at=0;D.rtcpFb&&at<D.rtcpFb.length;++at){var ft=B.getCodecForType(D.rtcpFb[at].payload);if(ft){var vt=D.rtcpFb[at].type,dt=D.rtcpFb[at].subtype?D.rtcpFb[at].subtype.split(" "):null;ft.addRTCPFeedback(new e(vt,dt))}}var lt=D.ext;for(var wt in lt){var gt=lt[wt];B.addExtension(gt.value,gt.uri)}var _t=D.rids;for(var mt in _t){var yt=_t[mt],pt=new y(yt.id,f.byValue(yt.direction)),kt=[],bt=new Map;if(yt.params){var At=t.parseParams(yt.params);for(var Tt in At)"pt"===Tt?kt=At[Tt].split(","):bt.set(Tt,At[Tt]);pt.setFormats(kt),pt.setParams(bt)}B.addRID(pt)}var St=[];if(D.simulcast){var Et=new _;if(D.simulcast.dir1)for(var It=f.byValue(D.simulcast.dir1),Rt=t.parseSimulcastStreamList(D.simulcast.list1),Ct=0;Ct<Rt.length;++Ct){for(var Dt=[],Pt=0;Pt<Rt[Ct].length;++Pt)Dt.push(new m(Rt[Ct][Pt].scid,Rt[Ct][Pt].paused));Et.addSimulcastAlternativeStreams(It,Dt)}if(D.simulcast.dir2)for(var Nt=f.byValue(D.simulcast.dir2),Bt=t.parseSimulcastStreamList(D.simulcast.list2),xt=0;xt<Bt.length;++xt){for(var Ot=[],Mt=0;Mt<Bt[xt].length;++Mt)Ot.push(new m(Bt[xt][Mt].scid,Bt[xt][Mt].paused));Et.addSimulcastAlternativeStreams(Nt,Ot)}for(var Ut,Ft=Lt(Et.getSimulcastStreams(f.SEND));!(Ut=Ft()).done;){for(var Vt=Ut.value,Ht=[],Wt=0;Wt<Vt.length;Wt++){var zt=new g(Vt[Wt].getId(),Vt[Wt].isPaused()),Xt=B.getRID(zt.getId());if(Xt){for(var qt=Xt.getFormats(),Gt=0;qt&&Gt<qt.length;++Gt){var jt=B.getCodecForType(qt[Gt]);jt&&zt.addCodec(jt)}zt.setParams(Xt.getParams()),Ht.push(zt)}}Ht.length&&St.push(Ht)}B.setSimulcast(Et)}var Qt=new Map;if(D.ssrcs)for(var Yt in D.ssrcs){var Kt=D.ssrcs[Yt],Jt=Kt.id,Zt=Kt.attribute,$t=Kt.value,tn=Qt.get(Jt);if(tn||(tn=new d(Jt),Qt.set(tn.getSSRC(),tn)),n("cname",Zt))tn.setCName($t);else if(n("msid",Zt)){var nn=$t.split(" "),rn=nn[0],en=nn[1];tn.setStreamId(rn),tn.setTrackId(en);var sn=S.getStream(rn);sn||(sn=new l(rn),S.addStream(sn));var un=sn.getTrack(en);un||((un=new w(P,en)).setMediaId(N),un.setEncodings(St),sn.addTrack(un)),un.addSSRC(Jt)}}if(D.msid){var on=D.msid.split(" "),hn=on[0],cn=on[1],an=S.getStream(hn);an||(an=new l(hn),S.addStream(an));var fn=an.getTrack(cn);fn||((fn=new w(P,cn)).setMediaId(N),fn.setEncodings(St),an.addTrack(fn));for(var vn,dn=Lt(Qt.entries());!(vn=dn()).done;){var ln=vn.value,wn=ln[0],gn=ln[1];gn.getStreamId()||(gn.setStreamId(hn),gn.setTrackId(cn),fn.addSSRC(wn))}}for(var _n,mn=Lt(Qt.entries());!(_n=mn()).done;){var yn=_n.value,pn=yn[0],kn=yn[1];if(!kn.getStreamId()){var bn=kn.getCName(),An=N;kn.setStreamId(bn),kn.setTrackId(An);var Tn=S.getStream(bn);Tn||(Tn=new l(bn),S.addStream(Tn));var Sn=Tn.getTrack(An);Sn||((Sn=new w(P,An)).setMediaId(N),Sn.setEncodings(St),Tn.addTrack(Sn)),Sn.addSSRC(pn)}}if(D.ssrcGroups)for(var En in D.ssrcGroups){var In=D.ssrcGroups[En],Rn=In.ssrcs.split(" "),Cn=new v(In.semantics,Rn),Dn=Qt.get(A(Rn[0]));Dn&&S.getStream(Dn.getStreamId()).getTrack(Dn.getTrackId()).addSourceGroup(Cn)}if("application"==D.type&&"webrtc-datachannel"==D.payloads){var Pn=new p(D.sctpPort,D.maxMessageSize);B.setDataChannel(Pn)}S.addMedia(B)}return S},Yn=b}var yi,pi=(Jn||(Jn=1,k.defineProperty(rn,"__esModule",{value:!0}),rn.SDPInfo=mi(),rn.CandidateInfo=fn(),rn.CodecInfo=dn(),rn.DTLSInfo=gn(),rn.CryptoInfo=_n(),rn.ICEInfo=si(),rn.MediaInfo=vi(),rn.Setup=wn(),rn.SourceGroupInfo=di(),rn.SourceInfo=li(),rn.StreamInfo=_i(),rn.TrackInfo=gi(),rn.RTCPFeedbackInfo=vn(),rn.TrackEncodingInfo=wi(),rn.RIDInfo=oi(),rn.SimulcastInfo=ci(),rn.SimulcastStreamInfo=hi(),rn.DataChannelInfo=fi(),rn.Direction=ai()),rn),ki={exports:{}},bi=ki.exports,Ai=(yi||(yi=1,function(t,n){!function(i,r){var e="function",s="undefined",u="object",o="string",h="major",c="model",a="name",f="type",v="vendor",d="version",l="architecture",w="console",g="mobile",_="tablet",m="smarttv",y="wearable",p="embedded",k="Amazon",b="Apple",A="ASUS",T="BlackBerry",S="Browser",E="Chrome",I="Firefox",R="Google",C="Huawei",D="LG",P="Microsoft",N="Motorola",B="Opera",x="Samsung",O="Sharp",M="Sony",L="Xiaomi",U="Zebra",F="Facebook",H="Chromium OS",z="Mac OS",X=" Browser",q=function(t){for(var n={},i=0;i<t.length;i++)n[t[i].toUpperCase()]=t[i];return n},G=function(t,n){return(void 0===t?"undefined":W(t))===o&&-1!==j(n).indexOf(j(t))},j=function(t){return t.toLowerCase()},Q=function(t,n){if((void 0===t?"undefined":W(t))===o)return t=t.replace(/^\s\s*/,""),(void 0===n?"undefined":W(n))===s?t:t.substring(0,500)},Y=function(t,n){for(var i,s,o,h,c,a,f=0;f<n.length&&!c;){var v=n[f],d=n[f+1];for(i=s=0;i<v.length&&!c&&v[i];)if(c=v[i++].exec(t))for(o=0;o<d.length;o++)a=c[++s],(void 0===(h=d[o])?"undefined":W(h))===u&&h.length>0?2===h.length?W(h[1])==e?this[h[0]]=h[1].call(this,a):this[h[0]]=h[1]:3===h.length?W(h[1])!==e||h[1].exec&&h[1].test?this[h[0]]=a?a.replace(h[1],h[2]):r:this[h[0]]=a?h[1].call(this,a,h[2]):r:4===h.length&&(this[h[0]]=a?h[3].call(this,a.replace(h[1],h[2])):r):this[h]=a||r;f+=2}},K=function(t,n){for(var i in n)if(W(n[i])===u&&n[i].length>0){for(var e=0;e<n[i].length;e++)if(G(n[i][e],t))return"?"===i?r:i}else if(G(n[i],t))return"?"===i?r:i;return n.hasOwnProperty("*")?n["*"]:t},J={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Z={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[d,[a,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[d,[a,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[a,d],[/opios[\/ ]+([\w\.]+)/i],[d,[a,B+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[d,[a,B+" GX"]],[/\bopr\/([\w\.]+)/i],[d,[a,B]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[d,[a,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[a,d],[/quark(?:pc)?\/([-\w\.]+)/i],[d,[a,"Quark"]],[/\bddg\/([\w\.]+)/i],[d,[a,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[d,[a,"UC"+S]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[d,[a,"WeChat"]],[/konqueror\/([\w\.]+)/i],[d,[a,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[d,[a,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[d,[a,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[d,[a,"Smart Lenovo "+S]],[/(avast|avg)\/([\w\.]+)/i],[[a,/(.+)/,"$1 Secure "+S],d],[/\bfocus\/([\w\.]+)/i],[d,[a,I+" Focus"]],[/\bopt\/([\w\.]+)/i],[d,[a,B+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[d,[a,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[d,[a,"Dolphin"]],[/coast\/([\w\.]+)/i],[d,[a,B+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[d,[a,"MIUI "+S]],[/fxios\/([-\w\.]+)/i],[d,[a,I]],[/\bqihu|(qi?ho?o?|360)browser/i],[[a,"360"+X]],[/\b(qq)\/([\w\.]+)/i],[[a,/(.+)/,"$1Browser"],d],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[a,/(.+)/,"$1"+X],d],[/samsungbrowser\/([\w\.]+)/i],[d,[a,x+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[a,/_/g," "],d],[/metasr[\/ ]?([\d\.]+)/i],[d,[a,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[a,"Sogou Mobile"],d],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[a,d],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[a],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[a,F],d],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[a,d],[/\bgsa\/([\w\.]+) .*safari\//i],[d,[a,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[d,[a,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[d,[a,E+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[a,E+" WebView"],d],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[d,[a,"Android "+S]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[a,d],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[d,[a,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[d,a],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[a,[d,K,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[a,d],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[a,"Netscape"],d],[/(wolvic)\/([\w\.]+)/i],[a,d],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[d,[a,I+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[a,[d,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[a,[d,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[l,"amd64"]],[/(ia32(?=;))/i],[[l,j]],[/((?:i[346]|x)86)[;\)]/i],[[l,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[l,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[l,"armhf"]],[/windows (ce|mobile); ppc;/i],[[l,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[l,/ower/,"",j]],[/(sun4\w)[;\)]/i],[[l,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[l,j]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[c,[v,x],[f,_]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[c,[v,x],[f,g]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[c,[v,b],[f,g]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[c,[v,b],[f,_]],[/(macintosh);/i],[c,[v,b]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[c,[v,O],[f,g]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[c,[v,C],[f,_]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[c,[v,C],[f,g]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[c,/_/g," "],[v,L],[f,g]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[c,/_/g," "],[v,L],[f,_]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[c,[v,"OPPO"],[f,g]],[/\b(opd2\d{3}a?) bui/i],[c,[v,"OPPO"],[f,_]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[c,[v,"Vivo"],[f,g]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[c,[v,"Realme"],[f,g]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[c,[v,N],[f,g]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[c,[v,N],[f,_]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[c,[v,D],[f,_]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[c,[v,D],[f,g]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[c,[v,"Lenovo"],[f,_]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[c,/_/g," "],[v,"Nokia"],[f,g]],[/(pixel c)\b/i],[c,[v,R],[f,_]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[c,[v,R],[f,g]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[c,[v,M],[f,g]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[c,"Xperia Tablet"],[v,M],[f,_]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[c,[v,"OnePlus"],[f,g]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[c,[v,k],[f,_]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[c,/(.+)/g,"Fire Phone $1"],[v,k],[f,g]],[/(playbook);[-\w\),; ]+(rim)/i],[c,v,[f,_]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[c,[v,T],[f,g]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[c,[v,A],[f,_]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[c,[v,A],[f,g]],[/(nexus 9)/i],[c,[v,"HTC"],[f,_]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[v,[c,/_/g," "],[f,g]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[c,[v,"TCL"],[f,_]],[/(itel) ((\w+))/i],[[v,j],c,[f,K,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[c,[v,"Acer"],[f,_]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[c,[v,"Meizu"],[f,g]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[c,[v,"Ulefone"],[f,g]],[/droid.+; (a(?:015|06[35]|142p?))/i],[c,[v,"Nothing"],[f,g]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[v,c,[f,g]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[v,c,[f,_]],[/(surface duo)/i],[c,[v,P],[f,_]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[c,[v,"Fairphone"],[f,g]],[/(u304aa)/i],[c,[v,"AT&T"],[f,g]],[/\bsie-(\w*)/i],[c,[v,"Siemens"],[f,g]],[/\b(rct\w+) b/i],[c,[v,"RCA"],[f,_]],[/\b(venue[\d ]{2,7}) b/i],[c,[v,"Dell"],[f,_]],[/\b(q(?:mv|ta)\w+) b/i],[c,[v,"Verizon"],[f,_]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[c,[v,"Barnes & Noble"],[f,_]],[/\b(tm\d{3}\w+) b/i],[c,[v,"NuVision"],[f,_]],[/\b(k88) b/i],[c,[v,"ZTE"],[f,_]],[/\b(nx\d{3}j) b/i],[c,[v,"ZTE"],[f,g]],[/\b(gen\d{3}) b.+49h/i],[c,[v,"Swiss"],[f,g]],[/\b(zur\d{3}) b/i],[c,[v,"Swiss"],[f,_]],[/\b((zeki)?tb.*\b) b/i],[c,[v,"Zeki"],[f,_]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[v,"Dragon Touch"],c,[f,_]],[/\b(ns-?\w{0,9}) b/i],[c,[v,"Insignia"],[f,_]],[/\b((nxa|next)-?\w{0,9}) b/i],[c,[v,"NextBook"],[f,_]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[v,"Voice"],c,[f,g]],[/\b(lvtel\-)?(v1[12]) b/i],[[v,"LvTel"],c,[f,g]],[/\b(ph-1) /i],[c,[v,"Essential"],[f,g]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[c,[v,"Envizen"],[f,_]],[/\b(trio[-\w\. ]+) b/i],[c,[v,"MachSpeed"],[f,_]],[/\btu_(1491) b/i],[c,[v,"Rotor"],[f,_]],[/(shield[\w ]+) b/i],[c,[v,"Nvidia"],[f,_]],[/(sprint) (\w+)/i],[v,c,[f,g]],[/(kin\.[onetw]{3})/i],[[c,/\./g," "],[v,P],[f,g]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[c,[v,U],[f,_]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[c,[v,U],[f,g]],[/smart-tv.+(samsung)/i],[v,[f,m]],[/hbbtv.+maple;(\d+)/i],[[c,/^/,"SmartTV"],[v,x],[f,m]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[v,D],[f,m]],[/(apple) ?tv/i],[v,[c,b+" TV"],[f,m]],[/crkey/i],[[c,E+"cast"],[v,R],[f,m]],[/droid.+aft(\w+)( bui|\))/i],[c,[v,k],[f,m]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[c,[v,O],[f,m]],[/(bravia[\w ]+)( bui|\))/i],[c,[v,M],[f,m]],[/(mitv-\w{5}) bui/i],[c,[v,L],[f,m]],[/Hbbtv.*(technisat) (.*);/i],[v,c,[f,m]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[v,Q],[c,Q],[f,m]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[f,m]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[v,c,[f,w]],[/droid.+; (shield) bui/i],[c,[v,"Nvidia"],[f,w]],[/(playstation [345portablevi]+)/i],[c,[v,M],[f,w]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[c,[v,P],[f,w]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[c,[v,x],[f,y]],[/((pebble))app/i],[v,c,[f,y]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[c,[v,b],[f,y]],[/droid.+; (glass) \d/i],[c,[v,R],[f,y]],[/droid.+; (wt63?0{2,3})\)/i],[c,[v,U],[f,y]],[/(quest( \d| pro)?)/i],[c,[v,F],[f,y]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[v,[f,p]],[/(aeobc)\b/i],[c,[v,k],[f,p]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[c,[f,g]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[c,[f,_]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[f,_]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[f,g]],[/(android[-\w\. ]{0,9});.+buil/i],[c,[v,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[d,[a,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[d,[a,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[a,d],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[d,a]],os:[[/microsoft (windows) (vista|xp)/i],[a,d],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[a,[d,K,J]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[d,K,J],[a,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[d,/_/g,"."],[a,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[a,z],[d,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[d,a],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[a,d],[/\(bb(10);/i],[d,[a,T]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[d,[a,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[d,[a,I+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[d,[a,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[d,[a,"watchOS"]],[/crkey\/([\d\.]+)/i],[d,[a,E+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[a,H],d],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[a,d],[/(sunos) ?([\w\.\d]*)/i],[[a,"Solaris"],d],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[a,d]]},$=function(t,n){if((void 0===t?"undefined":W(t))===u&&(n=t,t=r),!V(this,$))return new $(t,n).getResult();var w=(void 0===i?"undefined":W(i))!==s&&i.navigator?i.navigator:r,m=t||(w&&w.userAgent?w.userAgent:""),y=w&&w.userAgentData?w.userAgentData:r,p=n?function(t,n){var i={};for(var r in t)n[r]&&n[r].length%2==0?i[r]=n[r].concat(t[r]):i[r]=t[r];return i}(Z,n):Z,k=w&&w.userAgent==m;return this.getBrowser=function(){var t={};return t[a]=r,t[d]=r,Y.call(t,m,p.browser),t[h]=function(t){return(void 0===t?"undefined":W(t))===o?t.replace(/[^\d\.]/g,"").split(".")[0]:r}(t[d]),k&&w&&w.brave&&W(w.brave.isBrave)==e&&(t[a]="Brave"),t},this.getCPU=function(){var t={};return t[l]=r,Y.call(t,m,p.cpu),t},this.getDevice=function(){var t={};return t[v]=r,t[c]=r,t[f]=r,Y.call(t,m,p.device),k&&!t[f]&&y&&y.mobile&&(t[f]=g),k&&"Macintosh"==t[c]&&w&&W(w.standalone)!==s&&w.maxTouchPoints&&w.maxTouchPoints>2&&(t[c]="iPad",t[f]=_),t},this.getEngine=function(){var t={};return t[a]=r,t[d]=r,Y.call(t,m,p.engine),t},this.getOS=function(){var t={};return t[a]=r,t[d]=r,Y.call(t,m,p.os),k&&!t[a]&&y&&y.platform&&"Unknown"!=y.platform&&(t[a]=y.platform.replace(/chrome os/i,H).replace(/macos/i,z)),t},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return m},this.setUA=function(t){return m=(void 0===t?"undefined":W(t))===o&&t.length>500?Q(t,500):t,this},this.setUA(m),this};$.VERSION="0.7.39",$.BROWSER=q([a,d,h]),$.CPU=q([l]),$.DEVICE=q([c,v,f,w,g,m,_,y,p]),$.ENGINE=$.OS=q([a,d]),t.exports&&(n=t.exports=$),n.UAParser=$;var tt=(void 0===i?"undefined":W(i))!==s&&(i.jQuery||i.Zepto);if(tt&&!tt.ua){var nt=new $;tt.ua=nt.getResult(),tt.ua.get=function(){return nt.getUA()},tt.ua.set=function(t){nt.setUA(t);var n=nt.getResult();for(var i in n)tt.ua[i]=n[i]}}}("object"==(void 0===f?"undefined":W(f))?f:bi)}(ki,ki.exports)),ki.exports),Ti=C(Ai),Si=["iOS"],Ei=function(t){function n(){return t.call(this,f.navigator.userAgent)||this}Ct(n,t);var i=n.prototype;return i.isChromium=function(){return this.getUA().match(/Chrome/i)},i.isChrome=function(){var t=this.getBrowser();if(!t.name)return!1;var n,i=this.getOS();return n=!new RegExp(Si.join("|"),"i").test(i.name),t.name.match(/Chrome/i)&&n},i.isFirefox=function(){var t=this.getBrowser();return!!t.name&&t.name.match(/Firefox/i)},i.isOpera=function(){var t=this.getBrowser();return!!t.name&&t.name.match(/Opera/i)},i.isSafari=function(){var t=this.getBrowser();return!!t.name&&t.name.match(/Safari/i)},n}(Ti),Ii=gt.get("SdpParser"),Ri=Array.from({length:31},function(t,n){return n+35}),Ci=Array.from({length:32},function(t,n){return n+96}),Di=Array.from({length:14},function(t,n){return n+1}),Pi=Array.from({length:240},function(t,n){return n+16}),Ni={setSimulcast:function(t,n){if(Ii.info("Setting simulcast. Codec: ",n),!(new Ei).isChromium())return Ii.warn("Your browser does not appear to support Simulcast. For a better experience, use a Chromium based browser."),t;if("h264"!==n&&"vp8"!==n)return Ii.warn("Your selected codec ".concat(n," does not appear to support Simulcast.  To broadcast using simulcast, please use H.264 or VP8.")),t;if(!/m=video/.test(t))return Ii.warn("There is no available video for simulcast to be enabled."),t;try{for(var i=new RegExp("m=video.*?a=ssrc:(\\d*) cname:(.+?)\\r\\n","s"),r=new RegExp("m=video.*?a=ssrc:(\\d*) msid:(.+?)\\r\\n","s"),e=i.exec(t),s=e[1],u=e[2],o=r.exec(t)[2],h=[s],c=0;c<2;++c){var a=100+2*c,f=a+1;h.push(a),t+="a=ssrc-group:FID "+a+" "+f+"\r\na=ssrc:"+a+" cname:"+u+"\r\na=ssrc:"+a+" msid:"+o+"\r\na=ssrc:"+f+" cname:"+u+"\r\na=ssrc:"+f+" msid:"+o+"\r\n"}return t+="a=ssrc-group:SIM "+h.join(" ")+"\r\n",Ii.info("Simulcast setted"),Ii.debug("Simulcast SDP: ",t),t}catch(t){throw Ii.error("Error setting SDP for simulcast: ",t),t}},setStereo:function(t){return Ii.info("Replacing SDP response for support stereo"),t=t.replace(/useinbandfec=1/g,"useinbandfec=1; stereo=1"),Ii.info("Replaced SDP response for support stereo"),Ii.debug("New SDP value: ",t),t},setDTX:function(t){return Ii.info("Replacing SDP response for support dtx"),t=t.replace("useinbandfec=1","useinbandfec=1; usedtx=1"),Ii.info("Replaced SDP response for support dtx"),Ii.debug("New SDP value: ",t),t},setAbsoluteCaptureTime:function(t){var n="a=extmap:"+Ni.getAvailableHeaderExtensionIdRange(t)[0]+" http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time\r\n";return t=t.replace(/(m=.*\r\n(?:.*\r\n)*?)(a=extmap.*\r\n)/gm,function(t,i,r){return i+n+r}),Ii.info("Replaced SDP response for setting absolute capture time"),Ii.debug("New SDP value: ",t),t},setDependencyDescriptor:function(t){var n="a=extmap:"+Ni.getAvailableHeaderExtensionIdRange(t)[0]+" https://aomediacodec.github.io/av1-rtp-spec/#dependency-descriptor-rtp-header-extension\r\n";return t=t.replace(/(m=.*\r\n(?:.*\r\n)*?)(a=extmap.*\r\n)/gm,function(t,i,r){return i+n+r}),Ii.info("Replaced SDP response for setting depency descriptor"),Ii.debug("New SDP value: ",t),t},setVideoBitrate:function(t,n){if(n<1)Ii.info("Remove bitrate restrictions"),t=t.replace(/b=AS:.*\r\n/,"").replace(/b=TIAS:.*\r\n/,"");else{var i=pi.SDPInfo.parse(t),r=i.getMedia("video");Ii.info("Setting video bitrate"),r.setBitrate(n),t=i.toString()}return t},removeSdpLine:function(t,n){return Ii.debug("SDP before trimming: ",t),t=t.split("\n").filter(function(t){return t.trim()!==n}).join("\n"),Ii.debug("SDP trimmed result: ",t),t},adaptCodecName:function(t,n,i){if(!t)return t;var r=new RegExp("".concat(n),"i");return t.replace(r,i)},setMultiopus:function(t,n){if(!(new Ei).isFirefox()&&(!n||Bi(n)))if(t.includes("multiopus/48000/6"))Ii.info("Multiopus already setted");else{Ii.info("Setting multiopus");var i=/m=audio 9 UDP\/TLS\/RTP\/SAVPF (.*)\r\n/.exec(t)[0],r=Ni.getAvailablePayloadTypeRange(t)[0],e=i.replace("\r\n"," ")+r+"\r\na=rtpmap:"+r+" multiopus/48000/6\r\na=fmtp:"+r+" channel_mapping=0,4,1,2,3,5;coupled_streams=2;minptime=10;num_streams=4;useinbandfec=1\r\n";t=t.replace(i,e),Ii.info("Multiopus offer created"),Ii.debug("SDP parsed for multioups: ",t)}return t},getAvailablePayloadTypeRange:function(t){for(var n,i=function(){var t=n.value[1].split(" ").map(function(t){return A(t)});e=e.filter(function(n){return!t.includes(n)})},r=t.matchAll(/m=(?:.*) (?:.*) UDP\/TLS\/RTP\/SAVPF (.*)\r\n/gm),e=Ci.concat(Ri),s=Lt(r);!(n=s()).done;)i();return e},getAvailableHeaderExtensionIdRange:function(t){for(var n,i=function(){var t=n.value[1].split(" ").map(function(t){return A(t)});e=e.filter(function(n){return!t.includes(n)})},r=t.matchAll(/a=extmap:(\d+)(?:.*)\r\n/gm),e=Di.concat(Pi),s=Lt(r);!(n=s()).done;)i();return e},renegotiate:function(t,n){for(var i,r=pi.SDPInfo.parse(t),e=pi.SDPInfo.parse(n),s=Lt(r.getMedias());!(i=s()).done;){var u=i.value,o=e.getMediaById(u.getId());if(!o){(o=new pi.MediaInfo(u.getId(),u.getType())).setDirection(pi.Direction.reverse(u.getDirection()));var h=e.getMedia(u.getType());if(h){o.setCodecs(h.getCodecs());for(var c,a=Lt(h.getExtensions());!(c=a()).done;){var f=c.value,v=f[0],d=f[1];o.addExtension(v,d)}}e.addMedia(o)}}return e.toString()},updateMissingVideoExtensions:function(t,n){var i,r=pi.SDPInfo.parse(t),e=null==(i=pi.SDPInfo.parse(n).getMediasByType("video")[0])?void 0:i.getExtensions();if(e||e.length){for(var s,u=function(){var n=s.value,i=n.getExtensions();e.forEach(function(r,e){if(!i.get(e)){var s=n.getId(),u="a=extmap:"+e+" "+r+"\r\n",o=new RegExp("(a=mid:"+s+"\r\n(?:.*\r\n)*?)","g");t=t.replace(o,function(t,n,i){return n+u})}})},o=Lt(r.getMediasByType("video"));!(s=o()).done;)u();return t}},getCodecPayloadType:function(t){for(var n,i={},r=Lt(t.matchAll(/a=rtpmap:(\d+) (\w+)\/\d+/g));!(n=r()).done;){var e=n.value;i[e[1]]=e[2]}return i}},Bi=function(t){return t.getAudioTracks().some(function(t){return t.getSettings().channelCount>2})},xi={VP8:"vp8",VP9:"vp9",H264:"h264",AV1:"av1",H265:"h265"},Oi={OPUS:"opus",MULTIOPUS:"multiopus"},Mi=gt.get("PeerConnection"),Li="Publisher",Ui="Viewer",Fi={track:"track",connectionStateChange:"connectionStateChange"},Vi={stereo:!1,mediaStream:null,codec:"h264",simulcast:!1,scalabilityMode:null,disableAudio:!1,disableVideo:!1,setSDPToPeer:!0},Hi=function(t){function n(){var n;return(n=t.call(this)||this).mode=null,n.sessionDescription=null,n.peer=null,n.peerConnectionStats=null,n.transceiverMap=new Map,n}Ct(n,t);var i=n.prototype;return i.createRTCPeer=function(){return Vt(function(t,n){return zt(this,function(i){return void 0===t&&(t={autoInitStats:!0,statsIntervalMs:1e3}),void 0===n&&(n=Ui),Mi.info("Creating new RTCPeerConnection"),Mi.debug("RTC configuration provided by user: ",t),this.peer=Xi(this,t),this.mode=n,t.autoInitStats&&this.initStats(t),[2]})}).apply(this,arguments)},i.getRTCPeer=function(){return Mi.info("Getting RTC Peer"),this.peer},i.closeRTCPeer=function(){return Vt(function(){var t;return zt(this,function(n){return Mi.info("Closing RTCPeerConnection"),null==(t=this.peer)||t.close(),this.peer=null,this.stopStats(),this.emit(Fi.connectionStateChange,"closed"),[2]})}).call(this)},i.setRTCRemoteSDP=function(t){return Vt(function(){var n,i;return zt(this,function(r){switch(r.label){case 0:Mi.info("Setting RTC Remote SDP"),n={type:"answer",sdp:t},r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.peer.setRemoteDescription(n)];case 2:return r.sent(),Mi.info("RTC Remote SDP was set successfully."),Mi.debug("RTC Remote SDP new value: ",t),[3,4];case 3:throw i=r.sent(),Mi.error("Error while setting RTC Remote SDP: ",i),i;case 4:return[2]}})}).call(this)},i.getRTCLocalSDP=function(){return Vt(function(t){var n,i;return zt(this,function(r){switch(r.label){case 0:return void 0===t&&(t=Vi),Mi.info("Getting RTC Local SDP"),t=d(d({},Vi),t),Mi.debug("Options: ",t),(n=zi(t.mediaStream))?Ki(this.peer,n,t):Ji(this.peer,t),Mi.info("Creating peer offer"),[4,this.peer.createOffer()];case 1:return i=r.sent(),Mi.info("Peer offer created"),Mi.debug("Peer offer response: ",i.sdp),this.sessionDescription=i,t.disableAudio||(t.stereo&&(this.sessionDescription.sdp=Ni.setStereo(this.sessionDescription.sdp)),t.dtx&&(this.sessionDescription.sdp=Ni.setDTX(this.sessionDescription.sdp)),this.sessionDescription.sdp=Ni.setMultiopus(this.sessionDescription.sdp,n)),!t.disableVideo&&t.simulcast&&(this.sessionDescription.sdp=Ni.setSimulcast(this.sessionDescription.sdp,t.codec)),t.absCaptureTime&&(this.sessionDescription.sdp=Ni.setAbsoluteCaptureTime(this.sessionDescription.sdp)),t.dependencyDescriptor&&(this.sessionDescription.sdp=Ni.setDependencyDescriptor(this.sessionDescription.sdp)),t.setSDPToPeer?[4,this.peer.setLocalDescription(this.sessionDescription)]:[3,3];case 2:r.sent(),Mi.info("Peer local description set"),r.label=3;case 3:return[2,this.sessionDescription.sdp]}})}).apply(this,arguments)},i.addRemoteTrack=function(t,n){return Vt(function(){var i;return zt(this,function(r){return i=this,[2,new ut(function(r,e){try{var s=i.peer.addTransceiver(t,{direction:"recvonly",streams:n});i.transceiverMap.set(s,r)}catch(t){e(t)}})]})}).call(this)},i.updateBandwidthRestriction=function(t,n){if(this.mode===Ui)throw Mi.error("Viewer attempting to update bitrate, this is not allowed"),new y("It is not possible for a viewer to update the bitrate.");return Mi.info("Updating bandwidth restriction, bitrate value: ",n),Mi.debug("SDP value: ",t),Ni.setVideoBitrate(t,n)},i.updateBitrate=function(t){return void 0===t&&(t=0),Vt(function(){var n,i;return zt(this,function(r){switch(r.label){case 0:if(this.mode===Ui)throw Mi.error("Viewer attempting to update bitrate, this is not allowed"),new y("It is not possible for a viewer to update the bitrate.");if(!this.peer)throw Mi.error("Cannot update bitrate. No peer found."),new y("Cannot update bitrate. No peer found.");return Mi.info("Updating bitrate to value: ",t),n=this,[4,this.peer.createOffer()];case 1:return n.sessionDescription=r.sent(),[4,this.peer.setLocalDescription(this.sessionDescription)];case 2:return r.sent(),i=this.updateBandwidthRestriction(this.peer.remoteDescription.sdp,t),[4,this.setRTCRemoteSDP(i)];case 3:return r.sent(),Mi.info("Bitrate restrictions updated: ","".concat(t>0?t:"unlimited"," kbps")),[2]}})}).call(this)},i.getRTCPeerStatus=function(){if(Mi.info("Getting RTC peer status"),!this.peer)return null;var t=Zi(this.peer);return Mi.info("RTC peer status getted, value: ",t),t},i.replaceTrack=function(t){if(this.peer){var n=this.peer.getSenders().find(function(n){return n.track.kind===t.kind});n?n.replaceTrack(t):Mi.error("There is no ".concat(t.kind," track in active broadcast."))}else Mi.error("Could not change track if there is not an active connection.")},i.getTracks=function(){var t,n;return null==(n=null==(t=this.peer)?void 0:t.getSenders())?void 0:n.map(function(t){return t.track})},i.initStats=function(t){this.peerConnectionStats?Mi.warn("PeerConnection.initStats() has already been called. Automatic initialization occurs via View.connect(), Publish.connect() or this.createRTCPeer(). See options"):this.peer?(this.peerConnectionStats=new nn(this.peer,t),Kt(this.peerConnectionStats,this,[tn])):Mi.warn("Cannot init peer stats: RTCPeerConnection not initialized")},i.stopStats=function(){var t;null==(t=this.peerConnectionStats)||t.stop(),this.peerConnectionStats=null},n.getCapabilities=function(t){var n=new Ei,i=RTCRtpSender.getCapabilities(t);if(i){var r={},e=new RegExp("^video/(".concat(k.values(xi).join("|"),")x?$"),"i");"audio"===t&&(e=new RegExp("^audio/(".concat(k.values(Oi).join("|"),")$"),"i"),n.isChrome()&&(r.multiopus={mimeType:"audio/multiopus",channels:6}));for(var s,u=Lt(i.codecs);!(s=u()).done;){var o=s.value,h=o.mimeType.match(e);if(h){var c=h[1].toLowerCase();if(r[c]=g(d({},r[c]),{mimeType:o.mimeType}),o.scalabilityModes){var a=r[c].scalabilityModes||[];a=[].concat(a,o.scalabilityModes),r[c].scalabilityModes=[].concat(new Set(a))}o.channels&&(r[c].channels=o.channels)}}i.codecs=k.keys(r).map(function(t){return d({codec:t},r[t])})}return i},n}(jt),Wi=function(t){return(null==t?void 0:t.getAudioTracks().length)<=1&&(null==t?void 0:t.getVideoTracks().length)<=1},zi=function(t){if(!t)return null;if(V(t,MediaStream)&&Wi(t))return t;if(!V(t,MediaStream)){Mi.info("Creating MediaStream to add received tracks.");for(var n,i=new MediaStream,r=Lt(t);!(n=r()).done;){var e=n.value;i.addTrack(e)}if(Wi(i))return i}throw Mi.error("MediaStream must have 1 audio track and 1 video track, or at least one of them."),new y("MediaStream must have 1 audio track and 1 video track, or at least one of them.")},Xi=function(t,n){var i=new RTCPeerConnection(n);return Yi(t,i),i};function qi(t){return Vt(function(){return zt(this,function(n){return[2,new ut(function(n){return w(n,t)})]})})()}var Gi,ji,Qi,Yi=function(t,n){n.ontrack=function(n){return Vt(function(){var i;return zt(this,function(r){switch(r.label){case 0:if(Mi.info("New track from peer."),Mi.debug("Track event value: ",n),!(i=t.transceiverMap.get(n.transceiver)))return[3,5];r.label=1;case 1:return n.transceiver.mid?[3,4]:[4,qi(100)];case 2:r.sent(),r.label=3;case 3:return[3,1];case 4:i(n.transceiver),t.transceiverMap.delete(n.transceiver),r.label=5;case 5:return w(function(){t.emit(Fi.track,n)},0),[2]}})})()},n.connectionState?n.onconnectionstatechange=function(i){Mi.info("Peer connection state change: ",n.connectionState),t.emit(Fi.connectionStateChange,n.connectionState)}:n.oniceconnectionstatechange=function(i){Mi.info("Peer ICE connection state change: ",n.iceConnectionState),t.emit(Fi.connectionStateChange,n.iceConnectionState)},n.onnegotiationneeded=function(t){return Vt(function(){var t,i;return zt(this,function(r){switch(r.label){case 0:return n.remoteDescription?(Mi.info("Peer onnegotiationneeded, updating local description"),[4,n.createOffer()]):[2];case 1:return t=r.sent(),Mi.info("Peer onnegotiationneeded, got local offer",t.sdp),t.sdp=Ni.updateMissingVideoExtensions(t.sdp,n.remoteDescription.sdp),[4,n.setLocalDescription(t)];case 2:return r.sent(),i=Ni.renegotiate(t.sdp,n.remoteDescription.sdp),Mi.info("Peer onnegotiationneeded, updating remote description",i),[4,n.setRemoteDescription({type:"answer",sdp:i})];case 3:return r.sent(),Mi.info("Peer onnegotiationneeded, renegotiation done"),[2]}})})()}},Ki=function(t,n,i){Mi.info("Adding mediaStream tracks to RTCPeerConnection");for(var r,e=Lt(n.getTracks());!(r=e()).done;){var s=r.value,u={streams:[n]};"audio"===s.kind&&(u.direction=i.disableAudio?"inactive":"sendonly"),"video"===s.kind&&(u.direction=i.disableVideo?"inactive":"sendonly",i.scalabilityMode&&(new Ei).isChrome()?(Mi.debug("Video track with scalability mode: ".concat(i.scalabilityMode,".")),u.sendEncodings=[{scalabilityMode:i.scalabilityMode}]):i.scalabilityMode&&Mi.warn("SVC is only supported in Google Chrome")),t.addTransceiver(s,u),Mi.info("Track '".concat(s.label,"' added: "),"id: ".concat(s.id),"kind: ".concat(s.kind))}},Ji=function(t,n){var i=new Ei;if(!n.disableVideo){var r=t.addTransceiver("video",{direction:"recvonly"});i.isOpera()&&r.setCodecPreferences(RTCRtpReceiver.getCapabilities("video").codecs.filter(function(t){return"video/H264"!==t.mimeType||t.sdpFmtpLine.includes("profile-level-id=4")}))}n.disableAudio||t.addTransceiver("audio",{direction:"recvonly"});for(var e=0;e<n.multiplexedAudioTracks;e++)t.addTransceiver("audio",{direction:"recvonly"})},Zi=function(t){var n,i=null!=(n=t.connectionState)?n:t.iceConnectionState;switch(i){case"checking":return"connecting";case"completed":return"connected";default:return i}},$i={},tr=C(function(){if(Qi)return ji;Qi=1;var t=(Gi||(Gi=1,k.defineProperty($i,"__esModule",{value:!0}),$i.TypedEmitter=mt().EventEmitter),$i).TypedEmitter,n=function(t){function n(n,i){var r;return(r=t.call(this)||this).namespace=n,r.tm=i,r}Ct(n,t);var i=n.prototype;return i.cmd=function(t,n){return this.tm.cmd(t,n,this.namespace)},i.event=function(t,n){return this.tm.event(t,n,this.namespace)},i.close=function(){return this.tm.namespaces.delete(this.namespace)},n}(t),i=function(t){function i(n){var i;return(i=t.call(this)||this).maxId=0,i.namespaces=new Map,i.transactions=new Map,i.transport=n,i.listener=function(t){var n;try{n=JSON.parse(t.utf8Data||t.data||t)}catch(t){return}switch(n.type){case"cmd":var r=n.transId,e={name:n.name,data:n.data,namespace:n.namespace,accept:function(t){i.Av({type:"response",transId:r,data:t})},reject:function(t){i.Av({type:"error",transId:r,data:t})}};if(e.namespace){var s=i.namespaces.get(e.namespace);s?s.emit("cmd",e):i.emit("cmd",e)}else i.emit("cmd",e);break;case"response":var u=i.transactions.get(n.transId);if(!u)return;i.transactions.delete(n.transId),u.resolve(n.data);break;case"error":var o=i.transactions.get(n.transId);if(!o)return;i.transactions.delete(n.transId),o.reject(n.data);break;case"event":var h={name:n.name,data:n.data,namespace:n.namespace};if(h.namespace){var c=i.namespaces.get(h.namespace);c?c.emit("event",h):i.emit("event",h)}else i.emit("event",h)}},i.transport.addListener?i.transport.addListener("message",i.listener):i.transport.addEventListener("message",i.listener),i}Ct(i,t);var r=i.prototype;return r.Av=function(t){this.transport.send(JSON.stringify(t))},r.cmd=function(t,n,i){var r=this;return void 0===i&&(i=void 0),new ut(function(e,s){if(!t||0===t.length)throw new y("Bad command name");var u={type:"cmd",transId:r.maxId++,name:t,data:n};i&&(u.namespace=i),r.transactions.set(u.transId,g(d({},u),{resolve:e,reject:s}));try{r.Av(u)}catch(t){throw r.transactions.delete(u.transId),t}})},r.event=function(t,n,i){if(void 0===i&&(i=void 0),!t||0===t.length)throw new y("Bad event name");var r={type:"event",name:t,data:n};i&&(r.namespace=i),this.Av(r)},r.namespace=function(t){var i=this.namespaces.get(t);return i||(i=new n(t,this),this.namespaces.set(t,i),i)},r.close=function(){for(var t,n=Lt(this.namespaces.values());!(t=n()).done;)t.value.close();this.transport.removeListener?this.transport.removeListener("message",this.listener):this.transport.removeEventListener("message",this.listener)},i}(t);return ji=i}()),nr=gt.get("Signaling"),ir="wsConnectionSuccess",rr="wsConnectionError",er="wsConnectionClose",sr="broadcastEvent",ur=function(t){function n(n){var i;return void 0===n&&(n={streamName:null,url:"ws://localhost:8080/"}),(i=t.call(this)||this).streamName=n.streamName,i.wsUrl=n.url,i.webSocket=null,i.transactionManager=null,i.serverId=null,i.clusterId=null,i.streamViewId=null,i}Ct(n,t);var i=n.prototype;return i.connect=function(){return Vt(function(){var t,n;return zt(this,function(i){return t=this,[2,(nr.info("Connecting to Signaling Server"),this.transactionManager&&(null==(n=this.webSocket)?void 0:n.readyState)===WebSocket.OPEN?(nr.info("Connected to server: ",this.webSocket.url),nr.debug("WebSocket value: ",{url:this.webSocket.url,protocol:this.webSocket.protocol,readyState:this.webSocket.readyState,binaryType:this.webSocket.binaryType,extensions:this.webSocket.extensions}),this.emit(ir,{ws:this.webSocket,tm:this.transactionManager}),this.webSocket):new ut(function(n,i){t.webSocket=new WebSocket(t.wsUrl),t.transactionManager=new tr(t.webSocket),t.webSocket.onopen=function(){nr.info("WebSocket opened"),t.transactionManager.on("event",function(n){t.emit(sr,n)}),nr.info("Connected to server: ",t.webSocket.url),nr.debug("WebSocket value: ",{url:t.webSocket.url,protocol:t.webSocket.protocol,readyState:t.webSocket.readyState,binaryType:t.webSocket.binaryType,extensions:t.webSocket.extensions}),t.emit(ir,{ws:t.webSocket,tm:t.transactionManager}),n(t.webSocket)},t.webSocket.onerror=function(){nr.error("WebSocket not connected: ",t.webSocket.url),t.emit(rr,t.webSocket.url),i(t.webSocket.url)},t.webSocket.onclose=function(){t.webSocket=null,t.transactionManager=null,nr.info("Connection closed with Signaling Server."),t.emit(er)}}))]})}).call(this)},i.close=function(){var t;nr.info("Closing connection with Signaling Server."),null==(t=this.webSocket)||t.close()},i.subscribe=function(t,n,i,r){return void 0===i&&(i=null),void 0===r&&(r=null),Vt(function(){var e,s,u,o,h,c,a,f,v,l,w;return zt(this,function(_){switch(_.label){case 0:nr.info("Starting subscription to streamName: ",this.streamName),nr.debug("Subcription local description: ",t),c=or(n,i,r),t=Ni.adaptCodecName(t,"AV1X",xi.AV1),a=["active","inactive","layers","viewercount","vad","updated","migrate","stopped"],f={sdp:t,streamId:this.streamName,pinnedSourceId:c.pinnedSourceId,excludedSourceIds:c.excludedSourceIds,events:a},c.vad&&(f.vad=!0),Array.isArray(c.events)&&(f.events=c.events),c.forcePlayoutDelay&&(f.forcePlayoutDelay=c.forcePlayoutDelay),c.layer&&(f.layer=c.layer),c.abrConfiguration&&(f.abr={initialBitrate:null==(e=c.abrConfiguration.metadata)?void 0:e.bitrate,strategy:c.abrConfiguration.strategy}),c.customKeys&&(f.customKeys=c.customKeys),c.forceSmooth&&(f.abr=g(d({},f.abr||{}),{forceSmooth:c.forceSmooth})),_.label=1;case 1:if(_.trys.push([1,4,,5]),c.disableVideo&&c.disableAudio)throw new y("Not attempting to connect as video and audio are disabled");return[4,this.connect()];case 2:return _.sent(),nr.info("Sending view command",f),[4,this.transactionManager.cmd("view",f)];case 3:return v=_.sent(),l=null==(h=null==(o=null==(u=null==(s=RTCRtpReceiver.getCapabilities)?void 0:s.call(RTCRtpReceiver,"video"))?void 0:u.codecs)?void 0:o.find)?void 0:h.call(o,function(t){return"video/AV1X"===t.mimeType}),[2,(v.sdp=l?Ni.adaptCodecName(v.sdp,xi.AV1,"AV1X"):v.sdp,nr.info("Command sent, subscriberId: ",v.subscriberId),nr.debug("Command result: ",v),this.serverId=v.subscriberId,this.clusterId=v.clusterId,this.streamViewId=v.streamViewId,Y(this.streamName),K(this.serverId),J(v.streamViewId),it(this.clusterId),v.sdp)];case 4:throw w=_.sent(),nr.error("Error sending view command, error: ",w),w;case 5:return[2]}})}).call(this)},i.publish=function(t,n,i,r){return void 0===i&&(i=null),void 0===r&&(r=null),Vt(function(){var e,s,u,o,h,c,a,f,v,d,l,w,g,_,m;return zt(this,function(p){switch(p.label){case 0:if(v=hr(n,i,r),nr.info("Starting publishing to streamName: ".concat(this.streamName,", codec: ").concat(v.codec)),nr.debug("Publishing local description: ",t),d=null!=(o=null==(u=null==(s=null==(e=Hi.getCapabilities)?void 0:e.call(Hi,"video"))?void 0:s.codecs)?void 0:u.map(function(t){return t.codec}))?o:[],-1===(l=k.values(xi)).indexOf(v.codec))throw nr.error("Invalid codec ".concat(v.codec,". Possible values are: "),l),new y("Invalid codec ".concat(v.codec,". Possible values are: ").concat(l));if(d.length>0&&-1===d.indexOf(v.codec))throw nr.error("Unsupported codec ".concat(v.codec,". Possible values are: "),d),new y("Unsupported codec ".concat(v.codec,". Possible values are: ").concat(d));if(v.codec===xi.AV1&&(t=Ni.adaptCodecName(t,"AV1X",xi.AV1)),w={name:this.streamName,sdp:t,codec:v.codec,sourceId:v.sourceId},v.priority){if(!(Number.isInteger(v.priority)&&v.priority>=-2147483648&&v.priority<=2147483647))throw new y("Invalid value for priority option. It should be a decimal integer between the range [-2^31, +2^31 - 1]");w.priority=v.priority}null!==v.record&&(w.record=v.record),Array.isArray(v.events)&&(w.events=v.events),p.label=1;case 1:if(p.trys.push([1,4,,5]),v.disableVideo&&v.disableAudio)throw new y("Not attempting to connect as video and audio are disabled");return[4,this.connect()];case 2:return p.sent(),nr.info("Sending publish command"),[4,this.transactionManager.cmd("publish",w)];case 3:return g=p.sent(),v.codec===xi.AV1&&(_=null==(f=null==(a=null==(c=null==(h=RTCRtpSender.getCapabilities)?void 0:h.call(RTCRtpSender,"video"))?void 0:c.codecs)?void 0:a.find)?void 0:f.call(a,function(t){return"video/AV1X"===t.mimeType}),g.sdp=_?Ni.adaptCodecName(g.sdp,xi.AV1,"AV1X"):g.sdp),[2,(nr.info("Command sent, publisherId: ",g.publisherId),nr.debug("Command result: ",g),this.serverId=g.publisherId,this.clusterId=g.clusterId,Y(this.streamName),K(this.serverId),Z(g.feedId),it(this.clusterId),g.sdp)];case 4:throw m=p.sent(),nr.error("Error sending publish command, error: ",m),m;case 5:return[2]}})}).call(this)},i.cmd=function(t,n){return Vt(function(){return zt(this,function(i){return[2,(nr.info("Sending cmd: ".concat(t)),this.transactionManager.cmd(t,n))]})}).call(this)},n}(jt),or=function(t,n,i){var r="object"==(void 0===t?"undefined":W(t))?t:{};return 0===k.keys(r).length&&(r={vad:t,pinnedSourceId:n,excludedSourceIds:i}),r},hr=function(t,n,i){var r="object"==(void 0===t?"undefined":W(t))?t:{};return 0===k.keys(r).length&&(r={codec:null!=t?t:xi.H264,record:n,sourceId:i}),r},cr=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).name="FetchError",r.status=i,r}return Ct(n,t),n}(sn(y)),ar=gt.get("Director"),fr="WebRtc",vr="",dr="https://director.millicast.com",lr={setEndpoint:function(t){dr=t.replace(/\/$/,"")},getEndpoint:function(){return dr},setLiveDomain:function(t){vr=t.replace(/\/$/,"")},getLiveDomain:function(){return vr},getPublisher:function(t,n,i){return void 0===n&&(n=null),void 0===i&&(i=fr),Vt(function(){var r,e,s,u,o,h,c;return zt(this,function(a){switch(a.label){case 0:r=wr(t,n,i),ar.info("Getting publisher connection path for stream name: ",r.streamName),e={streamName:r.streamName,streamType:r.streamType},s={"Content-Type":"application/json",Authorization:"Bearer ".concat(r.token)},u="".concat(lr.getEndpoint(),"/api/director/publish"),a.label=1;case 1:return a.trys.push([1,4,,5]),[4,fetch(u,{method:"POST",headers:s,body:JSON.stringify(e)})];case 2:return[4,(o=a.sent()).json()];case 3:if("fail"===(h=a.sent()).status)throw new cr(h.data.message,o.status);return[2,(h=_r(h),ar.debug("Getting publisher response: ",h),Q(h.data.streamAccountId),h.data)];case 4:throw c=a.sent(),ar.error("Error while getting publisher connection path. ",c),c;case 5:return[2]}})})()},getSubscriber:function(t,n,i){return void 0===n&&(n=null),void 0===i&&(i=null),Vt(function(){var r,e,s,u,o,h,c;return zt(this,function(a){switch(a.label){case 0:r=gr(t,n,i),Q(r.streamAccountId),ar.info("Getting subscriber connection data for stream name: ".concat(r.streamName," and account id: ").concat(r.streamAccountId)),e={streamAccountId:r.streamAccountId,streamName:r.streamName},s={"Content-Type":"application/json"},r.subscriberToken&&(s=g(d({},s),{Authorization:"Bearer ".concat(r.subscriberToken)})),u="".concat(lr.getEndpoint(),"/api/director/subscribe"),a.label=1;case 1:return a.trys.push([1,4,,5]),[4,fetch(u,{method:"POST",headers:s,body:JSON.stringify(e)})];case 2:return[4,(o=a.sent()).json()];case 3:if("fail"===(h=a.sent()).status)throw new cr(h.data.message,o.status);return[2,(h=_r(h),ar.debug("Getting subscriber response: ",h),r.subscriberToken&&(h.data.subscriberToken=r.subscriberToken),h.data)];case 4:throw c=a.sent(),ar.error("Error while getting subscriber connection path. ",c),c;case 5:return[2]}})})()}},wr=function(t,n,i){var r="object"==(void 0===t?"undefined":W(t))?t:{};return 0===k.keys(r).length&&(r={token:t,streamName:n,streamType:i}),r},gr=function(t,n,i){var r="object"==(void 0===t?"undefined":W(t))?t:{};return 0===k.keys(r).length&&(r={streamName:t,streamAccountId:n,subscriberToken:i}),r},_r=function(t){if(lr.getLiveDomain()){var n=/\/\/(.*?)\//,i=t.data.urls.map(function(t){var i=n.exec(t);return t.replace(i[1],lr.getLiveDomain())});t.data.urls=i}if(t.data.drmObject){var r=t.data.drmObject.playReadyUrl;r&&(t.data.drmObject.playReadyUrl="".concat(lr.getEndpoint()).concat(r));var e=t.data.drmObject.widevineUrl;e&&(t.data.drmObject.widevineUrl="".concat(lr.getEndpoint()).concat(e));var s=t.data.drmObject.fairPlayUrl;s&&(t.data.drmObject.fairPlayUrl="".concat(lr.getEndpoint()).concat(s));var u=t.data.drmObject.fairPlayCertUrl;u&&(t.data.drmObject.fairPlayCertUrl="".concat(lr.getEndpoint()).concat(u))}return t};function mr(t){this.message=t}mr.prototype=new y,mr.prototype.name="InvalidCharacterError";var yr=(void 0===f?"undefined":W(f))<"u"&&f.atob&&f.atob.bind(f)||function(t){var n=String(t).replace(/=+$/,"");if(n.length%4==1)throw new mr("'atob' failed: The string to be decoded is not correctly encoded.");for(var i,r,e=0,s=0,u="";r=n.charAt(s++);~r&&(i=e%4?64*i+r:r,e++%4)?u+=String.fromCharCode(255&i>>(-2*e&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return u};function pr(t){this.message=t}function kr(t,n){if("string"!=typeof t)throw new pr("Invalid token specified");var i=!0===(n=n||{}).header?0:1;try{return JSON.parse(function(t){var n=t.replace(/-/g,"+").replace(/_/g,"/");switch(n.length%4){case 0:break;case 2:n+="==";break;case 3:n+="=";break;default:throw"Illegal base64url string!"}try{return decodeURIComponent(yr(n).replace(/(.)/g,function(t,n){var i=n.charCodeAt(0).toString(16).toUpperCase();return i.length<2&&(i="0"+i),"%"+i}))}catch(t){return yr(n)}}(t.split(".")[i]))}catch(t){throw new pr("Invalid token specified: "+t.message)}}pr.prototype=new y,pr.prototype.name="InvalidTokenError";var br,Ar={exports:{}},Tr=(br||(br=1,function(t,n){!function(i){if(null!=n&&"number"!=typeof n.nodeType)t.exports=i();else{var r=i(),e=("undefined"==typeof self?"undefined":W(self))<"u"?self:$.global;"function"!=typeof e.btoa&&(e.btoa=r.btoa),"function"!=typeof e.atob&&(e.atob=r.atob)}}(function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function n(t){this.message=t}return n.prototype=new y,n.prototype.name="InvalidCharacterError",{btoa:function(i){for(var r,e,s,u,o=String(i),h=0,c="";h<o.length;){if(r=o.charCodeAt(h++),e=o.charCodeAt(h++),s=o.charCodeAt(h++),r>255||e>255||s>255)throw new n("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");c+=t.charAt((u=r<<16|e<<8|s)>>18&63)+t.charAt(u>>12&63)+t.charAt(u>>6&63)+t.charAt(63&u)}switch(o.length%3){case 0:return c;case 1:return c.slice(0,-2)+"==";case 2:return c.slice(0,-1)+"="}},atob:function(i){var r=String(i).replace(/[=]+$/,"");if(r.length%4==1)throw new n("'atob' failed: The string to be decoded is not correctly encoded.");for(var e,s,u=0,o=0,h="";s=r.charAt(o++);~s&&(e=u%4?64*e+s:s,u++%4)?h+=String.fromCharCode(255&e>>(-2*u&6)):0)s=t.indexOf(s);return h}}})}(Ar,Ar.exports)),Ar.exports);function Sr(t){var n,i,r;return{lang:null!=(n=null==t?void 0:t.lang)?n:void 0,message:null==t?void 0:t.message,abortEarly:null!=(i=null==t?void 0:t.abortEarly)?i:void 0,abortPipeEarly:null!=(r=null==t?void 0:t.abortPipeEarly)?r:void 0}}function Er(t){var n,i,r,e=void 0===t?"undefined":W(t);return"string"===e?'"'.concat(t,'"'):"number"===e||"bigint"===e||"boolean"===e?"".concat(t):"object"===e||"function"===e?null!=(r=t&&(null==(i=null==(n=k.getPrototypeOf(t))?void 0:n.constructor)?void 0:i.name))?r:"null":e}function Ir(t,n,i,r,e){var s,u,o,h,c,a,f,v,d=e&&"input"in e?e.input:i.value,l=null!=(u=null!=(s=null==e?void 0:e.expected)?s:t.expects)?u:null,w=null!=(o=null==e?void 0:e.received)?o:Er(d),g={kind:t.kind,type:t.type,input:d,expected:l,received:w,message:"Invalid ".concat(n,": ").concat(l?"Expected ".concat(l," but r"):"R","eceived ").concat(w),requirement:t.requirement,path:null==e?void 0:e.path,issues:null==e?void 0:e.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},_="schema"===t.kind,m=null!=(v=null!=(f=null!=(a=null!=(c=null!=(h=null==e?void 0:e.message)?h:t.message)?c:function(t,n){var i;return null==(i=void 0)?void 0:i.get(n)}(t.reference,g.lang))?a:_?void g.lang:null)?f:r.message)?v:void g.lang;void 0!==m&&(g.message="function"==typeof m?m(g):m),_&&(i.typed=!1),i.issues?i.issues.push(g):i.issues=[g]}function Rr(t){return{version:1,vendor:"valibot",validate:function(n){return t["~run"]({value:n},Sr())}}}function Cr(t,n){return k.hasOwn(t,n)&&"__proto__"!==n&&"prototype"!==n&&"constructor"!==n}function Dr(t,n){var i,r=[].concat(new Set(t));return r.length>1?"(".concat(r.join(" ".concat(n," ")),")"):null!=(i=r[0])?i:"never"}var Pr,Nr=function(t){function n(n){var i;return(i=t.call(this,n[0].message)||this).name="ValiError",i.issues=n,i}return Ct(n,t),n}(sn(y));function Br(t,n,i){return"function"==typeof t.fallback?t.fallback(n,i):t.fallback}function xr(t,n,i){return"function"==typeof t.default?t.default(n,i):t.default}function Or(t,n){return{kind:"schema",type:"array",reference:Or,expects:"Array",async:!1,item:t,message:n,get"~standard"(){return Rr(this)},"~run":function(t,n){var i,r=t.value;if(Array.isArray(r)){t.typed=!0,t.value=[];for(var e=0;e<r.length;e++){var s=r[e],u=this.item["~run"]({value:s},n);if(u.issues){for(var o,h={type:"array",origin:"value",input:r,key:e,value:s},c=Lt(u.issues);!(o=c()).done;){var a=o.value;a.path?a.path.unshift(h):a.path=[h],null==(i=t.issues)||i.push(a)}if(t.issues||(t.issues=u.issues),n.abortEarly){t.typed=!1;break}}u.typed||(t.typed=!1),t.value.push(u.value)}}else Ir(this,"type",t,n);return t}}}function Mr(t){return{kind:"schema",type:"boolean",reference:Mr,expects:"boolean",async:!1,message:t,get"~standard"(){return Rr(this)},"~run":function(t,n){return"boolean"==typeof t.value?t.typed=!0:Ir(this,"type",t,n),t}}}function Lr(t,n){return{kind:"schema",type:"loose_object",reference:Lr,expects:"Object",async:!1,entries:t,message:n,get"~standard"(){return Rr(this)},"~run":function(t,n){var i,r=t.value;if(r&&"object"==(void 0===r?"undefined":W(r))){for(var e in t.typed=!0,t.value={},this.entries){var s=this.entries[e];if(e in r||("exact_optional"===s.type||"optional"===s.type||"nullish"===s.type)&&void 0!==s.default){var u=e in r?r[e]:xr(s),o=s["~run"]({value:u},n);if(o.issues){for(var h,c={type:"object",origin:"value",input:r,key:e,value:u},a=Lt(o.issues);!(h=a()).done;){var f=h.value;f.path?f.path.unshift(c):f.path=[c],null==(i=t.issues)||i.push(f)}if(t.issues||(t.issues=o.issues),n.abortEarly){t.typed=!1;break}}o.typed||(t.typed=!1),t.value[e]=o.value}else if(void 0!==s.fallback)t.value[e]=Br(s);else if("exact_optional"!==s.type&&"optional"!==s.type&&"nullish"!==s.type&&(Ir(this,"key",t,n,{input:void 0,expected:'"'.concat(e,'"'),path:[{type:"object",origin:"key",input:r,key:e,value:r[e]}]}),n.abortEarly))break}if(!t.issues||!n.abortEarly)for(var v in r)Cr(r,v)&&!(v in this.entries)&&(t.value[v]=r[v])}else Ir(this,"type",t,n);return t}}}function Ur(t,n){return{kind:"schema",type:"nullish",reference:Ur,expects:"(".concat(t.expects," | null | undefined)"),async:!1,wrapped:t,default:n,get"~standard"(){return Rr(this)},"~run":function(t,n){return null!==t.value&&void 0!==t.value||(void 0!==this.default&&(t.value=xr(this,t,n)),null!==t.value&&void 0!==t.value)?this.wrapped["~run"](t,n):(t.typed=!0,t)}}}function Fr(t){return{kind:"schema",type:"number",reference:Fr,expects:"number",async:!1,message:t,get"~standard"(){return Rr(this)},"~run":function(t,n){return"number"!=typeof t.value||S(t.value)?Ir(this,"type",t,n):t.typed=!0,t}}}function Vr(t,n){return{kind:"schema",type:"picklist",reference:Vr,expects:Dr(t.map(Er),"|"),async:!1,options:t,message:n,get"~standard"(){return Rr(this)},"~run":function(t,n){return this.options.includes(t.value)?t.typed=!0:Ir(this,"type",t,n),t}}}function Hr(t){return{kind:"schema",type:"string",reference:Hr,expects:"string",async:!1,message:t,get"~standard"(){return Rr(this)},"~run":function(t,n){return"string"==typeof t.value?t.typed=!0:Ir(this,"type",t,n),t}}}function Wr(t){var n,i;if(t)for(var r,e=Lt(t);!(r=e()).done;){var s=r.value;i?(n=i).push.apply(n,[].concat(s.issues)):i=s.issues}return i}function zr(t,n){return{kind:"schema",type:"union",reference:zr,expects:Dr(t.map(function(t){return t.expects}),"|"),async:!1,options:t,message:n,get"~standard"(){return Rr(this)},"~run":function(t,n){for(var i,r,e,s,u=Lt(this.options);!(s=u()).done;){var o=s.value["~run"]({value:t.value},n);if(o.typed){if(!o.issues){i=o;break}r?r.push(o):r=[o]}else e?e.push(o):e=[o]}if(i)return i;if(r){if(1===r.length)return r[0];Ir(this,"type",t,n,{issues:Wr(r)}),t.typed=!0}else{if(1===(null==e?void 0:e.length))return e[0];Ir(this,"type",t,n,{issues:Wr(e)})}return t}}}function Xr(){return{kind:"schema",type:"unknown",reference:Xr,expects:"unknown",async:!1,get"~standard"(){return Rr(this)},"~run":function(t){return t.typed=!0,t}}}var qr=function(t){function n(n,i,r,e){var s;if(s=t.call(this)||this,Pr=r,!i)throw Pr.error("Token generator is required to construct this module."),new y("Token generator is required to construct this module.");return s.webRTCPeer=new Hi,s.signaling=null,s.autoReconnect=e,s.reconnectionInterval=1e3,s.alreadyDisconnected=!1,s.firstReconnection=!0,s.stopReconnection=!1,s.isReconnecting=!1,s.tokenGenerator=i,s.options=null,s}Ct(n,t);var i=n.prototype;return i.getRTCPeerConnection=function(){return this.webRTCPeer?this.webRTCPeer.getRTCPeer():null},i.stop=function(){var t;Pr.info("Stopping"),this.webRTCPeer.closeRTCPeer(),null==(t=this.signaling)||t.close(),this.signaling=null,this.stopReconnection=!0,this.webRTCPeer=new Hi},i.isActive=function(){var t=this.webRTCPeer.getRTCPeerStatus();return Pr.info("Broadcast status: ",t||"not_established"),"connected"===t},i.setReconnect=function(){var t=this;this.signaling.on("migrate",function(){return t.replaceConnection()}),this.autoReconnect&&(this.signaling.on(rr,function(){(t.firstReconnection||!t.alreadyDisconnected)&&(t.firstReconnection=!1,t.reconnect({error:new y("Signaling error: wsConnectionError")}))}),this.webRTCPeer.on(Fi.connectionStateChange,function(n){nt(n),"connected"===n&&tt(new Date),("failed"===n||"disconnected"===n&&t.alreadyDisconnected)&&t.firstReconnection?(t.firstReconnection=!1,t.reconnect({error:new y("Connection state change: RTCPeerConnectionState disconnected")})):"disconnected"===n?(t.alreadyDisconnected=!0,w(function(){return t.reconnect({error:new y("Connection state change: RTCPeerConnectionState disconnected")})},1500)):t.alreadyDisconnected=!1}))},i.reconnect=function(t){return Vt(function(){var n,i;return zt(this,function(r){switch(r.label){case 0:n=this,r.label=1;case 1:return r.trys.push([1,4,,5]),Pr.info("Attempting to reconnect..."),this.isActive()||this.stopReconnection||this.isReconnecting?[3,3]:(this.stop(),this.emit("reconnect",{timeout:Gr(this.reconnectionInterval),error:null!=t&&t.error?null==t?void 0:t.error:new y("Attempting to reconnect")}),this.isReconnecting=!0,[4,this.connect(this.options)]);case 2:r.sent(),this.alreadyDisconnected=!1,this.reconnectionInterval=1e3,this.firstReconnection=!0,this.isReconnecting=!1,r.label=3;case 3:return[3,5];case 4:return i=r.sent(),this.isReconnecting=!1,this.reconnectionInterval=Gr(this.reconnectionInterval),Pr.error("Reconnection failed, retrying in ".concat(this.reconnectionInterval,"ms. "),i),w(function(){return n.reconnect({error:i})},this.reconnectionInterval),[3,5];case 5:return[2]}})}).call(this)},n}(jt),Gr=function(t){return t<32e3?2*t:t},jr=f.RTCRtpSender&&!!RTCRtpSender.prototype.createEncodedStreams&&f.RTCRtpReceiver&&!!RTCRtpReceiver.prototype.createEncodedStreams,Qr="RTCRtpScriptTransform"in f,Yr='(function(){"use strict";function z(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var U={exports:{}};/*!\n * js-logger - http://github.com/jonnyreeves/js-logger\n * Jonny Reeves, http://jonnyreeves.co.uk/\n * js-logger may be freely distributed under the MIT license.\n */var q=U.exports,D;function V(){return D||(D=1,function(t){(function(n){var e={};e.VERSION="1.6.1";var i,r={},o=function(s,u){return function(){return u.apply(s,arguments)}},a=function(){var s=arguments,u=s[0],h,c;for(c=1;c<s.length;c++)for(h in s[c])!(h in u)&&s[c].hasOwnProperty(h)&&(u[h]=s[c][h]);return u},d=function(s,u){return{value:s,name:u}};e.TRACE=d(1,"TRACE"),e.DEBUG=d(2,"DEBUG"),e.INFO=d(3,"INFO"),e.TIME=d(4,"TIME"),e.WARN=d(5,"WARN"),e.ERROR=d(8,"ERROR"),e.OFF=d(99,"OFF");var l=function(s){this.context=s,this.setLevel(s.filterLevel),this.log=this.info};l.prototype={setLevel:function(s){s&&"value"in s&&(this.context.filterLevel=s)},getLevel:function(){return this.context.filterLevel},enabledFor:function(s){var u=this.context.filterLevel;return s.value>=u.value},trace:function(){this.invoke(e.TRACE,arguments)},debug:function(){this.invoke(e.DEBUG,arguments)},info:function(){this.invoke(e.INFO,arguments)},warn:function(){this.invoke(e.WARN,arguments)},error:function(){this.invoke(e.ERROR,arguments)},time:function(s){typeof s=="string"&&s.length>0&&this.invoke(e.TIME,[s,"start"])},timeEnd:function(s){typeof s=="string"&&s.length>0&&this.invoke(e.TIME,[s,"end"])},invoke:function(s,u){i&&this.enabledFor(s)&&i(u,a({level:s},this.context))}};var f=new l({filterLevel:e.OFF});(function(){var s=e;s.enabledFor=o(f,f.enabledFor),s.trace=o(f,f.trace),s.debug=o(f,f.debug),s.time=o(f,f.time),s.timeEnd=o(f,f.timeEnd),s.info=o(f,f.info),s.warn=o(f,f.warn),s.error=o(f,f.error),s.log=s.info})(),e.setHandler=function(s){i=s},e.setLevel=function(s){f.setLevel(s);for(var u in r)r.hasOwnProperty(u)&&r[u].setLevel(s)},e.getLevel=function(){return f.getLevel()},e.get=function(s){return r[s]||(r[s]=new l(a({name:s},f.context)))},e.createDefaultHandler=function(s){s=s||{},s.formatter=s.formatter||function(p,_){_.name&&p.unshift("["+_.name+"]")};var u={},h=function(c,p){Function.prototype.apply.call(c,console,p)};return typeof console>"u"?function(){}:function(c,p){c=Array.prototype.slice.call(c);var _=console.log,g;p.level===e.TIME?(g=(p.name?"["+p.name+"] ":"")+c[0],c[1]==="start"?console.time?console.time(g):u[g]=new Date().getTime():console.timeEnd?console.timeEnd(g):h(_,[g+": "+(new Date().getTime()-u[g])+"ms"])):(p.level===e.WARN&&console.warn?_=console.warn:p.level===e.ERROR&&console.error?_=console.error:p.level===e.INFO&&console.info?_=console.info:p.level===e.DEBUG&&console.debug?_=console.debug:p.level===e.TRACE&&console.trace&&(_=console.trace),s.formatter(c,p),h(_,c))}},e.useDefaults=function(s){e.setLevel(s&&s.defaultLevel||e.DEBUG),e.setHandler(e.createDefaultHandler(s))},e.setDefaults=e.useDefaults,t.exports?t.exports=e:(e._prevLogger=n.Logger,e.noConflict=function(){return n.Logger=e._prevLogger,e},n.Logger=e)})(q)}(U)),U.exports}var j=V(),R=z(j);class w{constructor(n){this.data=n,this.bitOffset=0}readBits(n){if(this.bitOffset+n>this.data.length*8)throw new Error("Attempted to read past the end of the bitstream");let e=0;for(let i=0;i<n;i++){const r=Math.floor(this.bitOffset/8),o=7-this.bitOffset%8,a=this.data[r]>>o&1;e|=a<<n-1-i,this.bitOffset++}return e}skip(n){this.bitOffset+=n}readExpGolombUnsigned(){let n=-1;for(let e=0;e===0;n++)e=this.readBits(1);return(1<<n)-1+this.readBits(n)}readExpGolombSigned(){const n=this.readExpGolombUnsigned();return n%2===0?-(n/2):(n+1)/2}}const m={SLICE_NON_IDR:1,SLICE_PARTITION_A:2,SLICE_IDR:5,SEI_H264:6,SEI_H265_PREFIX:39,SEI_H265_SUFFIX:40,SPS_H264:7,SPS_H265:33,PPS_H264:8,PPS_H265:34},G={PIC_TIMING:1,USER_DATA_UNREGISTERED:5},E={LEGACY:1,NEW:2,TIMECODE:3,OTHER:4},Y="6e9cfd2a-5907-49ff-b363-8978a6e8340e",X="9a21f3be-31f0-4b78-b0be-c7f7dbb97250",P="d40e38ea-d419-4c62-94ed-20ac37b4e4fa";class ${constructor(n="H264"){this.sps=new Map,this.pps=new Map,this.activeSPS=null,this.codec=n}collectPPS(n){this.codec==="H264"?this.collectH264PPS(n):this.collectH265PPS(n)}collectSPS(n){this.codec==="H264"?this.collectH264SPS(n):this.collectH265SPS(n)}collectH264SPS(n){const e=new w(n),i=e.readBits(8),r=[100,110,122,244,44,83,86,118,128,138,139,134,135];e.skip(8),e.skip(8);const o=e.readExpGolombUnsigned();if(o>31||o<0)throw new Error("Invalid seq_parameter_set_id");if(r.includes(i)){const l=e.readExpGolombUnsigned();if(l===3&&e.skip(1),e.readExpGolombUnsigned(),e.readExpGolombUnsigned(),e.skip(1),e.readBits(1)){const s=l!==3?8:12;for(let u=0;u<s;u++)if(e.readBits(1)){const h=u<6?16:64;let c=8,p=8;for(let _=0;_<h;_++){if(p!==0){const g=e.readExpGolombSigned();p=(c+g+256)%256}c=p===0?c:p}}}}e.readExpGolombUnsigned();const a=e.readExpGolombUnsigned();if(a===0)e.readExpGolombUnsigned();else if(a===1){e.skip(1),e.readExpGolombSigned(),e.readExpGolombSigned();const l=e.readExpGolombUnsigned();for(let f=0;f<l;f++)e.readExpGolombSigned()}e.readExpGolombUnsigned(),e.skip(1),e.readExpGolombUnsigned(),e.readExpGolombUnsigned(),e.readBits(1)===0&&e.skip(1),e.skip(1),e.readBits(1)&&(e.readExpGolombUnsigned(),e.readExpGolombUnsigned(),e.readExpGolombUnsigned(),e.readExpGolombUnsigned());let d;if(e.readBits(1)){let f=function(c){const p=c.readExpGolombUnsigned();c.skip(4),c.skip(4);for(let x=0;x<=p;x++)c.readExpGolombUnsigned(),c.readExpGolombUnsigned(),c.skip(1);c.skip(5);const _=c.readBits(5),g=c.readBits(5),B=c.readBits(5);return{cpb_removal_delay_length_minus1:_,dpb_output_delay_length_minus1:g,time_offset_length:B}};e.readBits(1)&&e.readBits(8)===255&&(e.skip(16),e.skip(16)),e.readBits(1)&&e.skip(1),e.readBits(1)&&(e.skip(3),e.skip(1),e.readBits(1)&&e.skip(24)),e.readBits(1)&&(e.readExpGolombUnsigned(),e.readExpGolombUnsigned());const l=e.readBits(1)?{num_units_in_tick:e.readBits(32),time_scale:e.readBits(32),fixed_frame_rate_flag:e.readBits(1)}:void 0,s=e.readBits(1)?f(e):void 0,u=e.readBits(1)?f(e):void 0;(s||u)&&e.skip(1);const h=e.readBits(1);d={timing_info:l,nal_hrd_parameters:s,vcl_hrd_parameters:u,pic_struct_present_flag:h}}this.sps.set(o,{vui_parameters:d})}collectH265SPS(n){}collectH264PPS(n){const e=new w(n),i=e.readExpGolombUnsigned();if(i>255||i<0)throw new Error("Invalid pic_parameter_set_id");const r=e.readExpGolombUnsigned();this.pps.set(i,{seq_parameter_set_id:r})}collectH265PPS(n){}findActiveSPS(n){const e=new w(n);e.readExpGolombUnsigned(),e.readExpGolombUnsigned();const i=e.readExpGolombUnsigned(),r=this.pps.get(i);if(r){const o=this.sps.get(r.seq_parameter_set_id);if(o){this.activeSPS=o;return}}throw new Error("Cannot find the active SPS")}}const S=new $;function O(t,n){for(;n<t.byteLength-4;){if(t[n]===0&&t[n+1]===0&&(t[n+2]===1||t[n+2]===0&&t[n+3]===1))return n;n+=1}return-1}function T(t){const n=new Uint8Array(t.byteLength);let e=0,i=0;for(let r=2;r<t.byteLength;r++)t[r]===3&&t[r-1]===0&&t[r-2]===0&&(n.set(t.subarray(i,r),e),e+=r-i,i=r+1);return i<t.byteLength&&n.set(t.subarray(i),e),n}function J(t,n){let e=0;const i=n==="H264"?1:2,r=[];for(;e<t.byteLength-4;){const o=O(t,e);if(o>=e){const a=t[o+2]===1?3:4,d=O(t,o+a+i);if(d>o)r.push(t.subarray(o,d)),e=d;else{r.push(t.subarray(o));break}}else break}return r}function K(t,n){let e=!0;return J(t,n).filter(i=>{const r=i[2]===1?3:4,o=n==="H264"?1:2,a=i[r],d=n==="H264"?a&31:a>>1&63;if(e)switch(d){case m.PPS_H264:case m.PPS_H265:S.collectPPS(T(i.subarray(r+o)));break;case m.SPS_H264:case m.SPS_H265:S.collectSPS(T(i.subarray(r+o)));break;case m.SLICE_IDR:case m.SLICE_NON_IDR:case m.SLICE_PARTITION_A:try{S.findActiveSPS(T(i.subarray(r+o))),e=!1}catch(l){console.info("Failed to find active SPS. Will not be able to extract PIC timing metadata")}break}return[m.SEI_H264,m.SEI_H265_PREFIX,m.SEI_H265_SUFFIX].includes(d)})}function Z(t){let n=0,e=0;for(;t[e]===255;)n+=255,e++;n+=t[e],e++;let i=0;for(;t[e]===255;)i+=255,e++;return i+=t[e],e++,{type:n,content:t.subarray(e,e+i)}}function Q(t){const n=new Uint8Array(L(X)),e=new Uint8Array(L(Y)),i=new Uint8Array(L(P));return n.every((r,o)=>r===t[o])?E.TIMECODE:e.every((r,o)=>r===t[o])?E.LEGACY:i.every((r,o)=>r===t[o])?E.NEW:E.OTHER}function ee(t,n){let e=0;t.uuid=n.subarray(e,e+16),e+=16;const i=Q(t.uuid),r=n.subarray(e);switch(i){case E.LEGACY:case E.OTHER:t.unregistered=r;break;case E.TIMECODE:t.timecode=C(r);break;case E.NEW:{let o=0;const a=H(Date.now()).length,d=r.subarray(o,a);o+=a;const l=r.subarray(o);t.timecode=C(d),t.unregistered=l;break}}}function C(t){const n=t.reduce((o,a)=>(o<<BigInt(8))+BigInt(a),BigInt(0)),e=Number(n),i=new Date(e);return new TextEncoder().encode(i.toISOString())}function te(t,n){var f,s,u,h,c;if(!S.activeSPS){console.warn("Cannot find the active SPS");return}const e=(f=S.activeSPS.vui_parameters.nal_hrd_parameters)!=null?f:S.activeSPS.vui_parameters.vcl_hrd_parameters,i={cpb_dpb_delays_present_flag:e?1:0,cpb_removal_delay_length_minus1:(s=e==null?void 0:e.cpb_removal_delay_length_minus1)!=null?s:23,dpb_output_delay_length_minus1:(u=e==null?void 0:e.dpb_output_delay_length_minus1)!=null?u:23,time_offset_length:e?(h=e.time_offset_length)!=null?h:24:void 0,pic_struct_present_flag:(c=S.activeSPS.vui_parameters.pic_struct_present_flag)!=null?c:0};if(!i.pic_struct_present_flag){console.warn("pic_struct_present_flag is not present");return}const r=new w(n);i.cpb_dpb_delays_present_flag&&(r.skip(i.cpb_removal_delay_length_minus1+1),r.skip(i.dpb_output_delay_length_minus1+1));const o=[1,1,1,2,2,3,3,2,3],a=r.readBits(4);if(a>=o.length)throw new Error("Invalid pic_struct");const d=o[a],l=[];for(let p=0;p<d;p++)if(r.readBits(1)){const g={};r.skip(2),r.skip(1),r.skip(5);const B=r.readBits(1);if(r.skip(2),g.n_frames=r.readBits(8),B?(g.seconds_value=r.readBits(6),g.minutes_value=r.readBits(6),g.hours_value=r.readBits(5)):r.readBits(1)&&(g.seconds_value=r.readBits(6),r.readBits(1)&&(g.minutes_value=r.readBits(6),r.readBits(1)&&(g.hours_value=r.readBits(5)))),i.time_offset_length)try{g.time_offset=r.readBits(i.time_offset_length)}catch(x){console.error("Failed to read time_offset",x),g.time_offset=0}else g.time_offset=0;l.push(g)}t.seiPicTimingTimeCodeArray=l}function ne(t,n){if(n!=="H264"&&n!=="H265")throw new Error("Unsupported codec ".concat(n));const e={};return S.codec=n,K(new Uint8Array(t.data),n).forEach(i=>{const r=i[2]===1?3:4,o=n==="H264"?1:2,a=T(i.subarray(r+o)),d=Z(a);switch(d.type){case G.PIC_TIMING:te(e,d.content);break;case G.USER_DATA_UNREGISTERED:ee(e,d.content);break}}),e}function re(t){return/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/.test(t)}function L(t){return t.replace(/-/g,"").match(/.{1,2}/g).map(n=>parseInt(n,16))}function ie(t,n,e){const i=new Uint8Array(L(t)),r=H(e),o=new TextEncoder().encode(JSON.stringify(n)),a=new Uint8Array(i.length+r.length+o.length);return a.set(i),a.set(r,i.length),a.set(o,r.length+i.length),a}function se(t){const n=[],e=Math.floor(t.byteLength/255),i=t.byteLength%255;for(let r=0;r<e;r++)n.push(255);return n.push(i),new Uint8Array([5,...n])}function oe(t){const n=[];for(let e=0;e<t.byteLength;e++)e+2<t.byteLength&&[0,1,2,3].includes(t[e+2])&&t[e]===0&&t[e+1]===0?(n.push(t[e]),n.push(t[e+1]),e+=2,n.push(3)):n.push(t[e]);return n.push(128),new Uint8Array(n)}function H(t){const n=[];if(!isNaN(t)){const e=BigInt(t);for(let i=0;i<Math.ceil(Math.floor(Math.log2(new Number(t))+1)/8);i++)n.unshift(new Number(e>>BigInt(8*i)&BigInt(255)))}return new Uint8Array(n)}function ae({uuid:t,payload:n,timecode:e}){const i=[0,0,0,1],r=[102],o=ie(t,n,e),a=se(o),d=oe(o),l=new Uint8Array(i.length+r.length+a.length+d.length);return l.set(i),l.set(r,i.length),l.set(a,i.length+r.length),l.set(d,i.length+r.length+a.length),l}function ce({uuid:t,payload:n,timecode:e},i){if(t===""||n==="")throw new Error("uuid and payload cannot be empty");re(t)||(console.warn("Invalid UUID. Using default UUID."),t=P,e=Date.now());const r=ae({uuid:t,payload:n,timecode:e}),o=new DataView(i.data),a=new ArrayBuffer(i.data.byteLength+r.byteLength),d=new DataView(a);for(let l=0;l<i.data.byteLength;l++)d.setUint8(l,o.getUint8(l));for(let l=0;l<r.byteLength;l++)d.setUint8(i.data.byteLength+l,r[l]);i.data=a}R.get("TransformWorker").setLevel(R.DEBUG);const le=2e3,b=[];let y="",k={};const v={};let I=[];function M(t){return new TransformStream({start(){},flush(){},async transform(n,e){var i,r;if(N(n)){const o=((i=k[n.getMetadata().payloadType])==null?void 0:i.toUpperCase())||(y==null?void 0:y.toUpperCase());if(o==="H264"){const a=ne(n,o);(a.timecode||a.unregistered||((r=a.seiPicTimingTimeCodeArray)==null?void 0:r.length)>0)&&self.postMessage({event:"metadata",mid:t,metadata:a})}self.postMessage({event:"complete",frame:{type:n.type,timestamp:n.timestamp,data:n.data}})}e.enqueue(n)}})}function N(t){if(typeof RTCEncodedVideoFrame<"u")try{if(t instanceof RTCEncodedVideoFrame)return!0}catch(n){}return!!(t.constructor&&t.constructor.name==="RTCEncodedVideoFrame"||typeof t.width=="number"&&typeof t.height=="number"||t.type==="video")}function F(){Object.keys(v).sort().join()===I.sort().join()&&(b.shift(),I=[])}function de(t){const n=new Date().getTime();v[t]=n,Object.keys(v).filter(i=>n-v[i]>le).forEach(i=>{delete v[i],delete I[i]}),F()}function W(){return new TransformStream({start(){},flush(){},async transform(t,n){if(N(t)){const i=t.getMetadata().synchronizationSource;if(de(i),!I.includes(i)&&b.length)try{if(!/(h26[4])/.test(y))throw new Error("Sending metadata is not supported with any other codec other than H.264");b[0].uuid===P&&(b[0].timecode=Date.now()),ce(b[0],t),I.push(i)}catch(r){console.error(r)}finally{F()}}n.enqueue(t)}})}function A({readable:t,writable:n},e){t.pipeThrough(e).pipeTo(n)}addEventListener("rtctransform",t=>{let n;if(t.transformer.options.name==="senderTransform")y=t.transformer.options.codec,n=W();else if(t.transformer.options.name==="receiverTransform")k=t.transformer.options.payloadTypeCodec||{},y=t.transformer.options.codec||"",n=M(t.transformer.options.mid);else return;A(t.transformer,n)}),addEventListener("message",t=>{const{action:n}=t.data;switch(n){case"insertable-streams-sender":y=t.data.codec,A(t.data,W());break;case"insertable-streams-receiver":k=t.data.payloadTypeCodec||{},y=t.data.codec||"",A(t.data,M(t.data.mid));break;case"metadata-sei-user-data-unregistered":b.push({uuid:t.data.uuid,payload:t.data.payload});break}})})();\n',Kr=("undefined"==typeof self?"undefined":W(self))<"u"&&self.Blob&&new Blob([Yr],{type:"text/javascript;charset=utf-8"});function Jr(t){var n;try{if(!(n=Kr&&(self.URL||self.webkitURL).createObjectURL(Kr)))throw"";var i=new I(n,{name:null==t?void 0:t.name});return i.addEventListener("error",function(){(self.URL||self.webkitURL).revokeObjectURL(n)}),i}catch(n){return new I("data:text/javascript;charset=utf-8,"+encodeURIComponent(Yr),{name:null==t?void 0:t.name})}finally{n&&(self.URL||self.webkitURL).revokeObjectURL(n)}}var Zr,$r=gt.get("Publish"),te={mediaStream:null,bandwidth:0,metadata:!1,disableVideo:!1,disableAudio:!1,codec:xi.H264,simulcast:!1,scalabilityMode:null,peerConfig:{autoInitStats:!0,statsIntervalMs:1e3}},ne=function(t){function n(n,i,r){return void 0===r&&(r=!0),n&&$r.warn("The streamName property has been deprecated. In a future release, this will be removed. Please do not rely on this value. Instead, set via token generator"),t.call(this,null,i,$r,r)||this}Ct(n,t);var i=n.prototype;return i.connect=function(){return Vt(function(t){return zt(this,function(n){switch(n.label){case 0:return void 0===t&&(t=te),ie(t),this.options=g(d(d({},te),t),{peerConfig:d(d({},te.peerConfig),t.peerConfig),setSDPToPeer:!1}),this.options.metadata=this.options.metadata&&this.options.codec===xi.H264&&!this.options.disableVideo,[4,this.initConnection({migrate:!1})];case 1:return n.sent(),[2]}})}).apply(this,arguments)},i.reconnect=function(n){var i=this;return Vt(function(){var r,e;return zt(this,function(s){return this.options.mediaStream=null!=(e=null==(r=this.webRTCPeer)?void 0:r.getTracks())?e:this.options.mediaStream,t.prototype.reconnect.call(i,n),[2]})}).call(this)},i.replaceConnection=function(){return Vt(function(){var t,n;return zt(this,function(i){switch(i.label){case 0:return $r.info("Migrating current connection"),this.options.mediaStream=null!=(n=null==(t=this.webRTCPeer)?void 0:t.getTracks())?n:this.options.mediaStream,[4,this.initConnection({migrate:!0})];case 1:return i.sent(),[2]}})}).call(this)},i.record=function(){return Vt(function(){var t;return zt(this,function(n){switch(n.label){case 0:return this.recordingAvailable?(this.options.record=!0,[4,null==(t=this.signaling)?void 0:t.cmd("record")]):[3,2];case 1:return n.sent(),$r.info("Broadcaster start recording"),[3,3];case 2:$r.error("Record not available"),n.label=3;case 3:return[2]}})}).call(this)},i.unrecord=function(){return Vt(function(){var t;return zt(this,function(n){switch(n.label){case 0:return this.recordingAvailable?(this.options.record=!1,[4,null==(t=this.signaling)?void 0:t.cmd("unrecord")]):[3,2];case 1:return n.sent(),$r.info("Broadcaster stop recording"),[3,3];case 2:$r.error("Unrecord not available"),n.label=3;case 3:return[2]}})}).call(this)},i.stop=function(){var n;t.prototype.stop.call(this),null==(n=this.worker)||n.terminate(),this.worker=null},i.initConnection=function(t){return Vt(function(){var n,i,r,e,s,u,o,h,c,a,f,v,d,l,w,g,_;return zt(this,function(m){switch(m.label){case 0:if(n=this,$r.debug("Broadcast option values: ",this.options),this.stopReconnection=!1,!this.options.mediaStream)throw $r.error("Error while broadcasting. MediaStream required"),new y("MediaStream required");if(!t.migrate&&this.isActive())throw $r.warn("Broadcast currently working"),new y("Broadcast currently working");m.label=1;case 1:return m.trys.push([1,3,,4]),[4,this.tokenGenerator()];case 2:return s=m.sent(),this.options.peerConfig.iceServers=null==s?void 0:s.iceServers,this.options.peerConfig.encodedInsertableStreams=this.options.metadata,[3,4];case 3:throw u=m.sent(),$r.error("Error generating token."),V(u,cr)&&(401!==u.status&&this.autoReconnect?this.reconnect():this.stopReconnection=!0),u;case 4:if(!s)throw $r.error("Error while broadcasting. Publisher data required"),new y("Publisher data required");if(o=kr(s.jwt),this.streamName=o.millicast.streamName,this.recordingAvailable=o[Tr.atob("bWlsbGljYXN0")].record,this.options.record&&!this.recordingAvailable)throw $r.error("Error while broadcasting. Record option detected but recording is not available"),new y("Record option detected but recording is not available");return h=new ur({streamName:this.streamName,url:"".concat(s.urls[0],"?token=").concat(s.jwt)}),[4,(c=t.migrate?new Hi:this.webRTCPeer).createRTCPeer(this.options.peerConfig,Li)];case 5:return m.sent(),null==(i=this.stopReemitingWebRTCPeerInstanceEvents)||i.call(this),null==(r=this.stopReemitingSignalingInstanceEvents)||r.call(this),this.stopReemitingWebRTCPeerInstanceEvents=Kt(c,this,[Fi.connectionStateChange]),this.stopReemitingSignalingInstanceEvents=Kt(h,this,[sr]),a=c.getRTCLocalSDP(this.options),f=h.connect(),[4,ut.all([a,f])];case 6:return e=m.sent(),v=e[0],this.options.metadata&&(this.worker||(this.worker=new Jr),this.getRTCPeerConnection().getSenders().forEach(function(t){if(Qr)t.transform=new RTCRtpScriptTransform(n.worker,{name:"senderTransform",codec:n.options.codec});else if(jr){var i=t.createEncodedStreams(),r=i.readable,e=i.writable;n.worker.postMessage({action:"insertable-streams-sender",codec:n.options.codec,readable:r,writable:e},[r,e])}})),d=this.signaling,this.signaling=h,l=this.signaling.publish(v,this.options),w=c.peer.setLocalDescription(c.sessionDescription),[4,ut.all([l,w])];case 7:return e=m.sent(),g=e[0],!this.options.disableVideo&&this.options.bandwidth>0&&(g=c.updateBandwidthRestriction(g,this.options.bandwidth)),[4,c.setRTCRemoteSDP(g)];case 8:return m.sent(),$r.info("Broadcasting to streamName: ",this.streamName),_=this.webRTCPeer,this.webRTCPeer=c,this.setReconnect(),t.migrate&&this.webRTCPeer.on(Fi.connectionStateChange,function(t){var n,i;["connected","disconnected","failed","closed"].includes(t)&&(null==(n=null==d?void 0:d.close)||n.call(d),null==(i=null==_?void 0:_.closeRTCPeer)||i.call(_),d=_=null)}),[2]}})}).call(this)},i.sendMetadata=function(t,n){var i;if(void 0===n&&(n="d40e38ea-d419-4c62-94ed-20ac37b4e4fa"),null!=(i=this.options)&&i.metadata&&this.worker)this.worker.postMessage({action:"metadata-sei-user-data-unregistered",uuid:n,payload:t});else{var r="Could not send metadata due to:";this.options?this.options.metadata?this.worker||(r+="\n- Stream not being published."):(r+="\n- Metadata option is not enabled.",this.options.codec!==xi.H264&&(r+="\n- Incompatible codec. Only H264 available."),this.options.disableVideo&&(r+="\n- Video disabled.")):r+="\n- Stream not being published.",$r.warn(r)}},n}(qr),ie=function(t){var n=function(t,n,i){var r=t["~run"]({value:n},Sr(i));return{typed:r.typed,success:!r.issues,output:r.value,issues:r.issues}}(Zr=Zr||Lr({sourceId:Ur(Hr()),stereo:Ur(Mr()),dtx:Ur(Mr()),absCaptureTime:Ur(Mr()),dependencyDescriptor:Ur(Mr()),mediaStream:Ur(zr([Or(Xr()),Xr()])),bandwidth:Ur(Fr()),metadata:Ur(Mr()),disableVideo:Ur(Mr()),disableAudio:Ur(Mr()),codec:Ur(Vr(k.values(xi))),simulcast:Ur(Mr()),scalabilityMode:Ur(Hr()),peerConfig:Ur(Lr({autoInitStats:Ur(Mr()),statsIntervalMs:Ur(Fr())})),record:Ur(Mr()),events:Ur(Or(Vr(["active","inactive","viewercount"]))),priority:Ur(Fr())}),t),i=n.success,r=n.issues;i||$r.warn(new Nr(r),t)};function re(t){if(!t)return new E;for(var n=t.length,i=new E(n/2),r=0;r<n;r+=2)i[r/2]=A(t.substr(r,2),16);return i}function ee(t,n,i){if(k.prototype.hasOwnProperty.call(t,i)&&k.prototype.hasOwnProperty.call(n,i)){var r=t[i];t[i]=n[i],n[i]=r}else console.error('One or both objects do not have the property "'.concat(i,'"'))}function se(t,n,i,r){return new(i||(i=ut))(function(e,s){function u(t){try{h(r.next(t))}catch(t){s(t)}}function o(t){try{h(r.throw(t))}catch(t){s(t)}}function h(t){var n;t.done?e(t.value):(n=t.value,V(n,i)?n:new i(function(t){t(n)})).then(u,o)}h((r=r.apply(t,n||[])).next())})}var ue,oe=he;function he(t,n){var i=_e();return(he=function(t,n){return i[t-=440]})(t,n)}!function(){for(var t=he,n=_e();;)try{if(-A(t(447))/1+A(t(445))/2+A(t(449))/3*(A(t(454))/4)+A(t(453))/5+-A(t(456))/6+A(t(450))/7+-A(t(441))/8*(-A(t(455))/9)==847340)break;n.push(n.shift())}catch(t){n.push(n.shift())}}();var ce=l&&l[oe(448)]||"",ae=l&&l[oe(443)]||"",fe=!(null==f||!f.RTCRtpScriptTransform),ve=ce.includes("Firefox"),de=!ve&&ae.includes("Apple"),le=!ve&&!de&&ce[oe(440)](oe(451)),we=!ve&&!de&&!le&&ce[oe(440)](oe(446)),ge=(null===(ue=null==l?void 0:l[oe(442)])||void 0===ue?void 0:ue[oe(452)])||(null==l?void 0:l[oe(452)])||"";function _e(){var t=["1583117AOxBcs","userAgent","153Sdjzsk","5371359GvUFPp","Edg","platform","7141470dfeDnP","10068LWEgOs","243621EPkoPw","8310150fEFCnA","includes","328VMcnkw","userAgentData","vendor","Win32","763310RGZQro","Chrome"];return(_e=function(){return t})()}var me={supportsRtpScriptTransform:fe,isFirefox:ve,isSafari:de,isEdge:le,isChrome:we,platform:ge,isWindows:"Windows"===ge||ge===oe(444)},ye=pe;function pe(t,n){var i=Se();return(pe=function(t,n){return i[t-=300]})(t,n)}!function(){for(var t=pe,n=Se();;)try{if(-A(t(327))/1+A(t(304))/2*(A(t(300))/3)+-A(t(332))/4*(A(t(316))/5)+-A(t(322))/6*(A(t(311))/7)+A(t(308))/8*(-A(t(307))/9)+A(t(314))/10*(A(t(302))/11)+A(t(329))/12==997665)break;n.push(n.shift())}catch(t){n.push(n.shift())}}();var ke=function(){function t(t){this[pe(310)]=t}var n=t.prototype;return n[ye(323)]=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var r,e=ye;Ae[e(319)]>=4&&(r=console)[e(323)].apply(r,[].concat([this[e(310)]],n))},n[ye(331)]=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var r,e=ye;Ae[e(319)]>=3&&(r=console)[e(331)].apply(r,[].concat([this[e(310)]],n))},n[ye(320)]=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var r,e=ye;Ae[e(319)]>=2&&(r=console)[e(320)].apply(r,[].concat([this[e(310)]],n))},n.error=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var r;Ae[ye(319)]>=1&&(r=console).error.apply(r,[].concat([this.tag],n))},t}();function be(t){return new ke(t)}var Ae={logLevel:3,mediaDumps:{video:{in:{durationMs:0,delimited:!0},out:{durationMs:0}},audio:{in:{durationMs:0},out:{durationMs:0}}}};function Te(){return(new Date)[ye(317)]().slice(11,-1)}function Se(){var t=["mediaBuffer","click","529321KfbOwo","endTimestampMs","28972188cmcnxe","containerFileExt","info","4ZlZeJQ","9kyfNFe","mediaType","172953TzXwsI","byteLength","1327806tybvjI","href","createObjectURL","1089qysnCz","112088WLFXHK","substring","tag","692993ZcAeLj","set","download","810qiScYX","startTimestampMs","8821555KArxhe","toISOString","application/octet-stream","logLevel","warn","revokeObjectURL","42PDuKrJ","debug","targetDurationMs"];return(Se=function(){return t})()}var Ee=function(){function t(t,n,i){var r=ye;this[r(325)]=null,this[r(315)]=-1,this.endTimestampMs=-1,this[r(301)]=t,this[r(330)]=n,this[r(324)]=i,i>0&&(this[r(325)]=new E)}return t.prototype.append=function(t,n){var i,r,e,s,u=ye;if(!this[u(325)])return!1;if(this[u(325)]=(i=this[u(325)],r=t,(s=new E((0|i[(e=ye)(303)])+(0|r.byteLength)))[e(312)](i,0),s[e(312)](r,0|i.byteLength),s),void 0!==n)if(-1===this[u(315)])this.startTimestampMs=n,this[u(328)]=n+this[u(324)];else if(n>=this[u(328)]){var o=(new Date)[u(317)]()[u(309)](0,19).replace(/:/g,"-"),h=this.mediaType+"-"+o+"."+this.containerFileExt;return function(t,n,i){void 0===i&&(i=ye(318));var r=ye,e=v.createElement("a"),s=new Blob([t],{type:i});e.href=URL[r(306)](s),e[r(313)]=n,e[r(326)](),URL[r(321)](e[r(305)])}(this[u(325)],h),this.mediaBuffer=null,!1}return!0},t}(),Ie=Pe;!function(){for(var t=Pe,n=Xe();;)try{if(A(t(160))/1+-A(t(363))/2+-A(t(321))/3*(-A(t(401))/4)+A(t(229))/5+-A(t(276))/6+A(t(400))/7*(-A(t(153))/8)+-A(t(223))/9==858456)break;n.push(n.shift())}catch(t){n.push(n.shift())}}();var Re=be("[MUX]"),Ce=me[Ie(387)];function De(t,n){var i=Ie,r=new E((0|t[i(413)])+(0|n[i(413)]));return r.set(t,0),r[i(251)](n,0|t[i(413)]),r}function Pe(t,n){var i=Xe();return(Pe=function(t,n){return i[t-=147]})(t,n)}function Ne(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=1/0),function(t,n,i,r){var e=Ie,s=r[e(425)]||1;n*=s,i*=s;var u,o=V(u=t,ArrayBuffer)?u:u[Ie(366)],h=(t[e(188)]||0)+t[e(413)],c=(t[e(188)]||0)+n,a=b[e(177)](0,b[e(291)](c,h)),f=b[e(291)](a+b[e(177)](i,0),h);return new r(o,a/=s,(f/=s)-a)}(t,n,i,E)}function Be(t){var n=Ie,i=Array.from(t)[n(238)](function(t){return t[n(384)](0)});return new E(i)}var xe=function(t,n,i,r,e,s,u,o,h,c,a,f,v,d,l){function w(t){var n=Ie;this[n(452)]=t,this[n(402)]=(96&this[n(452)][0])>>5,this[n(186)]=31&this[n(452)][0],this.isvcl=1==this[n(186)]||5==this[n(186)],this[n(309)]="",this.isfmb=!1}var g=w.prototype;return g[o]=function(){var t=Ie;return w[t(234)](this)+": NRI: "+this[t(209)]()},g[h]=function(){return this[Ie(402)]},g[c]=function(){return this[Ie(186)]},g[a]=function(){return this[Ie(186)]===w.IDR},g[f]=function(){return this[Ie(452)]},g[v]=function(){return this[Ie(452)].byteLength},g[d]=function(){return 4+this[Ie(327)]()},g[l]=function(){var t=Ie,n=new E(this[t(194)]());return new DataView(n[t(366)]).setUint32(0,this[t(194)]()-4),n[t(251)](this.getPayload(),4),n},w[u]=function(t){var n=Ie;return t[n(186)]in w[n(159)]?w[n(159)][t.ntype]:n(344)},Nt(w,null,[{key:t,get:function(){return 1}},{key:n,get:function(){return 5}},{key:"SEI",get:function(){return 6}},{key:i,get:function(){return 7}},{key:r,get:function(){return 8}},{key:e,get:function(){return 9}},{key:s,get:function(){var t,n=Ie;return(t={})[w[n(427)]]=n(427),t[w[n(273)]]=n(273),t[w[n(324)]]=n(324),t[w.PPS]="PPS",t[w[n(449)]]="NDR",t[w.AUD]=n(272),t}}]),w}(Ie(449),Ie(427),Ie(324),Ie(379),Ie(272),Ie(159),Ie(234),Ie(365),Ie(209),Ie(234),Ie(306),Ie(203),Ie(327),Ie(194),Ie(341)),Oe=function(){function t(t){var n=Ie;this[n(316)]=t,this[n(368)]=0,this[n(157)]=8*t.byteLength}var n=t.prototype;return n[Ie(433)]=function(t){var n=Ie;this.data=t,this[n(368)]=0,this.bitLength=8*t[n(413)]},n.skipBits=function(t){var n=Ie;if(this[n(451)]<t)return!1;this[n(368)]+=t},n[Ie(338)]=function(t,n){void 0===n&&(n=!0);var i=Ie;return this[i(259)](t,this[i(368)],n)},n.getBits=function(t,n,i){void 0===i&&(i=!0);var r=Ie;if(this[r(451)]<t)return 0;var e=n%8,s=this.data[n/8|0]&255>>>e,u=8-e;if(u>=t)return i&&(this[r(368)]+=t),s>>u-t;i&&(this[r(368)]+=u);var o=t-u;return s<<o|this[r(259)](o,n+u,i)},n[Ie(444)]=function(){var t,n=Ie;for(t=0;t<this[n(157)]-this[n(368)];++t)if(0!==this[n(259)](1,this[n(368)]+t,!1))return this[n(368)]+=t,t;return t},n[Ie(334)]=function(){var t=Ie;this[t(155)](1+this[t(444)]())},n.skipEG=function(){var t=Ie;this[t(155)](1+this[t(444)]())},n[Ie(179)]=function(){var t=Ie,n=this.skipLZ();return this[t(338)](n+1)-1},n[Ie(248)]=function(){var t=this[Ie(179)]();return 1&t?1+t>>>1:-1*(t>>>1)},n[Ie(239)]=function(){return 1===this[Ie(338)](1)},n[Ie(419)]=function(t){return void 0===t&&(t=1),this.readBits(8*t)},n[Ie(232)]=function(){return this.readBits(16)},n.readUInt=function(){return this[Ie(338)](32)},Nt(t,[{key:Ie(451),get:function(){return this[Ie(157)]-this.index}}]),t}(),Me=function(t,n,i,r,e,s,u){function o(t){var n=Ie;this.remuxer=t,this[n(233)]=t.mp4track}var h=o.prototype;return h[e]=function(t){var n=Ie,i=o[n(432)](new E(t));this.track[n(237)]=i.width,this[n(233)].height=i.height,this.track[n(382)]=[new E(t)],this.track[n(210)]=n(292);for(var r=new DataView(t.buffer,t[n(188)]+1,4),e=0;e<3;++e){var s=r[n(313)](e)[n(365)](16);s[n(268)]<2&&(s="0"+s),this.track[n(210)]+=s}},h[s]=function(t){var n=Ie;this[n(233)][n(434)]=[new E(t)]},h[u]=function(t){var n=Ie;if(!t)return!1;var i=!1;switch(t[n(234)]()){case xe[n(427)]:case xe.NDR:i=!0;break;case xe[n(379)]:!this[n(233)][n(434)]&&(this[n(345)](t.getPayload()),!this[n(175)][n(296)]&&this[n(233)][n(434)]&&this.track[n(382)]&&(this.remuxer[n(296)]=!0)),i=!0;break;case xe[n(324)]:!this.track.sps&&(this[n(256)](t[n(203)]()),!this[n(175)][n(296)]&&this[n(233)].pps&&this[n(233)][n(382)]&&(this.remuxer[n(296)]=!0)),i=!0;break;case xe[n(272)]:break;case xe.SEI:i=!0}return i},o[t]=function(t,n){for(var i=Ie,r=[],e=!1,s=!1,u=!1,o=!1,h=0,c=0,a=0,f=[];h<=t.byteLength;){if(h<t.byteLength){var v=t[h++];0!==v?(1===v&&c>1&&(a=c>2?4:3,f.push(h)),c=0):++c}else a=0,f.push(h++);if(f.length>1){var d=f.shift(),l=f[0]-a;if(d<l){var w=!1,g=31&t[d];if(g===xe.NDR?s=!0:g===xe.IDR?e=!0:g===xe.SPS?(w=u,u=!0):g===xe.PPS&&(w=o,o=!0),!w)if(!n||g!==xe.NDR&&g!==xe.IDR)r.push(t.subarray(d,l));else{var _=new E(l-d),m=0;for(h=d,c=0;h<l;){var y=t[h++];c>1&&3===y&&(c=0,y=t[h++]),0!==y?c=0:++c,_[m++]=y}r.push(_.subarray(0,m))}}}}var p=!0,k=!1;return s||e?s&&e&&(Re[i(265)](i(331)),p=!1):(Re[i(265)]("[H264Parser] No VCL NALUs found"),p=!1),e&&(u&&o?k=!0:Re.warn(i(158))),{valid:p,idr:k,nalus:r}},o[n]=function(t,n){for(var i=8,r=8,e=0;e<n;e++)0!==r&&(r=(i+t.readEG()+256)%256),i=0===r?i:r},o[i]=function(t){var n,i,r,e,s,u,h=Ie,c=new Oe(t),a=0,f=0,v=0,d=0,l=1;if(c.readUByte(),n=c[h(419)](),c.readBits(5),c[h(155)](3),c[h(419)](),c[h(334)](),100===n||110===n||122===n||244===n||44===n||83===n||86===n||118===n||128===n){var w=c.readUEG();if(3===w&&c[h(155)](1),c[h(334)](),c[h(334)](),c[h(155)](1),c[h(239)]()){u=3!==w?8:12;for(var g=0;g<u;++g)c[h(239)]()&&(g<6?o[h(333)](c,16):o[h(333)](c,64))}}c[h(334)]();var _=c[h(179)]();if(0===_)c.readUEG();else if(1===_){c.skipBits(1),c[h(221)](),c[h(221)](),i=c[h(179)]();for(var m=0;m<i;++m)c[h(221)]()}if(c[h(334)](),c.skipBits(1),r=c[h(179)](),e=c.readUEG(),0===(s=c[h(338)](1))&&c[h(155)](1),c[h(155)](1),c.readBoolean()&&(a=c[h(179)](),f=c[h(179)](),v=c[h(179)](),d=c[h(179)]()),c[h(239)]()){if(c.readBoolean()){var y;switch(c.readUByte()){case 1:y=[1,1];break;case 2:y=[12,11];break;case 3:y=[10,11];break;case 4:y=[16,11];break;case 5:y=[40,33];break;case 6:y=[24,11];break;case 7:y=[20,11];break;case 8:y=[32,11];break;case 9:y=[80,33];break;case 10:y=[18,11];break;case 11:y=[15,11];break;case 12:y=[64,33];break;case 13:y=[160,99];break;case 14:y=[4,3];break;case 15:y=[3,2];break;case 16:y=[2,1];break;case 255:y=[c[h(419)]()<<8|c[h(419)](),c[h(419)]()<<8|c[h(419)]()]}y&&y[0]>0&&y[1]>0&&(l=y[0]/y[1])}c.readBoolean()&&c[h(155)](1),c[h(239)]()&&(c[h(155)](4),c[h(239)]()&&c[h(155)](24)),c[h(239)]()&&(c[h(334)](),c[h(334)]()),c.readBoolean()&&(c.readUInt(),c[h(187)](),c.readBoolean())}return{width:b[h(440)]((16*(r+1)-2*a-2*f)*l),height:(2-s)*(e+1)*16-(s?2:4)*(v+d)}},o[r]=function(t){var n=Ie,i=new Oe(t[n(203)]());i[n(419)](),t[n(196)]=0===i[n(179)](),t[n(309)]=i[n(179)]()},o}(Ie(267),Ie(333),Ie(432),Ie(386),Ie(256),Ie(345),Ie(378)),Le=function(){function t(t){var n=Ie;this.listener={},this[n(234)]=""|t}var n=t.prototype;return n.on=function(t,n){var i=Ie;return!this[i(270)][t]&&(this.listener[t]=[]),this[i(270)][t].push(n),!0},n.off=function(t,n){var i=Ie;if(this[i(270)][t]){var r=this[i(270)][t].indexOf(n);return r>-1&&this[i(270)][t][i(369)](r,1),!0}return!1},n[Ie(219)]=function(){this.listener={}},n[Ie(225)]=function(t,n){var i=Ie;return!!this[i(270)][t]&&(this[i(270)][t].map(function(t){t[i(200)](null,[n])}),!0)},t}(),Ue=function(){function t(n){var i,r,e=Ie;for(var s in this[e(285)]=n,this.saiIvSize={video:"cenc"===(null==(i=n.config[e(415)])?void 0:i[e(201)])?16:0,audio:"cenc"===(null==(r=n[e(154)][e(407)])?void 0:r[e(201)])?16:0},t[e(212)]={avc1:[],encv:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],Opus:[],dOps:[],enca:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],pssh:[],sinf:[],frma:[],schm:[],schi:[],tenc:[],saiz:[],saio:[],senc:[]},t[e(212)])t.types[s]=[s[e(384)](0),s[e(384)](1),s[e(384)](2),s.charCodeAt(3)];var u=new E([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),o=new E([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);t.HDLR_TYPES={video:u,audio:o};var h=new E([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),c=new E([0,0,0,0,0,0,0,0]);t.STTS=t[e(377)]=t[e(213)]=c,t.STSZ=new E([0,0,0,0,0,0,0,0,0,0,0,0]),t[e(438)]=new E([0,0,0,1,0,0,0,0,0,0,0,0]),t[e(307)]=new E([0,0,0,0,0,0,0,0]),t[e(168)]=new E([0,0,0,0,0,0,0,1]);var a=new E([105,115,111,109]),f=new E([97,118,99,49]),v=new E([0,0,0,1]);t[e(183)]=t[e(347)](t[e(212)].ftyp,a,v,a,f),t[e(147)]=t[e(347)](t.types.dinf,t[e(347)](t[e(212)][e(280)],h))}var n=t.prototype;return n[Ie(190)]=function(n){var i=Ie;return t[i(347)](t[i(212)][i(190)],t[i(418)][n])},n[Ie(244)]=function(n){var i=Ie;return t[i(347)](t[i(212)][i(244)],n)},n[Ie(380)]=function(n,i){var r=Ie;return t[r(347)](t[r(212)][r(380)],new E([0,0,0,0,0,0,0,0,0,0,0,0,n>>>24,n>>>16&255,n>>>8&255,255&n,0,0,0,0,85,196,0,0]))},n[Ie(215)]=function(n){var i=Ie;return t[i(347)](t[i(212)].mdia,this[i(380)](n[i(274)],n[i(290)]),this[i(190)](n[i(234)]),this[i(230)](n))},n[Ie(443)]=function(n){var i=Ie;return t.box(t[i(212)][i(443)],new E([0,0,0,0,n>>>24,n>>>16&255,n>>>8&255,255&n]))},n[Ie(230)]=function(n){var i=Ie;return n[i(234)]===i(407)?t[i(347)](t[i(212)][i(230)],t.box(t.types[i(255)],t.SMHD),t[i(147)],this[i(362)](n)):t[i(347)](t.types[i(230)],t[i(147)],this[i(362)](n),t[i(347)](t[i(212)].vmhd,t[i(438)]))},n[Ie(370)]=function(n,i,r){var e=Ie;return t[e(347)](t.types.moof,this[e(443)](n),this[e(293)](r,i))},n[Ie(295)]=function(n,i,r){for(var e=Ie,s=n[e(268)],u=[];s--;)u[s]=this.trak(n[s]);return t.box[e(200)](null,[t[e(212)][e(295)],this[e(240)](r,i),this[e(447)](n)][e(389)](u)[e(389)](this[e(322)](n)))},n[Ie(322)]=function(n){for(var i=Ie,r=n[i(268)],e=[];r--;)e[r]=this[i(305)](n[r]);return t[i(347)][i(200)](null,[t[i(212)][i(322)]][i(389)](e))},n[Ie(240)]=function(n,i){var r=Ie,e=new E([0,0,0,0,0,0,0,0,0,0,0,0,n>>>24,n>>>16&255,n>>>8&255,255&n,i>>>24,i>>>16&255,i>>>8&255,255&i,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return t[r(347)](t.types.mvhd,e)},n[Ie(420)]=function(n){for(var i=Ie,r=n[i(428)]||[],e=new E(4+r.length),s=0;s<r[i(268)];s++){var u=r[s][i(375)];e[s+4]=u.dependsOn<<4|u[i(149)]<<2|u[i(422)]}return t[i(347)](t[i(212)][i(420)],e)},n[Ie(362)]=function(n){var i=Ie;return t[i(347)](t.types[i(362)],this[i(165)](n),t.box(t[i(212)][i(329)],t[i(421)]),t[i(347)](t.types[i(227)],t[i(377)]),t[i(347)](t.types[i(235)],t[i(218)]),t[i(347)](t[i(212)].stco,t[i(213)]))},n[Ie(303)]=function(n){var i,r,e,s=Ie,u=[],o=[];for(i=0;i<n[s(382)].length;i++)e=(r=n.sps[i])[s(413)],u.push(e>>>8&255),u.push(255&e),u=u[s(389)](Array.prototype[s(314)][s(395)](r));for(i=0;i<n[s(434)][s(268)];i++)e=(r=n[s(434)][i])[s(413)],o[s(406)](e>>>8&255),o[s(406)](255&e),o=o.concat(Array.prototype[s(314)].call(r));var h=t[s(347)](t[s(212)][s(408)],new E([1,u[3],u[4],u[5],255,224|n.sps[s(268)]].concat(u)[s(389)]([n[s(434)][s(268)]]).concat(o))),c=n[s(237)],a=n[s(374)],f=t[s(347)](t.types[s(441)],t.box(t[s(212)][s(318)],new E([97,118,99,49])),t[s(347)](t[s(212)][s(349)],new E([].concat([0,0,0,0],Be(this[s(285)][s(154)][s(415)][s(201)]),[0,1,0,0]))),t.box(t.types[s(217)],this[s(298)](s(415))));return t[s(347)](t[s(212)].encv,new E([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c>>>8&255,255&c,a>>>8&255,255&a,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,65,86,67,32,67,111,100,105,110,103,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]),h,f)},n[Ie(372)]=function(t){var n=Ie,i=t[n(154)][n(413)],r=new E(26+i+3);return r[n(251)]([0,0,0,0,3,23+i,0,1,0,4,15+i,64,21,0,0,0,0,0,0,0,0,0,0,0,5,i]),r[n(251)](t[n(154)],26),r.set([6,1,2],26+i),r},n[Ie(403)]=function(n){var i=Ie,r=n[i(354)];return t[i(347)](t[i(212)][i(403)],new E([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,n[i(390)],0,16,0,0,0,0,r>>>8&255,255&r,0,0]),t[i(347)](t[i(212)][i(372)],this[i(372)](n)))},n[Ie(266)]=function(t){var n=Ie,i=t[n(354)];return new E([0,t[n(390)],1,56,0,0,i>>>8&255,255&i,0,0,0])},n[Ie(416)]=function(n){var i=Ie,r=n.audiosamplerate;return t[i(347)](t.types[i(416)],new E([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,n[i(390)],0,16,0,0,0,0,r>>>8&255,255&r,0,0]),t[i(347)](t[i(212)][i(266)],this[i(266)](n)))},n[Ie(394)]=function(n){var i=Ie,r=t[i(347)](t.types[i(266)],this.dOps(n)),e=t[i(347)](t.types[i(441)],t.box(t.types.frma,new E([79,112,117,115])),t[i(347)](t.types.schm,new E([].concat([0,0,0,0],Be(this[i(285)][i(154)].audio[i(201)]),[0,1,0,0]))),t.box(t.types[i(217)],this[i(298)](i(407)))),s=n[i(354)];return t[i(347)](t[i(212)].enca,new E([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,n[i(390)],0,16,0,0,0,0,s>>>8&255,255&s,0,0]),r,e)},n[Ie(165)]=function(n){var i=Ie;return n[i(234)]===i(407)?t[i(347)](t[i(212)][i(165)],t[i(168)],n[i(199)]?this[i(394)](n):this[i(416)](n)):t[i(347)](t.types[i(165)],t[i(168)],this[i(303)](n))},n[Ie(278)]=function(n){var i=Ie,r=n.id,e=n[i(290)],s=n[i(237)],u=n[i(374)],o=n[i(388)];return t[i(347)](t[i(212)].tkhd,new E([0,0,0,7,0,0,0,0,0,0,0,0,r>>>24,r>>>16&255,r>>>8&255,255&r,0,0,0,0,e>>>24,e>>>16&255,e>>>8&255,255&e,0,0,0,0,0,0,0,0,0,0,0,0,255&o,o%1*10&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,s>>>8&255,255&s,0,0,u>>>8&255,255&u,0,0]))},n[Ie(293)]=function(n,i){var r,e=Ie,s=n.id,u=n[e(428)][0][e(171)],o=n.samples[0][e(290)],h=n[e(428)][0].flags,c=t[e(347)](t[e(212)].tfhd,new E([0,2,0,58,s>>>24,s>>>16&255,s>>>8&255,255&s,0,0,0,1,o>>>24,s>>>16&255,o>>>8&255,255&o,u>>>24,u>>>16&255,u>>>8&255,255&u,0,h[e(264)],0,0])),a=t[e(347)](t[e(212)].tfdt,new E([0,0,0,0,i>>>24,i>>>16&255,i>>>8&255,255&i]));if(n.encrypted){var f,v;if(n[e(234)]===e(415)?(f=!0,v=this[e(350)][e(415)]+(null==(r=n.samples[0][e(191)])?void 0:r.byteLength)):(f=!1,v=this[e(350)].audio),v>0){var d=this[e(242)](v),l=this[e(340)](n[e(428)],f),w=d[e(268)]+20+l[e(268)]+c[e(268)]+a[e(268)]+8+16+8+8,g=this[e(271)](n,w);return t[e(347)](t[e(212)][e(293)],c,a,g,d,this.saio(w-l[e(268)]+g.length+8),l)}var _=this[e(340)](null,!1),m=_.length+c[e(268)]+a[e(268)]+8+16+8+8,y=this[e(271)](n,m);return t[e(347)](t.types[e(293)],c,a,y,_)}return t.box(t[e(212)].traf,c,a,this.trun(n,c[e(268)]+a.length+8+16+8+8))},n.trak=function(n){var i=Ie;return n.duration=n[i(290)]||4294967295,t.box(t[i(212)].trak,this[i(278)](n),this[i(215)](n))},n[Ie(305)]=function(n){var i=Ie,r=n.id;return t[i(347)](t.types[i(305)],new E([0,0,0,0,r>>>24,r>>>16&255,r>>>8&255,255&r,0,0,0,1,0,0,0,16,0,0,0,0,0,0,0,0]))},n.trun=function(n,i){var r=Ie,e=(n[r(428)]||[])[r(268)],s=new E(12);return i+=20,s.set([0,0,0,1,e>>>24,e>>>16&255,e>>>8&255,255&e,i>>>24,i>>>16&255,i>>>8&255,255&i],0),t[r(347)](t.types[r(271)],s)},n[Ie(224)]=function(t,n){var i,r,e,s=Ie,u=s(445),o=function(t){var n=function(t){for(var n=Ie,i="",r=0;r<t[n(268)];r+=16e3){var e=t.subarray(r,r+16e3);i+=String[n(358)].apply(null,e)}return i}(Ne(t));return btoa(n)}((i=t,(e=[])[(r=Ie)(406)](i[3]),e[r(406)](i[2]),e.push(i[1]),e.push(i[0]),e[r(406)](i[5]),e[r(406)](i[4]),e.push(i[7]),e.push(i[6]),(i=Ne(i))[r(251)](e,0),i));return Ne(function(t){for(var n=Ie,i=new E(2*t[n(268)]),r=new DataView(i[n(366)]),e=0;e<t[n(268)];++e){var s=t.charCodeAt(e);r[n(253)](2*e,s,!0)}return i[n(366)]}([s(328)+u+'" version="4.3.0.0">',s(308),"<PROTECTINFO>",s(398),s(353),s(216)+o+'"',">",s(412),s(249),s(391),n?"<LA_URL>"+n+s(423):"",s(351),s(269)].join("")))},n.pssh=function(n){var i=Ie;if(this[i(285)][i(383)][i(202)](i(178)))return t[i(347)](t.types[i(447)],new E([].concat([0,0,0,0,237,239,139,169,121,214,74,206,163,200,39,220,213,29,33,237,0,0,0,18,18,16],this[i(285)][i(154)][n[0][i(234)]].keyId)));if(this[i(285)][i(383)]===i(356)){var r=this[i(224)](this[i(285)][i(154)][n[0][i(234)]][i(429)],this.drm[i(371)]),e=r[i(413)];return t[i(347)](t[i(212)][i(447)],new E([].concat([0,0,0,0,154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149,e>>>24,e>>>16&255,e>>>8&255,255&e],r)))}return this.drm[i(383)]===i(323)?t[i(347)](t[i(212)][i(447)],new E([].concat([1,0,0,0,16,119,239,236,192,178,77,2,172,227,60,30,82,226,251,75,0,0,0,1],this.drm[i(154)][n[0].type].keyId,[0,0,0,0]))):this.drm[i(383)]===i(397)?null:void Re[i(189)](i(393)+this[i(285)][i(383)])},n[Ie(298)]=function(n){var i,r,e=Ie,s=this[e(285)][e(154)][n];return s[e(201)]===e(226)?(i=new E([].concat([16],s.iv)),r=25):(i=new E([]),r=0),t[e(347)](t[e(212)][e(298)],new E([].concat([1,0,0,0,0,r,1,this[e(350)][n]],s[e(429)],i)))},n[Ie(242)]=function(n){var i=Ie;return t[i(347)](t[i(212)][i(242)],new E([0,0,0,0,n,0,0,0,1]))},n[Ie(204)]=function(n){var i=Ie;return t[i(347)](t[i(212)][i(204)],new E([0,0,0,0,0,0,0,1,n>>>24,n>>>16&255,n>>>8&255,255&n]))},n[Ie(340)]=function(n,i){var r=Ie,e=null;return n&&(1!==n[r(268)]&&Re[r(189)](r(182)+n[r(268)]+" samples - expected 1"),e=n[0][r(191)]),e&&e[r(413)]?t[r(347)](t[r(212)].senc,new E([].concat([0,0,0,i?2:0,0,0,0,1],e))):t.box(t[r(212)][r(340)],new E([0,0,0,0,0,0,0,1]))},n[Ie(439)]=function(n,i,r){var e=Ie,s=this[e(295)](n,i,r),u=new E(t[e(183)].byteLength+s[e(413)]);return u[e(251)](t[e(183)]),u[e(251)](s,t[e(183)][e(413)]),u},t.box=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];for(var e,s=Ie,u=8,o=i.length,h=o;o--;)i[o]&&(u+=i[o].byteLength);for((e=new E(u))[0]=u>>>24,e[1]=u>>>16&255,e[2]=u>>>8&255,e[3]=255&u,e[s(251)](t,4),o=0,u=8;o<h;++o)i[o]&&(e[s(251)](i[o],u),u+=i[o][s(413)]);return e},t}(),Fe=1,Ve=function(t,n,i){function r(){this.seq=1}var e=r.prototype;return e[n]=function(){var t=Ie;this.mp4track[t(263)]=0,this[t(207)][t(428)]=[]},e[i]=function(){var t=Ie;return!(!this[t(296)]||!this[t(428)][t(268)])},r[t]=function(){return Fe++},r}(Ie(411),Ie(246),Ie(211)),He=function(t){function n(n){var i,r=Ie;return(i=t.call(this)||this)[r(296)]=!0,i[r(222)]=0,i.dts=0,i.mp4track={id:Ve[r(411)](),type:r(407),channelCount:2,audiosamplerate:48e3,len:0,fragmented:!0,timescale:n,duration:n,samples:[],codec:r(364),encrypted:!0},i[r(428)]=[],i}Ct(n,t);var i=n.prototype;return i.resetTrack=function(){var t=Ie;this[t(437)]=1,this[t(222)]=0,this[t(336)]=0},i[Ie(181)]=function(t,n,i){var r=Ie;if(t[r(268)]>0)for(var e=0;e<t.length;e++){var s=t[e],u=s[r(392)],o=u[r(413)];this.samples[r(406)]({units:u,size:o,duration:s.duration,sampleAuxInfo:n,timestamp:i}),this[r(207)][r(263)]+=o}},i[Ie(161)]=function(){var t=Ie;if(!this.samples)return null;for(var n,i=this[t(207)][t(428)];this[t(428)][t(268)];){var r=this.samples[t(342)](),e=(1e3*r.timestamp|0)-this[t(222)]|0;e<5&&(e=5),this[t(336)]=this[t(222)],this.nextDts+=e,n={size:r[t(171)],duration:e,cts:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1},sampleAuxInfo:r[t(191)]};var s=new E(r[t(171)]);return s[t(251)](r.units,0),i[t(406)](n),new E(s[t(366)],0,r[t(171)])}return null},n}(Ve),We=function(t){function n(n,i){var r,e=Ie;return(r=t.call(this)||this)[e(296)]=!1,r[e(222)]=0,r[e(336)]=0,r[e(361)]=i,r[e(207)]={id:Ve[e(411)](),type:e(415),len:0,fragmented:!0,sps:"",pps:"",width:0,height:0,timescale:n,duration:n,samples:[],encrypted:!0},r[e(428)]=[],r[e(302)]=new Me(r),r}Ct(n,t);var i=n.prototype;return i[Ie(297)]=function(){var t=Ie;this[t(437)]=1,this[t(296)]=!1,this[t(207)][t(382)]="",this.mp4track[t(434)]="",this.nextDts=0,this.dts=0},i.remux=function(t,n,i){for(var r,e=Ie,s=Lt(t);!(r=s()).done;){for(var u,o=r.value,h=[],c=0,a=Lt(o[e(392)]);!(u=a()).done;){var f=u.value;this[e(302)].parseNAL(f)&&(h[e(406)](f),c+=f[e(194)]())}h[e(268)]>0&&this.readyToDecode&&(this[e(207)][e(263)]+=c,this[e(428)].push({units:h,size:c,keyFrame:o.keyFrame,duration:o[e(290)],sampleAuxInfo:n,timestamp:i}))}},i[Ie(161)]=function(){var t=Ie;if(!this[t(211)]()||!this[t(428)])return null;var n,i=this.mp4track[t(428)],r=this.samples[t(342)](),e=r.units,s=(1e3*r[t(332)]|0)-this[t(222)]|0;s<5&&(s=5),s>5e3&&Re[t(381)](t(430)+(s/1e3|0)+" s"),this.dts=this[t(222)],this[t(222)]+=s,n={size:r.size,duration:s,cts:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,isNonSync:r[t(148)]?0:1,dependsOn:r[t(148)]?2:1},sampleAuxInfo:r[t(191)]};for(var u,o=0,h=Lt(e);!(u=h()).done;)o+=u.value[t(194)]();for(var c,a=0,f=new E(o),v=Lt(e);!(c=v()).done;){var d=c.value;f[t(251)](d[t(341)](),a),a+=d[t(194)]()}return i.push(n),new E(f[t(366)],0,o)},n}(Ve),ze=function(t){function n(n,i){var r,e=Ie;return(r=t.call(this,e(175))||this)[e(260)]=!1,r.trackTypes=[],r[e(357)]={},r[e(274)]=1e3,r[e(163)]=0,r[e(361)]=n,r.mp4=i,r}Ct(n,t);var i=n.prototype;return i[Ie(281)]=function(t){var n=Ie;("video"===t||"both"===t)&&(this[n(357)][n(415)]=new We(this.timescale,this[n(361)]),this[n(335)][n(406)](n(415))),(t===n(407)||t===n(417))&&(this[n(357)][n(407)]=new He(this.timescale),this.trackTypes[n(406)](n(407)))},i[Ie(250)]=function(){for(var t,n=Ie,i=Lt(this[n(335)]);!(t=i()).done;){var r=t.value;this.tracks[r].resetTrack()}this[n(260)]=!1},i[Ie(262)]=function(){var t=Ie;this.tracks={},this[t(219)]()},i[Ie(246)]=function(){var t=Ie;if(this[t(260)])for(var n,i=Lt(this[t(335)]);!(n=i()).done;)for(var r=n.value,e=this[t(357)][r];;){var s=e[t(161)]();if(!s||!s.byteLength)break;var u={type:r,payload:De(this[t(164)][t(370)](e[t(437)]++,e[t(336)],e[t(207)]),this.mp4[t(244)](s)),dts:e[t(336)]};this[t(225)](t(366),u),e[t(246)]()}else this[t(211)]()&&(this[t(225)]("ready"),this.initSegment(),this[t(260)]=!0,this[t(246)]())},i[Ie(439)]=function(){for(var t,n=Ie,i=Lt(this[n(335)]);!(t=i()).done;){var r=t.value,e=this[n(357)][r],s={type:r,payload:this[n(164)][n(439)]([e[n(207)]],this[n(163)],this.timescale)};this[n(225)]("buffer",s)}},i.isReady=function(){for(var t,n=Ie,i=Lt(this[n(335)]);!(t=i()).done;){var r=t.value;if(!this.tracks[r][n(296)]||!this[n(357)][r][n(428)][n(268)])return!1}return!0},i[Ie(181)]=function(t){for(var n,i=Ie,r=Lt(this[i(335)]);!(n=r()).done;){var e=n.value,s=t[e];s.length>0&&this[i(357)][e][i(181)](s,"audio"===e?t.audioSampleAuxInfo:t[i(310)],t[i(332)])}this[i(246)]()},n}(Le);function Xe(){var t=["stsd","isSupported","src","STSD","endMSE","abort","size","appendBufferError","addSourceBuffer","setupMSE","remuxer","addEventListener","max","com.widevine","readUEG"," - ","remux","Received ","FTYP","readyState","valid","ntype","readUInt","byteOffset","error","hdlr","sampleAuxInfo","webkitsourceopen","Checking codec","getSize","irrecoverableError","isfmb","[MSE] buffer error:","url","encrypted","apply","encryption","startsWith","getPayload","saio","open","[MSE] source buffer error","mp4track","append","getNri","codec","isReady","types","STCO","feed","mdia",'VALUE="',"schi","STSZ","offAll","jmuxer","skipEG","nextDts","1036611gAoRea","generatePlayReadyHeader","dispatch","cbcs","stsc","endOfStream","6576815frVeWy","minf","releaseBuffer","readUShort","track","type","stsz","isvcl","width","map","readBoolean","mvhd","onReady","saiz","reportDiscontinuity","mdat","bufferControllers","flush","patchSampleAuxinfo","readEG","</KIDS>","reset","set","onMSEClose","setUint16","idr","smhd","parseSPS","bind","message","getBits","initialized","sourceBuffer","destroy","len","isNonSync","warn","dOps","extractNALUs","length","</WRMHEADER>","listener","trun","AUD","SEI","timescale","Num frames in chunk: ","7620738FWzrwf","mode","tkhd","dbgMediaDump","dref","addTrack","doAppend","options","[MSE] sourceclose","drm","mediaSource","Failure: Browser doesn't support MSE/MMS",'/mp4; codecs="',"function","duration","min","avc1.","traf","[MSE] sourceopen","moov","readyToDecode","resetTrack","tenc","onMSEOpen","MediaSource","removeSourceBuffer","h264","encv","sourceopen","trex","isKeyframe","SMHD","<DATA>","stype","videoSampleAuxInfo","ended","getElementById","getUint8","slice","audioSampleAuxInfo","data","ready","frma","mseReady","string","4760043VatbTq","mvex","org.w3.clearkey","SPS","buffered","no video element were found to render, provide a valid video element","getPayloadSize",'<WRMHEADER xmlns="',"stts","start","[H264Parser] Both IDR and non-IDR VCL NALUs found in the same frame","timestamp","skipScalingList","skipUEG","trackTypes","dts","queue","readBits","mseEnded","senc","getData","shift","[MSE] error: ","UNKNOWN","parsePPS","appendBuffer","box","initBrowser","schm","saiIvSize","</DATA>","out",'<KID ALGID="AESCTR" ',"audiosamplerate","reduce","com.microsoft.playready.recommendation","tracks","fromCharCode","updating","calculateExpectedSizeFromSai","videoElement","stbl","1159252OkMfWN","opus","toString","buffer","nalus","index","splice","moof","licenseUrl","esds","disableRemotePlayback","height","flags","createBuffer","STSC","parseNAL","PPS","mdhd","debug","sps","keySystem","charCodeAt","mse","parseHeader","isSafari","volume","concat","channelCount","</PROTECTINFO>","units","Unsupported DRM type ","enca","call","POSITIVE_INFINITY","com.apple.fps","<KIDS>","getVideoFrames","646233hEZDuD","4LuRDMh","nri","mp4a","ManagedMediaSource","buffer error","push","audio","avcC","onError","Buffered range ","getTrackID","</KID>","byteLength","No A/V data","video","Opus","both","HDLR_TYPES","readUByte","sdtp","STTS","hasRedundancy","</LA_URL>","revokeObjectURL","BYTES_PER_ELEMENT","webkitsourceclose","IDR","samples","keyId","timestamp gap: ","node","readSPS","setData","pps","onBuffer","remuxController","seq","VMHD","initSegment","ceil","sinf","sourceclose","mfhd","skipLZ","http://schemas.microsoft.com/DRM/2007/03/PlayReadyHeader","Browser does not support codec","pssh","mediasource is not available to end: ","NDR","isReset","bitsAvailable","payload","DINF","keyFrame","isDependedOn","isTypeSupported","assign","waitingForIdr","8hmeyto","config","skipBits","remove","bitLength","[H264Parser] IDR without SPS/PPS, not suitable for recovery","TYPES","13659xNePtU","getFramePayload","onBufferError","mediaDuration","mp4"];return(Xe=function(){return t})()}var qe=function(t){function n(n,i,r){var e,s,u=Ie;(e=t.call(this,u(366))||this)[u(234)]=i,e[u(337)]=new E;var o=null==(s=Ae.mediaDumps[i])?void 0:s[u(352)].durationMs;return o>0&&(e[u(279)]=new Ee(i,u(164),o)),e.sourceBuffer=n,e[u(385)]=r,e[u(195)]=!1,e[u(261)].addEventListener(u(189),function(t){var n=u;Re.warn(n(206),t,e.type),e[n(195)]=!0,e.dispatch("error",{type:e[n(234)],name:n(366),error:n(405)})}),e}Ct(n,t);var i=n.prototype;return i[Ie(262)]=function(){var t=Ie;this[t(337)]=null,this[t(279)]=null;try{this[t(261)]&&(this.sourceBuffer[t(170)](),this.mse[t(301)](this[t(261)]),this.sourceBuffer=null)}catch(t){}this.offAll()},i[Ie(282)]=function(){var t=Ie;if(this[t(337)][t(268)]&&this[t(261)]&&!this.sourceBuffer.updating){if(this[t(261)].buffered.length>1){for(var n=0;n<this[t(261)][t(325)][t(268)];++n){var i=n<this[t(261)].buffered.length-1;Re[t(381)](t(410)+n+(i?" (remove)":"")+": "+this[t(261)][t(325)][t(330)](n)+t(180)+this[t(261)][t(325)].end(n)),i&&this[t(261)][t(156)](this[t(261)].buffered[t(330)](n),this[t(261)][t(325)].end(n))}if(this[t(261)][t(359)])return}try{this[t(261)][t(346)](this[t(337)]),this[t(337)]=new E}catch(n){this[t(225)](t(189),{type:this.type,name:t(172),error:n})}}},i[Ie(214)]=function(t,n){var i=Ie;this.dbgMediaDump&&(this[i(279)][i(208)](t,n)||(this[i(279)]=null)),this[i(195)]||(this.queue=De(this.queue,t)),this[i(282)]()},n}(Le),Ge=function(t){function n(n){var i,r=Ie;(i=t.call(this,r(220))||this)[r(195)]=!1,i[r(152)]=!0,i[r(450)]=!1,i[r(319)]=!1,i.mseEnded=!1;var e={node:"",mode:r(415),debug:!1,onReady:function(){},onError:function(t){}};return i.options=k[r(151)]({},e,n),i[r(431)]=W(i.options[r(431)])===r(320)?v[r(312)](i[r(283)][r(431)]):i[r(283)][r(431)],i[r(285)]=n.drm,i[r(164)]=new Ue(i[r(285)]),i[r(436)]=new ze(i.node,i[r(164)]),i[r(436)][r(281)](i[r(283)][r(277)]),i[r(436)].on(r(366),i.onBuffer[r(257)](i)),i[r(436)].on(r(317),i[r(376)][r(257)](i)),i[r(348)](),i}Ct(n,t);var i=n.prototype;return i[Ie(348)]=function(){var t=Ie;W(this[t(283)][t(431)])===t(320)&&""==this.options[t(431)]&&Re[t(189)](t(326)),this[t(319)]=!1,this[t(174)]()},i[Ie(174)]=function(){var t=Ie;if(!f.ManagedMediaSource&&!f[t(300)])throw t(287);f.ManagedMediaSource?(this.node[t(373)]=!0,this[t(286)]=new ManagedMediaSource):this[t(286)]=new MediaSource,this[t(198)]=URL.createObjectURL(this[t(286)]),this.node[t(167)]=this[t(198)],this[t(339)]=!1,this[t(286)][t(176)](t(304),this[t(299)][t(257)](this)),this.mediaSource.addEventListener(t(442),this[t(252)][t(257)](this)),this.mediaSource.addEventListener(t(192),this[t(299)][t(257)](this)),this[t(286)][t(176)](t(426),this[t(252)][t(257)](this)),this[t(286)][t(176)](t(189),function(n){var i=t;Re[i(189)](i(343),n[i(258)])})},i[Ie(169)]=function(){var t=Ie;if(!this.mseEnded)try{this[t(339)]=!0,this[t(286)][t(184)]===t(205)&&this[t(286)][t(228)]()}catch(n){Re[t(189)](t(448),n)}},i[Ie(243)]=function(){var t=Ie;Re[t(381)]("Discontinuity!"),this[t(152)]=!0},i.feed=function(t){var n=Ie,i={video:[],audio:[]};if(this[n(195)]||this[n(339)]||!t||!this.remuxController)return-1;if(t[n(415)]){i[n(332)]=t.timestamp;var r=this[n(360)](t[n(310)],this[n(164)][n(350)][n(415)]),e=r!=t.video[n(413)],s=Me[n(267)](t[n(415)],e);if(!s[n(185)]||s[n(367)].length<1)return 0;if(this.waitingForIdr){if(!s[n(254)])return 0;this[n(152)]=!1}if(!Ce&&t[n(310)]){var u=s[n(367)][n(355)](function(t,i){return t+4+i[n(413)]},0);u!==r&&this.patchSampleAuxinfo(t[n(310)],this[n(164)][n(350)][n(415)],u-r)}i[n(415)]=this[n(399)](s[n(367)]),i[n(310)]=t[n(310)]}return t[n(407)]&&(i[n(332)]=t.timestamp,i[n(407)]=[{units:t[n(407)]}],i[n(315)]=t[n(315)]),t[n(415)]||t[n(407)]?(this[n(436)][n(181)](i),0):(Re[n(189)](n(414)),0)},i[Ie(399)]=function(t){for(var n,i=Ie,r=[],e=[],s=!1,u=!1,o=Lt(t);!(n=o()).done;){var h=n.value,c=new xe(h);c[i(234)]()!==xe[i(427)]&&c[i(234)]()!==xe[i(449)]||Me[i(386)](c),r.length&&u&&(c[i(196)]||!c[i(236)])&&(e[i(406)]({units:r,keyFrame:s}),r=[],s=!1,u=!1),r.push(c),s=s||c.isKeyframe(),u=u||c[i(236)]}if(r[i(268)])if(u)e.push({units:r,keyFrame:s});else{var a=e[i(268)]-1;a>=0&&(e[a][i(392)]=e[a][i(392)].concat(r))}return 1!==e[i(268)]&&Re.warn(i(275)+e[i(268)]),e},i[Ie(360)]=function(t,n){if(!t)return 0;for(var i=(t[0]<<8)+t[1],r=n+2+4,e=0,s=2;0<i&&s+r<=t.byteLength;){var u=(t[s+=n]<<8)+t[s+1],o=(t[s+2]<<24)+(t[s+3]<<16)+(t[s+4]<<8)+t[s+5];s+=6,e+=u+o}return e},i[Ie(247)]=function(t,n,i){var r=2;if(0<(t[0]<<8)+t[1]&&r+(n+2+4)<=t.byteLength){var e=(t[r+=n]<<8)+t[r+1];(e+=i)>=0&&(t[r]=e>>>8&255,t[r+1]=255&e)}return 0},i[Ie(376)]=function(){var t=Ie;if(this[t(319)]&&this[t(436)]&&this[t(436)][t(211)]()&&!this[t(245)])for(var i in this[t(245)]={},this[t(436)][t(357)]){var r=this.remuxController[t(357)][i],e=""[t(389)](i,t(288)).concat(r.mp4track[t(210)],'"');if(Re[t(381)](t(193),e),!n[t(166)](e))return Re.error(t(446)),!1;var s=this.mediaSource[t(173)](e);this[t(245)][i]=new qe(s,i,this[t(286)]),this[t(245)][i].on(t(189),this[t(162)][t(257)](this))}},i[Ie(231)]=function(){var t=Ie;for(var n in this.bufferControllers)this[t(245)][n][t(282)]()},i[Ie(435)]=function(t){var n=Ie;this[n(319)]&&this[n(245)]&&this[n(245)][t[n(234)]]&&this[n(245)][t[n(234)]].feed(t[n(452)],t[n(336)])},i.onMSEOpen=function(){var t=Ie;Re[t(381)](t(294)),this[t(286)].readyState!==t(311)&&(this[t(286)][t(290)]=Number[t(396)],this[t(319)]=!0,W(this[t(283)].onReady)===t(289)&&this[t(283)][t(241)][t(395)](null,this.isReset),URL[t(424)](this[t(198)]),this[t(376)]())},i[Ie(252)]=function(){var t=Ie;Re[t(381)](t(284)),this.mseReady=!1,this[t(169)]()},i.onBufferError=function(t){var n=Ie;Re.warn(n(197),t),this[n(195)]=!0,this.endMSE(),W(this.options[n(409)])===n(289)&&this[n(283)][n(409)][n(395)](null,t)},n.isSupported=function(t){var n=Ie;return f[n(404)]?f.ManagedMediaSource[n(150)](t):!!f[n(300)]&&f[n(300)][n(150)](t)},n}(Le);function je(t,n){var i=Qe();return(je=function(t,n){return i[t-=182]})(t,n)}function Qe(){var t=["1247170HwkwNv","bv","gitVersion","352GaBvIm","toISOString","14XlATBT","2568948xDjIMf","1027225mjPCDe","19691yiLZrh","195999uPnZlk","3038288UlnUQm","2033937CLMUfn"];return(Qe=function(){return t})()}!function(){for(var t=je,n=Qe();;)try{if(A(t(182))/1+A(t(192))/2*(A(t(184))/3)+-A(t(185))/4+-A(t(187))/5+A(t(193))/6+-A(t(183))/7*(A(t(190))/8)+-A(t(186))/9==553943)break;n.push(n.shift())}catch(t){n.push(n.shift())}}();var Ye=ts;function Ke(){var t=["1236858jPUtaw","certificate","11225xsjioT","275391VrsSlK","5816evMpkd","CrsCCAMSEKDc0WAwLAQT1SB2ogyBJEwYv4Tx7gUijgIwggEKAoIBAQC8Xc/GTRwZDtlnBThq8","7299lkgbxa","1470Lkqtku","production","Development","charCodeAt","xUuwokpsqVIHZrJfu62ar+BF8UVUKdK5oYQoiTZd9OzK3kr29kqGGk3lSgM0/p499p/FUL8oH","baseUrl","375060LzZhzk","230861ZKueQt","12pvGCSu","https://lic.drmtoday.com","35fxICRY","pQnNI61gzHO42XZOMuxytMm0F6puNHTTqhyY3Z290YqvSDdOB+UY5QJuXJgjhvOUD9+oaLlvT","Production","development","https://lic.test.drmtoday.com","UrTEfQxfPR4dJTquE+IDLAi5yeVVxzbAgMBAAE6DGNhc3RsYWJzLmNvbUABEoADMmGXpXg/0q","from","RL9KsD0v7ysBQVdUXEbJotcFz71tI5qc3jwr6GjYIPA3VzusD17PN6AGQniMwxJV12z/EgnUo","baigovcoURAZcr1d/G0rpREjLdVLG0Gjqk63Gx688W5gh3TKemsK3R1jV0dOfj3e6uV/kTpsN","pcFB13osydpD2AaDsgWo5RWJcNf+fzCgtUQx/0Au9+xVm5LQBdv8Ja4f2oiHN3dw","V382D1oJAM0F/YgCQtNDLz7vTWJ+QskNGi5Dd2qzO4s48Cnx5BLvL4H0xCRSw2Ed6ekHSdrRU","27eI5MATX39gYtCnn7dDXVxo4/rCYK0A4VemC3HRai2X3pSGcsKY7+6we7h4IycjqtuGtYg8A","HzgsJ7Hajdsyzn0Vs3+VysAgaJAkXZ+k+N6Ka0WBiZlCtcunVJDiHQbz1sF9GvcePUUi2fM/h","Staging","staging","name"];return(Ke=function(){return t})()}!function(){for(var t=ts,n=Ke();;)try{if(A(t(326))/1+A(t(325))/2+A(t(315))/3+A(t(327))/4*(-A(t(314))/5)+-A(t(312))/6+A(t(329))/7*(A(t(316))/8)+-A(t(318))/9*(A(t(319))/10)==181728)break;n.push(n.shift())}catch(t){n.push(n.shift())}}();var Je=Ye(317)+Ye(306)+"wyoYOE+M/t1oIbccwlTQ7o+BpV1X6TB7fxFyx1jsBtRsBWphU65w121zqmSiwzZzJ4xsXVQCJ"+Ye(330)+"+vwmV2/NJWxKqHBKdL9JqvOnNiQUF0hDI7Wf8Wb63RYSXKE27Ky31hKgx1wuq7TTWkA+kHnJT"+Ye(334)+Ye(323)+Ye(308)+"7hyskG5ZLAyJMzTvgnV3D8/I5Y6mCFBPb/+/Ri+9bEvquPF3Ff9ip3yEHu9mcQeEYCeGe9zR/"+Ye(307)+Ye(304)+Ye(336)+Ye(305),Ze=E[Ye(335)](f.atob(Je),function(t){return t[Ye(322)](0)}),$e=function(){function t(t){this[Ye(311)]=t}var n=t.prototype;return n.toString=function(){return this.name},n[Ye(324)]=function(){var t=Ye;switch(this[t(311)]){case"staging":return"https://lic.staging.drmtoday.com";case"development":return t(333);default:return t(328)}},n[Ye(313)]=function(){return Ze},t}();function ts(t,n){var i=Ke();return(ts=function(t,n){return i[t-=304]})(t,n)}$e[Ye(309)]=new $e(Ye(310)),$e[Ye(331)]=new $e(Ye(320)),$e[Ye(321)]=new $e(Ye(332));var ns=is;function is(t,n){var i=rs();return(is=function(t,n){return i[t-=252]})(t,n)}function rs(){var t=["SampleAuxInfo corrupted","error","50012RXzLep","3301necisu","[RTC-DRM]","subarray","buffer","64zGPhLV","162pDdDkb","659466dfDPqj","SampleAuxInfo corrupted (postfix not found)","data","4199670WddvRf","95WaGAXy","getUint8","137436hbCkvG","1351035XuhSnW","getUint16","byteLength","184863QcuifQ"];return(rs=function(){return t})()}!function(){for(var t=is,n=rs();;)try{if(-A(t(253))/1*(A(t(258))/2)+A(t(259))/3+A(t(252))/4*(-A(t(263))/5)+-A(t(265))/6+-A(t(269))/7*(-A(t(257))/8)+-A(t(266))/9+A(t(262))/10==173102)break;n.push(n.shift())}catch(t){n.push(n.shift())}}();var es=be(ns(254));!function(){for(var t=us,n=cs();;)try{if(A(t(369))/1+A(t(374))/2+A(t(366))/3+-A(t(373))/4+-A(t(365))/5+-A(t(368))/6*(A(t(370))/7)+A(t(367))/8==110661)break;n.push(n.shift())}catch(t){n.push(n.shift())}}();var ss=[];function us(t,n){var i=cs();return(us=function(t,n){return i[t-=365]})(t,n)}var os=null,hs=0;function cs(){var t=["799144UpkRWz","356926NfeJZx","set","slice","237700RBIjTO","627444ELwjUL","76968OxbdcX","6xPMWky","172231EpHRtx","1480332fEizHX","push","buffer"];return(cs=function(){return t})()}var as=Is;!function(){for(var t=Is,n=gs();;)try{if(-A(t(452))/1+-A(t(412))/2+-A(t(478))/3*(A(t(441))/4)+-A(t(485))/5*(-A(t(415))/6)+-A(t(400))/7+A(t(460))/8*(-A(t(486))/9)+-A(t(437))/10*(-A(t(470))/11)==412983)break;n.push(n.shift())}catch(t){n.push(n.shift())}}();var fs=be(as(424)),vs={licenseUrl:"",onFetch:void 0},ds={},ls=function(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=1/0),function(t,n,i){var r=as,e=E.BYTES_PER_ELEMENT;n*=e,i*=e;var s,u=V(s=t,ArrayBuffer)?s:s[as(484)],o=t[r(483)],h=n,c=b[r(432)](0,b.min(h,o)),a=b.min(c+b[r(432)](i,0),o);return new E(u,c/=e,(a/=e)-c)}(t,n,i)},ws=function(t){for(var n,i=as,r="",e=Lt(t);!(n=e()).done;){var s=n.value.toString(16);1==s[i(433)]&&(s="0"+s),r+=s}return r};function gs(){var t=["360308tFqTFd","usable for decryption (status: ","oct","decode","parse","license","parseFromString","message","8pQccIM","No clear key test key provided!","generateRequest","text/xml","Failed to update the session: ","output-downscaled","target","apply","bind","Failed to update the session","24280927IKsRHd","No PR challenge data!","kids","status","getElementsByTagName","rtcdrmerror","CK license request:","A128KW","3KcCnPp","createSession","License acquisition failed with error ","No media keys for media element!","stringify","byteLength","buffer","82765KyOCry","7206525fRtYVA","error","btoa","9a04f07998404286ab92e65be0885f95","set","[PR] License fetched:","getUint16","onFetch","4630892EspqDe","addEventListener","debug","has","json","Previous lic will be reused","internal-error","subarray","fromCharCode","expired","text","temporary","665922eWbQGg","then","[FPS] License fetched:","174puebov","Content-Type","update","POST","<Challenge","nodeValue","replace","sessionId","initData","[CDM]","[WV] License fetched:","No media element available!","CDM error generating license request: ","Failed to load previous EME session","initDataType","keyStatuses","forEach","max","length","indexOf","New lic will be requested","edef8ba979d64acea3c827dcd51d21ed","10DoxNsv","atob","catch","arrayBuffer","475444JqsldJ","No init data available!","append","warn","licenseUrl","dispatchEvent","floor","Data has an incorrect length, must be even.","EME createSession() failed - no DRM available","keystatuseschange","Failed to reuse previous EME session: "];return(gs=function(){return t})()}var _s=null,ms=function(t){var n=as;return f[n(394)](String[n(408)][n(467)](null,t))[n(421)](/\+/g,"-")[n(421)](/\//g,"_")[n(421)](/=*$/,"")},ys=function(t,n){var i=as,r=function(t){var n=as,i=JSON[n(456)]((new TextDecoder)[n(455)](t));if(fs[n(402)](n(476),i),null===_s)throw new y(n(461));for(var r,e=[],s=Lt(i[n(472)]);!(r=s()).done;){var u=r.value,o={kty:n(454),alg:n(477),kid:u,k:ms(_s)};e.push(o)}return(new TextEncoder).encode(JSON[n(482)]({keys:e}))}(n.message);n.target.update(r)[i(439)](function(t){var n=i;fs[n(393)](n(469),t)})},ps=function(t){for(var n=as,i=f[n(438)](t.replace(/-/g,"+")[n(421)](/_/g,"/")),r=new E(i[n(433)]),e=0;e<i.length;++e)r[e]=i.charCodeAt(e);return r},ks=function(t,n){for(var i=arguments.length,r=new Array(i>2?i-2:0),e=2;e<i;e++)r[e-2]=arguments[e];return se(void 0,[].concat([t,n],r),void 0,function(t,n,i){var r,e,s,u;return zt(this,function(o){switch(o.label){case 0:return void 0===i&&(i=!1),r=as,e=new Headers(ds),i&&e[r(443)](r(416),r(463)),s={method:r(418),headers:e,body:n},[4,vs[r(399)]?vs.onFetch(t,s):fetch(t,s)];case 1:if(!(u=o.sent()).ok)throw new y(r(480)+u[r(473)]);return[2,u]}})})},bs=function(t,n){var i=as;ks(vs[i(445)],n[i(459)])[i(413)](function(t){return t[i(404)]()}).then(function(t){var r=i;fs[r(402)](r(425),t[r(457)]);var e=ps(t[r(457)])[r(484)];n[r(466)][r(417)](e)[r(439)](function(t){var n=r;fs[n(393)](n(469),t)})})[i(439)](function(n){var r=i;t[r(446)](new CustomEvent(r(475),{detail:{message:""+n}})),fs[r(393)](n)})},As=function(t,n){var i=as,r=function(t,n){var i=as,r=new DOMParser;try{var e=function(t,n,i){void 0===i&&(i=!1);var r=as;if(!t)return"";var e=t;if(!i&&e[r(483)]%2!=0)throw fs[r(393)](r(448)),new y("Data does not seem to be UTF-16 encoded!");var s,u=ls(e);if((255===u[0]&&254===u[1]||254===u[0]&&255===u[1])&&(e=u[r(407)](2)),V(e,ArrayBuffer))s=e;else{var o=new E(e[r(483)]);o[r(396)](ls(e)),s=o[r(484)]}for(var h=b[r(447)](e[r(483)]/2),c=new Uint16Array(h),a=new DataView(s),f=0;f<h;f++)c[f]=a[r(398)](2*f,n);return function(t){for(var n=as,i="",r=0;r<t[n(433)];r+=16e3){var e=t.subarray(r,r+16e3);i+=String[n(408)][n(467)](null,e)}return i}(c)}(n,!0);if(e[i(434)](i(419))>-1){var s=r[i(458)](e,i(463))[i(474)]("Challenge")[0].childNodes[0][i(420)];if(null===s)throw new y(i(471));return ps(s)}fs[i(444)]("[PR] Challenge node not found")}catch(n){t[i(446)](new CustomEvent(i(475),{detail:{message:""+n}})),fs[i(393)](n)}return null}(t,n.message);if(null===r)return t[i(446)](new CustomEvent("rtcdrmerror",{detail:{message:i(471)}})),void fs[i(393)](i(471));ks(vs[i(445)],r[i(484)],!0)[i(413)](function(t){return t[i(440)]()})[i(413)](function(r){var e=i;fs[e(402)](e(397),r),n[e(466)][e(417)](r)[e(439)](function(n){var i=e;t[i(446)](new CustomEvent(i(475),{detail:{message:i(464)+n}})),fs[i(393)]("Failed to update the session",n)})}).catch(function(n){var r=i;t.dispatchEvent(new CustomEvent(r(475),{detail:{message:""+n}})),fs[r(393)](n)})},Ts=function(t,n){var i=as;ks(vs.licenseUrl,n[i(459)])[i(413)](function(t){var n=i,r=t[n(410)]();return fs[n(402)](n(414),t,r),r})[i(413)](function(t){var r=i;n.target[r(417)](ps(t))})[i(439)](function(n){var r=i;t[r(446)](new CustomEvent(r(475),{detail:{message:""+n}})),fs.error(n)})},Ss=function(t,n){ds[t]=n},Es=me.isSafari;function Is(t,n){var i=gs();return(Is=function(t,n){return i[t-=393]})(t,n)}var Rs=!Es,Cs=new Map;function Ds(t){return se(this,void 0,void 0,function(){var n,i,r,e,s,u,o,h;return zt(this,function(c){switch(c.label){case 0:if(n=Is,null===t.initData)throw new y(n(442));if(null===(i=t[n(466)]))throw new y(n(426));if(null===(r=i.mediaKeys))throw new y(n(481));e=ws(new E(t[n(423)])),s=e+i.id,u=null,Cs[n(403)](s)&&(null!=(u=Cs.get(s))&&u.close(),Cs.delete(s)),fs[n(402)](n(u?405:435)),o=null;try{o=r.createSession(Rs?"persistent-license":"temporary")}catch(t){fs[n(402)]("EME createSession(persistent) failed:",t)}if(!o&&Rs){Rs=!1;try{o=r[n(479)](n(411))}catch(t){fs.error("EME createSession(temporary) failed:",t)}}if(!o)return[3,7];if(o.addEventListener(n(450),function(t){var r=n;t[r(466)][r(430)][r(431)](function(t,n){var e=r;(t===e(409)||"output-restricted"===t||t===e(465)||t===e(406))&&i[e(446)](new CustomEvent(e(475),{detail:{message:"Key "+ws(new E(n))+" is not "+(e(453)+t)+")",keyId:n}}))})}),Es?o[n(401)](n(459),Ts.bind(null,i),!1):-1!==e.indexOf(n(436))?o[n(401)](n(459),bs[n(468)](null,i),!1):-1!==e[n(434)](n(395))?o.addEventListener(n(459),As[n(468)](null,i),!1):o.addEventListener(n(459),ys[n(468)](null,i),!1),!u)return[3,5];c.label=1;case 1:return c.trys.push([1,3,,4]),[4,o.load(u[n(422)])];case 2:return c.sent()?Cs[n(396)](s,o):i[n(446)](new CustomEvent(n(475),{detail:{message:n(428)}})),[3,4];case 3:return h=c.sent(),i[n(446)](new CustomEvent(n(475),{detail:{message:n(451)+h}})),[3,4];case 4:return[3,6];case 5:o[n(462)](t[n(429)],t[n(423)])[n(413)](function(){Rs&&Cs[n(396)](s,o)})[n(439)](function(t){var r=n;i.dispatchEvent(new CustomEvent(r(475),{detail:{message:r(427)+t}}))}),c.label=6;case 6:return[3,8];case 7:i[n(446)](new CustomEvent(n(475),{detail:{message:n(449)}})),c.label=8;case 8:return[2]}})})}var Ps=$s;!function(){for(var t=$s,n=Ks();;)try{if(-A(t(462))/1*(-A(t(532))/2)+-A(t(543))/3+A(t(682))/4+-A(t(692))/5*(A(t(588))/6)+-A(t(539))/7+A(t(496))/8+-A(t(549))/9==672532)break;n.push(n.shift())}catch(t){n.push(n.shift())}}();var Ns=be(Ps(673)),Bs=me[Ps(607)],xs=me[Ps(540)],Os=me[Ps(647)],Ms=me[Ps(489)],Ls=me[Ps(478)],Us=me.platform,Fs=me[Ps(620)],Vs=Ms||Ls&&Us===Ps(578),Hs=1e6*(xs?82:Os?220:120),Ws=xs?5e3:2e3,zs=xs?1.5:.5;function Xs(t){var n,i=Ps;return(void 0===t?"undefined":W(t))!==i(672)||null===t||V(t,Element)||V(t,$e)?t:V(null==(n=t)?void 0:n[Ps(584)],ArrayBuffer)&&null!=n&&n.BYTES_PER_ELEMENT?t[i(550)]():Array[i(636)](t)?t.reduce(function(t,n,i){return t[i]=Xs(n),t},[]):V(t,k)?k.keys(t).reduce(function(n,i){return n[i]=Xs(t[i]),n},{}):t}var qs=function(t){var n=Ps;this[n(547)]="",this[n(471)]="",this.keySystem="",this[n(603)]=[],this[n(479)]=Xs(t),this.jmuxer=null,this.keyFrameLogCntr=0,this[n(561)]=Date[n(658)](),this[n(585)]=0,this[n(602)]=0,this[n(490)]=-1,this[n(680)]=0,this[n(596)]=0,this[n(491)]=!0,this.keyFrameNeededPosted=!1,this[n(617)]=Ws,this[n(500)]=null,this.dbgMediaDump={video:null,audio:null}},Gs=new Map,js=new E([60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60]),Qs=new E([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1]),Ys=new E([213,251,214,184,46,217,62,78,249,138,228,9,49,238,51,183]);function Ks(){var t=["isSafari","ansform=$=>{let e=$.transformer;handleTransform(e.options.operation,e.readable,e.writable)}),onmessage=$=>{keyFra","status","DRM config:","key","Development"," will be used","Staging","const DUMMY_IDR_FRAME_SLICE_HDR0=new Uint8Array([32,0,203]),DUMMY_IDR_FRAME_SLICE_HDR1=new Uint8Array([16,0,50]);","enabled","playback at ","now",".experiment","seq","videoElement","data","btoa","PlayReady might not support '","logLevel","cbcs-1-9","encryption"," to ","offset","x-dt-custom-data","let brokenFrame=null,idrFrames=[];function initializeDummyFrames(){brokenFrame=new Uint8Array([0,0,0,1,65,154,255","object","[RTC-DRM]","not-allowed","durationMs","Default transform mode enabled, ","keySystem","timestamp","DRM config keyId must be an instance of 16-byte long Uint8Array.","lastKeyFrameTime","H264 is the only supported video codec.","2533916KeNZJm","out","Applying pre-configured certificate (","buffered","Widevine","x-dt-auth-token"," ms)","com.microsoft.playready.recommendation","error","currentTime","225RwtgWL","end","requestMediaKeySystemAccess","50705YjLCIv","onmessage","environment","wvLicenseUrl","a1d1f1"," requesting a new key frame (latency ","userId","ClearKey","createEncodedStreams","licenseUrl","PlayReady license acquisition might fail without output protection enabled (sessionId is ","feed","dbgMediaDump","jmuxer","MSE (re)init",",255]).buffer,idrFrames.push(new Uint8Array([0,0,0,1,39,100,0,13,172,87,5,6,100,0,0,0,1,40,238,60,176,0,0,0,1,37,","isChrome","config","forEach","Invalid config argument type, DRM config must be an object.","hwSecurity","audioEncrypted","setMediaKeys","fpsCertificate","Unable to create Worker!","GET","customTransform","isEdge","prevSeqNum","keyFrameNeeded","encrypted","targetLatency not set!","opus","FairPlay","7963992IJNztq","streamType","SampleAuxInfo extraction failed (video)"," seeking from ","worker","]: ","video","kind","audio","jitterBufferDelayHint","size","No target media element!","fpsCertificateUrl","wvCertificate","delimited","3000","pipeThrough","/license-server-fairplay/cert/","string",") not found in [","indexOf","warn","ignoreAudio","append","jitterBufferTarget","prLicenseUrl","sessionTypes","authToken","get","RTCRtpScriptTransform","audioElement","catch","trim","join","waitingForIdr","info","52hXHKkY","enqueue","). It has to be a string containing a JWT.","playbackRate","sai","persistent-license","Blob","2699340CvuQCI","isFirefox","transform",'rame:{type:$.type,timestamp:$.timestamp,data:$.data}}),"key"===$.type&&(keyFrameNeeded=!1),$.data=generateDummyFr',"554109usxuWq"," will not be created, use rtcDrmFeedFrame to push frames manually","bind","streams","serverCertificateUrl","includes","3473577nNrBJc","slice","URL","serverCertificate","length","Invalid authToken type (","addEventListener","', it's safer to use 'cbcs' instead.","srcObject","ClearKey is not supported by Safari.","meNeeded=$.data};","value","nextKeyFrameAllowedTime","Error recovery attempted","rtcdrmerror","184,32,0,203,255,38,29,217,24,192,161,96,0,0,12,229,174,166,6,7,20,3,84,0,247,96,193,181,229,128,0,32,32]).buffer"," bytes","both","debug","No valid DRM config found, call rtcDrmConfigure first.","dispatchEvent","certificate","mediaBufferMs","clear","merchant","src","sessionId","reportDiscontinuity","mediaBufferMs should be an integer.","Android","rtcDrmConfigure did not specify audioElement, audio will be dropped","/license-proxy-widevine/cenc/","arrayBuffer","). Edge only supports PlayReady, Widevine and ClearKey.","). Chrome only supports Widevine and ClearKey.","buffer","videoStartTimestamp",'audio/mp4; codecs="opus"',"set","175800AyhMKK","PlayReady","SampleAuxInfo extraction failed (audio)","cenc","codec","videoCapabilities",".. ","Duplicate/reordered frame, prev seq: ","bytesSinceKey","wvCertificateUrl","/license-proxy-headerauth/drmtoday/RightsManager.asmx","robustness","baseUrl","type","audioStartTimestamp","emeConfig","com.widevine.alpha","SW_SECURE_CRYPTO","fpsLicenseUrl","supportsRtpScriptTransform","Target video element (","?audioTransformFunction:videoTransformFunction});e.pipeThrough(a).pipeTo(x)}self.RTCTransformEvent&&(self.onrtctr","createObjectURL","playoutDelayHint","POSITIVE_INFINITY",'ame(keyFrameNeeded),e.enqueue($)}function handleTransform($,e,x){let a=new TransformStream({transform:"audio"===$',"track",'video/mp4; codecs="avc1.640032"',"cbcs","keyFrameRequestInterval","Frame gap: ","keyFrameNeededPosted","isWindows","HW_SECURE_ALL"," bytes, ","GOP is getting too long, requesting a new key frame","temporary","Safari does not support Opus, audio will not be rendered.","stringify","byteLength","message"," frame","H264","mediaDumps","h264","keyFrameLogCntr","requestMediaKeySystemAccess(","Safari doesn't support 'cenc'/AES-CTR, use 'cbcs' instead if possible.","isArray","Invalid DRM type (","DRM config iv must be an instance of 16-byte long Uint8Array.","keyId","pipeTo"," - ","receiver","isInteger","toString","onFetch","next"];return(Ks=function(){return t})()}function Js(t){var n=Ps,i=!1;if((t[n(479)][n(502)]&&t[n(479)].video[n(667)]!==n(572)&&"HW"===t[n(479)][n(502)][n(599)]||t[n(479)][n(504)]&&t[n(479)][n(504)][n(667)]!==n(572)&&"HW"===t.config[n(504)][n(599)])&&(i=!0),t.hwSecurity=i,function(t,n){var i=Ps;void 0!==n&&(t[i(479)].mediaBufferMs=n),(void 0===t[i(479)][i(571)]||t.config[i(571)]<0)&&(t[i(479)].mediaBufferMs=100,xs?t[i(479)][i(571)]=350:!Os&&Fs&&("PlayReady"===t.config[i(601)]||t[i(482)])&&(t.config[i(571)]=1400))}(t,t[n(479)][n(571)]),void 0===t.config[n(523)]){void 0===t[n(479)][n(468)]&&(t[n(479)][n(468)]="purchase"),void 0===t[n(479)][n(575)]&&(t.config[n(575)]=n(466));var r=f[n(663)](JSON[n(626)]({userId:t[n(479)].userId,sessionId:t.config.sessionId,merchant:t[n(479)].merchant}));Ss(n(670),r)}else Ss(n(687),t[n(479)][n(523)]);for(var e=0,s=[t[n(479)][n(504)],t[n(479)][n(502)]];e<s.length;e++){var u=s[e];u&&u.encryption!==n(572)&&(u.keyId||(u[n(639)]=Qs),u.iv||(u.iv=Ys))}t[n(552)]=void 0,t[n(547)]="",t[n(471)]="";var o,h=t[n(479)][n(464)][n(600)]();if(t[n(479)].type===n(469)?(t[n(677)]="org.w3.clearkey",_s=js):t[n(479)][n(601)]===n(686)?(t[n(677)]=n(604),Fs&&i&&(t[n(677)]+=n(659)),t[n(479)][n(509)]?t[n(552)]=t[n(479)][n(509)]:t[n(479)][n(597)]?t[n(547)]=t.config[n(597)]:t[n(552)]=t.config[n(464)][n(570)](),t[n(479)].wvLicenseUrl?t[n(471)]=t.config[n(465)]:t[n(471)]=h+n(580)):t[n(479)][n(601)]===n(589)?(t.keySystem=n(689),t[n(479)][n(521)]?t[n(471)]=t[n(479)][n(521)]:t[n(471)]=h+n(598)):t.config[n(601)]===n(495)&&(t.keySystem="com.apple.fps",t[n(479)][n(485)]?t[n(552)]=t[n(479)][n(485)]:t[n(479)][n(508)]?t[n(547)]=t.config.fpsCertificateUrl:t[n(547)]=h+n(513)+t[n(479)][n(573)],t[n(479)].fpsLicenseUrl?t[n(471)]=t.config[n(606)]:t[n(471)]=h+"/license-server-fairplay/"),o={licenseUrl:t[n(471)],onFetch:t[n(479)][n(645)]},vs=o,t[n(603)]=[],t[n(479)][n(601)]!==n(495)){t[n(603)].push({initDataTypes:[n(591)],sessionTypes:[n(537),n(624)]});for(var c=0,a=[t[n(479)][n(502)],t.config[n(504)]];c<a.length;c++){var v=a[c];if(v&&v[n(667)]!==n(572)){var d=v==t.config[n(502)]?n(502):n(504),l=void 0;"Widevine"===t.config[n(601)]?l="HW"===v[n(599)]?n(621):n(605):"PlayReady"===t.config[n(601)]&&(l="HW"===v[n(599)]?n(511):"2000"),"video"===d?t[n(603)][0][n(593)]=[{contentType:n(615),encryptionScheme:v[n(667)]===n(591)?n(591):"cbcs-1-9",robustness:l||void 0}]:t[n(603)][0].audioCapabilities=[{contentType:n(586),encryptionScheme:v[n(667)]===n(591)?n(591):n(666),robustness:l||void 0}]}}}else t.emeConfig=[{initDataTypes:["sinf"],videoCapabilities:[{contentType:"video/mp4",robustness:""}],distinctiveIdentifier:n(674),persistentState:"not-allowed",sessionTypes:[n(624)]}];Ns[n(567)](n(650),t)}function Zs(t){var n=Ps;Ns[n(567)](n(476));var i=t[n(479)][n(661)];(!t[n(479)][n(502)]||t[n(479)][n(502)][n(667)]===n(572))&&(i=t.config.audioElement),t[n(475)]=null;var r=!t[n(518)]&&t[n(479)].audio&&t[n(479)][n(504)][n(667)]!==n(572),e=t[n(479)][n(502)]&&t[n(479)].video.encryption!==n(572);t[n(596)]=0,t.keyFrameNeeded=!0,t[n(619)]=!1,t[n(617)]=Ws,t[n(585)]=0,t[n(602)]=0,t[n(490)]=-1,t[n(680)]=0,t[n(475)]=new Ge({node:i,mode:n(r?e?566:504:502),fps:60,drm:t}),Os&&t[n(479)][n(661)]&&t.config.videoElement.play().then(function(){})[n(527)](function(){})}function $s(t,n){var i=Ks();return($s=function(t,n){return i[t-=461]})(t,n)}function tu(t,n,i){var r=Ps;if(t[r(474)][r(502)]){Ae.mediaDumps[r(502)].in[r(510)]&&t[r(474)][r(502)][r(519)](new E([0,0,0,1,9,80]));var e=n[r(678)]/90;t[r(474)][r(502)][r(519)](new E(n[r(662)]),e)||(t[r(474)][r(502)]=null)}if(t[r(479)][r(502)]&&"clear"===t[r(479)][r(502)][r(667)])return null==i||i[r(533)](n),!1;var s=Date[r(658)]();if(n[r(601)]===r(651)){var u=Ae.logLevel>=4;++t[r(633)]<(u?Number[r(612)]:5)&&(Ns.debug(Te()+" "+n[r(601)]+", "+n.data.byteLength+r(622)+(r(657)+t.config[r(661)].currentTime)),u&&1===t.keyFrameLogCntr&&function(t,n,i){void 0===n&&(n=64),void 0===i&&(i=64);for(var r=Ps,e=new E(t[r(662)]),s="",u=0,o=0;o<n&&o<e[r(553)];++o)s+=(e[o]<16?"0":"")+e[o][r(644)](16)+" ";if(u<e[r(553)])for(u<e[r(553)]-i&&(s+=r(594),u=e[r(553)]-i);u<e[r(553)];u++)s+=(e[u]<16?"0":"")+e[u][r(644)](16)+" ";Ns[r(531)]("["+((t[r(601)]||r(504))+r(629))+r(501)+s[r(528)]())}(n,128,8)),t.keyFrameNeeded=!1,t[r(596)]=0,t[r(561)]=s+t[r(617)]}return t[r(596)]+=n[r(662)][r(627)],!t[r(491)]&&t[r(596)]>Hs&&(Ns.info(r(623)),t[r(491)]=!0),t[r(475)]&&(function(t,n){var i=Ps;0===t.videoStartTimestamp&&(t.videoStartTimestamp=n.timestamp,t[i(617)]=Ws,t[i(561)]=Date.now()+2e3);var r=null,e=!1;if(n[i(662)][i(627)]<=4)Ns[i(517)]("Discarding corrupted video frame (too small)"),e=!0;else{var s=new E(n[i(662)],0,4);0!=s[0]||0!=s[1]||0!=s[2]||1!=s[3]?(Ns.warn("Discarding corrupted video frame (no Annex B startcode)"),e=!0):!(r=function(t,n){var i=ns,r=new DataView(t.data),e=t.data[i(268)]-2,s=r[i(267)](e);if(s<e){var u=e-s;if(69!==r[i(264)](e-1))return es[i(271)](i(260)),null;if(r[i(264)](u++)>>>4!=1)return es[i(271)]("Unsupported SampleAuxInfo version"),null;for(var o=new E(s-2),h=0,c=0;u<e-1;){var a=r[i(264)](u++);c>1&&3===a&&(c=0,a=r.getUint8(u++)),0!==a?c=0:++c,o[h++]=a}var f=new DataView(o[i(256)]),v="cenc"===n?16:0,d=v+2+6*f[i(267)](v);return d+2>h?(es[i(271)](i(270)),null):{sai:o[i(255)](0,d),offset:e-s,seq:f[i(267)](d)}}return null}(n,t.config[i(502)][i(667)]))&&(Ns.warn(i(498)),e=!0)}if(r)if(n[i(601)]===i(651))t[i(490)]=r.seq;else{if(-1===t[i(490)])return 0;var u=r[i(660)]-t[i(490)];if(u<-32767&&(u+=65536),u<=0)return Ns.debug(i(595)+t.prevSeqNum+", curr: "+r.seq),0;u>1&&(e=n[i(601)]!==i(651),Ns[i(517)](i(618)+t[i(490)]+i(641)+r[i(660)]+", restart required: "+e)),t.prevSeqNum=r[i(660)]}var o=0;e&&!t[i(475)][i(530)]&&(o=-1,t[i(475)][i(576)]());var h=(n[i(678)]-t[i(585)])/9e4;return r&&t[i(475)][i(473)]({video:new E(n[i(662)],0,r.offset),videoSampleAuxInfo:r[i(536)],timestamp:h})<0&&(o=-1,Ns[i(517)](i(562)),Zs(t)),o>=0&&n[i(601)]===i(651)&&(t[i(680)]=h),o}(t,n)<0?t[r(491)]=!0:function(t){var n=Ps,i=t[n(479)][n(661)];if(!(!i||i[n(685)][n(553)]<1||i.paused||i[n(691)]<zs)){var r=t[n(479)][n(571)];if(void 0===r||r<0)throw new y(n(493));var e,s,u,o,h,c=i[n(685)].end(i.buffered[n(553)]-1),a=1e3*(c-i[n(691)])|0;if(!t[n(483)]&&(h=Ps,(o=(s=a)<3*(u=r)>>>2?.875:s<=u?1:s<7*u>>>2?1.125:s<9*u>>>2?1.25:s<11*u>>>2?1.375:1.5)!==(e=i).playbackRate&&(e[h(535)]=o)),!(a<r+50||a<5*r>>>2))if(t[n(680)]>i[n(691)]+.1){var f=1e3*(c-t.lastKeyFrameTime)|0;f>40&&f>r-100?(Ns.debug(Te()+n(499)+(i[n(691)]+n(668)+t.lastKeyFrameTime+" (")+(t[n(680)]-i[n(691)])+")"),i[n(691)]=t[n(680)]):Ns[n(567)](Te()+" too close to seek, "+f)}else!t.keyFrameNeeded&&Date[n(658)]()>t[n(561)]&&a>r+100&&a>3*r>>>1&&(Ns[n(567)](Te()+n(467)+a+n(688)),t[n(491)]=!0,t[n(617)]<16e3&&(t[n(617)]<<=1))}}(t)),i?(!t[r(491)]||!Vs)&&(n[r(662)]=function(t){return!os&&(n=us,os=new E([0,0,0,1,65,154,255,255])[n(372)],ss[n(371)](new E([0,0,0,1,39,100,0,13,172,87,5,6,100,0,0,0,1,40,238,60,176,0,0,0,1,37,184,32,0,203,255,38,29,217,24,192,161,96,0,0,12,229,174,166,6,7,20,3,84,0,247,96,193,181,229,128,0,32,32])[n(372)]),ss[n(371)](ss[0][n(376)](0)),new E(ss[1])[n(375)]([16,0,50],27)),t?os:ss[hs^=1];var n}(t[r(491)]),i[r(533)](n)):t[r(491)]!=t.keyFrameNeededPosted&&(t[r(500)]&&t.worker.postMessage(t[r(491)]),t.keyFrameNeededPosted=t[r(491)]),t.keyFrameNeeded}function nu(t,n,i){var r=Ps;if(t.dbgMediaDump.audio){var e=n[r(678)]/48;t[r(474)][r(504)][r(519)](new E(n.data),e)||(t.dbgMediaDump[r(504)]=null)}return t[r(479)].audio&&t[r(479)].audio[r(667)]!==r(572)?n[r(662)][r(627)]>0&&function(t,n){var i,r=Ps;if(!t[r(475)]||t[r(518)])return 0;0===t[r(602)]&&(t.audioStartTimestamp=n[r(678)]);var e=(n[r(678)]-t[r(602)])/48e3;if((null===(i=t[r(479)][r(504)])||void 0===i?void 0:i[r(667)])===r(616))return t.jmuxer[r(473)]({audio:new E(n[r(662)]),timestamp:e});var s=function(t){var n=ns,i=new DataView(t[n(261)]),r=t.data[n(268)]-2,e=i[n(267)](r);if(e<r){var s=r-e;if(69!==i[n(264)](r-1))return es.error("SampleAuxInfo corrupted (postfix not found)"),null;if(i[n(264)](s++)>>>4!=1)return es[n(271)]("Unsupported SampleAuxInfo version"),null;for(var u=new E(e-2),o=0;s<r-1;){var h=i[n(264)](s++);if(u[o++]=h,o>=16)break}return{sai:u,offset:r-e}}return null}(n);s?t.jmuxer[r(473)]({audio:new E(n[r(662)],0,s[r(669)]),audioSampleAuxInfo:s[r(536)],timestamp:e}):Ns[r(690)](r(590))}(t,n):i&&i[r(533)](n),!1}function iu(t){var n,i,r,e,s,u=Ps;if(!t||(void 0===t?"undefined":W(t))!==u(672))throw new p(u(481));if(!V(t.videoElement,HTMLVideoElement))throw new p("Invalid videoElement, it must be an instance of HTMLVideoElement.");if(t[u(526)]&&!V(t[u(526)],HTMLMediaElement))throw new p("Invalid audioElement, it must be an instance of HTMLMediaElement.");if(void 0!==t[u(571)]&&!Number[u(643)](t[u(571)]))throw new p("DRM config mediaBufferMs should be an integer.");for(var o=!1,h=!1,c=!1,a=[u(616),"cenc",u(572)],f=["SW","HW"],v=0,d=[t.video,t[u(504)]];v<d.length;v++){var w=d[v];if(w){if(!a[u(548)](w[u(667)]))throw new RangeError("DRM config encryption value must be one of: "+a[u(529)](", "));if(Os&&w.encryption===u(591))throw new RangeError(u(635));if("clear"!==w[u(667)]){if(h=!0,w.keyId){if(!V(w[u(639)],E)||16!==w[u(639)][u(553)])throw new p(u(679));c=!0}else if(Os)throw new ReferenceError(u(558));if(w.iv&&(!V(w.iv,E)||16!==w.iv[u(553)]))throw new p(u(638));if(w[u(599)]&&!f[u(548)](w[u(599)]))throw new RangeError("DRM config robustness can only be one of: "+f[u(529)](", "));if(w===t.video&&w.codec!==u(630))throw new RangeError(u(681));Os&&w===t.audio&&w[u(592)]===u(494)&&(o=!0,Ns.warn(u(625))),t[u(601)]===u(589)&&("cenc"!==w[u(667)]&&Ns[u(517)](u(664)+w[u(667)]+u(556)),void 0===t.sessionId||t[u(575)][u(548)]("f1")||Ns[u(517)](u(472)+t[u(575)]+", a1d1f1 is recommended)."))}}}if(h){var g=[$e[u(652)],$e[u(654)],$e.Production];if(!g[u(548)](t[u(464)]))throw new RangeError("DRM config env value must be one of: "+g.join(", "));if(t[u(523)]&&W(t.authToken)!==u(514))throw new p(u(554)+W(t[u(523)])+u(534));if(t[u(601)])if(Os){if("FairPlay"!==t.type)throw new RangeError(u(637)+t[u(601)]+"). Safari only supports FairPlay.")}else if(Ls){if(t[u(601)]!==u(686)&&"ClearKey"!==t.type)throw new RangeError(u(637)+t[u(601)]+u(583))}else if(Ms&&t[u(601)]!==u(589)&&"Widevine"!==t[u(601)]&&t[u(601)]!==u(469))throw new RangeError(u(637)+t.type+u(582))}if(void 0!==t[u(665)]&&(Ae[u(665)]=t[u(665)]),void 0!==t.mediaDumps){if(t.mediaDumps[u(502)]){var _=t[u(631)].video,m=Ae[u(631)][u(502)];!(null===(n=_.in)||void 0===n)&&n.durationMs&&(m.in[u(675)]=_.in.durationMs),!(null===(i=_.in)||void 0===i)&&i.delimited&&(m.in.delimited=_.in[u(510)]),null!==(r=_[u(683)])&&void 0!==r&&r.durationMs&&(m[u(683)][u(675)]=_[u(683)].durationMs)}if(t[u(631)][u(504)]){var k=t[u(631)][u(504)],b=Ae[u(631)][u(504)];!(null===(e=k.in)||void 0===e)&&e.durationMs&&(b.in.durationMs=k.in.durationMs),null!==(s=k.out)&&void 0!==s&&s[u(675)]&&(b[u(683)][u(675)]=k[u(683)].durationMs)}}var A=Gs[u(524)](t[u(661)]);!A&&(A=new qs(t),Gs[u(587)](t.videoElement,A)),A[u(656)]=h,A.ignoreAudio=o,A[u(483)]=!o&&A[u(479)][u(504)]&&A[u(479)][u(504)][u(667)]!==u(572),h&&(A[u(479)][u(601)]||(A[u(479)][u(601)]=Os?"FairPlay":u(686)),c||A.config.type===u(469)||(A[u(479)][u(601)]=u(469)),Js(A),function(t){se(this,void 0,void 0,function(){var n,i,r,e,s,u,o,h,c,a,f,v,d,w,g,_;return zt(this,function(m){switch(m.label){case 0:if(n=$s,e=t.config[n(661)],(!t.config[n(502)]||t[n(479)].video[n(667)]===n(572))&&(e=t[n(479)][n(526)]),!e)throw new y(n(507));return e[n(574)]="",e[n(557)]=null,[4,e[n(484)](null)];case 1:m.sent(),s=null,m.label=2;case 2:return m.trys.push([2,4,,5]),[4,l[n(461)](t[n(677)],t[n(603)])];case 3:return s=m.sent(),[3,5];case 4:return m.sent(),[3,5];case 5:if(s||!t.emeConfig[0])return[3,9];if(!(void 0!==(u=null===(i=t.emeConfig[0][n(522)])||void 0===i?void 0:i[n(516)](n(537)))&&u>=0))return[3,9];null===(r=t[n(603)][0][n(522)])||void 0===r||r.splice(u,1),m.label=6;case 6:return m.trys.push([6,8,,9]),[4,l[n(461)](t[n(677)],t[n(603)])];case 7:return s=m.sent(),[3,9];case 8:return m.sent(),[3,9];case 9:if(!s)return o=n(634)+t[n(677)]+") failed",[2,(e[n(569)](new CustomEvent(n(563),{detail:{message:o}})),void Ns[n(690)](o))];h=null,m.label=10;case 10:return m.trys.push([10,12,,13]),[4,s.createMediaKeys()];case 11:return h=m.sent(),[3,13];case 12:return m.sent(),[3,13];case 13:return h?t.serverCertificate?(Ns[n(567)](n(684)+t[n(552)][n(627)]+" bytes)"),[4,h.setServerCertificate(t[n(552)])]):[3,15]:(c="createMediaKeys("+t.keySystem+") failed",[2,(e.dispatchEvent(new CustomEvent(n(563),{detail:{message:c}})),void Ns[n(690)](c))]);case 14:return m.sent(),[3,21];case 15:if(!t[n(547)])return[3,21];a={method:n(487)},f=t.serverCertificateUrl,m.label=16;case 16:return m.trys.push([16,20,,21]),[4,t.config[n(645)]?t[n(479)][n(645)](f,a):fetch(f,a)];case 17:return(v=m.sent()).ok?[4,v[n(581)]()]:(d="Server certificate fetch failed with error "+v[n(649)],[2,void e[n(569)](new CustomEvent(n(563),{detail:{message:d}}))]);case 18:return w=m.sent(),Ns[n(567)]("Fetched certificate from "+f+", "+w.byteLength+n(565)),[4,h.setServerCertificate(w)];case 19:return m.sent(),[3,21];case 20:return g=m.sent(),_=g.name+": "+g[n(628)],[2,(Ns[n(690)](_),void e[n(569)](new CustomEvent("rtcdrmerror",{detail:{message:_}})))];case 21:return[4,e[n(484)](h)];case 22:return m.sent(),e[n(555)](n(492),Ds),Zs(t),[2]}})})}(A)),A[u(479)][u(661)][u(555)]("play",function(){var t=u;A[t(479)][t(661)][t(691)]>.5&&(A[t(561)]=Date[t(658)]())})}var ru=Ps(655)+Ps(671)+Ps(477)+Ps(564)+'),idrFrames.push(idrFrames[0].slice());let $=new Uint8Array(idrFrames[1]);$.set([16,0,50],27)}let idrPicIdToggle=0;function generateDummyFrame($){return(brokenFrame||initializeDummyFrames(),$)?brokenFrame:idrFrames[idrPicIdToggle^=1]}function audioTransformFunction($,e){postMessage({streamType:"audio",frame:{timestamp:$.timestamp,data:$.data}}),e.enqueue($)}let keyFrameNeeded=!1;function videoTransformFunction($,e){postMessage({streamType:"video",f'+Ps(542)+Ps(613)+Ps(609)+Ps(648)+Ps(559);function eu(t){var n,i=Ps;if(0===Gs[i(506)])throw new p(i(568));if(t&&t[i(661)])n=t.videoElement;else{if(1!==Gs[i(506)])throw new p("Several DRM configs detected, rtcDrmOnTrack have to be called with target DRM config.");n=Gs.keys()[i(646)]()[i(560)]}var r=Gs[i(524)](n);if(!r){var e="";throw Gs[i(480)](function(t,n){e+=n.id+", "}),e=e[i(550)](0,-2),new p(i(608)+n.id+i(515)+e+"]")}return r}function su(t,n){var i=Ps;if(t&&t.config[i(661)]){var r=t.config[i(661)];if(r.buffered[i(553)]>0){var e=r.buffered[i(693)](r.buffered[i(553)]-1)-r.currentTime;n[i(611)]=n.jitterBufferDelayHint=n[i(520)]=e}w(su,1e3,t,n)}}var uu=gt.get("View");uu.setLevel(gt.DEBUG);var ou={metadata:!1,enableDRM:!1,disableVideo:!1,disableAudio:!1,peerConfig:{autoInitStats:!0,statsIntervalMs:1e3}},hu=function(t){function n(n,i,r,e){var s;return void 0===r&&(r=null),void 0===e&&(e=!0),n&&uu.warn("The streamName property has been deprecated. In a future release, this will be removed. Please do not rely on this value. Instead, set via token generator"),(s=t.call(this,null,i,uu,e)||this).payloadTypeCodec={},s.tracksMidValues={},s.drmOptionsMap=null,s.eventQueue=[],s.isMainStreamActive=!1,r&&(s.on(Fi.track,function(t){r.srcObject=t.streams[0]}),uu.warn("The mediaElement property has been deprecated. In a future release, this will be removed. Please do not rely on this value. Instead, do this in either the `track` or the `active` broadcast event.")),s}Ct(n,t);var i=n.prototype;return i.connect=function(){return Vt(function(t){return zt(this,function(n){switch(n.label){case 0:return void 0===t&&(t=ou),this.options=g(d(d({},ou),t),{peerConfig:d(d({},ou.peerConfig),t.peerConfig),setSDPToPeer:!1}),this.eventQueue.length=0,[4,this.initConnection({migrate:!1})];case 1:return n.sent(),[2]}})}).apply(this,arguments)},i.select=function(){return Vt(function(t){return zt(this,function(n){switch(n.label){case 0:return void 0===t&&(t={}),uu.debug("Viewer select layer values: ",t),[4,this.signaling.cmd("select",{layer:t})];case 1:return n.sent(),uu.info("Connected to streamName: ",this.streamName),[2]}})}).apply(this,arguments)},i.addRemoteTrack=function(t,n){return Vt(function(){var i,r,e;return zt(this,function(s){switch(s.label){case 0:return uu.info("Viewer adding remote track",t),[4,this.webRTCPeer.addRemoteTrack(t,n)];case 1:for(i=s.sent(),r=Lt(n);!(e=r()).done;)e.value.addTrack(i.receiver.track);return[2,i]}})}).call(this)},i.project=function(t,n){return Vt(function(){var i,r,e,s;return zt(this,function(u){switch(u.label){case 0:for(r=function(){var t=s.value;if(!t.trackId&&!t.media)throw uu.error("Error in projection mapping, trackId or mediaId must be set"),new y("Error in projection mapping, trackId or mediaId must be set");var n=i.webRTCPeer.getRTCPeer();if(t.mediaId&&!n.getTransceivers().find(function(n){return n.mid===t.mediaId.toString()}))throw uu.error("Error in projection mapping, ".concat(t.mediaId," mid not found in local transceivers")),new y("Error in projection mapping, ".concat(t.mediaId," mid not found in local transceivers"))},e=Lt(n);!(s=e()).done;)i=this,r();return uu.debug("Viewer project source: layer mappings: ",t,n),[4,this.signaling.cmd("project",{sourceId:t,mapping:n})];case 1:return u.sent(),uu.info("Projection done"),[2]}})}).call(this)},i.unproject=function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return uu.debug("Viewer unproject mediaIds: ",t),[4,this.signaling.cmd("unproject",{mediaIds:t})];case 1:return n.sent(),uu.info("Unprojection done"),[2]}})}).call(this)},i.replaceConnection=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return uu.info("Migrating current connection"),[4,this.initConnection({migrate:!0})];case 1:return t.sent(),[2]}})}).call(this)},i.stop=function(){var n,i;t.prototype.stop.call(this),null==(n=this.drmOptionsMap)||n.clear(),this.DRMProfile=null,null==(i=this.worker)||i.terminate(),this.worker=null,this.payloadTypeCodec={},this.tracksMidValues={},this.eventQueue.length=0},i.initConnection=function(t){return Vt(function(){var n,i,r,e,s,u,o,h,c,a,f,v,l,_,m,p,b;return zt(this,function(A){switch(A.label){case 0:if(n=this,uu.debug("Viewer connect options values: ",this.options),this.stopReconnection=!1,t.abrConfiguration&&t.abrConfiguration.metadata&&(!(e=t.abrConfiguration.metadata.bitrate)||e<0))throw new y("Invalid bitrate ".concat(e," supplied for ABR. The value must be a non-negative integer value."));if(!t.migrate&&this.isActive())throw uu.warn("Viewer currently subscribed"),new y("Viewer currently subscribed");A.label=1;case 1:return A.trys.push([1,3,,4]),[4,this.tokenGenerator()];case 2:return s=A.sent(),this.options.peerConfig.iceServers=null==s?void 0:s.iceServers,this.options.peerConfig.encodedInsertableStreams=jr&&(this.options.enableDRM||this.options.metadata),[3,4];case 3:throw u=A.sent(),uu.error("Error generating token."),V(u,cr)&&(401!==u.status&&this.autoReconnect?this.reconnect():this.stopReconnection=!0),u;case 4:if(!s)throw uu.error("Error while subscribing. Subscriber data required"),new y("Subscriber data required");return o=kr(s.jwt),this.streamName=o.millicast.streamName,h=new ur({streamName:this.streamName,url:"".concat(s.urls[0],"?token=").concat(s.jwt)}),s.subscriberToken&&(this.subscriberToken=s.subscriberToken),[4,(c=t.migrate?new Hi:this.webRTCPeer).createRTCPeer(this.options.peerConfig)];case 5:return A.sent(),null==(i=this.stopReemitingWebRTCPeerInstanceEvents)||i.call(this),this.stopReemitingWebRTCPeerInstanceEvents=Kt(c,this,k.values(Fi).filter(function(t){return t!==Fi.track})),this.options.metadata&&(this.worker||(this.worker=new Jr),this.worker.onmessage=function(t){if("metadata"===t.data.event){var i=new TextDecoder,r=t.data.metadata;if(r.mid=t.data.mid,r.track=n.tracksMidValues[t.data.mid],r.uuid){var e=r.uuid;r.uuid=e.reduce(function(t,n){return t+n.toString(16).padStart(2,"0")},""),r.uuid=r.uuid.replace(/(.{8})(.{4})(.{4})(.{4})(.{12})/,"$1-$2-$3-$4-$5")}if(r.timecode&&(r.timecode=new Date(i.decode(r.timecode))),r.unregistered){var s=i.decode(r.unregistered);try{var u=JSON.parse(s);r.unregistered=u}catch(t){uu.info("The content could not be converted to JSON, returning raw bytes instead")}}n.emit("metadata",r)}}),c.on(Fi.track,function(t){n.isMainStreamActive?n.onTrackEvent(t):n.eventQueue.push(t)}),h.on(sr,function(t){return Vt(function(){var n;return zt(this,function(i){switch(i.label){case 0:return this.isMainStreamActive||"active"!==t.name?[3,3]:(this.mainSourceId=t.data.sourceId,this.DRMProfile||!t.data.encryption?[3,2]:[4,this.tokenGenerator()]);case 1:(n=i.sent()).drmObject&&(this.DRMProfile=n.drmObject),i.label=2;case 2:for(this.emit(sr,t),this.isMainStreamActive=!0;this.eventQueue.length>0;)this.onTrackEvent(this.eventQueue.shift());return[2];case 3:return"inactive"===t.name&&this.isMainStreamActive&&this.mainSourceId===t.data.sourceId&&(this.isMainStreamActive=!1),this.emit(sr,t),[2]}})}).call(n)}),a=c.getRTCLocalSDP(g(d({},this.options),{stereo:!0})),f=h.connect(),[4,ut.all([a,f])];case 6:return r=A.sent(),v=r[0],l=this.signaling,this.signaling=h,_=this.signaling.subscribe(v,g(d({},this.options),{vad:this.options.multiplexedAudioTracks>0})),m=c.peer.setLocalDescription(c.sessionDescription),[4,ut.all([_,m])];case 7:return r=A.sent(),p=r[0],this.payloadTypeCodec=Ni.getCodecPayloadType(p),[4,c.setRTCRemoteSDP(p)];case 8:return A.sent(),uu.info("Connected to streamName: ",this.streamName),b=this.webRTCPeer,this.webRTCPeer=c,this.setReconnect(),t.migrate&&this.webRTCPeer.on(Fi.connectionStateChange,function(t){var n,i;"connected"===t?w(function(){var t,n;null==(t=null==l?void 0:l.close)||t.call(l),null==(n=null==b?void 0:b.closeRTCPeer)||n.call(b),l=b=null,uu.info("Current connection migrated")},1e3):["disconnected","failed","closed"].includes(t)&&(null==(n=null==l?void 0:l.close)||n.call(l),null==(i=null==b?void 0:b.closeRTCPeer)||i.call(b),l=b=null)}),[2]}})}).call(this)},i.onTrackEvent=function(t){var n,i,r;if(this.tracksMidValues[null==(n=t.transceiver)?void 0:n.mid]=t.track,this.isDRMOn){var e=t.transceiver.mid,s=this.getDRMConfiguration(e);try{!function(t,n){var i,r,e=Ps,s=t[e(614)][e(503)];s===e(502)&&(t[e(642)][e(611)]=t.receiver[e(505)]=t[e(642)][e(520)]=0);var u=eu(n),o=u[e(479)][e(661)],h=u.config.audioElement;if(u.enabled){var c=""+e(Bs?525:470);if(u[e(479)][e(488)])Ns[e(567)](c+e(544));else{if(Ns[e(567)](e(676)+c+e(653)),s===e(502)){var a=Ae[e(631)][e(502)].in[e(675)];a>0&&(u.dbgMediaDump[e(502)]=new Ee(e(502),e(632),a))}else if(s===e(504)){var v=Ae[e(631)][e(504)].in[e(675)];v>0&&(u[e(474)][e(504)]=new Ee(e(504),e(494),v))}if(Bs){if(u[e(500)]=function(t){var n=Ps,i=f[n(551)]||f.webkitURL,r=f[n(538)],e=f.Worker;if(!(i&&r&&e&&t))return null;var s=new r([t]);return new e(i[n(610)](s))}(ru),null==u[e(500)])throw new y(e(486));u[e(500)][e(463)]=function(t){var n=e;t[n(662)][n(497)]===n(502)?tu(u,t.data.frame,null):nu(u,t.data.frame,null)},t[e(642)][e(541)]=new RTCRtpScriptTransform(u.worker,{operation:s})}else{var d=s===e(502)?tu:nu,l={drm:u,transform:function(t,n){d(u,t,n)}},w=t[e(642)][e(470)](),g=new TransformStream({transform:l[e(541)][e(545)](l)}),_=w.readable,m=w.writable;_[e(512)](g)[e(640)](m)}}if("audio"===s&&(null===(i=u.config[e(504)])||void 0===i?void 0:i.encryption)===e(572)){if(!h)return void Ns[e(517)](e(579));h[e(557)]!==t[e(546)][0]&&(h[e(557)]=t.streams[0]),u[e(479)][e(661)]&&(t[e(642)].playoutDelayHint=t.receiver.jitterBufferDelayHint=t[e(642)][e(520)]=u[e(479)][e(571)],su(u,t[e(642)]))}else s===e(502)&&(null===(r=u[e(479)][e(502)])||void 0===r?void 0:r.encryption)===e(572)&&o[e(557)]!==t[e(546)][0]&&(o.srcObject=t[e(546)][0])}else o[e(557)]!==t[e(546)][0]&&(o.srcObject=t[e(546)][0])}(t,s)}catch(t){uu.error("Failed to apply DRM on media Id:",e,"error is: ",t),this.emit("error",new y("Failed to apply DRM on media Id: "+e+" error is: "+t))}this.worker||(this.worker=new Jr),this.worker.addEventListener("message",function(t){"complete"===t.data.event&&function(t,n,i){var r=Ps,e=eu(i);t[r(601)]?tu(e,t,n):nu(e,t,n)}(t.data.frame,null,s)})}if(this.options.metadata)if(Qr)t.receiver.transform=new RTCRtpScriptTransform(this.worker,{name:"receiverTransform",payloadTypeCodec:d({},this.payloadTypeCodec),codec:this.options.metadata&&"h264",mid:null==(i=t.transceiver)?void 0:i.mid});else if(jr){var u=t.receiver.createEncodedStreams(),o=u.readable,h=u.writable;this.worker.postMessage({action:"insertable-streams-receiver",payloadTypeCodec:d({},this.payloadTypeCodec),codec:this.options.metadata&&"h264",mid:null==(r=t.transceiver)?void 0:r.mid,readable:o,writable:h},[o,h])}this.emit(Fi.track,t)},i.getDRMConfiguration=function(t){return this.drmOptionsMap?this.drmOptionsMap.get(t):null},i.onRtcDrmFetch=function(t,n){return Vt(function(){return zt(this,function(i){return[2,(n.headers||(n.headers=new Headers),n.headers.get("x-dt-custom-data")&&n.headers.delete("x-dt-custom-data"),this.subscriberToken?n.headers.append("Authorization","Bearer ".concat(this.subscriberToken)):uu.warn("onRtcDrmFetch: no subscriberToken"),fetch(t,n))]})}).call(this)},i.configureDRM=function(t){var n=this;if(!t)throw new y("Required DRM options is not provided");this.drmOptionsMap||(this.drmOptionsMap=new Map);var i={merchant:"dolby",environment:$e.Production,customTransform:this.options.metadata,videoElement:t.videoElement,audioElement:t.audioElement,video:{codec:"H264",encryption:"cbcs",keyId:re(t.videoEncryptionParams.keyId),iv:re(t.videoEncryptionParams.iv)},audio:{codec:"opus",encryption:"clear"},onFetch:this.onRtcDrmFetch.bind(this)};t.mediaBufferMs&&(i.mediaBufferMs=t.mediaBufferMs),this.DRMProfile&&(this.DRMProfile.playReadyUrl&&(i.prLicenseUrl=this.DRMProfile.playReadyUrl),this.DRMProfile.widevineUrl&&(i.wvLicenseUrl=this.DRMProfile.widevineUrl),this.DRMProfile.fairPlayUrl&&(i.fpsLicenseUrl=this.DRMProfile.fairPlayUrl),this.DRMProfile.fairPlayCertUrl&&(i.fpsCertificateUrl=this.DRMProfile.fairPlayCertUrl));try{iu(i),this.drmOptionsMap.set(t.videoMid,i),t.audioMid&&this.drmOptionsMap.set(t.audioMid,i),i.videoElement.addEventListener("rtcdrmerror",function(t){uu.error("DRM error: ",t.detail.message,"in video element:",i.videoElement.id),n.emit("error",new y(t.detail.message))})}catch(n){uu.error("Failed to configure DRM with options:",t,"error is:",n)}},i.removeDRMConfiguration=function(t){var n;null==(n=this.drmOptionsMap)||n.delete(t)},i.exchangeDRMConfiguration=function(t,n){var i=this.getDRMConfiguration(t),r=this.getDRMConfiguration(n);if(null===i)throw new y("No DRM configuration found for "+t);if(null===r)throw new y("No DRM configuration found for "+n);ee(i.video,r.video,"keyId"),ee(i.video,r.video,"iv");try{iu(i)}catch(t){uu.error("Failed to configure DRM with options:",i,"error is:",t)}try{iu(r)}catch(t){uu.error("Failed to configure DRM with options:",r,"error is:",t)}},Nt(n,[{key:"isDRMOn",get:function(){return!!this.drmOptionsMap&&this.drmOptionsMap.size>0}}]),n}(qr);t.Director=lr,t.Logger=gt,t.PeerConnection=Hi,t.Publish=ne,t.Signaling=ur,t.View=hu,k.defineProperty(t,n.toStringTag,{value:"Module"})},"object"==(void 0===t?"undefined":W(t))&&(void 0===r?"undefined":W(r))<"u"?s(t):"function"==typeof define&&define.amd?define(["exports"],s):s((e=("undefined"==typeof globalThis?"undefined":W(globalThis))<"u"?globalThis:e||self).millicast={})}),cn=M(function(t){function n(){var t=hn();return n=function(){return t},t}F(),Et(),k.defineProperty(t,"__esModule",{value:!0}),function(t,n){for(var i in n)k.defineProperty(t,i,{enumerable:!0,get:k.getOwnPropertyDescriptor(n,i).get})}(t,{get Director(){return n().Director},get Logger(){return n().Logger},get View(){return n().View}})}),an=M(function(t,n){F(),Et(),n.exports=function(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}}),fn=M(function(t,n){F(),Et(),n.exports=function(t,n){var i=n[0],r=n[1],e=n[2],s=n[3],u=i+i,o=r+r,h=e+e,c=i*u,a=r*u,f=r*o,v=e*u,d=e*o,l=e*h,w=s*u,g=s*o,_=s*h;return t[0]=1-f-l,t[1]=a+_,t[2]=v-g,t[3]=0,t[4]=a-_,t[5]=1-c-l,t[6]=d+w,t[7]=0,t[8]=v+g,t[9]=d-w,t[10]=1-c-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}}),vn=M(function(t,n){F(),Et(),n.exports=function(t,n,i){var r,e,s,u=i[0],o=i[1],h=i[2],c=b.sqrt(u*u+o*o+h*h);if(b.abs(c)<1e-6)return null;return u*=c=1/c,o*=c,h*=c,r=b.sin(n),e=b.cos(n),s=1-e,t[0]=u*u*s+e,t[1]=o*u*s+h*r,t[2]=h*u*s-o*r,t[3]=0,t[4]=u*o*s-h*r,t[5]=o*o*s+e,t[6]=h*o*s+u*r,t[7]=0,t[8]=u*h*s+o*r,t[9]=o*h*s-u*r,t[10]=h*h*s+e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}}),dn=M(function(t,n){F(),Et(),n.exports=function(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}}),ln=M(function(t,n){F(),Et(),n.exports=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}}),wn=M(function(t,n){F(),Et(),n.exports=function(t,n){var i=n[0],r=n[1],e=n[2],s=n[3],u=n[4],o=n[5],h=n[6],c=n[7],a=n[8],f=n[9],v=n[10],d=n[11],l=n[12],w=n[13],g=n[14],_=n[15],m=i*o-r*u,y=i*h-e*u,p=i*c-s*u,k=r*h-e*o,b=r*c-s*o,A=e*c-s*h,T=a*w-f*l,S=a*g-v*l,E=a*_-d*l,I=f*g-v*w,R=f*_-d*w,C=v*_-d*g,D=m*C-y*R+p*I+k*E-b*S+A*T;if(!D)return null;return D=1/D,t[0]=(o*C-h*R+c*I)*D,t[1]=(e*R-r*C-s*I)*D,t[2]=(w*A-g*b+_*k)*D,t[3]=(v*b-f*A-d*k)*D,t[4]=(h*E-u*C-c*S)*D,t[5]=(i*C-e*E+s*S)*D,t[6]=(g*p-l*A-_*y)*D,t[7]=(a*A-v*p+d*y)*D,t[8]=(u*R-o*E+c*T)*D,t[9]=(r*E-i*R-s*T)*D,t[10]=(l*b-w*p+_*m)*D,t[11]=(f*p-a*b-d*m)*D,t[12]=(o*S-u*I-h*T)*D,t[13]=(i*I-r*S+e*T)*D,t[14]=(w*y-l*k-g*m)*D,t[15]=(a*k-f*y+v*m)*D,t}}),gn=M(function(t,n){F(),Et(),n.exports=function(t,n,i){var r=n[0],e=n[1],s=n[2],u=n[3],o=n[4],h=n[5],c=n[6],a=n[7],f=n[8],v=n[9],d=n[10],l=n[11],w=n[12],g=n[13],_=n[14],m=n[15],y=i[0],p=i[1],k=i[2],b=i[3];return t[0]=y*r+p*o+k*f+b*w,t[1]=y*e+p*h+k*v+b*g,t[2]=y*s+p*c+k*d+b*_,t[3]=y*u+p*a+k*l+b*m,y=i[4],p=i[5],k=i[6],b=i[7],t[4]=y*r+p*o+k*f+b*w,t[5]=y*e+p*h+k*v+b*g,t[6]=y*s+p*c+k*d+b*_,t[7]=y*u+p*a+k*l+b*m,y=i[8],p=i[9],k=i[10],b=i[11],t[8]=y*r+p*o+k*f+b*w,t[9]=y*e+p*h+k*v+b*g,t[10]=y*s+p*c+k*d+b*_,t[11]=y*u+p*a+k*l+b*m,y=i[12],p=i[13],k=i[14],b=i[15],t[12]=y*r+p*o+k*f+b*w,t[13]=y*e+p*h+k*v+b*g,t[14]=y*s+p*c+k*d+b*_,t[15]=y*u+p*a+k*l+b*m,t}}),_n=M(function(t,n){F(),Et(),n.exports=function(t,n,i,r,e){var s=1/b.tan(n/2),u=1/(r-e);return t[0]=s/i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(e+r)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*e*r*u,t[15]=0,t}}),mn=M(function(t,n){F(),Et(),n.exports=function(t,n,i,r){var e,s,u,o,h,c,a,f,v,d,l,w,g,_,m,y,p,k,A,T,S,E,I,R,C=r[0],D=r[1],P=r[2],N=b.sqrt(C*C+D*D+P*P);if(b.abs(N)<1e-6)return null;C*=N=1/N,D*=N,P*=N,e=b.sin(i),s=b.cos(i),u=1-s,o=n[0],h=n[1],c=n[2],a=n[3],f=n[4],v=n[5],d=n[6],l=n[7],w=n[8],g=n[9],_=n[10],m=n[11],y=C*C*u+s,p=D*C*u+P*e,k=P*C*u-D*e,A=C*D*u-P*e,T=D*D*u+s,S=P*D*u+C*e,E=C*P*u+D*e,I=D*P*u-C*e,R=P*P*u+s,t[0]=o*y+f*p+w*k,t[1]=h*y+v*p+g*k,t[2]=c*y+d*p+_*k,t[3]=a*y+l*p+m*k,t[4]=o*A+f*T+w*S,t[5]=h*A+v*T+g*S,t[6]=c*A+d*T+_*S,t[7]=a*A+l*T+m*S,t[8]=o*E+f*I+w*R,t[9]=h*E+v*I+g*R,t[10]=c*E+d*I+_*R,t[11]=a*E+l*I+m*R,n!==t&&(t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]);return t}}),yn=M(function(t,n){F(),Et(),n.exports=function(t,n,i){var r,e,s,u,o,h,c,a,f,v,d,l,w=i[0],g=i[1],_=i[2];n===t?(t[12]=n[0]*w+n[4]*g+n[8]*_+n[12],t[13]=n[1]*w+n[5]*g+n[9]*_+n[13],t[14]=n[2]*w+n[6]*g+n[10]*_+n[14],t[15]=n[3]*w+n[7]*g+n[11]*_+n[15]):(r=n[0],e=n[1],s=n[2],u=n[3],o=n[4],h=n[5],c=n[6],a=n[7],f=n[8],v=n[9],d=n[10],l=n[11],t[0]=r,t[1]=e,t[2]=s,t[3]=u,t[4]=o,t[5]=h,t[6]=c,t[7]=a,t[8]=f,t[9]=v,t[10]=d,t[11]=l,t[12]=r*w+o*g+f*_+n[12],t[13]=e*w+h*g+v*_+n[13],t[14]=s*w+c*g+d*_+n[14],t[15]=u*w+a*g+l*_+n[15]);return t}}),pn={};!function(t,n){for(var i in n)D(t,i,{get:n[i],enumerable:!0})}(pn,{ChromelessPlayer:function(){return $x},ErrorCategory:function(){return ad},ErrorCode:function(){return cd},Player:function(){return $x},cache:function(){return x5},cast:function(){return E$},features:function(){return iO},players:function(){return eO},registerContentProtectionIntegration:function(){return sO},utils:function(){return nO},version:function(){return rO}}),a.exports=(un=pn,L(D({},"__esModule",{value:!0}),un)),F(),Et(),F(),Et(),F(),Et(),F(),Et(),Dt(),F(),Et(),Bt(),H(),F(),Et(),H(),F(),Et(),Ut(),F(),Et(),Bt(),H(),F(),Et();var kn=function(t){return t.Sv="web",t.Tv="android",t.Ev="android-tv",t.Pv="ios",t.xv="tvos",t.Iv="chromecast",t.Rv="theoliveweb",t}({});var bn=l?l.userAgent:"",An=bn.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),Tn=bn.match(/Edg\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),Sn=bn.match(/Android ([0-9\.]+)/i),En=bn.match(/Windows NT ([0-9\.]+)/i),In=bn.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),Rn=bn.match(/Firefox\/([0-9\.]+)/i),Cn=bn.match(/OPR\/(\d+\.\d+)/i),Dn=bn.match(/Tizen ([0-9\.]+)/i),Pn=bn.match(/(iPhone OS|iPad OS|iPod OS|Mac OS X) (\d+)_(\d+)_?(\d+)?/),Nn=bn.match(/HbbTV\/([0-9.]+)/i),Bn=bn.match(/(AFT.*) Build/i),xn=function(){function t(){this.Cv=Boolean("ontouchstart"in self||self.DocumentTouch&&V(v,self.DocumentTouch)||l&&l.msMaxTouchPoints),this.Bv=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(bn)||/(macintosh|mac(?=_powerpc)\s)/i.test(bn),this.Mv=/Windows NT/i.test(bn),this.Ov=En?T(En[1]):0,this.Uv=/Android/i.test(bn),this.Hv=Sn?T(Sn[1]):0,this.qv=/windows phone (8|8\.1)/i.test(bn),this.Gv=/iPhone/i.test(bn),this.Qv=/iPad/i.test(bn),this.Yv=this.Bv&&this.Cv&&!this.Qv,this.Zv=/iPod/i.test(bn),this.r_=/Mobile Safari/i.test(bn),this.s_=/EOS\d*STB/i.test(bn),this.n_=/APP\d*STB/i.test(bn),this.$v=(this.Gv||this.Qv||this.Yv||this.Zv)&&!this.qv,this.i_=Pn?T(Pn[2]):0,this.h_=this.qv||this.$v||this.Uv||this.r_,this.a_=/CriOS/i.test(bn),this.c_=Boolean(self.chrome&&/google/i.test(l.vendor))||this.a_,this.__=this.c_&&/Edg\//i.test(l.userAgent),this.p_=Tn?A(Tn[1],10):0,this.Bg=Boolean(/CriOS/i.test(bn)),this.Dg=Boolean(self.chrome||/Chrome/i.test(bn)||this.Bg),this.f_=An?A(An[1],10):0,this.y_=/SMART-TV.*Tizen/i.test(bn),this.b_=Dn?T(Dn[1]):0,this.l_=this.b_>0?function(t){return t>=8?108:t>=7?94:t>=6.5?85:t>=6?76:t>=5.5?69:t>=5?63:t>=4?56:t>=3?47:0}(this.b_):void 0,this.T_=/webos|web0s/i.test(bn),this.E_=/HbbTV/i.test(bn),this.x_=!!Nn&&function(t){if(!t)return!1;var n=t.split(".").map(Number);return 3===n.length&&1===n[0]&&2===n[1]}(Nn[1]),this.R_=/AFT.* Build/i.test(bn),this.C_=Bn?Bn[1]:void 0,this.B_=/VIZIO/i.test(bn),this.M_=/Edge\/\d+/i.test(bn),this.O_=/Trident/i.test(bn),this.U_=this.O_&&!self.ActiveXObject&&"ActiveXObject"in self,this.H_=/Vivaldi/i.test(bn),this.q_=/Firefox/i.test(bn)&&!/Seamonkey/i.test(bn),this.G_=Rn?T(Rn[1]):0,this.j_=/Safari/i.test(bn)&&!/Chrome/i.test(bn)&&!this.qv&&!this.y_,this.K_=In?T(In[2]):0,this.J_=Boolean(Cn),this.eg=Cn?T(Cn[1]):0,this.hg=/CrKey/.test(bn),this.ag=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv|vizio)\b/i.test(bn),this.fg=/PlayStation 4/i.test(bn),this._g=/PlayStation 5/i.test(bn),this.pg="web"===kn.Ev,this.yg="web"===kn.Tv,this.Sg=this.yg||this.pg,this.Eg="web"===kn.Pv,this.xg="web"===kn.xv,this.Rg="web"===kn.Iv}return Nt(t,[{key:"Ke",get:function(){return this.Cv}},{key:"Dv",get:function(){return this.Bv}},{key:"Nv",get:function(){return this.Mv}},{key:"Lv",get:function(){return this.Ov}},{key:"Fv",get:function(){return this.Uv}},{key:"Vv",get:function(){return this.Hv}},{key:"Wv",get:function(){return this.qv}},{key:"zv",get:function(){return this.Gv}},{key:"Xv",get:function(){return this.Qv}},{key:"Kv",get:function(){return this.Yv}},{key:"Jv",get:function(){return this.Zv}},{key:"ru",get:function(){return this.$v}},{key:"t_",get:function(){return this.i_}},{key:"e_",get:function(){return this.s_||this.n_}},{key:"vd",get:function(){return this.r_}},{key:"Ks",get:function(){return this.h_}},{key:"o_",get:function(){return this.a_}},{key:"u_",get:function(){return this.c_}},{key:"d_",get:function(){var t;return null!=(t=this.l_)?t:this.f_}},{key:"v_",get:function(){return this.__}},{key:"g_",get:function(){var t;return(null==(t=f.chrome)?void 0:t.webview)&&this.p_>0}},{key:"m_",get:function(){return this.p_}},{key:"w_",get:function(){return this.y_}},{key:"A_",get:function(){return this.b_}},{key:"S_",get:function(){return this.T_}},{key:"k_",get:function(){return this.E_}},{key:"P_",get:function(){return this.x_}},{key:"I_",get:function(){return this.R_}},{key:"IS_FIRETV_AFTMM",get:function(){return"AFTMM"===this.C_}},{key:"D_",get:function(){return this.B_}},{key:"N_",get:function(){return this.M_}},{key:"L_",get:function(){return this.O_}},{key:"F_",get:function(){return this.U_}},{key:"V_",get:function(){return this.H_}},{key:"W_",get:function(){return this.q_}},{key:"z_",get:function(){return this.G_}},{key:"X_",get:function(){return this.j_}},{key:"Q_",get:function(){return 0===this.K_&&On.ru?this.i_:this.K_}},{key:"Y_",get:function(){return this.J_}},{key:"Z_",get:function(){return this.eg}},{key:"rg",get:function(){return this.hg}},{key:"og",get:function(){return this.ag}},{key:"cg",get:function(){return!(!this.S_&&!this.w_)&&this.d_<=56}},{key:"dg",get:function(){return this.fg}},{key:"vg",get:function(){return this._g}},{key:"gg",get:function(){return this.pg}},{key:"wg",get:function(){return this.yg}},{key:"Ag",get:function(){return this.Sg}},{key:"Tg",get:function(){return this.Eg}},{key:"Pg",get:function(){return this.xg}},{key:"Ig",get:function(){return this.Rg}},{key:"Cg",get:function(){return this.Dg}},{key:"IS_IOS_CHROME",get:function(){return this.Bg}}]),t}();xn.Ng=new xn;var On=xn.Ng;F(),Et(),at();var Mn={}.hasOwnProperty,Ln={}.toString;function Un(t){return null!=t}function Fn(t){return void 0===t}var Vn,Hn=Array.isArray||function(t){return"[object Array]"===Ln.call(t)};function Wn(t){return zn(t)&&Mn.call(t,"length")&&Yn(t.length)}function zn(t){return"object"===(void 0===t?"undefined":W(t))&&null!==t}function Xn(t){return zn(t)&&t.constructor&&t.constructor===k}function qn(t){return"string"==typeof t}function Gn(t){return"boolean"==typeof t}function jn(t){return Un(t)&&"function"==typeof t.then}function Qn(t){return"[object Date]"===Ln.call(t)}function Yn(t){return"number"==typeof t}function Kn(t){return"function"==typeof t}function Jn(t){return Kn(t)||zn(t)}function Zn(t){return zn(t)&&!Hn(t)}function $n(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function ti(t){for(var n;Un(n=t.firstChild);)t.removeChild(n)}function ni(t,n){for(var i;Un(i=t.firstChild);)n.appendChild(i)}function ii(t){return t&&t.nodeName&&t.nodeName.toLowerCase()||""}function ri(t){var n=t.className;return"string"==typeof n?n:n&&"string"==typeof n.baseVal?n.baseVal:""}function ei(t,n){var i=t.className;"string"==typeof i?t.className=n:i&&"string"==typeof i.baseVal&&(i.baseVal=n)}function si(t,n){if(void 0!==t.classList)t.classList.add(n);else if(void 0!==t.className){var i=ri(t);-1===(" "+i+" ").indexOf(" "+n+" ")&&ei(t,(i+" "+n).trim())}}function ui(t){t.stopPropagation()}function oi(t,n){On.w_&&On.A_<3?function(t,n){var i=n;switch(n){case"flex":i="-webkit-flex";break;case"inline-flex":i="-webkit-inline-flex"}t.display=i}(t,n):function(t,n){if(t.display=n,t.display!==n){var i=n;switch(n){case"flex":i="-ms-flexbox";break;case"inline-flex":i="-ms-inline-flexbox"}t.display=i}}(t,n)}function hi(t,n){var i=n.style;if(i)for(var r,e=Lt(k.keys(t));!(r=e()).done;){var s=r.value,u=t[s];void 0!==u&&(i[s]=u)}}function ci(t){var n=t.style;n.position="absolute",n.left="0",n.right="0",n.top="0",n.bottom="0",n.width="100%",n.height="100%"}function ai(t){var n=t.style;n.position="",n.left="",n.right="",n.top="",n.bottom="",n.width="",n.height=""}function fi(t){t.removeAttribute("title")}function vi(t){try{return Boolean(t)&&t.parent!==t}catch(t){return!1}}F(),Et(),F(),Et();var di=function(){},li=function(t){return t};function wi(t,n){var i=-1/0;return function(){for(var r=arguments.length,e=new Array(r),s=0;s<r;s++)e[s]=arguments[s];var u=Vn.Mg();u-i>=n&&(t.apply(this,e),i=u)}}function gi(t,n){var i=0;return function(){for(var r=arguments.length,e=new Array(r),s=0;s<r;s++)e[s]=arguments[s];var u=this;0!==i&&Vn.Lg(i),i=Vn.Og(function(){i=0,t.apply(u,e)},n)}}function _i(t){var n;return function(){return void 0!==t&&(n=t(),t=void 0),n}}function mi(t,n){return pi(t.slice(),n)}function yi(t,n){var i=pi(t,n);return i!==t&&ki(i,void 0,t.length,t),t}function pi(t,n){var i=t,r=i.length;if(r<=1)return i;for(var e=new Array(r),s=1;s<r;s*=2){ki(i,n,s,e);var u=i;i=e,e=u}return i}function ki(t,n,i,r){var e,s,u,o,h,c=t.length,a=0,f=2*i;for(s=0;s<c;s+=f)for(e=(u=s+i)+i,u>c&&(u=c),e>c&&(e=c),o=s,h=u;;)if(o<u&&h<e)n&&n(t[o],t[h])<=0?r[a++]=t[o++]:r[a++]=t[h++];else if(o<u)r[a++]=t[o++];else{if(!(h<e))break;r[a++]=t[h++]}}F(),Et(),Wt(),Qt(),F(),Et(),jt(),F(),Et(),jt(),F(),Et(),Bt(),Ut(),F(),Et(),Wt(),Ut(),Qt(),F(),Et(),F(),Et(),F(),Et();var bi=9007199254740991,Ai=b.pow(2,-52);function Ti(t,n,i){return b.min(b.max(t,n),i)}function Si(t,n,i){return t===n||b.abs(t-n)<=i}function Ei(t,n){if(t===n)return!0;var i=b.abs(t-n);return i<Ai||i<b.max(b.abs(t),b.abs(n))*Ai}function Ii(t,n){return t%n+(t<0?n:0)}function Ri(t){return t!=t}function Ci(t,n){return t===n||Ri(t)&&Ri(n)}function Di(t,n){for(var i=t,r=n;0!==r;){var e=i%r;i=r,r=e}return i<0?-i:i}function Pi(t,n){return t.reduce(function(t,i){return t+n(i)},0)}var Ni=function(t){return t[t.rh=0]="rh",t[t.Fg=1]="Fg",t[t.Ug=-1]="Ug",t}({}),Bi=function(t,n){return(0|t)-(0|n)},xi=function(t,n){return t===n?0:t<n?-1:t>n?1:S(t)?S(n)?0:1:-1};function Oi(t,n,i){return Si(t,n,i)?0:xi(t,n)}var Mi=function(t,n){return Ei(t,n)?0:xi(t,n)};var Li="function"==typeof Array.prototype.find?function(t,n){return t.find(n)}:function(t,n){var i=Hi(t,n);return-1===i?void 0:t[i]},Ui=Li,Fi="function"==typeof Array.prototype.findLast?function(t,n){return t.findLast(n)}:function(t,n){var i=Wi(t,n);return-1===i?void 0:t[i]},Vi=Fi,Hi="function"==typeof Array.prototype.findIndex?function(t,n){return t.findIndex(n)}:function(t,n){for(var i=0;i<t.length;i+=1){if(n(t[i],i,t))return i}return-1},Wi="function"==typeof Array.prototype.findLastIndex?function(t,n){return t.findLastIndex(n)}:function(t,n){for(var i=t.length-1;i>=0;i-=1){if(n(t[i],i,t))return i}return-1},zi="function"==typeof Array.prototype.at?function(t,n){return t.at(n)}:function(t,n){var i=t.length,r=n>=0?n:i+n;return r<0||r>=i?void 0:t[r]};function Xi(t,n){var i=t.indexOf(n);return-1!==i&&(qi(t,i),!0)}function qi(t,n){0===n?t.shift():t.splice(n,1)}function Gi(t,n){for(var i=new Array(t.length),r=0,e=0;e<t.length;){if(t[e]===n){e++,i.length-=1;break}i[r++]=t[e++]}for(;e<t.length;)i[r++]=t[e++];return i}function ji(t,n){return-1!==t.indexOf(n)}function Qi(t,n,i){if(t===n)return!0;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r+=1)if(!i(t[r],n[r]))return!1;return!0}function Yi(t){t.length=0}function Ki(t,n){if(t.length!==n.length)return!1;for(var i,r=Lt(t);!(i=r()).done;){if(!ji(n,i.value))return!1}return!0}Array.prototype.flat;var Ji="function"==typeof Array.prototype.flatMap?function(t,n){return t.flatMap(n)}:function(t,n){for(var i=[],r=0;r<t.length;r++){var e;(e=i).push.apply(e,[].concat(n(t[r],r)))}return i};function Zi(t,n){return tr(t,function(t,i){return xi(n(t),n(i))})}function $i(t,n){return nr(t,function(t,i){return xi(n(t),n(i))})}function tr(t,n){if(0!==t.length)return t.reduce(function(t,i){return n(t,i)<=0?t:i})}function nr(t,n){return tr(t,function(t,i){return n(i,t)})}function ir(t){return t.filter(function(n,i){return t.indexOf(n)===i})}function rr(t,n){return ut.all(t.map(n)).then(function(n){return t.filter(function(t,i){return n[i]})})}function er(t,n){return Vt(function(){var i,r,e;return zt(this,function(s){switch(s.label){case 0:i=Lt(t),s.label=1;case 1:return(r=i()).done?[3,4]:(e=r.value,[4,n(e)]);case 2:if(s.sent())return[2,!0];s.label=3;case 3:return[3,1];case 4:return[2,!1]}})})()}function sr(t,n,i){if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(!i(t[r],n[r]))return!1;return!0}function ur(t,n){return function(t,n){for(var i=new Array(t),r=0;r<t;r++)i[r]=n(r);return i}(t,n)}var or=function(){function t(){this.Hg=!1,this.Wg=!1,this.qg=[],this.Gg=[]}var n=t.prototype;return n.Vg=function(){if(!this.Hg&&!this.Wg){this.Hg=!0;for(var t,n=Lt(this.qg.slice());!(t=n()).done;){(0,t.value)()}this.zg()}},n.zg=function(){if(!this.Wg){this.Wg=!0;for(var t,n=Lt(this.Gg.slice());!(t=n()).done;){(0,t.value)()}Yi(this.qg),Yi(this.Gg)}},n.Xg=function(t){this.Wg||this.qg.push(t)},n.jg=function(t){this.Wg||Xi(this.qg,t)},n.Qg=function(t){this.Wg||this.Gg.push(t)},n.Kg=function(t){this.Wg||Xi(this.Gg,t)},t}(),hr=function(){function t(){this.Jg=new or}var n=t.prototype;return n.Zg=function(){this.Jg.Vg()},n.zg=function(){this.Jg.zg()},n.$g=function(t){var n=this.Jg;if(!n.Hg)if(t.Hg)n.Vg();else if(!n.Wg&&!t.Wg){var i=function(){r(),n.Vg()},r=function(){t.jg(i),t.Kg(r),n.jg(i),n.Kg(r)};t.Xg(i),t.Qg(r),n.Xg(i),n.Qg(r)}},n.tp=function(){var n=new t,i=new t,r=n.Yg,e=i.Yg,s=this.Jg,u=function(){r.Hg&&e.Wg||e.Hg&&r.Wg?s.Vg():r.Wg&&e.Wg&&s.zg()};r.Xg(u),e.Xg(u),r.Qg(u),e.Qg(u),n.$g(s),i.$g(s);return s.Qg(function(){r.jg(u),e.jg(u),r.Kg(u),e.Kg(u)}),[n,i]},n[e]=function(){this.Zg()},t.ep=function(n){for(var i,r=new t,e=Lt(n);!(i=e()).done;){var s=i.value;void 0!==s&&r.$g(s)}return r},Nt(t,[{key:"Yg",get:function(){return this.Jg}}]),t}();F(),Et(),Wt(),Bt(),Dt(),H(),Qt(),F(),Et(),Bt(),Dt();var cr=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];y.apply(this,n)};(cr.prototype=k.create(y.prototype)).constructor=cr;var ar=function(t){function n(n,i){var r;return(r=t.call(this)||this).cause=void 0,r.message=n||"Unknown error",r.cause=i,y.captureStackTrace&&y.captureStackTrace(r,r.constructor),r}return Ct(n,t),Nt(n,[{key:"name",get:function(){return"BaseError"}}]),n}(cr),fr=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return Ct(n,t),Nt(n,[{key:"name",get:function(){return"AbortError"}}]),n}(ar);function vr(t){return V(t,y)&&"AbortError"===t.name}function dr(t){if(t&&t.Hg)throw new fr}function lr(t){if(vr(t))throw t}function wr(t){if(!vr(t))throw t}function gr(t,n){return n?new ut(function(i,r){if(n.Hg)return t.catch(di),r(new fr);var e=function(){n.jg(e),r(new fr)};n.Xg(e),t.then(function(t){n.jg(e),i(t)},function(t){n.jg(e),r(t)})}):t}function _r(t,n){return Vt(function(){var i,r;return zt(this,function(e){switch(e.label){case 0:i={stack:[],error:void 0,hasError:!1},e.label=1;case 1:return e.trys.push([1,3,4,5]),qt(i,n,!1),[4,t];case 2:return[2,e.sent()];case 3:return r=e.sent(),i.error=r,i.hasError=!0,[3,5];case 4:return Gt(i),[7];case 5:return[2]}})})()}function mr(t,n){return Vt(function(){var i,r;return zt(this,function(e){switch(e.label){case 0:i={stack:[],error:void 0,hasError:!1},e.label=1;case 1:return e.trys.push([1,3,4,5]),qt(i,n,!1),[4,t(n.Yg)];case 2:return[2,e.sent()];case 3:return r=e.sent(),i.error=r,i.hasError=!0,[3,5];case 4:return Gt(i),[7];case 5:return[2]}})})()}var yr=ut.resolve(),pr="function"==typeof queueMicrotask?queueMicrotask:function(t){yr.then(t)};function kr(t){t.then(di,di)}function br(t){return Vt(function(){var n;return zt(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,4]),[4,ut.all(t)];case 1:return[2,i.sent()];case 2:return n=i.sent(),[4,ut.all(t.map(function(t){return t.catch(di)}))];case 3:throw i.sent(),n;case 4:return[2]}})})()}function Ar(t,n){return new ut(function(i,r){if(void 0!==n&&n.Hg)r(new fr);else{var e=Vn.Og(function(){void 0!==n&&n.jg(s),i()},t),s=function(){Vn.Lg(e),r(new fr)};void 0!==n&&n.Xg(s)}})}function Tr(t,n){return Vt(function(){var i,r,e;return zt(this,function(s){switch(s.label){case 0:i={stack:[],error:void 0,hasError:!1},s.label=1;case 1:return s.trys.push([1,3,4,5]),r=qt(i,new hr,!1),[4,ut.race([t,Ar(n,r.Yg).then(function(){throw new y("Timeout")})])];case 2:return[2,s.sent()];case 3:return e=s.sent(),i.error=e,i.hasError=!0,[3,5];case 4:return Gt(i),[7];case 5:return[2]}})})()}function Sr(t){return"video"===ii(t)}function Er(t){t.src&&(t.removeAttribute("src"),t.load()),t.srcObject&&(t.srcObject=null,t.load()),t.hasChildNodes()&&(!function(t,n){for(var i=t.childNodes,r=i.length-1;r>=0;r--){var e=i.item(r);ii(e)===n&&t.removeChild(e)}}(t,"source"),t.load())}function Ir(){return void 0!==v?v.createElement("video"):void 0}var Rr=_i(Ir),Cr=_i(function(){return"undefined"!=typeof HTMLVideoElement&&V(Rr(),HTMLVideoElement)});function Dr(t){var n=v.createElement(t);return Sr(n)&&n.addEventListener("contextmenu",xr),Nr(n),n}function Pr(t){Nr(t),t.removeEventListener("contextmenu",xr)}function Nr(t){t.removeAttribute("id"),t.removeAttribute("class"),t.removeAttribute("style"),ti(t),Er(t),t.pause(),t.playbackRate=1,t.disableRemotePlayback=!1,t.preload="auto",t.controls=!1,t.style.display="none",Sr(t)&&(t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",t.playsInline=!0,t.setAttribute("webkit-playsinline",""))}function Br(t,n){if(n.sp){var i=t.muted;t.muted=!0,t.muted=!1,t.muted=i}else if(t.paused){var r=t.play();jn(r)&&kr(r),t.pause()}}function xr(t){t.preventDefault()}F(),Et(),F(),Et(),F(),Et(),at();var Or=null;try{Or=new WebAssembly.Instance(new WebAssembly.Module(new E([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(un){}function Mr(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function Lr(t){return!0===(t&&t.np)}function Ur(t){var n=b.clz32(t&-t);return t?31-n:n}Mr.prototype.np,k.defineProperty(Mr.prototype,"np",{value:!0}),Mr.isLong=Lr;var Fr={},Vr={};function Hr(t,n){var i,r,e;return n?(e=0<=(t>>>=0)&&t<256)&&(r=Vr[t])?r:(i=zr(t,0,!0),e&&(Vr[t]=i),i):(e=-128<=(t|=0)&&t<128)&&(r=Fr[t])?r:(i=zr(t,t<0?-1:0,!1),e&&(Fr[t]=i),i)}function Wr(t,n){if(S(t))return n?Zr:Jr;if(n){if(t<0)return Zr;if(t>=Qr)return re}else{if(t<=-Yr)return ee;if(t+1>=Yr)return ie}return t<0?Wr(-t,n).neg():zr(t%jr|0,t/jr|0,n)}function zr(t,n,i){return new Mr(t,n,i)}Mr.fromInt=Hr,Mr.fromNumber=Wr,Mr.fromBits=zr;var Xr=b.pow;function qr(t,n,i){if(0===t.length)throw y("empty string");if("number"==typeof n?(i=n,n=!1):n=!!n,"NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return n?Zr:Jr;if((i=i||10)<2||36<i)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw y("interior hyphen");if(0===r)return qr(t.substring(1),n,i).neg();for(var e=Wr(Xr(i,8)),s=Jr,u=0;u<t.length;u+=8){var o=b.min(8,t.length-u),h=A(t.substring(u,u+o),i);if(o<8){var c=Wr(Xr(i,o));s=s.mul(c).add(Wr(h))}else s=(s=s.mul(e)).add(Wr(h))}return s.unsigned=n,s}function Gr(t,n){return"number"==typeof t?Wr(t,n):"string"==typeof t?qr(t,n):zr(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}Mr.fromString=qr,Mr.fromValue=Gr;var jr=4294967296,Qr=jr*jr,Yr=Qr/2,Kr=Hr(1<<24),Jr=Hr(0);Mr.ZERO=Jr;var Zr=Hr(0,!0);Mr.UZERO=Zr;var $r=Hr(1);Mr.ONE=$r;var te=Hr(1,!0);Mr.UONE=te;var ne=Hr(-1);Mr.NEG_ONE=ne;var ie=zr(-1,2147483647,!1);Mr.MAX_VALUE=ie;var re=zr(-1,-1,!0);Mr.MAX_UNSIGNED_VALUE=re;var ee=zr(0,-2147483648,!1);Mr.MIN_VALUE=ee;var se=Mr.prototype;se.toInt=function(){return this.unsigned?this.low>>>0:this.low},se.toNumber=function(){return this.unsigned?(this.high>>>0)*jr+(this.low>>>0):this.high*jr+(this.low>>>0)},se.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(ee)){var n=Wr(t),i=this.div(n),r=i.mul(n).sub(this);return i.toString(t)+r.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var e=Wr(Xr(t,6),this.unsigned),s=this,u="";;){var o=s.div(e),h=(s.sub(o.mul(e)).toInt()>>>0).toString(t);if((s=o).isZero())return h+u;for(;h.length<6;)h="0"+h;u=""+h+u}},se.getHighBits=function(){return this.high},se.getHighBitsUnsigned=function(){return this.high>>>0},se.getLowBits=function(){return this.low},se.getLowBitsUnsigned=function(){return this.low>>>0},se.getNumBitsAbs=function(){if(this.isNegative())return this.eq(ee)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&!(t&1<<n);n--);return 0!=this.high?n+33:n+1},se.isSafeInteger=function(){var t=this.high>>21;return!t||!this.unsigned&&(-1===t&&!(0===this.low&&-2097152===this.high))},se.isZero=function(){return 0===this.high&&0===this.low},se.eqz=se.isZero,se.isNegative=function(){return!this.unsigned&&this.high<0},se.isPositive=function(){return this.unsigned||this.high>=0},se.isOdd=function(){return!(1&~this.low)},se.isEven=function(){return!(1&this.low)},se.equals=function(t){return Lr(t)||(t=Gr(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},se.eq=se.equals,se.notEquals=function(t){return!this.eq(t)},se.neq=se.notEquals,se.ne=se.notEquals,se.lessThan=function(t){return this.comp(t)<0},se.lt=se.lessThan,se.lessThanOrEqual=function(t){return this.comp(t)<=0},se.lte=se.lessThanOrEqual,se.le=se.lessThanOrEqual,se.greaterThan=function(t){return this.comp(t)>0},se.gt=se.greaterThan,se.greaterThanOrEqual=function(t){return this.comp(t)>=0},se.gte=se.greaterThanOrEqual,se.ge=se.greaterThanOrEqual,se.compare=function(t){if(Lr(t)||(t=Gr(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},se.comp=se.compare,se.negate=function(){return!this.unsigned&&this.eq(ee)?ee:this.not().add($r)},se.neg=se.negate,se.add=function(t){Lr(t)||(t=Gr(t));var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,s=t.high>>>16,u=65535&t.high,o=t.low>>>16,h=0,c=0,a=0,f=0;return a+=(f+=e+(65535&t.low))>>>16,c+=(a+=r+o)>>>16,h+=(c+=i+u)>>>16,h+=n+s,zr((a&=65535)<<16|(f&=65535),(h&=65535)<<16|(c&=65535),this.unsigned)},se.subtract=function(t){return Lr(t)||(t=Gr(t)),this.add(t.neg())},se.sub=se.subtract,se.multiply=function(t){if(this.isZero())return this;if(Lr(t)||(t=Gr(t)),Or)return zr(Or.mul(this.low,this.high,t.low,t.high),Or.get_high(),this.unsigned);if(t.isZero())return this.unsigned?Zr:Jr;if(this.eq(ee))return t.isOdd()?ee:Jr;if(t.eq(ee))return this.isOdd()?ee:Jr;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(Kr)&&t.lt(Kr))return Wr(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,s=t.high>>>16,u=65535&t.high,o=t.low>>>16,h=65535&t.low,c=0,a=0,f=0,v=0;return f+=(v+=e*h)>>>16,a+=(f+=r*h)>>>16,f&=65535,a+=(f+=e*o)>>>16,c+=(a+=i*h)>>>16,a&=65535,c+=(a+=r*o)>>>16,a&=65535,c+=(a+=e*u)>>>16,c+=n*h+i*o+r*u+e*s,zr((f&=65535)<<16|(v&=65535),(c&=65535)<<16|(a&=65535),this.unsigned)},se.mul=se.multiply,se.divide=function(t){if(Lr(t)||(t=Gr(t)),t.isZero())throw y("division by zero");var n,i,r;if(Or)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?zr((this.unsigned?Or.div_u:Or.div_s)(this.low,this.high,t.low,t.high),Or.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?Zr:Jr;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return Zr;if(t.gt(this.shru(1)))return te;r=Zr}else{if(this.eq(ee))return t.eq($r)||t.eq(ne)?ee:t.eq(ee)?$r:(n=this.shr(1).div(t).shl(1)).eq(Jr)?t.isNegative()?$r:ne:(i=this.sub(t.mul(n)),r=n.add(i.div(t)));if(t.eq(ee))return this.unsigned?Zr:Jr;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();r=Jr}for(i=this;i.gte(t);){n=b.max(1,b.floor(i.toNumber()/t.toNumber()));for(var e=b.ceil(b.log(n)/b.LN2),s=e<=48?1:Xr(2,e-48),u=Wr(n),o=u.mul(t);o.isNegative()||o.gt(i);)o=(u=Wr(n-=s,this.unsigned)).mul(t);u.isZero()&&(u=$r),r=r.add(u),i=i.sub(o)}return r},se.div=se.divide,se.modulo=function(t){return Lr(t)||(t=Gr(t)),Or?zr((this.unsigned?Or.rem_u:Or.rem_s)(this.low,this.high,t.low,t.high),Or.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},se.mod=se.modulo,se.rem=se.modulo,se.not=function(){return zr(~this.low,~this.high,this.unsigned)},se.countLeadingZeros=function(){return this.high?b.clz32(this.high):b.clz32(this.low)+32},se.clz=se.countLeadingZeros,se.countTrailingZeros=function(){return this.low?Ur(this.low):Ur(this.high)+32},se.ctz=se.countTrailingZeros,se.and=function(t){return Lr(t)||(t=Gr(t)),zr(this.low&t.low,this.high&t.high,this.unsigned)},se.or=function(t){return Lr(t)||(t=Gr(t)),zr(this.low|t.low,this.high|t.high,this.unsigned)},se.xor=function(t){return Lr(t)||(t=Gr(t)),zr(this.low^t.low,this.high^t.high,this.unsigned)},se.shiftLeft=function(t){return Lr(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?zr(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):zr(0,this.low<<t-32,this.unsigned)},se.shl=se.shiftLeft,se.shiftRight=function(t){return Lr(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?zr(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):zr(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},se.shr=se.shiftRight,se.shiftRightUnsigned=function(t){return Lr(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?zr(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):zr(32===t?this.high:this.high>>>t-32,0,this.unsigned)},se.shru=se.shiftRightUnsigned,se.shr_u=se.shiftRightUnsigned,se.rotateLeft=function(t){var n;return Lr(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?zr(this.high,this.low,this.unsigned):t<32?(n=32-t,zr(this.low<<t|this.high>>>n,this.high<<t|this.low>>>n,this.unsigned)):(n=32-(t-=32),zr(this.high<<t|this.low>>>n,this.low<<t|this.high>>>n,this.unsigned))},se.rotl=se.rotateLeft,se.rotateRight=function(t){var n;return Lr(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?zr(this.high,this.low,this.unsigned):t<32?(n=32-t,zr(this.high<<n|this.low>>>t,this.low<<n|this.high>>>t,this.unsigned)):(n=32-(t-=32),zr(this.low<<n|this.high>>>t,this.high<<n|this.low>>>t,this.unsigned))},se.rotr=se.rotateRight,se.toSigned=function(){return this.unsigned?zr(this.low,this.high,!1):this},se.toUnsigned=function(){return this.unsigned?this:zr(this.low,this.high,!0)},se.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},se.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},se.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},Mr.fromBytes=function(t,n,i){return i?Mr.fromBytesLE(t,n):Mr.fromBytesBE(t,n)},Mr.fromBytesLE=function(t,n){return new Mr(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},Mr.fromBytesBE=function(t,n){return new Mr(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)},"function"==typeof BigInt&&(Mr.fromBigInt=function(t,n){return zr(Number(BigInt.asIntN(32,t)),Number(BigInt.asIntN(32,t>>BigInt(32))),n)},Mr.fromValue=function(t,n){return"bigint"===(void 0===t?"undefined":W(t))?Mr.fromBigInt(t,n):Gr(t,n)},se.toBigInt=function(){var t=BigInt(this.low>>>0);return BigInt(this.unsigned?this.high>>>0:this.high)<<BigInt(32)|t});var ue=Mr;function oe(t,n){return t.lessThan(n)?t:n}function he(t){return!S(t.getTime())}function ce(){return Date.now()||(new Date).getTime()}function ae(t){return t/1e3}function fe(t){return 1e3*t}var ve=1/6,de=ue.fromNumber(bi);function le(t,n){if(0===n)return t.isZero()?NaN:t.isNegative()?-1/0:1/0;if(t.lessThanOrEqual(de))return t.toNumber()/n;var i=t.divide(n),r=t.subtract(i.multiply(n));return i.toNumber()+r.toNumber()/n}var we=Boolean("ontouchstart"in self||self.DocumentTouch&&V(v,self.DocumentTouch))||Boolean(l&&l.msMaxTouchPoints),ge=Rr(),_e=Boolean(ge&&ge.webkitShowPlaybackTargetPicker),me=function(){function t(){this.hp=void 0,this.Bp=!1,this.Ke=we,this.Ks=!1,this.sp=!0}var n=t.prototype;return n.op=function(){return 0},n.xp=function(t,n){return!0},n.Ip=function(t){return t>=2*ve},Nt(t,[{key:"rp",get:function(){return void 0===this.hp&&(this.hp=this.op()),this.hp}},{key:"ap",get:function(){return On.Fv?"android":On.Dv?"macos":On.ru?"ios":On.Nv?"windows":"other"}},{key:"cp",get:function(){return On.og?"tv":On.Ks?"mobile":"desktop"}},{key:"dp",get:function(){return!On.og}},{key:"lp",get:function(){if(f.screen)return{width:f.screen.width,height:f.screen.height}}},{key:"fp",get:function(){return f.devicePixelRatio||1}},{key:"vp",get:function(){return _e}},{key:"_p",get:function(){return!1}},{key:"gp",get:function(){return!0}},{key:"pp",get:function(){return!!(On.X_||On.ru||On.g_)||!!On.D_}},{key:"mp",get:function(){return On.D_}},{key:"wp",get:function(){return!On.ru}},{key:"yp",get:function(){return!0}},{key:"Ap",get:function(){return!0}},{key:"bp",get:function(){return!1}},{key:"Sp",get:function(){}},{key:"Tp",get:function(){return!0}},{key:"kp",get:function(){return!1}},{key:"Ep",get:function(){return On.D_}},{key:"Pp",get:function(){return!1}},{key:"Rp",get:function(){return!1}},{key:"Cp",get:function(){return!1}},{key:"Dp",get:function(){return!1}}]),t}(),ye=function(t){function n(){return t.call(this)||this}return Ct(n,t),n}(me);F(),Et(),Bt(),Dt();var pe=function(t){function n(){return t.apply(this,arguments)||this}return Ct(n,t),n.prototype.xp=function(t,n){if(t&&t.Np&&n&&n.Np){var i=ke(t.Np,"mp4a.40.2")&&ke(n.Np,"mp4a.40.5"),r=ke(t.Np,"mp4a.40.5")&&ke(n.Np,"mp4a.40.2"),e=ke(t.Np,"mp4a.40.2")&&ke(n.Np,"mp4a.40.34"),s=ke(t.Np,"mp4a.40.34")&&ke(n.Np,"mp4a.40.2"),u=ke(t.Np,"mp4a.40.5")&&ke(n.Np,"mp4a.40.34"),o=ke(t.Np,"mp4a.40.34")&&ke(n.Np,"mp4a.40.5");return!(i||r||e||s||u||o)}return!0},Nt(n,[{key:"Sp",get:function(){if(On.Dv)return 4096}},{key:"Dp",get:function(){return!0}}]),n}(ye);function ke(t,n){return t.indexOf(n)>-1}F(),Et(),Dt();var be=function(t){function n(){return t.apply(this,arguments)||this}return Ct(n,t),n.prototype.Ip=function(t){return t>=2},n}(ye);F(),Et(),Bt(),Dt();var Ae=function(t){function n(){var n;return(n=t.call(this)||this).Bp=On.Q_>=11,n.sp=On.X_&&!(On.ru&&On.Q_<10),n}return Ct(n,t),Nt(n,[{key:"Pp",get:function(){return On.Q_<17}},{key:"Rp",get:function(){return!0}}]),n}(ye);F(),Et(),Bt(),Dt();var Te,Se=function(t){function n(){return t.apply(this,arguments)||this}return Ct(n,t),Nt(n,[{key:"Tp",get:function(){return!On.Nv||(On.v_?92!==On.m_:On.d_>=100)}}]),n}(ye);F(),Et(),F(),Et(),Bt(),Dt(),F(),Et(),Bt(),Dt(),F(),Et(),Bt(),Dt(),F(),Et();var Ee=function(){var t=Ir();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(On.Kv)return!1;var t=Ir();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var Ie=function(t){function n(n){var i;return(i=t.call(this)||this).Mp=void 0,i.Mp=n,i.Bp=i.Mp.Bp,i.Ke=i.Mp.Ke,i.sp=Ee&&i.Mp.sp,i}Ct(n,t);var i=n.prototype;return i.op=function(){return this.Mp.rp},i.xp=function(t,n){return this.Mp.xp(t,n)},i.Ip=function(t){return this.Mp.Ip(t)},Nt(n,[{key:"Sp",get:function(){return this.Mp.Sp}},{key:"Tp",get:function(){return this.Mp.Tp}},{key:"Pp",get:function(){return this.Mp.Pp}},{key:"Dp",get:function(){return this.Mp.Dp}}]),n}(me),Re=function(t){function n(n){var i;return(i=t.call(this,n)||this).Bp=!0,i.Ks=!0,i}return Ct(n,t),Nt(n,[{key:"bp",get:function(){return On.ru}}]),n}(Ie);F(),Et();var Ce=function(){function t(t){this.Op=void 0,this.Op=De(t)}var n=t.prototype;return n.Lp=function(){return new this.Op},n.Fp=function(t){return this.Op.isTypeSupported(t)},t}();function De(t){return t&&Jn(f.ManagedMediaSource)?f.ManagedMediaSource:Jn(f.MediaSource)?f.MediaSource:void 0}var Pe=function(t){function n(){return t.apply(this,arguments)||this}return Ct(n,t),n.prototype.op=function(){return De(!0)?t.prototype.op.call(this):1},Nt(n,[{key:"bp",get:function(){return!0}}]),n}(Re);F(),Et(),Bt(),Dt();var Ne=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Up=void 0,n}return Ct(n,t),n.prototype.xp=function(n,i){return t.prototype.xp.call(this,n,i)},Nt(n,[{key:"_p",get:function(){return On.A_<3}},{key:"gp",get:function(){return On.A_>=3}},{key:"lp",get:function(){var t=this;return f.tizen&&!this.Up&&f.tizen.systeminfo.getPropertyValue("DISPLAY",function(n){var i=n.resolutionWidth,r=n.resolutionHeight;1===i&&1===r||(t.Up={width:i,height:r})}),this.Up}},{key:"kp",get:function(){return On.A_<3}}]),n}(Ie);F(),Et(),Bt(),Dt();var Be=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Up=void 0,n}return Ct(n,t),Nt(n,[{key:"lp",get:function(){var t=this;return f.webOS&&!this.Up&&f.webOS.deviceInfo(function(n){t.Up={width:n.screenWidth,height:n.screenHeight}}),this.Up}},{key:"yp",get:function(){return!1}}]),n}(Ie);F(),Et(),Bt(),Dt();var xe=function(t){function n(){return t.apply(this,arguments)||this}return Ct(n,t),Nt(n,[{key:"bp",get:function(){return!0}},{key:"Rp",get:function(){return this.Mp.Rp}}]),n}(Ie);F(),Et(),Bt(),Dt();var Oe=function(t){function n(){return t.apply(this,arguments)||this}return Ct(n,t),Nt(n,[{key:"Cp",get:function(){return On.IS_FIRETV_AFTMM}}]),n}(Ie);!function(t){Te=t}(function(){var t=function(){if(On.W_)return new pe;if(On.N_||On.L_)return new be;if(On.X_)return new Ae;if(On.u_)return new Se;return new ye}();return On.ru?new Pe(t):On.I_?new Oe(t):On.Ks?new Re(t):On.w_?new Ne(t):On.S_?new Be(t):On.Dv?new xe(t):new Ie(t)}()),F(),Et(),Bt(),Dt(),F(),Et(),Bt(),H(),at(),F(),Et();var Me=!(On.L_&&!On.F_),Le=self.console;function Ue(t){if(zn(t))try{return JSON.stringify(t)}catch(t){}return t}function Fe(t){return t.map(Ue).join(" ")}function Ve(t){var n=Le&&Le[t];return n?n.bind&&Me?n.bind(Le):function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];Le[t](Fe(i))}:void 0}var He=Ve("log")||di,We=Ve("warn")||He.bind(void 0,"WARNING:"),ze=Ve("error")||He.bind(void 0,"ERROR:"),Xe=function(){var t=Le&&Le.assert;return t?t.bind&&Me?t.bind(Le):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];Le.assert(t,Fe(i))}:function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];t||ze.apply(void 0,[].concat(["Assertion failed:"],i))}}();function qe(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),k.defineProperty(t,r.key,r)}}function Ge(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var r=new Array(i),e=1;e<i;e*=2){je(t,n,e,r);var s=t;t=r,r=s}return t}(t,n);return i!==t&&je(i,null,t.length,t),t}function je(t,n,i,r){var e,s,u,o,h,c=t.length,a=0,f=2*i;for(e=0;e<c;e+=f)for(u=(s=e+i)+i,s>c&&(s=c),u>c&&(u=c),o=e,h=s;;)if(o<s&&h<u)n(t[o],t[h])<=0?r[a++]=t[o++]:r[a++]=t[h++];else if(o<s)r[a++]=t[o++];else{if(!(h<u))break;r[a++]=t[h++]}}F(),Et();var Qe=/[a-zA-Z]/,Ye=/[0-9]/,Ke=/[0-9a-fA-F]/,Je=/^0x/i,Ze=/^[0-9]+$/,$e=/^[0-9a-fA-F]+$/,ts=/^[0-7]+$/,ns=k.prototype.toString,is=Array.isArray||function(t){return"[object Array]"===ns.call(t)},rs=void 0!==n&&"symbol"==typeof r;function es(t){return is(t)?t:Array.from(t)}function ss(t,n,i){var r=t[n];t[n]=t[i],t[i]=r}function us(t){return t>=65&&t<=90}function os(t){return us(t)||function(t){return t>=97&&t<=122}(t)}function hs(t){return t>=48&&t<=57}function cs(t){return hs(t)||os(t)}function as(t){return hs(t)||t>=65&&t<=70||t>=97&&t<=102}function fs(t){return us(t)?t+32:t}function vs(t){return hs(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function ds(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var ls=b.min,ws=String.fromCharCode;function gs(t){for(var n=t.length,i=[],r=0;r<n;r+=16384){var e=ls(r+16384,n);i.push(ws.apply(null,t.slice(r,e)))}return i.join("")}var _s=2147483647,ms=/[^\0-\x7E]/,ys=/[\x2E\u3002\uFF0E\uFF61]/g,ps={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ks=b.floor,bs=String.fromCharCode;function As(t){throw new RangeError(ps[t])}function Ts(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&e)<<10)+(1023&s)+65536):(n.push(e),i--)}else n.push(e)}return n}var Ss,Es,Is,Rs=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},Cs=function(t,n,i){var r=0;for(t=i?ks(t/700):t>>1,t+=ks(t/n);t>455;r+=36)t=ks(t/35);return ks(r+36*t/(t+38))},Ds=function(t){return function(t,n){var i=t.split("@"),r="";i.length>1&&(r=i[0]+"@",t=i[1]);var e=function(t,n){for(var i=[],r=t.length;r--;)i[r]=n(t[r]);return i}((t=t.replace(ys,".")).split("."),n).join(".");return r+e}(t,function(t){return ms.test(t)?"xn--"+function(t){for(var n=[],i=(t=Ts(t)).length,r=128,e=0,s=72,u=0,o=t;u<o.length;u++){var h=o[u];h<128&&n.push(bs(h))}var c=n.length,a=c;for(c&&n.push("-");a<i;){for(var f=_s,v=0,d=t;v<d.length;v++){var l=d[v];l>=r&&l<f&&(f=l)}var w=a+1;f-r>ks((_s-e)/w)&&As("overflow"),e+=(f-r)*w,r=f;for(var g=0,_=t;g<_.length;g++){var m=_[g];if(m<r&&++e>_s&&As("overflow"),m==r){for(var y=e,p=36;;p+=36){var k=p<=s?1:p>=s+26?26:p-s;if(y<k)break;var b=y-k,A=36-k;n.push(bs(Rs(k+b%A,0))),y=ks(b/A)}n.push(bs(Rs(y,0))),s=Cs(e,w,a==c),e=0,++a}}++e,++r}return n.join("")}(t):t})};function Ps(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return gs(n)}function Ns(t){if(t>=55296&&t<=57343)throw new y("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Bs(t,n){return t>>n&63|128}function xs(t,n){4294967168&t?(4294965248&t?4294901760&t?4292870144&t||(n.push(t>>18&7|240),n.push(Bs(t,12)),n.push(Bs(t,6))):(Ns(t),n.push(t>>12&15|224),n.push(Bs(t,6))):n.push(t>>6&31|192),n.push(63&t|128)):n.push(t)}function Os(t){for(var n=[],i=0;i<t.length;i++){xs(t[i],n)}return n}function Ms(){if(Is>=Es)throw new y("Invalid byte index");var t=255&Ss[Is];if(Is++,128==(192&t))return 63&t;throw new y("Invalid continuation byte")}function Ls(){var t,n;if(Is>Es)throw new y("Invalid byte index");if(Is===Es)return!1;if(t=255&Ss[Is],Is++,!(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|Ms())>=128)return n;throw new y("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|Ms()<<6|Ms())>=2048)return Ns(n),n;throw new y("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|Ms()<<12|Ms()<<6|Ms())>=65536&&n<=1114111)return n;throw new y("Invalid UTF-8 detected")}function Us(t){return[37,ds(t>>4),ds(15&t)]}function Fs(t){return function(t){return t>=0&&t<=31}(t)||t>126}function Vs(t){return Fs(t)||32===t||34===t||60===t||62===t||96===t}function Hs(t){return Vs(t)||35===t||63===t||123===t||125===t}function Ws(t){return Hs(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function zs(t){return t<33||t>126||34===t||35===t||60===t||62===t}function Xs(t){return zs(t)||39===t}function qs(t,n){if(!n(t))return[t];for(var i=Os([t]),r=[],e=0;e<i.length;e++){var s=i[e];r.push.apply(r,Us(s))}return r}function Gs(t,n){for(var i=[],r=0,e=Ts(t);r<e.length;r++){var s=e[r];i.push.apply(i,qs(s,n))}return Ps(i)}function js(t){return function(t){for(var n=[],i=t.length,r=0;r<i;r++){var e=t[r];if(37===e&&r+2<i&&as(t[r+1])&&as(t[r+2])){var s=vs(t[r+1])<<4|vs(t[r+2]);n.push(s),r+=2}else n.push(e)}return n}(Os(t))}function Qs(t){return Ps(function(t){Ss=t.slice(),Es=Ss.length,Is=0;for(var n,i=[];!1!==(n=Ls());)i.push(n);return i}(js(Ts(t))))}function Ys(t){var n=t.length,i=[0,0,0,0,0,0,0,0],r=0,e=null,s=0;if(s<n&&":"===t[s]){if(!(s+1<n&&":"===t[s+1]))throw new p;s+=2,e=r+=1}for(;s<n;){if(8===r)throw new p("Too many groups");if(":"!==t[s]){for(var u=0,o=0;o<4&&s<n&&Ke.test(t[s]);)u=u<<4|A(t[s],16),s+=1,o+=1;if("."===t[s]){if(0===o)throw new p;if(s-=o,r>6)throw new p;for(var h=0;s<n;){var c=null;if(h>0){if(!("."===t[s]&&h<4))throw new p;s+=1}if(!Ye.test(t[s]))throw new p;for(;s<n&&Ye.test(t[s]);){var a=A(t[s],10);if(null===c)c=a;else{if(0===c)throw new p;if((c=10*c+a)>255)throw new p}s+=1}i[r]=i[r]<<8|c,2!==(h+=1)&&4!==h||(r+=1)}if(4!==h)throw new p;break}if(":"===t[s]){if((s+=1)===n)throw new p}else if(s<n)throw new p;i[r]=u,r+=1}else{if(null!==e)throw new p("Too many :: groups");s+=1,e=r+=1}}if(null!==e){var f=r-e;for(r=7;0!==r&&f>0;)ss(i,r,e+f-1),r-=1,f-=1}else if(8!==r)throw new p;return i}function Ks(t){var n=10,i=Ze;return Je.test(t)?(t=t.slice(2),n=16,i=$e):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=ts),""===t?0:i.test(t)?A(t,n):void 0}var Js={Vp:4},Zs=/[\0\t\n\r #%/:?@\[\\\]]/,$s=/[\0\t\n\r #/:?@\[\\\]]/;function tu(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new p("Invalid IPv6 address");return{Vp:2,Hp:Ys(t.slice(1,-1))}}if(!n)return function(t){if($s.test(t))throw new p("Invalid code point in opaque host");var n=Gs(t,Fs);return""===n?Js:{Vp:3,Wp:n}}(t);var i=function(t){var n=function(t){return Ds(t.toLowerCase())}(t);return n}(Qs(t));if(Zs.test(i))throw new p("Invalid code point in host");var r=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],r=0;r<n.length;r++){var e=n[r];if(""===e)return;var s=Ks(e);if(void 0===s)return;i.push(s)}for(var u=0;u<i.length-1;u++)if(i[u]>255)throw new p;if(i[i.length-1]>=b.pow(256,5-i.length))throw new p;for(var o=i.pop(),h=0;h<i.length;h++)o+=i[h]*b.pow(256,3-h);return o}}(i);return void 0!==r?{Vp:1,Hp:r}:""===i?Js:{Vp:0,qp:i}}function nu(t){switch(t.Vp){case 0:return t.qp;case 1:return function(t){for(var n=[],i=t,r=1;r<=4;r++)n.push(""+(255&i)),4!==r&&n.push("."),i>>>=8;return n.reverse().join("")}(t.Hp);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,r=0,e=0,s=0;s<8;s++)0===t[s]?(0===e&&(r=s),e++):(e>i&&(n=r,i=e),e=0);return e>i&&(n=r,i=e),i>1?n:null}(t),r=!1,e=0;e<8;e++){if(r){if(0===t[e])continue;r=!1}i!==e?(n+=t[e].toString(16),7!==e&&(n+=":")):(n+=0===e?"::":":",r=!0)}return n}(t.Hp)+"]";case 3:return t.Wp;case 4:return""}}var iu=/\+/g;function ru(t){return 42===t||45===t||46===t||95===t||cs(t)}function eu(t){for(var n=t.split("&"),i=[],r=0;r<n.length;r++){var e=n[r];if(""!==e){var s=e.indexOf("="),u=void 0,o=void 0;-1!==s?(u=e.slice(0,s),o=e.slice(s+1)):(u=e,o=""),u=u.replace(iu," "),o=o.replace(iu," ");var h=Qs(u),c=Qs(o);i.push([h,c])}}return i}function su(t){for(var n="",i=0;i<t.length;i++){var r=t[i];i>0&&(n+="&"),n+=uu(Os(Ts(r[0])))+"="+uu(Os(Ts(r[1])))}return n}function uu(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];32===r?n.push(43):ru(r)?n.push(r):n.push.apply(n,Us(r))}return gs(n)}var ou=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function hu(t){var n=""+t,i=ou.exec(n);return i?function(t,n){for(var i=t.length,r=[],e=n;e<i;e++){var s=t.charCodeAt(e);if(au(s))if(fu(s)||e===i-1)r.push(cu);else{var u=t.charCodeAt(e+1);fu(u)?(r.push(s,u),e++):r.push(cu)}else r.push(s)}return t.slice(0,n)+gs(r)}(n,i.index):n}var cu=65533,au=function(t){return 55296==(63488&t)},fu=function(t){return!!(1024&t)};function vu(t,n){var i=t[0],r=n[0];return i===r?0:i<r?-1:1}function du(t){t.zp.length=0}function lu(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.zp,eu(n))}function wu(t){if(t.rc){var n=su(t.zp);""===n&&(n=null),t.rc.rc.Gp=n}}var gu=function(){function t(t){if(void 0===t&&(t=void 0),this.rc=null,null==t)this.zp=[];else if("object"==typeof t||"function"==typeof t)if(function(t){return t instanceof gu&&!!is(t.zp)&&(!rs||t[r]===_u)}(t))this.zp=t.zp.slice();else if(function(t){return null!=t&&(!!is(t)||!!rs&&"function"==typeof t[r])}(t)){this.zp=[];for(var n=0,i=es(t);n<i.length;n++){var e=es(i[n]);if(2!==e.length)throw new p("Invalid name-value pair");this.zp.push([hu(e[0]),hu(e[1])])}}else for(var s in this.zp=[],t)k.prototype.hasOwnProperty.call(t,s)&&this.zp.push([hu(s),hu(t[s])]);else(t=hu(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.zp=eu(t)}var n=t.prototype;return n.append=function(t,n){t=hu(t),n=hu(n),this.zp.push([t,n]),wu(this)},n.delete=function(t){t=hu(t);for(var n=this.zp,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}wu(this)},n.get=function(t){t=hu(t);for(var n=this.zp,i=0;i<n.length;i++){var r=n[i];if(r[0]===t)return r[1]}return null},n.getAll=function(t){t=hu(t);for(var n=this.zp,i=[],r=0;r<n.length;r++){var e=n[r];e[0]===t&&i.push(e[1])}return i},n.has=function(t){t=hu(t);for(var n=this.zp,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=hu(t),n=hu(n);for(var i=this.zp,r=!1,e=0;e<i.length;){var s=i[e];s[0]===t?r?i.splice(e,1):(s[1]=n,r=!0,e++):e++}r||i.push([t,n]),wu(this)},n.sort=function(){Ge(this.zp,vu),wu(this)},n.toString=function(){return su(this.zp)},n.entries=function(){return new ku(this.zp,mu)},n.keys=function(){return new ku(this.zp,yu)},n.values=function(){return new ku(this.zp,pu)},n.forEach=function(t){var n=this;this.zp.forEach(function(i){return t(i[1],i[0],n)})},t}(),_u=gu.prototype.entries;rs&&(gu.prototype[r]=_u);var mu=function(t){return[t[0],t[1]]},yu=function(t){return t[0]},pu=function(t){return t[1]},ku=function(){function t(t,n){this.Xp=0,this.zp=t,this.jp=n}return t.prototype.next=function(){return this.Xp<this.zp.length?{done:!1,value:this.jp(this.zp[this.Xp++])}:{done:!0,value:void 0}},t}(),bu="null";var Au=k.create(null);Au.ftp=21,Au.file=0,Au.gopher=70,Au.http=80,Au.https=443,Au.ws=80,Au.wss=443;var Tu=/^(?:\.|%2e)$/i,Su=/^(?:\.|%2e){2}$/i;function Eu(t){return Tu.test(t)}function Iu(t){return Su.test(t)}function Ru(t){return void 0!==Au[t]}function Cu(t){return Ru(t.Qp)}function Du(t){return""!==t.Kp||""!==t.Yp}function Pu(t){var n=t.length;if(!(n>=2))return!1;if(!Bu(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function Nu(t){return 2===t.length&&Qe.test(t[0])&&(":"===t[1]||"|"===t[1])}function Bu(t){return 2===t.length&&Nu(gs(t))}function xu(t){return Nu(t)&&":"===t[1]}function Ou(t){var n=t.Jp;0!==n.length&&("file"===t.Qp&&1===n.length&&xu(n[0])||n.pop())}function Mu(t){return null===t.Zp||Js===t.Zp||t.$p||"file"===t.Qp}var Lu=-1,Uu=/\t|\n|\r/g,Fu=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function Vu(t,n,i,r){void 0===i&&(i=null),void 0===r&&(r=null),i||(i=new Wu,t=t.replace(Fu,""));var e=null!==r?r:0;n=n||null;for(var s=[],u=!1,o=!1,h=!1,c=Ts(t=t.replace(Uu,"")),a=c.length,f=0;f<=a;){var v=f<a?c[f]:Lu;switch(e){case 0:if(!os(v)){if(null===r){s.length=0,e=2;continue}throw new p("Invalid scheme")}s.push(fs(v)),e=1;break;case 1:if(cs(v)||43===v||45===v||46===v)s.push(fs(v));else{if(58!==v){if(null===r){s.length=0,e=2,f=0;continue}throw new p("Invalid scheme")}var d=Ps(s);if(null!==r){if(Ru(i.Qp)&&!Ru(d))return;if(!Ru(i.Qp)&&Ru(d))return;if((Du(i)||null!==i.im)&&"file"===d)return;if("file"===i.Qp&&(i.Zp===Js||null===i.Zp))return}if(i.Qp=d,null!==r)return void(Cu(i)&&i.im===Au[i.Qp]&&(i.im=null));s.length=0,"file"===i.Qp?e=13:Cu(i)&&n&&n.Qp===i.Qp?e=3:Cu(i)?e=7:47===c[f+1]?(e=4,f+=1):(i.$p=!0,i.Jp.push(""),e=18)}break;case 2:if(!n||n.$p&&35!==v)throw new p("Invalid scheme");n.$p&&35===v?(i.Qp=n.Qp,i.Jp=n.Jp.slice(),i.Gp=n.Gp,i.nm="",i.$p=!0,e=20):"file"!==n.Qp?(e=5,f-=1):(e=13,f-=1);break;case 3:47===v&&47===c[f+1]?e=8:(e=5,f-=1);break;case 4:47===v?e=9:(e=17,f-=1);break;case 5:i.Qp=n.Qp,Lu===v?(i.Kp=n.Kp,i.Yp=n.Yp,i.Zp=n.Zp,i.im=n.im,i.Jp=n.Jp.slice(),i.Gp=n.Gp):47===v?e=6:63===v?(i.Kp=n.Kp,i.Yp=n.Yp,i.Zp=n.Zp,i.im=n.im,i.Jp=n.Jp.slice(),i.Gp="",e=19):35===v?(i.Kp=n.Kp,i.Yp=n.Yp,i.Zp=n.Zp,i.im=n.im,i.Jp=n.Jp.slice(),i.Gp=n.Gp,i.nm="",e=20):92===v&&Cu(i)?e=6:(i.Kp=n.Kp,i.Yp=n.Yp,i.Zp=n.Zp,i.im=n.im,i.Jp=n.Jp.slice(),i.Jp.pop(),e=17,f-=1);break;case 6:!Cu(i)||47!==v&&92!==v?47===v?e=9:(i.Kp=n.Kp,i.Yp=n.Yp,i.Zp=n.Zp,i.im=n.im,e=17,f-=1):e=8;break;case 7:if(47!==v||47!==c[f+1]){e=8;continue}e=8,f+=1;break;case 8:47!==v&&92!==v&&(e=9,f-=1);break;case 9:if(64===v){u&&s.unshift(37,52,48),u=!0;for(var l=0;l<s.length;l++){var w=s[l];if(58!==w||h){var g=Ps(qs(w,Ws));h?i.Yp+=g:i.Kp+=g}else h=!0}s.length=0}else if(Lu===v||47===v||63===v||35===v||Cu(i)&&92===v){if(u&&0===s.length)throw new p("Invalid host");f-=s.length+1,s.length=0,e=10}else s.push(v);break;case 10:case 11:if(null!==r&&"file"===i.Qp)f-=1,e=15;else if(58!==v||o)if(Lu===v||47===v||63===v||35===v||Cu(i)&&92===v){if(f-=1,Cu(i)&&0===s.length)throw new p("Invalid host");if(null!==r&&0===s.length&&(Du(i)||null!==i.im))return;var _=tu(Ps(s),Cu(i));if(i.Zp=_,s.length=0,e=16,null!==r)return}else 91===v?o=!0:93===v&&(o=!1),s.push(v);else{if(0===s.length)throw new p("Invalid host");var m=tu(Ps(s),Cu(i));if(i.Zp=m,s.length=0,e=12,11===r)return}break;case 12:if(hs(v))s.push(v);else{if(!(Lu===v||47===v||63===v||35===v||Cu(i)&&92===v||null!==r))throw new p("Invalid port");if(0!==s.length){var y=A(Ps(s),10);if(y>65535)throw new p("Invalid port");i.im=y===Au[i.Qp]?null:y,s.length=0}if(null!==r)return;e=16,f-=1}break;case 13:i.Qp="file",47===v||92===v?e=14:n&&"file"===n.Qp?Lu===v?(i.Zp=n.Zp,i.Jp=n.Jp.slice(),i.Gp=n.Gp):63===v?(i.Zp=n.Zp,i.Jp=n.Jp.slice(),i.Gp="",e=19):35===v?(i.Zp=n.Zp,i.Jp=n.Jp.slice(),i.Gp=n.Gp,i.nm="",e=20):(Pu(c.slice(f))||(i.Zp=n.Zp,i.Jp=n.Jp.slice(),Ou(i)),e=17,f-=1):(e=17,f-=1);break;case 14:47===v||92===v?e=15:(n&&"file"===n.Qp&&!Pu(c.slice(f))&&(xu(n.Jp[0])?i.Jp.push(n.Jp[0]):i.Zp=n.Zp),e=17,f-=1);break;case 15:if(Lu===v||47===v||92===v||63===v||35===v)if(f-=1,null===r&&Bu(s))e=17;else if(0===s.length){if(i.Zp=Js,null!==r)return;e=16}else{var k=tu(Ps(s),Cu(i));if(0===k.Vp&&"localhost"===k.qp&&(k=Js),i.Zp=k,null!==r)return;s.length=0,e=16}else s.push(v);break;case 16:Cu(i)?(e=17,47!==v&&92!==v&&(f-=1)):null===r&&63===v?(i.Gp="",e=19):null===r&&35===v?(i.nm="",e=20):Lu!==v&&(e=17,47!==v&&(f-=1));break;case 17:if(Lu===v||47===v||Cu(i)&&92===v||null===r&&(63===v||35===v)){var b=Ps(s);if(Iu(b)?(Ou(i),47===v||Cu(i)&&92===v||i.Jp.push("")):!Eu(b)||47===v||Cu(i)&&92===v?Eu(b)||("file"===i.Qp&&0===i.Jp.length&&Bu(s)&&(Js!==i.Zp&&null!==i.Zp&&(i.Zp=Js),s[1]=58,b=Ps(s)),i.Jp.push(b)):i.Jp.push(""),s.length=0,"file"===i.Qp&&(Lu===v||63===v||35===v))for(;i.Jp.length>1&&""===i.Jp[0];)i.Jp.shift();63===v?(i.Gp="",e=19):35===v&&(i.nm="",e=20)}else s.push.apply(s,qs(v,Hs));break;case 18:63===v?(i.Gp="",e=19):35===v?(i.nm="",e=20):Lu!==v&&(i.Jp[0]+=Ps(qs(v,Fs)));break;case 19:null===r&&35===v?(i.nm="",e=20):Lu!==v&&(i.Gp+=Ps(qs(v,Cu(i)?Xs:zs)));break;case 20:Lu===v||0===v||(i.nm+=Ps(qs(v,Vs)))}f++}return i}function Hu(t,n,i,r){try{Vu(t,n,i,r)}catch(t){}}var Wu=function(){this.Qp="",this.Kp="",this.Yp="",this.Zp=null,this.im=null,this.Jp=[],this.Gp=null,this.nm=null,this.$p=!1};function zu(t){switch(t.Qp){case"blob":var n;try{n=Vu(t.Jp[0],null)}catch(t){return bu}return zu(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return function(t,n,i){return t+"://"+nu(n)+(null===i?"":":"+i)}(t.Qp,t.Zp,t.im);default:return bu}}var Xu=function(){function t(t,n){var i,r=null;if(null!=n)if(function(t){return null!=t&&t instanceof Xu&&"object"==typeof t.rc}(n))r=n.rc;else try{r=Vu(String(n),null)}catch(t){throw new p("Invalid base URL: "+t.message)}try{i=Vu(String(t),r)}catch(t){throw new p("Invalid URL: "+t.message)}var e=i.Gp;this.rc=i,this.Gp=function(t){var n=new gu;return null!==t&&lu(n,t),n}(e),this.Gp.rc=this}var n=t.prototype;return n.toString=function(){return this.href},n.toJSON=function(){return this.href},function(t,n,i){n&&qe(t.prototype,n),i&&qe(t,i)}(t,[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.Qp+":";if(null!==t.Zp?(i+="//",Du(t)&&(i+=t.Kp,""!==t.Yp&&(i+=":"+t.Yp),i+="@"),i+=nu(t.Zp),null!==t.im&&(i+=":"+t.im)):null===t.Zp&&"file"===t.Qp&&(i+="//"),t.$p)i+=t.Jp[0];else for(var r=0,e=t.Jp;r<e.length;r++)i+="/"+e[r];return null!==t.Gp&&(i+="?"+t.Gp),n||null===t.nm||(i+="#"+t.nm),i}(this.rc)},set:function(t){var n;try{n=Vu(String(t),null)}catch(t){throw new p("Invalid URL: "+t.message)}this.rc=n,du(this.Gp);var i=this.rc.Gp;null!==i&&lu(this.Gp,i)}},{key:"origin",get:function(){return zu(this.rc)}},{key:"protocol",get:function(){return this.rc.Qp+":"},set:function(t){Hu(t+":",null,this.rc,0)}},{key:"username",get:function(){return this.rc.Kp},set:function(t){Mu(this.rc)||(this.rc.Kp=Gs(t,Ws))}},{key:"password",get:function(){return this.rc.Yp},set:function(t){Mu(this.rc)||(this.rc.Yp=Gs(t,Ws))}},{key:"host",get:function(){var t=this.rc,n=t.Zp;if(null===n)return"";var i=t.im,r=nu(n);return null!==i&&(r+=":"+i),r},set:function(t){this.rc.$p||Hu(t,null,this.rc,10)}},{key:"hostname",get:function(){var t=this.rc.Zp;return null===t?"":nu(t)},set:function(t){this.rc.$p||Hu(t,null,this.rc,11)}},{key:"port",get:function(){var t=this.rc.im;return null===t?"":""+t},set:function(t){Mu(this.rc)||(""===t?this.rc.im=null:Hu(t,null,this.rc,12))}},{key:"pathname",get:function(){var t=this.rc.Jp;return this.rc.$p?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.rc.$p||(this.rc.Jp.length=0,Hu(t,null,this.rc,16))}},{key:"search",get:function(){var t=this.rc.Gp;return null===t||""===t?"":"?"+t},set:function(t){t=hu(t);var n=this.rc;if(""===t)return n.Gp=null,void du(this.Gp);"?"===t[0]&&(t=t.slice(1)),n.Gp="",Hu(t,null,n,19),lu(this.Gp,t)}},{key:"searchParams",get:function(){return this.Gp}},{key:"hash",get:function(){var t=this.rc.nm;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.rc.nm="",Hu(t,null,this.rc,20)):this.rc.nm=null}}]),t}();function qu(t){return t.document&&t.document.baseURI||t.location.href||""}F(),Et();var Gu=function(){function t(){this.Mg=void 0,this.Pm=new ju,this.Rm=Te,this.Im=Qu(),self.performance&&self.performance.now?this.Mg=function(){return self.performance.now()}:this.Mg=ce}var n=t.prototype;return n.hm=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];He.apply(void 0,[].concat(n))},n.um=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];We.apply(void 0,[].concat(n))},n.dm=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];ze.apply(void 0,[].concat(n))},n.lm=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];Xe.apply(void 0,[].concat([t],i))},n.Og=function(t,n){return w(t,n)},n.fm=function(t,n){return _(t,n)},n.Lg=function(t){g(t)},n.vm=function(t){m(t)},n._m=function(){return this.gm._m()},n.pm=function(){return this.gm.pm()},n.wm=function(){return this.gm.wm()},n.ym=function(){return this.gm.ym()},n.Am=function(){return this.gm.Am()},n.Sm=function(t,n){return this.gm.Sm(t,n)},n.Tm=function(t){return this.gm.Tm(t)},n.Dh=function(t,n){var i;return void 0===n&&(n=qu(f)),i="object"!==(void 0===n?"undefined":W(n))||V(n,Xu)?n:n.href,new Xu(t,i)},n.xm=function(t,n){if(void 0===n&&(n=qu(f)),this.Im){var i=qn(n)?n:n.toString();return new self.URL(t,i).href}return this.Dh(t,n).href},Nt(t,[{key:"Em",get:function(){return this.Pm}},{key:"Zs",get:function(){return this.Rm}},{key:"Cm",get:function(){return{Dm:l&&l.userAgent.match(/Android /i)?"Android":"other",Bm:Boolean(l&&l.userAgent.match(/Android 8.0.0/i))}}},{key:"Nm",get:function(){return self&&self.location&&"https:"===self.location.protocol}},{key:"Mm",get:function(){return"languages"in l?l.languages.slice():[l.language]}}]),t}(),ju=function(){function t(){}return Nt(t,[{key:"Lm",get:function(){return l.oscpu}},{key:"Zs",get:function(){return l.platform}},{key:"Om",get:function(){return l.vendor}},{key:"Fm",get:function(){return l.vendorSub}}]),t}();function Qu(){if(self.URL)try{var t=new self.URL("b","http://a");return t.pathname="c d","http://a/c%20d"===t.href}catch(t){}return!1}function Yu(){return Yu=k.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var r in i)k.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},Yu.apply(this,arguments)}function Ku(){var t=k.create(null);return t.Um=void 0,delete t.Um,t}function Ju(){return new io}function Zu(){return new ro}function $u(t){var n=Ju();for(var i in t)Mn.call(t,i)&&n.set(i,t[i]);return n}function to(t){var n=[];return t.forEach(function(t){return n.push(t)}),n}F(),Et(),Wt(),F(),Et(),Qt(),F(),Et(),Bt();var no="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,io=no||function(){var t=function(){function t(t,n){this.data=void 0,this.keys=void 0,this.index=0,this.selector=void 0,this.data=t,this.selector=n,this.keys=k.keys(t)}return t.prototype.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}();return function(){function n(){this.data=Ku(),this.size=0}var i=n.prototype;return i.get=function(t){return this.data[t]},i.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},i.has=function(t){return t in this.data},i.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},i.clear=function(){this.data=Ku(),this.size=0},i.keys=function(){return new t(this.data,function(t,n){return n})},i.values=function(){return new t(this.data,function(t,n){return t[n]})},i.entries=function(){return new t(this.data,function(t,n){return[n,t[n]]})},i.forEach=function(t){for(var n in this.data)t(this.data[n],n)},n}()}();var ro=no||function(){var t=function(){function t(t,n){this.Vm=void 0,this.Hm=void 0,this.Vm=t,this.Hm=n}return t.prototype.next=function(){var t=this.Vm.next();return t.done?t:{value:this.Hm(t.value),done:!1}},t}();return function(){function n(){this.Wm=Ju()}var i=n.prototype;return i.get=function(t){return this.Wm.get(""+t)},i.set=function(t,n){return this.Wm.set(""+t,n),this},i.has=function(t){return this.Wm.has(""+t)},i.delete=function(t){return this.Wm.delete(""+t)},i.clear=function(){this.Wm.clear()},i.keys=function(){return new t(this.Wm.keys(),function(t){return Number(t)})},i.values=function(){return this.Wm.values()},i.entries=function(){return new t(this.Wm.entries(),function(t){var n=t[0],i=t[1];return[Number(n),i]})},i.forEach=function(t){this.Wm.forEach(function(n,i){t(n,Number(i))})},Nt(n,[{key:"size",get:function(){return this.Wm.size}}]),n}()}();F(),Et(),F(),Et();var eo=function(t){return t.qm="9a04f079-9840-4286-ab92-e65be0885f95",t.zm="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",t.Gm="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",t.Xm="e2719d58-a985-b3c9-781a-b030af78d30e",t.jm="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",t}({}),so="urn:mpeg:dash:mp4protection:2011",uo="cenc",oo="sinf",ho="skd",co="keyids",ao="9a04f079-9840-4286-ab92-e65be0885f95",fo="urn:uuid:"+ao,vo="com.microsoft.playready",lo="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",wo="urn:uuid:"+lo,go="com.widevine.alpha",_o="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",mo="urn:uuid:"+_o,yo="org.w3.clearkey",po="e2719d58-a985-b3c9-781a-b030af78d30e",ko="urn:uuid:"+po,bo="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",Ao="urn:uuid:"+bo,To="com.apple.fps.1_0",So="identity";F(),Et();var Eo=function(t){return t.qm="playready",t.zm="widevine",t.jm="fairplay",t.Gm="clearkey",t.Xm="clearkey_dash_if",t.Qm="aes128",t}({}),Io={Km:Eo.qm,Ym:vo,Jm:"cenc",Zm:ao,$m:fo,iw:"PlayReady"},Ro={Km:Eo.zm,Ym:go,Jm:"cenc",Zm:lo,$m:wo,iw:"Widevine"},Co={Km:Eo.jm,Ym:To,Jm:"skd",Zm:bo,$m:Ao,iw:"FairPlay"},Do={Km:Eo.jm,Ym:"com.apple.fps",Jm:"sinf",Zm:bo,$m:Ao,iw:"FairPlay"},Po={Km:Eo.Gm,Ym:yo,Jm:"cenc",Zm:_o,$m:mo,iw:"ClearKey"},No={Km:Eo.Xm,Ym:yo,Jm:"keyids",Zm:po,$m:ko,iw:"ClearKey DASH-IF"},Bo=[Io,Ro,Co,Po,No],xo=[Io,Ro,Do,Po,No];function Oo(t){return Bo.filter(function(n){return n.$m===t.toLowerCase()})}F(),Et(),Ut();var Mo="function"==typeof String.prototype.replaceAll?function(t,n,i){return t.replaceAll(n,i)}:function(t,n,i){return t.split(n).join(i)};function Lo(t,n){return Un(t)&&-1!==t.indexOf(n)}var Uo="function"==typeof String.prototype.startsWith?function(t,n){return Un(t)&&t.startsWith(n)}:function(t,n){return Un(t)&&t.substr(0,n.length)===n},Fo="function"==typeof String.prototype.endsWith?function(t,n){return Un(t)&&t.endsWith(n)}:function(t,n){return Un(t)&&t.substr(t.length-n.length,n.length)===n};function Vo(t,n){return t.length===n.length&&t.toUpperCase()===n.toUpperCase()}var Ho="function"==typeof String.prototype.repeat?function(t,n){return t.repeat(n)}:function(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var r=t,e="";1&~i||(e+=r),0!=(i>>>=1);)r+=r;return e},Wo="function"==typeof String.prototype.padStart?function(t,n,i){return void 0===i&&(i=" "),t.padStart(n,i)}:function(t,n,i){void 0===i&&(i=" ");var r=i,e=(0|n)-t.length;return e<=0?t:(e>r.length&&(r+=Ho(r,e/r.length)),r.slice(0,e)+t)},zo=(String.prototype.padEnd,16384),Xo="function"==typeof String.fromCodePoint?function(t){var n;return t.length<=zo?(n=String).fromCodePoint.apply(n,[].concat(t)):Go(t,String.fromCodePoint)}:function(t){for(var n,i=[],r=Lt(t);!(n=r()).done;){var e=n.value;e>65535&&(e-=65536,i.push(e>>>10&1023|55296),e=56320|1023&e),i.push(e)}return qo(i)};function qo(t){var n;return t.length<=zo?(n=String).fromCharCode.apply(n,[].concat(t)):Go(t,String.fromCharCode)}function Go(t,n){for(var i=[],r=0;r<t.length;r+=zo)i.push(n.apply(void 0,[].concat(t.slice(r,r+zo))));return i.join("")}function jo(t){return t.replace(/[\\"]/g,function(t){return"\\"+t})}var Qo=On.u_&&On.d_>=42||On.W_&&On.z_>=38||On.N_||On.F_||On.Y_&&On.Z_>=29;function Yo(t,n){return Lo(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[Yu({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[Yu({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}function Ko(){return void 0!==l&&"function"==typeof l.requestMediaKeySystemAccess}function Jo(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest}var Zo=function(){function t(t){this.hw=void 0,this.ew=Ju(),this.ow=void 0,this.hw=t}var n=t.prototype;return n.Am=function(){return this.Tm(Ro)},n.pm=function(){return this.Tm(Po)},n.ym=function(){return this.Tm(Io)},n.wm=function(){return this.Tm(Co)},n.Tm=function(t){var n=t.$m,i=this.ew.get(n);if(i)return i;var r=this.Sm(t,'video/mp4; codecs="avc1.42000a"');return this.ew.set(n,r),r},n.Sm=function(t,n){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,this.hw.nw(t.Ym,[Yo(n,!0)])];case 1:return i.sent(),[2,!0];case 2:i.sent(),i.label=3;case 3:return i.trys.push([3,5,,6]),[4,this.hw.nw(t.Ym,[Yo(n,!1)])];case 4:return i.sent(),[2,!0];case 5:return i.sent(),[2,!1];case 6:return[3,7];case 7:return[2]}})}).call(this)},n._m=function(){return this.ow||(this.ow=this.aw()),this.ow},n.aw=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return"https:"===f.location.protocol?[2,!1]:Qo?[4,this.pm()]:[2,!1];case 1:return t.sent()?[2,!1]:[2,!0]}})}).call(this)},t}();function $o(t,n,i){if("function"==typeof i)i.call(t,n);else for(var r,e=Lt(i);!(r=e()).done;){r.value.call(t,n)}}F(),Et(),F(),Et(),Wt(),Ut(),Qt(),F(),Et(),Wt(),Bt(),Qt(),F(),Et(),Wt(),Qt(),F(),Et(),Bt(),Dt(),F(),Et(),Dt(),Ut();var th=function(){function t(t){var n=this;this.cw=Ku(),this.fw=void 0,this.dw=0,this._w=void 0,this.Rs=function(t){n.So(t)},this._w=null!=t?t:this}var n=t.prototype;return n.wn=function(t,n){if("function"==typeof n)if("string"==typeof t)this.uw(t,n);else for(var i,r=Lt(t);!(i=r()).done;){var e=i.value;this.uw(e,n)}},n.uw=function(t,n){var i=this.cw[t];void 0===i?this.cw[t]=n:"function"==typeof i?this.cw[t]=[i,n]:0===this.dw?i.push(n):this.cw[t]=i.concat(n)},n.lw=function(t){if("function"==typeof t){var n=this.fw;void 0===n?this.fw=t:"function"==typeof n?this.fw=[n,t]:0===this.dw?n.push(t):this.fw=n.concat(t)}},n.Vo=function(){this.cw=Ku(),this.fw=void 0},n.So=function(t){this.dw++;var n=this.cw[t.type],i=this.fw;void 0!==n&&$o(this._w,t,n),void 0!==i&&$o(this._w,t,i),this.dw--},n.mn=function(t,n){if("function"==typeof n)if("string"==typeof t)this.gw(t,n);else for(var i,r=Lt(t);!(i=r()).done;){var e=i.value;this.gw(e,n)}},n.gw=function(t,n){var i=this.cw[t];void 0!==i&&("function"==typeof i?i===n&&(this.cw[t]=void 0):0===this.dw?Xi(i,n):this.cw[t]=Gi(i,n))},n.pw=function(t){if("string"==typeof t)this.cw[t]=void 0;else for(var n,i=Lt(t);!(n=i()).done;){var r=n.value;this.cw[r]=void 0}},n.mw=function(t){var n=this.fw;void 0!==n&&("function"==typeof n?n===t&&(this.fw=void 0):0===this.dw?Xi(n,t):this.fw=Gi(n,t))},n.ww=function(t,n){var i=this;return new ut(function(r,e){if(n&&n.Hg)return e(new fr);var s=function(t){o(),r(t)},u=function(){o(),e(new fr)},o=function(){i.mn(t,s),n&&n.jg(u)};i.wn(t,s),n&&n.Xg(u)})},t}(),nh=function(t){function n(){return t.apply(this,arguments)||this}return Ct(n,t),n.prototype.So=function(n){var i=this;pr(function(){t.prototype.So.call(i,n)})},n}(th),ih=function(t){function n(){return t.apply(this,arguments)||this}Ct(n,t);var i=n.prototype;return i.lw=function(n){t.prototype.lw.call(this,n)},i.mw=function(n){t.prototype.mw.call(this,n)},n}(th);F(),Et(),Dt(),F(),Et();var rh=function(t,n){void 0===n&&(n=new Date),this.type=void 0,this.date=void 0,this.type=t,this.date=n};F(),Et();var eh=function(t){return t.yw="Aw",t.Sw="Tw",t.Ew="contentprotectionerror",t.Pw="contentprotectionsuccess",t.xw="currentsourcechange",t.Iw="destroy",t.Rw="durationchange",t.Cw="emptied",t.Dw="encrypted",t.Bw="ended",t.Nw="Mw",t.Lw="Ow",t.Fw="Uw",t.Vw="Hw",t.Ww="loadstart",t.qw="manifestupdate",t.zw="nosupportedrepresentationfound",t.Gw="offline",t.Xw="online",t.jw="pause",t.uo="play",t.Qw="progress",t.Kw="ratechange",t.Yw="representationchange",t.Jw="resize",t.Zw="seeked",t.$w="seeking",t.iy="segmentnotfound",t.ey="sy",t.oy="uy",t.ly="vy",t.do="sourcechange",t._y="timeupdate",t.gy="volumechange",t.py="wy",t.yy="Ay",t.LICENSE_REQUEST_GENERATED="by",t.Sy="metricschange",t}({}),sh=["cenc"],uh=["cbcs","cbcs-1-9"],oh=function(t){function n(n){var i;return(i=t.call(this,eh.yy)||this).Ty=void 0,i.Ty=n,i}return Ct(n,t),n}(rh),hh=function(t){function n(n){var i;return(i=t.call(this,eh.LICENSE_REQUEST_GENERATED)||this).Ey=void 0,i.Ey=n,i}return Ct(n,t),n}(rh),ch=function(t){function n(n,i,r,e){var s;return(s=t.call(this,"Py")||this).xy=void 0,s.Iy=void 0,s.Py=void 0,s.Ry=void 0,s.xy=n,s.Iy=i,s.Py=r,s.Ry=e,s}return Ct(n,t),n}(rh),ah=function(t){function n(){return t.call(this,"lt")||this}return Ct(n,t),n}(rh),fh=function(t){return t.Dw="Cy",t.Dy="By",t}({}),vh=function(t){function n(n,i){var r;return(r=t.call(this,"Cy")||this).Jm=void 0,r.Ey=void 0,r.Jm=n,r.Ey=i,r}return Ct(n,t),n}(rh),dh=function(t){function n(){return t.call(this,"By")||this}return Ct(n,t),n}(rh);F(),Et(),Bt(),Ut(),F(),Et(),Ut(),F(),Et();var lh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),wh=/[\t\n\f\r ]/g;function gh(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:_h()}function _h(){throw new y("Invalid base64 input")}function mh(t){var n=t;wh.test(n)&&(n=n.replace(wh,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var r=i%4;if(1===r)return _h();for(var e,s=0===r?0:4-r,u=new E(function(t,n){return 3*(t+n)/4-n}(i,s)),o=s>0?i-4:i,h=0,c=0;h<o;h+=4)e=gh(n.charCodeAt(h))<<18|gh(n.charCodeAt(h+1))<<12|gh(n.charCodeAt(h+2))<<6|gh(n.charCodeAt(h+3)),u[c++]=e>>16&255,u[c++]=e>>8&255,u[c++]=255&e;return 2===s?(e=gh(n.charCodeAt(h))<<2|gh(n.charCodeAt(h+1))>>4,u[c++]=255&e):1===s&&(e=gh(n.charCodeAt(h))<<10|gh(n.charCodeAt(h+1))<<4|gh(n.charCodeAt(h+2))>>2,u[c++]=e>>8&255,u[c++]=255&e),u}function yh(t,n,i){return lh[t>>2]+lh[(3&t)<<4|n>>4]+lh[(15&n)<<2|i>>6]+lh[63&i]}function ph(t,n,i){for(var r=[],e=n;e<i;e+=3)r.push(yh(t[e],t[e+1],t[e+2]));return r.join("")}function kh(t){for(var n=t.length,i=n%3,r=[],e=n-i,s=0;s<e;s+=16383)r.push(ph(t,s,b.min(e,s+16383)));if(1===i){var u=t[n-1];r.push(lh[u>>2]+lh[(3&u)<<4]+"==")}else if(2===i){var o=t[n-2],h=t[n-1];r.push(lh[o>>2]+lh[(3&o)<<4|h>>4]+lh[(15&h)<<2]+"=")}return r.join("")}function bh(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/[=]/g,"")}function Ah(t,n){var i=n.ac,r=t.getUint8(i>>3),e=1<<7-(7&i);return n.Ny(1),(r&e)===e?1:0}function Th(t,n,i){for(var r=0,e=0;e<i;e++)r=2*r+Ah(t,n);return r}F(),Et(),Bt(),H(),F(),Et(),Bt();var Sh=function(){function t(t){void 0===t&&(t=0),this.uc=void 0,this.uc=t}var n=t.prototype;return n.Ny=function(t){this.uc+=t},n.My=function(t){this.uc=t},n.Ly=function(){return new t(this.ac)},Nt(t,[{key:"ac",get:function(){return this.uc}}]),t}();var Eh=b.clz32||function(t){var n=32,i=t>>16;return i&&(n-=16,t=i),(i=t>>8)&&(n-=8,t=i),(i=t>>4)&&(n-=4,t=i),(i=t>>2)&&(n-=2,t=i),(i=t>>1)?n-2:n-t};function Ih(t){if(t>=55296&&t<=57343)throw new y("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Rh(t,n){return t>>n&63|128}function Ch(t,n){4294967168&t?(4294965248&t?4294901760&t?4292870144&t||(n.push(t>>18&7|240),n.push(Rh(t,12)),n.push(Rh(t,6))):(Ih(t),n.push(t>>12&15|224),n.push(Rh(t,6))):n.push(t>>6&31|192),n.push(63&t|128)):n.push(t)}function Dh(t,n){if(n.ac>=t.length)throw new y("Invalid byte index");var i=255&t[n.ac];if(n.Ny(1),128==(192&i))return 63&i;throw new y("Invalid continuation byte")}function Ph(t,n){var i=n.ac;if(i>t.length)throw new y("Invalid byte index");if(i===t.length)return!1;var r=255&t[i];if(n.Ny(1),!(128&r))return r;if(192==(224&r)){var e=(31&r)<<6|Dh(t,n);if(e>=128)return e;throw new y("Invalid continuation byte")}if(224==(240&r)){var s=(15&r)<<12|Dh(t,n)<<6|Dh(t,n);if(s>=2048)return Ih(s),s;throw new y("Invalid continuation byte")}if(240==(248&r)){var u=(7&r)<<18|Dh(t,n)<<12|Dh(t,n)<<6|Dh(t,n);if(u>=65536&&u<=1114111)return u}throw new y("Invalid UTF-8 detected")}F(),Et(),F(),Et(),Ut();var Nh=[128,64,32,16,8,4,2,1],Bh=function(){function t(t){this.Fy=void 0,this.Fy=t}return t.prototype.Oy=function(t){return xh(this.Fy,t)},t}();function xh(t,n){return(t&n)===n}function Oh(t,n){return xh(t,Nh[n])}function Mh(t,n){var i=t.getUint8(n.ac);return n.Ny(1),i}function Lh(t,n,i){t.setUint8(n.ac,i),n.Ny(1)}function Uh(t,n,i){var r=wc(mc(t),n.ac,n.ac+i);return n.Ny(r.byteLength),r}function Fh(t,n,i){mc(t).set(mc(i),n.ac),n.Ny(i.byteLength)}function Vh(t,n,i){return n.ac+i<=t.byteLength}function Hh(t,n,i,r){return void 0===r&&(r=!1),r?function(t,n,i){for(var r=0,e=1,s=0;s<i;s++)r+=Mh(t,n)*e,e*=256;return r}(t,n,i):function(t,n,i){for(var r=0,e=0;e<i;e++)r=256*r+Mh(t,n);return r}(t,n,i)}function Wh(t,n){var i=t.getUint8(n.ac);return n.Ny(1),i}function zh(t,n,i){void 0===i&&(i=!1);var r=t.getUint16(n.ac,i);return n.Ny(2),r}function Xh(t,n,i,r){void 0===r&&(r=!1),t.setUint16(n.ac,i,r),n.Ny(2)}function qh(t,n,i){void 0===i&&(i=!1);var r=t.getUint32(n.ac,i);return n.Ny(4),r}function Gh(t,n,i,r){void 0===r&&(r=!1),t.setUint32(n.ac,i,r),n.Ny(4)}function jh(t,n,i){void 0===i&&(i=!1);var r=qh(t,n,i),e=qh(t,n,i),s=i?e:r,u=i?r:e;return ue.fromBits(u,s,!0)}function Qh(t,n,i,r){void 0===r&&(r=!1);var e=i.getHighBitsUnsigned(),s=i.getLowBitsUnsigned(),u=r?e:s;Gh(t,n,r?s:e,r),Gh(t,n,u,r)}function Yh(t,n){return Zh(t,n)}function Kh(t,n,i){return qo(Ac(Uh(t,n,i)))}function Jh(t,n){var i,r=Mh(t,n);return 128&r?192==(224&r)?i=64*(31&r)+(63&Mh(t,n)):224==(240&r)?i=4096*(15&r)+64*(63&Mh(t,n))+(63&Mh(t,n)):240==(248&r)&&(i=262144*(7&r)+4096*(63&Mh(t,n))+64*(63&Mh(t,n))+(63&Mh(t,n))):i=r,i}function Zh(t,n){return $h(t,n,!0)}function $h(t,n,i){for(var r=[];n.ac<t.byteLength;){var e=Mh(t,n);if(i&&!e)break;r.push(e)}return qo(r)}function tc(t,n,i){for(var r=i.length,e=0;e<r;e+=1){Lh(t,n,i.charCodeAt(e))}}function nc(t,n){if(n.ac+2<=t.byteLength){var i=t.getUint8(n.ac),r=t.getUint8(n.ac+1);return(254!==i||255!==r)&&(255===i&&254===r||void 0)}}function ic(t,n){var i=nc(t,n);return void 0!==i&&n.Ny(2),rc(t,n,!0===i)}function rc(t,n,i){return void 0===i&&(i=!1),ec(t,n,i,!0)}function ec(t,n,i,r){for(var e=[];n.ac+2<=t.byteLength;){var s=zh(t,n,i);if(r&&!s)break;e.push(s)}return qo(e)}function sc(t,n,i,r){void 0===r&&(r=!1);for(var e=i.length,s=0;s<e;s+=1){Xh(t,n,i.charCodeAt(s),r)}}function uc(t){return $h(_c(t),new Tc,!1)}function oc(t){var n=new E(t.length);return tc(_c(n),new Tc,t),n}function hc(t,n){return void 0===n&&(n=!1),ec(_c(t),new Tc,n,!1)}function cc(t,n){void 0===n&&(n=!1);var i=new E(2*t.length);return sc(_c(i),new Tc,t,n),i}function ac(t,n){return n.ac+3<=t.byteLength&&(239===t.getUint8(n.ac)&&187===t.getUint8(n.ac+1)&&191===t.getUint8(n.ac+2))}function fc(t,n){return function(t,n,i){var r=[],e=ac(t,n);e&&n.Ny(3);for(;n.ac<t.byteLength;){var s=Jh(t,n);if(void 0===s)break;if(i&&0===s)break;r.push(s)}return Xo(r)}(t,n,!0)}function vc(t){return function(t){return Xo(t)}(function(t,n){var i,r=[],e=new Tc;if(!n){if(!1===(i=Ph(t,e)))return r;65279===i||r.push(i)}for(;!1!==(i=Ph(t,e));)r.push(i);return r}(mc(t)))}function dc(t){return new E(function(t){for(var n,i=[],r=Lt(t);!(n=r()).done;)Ch(n.value,i);return i}(function(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&e)<<10)+(1023&s)+65536):(n.push(e),i--)}else n.push(e)}return n}(t)))}function lc(t,n){if(ac(t,n))return fc(t,n);if(void 0!==nc(t,n))return ic(t,n);if(n.ac+4<=t.byteLength){if(0===t.getUint8(n.ac)&&0===t.getUint8(n.ac+2))return rc(t,n,!1);if(0===t.getUint8(n.ac+1)&&0===t.getUint8(n.ac+3))return rc(t,n,!0)}return fc(t,n)}function wc(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new E(t.buffer,t.byteOffset+n,i-n)}function gc(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function _c(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function mc(t){return new E(t.buffer,t.byteOffset,t.byteLength)}function yc(t){return V(t,ArrayBuffer)||Rc(t)}function pc(t){return V(t,ArrayBuffer)?new E(t):mc(t)}function kc(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):bc(wc(t,n,i))}function bc(t){if(t.slice)return t.slice(0);var n=new E(t.byteLength);return n.set(t,0),n}function Ac(t){return[].slice.call(t)}var Tc=function(){function t(t){void 0===t&&(t=0),this.uc=void 0,this.uc=t}var n=t.prototype;return n.Ny=function(t){this.uc+=t},n.My=function(t){this.uc=t},n.Ly=function(){return new t(this.ac)},n.Uy=function(){return new Sh(this.ac<<3)},Nt(t,[{key:"ac",get:function(){return this.uc}}]),t}();function Sc(t){var n=t.toLowerCase(),i=0,r=0;Uo(n,"0x")&&(n=n.substring(2));var e=new E(b.ceil(n.length/2));for(1&~n.length||(i=1,e[r++]=A(n[0],16));i<n.length;i+=2)e[r++]=A(n.substr(i,2),16);return e}function Ec(t){return.001*t}var Ic=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],Rc=ArrayBuffer.isView||function(t){return t&&ji(Ic,Ln.call(t))};function Cc(t,n){return t===n||t.byteLength===n.byteLength&&Dc(new E(t),new E(n))}function Dc(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;if(t.buffer===n.buffer&&t.byteOffset===n.byteOffset)return!0;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}function Pc(t,n){return t===n||Dc(pc(t),pc(n))}function Nc(t){var n=t.reduce(function(t,n){return t+n.byteLength},0);return Bc(t,n)}function Bc(t,n){for(var i,r=new E(n),e=0,s=Lt(t);!(i=s()).done;){var u=i.value;r.set(u,e),e+=u.byteLength}return r}function xc(t,n,i){var r=new E(t.byteLength+n.byteLength),e=wc(t,0,i),s=wc(t,i);return r.set(e),r.set(n,i),r.set(s,i+n.byteLength),r}function Oc(t){return mh(t).buffer}function Mc(t){return kh(new E(t))}function Lc(t){return kh(oc(t))}var Uc=new E([0]).buffer,Fc=function(){function t(){this.nc=void 0,this.nc=[]}var n=t.prototype;return n.Hy=function(t){for(var n,i=Lt(this.nc);!(n=i()).done;){if(Pc(n.value[0],t))return!0}return!1},n.Wy=function(t){for(var n,i=Lt(this.nc);!(n=i()).done;){var r=n.value;if(Pc(r[0],t))return r[1]}},n.qy=function(t,n){for(var i,r=Lt(this.nc);!(i=r()).done;){var e=i.value;if(Pc(e[0],t))return void(e[1]=n)}this.nc.push([t,n])},n.zy=function(t,n){this.nc.forEach(function(n){return t(n[1],n[0])},n)},n.Gy=function(){Yi(this.nc)},Nt(t,[{key:"Vy",get:function(){return this.nc.length}}]),t}();F(),Et();var Vc=function(){function t(){var t=this;this.Qy=void 0,this.Qd=void 0,this.Kd=void 0,this.Qy=new ut(function(n,i){t.Qd=n,t.Kd=i})}var n=t.prototype;return n.Xy=function(t){this.Qd&&(this.Qd(t),this.zg())},n.jy=function(t){this.Kd&&(this.Kd(t),this.zg())},n.Zg=function(){this.Qy.catch(di),this.jy(new fr)},n.$g=function(t){var n=this;t.then(function(t){return n.Xy(t)},function(t){return n.jy(t)})},n.zg=function(){this.Qd=void 0,this.Kd=void 0},t}();function Hc(){return new E([8,4]).buffer}function Wc(t,n){return t===vo?function(t){if(t.byteLength<2*zc.length)return t;var n=new DataView(t,0,2*zc.length),i=hc(n,!0);if(i===zc)return t;return function(t){var n='<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">',i='</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',r=""+n+Mc(t)+i;return cc(r,!0).buffer}(t)}(n):n}F(),Et();var zc="<PlayReady";F(),Et(),F(),Et(),Dt();var Xc=function(t){function n(n,i,r,e){var s;return(s=t.call(this,n,e)||this).Ky=void 0,s.Yy=void 0,s.Ky=i,s.Yy=r,s}return Ct(n,t),n}(ar);F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et();var qc=function(t,n){return(qc=k.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)k.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])})(t,n)};function Gc(t,n){if("function"!=typeof n&&null!==n)throw new p("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}qc(t,n),t.prototype=null===n?k.create(n):(i.prototype=n.prototype,new i)}function jc(t,n,i){return t.indexOf?t.indexOf(n,i):Array.prototype.indexOf.call(t,n,i)}F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et();!function(){function t(t,n){this.Jy=t,this.Zy=n}t.prototype.get=function(t){var n=this.Jy.get(t);if(0===this.Zy||void 0===n)return n;var i=this.Jy.get(t+1)||0,r=n&(1<<8-this.Zy)-1,e=i>>8-this.Zy;return(r<<this.Zy)+e},t.prototype.getBit=function(t){if(!(t<0)){var n=this.Jy.get(b.floor((t+this.Zy)/8));if(void 0!==n)return(n&1<<7-this.Zy-t%8)>0?1:0}},k.defineProperty(t.prototype,"bitLength",{get:function(){return this.Jy.bitLength-this.Zy},enumerable:!1,configurable:!0}),k.defineProperty(t.prototype,"length",{get:function(){return this.Jy.length},enumerable:!1,configurable:!0})}();F(),Et(),F(),Et();b.pow(2,-52);function Qc(t,n,i){return b.min(b.max(t,n),i)}function Yc(t,n){return t>>8-n}function Kc(t,n){return t&(1<<n)-1}var Jc=function(){function t(t){this.$y=t,this.tA=0,this.iA=0}return k.defineProperty(t.prototype,"totalBitsRead",{get:function(){return 8*this.tA+this.iA},enumerable:!1,configurable:!0}),k.defineProperty(t.prototype,"done",{get:function(){return this.tA===this.$y.length&&0===this.iA},enumerable:!1,configurable:!0}),k.defineProperty(t.prototype,"location",{get:function(){return{byte:this.tA,bit:this.iA}},enumerable:!1,configurable:!0}),t.prototype.copy=function(){var n=new t(this.$y);return n.seek(this.tA,this.iA),n},t.prototype.canReadBits=function(t){return 8*this.tA+t+this.iA<=8*this.$y.length},t.prototype.canReadBytes=function(t){return 0===this.iA?this.tA+t<=this.$y.length:this.tA+t<this.$y.length},t.prototype.incBit=function(){this.iA++,this.iA>7&&(this.tA++,this.iA=0)},t.prototype.seek=function(t,n){this.tA=t,this.iA=n},t.prototype.peekBit=function(){if(!this.canReadBits(1))throw new y("Cannot read past end of buffer.");return this.$y.get(this.tA)>>7-this.iA&1},t.prototype.readBit=function(){var t=this.peekBit();return this.incBit(),t},t.prototype.readByte=function(){if(!this.canReadBytes(1))throw new y("Cannot read past end of buffer.");if(0===this.iA)return this.$y.get(this.tA++);var t=Kc(this.$y.get(this.tA),8-this.iA),n=Yc(this.$y.get(this.tA+1),this.iA);return this.tA++,t<<this.iA|n},t.prototype.readBits=function(t){if(!this.canReadBits(t))throw new y("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readBit());return n},t.prototype.readUInt=function(t){if(t>32)throw new y("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new y("Cannot read past end of buffer.");var n=0;if(0===this.iA&&t%8==0)for(var i=t-8;i>=0;i-=8)n|=this.readByte()<<i;else for(i=t-1;i>=0;i--)n|=this.readBit()<<i;return n},t.prototype.readInt=function(t){if(t>32)throw new y("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new y("Cannot read past end of buffer.");var n=this.readUInt(t);return 0===(n&1<<t-1)?n:n-b.pow(2,t)},t.prototype.readExponentialGolombCode=function(){for(var t=0;0===this.readBit();)t++;var n=1<<t;return n+=this.readUInt(t)-1},t.prototype.readSignedExponentialGolombCode=function(){var t=this.readExponentialGolombCode();return 1&t?(t+1)/2:-t/2},t.prototype.skipBits=function(t){if(!this.canReadBits(t))throw new y("Skipping over the buffer edge is not allowed.");var n=this.iA+t;this.tA+=n>>3,this.iA=7&n},t.prototype.readBool=function(){return this.readBit()>0},t.prototype.readString=function(t){if(!this.canReadBytes(t))throw new y("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readByte());return String.fromCharCode.apply(String,n)},t}();F(),Et(),F(),Et(),F(),Et();var Zc=function(t,n){return t===n?0:t<n?-1:t>n?1:S(t)?S(n)?0:1:-1},$c=function(){function t(){this.eA=[],this.sA=[],this.nA=0}return t.from=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var r=new t,e=0,s=n;e<s.length;e++){var u=s[e];r.pushRange(u)}return r},t.prototype.pushRange=function(t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=t.length),i<0)throw new y("The buffer length must be positive.");if(0!==i){if(0===this.sA.length)this.sA.push(0);else{var r=this.sA[this.sA.length-1]+this.eA[this.eA.length-1].length;this.sA.push(r)}this.eA.push(t.subarray(n,n+i)),this.nA+=i}},t.prototype.concat=function(n){var i=new t;return i.pushRange(this.join()),i.pushRange(n.join()),i},t.prototype.copy=function(t,n,i,r){if(void 0===n&&(n=0),void 0===i&&(i=0),void 0===r&&(r=this.length),n<0||i<0||r<0)throw new RangeError;return this.slice(i,r).copyInternal(t,n)},t.prototype.copyInternal=function(t,n){for(var i=0,r=n,e=0,s=this.eA;e<s.length;e++){var u=s[e];t.set(u,r),i+=u.length,r+=u.length}return i},t.prototype.clear=function(){this.eA=[],this.sA=[],this.nA=0},t.prototype.get=function(t){if(!(t<0||t>=this.length)){var n=this.findContainingBufferIndex(t),i=t-this.sA[n];return this.eA[n][i]}},k.defineProperty(t.prototype,"first",{get:function(){return this.get(0)},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){if(this.eA.length<1)return-1;if(this.eA.length>1){var n=this.join();this.clear(),this.pushRange(n)}var i=this.eA[0];return"number"==typeof t?jc(i,t):"undefined"!=typeof Buffer?Buffer.from(i.buffer,i.byteOffset,i.byteLength).indexOf(t):function(t,n){if(0===n.length)return 0;for(var i=n[0],r=n.length,e=t.length-r,s=0;s<=e&&!((s=jc(t,i,s))<0||s>e);s++){for(var u=s+1,o=s+r,h=1;u<o&&t[u]===n[h];u++,h++);if(u===o)return s}return-1}(i,t)},t.prototype.findContainingBufferIndex=function(t){return function(t,n,i){if(0!==t.length){var r=0,e=t.length-1;if(1!==i(t[r],n)){if(1===i(n,t[e]))return e;for(;r!==e;){var s=b.ceil((r+e)/2);i(t[s],n)<=0?r=s:e=s-1}return r}}}(this.sA,t,Zc)},t.prototype.join=function(){if(1===this.eA.length)return this.eA[0];var t=new E(this.length);return this.copyInternal(t,0),t},k.defineProperty(t.prototype,"length",{get:function(){return this.nA},enumerable:!1,configurable:!0}),k.defineProperty(t.prototype,"bitLength",{get:function(){return 8*this.length},enumerable:!1,configurable:!0}),t.prototype.readUIntBE=function(t,n){if(n<=0||n>4)throw new y("Expected byteLength to be between 0 and 4 but was "+n);if(t<0||t>this.length-n)throw new y("Offset must be between 0 and buffer.length - byteLength, but was "+t+" (max allowed "+(this.length-n)+")");if(1===n)return this.get(t);for(var i=0,r=0;r<n;r++)i+=this.get(t+r)*b.pow(2,8*(n-r-1));return i},t.prototype.slice=function(n,i){void 0===i&&(i=this.length);var r=Qc(n,0,this.length),e=Qc(i,0,this.length);if(r>e)return new t;if(r===e)return new t;for(var s=new t,u=this.findContainingBufferIndex(r),o=this.eA[u],h=r,c=h-this.sA[u];h+o.length-c<e;)s.pushRange(o,c,o.length-c),u+=1,c=(h+=o.length-c)-this.sA[u],o=this.eA[u];var a=e-h;return s.pushRange(o,c,a),s},t.prototype.trim=function(){if(0===this.length)return new t;for(var n=this.length-1,i=this.eA.length-1,r=this.eA[i],e=r.length-1;n>=0&&i>=0;){if(0!==r[e])break;if(0===e){if(0===i)return new t;i-=1,e=(r=this.eA[i]).length-1}else e-=1;n-=1}return this.slice(0,n+1)},t}(),ta=function(){function t(n){this.rA=n||t.BUFFER_CHUNK_SIZE,this.hA=!1,this.oA=new $c,this.$y=new E(this.rA),this.aA=0,this.uA=0,this.iA=7}return t.prototype.closeByte=function(){this.$y[this.aA++]=this.uA,this.aA>=this.rA&&this.closeBuffer(),this.uA=0,this.iA=7},t.prototype.closeBuffer=function(t){void 0===t&&(t=!0),0!==this.aA&&(this.oA.pushRange(this.$y,0,this.aA),t&&(this.$y=new E(this.rA)),this.aA=0)},k.defineProperty(t.prototype,"isWritingStartBit",{get:function(){return 7===this.iA},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(this.hA)throw new y("Cannot close a closed BitWriter.");return this.isWritingStartBit||this.closeByte(),this.closeBuffer(!1),this.hA=!0,this.oA},t.prototype.writeBit=function(t){if(this.hA)throw new y("Cannot write to a closed BitWriter.");this.uA|=t<<this.iA,0===this.iA?this.closeByte():this.iA--},t.prototype.writeByte=function(t){if(this.hA)throw new y("Cannot write to a closed BitWriter.");this.isWritingStartBit?(this.uA=t,this.closeByte()):this.writeByteUnaligned(t)},t.prototype.writeByteUnaligned=function(t){var n=this.iA;this.uA|=Yc(t,n+1),this.closeByte(),this.uA=Kc(t,8-n)<<n+1,this.iA=n},t.prototype.writeBits=function(t){for(var n=0,i=t;n<i.length;n++){var r=i[n];this.writeBit(r)}},t.prototype.writeBytes=function(t){if(this.hA)throw new y("Cannot write to a closed BitWriter.");this.isWritingStartBit?this.writeBytesAligned(t):this.writeBytesUnaligned(t)},t.prototype.writeBytesAligned=function(t){this.aA+t.length<=this.rA?(this.$y.set(t,this.aA),this.aA+=t.length,this.aA===this.rA&&this.closeBuffer()):(this.closeBuffer(),this.oA.pushRange(t))},t.prototype.writeBytesUnaligned=function(t){if(0!==t.length){var n=this.iA;this.uA|=Yc(t[0],n+1),this.closeByte();for(var i=1;i<t.length;i++){var r=Kc(t[i-1],8-n),e=Yc(t[i],n+1);this.uA=r<<n+1|e,this.closeByte()}this.uA=Kc(t[t.length-1],8-n)<<n+1,this.iA=n}},t.prototype.writeUInt=function(t,n){if(t<0)throw new y("Received a negative number.");if(n>32)throw new y("The max bitlength that can be provided is 32.");if(t>=b.pow(2,n))throw new y("Uint "+t+" cannot be represented in "+n+" bit(s).");if(this.isWritingStartBit&&n%8==0)for(var i=n-8;i>=0;i-=8)this.writeByte(t>>i&255);else for(i=n-1;i>=0;i--)this.writeBool((t&1<<i)>0)},t.prototype.writeInt=function(t,n){if(n>32)throw new y("The max bitlength that can be provided is 32.");if(b.abs(t)>=b.pow(2,n-1))throw new y("Signed integer "+t+" cannot be represented in "+n+" bit(s).");t<0?this.writeUInt(t+b.pow(2,n),n):this.writeUInt(t,n)},t.prototype.writeExponentialGolombCode=function(t){if(t<0)throw new y("Received a negative number.");for(var n=b.floor(b.log2(t+1))+1,i=0;i<n-1;i++)this.writeBit(0);this.writeUInt(t+1,n)},t.prototype.writeSignedExponentialGolombCode=function(t){0===t?this.writeExponentialGolombCode(0):t<0?this.writeExponentialGolombCode(-2*t):this.writeExponentialGolombCode(2*t-1)},t.prototype.padByte=function(t){for(;!this.isWritingStartBit;)this.writeBit(t)},t.prototype.writeBool=function(t){this.writeBit(t?1:0)},t.prototype.writeString=function(t){for(var n=function(t){for(var n=new E(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(t),i=0;i<n.length;i++)this.writeByte(n[i])},t.BUFFER_CHUNK_SIZE=1024,t}();F(),Et();var na=function(){function t(t){this.rb=new $c,this.ef=t}return t.prototype.closeWriter=function(){void 0!==this.ef&&(this.rb=this.rb.concat(this.ef.close()),this.ef=void 0)},k.defineProperty(t.prototype,"writer",{get:function(){return void 0===this.ef&&(this.ef=new ta),this.ef},enumerable:!1,configurable:!0}),t.prototype.concat=function(t){this.closeWriter(),this.rb=this.rb.concat(t)},t.prototype.toRangedBuffer=function(){return this.closeWriter(),this.rb},t}(),ia=function(){function t(t){if(this.boxType=t,4!==t.length&&16!==t.length)throw new y("The provided box type does not conform to either a 4 character type or a 16 byte uuid.")}return t.prototype.serializeCommonBoxHeader=function(n){var i=this.getSize(),r=i>=t.LARGE_SIZE/8,e=16===this.boxType.length;n.writeUInt(r?1:i,32),n.writeString(e?"uuid":this.boxType),r&&(n.writeUInt(b.floor(i/t.LARGE_SIZE),32),n.writeUInt(i%t.LARGE_SIZE,32)),e&&n.writeString(this.boxType)},t.prototype.getSize=function(){var n=8+(this.boxType.length>4?16:0),i=this.getBoxContentSize()+n;return i>=t.LARGE_SIZE/8&&(i+=8),i},t.prototype.serialize=function(){var t=new na;return this.serializeCommonBoxHeader(t.writer),this.serializeBoxContent(t),t.toRangedBuffer()},t.LARGE_SIZE=b.pow(2,32),t}();function ra(t,n){return V(t,ue)?64===n:t<b.pow(2,n)}function ea(t,n){return b.round(t*b.pow(2,n))}function sa(t,n){for(var i=0;i<n.length;i++)t.writeByte(n[i])}function ua(t,n){return t/b.pow(2,n)}F(),Et(),H();var oa=function(t){function n(n,i,r){var e=t.call(this,n)||this;if(e.version=i,!ra(i,8))throw new y("the provided version cannot fit in 8 bits.");return e.flags=r,e}return Gc(n,t),k.defineProperty(n.prototype,"flags",{get:function(){return this.cA},set:function(t){this.cA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new y("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(ia);F(),Et(),F(),Et();var ha=function(t){function n(n,i){var r=t.call(this,n)||this;return r.data=i,r}return Gc(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat($c.from(this.data))},n}(ia);F(),Et(),F(),Et();var ca=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t}();F(),Et();var aa=16384;function fa(t){var n=t.length;if(n<=aa)return String.fromCharCode.apply(String,t);for(var i=[],r=0;r<n;r+=aa)i.push(String.fromCharCode.apply(String,t.slice(r,r+aa)));return i.join("")}var va=function(){function t(t){this.raw=t}return t.prototype.isSet=function(t){return function(t,n){return(t&n)===n}(this.raw,t)},t}();function da(t,n){var i=t.getUint8(n.offset);return n.shift(1),i}function la(t,n,i){var r=ka(Ta(t),n.offset,n.offset+i);return n.shift(r.byteLength),r}function wa(t,n,i){return n.offset+i<=t.byteLength}function ga(t,n,i){void 0===i&&(i=!1);var r=t.getUint32(n.offset,i);return n.shift(4),r}function _a(t,n,i){void 0===i&&(i=!1);var r=ga(t,n,i),e=ga(t,n,i),s=i?e:r,u=i?r:e;return ue.fromBits(u,s,!0)}function ma(t,n,i){return fa(function(t){return[].slice.call(t)}(la(t,n,i)))}function ya(t,n){var i,r=da(t,n);return 128&r?192==(224&r)?i=64*(31&r)+(63&da(t,n)):224==(240&r)?i=4096*(15&r)+64*(63&da(t,n))+(63&da(t,n)):240==(248&r)&&(i=262144*(7&r)+4096*(63&da(t,n))+64*(63&da(t,n))+(63&da(t,n))):i=r,i}function pa(t,n){return function(t,n,i){var r=[],e=function(t,n){return n.offset+3<=t.byteLength&&239===t.getUint8(n.offset)&&187===t.getUint8(n.offset+1)&&191===t.getUint8(n.offset+2)}(t,n);e&&n.shift(3);for(;n.offset<t.byteLength;){var s=ya(t,n);if(void 0===s)break;if(i&&0===s)break;r.push(s)}return function(t){for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return fa(n)}(r)}(t,n,!0)}function ka(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new E(t.buffer,t.byteOffset+n,i-n)}function ba(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function Aa(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ta(t){return new E(t.buffer,t.byteOffset,t.byteLength)}var Sa=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t.prototype.toBit=function(){return new ca(this.offset<<3)},t}();F(),Et();var Ea=function(){function t(t,n){this.data=t,this.cursor=n}return t.prototype.nextUint8=function(){return da(this.data,this.cursor)},t.prototype.nextUint16=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getUint16(n.offset,i);return n.shift(2),r}(this.data,this.cursor)},t.prototype.nextInt16=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt16(n.offset,i);return n.shift(2),r}(this.data,this.cursor)},t.prototype.nextUint32=function(){return ga(this.data,this.cursor)},t.prototype.nextInt32=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt32(n.offset,i);return n.shift(4),r}(this.data,this.cursor)},t.prototype.nextInt64=function(){return function(t,n,i){void 0===i&&(i=!1);var r=ga(t,n,i),e=ga(t,n,i),s=i?e:r,u=i?r:e;return ue.fromBits(u,s,!1)}(this.data,this.cursor)},t.prototype.nextUint64=function(){return _a(this.data,this.cursor)},t.prototype.nextUint8Array=function(t){return la(this.data,this.cursor,t)},t.prototype.nextUint32Array=function(t){return function(t,n,i){for(var r=[],e=0;e<i;e++)r.push(ga(t,n));return r}(this.data,this.cursor,t)},t.prototype.nextChars=function(t){return ma(this.data,this.cursor,t)},t.prototype.nextUTF8String=function(){return pa(this.data,this.cursor)},t.prototype.skip=function(t){this.cursor.shift(t)},t.prototype.clone=function(){return new t(this.data,this.cursor.clone())},t}();function Ia(t,n){return t.type===n}function Ra(t){var n=function(t,n){var i=[];for(;n.offset<t.byteLength;){var r=Ca(t,n);if(!r.complete)return{complete:!1,boxes:i};i.push(r.box)}return{complete:!0,boxes:i}}(t.data,t.cursor);if(!n.complete)throw new y("Data incomplete");return n.boxes}function Ca(t,n){var i=n.offset,r=function(t,n){var i=n.offset;if(!wa(t,n,8)){return{complete:!1,neededOffset:s=n.offset+8}}var r=ga(t,n),e=ma(t,n,4);if(1===r){if(!wa(t,n,8)){var s=n.offset+8;return n.seek(i),{complete:!1,neededOffset:s}}r=_a(t,n).toNumber()}if("uuid"===e){if(!wa(t,n,16)){s=n.offset+16;return n.seek(i),{complete:!1,neededOffset:s}}e=ma(t,n,16)}var u=n.offset,o={type:e,size:r,headerSize:u-i};return{complete:!0,header:o}}(t,n);if(!r.complete)return r;var e=r.header,s=e.size;0===s&&(s=t.byteLength-i);var u=i+s;if(u>t.byteLength){var o=u;return n.seek(i),{complete:!1,neededOffset:o}}var h={type:e.type,offset:i,data:new Ea(ba(t,i,u),new Sa(e.headerSize))};return n.seek(u),{complete:!0,box:h}}function Da(t){return{version:t>>24,flags:new va(16777215&t)}}function Pa(t,n){var i,r,e,s;return 1===n?(i=t.nextUint64(),r=t.nextUint64(),e=t.nextUint32(),s=t.nextUint64()):(i=t.nextUint32(),r=t.nextUint32(),e=t.nextUint32(),s=t.nextUint32()),{creation:i,modification:r,scale:e,duration:s}}function Na(t){return t.skipBits(4),{isLeading:t.readUInt(2),sampleDependsOn:t.readUInt(2),sampleIsDependedOn:t.readUInt(2),sampleHasRedundancy:t.readUInt(2),samplePaddingValue:t.readUInt(3),sampleIsNonSyncSample:Boolean(t.readBit()),sampleDegradationPriority:t.readUInt(16)}}function Ba(t){var n=t.nextUint32Array(9);return{a:ua(n[0],16),b:ua(n[1],16),u:ua(n[2],30),c:ua(n[3],16),d:ua(n[4],16),v:ua(n[5],30),x:ua(n[6],16),y:ua(n[7],16),w:ua(n[8],30)}}function xa(t){return new ha(t.type,ka(Ta(t.data.data),t.data.cursor.offset))}var Oa=function(t){function n(n,i,r,e){void 0===r&&(r=0),void 0===e&&(e=0);var s=t.call(this,"hdlr",r,e)||this;return s.name=i,s.handlerType=n,s}return Gc(n,t),k.defineProperty(n.prototype,"handlerType",{get:function(){return this.dA},set:function(t){this.dA=t},enumerable:!1,configurable:!0}),n.prototype.serializeReserved=function(t){t.writer.writeUInt(0,32),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)},n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+4+4+12+(null!==(i=null===(n=this.name)||void 0===n?void 0:n.length)&&void 0!==i?i:0)+1},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeString(this.handlerType),this.serializeReserved(n),this.name&&n.writer.writeString(this.name),n.writer.writeByte(0)},n}(oa);function Ma(t){var n=t.data,i=Da(n.nextUint32()),r=i.version,e=i.flags;n.skip(4);var s=n.nextChars(4);n.skip(12);var u=n.nextUTF8String();return new Oa(s,u,r,e.raw)}!function(t){function n(){return t.call(this,"mdir")||this}Gc(n,t),n.prototype.serializeReserved=function(t){t.writer.writeString("appl"),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)}}(Oa);F(),Et(),F(),Et(),F(),Et();var La=function(){function t(t,n){void 0===n&&(n=!1),this.fixed28BitMode=n,this.tag=t}return t.prototype.encodeSize=function(t){for(var n=[];t>0;)n.length>0&&(n[n.length-1]+=128),n.push(t%128),t>>=7;if(this.fixed28BitMode)for(;n.length<4;)n.push(128);return n.reverse()},k.defineProperty(t.prototype,"tag",{get:function(){return this.lA},set:function(t){if(!ra(t,8))throw new y("Provided tag does not fit in 8 bits.");this.lA=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return this.getDescriptorSize()+1+this.encodeSize(this.getDescriptorSize()).length},t.prototype.serialize=function(t){t.writer.writeByte(this.tag);for(var n=0,i=this.encodeSize(this.getDescriptorSize());n<i.length;n++){var r=i[n];t.writer.writeByte(r)}this.serializeDescriptorContent(t)},t}();F(),Et();!function(t){function n(n,i,r,e,s,u,o){void 0===o&&(o={});var h=t.call(this,4,o.fixed28BitMode)||this;return h.upStream=r,h.decoderSpecificInfo=u,h.objectTypeIndication=n,h.streamType=i,h.bufferSizeDb=e,h.maxBitrate=s.max,h.avgBitrate=s.avg,h}Gc(n,t),k.defineProperty(n.prototype,"objectTypeIndication",{get:function(){return this.fA},set:function(t){if(!ra(t,8))throw new y("Provided objectTypeIndication does not fit in 8 bits.");this.fA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"streamType",{get:function(){return this.vA},set:function(t){if(!ra(t,6))throw new y("Provided streamType does not fit in 6 bits.");this.vA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this._A},set:function(t){if(!ra(t,24))throw new y("Provided bufferSizeDb does not fit in 24 bits.");this._A=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"maxBitrate",{get:function(){return this.gA},set:function(t){if(!ra(t,32))throw new y("Provided maxBitrate does not fit in 32 bits.");this.gA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"avgBitrate",{get:function(){return this.pA},set:function(t){if(!ra(t,32))throw new y("Provided avgBitrate does not fit in 32 bits.");this.pA=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 13+this.decoderSpecificInfo.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.objectTypeIndication),t.writer.writeUInt(this.streamType,6),t.writer.writeBool(this.upStream),t.writer.writeBit(1),t.writer.writeUInt(this.bufferSizeDb,24),t.writer.writeUInt(this.maxBitrate,32),t.writer.writeUInt(this.avgBitrate,32);for(var n=0,i=this.decoderSpecificInfo;n<i.length;n++){i[n].serialize(t)}}}(La);F(),Et();!function(t){function n(n,i){void 0===i&&(i={});var r=t.call(this,5,i.fixed28BitMode)||this;return r.data=n,r}Gc(n,t),n.prototype.getDescriptorSize=function(){return this.data.length},n.prototype.serializeDescriptorContent=function(t){t.concat($c.from(this.data))}}(La);F(),Et(),F(),Et();var Ua=function(t){function n(n){void 0===n&&(n=!1);var i=t.call(this,6,n)||this;return i.predefined=2,i}return Gc(n,t),n.prototype.getDescriptorSize=function(){return 1},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.predefined)},n}(La);!function(t){function n(n,i,r,e){void 0===e&&(e={});var s=t.call(this,3,e.fixed28BitMode)||this;return s.decoderConfigDescriptor=r,s.esId=n,s.streamPriority=i,s.dependsOnEsId=null==e?void 0:e.dependsOnEsId,s.urlString=null==e?void 0:e.url,s.ocrEsId=null==e?void 0:e.ocrEsId,s.slConfigDescriptor=new Ua(e.fixed28BitMode),s}Gc(n,t),k.defineProperty(n.prototype,"streamDependenceFlag",{get:function(){return void 0!==this.dependsOnEsId},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"urlFlag",{get:function(){return void 0!==this.urlString},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"ocrStreamFlag",{get:function(){return void 0!==this.ocrEsId},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"esId",{get:function(){return this.mA},set:function(t){if(!ra(t,16))throw new y("Provided esId does not fit in 16 bits.");this.mA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"streamPriority",{get:function(){return this.wA},set:function(t){if(!ra(t,5))throw new y("Provided streamPriority does not fit in 5 bits.");this.wA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"dependsOnEsId",{get:function(){return this.yA},set:function(t){if(t&&!ra(t,16))throw new y("Provided dependsOnEsId does not fit in 16 bits.");this.yA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"ocrEsId",{get:function(){return this.AA},set:function(t){if(t&&!ra(t,16))throw new y("Provided ocrEsId does not fit in 16 bits.");this.AA=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 3+(this.streamDependenceFlag?2:0)+(this.urlFlag?1+this.urlString.length:0)+(this.ocrStreamFlag?2:0)+this.decoderConfigDescriptor.getSize()+this.slConfigDescriptor.getSize()},n.prototype.serializeDescriptorContent=function(t){t.writer.writeUInt(this.esId,16),t.writer.writeBool(this.streamDependenceFlag),t.writer.writeBool(this.urlFlag),t.writer.writeBool(this.ocrStreamFlag),t.writer.writeUInt(this.streamPriority,5),this.streamDependenceFlag&&t.writer.writeUInt(this.dependsOnEsId,16),this.urlFlag&&(t.writer.writeByte(this.urlString.length),t.writer.writeString(this.urlString)),this.ocrStreamFlag&&t.writer.writeUInt(this.ocrEsId,16),this.decoderConfigDescriptor.serialize(t),this.slConfigDescriptor.serialize(t)}}(La);F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et();var Fa=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.boxes=[],n}return Gc(n,t),n.prototype.getSize=function(){return t.prototype.getSize.call(this)+this.boxes.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serialize=function(){for(var n=t.prototype.serialize.call(this),i=0,r=this.boxes;i<r.length;i++){var e=r[i];n=n.concat(e.serialize())}return n},n}(ia),Va=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Gc(n,t),n.prototype.serializeBoxContent=function(t){},n.prototype.getBoxContentSize=function(){return 0},n}(Fa),Ha=function(t){function n(n,i){var r=t.call(this,n)||this;return r.dataReferenceIndex=i,r}return Gc(n,t),k.defineProperty(n.prototype,"dataReferenceIndex",{get:function(){return this.bA},set:function(t){if(!ra(t,16))throw new y("Provided dataReferenceIndex does not fit in 16 bits.");this.bA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){for(var n=0;n<6;n++)t.writer.writeByte(0);t.writer.writeUInt(this.dataReferenceIndex,16)},n}(Va),Wa=function(t){function n(n,i,r,e){var s,u,o=this;return(o=t.call(this,n,i)||this).extra=e,o.channelCount=null!==(s=r.channelCount)&&void 0!==s?s:2,o.sampleSize=null!==(u=r.sampleSize)&&void 0!==u?u:16,o.sampleRate=r.sampleRate,o}return Gc(n,t),k.defineProperty(n.prototype,"channelCount",{get:function(){return this.SA},set:function(t){if(!ra(t,16))throw new y("Provided channelCount does not fit in 16 bits.");this.SA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"sampleSize",{get:function(){return this.TA},set:function(t){if(!ra(t,16))throw new y("Provided sampleSize does not fit in 16 bits.");this.TA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"sampleRate",{get:function(){return this.kA},set:function(t){if(!ra(ea(t,16),32))throw new y("Provided rate does not fit in 32 bits (fixed 16.16).");this.kA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+8+2+2+2+2+(void 0!==this.sampleRate?4:0)+(null!==(i=null===(n=this.extra)||void 0===n?void 0:n.length)&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.channelCount,16),n.writer.writeUInt(this.sampleSize,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(ea(this.sampleRate,16),32),this.extra&&sa(n.writer,this.extra)},n}(Ha);F(),Et();!function(t){function n(n){var i=t.call(this,"stco",0,0)||this;return i.entries=n,i}Gc(n,t),k.defineProperty(n.prototype,"entries",{get:function(){return this.EA},set:function(t){if(!ra(t.length,32))throw new y("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!ra(t,32)}))throw new y("Not all entries can be represented in 32 bits.");this.EA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];n.writer.writeUInt(e,32)}}}(oa);F(),Et();!function(t){function n(n){var i=t.call(this,"clap")||this;return i.cleanApertureWidthN=n.cleanApertureWidthN,i.cleanApertureWidthD=n.cleanApertureWidthD,i.cleanApertureHeightN=n.cleanApertureHeightN,i.cleanApertureHeightD=n.cleanApertureHeightD,i.horizOffN=n.horizOffN,i.horizOffD=n.horizOffD,i.vertOffN=n.vertOffN,i.vertOffD=n.vertOffD,i}Gc(n,t),k.defineProperty(n.prototype,"cleanApertureWidthN",{get:function(){return this.PA},set:function(t){if(!ra(t,32))throw new y("Provided cleanApertureWidthN does not fit in 32 bits.");this.PA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"cleanApertureWidthD",{get:function(){return this.xA},set:function(t){if(!ra(t,32))throw new y("Provided cleanApertureWidthD does not fit in 32 bits.");this.xA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"cleanApertureHeightN",{get:function(){return this.IA},set:function(t){if(!ra(t,32))throw new y("Provided cleanApertureHeightN does not fit in 32 bits.");this.IA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"cleanApertureHeightD",{get:function(){return this.RA},set:function(t){if(!ra(t,32))throw new y("Provided cleanApertureHeightD does not fit in 32 bits.");this.RA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"horizOffN",{get:function(){return this.CA},set:function(t){if(!ra(t,32))throw new y("Provided horizOffN does not fit in 32 bits.");this.CA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"horizOffD",{get:function(){return this.DA},set:function(t){if(!ra(t,32))throw new y("Provided horizOffD does not fit in 32 bits.");this.DA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"vertOffN",{get:function(){return this.BA},set:function(t){if(!ra(t,32))throw new y("Provided vertOffN does not fit in 32 bits.");this.BA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"vertOffD",{get:function(){return this.NA},set:function(t){if(!ra(t,32))throw new y("Provided vertOffD does not fit in 32 bits.");this.NA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 32},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.cleanApertureWidthN,32),t.writer.writeUInt(this.cleanApertureWidthD,32),t.writer.writeUInt(this.cleanApertureHeightN,32),t.writer.writeUInt(this.cleanApertureHeightD,32),t.writer.writeUInt(this.horizOffN,32),t.writer.writeUInt(this.horizOffD,32),t.writer.writeUInt(this.vertOffN,32),t.writer.writeUInt(this.vertOffD,32)}}(ia);F(),Et();!function(t){function n(n,i){var r=t.call(this,"ctts",n,0)||this;return r.entries=i,r}Gc(n,t),k.defineProperty(n.prototype,"entries",{get:function(){return this.EA},set:function(t){if(!ra(t.length,32))throw new y("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!ra(t.sampleCount,32)||!ra(t.sampleOffset,32)}))throw new y("Not all entries can be represented in 64 bits.");this.EA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];n.writer.writeUInt(e.sampleCount,32),0===this.version?n.writer.writeUInt(e.sampleOffset,32):1===this.version&&n.writer.writeInt(e.sampleOffset,32)}}}(oa);F(),Et();!function(t){function n(n){var i=t.call(this,"url ",0,void 0===n?1:0)||this;return i.location=n,i}Gc(n,t),k.defineProperty(n.prototype,"location",{get:function(){return this.MA},set:function(t){this.flags=void 0===t?1:0,this.MA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this);return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(oa);F(),Et();!function(t){function n(n,i,r){var e=t.call(this,"urn ",0,r)||this;return e.name=n,e.location=i,e}Gc(n,t),k.defineProperty(n.prototype,"location",{get:function(){return this.MA},set:function(t){if(1&this.flags)throw new y("The moov containment flag is set, a DataEntryUrlBox should be used instead.");this.MA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+this.name.length+1;return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.name),n.writer.writeByte(0),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(oa);F(),Et();!function(t){function n(){return t.call(this,"dinf")||this}Gc(n,t)}(Va);F(),Et(),F(),Et();var za=function(t){function n(n,i,r){var e=t.call(this,n)||this;if(e.version=i,!ra(i,8))throw new y("the provided version cannot fit in 8 bits.");return e.flags=r,e}return Gc(n,t),k.defineProperty(n.prototype,"flags",{get:function(){return this.cA},set:function(t){this.cA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new y("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(Fa);!function(t){function n(){return t.call(this,"dref",0,0)||this}Gc(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(za);F(),Et(),F(),Et();var Xa=function(t){function n(n,i,r){void 0===r&&(r=0);var e=t.call(this,"elst",i,r)||this;return e.entries=n,e}return Gc(n,t),k.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"entries",{get:function(){return this.EA},set:function(t){for(var n=0,i=t;n<i.length;n++){var r=i[n];if(!ra(r.segmentDuration,this.bitSize))throw new y("SegmentDuration of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!ra(r.mediaTime,this.bitSize))throw new y("MediaTime of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!ra(r.mediaRateInteger,16))throw new y("Provided mediaRateInteger does not fit in 16 bits.");if(r.mediaRateFraction&&!ra(r.mediaRateFraction,16))throw new y("Provided mediaRateFraction does not fit in 16 bits.")}this.EA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(2*this.bitSize/8+2+2)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32),this.serializeElstBoxContent(n)},n}(oa),qa=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return Gc(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,r=this.entries;i<r.length;i++){var e=r[i];t.writer.writeUInt(e.segmentDuration,32),t.writer.writeInt(e.mediaTime,32),t.writer.writeUInt(e.mediaRateInteger,16),t.writer.writeUInt(null!==(n=e.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(Xa),Ga=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return Gc(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,r=this.entries;i<r.length;i++){var e=r[i];t.writer.writeUInt(e.segmentDuration.getHighBitsUnsigned(),32),t.writer.writeUInt(e.segmentDuration.getLowBitsUnsigned(),32),t.writer.writeInt(e.mediaTime.getHighBits(),32),t.writer.writeInt(e.mediaTime.getLowBits(),32),t.writer.writeUInt(e.mediaRateInteger,16),t.writer.writeUInt(null!==(n=e.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(Xa);function ja(t){for(var n=t.data,i=Da(n.nextUint32()),r=i.version,e=i.flags,s=n.nextUint32(),u=[],o=0;o<s;o++){var h=void 0,c=void 0;0===r?(h=n.nextUint32(),c=n.nextInt32()):(h=n.nextUint64(),c=n.nextInt64());var a=n.nextInt16(),f=n.nextInt16();u.push({segmentDuration:h,mediaTime:c,mediaRateFraction:f,mediaRateInteger:a})}return 0===r?new qa(u,e.raw):new Ga(u,e.raw)}var Qa=function(t){function n(){return t.call(this,"edts")||this}return Gc(n,t),n}(Va);function Ya(t){for(var n=new Qa,i=0,r=Ra(t.data);i<r.length;i++){var e=r[i];Ia(e,"elst")?n.boxes.push(ja(e)):n.boxes.push(xa(e))}return n}F(),Et(),F(),Et();var Ka=function(t){function n(n,i,r,e){var s=t.call(this,n)||this;return s.majorBrand=i,s.minorVersion=r,s.compatibleBrands=e,s}return Gc(n,t),k.defineProperty(n.prototype,"majorBrand",{get:function(){return this.LA},set:function(t){if(4!==t.length)throw new y("the provided major brand does not conform to the 4 character requirement");this.LA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"minorVersion",{get:function(){return this.OA},set:function(t){if(!ra(t,32))throw new y("the provided minor version does not fit in 32 bits.");this.OA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"compatibleBrands",{get:function(){return this.FA},set:function(t){if(t.some(function(t){return 4!==t.length}))throw new y("Some of the compatible brands do not conform to the 4 character requirement");this.FA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4*(2+this.compatibleBrands.length)},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.majorBrand),t.writer.writeUInt(this.minorVersion,32);for(var n=0,i=this.compatibleBrands;n<i.length;n++){var r=i[n];t.writer.writeString(r)}},n}(ia),Ja=function(t){function n(n,i,r){return t.call(this,"ftyp",n,i,r)||this}return Gc(n,t),n}(Ka);function Za(t){for(var n=t.data,i=n.nextChars(4),r=n.nextUint32(),e=[];n.cursor.offset<n.data.byteLength;)e.push(n.nextChars(4));return new Ja(i,r,e)}F(),Et();var $a=function(t){function n(n,i){void 0===i&&(i="free");var r=t.call(this,i)||this;return r.data=n,r}return Gc(n,t),n.prototype.getBoxContentSize=function(){var t,n;return null!==(n=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==n?n:0},n.prototype.serializeBoxContent=function(t){this.data&&t.concat($c.from(this.data))},n}(ia);F(),Et(),F(),Et();var tf=function(t){function n(n,i,r,e){void 0===e&&(e=0);var s=t.call(this,"mdhd",r,e)||this;return s.creationTime=n.creation,s.modificationTime=n.modification,s.timescale=n.scale,s.duration=n.duration,s.language=i,s}return Gc(n,t),k.defineProperty(n.prototype,"creationTime",{get:function(){return this.UA},set:function(t){if(!ra(t,this.bitSize))throw new y("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.UA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"modificationTime",{get:function(){return this.VA},set:function(t){if(!ra(t,this.bitSize))throw new y("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.VA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"timescale",{get:function(){return this.HA},set:function(t){if(!ra(t,32))throw new y("Provided sequence number does not fit in 32 bits.");this.HA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"duration",{get:function(){return this.WA},set:function(t){if(!ra(t,this.bitSize))throw new y("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.WA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"language",{get:function(){return this.qA},set:function(t){if(!sf(t))throw new y("Expected an ISO-639-2/T language code");this.qA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMdiaContent(n),n.writer.writeBit(0);for(var i=0,r=this.language;i<r.length;i++){var e=r[i];n.writer.writeUInt(e.charCodeAt(0)-96,5)}n.writer.writeUInt(0,16)},n}(oa),nf=function(t){function n(n,i,r){return void 0===r&&(r=0),t.call(this,n,i,0,r)||this}return Gc(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(tf),rf=function(t){function n(n,i,r){return void 0===r&&(r=0),t.call(this,n,i,1,r)||this}return Gc(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(tf);function ef(t){var n=t.data,i=Da(n.nextUint32()),r=i.version,e=i.flags,s=Pa(n,r),u=new Jc($c.from(n.nextUint8Array(2)));u.skipBits(1);for(var o=[],h=0;h<3;h++)o.push(u.readUInt(5));var c=o.map(function(t){return String.fromCharCode(t+96)}).join("");return sf(c)||(c="und"),n.skip(2),0===r?new nf(s,c,e.raw):new rf(s,c,e.raw)}function sf(t){return/^[a-z]{3}$/.test(t)}var uf=function(t){function n(){return t.call(this,"mdia")||this}return Gc(n,t),n}(Va);function of(t){for(var n=new uf,i=0,r=Ra(t.data);i<r.length;i++){var e=r[i];Ia(e,"mdhd")?n.boxes.push(ef(e)):Ia(e,"hdlr")?n.boxes.push(Ma(e)):n.boxes.push(xa(e))}return n}F(),Et();var hf=function(t){function n(){var n=t.call(this,"mdat")||this;return n.data=new $c,n}return Gc(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(this.data)},n}(ia);function cf(t){var n=t.data,i=n.nextUint8Array(n.data.byteLength-n.cursor.offset),r=new hf;return r.data.pushRange(i),r}F(),Et();!function(t){function n(){return t.call(this,"minf")||this}Gc(n,t)}(Va);F(),Et();var af;!function(t){function n(n){var i=t.call(this,"meta",0,0)||this;return i.handler=n,i}Gc(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.handler.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.handler.serialize())}}(za);F(),Et(),F(),Et(),function(t){t.VIDEO="vide",t.AUXILIARY_VIDEO="auxv",t.AUDIO="soun",t.METADATA="meta",t.HINT="hint",t.TEXT="text",t.SUBTITLE="subt",t.FONT="fdsm"}(af||(af={})),F(),Et();var ff,vf,df={a:1,b:0,u:0,c:0,d:1,v:0,x:0,y:0,w:1};function lf(t,n){n.writer.writeUInt(ea(t.a,16),32),n.writer.writeUInt(ea(t.b,16),32),n.writer.writeUInt(ea(0,30),32),n.writer.writeUInt(ea(t.c,16),32),n.writer.writeUInt(ea(t.d,16),32),n.writer.writeUInt(ea(0,30),32),n.writer.writeUInt(ea(t.x,16),32),n.writer.writeUInt(ea(t.y,16),32),n.writer.writeUInt(ea(1,30),32)}function wf(t,n){var i,r,e,s;n.writer.writeUInt(null!==(i=t.isLeading)&&void 0!==i?i:ff.UNKNOWN,2),n.writer.writeUInt(null!==(r=t.sampleDependsOn)&&void 0!==r?r:vf.UNKNOWN,2),n.writer.writeUInt(null!==(e=t.sampleIsDependedOn)&&void 0!==e?e:vf.UNKNOWN,2),n.writer.writeUInt(null!==(s=t.sampleHasRedundancy)&&void 0!==s?s:vf.UNKNOWN,2)}function gf(t,n){var i,r,e;n.writer.writeUInt(0,4),wf(t,n),n.writer.writeUInt(null!==(i=t.samplePaddingValue)&&void 0!==i?i:0,3),n.writer.writeBool(null!==(r=t.sampleIsNonSyncSample)&&void 0!==r&&r),n.writer.writeUInt(null!==(e=t.sampleDegradationPriority)&&void 0!==e?e:0,16)}F(),Et(),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WITH_DEPENDENCY=1]="WITH_DEPENDENCY",t[t.NO=2]="NO",t[t.WITHOUT_DEPENDENCY=3]="WITHOUT_DEPENDENCY"}(ff||(ff={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.YES=1]="YES",t[t.NO=2]="NO",t[t.RESERVED=3]="RESERVED"}(vf||(vf={})),F(),Et(),F(),Et();var _f=function(){};F(),Et(),F(),Et(),F(),Et();var mf=function(t){function n(n,i,r){var e=t.call(this,"pssh",n,0)||this;return e.systemId=i,e.data=r,e}return Gc(n,t),k.defineProperty(n.prototype,"systemId",{get:function(){return this.zA},set:function(t){if(16!==t.length)throw new y("Provided systemId length is not 16.");this.zA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"data",{get:function(){return this.Wp},set:function(t){if(!ra(t.length,32))throw new y("Provided data length does not fit in 32 bits.");this.Wp=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+16+4+this.data.length},n.prototype.serializeVersionBoxContent=function(t){},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat($c.from(this.systemId)),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.data.length,32),n.concat($c.from(this.data))},n}(oa),yf=function(t){function n(n,i){return t.call(this,0,n,i)||this}return Gc(n,t),n}(mf),pf=function(t){function n(n,i,r){var e=t.call(this,1,n,i)||this;return e.kIds=r,e}return Gc(n,t),k.defineProperty(n.prototype,"kIds",{get:function(){return this.GA},set:function(t){if(!ra(t.length,32))throw new y("Provided kIds length cannot fit in 32 bits.");if(t.some(function(t){return 16!==t.length}))throw new y("Not all provided key ids are 16 bytes long.");this.GA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+16*this.kIds.length},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.kIds.length,32);for(var n=0,i=this.kIds;n<i.length;n++){var r=i[n];t.concat($c.from(r))}},n}(mf);function kf(t){var n=t.data.nextUint8();t.data.skip(3);var i=t.data.nextUint8Array(16),r=[];if(1===n)for(var e=t.data.nextUint32(),s=0;s<e;s++)r.push(t.data.nextUint8Array(16));var u=t.data.nextUint32(),o=t.data.nextUint8Array(u);return 1===n?new pf(i,o,r):new yf(i,o)}F(),Et(),F(),Et();var bf=function(t){function n(n,i,r){void 0===r&&(r=0);var e=t.call(this,"mehd",i,r)||this;return e.fragmentDuration=n,e}return Gc(n,t),k.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"fragmentDuration",{get:function(){return this.XA},set:function(t){if(!ra(t,this.bitSize))throw new y("The provided fragmentDuration does not fit in ".concat(this.bitSize," bits."));this.XA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(oa),Af=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return Gc(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration,32)},n}(bf),Tf=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return Gc(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration.getHighBitsUnsigned(),32),n.writer.writeUInt(this.fragmentDuration.getLowBitsUnsigned(),32)},n}(bf);function Sf(t){var n=t.data,i=Da(n.nextUint32()),r=i.version,e=i.flags;return 0===r?new Af(n.nextUint32(),e.raw):new Tf(n.nextUint64(),e.raw)}F(),Et();var Ef=function(t){function n(n,i,r,e){void 0===i&&(i={}),void 0===r&&(r=0),void 0===e&&(e=0);var s,u,o,h=this;return(h=t.call(this,"trex",r,e)||this).trackId=n,h.defaultSampleDescriptionIndex=null!==(s=null==i?void 0:i.sampleDescriptionIndex)&&void 0!==s?s:0,h.defaultSampleDuration=null!==(u=i.sampleDuration)&&void 0!==u?u:0,h.defaultSampleSize=null!==(o=i.sampleSize)&&void 0!==o?o:0,h.defaultSampleFlags=i.sampleFlags,h}return Gc(n,t),k.defineProperty(n.prototype,"trackId",{get:function(){return this.jA},set:function(t){if(!ra(t,32))throw new y("Provided track id does not fit in 32 bits.");this.jA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.QA},set:function(t){if(!ra(t,32))throw new y("Provided default sample description index does not fit in 32 bits.");this.QA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.KA},set:function(t){if(!ra(t,32))throw new y("Provided default sample duration does not fit in 32 bits.");this.KA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.YA},set:function(t){if(!ra(t,32))throw new y("Provided default sample size does not fit in 32 bits.");this.YA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.JA},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!ra(t.samplePaddingValue,3))throw new y("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!ra(t.sampleDegradationPriority,16))throw new y("Provided sample degradation priority does not fit in 16 bits.");this.JA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+20},n.prototype.serializeBoxContent=function(n){var i;t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),n.writer.writeUInt(this.defaultSampleDescriptionIndex,32),n.writer.writeUInt(this.defaultSampleDuration,32),n.writer.writeUInt(this.defaultSampleSize,32),gf(null!==(i=this.defaultSampleFlags)&&void 0!==i?i:{},n)},n}(oa);function If(t){var n=t.data,i=Da(n.nextUint32()),r=i.version,e=i.flags,s=n.nextUint32(),u=n.nextUint32(),o=n.nextUint32(),h=n.nextUint32(),c=Na(new Jc($c.from(n.nextUint8Array(4))));return new Ef(s,{sampleDescriptionIndex:u,sampleDuration:o,sampleSize:h,sampleFlags:c},r,e.raw)}var Rf=function(t){function n(){return t.call(this,"mvex")||this}return Gc(n,t),n}(Va);function Cf(t){for(var n=new Rf,i=0,r=Ra(t.data);i<r.length;i++){var e=r[i];Ia(e,"mehd")?n.boxes.push(Sf(e)):Ia(e,"trex")?n.boxes.push(If(e)):n.boxes.push(xa(e))}return n}F(),Et();var Df=function(t){function n(i,r,e,s,u){void 0===u&&(u=0);var o,h,c,a=this;return(a=t.call(this,"mvhd",s,u)||this).creationTime=i.creation,a.modificationTime=i.modification,a.timescale=i.scale,a.duration=i.duration,a.rate=null!==(o=e.rate)&&void 0!==o?o:n.DEFAULT_RATE,a.volume=null!==(h=e.volume)&&void 0!==h?h:n.DEFAULT_VOLUME,a.matrix=null!==(c=e.matrix)&&void 0!==c?c:df,a.ZA=r,a}return Gc(n,t),k.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"creationTime",{get:function(){return this.UA},set:function(t){if(!ra(t,this.bitSize))throw new y("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.UA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"modificationTime",{get:function(){return this.VA},set:function(t){if(!ra(t,this.bitSize))throw new y("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.VA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"timescale",{get:function(){return this.HA},set:function(t){if(!ra(t,32))throw new y("Provided sequence number does not fit in 32 bits.");this.HA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"duration",{get:function(){return this.WA},set:function(t){if(!ra(t,this.bitSize))throw new y("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.WA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"rate",{get:function(){return this.$A},set:function(t){if(!ra(ea(t,16),32))throw new y("Provided rate does not fit in 32 bits (fixed 16.16).");this.$A=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"volume",{get:function(){return this.ib},set:function(t){if(!ra(ea(t,8),16))throw new y("Provided volume does not fit in 16 bits (fixed 8.8).");this.ib=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"matrix",{get:function(){return this.eb},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new y("(u, v, w) does not match the required (0, 0, 1)");this.eb=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"nextTrackId",{get:function(){return this.ZA},set:function(t){if(0===t)throw new y("NextTrackId cannot be 0.");if(!ra(t,32))throw new y("NextTrackId cannot exceed 32 bits.");this.ZA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+2+2+8+36+24+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMvhdContent(n),n.writer.writeUInt(ea(this.rate,16),32),n.writer.writeUInt(ea(this.volume,8),16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),lf(this.matrix,n);for(var i=0;i<6;i++)n.writer.writeUInt(0,32);n.writer.writeUInt(this.nextTrackId,32)},n.DEFAULT_RATE=1,n.DEFAULT_VOLUME=1,n}(oa),Pf=function(t){function n(n,i,r,e){return void 0===r&&(r={}),void 0===e&&(e=0),t.call(this,n,i,r,0,e)||this}return Gc(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(Df),Nf=function(t){function n(n,i,r,e){return void 0===r&&(r={}),void 0===e&&(e=0),t.call(this,n,i,r,1,e)||this}return Gc(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Df);function Bf(t){var n=t.data,i=Da(n.nextUint32()),r=i.version,e=i.flags,s=Pa(n,r),u=ua(n.nextUint32(),16),o=ua(n.nextUint16(),8);n.skip(2),n.skip(8);var h=Ba(n);n.skip(24);var c=n.nextUint32();return 0===r?new Pf(s,c,{rate:u,volume:o,matrix:h},e.raw):new Nf(s,c,{rate:u,volume:o,matrix:h},e.raw)}F(),Et(),F(),Et();var xf=function(t){function n(n,i,r,e,s,u,o){void 0===o&&(o={});var h,c,a,f=this;return f=t.call(this,"tkhd",n,function(t){var n,i,r,e;return{trackEnabled:null===(n=null==t?void 0:t.trackEnabled)||void 0===n||n,trackInMovie:null===(i=null==t?void 0:t.trackInMovie)||void 0===i||i,trackInPreview:null===(r=null==t?void 0:t.trackInPreview)||void 0===r||r,trackSizeIsAspectRatio:null!==(e=null==t?void 0:t.trackSizeIsAspectRatio)&&void 0!==e&&e}}(o))||this,f.creationTime=i.creation,f.modificationTime=i.modification,f.trackId=r,f.duration=i.duration,f.volume=e,f.width=s,f.height=u,f.layer=null!==(h=o.layer)&&void 0!==h?h:0,f.alternateGroup=null!==(c=o.alternateGroup)&&void 0!==c?c:0,f.matrix=null!==(a=o.matrix)&&void 0!==a?a:df,f}return Gc(n,t),k.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"creationTime",{get:function(){return this.UA},set:function(t){if(!ra(t,this.bitSize))throw new y("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.UA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"modificationTime",{get:function(){return this.VA},set:function(t){if(!ra(t,this.bitSize))throw new y("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.VA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"trackId",{get:function(){return this.jA},set:function(t){if(0===t)throw new y("trackId cannot be 0.");if(!ra(t,32))throw new y("trackId cannot exceed 32 bits.");this.jA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"duration",{get:function(){return this.WA},set:function(t){if(!ra(t,this.bitSize))throw new y("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.WA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"volume",{get:function(){return this.ib},set:function(t){if(!ra(ea(t,8),16))throw new y("Provided volume does not fit in 16 bits (fixed 8.8).");this.ib=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"width",{get:function(){return this.sb},set:function(t){if(!ra(ea(t,16),32))throw new y("Provided width does not fit in 32 bits (fixed 16.16).");this.sb=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"height",{get:function(){return this.hb},set:function(t){if(!ra(ea(t,16),32))throw new y("Provided height does not fit in 32 bits (fixed 16.16).");this.hb=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"layer",{get:function(){return this.ob},set:function(t){if(!ra(t,16))throw new y("Provided layer does not fit in 16 bits.");this.ob=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"alternateGroup",{get:function(){return this.ub},set:function(t){if(!ra(t,16))throw new y("Provided alternateGroup does not fit in 16 bits.");this.ub=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"matrix",{get:function(){return this.eb},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new y("(u, v, w) does not match the required (0, 0, 1)");this.eb=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+8+2+2+2+2+36+4+4},n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,20),t.writer.writeBool(this.flags.trackSizeIsAspectRatio),t.writer.writeBool(this.flags.trackInPreview),t.writer.writeBool(this.flags.trackInMovie),t.writer.writeBool(this.flags.trackEnabled)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeTkhdContent(n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.layer,16),n.writer.writeUInt(this.alternateGroup,16),n.writer.writeUInt(ea(this.volume,8),16),n.writer.writeUInt(0,16),lf(this.matrix,n),n.writer.writeUInt(ea(this.width,16),32),n.writer.writeUInt(ea(this.height,16),32)},n}(oa),Of=function(t){function n(n,i,r,e,s,u){return t.call(this,0,n,i,r,e,s,u)||this}return Gc(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration,32)},n}(xf),Mf=function(t){function n(n,i,r,e,s,u){return t.call(this,1,n,i,r,e,s,u)||this}return Gc(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(xf);function Lf(t){var n,i,r,e,s=t.data,u=Da(s.nextUint32()),o=u.version,h=u.flags,c=h.isSet(8),a=h.isSet(4),f=h.isSet(2),v=h.isSet(1);0===o?(n=s.nextUint32(),i=s.nextUint32(),r=s.nextUint32(),s.skip(4),e=s.nextUint32()):(n=s.nextUint64(),i=s.nextUint64(),r=s.nextUint32(),s.skip(4),e=s.nextUint64()),s.skip(8);var d=s.nextInt16(),l=s.nextInt16(),w=ua(s.nextInt16(),8);s.skip(2);var g=Ba(s),_=ua(s.nextUint32(),16),m=ua(s.nextUint32(),16);return 0===o?new Of({creation:n,modification:i,duration:e},r,w,_,m,{layer:d,matrix:g,alternateGroup:l,trackSizeIsAspectRatio:c,trackEnabled:v,trackInPreview:a,trackInMovie:f}):new Mf({creation:n,modification:i,duration:e},r,w,_,m,{layer:d,matrix:g,alternateGroup:l,trackSizeIsAspectRatio:c,trackEnabled:v,trackInPreview:a,trackInMovie:f})}var Uf=function(t){function n(){return t.call(this,"trak")||this}return Gc(n,t),n}(Va);function Ff(t){for(var n=new Uf,i=0,r=Ra(t.data);i<r.length;i++){var e=r[i];Ia(e,"tkhd")?n.boxes.push(Lf(e)):Ia(e,"mdia")?n.boxes.push(of(e)):Ia(e,"edts")?n.boxes.push(Ya(e)):n.boxes.push(xa(e))}return n}var Vf=function(t){function n(){return t.call(this,"moov")||this}return Gc(n,t),n}(Va);function Hf(t){for(var n=new Vf,i=0,r=Ra(t.data);i<r.length;i++){var e=r[i];Ia(e,"mvhd")?n.boxes.push(Bf(e)):Ia(e,"trak")?n.boxes.push(Ff(e)):Ia(e,"mvex")?n.boxes.push(Cf(e)):Ia(e,"pssh")?n.boxes.push(kf(e)):n.boxes.push(xa(e))}return n}F(),Et(),F(),Et(),F(),Et();var Wf=function(t){function n(n,i,r){void 0===r&&(r=0);var e=t.call(this,"tfdt",i,r)||this;return e.baseMediaDecodeTime=n,e}return Gc(n,t),k.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"baseMediaDecodeTime",{get:function(){return this.fb},set:function(t){if(!ra(t,this.bitSize))throw new y("Provided baseMediaDecodeTime does not fit in ".concat(this.bitSize," bits."));this.fb=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(oa),zf=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return Gc(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime,32)},n}(Wf),Xf=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return Gc(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseMediaDecodeTime.getLowBitsUnsigned(),32)},n}(Wf);function qf(t){var n=t.data,i=Da(n.nextUint32()),r=i.version,e=i.flags;return 0===r?new zf(n.nextUint32(),e.raw):new Xf(n.nextUint64(),e.raw)}F(),Et();var Gf=function(t){function n(n,i){void 0===i&&(i=0);var r=t.call(this,"tfhd",i,function(t){return{baseDataOffsetPresent:void 0!==t.baseDataOffset,sampleDescriptionIndexPresent:void 0!==t.sampleDescriptionIndex,defaultSampleDurationPresent:void 0!==t.defaultSampleDuration,defaultSampleSizePresent:void 0!==t.defaultSampleSize,defaultSampleFlagsPresent:void 0!==t.defaultSampleFlags,durationIsEmpty:t.durationIsEmpty,defaultBaseIsMoof:t.defaultBaseIsMoof}}(n))||this;return r.trackId=n.trackId,r.baseDataOffset=n.baseDataOffset,r.sampleDescriptionIndex=n.sampleDescriptionIndex,r.defaultSampleDuration=n.defaultSampleDuration,r.defaultSampleSize=n.defaultSampleSize,r.defaultSampleFlags=n.defaultSampleFlags,r}return Gc(n,t),k.defineProperty(n.prototype,"trackId",{get:function(){return this.jA},set:function(t){if(!ra(t,32))throw new y("Provided track id does not fit in 32 bits.");this.jA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"baseDataOffset",{get:function(){return this._b},set:function(t){if(void 0===t&&this.flags.baseDataOffsetPresent)throw new y("The base data offset present flag is set.");if(void 0!==t&&!this.flags.baseDataOffsetPresent)throw new y("The base data offset present flag is not set.");if(t&&!ra(t,64))throw new y("Provided baseDataOffset does not fit in 32 bits.");this._b=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"sampleDescriptionIndex",{get:function(){return this.gb},set:function(t){if(void 0===t&&this.flags.sampleDescriptionIndexPresent)throw new y("The sample description index flag is set.");if(void 0!==t&&!this.flags.sampleDescriptionIndexPresent)throw new y("The sample description index flag is not set.");if(t&&!ra(t,32))throw new y("Provided sampleDescriptionIndex does not fit in 32 bits.");this.gb=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.KA},set:function(t){if(void 0===t&&this.flags.defaultSampleDurationPresent)throw new y("The default sample duration present flag is set.");if(void 0!==t&&!this.flags.defaultSampleDurationPresent)throw new y("The default sample duration present flag is not set.");if(t&&!ra(t,32))throw new y("Provided defaultSampleDuration does not fit in 32 bits.");this.KA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.YA},set:function(t){if(void 0===t&&this.flags.defaultSampleSizePresent)throw new y("The default sample size present flag is set.");if(void 0!==t&&!this.flags.defaultSampleSizePresent)throw new y("The default sample size present flag is not set.");if(t&&!ra(t,32))throw new y("Provided defaultSampleSize does not fit in 32 bits.");this.YA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.JA},set:function(t){if(void 0===t&&this.flags.defaultSampleFlagsPresent)throw new y("The default sample flags present flag is set.");if(void 0!==t&&!this.flags.defaultSampleFlagsPresent)throw new y("The default sample flags present flag is not set.");if((null==t?void 0:t.samplePaddingValue)&&!ra(t.samplePaddingValue,3))throw new y("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!ra(t.sampleDegradationPriority,16))throw new y("Provided sample degradation priority does not fit in 16 bits.");this.JA=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,6),t.writer.writeBool(this.flags.defaultBaseIsMoof),t.writer.writeBool(this.flags.durationIsEmpty),t.writer.writeByte(0),t.writer.writeUInt(0,2),t.writer.writeBool(this.flags.defaultSampleFlagsPresent),t.writer.writeBool(this.flags.defaultSampleSizePresent),t.writer.writeBool(this.flags.defaultSampleDurationPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.sampleDescriptionIndexPresent),t.writer.writeBool(this.flags.baseDataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.baseDataOffsetPresent&&(n+=8),this.flags.sampleDescriptionIndexPresent&&(n+=4),this.flags.defaultSampleDurationPresent&&(n+=4),this.flags.defaultSampleSizePresent&&(n+=4),this.flags.defaultSampleFlagsPresent&&(n+=4),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),this.flags.baseDataOffsetPresent&&(n.writer.writeUInt(this.baseDataOffset.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseDataOffset.getLowBitsUnsigned(),32)),this.flags.sampleDescriptionIndexPresent&&n.writer.writeUInt(this.sampleDescriptionIndex,32),this.flags.defaultSampleDurationPresent&&n.writer.writeUInt(this.defaultSampleDuration,32),this.flags.defaultSampleSizePresent&&n.writer.writeUInt(this.defaultSampleSize,32),this.flags.defaultSampleFlagsPresent&&gf(this.defaultSampleFlags,n)},n}(oa);function jf(t){var n=t.data,i=n.nextUint8(),r=new Jc($c.from(n.nextUint8Array(3)));r.skipBits(6);var e=Boolean(r.readBit()),s=Boolean(r.readBit());r.skipBits(10);var u=Boolean(r.readBit()),o=Boolean(r.readBit()),h=Boolean(r.readBit());r.skipBits(1);var c=Boolean(r.readBit()),a=Boolean(r.readBit()),f=n.nextUint32(),v=a?n.nextUint64():void 0,d=c?n.nextUint32():void 0,l=h?n.nextUint32():void 0,w=o?n.nextUint32():void 0,g=u?Na(new Jc($c.from(n.nextUint8Array(4)))):void 0;return new Gf({trackId:f,defaultBaseIsMoof:e,durationIsEmpty:s,baseDataOffset:v,sampleDescriptionIndex:d,defaultSampleDuration:l,defaultSampleSize:w,defaultSampleFlags:g},i)}F(),Et();var Qf=function(t){function n(n,i,r){var e=t.call(this,"trun",n,function(t){var n,i,r,e;return{dataOffsetPresent:void 0!==t.dataOffset,firstSampleFlagsPresent:void 0!==t.firstSampleFlags,sampleDurationPresent:null!==(n=t.sampleDurationPresent)&&void 0!==n&&n,sampleSizePresent:null!==(i=t.sampleSizePresent)&&void 0!==i&&i,sampleFlagsPresent:null!==(r=t.sampleFlagsPresent)&&void 0!==r&&r,sampleCompositionTimeOffsetsPresent:null!==(e=t.sampleCompositionTimeOffsetsPresent)&&void 0!==e&&e}}(i))||this;return e.dataOffset=i.dataOffset,e.samples=r,e.firstSampleFlags=i.firstSampleFlags,e}return Gc(n,t),k.defineProperty(n.prototype,"dataOffset",{get:function(){return this.pb},set:function(t){if(t&&!ra(t,32))throw new y("Provided data offset does not fit in 32 bits.");this.pb=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"firstSampleFlags",{get:function(){return this.mb},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!ra(t.samplePaddingValue,3))throw new y("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!ra(t.sampleDegradationPriority,16))throw new y("Provided sample degradation priority does not fit in 16 bits.");this.mb=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"samples",{get:function(){return this.wb},set:function(t){var n,i;if(!ra(t.length,32))throw new y("The sample count cannot be represented in 32 bits.");for(var r=0,e=t;r<e.length;r++){var s=e[r];if(void 0===s.duration&&this.flags.sampleDurationPresent)throw new y("The sample duration present flag is set.");if(void 0!==s.duration&&!this.flags.sampleDurationPresent)throw new y("The sample duration present flag is not set.");if(s.duration&&!ra(s.duration,32))throw new y("Provided sample duration does not fit in 32 bits.");if(void 0===s.size&&this.flags.sampleSizePresent)throw new y("The sample size present flag is set.");if(void 0!==s.size&&!this.flags.sampleSizePresent)throw new y("The sample size present flag is not set.");if(s.size&&!ra(s.size,32))throw new y("Provided sample size does not fit in 32 bits.");if(void 0===s.flags&&this.flags.sampleFlagsPresent)throw new y("The sample flags present flag is set.");if(void 0!==s.flags&&!this.flags.sampleFlagsPresent)throw new y("The sample flags present flag is not set.");if((null===(n=s.flags)||void 0===n?void 0:n.samplePaddingValue)&&!ra(s.flags.samplePaddingValue,3))throw new y("Provided sample padding value does not fit in 3 bits.");if((null===(i=s.flags)||void 0===i?void 0:i.sampleDegradationPriority)&&!ra(s.flags.sampleDegradationPriority,16))throw new y("Provided sample degradation priority does not fit in 16 bits.");if(void 0===s.compositionTimeOffset&&this.flags.sampleCompositionTimeOffsetsPresent)throw new y("The sample compositionTimeOffset present flag is set.");if(void 0!==s.compositionTimeOffset&&!this.flags.sampleCompositionTimeOffsetsPresent)throw new y("The sample compositionTimeOffset present flag is not set.");if(s.compositionTimeOffset&&!ra(s.compositionTimeOffset,32))throw new y("Provided sample compositionTimeOffset does not fit in 32 bits.")}this.wb=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeByte(0),t.writer.writeUInt(0,4),t.writer.writeBool(this.flags.sampleCompositionTimeOffsetsPresent),t.writer.writeBool(this.flags.sampleFlagsPresent),t.writer.writeBool(this.flags.sampleSizePresent),t.writer.writeBool(this.flags.sampleDurationPresent),t.writer.writeUInt(0,5),t.writer.writeBool(this.flags.firstSampleFlagsPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.dataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.dataOffsetPresent&&(n+=4),this.flags.firstSampleFlagsPresent&&(n+=4),this.flags.sampleDurationPresent&&(n+=4*this.samples.length),this.flags.sampleSizePresent&&(n+=4*this.samples.length),this.flags.sampleFlagsPresent&&(n+=4*this.samples.length),this.flags.sampleCompositionTimeOffsetsPresent&&(n+=4*this.samples.length),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32),this.flags.dataOffsetPresent&&n.writer.writeUInt(this.dataOffset,32),this.flags.firstSampleFlagsPresent&&gf(this.firstSampleFlags,n);for(var i=0,r=this.samples;i<r.length;i++){var e=r[i];this.flags.sampleDurationPresent&&n.writer.writeUInt(e.duration,32),this.flags.sampleSizePresent&&n.writer.writeUInt(e.size,32),this.flags.sampleFlagsPresent&&gf(e.flags,n),this.flags.sampleCompositionTimeOffsetsPresent&&(0===this.version?n.writer.writeUInt(e.compositionTimeOffset,32):n.writer.writeInt(e.compositionTimeOffset,32))}},n}(oa);function Yf(t){var n=t.data,i=n.nextUint8(),r=new Jc($c.from(n.nextUint8Array(3)));r.skipBits(12);var e=Boolean(r.readBit()),s=Boolean(r.readBit()),u=Boolean(r.readBit()),o=Boolean(r.readBit());r.skipBits(5);var h=Boolean(r.readBit());r.skipBits(1);var c=Boolean(r.readBit()),a=n.nextUint32(),f={sampleDurationPresent:o,sampleSizePresent:u,sampleFlagsPresent:s,sampleCompositionTimeOffsetsPresent:e};c&&(f.dataOffset=n.nextInt32()),h&&(f.firstSampleFlags=Na(new Jc($c.from(n.nextUint8Array(4)))));for(var v=[],d=0;d<a;d++){var l={};o&&(l.duration=n.nextUint32()),u&&(l.size=n.nextUint32()),s&&(l.flags=Na(new Jc($c.from(n.nextUint8Array(4))))),e&&(l.compositionTimeOffset=0===i?n.nextUint32():n.nextInt32()),v.push(l)}return new Qf(i,f,v)}var Kf=function(t){function n(){return t.call(this,"traf")||this}return Gc(n,t),n}(Va);function Jf(t){for(var n=new Kf,i=0,r=Ra(t.data);i<r.length;i++){var e=r[i];Ia(e,"tfhd")?n.boxes.push(jf(e)):Ia(e,"tfdt")?n.boxes.push(qf(e)):Ia(e,"trun")?n.boxes.push(Yf(e)):n.boxes.push(xa(e))}return n}var Zf=function(t){function n(){return t.call(this,"moof")||this}return Gc(n,t),n}(Va);function $f(t){for(var n=new Zf,i=0,r=Ra(t.data);i<r.length;i++){var e=r[i];Ia(e,"traf")?n.boxes.push(Jf(e)):Ia(e,"pssh")?n.boxes.push(kf(e)):n.boxes.push(xa(e))}return n}F(),Et();!function(t){function n(n){var i=t.call(this,"mfhd",0,0)||this;return i.sequenceNumber=n,i}Gc(n,t),k.defineProperty(n.prototype,"sequenceNumber",{get:function(){return this.yb},set:function(t){if(!ra(t,32))throw new y("Provided sequence number does not fit in 32 bits.");this.yb=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.sequenceNumber,32)}}(oa);F(),Et();var nv=function(t){function n(n){var i=t.call(this,"frma")||this;return i.codingName=n,i}return Gc(n,t),k.defineProperty(n.prototype,"codingName",{get:function(){return this.Ab},set:function(t){if(4!==t.length)throw new y("Provided coding name was not 4 characters long.");this.Ab=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.codingName)},n}(ia);F(),Et();!function(t){function n(n,i){var r=t.call(this,"pasp")||this;return r.hSpacing=n,r.vSpacing=i,r}Gc(n,t),k.defineProperty(n.prototype,"hSpacing",{get:function(){return this.bb},set:function(t){if(!ra(t,32))throw new y("Provided hSpacing does not fit in 32 bits.");this.bb=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"vSpacing",{get:function(){return this.Sb},set:function(t){if(!ra(t,32))throw new y("Provided vSpacing does not fit in 32 bits.");this.Sb=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.hSpacing,32),t.writer.writeUInt(this.vSpacing,32)}}(ia);F(),Et();!function(t){function n(n,i,r){var e=t.call(this,n)||this;return e.sample=i,e.sinf=r,e}Gc(n,t),n.prototype.getBoxContentSize=function(){return this.sample.getBoxContentSize()+this.sinf.getSize()},n.prototype.serializeBoxContent=function(t){this.sample.serializeBoxContent(t),t.concat(this.sinf.serialize())}}(Va);F(),Et();!function(t){function n(n,i,r){var e=t.call(this,"sinf")||this;return e.schm=i,e.schi=r,e.frma=new nv(n),e}Gc(n,t),n.prototype.getBoxContentSize=function(){var t,n,i,r;return this.frma.getSize()+(null!==(n=null===(t=this.schm)||void 0===t?void 0:t.getSize())&&void 0!==n?n:0)+(null!==(r=null===(i=this.schi)||void 0===i?void 0:i.getSize())&&void 0!==r?r:0)},n.prototype.serializeBoxContent=function(t){t.concat(this.frma.serialize()),this.schm&&t.concat(this.schm.serialize()),this.schi&&t.concat(this.schi.serialize())}}(ia);F(),Et();var iv=function(t){function n(n,i,r){var e=t.call(this,"saio",n,void 0===r?0:1)||this;return e.entries=i,e.explicitAuxInfoType=r,e}return Gc(n,t),k.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"entries",{get:function(){return this.EA},set:function(t){var n=this;if(!ra(t.length,32))throw new y("Number of entries provided does not fit in 32 bits.");if(t.some(function(t){return!ra(t,n.bitSize)}))throw new y("Not all provided entries fit in ".concat(this.bitSize," bits."));this.EA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.Tb},set:function(t){if(void 0===t)this.flags=0;else{if(!ra(t.auxInfoType,32))throw new y("Provided auxInfoType does not fit in 32 bits.");if(!ra(t.auxInfoTypeParameter,32))throw new y("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.Tb=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+4+this.entries.length*this.bitSize/8},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeUInt(this.entries.length,32),this.serializeSaioContent(n)},n}(oa);(function(t){function n(){return null!==t&&t.apply(this,arguments)||this}Gc(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var r=i[n];t.writer.writeUInt(r,32)}}})(iv),function(t){function n(){return null!==t&&t.apply(this,arguments)||this}Gc(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var r=i[n];t.writer.writeUInt(r.getHighBitsUnsigned(),32),t.writer.writeUInt(r.getLowBitsUnsigned(),32)}}}(iv);F(),Et();!function(t){function n(n,i,r){var e=t.call(this,"saiz",0,void 0===r?0:1)||this;return e.defaultSampleInfoSize=n,e.sampleInfoSizes=i,e.explicitAuxInfoType=r,e}Gc(n,t),k.defineProperty(n.prototype,"defaultSampleInfoSize",{get:function(){return this.kb},set:function(t){if(!ra(t,8))throw new y("Provided defaultSampleInfoSize does not fit in a single byte.");this.kb=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"sampleInfoSizes",{get:function(){return this.Eb},set:function(t){if(!ra(t.length,32))throw new y("Number of sampleInfoSizes provided does not fit in 32 bits.");if(t.some(function(t){return!ra(t,8)}))throw new y("Not all provided sampleInfoSizes fit in a byte.");this.Eb=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.Tb},set:function(t){if(void 0===t)this.flags=0;else{if(!ra(t.auxInfoType,32))throw new y("Provided auxInfoType does not fit in 32 bits.");if(!ra(t.auxInfoTypeParameter,32))throw new y("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.Tb=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+1+4+(0!==this.defaultSampleInfoSize?0:this.sampleInfoSizes.length)},n.prototype.serializeBoxContent=function(n){if(0!==this.defaultSampleInfoSize&&this.sampleInfoSizes.length>0)throw new y("Both a default size and specific sizes are provided.  This is prohibited.");t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeByte(this.defaultSampleInfoSize),n.writer.writeUInt(this.sampleInfoSizes.length,32);for(var i=0,r=this.sampleInfoSizes;i<r.length;i++){var e=r[i];n.writer.writeByte(e)}}}(oa);F(),Et();!function(t){function n(n){var i=t.call(this,"sdtp",0,0)||this;return i.samples=n,i}Gc(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.samples.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n);for(var i=0,r=this.samples;i<r.length;i++){wf(r[i],n)}}}(oa);F(),Et();!function(t){function n(n){return t.call(this,"stsd",n,0)||this}Gc(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(za);F(),Et();var rv=function(t){function n(n,i,r){var e=t.call(this,"sgpd",n,0)||this;return e.entries=r,e.groupingType=i,e}return Gc(n,t),k.defineProperty(n.prototype,"groupingType",{get:function(){return this.Pb},set:function(t){if(4!==t.length)throw new y("The provided groupingType does not equal 4 characters.");this.Pb=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.groupingType),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];this.serializeEntryBoxContent(n,e)}},n.prototype.serializeEntryBoxContent=function(t,n){n.serializeBoxContent(t)},n}(oa);(function(t){function n(n,i){return t.call(this,0,n,i)||this}Gc(n,t),n.prototype.serializeVersionBoxContent=function(t){}})(rv),function(t){function n(n,i,r){var e=t.call(this,1,n,r)||this;return e.defaultLength=i,e}Gc(n,t),k.defineProperty(n.prototype,"defaultLength",{get:function(){return this.xb},set:function(t){if(!ra(t,32))throw new y("The provided defaultLength does not fit in 32 bits.");this.xb=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(this.defaultLength||4)},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultLength,32)},n.prototype.serializeEntryBoxContent=function(t,n){0===this.defaultLength&&t.writer.writeUInt(n.getBoxContentSize(),32),n.serializeBoxContent(t)}}(rv),function(t){function n(n,i,r,e){void 0===e&&(e=0);var s=this;if(n<2)throw new y("This constructor is only meant for versions 2 and up.");return(s=t.call(this,n,i,r)||this).defaultSampleDescriptionIndex=e,s}Gc(n,t),k.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.QA},set:function(t){if(!ra(t,32))throw new y("The provided defaultSampleDescriptionIndex does not fit in 32 bits.");this.QA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultSampleDescriptionIndex,32)}}(rv);F(),Et();(function(t){function n(n){void 0===n&&(n=[]);var i=t.call(this,"stsz",0,0)||this;return i.sampleSizes=n,i}Gc(n,t),k.defineProperty(n.prototype,"sampleSizes",{get:function(){return this.Ib},set:function(t){if(!ra(t.length,32))throw new y("Number of allowed samples cannot fit in 32 bits.");if(t.some(function(t){return!ra(t,32)}))throw new y("Not all sampleSizes can be represented in 32 bits.");this.Ib=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+4*this.sampleSizes.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(this.sampleSizes.length,32);for(var i=0,r=this.sampleSizes;i<r.length;i++){var e=r[i];n.writer.writeUInt(e,32)}}})(oa),function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=0);var r=t.call(this,"stsz",0,0)||this;return r.defaultSampleSize=n,r.samples=i,r}Gc(n,t),k.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.YA},set:function(t){if(!ra(t,32))throw new y("Provided defaultSampleSize does not fit in 32 bits.");this.YA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"samples",{get:function(){return this.wb},set:function(t){if(!ra(t,32))throw new y("Number of allowed samples cannot fit in 32 bits.");this.wb=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.defaultSampleSize,32),n.writer.writeUInt(this.samples,32)}}(oa);F(),Et();!function(t){function n(){return t.call(this,"stbl")||this}Gc(n,t)}(Va);F(),Et();!function(t){function n(n){var i=t.call(this,"stsc",0,0)||this;return i.entries=n,i}Gc(n,t),k.defineProperty(n.prototype,"entries",{get:function(){return this.EA},set:function(t){if(!ra(t.length,32))throw new y("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!ra(t.firstChunk,32)||!ra(t.sampleDescriptionIndex,32)||!ra(t.samplesPerChunk,32)}))throw new y("Not all entries can be represented in 96 bits.");this.EA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+12*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];n.writer.writeUInt(e.firstChunk,32),n.writer.writeUInt(e.samplesPerChunk,32),n.writer.writeUInt(e.sampleDescriptionIndex,32)}}}(oa);F(),Et();!function(t){function n(){return t.call(this,"schi")||this}Gc(n,t)}(Va);F(),Et();!function(t){function n(n,i,r){var e=t.call(this,"schm",0,void 0===r?0:1)||this;return e.schemeType=n,e.schemeVersion=i,e.schemeUri=r,e}Gc(n,t),k.defineProperty(n.prototype,"schemeType",{get:function(){return this.Rb},set:function(t){if(4!==t.length)throw new y("The provided schemeType does not have a length of 4.");this.Rb=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"schemeVersion",{get:function(){return this.Cb},set:function(t){if(!ra(t,32))throw new y("The provided schemeVersion does not fit in 23 bits.");this.Cb=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"schemeUri",{get:function(){return this.Db},set:function(t){if(t&&4!==t.length)throw new y("The provided schemeUri does not have a length of 4.");this.flags=void 0===t?0:1,this.Db=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+(void 0===this.schemeUri?0:this.schemeUri.length+1)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeType),n.writer.writeUInt(this.schemeVersion,32),this.schemeUri&&(n.writer.writeString(this.schemeUri),n.writer.writeByte(0))}}(oa);F(),Et();var ev=function(t){function n(n,i,r,e,s,u,o){void 0===o&&(o=0);var h=t.call(this,"sidx",n,o)||this;return h.referenceId=i,h.timescale=r,h.earliestPresentationTime=e,h.firstOffset=s,h.references=u,h}return Gc(n,t),k.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"referenceId",{get:function(){return this.Bb},set:function(t){if(!ra(t,32))throw new y("Provided referenceId does not fit in 32 bits.");this.Bb=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"timescale",{get:function(){return this.HA},set:function(t){if(!ra(t,32))throw new y("Provided timescale does not fit in 32 bits.");this.HA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"earliestPresentationTime",{get:function(){return this.Nb},set:function(t){if(!ra(t,this.bitSize))throw new y("Provided earliestPresentationTime does not fit in ".concat(this.bitSize," bits."));this.Nb=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"firstOffset",{get:function(){return this.Mb},set:function(t){if(!ra(t,this.bitSize))throw new y("Provided timescale does not fit in ".concat(this.bitSize," bits."));this.Mb=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"references",{get:function(){return this.Lb},set:function(t){if(!ra(t.length,16))throw new y("The number of provided reference items does not fit in 16 bits.");for(var n=0,i=t;n<i.length;n++){var r=i[n];if(!ra(r.referencedSize,31))throw new y("Provided referenced size does not fit in 31 bits.");if(!ra(r.subsegmentDuration,32))throw new y("Provided subsegment duration does not fit in 31 bits.");if(!ra(r.sapType,3))throw new y("Provided SAP type does not fit in 3 bits.");if(!ra(r.sapDeltaTime,28))throw new y("Provided SAP delta time does not fit in 28 bits.")}this.Lb=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+this.bitSize/8*2+2+2+12*this.references.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.referenceId,32),n.writer.writeUInt(this.timescale,32),this.serializeSidxBoxContent(n),n.writer.writeUInt(0,16),n.writer.writeUInt(this.references.length,16);for(var i=0,r=this.references;i<r.length;i++){var e=r[i];n.writer.writeBit(e.referenceType),n.writer.writeUInt(e.referencedSize,31),n.writer.writeUInt(e.subsegmentDuration,32),n.writer.writeBool(e.startsWithSap),n.writer.writeUInt(e.sapType,3),n.writer.writeUInt(e.sapDeltaTime,28)}},n}(oa),sv=function(t){function n(n,i,r,e,s,u){return void 0===u&&(u=0),t.call(this,0,n,i,r,e,s,u)||this}return Gc(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime,32),t.writer.writeUInt(this.firstOffset,32)},n}(ev),uv=function(t){function n(n,i,r,e,s,u){return void 0===u&&(u=0),t.call(this,1,n,i,r,e,s,u)||this}return Gc(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.earliestPresentationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getHighBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getLowBitsUnsigned(),32)},n}(ev);F(),Et();var ov=function(t){function n(n,i,r){return t.call(this,"styp",n,i,r)||this}return Gc(n,t),n}(Ka);function hv(t){for(var n=t.data,i=n.nextChars(4),r=n.nextUint32(),e=[];n.cursor.offset<n.data.byteLength;)e.push(n.nextChars(4));return new ov(i,r,e)}F(),Et();!function(t){function n(n){void 0===n&&(n=0);var i=t.call(this,"smhd",0,0)||this;return i.balance=n,i}Gc(n,t),k.defineProperty(n.prototype,"balance",{get:function(){return this.Ob},set:function(t){if(t<-1||t>1)throw new y("Provided balance does not fit in the allowed range [-1, 1].");if(!ra(ea(t,8),16))throw new y("Provided balance does not fit in 16 bits (fixed 8.8).");this.Ob=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(ea(this.balance,8),16),n.writer.writeUInt(0,16)}}(oa);F(),Et();!function(t){function n(n){var i=t.call(this,"stss",0,0)||this;return i.entries=n,i}Gc(n,t),k.defineProperty(n.prototype,"entries",{get:function(){return this.EA},set:function(t){if(!ra(t.length,32))throw new y("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!ra(t,32)}))throw new y("Not all entries can be represented in 32 bits.");this.EA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];n.writer.writeUInt(e,32)}}}(oa);F(),Et();!function(t){function n(n){var i=t.call(this,"stts",0,0)||this;return i.entries=n,i}Gc(n,t),k.defineProperty(n.prototype,"entries",{get:function(){return this.EA},set:function(t){if(!ra(t.length,32))throw new y("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!ra(t.sampleCount,32)||!ra(t.sampleDelta,32)}))throw new y("Not all entries can be represented in 64 bits.");this.EA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];n.writer.writeUInt(e.sampleCount,32),n.writer.writeUInt(e.sampleDelta,32)}}}(oa);F(),Et();!function(t){function n(n){var i=t.call(this,"trep",0,0)||this;return i.trackId=n,i}Gc(n,t),k.defineProperty(n.prototype,"trackId",{get:function(){return this.jA},set:function(t){if(!ra(t,32))throw new y("The provided trackId does not fit in 32 bits.");this.jA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32)}}(za);F(),Et();!function(t){function n(){return t.call(this,"udta")||this}Gc(n,t)}(Va);F(),Et();var cv={red:0,green:0,blue:0};!function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=cv);var r=t.call(this,"vmhd",0,1)||this;return r.graphicsMode=n,r.opColor=i,r}Gc(n,t),k.defineProperty(n.prototype,"opColor",{get:function(){return this.Fb},set:function(t){if(!ra(t.red,16)||!ra(t.green,16)||!ra(t.blue,16))throw new y("Not all colors could be represented in 16 bits.");this.Fb=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+6},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.graphicsMode,16),n.writer.writeUInt(this.opColor.red,16),n.writer.writeUInt(this.opColor.green,16),n.writer.writeUInt(this.opColor.blue,16)}}(oa);F(),Et();var av=function(t){function n(n,i,r,e,s){void 0===e&&(e={}),void 0===s&&(s=void 0);var u,o,h,c,a,f=this;return(f=t.call(this,n,i)||this).width=r.width,f.height=r.height,f.horizontalResolution=null!==(u=r.horizontal)&&void 0!==u?u:72,f.verticalResolution=null!==(o=r.vertical)&&void 0!==o?o:72,f.compressorName=null!==(h=e.compressorName)&&void 0!==h?h:"",f.frameCount=null!==(c=e.frameCount)&&void 0!==c?c:1,f.depth=null!==(a=e.depth)&&void 0!==a?a:24,f.clap=e.clap,f.pasp=e.pasp,f.extra=s,f}return Gc(n,t),k.defineProperty(n.prototype,"width",{get:function(){return this.sb},set:function(t){if(!ra(t,16))throw new y("Provided width does not fit in 16 bits.");this.sb=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"height",{get:function(){return this.hb},set:function(t){if(!ra(t,16))throw new y("Provided height does not fit in 16 bits.");this.hb=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"horizontalResolution",{get:function(){return this.Ub},set:function(t){if(!ra(ea(t,16),32))throw new y("Provided horizontalResolution does not fit in 32 bits (fixed 16.16).");this.Ub=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"verticalResolution",{get:function(){return this.Vb},set:function(t){if(!ra(ea(t,16),32))throw new y("Provided verticalResolution does not fit in 32 bits (fixed 16.16).");this.Vb=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"compressorName",{get:function(){return this.Hb},set:function(t){if(t.length>31)throw new y("The provided compressorName should at most be 31 characters long.");this.Hb=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"frameCount",{get:function(){return this.Wb},set:function(t){if(!ra(t,16))throw new y("Provided frameCount does not fit in 16 bits.");this.Wb=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"depth",{get:function(){return this.qb},set:function(t){if(!ra(t,16))throw new y("Provided depth does not fit in 16 bits.");this.qb=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i,r,e,s,u;return t.prototype.getBoxContentSize.call(this)+2+2+12+2+2+4+4+4+2+32+2+2+(null!==(i=null===(n=this.clap)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)+(null!==(e=null===(r=this.pasp)||void 0===r?void 0:r.getSize())&&void 0!==e?e:0)+(null!==(u=null===(s=this.extra)||void 0===s?void 0:s.length)&&void 0!==u?u:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.width,16),n.writer.writeUInt(this.height,16),n.writer.writeUInt(ea(this.horizontalResolution,16),32),n.writer.writeUInt(ea(this.verticalResolution,16),32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.frameCount,16),n.writer.writeByte(this.compressorName.length),n.writer.writeString(this.compressorName);for(var i=0;i<31-this.compressorName.length;i++)n.writer.writeByte(0);n.writer.writeUInt(this.depth,16),n.writer.writeInt(-1,16),this.clap&&n.concat(this.clap.serialize()),this.pasp&&n.concat(this.pasp.serialize()),this.extra&&sa(n.writer,this.extra)},n}(Ha);F(),Et(),F(),Et(),H();!function(t){function n(n){var i=t.call(this,"esds",0,0)||this;return i.esDescriptor=n,i}Gc(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(V(this.esDescriptor,E)?this.esDescriptor.length:this.esDescriptor.getSize())},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),V(this.esDescriptor,E)?n.concat($c.from(this.esDescriptor)):this.esDescriptor.serialize(n)}}(oa);F(),Et();!function(t){function n(n,i,r){var e=t.call(this,"mp4a",n,r)||this;return e.esd=i,e}Gc(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esd.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.esd.serialize())}}(Wa);F(),Et();!function(t){function n(n,i,r,e){void 0===e&&(e={});var s=t.call(this,"mp4v",n,i,e)||this;return s.esDescriptor=r,s}Gc(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(av);F(),Et();!function(t){function n(n,i){var r=t.call(this,"mp4s",n)||this;return r.esDescriptor=i,r}Gc(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(Ha);F(),Et(),F(),Et();!function(t){function n(n){var i=t.call(this,"avcC")||this;return i.decoderConfig=n,i}Gc(n,t),n.prototype.getBoxContentSize=function(){return this.decoderConfig.getSize()},n.prototype.serializeBoxContent=function(t){this.decoderConfig.serialize(t)}}(ia);F(),Et();!function(){function t(t,n,i,r,e,s){void 0===s&&(s=1),this.lengthSizeMinusOne=i,this.version=s,this.profileIndication=t.indication,this.profileCompatibility=t.compatibility,this.levelIndication=n,this.spsSets=r,this.ppsSets=e}k.defineProperty(t.prototype,"version",{get:function(){return this.zb},set:function(t){if(!ra(t,8))throw new y("Provided version does not fit in 8 bits.");this.zb=t},enumerable:!1,configurable:!0}),k.defineProperty(t.prototype,"profileIndication",{get:function(){return this.Gb},set:function(t){if(!ra(t,8))throw new y("Provided profileIndication does not fit in 8 bits.");this.Gb=t},enumerable:!1,configurable:!0}),k.defineProperty(t.prototype,"profileCompatibility",{get:function(){return this.Xb},set:function(t){if(!ra(t,8))throw new y("Provided profileCompatibility does not fit in 8 bits.");this.Xb=t},enumerable:!1,configurable:!0}),k.defineProperty(t.prototype,"levelIndication",{get:function(){return this.jb},set:function(t){if(!ra(t,8))throw new y("Provided levelIndication does not fit in 8 bits.");this.jb=t},enumerable:!1,configurable:!0}),k.defineProperty(t.prototype,"spsSets",{get:function(){return this.Qb},set:function(t){if(!ra(t.length,5))throw new y("Provided number of spsSets exceeds the max (32)");this.Qb=t},enumerable:!1,configurable:!0}),k.defineProperty(t.prototype,"ppsSets",{get:function(){return this.Kb},set:function(t){if(!ra(t.length,8))throw new y("Provided number of ppsSets exceeds the max (256)");this.Kb=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return 7+2*this.spsSets.length+this.spsSets.reduce(function(t,n){return t+n.length},0)+2*this.ppsSets.length+this.ppsSets.reduce(function(t,n){return t+n.length},0)},t.prototype.serialize=function(t){t.writer.writeByte(this.version),t.writer.writeByte(this.profileIndication),t.writer.writeByte(this.profileCompatibility),t.writer.writeByte(this.levelIndication),t.writer.writeBits([1,1,1,1,1,1]),t.writer.writeUInt(this.lengthSizeMinusOne,2),t.writer.writeBits([1,1,1]),t.writer.writeUInt(this.spsSets.length,5);for(var n=0,i=this.spsSets;n<i.length;n++){var r=i[n];t.writer.writeUInt(r.length,16),t.concat($c.from(r))}t.writer.writeByte(this.ppsSets.length);for(var e=0,s=this.ppsSets;e<s.length;e++){var u=s[e];t.writer.writeUInt(u.length,16),t.concat($c.from(u))}}}();F(),Et();!function(t){function n(n,i,r,e,s){void 0===e&&(e={}),void 0===s&&(s=void 0);var u=t.call(this,"avc1",n,i,e)||this;return u.configurationBox=r,u.bitrateBox=s,u}Gc(n,t),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+this.configurationBox.getSize()+(null!==(i=null===(n=this.bitrateBox)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.configurationBox.serialize()),this.bitrateBox&&n.concat(this.bitrateBox.serialize())}}(av);F(),Et();!function(t){function n(n,i,r){var e=t.call(this,"btrt")||this;return e.bufferSizeDb=n,e.max=i,e.avg=r,e}Gc(n,t),k.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this._A},set:function(t){if(!ra(t,32))throw new y("Provided bufferSizeDb does not fit in 32 bits.");this._A=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"max",{get:function(){return this.Yb},set:function(t){if(!ra(t,32))throw new y("Provided max does not fit in 32 bits.");this.Yb=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"avg",{get:function(){return this.Jb},set:function(t){if(!ra(t,32))throw new y("Provided avg does not fit in 32 bits.");this.Jb=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 12},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.bufferSizeDb,32),t.writer.writeUInt(this.max,32),t.writer.writeUInt(this.avg,32)}}(ia);F(),Et(),F(),Et(),F(),Et();var fv=function(t){function n(n,i){var r,e,s,u,o=this;if(o=t.call(this,"tenc",n,0)||this,i.perSampleIvSize>0&&(null!==(e=null===(r=i.constantIv)||void 0===r?void 0:r.length)&&void 0!==e?e:0)>0)throw new y("Either perSampleSize should be > 0 or constantIv should be defined. Not both.");return o.kId=i.kId,o.isProtected=null!==(s=i.isProtected)&&void 0!==s?s:1,i.perSampleIvSize>0?o.perSampleIvSize=i.perSampleIvSize:o.constantIv=null!==(u=i.constantIv)&&void 0!==u?u:new E(0),o}return Gc(n,t),k.defineProperty(n.prototype,"isProtected",{get:function(){return this.Zb},set:function(t){if(!ra(t,8))throw new y("Provided isProtected does not fit in 1 byte.");this.Zb=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"perSampleIvSize",{get:function(){return this.$b},set:function(t){if(![8,16].includes(t))throw new y("Provided perSampleIvSize does not match any allowed value [8, 16].");this.$b=t,this.tS=new E(0)},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"kId",{get:function(){return this.iS},set:function(t){if(16!==t.length)throw new y("Provided kId length is not 16.");this.iS=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"constantIv",{get:function(){return this.tS},set:function(t){if(![8,16].includes(t.length))throw new y("Provided constant IV length does not match any allowed value [8, 16].");this.tS=t,this.$b=0},enumerable:!1,configurable:!0}),n.prototype.getTencHeaderSize=function(){return 20+(this.constantIv.length>0?1+this.constantIv.length:0)},n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.getTencHeaderSize()},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeByte(0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeOwnContent(n)},n.prototype.serializeOwnContent=function(t){t.writer.writeByte(0),this.serializeVersionBoxContent(t),t.writer.writeByte(this.isProtected),t.writer.writeByte(this.perSampleIvSize),sa(t.writer,this.kId),0===this.perSampleIvSize&&(t.writer.writeByte(this.constantIv.length),sa(t.writer,this.constantIv))},n}(oa),vv=(function(t){function n(n){return t.call(this,0,n)||this}Gc(n,t)}(fv),function(t){function n(n){var i=t.call(this,1,n)||this;return i.cryptByteBlocks=n.cryptByteBlock,i.skipByteBlocks=n.skipByteBlock,i}return Gc(n,t),k.defineProperty(n.prototype,"cryptByteBlocks",{get:function(){return this.eS},set:function(t){if(!ra(t,4))throw new y("Provided cryptByteBlocks does not fit in 4 bits.");this.eS=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"skipByteBlocks",{get:function(){return this.sS},set:function(t){if(!ra(t,4))throw new y("Provided skipByteBlocks does not fit in 4 bits.");this.sS=t},enumerable:!1,configurable:!0}),n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.cryptByteBlocks,4),t.writer.writeUInt(this.skipByteBlocks,4)},n}(fv));!function(t){function n(n){var i=t.call(this)||this;return i.tencBox=new vv(n),i}Gc(n,t),n.prototype.serializeBoxContent=function(t){this.tencBox.serializeOwnContent(t)},n.prototype.getBoxContentSize=function(){return this.tencBox.getTencHeaderSize()}}(_f);function dv(t){return void 0!==t.iv}function lv(t){return void 0!==t.subsamples}F(),Et();!function(t){function n(n){var i=t.call(this,"senc",0,{useSubsampleEncryption:!1})||this;return i.samples=n,i}Gc(n,t),k.defineProperty(n.prototype,"samples",{get:function(){return this.wb},set:function(t){var n;if(!ra(t.length,32))throw new y("The number of samples provided does not fit in 32 bits.");for(var i=0,r=t;i<r.length;i++){var e=r[i];if(dv(e)&&![8,16].includes(e.iv.length))throw new y("IV of one of the provided samples did not satisfy the required length constraints. [8, 16]");if(void 0===n&&(n=lv(e)),!0===n&&!lv(e)||!1===n&&lv(e))throw new y("Mix of samples with and without subsamples detected.");if(lv(e)){if(!ra(e.subsamples.length,16))throw new y("Subsample length of one of the provided samples does not fit in 16 bits.");for(var s=0,u=e.subsamples;s<u.length;s++){var o=u[s];if(!ra(o.clearData,16))throw new y("Subsample clearData of one of the provided samples does not fit in 16 bits.");if(!ra(o.protectedData,23))throw new y("Subsample protectedData of one of the provided samples does not fit in 23 bits.")}}}this.flags.useSubsampleEncryption=null!=n&&n,this.wb=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){for(var n=0,i=0,r=this.samples;i<r.length;i++){var e=r[i];dv(e)&&(n+=e.iv.length),lv(e)&&(n+=2+6*e.subsamples.length)}return t.prototype.getBoxContentSize.call(this)+4+n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32);for(var i=0,r=this.samples;i<r.length;i++){var e=r[i];if(dv(e)&&sa(n.writer,e.iv),lv(e)){n.writer.writeUInt(e.subsamples.length,16);for(var s=0,u=e.subsamples;s<u.length;s++){var o=u[s];n.writer.writeUInt(o.clearData,16),n.writer.writeUInt(o.protectedData,32)}}}},n.prototype.serializeFlags=function(t){t.writer.writeUInt(this.flags.useSubsampleEncryption?2:0,24)}}(oa);F(),Et(),F(),Et();!function(t){function n(n,i,r,e,s){var u=t.call(this,"emsg",0,0)||this;return u.schemeIdUri=n,u.value=i,u.data=s,u.id=r,u.timescale=e.timescale,u.presentationTimeDelta=e.presentationTimeDelta,u.eventDuration=e.eventDuration,u}Gc(n,t),k.defineProperty(n.prototype,"timescale",{get:function(){return this.HA},set:function(t){if(!ra(t,32))throw new y("The provided timescale does not fit in 32 bits.");this.HA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"presentationTimeDelta",{get:function(){return this.nS},set:function(t){if(!ra(t,32))throw new y("The provided presentationTimeDelta does not fit in 32 bits.");this.nS=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"eventDuration",{get:function(){return this.rS},set:function(t){if(!ra(t,32))throw new y("The provided eventDuration does not fit in 32 bits.");this.rS=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"id",{get:function(){return this.hS},set:function(t){if(!ra(t,32))throw new y("The provided id does not fit in 32 bits.");this.hS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.schemeIdUri.length+1+this.value.length+1+16+this.data.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeIdUri),n.writer.writeByte(0),n.writer.writeString(this.value),n.writer.writeByte(0),n.writer.writeUInt(this.timescale,32),n.writer.writeUInt(this.presentationTimeDelta,32),n.writer.writeUInt(this.eventDuration,32),n.writer.writeUInt(this.id,32),n.concat($c.from(this.data))}}(oa);F(),Et(),F(),Et(),F(),Et();var wv=function(){function t(){this.boxes=[]}return t.prototype.serialize=function(){for(var t=new na,n=0,i=this.boxes;n<i.length;n++){var r=i[n];t.concat(r.serialize())}return t.toRangedBuffer()},t}();function gv(t,n){return function(i){var r=function(t,n){for(var i=t.data,r=t.cursor;r.offset<i.byteLength;){var e=Ca(i,r);if(!e.complete)return;if(Ia(e.box,n))return e.box}}(new Ea(Aa(i),new Sa),t);if(!r)throw new y("".concat(t," box not found"));return n(r)}}var _v=gv("moov",Hf),mv=gv("sidx",function(t){var n,i,r=t.data,e=Da(r.nextUint32()),s=e.version,u=e.flags,o=r.nextUint32(),h=r.nextUint32();0===s?(n=r.nextUint32(),i=r.nextUint32()):(n=r.nextUint64(),i=r.nextUint64()),r.skip(2);for(var c=r.nextUint16(),a=[],f=0;f<c;f++){var v=new Jc($c.from(r.nextUint8Array(12))),d=v.readBit(),l=v.readUInt(31),w=v.readUInt(32),g=Boolean(v.readBit()),_=v.readUInt(3),m=v.readUInt(28);a.push({referenceType:d,referencedSize:l,subsegmentDuration:w,startsWithSap:g,sapType:_,sapDeltaTime:m})}return 0===s?new sv(o,h,n,i,a,u.raw):new uv(o,h,n,i,a,u.raw)}),yv=gv("moof",$f),pv=gv("pssh",kf);function kv(t){return function(t){for(var n=new wv,i=0,r=Ra(t);i<r.length;i++){var e=r[i];Ia(e,"ftyp")?n.boxes.push(Za(e)):Ia(e,"styp")?n.boxes.push(hv(e)):Ia(e,"moov")?n.boxes.push(Hf(e)):Ia(e,"moof")?n.boxes.push($f(e)):Ia(e,"mdat")?n.boxes.push(cf(e)):n.boxes.push(xa(e))}return n}(new Ea(Aa(t),new Sa))}var bv=function(t){function n(n,i){var r;(r=t.call(this)||this).uS=void 0,r.mS=void 0,r.cS=void 0,r.lS=void 0,r.zd=void 0,r.fS=void 0,r.wS=void 0,r.yS=void 0,r.bS=void 0,r.uS=n,r.mS=i,r.lS=!1,r.wS=function(){r.gS()},r.yS=function(t){r.So(new ch(r,t.messageType,Wc(r.mS,t.message)))},r.bS=function(){r.lS=!0,r.cS.Vy>0&&(r.cS.Gy(),r.So(new oh(r.cS))),r.uS.removeEventListener("keystatuseschange",r.wS),r.uS.removeEventListener("message",r.yS)},r.uS.addEventListener("keystatuseschange",r.wS),r.uS.addEventListener("message",r.yS),r.cS=new Fc;var e=[];return r.uS.closed&&e.push(ut.resolve(r.uS.closed)),r.fS=new Vc,e.push(r.fS.Qy),r.zd=ut.race(e).then(r.bS,r.bS),r.gS(),r}Ct(n,t);var i=n.prototype;return i.Xs=function(){if(this.lS)return this.zd;var t=[];return t.push(ut.resolve(this.uS.close())),t.push(Ar(1e3)),this.fS.$g(ut.race(t).catch(Av)),this.lS=!0,this.zd},i.vS=function(t,n,i){if(On.e_){var r=pv(pc(n));if(1===r.version)n=new yf(r.systemId,r.data).serialize().join()}return ut.resolve(this.uS.generateRequest(t,n)).catch(Av)},i.Un=function(t){return ut.resolve(this.uS.load(t)).catch(Av)},i._S=function(){return ut.resolve(this.uS.remove()).catch(Av)},i.er=function(t){return ut.resolve(this.uS.update(t)).catch(Av)},i.gS=function(){var t=this;this.cS.Gy(),this.uS.keyStatuses.forEach(function(n,i){t.pS(i,n)}),this.So(new oh(this.cS))},i.pS=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var r=pc(t);if(this.mS===vo&&16===r.byteLength&&(On.v_||On.dg)){var e=_c(r),s=e.getUint32(0,!0),u=e.getUint16(4,!0),o=e.getUint16(6,!0);e.setUint32(0,s,!1),e.setUint16(4,u,!1),e.setUint16(6,o,!1)}this.mS===vo&&"status-pending"===n&&(n="usable"),this.cS.qy(r,n)},Nt(n,[{key:"oS",get:function(){return this.zd}},{key:"aS",get:function(){return this.uS.expiration}},{key:"Ty",get:function(){return this.cS}},{key:"dS",get:function(){return this.uS.sessionId}}]),n}(th);function Av(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|A(i[1],16))}throw new Xc(t.message,void 0,n,t)}var Tv=function(){function t(t,n,i){this.TS=void 0,this.kS=void 0,this.Cd=void 0,this.TS=t,this.kS=n,this.Cd=i}var n=t.prototype;return n.SS=function(t){return Vt(function(){return zt(this,function(n){return[2,new bv(this.TS.createSession(t),this.kS)]})}).call(this)},n.ES=function(t){return ut.resolve(this.TS.setServerCertificate(t))},n._n=function(t){return ut.resolve(t.setMediaKeys(this.TS))},n.PS=function(t){return ut.resolve(t.setMediaKeys(null))},n.hr=function(){return ut.resolve()},t}(),Sv=function(){function t(t,n,i){this.xS=void 0,this.mS=void 0,this.RS=void 0,this.xS=t,this.mS=n,this.RS=i}var n=t.prototype;return n.IS=function(){return Vt(function(){var t;return zt(this,function(n){switch(n.label){case 0:return[4,this.xS.createMediaKeys()];case 1:return t=n.sent(),[2,new Tv(t,this.mS,this.RS)]}})}).call(this)},n.CS=function(){return this.RS},Nt(t,[{key:"kS",get:function(){return this.xS.keySystem}}]),t}();F(),Et(),Ut(),F(),Et(),Ut();var Ev="video/avc",Iv="video/hevc",Rv="video/mp4",Cv="video/mpeg",Dv="video/mpeg2",Pv="video/webm",Nv="video/x-unknown",Bv="audio/mp4",xv="audio/webm",Ov="image/jpeg",Mv="application/ttml+xml",Lv="application/mp4",Uv="text/vtt";function Fv(t){return Uo(t,"audio/")}function Vv(t){return Uo(t,"video/")}function Hv(t){return Lo(t,Lv)||Lo(t,Rv)||Lo(t,Bv)}function Wv(t){return Lo(t,Pv)||Lo(t,xv)}var zv=function(){function t(t,n){this.Km=void 0,this.NS=void 0,this.Km=t,this.NS=n}return t.prototype.DS=function(t){for(var n,i=Lt(this.NS);!(n=i()).done;){var r=n.value,e=r[0],s=r[1];if(e.toLowerCase()===t.toLowerCase())return s}},t}();function Xv(t){var n=t.trim(),i=n.indexOf(";");if(i<0)return new zv(n,[]);for(var r=n.substr(0,i).trim(),e=n.substr(i+1).trim(),s=[],u=0,o=!1,h=0;h<e.length;h++){var c=e[h];if(o||";"!==c)'"'===c&&(o=!o);else{var a=qv(e.substr(u,h));a&&s.push(a),u=h+1}}if(u!==e.length){var f=qv(e.substr(u));f&&s.push(f)}return new zv(r,s)}function qv(t){var n=t.indexOf("=");if(!(n<0)){var i=t.substr(0,n).trim(),r=t.substr(n+1).trim();return'"'===r[0]&&(r=r.substring(1,r.length-1)),[i,r]}}function Gv(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function jv(t){var n=t,i=n.match(/^avc1\.(\d+)\.(\d+)$/);if(i){var r=Number(i[1]),e=Number(i[2]);n="avc1."+Wo((r<<16|e).toString(16),6,"0")}return n}function Qv(t,n,i,r){var e=!1;if(!(r.persistentState&&"optional"!==r.persistentState||r.distinctiveIdentifier&&"optional"!==r.distinctiveIdentifier)){var s={audioCapabilities:[],videoCapabilities:[],persistentState:r.persistentState||"optional",distinctiveIdentifier:r.distinctiveIdentifier||"optional",initDataTypes:r.initDataTypes,sessionTypes:["temporary"],label:r.label,MS:r.MS},u=!1;if(r.audioCapabilities){var o=r.audioCapabilities.filter(function(t){return Boolean(t.contentType)});o.length&&(s.audioCapabilities=o.filter(function(r){return Yv(t,n,i,r)}),u=!0,s.audioCapabilities.length&&(e=!0))}if(r.videoCapabilities){var h=r.videoCapabilities.filter(function(t){return Boolean(t.contentType)});h.length&&(s.videoCapabilities=h.filter(function(r){return Yv(t,n,i,r)}),u=!0,s.videoCapabilities.length&&(e=!0))}return u||(e=t(i,"video/mp4")),e?s:void 0}}function Yv(t,n,i,r){return!!r.contentType&&(!(r.encryptionScheme&&!ji(n,r.encryptionScheme))&&(!r.robustness&&t(i,Gv(r.contentType))))}function Kv(t){if(t.videoCapabilities)for(var n,i=Lt(t.videoCapabilities);!(n=i()).done;){var r=n.value;if(r.contentType)return r.contentType}if(t.audioCapabilities)for(var e,s=Lt(t.audioCapabilities);!(e=s()).done;){var u=e.value;if(u.contentType)return u.contentType}}function Jv(t){for(var n,i=[],r=Lt(t);!(n=r()).done;){var e=n.value;e.encryptionScheme&&i.push({contentType:e.contentType,robustness:e.robustness})}return t.concat(i)}function Zv(t){return!(!t.audioCapabilities||!t.audioCapabilities.some($v))||!(!t.videoCapabilities||!t.videoCapabilities.some($v))}function $v(t){return!t.robustness}function td(t,n){for(var i,r=[],e=Lt(t);!(i=e()).done;){var s=i.value;s.robustness?r.push(s):r.push(Yu({},s,{robustness:n}))}return r}var nd=function(){function t(){}return t.prototype.nw=function(t,n){return Vt(function(){var i,r,e,s,u,o,h,c;return zt(this,function(a){switch(a.label){case 0:for(n=n.filter(function(t){return!t.MS}),i=Lt(n);!(r=i()).done;)(e=r.value).audioCapabilities&&(e.audioCapabilities=Jv(e.audioCapabilities)),e.videoCapabilities&&(e.videoCapabilities=Jv(e.videoCapabilities));if(t!==go||!n.some(Zv))return[3,4];s=n.map(function(t){return function(t,n){return Yu({},t,{videoCapabilities:t.videoCapabilities?td(t.videoCapabilities,n):void 0,audioCapabilities:t.audioCapabilities?td(t.audioCapabilities,n):void 0})}(t,"SW_SECURE_CRYPTO")}),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,l.requestMediaKeySystemAccess(t,s)];case 2:return u=a.sent(),o=u.getConfiguration(),[2,new Sv(u,t,o)];case 3:return a.sent(),[3,4];case 4:return[4,l.requestMediaKeySystemAccess(t,n)];case 5:return h=a.sent(),c=h.getConfiguration(),[2,new Sv(h,t,c)]}})})()},t.LS=function(){return Ko()},t}();F(),Et(),Ut(),F(),Et(),Bt(),F(),Et(),Wt(),Qt(),F(),Et(),Wt(),Bt(),Dt(),Qt();var id=function(t){function n(n,i){var r;return(r=t.call(this)||this).zS=void 0,r.GS=void 0,r.lS=void 0,r.US=void 0,r.KS=void 0,r.WS=void 0,r.VS=void 0,r.FS=void 0,r.bS=void 0,r.XS=void 0,r.Ts=void 0,r.jS=void 0,r.zS=n,r.GS=i,r.lS=!1,r.KS=void 0,r.WS=void 0,r.FS=void 0,r.bS=function(){r.lS=!0,r.US.Xy(void 0),r.FS&&(r.FS.removeEventListener("mskeyclose",r.bS),r.FS.removeEventListener("mskeymessage",r.XS),r.FS.removeEventListener("mskeyerror",r.Ts),r.FS.removeEventListener("mskeyadded",r.jS))},r.XS=function(t){r.WS&&(r.WS.Xy(void 0),r.WS=void 0),r.So(new ch(r,"license-request",bc(t.message).buffer,t.destinationURL||void 0))},r.Ts=function(){var t=r.FS&&r.FS.error;if(t){var n=new Xc("Unknown CDM error",t.code,t.systemCode);if(r.WS)r.WS.jy(n),r.WS=void 0;else if(r.KS)r.KS.jy(n),r.KS=void 0;else switch(n.Ky){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:r.QS("output-not-allowed");break;default:r.QS("internal-error")}}},r.jS=function(){r.WS&&(r.QS("usable"),r.WS.Xy(void 0),r.WS=void 0),r.KS&&(r.QS("usable"),r.KS.Xy(void 0),r.KS=void 0)},r.US=new Vc,r.VS=new Fc,r}Ct(n,t);var i=n.prototype;return i.vS=function(t,n,i){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.HS(),this.WS=new Vc,this.SS(pc(n),i),[4,this.WS.Qy];case 1:return t.sent(),[2]}})}).call(this)},i.SS=function(t,n){if(!t)throw new p("Expected initData to be defined but was "+t+".");var i,r=n&&n.playready&&n.playready.qS;return(i=n?this.zS.createSession(this.GS,t,r):this.zS.createSession(this.GS,t)).addEventListener("mskeyclose",this.bS),i.addEventListener("mskeymessage",this.XS),i.addEventListener("mskeyerror",this.Ts),i.addEventListener("mskeyadded",this.jS),this.FS=i,this.QS("status-pending"),i},i.Un=function(t){return Vt(function(){return zt(this,function(t){return this.HS(),[2,!0]})}).call(this)},i.er=function(t){return Vt(function(){var n;return zt(this,function(i){switch(i.label){case 0:if(this.KS=new Vc,this.HS(),!this.FS)return[2,ut.resolve()];if(0===(n=pc(t)).byteLength)throw new p("Cannot call update with an empty response.");return this.FS.update(n),[4,this.KS.Qy];case 1:return i.sent(),[2]}})}).call(this)},i.Xs=function(){return!this.lS&&this.FS&&(this.lS=!0,this.FS.close()),this.US.Qy},i._S=function(){return Vt(function(){return zt(this,function(t){return this.HS(),[2]})}).call(this)},i.HS=function(){if(this.lS)throw new p("Already closing or closed.")},i.QS=function(t){this.VS.Gy(),this.VS.qy(Uc,t),this.So(new oh(this.VS))},Nt(n,[{key:"dS",get:function(){return this.FS&&this.FS.sessionId||""}},{key:"aS",get:function(){return NaN}},{key:"oS",get:function(){return this.US.Qy}},{key:"Ty",get:function(){return this.VS}}]),n}(th),rd=function(){function t(t,n,i){this.zS=void 0,this.kS=void 0,this.Cd=void 0,this.GS=void 0,this.zS=t,this.kS=n,this.Cd=i;var r=Kv(i)||"video/mp4";this.GS=Gv(r)}var n=t.prototype;return n.SS=function(t){return Vt(function(){return zt(this,function(t){return[2,new id(this.zS,this.GS)]})}).call(this)},n.ES=function(t){return ut.resolve(!1)},n._n=function(t){var n=this,i=function(){t.msSetMediaKeys(n.zS),t.removeEventListener("loadedmetadata",i)};return t.readyState>=1?t.msSetMediaKeys(this.zS):t.addEventListener("loadedmetadata",i),ut.resolve()},n.PS=function(t){return ut.resolve()},n.hr=function(){return ut.resolve()},t}(),ed=function(){function t(t,n){this.mS=void 0,this.YS=void 0,this.mS=t,this.YS=n}var n=t.prototype;return n.CS=function(){return this.YS},n.IS=function(){var t=new f.MSMediaKeys(this.mS);return ut.resolve(new rd(t,this.mS,this.YS))},Nt(t,[{key:"kS",get:function(){return this.mS}}]),t}(),sd=function(){function t(){}return t.prototype.nw=function(t,n){try{return ut.resolve(function(t,n){if(!ud())throw new p("Unsupported key system "+t);for(var i,r=Lt(n);!(i=r()).done;){var e=i.value,s=Qv(od,sh,t,e);if(s)return new ed(t,s)}throw new p("Unsupported key system configuration for "+t)}(t,n))}catch(t){return ut.reject(t)}},t.LS=function(){return ud()},t}();function ud(){return void 0!==f.MSMediaKeys&&"function"==typeof f.MSMediaKeys.isTypeSupported}function od(t,n){return f.MSMediaKeys.isTypeSupported(t,n)}F(),Et(),Ut(),F(),Et(),Bt(),F(),Et(),Wt(),Qt(),F(),Et(),Wt(),Bt(),Dt(),Qt();var hd=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).tT=void 0,e.GS=void 0,e.$S=void 0,e.US=void 0,e.eT=void 0,e.VS=void 0,e.JS=void 0,e.iT=void 0,e.Ts=void 0,e.XS=void 0,e.jS=void 0,e.tT=n,e.GS=i,e.$S=r,e.US=new Vc,e.eT=void 0,e.VS=new Fc,e.JS=void 0,e.iT=new Vc,e.Ts=function(){var t=e.JS&&e.JS.error;if(t){var n=new Xc("Unknown CDM error",t.code,t.systemCode);e.eT?(e.eT.jy(n),e.eT=void 0):n.Ky===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?e.QS("output-not-allowed"):e.QS("internal-error"),e.So(new ah)}},e.XS=function(t){e.So(new ch(e,"license-request",bc(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},e.jS=function(){e.eT&&(e.eT.Xy(void 0),e.eT=void 0),e.QS("usable")},e}Ct(n,t);var i=n.prototype;return i.vS=function(t,n,i){var r=i&&i.fairplay&&i.fairplay.ZS;if(!r)throw new p("Expected FairPlay contentId to be defined but was "+r+".");var e=function(t,n,i){var r=vc(t),e=2*r.length,s=2*n.length,u=new ArrayBuffer(4+e+4+s+4+i.byteLength),o=new DataView(u),h=new Tc;return Gh(o,h,e,!0),sc(o,h,r,!0),Gh(o,h,s,!0),sc(o,h,n,!0),Gh(o,h,i.byteLength,!0),Fh(o,h,i),new E(u)}(pc(n),r,this.$S);return this.JS=this.tT.createSession(this.GS,e),this.JS.addEventListener("webkitkeymessage",this.XS,!1),this.JS.addEventListener("webkitkeyadded",this.jS,!1),this.JS.addEventListener("webkitkeyerror",this.Ts,!1),this.QS("status-pending"),this.iT.Xy(this.JS),this.iT=new Vc,ut.resolve()},i.Un=function(t){return ut.resolve(!0)},i.er=function(t){return Vt(function(){var n,i;return zt(this,function(r){switch(r.label){case 0:if(0===(n=pc(t)).byteLength)throw new p("Cannot call update with an empty response.");return this.eT=new Vc,(i=this.JS)?[3,2]:[4,this.iT.Qy];case 1:i=r.sent(),r.label=2;case 2:return i.update(n),[4,this.eT.Qy];case 3:return r.sent(),[2]}})}).call(this)},i.Xs=function(){var t,n=this.JS;return n&&(n.removeEventListener("webkitkeymessage",this.XS,!1),n.removeEventListener("webkitkeyadded",this.jS,!1),n.removeEventListener("webkitkeyerror",this.Ts,!1),n.close()),this.iT.Zg(),null==(t=this.eT)||t.Zg(),this.US.Xy(void 0),this.US.Qy},i._S=function(){return ut.resolve(void 0)},i.QS=function(t){this.VS.Gy(),this.VS.qy(Uc,t),this.So(new oh(this.VS))},Nt(n,[{key:"dS",get:function(){return this.JS?this.JS.sessionId:""}},{key:"aS",get:function(){return NaN}},{key:"oS",get:function(){return this.US.Qy}},{key:"Ty",get:function(){return this.VS}}]),n}(th);F(),Et(),Bt(),Dt(),H(),F(),Et();var cd=function(t){return t[t.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",t[t.LICENSE_ERROR=2e3]="LICENSE_ERROR",t[t.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",t[t.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",t[t.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",t[t.LICENSE_INVALID_FEATURE=2004]="LICENSE_INVALID_FEATURE",t[t.SOURCE_INVALID=3e3]="SOURCE_INVALID",t[t.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",t[t.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",t[t.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",t[t.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",t[t.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",t[t.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",t[t.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",t[t.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",t[t.MEDIA_ABORTED=5004]="MEDIA_ABORTED",t[t.NETWORK_ERROR=6e3]="NETWORK_ERROR",t[t.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",t[t.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",t[t.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",t[t.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",t[t.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",t[t.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",t[t.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",t[t.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",t[t.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",t[t.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",t[t.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",t[t.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",t[t.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",t[t.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",t[t.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",t[t.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",t[t.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",t[t.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",t[t.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",t[t.AD_ERROR=1e4]="AD_ERROR",t[t.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",t[t.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",t[t.PICTURE_IN_PICTURE_ERROR=11001]="PICTURE_IN_PICTURE_ERROR",t[t.CACHE_SOURCE_ERROR=12e3]="CACHE_SOURCE_ERROR",t[t.CACHE_CONTENT_PROTECTION_ERROR=12001]="CACHE_CONTENT_PROTECTION_ERROR",t[t.THEO_LIVE_UNKNOWN_ERROR=13e3]="THEO_LIVE_UNKNOWN_ERROR",t[t.THEO_LIVE_CHANNEL_NOT_FOUND=13001]="THEO_LIVE_CHANNEL_NOT_FOUND",t[t.THEO_LIVE_END_OF_DEMO=13002]="THEO_LIVE_END_OF_DEMO",t[t.THEO_LIVE_ANALYTICS_ERROR=13003]="THEO_LIVE_ANALYTICS_ERROR",t}({}),ad=function(t){return t[t.CONFIGURATION=1]="CONFIGURATION",t[t.LICENSE=2]="LICENSE",t[t.SOURCE=3]="SOURCE",t[t.MANIFEST=4]="MANIFEST",t[t.MEDIA=5]="MEDIA",t[t.NETWORK=6]="NETWORK",t[t.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",t[t.SUBTITLE=8]="SUBTITLE",t[t.VR=9]="VR",t[t.AD=10]="AD",t[t.FULLSCREEN=11]="FULLSCREEN",t[t.CACHE=12]="CACHE",t[t.THEOLIVE=13]="THEOLIVE",t}({});!function(t){t.fromCode=function(n){var i=b.floor(n/1e3);if(i in t)return i;throw new p("Invalid error code: "+n)}}(ad||(ad={}));var fd=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).code=void 0,e.code=n,e}return Ct(n,t),Nt(n,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return ad.fromCode(this.code)}}]),n}(ar);function vd(t,n){return V(t,fd)?t:V(t,y)?new fd(n,t.message,t):new fd(n,String(t))}var dd=function(){function t(t,n,i){this.tT=void 0,this.kS=void 0,this.Cd=void 0,this.GS=void 0,this.$S=void 0,this.tT=t,this.kS=n,this.Cd=i,this.$S=void 0;var r=Kv(i)||"video/mp4";this.GS=Gv(r)}var n=t.prototype;return n.getInternalMediaKeys=function(){return this.tT},n.SS=function(t){return Vt(function(){return zt(this,function(t){if(!this.$S)throw new fd(cd.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");return[2,new hd(this.tT,this.GS,this.$S)]})}).call(this)},n.ES=function(t){return this.$S=pc(t),ut.resolve(!0)},n._n=function(t){return t.webkitSetMediaKeys(this.tT),ut.resolve()},n.PS=function(t){return t.webkitSetMediaKeys(null),ut.resolve()},n.hr=function(){return ut.resolve()},t}(),ld=function(){function t(t,n){this.mS=void 0,this.YS=void 0,this.mS=t,this.YS=n}var n=t.prototype;return n.CS=function(){return this.YS},n.IS=function(){var t=new f.WebKitMediaKeys(this.mS);return ut.resolve(new dd(t,this.mS,this.YS))},Nt(t,[{key:"kS",get:function(){return this.mS}}]),t}(),wd=function(){function t(){}return t.prototype.nw=function(t,n){try{return ut.resolve(function(t,n){if(t!==To)throw new p(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!gd())throw new p("Unsupported key system "+t);for(var i,r=Lt(n);!(i=r()).done;){var e=i.value,s=Qv(_d,uh,t,e);if(s)return new ld(t,s)}throw new p("Unsupported key system configuration for "+t)}(t,n))}catch(t){return ut.reject(t)}},t.LS=function(){return gd()},t}();function gd(){return void 0!==f.WebKitMediaKeys&&"function"==typeof f.WebKitMediaKeys.isTypeSupported}function _d(t,n){return f.WebKitMediaKeys.isTypeSupported(t,n)}F(),Et(),Wt(),Ut(),Qt();var md=function(){function t(t){this.sT=void 0,this.sT=t}return t.prototype.nw=function(t,n){return Vt(function(){var i,r,e;return zt(this,function(s){switch(s.label){case 0:i=Lt(this.sT),s.label=1;case 1:if((r=i()).done)return[3,6];e=r.value,s.label=2;case 2:return s.trys.push([2,4,,5]),[4,e.nw(t,n)];case 3:return[2,s.sent()];case 4:return s.sent(),[3,5];case 5:return[3,1];case 6:throw new p("Unsupported key system configuration for "+t)}})}).call(this)},t}();F(),Et(),Ut(),F(),Et(),F(),Et(),Wt(),Qt(),F(),Et(),Wt(),Bt(),Dt(),Qt(),F(),Et();var yd=function(){function t(t){var n=this;this.rT=[],this.hT=void 0,this.nT=new hr,this.uT=void 0,this.oT=function(){return 0===n.rT.length?n.uT?pd(n.uT,n.nT.Yg).then(n.cT,n.cT):n.cT():n.rT.shift()().then(n.oT)},this.cT=function(){if(0!==n.rT.length)return n.oT();n.hT=void 0},this.uT=t}var n=t.prototype;return n.Zo=function(t,n){var i=this;return new ut(function(r){var e=hr.ep([i.nT.Yg,n]),s=function(){e.zg()};i.rT.push(function(){var n=pd(t,e.Yg);return r(n),n.then(s,s)}),i.hT||(i.hT=i.oT())})},n.Zg=function(){return this.aT(!0)},n.kn=function(){return this.uT=void 0,this.aT(!1)},n.aT=function(t){var n=this.hT;return this.nT.Zg(),t&&(this.nT=new hr),ut.resolve(n)},t}();function pd(t,n){return new ut(function(i){return i(t(n))})}var kd=new yd,bd=function(t){function n(n){var i;return(i=t.call(this)||this).mS=void 0,i.WS=void 0,i.eT=void 0,i.US=void 0,i.hA=void 0,i.wT=void 0,i.mT=void 0,i.pT=void 0,i._T=void 0,i.gT=void 0,i.mS=n,i.WS=void 0,i.eT=void 0,i.hA=!1,i.wT=void 0,i._T=void 0,i.US=new Vc,i.mT="",i.gT=new Vc,i.pT=new Fc,i}Ct(n,t);var i=n.prototype;return i.dT=function(){this.eT&&(this.QS("usable"),this.eT.Xy(void 0),this.eT=void 0)},i.lT=function(t){var n=new Xc("Unknown CDM error",t.errorCode,t.systemCode);this.eT?(this.eT.jy(n),this.eT=void 0):this.WS?(this.WS.jy(n),this.WS=void 0):n.Ky===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.QS("output-restricted"):1===n.Yy?this.QS("expired"):this.QS("internal-error")},i.fT=function(t){0!==t.message.byteLength?(this.WS&&(this.WS.Xy(void 0),this.WS=void 0),this.So(new ch(this,"license-request",Wc(this.mS,bc(t.message).buffer),t.defaultURL||void 0))):this.WS&&(this.WS.jy("Empty key message"),this.WS=void 0)},i.vT=function(t){this._T||(this._T=t,this.gT.Xy(t))},i.Xs=function(){return Vt(function(){return zt(this,function(t){return this.throwIfClosed(),this.eT&&(this.eT.jy(void 0),this.eT=void 0),this.hA=!0,this.US.Xy(void 0),[2]})}).call(this)},i.vS=function(t,n){return Vt(function(){var t;return zt(this,function(i){switch(i.label){case 0:return this.throwIfClosed(),this.WS=new Vc,this.wT=pc(n),(t=this._T)?[3,2]:[4,this.gT.Qy];case 1:t=i.sent(),i.label=2;case 2:return t.webkitGenerateKeyRequest(this.mS,this.wT),[4,this.WS.Qy];case 3:return i.sent(),[2]}})}).call(this)},i.Un=function(t){return Vt(function(){return zt(this,function(t){return this.throwIfClosed(),[2,!1]})}).call(this)},i._S=function(){return Vt(function(){return zt(this,function(t){return this.throwIfClosed(),[2]})}).call(this)},i.er=function(t){return Vt(function(){var n;return zt(this,function(i){switch(i.label){case 0:return n=this,this.throwIfClosed(),this.eT=new Vc,On.S_||On.w_?[2,kd.Zo(function(){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,this.doUpdate(t)];case 1:return n.sent(),[2]}})}).call(n)})]:[4,this.doUpdate(t)];case 1:return i.sent(),[2]}})}).call(this)},i.doUpdate=function(t){return Vt(function(){var n;return zt(this,function(i){switch(i.label){case 0:return void 0===this.eT?[2]:(n=this._T)?[3,2]:[4,this.gT.Qy];case 1:n=i.sent(),i.label=2;case 2:return n.webkitAddKey(this.mS,pc(t),this.wT,this.dS),[4,this.eT.Qy];case 3:return i.sent(),On.w_?[4,Ar(500)]:[3,5];case 4:i.sent(),i.label=5;case 5:return[2]}})}).call(this)},i.throwIfClosed=function(){if(this.hA)throw new p("Already closing or closed.")},i.QS=function(t){this.pT.Gy(),this.pT.qy(Uc,t),this.So(new oh(this.pT))},i.yT=function(){return Vt(function(){var t,n;return zt(this,function(i){switch(i.label){case 0:return(n=this._T)?[3,2]:[4,this.gT.Qy];case 1:n=i.sent(),i.label=2;case 2:if(!(t=n).webkitCancelKeyRequest)return[3,7];i.label=3;case 3:return i.trys.push([3,4,5,7]),t.webkitCancelKeyRequest(this.mS,this.mT),[3,7];case 4:return i.sent(),[3,7];case 5:return[4,Ar(500)];case 6:return i.sent(),[7];case 7:return[2]}})}).call(this)},Nt(n,[{key:"Ty",get:function(){return this.pT}},{key:"dS",get:function(){return this.mT},set:function(t){this.mT=t}},{key:"oS",get:function(){return this.US.Qy}},{key:"aS",get:function(){return NaN}}]),n}(th),Ad=function(){function t(t,n){var i=this;this.kS=void 0,this.Cd=void 0,this._T=void 0,this.ST=void 0,this.TT=void 0,this.jS=void 0,this.AT=void 0,this.bT=void 0,this.kS=t,this.Cd=n,this._T=void 0,this.ST=Ju(),this.TT=[],this.jS=function(t){var n=i.kT(t.sessionId);n&&n.dT()},this.AT=function(t){var n=i.kT(t.sessionId);n&&n.lT(t)},this.bT=function(t){var n=i.kT(t.sessionId);n&&n.fT(t)}}var n=t.prototype;return n._n=function(t){return this._T=t,this._T.addEventListener("webkitkeyadded",this.jS),this._T.addEventListener("webkitkeyerror",this.AT),this._T.addEventListener("webkitkeymessage",this.bT),this.ST.forEach(function(n,i){return n.vT(t)}),this.TT.forEach(function(n){return n.vT(t)}),ut.resolve()},n.PS=function(t){return t.removeEventListener("webkitkeyadded",this.jS),t.removeEventListener("webkitkeyerror",this.AT),t.removeEventListener("webkitkeymessage",this.bT),this._T=void 0,ut.resolve()},n.hr=function(){return Vt(function(){var t,n;return zt(this,function(i){switch(i.label){case 0:t=this.ST.entries(),n=t.next(),i.label=1;case 1:return n.done?[3,3]:[4,n.value[1].yT()];case 2:return i.sent(),n=t.next(),[3,1];case 3:return this.ST.clear(),[2]}})}).call(this)},n.SS=function(t,n,i){return Vt(function(){var t;return zt(this,function(n){return t=new bd(this.kS),this._T&&t.vT(this._T),this.TT.push(t),[2,t]})}).call(this)},n.ES=function(t){return ut.resolve(!1)},n.kT=function(t){if(t){var n=this.ST.get(t);return n||((n=this.TT.shift())?(n.dS=t,this.ST.set(t,n),n):void 0)}},t}(),Td=function(){function t(t,n){this.kS=void 0,this.ET=void 0,this.kS=t,this.ET=n}var n=t.prototype;return n.IS=function(){return ut.resolve(new Ad(this.kS,this.ET))},n.CS=function(){return this.ET},t}(),Sd=function(){function t(){}return t.prototype.nw=function(t,n){try{return ut.resolve(function(t,n){if(!Sd.LS())throw new p("Unsupported key system "+t);for(var i,r=Lt(n);!(i=r()).done;){var e=i.value,s=Qv(Ed,sh,t,e);if(s)return new Td(t,s)}throw new p("Unsupported key system configuration for "+t)}(t,n))}catch(t){return ut.reject(t)}},t.LS=function(){return Jo()},t}();function Ed(t,n){var i=Rr();return Boolean(i&&i.canPlayType&&""!==i.canPlayType(n,t))}F(),Et();var Id,Rd=function(){function t(){}return t.prototype.nw=function(t,n){return t===go||t===vo?ut.resolve(void 0):ut.reject(new y("DRM configuration not supported"))},t}();function Cd(){return Id||(Id=function(){var t=[];wd.LS()&&t.push(new wd);nd.LS()&&t.push(new nd);sd.LS()&&t.push(new sd);Sd.LS()&&t.push(new Sd);On.k_&&t.push(new Rd);return new md(t)}()),Id}F(),Et(),Dt(),F(),Et();var Dd=function(){function t(){this.PT=Ju()}var n=t.prototype;return n.Gy=function(t){this.PT.delete(t)},n.xT=function(){this.PT.clear()},n.Wy=function(t){return this.PT.get(t)},n.qy=function(t,n){this.PT.set(t,n)},t}(),Pd=function(){function t(){}return t.IT=function(){return t.Ng||(t.Ng=Nd.LS()?new Nd:new Dd),t.Ng},t.Gy=function(n){t.IT().Gy(n)},t.xT=function(){t.IT().xT()},t.Wy=function(n){return t.IT().Wy(n)},t.qy=function(n,i){t.IT().qy(n,i)},t}();Pd.Ng=void 0;var Nd=function(t){function n(){return t.apply(this,arguments)||this}Ct(n,t);var i=n.prototype;return i.Gy=function(t){self.sessionStorage.removeItem(t)},i.xT=function(){self.sessionStorage.clear()},i.Wy=function(t){var n;return null!=(n=self.sessionStorage.getItem(t))?n:void 0},i.qy=function(t,n){self.sessionStorage.setItem(t,n)},n.LS=function(){var t="foobar";try{return self.sessionStorage.setItem(t,t),self.sessionStorage.removeItem(t),!0}catch(t){return!1}},n}(Pd);F(),Et(),F(),Et(),Ut();var Bd=function(){var t=self.Blob;if(t)try{new t;return function(t){return function(n,i){return new t(n,i)}}(t)}catch(t){}var n=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder;if(n)return function(t){return function(n,i){var r=new t;if(n)for(var e,s=Lt(n);!(e=s()).done;){var u=e.value;r.append(u)}return r.getBlob(i&&i.type||"")}}(n)}();function xd(t,n,i){var r=Bd([n],{type:"application/octet-stream"}),e=URL.createObjectURL(r),s=function(t,n){var i=t,r=i.indexOf("?");if(r>=0&&(i=i.substr(0,r)),i=i.substr(i.lastIndexOf("/")+1),n){var e=i.indexOf(".");e<0&&(e=i.length),i=i.substr(0,e)+n+i.substr(e)}return i}(t,i),u=v.createElement("a");u.href=e,u.download=s,v.body.appendChild(u),u.click(),v.body.removeChild(u),URL.revokeObjectURL(e)}F(),Et();var Od="default";F(),Et(),Bt(),F(),Et(),F(),Et(),Dt(),F(),Et();var Md=function(t){return t.CT="arraybuffer",t.DT="json",t.BT="stream",t.NT="text",t}({});F(),Et(),H();var Ld=function(){function t(n){var i=this;this.Wm=void 0,this.Wm={},V(n,t)?n.asList().forEach(function(t){var n=t[0],r=t[1];i.append(n,r)}):Array.isArray(n)?n.forEach(function(t){var n=t[0],r=t[1];i.append(n,r)}):n&&k.getOwnPropertyNames(n).forEach(function(t){i.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var i=t,r=n;i=Ud(i),r=Fd(r);var e=i.toLowerCase();if(this.Wm.hasOwnProperty(e)){var s=this.Wm[e],u=s[1];s[1]=u?u+", "+r:r}else this.Wm[e]=[i,r]},n.delete=function(t){var n=Ud(t).toLowerCase();delete this.Wm[n]},n.get=function(t){var n=Ud(t).toLowerCase();return this.Wm.hasOwnProperty(n)?this.Wm[n][1]:null},n.has=function(t){var n=Ud(t).toLowerCase();return this.Wm.hasOwnProperty(n)},n.set=function(t,n){var i=t,r=(i=Ud(i)).toLowerCase();this.Wm[r]=[i,Fd(n)]},n.forEach=function(t,n){for(var i in this.Wm)this.Wm.hasOwnProperty(i)&&t.call(n,this.Wm[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.Wm)if(this.Wm.hasOwnProperty(n)){var i=this.Wm[n],r=i[0],e=i[1];t.push([r,e])}return t},n.MT=function(){var t={};return this.forEach(function(n,i){t[i]=n}),t},n.LT=function(t){var n=this;t.forEach(function(t,i){n.append(i,t)})},n.OT=function(t){var n=this;t.forEach(function(t,i){n.set(i,t)})},t}();function Ud(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new p("Invalid character in header field name");return n}function Fd(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}F(),Et(),Bt(),Dt(),F(),Et(),Bt(),Dt(),H(),F(),Et(),Ut();var Vd=U(Kt());F(),Et(),Bt(),Dt();var Hd=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=void 0,i.causes=n,i}return Ct(n,t),Nt(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(ar),Wd=t,zd=Jn(Wd.ReadableStream)&&Jn(Wd.WritableStream)&&Jn(Wd.TransformStream)&&Kn(Wd.ReadableStream.prototype.pipeThrough)&&!Te.Pp,Xd=zd?Wd.ReadableStream:Vd.ReadableStream,qd=(zd?Wd.WritableStream:Vd.WritableStream,zd?Wd.TransformStream:Vd.TransformStream),Gd=(zd&&Wd.ByteLengthQueuingStrategy?Wd.ByteLengthQueuingStrategy:Vd.ByteLengthQueuingStrategy,zd&&Wd.CountQueuingStrategy?Wd.CountQueuingStrategy:Vd.CountQueuingStrategy);function jd(t){return function(t){return new Xd({start:function(n){for(var i,r=Lt(t);!(i=r()).done;){var e=i.value;n.enqueue(e)}n.close()}})}([t])}function Qd(t){return jd(function(t){return new E(t)}(t))}function Yd(t,n){return function(t,n){var i=n,r=t.getReader(),e=new Vc,s=function(){u();var t=new fr;r.cancel(t).catch(di),e.jy(t)},u=function(){i&&(i.jg(s),i=void 0)};i&&(i.Hg?s():i.Xg(s));var o=[],h=function(t){return t.done?(u(),ut.resolve(o)):(o.push(t.value),ut.resolve(r.read()).then(h))};return ut.resolve(r.read()).then(h).then(function(t){u(),e.Xy(t)},function(t){u(),e.jy(t)}),e.Qy}(t,n).then(function(t){return Nc(t).buffer})}function Kd(t,n){var i=n,r=new qd,e=r.readable,s=r.writable,u=s.getWriter(),o=function(){i&&i.Zg()};return u.closed.then(o,o),t.then(function(t){return i=void 0,u.releaseLock(),t.pipeTo(s).catch(di)},function(t){return i=void 0,u.releaseLock(),s.abort(t).catch(di)}),e}function Jd(t){var n=new qd,i=n.readable,r=n.writable;return t.pipeTo(r,{preventCancel:!0}).catch(function(n){var i;i=Hn(n)?n[0]===n[1]||vr(n[0])&&vr(n[1])?n[0]:new Hd(n):n,t.cancel(i).catch(di)}),i.tee()}function Zd(t){return vc(new E(t))}function $d(t){return dc(t).buffer}F(),Et();var tl="text/plain;charset=UTF-8",nl=function(){function t(){}var n=t.prototype;return n.FT=function(t){return this.UT(t).then(JSON.parse)},n.VT=function(t,n){switch(t){case Md.CT:return this.HT(n);case Md.DT:return this.FT(n);case Md.BT:return this.WT();case Md.NT:return this.UT(n);default:throw new p}},t}();function il(t,n,i){if(V(t,nl))return t;if(V(t,Xd))return function(t,n){return new el({Km:0,WT:t,qT:rl(n)})}(t,i);var r=rl(i),e=ut.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{Km:Md.NT,zT:t,qT:n||tl};if(V(t,ArrayBuffer)||Rc(t))return{Km:Md.CT,zT:fl(t),qT:n};if(Xn(t)||Hn(t))return{Km:Md.DT,zT:t,qT:n};throw new p("Unsupported BodyInit type")}return{Km:Md.NT,zT:null,qT:n}}(t,r)});return new el({Km:1,Qy:e,GT:n})}function rl(t){return(t.get("content-type")||"").toLowerCase()}var el=function(t){function n(n){var i;return(i=t.call(this)||this).jT=!1,i.KT=void 0,i.JT=new Vc,i.JT.Qy.catch(di),i.ek(n),i}Ct(n,t);var i=n.prototype;return i.YT=function(){return this.JT.Qy},i.UT=function(t){return this.ZT(sl,t)},i.FT=function(t){return this.ZT(ol,t)},i.HT=function(t){return this.ZT(cl,t)},i.WT=function(){return this.$T(function(t){return 0===t.Km?t.WT:Kd(t.Qy.then(al).then(Qd),t.GT)}(this.KT))},i.ZT=function(t,n){if(this.jT)return ut.reject(new p("Already used"));this.jT=!0;var i=t(this.KT,n);return this.JT.$g(i.then(di)),i},i.$T=function(t){if(this.jT)throw new p("Already used");if(t.locked)throw new p("Body stream is locked");this.jT=!0;var n=new qd,i=ut.resolve(t.pipeTo(n.writable));return this.JT.$g(i),n.readable},i.ek=function(t){this.KT=t,1===t.Km&&t.Qy.catch(di)},i.nk=function(){if(this.jT)throw new p("Already used");var t=function(t){if(0===t.Km){var n=t.WT.tee(),i=n[0],r=n[1];return[{Km:t.Km,WT:i,qT:t.qT},{Km:t.Km,WT:r,qT:t.qT}]}var e=t.GT.tp(),s=e[0],u=e[1];return[{Km:t.Km,Qy:t.Qy,GT:s},{Km:t.Km,Qy:t.Qy,GT:u}]}(this.KT),i=t[0],r=t[1];return this.ek(i),new n(r)},Nt(n,[{key:"XT",get:function(){return this.jT}},{key:"QT",get:function(){return 0===this.KT.Km}}]),n}(nl);function sl(t,n){return 0===t.Km?Yd(t.WT,n).then(Zd):(n&&t.GT.$g(n),_r(t.Qy.then(ul),t.GT))}function ul(t){switch(t.Km){case Md.NT:return ut.resolve(t.zT||"");case Md.CT:return ut.resolve(t.zT).then(Zd);case Md.DT:return ut.resolve(t.zT).then(JSON.stringify)}}function ol(t,n){return 0===t.Km?sl(t,n).then(JSON.parse):(n&&t.GT.$g(n),_r(t.Qy.then(hl),t.GT))}function hl(t){return t.Km===Md.DT?ut.resolve(t.zT):ul(t).then(JSON.parse)}function cl(t,n){return 0===t.Km?Yd(t.WT,n):(n&&t.GT.$g(n),_r(t.Qy.then(al),t.GT))}function al(t){switch(t.Km){case Md.CT:return ut.resolve(t.zT);case Md.NT:case Md.DT:return ul(t).then($d)}}function fl(t){return V(t,ArrayBuffer)?t:bc(mc(t)).buffer}var vl=function(t){function n(n){var i;return(i=t.call(this)||this).rk=void 0,i.rk=n,i}Ct(n,t);var i=n.prototype;return i.YT=function(){return this.rk.YT()},i.UT=function(t){return this.rk.UT(t)},i.FT=function(t){return this.rk.FT(t)},i.HT=function(t){return this.rk.HT(t)},i.WT=function(t){return this.rk.WT(t)},i.nk=function(){return this.rk.nk()},Nt(n,[{key:"XT",get:function(){return this.rk.XT}},{key:"QT",get:function(){return this.rk.QT}}]),n}(nl);function dl(t){return t.hk>=200&&t.hk<=299||304===t.hk}var ll=function(t){function n(n,i){var r,e,s,u,o,h;i?(e=i.fk,s=i.dk,u=i.hk,o=i.vk,h=i._k):(e=[],s=Md.NT,u=200,o="OK",h=!1);var c=n.lk,a=new Ld(n.fk||e),f=n.dk||s,v=n.gk||(i&&i.lk===c?i.gk:c.Yu),d=i?i.rk:null,l=il(void 0!==n.ck?n.ck:d,n.GT||new hr,a);return(r=t.call(this,l)||this).fk=void 0,r.lk=void 0,r.gk=void 0,r.dk=void 0,r.hk=void 0,r.vk=void 0,r._k=void 0,r.fk=a,r.lk=c,r.gk=v,r.dk=f,r.hk=void 0!==n.hk?n.hk:u,r.vk=void 0!==n.vk?String(n.vk):o,r._k=n._k||h,r}Ct(n,t);var i=n.prototype;return i.ck=function(t){return this.VT(this.dk,t)},i.Ly=function(){return new n({ck:this.nk(),lk:this.lk},this)},n}(vl);F(),Et();var wl=function(t){return t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT",t}({}),gl=function(t){return t.pk="",t.wk="manifest",t.yk="segment",t.Ak="preload-hint",t.bk="content-protection",t}({}),_l=function(t){return t.pk="",t.Sk="initialization-segment",t.Tk="fairplay-license",t.Ek="fairplay-certificate",t.Pk="widevine-license",t.xk="widevine-certificate",t.Ik="playready-license",t.Rk="clearkey-license",t.Ck="aes128-key",t}({}),ml=function(t){return t.pk="",t.Dk="audio",t.Bk="video",t.NT="text",t.Nk="image",t}({}),yl=function(t){return t.Mk="same-origin",t.Lk="no-cors",t.Ok="cors",t.Fk="navigate",t}({}),pl=function(t,n){this.zT=void 0,this.fk=void 0,this.Uk=void 0,this.dk=void 0,this.Vk=void 0,this.Hk=void 0,this.Yg=void 0,this.Km=void 0,this.Wk=void 0,this.qk=void 0,this.Yu=void 0,this.zk=void 0,this.Gk=void 0,this.Xk=void 0,this.jk=void 0,this.Qk=void 0;var i,r,e,s,u,o,h,c,a,f,v,d,l,w,g,_,m,y,p=t.Yu;n?(i=n.zT,r=n.fk,e=n.Uk,s=n.dk,u=n.Vk,o=n.Hk,h=n.Yg,c=n.Km,a=n.Wk,f=n.qk,v=n.zk,d=n.Gk,l=n.Xk,w=n.jk,g=n.Qk):(i=null,r={},e="GET",s=Md.NT,u=0,o=0,c="",a="",f="",v=!1,l=void 0,w=!1,g=void 0),this.Yu=p,this.zT=t.zT||i,this.fk=new Ld(t.fk||r),this.Uk=t.Uk||e,this.dk=t.dk||s,this.Vk=void 0!==t.Vk?Number(t.Vk)||0:u,this.Hk=void 0!==t.Hk?Number(t.Hk)||0:o,this.Yg=t.Yg||h||(new hr).Yg,this.Km=t.Km||c,this.Wk=t.Wk||a,this.qk=t.qk||f,this.zk=void 0!==t.zk?Boolean(t.zk):v,this.Gk=t.Gk||d,this.Xk=null!=(_=t.Xk)?_:l,this.jk=null!=(m=t.jk)?m:w,this.Qk=null!=(y=t.Qk)?y:g},kl=function(){function t(){}var n=t.prototype;return n.lk=function(t){var n=function(t){return new ll({ck:null,fk:{},lk:t,gk:t.Yu,dk:t.dk,hk:0,vk:eh.Gw})}(new pl(t));return ut.resolve(n)},n.Kk=function(t){},n.kn=function(){},t}();var bl=function(){function t(t,n){void 0===n&&(n=!0),this.$k=void 0,this.iE=void 0,this.$k=t,this.iE=n}var n=t.prototype;return n.lk=function(t){var n=this.Zk(t);return this.$k.lk(n)},n.Kk=function(t){return this.$k.Kk(this.tE(t))},n.Zk=function(n){var i=new pl(n);if(!this.iE){var r=t.eE(i.Yu);i=new pl({Yu:r},i)}return i},n.tE=function(n){var i=n.Yu;return this.iE||(i=t.eE(i)),{Yu:i,zT:n.zT}},n.kn=function(){this.$k.kn()},t.eE=function(t){return Vn.Nm&&Uo(t,"http://")?t.replace(":","s:"):t},Nt(t,null,[{key:"Yk",get:function(){return t.Jk||(t.Jk=new t(new kl)),t.Jk}}]),t}();function Al(t,n){var i=Vn.Dh(t);return Tl(i,n),i.toString()}function Tl(t,n){for(var i,r=Lt(k.keys(n));!(i=r()).done;){var e=i.value;t.searchParams.set(e,n[e])}}function Sl(t,n){var i=Vn.xm(t);return n&&!Fo(i,"/")&&(i+="/"),i}bl.Jk=void 0,F(),Et(),F(),Et(),Wt(),Bt(),Dt(),Qt(),F(),Et(),Ut();var El=/cache:(.+)?(?=&|$)/;function Il(t){if(!Uo(t,"http://webcache.googleusercontent.com/search?q=cache:"))return"";var n=Vn.Dh(t).search.match(El);return n&&n.length>1?n[1]:""}function Rl(t){return Vn.Dh(".",t)}F(),Et(),Bt(),Dt(),F(),Et(),Bt(),Dt();var Cl=function(t){return t.sE="HttpOpenError",t.nE="HttpResponseError",t.rE="HttpTimeoutError",t}({}),Dl=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).hE=void 0,e.hE=n,e}return Ct(n,t),Nt(n,[{key:"lk",get:function(){return this.hE}}]),n}(ar),Pl=function(t){function n(n,i){return t.call(this,n,"Error while opening "+n.Yu+".",i)||this}return Ct(n,t),Nt(n,[{key:"name",get:function(){return Cl.sE}}]),n}(Dl);F(),Et(),Bt(),Dt();var Nl=function(t){function n(n,i,r){var e;return(e=t.call(this,n.lk,null!=r?r:function(t){return"Error while loading "+t.lk.Yu+", status code "+t.hk}(n),i)||this).aE=void 0,e.aE=n,e}return Ct(n,t),Nt(n,[{key:"name",get:function(){return Cl.nE}},{key:"oE",get:function(){return this.aE}}]),n}(Dl);F(),Et(),Bt(),Dt();var Bl=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.Yu+" timed out after "+t.Vk+" seconds."}(n),i)||this}return Ct(n,t),Nt(n,[{key:"name",get:function(){return Cl.rE}}]),n}(Dl);F(),Et();var xl=self.fetch,Ol=self.Request,Ml=self.Response,Ll=self.Headers,Ul=self.ReadableStream,Fl=self.AbortSignal,Vl=self.AbortController,Hl=_i(function(){try{return Kn(xl)&&Jn(Ol)&&Jn(Ml)&&Jn(Ll)&&"forEach"in Ll.prototype&&Qu()}catch(t){return!1}}),Wl=["http:","https:"];var zl=_i(function(){try{return Hl()&&Jn(Fl)&&Jn(Vl)&&"signal"in Ol.prototype}catch(t){return!1}}),Xl=_i(function(){try{return Hl()&&Jn(Ul)&&"body"in Ml.prototype&&!On.e_}catch(t){return!1}});function ql(t){return V(t,Dl)}function Gl(t){return V(t,Nl)}function jl(t,n){var i,r=t.fk.has("content-length")?Number(t.fk.get("content-length")):void 0;return i=t.QT?function(t,n,i){return t.pipeThrough(new qd(new Ql(n,i)))}(t.WT(),n,r):function(t,n,i){return Vt(function(){var r,e;return zt(this,function(s){switch(s.label){case 0:return[4,ut.resolve()];case 1:return s.sent(),n(0,i),[4,t];case 2:return r=s.sent(),e=r.byteLength,n(e,null!=i?i:e),[2,r]}})})()}(t.HT(),n,r),new ll({ck:i,lk:t.lk},t)}F(),Et(),H(),F(),Et(),Wt(),Qt();var Ql=function(){function t(t,n){this.cE=void 0,this.dE=void 0,this.uE=void 0,this.cE=t,this.dE=n,this.uE=0}var n=t.prototype;return n.transform=function(t,n){this.uE+=t.byteLength,this.cE(this.uE,this.dE),n.enqueue(t)},n.flush=function(t){var n;this.cE(this.uE,null!=(n=this.dE)?n:this.uE)},t}();var Yl=function(){function t(t){this.oE=void 0,this.hE=void 0,this.nT=new hr,this.aE=void 0,this.fE=0,this.vE=!1,this.hE=t,this.nT.$g(t.Yg),this.oE=this.lE()}var n=t.prototype;return n.lE=function(){return Vt(function(){var t,n,i,r,e,s,u,o,h,c;return zt(this,function(a){switch(a.label){case 0:t=this,(n=this.hE).Vk&&(this.fE=w(function(){t.vE=!0,t.nT.Zg()},n.Vk),this.nT.Yg.Qg(function(){g(t.fE)}));try{i=xl(n.Yu,{method:n.Uk,headers:n.fk.MT(),body:n.zT,credentials:n.zk?"include":"same-origin",signal:Zl(this.nT.Yg),mode:n.Xk,keepalive:n.Qk})}catch(t){throw new Pl(n,t)}a.label=1;case 1:return a.trys.push([1,3,,4]),[4,i];case 2:return r=a.sent(),[3,4];case 3:throw e=a.sent(),vr(s=this._E(e))&&this.nT.Zg(),s;case 4:if(u=r.url||n.Yu,o=0===r.status&&"file:"===function(t){return Vn.Dh(t).protocol}(u)?200:r.status,h=new Kl(this,r,this.nT),!dl(c=new ll({ck:h,lk:n,dk:n.dk,fk:$l(r.headers),hk:o,vk:r.statusText,gk:u})))throw new Nl(c);return n.Gk&&(c=jl(c,n.Gk)),[2,c]}})}).call(this)},n._E=function(t){return ql(t)?t:vr(t)?this.vE?new Bl(this.hE):new fr(t.message,t):this.aE?new Nl(this.aE,t):new Pl(this.hE,t)},t}(),Kl=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).pE=void 0,e.gE=void 0,e.nT=void 0,e.JT=new Vc,e.pE=n,e.gE=i,e.nT=r,e.JT.Qy.catch(di),e}Ct(n,t);var i=n.prototype;return i.YT=function(){return this.JT.Qy},i.UT=function(t){return this.ZT(this.gE.text(),t)},i.HT=function(t){return this.ZT(this.gE.arrayBuffer(),t)},i.WT=function(){var t=this.gE.body;return t?this.$T(t):Kd(this.HT().then(Qd),this.nT)},i.nk=function(){var t=this.gE.clone(),i=this.nT.tp(),r=i[0],e=i[1];return this.nT=r,new n(this.pE,t,e)},i.ZT=function(t,n){var i=this;n&&this.nT.$g(n);var r=gr(ut.resolve(t),this.nT.Yg).catch(function(t){throw i.pE._E(t)});return r=_r(r,this.nT),this.JT.$g(r.then(di)),r},i.$T=function(t){var n=this;return new Xd(new tw(t,function(t){return n.pE._E(t)},this.nT,this.JT),{highWaterMark:0})},Nt(n,[{key:"XT",get:function(){return this.gE.bodyUsed}},{key:"QT",get:function(){return Un(this.gE.body)}}]),n}(nl),Jl="abort";function Zl(t){if(zl()){var n=new Vl;if(t.Hg)n.abort();else if(!t.Wg){var i=function(){r(),n.abort()},r=function(){n.signal.removeEventListener(Jl,i),t.jg(i),t.Kg(r)};n.signal.addEventListener(Jl,i),t.Xg(i),t.Qg(r)}return n.signal}}function $l(t){if(function(t){return zn(t)&&"function"==typeof t.forEach}(t)){var n=new Ld;return t.forEach(function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)}),n}return new Ld(t)}var tw=function(){function t(t,n,i,r){this.mE=void 0,this.wE=void 0,this.nT=void 0,this.JT=void 0,this.Wd=void 0,this.mE=t,this.wE=n,this.nT=i,this.JT=r}var n=t.prototype;return n.start=function(t){this.Wd=this.mE.getReader()},n.pull=function(t){return Vt(function(){var n,i,r;return zt(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,gr(this.Wd.read(),this.nT.Yg)];case 1:return n=e.sent(),[3,3];case 2:return i=e.sent(),r=this.wE(i),this.JT.jy(r),this.nT.Zg(),this.Wd.cancel(r).catch(di),t.error(r),[2];case 3:return n.done?(this.JT.Xy(),this.nT.Zg(),t.close()):t.enqueue(n.value),[2]}})}).call(this)},n.cancel=function(t){return this.nT.Zg(),this.JT.jy(t),this.Wd.cancel(t)},t}();F(),Et(),Bt();var nw=function(){function t(t){var n=this;this.AE=void 0,this.hE=void 0,this.nT=new hr,this.aE=void 0,this.yE=new Vc,this.DE=void 0,this.RE=!1,this.xE=function(){var t;n.bE(),null==(t=n.AE)||t.abort()},this.hE=t,this.nT.$g(t.Yg),this.AE=new R,this.lE()}var n=t.prototype;return n.lE=function(){var t=this,n=this.AE,i=this.hE;if(i.Yg.Hg)return this.bE();n.onreadystatechange=function(){return t.SE()},n.onprogress=function(n){return t.cE(n)},n.onload=function(){return t.TE()},n.onloadend=function(){return t.kE()},n.onerror=function(){return t.EE()},n.ontimeout=function(){return t.PE()},n.onabort=function(){return t.bE()},n.open(i.Uk,i.Yu,!0),n.withCredentials=Boolean(i.zk),"responseType"in n&&i.dk&&(i.dk===Md.NT?n.responseType="text":n.responseType="arraybuffer"),i.fk.forEach(function(t,i){n.setRequestHeader(i,t)}),i.Vk&&(n.timeout=i.Vk),this.nT.Yg.Xg(this.xE);var r=i.zT;r?n.send(r):n.send()},n.SE=function(){var t=this.AE;void 0!==t&&t.readyState>=2&&!this.RE&&(this.RE=!0,this.CE())},n.CE=function(){var t,n,i=this.AE,r=function(t){var n=new Ld,i=t.replace(/\r?\n[\t ]+/g," ");return i.split(/\r?\n/).forEach(function(t){var i=t.split(":"),r=i.shift().trim();if(r){var e=i.join(":").trim();n.append(r,e)}}),n}(i.getAllResponseHeaders()||""),e=this.hE;this.DE=new Vc,this.aE=new ll({lk:e,dk:e.dk,ck:this.DE.Qy,hk:i.status,vk:i.statusText,fk:r,gk:null!=(n=i.responseURL)?n:r.get("X-Request-URL")}),null==(t=this.yE)||t.Xy(this.aE)},n.TE=function(){var t,n=this.AE;if(void 0!==n){var i=n.response;if(!Un(i)){var r=this.hE.dk;i=r===Md.NT?n.responseText:r===Md.CT?new ArrayBuffer(0):{}}null==(t=this.DE)||t.Xy(i)}},n.kE=function(){this.kn()},n.cE=function(t){void 0!==this.AE&&(null==this.hE.Gk||this.hE.Gk.call(this.hE,t.loaded,t.lengthComputable?t.total:void 0))},n.EE=function(){var t=new y("Network request failed");this.aE?this.Ts(new Nl(this.aE,t)):this.Ts(new Pl(this.hE,t))},n.PE=function(){this.Ts(new Bl(this.hE))},n.bE=function(){this.Ts(new fr),this.kn()},n.Ts=function(t){var n,i;null==(n=null!=(i=this.DE)?i:this.yE)||n.jy(t)},n.kn=function(){this.AE=void 0,this.aE=void 0,this.yE=void 0,this.DE=void 0,this.nT.zg()},Nt(t,[{key:"oE",get:function(){return this.yE.Qy}}]),t}();function iw(t,n,i){return new ut(function(r,e){if(i&&i.Hg)return e(new fr);var s=function(t){o(),r(t)},u=function(){o(),e(new fr)},o=function(){t.removeEventListener(n,s),i&&i.jg(u)};t.addEventListener(n,s),i&&i.Xg(u)})}F(),Et();var rw=function(){function t(){}var n=t.prototype;return n.lk=function(t){return function(t){if(!Hl()||!function(t){try{return Wl.indexOf(new self.URL(t,self.location.href).protocol)>=0}catch(t){return!1}}(t.Yu))return!1;if(!Xl()&&t.Gk)return!1;if(!t.jk&&t.Uk!==wl.POST){if(On.S_&&On.d_<=68)return!1;if(On.w_)return!1}return!0}(t)?new Yl(t).oE:new nw(t).oE},n.Kk=function(t){var n=f.navigator;if(n&&n.sendBeacon)n.sendBeacon(t.Yu,Bd([t.zT],{type:t.qT}));else{var i=t.qT?{"Content-type":t.qT}:void 0;this.lk(new pl({Uk:wl.POST,Yu:t.Yu,zT:t.zT,fk:i,Xk:yl.Lk})).then(function(t){kr(t.HT())},di)}},n.kn=function(){},t}();F(),Et(),Bt(),Dt(),F(),Et();var ew=function(t){return t[t.BE=1]="BE",t[t.NE=2]="NE",t[t.NT=3]="NT",t[t.LE=4]="LE",t[t.OE=9]="OE",t}({});function sw(t){return 1===t.FE}function uw(t){return 3===t.FE}F(),Et(),Dt();var ow=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return Ct(n,t),n}(ar),hw=function(){function t(){}return t.prototype.UE=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new ow(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new ow;return new ww(n)},t}(),cw=function(){function t(t){this.HE=void 0,this.HE=t}var n=t.prototype;return n.GE=function(t){return this.HE.isEqualNode(t.HE)},n.XE=function(n){return new t(this.HE.cloneNode(n))},Nt(t,[{key:"FE",get:function(){return ew.NE}},{key:"VE",get:function(){var t;return null!=(t=this.HE.localName)?t:mw(this.HE.nodeName)}},{key:"l",get:function(){return this.HE.nodeName}},{key:"WE",get:function(){var t;return null!=(t=this.HE.namespaceURI)?t:void 0}},{key:"qE",get:function(){var t;return null!=(t=this.HE.prefix)?t:void 0}},{key:"zE",get:function(){return this.HE.nodeValue}}]),t}(),aw=function(){function t(t){this.KE=void 0,this.QE=void 0,this.KE=t}var n=t.prototype;return n.YE=function(t){return this.jE.filter(function(n){return gw(n)&&n.JE===t})},n.ZE=function(t,n){return this.jE.filter(function(i){return gw(i)&&i.VE===n&&i.WE===t})},n.tP=function(t){this.KE.appendChild(t.$E),this.QE&&this.QE.push(t)},n.GE=function(t){return this.KE.isEqualNode(t.$E)},Nt(t,[{key:"jE",get:function(){return void 0===this.QE&&(this.QE=function(t){for(var n=[],i=0;i<t.length;i++){var r=_w(t.item(i));r&&n.push(r)}return n}(this.KE.childNodes)),this.QE}},{key:"m",get:function(){return this.jE.filter(gw)}},{key:"$E",get:function(){return this.KE}}]),t}(),fw=function(t){function n(n){return t.call(this,n)||this}Ct(n,t);var i=n.prototype;return i.sP=function(t){if(this.KE.hasAttribute(t))return this.KE.getAttribute(t)},i.nP=function(t,n){if(this.KE.hasAttributeNS(t,n))return this.KE.getAttributeNS(t,n)},i.rP=function(t){this.KE.removeAttribute(t)},i.hP=function(t,n){this.KE.removeAttributeNS(t,n)},i.oP=function(t,n){this.KE.setAttribute(t,n)},i.aP=function(t,n,i){this.KE.setAttributeNS(t,n,i)},i.XE=function(t){return new n(this.KE.cloneNode(t))},Nt(n,[{key:"FE",get:function(){return ew.BE}},{key:"VE",get:function(){var t;return null!=(t=this.KE.localName)?t:mw(this.KE.nodeName)}},{key:"WE",get:function(){var t;return null!=(t=this.KE.namespaceURI)?t:void 0}},{key:"qE",get:function(){var t;return null!=(t=this.KE.prefix)?t:void 0}},{key:"JE",get:function(){return this.KE.nodeName}},{key:"iP",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new cw(t.item(i)));return n}(this.KE.attributes)}},{key:"eP",get:function(){return this.KE.textContent}}]),n}(aw),vw=function(){function t(t){this.KE=void 0,this.KE=t}return t.prototype.GE=function(t){return this.ck===t.ck},Nt(t,[{key:"ck",get:function(){return this.KE.nodeValue}},{key:"$E",get:function(){return this.KE}}]),t}(),dw=function(t){function n(n){return t.call(this,n)||this}return Ct(n,t),n.prototype.XE=function(t){return new n(this.KE.cloneNode(t))},Nt(n,[{key:"FE",get:function(){return ew.NT}}]),n}(vw),lw=function(t){function n(n){return t.call(this,n)||this}return Ct(n,t),n.prototype.XE=function(t){return new n(this.KE.cloneNode(t))},Nt(n,[{key:"FE",get:function(){return ew.LE}}]),n}(vw),ww=function(t){function n(n){return t.call(this,n)||this}return Ct(n,t),n.prototype.XE=function(t){return new n(this.KE.cloneNode(t))},Nt(n,[{key:"FE",get:function(){return ew.OE}},{key:"uP",get:function(){return new fw(this.KE.documentElement)}}]),n}(aw);function gw(t){return sw(t)}function _w(t){switch(t.nodeType){case ew.BE:return new fw(t);case ew.NT:return new dw(t);case ew.LE:return new lw(t)}}function mw(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}var yw=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).cP=void 0,n.lP=Xl(),n.vP=On.cg||On.e_,n.gP=(On.cg||On.S_&&On.d_<=68||On.e_)&&!(On.w_&&On.A_<3),n.TP=void 0,n.kP=new hw,n}return Ct(n,t),n.prototype.UE=function(t){return this.kP.UE(t)},Nt(n,[{key:"gm",get:function(){return this.cP||(this.cP=new Zo(Cd())),this.cP}},{key:"dP",get:function(){return this.lP}},{key:"fP",get:function(){return this.vP}},{key:"_P",get:function(){return this.gP}},{key:"pP",get:function(){return!1}},{key:"mP",get:function(){return Pd.IT()}},{key:"wP",get:function(){return{yP:xd}}},{key:"AP",get:function(){return l.connection&&l.connection.effectiveType||Od}},{key:"bP",get:function(){return l.connection&&l.connection.type||"unknown"}},{key:"SP",get:function(){return this.TP||(this.TP=new bl(new rw)),this.TP}}]),n}(Gu);!function(t){Vn=t}(new yw),F(),Et(),F(),Et(),Wt(),Bt(),Dt(),Ut(),Qt(),F(),Et(),Dt();var pw=function(t){function n(n,i){var r;return(r=t.call(this,eh._y)||this).currentTime=void 0,r.currentProgramDateTime=void 0,r.currentTime=n,r.currentProgramDateTime=i,r}return Ct(n,t),n}(rh);F(),Et(),Dt(),F(),Et(),Bt(),Dt(),F(),Et(),Dt(),F(),Et(),Dt(),F(),Et(),Bt(),Dt();var kw=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).hu=void 0,r}return Ct(n,t),Nt(n,[{key:"Ca",get:function(){return this.hu||(this.hu=this.xa()),this.hu}}]),n}(rh);function bw(t){return Boolean(t&&t.Ca)}var Aw=function(t){function n(n){return t.call(this,n)||this}return Ct(n,t),n}(kw),Tw=function(t){function n(n){return t.call(this,n)||this}return Ct(n,t),n}(rh);F(),Et();var Sw=function(t){return t.eI="sI",t.nI="rI",t}({}),Ew=function(t){function n(n){var i;return(i=t.call(this,Sw.eI)||this).Ht=void 0,i.Ht=n,i}return Ct(n,t),n.prototype.xa=function(){return new Iw(this.Ht.Ca)},n}(Aw),Iw=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=void 0,i.track=n,i}return Ct(n,t),n}(Tw);F(),Et(),Dt();var Rw=function(t){function n(n){var i;return(i=t.call(this,Sw.nI)||this).Ht=void 0,i.Ht=n,i}return Ct(n,t),n.prototype.xa=function(){return new Cw(this.Ht.Ca)},n}(Aw),Cw=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=void 0,i.track=n,i}return Ct(n,t),n}(Tw);F(),Et();var Dw=function(t){return t.hI="oI",t.aI="uI",t.cI="dI",t.lI="fI",t.vI="_I",t.gI="pI",t.pa="mI",t.wI="yI",t.AI="bI",t.SI="er",t.TI="kI",t.EI="xI",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality",t}({}),Pw=function(t){function n(){var n;return(n=t.call(this)||this).RI=[],n.hu=void 0,n}Ct(n,t);var i=n.prototype;return i.CI=function(t){return this.RI[t]},i.tt=function(t){return!(!t||ji(this.RI,t))&&(this.RI.push(t),this.hu&&this.hu.push(t.Ca),t.wn(Dw.pa,this.Rs),this.So(new Ew(t)),!0)},i.it=function(t){if(!t)return!1;var n=this.RI.indexOf(t);return!(n<0)&&(qi(this.RI,n),this.hu&&qi(this.hu,n),t.mn(Dw.pa,this.Rs),this.So(new Rw(t)),!0)},i.DI=function(t){return ji(this.RI,t)},i.hr=function(){for(var t=this.RI,n=t.length-1;n>=0;n-=1)this.it(t[n])},i.kn=function(){this.hr(),this.Vo()},Nt(n,[{key:"II",get:function(){return this.RI}},{key:"Ca",get:function(){return this.hu||(this.hu=this.xa()),this.hu}},{key:"V",get:function(){return this.RI.length}}]),n}(th);F(),Et(),Ut(),F(),Et(),H(),F(),Et(),Ut();var Nw=k.freeze||li;function Bw(t,n,i){k.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function xw(t,n){for(var i,r=Lt(k.getOwnPropertyNames(n));!(i=r()).done;){var e=i.value;k.defineProperty(t,e,k.getOwnPropertyDescriptor(n,e))}return t}function Ow(t){if(Xn(t)){var n={};for(var i in t)Mn.call(t,i)&&(n[i]=Ow(t[i]));return n}if(Hn(t)){for(var r=new Array(t.length),e=0;e<r.length;e++)e in t&&(r[e]=Ow(t[e]));return r}return t}function Mw(t,n){return t===n||!(!t||!n)&&(!(!zn(t)||!zn(n))&&(Wn(t)?!!Wn(n)&&function(t,n){var i=t.length,r=n.length;if(i!==r)return!1;for(var e=0;e<i;e+=1)if(!Mw(t[e],n[e]))return!1;return!0}(t,n):!Wn(n)&&function(t,n){var i=k.keys(t),r=k.keys(n);if(!i||!r||i.length!==r.length)return!1;for(var e,s=Lt(i);!(e=s()).done;){var u=e.value;if(!Mn.call(n,u)||!Mw(t[u],n[u]))return!1}return!0}(t,n)))}function Lw(t,n){return t.constructor===n.constructor}function Uw(t){for(var n,i={},r=Lt(k.keys(t));!(n=r()).done;){var e=n.value,s=t[e];null!=s&&(i[e]=s)}return i}function Fw(t){for(var n,i={},r=Lt(k.keys(t));!(n=r()).done;){var e=n.value,s=t[e];if(Wn(s)){for(var u=[],o=0;o<s.length;o+=1){var h=s[o];if(null!=h){var c=zn(h)?Fw(h):h;u.push(c)}}i[e]=u}else null!=s&&(i[e]=zn(s)?Fw(s):s)}return i}function Vw(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function Hw(t){return Un(t)?Vw(t):void 0}function Ww(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||V(t,Date)||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function zw(t){var n=Ww(t);if(S(n))throw new y("Expected a valid number.");return n}function Xw(t){return"string"==typeof t?t:""}function qw(t,n){if(!Wn(t))return[];for(var i=0|t.length,r=new Array(i),e=0;e<i;e++)r[e]=n(t[e]);return r}function Gw(t,n){return Wn(t)?qw(t,n):n(t)}F(),Et();var jw=[Sw.eI,Sw.nI,Dw.pa];function Qw(t){var n,i=t.II.map(function(t){return t.Ca});return i.item=function(n){var i=0|n,r=t.CI(i);return r&&r.Ca||void 0},i.addEventListener=function(t,i){n.wn(t,i)},i.removeEventListener=function(t,i){n.mn(t,i)},n=new nh(i),t.wn(jw,function(t){return n.So(t.Ca)}),i}F(),Et();var Yw=function(t){return t[t.VI=0]="VI",t[t.HI=1]="HI",t[t.WI=2]="WI",t[t.qI=3]="qI",t[t.zI=4]="zI",t[t.TRANSCRIBES_SPOKEN_DIALOG=5]="TRANSCRIBES_SPOKEN_DIALOG",t[t.DESCRIBES_MUSIC_AND_SOUND=6]="DESCRIBES_MUSIC_AND_SOUND",t[t.GI=7]="GI",t}({});function Kw(t){switch(t){case 0:return"caption";case 2:return"sign";case 1:return"description";case 3:return"enhanced audio intelligibility";case 4:return"easy reader";case 5:return"transcribes spoken dialog";case 6:return"describes music and sound";case 7:return"describes video"}}function Jw(){}function Zw(t){var n,i=[Dw.SI,Dw.pa,Dw.TI,Dw.EI,Dw.QUALITY_UNAVAILABLE],r={get activeQuality(){return t.XI&&t.XI.Ca},get enabled(){return t.Rt},set enabled(n){t.Rt=Vw(n)},get id(){return t.o},get uid(){return t.jI},get kind(){return t.Lt},get label(){return t.Th},set label(n){t.Th=Xw(n)},get accessibility(){var n,i;return null!=(i=null==(n=t.QI)?void 0:n.map(Kw))?i:[]},get language(){return t.bs},get qualities(){return t.KI.Ca},set targetQuality(n){var i;i=n?function(t,n){for(var i,r=[],e=Lt(t.KI.II);!(i=e()).done;)for(var s,u=i.value,o=Lt(n);!(s=o()).done;){var h=s.value;u.Ca===h&&r.push(u)}return r}(t,Hn(n)?n:[n]):[],i.length>0?t.YI=i:t.YI=void 0},get targetQuality(){if(t.YI)return 1===t.YI.length?t.YI[0].Ca:t.YI.map(function(t){return t.Ca})},addEventListener:function(t,i){var r=Gw(t,Xw);n.wn(r,i)},removeEventListener:function(t,i){var r=Gw(t,Xw);n.mn(r,i)}};return n=new nh(r),t.wn(i,function(t){return n.So(t.Ca)}),k.defineProperty(r,"constructor",{value:Jw}),r}function $w(){}function tg(t){var n=Qw(t);return k.defineProperty(n,"constructor",{value:$w}),n}var ng=function(t){function n(){return t.apply(this,arguments)||this}Ct(n,t);var i=n.prototype;return i.tt=function(n){return t.prototype.tt.call(this,n)},i.xa=function(){return tg(this)},n}(Pw);F(),Et(),F(),Et();var ig=function(t){return t.Dk="audio",t.Bk="video",t.NT="text",t.Nk="image",t.pk="unknown",t}({});function rg(t){return"audio"===t||"video"===t}F(),Et(),Bt(),Dt(),F(),Et(),Bt(),Dt();var eg=function(t){function n(n,i,r,e,s,u,o,h){var c;return(c=t.call(this,n,i,r)||this).url=void 0,c.status=void 0,c.statusText=void 0,c.response=void 0,c.systemCode=void 0,c.url=e,c.status=s,c.statusText=u,c.response=o,c.systemCode=h,c}return Ct(n,t),Nt(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(fd);var sg=function(t){return t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR",t}({}),ug=function(t){function n(n,i,r,e){var s;return(s=t.call(this,i)||this).code=void 0,s.message=void 0,s.cause=void 0,s.systemCode=void 0,s.code=n,s.message=null!=i?i:"Unknown error",s.cause=r,s.systemCode=e,y.captureStackTrace&&y.captureStackTrace(s,s.constructor),s}return Ct(n,t),Nt(n,[{key:"name",get:function(){return"MediaError"}}]),n}(cr);function og(t){Bw(t,"MEDIA_ERR_ABORTED",1),Bw(t,"MEDIA_ERR_NETWORK",2),Bw(t,"MEDIA_ERR_DECODE",3),Bw(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",4),Bw(t,"MEDIA_ERR_ENCRYPTED",5)}function hg(t){var n,i;return function(t){return t.category===ad.CONTENT_PROTECTION}(t)?new ug(5,t.message,null==(n=t.cause)?void 0:n.message,t.systemCode):new ug(function(t){if(t===cd.MEDIA_ABORTED)return 1;if(t===cd.MANIFEST_LOAD_ERROR||t===cd.MEDIA_LOAD_ERROR||t===cd.SUBTITLE_LOAD_ERROR)return 2;if(t===cd.MEDIA_DECODE_ERROR)return 3;if(t===cd.MEDIA_NOT_SUPPORTED)return 4;var n=ad.fromCode(t);if(n===ad.NETWORK)return 2;if(n===ad.SOURCE)return 4;if(n===ad.LICENSE)return 6;if(n===ad.CONTENT_PROTECTION)return 5;if(n===ad.AD)return 7;return 3}(t.code),t.message,null==(i=t.cause)?void 0:i.message)}function cg(t){return new fd(ag(t.code),t.message,t)}function ag(t){switch(t){case 1:return cd.MEDIA_ABORTED;case 2:return cd.NETWORK_ERROR;case 3:return cd.MEDIA_DECODE_ERROR;case 4:return cd.SOURCE_NOT_SUPPORTED;case 5:return cd.CONTENT_PROTECTION_ERROR;case 6:return cd.LICENSE_ERROR;case 7:return cd.AD_ERROR}}og(ug),og(ug.prototype),F(),Et(),Bt(),Dt(),F(),Et(),Dt();var fg=function(t){function n(){return t.apply(this,arguments)||this}return Ct(n,t),n}(ih);F(),Et(),Bt(),F(),Et();var vg=function(){function t(){this.dO=[],this.hu=void 0}var n=t.prototype;return n.lO=function(t){this.dO.push(t),this.hu&&this.hu.push(t.Ca)},n._S=function(t){Xi(this.dO,t),this.hu&&Xi(this.hu,t.Ca)},n.CI=function(t){return this.dO[t]},n.fO=function(t){return Hn(t)?function(t,n){for(var i,r=Lt(n);!(i=r()).done;)if(!ji(t,i.value))return!1;return!0}(this.dO,t):ji(this.dO,t)},n.hr=function(){Yi(this.dO),this.hu&&Yi(this.hu)},Nt(t,[{key:"II",get:function(){return this.dO}},{key:"V",get:function(){return this.dO.length}},{key:"Ca",get:function(){return this.hu||(this.hu=function(t){var n=t.II.map(function(t){return t.Ca});return n.item=function(n){var i=0|n,r=t.CI(i);return r&&r.Ca||void 0},n}(this)),this.hu}}]),t}();F(),Et(),Dt();var dg=function(t){function n(n){var i;return(i=t.call(this,Dw.pa)||this).Ht=void 0,i.Ht=n,i}return Ct(n,t),n.prototype.xa=function(){return new lg(this.Ht.Ca)},n}(Aw),lg=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=void 0,i.track=n,i}return Ct(n,t),n}(Tw);F(),Et(),Dt();var wg=function(t){function n(n){var i;return(i=t.call(this,Dw.SI)||this).Ht=void 0,i.Ht=n,i}return Ct(n,t),n.prototype.xa=function(){return new gg(this.Ht.Ca)},n}(Aw),gg=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=void 0,i.track=n,i}return Ct(n,t),n}(Tw);F(),Et();var _g=0;function mg(){return _g++}var yg=0;var pg=0;function kg(){return pg++}var bg=0;function Ag(){return bg++}var Tg=0;var Sg=function(t){function n(n){var i;return(i=t.call(this)||this).Km=ig.Dk,i._O=void 0,i.hS=void 0,i.pO=void 0,i.gO=void 0,i.We=!1,i.dO=void 0,i.hu=void 0,i._O=n,i.gO=mg(),i.hS=""+Tg++,i.pO=n.label,i.dO=new vg,i.yO(),i}Ct(n,t);var i=n.prototype;return i.wO=function(t){this.Rt=t},i.yO=function(){this.Rt=this.vO},Nt(n,[{key:"XI",get:function(){}},{key:"Rt",get:function(){return this.We},set:function(t){this.We!==t&&(this.We=t,this.vO=t,this.So(new dg(this)))}},{key:"vO",get:function(){return this._O.enabled},set:function(t){this._O.enabled=t}},{key:"Ca",get:function(){return this.hu||(this.hu=Zw(this)),this.hu}},{key:"o",get:function(){return this.hS}},{key:"jI",get:function(){return this.gO}},{key:"Lt",get:function(){return this._O.kind}},{key:"Th",get:function(){return this.pO},set:function(t){t!==this.pO&&(this.pO=t,this.So(new wg(this)))}},{key:"bs",get:function(){return this._O.language}},{key:"Xk",get:function(){return this.Rt?"enabled":"disabled"}},{key:"mO",get:function(){return this._O}},{key:"KI",get:function(){return this.dO}},{key:"YI",get:function(){},set:function(t){}}]),n}(th);F(),Et(),Bt(),Dt();var Eg=0;var Ig=function(t){function n(n){var i;return(i=t.call(this)||this).Km=ig.Bk,i._O=void 0,i.hS=void 0,i.gO=void 0,i.We=!1,i.dO=void 0,i.pO=void 0,i.hu=void 0,i._O=n,i.gO=mg(),i.hS=""+Eg++,i.dO=new vg,i.pO=n.label,i.yO(),i}Ct(n,t);var i=n.prototype;return i.yO=function(){this.Rt=this.vO},i.wO=function(t){this.Rt=t},Nt(n,[{key:"XI",get:function(){}},{key:"Rt",get:function(){return this.We},set:function(t){this.We!==t&&(this.We=t,this.vO=t,this.So(new dg(this)))}},{key:"vO",get:function(){return Boolean(this._O.selected)},set:function(t){this._O.selected=t}},{key:"Ca",get:function(){return this.hu||(this.hu=Zw(this)),this.hu}},{key:"o",get:function(){return this.hS}},{key:"jI",get:function(){return this.gO}},{key:"Lt",get:function(){return"main"}},{key:"Th",get:function(){return this.pO},set:function(t){t!==this.pO&&(this.pO=t,this.So(new wg(this)))}},{key:"bs",get:function(){return this._O.language}},{key:"Xk",get:function(){return this.Rt?"enabled":"disabled"}},{key:"mO",get:function(){return this._O}},{key:"KI",get:function(){return this.dO}},{key:"YI",get:function(){},set:function(t){}}]),n}(th);F(),Et(),Dt();var Rg=function(t){function n(n){var i;return(i=t.call(this,eh.yw)||this).KP=void 0,i.KP=n,i}return Ct(n,t),n}(rh);F(),Et(),Wt(),Dt(),Ut(),Qt(),F(),Et();var Cg=function(t){return t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR",t}({});F(),Et();var Dg=function(t){return t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange",t.MILLICAST="millicast",t}({});function Pg(t){switch(t){case"":case"srt":case"ttml":case"webvtt":case"emsg":case"eventstream":case"id3":case"cea608":case"daterange":case"millicast":return!0;default:return!1}}F(),Et(),Ut(),F(),Et();var Ng=function(t){return t.AO="cue",t.bO="region",t.SO="stylesheet",t}({});F(),Et(),Bt(),Dt(),F(),Et();var Bg={"line-left":"start",center:"middle","line-right":"end"},xg={start:"line-left",middle:"center",end:"line-right"};function Og(t,n){if("auto"===t)switch(n){case"start":case"left":return"line-left";case"end":case"right":return"line-right";default:return"center"}return t}function Mg(t,n){if("auto"===t)switch(n){case"left":return 0;case"right":return 100;default:return 50}return function(t,n){var i="number"==typeof t?t:T(t);return S(i)?n:i}(t,50)}F(),Et(),F(),Et(),F(),Et(),Dt();var Lg=function(t){return t.zL="yo",t.GL="jo",t.SI="er",t}({}),Ug=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).TO=void 0,r.TO=i,r}return Ct(n,t),n}(Aw),Fg=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).cue=void 0,r.cue=i,r}return Ct(n,t),n}(Tw);function Vg(t){var n,i=[Lg.zL,Lg.GL,Lg.SI],r={get kO(){return t},get track(){return t.Ht.Ca},get id(){return t.o},get uid(){return t.jI},get startTime(){return t.EO},set startTime(n){t.EO=n},get endTime(){return t.PO},set endTime(n){t.PO=n},get content(){return t.U},addEventListener:function(t,i){var r=Gw(t,Xw);n.wn(r,i)},removeEventListener:function(t,i){var r=Gw(t,Xw);n.mn(r,i)}};return n=new nh(r),t.wn(i,function(t){return n.So(t.Ca)}),r}function Hg(){}function Wg(t){return xw(Vg(t),{get align(){return t.xO},get line(){return t.IO},get lineAlign(){return t.RO},get position(){return t.mo},get positionAlign(){return t.CO},get region(){return t.DO?t.DO.Ca:null},get size(){return t.Vy},get snapToLines(){return t.BO},get text(){return t.U},get vertical(){return t.Pt}})}F(),Et(),Bt(),Dt(),F(),Et(),Dt();var zg=function(t){function n(n){return t.call(this,Lg.SI,n)||this}return Ct(n,t),n.prototype.xa=function(){return new Xg(this.TO.Ca)},n}(Ug),Xg=function(t){function n(n){return t.call(this,"update",n)||this}return Ct(n,t),n}(Fg);F(),Et(),Dt();var qg=function(t){function n(n){var i;return(i=t.call(this,Dw.cI)||this).TO=void 0,i.TO=n,i}return Ct(n,t),n.prototype.xa=function(){return new Gg(this.TO.Ca)},n}(Aw),Gg=function(t){function n(n){var i;return(i=t.call(this,"updatecue")||this).cue=void 0,i.cue=n,i}return Ct(n,t),n}(Tw),jg=.02;function Qg(t,n){return Si(t.MO,n.MO,jg)&&Si(t.LO,n.LO,jg)&&t.o===n.o}var Yg=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this)||this).gO=void 0,u.hS=void 0,u.MO=void 0,u.LO=void 0,u.OO=void 0,u.VO=void 0,u.hu=void 0,u.FO=void 0,u.ho=!1,u.HO=void 0,u.qO=void 0,u.jO=-1,u.gO=Ag(),u.OO=n,u.VO=i,u.MO=n,u.LO=i,u.HO=r,u.qO=Boolean(e),u.hS=null!=s?s:"",u}Ct(n,t);var i=n.prototype;return i.xa=function(){return Vg(this)},i.zO=function(t){return this===t||Lw(this,t)&&Qg(this,t)&&this.GO(t)},i.GO=function(t){return Mw(this.U,t.U)},i.XO=function(t,n){this.OO=t,this.VO=n,this.MO=t,this.LO=n},i.kn=function(){this.Vo()},Nt(n,[{key:"EO",get:function(){return this.OO},set:function(t){var n,i;this.OO!==t&&(this.OO=t,null==(n=this.FO)||n.UO(this),this.So(new zg(this)),null==(i=this.FO)||i.So(new qg(this)))}},{key:"PO",get:function(){return this.VO},set:function(t){var n,i;this.VO!==t&&(this.VO=t,null==(n=this.FO)||n.UO(this),this.So(new zg(this)),null==(i=this.FO)||i.So(new qg(this)))}},{key:"o",get:function(){return this.hS}},{key:"jI",get:function(){return this.gO}},{key:"Ca",get:function(){return this.hu||(this.hu=this.xa()),this.hu}},{key:"ro",get:function(){return this.ho},set:function(t){this.ho=t}},{key:"Ht",get:function(){return this.FO},set:function(t){this.FO=t}},{key:"U",get:function(){return this.HO},set:function(t){var n;this.HO!==t&&(this.HO=t,this.So(new zg(this)),null==(n=this.FO)||n.So(new qg(this)))}},{key:"WO",get:function(){return this.qO},set:function(t){this.qO=t}}]),n}(th);function Kg(t,n){return t.U===n.U&&t.IO===n.IO&&t.RO===n.RO&&t.mo===n.mo&&t.CO===n.CO&&t.DO===n.DO&&t.BO===n.BO&&t.Vy===n.Vy&&t.xO===n.xO&&t.Pt===n.Pt}var Jg=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this,n,i,r,e,s)||this).IO="auto",u.RO="start",u.mo="auto",u.CO="auto",u.DO=void 0,u.BO=!0,u.Vy=100,u.xO="center",u.Pt="",u}return Ct(n,t),n.prototype.GO=function(t){return Kg(this,t)},Nt(n,[{key:"Ca",get:function(){return this.hu||(this.hu=Wg(this)),this.hu}},{key:"Km",get:function(){return Ng.AO}}]),n}(Yg);function Zg(t){var n=t.IO,i=Yn(n);return i&&!t.BO&&(n<0||n>100)?100:i?Number(n):t.BO?-1:100}function $g(t){return Mg(t.mo,t.xO)}function t_(t){return Og(t.CO,t.xO)}function n_(t){var n,i=t_(t),r=$g(t);switch(i){case"line-left":n=100-r;break;case"line-right":n=r;break;case"center":n=r<=50?2*r:2*(100-r)}return b.min(t.Vy,n)}function i_(t){return{get id(){return t.o},get lines(){return t.QO},get regionAnchorX(){return t.KO},get regionAnchorY(){return t.YO},get scrollValue(){return t.JO},get viewportAnchorX(){return t.ZO},get viewportAnchorY(){return t.$O},get width(){return t.Ti}}}F(),Et(),Bt(),F(),Et();var r_=function(){function t(t,n,i,r,e,s,u,o){this.o=void 0,this.Ti=void 0,this.QO=void 0,this.KO=void 0,this.YO=void 0,this.ZO=void 0,this.$O=void 0,this.JO=void 0,this.hu=void 0,this.o=t,this.Ti=n,this.QO=i,this.KO=r,this.YO=e,this.ZO=s,this.$O=u,this.JO=o}return Nt(t,[{key:"Ca",get:function(){return this.hu||(this.hu=i_(this)),this.hu}},{key:"Km",get:function(){return Ng.bO}}]),t}();F(),Et(),F(),Et();var e_=1e6,s_=function(){function t(){}var n=t.prototype;return n.tF=function(t){return this.iF()*t},n.eF=function(t){return this.sF(t)>0},n.nF=function(t){return this.sF(t)>=0},n.rF=function(t,n){return this.oF(t).hF(n)},n.zO=function(t){return 0===this.sF(t)},n.aF=function(t){return this.sF(t)<0},n.hF=function(t){return this.sF(t)<=0},n.uF=function(){return this.cF()?this.dF():this},n.lF=function(t){return this.lO(t.dF())},n.oF=function(t){return this.lF(t).uF()},t}();function u_(t,n){return t.fF()?n.fF()?Ni.rh:Ni.Fg:n.fF()?Ni.Ug:t.vF()?n.vF()&&t.cF()===n.cF()?Ni.rh:t.cF()?Ni.Ug:Ni.Fg:n.cF()?Ni.Fg:Ni.Ug}F(),Et(),Dt(),F(),Et();var o_=4294967296,h_=o_*o_,c_=h_*h_,a_=c_/2,f_=function(){function t(t,n){this.EF=void 0,this.TF=void 0,this.EF=t,this.TF=n}var n=t.prototype;return n.SF=function(){return this.TF.unsigned},n.kF=function(){return this.EF.isZero()&&this.TF.isZero()},n.cF=function(){return this.TF.isNegative()},n.PF=function(){return this.SF()?t._F(this.EF,this.TF,!1):this},n.xF=function(){return this.SF()?this:t._F(this.EF,this.TF,!0)},n.IF=function(){return this.EF},n.iF=function(){return this.cF()?-this.dF().iF():this.TF.toNumber()*h_+this.EF.toUnsigned().toNumber()},n.RF=function(){return this.EF.toInt()},n.zO=function(t){return(this.SF()===t.SF()||this.TF.getHighBits()>>>31!=1||t.TF.getHighBits()>>>31!=1)&&(this.TF.toUnsigned().eq(t.TF.toUnsigned())&&this.EF.toUnsigned().eq(t.EF.toUnsigned()))},n.sF=function(t){if(this.zO(t))return Ni.rh;var n=this.cF(),i=t.cF();if(n&&!i)return Ni.Ug;if(!n&&i)return Ni.Fg;if(!this.SF())return this.lF(t).cF()?Ni.Ug:Ni.Fg;var r=this.xF(),e=t.xF(),s=e.TF.comp(r.TF);return s>0||0===s&&e.EF.gt(r.EF)?Ni.Ug:Ni.Fg},n.aF=function(t){return this.sF(t)<0},n.hF=function(t){return this.sF(t)<=0},n.CF=function(t){return this.sF(t)>0},n.DF=function(t){return this.sF(t)>=0},n.BF=function(){return new t(this.EF.not(),this.TF.not())},n.NF=function(n){return new t(this.EF.and(n.EF),this.TF.and(n.TF))},n.MF=function(n){return new t(this.EF.or(n.EF),this.TF.or(n.TF))},n.LF=function(n){var i=127&n;return 0===i?this:i<64?t._F(this.EF.shl(i),this.TF.shl(i).or(this.EF.shru(64-i)),this.SF()):t._F(ue.ZERO,this.EF.shl(i-64),this.SF())},n.OF=function(n){var i=127&n;return 0===i?this:i<64?t._F(this.EF.shru(i).or(this.TF.shl(64-i)),this.TF.shr(i),this.SF()):t._F(this.TF.shr(i-64),this.TF.isNegative()?ue.NEG_ONE:ue.ZERO,this.SF())},n.FF=function(n){var i=127&n;return 0===i?this:i<64?t._F(this.EF.shru(i).or(this.TF.shl(64-i)),this.TF.shru(i),this.SF()):64===i?t._F(this.TF,ue.ZERO,this.SF()):t._F(this.TF.shru(i-64),ue.ZERO,this.SF())},n.lO=function(n){var i=this.TF.high>>>16,r=65535&this.TF.high,e=this.TF.low>>>16,s=65535&this.TF.low,u=this.EF.high>>>16,o=65535&this.EF.high,h=this.EF.low>>>16,c=65535&this.EF.low,a=n.TF.high>>>16,f=65535&n.TF.high,v=n.TF.low>>>16,d=65535&n.TF.low,l=n.EF.high>>>16,w=65535&n.EF.high,g=n.EF.low>>>16,_=0,m=0,y=0,p=0,k=0,b=0,A=0,T=0;A+=(T+=c+(65535&n.EF.low))>>>16,T&=65535,b+=(A+=h+g)>>>16,A&=65535,k+=(b+=o+w)>>>16,b&=65535,p+=(k+=u+l)>>>16,k&=65535,y+=(p+=s+d)>>>16,p&=65535,m+=(y+=e+v)>>>16,y&=65535,_+=(m+=r+f)>>>16,m&=65535,_+=i+a,_&=65535;var S=this.SF(),E=ue.fromBits(y<<16|p,_<<16|m,S),I=ue.fromBits(A<<16|T,k<<16|b,S);return t._F(I,E,S)},n.lF=function(t){return this.lO(t.dF())},n.dF=function(){return this.BF().lO(t.UF)},n.VF=function(n){if(this.kF()||n.kF())return this.SF()?t.mF:t.wF;if(this.cF())return n.cF()?this.dF().VF(n.dF()):this.dF().VF(n).dF();if(n.cF())return this.VF(n.dF()).dF();if(this.TF.isZero()&&0===this.EF.high&&n.TF.isZero()&&0===n.EF.high)return t.gF(this.EF.multiply(n.EF));var i=ue.fromBits(4294967295,0,!0),r=this.EF.and(i),e=this.EF.shru(32),s=this.TF.and(i),u=this.TF.shru(32),o=n.EF.and(i),h=n.EF.shru(32),c=n.TF.and(i),a=n.TF.shru(32),f=ue.UZERO,v=ue.UZERO,d=ue.UZERO,l=ue.UZERO;f=f.add(r.mul(o)),v=v.add(f.shru(32)),f=f.and(i),v=v.add(e.mul(o)),d=d.add(v.shru(32)),v=(v=v.and(i)).add(r.mul(h)),d=d.add(v.shru(32)),v=v.and(i),d=d.add(s.mul(o)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(e.mul(h)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(r.mul(c)),l=l.add(d.shru(32)),d=d.and(i),l=l.add(u.mul(o)).add(s.mul(h)).add(e.mul(c)).add(r.mul(a)).and(i);var w=ue.fromBits(f.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),g=ue.fromBits(d.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0);return t._F(w,g,this.SF())},n.HF=function(n){var i,r,e=n;if(e.kF())throw new RangeError("division by zero");if(this.kF())return this.SF()?[t.mF,t.mF]:[t.wF,t.wF];if(this.SF()){if(e.SF()||(e=e.xF()),e.CF(this))return[t.mF,this];if(e.CF(this.FF(1)))return[r=t.WF,i=this.lF(e)];r=t.mF}else{if(this.zO(t.AF)){if(e.zO(t.UF)||e.zO(t.qF))return[t.AF,t.wF];if(e.zO(t.AF))return[t.UF,t.wF];var s=this.OF(1).zF(e).LF(1);return s.zO(t.wF)?r=e.cF()?t.UF:t.qF:(i=this.lF(e.VF(s)),r=s.lO(i.zF(e))),[r,i=this.lF(e.VF(r))]}if(e.zO(t.AF))return this.SF()?[t.mF,this]:[t.wF,this];var u,o;if(this.cF())return e.cF()?this.dF().HF(e.dF()):(r=(u=this.dF().HF(e))[0],i=u[1],[r.dF(),i.dF()]);if(e.cF())return r=(o=this.HF(e.dF()))[0],i=o[1],[r.dF(),i.dF()];r=t.wF}for(i=this;i.DF(e);){for(var h=b.max(1,b.floor(i.iF()/e.iF())),c=b.ceil(b.log(h)/b.LN2),a=c<=48?1:b.pow(2,c-48),f=t.pF(h),v=f.VF(e);v.cF()||v.CF(i);)h-=a,v=(f=t.pF(h,this.SF())).VF(e);f.kF()&&(f=t.UF),r=r.lO(f),i=i.lF(v)}return[r,i]},n.zF=function(t){return this.HF(t)[0]},n.GF=function(t){return this.HF(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.kF())return"0";if(this.cF()){if(this.zO(t.AF)){var r=t.pF(i),e=this.zF(r),s=e.VF(r).lF(this);return e.toString(i)+s.RF().toString(i)}return"-"+this.dF().toString(i)}for(var u=t.pF(b.pow(i,6),this.SF()),o=this,h="";;){var c=o.zF(u),a=(o.lF(c.VF(u)).RF()>>>0).toString(i);if((o=c).kF())return a+h;for(;a.length<6;)a="0"+a;h=String(a)+h}},t._F=function(n,i,r){return r?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.gF=function(n){return n.unsigned?new t(n,ue.UZERO):new t(n,n.isNegative()?ue.NEG_ONE:ue.ZERO)},t.pF=function(n,i){if(S(n))return i?t.mF:t.wF;if(i){if(n<0)return t.mF;if(n>=c_)return t.yF}else{if(n<=-a_)return t.AF;if(n+1>=a_)return t.bF}return n<0?t.pF(-n,i).dF():t._F(ue.fromNumber(n%h_),ue.fromNumber(n/h_),i)},t}();f_.wF=f_.gF(ue.ZERO),f_.mF=f_.gF(ue.UZERO),f_.UF=f_.gF(ue.ONE),f_.WF=f_.gF(ue.UONE),f_.qF=f_.gF(ue.NEG_ONE),f_.bF=f_._F(ue.NEG_ONE,ue.MAX_VALUE,!1),f_.yF=f_._F(ue.MAX_UNSIGNED_VALUE,ue.MAX_UNSIGNED_VALUE,!0),f_.AF=f_._F(ue.ZERO,ue.MIN_VALUE,!1),F(),Et(),Bt();var v_=function(){function t(t,n){void 0===n&&(n=1),this.XF=void 0,this.qD=void 0,this.XF=t,this.qD=n}var n=t.prototype;return n.lO=function(n){return this.qD>=n.qD?new t(this.XF+n.JF(this.qD).XF,this.qD):new t(this.JF(n.qD).XF+n.XF,n.qD)},n.eF=function(t){return t.aF(this)},n.nF=function(t){return t.hF(this)},n.oF=function(n){return this.qD>=n.qD?new t(b.abs(this.XF-n.JF(this.qD).XF),this.qD):n.oF(this)},n.rF=function(t,n){return this.oF(t).hF(n)},n.sF=function(t){return function(t,n){return t.qD>=n.qD?Mi(t.XF,n.JF(t.qD).XF):Mi(t.JF(n.qD).XF,n.XF)}(this,t)},n.zO=function(t){return 0===this.sF(t)},n.aF=function(t){return this.sF(t)<0},n.hF=function(t){return this.sF(t)<=0},n.JF=function(n){return new t(this.XF*(n/this.qD),n)},n.lF=function(n){return this.qD>=n.qD?new t(this.XF-n.JF(this.qD).XF,this.qD):new t(this.JF(n.qD).XF-n.XF,n.qD)},n.ZF=function(n){return new t(this.XF*n,this.qD)},t.jF=function(n){return new t(b.ceil(n.XF),n.qD)},t.QF=function(n){return new t(b.floor(n.XF),n.qD)},t.KF=function(t,n){return t.nF(n)?t:n},t.YF=function(t,n){return t.hF(n)?t:n},Nt(t,[{key:"vF",get:function(){return!isFinite(this.XF)}},{key:"dd",get:function(){return this.XF/this.qD}}]),t}();v_.fd=new v_(1/6,1),v_.wF=new v_(0),v_.tU=new v_(1/0),v_.iU=1e6;var d_=function(t){function n(n,i){var r;return(r=t.call(this)||this).zE=void 0,r.qD=void 0,r.zE=n.toSigned(),r.qD=i>>>0,r}Ct(n,t);var i=n.prototype;return i.cF=function(){return this.zE.isNegative()},i.kF=function(){return 0!==this.qD&&this.zE.isZero()},i.vF=function(){return 0===this.qD&&!this.zE.isZero()},i.fF=function(){return 0===this.qD&&this.zE.isZero()},i.iF=function(){if(0===this.qD)return this.zE.isZero()?NaN:this.zE.isNegative()?-1/0:1/0;var t=this.zE.divide(this.qD),n=this.zE.subtract(t.multiply(this.qD));return t.toNumber()+n.toNumber()/this.qD},i.IF=function(){if(0===this.qD)throw new y("Failed to convert timestamp");return this.zE},i.uU=function(){return new Date(0===this.qD?NaN:this.JF(1e3).zE.toNumber())},i.cU=function(){return new v_(0===this.qD?this.iF():this.zE.toNumber(),this.qD)},i.JF=function(t,i){void 0===i&&(i=w_.dU);var r=this.qD;if(r===t)return this;if(0===r)return this;var e=Di(r,t),s=function(t,n,i){var r=t.HF(n),e=r[0],s=r[1];if(s.kF())return e;if(i===w_.dU)return s.cF()?e.lF(f_.UF):e;if(i===w_.lU)return s.cF()?e:e.lO(f_.UF);var u=s.VF(f_.pF(2));return u.cF()?u.dF().aF(n)?e:e.lF(f_.UF):u.aF(n)?e:e.lO(f_.UF)}(f_.gF(this.zE).VF(f_.pF(t/e)),f_.pF(r/e),i);return new n(s.IF(),t)},i.sF=function(t){if(this===t)return Ni.rh;if(0===this.qD||0===t.qD)return u_(this,t);if(this.kF())return t.kF()?Ni.rh:t.cF()?Ni.Fg:Ni.Ug;if(t.kF())return this.cF()?Ni.Ug:Ni.Fg;var n=b.min(this.qD,t.qD),i=this.JF(n,w_.fU).zE,r=t.JF(n,w_.fU).zE;return i.compare(r)},i.dF=function(){return 0===this.qD?function(t){0;return t.fF()?t:t.cF()?d_.nU:d_.rU}(this):new n(this.zE.negate(),this.qD)},i.lO=function(t){if(0===this.qD||0===t.qD)return function(t,n){0;if(t.fF()||n.fF())return d_.sU;if(t.vF()&&n.vF())return t.cF()===n.cF()?t:d_.sU;return t.vF()?t:n}(this,t);if(this.kF())return t;if(t.kF())return this;var i=b.max(this.qD,t.qD),r=this.JF(i,w_.fU),e=t.JF(i,w_.fU);return new n(r.zE.add(e.zE),i)},i.VF=function(t){if(this.fF()||S(t))return n.sU;if(this.vF()||!isFinite(t)){if(this.kF()||0===t)return n.sU;var i=this.cF()?n.rU:n.nU;return t<0?i.dF():i}return this.kF()?this:new n(0===t?ue.ZERO:this.zE.multiply(t),this.qD)},i.zF=function(t){if(this.fF()||S(t))return n.sU;if(this.vF())return isFinite(t)?0===t?1/t<0?this.dF():this:t<0?this.dF():this:n.sU;if(!isFinite(t))return new n(ue.ZERO,this.qD);if(this.kF())return 0===t?n.sU:new n(ue.ZERO,this.qD);if(0===t){var i=this.cF()?n.rU:n.nU;return 1/t<0?i.dF():i}return new n(this.zE.divide(t),this.qD)},i.vU=function(){return[this.zE.low,this.zE.high,this.qD]},n.eU=function(t,i){return void 0===i&&(i=e_),n.pF(t*i,i)},n.pF=function(t,i){return S(t)?n.sU:t===1/0?n.nU:t===-1/0?n.rU:new n(ue.fromNumber(t),i)},n.gF=function(t,i){return new n(t,i)},n.hU=function(t){return n.eU(t.dd,e_)},n.oU=function(t){return new n(ue.fromNumber(t.getTime()),1e3)},n.KF=function(t,n){return t.nF(n)?t:n},n.YF=function(t,n){return t.hF(n)?t:n},n.aU=function(t,i,r){return n.KF(i,n.YF(r,t))},n}(s_);d_.wF=new d_(ue.ZERO,e_),d_.sU=new d_(ue.ZERO,0),d_.nU=new d_(ue.ONE,0),d_.rU=new d_(ue.NEG_ONE,0),F(),Et(),Bt(),Dt(),at();var l_=function(t){function n(n,i){var r;return(r=t.call(this)||this).zE=void 0,r.qD=void 0,r.zE=BigInt.asIntN(64,n),r.qD=i>>>0,r}Ct(n,t);var i=n.prototype;return i.cF=function(){return this.zE<BigInt(0)},i.kF=function(){return 0!==this.qD&&this.zE===BigInt(0)},i.vF=function(){return 0===this.qD&&this.zE!==BigInt(0)},i.fF=function(){return 0===this.qD&&this.zE===BigInt(0)},i.iF=function(){if(0===this.qD)return this.zE===BigInt(0)?NaN:this.zE<BigInt(0)?-1/0:1/0;var t=this.zE/BigInt(this.qD),n=this.zE-t*BigInt(this.qD);return Number(t)+Number(n)/this.qD},i.IF=function(){if(0===this.qD)throw new y("Failed to convert timestamp");return this.wU()},i.wU=function(){var t=this.zE&BigInt(4294967295),n=this.zE>>BigInt(32)&BigInt(4294967295);return ue.fromBits(Number(t),Number(n))},i.uU=function(){return new Date(0===this.qD?NaN:Number(this.JF(1e3).zE))},i.cU=function(){return new v_(0===this.qD?this.iF():Number(this.zE),this.qD)},i.JF=function(t,i){void 0===i&&(i=w_.dU);var r=this.qD;if(r===t)return this;if(0===r)return this;var e=Di(r,t),s=function(t,n,i){var r=t/n,e=t-r*n;if(e===BigInt(0))return r;if(i===w_.dU)return e<BigInt(0)?r-BigInt(1):r;if(i===w_.lU)return e<BigInt(0)?r:r+BigInt(1);var s=e*BigInt(2);return s<BigInt(0)?-s<n?r:r-BigInt(1):s<n?r:r+BigInt(1)}(this.zE*BigInt(t/e),BigInt(r/e),i);return new n(s,t)},i.sF=function(t){if(this===t)return Ni.rh;if(0===this.qD||0===t.qD)return u_(this,t);if(this.kF())return t.kF()?Ni.rh:t.cF()?Ni.Fg:Ni.Ug;if(t.kF())return this.cF()?Ni.Ug:Ni.Fg;var n=b.min(this.qD,t.qD),i=this.JF(n,w_.fU).zE,r=t.JF(n,w_.fU).zE;return i>r?Ni.Fg:i<r?Ni.Ug:Ni.rh},i.dF=function(){return 0===this.qD?function(t){0;return t.fF()?t:t.cF()?l_.nU:l_.rU}(this):new n(-this.zE,this.qD)},i.lO=function(t){if(0===this.qD||0===t.qD)return function(t,n){0;if(t.fF()||n.fF())return l_.sU;if(t.vF()&&n.vF())return t.cF()===n.cF()?t:l_.sU;return t.vF()?t:n}(this,t);if(this.kF())return t;if(t.kF())return this;var i=b.max(this.qD,t.qD),r=this.JF(i,w_.fU),e=t.JF(i,w_.fU);return new n(r.zE+e.zE,i)},i.VF=function(t){if(this.fF()||S(t))return n.sU;if(this.vF()||!isFinite(t)){if(this.kF()||0===t)return n.sU;var i=this.cF()?n.rU:n.nU;return t<0?i.dF():i}return this.kF()?this:new n(0===t?BigInt(0):this.zE*BigInt(t),this.qD)},i.zF=function(t){if(this.fF()||S(t))return n.sU;if(this.vF())return isFinite(t)?0===t?1/t<0?this.dF():this:t<0?this.dF():this:n.sU;if(!isFinite(t))return new n(BigInt(0),this.qD);if(this.kF())return 0===t?n.sU:new n(BigInt(0),this.qD);if(0===t){var i=this.cF()?n.rU:n.nU;return 1/t<0?i.dF():i}return new n(this.zE/BigInt(t),this.qD)},i.vU=function(){var t=this.wU();return[t.low,t.high,this.qD]},n.eU=function(t,i){return void 0===i&&(i=e_),n.pF(t*i,i)},n.pF=function(t,i){return S(t)?n.sU:t===1/0?n.nU:t===-1/0?n.rU:new n(BigInt(b.floor(t)),i)},n.gF=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.hU=function(t){return n.eU(t.dd,e_)},n.oU=function(t){return n.pF(t.getTime(),1e3)},n.KF=function(t,n){return t.nF(n)?t:n},n.YF=function(t,n){return t.hF(n)?t:n},n.aU=function(t,i,r){return n.KF(i,n.YF(r,t))},Nt(n,null,[{key:"wF",get:function(){return n._U||(n._U=new n(BigInt(0),e_)),n._U}},{key:"sU",get:function(){return n.gU||(n.gU=new n(BigInt(0),0)),n.gU}},{key:"nU",get:function(){return n.pU||(n.pU=new n(BigInt(1),0)),n.pU}},{key:"rU",get:function(){return n.mU||(n.mU=new n(BigInt(-1),0)),n.mU}}]),n}(s_);l_._U=void 0,l_.gU=void 0,l_.pU=void 0,l_.mU=void 0;var w_=function(t){return t[t.dU=0]="dU",t[t.lU=1]="lU",t[t.fU=2]="fU",t}({}),g_=function(){try{return"function"==typeof BigInt&&"bigint"===W(BigInt(0))}catch(t){return!1}}()?l_:d_;function __(t,n){return t.sF(n)}function m_(t,n){return void 0!==t?void 0!==n?g_.YF(t,n):t:n}F(),Et();var y_=b.pow(2,33),p_=_i(function(){return g_.pF(y_,9e4)}),k_=_i(function(){return p_().zF(2)});F(),Et();var b_={yU:0,AU:1/0,bU:0},A_=["WEBVTT","WEBVTT ","WEBVTT\t","WEBVTT\n"],T_=[" ","\t","\n","\f","\r"],S_=/^\d*$/,E_=/.*[0-9]+.*/,I_=/^[\d.-]+$/,R_=/(^\.|\.$)/,C_=/(\D\.|\.\D)/;function D_(t,n,i){return void 0===n&&(n=b_),void 0===i&&(i=!0),P_(lc(_c(t),new Tc),n,i)}function P_(t,n,i){void 0===n&&(n=b_),void 0===i&&(i=!0);var r={L:[],SU:[],TU:[]},e=N_(t),s=new Tc,u=!1;if(X_(e),B_(e,function(t){return"\n"!==t},s),s.ac>=e.length)return r;(s.Ny(1),"\n"!==e.charAt(s.ac))?U_(x_(e,s,u,!0,r,n,i),r):s.Ny(1);for(B_(e,function(t){return"\n"===t},s);s.ac<e.length;){U_(x_(e,s,u,!1,r,n,i),r),B_(e,function(t){return"\n"===t},s)}return r}function N_(t){var n=Mo(t,"\0"," "),i=Mo(n,"\r\n","\n");return Mo(i,"\r","\n")}function B_(t,n,i){for(var r=i.ac;i.ac<t.length&&n(t.charAt(i.ac));)i.Ny(1);return t.substring(r,i.ac)}function x_(t,n,i,r,e,s,u){for(var o,h=0,c=n.ac,a="",f=!1,v=!1,d=null,l=null,w=null;!f;)if(o=B_(t,function(t){return"\n"!==t},n),h++,n.ac>=t.length?f=!0:n.Ny(1),Lo(o,"--\x3e")){if(r||1!==h&&(2!==h||v)){n.My(c);break}v=!0,c=n.ac,d=new Jg(0,0,"",!1,a);try{F_(o,e.SU,d,s,u),a=""}catch(t){Vn.um(t),d=null}}else{if(""===o)break;r&&Uo(o,"X-TIMESTAMP-MAP")&&(e.kU=O_(o)),r||2!==h||i||(Vo("STYLE",a.replace(/ /g,""))?(l={Km:Ng.SO},a=""):Vo("REGION",a.replace(/ /g,""))&&(w=new r_("",100,3,0,100,0,100,""),a="")),a&&(a+="\n"),a+=o,c=n.ac}if(d)return d.U=a,d;if(l);else if(w)return function(t,n){for(var i,r=t.split(/\s/),e=":",s=Lt(r);!(i=s()).done;){var u=i.value;if(0!==u.length&&Lo(u,e)&&u.charAt(0)!==e&&u.charAt(u.length-1)!==e){var o=u.indexOf(e),h=u.substring(0,o),c=u.substring(o+1,u.length);switch(h.toUpperCase()){case"ID":im(c,n);break;case"WIDTH":sm(c,n);break;case"LINES":em(c,n);break;case"REGIONANCHOR":var a=nm(c);a&&(n.KO=a[0],n.YO=a[1]);break;case"VIEWPORTANCHOR":var f=nm(c);f&&(n.ZO=f[0],n.$O=f[1]);break;case"SCROLL":rm(c,n)}}}}(a,w),w;return null}function O_(t){var n,i=t.split("=")[1].trim().split(","),r=L_(i[0].trim(),"MPEGTS")?i[0]:i[1],e=L_(i[0].trim(),"LOCAL")?i[0]:i[1];return{EU:M_(Number(r.split(/:(.*)/)[1].trim())||0),bh:g_.eU(null!=(n=W_(e.split(/:(.*)/)[1].trim(),new Tc))?n:0)}}function M_(t){return g_.pF(t,9e4)}function L_(t,n){return Uo(t,n)}function U_(t,n){t&&function(t){return"cue"===t.Km}(t)?n.L.push(t):t&&function(t){return"region"===t.Km}(t)?n.SU.push(t):t&&function(t){return"stylesheet"===t.Km}(t)&&n.TU.push(t)}function F_(t,n,i,r,e){var s=new Tc;G_(t,s);var u=V_(W_(t,s),r,e);if(G_(t,s),"--\x3e"!==t.substring(s.ac,s.ac+3))throw y("Something went wrong with parsing a WebVTT Cue");s.Ny(3),G_(t,s);var o=V_(W_(t,s),r,e);i.XO(u,o),function(t,n,i){for(var r,e=t.split(/\s/),s=":",u=Lt(e);!(r=u()).done;){var o=r.value;if(0!==o.length&&Lo(o,s)&&o.charAt(0)!==s&&o.charAt(o.length-1)!==s){var h=o.indexOf(s),c=o.substring(0,h),a=o.substring(h+1,o.length);switch(c.toUpperCase()){case"REGION":J_(a,n,i);break;case"VERTICAL":$_(a,n);break;case"D":tm(a,n);break;case"LINE":case"L":Y_(a,n);break;case"POSITION":case"T":K_(a,n);break;case"SIZE":case"S":Z_(a,n);break;case"ALIGN":case"A":Q_(a,n)}}}}(t.substring(s.ac,t.length),i,n)}function V_(t,n,i){return i?t+n.yU:t}function H_(t){return/^[0-9]$/.test(t)}function W_(t,n){var i,r,e,s=Mo(t,",","."),u=!1;if(n.ac>=s.length||!H_(s.charAt(n.ac)))throw new y("Something went wrong with parsing a WebVTT Cue timestamp");var o=B_(s,H_,n),h=A(o,10);if((o.length>2||h>59)&&(u=!0),n.ac>=s.length||":"!==s.charAt(n.ac))throw new y("Something went wrong with parsing a WebVTT Cue timestamp");n.Ny(1);var c=B_(s,H_,n);if(2!==c.length)throw new y("Something went wrong with parsing a WebVTT Cue timestamp");var a=A(c,10);if(u||n.ac<s.length&&":"===s.charAt(n.ac)){if(n.ac>=s.length||":"!==s.charAt(n.ac))throw new y("Something went wrong with parsing a WebVTT Cue timestamp");n.Ny(1);var f=B_(s,H_,n);if(2!==c.length)throw new y("Something went wrong with parsing a WebVTT Cue timestamp");i=h,r=a,e=A(f,10)}else i=0,r=h,e=a;if(n.ac>=s.length||"."!==s.charAt(n.ac))throw new y("Something went wrong with parsing a WebVTT Cue timestamp");n.Ny(1);var v=B_(s,H_,n),d=A(v,10);if(a>59||e>59)throw new y("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*r+e+d/1e3}function z_(t){return X_(N_(t))}function X_(t){if(t.length<6)return!1;for(var n,i=Lt(A_);!(n=i()).done;){var r=n.value;if(Uo(t,r))return!0}return!1}function q_(t){return ji(T_,t)}function G_(t,n){for(;n.ac<t.length&&q_(t.charAt(n.ac));)n.Ny(1)}function j_(t){var n=t.lastIndexOf("%");if(n>-1){var i=T(t.substring(0,n));if(!S(i)&&i>=0&&i<=100)return i}return null}function Q_(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.xO=i;break;case"middle":n.xO="center"}}function Y_(t,n){var i,r,e=t.indexOf(",");if(e>=0?(i=t.substring(0,e),r=t.substring(e+1,t.length)):(i=t,r=""),E_.test(i)){var s,u;if(Fo(i,"%")){var o=j_(i);if(null===o)return;s=o,u=!1}else{if(!I_.test(i)||i.lastIndexOf("-")>0)return;var h=i.indexOf(".");if(h>=0&&(h!==i.lastIndexOf(".")||!C_.test(i)||R_.test(i)))return;if(s=T(i),S(s))return;u=!0}switch(n.IO=s,n.BO=u,r=r.toLowerCase()){case"start":case"center":case"end":n.RO=r;break;case"middle":n.RO="center"}}}function K_(t,n){var i,r,e=t.indexOf(",");e>=0?(i=t.substring(0,e),r=t.substring(e+1,t.length)):(i=t,r="");var s=j_(i);if(null!==s)switch(n.mo=s,r=r.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.CO=r;break;case"start":n.CO="line-left";break;case"middle":n.CO="center";break;case"end":n.CO="line-right"}}function J_(t,n,i){var r=Vi(i,function(n){return n.o===t});void 0!==r&&(n.DO=r)}function Z_(t,n){var i=j_(t);null!==i&&(n.Vy=i)}function $_(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.Pt="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.Pt="lr";break;default:n.Pt=""}}function tm(t,n){"VERTICAL"===t.toUpperCase()?n.Pt="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.Pt="lr")}function nm(t){if(t.indexOf(",")>=0){var n=j_(t.substring(0,t.indexOf(","))),i=j_(t.substring(t.indexOf(",")+1,t.length));return[Ti(n||0,0,100),Ti(i||100,0,100)]}return null}function im(t,n){n.o=t}function rm(t,n){"up"===t.toLowerCase()&&(n.JO="up")}function em(t,n){S_.test(t)&&(n.QO=A(t))}function sm(t,n){var i=j_(t);null!==i&&(n.Ti=i)}F(),Et(),Ut(),F(),Et(),Ut(),F(),Et();var um=function(t){return t.OR="moov",t.FR="mvhd",t.UR="trak",t.HR="tkhd",t.WR="mdia",t.qR="mdhd",t.zR="hdlr",t.GR="minf",t.XR="stbl",t.jR="stsd",t.QR="stsc",t.KR="mvex",t.YR="trex",t.JR="avc1",t.ZR="avcC",t.$R="hev1",t.tC="hvc1",t.iC="hvcC",t.eC="vp09",t.sC="vpcC",t.nC="av01",t.rC="av1C",t.hC="dvcC",t.oC="dvvC",t.aC="dvwC",t.uC="dac3",t.cC="dec3",t.dC="dvav",t.lC="dva1",t.fC="dvhe",t.vC="dvh1",t._C="ac-3",t.gC="ec-3",t.pC="colr",t.mC="pasp",t.wC="mp4a",t.yC="esds",t.AC="fLaC",t.bC="dfLa",t.SC="wvtt",t.TC="vttC",t.kC="vlab",t.EC="enca",t.xC="encv",t.IC="moof",t.RC="mfhd",t.DC="traf",t.BC="tfhd",t.NC="trun",t.MC="tfdt",t.LC="senc",t.OC="mdat",t.FC="pssh",t.VC="emsg",t.HC="sidx",t.WC="styp",t.qC="ftyp",t.zC="sinf",t.GC="frma",t.XC="schi",t.jC="tenc",t}({}),om=function(t){return t.ON_SCREEN_COLOURS="nclx",t.RESTRICTED_ICC_PROFILE="rICC",t.UNRESTRICED_ICC_PROFILE="prof",t}({}),hm=function(t){return t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=65536]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF",t}({}),cm=function(t){return t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT",t}({});F(),Et();var am=function(){function t(t,n){this.ck=void 0,this.KC=void 0,this.ck=t,this.KC=n}var n=t.prototype;return n.QC=function(){return Mh(this.ck,this.KC)},n.YC=function(){return zh(this.ck,this.KC)},n.JC=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt16(n.ac,i);return n.Ny(2),r}(this.ck,this.KC)},n.ZC=function(){return qh(this.ck,this.KC)},n.$C=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt32(n.ac,i);return n.Ny(4),r}(this.ck,this.KC)},n.tD=function(){return jh(this.ck,this.KC)},n.iD=function(t){return Uh(this.ck,this.KC,t)},n.eD=function(t){return function(t,n,i){for(var r=[],e=0;e<i;e++)r.push(qh(t,n));return r}(this.ck,this.KC,t)},n.sD=function(t){return Kh(this.ck,this.KC,t)},n.nD=function(){return fc(this.ck,this.KC)},n.rD=function(t){this.KC.Ny(t)},n.Ly=function(){return new t(this.ck,this.KC.Ly())},t}();F(),Et(),Bt(),Dt(),Ut(),F(),Et(),Ut();function fm(t,n){return t.Km===n}function vm(t,n){for(var i,r=Lt(t);!(i=r()).done;){var e=i.value;if(fm(e,n))return e}}var dm=function(t){function n(n,i){var r;return(r=t.call(this)||this).hD=void 0,r.oD=void 0,r.hD=n,r.oD=i,r}return Ct(n,t),Nt(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(ar),lm=function(){function t(){}return t.aD=function(n){var i=n.ck,r=n.KC,e=t.uD(i,r,!1);if(!e.cD)throw new dm(r.ac,e.m);return e.m},t.uD=function(n,i,r){for(var e=[];i.ac<n.byteLength;){var s=t.dD(n,i,r);if(!s.cD)return{cD:!1,m:e};e.push(s.lD)}return{cD:!0,m:e}},t.fD=function(n,i){var r=t.dD(n,i,!1);if(!r.cD)throw new dm(i.ac);return r.lD},t.vD=function(n,i){for(var r=n.ck,e=n.KC;e.ac<r.byteLength;){var s=t.dD(r,e,!1);if(!s.cD)return;if(s.lD.Km===i)return s.lD}},t.dD=function(n,i,r){var e=i.ac,s=t._D(n,i);if(!s.cD)return s;var u=s.gD,o=u.Vy;if(0===o){if(r)return i.My(e),{cD:!1,pD:1/0};o=n.byteLength-e}var h=e+o;if(h>n.byteLength){var c=h;return i.My(e),{cD:!1,pD:c}}var a={Km:u.Km,ac:e,ck:new am(gc(n,e,h),new Tc(u.mD))};return i.My(h),{cD:!0,lD:a}},t._D=function(t,n){var i=n.ac;if(!Vh(t,n,8))return{cD:!1,pD:n.ac+8};var r=qh(t,n),e=Kh(t,n,4);if(1===r){if(!Vh(t,n,8)){var s=n.ac+8;return n.My(i),{cD:!1,pD:s}}r=jh(t,n).toNumber()}if("uuid"===e){if(!Vh(t,n,16)){var u=n.ac+16;return n.My(i),{cD:!1,pD:u}}e=Kh(t,n,16)}return{cD:!0,gD:{Km:e,Vy:r,mD:n.ac-i}}},t.wD=function(t,n,i){var r=t.ck,e=t.KC,s=wc(mc(r),e.ac,r.byteLength);return i&&(s=bc(s)),e.Ny(s.byteLength),{Km:n,ck:s}},t.yD=function(n,i,r){var e=mm(n.ZC());return{Km:i,bD:e.version,SD:e.flags,ck:t.wD(n,i,r).ck}},t}();function wm(t,n){var i=gm(t,n);if(!i)throw new y("Missing "+n+" atom");return i}function gm(t,n){for(var i,r=Lt(t);!(i=r()).done;){var e=i.value;if(e.Km===n)return e.ck}}function _m(t,n){for(var i,r=[],e=Lt(t);!(i=e()).done;){var s=i.value;s.Km===n&&r.push(s.ck)}return r}function mm(t){return{version:t>>24,flags:new Bh(16777215&t)}}var ym=function(){function t(){}return t.TD=function(n){for(var i,r=[],e=Lt(lm.aD(new am(n,new Tc)));!(i=e()).done;){var s=i.value,u=t.kD(s);u&&r.push(u)}return r},t.ED=function(t){return lm.uD(t,new Tc,!1).m.some(this.PD)},t.xD=function(n){return _m(lm.aD(new am(n,new Tc)),um.FC).map(t.RD)},t.CD=function(n){return _m(lm.aD(n.ck),um.FC).map(t.RD)},t.PD=function(t){return t.Km===um.qC||t.Km===um.WC||t.Km===um.OR||t.Km===um.IC||t.Km===um.OC||t.Km===um.HC||t.Km===um.VC},t.kD=function(n){switch(n.Km){case um.OR:return t.DD(n.ck);case um.IC:return t.BD(n.ck,n.ac);case um.OC:return t.ND(n.ck);case um.HC:return t.MD(n.ck);case um.VC:return t.LD(n.ck)}},t.DD=function(n){var i=lm.aD(n),r=wm(i,um.FR),e=_m(i,um.UR),s=gm(i,um.KR),u=t.OD(r),o=e.map(t.FD),h=s?t.UD(s):void 0;return{Km:um.OR,gD:u,Z:o,VD:h}},t.OD=function(t){var n=mm(t.ZC()),i=n.version,r=n.flags,e=1===i?t.tD():t.ZC(),s=1===i?t.tD():t.ZC(),u=t.ZC(),o=1===i?t.tD():t.ZC(),h=t.ZC(),c=t.YC()>>8;t.rD(2),t.rD(8);var a=t.eD(9);t.rD(24);var f=t.ZC();return{Km:um.FR,bD:i,SD:r,HD:e,WD:s,qD:u,ct:o,zD:h,Mx:c,GD:a,XD:f}},t.FD=function(n){var i=lm.aD(n),r=wm(i,um.HR),e=wm(i,um.WR),s=t.jD(r),u=t.QD(e);return{Km:um.UR,gD:s,KD:u}},t.jD=function(t){var n=mm(t.ZC()),i=n.version,r=n.flags,e=1===i?t.tD():t.ZC(),s=1===i?t.tD():t.ZC(),u=t.ZC();t.rD(4);var o=1===i?t.tD():t.ZC();t.rD(8);var h=t.JC(),c=t.JC(),a=t.JC()/b.pow(2,8);t.rD(2);var f=t.eD(9),v=t.ZC()/b.pow(2,16),d=t.ZC()/b.pow(2,16);return{Km:um.HR,YD:r.Oy(1),JD:r.Oy(2),ZD:r.Oy(4),HD:e,WD:s,$D:u,ct:o,tB:h,iB:c,Mx:a,GD:f,Ti:v,Mi:d}},t.QD=function(n){var i=lm.aD(n),r=wm(i,um.qR),e=wm(i,um.zR),s=wm(i,um.GR),u=t.eB(r),o=t.sB(e),h=t.nB(s);return{Km:um.WR,gD:u,rB:o,hB:h}},t.eB=function(t){var n=mm(t.ZC()),i=n.version,r=n.flags,e=1===i?t.tD():t.ZC(),s=1===i?t.tD():t.ZC(),u=t.ZC(),o=1===i?t.tD():t.ZC();t.YC();return t.rD(2),{Km:um.qR,bD:i,SD:r,HD:e,WD:s,qD:u,ct:o}},t.sB=function(t){var n=mm(t.ZC()),i=n.version,r=n.flags;t.rD(4);var e=t.sD(4);t.rD(12);var s=t.nD();return{Km:um.zR,bD:i,SD:r,oB:e,l:s}},t.nB=function(n){var i=wm(lm.aD(n),um.XR),r=t.aB(i);return{Km:um.GR,uB:r}},t.aB=function(n){var i=wm(lm.aD(n),um.jR),r=t.cB(i);return{Km:um.XR,dB:r}},t.cB=function(n){for(var i,r=mm(n.ZC()),e=r.version,s=r.flags,u=(n.ZC(),[]),o=Lt(lm.aD(n));!(i=o()).done;){var h=i.value,c=t.lB(h.ck,h.Km);c&&u.push(c)}return{Km:um.jR,bD:e,SD:s,fB:u}},t.lB=function(n,i){var r=t.vB(n,i);return r||((r=t._B(n,i))||(i===um.SC?t.gB(n):void 0))},t.vB=function(n,i){return i===um.wC?t.pB(n):i===um.AC||i===um.AC.toLowerCase()||i===um.AC.toUpperCase()?t.mB(n):i===um.EC?t.wB(n):i===um._C?t.yB(n):i===um.gC?t.AB(n):void 0},t._B=function(n,i){return i===um.JR?t.bB(n):i===um.$R||i===um.tC?t.SB(n,i):i===um.eC?t.TB(n,i):i===um.nC?t.kB(n,i):i===um.xC?t.EB(n):i===um.dC||i===um.lC||i===um.fC||i===um.vC?t.PB(n,i):void 0},t.xB=function(t,n){return t.rD(6),{Km:n,IB:t.YC()}},t.RB=function(n,i){var r=t.xB(n,i);n.rD(8);var e=n.YC(),s=n.YC();return n.rD(2),n.rD(2),Yu({},r,{CB:e,DB:s,BB:n.ZC()>>>16})},t.NB=function(n,i){var r=t.xB(n,i);n.rD(2),n.rD(2),n.rD(12);var e=n.YC(),s=n.YC(),u=n.ZC(),o=n.ZC();n.rD(4);var h=n.YC();n.rD(32);var c=n.YC();return n.rD(2),Yu({},r,{Ti:e,Mi:s,MB:u,LB:o,OB:h,FB:c})},t.pB=function(n){var i=t.RB(n,um.wC),r=wm(lm.aD(n),um.yC);return Yu({},i,{UB:t.VB(r)})},t.mB=function(n){var i=t.RB(n,um.AC),r=wm(lm.aD(n),um.bC);return Yu({},i,{HB:t.WB(r)})},t.gB=function(n){var i=t.xB(n,um.SC),r=lm.aD(n),e=wm(r,um.TC),s=t.qB(e),u=gm(r,um.kC);return Yu({},i,{zB:s,GB:u?t.XB(u):void 0})},t.qB=function(t){return{Km:um.TC,Cd:t.nD()}},t.XB=function(t){return{Km:um.kC,Th:t.nD()}},t.VB=function(t){return lm.yD(t,um.yC,!0)},t.WB=function(t){return lm.yD(t,um.bC,!0)},t.bB=function(n){var i=t.NB(n,um.JR),r=lm.aD(n),e=wm(r,um.ZR),s=gm(r,um.mC);return Yu({},i,{jB:t.QB(e),KB:s?t.YB(s):void 0})},t.SB=function(n,i){var r=t.NB(n,i),e=wm(lm.aD(n),um.iC);return Yu({},r,{JB:t.ZB(e)})},t.TB=function(n,i){var r=t.NB(n,i),e=wm(lm.aD(n),um.sC);return Yu({},r,{$B:t.tN(e)})},t.kB=function(n,i){var r=t.NB(n,i),e=lm.aD(n),s=wm(e,um.rC),u=t.iN(s),o=gm(e,um.pC);return Yu({},r,{eN:u,sN:o?t.nN(o):void 0})},t.EB=function(n){var i=n.Ly(),r=t.NB(n,um.xC),e=wm(lm.aD(n),um.zC),s=t.rN(e);return Yu({},r,{hN:t._B(i,s.aN.oN),uN:s})},t.PB=function(n,i){var r=t.NB(n,i),e=lm.aD(n);return Yu({},r,{cN:t.dN(e)})},t.yB=function(n){var i=t.RB(n,um._C),r=wm(lm.aD(n),um.uC);return Yu({},i,{lN:t.fN(r)})},t.AB=function(n){var i=t.RB(n,um.gC),r=wm(lm.aD(n),um.cC);return Yu({},i,{vN:t._N(r)})},t.wB=function(n){var i=n.Ly(),r=t.RB(n,um.EC),e=wm(lm.aD(n),um.zC),s=t.rN(e);return Yu({},r,{hN:t.vB(i,s.aN.oN),uN:s})},t.rN=function(n){var i=lm.aD(n),r=wm(i,um.GC),e=t.gN(r),s=wm(i,um.XC),u=t.pN(s);return{Km:um.zC,aN:e,mN:u}},t.gN=function(t){var n=t.sD(4);return{Km:um.GC,oN:n}},t.pN=function(n){var i=wm(lm.aD(n),um.jC),r=t.wN(i);return{Km:um.XC,yN:r}},t.wN=function(t){var n=mm(qh(t.ck,t.KC)),i=n.version,r=n.flags,e=t.QC()>0,s=t.QC(),u=t.iD(16);return{Km:um.jC,bD:i,SD:r,AN:e,bN:s,SN:u}},t.QB=function(t){return lm.wD(t,um.ZR,!0)},t.ZB=function(t){return lm.wD(t,um.iC,!0)},t.dN=function(t){var n=gm(t,um.hC);if(void 0!==n)return lm.wD(n,um.hC,!0);var i=gm(t,um.oC);if(void 0!==i)return lm.wD(i,um.oC,!0);var r=gm(t,um.aC);if(void 0!==r)return lm.wD(r,um.aC,!0);throw y("Error parsing Dolby Vision configuration box.")},t.fN=function(t){return lm.wD(t,um.uC,!0)},t._N=function(t){return lm.wD(t,um.cC,!0)},t.tN=function(t){return lm.wD(t,um.sC,!0)},t.iN=function(t){return lm.wD(t,um.rC,!0)},t.nN=function(t){var n=t.sD(4);switch(n){case"nclx":return{TN:om.ON_SCREEN_COLOURS,kN:t.YC(),EN:t.YC(),PN:t.YC(),xN:!!(128&t.QC())};case"rICC":return{TN:om.RESTRICTED_ICC_PROFILE};case"prof":return{TN:om.UNRESTRICED_ICC_PROFILE};default:throw y("Could not parse ColourInformationBox: unknown type '"+n+"'.")}},t.YB=function(t){var n=t.ZC(),i=t.ZC();return{Km:um.mC,RN:n,CN:i}},t.UD=function(n){var i=_m(lm.aD(n),um.YR).map(t.DN);return{Km:um.KR,Z:i}},t.DN=function(t){var n=mm(t.ZC()),i=n.version,r=n.flags,e=t.ZC(),s=t.ZC(),u=t.ZC(),o=t.ZC(),h=t.ZC();return{Km:um.YR,bD:i,SD:r,$D:e,BN:s,NN:u,MN:o,LN:h}},t.BD=function(n,i){var r=lm.aD(n),e=wm(r,um.RC),s=_m(r,um.DC),u=t.ON(e),o=s.map(t.FN);return{Km:um.IC,UN:i,gD:u,Z:o}},t.ON=function(t){var n=mm(t.ZC()),i=n.version,r=n.flags,e=t.ZC();return{Km:um.RC,bD:i,SD:r,VN:e}},t.FN=function(n){var i=lm.aD(n),r=wm(i,um.BC),e=_m(i,um.NC),s=gm(i,um.MC),u=t.HN(r),o=e.map(function(n){return t.WN(n,u)}),h=s?t.qN(s):void 0;return{Km:um.DC,gD:u,zN:o,GN:h}},t.HN=function(t){var n=mm(t.ZC()),i=n.version,r=n.flags,e=t.ZC(),s=r.Oy(hm.BASE_DATA_OFFSET_PRESENT)?t.tD():void 0,u=r.Oy(hm.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.ZC():void 0,o=r.Oy(hm.DEFAULT_SAMPLE_DURATION_PRESENT)?t.ZC():void 0,h=r.Oy(hm.DEFAULT_SAMPLE_SIZE_PRESENT)?t.ZC():void 0,c=r.Oy(hm.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.ZC():void 0;return{Km:um.BC,bD:i,SD:r,$D:e,XN:s,jN:u,NN:o,MN:h,LN:c}},t.WN=function(n,i){for(var r=mm(n.ZC()),e=r.version,s=r.flags,u=n.ZC(),o=s.Oy(cm.DATA_OFFSET_PRESENT)?n.$C():void 0,h=s.Oy(cm.FIRST_SAMPLE_FLAGS_PRESENT)?n.ZC():void 0,c=[],a=0;a<u;a++){var f=t.QN(n,s,e,i);0===a&&void 0!==h&&(f.SD=h),c.push(f)}return{Km:um.NC,bD:e,SD:s,KN:u,UN:o,YN:h,JN:c}},t.QN=function(t,n,i,r){return{ct:n.Oy(cm.SAMPLE_DURATION_PRESENT)?t.ZC():r.NN,Vy:n.Oy(cm.SAMPLE_SIZE_PRESENT)?t.ZC():r.MN,SD:n.Oy(cm.SAMPLE_FLAGS_PRESENT)?t.ZC():r.LN,ZN:n.Oy(cm.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.ZC():t.$C():void 0}},t.LD=function(t){var n=t.ck,i=t.KC,r=mm(qh(n,i)),e=r.version,s=r.flags;if(1===e){var u=qh(n,i),o=jh(n,i),h=qh(n,i),c=qh(n,i),a=Yh(n,i),f=Yh(n,i),v=kc(mc(n),i.ac,n.byteLength);return i.Ny(v.byteLength),{Km:um.VC,bD:e,SD:s,$N:a,zE:f,qD:u,tM:o,iM:h,o:c,eM:v}}var d=Yh(n,i),l=Yh(n,i),w=qh(n,i),g=qh(n,i),_=qh(n,i),m=qh(n,i),y=kc(mc(n),i.ac,n.byteLength);return i.Ny(y.byteLength),{Km:um.VC,SD:s,bD:e,$N:d,zE:l,qD:w,sM:g,iM:_,o:m,eM:y}},t.ND=function(t){return lm.wD(t,um.OC,!1)},t.RD=function(n){var i=n.ck,r=n.KC,e=bc(mc(i)).buffer,s=mm(qh(i,r)),u=s.version,o=s.flags,h=t.nM(i,r),c=[];if(u>0)for(var a=qh(i,r),f=0;f<a;f++){var v=Uh(i,r,16);c.push(v)}var d=qh(i,r),l=new E(e,r.ac,d);return r.Ny(i.byteLength),{Km:um.FC,bD:u,SD:o,rM:h,hM:c,oM:d,ck:l,aM:e}},t.nM=function(t,n){for(var i="",r=0;r<4;r++){var e=Mh(t,n).toString(16);i+=1===e.length?"0"+e:e}i+="-";for(var s=0;s<2;s++){var u=Mh(t,n).toString(16);i+=1===u.length?"0"+u:u}i+="-";for(var o=0;o<2;o++){var h=Mh(t,n).toString(16);i+=1===h.length?"0"+h:h}i+="-";for(var c=0;c<2;c++){var a=Mh(t,n).toString(16);i+=1===a.length?"0"+a:a}i+="-";for(var f=0;f<6;f++){var v=Mh(t,n).toString(16);i+=1===v.length?"0"+v:v}return i.toLowerCase()},t.MD=function(t){var n,i,r=t.ck,e=t.KC,s=mm(qh(r,e)),u=s.version,o=s.flags,h=qh(r,e),c=qh(r,e);0===u?(n=ue.fromBits(qh(r,e),0,!0),i=ue.fromBits(qh(r,e),0,!0)):(n=jh(r,e),i=jh(r,e)),e.Ny(2);for(var a=zh(r,e),f=[],v=0;v<a;v+=1){var d=qh(r,e),l=d>>31&1,w=2147483647&d,g=qh(r,e),_=qh(r,e),m=_>>31&1,y=_>>28&7,p=268435455&_;f.push({uM:l,cM:w,ct:g,dM:m,lM:y,fM:p})}return{Km:um.HC,bD:u,SD:o,vM:h,qD:c,_M:n,gM:i,pM:a,mM:f}},t.qN=function(t){var n,i=t.ck,r=t.KC,e=mm(qh(i,r)),s=e.version,u=e.flags;return n=0===s?ue.fromBits(qh(i,r),0,!0):jh(i,r),{Km:um.MC,bD:s,SD:u,GN:n}},t}();function pm(t){return t&&"$E"in t?t.$E:t}F(),Et(),Bt(),Dt(),F(),Et();var km=function(t){function n(n,i,r,e,s,u,o,h){var c;return(c=t.call(this,n,i,r,e)||this).xU=void 0,c.RU=void 0,c.CU=void 0,c.BU=void 0,c.xU=s,c.RU=u,c.CU=o,c.BU=h||void 0,c}return Ct(n,t),n.prototype.GO=function(t){return!!Mw(this.PU,t.PU)&&(!!Mw(this.IU,t.IU)&&(!!Mw(this.SU,t.SU)&&(this.DU&&t.DU?!!this.DU.GE(t.DU)&&(this.U&&t.U?this.U.GE(t.U):this.U===t.U):this.DU===t.DU)))},Nt(n,[{key:"PU",get:function(){return this.xU}},{key:"IU",get:function(){return this.RU}},{key:"SU",get:function(){return this.CU}},{key:"DU",get:function(){return this.BU}},{key:"Ca",get:function(){return this.hu||(this.hu=function(t){return xw(Vg(t),{get extent(){return t.PU},get styles(){return t.IU},get regions(){return t.SU},get metadata(){return pm(t.DU)},get content(){return pm(t.U)}})}(this)),this.hu}}]),n}(Yg);F(),Et(),Bt();var bm=function(){function t(t,n,i){this.Lf=void 0,this.MU=void 0,this.LU=void 0,this.MU=t,this.LU=n,sw(i)?this.Lf=function(t,n,i){for(var r=0,e=["begin","end","dur"];r<e.length;r++){var s=e[r];i.rP(s)}return i}(0,0,i):this.Lf=i}return Nt(t,[{key:"NU",get:function(){return this.Lf.XE(!0)}},{key:"EO",get:function(){return this.MU}},{key:"PO",get:function(){return this.LU}}]),t}();F(),Et(),Ut();var Am="http://www.w3.org/XML/1998/namespace";function Tm(t,n,i,r){var e=t.ZE(i,n);return 0===e.length&&(e=t.YE(r+":"+n)),e}function Sm(t){for(var n,i={},r=Lt(t.iP);!(n=r()).done;){var e=n.value;i[e.VE]=e.zE}return i}var Em=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,Im=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,Rm="http://www.w3.org/ns/ttml";function Cm(t,n,i,r){void 0===i&&(i=b_),void 0===r&&(r=Mv);var e=[],s=_c(t);return r===Lv?e=function(t,n,i){var r=ym.TD(t),e=vm(r,um.OC);if(!e)return[];return Nm(_c(e.ck),n,i)}(s,n,i):r===Mv&&(e=Nm(s,n,i)),e}function Dm(t,n,i){return void 0===i&&(i=b_),Bm(t,n,i)}function Pm(t,n){for(var i,r={},e=Lt(Fm(n.NU));!(i=e()).done;){var s=i.value;r[s]=t[s]}return r}function Nm(t,n,i){return Bm(lc(t,new Tc),n,i)}function Bm(t,n,i){var r,e=[];try{r=Vn.UE(t)}catch(t){return e}var s=r.uP;if("tt"!==s.VE)return e;var u=s.ZE(Rm,"head")[0],o=s.ZE(Rm,"body")[0];if(!o||!u)return e;for(var h,c=Om(s.sP("tts:extent")),a=c?{width:c[0],height:c[1]}:void 0,f=function(t){for(var n,i={},r=t.ZE(Rm,"styling")[0],e=Lt(r&&r.ZE(Rm,"style")||[]);!(n=e()).done;){var s=n.value;i[s.nP(Am,"id")]=Sm(s)}return i}(u),v=function(t){for(var n,i={},r=t.ZE(Rm,"layout")[0],e=Lt(r&&r.ZE(Rm,"region")||[]);!(n=e()).done;){var s=n.value,u=s.nP(Am,"id");if(u){i[u]=Sm(s);var o=Um(s);for(var h in o)Mn.call(o,h)&&(i[u][h]=o[h])}}return i}(u),d=c?function(t,n){for(var i,r=Ow(t),e=Lt(k.keys(r));!(i=e()).done;){var s=i.value,u=Om(r[s].extent);if(u){var o=xm(u[0],n[0]),h=xm(u[1],n[1]);r[s].extent=o+" "+h}var c=Om(r[s].origin);if(c){var a=xm(c[0],n[0]),f=xm(c[1],n[1]);r[s].origin=a+" "+f}}return r}(v,c):v,l=u.ZE(Rm,"metadata")[0],w=Lt(Mm(o,i.yU,i.AU,i.bU));!(h=w()).done;){var g=h.value,_=Pm(d,g);e.push(new km(g.EO,g.PO,g.NU,!1,a,f,_,l))}return e}function xm(t,n){return t/n*100+"%"}function Om(t){if(t){var n=t.split(" ",2);if(2===n.length){var i=n[0],r=n[1];if(Fo(i,"px")&&Fo(r,"px"))return[Number(i.slice(0,-2)),Number(r.slice(0,-2))]}}}function Mm(t,n,i,r){var e,s=function(n){var i=function(t,n,i){for(var r=[],e=0;e<i.length;e++){var s=i[e].EO,u=i[e].PO;(s>=t&&u<=n||s<n&&u>=n||s<t&&u>t)&&r.push(i[e])}return r}(l[n],l[n+1],h);if(i.length<=0&&function(t){if(sw(t)){var n=t.VE.toUpperCase(),i=Boolean(t.sP("smpte:backgroundImage"));return"BR"===n||i}return t.FE===ew.NT}(t)){var r=t.XE(!1);c.push(new bm(l[n],l[n+1],r))}else if(i.length>0){var e=t.XE(!1);i.forEach(function(t){return e.tP(t.NU)}),c.push(new bm(l[n],l[n+1],e))}},u=n,o=i,h=[],c=[];if(sw(t)){var a,f;u=null!=(a=Lm(t.sP("begin"),r))?a:u,e=Lm(t.sP("dur"),0),o=null!=(f=Lm(t.sP("end"),r))?f:void 0!==e?u+e:o;for(var v=t.jE,d=0;d<v.length;d++)("body"===t.VE||"div"===t.VE)&&v[d].FE>1||(h=h.concat(Mm(v[d],u,o,r)))}for(var l=function(t,n,i){var r=[];r.push(t,n);for(var e,s=Lt(i);!(e=s()).done;){var u=e.value;r.push(u.EO,u.PO)}r.sort(xi);for(var o=r.length,h=0;h<o-1;h++)r[h+1]===r[h]&&(qi(r,h+1),h--,o=r.length);return r}(u,o,h),w=0;w<l.length-1;w++)s(w);return c}function Lm(t,n){if(t){if(Em.test(t)){var i=Em.exec(t);if(!i)return;var r=Number(i[1])||0,e=Number(i[2])||0,s=Number(i[3])||0,u=i[6];return 3600*r+60*e+s+(u?Number(u)*b.pow(.1,u.length):0)+n}if(Im.test(t)){var o=Im.exec(t);if(!o)return;var h,c=Number(o[1]);switch(o[4]){case"h":h=3600*c;break;case"m":h=60*c;break;case"s":h=c;break;case"ms":h=.001*c;break;default:h=NaN}return h+n}}}function Um(t){for(var n,i={},r=Lt(t.YE("style")||[]);!(n=r()).done;){var e=Sm(n.value);for(var s in e)Mn.call(e,s)&&(i[s]=e[s])}return i}function Fm(t){var n,i=[];if(sw(t)){(n=t.sP("region"))&&i.push(n);for(var r=t.jE,e=0;e<r.length;e++)i=i.concat(Fm(r[e]))}return i}function Vm(t){var n=function(t){try{return Vn.UE(t).uP}catch(t){}}(t);return"tt"===(null==n?void 0:n.VE)}F(),Et(),Wt(),Bt(),Dt(),Ut(),Qt(),F(),Et();var Hm=function(t){return t.Nh="disabled",t.JI="hidden",t.Kn="showing",t}({});function Wm(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case"disabled":case"hidden":case"showing":return n}}else if("number"==typeof t)switch(t){case 0:return"disabled";case 1:return"hidden";case 2:return"showing"}return"disabled"}F(),Et(),Dt(),F(),Et(),F(),Et();var zm=function(t){return t.ma="error",t}({});function Xm(){}function qm(t){var n,i=[Dw.pa,Dw.SI,Dw.hI,Dw.aI,Dw.lI,Dw.vI,Dw.cI,Dw.gI,Dw.wI,Dw.AI],r=[zm.ma],e={get kind(){return t.Lt},get label(){return t.Th},set label(n){t.Th=Xw(n)},get language(){return t.bs},get id(){return t.o},get uid(){return t.jI},get inBandMetadataTrackDispatchType(){return t.ZI},get mode(){return t.Xk},set mode(n){n!==Hm.Kn&&n!==Hm.JI&&n!==Hm.Nh||t.$I(n)},get forced(){return Boolean(t.tR)},get accessibility(){var n,i;return null!=(i=null==(n=t.QI)?void 0:n.map(Kw))?i:[]},get type(){return t.Km},get readyState(){return t.Ax},get cues(){return t.Xk===Hm.Nh?null:t.L.Ca},get activeCues(){return t.Xk===Hm.Nh?null:t.q.Ca},get src(){return t.iR||""},addEventListener:function(t,i){var r=Gw(t,Xw);n.wn(r,i)},removeEventListener:function(t,i){var r=Gw(t,Xw);n.mn(r,i)}};return n=new nh(t),t.wn(i,function(t){return n.So(t.Ca)}),t.wn(r,function(t){return n.So(t)}),k.defineProperty(e,"constructor",{value:Xm}),e}function Gm(){}function jm(t){var n=Qw(t);return k.defineProperty(n,"constructor",{value:Gm}),n}var Qm=function(t){function n(){return t.apply(this,arguments)||this}Ct(n,t);var i=n.prototype;return i.tt=function(n){return t.prototype.tt.call(this,n)},i.it=function(n){var i=t.prototype.it.call(this,n);return i&&(n.Xk=Hm.Nh),i},i.xa=function(){return jm(this)},n}(Pw);F(),Et(),Ut(),F(),Et();var Ym=function(t){return t.OU="subtitles",t.FU="captions",t.UU="descriptions",t.Yn="chapters",t.VU="metadata",t.HU="thumbnails",t}({}),Km=["subtitles","captions","descriptions","chapters","metadata","thumbnails"];function Jm(t){return"string"==typeof t&&ji(Km,t)}function Zm(t,n){return!(!Jm(t)||!Jm(n))&&(t===n||"subtitles"===t&&"captions"===n||"captions"===t&&"subtitles"===n)}F(),Et(),Dt();var $m=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this,n,i,s)||this).url=void 0,u.status=void 0,u.url=r,u.status=e,u}return Ct(n,t),n}(fd);function ty(t){return t.some(ny)}function ny(t){return Lo(t,"stpp")}function iy(t){return t.some(ry)}function ry(t){return Lo(t,"vtt")||Lo(t,"wvtt")}function ey(t,n){return Hv(t)&&iy(n)}function sy(t,n){return t===Ym.HU||t===Ym.VU&&n===Ym.HU}function uy(t,n,i,r){for(var e,s=Lt(t.L.II);!(e=s()).done;){var u=e.value;if(u.EO>i)break;n<=u.PO&&!ji(r,u)&&r.push(u)}}function oy(t,n){return Bi(t.jI,n.jI)}function hy(t,n,i,r){var e=function(t){switch(t){case Dg.WEBVTT:return"WebVTT";case Dg.SRT:return"SRT";case Dg.TTML:return"TTML";default:return""}}(t);return new $m(cd.SUBTITLE_PARSE_ERROR,"Could not parse the "+(e?e+" ":"")+"subtitle file.",n,i,r)}function cy(t,n){for(var i,r=[],e=Lt(t.L.II);!(i=e()).done;){var s=i.value;if(s.PO<=n)r.push(s);else if(s.EO>=n)break}for(var u,o=Lt(r);!(u=o()).done;){var h=u.value;t.WU(h)}}function ay(t,n){if(t.V>0)for(var i,r=t.Tn(0),e=b.max(0,r-10),s=Lt(n);!(i=s()).done;){i.value.qU(e)}}var fy=function(t){function n(n){var i;return(i=t.call(this)||this).JU=void 0,i.Z=new Qm,i.zU=0,i.GU=function(t){var n=t.Ht;i.XU(n)},i.JU=n,i}Ct(n,t);var i=n.prototype;return i.tt=function(t){t.wn(Dw.pa,this.GU),t.bU=this.bU,this.Z.tt(t),this.XU(t)},i.it=function(t){t.mn(Dw.pa,this.GU),t.Xk=Hm.Nh,this.Z.it(t)},i.jU=function(t){},i.QU=function(t){},i.XU=function(t){t.Xk!==Hm.Nh?this.jU(t):this.QU(t)},i.KU=function(){for(var t,n=Lt(this.Z.II);!(t=n()).done;){var i=t.value;i.mn(Dw.pa,this.GU),i.kn()}},i.qU=function(t){if(t>0)for(var n,i=Lt(this.Z.II);!(n=i()).done;){cy(n.value,t)}},i.YU=function(t){var n=this.JU;if(t!==n){this.JU=t;for(var i,r=Lt(this.Z.II.slice());!(i=r()).done;){var e=i.value,s=this.ZU(e,n,t);e!==s&&(this.it(e),this.tt(s),e.kn())}}},i.hr=function(){return this.KU(),this.Z.hr(),ut.resolve()},i.kn=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.Vo(),[4,this.hr()];case 1:return t.sent(),this.Z.kn(),[2]}})}).call(this)},Nt(n,[{key:"bU",get:function(){return this.zU},set:function(t){this.zU=t;for(var n,i=Lt(this.Z.II);!(n=i()).done;){n.value.bU=t}}}]),n}(th);function vy(t,n,i){var r=i.tI(t.Lt,t.o,t.Th,t.bs,t.$U,t.Km,t.tR,t.QI);r.iR=t.iR,r.Ax=t.Ax,r.ZI=t.ZI,r.bU=t.bU;for(var e,s=Lt(t.L.II.slice());!(e=s()).done;){var u=e.value;t.WU(u),r.tV(u)}return r.Xk=t.Xk,n.iV(t),r}F(),Et(),Bt(),Dt();var dy=function(t){function n(n){var i;return(i=t.call(this,zm.ma)||this).errorObject=void 0,i.errorObject=n,i}return Ct(n,t),n.prototype.xa=function(){return this},Nt(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(kw),ly=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).nV=void 0,r.rV=new hr,r.nV=i,r}Ct(n,t);var i=n.prototype;return i.eV=function(t){if(t.src){var n=t.kind||Ym.OU,i=this.JU.tI(n,t.id,t.label,t.srclang,t.default);return i.iR=Sl(t.src),this.tt(i),i}},i.sV=function(t,n){return Vt(function(){var i,r,e,s,u,o,h,c,a,f,v;return zt(this,function(d){switch(d.label){case 0:t.Ax=Cg.LOADING,i=new pl({Yu:t.iR,dk:Md.NT,Uk:wl.GET,Yg:n}),d.label=1;case 1:return d.trys.push([1,4,,5]),[4,this.nV.lk(i)];case 2:return s=d.sent(),e=s.hk,[4,s.UT()];case 3:return r=d.sent(),[3,5];case 4:return lr(u=d.sent()),t.Ax=Cg.ERROR,t.So(new dy(function(t,n){var i=n,r=0;if(ql(t)&&t.name===Cl.sE)i=t.lk.Yu;else if(Gl(t)){var e=t.oE;if(i=e.gk,0===(r=e.hk))return new $m(cd.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",i,r,t)}return new $m(cd.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",i,r,t)}(u,t.iR))),[2];case 5:try{for(o=function(t){return z_(t)?Dg.WEBVTT:Vm(t)?Dg.TTML:Dg.SRT}(r),t.Km=o,h=[],o===Dg.WEBVTT||o===Dg.SRT?(c=P_(r),h=c.L):o===Dg.TTML&&(h=Dm(r,t)),a=Lt(h);!(f=a()).done;)v=f.value,t.tV(v)}catch(n){return lr(n),t.Ax=Cg.ERROR,t.So(new dy(hy(t.Km,t.iR,e,n))),[2]}return t.Ax=Cg.LOADED,[2]}})}).call(this)},i.jU=function(t){ji(this.Z.II,t)&&t.Ax===Cg.NONE&&this.sV(t,this.rV.Yg).catch(wr)},i.Un=function(){},i.ZU=function(t,n,i){return vy(t,n,i)},i.hr=function(){var n=this;return Vt(function(){var i,r,e;return zt(this,function(s){switch(s.label){case 0:for(this.rV.Zg(),this.rV=new hr,i=Lt(this.Z.II);!(r=i()).done;)e=r.value,this.JU.iV(e);return[4,t.prototype.hr.call(n)];case 1:return s.sent(),[2]}})}).call(this)},n}(fy);function wy(t){return"TXXX"===t.id||"TXX"===t.id}F(),Et(),Wt(),Dt(),Ut(),Qt(),F(),Et();var gy=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).oV=void 0,r.fV=void 0,r.pV=void 0,r.aV=void 0,r.gV=void 0,r.uV=void 0,r._V=void 0,r.oV=i,r.fV=Zu(),r.pV=function(t){t.mn(Dw.AI,r.aV),t.Km?t.Km===Dg.ID3&&(t.mn(Dw.hI,r.gV),0!==t.L.V?r.dV(t):t.wn(Dw.hI,r.gV)):t.wn(Dw.AI,r.aV)},r.aV=function(t){r.pV(t.Ht)},r.gV=function(t){r.pV(t.TO.Ht)},r.uV=function(t){var n=t.Ht;if(n.Km===Dg.ID3&&r.fV.has(n.jI)){var i=r.fV.get(n.jI);r.it(i),r.JU.iV(i),n.mn(Dw.AI,r.aV),n.mn(Dw.hI,r.gV),n.mn(Dw.hI,r._V)}},r._V=function(t){_y(t.TO)&&r.vV(t.TO)},r.hV(),r}Ct(n,t);var i=n.prototype;return i.hV=function(){this.oV.wn(Sw.eI,this.aV),this.oV.wn(Sw.nI,this.uV)},i.cV=function(){this.oV.mn(Sw.eI,this.aV),this.oV.mn(Sw.nI,this.uV)},i.dV=function(t){var n=t.L.II[0];if(_y(n)){var i=function(t){var n=t.match(my);if(!n)return;return{Ht:n[1],bs:n[2]}}(n.U.description),r=i.Ht,e=i.bs;if(!this.lV(r,e)){var s=this.JU.tI(Ym.OU,t.o,r,e,!1,Dg.TTML);this.tt(s),this.fV.set(t.jI,s);for(var u,o=Lt(t.L.II);!(u=o()).done;){var h=u.value;_y(h)&&this.vV(h)}t.wn(Dw.hI,this._V)}}},i.lV=function(t,n){return this.Z.II.some(function(i){return i.Th===t&&i.bs===n})},i.vV=function(t){if(t.Ht)for(var n,i=this.fV.get(t.Ht.jI),r=Lt(Dm(t.U.text,i,{yU:0,AU:1/0,bU:t.EO}));!(n=r()).done;){var e=n.value;i.tV(e)}},i.ZU=function(t,n,i){var r=this,e=vy(t,n,i);return this.fV.forEach(function(n,i){n===t&&r.fV.set(i,e)}),e},i.hr=function(){var n=this;return Vt(function(){var i,r,e,s,u,o;return zt(this,function(h){switch(h.label){case 0:for(i=Lt(this.oV.II);!(r=i()).done;)(e=r.value).mn(Dw.AI,this.aV),e.mn(Dw.hI,this.gV),e.mn(Dw.hI,this._V);for(s=Lt(this.Z.II);!(u=s()).done;)o=u.value,this.JU.iV(o);return this.fV.clear(),[4,t.prototype.hr.call(n)];case 1:return h.sent(),[2]}})}).call(this)},i.kn=function(){var n=this;return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return this.cV(),[4,t.prototype.kn.call(n)];case 1:return i.sent(),[2]}})}).call(this)},n}(fy);function _y(t){return function(t){return wy(t)&&my.test(t.description)}(t.U)}var my=/^Track:(.+),Lang:(.+)$/;function yy(t,n){for(var i,r=Lt(t);!(i=r()).done;){var e=i.value;if(e.Lt===n&&e.$U)return e}}function py(t,n){ky(yy(t.II,n))}function ky(t){void 0!==t&&(t.Xk=Hm.Kn)}function by(t,n){var i=yy(t.II,n)||function(t,n){for(var i,r=Lt(t);!(i=r()).done;){var e=i.value;if(e.Lt===n)return e}}(t.II,n);ky(i)}function Ay(t){for(var n,i=Lt(Km);!(n=i()).done;){var r=n.value;r===Ym.Yn?by(t,r):py(t,r)}}F(),Et(),Ut(),F(),Et(),Dt();var Ty=function(t){function n(){return t.call(this,eh.Jw)||this}return Ct(n,t),n}(rh);F(),Et(),F(),Et();var Sy=function(t){return t[t.mV=0]="mV",t[t.wV=1]="wV",t}({});F(),Et();var Ey=function(t){return t.wM="canplay",t.yM="canplaythrough",t.AM="loadeddata",t.bM="loadedmetadata",t.wI="readystatechange",t.SM="waiting",t.TM="playing",t}({}),Iy=["canplay","canplaythrough","loadeddata","loadedmetadata","readystatechange","waiting","playing"];F(),Et(),Bt(),Dt(),F(),Et(),Dt();var Ry=function(t){function n(n,i){var r;return(r=t.call(this,Ey.wI)||this).currentTime=void 0,r.readyState=void 0,r.currentTime=n,r.readyState=i,r}return Ct(n,t),n}(rh);F(),Et();var Cy=function(t){return t[t.VL=0]="VL",t[t.Qn=1]="Qn",t[t.HL=2]="HL",t[t.WL=3]="WL",t[t.qL=4]="qL",t}({});F(),Et(),Dt();var Dy=function(t){function n(n,i){var r;return void 0===i&&(i=Cy.Qn),(r=t.call(this,Ey.bM)||this).currentTime=void 0,r.readyState=void 0,r.currentTime=n,r.readyState=i,r}return Ct(n,t),n}(rh);F(),Et(),Dt();var Py=function(t){function n(n,i){var r;return void 0===i&&(i=Cy.HL),(r=t.call(this,Ey.AM)||this).currentTime=void 0,r.readyState=void 0,r.currentTime=n,r.readyState=i,r}return Ct(n,t),n}(rh);F(),Et(),Dt();var Ny=function(t){function n(n){var i;return(i=t.call(this,Ey.SM)||this).currentTime=void 0,i.currentTime=n,i}return Ct(n,t),n}(rh);F(),Et(),Dt();var By=function(t){function n(n,i){var r;return void 0===i&&(i=Cy.WL),(r=t.call(this,Ey.wM)||this).currentTime=void 0,r.readyState=void 0,r.currentTime=n,r.readyState=i,r}return Ct(n,t),n}(rh);F(),Et(),Dt();var xy=function(t){function n(n,i){var r;return void 0===i&&(i=Cy.qL),(r=t.call(this,Ey.yM)||this).currentTime=void 0,r.readyState=void 0,r.currentTime=n,r.readyState=i,r}return Ct(n,t),n}(rh);F(),Et(),Dt();var Oy=function(t){function n(n){var i;return(i=t.call(this,Ey.TM)||this).currentTime=void 0,i.currentTime=n,i}return Ct(n,t),n}(rh),My=[Ey.wI,Ey.TM,eh.uo,eh.jw],Ly=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this)||this).PV=void 0,r.kV=void 0,r.EV=void 0,r.NV=void 0,r.SV=void 0,r.AV=void 0,r.FV=void 0,r.LV=void 0,r.OV=void 0,r.MV=void 0,r.PV=n,r.kV=i,r.EV=Cy.VL,r.NV=!0,r.SV=!1,r.AV=!1,r.FV=function(t){var n=r.PV.MP,i=r.PV.Ax;i!==r.EV&&r.So(new Ry(n,i)),i===Cy.VL&&(r.SV=!1,r.AV=!1),r.yV(n,i),r.bV(n,i),r.DV(n,i),r.BV(n,i),r.TV(n,i),r.RV(n,i),r.EV=i},r.LV=function(){var t=r.PV.MP;r.RV(t,r.EV),r.TV(t,r.EV),r.NV=r.PV.hx},r.OV=function(){r.NV=r.PV.hx},r.MV=function(){r.So(new Oy(r.PV.MP))},r.PV.wn(Ey.wI,r.FV),r.PV.wn(eh.uo,r.LV),r.PV.wn(eh.jw,r.OV),r.kV&&r.PV.wn(Ey.TM,r.MV),r}Ct(n,t);var i=n.prototype;return i.yV=function(t,n){!this.AV&&n>=Cy.Qn&&(this.AV=!0,this.So(new Dy(t,n)))},i.bV=function(t,n){!this.SV&&n>=Cy.HL&&(this.SV=!0,this.So(new Py(t,n)))},i.TV=function(t,n){this.kV||(n>=Cy.WL&&this.EV<Cy.WL&&!this.PV.hx||this.xV&&n>=Cy.WL)&&this.So(new Oy(t))},i.RV=function(t,n){!this.CV(n)||this.PV.UP||this.PV.lt||this.So(new Ny(t))},i.DV=function(t,n){this.EV<=Cy.HL&&n>=Cy.WL&&this.So(new By(t,n))},i.BV=function(t,n){n===Cy.qL&&this.So(new xy(t,n))},i.CV=function(t){var n=!this.PV.hx&&t<=Cy.HL,i=!this.NV&&this.EV<=Cy.HL;return n&&!i},i.hr=function(){this.EV=Cy.VL,this.NV=!0,this.SV=!1,this.AV=!1},i.kn=function(){this.Vo(),this.kV&&this.PV.mn(Ey.TM,this.MV),this.PV.mn(eh.uo,this.LV),this.PV.mn(eh.jw,this.OV),this.PV.mn(Ey.wI,this.FV)},Nt(n,[{key:"xV",get:function(){return!this.PV.hx&&this.NV}}]),n}(th);F(),Et(),Bt(),Dt();var Uy=function(t){function n(n,i){var r;return(r=t.call(this)||this).oa=void 0,r.TL=void 0,r.oa=n,r.TL=i,r.TL.wn(My,r.Rs),r}Ct(n,t);var i=n.prototype;return i.zg=function(){this.Vo(),this.TL.mn(My,this.Rs)},i.VV=function(){this.So(new Ry(this.MP,this.Ax))},Nt(n,[{key:"MP",get:function(){return this.oa.MP}},{key:"UP",get:function(){return this.oa.UP}},{key:"lt",get:function(){return this.TL.lt}},{key:"hx",get:function(){return this.TL.hx}},{key:"Ax",get:function(){return this.oa.Ax}}]),n}(th);F(),Et(),F(),Et();var Fy="titanium",Vy="conax",Hy="ezdrm",Wy="irdeto",zy="vudrm",Xy="verimatrix",qy="keyos",Gy="drmtoday",jy="expressplay",Qy="azure",Yy="xstream",Ky="vimond",Jy="axinom",Zy="uplynk",$y="comcast",tp="custom";F(),Et(),Wt(),Dt(),Qt(),F(),Et(),Wt(),Dt(),Qt(),F(),Et(),Wt(),Bt(),Qt();var np=function(){function t(t,n,i,r,e){this.kS=void 0,this.aH=void 0,this.uH=void 0,this.XV=void 0,this.nV=void 0,this.WV=void 0,this.oH=void 0,this.kS=t,this.aH=n,this.uH=i,this.nV=r,this.oH=e,this.XV=this.cH(n)}var n=t.prototype;return n.HV=function(){return this.WV},n.qV=function(t){this.WV=t},n.jV=function(){return this.XV.licenseAcquisitionURL||this.HV()},n.KV=function(t){return ut.resolve()},n.YV=function(t,n){return ut.resolve(void 0)},n.JV=function(t,n,i,r){return Vt(function(){var e,s;return zt(this,function(u){switch(u.label){case 0:if(""===(e=this.ZV(t,n,i,r)).Yu)throw new eg(cd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");u.label=1;case 1:return u.trys.push([1,4,,6]),[4,this.SP.lk(e)];case 2:return[4,u.sent().VT(n)];case 3:return[2,u.sent()];case 4:return lr(s=u.sent()),[4,this.$V(s,e.Yu,r)];case 5:return u.sent(),[2];case 6:return[2]}})}).call(this)},n.ZV=function(t,n,i,r){var e=this.tH().MT(),s=this.zk,u={Yu:this.iH(),dk:n,fk:e,zT:t,zk:s,Uk:wl.POST,Vk:0,Yg:r,Km:gl.bk,Wk:i};return new pl(u)},n.eH=function(t,n){return ut.resolve(t)},n.sH=function(t,n,i,r){return ut.resolve(t)},n.tH=function(){return new Ld(this.XV.headers||{})},n.$V=function(t,n,i){return Vt(function(){return zt(this,function(n){throw new eg(cd.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",t)})})()},n.iH=function(t,n){var i=n,r=this.XV.queryParameters;if(!i){var e=this.jV();if(!e)return"";i=e}if(r||t){var s=Vn.Dh(i);t&&Tl(s,t),r&&Tl(s,r),i=s.href}return i},n.nH=function(t,n){return ip(t)},n.rH=function(t){return new E(t)},n.hH=function(t,n,i){return Vt(function(){var r,e;return zt(this,function(s){switch(s.label){case 0:return[4,this.nH(t,i)];case 1:return r=s.sent(),[4,this.JV(r,this.oH,n,i)];case 2:return e=s.sent(),[2,this.rH(e)]}})}).call(this)},n.kn=function(){},Nt(t,[{key:"SP",get:function(){return this.nV}},{key:"zV",get:function(){return!1}},{key:"GV",get:function(){var t=this.XV.certificate;if(t)return qn(t)?mh(t):pc(t)}},{key:"QV",get:function(){return!1}},{key:"zk",get:function(){return Boolean(this.XV.useCredentials)}}]),t}();function ip(t){return ut.resolve(bc(t).buffer)}var rp,ep=function(t){function n(n,i,r,e){return t.call(this,Ro,n,i,r,e)||this}Ct(n,t);var i=n.prototype;return i.cH=function(t){return t.widevine||{}},i.dH=function(t,n){return Vt(function(){return zt(this,function(i){return this.GV?[2,this.GV]:[2,this.lH(new E(t),n)]})}).call(this)},i.lH=function(n,i){return t.prototype.hH.call(this,n,_l.Pk,i)},n}(np);function sp(t,n){if(null==t)return{};var i,r,e={},s=k.keys(t);for(r=0;r<s.length;r++)i=s[r],n.indexOf(i)>=0||(e[i]=t[i]);return e}function up(t){return Un(t.token&&t.deviceId)}function op(t){var n,i=null==(n=t.fairplay)?void 0:n.headers;return void 0!==i&&Un(i.PreAuthorization)}function hp(t){var n=t;return up(n)&&""!==n.token&&""!==n.deviceId&&!op(n)}F(),Et(),F(),Et(),Wt(),F(),Et(),Ut(),Qt(),F(),Et(),F(),Et(),Ut(),F(),Et(),function(t){t.mR=!1,t.wR=!1,t.yR=!1,t.AR=!1,t.LOG_ADS_DETAILS=!1,t.LOG_CHROMECAST_DETAILS=!1,t.LOG_CUSTOM_DRM=!1,t.LOG_BUFFERING_VIDEO_MAIN=!1,t.LOG_BUFFERING_VIDEO_SELECTION=!1,t.LOG_BUFFERING_AUDIO_MAIN=!1,t.LOG_BUFFERING_AUDIO_SELECTION=!1,t.bR=!1,t.SR=!1,t.LOG_LCEVC_DETAILS=!1}(rp||(rp={})),F(),Et(),Bt();var cp=function(){function t(t,n,i){this.ER=void 0,this.mS=void 0,this.xR=void 0,this.ER=t,this.mS=n,this.xR=i}return t.prototype.PR=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new p("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new p("ContentProtectionIntegration.onCertificateResponse is not a function.");var r=t.onLicenseRequest;if(void 0!==r&&"function"!=typeof r)throw new p("ContentProtectionIntegration.onLicenseRequest is not a function.");var e=t.onLicenseResponse;if(void 0!==e&&"function"!=typeof e)throw new p("ContentProtectionIntegration.onLicenseResponse is not a function.");var s=t.extractFairplayContentId;if(void 0!==s&&"function"!=typeof s)throw new p("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.xR.build(t))},Nt(t,[{key:"kR",get:function(){return this.ER}},{key:"kS",get:function(){return this.mS}}]),t}();F(),Et();var ap=function(t){return t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED",t}({}),fp=function(){function t(){this.RR=[]}var n=t.prototype;return n.registerContentProtectionIntegration=function(t,n,i){switch(this.IR(t,n,i)){case ap.FAILED:throw new eg(cd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+n+".");case ap.OVERRIDDEN:var r=Rp(n);Vn.um("Warning: Overwriting an earlier registered integration for "+t+" and "+r+".");break;case ap.SUCCEEDED:Rp(n);0}},n.IR=function(t,n,i){var r=Rp(n);if(!r)return ap.FAILED;for(var e,s=ap.SUCCEEDED,u=Lt(this.RR.slice());!(e=u()).done;){var o=e.value;o.kR===t&&o.kS===r&&(s=ap.OVERRIDDEN,Xi(this.RR,o))}return this.RR.push(new cp(t,r,i)),s},n.DR=function(t,n){return void 0!==this.NR(t,n)},n.MR=function(t,n,i){var r=this.NR(t,n);if(!r)throw y("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return r.PR(i)},n.NR=function(t,n){for(var i,r=Lt(this.RR);!(i=r()).done;){var e=i.value;if(e.kR===t&&(!n||e.kS===n))return e}},t}();fp.LR=new fp;var vp={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function dp(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,r=t.keys,e=t.headers,s=t.useCredentials,u=t.queryParameters;return!(n||i||r||e||s||u)}function lp(t){return t&&void 0!==t.licenseAcquisitionURL}var wp=lp,gp=lp;function _p(t){if(!t)return!0;if(kp(t))return!1;var n=t.fairplay,i=t.playready,r=t.widevine,e=t.clearkey,s=t.aes128;return dp(n)&&dp(i)&&dp(r)&&void 0===e&&dp(s)}function mp(t){var n=hp(t),i=function(t){var n,i=t;return op(i)&&""!==(null==(n=i.fairplay)?void 0:n.headers.PreAuthorization)&&!up(i)}(t);return(!n||!i)&&(n||i)}function yp(t){return t.integration===Wy}function pp(t){var n=t;if(!n)return!1;if(_p(n))return!1;var i=n.fairplay,r=n.playready,e=n.widevine,s=n.clearkey;if(kp(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(r&&!wp(r))return!1;if(e&&!gp(e))return!1;if(s&&!function(t){return void 0!==t}(s))return!1;if(n.integration){if(fp.LR.DR(n.integration))return!0;switch(n.integration){case Fy:if(!function(t){var n=t,i=n.integration===Fy;return i&&(bp(t)||Ap(t))}(t))return!1;break;case zy:if(!Tp(t))return!1;break;case Xy:if(!function(t){var n=t;return n.integration===Xy}(t))return!1;break;case Wy:if(!yp(t))return!1;break;case Vy:if(!mp(t))return!1;break;case Hy:if(!function(t){var n=t;return n.integration===Hy}(t))return!1;break;case qy:if(!kp(t))return!1;break;case Gy:if(!function(t){var n=t;return n.integration===Gy&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case jy:if(!function(t){var n=t;return n.integration===jy}(t))return!1;break;case Yy:if(!Sp(t))return!1;break;case Ky:if(!function(t){return t.integration===Ky}(t))return!1;break;case Jy:if(!Ep(t))return!1;break;case Qy:if(!function(t){var n=t;return n.integration===Qy&&void 0!==n.token}(t))return!1;break;case Zy:if(!function(t){var n=t;return n.integration===Zy}(t))return!1;break;case $y:if(!function(t){var n=t;return n&&Un(n.releasePid)&&Un(n.accountId)&&Un(n.token)}(t))return!1;break;case tp:return!0;default:return!1}}return!0}function kp(t){return t.integration===qy}function bp(t){return void 0!==t.authToken}function Ap(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function Tp(t){var n=t;return n.integration===zy&&void 0!==n.token}function Sp(t){var n=t;return n&&n.integration===Yy&&qn(n.ticketAcquisitionURL)&&qn(n.streamId)}function Ep(t){var n=t;return n.integration===Jy&&void 0!==n.token}function Ip(t,n){var i,r,e,s=n[t],u=null!=(i=null==s?void 0:s.licenseAcquisitionURL)?i:vp[t],o=null!=(r=null==s?void 0:s.customdata)?r:n.customdata,h=o?{customData:o}:{},c=Yu({},null!=(e=null==s?void 0:s.headers)?e:{},h),a=null!=s?s:{};a.customdata;return Yu({},sp(a,["customdata"]),{licenseAcquisitionURL:u,headers:c})}function Rp(t){switch(t.toLowerCase()){case"widevine":case wo:return wo;case"playready":case fo:return fo;case"fairplay":case Ao:return Ao}}function Cp(t,n){switch(t){case uo:return function(t){for(var n,i={},r=Lt(ym.xD(new DataView(t)));!(n=r()).done;){var e=n.value;i[e.rM]=e.aM}return i}(n);case oo:case ho:return function(t){var n;return n={},n[bo]=t,n}(n);case co:return function(t){var n;return n={},n[po]=t,n}(n);default:throw new fd(cd.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}function Dp(t,n){return void 0===n&&(n=!1),Vt(function(){var i,r,e,s;return zt(this,function(u){switch(u.label){case 0:return(i=t.widevine)?[4,Vn.Am()]:[3,2];case 1:i=u.sent(),u.label=2;case 2:return i?[2,!0]:(r=t.playready)?[4,Vn.ym()]:[3,4];case 3:r=u.sent(),u.label=4;case 4:return r?[2,!0]:(e=t.clearkey)?[4,Vn.pm()]:[3,6];case 5:e=u.sent(),u.label=6;case 6:return e?[2,!0]:(s=!n&&t.fairplay)?[4,Vn.wm()]:[3,8];case 7:s=u.sent(),u.label=8;case 8:return s?[2,!0]:[2,!1]}})})()}var Pp=function(t){return t.zm="Widevine",t.fH="PlayreadyV2",t.vH="PlayreadyV3",t.qm="PlayreadyV2",t.jm="Fairplay",t}({}),Np={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function Bp(t,n){var i,r,e,s,u=Np[n],o=t.accountName;return{CustomerName:t.customerName,AccountName:o,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(i=Vn.Em)?void 0:i.Zs,OSVersion:null==(r=Vn.Em)?void 0:r.Lm,DRMProvider:u.DRMProvider,DRMVersion:u.DRMVersion,DRMType:u.DRMType,DeviceVendor:null==(e=Vn.Em)?void 0:e.Om,DeviceModel:null==(s=Vn.Em)?void 0:s.Fm}}}function xp(t,n){if(!t.accountName)throw new eg(cd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration, accountName is not set.");if(!t.customerName)throw new eg(cd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration, customerName is not set.");if(!t.portalId)throw new eg(cd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration, portalId is not set.");throw new eg(cd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration.")}function Op(t,n,i){var r;if(bp(t))r={AuthToken:t.authToken,Payload:n};else{if(!Ap(t))throw xp(t,i);r={LatensRegistration:Bp(t,i),Payload:n}}return Lc(JSON.stringify(r))}function Mp(t,n,i){return Vt(function(){var r,e,s,u;return zt(this,function(o){switch(o.label){case 0:if(!(r=t.oE))throw new eg(cd.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,n);e=r,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,e.FT(i)];case 2:return s=o.sent(),u=function(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}return}(s),[3,4];case 3:return o.sent(),u="",[3,4];case 4:throw new eg(cd.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,e.lk.Yu,e.hk,e.vk,u)}})})()}F(),Et(),Wt(),Qt();var Lp=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Md.DT)||this).gH=void 0,e}Ct(n,t);var i=n.prototype;return i.$V=function(t,n,i){return Mp(t,n,i)},i.KV=function(t){return this.gH?gr(this.gH.Qy,t):(this.gH=new Vc,ut.resolve())},i.nH=function(t,n){return Vt(function(){var n,i;return zt(this,function(r){if(!(n=this.aH))throw new eg(cd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");return i=kh(t),[2,Op(n,i,Pp.zm)]})}).call(this)},i.rH=function(t){if(!t.license)throw new eg(cd.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return mh(t.license)},i.pH=function(t){return ut.resolve(new E(t))},i.dH=function(t,n){return Vt(function(){var i,r;return zt(this,function(e){switch(e.label){case 0:return this.mH(),[4,this.nH(t,n)];case 1:return i=e.sent(),[4,this.JV(i,Md.CT,_l.xk,n)];case 2:return r=e.sent(),[4,this.pH(r)];case 3:return[2,e.sent()]}})}).call(this)},i.lH=function(n,i){var r=this;return Vt(function(){var e;return zt(this,function(s){switch(s.label){case 0:return[4,t.prototype.lH.call(r,n,i)];case 1:return e=s.sent(),this.mH(),[2,e]}})}).call(this)},i.mH=function(){this.gH||(this.gH=new Vc),this.gH.Xy()},i.kn=function(){this.gH&&this.gH.Zg(),t.prototype.kn.call(this)},n._H=function(){return Vn.Zs.yp?"required":"optional"},n}(ep);F(),Et(),Wt(),Bt(),Dt(),Qt();var Up=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Md.CT)||this).qV("https://widevine-proxy.drm.technology/proxy"),e}return Ct(n,t),n.prototype.nH=function(t,n){return Vt(function(){var n,i,r,e;return zt(this,function(s){switch(s.label){case 0:return[4,ip(t)];case 1:if(n=s.sent(),i=this.uH,r=Ac(new E(n)),void 0===(e=this.wH))throw new eg(cd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");return[2,JSON.stringify({token:e,drm_info:r,kid:i})]}})}).call(this)},Nt(n,[{key:"wH",get:function(){if(Tp(this.aH))return this.aH.token}}]),n}(ep);function Fp(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=Yu({},i,{SessionId:t.sessionId,Ticket:t.ticket})),Yu({},i,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}F(),Et(),Dt(),F(),Et();var Vp=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Md.CT)||this).qV("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),e}return Ct(n,t),n.prototype.iH=function(n,i){var r=n;return yp(this.aH)&&(r=Fp(this.aH,r)),t.prototype.iH.call(this,r,i)},n}(ep);F(),Et(),Dt(),F(),Et();var Hp="Conax-Custom-Data";function Wp(t,n,i){var r=t&&mp(t)&&t;if(r&&!i.has(Hp)){var e=hp(r)?r.token:void 0,s=hp(r)?r.deviceId:void 0,u=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:e,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:s}});i.set(Hp,u)}return i}var zp=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Md.CT)||this).qV("https://connect.conax.com:8094/license"),e}return Ct(n,t),n.prototype.tH=function(){var n=t.prototype.tH.call(this);return Wp(this.aH,"Widevine",n)},n}(ep);function Xp(t){var n=uc(new E(t));return mh(JSON.parse(n).license)}function qp(t){return"string"==typeof t.token?t.token:Lc(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function Gp(t,n,i){var r;return r=i.token?"x-dt-auth-token":"dt-custom-data",t.set(r,n),t}F(),Et(),Bt(),Dt(),F(),Et();var jp=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Md.CT)||this).qV("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),e}Ct(n,t);var i=n.prototype;return i.rH=function(t){return Xp(t)},i.tH=function(){return Gp(t.prototype.tH.call(this),this.wH,this.aH)},Nt(n,[{key:"wH",get:function(){return qp(this.aH)}}]),n}(ep);F(),Et(),Dt();var Qp=function(t){function n(n,i,r){return t.call(this,n,i,r,Md.CT)||this}return Ct(n,t),n.prototype.tH=function(){var n=t.prototype.tH.call(this),i=this.aH.token;return n.set("Authorization","Bearer "+i),n},n}(ep);function Yp(t,n,i,r){return Vt(function(){var e,s,u,o,h,c;return zt(this,function(a){switch(a.label){case 0:if(!Sp(t))throw new eg(cd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");return(e=new Ld).append("Cache-Control","no-cache"),e.append("Content-Type","application/json"),(s=t.sessionId)&&e.append("XSSESSION",s),u=t.streamId,o=t.fairplay?"persistent"===t.fairplay.licenseType?"persistent":"non-persistent":t.widevine&&"persistent"===t.widevine.licenseType?"persistent":"non-persistent",h={drmType:n,licenseType:o,streamId:u},c={Yu:t.ticketAcquisitionURL,dk:Md.DT,fk:e,Uk:wl.POST,zT:JSON.stringify(h),Yg:r},[4,i.lk(c)];case 1:return[4,a.sent().FT()];case 2:return[2,a.sent()]}})})()}F(),Et(),Wt(),Dt(),Qt(),F(),Et(),Wt(),Qt();var Kp=function(t){function n(n,i,r){return t.call(this,n,i,r,Md.DT)||this}Ct(n,t);var i=n.prototype;return i.tH=function(){var n=t.prototype.tH.call(this);return n.set("Content-Type","application/json"),n},i.nH=function(n,i){var r=this;return Vt(function(){var e,s,u;return zt(this,function(o){switch(o.label){case 0:return e=Mc(n.buffer),[4,Yp(this.aH,"widevine_modular",this.SP,i)];case 1:return s=o.sent(),this.qV(s.licenseServerUrl),u=oc(JSON.stringify({payload:e,ticket:s.ticket})),[2,t.prototype.nH.call(r,u,i)]}})}).call(this)},i.rH=function(t){return mh(t.license)},n}(ep);F(),Et(),Dt();var Jp=function(t){function n(n,i,r){return t.call(this,n,i,r,Md.CT)||this}return Ct(n,t),n.prototype.tH=function(){if(!Ep(this.aH))throw new eg(cd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var n=t.prototype.tH.call(this);return n.set("X-AxDRM-Message",this.aH.token),n},n}(ep);function Zp(t){for(var n=new E(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}F(),Et(),Wt(),Dt(),Ut(),Qt();var $p=function(t){function n(n,i,r){var e;return(e=t.call(this,Io,n,i,r,Md.CT)||this).yH=void 0,e}Ct(n,t);var i=n.prototype;return i.cH=function(t){return t.playready||{}},i.tH=function(){var n=new Ld(this.yH);return n.OT(t.prototype.tH.call(this)),n},i.AH=function(t){return t.length>=1&&t[0].jE.length>0},i.YV=function(n){var i=this.aH.playready.customData;if(i){var r=Zp(i),e=Zp('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+kh(r)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return ut.resolve({playready:{qS:e}})}return t.prototype.YV.call(this,n)},i.nH=function(t,n){return Vt(function(){var n;return zt(this,function(i){switch(i.label){case 0:return[4,ip(t)];case 1:return n=i.sent(),[2,this.bH(n)]}})}).call(this)},i.bH=function(t){return Vt(function(){var n,i,r,e,s,u,o,h,c,a,f,v,d,l,w,g,_;return zt(this,function(m){r=null,e=new DataView(t),s=rc(e,new Tc,!0);try{u=Vn.UE(s)}catch(t){return[2,r]}for(o=null==(n=u.YE("PlayReadyKeyMessage")[0])?void 0:n.YE("LicenseAcquisition")[0],c=null!=(h=null==o?void 0:o.YE("Challenge"))?h:[],this.AH(c)&&(r=Oc(c[0].eP)),a=new Ld,v=null!=(f=null==o||null==(i=o.YE("HttpHeaders")[0])?void 0:i.YE("HttpHeader"))?f:[],d=Lt(v);!(l=d()).done;)w=l.value,g=w.YE("name")[0].eP,_=w.YE("value")[0].eP,a.append(g,_);return this.yH=a,[2,r]})}).call(this)},i.dH=function(t,n){return ut.resolve(t)},i.lH=function(n,i){return t.prototype.hH.call(this,n,_l.Ik,i)},n}(np);F(),Et(),Wt(),Dt(),Qt(),F(),Et(),Bt();var tk=function(){function t(n){this.kH=void 0,this.zb=void 0,this.kH=n,this.zb=t.SH(n)}return t.prototype.TH=function(){var t={};if(this.zb===Pp.vH){var n={LatensRegistration:Bp(this.kH,Pp.vH)};t["X-TITANIUM-DRM-CDATA"]=Lc(JSON.stringify(n))}return t},t.SH=function(t){return"3"===t.version?Pp.vH:Pp.fH},Nt(t,[{key:"EH",get:function(){return this.zb}},{key:"MS",get:function(){return this.zb===Pp.fH}}]),t}();var nk=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).PH=void 0,e.PH=new tk(e.aH),e}Ct(n,t);var i=n.prototype;return i.YV=function(t){var n=this.aH;if(!this.aH)throw new eg(cd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(Ap(n)){var i={};return i.playready={qS:ik(n,this.PH.EH)},ut.resolve(i)}return ut.reject(xp(n,Pp.qm))},i.tH=function(){var n=new Ld(this.PH.TH());return n.OT(t.prototype.tH.call(this)),n},i.$V=function(t,n,i){return Vt(function(){var r,e,s,u,o,h,c,a;return zt(this,function(f){switch(f.label){case 0:if(!(r=t.oE))throw new eg(cd.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,n);f.label=1;case 1:return f.trys.push([1,3,,4]),[4,r.HT(i)];case 2:return u=f.sent(),o=uc(new E(u)),(h=Vn.UE(o))&&(c=function(t,n){return function(t,n){for(var i=t.m.slice(),r=[];i.length>0;){var e,s=i.shift();n(s)?r.push(s):(e=i).push.apply(e,[].concat(s.m))}return r}(t,function(t){return t.JE===n})}(h,"CustomData"),c.length>0&&(e=JSON.parse(c[0].eP),s=null==(a=e.DrmErr)?void 0:a.desc)),[3,4];case 3:return f.sent(),[3,4];case 4:throw new eg(cd.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,n,r.hk,r.vk,s)}})})()},i.AH=function(t){if(1!==t.length)throw new eg(cd.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},n}($p);function ik(t,n){var i=Bp(t,n),r=i.DeviceInfo.FormatVersion,e=function(t){return t.replace(/&lt;/g,"<").replace(/&gt;/g,">")}(function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}("<TitaniumCustomData>"+Lc('<LatensRegistration formatversion="'+r+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+r+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>")+"</TitaniumCustomData>")),s=cc(e,!0);return cc('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+kh(s)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}F(),Et(),Bt(),Dt();var rk=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).qV("https://playready-license.drm.technology/rightsmanager.asmx"),e}Ct(n,t);var i=n.prototype;return i.AH=function(t){if(1!==t.length)throw new eg(cd.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},i.iH=function(n,i){var r=Yu({},n||{},{token:this.wH});return t.prototype.iH.call(this,r,i)},Nt(n,[{key:"wH",get:function(){if(Tp(this.aH))return this.aH.token}}]),n}($p);F(),Et(),Dt();var ek=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).qV("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),e}return Ct(n,t),n.prototype.iH=function(n,i){var r=n;return yp(this.aH)&&(r=Fp(this.aH,r)),t.prototype.iH.call(this,r,i)},n}($p);F(),Et(),Dt();var sk=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).qV("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),e}return Ct(n,t),n.prototype.tH=function(){var n=t.prototype.tH.call(this);return Wp(this.aH,"PlayReady",n)},n}($p);F(),Et(),Bt(),Dt();var uk=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).qV("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),e}Ct(n,t);var i=n.prototype;return i.rH=function(n){var i=function(t){var n=uc(new E(t));return Uo(n,"<?xml")?0:1}(n);return 1===i?Xp(n):t.prototype.rH.call(this,new E(n))},i.tH=function(){return Gp(t.prototype.tH.call(this),this.wH,this.aH)},Nt(n,[{key:"wH",get:function(){return qp(this.aH)}}]),n}($p);F(),Et(),Wt(),Dt(),Qt();var ok=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).xH=void 0,e}Ct(n,t);var i=n.prototype;return i.tH=function(){var n=t.prototype.tH.call(this);return this.xH&&n.set("Ticket",this.xH),n.set("Content-Type","text/xml"),n},i.nH=function(n,i){var r=this;return Vt(function(){var e;return zt(this,function(s){switch(s.label){case 0:return[4,Yp(this.aH,"playready",this.SP,i)];case 1:return e=s.sent(),this.qV(e.licenseServerUrl),this.xH=e.ticket,[2,t.prototype.nH.call(r,n,i)]}})}).call(this)},n}($p);F(),Et(),Dt();var hk=function(t){function n(){return t.apply(this,arguments)||this}return Ct(n,t),n.prototype.tH=function(){if(!Ep(this.aH))throw new eg(cd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var n=t.prototype.tH.call(this);return n.set("X-AxDRM-Message",this.aH.token),n},n}($p);F(),Et(),Wt(),Bt(),Dt(),Qt(),F(),Et();var ck=function(t){return t.DT="application/json",t.IH="application/x-www-form-urlencoded",t.RH="application/octet-stream",t.NT="text/plain;charset=UTF-8",t}({}),ak=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this,n.kS,i,r,e,s)||this).MH="",u.DH=void 0,u.FH=void 0,u.FH=n.HH,u}Ct(n,t);var i=n.prototype;return i.CH=function(){return this.XV.certificateURL||this.DH},i.BH=function(t){this.DH=t},i.nH=function(t){return ut.resolve(this.NH(t,this.MH))},i.NH=function(t,n){return"spc="+encodeURIComponent(kh(t))+"&assetId="+encodeURIComponent(n)},i.cH=function(t){return t.fairplay||{}},i.OH=function(t){var n=t.indexOf("?");if(n>=0)return ut.resolve(t.substr(n+1));var i=t.split("skd://").pop();if(i){if(/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/.test(i))return ut.resolve(i)}var r=t.split("/");return ut.resolve(r[r.length-1])},i.YV=function(t){return Vt(function(){var n,i,r,e;return zt(this,function(s){switch(s.label){case 0:return i=null!=(n=this.FH)?n:vc(new E(t)),[4,this.OH(i)];case 1:return r=s.sent(),this.MH=r,(e={}).fairplay={ZS:r},[2,e]}})}).call(this)},i.tH=function(){var n=t.prototype.tH.call(this);return n.set("Content-Type",this.LH),n},i.dH=function(t,n){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.GV?[2,this.GV]:[4,this.UH(n)];case 1:return[2,t.sent()]}})}).call(this)},i.lH=function(n,i){return t.prototype.hH.call(this,n,_l.Tk,i)},i.VH=function(t){var n=this.CH(),i=this.tH(),r={Yu:n,dk:Md.CT,fk:i,Uk:wl.GET,zk:!1,zT:null,Vk:0,Yg:t,Km:gl.bk,Wk:_l.Ek};return new pl(r)},i.UH=function(t){return Vt(function(){var n,i;return zt(this,function(r){switch(r.label){case 0:return n=this.VH(t),[4,this.SP.lk(n)];case 1:return[4,r.sent().HT()];case 2:return i=r.sent(),[2,new E(i)]}})}).call(this)},i.rH=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=mh(i)}else n=new E(t);return n},i.iH=function(n,i){var r=t.prototype.iH.call(this,n,i);return Uo(r,"skd:")&&(r=r.substr(4)),r},Nt(n,[{key:"QV",get:function(){return!0}},{key:"LH",get:function(){return ck.IH}}]),n}(np);F(),Et(),Wt(),Bt(),Dt(),Qt();var fk=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Md.CT)||this}Ct(n,t);var i=n.prototype;return i.OH=function(n){var i=n.split("://",1);return"skd"!==i[0].slice(-3).toLowerCase()?ut.resolve(""):(i=n.split(";",2)).length>1?ut.resolve(i[1]):ut.resolve(t.prototype.OH.call(this,n))},i.nH=function(t){return Vt(function(){return zt(this,function(n){return[2,t]})})()},i.rH=function(t){return new E(t)},i.iH=function(n,i){var r=n||{};return r.p1=ce(),t.prototype.iH.call(this,r,i)},Nt(n,[{key:"LH",get:function(){return ck.RH}}]),n}(ak);F(),Et(),Bt(),Dt();var vk=function(t){function n(n,i,r,e){var s;return(s=t.call(this,n,i,r,e,Md.CT)||this).qV("https://fairplay-license.drm.technology/license"),s.BH("https://fairplay-license.drm.technology/certificate"),s}Ct(n,t);var i=n.prototype;return i.NH=function(t,n){var i={token:this.wH,contentId:n,payload:kh(t)};return JSON.stringify(i)},i.rH=function(t){return new E(t)},i.tH=function(){var n=t.prototype.tH.call(this);return n.set("x-vudrm-token",this.wH),n},Nt(n,[{key:"LH",get:function(){return ck.DT}},{key:"wH",get:function(){if(!Tp(this.aH))throw new eg(cd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.aH.token}}]),n}(ak);F(),Et(),Dt();var dk="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",lk="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",wk=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Md.CT)||this}return Ct(n,t),n.prototype.rH=function(n){var i=function(t){var n;try{n=JSON.parse(t).ckc}catch(t){throw new eg(cd.CONTENT_PROTECTION_LICENSE_INVALID,dk)}if(!n)throw new eg(cd.CONTENT_PROTECTION_LICENSE_ERROR,lk);return n}(uc(new DataView(n)));return t.prototype.rH.call(this,i)},n}(ak);F(),Et(),Wt(),Bt(),Dt(),Qt();var gk=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Md.DT)||this}Ct(n,t);var i=n.prototype;return i.nH=function(t){return Vt(function(){var n,i;return zt(this,function(r){if(!(n=this.aH))throw new eg(cd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");return i=kh(t),[2,Op(n,i,Pp.jm)]})}).call(this)},i.rH=function(t){try{var n;if(qn(t)){var i=t.trim();n=JSON.parse(i)}else n=t;if(n.license){var r=Oc(n.license);return new E(r)}throw new eg(cd.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server")}catch(t){throw new eg(cd.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server")}},i.$V=function(t,n,i){return Mp(t,n,i)},Nt(n,[{key:"LH",get:function(){return ck.DT}}]),n}(ak);F(),Et(),Wt(),Bt(),Dt(),Qt();var _k=function(t){function n(n,i,r,e){var s;return(s=t.call(this,n,i,r,e,Md.CT)||this).qV("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),s.BH("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),s}Ct(n,t);var i=n.prototype;return i.CH=function(){var n=t.prototype.CH.call(this);if(!n)return n;var i=Vn.Dh(n),r=this.aH;return yp(r)&&Tl(i,{accountId:r.accountId,applicationId:r.applicationId||""}),i.href},i.OH=function(n){return yp(this.aH)?ut.resolve(this.aH.contentId):t.prototype.OH.call(this,n)},i.nH=function(t){return Vt(function(){return zt(this,function(n){return[2,t]})})()},i.rH=function(t){return new E(t)},i.iH=function(n,i){var r=n;return yp(this.aH)&&(r=function(t,n){return Yu({},Fp(t,n),{KeyId:t.keyId})}(this.aH,r)),t.prototype.iH.call(this,r,i)},Nt(n,[{key:"LH",get:function(){return ck.RH}}]),n}(ak);F(),Et(),Wt(),Dt(),Qt();var mk=function(t){function n(n,i,r,e){var s;if(s=t.call(this,n,i,r,e,Md.NT)||this,!mp(i))throw new eg(cd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return s.qV("https://connect.conax.com:8097/license"),s}Ct(n,t);var i=n.prototype;return i.tH=function(){var n=t.prototype.tH.call(this);return Wp(this.aH,"FairPlay",n)},i.UH=function(t){return Vt(function(){var n,i,r;return zt(this,function(e){switch(e.label){case 0:return n=this.CH(),i={Yu:n,dk:Md.CT,fk:{},Uk:wl.GET,zk:!1,zT:null,Vk:0,Yg:t,Km:gl.bk,Wk:_l.Ek},[4,this.SP.lk(i)];case 1:return[4,e.sent().HT()];case 2:return r=e.sent(),[2,new E(r)]}})}).call(this)},i.nH=function(t){return Vt(function(){return zt(this,function(n){return[2,t]})})()},i.OH=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring(6,i):t.substring(6),ut.resolve(function(t){return uc(mh(t))}(n))):ut.resolve("unknown")},i.rH=function(t){try{var n=JSON.parse(t);return new E(Oc(n.CkcMessage))}catch(t){throw new y("CFLRW-66")}},n}(ak);F(),Et(),Dt();var yk=function(t){function n(n,i,r,e){var s;return(s=t.call(this,n,i,r,e,Md.NT)||this).qV(vp[Eo.jm]),s}Ct(n,t);var i=n.prototype;return i.OH=function(t){return Uo(t,"skd://")?ut.resolve(t.substring(6,40)):ut.reject(new eg(cd.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},i.NH=function(t,n){return"spc="+kh(t)+"&assetId="+n},n}(ak);F(),Et(),Bt(),Dt();var pk=function(t){function n(n,i,r,e){var s;return(s=t.call(this,n,i,r,e,Md.NT)||this).qV("https://lic.drmtoday.com/license-server-fairplay/"),s}Ct(n,t);var i=n.prototype;return i.NH=function(t,n){var i="spc="+encodeURIComponent(kh(t))+"&"+encodeURI(n);return"persistent"===this.XV.licenseType?i+"&offline=true":i},i.tH=function(){return Gp(t.prototype.tH.call(this),this.wH,this.aH)},Nt(n,[{key:"wH",get:function(){return qp(this.aH)}}]),n}(ak);F(),Et(),Wt(),Bt(),Dt(),Qt();var kk=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Md.CT)||this}Ct(n,t);var i=n.prototype;return i.OH=function(t){var n=t;return Uo(n,"skd:")&&(n="http:"+n.substring(4)),Uo(n,"http:")||Uo(n,"https:")?ut.resolve(Vn.Dh(n).hostname):ut.reject(new y("Could not parse ExpressPlay FairPlay content ID."))},i.nH=function(t){return Vt(function(){return zt(this,function(n){return[2,t]})})()},i.rH=function(t){return new E(t)},Nt(n,[{key:"LH",get:function(){return ck.RH}}]),n}(ak);F(),Et(),Dt();var bk=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Md.NT)||this}return Ct(n,t),n.prototype.tH=function(){var n=t.prototype.tH.call(this),i=this.aH.token;return n.set("Authorization","Bearer "+i),n},n}(ak);F(),Et(),Wt(),Bt(),Dt(),Qt();var Ak=function(t){function n(n,i,r,e){var s;if(s=t.call(this,n,i,r,e,Md.DT)||this,!Sp(i))throw new y("Invalid Xstream DRM configuration");return s}Ct(n,t);var i=n.prototype;return i.UH=function(t){return Vt(function(){var n,i,r,e;return zt(this,function(s){switch(s.label){case 0:return n=this.CH(),i=this.tH(),r={Yu:n,dk:Md.DT,fk:i,Uk:wl.POST,Yg:t,Km:gl.bk,Wk:_l.Ek},[4,this.SP.lk(r)];case 1:return[4,s.sent().FT()];case 2:return e=s.sent(),[2,new E(mh(e.certificate))]}})}).call(this)},i.lH=function(){return Vt(function(t,n,i){var r,e,s,u;return zt(this,function(o){switch(o.label){case 0:return void 0===i&&(i=Md.NT),r=kh(t),[4,Yp(this.aH,"fairplay",this.SP,n)];case 1:return e=o.sent(),s=oc(JSON.stringify({spc:r,ticket:e.ticket})),u={Yu:this.jV(),dk:Md.DT,fk:this.tH(),Uk:wl.POST,zT:s,Vk:0,Yg:n,Km:gl.bk,Wk:_l.Tk},[4,this.SP.lk(u)];case 2:return[4,o.sent().FT()];case 3:return[2,mh(o.sent().licence)]}})}).apply(this,arguments)},Nt(n,[{key:"LH",get:function(){return ck.DT}}]),n}(ak);F(),Et(),Dt();var Tk=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Md.NT)||this}Ct(n,t);var i=n.prototype;return i.NH=function(t,n){return kh(t)},i.rH=function(n){if(0===n.length)throw new eg(cd.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.rH.call(this,n)},i.tH=function(){var n=t.prototype.tH.call(this);return n.set("Content-Type","text/plain"),n},n}(ak);F(),Et(),Bt(),Dt();var Sk=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Md.CT)||this}Ct(n,t);var i=n.prototype;return i.NH=function(t,n){return t},i.rH=function(t){return new E(t)},i.tH=function(){if(!Ep(this.aH))throw new eg(cd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var n=t.prototype.tH.call(this);return n.set("X-AxDRM-Message",this.aH.token),n},Nt(n,[{key:"LH",get:function(){return ck.DT}}]),n}(ak);F(),Et(),Bt(),Dt();var Ek=function(t){function n(n,i,r,e){var s;return(s=t.call(this,n,i,r,e,Md.DT)||this).WH=void 0,s}Ct(n,t);var i=n.prototype;return i.NH=function(t,n){var i={spc:kh(t)};return JSON.stringify(i)},i.OH=function(t){var n=Vn.Dh(t);return this.WH=t,n.searchParams.has("b")?ut.resolve(n.searchParams.get("b")):ut.reject(new eg(cd.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},i.iH=function(n,i){var r=this.jV();return!r&&this.WH&&(r=this.WH),r&&(r=r.replace("skd://","https://")),t.prototype.iH.call(this,n,i||r)},i.rH=function(t){try{var n;if((n=qn(t)?JSON.parse(t.trim()):t).ckc)return mh(n.ckc)}catch(t){throw new eg(cd.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server")}throw new eg(cd.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server")},Nt(n,[{key:"LH",get:function(){return ck.NT}}]),n}(ak);F(),Et(),Wt(),Dt(),Qt(),F(),Et(),Wt(),Qt(),F(),Et(),Ut();var Ik=function(){function t(t,n){this.zH=void 0,this.XH=void 0,this.zH=t,this.XH=n}var n=t.prototype;return n.qH=function(t){return this.zH(t)},n.GH=function(t,n){throw new p(n+" must be "+this.XH+". (Received: "+t+")")},t}(),Rk=(new Ik(function(t){return!0},"any"),new Ik(Yn,"a number")),Ck=new Ik(qn,"a string"),Dk=new Ik(Gn,"a boolean"),Pk=(new Ik(Qn,"a date"),new Ik(Fn,"undefined")),Nk=new Ik(zn,"an object"),Bk=new Ik(function(t){return null===t},"null");new Ik(function(t){return null==t},"null or undefined");function xk(t,n){throw new p(n+" has an incorrect type")}var Ok=function(){function t(t){this.Qp=void 0,this.Qp=t}var n=t.prototype;return n.qH=function(t){if(!zn(t))return!1;for(var n,i=Lt(k.keys(this.Qp));!(n=i()).done;){var r=n.value;if(!this.Qp[r].qH(t[r]))return!1}return!0},n.GH=function(t,n){if(!zn(t))throw new p(n+" must be an object.");for(var i,r=Lt(k.keys(this.Qp));!(i=r()).done;){var e=i.value,s=this.Qp[e];if(!s.qH(t[e]))return s.GH(t[e],n+"."+String(e))}throw new p},t}();function Mk(t){return new Ok(t)}function Lk(t){return k.keys(t).map(function(n){return t[n]})}var Uk=function(){function t(t){this.jH=void 0,this.jH=t}var n=t.prototype;return n.qH=function(t){return ji(this.jH,t)},n.GH=function(t,n){return xk(0,n)},t}();function Fk(t){return new Uk(t)}var Vk=function(){function t(t){this.QH=void 0,this.QH=t}var n=t.prototype;return n.qH=function(t){return this.QH.some(function(n){return n.qH(t)})},n.GH=function(t,n){return xk(0,n)},t}();function Hk(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return new Vk(n)}var Wk=function(){function t(t){this.KH=void 0,this.KH=t}var n=t.prototype;return n.qH=function(t){var n=this;return Hn(t)&&t.every(function(t){return n.KH.qH(t)})},n.GH=function(t,n){if(!Hn(t))throw new p(n+" must be an array.");for(var i=0;i<t.length;i++){var r=t[i];this.KH.qH(r)||this.KH.GH(r,n+"["+i+"]")}return xk(0,n)},t}();function zk(t){return new Wk(t)}var Xk=function(){function t(t){this.KH=void 0,this.KH=t}var n=t.prototype;return n.qH=function(t){var n=this;return zn(t)&&k.keys(t).every(function(i){return n.KH.qH(t[i])})},n.GH=function(t,n){if(!zn(t))throw new p(n+" must be an object.");for(var i,r=Lt(k.keys(t));!(i=r()).done;){var e=i.value;if(!this.KH.qH(t[e]))return this.KH.GH(t[e],n+"."+e)}return xk(0,n)},t}();function qk(t){return new Xk(t)}var Gk=function(){function t(t){this.KH=void 0,this.KH=_i(t)}var n=t.prototype;return n.qH=function(t){return this.KH().qH(t)},n.GH=function(t,n){return this.KH().GH(t,n)},t}();var jk=Mk({responseCode:Rk,isException:Dk,description:Ck,title:Ck,correlationId:Ck});function Qk(t,n,i,r,e){return Vt(function(){var s;return zt(this,function(u){switch(u.label){case 0:return s=function(t,n,i,r){var e={token:n.token,account:n.accountId,form:"json"},s=decodeURIComponent(Al(i,e)),u=new Ld({});u.append("Content-Type","application/json");var o=kh(t),h={getFairplayLicense:{releasePid:n.releasePid,spcMessage:o}};return{Yu:s,dk:Md.NT,fk:u,Uk:wl.POST,zT:JSON.stringify(h),Yg:r,Km:gl.bk,Wk:_l.Tk}}(t,n,i,e),[4,Yk(s,r)];case 1:return[2,u.sent()]}})})()}function Yk(t,n){return Vt(function(){var i;return zt(this,function(r){switch(r.label){case 0:return[4,n.lk(t)];case 1:return[4,r.sent().FT()];case 2:if(i=r.sent(),jk.qH(i))throw new eg(cd.CONTENT_PROTECTION_LICENSE_ERROR,i.description,void 0,t.Yu,i.responseCode);return[2,mh(i.getFairplayLicenseResponse.ckcResponse)]}})})()}var Kk=function(t){function n(n,i,r,e){var s;return(s=t.call(this,n,i,r,e,Md.CT)||this).YH=void 0,s.YH=i,s}Ct(n,t);var i=n.prototype;return i.OH=function(n){var i=n.replace("FairPlay",this.YH.releasePid);return t.prototype.OH.call(this,i)},i.lH=function(t,n){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return[4,Qk(t,this.YH,this.jV(),this.SP,n)];case 1:return[2,i.sent()]}})}).call(this)},n}(ak);F(),Et(),Wt(),Dt(),Ut(),Qt();var Jk=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Md.CT)||this}Ct(n,t);var i=n.prototype;return i.cH=function(t){return t.clearkey||{}},i.JV=function(n,i,r,e){var s=this;return Vt(function(){var i,u;return zt(this,function(o){if(i=this.XV,this.jV())return[2,t.prototype.JV.call(s,n,this.oH,r,e)];if(i.keys&&i.keys.length)return u={keys:i.keys.map(function(t){return{kty:"oct",kid:t.id,k:t.value}})},[2,dc(JSON.stringify(u)).buffer];throw new eg(cd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.")})}).call(this)},i.dH=function(t,n){return ut.resolve(new E(0))},i.lH=function(n,i){var r=this;return Vt(function(){var e,s,u,o,h;return zt(this,function(c){switch(c.label){case 0:return[4,t.prototype.hH.call(r,n,_l.Rk,i)];case 1:if(e=c.sent(),(s=JSON.parse(vc(e))).keys)for(u=Lt(s.keys);!(o=u()).done;)(h=o.value).k&&(h.k=bh(h.k)),h.kid&&(h.kid=bh(h.kid));return[2,dc(JSON.stringify(s))]}})})()},n}(np),Zk=function(t){function n(n,i,r){return t.call(this,Po,n,i,r)||this}return Ct(n,t),n}(Jk),$k=function(t){function n(n,i,r){return t.call(this,No,n,i,r)||this}return Ct(n,t),n}(Jk);F(),Et(),Dt();var tb=function(t){function n(){return t.apply(this,arguments)||this}return Ct(n,t),n}(ep);F(),Et(),Wt(),Dt(),H(),Qt(),F(),Et(),Wt(),H(),Qt();var nb={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function ib(t,n,i){return Vt(function(){var r,e,s;return zt(this,function(u){switch(u.label){case 0:return r=fb(n),(e=t.onCertificateRequest)&&"function"==typeof e?[4,gr(ut.resolve(e.call(t,r)),i)]:[2,ut.resolve(n)];case 1:return yc(s=u.sent())?[2,pc(s)]:[2,ab(Yu({},nb,s))]}})})()}function rb(t,n,i,r,e){return Vt(function(){var s,u;return zt(this,function(o){switch(o.label){case 0:return s=t.onCertificateResponse,u=cb(n,i,r),s&&"function"==typeof s?[4,gr(ut.resolve(s.call(t,u)),e)]:[2,ut.resolve(n)];case 1:return[2,pc(o.sent())]}})})()}function eb(t,n,i,r){return Vt(function(){var e;return zt(this,function(s){switch(s.label){case 0:return[4,ub(t,n,i,r)];case 1:return V(e=s.sent(),ArrayBuffer)?[2,e]:[2,ab(e)]}})})()}function sb(t,n,i,r,e,s){return Vt(function(){var u;return zt(this,function(o){switch(o.label){case 0:return u=hb(i,e),[4,ob(t,new E(n),u,r,s)];case 1:return[2,pc(o.sent())]}})})()}function ub(t,n,i,r){return Vt(function(){var e,s,u;return zt(this,function(o){switch(o.label){case 0:return e=null==t?void 0:t.onLicenseRequest,s=hb(n,i),e&&"function"==typeof e?[4,gr(ut.resolve(e.call(t,s)),r)]:[2,ut.resolve(s)];case 1:return yc(u=o.sent())?[2,pc(u).buffer]:[2,Yu({fairplaySkdUrl:void 0},nb,u)]}})})()}function ob(t,n,i,r,e){return Vt(function(){var s,u;return zt(this,function(o){switch(o.label){case 0:return s=null==t?void 0:t.onLicenseResponse,u=cb(n,i,r),s&&"function"==typeof s?[4,gr(ut.resolve(s.call(t,u)),e)]:[2,ut.resolve(n)];case 1:return[2,pc(o.sent())]}})})()}function hb(t,n){return Yu({},fb(t),{fairplaySkdUrl:n})}function cb(t,n,i){return{url:i.gk,status:i.hk,statusText:i.vk,headers:i.fk.MT(),body:t,request:n}}function ab(t){return new pl({Yu:t.url,Uk:t.method,fk:t.headers,zT:t.body,zk:t.useCredentials,Km:gl.bk})}function fb(t){var n;return{url:t.Yu,body:null!=(n=vb(t.zT))?n:null,headers:t.fk.MT(),method:t.Uk,useCredentials:t.zk}}function vb(t){if(t)return"string"==typeof t?dc(t):V(t,ArrayBuffer)?new E(t):Rc(t)?mc(t):void 0}var db=function(t){function n(n,i,r,e){var s;return(s=t.call(this,n,i,r)||this).JH=void 0,s.JH=e,s}Ct(n,t);var i=n.prototype;return i.dH=function(t,n){return ut.resolve(t)},i.lH=function(t,n){return Vt(function(){var i,r,e,s,u,o;return zt(this,function(h){switch(h.label){case 0:return[4,this.bH(bc(t).buffer)];case 1:return i=h.sent(),r=this.ZV(i,Md.CT,_l.Ik,n),[4,eb(this.JH,r,void 0,n)];case 2:if(V(e=h.sent(),ArrayBuffer))return[2,new E(e)];if(""===e.Yu)throw new eg(cd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");h.label=3;case 3:return h.trys.push([3,7,,8]),[4,this.SP.lk(e)];case 4:return[4,(s=h.sent()).HT(n)];case 5:return u=h.sent(),[4,sb(this.JH,u,r,s,void 0,n)];case 6:return[2,h.sent()];case 7:throw lr(o=h.sent()),new eg(cd.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",o);case 8:return[2]}})}).call(this)},n}($p);F(),Et(),Wt(),Dt(),H(),Qt();var lb=function(t){function n(n,i,r,e){var s;return(s=t.call(this,n,i,r,Md.CT)||this).JH=void 0,s.JH=e,s}Ct(n,t);var i=n.prototype;return i.dH=function(t,n){return Vt(function(){var i,r,e,s,u,o;return zt(this,function(h){switch(h.label){case 0:return this.GV?[2,this.GV]:(i=this.ZV(t,Md.CT,_l.xk,n),[4,ib(this.JH,i,n)]);case 1:if(V(r=h.sent(),E))return[2,r];if(""===r.Yu)throw new eg(cd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");h.label=2;case 2:return h.trys.push([2,5,,6]),[4,this.SP.lk(r)];case 3:return[4,(e=h.sent()).HT(n)];case 4:return s=h.sent(),[3,6];case 5:throw lr(u=h.sent()),new eg(cd.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",u);case 6:return o=hb(i,void 0),[4,rb(this.JH,new E(s),o,e,n)];case 7:return[2,h.sent()]}})}).call(this)},i.lH=function(t,n){return Vt(function(){var i,r,e,s,u;return zt(this,function(o){switch(o.label){case 0:return i=this.ZV(t,Md.CT,_l.Pk,n),[4,eb(this.JH,i,void 0,n)];case 1:if(V(r=o.sent(),ArrayBuffer))return[2,new E(r)];if(""===r.Yu)throw new eg(cd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");o.label=2;case 2:return o.trys.push([2,6,,7]),[4,this.SP.lk(r)];case 3:return[4,(e=o.sent()).HT(n)];case 4:return s=o.sent(),[4,sb(this.JH,s,i,e,void 0,n)];case 5:return[2,o.sent()];case 6:throw lr(u=o.sent()),new eg(cd.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",u);case 7:return[2]}})}).call(this)},n}(tb);F(),Et(),Wt(),Dt(),H(),Qt();var wb=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this,n,i,r,e,Md.CT)||this).JH=void 0,u.ZH=void 0,u.JH=s,u}Ct(n,t);var i=n.prototype;return i.dH=function(t,n){return Vt(function(){var t,i,r,e,s,u;return zt(this,function(o){switch(o.label){case 0:return this.GV?[2,this.GV]:(t=this.VH(n),[4,ib(this.JH,t,n)]);case 1:if(i=o.sent(),Rc(i))return[2,i];o.label=2;case 2:return o.trys.push([2,6,,7]),[4,this.SP.lk(i)];case 3:return[4,(r=o.sent()).HT()];case 4:return e=o.sent(),s=hb(t,void 0),[4,rb(this.JH,new E(e),s,r,n)];case 5:return[2,o.sent()];case 6:throw lr(u=o.sent()),new eg(cd.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",u);case 7:return[2]}})}).call(this)},i.lH=function(t,n){return Vt(function(){var i,r,e,s,u;return zt(this,function(o){switch(o.label){case 0:return i=this.ZV(t,Md.CT,_l.Tk,n),[4,eb(this.JH,i,this.ZH,n)];case 1:if(V(r=o.sent(),ArrayBuffer))return[2,new E(r)];if(""===r.Yu)throw new eg(cd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");o.label=2;case 2:return o.trys.push([2,6,,7]),[4,this.SP.lk(r)];case 3:return[4,(e=o.sent()).HT(n)];case 4:return s=o.sent(),[4,sb(this.JH,s,i,e,this.ZH,n)];case 5:return[2,o.sent()];case 6:throw lr(u=o.sent()),new eg(cd.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",u);case 7:return[2]}})}).call(this)},i.OH=function(n){var i;return this.ZH=n,(null==(i=this.JH)?void 0:i.extractFairplayContentId)?ut.resolve(this.JH.extractFairplayContentId(n)):t.prototype.OH.call(this,n)},n}(ak),gb=function(){function t(){}var n=t.prototype;return n.$H=function(t,n,i,r){switch(t.kS.Km){case Eo.zm:return this.tW(n,i,r);case Eo.qm:return this.iW(n,i,r);case Eo.jm:return this.eW(t,n,i,r);case Eo.Xm:return this.sW(n,i,r);case Eo.Gm:default:return this.nW(n,i,r)}},n.tW=function(t,n,i){var r=function(t){return t.integration===tp&&qn(t.customIntegrationId)}(t)?t.customIntegrationId:t.integration;if(r&&fp.LR.DR(r,wo)){var e=fp.LR.MR(r,wo,t);return new lb(t,n,i,e)}switch(r){case Fy:return new Lp(t,n,i);case zy:return new Up(t,n,i);case Wy:return new Vp(t,n,i);case Vy:return new zp(t,n,i);case Gy:return new jp(t,n,i);case Qy:return new Qp(t,n,i);case Yy:return new Kp(t,n,i);case Jy:return new Jp(t,n,i);default:return new tb(t,n,i,Md.CT)}},n.iW=function(t,n,i){var r=t.integration;if(r&&fp.LR.DR(r,fo)){var e=fp.LR.MR(r,fo,t);return new db(t,n,i,e)}switch(r){case Fy:return new nk(t,n,i);case zy:return new rk(t,n,i);case Wy:return new ek(t,n,i);case Vy:return new sk(t,n,i);case Gy:return new uk(t,n,i);case Yy:return new ok(t,n,i);case Jy:return new hk(t,n,i);default:return new $p(t,n,i)}},n.eW=function(t,n,i,r){var e=n.integration;if(e&&fp.LR.DR(e,Ao)){var s=fp.LR.MR(e,Ao,n);return new wb(t,n,i,r,s)}switch(e){case Hy:return new fk(t,n,i,r);case zy:return new vk(t,n,i,r);case Xy:return new wk(t,n,i,r);case Fy:return new gk(t,n,i,r);case Wy:return new _k(t,n,i,r);case Vy:return new mk(t,n,i,r);case qy:return new yk(t,n,i,r);case Gy:return new pk(t,n,i,r);case jy:return new kk(t,n,i,r);case Qy:return new bk(t,n,i,r);case Yy:return new Ak(t,n,i,r);case Ky:return new Tk(t,n,i,r);case Jy:return new Sk(t,n,i,r);case Zy:return new Ek(t,n,i,r);case $y:return new Kk(t,n,i,r);default:return new ak(t,n,i,r,Md.NT)}},n.nW=function(t,n,i){return new Zk(t,n,i)},n.sW=function(t,n,i){return new $k(t,n,i)},n.rW=function(t){return t.Km===Eo.qm||t.Km===Eo.zm||t.Km===Eo.jm||t.Km===Eo.Gm||t.Km===Eo.Xm},n.MS=function(t,n){var i;if(t.Km!==Eo.qm)return!1;if(Un(null==(i=n.playready)?void 0:i.customData))return!0;var r=n.integration;return(!r||!fp.LR.DR(r,Ao))&&(r===Fy&&new tk(n).MS)},n._H=function(t,n){if(t.Km===Eo.zm){var i=n.integration;if(!i||!fp.LR.DR(i,Ao))return i===Fy?Lp._H():void 0}},t}();F(),Et(),F(),Et(),Bt(),Dt();var _b=function(t){function n(n){var i;return(i=t.call(this,zm.ma)||this).errorObject=void 0,i.errorObject=n,i}return Ct(n,t),n.prototype.xa=function(){return this},Nt(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(kw);F(),Et(),F(),Et();var mb="theoplayer-stored-network-info-v2",yb=25e5,pb=function(){function t(){var t=this;this.oW=Od,this.dW=void 0,this.lW=wi(function(){var n,i,r=((i={})[t.oW]={availableBandwidth:t.dW,storedTimestamp:ce()},i);null==(n=Vn.mP)||n.qy(mb,JSON.stringify(r))},1e4)}var n=t.prototype;return n.hW=function(t){var n,i=null==(n=Vn.mP)?void 0:n.Wy(t);if(void 0!==i){var r=JSON.parse(i);if(void 0!==r&&void 0!==r[this.oW]){if(!this.aW(r))return r[this.oW].availableBandwidth;var e;null==(e=Vn.mP)||e.qy(t,JSON.stringify({}))}}},n.uW=function(){var t=this.hW(mb);if(void 0!==t)return t;var n=this.hW("theoplayer-stored-network-info");return n?8*n:void 0},n.aW=function(t){var n=t[this.oW].storedTimestamp;return!!n&&ce()-n>36e5},n.cW=function(t){this.dW=t,this.lW()},n.fW=function(){var t;return null!=this.dW||(this.dW=null!=(t=this.uW())?t:yb),this.dW},t}();pb.Ng=new pb,F(),Et();var kb=function(t){return t[t.vW=0]="vW",t[t._W=1]="_W",t[t.gW=2]="gW",t[t.pW=3]="pW",t[t.mW=4]="mW",t[t.wW=5]="wW",t[t.dR=6]="dR",t[t.yW=7]="yW",t[t.AW=8]="AW",t[t._R=9]="_R",t[t.bW=10]="bW",t[t.gR=11]="gR",t[t.TW=12]="TW",t}({});F(),Et(),Bt();var bb=function(){function t(){}return t.prototype.PW=function(t){},Nt(t,[{key:"kW",get:function(){return 0}},{key:"EW",get:function(){return 0}}]),t}();F(),Et(),Dt(),F(),Et(),Dt();var Ab=function(t){function n(n){var i;return(i=t.call(this,"contentProtectionsTracked")||this).xW=void 0,i.xW=n,i}return Ct(n,t),n}(rh),Tb=function(t){function n(n,i){var r;return void 0===i&&(i=new gb),(r=t.call(this)||this).nV=void 0,r.RW=void 0,r.kH=void 0,r.nV=n,r.RW=i,r}Ct(n,t);var i=n.prototype;return i.IW=function(t){this.kH=t},i._H=function(t){var n=this.kH;if(void 0!==n)return this.RW._H(t,n)},i.MS=function(t){var n=this.kH;return void 0!==n&&this.RW.MS(t,n)},i.DW=function(t){var n={kS:t.kS,BW:t.BW||[],NW:t.NW,HH:t.HH,MW:t.MW||[]},i=this.RW.$H(n,this.kH||{},t.uH,this.nV);return n.NW&&i.qV(n.NW),new Sb(i)},i.LW=function(t){t&&(Ui(t,function(t){return void 0!==t.uH})&&this.So(new Ab(t)))},n}(th),Sb=function(){function t(t){this.OW=void 0,this.OW=t}var n=t.prototype;return n.KV=function(t){return this.OW.KV(t)},n.YV=function(t,n,i){return this.OW.YV(n,i)},n.QV=function(){return this.OW.QV||void 0!==this.OW.GV},n.dH=function(t,n){return this.OW.dH(t,n)},n.lH=function(t,n,i){return n&&this.OW.qV(n),this.OW.lH(t,i)},n.zg=function(){this.OW.kn()},t}();F(),Et(),Dt(),Ut();var Eb=function(t){function n(n){var i;(i=t.call(this)||this).UW=[],i.GW=function(t){i.tt(t.Ht)},i.uV=function(t){var n=t.Ht;i.zW(n)||i.it(n)};for(var r,e=Lt(n);!(r=e()).done;){var s=r.value;i.FW(s)}return i}Ct(n,t);var i=n.prototype;return i.FW=function(t){this.UW.push(t);for(var n,i=Lt(t.II);!(n=i()).done;){var r=n.value;this.tt(r)}this.VW(t)},i.WW=function(t){Xi(this.UW,t),this.qW(t);for(var n,i=Lt(t.II);!(n=i()).done;){var r=n.value;this.zW(r)||this.it(r)}},i.zW=function(t){for(var n,i=Lt(this.UW);!(n=i()).done;){if(n.value.DI(t))return!0}return!1},i.VW=function(t){t.wn(Sw.eI,this.GW),t.wn(Sw.nI,this.uV)},i.qW=function(t){t.mn(Sw.eI,this.GW),t.mn(Sw.nI,this.uV)},i.kn=function(){for(;this.UW.length>0;)this.WW(this.UW[0]);t.prototype.kn.call(this)},i.xa=function(){return jm(this)},n}(Pw);F(),Et(),Bt(),F(),Et();var Ib,Rb={forceSeekOffset:0,maximumOffset:0,maximumPlaybackRate:0,minimumOffset:0,minimumPlaybackRate:0,targetOffset:0},Cb=function(){function t(){this.hu=void 0,this.jW=void 0,this.We=void 0}var n=t.prototype;return n.Ea=function(t){this.jW=t,void 0!==this.We&&(this.jW.Rt=this.We)},n.hr=function(){this.jW=void 0,this.We=void 0},Nt(t,[{key:"Ca",get:function(){return null!=this.hu||(this.hu=function(t){return{get enabled(){return t.Rt},set enabled(n){t.Rt=Vw(n)},get monitoringLivePlayback(){return t.XW},get currentLatency(){return t.BL},get currentConfiguration(){return function(t){if(void 0!==t)return{get minimumOffset(){return t.minimumOffset},get maximumOffset(){return t.maximumOffset},get targetOffset(){return t.targetOffset},get forceSeekOffset(){return t.forceSeekOffset},get minimumPlaybackRate(){return t.minimumPlaybackRate},get maximumPlaybackRate(){return t.maximumPlaybackRate}}}(t.Cd)}}}(this)),this.hu}},{key:"Rt",get:function(){var t,n;return null!=(n=this.We)?n:Boolean(null==(t=this.jW)?void 0:t.Rt)},set:function(t){this.We=t,this.jW&&(this.jW.Rt=t)}},{key:"XW",get:function(){var t,n;return null!=(n=null==(t=this.jW)?void 0:t.sL)&&n}},{key:"BL",get:function(){var t;return null==(t=this.jW)?void 0:t.DL}},{key:"Cd",get:function(){return this.jW?this.jW.nL:Rb}}]),t}();var Db=Boolean(f&&f.TextTrack),Pb=function(t){function n(n,i,r,e,s,u,o,h){var c;return void 0===o&&(o=new gb),void 0===h&&(h=Cd()),(c=t.call(this)||this).xq=void 0,c.TL=void 0,c.iq=void 0,c.YL=void 0,c.$L=void 0,c.Gl=void 0,c.yq=void 0,c.Ac=void 0,c.JW=void 0,c.ZW=void 0,c.tq=void 0,c.kq=void 0,c.bq=void 0,c.pq=void 0,c.nV=void 0,c.hw=void 0,c.lq=void 0,c.YW=void 0,c.oq=new bb,c.rq=new Cb,c.Dq=function(t){var n=t.lt,i=n.code,r=new fd(ag(i),"Something went wrong during native playback.",n),e=new ug(i,r.message,n.message);c.qq(r,e)},c.Nc=function(){c.So(new pw(c.MP,c.CP))},c.zq=function(){!c.kx&&On.ru&&On.X_&&c.ct===1/0&&c.OP(1/0)},c.Rq=function(t){c.hx||(c.YW=void 0),c.So(t)},c.IL=function(t){c.YW=void 0},c.Nq=function(){c.So(new Rg(c.KP))},c.Cq=function(){c.Bx>0&&c.Rx>0&&c.So(new Ty)},c.Oq=function(t){var n=c.TL.$W.audioTracks;if(n)for(var i=0;i<n.length;i++){var r=n[i];xb(c.YL,r)||c.YL.tt(new Sg(r))}},c.Fq=function(t){var n=[],i=c.TL.$W.audioTracks;if(i){for(var r,e=Lt(c.YL.II);!(r=e()).done;){var s=r.value;Ob(i,s.mO)||n.push(s)}for(var u,o=Lt(n);!(u=o()).done;){var h=u.value;c.YL.it(h)}}},c.Uq=function(){c.dh(c.YL)},c.Vq=function(t){var n=c.TL.$W.videoTracks;if(n)for(var i=0;i<n.length;i++){var r=n[i];xb(c.$L,r)||c.$L.tt(new Ig(r))}},c.Hq=function(t){var n=[],i=c.TL.$W.videoTracks;if(i){for(var r,e=Lt(c.$L.II);!(r=e()).done;){var s=r.value;Ob(i,s.mO)||n.push(s)}for(var u,o=Lt(n);!(u=o()).done;){var h=u.value;c.$L.it(h)}}},c.Wq=function(){c.dh(c.$L)},c.Bq=function(t){c.So(t),c.qq(t.errorObject,hg(t.errorObject))},c.xq=i,c.nV=r,c.hw=h,c.TL=c.xq.Gq(ig.Bk),c.tq=c.TL.$W.preload,c.kq=new Uy(c,c.TL),c.bq=new Ly(c.kq,!0),c.bq.wn(Iy,c.Rs),c.bq.wn(Ey.bM,c.zq),c.lq=new Tb(r,o),c.TL.Eq=c.lq,c.Iq(),c.YL=new ng,c.$L=new ng,c.Lq(),c.pq=new ly(c.TL,c.nV),c.yq=new gy(c.TL,c.TL.nt),c.Gl=new Eb([c.TL.nt,c.pq.Z,c.yq.Z]),c.be(),c}Ct(n,t);var i=n.prototype;return i.OP=function(t,n){this.KP&&(this.YW=t),this.TL.My(t)},i.we=function(){this.TL.we()},i.be=function(){this.TL.be()},i.Ta=function(t,n,i){return Vt(function(){var r,e;return zt(this,function(s){switch(s.label){case 0:return dr(i),this.Ac=t,r={Km:Sy.mV,iR:t.src,qT:t.type,aq:this.uq(t),mx:this.tq,cq:t.crossOrigin,dq:n.metadata&&n.metadata.title},this.lq.IW(t.contentProtection),e=this,[4,this.TL.Un(r)];case 1:return e.iq=s.sent(),dr(i),n.textTracks&&this.fq(n.textTracks),Ay(this.nt),[2]}})}).call(this)},i.Px=function(t,n,i,r){return ut.resolve()},i.xx=function(){return ut.resolve()},i.fq=function(t){for(var n,i=Lt(t);!(n=i()).done;){var r=n.value;if(this.TL.vq()&&On.ru&&Db&&!sy(r.kind,r.label)&&this._q(r)){var e,s=null!=(e=r.kind)?e:Ym.OU;this.TL.gq(r.src,s,r.label,r.srclang,r.default)}else{if(void 0===r.src)continue;this.pq.eV(r)}}},i._q=function(t){return!t.format||"webvtt"===t.format},i.Gx=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.TL.Gx()];case 1:case 4:return t.sent(),[3,3];case 2:return t.sent(),[3,3];case 3:return this.QW?[3,5]:[4,this.TL.ww(eh.Qw)];case 5:return[2]}})}).call(this)},i.zx=function(){this.TL.zx()},i.jx=function(){return void 0!==this.TL.$W.webkitShowPlaybackTargetPicker},i.Qx=function(){this.TL.$W.webkitShowPlaybackTargetPicker&&this.TL.$W.webkitShowPlaybackTargetPicker()},i.Kx=function(){this.TL.$W.webkitShowPlaybackTargetPicker&&this.TL.$W.webkitShowPlaybackTargetPicker()},i.Wx=function(){return this.TL.$W},i.Hx=function(){return this.TL.Ma},i.Aa=function(){return this.TL.mq},i.tI=function(t){return this.TL.wq(t)},i.hr=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.Ac=void 0,this.JW=void 0,this.ZW=void 0,this.iq=void 0,[4,this.pq.hr()];case 1:return t.sent(),[4,this.yq.hr()];case 2:return t.sent(),this.TL.Aq(),[4,this.TL.hr()];case 3:return t.sent(),this.bq.hr(),this.mx=this.tq,this.ht.hr(),this.rt.hr(),this.YW=void 0,[2]}})}).call(this)},i.kn=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return[4,this.hr()];case 1:return t.sent(),this.Vo(),this.Sq(),this.Tq(),this.bq.kn(),this.kq.zg(),this.TL.Eq=void 0,[4,this.xq.Pq(this.TL)];case 2:return t.sent(),this.YL.kn(),this.$L.kn(),this.Gl.kn(),[4,this.pq.kn()];case 3:return t.sent(),[4,this.yq.kn()];case 4:return t.sent(),[2]}})}).call(this)},i.Iq=function(){this.TL.wn(eh.uo,this.Rs),this.TL.wn(eh.jw,this.Rs),this.TL.wn(eh._y,this.Nc),this.TL.wn(eh.Qw,this.Rs),this.TL.wn(eh.Ww,this.Rs),this.TL.wn(eh.$w,this.Rs),this.TL.wn(eh.Zw,this.Rq),this.TL.wn(eh.Bw,this.Rs),this.TL.wn(eh.Kw,this.Rs),this.TL.wn(eh.gy,this.Rs),this.TL.wn(eh.Rw,this.Rs),this.TL.wn(eh.Jw,this.Cq),this.TL.wn(Ey.TM,this.IL),this.TL.wn(zm.ma,this.Dq),this.TL.wn(eh.Pw,this.Rs),this.TL.wn(eh.Ew,this.Bq),this.TL.$W.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.Nq)},i.Sq=function(){this.TL.mn(eh.uo,this.Rs),this.TL.mn(eh.jw,this.Rs),this.TL.mn(eh._y,this.Nc),this.TL.mn(eh.Qw,this.Rs),this.TL.mn(eh.Ww,this.Rs),this.TL.mn(eh.$w,this.Rs),this.TL.mn(eh.Zw,this.Rq),this.TL.mn(eh.Bw,this.Rs),this.TL.mn(eh.Kw,this.Rs),this.TL.mn(eh.gy,this.Rs),this.TL.mn(eh.Rw,this.Rs),this.TL.mn(eh.Jw,this.Cq),this.TL.mn(Ey.TM,this.IL),this.TL.mn(zm.ma,this.Dq),this.TL.mn(eh.Pw,this.Rs),this.TL.mn(eh.Ew,this.Bq),this.TL.$W.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.Nq)},i.uq=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{kS:Co,Mq:[{initDataTypes:[Co.Jm],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.Lq=function(){var t=this.TL.$W.audioTracks,n=this.TL.$W.videoTracks;t&&(t.addEventListener("addtrack",this.Oq),t.addEventListener("removetrack",this.Fq),t.addEventListener("change",this.Uq)),n&&(n.addEventListener("addtrack",this.Vq),n.addEventListener("removetrack",this.Hq),n.addEventListener("change",this.Wq))},i.Tq=function(){var t=this.TL.$W.audioTracks,n=this.TL.$W.videoTracks;t&&(t.removeEventListener("addtrack",this.Oq),t.removeEventListener("removetrack",this.Fq),t.removeEventListener("change",this.Uq)),n&&(n.removeEventListener("addtrack",this.Vq),n.removeEventListener("removetrack",this.Hq),n.removeEventListener("change",this.Wq))},i.dh=function(t){for(var n=0;n<t.V;n++){t.CI(n).yO()}},i.Yx=function(){this.TL.Yx()},i.Jx=function(){},i.qq=function(t,n){this.JW||(this.JW=n,this.ZW=t,this.So(new _b(t)))},Nt(n,[{key:"BL",get:function(){}},{key:"QW",get:function(){var t=this.TL.IP,n=this.MP;return t.Cr(n,.01)}},{key:"ht",get:function(){return this.YL}},{key:"IP",get:function(){return this.TL.IP._s()}},{key:"CP",get:function(){return this.TL.CP},set:function(t){t&&this.TL.KW(t)}},{key:"bt",get:function(){return this.Ac}},{key:"MP",get:function(){return void 0!==this.YW?this.YW:this.TL.MP},set:function(t){this.OP(t)}},{key:"ct",get:function(){return this.TL.ct}},{key:"UP",get:function(){return this.TL.UP}},{key:"lt",get:function(){return this.JW}},{key:"WP",get:function(){return this.ZW}},{key:"zP",get:function(){}},{key:"jP",get:function(){}},{key:"KP",get:function(){return this.TL.KP}},{key:"JP",get:function(){return Yu({},{iO:0,eO:0,sO:0,nO:0,rO:0,hO:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.TL.ZP())}},{key:"$P",get:function(){return this.TL.$P},set:function(t){this.TL.$P=t}},{key:"sx",get:function(){return!0}},{key:"hx",get:function(){return this.TL.hx}},{key:"ux",get:function(){return this.TL.ux},set:function(t){this.TL.ux=t}},{key:"_x",get:function(){return this.TL.$W.played}},{key:"mx",get:function(){return this.tq},set:function(t){this.tq=t,this.iq&&(this.iq.mx=t)}},{key:"Ax",get:function(){return this.TL.Ax}},{key:"Sx",get:function(){return this.TL.Sx._s()}},{key:"kx",get:function(){return this.TL.kx}},{key:"nq",get:function(){return this.TL.nq}},{key:"nt",get:function(){return this.Gl}},{key:"rt",get:function(){return this.$L}},{key:"Rx",get:function(){return this.TL.Rx}},{key:"Bx",get:function(){return this.TL.Bx}},{key:"Mx",get:function(){return this.TL.Mx},set:function(t){this.TL.Mx=t}},{key:"Fx",get:function(){return this.rq}},{key:"Vx",get:function(){return this.TL.Vx},set:function(t){this.TL.Vx=t}},{key:"hq",get:function(){return this.oq}}]),n}(ih);function Nb(t){var n,i;if(!(null==(n=(Ib||(Ib=f&&f.document&&f.document.createElement("video")),i=Ib).canPlayType)?void 0:n.call(i,t.type)))return!1;if(t.useNativePlayback)return!0;var r=On.ru||On.Tg;return!t.useManagedMediaSource||!r}var Bb=function(){function t(){this.Kq=kb.TW}var n=t.prototype;return n.PR=function(t,n,i,r,e,s,u){return new Pb(t,n,i,r,e,s)},n.Xq=function(t,n){return Nb(t)},n.jq=function(t){return Dp(t)},n.Qq=function(){return!1},t}();function xb(t,n){for(var i,r=Lt(t.II);!(i=r()).done;){var e=i.value;if(e.mO===n)return e}}function Ob(t,n){for(var i=0;i<t.length;i++)if(t[i]===n)return!0;return!1}F(),Et(),F(),Et(),Bt();var Mb=function(){function t(t,n){var i=this;this.oa=void 0,this.ort=void 0,this.art=!1,this.urt=function(t){i.ort._Q(t.error,i.MP)},this.crt=function(){i.ort.dQ(i.hrt),i.oa.removeEventListener("playing",i.crt),i.art=!1},this.Ms=function(){var t,n,r,e,s,u;(i.art||(i.oa.addEventListener("playing",i.crt),i.art=!0),null==(t=i.oa.ads)||t.removeEventListener("adbegin",i.drt),null==(n=i.oa.theoads)||n.removeEventListener("interstitialbegin",i.lrt),null==(e=i.oa.source)||null==(r=e.ads)?void 0:r.some(function(t){return"theoads"===t.integration}))&&(null==(s=i.oa.ads)||s.addEventListener("adbegin",i.drt),null==(u=i.oa.theoads)||u.addEventListener("interstitialbegin",i.lrt))},this.drt=function(t){"theoads"!==t.ad.integration||t.ad.isSlate||i.ort.vQ("ad")},this.lrt=function(t){var n=t.interstitial;(function(t){return"adbreak"===t.type})(n)||i.ort.vQ(function(t){switch(t){case"adbreak":default:return"ad";case"overlay":return"overlay"}}(n.type))},this.ort=n,this.oa=t,this.oa.addEventListener("error",this.urt),this.oa.addEventListener("sourcechange",this.Ms),this.Ms()}return t.prototype.hr=function(){},Nt(t,[{key:"MP",get:function(){var t=this.oa.currentTime;return isFinite(t)?t:"now"}},{key:"hrt",get:function(){return this.oa.src||""}}]),t}();F(),Et(),Dt(),Ut(),F(),Et(),Wt(),Bt(),Dt(),Qt();var Lb=function(t){function n(n,i){var r;return(r=t.call(this)||this).oa=void 0,r.nnt=void 0,r.iI=function(t){r.$x(t)||r.So(t)},r.oa=n,r.nnt=!i,r.vz(),r}Ct(n,t);var i=n.prototype;return i.Jst=function(){return this.oa.Dst},i.Zst=function(){return this.oa.Jc},i.$st=function(){return this.oa.Nst},i.Hx=function(){return this.oa.Ma},i.Aa=function(){return this.oa.mq},i.int=function(){return this.oa.tnt},i.snt=function(){return this.oa.ent},i.EP=function(){return this.oa.ht},i.RP=function(){return this.oa.RP()},i.DP=function(){return this.oa.CP},i.BP=function(t){this.oa.CP=t},i.NP=function(){return this.oa.bt},i.LP=function(){return this.oa.LP()},i.OP=function(t,n){this.oa.OP(t,n)},i.Hst=function(){return this.oa.Hst()},i.Nd=function(){return this.oa.Nd()},i.FP=function(){return this.oa.xe},i.VP=function(){return this.oa.UP},i.HP=function(){return this.oa.HP()},i.qP=function(){return this.oa.qP()},i.GP=function(){return this.oa.zP},i.QP=function(){return this.oa.jP},i.ZP=function(){return this.oa.JP},i.tx=function(){return this.oa.$P},i.ix=function(t){this.oa.ix(t)},i.ox=function(){return this.oa.hx},i.lx=function(){return this.oa.ux},i.vx=function(t){this.oa.ux=t},i.gx=function(){return this.oa.gx()},i.wx=function(){return this.oa.mx},i.yx=function(t){this.oa.mx=t},i.bx=function(){return this.oa.Ax},i.Tx=function(){return this.oa.Tx()},i.Ex=function(){return this.oa.kx},i.Ix=function(){return this.oa.nt},i.Cx=function(){return this.oa.Rx},i.Dx=function(){return this.oa.rt},i.Nx=function(){return this.oa.Bx},i.Lx=function(){return this.oa.Mx},i.Ox=function(t){this.oa.Ox(t)},i.qx=function(){this.oa.qx()},i.zx=function(){this.oa.zx()},i.Gx=function(){this.oa.Gx()},i.be=function(){this.oa.be()},i.we=function(){this.oa.we()},i.ds=function(){return this.oa.ds()},i.Wx=function(){return this.oa.Wx()},i.Yx=function(){this.oa.Yx()},i.Jx=function(){this.oa.Jx()},i.tI=function(t){return this.oa.tI(t)},i.Ea=function(){this.oa.Ea()},i.nu=function(){return this.oa.nu()},i.Ta=function(t,n){return this.oa.Ta(t,n)},i.Px=function(t,n,i){return this.oa.Px(t,n,i)},i.xx=function(){return this.oa.xx()},i.Xx=function(){return this.oa.Xx()},i.$x=function(t){return!1},i.vz=function(){this.nnt&&this.oa.lw(this.iI)},i._z=function(){this.nnt&&this.oa.mw(this.iI)},i.kn=function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return this.Vo(),t?[3,2]:[4,this.oa.kn()];case 1:n.sent(),n.label=2;case 2:return this._z(),[2]}})}).call(this)},Nt(n,[{key:"Dst",get:function(){return this.Jst()}},{key:"Jc",get:function(){return this.Zst()}},{key:"jst",get:function(){return this.oa.jst}},{key:"Nst",get:function(){return this.$st()}},{key:"cO",get:function(){return this.oa.cO},set:function(t){this.oa.cO=t}},{key:"Gst",get:function(){return this.oa.Gst}},{key:"VX",get:function(){return this.oa.VX}},{key:"Vst",get:function(){return this.oa.Vst}},{key:"Cd",get:function(){return this.oa.Cd}},{key:"Wu",get:function(){return this.oa.Wu}},{key:"Ma",get:function(){return this.Hx()}},{key:"mq",get:function(){return this.Aa()}},{key:"SP",get:function(){return this.oa.SP}},{key:"Fx",get:function(){return this.oa.Fx}},{key:"Wst",get:function(){return this.oa.Wst}},{key:"_J",get:function(){return this.oa._J}},{key:"oX",get:function(){return this.oa.oX}},{key:"zst",get:function(){return this.oa.zst}},{key:"Ost",get:function(){return this.oa.Ost}},{key:"Pa",get:function(){return this.oa.Pa}},{key:"Ql",get:function(){return this.oa.Ql}},{key:"tnt",get:function(){return this.int()}},{key:"ent",get:function(){return this.snt()}},{key:"jI",get:function(){return this.oa.jI}},{key:"Io",get:function(){return this.oa.Io}},{key:"ht",get:function(){return this.EP()}},{key:"CP",get:function(){return this.DP()},set:function(t){this.BP(t)}},{key:"bt",get:function(){return this.NP()}},{key:"xe",get:function(){return this.FP()}},{key:"UP",get:function(){return this.VP()}},{key:"zP",get:function(){return this.GP()}},{key:"jP",get:function(){return this.QP()}},{key:"Vx",get:function(){return this.oa.Vx},set:function(t){this.oa.Vx=t}},{key:"JP",get:function(){return this.ZP()}},{key:"$P",get:function(){return this.tx()},set:function(t){this.ix(t)}},{key:"hx",get:function(){return this.ox()}},{key:"ux",get:function(){return this.lx()},set:function(t){this.vx(t)}},{key:"mx",get:function(){return this.wx()},set:function(t){this.yx(t)}},{key:"Ax",get:function(){return this.bx()}},{key:"Na",get:function(){return this.oa.Na},set:function(t){this.oa.Na=t}},{key:"kx",get:function(){return this.Ex()}},{key:"nt",get:function(){return this.Ix()}},{key:"Rx",get:function(){return this.Cx()}},{key:"rt",get:function(){return this.Dx()}},{key:"Bx",get:function(){return this.Nx()}},{key:"Mx",get:function(){return this.Lx()},set:function(t){this.Ox(t)}}]),n}(ih),Ub=function(t){return t[t.lu=0]="lu",t[t.rnt=1]="rnt",t[t.hnt=2]="hnt",t}({}),Fb=ur(3,function(){return[]});function Vb(t,n){Fb[n].push(t)}var Hb=function(t){return t[t.rnt=0]="rnt",t[t.ont=1]="ont",t[t.ant=2]="ant",t[t.pR=3]="pR",t}({}),Wb=ur(4,function(){return[]});function zb(t,n){Wb[n].push(t)}var Xb=[];!function(t){Xb.push(t)}(function(t){new Mb(t.Ca,t.jst)}),F(),Et(),Dt(),F(),Et(),Dt();var qb=function(){function t(){}return t.IT=function(){return t.Ng||(t.Ng=Gb.LS()?new Gb:new Dd),t.Ng},t.Gy=function(n){t.IT().Gy(n)},t.xT=function(){t.IT().xT()},t.Wy=function(n){return t.IT().Wy(n)},t.qy=function(n,i){t.IT().qy(n,i)},t.LJ=function(n){var i=t.Wy(n);if(void 0!==i)return T(i)},t.OJ=function(n){return"true"===t.Wy(n)},t}();qb.Ng=void 0;var Gb=function(t){function n(){return t.apply(this,arguments)||this}Ct(n,t);var i=n.prototype;return i.Gy=function(t){self.localStorage.removeItem(t)},i.xT=function(){self.localStorage.clear()},i.Wy=function(t){var n;return null!=(n=self.localStorage.getItem(t))?n:void 0},i.qy=function(t,n){self.localStorage.setItem(t,n)},n.LS=function(){var t="foobar";try{return self.localStorage.setItem(t,t),self.localStorage.removeItem(t),!0}catch(t){}return!1},n}(qb),jb="theoplayer-stored-volume",Qb="theoplayer-stored-mutedstate";Vb(function(t){return function(t){function n(n,i){var r;if(r=t.call(this,n,i)||this,i.persistVolume){var e=qb.LJ(jb);(void 0===e||S(e))&&(e=1);var s=qb.OJ(Qb)||!1;r.Mx=e,r.$P=s}return r}Ct(n,t);var i=n.prototype;return i.ix=function(n){this.Cd.persistVolume&&qb.qy(Qb,""+Boolean(n)),t.prototype.ix.call(this,n)},i.Ox=function(n){this.Cd.persistVolume&&qb.qy(jb,""+Number(n)),t.prototype.Ox.call(this,n)},n}(t)},Ub.lu),F(),Et(),F(),Et(),Wt(),Bt(),Dt(),Qt(),F(),Et(),Wt(),Bt(),Dt(),Ut(),Qt(),F(),Et(),Wt(),Bt(),Dt(),Qt(),F(),Et(),Wt(),Bt(),Dt(),Qt();var Yb=function(t){function n(n){var i;return(i=t.call(this)||this).PP=void 0,i.iI=function(t){i.$x(t)||i.So(t)},i.PP=n,n.lw(i.iI),i}Ct(n,t);var i=n.prototype;return i.EP=function(){return this.PP.ht},i.xP=function(){return this.PP.xP()},i.RP=function(){return this.PP.IP},i.DP=function(){return this.PP.CP},i.BP=function(t){this.PP.CP=t},i.NP=function(){return this.PP.bt},i.LP=function(){return this.PP.MP},i.OP=function(t,n){this.PP.OP(t,n)},i.Nd=function(){return this.PP.ct},i.FP=function(){return this.PP.xe},i.VP=function(){return this.PP.UP},i.HP=function(){return this.PP.lt},i.qP=function(){return this.PP.WP},i.GP=function(){return this.PP.zP},i.QP=function(){return this.PP.jP},i.YP=function(){return this.PP.KP},i.ZP=function(){return this.PP.JP},i.tx=function(){return this.PP.$P},i.ix=function(t){this.PP.$P=t},i.nx=function(){return this.PP.sx},i.ox=function(){return this.PP.hx},i.lx=function(){return this.PP.ux},i.vx=function(t){this.PP.ux=t},i.gx=function(){return this.PP._x},i.wx=function(){return this.PP.mx},i.yx=function(t){this.PP.mx=t},i.bx=function(){return this.PP.Ax},i.Tx=function(){return this.PP.Sx},i.Ex=function(){return this.PP.kx},i.nu=function(){return this.PP.nu()},i.Ta=function(t,n){return this.PP.Ta(t,n)},i.Px=function(t,n,i){return this.PP.Px(t,n,i)},i.xx=function(){return this.PP.xx()},i.Ix=function(){return this.PP.nt},i.Cx=function(){return this.PP.Rx},i.Dx=function(){return this.PP.rt},i.Nx=function(){return this.PP.Bx},i.Ux=function(){return this.PP.Fx},i.Lx=function(){return this.PP.Mx},i.Ox=function(t){this.PP.Mx=t},i.Hx=function(){return this.PP.Hx()},i.Aa=function(){return this.PP.Aa()},i.Wx=function(){return this.PP.Wx()},i.gr=function(t){this.PP.gr(t)},i.mr=function(){this.PP.mr()},i.we=function(){this.PP.we()},i.qx=function(){this.PP.qx()},i.zx=function(){this.PP.zx()},i.Gx=function(){this.PP.Gx()},i.be=function(){this.PP.be()},i.Xx=function(){return this.PP.Xx()},i.jx=function(){return this.PP.jx()},i.Qx=function(){this.PP.Qx()},i.Kx=function(){this.PP.Kx()},i.hr=function(){return this.PP.hr()},i.Yx=function(){this.PP.Yx()},i.Jx=function(){this.PP.Jx()},i.Zx=function(t){return this.PP.Zx(t)},i.$x=function(t){return!1},i.kn=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.Vo(),[4,this.PP.kn()];case 1:return t.sent(),[2]}})}).call(this)},i.tI=function(t){return this.PP.tI(t)},Nt(n,[{key:"ht",get:function(){return this.EP()}},{key:"IP",get:function(){return this.RP()}},{key:"CP",get:function(){return this.DP()},set:function(t){this.BP(t)}},{key:"bt",get:function(){return this.NP()}},{key:"MP",get:function(){return this.LP()},set:function(t){this.OP(t)}},{key:"ct",get:function(){return this.Nd()}},{key:"xe",get:function(){return this.FP()}},{key:"UP",get:function(){return this.VP()}},{key:"lt",get:function(){return this.HP()}},{key:"WP",get:function(){return this.qP()}},{key:"zP",get:function(){return this.GP()}},{key:"jP",get:function(){return this.QP()}},{key:"KP",get:function(){return this.YP()}},{key:"JP",get:function(){return this.ZP()}},{key:"$P",get:function(){return this.tx()},set:function(t){this.ix(t)}},{key:"sx",get:function(){return this.nx()}},{key:"hx",get:function(){return this.ox()}},{key:"ux",get:function(){return this.lx()},set:function(t){this.vx(t)}},{key:"_x",get:function(){return this.gx()}},{key:"mx",get:function(){return this.wx()},set:function(t){this.yx(t)}},{key:"Ax",get:function(){return this.bx()}},{key:"Sx",get:function(){return this.Tx()}},{key:"kx",get:function(){return this.Ex()}},{key:"nt",get:function(){return this.Ix()}},{key:"Rx",get:function(){return this.Cx()}},{key:"rt",get:function(){return this.Dx()}},{key:"Bx",get:function(){return this.Nx()}},{key:"Mx",get:function(){return this.Lx()},set:function(t){this.Ox(t)}},{key:"Fx",get:function(){return this.Ux()}},{key:"Vx",get:function(){return this.PP.Vx},set:function(t){this.PP.Vx=t}}]),n}(ih);F(),Et(),Dt(),F(),Et(),Bt(),Dt(),Ut();var Kb=function(t){function n(){var n;return(n=t.call(this)||this).NI=void 0,n.FI=function(t){var i=t.Ht;n.tt(i)},n.UI=function(t){var i=t.Ht;n.it(i)},n}Ct(n,t);var i=n.prototype;return i.OI=function(t){t.wn(Sw.eI,this.FI),t.wn(Sw.nI,this.UI)},i.MI=function(t){t.mn(Sw.eI,this.FI),t.mn(Sw.nI,this.UI)},i.kn=function(n){!n&&this.NI&&this.NI.kn(),t.prototype.kn.call(this)},Nt(n,[{key:"BI",get:function(){return this.NI},set:function(t){var n=this.NI;if(t!==n){if(n){this.MI(n);for(var i,r=Lt(n.II);!(i=r()).done;){var e=i.value;t&&t.DI(e)||this.it(e)}}if(this.NI=t,t){for(var s,u=[],o=Lt(t.II);!(s=o()).done;){var h=s.value;this.tt(h),this.LI(h)&&u.push(h)}this.OI(t);for(var c,a=Lt(u);!(c=a()).done;){var f=c.value;f.So(new dg(f))}}}}}]),n}(Pw),Jb=function(t){function n(){return t.apply(this,arguments)||this}Ct(n,t);var i=n.prototype;return i.xa=function(){return tg(this)},i.LI=function(t){return t.Rt},n}(Kb);F(),Et(),Dt();var Zb=function(t){function n(){return t.apply(this,arguments)||this}Ct(n,t);var i=n.prototype;return i.xa=function(){return jm(this)},i.LI=function(t){return t.Xk===Hm.Kn},n}(Kb);F(),Et(),Bt(),Dt(),F(),Et(),Bt(),Dt();var $b=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).hu=void 0,n}return Ct(n,t),n.prototype.oR=function(){},Nt(n,[{key:"eR",get:function(){}},{key:"sR",get:function(){}},{key:"nR",get:function(){}},{key:"rR",get:function(){return!1}},{key:"hR",get:function(){}},{key:"Ca",get:function(){var t;return null!=(t=this.hu)?t:this.hu=tA(this)}}]),n}(th);function tA(t){return{goLive:function(){return t.oR()},get isLive(){return t.rR},get latencies(){return t.eR},get videoLatencies(){return t.sR},get audioLatencies(){return t.nR},get manifest(){return t.hR},addEventListener:function(n,i){t.wn(iA(n),i)},removeEventListener:function(n,i){t.mn(iA(n),i)}}}var nA=["golive","latencyrecoveryseek"];function iA(t){var n=Gw(t,Xw);return(qn(n)?[n]:n).filter(function(t){return ji(nA,t)})}var rA=function(t){function n(){var n;return(n=t.call(this)||this).NI=void 0,n.hu=void 0,n.NI=void 0,n}Ct(n,t);var i=n.prototype;return i.OI=function(t){t.wn(nA,this.Rs)},i.MI=function(t){t.mn(nA,this.Rs)},i.oR=function(){var t;null==(t=this.NI)||t.oR()},i.kn=function(){this.Vo(),this.NI&&this.MI(this.NI),this.NI=void 0},Nt(n,[{key:"BI",get:function(){return this.NI},set:function(t){var n=this.NI;t!==n&&(n&&this.MI(n),t&&this.OI(t),this.NI=t)}},{key:"Ca",get:function(){return this.hu||(this.hu=tA(this)),this.hu}},{key:"eR",get:function(){var t;return null==(t=this.NI)?void 0:t.eR}},{key:"sR",get:function(){var t;return null==(t=this.NI)?void 0:t.sR}},{key:"nR",get:function(){var t;return null==(t=this.NI)?void 0:t.nR}},{key:"rR",get:function(){return!!this.NI&&this.NI.rR}},{key:"hR",get:function(){var t;return null==(t=this.NI)?void 0:t.hR}}]),n}(th);F(),Et(),F(),Et();var eA="8E80B9CE",sA=function(t){return t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled",t}({});function uA(t){return{appID:t&&t.appID?Xw(t.appID):eA}}F(),Et(),Ut(),F(),Et();var oA=function(t){return t.Lk="",t.aR="anonymous",t.uR="use-credentials",t}({}),hA=function(t){return t.cR="application/dash+xml",t.dR="application/vnd.apple.mpegurl",t.lR="application/x-mpegurl",t.fR="video/mp4",t.vR="application/vnd.theoplayer.hesp+json",t._R="application/vnd.theo.hesp+json",t.gR="millicast",t.pR="theolive",t}({});function cA(t){if(null!==t)return t}function aA(t){var n={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:cA(t.streamActivityMonitorID),adTagParameters:zn(t.adTagParameters)?t.adTagParameters:{},authToken:cA(t.authToken),omidAccessModeRules:cA(t.omidAccessModeRules)};if(t.enableNonce&&(n.enableNonce=!0),"vod"===(null==t?void 0:t.availabilityType)||function(t){var n=t;return Boolean(n.videoID&&n.contentSourceID)}(t)){var i=t.videoID,r=t.contentSourceID;return i?r?Yu({},n,{availabilityType:"vod",videoID:i,contentSourceID:r}):void Vn.um("A VOD DAI configuration was provided without valid contentSourceID which is required."):void Vn.um("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){var n=t;return Boolean(n.assetKey)}(t)){var e=t.assetKey;return e?Yu({},n,{availabilityType:"live",assetKey:e}):void Vn.um("A Live DAI configuration was provided without valid assetKey which is required.")}Vn.um("A DAI configuration was provided without a valid availabilityType which is required.")}function fA(t){return"google-dai"===t.integration?aA(t):Yu({},t,{integration:String(t.integration)})}function vA(t,n,i){var r=function(t,n,i){var r,e=function(t,n){var i=oA.Lk;return t.useCredentials?i=oA.uR:t.crossOrigin&&(i=WA(t.crossOrigin)),i===oA.Lk&&n&&n.vr&&n.vr[360]&&(i=oA.aR),{useCredentials:i===oA.uR,crossOrigin:i}}(t,n),s=e.useCredentials,u=e.crossOrigin,o=t.liveOffset;Un(o)||(o=i&&Un(i.liveOffset)?i.liveOffset:void 0);var h=t.timeServer;Un(h)||(h=n&&Un(n.timeServer)?n.timeServer:void 0);var c=t.hlsDateRange;Un(c)||(c=i&&Un(i.hlsDateRange)?Boolean(i.hlsDateRange):void 0);var a,f=Boolean(t.experimentalRendering),v=Boolean(t.nativeUiRendering),d=Boolean(t.lowLatency),l=Boolean(t.useNativePlayback),w=Boolean(t.useManagedMediaSource),g=Un(t.dash)?lA(t.dash):void 0,_=Un(t.hls)?wA(t.hls):void 0,m=mA(_A(t.abr),null==i?void 0:i.abr),y=Hw(t.lcevc),p=Un(t.ignoreEmbeddedTextTrackTypes)?uT(t.ignoreEmbeddedTextTrackTypes):[],k=LA(null!=(a=t.seamlessSwitchStrategy)?a:null==(r=t.dash)?void 0:r.useSeamlessPeriodSwitch),b=xA(t.latencyConfiguration);return{crossOrigin:u,useCredentials:s,liveOffset:o,timeServer:h,hlsDateRange:c,experimentalRendering:f,nativeUiRendering:v,lowLatency:d,useNativePlayback:l,useManagedMediaSource:w,dash:g,hls:_,abr:m,lcevc:y,ignoreEmbeddedTextTrackTypes:p,seamlessSwitchStrategy:k,latencyConfiguration:b}}(t,n,i),e=cA(t.src),s=t.type;s||(s=t.src?HA(t.src):void 0);var u=function(t,n){var i;i=Un(t.contentProtection)?t.contentProtection:Un(t.drm)?t.drm:Un(n)&&Un(n.contentProtection)?n.contentProtection:Un(n)&&Un(n.drm)?n.drm:void 0;return dA(i)}(t,n);return Yu({},r,{src:e,type:s,contentProtection:u,ssai:Un(t.ssai)?fA(t.ssai):void 0,integrationData:void 0,isAdvertisement:Boolean(t.isAdvertisement)})}function dA(t){return pp(t)&&t.integration&&t.integration===qy?function(t){var n=Ip(Eo.zm,t),i=Ip(Eo.qm,t),r=t[Eo.jm]&&Ip(Eo.jm,t);return Yu({integration:"keyos",widevine:n,playready:i},r?{fairplay:r}:{})}(t):t}function lA(t){return{useSeamlessPeriodSwitch:LA(null==t?void 0:t.useSeamlessPeriodSwitch),needsTimescaleShifting:Hw(null==t?void 0:t.needsTimescaleShifting),desiredTimescale:void 0!==(null==t?void 0:t.desiredTimescale)?Ww(null==t?void 0:t.desiredTimescale):void 0,forceSeekToSynchronize:Hw(null==t?void 0:t.forceSeekToSynchronize),ignoreAvailabilityWindow:Hw(null==t?void 0:t.ignoreAvailabilityWindow),forceHardSwitchWhenSeekingBackwards:Hw(null==t?void 0:t.forceHardSwitchWhenSeekingBackwards),segmentRelativeVttTiming:Hw(null==t?void 0:t.segmentRelativeVttTiming),forceRecreateMediaSourceOnAudioSwitch:Hw(null==t?void 0:t.forceRecreateMediaSourceOnAudioSwitch)}}function wA(t){return{discontinuityAlignment:gA(null==t?void 0:t.discontinuityAlignment),delaySubtitlePreload:Vw(null==t?void 0:t.delaySubtitlePreload)}}function gA(t){if(!t||!qn(t))return"auto";switch(t){case"playlist":return"playlist";case"media":return"media";default:return"auto"}}function _A(t){if(Un(t))return yA(qw(null==t?void 0:t.preferredAudioCodecs,Xw),qw(null==t?void 0:t.preferredVideoCodecs,Xw),Hw(null==t?void 0:t.restrictToPlayerSize))}function mA(t,n){var i;if(Un(t)||Un(n))return yA(pA(null==t?void 0:t.preferredAudioCodecs,null==n?void 0:n.preferredAudioCodecs),pA(null==t?void 0:t.preferredVideoCodecs,null==n?void 0:n.preferredVideoCodecs),null!=(i=null==t?void 0:t.restrictToPlayerSize)?i:null==n?void 0:n.restrictToPlayerSize)}function yA(t,n,i){if(0!==t.length||0!==n.length||void 0!==i)return{preferredAudioCodecs:0===t.length?void 0:t,preferredVideoCodecs:0===n.length?void 0:n,restrictToPlayerSize:i}}function pA(t,n){return void 0!==t&&(null==t?void 0:t.length)>0?t:null!=n?n:[]}function kA(t,n){if(void 0!==n)switch(t){case ig.Bk:return n.preferredVideoCodecs;case ig.Dk:return n.preferredAudioCodecs;default:return}}F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),Bt(),Dt(),F(),Et();var bA=!1;function AA(t,n,i){return i?t<=n:t<n}F(),Et(),Bt();var TA=function(){function t(t,n){this.V=void 0,this.EM=void 0,this.xM=void 0,this.V=t.length>>1,this.EM=t,this.xM=n||function(t){for(var n=new Array(2*t),i=0,r=0;i<t;i+=1,r+=2)n[r]=!0,n[r+1]=!1;return n}(this.V)}var n=t.prototype;return n.Tn=function(t){return this.EM[2*t]},n.An=function(t){return this.EM[2*t+1]},n.PM=function(t){return this.xM[2*t]},n.IM=function(t){return this.xM[2*t+1]},n._s=function(){var t=this;return{get length(){return t.V},start:function(n){var i=0|n;return t.RM(i),t.Tn(i)},end:function(n){var i=0|n;return t.RM(i),t.An(i)}}},n.CM=function(){for(var n=new Array(2*this.V),i=new Array(2*this.V),r=0;r<this.V;r++)n[2*r]=this.Tn(r),n[2*r+1]=this.An(r),i[2*r]=!0,i[2*r+1]=!0;return new t(n,i)},n.RM=function(t){if(t<0)throw new y("The index provided ("+t+") must be non-negative");if(t>=this.V)throw new y("The index provided ("+t+") is greater than the maximum bound ("+this.V+")")},n.DM=function(t){if(0===this.V)return 0;if(this.Cr(t))return t;if(t<=this.Tn(0))return this.Tn(0);if(t>=this.An(this.V-1))return this.An(this.V-1);for(var n=0,i=1/0,r=0;r<this.V;r++){var e=this.Tn(r),s=b.abs(e-t);s<i&&(n=e,i=s);var u=this.An(r),o=b.abs(u-t);o<i&&(n=u,i=o)}return n},n.Mn=function(n){for(var i=0,r=0,e=[],s=[];i<this.V&&r<n.V;){var u=this.Tn(i),o=this.An(i),h=this.PM(i),c=this.IM(i),a=n.Tn(r),f=n.An(r),v=n.PM(r),d=n.IM(r),l=b.max(u,a),w=b.min(o,f),g=void 0;g=u===a?h&&v:l===u?h:v;var _=void 0;_=o===f?c&&d:w===o?c:d,(l<w||g&&_&&l===w)&&(e.push(l,w),s.push(g,_)),o===f?(i+=1,r+=1):o<f?i+=1:r+=1}return new t(e,s)},n.BM=function(){var n=this.NM(),i=n.V;if(0===i)return new t([-1/0,1/0],[!1,!1]);var r=[],e=[],s=n.Tn(0);s!==-1/0&&(r.push(-1/0,s),e.push(!1,!n.PM(0)));for(var u=0;u<i-1;u++)r.push(n.An(u),n.Tn(u+1)),e.push(!n.IM(u),!n.PM(u+1));var o=n.An(i-1);return o!==1/0&&(r.push(o,1/0),e.push(!n.IM(i-1),!1)),new t(r,e)},n.MM=function(n){for(var i=0,r=0,e=this.V,s=n.V,u=new Array(2*(e+s)),o=new Array(2*(e+s)),h=0;i<e&&r<s;){var c=this.Tn(i),a=this.An(i),f=n.Tn(r),v=n.An(r);c<f||c===f&&a<v?(u[h]=c,u[h+1]=a,o[h]=this.PM(i),o[h+1]=this.IM(i),i++):(u[h]=f,u[h+1]=v,o[h]=n.PM(r),o[h+1]=n.IM(r),r++),h+=2}for(;i<e;)u[h]=this.Tn(i),u[h+1]=this.An(i),o[h]=this.PM(i),o[h+1]=this.IM(i),i++,h+=2;for(;r<s;)u[h]=n.Tn(r),u[h+1]=n.An(r),o[h]=n.PM(r),o[h+1]=n.IM(r),r++,h+=2;return new t(u,o)},n.LM=function(n){void 0===n&&(n=0);var i=this.V;if(i<2)return this;for(var r=[],e=[],s=this.Tn(0),u=this.An(0),o=this.PM(0),h=this.IM(0),c=1;c<i;c++){var a=this.Tn(c),f=this.An(c),v=this.PM(c),d=this.IM(c);s<a&&u>f||(s===a&&(o=v=o||v),u===f&&(h=d=h||d),AA(a,u+n,h||v)?(u=f,h=d):(r.push(s,u),e.push(o,h),s=a,u=f,o=v,h=d))}return r.push(s,u),e.push(o,h),new t(r,e).NM()},n.NM=function(){for(var n=[],i=[],r=0;r<this.V;r++){var e=this.Tn(r),s=this.An(r),u=this.PM(r),o=this.IM(r);e===s?(u||o)&&(n.push(e,s),i.push(!0,!0)):(n.push(e,s),i.push(u,o))}return new t(n,i)},n.OM=function(t){return 0===this.V?t:0===t.V?this:this.MM(t).LM()},n.FM=function(t){var n=this.NM(),i=t.NM(),r=n.BM(),e=i.BM(),s=r.Mn(i),u=e.Mn(n);return s.OM(u)},n.Ny=function(n){if(0===this.V||0===n)return this;for(var i=[],r=[],e=0;e<this.V;e++){var s=this.Tn(e)+n,u=this.An(e)+n;i.push(s,u),r.push(this.PM(e),this.IM(e))}return new t(i,r)},n.UM=function(t){return 0===this.V||0===t.V?this:this.NM().Mn(t.NM().BM())},n.Cr=function(t,n){return this.VM(t,n)>=0},n.HM=function(t,n,i,r,e){return this.WM(t,n,i,r,e)>=0},n.qM=function(t,n,i,r,e){return this.zM(t,n,i,r,e)>=0},n.GM=function(t){if(t.V!==this.V)return!1;for(var n=0;n<this.V;n++)if(this.Tn(n)!==t.Tn(n)||this.An(n)!==t.An(n)||this.PM(n)!==t.PM(n)||this.IM(n)!==t.IM(n))return!1;return!0},n.XM=function(n){for(var i=[],r=[],e=0;e<this.V;e++){var s=this.Tn(e),u=this.An(e),o=this.PM(e),h=this.IM(e);n(s,u,o,h)&&(i.push(s,u),r.push(o,h))}return new t(i,r)},n.zM=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!0),void 0===e&&(e=0);for(var s=t-e,u=n+e,o=0;o<this.V;o+=1)if(AA(this.Tn(o),u,!r||this.PM(o))&&AA(s,this.An(o),!i||this.IM(o)))return o;return-1},n.WM=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!1),void 0===e&&(e=0);for(var s=t+e,u=n-e,o=0;o<this.V;o+=1)if(AA(this.Tn(o),s,!i||this.PM(o))&&AA(u,this.An(o),!r||this.IM(o)))return o;return-1},n.VM=function(t,n){return this.WM(t,t,!0,!0,n)},n.jM=function(t,n){void 0===n&&(n=0);for(var i=t+n,r=this.V-1;r>=0;r-=1)if(AA(this.Tn(r),i,this.PM(r)))return r;return-1},n.QM=function(t,n){void 0===n&&(n=0);for(var i=t-n,r=0;r<this.V;r+=1)if(AA(i,this.An(r),this.IM(r)))return r;return-1},n.KM=function(t,n){void 0===n&&(n=0);for(var i=t+n,r=0;r<this.V;r+=1)if(this.Tn(r)>i)return r;return-1},n.YM=function(n){return this.RM(n),new t([this.Tn(n),this.An(n)],[this.PM(n),this.IM(n)])},n.JM=function(t,n){var i=this.VM(t,n);return i<0?void 0:this.YM(i)},t.jn=function(n){for(var i=[],r=0;r<n.length;r++)i.push(n.start(r),n.end(r));return new t(i)},t.$M=function(n){return new t([n,n],[!0,!0])},t.tL=function(n,i){return n<=i?new t([n,i]):t.iL()},t.iL=function(){return SA},t.eL=function(){return EA},Nt(t,[{key:"kM",get:function(){return this.EM.slice()}},{key:"ZM",get:function(){for(var t=0,n=0;n<this.V;n++){t+=this.An(n)-this.Tn(n)}return t}}]),t}(),SA=new TA([]),EA=new TA([0,1/0]),IA=.92,RA=1.08,CA=.25,DA=function(t){function n(n,i,r){var e,s;return(e=t.call(this)||this).oa=void 0,e.TL=void 0,e.ho=!1,e.We=!1,e.vL=void 0,e.rL=void 0,e.wL=void 0,e.yL=void 0,e.fL=void 0,e.oL=[],e.SL=!1,e.lL=0,e.fE=void 0,e.pL=0,e.gL=1/0,e.kL=void 0,e.EL=void 0,e.xL=function(){var t=e.TL.IP,n=e.TL.MP,i=t.JM(n);i&&(e.lL=Ti(i.An(0)-n,e.lL,.5),e.aL())},e.IL=function(){e.SL=!0,e.oa.mn(Ey.TM,e.IL),e.We&&e.Tn()},e.dL=function(){e.bL(),e.AL();var t=e.DL;if(t){var n=e.NL();if(t>e.rL.forceSeekOffset)return e.So(new rh("latencyrecoveryseek")),void e.oR();var i=e.rL,r=i.minimumOffset,s=i.targetOffset,u=i.maximumOffset,o=e.TL.ux;if(!e.ML(n,r,u))if(n>u&&e.LL()){var h=e.rL.maximumPlaybackRate;bA,e.PL(h)}else if(n<r&&!Vn.Zs.pp){var c=e.rL.minimumPlaybackRate;bA,e.PL(c)}else if(o>1&&n<s){bA,e.PL(1)}else if(o<1&&n>s){bA,e.PL(1)}}},e.oa=n,e.TL=i,e.fL=r,e.wL=r.targetOffset,e.yL=r.targetOffset+(null!=(s=r.leniency)?s:0),e.vL=r.targetOffset,e.rL=e.cL(),e.oa.wn(Ey.SM,e.xL),e.oa.wn(Ey.TM,e.IL),e}Ct(n,t);var i=n.prototype;return i.hL=function(t){this.oL.push(t),this.aL()},i.uL=function(t){Xi(this.oL,t),this.aL()},i.aL=function(){this.rL=this.cL(),this.ho&&this.dL()},i.cL=function(){var t=this.lL,n=function(t,n){var i=n-t.targetOffset;return{minimumOffset:t.minimumOffset+i,targetOffset:t.targetOffset+i,maximumOffset:t.maximumOffset+i,forceSeekOffset:t.forceSeekOffset+i,minimumPlaybackRate:t.minimumPlaybackRate,maximumPlaybackRate:t.maximumPlaybackRate,leniency:t.leniency}}(this.fL,this.vL),i=[].concat([n],this.oL),r=i.reduce(function(t,n){var i;return b.max(t,null!=(i=null==n?void 0:n.minimumOffset)?i:0)},t),e=i.reduce(function(t,n){var i;return b.max(t,null!=(i=null==n?void 0:n.targetOffset)?i:0)},r+CA),s=i.reduce(function(t,n){var i;return b.max(t,null!=(i=null==n?void 0:n.maximumOffset)?i:0)},e+CA);return{minimumOffset:r,targetOffset:e,maximumOffset:s,forceSeekOffset:i.reduce(function(t,n){var i;return b.max(t,null!=(i=null==n?void 0:n.forceSeekOffset)?i:0)},s+CA),minimumPlaybackRate:i.reduce(function(t,n){var i;return b.min(t,null!=(i=n.minimumPlaybackRate)?i:IA)},IA),maximumPlaybackRate:i.reduce(function(t,n){var i;return b.max(t,null!=(i=n.maximumPlaybackRate)?i:RA)},RA)}},i._L=function(){var t,n=null==(t=TA.jn(this.oa.IP).JM(this.oa.MP))?void 0:t.An(0),i=void 0!==n?n-this.oa.MP:0;this.gL=b.min(this.gL,i),this.pL+=1},i.mL=function(){if(!(this.pL<10)){var t=.25-this.gL,n=Ti(this.vL+t,this.vL-.1,this.vL+.1);this.vL=Ti(n,this.wL,this.yL),this.gL=1/0,this.pL=0}},i.AL=function(){var t=this;this.bL(),this.fE=Vn.Og(function(){return t.dL()},500)},i.bL=function(){void 0!==this.fE&&(Vn.Lg(this.fE),this.fE=void 0)},i.Tn=function(){var t=this;this.We&&this.SL&&(this.ho||this.TL.wn(eh._y,this.dL),this.kL=Vn.fm(function(){return t._L()},1e3),this.EL=Vn.fm(function(){return t.mL()},6e4),this.AL(),this.ho=!0)},i.Xx=function(){this.ho&&(this.bL(),this.kL&&Vn.vm(this.kL),this.EL&&Vn.vm(this.EL),this.TL.mn(eh._y,this.dL),this.PL(1),this.ho=!1)},i.zg=function(){this.Xx(),this.oa.mn(Ey.SM,this.xL),this.oa.mn(Ey.TM,this.IL),this.Vo()},i.PL=function(t){this.TL.CL.RL||this.oa.ux!==t&&(this.oa.ux=t)},Nt(n,[{key:"sL",get:function(){return this.We&&this.ho}},{key:"nL",get:function(){return this.rL}},{key:"Rt",get:function(){return this.We},set:function(t){this.We=t,t?this.Tn():this.Xx()}},{key:"DL",get:function(){return this.oa.BL}}]),n}(th),PA=.66,NA=1.5,BA=3;function xA(t){if(Un(t)){var n,i,r,e,s,u,o=Vn.Zs.mp?10:0,h=t.targetOffset;return{minimumOffset:null!=(n=t.minimumOffset)?n:h*PA,targetOffset:h,maximumOffset:null!=(i=t.maximumOffset)?i:h*NA,forceSeekOffset:b.max(null!=(r=t.forceSeekOffset)?r:h*BA,o),minimumPlaybackRate:null!=(e=t.minimumPlaybackRate)?e:IA,maximumPlaybackRate:null!=(s=t.maximumPlaybackRate)?s:RA,leniency:null!=(u=t.leniency)?u:void 0}}}var OA=function(t){return t.OL="auto",t.FL="always",t.UL="never",t.CLEAR_ONLY="clear-only",t.SAME_DRM_ONLY="same-drm-only",t}({}),MA=function(t){return t.UPLYNK="uplynk",t.MEDIATAILOR="mediatailor",t}({});function LA(t){if(!t||!qn(t))return"auto";switch(t){case"always":return"always";case"never":return"never";case"clear-only":return"clear-only";case"same-drm-only":return"same-drm-only";default:return"auto"}}F(),Et(),F(),Et();var UA=function(t){return t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled",t}({});F(),Et();var FA=!1;F(),Et();var VA=function(t){return t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll",t}({});function HA(t){var n=null==t?void 0:t.match(/\b(?:m3u8|mpd)\b/i);if(!n)return hA.fR;switch(n[0].toLowerCase()){case"mpd":return hA.cR;case"m3u8":return hA.dR;default:return hA.fR}}function WA(t){switch(t){case oA.aR:case oA.uR:return t;default:return oA.Lk}}function zA(t){if(!t)return!1;var n=t.toLowerCase();return Uo(n,hA.cR)}function XA(t){if(!t)return!1;var n=t.toLowerCase();return Uo(n,hA.dR)||Uo(n,hA.lR)}function qA(t){return zn(t)&&zn(t.ssai)&&"google-dai"===t.ssai.integration}function GA(t){return zn(t)&&"uplynk"===t.integration}function jA(t){return zn(t)&&"theolive"===t.type}function QA(t){return zn(t)&&"mediatailor"===t.integration}function YA(t){return zn(t)&&"millicast"===t.type}function KA(t){if(qn(t))return!t;if(GA(t))return!t.id;if(qA(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,r="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&r)}return YA(t)?!t.src||!t.streamAccountId:!t.src}function JA(t){return Boolean(zn(t)&&qn(t.src))}function ZA(t){return t.type===hA.vR||t.type===hA._R}function $A(t){return qn(t)||JA(t)||qA(t)||GA(t)||YA(t)}function tT(t){if(t){if($A(t))return KA(t);for(var n,i=Lt(t);!(n=i()).done;){if(!KA(n.value))return!1}return!0}return!0}function nT(){return{crossOrigin:oA.Lk,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,useManagedMediaSource:!1,dash:void 0,hls:void 0,abr:void 0,lcevc:void 0,ignoreEmbeddedTextTrackTypes:[],seamlessSwitchStrategy:OA.OL,latencyConfiguration:void 0}}function iT(){return Yu({},nT(),{src:void 0,type:hA.fR,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function rT(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:UA.ENABLED,googleIma:{useNativeIma:!1,useAdUiElementForSsai:!0,bitrate:-1,language:void 0,uiElements:void 0,allowSeekingForGoogleDai:!1},theoads:FA,allowSkipAdBreak:!1};return void 0===t||(void 0!==t.preload&&(n.preload=function(t){return"none"===t?VA.NONE:VA.MIDROLL_AND_POSTROLL}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=Vw(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return UA.INSECURE;case"disabled":return UA.DISABLED;default:return UA.ENABLED}}(t.vpaidMode)),Hn(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(qn)),void 0!==t.googleIma&&(n.googleIma=function(t){return void 0===t?{useNativeIma:!1,useAdUiElementForSsai:!0,bitrate:-1,language:void 0,uiElements:void 0,allowSeekingForGoogleDai:!1}:{useNativeIma:Vw(t.useNativeIma),useAdUiElementForSsai:null==(n=Hw(t.useAdUiElementForSsai))||n,bitrate:null!=(i=t.bitrate)?i:-1,language:Un(t.language)?Xw(t.language):void 0,uiElements:t.uiElements,allowSeekingForGoogleDai:Vw(t.allowSeekingForGoogleDai)};var n,i}(t.googleIma)),void 0!==t.theoads?n.theoads=Vw(t.theoads):n.theoads=FA,n.allowSkipAdBreak=Vw(t.allowSkipAdBreak)),n}function eT(t){if(!Wn(t))return[];for(var n,i=[],r=Lt(t);!(n=r()).done;){var e=n.value;zn(e)&&i.push(e)}return i}function sT(t){return qn(t.src)||YA(t)}function uT(t){return Hn(t)?t.filter(Pg):[]}F(),Et(),Dt();var oT=function(t){function n(n,i){var r;return void 0===i&&(i=Cy.VL),(r=t.call(this,eh.Cw)||this).currentTime=void 0,r.readyState=void 0,r.currentTime=n,r.readyState=i,r}return Ct(n,t),n}(rh);F(),Et(),Dt();var hT=function(t){function n(n){var i;return(i=t.call(this,eh.jw)||this).currentTime=void 0,i.currentTime=n,i}return Ct(n,t),n}(rh);F(),Et(),Dt();var cT=function(t){function n(n){var i;return(i=t.call(this,eh.uo)||this).currentTime=void 0,i.currentTime=n,i}return Ct(n,t),n}(rh);F(),Et(),Dt();var aT=function(t){function n(n){var i;return(i=t.call(this,eh.Rw)||this).duration=void 0,i.duration=n,i}return Ct(n,t),n}(rh);F(),Et(),Dt();var fT=function(t){function n(n,i){var r;return(r=t.call(this,eh.Kw)||this).currentTime=void 0,r.playbackRate=void 0,r.currentTime=n,r.playbackRate=i,r}return Ct(n,t),n}(rh);F(),Et(),Dt();var vT=function(t){function n(n){var i;return(i=t.call(this,eh.Bw)||this).currentTime=void 0,i.currentTime=n,i}return Ct(n,t),n}(rh);F(),Et(),Dt();var dT=function(t){function n(n){var i;return(i=t.call(this,eh.$w)||this).currentTime=void 0,i.currentTime=n,i}return Ct(n,t),n}(rh);F(),Et(),Dt();var lT=function(t){function n(n){var i;return(i=t.call(this,eh.Zw)||this).currentTime=void 0,i.currentTime=n,i}return Ct(n,t),n}(rh);F(),Et(),Dt();var wT=function(t){function n(n,i){var r;return(r=t.call(this,eh.gy)||this).currentTime=void 0,r.volume=void 0,r.currentTime=n,r.volume=i,r}return Ct(n,t),n}(rh);function gT(){return Vt(function(t,n,i,r,e){var s,u,o;return zt(this,function(h){switch(h.label){case 0:void 0===i&&(i=3),void 0===r&&(r=1e3),void 0===e&&(e=1/0),s=0,h.label=1;case 1:0,h.label=2;case 2:return h.trys.push([2,4,,7]),[4,t(n)];case 3:return[2,h.sent()];case 4:return lr(u=h.sent()),s<i?(o=b.min(r*b.pow(2,s),e),s++,[4,Ar(o,n)]):[3,6];case 5:return h.sent(),[3,1];case 6:throw u;case 7:return[3,1];case 8:return[2]}})}).apply(this,arguments)}F(),Et(),Wt(),Qt();var _T={maxRetries:void 0,minimumBackoff:200,maximumBackoff:3e4},mT=Yu({},_T,{maxRetries:1/0});F(),Et();var yT=function(t){return t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture",t.NATIVE_PICTURE_IN_PICTURE="native-picture-in-picture",t}({}),pT=function(t){return t.NONE="none",t.ALL="all",t.CONTENT="content",t}({});function kT(t){switch(t){case"all":case"content":return t;default:return"none"}}function bT(t){var n=Ow(t||{});return n.libraryLocation&&(n.libraryLocation=Sl(n.libraryLocation,!0)),n.isEmbeddable=Boolean(n.isEmbeddable),n.cast=function(t){var n=uA(t?t.chromecast:void 0),i=function(t){switch(t){case"auto":return"auto";case"manual":default:return"manual";case"disabled":return"disabled"}}(t?t.strategy:void 0);return{chromecast:n,strategy:i}}(n.cast),n.ads=rT(n.ads),n.analytics=eT(n.analytics),n.mutedAutoplay=kT(n.mutedAutoplay),n.allowNativeFullscreen=Boolean(n.allowNativeFullscreen),n.allowMixedContent=Boolean(n.allowMixedContent),n.persistVolume=Boolean(n.persistVolume),n.liveOffset=function(t){return Number(t)||void 0}(n.liveOffset),n.hlsDateRange=function(t){return Boolean(t)}(n.hlsDateRange),n.retainPlaybackRateOnSourceChange=Boolean(n.retainPlaybackRateOnSourceChange),n.license=function(t){return qn(t)?t:void 0}(n.license),n.licenseUrl=function(t){if(!t)return;try{return Sl(t)}catch(t){return void Vn.um("Invalid 'licenseUrl', falling back to default URL")}}(n.licenseUrl),n.abr=_A(n.abr),n.retryConfiguration=function(t){var n=Yu({},_T);return void 0!==t&&(void 0!==t.maxRetries&&(n.maxRetries=Number(t.maxRetries)),void 0!==t.minimumBackoff&&(n.minimumBackoff=Number(t.minimumBackoff)),void 0!==t.maximumBackoff&&(n.maximumBackoff=Number(t.maximumBackoff))),n}(n.retryConfiguration),n.hideDeprecationWarnings=Boolean(n.hideDeprecationWarnings),n.theoLive=function(t){if(!t)return t;return Yu({},t,{externalSessionId:t.externalSessionId?Xw(t.externalSessionId):void 0,fallbackEnabled:Hw(t.fallbackEnabled)})}(n.theoLive),n.ps5=function(t){var n;return Yu({},t,{playMode:"2K"===(null==t?void 0:t.playMode)?"2K":"4K",passThrough:null==(n=Hw(null==t?void 0:t.passThrough))||n})}(n.ps5),n}function AT(t){return{bt:t.bt,MP:t.MP,ct:t.ct,UP:t.UP,lt:t.lt,WP:t.WP,$P:t.$P,hx:t.hx,ux:t.ux,Ax:t.Ax,kx:t.kx,Rx:t.Rx,Bx:t.Bx,Mx:t.Mx}}function TT(t,n){var i=n.Mx,r=n.$P;t.Mx=i,t.$P=r}function ST(t,n,i){if(n!==i){var r=n.bt!==i.bt,e=n.MP,s=n.ct,u=n.$P,o=n.hx,h=n.ux,c=n.Ax,a=n.kx,f=(n.Bx,n.Rx,n.Mx),v=i.MP,d=i.ct,l=i.UP,w=i.WP,g=i.$P,_=i.hx,m=i.ux,y=i.Ax,p=i.kx,k=(i.Bx,i.Rx,i.Mx);(r||c>Cy.VL&&y===Cy.VL)&&t.So(new oT(v,y)),_&&!o?t.So(new hT(v)):!_&&o&&t.So(new cT(v)),y>=Cy.Qn&&(r||c<Cy.Qn)&&t.So(new Dy(v,y)),d===s||S(d)&&S(s)||t.So(new aT(d)),m!==h&&t.So(new fT(v,m)),v!==e&&t.So(new pw(v,void 0)),l&&t.So(new vT(v)),y>=Cy.HL&&(r||c<Cy.HL)&&t.So(new Py(v,y)),p&&!a?t.So(new dT(v)):!p&&a&&t.So(new lT(v)),k===f&&g===u||t.So(new wT(v,k)),y>=Cy.WL&&(r||c<Cy.WL)&&t.So(new By(v,y)),y>=Cy.qL&&(r||c<Cy.qL)&&t.So(new xy(v,y)),y!==c&&t.So(new Ry(v,y)),w&&t.So(new _b(w))}}function ET(t){switch(t){case yT.INLINE:case yT.FULLSCREEN:case yT.PICTURE_IN_PICTURE:case yT.NATIVE_PICTURE_IN_PICTURE:return t;default:return}}F(),Et(),Dt();var IT=function(t){function n(n){var i;return(i=t.call(this,eh.xw)||this).currentSource=void 0,i.currentSource=n,i}return Ct(n,t),n}(rh);F(),Et(),Dt();var RT=function(t){function n(){return t.call(this,eh.Nw)||this}return Ct(n,t),n}(rh);F(),Et(),Dt();var CT=function(t){function n(){return t.call(this,eh.Lw)||this}return Ct(n,t),n}(rh);F(),Et(),Bt(),Dt(),F(),Et(),Dt(),F(),Et();var DT=function(t){return t.zL="enterpictureinpicture",t.GL="exitpictureinpicture",t.ma="pictureinpictureerror",t}({}),PT=function(t){function n(){return t.call(this,DT.zL)||this}return Ct(n,t),n}(rh);F(),Et(),Dt();var NT=function(t){function n(){return t.call(this,DT.GL)||this}return Ct(n,t),n}(rh),BT=function(t){function n(n){var i;return(i=t.call(this)||this).NI=void 0,i.NI=n,i.OI(i.NI),i}Ct(n,t);var i=n.prototype;return i.OI=function(t){t.wn(DT.zL,this.Rs),t.wn(DT.GL,this.Rs),t.wn(DT.ma,this.Rs)},i.MI=function(t){t.mn(DT.zL,this.Rs),t.mn(DT.GL,this.Rs),t.mn(DT.ma,this.Rs)},i.yo=function(){return this.NI.yo()},i.jo=function(){return this.NI.jo()},i.kn=function(t){this.Vo(),this.MI(this.NI),t||this.NI.kn()},Nt(n,[{key:"BI",get:function(){return this.NI},set:function(t){if(t!==this.NI){this.MI(this.NI);var n=this.NI.XL;this.NI=t,this.OI(t),!n&&this.NI.XL?this.So(new PT):n&&!this.NI.XL&&this.So(new NT)}}},{key:"jL",get:function(){return this.NI.jL}},{key:"XL",get:function(){return this.NI.XL}}]),n}(th);F(),Et(),Bt(),Dt(),F(),Et(),Bt(),Dt();var xT=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).hu=void 0,n}return Ct(n,t),n.prototype.QL=function(t){return{}},Nt(n,[{key:"Ca",get:function(){var t;return null!=(t=this.hu)?t:this.hu=OT(this)}}]),n}(th);function OT(t){return{diagnose:function(n){return t.QL(n)},addEventListener:function(n,i){t.wn(LT(n),i)},removeEventListener:function(n,i){t.mn(LT(n),i)}}}var MT=["stats"];function LT(t){var n=Gw(t,Xw);return(qn(n)?[n]:n).filter(function(t){return ji(MT,t)})}var UT=function(t){function n(){var n;return(n=t.call(this)||this).NI=void 0,n.hu=void 0,n.NI=void 0,n}Ct(n,t);var i=n.prototype;return i.OI=function(t){t.wn(MT,this.Rs)},i.MI=function(t){t.mn(MT,this.Rs)},i.QL=function(t){var n,i;return null!=(i=null==(n=this.NI)?void 0:n.QL(t))?i:{}},i.kn=function(){this.Vo(),this.NI&&this.MI(this.NI),this.NI=void 0},Nt(n,[{key:"BI",get:function(){return this.NI},set:function(t){var n=this.NI;t!==n&&(n&&this.MI(n),t&&this.OI(t),this.NI=t)}},{key:"Ca",get:function(){return this.hu||(this.hu=OT(this)),this.hu}}]),n}(th),FT=function(t){function n(n){var i;return(i=t.call(this,n)||this).YL=new Jb,i.$L=new Jb,i.Gl=new Zb,i.KL=void 0,i.ZL=new rA,i.JL=new UT,i.KL=new BT(n.Aa()),i.YL.BI=n.ht,i.$L.BI=n.rt,i.Gl.BI=n.nt,i.ZL.BI=n.zP,i.JL.BI=n.jP,i}Ct(n,t);var i=n.prototype;return i.Aa=function(){return this.KL},i.EP=function(){return this.YL},i.GP=function(){return this.ZL},i.QP=function(){return this.JL},i.Ix=function(){return this.Gl},i.Dx=function(){return this.$L},i.tO=function(t){var n=this.PP;if(n!==t){n.mw(this.iI);var i=AT(this),r=this.NP(),e=this.Hx(),s=this.Wx();this.PP=t,this.YL.BI=t.ht,this.$L.BI=t.rt,this.Gl.BI=t.nt,this.KL.BI=t.Aa(),this.ZL.BI=t.zP,this.JL.BI=t.jP,void 0!==i&&ST(this,i,this);var u=this.NP();u!==r&&this.So(new IT(u)),this.Hx()!==e&&this.So(new RT),this.Wx()!==s&&this.So(new CT),t.lw(this.iI)}},i.kn=function(){var n=this;return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return[4,t.prototype.kn.call(n)];case 1:return i.sent(),this.KL.kn(),this.YL.kn(),this.$L.kn(),this.Gl.kn(),this.ZL.kn(),this.JL.kn(),[2]}})}).call(this)},Nt(n,[{key:"zP",get:function(){return this.GP()}},{key:"jP",get:function(){var t;return null!=(t=this.QP())?t:this.JL}}]),n}(Yb);F(),Et(),Ut();var VT=function(t){function n(n){var i;return(i=t.call(this,n)||this).oO=[],i.ko=!1,i.cO=!1,i.aO(n),i}Ct(n,t);var i=n.prototype;return i.ZP=function(){return function(t){for(var n,i=0,r=0,e=0,s=0,u=0,o=0,h=0,c=Lt(t);!(n=c()).done;){var a=n.value;i+=a.iO,r+=a.eO,e+=a.sO,s+=a.nO,u+=a.rO,o+=a.hO.amountOfBufferedAudioSegments,h+=a.hO.amountOfBufferedVideoSegments}return{iO:i,eO:r,sO:e,nO:s,rO:u,hO:{amountOfBufferedAudioSegments:o,amountOfBufferedVideoSegments:h}}}(this.oO.map(function(t){return t.JP}))},i.Xx=function(){return br(this.oO.map(function(t){return t.Xx()})).then(di)},i.hr=function(){return br(this.oO.map(function(t){return t.hr()})).then(di)},i.qx=function(){if(!this.ko){for(var t,n=Lt(this.oO);!(t=n()).done;){t.value.qx()}this.ko=!0}},i.xP=function(){for(var t,n=[],i=Lt(this.oO);!(t=i()).done;){var r,e=t.value;(r=n).push.apply(r,[].concat(e.xP()))}return n},i.Zx=function(t){for(var n,i=!1,r=Lt(this.oO);!(n=r()).done;){i=n.value.Zx(t)||i}return i},i.So=function(n){this.Zx(n)||t.prototype.So.call(this,n)},i.aO=function(t){this.oO.push(t)},i.uO=function(t){Xi(this.oO,t)},i.tO=function(n){if(n!==this.PP){var i=this.PP;i.mr(),t.prototype.tO.call(this,n),n.gr(i)}},i.Yx=function(){for(var t,n=Lt(this.oO);!(t=n()).done;){t.value.Yx()}},i.kn=function(){var n=this;return Vt(function(){var i,r,e;return zt(this,function(s){switch(s.label){case 0:this.Vo(),this.PP.mr(),i=Lt(this.oO),s.label=1;case 1:return(r=i()).done?[3,4]:(e=r.value,this.PP===e?[3,3]:[4,e.kn()]);case 2:s.sent(),s.label=3;case 3:return[3,1];case 4:return[4,t.prototype.kn.call(n)];case 5:return s.sent(),[2]}})}).call(this)},Nt(n,[{key:"BI",get:function(){return this.PP},set:function(t){this.tO(t)}}]),n}(FT);F(),Et(),Wt(),Bt(),Dt(),Qt(),F(),Et(),Wt(),Dt(),Ut(),Qt(),F(),Et(),Bt(),Ut();var HT=function(){function t(){this.$q=new Bb,this.Zq=[]}var n=t.prototype;return n.Jq=function(t){this.Zq.push(t)},n.PR=function(t,n,i,r,e,s,u){for(var o,h=this.$q.PR(t,n,i,r,e,s,u),c=Lt(this.Zq);!(o=c()).done;){h=(0,o.value)(h,i,r)}return h},n.Xq=function(t,n){return this.$q.Xq(t,n)},n.jq=function(t){return this.$q.jq(t)},n.Qq=function(){return!1},t.Yq=function(){return this.Ng},Nt(t,[{key:"Kq",get:function(){return this.$q.Kq}}]),t}();function WT(t,n){return Bi(t.Kq,n.Kq)}HT.Ng=new HT,F(),Et(),Wt(),Ut(),Qt(),F(),Et();var zT=function(){function t(){this.iz=[]}var n=t.prototype;return n.tz=function(t){this.iz.push(t),this.iz.sort(WT)},n.ez=function(t,n){return Vt(function(){var i,r,e,s,u;return zt(this,function(o){switch(o.label){case 0:i=Lt(this.iz),o.label=1;case 1:return(r=i()).done?[3,6]:(e=r.value,jn(s=e.Xq(t,n))?[4,s]:[3,3]);case 2:return u=o.sent(),[3,4];case 3:u=Boolean(s),o.label=4;case 4:if(u)return[2,e];o.label=5;case 5:return[3,1];case 6:return[2,void 0]}})}).call(this)},t}();function XT(t){qT.Ng.tz(t)}F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et();var qT=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).rz=HT.Yq(),n}Ct(n,t);var i=n.prototype;return i.nz=function(t){this.rz=t},i.oz=function(){return this.rz},i.cz=function(t,n){return Vt(function(){var i,r,e,s,u,o,h,c,a,f;return zt(this,function(v){switch(v.label){case 0:i=this.rz,r=!1,e=Lt(t),v.label=1;case 1:return(s=e()).done?[3,12]:(u=s.value,[4,this.ez(u,n)]);case 2:return(o=v.sent())?(h=_p(u.contentProtection))?[3,4]:[4,o.jq(u.contentProtection)]:[3,5];case 3:h=v.sent(),v.label=4;case 4:if(h)return[2,{Mc:u,t:o}];u.contentProtection&&(r=!0),v.label=5;case 5:return jn(c=i.Xq(u,n))?[4,c]:[3,7];case 6:return a=v.sent(),[3,8];case 7:a=Boolean(c),v.label=8;case 8:return a?(f=_p(u.contentProtection))?[3,10]:[4,i.jq(u.contentProtection)]:[3,11];case 9:f=v.sent(),v.label=10;case 10:if(f)return[2,{Mc:u,t:i}];u.contentProtection&&(r=!0),v.label=11;case 11:return[3,1];case 12:return r?[4,Vn._m()]:[3,14];case 13:throw v.sent()?new fd(cd.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported."):new fd(cd.CONTENT_PROTECTION_NOT_SUPPORTED,"The DRM configuration is not supported by this platform.");case 14:return[2,{Mc:t[0],t:i}]}})}).call(this)},n}(zT);qT.Ng=new qT,F(),Et();var GT=function(){function t(t){this.Ls=void 0,this.Ls=f&&f.document&&f.document.createElement("div"),ci(this.Ls),t.appendChild(this.Ls)}return t.prototype.kn=function(){$n(this.Ls)},t}();F(),Et(),Wt(),Bt(),Dt(),Qt(),F(),Et();var jT=function(t){return t.TW="",t.lz="none",t.VU="metadata",t.OL="auto",t}({});var QT=[zm.ma,eh.Cw,eh.Dw,eh.Sy,eh.yw,eh.Nw,eh.Lw,eh.Gw,eh.Xw,eh.oy,eh.ly,Ey.wM,Ey.yM,Ey.AM,Ey.bM,Ey.wI,Ey.SM,Ey.TM,eh.Ew,eh.Pw,eh.Rw,eh.Bw,eh.Ww,eh.qw,eh.uo,eh.Qw,eh.jw,eh.Kw,eh.Jw,eh.$w,eh.Zw,eh._y,eh.gy,eh.Yw,eh.zw,eh.iy,eh.ey],YT=function(t){function n(n,i){var r;return(r=t.call(this)||this).pz=void 0,r.mz=void 0,r.oa=void 0,r.fz=void 0,r.tq=jT.lz,r.gz=void 0,r.yz=!0,r.YL=new Jb,r.$L=new Jb,r.Gl=new Zb,r.KL=void 0,r.ZL=new rA,r.JL=new UT,r.pz=n,r.oa=i,r.oa.mx=r.mx,r.KL=new BT(i.Aa()),r.vz(),r}Ct(n,t);var i=n.prototype;return i.zx=function(){this.oa.zx()},i.Gx=function(){var t=this.oa.Gx();jn(t)&&kr(t)},i.Xx=function(){return this.Ta(void 0)},i.qx=function(){},i.vz=function(){this.KL.BI=this.oa.Aa(),this.YL.BI=this.oa.ht,this.$L.BI=this.oa.rt,this.Gl.BI=this.oa.nt,this.ZL.BI=this.oa.zP,this.JL.BI=this.oa.jP,this.oa.wn(QT,this.Rs)},i._z=function(){this.oa.mn(QT,this.Rs),this.YL.BI=void 0,this.$L.BI=void 0,this.Gl.BI=void 0,this.ZL.BI=void 0,this.JL.BI=void 0},i.nu=function(){return this.gz},i.Ta=function(t,n){return Vt(function(){var i,r,e,s,u,o;return zt(this,function(h){switch(h.label){case 0:return dr(n),this.gz=t,t?tT(i=t.sources.filter(sT))?[2]:[4,this.pz.cz(i,t)]:[2];case 1:return r=h.sent(),dr(n),e=r.Mc,s=r.t,u=this.Hx(),o=AT(this),this.mz!==s||this.lt?(this._z(),[4,this.oa.kn()]):[3,3];case 2:h.sent(),dr(n),this.mz=s,this.oa=this.wz(s,e),function(t,n){t.$P!==n.$P&&(t.$P=n.$P);t.Mx!==n.Mx&&(t.Mx=n.Mx);t.ux!==n.ux&&(t.ux=n.ux)}(this.oa,o),ST(this,o,this),this.vz(),h.label=3;case 3:return this.oa.mx=this.mx,this.yz?this.oa.be():this.oa.we(),[4,this.oa.Ta(e,t,n)];case 4:return h.sent(),dr(n),this.Az(e),this.Hx()!==u&&this.So(new RT),[2]}})}).call(this)},i.Px=function(t,n,i){return Vt(function(){var r,e,s,u;return zt(this,function(o){switch(o.label){case 0:return dr(i),tT(r=t.sources.filter(sT))?[2]:[4,this.pz.cz(r,t)];case 1:return e=o.sent(),dr(i),s=e.Mc,u=e.t,this.mz!==u||this.lt?[2]:[4,this.oa.Px(s,t,n,i)];case 2:return o.sent(),[2]}})}).call(this)},i.xx=function(){return this.oa.xx()},i.Az=function(t){this.fz!==t&&(this.fz=t,this.So(new IT(t)))},i.jx=function(){return this.oa.jx()},i.Qx=function(){this.oa.Qx()},i.Kx=function(){this.oa.Kx()},i.Hx=function(){return this.oa.Hx()},i.Aa=function(){return this.KL},i.Yx=function(){this.oa.Yx()},i.Jx=function(){this.oa.Jx()},i.tI=function(t){return this.oa.tI(t)},i.hr=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.gz=void 0,this.Az(void 0),[4,this.oa.hr()];case 1:return t.sent(),[2]}})}).call(this)},i.kn=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.Vo(),[4,this.hr()];case 1:return t.sent(),[4,this.oa.kn()];case 2:return t.sent(),this.YL.kn(),this.$L.kn(),this.Gl.kn(),this.KL.kn(),this.ZL.kn(),this.JL.kn(),[2]}})}).call(this)},i.be=function(){this.yz=!0,this.oa.be()},i.we=function(){this.yz=!1,this.oa.we()},Nt(n,[{key:"ht",get:function(){return this.YL}},{key:"IP",get:function(){return this.oa.IP}},{key:"lt",get:function(){return this.oa.lt}},{key:"WP",get:function(){return this.oa.WP}},{key:"CP",get:function(){return this.oa.CP},set:function(t){this.oa.CP=t}},{key:"bt",get:function(){return this.fz}},{key:"MP",get:function(){return this.oa.MP},set:function(t){this.oa.MP=t}},{key:"ct",get:function(){return this.oa.ct}},{key:"UP",get:function(){return this.oa.UP}},{key:"zP",get:function(){return this.ZL}},{key:"jP",get:function(){return this.JL}},{key:"KP",get:function(){return this.oa.KP}},{key:"JP",get:function(){return this.oa.JP}},{key:"$P",get:function(){return this.oa.$P},set:function(t){this.oa.$P=t}},{key:"sx",get:function(){return this.oa.sx}},{key:"hx",get:function(){return this.oa.hx}},{key:"ux",get:function(){return this.oa.ux},set:function(t){this.oa.ux=t}},{key:"_x",get:function(){return this.oa._x}},{key:"mx",get:function(){return this.tq},set:function(t){this.tq=t,this.oa&&(this.oa.mx=this.tq)}},{key:"Ax",get:function(){return this.oa.Ax}},{key:"Sx",get:function(){return this.oa.Sx}},{key:"kx",get:function(){return this.oa.kx}},{key:"nt",get:function(){return this.Gl}},{key:"Rx",get:function(){return this.oa.Rx}},{key:"rt",get:function(){return this.$L}},{key:"Bx",get:function(){return this.oa.Bx}},{key:"Mx",get:function(){return this.oa.Mx},set:function(t){this.oa.Mx=t}},{key:"Fx",get:function(){return this.oa.Fx}},{key:"hq",get:function(){return this.oa.hq}}]),n}(ih);F(),Et(),Wt(),Bt(),Dt(),Qt(),F(),Et(),Wt(),Bt(),Dt(),Qt(),F(),Et(),Bt(),Dt(),F(),Et();var KT=function(t){return t.pa="fullscreenchange",t.ka="fullscreensupportchange",t.ma="fullscreenerror",t}({});F(),Et(),Dt();var JT=function(t){function n(){return t.call(this,KT.ma)||this}return Ct(n,t),n}(rh),ZT=(KT.pa,KT.ka,KT.ma,function(t){function n(){return t.apply(this,arguments)||this}Ct(n,t);var i=n.prototype;return i.yo=function(){this.So(new JT)},i.jo=function(){},i.kn=function(){this.Vo()},Nt(n,[{key:"ds",get:function(){return!1}},{key:"ca",get:function(){return!1}}]),n}(th));F(),Et(),Wt(),Bt(),Dt(),Qt(),F(),Et(),Dt();var $T=function(t){function n(){return t.call(this,DT.ma)||this}return Ct(n,t),n}(rh),tS=function(t){function n(){return t.apply(this,arguments)||this}Ct(n,t);var i=n.prototype;return i.yo=function(){return Vt(function(){return zt(this,function(t){return this.So(new $T),[2]})}).call(this)},i.jo=function(){return Vt(function(){return zt(this,function(t){return this.So(new $T),[2]})}).call(this)},i.kn=function(){this.Vo()},Nt(n,[{key:"jL",get:function(){return!1}},{key:"XL",get:function(){return!1}}]),n}(th),nS=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).bz=0,n.Tz=!1,n.kz=!0,n.Ez=1,n.Sz=!1,n.ib=1,n.ht=new ng,n.IP=TA.iL()._s(),n.ct=NaN,n.UP=!1,n.lt=void 0,n.WP=void 0,n.zP=void 0,n.jP=void 0,n.KP=!1,n.sx=!0,n._x=TA.iL()._s(),n.mx=jT.lz,n.Ax=Cy.VL,n.Sx=TA.iL()._s(),n.nq=void 0,n.nt=new Qm,n.Rx=0,n.rt=new ng,n.Bx=0,n.Fx=new Cb,n.oq=new bb,n.ha=new ZT,n.ea=new tS,n}Ct(n,t);var i=n.prototype;return i.OP=function(t,n){this.bz!==t&&(this.bz=t,this.Sz=!0,this.So(new dT(this.MP)))},i.be=function(){},i.we=function(){},i.Gx=function(){this.kz&&(this.kz=!1,this.So(new cT(this.MP)),this.So(new Ny(this.MP)))},i.zx=function(){this.kz||(this.kz=!0,this.So(new pw(this.MP,this.CP)),this.So(new hT(this.MP)))},i.Ta=function(t,n){return ut.resolve()},i.Px=function(t,n,i,r){return ut.resolve()},i.xx=function(){return ut.resolve()},i.jx=function(){return!1},i.Qx=function(){},i.Kx=function(){},i.Hx=function(){return this.ha},i.Aa=function(){return this.ea},i.tI=function(t){throw new y("Adding a CustomTextTrack is not supported without setting a source.")},i.Yx=function(){},i.Jx=function(){},i.hr=function(){return Vt(function(){return zt(this,function(t){return this.bz=0,this.Sz=!1,this.zx(),this.So(new oT(this.bz)),[2]})}).call(this)},i.kn=function(){return Vt(function(){return zt(this,function(t){return this.Vo(),this.ht.kn(),this.nt.kn(),this.rt.kn(),[2]})}).call(this)},Nt(n,[{key:"CP",get:function(){},set:function(t){}},{key:"bt",get:function(){}},{key:"MP",get:function(){return this.bz},set:function(t){this.OP(t)}},{key:"JP",get:function(){return{iO:0,eO:0,sO:0,nO:0,rO:0,hO:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"$P",get:function(){return this.Tz},set:function(t){this.Tz!==t&&(this.Tz=t,this.So(new wT(this.MP,this.Mx)))}},{key:"hx",get:function(){return this.kz}},{key:"ux",get:function(){return this.Ez},set:function(t){this.Ez!==t&&(this.Ez=t,this.So(new fT(this.MP,this.ux)))}},{key:"kx",get:function(){return this.Sz}},{key:"Mx",get:function(){return this.ib},set:function(t){this.ib!==t&&(this.ib=t,this.So(new wT(this.MP,this.Mx)))}},{key:"Vx",get:function(){return!1},set:function(t){}},{key:"hq",get:function(){return this.oq}},{key:"BL",get:function(){}}]),n}(th),iS=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).xq=void 0,n.TL=void 0,n}Ct(n,t);var i=n.prototype;return i.Wx=function(){var t;return null==(t=this.TL)?void 0:t.$W},i.kn=function(){var n=this;return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return[4,t.prototype.kn.call(n)];case 1:return i.sent(),this.TL?[4,this.xq.Pq(this.TL)]:[3,3];case 2:i.sent(),this.TL=void 0,i.label=3;case 3:return[2]}})}).call(this)},Nt(n,[{key:"Pz",set:function(t){this.xq=t,this.TL=t.Gq(ig.Bk)}}]),n}(nS),rS=function(t){function n(n,i,r,e,s,u,o){var h,c=new iS;return(h=t.call(this,qT.Ng,c)||this).YS=void 0,h.Iz=void 0,h.Tu=void 0,h.Dz=void 0,h.nV=void 0,h.Rz=void 0,h.Cz=void 0,h.Nz=void 0,h.Tu=n,h.YS=i,h.nV=r,h.Rz=e,h.Cz=s,h.Dz=o,h.Iz=u,c.Pz=u,h.Nz=new GT(h.Tu),h}Ct(n,t);var i=n.prototype;return i.qx=function(){t.prototype.qx.call(this),this.Iz.xz()},i.gr=function(t){TT(this,t)},i.mr=function(){},i.Zx=function(t){return!1},i.Ta=function(n,i){var r=this;return Vt(function(){var e,s;return zt(this,function(u){switch(u.label){case 0:return e=this.Hx(),s=this.Wx(),[4,t.prototype.Ta.call(r,n,i)];case 1:return u.sent(),this.Hx()!==e&&this.So(new RT),this.Wx()!==s&&this.So(new CT),[2]}})}).call(this)},i.OP=function(t,n){this.oa.OP(t,n)},i.wz=function(t,n){return t.PR(this.Tu,this.Iz,this.nV,this.YS,this.Rz,this.Cz,this.Dz,n)},i.Wx=function(){return this.oa.Wx()},i.xP=function(){return this.Iz.Bz.map(function(t){return t.$W})},i.kn=function(){var n=this;return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return[4,t.prototype.kn.call(n)];case 1:return i.sent(),this.Iz.kn(),this.Nz.kn(),[2]}})}).call(this)},Nt(n,[{key:"xe",get:function(){return this.Tu}},{key:"Vx",get:function(){return this.oa.Vx},set:function(t){this.oa.Vx=t}}]),n}(YT);F(),Et(),Wt(),Bt(),Dt(),Qt(),F(),Et();var eS=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Tu=void 0,e.Lz=void 0,e.Oz=void 0,e.Mz=void 0,e.Fz=void 0,e.ha=new ZT,e.ea=new tS,e.rq=new Cb,e.Tu=n,e.Lz=i,e.Mz=new ng,e.Fz=new Qm,e.Oz=r,e}Ct(n,t);var i=n.prototype;return i.OP=function(t,n){},i.Zx=function(t){return!0},i.we=function(){},i.Gx=function(){throw this.So(new _b(this.Oz)),this.Lz},i.zx=function(){},i.nu=function(){},i.Ta=function(t,n){return Vt(function(){return zt(this,function(t){throw dr(n),this.So(new _b(this.Oz)),this.Lz})}).call(this)},i.Px=function(t,n,i){return ut.resolve()},i.xx=function(){return ut.resolve()},i.be=function(){},i.Xx=function(){return ut.resolve()},i.Wx=function(){},i.Hx=function(){return this.ha},i.Aa=function(){return this.ea},i.xP=function(){return[]},i.qx=function(){},i.gr=function(t){},i.mr=function(){},i.jx=function(){return!1},i.Qx=function(){},i.Kx=function(){},i.Yx=function(){},i.Jx=function(){},i.tI=function(t){},i.hr=function(){return ut.resolve()},i.kn=function(){return this.Vo(),this.Mz.kn(),this.Fz.kn(),ut.resolve()},Nt(n,[{key:"ht",get:function(){return this.Mz}},{key:"IP",get:function(){return TA.iL()._s()}},{key:"CP",get:function(){return new Date(NaN)},set:function(t){}},{key:"bt",get:function(){}},{key:"MP",get:function(){return 0},set:function(t){}},{key:"ct",get:function(){return 0}},{key:"xe",get:function(){return this.Tu}},{key:"UP",get:function(){return!0}},{key:"lt",get:function(){return this.Lz}},{key:"WP",get:function(){return this.Oz}},{key:"zP",get:function(){}},{key:"jP",get:function(){}},{key:"JP",get:function(){return{iO:0,eO:0,sO:0,nO:0,rO:0,hO:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"$P",get:function(){return!1},set:function(t){}},{key:"sx",get:function(){return!0}},{key:"hx",get:function(){return!0}},{key:"ux",get:function(){return 0},set:function(t){}},{key:"_x",get:function(){return TA.iL()._s()}},{key:"mx",get:function(){return jT.lz},set:function(t){}},{key:"Ax",get:function(){return Cy.VL}},{key:"Sx",get:function(){return TA.iL()._s()}},{key:"kx",get:function(){return!1}},{key:"nt",get:function(){return this.Fz}},{key:"Rx",get:function(){return 0}},{key:"rt",get:function(){return this.Mz}},{key:"Bx",get:function(){return 0}},{key:"Mx",get:function(){return 1},set:function(t){}},{key:"Fx",get:function(){return this.rq}},{key:"Vx",get:function(){return!1},set:function(t){}},{key:"KP",get:function(){return!1}}]),n}(ih);function sS(t){if(t&&zn(t))return Yu({},t,{integration:uS(t.integration),fairplay:vS(t.fairplay),widevine:oS(t.widevine),playready:hS(t.playready),clearkey:dS(t.clearkey),aes128:lS(t.aes128),integrationParameters:wS(t.integrationParameters),preferredKeySystems:gS(t.preferredKeySystems),useOipfDrmAgent:Vw(t.useOipfDrmAgent)})}function uS(t){if(qn(t))return t}function oS(t){if(t&&zn(t))return{persistentState:cS(t.persistentState),distinctiveIdentifier:cS(t.distinctiveIdentifier),audioRobustness:aS(t.audioRobustness),videoRobustness:aS(t.videoRobustness),licenseAcquisitionURL:qn(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:fS(t.licenseType),headers:t.headers,useCredentials:!!Gn(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:qn(t.certificate)||yc(t.certificate)?t.certificate:void 0}}function hS(t){if(t){var n=oS(t);if(n)return Yu({},n,{customData:qn(t.customData)?t.customData:void 0})}}function cS(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function aS(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function fS(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function vS(t){if(t){var n=oS(t);if(n)return Yu({},n,{certificateURL:qn(t.certificateURL)?t.certificateURL:void 0})}}function dS(t){if(t){var n=oS(t);if(n){var i=Hn(t.keys)?t.keys.map(function(t){return function(t){if(!t||!zn(t))return;var n=t.id,i=t.value;if(!qn(n)||!qn(i))return;return{id:n,value:i}}(t)}).filter(Un):void 0;return Yu({},n,{keys:i})}}}function lS(t){if(zn(t))return{useCredentials:Gn(t.useCredentials)?t.useCredentials:void 0}}function wS(t){if(zn(t))return t}function gS(t){return t&&Hn(t)?t.map(function(t){return Rp(t)}).filter(Un):[wo,fo,Ao]}F(),Et(),Ut(),F(),Et(),Ut(),F(),Et(),F(),Et();var _S={bt:void 0,MP:0,ct:NaN,UP:!1,lt:void 0,WP:void 0,$P:!1,hx:!0,ux:1,Ax:Cy.VL,kx:!1,Rx:0,Bx:0,Mx:1};F(),Et(),Bt();var mS=function(t){return t.DEFAULT="",t.THEO="theo",t.CSAI="csai",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel",t.MEDIATAILOR="mediatailor",t.THEOADS="theoads",t.UPLYNK="uplynk",t}({}),yS=function(){function t(){this.Vz=[]}var n=t.prototype;return n.Wz=function(t){var n=this.Vz.filter(function(n){return n.qz(t)});if(n.length>1)0;else if(0===n.length)throw y("Unknown ad integration: "+t.integration);return n[0]||null},n.zz=function(t){this.Vz.push(t)},Nt(t,[{key:"Uz",get:function(){return this.Vz}}]),t}();yS.Ng=new yS,F(),Et(),Dt(),F(),Et(),F(),Et(),Dt(),F(),Et(),Bt(),Dt();var pS=function(t){return t.TM="PLAYING",t.Gz="PAUSED",t.Xz="SEEK",t.jz="STALLED",t.Qz="FAILED",t.Kz="INITIAL_BUFFERING",t.Yz="NO_ACCESS",t}({}),kS=function(t){return t.Jz="HTTP_REQUEST_STATUS_CODE_1XX",t.Zz="HTTP_REQUEST_STATUS_CODE_2XX",t.$z="HTTP_REQUEST_STATUS_CODE_3XX",t.tG="HTTP_REQUEST_STATUS_CODE_4XX",t.iG="HTTP_REQUEST_STATUS_CODE_5XX",t.eG="BUFFER_LENGTH",t.sG="BYTES_RECEIVED",t.nG="SEGMENT_READ_BITRATE",t.rG="SEGMENT_PROFILE_BITRATE",t.hG="VIDEO_PROFILE_BITRATE",t.oG="NUMBER_OF_FRAMES_DROPPED",t.aG="PLAYBACK_POSITION",t.uG="NUMBER_OF_FRAMES_DECODED",t.cG="PLAYBACK_DELTA_TO_ORIGIN",t.dG="STREAM_DELTA_TO_ORIGIN",t.lG="ORIGIN_TIMESTAMP",t}({}),bS=function(t){return t.fG="MANIFEST_URI",t.vG="ASSET_DURATION",t._G="NUMBER_OF_CONTENT_PROFILES",t.gG="CDN",t.pG="CONTENT_TITLE",t.mG="SERVICE_NAME",t.wG="CONTENT_TYPE",t.yG="CONTENT_DESCRIPTION",t}({}),AS=function(t){return t.AG="shutdown_normal_shutdown",t}({}),TS=function(t){return t.bG="session/",t.SG="content/",t.TG="internalError/",t.kG="drmError/",t.EG="caError/",t.xG="networkError/",t}({}),SS=function(){function t(t,n){this.category=void 0,this.statusCode=void 0,this.category=t,this.statusCode=n}return Nt(t,[{key:"code",get:function(){return this.category+this.statusCode}}]),t}(),ES=function(t){function n(){return t.apply(this,arguments)||this}return Ct(n,t),n}(th);F(),Et(),Dt(),F(),Et(),F(),Et();var IS=function(t){return t.PAUSE="IG",t.RESUME="CG",t}({}),RS=function(t){function n(){return t.call(this,"DG")||this}return Ct(n,t),n}(rh),CS=function(t){function n(n,i){var r;return(r=t.call(this)||this).oa=void 0,r.OG=void 0,r.NG=void 0,r.FG=void 0,r.UG=void 0,r.oa=n,r.OG=i,r.NG=!1,r.FG=function(){r.MG(),r.NG=!1},r.UG=function(){r.NG=!0},r.OG.wn(IS.PAUSE,r.FG),r.OG.wn(IS.RESUME,r.UG),r}Ct(n,t);var i=n.prototype;return i.BG=function(){this.NG=!0},i.MG=function(){},i.kn=function(){this.NG=!1,this.OG.mn(IS.PAUSE,this.FG),this.OG.mn(IS.RESUME,this.UG)},i.VG=function(){return isFinite(this.oa.Nd())},n}(th),DS=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).KG=!1,n.sX=!1,n.nX=!1,n.qG=function(){n.sX&&!n.nX&&n.ZG(pS.jz)},n.GG=function(){n.oa.hx||(n.sX||n.iX(new SS(TS.SG,"firstFrameDisplayed"),"now"),n.sX=!0,n.ZG(pS.TM))},n.zG=function(){n.oa.hx&&(n.sX=!0,n.ZG(pS.Gz))},n.XG=function(){n.KG&&(n.nX=!0,n.KG=!1,n.ZG(pS.Xz))},n.jG=function(){n.nX=!1,n.oa.hx&&n.ZG(pS.Gz)},n}Ct(n,t);var i=n.prototype;return i.BG=function(){t.prototype.BG.call(this),this.HG()},i.kn=function(){this.WG(),t.prototype.kn.call(this)},i.HG=function(){this.oa.wn(Ey.SM,this.qG),this.oa.wn(eh.jw,this.zG),this.oa.wn(Ey.TM,this.GG),this.oa.wn(eh.$w,this.XG),this.oa.wn(eh.Zw,this.jG)},i.WG=function(){this.oa.mn(Ey.SM,this.qG),this.oa.mn(eh.jw,this.zG),this.oa.mn(Ey.TM,this.GG),this.oa.mn(eh.$w,this.XG),this.oa.mn(eh.Zw,this.jG)},i.QG=function(){this.KG=!0},i.YG=function(){var t=this.oa.HP(),n=new SS(TS.TG,String(t.code));this.JG(pS.Qz,n,t.message)},i.ZG=function(t){this.NG&&(this.OG.$G(t),this.So(new RS))},i.JG=function(t,n,i){this.OG.tX(t,n,i),this.So(new RS)},i.iX=function(t,n){this.OG.eX(t,n)},n}(CS);F(),Et(),Dt();var PS=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).uX=function(){n.VG()&&n.lX(bS.vG,b.round(n.oa.Nd()))},n.aX=function(t){"manifest"===t.request.type&&n.lX(bS.fG,t.url)},n.rX=function(){var t=Ui(n.oa.rt.II,function(t){return t.Rt});t&&n.lX(bS._G,t.KI.V)},n}Ct(n,t);var i=n.prototype;return i.BG=function(){t.prototype.BG.call(this),this.rX(),this.HG()},i.kn=function(){this.WG(),t.prototype.kn.call(this)},i.HG=function(){this.oa.rt.wn(Dw.pa,this.rX),this.oa.oX.hX(this.aX),this.oa.wn(eh.Rw,this.uX)},i.WG=function(){this.oa.rt.mn(Dw.pa,this.rX),this.oa.oX.cX(this.aX),this.oa.mn(eh.Rw,this.uX)},i.dX=function(t){t.serviceName&&this.lX(bS.mG,t.serviceName),t.cdn&&this.lX(bS.gG,t.cdn),t.contentTitle&&this.lX(bS.pG,t.contentTitle),t.contentType&&this.lX(bS.wG,t.contentType),t.contentDescription&&this.lX(bS.yG,t.contentDescription)},i.lX=function(t,n){this.NG&&this.OG.fX(t,n)},n}(CS);F(),Et(),Dt();var NS=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).EX=Ju(),n.SX=0,n.vX=0,n._X=0,n.gX=[],n.pX=function(){n.PX(),n.xX(),n.CX()},n.yX=function(t){t.qk===ig.Bk&&(n.bX(t.rO),n.IX(),n.RX(t.BX),n.mX())},n.wX=function(t){var i=t.status.toString()[0],r=n.EX.get(i)||0;n.EX.set(i,r+1),n.kX(kS.Jz,"1"),n.kX(kS.Zz,"2"),n.kX(kS.$z,"3"),n.kX(kS.tG,"4"),n.kX(kS.iG,"5")},n}Ct(n,t);var i=n.prototype;return i.BG=function(){t.prototype.BG.call(this),this.vX=this.oa.JP.iO,this._X=this.oa.JP.sO,this.HG(),this.gX.push(_(this.pX,1e3))},i.MG=function(){t.prototype.MG.call(this),this.mX()},i.kn=function(){this.mX(),this.WG(),this.gX.forEach(m),Yi(this.gX),t.prototype.kn.call(this)},i.HG=function(){this.oa.oX.hX(this.wX),this.oa.wn(eh.ly,this.yX)},i.WG=function(){this.oa.oX.cX(this.wX),this.oa.mn(eh.ly,this.yX)},i.AX=function(){this.mX()},i.bX=function(t){this.SX+=t,this.TX(kS.sG,this.SX)},i.kX=function(t,n){var i=this.EX.get(n)||0;this.TX(t,i)},i.PX=function(){var t=this.oa.JP.iO-this.vX;this.TX(kS.oG,t)},i.xX=function(){var t=this.oa.JP.sO-this._X;this.TX(kS.uG,t)},i.IX=function(){var t=pb.Ng.fW();this.TX(kS.nG,Ec(t))},i.RX=function(t){this.TX(kS.rG,Ec(t)),this.TX(kS.hG,Ec(t))},i.mX=function(){if(this.VG()){var t=b.round(fe(this.oa.LP()));this.TX(kS.aG,t)}},i.CX=function(){var t=TA.jn(this.oa.RP()),n=this.oa.LP(),i=t.JM(n),r=i?fe(i.An(0)-n):0;this.TX(kS.eG,r)},i.TX=function(t,n){this.NG&&this.OG.DX(t,n)},n}(CS);F(),Et(),Ut();function BS(t){return t&&t.integration===VS}function xS(t){if(!qn(t.asset))throw new p("Agama source configuration: expected 'asset' to be a string");if(!function(t){return!!qn(t)&&("live"===t||"vod"===t)}(t.streamType))throw new p("Agama source configuration: expected 'streamType' to be 'live' or 'vod'");if(void 0!==t.serviceName&&!function(t){return!!qn(t)&&("live"===t||"svod"===t||"nvod"===t||"tvod"===t||"avod"===t||"catchuptv"===t)}(t.serviceName))throw new p("Agama source configuration: expected 'serviceName' to be 'live', 'svod', 'nvod','tvod', 'avod' or 'catchuptv'");if(void 0!==t.cdn&&!qn(t.cdn))throw new p("Agama source configuration: expected 'cdn' to be a string");if(void 0!==t.contentTitle&&!qn(t.contentTitle))throw new p("Agama source configuration: expected 'contentTitle' to be a string");if(void 0!==t.contentType&&!qn(t.contentType))throw new p("Agama source configuration: expected 'contentType' to be a string");if(void 0!==t.contentDescription&&!qn(t.contentDescription))throw new p("Agama source configuration: expected 'contentDescription' to be a string");return t}function OS(t){if(!qn(t.config))throw new p("Agama player configuration: expected 'config' to be a string");if(void 0!==t.logLevel&&!function(t){return!!qn(t)&&("info"===t||"debug"===t||"warning"===t||"error"===t||"fatal"===t)}(t.logLevel))throw new p("Agama player configuration: expected 'logLevel' to be 'info', 'debug', 'warning','error' or 'fatal'");if(void 0!==t.application&&!qn(t.application))throw new p("Agama player configuration: expected 'application' to be a string");if(void 0!==t.applicationVersion&&!qn(t.applicationVersion))throw new p("Agama player configuration: expected 'applicationVersion' to be a string");if(void 0!==t.userAccountID&&!qn(t.userAccountID))throw new p("Agama player configuration: expected 'userAccountID' to be a string");if(void 0!==t.deviceID&&!qn(t.deviceID))throw new p("Agama player configuration: expected 'deviceID' to be a string");return t}function MS(){var t="00000000-0000-0000-0000-000000000000",n=f.navigator,i=f.screen,r=""+n.mimeTypes.length;r+=n.userAgent.replace(/\D+/g,""),r+=n.plugins.length,r+=i.height||"",r+=i.width||"",r+=i.pixelDepth||"";var e=function(t){var n,i=0;if(0===t.length)return"0";for(n=0;n<t.length;n++)i=(i<<5)-i+t.charCodeAt(n),i|=0;return b.abs(i).toString().substring(0,12)}(r+=b.floor(1e3*b.random()));return t=[t.slice(0,t.length-e.length),e].join("")}function LS(t,n,i){var r=n,e=function(t,n){return XA(n)?t.DsProtocol.APPLE_HLS:t.DsProtocol.MPEG_DASH}(t,r.type),s=function(t,n){var i=t.DsPlaylistType.VOD;"live"===n&&(i=t.DsPlaylistType.LIVE);return i}(t,i.streamType);return{asset:i.asset,playlistType:s,protocol:e,uri:r.src}}F(),Et();var US=function(t){return t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected",t}({}),FS=function(){function t(t,n,i){var r=this;this.oa=void 0,this.OG=void 0,this.XX=void 0,this.QX=void 0,this.jX=void 0,this.JX=void 0,this.fo=void 0,this.ZX=void 0,this.zX=void 0,this.qX=void 0,this.HX=void 0,this.MX=void 0,this.KX=void 0,this.oa=t,this.OG=n,this.fo=function(){r.ZX(),r.zX()},this.ZX=function(){var t=r.oa.nu(),n=t&&t.analytics;r.JX=function(t){void 0===t&&(t=[]);for(var n,i=Lt(t);!(n=i()).done;){var r=n.value;if(BS(r))return xS(r)}}(n)},this.zX=function(){r.NX(),r.oa.mn(eh.uo,r.qX),!r.WX()&&r.OG.$X()&&r.oa.bt&&r.JX&&(r.GX(),r.oa.hx||r.oa.UP?r.oa.wn(eh.uo,r.qX):r.qX())},this.qX=function(){r.oa.bt&&r.JX&&(r.OG.tj(r.oa.bt,r.JX),r.BG(),r.dX(r.JX),r.UX(),r.oa.wn(zm.ma,r.MX),r.oa.mn(eh.uo,r.qX))},this.HX=function(){r.WX()&&r.NX()},this.MX=function(){r.YX(),r.NX()},this.KX=function(){r.jX&&r.jX.AX()};var e=function(t){void 0===t&&(t=[]);for(var n,i=Lt(t);!(n=i()).done;){var r=n.value;if(BS(r))return OS(r)}}(i.analytics);e&&this.OG.ij()&&(this.OG.qx(e),this.OG.$X()?(this.OG.ej(),this.oa.wn(eh.do,this.fo),this.oa.wn(eh.Bw,this.zX)):console.warn("An error occurred while initializing an Agama EMP client. Please check your configuration"))}var n=t.prototype;return n.NX=function(){this.oa.mn(zm.ma,this.MX),this.LX(),this.OX(),this.OG.FX()},n.UX=function(){this.oa.VX.Ca.chromecast&&this.oa.VX.Ca.chromecast.addEventListener("statechange",this.HX)},n.OX=function(){this.oa.VX.Ca.chromecast&&this.oa.VX.Ca.chromecast.removeEventListener("statechange",this.HX)},n.WX=function(){return void 0!==this.oa.VX.Ca.chromecast&&this.oa.VX.Ca.chromecast.state===US.CONNECTED},n.kn=function(){this.oa.mn(eh.do,this.fo),this.oa.mn(eh.uo,this.qX),this.oa.mn(eh.Bw,this.zX),this.NX(),this.OG.kn()},n.GX=function(){this.XX||(this.XX=new DS(this.oa,this.OG)),this.jX||(this.jX=new NS(this.oa,this.OG)),this.QX||(this.QX=new PS(this.oa,this.OG))},n.BG=function(){this.XX&&(this.XX.BG(),this.XX.wn("DG",this.KX)),this.jX&&this.jX.BG(),this.QX&&this.QX.BG()},n.LX=function(){this.XX&&(this.XX.mn("DG",this.KX),this.XX.kn(),this.XX=void 0),this.jX&&(this.jX.kn(),this.jX=void 0),this.QX&&(this.QX.kn(),this.QX=void 0)},n.dX=function(t){this.QX&&this.QX.dX(t)},n.YX=function(){this.XX&&this.XX.YG()},n.QG=function(){this.XX&&this.XX.QG()},t}(),VS="agama";F(),Et(),F(),Et();var HS=function(t){return t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical",t}({});F(),Et();var WS=function(t){return t.NONE="",t.PM360="360",t.PM180="180",t}({});function zS(t){switch(t){case"":return HS.NONE;case"horizontal":return HS.HORIZONTAL;case"vertical":return HS.VERTICAL;default:throw new p}}function XS(t,n){if(n)return WS.PM360;if(null==t)return WS.NONE;switch(t){case"":return WS.NONE;case"360":return WS.PM360;case"180":return WS.PM180;default:throw new p("Provided panoramaMode value is not recognized. Expected '', '360' or '180' but value was "+t)}}F(),Et();var qS=function(t){return t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event",t}({});F(),Et();var GS="https://content.uplynk.com";function jS(t){if(!t)return!0;var n=!function(t){return $A(t)||Wn(t)&&$A(t[0])}(t.sources)||tT(t.sources),i=!t.ads||function(t){return!t||Hn(t)&&0===t.length}(t.ads),r=""!==t.poster&&!t.poster;return n&&i&&r}function QS(t){if(t&&t.sources)return YS(t.sources)}function YS(t){return qn(t)?HA(t):JA(t)?t.type||t.src&&HA(t.src):Wn(t)&&t.length>0?YS(t[0]):void 0}function KS(t){if(t&&t.sources)return JS(t.sources)}function JS(t){return qn(t)?t:JA(t)?t.src:Wn(t)&&t.length>0?JS(t[0]):void 0}function ZS(t,n,i){return GA(t)?function(t,n,i){var r=Yu({},nT(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:MA.UPLYNK,id:"",prefix:GS,preplayParameters:{},playbackUrlParameters:{},assetType:qS.ASSET,contentProtected:!1,assetInfo:!0});r.id=function(t){if(qn(t))return t;if(Wn(t)&&qn(t[0]))return t;if(function(t){return zn(t)&&qn(t.userId)&&(Wn(t.externalId)||qn(t.externalId))}(t))return t;return""}(t.id),t.preplayParameters&&(r.preplayParameters=t.preplayParameters);t.playbackUrlParameters&&(r.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(r.assetType=function(t){switch(t){case"channel":return qS.CHANNEL;case"event":return qS.EVENT;default:return qS.ASSET}}(t.assetType));t.contentProtected&&(r.contentProtected=Vw(t.contentProtected));t.assetInfo?r.assetInfo=Vw(t.assetInfo):r.assetInfo="asset"===r.assetType;t.prefix&&(r.prefix=Xw(t.prefix)||GS);return r.ping=function(t,n){var i=!1,r=!1,e=!1;n?(i=!!Gn(n.adImpressions)&&n.adImpressions,r=!!Gn(n.freeWheelVideoViews)&&n.freeWheelVideoViews,e=Gn(n.linearAdData)?n.linearAdData:t!==qS.ASSET):t!==qS.ASSET&&(e=!0);return{adImpressions:i,freeWheelVideoViews:r,linearAdData:e}}(r.assetType,t.ping),r=nE(r,t),r=rE(r,n,i),r=iE(r,t,i),r}(t,n,i):QA(t)?function(t,n,i){var r;return Yu({},$S(t,n,i),{integration:MA.MEDIATAILOR,adsParams:null!=(r=t.adsParams)?r:{}})}(t,n,i):jA(t)?function(t,n,i){return Yu({},$S(t,n,i),{type:"theolive"})}(t,n,i):YA(t)?function(t,n,i){return Yu({},$S(t,n,i),{type:hA.gR,src:t.src,streamAccountId:t.streamAccountId,subscriberToken:t.subscriberToken,connectOptions:uE(t.connectOptions),apiUrl:t.apiUrl,statsIntervalMs:tE(t.statsIntervalMs)})}(t,n,i):$S(t,n,i)}function $S(t,n,i){var r=iT(),e=n&&(n.contentProtection||n.drm);if(qn(t)){if(r.src=t,r.type=HA(t),e){var s=sS(e);r.contentProtection=dA(s)}}else if(JA(t)||qA(t)||YA(t)){r.src=t.src,r.type=t.type||HA(t.src),r.isAdvertisement=t.isAdvertisement;var u=ZA(t)?t.hesp:void 0;void 0!==u&&(r.hesp=u),QA(t)&&(r.integration=t.integration);var o=sS(t.contentProtection||t.drm||e);r.contentProtection=dA(o),t.ssai&&(r.ssai=fA(t.ssai)),r=nE(r,t)}return r=iE(r=rE(r,n,i),t,i)}function tE(t){if(Yn(t)&&t>0)return t}function nE(t,n){var i,r;n.useCredentials?t.crossOrigin=oA.uR:n.crossOrigin&&(t.crossOrigin=WA(n.crossOrigin)),qn(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=Vw(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=Vw(n.useNativePlayback)),n.useManagedMediaSource&&(t.useManagedMediaSource=Vw(n.useManagedMediaSource)),n.dash&&(t.dash=lA(n.dash)),n.hls&&(t.hls=wA(n.hls)),n.lcevc&&(t.lcevc=Vw(n.lcevc)),n.ignoreEmbeddedTextTrackTypes&&(t.ignoreEmbeddedTextTrackTypes=uT(n.ignoreEmbeddedTextTrackTypes)),n.latencyConfiguration&&(t.latencyConfiguration=xA(n.latencyConfiguration)),t.seamlessSwitchStrategy=LA(null!=(r=n.seamlessSwitchStrategy)?r:null==(i=n.dash)?void 0:i.useSeamlessPeriodSwitch);var e=Hw(n.experimentalRendering);void 0!==e&&(t.experimentalRendering=e);var s=Hw(n.nativeUiRendering);return void 0!==s&&(t.nativeUiRendering=s),t}function iE(t,n,i){return t.abr=mA(qn(n)?void 0:_A(n.abr),null==i?void 0:i.abr),t}function rE(t,n,i){var r,e=n&&n.timeServer;return i&&i.liveOffset&&!Un(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!Un(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===oA.Lk&&(null==n||null==(r=n.vr)?void 0:r[360])&&(t.crossOrigin=oA.aR),t.useCredentials=t.crossOrigin===oA.uR,qn(e)&&!t.timeServer&&(t.timeServer=e),t}function eE(t){var n={src:""};if(t&&t.src){if(n.src=Xw(t.src),"default"in t&&(n.default=Vw(t.default)),n.kind=function(t){var n=String(t||"").toLowerCase();return Jm(n)?n:n?"metadata":"subtitles"}(t.kind),Pg(t.format)&&(n.format=t.format),"srclang"in t){var i=t.srclang;"string"==typeof i&&""!==i&&(n.srclang=i)}if("label"in t){var r=t.label;"string"==typeof r&&""!==r&&(n.label=r)}}return n}function sE(t,n){if(zn(t))try{return n.Wz(t).sj(t)}catch(t){return}}function uE(t){if(null==t)return t;if(!zn(t))throw new y("connectOptions must be an object");return t}function oE(t,n,i){if(void 0===i&&(i=yS.Ng),jS(t))return{sources:[iT()]};var r=Ow(t);if(r.sources=function(t,n,i){if($A(t))return[ZS(t,n,i)];if(Wn(t)&&$A(t[0])){for(var r,e=[],s=Lt(t);!(r=s()).done;){var u=r.value;e.push(ZS(u,n,i))}return e}return[iT()]}(r.sources,r,n),"contentProtection"in r&&delete r.contentProtection,"drm"in r&&delete r.drm,"ads"in r){var e=function(t,n){if(!Wn(t))return[];for(var i,r=[],e=Lt(t);!(i=e()).done;){var s=i.value;(s=sE(s,n))&&r.push(s)}return r}(r.ads,i);0===e.length?delete r.ads:r.ads=e}var s=!tT(r.sources),u=r.ads&&r.ads.length>0;if(s&&!u?delete r.ads:u&&!s&&(r.sources=[]),"textTracks"in r){var o=function(t){if(!Wn(t))return[];for(var n,i=[],r=Lt(t);!(n=r()).done;){var e=n.value;""!==(e=eE(e)).src&&i.push(e)}return i}(r.textTracks);0===o.length?delete r.textTracks:r.textTracks=o}if("poster"in r&&(r.poster=Xw(r.poster)),"streamType"in r&&(r.streamType=function(t){switch(t){case"live":case"dvr":case"vod":return t}}(r.streamType)),"vr"in r&&(r.vr=function(t){var n=t||{};return n.stereoMode=function(t){return function(t){switch(t){case"":case"horizontal":case"vertical":return!0;default:return!1}}(t)?t:""}(n.stereoMode),{panoramaMode:XS(n.panoramaMode,Boolean(n[360])),stereoMode:n.stereoMode?zS(n.stereoMode):HS.NONE,nativeVR:Boolean(n.nativeVR)}}(r.vr)),"analytics"in r||(null==n?void 0:n.analytics)){var h=eT(r.analytics),c=n&&n.analytics||[];r.analytics=function(t,n){for(var i,r=function(){var n=i.value,r=!t.some(function(t){return t.integration===n.integration});r&&n.integration!==VS&&e.push(n)},e=Ow(t),s=Lt(n);!(i=s()).done;)r();return e}(h,c)}return"mutedAutoplay"in r&&(r.mutedAutoplay=kT(r.mutedAutoplay)),"timeServer"in r&&delete r.timeServer,"playAdsAfterTime"in r&&(r.playAdsAfterTime=Ww(r.playAdsAfterTime)),r.blockContentIfAdError=function(t){return void 0!==t&&"boolean"==typeof t&&Boolean(t)}(r.blockContentIfAdError),r}F(),Et(),F(),Et(),F(),Et();var hE=function(){function t(t){this.nj=t}return t.prototype.rj=function(t){var n,i,r,e,s,u,o,h=[];if(!t)return"";var c=t.length%4;if(c>0)for(;c++<4;)t+=this.nj.charAt(64);for(n=0;n<t.length;n+=4)i=(o=this.nj.indexOf(t.charAt(n))<<18|this.nj.indexOf(t.charAt(n+1))<<12|(s=this.nj.indexOf(t.charAt(n+2)))<<6|(u=this.nj.indexOf(t.charAt(n+3))))>>>16&255,r=o>>>8&255,e=255&o,h[n/4]=String.fromCharCode(i,r,e),64===u&&(h[n/4]=String.fromCharCode(i,r)),64===s&&(h[n/4]=String.fromCharCode(i));return h.join("")},t.prototype.hj=function(t,n){var i,r,e,s,u,o,h,c=[],a="";if((o=t.length%3)>0)for(;o++<3;)a+=this.nj.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)r=(i=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,e=i>>12&63,s=i>>6&63,u=63&i,c[o/3]=this.nj.charAt(r)+this.nj.charAt(e)+this.nj.charAt(s)+this.nj.charAt(u);return h=(h=c.join("")).slice(0,h.length-a.length),n||(h+=a),h},t.bh=new t(function(){var t,n,i,r,e=[],s=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<s.length;t+=1)for(n=s[t],i=0;i<n.length;i+=1)r=n.charAt(i),-1===e.indexOf(r)&&e.push(r);return e.join("")}()),t.aj=new t(function(t){return t.rj("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")}(t.bh)),t}();function cE(t){return"string"==typeof t}function aE(t){return"number"==typeof t}F(),Et(),F(),Et(),F(),Et(),at();var fE={}.toString;var vE,dE=Array.isArray||function(t){return"[object Array]"===fE.call(t)};function lE(t,n){return dE(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf",t.THEOLIVEWEB="theoliveweb",t.KEPLER="kepler"}(vE||(vE={}));var wE,gE=k.keys(vE).map(function(t){return vE[t]});function _E(t){return-1!==gE.indexOf(t)}!function(t){t.HESP="hesp",t.MULTIVIEW="multiview",t.THEOADS="theoads",t.MILLICAST="millicast"}(wE||(wE={}));var mE,yE=k.keys(wE).map(function(t){return wE[t]});function pE(t){return-1!==yE.indexOf(t)}function kE(t){try{var n=hE.aj.rj(t),i=JSON.parse(n);if(!function(t,n){var i,r=function(t){return"object"===(void 0===t?"undefined":W(t))&&null!==t}(t),e=cE(t.key),s=cE(t.customer_id),u=aE(t.generation_date),o=aE(t.expiration_date),h=lE(t.domains_page,cE),c=lE(t.domains_source,cE),a=lE(t.sdks,n?_E:cE),f=function(t){return"boolean"==typeof t}(t.send_impression);t.features?i=lE(t.features,n?pE:cE):(i=!0,t.features=[]);if(!(r&&e&&s&&u&&o&&h&&c&&a&&f&&i))return!1;return!0}(i,!1))throw new y("The provided license could not be decoded correctly.");return i}catch(t){throw new y("The provided license could not be decoded correctly.")}}function bE(){return mE||(mE={Yu:f.location.href,uj:f.parent&&f.parent!==f,cj:TE()}),mE}var AE=["http:","https:","ftp:","ws:","wss:"];function TE(){var t,n;try{var i;if(null==(i=f)?void 0:i.top)return f.top.location.href}catch(t){}return null==(n=f)||null==(t=n.document)?void 0:t.referrer}var SE=function(t){return t[t.dj=0]="dj",t[t.lj=1]="lj",t[t.vj=2]="vj",t}({}),EE=function(t,n,i,r,e,s,u,o,h){void 0===e&&(e=[]),void 0===s&&(s=""),void 0===u&&(u=Date.now()),void 0===o&&(o=[]),void 0===h&&(h=!0),this._j=void 0,this.gj=void 0,this.pj=void 0,this.mj=void 0,this.wj=void 0,this.yj=void 0,this.Aj=void 0,this.bj=void 0,this.Sj=void 0,this._j=t,this.gj=n,this.pj=i,this.mj=r,this.wj=e,this.yj=s,this.Aj=u,this.bj=o,this.Sj=h},IE=function(t){return t.lj="expired",t.Tj="invaliddomain",t.Ej="invalidsource",t.Pj="invalidfeature",t.ma="error",t}({}),RE=function(){function t(t,n,i){this.qj=void 0,this.jj=void 0,this.MA=void 0,this.Vj=void 0,this.qj=t,this.jj=n,this.MA=i,this.Vj=LE(this.MA)}var n=t.prototype;return n.xj=function(t,n){var i=[];$A(t.sources)?i=[t.sources]:Wn(t.sources)&&(i=t.sources),this.Ij(t,i,n),this.Rj(i,n)},n.Ij=function(t,n,i){var r=this;if(!jS(t)&&0!==i.pj.length&&!xE(i.pj)&&!n.every(function(t){return r.Cj(t,i)})){var e="invalidsource",s=UE.Dj(e);throw new fd(DE(e),s)}},n.Rj=function(t,n){for(var i,r=Lt(t);!(i=r()).done;){var e=i.value;JA(e)&&ZA(e)&&!e.bypassLicense&&this.Bj([wE.HESP],n)}},n.Nj=function(n){return this.Mj(n.bj)&&this.Lj(n)?t.Oj(n.mj)?0:1:2},n.Bj=function(t,n){for(var i,r=Lt(t);!(i=r()).done;){var e=i.value;if(!ji(n.wj,e)){var s="invalidfeature",u=UE.Fj(s,e);throw new fd(DE(s),u)}}},n.Mj=function(t){var n=this;return 0===t.length||t.some(function(t){return n.Uj(t)})},n.Uj=function(t){return"web"===function(t){switch(t){case vE.ANDROID:return kn.Tv;case vE.ANDROIDTV:case vE.FIRETV:return kn.Ev;case vE.IOS:return kn.Pv;case vE.TVOS:return kn.xv;case vE.CHROMECAST:case vE.CHROMECASTCAF:return kn.Iv;case vE.THEOLIVEWEB:return kn.Rv;default:return kn.Sv}}(t)},n.Lj=function(t){return!(this.Vj&&0!==t.gj.length&&!xE(t.gj))||!!(this.Vj&&this.Hj(t.gj)&&this.Wj(t.gj))},n.Hj=function(t){return OE(this.MA.Yu,t)},n.Wj=function(t){if(!this.MA.uj)return!0;if(this.qj)return!0;var n=this.zj();return!!n&&OE(n,t)},n.zj=function(){if(this.MA.uj){var t=d.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.MA.cj?this.MA.cj:void 0}},n.Cj=function(n,i){return!!t.Gj(n,i.pj)},t.Oj=function(t){var n=Number(new Date);return!!t&&n<=t},t.Gj=function(t,n){return OE(this.Xj(t),n)},t.Xj=function(t){return qn(t)?t:JA(t)&&t.src||""},t}(),CE=function(){function t(){}var n=t.prototype;return n.Nj=function(t){return 0},n.xj=function(t,n){},n.Bj=function(t,n){},t}();function DE(t){switch(t){case"invaliddomain":return cd.LICENSE_INVALID_DOMAIN;case"invalidsource":return cd.LICENSE_INVALID_SOURCE;case"expired":return cd.LICENSE_EXPIRED;case"invalidfeature":return cd.LICENSE_INVALID_FEATURE;case"error":return cd.LICENSE_ERROR}}var PE="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",NE=_i(function(){var t="\\.",n="(\\*|"+PE+")";return new RegExp("ip-range\\("+n+t+n+t+n+t+n+"\\)")});function BE(t,n){var i=t,r=n;if(!i)return!1;if("*"===(r=r.trim()))return!0;if(r===(i=i.replace(/\.+$/,"")))return!0;if(Uo(r,"ip-range(")){var e="\\.",s=r.match(NE()),u=function(t){return"*"===t?"("+PE+")":t};if(null!==s&&5===s.length){var o=new RegExp("^"+s[1]+e+u(s[2])+e+u(s[3])+e+u(s[4])+"$");return null!==i.match(o)}}return r="."+r,-1!==i.indexOf(r,i.length-r.length)}function xE(t){return t.some(function(t){return"*"===t})}function OE(t,n){var i=Vn.Dh(t);if(!ME(i))return!0;for(var r,e=Lt(n);!(r=e()).done;){var s=r.value;if(BE(i.hostname,s))return!0;if(BE(Il(t),s))return!0}return!1}function ME(t){return-1!==AE.indexOf(t.protocol)}function LE(t){var n=Vn.Dh(t.Yu);return ME(n)&&!function(t){return BE(t.hostname,"localhost")}(n)&&!function(t){return BE(t.hostname,"theoplayer.doubleclick.net")}(n)}var UE=function(){function t(){}return t.Fj=function(t,n){return"The requested feature '"+n+"' is not available with the license for this player."},t.Dj=function(t){return"invaliddomain"===t?this.Qj:"invalidsource"===t?this.Kj:"expired"===t?this.Yj:"invalidfeature"===t?this.Jj:this.Zj},t}();UE.Zj="The license for this player is invalid.",UE.Yj="The usage license for this video player has expired.",UE.Qj="The current domain is incompatible with the license for this player.",UE.Kj="The provided video source is incompatible with the license for this player.",UE.Jj="The requested feature is not available with the license for this player.",F(),Et(),Wt(),Bt(),Qt(),F(),Et();var FE=function(t){return t[t.$j=1]="$j",t[t.tQ=4]="tQ",t[t.iQ=5]="iQ",t[t.eQ=9]="eQ",t}({});function VE(t){var n=[t.VN,t.sQ,t.nQ];switch(t.sQ){case 1:n.push(t.iR);break;case 4:n.push(t.MP),n.push(t.lt);break;case 5:n.push(t.lt);break;case 9:n.push(t.Km)}return n}F(),Et();var HE,WE=new Array(256);for(HE=0;HE<256;HE+=1)WE[HE]=(HE<16?"0":"")+HE.toString(16);function zE(){var t=ce(),n=(4294967296*b.random()|0)+t&3029421624,i=(4294967296*b.random()|0)+t&3595553209,r=(4294967296*b.random()|0)+t&1130486254,e=(4294967296*b.random()|0)+t&1284287105;return WE[255&n]+WE[n>>>8&255]+WE[n>>>16&255]+WE[n>>>24&255]+"-"+WE[255&i]+WE[i>>>8&255]+"-"+WE[i>>>16&15|64]+WE[i>>>24&255]+"-"+WE[63&r|128]+WE[r>>>8&255]+"-"+WE[r>>>16&255]+WE[r>>>24&255]+WE[255&e]+WE[e>>>8&255]+WE[e>>>16&255]+WE[e>>>24&255]}function XE(t){return Sc(t.replace(/-/g,""))}function qE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=16*b.random()|0;return("x"===t?n:3&n|8).toString(16)})}function GE(){return Vn.Mg()}F(),Et(),F(),Et(),F(),Et();var jE,QE="theoplayer-session-id";function YE(){if(!jE){var t=Pd.Wy(QE);t?jE=t:(jE=zE(),Pd.qy(QE,jE))}return jE}F(),Et(),F(),Et();var KE=/[^\x00-\x7E]/g;function JE(t){return"\\u"+Wo(t.charCodeAt(0).toString(16),4,"0")}var ZE="https://license.theoplayer.com";function $E(t){var n=function(t){var n=[];return function(t,n,i){return JSON.stringify(t,n,i).replace(KE,JE)}(t,function(t,i){if(zn(i)){if(-1!==n.indexOf(i))return null;n.push(i)}return i})}(function(t){return[t.rQ,t.dS,t._j,t.bD,t.hQ,t.oQ,t.aQ.map(VE)]}(t));return hE.aj.hj(n)}var tI=function(){function t(t,n,i,r,e,s){var u=this;void 0===r&&(r=hE.bh),void 0===e&&(e=0),void 0===s&&(s=1),this.zb=void 0,this.nV=void 0,this.fQ=void 0,this.pQ=void 0,this.wQ=void 0,this.TQ=void 0,this.Zf=void 0,this.cQ=void 0,this.EQ=void 0,this.SQ=void 0,this.yb=void 0,this.IQ=void 0,this.RQ=void 0,this.xQ=void 0,this.zb=t,this.nV=n,this.fQ=i,this.pQ=r,this.wQ=e,this.TQ=s,this.Zf=[],this.cQ=null,this.EQ=0,this.SQ="unknown",this.yb=0,this.RQ=function(){GE()-u.EQ>6e4&&u.AQ()},this.xQ=function(){u.AQ(!0)},f.addEventListener("beforeunload",this.xQ),this.IQ=_(this.RQ,6e4)}var n=t.prototype;return n.uQ=function(){return Boolean(this.hQ)},n.dQ=function(t){return Vt(function(){var n;return zt(this,function(i){switch(i.label){case 0:return[4,this.fQ.lQ()];case 1:return i.sent().Sj?(n={sQ:FE.$j,nQ:ce(),iR:t},[4,this.iX(n)]):[2];case 2:return i.sent(),[2]}})}).call(this)},n.vQ=function(t){return Vt(function(){var n;return zt(this,function(i){switch(i.label){case 0:return[4,this.fQ.lQ()];case 1:return i.sent().Sj?(n={sQ:FE.eQ,nQ:ce(),Km:t},[4,this.iX(n)]):[2];case 2:return i.sent(),[2]}})}).call(this)},n._Q=function(t,n){return Vt(function(){var i;return zt(this,function(r){switch(r.label){case 0:return i={sQ:FE.tQ,nQ:ce(),MP:n,lt:t},[4,this.iX(i)];case 1:return r.sent(),[2]}})}).call(this)},n.gQ=function(t){return Vt(function(){var n;return zt(this,function(i){switch(i.label){case 0:return n={sQ:FE.iQ,nQ:ce(),lt:t},[4,this.iX(n)];case 1:return i.sent(),[2]}})}).call(this)},n.iX=function(t){return Vt(function(){var n;return zt(this,function(i){switch(i.label){case 0:return[4,this.fQ.lQ()];case 1:return n=i.sent(),"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"===this.pQ.hj(n._j)&&t.sQ!==FE.iQ?[2]:(t.sQ===FE.$j?this.mQ():this.uQ()||this.mQ(),t.VN=this.yb++,this.Zf.push(t),function(t){return t===FE.$j||t===FE.iQ}(t.sQ)?[4,this.AQ()]:[3,3]);case 2:case 4:return i.sent(),[3,5];case 3:return this.Zf.length>this.wQ?[4,this.yQ()]:[3,5];case 5:return[2]}})}).call(this)},n.AQ=function(t){return void 0===t&&(t=!1),Vt(function(){return zt(this,function(n){switch(n.label){case 0:return this.Zf.length>0?[4,this.yQ(t)]:[3,2];case 1:return n.sent(),[3,0];case 2:return[2]}})}).call(this)},n.bQ=function(t){return Vt(function(){var n;return zt(this,function(i){switch(i.label){case 0:return[4,this.fQ.lQ()];case 1:return n=i.sent(),[2,{rQ:ce(),dS:YE(),_j:this.pQ.hj(n._j)||"dev",bD:this.zb,hQ:this.cQ,oQ:this.SQ,aQ:t}]}})}).call(this)},n.yQ=function(t){return void 0===t&&(t=!1),Vt(function(){var n,i;return zt(this,function(r){switch(r.label){case 0:return n=this.Zf.splice(0,this.TQ),[4,this.bQ(n)];case 1:return i=r.sent(),t?this.Kk(i):this.kQ(i),this.EQ=GE(),[2]}})}).call(this)},n.kQ=function(t){return Vt(function(){var n,i;return zt(this,function(r){switch(r.label){case 0:n=$E(t),i=new pl({Yu:ZE,zT:n,zk:!1,dk:Md.NT,fk:{"Content-Type":ck.IH},Vk:4e3,Uk:wl.POST}),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,this.nV.lk(i)];case 2:return[4,r.sent().HT()];case 3:return r.sent(),[3,5];case 4:return r.sent(),(new Image).src="https://licensing.theoplayer.com/t?"+n,[3,5];case 5:return[2]}})}).call(this)},n.Kk=function(t){var n=$E(t);this.nV.Kk({Yu:ZE,zT:n,qT:ck.IH})},n.mQ=function(){this.uQ()&&this.AQ(),this.cQ=zE(),this.yb=0},n.kn=function(){f.removeEventListener("beforeunload",this.xQ),m(this.IQ),this.AQ()},Nt(t,[{key:"aQ",get:function(){return this.Zf}},{key:"hQ",get:function(){return this.cQ}}]),t}();F(),Et(),Bt(),H(),F(),Et(),F(),Et();var nI=0;var iI=g,rI=self.requestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame,eI=self.cancelAnimationFrame||self.webkitCancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelRequestAnimationFrame;rI&&eI||(rI=function(t){var n=GE(),i=b.max(0,16-(n-nI)),r=w(function(){return t(n+i)},i);return nI=n+i,r},eI=iI),rI=rI.bind(self),eI=eI.bind(self);var sI=On.L_||On.ru&&On.Q_<13;function uI(t,n,i){var r=t.getImageData(n,i,1,1).data;return 0===r[0]&&0===r[1]&&0===r[2]&&0===r[3]}var oI=function(){function t(t){var n=this;this.t=void 0,this.MQ=void 0,this.hu=void 0,this.zQ=void 0,this.UQ=Zu(),this.OQ=1,this.qQ=!0,this.XQ=function(){n.qQ=!0},this.GQ=function(){n.MQ=n.t.Wx(),n.UQ.forEach(function(t,i){t.HQ(),t.HQ=n.FQ(t.VQ,i)})},this.t=t,this.t.wn(eh.Lw,this.GQ),this.t.wn(eh.Zw,this.XQ),this.GQ()}var n=t.prototype;return n.CQ=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e,s=this.MQ;return void 0!==s&&((e=t).drawImage.apply(e,[].concat([s],i)),!0)},n.DQ=function(t,n,i,r,e,s){var u=this.MQ;return void 0!==u&&(sI&&(u=this.LQ(u)),t.texImage2D(n,i,r,e,s,u),!0)},n.BQ=function(t){var n=this.OQ++,i=this.FQ(t,n);return this.UQ.set(n,{VQ:t,HQ:i}),n},n.NQ=function(t){var n=this.UQ.get(t);void 0!==n&&(this.UQ.delete(t),n.HQ())},n.FQ=function(t,n){var i=this,r=this.MQ;if(void 0===r)return di;if(V(r,HTMLVideoElement)&&r.requestVideoFrameCallback){var e=r.requestVideoFrameCallback(function(r,e){i.UQ.delete(n),t(r,e)});return function(){return r.cancelVideoFrameCallback(e)}}var s,u=function(r){i.WQ()?(i.UQ.delete(n),i.qQ=!1,t(r,void 0)):s=rI(u)};return s=rI(u),function(){return eI(s)}},n.WQ=function(){return(!this.t.hx||this.qQ)&&!this.t.kx&&this.t.Ax>=Cy.HL},n.LQ=function(t){var n=this.zQ;void 0===n&&(n=v.createElement("canvas"),this.zQ=n);var i=n.getContext("2d"),r=this.t,e=r.Bx,s=r.Rx,u=n.width,o=n.height;i.clearRect(0,0,n.width,n.height),u===e&&o===s||(n.width=e,n.height=s),i.drawImage(t,0,0,e,s);var h=!1;return e>0&&uI(i,e-1,0)&&(n.width=u,h=!0),s>0&&uI(i,0,s-1)&&(n.height=o,h=!0),h&&i.drawImage(t,0,0,e,s),n},n.kn=function(){this.UQ.forEach(function(t){return t.HQ()}),this.UQ.clear(),this.t.mn(eh.Lw,this.GQ),this.t.mn(eh.Zw,this.XQ),this.MQ=void 0,this.zQ=void 0},Nt(t,[{key:"Ca",get:function(){var t;return null!=(t=this.hu)?t:this.hu=function(t){return{drawImage:function(n){for(var i=arguments.length,r=new Array(i>1?i-1:0),e=1;e<i;e++)r[e-1]=arguments[e];var s;return(s=t).CQ.apply(s,[].concat([n],r))},texImage2D:function(n,i,r,e,s,u){return t.DQ(n,i,r,e,s,u)},requestVideoFrameCallback:function(n){return t.BQ(n)},cancelVideoFrameCallback:function(n){return t.NQ(n)}}}(this)}}]),t}();F(),Et(),Bt(),Dt(),F(),Et(),Dt(),F(),Et();var hI=function(t){return t.yn="dimensionchange",t}({}),cI=function(t){function n(n,i){var r;return(r=t.call(this,hI.yn)||this).width=void 0,r.height=void 0,r.width=n,r.height=i,r}return Ct(n,t),n}(rh);F(),Et(),Bt(),Dt(),F(),Et();var aI,fI=function(t,n){this.xe=void 0,this.VQ=void 0,this.xe=t,this.VQ=n},vI=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).KQ=void 0,r.jQ=0,r.QQ=0,r.YQ=function(t){if(t.length>0){var n=t[t.length-1].contentRect;r.QQ=n.width,r.jQ=n.height,r.VQ(r.QQ,r.jQ)}},r.KQ=new f.ResizeObserver(r.YQ),r.KQ.observe(r.xe),r}return Ct(n,t),n.prototype.kn=function(){this.KQ.disconnect()},Nt(n,[{key:"Iu",get:function(){return this.jQ}},{key:"Eu",get:function(){return this.QQ}}]),n}(fI);F(),Et(),Bt(),Dt(),F(),Et(),Ut();var dI=["Webkit","Moz","O","ms"],lI=function(){var t=!1;try{if(void 0!==f&&"function"==typeof f.addEventListener){var n=k.defineProperty({},"passive",{get:function(){t=!0}});f.addEventListener("testPassiveEventSupport",di,n),f.removeEventListener("testPassiveEventSupport",di,n)}}catch(t){}return t}(),wI=Ju();function gI(t){return wI.has(t)||wI.set(t,function(t){var n=(aI||(aI=f&&f.document&&f.document.createElement("span")),aI);if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i,r=t.charAt(0).toUpperCase()+t.slice(1),e=Lt(dI);!(i=e()).done;){var s=i.value+r;if(void 0!==n.style[s])return s}return t}(t)),wI.get(t)}function _I(t){var n=t.style;n.position="absolute",n.left="0",n.right="0",n.bottom="0",n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function mI(t){var n=t.style;n.position="absolute",n.left="0",n.top="0",n[gI("transition")]="0s"}var yI=function(t){function n(n,i,r){var e;(e=t.call(this,n,i)||this).iK=void 0,e.JQ=0,e.QQ=NaN,e.jQ=NaN,e.ZQ=void 0,e.sK=void 0,e.tK=void 0,e.nK=void 0,e.rK=void 0,e.hr=function(){var t=1e5;e.sK.style.width=t+"px",e.sK.style.height=t+"px",e.ZQ.scrollLeft=t,e.ZQ.scrollTop=t,e.tK.scrollLeft=t,e.tK.scrollTop=t,0===e.tK.scrollTop&&rI(e.hr)},e.hK=function(){var t=e.Eu,n=e.Iu;e.VQ(t,n),e.QQ=t,e.jQ=n,e.hr(),e.JQ=0},e.$Q=function(){if(!e.JQ){var t=e.Eu,n=e.Iu;t===e.QQ&&n===e.jQ||(e.JQ=rI(e.hK))}},e.eK=function(){e.rK||(e.rK=w(e.oK,66))},e.oK=function(){e.rK=void 0,e.aK()},e.aK=function(){e.$Q()};var s=function(t,n){return f.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");r||"static"!==s||(n.style.position="relative");var u=v.createElement("div");return e.iK=u,e.ZQ=v.createElement("div"),e.sK=v.createElement("div"),e.tK=v.createElement("div"),e.nK=v.createElement("div"),_I(e.ZQ),_I(e.tK),mI(e.sK),function(t){mI(t),t.style.width="200%",t.style.height="200%"}(e.nK),u.appendChild(e.ZQ),u.appendChild(e.tK),e.ZQ.appendChild(e.sK),e.tK.appendChild(e.nK),n.appendChild(u),e.ZQ.addEventListener("scroll",e.$Q),e.tK.addEventListener("scroll",e.$Q),f&&f.addEventListener("resize",e.eK),e.$Q(),e}return Ct(n,t),n.prototype.kn=function(){eI(this.JQ),this.JQ=0,this.ZQ.removeEventListener("scroll",this.$Q),this.tK.removeEventListener("scroll",this.$Q),$n(this.iK),f&&f.removeEventListener("resize",this.eK)},Nt(n,[{key:"Iu",get:function(){return this.xe.getBoundingClientRect().height||this.jQ||0}},{key:"Eu",get:function(){return this.xe.getBoundingClientRect().width||this.QQ||0}}]),n}(fI),pI=function(t){function n(n){var i;return(i=t.call(this)||this).xe=void 0,i.KQ=void 0,i.YQ=function(t,n){i.So(new cI(t,n))},i.xe=n,i}Ct(n,t);var i=n.prototype;return i._n=function(t){this.KQ||("function"==typeof f.ResizeObserver?this.KQ=new vI(this.xe,this.YQ):this.KQ=new yI(this.xe,this.YQ,t))},i.kn=function(){this.Vo(),this.KQ&&(this.KQ.kn(),this.KQ=void 0)},Nt(n,[{key:"Iu",get:function(){return this.KQ?this.KQ.Iu:0}},{key:"Eu",get:function(){return this.KQ?this.KQ.Eu:0}}]),n}(th);F(),Et(),Bt(),Dt(),Ut(),F(),Et(),Dt();var kI=function(t){function n(){return t.call(this,KT.pa)||this}return Ct(n,t),n}(rh);F(),Et(),Ut();var bI=function(){if(v)for(var t,n=Lt([["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]]);!(t=n()).done;){var i=t.value;if(i[1]in v)return{uK:i[0],sa:i[1],cK:i[2],dK:i[3],Ze:i[4],lK:i[5]}}}();F(),Et(),Dt();var AI=function(t){function n(){return t.call(this,KT.ka)||this}return Ct(n,t),n}(rh),TI=function(t){function n(i){var r;return(r=t.call(this)||this).xe=void 0,r.ca=void 0,r.ds=!1,r.fK=function(){return r._K()},r.vK=function(){return r.gK()},r.xe=i,r.ca=n.la(i),v.addEventListener(bI.Ze,r.fK),r._K(),r}Ct(n,t);var i=n.prototype;return i.yo=function(){var t=this.xe[bI.uK]();t&&t.then?t.then(this.fK,this.vK):(v.removeEventListener(bI.lK,this.vK),v.addEventListener(bI.lK,this.vK))},i.jo=function(){var t=v[bI.sa]();t&&t.then?t.then(this.fK,this.vK):(v.removeEventListener(bI.lK,this.vK),v.addEventListener(bI.lK,this.vK))},i._K=function(){var t=this.ds,n=this.xe===v[bI.cK];this.ds=n,t!==n&&this.So(new kI)},i.gK=function(){this.So(new JT)},i.kn=function(){this.Vo(),v.removeEventListener(bI.Ze,this.fK),v.removeEventListener(bI.lK,this.vK)},n.la=function(t){return Boolean(bI&&v[bI.dK]&&bI.uK in t)},n}(th),SI=function(t){function n(i){var r;return(r=t.call(this)||this).xe=void 0,r.ca=void 0,r.ds=!1,r.fK=function(){return r._K()},r.xe=i,r.ca=n.la(i),r.xe.addEventListener("webkitbeginfullscreen",r.fK),r.xe.addEventListener("webkitendfullscreen",r.fK),r.xe.addEventListener("webkitpresentationmodechanged",r.fK),r._K(),r}Ct(n,t);var i=n.prototype;return i.yo=function(){var t=this;this.xe.webkitSupportsPresentationMode&&this.xe.webkitSupportsPresentationMode("fullscreen")?On.ru?requestAnimationFrame(function(){return t.xe.webkitSetPresentationMode("fullscreen")}):this.xe.webkitSetPresentationMode("fullscreen"):this.xe.webkitEnterFullscreen()},i.jo=function(){this.xe.webkitSupportsPresentationMode&&this.xe.webkitSupportsPresentationMode("inline")?this.xe.webkitSetPresentationMode("inline"):this.xe.webkitExitFullscreen()},i._K=function(){var t,n=this.ds;t=this.xe.webkitPresentationMode?"fullscreen"===this.xe.webkitPresentationMode:Boolean(this.xe.webkitDisplayingFullscreen),this.ds=t,n!==t&&this.So(new kI)},i.kn=function(){this.Vo(),this.xe.removeEventListener("webkitbeginfullscreen",this.fK),this.xe.removeEventListener("webkitendfullscreen",this.fK),this.xe.removeEventListener("webkitpresentationmodechanged",this.fK)},n.la=function(t){return On.ru&&("webkitEnterFullscreen"in t||"webkitSupportsPresentationMode"in t)},n}(th),EI=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).wK=[],n.pK=void 0,n.mK=!1,n._K=function(){var t=n.mK,i=n.SK();t!==i&&(n.mK=i,n.So(new kI))},n}Ct(n,t);var i=n.prototype;return i.yo=function(){this.pK?this.pK.yo():this.So(new JT)},i.jo=function(){for(var t,n=Lt(this.wK);!(t=n()).done;){var i=t.value;i.ds&&i.jo()}},i.yK=function(t){this.pK=t},i.AK=function(t){this.wK.push(t),t.wn(KT.pa,this._K),t.wn(KT.ma,this.Rs),this._K()},i.bK=function(t){Xi(this.wK,t),t.mn(KT.pa,this._K),t.mn(KT.ma,this.Rs)},i.SK=function(){for(var t,n=Lt(this.wK);!(t=n()).done;){if(t.value.ds)return!0}return!1},i.hr=function(){this.pK=void 0,this.mK=!1;for(var t,n=Lt(this.wK.slice());!(t=n()).done;){var i=t.value;this.bK(i),i.kn()}this._K()},i.kn=function(){this.Vo(),this.hr()},Nt(n,[{key:"ca",get:function(){return!!this.pK&&this.pK.ca}},{key:"ds",get:function(){return this.mK}}]),n}(th),II=function(t){function n(n,i){var r;return(r=t.call(this)||this).t=void 0,r.TK=void 0,r.kK=void 0,r.ga=!1,r.xK=function(){return r.er()},r._K=function(t){r.ga||r.So(t)},r.t=n,r.TK=i,r.kK=new ZT,r.EK(),r.t.wn(eh.Nw,r.xK),r.er(),r}Ct(n,t);var i=n.prototype;return i.yo=function(){this.TK&&this.kK.yo()},i.jo=function(){this.kK.jo()},i.EK=function(){this.kK.wn([KT.pa,KT.ka],this._K),this.kK.wn(KT.ma,this.Rs)},i.PK=function(){this.kK.mn([KT.pa,KT.ka],this._K),this.kK.mn(KT.ma,this.Rs)},i.er=function(){var t=this.kK,n=this.t.Hx();if(t!==n){this.ga=!0;var i=this.ds,r=this.ca;i&&this.jo(),this.PK(),this.kK=n,this.EK(),i&&!this.ds&&this.ca?this.yo():this.jo(),this.ga=!1,r!==this.ca&&this.So(new AI),i!==this.ds&&this.So(new kI)}},i.kn=function(){this.Vo(),this.PK(),this.t.mn(eh.Nw,this.xK)},Nt(n,[{key:"ca",get:function(){return!!this.TK&&this.kK.ca}},{key:"ds",get:function(){return this.kK.ds}}]),n}(th);F(),Et(),Wt(),Bt(),Dt(),Qt(),F(),Et(),Dt(),F(),Et();var RI=function(t){return t.MODE_CHANGE="presentationmodechange",t.ERROR="error",t}({}),CI=function(t){function n(n){var i;return(i=t.call(this,RI.MODE_CHANGE)||this).presentationMode=void 0,i.presentationMode=n,i}return Ct(n,t),n}(rh);F(),Et(),F(),Et(),Dt(),Ut();var DI=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this,n)||this).RK=[],r.BK=void 0,r.DK=function(t){pr(function(){r.Rs(t)})},r.BK=i?r.DK:r.Rs,r}Ct(n,t);var i=n.prototype;return i.au=function(t){t.lw(this.BK),this.RK.push(t)},i.CK=function(t){t.mw(this.BK),Xi(this.RK,t)},i.kn=function(){this.Vo();for(var t,n=Lt(this.RK);!(t=n()).done;){t.value.mw(this.BK)}Yi(this.RK)},n}(ih);F(),Et(),Bt(),Dt();var PI=function(t){function n(n){var i;return(i=t.call(this,RI.ERROR)||this).errorObject=void 0,i.errorObject=n,i}return Ct(n,t),n.prototype.xa=function(){return this},Nt(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(kw);F(),Et(),Dt();var NI=function(t){function n(n,i,r){return t.call(this,n,i,r)||this}return Ct(n,t),n}(fd),BI=function(t){function n(n,i){var r;return(r=t.call(this)||this).Yo=yT.INLINE,r.ra=!1,r.ha=void 0,r.ea=void 0,r.ta=new yd,r.hu=void 0,r._K=function(){r._i()},r.gK=function(){r.ra||(r.So(new _b(new fd(cd.FULLSCREEN_ERROR,"Failed to enter fullscreen."))),r._i())},r.UK=function(){r.ra||(r.Yo!==yT.NATIVE_PICTURE_IN_PICTURE||r.ea.XL?r.Yo!==yT.NATIVE_PICTURE_IN_PICTURE&&r.ea.XL&&r.Jo(yT.NATIVE_PICTURE_IN_PICTURE):r.Jo(yT.INLINE))},r.VK=function(){r.ra||(r.So(new PI(new NI(cd.PICTURE_IN_PICTURE_ERROR,"Unexpected native picture-in-picture error."))),r.UK())},r.ha=n,r.ea=i,r.ha.wn(KT.pa,r._K),r.ha.wn(KT.ma,r.gK),r.ea.wn(DT.zL,r.UK),r.ea.wn(DT.GL,r.UK),r.ea.wn(DT.ma,r.VK),r}Ct(n,t);var i=n.prototype;return i.xa=function(){return function(t){var n,i={get currentMode(){return t.Wo()},requestMode:function(n){var i=ET(n);i&&t.Jo(i)},supportsMode:function(n){var i=ET(n);return!!i&&t.Xo(i)},addEventListener:function(t,i){n.wn(t,i)},removeEventListener:function(t,i){n.mn(t,i)}};return(n=new DI(i,!0)).au(t),i}(this)},i.Jo=function(t){this.Yo!==t&&(this.Yo=t,this.ra=!0,this.Ko(t))},i.Wo=function(){return this.Yo},i.Xo=function(t){switch(t){case yT.NATIVE_PICTURE_IN_PICTURE:return this.ea.jL;case yT.FULLSCREEN:return this.ha.ca;case yT.INLINE:return!0}return!1},i.Ko=function(t){var n=this;switch(this.ta.Zg(),t){case yT.FULLSCREEN:kr(this.ta.Zo(function(t){return n.NK(t)}));break;case yT.NATIVE_PICTURE_IN_PICTURE:kr(this.ta.Zo(function(t){return n.MK(t)}));break;case yT.INLINE:kr(this.ta.Zo(function(t){return n.LK(t)}))}},i.NK=function(t){return Vt(function(){var n;return zt(this,function(i){switch(i.label){case 0:return dr(t),[4,this.ea.jo().catch(di)];case 1:i.sent(),dr(t),i.label=2;case 2:return i.trys.push([2,4,5,6]),[4,this.FK()];case 3:return i.sent(),this.So(new CI(this.Yo)),[3,6];case 4:throw i.sent(),n=new NI(cd.FULLSCREEN_ERROR,"Failed to enter fullscreen."),this.So(new PI(n)),dr(t),this.Jo(yT.INLINE),n;case 5:return this.ra=!1,[7];case 6:return[2]}})}).call(this)},i.MK=function(t){return Vt(function(){var n;return zt(this,function(i){switch(i.label){case 0:return dr(t),[4,this.sa().catch(di)];case 1:i.sent(),dr(t),i.label=2;case 2:return i.trys.push([2,4,5,6]),[4,this.ea.yo()];case 3:return i.sent(),this.So(new CI(this.Yo)),[3,6];case 4:throw i.sent(),n=new NI(cd.PICTURE_IN_PICTURE_ERROR,"Failed to enter native picture-in-picture."),this.So(new PI(n)),dr(t),this.Jo(yT.INLINE),n;case 5:return this.ra=!1,[7];case 6:return[2]}})}).call(this)},i.LK=function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return dr(t),[4,this.sa().catch(di)];case 1:return n.sent(),dr(t),[4,this.ea.jo().catch(di)];case 2:return n.sent(),this.So(new CI(this.Yo)),this.ra=!1,[2]}})}).call(this)},i.FK=function(){return Vt(function(){var t;return zt(this,function(n){switch(n.label){case 0:return this.ha.ds?[2]:(t=this.ha.ww([KT.pa,KT.ma]),this.ha.yo(),[4,t]);case 1:if(n.sent(),!this.ha.ds)throw new y("Failed to enter fullscreen.");return[2]}})}).call(this)},i.sa=function(){return Vt(function(){var t;return zt(this,function(n){switch(n.label){case 0:return this.ha.ds?(t=this.ha.ww([KT.pa,KT.ma]),this.ha.jo(),[4,t]):[2];case 1:if(n.sent(),this.ha.ds)throw new y("Failed to exit fullscreen.");return[2]}})}).call(this)},i._i=function(){this.ra||(this.Yo!==yT.FULLSCREEN||this.ha.ds?this.Yo!==yT.FULLSCREEN&&this.ha.ds&&this.Jo(yT.FULLSCREEN):this.Jo(yT.INLINE))},i.kn=function(){this.ha.mn(KT.pa,this._K),this.ha.mn(KT.ma,this.gK),this.ea.mn(DT.zL,this.UK),this.ea.mn(DT.GL,this.UK),this.ea.mn(DT.ma,this.VK),this.Vo()},Nt(n,[{key:"Ca",get:function(){return this.hu||(this.hu=this.xa()),this.hu}}]),n}(ih);F(),Et(),Wt(),Qt();var xI=function(){function t(t){this.Iz=void 0,this.WK=void 0,this.Iz=t,this.WK=new yd}var n=t.prototype;return n.HK=function(t){var n=this;return this.WK.Zo(function(){return n.qK(t)})},n.qx=function(){this.Iz.xz()},n.qK=function(n){return Vt(function(){var i,r,e;return zt(this,function(s){switch(s.label){case 0:return i=this.Iz.Gq(ig.Bk),r=i.$W,[4,t.zK(r,n)];case 1:return e=s.sent(),[4,this.Iz.Pq(i)];case 2:return s.sent(),[2,e]}})}).call(this)},n.kn=function(){this.WK.kn()},t.zK=function(n,i){return Vt(function(){var r;return zt(this,function(e){switch(e.label){case 0:return On.S_||On.w_?[2,"all"]:(n.src||(n.src="data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"),[4,t.GK()]);case 1:return e.sent(),(r=!i)?[4,t.XK(n,!1)]:[3,3];case 2:r=e.sent(),e.label=3;case 3:return r?[2,"all"]:[4,t.XK(n,!0)];case 4:return e.sent()?[2,"muted"]:[2,"none"]}})})()},t.XK=function(t,n){return Vt(function(){var i,r;return zt(this,function(e){switch(e.label){case 0:t.muted=n,i=t.play(),e.label=1;case 1:return e.trys.push([1,3,4,5]),jn(i)?(r=Ar(250),[4,ut.race([i,r])]):[2,!On.Ks];case 2:return e.sent(),[2,!0];case 3:return e.sent(),[2,!1];case 4:return t.pause(),t.muted=!0,[7];case 5:return[2]}})})()},t.GK=function(){return new ut(function(t){if("function"==typeof MessageChannel){var n=new MessageChannel;n.port1.onmessage=function(){return t()},n.port2.postMessage("")}else w(t,0)})},t}(),OI=xI;function MI(t){OI=t}function LI(t){var n;return{get url(){return t.Yu},get method(){return t.Uk},get headers(){return n||(n=t.fk.MT()),n},get body(){return t.zT},get useCredentials(){return t.zk},get type(){return t.Km},get subType(){return t.Wk},get mediaType(){return t.qk},get responseType(){return t.dk}}}function UI(t){switch(t.toLowerCase()){case"arraybuffer":return Md.CT;case"json":return Md.DT;case"stream":return Md.BT;default:return Md.NT}}function FI(t){switch(t.toUpperCase()){case"POST":return wl.POST;case"PUT":return wl.PUT;case"DELETE":return wl.DELETE;case"HEAD":return wl.HEAD;case"OPTIONS":return wl.OPTIONS;default:return wl.GET}}function VI(t){switch(t.toLowerCase()){case"manifest":return gl.wk;case"segment":return gl.yk;case"preload-hint":return gl.Ak;case"content-protection":return gl.bk;default:return gl.pk}}function HI(t){switch(t.toLowerCase()){case"initialization-segment":return _l.Sk;case"fairplay-license":return _l.Tk;case"fairplay-certificate":return _l.Ek;case"widevine-license":return _l.Pk;case"widevine-certificate":return _l.xk;case"playready-license":return _l.Ik;case"clearkey-license":return _l.Rk;case"aes128-key":return _l.Ck;default:return _l.pk}}function WI(t){switch(t.toLowerCase()){case"audio":return ml.Dk;case"video":return ml.Bk;case"text":return ml.NT;case"image":return ml.Nk;default:return ml.pk}}F(),Et(),Wt(),Dt(),H(),Ut(),Qt(),F(),Et(),Bt(),Dt(),F(),Et(),F(),Et(),Wt(),Bt(),Qt();var zI=function(){function t(t,n){this.uY=void 0,this.hY=void 0,this.QK=void 0,this.eY=void 0,this.hu=void 0,this.JK=void 0,this.aE=void 0,this.tY=void 0,this.uY=t,this.hY=n,this.QK=new Vc,this.eY=[],this.hu=void 0,this.JK=!1,this.aE=void 0,this.tY=0}var n=t.prototype;return n.cD=function(){this.JK=!0,this.QK.Xy(null)},n.iY=function(){this.QK.jy(new Hd(this.eY))},n.sY=function(t){if(!this.ZK)throw new p("Cannot respond more than once");if(!zn(t))throw new p("Expected valid response");this.aE=this.nY(t),this.cD()},n.rY=function(){try{var t=this.hY(this.Ca);t?this.oY(t):this.$K||this.YK||this.cD()}catch(t){this.eY.push(t),this.iY()}},n.oY=function(t){if(this.YK)throw new y("Request has been redirected or a response already exists");if(jn(t))this.aY(t);else{if("function"!=typeof t)throw new p("Expected promise or function");var n=new Vc;try{var i=t(function(t){t?n.jy(t):n.Xy(void 0)});jn(i)&&n.$g(i)}catch(t){n.jy(t)}this.aY(n.Qy)}},n.aY=function(t){return Vt(function(){var n;return zt(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),this.tY++,[4,t];case 1:return i.sent(),this.tY--,this.$K||this.YK||(this.eY.length?this.iY():this.cD()),[3,3];case 2:return n=i.sent(),this.tY--,this.eY.push(n),this.$K||this.YK||this.iY(),[3,3];case 3:return[2]}})}).call(this)},Nt(t,[{key:"jK",get:function(){return this.QK.Qy}},{key:"Ca",get:function(){return this.hu||(this.hu=this.KK()),this.hu}},{key:"YK",get:function(){return this.JK}},{key:"ZK",get:function(){return!this.JK}},{key:"$K",get:function(){return this.tY>0}},{key:"oE",get:function(){return this.aE}}]),t}(),XI=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).cY=void 0,e.cY=r,e.rY(),e}Ct(n,t);var i=n.prototype;return i.KK=function(){return function(t){var n,i=LI(t.lk);return{get closed(){return!t.ZK},get request(){return i},get url(){return t.Yu},get status(){return t.hk},get statusText(){return t.vk},get headers(){return n||(n=t.fk.MT()),n},get body(){return t.zT},respondWith:function(n){return t.sY(n)},waitUntil:function(n){return t.oY(n)}}}(this)},i.nY=function(t){return n.dY(t,this.uY,this.cY)},n.dY=function(t,n,i){var r=void 0===t.body?i:t.body;return new ll({ck:r,lk:n.lk,dk:n.lk.dk,fk:t.headers,hk:t.status,vk:t.statusText,gk:t.url,_k:!0},n)},Nt(n,[{key:"zT",get:function(){return this.cY}},{key:"fk",get:function(){return this.uY.fk}},{key:"lk",get:function(){return this.uY.lk}},{key:"oE",get:function(){return this.aE}},{key:"hk",get:function(){return this.uY.hk}},{key:"vk",get:function(){return this.uY.vk}},{key:"Yu",get:function(){return this.uY.gk}}]),n}(zI);F(),Et(),Bt(),Dt();var qI=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).vY=void 0,e.lY=void 0,e.lY=r,e.rY(),e}Ct(n,t);var i=n.prototype;return i.KK=function(){return function(t){var n;return{get url(){return t.Yu},get method(){return t.Uk},get headers(){return n||(n=t.fk.MT()),n},get body(){return t.zT},get closed(){return!t.ZK},get useCredentials(){return t.zk},get type(){return t.Km},get subType(){return t.Wk},get mediaType(){return t.qk},get responseType(){return t.dk},redirect:function(n){return t._Y(n)},respondWith:function(n){return t.sY(n)},waitUntil:function(n){return t.oY(n)}}}(this)},i.nY=function(t){var n=this.uY.zT,i=new ll({ck:n,fk:{},lk:this.uY,gk:this.uY.Yu,dk:this.uY.dk,hk:200,vk:"OK"});return XI.dY(t,i,n)},i._Y=function(t){if(!this.ZK)throw new p("Cannot redirect, already redirected or has a response");var n;n=qn(t)?{url:t}:t,this.vY=function(t,n){return new pl({Yu:void 0===t.url?n.Yu:t.url,Uk:void 0!==t.method?FI(t.method):void 0,fk:t.headers,zT:t.body,zk:t.useCredentials,Km:void 0!==t.type?VI(t.type):void 0,Wk:void 0!==t.subType?HI(t.subType):void 0,qk:void 0!==t.mediaType?WI(t.mediaType):void 0,dk:void 0!==t.responseType?UI(t.responseType):void 0},n)}(n,this.uY),this.cD()},Nt(n,[{key:"zT",get:function(){return this.uY.zT}},{key:"ZK",get:function(){return this.lY&&!this.JK}},{key:"fk",get:function(){return this.uY.fk}},{key:"Uk",get:function(){return this.uY.Uk}},{key:"fY",get:function(){return this.vY}},{key:"oE",get:function(){return this.aE}},{key:"dk",get:function(){return this.uY.dk}},{key:"Vk",get:function(){return this.uY.Vk}},{key:"Hk",get:function(){return this.uY.Hk}},{key:"Yg",get:function(){return this.uY.Yg}},{key:"Km",get:function(){return this.uY.Km}},{key:"Wk",get:function(){return this.uY.Wk}},{key:"qk",get:function(){return this.uY.qk}},{key:"Yu",get:function(){return this.uY.Yu}},{key:"zk",get:function(){return this.uY.zk}},{key:"jk",get:function(){return this.uY.jk}},{key:"Gk",get:function(){return this.uY.Gk}},{key:"Xk",get:function(){return this.uY.Xk}},{key:"Qk",get:function(){return this.uY.Qk}}]),n}(zI);var GI=function(t){function n(n,i){var r;void 0===i&&(i=!0);var e=new jI(n);return(r=t.call(this,e,i)||this).pY=void 0,r.pY=e,r}Ct(n,t);var i=n.prototype;return i.gY=function(t){this.pY.gY(t)},i.mY=function(t){this.pY.mY(t)},i.wY=function(t){this.pY.wY(t)},i.hX=function(t){this.pY.hX(t)},i.cX=function(t){this.pY.cX(t)},n}(bl),jI=function(){function t(t){this.$k=void 0,this.SY=[],this.TY=[],this.$k=t}var n=t.prototype;return n.lk=function(t){return Vt(function(){var n,i;return zt(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,5]),[4,this.yY(t,t.Yg)];case 1:return n=r.sent(),[3,5];case 2:return V(i=r.sent(),Dl)?[4,this.AY(i,t.Yg)]:[3,4];case 3:return[2,r.sent()];case 4:throw i;case 5:return[4,this.bY(n,t.Yg)];case 6:if(dl(n=r.sent()))return[2,n];throw new Nl(n)}})}).call(this)},n.Kk=function(t){return this.$k.Kk(t)},n.yY=function(t,n){return Vt(function(){var i,r,e,s,u,o;return zt(this,function(h){switch(h.label){case 0:dr(n),i=t,e=Lt(this.SY.slice()),h.label=1;case 1:if((s=e()).done)return[3,7];if(u=s.value,dr(n),(o=new qI(i,u,!r)).YK)return[3,5];h.label=2;case 2:return h.trys.push([2,4,,5]),[4,o.jK];case 3:return h.sent(),[3,5];case 4:return h.sent(),[3,6];case 5:o.fY&&!r?i=o.fY:o.oE&&!r&&(r=o.oE),h.label=6;case 6:return[3,1];case 7:return r?[2,r]:[2,this.$k.lk(i)]}})}).call(this)},n.AY=function(t,n){return Vt(function(){var i,r,e;return zt(this,function(s){switch(s.label){case 0:return V(t,Nl)?i=t.oE:(r=t.lk,i=new ll({ck:null,lk:r,dk:r.dk,hk:0,vk:""})),[4,this.bY(i,n)];case 1:if((e=s.sent())===i)throw t;if(dl(e))return[2,e];throw new Nl(e)}})}).call(this)},n.bY=function(t,n){return Vt(function(){var i,r,e,s,u,o;return zt(this,function(h){switch(h.label){case 0:i=t,r=Lt(this.TY.slice()),h.label=1;case 1:return(e=r()).done?[3,8]:(s=e.value,dr(n),[4,ut.resolve(i.Ly().ck(n))]);case 2:if(u=h.sent(),(o=new XI(i,s,u)).YK)return[3,6];h.label=3;case 3:return h.trys.push([3,5,,6]),[4,o.jK];case 4:return h.sent(),[3,6];case 5:return h.sent(),[3,7];case 6:i=o.oE||i,h.label=7;case 7:return[3,1];case 8:return[2,i]}})}).call(this)},n.gY=function(t){this.SY.unshift(t)},n.mY=function(t){this.SY.push(t)},n.wY=function(t){Xi(this.SY,t)},n.hX=function(t){this.TY.unshift(t)},n.cX=function(t){Xi(this.TY,t)},n.kn=function(){this.$k.kn(),Yi(this.SY),Yi(this.TY)},t}();F(),Et(),Bt(),Dt();var QI=function(){function t(t){this.nV=void 0,this.hu=void 0,this.nV=t}var n=t.prototype;return n.gY=function(t){this.nV.gY(t)},n.wY=function(t){this.nV.wY(t)},n.hX=function(t){this.nV.hX(t)},n.cX=function(t){this.nV.cX(t)},Nt(t,[{key:"Ca",get:function(){return this.hu||(this.hu=function(t){return{addRequestInterceptor:function(n){t.gY(n)},removeRequestInterceptor:function(n){t.wY(n)},addResponseInterceptor:function(n){t.hX(n)},removeResponseInterceptor:function(n){t.cX(n)}}}(this)),this.hu}}]),t}(),YI=function(t){function n(n,i,r){var e;return(e=t.call(this,i)||this).CY=void 0,e.nV=void 0,e.Rz=void 0,e.hu=void 0,e.DY=void 0,e.BY=void 0,e.CY=n,e.nV=i,e.Rz=r,e.DY=function(t){e.So(t)},e.BY=function(t){e.So(t)},e.CY.wn(eh.Xw,e.DY),e.CY.wn(eh.Gw,e.BY),e}Ct(n,t);var i=n.prototype;return i.EY=function(t){this.Rz.EY(t)},i.gY=function(t){this.nV.gY(t)},i.wY=function(t){this.nV.wY(t)},i.hX=function(t){this.nV.hX(t)},i.cX=function(t){this.nV.cX(t)},i.kn=function(){this.Vo(),this.CY.mn(eh.Xw,this.DY),this.CY.mn(eh.Gw,this.BY)},Nt(n,[{key:"Ca",get:function(){return this.hu||(this.hu=function(t){return{get online(){return t.sx},get estimator(){return function(t){return{get bandwidth(){return t.kW},get roundTripTime(){return t.EW}}}(t.kY)},setEstimator:function(n){t.EY(function(t){if(!t)return;return{get kW(){return zw(t.bandwidth)},get EW(){return zw(t.roundTripTime)},PW:function(n){return function(t){if(!t)return;return{PY:function(n){t.markRequestStart(n)},xY:function(n){t.markResponseStart(n)},IY:function(n,i){t.markResponseData(n,i)},RY:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(LI(n)))}}}(n))},addRequestInterceptor:function(n){t.gY(n)},removeRequestInterceptor:function(n){t.wY(n)},addResponseInterceptor:function(n){t.hX(n)},removeResponseInterceptor:function(n){t.cX(n)},addEventListener:function(n,i){t.wn(n,i)},removeEventListener:function(n,i){t.mn(n,i)}}}(this)),this.hu}},{key:"sx",get:function(){return this.CY.sx}},{key:"kY",get:function(){return this.Rz.kY}}]),n}(th);F(),Et(),Bt(),Dt(),F(),Et(),F(),Et();var KI=function(t){return t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth",t}({});F(),Et(),H();function JI(t,n,i,r,e,s){var u=[],o=t-b.max(s,1),h=t+e;if(n&&i){var c=Ti(i,1,5),a=n-c;o=b.min(o,a);var f=n+i+c;h=b.max(h,f)}return 0!==o&&r.qM(0,o)&&u.push([0,o]),r.qM(h,1/0)&&u.push([h,1/0]),u}function ZI(t){return V(t,y)&&"QuotaExceededError"===t.name}F(),Et();var $I={type:KI.BANDWIDTH};function tR(t){var n=Ow($I);return qn(t)?n.type=nR(t):zn(t)&&function(t){switch(t){case KI.PERFORMANCE:case KI.QUALITY:case KI.BANDWIDTH:return!0;default:return!1}}(t.type)&&(n.type=nR(t.type)),zn(t)&&zn(t.metadata)&&(n.metadata=function(t){var n={},i=Ww(t.bitrate);return S(i)||(n.bitrate=i),n}(t.metadata)),n}function nR(t){switch(t){case"bandwidth":return KI.BANDWIDTH;case"performance":return KI.PERFORMANCE;case"quality":return KI.QUALITY}}F(),Et(),Dt();var iR=function(t){function n(n){var i;return(i=t.call(this,"NY")||this).MY=void 0,i.MY=n,i}return Ct(n,t),n}(rh);F(),Et(),Dt();var rR=function(t){function n(n){var i;return(i=t.call(this,"LY")||this).OY=void 0,i.OY=n,i}return Ct(n,t),n}(rh);F(),Et(),Dt();var eR=function(t){function n(n){var i;return(i=t.call(this,"FY")||this).UY=void 0,i.UY=n,i}return Ct(n,t),n}(rh),sR=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).hu=function(t){return{get strategy(){return function(t){return{metadata:t.metadata,type:t.type}}(t.OY)},set strategy(n){t.OY=tR(n)},get targetBuffer(){return t.MY},set targetBuffer(n){var i=Ww(n);S(i)||(t.MY=i)},get bufferLookbackWindow(){return t.UY},set bufferLookbackWindow(n){var i=Ww(n);S(i)||(t.UY=i<=0?30:i)},get maxBufferLength(){return t.QY},get clearBufferWhenSettingTargetQuality(){return t.JY},set clearBufferWhenSettingTargetQuality(n){t.JY=Vw(n)}}}(n),n.qY=$I,n.zY=20,n.jY=30,n.XY=1/0,n.ZY=!1,n.KY=void 0,n.HY=void 0,n}Ct(n,t);var i=n.prototype;return i.VY=function(t){this.HY=t},i.EY=function(t){this.KY=t},i.YY=function(t){var n=b.min(t,.8*this.XY);if(n=b.max(10,n),this.XY===n)return!1;var i=this.GY;this.XY=n;var r=this.GY;return r!==i&&this.So(new iR(r)),!0},Nt(n,[{key:"WY",get:function(){switch(this.qY.type){case KI.PERFORMANCE:return 0;case KI.QUALITY:return 1/0;case KI.BANDWIDTH:return this.qY.metadata&&void 0!==this.qY.metadata.bitrate?this.qY.metadata.bitrate:pb.Ng.fW();default:return pb.Ng.fW()}}},{key:"Ca",get:function(){return this.hu}},{key:"OY",get:function(){return this.qY},set:function(t){this.qY=t,this.So(new rR(t))}},{key:"MY",get:function(){return this.zY},set:function(t){this.zY=t,this.So(new iR(t))}},{key:"GY",get:function(){return b.min(this.zY,this.XY)}},{key:"UY",get:function(){return this.jY},set:function(t){this.jY=t,this.So(new eR(t))}},{key:"QY",get:function(){return this.XY}},{key:"kY",get:function(){var t;return null!=(t=this.KY)?t:this.HY.hq}},{key:"JY",get:function(){return this.ZY},set:function(t){this.ZY=t}}]),n}(th);F(),Et(),Bt(),Dt(),F(),Et(),Dt();var uR=function(t){function n(){return t.call(this,"mI")||this}return Ct(n,t),n.prototype.xa=function(){return new oR},n}(kw),oR=function(t){function n(){return t.call(this,"change")||this}return Ct(n,t),n}(rh);F(),Et(),F(),Et(),Dt(),Ut();var hR=function(t){function n(n,i,r){var e;(e=t.call(this,r)||this).$Y=void 0,e.Zf=void 0,e.tJ=function(t){bw(t)&&pr(function(){e.So(t.Ca)})},e.$Y=n,e.Zf=i;for(var s,u=Lt(e.Zf);!(s=u()).done;){var o=s.value;e.$Y.wn(o,e.tJ)}return e}return Ct(n,t),n.prototype.kn=function(){this.Vo();for(var t,n=Lt(this.Zf);!(t=n()).done;){var i=t.value;this.$Y.mn(i,this.tJ)}},n}(th),cR=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).$Y=void 0,r.tJ=function(t){bw(t)&&pr(function(){r.So(t.Ca)})},r.$Y=n,r.$Y.lw(r.tJ),r}return Ct(n,t),n.prototype.kn=function(){this.Vo(),this.$Y.mw(this.tJ)},n}(ih);var aR=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).OO=0,n.VO=1/0,n.hu=void 0,n}Ct(n,t);var i=n.prototype;return i.hr=function(){0===this.OO&&this.VO===1/0||(this.OO=0,this.VO=1/0,this.So(new uR))},i.iJ=function(){return new TA([this.EO,this.PO],[!0,!0])},Nt(n,[{key:"EO",get:function(){return this.OO},set:function(t){if(this.PO<=t)throw new y("Start time of a clip should be smaller than the end time.");this.OO!==t&&(this.OO=t,this.So(new uR))}},{key:"PO",get:function(){return this.VO},set:function(t){if(t<=this.EO)throw new y("End time of a clip should be larger than the start time.");this.VO!==t&&(this.VO=t,this.So(new uR))}},{key:"Ca",get:function(){return this.hu||(this.hu=function(t){var n,i={get startTime(){return t.EO},set startTime(n){t.EO=n},get endTime(){return t.PO},set endTime(n){t.PO=n},addEventListener:function(t,i){n.wn(t,i)},removeEventListener:function(t,i){n.mn(t,i)}};return n=new cR(t,i),i}(this)),this.hu}}]),n}(ih);F(),Et(),Wt(),Bt(),Dt(),Qt();var fR=function(t){function n(i,r){var e;return(e=t.call(this,i)||this).eJ=void 0,e.nJ=!1,e.lJ=void 0,e.fJ=!1,e.oJ=function(){e.hJ(),e.sJ()},e.Nc=function(){e.aJ(),e.sJ(),e.dJ&&e.MP>=e.eJ.PO-n.vJ&&!e.UP&&(e.lJ=rI(e.Nc))},e.uJ=function(){e.fJ=!0},e.cJ=function(){e.fJ&&(e.fJ=!1,e.sJ())},e.eJ=r,e.eJ.wn("mI",e.oJ),e.PP.wn(eh._y,e.Nc),e}Ct(n,t);var i=n.prototype;return i.OP=function(n,i){var r=this.eJ.iJ().DM(n);t.prototype.OP.call(this,r,i),this.sJ()},i.VP=function(){return t.prototype.VP.call(this)||this.nJ},i.Tx=function(){return TA.jn(t.prototype.Tx.call(this)).Mn(this.eJ.iJ())._s()},i.Gx=function(){this.VP()?this.OP(this.rJ.start(0)):this.hJ(),t.prototype.Gx.call(this),this.sJ()},i.Ta=function(n,i){var r=this;return Vt(function(){return zt(this,function(e){switch(e.label){case 0:return dr(i),this.nJ=!1,this.eJ.hr(),[4,t.prototype.Ta.call(r,n,i)];case 1:return e.sent(),[2]}})}).call(this)},i.kn=function(){return this.eJ.mn("mI",this.oJ),this.PP.mn(eh._y,this.Nc),this.aJ(),t.prototype.kn.call(this)},i.$x=function(n){switch(n.type){case eh.$w:return this.So(n),this.uJ(),!0;case eh.Zw:case eh.Cw:return this.So(n),this.cJ(),!0;case eh.Bw:if(this.dJ)return!0}return t.prototype.$x.call(this,n)},i.aJ=function(){this.lJ&&(eI(this.lJ),this.lJ=void 0)},i.sJ=function(){var t=this.MP,i=this.dJ&&t>=this.eJ.PO-n.fd;this.nJ&&!i?(this.nJ=!1,this.hx&&this.Gx()):this.nJ||!i||this.kx||this.fJ||(this.nJ=!0,this.So(new vT(t)),this.zx())},i.hJ=function(){if(this.ct!==1/0){var t=this.rJ,i=TA.jn(t).DM(this.MP);Si(this.MP,i,n.fd)||this.OP(i)}},Nt(n,[{key:"rJ",get:function(){return this.Tx().length?this.Tx():this.eJ.iJ()._s()}},{key:"dJ",get:function(){return this.eJ.PO<this.ct}}]),n}(Yb);fR.vJ=1,fR.fd=.001,F(),Et(),Bt();var vR=function(){function t(){this.gJ=void 0,this.gJ=!1}return Nt(t,[{key:"_J",get:function(){return this.gJ},set:function(t){this.gJ=t}}]),t}();F(),Et(),Dt();var dR=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).gJ=void 0,r.mJ=!1,r.pJ=!1,r.gJ=i,r}Ct(n,t);var i=n.prototype;return i.VP=function(){return!this.gJ._J&&t.prototype.VP.call(this)},i.zx=function(){this.pJ=!0,t.prototype.zx.call(this)},i.Gx=function(){this.pJ=!1,t.prototype.Gx.call(this)},i.$x=function(n){if(this.gJ._J)switch(n.type){case eh.Bw:return this.MP=0,this.pJ||(this.kx?this.mJ=!0:this.Gx()),!0;case eh.Zw:this.mJ&&(this.mJ=!1,this.Gx());break;case eh.jw:if(this.mJ||t.prototype.VP.call(this))return!0}return t.prototype.$x.call(this,n)},n}(Yb);F(),Et(),Bt(),F(),Et();var lR=function(){function t(t){this.oa=void 0,this.hu=void 0,this.oa=t,this.hu=function(t){return{get currentBandwidthEstimate(){return t.nO},get corruptedVideoFrames(){return t.eO},get droppedVideoFrames(){return t.iO},get totalVideoFrames(){return t.sO},get totalBytesLoaded(){return t.rO},get bufferedSegments(){return t.hO}}}(this)}return Nt(t,[{key:"Ca",get:function(){return this.hu}},{key:"eO",get:function(){return this.oa.JP.eO}},{key:"nO",get:function(){return this.oa.JP.nO}},{key:"iO",get:function(){return this.oa.JP.iO}},{key:"wJ",get:function(){throw new y("Not implemented")}},{key:"yJ",get:function(){throw new y("Not implemented")}},{key:"rO",get:function(){return this.oa.JP.rO}},{key:"sO",get:function(){return this.oa.JP.sO}},{key:"hO",get:function(){return this.oa.JP.hO}}]),t}();function wR(t){if(!t||!Sr(t))return{iO:0,eO:0,sO:0,nO:0,rO:0,hO:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}};if("function"==typeof t.getVideoPlaybackQuality){var n=t.getVideoPlaybackQuality();return{iO:n.droppedVideoFrames,eO:n.corruptedVideoFrames||0,sO:n.totalVideoFrames}}return{iO:t.webkitDroppedFrameCount||0,eO:0,sO:t.webkitDecodedFrameCount||0}}F(),Et(),Bt(),Dt(),F(),Et(),Dt();var gR=function(t){function n(){return t.call(this,"AJ")||this}return Ct(n,t),n.prototype.xa=function(){return new _R},n}(kw),_R=function(t){function n(){return t.call(this,"castingchange")||this}return Ct(n,t),n}(rh);F(),Et();var mR=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).SJ=void 0,n.TJ=void 0,n.DJ=!1,n.hu=void 0,n.RJ=function(){var t=n.DJ,i=n.bJ;t!==i&&(n.DJ=i,n.So(new gR))},n}Ct(n,t);var i=n.prototype;return i.PJ=function(t){this.SJ=t,this.xJ(t)},i.IJ=function(t){this.TJ=t,this.xJ(t)},i.xJ=function(t){t.wn("statechange",this.RJ)},i.CJ=function(t){t.mn("statechange",this.RJ)},i.kn=function(){this.Vo(),this.SJ&&(this.CJ(this.SJ),this.SJ=void 0),this.TJ&&(this.CJ(this.TJ),this.TJ=void 0)},Nt(n,[{key:"bJ",get:function(){var t,n;return(null==(t=this.SJ)?void 0:t.bJ)||(null==(n=this.TJ)?void 0:n.bJ)||!1}},{key:"kJ",get:function(){return this.SJ}},{key:"EJ",get:function(){return this.TJ}},{key:"Ca",get:function(){return this.hu||(this.hu=function(t){var n,i={get casting(){return t.bJ},get airplay(){var n;return null==(n=t.kJ)?void 0:n.Ca},get chromecast(){var n;return null==(n=t.EJ)?void 0:n.Ca},addEventListener:function(t,i){n.wn(t,i)},removeEventListener:function(t,i){n.mn(t,i)}};return n=new hR(t,["AJ"],i),i}(this)),this.hu}}]),n}(th);F(),Et(),Wt(),Qt(),F(),Et(),Wt(),Qt();var yR=function(){function t(){}return t.BJ=function(t,n){return Vt(function(){var i;return zt(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),i=new pl({Yu:t,dk:Md.NT,Uk:wl.GET}),[4,n.lk(i)];case 1:return[4,r.sent().ck()];case 2:return[2,r.sent().trim()];case 3:return vr(r.sent()),[2,void 0];case 4:return[2]}})})()},t.NJ=function(t){try{var n=kE(t);return new EE(n.key,n.domains_page,n.domains_source,n.expiration_date,n.features,n.customer_id,n.generation_date,n.sdks,n.send_impression)}catch(t){throw new fd(cd.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.MJ=function(t){void 0===t&&(t=hE.bh),Vn.um("The baked-in license is used. Please update the configuration with your license.");var n=t.rj("F2b-iL'[FL[S"),i=JSON.parse('["F$(:_L50F|aY"]').map(function(n){return t.rj(n)}),r=JSON.parse('[".$hsF|b9_Ess*rS:F]Y\\""]').map(function(n){return t.rj(n)}),e=Number(new Date(Number(t.rj('COD|aHpHa:p3Ceo3Co""')))),s=JSON.parse("[]").map(function(n){return t.rj(n)});return new EE(n,i,r,e,s)},t.convertLicenseToDummyLicense=function(t){return new EE(t._j,t.gj,t.pj,864e13,t.wj,t.yj,Date.now(),t.bj,t.Sj)},t}(),pR="https://validate.theoplayer.com/1/",kR=72e5,bR=b.floor(14399999*b.random()-kR),AR="THEOplayer.license",TR=function(){function t(t,n,i,r,e,s){this.nV=void 0,this.qJ=void 0,this.QJ=void 0,this.fQ=void 0,this.VJ=void 0,this.MA=void 0,this.Vj=void 0,this.nV=t,this.qJ=n,this.QJ=i,this.fQ=r,this.VJ=e,this.MA=s,this.Vj=LE(s)}var n=t.prototype;return n.FJ=function(){return Vt(function(){var t;return zt(this,function(n){switch(n.label){case 0:return[4,this.UJ(this.VJ.license,this.VJ.licenseUrl)];case 1:return t=n.sent(),this.fQ.HJ(t),[2]}})}).call(this)},n.UJ=function(t,n){return Vt(function(){var i,r,e,s,u,o,h,c;return zt(this,function(a){switch(a.label){case 0:return i=n,t?r=yR.NJ(t):i||(r=yR.MJ()),i||(i=pR+r._j),e=this.WJ(),r?(s=this.qJ.Nj(r))!==SE.dj?[3,3]:this.zJ(r.mj)&&this.zJ(null==e?void 0:e.mj)?[4,this.GJ(i)]:[3,2]:[3,3];case 1:if(u=a.sent())return[2,u];a.label=2;case 2:return[2,r];case 3:return e?this.qJ.Nj(e)!==SE.dj?[3,6]:this.zJ(null==e?void 0:e.mj)?[4,this.GJ(i)]:[3,5]:[3,7];case 4:if(o=a.sent())return[2,o];a.label=5;case 5:return[2,e];case 6:qb.Gy(AR),a.label=7;case 7:return[4,yR.BJ(i,this.nV)];case 8:if(h=a.sent()){if(c=yR.NJ(h),this.qJ.Nj(c)===SE.dj)return qb.qy(AR,h),[2,c];qb.Gy(AR)}else if(!this.Vj&&r&&s===SE.lj&&i===pR+r._j)return[2,yR.convertLicenseToDummyLicense(r)];if(!r&&!c)throw new fd(cd.LICENSE_ERROR,"The given license is invalid!");return this.XJ(null!=r?r:c,new fd(cd.LICENSE_ERROR,"The given license is invalid!")),[2]}})}).call(this)},n.xj=function(t){return Vt(function(){var n,i,r,e,s,u,o;return zt(this,function(h){switch(h.label){case 0:return[4,this.fQ.lQ()];case 1:return n=h.sent(),this.zJ(n.mj)?(r=null!=(i=this.VJ.licenseUrl)?i:pR+n._j,[4,this.GJ(r)]):[3,3];case 2:(e=h.sent())&&(this.fQ.HJ(e),n=e),h.label=3;case 3:try{if((s=this.qJ.Nj(n))===SE.vj)throw u=IE.Tj,new fd(DE(u),UE.Dj(u));if(s===SE.lj)throw o=IE.lj,new fd(DE(o),UE.Dj(o));this.qJ.xj(t,n)}catch(t){this.jJ(t)}return[2]}})}).call(this)},n.Bj=function(t){return Vt(function(){var n;return zt(this,function(i){switch(i.label){case 0:return[4,this.fQ.lQ()];case 1:n=i.sent();try{this.qJ.Bj(t,n)}catch(t){this.jJ(t)}return[2]}})}).call(this)},n.GJ=function(t){return Vt(function(){var n,i;return zt(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,yR.BJ(t,this.nV)];case 1:return void 0===(n=r.sent())?[2,void 0]:(i=yR.NJ(n),this.qJ.Nj(i)===SE.dj?(qb.qy(AR,n),[2,i]):[2,void 0]);case 2:return r.sent(),[2,void 0];case 3:return[2]}})}).call(this)},n.zJ=function(t){return!t||Number(new Date)+2592e5+bR>=t},n.WJ=function(){var t=qb.Wy(AR);if(t)return yR.NJ(t)},n.XJ=function(t,n){this.fQ.HJ(t),this.jJ(n)},n.jJ=function(t){throw ze(t.message),this.QJ.gQ(t.message),t},t}();F(),Et(),Wt(),Bt(),Qt();var SR=function(){function t(){this.KJ=void 0,this.YJ=new Vc}var n=t.prototype;return n.HJ=function(t){this.KJ=t,this.YJ.Xy()},n.lQ=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.KJ?[2,ut.resolve(this.KJ)]:[4,this.YJ.Qy];case 1:return t.sent(),[2,this.KJ]}})}).call(this)},Nt(t,[{key:"JJ",get:function(){return this.KJ}}]),t}();F(),Et(),Bt(),Dt(),F(),Et(),Dt();var ER=function(t){function n(){return t.call(this,"mI")||this}return Ct(n,t),n.prototype.xa=function(){return new IR},n}(kw),IR=function(t){function n(){return t.call(this,"change")||this}return Ct(n,t),n}(rh);function RR(t){var n,i={get fontFamily(){return t.ZJ},set fontFamily(n){t.ZJ=n},get fontColor(){return t.$J},set fontColor(n){t.$J=n},get fontSize(){return t.tZ},set fontSize(n){t.tZ=n},get backgroundColor(){return t.iZ},set backgroundColor(n){t.iZ=n},get windowColor(){return t.eZ},set windowColor(n){t.eZ=n},get edgeStyle(){return t.sZ},set edgeStyle(n){t.sZ=n},get marginTop(){return t.nZ},set marginTop(n){t.nZ=n},get marginBottom(){return t.rZ},set marginBottom(n){t.rZ=n},get marginLeft(){return t.hZ},set marginLeft(n){t.hZ=n},get marginRight(){return t.oZ},set marginRight(n){t.oZ=n},addEventListener:function(t,i){var r=Gw(t,Xw);n.wn(r,i)},removeEventListener:function(t,i){var r=Gw(t,Xw);n.mn(r,i)}};return n=new nh(i),t.wn(["mI"],function(t){return n.So(t.Ca)}),i}F(),Et();var CR={ZJ:void 0,$J:void 0,tZ:void 0,iZ:void 0,eZ:void 0,sZ:void 0,nZ:void 0,rZ:void 0,hZ:void 0,oZ:void 0},DR="THEOplayer.textTrackStyle.",PR=function(t){function n(){var i;return(i=t.call(this)||this).uZ=void 0,i.hu=void 0,i.uZ=n.dZ(),i}return Ct(n,t),n.prototype.er=function(t){this.uZ=Yu({},this.uZ,t),n.cZ(this.uZ),this.So(new ER)},n.dZ=function(){var t=Yu({},CR);return t.ZJ=qb.Wy(DR+"fontFamily")||t.ZJ,t.$J=qb.Wy(DR+"fontColor")||t.$J,t.tZ=qb.Wy(DR+"fontSize")||t.tZ,t.iZ=qb.Wy(DR+"backgroundColor")||t.iZ,t.eZ=qb.Wy(DR+"windowColor")||t.eZ,t.sZ=qb.Wy(DR+"edgeStyle")||t.sZ,t},n.cZ=function(t){qb.qy(DR+"fontFamily",t.ZJ||""),qb.qy(DR+"fontColor",t.$J||""),qb.qy(DR+"fontSize",t.tZ||""),qb.qy(DR+"backgroundColor",t.iZ||""),qb.qy(DR+"windowColor",t.eZ||""),qb.qy(DR+"edgeStyle",t.sZ||"")},Nt(n,[{key:"aZ",get:function(){return this.uZ}},{key:"ZJ",get:function(){return this.uZ.ZJ},set:function(t){this.er({ZJ:t})}},{key:"$J",get:function(){return this.uZ.$J},set:function(t){this.er({$J:t})}},{key:"tZ",get:function(){return this.uZ.tZ},set:function(t){this.er({tZ:t})}},{key:"iZ",get:function(){return this.uZ.iZ},set:function(t){this.er({iZ:t})}},{key:"eZ",get:function(){return this.uZ.eZ},set:function(t){this.er({eZ:t})}},{key:"sZ",get:function(){return this.uZ.sZ},set:function(t){this.er({sZ:t})}},{key:"nZ",get:function(){return this.uZ.nZ},set:function(t){this.er({nZ:t})}},{key:"rZ",get:function(){return this.uZ.rZ},set:function(t){this.er({rZ:t})}},{key:"oZ",get:function(){return this.uZ.oZ},set:function(t){this.er({oZ:t})}},{key:"hZ",get:function(){return this.uZ.hZ},set:function(t){this.er({hZ:t})}},{key:"Ca",get:function(){return this.hu||(this.hu=RR(this)),this.hu}}]),n}(th);function NR(t,n){var i,r;t.style.marginLeft=(null!=(i=n.hZ)?i:0)+"px",t.style.marginRight=(null!=(r=n.oZ)?r:0)+"px",t.style.width="calc(100% - "+t.style.marginLeft+" - "+t.style.marginRight+")"}F(),Et(),Wt(),Bt(),Ut(),Qt(),F(),Et(),Bt(),Dt(),F(),Et(),Wt(),Bt(),Dt(),H(),Ut(),Qt(),F(),Et();var BR=[eh.uo,eh.jw,Ey.TM,eh._y,eh.Qw,eh.Ww,eh.$w,eh.Zw,eh.Bw,eh.Kw,eh.gy,eh.Rw,Ey.wI,eh.Jw,zm.ma,fh.Dw,fh.Dy,eh.Pw,eh.Ew,eh.py,eh.yy,eh.LICENSE_REQUEST_GENERATED,eh.Fw,eh.Vw,eh.Lw,eh.Nw],xR={RL:!1};function OR(t){return void 0!==t.Rx}function MR(t){return t.Cd.Km===Sy.wV}F(),Et();var LR=function(t){return t.lZ="fZ",t}({}),UR=["fZ"],FR=function(t){return t[t.vZ=0]="vZ",t[t.BT=1]="BT",t[t._Z=2]="_Z",t}({});F(),Et(),Wt(),Bt(),Dt(),Qt(),F(),Et(),Wt(),Bt(),Dt(),H(),Ut(),Qt();var VR=["loadstart","encrypted","waitingforkey","webkitneedkey","msneedkey"],HR=function(t){return t.gZ="pZ",t.mZ="wZ",t.yZ="AZ",t}({}),WR=function(t){function n(n,i,r,e,s){var u;(u=t.call(this)||this).YS=void 0,u.TL=void 0,u._T=void 0,u.MZ=!1,u.LZ=new Vc,u.kZ=!1,u.ta=new yd,u.PZ=void 0,u.hw=void 0,u.VJ=void 0,u.TS=void 0,u.RZ=function(){u.kZ=!0},u.CZ=function(){u.NZ(!0)},u.YS=n,u.TL=i,u._T=i.$W,u.PZ=r,u.hw=e,u.VJ=s,u._T.addEventListener("loadedmetadata",u.RZ);for(var o,h=Lt(VR);!(o=h()).done;){var c=o.value;u._T.addEventListener(c,u.CZ)}return u}Ct(n,t);var i=n.prototype;return i.bZ=function(t,n){return Vt(function(){var i;return zt(this,function(r){switch(r.label){case 0:return[4,this.hw.nw(t.Ym,n)];case 1:return[4,r.sent().IS()];case 2:return i=r.sent(),[4,this.SZ(i)];case 3:return r.sent(),[2,i]}})}).call(this)},i.TZ=function(t){var n=this,i=this.TS;return i?0!==t.aq.length&&t.aq.some(function(t){return t.kS.Ym===i.kS}):0!==this.YS.aq.length?t.aq.some(function(t){return n.YS.aq.some(function(n){return t.kS===n.kS})}):0===t.aq.length||!this.kZ},i.EZ=function(t){return this.PZ.EZ(t),this.YS=t,ut.resolve()},i.xZ=function(t){this.PZ.xZ(t)},i.IZ=function(){if(!On.vg)return"";var t=this.VJ.ps5;return"; pass_through="+t.passThrough+'; playmode="'+t.playMode+'";'},i.zg=function(){return Vt(function(){var t,n,i;return zt(this,function(r){switch(r.label){case 0:for(this.Vo(),this._T.removeEventListener("loadedmetadata",this.RZ),t=Lt(VR);!(n=t()).done;)i=n.value,this._T.removeEventListener(i,this.CZ);return[4,this.ta.kn()];case 1:return r.sent(),this.DZ(),[4,this.PZ.hr()];case 2:return r.sent(),[4,this.BZ(void 0)];case 3:return r.sent(),[2]}})}).call(this)},i.NZ=function(t){t!==this.MZ&&(this.MZ=t,t?this.LZ.Xy(void 0):this.LZ=new Vc)},i.SZ=function(t){var n=this;return this.ta.Zo(function(){return n.BZ(t)})},i.BZ=function(t){return Vt(function(){var n;return zt(this,function(i){switch(i.label){case 0:if(t&&!this._T.src&&!this._T.srcObject)throw new eg(cd.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");if(!t&&(this._T.src||this._T.srcObject))throw new eg(cd.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");return!t||this.MZ?[3,2]:[4,this.LZ.Qy];case 1:i.sent(),i.label=2;case 2:return(n=this.TS)?[4,n.PS(this._T)]:[3,4];case 3:i.sent(),this.TS=void 0,i.label=4;case 4:return t?[4,t._n(this._T)]:[3,6];case 5:i.sent(),this.TS=t,i.label=6;case 6:return[2]}})}).call(this)},i.Ta=function(t,n){var i=this;return this.ta.Zo(function(){return i.OZ(t,n)})},i.OZ=function(t,n){this.NZ(!1);var i=this.TL.ux;if(qn(t)&&n){var r=this.FZ(t,n);this._T.appendChild(r)}else if(qn(t))this._T.src=t;else if(function(t){if(void 0!==f.ManagedMediaSource&&V(t,f.ManagedMediaSource))return!0;if("undefined"!=typeof MediaSource&&V(t,MediaSource))return!0;return!1}(t))if(function(t){return"srcObject"in t&&On.ru&&On.Q_>=17}(this._T))try{this._T.srcObject=t}catch(n){this._T.src=URL.createObjectURL(t)}else this._T.src=URL.createObjectURL(t);else zR(t)&&(this._T.srcObject=t);this.TL.ux=i},i.FZ=function(t,n){var i=v.createElement("source");return i.src=t,i.type=n+this.IZ(),i},i.UZ=function(t){var n=this;return this.ta.Zo(function(){return n.VZ(t)})},i.VZ=function(t){this.OZ(t),this._T.load()},i.DZ=function(){this.NZ(!1),Er(this._T)},i.HZ=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.TS?[4,this.TS.hr()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})}).call(this)},Nt(n,[{key:"Cd",get:function(){return this.YS}},{key:"$W",get:function(){return this._T}}]),n}(th);function zR(t){return!("undefined"==typeof MediaStream||!V(t,MediaStream))}var XR=function(t){function n(){return t.apply(this,arguments)||this}Ct(n,t);var i=n.prototype;return i.VY=function(){return Vt(function(){var t;return zt(this,function(n){switch(n.label){case 0:switch((t=this.Cd).cq){case oA.aR:case oA.uR:this._T.setAttribute("crossorigin",t.cq);break;case oA.Lk:default:this._T.removeAttribute("crossorigin")}return void 0!==t.mx?this._T.preload=t.mx:this._T.preload=jT.TW,void 0!==t.dq?this._T.title=t.dq:fi(this._T),t.GZ?[4,this.UZ(t.GZ)]:[3,2];case 1:return n.sent(),[3,6];case 2:return On.vg?[4,this.Ta(t.iR,t.qT)]:[3,4];case 3:return n.sent(),[3,6];case 4:return[4,this.Ta(t.iR)];case 5:n.sent(),n.label=6;case 6:return this.PZ.Un(this,t),[2]}})}).call(this)},i.TZ=function(t){return!1},i.EZ=function(t){return ut.resolve(void 0)},i.XZ=function(t){return!1},i.jZ=function(){return!zR(this.YS.GZ)},i.zg=function(){var n=this;return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return fi(this._T),[4,t.prototype.zg.call(n)];case 1:return i.sent(),[2]}})}).call(this)},n.QZ=function(t,n){return!!n.canPlayType&&Boolean(n.canPlayType(t.qT))},Nt(n,[{key:"IP",get:function(){return TA.jn(this._T.buffered)}},{key:"ct",get:function(){return this._T.duration}},{key:"WZ",get:function(){var t=this.ct;if(!isFinite(t))return!1;var n=this.IP;return 0!==n.V&&t-n.An(n.V-1)<ve}},{key:"mx",get:function(){return this._T.preload},set:function(t){this._T.preload=t}},{key:"Sx",get:function(){return TA.jn(this._T.seekable)}},{key:"qZ",get:function(){return this.IP}},{key:"zZ",get:function(){if(Sr(this._T)&&(this._T.videoWidth>0||this._T.videoHeight>0))return this.IP}}]),n}(WR);F(),Et(),Dt();var qR=function(t){function n(n){var i;return(i=t.call(this,eh.Qw)||this).currentTime=void 0,i.currentTime=n,i}return Ct(n,t),n}(rh);F(),Et(),Dt();var GR=function(t){function n(){return t.call(this,eh.Ww)||this}return Ct(n,t),n}(rh);F(),Et(),Wt(),Bt(),Dt(),Ut(),Qt(),F(),Et(),Bt(),Dt();var jR=function(t){return t.KZ="YZ",t}({}),QR=function(t){function n(n){var i;return(i=t.call(this,"YZ")||this).JZ=void 0,i.JZ=n,i}return Ct(n,t),n}(rh),YR=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).$Z=TA.iL(),n}Ct(n,t);var i=n.prototype;return i.t$=function(t,n){var i=new TA([t,n]);this.$Z=this.$Z.OM(i),this.So(new QR(i))},i.i$=function(t,n){this.$Z=this.$Z.UM(new TA([t,n]))},i.hr=function(){this.$Z=TA.iL()},i.kn=function(){this.Vo()},Nt(n,[{key:"ZZ",get:function(){return this.$Z}}]),n}(th);function KR(t,n){return void 0===n&&(n=new Gd({highWaterMark:1/0})),new Xd(new JR(t,n),{highWaterMark:0})}F(),Et(),Wt(),Bt(),Dt(),Qt(),F(),Et(),Wt(),Bt(),Dt(),Qt(),F(),Et();var JR=function(){function t(t,n){var i=this,r=n.size,e=void 0===r?function(){return 1}:r,s=n.highWaterMark,u=void 0===s?1:s;this.Wd=void 0,this.u$=void 0,this.h$=void 0,this.tf=[],this.if=0,this.YJ=void 0,this.r$=!1,this.o$=void 0,this.a$=function(t){return t.done?(i.n$(),void i.YJ.close()):(i.tf.push(t.value),i.if+=i.u$(t.value),i.r$&&i.n$(),i.e$()?i.Wd.read().then(i.a$):void 0)},this.EE=function(t){i.n$(),i.YJ.error(t)},this.Wd=t.getReader(),this.u$=e,this.h$=u}var n=t.prototype;return n.start=function(t){this.YJ=t,this.e$()&&this.s$()},n.pull=function(){this.tf.length>0?this.n$():this.r$=!0,this.e$()&&this.s$()},n.cancel=function(t){return Yi(this.tf),this.if=0,this.r$=!1,this.Wd.cancel(t)},n.n$=function(){if(0!==this.tf.length){var t=this.tf;this.tf=[],this.if=0,this.r$=!1,this.YJ.enqueue(t)}},n.e$=function(){return!!this.r$||this.h$-this.if>0},n.s$=function(){var t=this;if(!this.o$){var n=this.Wd.read().then(this.a$).catch(this.EE);this.o$=n;var i=function(){t.o$===n&&(t.o$=void 0)};n.then(i,i)}},t}();F(),Et(),F(),Et(),Bt(),Dt(),H(),Ut(),F(),Et(),Ut(),F(),Et();var ZR=function(){function t(){this.d$=[],this.Vy=0}var n=t.prototype;return n.c$=function(t){this.d$.push(t),this.Vy+=t.byteLength},n.l$=function(t){if(this.Vy<=t)return this.f$();for(var n=this.d$,i=0,r=0;r<n.length&&i+n[r].byteLength<=t;)i+=n[r].byteLength,r++;var e=n.slice(0,r);if(r<n.length&&i<t){var s=t-i;0,e.push(wc(n[r],0,s)),i+=s}return{d$:e,Vy:i}},n.v$=function(t){var n=this.l$(t);return 1===n.d$.length?n.d$[0]:Bc(n.d$,n.Vy)},n.f$=function(){return{d$:this.d$,Vy:this.Vy}},n._$=function(t){if(this.Vy<=t)return this.g$();for(var n=this.d$,i=0,r=0;r<n.length&&i+n[r].byteLength<=t;)i+=n[r].byteLength,r++;var e=n.splice(0,r);if(n.length>0&&i<t){var s=t-i;0,e.push(wc(n[0],0,s)),n[0]=wc(n[0],s),i+=s}return this.Vy-=i,{d$:e,Vy:i}},n.p$=function(t){var n=this._$(t);return 1===n.d$.length?n.d$[0]:Bc(n.d$,n.Vy)},n.g$=function(){var t=this.f$();return this.d$=[],this.Vy=0,t},n.m$=function(){var t=1===this.d$.length?this.d$[0]:Bc(this.d$,this.Vy);return this.d$=[],this.Vy=0,t},t}(),$R=function(){function t(){this.tf=new ZR,this.Ra=0,this.k$=0,this.N$=0,this.I$()}var n=t.prototype;return n.w$=function(t,n){},n.y$=function(){},n.A$=function(t){this.tf.c$(t),this.b$(!1)},n.S$=function(){this.b$(!0)},n.T$=function(){return 0!==this.Ra||0!==this.tf.Vy},n.b$=function(t){for(;0!==this.tf.Vy;){if(!t&&this.k$>this.tf.Vy)return;switch(this.Ra){case 0:this.E$(t);break;case 1:this.P$(t);break;case 2:this.x$(t)}}},n.I$=function(){this.Ra=0,this.k$=8},n.E$=function(t){var n=_c(this.tf.v$(this.k$)),i=new Tc,r=lm._D(n,i);if(!r.cD)return this.k$=r.pD,void(t&&this.k$>this.tf.Vy&&this.R$(this.tf.Vy));var e=r.gD.Km,s=r.gD.Vy;0===s&&(s=1/0),this.w$(e,s),this.C$(e)?this.D$(s):this.R$(s)},n.D$=function(t){this.Ra=1,this.k$=t},n.P$=function(t){var n=_c(this.tf.p$(this.k$)),i=new Tc,r=lm.dD(n,i,!t);if(!r.cD)throw new dm(i.ac);this.y$(),this.B$(r.lD),this.I$()},n.R$=function(t){this.Ra=2,this.k$=0,this.N$=t},n.x$=function(t){var n=this.tf._$(this.N$);this.N$-=n.Vy;for(var i,r=Lt(n.d$);!(i=r()).done;){var e=i.value;this.M$(e)}(0===this.N$||t&&this.N$===1/0)&&(this.y$(),this.I$())},t}();function tC(t){return V(t,Vf)}function nC(t){return V(t,Uf)}function iC(t){return V(t,Of)||V(t,Mf)}function rC(t){return V(t,uf)}function eC(t){return V(t,Oa)}function sC(t){return V(t,Rf)}function uC(t){return V(t,Ef)}function oC(t){return V(t,Zf)}function hC(t){return V(t,Kf)}function cC(t){return V(t,Gf)}function aC(t){return V(t,Qf)}function fC(t,n){var i=Ui(t.boxes,cC);if(i&&i.flags.baseDataOffsetPresent)i.baseDataOffset=i.baseDataOffset.add(n);else for(var r,e=Lt(t.boxes);!(r=e()).done;){var s=r.value;V(s,Qf)&&s.flags.dataOffsetPresent&&(s.dataOffset=s.dataOffset+n)}}F(),Et(),H(),Ut();var vC=function(t){function n(n){var i;return(i=t.call(this)||this).YJ=void 0,i.Q$=void 0,i.H$=void 0,i.q$=Zu(),i.Q$=n,i}Ct(n,t);var i=n.prototype;return i.start=function(t){this.YJ=t},i.transform=function(t){this.A$(t)},i.flush=function(){this.S$()},i.C$=function(t){return t===um.OR||t===um.IC||t===um.HC},i.B$=function(t){var n=this.L$(t);this.YJ.enqueue(n)},i.M$=function(t){this.YJ.enqueue(t)},i.L$=function(t){var n=mc(t.ck.ck);switch(t.Km){case"moov":return this.O$(n);case"sidx":return this.F$(n);case"moof":return this.U$(n)}return n},i.W$=function(t){var n=this.q$.get(t);if(void 0===n)throw new y("Expected to have found a media header timescale for track ID "+t+".");return n},i.O$=function(t){for(var n=_v(t),i=0;i<n.boxes.length;i++){var r=n.boxes[i];V(r,Pf)?n.boxes[i]=this.z$(r):V(r,Nf)?n.boxes[i]=this.G$(r):V(r,Uf)&&this.X$(r)}for(var e,s=Lt(n.boxes);!(e=s()).done;){var u=e.value;V(u,Rf)&&this.j$(u)}return n.serialize().join()},i.z$=function(t){this.H$=t.timescale;var n=wC(ue.fromNumber(t.duration,!0),this.V$,this.Q$);return 0!==n.getHighBits()?this.G$(function(t){return new Nf({creation:ue.fromNumber(t.creationTime,!0),modification:ue.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:ue.fromNumber(t.duration,!0)},t.nextTrackId,{rate:t.rate,volume:t.volume,matrix:t.matrix},t.flags)}(t)):(t.timescale=this.Q$,t.duration=n.toInt(),t)},i.G$=function(t){return this.H$=t.timescale,t.timescale=this.Q$,t.duration=wC(t.duration,this.V$,this.Q$),t},i.X$=function(t){for(var n,i=0;i<t.boxes.length;i++){var r=t.boxes[i];V(r,Of)?(n=r.trackId,t.boxes[i]=this.K$(r)):V(r,Mf)?(n=r.trackId,t.boxes[i]=this.Y$(r)):V(r,uf)?this.J$(r,n):V(r,Qa)&&this.Z$(r)}},i.K$=function(t){var n=wC(ue.fromNumber(t.duration,!0),this.V$,this.Q$);return 0!==n.getHighBits()?this.Y$(function(t){return new Mf({creation:ue.fromNumber(t.creationTime,!0),modification:ue.fromNumber(t.modificationTime,!0),duration:ue.fromNumber(t.duration,!0)},t.trackId,t.volume,t.width,t.height,{layer:t.layer,alternateGroup:t.alternateGroup,matrix:t.matrix})}(t)):(t.duration=n.toInt(),t)},i.Y$=function(t){return t.duration=wC(t.duration,this.V$,this.Q$),t},i.J$=function(t,n){for(var i=0;i<t.boxes.length;i++){var r=t.boxes[i];V(r,nf)?t.boxes[i]=this.t0(r,n):V(r,rf)&&(t.boxes[i]=this.i0(r,n))}},i.t0=function(t,n){this.q$.set(n,t.timescale);var i=wC(ue.fromNumber(t.duration,!0),t.timescale,this.Q$);return 0!==i.getHighBits()?this.i0(function(t){return new rf({creation:ue.fromNumber(t.creationTime,!0),modification:ue.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:ue.fromNumber(t.duration,!0)},t.language,t.flags)}(t),n):(t.timescale=this.Q$,t.duration=i.toInt(),t)},i.i0=function(t,n){return this.q$.set(n,t.timescale),t.timescale=this.Q$,t.duration=wC(t.duration,t.timescale,this.Q$),t},i.Z$=function(t){for(var n,i=Lt(t.boxes);!(n=i()).done;){var r=n.value;V(r,qa)?this.e0(r):V(r,Ga)&&this.s0(r)}},i.e0=function(t){for(var n,i=Lt(t.entries);!(n=i()).done;){var r=n.value;r.mediaTime=lC(r.mediaTime,this.V$,this.Q$),r.segmentDuration=lC(r.segmentDuration,this.V$,this.Q$)}},i.s0=function(t){for(var n,i=Lt(t.entries);!(n=i()).done;){var r=n.value;r.mediaTime=wC(r.mediaTime,this.V$,this.Q$),r.segmentDuration=wC(r.segmentDuration,this.V$,this.Q$)}},i.j$=function(t){for(var n=0;n<t.boxes.length;n++){var i=t.boxes[n];V(i,Ef)?this.n0(i):V(i,Af)?t.boxes[n]=this.r0(i):V(i,Tf)&&(t.boxes[n]=this.h0(i))}},i.n0=function(t){var n=this.W$(t.trackId);t.defaultSampleDuration=lC(t.defaultSampleDuration,n,this.Q$)},i.r0=function(t){var n=wC(ue.fromNumber(t.fragmentDuration,!0),this.V$,this.Q$);return 0!==n.getHighBits()?this.h0(function(t){return new Tf(ue.fromNumber(t.fragmentDuration,!0),t.flags)}(t)):(t.fragmentDuration=n.toInt(),t)},i.h0=function(t){return t.fragmentDuration=wC(t.fragmentDuration,this.V$,this.Q$),t},i.F$=function(t){var n=mv(t);return(n=V(n,sv)?this.o0(n):this.a0(n)).serialize().join()},i.o0=function(t){var n=t.timescale,i=wC(ue.fromNumber(t.earliestPresentationTime,!0),n,this.Q$);if(0!==i.getHighBits())return this.a0(function(t){return new uv(t.referenceId,t.timescale,ue.fromNumber(t.earliestPresentationTime,!0),ue.fromNumber(t.firstOffset,!0),t.references,t.flags)}(t));t.timescale=this.Q$,t.earliestPresentationTime=i.toInt();for(var r,e=Lt(t.references);!(r=e()).done;){var s=r.value;s.subsegmentDuration=lC(s.subsegmentDuration,n,this.Q$)}return t},i.a0=function(t){var n=t.timescale;t.timescale=this.Q$,t.earliestPresentationTime=wC(t.earliestPresentationTime,n,this.Q$);for(var i,r=Lt(t.references);!(i=r()).done;){var e=i.value;e.subsegmentDuration=lC(e.subsegmentDuration,n,this.Q$)}return t},i.U$=function(t){for(var n,i=yv(t),r=i.getSize(),e=Lt(i.boxes);!(n=e()).done;){var s=n.value;V(s,Kf)&&this.u0(s)}var u=i.getSize();if(u!==r)for(var o,h=u-r,c=Lt(i.boxes);!(o=c()).done;){var a=o.value;V(a,Kf)&&fC(a,h)}return i.serialize().join()},i.u0=function(t){for(var n,i=0;i<t.boxes.length;i++){var r=t.boxes[i];V(r,Gf)?(n=this.W$(r.trackId),this.c0(r,n)):V(r,zf)?t.boxes[i]=this.d0(r,n):V(r,Xf)?t.boxes[i]=this.l0(r,n):V(r,Qf)&&this.f0(r,n)}},i.c0=function(t,n){void 0!==t.defaultSampleDuration&&(t.defaultSampleDuration=lC(t.defaultSampleDuration,n,this.Q$))},i.d0=function(t,n){var i=wC(ue.fromNumber(t.baseMediaDecodeTime,!0),n,this.Q$);return 0!==i.getHighBits()?this.l0(function(t){return new Xf(ue.fromNumber(t.baseMediaDecodeTime,!0),t.flags)}(t),n):(t.baseMediaDecodeTime=i.toInt(),t)},i.l0=function(t,n){return t.baseMediaDecodeTime=wC(t.baseMediaDecodeTime,n,this.Q$),t},i.f0=function(t,n){for(var i,r=0,e=0,s=Lt(t.samples);!(i=s()).done;){var u=i.value;if(void 0!==u.duration){var o=lC(e+=u.duration,n,this.Q$);u.duration=o-r,r=o}void 0!==u.compositionTimeOffset&&(u.compositionTimeOffset=dC(u.compositionTimeOffset,n,this.Q$))}},Nt(n,[{key:"V$",get:function(){if(void 0===this.H$)throw new y("Expected to have found a movie header timescale.");return this.H$}}]),n}($R);function dC(t,n,i){return ue.fromInt(t,!1).multiply(i).divide(n).toNumber()}function lC(t,n,i){return ue.fromInt(t,!0).multiply(i).divide(n).toNumber()}function wC(t,n,i){return f_.gF(t).VF(f_.pF(i,!0)).zF(f_.pF(n,!0)).IF()}var gC=function(){function t(t){this._0=void 0,this._0=new vC(t)}return t.prototype.v0=function(t){return t.pipeThrough(new qd(this._0))},t}();F(),Et(),Ut(),F(),Et();var _C=function(t){return t[t.g0=64]="g0",t[t.p0=103]="p0",t[t.m0=107]="m0",t}({});function mC(t,n,i){var r=Mh(t,n);if(r!==i)throw new p("Expected descriptor with tag "+i+", but found "+r)}function yC(t,n){mC(t,n,3);var i,r,e,s=pC(t,n),u=n.ac+s,o=zh(t,n),h=Mh(t,n),c=!!(64&h),a=!!(32&h),f=31&h;(!!(128&h)&&(i=zh(t,n)),c)&&(r=Kh(t,n,Mh(t,n)));a&&(e=Kh(t,n,2));var v=function(t,n){mC(t,n,4);var i,r=pC(t,n),e=n.ac+r,s=Mh(t,n),u=Mh(t,n),o=u>>2,h=!!(2&u),c=Hh(t,n,3),a=qh(t,n),f=qh(t,n);if(n.ac<e){var v=function(t,n){return t.getUint8(n.ac)}(t,n);5===v&&(i=function(t,n){mC(t,n,5);var i=pC(t,n),r=Uh(t,n,i);return{w0:5,y0:r}}(t,n))}return n.My(e),{w0:4,A0:s,b0:o,S0:h,T0:c,k0:a,E0:f,P0:i}}(t,n);return n.My(u),{w0:3,o:o,x0:i,Yu:r,I0:f,R0:e,C0:v}}function pC(t,n){for(var i=0,r=0;r<4;r++){var e=Mh(t,n);if(i=i<<7|127&e,!(128&e))break}return i}function kC(t,n){for(var i=Mh(t,n),r=Mh(t,n),e=Mh(t,n),s=Mh(t,n),u=3&Mh(t,n),o=31&Mh(t,n),h=[],c=0;c<o;c++){var a=zh(t,n);h.push(Uh(t,n,a))}for(var f=Mh(t,n),v=[],d=0;d<f;d++){var l=zh(t,n);v.push(Uh(t,n,l))}return{D0:i,B0:r,N0:e,M0:s,L0:u,O0:h,F0:v}}function bC(t,n,i){if(!(i&&n.byte>=i)){var r=t.Wy(n.byte);return n.byte+=1,r}}function AC(t,n){return function(t,n,i){for(var r=0,e=i;e>0;)e-=1,r=256*r+bC(t,n);return r}(t,n,2)}F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),F(),Et(),Bt(),Ut();var TC=function(){function t(){this.H0=0,this.V0=[],this.DU={}}var n=t.prototype;return n.U0=function(t){this.V0=this.V0.concat(t.V0),this.H0+=t.V},n.W0=function(t,n,i){var r=this.H0,e=i-n;e>0&&(this.V0.push({q0:n,z0:i,G0:e,X0:r,j0:t}),this.H0+=e)},n.Wy=function(t){for(var n,i=Lt(this.V0);!(n=i()).done;){var r=n.value;if(r.X0<=t&&t<r.X0+r.G0)return r.j0[t+r.q0-r.X0]}},n.Q0=function(t,n){for(var i,r=n,e=Lt(this.V0);!(i=e()).done;)for(var s=i.value,u=s.z0,o=s.q0;o<u;o+=1,r+=1)t[r]=s.j0[o];return r},n.K0=function(){for(var t,n=new E(this.H0),i=0,r=Lt(this.V0);!(t=r()).done;)for(var e=t.value,s=e.z0,u=e.q0;u<s;u+=1,i+=1)n[i]=e.j0[u];return n},n.Ly=function(n){for(var i,r=new t,e=Lt(this.V0);!(i=e()).done;){var s=i.value;r.W0(s.j0,s.q0,s.z0)}return r.DU=n||Yu({},this.DU),r},Nt(t,[{key:"V",get:function(){return this.H0},set:function(t){var n=this.V0,i=this.H0-t;if(!(t>=this.H0))if(this.H0=t,0!==t)for(var r=n.length-1;r>=0;r-=1){var e=n[r];if(i<=e.G0)return e.z0-=i,e.G0-=i,void(n.length!==r+1&&(n.length=r+1));i-=e.G0}else n.length=0}},{key:"ck",get:function(){for(var t,n=new Array(this.H0),i=0,r=Lt(this.V0);!(t=r()).done;)for(var e=t.value,s=e.z0,u=e.q0;u<s;u+=1,i+=1)n[i]=e.j0[u];return n}}]),t}();F(),Et(),Ut();var SC=[128,64,32,16,8,4,2,1];function EC(t,n){var i=b.floor(n.bit/8),r=0===(t.Wy(i)&SC[n.bit%8])?0:1;return n.bit+=1,r}function IC(t,n,i){for(var r=0,e=i;e>0;)e-=1,r=2*r+EC(t,n);return r}function RC(t,n){for(var i=0;0===EC(t,n)&&i<32;)i+=1;return IC(t,n,i)+b.pow(2,i)-1}function CC(t,n){var i=RC(t,n);return 1&i?b.floor((i+1)/2):-b.floor(i/2)}function DC(t,n){var i,r=[],e={byte:1};do{r.push(NC(t,n,e)),i=n.Wy(e.byte)}while(void 0!==i&&128!==i);return r}function PC(t,n){var i,r=0;do{r+=i=bC(t,n)}while(255===i);return r}function NC(t,n,i){var r=PC(n,i),e=PC(n,i),s=i.byte,u=s+e;return i.byte=u,{Y0:t,J0:r,Z0:e,$0:s,t1:u,i1:n}}var BC=function(t){return t[t.e1=1]="e1",t[t.s1=2]="s1",t[t.n1=3]="n1",t[t.h1=4]="h1",t[t.o1=5]="o1",t[t.a1=6]="a1",t[t.u1=7]="u1",t[t.c1=8]="c1",t[t.d1=9]="d1",t}({}),xC=[void 0,[1,1],[12,11],[10,11],[16,11],[40,33],[24,11],[20,11],[32,11],[80,33],[18,11],[15,11],[64,33],[160,99],[4,3],[3,2],[2,1]];function OC(t,n,i){for(var r=8,e=8,s=0;s<i;s+=1){if(0!==e)e=(r+CC(t,n)+256)%256;r=0===e?r:e}}var MC=function(){function t(t){this.g1=void 0,this.v1=[],this._1=0,this.g1=t}var n=t.prototype;return n.l1=function(){for(var t=this.v1,n=b.max(0,this._1+t.length-2),i=this.g1,r=i.V,e=0;n<r;n+=1){var s=i.Wy(n);0===s?e+=1:(3===s&&e>=2&&t.push(n),e=0)}this._1=n-t.length},n.m1=function(t){for(var n,i=t,r=Lt(this.v1);!(n=r()).done;){if(!(n.value<=i))return i;i+=1}return i},n.Wy=function(t){if(!(t>this.g1.V))return t>this._1&&this.l1(),this.g1.Wy(this.m1(t))},t}();function LC(t){var n,i,r,e,s,u,o=new MC(t),h=0,c=0,a=0,f=0,v=o.Wy(1),d={bit:32};if(RC(o,d),100===v||110===v||122===v||144===v){var l=RC(o,d);if(3===l&&(n=EC(o,d)),RC(o,d),RC(o,d),EC(o,d),1===EC(o,d))for(var w=0;w<(3!==l?8:12);w+=1){1===EC(o,d)&&OC(o,d,w<6?16:64)}}var g=RC(o,d),_=RC(o,d);if(0===_)RC(o,d);else if(1===_){EC(o,d),CC(o,d),CC(o,d);for(var m=RC(o,d),y=0;y<m;y+=1)CC(o,d)}RC(o,d),EC(o,d);var p=RC(o,d),k=RC(o,d),A=EC(o,d);if(0===A&&EC(o,d),EC(o,d),1===EC(o,d)&&(h=RC(o,d),c=RC(o,d),a=RC(o,d),f=RC(o,d)),1===EC(o,d)){if(1===EC(o,d)){var T=IC(o,d,8);if(255===T)i=IC(o,d,16),r=IC(o,d,16);else{var S=xC[T];S&&(i=S[0],r=S[1])}}if(1===EC(o,d)&&EC(o,d),1===EC(o,d))IC(o,d,3),EC(o,d),1===EC(o,d)&&(IC(o,d,8),IC(o,d,8),IC(o,d,8));1===EC(o,d)&&(RC(o,d),RC(o,d)),1===(e=EC(o,d))&&(s=IC(o,d,32),u=IC(o,d,32),EC(o,d))}return{width:b.floor(16*(p+1)-2*h-2*c),height:b.floor((2-A)*(k+1)*16-2*a-2*f),RN:i,CN:r,w1:e?u/(2*s):void 0,A1:n,b1:g}}function UC(t){var n=vm(ym.TD(t),um.OR);if(n){for(var i,r=n.gD.qD,e=[],s=Lt(n.Z);!(i=s()).done;){for(var u,o=i.value,h=o.gD.$D,c=o.KD.gD.qD,a=void 0,f=void 0,v=void 0,d=Lt(o.KD.hB.uB.dB.fB);!(u=d()).done;){var l,w,g,_=FC(u.value);if(_)a=null!=(l=_.S1)?l:a,f=null!=(w=_.T1)?w:f,v=null!=(g=_.E1)?g:v}e.push({$D:h,qD:c,S1:a,T1:f,E1:v})}return{qD:r,Z:e}}}function FC(t){var n,i,r;if(t.Km===um.JR){var e,s=kC(_c(t.jB.ck),new Tc);n=function(t){return"avc1."+VC(t.B0,2)+VC(t.N0,2)+VC(t.M0,2)}(s),r=null==(e=function(t){if(0===t.O0.length)return;var n=t.O0[0],i=new TC;return i.W0(n,0,n.byteLength),LC(i)}(s))?void 0:e.w1}else if(t.Km===um.$R||t.Km===um.tC){var u=function(t,n){for(var i=n.Uy(),r=Th(t,i,8),e=Th(t,i,2),s=Th(t,i,1),u=Th(t,i,5),o=Th(t,i,32),h=[],c=0;c<6;c++)h.push(Th(t,i,8));var a=Th(t,i,8);i.Ny(4);var f=Th(t,i,12);i.Ny(6);var v=Th(t,i,2);i.Ny(6);var d=Th(t,i,2);i.Ny(5);var l=Th(t,i,3);i.Ny(5);for(var w=Th(t,i,3),g=Th(t,i,16),_=Th(t,i,2),m=Th(t,i,3),y=Th(t,i,1),p=Th(t,i,2),k=Th(t,i,8),b=[],A=0;A<k;A++){var T=Th(t,i,1);i.Ny(1);for(var S=Th(t,i,6),E=Th(t,i,16),I=[],R=0;R<E;R++){var C=Th(t,i,16),D=Uh(t,new Tc(i.ac>>3),C);i.Ny(8*C),I.push({P1:C,I1:D})}b.push({R1:T,C1:S,D1:E,B1:I})}return{D0:r,N1:e,M1:s,L1:u,O1:h,F1:a,U1:f,V1:v,H1:o,W1:d,q1:l,z1:w,G1:g,X1:m,j1:y,Q1:_,L0:p,K1:k,Y1:b}}(_c(t.JB.ck),new Tc);n=function(t,n){var i=t.toString()+".";switch(n.N1){case 0:break;case 1:i+="A";break;case 2:i+="B";break;case 3:i+="C";break;default:return}switch(i+=n.L1.toString()+".",i+=function(t){var n=t;return n=n>>>1&1431655765|(1431655765&n)<<1,n=n>>>2&858993459|(858993459&n)<<2,n=n>>>4&252645135|(252645135&n)<<4,n=n>>>8&16711935|(16711935&n)<<8,n=n>>>16|n<<16,n}(n.H1).toString(16)+".",n.M1){case 0:i+="L";break;case 1:i+="H";break;default:return}i+=n.F1.toString();for(var r=n.O1.reduce(function(t,n){return 0===t?n:n+1},0),e=0;e<r;e++)i+="."+n.O1[e].toString(16).toUpperCase();return i}(t.Km,u)}else if(t.Km===um.dC||t.Km===um.lC||t.Km===um.fC||t.Km===um.vC){var o=function(t,n){var i=n.Uy(),r=Th(t,i,8),e=Th(t,i,8),s=Th(t,i,7),u=Th(t,i,6),o=Boolean(Th(t,i,1)),h=Boolean(Th(t,i,1)),c=Boolean(Th(t,i,1)),a=Th(t,i,4);return Th(t,i,28),Th(t,i,32),Th(t,i,32),Th(t,i,32),Th(t,i,32),{J1:r,Z1:e,t2:s,i2:u,e2:o,s2:h,n2:c,h2:a}}(_c(t.cN.ck),new Tc);n=function(t,n){var i=t.toString(),r=Wo(n.t2.toString(),2,"0"),e=Wo(n.i2.toString(),2,"0");return i+"."+r+"."+e}(t.Km,o)}else if(t.Km===um.eC){var h=function(t,n){var i=n.Uy(),r=Th(t,i,8);i.Ny(24);for(var e=Th(t,i,8),s=Th(t,i,8),u=Th(t,i,4),o=Th(t,i,3),h=Ah(t,i),c=Th(t,i,8),a=Th(t,i,8),f=Th(t,i,8),v=Th(t,i,16),d=new Array(8),l=0;l<v;l++)d[l]=Th(t,i,8);return{D0:r,t2:e,i2:s,o2:u,a2:o,u2:h,kN:c,EN:a,PN:f,c2:v,d2:d}}(_c(t.$B.ck),new Tc);n=function(t,n){var i=t.toString()+".";return i+="0"+n.t2+".",i+=Wo(""+n.i2,2,"0")+".",i+=Wo(""+n.o2,2,"0")+".",i+=Wo(""+n.a2,2,"0")+".",i+=Wo(""+n.kN,2,"0")+".",i+=Wo(""+n.EN,2,"0")+".",i+=Wo(""+n.PN,2,"0")+".",i+="0"+n.u2,i}(t.Km,h)}else if(t.Km===um.nC){var c=function(t,n){var i=n.Uy();i.Ny(1);var r=Th(t,i,7),e=Th(t,i,3),s=Th(t,i,5),u=Ah(t,i),o=Ah(t,i),h=Ah(t,i),c=Ah(t,i),a=Ah(t,i),f=Ah(t,i),v=Th(t,i,2);i.Ny(3);var d,l=Ah(t,i);return l?d=Th(t,i,4):i.Ny(4),{bD:r,l2:e,f2:s,_2:u,g2:o,m2:h,w2:c,A2:a,b2:f,S2:v,T2:l,E2:d}}(_c(t.eN.ck),new Tc);n=function(t,n,i){var r=t.toString()+".";if(r+=n.l2+".",r+=""+Wo(""+n.f2,2,"0"),r+=(0===n._2?"M":"H")+".",r+=(1===n.m2?12:10)+".",r+=(1===n.l2?0:n.w2)+".",r+=""+n.A2+n.b2+(1===n.A2&&1===n.b2?n.S2:"0"),i&&i.TN===om.ON_SCREEN_COLOURS){var e=i;r+="."+Wo(""+e.kN,2,"0")+"."+Wo(""+e.EN,2,"0")+"."+Wo(""+e.PN,2,"0")+"."+(e.xN?1:0)}return r}(t.Km,c,t.sN)}else if(t.Km===um.wC){i=function(t){var n=t.C0;switch(n.A0){case _C.g0:return function(t){var n;if(!(null==(n=t.P0)?void 0:n.y0))return"mp4a.40";var i=function(t,n){var i=Th(t,n,5);31===i&&(i=32+Th(t,n,6));var r,e=Th(t,n,4);return 15===e&&(r=Th(t,n,24)),{P2:i,I2:e,R2:r,C2:Th(t,n,4)}}(_c(t.P0.y0),new Sh);return"mp4a.40."+i.P2}(n);case _C.p0:return"mp4a.40.2";case _C.m0:return"mp4a.40.34"}}(yC(_c(t.UB.ck),new Tc))}else if(t.Km===um.AC)i="fLaC";else if(t.Km===um._C)i="ac-3";else{if(t.Km!==um.gC)return(t.Km===um.xC||t.Km===um.EC)&&t.hN?FC(t.hN):void 0;i="ec-3"}return{S1:n,T1:i,E1:r}}function VC(t,n){var i=t.toString(16);return Wo(i,n,"0")}function HC(t,n){var i=ym.TD(_c(t)),r=function(t,n){for(var i,r,e=function(){var t,e=r.value,s=null==(t=e.GN)?void 0:t.GN;if(s){var u=e.gD.$D,o=Ui(n.Z,function(t){return t.$D===u}),h=g_.gF(s,o.qD);i&&!h.aF(i)||(i=h)}},s=Lt(t.Z);!(r=s()).done;)e();return i}(vm(i,um.IC),n),e=vm(i,um.OC);return{EO:r.iF(),D2:e.ck}}function WC(t,n){return Vt(function(){var i;return zt(this,function(r){switch(r.label){case 0:switch(t.Km){case FR.vZ:return[3,1];case FR.BT:return[3,2];case FR._Z:return[3,4]}return[3,5];case 1:return[2,t];case 2:return[4,Yd(t.ck,n)];case 3:return i=r.sent(),dr(n),[2,{Km:FR.vZ,ck:new E(i)}];case 4:throw new y("Cannot convert opaque SegmentData to ArraySegmentData.");case 5:return[2]}})})()}function zC(t){var n=t.DS("codecs");return n?n.split(",").map(function(t){return t.trim()}):[]}function XC(t,n){return sr(t,n,YC)}function qC(t,n){return!("opus"===t)&&!("opus"===n)||t===n}function GC(t,n){var i=jC(t),r=jC(n);if((i||r)&&Vn.Zs.Rp)return!0;var e=i||QC(t),s=r||QC(n);return!e&&!s||t.split(".")[0]===n.split(".")[0]}function jC(t){return/^(ac-3|dac3|ec-3|dec3|ec\+3|ac-4|dac4)/.test(t)}function QC(t){return/^(dvav|dva1|dvhe|dvh1)/.test(t)}function YC(t,n){if(t===n)return!0;var i=t.split("."),r=n.split("."),e=i[0];if(e!==r[0])return!1;if("mp4a"===e){var s=i[1],u=i[2],o=r[1],h=r[2];if(s!==o)return!1;if(Number(u)!==Number(h))return!1}return!0}F(),Et(),F(),Et(),Wt(),Qt(),F(),Et(),Bt(),Dt(),H();var KC=function(t){function n(n,i,r,e){var s;return(s=t.call(this,r)||this).N2=void 0,s.L2=void 0,s.O2=void 0,s.N2=n,s.L2=i,s.O2=r,s}return Ct(n,t),Nt(n,[{key:"B2",get:function(){return this.N2}},{key:"M2",get:function(){return this.L2}}]),n}(ar);var JC=On.X_,ZC=function(t){function n(n,i,r,e,s){var u,o;if((u=t.call(this)||this).d3=void 0,u.e3=void 0,u.U2=void 0,u.g3=void 0,u.w3=void 0,u.zY=20,u.jY=30,u.F2=!1,u.o3=!1,u.b3=void 0,u.T3=new hr,u.Z2=void 0,u.K2=!1,u.Y2=void 0,u.X2=!1,u.j2=void 0,u.E3=function(){u.F2=!1},u.P3=function(t){t.removedRanges&&u.So(new rh(LR.lZ))},u.d3=i,u.e3=n,u.U2=r,u.U2.addEventListener("updateend",u.E3),u.U2.addEventListener("bufferedchange",u.P3),u.g3=e,u.w3=s,u.X2=$C(e.qT,s),null==(o=i.Cd)?void 0:o.kp){var h,c=null!=(h=i.Cd.x3)?h:1e5;u.Z2=new gC(c)}return u}Ct(n,t);var i=n.prototype;return i.H2=function(t,n,i){var r=this;switch(t.Km){case FR.vZ:case FR.BT:return this.W2(function(i){return r.q2(t,n,i)},i);case FR._Z:throw new y("Opaque segments are not supported on web.")}},i.z2=function(t,n){var i=this;switch(t.Km){case FR.vZ:return this.W2(function(n){return i.G2(t,n)},n);case FR.BT:throw new y("Streaming initialization segments are not supported on web.");case FR._Z:throw new y("Opaque initialization segments are not supported on web.")}},i.G2=function(t,n){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return this.X2?(this.j2=UC(_c(t.ck)),[2]):[4,this.Q2(t,void 0,n)];case 1:return i.sent(),JC&&(this.K2=!1,this.Y2=t),[2]}})}).call(this)},i.q2=function(t,n,i){return Vt(function(){var r,e,s;return zt(this,function(u){switch(u.label){case 0:return JC&&this.K2&&this.Y2?[4,this.G2(this.Y2,i)]:[3,2];case 1:u.sent(),u.label=2;case 2:return u.trys.push([2,,6,7]),dr(i),this.X2&&this.j2?[4,WC(t,i)]:[3,4];case 3:r=u.sent(),e=HC(r.ck,this.j2),t={Km:FR.vZ,ck:e.D2},n=Yu({},n,{bU:e.EO+(null!=(s=n.bU)?s:0)}),u.label=4;case 4:return[4,this.Q2(t,n,i)];case 5:return u.sent(),this.So(new rh(LR.lZ)),[3,7];case 6:return t.Km===FR.BT&&t.ck.cancel(new fr).catch(di),[7];case 7:return[2]}})}).call(this)},i.Q2=function(t,n,i){return Vt(function(){var r,e;return zt(this,function(s){switch(s.label){case 0:return dr(i),n?[4,this.J2(n)]:[3,2];case 1:s.sent(),s.label=2;case 2:switch(t.Km){case FR.vZ:return[3,3];case FR.BT:return[3,7]}return[3,11];case 3:return this.Z2?(r=this.Z2.v0(jd(t.ck)),[4,this.t3(r,i)]):[3,5];case 4:return[2,s.sent()];case 5:return[4,this.i3(t.ck)];case 6:return[2,s.sent()];case 7:return this.Z2?(e=this.Z2.v0(t.ck),[4,this.t3(e,i)]):[3,9];case 8:return[2,s.sent()];case 9:return[4,this.t3(t.ck,i)];case 10:return[2,s.sent()];case 11:return[2]}})}).call(this)},i.t3=function(t,n){return Vt(function(){var i,r,e,s,u,o,h,c,a;return zt(this,function(f){switch(f.label){case 0:i=this.e3.IP,r=KR(t),e=r.getReader(),s=!1,f.label=1;case 1:f.trys.push([1,6,,12]),f.label=2;case 2:return[4,gr(e.read(),n)];case 3:return(u=f.sent()).done?(s=!1,[3,5]):(dr(n),o=Nc(u.value),s=!0,[4,this.i3(o)]);case 4:return f.sent(),[3,2];case 5:return[3,12];case 6:return h=f.sent(),e.cancel(h).catch(di),s?[4,this.s3()]:[3,11];case 7:f.sent(),c=this.e3.IP.Mn(i.BM()),a=0,f.label=8;case 8:return a<c.V?[4,this.n3(c.Tn(a),c.An(a))]:[3,11];case 9:f.sent(),f.label=10;case 10:return a++,[3,8];case 11:throw h;case 12:return[2]}})}).call(this)},i.r3=function(t,n){var i=this;return this.W2(function(){return i.h3(t,n)})},i.h3=function(t,n){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return this.U2.appendWindowStart===t&&this.U2.appendWindowEnd===n?[3,2]:[4,this.s3()];case 1:i.sent(),this.U2.appendWindowStart=0,this.U2.appendWindowEnd=n,this.U2.appendWindowStart=t,i.label=2;case 2:return[2]}})}).call(this)},i.J2=function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:if(Si(this.U2.timestampOffset,t.bU,.001))return[2];n.label=1;case 1:return n.trys.push([1,2,,4]),this.U2.timestampOffset=t.bU,[3,4];case 2:return n.sent(),[4,this.s3()];case 3:return n.sent(),this.U2.timestampOffset=t.bU,[3,4];case 4:return[2]}})}).call(this)},i.i3=function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return this.U2.appendBuffer(t),this.o3=!0,[4,this.a3()];case 1:return n.sent(),[2]}})}).call(this)},i.u3=function(t,n,i){var r=this;return this.W2(function(i){return r.n3(t,n,i)},i)},i.n3=function(t,n,i){return Vt(function(){return zt(this,function(r){switch(r.label){case 0:return dr(i),this.U2.remove(t,n),[4,this.a3()];case 1:return r.sent(),[2]}})}).call(this)},i.a3=function(){var t=this,n=this.e3.IP;return new ut(function(i,r){var e,s=!1,u=function(){s=!0},o=function(){s=!1,e="error"},h=function(){s=!1,e="aborted"},c=function(){s=!1,e="sourceclose",a()},a=function(){f(),s&&!e?(n.GM(t.e3.IP)||t.So(new rh(LR.lZ)),i()):r(new y(e))},f=function(){t.U2.removeEventListener("update",u),t.U2.removeEventListener("error",o),t.U2.removeEventListener("abort",h),t.U2.removeEventListener("updateend",a),t.d3.mn(HR.mZ,c)};t.U2.addEventListener("update",u),t.U2.addEventListener("error",o),t.U2.addEventListener("abort",h),t.U2.addEventListener("updateend",a),On.w_&&On.A_<3&&t.d3.wn(HR.mZ,c)})},i.l3=function(){var t=this;return this.W2(function(){return t.s3()})},i.s3=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:if(this.d3.Ax!==dD.sE)return[2];JC&&(this.K2=!0),this.U2.updating&&(this.F2=!0);try{this.U2.abort()}catch(t){0,this.F2=!1}return this.ga?[4,this.a3().catch(di)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})}).call(this)},i.f3=function(){return"function"==typeof this.U2.changeType&&!On.g_},i.EZ=function(t){if(this.v3(),this.d3.Ax!==dD._3){var n;this.g3=t;var i=null!=(n=this.d3.m3(t.qT))?n:t.qT;if(this.X2=$C(t.qT,this.w3),this.f3()&&this.y3(i)){this.w3=i;var r=this.d3.IZ();this.U2.changeType(""+i+r)}}},i.y3=function(t){if(Vo(this.w3,t))return!1;var n=Xv(this.w3),i=Xv(t);return n.Km!==i.Km||(!XC(zC(n),zC(i))||!(On.Nv&&On.v_))},i.A3=function(){this.d3.Ax!==dD.Bw||this.b3||this.ga||(this.U2.timestampOffset=this.U2.timestampOffset,this.d3.S3())},i.W2=function(t,n){return Vt(function(){var i;return zt(this,function(r){switch(r.label){case 0:this.v3(),(i=new hr).$g(this.T3.Yg),n&&i.$g(n),r.label=1;case 1:return r.trys.push([1,,5,6]),this.b3=t(i.Yg),[4,this.b3];case 2:return r.sent(),this.d3.S3(),this.ga?[4,this.a3()]:[3,4];case 3:r.sent(),r.label=4;case 4:return[3,6];case 5:return this.b3=void 0,i.zg(),[7];case 6:return[2]}})}).call(this)},i.v3=function(){if(this.b3)throw new y("Internal error")},i.zg=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.Vo(),this.T3.Zg(),this.b3?[4,this.b3.catch(di)]:[3,2];case 1:t.sent(),this.b3=void 0,t.label=2;case 2:return this.U2.removeEventListener("updateend",this.E3),this.U2.removeEventListener("bufferedchange",this.P3),[2]}})}).call(this)},Nt(n,[{key:"MY",get:function(){return this.zY},set:function(t){this.zY=t}},{key:"UY",get:function(){return this.jY},set:function(t){this.jY=t}},{key:"ga",get:function(){return this.F2||this.U2.updating}}]),n}(th);function $C(t,n){return Uo(t,"audio/mp4")&&Uo(n,"audio/mpeg")}F(),Et(),Bt();var tD=function(){function t(t,n){this.I3=void 0,this.U2=void 0,this.R3=void 0,this.I3=n,this.U2=t}var n=t.prototype;return n.WZ=function(){return!!this.R3&&this.IP.CM().Cr(this.R3)},n.C3=function(){var t=this.IP;this.R3=t.V>0?t.An(t.V-1):0,this.I3.D3()},n.A3=function(){this.R3=void 0},Nt(t,[{key:"IP",get:function(){if(this.I3.Ax===dD._3)return TA.iL();var t=TA.jn(this.U2.buffered).Mn(TA.eL()),n=this.R3;return void 0!==n&&t.V>0&&t.An(t.V-1)===n&&(t=t.OM(TA.$M(n))),t}}]),t}();function nD(t,n,i,r,e,s,u){var o=new tD(e,t),h=new ZC(o,t,e,i,s);return new iD(t,n,i,r,o,h,u)}var iD=function(t){function n(n,i,r,e,s,u,o){var h;return(h=t.call(this)||this).d3=void 0,h.YS=void 0,h.N3=void 0,h.TL=void 0,h.GS=void 0,h.L3=void 0,h.e3=void 0,h.O3=void 0,h.H3=Ju(),h.d3=n,h.YS=r,h.GS=r.qT,h.N3=e,h.TL=i,h.e3=s,h.O3=u,h.L3=o,h.O3.wn(LR.lZ,h.Rs),h}Ct(n,t);var i=n.prototype;return i.WZ=function(){return this.e3.WZ()},i.C3=function(){this.e3.C3()},i.A3=function(){this.e3.A3(),this.O3.A3()},i.F3=function(t,n){this.L3.t$(t,n)},i.U3=function(t,n){this.L3.i$(t,n)},i.V3=function(){return this.O3.l3()},i.H2=function(t,n,i){return this.O3.H2(t,n,i)},i.z2=function(t,n,i){return this.O3.z2(t,i)},i.r3=function(t,n){return On.w_&&On.A_<3?this.O3.r3(t,1/0):this.O3.r3(t,n)},i._S=function(t,n,i){return Vt(function(){var r,e;return zt(this,function(s){switch(s.label){case 0:return this.U3(t,n),r=this.IP,[4,this.O3.u3(t,n,i)];case 1:return s.sent(),e=0!==r.V&&0===this.IP.V,(On.rg||On.S_)&&e&&this.TL.My(this.TL.MP),[2]}})}).call(this)},i.TZ=function(t){var n=t.qT;if(this.GS===n)return!0;var i=this.H3.get(n);if(void 0!==i)return i;var r=this.W3(t);return this.H3.set(n,r),r},i.W3=function(t){var n=this.d3.m3(t.qT);if(void 0===n)return!1;var i=Xv(this.GS),r=Xv(n),e=zC(i),s=zC(r);if(this.O3.f3()){if(!function(t,n){return sr(t,n,GC)}(e,s))return!1;if(On.og&&!function(t,n){return sr(t,n,qC)}(e,s))return!1}else{if(i.Km!==r.Km)return!1;if(!XC(e,s))return!1}return!0},i.EZ=function(t){return Vt(function(){var n;return zt(this,function(i){return n=t.qT,this.GS!==n&&(this.H3.clear(),this.O3.EZ(t),this.GS=n),this.YS=t,this.d3.q3(),[2]})}).call(this)},i.zg=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:this.H3.clear(),this.Vo(),this.L3.kn(),t.label=1;case 1:return t.trys.push([1,3,,4]),this.O3.mn(LR.lZ,this.Rs),[4,this.O3.zg()];case 2:return t.sent(),[3,4];case 3:return t.sent(),[3,4];case 4:return[2]}})}).call(this)},Nt(n,[{key:"IP",get:function(){return this.e3.IP}},{key:"Cd",get:function(){return this.YS}},{key:"qT",get:function(){return this.GS}},{key:"B3",get:function(){return this.N3}},{key:"M3",get:function(){return this.L3.ZZ}},{key:"MY",get:function(){return this.O3.MY},set:function(t){this.O3.MY=t}},{key:"UY",get:function(){return this.O3.UY},set:function(t){this.O3.UY=t}},{key:"ga",get:function(){return this.O3.ga}}]),n}(th);F(),Et();var rD=function(){function t(t,n,i,r){void 0===i&&(i=!1),void 0===r&&(r=!1),this.Tn=void 0,this.An=void 0,this.G3=void 0,this.X3=void 0,this.j3=void 0,this.Tn=t,this.An=n,this.G3=i,this.X3=r,this.j3=Vn.Mg()}return t.prototype.z3=function(){var t=this.Tn,n=this.An;if(this.G3||this.X3){var i=.001*(Vn.Mg()-this.j3);this.G3&&(t+=i),this.X3&&(n+=i)}return TA.tL(t,n)},t}();function eD(t){var n=[];if(t.Q3&&n.push(t.Q3.IP),t.K3&&n.push(t.K3.IP),0===n.length)return TA.iL();for(var i,r=0,e=Lt(n);!(i=e()).done;){var s=i.value;s.V>0&&(r=b.max(r,s.An(s.V-1)))}for(var u,o=t.WZ,h=new TA([0,r],[!0,o]),c=Lt(n);!(u=c()).done;){var a=u.value;o&&a.V>0&&(a=a.OM(new TA([a.An(a.V-1),r],[!0,!0]))),h=h.Mn(a)}return h}function sD(t,n,i){var r,e=t.IP,s=e.VM(n);if(s>=0){if(!(s+1<e.V))return ut.resolve();r=e.Tn(s+1)}else{if(!((s=e.KM(n))>=0))return ut.resolve();r=e.Tn(s)}return t._S(r,1/0,i)}function uD(t,n,i){if(!t.Cr(n)){var r=t.VM(n,i);if(r>=0){var e=t.Tn(r);if(n<e)return e}}return n}F(),Et(),Ut(),F(),Et(),Dt(),F(),Et(),Bt(),F(),Et();var oD=.5,hD=[eh.uo,eh.jw,eh.$w,eh.Zw,eh.Fw,eh.Vw,eh.Bw,eh.Kw,Ey.wI,zm.ma],cD=function(){function t(t,n,i,r){var e=this;this.e3=void 0,this.i4=void 0,this.TL=void 0,this.r4=void 0,this.J3=void 0,this.h4=void 0,this.l4=void 0,this.b4=void 0,this.u4=void 0,this.g4=void 0,this.v4=void 0,this.S4=void 0,this.T4=void 0,this.E4=void 0,this.Z3=void 0,this.e4=void 0,this.ad=void 0,this.c4=void 0,this.s4=void 0,this._4=void 0,this.e3=t,this.i4=n,this.TL=i,this.r4=!1,this.J3=[],this.h4=0,this.l4=0,this.b4=0,this.u4=0,this.g4=0,this.v4=0,this.S4=1,this.Z3=function(t){var n=e.TL.MP,i=t.JZ.Cr(n),r=t.JZ.Cr(n,oD)&&e.TL.Ax<=Cy.HL;(i||r)&&e.XZ(n)},this.e4=gi(function(t){if(!e.r4)if(e.i4.Ax<=Cy.HL){var n=e.TL.MP;e.XZ(n)||e._4()}else e.n4()},100),this.ad=gi(function(t){e.f4()},100),this.c4=function(t){t.currentTime!==e.u4&&e.n4()},this.s4=function(){e.m4()?0===e.v4&&(e.TL.wn(eh._y,e.ad),e.l4=Vn.Og(function(){e.f4()},3500)):e.t4()},this._4=function(){var t=e.b4,n=e.g4,i=e.TL.MP,r=Vn.Mg(),s=e.e3.IP;if(t!==i)return e.b4=i,e.g4=r,e.S4=1,void(e.T4=Vn._P?2e3:1e3);if(e.m4()&&0!==s.V&&n>0&&r>n+e.T4){var u,o,h=e.ZZ.CM().UM(s),c=h.QM(i);if(-1!==c){var a=h.Tn(c);if(a-i<1||e.w4()){var f=h.An(c);0,u=f}}if(!u)(u=null==(o=e.E4)?void 0:o.determineStallJumpTarget())&&u!==i||(u=i+.01*e.S4,s.Cr(u)||(u=e.A4(i,s)));0,e.b4=u,e.S4++,e.T4=b.min(2*e.T4,1e4),e.a4(u)}},this.i4.wn(Ey.wI,this.e4),this.TL.wn(eh.Qw,this.e4),this.TL.wn(hD,this.s4),this.E4=r,this.T4=Vn._P?2e3:1e3}var n=t.prototype;return n.Y3=function(t){this.J3.push(t),t.wn(jR.KZ,this.Z3)},n.kn=function(){var t=this;this.t4(),this.i4.mn(Ey.wI,this.e4),this.TL.mn(eh.Qw,this.e4),this.TL.mn(hD,this.s4),this.J3.forEach(function(n){return n.mn(jR.KZ,t.Z3)}),this.n4(),this.r4=!0},n.XZ=function(t){if(this.TL.UP)return!1;if(0!==this.h4)return!1;var n=this.e3.IP,i=n.VM(t);if(i>=0&&t+oD<n.An(i))return!1;var r=i>=0?i+1:n.KM(t);if(r<0||r>=n.V)return!1;var e=n.Tn(r);return!(TA.tL(t,e).UM(this.ZZ).ZM>1)&&(0!==t||this.TL.kx?Vn.fP?(this.o4(t,e,250),!0):!(b.abs(e-t)<=.001)&&(this.a4(e),!0):(this.o4(t,e,2e3),!0))},n.o4=function(t,n,i){var r=this;this.n4(),this.u4=t,this.TL.wn(eh.$w,this.c4),this.h4=Vn.Og(function(){r.u4===r.TL.MP&&r.a4(n),r.n4()},i)},n.n4=function(){0!==this.h4&&(this.TL.mn(eh.$w,this.c4),Vn.Lg(this.h4),this.h4=0)},n.a4=function(t){this.TL.My(t,!1,!0)},n.d4=function(){0!==this.l4&&(Vn.Lg(this.l4),this.l4=0),this.TL.mn(eh._y,this.ad)},n.f4=function(){this.r4||0===this.v4&&(this.d4(),this.v4=Vn.fm(this._4,250))},n.t4=function(){0!==this.v4&&(Vn.vm(this.v4),this.v4=0),this.d4(),this.TL.kx||(this.g4=0)},n.m4=function(){return!this.TL.hx&&(!this.TL.kx||this.w4())&&0!==this.TL.ux&&!this.TL.UP&&!this.TL.lt&&(this.y4()||this.i4.Ax>=Cy.WL)},n.w4=function(){return!1},n.y4=function(){var t=this.TL.MP,n=this.e3.IP,i=n.VM(t);return-1!==i&&n.An(i)>t+oD},n.A4=function(t,n){var i=n.VM(t);return i>-1?n.An(i):t},Nt(t,[{key:"ZZ",get:function(){return this.J3.reduce(function(t,n){return t.OM(n.ZZ)},TA.iL())}}]),t}(),aD=function(t){function n(){return t.apply(this,arguments)||this}return Ct(n,t),n.prototype.w4=function(){if(!On.S_||!this.TL.kx)return!1;var t=this.TL.MP,n=this.e3.IP,i=this.ZZ.CM().UM(n),r=i.QM(t);return-1!==r&&i.Tn(r)-t<=3e3},n}(cD),fD=On.N_||On.L_,vD=On.W_||On.X_||On.ru,dD=function(t){return t._3="closed",t.sE="open",t.Bw="ended",t}({}),lD=function(t){function n(n,i,r,e,s,u,o,h){var c;return void 0===u&&(u=new Ce(n.X4)),(c=t.call(this,n,i,e,s,h)||this).G4=void 0,c.P4=void 0,c.U4=void 0,c.x4=void 0,c.V4=void 0,c.N4=new rD(0,1/0),c.iq=void 0,c.I4=void 0,c.R4=void 0,c.F4=void 0,c.H4=!1,c.q4=function(){c.So(new rh(HR.mZ))},c.j4=function(){c.So(new rh(HR.yZ))},c.bd=function(){c.W4()},c.P3=function(){c.TL.P3()},c.G4=u,c.iq=c.G4.Lp(),c.iq.addEventListener("sourceclose",c.q4),c.iq.addEventListener("sourceopen",c.j4),c.TL.wn([eh._y,eh.$w,eh.Fw],c.bd),c.F4=new aD(c,r,c.TL,o),c}Ct(n,t);var i=n.prototype;return i.C4=function(t){if(t<0)throw new y("Invalid duration");this.D4()?this.B4(t):this.I4=t},i.B4=function(t){var n=t===1/0;if(n&&this.iq.setLiveSeekableRange){var i=b.pow(2,39);this.iq.setLiveSeekableRange(0,i)}S(t)?(this.iq.duration=bi,this.R4=NaN):(this.iq.duration=n?vD?1/0:bi:t,this.R4=void 0),this.I4=void 0},i.M4=function(t,n,i,r){this.N4=new rD(t,n,Boolean(i),Boolean(r))},i.VY=function(){return Vt(function(){var t,n,i,r,e,s,u,o,h,c;return zt(this,function(a){switch(a.label){case 0:return t=this.YS,n=Ui(t.L4,function(t){return Fv(t.qT)}),i=Ui(t.L4,function(t){return Vv(t.qT)}),this._T.disableRemotePlayback=!0,[4,this.O4()];case 1:return a.sent(),r=this.IZ(),n&&(e=new YR,this.F4.Y3(e),u=null!=(s=this.m3(n.qT))?s:n.qT,this.U4=this.iq.addSourceBuffer(""+u+r),this.P4=nD(this,this.TL,n,ig.Dk,this.U4,u,e),this.P4.wn(LR.lZ,this.P3)),i&&(o=new YR,this.F4.Y3(o),c=null!=(h=this.m3(i.qT))?h:i.qT,this.V4=this.iq.addSourceBuffer(""+c+r),this.x4=nD(this,this.TL,i,ig.Bk,this.V4,c,o),this.x4.wn(LR.lZ,this.P3)),this.PZ.Un(this,t),[2]}})}).call(this)},i.O4=function(){var n=this;return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return[4,t.prototype.UZ.call(n,this.iq)];case 1:return i.sent(),"open"===this.Ax?[3,3]:[4,iw(this.iq,"sourceopen")];case 2:i.sent(),i.label=3;case 3:return[2]}})}).call(this)},i.D4=function(){if("open"!==this.Ax)return!1;var t=this.P4&&this.P4.ga,n=this.x4&&this.x4.ga;return!(t||n)},i.C3=function(){this.H4=!0,this.P4&&this.P4.C3(),this.x4&&this.x4.C3(),this.H4=!1,this.W4()},i.A3=function(){this.P4&&this.P4.A3(),this.x4&&this.x4.A3()},i.TZ=function(n){var i=Ui(n.L4,function(t){return Fv(t.qT)}),r=Ui(n.L4,function(t){return Vv(t.qT)});if(this.P4){if(!i)return!1;if(!this.P4.TZ(i))return!1}else if(i)return!1;if(this.x4){if(!r)return!1;if(!this.x4.TZ(r))return!1}else if(r)return!1;return!!t.prototype.TZ.call(this,n)},i.EZ=function(n){var i=this;return Vt(function(){var r,e,s;return zt(this,function(u){switch(u.label){case 0:return r=Ui(n.L4,function(t){return Fv(t.qT)}),e=Ui(n.L4,function(t){return Vv(t.qT)}),s=[],this.P4&&s.push(this.P4.EZ(r)),this.x4&&s.push(this.x4.EZ(e)),[4,ut.all(s)];case 1:return u.sent(),[4,t.prototype.EZ.call(i,n)];case 2:return u.sent(),[2]}})}).call(this)},i.xZ=function(n){t.prototype.xZ.call(this,n)},i.zg=function(){var n=this;return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return this.iq.removeEventListener("sourceclose",this.q4),On.S_?[4,this.HZ()]:[3,2];case 1:i.sent(),i.label=2;case 2:return this.P4?[4,this.P4.zg()]:[3,4];case 3:if(i.sent(),this.P4=void 0,Jo()&&(On.S_||On.w_))try{this.iq.removeSourceBuffer(this.U4)}catch(t){}this.U4=void 0,i.label=4;case 4:return this.x4?[4,this.x4.zg()]:[3,6];case 5:if(i.sent(),this.x4=void 0,Jo()&&(On.S_||On.w_))try{this.iq.removeSourceBuffer(this.V4)}catch(t){}this.V4=void 0,i.label=6;case 6:return this._T.src&&URL.revokeObjectURL(this._T.src),this._T.disableRemotePlayback=!1,this.TL.mn([eh._y,eh.$w,eh.Fw],this.bd),this.F4.kn(),On.w_?[4,this.HZ()]:[3,8];case 7:i.sent(),i.label=8;case 8:return[4,t.prototype.zg.call(n)];case 9:return i.sent(),[2]}})}).call(this)},i.q3=function(){var t=this,n=this.YS,i=n.L4.map(function(n){return Fv(n.qT)&&t.P4?t.P4.Cd:Vv(n.qT)&&t.x4?t.x4.Cd:n});this.YS=Yu({},n,{L4:i})},i.D3=function(){this.H4||this.W4()},i.W4=function(){this.z4&&this.D4()&&(this.iq.endOfStream(),this.I4=void 0,this.R4=void 0,this.So(new rh(HR.gZ)),this.TL.P3())},i.S3=function(){this.D4()&&(this.WZ?this.W4():void 0!==this.I4&&this.B4(this.I4))},i.XZ=function(t){return this.F4.XZ(t)},i.jZ=function(){return!0},i.m3=function(t){return wD(this.G4,t)},n.QZ=function(t){var n=De(t.X4);if(void 0===n)return!1;if("function"!=typeof n.isTypeSupported)return!1;for(var i,r=new Ce(t.X4),e=Lt(t.L4);!(i=e()).done;){if(void 0===wD(r,i.value.qT))return!1}return!0},Nt(n,[{key:"Q3",get:function(){return this.P4}},{key:"K3",get:function(){return this.x4}},{key:"ct",get:function(){if(void 0!==this.I4)return this.I4;if(void 0!==this.R4)return this.R4;var t=this.iq.duration;return t===bi?1/0:t}},{key:"IP",get:function(){return fD?eD(this):function(t,n){var i=n;return i.V>0&&t.WZ&&(i=i.OM(TA.$M(i.An(i.V-1)))),i}(this,TA.jn(this._T.buffered))}},{key:"qZ",get:function(){var t;return null==(t=this.P4)?void 0:t.IP}},{key:"zZ",get:function(){var t;return null==(t=this.x4)?void 0:t.IP}},{key:"Sx",get:function(){return this.N4.z3().Mn(new TA([0,this.ct],[!0,!0]))}},{key:"WZ",get:function(){return(!this.P4||this.P4.WZ())&&(!this.x4||this.x4.WZ())}},{key:"Ax",get:function(){return this.iq.readyState}},{key:"z4",get:function(){if(!this.WZ)return!1;var t=this.IP;return 0!==t.V&&t.Tn(t.V-1)<=this.TL.MP}}]),n}(WR);function wD(t,n){var i=Xv(n),r=zC(i),e="audio/mp4"===i.Km,s=e&&1===r.length&&"mp4a.40.34"===r[0];if(t.Fp(n)&&(!s||!On.X_))return n;if(s)for(var u,o=Lt(['audio/mp4; codecs="mp3"',"audio/mpeg"]);!(u=o()).done;){var h=u.value;if(t.Fp(h))return h}if(e&&1===r.length&&"flac"===r[0].toLowerCase())for(var c,a=Lt(["flac","fLaC","FLAC"]);!(c=a()).done;){var f='audio/mp4; codecs="'+c.value+'"';if(t.Fp(n))return f}}F(),Et(),Bt(),Dt(),F(),Et(),Dt();var gD=function(t){function n(n){var i;return(i=t.call(this,eh.Fw)||this).currentTime=void 0,i.currentTime=n,i}return Ct(n,t),n}(rh),_D=[eh.gy,eh.Kw,eh.$w,eh.Fw,eh.uo,eh.jw],mD=function(t){function n(n,i,r,e,s,u,o,h,c,a,f){var v;return(v=t.call(this)||this).bz=void 0,v.WA=void 0,v.Z4=void 0,v.kz=void 0,v.Sz=void 0,v.Tz=void 0,v.Ez=void 0,v.ib=void 0,v.t5=void 0,v.K4=void 0,v.J4=void 0,v.bz=n,v.WA=i,v.Z4=r,v.kz=e,v.Sz=s,v.Tz=u,v.Ez=o,v.ib=h,v.t5=c,v.K4=a,v.J4=f,v}Ct(n,t);var i=n.prototype;return i.My=function(t,n,i){this.bz!==t&&(this.bz=t,this.K4=n,i&&!this.Sz?(this.J4=!0,this.So(new gD(this.MP))):(this.J4=!1,this.Sz=!0,this.So(new dT(this.MP))))},i.zx=function(){this.kz||(this.kz=!0,this.So(new hT(this.MP)))},i.Gx=function(){this.kz&&(this.kz=!1,this.So(new cT(this.MP)))},i.zg=function(){this.Vo()},Nt(n,[{key:"MP",get:function(){return this.bz}},{key:"Q4",get:function(){return this.K4}},{key:"Y4",get:function(){return this.J4}},{key:"ct",get:function(){return this.WA}},{key:"UP",get:function(){return this.Z4}},{key:"hx",get:function(){return this.kz}},{key:"Ax",get:function(){return this.t5}},{key:"kx",get:function(){return this.Sz}},{key:"$P",get:function(){return this.Tz},set:function(t){this.$P!==t&&(this.Tz=t,this.So(new wT(this.MP,this.Mx)))}},{key:"ux",get:function(){return this.Ez},set:function(t){this.ux!==t&&(this.Ez=t,this.So(new fT(this.MP,this.ux)))}},{key:"Mx",get:function(){return this.ib},set:function(t){this.Mx!==t&&(this.ib=t,this.So(new wT(this.MP,this.Mx)))}}]),n}(th);function yD(t){return new mD(t.MP,t.ct,t.UP,t.hx,t.kx,t.$P,t.ux,t.Mx,t.Ax,!1,t.Y4)}function pD(t,n){n.ct===t.ct||S(n.ct)&&S(t.ct)||t.So(new aT(t.ct)),t.$P=n.$P,t.Mx=n.Mx,t.ux=n.ux,n.hx?t.zx():t.Gx().catch(di),n.MP!==t.MP||n.Ax>Cy.VL&&t.Ax===Cy.VL?t.My(n.MP,n.Q4,n.Y4):!n.kx&&t.kx?t.So(new dT(t.MP)):n.kx&&!t.kx&&t.Ax>=Cy.HL&&t.So(new lT(t.MP)),!n.UP&&t.UP&&t.So(new vT(t.MP))}F(),Et(),Dt(),Ut(),F(),Et(),Bt(),Dt();var kD=function(t){function n(n){var i;return(i=t.call(this)||this).TL=void 0,i.EV=Cy.VL,i.s5=function(){i.e5()},i.TL=n,i}Ct(n,t);var i=n.prototype;return i.i5=function(t){this.EV!==t&&(this.EV=t,this.So(new Ry(this.TL.MP,t)))},i.e5=function(){this.i5(this.bx())},i.hr=function(){this.i5(Cy.VL)},i.zg=function(){this.Vo()},Nt(n,[{key:"Ax",get:function(){return this.bx()}}]),n}(th);F(),Et(),Dt(),Ut();var bD=["emptied","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","timeupdate","progress","seeking","seeked"],AD=function(t){function n(n){var i;i=t.call(this,n)||this;for(var r,e=Lt(bD);!(r=e()).done;){var s=r.value;i.TL.$W.addEventListener(s,i.s5)}return i}Ct(n,t);var i=n.prototype;return i.bx=function(){var t=this.TL.$W.readyState;return t>Cy.HL&&this.TL.n5?Cy.HL:(this.TL.$W.seeking&&t>Cy.Qn&&(t=Cy.Qn),t)},i.zg=function(){for(var n,i=Lt(bD);!(n=i()).done;){var r=n.value;this.TL.$W.removeEventListener(r,this.s5)}t.prototype.zg.call(this)},n}(kD);F(),Et();var TD=ve,SD=function(t){function n(n){var i;(i=t.call(this,n)||this).TL.wn([eh.$w,eh.Fw],i.s5);for(var r,e=Lt(bD);!(r=e()).done;){var s=r.value;i.TL.$W.addEventListener(s,i.s5)}return i}Ct(n,t);var i=n.prototype;return i.bx=function(){if(this.TL.$W.readyState===Cy.VL)return Cy.VL;var t=this.r5(),n=t?t.An-t.Tn:0;if(!t)return Cy.Qn;var i=this.TL.ux;return this.h5()||n>=3*i?Cy.qL:n>=3?Cy.WL:Cy.HL},i.r5=function(){var t=this.TL.MP,n=this.TL.IP.LM(.04),i=n.VM(t);if(!(i<0))return{Tn:t,An:n.An(i)}},i.h5=function(){if(this.TL.UP)return!0;var t=this.TL.ct,n=this.r5();return!!n&&t-n.An<=TD},i.zg=function(){this.TL.mn([eh.$w,eh.Fw],this.s5);for(var n,i=Lt(bD);!(n=i()).done;){var r=n.value;this.TL.$W.removeEventListener(r,this.s5)}t.prototype.zg.call(this)},n}(kD);F(),Et(),Dt(),F(),Et(),Dt();var ED=[Ey.wI,eh.uo,eh.jw,eh.$w,eh.Zw,eh.Fw,eh.Vw,eh.Bw,zm.ma],ID=function(t){function n(n){var i;return(i=t.call(this)||this).PV=void 0,i.c5=!1,i.xK=function(){i.er()},i.PV=n,i.PV.wn(ED,i.xK),i}Ct(n,t);var i=n.prototype;return i.o5=function(){return(!this.PV.Y4||!this.PV.a5)&&this.PV.Ax<Cy.WL},i.u5=function(){return!this.PV.kx&&!(this.PV.hx||this.PV.UP||this.PV.lt||this.o5())},i.er=function(){var t=this.c5;this.c5=this.u5(),!t&&this.c5&&this.So(new Oy(this.PV.MP))},i.hr=function(){this.c5=!1},i.zg=function(){this.Vo(),this.PV.mn(ED,this.xK)},n}(th),RD=function(t){function n(n){var i;return(i=t.call(this,n)||this)._T=void 0,i.d5=!1,i.MV=function(){i.d5=!0,i.er()},i._T=n.$W,i._T.addEventListener(Ey.TM,i.MV),i}Ct(n,t);var i=n.prototype;return i.u5=function(){return this.d5&&t.prototype.u5.call(this)},i.er=function(){this.d5&&(this._T.paused||this._T.ended||this._T.error)&&(this.d5=!1),t.prototype.er.call(this)},i.hr=function(){t.prototype.hr.call(this),this.d5=!1},i.zg=function(){this._T.removeEventListener(Ey.TM,this.MV),t.prototype.zg.call(this)},n}(ID);F(),Et(),Dt();var CD=function(t){function n(n){var i;return(i=t.call(this,zm.ma)||this).lt=void 0,i.lt=n,i}return Ct(n,t),n}(rh);function DD(t,n){return t.EO<=n&&t.PO>n}function PD(t,n){return function(t,n){return Oi(t.EO,n.EO,jg)}(t,n)||function(t,n){return Oi(t.PO,n.PO,jg)}(t,n)}function ND(t,n){return function(t,n){return Oi(t.MO,n.MO,jg)}(t,n)||function(t,n){return Oi(t.LO,n.LO,jg)}(t,n)}function BD(t,n,i){var r=function(t,n,i,r,e,s,u){void 0===e&&(e=!1),void 0===s&&(s=0),void 0===u&&(u=t.length);for(var o=s,h=u-1;o<=h;){var c=o+(h-o>>1),a=r(i(t[c]),n);if(a<0)o=c+1;else if(a>0)h=c-1;else{if(!(e&&c>s&&0===r(i(t[c-1]),n)))return c;h=c-1}}return~o}(t,n,li,i,!0);if(r<0)return r;for(;r<t.length&&i(n,t[r])===Ni.rh;r++)if(t[r].zO(n))return r;return-(r+1)}function xD(t,n,i){var r=BD(t,n,i);return r>=0?r:-(r+1)}function OD(t){var n=t.Ht;if(!n)return-1;if(V(t,Yg))return n.l5(t);var i=n.L;if(!i)return-1;var r=BD(i.II,t,PD);return r>=0?r:-1}function MD(t,n){var i=function(t,n,i){for(var r=t.length,e=n.length,s=0,u=0,o=[],h=[];s<r&&u<e;){var c=t[s],a=n[u];c===a?(s++,u++):i(a,c)<=0?(o.push(a),u++):(h.push(c),s++)}for(;s<r;)h.push(t[s]),s++;for(;u<e;)o.push(n[u]),u++;return{f5:o,v5:h}}(t,n,PD);return function(t,n){for(var i=n.length,r=0;r<i;r++)t[r]=n[r];t.length=i}(t,n),i}F(),Et(),Bt(),Dt(),Ut(),F(),Et(),H(),F(),Et(),F(),Et(),Bt();var LD=function(){function t(t){this._5=void 0,this.hu=void 0,this._5=t}var n=t.prototype;return n.xa=function(){return function(t){for(var n=[],i=0;i<t.V;i++)n[i]=t.Wy(i).Ca;return n.item=function(n){var i=0|n,r=t.Wy(i);return r&&r.Ca||void 0},k.defineProperty(n,"constructor",{value:Hg}),n}(this)},n.fO=function(t){for(var n=this._5,i=n.length-1;i>=0;i-=1){var r=n[i];if(t.zO(r))return!0}return!1},n.Wy=function(t){return this._5[t]},Nt(t,[{key:"II",get:function(){return this._5}},{key:"V",get:function(){return this._5.length}},{key:"Ca",get:function(){if(this.hu){var t=this._5;this.hu.length=t.length;for(var n=0;n<t.length;n++)this.hu[n]=t[n].Ca}else this.hu=this.xa();return this.hu}}]),t}();F(),Et(),Dt();var UD=function(t){function n(n,i){var r;return(r=t.call(this,Dw.wI)||this).Ht=void 0,r.Ax=void 0,r.Ht=n,r.Ax=i,r}return Ct(n,t),n.prototype.xa=function(){return new FD(this.Ht.Ca,this.Ax)},n}(Aw),FD=function(t){function n(n,i){var r;return(r=t.call(this,"readystatechange")||this).track=void 0,r.readyState=void 0,r.track=n,r.readyState=i,r}return Ct(n,t),n}(Tw);F(),Et(),Dt();var VD=function(t){function n(n){var i;return(i=t.call(this,Dw.AI)||this).Ht=void 0,i.Ht=n,i}return Ct(n,t),n.prototype.xa=function(){return new HD(this.Ht.Ca)},n}(Aw),HD=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=void 0,i.track=n,i}return Ct(n,t),n}(Tw);F(),Et(),Dt();var WD=function(t){function n(n){var i;return(i=t.call(this,Dw.hI)||this).TO=void 0,i.TO=n,i}return Ct(n,t),n.prototype.xa=function(){return new zD(this.TO.Ca)},n}(Aw),zD=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=void 0,i.cue=n,i}return Ct(n,t),n}(Tw);F(),Et(),Dt();var XD=function(t){function n(n){var i;return(i=t.call(this,Dw.aI)||this).TO=void 0,i.TO=n,i}return Ct(n,t),n.prototype.xa=function(){return new qD(this.TO.Ca)},n}(Aw),qD=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=void 0,i.cue=n,i}return Ct(n,t),n}(Tw),GD=function(t){function n(n,i,r,e,s,u,o,h,c){var a;return(a=t.call(this)||this).hu=void 0,a.hS=void 0,a.gO=mg(),a.w5=!1,a.A5=void 0,a.b5=void 0,a.pO=void 0,a.qA=void 0,a.Yo=Hm.Nh,a.t5=Cg.NONE,a.P5=void 0,a.Vp=void 0,a.y5=void 0,a.S5=void 0,a.zU=0,a._5=[],a.x5=[],a.k5=[],a.p5=void 0,a.g5=void 0,a.B5=0,a.E5=0,a.hS=i||"",a.A5=h||"",a.b5=n,a.qA=e||"",a.w5=Boolean(s),a.y5=Boolean(o),a.Vp=u||Dg.DEFAULT,a.pO=r||"",a.S5=c||[],a.p5=new LD(a._5),a.g5=new LD(a.k5),a}Ct(n,t);var i=n.prototype;return i.m5=function(t){return Ui(this.p5.II,function(n){return n.o===t})},i.xa=function(){return qm(this)},i.T5=function(t){var n=Wm(t);n!==this.Xk&&(this.Yo=n,n===Hm.Nh&&(this.k5.forEach(function(t){t.ro=!1}),Yi(this.k5),this.E5=0),this.So(new dg(this)))},i.tV=function(t){if(t&&!t.Ht){var n=BD(this.x5,t,ND);if(!(n>=0)){t.Ht=this;var i=-(n+1);this.x5.splice(i,0,t);var r=xD(this.L.II,t,PD);this.I5(t,r),this.So(new WD(t))}}},i.I5=function(t,n){this._5.splice(n,0,t),this.R5(n),t.jO=n,n<this.E5&&(this.E5=n)},i.WU=function(t){if(t&&t.Ht===this){var n=this.l5(t);if(!(n<0)){t.ro=!1;var i=this.k5,r=BD(i,t,PD);r>=0&&qi(i,r);var e=BD(this.x5,t,ND);e>=0&&qi(this.x5,e),t.Ht=void 0,this.C5(t,n),this.So(new XD(t))}}},i.C5=function(t,n){qi(this._5,n),this.R5(n),t.jO=-1,this.E5>n&&--this.E5},i.UO=function(t){if(t&&t.Ht===this){var n=this.l5(t);if(!(n<0)){this.C5(t,n);var i=xD(this.L.II,t,PD);this.I5(t,i);var r=Hi(this.k5,function(n){return n===t});if(r>=0){qi(this.k5,r);var e=xD(this.k5,t,PD);this.k5.splice(e,0,t)}}}},i.D5=function(t,n){var i=this.k5,r=this._5,e=this.E5,s=!1,u=1/0;n&&(e=0);for(var o=i.length-1;o>=0;o--){var h=i[o];DD(h,t)?h.PO<u&&(u=h.PO):(s=!0,qi(i,o))}for(;e<r.length&&r[e].EO<=t;){var c=r[e];DD(c,t)&&(ji(i,c)||(s=!0,i.push(c)),c.PO<u&&(u=c.PO)),e++}return e<r.length&&r[e].EO<u&&(u=r[e].EO),s&&yi(i,PD),this.E5=e,u},i.l5=function(t){return(-1===t.jO||t.jO>=this.B5)&&this.N5(),t.jO},i.N5=function(){for(var t=this._5,n=this.B5;n<t.length;n++)t[n].jO=n;this.B5=t.length},i.R5=function(t){t<this.B5&&(this.B5=b.max(t,0))},i.$I=function(t){this.tR||(this.Xk=t)},i.kn=function(){this.Vo();for(var t,n=Lt(this._5.slice());!(t=n()).done;){t.value.kn()}Yi(this._5),Yi(this.x5),Yi(this.k5)},Nt(n,[{key:"q",get:function(){return this.g5}},{key:"L",get:function(){return this.p5}},{key:"$U",get:function(){return this.w5},set:function(t){this.w5=t}},{key:"tR",get:function(){return this.y5}},{key:"Ca",get:function(){return this.hu||(this.hu=this.xa()),this.hu}},{key:"o",get:function(){return this.hS}},{key:"jI",get:function(){return this.gO}},{key:"ZI",get:function(){return this.A5},set:function(t){this.A5=t}},{key:"Lt",get:function(){return this.b5}},{key:"Th",get:function(){return this.pO},set:function(t){t!==this.pO&&(this.pO=t,this.So(new wg(this)))}},{key:"bs",get:function(){return this.qA}},{key:"QI",get:function(){return this.S5}},{key:"Xk",get:function(){return this.Yo},set:function(t){this.T5(t)}},{key:"Ax",get:function(){return this.t5},set:function(t){this.t5!==t&&(this.t5=t,this.So(new UD(this,this.t5)))}},{key:"iR",get:function(){return this.P5},set:function(t){this.P5=t}},{key:"Km",get:function(){return this.Vp},set:function(t){this.Vp!==t&&(this.Vp=t,this.So(new VD(this)))}},{key:"bU",get:function(){return this.zU},set:function(t){this.zU=t}}]),n}(th);F(),Et(),Bt(),Dt(),Ut(),F(),Et(),Bt(),Dt(),F(),Et(),Dt();var jD=function(t){function n(n,i){var r;return(r=t.call(this,Lg.zL,n)||this).XF=void 0,r.XF=i,r}return Ct(n,t),n.prototype.xa=function(){return new QD(this.TO.Ca)},n}(Ug),QD=function(t){function n(n){return t.call(this,"enter",n)||this}return Ct(n,t),n}(Fg);F(),Et(),Dt();var YD=function(t){function n(n,i){var r;return(r=t.call(this,Lg.GL,n)||this).XF=void 0,r.XF=i,r}return Ct(n,t),n.prototype.xa=function(){return new KD(this.TO.Ca)},n}(Ug),KD=function(t){function n(n){return t.call(this,"exit",n)||this}return Ct(n,t),n}(Fg);F(),Et(),Dt();var JD=function(t){function n(n){var i;return(i=t.call(this,Dw.lI)||this).TO=void 0,i.TO=n,i}return Ct(n,t),n.prototype.xa=function(){return new ZD(this.TO.Ca)},n}(Aw),ZD=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=void 0,i.cue=n,i}return Ct(n,t),n}(Tw);F(),Et(),Dt();var $D=function(t){function n(n){var i;return(i=t.call(this,Dw.vI)||this).TO=void 0,i.TO=n,i}return Ct(n,t),n.prototype.xa=function(){return new tP(this.TO.Ca)},n}(Aw),tP=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=void 0,i.cue=n,i}return Ct(n,t),n}(Tw),nP=function(t){function n(n){var i;return(i=t.call(this)||this).M5=void 0,i.HO=void 0,i.MO=void 0,i.LO=void 0,i.gO=void 0,i.FO=void 0,i.hu=void 0,i.ho=!1,i.O5=function(){i.ro=!0},i.F5=function(){i.ro=!1},i.gO=Ag(),i.M5=n,i.MO=n.startTime,i.LO=n.endTime,i.M5.addEventListener("enter",i.O5),i.M5.addEventListener("exit",i.F5),i}Ct(n,t);var i=n.prototype;return i.xa=function(){return Vg(this)},i.zO=function(t){return this===t||Lw(this,t)&&Qg(this,t)&&this.GO(t)},i.L5=function(){var t,n,i,r=null!=(n=this.M5.THEOplayerTimestampOffset)?n:0,e=null!=(i=null==(t=this.FO)?void 0:t.bU)?i:0;if(r!==e){var s=e-r;this.M5.startTime+=s,this.M5.endTime+=s,this.M5.THEOplayerTimestampOffset=e}},i.GO=function(t){return Mw(this.U,t.U)},i.kn=function(){this.Vo(),this.M5.removeEventListener("enter",this.O5),this.M5.removeEventListener("exit",this.F5)},Nt(n,[{key:"jI",get:function(){return this.gO}},{key:"EO",get:function(){var t,n;return this.M5.startTime-(null!=(n=null==(t=this.FO)?void 0:t.bU)?n:0)},set:function(t){var n,i;this.M5.startTime=t+(null!=(i=null==(n=this.FO)?void 0:n.bU)?i:0)}},{key:"PO",get:function(){var t,n;return this.M5.endTime-(null!=(n=null==(t=this.FO)?void 0:t.bU)?n:0)},set:function(t){var n,i;this.M5.endTime=t+(null!=(i=null==(n=this.FO)?void 0:n.bU)?i:0)}},{key:"U",get:function(){return this.HO},set:function(t){this.HO=t}},{key:"WO",get:function(){return Boolean(this.M5.pauseOnExit)},set:function(t){this.M5.pauseOnExit=Boolean(t)}},{key:"Ht",get:function(){return this.FO},set:function(t){this.FO=t,this.L5()}},{key:"o",get:function(){return this.M5.id||""}},{key:"Ca",get:function(){return this.hu||(this.hu=this.xa()),this.hu}},{key:"ro",get:function(){return this.ho},set:function(t){this.ro!==t&&(this.ho=t,t?(this.So(new jD(this,this.EO)),this.FO&&this.FO.So(new JD(this))):(this.So(new YD(this,this.PO)),this.FO&&this.FO.So(new $D(this))))}}]),n}(ih);F(),Et(),Dt();var iP=function(t){function n(n){var i;return(i=t.call(this,Dw.gI)||this).Ht=void 0,i.Ht=n,i}return Ct(n,t),n.prototype.xa=function(){return new rP(this.Ht.Ca)},n}(Aw),rP=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=void 0,i.track=n,i}return Ct(n,t),n}(Tw);function eP(t){if(t){var n=t.THEOplayerVTTRegion;return n||(n=new sP(t),t.THEOplayerVTTRegion=n),n}}F(),Et(),Bt(),Dt(),F(),Et(),Bt();var sP=function(){function t(t){this.V5=void 0,this.hu=void 0,this.V5=t}return Nt(t,[{key:"U5",get:function(){return this.V5}},{key:"o",get:function(){return this.V5.id||""}},{key:"Ti",get:function(){return Number(this.V5.width)||0},set:function(t){this.V5.width=t||0}},{key:"QO",get:function(){return Number(this.V5.lines)||0},set:function(t){this.V5.lines=t||0}},{key:"KO",get:function(){return Number(this.V5.regionAnchorX)||0},set:function(t){this.V5.regionAnchorX=t||0}},{key:"YO",get:function(){return Number(this.V5.regionAnchorY)||0},set:function(t){this.V5.regionAnchorY=t||0}},{key:"ZO",get:function(){return Number(this.V5.viewportAnchorX)||0},set:function(t){this.V5.viewportAnchorX=t||0}},{key:"$O",get:function(){return Number(this.V5.viewportAnchorY)||0},set:function(t){this.V5.viewportAnchorY=t||0}},{key:"JO",get:function(){return this.V5.scroll||""}},{key:"Ca",get:function(){return this.hu||(this.hu=i_(this)),this.hu}}]),t}();var uP=function(t){function n(n){return t.call(this,n)||this}Ct(n,t);var i=n.prototype;return i.xa=function(){return Wg(this)},i.GO=function(t){return Kg(this,t)},Nt(n,[{key:"U",get:function(){return this.M5.text},set:function(t){this.M5.text=t}},{key:"Pt",get:function(){return this.M5.vertical||""},set:function(t){this.M5.vertical=t||""}},{key:"BO",get:function(){return this.M5.snapToLines},set:function(t){this.M5.snapToLines=t}},{key:"IO",get:function(){return this.M5.line},set:function(t){this.M5.line=t}},{key:"Vy",get:function(){return Number(this.M5.size)},set:function(t){this.M5.size=Ti(t,0,100)}},{key:"Ca",get:function(){return this.hu||(this.hu=this.xa()),this.hu}}]),n}(nP),oP=function(t){function n(n){return t.call(this,n)||this}return Ct(n,t),Nt(n,[{key:"DO",get:function(){return eP(this.M5.region)}},{key:"RO",get:function(){return this.M5.lineAlign||"start"},set:function(t){this.M5.lineAlign=t||"start"}},{key:"mo",get:function(){return this.M5.position},set:function(t){this.M5.position=t}},{key:"CO",get:function(){return this.M5.positionAlign||"auto"},set:function(t){this.M5.positionAlign=t||"auto"}},{key:"xO",get:function(){return this.M5.align||"center"},set:function(t){this.M5.align=t||"center"}}]),n}(uP),hP=function(t){function n(n){return t.call(this,n)||this}return Ct(n,t),Nt(n,[{key:"DO",get:function(){return eP(this.U5)}},{key:"U5",get:function(){return function(t,n){if(void 0!==n){var i=t&&t.regions;return i&&i.getRegionById(n)||void 0}}(this.M5.track,this.M5.regionId)}},{key:"RO",get:function(){return function(t){return"middle"===t?"center":t}(this.M5.lineAlign||"start")},set:function(t){this.M5.lineAlign=function(t){return"center"===t?"middle":t}(t||"start")}},{key:"mo",get:function(){return this.M5.position},set:function(t){this.M5.position=function(t,n){return Mg(t,n)}(t,this.xO)}},{key:"CO",get:function(){return function(t){return xg[t]}(this.M5.positionAlign||"middle")},set:function(t){this.M5.positionAlign=function(t,n){return Bg[Og(t,n)]}(t||"center",this.xO)}},{key:"xO",get:function(){return function(t){return"middle"===t?"center":t}(this.M5.align||"middle")},set:function(t){this.M5.align=function(t){return"center"===t?"middle":t}(t||"center")}}]),n}(uP);function cP(t,n){return t.U===n.U}function aP(t,n){if(0!==n.length){var i=n.length-1;if(n[i].EO<t.EO)fP(n,i,t.EO);else{var r=n[0];if(r.EO>t.EO)t.PO=r.EO;else{var e=BD(n,t,PD);if(!(e>=0)){var s=-(e+1),u=s-1;if(u>=0)n[u].EO<t.EO&&fP(n,u,t.EO);if(s<n.length){var o=n[s];t.PO=o.EO}}}}}}function fP(t,n,i){for(var r=t[n].EO,e=n;e>=0&&t[e].EO===r;e--)t[e].PO=i}function vP(t){return Vg(t)}F(),Et(),H(),Ut(),F(),Et(),Bt(),Dt(),F(),Et(),F(),Et();var dP=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).H5=void 0,r.H5=i,r}Ct(n,t);var i=n.prototype;return i.xa=function(){return vP(this)},i.GO=function(t){return cP(this,t)},Nt(n,[{key:"U",get:function(){return this.H5}},{key:"Ca",get:function(){return this.hu||(this.hu=this.xa()),this.hu}}]),n}(nP);function lP(t){switch(t){case 0:case 1:case 2:case 3:return!0}return!1}function wP(t){switch(t){case 0:return Zh;case 1:return ic;case 2:return rc;case 3:return fc}}function gP(t,n){var i=n.ac,r=t.byteLength,e=mc(t);return n.Ny(r-i),kc(e,i,r).buffer}function _P(t,n){return{id:t||"",data:V(n,ArrayBuffer)?n:void 0}}function mP(t,n,i){var r=Mh(t,n);if(lP(r)){var e=wP(r);return{id:i,language:Kh(t,n,3),description:e(t,n),text:e(t,n)}}}function yP(t,n,i){var r=Mh(t,n);if(lP(r)){var e=wP(r);return{id:i,mimeType:Zh(t,n),fileName:e(t,n),description:e(t,n),data:gP(t,n)}}}function pP(t,n,i){var r=Mh(t,n);if(lP(r)){for(var e=wP(r),s=[];n.ac<t.byteLength;)s.push({involvement:e(t,n),involvee:e(t,n)});return{id:i,entries:s}}}function kP(t,n,i){var r=Mh(t,n);if(lP(r)){for(var e=wP(r),s=Kh(t,n,3),u=Mh(t,n),o=Mh(t,n),h=e(t,n),c=!1,a=[];n.ac<t.byteLength;){var f=void 0;if(1===r){var v=nc(t,n);void 0===v?v=c:c=v,f=rc(t,n,v)}else f=e(t,n);if(!f||n.ac+4>t.byteLength)break;a.push({text:f,timestamp:qh(t,n)})}return{id:i,language:s,format:u,contentType:o,description:h,entries:a}}}function bP(t,n,i){return{id:i,ownerIdentifier:Zh(t,n),identifier:gP(t,n)}}function AP(t,n,i){var r=Mh(t,n);if(lP(r)){var e=wP(r);return{id:i,language:Kh(t,n,3),description:e(t,n),text:e(t,n)}}}function TP(t,n,i){var r=Mh(t,n);if(lP(r))return{id:i,text:wP(r)(t,n)}}function SP(t,n,i){return{id:i,url:Zh(t,n)}}function EP(t,n,i){var r=Mh(t,n);if(lP(r)){var e=wP(r);return{id:i,description:e(t,n),text:e(t,n)}}}function IP(t,n,i){var r=Mh(t,n);if(lP(r))return{id:i,description:wP(r)(t,n),url:Zh(t,n)}}function RP(t,n,i){switch(i){case"COM":return mP(t,n,i);case"GEO":return yP(t,n,i);case"IPL":return pP(t,n,i);case"PIC":return function(t,n,i){var r=Mh(t,n);if(lP(r)){var e,s,u=wP(r),o=Kh(t,n,3),h=Mh(t,n),c=u(t,n);return"--\x3e"===o?(e=o,s=Zh(t,n)):(e="image/"+o.toLowerCase(),s=gP(t,n)),{id:i,mimeType:e,pictureType:h,description:c,data:s}}}(t,n,i);case"SLT":return kP(t,n,i);case"TXX":return EP(t,n,i);case"UFI":return bP(t,n,i);case"ULT":return AP(t,n,i);case"WXX":return IP(t,n,i);default:if("T"===i.charAt(0))return TP(t,n,i);if("W"===i.charAt(0))return SP(t,n,i)}}function CP(t,n,i){switch(i){case"APIC":return function(t,n,i){var r=Mh(t,n);if(lP(r)){var e=wP(r),s=Zh(t,n);return{id:i,mimeType:s,pictureType:Mh(t,n),description:e(t,n),data:"--\x3e"===s?Zh(t,n):gP(t,n)}}}(t,n,i);case"COMM":return mP(t,n,i);case"COMR":return function(t,n,i){var r=Mh(t,n);if(lP(r)){var e,s,u=wP(r),o=Zh(t,n),h=Kh(t,n,8),c=Zh(t,n),a=Mh(t,n),f=u(t,n),v=u(t,n);return n.ac<t.byteLength&&(e=Zh(t,n)||"image/",s=gP(t,n)),{id:i,price:o,validUntil:h,contactURL:c,receivedAs:a,nameOfSeller:f,description:v,pictureMimeType:e,sellerLogo:s}}}(t,n,i);case"GEOB":return yP(t,n,i);case"IPLS":return pP(t,n,i);case"PRIV":return function(t,n,i){return{id:i,ownerIdentifier:Zh(t,n),data:gP(t,n)}}(t,n,i);case"POSS":return function(t,n,i){return{id:i,format:Mh(t,n),position:qh(t,n)}}(t,n,i);case"SYLT":return kP(t,n,i);case"TXXX":return EP(t,n,i);case"UFID":return bP(t,n,i);case"USER":return function(t,n,i){var r=Mh(t,n);if(lP(r)){var e=wP(r);return{id:i,language:Kh(t,n,3),text:e(t,n)}}}(t,n,i);case"USLT":return AP(t,n,i);case"WXXX":return IP(t,n,i);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return TP(t,n,i);default:var r=i.charAt(0);if("T"===r)return TP(t,n,i);if("W"===r)return SP(t,n,i)}}F(),Et(),F(),Et(),H();function DP(t,n){return(127&Mh(t,n))<<21|(127&Mh(t,n))<<14|(127&Mh(t,n))<<7|127&Mh(t,n)}function PP(t,n){switch(t){case 4:return{W5:Oh(n,0),q5:Oh(n,1),z5:Oh(n,2),G5:Oh(n,3)};case 3:return{W5:Oh(n,0),q5:Oh(n,1),z5:Oh(n,2)};case 2:return{W5:Oh(n,0),X5:Oh(n,1)}}}function NP(t,n,i){switch(i.bD){case 3:i.SD.q5&&function(t,n){var i=n.ac,r=qh(t,n)+4,e=32768&zh(t,n);n.My(i+r),e&&qh(t,n)}(t,n);break;case 4:i.SD.q5&&function(t,n){var i=n.ac,r=DP(t,n);n.My(i+r)}(t,n)}}function BP(t,n){if(t.byteLength-n.ac<10)return null;if(73!==Mh(t,n)||68!==Mh(t,n)||51!==Mh(t,n))return null;var i=Mh(t,n),r=Mh(t,n);if(!function(t){switch(t){case 2:case 3:case 4:return!0}return!1}(i))return null;var e=Mh(t,n),s=DP(t,n);return{bD:i,j5:r,SD:PP(i,e),Q5:s}}function xP(t,n,i){switch(i){case 2:return function(t,n){if(!(n.ac+6>t.byteLength))return{o:Kh(t,n,3),Vy:Hh(t,n,3)}}(t,n);case 3:return function(t,n){if(!(n.ac+10>t.byteLength)){var i=Kh(t,n,4),r=qh(t,n);Mh(t,n);var e=Mh(t,n);return{o:i,Vy:r,SD:{X5:Oh(e,0),K5:Oh(e,1),groupingIdentity:Oh(e,2)}}}}(t,n);case 4:return function(t,n){if(!(n.ac+10>t.byteLength)){var i=Kh(t,n,4),r=DP(t,n);Mh(t,n);var e=Mh(t,n);return{o:i,Vy:r,SD:{groupingIdentity:Oh(e,1),X5:Oh(e,4),K5:Oh(e,5),W5:Oh(e,6),Y5:Oh(e,7)}}}}(t,n)}}function OP(t){for(var n=mc(t),i=new E(n.byteLength),r=0,e=0;e<n.byteLength;e++){var s=n[e];255===s&&e++,i[r]=s,r++}return _c(kc(i,0,r))}function MP(t,n){var i=n||new Tc,r=BP(t,i);if(!r)return null;var e=function(t,n,i){var r=[],e=n.ac,s=gc(t,e,e+i.Q5),u=new Tc;switch(n.Ny(i.Q5),i.bD){case 2:case 3:i.SD.W5&&(s=OP(s))}NP(t,n,i);for(;u.ac<s.byteLength;){var o=LP(s,u,i);if(void 0===o)break;r.push(o)}return r}(t,i,r);return{gD:r,J5:e}}function LP(t,n,i){var r=xP(t,n,i.bD);if(void 0!==r&&0!==r.o.charCodeAt(0)&&0!==r.Vy){var e,s,u=n.ac,o=gc(t,u,u+r.Vy);switch(n.Ny(r.Vy),i.bD){case 2:var h=r;e=RP(s=o,new Tc,h.o);break;case 3:var c=r,a=new Tc;!function(t,n,i){var r,e,s,u=i.SD;u.X5&&(r=qh(t,n)),u.K5&&(e=Mh(t,n)),u.groupingIdentity&&(s=Mh(t,n))}(o,a,c),e=CP(s=gc(o,a.ac,o.byteLength),new Tc,c.o);break;case 4:var f=r,v=new Tc;f.SD.W5&&(o=OP(o)),function(t,n,i){var r,e,s,u,o=i.SD;o.groupingIdentity&&(r=Mh(t,n)),o.X5&&(e=qh(t,n)),o.K5&&(s=Mh(t,n)),o.Y5&&(u=DP(t,n))}(o,v,f),e=CP(s=gc(o,v.ac,o.byteLength),new Tc,f.o)}if(!e){var d=bc(mc(s));e=_P(r.o,d.buffer)}return e}}F(),Et();function UP(t){return Un(t)&&"org.id3"===t.type&&Un(t.value)}function FP(t){return function(t,n,i){return TP(t,n,i)}(new DataView(t.data),new Tc,t.key)}function VP(t){switch(t.key){case"APIC":case"PIC":return function(t){return{id:t.key,mimeType:t.type,pictureType:16,description:t.info,data:t.data}}(t);case"GEOB":case"GEO":return function(t){return{id:t.key,mimeType:t.type,fileName:t.name,description:t.info,data:t.data}}(t);case"PRIV":return function(t){return{id:t.key,ownerIdentifier:t.info,data:t.data}}(t);case"TXXX":case"TXX":return function(t){return{id:t.key,description:t.info,text:t.data}}(t);case"WXXX":case"WXX":return function(t){return{id:t.key,description:t.info,url:t.data}}(t);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return FP(t);default:var n=t.key.charAt(0);if("T"===n)return function(t){return{id:t.key,text:t.data}}(t);if("W"===n)return function(t){return{id:t.key,url:t.data}}(t)}return function(t){return _P(t.key,t.data)}(t)}F(),Et(),F(),Et();var HP=function(t){function n(n,i,r,e){var s;return void 0===e&&(e=!0),(s=t.call(this)||this)._O=void 0,s.Z5=void 0,s._5=[],s.k5=[],s.p5=void 0,s.g5=void 0,s.gO=void 0,s.hS=void 0,s.pO=void 0,s.Yo=Hm.Nh,s.t5=Cg.NONE,s.hu=void 0,s.P5=void 0,s.Vp=Dg.DEFAULT,s.h6=!1,s.a6=0,s.zU=0,s.r6=void 0,s._6=function(){s.t6(),s._O.removeEventListener("cuechange",s._6)},s.o6=function(){s.Xk!==Hm.Nh&&(s.v6(),s.D5(),s._5.length&&s.i6(Cg.LOADING))},s.g6=function(){s.i6(Cg.LOADED)},s.p6=function(){s.i6(Cg.ERROR)},s.hS=n||zE(),s._O=i,s.r6=e,s._O.addEventListener("cuechange",s._6),s._O.addEventListener("cuechange",s.o6),s.Z5=r,s.Z5&&(s.P5=Sl(s.Z5.src),s.Z5.addEventListener("load",s.g6),s.Z5.addEventListener("error",s.p6)),s.gO=mg(),s.pO=i.label||"",s.p5=new LD(s._5),s.g5=new LD(s.k5),s.Xk=s.e6,pr(function(){s.o6(),s.i6(Cg.NONE)}),s}Ct(n,t);var i=n.prototype;return i.xa=function(){return qm(this)},i.tV=function(t){t.Ht!==this&&(t.Ht=this,this._O.addCue(t.M5),this.o6())},i.WU=function(t){t.Ht===this&&(t.Ht=void 0,this._O.removeCue(t.M5),this.o6())},i.m5=function(t){var n,i=null==(n=this._O.cues)?void 0:n.getCueById(t);if(i){var r=WP(i);return r&&Wn(r)?r[0]:r}},i.qU=function(t){this.a6>=t||(this.a6=t,cy(this,t))},i.t6=function(){var t=this.Xk;this.n6||t!==Hm.Kn?this.e6=t:this.e6=Hm.JI},i.u6=function(){var t=this.Xk,n=this.e6;t!==n&&(this.n6||t!==Hm.Kn||n!==Hm.JI)&&("metadata"===this.Lt&&n===Hm.Nh?this.Xk=t:this.h6&&n===Hm.Nh&&t===Hm.Kn?this.e6=t:this.Xk=n)},i.e5=function(t){this.t5!==t&&(this.t5=t,this.So(new UD(this,t)))},i.i6=function(t){var n=b.max(this.t5,this.s6,t);this.e5(n)},i.c6=function(t){var n=WP(t);if(n)return n;if(Wn(n=this.d6(t)))for(var i,r=Lt(n);!(i=r()).done;){i.value.Ht=this}else n.Ht=this;return n},i.d6=function(t){var n=this.l6(t);return t.THEOplayerTextTrackCue=n,n},i.l6=function(t){return t.endTime<this.a6?[]:UP(t)?(this.Km=Dg.ID3,function(t){var n;try{n=VP(t.value)}catch(t){n=_P("")}return new dP(t,n)}(t)):function(t){return t&&V(t.data,ArrayBuffer)}(t)?(this.Km=Dg.ID3,function(t){var n=[];try{var i=MP(new DataView(t.data));if(i)for(var r,e=Lt(i.J5);!(r=e()).done;){var s=r.value;n.push(new dP(t,s))}}catch(t){}return n}(t)):function(t){return"text"in t}(t)?(this.Km=Dg.WEBVTT,function(t){return"regionId"in t}(t)?new hP(t):new oP(t)):new nP(t)},i.f6=function(t){var n=[];if(!t)return n;for(var i=t.length,r=0;r<i;r++){var e,s=this.c6(null!=(e=t[r])?e:t.item(r));if(Wn(s))for(var u,o=Lt(s);!(u=o()).done;){var h=u.value;n.push(h)}else n.push(s)}return n},i.v6=function(){for(var t,n=this.f6(this._O.cues),i=MD(this._5,n),r=Lt(i.v5);!(t=r()).done;){var e=t.value;e.mn(Lg.GL,this.o6),e.mn(Lg.zL,this.o6),this.So(new XD(e))}for(var s,u=Lt(i.f5);!(s=u()).done;){var o=s.value;o.wn(Lg.zL,this.o6),o.wn(Lg.GL,this.o6),this.So(new WD(o))}},i.D5=function(){for(var t,n=this.f6(this._O.activeCues),i=MD(this.k5,n),r=Lt(i.v5);!(t=r()).done;){t.value.ro=!1}for(var e,s=Lt(i.f5);!(e=s()).done;){e.value.ro=!0}(i.f5.length||i.v5.length)&&this.So(new iP(this))},i.$I=function(t){this.Xk=t},i.kn=function(){this.Vo();for(var t,n=Lt(this._5.slice());!(t=n()).done;){t.value.kn()}Yi(this._5),Yi(this.k5),this._O.removeEventListener("cuechange",this._6),this._O.removeEventListener("cuechange",this.o6),this.Z5&&(this.Z5.removeEventListener("load",this.g6),this.Z5.removeEventListener("error",this.p6),$n(this.Z5))},Nt(n,[{key:"q",get:function(){return this.g5}},{key:"$U",get:function(){return this.Z5?this.Z5.default:void 0}},{key:"L",get:function(){return this.p5}},{key:"Ca",get:function(){return this.hu||(this.hu=this.xa()),this.hu}},{key:"o",get:function(){return this.hS||this._O.id||this.Z5&&this.Z5.id||""}},{key:"jI",get:function(){return this.gO}},{key:"ZI",get:function(){return this._O.inBandMetadataTrackDispatchType||""}},{key:"Lt",get:function(){return this._O.kind||Ym.OU}},{key:"Th",get:function(){return this.pO},set:function(t){t!==this.pO&&(this.pO=t,void 0!==this.Z5&&(this.Z5.label=t),this.So(new wg(this)))}},{key:"bs",get:function(){return this._O.language||""}},{key:"Xk",get:function(){return this.Yo},set:function(t){var n=this.Xk;this.Yo=Wm(t),this.t6();var i=this.Xk;n!==i&&this.So(new dg(this)),i!==Hm.Nh&&this.i6(Cg.LOADING)}},{key:"e6",get:function(){return Wm(this._O.mode)},set:function(t){this._O.mode=t}},{key:"mO",get:function(){return this._O}},{key:"Ax",get:function(){return this.t5}},{key:"s6",get:function(){return this.Z5?Number(this.Z5.readyState)||Cg.NONE:Cg.LOADED}},{key:"iR",get:function(){return this.P5}},{key:"Km",get:function(){return this.Vp},set:function(t){this.Vp!==t&&(this.Vp=t,this.So(new VD(this)))}},{key:"bU",get:function(){return this.zU},set:function(t){if(this.zU!==t){this.zU=t;for(var n,i=Lt(this._5);!(n=i()).done;){n.value.L5()}}}},{key:"n6",get:function(){return this.r6},set:function(t){var n=this;this.r6=t,t&&(this.h6=!0,w(function(){n.h6=!1},50)),this.t6()}}]),n}(th);function WP(t){return null==t?void 0:t.THEOplayerTextTrackCue}F(),Et(),Dt(),F(),Et(),Ut();function zP(t,n){return xi(t.XF,n.XF)||function(t,n){return t.Ht===n.Ht?Bi(OD(t),OD(n)):oy(t.Ht,n.Ht)}(t.TO,n.TO)||function(t,n){return t===n?Ni.rh:t===Lg.zL?Ni.Ug:Ni.Fg}(t.type,n.type)}var XP=function(){function t(t,n){var i=this;this.oa=void 0,this.L6=void 0,this.Gl=[],this.y6=0,this.En=0,this.m6=[],this.D6=[],this.A6=[],this.b6=!1,this.S6=!1,this.T6=0,this.O6=function(){i.y6=0,i.V6(),i.N6()},this.H6=function(){i.V6(),i.N6()},this.W6=function(){i.b6=!0,i.H6()},this.q6=function(){i.S6=!0,i.T6=0,i.w6()},this.k6=function(){i.E6(),i.V6(),i.N6()},this.I6=function(t){var n=t.TO;ji(i.D6,n)||i.D6.push(n),i.U6(n),i.B6()},this.R6=function(t){var n=t.TO;Xi(i.m6,n),Xi(i.D6,n),i.U6(n),i.B6()},this.C6=function(t){var n=t.TO;i.U6(n),i.B6()},this.L6=n,this.oa=t,t.wn(eh._y,this.H6),t.wn(eh.uo,this.W6),t.wn(Ey.TM,this.H6),t.wn(eh.jw,this.H6),t.wn(eh.$w,this.q6),t.wn(eh.Zw,this.H6),this.B6()}var n=t.prototype;return n.hr=function(){Yi(this.m6);for(var t,n=Lt(this.Gl.slice());!(t=n()).done;){var i=t.value;this.it(i)}this.w6(),this.y6=0,this.En=0,Yi(this.A6),this.b6=!1,this.S6=!1,this.T6=0},n.tt=function(t){ji(this.Gl,t)||(this.Gl.push(t),t.wn(Dw.pa,this.k6),t.Xk!==Hm.Nh&&this.E6())},n.it=function(t){Xi(this.Gl,t)&&(t.mn(Dw.pa,this.k6),t.Xk!==Hm.Nh&&this.E6())},n.E6=function(){var t=this.A6,n=this.Gl.filter(function(t){return t.Xk!==Hm.Nh});this.A6=n;for(var i,r=Lt(t);!(i=r()).done;){var e=i.value;ji(n,e)||this.P6(e)}for(var s,u=Lt(n);!(s=u()).done;){var o=s.value;ji(t,o)||this.x6(o)}this.T6=0},n.x6=function(t){if(t.wn(Dw.hI,this.I6),t.wn(Dw.aI,this.R6),t.wn(Dw.cI,this.C6),t.L.V>0){for(var n,i=Lt(t.L.II);!(n=i()).done;){var r=n.value;this.D6.push(r)}this.B6()}},n.P6=function(t){if(t.mn(Dw.hI,this.I6),t.mn(Dw.aI,this.R6),t.mn(Dw.cI,this.C6),t.L.V>0){for(var n,i=Lt(t.L.II);!(n=i()).done;){var r=n.value;Xi(this.m6,r),Xi(this.D6,r)}this.B6()}},n.N6=function(){this.oa.kx||this.oa.hx?this.w6():this.B6()},n.B6=function(){this.b6&&0!==this.A6.length&&(this.T6-this.oa.MP>.25*this.oa.ux||this.y6||(this.y6=this.L6.M6(this.O6)))},n.w6=function(){this.y6&&(this.L6.F6(this.y6),this.y6=0)},n.U6=function(t){var n;if(0!==this.T6){var i,r=null!=(i=null==(n=t.Ht)?void 0:n.bU)?i:0,e=t.EO+r,s=t.PO+r,u=this.oa.MP,o=e<=u&&u<s;t.ro!==o?this.T6=0:this.En<e&&e<this.T6?this.T6=e:this.En<s&&s<this.T6&&(this.T6=s)}},n.V6=function(){if(this.b6&&0!==this.A6.length&&!this.oa.kx){var t=this.A6,n=this.En,i=this.oa.MP,r=i-n<-.1,e=this.S6||r;e&&i>n&&i-n<.1&&(e=!1),this.S6=!1;for(var s,u=[],o=1/0,h=Lt(t);!(s=h()).done;){var c=s.value,a=i-c.bU,f=c.D5(a,e)+c.bU;f<o&&(o=f);for(var v,d=Lt(c.q.II);!(v=d()).done;){var l=v.value;u.push(l)}}var w=this.m6.slice();if(e);else for(var g,_=Lt(t);!(g=_()).done;){var m=g.value;uy(m,n-m.bU-ve,i-m.bU,w)}for(var y=w.length-1;y>=0;y--)ji(u,w[y])&&qi(w,y);var p=[];if(!e)for(var k=w.length-1;k>=0;k--){var A=w[k],T=A.Ht.bU;A.EO+T>n&&A.PO+T<=i&&(p.push(A),qi(w,k))}for(var S,E=Lt(this.D6);!(S=E()).done;){var I=S.value;I.EO!==I.PO&&Xi(p,I)}Yi(this.D6);for(var R,C=[],D=[],P=Lt(p);!(R=P()).done;){var N=R.value;N.ro||C.push(new jD(N,N.EO)),C.push(new YD(N,b.max(N.EO,N.PO))),N.ro=!1}for(var B,x=Lt(w);!(B=x()).done;){var O=B.value;O.ro&&(C.push(new YD(O,b.max(O.EO,O.PO))),O.ro=!1)}for(var M,L=Lt(u);!(M=L()).done;){var U=M.value;U.ro||(C.push(new jD(U,U.EO)),U.ro=!0)}C.sort(zP);for(var F,V=Lt(C);!(F=V()).done;){var H=F.value,W=H.TO;W.So(H);var z=W.Ht;z&&(H.type===Lg.zL?z.So(new JD(W)):z.So(new $D(W)),ji(D,z)||D.push(z))}D.sort(oy);for(var X,q=Lt(D);!(X=q()).done;){var G=X.value;G.So(new iP(G))}this.En=i,this.m6=u,this.T6=o}},n.kn=function(){this.hr(),this.oa.mn(eh._y,this.H6),this.oa.mn(eh.uo,this.W6),this.oa.mn(Ey.TM,this.H6),this.oa.mn(eh.jw,this.H6),this.oa.mn(eh.$w,this.q6),this.oa.mn(eh.Zw,this.H6)},t}();F(),Et();var qP=function(){function t(){}var n=t.prototype;return n.M6=function(t){return rI(t)},n.F6=function(t){eI(t)},t}(),GP=new qP,jP=function(t){function n(n,i){return void 0===i&&(i=GP),t.call(this,n,i)||this}return Ct(n,t),n}(XP);F(),Et(),Bt(),Dt(),Ut(),F(),Et(),Bt(),Dt();var QP=function(t){function n(n,i,r){return t.call(this,n,1/0,i,!1,r)||this}return Ct(n,t),n.prototype.GO=function(t){return cP(this,t)},Nt(n,[{key:"Ca",get:function(){return this.hu||(this.hu=vP(this)),this.hu}}]),n}(Yg);F(),Et(),Dt(),F(),Et(),Dt();var YP=function(t){function n(n,i,r){return void 0===r&&(r=Dg.DEFAULT),t.call(this,Ym.VU,"",i||"","",!1,r,!1,n)||this}return Ct(n,t),n}(GD),KP=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Km=Dg.ID3,r}Ct(n,t);var i=n.prototype;return i.tV=function(n){aP(n,this._5),t.prototype.tV.call(this,n)},i.xa=function(){return qm(this)},n}(YP),JP=function(t){function n(n){var i;return(i=t.call(this,n.inBandMetadataTrackDispatchType,n.label)||this)._O=void 0,i.a6=0,i.o6=function(){i.Xk!==Hm.Nh&&(i.v6(),i.i6(Cg.LOADED))},i._O=n,i._O.addEventListener("cuechange",i.o6),i.Xk=i.e6,pr(function(){i.o6()}),i}Ct(n,t);var i=n.prototype;return i.T5=function(n){t.prototype.T5.call(this,n),this.e6=this.Xk},i.tV=function(n){t.prototype.tV.call(this,n),n.M5.track!==this._O&&this._O.addCue(n.M5)},i.WU=function(n){t.prototype.WU.call(this,n),n.M5.track===this._O&&this._O.removeCue(n.M5)},i.qU=function(t){this.a6>=t||(this.a6=t,cy(this,t))},i.i6=function(t){this.Ax=b.max(this.Ax,t)},i.v6=function(){var t=this._O.cues;if(t){for(var n=t.length,i=[],r=[],e=0;e<n;e++){var s,u=null!=(s=t[e])?s:t.item(e);if(UP(u)&&u.endTime>=this.a6){var o,h=null!=(o=null==u?void 0:u.THEOplayerTextTrackCue)?o:new ZP(u);i.push(h)}else r.push(u)}yi(i,PD);for(var c,a=MD(this.L.II.slice(),i),f=Lt(r);!(c=f()).done;){var v=c.value;this._O.removeCue(v)}for(var d,l=Lt(a.v5);!(d=l()).done;){var w=d.value;w.kn(),this.WU(w)}for(var g,_=Lt(a.f5);!(g=_()).done;){var m=g.value;this.tV(m)}}},i.kn=function(){this._O.removeEventListener("cuechange",this.o6),t.prototype.kn.call(this)},Nt(n,[{key:"o",get:function(){return this._O.id||""}},{key:"ZI",get:function(){return this._O.inBandMetadataTrackDispatchType||""}},{key:"bs",get:function(){return this._O.language||""}},{key:"e6",get:function(){return Wm(this._O.mode)},set:function(t){this._O.mode=t}},{key:"mO",get:function(){return this._O}}]),n}(KP),ZP=function(t){function n(n){var i,r=n.startTime,e=VP(n.value);return(i=t.call(this,r,e,n.id)||this).M5=void 0,i.M5=n,i.M5.THEOplayerTextTrackCue=i,i}return Ct(n,t),n.prototype.kn=function(){t.prototype.kn.call(this),this.M5.THEOplayerTextTrackCue=void 0},n}(QP);F(),Et(),Wt(),Bt(),Dt(),H(),at(),Ut(),Qt(),F(),Et(),jt(),F(),Et();var $P=[eh.Pw,eh.Ew,eh.py,eh.yy,eh.LICENSE_REQUEST_GENERATED];F(),Et(),Bt(),Dt();var tN=function(t){function n(n){var i;return(i=t.call(this,eh.Ew)||this).errorObject=void 0,i.errorObject=n,i}return Ct(n,t),Nt(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(rh);F(),Et(),Wt(),Bt(),Dt(),Ut(),Qt(),F(),Et(),Wt(),Bt(),Dt(),H(),Qt(),F(),Et(),Dt();var nN=function(t){function n(n){var i;return(i=t.call(this,eh.Pw)||this).z6=void 0,i.z6=n,i}return Ct(n,t),n}(rh);F(),Et(),Dt();var iN=function(t){function n(n){var i;return(i=t.call(this,"wy")||this).z6=void 0,i.z6=n,i}return Ct(n,t),n}(rh),rN=new yd,eN=function(t){function n(n){var i;return(i=t.call(this,"Xs")||this).session=void 0,i.session=n,i}return Ct(n,t),n}(rh),sN=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).J6=void 0,e.K6=void 0,e.Y6=void 0,e.j6=void 0,e.s8=void 0,e.nT=void 0,e.Z6=void 0,e.X6=void 0,e.yS=void 0,e.i8=void 0,e.e8=void 0,e.J6=n,e.K6=i,e.Y6=r,e.j6=!1,e.s8=!1,e.nT=new hr,e.X6=!1,e.yS=function(t){if(!e.nT.Yg.Hg)switch(t.Iy){case"license-request":case"license-renewal":e.eH(t.Py,t.Ry).catch(function(t){return e.Ts(t)});break;default:e.Ts(new eg(cd.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.Iy))}},e.i8=function(t){e.J6.Ty.zy(function(t,n){switch(t){case"usable":Vn.Og(function(){e.s8=!0,e.So(new nN(n))},100);break;case"expired":case"status-pending":default:break;case"output-restricted":case"internal-error":e.So(new iN(n))}}),e.X6=!0,e.So(t)},e.e8=function(t){e.Ts(new eg(cd.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},n.wn("Py",e.yS),n.wn(eh.yy,e.i8),n.wn("lt",e.e8),n.oS.then(function(){return e.t8()},function(t){return e.Ts(t)}),e}Ct(n,t);var i=n.prototype;return i.vS=function(){var t=this;return this.j6=!0,rN.Zo(function(n){return t.Q6(n)},this.nT.Yg)},i.Q6=function(t){return Vt(function(){var n,i,r,e;return zt(this,function(s){switch(s.label){case 0:return s.trys.push([0,4,,5]),dr(t),[4,this.K6.KV(t)];case 1:return s.sent(),[4,this.K6.YV(this.Y6.Jm,this.Y6.Ey,t)];case 2:return n=s.sent(),[4,this.J6.vS(this.Y6.Jm,this.Y6.Ey,n)];case 3:return s.sent(),[3,5];case 4:throw lr(i=s.sent()),r=V(i,Xc)?i.Yy:void 0,e=new eg(cd.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",i,void 0,void 0,void 0,void 0,r),this.Ts(e),e;case 5:return[2]}})}).call(this)},i.eH=function(t,n){return Vt(function(){var i,r,e,s,u,o;return zt(this,function(h){switch(h.label){case 0:return h.trys.push([0,5,,6]),function(t){return Cc(t,Hc())}(t)?[4,this.K6.dH(new E(t),this.nT.Yg)]:[3,2];case 1:return i=h.sent(),[3,4];case 2:return[4,this.K6.lH(new E(t),n,this.nT.Yg)];case 3:i=h.sent(),h.label=4;case 4:return[3,6];case 5:if(vr(r=h.sent()))return[2];throw r;case 6:if(this.nT.Yg.Hg)return[2];e=this.Z6,s=new Vc,this.Z6=s,h.label=7;case 7:return h.trys.push([7,10,11,14]),[4,this.J6.er(i)];case 8:return h.sent(),[4,Ar(100)];case 9:return h.sent(),[3,14];case 10:throw u=h.sent(),o=V(u,Xc)?u.Yy:void 0,new eg(cd.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",u,void 0,void 0,void 0,void 0,o);case 11:return void 0===e?[3,13]:[4,e.Qy];case 12:h.sent(),h.label=13;case 13:return s.Xy(),this.Z6===s&&(this.Z6=void 0),[7];case 14:return[2]}})}).call(this)},i.Ts=function(t){var n=V(t,eg)?t:new eg(cd.CONTENT_PROTECTION_ERROR,t.message,t);this.So(new tN(n)),this.Xs()},i.t8=function(){this.J6.mn("Py",this.yS),this.J6.mn(eh.yy,this.i8),this.J6.mn("lt",this.e8),this.s8=!1,this.X6=!1,this.nT.Zg(),this.So(new eN(this))},i.Xs=function(){return Vt(function(){var t;return zt(this,function(n){switch(n.label){case 0:this.Vo(),n.label=1;case 1:return void 0===(t=this.Z6)?[3,3]:[4,t.Qy];case 2:n.sent(),n.label=3;case 3:if(this.Z6!==t)return[3,1];n.label=4;case 4:return this.t8(),[4,this.J6.Xs().catch(di)];case 5:return n.sent(),[2]}})}).call(this)},Nt(n,[{key:"G6",get:function(){return this.X6}}]),n}(th),uN=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).mS=void 0,e.TS=void 0,e.h8=void 0,e.r8=[],e.a8=void 0,e.d8=[],e.g8=void 0,e.l8=function(t){if(t.type===eh.yy)return null!=e.g8||(e.g8=new Fc),t.Ty.zy(function(t,n){e.g8.qy(n,t)}),void(e.n8&&e.So(new oh(e.g8)));e.Rs(t)},e.f8=function(t){t.session.mn($P,e.Rs),t.session.mn("Xs",e.f8),Xi(e.r8,t.session),e.g8=void 0},e.mS=n,e.TS=i,e.h8=r,e}Ct(n,t);var i=n.prototype;return i.QV=function(){return this.h8.QV()},i.o8=function(t){return this.a8||(this.a8=this.u8(t)),this.a8},i.u8=function(t){return Vt(function(){var n;return zt(this,function(i){switch(i.label){case 0:return dr(t),[4,this.h8.dH(new E(Hc()),t)];case 1:if(n=i.sent(),dr(t),!this.TS)throw new y("Invalid MediaKeys when setting ServerCertificate");return[4,this.TS.ES(n.buffer)];case 2:return i.sent(),[2]}})}).call(this)},i.c8=function(t){return Vt(function(){var n,i;return zt(this,function(r){switch(r.label){case 0:if(!this.TS)throw new y("Invalid MediaKeys when creating KeySession");r.label=1;case 1:return r.trys.push([1,,3,4]),this.d8.push(t),[4,this.TS.SS("temporary")];case 2:return n=r.sent(),i=new sN(n,this.h8,t),this.r8.push(i),i.wn($P,this.l8),i.wn("Xs",this.f8),[2,i];case 3:return Xi(this.d8,t),[7];case 4:return[2]}})}).call(this)},i.v8=function(t){if(t._8)return!1;for(var n,i=Lt(this.r8);!(n=i()).done;){if(oN(n.value.Y6,t))return!0}for(var r,e=Lt(this.d8);!(r=e()).done;){if(oN(r.value,t))return!0}return!1},i.kn=function(){return Vt(function(){var t;return zt(this,function(n){switch(n.label){case 0:return this.TS=void 0,this.Vo(),t=this.r8.slice(),Yi(this.r8),[4,ut.all(t.map(function(t){return t.Xs()}))];case 1:return n.sent(),this.g8=void 0,this.h8.zg(),[2]}})}).call(this)},Nt(n,[{key:"kS",get:function(){return this.mS}},{key:"n8",get:function(){return this.r8.every(function(t){return t.G6})}}]),n}(th);function oN(t,n){if(t._8)return!1;if(t.Jm!==n.Jm)return!1;if(Cc(t.Ey,n.Ey))return!0;if("sinf"===t.Jm&&"sinf"===n.Jm){var i=hN(t),r=hN(t);if(i&&r)return Cc(i,r)}return!1}function hN(t){try{var n=fc(_c(new E(t.Ey)),new Tc),i=JSON.parse(n).sinf[0],r=new E(Oc(i)),e=new am(_c(r),new Tc);return ym.rN(e).mN.yN.SN}catch(t){return}}var cN=function(t){function n(n){var i;return(i=t.call(this)||this).TL=void 0,i.nT=new hr,i.ta=new yd,i.YS=void 0,i.h8=void 0,i.iq=void 0,i.mS=void 0,i.D8=function(t){i.b8(t.Jm,t.Ey,i.nT.Yg).catch(function(t){return i.Ts(t)})},i.TL=n,i.TL.wn(fh.Dw,i.D8),i}Ct(n,t);var i=n.prototype;return i.Un=function(t,n){this.iq=t,this.EZ(n)},i.EZ=function(t){this.YS=t,this.m8(this.nT.Yg).catch(wr)},i.xZ=function(t){this.w8(t,this.nT.Yg).catch(wr)},i.w8=function(t,n){return Vt(function(){var i,r,e,s,u,o,h,c;return zt(this,function(a){switch(a.label){case 0:if(r=function(){var r,e,s;return zt(this,function(u){switch(u.label){case 0:if(r=h.value,void 0===(null==(s=Ui(t,function(t){return t.y8===r.kS.$m}))?void 0:s.A8))return[2,"continue"];if(null==(e=r.BW)?void 0:e.some(function(t){return Cc(s.A8,t)}))return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,i.b8(r.kS.Jm,s.A8,n)];case 2:return u.sent(),[2,{v:void 0}];case 3:return lr(u.sent()),[3,4];case 4:return[2]}})},dr(n),!(null==(e=this.YS)?void 0:e.aq))return[2];o=Lt(null!=(u=null==(s=this.YS)?void 0:s.aq)?u:[]),a.label=1;case 1:return(h=o()).done?[3,4]:(i=this,[5,Xt(r())]);case 2:if("object"===W(c=a.sent()))return[2,c.v];a.label=3;case 3:return[3,1];case 4:return[2]}})}).call(this)},i.m8=function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return Vn.Zs.gp?[4,this.S8(t)]:[3,2];case 1:if(n.sent())return[2];n.label=2;case 2:return this.YS&&this.YS.T8?[4,this.k8(t)]:[3,4];case 3:return[2,n.sent()];case 4:return[2]}})}).call(this)},i.S8=function(t){return Vt(function(){var n,i,r,e,s,u,o,h,c,a,f,v,d;return zt(this,function(l){switch(l.label){case 0:if(!(null==(n=this.YS)?void 0:n.aq))return[2,!1];r=!1,s=Lt(null!=(e=null==(i=this.YS)?void 0:i.aq)?e:[]),l.label=1;case 1:if((u=s()).done)return[3,14];if(!(o=u.value).MW||0===o.MW.length)return[3,6];l.label=2;case 2:return l.trys.push([2,4,,5]),h={kids:o.MW.map(function(t){return t.id})},c=dc(JSON.stringify(h)).buffer,[4,this.b8(co,c,t)];case 3:return l.sent(),r=!0,[3,5];case 4:return lr(l.sent()),[3,5];case 5:if(r)return[2,!0];l.label=6;case 6:f=Lt(null!=(a=o.BW)?a:[]),l.label=7;case 7:if((v=f()).done)return[3,12];d=v.value,l.label=8;case 8:return l.trys.push([8,10,,11]),[4,this.b8(o.kS.Jm,d,t)];case 9:return l.sent(),r=!0,[3,11];case 10:return lr(l.sent()),[3,11];case 11:return[3,7];case 12:if(r)return[2,!0];l.label=13;case 13:return[3,1];case 14:return[2,!1]}})}).call(this)},i.E8=function(t){return t===uo||t===ho||t===oo||t===co},i.b8=function(t,n,i){return Vt(function(){var r,e,s,u,o,h,c,a,f,v,d,l;return zt(this,function(w){switch(w.label){case 0:if(dr(i),!n.byteLength)return[2];if(!this.YS||!this.YS.aq.length)throw new eg(cd.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");if(!this.E8(t))return[2];r=Cp(t,n),e=this.YS.aq,u=[],o=Lt(e),w.label=1;case 1:if((h=o()).done)return[3,11];if(c=h.value,dr(i),!(a=r[c.kS.Zm])||c.kS.Jm!==t)return c.kS.Km===Eo.Xm&&u.push(!1),[3,10];w.label=2;case 2:return w.trys.push([2,9,,10]),[4,this.P8(c,i)];case 3:return(f=w.sent()).QV()?[4,f.o8()]:[3,5];case 4:w.sent(),w.label=5;case 5:return v=this.TL.KP,d={Jm:c.kS.Jm,Ey:a,_8:v},u.push(!0),this.x8(f,d)?[4,f.c8(d)]:[3,8];case 6:return[4,w.sent().vS()];case 7:w.sent(),this.So(new hh(a)),w.label=8;case 8:return[2];case 9:return lr(l=w.sent()),s=l,[3,10];case 10:return[3,1];case 11:return 0===u.length||u.some(li)?[4,Vn._m()]:[2];case 12:throw w.sent()?new eg(cd.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",s):new eg(cd.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",s)}})}).call(this)},i.k8=function(t){return Vt(function(){var n,i,r,e,s,u;return zt(this,function(o){switch(o.label){case 0:if(!(i=null==(n=this.YS)?void 0:n.aq))return[2];r=Lt(i),o.label=1;case 1:if((e=r()).done)return[3,8];s=e.value,dr(t),o.label=2;case 2:return o.trys.push([2,6,,7]),[4,this.P8(s,t)];case 3:return(u=o.sent()).QV()?[4,u.o8()]:[3,5];case 4:o.sent(),o.label=5;case 5:return[2];case 6:return lr(o.sent()),[3,7];case 7:return[3,1];case 8:return[2]}})}).call(this)},i.x8=function(t,n){return Vn.Zs._p||this.TL.CL.RL||!t.v8(n)},i.P8=function(t,n){var i=this;return this.ta.Zo(function(n){return i.I8(t,n)},n)},i.I8=function(t,n){return Vt(function(){var i,r,e,s,u;return zt(this,function(o){switch(o.label){case 0:if(dr(n),!this.YS||!this.h8||!this.iq)throw new y("Not initialized");if(this.mS){if(this.mS.kS!==t.kS)throw new y("Internal key system error");return[2,this.mS]}return i=this.h8,r=Yu({},t,{Mq:t.Mq.map(function(n){var r;return Yu({},n,{persistentState:null!=(r=n.persistentState)?r:i._H(t.kS),MS:n.MS||i.MS(t.kS)})})}),[4,this.iq.bZ(r.kS,r.Mq)];case 1:return e=o.sent(),s=i.DW(r),(u=new uN(r.kS,e,s)).wn($P,this.Rs),this.mS=u,[2,u]}})}).call(this)},i.Ts=function(t){if(!vr(t)){var n=V(t,eg)?t:new eg(cd.CONTENT_PROTECTION_ERROR,t.message,t);this.So(new tN(n))}},i.hr=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.iq=void 0,this.YS=void 0,this.nT.Zg(),this.nT=new hr,[4,this.C8()];case 1:return t.sent(),[2]}})}).call(this)},i.C8=function(){return Vt(function(){var t;return zt(this,function(n){switch(n.label){case 0:return[4,this.ta.Zg()];case 1:return n.sent(),(t=this.mS)?(t.mn(eh.py,this.Rs),this.mS=void 0,[4,t.kn()]):[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})}).call(this)},i.zg=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.Vo(),this.TL.mn(fh.Dw,this.D8),[4,this.hr()];case 1:return t.sent(),[4,this.ta.kn()];case 2:return t.sent(),[2]}})}).call(this)},Nt(n,[{key:"p8",get:function(){var t;return null==(t=this.mS)?void 0:t.kS}},{key:"Eq",get:function(){return this.h8},set:function(t){this.h8=t}}]),n}(th);F(),Et(),Dt();var aN=function(t){function n(n){var i;return(i=t.call(this,eh.Vw)||this).currentTime=void 0,i.currentTime=n,i}return Ct(n,t),n}(rh);F(),Et(),Bt(),Dt();var fN=function(t){function n(n){var i;return(i=t.call(this)||this).M8=void 0,i.B8=void 0,i.M8=n,i}Ct(n,t);var i=n.prototype;return i.e5=function(){var t;null==(t=this.B8)||t.e5()},i.hr=function(){var t;null==(t=this.B8)||t.hr()},i.zg=function(){this.Vo(),void 0!==this.B8&&(this.B8.zg(),this.B8=void 0)},i.N8=function(t){if(this.B8!==t){var n=this.Ax;void 0!==this.B8&&this.B8.zg(),this.B8=t,void 0!==t&&(t.wn(Ey.wI,this.Rs),t.e5());var i=this.Ax;n!==i&&this.So(new Ry(this.M8.MP,i))}},Nt(n,[{key:"Ax",get:function(){return void 0!==this.B8?this.B8.Ax:Cy.VL}}]),n}(th);F(),Et(),Bt(),Dt();var vN=function(t){function n(n,i,r){return t.call(this,n,i,"",r,void 0,Dg.WEBVTT)||this}Ct(n,t);var i=n.prototype;return i.L8=function(t,n,i){var r=new Jg(t,n,i,!1);return this.tV(r),r},i.O8=function(t){this.WU(t)},Nt(n,[{key:"Ca",get:function(){var t;return null!=(t=this.hu)?t:this.hu=dN(this)}}]),n}(GD);function dN(t){return xw(qm(t),{get type(){return t.Km},addCue:function(n,i,r){return t.L8(n,i,r).Ca},removeCue:function(n){t.O8(n.kO)}})}F(),Et(),Bt(),Dt(),Ut();var lN=function(t){function n(n,i,r){var e,s;return(e=t.call(this,n,i,r)||this).uE=!1,e.F8=[],e.U8=function(){var t;null==(t=e.Z5)||t.removeEventListener("load",e.U8),e.uE=!0;for(var n,i=Lt(e.F8);!(n=i()).done;){var r=n.value;e.tV(r)}Yi(e.F8)},null==(s=e.Z5)||s.addEventListener("load",e.U8),e.Km=Dg.WEBVTT,e}Ct(n,t);var i=n.prototype;return i.L8=function(t,n,i){var r=this.d6(new f.VTTCue(t,n,i));return this.uE?this.tV(r):this.F8.push(r),r},i.O8=function(t){Xi(this.F8,t),this.WU(t)},i.kn=function(){var n;t.prototype.kn.call(this),null==(n=this.Z5)||n.removeEventListener("load",this.U8),Yi(this.F8)},Nt(n,[{key:"Ca",get:function(){var t;return null!=(t=this.hu)?t:this.hu=dN(this)}}]),n}(HP);function wN(t,n){return void 0!==t.Q3===n.L4.some(function(t){return Fv(t.qT)})&&void 0!==t.K3===n.L4.some(function(t){return Vv(t.qT)})}F(),Et(),Wt(),Qt();var gN=On.N_||On.L_,_N=On.Cg,mN=On.X_,yN=On.X_&&On.ru,pN=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this)||this)._T=void 0,u.sc=void 0,u.VJ=void 0,u.JW=void 0,u.yz=!0,u.iq=void 0,u.X7=new yd,u.W8=void 0,u.Q8=void 0,u.d7=void 0,u.PZ=void 0,u.ha=new ZT,u.ea=new tS,u.Gl=void 0,u.Dz=void 0,u.O7=[],u.L7=void 0,u.B7=void 0,u.N7=void 0,u.q8=void 0,u.b7=0,u.A7=NaN,u.H8=void 0,u.D7=!1,u.i9=void 0,u.G7=0,u.Sz=!1,u.J4=!1,u.M9=Cy.VL,u.K8=0,u.w7=ut.resolve(),u.m7=new hr,u._7=[],u.Ho=TA.iL(),u.J8=void 0,u.t7=1,u.s7=!1,u.e7=1,u.G8=!1,u.e9=!1,u.s9=!1,u.T7=!1,u.hw=void 0,u.X8=!1,u.j8=!1,u.V8=!1,u.C9=!1,u.r9=0,u.E4=void 0,u.n7=!1,u.F7=function(t){var n=t.track,i=u.q7(n);if(!bN(u.L7,n)){if(On.X_){if(n.kind===Ym.VU)return void u.H7(n);if(n.kind===Ym.FU&&""===n.label&&""===n.language&&!AN(n))return void u.W7(n,i)}u.L7.tt(new HP(n.id,n,i))}},u.U7=function(t){var n=bN(u.L7,t.track);n&&u.L7.it(n)},u.V7=function(){for(var t=0;t<u.L7.V;t++){var n=u.L7.CI(t);V(n,HP)&&n.u6()}},u.Q7=function(){if(void 0!==u.iq&&MR(u.iq)&&!u.hx){var t=u.iq,n=t.Q3,i=t.K3;if(n&&i)if(t.WZ)u.J7();else if(t.Ax!==dD._3){var r=n.IP,e=i.IP;if(0!==r.V||0!==e.V){var s=u.MP;if(s<r.Tn(0)||s<e.Tn(0))u.J7();else if(r.Cr(s)!==e.Cr(s)){if(t.XZ(s))return;u.Y7()}else{if(u.J7(),!u.r9&&u.d7.u5())r.FM(e).qM(s,s+.5)&&(u.r9=rI(u.L9))}}else u.J7()}}},u.L9=function(){u.r9=0,u.Q7()},u.K7=function(){if(!u.kx&&!u.Y4&&!(u.Q8.Ax>=Cy.WL)&&void 0!==u.iq&&MR(u.iq)){var t=u.iq,n=t.Q3,i=t.K3;if(n&&i){var r=u.MP,e=n.IP,s=i.IP;if(e.Cr(r)&&s.Cr(r))e.FM(s).qM(r-5,r)&&(u.V8?u.J7():u.Z7())}}},u.u9=function(){u.So(new cT(u.MP))},u.c9=function(){u.p7(new fr),u.So(new hT(u.MP))},u.a9=function(){u.l7(),u.So(new Oy(u.MP))},u._9=function(){u.Z8()},u.p9=function(){u.So(new aT(u.ct))},u.l9=function(){u.So(new qR(u.MP))},u.f9=function(){u.So(new GR)},u.A9=function(){u.Sz||u.J4||u.D7?u.D7=!1:u.So(new lT(u.MP))},u.b9=function(){u.I7(u.MP),u.D7=!1},u.d9=function(){var t=u.MP,n=u.kx,i=u.Q8.Ax<Cy.WL&&!u.UP,r=void 0!==u.i9,e=r&&u.i9!==t;u.z7(),(n||!r||e&&!i)&&u.C7()},u.v9=function(){u.sJ()},u.w9=function(){if(null!==u._T.error){var t,n=u._T.error;u.qq(new ug(null!=(t=n.code)?t:sg.DECODE,n.message||"Error decoding media",void 0,n.msExtendedCode))}},u.y9=function(){u.e9&&(u.o9(),u.s9=!0)},u.O9=function(t){if(Vn.Lg(u.K8),u.K8=0,t.readyState<=Cy.HL)if(u.Sz||u.J4){var n=Vn.Mg()-u.b7;if(n<250)return void(u.K8=Vn.Og(function(){return u.O9(t)},250-n))}else if(void 0!==u.iq&&u.iq.XZ(u.MP))return void(u.K8=Vn.Og(function(){return u.O9(t)},250));u.M9!==t.readyState&&(u.M9=t.readyState,u.So(t))},u.g9=function(){u.Y8()},u.m9=function(){u.Bx>0&&u.Rx>0&&u.So(new Ty)},u.S9=function(t){u.So(new vh(t.initDataType,t.initData||new ArrayBuffer(0)))},u.T9=function(){u.So(new dh)},u.P9=function(t){var n=t.initData,i=n?bc(n).buffer:new ArrayBuffer(0);u.So(new vh(uo,i))},u.k9=function(t){if(t.initData){var n=function(t){try{var n=_c(t),i=new Tc;return oc(hc(Uh(n,i,qh(n,i,!0)),!0))}catch(t){return}}(t.initData);if(!n)return;u.So(new vh(ho,n))}else u.So(new vh(ho,new ArrayBuffer(0)))},u.E9=function(t){var n=t.initData,i=n?bc(n).buffer:new ArrayBuffer(0);u.So(new vh(uo,i))},u.a7=function(){u.l7()},u.u7=function(t){u.p7(t)},u.F9=function(t){u.So(t),t.type===eh.Ew&&u.qq(hg(t.errorObject))},u._T=n,u.hw=i,u.sc=r,u.Dz=e,u.VJ=s,u.Q8=new fN(u),u.Q8.wn(Ey.wI,u.O9),u.Q8.N8(new AD(u)),u.d7=new RD(u),u.d7.wn(Ey.TM,u.a9),u.PZ=new cN(u),u.PZ.wn($P,u.F9),u.Gl=new Qm,u.L7=new Qm,u.B7=new Eb([u.Gl,u.L7]),u.N7=new jP(u),u.n9(),u.Lq(),u}Ct(n,t);var i=n.prototype;return i.z8=function(){return void 0!==this.q8&&this.ct===this.q8},i.Z8=function(){var t=this.ux;this.t7!==t&&(this.t7=t,this.So(new fT(this.MP,t)))},i.Y8=function(){var t=this.Mx,n=this.$P;this.e7===t&&this.s7===n||(this.e7=t,this.s7=n,this.So(new wT(this.MP,this.Mx)))},i.ZP=function(){return wR(this._T)},i.Gx=function(){this.n7||(this.n7=!0);var t=this.r7();return this.h7(),t},i.h7=function(){this.X8?this.j8&&(this.j8=!1,this.So(new cT(this.MP))):this.o7()},i.o7=function(){if(this.W8)this.W8.Gx();else{On.X_&&!On.ru&&this._T.preload===jT.lz&&(this._T.preload=jT.VU);var t=this.ux,n=this._T.play();t!==this.$W.playbackRate&&(this.ux=t),this.G8=!1,jn(n)?n.then(this.a7,this.u7):this.d7.u5()&&this.l7()}},i.zx=function(){this.X8?this.j8||(this.j8=!0,this.So(new hT(this.MP))):this.f7()},i.f7=function(){this.W8?this.W8.zx():(this._T.pause(),this.d7.er()),this.v7(new fr)},i.r7=function(){var t=new Vc;return this._7.push(t),t.Qy},i.g7=function(){for(var t,n=Lt(this._7);!(t=n()).done;){t.value.Xy(void 0)}Yi(this._7)},i.v7=function(t){for(var n,i=Lt(this._7);!(n=i()).done;){n.value.jy(t)}Yi(this._7)},i.l7=function(){this.X8||this.W8||this.g7()},i.p7=function(t){this.X8||this.W8||this.v7(t)},i.My=function(t,n,i){void 0===n&&(n=!1),void 0===i&&(i=!1),this.W8?this.W8.My(t,n,i):(this.m7.Zg(),this.m7=new hr,this.w7=_r(this.y7(t,n,i,this.w7,this.m7.Yg),this.m7).catch(di))},i.KW=function(t){var n=this.nq;if(n&&!S(n.getTime())){var i=(t.getTime()-n.getTime())/1e3;this.My(i)}},i.y7=function(t,n,i,r,e){return Vt(function(){var s,u,o,h,c,a,f,v,d,l,w,g,_,m,y,p,k;return zt(this,function(A){switch(A.label){case 0:return A.trys.push([0,24,,25]),this.q8=t,this.A7=t,this.b7=Vn.Mg(),i&&!this.Sz?this.J4=!0:(this.Sz=!0,this.J4=!1),this.G8&&!this.z8()&&(this.G8=!1),this.J4?(this.So(new gD(this.MP)),(On.w_||On.S_)&&(t+=.05)):this.So(new dT(t)),[4,r.catch(di)];case 1:return A.sent(),dr(e),this.iq&&!this.iq.jZ()?(this.S7(),[2]):(this.T7&&this.k7(),this.Q8.Ax!==Cy.VL?[3,3]:[4,this.Q8.ww(Ey.wI,e)]);case 2:A.sent(),A.label=3;case 3:if(0!==this._T.seekable.length&&(!yN||this.n7))return[3,9];s={stack:[],error:void 0,hasError:!1},A.label=4;case 4:return A.trys.push([4,6,7,8]),u=qt(s,hr.ep([e]),!1),[4,ut.race([iw(this._T,"timeupdate",u.Yg),Ar(100,u.Yg)])];case 5:return A.sent(),dr(e),[3,8];case 6:return o=A.sent(),s.error=o,s.hasError=!0,[3,8];case 7:return Gt(s),[7];case 8:return[3,3];case 9:h=uD(this.IP,t,.05),c=this.Sx,a=!0,f=!1,A.label=10;case 10:0,v={stack:[],error:void 0,hasError:!1},A.label=11;case 11:return A.trys.push([11,20,21,22]),(c=this.Sx).V>0&&!c.Cr(h)&&(h=c.DM(h),a=!0),!n||!Vn.Zs.Dp&&this._T.fastSeek||(l=this.IP).Cr(h)||(w=uD(l,h,1))!==h&&(h=w,a=!0),mN&&void 0!==(g=this.E7())&&h>g&&(h=g,a=!0),f?[3,14]:void 0!==(_=this.P7())&&h>_?(f=!0,[4,this.x7(_,!1,e)]):[3,14];case 12:return A.sent(),[4,iw(this._T,"seeked",e)];case 13:A.sent(),dr(e),a=!0,A.label=14;case 14:return a?(a=!1,[4,this.x7(h,n,e)]):[3,18];case 15:A.sent(),dr(e),m=this.MP,c=this.Sx,h=c.DM(h),y=1,A.label=16;case 16:return b.abs(h-m)>=ve?(c=this.Sx,h=function(t,n,i){void 0===i&&(i=0);if(!n.V)return 0;var r=n.DM(t),e=kN*i;r===n.Tn(0)?r+=e:r===n.An(n.V-1)&&(r-=e);return r}(h,c,y),[4,this.x7(h,n,e)]):[3,18];case 17:return A.sent(),dr(e),m=this.MP,y++,[3,16];case 18:return this._T.seeking||this.Q8.Ax<Cy.HL?(p=qt(v,hr.ep([e]),!1),[4,ut.race([iw(this._T,"seeked",p.Yg),this.ww([eh.Qw,eh.Rw],p.Yg),this.Q8.ww(Ey.wI,p.Yg),null==(d=this.iq)?void 0:d.ww(HR.gZ,p.Yg)].filter(Un))]):[3,23];case 19:return A.sent(),dr(e),[3,22];case 20:return k=A.sent(),v.error=k,v.hasError=!0,[3,22];case 21:return Gt(v),[7];case 22:return[3,10];case 23:return this.S7(),[3,25];case 24:return vr(A.sent())?[2]:[3,25];case 25:return[2]}})}).call(this)},i.x7=function(t,n,i){return Vt(function(){var r,e,s,u,o,h;return zt(this,function(c){switch(c.label){case 0:if(dr(i),r=this.Sx,t=r.DM(t),!this.T7)return[3,8];e=!0,c.label=1;case 1:if(!(e||this.Q8.Ax<Cy.WL))return[3,7];s={stack:[],error:void 0,hasError:!1},c.label=2;case 2:return c.trys.push([2,4,5,6]),(r=this.Sx).Cr(t)||(t=r.DM(t),e=!0),e?(e=!1,this.q8=t,this.I7(this.MP),[3,1]):(u=qt(s,hr.ep([i]),!1),[4,ut.race([this.ww(eh.Rw,u.Yg),this.Q8.ww(Ey.wI,u.Yg)])]);case 3:return c.sent(),[3,6];case 4:return o=c.sent(),s.error=o,s.hasError=!0,[3,6];case 5:return Gt(s),[7];case 6:return[3,1];case 7:dr(i),c.label=8;case 8:return h=iw(this._T,"seeking",i),n&&!Vn.Zs.Dp&&this._T.fastSeek?this._T.fastSeek(t):this._T.currentTime=t,this.q8=void 0,this.I7(this.MP),this._T.seeking?[4,h]:[3,10];case 9:c.sent(),c.label=10;case 10:return[2]}})}).call(this)},i.E7=function(){if(this.iq&&this.iq.WZ){var t=this.iq.qZ,n=this.iq.zZ,i=t&&n?t.Mn(n):t||n;if(i&&0!==i.V){var r=i.Tn(i.V-1),e=i.An(i.V-1);return b.max(r,e-.001)}}},i.P7=function(){if(this.iq&&this.iq.WZ){var t=this.iq.zZ;if(t&&0!==t.V){var n=t.Tn(t.V-1),i=t.An(t.V-1)-.02;return i-=.001,b.max(n,i)}}},i.I7=function(t){this.A7!==t&&(this.A7=t,this.J4?this.So(new gD(t)):this.So(new dT(t)))},i.S7=function(){var t=this.J4;this.Sz=!1,this.J4=!1,this.b7=0,this.A7=NaN,this.T7&&this.R7(),t?(this.So(new aN(this.MP)),this.C7()):(this.So(new lT(this.MP)),this.D7=!0),this.sJ()},i.k7=function(){this.X8||(this.j8=this.hx,this.X8=!0,this.f7())},i.R7=function(){this.X8&&(this.X8=!1,this.j8||this.h7())},i.QZ=function(t){for(var n,i=Lt(t);!(n=i()).done;){var r=n.value;if(r.Km===Sy.mV&&XR.QZ(r,this._T))return r;if(r.Km===Sy.wV&&lD.QZ(r))return r}},i.we=function(){this.yz=!1,Sr(this._T)&&(this._T.style.display="none")},i.be=function(){this.yz=!0,Sr(this._T)&&(this._T.style.display="block")},i.tI=function(t,n,i,r,e,s,u,o,h){var c=new GD(t,n,i,r,e,s,u,h,o);return this.Gl.tt(c),this.N7.tt(c),c},i.wq=function(t){var n=t.Lt,i=t.Th,r=t.bs;if("function"==typeof this._T.addTextTrack&&"function"==typeof f.VTTCue){var e=this.M7("data:text/vtt,WEBVTT%0A%0A",n,i,r),s=e.track,u=new lN(s.label,s,e);return this.L7.tt(u),this.O7.push(u),u}var o=new vN(n,i,r);return this.Gl.tt(o),this.N7.tt(o),o},i.vq=function(){return!0},i.gq=function(t,n,i,r,e){var s=this.M7(t,n,i,r,e),u=s.track,o=new HP(u.label,u,s);return this.L7.tt(o),this.O7.push(o),o},i.M7=function(t,n,i,r,e){var s=v.createElement("track");return s.src=Sl(t),s.kind=n,s.label=null!=i?i:"",r&&(s.srclang=r),s.default=Boolean(e),this._T.appendChild(s),s},i.iV=function(t){this.Gl.it(t),this.N7.it(t)},i.Aq=function(){for(var t,n=Lt(this.Gl.II.slice());!(t=n()).done;){t.value.kn()}this.Gl.hr();for(var i,r=Lt(this.O7.slice());!(i=r()).done;){var e=i.value;this.L7.it(e),e.kn()}Yi(this.O7)},i.Lq=function(){var t=this._T.textTracks;t&&t.addEventListener&&(t.addEventListener("addtrack",this.F7),t.addEventListener("removetrack",this.U7),t.addEventListener("change",this.V7))},i.Tq=function(){var t=this._T.textTracks;t&&t.removeEventListener&&(t.removeEventListener("addtrack",this.F7),t.removeEventListener("removetrack",this.U7),t.removeEventListener("change",this.V7))},i.H7=function(t){t.mode=Hm.JI;var n=new JP(t);this.L7.tt(n),this.N7.tt(n)},i.W7=function(t,n){var i=this,r=function(){AN(t)&&(t.removeEventListener("cuechange",r),i.L7.tt(new HP(t.id,t,n)))};t.addEventListener("cuechange",r),t.mode=Hm.JI},i.q7=function(t){for(var n=this._T.getElementsByTagName("track"),i=0;i<n.length;i++){var r=n[i]||n.item(i);if(r.track===t)return r}},i.z7=function(){if(0!==this.L7.V){var t=this.Sx;if(0!==t.V){var n=t.Tn(0);if(this.G7!==n){for(var i,r=Lt(this.L7.II);!(i=r()).done;){i.value.qU(n)}this.G7=n}}}},i.Un=function(t){var n=this;return this.X7.Zo(function(i){return Vt(function(){var n,r;return zt(this,function(e){switch(e.label){case 0:if(dr(i),this.iq)throw new y("Already loaded a media source");if(t.Km===Sy.mV)n=new XR(t,this,this.PZ,this.hw,this.VJ),this.T7=!1,this.Q8.N8(this.j7());else{if(t.Km!==Sy.wV)throw new y("Unsupported configuration");this.T7=gN,r=this.j7(),n=new lD(t,this,r,this.PZ,this.hw,void 0,this.E4,this.VJ),this.Q8.N8(r),_N&&(this.wn(eh._y,this.Q7),this.Q8.wn(Ey.wI,this.K7))}return this.iq=n,[4,n.VY()];case 1:return e.sent(),[2,n]}})}).call(n)})},i.j7=function(){return this.T7?new SD(this):new AD(this)},i.Y7=function(){if(!this.V8){var t=this.ux;this.V8=!0,this.ux=t,this._T.playbackRate=0,this.Q8&&this.Q8.e5()}},i.J7=function(){if(this.V8){var t=this.ux;this.V8=!1,this.ux=t,this.Z7()}},i.Z7=function(){this._T.currentTime=this._T.currentTime,this.Q8&&this.Q8.e5()},i.t9=function(){this.Sz=!1,this.J4=!1,this.D7=!1,Vn.Lg(this.K8),this.K8=0,this.Ho=TA.iL(),this.m7.Zg(),this.q8=void 0,this.A7=NaN,this.H8=void 0,this.T7=!1,this.X8=!1,this.JW=void 0,this.G8=!1,this.i9=void 0,this.G7=0,this.e9=!1,this.n7=!1,this.s9&&(this.n9(),this.s9=!1),this.v7(new fr),this.Q8.N8(new AD(this)),this.d7.hr(),this.L7.hr(),this.J7(),_N&&(eI(this.r9),this.r9=0,this.mn(eh._y,this.Q7))},i.hr=function(){return Vt(function(){var t;return zt(this,function(n){switch(n.label){case 0:return t=this,this.t9(),[4,this.X7.Zg()];case 1:return n.sent(),[4,this.X7.Zo(function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.iq?[4,this.iq.zg()]:[3,2];case 1:t.sent(),this.iq=void 0,On.w_&&On.A_<3&&this.h9(),t.label=2;case 2:return[2]}})}).call(t)})];case 2:return n.sent(),[2]}})}).call(this)},i.C8=function(){return Vt(function(){var t;return zt(this,function(n){switch(n.label){case 0:if(void 0===(t=this.iq)||!MR(t)||void 0!==this.JW)throw new p("Invalid state");return this.t9(),this._T.pause(),this._T.currentTime=0,[4,this.X7.Zo(function(){return function(t){return Vt(function(){var n;return zt(this,function(i){switch(i.label){case 0:return t.A3(),n=[t.Q3,t.K3].filter(Un),[4,ut.all(n.map(function(t){return t.r3(0,1/0)}))];case 1:return i.sent(),t.C4(NaN),[2]}})})()}(t)})];case 1:return n.sent(),[2]}})}).call(this)},i.h9=function(){this.o9();var t=this._T,n=t.parentElement,i=t.tagName.toLowerCase();this._T=Dr(i),this.retainMediaElementState(t),Pr(t),null==n||n.replaceChild(this._T,t),this.n9(),this.Q8.N8(this.j7()),this.d7.mn(Ey.TM,this.a9),this.d7.zg(),this.d7=new RD(this),this.d7.wn(Ey.TM,this.a9),this.yz?this.be():this.we(),this.So(new RT),this.So(new CT)},i.retainMediaElementState=function(t){this.$W.muted=t.muted,this.$W.volume=t.volume},i.zg=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.s9=!1,this.o9(),this.Tq(),[4,this.hr()];case 1:return t.sent(),[4,this.X7.kn()];case 2:return t.sent(),this.d7.zg(),this.Q8.zg(),[4,this.PZ.zg()];case 3:return t.sent(),this.Aq(),this.Gl.kn(),this.L7.kn(),this.B7.kn(),this.Vo(),[2]}})}).call(this)},i.n9=function(){this.$W.addEventListener("play",this.u9),this.$W.addEventListener("pause",this.c9),this.$W.addEventListener("timeupdate",this.d9),this.$W.addEventListener("progress",this.l9),this.$W.addEventListener("loadstart",this.f9),this.$W.addEventListener("ended",this.v9),this.$W.addEventListener("ratechange",this._9),this.$W.addEventListener("volumechange",this.g9),this.$W.addEventListener("durationchange",this.p9),this.$W.addEventListener("resize",this.m9),this.$W.addEventListener("loadedmetadata",this.m9),this.$W.addEventListener("error",this.w9),this.$W.addEventListener("emptied",this.y9),this.$W.addEventListener("seeked",this.A9),this.$W.addEventListener("seeking",this.b9),Ko()?(this._T.addEventListener("encrypted",this.S9),this._T.addEventListener("waitingforkey",this.T9)):void 0!==f.WebKitMediaKeys&&"function"==typeof f.WebKitMediaKeys.isTypeSupported?this._T.addEventListener("webkitneedkey",this.k9):Jo()?this._T.addEventListener("webkitneedkey",this.E9):void 0!==f.MSMediaKeys&&"function"==typeof f.MSMediaKeys.isTypeSupported&&this._T.addEventListener("msneedkey",this.P9)},i.o9=function(){this.$W.removeEventListener("play",this.u9),this.$W.removeEventListener("pause",this.c9),this.$W.removeEventListener("timeupdate",this.d9),this.$W.removeEventListener("progress",this.l9),this.$W.removeEventListener("loadstart",this.f9),this.$W.removeEventListener("ended",this.v9),this.$W.removeEventListener("ratechange",this._9),this.$W.removeEventListener("volumechange",this.g9),this.$W.removeEventListener("durationchange",this.p9),this.$W.removeEventListener("resize",this.m9),this.$W.removeEventListener("loadedmetadata",this.m9),this.$W.removeEventListener("error",this.w9),this.$W.removeEventListener("encrypted",this.S9),this.$W.removeEventListener("waitingforkey",this.T9),this.$W.removeEventListener("webkitneedkey",this.k9),this.$W.removeEventListener("webkitneedkey",this.E9),this.$W.removeEventListener("msneedkey",this.P9),this.$W.removeEventListener("emptied",this.y9),this.$W.removeEventListener("seeked",this.A9),this.$W.removeEventListener("seeking",this.b9)},i.x9=function(){this.W8||(this.Ho=this._x,this.W8=yD(this),this.o9(),this.W8.wn(_D,this.Rs))},i.I9=function(){if(this.W8){var t=this.W8;this.W8=void 0,this.Q8.e5(),pD(this,t),t.zg(),this.n9()}},i.C7=function(){var t=this.MP;this.So(new pw(t,void 0)),this.i9=t},i.sJ=function(){this.G8||!this.UP||this.kx||(this.G8=!0,this.So(new vT(this.MP)))},i.qq=function(t){this.JW=t,this.v7(this.JW),this.So(new CD(this.JW))},i.D9=function(){this.C9||(Br(this._T,Vn.Zs),this.C9=!0)},i.B9=function(t){t.appendChild(this._T)},i.P3=function(){_N&&this.Q7(),this.Q8.e5()},i.Yx=function(){this.PZ.C8().catch(di),this.L7.hr()},Nt(n,[{key:"n5",get:function(){return this.V8}},{key:"IP",get:function(){return this.iq?this.iq.IP:TA.iL()}},{key:"CP",get:function(){var t=this.nq;if(t&&!S(t.getTime())){var n=1e3*this.MP;return new Date(t.getTime()+n)}}},{key:"nq",get:function(){if(this.$W.getStartDate)return this.Sz&&this.H8||(this.H8=this.$W.getStartDate()),this.H8}},{key:"MP",get:function(){return this.W8?this.W8.MP:void 0!==this.q8?this.q8:this._T.currentTime}},{key:"Wu",get:function(){return this.sc}},{key:"ct",get:function(){return this.W8?this.W8.ct:this.iq?this.iq.ct:this._T.duration}},{key:"UP",get:function(){return this.kx?this.z8():this.W8?this.W8.UP:this._T.ended||this.G8}},{key:"lt",get:function(){return this.JW}},{key:"$W",get:function(){return this._T}},{key:"hx",get:function(){return this.X8?this.j8:this.W8?this.W8.hx:this._T.paused}},{key:"_x",get:function(){return this.Ho.OM(TA.jn(this._T.played))}},{key:"Mi",get:function(){return this._T.offsetHeight*Vn.Zs.fp}},{key:"Ti",get:function(){return this._T.offsetWidth*Vn.Zs.fp}},{key:"Ma",get:function(){return this.ha}},{key:"mq",get:function(){return this.ea}},{key:"Ax",get:function(){return this.Q8.Ax}},{key:"Sx",get:function(){return this.iq?this.iq.Sx:TA.iL()}},{key:"kx",get:function(){return this.W8?this.W8.kx:this.Sz||this._T.seeking&&!this.J4}},{key:"Y4",get:function(){return this.W8?this.W8.Y4:this.J4}},{key:"a5",get:function(){return 0!==this.K8}},{key:"$P",get:function(){return this.W8?this.W8.$P:this._T.muted},set:function(t){this.W8?this.W8.$P=t:(this._T.muted=t,this.Y8())}},{key:"ux",get:function(){return this.W8?this.W8.ux:void 0!==this.J8?this.J8:this._T.playbackRate},set:function(t){this.W8?this.W8.ux=t:this.hx||this.V8?(this.J8=t,this.Z8()):(this.J8=void 0,this._T.playbackRate=t,this.Z8())}},{key:"i7",get:function(){return this.yz}},{key:"Mx",get:function(){return this.W8?this.W8.Mx:this._T.volume},set:function(t){this.W8?this.W8.Mx=t:(this._T.volume=t,this.Y8())}},{key:"nt",get:function(){return this.B7}},{key:"Ql",get:function(){return this.Dz}},{key:"KP",get:function(){return Boolean(this._T.webkitCurrentPlaybackTargetIsWireless)}},{key:"R9",get:function(){return this.C9}},{key:"CL",get:function(){return Yu({},xR)}},{key:"Eq",get:function(){return this.PZ.Eq},set:function(t){this.PZ.Eq=t}},{key:"N9",get:function(){return this.E4},set:function(t){this.E4=t}},{key:"p8",get:function(){return this.PZ.p8}},{key:"Vx",get:function(){return this.e9},set:function(t){this.e9=t,this.s9&&!this.e9&&(this.s9=!1,this.n9())}}]),n}(th);var kN=.01;function bN(t,n){for(var i,r=Lt(t.II);!(i=r()).done;){var e=i.value;if(e.mO===n)return e}}function AN(t){return!!t.cues&&t.cues.length>0}F(),Et(),Bt(),Dt();var TN={ZJ:void 0,$J:void 0,tZ:void 0,iZ:void 0,eZ:void 0,sZ:void 0,nZ:void 0,rZ:void 0,hZ:void 0,oZ:void 0},SN=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).hu=void 0,n}return Ct(n,t),Nt(n,[{key:"Ca",get:function(){return this.hu||(this.hu=RR(this)),this.hu}},{key:"ZJ",get:function(){}},{key:"$J",get:function(){}},{key:"tZ",get:function(){}},{key:"iZ",get:function(){}},{key:"eZ",get:function(){}},{key:"sZ",get:function(){}},{key:"U9",get:function(){}},{key:"nZ",get:function(){}},{key:"rZ",get:function(){}},{key:"hZ",get:function(){}},{key:"oZ",get:function(){}}]),n}(th),EN=function(t){function n(n,i,r,e){return t.call(this,n,i,r,new SN,e)||this}return Ct(n,t),n.prototype.Wx=function(){},Nt(n,[{key:"Rx",get:function(){return 0}},{key:"Bx",get:function(){return 0}}]),n}(pN);F(),Et(),Wt(),Bt(),Dt(),Ut(),Qt(),F(),Et(),Bt();var IN=function(){function t(t){void 0===t&&(t=5),this.V9=void 0;var n=f.document.createElement("div");n.className="theoplayer-texttracks",n.style.position="absolute",n.style.display="none",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.width="100%",n.style.height="100%",n.style.lineHeight="1.3em",n.style.zIndex=""+t,this.V9=n,this.be()}var n=t.prototype;return n.we=function(){this.V9.style.display="none"},n.be=function(){this.V9.style.display="block"},n.B9=function(t){t.appendChild(this.V9)},n.kn=function(){$n(this.V9)},Nt(t,[{key:"xe",get:function(){return this.V9}}]),t}();function RN(t,n){return Yu({},n,Uw(function(t){return{ZJ:t.ZJ,$J:t.$J,tZ:t.tZ,iZ:t.iZ,eZ:t.eZ,sZ:t.sZ,nZ:t.nZ,rZ:t.rZ,hZ:t.hZ,oZ:t.oZ}}(t)))}function CN(t){return t.tZ&&Fo(t.tZ,"%")?Number(t.tZ.replace("%",""))/100:t.tZ&&Fo(t.tZ,"em")?Number(t.tZ.replace("em","")):1}F(),Et(),Bt(),H(),Ut(),F(),Et(),Dt(),Ut(),F(),Et(),Bt(),Ut(),F(),Et(),F(),Et(),Bt();var DN=function(){function t(t,n,i,r){this.W9=void 0,this.z9=void 0,this.Ti=void 0,this.Mi=void 0,this.W9=t,this.z9=n,this.Ti=i,this.Mi=r}var n=t.prototype;return n.G9=function(t){return this.W9<t.H9&&this.H9>t.W9&&this.z9<t.q9&&this.q9>t.z9},n.fO=function(t){return this.W9<=t.W9&&t.H9<=this.H9&&this.z9<=t.z9&&t.q9<=this.q9},n.Ly=function(){return new t(this.W9,this.z9,this.Ti,this.Mi)},n.X9=function(n){return new t(this.W9+n,this.z9+n,b.max(0,this.Ti-2*n),b.max(0,this.Mi-2*n))},n.j9=function(n){var i=b.min(this.W9,n.W9),r=b.max(this.H9,n.H9),e=b.min(this.z9,n.z9);return new t(i,e,r-i,b.max(this.q9,n.q9)-e)},Nt(t,[{key:"H9",get:function(){return this.W9+this.Ti},set:function(t){this.W9=t-this.Ti}},{key:"q9",get:function(){return this.z9+this.Mi},set:function(t){this.z9=t-this.Mi}}]),t}(),PN=function(){function t(t,n,i,r,e){var s=this;this.ctt=Zu(),this.Ett=!0,this.Z9=void 0,this.itt=Yu({},TN),this.xtt=[],this.FO=void 0,this._T=void 0,this.sc=void 0,this.htt=void 0,this.dtt=function(t){return s.tV(t.TO)},this.ltt=function(t){return s.WU(t.TO)},this.ftt=function(){return s.Stt()},this.ptt=function(t){return s.Att(t.TO)},this.mtt=function(t){return s.btt(t.TO)},this.wtt=function(t){return s.Ptt(t.TO)},this.stt=function(t){return s.oe(t.width,t.height)},this.FO=t,this.htt=this.Z9=e,this._T=this.Btt(i),this.sc=r,n.appendChild(this._T)}var n=t.prototype;return n.Q9=function(t){var n=this.K9(t);if(!n)return!1;for(var i,r=Lt(n);!(i=r()).done;){$n(i.value)}return this.Y9(t),!0},n.VY=function(){var t=this;this.ett(),this.FO.L.II.forEach(function(n){return t.tV(n)}),this.Wu.wn(hI.yn,this.stt),this.oe(this.Wu.Eu,this.Wu.Iu)},n.ntt=function(t){this.itt=t,this.Z9=RN(this.itt,this.htt),this.Z9.ZJ&&(this.$W.style.fontFamily=this.Z9.ZJ),this.oe(this.Wu.Eu,this.Wu.Iu),this.ott(!0)},n.att=function(){return this.Z9},n.utt=function(t){return this.ctt.has(t.jI)},n.ett=function(){this.FO.wn(Dw.hI,this.dtt),this.FO.wn(Dw.aI,this.ltt),this.FO.wn(Dw.pa,this.ftt)},n._tt=function(){this.FO.mn(Dw.hI,this.dtt),this.FO.mn(Dw.aI,this.ltt),this.FO.mn(Dw.pa,this.ftt)},n.gtt=function(t){t.wn(Lg.zL,this.ptt),t.wn(Lg.GL,this.mtt),t.wn(Lg.SI,this.wtt)},n.ytt=function(t){t.mn(Lg.zL,this.ptt),t.mn(Lg.GL,this.mtt),t.mn(Lg.SI,this.wtt)},n.tV=function(t){this.gtt(t),t.ro&&this.Att(t)},n.WU=function(t){this.ytt(t),this.btt(t)},n.Stt=function(){this.FO.Xk===Hm.Kn?this.Ttt():this.ktt()},n.Ttt=function(){if(this.Ett){this.Ett=!1;var t=this.Wu.Eu,n=this.Wu.Iu;this.oe(t,n),this.ott(!1)}},n.ktt=function(){this.Ett||(this.Ett=!0,this.ott(!0))},n.Att=function(t){this.Ett||t.ro&&!this.utt(t)&&this.ott(!1)},n.btt=function(t){this.utt(t)&&this.ott(!0)},n.Ptt=function(t){(t.ro||this.utt(t))&&this.ott(!0)},n.ott=function(t){var n=this.xtt,i=this.Ett?[]:this.FO.q.II.slice();this.Itt(i,n,t),this.xtt=i},n.K9=function(t){return this.ctt.get(t.jI)},n.Rtt=function(t,n){this.ctt.set(t.jI,n)},n.Y9=function(t){this.ctt.delete(t.jI)},n.Ctt=function(t){var n=[],i=this.Z9;if(void 0!==i.nZ){var r=t.Ly();r.Mi=i.nZ,n.push(r)}if(void 0!==i.rZ){var e=t.Ly();e.Mi=i.rZ,e.q9=t.q9,n.push(e)}return n},n.Dtt=function(){return this.xtt.slice()},n.kn=function(){var t=this;$n(this.$W),this.ctt.clear(),this._tt(),this.FO.L.II.forEach(function(n){return t.ytt(n)}),this.Wu.mn(hI.yn,this.stt)},Nt(t,[{key:"Ht",get:function(){return this.FO}},{key:"$W",get:function(){return this._T}},{key:"Wu",get:function(){return this.sc}},{key:"J9",get:function(){return this.Z9}},{key:"ttt",get:function(){return this.itt}}]),t}();function NN(t,n,i,r,e){var s=t.Ly(),u=s,o=1,h=!1,c=T(getComputedStyle(n).lineHeight)/4;if(!S(c)&&c>0){for(var a=0;a<i.length&&!h;a++){for(;!LN(t,r,i[a],.01)&&(!r.fO(t)||BN(t,e));)MN(t,i[a],c);if(r.fO(t)){u=t.Ly(),h=!0;break}var f=UN(t,r);o>f&&(u=t.Ly(),o=f),t=s.Ly()}r.fO(t)||(u=s.Ly())}n.style.left=(u.W9-r.W9)/r.Ti*100+"%",n.style.top=(u.z9-r.z9)/r.Mi*100+"%"}function BN(t,n){return n.some(function(n){return t.G9(n)})}function xN(t){return new DN(t.left,t.top,t.width,t.height)}var ON=function(t){return t[t.POS_X=0]="POS_X",t[t.NEG_X=1]="NEG_X",t[t.POS_Y=2]="POS_Y",t[t.NEG_Y=3]="NEG_Y",t}({});function MN(t,n,i){switch(n){case 0:t.W9+=i;break;case 1:t.W9-=i;break;case 2:t.z9+=i;break;case 3:t.z9-=i}}function LN(t,n,i,r){switch(i){case 0:return t.H9>n.H9+r;case 1:return t.W9<n.W9-r;case 2:return t.q9>n.q9+r;case 3:return t.z9<n.z9-r}}function UN(t,n){return b.max(0,b.min(t.H9,n.H9)-b.max(t.W9,n.W9))*b.max(0,b.min(t.q9,n.q9)-b.max(t.z9,n.z9))/(t.Ti*t.Mi)}F(),Et();var FN=function(t){return t.il='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.sl='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.nl='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.rl='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif',t}({}),VN=function(t){return t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent",t}({});function HN(t){return zN[t||"none"]}var WN,zN={none:"",dropshadow:"#222 2px 2px 3px, #222 2px 2px 4px, #222 2px 2px 5px",raised:"#222 1px 1px, #222 2px 2px, #222 3px 3px",depressed:"#ccc 1px 1px, #ccc 0px 1px, #222 -1px -1px, #222 0px -1px",uniform:"#222 -1px -1px 0, #222 1px -1px 0, #222 -1px 1px 0, #222 1px 1px 0"},XN="monospace, sans-serif",qN="Arial, Helvetica, sans-serif",GN='"Times New Roman", Times, serif',jN=$u({monospace:"monospace",sansSerif:qN,serif:GN,monospaceSansSerif:XN,monospaceSerif:"monospace, serif",proportionalSansSerif:qN,proportionalSerif:GN,default:XN}),QN="1.3em",YN=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,TN)||this}Ct(n,t);var i=n.prototype;return i.Btt=function(t){var n=v.createElement("div");n.className="theoplayer-ttml-texttrack-"+t;var i=n.style;return i.position="absolute",oi(i,"flex"),i.flexDirection=i.webkitFlexDirection="column",i.overflow="hidden",i.pointerEvents="none",i.top="0",i.left="0",i.width="100%",i.height="100%",i.fontSize="16px",i.lineHeight=QN,n},i.oe=function(t,n){var i=16*b.min(t/640,n/360)*CN(this.J9);this.$W.style.fontSize=i+"px"},i.Itt=function(t,n,i){for(var r,e,s=Lt(n);!(e=s()).done;){var u=e.value;!i&&u.ro||this.Q9(u)}var o=[],h=xN(this.$W.getBoundingClientRect());(r=o).push.apply(r,[].concat(this.Ctt(h)));for(var c,a=Lt(t);!(c=a()).done;)for(var f,v=c.value,d=Lt(this.Ott(v,o,h));!(f=d()).done;){var l=f.value;o.push(l.X9(.1))}},i.Ott=function(t,n,i){var r=this.K9(t);r||(r=this.Ftt(t),this.Rtt(t,r));for(var e,s=Lt(r);!(e=s()).done;){var u=e.value;this.$W.appendChild(u)}for(var o,h=[],c=[ON.POS_Y,ON.NEG_Y,ON.POS_X,ON.NEG_X],a=Lt(r);!(o=a()).done;){var f=o.value;NN(hB(f),f,c,i,n),h.push(hB(f))}return h},i.Ftt=function(t){var n=[],i=t.IU,r=t.SU,e=t.DU,s=t.U,u=t.PU,o=u?b.min(640/u.width,360/u.height):1,h=this.J9;if(0===k.keys(r).length){var c=v.createElement("div");uB(c),KN(s,i,e,c,c,o,h),JN(c,"body",h),c.firstChild&&n.push(c)}else for(var a,f=Lt(k.keys(r));!(a=f()).done;){var d=a.value,l=v.createElement("div");l.id=d,uB(l),tB(l,"region",r[d],i,o),KN(s,i,e,l,l,o,h),JN(l,"body",h),l.firstChild&&n.push(l)}return n},i.ntt=function(n){return NR(this.$W,n),t.prototype.ntt.call(this,n)},n}(PN);function KN(t,n,i,r,e,s,u){if(sw(t)&&function(t){var n=t.VE.toUpperCase();return"SPAN"===n||"P"===n||"BR"===n||"DIV"===n||"BODY"===n}(t)){var o=ZN(t);if(!o||(null==e?void 0:e.id)===o){var h;if("BODY"===t.VE.toUpperCase())h=e;else{if(h=function(t){var n;switch(t.VE.toUpperCase()){case"BR":n=v.createElement("br");break;case"SPAN":oB(n=v.createElement("span")),$N(n,t);break;case"P":(function(t){oB(t);var n=t.style;n.textAlign="inherit",n.padding="0",n.margin="0"})(n=v.createElement("p")),$N(n,t);break;case"DIV":$N(n=v.createElement("div"),t)}return n}(t),!h)return;r.appendChild(h)}!function(t,n,i,r,e){var s=n.sP("style");rB(t,n.VE,s,i,r,e),function(t,n,i,r){for(var e,s=Lt(n.iP);!(e=s()).done;){var u=e.value;eB(t,n.VE,u.VE,u.zE,i,r)}}(t,n,r,e)}(h,t,n,e,s),function(t,n,i){var r=null==n?void 0:n.sP("smpte:backgroundImage");if(r){r=r.replace("#","");var e=i&&nB(i,function(t){return t.iP.some(function(t){return"id"===t.VE&&t.zE===r})});e&&iB(t,e,n,!0)}!function(t,n){var i=n.m[0];if(!i||"metadata"!==i.VE.toLowerCase())return;var r=i.m[0];iB(t,r,n)}(t,n)}(h,t,i),JN(h,t.VE,u);for(var c,a=Lt(t.jE);!(c=a()).done;){KN(c.value,n,i,h,e,s,u)}}}else if(uw(t)){var f=v.createTextNode(t.ck);if("SPAN"!==r.nodeName.toUpperCase()){var d=v.createElement("span");oB(d),JN(d,"span",u),d.appendChild(f),r.appendChild(d)}else r.appendChild(f)}}function JN(t,n,i){var r=t.style;switch(i.ZJ&&(r.fontFamily=i.ZJ),i.$J&&(r.color=i.$J),n.toLowerCase()){case"span":i.iZ&&(r.background=i.iZ);break;case"p":case"div":i.eZ&&(r.backgroundColor=i.eZ);break;case"body":i.sZ&&(r.textShadow=HN(i.sZ))}}function ZN(t){var n=t.sP("region");if("p"===t.VE.toLowerCase())return n;for(var i,r,e=[],s=Lt(t.m);!(i=s()).done;){var u=i.value;e.push(ZN(u))}return ir(e),0===e.length?n:1===e.length?null!=(r=e[0])?r:n:void 0}function $N(t,n){var i=n.nP(Am,"id");i&&(t.id=i)}function tB(t,n,i,r,e){rB(t,n,i.style,r,t,e);for(var s,u=Lt(k.keys(i));!(s=u()).done;){var o=s.value;eB(t,n,o,i[o],t,e)}}function nB(t,n){if(n(t))return t;for(var i,r=Lt(t.m);!(i=r()).done;){var e=nB(i.value,n);if(e)return e}return null}function iB(t,n,i,r){void 0===r&&(r=!1),r&&(t.style.width=t.style.height="100%");var e=v.createElement("img");e.src=function(t){var n=t&&t.jE.length>0?t.jE[0]:null;return n&&uw(n)?"data:image/png;base64,"+n.ck:""}(n),e.id=t.id,e.style.height="100%",e.style.maxWidth="100%",function(t,n){var i=t.style;oi(i,"flex"),i.flexDirection=i.webkitFlexDirection="column";var r=n.sP("smpte:backgroundImageVertical"),e="center";if(r)switch(r.toLowerCase()){case"left":e="flex-start";break;case"center":e="center";break;case"right":e="flex-end";break;case"inherit":e="inherit"}i.justifyContent=i.webkitJustifyContent=e;var s=n.sP("smpte:backgroundImageHorizontal"),u="center";if(s)switch(s.toLowerCase()){case"left":u="flex-start";break;case"center":u="center";break;case"right":u="flex-end";break;case"inherit":u="inherit"}i.alignItems=i.webkitAlignItems=u}(t,i),t.appendChild(e)}function rB(t,n,i,r,e,s){if(i)for(var u,o=Lt(i.split(" "));!(u=o()).done;){var h=u.value;if(r[h])for(var c,a=Lt(k.keys(r[h]));!(c=a()).done;){var f=c.value;"style"===f.toLowerCase()?rB(t,n,r[h][f],r,e,s):eB(t,n,f,r[h][f],e,s)}}}function eB(t,n,i,r,e,s){var u=t.style;switch(i){case"backgroundColor":u.backgroundColor=r;break;case"color":u.color=r;break;case"direction":u.direction=r;break;case"display":"none"===r&&(u.display="none");break;case"fontFamily":var o;u.fontFamily=null!=(o=jN.get(r))?o:r;break;case"fontSize":var h=r;if(Fo(h,"px")){var c=Number(h.slice(0,-2));h=c*s/16+"em"}else Fo(h,"c")&&(h=h.replace("c","em"));u.fontSize=h,u.lineHeight&&"inherit"!==u.lineHeight||(u.lineHeight=QN);break;case"fontStyle":u.fontStyle=r;break;case"fontWeight":u.fontWeight=r;break;case"lineHeight":var a=r;if(Fo(a,"px")){var f=Number(a.slice(0,-2));a=f*s+"px"}u.lineHeight=a;break;case"opacity":u.opacity=r;break;case"overflow":u.overflow=r;break;case"padding":u.padding=r;break;case"textAlign":u.textAlign=r;break;case"textDecoration":switch(r){case"lineThrough":u.textDecoration="line-through";break;case"underline":case"overline":u.textDecoration=r;break;case"noUnderline":case"noLineThrough":case"noOverline":u.textDecoration="none"}break;case"unicodeBidi":switch(r){case"bidiOverride":u.unicodeBidi="bidi-override";break;case"normal":case"embed":case"isolate":u.unicodeBidi=r}break;case"visibility":u.visibility=r;break;case"zIndex":u.zIndex=r;break;case"displayAlign":var v;switch(r.toLowerCase()){case"before":v="flex-start";break;case"center":v="center";break;case"after":v="flex-end";break;case"justify":v="space-between";break;default:return}u.justifyContent=u.webkitJustifyContent=v;break;case"extent":var d,l,w=sB(n.toLowerCase())?e:t,g=r.split(" ",2);2===g.length?(d=g[0],l=g[1]):d=l="100%",w&&(w.style.height=l,w.style.width=d);break;case"origin":var _=sB(n.toLowerCase())?e:t,m=r.split(" ",2),y=m[0],p=m[1];_&&(y||p)&&(y&&(_.style.left=y),p&&(_.style.top=p));break;case"showBackground":case"textOutline":break;case"wrapOption":switch(r){case"wrap":u.whiteSpace="normal";break;case"noWrap":u.whiteSpace="nowrap"}break;case"writingMode":var k,b,A,T;switch(r){case"lrtb":case"lr":k="horizontal-tb";break;case"rltb":k="horizontal-tb",b="rtl",T="bidi-override";break;case"tbrl":case"tb":k="vertical-rl",A="upright";break;case"tblr":k="vertical-lr",A="upright";break;case"rl":k="horizontal-tb",b="rtl";break;default:return}u.writingMode=k,u.setProperty("-webkit-writing-mode",k),b&&(u.direction=b),A&&(u.textOrientation=A,u.setProperty("-webkit-text-orientation",A)),T&&(u.unicodeBidi=T);break;case"linePadding":if(Fo(r,"c")){var S=r.replace("c","em");u.paddingLeft=u.paddingRight=S}break;case"multiRowAlign":"auto"===r.toLowerCase()?u.textAlign="":u.textAlign=r}}function sB(t){return"div"===t||"p"===t||"span"===t}function uB(t){var n=t.style;oi(n,"flex"),n.flexDirection=n.webkitFlexDirection="column",n.top="auto",n.left="5%",n.width="90%",n.height="100%",n.maxHeight="100%",n.maxWidth="100%",n.overflow="visible",n.position="absolute",n.fontFamily=qN,n.color=VN.WHITE,n.background=VN.TRANSPARENT,n.textShadow=HN("uniform"),n.textAlign="start",n.writingMode="horizontal-tb",n.setProperty("-webkit-writing-mode","horizontal-tb"),n.padding="0",n.margin="0",n.fontSize="inherit",n.lineHeight="inherit"}function oB(t){var n=t.style;n.fontFamily="inherit",n.color="inherit",n.fontSize="inherit",n.lineHeight="inherit",n.textShadow="inherit"}function hB(t){var n=xN(t.getBoundingClientRect());if("visible"===getComputedStyle(t).overflow&&t.scrollHeight>t.clientHeight)for(var i=t.children,r=0;r<i.length;r++){var e=i[r];n=n.j9(xN(e.getBoundingClientRect()))}return n}function cB(t){return WN||(WN=f.document.createElement("textarea")),WN.innerHTML=t,WN.value}function aB(t,n){for(var i="Data",r="",e=[],s=t.charAt(n.ac),u="",o={Km:"starttag",JE:"",Utt:[]};n.ac<t.length+1;){switch(s=n.ac<t.length?t.charAt(n.ac):"EOF",i){case"Data":switch(s){case"&":var h=t.substring(n.ac).match(/&#?[0-9a-zA-Z]+;/);h?(r+=cB(h[0]),n.Ny(h[0].length-1)):r+="&";break;case"<":if(r)return{Km:"string",U:r};i="Tag";break;case"EOF":return{Km:"string",U:r};default:r+=s}break;case"Tag":switch(s){case"\t":case"\n":case"\f":case" ":i="StartTagAnnotation";break;case".":i="StartTagClass";break;case"/":i="EndTag";break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r=s,i="TimestampTag";break;case">":return n.Ny(1),o;case"EOF":return o;default:r=s,i="StartTag"}break;case"StartTag":switch(s){case"\t":case"\f":case" ":i="StartTagAnnotation";break;case"\n":u=s,i="StartTagAnnotation";break;case".":i="StartTagClass";break;case">":return n.Ny(1),{Km:"starttag",JE:r,Utt:[]};case"EOF":return{Km:"starttag",JE:r,Utt:[]};default:r+=s}break;case"StartTagClass":switch(s){case"\t":case"\f":case" ":e.push(u),u="",i="StartTagAnnotation";break;case"\n":e.push(u),u=s,i="StartTagAnnotation";break;case".":e.push(u),u="";break;case">":return n.Ny(1),e.push(u),{Km:"starttag",JE:r,Utt:e};case"EOF":return e.push(u),{Km:"starttag",JE:r,Utt:e};default:u+=s}break;case"StartTagAnnotation":switch(s){case"&":i="CharRefInAnnotation";break;case">":n.Ny(1);var c=u.trim();return{Km:"starttag",JE:r,Utt:e,Vtt:c=c.replace(/\s/," ")};default:u+=s}break;case"CharRefInAnnotation":for(var a="",f=n.ac;">"===t.charAt(f);f++)a+=t.charAt(f);u+=a||"&",i="StartTagAnnotation";break;case"EndTag":switch(s){case">":return n.Ny(1),{Km:"endtag",JE:r};case"EOF":return{Km:"endtag",JE:r};default:r+=s}break;case"TimestampTag":switch(s){case">":return n.Ny(1),{Km:"timestamp",Htt:r};case"EOF":return{Km:"timestamp",Htt:r};default:r+=s}}n.Ny(1)}return o}F(),Et(),Dt(),Ut(),F(),Et();var fB=function(t){return t.Wtt="string",t.qtt="starttag",t.ztt="endtag",t.Gtt="timestamp",t}({});function vB(t,n){void 0===t.textContent?t.innerText=n:t.textContent=n}F(),Et();var dB={$J:VN.WHITE,ZJ:"sans-serif",tZ:"100%",iZ:"rgba(0,0,0,0.8)",eZ:VN.TRANSPARENT,sZ:"none",nZ:void 0,rZ:void 0,hZ:void 0,oZ:void 0},lB="theoplayer-webvtt-region-",wB="theoplayer-webvtt-styling-",gB="theoplayer-webvtt-default-style",_B=5.23,mB=function(t){function n(n,i,r,e){var s;return(s=t.call(this,n,i,r,e,dB)||this).jtt=Ju(),s.Xtt=TB(3),function(t){var n,i=function(t){var n=null==t.getRootNode?void 0:t.getRootNode.call(t);if(n&&n.host)return n}(t),r=null!=(n=null!=i?i:t.ownerDocument)?n:v;if(r.getElementById(gB))return;for(var e,s=[],u=Lt(IB);!(e=u()).done;){var o=e.value,h=o[0],c=o[1];s.push("."+wB+h+" { color: "+c+" !important; }"),s.push("."+wB+"bg"+RB+h+" { background-color: "+c+" !important; }"),s.push("video::cue(."+h+") { color: "+c+"; }"),s.push("video::cue(.bg"+RB+h+") { background-color: "+c+"; }")}var a=v.createElement("style");a.id=gB,a.innerHTML=s.join("\n"),i?i.appendChild(a):r.body.appendChild(a)}(i),s}Ct(n,t);var i=n.prototype;return i.Btt=function(t){var n=v.createElement("div");n.className="theoplayer-webvtt-texttrack-"+t,ci(n),n.style.overflow="hidden",n.style.pointerEvents="none";var i=this.J9.ZJ;return i&&(n.style.fontFamily=i),n.style.whiteSpace="pre-line",n},i.VY=function(){this.$W.appendChild(this.Xtt),t.prototype.VY.call(this)},i.oe=function(t,n){var i=this,r=b.min(t/100,n/100),e=CN(this.J9);this.jtt.forEach(function(t){var n=t.DO,s=t.Qtt;i.Ktt(s,r,e,n)}),this.Ktt(this.Xtt,r,e)},i.ntt=function(n){NR(this.$W,n),t.prototype.ntt.call(this,n)},i.Itt=function(t,n,i){for(var r,e,s=this,u=this.$W,o=this.Wu.Iu/100,h=[],c=Lt(t);!(e=c()).done;){var a=e.value;void 0!==a.DO&&(ji(h,a.DO)||h.push(a.DO))}this.jtt.forEach(function(t,n){var r=t.DO,e=t.Qtt;!i&&ji(h,r)||($n(e),s.jtt.delete(n))});for(var f,v=Lt(n);!(f=v()).done;){var d=f.value;!i&&d.ro||this.Q9(d)}var l=[],w=xN(this.Xtt.getBoundingClientRect());(r=l).push.apply(r,[].concat(this.Ctt(w)));for(var g,_=Lt(h);!(g=_()).done;){var m=g.value,y=void 0;this.jtt.has(m.o)?y=this.jtt.get(m.o).Qtt:(y=SB(m,o),u.appendChild(y),this.jtt.set(m.o,{DO:m,Qtt:y})),l.push(xN(y.getBoundingClientRect()))}t.sort(CB);for(var p,k=Lt(t);!(p=k()).done;){var b=p.value,A=this.Ott(b,l,w);void 0!==A&&l.push(A.X9(.1))}},i.Ott=function(t,n,i){var r,e;t.DO?(e=this.jtt.get(t.DO.o).Qtt,"up"===t.DO.JO&&e.children.length>=1&&(e.style.transitionProperty="top",e.style.transitionDuration="0.433s")):e=this.Xtt;var s=null==(r=this.K9(t))?void 0:r[0];if(s||(s=this.Ytt(t),this.Rtt(t,[s])),e.appendChild(s),t.DO||(yB(s,t),t.BO?function(t,n,i,r){var e=EB(t),s=e?i.Mi:i.Ti,u=T(getComputedStyle(n).lineHeight);if(0===u||S(u))return;var o=xN(n.getBoundingClientRect()),h=b.round(Zg(t));"rl"===t.Pt&&(h=-(h+1));var c=u*h;"rl"===t.Pt&&(c=c-o.Ti+u);h<0&&(c+=s,u=-u);e?o.z9+=c:o.W9+=c;var a=o.Ly(),f=!1;for(;!i.fO(o)||BN(o,r);)if(e)if(u<0&&o.z9<i.z9||u>0&&o.q9>i.q9){if(o.z9=a.z9,f)break;u=-u,f=!0}else o.z9+=u;else if(u<0&&o.W9<i.W9||u>0&&o.H9>i.H9){if(o.W9=a.W9,f)break;u=-u,f=!0}else o.W9+=u;e?n.style.top=(o.z9-i.z9)/i.Mi*100+"%":n.style.left=(o.W9-i.W9)/i.Ti*100+"%"}(t,s,i,n):function(t,n,i,r){var e,s=xN(n.getBoundingClientRect());if(0===s.Ti||0===s.Mi)return;EB(t)?"center"===t.RO?s.z9-=s.Mi/2:"end"===t.RO&&(s.z9-=s.Mi):"center"===t.RO?s.W9-=s.Ti/2:"end"===t.RO&&(s.W9-=s.Ti);e=""===t.Pt?[ON.POS_Y,ON.NEG_Y,ON.POS_X,ON.NEG_X]:"lr"===t.Pt?[ON.POS_X,ON.NEG_X,ON.POS_Y,ON.NEG_Y]:[ON.NEG_X,ON.POS_X,ON.POS_Y,ON.NEG_Y];NN(s,n,e,i,r)}(t,s,i,n)),!t.DO)return xN(s.getBoundingClientRect())},i.Ytt=function(t){for(var n=new Tc,i=t.U,r=this.Jtt(t),e={Ztt:void 0,xe:r},s=e,u="",o="",h=[e],c=[],a=[];n.ac<i.length;){var f=aB(i,n);if(f.Km===fB.Wtt){var d=v.createElement("span");vB(d,f.U),pB(d,h),""!==u&&(d.lang=u),this.$tt(d,o),s.xe.appendChild(d)}else if(f.Km===fB.qtt){var l=f.JE.toLowerCase();switch(l){case"i":case"b":case"u":case"ruby":var w=v.createElement(l);s.xe.appendChild(w),s={Ztt:f,xe:w},h.push(s);break;case"rt":var g;if("ruby"===(null==(g=s.Ztt)?void 0:g.JE.toLowerCase())){var _=v.createElement("rt");s.xe.appendChild(_),s={Ztt:f,xe:_},h.push(s)}break;case"c":case"v":s={Ztt:f,xe:s.xe},h.push(s);break;case"font":var m,y=null==(m=f.Vtt)?void 0:m.match(/(?:^| )color=["']([^"']+)/i);y&&(o=y[1],a.push(o),s={Ztt:f,xe:s.xe},h.push(s));break;case"lang":var p;u=null!=(p=f.Vtt)?p:"",c.push(u)}}else if(f.Km===fB.ztt){var k,b=f.JE.toLowerCase(),A=null==(k=s.Ztt)?void 0:k.JE.toLowerCase();A===b?(h.pop(),s=h[h.length-1],"font"===b&&(a.pop(),o=a.length>0?a[a.length-1]:"")):"rt"===A&&"ruby"===b?(h.pop(),h.pop(),s=h[h.length-1]):"lang"===b&&(c.pop(),u=c.length>0?c[c.length-1]:"")}else if(f.Km===fB.Gtt){var T=f.Htt,S=new Tc;try{W_(T,S)}catch(t){ze("ERROR collecting timestamp",t)}}}return r},i.$tt=function(t,n){var i=this.J9,r=this.ttt;i.iZ&&(t.style.background=i.iZ);var e=r.$J||n||i.$J;e&&(t.style.color=e)},i.Ktt=function(t,n,i,r){if(r){var e=kB(r,n);t.style.height=e*i+"px",t.style.left=bB(r)+"%",t.style.top=AB(r,n)+"px"}t.style.fontSize=_B*n*i+"px"},i.Jtt=function(t){var n=v.createElement("div");n.style.position="absolute",n.style.margin="0",n.style.padding="0",n.style.unicodeBidi="plaintext",n.style.wordWrap="break-word",n.style.overflowWrap="break-word",n.style.width="auto",n.style.textAlign=t.xO,function(t,n){"rl"===n.Pt?t.style.writingMode="vertical-rl":"lr"===n.Pt?t.style.writingMode="vertical-lr":t.style.writingMode="horizontal-tb"}(n,t),function(t,n){var i=n_(n);EB(n)?(t.style.width=i+"%",t.style.height="auto"):(t.style.height=i+"%",t.style.width="auto")}(n,t),yB(n,t);var i=this.J9.eZ;i&&(n.style.background=i);var r=this.J9.$J;return r&&(n.style.color=r),n.style.textShadow=HN(this.J9.sZ),n},n}(PN);function yB(t,n){var i,r,e=t_(n),s=$g(n),u=n_(n);if(EB(n)){switch(e){case"line-left":i=s;break;case"center":i=s-u/2;break;case"line-right":i=s-u}r=n.BO?0:Zg(n)}else{switch(e){case"line-left":r=s;break;case"center":r=s-u/2;break;case"line-right":r=s-u}i=n.BO?0:Zg(n)}t.style.left=i+"%",t.style.top=r+"%"}function pB(t,n){for(var i,r=Lt(n);!(i=r()).done;){var e=i.value;if(e.Ztt){for(var s,u=Lt(e.Ztt.Utt);!(s=u()).done;){var o=s.value;si(t,wB+o)}"v"===e.Ztt.JE.toLowerCase()&&e.Ztt.Vtt&&si(t,"theoplayer-webvtt-voice-"+e.Ztt.Vtt)}}}function kB(t,n){return t.QO*(_B*n)*1.14}function bB(t){return t.ZO-t.KO*t.Ti/100}function AB(t,n){var i=t.$O,r=t.YO*kB(t,n)/100;return b.max(0,i-r)}function TB(t){var n=v.createElement("div");return n.className=lB+"default",ci(n),n.style.wordWrap="break-word",n.style.writingMode="horizontal-tb",n.style.pointerEvents="none",n.style.width="auto",n.style.height="auto",n.style.maxHeight="100%",n.style.minHeight="0px",n.style.padding="0",n.style.boxSizing="border-box",n.style.fontSize=_B*t+"px",n.style.lineHeight="1.14em",n}function SB(t,n){var i=TB(n);i.className=lB+t.o;var r=t.Ti,e=kB(t,n);return i.style.width=r+"%",i.style.height=e+"px",i.style.left=bB(t)+"%",i.style.right="",i.style.top=AB(t,n)+"px",i.style.bottom="",i.style.boxSizing="border-box",i}function EB(t){return""===t.Pt}var IB=[["white","#fff"],["lime","#0f0"],["cyan","#0ff"],["red","#f00"],["yellow","#ff0"],["magenta","#f0f"],["blue","#00f"],["black","#000"]],RB=String.fromCharCode(95);function CB(t,n){var i=Zg(t),r=Zg(n),e=DB(i,t.BO),s=DB(r,n.BO);return e&&s?i-r||PD(n,t)||n.jI-t.jI:PD(t,n)||t.jI-n.jI}function DB(t,n){return n?t<0?t>-8:t>8:t>50}F(),Et(),Bt(),Dt(),Ut(),F(),Et(),Bt(),F(),Et();var PB=function(t){return t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics",t}({}),NB={$J:VN.WHITE,ZJ:FN.nl,tZ:"100%",iZ:VN.BLACK,eZ:"transparent",sZ:"none",tit:"regular",nZ:void 0,rZ:void 0,hZ:void 0,oZ:void 0},BB=[{iit:VN.WHITE,tit:"regular",eit:0},{iit:VN.WHITE,tit:"underline",eit:0},{iit:VN.GREEN,tit:"regular",eit:0},{iit:VN.GREEN,tit:"underline",eit:0},{iit:VN.BLUE,tit:"regular",eit:0},{iit:VN.BLUE,tit:"underline",eit:0},{iit:VN.CYAN,tit:"regular",eit:0},{iit:VN.CYAN,tit:"underline",eit:0},{iit:VN.RED,tit:"regular",eit:0},{iit:VN.RED,tit:"underline",eit:0},{iit:VN.YELLOW,tit:"regular",eit:0},{iit:VN.YELLOW,tit:"underline",eit:0},{iit:VN.MAGENTA,tit:"regular",eit:0},{iit:VN.MAGENTA,tit:"underline",eit:0},{iit:VN.WHITE,tit:"italics",eit:0},{iit:VN.WHITE,tit:"underline-italics",eit:0},{iit:VN.WHITE,tit:"regular",eit:0},{iit:VN.WHITE,tit:"underline",eit:0},{iit:VN.WHITE,tit:"regular",eit:4},{iit:VN.WHITE,tit:"underline",eit:4},{iit:VN.WHITE,tit:"regular",eit:8},{iit:VN.WHITE,tit:"underline",eit:8},{iit:VN.WHITE,tit:"regular",eit:12},{iit:VN.WHITE,tit:"underline",eit:12},{iit:VN.WHITE,tit:"regular",eit:16},{iit:VN.WHITE,tit:"underline",eit:16},{iit:VN.WHITE,tit:"regular",eit:20},{iit:VN.WHITE,tit:"underline",eit:20},{iit:VN.WHITE,tit:"regular",eit:24},{iit:VN.WHITE,tit:"underline",eit:24},{iit:VN.WHITE,tit:"regular",eit:28},{iit:VN.WHITE,tit:"underline",eit:28}],xB=[11,-1,1,2,3,4,12,13,14,15,5,6,7,8,9,10];function OB(t,n){return __(t.sit,n.sit)||Bi(t.VN,n.VN)}F(),Et(),Ut();var MB=32,LB=/CC([1-4])=(.*)/;function UB(t){if(!t)return[];var n=[],i=t.trim().split(";");if(i.every(function(t){return t.match(LB)}))for(var r,e=Lt(i);!(r=e()).done;){var s=r.value.match(LB),u=s[1],o=s[2];n.push({nit:Number(u),rit:o})}else for(var h=0;h<i.length;h++)n.push({nit:h+1,rit:i[h]});return n}var FB=function(){function t(t,n,i){this.ait=void 0,this.yit=void 0,this.Z9=void 0,this._it=void 0,this.ait=t,this.yit=n,this.Z9=i}var n=t.prototype;return n.wr=function(){return this._it=this.git(),this.pit(),this.mit(),this._it},n.git=function(){var t=v.createElement("div");t.style.position="absolute",t.style.margin="0",t.style.padding="0",t.style.whiteSpace="pre",t.style.width=this.dit/MB*this.yit.wit*100+"%",t.style.height=1.2*this.fit+"em",t.style.lineHeight="1.2em",t.style.letterSpacing=this.yit.Ait?"calc(1em - 1ch)":"";var n=this.Z9.ZJ;n&&(t.style.fontFamily=n);var i=this.Z9.eZ;return i&&(t.style.backgroundColor=i),t},n.pit=function(){if(this._it){var t=this.hit.vit/15*100,n=this.hit.eit/MB*100,i=(MB-this.uit.eit-1)/MB*100,r=(15-this.uit.vit-1)/15*100;this.yit.Sit||(n=i=1,this._it.style.width="98%"),r<t?this._it.style.bottom=r*this.yit.wit+"%":this._it.style.top=t*this.yit.wit+"%",i<n?this._it.style.right=i+"%":this._it.style.left=n+"%"}},n.mit=function(){for(var t=this.ait.Tit.sort(VB),n=0;n<t.length;n++)this.kit(t[n-1],t[n]),this.Eit(t[n]);this.kit(t[t.length-1],void 0)},n.Eit=function(n){var i,r=RN(this.Z9,n.Pit),e=t.xit(r);vB(e,n.Iit),null==(i=this._it)||i.appendChild(e)},n.kit=function(t,n){var i=t?t.cit.vit:this.ait.oit.vit,r=n?n.oit.vit:this.ait.cit.vit,e=t?t.cit.eit:this.ait.oit.eit,s=n?n.oit.eit:this.ait.cit.eit;i<r&&(!n||t&&t.oit.vit!==n.oit.vit?this.Rit():this.Cit(this.ait.cit.eit-e),e=this.ait.oit.eit),e<s&&(n?this.Cit(s-e):this.Rit())},n.Rit=function(){var t,n=v.createElement("br");null==(t=this._it)||t.appendChild(n)},n.Cit=function(t){var n;if(!(t<=0)){var i=v.createElement("span");i.style.display="inline-block",vB(i,Ho(" ",t)),null==(n=this._it)||n.appendChild(i)}},t.xit=function(t){var n=v.createElement("span");n.style.display="inline-block",t.tit!==PB.FONT_ITALICS&&t.tit!==PB.FONT_UNDERLINE_ITALICS||(n.style.fontStyle="italic"),t.tit!==PB.FONT_UNDERLINE&&t.tit!==PB.FONT_UNDERLINE_ITALICS||(n.style.textDecoration="underline");var i=t.$J;i&&(n.style.color=i);var r=t.iZ;return r&&(n.style.backgroundColor=r),n.style.textShadow=HN(t.sZ),n.style.height="1.2em",n},Nt(t,[{key:"hit",get:function(){return this.ait.oit}},{key:"uit",get:function(){return this.ait.cit}},{key:"dit",get:function(){return this.ait.cit.eit-this.ait.oit.eit+1}},{key:"fit",get:function(){return this.ait.cit.vit-this.ait.oit.vit+1}}]),t}();function VB(t,n){return function(t,n){if(t.vit!==n.vit)return t.vit-n.vit;return t.eit-n.eit}(t.oit,n.oit)}var HB=function(t){function n(n,i,r,e){var s;return(s=t.call(this,n,i,r,e,NB)||this).Nit=void 0,s.Dit=void 0,s}Ct(n,t);var i=n.prototype;return i.Btt=function(t){var n=v.createElement("div");return n.className="theoplayer-cea608-texttrack-"+t,n.style.position="absolute",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="10%",n.style.bottom="10%",this.J9.ZJ&&(n.style.fontFamily=this.J9.ZJ),n},i.oe=function(t,n){this.Ml()},i.Ml=function(){var t=CN(this.J9);this.Dit=function(t){return{wit:t/100,Ait:t<=100,Sit:t<=150}}(100*t);var n=this.Bit/MB;this.Nit=n*t,this.$W.style.fontSize=this.Nit+"px"},i.Itt=function(t,n,i){for(var r,e=Lt(n);!(r=e()).done;){var s=r.value;!i&&s.ro||this.Q9(s)}for(var u,o=Lt(t);!(u=o()).done;){var h=u.value;this.Ott(h)}},i.Ott=function(t){this.Dit&&this.Dit.Sit?this.Mit(80):this.Mit(100),this.Ml();var n=this.K9(t);n||(n=this.Ftt(t),this.Rtt(t,n));for(var i,r=Lt(n);!(i=r()).done;){var e=i.value;this.$W.appendChild(e)}},i.Ftt=function(t){var n=this;return t.U.map(function(t){return new FB(t,n.Dit,n.J9).wr()})},i.Mit=function(t){var n=(100-t)/2;this.$W.style.left=n+"%",this.$W.style.width=t+"%"},Nt(n,[{key:"Bit",get:function(){var t=this.$W.offsetWidth;return this.Dit&&this.Dit.Sit||(t*=.8),t}}]),n}(PN),WB=function(){function t(t,n,i,r,e,s){var u=this;this.Vit=void 0,this.sc=void 0,this.Gl=void 0,this.zit=void 0,this.ea=void 0,this.Oit=[],this.Dz=void 0,this.Xit=function(t){var n=t.Ht;n.wn(Dw.wI,u.Git),n.wn(Dw.AI,u.Git),V(n,HP)&&(n.n6=u.n6),u.qit(n)},this.Git=function(t){var n=t.Ht;u.qit(n)},this.jit=function(t){var n=t.Ht;n.mn(Dw.wI,u.Git),n.mn(Dw.AI,u.Git),u.Wit(n)},this.Qit=function(){for(var t,n=u.n6,i=Lt(u.Gl.II);!(t=i()).done;){var r=t.value;V(r,HP)&&(r.n6=n)}},this.Kit=function(){for(var t,n=Lt(u.Oit);!(t=n()).done;){t.value.ntt(u.Dz)}},this.Vit=t,this.sc=n,this.Gl=i,this.zit=e,this.ea=s,this.Dz=r,this.Gl.wn(Sw.eI,this.Xit),this.Gl.wn(Sw.nI,this.jit),this.Gl.wn(Dw.pa,this.Git),this.zit.wn(KT.pa,this.Qit),this.ea.wn([DT.zL,DT.GL],this.Qit),this.Dz.wn("mI",this.Kit),this.Qit()}var n=t.prototype;return n.Lit=function(t){for(var n,i=Lt(this.Oit);!(n=i()).done;){var r=n.value;if(r.Ht===t)return r}},n.Uit=function(t){switch(t.Km){case Dg.TTML:return new YN(t,this.Vit,t.Th,this.sc);case Dg.SRT:case Dg.WEBVTT:return new mB(t,this.Vit,t.Th,this.sc);case Dg.CEA608:return new HB(t,this.Vit,t.Th,this.sc)}},n.Hit=function(t){var n=this.Lit(t);n||(n=this.Uit(t))&&(n.VY(),n.ntt(this.Dz),this.Oit.push(n),t.Xk===Hm.Kn&&n.Ttt())},n.Wit=function(t){for(var n=this.Oit,i=n.length-1;i>=0;i-=1){var r=n[i];r.Ht===t&&(r.kn(),qi(n,i))}},n.qit=function(n){(function(t){return t===Ym.OU||t===Ym.FU})(n.Lt)&&t.Fit(n)&&(n.Ax===Cg.ERROR?this.Wit(n):this.Hit(n))},n.hr=function(){for(var t,n=Lt(this.Oit);!(t=n()).done;){var i=t.value;i.Ht.mn(Dw.wI,this.Git),i.Ht.mn(Dw.AI,this.Git),i.kn()}Yi(this.Oit)},n.kn=function(){this.hr();for(var t,n=Lt(this.Oit);!(t=n()).done;){t.value.kn()}this.Gl.mn(Sw.eI,this.Xit),this.Gl.mn(Sw.nI,this.jit),this.Gl.mn(Dw.pa,this.Git),this.zit.mn(KT.pa,this.Qit),this.ea.mn([DT.zL,DT.GL],this.Qit),this.Dz.mn("mI",this.Kit)},t.Fit=function(t){switch(t.Km){case Dg.TTML:case Dg.SRT:case Dg.WEBVTT:case Dg.CEA608:return!0}return!1},Nt(t,[{key:"n6",get:function(){return this.zit.ds||this.ea.XL}}]),t}();F(),Et(),Wt(),Bt(),Dt(),Qt();var zB=function(t){function n(n){var i;return(i=t.call(this)||this).Yit=void 0,i.Jit=!1,i.Zit=function(){i.Jit=!0,i.So(new PT)},i.$it=function(){i.Jit=!1,i.So(new NT)},i.Yit=n,i.Yit.addEventListener("enterpictureinpicture",i.Zit),i.Yit.addEventListener("leavepictureinpicture",i.$it),i}Ct(n,t);var i=n.prototype;return i.yo=function(){return Vt(function(){var t;return zt(this,function(n){switch(n.label){case 0:return this.jL?this.XL?[3,3]:(t=this.ww([DT.zL,DT.ma]),[4,this.Yit.requestPictureInPicture()]):[3,4];case 1:return n.sent(),[4,t];case 2:n.sent(),this.Jit||this.So(new $T),n.label=3;case 3:return[3,5];case 4:this.So(new $T),n.label=5;case 5:return[2]}})}).call(this)},i.jo=function(){return Vt(function(){var t;return zt(this,function(n){switch(n.label){case 0:return this.jL?this.Jit?(t=this.ww([DT.GL,DT.ma]),[4,this.Yit.ownerDocument.exitPictureInPicture()]):[3,3]:[3,4];case 1:return n.sent(),[4,t];case 2:n.sent(),this.Jit&&this.So(new $T),n.label=3;case 3:return[3,5];case 4:this.So(new $T),n.label=5;case 5:return[2]}})}).call(this)},i.kn=function(){this.Vo(),this.Yit.removeEventListener("enterpictureinpicture",this.Zit),this.Yit.removeEventListener("leavepictureinpicture",this.$it)},Nt(n,[{key:"jL",get:function(){var t;return null!=(t=this.Yit.ownerDocument.pictureInPictureEnabled)&&t}},{key:"XL",get:function(){return this.Jit}}]),n}(th);function XB(t){var n=new EI,i=function(t){var n=[];return TI.la(t)&&n.push(new TI(t)),SI.la(t)&&n.push(new SI(t)),n}(t);if(i.length>0){for(var r,e=Lt(i);!(r=e()).done;){var s=r.value;n.AK(s)}n.yK(i[0])}return n}var qB=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this,n,i,r,e,s)||this).eet=void 0,u.net=void 0,u.tet=void 0,u.iet=void 0,u.tet=XB(n),u.iet=new zB(n),u.eet=new IN,u.net=new WB(u.eet.xe,u.Wu,u.nt,u.Ql,u.Ma,u.mq),u}Ct(n,t);var i=n.prototype;return i.Wx=function(){return this._T},i.zg=function(){var n=this;return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return this.iet.kn(),this.tet.kn(),this.eet.kn(),this.net.kn(),[4,t.prototype.zg.call(n)];case 1:return i.sent(),[2]}})}).call(this)},i.we=function(){t.prototype.we.call(this),this.eet.we()},i.be=function(){t.prototype.be.call(this),this.eet.be()},i.B9=function(n){t.prototype.B9.call(this,n),this.eet.B9(n)},Nt(n,[{key:"$W",get:function(){return this._T}},{key:"Rx",get:function(){return this._T.videoHeight}},{key:"Bx",get:function(){return this._T.videoWidth}},{key:"Ma",get:function(){return this.tet}},{key:"mq",get:function(){return this.iet}}]),n}(pN);F(),Et(),Wt(),Bt(),Dt(),Ut(),Qt(),F(),Et();F(),Et(),Wt(),Qt(),F(),Et();var GB=!1,jB=function(t){return t.ret="HELLO",t.het="HI_THERE",t.oet="INITIALIZE",t.aet="APPEND_INIT",t.uet="APPEND_DATA",t.cet="ACK",t.det="REMOVE",t.let="DESTROY_SESSION",t}({}),QB=function(){function t(){this.im=void 0,this.mT=void 0,this.ta=new yd}var n=t.prototype;return n.fet=function(t){var n=this;return this.ta.Zo(function(t){return Vt(function(){var n,i,r,e,s,u,o;return zt(this,function(h){switch(h.label){case 0:return dr(t),n=new MessageChannel,i=n.port1,r=n.port2,l.serviceWorker.controller?[3,2]:[4,iw(l.serviceWorker,"install",t)];case 1:h.sent(),h.label=2;case 2:return"activated"===l.serviceWorker.controller.state?[3,4]:[4,iw(l.serviceWorker.controller,"activate",t)];case 3:h.sent(),h.label=4;case 4:e={kind:"HELLO",port:r},l.serviceWorker.controller.postMessage(e,[r]),i.start(),this.im=i,h.label=5;case 5:return h.trys.push([5,7,,8]),[4,iw(i,"message",t)];case 6:if(s=h.sent(),"HI_THERE"!==(u=s.data).kind)throw new y("Could not set up message channel");return this.mT=u.sessionId,[3,8];case 7:throw vr(o=h.sent())&&this.vet(),o;case 8:return[2]}})}).call(n)},t)},n._et=function(t,n){var i=this;return this.im,this.ta.Zo(function(){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:if(!this.im)throw new y("MessageSession not set up yet or already closed.");return n||(n=[]),this.im.postMessage(t,n),[4,iw(this.im,"message")];case 1:return[2,i.sent().data]}})}).call(i)})},n.pet=function(){var t=this;return this.ta.Zo(function(){return t.vet()})},n.vet=function(){if(l.serviceWorker.controller&&"activated"===l.serviceWorker.controller.state&&this.im){var t={kind:"DESTROY_SESSION"};GB,this.im.postMessage(t),this.im.close(),this.im=void 0}},t}();F(),Et(),Bt();var YB=function(){function t(){this.wet=1/0}var n=t.prototype;return n.yet=function(t,n){var i=t-n;this.wet=i>this.met?this.wet:i},n.Aet=function(t){this.wet=t},Nt(t,[{key:"met",get:function(){return this.wet}}]),t}();F(),Et(),Wt(),Bt(),Qt(),F(),Et(),Wt(),Bt(),Dt(),Qt(),F(),Et();var KB=function(t){return t.Dk="audio",t.Bk="video",t.VU="metadata",t}({}),JB=function(t){function n(n,i){var r;return(r=t.call(this)||this).SQ=void 0,r.Iet=void 0,r.bet=void 0,r.Tet=void 0,r.ta=void 0,r.Eet=void 0,r.ket=void 0,r.SQ=n,r.Iet=i,r.bet=void 0,r.Tet=void 0,r.ta=new yd,r.Eet=!1,r.ket=!1,r}Ct(n,t);var i=n.prototype;return i.F3=function(t,n){},i.U3=function(t,n){},i.WZ=function(){return this.ket},i.V3=function(){return Vt(function(){return zt(this,function(t){return[2]})})()},i.r3=function(t,n){return Vt(function(){return zt(this,function(t){return[2]})})()},i.H2=function(t,n,i){return Vt(function(){var r,e,s;return zt(this,function(u){if(r=this,t.Km!==FR.vZ)throw new y("Streaming or opaque segments are not supported yet.");return e=t.ck,s=function(){return Vt(function(){var t,i,r;return zt(this,function(s){switch(s.label){case 0:return t=e.buffer,i={kind:jB.uet,mediaType:ZB(this.SQ),segment:e,startPts:n.xet,totalDuration:n.ct},[4,this.Iet._et(i,[t])];case 1:return s.sent(),void 0===this.bet&&(r=n.xet+n.bU,this.bet=r,this.Tet=r),this.Tet=this.Tet+n.ct,this.So(new rh(LR.lZ)),[2]}})}).call(r)},[2,this.ta.Zo(function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:dr(t),n.label=1;case 1:return n.trys.push([1,,3,4]),this.Eet=!0,[4,s()];case 2:return n.sent(),[3,4];case 3:return this.Eet=!1,[7];case 4:return[2]}})}).call(r)},i)]})}).call(this)},i.z2=function(t,n,i){return Vt(function(){var n,r,e;return zt(this,function(s){if(n=this,t.Km!==FR.vZ)throw new y("Streaming or opaque initialization segments are not supported yet.");return r=t.ck,e=function(){return Vt(function(){var t;return zt(this,function(n){switch(n.label){case 0:return t={kind:jB.aet,mediaType:ZB(this.SQ),segment:r},[4,this.Iet._et(t,[])];case 1:return n.sent(),[2]}})}).call(n)},[2,this.ta.Zo(function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:dr(t),n.label=1;case 1:return n.trys.push([1,,3,4]),this.Eet=!0,[4,e()];case 2:return n.sent(),[3,4];case 3:return this.Eet=!1,[7];case 4:return[2]}})}).call(n)},i)]})}).call(this)},i.C3=function(){this.ket=!0},i.A3=function(){this.ket=!1},i._S=function(t,n,i){return Vt(function(){var t,r;return zt(this,function(e){return t=this,r=function(){return Vt(function(){var t;return zt(this,function(i){switch(i.label){case 0:return t={kind:jB.det,mediaType:ZB(this.SQ),endTime:n},[4,this.Iet._et(t)];case 1:return i.sent(),this.bet=void 0,this.Tet=void 0,this.So(new rh(LR.lZ)),[2]}})}).call(t)},[2,this.ta.Zo(function(n){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:dr(n),t.label=1;case 1:return t.trys.push([1,,3,4]),this.Eet=!0,[4,r()];case 2:return t.sent(),[3,4];case 3:return this.Eet=!1,[7];case 4:return[2]}})}).call(t)},i)]})}).call(this)},i.TZ=function(t){return this.SQ===t.qT},i.EZ=function(t){return this.SQ=t.qT,ut.resolve()},i.zg=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.Vo(),[4,this.ta.kn()];case 1:return t.sent(),[2]}})}).call(this)},Nt(n,[{key:"IP",get:function(){return void 0===this.bet||void 0===this.Tet?TA.iL():new TA([this.bet,this.Tet])}},{key:"Cd",get:function(){return{qT:this.SQ}}},{key:"B3",get:function(){return Fv(this.SQ)?ig.Dk:Vv(this.SQ)?ig.Bk:ig.pk}},{key:"oQ",get:function(){return this.SQ}},{key:"M3",get:function(){return TA.iL()}},{key:"MY",get:function(){return 30},set:function(t){}},{key:"UY",get:function(){return 30},set:function(t){}},{key:"ga",get:function(){return this.Eet}},{key:"Pet",get:function(){return this.bet}},{key:"PO",get:function(){return this.Tet}}]),n}(th);function ZB(t){return t.match(/video/)?KB.Bk:KB.Dk}var $B=function(){function t(t,n,i,r){this.YS=void 0,this.hw=void 0,this._T=void 0,this.P4=void 0,this.x4=void 0,this.TS=void 0,this.YS=t,this.x4=Ui(n,function(t){return Boolean(t.oQ.match(/video/))}),this.P4=Ui(n,function(t){return Boolean(t.oQ.match(/audio/))}),this.hw=i,this._T=r,this.Cet()}var n=t.prototype;return n.Cet=function(){},n.zg=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return[4,ut.all([this.P4,this.x4].filter(Un).map(function(t){return t.zg()}))];case 1:return t.sent(),[2]}})}).call(this)},n.C4=function(t){},n.M4=function(t,n,i,r){},n.C3=function(){var t,n;null==(t=this.P4)||t.C3(),null==(n=this.x4)||n.C3()},n.A3=function(){var t,n;null==(t=this.P4)||t.A3(),null==(n=this.x4)||n.A3()},n.TZ=function(t){return!!wN(this,t)},n.EZ=function(t){return this.YS=t,ut.resolve()},n.xZ=function(t){},n.bZ=function(t,n){return Vt(function(){var i;return zt(this,function(r){switch(r.label){case 0:return[4,this.hw.nw(t.Ym,n)];case 1:return[4,r.sent().IS()];case 2:return i=r.sent(),[4,this.SZ(i)];case 3:return r.sent(),[2,i]}})}).call(this)},n.SZ=function(t){return Vt(function(){var n;return zt(this,function(i){switch(i.label){case 0:if(t&&!this._T.src)throw new eg(cd.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");if(!t&&this._T.src)throw new eg(cd.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");return(n=this.TS)?[4,n.PS(this._T)]:[3,2];case 1:i.sent(),this.TS=void 0,i.label=2;case 2:return t?[4,t._n(this._T)]:[3,4];case 3:i.sent(),this.TS=t,i.label=4;case 4:return[2]}})}).call(this)},t.Ret=function(n,i,r,e){for(var s=[],u=0;u<n.L4.length;u++){var o=n.L4[u].qT;s.push(new JB(o,i))}return new t(n,s,r,e)},Nt(t,[{key:"Det",get:function(){return[this.P4,this.x4].filter(Un)}},{key:"Q3",get:function(){return this.P4}},{key:"IP",get:function(){return eD(this)}},{key:"Cd",get:function(){return this.YS}},{key:"ct",get:function(){return 0}},{key:"WZ",get:function(){var t,n,i,r,e=null==(i=null==(t=this.P4)?void 0:t.WZ())||i,s=null==(r=null==(n=this.x4)?void 0:n.WZ())||r;return e&&s}},{key:"Sx",get:function(){return TA.eL()}},{key:"K3",get:function(){return this.x4}}]),t}(),tx=function(t){function n(n,i,r,e){var s,u;return s=t.call(this)||this,(u=s).Jet=!0,u.Iet=new QB,u.jet=new YB,u.iq=void 0,u.Q8=void 0,u.$et=!0,u.ist=new Vc,u.Sz=!1,u.w7=ut.resolve(),u.m7=new hr,u.tst=!0,u.Ho=TA.iL(),u.tet=void 0,u.ea=void 0,u.Yit=void 0,u.C9=!1,u.PZ=void 0,u.hw=void 0,u.Gl=void 0,u.N7=void 0,u.eet=void 0,u.net=void 0,u.nst=void 0,u.Dz=void 0,u.Net=function(){u.hx||u.Ket.V<=0||u.IP.V<=0||u.jet.yet(u.IP.An(u.IP.V-1),u.Ket.An(u.Ket.V-1))},u.Met=function(){u.So(new vT(u.MP))},u.Let=function(){u.So(new pw(u.MP,u.CP))},u.Oet=function(){u.So(new fT(u.MP,u.ux))},u.Fet=function(){u.So(new wT(u.MP,u.Mx))},u.Uet=function(){u.So(new aT(u.ct))},u.Vet=function(){u.So(new Oy(u.MP))},u.Het=function(){u.My(u.MP)},u.Wet=function(){return Vt(function(){return zt(this,function(t){return u.tst&&u.So(new cT(u.MP)),u.$et=!1,u.tst=!0,[2]})})()},u.qet=function(){u.$et=!0,u.So(new hT(u.MP))},u.S9=function(t){var n,i=t.initDataType,r=null!=(n=t.initData)?n:new ArrayBuffer(0);u.So(new vh(i,r))},u.Yit=n,u.Q8=new AD(u),u.nst=r,u.Dz=e,u.Yit.playsInline=!0,u.Yit.style.width="100%",u.Yit.style.height="100%",u.Bet(),u.Get(),u.tet=XB(u.Yit),u.ea=new zB(u.Yit),u.PZ=new cN(u),u.hw=i,u.Gl=new Qm,u.N7=new jP(u),u.eet=new IN,u.net=new WB(u.eet.xe,u.Wu,u.nt,u.Ql,u.Ma,u.mq),s}Ct(n,t);var i=n.prototype;return i.Bet=function(){this.Yit.addEventListener("timeupdate",this.Net),this.Yit.addEventListener("ended",this.Met),this.Yit.addEventListener("timeupdate",this.Let),this.Yit.addEventListener("ratechange",this.Oet),this.Yit.addEventListener("volumechange",this.Fet),this.Yit.addEventListener("durationchange",this.Uet),this.Yit.addEventListener("playing",this.Vet),this.Yit.addEventListener("seeking",this.Het),this.Yit.addEventListener("play",this.Wet),this.Yit.addEventListener("pause",this.qet),this.Yit.addEventListener("encrypted",this.S9)},i.zet=function(){this.Yit.removeEventListener("timeupdate",this.Net),this.Yit.removeEventListener("ended",this.Met),this.Yit.removeEventListener("timeupdate",this.Let),this.Yit.removeEventListener("ratechange",this.Oet),this.Yit.removeEventListener("volumechange",this.Fet),this.Yit.removeEventListener("durationchange",this.Uet),this.Yit.removeEventListener("playing",this.Vet),this.Yit.removeEventListener("seeking",this.Het),this.Yit.removeEventListener("play",this.Wet),this.Yit.removeEventListener("pause",this.qet)},i.Get=function(){this.Q8.wn(Ey.wI,this.Rs)},i.Xet=function(){this.Q8.mn(Ey.wI,this.Rs)},i.My=function(t,n,i){this.m7.Zg(),this.m7=new hr,this.w7=_r(this.y7(t,this.w7,this.m7.Yg),this.m7).catch(di)},i.y7=function(t,n,i){return Vt(function(){var r,e,s,u,o;return zt(this,function(h){switch(h.label){case 0:return this.Ho=this._x,(s=null==(e=this.iq)?void 0:e.Det)?(u=(r=b).max.apply(r,[].concat(s.map(function(t){return t.Pet?t.Pet:1/0}))),this.Sz=!0,this.So(new dT(t)),[4,n.catch(di)]):[2];case 1:h.sent(),dr(i),h.label=2;case 2:return h.trys.push([2,7,8,9]),this.Jet||this.Zet(),this.Yit.load(),this.$et?[3,4]:(this.tst=!1,[4,gr(this.Yit.play(),i)]);case 3:h.sent(),h.label=4;case 4:return this.Ax<Cy.HL?[4,this.Q8.ww(Ey.wI,i)]:[3,6];case 5:return h.sent(),[3,4];case 6:return this.ist.Xy(),this.Jet=!1,this.Sz=!1,this.So(new lT(this.MP)),[3,9];case 7:throw o=h.sent(),this.ist.jy(o),o;case 8:return this.sst(),this.jet.Aet(u),[7];case 9:return[2]}})}).call(this)},i.zx=function(){this.$et=!0,this.Yit.pause()},i.Gx=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.$et?(this.Yit.src||this.D9(),[4,this.ist.Qy]):[2];case 1:return t.sent(),[4,this.Yit.play()];case 2:return t.sent(),[2]}})}).call(this)},i.zg=function(){return Vt(function(){return zt(this,function(t){return this.Iet&&this.Iet.pet().catch(di),this.m7.Zg(),this.zet(),this.Xet(),this.Q8.zg(),this.Vo(),this.Gl.kn(),this.eet.kn(),this.net.kn(),[2]})}).call(this)},i.hr=function(){return Vt(function(){return zt(this,function(t){return this.Iet&&this.Iet.pet().catch(di),this.m7.Zg(),this.Yit.removeAttribute("src"),this.Yit.removeAttribute("x-webkit-wirelessvideoplaybackdisabled"),this.Yit.removeAttribute("x-airplay-deny"),this.Yit.disableRemotePlayback=!1,this.Yit.load(),this.Q8.hr(),this.Ho=TA.iL(),[2]})}).call(this)},i.C8=function(){return Vt(function(){return zt(this,function(t){throw new p("Not supported")})})()},i.D9=function(){this.R9||(Br(this.Yit,Vn.Zs),this.C9=!0)},i.Zet=function(){var t,n=this.Yit.getClientRects();if(n.length>0){var i,r,e=(t=n[0]).width,s=this.Yit.videoWidth/this.Yit.videoHeight,u=t.height;e/u>s?(i=u*s,r=u):(r=e/s,i=e),this.Yit.style.width=i+"px",this.Yit.style.height=r+"px",this.Yit.style.marginLeft=(e-i)/2+"px",this.Yit.style.marginTop=(u-r)/2+"px",this.Yit.style.backgroundColor="black"}},i.sst=function(){this.Yit.style.width="100%",this.Yit.style.height="100%",this.Yit.style.marginLeft="",this.Yit.style.marginTop="",this.Yit.style.backgroundColor=""},i.gq=function(t,n,i,r,e){},i.tI=function(t,n,i,r,e,s,u,o,h){var c=new GD(t,n,i,r,e,s,u,h,o);return this.Gl.tt(c),this.N7.tt(c),c},i.wq=function(t){throw y("Not supported.")},i.QZ=function(t){},i.ZP=function(){return wR(this.Yit)},i.be=function(){this.Yit.style.display="block",this.eet.be()},i.we=function(){this.Yit.style.display="none",this.eet.we()},i.x9=function(){},i.Un=function(t){return Vt(function(){var n,i;return zt(this,function(r){switch(r.label){case 0:if(t.Km===Sy.mV)throw new y("Not yet implemented");return[4,this.Iet.fet()];case 1:return r.sent(),n=Ui(t.aq,function(t){return t.kS.Km===Eo.jm}),i={kind:jB.oet,mediaBufferConfigs:t.L4.map(function(t){return t.qT}),fairPlaySdkUri:null==n?void 0:n.HH},[4,this.Iet._et(i)];case 2:return r.sent(),this.iq=$B.Ret(t,this.Iet,this.hw,this.Yit),this.PZ.Un(this.iq,t),this.Yit.setAttribute("x-webkit-airplay","deny"),this.Yit.setAttribute("x-webkit-wirelessvideoplaybackdisabled",""),this.Yit.disableRemotePlayback=!0,this.Yit.preload="none",this.Yit.src="https://theo.proxy/"+this.Iet.mT+"/master.m3u8",[2,this.iq]}})}).call(this)},i.I9=function(){},i.iV=function(t){this.Gl.it(t),this.N7.it(t)},i.Aq=function(){for(var t,n=Lt(this.Gl.II.slice());!(t=n()).done;){t.value.kn()}this.Gl.hr()},i.KW=function(t){},i.vq=function(){return!1},i.B9=function(t){t.appendChild(this.Yit),this.eet.B9(t)},i.Wx=function(){return this.Yit},i.Yx=function(){},Nt(n,[{key:"$W",get:function(){return this.Yit}},{key:"n5",get:function(){return!1}},{key:"MP",get:function(){return this.Yit.currentTime+this.jet.met}},{key:"hx",get:function(){return this.Yit.paused}},{key:"Mx",get:function(){return this.Yit.volume},set:function(t){this.Yit.volume=t}},{key:"ux",get:function(){return this.Yit.playbackRate},set:function(t){this.Yit.playbackRate=t}},{key:"Qet",get:function(){return this.Yit.defaultPlaybackRate}},{key:"IP",get:function(){var t,n;return null!=(n=null==(t=this.iq)?void 0:t.IP)?n:TA.iL()}},{key:"Ket",get:function(){return TA.jn(this.Yit.buffered)}},{key:"_x",get:function(){var t=this.Yet;return this.Ho.OM(t.Ny(this.jet.met))}},{key:"Yet",get:function(){return TA.jn(this.Yit.played)}},{key:"kx",get:function(){return this.Sz}},{key:"Y4",get:function(){return!1}},{key:"a5",get:function(){return!1}},{key:"ct",get:function(){return this.Yit.duration}},{key:"$P",get:function(){return this.Yit.muted},set:function(t){this.Yit.muted=t}},{key:"Pit",get:function(){return this.Yit.style}},{key:"CL",get:function(){return Yu({},xR,{RL:!0})}},{key:"Ax",get:function(){return this.Q8.Ax}},{key:"Rx",get:function(){return this.Yit.videoHeight}},{key:"Bx",get:function(){return this.Yit.videoWidth}},{key:"UP",get:function(){return this.Yit.ended}},{key:"Mi",get:function(){return this.Yit.offsetHeight*Vn.Zs.fp}},{key:"Ti",get:function(){return this.Yit.offsetWidth*Vn.Zs.fp}},{key:"KP",get:function(){return!1}},{key:"R9",get:function(){return this.C9}},{key:"CP",get:function(){}},{key:"Wu",get:function(){return this.nst}},{key:"lt",get:function(){}},{key:"Ma",get:function(){return this.tet}},{key:"mq",get:function(){return this.ea}},{key:"Sx",get:function(){return this.iq?this.iq.Sx:TA.iL()}},{key:"nq",get:function(){}},{key:"nt",get:function(){return this.Gl}},{key:"Ql",get:function(){return this.Dz}},{key:"Vx",get:function(){return!1},set:function(t){}},{key:"i7",get:function(){return"block"===this.Yit.style.display}},{key:"Eq",get:function(){return this.PZ.Eq},set:function(t){this.PZ.Eq=t}},{key:"N9",get:function(){},set:function(t){}},{key:"p8",get:function(){}}]),n}(th),nx=[ig.Dk,ig.Bk],ix=function(){function t(t,n,i,r,e,s){void 0===r&&(r=2),void 0===e&&(e=nx),void 0===s&&(s=Cd()),this.fst=void 0,this.rst=void 0,this.hw=void 0,this.hst=void 0,this.sc=void 0,this.Dz=void 0,this.VJ=void 0,this.ast=void 0,this.fst=r,this.rst=[].concat(e),this.hw=s,this.sc=t,this.Dz=n,this.VJ=i,this.hst=Ju(),this.lst()}var n=t.prototype;return n.ust=function(t){for(var n,i=Lt(this.Bz);!(n=i()).done;){n.value.B9(t)}},n.Gq=function(t){var n=this.hst.get(t);if(n){var i=Ui(n,function(t){return t.cst});return i?(i.cst=!1,i.ost):void 0}},n.dst=function(t){if(!this.ast){var n,i=null==(n=this.hst.get(ig.Bk))?void 0:n[0].ost.$W;if(!i)throw new y("Error creating iOS Safari MediaController");this.ast=new tx(i,this.hw,this.sc,this.Dz),i.parentElement&&this.ast.B9(i.parentElement)}return this.ast},n.Pq=function(t){return Vt(function(){var n,i,r;return zt(this,function(e){switch(e.label){case 0:return n=t.$W,i=n.tagName.toLowerCase(),[4,t.hr()];case 1:return e.sent(),Nr(n),(r=Ui(this.hst.get(i)||[],function(n){return t===n.ost}))&&(r.cst=!0),[2]}})}).call(this)},n.xz=function(){for(var t,n=Lt(this.Bz);!(t=n()).done;){t.value.D9()}},n.kn=function(){for(var t,n=Lt(this.Bz);!(t=n()).done;){var i=t.value,r=i.$W;i.zg(),Pr(r),$n(r)}this.hst.clear(),this.ast=void 0},n.lst=function(){for(var t,n=Lt(this.rst);!(t=n()).done;){var i=t.value,r=[];this.hst.set(i,r);for(var e=0;e<this.fst;e++){var s=Dr(i),u=i===ig.Dk?new EN(s,this.hw,this.sc,this.VJ):new qB(s,this.hw,this.sc,this.Dz,this.VJ);r.push({ost:u,cst:!0})}}},Nt(t,[{key:"Bz",get:function(){for(var t,n=[],i=Lt(this.rst);!(t=i()).done;){var r=t.value,e=this.hst.get(r);if(e){var s,u=e.map(function(t){return t.ost});(s=n).push.apply(s,[].concat(u))}}return this.ast&&n.push(this.ast),n}}]),t}();F(),Et(),Wt(),Dt(),Qt(),F(),Et();var rx=function(){function t(t){this.nV=void 0,this.nV=t}var n=t.prototype;return n.lk=function(t){return this.nV.lk(t)},n.Kk=function(t){this.nV.Kk(t)},n.kn=function(){this.nV.kn()},t}(),ex=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).Rz=void 0,r.Rz=i,r}Ct(n,t);var i=n.prototype;return i.lk=function(t){var n=new pl(t),i=this.Rz.kY.PW(n);return i?this.vst(n,i):this.nV.lk(n)},i.vst=function(t,n){return Vt(function(){var i,r,e;return zt(this,function(s){switch(s.label){case 0:return n.PY(Vn.Mg()/1e3),[4,this.nV.lk(t)];case 1:return i=s.sent(),n.xY(Vn.Mg()/1e3),r=i.QT?i.WT().pipeThrough(new qd(new sx(n))):i.HT().then(function(t){var i=Vn.Mg()/1e3;return n.IY(i,new E(t)),n.RY(i),t}),e={ck:r,lk:i.lk},[2,new ll(e,i)]}})}).call(this)},n}(rx),sx=function(){function t(t){this._st=void 0,this.YJ=void 0,this._st=t}var n=t.prototype;return n.start=function(t){this.YJ=t},n.transform=function(t){this._st.IY(Vn.Mg()/1e3,t),this.YJ.enqueue(t)},n.flush=function(){this._st.RY(Vn.Mg()/1e3)},t}();function ux(t){return{get ratio(){return t.qo},get thresholds(){return t.gst.slice()}}}function ox(t){var n=[],i=b.floor(1/t);if(S(i))return[];for(var r=0;r<=i;r++){var e=Ti(r*t,0,1);n.push(e)}return n}F(),Et(),Bt(),Ut(),F(),Et(),Bt(),Dt(),F(),Et();var hx=function(){function t(t,n,i){this.pst=1,this.mst=void 0,this.yst=void 0,this.hu=void 0,this.mst=ox(n);var r=this.wst(i);this.yst=new f.IntersectionObserver(r,{root:null,threshold:this.mst}),this.yst.observe(t)}var n=t.prototype;return n.wst=function(t){var n=this;return function(i){var r=i[i.length-1];n.pst=r.intersectionRatio,t(r.intersectionRatio)}},n.Xx=function(){this.yst.disconnect()},Nt(t,[{key:"qo",get:function(){return this.pst}},{key:"gst",get:function(){return this.mst}},{key:"Ca",get:function(){return this.hu||(this.hu=ux(this)),this.hu}}]),t}(),cx=function(){function t(t,n){this.mst=void 0,this.Sst=void 0,this.pst=1,this.bst=-1,this.hu=void 0,this.mst=ox(t),this.Sst=n}return t.prototype.Ast=function(t){this.pst=t;var n=this.mst,i=0;if(t>0)for(;i<n.length&&n[i]<=t;)++i;this.bst!==i&&(this.bst=i,this.Sst(t))},Nt(t,[{key:"qo",get:function(){return this.pst}},{key:"gst",get:function(){return this.mst}},{key:"Ca",get:function(){return this.hu||(this.hu=ux(this)),this.hu}}]),t}(),ax=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).bo=void 0,e.kst=wi(function(){return e.Ast(e.Tst())},50),e.bo=n,f.addEventListener("scroll",e.kst,!!lI&&{passive:!0}),pr(function(){return e.Ast(e.Tst())}),e}Ct(n,t);var i=n.prototype;return i.Tst=function(){var t=this.bo.getBoundingClientRect();return Ti(b.max(0,b.min(f.innerWidth,t.right)-b.max(0,t.left))*b.max(0,b.min(f.innerHeight,t.bottom)-b.max(0,t.top))/(t.width*t.height),0,1)},i.Xx=function(){f.removeEventListener("scroll",this.kst)},n}(cx),fx=function(){function t(t){this.bo=void 0,this.Pst=1,this.xst=0,this.Cst=[],this.hu=void 0,this.bo=t,this.Do(.1,this.Rst())}var n=t.prototype;return n.Rst=function(t){var n=this;return function(i){n.Pst=i,null==t||t(n.Pst)}},n.Do=function(t,n){if(S(t))throw new p("step is not of the right type");if(t>1||t<=0)throw new RangeError("The step must be a number greater than 0 and smaller than or equal to 1");var i;return i="function"==typeof f.IntersectionObserver?new hx(this.bo,t,this.Rst(n)):new ax(this.bo,t,this.Rst(n)),this.Cst.push(i),i},n.Uo=function(t){t.Xx(),Xi(this.Cst,t)},n.Ist=function(t){for(var n,i=Lt(this.Cst);!(n=i()).done;){var r=n.value;if(r.Ca===t)return r}},n.kn=function(){for(var t,n=Lt(this.Cst);!(t=n()).done;){t.value.Xx()}Yi(this.Cst)},Nt(t,[{key:"Est",get:function(){return this.Pst}},{key:"Lo",get:function(){return this.xst},set:function(t){if(S(t)||t<0||t>1)throw new RangeError("The threshold must be a value between 0 and 1");this.xst=t}},{key:"Ca",get:function(){return this.hu||(this.hu=function(t){return{get ratio(){return t.Est},get visible(){return t.Est>t.Lo},get visibleThreshold(){return t.Lo},set visibleThreshold(n){n=Ww(n),t.Lo=n},addObserver:function(n,i){return n=Ww(n),t.Do(n,i).Ca},removeObserver:function(n){var i=t.Ist(n);i&&t.Uo(i)}}}(this)),this.hu}}]),t}();F(),Et(),Dt();var vx=function(t){function n(){return t.call(this,eh.Iw)||this}return Ct(n,t),n}(rh),dx=function(t){function n(n,i,r,e){var s;(s=t.call(this)||this).Qst=void 0,s.Cd=void 0,s.Pa=void 0,s.jst=void 0,s.SP=void 0,s.eJ=void 0,s.gJ=void 0,s.Gst=void 0,s.zst=void 0,s.Rz=void 0,s.Cz=void 0,s.Wst=void 0,s.qJ=void 0,s.Ost=void 0,s.Xst=void 0,s.Dz=void 0,s.Bst=!1,s.ko=!1,s.gO=void 0,s.gz=void 0,s.Kst=!1,s.Iz=void 0,s.Mst=void 0,s.Ust=void 0,s.Lst=void 0,s.Jc=void 0,s.Io=void 0,s.Fst=void 0,s.Na=void 0,s.qst=function(t){if(!s.Kst){s.Kst=!0;var n=s.Qst,i=hg(t);s.Pa.BI=new eS(s.xe,i,t),kr(n.kn())}},s.Yst=function(t){t.type!==eh.Xw&&t.type!==eh.Gw&&s.So(t)};var u=Ww(i.uid);S(u)?s.gO=yg++:s.gO=u,s.Cd=i;var o=Vn.SP,h=new SR;s.jst=new tI("10.0.0",o,h),s.Rz=new sR,s.Cz=new Cb;var c=new ex(o,s.Rz);s.SP=new GI(c,i.allowMixedContent),s.qJ=null!=r?r:new RE(i.isEmbeddable,"10.0.0",bE()),s.Wst=new TR(o,s.qJ,s.jst,h,i,bE()),s.Wst.FJ().catch(s.qst),s.Ost=new pI(n),s.Ost.wn(hI.yn,s.Rs),s.Dz=new PR;var a=new(null!=e?e:ix)(s.Ost,s.Dz,i);a.ust(n),s.eJ=new aR,s.gJ=new vR;var f=new rS(n,i,s.SP,s.Rz,s.Cz,a,s.Dz);s.Rz.VY(f);var v=f;return v=new fR(v,s.Vst),v=new dR(v,s._J),s.Qst=v,s.Pa=new VT(s.Qst),s.Pa.lw(s.Yst),s.Fst=new lR(s.Pa),s.Ust=new YI(s.Pa,s.SP,s.Rz),s.Gst=new oI(s),s.Xst=new II(s.Pa,i.allowNativeFullscreen),s.zst=new BI(s.Xst,s.Pa.Aa()),s.Ost._n(),s.Io=new fx(n),s.Iz=new ix(s.Ost,s.Dz,i,1,[ig.Bk]),s.Mst=new OI(s.Iz),s.Lst=new mR,s}Ct(n,t);var i=n.prototype;return i.RP=function(){return this.Pa.IP},i.LP=function(){return this.Pa.MP},i.OP=function(t,n){this.Pa.OP(t,n)},i.Hst=function(){return this.LP()},i.Nd=function(){return this.Pa.ct},i.HP=function(){return this.Pa.lt},i.qP=function(){return this.Pa.WP},i.ix=function(t){this.Pa.$P=t,t||this.hx||this.qx()},i.lx=function(){return this.Pa.ux},i.vx=function(t){this.Pa.ux=t},i.gx=function(){return this.Pa._x},i.Tx=function(){return this.Pa.Sx},i.Ox=function(t){this.Pa.Mx=t},i.Ea=function(){ST(this,_S,this)},i.Gx=function(){this.Pa.Gx()},i.zx=function(){this.Pa.zx()},i.nu=function(){return this.gz},i.Ta=function(t,n){return Vt(function(){var i;return zt(this,function(r){switch(r.label){case 0:return this.gz=t,t?(this.Wst.xj(t).catch(this.qst),i=function(t){t.sources;var n=t.sources.filter(function(t){return Fn(t.integration)});return t.sources=n,t}(t),[4,this.Pa.Ta(i,n)]):[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})}).call(this)},i.Px=function(t,n,i){return this.Pa.Px(t,n,i)},i.xx=function(){return this.Pa.xx()},i.qx=function(){if(!this.ko){this.Pa.qx(),this.Mst.qx();for(var t=this.xe.getElementsByTagName("video"),n=0;n<t.length;n++){var i=t[n];"Advertisement"===i.title&&Br(i,Vn.Zs)}this.ko=!0}},i.ds=function(){return this.zst.Wo()===yT.FULLSCREEN},i.be=function(){this.Pa.be()},i.we=function(){this.Pa.we()},i.Wx=function(){return this.Pa.Wx()},i.Yx=function(){this.Pa.Yx()},i.Jx=function(){this.Pa.Jx()},i.tI=function(t){return this.Pa.tI(t)},i.Xx=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.gz=void 0,[4,this.Pa.Xx()];case 1:return t.sent(),[4,this.Pa.hr()];case 2:return t.sent(),[2]}})}).call(this)},i.kn=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.So(new vx),this.Vo(),this.Lst.kn(),this.SP.kn(),this.Ust.kn(),this.Gst.kn(),this.Xst.kn(),this.zst.kn(),this.Ost.kn(),this.jst.kn(),this.Mst.kn(),this.Iz.kn(),[4,this.Pa.kn()];case 1:return t.sent(),[2]}})}).call(this)},Nt(n,[{key:"Dst",get:function(){return this.Rz}},{key:"cO",get:function(){return this.Bst},set:function(t){this.Bst=t,this.Pa.cO=t}},{key:"Nst",get:function(){return this.Mst}},{key:"ht",get:function(){return this.Pa.ht}},{key:"VX",get:function(){return this.Lst}},{key:"Wu",get:function(){return this.Ost}},{key:"zP",get:function(){return this.Pa.zP}},{key:"jP",get:function(){return this.Pa.jP}},{key:"JP",get:function(){return this.Fst}},{key:"oX",get:function(){return this.Ust}},{key:"nt",get:function(){return this.Pa.nt}},{key:"Ql",get:function(){return this.Dz}},{key:"rt",get:function(){return this.Pa.rt}},{key:"IP",get:function(){return this.RP()}},{key:"Vst",get:function(){return this.eJ}},{key:"_J",get:function(){return this.gJ}},{key:"MP",get:function(){return this.LP()},set:function(t){this.OP(t)}},{key:"CP",get:function(){return this.Pa.CP},set:function(t){this.Pa.CP=t}},{key:"bt",get:function(){return this.Pa.bt}},{key:"ct",get:function(){return this.Nd()}},{key:"xe",get:function(){return this.Pa.xe}},{key:"UP",get:function(){return this.Pa.UP}},{key:"lt",get:function(){return this.HP()}},{key:"WP",get:function(){return this.qP()}},{key:"Ma",get:function(){return this.Pa.Hx()}},{key:"mq",get:function(){return this.Pa.Aa()}},{key:"Vx",get:function(){return this.Pa.Vx},set:function(t){this.Pa.Vx=t}},{key:"$P",get:function(){return this.Pa.$P},set:function(t){var n=Boolean(t);this.ix(n)}},{key:"hx",get:function(){return this.Pa.hx}},{key:"ux",get:function(){return this.lx()},set:function(t){this.vx(t)}},{key:"_x",get:function(){return this.gx()}},{key:"mx",get:function(){return this.Pa.mx},set:function(t){this.Pa.mx=t}},{key:"Ax",get:function(){return this.Pa.Ax}},{key:"Sx",get:function(){return this.Tx()}},{key:"kx",get:function(){return this.Pa.kx}},{key:"jI",get:function(){return this.gO}},{key:"Rx",get:function(){return this.Pa.Rx}},{key:"Bx",get:function(){return this.Pa.Bx}},{key:"Mx",get:function(){return this.Pa.Mx},set:function(t){var n=Ti(Number(t),0,1)||0;this.Ox(n)}},{key:"Fx",get:function(){return this.Cz}}]),n}(ih);F(),Et();var lx=self.CustomEvent;var wx=function(){try{var t=new lx("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=v.createEvent("CustomEvent");return i.initCustomEvent(t,(null==n?void 0:n.bubbles)||!1,(null==n?void 0:n.cancelable)||!1,null==n?void 0:n.detail),i};F(),Et(),Bt(),Ut();var gx=function(){function t(){this.oO=[],this.hu=void 0}var n=t.prototype;return n.CI=function(t){return this.oO[t]},n.c$=function(t){this.oO.push(t),this.Ca.push(t.Ca)},n._S=function(t){var n=this.oO.indexOf(t);n<0||(qi(this.oO,n),this.hu&&qi(this.hu,n))},n.unt=function(t){for(var n,i=Lt(this.oO);!(n=i()).done;){var r=n.value;if(r.jI===t)return r}},Nt(t,[{key:"V",get:function(){return this.oO.length}},{key:"Ca",get:function(){var t;return null!=(t=this.hu)?t:this.hu=function(t){for(var n=[],i=0;i<t.V;i++)n[i]=t.CI(i).Ca;return n.getPlayerByUID=function(n){var i=t.unt(n);return i&&i.Ca},n}(this)}}]),t}();var _x=new gx;function mx(t){var n,i,r=function(n){i=n;var r=oE(n,t.Cd);t.Ta(r)},e={get abr(){return t.Dst.Ca},get ads(){var n;return null==(n=t.Jc)?void 0:n.Ca},get audioTracks(){return t.ht.Ca},get autoplay(){return t.cO},set autoplay(n){t.cO=Boolean(n)},get buffered(){return t.RP()},get canvas(){return t.Gst.Ca},get cast(){var n;return null==(n=t.VX)?void 0:n.Ca},get clip(){return t.Vst.Ca},get currentProgramDateTime(){var n;return null!=(n=t.CP)?n:null},set currentProgramDateTime(n){t.CP=null!=n?n:void 0},get currentTime(){return t.LP()},set currentTime(n){t.OP(Number(n))},get duration(){return t.Nd()},get element(){return t.xe},get ended(){return t.UP},get error(){return t.HP()},get errorObject(){return t.qP()},get loop(){return t._J._J},set loop(n){t._J._J=Boolean(n)},get metrics(){return t.JP.Ca},get muted(){return t.$P},set muted(n){t.ix(n)},get network(){return t.oX.Ca},get paused(){return t.hx},get playbackRate(){return t.ux},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.ux=i},get played(){return t.gx()},get poster(){return t.gi},set poster(n){t.gi=Xw(n)},get preload(){return t.mx},set preload(n){t.mx=function(t){switch(t){case"auto":case"":return"auto";case"metadata":return"metadata";default:return"none"}}(n)},get presentation(){return t.zst.Ca},get readyState(){return t.Ax},get seekable(){return t.Tx()},get seeking(){return t.kx},get source(){return i},set source(t){r(t)},get src(){return KS(t.nu())},set src(t){r({sources:t})},get textTracks(){return t.nt.Ca},get textTrackStyle(){return t.Ql.Ca},get theoLive(){return t.tnt},get uid(){return t.jI},get videoHeight(){return t.Rx},get videoTracks(){return t.rt.Ca},get videoWidth(){return t.Bx},get visibility(){return t.Io.Ca},get volume(){return t.Mx},set volume(n){t.Ox(Number(n))},get latency(){return t.Fx.Ca},get theoads(){return t.ent},get millicast(){return t.jP.Ca},destroy:function(){t.kn(),t=null,i=void 0},play:function(){t.cnt()},pause:function(){t.zx()},stop:function(){i=void 0,t.Xx()},prepareWithUserAction:function(){t.qx()},addEventListener:function(t,i){n.wn(t,i)},removeEventListener:function(t,i){n.mn(t,i)},setSource:function(t){r(t)},addTextTrack:function(n){return t.tI(function(t){return{Lt:Xw(t.kind),Th:Xw(t.label),bs:Xw(t.language),Km:Xw(t.type)}}(n)).Ca}};return(n=new DI(e,!0)).au(t),n.wn("destroy",function(){n.kn()}),e}F(),Et(),Wt(),Bt(),Dt(),Ut(),Qt(),F(),Et(),F(),Et(),F(),Et(),Dt();var yx=function(t){function n(n){var i;return(i=t.call(this,eh.do)||this).source=void 0,i.source=n,i}return Ct(n,t),n}(rh);F(),Et(),Bt(),Dt();var px=function(t){function n(){var n;return(n=t.call(this)||this).bz=void 0,n.kz=void 0,n.Sz=void 0,n.Ez=void 0,n.bz=0,n.kz=!0,n.Sz=!1,n.Ez=1,n}Ct(n,t);var i=n.prototype;return i.LP=function(){return this.bz},i.Hst=function(){return this.LP()},i.OP=function(t,n){this.Sz&&this.bz===t||(this.bz=t,this.Sz=!0,this.So(new dT(this.bz)))},i.Gx=function(){this.kz&&(this.kz=!1,this.So(new cT(this.bz)),this.So(new Ny(this.bz)))},i.zx=function(){this.kz||(this.kz=!0,this.So(new pw(this.bz,this.CP)),this.So(new hT(this.bz)))},i.hr=function(){this.bz=0,this.Sz=!1,this.Ez=1,this.zx()},i.kn=function(){this.Vo()},i.we=function(){},i.be=function(){},Nt(n,[{key:"CP",get:function(){},set:function(t){}},{key:"MP",get:function(){return this.LP()},set:function(t){this.OP(t)}},{key:"hx",get:function(){return this.kz}},{key:"ux",get:function(){return this.Ez},set:function(t){this.Ez!==t&&(this.Ez=t,this.So(new fT(this.bz,this.ux)))}},{key:"Ax",get:function(){return Cy.VL}},{key:"kx",get:function(){return this.Sz}}]),n}(ih);F(),Et(),Bt();var kx={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},bx={visibility:"hidden"},Ax={visibility:"visible"},Tx=function(){function t(t){var n=this;this.Ls=void 0,this.oa=void 0,this.vnt=!1,this.dnt=void 0,this.lnt=void 0,this._nt=function(t){var i;n.vnt=!n.oa.hx,n.dnt=null==(i=t.source)?void 0:i.poster,n.er()},this.LV=function(){n.vnt=!0,n.we()},this.oa=t,this.vz(),this.Ls=function(){var t=f&&f.document&&f.document.createElement("div");return t.className="theoplayer-poster",hi(kx,t),t}(),t.xe.appendChild(this.Ls)}var n=t.prototype;return n.er=function(){var t=this.oa.hx,n=this.vnt;this.Yu?this.Ls.style.backgroundImage='url("'+jo(this.Yu)+'")':this.Ls.style.backgroundImage="",t&&this.Yu&&!n?this.be():this.we()},n.be=function(){hi(bx,this.oa.xe),hi(Ax,this.Ls)},n.we=function(){hi(bx,this.Ls),hi(Ax,this.oa.xe)},n.vz=function(){this.oa.wn(eh.do,this._nt),this.oa.wn(eh.uo,this.LV)},n.kn=function(){this.oa.mn(eh.do,this._nt),this.oa.mn(eh.uo,this.LV),$n(this.Ls)},Nt(t,[{key:"Yu",get:function(){return void 0!==this.dnt?this.dnt:void 0!==this.lnt?this.lnt:void 0}},{key:"fnt",set:function(t){this.lnt=t,this.er()}}]),t}();F(),Et(),Bt(),Dt(),Ut(),F(),Et(),Wt(),Bt(),Dt(),Qt(),F(),Et(),F(),Et();var Sx=function(t){return t[t.gnt=0]="gnt",t[t.pnt=1]="pnt",t}({});function Ex(t){var n,i={get playing(){return t.zc},get currentAds(){return t.mnt.map(function(t){return t.wnt()})},get currentAdBreak(){var n,i;return null!=(i=null==(n=t.ynt)?void 0:n.wnt())?i:null},get scheduledAds(){return t.Ant.map(function(t){return t.wnt()})},get scheduledAdBreaks(){return t.bnt.map(function(t){return t.wnt()})},skip:function(){t.rD()},skipAdBreak:function(n){t.Snt(null!=n?n:void 0)},schedule:function(n){var i=sE(n,yS.Ng);i?t.M6(i,Sx.gnt,!1):console.error("Invalid ad description")},registerServerSideIntegration:function(n,i){t.Tnt(n,i)},addEventListener:function(t,i){n.wn(t,i)},removeEventListener:function(t,i){n.mn(t,i)}};return n=new cR(t,i),i}var Ix=function(t){function n(n){var i,r;return(i=t.call(this)||this).qc=void 0,i.hu=void 0,i.qc=n,null==(r=i.qc)||r.lw(i.Rs),i}Ct(n,t);var i=n.prototype;return i.M6=function(t,n,i){var r;null==(r=this.qc)||r.M6(t,n,i)},i.knt=function(t){var n;null==(n=this.qc)||n.knt(t)},i.rD=function(){var t;null==(t=this.qc)||t.rD()},i.Snt=function(t){var n;null==(n=this.qc)||n.Snt(t)},i.Ent=function(t){var n;null==(n=this.qc)||n.Ent(t)},i.Tnt=function(t,n){var i;null==(i=this.qc)||i.Tnt(t,n)},i.kn=function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return this.Vo(),void 0===this.qc?[3,3]:(this.qc.mw(this.Rs),t?[3,2]:[4,this.qc.kn()]);case 1:n.sent(),n.label=2;case 2:this.qc=void 0,n.label=3;case 3:return[2]}})}).call(this)},Nt(n,[{key:"zc",get:function(){return!!this.qc&&this.qc.zc}},{key:"mnt",get:function(){return this.qc?this.qc.mnt:[]}},{key:"ynt",get:function(){return this.qc?this.qc.ynt:null}},{key:"Ant",get:function(){return this.qc?this.qc.Ant:[]}},{key:"bnt",get:function(){return this.qc?this.qc.bnt:[]}},{key:"Ca",get:function(){var t;return null!=(t=this.hu)?t:this.hu=Ex(this)}}]),n}(ih);F(),Et(),Dt(),F(),Et(),Dt();var Rx=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).od=void 0,r.od=i,r}return Ct(n,t),n}(kw),Cx=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).adBreak=void 0,r.adBreak=i,r}return Ct(n,t),n}(rh),Dx=function(t){function n(n){return t.call(this,"Pnt",n)||this}return Ct(n,t),n.prototype.xa=function(){return new Px(this.od.wnt())},n}(Rx),Px=function(t){function n(n){return t.call(this,"removeadbreak",n)||this}return Ct(n,t),n}(Cx);F(),Et(),Dt();var Nx=function(t){function n(n){return t.call(this,"xnt",n)||this}return Ct(n,t),n.prototype.xa=function(){return new Bx(this.od.wnt())},n}(Rx),Bx=function(t){function n(n){return t.call(this,"addadbreak",n)||this}return Ct(n,t),n}(Cx);F(),Et(),Dt(),F(),Et(),Dt();var xx=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).Int=void 0,r.Int=i,r}return Ct(n,t),n}(kw),Ox=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).ad=void 0,r.ad=i,r}return Ct(n,t),n}(rh),Mx=function(t){function n(n){return t.call(this,"Rnt",n)||this}return Ct(n,t),n.prototype.xa=function(){return new Lx(this.Int.wnt())},n}(xx),Lx=function(t){function n(n){return t.call(this,"addad",n)||this}return Ct(n,t),n}(Ox);F(),Et(),Dt();var Ux=function(t){function n(n){return t.call(this,"Cnt",n)||this}return Ct(n,t),n.prototype.xa=function(){return new Fx(this.od.wnt())},n}(Rx),Fx=function(t){function n(n){return t.call(this,"adbreakend",n)||this}return Ct(n,t),n}(Cx);F(),Et(),Dt();var Vx=function(t){function n(n){return t.call(this,"Dnt",n)||this}return Ct(n,t),n.prototype.xa=function(){return new Hx(this.od.wnt())},n}(Rx),Hx=function(t){function n(n){return t.call(this,"adbreakbegin",n)||this}return Ct(n,t),n}(Cx);F(),Et(),Dt();var Wx=function(t){function n(n,i){var r;return(r=t.call(this,"Bnt",n)||this).currentTime=void 0,r.currentTime=i,r}return Ct(n,t),n.prototype.xa=function(){return new zx(this.Int.wnt(),this.currentTime)},n}(xx),zx=function(t){function n(n,i){var r;return(r=t.call(this,"adbegin",n)||this).currentTime=void 0,r.currentTime=i,r}return Ct(n,t),n}(Ox);F(),Et(),Dt();var Xx=function(t){function n(n,i){var r;return(r=t.call(this,"Nnt",n)||this).currentTime=void 0,r.currentTime=i,r}return Ct(n,t),n.prototype.xa=function(){return new qx(this.Int.wnt(),this.currentTime)},n}(xx),qx=function(t){function n(n,i){var r;return(r=t.call(this,"adend",n)||this).currentTime=void 0,r.currentTime=i,r}return Ct(n,t),n}(Ox);F(),Et(),Dt();var Gx=function(t){function n(){return t.call(this,"Mnt")||this}return Ct(n,t),n.prototype.xa=function(){return new jx},n}(kw),jx=function(t){function n(){return t.call(this,"adadded")||this}return Ct(n,t),n}(rh),Qx=function(t){function n(n){var i;return(i=t.call(this,void 0)||this).oa=void 0,i.oa=n,i}return Ct(n,t),Nt(n,[{key:"BI",get:function(){return this.qc},set:function(t){var n=this.qc;if(n!==t){var i=this.mnt,r=this.ynt,e=this.Ant,s=this.bnt;null==n||n.mw(this.Rs),this.qc=t,null==t||t.lw(this.Rs);for(var u,o=this.mnt,h=this.ynt,c=this.Ant,a=this.bnt,f=[],v=!1,d=Lt(s);!(u=d()).done;){var l=u.value;ji(a,l)||f.push(new Dx(l))}for(var w,g=Lt(a);!(w=g()).done;){var _=w.value;ji(s,_)||f.push(new Nx(_))}for(var m,y=Lt(c);!(m=y()).done;){var p=m.value;ji(e,p)||(f.push(new Mx(p)),v=!0)}v&&f.push(new Gx),r!==h&&(r&&f.push(new Ux(r)),h&&f.push(new Vx(h)));for(var k,b=Lt(i);!(k=b()).done;){var A=k.value;ji(o,A)||f.push(new Xx(A,this.oa.LP()))}for(var T,S=Lt(o);!(T=S()).done;){var E=T.value;ji(i,E)||f.push(new Wx(E,this.oa.LP()))}for(var I,R=Lt(f);!(I=R()).done;){var C=I.value;this.So(C)}}}}]),n}(Ix);F(),Et(),Wt(),Dt(),Ut(),Qt(),F(),Et(),Bt(),Dt();var Yx=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).zc=!1,n.ynt=null,n.mnt=[],n.bnt=[],n.Ant=[],n.hu=void 0,n}Ct(n,t);var i=n.prototype;return i.Ent=function(t){},i.Tnt=function(t,n){},i.M6=function(t,n,i){},i.rD=function(){},i.Snt=function(t){},i.knt=function(t){},i.kn=function(){return this.Vo(),ut.resolve()},Nt(n,[{key:"Ca",get:function(){var t;return null!=(t=this.hu)?t:this.hu=Ex(this)}}]),n}(ih),Kx=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Vnt=[],n.Lnt=[],n}Ct(n,t);var i=n.prototype;return i.M6=function(t,n,i){this.Lnt.push({Ont:t,Fnt:n,Unt:i})},i.rD=function(){},i.Ent=function(t){},i.Tnt=function(t,n){this.Vnt.push({kR:t,Hnt:n})},i.knt=function(t){var n=this.Vnt.slice(),i=this.Lnt.slice();this.hr();for(var r,e=Lt(n);!(r=e()).done;){var s=r.value;t.Tnt(s.kR,s.Hnt)}for(var u,o=Lt(i);!(u=o()).done;){var h=u.value;t.M6(h.Ont,h.Fnt,h.Unt)}},i.Wnt=function(){var t=this.Lnt.map(function(t){return t.Ont});return this.hr(),t},i.hr=function(){Yi(this.Vnt),Yi(this.Lnt)},i.kn=function(){var n=this;return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return this.hr(),[4,t.prototype.kn.call(n)];case 1:return i.sent(),[2]}})}).call(this)},n}(Yx);F(),Et(),Dt();var Jx=function(t){function n(n){var i;return(i=t.call(this,"tizen2retry")||this).originalErrorEvent=void 0,i.originalErrorEvent=n,i}return Ct(n,t),n}(rh);var Zx=_i(function(){var t=dx;t=function(t){return function(n){function i(i,r){for(var e,s=new t(i,r),u=Lt(Wb);!(e=u()).done;)for(var o,h=Lt(e.value);!(o=h()).done;)s=(0,o.value)(s);return n.call(this,s)||this}return Ct(i,n),i}(Lb)}(t);var n=function(t){return function(n){function i(i,r){var e;return(e=n.call(this)||this).oa=void 0,e.qnt=void 0,e.trt=void 0,e.Gnt=void 0,e.Jnt=void 0,e.ta=void 0,e.$nt=void 0,e.irt=!0,e.M9=Cy.VL,e.yz=void 0,e.Znt=!1,e.gz=void 0,e.JW=void 0,e.Lz=void 0,e.qc=void 0,e.nrt=void 0,e.hu=void 0,e.jnt=function(t){t.type!==eh.Kw&&e.$nt.push(t)},e.ert=function(t){(t.type!==eh.uo||e.oa.hx)&&(t.type===eh.jw&&e.oa.hx||t.type===eh.$w&&e.oa.kx&&e.oa.LP()===t.currentTime||t.type===eh.Kw&&e.oa.ux===t.playbackRate||e.So(t))},e.Zx=function(t){if(e.Znt){if(t.type===Ey.SM)return;t.type!==Ey.wM&&t.type!==Ey.TM||(e.Znt=!1)}if(t.type===eh.uo){if(!e.irt)return;e.irt=!1}else if(t.type===eh.jw){if(e.irt)return;e.irt=!0}else if(t.type===Ey.wI){if(e.M9===t.readyState)return;e.M9=t.readyState}else if(t.type===eh.Iw)return;e.So(t)},e.qnt=new t(i,r),e.trt=new px,e.oa=e.qnt,e.Gnt=new Tx(e),e.qnt.Jc&&(e.qc=new Qx(e),e.qc.BI=e.qnt.Jc,e.nrt=new Kx),e.ta=new yd,e.$nt=[],e.yz=!0,e.vz(),e}Ct(i,n);var r=i.prototype;return r.lx=function(){return this.qnt.ux},r.vx=function(t){this.oa.ux=t},r.Zo=function(t,n){return Vt(function(){return zt(this,function(i){return[2,this.ta.Zo(t,n).catch(wr)]})}).call(this)},r.Xnt=function(t,n){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:dr(n),this.qnt.lw(this.jnt),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,this.qnt.Ta(t,n)];case 2:return i.sent(),[3,4];case 3:return this.qnt.mw(this.jnt),[7];case 4:return[2]}})}).call(this)},r.znt=function(){return Vt(function(){var t;return zt(this,function(n){switch(n.label){case 0:return[4,this.Qnt()];case 1:return t=n.sent(),this.Knt(t),[2]}})}).call(this)},r.Qnt=function(){return Vt(function(){var t;return zt(this,function(n){return(t=this.nu())&&!jS(t)&&this.cO&&this.hx?[2,this.Nst.HK(this.$P)]:[2,"none"]})}).call(this)},r.Knt=function(t){var n,i=(null==(n=this.nu())?void 0:n.mutedAutoplay)||this.Cd.mutedAutoplay;switch(t){case"all":this.cnt();break;case"muted":(this.$P||i===pT.ALL)&&(this.$P=!0,this.Gx())}},r.Ta=function(t){var n=this;jS(this.gz)||this.So(new oT(0,Cy.VL)),this.hr(),this.gz=t,kr(this.Zo(function(i){return Vt(function(){var n,r;return zt(this,function(e){switch(e.label){case 0:dr(i),e.label=1;case 1:return e.trys.push([1,3,4,5]),[4,this.Xnt(t,i)];case 2:return e.sent(),[3,5];case 3:return lr(n=e.sent()),this.gz=void 0,this.qq(vd(n,cd.SOURCE_NOT_SUPPORTED)),[2];case 4:return this.Ynt(this.qnt),[7];case 5:return[4,this.Qnt()];case 6:return r=e.sent(),this.So(new yx(this.nu())),this.Knt(r),[2]}})}).call(n)}))},r.OP=function(t,n){this.oa.OP(t,n)},r.HP=function(){var t;return null!=(t=this.Lz)?t:this.qnt.HP()},r.qP=function(){var t;return null!=(t=this.JW)?t:this.qnt.qP()},r.qq=function(t){void 0===this.qP()&&(this.JW=t,this.Lz=hg(t),this.So(new _b(t)))},r.Gx=function(){this.oa.Gx()},r.cnt=function(){this.$P||this.qx(),this.Gx()},r.qx=function(){this.qnt.qx()},r.zx=function(){this.oa.zx()},r.Xx=function(){this.Ta(void 0)},r.be=function(){this.yz=!0,this.oa.be()},r.we=function(){this.yz=!1,this.oa.we()},r.Ea=function(){this.qnt.Ea()},r.Ox=function(t){this.qnt.Ox(t)},r.ix=function(t){this.qnt.ix(t)},r.Ba=function(t){this.Jnt=t,t.c$(this)},r.ds=function(){return this.qnt.ds()},r.nu=function(){return this.gz},r.Wx=function(){return this.qnt.Wx()},r.LP=function(){return this.oa.LP()},r.Hst=function(){return this.oa.Hst()},r.Nd=function(){return this.qnt.Nd()},r.RP=function(){return this.qnt.RP()},r.gx=function(){return this.qnt.gx()},r.Tx=function(){return this.qnt.Tx()},r.Yx=function(){this.qnt.Yx()},r.Jx=function(){this.qnt.Jx()},r.tI=function(t){return this.qnt.tI(t)},r.hr=function(){var t=this;this.gz=void 0,this.JW=void 0,this.Lz=void 0,this.Znt=!0,Yi(this.$nt),this.trt.hr(),this.Ynt(this.trt),this.ta.Zg(),kr(this.ta.Zo(function(n){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return dr(n),[4,this.qnt.Xx()];case 1:return t.sent(),[2]}})}).call(t)}))},r.kn=function(){var t=this;this.So(new vx),this.Gnt.kn(),this._z(),this.hr(),kr(this.Zo(function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return[4,this.qnt.kn()];case 1:return t.sent(),this.Jnt&&(this.Jnt._S(this),this.Jnt=void 0),this.ta.kn(),[2]}})}).call(t)})),this.Vo()},r.Ynt=function(t){if(this.oa!==t){var n=this.oa.hx,i=this.oa.LP(),r=this.oa.ux,e=this.oa.Ax,s=this.oa.kx;this.irt=n,this.M9=e,this._z(),t.lw(this.ert),t===this.qnt?(void 0!==this.qc&&(this.qc.BI=t.Jc,this.nrt.knt(this.qc)),(s||t.LP()!==i)&&t.OP(i),t.ux!==r&&(t.ux=r),n?t.zx():t.Gx()):(void 0!==this.qc&&(this.qc.BI=this.nrt,this.nrt.hr()),this.Cd.retainPlaybackRateOnSourceChange?t.ux=r:1!==r&&this.So(new fT(this.LP(),1))),t.mw(this.ert),this.oa=t,this.vz();for(var u,o=Lt(this.$nt);!(u=o()).done;){var h=u.value;this.So(h)}Yi(this.$nt),this.yz?t.be():t.we()}},r.vz=function(){this.oa.lw(this.Zx)},r._z=function(){this.oa.mw(this.Zx)},r.xa=function(){return mx(this)},Nt(i,[{key:"jst",get:function(){return this.qnt.jst}},{key:"Jc",get:function(){return this.qc}},{key:"Gst",get:function(){return this.qnt.Gst}},{key:"Cd",get:function(){return this.qnt.Cd}},{key:"SP",get:function(){return this.qnt.SP}},{key:"Ma",get:function(){return this.qnt.Ma}},{key:"mq",get:function(){return this.qnt.mq}},{key:"zst",get:function(){return this.qnt.zst}},{key:"Ost",get:function(){return this.qnt.Ost}},{key:"Pa",get:function(){return this.qnt.Pa}},{key:"Dst",get:function(){return this.qnt.Dst}},{key:"cO",get:function(){return this.qnt.cO},set:function(t){this.qnt.cO=t,this.znt()}},{key:"Nst",get:function(){return this.qnt.Nst}},{key:"ht",get:function(){return this.qnt.ht}},{key:"VX",get:function(){return this.qnt.VX}},{key:"Wu",get:function(){return this.qnt.Ost}},{key:"Ca",get:function(){return this.hu||(this.hu=this.xa()),this.hu}},{key:"zP",get:function(){return this.qnt.zP}},{key:"jP",get:function(){return this.qnt.jP}},{key:"Vx",get:function(){return this.qnt.Vx},set:function(t){this.qnt.Vx=t}},{key:"JP",get:function(){return this.qnt.JP}},{key:"oX",get:function(){return this.qnt.oX}},{key:"nt",get:function(){return this.qnt.nt}},{key:"Ql",get:function(){return this.qnt.Ql}},{key:"rt",get:function(){return this.qnt.rt}},{key:"Vst",get:function(){return this.qnt.Vst}},{key:"_J",get:function(){return this.qnt._J}},{key:"CP",get:function(){return this.oa.CP},set:function(t){this.oa.CP=t}},{key:"bt",get:function(){return this.qnt.bt}},{key:"xe",get:function(){return this.qnt.xe}},{key:"UP",get:function(){return this.qnt.UP}},{key:"$P",get:function(){return this.qnt.$P},set:function(t){this.ix(t)}},{key:"hx",get:function(){return this.oa.hx}},{key:"gi",get:function(){return this.Gnt.Yu||""},set:function(t){this.Gnt.fnt=t}},{key:"ux",get:function(){return this.lx()},set:function(t){this.vx(t)}},{key:"mx",get:function(){return this.qnt.mx},set:function(t){this.qnt.mx=t}},{key:"Ax",get:function(){return this.oa.Ax}},{key:"Na",get:function(){return this.qnt.Na},set:function(t){this.qnt.Na=t}},{key:"kx",get:function(){return this.oa.kx}},{key:"tnt",get:function(){return this.qnt.tnt}},{key:"ent",get:function(){return this.qnt.ent}},{key:"jI",get:function(){return this.qnt.jI}},{key:"Rx",get:function(){return this.qnt.Rx}},{key:"Bx",get:function(){return this.qnt.Bx}},{key:"Mx",get:function(){return this.qnt.Mx},set:function(t){this.Ox(t)}},{key:"Fx",get:function(){return this.qnt.Fx}},{key:"Wst",get:function(){return this.qnt.Wst}},{key:"Io",get:function(){return this.qnt.Io}}]),i}(ih)}(t);return On.w_&&On.A_<3&&(n=function(t){return function(t){function n(){var n;return(n=t.apply(this,arguments)||this).rrt=0,n}Ct(n,t);var i=n.prototype;return i.Ta=function(n){this.rrt=0,t.prototype.Ta.call(this,n)},i.So=function(n){if(n.type===zm.ma&&this.rrt<3)return this.rrt++,t.prototype.So.call(this,new Jx(n)),void t.prototype.Ta.call(this,this.nu());t.prototype.So.call(this,n)},n}(t)}(n)),n=function(t){for(var n,i=t,r=Lt(Fb);!(n=r()).done;)for(var e,s=Lt(n.value);!(e=s()).done;)i=(0,e.value)(i);return i}(n),n});function $x(t,n){var i=bT(n),r=new(Zx())(t,i);r.Na=r;var e=r.Ca;return r.Ea(),r.Ba(_x),k.defineProperty(e,"constructor",{value:$x}),e=function(t){return Nw(t)}(e),function(t){for(var n,i=Lt(Xb);!(n=i()).done;)(0,n.value)(t)}(r),e}pr(function(){self.dispatchEvent&&self.dispatchEvent(wx("theoplayerready"))}),F(),Et();var tO=function(){function t(){}var n=t.prototype;return n.encode=function(t){return kh(t)},n.decode=function(t){return mh(t)},t}(),nO={base64:new tO};F(),Et();var iO=JSON.parse('["hbbtv","dash","hesp","millicast","hls","chromecast","ads","theoads","airplay","spotx","vr","cache","webaudio","youbora","mediamelon","moat","google-dai","streamone","lcevc","freewheel","agama","uplynk","mediatailor"]'),rO="10.0.0",eO=_x.Ca,sO=fp.LR.registerContentProtectionIntegration.bind(fp.LR);F(),Et(),F(),Et();var uO=function(){function t(){}var n=t.prototype;return n.HK=function(t){return ut.resolve("all")},n.qx=function(){},n.kn=function(){},t}();On.k_&&On.P_?MI(uO):MI(xI),F(),Et(),F(),Et(),Dt(),F(),Et(),Wt(),Dt(),Qt(),F(),Et(),Wt(),Qt();var oO=function(){function t(){}var n=t.prototype;return n.Xq=function(t){return Vt(function(){return zt(this,function(n){return[2,zA(t.type)]})})()},n.jq=function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,Dp(t,!0)];case 1:return n.sent()?[2,!0]:[2,!1]}})})()},t}(),hO=function(t){function n(){return t.apply(this,arguments)||this}return Ct(n,t),n.prototype.Xq=function(n){var i=this;return Vt(function(){return zt(this,function(r){return De(n.useManagedMediaSource)?[2,t.prototype.Xq.call(i,n)]:[2,!1]})})()},n}(oO);function cO(t){return OR(t)}function aO(t){var n=On.S_||On.w_,i=void 0!==t&&void 0!==t.preferredAudioCodecs&&t.preferredAudioCodecs.some(function(t){return"ac-3"===t||"ec-3"===t}),r=n&&!i,e=new Ce(!0);return function(t){return Vt(function(){var n,i,s;return zt(this,function(u){switch(u.label){case 0:return n=t.qT,e.Fp(n)||function(t,n){return!!t&&(Hv(t)?ty(n)||iy(n):Lo(t,Mv)||Lo(t,Uv)||Lo(t,Ov))}(t.oQ,t.frt)?(i=t.frt.some(function(t){return"ac-3"===t||"ec-3"===t}),r&&i?[2,!1]:t.xW?(s=t.xW,[4,er(Ji(s,function(t){return Oo(t.y8)}).filter(Un),function(t){return Vn.Sm(t,n)})]):[3,2]):[2,!1];case 1:if(!u.sent())return[2,!1];u.label=2;case 2:return[2,!0]}})})()}}F(),Et(),Wt(),Dt(),Qt(),F(),Et(),F(),Et(),Wt(),Qt(),F(),Et(),Bt();var fO=function(){function t(t){this.vrt=void 0,this.vrt=t}return Nt(t,[{key:"Mi",get:function(){return this.vrt.offsetHeight*Vn.Zs.fp}},{key:"Ti",get:function(){return this.vrt.offsetWidth*Vn.Zs.fp}}]),t}();F(),Et(),Wt(),Dt(),Qt(),F(),Et();var vO=function(){function t(t){this.RW=void 0,this.RW=t}var n=t.prototype;return n.Gq=function(t){return this.RW.Gq(t)},n.dst=function(t){return this.RW.dst(t)},n.Pq=function(t){return this.RW.Pq(t)},t}();function dO(t){var n=function(t){function n(){return t.apply(this,arguments)||this}return Ct(n,t),Nt(n,[{key:"$W",get:function(){return this.TL.$W}}]),n}(t);return n}F(),Et(),Dt(),F(),Et(),Bt(),Dt(),F(),Et(),Bt(),Dt(),F(),Et(),Bt(),Dt(),F(),Et(),Bt();var lO=function(){function t(t){this.iq=void 0,this.iq=t}var n=t.prototype;return n.CS=function(){return this.iq.Cd},n.Tx=function(){return this.iq.Sx},n.TZ=function(t){return this.iq.TZ(t)},n.EZ=function(t){return this.iq.EZ(t)},n.zg=function(){return ut.resolve()},Nt(t,[{key:"Cd",get:function(){return this.CS()}},{key:"Sx",get:function(){return this.Tx()}}]),t}(),wO=function(t){function n(n){var i;return(i=t.call(this,n)||this).P4=void 0,i.x4=void 0,i.wrt=function(t){return i.yrt(t)},i}Ct(n,t);var i=n.prototype;return i.RP=function(){return this.iq.IP},i.Nd=function(){return this.iq.ct},i._rt=function(){return this.iq.WZ},i.C4=function(t){this.iq.C4(t)},i.M4=function(t,n,i,r){this.iq.M4(t,n,i,r)},i.C3=function(){this.iq.C3()},i.A3=function(){this.iq.A3()},i.zg=function(){return this.P4&&(this.P4.zg(),this.P4=void 0),this.x4&&(this.x4.zg(),this.x4=void 0),t.prototype.zg.call(this)},i.grt=function(t){this.iq=t,this.P4?t.Q3?this.P4.prt(t.Q3):(this.P4.zg(),this.P4=void 0):t.Q3&&(this.P4=this.mrt(t.Q3),this.P4.wn(UR,this.wrt)),this.x4?t.K3?this.x4.prt(t.K3):(this.x4.zg(),this.x4=void 0):t.K3&&(this.x4=this.mrt(t.K3),this.x4.wn(UR,this.wrt))},i.xZ=function(t){this.iq.xZ(t)},i.yrt=function(t){},Nt(n,[{key:"Q3",get:function(){return this.P4}},{key:"K3",get:function(){return this.x4}},{key:"IP",get:function(){return this.RP()}},{key:"ct",get:function(){return this.Nd()}},{key:"WZ",get:function(){return this._rt()}}]),n}(lO);F(),Et(),Wt(),Bt(),Dt(),Ut(),Qt(),F(),Et(),Bt(),Dt(),F(),Et(),Bt(),Dt();var gO=function(t){function n(n){var i;return(i=t.call(this)||this).YS=void 0,i.zY=0,i.jY=0,i.YS=n,i}Ct(n,t);var i=n.prototype;return i.H2=function(t,n,i){return ut.reject(new y("Invalid media buffer"))},i.V3=function(){return ut.reject(new y("Invalid media buffer"))},i.z2=function(t,n,i){return ut.reject(new y("Invalid media buffer"))},i.WZ=function(){return!1},i.C3=function(){},i.F3=function(t,n){},i.U3=function(t,n){},i._S=function(t,n,i){return ut.resolve()},i.r3=function(t,n){return ut.reject(new y("Invalid media buffer"))},i.wO=function(t,n){return ut.reject(new y("Invalid media buffer"))},i.TZ=function(t){return!1},i.EZ=function(t){return ut.reject(new y("Invalid media buffer"))},i.zg=function(){this.Vo()},Nt(n,[{key:"UY",get:function(){return this.jY},set:function(t){this.jY=t}},{key:"IP",get:function(){return TA.iL()}},{key:"Cd",get:function(){return this.YS}},{key:"B3",get:function(){return ig.pk}},{key:"M3",get:function(){return TA.iL()}},{key:"Art",get:function(){return!1}},{key:"MY",get:function(){return this.zY},set:function(t){this.zY=t}}]),n}(th),_O=function(t){function n(n){var i;return(i=t.call(this)||this).Trt=void 0,i.xrt=function(t){return i.Zx(t)},i.Trt=n,i.Trt.wn(UR,i.xrt),i}Ct(n,t);var i=n.prototype;return i.brt=function(){return this.Trt.UY},i.Srt=function(t){this.Trt.UY=t},i.RP=function(){return this.Trt.IP},i.CS=function(){return this.Trt.Cd},i.krt=function(){return this.Trt.M3},i.Ert=function(){return this.Trt.MY},i.Prt=function(t){this.Trt.MY=t},i.H2=function(t,n,i){return this.Trt.H2(t,n,i)},i.V3=function(){return this.Trt.V3()},i.z2=function(t,n,i){return this.Trt.z2(t,n,i)},i.F3=function(t,n){this.Trt.F3(t,n)},i.U3=function(t,n){this.Trt.U3(t,n)},i._S=function(t,n,i){return this.Trt._S(t,n,i)},i.r3=function(t,n){return this.Trt.r3(t,n)},i.TZ=function(t){return this.Trt.TZ(t)},i.EZ=function(t){return this.Trt.EZ(t)},i.Zx=function(t){this.So(t)},i.zg=function(){this.Vo(),this.prt(new gO(this.Cd))},i.prt=function(t){this.Trt.mn(UR,this.xrt),this.Trt=t,this.Trt.wn(UR,this.xrt)},Nt(n,[{key:"UY",get:function(){return this.brt()},set:function(t){this.Srt(t)}},{key:"IP",get:function(){return this.RP()}},{key:"Cd",get:function(){return this.CS()}},{key:"B3",get:function(){return this.Trt.B3}},{key:"M3",get:function(){return this.krt()}},{key:"MY",get:function(){return this.Ert()},set:function(t){this.Prt(t)}}]),n}(th),mO=function(t){function n(n){var i;return(i=t.call(this,n)||this).TL=void 0,i}Ct(n,t);var i=n.prototype;return i.H2=function(t,n,i){return Vt(function(){return zt(this,function(r){switch(r.label){case 0:return dr(i),[4,this.Irt(this.TL.MP,null==n?void 0:n.xet,null==n?void 0:n.ct)];case 1:return r.sent(),dr(i),t.Km!==FR.BT?[3,3]:[4,this.Rrt(t,n,i)];case 2:case 4:return[2,r.sent()];case 3:return[4,this.Crt(t,n,i)];case 5:return[2]}})}).call(this)},i.Rrt=function(t,n,i){return Vt(function(){var r,e,s,u,o;return zt(this,function(h){switch(h.label){case 0:r=t,h.label=1;case 1:0,e=Jd(r.ck),s=e[0],u=e[1],r={Km:FR.BT,ck:s},h.label=2;case 2:return h.trys.push([2,4,,7]),[4,this.Drt(r,n,i)];case 3:return h.sent(),u.cancel(new fr).catch(di),[2];case 4:return ZI(o=h.sent())?[4,this.Irt(this.TL.MP,n.xet,n.ct,i)]:[3,6];case 5:if(h.sent())return r={Km:FR.BT,ck:u},[3,1];h.label=6;case 6:throw u.cancel(o).catch(di),o;case 7:return[3,1];case 8:return[2]}})}).call(this)},i.Crt=function(t,n,i){return Vt(function(){var r;return zt(this,function(e){switch(e.label){case 0:0,e.label=1;case 1:return e.trys.push([1,3,,6]),dr(i),[4,this.Drt(t,n,i)];case 2:return[2,e.sent()];case 3:return ZI(r=e.sent())?[4,this.Irt(this.TL.MP,n.xet,n.ct,i)]:[3,5];case 4:if(e.sent())return[3,0];e.label=5;case 5:throw r;case 6:return[3,0];case 7:return[2]}})}).call(this)},i.Irt=function(t,n,i,r){return Vt(function(){var e,s,u,o,h,c;return zt(this,function(a){switch(a.label){case 0:e=JI(t,n,i,this.IP,this.MY,this.UY),s=Lt(e),a.label=1;case 1:return(u=s()).done?[3,4]:(o=u.value,h=o[0],c=o[1],[4,this.Brt(h,c,r)]);case 2:a.sent(),a.label=3;case 3:return[3,1];case 4:return[2,e.length>0]}})}).call(this)},i.Drt=function(n,i,r){return t.prototype.H2.call(this,n,i,r)},i.Brt=function(n,i,r){return t.prototype._S.call(this,n,i,r)},Nt(n,[{key:"ost",get:function(){return this.TL},set:function(t){this.TL=t}}]),n}(_O),yO=function(t){function n(n){var i;return(i=t.call(this,n)||this).TL=void 0,i.grt(n),i}return Ct(n,t),n.prototype.mrt=function(t){var n=new mO(t);return n.ost=this.TL,n},Nt(n,[{key:"ost",get:function(){return this.TL},set:function(t){this.TL=t,this.P4&&(this.P4.ost=t),this.x4&&(this.x4.ost=t)}}]),n}(wO);F(),Et(),Bt(),Dt();var pO=function(t){function n(){return t.apply(this,arguments)||this}return Ct(n,t),Nt(n,[{key:"mx",get:function(){return this.iq.mx},set:function(t){this.iq.mx=t}}]),n}(lO);function kO(t){var n=function(t){function n(){return t.apply(this,arguments)||this}return Ct(n,t),n.prototype.Wx=function(){return this.TL.Wx()},Nt(n,[{key:"$W",get:function(){return this.TL.$W}},{key:"Bx",get:function(){return this.TL.Bx}},{key:"Rx",get:function(){return this.TL.Rx}}]),n}(t);return n}F(),Et(),Bt(),Dt(),F(),Et(),Bt(),Dt(),F(),Et(),Wt(),Bt(),Dt(),Qt();var bO=function(t){function n(n){var i;return(i=t.call(this)||this).TL=void 0,i.iq=void 0,i.Vrt=new Zb,i.jrt=function(t){return i.Zx(t)},i.TL=n,i.Vrt.BI=n.nt,i.TL.wn(BR,i.jrt),i}Ct(n,t);var i=n.prototype;return i.RP=function(){return this.TL.IP},i.DP=function(){return this.TL.CP},i.LP=function(){return this.TL.MP},i.Nd=function(){return this.TL.ct},i.Mrt=function(){return this.TL.nq},i.Lrt=function(){return this.TL.UP},i.Hx=function(){return this.TL.Ma},i.Aa=function(){return this.TL.mq},i.Ort=function(){return this.TL.hx},i.gx=function(){return this.TL._x},i.bx=function(){return this.TL.Ax},i.Tx=function(){return this.TL.Sx},i.Ex=function(){return this.TL.kx},i.Frt=function(){return this.TL.Y4},i.Urt=function(){return this.TL.a5},i.Ix=function(){return this.Vrt},i.att=function(){return this.TL.Ql},i.Hrt=function(){return this.TL.Eq},i.Wrt=function(t){this.TL.Eq=t},i.qrt=function(t){this.TL.N9=t},i.zrt=function(){return this.TL.p8},i.ZP=function(){return this.TL.ZP()},i.Gx=function(){return this.TL.Gx()},i.zx=function(){this.TL.zx()},i.My=function(t,n,i){this.TL.My(t,n,i)},i.KW=function(t){this.TL.KW(t)},i.be=function(){this.TL.be()},i.we=function(){this.TL.we()},i.tI=function(t,n,i,r,e,s,u,o){return this.TL.tI(t,n,i,r,e,s,u,o)},i.wq=function(t){return this.TL.wq(t)},i.vq=function(){return this.TL.vq()},i.gq=function(t,n,i,r,e){return this.TL.gq(t,n,i,r,e)},i.iV=function(t){this.TL.iV(t)},i.Aq=function(){this.TL.Aq()},i.QZ=function(t){return this.TL.QZ(t)},i.Un=function(t){return Vt(function(){var n,i;return zt(this,function(r){switch(r.label){case 0:return[4,this.TL.Un(t)];case 1:return n=r.sent(),i=t.Km===Sy.mV?this.Grt(n):this.Xrt(n),this.iq=i,[2,i]}})}).call(this)},i.hr=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.iq?[4,this.iq.zg()]:[3,2];case 1:t.sent(),this.iq=void 0,t.label=2;case 2:return[4,this.TL.hr()];case 3:return t.sent(),[2]}})}).call(this)},i.C8=function(){return this.TL.C8()},i.x9=function(){this.TL.x9()},i.I9=function(){this.TL.I9()},i.zg=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.Vo(),this.TL.mn(BR,this.jrt),this.Vrt.BI=void 0,this.Vrt.kn(),this.iq?[4,this.iq.zg()]:[3,2];case 1:t.sent(),this.iq=void 0,t.label=2;case 2:return[2]}})}).call(this)},i.D9=function(){this.TL.D9()},i.Qrt=function(t){this.TL.mn(BR,this.jrt),this.TL=t,this.Vrt.BI=t.nt,this.TL.wn(BR,this.jrt)},i.Zx=function(t){this.So(t)},Nt(n,[{key:"Nrt",get:function(){return this.TL}},{key:"IP",get:function(){return this.RP()}},{key:"CP",get:function(){return this.DP()}},{key:"MP",get:function(){return this.LP()}},{key:"Wu",get:function(){return this.TL.Wu}},{key:"ct",get:function(){return this.Nd()}},{key:"nq",get:function(){return this.Mrt()}},{key:"UP",get:function(){return this.Lrt()}},{key:"lt",get:function(){return this.TL.lt}},{key:"Mi",get:function(){return this.TL.Mi}},{key:"Ti",get:function(){return this.TL.Ti}},{key:"Ma",get:function(){return this.Hx()}},{key:"mq",get:function(){return this.Aa()}},{key:"$P",get:function(){return this.TL.$P},set:function(t){this.TL.$P=t}},{key:"hx",get:function(){return this.Ort()}},{key:"ux",get:function(){return this.TL.ux},set:function(t){this.TL.ux=t}},{key:"_x",get:function(){return this.gx()}},{key:"Ax",get:function(){return this.bx()}},{key:"Sx",get:function(){return this.Tx()}},{key:"kx",get:function(){return this.Ex()}},{key:"Y4",get:function(){return this.Frt()}},{key:"a5",get:function(){return this.Urt()}},{key:"nt",get:function(){return this.Ix()}},{key:"Ql",get:function(){return this.att()}},{key:"i7",get:function(){return this.TL.i7}},{key:"Mx",get:function(){return this.TL.Mx},set:function(t){this.TL.Mx=t}},{key:"R9",get:function(){return this.TL.R9}},{key:"KP",get:function(){return this.TL.KP}},{key:"CL",get:function(){return this.TL.CL}},{key:"Eq",get:function(){return this.Hrt()},set:function(t){this.Wrt(t)}},{key:"N9",get:function(){return this.TL.N9},set:function(t){this.qrt(t)}},{key:"p8",get:function(){return this.zrt()}}]),n}(th),AO=function(t){function n(n){return t.call(this,n)||this}Ct(n,t);var i=n.prototype;return i.B9=function(t){this.TL.B9(t)},i.Yx=function(){this.TL.Yx()},Nt(n,[{key:"Nrt",get:function(){return this.TL}},{key:"$W",get:function(){return this.TL.$W}},{key:"n5",get:function(){return this.TL.n5}},{key:"Vx",get:function(){return this.TL.Vx},set:function(t){this.TL.Vx=t}}]),n}(bO),TO=function(t){function n(){return t.apply(this,arguments)||this}Ct(n,t);var i=n.prototype;return i.Xrt=function(t){var n=new yO(t);return n.ost=this,n},i.Grt=function(t){return new pO(t)},n}(AO),SO=function(t){function n(n){return t.call(this,n)||this}return Ct(n,t),n}(dO(TO)),EO=function(t){function n(n){return t.call(this,n)||this}return Ct(n,t),n}(kO(TO)),IO=function(t){function n(){return t.apply(this,arguments)||this}Ct(n,t);var i=n.prototype;return i.Gq=function(n){return n===ig.Bk?new EO(t.prototype.Gq.call(this,n)):n===ig.Dk?new SO(t.prototype.Gq.call(this,n)):void 0},i.Pq=function(n){var i=this;return Vt(function(){var r;return zt(this,function(e){switch(e.label){case 0:return[4,(r=n).zg()];case 1:return e.sent(),[4,t.prototype.Pq.call(i,r.Nrt)];case 2:return e.sent(),[2]}})})()},n}(vO);F(),Et();var RO=function(){function t(t){var n=this;this.oa=void 0,this.Yrt=function(t){t.persisted&&n.Krt()},this.oa=t,f.addEventListener("pageshow",this.Yrt)}var n=t.prototype;return n.Krt=function(){this.oa.Jx()},n.kn=function(){f.removeEventListener("pageshow",this.Yrt)},t}();F(),Et(),Wt(),Bt(),Dt(),Ut(),Qt(),F(),Et(),Wt(),Bt(),Dt(),Ut(),Qt(),F(),Et(),Wt(),Bt(),Ut(),Qt(),F(),Et(),F(),Et();var CO=function(){function t(t){this.tht=void 0,this.tht=t}var n=t.prototype;return n.Jrt=function(t,n,i){return ut.resolve()},n.Zrt=function(t,n,i,r){var e=[];if(r){var s={yU:n.EO,AU:n.PO,bU:i.$rt.bU};r.Km===Dg.TTML?e=Cm(t,r,s,i.oQ):r.Km===Dg.WEBVTT&&(e=D_(t,s,this.tht).L)}return e},n.hr=function(){},t}();F(),Et(),Ut(),F(),Et(),Ut(),F(),Et();var DO,PO=function(t){return t.TC="vttc",t.iht="vsid",t.eht="iden",t.sht="ctim",t.nht="sttg",t.rht="payl",t.hht="vtte",t.oht="vtta",t}({}),NO=function(){function t(){}return t.aht=function(n){return Boolean(t.uht[n])},t.TD=function(n){for(var i,r=[],e=Lt(lm.aD(new am(n,new Tc)));!(i=e()).done;){var s=i.value;t.aht(s.Km)&&r.push(t.uht[s.Km](s.ck))}return r},t.cht=function(n){var i=lm.aD(n),r=gm(i,PO.iht),e=gm(i,PO.eht),s=gm(i,PO.sht),u=gm(i,PO.nht),o=gm(i,PO.rht);return{Km:PO.TC,dht:r?t.fht(r):void 0,vht:e?t._ht(e):void 0,ght:s?t.pht(s):void 0,mht:u?t.wht(u):void 0,yht:o?t.Aht(o):void 0}},t.fht=function(t){return{Km:PO.iht,bht:t.$C()}},t._ht=function(t){return{Km:PO.eht,vht:t.nD()}},t.pht=function(t){return{Km:PO.sht,Sht:t.nD()}},t.wht=function(t){return{Km:PO.nht,Tht:t.nD()}},t.Aht=function(t){return{Km:PO.rht,kht:t.nD()}},t.Eht=function(t){return{Km:PO.hht}},t.Pht=function(t){return{Km:PO.oht,xht:t.nD()}},t}();NO.uht=((DO={})[PO.TC]=NO.cht,DO[PO.hht]=NO.Eht,DO[PO.oht]=NO.Pht,DO);var BO=function(){function t(){this.Rht=NaN}var n=t.prototype;return n.Jrt=function(t,n,i){var r=new DataView(t.Iht),e=ym.TD(r),s=Ui(e,function(t){return t.Km===um.OR});return s&&(this.Rht=s.Z[0].KD.gD.qD),ut.resolve()},n.Zrt=function(t,n,i){if(S(this.Rht))return[];var r=_c(t),e=ym.TD(r),s=vm(e,um.IC),u=vm(e,um.OC);if(!s||0===s.Z.length||!u)return[];var o=function(t,n,i){for(var r,e=t.Z[0],s=e.GN?e.GN.GN.toNumber()/i:n.EO,u=[],o=Lt(e.zN);!(r=o()).done;){var h,c=r.value;(h=u).push.apply(h,[].concat(c.JN))}return{Cht:s,JN:u}}(s,n,this.Rht),h=i.$rt.bU;return function(t,n,i,r){for(var e=NO.TD(_c(n.ck)),s=t.JN,u=t.Cht+r,o=[],h=0,c=0;c<s.length;c++){var a,f=s[c],v=e[c],d=(null!=(a=f.ct)?a:0)/i,l=void 0;v.Km===PO.TC&&(l=xO(v,h,d,u)),l&&o.push(l),h+=d}return o}(o,u,this.Rht,h)},n.hr=function(){this.Rht=NaN},t}();function xO(t,n,i,r){if(t.yht){var e=t.ght?function(t){return W_(t.Sht,new Tc(0))}(t.ght):n,s=r+e,u=s+i,o=t.yht.kht;return new Jg(s,u,o,!1)}}F(),Et(),Wt(),Bt(),Dt(),Ut(),Qt(),F(),Et();var OO,MO=function(t){return t[t.Qz=0]="Qz",t[t.Dht=1]="Dht",t[t.Bht=10]="Bht",t[t.Nht=11]="Nht",t[t.Mht=12]="Mht",t[t.Lht=13]="Lht",t[t.Oht=14]="Oht",t[t.Fht=15]="Fht",t[t.Uht=20]="Uht",t[t.Vht=21]="Vht",t[t.Hht=22]="Hht",t[t.Wht=23]="Wht",t[t.qht=24]="qht",t[t.zht=30]="zht",t[t.Ght=31]="Ght",t[t.Xht=32]="Xht",t[t.jht=33]="jht",t[t.Qht=34]="Qht",t[t.Kht=35]="Kht",t[t.Yht=40]="Yht",t[t.Jht=41]="Jht",t[t.Zht=42]="Zht",t[t.$ht=43]="$ht",t[t.tot=44]="tot",t[t.iot=50]="iot",t[t.eot=51]="eot",t[t.rot=52]="rot",t[t.hot=60]="hot",t[t.oot=61]="oot",t[t.aot=62]="aot",t[t.uot=63]="uot",t[t.cot=70]="cot",t[t.dot=71]="dot",t[t.lot=72]="lot",t[t.fot=73]="fot",t[t.vot=74]="vot",t[t._ot=75]="_ot",t[t.got=76]="got",t[t.pot=77]="pot",t[t.mot=90]="mot",t[t.wot=91]="wot",t}({});(OO={})[0]="Failed because",OO[1]="Created",OO[10]="Starting because unknown reason",OO[11]="Starting because new track loading",OO[12]="Starting because manifest changed",OO[13]="Starting because seek",OO[14]="Starting because timeupdate",OO[15]="Starting because buffering is being resumed",OO[20]="Interrupting because unknown reason",OO[21]="Interrupting because segment has a gap",OO[22]="Interrupting because segment is missing",OO[23]="Interrupting because seeking",OO[24]="Interrupting because buffer is full",OO[30]="Pausing because unknown reason",OO[31]="Pausing because target buffer reached",OO[32]="Pausing because no target time",OO[33]="Pausing because no segment selected",OO[34]="Pausing because end of stream is reached",OO[35]="Pausing because initialization segment is missing",OO[40]="Stopping because unknown reason",OO[41]="Stopping because manifest went offline",OO[42]="Stopping because seeking",OO[43]="Stopping because buffering is being paused",OO[44]="Stopping because unload",OO[50]="Resetting because unknown reason",OO[51]="Resetting because player was reset",OO[52]="Resetting because disallowed segment was added",OO[63]="Marking gap at",OO[60]="Target time is",OO[70]="[Selection 1] Select nothing if the target time has already been appended.",OO[71]="[Selection 2] Select nothing if the time-based lookup failed.",OO[72]="[Selection 3] If the segment has not been appended, select time-based lookup.",OO[73]="[Selection 4A] Select the first unappended segment that occurs before the segment.",OO[74]="[Selection 4B] Notify gap if no previous segment is available.",OO[75]="[Selection 5A] Select the first unappended segment that occurs after the segment.",OO[76]="[Selection 5B] Select nothing if no next segment is available.",OO[77]="[Selection 6] Unreachable",OO[61]="Selected segment is",OO[62]="Appended segment is",OO[90]="Test setup",OO[91]="Test";function LO(t,n){var i=n.XM(function(n,i){return t.qM(n,i,!1,!1)});return t.OM(i)}function UO(t,n){var i=n.Mn(t.BM()).XM(function(n,i){return t.Cr(i)});return t.OM(i)}F(),Et(),F(),Et(),F(),Et(),Wt(),Bt(),Dt(),H(),Ut(),Qt(),F(),Et();var FO=function(t){return t.yot="Aot",t.bot="Sot",t}({});F(),Et(),Dt();var VO=function(t){function n(n,i,r){var e;return(e=t.call(this,"Tot")||this).Tn=void 0,e.An=void 0,e.kot=void 0,e.Tn=n,e.An=i,e.kot=r,e}return Ct(n,t),n}(ar),HO=function(t){function n(){return t.call(this,"Eot")||this}return Ct(n,t),n}(rh),WO=[eh.oy,eh.ly,eh.iy,eh.Sw],zO=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this)||this).fat=void 0,u.Kot=void 0,u.Dot=void 0,u.Iot=void 0,u.M8=void 0,u.Not=void 0,u.JW=void 0,u.Hot=void 0,u.Zot=void 0,u.Uot=void 0,u.Je=void 0,u.bd=void 0,u.fat=n,u.Kot=i,u.Dot=r,u.Iot=e,u.M8=s,u.Not="Wot",u.JW=void 0,u.Hot=new Vc,u.Zot=new hr,u.Uot=new hr,u.Je=function(t){u.Oot||u.Xot||(!Vn.pP&&u.Iot.vat(t.currentTime)||(u.Zot.Zg(),u.Zot=new hr,_r(u.dat(u.Zot.Yg),u.Zot).catch(wr)))},u.bd=wi(function(){if(u.Fot){try{if(u.Iot._at(),u.Iot.gat())return}catch(t){if(!V(t,VO))throw t}u.Tn(MO.Oht)}},250),u.Qot(),u}Ct(n,t);var i=n.prototype;return i.Mot=function(t){this.Not!==t&&(this.Not=t,this.So(new HO))},i.Tn=function(t){return Vt(function(){var t;return zt(this,function(n){switch(n.label){case 0:return this.Oot||this.Fot?(t=this.ww("Eot"),this.Oot?(this.Uot.Zg(),this.Uot=new hr,_r(this.Vot(this.Uot.Yg),this.Uot)):(this.Hot.Xy(void 0),this.Hot=new Vc),[4,t]):[2];case 1:return n.sent(),[2]}})}).call(this)},i.Xx=function(t){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:if(!this.zot&&!this.Fot)return[2];0,this.Uot.Zg(),t.label=1;case 1:return this.Oot||this.Xot?[3,3]:[4,this.ww("Eot")];case 2:return t.sent(),[3,1];case 3:return[2]}})}).call(this)},i.hr=function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return this.Xot?(this.JW=void 0,this.Mot("Wot"),[3,3]):[3,1];case 1:return[4,this.Xx(t)];case 2:n.sent(),n.label=3;case 3:return this.Iot.hr(),this.Dot.hr(),[2]}})}).call(this)},i.qq=function(t){this.JW=t,this.Mot("jot"),this.So(new _b(t))},i.Qot=function(){this.M8.wn(eh._y,this.bd),this.M8.wn([eh.$w,eh.Fw],this.Je),this.Iot.wn(WO,this.Rs),this.Kot.wn(FO.yot,this.bd)},i.Yot=function(){this.M8.mn(eh._y,this.bd),this.M8.mn([eh.$w,eh.Fw],this.Je),this.Iot.mn(WO,this.Rs),this.Kot.mn(FO.yot,this.bd)},i.Jot=function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return this.Yot(),this.Zot.Zg(),[4,this.Xx(null!=t?t:MO.$ht)];case 1:return n.sent(),this.Iot.hr(),[2]}})}).call(this)},i.$ot=function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return this.Qot(),[4,this.Tn(null!=t?t:MO.Fht)];case 1:return n.sent(),[2]}})}).call(this)},i.iat=function(t,n,i){var r,e=function(){var t=s.value;t.sat<=i&&n<=t.nat&&r.Kot.rat.some(function(n){return n.o===t.oat})&&r.Dot.aat(t)};if(this.Oot)for(var s,u=Lt(t.Dot.eat());!(s=u()).done;)r=this,e()},i.kn=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.Vo(),this.Yot(),this.Zot.Zg(),[4,this.Xx(MO.tot)];case 1:return t.sent(),this.Iot.kn(),[2]}})}).call(this)},i.Vot=function(t){return Vt(function(){var n,i;return zt(this,function(r){switch(r.label){case 0:0,r.label=1;case 1:return r.trys.push([1,4,,5]),dr(t),this.Mot("Got"),[4,this.Iot.uat(t)];case 2:return r.sent(),dr(t),this.Mot("qot"),[4,gr(this.Hot.Qy,t)];case 3:return r.sent(),[3,5];case 4:return vr(n=r.sent())?this.Mot("Wot"):(i=V(n,fd)?n:new fd(cd.MEDIA_LOAD_ERROR,n.message,n),this.qq(i)),[3,6];case 5:return[3,0];case 6:return[2]}})}).call(this)},i.dat=function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return dr(t),[4,this.Xx(MO.Zht)];case 1:return n.sent(),this.Iot.hr(),dr(t),[4,this.Tn(MO.Lht)];case 2:return n.sent(),[2]}})}).call(this)},Nt(n,[{key:"Pot",get:function(){var t,n;return(null==(t=this.Iot.xot)?void 0:t.kot)||(null==(n=this.Iot.Rot)?void 0:n.kot)}},{key:"Cot",get:function(){return this.Dot}},{key:"Bot",get:function(){return this.Iot.Bot},set:function(t){this.Iot.Bot=t}},{key:"hk",get:function(){return this.Not}},{key:"Lot",get:function(){return this.Dot.Ht.Lot}},{key:"lt",get:function(){return this.JW}},{key:"Oot",get:function(){return"Wot"===this.Not}},{key:"Fot",get:function(){return"qot"===this.Not}},{key:"zot",get:function(){return"Got"===this.Not}},{key:"Xot",get:function(){return"jot"===this.Not}}]),n}(th);F(),Et(),Wt(),Qt(),F(),Et();var XO=function(){function t(t,n){this.nV=void 0,this.Tat=void 0,this.nV=t,this.Tat=n}var n=t.prototype;return n.pat=function(t,n){return this.mat(t,!1,n)},n.wat=function(t,n){return this.mat(t,!0,n)},n.mat=function(n,i,r){return Vt(function(){var e;return zt(this,function(s){switch(s.label){case 0:return dr(r.Yg),[4,this.yat(n,i,r)];case 1:return(e=s.sent()).QT?[2,t.Aat(e)]:[2,this.bat(e)]}})}).call(this)},n.bat=function(t){return t},n.yat=function(t,n,i){var r,e=new pl({Yu:t.Yu,dk:Md.CT,fk:t.Sat?{Range:"bytes="+t.Sat[0]+"-"+(null!=(r=t.Sat[1])?r:"")}:void 0,zk:t.zk,Uk:wl.GET,Km:gl.yk,Wk:n?_l.Sk:_l.pk,qk:this.Tat,Vk:i.Eat,Hk:i.Hk,Yg:i.Yg,jk:i.jk});return this.nV.lk(e)},t.Aat=function(t){return t},t}();F(),Et(),Bt(),F(),Et();var qO=function(){function t(t){this.xat=void 0,this.yet=0,this.Iat=0,this.xat=b.exp(b.log(.5)/t)}var n=t.prototype;return n.Pat=function(t,n){var i=b.pow(this.xat,t),r=n*(1-i)+i*this.yet;S(r)||(this.yet=r,this.Iat+=t)},n.Rat=function(){var t=1-b.pow(this.xat,this.Iat);return this.yet/t},t}(),GO=function(){function t(t,n,i){void 0===t&&(t=2),void 0===n&&(n=5),void 0===i&&(i=128e3),this.Dat=void 0,this.Bat=void 0,this.Cat=0,this.Lat=void 0,this.Mat=yb,this.Dat=new qO(t),this.Bat=new qO(n),this.Lat=i}var n=t.prototype;return n.Pat=function(t,n){var i=8e3*n/t,r=t/1e3;this.Cat+=n,this.Dat.Pat(r,i),this.Bat.Pat(r,i)},n.Rat=function(){return this.Nat()?b.min(this.Dat.Rat(),this.Bat.Rat()):this.Mat},n.Nat=function(){return this.Cat>=this.Lat},t}(),jO=function(){function t(t,n){this.Hat=void 0,this.Fat=void 0,this.Xat=void 0,this.Hat=n,n&&rg(t)?t===ig.Bk?(this.Xat=5e3,this.Fat=new GO(.05,1,0)):(this.Xat=0,this.Fat=new GO(.005,.1,0)):(this.Xat=16e3,this.Fat=new GO)}return t.prototype.Uat=function(t){var n=t.Vat,i=this.Hat?t.Wat-t.qat:t.Wat-t.zat,r=t.Gat;!r&&n<this.Xat||(r?this.Fat.Pat(2*i,n):this.Fat.Pat(i,n))},Nt(t,[{key:"Oat",get:function(){return this.Fat.Rat()}},{key:"Nat",get:function(){return this.Fat.Nat()}}]),t}();F(),Et(),Wt(),Dt(),Qt(),F(),Et(),Bt(),F(),Et();var QO=function(){function t(t){this.ef=void 0,this.ef=t}var n=t.prototype;return n.transform=function(t,n){this.ef.write(t).catch(di),n.enqueue(t)},n.flush=function(){this.ef.close().catch(di)},t}(),YO=function(){function t(t,n,i){this.Iht=void 0,this.Qat=void 0,this.Kat=void 0,this.Iht=t,this.Qat=n,this.Kat=i}return t.prototype.jat=function(){return new KO(Qd(this.Iht),this.Qat,this.Kat)},t}(),KO=function(){function t(t,n,i){this.Yat=void 0,this.Qat=void 0,this.Kat=void 0,this.Yat=t,this.Qat=n,this.Kat=i}var n=t.prototype;return n.HT=function(t){return Yd(this.Yat,t)},n.Ly=function(){var n=Jd(this.Yat),i=n[0],r=n[1];return this.Yat=i,new t(r,this.Qat,this.Kat)},n.Jat=function(){var n=function(t){var n=new qd,i=n.writable.getWriter(),r=new qd(new QO(i));return t.pipeTo(r.writable).catch(function(t){i.abort(t).catch(di)}),[r.readable,n.readable]}(this.Yat),i=n[0],r=n[1];return this.Yat=i,new t(r,this.Qat,this.Kat)},n.Zat=function(t){var n=this;return this.HT(t).then(function(t){return new YO(t,n.Qat,n.Kat)})},Nt(t,[{key:"WT",get:function(){return this.Yat}}]),t}();F(),Et(),Dt();var JO=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).$at=void 0,e.$at=n,e}return Ct(n,t),n}(ar),ZO="Cache lookup failed.",$O=function(t){function n(n){var i;return(i=t.call(this)||this).eut=void 0,i.eut=n,i}Ct(n,t);var i=n.prototype;return i.tut=function(t,n){return Vt(function(){var i,r;return zt(this,function(e){switch(e.label){case 0:return dr(n),[4,this.eut.iut(t.Yu.Yu,t.Yu.Sat)];case 1:if(i=e.sent(),dr(n),!i)throw new JO(t,ZO);return r=new YO(i.buffer,i.byteLength,i.reference),[2,{$at:t.$at,sut:{Km:FR.vZ,ck:r},kot:t.kot,Yu:t.Yu}]}})}).call(this)},i.nut=function(t,n){return Vt(function(){var i,r;return zt(this,function(e){switch(e.label){case 0:return dr(n),[4,this.eut.iut(t.Yu,t.Sat)];case 1:if(i=e.sent(),dr(n),!i)throw new JO(t,ZO);return r=new YO(i.buffer,i.byteLength,i.reference),[2,{Km:FR.vZ,ck:r}]}})}).call(this)},i.kn=function(){this.Vo()},n}(th);F(),Et(),Wt(),Dt(),Ut(),Qt();var tM=["uy","vy"],nM=function(t){function n(n){var i;(i=t.call(this)||this).rut=void 0,i.rut=n;for(var r,e=Lt(i.rut);!(r=e()).done;){r.value.wn(tM,i.Rs)}return i}Ct(n,t);var i=n.prototype;return i.tut=function(t,n){return Vt(function(){var i,r,e,s,u;return zt(this,function(o){switch(o.label){case 0:r=Lt(this.rut),o.label=1;case 1:if((e=r()).done)return[3,6];s=e.value,o.label=2;case 2:return o.trys.push([2,4,,5]),[4,s.tut(t,n)];case 3:return[2,o.sent()];case 4:return lr(u=o.sent()),i=u,[3,5];case 5:return[3,1];case 6:throw i}})}).call(this)},i.nut=function(t,n){return Vt(function(){var i,r,e,s,u;return zt(this,function(o){switch(o.label){case 0:r=Lt(this.rut),o.label=1;case 1:if((e=r()).done)return[3,6];s=e.value,o.label=2;case 2:return o.trys.push([2,4,,5]),[4,s.nut(t,n)];case 3:return[2,o.sent()];case 4:return lr(u=o.sent()),i=u,[3,5];case 5:return[3,1];case 6:throw i}})}).call(this)},i.kn=function(){for(var t,n=Lt(this.rut);!(t=n()).done;){var i=t.value;i.mn(tM,this.Rs),i.kn()}},n}(th);function iM(t){return Yn(t.hut)}function rM(t){return iM(t)?t.hut:t.aut}F(),Et(),Wt(),Dt(),Qt(),F(),Et(),F(),Et(),Dt(),F(),Et(),Dt();var eM=function(t){function n(n,i,r,e,s,u){var o;return(o=t.call(this,n)||this).uut=void 0,o.BX=void 0,o.VN=void 0,o.$D=void 0,o.qk=void 0,o.uut=i,o.BX=r,o.VN=e,o.$D=s,o.qk=u,o}return Ct(n,t),n}(rh),sM=function(t){function n(n,i,r,e,s){return t.call(this,eh.oy,n,i,r,e,s)||this}return Ct(n,t),n}(eM);F(),Et(),Bt(),Dt(),F(),Et(),Bt(),Dt();var uM=function(t,n){this.cut=void 0,this.lut=void 0,this.cut=t,this.lut=n},oM=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).fut=0,n}Ct(n,t);var i=n.prototype;return i.start=function(){},i.transform=function(t,n){this.fut+=t.byteLength,n.enqueue(t)},i.flush=function(){this.vut(!1)},i.Zg=function(){this.vut(!0)},i.vut=function(t){this.cut(this.lut,Vn.Mg(),this.Vat,t)},Nt(n,[{key:"Vat",get:function(){return this.fut}}]),n}(uM),hM=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).fut=0,n._ut=!1,n.yut=void 0,n.Aut=void 0,n}Ct(n,t);var i=n.prototype;return i.start=function(){this.lut=Vn.Mg()},i.transform=function(t,n){this.fut+=t.byteLength,this._ut||this.gut(t)&&this.vut(!1),n.enqueue(t)},i.flush=function(){},i.Zg=function(){this.vut(!0)},i.gut=function(t){var n=this.mut(t),i=this.wut(n);return Boolean(Ui(i,cM))},i.mut=function(t){return this.yut&&void 0!==this.Aut?(this.yut=Nc([this.yut,t]),new am(_c(this.yut),new Tc(this.Aut))):(this.yut=t,new am(_c(t),new Tc))},i.wut=function(t){var n=lm.uD(t.ck,t.KC,!0);return n.cD?(this.yut=void 0,this.Aut=void 0):this.Aut=t.KC.ac,n.m},i.vut=function(t){this._ut||(this.cut(this.lut,Vn.Mg(),this.Vat,t),this._ut=!0)},Nt(n,[{key:"Vat",get:function(){return this.fut}}]),n}(uM);function cM(t){return t.Km===um.OC}var aM=function(){function t(t){var n=this;this.xut=void 0,this.kut=void 0,this.Sut=void 0,this.Uat=void 0,this.xut=t,this.kut=new Vc,this.Uat=function(t,i,r,e){var s={zat:n.Sut,qat:t,Wat:i,Vat:r,Gat:e};n.xut.Uat(s),n.xut.Nat&&pb.Ng.cW(n.xut.Oat)},this.kut.Qy.catch(di),this.Sut=Vn.Mg()}var n=t.prototype;return n.but=function(t){var n=t._k?this.Sut:Vn.Mg(),i=this.Tut(n),r=new qd(i),e=t.WT().pipeTo(r.writable).then(function(){return{JP:{Vat:i.Vat}}},function(t){throw i.Zg(),t});return this.kut.$g(e),r.readable},n.Eut=function(t){var n=this,i=t._k?this.Sut:Vn.Mg(),r=t.HT(),e=r.then(function(t){var r=Vn.Mg();return n.Uat(i,r,t.byteLength,!1),{JP:{Vat:t.byteLength}}},function(t){var r=Vn.Mg();throw n.Uat(i,r,0,!0),t});return this.kut.$g(e),r},Nt(t,[{key:"Put",get:function(){return this.kut.Qy}}]),t}(),fM=function(t){function n(){return t.apply(this,arguments)||this}return Ct(n,t),n.prototype.Tut=function(t){return new oM(this.Uat,t)},n}(aM),vM=function(t){function n(){return t.apply(this,arguments)||this}return Ct(n,t),n.prototype.Tut=function(t){return new hM(this.Uat,t)},n}(aM);F(),Et(),Dt();var dM=function(t){function n(n,i,r,e,s,u,o){var h;return(h=t.call(this,eh.ly,n,i,r,e,s)||this).Iut=void 0,h.rO=void 0,h.Iut=u,h.rO=o,h}return Ct(n,t),n}(eM);F(),Et(),Dt();var lM=function(t){function n(n,i,r){var e;return(e=t.call(this,"Error downloading segment "+rM(i),n)||this).Rut=void 0,e.Cut=void 0,e.Dut=void 0,e.Rut=i.EO,e.Cut=i.PO,e.Dut=r,e}return Ct(n,t),n}(ar),wM=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Mut=void 0,e.xut=void 0,e.Hat=void 0,e.Mut=n,e.xut=i,e.Hat=r,e}Ct(n,t);var i=n.prototype;return i.But=function(){return this.Hat?new vM(this.xut):new fM(this.xut)},i.tut=function(t,n){return Vt(function(){var i,r,e,s,u,o,h,c,a,f;return zt(this,function(v){switch(v.label){case 0:dr(n),i=t.kot,r=t.Yu,e=t.$at,s=rM(e),u=i.kot?i.kot.jI:-1,o=function(t){var n,i=t.kot;n=i===function(t){return t.rat.reduce(function(t,n){return t.kW<n.kW?t:n})}(i.Nut)?fe(5*t.$at.ct):fe(1.2*t.$at.ct);return Ti(n,1e3,18e3)}(t),this.So(new sM(r,i.kW,s,u,i.Km)),v.label=1;case 1:return v.trys.push([1,4,,5]),h=this.But(),[4,this.Mut.pat(r,{jk:this.Hat,Eat:o,Yg:n})];case 2:return c=v.sent(),[4,this.Lut(c,c.QT,n,h)];case 3:return a=v.sent(),kr(this.Out(h.Put,i,r,s,u,c)),[2,{sut:a,kot:i,$at:e,Yu:r}];case 4:throw lr(f=v.sent()),new lM(f,e,i);case 5:return[2]}})}).call(this)},i.nut=function(t,n){return Vt(function(){var i,r;return zt(this,function(e){switch(e.label){case 0:return dr(n),i=!1,[4,this.Mut.wat(t,{jk:i,Eat:1e4,Yg:n})];case 1:return r=e.sent(),[4,this.Lut(r,i,n)];case 2:return[2,e.sent()]}})}).call(this)},i.Lut=function(t,n,i,r){return Vt(function(){var e,s,u;return zt(this,function(o){switch(o.label){case 0:return n?(e=r?r.but(t):t.WT(),[2,{Km:FR.BT,ck:new KO(e)}]):[3,1];case 1:return r?[4,r.Eut(t)]:[3,3];case 2:return u=o.sent(),[3,5];case 3:return[4,t.HT(i)];case 4:u=o.sent(),o.label=5;case 5:return s=u,[2,{Km:FR.vZ,ck:new YO(s)}];case 6:return[2]}})})()},i.Out=function(t,n,i,r,e,s){return Vt(function(){var u;return zt(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,t];case 1:return u=o.sent(),this.So(new dM(i,n.kW,r,e,n.Km,s.hk,u.JP.Vat)),[3,3];case 2:return o.sent(),[3,3];case 3:return[2]}})}).call(this)},i.kn=function(){this.Vo()},n}(th);F(),Et(),Bt();var gM=.001,_M=function(){function t(t,n,i,r){this.Fut=void 0,this.M8=void 0,this.i4=void 0,this.Rz=void 0,this.Fut=t,this.M8=n,this.i4=i,this.Rz=r}return Nt(t,[{key:"IP",get:function(){return this.Fut.IP}},{key:"Uut",get:function(){return this.Fut.Uut}},{key:"ZZ",get:function(){return this.Fut.ZZ}},{key:"Vut",get:function(){if(this.i4.Ax<Cy.Qn)return!1;if(this.Fut.An<=this.Hut&&this.Fut.Wut())return!0;var t=this.Fut.QW;if(!t||0===t.V)return!1;var n=TA.tL(this.M8.MP,1/0);return t.Mn(n).UM(this.Fut.ZZ).ZM>=this.Rz.GY}},{key:"Hut",get:function(){var t,n=this.Fut.QW;if(n&&n.V>0)t=n.An(0);else{t=this.M8.MP;var i=this.Fut.ZZ,r=i.VM(t);r>=0&&(t=i.An(r))}var e=this.Fut.Sx.Tn(0);if(e>t){if(this.Fut.Tn<=t&&this.Fut.An>=t&&e>t+gM)throw new VO(t,e);t=e}return t=this.Fut.qut.DM(t)}}]),t}();F(),Et(),Bt(),Ut();var mM=function(){function t(){this.Wm=void 0,this.Gut=void 0,this.Wm=Ju(),this.Gut=TA.iL()}var n=t.prototype;return n.Xut=function(t){return this.Wm.get(t.o)},n.jut=function(){var t=this.Gut;return this.Wm.forEach(function(n){t=t.OM(n)}),t},n.Qut=function(t){if(this.Gut.Cr(t))return!0;var n=!1;return this.Wm.forEach(function(i){n=n||i.Cr(t)}),n},n.Kut=function(t,n){var i=this.Wm.get(n.o);return!!i&&i.Cr(t)},n.HM=function(t,n){if(this.Gut.HM(t,n))return!0;var i=!1;return this.Wm.forEach(function(r){i=i||r.HM(t,n)}),i},n.Yut=function(t,n){var i=this.Wm.get(n),r=i?i.OM(t):t;this.Wm.set(n,r),this.Gut=this.Gut.OM(t)},n.Jut=function(t){var n=this;this.Wm.forEach(function(i,r){n.Wm.set(r,i.OM(t))}),this.Gut=this.Gut.OM(t)},n.Zut=function(t){var n=this;this.Wm.forEach(function(i,r){n.Wm.set(r,i.Mn(t))}),this.Gut=this.Gut.Mn(t)},n.hr=function(){var t=this;this.Wm.forEach(function(n,i){t.Wm.set(i,TA.iL())}),this.Gut=TA.iL()},Nt(t,[{key:"zut",get:function(){if(0===this.Wm.size)return this.Gut;var t=TA.tL(0,1/0);return t=t.Mn(this.Gut),this.Wm.forEach(function(n){t=t.Mn(n)}),t}}]),t}(),yM=function(){function t(t){this.Ht=void 0,this.tct=void 0,this.$Z=void 0,this.ect=[],this.Ht=t,this.tct=new mM,this.$Z=new mM}var n=t.prototype;return n.ict=function(t){for(var n,i=Lt(this.ect);!(n=i()).done;){var r=n.value;if(r.sat>t)break;if(r.nat>t)return r}},n.sct=function(t){for(var n,i=Lt(this.ect);!(n=i()).done;){var r=n.value;if(r.nct>t)break;if(r.rct>=t)return r}},n.hct=function(t,n){for(var i,r=[],e=Lt(this.ect);!(i=e()).done;){var s=i.value;if(s.sat>t)break;s.nat>=n&&r.push(s)}return r},n.eat=function(){return this.ect},n.aat=function(t){var n=TA.tL(t.nct,t.rct),i=n.BM();this.tct.Zut(i),this.tct.Yut(n,t.oat),this.act(i);var r=Hi(this.ect,function(n){return t.sat<=n.sat});r<0?this.ect.push(t):this.ect[r].nat<=t.nat?this.ect.splice(r,1,t):this.ect.splice(r,0,t)},n.t$=function(t,n){this.$Z.Yut(t,n)},n.uct=function(t){this.$Z.Jut(t)},n.Zut=function(t){this.tct.Zut(t),this.$Z.Zut(t);var n=this.tct.jut();this.act(n)},n.act=function(t){this.ect=this.ect.filter(function(n){return t.qM(n.nct,n.rct)}).map(function(n){return n.cct&&!t.HM(n.nct,n.rct)?function(t,n){return{oat:t.oat,sat:t.sat,nat:t.nat,nct:t.nct,rct:t.rct,cct:n}}(n,!1):n})},n.hr=function(){this.tct.hr(),this.$Z.hr(),this.ect=[]},n.kn=function(){this.hr()},Nt(t,[{key:"$ut",get:function(){return this.tct}},{key:"ZZ",get:function(){return this.$Z}}]),t}();F(),Et(),F(),Et(),Wt(),Bt(),Ut(),Qt();var pM=function(){function t(t,n,i){this.fat=void 0,this.Dot=void 0,this.jp=void 0,this.dct=void 0,this.fat=t,this.Dot=n,this.jp=i}var n=t.prototype;return n.lct=function(t,n,i){return Vt(function(){var r,e,s,u,o,h,c,a;return zt(this,function(f){switch(f.label){case 0:return dr(i),e=this.Dot.sct(t),r=e&&Si(e.rct,t,1e-5)?e.nat:t,s=this.fct(r),u=function(t){return kM.bind(void 0,t)}(r),[4,this.jp.vct(u,s,n,i)];case 1:o=f.sent(),dr(i),f.label=2;case 2:return o&&this._ct(o.$at)?(h=TM(o.$at),c=o.kot,[4,this.jp.vct(h,[c],n,i)]):[3,4];case 3:return o=f.sent(),dr(i),[3,2];case 4:return o?this.gct(o.$at)?(a=this.pct(o.$at),t<a.Tn?[4,this.findFirstNonAppendedSegmentBeforeSegment(o,n,i,a)]:[3,6]):[2,o]:[2,void 0];case 5:return[2,f.sent()];case 6:return t>=a.An?[4,this.findFirstNonAppendedSegmentAfterSegment(o,n,i)]:[3,8];case 7:return[2,f.sent()];case 8:if(o.kot.mct(o.$at))return[2,void 0];throw new y("Fatal buffering error")}})}).call(this)},n.findFirstNonAppendedSegmentAfterSegment=function(t,n,i){return Vt(function(){var r,e,s;return zt(this,function(u){switch(u.label){case 0:r=t,u.label=1;case 1:return e=TM(r.$at),s=t.kot,[4,this.jp.vct(e,[s],n,i)];case 2:r=u.sent(),dr(i),u.label=3;case 3:if(r&&this.gct(r.$at))return[3,1];u.label=4;case 4:return r?[2,r]:[2,void 0]}})}).call(this)},n.findFirstNonAppendedSegmentBeforeSegment=function(t,n,i,r){return Vt(function(){var e,s,u,o;return zt(this,function(h){switch(h.label){case 0:e=t,h.label=1;case 1:return s=function(t){return bM.bind(void 0,t)}(e.$at),u=t.kot,[4,this.jp.vct(s,[u],n,i)];case 2:e=h.sent(),dr(i),h.label=3;case 3:if(e&&this.gct(e.$at))return[3,1];h.label=4;case 4:if(!e)throw o=t.kot.wct.Tn,new VO(o,r.Tn,t.kot);return[2,e]}})}).call(this)},n.yct=function(t){return this.Dot.$ut.Qut(t)},n.Act=function(t){return this.Dot.hct(t.EO,t.PO)},n.gct=function(t){var n=this.Act(t);return n.length>0&&function(t,n){return function(t){for(var n,i=TA.iL(),r=Lt(t);!(n=r()).done;){var e=n.value;i=i.OM(TA.tL(e.sat,e.nat))}return i}(t).HM(n.EO,n.PO)}(n,t)&&n.every(SM)},n._ct=function(t){return this.Dot.ZZ.HM(t.EO,t.PO)},n.pct=function(t){var n=this.Act(t);return{Tn:n[0].nct,An:n[n.length-1].rct}},n.fct=function(t){var n=this.bct(t);if(0===n.length){var i=this.dct?this.dct:this.Dot.Ht.rat;return[i[i.length-1]]}var r=n.filter(function(t){var n;return(null==(n=t.kot)?void 0:n.cst)&&!t.Sct});return r.length>0?r:[n[n.length-1]]},n.bct=function(t){var n=this;return(this.dct?this.dct:this.Dot.Ht.rat).filter(function(i){return!n.Dot.ZZ.Kut(t,i)})},Nt(t,[{key:"Bot",get:function(){return this.dct},set:function(t){this.dct=t}},{key:"Lot",get:function(){return this.Dot.Ht.Lot}}]),t}();function kM(t,n,i,r){return Vt(function(){var e,s;return zt(this,function(u){switch(u.label){case 0:return e=n.$rt,(s=e.Tct(t))?n.kct(s)?[4,n.Pct(s,i,r)]:[3,2]:[2,void 0];case 1:return[2,u.sent().Ect(t)];case 2:return[2,s]}})})()}function bM(t,n,i,r){return Vt(function(){var e;return zt(this,function(s){switch(s.label){case 0:return iM(t)?0===t.hut?[2,void 0]:(e=n.$rt.xct(t))?[4,n.Pct(e,i,r)]:[2,void 0]:[3,2];case 1:return[2,s.sent().Ict(t.hut-1)];case 2:return[2,n.$rt.Rct(t)];case 3:return[2]}})})()}function AM(t,n,i,r){return Vt(function(){var e,s;return zt(this,function(u){switch(u.label){case 0:return iM(t)?(e=n.$rt.xct(t))?[4,n.Pct(e,i,r)]:[2,void 0]:[3,2];case 1:return s=u.sent(),t.hut+1===s.V?[2,void 0]:[2,s.Ict(t.hut+1)];case 2:return[2,n.$rt.Cct(t)];case 3:return[2]}})})()}function TM(t){return AM.bind(void 0,t)}function SM(t){return t.cct}F(),Et(),Wt(),Qt();var EM=function(){function t(t,n,i,r){this.Lct=void 0,this.Fut=void 0,this.Rz=void 0,this.Bct=void 0,this.Oct=void 0,this.Lct=t,this.Fut=n,this.Rz=i,this.Bct=r,this.Oct=!1}var n=t.prototype;return n.vct=function(t,n,i,r){return Vt(function(){var e,s,u;return zt(this,function(o){switch(o.label){case 0:return dr(r),(e=this.Dct(n,i))?[4,t(e,this.Bct,r)]:[2,void 0];case 1:return(s=o.sent())?(u=e.Nct(s),[2,{kot:e,$at:s,Yu:u}]):[2,void 0]}})}).call(this)},n.Dct=function(t,n){if(0!==t.length){var i=this.Lct.Mct(t,this.Oct?n:void 0,this.Fut,this.Rz.WY);return this.Oct||(this.Oct=!0),i}},t}();F(),Et(),Wt(),Ut(),Qt();var IM=function(){function t(t,n,i,r){this.Lct=void 0,this.Fut=void 0,this.eut=void 0,this.Bct=void 0,this.Lct=t,this.Fut=n,this.eut=i,this.Bct=r}return t.prototype.vct=function(t,n,i,r){return Vt(function(){var e,s,u,o,h,c,a,f;return zt(this,function(v){switch(v.label){case 0:if(dr(r),!(e=this.Lct.Fct(n,i,this.Fut)).length)return[2,void 0];u=Lt(e),v.label=1;case 1:if((o=u()).done)return[3,8];h=o.value,v.label=2;case 2:return v.trys.push([2,6,,7]),dr(r),[4,t(h,this.Bct,r)];case 3:return(c=v.sent())?(a=h.Nct(c),[4,this.eut.Uct(a.Yu,a.Sat)]):[3,5];case 4:if(v.sent())return[2,{$at:c,kot:h,Yu:a}];v.label=5;case 5:return[3,7];case 6:return lr(f=v.sent()),s=f,[3,7];case 7:return[3,1];case 8:if(s)throw s;return[2,void 0]}})}).call(this)},t}();function RM(t){return void 0!==t.ux}function CM(t,n){var i=t.Ti&&n.Ti,r=t.Mi&&n.Mi;return i||r?i&&r?t.Ti*t.Mi-n.Ti*n.Mi:i?t.Ti-n.Ti:r?t.Mi-n.Mi:(t.Ti||1)*(t.Mi||1)-(n.Ti||1)*(n.Mi||1):0}function DM(t,n){return CM(t,n)||function(t,n){return t.kW-n.kW}(t,n)}F(),Et(),at(),Ut(),F(),Et();var PM=function(){function t(t,n,i,r,e,s){this.Wct=void 0,this.jct=void 0,this.Rm=void 0,this.Xct=void 0,this.Vct=void 0,this.Qct=void 0,this.jct=t,this.Wct=n,this.Rm=i,this.Xct=r,this.Vct=e,this.Qct=s}var n=t.prototype;return n.Mct=function(n,i,r,e){var s=t.sortByQuality(n);if(void 0!==this.Vct&&void 0===i&&n.length>1){var u=t.Hct(s,this.Vct);u&&(s=u)}var o=this.Fct(s,i,r,e);return o.length?o[o.length-1]:s[0]},n.Fct=function(n,i,r,e){for(var s,u,o=t.sortByQuality(n),h={Oat:void 0===e||this.Wct.Nat?this.Wct.Oat:e,ux:RM(r)&&r.ux?r.ux:1,qct:r.Ti,zct:r.Mi,Gct:null==(s=this.Xct)?void 0:s.restrictToPlayerSize},c=o,a=Lt(this.jct);!(u=a()).done;){c=(0,u.value)(c,i,h,this.Rm,this.Qct)}return c},t.Kct=function(n){return t.sortByQuality(n)[0]},t.Yct=function(n,i){var r;return i?t.Kct(null!=(r=t.Hct(n,i))?r:n):t.Kct(n)},t.Hct=function(t,n){for(var i,r=function(){var n=i.value,r=t.filter(function(t){return YC(t.Np,n)});if(r.length>0)return{v:r}},e=Lt(n);!(i=e()).done;){var s=r();if("object"===W(s))return s.v}},t.sortByQuality=function(t){var n=[].concat(t);return n.sort(DM),n},t}();F(),Et();var NM=function(t,n,i,r,e){return t.filter(function(t){return e.TZ(t)&&r.xp(n,t)})};F(),Et();var BM=function(t,n,i,r){return void 0===n&&r.Cp?[t[t.length-1]]:t.filter(function(t){return function(t,n,i){var r=i.Oat;if(r<=0)return!1;return.8*r>t.kW*i.ux}(t,0,i)})};F(),Et();var xM=function(t,n,i,r,e){var s=i.Gct;if(void 0===s&&!r.Ks)return t;if(!1===s)return t;if(t.length>0&&t[0].Km!==ig.Bk)return t;for(var u=t.length-1;u>=0;u--){var o=t[u];if(o.Mi===i.zct&&o.Ti===i.qct)return t.slice(0,u+1);if(o.Mi<i.zct||o.Ti<i.qct)return t.slice(0,u+2)}return[]};F(),Et(),Wt(),Ut(),Qt();var OM=function(){function t(t){this.Jct=void 0,this.Jct=t}return t.prototype.vct=function(t,n,i,r){return Vt(function(){var e,s,u,o,h,c;return zt(this,function(a){switch(a.label){case 0:s=Lt(this.Jct),a.label=1;case 1:if((u=s()).done)return[3,6];o=u.value,a.label=2;case 2:return a.trys.push([2,4,,5]),[4,o.vct(t,n,i,r)];case 3:return(h=a.sent())?[2,h]:[3,5];case 4:return c=a.sent(),e=c,[3,5];case 5:return[3,1];case 6:if(e)throw e;return[2,void 0]}})}).call(this)},t}();F(),Et(),F(),Et(),Wt(),Ut(),Qt();var MM=function(){function t(t){this.$ct=void 0,this.$ct=t}return t.prototype.Zct=function(t,n,i,r){return Vt(function(){var e,s,u,o,h;return zt(this,function(c){switch(c.label){case 0:s=Lt(this.$ct),c.label=1;case 1:if((u=s()).done)return[3,6];o=u.value,c.label=2;case 2:return c.trys.push([2,4,,5]),[4,o.Zct(t,n,i,r)];case 3:return[2,c.sent()];case 4:return lr(h=c.sent()),e=h,[3,5];case 5:return[3,1];case 6:throw e}})}).call(this)},t}();F(),Et(),Wt(),Qt();var LM=function(){function t(t){this.nV=void 0,this.nV=t}return t.prototype.Zct=function(t,n,i,r){return Vt(function(){var e;return zt(this,function(s){switch(s.label){case 0:return[4,this.nV.lk({Yu:t,dk:Md.CT,fk:n?{Range:"bytes="+n[0]+"-"+(null!=(e=n[1])?e:"")}:void 0,zk:i,Uk:wl.GET,Km:gl.pk,Yg:r})];case 1:return[4,s.sent().HT()];case 2:return[2,s.sent()]}})}).call(this)},t}();F(),Et(),Wt(),Qt();var UM=function(){function t(t){this.eut=void 0,this.eut=t}return t.prototype.Zct=function(t,n,i,r){return Vt(function(){var i,r;return zt(this,function(e){switch(e.label){case 0:return[4,this.eut.iut(t,n)];case 1:return(i=e.sent())?[2,i.buffer]:n?[4,this.eut.iut(t)]:[3,3];case 2:if(r=e.sent())return[2,kc(new E(r.buffer),n[0],n[1])];e.label=3;case 3:throw new JO({Yu:t,Sat:n,zk:!1})}})}).call(this)},t}();F(),Et();var FM=1.05,VM=function(t,n,i,r){if(!1===i.Gct)return t;if(r.dp)return t;for(var e,s,u=r.lp,o=(null!=(e=null==u?void 0:u.width)?e:i.qct)*FM,h=(null!=(s=null==u?void 0:u.height)?s:i.zct)*FM,c=t.length-1;c>=0;c--){var a=t[c];if(a.Mi<=h&&a.Ti<=o)return t.slice(0,c+1)}return[]},HM=function(){function t(){}return t.Ret=function(t,n,i,r,e,s,u,o,h,c){var a=function(t,n){return new MM([new UM(n),new LM(t)])}(s,u),f=new PM([NM],e,Vn.Zs,o,h,c),v=new IM(f,n,u,a),d=new PM([BM,NM,xM,VM],e,Vn.Zs,o,h,c),l=new EM(d,n,r,a),w=new OM([v,l]);return new pM(t,i,w)},t}();F(),Et(),Wt(),Bt(),Dt(),H(),Ut(),Qt(),F(),Et(),Dt();var WM=function(t){function n(n,i,r,e,s,u){var o;return void 0===u&&(u=0),(o=t.call(this,eh.iy)||this).segmentStartTime=void 0,o.error=void 0,o.trackType=void 0,o.track=void 0,o.quality=void 0,o.retryCount=void 0,o.segmentStartTime=n,o.error=i,o.trackType=r,o.track=e,o.quality=s,o.retryCount=u,o}return Ct(n,t),n}(rh);F(),Et(),Dt();var zM=function(t){function n(n,i){var r;return(r=t.call(this,eh.Sw)||this).track=void 0,r.segments=void 0,r.track=n,r.segments=i,r}return Ct(n,t),n}(rh),XM=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).tdt=void 0,r.tdt=n,r}return Ct(n,t),n}(ar),qM=[eh.oy,eh.ly],GM=function(t){function n(n,i,r,e,s,u,o,h,c){var a;return(a=t.call(this)||this).fat=void 0,a.Dot=void 0,a.rdt=void 0,a.sdt=void 0,a.Ndt=void 0,a.Adt=void 0,a.Qct=void 0,a._dt=void 0,a.lq=void 0,a.idt=void 0,a.Y2=void 0,a.edt=void 0,a.Sdt=void 0,a.ldt=void 0,a.fdt=void 0,a.gdt=void 0,a.fat=n,a.Dot=i,a.rdt=r,a.sdt=e,a.Ndt=s,a.Adt=u,a.Qct=o,a._dt=h,a.lq=c,a.idt=void 0,a.Y2=void 0,a.edt=void 0,a.Sdt=void 0,a.ldt=0,a.fdt=0,a.gdt=TA.iL(),a.Ndt.wn(qM,a.Rs),a}Ct(n,t);var i=n.prototype;return i.ndt=function(t){return!this.Y2||!t||!Cc(this.Y2.Iht,t.Iht)},i.vat=function(t){if(!this.idt)return!1;var n=this.idt.$at,i=TA.tL(n.EO,n.PO),r=this.rdt.Uut,e=r.VM(t);return e<0?i.Cr(t,gM):i.qM(t,r.An(e),!0,!0,gM)},i.uat=function(t){return Vt(function(){var n,i,r,e,s,u,o,h,c,a,f,v,d,l,w;return zt(this,function(g){switch(g.label){case 0:n=this.Dot.Ht.rat,g.label=1;case 1:0,i=void 0,g.label=2;case 2:return g.trys.push([2,12,16,17]),dr(t),this._at(),this.gat()?[3,18]:(i=this.hdt(),[4,this.vct(i,t)]);case 3:return void 0===(e=g.sent())?[3,18]:(this.idt=e,function(t){var n=t.kot,i=n.$rt,r=iM(t.$at)?i.xct(t.$at):t.$at;return i.Udt(r,n.Idt.xdt())}(this.idt)?[3,5]:[4,this.odt(this.idt,t)]);case 4:return g.sent(),[3,1];case 5:return!this.edt||XC(this.edt.kot.frt,this.idt.kot.frt)?[3,7]:[4,this.Qct.EZ(this.idt.kot)];case 6:g.sent(),g.label=7;case 7:return!this.idt.kot.xW||this.Rot&&(null==(r=this.edt)?void 0:r.kot)===this.idt.kot||null==(s=this.lq)||s.LW(this.idt.kot.xW),[4,this.adt(i,this.idt.$at,t)];case 8:return g.sent(),u=this,[4,this.udt(this.idt.kot,t)];case 9:return u.Y2=g.sent(),[4,this.tut(this.idt,t)];case 10:return o=g.sent(),h=this.rdt.IP,c=this.edt,a=this,[4,this.cdt(o,t)];case 11:return a.edt=g.sent(),f=this.rdt.IP,this.ddt(c,this.idt,h,f,i),n.forEach(function(t){return t.Sct=!1}),this.ldt=0,this.fdt=0,[3,17];case 12:return V(v=g.sent(),VO)?(this.F3(v.Tn,v.An,v.kot),[3,1]):[3,13];case 13:if(!V(v,XM))return[3,15];if(d=500,n.every(function(t){return t.Sct})){if(2===this.ldt){if(l=this.rdt.IP,this.vdt(this.idt),this.ddt(this.edt,this.idt,l,l,i),n.forEach(function(t){return t.Sct=!1}),this.fdt+=1,this.ldt=0,this.fdt===this._dt.maxRetries)throw new fd(cd.MEDIA_LOAD_ERROR,"The segments could not be loaded.",v);return[3,1]}this.ldt++,w=this._dt.minimumBackoff*b.pow(2,this.ldt-1),d=b.min(w,this._dt.maximumBackoff)}return[4,Ar(d,t)];case 14:return g.sent(),[3,1];case 15:throw this.gdt=TA.iL(),v;case 16:return this.idt=void 0,[7];case 17:return[3,1];case 18:return[2]}})}).call(this)},i.ddt=function(t,n,i,r,e){var s=r.UM(i),u=n.kot,o=u.pdt(n.$at),h=u.mct(n.$at),c=n.$at.EO,a=n.$at.PO;o&&(c=b.min(c,b.max(0,u.wct.Tn-.05))),h&&(a=b.max(a,u.wct.An));var f=TA.tL(c,a).UM(r);if(0!==s.V){if(o||this.gdt.V>0){var v=f.Mn(TA.tL(c,s.Tn(0)));this.wdt(v)}var d=s.BM().Mn(TA.tL(s.Tn(0),s.An(s.V-1)));if(this.wdt(d),h){var l=f.Mn(TA.tL(s.An(s.V-1),a));this.wdt(l)}if(this.gdt.V>0){var w=this.gdt.UM(s);this.wdt(w),this.gdt=TA.iL()}var g,_=u.$rt,m=iM(n.$at)?void 0:_.Rct(n.$at),y=null!=(g=null==t?void 0:t.$at)?g:this.ydt(m)?m:void 0;if(y){var p=this.Dot.hct(y.EO,y.PO);if(p.length>0){var k=TA.tL(p[p.length-1].rct,s.Tn(0));this.wdt(k)}}var A=iM(n.$at)?void 0:_.Cct(n.$at);if(A&&this.ydt(A)){var T=this.Dot.hct(A.EO,A.PO);if(T.length>0){var S=TA.tL(s.An(s.V-1),T[0].nct);this.wdt(S)}}}else this.mdt(i,f,c,e)},i.mdt=function(t,n,i,r){var e=n;0===this.gdt.V&&(this.gdt=TA.tL(t.An(t.V-1),i)),0===e.V&&void 0!==r&&(e=TA.$M(r)),this.gdt=this.gdt.OM(e),this.Dot.uct(this.gdt)},i.ydt=function(t){return!!t&&this.Dot.hct(t.EO,t.PO).length>0},i.wdt=function(t){for(var n=t.UM(this.rdt.IP),i=0;i<n.V;i++)n.Tn(i)!==n.An(i)&&this.Adt.t$(n.Tn(i),n.An(i))},i.bdt=function(t,n){throw new XM(t,n)},i._at=function(){if(!(this.gdt.V>0)){var t,n=this.rdt.Uut.OM(null!=(t=this.rdt.ZZ.CM().JM(this.rdt.Hut))?t:TA.iL());this.Dot.Zut(n),this.Sdt&&!this.Tdt(this.Sdt)&&(this.Sdt=void 0),this.So(new zM(this.Dot.Ht.Lot,this.Dot.eat()))}},i.gat=function(){return this.edt&&this.edt.kot.mct(this.edt.$at)?(this.Adt.C3(),!0):(this.Sdt&&this.Sdt.kot.mct(this.Sdt.$at)&&this.Tdt(this.Sdt)&&this.Adt.C3(),!!this.rdt.Vut)},i.Tdt=function(t){return this.Dot.$ut.HM(t.kdt,t.Edt)},i.Pdt=function(t,n,i){(!this.Sdt||this.Sdt.$at.PO<t.$at.PO)&&(this.Sdt=Yu({},t,{kdt:n,Edt:i}))},i.hdt=function(){var t=this.rdt.Hut;return t},i.vct=function(t,n){return Vt(function(){var i,r;return zt(this,function(e){switch(e.label){case 0:return dr(n),i=this.edt?this.edt.kot:void 0,[4,this.sdt.lct(t,i,n)];case 1:return(r=e.sent())?[2,r]:[2,void 0]}})}).call(this)},i.odt=function(t,n){return Vt(function(){var i,r,e,s,u,o,h,c,a;return zt(this,function(f){switch(f.label){case 0:i={stack:[],error:void 0,hasError:!1},f.label=1;case 1:return f.trys.push([1,3,4,5]),r=t.kot,e=r.$rt,s=iM(t.$at)?e.xct(t.$at):t.$at,u=r.Idt.xdt(),(o=e.Rdt(s))&&o.getTime()<=u.getTime()?[2,this.bdt(MO.Hht,"Segment is not available.")]:(h=e.Cdt(s).getTime()-u.getTime(),c=qt(i,hr.ep([n]),!1),[4,ut.race([Ar(h,c.Yg),r.ww(FO.yot,c.Yg)])]);case 2:return f.sent(),[3,5];case 3:return a=f.sent(),i.error=a,i.hasError=!0,[3,5];case 4:return Gt(i),[7];case 5:return[2]}})}).call(this)},i.udt=function(t,n,i){return void 0===i&&(i=0),Vt(function(){var r,e,s,u;return zt(this,function(o){switch(o.label){case 0:if(dr(n),!(r=t.Ddt))return[2,this.Y2];o.label=1;case 1:return o.trys.push([1,4,,7]),t.Bdt?[3,3]:[4,this.Ndt.nut(r,n)];case 2:e=o.sent(),t.Bdt=e.ck,o.label=3;case 3:return[3,7];case 4:return lr(s=o.sent()),ql(s)?2===i?(t.Sct=!0,[2,this.bdt(MO.Kht,"Could not fetch the initializer.")]):[4,Ar(b.min(this._dt.minimumBackoff*b.pow(2,i),this._dt.maximumBackoff),n)]:[3,6];case 5:return o.sent(),[2,this.udt(t,n,i+1)];case 6:throw new fd(cd.MEDIA_LOAD_ERROR,s.message,s);case 7:dr(n),o.label=8;case 8:return o.trys.push([8,11,,12]),this.ndt(t.Bdt)?[4,this.Adt.Jrt(t.Bdt,t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,12];case 11:if(lr(u=o.sent()),ql(u))return[2,this.bdt(MO.Kht,"Could not append the initializer.")];throw new fd(cd.MEDIA_DECODE_ERROR,u.message,u);case 12:return[2,t.Bdt]}})}).call(this)},i.tut=function(t,n){return Vt(function(){var i,r;return zt(this,function(e){switch(e.label){case 0:i=0,e.label=1;case 1:0,e.label=2;case 2:return e.trys.push([2,4,,7]),dr(n),[4,this.Ndt.tut(t,n)];case 3:return[2,e.sent()];case 4:return lr(r=e.sent()),V(r,lM)?function(t){return V(t,Bl)}(r.cause)?(this.Mdt(new lM(r,t.$at,t.kot),i),[2,this.bdt(MO.Hht,"Timeout while fetching the segment.")]):Gl(r.cause)&&i>=2?(t.kot.Sct=!0,this.Mdt(r,i),[2,this.bdt(MO.Hht,"Could not fetch the segment.")]):[4,Ar(b.min(this._dt.minimumBackoff*b.pow(2,i),this._dt.maximumBackoff),n)]:[3,6];case 5:return e.sent(),[3,7];case 6:throw new fd(cd.MEDIA_LOAD_ERROR,r.message,r);case 7:return i++,[3,1];case 8:return[2]}})}).call(this)},i.adt=function(t,n,i){return Vt(function(){var r,e,s,u,o,h,c,a,f,v,d;return zt(this,function(l){switch(l.label){case 0:for(r=this.Dot.hct(n.EO,n.PO),e=this.rdt.Uut.JM(t),s=TA.iL(),u=Lt(r);!(o=u()).done;)h=o.value,dr(i),c=h.nct,a=h.rct,(f=e&&e.qM(c,a)?b.max(c,e.An(0)):c)<(v=a)&&(s=s.OM(TA.tL(f,v)));d=0,l.label=1;case 1:return d<s.V?[4,this.Adt.Ldt(s.Tn(d),s.An(d),i)]:[3,4];case 2:l.sent(),l.label=3;case 3:return d++,[3,1];case 4:return this._at(),[2]}})}).call(this)},i.cdt=function(t,n){return Vt(function(){var i,r;return zt(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),dr(n),[4,this.Adt.Odt(t.sut,t.$at,t.kot,n)];case 1:return i=e.sent(),this.Fdt(t,i.kdt,i.Edt),this.Pdt(t,i.kdt,i.Edt),[2,t];case 2:if(lr(r=e.sent()),ql(r))return this.Mdt(new lM(r,t.$at,t.kot),0),[2,this.bdt(MO.Hht,"Could not append the segment.")];if(ZI(r)&&this.Adt.YY())return[2,this.bdt(MO.qht,"Buffer is full. Could not reduce the buffer.")];throw new fd(cd.MEDIA_DECODE_ERROR,r.message,r);case 3:return[2]}})}).call(this)},i.Fdt=function(t,n,i){var r=t.kot,e=t.$at;this.aat(e,r,n,i)},i.aat=function(t,n,i,r){this.Dot.aat({oat:n.o,sat:t.EO,nat:t.PO,nct:i,rct:r,cct:!0}),this.Adt.i$(i,r)},i.F3=function(t,n,i){var r=TA.tL(t,n);i?this.Dot.t$(r,i.o):this.Dot.uct(r),this.Adt.t$(t,n)},i.vdt=function(t){var n=TA.tL(t.$at.EO,t.$at.PO);t.kot?this.Dot.t$(n,t.kot.o):this.Dot.uct(n)},i.Mdt=function(t,n){var i=t.Rut,r=this.Dot.Ht.Lot,e=this.Dot.Ht.Ca,s=t.Dut.kot&&t.Dut.kot.Ca,u=new WM(i,t.message,r,e,s,n);this.So(u)},i.hr=function(){this.Y2=void 0,this.edt=void 0},i.kn=function(){this.hr(),this.Sdt=void 0,this.Ndt.mn(qM,this.Rs),this.Ndt.kn()},Nt(n,[{key:"xot",get:function(){return this.idt}},{key:"Rot",get:function(){return this.edt}},{key:"Bot",get:function(){return this.sdt.Bot},set:function(t){this.sdt.Bot=t}},{key:"Lot",get:function(){return this.Dot.Ht.Lot}}]),n}(th);var jM=0,QM=function(){function t(t,n,i,r,e,s,u,o,h,c,a,f){this.Fut=void 0,this.M8=void 0,this.i4=void 0,this.nV=void 0,this.Rz=void 0,this.Vdt=void 0,this.eut=void 0,this.Xct=void 0,this.Vct=void 0,this.Qct=void 0,this._dt=void 0,this.lq=void 0,this.Fut=t,this.M8=n,this.i4=i,this.nV=r,this.Rz=e,this.Vdt=s,this.eut=u,this.Xct=o,this.Vct=h,this.Qct=c,this._dt=a,this.lq=f}var n=t.prototype;return n.Ret=function(t){var n=jM++,i=this.Fut.B3,r=new yM(t),e=this.Vdt&&rg(i),s=new jO(i,e),u=new _M(this.Fut,this.M8,this.i4,this.Rz),o=HM.Ret(n,this.Fut,r,this.Rz,s,this.nV,this.eut,this.Xct,this.Vct,this.Qct),h=function(t){switch(t){case ig.Dk:return ml.Dk;case ig.Bk:return ml.Bk;case ig.NT:return ml.NT;case ig.Nk:return ml.Nk;default:return ml.pk}}(i),c=function(t,n,i,r){var e=new $O(r),s=new wM(t,n,i);return new nM([e,s])}(new XO(this.nV,h),s,e,this.eut),a=new GM(n,r,u,o,c,this.Fut,this.Qct,this._dt,this.lq);return new zO(n,t.Nut,r,a,this.M8)},n.Hdt=function(t,n){var i={Lot:ig.NT,Nut:n,rat:n.rat,Ca:t.Ca};return this.Ret(i)},t}();F(),Et();var YM=function(){function t(t){this.Trt=void 0,this.Trt=t}var n=t.prototype;return n.TZ=function(t){return this.Trt.TZ(t)},n.EZ=function(t){return this.Trt.EZ(t)},t}(),KM=function(){function t(){}var n=t.prototype;return n.TZ=function(t){return!0},n.EZ=function(t){return ut.resolve(void 0)},t}();F(),Et(),Bt(),Dt(),Ut(),F(),Et(),Dt();var JM=function(t){function n(n,i){var r;return(r=t.call(this,Dw.EI)||this).KI=void 0,r.Ht=void 0,r.KI=n||[],r.Ht=i,r}return Ct(n,t),n.prototype.xa=function(){return new ZM(this.KI.map(function(t){return t.Ca}))},n}(kw),ZM=function(t){function n(n){var i;return(i=t.call(this,"targetqualitychanged")||this).qualities=void 0,i.quality=void 0,i.qualities=n,i.quality=i.qualities.length>0?i.qualities[0]:void 0,i}return Ct(n,t),n}(rh);F(),Et(),Dt();var $M=function(t){function n(n){var i;return(i=t.call(this,Dw.QUALITY_UNAVAILABLE)||this).quality=void 0,i.quality=n,i}return Ct(n,t),n.prototype.xa=function(){return new tL(this.quality.Ca)},n}(Aw),tL=function(t){function n(n){var i;return(i=t.call(this,"qualityunavailable")||this).quality=void 0,i.quality=n,i}return Ct(n,t),n}(Tw);F(),Et(),Dt();var nL=function(t){function n(){return t.call(this,Dw.NO_QUALITY)||this}return Ct(n,t),n}(rh);function iL(t){return{kW:t.kW,Np:t.frt,Mi:rL(t)?t.Mi:0,Km:rL(t)?ig.Bk:ig.Dk,Ti:rL(t)?t.Ti:0}}function rL(t){var n=t;return void 0!==n.Mi&&void 0!==n.Ti}F(),Et();var eL=0,sL=function(t){function n(n,i,r){var e;return void 0===r&&(r="alternative"),(e=t.call(this)||this).Kdt=void 0,e.Kot=void 0,e.We=!1,e.hu=void 0,e.Zdt=void 0,e.hS="",e.gO=void 0,e.b5=void 0,e.pO=void 0,e.qA=void 0,e.clt=!1,e.dO=new vg,e.elt=[],e.jdt=void 0,e.$dt=void 0,e.rlt=void 0,e.zdt=function(){return e.So(new wg(e))},e.nlt=[],e.Kot=n,e.hS=String(eL++),e.gO=mg(),e.b5=r,e.qA=n.rit,e.pO=n.Th,e.rlt=n.Km,e.elt=n.rat.slice(),e.qdt(i),e}Ct(n,t);var i=n.prototype;return i.qdt=function(t){for(var n,i=Lt(t);!(n=i()).done;){var r=n.value;r.wn("update",this.zdt),this.dO.lO(r)}},i.Gdt=function(t){if(this.dO.fO(t)){t.QU();var n=this.Xdt();if(this.jdt&&ji(this.jdt,t)){var i=this.jdt.filter(function(t){return t.cst});0===i.length&&n.length>0?this.YI=n:this.YI=i}else this.YI=n;this.So(new $M(t))}},i.Qdt=function(t){if(this.dO.fO(t)){var n=this.Xdt();t.jU(),this.jdt&&!function(t,n){return Qi(t,n,function(t,n){return t===n})}(this.jdt,n)||(this.YI=this.Xdt())}},i.Xdt=function(){return this.dO.II.filter(function(t){return t.cst})},i.Ydt=function(t){this.Kdt=t.kot,this.So(t)},i.tlt=function(t){if(t&&0!==t.length){for(var n,i=[],r=Lt(this.rat);!(n=r()).done;)for(var e,s=n.value,u=Lt(t);!(e=u()).done;){var o=e.value;o===s.kot&&o.cst&&i.push(s)}return i}},i.slt=function(t){var n;this.nlt.push(t),(n=this.elt).push.apply(n,[].concat(t.rat));var i=t.rat.map(function(t){return t.kot});this.qdt(i)},i.wO=function(t){this.We=t,this.Zdt&&(t?this.Zdt.jU(this):this.Zdt.QU(this))},i.ult=function(t){this.We=t,this.clt!==t&&(this.clt=t,this.So(new dg(this)))},i.kn=function(){for(var t,n=Lt(this.dO.II);!(t=n()).done;){t.value.mn("update",this.zdt)}this.dO.hr()},Nt(n,[{key:"QI",get:function(){return this.Kot.Wdt.map(uL).filter(Un)}},{key:"XI",get:function(){return this.Kdt}},{key:"Nut",get:function(){return this.Kot}},{key:"Rt",get:function(){return this.We},set:function(t){this.wO(t)}},{key:"Ca",get:function(){return this.hu||(this.hu=Zw(this)),this.hu}},{key:"Jdt",get:function(){return this.Zdt},set:function(t){this.Zdt=t}},{key:"o",get:function(){return this.hS}},{key:"jI",get:function(){return this.gO}},{key:"Lt",get:function(){return this.b5}},{key:"bs",get:function(){return this.qA}},{key:"Th",get:function(){return this.pO},set:function(t){t!==this.pO&&(this.pO=t,this.So(new wg(this)))}},{key:"Xk",get:function(){return this.Rt?"enabled":"disabled"}},{key:"YI",get:function(){return this.jdt},set:function(t){var n;if(t){var i=this.XI?iL(this.XI):void 0;n=t.filter(function(t){return t.cst&&Vn.Zs.xp(i,iL(t))})}else n=this.Xdt();0!==n.length?(this.jdt=t&&this.dO.fO(t)?t:void 0,this.$dt=this.tlt(this.jdt),this.So(new JM(t,this))):this.So(new nL)}},{key:"ilt",get:function(){return this.$dt}},{key:"KI",get:function(){return this.dO}},{key:"rat",get:function(){return this.elt}},{key:"Lot",get:function(){return this.rlt}},{key:"hlt",get:function(){return this.nlt}},{key:"olt",get:function(){return this.rat.every(function(t){return t.olt})}}]),n}(th);function uL(t){if("urn:mpeg:dash:role:2011"===t.y8)return oL(t);if("urn:tva:metadata:cs:AudioPurposeCS:2007"===t.y8){if("1"===t.zE)return Yw.HI;if("2"===t.zE)return Yw.qI}}function oL(t){if(void 0!==(null==t?void 0:t.zE))switch(t.zE){case"caption":return Yw.VI;case"sign":return Yw.WI;case"description":return Yw.HI;case"enhanced-audio-intelligibility":return Yw.qI;default:return}}var hL=function(t){function n(n,i,r,e,s,u){var o;return(o=t.call(this,u)||this).Ez=1,o.flt=void 0,o.llt=Zu(),o.wlt=Zu(),o.dlt=void 0,o._lt=void 0,o.Rlt=Zu(),o.nV=void 0,o.eut=void 0,o.M8=void 0,o.Rz=void 0,o.Slt=void 0,o.Tlt=function(t){0},o.M8=n,o.nV=i,o.Rz=r,o.Slt=e,o.eut=s,o}Ct(n,t);var i=n.prototype;return i.C3=function(){},i.Wut=function(){return this.Uut.Cr(this.An)},i.Odt=function(t,n,i,r){return Vt(function(){var e,s,u,o,h,c,a,f,v,d,l;return zt(this,function(w){switch(w.label){case 0:return t.Km!==FR.vZ?[3,1]:(s=t.ck.Iht,[3,3]);case 1:return[4,t.ck.HT(r)];case 2:s=w.sent(),w.label=3;case 3:for(e=s,u=this.findTrackForRepresentation(i),o=this.llt.get(u.jI),h=n.EO,c=n.PO,a=new TA([h,c]),o||(o=TA.iL(),this.llt.set(u.jI,TA.iL()),this.wlt.set(u.jI,TA.iL())),this.Irt(r),f=this.Zrt(new E(e),n,i,u),v=Lt(f);!(d=v()).done;)l=d.value,u.tV(l);return this.llt.set(u.jI,o.OM(a)),[2,{kdt:h,Edt:c}]}})}).call(this)},i.Irt=function(t){for(var n,i=Lt(JI(this.M8.MP,void 0,void 0,this.IP,this.Rz.GY,this.Rz.UY));!(n=i()).done;){var r=n.value,e=r[0],s=r[1];kr(this.Ldt(e,s,t))}},i.Jrt=function(t,n,i){return this.Slt.Jrt(t,n,i)},i.Zrt=function(t,n,i,r){return this.Slt.Zrt(t,n,i,r)},i.Ldt=function(t,n,i){for(var r,e=t,s=n,u=new TA([t,n]),o=Lt(this.Z.II);!(r=o()).done;){for(var h,c=r.value,a=[],f=Lt(c.L.II);!(h=f()).done;){var v=h.value;v.EO>=e&&v.PO<=s?a.push(v):u=u.UM(new TA([v.EO,v.PO]))}for(var d,l=Lt(a);!(d=l()).done;){var w=d.value;c.WU(w)}var g=this.llt.get(c.jI);g&&this.llt.set(c.jI,g.UM(u))}return ut.resolve()},i.t$=function(t,n){},i.i$=function(t,n){},i.YY=function(){return!1},i.jU=function(t){if(t&&this.dlt!==t){this.dlt=t;for(var n,i=Lt(this.Z.II);!(n=i()).done;){var r=n.value;r!==t&&(r.Xk=Hm.Nh)}if(this.Slt.hr(),this.flt&&(this.flt.kn(),this.flt=void 0),this.dlt){var e=this.ylt(this.dlt);this.flt=new QM(this,this.M8,this.M8,this.nV,this.Rz,!1,this.eut,void 0,void 0,new KM,mT,void 0).Hdt(this.dlt,e),this.flt.wn(zm.ma,this.Tlt),this.flt.Tn(MO.Nht)}}},i.QU=function(t){this.dlt===t&&(t&&this.dlt===t&&(this.dlt=void 0),this.flt&&(this.flt.kn(),this.flt=void 0))},i.Un=function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,this.hr()];case 1:return n.sent(),this._lt=t,this.klt(t),[2]}})}).call(this)},i.Elt=function(t){var n=function(t){var n=t.rat&&t.rat.length>0&&t.rat[0],i=n&&ty(n.frt),r=ty(t.frt),e=t.oQ===Mv;return i||r||e?Dg.TTML:t.oQ===Uv||ey(t.oQ,t.frt)?Dg.WEBVTT:Dg.DEFAULT}(t);if(!n)throw new y("Unknown TextTrack type for Representation");var i=t.Plt.concat(t.Wdt);return this.xlt(function(t){return ji(t.filter(function(t){return"urn:mpeg:dash:role:2011"===t.y8}).map(function(t){return t.zE}).filter(Un),"caption")?Ym.FU:Ym.OU}(i),t.Th,t.rit,!1,n,t,function(t){return t.filter(function(t){return"urn:mpeg:dash:role:2011"===t.y8}).some(function(t){return function(t){return"forced-subtitle"===t||"forced_subtitle"===t}(t.zE)})}(t.Plt),t.Wdt.map(oL).filter(Un))},i.klt=function(t){for(var n,i=Lt(t.Ilt);!(n=i()).done;){var r=n.value,e=this.Elt(r);this.Rlt.set(e.jI,r),e.Ax=Cg.LOADED,this.tt(e)}},i.it=function(n){this.Rlt.delete(n.jI),t.prototype.it.call(this,n)},i.xlt=function(t,n,i,r,e,s,u,o){var h,c,a,f=Ui(s.rat,function(t){return""!==t.o}),v=null!=(a=null!=(c=null==f?void 0:f.o)?c:null==(h=s.o)?void 0:h.toString())?a:"";return this.JU.tI(t,v,n,i,r,e,u,o)},i.ZU=function(t,n,i){var r=vy(t,n,i),e=this.Rlt.get(t.jI);void 0!==e&&(this.Rlt.set(r.jI,e),this.Rlt.delete(t.jI));var s=this.llt.get(t.jI);void 0!==s&&(this.llt.set(r.jI,s),this.llt.delete(t.jI));var u=this.wlt.get(t.jI);return void 0!==u&&(this.wlt.set(r.jI,u),this.wlt.delete(t.jI)),r},i.hr=function(){var n=this;return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return[4,t.prototype.hr.call(n)];case 1:return i.sent(),this.flt?[4,this.flt.hr(MO.eot)]:[3,3];case 2:i.sent(),this.flt.mn(zm.ma,this.Tlt),this.flt=void 0,i.label=3;case 3:return this._lt=void 0,this.llt.clear(),this.wlt.clear(),[2]}})}).call(this)},i.findTrackForRepresentation=function(t){for(var i,r=Lt(this.Z.II);!(i=r()).done;){var e=i.value,s=this.ylt(e);if(s&&n.Clt(s)===t)return e}},i.ylt=function(t){return this.Rlt.get(t.jI)},i.glt=function(){if(this.dlt){var t=this.ylt(this.dlt);if(t)return n.Clt(t)}},i.kn=function(){for(var n,i=Lt(this.Z.II);!(n=i()).done;){var r=n.value;this.JU.iV(r)}return t.prototype.kn.call(this)},n.Clt=function(t){return t.rat&&t.rat.length>0?t.rat[0]:void 0},Nt(n,[{key:"Rt",get:function(){for(var t,n=Lt(this.Z.II);!(t=n()).done;){if(t.value.Xk!==Hm.Nh)return!0}return!1}},{key:"QW",get:function(){var t=this.M8.MP;return this.Uut.JM(t,.01)}},{key:"qut",get:function(){return TA.eL()}},{key:"IP",get:function(){var t;return null!=(t=this.dlt&&this.llt.get(this.dlt.jI))?t:TA.iL()}},{key:"ZZ",get:function(){return this.flt?this.flt.Cot.ZZ.zut:TA.iL()}},{key:"Uut",get:function(){return LO(this.IP,this.ZZ).LM(2*this.vlt)}},{key:"Tn",get:function(){return this._lt?this._lt.wct.Tn:NaN}},{key:"An",get:function(){return this._lt?this._lt.wct.An:NaN}},{key:"UP",get:function(){var t=this.An;return!!t&&this.M8.MP>=t}},{key:"vlt",get:function(){var t,n,i=this.glt();return i?1/(null!=(n=this.dlt&&(null==i||null==(t=i.plt)?void 0:t.iF()))?n:25):.04}},{key:"Mi",get:function(){return 0}},{key:"B3",get:function(){return ig.NT}},{key:"ux",get:function(){return this.Ez},set:function(t){this.Ez=t}},{key:"_x",get:function(){var t;return null!=(t=this.dlt&&this.wlt.get(this.dlt.jI))?t:TA.iL()}},{key:"Sx",get:function(){if(!this.dlt)return TA.$M(0);var t=this.ylt(this.dlt),n=null==t?void 0:t.Alt,i=null==t?void 0:t.blt;if(void 0===i||void 0===n)return TA.$M(0);var r=b.max(n,this.M8.MP);return new TA([i,r]).CM()}},{key:"Ti",get:function(){return 0}}]),n}(fy),cL=function(){function t(t,n,i,r,e,s){this.Nlt=[],this.Gl=new Eb([]),this.JU=void 0,this.tht=void 0,this.M8=void 0,this.nV=void 0,this.Rz=void 0,this.eut=void 0,this.M8=t,this.nV=n,this.Rz=i,this.eut=r,this.JU=e,this.tht=s}var n=t.prototype;return n.sV=function(t){return Vt(function(){var n,i;return zt(this,function(r){switch(r.label){case 0:return t.Km!==ig.NT?[2]:(n=function(t,n,i){return ty(n)||t===Mv||t===Uv?new CO(i):ey(t,n)?new BO:void 0}(t.oQ,t.frt,this.tht),n?(i=this.Dlt(n),this.Blt(i),[4,i.Un(t)]):[3,2]);case 1:return r.sent(),[2,i];case 2:return[2]}})}).call(this)},n.Dlt=function(t){return new hL(this.M8,this.nV,this.Rz,t,this.eut,this.JU)},n.Blt=function(t){this.Nlt.push(t),this.Gl.FW(t.Z)},n.hr=function(){return Vt(function(){var t,n;return zt(this,function(i){switch(i.label){case 0:t=Lt(this.Nlt.slice()),i.label=1;case 1:return(n=t()).done?[3,4]:[4,n.value.hr()];case 2:i.sent(),i.label=3;case 3:return[3,1];case 4:return Yi(this.Nlt),this.Gl.hr(),[2]}})}).call(this)},n.kn=function(){return Vt(function(){var t,n;return zt(this,function(i){switch(i.label){case 0:t=Lt(this.Nlt),i.label=1;case 1:return(n=t()).done?[3,4]:[4,n.value.kn()];case 2:i.sent(),i.label=3;case 3:return[3,1];case 4:return Yi(this.Nlt),this.Gl.kn(),[2]}})}).call(this)},Nt(t,[{key:"nt",get:function(){return this.Gl}}]),t}();F(),Et(),Dt();var aL=function(t){function n(n){var i;return(i=t.call(this,eh.zw)||this).error=void 0,i.error=n,i}return Ct(n,t),n}(rh);F(),Et();var fL=function(t){return t.mV="static",t.wV="dynamic",t}({});F(),Et(),Dt(),F(),Et();var vL=function(t){return t.Mlt="Llt",t}({}),dL=function(t){function n(){return t.call(this,vL.Mlt)||this}return Ct(n,t),n}(rh);F(),Et(),Wt(),Bt(),Dt(),Ut(),Qt(),F(),Et(),Dt();var lL=function(t){function n(n,i){var r;return(r=t.call(this,eh.Yw)||this).representation=void 0,r.previousRepresentation=void 0,r.representation=n,r.previousRepresentation=i,r}return Ct(n,t),n}(rh);F(),Et(),Dt(),Ut(),F(),Et(),Ut(),F(),Et();var wL=function(t){return t[t.Olt=0]="Olt",t[t.Flt=1]="Flt",t[t.Ult=2]="Ult",t[t.Vlt=3]="Vlt",t[t.Hlt=4]="Hlt",t[t.Wlt=5]="Wlt",t}({}),gL=function(t){return t[t.qlt=0]="qlt",t[t.zlt=1]="zlt",t[t.Glt=2]="Glt",t[t.Xlt=3]="Xlt",t}({});function _L(t,n,i){return i===wL.Olt?i:n!==gL.qlt&&n!==gL.zlt||i!==wL.Flt&&i!==wL.Ult?t?n===gL.Glt?wL.Hlt:n===gL.Xlt?wL.Vlt:wL.Olt:wL.Wlt:wL.Ult}function mL(t,n,i,r){var e={byte:i},s=wL.Flt,u=[],o=31&bC(n,e,r);e.byte+=1;for(var h=0;h<o;h+=1){var c=bC(n,e,r),a=4&c,f=3&c;s=_L(Boolean(a),f,s);var v=bC(n,e,r),d=bC(n,e,r);u.push({jlt:t,VN:-1,Qlt:!h,Klt:Boolean(a),Km:f,Ylt:s,Jlt:v,Zlt:d})}return u}function yL(t,n,i){var r=bC(t,n,i);if(!S(r))return String.fromCharCode(r)}function pL(t){var n=t.i1,i={byte:t.$0},r=t.t1,e=bC(n,i,r);if(255===e&&(i.byte+=1),181===e){var s=AC(n,i);if(47===s||49===s){if(49===s){var u=function(t,n,i){for(var r="",e=i;e>0;)e-=1,r+=yL(t,n);return r}(n,i,4);if("GA94"!==u)return}if(3===bC(n,i,r)){47===s&&(i.byte+=1);var o=t;return o.$lt=i.byte,o}}}}function kL(t){return 4===t.J0}function bL(t){for(var n,i=[],r=Lt(t.filter(kL).map(pL).filter(Un));!(n=r()).done;){var e,s=n.value;(e=i).push.apply(e,[].concat(mL(s.Y0,s.i1,s.$lt,s.t1)))}return i}F(),Et(),Ut();var AL="und";var TL=[{l:"Abkhaz",bh:"\u0410\u04a7\u0441\u0443\u0430",1:"ab",2:"abk","2T":"abk","2B":"abk",3:"abk"},{l:"Afar",bh:"Afaraf",1:"aa",2:"aar","2T":"aar","2B":"aar",3:"aar"},{l:"Afrikaans",bh:"Afrikaans",1:"af",2:"afr","2T":"afr","2B":"afr",3:"afr"},{l:"Akan",bh:"Akan",1:"ak",2:"aka","2T":"aka","2B":"aka",3:"aka"},{l:"Albanian",bh:"Shqip",1:"sq",2:"sqi","2T":"sqi","2B":"alb",3:"sqi"},{l:"Amharic",bh:"\u12a0\u121b\u122d\u129b",1:"am",2:"amh","2T":"amh","2B":"amh",3:"amh"},{l:"Arabic",bh:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",1:"ar",2:"ara","2T":"ara","2B":"ara",3:"ara"},{l:"Aragonese",bh:"Aragon\xe9s",1:"an",2:"arg","2T":"arg","2B":"arg",3:"arg"},{l:"Armenian",bh:"\u0540\u0561\u0575\u0565\u0580\u0565\u0576",1:"hy",2:"hye","2T":"hye","2B":"arm",3:"hye"},{l:"Assamese",bh:"\u0985\u09b8\u09ae\u09c0\u09af\u09bc\u09be",1:"as",2:"asm","2T":"asm","2B":"asm",3:"asm"},{l:"Avaric",bh:"\u0410\u0432\u0430\u0440",1:"av",2:"ava","2T":"ava","2B":"ava",3:"ava"},{l:"Avestan",bh:"avesta",1:"ae",2:"ave","2T":"ave","2B":"ave",3:"ave"},{l:"Aymara",bh:"Aymar",1:"ay",2:"aym","2T":"aym","2B":"aym",3:"aym"},{l:"Azerbaijani",bh:"Az\u0259rbaycanca",1:"az",2:"aze","2T":"aze","2B":"aze",3:"aze"},{l:"Bambara",bh:"Bamanankan",1:"bm",2:"bam","2T":"bam","2B":"bam",3:"bam"},{l:"Bashkir",bh:"\u0411\u0430\u0448\u04a1\u043e\u0440\u0442\u0441\u0430",1:"ba",2:"bak","2T":"bak","2B":"bak",3:"bak"},{l:"Basque",bh:"Euskara",1:"eu",2:"eus","2T":"eus","2B":"baq",3:"eus"},{l:"Belarusian",bh:"\u0411\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0430\u044f",1:"be",2:"bel","2T":"bel","2B":"bel",3:"bel"},{l:"Bengali",bh:"\u09ac\u09be\u0982\u09b2\u09be",1:"bn",2:"ben","2T":"ben","2B":"ben",3:"ben"},{l:"Bihari",bh:"\u092d\u094b\u091c\u092a\u0941\u0930\u0940",1:"bh",2:"bih","2T":"bih","2B":"bih",3:"bih"},{l:"Bislama",bh:"Bislama",1:"bi",2:"bis","2T":"bis","2B":"bis",3:"bis"},{l:"Bosnian",bh:"Bosanski",1:"bs",2:"bos","2T":"bos","2B":"bos",3:"bos"},{l:"Breton",bh:"Brezhoneg",1:"br",2:"bre","2T":"bre","2B":"bre",3:"bre"},{l:"Bulgarian",bh:"\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438",1:"bg",2:"bul","2T":"bul","2B":"bul",3:"bul"},{l:"Burmese",bh:"\u1019\u103c\u1014\u103a\u1019\u102c\u1018\u102c\u101e\u102c",1:"my",2:"mya","2T":"mya","2B":"bur",3:"mya"},{l:"Catalan",bh:"Catal\xe0",1:"ca",2:"cat","2T":"cat","2B":"cat",3:"cat"},{l:"Chamorro",bh:"Chamoru",1:"ch",2:"cha","2T":"cha","2B":"cha",3:"cha"},{l:"Chechen",bh:"\u041d\u043e\u0445\u0447\u0438\u0439\u043d",1:"ce",2:"che","2T":"che","2B":"che",3:"che"},{l:"Chichewa",bh:"Chichewa",1:"ny",2:"nya","2T":"nya","2B":"nya",3:"nya"},{l:"Chinese",bh:"\u4e2d\u6587",1:"zh",2:"zho","2T":"zho","2B":"chi",3:"zho"},{l:"Chuvash",bh:"\u0427\u04d1\u0432\u0430\u0448\u043b\u0430",1:"cv",2:"chv","2T":"chv","2B":"chv",3:"chv"},{l:"Cornish",bh:"Kernewek",1:"kw",2:"cor","2T":"cor","2B":"cor",3:"cor"},{l:"Corsican",bh:"Corsu",1:"co",2:"cos","2T":"cos","2B":"cos",3:"cos"},{l:"Cree",bh:"\u14c0\u1426\u1403\u152d\u140d\u140f\u1423",1:"cr",2:"cre","2T":"cre","2B":"cre",3:"cre"},{l:"Croatian",bh:"Hrvatski",1:"hr",2:"hrv","2T":"hrv","2B":"hrv",3:"hrv"},{l:"Czech",bh:"\u010ce\u0161tina",1:"cs",2:"ces","2T":"ces","2B":"cze",3:"ces"},{l:"Danish",bh:"Dansk",1:"da",2:"dan","2T":"dan","2B":"dan",3:"dan"},{l:"Divehi",bh:"Divehi",1:"dv",2:"div","2T":"div","2B":"div",3:"div"},{l:"Dutch",bh:"Nederlands",1:"nl",2:"nld","2T":"nld","2B":"dut",3:"nld"},{l:"Dzongkha",bh:"\u0f62\u0fab\u0f7c\u0f44\u0f0b\u0f41",1:"dz",2:"dzo","2T":"dzo","2B":"dzo",3:"dzo"},{l:"English",bh:"English",1:"en",2:"eng","2T":"eng","2B":"eng",3:"eng"},{l:"Esperanto",bh:"Esperanto",1:"eo",2:"epo","2T":"epo","2B":"epo",3:"epo"},{l:"Estonian",bh:"Eesti",1:"et",2:"est","2T":"est","2B":"est",3:"est"},{l:"Ewe",bh:"E\u028begbe",1:"ee",2:"ewe","2T":"ewe","2B":"ewe",3:"ewe"},{l:"Faroese",bh:"F\xf8royskt",1:"fo",2:"fao","2T":"fao","2B":"fao",3:"fao"},{l:"Fijian",bh:"Na Vosa Vaka-Viti",1:"fj",2:"fij","2T":"fij","2B":"fij",3:"fij"},{l:"Finnish",bh:"Suomi",1:"fi",2:"fin","2T":"fin","2B":"fin",3:"fin"},{l:"French",bh:"Fran\xe7ais",1:"fr",2:"fra","2T":"fra","2B":"fre",3:"fra"},{l:"Fula",bh:"Fulfulde",1:"ff",2:"ful","2T":"ful","2B":"ful",3:"ful"},{l:"Galician",bh:"Galego",1:"gl",2:"glg","2T":"glg","2B":"glg",3:"glg"},{l:"Georgian",bh:"\u10e5\u10d0\u10e0\u10d7\u10e3\u10da\u10d8",1:"ka",2:"kat","2T":"kat","2B":"geo",3:"kat"},{l:"German",bh:"Deutsch",1:"de",2:"deu","2T":"deu","2B":"ger",3:"deu"},{l:"Greek",bh:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",1:"el",2:"ell","2T":"ell","2B":"gre",3:"ell"},{l:"Guaran\xed",bh:"Ava\xf1e'\u1ebd",1:"gn",2:"grn","2T":"grn","2B":"grn",3:"grn"},{l:"Gujarati",bh:"\u0a97\u0ac1\u0a9c\u0ab0\u0abe\u0aa4\u0ac0",1:"gu",2:"guj","2T":"guj","2B":"guj",3:"guj"},{l:"Haitian",bh:"Krey\xf2l Ayisyen",1:"ht",2:"hat","2T":"hat","2B":"hat",3:"hat"},{l:"Hausa",bh:"\u0647\u064e\u0648\u064f\u0633\u064e",1:"ha",2:"hau","2T":"hau","2B":"hau",3:"hau"},{l:"Hebrew",bh:"\u05e2\u05d1\u05e8\u05d9\u05ea",1:"he",2:"heb","2T":"heb","2B":"heb",3:"heb"},{l:"Herero",bh:"Otjiherero",1:"hz",2:"her","2T":"her","2B":"her",3:"her"},{l:"Hindi",bh:"\u0939\u093f\u0928\u094d\u0926\u0940",1:"hi",2:"hin","2T":"hin","2B":"hin",3:"hin"},{l:"Hiri Motu",bh:"Hiri Motu",1:"ho",2:"hmo","2T":"hmo","2B":"hmo",3:"hmo"},{l:"Hungarian",bh:"Magyar",1:"hu",2:"hun","2T":"hun","2B":"hun",3:"hun"},{l:"Interlingua",bh:"Interlingua",1:"ia",2:"ina","2T":"ina","2B":"ina",3:"ina"},{l:"Indonesian",bh:"Bahasa Indonesia",1:"id",2:"ind","2T":"ind","2B":"ind",3:"ind"},{l:"Interlingue",bh:"Interlingue",1:"ie",2:"ile","2T":"ile","2B":"ile",3:"ile"},{l:"Irish",bh:"Gaeilge",1:"ga",2:"gle","2T":"gle","2B":"gle",3:"gle"},{l:"Igbo",bh:"Igbo",1:"ig",2:"ibo","2T":"ibo","2B":"ibo",3:"ibo"},{l:"Inupiaq",bh:"I\xf1upiak",1:"ik",2:"ipk","2T":"ipk","2B":"ipk",3:"ipk"},{l:"Ido",bh:"Ido",1:"io",2:"ido","2T":"ido","2B":"ido",3:"ido"},{l:"Icelandic",bh:"\xcdslenska",1:"is",2:"isl","2T":"isl","2B":"ice",3:"isl"},{l:"Italian",bh:"Italiano",1:"it",2:"ita","2T":"ita","2B":"ita",3:"ita"},{l:"Inuktitut",bh:"\u1403\u14c4\u1483\u144e\u1450\u1466",1:"iu",2:"iku","2T":"iku","2B":"iku",3:"iku"},{l:"Japanese",bh:"\u65e5\u672c\u8a9e",1:"ja",2:"jpn","2T":"jpn","2B":"jpn",3:"jpn"},{l:"Javanese",bh:"Basa Jawa",1:"jv",2:"jav","2T":"jav","2B":"jav",3:"jav"},{l:"Kalaallisut",bh:"Kalaallisut",1:"kl",2:"kal","2T":"kal","2B":"kal",3:"kal"},{l:"Kannada",bh:"\u0c95\u0ca8\u0ccd\u0ca8\u0ca1",1:"kn",2:"kan","2T":"kan","2B":"kan",3:"kan"},{l:"Kanuri",bh:"Kanuri",1:"kr",2:"kau","2T":"kau","2B":"kau",3:"kau"},{l:"Kashmiri",bh:"\u0643\u0634\u0645\u064a\u0631\u064a",1:"ks",2:"kas","2T":"kas","2B":"kas",3:"kas"},{l:"Kazakh",bh:"\u049a\u0430\u0437\u0430\u049b\u0448\u0430",1:"kk",2:"kaz","2T":"kaz","2B":"kaz",3:"kaz"},{l:"Khmer",bh:"\u1797\u17b6\u179f\u17b6\u1781\u17d2\u1798\u17c2\u179a",1:"km",2:"khm","2T":"khm","2B":"khm",3:"khm"},{l:"Kikuyu",bh:"G\u0129k\u0169y\u0169",1:"ki",2:"kik","2T":"kik","2B":"kik",3:"kik"},{l:"Kinyarwanda",bh:"Kinyarwanda",1:"rw",2:"kin","2T":"kin","2B":"kin",3:"kin"},{l:"Kyrgyz",bh:"\u041a\u044b\u0440\u0433\u044b\u0437\u0447\u0430",1:"ky",2:"kir","2T":"kir","2B":"kir",3:"kir"},{l:"Komi",bh:"\u041a\u043e\u043c\u0438",1:"kv",2:"kom","2T":"kom","2B":"kom",3:"kom"},{l:"Kongo",bh:"Kongo",1:"kg",2:"kon","2T":"kon","2B":"kon",3:"kon"},{l:"Korean",bh:"\ud55c\uad6d\uc5b4",1:"ko",2:"kor","2T":"kor","2B":"kor",3:"kor"},{l:"Kurdish",bh:"Kurd\xee",1:"ku",2:"kur","2T":"kur","2B":"kur",3:"kur"},{l:"Kwanyama",bh:"Kuanyama",1:"kj",2:"kua","2T":"kua","2B":"kua",3:"kua"},{l:"Latin",bh:"Latina",1:"la",2:"lat","2T":"lat","2B":"lat",3:"lat"},{l:"Luxembourgish",bh:"L\xebtzebuergesch",1:"lb",2:"ltz","2T":"ltz","2B":"ltz",3:"ltz"},{l:"Ganda",bh:"Luganda",1:"lg",2:"lug","2T":"lug","2B":"lug",3:"lug"},{l:"Limburgish",bh:"Limburgs",1:"li",2:"lim","2T":"lim","2B":"lim",3:"lim"},{l:"Lingala",bh:"Ling\xe1la",1:"ln",2:"lin","2T":"lin","2B":"lin",3:"lin"},{l:"Lao",bh:"\u0e9e\u0eb2\u0eaa\u0eb2\u0ea5\u0eb2\u0ea7",1:"lo",2:"lao","2T":"lao","2B":"lao",3:"lao"},{l:"Lithuanian",bh:"Lietuvi\u0173",1:"lt",2:"lit","2T":"lit","2B":"lit",3:"lit"},{l:"Luba-Katanga",bh:"Tshiluba",1:"lu",2:"lub","2T":"lub","2B":"lub",3:"lub"},{l:"Latvian",bh:"Latvie\u0161u",1:"lv",2:"lav","2T":"lav","2B":"lav",3:"lav"},{l:"Manx",bh:"Gaelg",1:"gv",2:"glv","2T":"glv","2B":"glv",3:"glv"},{l:"Macedonian",bh:"\u041c\u0430\u043a\u0435\u0434\u043e\u043d\u0441\u043a\u0438",1:"mk",2:"mkd","2T":"mkd","2B":"mac",3:"mkd"},{l:"Malagasy",bh:"Malagasy",1:"mg",2:"mlg","2T":"mlg","2B":"mlg",3:"mlg"},{l:"Malay",bh:"Bahasa Melayu",1:"ms",2:"msa","2T":"msa","2B":"may",3:"msa"},{l:"Malayalam",bh:"\u0d2e\u0d32\u0d2f\u0d3e\u0d33\u0d02",1:"ml",2:"mal","2T":"mal","2B":"mal",3:"mal"},{l:"Maltese",bh:"Malti",1:"mt",2:"mlt","2T":"mlt","2B":"mlt",3:"mlt"},{l:"M\u0101ori",bh:"M\u0101ori",1:"mi",2:"mri","2T":"mri","2B":"mao",3:"mri"},{l:"Marathi",bh:"\u092e\u0930\u093e\u0920\u0940",1:"mr",2:"mar","2T":"mar","2B":"mar",3:"mar"},{l:"Marshallese",bh:"Kajin M\u0327aje\u013c",1:"mh",2:"mah","2T":"mah","2B":"mah",3:"mah"},{l:"Mongolian",bh:"\u041c\u043e\u043d\u0433\u043e\u043b",1:"mn",2:"mon","2T":"mon","2B":"mon",3:"mon"},{l:"Nauru",bh:"Dorerin Naoero",1:"na",2:"nau","2T":"nau","2B":"nau",3:"nau"},{l:"Navajo",bh:"Din\xe9 Bizaad",1:"nv",2:"nav","2T":"nav","2B":"nav",3:"nav"},{l:"Northern Ndebele",bh:"isiNdebele",1:"nd",2:"nde","2T":"nde","2B":"nde",3:"nde"},{l:"Nepali",bh:"\u0928\u0947\u092a\u093e\u0932\u0940",1:"ne",2:"nep","2T":"nep","2B":"nep",3:"nep"},{l:"Ndonga",bh:"Owambo",1:"ng",2:"ndo","2T":"ndo","2B":"ndo",3:"ndo"},{l:"Norwegian Bokm\xe5l",bh:"Norsk (Bokm\xe5l)",1:"nb",2:"nob","2T":"nob","2B":"nob",3:"nob"},{l:"Norwegian Nynorsk",bh:"Norsk (Nynorsk)",1:"nn",2:"nno","2T":"nno","2B":"nno",3:"nno"},{l:"Norwegian",bh:"Norsk",1:"no",2:"nor","2T":"nor","2B":"nor",3:"nor"},{l:"Nuosu",bh:"\ua188\ua320\ua4bf Nuosuhxop",1:"ii",2:"iii","2T":"iii","2B":"iii",3:"iii"},{l:"Southern Ndebele",bh:"isiNdebele",1:"nr",2:"nbl","2T":"nbl","2B":"nbl",3:"nbl"},{l:"Occitan",bh:"Occitan",1:"oc",2:"oci","2T":"oci","2B":"oci",3:"oci"},{l:"Ojibwe",bh:"\u140a\u14c2\u1511\u14c8\u142f\u14a7\u140e\u14d0",1:"oj",2:"oji","2T":"oji","2B":"oji",3:"oji"},{l:"Old Church Slavonic",bh:"\u0421\u043b\u043e\u0432\u0463\u0301\u043d\u044c\u0441\u043a\u044a",1:"cu",2:"chu","2T":"chu","2B":"chu",3:"chu"},{l:"Oromo",bh:"Afaan Oromoo",1:"om",2:"orm","2T":"orm","2B":"orm",3:"orm"},{l:"Oriya",bh:"\u0b13\u0b21\u0b3f\u0b3c\u0b06",1:"or",2:"ori","2T":"ori","2B":"ori",3:"ori"},{l:"Ossetian",bh:"\u0418\u0440\u043e\u043d \xe6\u0432\u0437\u0430\u0433",1:"os",2:"oss","2T":"oss","2B":"oss",3:"oss"},{l:"Panjabi",bh:"\u0a2a\u0a70\u0a1c\u0a3e\u0a2c\u0a40",1:"pa",2:"pan","2T":"pan","2B":"pan",3:"pan"},{l:"P\u0101li",bh:"\u092a\u093e\u0934\u093f",1:"pi",2:"pli","2T":"pli","2B":"pli",3:"pli"},{l:"Persian",bh:"\u0641\u0627\u0631\u0633\u06cc",1:"fa",2:"fas","2T":"fas","2B":"per",3:"fas"},{l:"Polish",bh:"Polski",1:"pl",2:"pol","2T":"pol","2B":"pol",3:"pol"},{l:"Pashto",bh:"\u067e\u069a\u062a\u0648",1:"ps",2:"pus","2T":"pus","2B":"pus",3:"pus"},{l:"Portuguese",bh:"Portugu\xeas",1:"pt",2:"por","2T":"por","2B":"por",3:"por"},{l:"Quechua",bh:"Runa Simi",1:"qu",2:"que","2T":"que","2B":"que",3:"que"},{l:"Romansh",bh:"Rumantsch",1:"rm",2:"roh","2T":"roh","2B":"roh",3:"roh"},{l:"Kirundi",bh:"Kirundi",1:"rn",2:"run","2T":"run","2B":"run",3:"run"},{l:"Romanian",bh:"Rom\xe2n\u0103",1:"ro",2:"ron","2T":"ron","2B":"rum",3:"ron"},{l:"Russian",bh:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",1:"ru",2:"rus","2T":"rus","2B":"rus",3:"rus"},{l:"Sanskrit",bh:"\u0938\u0902\u0938\u094d\u0915\u0943\u0924\u092e\u094d",1:"sa",2:"san","2T":"san","2B":"san",3:"san"},{l:"Sardinian",bh:"Sardu",1:"sc",2:"srd","2T":"srd","2B":"srd",3:"srd"},{l:"Sindhi",bh:"\u0633\u0646\u068c\u064a\u200e",1:"sd",2:"snd","2T":"snd","2B":"snd",3:"snd"},{l:"Northern Sami",bh:"S\xe1megiella",1:"se",2:"sme","2T":"sme","2B":"sme",3:"sme"},{l:"Samoan",bh:"Gagana S\u0101moa",1:"sm",2:"smo","2T":"smo","2B":"smo",3:"smo"},{l:"Sango",bh:"S\xe4ng\xf6",1:"sg",2:"sag","2T":"sag","2B":"sag",3:"sag"},{l:"Serbian",bh:"\u0421\u0440\u043f\u0441\u043a\u0438",1:"sr",2:"srp","2T":"srp","2B":"srp",3:"srp"},{l:"Gaelic",bh:"G\xe0idhlig",1:"gd",2:"gla","2T":"gla","2B":"gla",3:"gla"},{l:"Shona",bh:"ChiShona",1:"sn",2:"sna","2T":"sna","2B":"sna",3:"sna"},{l:"Sinhala",bh:"\u0dc3\u0dd2\u0d82\u0dc4\u0dbd",1:"si",2:"sin","2T":"sin","2B":"sin",3:"sin"},{l:"Slovak",bh:"Sloven\u010dina",1:"sk",2:"slk","2T":"slk","2B":"slo",3:"slk"},{l:"Slovene",bh:"Sloven\u0161\u010dina",1:"sl",2:"slv","2T":"slv","2B":"slv",3:"slv"},{l:"Somali",bh:"Soomaaliga",1:"so",2:"som","2T":"som","2B":"som",3:"som"},{l:"Southern Sotho",bh:"Sesotho",1:"st",2:"sot","2T":"sot","2B":"sot",3:"sot"},{l:"Spanish",bh:"Espa\xf1ol",1:"es",2:"spa","2T":"spa","2B":"spa",3:"spa"},{l:"Sundanese",bh:"Basa Sunda",1:"su",2:"sun","2T":"sun","2B":"sun",3:"sun"},{l:"Swahili",bh:"Kiswahili",1:"sw",2:"swa","2T":"swa","2B":"swa",3:"swa"},{l:"Swati",bh:"SiSwati",1:"ss",2:"ssw","2T":"ssw","2B":"ssw",3:"ssw"},{l:"Swedish",bh:"Svenska",1:"sv",2:"swe","2T":"swe","2B":"swe",3:"swe"},{l:"Tamil",bh:"\u0ba4\u0bae\u0bbf\u0bb4\u0bcd",1:"ta",2:"tam","2T":"tam","2B":"tam",3:"tam"},{l:"Telugu",bh:"\u0c24\u0c46\u0c32\u0c41\u0c17\u0c41",1:"te",2:"tel","2T":"tel","2B":"tel",3:"tel"},{l:"Tajik",bh:"\u0422\u043e\u04b7\u0438\u043a\u04e3",1:"tg",2:"tgk","2T":"tgk","2B":"tgk",3:"tgk"},{l:"Thai",bh:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",1:"th",2:"tha","2T":"tha","2B":"tha",3:"tha"},{l:"Tigrinya",bh:"\u1275\u130d\u122d\u129b",1:"ti",2:"tir","2T":"tir","2B":"tir",3:"tir"},{l:"Tibetan Standard",bh:"\u0f56\u0f7c\u0f51\u0f0b\u0f61\u0f72\u0f42",1:"bo",2:"bod","2T":"bod","2B":"tib",3:"bod"},{l:"Turkmen",bh:"T\xfcrkmen\xe7e",1:"tk",2:"tuk","2T":"tuk","2B":"tuk",3:"tuk"},{l:"Tagalog",bh:"Tagalog",1:"tl",2:"tgl","2T":"tgl","2B":"tgl",3:"tgl"},{l:"Tswana",bh:"Setswana",1:"tn",2:"tsn","2T":"tsn","2B":"tsn",3:"tsn"},{l:"Tonga",bh:"faka Tonga",1:"to",2:"ton","2T":"ton","2B":"ton",3:"ton"},{l:"Turkish",bh:"T\xfcrk\xe7e",1:"tr",2:"tur","2T":"tur","2B":"tur",3:"tur"},{l:"Tsonga",bh:"Xitsonga",1:"ts",2:"tso","2T":"tso","2B":"tso",3:"tso"},{l:"Tatar",bh:"\u0422\u0430\u0442\u0430\u0440\u0447\u0430",1:"tt",2:"tat","2T":"tat","2B":"tat",3:"tat"},{l:"Twi",bh:"Twi",1:"tw",2:"twi","2T":"twi","2B":"twi",3:"twi"},{l:"Tahitian",bh:"Reo M\u0101\u2019ohi",1:"ty",2:"tah","2T":"tah","2B":"tah",3:"tah"},{l:"Uyghur",bh:"\u0626\u06c7\u064a\u063a\u06c7\u0631\u0686\u0647",1:"ug",2:"uig","2T":"uig","2B":"uig",3:"uig"},{l:"Ukrainian",bh:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",1:"uk",2:"ukr","2T":"ukr","2B":"ukr",3:"ukr"},{l:"Urdu",bh:"\u0627\u0631\u062f\u0648",1:"ur",2:"urd","2T":"urd","2B":"urd",3:"urd"},{l:"Uzbek",bh:"O\u2018zbek",1:"uz",2:"uzb","2T":"uzb","2B":"uzb",3:"uzb"},{l:"Venda",bh:"Tshiven\u1e13a",1:"ve",2:"ven","2T":"ven","2B":"ven",3:"ven"},{l:"Vietnamese",bh:"Ti\u1ebfng Vi\u1ec7t",1:"vi",2:"vie","2T":"vie","2B":"vie",3:"vie"},{l:"Volap\xfck",bh:"Volap\xfck",1:"vo",2:"vol","2T":"vol","2B":"vol",3:"vol"},{l:"Walloon",bh:"Walon",1:"wa",2:"wln","2T":"wln","2B":"wln",3:"wln"},{l:"Welsh",bh:"Cymraeg",1:"cy",2:"cym","2T":"cym","2B":"wel",3:"cym"},{l:"Wolof",bh:"Wolof",1:"wo",2:"wol","2T":"wol","2B":"wol",3:"wol"},{l:"Western Frisian",bh:"Frysk",1:"fy",2:"fry","2T":"fry","2B":"fry",3:"fry"},{l:"Xhosa",bh:"isiXhosa",1:"xh",2:"xho","2T":"xho","2B":"xho",3:"xho"},{l:"Yiddish",bh:"\u05d9\u05d9\u05b4\u05d3\u05d9\u05e9",1:"yi",2:"yid","2T":"yid","2B":"yid",3:"yid"},{l:"Yoruba",bh:"Yor\xf9b\xe1",1:"yo",2:"yor","2T":"yor","2B":"yor",3:"yor"},{l:"Zhuang",bh:"Cuengh",1:"za",2:"zha","2T":"zha","2B":"zha",3:"zha"},{l:"Zulu",bh:"isiZulu",1:"zu",2:"zul","2T":"zul","2B":"zul",3:"zul"}];F(),Et(),Ut();function SL(t){var n,i=null!=(n=function(t){var n=t.O0,i=new TC;return i.W0(n,0,n.byteLength),LC(i).w1}(t))?n:24;return t.tft/i}function EL(t){return t.Km===um.IC}function IL(t,n,i,r,e){for(var s,u=function(t,n,i,r){var e=i.tft,s=ue.fromNumber(t.ZN||0),u=r.lO(g_.gF(s,e));return{ift:r.iF(),eft:r,sft:u,nft:r}}(t,0,i,r),o=g_.pF(t.ct||0,i.tft),h=t.SD||0,c=!(65536&h)&&1!==(h>>24&3),a=_c(e),f=new Tc;f.ac<a.byteLength;){var v=qh(a,f);if((31&Hh(a,f,1))===BC.a1){var d,l=new TC;l.W0(e,f.ac-1,f.ac+v-1);var w=new MC(l),g=DC(u.sft,w);(d=s=s||[]).push.apply(d,[].concat(bL(g)))}f.Ny(v-1)}return Yu({},u,{ct:o.iF(),rft:o,hft:u.sft.iF(),oft:u.ift,aft:c,uft:s,cft:!1,dft:!1})}function RL(t){return{$D:t.gD.$D,tft:t.KD.gD.qD}}function CL(t){return t.Km===um.OR}F(),Et(),Dt(),F(),Et(),Dt(),Ut(),F(),Et(),H(),Ut(),F(),Et(),F(),Et(),F(),Et(),Dt(),F(),Et(),F(),Et();var DL=function(){function t(t,n){this.vit=void 0,this.eit=void 0,this.vit=t,this.eit=n}return t.prototype.zO=function(t){return this.vit===t.vit&&this.eit===t.eit},t}();F(),Et(),Bt(),Ut();var PL=function(){function t(t,n){this.uZ=void 0,this.fft=void 0,this.lft=void 0,this.uZ=t,this.fft=n,this.lft=""}var n=t.prototype;return n.vft=function(t){this.lft+=t},n._ft=function(t){for(var n,i=Lt(t);!(n=i()).done;){var r=n.value;this.vft(r)}},Nt(t,[{key:"Iit",get:function(){return this.lft}},{key:"Tit",get:function(){return[this]}},{key:"Pit",get:function(){return this.uZ}},{key:"oit",get:function(){return this.fft}},{key:"cit",get:function(){return new DL(this.oit.vit,this.oit.eit+this.Iit.length-1)}}]),t}();function NL(t,n){return t===n||t.Iit===n.Iit&&t.oit.zO(n.oit)&&Mw(t.Pit,n.Pit)}function BL(t,n){return t===n||t.oit.zO(n.oit)&&t.cit.zO(n.cit)&&Qi(t.Tit,n.Tit,NL)}var xL=function(t){function n(n,i,r){return t.call(this,n,i,r,!1)||this}return Ct(n,t),n.prototype.GO=function(t){return Qi(this.U,t.U,BL)},n}(Yg);F(),Et(),Bt();var OL=function(){function t(){}var n=t.prototype;return n.gft=function(t){return t.vU(this)},n.pft=function(t){var n=this;return Ji(t,function(t,i){return t.vU(n,i)})},n.mft=function(t,n){return new ML(t,n).wft()},t}(),ML=function(){function t(t,n){this.vit=void 0,this.Eft=void 0,this.Sft=void 0,this.kft=void 0,this.vit=t,this.Eft=n,this.Sft=[],this.kft=null}var n=t.prototype;return n.wft=function(){if(this.yft)return[];for(var t=0;t<this.vit.length;t++)this.Aft(t);return this.bft(),this.Sft},n.Tft=function(t){this.kft=new PL(NB,new DL(this.Eft,t))},n.bft=function(){this.kft&&(this.Sft.push(this.kft),this.kft=null)},n.Aft=function(t){var n=this.vit[t];LL(n)?this.kft&&this.bft():(this.kft||this.Tft(t),this.kft.vft(n))},Nt(t,[{key:"yft",get:function(){return this.vit.every(LL)}}]),t}();function LL(t){return null==t}var UL=function(){function t(){}return t.Pft=function(t,n,i){if(!(n>=i)){var r=Ji(t,function(t,n){return new ML(t.map(function(t){return t?t.xft():null}),n).wft()});if(0!==r.length)return new xL(n,i,r)}},t}(),FL="black",VL="white";F(),Et(),F(),Et();var HL=[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce(function(t,n){return t[n[0]]=n[1],t},{}),WL=function(){function t(){this.Rft=[],this.Bft=0,this.Lft=void 0;for(var t=0;t<MB;t++)this.Rft.push(null);this.Lft=!1}var n=t.prototype;return n.Ift=function(t){for(var n=0;n<MB;n++)t&&(this.Rft[n]=t.Rft[n])},n.zO=function(t){for(var n=0;n<MB;n++)if(this.Rft[n]!==t.Rft[n])return!1;return!0},n.Cft=function(){for(var t=0;t<MB;t++)if(null!==this.Rft[t])return!1;return!0},n.Dft=function(t){this.Bft!==t&&(this.Bft=t),this.Bft<0?this.Bft=0:this.Bft>MB&&(this.Bft=31)},n.Nft=function(t){var n=this.Bft+t;this.Dft(n)},n.Mft=function(){this.Nft(-1),this.Rft[this.Bft]=null},n.vft=function(t){t>=144&&this.Mft();var n=function(t){return HL[t]?String.fromCharCode(HL[t]):String.fromCharCode(t)}(t);this.addParsedChar(n)},n.addParsedChar=function(t){this.Bft>=MB||(32===Number(t)?(this.Rft[this.Bft]=this.Lft?"</i>":"<i>",this.Lft=!this.Lft):this.Rft[this.Bft]=t,this.Nft(1))},n.Oft=function(t){for(var n=t;n<MB;n++)this.Rft[n]=null},n.Gy=function(){this.Oft(0),this.Bft=0},n.Fft=function(){this.Oft(this.Bft)},n.Uft=function(t,n){for(var i=this.Rft,r=null,e=0;e<MB;e++){var s=i[e];null===s?r=null:(r||(r={Gh:e,Xh:t,Ti:0,Mi:1,Rft:[[]]},n.push(r)),r.Rft[0].push(s),r.Ti++)}},n.vU=function(t,n){return t.mft(this.Rft,n)},t}();var zL=function(){function t(t,n){this.qft=void 0,this.Xft=void 0,this.Yft=void 0,this.Hft=void 0,this.Wft=void 0,this.svt=void 0,this.rvt=void 0,this.avt=void 0,this.cvt=void 0,this.qft=new Array(XL+1);for(var i=0;i<=XL;i++)this.qft[i]=new WL;this.Xft=1,this.Yft=0,this.Hft=t,this.Wft=n,this.svt=!1,this.rvt=!1,this.avt=VL,this.cvt=FL,this.hr()}var n=t.prototype;return n.Vft=function(t,n){var i="CC"+(this.Hft<<1|this.Wft+1);if(t>=n)return null;var r=(new OL).pft(this.qft.slice(1));return 0===r.length?null:{TO:new xL(t,n,r),WT:i,zft:this.Hft<<1|this.Wft+1}},n.hr=function(){this.Gft(),this.Xft=1},n.jft=function(){return this.Xft},n.Qft=function(t){this.Xft=t},n.Dft=function(t){this.qft[this.Xft].Dft(t)},n.Nft=function(t){this.qft[this.Xft].Nft(t)},n.Kft=function(){return this.Yft},n.Jft=function(t){this.Yft=t},n.vft=function(t,n){if(!(n<32||n>127)){var i="";switch(t){case 0:i=void 0!==GL[n]?GL[n]:String.fromCharCode(n);break;case 1:i=jL[n];break;case 2:this.Zft(),i=QL[n];break;case 3:this.Zft(),i=YL[n]}i&&this.qft[this.Xft].addParsedChar(i)}},n.Zft=function(){this.qft[this.Xft].Mft()},n.$ft=function(t,n,i){if(t>=n)for(var r=i-1;r>=0;r--)this.qft[t+r]=this.qft[n+r];else for(var e=0;e<i;e++)this.qft[t+e]=this.qft[n+e]},n.tvt=function(t,n){for(var i=0;i<=n;i++)this.qft[t+i]=new WL},n.Gft=function(){this.tvt(0,XL)},n.ivt=function(){this.Xft=this.Yft>0?this.Yft:0,this.Gft()},n.evt=function(t){this.svt=t},n.nvt=function(t){this.rvt=t},n.ovt=function(t){this.avt=t},n.uvt=function(t){this.cvt=t},t}(),XL=15,qL=function(t){return t[t.dvt=0]="dvt",t[t.lvt=1]="lvt",t[t.fvt=2]="fvt",t[t.vvt=3]="vvt",t}({}),GL={39:"\u2019",42:"\xe1",92:"\xe9",94:"\xed",95:"\xf3",96:"\xfa",123:"\xe7",124:"\xf7",125:"\xd1",126:"\xf1",127:"\u2588"},jL={48:"\xae",49:"\xb0",50:"\xbd",51:"\xbf",52:"\u2122",53:"\xa2",54:"\xa3",55:"\u266a",56:"\xe0",57:"\u2800",58:"\xe8",59:"\xe2",60:"\xea",61:"\xee",62:"\xf4",63:"\xfb"},QL={32:"\xc1",33:"\xc9",34:"\xd3",35:"\xda",36:"\xdc",37:"\xfc",38:"\u2018",39:"\xa1",40:"*",41:"'",42:"\u2500",43:"\xa9",44:"\u2120",45:"\xb7",46:"\u201c",47:"\u201d",48:"\xc0",49:"\xc2",50:"\xc7",51:"\xc8",52:"\xca",53:"\xcb",54:"\xeb",55:"\xce",56:"\xcf",57:"\xef",58:"\xd4",59:"\xd9",60:"\xf9",61:"\xdb",62:"\xab",63:"\xbb"},YL={32:"\xc3",33:"\xe3",34:"\xcd",35:"\xcc",36:"\xec",37:"\xd2",38:"\xf2",39:"\xd5",40:"\xf5",41:"{",42:"}",43:"\\",44:"^",45:"_",46:"|",47:"~",48:"\xc4",49:"\xe4",50:"\xd6",51:"\xf6",52:"\xdf",53:"\xa5",54:"\xa4",55:"\u2502",56:"\xc5",57:"\xe5",58:"\xd8",59:"\xf8",60:"\u250c",61:"\u2510",62:"\u2514",63:"\u2518"},KL=function(){function t(t,n){this.Vp=void 0,this.Avt=void 0,this.mvt=void 0,this.yvt=void 0,this.pvt=void 0,this.gvt=void 0,this.wvt=void 0,this._vt=void 0,this.Vp=0,this.Avt=new zL(t,n),this.mvt=new zL(t,n),this.yvt=new zL(t,n),this.pvt=this.mvt,this.gvt=0,this.wvt=void 0,this._vt=!1}var n=t.prototype;return n.hr=function(){this._vt=!0,this.gvt=0,this.Vp=0,this.pvt=this.mvt,this.wvt=void 0,this.mvt.hr(),this.yvt.hr(),this.Avt.hr()},n.bvt=function(t,n){return[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&t)<<1|n>>5&1]},n.Svt=function(t,n){var i=this.bvt(t,n),r=(30&n)>>1,e=VL,s=!1;r<7?e=$L[r]:7===r&&(s=!0);var u=!(1&~n);if(4!==this.Vp){var o=this.pvt;if(3===this.Vp&&i!==o.jft()){var h=1+o.jft()-o.Kft(),c=1+i-o.Kft();o.$ft(c,h,o.Kft()),o.tvt(0,c-1),o.tvt(i+1,XL-i)}o.Qft(i);var a=xB[t<<1&14|n>>5&1]-1;if(!(a<0)){var f=function(t,n){var i=n>95?n-96:n-64;return{iit:BB[i].iit,tit:BB[i].tit,eit:BB[i].eit,vit:t}}(a,n);o.Dft(f.eit),this.pvt.evt(u),this.pvt.nvt(s),this.pvt.ovt(e),this.pvt.uvt(FL)}}},n.Tvt=function(t,n){this.pvt.evt(!1),this.pvt.nvt(!1),this.pvt.ovt(VL);var i=this.kvt(t,qL.dvt," ".charCodeAt(0)),r=VL,e=!1,s=!(1&~n);return"white_italics"===(r=$L[(14&n)>>1])&&(r="white",e=!0),this.pvt.evt(s),this.pvt.nvt(e),this.pvt.ovt(r),i},n.kvt=function(t,n,i){if(this.pvt.vft(n,i),2===this.Vp||3===this.Vp){var r=this.Evt(this.pvt,this.gvt,t);return this.gvt=t,r}return null},n.Evt=function(t,n,i){return this._vt?null:2===this.Vp||3===this.Vp?t.Vft(i,i+10):t.Vft(n,i)},n.Pvt=function(t,n){var i=FL;7&t||(i=ZL[(14&n)>>1]),this.pvt.uvt(i)},n.xvt=function(t){var n=JL,i=t.Ivt,r=t.Rvt,e=null;switch(i){case n.RCL:this.Cvt();break;case n.BS:this.Dvt();break;case n.AOD:case n.AON:case n.DER:break;case n.RU2:e=this.Bvt(2,r);break;case n.RU3:e=this.Bvt(3,r);break;case n.RU4:e=this.Bvt(4,r);break;case n.FON:e=this.Nvt(r);break;case n.RDC:this.Mvt(r);break;case n.TR:this.Lvt();break;case n.RTD:this.Ovt();break;case n.EDM:e=this.Fvt(r);break;case n.CR:e=this.Uvt(r);break;case n.ENM:this.Vvt();break;case n.EOC:e=this.Hvt(r)}return e},n.Uvt=function(t){var n=this.pvt;if(3!==this.Vp)return null;var i=this.Evt(n,this.gvt,t),r=n.jft()-n.Kft()+1;return n.$ft(r-1,r,n.Kft()),n.tvt(0,r-1),n.tvt(n.jft(),XL-n.jft()),this.gvt=t,i},n.Bvt=function(t,n){this.pvt=this.mvt;var i=this.pvt,r=null;return 3!==this.Vp&&4!==this.Vp&&(r=this.Evt(i,this.gvt,n),this.mvt.ivt(),this.yvt.ivt(),this._vt=!1,i.Qft(XL)),this.Vp=3,i.Jft(t),r},n.Nvt=function(t){return this.kvt(t,qL.dvt," ".charCodeAt(0))},n.Fvt=function(t){var n=this.mvt,i=null;return 4!==this.Vp&&(i=this.Evt(n,this.gvt,t)),n.Gft(),this._vt=!1,i},n.Mvt=function(t){this.Vp=2,this.pvt=this.mvt,this.pvt.Jft(0),this.gvt=t},n.Vvt=function(){this.yvt.Gft()},n.Hvt=function(t){var n=null;4!==this.Vp&&(n=this.Evt(this.mvt,this.gvt,t));var i=this.yvt;return this.yvt=this.mvt,this.mvt=i,this.Cvt(),this.gvt=t,n},n.Cvt=function(){this.Vp=1,this.pvt=this.yvt,this.pvt.Jft(0)},n.Dvt=function(){this.pvt.Zft()},n.Lvt=function(){this.Avt.hr(),this._vt=!1,this.Ovt()},n.Ovt=function(){this.pvt=this.Avt,this.Vp=4},n.Wvt=function(t,n,i){return this.pvt.vft(qL.dvt,n),this.kvt(t,qL.dvt,i)},n.qvt=function(t,n,i){var r=1&n?qL.vvt:qL.fvt;return this.kvt(t,r,i)},n.zvt=function(t){var n=t.Gvt,i=t.Ivt,r=t.Rvt;if(this.wvt===(n<<8|i))return this.wvt=void 0,null;if(this.wvt=n<<8|i,this.Xvt(n,i))this.Svt(n,i);else{if(this.jvt(n,i))return this.Tvt(r,i);if(this.Qvt(n,i))this.Pvt(n,i);else{if(this.Kvt(n,i))return this.kvt(r,qL.lvt,i);if(this.Yvt(n,i))return this.qvt(r,n,i);if(this.Jvt(n,i))return this.xvt(t);this.isTabOffset(n)&&this.pvt.Nft(i-32)}}return null},n.isTabOffset=function(t){return 23===t||31===t},n.Jvt=function(t,n){return 20==(246&t)&&32==(240&n)},n.Xvt=function(t,n){return 16==(240&t)&&64==(192&n)},n.jvt=function(t,n){return 17==(247&t)&&32==(240&n)},n.Qvt=function(t,n){return 16==(247&t)&&32==(240&n)||23==(247&t)&&45==(255&n)},n.Kvt=function(t,n){return 17==(247&t)&&48==(240&n)},n.Yvt=function(t,n){return 18==(246&t)&&32==(224&n)},t.Zvt=function(t){return 16==(112&t)},t}(),JL={RCL:32,BS:33,AOD:34,AON:35,DER:36,RU2:37,RU3:38,RU4:39,FON:40,RDC:41,TR:42,RTD:43,EDM:44,CR:45,ENM:46,EOC:47},ZL=["black","green","blue","cyan","red","yellow","magenta","black"],$L=["white","green","blue","cyan","red","yellow","magenta","white_italics"];F(),Et(),Ut(),Qt(),F(),Et(),F(),Et();var tU=function(){function t(t,n,i,r,e){this.$vt=void 0,this.svt=void 0,this.rvt=void 0,this.cvt=void 0,this.avt=void 0,this.$vt=t,this.svt=n,this.rvt=i,this.cvt=r,this.avt=e}var n=t.prototype;return n.xft=function(){return this.$vt},n.t_t=function(){return this.svt},n.i_t=function(){return this.rvt},n.e_t=function(){return this.cvt},n.s_t=function(){return this.avt},t}(),nU=function(){function t(t){this.C_t=void 0,this.yz=void 0,this.a_t=void 0,this.h_t=void 0,this.r_t=void 0,this.o_t=void 0,this.u_t=void 0,this.c_t=void 0,this.I_t=void 0,this.l_t=void 0,this.OO=void 0,this.Xft=void 0,this.g_t=void 0,this.rvt=void 0,this.svt=void 0,this.avt=void 0,this.cvt=void 0,this.C_t=t,this.yz=!1,this.a_t=!1,this.h_t=0,this.r_t=0,this.o_t=0,this.u_t=0,this.c_t=0,this.I_t=2,this.l_t=[],this.OO=0,this.Xft=0,this.g_t=0,this.rvt=!1,this.svt=!1,this.avt=VL,this.cvt=FL,this.d_t()}var n=t.prototype;return n.n_t=function(t,n,i,r,e,s,u){this.yz=t,this.r_t=n,this.h_t=i,this.o_t=r,this.a_t=e,this.u_t=s,this.c_t=u},n.d_t=function(){this.l_t=[];for(var t=0;t<rU;t++)this.l_t.push(this.f_t())},n.f_t=function(){for(var t=[],n=0;n<iU;n++)t.push(null);return t},n.v_t=function(t){this.__t()&&(this.l_t[this.Xft][this.g_t]=new tU(t,this.svt,this.rvt,this.cvt,this.avt),this.g_t++)},n.p_t=function(){this.__t()&&(this.g_t<=0&&this.Xft<=0||(this.g_t<=0?(this.g_t=this.c_t-1,this.Xft--):this.g_t--,this.l_t[this.Xft][this.g_t]=null))},n.__t=function(){var t=this.Xft<this.u_t&&this.Xft>=0,n=this.g_t<this.c_t&&this.g_t>=0;return t&&n},n.Re=function(){return this.yz},n.m_t=function(t){for(var n=0,i=t;i<rU;i++,n++)this.l_t[n]=this.l_t[i];for(var r=0;r<t;r++,n++)this.l_t[n]=this.f_t()},n.w_t=function(){if(this.Xft+1>=this.u_t)return this.m_t(1),void(this.g_t=0);this.Xft++,this.g_t=0},n.y_t=function(){this.l_t[this.Xft]=this.f_t(),this.g_t=0},n.Vft=function(t,n){if(this.OO>=t)return null;var i=UL.Pft(this.l_t,this.OO,t);return i?(this.A_t(t),{TO:i,WT:"svc"+n,zft:n}):null},n.b_t=function(t,n){this.Xft=t,this.g_t=n},n.S_t=function(t){this.cvt=t},n.T_t=function(t){this.avt=t},n.k_t=function(t){this.svt=t},n.E_t=function(t){this.rvt=t},n.P_t=function(){this.Xft=0,this.g_t=0,this.svt=!1,this.rvt=!1,this.avt=VL,this.cvt=FL},n.x_t=function(t){this.I_t=t},n.R_t=function(){this.yz=!0},n.we=function(){this.yz=!1},n.Mh=function(){this.yz=!this.yz},n.A_t=function(t){this.OO=t},t}(),iU=42,rU=15,eU=function(){function t(t){this.q_t=void 0,this.$_t=void 0,this.W_t=void 0,this.q_t=t,this.$_t=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],this.W_t=void 0}var n=t.prototype;return n.D_t=function(t){var n=t.B_t(),i=n.zE,r=n.Rvt;i===cU&&(i=i<<16|t.B_t().zE);return i>=0&&i<=31?this.N_t(i,r):i>=128&&i<=159?this.M_t(t,i,r):(i>=4096&&i<=4127?this.L_t(t,255&i):i>=4224&&i<=4255?this.O_t(t,255&i):i>=32&&i<=127?this.F_t(i):i>=160&&i<=255?this.U_t(i):i>=4128&&i<=4223?this.V_t(255&i):i>=4256&&i<=4351&&this.H_t(255&i),null)},n.F_t=function(t){this.W_t&&(127!==t?this.W_t.v_t(String.fromCharCode(t)):this.W_t.v_t("\u266a"))},n.U_t=function(t){this.W_t&&this.W_t.v_t(String.fromCharCode(t))},n.V_t=function(t){if(this.W_t)if(void 0!==aU[t]){var n=aU[t];this.W_t.v_t(n)}else this.W_t.v_t("_")},n.H_t=function(t){this.W_t&&(160===t?this.W_t.v_t("[CC]"):this.W_t.v_t("_"))},n.N_t=function(t,n){if(!this.W_t)return null;var i=this.W_t,r=null;switch(t){case sU:i.p_t();break;case oU:i.Re()&&(r=i.Vft(n,this.q_t)),i.w_t();break;case hU:i.Re()&&(r=i.Vft(n,this.q_t)),i.y_t();break;case uU:i.Re()&&(r=i.Vft(n,this.q_t)),i.d_t(),i.b_t(0,0)}return r},n.M_t=function(t,n,i){if(n>=128&&n<=135){var r=7&n;this.z_t(r)}else{if(136===n){var e=t.B_t().zE;return this.G_t(e,i)}if(137===n){var s=t.B_t().zE;this.X_t(s,i)}else{if(138===n){var u=t.B_t().zE;return this.j_t(u,i)}if(139===n){var o=t.B_t().zE;return this.Q_t(o,i)}if(140===n){var h=t.B_t().zE;return this.K_t(h,i)}if(143===n)return this.hr(i);if(144===n)this.Y_t(t);else if(145===n)this.J_t(t);else if(146===n)this.b_t(t);else if(151===n)this.Z_t(t);else if(n>=152&&n<=159){var c=(15&n)-8;this.n_t(t,c,i)}}}return null},n.L_t=function(t,n){n>=8&&n<=15?t.rD(1):n>=16&&n<=23?t.rD(2):n>=24&&n<=31&&t.rD(3)},n.O_t=function(t,n){n>=128&&n<=135?t.rD(4):n>=136&&n<=143&&t.rD(5)},n.z_t=function(t){this.$_t[t]&&(this.W_t=this.$_t[t])},n.tgt=function(t){var n;return zt(this,function(i){switch(i.label){case 0:n=0,i.label=1;case 1:return n<8?!(1&~t)&&this.$_t[n]?[4,n]:[3,3]:[3,5];case 2:i.sent(),i.label=3;case 3:t>>=1,i.label=4;case 4:return n++,[3,1];case 5:return[2]}})},n.G_t=function(t,n){for(var i,r=null,e=Lt(this.tgt(t));!(i=e()).done;){var s=i.value,u=this.$_t[s];u.Re()&&(r=u.Vft(n,this.q_t)),u.d_t()}return r},n.X_t=function(t,n){for(var i,r=Lt(this.tgt(t));!(i=r()).done;){var e=i.value,s=this.$_t[e];s.Re()||s.A_t(n),s.R_t()}},n.j_t=function(t,n){for(var i,r=null,e=Lt(this.tgt(t));!(i=e()).done;){var s=i.value,u=this.$_t[s];u.Re()&&(r=u.Vft(n,this.q_t)),u.we()}return r},n.Q_t=function(t,n){for(var i,r=null,e=Lt(this.tgt(t));!(i=e()).done;){var s=i.value,u=this.$_t[s];u.Re()?r=u.Vft(n,this.q_t):u.A_t(n),u.Mh()}return r},n.K_t=function(t,n){for(var i,r=null,e=Lt(this.tgt(t));!(i=e()).done;){var s=i.value,u=this.$_t[s];u.Re()&&(r=u.Vft(n,this.q_t)),this.$_t[s]=void 0}return r},n.hr=function(t){var n=this.K_t(255,t);return this.Gy(),n},n.Gy=function(){this.W_t=void 0,this.$_t=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0]},n.Y_t=function(t){t.rD(1);var n=t.B_t().zE;if(this.W_t){var i=(128&n)>0,r=(64&n)>0;this.W_t.E_t(i),this.W_t.k_t(r)}},n.J_t=function(t){var n=t.B_t().zE,i=t.B_t().zE;if(t.rD(1),this.W_t){var r=3&n,e=(12&n)>>2,s=(48&n)>>4,u=3&i,o=(12&i)>>2,h=(48&i)>>4,c=this.igt(s,e,r),a=this.igt(h,o,u);this.W_t.T_t(c),this.W_t.S_t(a)}},n.b_t=function(t){var n=t.B_t().zE,i=t.B_t().zE;if(this.W_t){var r=15&n,e=63&i;this.W_t.b_t(r,e)}},n.Z_t=function(t){t.rD(1),t.rD(1);var n=t.B_t().zE;if(t.rD(1),this.W_t){var i=3&n;this.W_t.x_t(i)}},n.n_t=function(t,n,i){var r=void 0!==this.$_t[n];if(!r){var e=new nU(n);e.A_t(i),this.$_t[n]=e}var s=t.B_t().zE,u=t.B_t().zE,o=t.B_t().zE,h=t.B_t().zE,c=t.B_t().zE,a=t.B_t().zE,f=(32&s)>0,v=127&u,d=(128&u)>0,l=o,w=1+(15&h),g=(240&h)>>4,_=1+(63&c);r&&0===(7&a)||this.$_t[n].P_t(),this.$_t[n].n_t(f,v,l,g,d,w,_),this.W_t=this.$_t[n]},n.igt=function(t,n,i){var r={0:0,1:0,2:1,3:1};return fU[r[t]<<2|r[n]<<1|r[i]]},t}(),sU=8,uU=12,oU=13,hU=14,cU=16,aU={32:" ",33:"\xa0",37:"\u2026",42:"\u0160",44:"\u0152",48:"\u2588",49:"\u2018",50:"\u2019",51:"\u201c",52:"\u201d",53:"\u2022",57:"\u2122",58:"\u0161",60:"\u0153",61:"\u2120",63:"\u0178",118:"\u215b",119:"\u215c",120:"\u215d",121:"\u215e",122:"\u2502",123:"\u2510",124:"\u2514",125:"\u2500",126:"\u2518",127:"\u250c"},fU=["black","blue","green","cyan","red","magenta","yellow","white"];F(),Et();var vU=function(){function t(){this.rgt=void 0,this.ngt=void 0,this.sgt=void 0,this.rgt=[],this.ngt=null,this.sgt=0}var n=t.prototype;return n.egt=function(t){if(t.Km===gL.Xlt){var n=63&t.zE;return this.sgt=2*n-1,void(this.ngt=[])}if(this.ngt&&(this.sgt>0&&(this.ngt.push(t),this.sgt--),0===this.sgt)){var i=new dU(this.ngt);this.rgt.push(i),this.ngt=null,this.sgt=0}},n.hgt=function(){return this.rgt},n.ogt=function(){this.rgt=[]},n.Gy=function(){this.rgt=[],this.ngt=[],this.sgt=0},t}(),dU=function(){function t(t){this.ugt=void 0,this.cgt=void 0,this.ugt=0,this.cgt=t}var n=t.prototype;return n.agt=function(){return this.ugt<this.cgt.length},n.dgt=function(){return this.ugt},n.B_t=function(){if(!this.agt())throw new fd(cd.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");return this.cgt[this.ugt++]},n.rD=function(t){if(this.ugt+t>this.cgt.length)throw new fd(cd.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");this.ugt+=t},t}(),lU=function(){function t(){this.fgt=void 0,this.vgt=void 0,this._gt=void 0,this.lgt=void 0,this.wgt=void 0,this.pgt=void 0,this.mgt=void 0,this.ggt=void 0,this.bgt=!1,this.fgt=[],this.vgt=[],this._gt=new vU,this.lgt=0,this.wgt=$u({CC1:new KL(0,0),CC2:new KL(0,1),CC3:new KL(1,0),CC4:new KL(1,1)}),this.pgt=0,this.mgt=0,this.ggt=Zu(),this.hr()}var n=t.prototype;return n.Gy=function(){this.lgt=0,this.fgt=[],this.vgt=[],this._gt.Gy(),this.hr(),this.ggt.forEach(function(t){t.Gy()})},n.hr=function(){this.pgt=0,this.mgt=0,this.wgt.forEach(function(t){t.hr()})},n.ygt=function(t,n){if(t.Klt){var i=t.Jlt,r=t.Zlt,e=t.Km;e===gL.qlt||e===gL.zlt?this.fgt.push({Rvt:n,Km:e,Gvt:i,Ivt:r,Agt:this.fgt.length}):this.bgt&&(this.vgt.push({Rvt:n,Km:e,zE:i,Agt:this.vgt.length}),this.vgt.push({Rvt:n,Km:gL.Glt,zE:r,Agt:this.vgt.length}))}},n.rj=function(){var t=[];this.fgt.sort(function(t,n){return t.Rvt-n.Rvt||t.Agt-n.Agt}),this.vgt.sort(function(t,n){return t.Rvt-n.Rvt||t.Agt-n.Agt});for(var n,i=Lt(this.fgt);!(n=i()).done;){var r=n.value,e=this.Sgt(r);e&&t.push(e)}for(var s,u=Lt(this.vgt);!(s=u()).done;){var o=s.value;this._gt.egt(o)}for(var h,c=Lt(this._gt.hgt());!(h=c()).done;){var a,f=h.value,v=this.Tgt(f);(a=t).push.apply(a,[].concat(v))}return this._gt.ogt(),this.fgt=[],this.vgt=[],t},n.Sgt=function(t){var n=t.Km;if(KL.Zvt(t.Gvt)){var i=t.Gvt>>3&1;0===n?this.pgt=i:this.mgt=i}var r="CC"+(n<<1|(n?this.mgt:this.pgt)+1),e=this.wgt.get(r);return 255===t.Gvt&&255===t.Ivt||!t.Gvt&&!t.Ivt||!this.kgt(t.Gvt)||!this.kgt(t.Ivt)?(++this.lgt>=45&&this.hr(),null):(this.lgt=0,t.Gvt&=127,t.Ivt&=127,t.Gvt||t.Ivt?KL.Zvt(t.Gvt)?e.zvt(t):e.Wvt(t.Rvt,t.Gvt,t.Ivt):null)},n.Tgt=function(t){var n=[];try{for(;t.agt();){var i=t.B_t().zE,r=(224&i)>>5,e=31&i;if(7===r&&0!==e)r=63&t.B_t().zE;if(0!==r){if(!this.ggt.has(r)){var s=new eU(r);this.ggt.set(r,s)}for(var u=this.ggt.get(r),o=t.dgt();t.dgt()-o<e;){var h=u.D_t(t);h&&n.push(h)}}}}catch(t){if(!V(t,fd)||t.code!==cd.SUBTITLE_PARSE_ERROR)throw t}return n},n.kgt=function(t){for(var n=0;t;)n^=1&t,t>>=1;return 1===n},t}();F(),Et(),Dt();var wU=function(t){function n(n,i){var r;return(r=t.call(this,"Egt")||this).zft=void 0,r.TO=void 0,r.zft=n,r.TO=i,r}return Ct(n,t),n}(rh),gU=g_.eU(.1),_U=function(t){function n(){var n;return(n=t.call(this)||this).xgt=void 0,n.xgt=new lU,n}Ct(n,t);var i=n.prototype;return i.Pgt=function(t,n){this.xgt.ygt(t,n)},i.rj=function(){for(var t,n=Lt(this.xgt.rj());!(t=n()).done;){var i=t.value;this.So(new wU(i.zft,i.TO))}},i.hr=function(){this.xgt.Gy()},i.kn=function(){this.Vo(),this.xgt.Gy()},n}(th),mU=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Dgt=[],n}Ct(n,t);var i=n.prototype;return i.Igt=function(t,n,i,r){var e=this.Rgt(t,r);this.Cgt(e,n,i),this.rj()},i.Rgt=function(t,n){var i,r=t.slice().sort(OB),e=this.Dgt;if(0===e.length)return r;if(0===r.length)return e;var s=e[0].sit,u=e[e.length-1].sit,o=r[0].sit,h=e[0].kot===r[0].kot;if(u.lF(o).uF().aF(g_.eU(2.5*n))&&h)i=e.concat(r).sort(OB);else if(o.nF(s)){for(var c=0;c<e.length&&e[c].sit.aF(o);)c++;for(var a=!1,f=!1,v=c,d=0;v<e.length&&d<r.length;v++,d++)yU(e[v],r[d])?a=!0:f=!0;var l=a&&!f,w=a&&f;!a&&f?i=e.concat(r).sort(OB):l?i=e.slice(0,c).concat(r):(i=r,w&&this.hr())}else i=r,this.hr();return i},i.Cgt=function(t,n,i){for(var r=0;r<t.length;r++){var e=t[r],s=e.sit.iF();if(!i&&n-s<gU.iF())return void(this.Dgt=t.slice(r));this.Pgt(e,s)}this.Dgt=[]},n}(_U);function yU(t,n){return t.sit.zO(n.sit)&&t.Km===n.Km&&t.Jlt===n.Jlt&&t.Zlt===n.Zlt}var pU=function(t){function n(n){var i;return(i=t.call(this,n)||this).qgt=void 0,i.Ugt=void 0,i.Hgt=NaN,i.Wgt=NaN,i.Ngt=void 0,i.Xgt=function(t){for(var n,r=i.Mgt({nit:t.zft,rit:""}),e=t.TO,s=Lt(r.L.II);!(n=s()).done;){var u=n.value;e.EO<u.EO&&e.PO>u.EO?e.PO=u.EO:e.EO>u.EO&&u.PO>e.EO?u.PO=e.EO:e.EO===u.EO&&(e.PO=u.PO)}i.jgt(r,e)},i.Ngt=Zu(),i.qgt=new mU,i.qgt.wn("Egt",i.Xgt),i}Ct(n,t);var i=n.prototype;return i.Bgt=function(t){return this.Ngt.get(t)},i.Mgt=function(t){var n=this.Ngt.get(t.nit);return n||(n=this.Lgt(t),this.Ngt.set(t.nit,n)),n},i.Lgt=function(t){var n=[Yw.VI],i=function(t){if(t!==AL)for(var n,i=t.toLowerCase(),r=Lt(TL);!(n=r()).done;){var e=n.value;if(e[1]===i||e[2]===i||e["2T"]===i||e["2B"]===i||e[3]===i)return e}}(t.rit),r=i?i.l:"";t.Ogt&&(r="easy "+r,n.push(Yw.zI));var e=t.Th||r||"CC"+t.nit,s=this.Fgt(e,t.rit,n);return this.tt(s),s},i.Jrt=function(t){var n=ym.TD(_c(t));this.Ugt=function(t){for(var n,i=Lt(t.Z);!(n=i()).done;){var r=n.value,e=RL(r),s=r.KD.hB.uB.dB.fB,u=Ui(s,function(t){return t.Km===um.JR});if(!u){var o=s.filter(function(t){return t.Km===um.xC}),h=Ui(o,function(t){var n;return(null==(n=t.hN)?void 0:n.Km)===um.JR});h&&(u=h.hN)}if(u){var c=kC(_c(u.jB.ck),new Tc),a=u.KB;return Yu({},e,{$D:r.gD.$D,jB:Ac(u.jB.ck),Ti:u.Ti,Mi:u.Mi,CN:a&&a.CN,RN:a&&a.RN,t2:c.B0,Vgt:c.N0,i2:c.M0,O0:c.O0[0],F0:c.F0[0]})}}}(Ui(n,CL))},i.Odt=function(t,n,i,r,e,s){var u;if(this.Ugt&&(S(this.Hgt)||!Si(this.Hgt,n,1e-5))){S(this.Wgt)||Si(this.Wgt,n,.1)||this.qgt.hr();for(var o,h,c=function(t,n,i,r,e){for(var s,u=[],o=n.filter(EL),h=r(i),c=Lt(o);!(s=c()).done;){var a=s.value,f=Ui(a.Z,function(t){return t.gD.$D===i.$D});if(f)for(var v,d,l=f.gD.NN||0,w=f.gD.MN||0,g=f.GN?f.GN.GN:ue.ZERO,_=a.UN+(null!=(v=f.gD.XN)?v:ue.ZERO).toNumber(),m=Lt(f.zN);!(d=m()).done;)for(var y,p=d.value,k=_+(p.UN||0),b=Lt(p.JN);!(y=b()).done;){var A=y.value,T=A.Vy||w,S=new TC;S.W0(t,k,k+T);var E=g_.gF(g,i.tft);S.DU=e(A,a,i,E,kc(t,k,k+T)),u.push(S),k+=T,g=g.add(A.ct||l||h)}}return u}(t,ym.TD(_c(t)),this.Ugt,SL,IL),a=null!=(o=null==(u=nr(c,function(t){return t.DU.ct}))?void 0:u.DU.ct)?o:0,f=function(t){for(var n,i=[],r=Lt(t);!(n=r()).done;){var e,s=n.value;s.DU.uft&&(e=i).push.apply(e,[].concat(s.DU.uft)),delete s.DU.uft}for(var u=0;u<i.length;u+=1)i[u].VN=u;return i}(c),v=g_.eU(r),d=[],l=Lt(f);!(h=l()).done;){var w=h.value;d.push(Yu({},w,{kot:e,sit:w.jlt.lO(v)}))}this.qgt.Igt(d,i,s,a),this.Hgt=n,this.Wgt=i}},i.ZU=function(t,n,i){var r=this,e=this.zgt(t,n,i);return this.Ngt.forEach(function(n,i){n===t&&r.Ngt.set(i,e)}),e},i.hr=function(){var n=this;return this.qgt.hr(),this.Ngt.forEach(function(t){t.kn(),n.it(t),n.Ggt(t)}),this.Ngt.clear(),this.Ugt=void 0,this.Hgt=NaN,this.Wgt=NaN,t.prototype.hr.call(this)},i.kn=function(){return this.qgt.mn("Egt",this.Xgt),this.qgt.kn(),t.prototype.kn.call(this)},n}(fy),kU=function(t){function n(){return t.apply(this,arguments)||this}Ct(n,t);var i=n.prototype;return i.Ggt=function(t){},i.jgt=function(t,n){if(t.Xk!==Hm.Nh){var i=n.U.map(function(t){return t.Iit}).join("\n"),r=zi(t.L.II,-1);r&&r.U===i&&r.EO<=n.EO&&n.EO<=r.PO?r.PO=b.max(r.PO,n.PO):t.L8(n.EO,n.PO,i)}},i.Fgt=function(t,n,i){return this.JU.wq({Km:"webvtt",Lt:Ym.FU,Th:t,bs:n})},i.zgt=function(t,n,i){return t},n}(pU),bU=function(t){function n(){return t.apply(this,arguments)||this}Ct(n,t);var i=n.prototype;return i.Ggt=function(t){this.JU.iV(t)},i.jgt=function(t,n){t.tV(n)},i.Fgt=function(t,n,i){return this.JU.tI(Ym.FU,t,t,n,!1,Dg.CEA608,void 0,i)},i.zgt=function(t,n,i){return vy(t,n,i)},n}(pU);F(),Et(),Ut(),F(),Et(),Ut();var AU=/(.*)=(.*)/,TU=/(.*):(.*)/;function SU(t){if(!t)return[];for(var n,i=[],r=Lt(t.trim().split(";"));!(n=r()).done;){var e=n.value.match(AU);if(e){for(var s,u=e[1],o="",h=!1,c=Lt(e[2].trim().split(","));!(s=c()).done;){var a=s.value;if(a.match(TU)){var f=a.match(TU),v=f[1],d=f[2];switch(v){case"lang":o=d;break;case"er":h=Boolean(Number(d))}}}i.push({nit:Number(u),rit:o,Ogt:h})}}return i}var EU={1:1,2:3,3:2,4:4},IU="urn:scte:dash:cc:cea-608:2015",RU="urn:scte:dash:cc:cea-708:2015";F(),Et(),Dt(),Ut(),F(),Et(),Dt();var CU=function(t){function n(n,i,r){var e;return(e=t.call(this,Dw.TI)||this).kot=void 0,e.Dut=void 0,e.Qgt=void 0,e.kot=n,e.Dut=i,e.Qgt=r,e}return Ct(n,t),n.prototype.xa=function(){return new DU(this.kot&&this.kot.Ca)},n}(kw),DU=function(t){function n(n){var i;return(i=t.call(this,"activequalitychanged")||this).quality=void 0,i.quality=n,i}return Ct(n,t),n}(rh),PU=[eh.uo,Ey.wI,eh._y],NU=function(t){function n(n,i){var r;return(r=t.call(this)||this).TL=void 0,r.flt=void 0,r.Jgt=void 0,r.Ygt=function(t){var n=r.Jgt,i=r.Kgt(t.currentTime)||r.flt.Pot;i&&n!==i&&(r.Jgt=i,i.kot&&r.So(new CU(i.kot,null==i?void 0:i.Ca,null==n?void 0:n.Ca)))},r.TL=n,r.TL.wn(PU,r.Ygt),r.flt=i,r}Ct(n,t);var i=n.prototype;return i.Kgt=function(t){for(var n,i=this.flt.Cot,r=Lt(i.Ht.rat);!(n=r()).done;){var e=n.value;if(i.$ut.Kut(t,e))return e}},i.kn=function(){this.Vo(),this.TL.mn(PU,this.Ygt)},n}(th);function BU(t,n,i){var r=new am(_c(t),new Tc),e=lm.vD(r,um.OR);if(e){var s=lm.aD(e.ck),u=Ui(s,function(t){return t.Km===um.UR}),o=Ui(s,function(t){return t.Km===um.FC});if(u){var h=lm.vD(u.ck,um.WR);if(h){var c=lm.vD(h.ck,um.GR);if(c){var a=lm.vD(c.ck,um.XR);if(a){var f=lm.aD(a.ck),v=Ui(f,function(t){return t.Km===um.jR});if(v){var d=lm.yD(v.ck,um.jR,!1),l=new am(_c(d.ck),new Tc);l.rD(4);for(var w,g=[],_=Lt(lm.aD(l));!(w=_()).done;){var m=w.value;if(m.Km===um.EC||m.Km===um.xC)return;m.Km===um.JR?g.push({Zgt:m,$gt:um.xC}):m.Km===um.wC&&g.push({Zgt:m,$gt:um.EC})}if(function(t,n){return void 0===t&&void 0!==n&&n.length>0}(o,n)||0!==g.length){var y=bc(t),p=Ui(s,function(t){return t.Km===um.KR}),k=p?lm.vD(p.ck,um.YR):void 0,b=k?function(t){var n=t.ck.Ly();return n.rD(4),n.rD(4),n.ZC()}(k):1,A=Ui(f,function(t){return t.Km===um.QR});A&&function(t,n,i){var r=MU(_c(t),n),e=lm.fD(r,new Tc),s=e.ck;s.rD(4);for(var u=s.ZC(),o=0;o<u;o++){s.rD(4),s.rD(4);var h=s.KC.Ly(),c=s.ZC();Gh(s.ck,h,c+i)}}(y,A,g.length),k&&function(t,n,i){var r=MU(_c(t),n),e=lm.fD(r,new Tc),s=e.ck;s.rD(4),s.rD(4),Gh(s.ck,s.KC,i)}(y,k,1),y=function(t,n,i,r){if(i||!r)return t;for(var e,s=t,u=Lt(r);!(e=u()).done;){var o=e.value;s=xU(s,n,new E(o))}return s}(y,e,o,n);for(var T=[e,u,h,c,a,v],S=g.length-1;S>=0;S--){var I=g[S];y=OU(y,I.Zgt,v,T,I.$gt,i)}return{tpt:y,ipt:{ept:g.length,BN:b}}}}}}}}}}function xU(t,n,i){var r=xc(t,i,n.ck.ck.byteOffset+n.ck.ck.byteLength);return LU(MU(_c(r),n),i.byteLength),r}function OU(t,n,i,r,e,s){var u=function(t,n,i){0;var r=t.ck.ck,e=WU(),s=new E(r.byteLength+e.byteLength),u=_c(s);s.set(mc(r),0),LU(u,e.byteLength),tc(u,new Tc(qU),n),s.set(e,r.byteLength),tc(u,new Tc(r.byteLength+zU),t.Km),i&&Fh(u,new Tc(r.byteLength+XU),i);return s}(n,e,s),o=xc(t,u,n.ck.ck.byteOffset),h=_c(o);!function(t,n){var i=lm.fD(t,new Tc),r=lm.yD(i.ck,um.jR,!1),e=_c(r.ck),s=e.getUint32(0);e.setUint32(0,s+n)}(MU(h,i),1);for(var c,a=Lt(r);!(c=a()).done;){LU(MU(h,c.value),u.byteLength)}return o}function MU(t,n){var i=n.ck.ck.byteOffset;return gc(t,i,i+n.ck.ck.byteLength)}function LU(t,n){var i=new Tc,r=qh(t,i);if(0===r);else if(1===r){i.Ny(4);var e=jh(t,i.Ly());Qh(t,i,e.add(n))}else i.My(0),Gh(t,i,r+n)}F(),Et(),Dt(),Ut();var UU=function(t){function n(n){var i;return(i=t.call(this)||this).npt=void 0,i.YJ=void 0,i.rpt=[],i.npt=n,i}Ct(n,t);var i=n.prototype;return i.start=function(t){this.YJ=t},i.transform=function(t){this.A$(t),this.spt()},i.flush=function(){this.S$(),this.spt()},i.C$=function(t){return t===um.IC},i.B$=function(t){var n=bc(mc(t.ck.ck)),i=lm.fD(_c(n),new Tc);n=FU(n,i,this.npt),this.rpt.push(n)},i.M$=function(t){this.rpt.push(t)},i.spt=function(){for(var t,n=Lt(function(t){if(t.length<2)return t;for(var n=[],i=t[0],r=i.buffer,e=i.byteOffset,s=i.byteLength,u=1;u<t.length;u++){var o,h=t[u];r===h.buffer&&e+s===h.byteOffset?s+=h.byteLength:(n.push(new E(r,e,s)),r=(o=h).buffer,e=o.byteOffset,s=o.byteLength)}return n.push(new E(r,e,s)),n}(this.rpt));!(t=n()).done;){var i=t.value;this.YJ.enqueue(i)}Yi(this.rpt)},n}($R);function FU(t,n,i){for(var r=t,e=lm.aD(n.ck),s=e.length-1;s>=0;s--){var u=e[s];u.Km===um.DC&&(r=VU(r,u,n,i))}return r}function VU(t,n,i,r){var e=MU(_c(t),n),s=lm.fD(e,new Tc),u=lm.aD(s.ck),o=Ui(u,function(t){return t.Km===um.BC});if(!o)return t;var h=o.ck,c=h.KC.Ly(),a=h.ZC(),f=mm(a).flags;h.rD(4),f.Oy(hm.BASE_DATA_OFFSET_PRESENT)&&h.rD(8);var v=h.KC.Ly();if(f.Oy(hm.SAMPLE_DESCRIPTION_INDEX_PRESENT)){var d=qh(h.ck,v);return Gh(h.ck,h.KC,d+r.ept),t}Gh(h.ck,c,a|hm.SAMPLE_DESCRIPTION_INDEX_PRESENT);var l=new E(4);_c(l).setUint32(0,r.BN+r.ept);for(var w,g=h.ck.byteOffset+v.ac,_=Lt(u.filter(function(t){return t.Km===um.NC}));!(w=_()).done;){HU(w.value,l.byteLength)}for(var m=0,y=[o,n,i];m<y.length;m++){var p=y[m];LU(MU(_c(t),p),l.byteLength)}return xc(t,l,g)}function HU(t,n){var i=t.ck,r=mm(i.ZC()).flags;if(i.rD(4),r.Oy(cm.DATA_OFFSET_PRESENT)){var e=i.Ly().ZC();Gh(i.ck,i.KC,e+n)}}var WU=_i(function(){return new E([0,0,0,80,115,105,110,102,0,0,0,12,102,114,109,97,0,0,0,0,0,0,0,20,115,99,104,109,0,0,0,0,99,101,110,99,0,1,0,0,0,0,0,40,115,99,104,105,0,0,0,32,116,101,110,99,0,0,0,0,0,0,1,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])}),zU=16,XU=64,qU=4,GU=[zm.ma,eh.iy,eh.oy,eh.ly,eh.Sw],jU=function(t){function n(n,i,r,e,s,u,o,h,c,a,f,v,d){var l;return(l=t.call(this)||this).hS=void 0,l.N3=void 0,l.dlt=void 0,l.flt=void 0,l.Xct=void 0,l.Vct=void 0,l.Mpt=!1,l.rV=new hr,l.Dpt=void 0,l.Fpt=void 0,l.dpt=void 0,l.Trt=void 0,l.Qct=new KM,l.Apt=void 0,l.fpt=void 0,l.TL=void 0,l.nV=void 0,l.Rz=void 0,l.wpt=void 0,l.ypt=void 0,l.opt=new Eb([]),l.JU=void 0,l.eut=void 0,l._dt=void 0,l.Npt=void 0,l.Vdt=void 0,l.lq=void 0,l.gpt=function(){!l.zot()&&l.Wut()&&l.fpt.gpt()},l.Ydt=function(t){l.dlt.Ydt(t),l.So(new lL(t.Dut,t.Qgt))},l.Opt=function(t){l.Hpt(t)},l.hS=function(){var t=YU;return YU+=1,t}(),l.N3=n,l.nV=e,l.Rz=s,l.fpt=i,l.TL=r,l.eut=u,l.JU=o,l.wpt=h,l.Xct=c,l.Vct=c?kA(n,c):void 0,l._dt=a,l.Npt=f,l.Vdt=v,l.lq=d,l}Ct(n,t);var i=n.prototype;return i.vpt=function(){var t;return null==(t=this.dlt)?void 0:t.Nut.wct.An},i.zot=function(){return void 0!==this.flt&&this.flt.zot},i.Wut=function(){if(void 0===this.dpt)return!1;var t=this.cpt().CM(),n=t.VM(this.dpt);return!(n<0)&&t.Tn(n)!==this.dpt},i.C3=function(){var t=this.fpt.qut,n=this.cpt().Mn(t);this.dpt=n.V>0?n.An(n.V-1):0;var i=t.An(0);isFinite(i)&&this.dpt<i&&this.t$(this.dpt,i),this.gpt()},i.Odt=function(t,n,i,r){return Vt(function(){var e,s,u;return zt(this,function(o){switch(o.label){case 0:return e=i.$rt.bU,s=this.ppt(t,n,i,e,r),[4,br([this.mpt(t,n,i,e,r),s])];case 1:return u=o.sent(),[2,u[0]]}})}).call(this)},i.ppt=function(t,n,i,r,e){return Vt(function(){var s,u,o,h;return zt(this,function(c){switch(c.label){case 0:return Hv(i.oQ)?t.Km!==FR.BT?[3,2]:[4,t.ck.Jat().HT(e)]:[2];case 1:return u=c.sent(),s=new E(u),[3,3];case 2:s=new E(t.ck.Iht),c.label=3;case 3:return o=[],void 0!==this.wpt&&(this.wpt.Odt(s,n.EO,r),o.push(this.wpt)),void 0!==this.ypt&&(h=i.mct(n),this.ypt.Odt(s,n.EO,n.PO,r,i.kot,h),o.push(this.ypt)),ay(this.IP,o),[2]}})}).call(this)},i.mpt=function(t,n,i,r,e){return Vt(function(){var s,u,o,h,c,a,f,v;return zt(this,function(d){switch(d.label){case 0:return dr(e),t.Km===FR.BT?(o=t.ck.WT,this.Apt&&(o=function(t,n){return t.pipeThrough(new qd(new UU(n)))}(o,this.Apt)),u={Km:FR.BT,ck:o}):(h=new E(t.ck.Iht),this.Apt&&(h=function(t,n){for(var i=bc(t),r=new am(_c(i),new Tc),e=lm.aD(r),s=e.length-1;s>=0;s--){var u=e[s];u.Km===um.IC&&(i=FU(i,u,n))}return i}(h,this.Apt)),u={Km:FR.vZ,ck:h}),c={xet:n.EO,ct:n.ct,bU:r,i2:null==(s=i.kot)?void 0:s.jI},a=this.Trt.IP,[4,this.bpt()];case 1:return d.sent(),[4,this.Trt.H2(u,c,e)];case 2:return d.sent(),f=this.Trt.IP,v=this.Trt.M3,[2,QU(a,f,v,n)]}})}).call(this)},i.Jrt=function(t,n,i){return Vt(function(){var r,e,s,u,o,h,c,a,f;return zt(this,function(v){switch(v.label){case 0:return dr(i),this.ypt&&this.ypt.Jrt(new E(t.Iht)),s=new E(t.Iht),this.Spt(n)&&(u=this.fpt.Tpt,o=[],u&&(o=Ji(u.kpt,function(t){return t.BW}),h=u.Ept.uH?XE(u.Ept.uH):void 0),(c=BU(s,o,h))?(this.Apt=c.ipt,s=c.tpt):this.Apt=void 0),(null==(r=this.Trt)?void 0:r.Cd)&&this.Trt.Cd.qT!==n.qT?(a={qT:n.qT},this.Trt.TZ(a)?[4,this.Trt.EZ(a)]:[3,2]):[3,2];case 1:v.sent(),dr(i),v.label=2;case 2:return f={Km:FR.vZ,ck:s},[4,this.bpt()];case 3:return v.sent(),[4,this.Trt.z2(f,{i2:null==(e=n.kot)?void 0:e.jI},i)];case 4:return v.sent(),[2]}})}).call(this)},i.Ldt=function(t,n,i){return this.Trt._S(t,n,i)},i.t$=function(t,n){this.Trt.F3(t,n)},i.i$=function(t,n){this.Trt.U3(t,n)},i.cpt=function(){return this.Trt?this.Trt.IP:TA.iL()},i.upt=function(){return this.Trt?this.Trt.M3:TA.iL()},i.Ppt=function(){return this.Trt?this.Trt._S(0,1/0):ut.resolve()},i.xpt=function(){return this.Trt&&(this.Trt.mn(LR.lZ,this.Rs),this.Trt=void 0),ut.resolve()},i.Ipt=function(t){return Vt(function(){var n,i,r;return zt(this,function(e){switch(e.label){case 0:return i=PM.Yct(null!=(n=t.ilt)?n:t.rat,this.Vct),r=i.oQ,this.Trt||(this.Trt=this.fpt.Rpt(r),this.Trt.wn(LR.lZ,this.Rs),this.Qct=new YM(this.Trt)),[4,this.bpt()];case 1:return e.sent(),[2]}})}).call(this)},i.Un=function(t,n){var i=hr.ep([n]);this.rV.Zg(),this.rV=i;var r=this.Cpt(t,this.Dpt,i.Yg);return this.Dpt=r,r},i.Bpt=function(t){if(!ji(this.Npt,Dg.CEA608)){var n=t.Nut.Wdt;if(function(t){return t.some(function(t){return t.y8===IU||t.y8===RU})}(n)){this.ypt=new bU(this.JU);for(var i,r=function(t){for(var n,i=[],r=Lt(t);!(n=r()).done;){var e=n.value;if(e.y8===IU)for(var s,u=Lt(UB(e.zE));!(s=u()).done;){var o=s.value;i.push(o)}else if(e.y8===RU)for(var h,c=Lt(SU(e.zE));!(h=c()).done;){var a=h.value;if(a.nit<=4){var f=EU[a.nit];i.push(Yu({},a,{nit:f}))}}}return i}(n),e=Lt(r);!(i=e()).done;){var s=i.value;this.ypt.Mgt(s)}this.opt.FW(this.ypt.Z)}}},i.Cpt=function(t,n,i){return Vt(function(){return zt(this,function(r){switch(r.label){case 0:return dr(i),n?[4,n.catch(di)]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.dlt===t&&this.Mpt?[2]:[4,this.Lpt()];case 3:return r.sent(),dr(i),[4,this.Ppt()];case 4:return r.sent(),dr(i),t?[4,this.sV(t)]:[3,6];case 5:r.sent(),r.label=6;case 6:return[2]}})}).call(this)},i.Lpt=function(){return Vt(function(){var t;return zt(this,function(n){switch(n.label){case 0:return t=this.dlt,this.dlt=void 0,this.Mpt=!1,this.dpt=void 0,t&&(t.mn(Dw.EI,this.Opt),t.ult(!1),t.mn(Dw.NO_QUALITY,this.Rs)),this.Fpt&&(this.Fpt.kn(),this.Fpt=void 0),this.flt?[4,this.flt.kn()]:[3,2];case 1:n.sent(),this.flt=void 0,n.label=2;case 2:return this.ypt?(this.opt.WW(this.ypt.Z),[4,this.ypt.kn()]):[3,4];case 3:n.sent(),n.label=4;case 4:return[2]}})}).call(this)},i.sV=function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return this.dlt=t,this.Bpt(t),t.wn(Dw.EI,this.Opt),t.wn(Dw.NO_QUALITY,this.Rs),[4,this.Ipt(t)];case 1:return n.sent(),this.flt=this.Upt(t),this.flt.wn(GU,this.Rs),this.flt.wn("Eot",this.gpt),this.flt.Bot=t.ilt,this.Fpt=new NU(this.TL,this.flt),this.Fpt.wn(Dw.TI,this.Ydt),t.ult(!0),this.Mpt=!0,[2]}})}).call(this)},i.Upt=function(t){return new QM(this,this.TL,this.TL,this.nV,this.Rz,this.Vdt,this.eut,this.Xct,this.Vct,this.Qct,this._dt,this.lq).Ret(t)},i.hr=function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return this.rV.Zg(),this.Dpt?[4,this.Dpt.catch(di)]:[3,2];case 1:n.sent(),this.Dpt=void 0,n.label=2;case 2:return[4,this.Lpt()];case 3:return n.sent(),t?[3,5]:[4,this.Ppt()];case 4:n.sent(),n.label=5;case 5:return[4,this.xpt()];case 6:return n.sent(),[2]}})}).call(this)},i.Vpt=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return[4,this.Lpt()];case 1:return t.sent(),[2]}})}).call(this)},i.Qdt=function(t){var n;null==(n=this.hpt)||n.Qdt(t)},i.Gdt=function(t,n){return Vt(function(){var i,r,e,s,u;return zt(this,function(o){switch(o.label){case 0:return[4,this.Jot()];case 1:if(o.sent(),null==(i=this.hpt)||i.Gdt(n),!((e=null==(r=this.flt)?void 0:r.Cot.$ut.Xut(t))&&e.V>0))return[3,5];s=0,o.label=2;case 2:return s<e.V?[4,null==(u=this.Trt)?void 0:u._S(e.Tn(s),e.An(s))]:[3,5];case 3:o.sent(),o.label=4;case 4:return s++,[3,2];case 5:return[4,this.$ot()];case 6:return o.sent(),[2]}})}).call(this)},i.Hpt=function(t){var n=this,i=t.Ht.ilt;return void 0===i||i.some(function(t){return n.Qct.TZ(t)})?this.Wpt(t):void this.So(new rh("qpt"))},i.Wpt=function(t){this.flt&&this.dlt&&this.dlt===t.Ht&&(this.flt.Bot=this.dlt.ilt)},i.Jot=function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return this.flt?[4,this.flt.Jot(t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})}).call(this)},i.$ot=function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return this.flt?[4,this.flt.$ot(t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})}).call(this)},i.YY=function(){var t=this.IP.ZM;return this.Rz.YY(t)},i.bpt=function(){var t=this.fpt.qut,n=b.max(0,t.Tn(0)-.1),i=t.An(0)+.01;return this.Trt.r3(n,i)},i.Spt=function(t){return!!Hv(t.oQ)&&(!!this.fpt.p8||void 0!==this.fpt.Tpt)},i.iat=function(t){if(rg(this.N3)){var n=this.flt,i=t.flt;void 0!==n&&void 0!==i&&n.iat(i,this.Tn,this.An)}},i.kn=function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:this.Vo(),n.label=1;case 1:return n.trys.push([1,4,,5]),[4,this.hr(t)];case 2:return n.sent(),[4,this.Vpt()];case 3:return n.sent(),[3,5];case 4:return n.sent(),[3,5];case 5:return[2]}})}).call(this)},Nt(n,[{key:"hpt",get:function(){return this.dlt}},{key:"o",get:function(){return this.hS}},{key:"B3",get:function(){return this.N3}},{key:"nt",get:function(){return this.opt}},{key:"plt",get:function(){return function(t){var n=29.97,i=1024,r=44100;return t===ig.Dk?r/i:n}(this.N3)}},{key:"vlt",get:function(){return 1/this.plt}},{key:"Rt",get:function(){return Boolean(this.dlt&&this.dlt.Rt)}},{key:"ZZ",get:function(){var t=this.flt?this.flt.Cot.ZZ.zut:TA.iL();return this.upt().OM(t)}},{key:"IP",get:function(){var t=this.cpt(),n=this.dpt;return void 0!==n&&t.CM().Cr(n)&&(t=t.OM(TA.$M(n))),t}},{key:"Uut",get:function(){return LO(this.cpt(),this.ZZ.OM(this.lpt)).LM(2*this.vlt)}},{key:"lpt",get:function(){var t=this.dpt;if(t&&isFinite(t)){var n=this.fpt.An;if(isFinite(n)&&t<n)return new TA([t,n],[!1,!0])}return TA.iL()}},{key:"Sx",get:function(){var t=this.dlt;if(!t)return TA.$M(0);var n=t.Nut.Alt,i=t.Nut.blt;if(void 0===i||void 0===n)return TA.$M(0);var r=i,e=n>=t.Nut.wct.An?b.max(n,this.An):n;return e=b.max(r,e),TA.tL(r,e).CM()}},{key:"QW",get:function(){return this.Uut.JM(this.MP)}},{key:"qut",get:function(){return this.fpt.qut}},{key:"MP",get:function(){return this.TL.MP}},{key:"Tn",get:function(){return this.dlt?this.dlt.Nut.wct.Tn:NaN}},{key:"An",get:function(){var t=this.vpt(),n=this.dpt;return void 0===t?NaN:void 0!==n?n:t}},{key:"Mi",get:function(){return this.fpt.Mi}},{key:"Ti",get:function(){return this.fpt.Ti}},{key:"_pt",get:function(){return this.dpt}}]),n}(th);function QU(t,n,i,r){var e,s,u=n.UM(t.CM());return 0===(u=u.UM(i.UM(n))).V?s=e=r.PO:(e=u.Tn(0),s=u.An(0)),{kdt:e,Edt:s}}var YU=0;var KU=function(t){function n(n,i,r,e,s,u,o,h,c,a,f,v,d,l){var w,g,_;return(w=t.call(this)||this).gO=void 0,w.YL=new ng,w.$L=new ng,w.Gl=void 0,w.JU=void 0,w.Qpt=void 0,w.nV=void 0,w.Rz=void 0,w.eut=void 0,w.TL=void 0,w.jpt=void 0,w.lmt=[],w.cmt=new hr,w.hmt=!0,w.Nlt=[],w.imt=void 0,w.lq=void 0,w.Dpt=void 0,w._dt=void 0,w.Npt=void 0,w.d3=void 0,w.Vdt=void 0,w.ju=void 0,w.wpt=void 0,w.Ypt=void 0,w.$pt=wi(function(){w.So(new qR(w.MP))},350),w.vmt=function(t){var n=t.Emt.hpt;if(n)for(var i,r=Lt(w.lmt);!(i=r()).done;){var e,s=i.value;s.hpt&&s.hpt!==n&&s.Km===(null==(e=n.Jdt)?void 0:e.Km)&&(s.mn("fmt",w.vmt),s.hpt.Rt=!1,s.wn("fmt",w.vmt))}w.Rs(t)},w.mmt=function(t){vr(t)||w.So(new _b(vd(t,cd.MEDIA_LOAD_ERROR)))},w.omt=function(t){var n=t.z6;n&&w.wmt(n).catch(w.mmt)},w.Pmt=function(t){w.ymt(t).catch(w.mmt)},w.umt=function(t){for(var n,i=Lt(w.Nlt);!(n=i()).done;){var r=function(){var n=s.value,i=n.xW;if(void 0===i||0===i.length)return"continue";var r=t.Ey;i.filter(function(t){return t.A8&&Dc(new E(r),new E(t.A8))}).forEach(function(t){n.xmt(t)})},e=n.value.hpt;if(void 0!==e)for(var s,u=Lt(e.rat);!(s=u()).done;)r()}},w.amt=function(t){var n=t.z6;if(n)for(var i,r=Lt(w.pmt);!(i=r()).done;)for(var e,s=i.value,u=Lt(s.Nut.rat);!(e=u()).done;){var o=e.value,h=(o.xW||[]).some(function(t){return t.uH&&Dc(pc(n),XE(t.uH))});o.olt&&h&&(o.olt=!1,o.kot&&s.Qdt(o.kot))}},w.nV=r,w.Rz=e,w.eut=s,w.TL=n,w.gO=mg(),w.lmt=[],w.jpt=o,w.imt=h,w.lq=l,w.JU=a,w.Qpt=new cL(n,r,e,s,a,null==(_=null==u||null==(g=u.dash)?void 0:g.segmentRelativeVttTiming)||_),w.Gl=new Eb([w.Qpt.nt]),w._dt=v,w.Npt=d,w.jpt.wn(FO.bot,w.Rs),w.ju=c,w.d3=i,w.Vdt=u.lowLatency,w.wpt=f,w.Ypt=u.abr,w.TL.wn(eh.py,w.omt),w.TL.wn(eh.Pw,w.amt),w.TL.wn(eh.LICENSE_REQUEST_GENERATED,w.umt),w}Ct(n,t);var i=n.prototype;return i.VY=function(t,n){return this.zpt(t,n)},i.zpt=function(t,n){return Vt(function(){var i,r,e,s,u,o;return zt(this,function(h){switch(h.label){case 0:for(i=Lt(t);!(r=i()).done;)e=r.value,this.Gpt(e);return[4,this.Un(n)];case 1:h.sent(),s=Lt(this.jpt.Xpt),h.label=2;case 2:return(u=s()).done?[3,6]:(o=u.value).Km!==ig.NT?[3,5]:o.rat&&0!==o.rat.length?[3,3]:(this.So(new aL("No supported representation found in the AdaptationSet with mimetype : "+o.Km)),[3,5]);case 3:return[4,this.Qpt.sV(o)];case 4:h.sent(),h.label=5;case 5:return[3,2];case 6:return[2]}})}).call(this)},i.Kpt=function(t){return new jU(t,this,this.TL,this.nV,this.Rz,this.eut,this.JU,this.wpt,this.Ypt,this._dt,this.Npt,this.Vdt,this.lq)},i.zot=function(){return this.Nlt.some(function(t){return t.zot()})},i.Wut=function(){return 0!==this.Nlt.length&&this.Nlt.every(function(t){return t.Wut()})},i.gpt=function(){this.Jpt()&&this.So(new dL)},i.Rpt=function(t){if(Fv(t)){if(this.d3.Q3)return this.d3.Q3}else if(Vv(t)&&this.d3.K3)return this.d3.K3;throw new y("Cannot allocate source buffer for mime type "+t)},i.Zpt=function(t){t.wn([zm.ma,eh.Yw,eh.iy,eh.oy,eh.ly,eh.Sw],this.Rs),t.wn(LR.lZ,this.$pt),t.wn("qpt",this.Rs)},i.tmt=function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,ut.all(this.Nlt.map(function(n){return n.kn(t)}))];case 1:return n.sent(),Yi(this.Nlt),[2]}})}).call(this)},i.Jpt=function(){if(this.zot())return!1;if(!this.Wut())return!1;var t=this.IP;if(0===t.V)return!1;var n=this.MP;if(this.emt)return t.Tn(t.V-1)<=n;var i=t.Mn(this.qut);if(0===i.V)return!0;var r=i.Tn(i.V-1),e=i.An(i.V-1)+.1;return r<=n&&n<=e},i.Jot=function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return this.hmt?[2]:(this.hmt=!0,[4,ut.all(this.Nlt.map(function(n){return n.Jot(t)}))]);case 1:return n.sent(),[2]}})}).call(this)},i.$ot=function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return this.hmt?(this.hmt=!1,[4,ut.all(this.Nlt.map(function(n){return n.$ot(t)}))]):[2];case 1:return n.sent(),[2]}})}).call(this)},i.kn=function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return this.TL.mn(eh.py,this.omt),this.TL.mn(eh.Pw,this.amt),this.TL.mn(eh.LICENSE_REQUEST_GENERATED,this.umt),this.Vo(),this.jpt.mn(FO.bot,this.Rs),this.cmt.Zg(),this.Dpt?[4,this.Dpt.catch(di)]:[3,2];case 1:n.sent(),this.Dpt=void 0,n.label=2;case 2:return[4,this.tmt(t)];case 3:return n.sent(),[4,this.Qpt.kn()];case 4:return n.sent(),this.YL.kn(),this.$L.kn(),this.Gl.kn(),this.dmt(),[2]}})}).call(this)},i.Gpt=function(t){this.lmt.push(t),t.wn("fmt",this.vmt);for(var n,i=t.Km===ig.Dk?this.YL:this.$L,r=Lt(t.Z);!(n=r()).done;){var e=n.value;i.tt(e)}},i._mt=function(t){for(var n,i=t.Km===ig.Dk?this.YL:this.$L,r=Lt(t.Z);!(n=r()).done;){var e=n.value;i.it(e),e.kn()}t.kn(),Xi(this.lmt,t)},i.dmt=function(){for(var t=this.lmt.length-1;t>=0;t--)this._mt(this.lmt[t])},i.Un=function(t,n){return this.cmt.Zg(),this.cmt=hr.ep([n]),this.Dpt=_r(this.lE(t,this.Dpt,this.cmt.Yg),this.cmt).catch(this.mmt),this.Dpt},i.lE=function(t,n,i){return Vt(function(){var r,e,s,u,o,h,c,a,f,v,d;return zt(this,function(l){switch(l.label){case 0:return n?[4,n.catch(di)]:[3,2];case 1:l.sent(),l.label=2;case 2:dr(i),r=[],e=this.Nlt.slice(),s=t.slice(),Yi(this.Nlt),u=Lt(e),l.label=3;case 3:return(o=u()).done?[3,7]:(h=o.value,(c=h.hpt)&&ji(s,c)?(this.Nlt.push(h),r.push(h.Un(c,i)),Xi(s,c),[3,6]):[3,4]);case 4:return this.Gl.WW(h.nt),[4,h.kn()];case 5:l.sent(),dr(i),l.label=6;case 6:return[3,3];case 7:for(a=Lt(s);!(f=a()).done;)v=f.value,d=this.Kpt(v.Lot),this.Gl.FW(d.nt),this.Nlt.push(d),this.Zpt(d),r.push(d.Un(v,i));return[4,ut.all(r)];case 8:return l.sent(),[2]}})}).call(this)},i.EZ=function(t,n,i){return Vt(function(){return zt(this,function(r){switch(r.label){case 0:return this.d3===i?[3,2]:(this.d3=i,[4,this.tmt(!1)]);case 1:r.sent(),r.label=2;case 2:return[4,this.Un(t)];case 3:return r.sent(),this.imt=n,[2]}})}).call(this)},i.wmt=function(t){return Vt(function(){var n,i,r,e,s,u,o,h;return zt(this,function(c){switch(c.label){case 0:n=Lt(this.Nlt),c.label=1;case 1:if((i=n()).done)return[3,6];if(r=i.value,void 0===(e=r.hpt))return[3,5];s=Lt(e.Nut.rat),c.label=2;case 2:return(u=s()).done?[3,5]:(o=u.value,h=o.xW||[],!h.some(function(n){return n.uH&&Dc(pc(t),XE(n.uH))})||o.olt?[3,4]:(o.olt=!0,[4,r.Gdt(o,o.kot)]));case 3:c.sent(),this.So(new tN(new eg(cd.CONTENT_PROTECTION_OUTPUT_RESTRICTED,"Content unavailable due to DRM restrictions"))),c.label=4;case 4:return[3,2];case 5:return[3,1];case 6:return[2]}})}).call(this)},i.ymt=function(t){return Vt(function(){var n,i,r,e,s,u,o,h;return zt(this,function(c){switch(c.label){case 0:n=Lt(this.Nlt),c.label=1;case 1:if((i=n()).done)return[3,6];if(e=function(){var n,i,e,u;return zt(this,function(o){switch(o.label){case 0:return n=h.value,i=n.xW,e=n.kot,void 0===i||0===i.length||void 0===e?[2,"continue"]:i.some(function(t){return ji(n.Amt,t)})?(u=r.bmt(i,t.Ty),e.cst===u?[3,3]:u?(s.Qdt(e),[3,3]):[3,1]):[2,"continue"];case 1:return[4,s.Gdt(n,e)];case 2:o.sent(),o.label=3;case 3:return[2]}})},s=i.value,void 0===(u=s.hpt))return[3,5];o=Lt(u.rat),c.label=2;case 2:return(h=o()).done?[3,5]:(r=this,[5,Xt(e())]);case 3:c.sent(),c.label=4;case 4:return[3,2];case 5:return[3,1];case 6:return[2]}})}).call(this)},i.bmt=function(t,n){var i=!1,r=t.reduce(function(t,n){return!n.uH||ji(t,n.uH)?t:[].concat(t,[n.uH])},[]);return 0===r.length||(n.zy(function(e,s){"usable"===e&&((t.some(function(t){return t.uH&&Dc(pc(s),XE(t.uH))})||Pc(s,Uc)&&1===r.length&&1===n.Vy)&&(i=!0))}),i)},i.iat=function(t){var n=function(){var n=r.value,i=Ui(t.Nlt,function(t){return t.B3===n.B3});void 0!==i&&n.iat(i)};if(void 0!==t){var i=t.jpt;if(this.jpt.Smt===i||this.jpt.Tmt===i)for(var r,e=Lt(this.Nlt);!(r=e()).done;)n()}},Nt(n,[{key:"jI",get:function(){return this.gO}},{key:"ct",get:function(){return this.TL.ct}},{key:"Rt",get:function(){return this.Nlt.some(function(t){return t.Rt})}},{key:"ht",get:function(){return this.YL}},{key:"IP",get:function(){if(0===this.Nlt.length)return TA.iL();for(var t,n=this.Nlt.map(function(t){return t.IP}),i=TA.tL(0,1/0),r=Lt(n);!(t=r()).done;){var e=t.value;i=i.Mn(e)}if(0===i.V)return i;if(this.Wut()){var s=i.Mn(this.qut);if(0===s.V)return i;for(var u,o=s.An(s.V-1),h=0,c=Lt(this.Nlt);!(u=c()).done;){var a=u.value;h=b.max(h,a._pt)}o<=h&&(i=i.OM(new TA([o,h],[!0,!0])))}return i}},{key:"p8",get:function(){return this.TL.p8}},{key:"MP",get:function(){return this.TL.MP}},{key:"Tpt",get:function(){return this.imt}},{key:"An",get:function(){if(this.emt){var t=this.ct;if(!S(t)&&t!==bi)return t}if(!this.Nlt.length)return NaN;for(var n,i=0,r=Lt(this.Nlt);!(n=r()).done;){var e=n.value;i=b.max(i,e.An)}return i}},{key:"emt",get:function(){var t=this.jpt.Idt;if(t.Km===fL.wV)return!1;var n=t.smt;return 0!==n.length&&this.jpt===n[n.length-1]}},{key:"Sx",get:function(){if(!this.Nlt.length)return TA.iL();for(var t,n=TA.eL(),i=Lt(this.Nlt);!(t=i()).done;){var r=t.value;n=n.Mn(r.Sx)}if(n.V>0&&this.emt&&isFinite(this.ct)){var e=this.ct,s=n.An(n.V-1);e>s&&(n=n.OM(TA.tL(s,e).CM()))}return n}},{key:"Mc",get:function(){return this.jpt}},{key:"nt",get:function(){return this.Gl}},{key:"rt",get:function(){return this.$L}},{key:"Ti",get:function(){return this.ju.Ti}},{key:"Mi",get:function(){return this.ju.Mi}},{key:"QW",get:function(){var t=this.MP,n=this.IP,i=n.VM(t);if(-1!==i)return{Tn:n.Tn(i),An:n.An(i)}}},{key:"qut",get:function(){var t=this.jpt.Tn,n=this.emt?1/0:this.jpt.An;return TA.tL(t,n)}},{key:"nmt",get:function(){return this.hmt}},{key:"gmt",get:function(){return this.lmt.map(function(t){return t.hpt}).filter(Un)}},{key:"pmt",get:function(){return this.Nlt.map(function(t){return t.hpt}).filter(Un)}},{key:"kmt",get:function(){return this.lmt}}]),n}(th);F(),Et(),Wt(),Bt(),Qt(),F(),Et(),Ut(),F(),Et(),Bt();var JU=/^P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)D)?(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d*\.?\d*)S)?)?$/,ZU=function(){function t(t){this.Imt=void 0,this.Imt=t}var n=t.prototype;return n.Rmt=function(){return this.Imt},n.Cmt=function(){return 1e3*this.Imt},t.TD=function(n){var i=n.match(JU);if(!i)throw new y("The given value could not be parsed as a valid DateTimeInterval");return new t(31536e3*(Number(i[1])||0)+2592e3*(Number(i[2])||0)+86400*(Number(i[3])||0)+3600*(Number(i[4])||0)+60*(Number(i[5])||0)+(Number(i[6])||0))},Nt(t,[{key:"ift",get:function(){return g_.eU(this.Imt,1e3)}}]),t}();F(),Et();var $U=function(t){return t.Dmt="progressive",t.Bmt="interlaced",t.pk="unknown",t}({});F(),Et();var tF=function(){function t(t,n){this.Nmt=void 0,this.Mmt=void 0,this.Nmt=t,this.Mmt=n}return t.prototype.iF=function(){return this.Nmt/this.Mmt},t}();F(),Et();var nF=1886614376;function iF(t){var n=XE(ao),i=t.byteLength,r=12+n.length+4+i,e=new E(r),s=_c(e),u=new Tc;return Gh(s,u,r),Gh(s,u,nF),Gh(s,u,0),Fh(s,u,n),Gh(s,u,i),Fh(s,u,new E(t)),e}var rF=/^(?:true|false)$/i,eF=/^(-?)(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(?:Z|([+-])(\d{2}):(\d{2}))?$/;function sF(t){if(void 0!==t)return ZU.TD(t)}function uF(t){if(void 0!==t){var n=t.match(eF);if(!n)throw new y("The given value could not be parsed as a valid Date");var i=n[1],r=n[2],e=n[3],s=n[4],u=n[5],o=n[6],h=n[7],c=n[8],a=n[9],f=n[10],v=n[11],d=("-"===i?-1:1)*Number(r),l=Number(e)-1,w=Number(s),g=Number(u),_=Number(o),m=Number(h),p=Number("0."+(c||"")),k=b.round(1e3*p);if(a)_-=("-"===a?-1:1)*(60*Number(f)+Number(v));var A=new Date(Date.UTC(d,l,w,g,_,m,k));if(S(A.getTime()))throw new y("The given value could not be parsed as a valid Date");return A}}function oF(t){if(t){var n=/(\d+)-(\d+)/.exec(t);if(n)return[cF(n[1]),cF(n[2])]}}function hF(t){if(void 0!==t){if(!S(Number(t)))try{return ue.fromString(t,!0)}catch(t){}throw new y("The given value could not be parsed as a valid unsigned long")}}function cF(t){if(void 0!==t){var n=Number(t);if(!S(n))return n;throw new y("The given value could not be parsed as a valid Number")}}function aF(t){if(void 0!==t){var n=t.split("/"),i=Number(n[0]),r=Number(n[1]||1);if(!S(i)&&!S(r))return new tF(i,r);throw new y("The given value could not be parsed as a valid frame rate")}}function fF(t){if(void 0!==t){if(rF.test(t))return"true"===t.toLowerCase();if(!S(A(t)))return Boolean(A(t));throw new y("The given value could not be parsed as a valid Boolean.")}}function vF(t){return{Yu:t.eP,Lmt:fF(t.sP("availabilityTimeComplete")),Omt:cF(t.sP("availabilityTimeOffset"))}}function dF(t){return t.map(vF)}function lF(t){var n,i=TF(t),r=function(t,n,i,r){var e=t.nP(i,n);return void 0===e&&(e=t.sP(r+":"+n)),e}(t,"default_KID","urn:mpeg:cenc:2013","cenc"),e=Tm(t,"pssh","urn:mpeg:cenc:2013","cenc")[0];if(void 0!==e&&(n=Oc(e.eP)),!n){var s=Tm(t,"pro","urn:microsoft:playready","mspr")[0];void 0!==s&&(n=function(t){var n=Oc(t.eP);return iF(n)}(s))}return{uH:r,A8:n,y8:i.y8,zE:i.zE}}function wF(t){return{Fmt:t.sP("sourceURL"),Sat:oF(t.sP("range"))}}function gF(t,n){var i=t.sP("d"),r=t.sP("t"),e=cF(t.sP("r"));n.push({ct:i,EO:r,Umt:e})}function _F(t){return{aut:t.sP("index"),Vmt:oF(t.sP("indexRange")),KD:t.sP("media"),Hmt:oF(t.sP("mediaRange"))}}function mF(t){var n=pF(t),i=function(t){var n=t.map(_F);return n.length>0?n:void 0}(t.YE("SegmentURL"));return Yu({},n,{Wmt:i,qmt:t.sP("xlink:href"),zmt:t.sP("xlink:actuate")})}function yF(t){var n=fF(t.sP("availabilityTimeComplete")),i=cF(t.sP("availabilityTimeOffset")),r=oF(t.sP("indexRange")),e=fF(t.sP("indexRangeExact")),s=t.YE("Initialization");if(s.length>1)throw new y("The provided MPEG-DASH document's "+t.JE+" element can not have more than one Initialization element.");var u=1===s.length?wF(s[0]):void 0,o=hF(t.sP("presentationTimeOffset")),h=t.YE("RepresentationIndex");if(h.length>1)throw new y("The provided MPEG-DASH document's "+t.JE+" element can not have more than one RepresentationIndex element.");return{Lmt:n,Omt:i,Vmt:r,Gmt:e,Xmt:u,jmt:o,Qmt:1===h.length?wF(h[0]):void 0,Kmt:sF(t.sP("timeShiftBufferDepth")),qD:cF(t.sP("timescale"))}}function pF(t){var n=yF(t),i=t.YE("BitstreamSwitching"),r=i.length>0?wF(i[0]):void 0,e=cF(t.sP("duration")),s=t.YE("SegmentTimeline");if(s.length>1)throw new y("The provided MPEG-DASH document's "+t.JE+" element can not have more than one SegmentTimeline element.");var u=1===s.length?function(t){for(var n,i=[],r=Lt(t.YE("S"));!(n=r()).done;)gF(n.value,i);return i}(s[0]):void 0;return Yu({},n,{Ymt:r,ct:e,$rt:u,Jmt:cF(t.sP("startNumber")),Zmt:cF(t.sP("endNumber"))})}function kF(t){return{$mt:function(t){if(t){var n=t.split(/\s/);return n.length>1?(n.length=2,n.map(cF)):1===n.length?n.map(cF)[0]:void 0}}(t.sP("audioSamplingRate")),frt:t.sP("codecs"),twt:fF(t.sP("codingDependency")),xW:function(t){if(0!==t.length)return t.map(lF)}(t.YE("ContentProtection")),iwt:function(t){return t.map(SF)}(t.YE("EssentialProperty")),ewt:function(t){return t.map(EF)}(t.YE("SupplementalProperty")),plt:aF(t.sP("frameRate")),Mi:cF(t.sP("height")),swt:cF(t.sP("maxPlayoutRate")),nwt:cF(t.sP("maximumSAPPeriod")),oQ:t.sP("mimeType"),rwt:t.sP("profiles"),hwt:t.sP("sar"),owt:function(t){switch(t){case $U.Dmt:case $U.Bmt:case $U.pk:return t;default:return}}(t.sP("scanType")),awt:t.sP("segmentProfiles"),uwt:cF(t.sP("startWithSAP")),Ti:cF(t.sP("width"))}}function bF(t){var n=dF(t.YE("BaseURL")),i=t.YE("SegmentBase");if(i.length>1)throw new y("The provided MPEG-DASH document's "+t.VE+" element can not have more than one SegmentBase element.");var r=1===i.length?yF(i[0]):void 0,e=function(t){var n=t.map(mF);return n.length>0?n:void 0}(t.YE("SegmentList")),s=t.YE("SegmentTemplate");if(s.length>1)throw new y("The provided MPEG-DASH document's "+t.VE+" element can not have more than one SegmentTemplate element.");var u=1===s.length?function(t){return Yu({},pF(t),{cwt:t.sP("bitstreamSwitching"),dwt:t.sP("index"),lwt:t.sP("initialization"),fwt:t.sP("media")})}(s[0]):void 0;return{vwt:n,_wt:r,gwt:e,pwt:u}}function AF(t){var n=kF(t),i=bF(t),r=cF(t.sP("bandwidth")),e=t.sP("dependencyId"),s=t.sP("id"),u=t.sP("mediaStreamStructureId"),o=cF(t.sP("qualityRanking"));if(t.YE("SegmentBase").length>1)throw new y("The provided MPEG-DASH document's Representation element can not have more than one SegmentBase element.");return Yu({},n,i,{kW:r,mwt:e,o:s,wwt:u,ywt:o})}function TF(t){return{y8:t.sP("schemeIdUri"),zE:t.sP("value")}}function SF(t){return TF(t)}function EF(t){return TF(t)}function IF(t){return TF(t)}function RF(t){return TF(t)}function CF(t){var n,i=kF(t),r=bF(t),e=function(t){return t.map(RF)}(t.YE("Accessibility")),s=fF(t.sP("bitstreamSwitching")),u=t.sP("contentType"),o=cF(t.sP("group")),h=cF(t.sP("id")),c=(null==(n=t.YE("Label")[0])?void 0:n.eP)||"",a=t.sP("lang"),f=cF(t.sP("maxBandwidth")),v=aF(t.sP("maxFrameRate")),d=cF(t.sP("maxHeight")),l=cF(t.sP("maxWidth")),w=cF(t.sP("minBandwidth")),g=aF(t.sP("minFrameRate")),_=cF(t.sP("minHeight")),m=cF(t.sP("minWidth")),p=t.sP("par"),k=function(t){return t.map(AF)}(t.YE("Representation"));if(0===k.length)throw new y("The provided MPEG-DASH document has an AdaptationSet with no valid Representation's");var b,A=function(t){return t.map(IF)}(t.YE("Role")),T=fF(t.sP("segmentAlignment"))||!1,S=cF(t.sP("selectionPriority")),E=S||1,I=fF(t.sP("subsegmentAlignment"))||!1;try{b=cF(t.sP("subsegmentStartsWithSAP"))}catch(t){}return Yu({},i,r,{Wdt:e,Ymt:s,qT:u,Jdt:o,o:h,Th:c,bs:a,Awt:f,bwt:v,Swt:d,Twt:l,kwt:w,Ewt:g,Pwt:_,xwt:m,Iwt:p,rat:k,Plt:A,Rwt:T,Kq:E,Cwt:I,Dwt:b,Bwt:t.sP("xlink:actuate")||"onRequest",Nwt:t.sP("xlink:href")})}function DF(t){var n=hF(t.sP("presentationTime"))||ue.ZERO,i=hF(t.sP("duration")),r=cF(t.sP("id")),e=function(t){for(var n=t.iP,i={},r=0;r<n.length;r++)i[n[r].l]=n[r].zE;return i}(t),s=t.eP;return{tM:n,ct:i,o:r,iP:e,ck:""!==s.trim()?s:t.sP("messageData")||""}}function PF(t){return{Nwt:t.sP("xlink:href"),Bwt:t.sP("xlink:actuate"),y8:t.sP("schemeIdUri"),zE:t.sP("value"),qD:cF(t.sP("timescale")),jmt:hF(t.sP("presentationTimeOffset")),aQ:t.YE("Event").map(DF)}}function NF(t){var n=bF(t),i=t.YE("AssetIdentifier");if(i.length>1)throw new y("The provided MPEG-DASH document's Period element can not have more than one AssetIdentifier element.");var r=1===i.length?function(t){return TF(t)}(i[0]):void 0,e=function(t){return t.map(CF)}(t.YE("AdaptationSet")),s=fF(t.sP("bitstreamSwitching")),u=sF(t.sP("duration")),o=function(t){return t.map(PF)}(t.YE("EventStream")),h=t.sP("id"),c=sF(t.sP("start")),a=(t.YE("Subset"),t.sP("xlink:href"));return Yu({},n,{Ilt:e,Mwt:r,Ymt:s,ct:u,Lwt:o,o:h,Tn:c,Bwt:t.sP("xlink:actuate"),Nwt:a})}function BF(t){var n=t.sP("schemeIdUri");if(n)return{y8:n,zE:t.sP("value")}}function xF(t,n){var i=uF(t.sP("availabilityEndTime")),r=uF(t.sP("availabilityStartTime")),e=dF(t.YE("BaseURL")),s=t.sP("id"),u=function(t){return t.map(function(t){return""+t.eP})}(t.YE("Location")),o=sF(t.sP("maxSegmentDuration")),h=sF(t.sP("maxSubsegmentDuration")),c=sF(t.sP("mediaPresentationDuration")),a=(t.YE("Metrics"),sF(t.sP("minBufferTime")));if(!a)throw new y("The provided MPEG-DASH document's MPD element does not have the required 'minimumBufferTime' attribute.");var f=sF(t.sP("minimumUpdatePeriod")),v=function(t){return t.map(function(t){return NF(t)})}(t.YE("Period"));if(!v.length)throw new y("The provided MPEG-DASH document's MPD element does not have the required 'Period' element.");var d=t.sP("profiles");if(!d)throw new y("The provided MPEG-DASH document's MPD element does not have the required 'profiles' attribute.");var l=uF(t.sP("publishTime")),w=sF(t.sP("suggestedPresentationDelay")),g=sF(t.sP("timeShiftBufferDepth")),_=function(t){switch(t){case fL.mV:case fL.wV:return t;default:return}}(t.sP("type")),m=function(t){for(var n,i=[],r=Lt(t);!(n=r()).done;){var e=BF(n.value);e&&i.push(e)}return i}(t.YE("UTCTiming")),p=function(t){if(0===t.length)return;var n=t[0],i=n.YE("Latency");if(0===i.length)return;var r=function(t){var n=t[0],i=cF(n.sP("target"));if(void 0===i)return;var r=cF(n.sP("min")),e=cF(n.sP("max"));return{Owt:i,YF:r,KF:e}}(i);if(void 0===r)return;var e=function(t){if(0===t.length)return;var n=t[0],i=cF(n.sP("max")),r=cF(n.sP("min"));return{YF:r,KF:i}}(n.YE("PlaybackRate"));return{Fwt:r,ux:e}}(t.YE("ServiceDescription"));return{Uwt:i,Vwt:r,vwt:e,o:s,Hwt:u,Wwt:n,qwt:o,zwt:h,Gwt:c,Xwt:a,Qwt:f,smt:v,rwt:d,Kwt:l,Ywt:w,Kmt:g,Km:_,Jwt:m,Zwt:p}}var OF=function(){function t(){}return t.prototype.$wt=function(t,n){return function(t,n){if(!t)throw new y("The provided MPEG-DASH document does not contain a valid MPD root element.");return xF(t,n)}(Vn.UE(t).uP,n)},t}();function MF(t){return{get bandwidth(){return t.kW},get codecs(){return t.frt},get id(){return t.o},get uid(){return t.jI},get name(){return t.Th},get averageBandwidth(){return t.tyt},get label(){return t.Th},set label(n){t.Th=Xw(n)},get available(){return t.cst},get score(){return t.iyt},addEventListener:function(n,i){t.wn(n,i)},removeEventListener:function(n,i){t.mn(n,i)}}}function LF(t){return xw(MF(t),{get height(){return t.Mi},get width(){return t.Ti},get frameRate(){return t.plt},get firstFrame(){return t.eyt}})}function UF(t){return xw(MF(t),{get audioSamplingRate(){return t.$mt}})}F(),Et(),Bt(),F(),Et(),Wt(),Bt(),Dt(),Ut(),Qt(),F(),Et(),Wt(),Bt(),Dt(),Ut(),Qt(),F(),Et(),Wt(),Bt(),Dt(),Ut(),Qt(),F(),Et(),Bt(),Dt(),F(),Et(),Bt(),Dt(),F(),Et(),F(),Et(),Dt();var FF=function(t){function n(n){var i;return(i=t.call(this,"update")||this).quality=void 0,i.quality=n,i}return Ct(n,t),n}(rh),VF=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this)||this).o=void 0,u.kW=void 0,u.frt=void 0,u.nyt=void 0,u.jI=void 0,u.pO=void 0,u.syt=void 0,u.o=n,u.kW=i,u.frt=r,u.nyt=s,u.jI=kg(),u.pO=e||"",u.syt=!0,u}Ct(n,t);var i=n.prototype;return i.QU=function(){this.syt=!1,this.So(new FF(this.Ca))},i.jU=function(){this.syt=!0,this.So(new FF(this.Ca))},Nt(n,[{key:"Th",get:function(){return this.pO},set:function(t){this.pO!==t&&(this.pO=t,this.So(new FF(this.Ca)))}},{key:"tyt",get:function(){}},{key:"cst",get:function(){return this.syt}},{key:"iyt",get:function(){}}]),n}(th),HF=function(t){function n(n,i,r,e,s,u,o,h,c){var a;return void 0===c&&(c=0),(a=t.call(this,n,i,r,e,s)||this).plt=void 0,a.Ti=void 0,a.Mi=void 0,a.eyt=void 0,a.hu=void 0,a.plt=u,a.Ti=o,a.Mi=h,a.eyt=c,a.hu=void 0,a}return Ct(n,t),Nt(n,[{key:"Ca",get:function(){return this.hu||(this.hu=LF(this)),this.hu}}]),n}(VF),WF=function(t){function n(n,i,r,e,s,u){var o;return(o=t.call(this,n,i,r,e,s)||this).$mt=void 0,o.hu=void 0,o.$mt=u,o.hu=void 0,o}return Ct(n,t),Nt(n,[{key:"Ca",get:function(){return this.hu||(this.hu=UF(this)),this.hu}}]),n}(VF);F(),Et(),F(),Et(),Bt(),Dt();var zF=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).ayt=function(t){n.So(t)},n}return Ct(n,t),Nt(n,[{key:"ryt",get:function(){var t=this.hyt();return null==t?void 0:t.Tn}},{key:"oyt",get:function(){var t=this.hyt();return null==t?void 0:t.An}}]),n}(th),XF=function(t){function n(n,i){var r;if((r=t.call(this)||this).Kot=void 0,r.hu=void 0,r.uyt=void 0,r.vyt=void 0,r.lyt=void 0,r.gyt=!1,r.pyt=!1,r.dyt=[],r.Kot=n,r.uyt=i,r.uyt.wn(FO.yot,r.ayt),r.Km===ig.Bk){var e,s,u=null!=(s=null==(e=r.plt)?void 0:e.iF())?s:NaN;r.vyt=new HF(r.o,r.kW,r.Np,"","",u,r.Ti,r.Mi)}else r.Km===ig.Dk?r.vyt=new WF(r.o,r.kW,r.Np,"","",r.$mt):r.vyt=void 0;return r}Ct(n,t);var i=n.prototype;return i.Nct=function(t){var n=iM(t)?this.uyt.myt(t):this.uyt.Nct(t);return{Yu:n.Yu,Sat:n.Sat,zk:this.Idt.zk}},i.wyt=function(){return this.uyt.wyt()},i.hyt=function(){return this.uyt.hyt()},i.yyt=function(){return this.uyt.yyt()},i.kct=function(t){return this.uyt.kct(t)},i.Pct=function(t,n,i){return this.uyt.Pct(t,this.Idt.zk,n,i)},i.pdt=function(t){return iM(t)?this.$rt.Ayt(t,this.uyt):this.$rt.pdt(t)},i.mct=function(t){return iM(t)?this.$rt.byt(t,this.uyt):this.$rt.mct(t)},i.xmt=function(t){ji(this.dyt,t)||this.dyt.push(t)},i.kn=function(){this.uyt.mn(FO.yot,this.ayt),this.dyt=[]},Nt(n,[{key:"Nut",get:function(){return this.Kot}},{key:"$mt",get:function(){var t;return null!=(t=this.uyt.ck.$mt)?t:this.Nut.$mt}},{key:"kW",get:function(){return this.uyt.ck.kW||0}},{key:"frt",get:function(){var t=this.uyt.ck;return t.frt?[t.frt]:this.Nut.frt}},{key:"cyt",get:function(){var t=this.uyt.ck;return t.frt?[t.frt]:[]}},{key:"Np",get:function(){return this.uyt.ck.frt||this.Nut.Np}},{key:"twt",get:function(){return this.uyt.ck.twt||this.Nut.twt}},{key:"xW",get:function(){return this.uyt.ck.xW||this.Nut.xW}},{key:"Amt",get:function(){return this.dyt}},{key:"qT",get:function(){return this.oQ+'; codecs="'+this.Np+'"'}},{key:"iwt",get:function(){var t=this.uyt.ck;return t.iwt.length?t.iwt:this.Nut.iwt}},{key:"Ca",get:function(){return this.hu||(this.hu=function(t){return{get id(){return t.o},get type(){return t.Km},get bandwidth(){return t.kW},get width(){return t.Ti},get height(){return t.Mi},get frameRate(){var n,i;return null!=(i=null==(n=t.plt)?void 0:n.iF())?i:NaN},get audioSamplingRate(){return t.$mt}}}(this))}},{key:"plt",get:function(){var t;return null!=(t=this.uyt.ck.plt)?t:this.Nut.plt}},{key:"Mi",get:function(){return this.uyt.ck.Mi||this.Nut.Mi}},{key:"o",get:function(){return this.uyt.ck.o||""}},{key:"Bdt",get:function(){return this.lyt},set:function(t){this.lyt=t}},{key:"Ddt",get:function(){var t=this.uyt.fyt();if(t)return{Yu:t.Yu,Sat:t.Sat,zk:this.Idt.zk}}},{key:"swt",get:function(){return this.uyt.ck.swt||this.Nut.swt||1}},{key:"nwt",get:function(){return this.uyt.ck.nwt||this.Nut.nwt}},{key:"Idt",get:function(){return this.wct.Idt}},{key:"oQ",get:function(){return this.uyt.ck.oQ||this.Nut.oQ}},{key:"wct",get:function(){return this.Nut.wct}},{key:"rwt",get:function(){return this.uyt.ck.rwt||this.Nut.rwt}},{key:"kot",get:function(){return this.vyt}},{key:"hwt",get:function(){return this.uyt.ck.hwt||this.Nut.hwt}},{key:"owt",get:function(){return this.uyt.ck.owt||this.Nut.owt}},{key:"_yt",get:function(){return this.uyt._yt}},{key:"awt",get:function(){return this.uyt.ck.awt||this.Nut.awt}},{key:"$rt",get:function(){return this.uyt.$rt}},{key:"uwt",get:function(){return this.uyt.ck.uwt||this.Nut.uwt}},{key:"Km",get:function(){var t=this.oQ.split("/")[0];return"application"===t||"text"===t||ey(this.oQ,this.frt)?ig.NT:"video"===t?ig.Bk:"audio"===t?ig.Dk:"image"===t?ig.Nk:ig.pk}},{key:"Ti",get:function(){return this.uyt.ck.Ti||this.Nut.Ti}},{key:"Sct",get:function(){return this.gyt},set:function(t){this.gyt=t}},{key:"olt",get:function(){return this.pyt},set:function(t){this.pyt=t}}]),n}(zF),qF=function(t){function n(n,i){var r;return(r=t.call(this)||this).uyt=void 0,r.jpt=void 0,r.elt=[],r.jpt=n,r.uyt=i,r.uyt.wn(FO.yot,r.ayt),r}Ct(n,t);var i=n.prototype;return i.er=function(t,n){return Vt(function(){var i,r,e;return zt(this,function(s){switch(s.label){case 0:return i=this,0!==this.elt.length?[3,2]:(r=this.uyt.rat.map(function(r){return i.Tyt(r,t,n)}),e=this,[4,ut.all(r)]);case 1:e.elt=s.sent().filter(Un),s.label=2;case 2:return this.kyt(),[2]}})}).call(this)},i.Tyt=function(t,n,i){return Vt(function(){var r,e;return zt(this,function(s){switch(s.label){case 0:return r=new XF(this,t),[4,n(r)];case 1:return e=s.sent(),dr(i),e?[2,r]:[2,void 0]}})}).call(this)},i.kyt=function(){if(!this.elt.length)throw new y("Detected an AdaptationSet without any supported Representations.")},i.hyt=function(){return this.uyt.hyt()},i.yyt=function(){return this.uyt.yyt()},i.kn=function(){this.uyt.mn(FO.yot,this.ayt);for(var t,n=Lt(this.elt);!(t=n()).done;){t.value.kn()}Yi(this.elt)},Nt(n,[{key:"Wdt",get:function(){return this.uyt.ck.Wdt}},{key:"$mt",get:function(){var t;return null!=(t=this.uyt.ck.$mt)?t:-1}},{key:"frt",get:function(){if(this.uyt.ck.frt)return[this.uyt.ck.frt];for(var t,n=[],i=Lt(this.rat);!(t=i()).done;){var r=t.value;r.cyt.length&&-1===n.indexOf(r.Np)&&n.push(r.Np)}return n}},{key:"Np",get:function(){return this.frt.join()}},{key:"twt",get:function(){return this.uyt.ck.twt}},{key:"xW",get:function(){return this.uyt.ck.xW}},{key:"qT",get:function(){return this.oQ+'; codecs="'+this.Np+'"'}},{key:"iwt",get:function(){return this.uyt.iwt}},{key:"ewt",get:function(){return this.uyt.ewt}},{key:"plt",get:function(){return this.uyt.ck.plt}},{key:"Jdt",get:function(){return this.uyt.ck.Jdt}},{key:"Mi",get:function(){return this.uyt.ck.Mi||0}},{key:"o",get:function(){return this.uyt.ck.o}},{key:"Th",get:function(){return this.uyt.ck.Th||""}},{key:"swt",get:function(){return this.uyt.ck.swt}},{key:"nwt",get:function(){return this.uyt.ck.nwt}},{key:"Idt",get:function(){return this.wct.Idt}},{key:"oQ",get:function(){return this.uyt.ck.oQ||this.elt[0].oQ}},{key:"wct",get:function(){return this.jpt}},{key:"rwt",get:function(){return this.uyt.ck.rwt}},{key:"rat",get:function(){return this.elt}},{key:"Plt",get:function(){return this.uyt.ck.Plt||[]}},{key:"hwt",get:function(){return this.uyt.ck.hwt}},{key:"owt",get:function(){return this.uyt.ck.owt}},{key:"awt",get:function(){return this.uyt.ck.awt}},{key:"Kq",get:function(){return this.uyt.ck.Kq}},{key:"uwt",get:function(){return this.uyt.ck.uwt}},{key:"Km",get:function(){var t=(this.uyt.ck.qT||this.oQ).split("/")[0];return"application"===t||"text"===t||"subtitle"===t||ey(this.oQ,this.frt)?ig.NT:"video"===t?ig.Bk:"audio"===t?ig.Dk:"image"===t?ig.Nk:ig.pk}},{key:"Ti",get:function(){return this.uyt.ck.Ti||0}},{key:"rit",get:function(){return this.uyt.ck.bs||""}},{key:"blt",get:function(){return this.ryt}},{key:"Alt",get:function(){var t=this.blt,n=this.oyt;if(void 0!==t&&void 0!==n){var i=b.min(n,this.Idt.Syt);return b.max(t,i)}}}]),n}(zF);function GF(t,n){for(var i,r=[],e=Lt(n);!(i=e()).done;)for(var s,u=i.value,o=Lt(t);!(s=o()).done;){var h=s.value;r.push(Vn.Dh(h,u))}return r}F(),Et(),Bt(),Dt(),Ut(),F(),Et(),Bt(),Dt(),Ut(),F(),Et(),Ut(),F(),Et(),Bt(),Dt(),H(),F(),Et(),Bt(),Dt(),H(),F(),Et(),Dt(),F(),Et(),Bt();var jF=function(){function t(t,n){this.jpt=void 0,this.zyt=void 0,this.HA=void 0,this.Wyt=void 0,this.Yyt=void 0,this.jpt=t,this.zyt=n,this.HA=n.qD,this.Wyt=n.Omt,this.Yyt=n.jmt}var n=t.prototype;return n.Eyt=function(t){var n=t-this.jpt.Tn;if(!(n<0||n>=this.jpt.ct)){var i=this.Pyt();return void 0!==i&&Si(i,n,1e-5)?this.xyt():this.Iyt(n)}},n.Tct=function(t){var n=t-this.jpt.Tn;if(!(n<0))return this.Ryt(b.min(n,this.jpt.ct))},n.xyt=function(){return this.Cyt(0)},n.Dyt=function(){var t=this.jpt.ct;if(isFinite(t))return this.Ryt(t)},n.wyt=function(t){if(this.jpt.Myt.Km===fL.wV){if(this.Byt){var n=this.xyt(),i=this.Lyt();if(void 0===n||void 0===i)return;return{Oyt:t,Fyt:n,Uyt:i}}var r=this.Vyt(t);if(!r)return;return{Oyt:t,Fyt:this.Hyt(t),Uyt:r}}var e=this.xyt();if(e)return{Oyt:t,Fyt:e,Uyt:this.Dyt()}},n.yyt=function(t,n){if(n){var i=this.Rdt(n.Fyt),r=this.Cct(n.Uyt);if(r){var e=this.Cdt(r);(!i||e.getTime()<i.getTime())&&(i=e)}return i}var s=this.xyt();if(s){var u=this.Cdt(s);if(t.getTime()<u.getTime())return u}var o=this.jpt.Myt.Vwt;return t.getTime()<o.getTime()?o:void 0},n.Vyt=function(t){var n=(t.getTime()-this.jpt.Myt.Vwt.getTime())/1e3-this.jpt.Tn+this.Wyt,i=this.Ryt(Ti(n,0,this.jpt.ct));if(i&&(i=this.qyt(i,t))){for(var r=this.Cct(i);r&&this.Udt(r,t);)i=r,r=this.Cct(i);return i}},n.Hyt=function(t){var n,i=this.zyt.Kmt;if(i){var r=(t.getTime()-this.jpt.Myt.Vwt.getTime())/1e3-this.jpt.Tn-i.Rmt();(n=this.Ryt(Ti(r,0,this.jpt.ct)))||(n=this.xyt())}else n=this.xyt();if(n&&(n=this.qyt(n,t))){for(var e=this.Rct(n);e&&this.Udt(e,t);)n=e,e=this.Rct(n);return n}},n.qyt=function(t,n){for(var i=t;i&&this.Cdt(i).getTime()>n.getTime();)i=this.Rct(i);if(i){var r=this.Rdt(i);if(r&&r.getTime()<=n.getTime()){var e=this.Rct(i);for(e&&this.Udt(e,n)&&(i=e);i;){if(this.Cdt(i).getTime()>n.getTime())return;if(this.Udt(i,n))break;i=this.Cct(i)}if(!i)return}return i}},n.Udt=function(t,n){if(this.Byt)return!0;if(this.Cdt(t).getTime()>n.getTime())return!1;var i=this.Rdt(t);return!(i&&n.getTime()>=i.getTime())},n.Gyt=function(t,n){if(this.Byt)return!0;if(this.Xyt(t).getTime()>n.getTime())return!1;var i=this.Rdt(t);return!(i&&n.getTime()>=i.getTime())},n.jyt=function(t,n,i){var r=le(n,this.HA)+this.jpt.Tn;return{aut:t,Qyt:n,EO:r,ct:i,PO:r+i}},n.Xyt=function(t){return this.jpt.Myt.Km===fL.wV?new Date(this.jpt.Myt.Vwt.getTime()+1e3*(t.EO+t.ct)):this.jpt.Myt.Vwt},n.Cdt=function(t){var n=this.Xyt(t);return this.jpt.Myt.Km===fL.wV?new Date(n.getTime()-1e3*this.Wyt):n},n.Rdt=function(t){var n=1/0;if(this.jpt.Myt.Km===fL.wV){var i=this.zyt.Kmt;i&&(n=this.Xyt(t).getTime()+1e3*t.ct+i.Cmt())}var r=this.jpt.Myt.Uwt;return r&&(n=b.min(n,r.getTime())),n===1/0?void 0:new Date(n)},n.Kyt=function(t,n){return t.aut+n},n.kct=function(t){return!1},n.Pct=function(t,n,i,r,e){var s=this.Jyt(t);if(!s)return ut.reject(new y("Invalid segment"));var u=this.Zyt(s.aut,n);return u?ut.resolve(u):gr(this.$yt(s.aut,n,i,r),e)},n.Zyt=function(t,n){},n.$yt=function(t,n,i,r){return ut.reject(new y("Not supported"))},n.Rct=function(t){var n=this.Jyt(t);if(n)return this.Cyt(n.aut-1)},n.Cct=function(t){var n=this.Jyt(t);if(n)return this.Cyt(n.aut+1)},n.Jyt=function(t){var n=this.Cyt(t.aut);if(n&&n.EO===t.EO)return n;var i=this.Eyt(t.EO);return i&&i.EO===t.EO?i:void 0},n.tAt=function(t,n){var i=this.xct(t);if(i&&this.kct(i.aut)){var r=this.Zyt(i.aut,n);if(r)return r.tAt(t)}},n.xct=function(t){return this.Cyt(t.iAt)},n.pdt=function(t){var n=this.Jyt(t);return!!n&&0===n.aut},n.Ayt=function(t,n){var i=this.tAt(t,n);return!!i&&0===i.hut},n.mct=function(t){var n=this.Jyt(t);if(!n)return!1;var i=this.Dyt();return!!i&&n.aut===i.aut},n.byt=function(t,n){var i=this.tAt(t,n);if(!i)return!1;var r=this.Dyt();if(!r||i.iAt!==r.aut)return!1;var e=this.Zyt(i.iAt,n);return i.hut+1===e.V},n.zg=function(){},Nt(t,[{key:"Byt",get:function(){return this.jpt.Myt.Nyt&&void 0!==this.Lyt()}},{key:"bU",get:function(){return this.jpt.Tn-le(this.Yyt,this.HA)}},{key:"jmt",get:function(){return le(this.Yyt,this.HA)}}]),t}(),QF=function(t){function n(n,i){var r;(r=t.call(this,i,n)||this).nAt=void 0,r.eAt=void 0;var e=n.oAt,s=n.ct;if(void 0===e||void 0===s)throw new y("MultipleSegmentBase does not have a segment duration specified.");return r.eAt=e,r.nAt=s,r}Ct(n,t);var i=n.prototype;return i.Cyt=function(t){if(!(t<0)){var n=this.eAt.multiply(t),i=le(n,this.HA),r=this.jpt.ct;if(!(i>=r)){var e=this.sAt();if(void 0!==e){if(t>e)return;if(t===e&&isFinite(r))return this.jyt(t,n,r-i)}return isFinite(r)&&i+this.nAt>r?this.jyt(t,n,r-i):this.jyt(t,n,this.nAt)}}},i.Pyt=function(){return 0},i.Iyt=function(t){var n=b.floor(t/this.nAt),i=this.sAt();return void 0!==i&&n>=i?this.Cyt(i):this.Cyt(n)},i.Ryt=function(t){if(t>=this.jpt.ct){var n=b.ceil(this.jpt.ct/this.nAt)-1,i=this.sAt();return void 0!==i&&n>=i?this.Cyt(i):this.Cyt(n)}return this.Iyt(t)},i.sAt=function(){var t,n=this.zyt.Zmt;if(void 0!==n)return n-(null!=(t=this.zyt.Jmt)?t:1);var i=this.zyt.rAt;return void 0!==i&&i>0?i-1:void 0},i.Lyt=function(){if(isFinite(this.jpt.ct))return this.Dyt()},i.hAt=function(t,n){return this.eAt.multiply(t.aut+(n-1))},i.er=function(){},n}(jF);function YF(t,n,i){var r=n.length;if(0===r)return-1;for(var e=0,s=r-1,u=t.aAt(n[e]),o=t.uAt(n[s]);e<=s&&t.cAt(u,i)<=0&&t.cAt(i,o)<0;){var h=e+b.floor(t.dAt(i,u,o)*(s-e)),c=n[h],a=t.aAt(c),f=h+1<r?t.aAt(n[h+1]):t.uAt(c);if(t.cAt(f,i)<=0)e=h+1,u=f;else{if(!(t.cAt(i,a)<0))return h;s=h-1,o=a}}return-1}function KF(t,n){return YF(JF.Ng,t,n)}F(),Et(),Dt(),F(),Et(),Bt(),F(),Et();var JF=function(){function t(){}var n=t.prototype;return n.aAt=function(t){return t.EO},n.uAt=function(t){return t.PO},n.cAt=function(t,n){return t.compare(n)},n.dAt=function(t,n,i){return t.subtract(n).toNumber()/i.subtract(n).toNumber()},Nt(t,null,[{key:"Ng",get:function(){return null!=this.lAt||(this.lAt=new t),this.lAt}}]),t}();JF.lAt=void 0;var ZF=.01,$F=function(t){function n(n,i){var r;return(r=t.call(this,i,n)||this).fAt=[],r._At=void 0,r.Hgt=ue.ZERO,r.er(),r}Ct(n,t);var i=n.prototype;return i.Cyt=function(t){if(!(t<0))return t<this.fAt.length?this.fAt[t].$at:this.vAt(t-this.fAt.length)},i.Pyt=function(){if(this.fAt.length>0)return le(this.fAt[0].EO,this.HA)},i.Iyt=function(t){if(this._At&&le(this._At.EO,this.HA)<=t){var n=le(this._At.EO,this.HA),i=le(this._At.ct,this.HA),r=b.floor((t-n)/i);return this.vAt(r)}if(this.fAt.length>0&&Si(t,le(this.fAt[0].EO,this.HA),1e-5))return this.fAt[0].$at;var e=KF(this.fAt,ue.fromNumber(t*this.HA));return e<0?void 0:this.fAt[e].$at},i.Ryt=function(t){if(!this._At&&this.fAt.length>0){var n=this.fAt[this.fAt.length-1];if(function(t,n,i){return Oi(t,n,i)>=0}(t,le(n.PO,this.HA),1e-5))return n.$at}var i=this.Pyt();return i&&t<i?this.fAt[0].$at:this.Iyt(t)},i.Lyt=function(){return isFinite(this.jpt.ct)?this.Dyt():this.Cyt(this.fAt.length-1)},i.hAt=function(t){return this.gAt(t)},i.vAt=function(t){if(this._At){var n=this._At.EO,i=this._At.ct,r=n.add(i.multiply(t)),e=le(r,this.HA),s=this.jpt.ct;if(!(e>=s)){var u=this.fAt.length+t,o=b.min(le(i,this.HA),e+s);return this.jyt(u,r,o)}}},i.gAt=function(t){return t.Qyt.add(this.Yyt)},i.er=function(){var t=this.zyt.ck.$rt;if(!t)throw new y("MultipleSegmentBaseTO does not have a SegmentTimeline specified.");this.pAt(t)},i.pAt=function(t){var n=this.Yyt;this.mAt(t,n);var i=this.wAt(t);this.yAt(t,n,i.AAt,i.iAt)},i.mAt=function(t,n){var i=this.fAt;if(0===t.length)Yi(i);else{for(var r=t[0],e=0,s=le(r.EO?ue.fromString(r.EO,!1).subtract(n):ue.ZERO,this.HA);e<i.length&&le(i[e].EO,this.HA)<s-ZF;)e++;e>0&&i.splice(0,e)}},i.wAt=function(t){for(var n=this.fAt,i=this.Hgt,r=0,e=0;r<t.length&&e<n.length;){var s=t[r].Umt||0;if(s<0)break;var u=e+s;if(u>=n.length)break;if(n[u].EO.greaterThanOrEqual(i))break;if(n[e].$at.aut===e)e=u+1;else for(;e<=u;)n[e].$at.aut=e,e++;0,r++}return{AAt:r,iAt:e}},i.yAt=function(t,n,i,r){for(var e,s=this.fAt,u=i,o=r;u<t.length;){var h=t[u],c=ue.fromString(h.ct,!1),a=h.Umt||0,f=void 0;if(h.EO){if(f=ue.fromString(h.EO,!1).subtract(n),o>0){var v=s[o-1];v.PO.greaterThan(f)&&(v.ct=f.subtract(v.EO),v.PO=v.EO.add(v.ct))}}else f=o>0?s[o-1].PO:ue.ZERO;if(a<0){if(u+1===t.length){e={EO:f,ct:c};break}for(var d=ue.fromString(t[u+1].EO,!1).subtract(n);f.lessThan(d);){var l=f.add(c);this.bAt(s,o,f,c,l),f=l,o++}}else for(var w=o+a;o<=w;){var g=f.add(c);this.bAt(s,o,f,c,g),f=g,o++}u++}o<s.length&&s.splice(o),s.length>0&&(this.Hgt=s[s.length-1].EO),this._At=e},i.bAt=function(t,n,i,r,e){if(n<t.length){var s=t[n];s.ct.equals(r)?s.$at.aut=n:t[n]={EO:i,ct:r,PO:e,$at:this.jyt(n,i,le(r,this.HA))}}else t.push({EO:i,ct:r,PO:e,$at:this.jyt(n,i,le(r,this.HA))})},n}(jF);F(),Et(),Bt();var tV=function(){function t(t,n,i){this.wct=void 0,this.SAt=void 0,this.Wp=void 0,this.TAt=void 0,this.EAt=void 0,this.wct=t,this.SAt=n,this.Wp=i}var n=t.prototype;return n.kAt=function(){if(this.EAt=this.PAt(),this.EAt)return this.EAt;if(this.SAt)return this.SAt.$rt;throw new y("Missing media segment information.")},n.fyt=function(t){var n=this.Xmt;if(n)return{Yu:(void 0!==n.Fmt?Vn.Dh(n.Fmt,t.vwt[0]):t.vwt[0]).href,Sat:n.Sat};var i=this.Vmt;return i?{Yu:t.vwt[0].href,Sat:[0,i[0]-1]}:void 0},n.er=function(t){this.Wp=t,this.EAt&&this.EAt.er()},n.zg=function(){this.EAt&&(this.EAt.zg(),this.EAt=void 0)},Nt(t,[{key:"ck",get:function(){return this.Wp}},{key:"Omt",get:function(){return this.Wp&&void 0!==this.Wp.Omt?this.Wp.Omt:this.SAt?this.SAt.Omt:0}},{key:"jmt",get:function(){return this.Wp&&void 0!==this.Wp.jmt?this.Wp.jmt:this.SAt?this.SAt.jmt:ue.ZERO}},{key:"Kmt",get:function(){return this.Wp&&void 0!==this.Wp.Kmt?this.Wp.Kmt:this.SAt?this.SAt.Kmt:this.wct.Myt.Kmt}},{key:"qD",get:function(){return this.Wp&&void 0!==this.Wp.qD?this.Wp.qD:this.SAt&&this.SAt.qD?this.SAt.qD:1}},{key:"Vmt",get:function(){return this.Wp&&void 0!==this.Wp.Vmt?this.Wp.Vmt:this.SAt?this.SAt.Vmt:void 0}},{key:"Xmt",get:function(){return this.Wp&&void 0!==this.Wp.Xmt?this.Wp.Xmt:this.SAt?this.SAt.Xmt:void 0}},{key:"$rt",get:function(){return this.TAt||(this.TAt=this.kAt()),this.TAt}}]),t}(),nV=function(t){function n(){return t.apply(this,arguments)||this}return Ct(n,t),n.prototype.PAt=function(){return void 0!==this.Wp.$rt?new $F(this,this.wct):void 0!==this.Wp.ct?new QF(this,this.wct):void 0},Nt(n,[{key:"ct",get:function(){return void 0!==this.Wp.ct?this.Wp.ct/this.qD:this.SAt&&iV(this.SAt)?this.SAt.ct:void 0}},{key:"oAt",get:function(){return void 0!==this.Wp.ct?ue.fromNumber(this.Wp.ct):this.SAt&&iV(this.SAt)?this.SAt.oAt:void 0}},{key:"Jmt",get:function(){return void 0!==this.Wp.Jmt?this.Wp.Jmt:this.SAt&&iV(this.SAt)?this.SAt.Jmt:void 0}},{key:"Zmt",get:function(){return void 0!==this.Wp.Zmt?this.Wp.Zmt:this.SAt&&iV(this.SAt)?this.SAt.Zmt:void 0}}]),n}(tV);function iV(t){return V(t,nV)}F(),Et();var rV=function(){function t(t){this.xAt=void 0,this.xAt=t}return t.prototype.Xy=function(t){return this.xAt.replace(/\$\$|\$(RepresentationID|Number|Bandwidth|Time)(?:%0(\d+)([diuxXo]))?\$/g,function(n,i,r,e){if("$$"===n)return"$";var s=t[i];if(void 0===s)return n;if(void 0===r)return s.toString();var u=function(t,n){switch(n){case"d":case"i":case"u":return t.toString(10);case"x":return t.toString(16);case"X":return t.toString(16).toUpperCase();case"o":return t.toString(8);default:return}}(s,e);return void 0===u?n:u=Wo(u,Number(r),"0")})},t}();var eV=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).IAt=void 0,e.RAt=void 0,e.IAt=r.lwt?new rV(r.lwt):void 0,e.RAt=r.fwt?new rV(r.fwt):void 0,e}Ct(n,t);var i=n.prototype;return i.fyt=function(n){var i=this.lwt;if(!i)return t.prototype.fyt.call(this,n);var r=i.Xy({Bandwidth:n.ck.kW,RepresentationID:n.ck.o});return{Yu:Vn.xm(r,n.vwt[0])}},i.Nct=function(t,n){var i,r=null!=(i=n._yt.Jmt)?i:1,e=this.fwt.Xy({Bandwidth:n.ck.kW,Number:n.$rt.Kyt(t,r),RepresentationID:n.ck.o,Time:n.$rt.hAt(t,r)});return{Yu:Vn.xm(e,n.vwt[0])}},i.myt=function(t,n){},Nt(n,[{key:"lwt",get:function(){return this.IAt?this.IAt:this.SAt&&V(this.SAt,n)?this.SAt.lwt:void 0}},{key:"fwt",get:function(){return this.RAt?this.RAt:this.SAt&&V(this.SAt,n)?this.SAt.fwt:void 0}},{key:"rAt",get:function(){}}]),n}(nV);F(),Et(),Bt(),Dt(),H();var sV=function(t){function n(){return t.apply(this,arguments)||this}Ct(n,t);var i=n.prototype;return i.Nct=function(t,n){var i=this.Wmt[t.aut],r=n.vwt[0];return{Yu:(i.KD?Vn.Dh(i.KD,r):r).href,Sat:i.Hmt}},i.myt=function(t,n){},Nt(n,[{key:"Wmt",get:function(){return void 0!==this.Wp.Wmt?this.Wp.Wmt:this.SAt&&V(this.SAt,n)?this.SAt.Wmt:void 0}},{key:"rAt",get:function(){var t;return null==(t=this.Wmt)?void 0:t.length}}]),n}(nV);F(),Et(),Bt(),Dt(),F(),Et(),Wt(),Dt(),Qt(),F(),Et(),Bt(),Dt(),F(),Et();var uV=function(){function t(){}return t.prototype.tAt=function(t){var n=this.Ict(t.hut);if(n&&n.EO===t.EO)return n;var i=this.CAt(t.EO);return i&&i.EO===t.EO?i:void 0},t}(),oV=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this)||this).iAt=void 0,u.qD=void 0,u.MAt=void 0,u.jmt=void 0,u.DAt=void 0,u.iAt=n,u.qD=i,u.MAt=r,u.jmt=e,u.DAt=s,u}Ct(n,t);var i=n.prototype;return i.Ict=function(t){if(t>=0&&t<this.V)return this.BAt(this.DAt[t])},i.CAt=function(t){var n=this.NAt(t);if(this.DAt.length>0){var i=this.DAt[0];if(n<=le(i.EO,this.qD))return this.BAt(i)}var r=KF(this.DAt,ue.fromNumber(n*this.qD));if(!(r<0))return this.BAt(this.DAt[r])},i.Ect=function(t){var n=this.NAt(t),i=zi(this.DAt,-1);return void 0!==i&&n>=le(i.PO,this.qD)?this.BAt(i):this.CAt(t)},i.BAt=function(t){var n=le(t.EO,this.qD)-this.jmt,i=n+this.MAt,r=le(t.ct,this.qD);return{iAt:this.iAt,hut:t.aut,EO:i,Qyt:ue.fromNumber(n*this.qD),ct:r,PO:i+r,LAt:[t.OAt,t.FAt]}},i.NAt=function(t){return t-this.MAt+this.jmt},Nt(n,[{key:"V",get:function(){return this.DAt.length}}]),n}(uV);F(),Et(),Ut(),F(),Et(),F(),Et(),Ut();var hV=function(){function t(t){this.ck=void 0,this.KC=void 0,this.ck=t,this.KC=new Tc}var n=t.prototype;return n.agt=function(){return this.KC.ac<this.ck.byteLength},n.UAt=function(){var n,i=this.VAt(),r=this.HAt(),e=this.KC.ac,s=this.ck.byteLength,u=e+(n=t.WAt(r)?s-e:t.qAt(r))<=s?n:s-e,o=Uh(this.ck,this.KC,u);return new aV(i,_c(o))},n.VAt=function(){var t=this.HAt();if(t.length>7)throw new RangeError("Invalid EBML ID size");for(var n=0,i=0;i<t.length;i++)n=256*n+t[i];return n},n.HAt=function(){var t=Mh(this.ck,this.KC.Ly());if(0===t)throw new RangeError("EBML variable sized integer is invalid");var n=8-(31-Eh(t));return Vn.lm(n<=8&&n>=1,"Incorrect log2 value"),Uh(this.ck,this.KC,n)},t.qAt=function(t){if(8===t.length&&224&t[1])throw new p("EBML variable sized integer is too large");for(var n=0,i=0;i<t.length;i++){var r=t[i];if(0===i)n=r&(1<<8-t.length)-1;else n=256*n+r}return n},t.WAt=function(t){for(var n,i=Lt(cV);!(n=i()).done;){var r=n.value;if(Dc(t,new E(r)))return!0}return!1},t}(),cV=[[255],[127,255],[63,255,255],[31,255,255,255],[15,255,255,255,255],[7,255,255,255,255,255],[3,255,255,255,255,255,255],[1,255,255,255,255,255,255,255]],aV=function(){function t(t,n){this.id=void 0,this.GAt=void 0,this.id=t,this.GAt=n}var n=t.prototype;return n.zAt=function(){return this.GAt.byteOffset},n.XAt=function(){return new hV(this.GAt)},n.jAt=function(){var t=this.GAt.byteLength;if(t>8)throw new RangeError("EMBL integer field size is too large");if(8===t&&224&this.GAt.getUint8(0))throw new RangeError("EMBL integer field value is too large");for(var n=0,i=0;i<t;i++){n=256*n+this.GAt.getUint8(i)}return n},n.LJ=function(){if(4===this.GAt.byteLength)return this.GAt.getFloat32(0);if(8===this.GAt.byteLength)return this.GAt.getFloat64(0);throw new RangeError("Invalid size for EMBL floating-point field")},t}();function fV(t,n){var i=function(t){var n=new hV(_c(t)),i=n.UAt();if(i.id!==dV)throw new p("Missing WebM EBML header");var r=n.UAt();if(r.id!==lV)throw new p("Missing WebM SegmentElement");var e=r.zAt(),s=function(t){var n,i=t.XAt();for(;i.agt();){var r=i.UAt();if(r.id===wV){n=r;break}}if(!n)throw new p("Missing WebM InfoElement");return function(t){var n,i=t.XAt(),r=1e6;for(;i.agt();){var e=i.UAt();e.id===gV?r=e.jAt():e.id===_V&&(n=e.LJ())}if(void 0===n)throw new p("Missing Duration in WebM InfoElement");var s=r/1e9,u=n*s;return{timecodeScale:s,duration:u}}(n)}(r);return{segmentOffset:e,timecodeScale:s.timecodeScale,duration:s.duration}}(n),r=new hV(_c(t)).UAt();if(r.id!==mV)throw new p("Missing WebM CuesElement");var e=function(t,n,i,r){var e,s,u=[],o=t.XAt();for(;o.agt();){var h=o.UAt();if(h.id===yV){var c=vV(h);if(c){var a=c.unscaledTime,f=n+c.relativeOffset;void 0!==e&&u.push({aut:u.length,EO:e,ct:a.subtract(e),PO:a,OAt:s,FAt:f-1}),e=a,s=f}}}if(void 0!==e){0;var v=ue.fromNumber(r/i);u.push({aut:u.length,EO:e,ct:v.subtract(e),PO:v,OAt:s,FAt:void 0})}return u}(r,i.segmentOffset,i.timecodeScale,i.duration);return{qD:b.round(1/i.timecodeScale),QAt:e}}function vV(t){var n=t.XAt(),i=n.UAt();if(i.id!==pV)throw new p("Missing CueTime in WebM CuePointElement");var r=ue.fromNumber(i.jAt()),e=n.UAt();if(e.id!==kV)throw new p("Missing CueTrackPositions in WebM CuePointElement");for(var s=e.XAt(),u=0;s.agt();){var o=s.UAt();if(o.id===bV){u=o.jAt();break}}return{unscaledTime:r,relativeOffset:u}}var dV=440786851,lV=408125543,wV=357149030,gV=2807729,_V=17545,mV=475249515,yV=187,pV=179,kV=183,bV=241,AV=function(t){function n(n,i){var r;return(r=t.call(this,i,n)||this).JAt=void 0,r.KAt=void 0,r.ZAt=Ju(),r.$At=Ju(),r.tbt=new hr,r.JAt=n.Vmt,r.KAt=r.jyt(0,ue.ZERO,r.jpt.ct),r}Ct(n,t);var i=n.prototype;return i.Cyt=function(t){if(0===t)return this.KAt},i.Pyt=function(){return 0},i.Iyt=function(t){return this.KAt},i.Ryt=function(t){return this.Iyt(t)},i.Lyt=function(){return this.KAt},i.hAt=function(t,n){return ue.ZERO},i.wyt=function(t){var n=this.YAt(t);return n&&{Oyt:t,Fyt:n,Uyt:n}},i.YAt=function(t){var n=this.KAt;return this.Udt(n,t)?n:void 0},i.Vyt=function(t){return this.YAt(t)},i.Hyt=function(t){return this.YAt(t)},i.er=function(){},i.kct=function(t){return 0===t&&void 0!==this.JAt},i.Zyt=function(t,n){var i=n.vwt[0].href;return this.ZAt.get(i)},i.$yt=function(t,n,i,r){var e=n.vwt[0].href,s=this.$At.get(e);if(void 0===s){var u=n.oQ,o=this.tbt.Yg;if(Hv(u))s=this.ibt(t,e,i,r,o);else{if(!Wv(u))throw new fd(cd.MEDIA_NOT_SUPPORTED,"Unsupported MIME type for segment index: "+u);s=this.ebt(t,e,n,i,r,o)}this.$At.set(e,s)}return s},i.ibt=function(t,n,i,r,e){return Vt(function(){var s,u,o;return zt(this,function(h){switch(h.label){case 0:return s=this.JAt,[4,r.Zct(n,s,i,e)];case 1:return u=h.sent(),o=this.sbt(t,u),this.ZAt.set(n,o),[2,o]}})}).call(this)},i.sbt=function(t,n){var i=this.JAt,r=lm.fD(new DataView(n),new Tc);if(r.Km!==um.HC)throw new y("Invalid segment index");var e=ym.MD(r.ck),s=function(t,n){for(var i,r=[],e=t._M,s=n+t.gM.toNumber(),u=0,o=Lt(t.mM);!(i=o()).done;){var h=i.value,c=h.cM,a=ue.fromNumber(h.ct),f=e.add(a);0===h.uM&&r.push({aut:u++,EO:e,ct:a,PO:f,OAt:s,FAt:s+c-1}),s+=c,e=f}return r}(e,i[1]+1);return new oV(t,e.qD,this.jpt.Tn,le(this.Yyt,this.HA),s)},i.ebt=function(t,n,i,r,e,s){return Vt(function(){var u,o,h,c,a,f,v,d;return zt(this,function(l){switch(l.label){case 0:return u=i.fyt(),o=this.JAt,h=e.Zct(u.Yu,u.Sat,r,s),c=e.Zct(n,o,r,s),[4,ut.all([h,c])];case 1:return a=l.sent(),f=a[0],v=a[1],d=this.nbt(t,v,f),this.ZAt.set(n,d),[2,d]}})}).call(this)},i.nbt=function(t,n,i){var r=fV(new E(n),new E(i));return new oV(t,r.qD,this.jpt.Tn,le(this.Yyt,this.HA),r.QAt)},i.zg=function(){t.prototype.zg.call(this),this.tbt.Zg()},n}(jF),TV=function(t){function n(){return t.apply(this,arguments)||this}Ct(n,t);var i=n.prototype;return i.Nct=function(t,n){return{Yu:n.vwt[0].href}},i.myt=function(t,n){return{Yu:n.vwt[0].href,Sat:t.LAt}},i.PAt=function(){return new AV(this,this.wct)},Nt(n,[{key:"Jmt",get:function(){}}]),n}(tV);F(),Et(),Dt();var SV=function(t){function n(){return t.call(this,FO.yot)||this}return Ct(n,t),n}(rh);F(),Et();var EV=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).pE=void 0,e.Wp=void 0,e.rbt=void 0,e.zyt=void 0,e.fbt=1/0,e.ubt=void 0,e.pE=i,e.abt(n,r),e}Ct(n,t);var i=n.prototype;return i.hbt=function(){var t,n;return null!=(n=this.zyt)?n:null==(t=this.pE)?void 0:t.hbt()},i.obt=function(t){var n=this.wct,i=this.pE&&this.pE.hbt();this.Wp.pwt?this.zyt=new eV(n,i,this.Wp.pwt):this.Wp.gwt?this.zyt=new sV(n,i,this.Wp.gwt[0]):this.Wp._wt?this.zyt=new TV(n,i,this.Wp._wt):t&&!i&&(this.zyt=new TV(n,i,void 0))},i.abt=function(t,n){this.Wp=t,this.rbt=t.vwt&&t.vwt.length>0?GF(t.vwt.map(function(t){return t.Yu}),n):n.slice(),this.zyt&&(t.pwt?this.zyt.er(t.pwt):t.gwt?this.zyt.er(t.gwt[0]):t._wt&&this.zyt.er(t._wt))},i.hyt=function(){var t;return null==(t=this.ubt)?void 0:t.cbt},i.yyt=function(){var t;return null==(t=this.ubt)?void 0:t.dbt},i.lbt=function(t){var n=this.fbt,i=this.wct.ct,r=this.ubt,e=this.vbt(t);r&&Si(i,n,1e-5)&&DV(r,e)||(this.fbt=i,this.ubt=e,this.So(new SV))},i.zg=function(){this.Vo(),this.zyt&&(this.zyt.zg(),this.zyt=void 0)},Nt(n,[{key:"ck",get:function(){return this.Wp}},{key:"vwt",get:function(){return this.rbt}}]),n}(th);function IV(t){for(var n,i,r=Lt(t);!(i=r()).done;){var e=i.value.hyt();if(e){n=e.Tn;break}}if(void 0!==n){for(var s,u=t.length-1;u>=0;u--){var o=t[u].hyt();if(o){s=o.An;break}}if(void 0!==s)return{Tn:n,An:s}}}function RV(t){if(0!==t.length){for(var n,i=0,r=1/0,e=Lt(t);!(n=e()).done;){var s=n.value.hyt();if(!s)return;if((i=b.max(i,s.Tn))>=(r=b.min(r,s.An)))return}return{Tn:i,An:r}}}function CV(t){for(var n,i,r=Lt(t);!(i=r()).done;){var e=i.value.yyt();e&&(!n||e.getTime()<n.getTime())&&(n=e)}return n}function DV(t,n){return function(t,n){return t&&n?t.getTime()===n.getTime():t===n}(t.dbt,n.dbt)&&function(t,n){return t&&n?Si(t.Tn,n.Tn,1e-5)&&Si(t.An,n.An,1e-5):t===n}(t.cbt,n.cbt)}var PV=function(t){function n(n,i,r){var e;(e=t.call(this)||this).jpt=void 0,e.hS=void 0,e._bt=void 0,e.jpt=n,e.hS=i,e._bt=r.slice();for(var s,u=Lt(r);!(s=u()).done;){s.value.wn(FO.yot,e.ayt)}return e}Ct(n,t);var i=n.prototype;return i.hyt=function(){return RV(this._bt)},i.yyt=function(){for(var t,n,i=Lt(this._bt);!(n=i()).done;){var r=n.value.yyt();r&&(!t||r.getTime()<t.getTime())&&(t=r)}return t},i.kn=function(){this.Vo();for(var t,n=Lt(this._bt);!(t=n()).done;){t.value.mn(FO.yot,this.ayt)}},Nt(n,[{key:"Ilt",get:function(){return this._bt}},{key:"frt",get:function(){return this.Ilt.reduce(function(t,n){for(var i,r=Lt(n.frt);!(i=r()).done;){var e=i.value;ji(t,e)||t.push(e)}return t},[])}},{key:"Np",get:function(){return this.frt.length>0?this.frt[0]:""}},{key:"Km",get:function(){return this._bt[0].Km}},{key:"o",get:function(){return this.hS}},{key:"Idt",get:function(){return this.jpt.Idt}},{key:"oQ",get:function(){return this._bt[0].oQ}},{key:"wct",get:function(){return this.jpt}},{key:"rat",get:function(){return Ji(this.Ilt,function(t){return t.rat})}}]),n}(zF);F(),Et(),Dt();var NV=function(t){function n(){return t.call(this,FO.bot)||this}return Ct(n,t),n}(rh);function BV(t){for(var n,i=function(){var t=n.value,i=void 0,e=t.Jdt;void 0===e||(i=Ui(r,function(t){return t.o===e})),i||(i={o:e,Ilt:[]},r.push(i)),i.Ilt.push(t)},r=[],e=Lt(t);!(n=e()).done;)i();return r}F(),Et(),Ut();var xV=function(t){function n(n,i){var r;return(r=t.call(this)||this).uyt=void 0,r._bt=[],r.gbt=[],r.mbt=void 0,r.pbt=!1,r.mbt=n,r.uyt=i,r.uyt.wn(FO.yot,r.ayt),r}Ct(n,t);var i=n.prototype;return i.bbt=function(t,n){if(0!==this.gbt.length){for(var i,r=t,e=Lt(this.gbt);!(i=e()).done;){var s=i.value;if(rg(s.Km)){var u=s.oyt;if(void 0===u)return;r=n(r,u)}}return r}},i.Tbt=function(){this.pbt||(this.pbt=!0,this.So(new NV),this.kn())},i.er=function(t,n){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return 0!==this._bt.length?[3,2]:[4,this.kbt(this.uyt.Ilt,t,n)];case 1:return i.sent(),this.Ebt(this._bt),dr(n),[3,4];case 2:return[4,this.Pbt(t,n)];case 3:i.sent(),i.label=4;case 4:return[2]}})}).call(this)},i.kbt=function(t,n,i){return Vt(function(){var r,e,s,u;return zt(this,function(o){switch(o.label){case 0:r=Lt(t),o.label=1;case 1:if((e=r()).done)return[3,6];s=e.value,u=new qF(this,s),o.label=2;case 2:return o.trys.push([2,4,,5]),[4,u.er(n,i)];case 3:return o.sent(),this._bt.push(u),[3,5];case 4:return lr(o.sent()),[3,5];case 5:return[3,1];case 6:return[2]}})}).call(this)},i.Ebt=function(t){for(var n,i=Lt(BV(t));!(n=i()).done;){var r=n.value,e=new PV(this,r.o,r.Ilt);this.gbt.push(e)}},i.Pbt=function(t,n){return Vt(function(){var i,r;return zt(this,function(e){switch(e.label){case 0:i=Lt(this._bt),e.label=1;case 1:return(r=i()).done?[3,4]:[4,r.value.er(t,n)];case 2:e.sent(),e.label=3;case 3:return[3,1];case 4:return[2]}})}).call(this)},i.hyt=function(){return this.uyt.hyt()},i.yyt=function(){return this.uyt.yyt()},i.kn=function(){this.Vo(),this.uyt.mn(FO.yot,this.ayt);for(var t,n=Lt(this.gbt);!(t=n()).done;){t.value.kn()}for(var i,r=Lt(this._bt);!(i=r()).done;){i.value.kn()}Yi(this._bt),Yi(this.gbt)},Nt(n,[{key:"Ilt",get:function(){return this._bt}},{key:"Xpt",get:function(){return this.gbt}},{key:"Mwt",get:function(){return this.uyt.ck.Mwt}},{key:"ct",get:function(){return this.uyt.ct}},{key:"An",get:function(){return this.Tn+this.ct}},{key:"Lwt",get:function(){return this.uyt.ck.Lwt||[]}},{key:"o",get:function(){return this.uyt.o}},{key:"Sot",get:function(){return this.pbt}},{key:"Idt",get:function(){return this.mbt}},{key:"Tmt",get:function(){return this.mbt.wbt(this)}},{key:"wct",get:function(){return this}},{key:"Smt",get:function(){return this.mbt.ybt(this)}},{key:"Abt",get:function(){return this.bbt(1/0,b.min)}},{key:"Sbt",get:function(){return this.bbt(0,b.max)}},{key:"Tn",get:function(){return this.uyt.Tn}},{key:"zk",get:function(){return this.Idt.zk}}]),n}(zF);F(),Et(),Dt();var OV=function(t){function n(){return t.call(this,eh.qw)||this}return Ct(n,t),n}(rh);F(),Et(),Dt(),F(),Et();var MV=function(t){return t.xbt="Ibt",t}({}),LV=function(t){function n(){return t.call(this,MV.xbt)||this}return Ct(n,t),n}(rh);F(),Et(),Bt(),Dt(),Ut(),F(),Et(),Bt(),Dt(),Ut(),F(),Et(),Bt(),Dt(),Ut(),F(),Et(),Bt(),Dt();var UV=function(t){function n(n,i){var r;return(r=t.call(this,n,i,i.vwt)||this).Kot=void 0,r.Rbt=void 0,r.Kot=i,r.obt(!0),r}Ct(n,t);var i=n.prototype;return i.kct=function(t){var n=this.oQ;return!(!Hv(n)&&!Wv(n))&&this.$rt.kct(t.aut)},i.Pct=function(t,n,i,r){return this.$rt.Pct(t,this,n,i,r)},i.fyt=function(){return this._yt.fyt(this)},i.Nct=function(t){return this._yt.Nct(t,this)},i.myt=function(t){return this._yt.myt(t,this)},i.wyt=function(){return this.Rbt},i.vbt=function(t){var n=this.$rt,i=n.wyt(t),r=i&&function(t,n){var i,r=t.Fyt,e=t.Uyt,s=t.Oyt,u=r.EO,o=n.Xyt(e);if(o.getTime()<=s.getTime())i=e.PO;else{var h=(o.getTime()-s.getTime())/1e3,c=b.max(e.ct-h,0);i=e.EO+c}return{Tn:u,An:i}}(i,n),e=this.$rt.yyt(t,i);return this.Rbt=i,{Oyt:t,cbt:r,dbt:e}},i.er=function(t){this.abt(t,this.Kot.vwt)},Nt(n,[{key:"Nut",get:function(){return this.Kot}},{key:"wct",get:function(){return this.Kot.wct}},{key:"Myt",get:function(){return this.Kot.Myt}},{key:"oQ",get:function(){return this.Wp.oQ||this.Kot.oQ}},{key:"_yt",get:function(){return this.hbt()}},{key:"$rt",get:function(){return this._yt.$rt}}]),n}(EV),FV=function(t){function n(n,i){var r;return(r=t.call(this,n,i,i.vwt)||this).jpt=void 0,r.elt=void 0,r.jpt=i,r.obt(!1),r.elt=n.rat.map(function(t){return new UV(t,r)}),r}Ct(n,t);var i=n.prototype;return i.er=function(t){this.abt(t,this.jpt.vwt);var n=t.rat||[];if(this.elt.length!==n.length)throw new y("Expected "+this.elt.length+' representations in adaptation set "'+t.o+'", found '+n.length);for(var i=0;i<n.length;i++)this.elt[i].er(n[i])},i.lbt=function(n){for(var i,r=Lt(this.elt);!(i=r()).done;){i.value.lbt(n)}t.prototype.lbt.call(this,n)},i.vbt=function(t){return{Oyt:t,cbt:RV(this.elt),dbt:CV(this.elt)}},i.zg=function(){for(var n,i=Lt(this.elt);!(n=i()).done;){n.value.zg()}t.prototype.zg.call(this)},Nt(n,[{key:"rat",get:function(){return this.elt}},{key:"wct",get:function(){return this.jpt}},{key:"Myt",get:function(){return this.jpt.Myt}},{key:"Jdt",get:function(){return this.Wp.Jdt}},{key:"oQ",get:function(){var t;return this.Wp.oQ||(null==(t=this.elt[0])?void 0:t.ck.oQ)||""}},{key:"iwt",get:function(){return this.ck.iwt}},{key:"ewt",get:function(){return this.ck.ewt}}]),n}(EV),VV=function(t){function n(n,i,r,e){var s;return(s=t.call(this,i,void 0,n.vwt)||this).Cbt=void 0,s.MU=void 0,s.WA=void 0,s._bt=void 0,s.gbt=[],s.Cbt=n,s.MU=r,s.WA=e,s.obt(!1),s._bt=(i.Ilt||[]).map(function(t){return new FV(t,s)}),s.gbt=BV(s._bt),s}Ct(n,t);var i=n.prototype;return i.er=function(t,n){this.abt(t,this.Cbt.vwt),this.WA=n;var i=t.Ilt||[];if(this._bt.length!==i.length)throw new y("Expected "+this._bt.length+' adaptation sets in period "'+t.o+'", found '+i.length);for(var r=0;r<i.length;r++)this._bt[r].er(i[r])},i.lbt=function(n){for(var i,r=Lt(this._bt);!(i=r()).done;){i.value.lbt(n)}t.prototype.lbt.call(this,n)},i.vbt=function(t){return{Oyt:t,cbt:RV(this._bt),dbt:CV(this._bt)}},i.zg=function(){for(var n,i=Lt(this._bt);!(n=i()).done;){n.value.zg()}t.prototype.zg.call(this)},Nt(n,[{key:"Ilt",get:function(){return this._bt}},{key:"Xpt",get:function(){return this.gbt}},{key:"wct",get:function(){return this}},{key:"Myt",get:function(){return this.Cbt}},{key:"o",get:function(){return this.Wp.o}},{key:"Tn",get:function(){return this.MU}},{key:"ct",get:function(){return this.WA}}]),n}(EV);F(),Et(),Bt();var HV=function(){function t(t){this.Bbt=void 0,this.Bbt=t}return Nt(t,[{key:"Dbt",get:function(){return this.Bbt.Fwt.YF}},{key:"Nbt",get:function(){return this.Bbt.Fwt.KF}},{key:"Mbt",get:function(){return this.Bbt.Fwt.Owt}},{key:"Lbt",get:function(){var t;return null==(t=this.Bbt.ux)?void 0:t.YF}},{key:"Obt",get:function(){var t;return null==(t=this.Bbt.ux)?void 0:t.YF}}]),t}(),WV=new Date("2000-01-01"),zV=function(t){function n(n,i,r,e,s){var u;if((u=t.call(this)||this).Wp=void 0,u.Xbt=void 0,u.En=void 0,u.zbt=void 0,u.ubt=void 0,u.rbt=void 0,u.Hbt=void 0,u.Vbt=void 0,u.Fbt=void 0,u.Wbt=[],u.Ubt=void 0,u.Bbt=void 0,u.Xbt=i,u.Ubt=s,u.er(n,r,e),n.Km===fL.wV){var o=u.Lyt();o&&o.Uwt&&o.Uwt.getTime()<WV.getTime()&&(u.Fbt=new Date(u.Kwt.getTime()-1e3*(o.$at.EO+o.$at.ct)),u.lbt(e))}return u}Ct(n,t);var i=n.prototype;return i.hyt=function(){var t;return null==(t=this.ubt)?void 0:t.cbt},i.yyt=function(){var t;return null==(t=this.ubt)?void 0:t.dbt},i.er=function(t,n,i,r){var e,s=void 0!==this.Wp&&this.Wp.Km===fL.wV;this.Wp=t,this.zbt=null!=r?r:i,this.En=i;var u=[Rl(n)];this.rbt=t.vwt&&t.vwt.length>0?GF(t.vwt.map(function(t){return t.Yu}),u):u,this.Hbt=t.Hwt&&t.Hwt.length>0?GF(t.Hwt,this.rbt):[];var o=this.Hbt.map(function(t){return t.href}),h=n.href;ji(o,h)||(this.Hbt.push(n),o.push(h));var c=this.Xbt.href;ji(o,c)||(this.Hbt.push(this.Xbt),o.push(c)),this.Vbt=null==(e=t.Gwt)?void 0:e.Rmt(),t.Zwt&&(this.Bbt=new HV(t.Zwt));var a=t.Km===fL.wV,f=function(t,n,i){for(var r=[],e=0;e<t.length;e++){var s=t[e],u=void 0;if(s.Tn)u=s.Tn.Rmt();else if(e>0&&t[e-1].ct){u=r[e-1]+t[e-1].ct.Rmt()}else{if(0!==e||n)break;u=0}r.push(u)}for(var o=[],h=0;h<r.length-1;h++)o.push({ck:t[h],Tn:r[h],ct:r[h+1]-r[h]});if(r.length>0){var c=r.length-1,a=t[c],f=r[c],v=1/0;n||(v=a.ct?a.ct.Rmt():i-f),o.push({ck:a,Tn:f,ct:v})}return o}(t.smt,a,this.Vbt);this.jbt(f,s,a),this.lbt(i)},i.jbt=function(t,n,i){var r=this.Wbt;if(0!==t.length){for(var e=t[0].ck.o,s=0;s<r.length&&r[s].o!==e;)s++;for(var u,o=Lt(r.splice(0,s));!(u=o()).done;){u.value.zg()}if(n&&!i&&r.length>0&&t.length>0){var h,c,a=null!=(h=XV(r[0].ck))?h:g_.wF,f=null!=(c=XV(t[0].ck))?c:g_.wF;if(f.eF(a)){var v=f.lF(a);void 0!==this.Vbt&&(this.Vbt+=v.iF());for(var d=0;d<t.length;d++){var l=t[d];if(d<r.length){var w=r[d];l.Tn=w.Tn,YV(l.ck,w.ck)}d===t.length-1&&(l.ct+=v.iF())}}}for(var g=0;g<t.length;g++){var _=t[g];if(g<r.length){var m=r[g];0,m.er(_.ck,_.ct)}else r.push(new VV(this,_.ck,_.Tn,_.ct))}}else Yi(r)},i.lbt=function(t){for(var n,i=Lt(this.Wbt);!(n=i()).done;){n.value.lbt(t)}var r=this.ubt,e=this.vbt(t);r&&DV(r,e)||(this.ubt=e,this.So(new SV))},i.vbt=function(t){return{Oyt:t,cbt:IV(this.Wbt),dbt:CV(this.Wbt)}},i.Lyt=function(){var t=zi(this.Wbt,-1);if(void 0!==t&&!isFinite(t.ct)&&0!==t.Ilt.length){var n=t.Ilt[0];if(0!==n.rat.length){var i=n.rat[0].$rt,r=i.Lyt();if(r)return{$at:r,Uwt:i.Rdt(r)}}}},i.zg=function(){this.Vo();for(var t,n=Lt(this.Wbt);!(t=n()).done;){t.value.zg()}},Nt(n,[{key:"ck",get:function(){return this.Wp}},{key:"Km",get:function(){return this.Wp.Km||fL.mV}},{key:"Vwt",get:function(){return this.Fbt||this.Wp.Vwt||this.Kwt}},{key:"Uwt",get:function(){return this.Wp.Uwt}},{key:"Nyt",get:function(){var t,n;return null!=(n=null==(t=this.Ubt)?void 0:t.ignoreAvailabilityWindow)&&n}},{key:"Gwt",get:function(){return this.Vbt}},{key:"vwt",get:function(){return this.rbt}},{key:"Hwt",get:function(){return this.Hbt}},{key:"smt",get:function(){return this.Wbt}},{key:"Kwt",get:function(){return this.Wp.Kwt||this.En}},{key:"Kmt",get:function(){return this.Wp.Kmt}},{key:"qbt",get:function(){return this.zbt}},{key:"Gbt",get:function(){return this.En}},{key:"Zwt",get:function(){return this.Bbt}}]),n}(th);function XV(t){for(var n,i,r,e=jV(t),s=Lt(null!=(n=t.Ilt)?n:[]);!(i=s()).done;){e=m_(e,qV(i.value))}for(var u,o=Lt(null!=(r=t.Lwt)?r:[]);!(u=o()).done;){e=m_(e,QV(u.value))}return e}function qV(t){for(var n,i=jV(t),r=Lt(t.rat);!(n=r()).done;){i=m_(i,GV(n.value))}return i}function GV(t){return jV(t)}function jV(t){var n;if(void 0!==t.pwt&&(n=m_(n,QV(t.pwt))),void 0!==t._wt&&(n=m_(n,QV(t._wt))),void 0!==t.gwt)for(var i,r=Lt(t.gwt);!(i=r()).done;){n=m_(n,QV(i.value))}return n}function QV(t){var n,i;return g_.gF(null!=(n=t.jmt)?n:ue.ZERO,null!=(i=t.qD)?i:1)}function YV(t,n){if(ZV(t,n),t.Tn=n.Tn,void 0!==t.Ilt&&void 0!==n.Ilt&&t.Ilt.length===n.Ilt.length)for(var i=0;i<t.Ilt.length;i++)KV(t.Ilt[i],n.Ilt[i]);if(void 0!==t.Lwt&&void 0!==n.Lwt&&t.Lwt.length===n.Lwt.length)for(var r=0;r<t.Lwt.length;r++)$V(t.Lwt[r],n.Lwt[r])}function KV(t,n){if(ZV(t,n),void 0!==t.rat&&void 0!==n.rat&&t.rat.length===n.rat.length)for(var i=0;i<t.rat.length;i++)JV(t.rat[i],n.rat[i])}function JV(t,n){ZV(t,n)}function ZV(t,n){if(void 0!==t.pwt&&void 0!==n.pwt&&$V(t.pwt,n.pwt),void 0!==t._wt&&void 0!==n._wt&&$V(t._wt,n._wt),void 0!==t.gwt&&void 0!==n.gwt&&t.gwt.length===n.gwt.length)for(var i=0;i<t.gwt.length;i++)$V(t.gwt[i],n.gwt[i])}function $V(t,n){t.qD=n.qD,t.jmt=n.jmt}F(),Et(),Wt(),Ut(),Qt();var tH=function(){function t(t,n,i){this.nV=void 0,this.Kbt=void 0,this.Ybt=void 0,this.Jbt=void 0,this.nV=t,this.Kbt=n,this.Ybt=i,this.Jbt=0}var n=t.prototype;return n.VY=function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,this.Qbt(t,this.nV,this.Kbt,this.Ybt).catch(wr)];case 1:return n.sent(),[2]}})}).call(this)},n.xdt=function(){return new Date(ce()+this.Jbt)},n.Qbt=function(t,n,i,r){return Vt(function(){var e,s,u,o;return zt(this,function(h){switch(h.label){case 0:return r?[4,this.Zbt(n,r,i)]:[3,2];case 1:e=h.sent(),h.label=2;case 2:if(void 0!==e)return[3,6];dr(i),s=Lt(t),h.label=3;case 3:return(u=s()).done?[3,6]:(o=u.value,[4,this.$bt(n,o,i)]);case 4:if(void 0!==(e=h.sent()))return[3,6];h.label=5;case 5:return[3,3];case 6:return this.Jbt=void 0===e?0:e-ce(),[2]}})}).call(this)},n.$bt=function(t,n,i){return Vt(function(){var r,e,s;return zt(this,function(u){switch(u.label){case 0:switch(n.y8){case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2012":case"urn:mpeg:dash:utc:http-iso:2014":return[3,1];case"urn:mpeg:dash:utc:direct:2012":case"urn:mpeg:dash:utc:direct:2014":return[3,4]}return[3,5];case 1:return(r=n.zE)?[4,this.Zbt(t,r,i)]:[3,3];case 2:return[2,u.sent()];case 3:return[3,6];case 4:return(e=n.zE)&&(s=new Date(e).getTime(),!S(s))?[2,s]:[3,6];case 5:case 6:return[2]}})}).call(this)},n.Zbt=function(t,n,i){return Vt(function(){var r,e;return zt(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,t.lk({Yu:n,Uk:wl.GET,dk:Md.NT,Yg:i})];case 1:return[4,s.sent().UT()];case 2:return r=s.sent(),e=new Date(r).getTime(),S(e)?[3,4]:[2,e];case 3:return lr(s.sent()),[3,4];case 4:return[2]}})})()},t}(),nH=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this)||this).vSt=void 0,u.uyt=void 0,u.eSt=void 0,u.sSt=!0,u.Wbt=[],u.uSt=void 0,u.lSt=void 0,u.fSt=void 0,u.nV=void 0,u.dSt=void 0,u.Ubt=void 0,u.uSt=n,u.eSt=n.iR,u.lSt=i,u.nV=r,u.vSt=e,u.dSt=new tH(u.nV,u.vSt,u.uSt._St),u.Ubt=s,u}Ct(n,t);var i=n.prototype;return i.nSt=function(t){var n=this.sx;this.sSt=t,n!==this.sx&&this.So(new LV)},i.er=function(t,n,i){return Vt(function(){var r,e,s,u,o,h,c,a,f,v,d,l,w;return zt(this,function(g){switch(g.label){case 0:return e=[],s=[],u=t.Wwt?Vn.Dh(t.Wwt,this.eSt):this.eSt,void 0!==this.uyt?[3,2]:[4,this.dSt.VY(t.Jwt)];case 1:return g.sent(),this.uyt=new zV(t,this.eSt,u,this.xdt(),this.Ubt),this.uyt.wn(FO.yot,this.Rs),[3,3];case 2:this.uyt.er(t,u,this.xdt(),n),g.label=3;case 3:if(0===(o=this.uyt.smt).length)h=this.Wbt.slice(),Yi(this.Wbt);else{for(c=o[0].o,a=0;a<this.Wbt.length&&this.Wbt[a].o!==c;)a++;for(h=this.Wbt.splice(0,a),f=0;f<o.length;f++)v=o[f],d=void 0,f<this.Wbt.length?d=this.Wbt[f]:(d=new xV(this,v),e.push(d)),s.push(d.er(this.lSt,i))}return[4,ut.all(s)];case 4:for(g.sent(),(r=this.Wbt).push.apply(r,[].concat(e)),l=Lt(h);!(w=l()).done;)w.value.Tbt();return this.So(new OV),[2]}})}).call(this)},i.xdt=function(){return this.dSt.xdt()},i.ybt=function(t){var n=this.Wbt.indexOf(t);if(n>0)return this.Wbt[n-1]},i.wbt=function(t){var n=this.Wbt.indexOf(t);if(n>=0&&n+1<this.Wbt.length)return this.Wbt[n+1]},i.hyt=function(){return this.uyt?this.uyt.hyt():void 0},i.yyt=function(){return this.uyt&&this.uyt.yyt()},i.lbt=function(t){this.uyt&&this.uyt.lbt(t)},i.kn=function(){this.Vo(),this.fSt=void 0,this.nSt(!1);for(var t,n=Lt(this.Wbt);!(t=n()).done;){t.value.kn()}Yi(this.Wbt),this.uyt&&this.uyt.zg()},Nt(n,[{key:"Uwt",get:function(){return this.uyt&&this.uyt.Uwt}},{key:"Vwt",get:function(){return this.uyt&&this.uyt.Vwt}},{key:"Nyt",get:function(){return this.uyt&&this.uyt.Nyt}},{key:"o",get:function(){return this.uyt&&this.uyt.ck.o}},{key:"qbt",get:function(){var t;return null==(t=this.uyt)?void 0:t.qbt}},{key:"tSt",get:function(){var t;return null==(t=this.uyt)?void 0:t.Gbt}},{key:"Hwt",get:function(){return this.uyt?this.uyt.Hwt.map(function(t){return t.href}):[this.iSt]}},{key:"iSt",get:function(){return this.eSt.href}},{key:"qwt",get:function(){return this.uyt&&this.uyt.ck.qwt}},{key:"zwt",get:function(){return this.uyt&&this.uyt.ck.zwt}},{key:"Gwt",get:function(){return this.uyt&&this.uyt.ck.Gwt}},{key:"Xwt",get:function(){return this.uyt&&this.uyt.ck.Xwt}},{key:"Qwt",get:function(){var t,n,i=(null==(n=this.uyt)||null==(t=n.ck.Qwt)?void 0:t.Cmt())||0;return b.max(i,rH)}},{key:"sx",get:function(){return this.sSt}},{key:"smt",get:function(){return this.Wbt}},{key:"rSt",get:function(){return this.Km===fL.wV?this.Syt:this.hSt}},{key:"oSt",get:function(){var t=this.rSt;if(void 0!==t)for(var n,i=Lt(this.smt);!(n=i()).done;){var r=n.value;if(r.Tn<=t&&r.An>t)return r}}},{key:"rwt",get:function(){return this.uyt&&this.uyt.ck.rwt}},{key:"Kwt",get:function(){return this.uyt&&this.uyt.Kwt}},{key:"Abt",get:function(){for(var t=this.Wbt.length-1;t>=0;t-=1){var n=this.Wbt[t].Abt;if(n)return n}}},{key:"Syt",get:function(){var t=this.Abt;if(void 0!==t){var n=t-this.aSt;return b.max(n,this.hSt)}}},{key:"hSt",get:function(){for(var t,n=Lt(this.Wbt);!(t=n()).done;){var i=t.value.ryt;if(void 0!==i)return i}}},{key:"zk",get:function(){return Boolean(this.uSt.zk)}},{key:"aSt",get:function(){var t,n;if(this.uSt.cSt&&this.Km===fL.wV)return this.uSt.cSt;var i=null==(n=this.uyt)||null==(t=n.ck.Ywt)?void 0:t.Rmt();return void 0!==i?i:this.Km===fL.wV?1.5*this.Xwt.Rmt():0}},{key:"Kmt",get:function(){return this.uyt&&this.uyt.Kmt}},{key:"Km",get:function(){return this.uyt?this.uyt.Km:void 0}},{key:"Zwt",get:function(){var t;return null==(t=this.uyt)?void 0:t.Zwt}}]),n}(th),iH=function(){function t(t,n,i,r,e){this.mbt=void 0,this.mbt=new nH(t,n,i,r,e)}return Nt(t,[{key:"Idt",get:function(){return this.mbt}}]),t}(),rH=1e3,eH=b.pow(2,31)-1,sH=function(){function t(t,n,i,r,e){var s=this;this.CSt=void 0,this.uyt=void 0,this.wSt=void 0,this.gSt=void 0,this.kSt=void 0,this.pSt=new hr,this.mSt=function(t){return Vt(function(){var n,i,r;return zt(this,function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),n=this.uyt.Idt.xdt(),[4,this.ISt(this.uyt.Idt.Hwt,t)];case 1:return i=e.sent(),[4,this.uyt.Idt.er(i,n,t)];case 2:return e.sent(),[3,4];case 3:throw ql(r=e.sent())&&this.uyt.Idt.nSt(!1),r;case 4:return[2]}})}).call(s)},this.CSt=r,this.uyt=new iH(t,n,i,this.pSt.Yg,e)}var n=t.prototype;return n.lE=function(t){return Vt(function(){var n;return zt(this,function(i){switch(i.label){case 0:this.uyt.Idt.So(new GR),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.mSt(t)];case 2:return i.sent(),this.uyt.Idt.nSt(!0),[3,4];case 3:throw lr(n=i.sent()),this.gSt=void 0,this.uyt.Idt.nSt(!1),new y("The provided MPEG-DASH document could not be loaded - "+n.message);case 4:return this.wSt=this.ySt(this.pSt.Yg),[2]}})}).call(this)},n.ySt=function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:n.trys.push([0,4,,5]),n.label=1;case 1:return this.uyt.Idt.Km!==fL.wV?[3,3]:[4,gr(this.ASt,t)];case 2:return n.sent(),[3,1];case 3:return[3,5];case 4:return n.sent(),[3,5];case 5:return[2]}})}).call(this)},n.SSt=function(t){return Vt(function(){var n,i;return zt(this,function(r){switch(r.label){case 0:return dr(t),(n=this.TSt())>0?[4,Ar(b.min(n,eH),t)]:[3,2];case 1:r.sent(),r.label=2;case 2:return r.trys.push([2,4,5,6]),[4,this.mSt(t)];case 3:return r.sent(),this.uyt.Idt.nSt(!0),[3,6];case 4:throw i=r.sent(),new y("The provided MPEG-DASH manifest could not be loaded - "+i.message);case 5:return this.kSt=void 0,[7];case 6:return[2]}})}).call(this)},n.TSt=function(){var t=this.uyt.Idt.xdt().getTime()-this.uyt.Idt.qbt.getTime();return this.uyt.Idt.Qwt-t},n.ESt=function(t){var n=this.uyt.Idt.yyt();if(n){var i=n.getTime()-t.getTime();if(i>0)return i}this.uyt.Idt.lbt(t);var r=this.uyt.Idt.yyt();return r?r.getTime()-t.getTime():NaN},n.bSt=function(t){return Vt(function(){var n,i,r,e;return zt(this,function(s){switch(s.label){case 0:n={stack:[],error:void 0,hasError:!1},s.label=1;case 1:return s.trys.push([1,3,4,5]),null!=this.kSt||(this.kSt=this.SSt(t)),i=qt(n,hr.ep([t]),!1),r=[this.kSt,this.PSt(i.Yg)].filter(Un),[4,ut.race(r).catch(wr)];case 2:return s.sent(),[3,5];case 3:return e=s.sent(),n.error=e,n.hasError=!0,[3,5];case 4:return Gt(n),[7];case 5:return[2]}})}).call(this)},n.PSt=function(t){var n=this.uyt.Idt.xdt(),i=this.ESt(n);if(!S(i)&&!this.Br.Idt.Nyt)return this.xSt(i,t)},n.xSt=function(t,n){return Vt(function(){var i;return zt(this,function(r){switch(r.label){case 0:return[4,Ar(t,n)];case 1:return r.sent(),i=this.uyt.Idt.xdt(),this.uyt.Idt.lbt(i),[2]}})}).call(this)},n.ISt=function(t,n){return Vt(function(){var i;return zt(this,function(r){switch(r.label){case 0:return[4,this.CSt.RSt(t,{},n)];case 1:return i=r.sent(),[2,(new OF).$wt(i.DSt,i.gk)]}})}).call(this)},n.kn=function(){return this.pSt.Zg(),this.wSt=void 0,this.gSt=void 0,this.kSt=void 0,this.uyt.Idt.kn(),ut.resolve()},Nt(t,[{key:"Br",get:function(){return this.uyt}},{key:"W",get:function(){return this.gSt||(this.gSt=this.lE(this.pSt.Yg),kr(this.gSt)),this.gSt}},{key:"ASt",get:function(){return this.uyt.Idt.tSt&&this.uyt.Idt.Km===fL.wV?this.bSt(this.pSt.Yg):this.W}}]),t}();F(),Et(),Bt(),Dt(),Ut(),F(),Et(),Dt();var uH=function(t){function n(n,i){var r;return(r=t.call(this,"fmt")||this).Emt=void 0,r.hpt=void 0,r.Emt=n,r.hpt=i,r}return Ct(n,t),n}(rh),oH=function(t){function n(n,i){var r;(r=t.call(this)||this).dlt=void 0,r.RI=void 0,r.Vp=void 0,r.Vp=n,r.RI=i;for(var e,s=Lt(r.RI);!(e=s()).done;){e.value.Jdt=r}return r}Ct(n,t);var i=n.prototype;return i.jU=function(t){t&&this.dlt!==t&&this.BSt(t)},i.QU=function(t){this.dlt===t&&this.BSt(void 0)},i.BSt=function(t){this.dlt=t,this.So(new uH(this,this.dlt))},i.kn=function(){this.Vo();for(var t,n=Lt(this.RI);!(t=n()).done;){t.value.Jdt=void 0}Yi(this.RI)},Nt(n,[{key:"hpt",get:function(){return this.dlt}},{key:"Km",get:function(){return this.Vp}},{key:"Z",get:function(){return this.RI.slice()}}]),n}(th);F(),Et(),F(),Et(),F(),Et(),Dt();var hH=function(t){function n(n,i,r){var e;return(e=t.call(this,eh.Dw)||this).currentTime=void 0,e.initDataType=void 0,e.initData=void 0,e.currentTime=n,e.initDataType=i,e.initData=r,e}return Ct(n,t),n}(rh);function cH(t,n,i,r,e){for(var s,u=[],o=[],h=Lt(n);!(s=h()).done;){var c=s.value;c.Km===ig.Dk?u=u.concat(c.Z):c.Km===ig.Bk&&(o=o.concat(c.Z))}return[aH(t,u,i,r,null==e?void 0:e.preferredAudioCodecs),fH(t,o,i,r,null==e?void 0:e.preferredVideoCodecs)].filter(Un)}function aH(t,n,i,r,e){var s=Ui(r||[],function(t){return t.Lot===ig.Dk&&t.Rt}),u=[dH(s,i,t),lH(s),wH(s),gH(s,e),_H(),function(t){var n=t.filter(function(t){return"main"===t.Lt});return n.length>0?n:t}];return vH(n,u)}function fH(t,n,i,r,e){var s=Ui(r||[],function(t){return t.Lot===ig.Bk&&t.Rt}),u=[dH(s,i,t),gH(s,e),_H(),function(t){var n=t.filter(function(t){return"main"===t.Lt});return n.length>0?n:t}];return vH(n,u)}function vH(t,n){if(0!==t.length){for(var i,r=t,e=Lt(n);!(i=e()).done;){var s=i.value;if(1===r.length)return r[0];r=s(r)}return r[0]}}function dH(t,n,i){return function(r){var e=t?t.Nut.o:void 0;if(!Un(e))return r;var s=null==n?void 0:n.Mwt,u=i.Mwt,o=s&&u&&s.zE===u.zE,h=Ui(r,function(t){return t.Nut.o===e});return o&&h?[h]:r}}function lH(t){return function(n){var i=t?t.bs:"",r=n.some(function(t){return""!==t.bs})?n.filter(function(t){return""!==t.bs}):n;if(""===i)return r;var e=r.filter(function(t){return t.bs===i});return e.length>0?e:r}}function wH(t){return function(n){var i=t?t.Lt:"";if(""===i)return n;var r=n.filter(function(t){return t.Lt===i});return r.length>0?r:n}}function gH(t,n){return function(t){if(n&&n.length>0)for(var i,r=function(){var n=i.value,r=t.filter(function(t){return t.KI.II.some(function(t){return YC(t.frt,n)})});if(r.length>0)return{v:r}},e=Lt(n);!(i=e()).done;){var s=r();if("object"===W(s))return s.v}return t}}function _H(){return function(t){for(var n,i=[],r=-1/0,e=Lt(t);!(n=e()).done;){var s=n.value,u=s.Nut.Kq;u>r?(r=u,i=[s]):u===r&&i.push(s)}return i}}F(),Et(),at(),Ut(),F(),Et();var mH=function(t){return t.NSt="api",t.MSt="start",t}({});F(),Et(),Wt(),Ut(),Qt();var yH={maxRetries:3,minimumBackoff:1e3,maximumBackoff:1/0},pH=function(){function t(t,n,i){void 0===i&&(i=yH),this.nV=void 0,this.FSt=void 0,this._dt=void 0,this.nV=t,this.FSt=n,this._dt=i}var n=t.prototype;return n.LSt=function(t,n,i){var r=this,e=this._dt.maxRetries===1/0?yH:this._dt;return gT(function(){return r.OSt(t,n,i)},i,e.maxRetries,e.minimumBackoff,e.maximumBackoff)},n.OSt=function(t,n,i){return Vt(function(){var r,e,s,u,o,h,c;return zt(this,function(a){switch(a.label){case 0:e=Lt(t),a.label=1;case 1:if((s=e()).done)return[3,7];u=s.value,a.label=2;case 2:return a.trys.push([2,5,,6]),o=new pl({Yu:u,dk:Md.NT,fk:n,zk:this.FSt,Uk:wl.GET,Km:gl.wk,Wk:_l.pk,Yg:i,Vk:15e3,Hk:5e3}),[4,this.nV.lk(o)];case 3:return[4,(h=a.sent()).UT(i)];case 4:return[2,{DSt:a.sent(),USt:u,gk:h.gk}];case 5:return c=a.sent(),r=c,[3,6];case 6:return[3,1];case 7:throw r}})}).call(this)},t}();function kH(t){return Sl(t)}function bH(t,n){var i=Sl(t);return n?""+i+n:""+i}F(),Et(),Wt(),Ut(),Qt(),F(),Et();var AH=function(){function t(t){this.VSt=void 0,this.VSt=t}return t.prototype.RSt=function(t,n,i){return Vt(function(){var r,e,s,u,o;return zt(this,function(h){switch(h.label){case 0:e=Lt(this.VSt),h.label=1;case 1:if((s=e()).done)return[3,6];u=s.value,h.label=2;case 2:return h.trys.push([2,4,,5]),[4,u.RSt(t,n,i)];case 3:return[2,h.sent()];case 4:return lr(o=h.sent()),r=o,[3,5];case 5:return[3,1];case 6:throw r}})}).call(this)},t}(),TH=function(){function t(t){this.eut=void 0,this.eut=t}return t.prototype.RSt=function(t,n,i){return Vt(function(){var n;return zt(this,function(i){switch(i.label){case 0:return[4,this.eut.HSt(t)];case 1:if(n=i.sent())return[2,{DSt:n.data,USt:n.locationURL,gk:n.responseURL}];throw new y("Manifest fetch from cache unsuccesful")}})}).call(this)},t}(),SH=function(){function t(t){this.WSt=void 0,this.WSt=t}return t.prototype.RSt=function(t,n,i){return Vt(function(){return zt(this,function(r){switch(r.label){case 0:return[4,this.WSt.LSt(t,n,i)];case 1:return[2,r.sent()]}})}).call(this)},t}();function EH(t,n){return new AH([new TH(n),new SH(t)])}var IH=function(){function t(t,n,i){this.CSt=void 0,this.GSt=void 0,this.XSt=void 0,this.CSt=t,this.GSt=n,this.XSt=i}var n=t.prototype;return n.RSt=function(t,n,i){return Vt(function(){var r;return zt(this,function(e){switch(e.label){case 0:return[4,this.CSt.RSt(t,n,i)];case 1:return r=e.sent(),[4,this.qSt(r)];case 2:return e.sent(),[2,r]}})}).call(this)},n.qSt=function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,this.GSt.zSt({key:kH(t.USt),locationURL:Sl(t.USt),responseURL:Sl(t.gk),data:t.DSt,references:[this.XSt.o]})];case 1:return n.sent(),[2]}})}).call(this)},t}();F(),Et(),Dt();var RH=function(t){function n(){return t.call(this,eh.Xw)||this}return Ct(n,t),n}(rh);F(),Et(),Dt();var CH=function(t){function n(){return t.call(this,eh.Gw)||this}return Ct(n,t),n}(rh);F(),Et(),Wt(),Dt(),Ut(),Qt(),F(),Et(),Dt(),Ut();var DH=function(t){function n(n){return t.call(this,n)||this}Ct(n,t);var i=n.prototype;return i.jSt=function(t){return t.Ax=Cg.LOADED,this.tt(t),t},i.QSt=function(t){for(var n,i=Lt(this.Z.II);!(n=i()).done;){var r=n.value;if(r.ZI===t)return r}},n}(fy);function PH(t,n){return""===n?t:t+" "+n}F(),Et(),F(),Et(),Bt(),Dt(),F(),Et();var NH=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this,n,i,r,!1,null==s?void 0:s.toString())||this).iP=void 0,u.KSt=void 0,u.iP=e,u.KSt=s,u}return Ct(n,t),n.prototype.GO=function(t){return this.U===t.U},Nt(n,[{key:"Ca",get:function(){return this.hu||(this.hu=function(t){return xw(Vg(t),{get attributes(){return t.iP},get eventID(){var n;return""+(null!=(n=t.KSt)?n:"")}})}(this)),this.hu}}]),n}(Yg),BH=function(t){function n(n){var i;return(i=t.call(this,n)||this).Cbt=void 0,i.ZSt=function(){var t,n,r=null!=(n=null==(t=i.Cbt.hyt())?void 0:t.Tn)?n:0;if(r>0)for(var e,s=Lt(i.Z.II);!(e=s()).done;){cy(e.value,r)}for(var u,o=Lt(i.Cbt.smt);!(u=o()).done;){var h=u.value;if(h.An>r)for(var c,a=Lt(h.Lwt);!(c=a()).done;){var f=c.value;i.JSt(f,h,r)}}},i}Ct(n,t);var i=n.prototype;return i.YSt=function(t){var n=this.JU.tI(Ym.VU,"","","",void 0,Dg.EVENT_STREAM);return n.ZI=t,this.jSt(n),n},i.JSt=function(t,n,i){var r,e,s,u=t.y8,o=null!=(r=t.zE)?r:"",h=null!=(e=t.qD)?e:1,c=null!=(s=t.jmt)?s:ue.ZERO,a=PH(u,o),f=this.QSt(a);f||(f=this.YSt(a));for(var v,d=Lt(t.aQ);!(v=d()).done;){var l=v.value;if(!xH(l,f)){var w=OH(l,h,c,n);w.PO>i&&f.tV(w)}}},i.Un=function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,this.hr()];case 1:return n.sent(),this.Cbt=t,this.Cbt.wn(eh.qw,this.ZSt),this.ZSt(),[2]}})}).call(this)},i.hr=function(){var n=this;return Vt(function(){var i,r,e;return zt(this,function(s){switch(s.label){case 0:for(this.Cbt&&(this.Cbt.mn(eh.qw,this.ZSt),this.Cbt=void 0),i=Lt(this.Z.II);!(r=i()).done;)e=r.value,this.JU.iV(e);return[4,t.prototype.hr.call(n)];case 1:return s.sent(),[2]}})}).call(this)},i.ZU=function(t,n,i){return vy(t,n,i)},n}(DH);function xH(t,n){var i=t.o;if(void 0!==i&&Ui(n.L.II,function(n){return n.KSt===i&&n.U===t.ck}))return!0;return!1}function OH(t,n,i,r){var e=t.o,s=t.tM.toSigned().subtract(i),u=t.ct,o=t.ck,h=t.iP,c=s.toNumber()/n+r.Tn,a=u?u.toNumber()/n:void 0,f=void 0!==a?c+a:r.Sbt;return new NH(c,f,o,h,e)}function MH(t,n,i,r,e){var s=[],u=Ui(i,function(t){return t.y8===so});if(void 0!==u){var o=u.zE?function(t){var n=t.split(":",1)[0];switch(n){case"cbcs":case"cenc":return n;default:return}}(u.zE.toLowerCase()):"cenc";if(void 0!==o){for(var h,c=Lt(i);!(h=c()).done;){var a=h.value;if(a.y8!==so)for(var f,v=Lt(Oo(a.y8));!(f=v()).done;){var d,l,w=f.value,g=e&&a.A8?[a.A8]:[],_=null!=(l=null==(d=t.clearkey)?void 0:d.keys)?l:[];s.push({kS:w,BW:g,NW:void 0,HH:void 0,MW:_})}}if(s.length)return{aH:t,Ept:{$St:o,uH:u.uH},kpt:s,tTt:n===ig.Dk?r.slice():[],iTt:n===ig.Bk?r.slice():[],T8:!1}}}}function LH(t,n){if(!t)return n;if(!n)return t;var i,r=[],e=Ju();return UH(r,e,t.kpt),UH(r,e,n.kpt),{aH:t.aH,Ept:{$St:t.Ept.$St,uH:null!=(i=t.Ept.uH)?i:n.Ept.uH},kpt:r,tTt:FH(t.tTt,n.tTt,ji),iTt:FH(t.iTt,n.iTt,ji),T8:t.T8||n.T8||!1}}function UH(t,n,i){for(var r,e=Lt(i);!(r=e()).done;){var s=r.value,u=s.kS.$m,o=void 0;n.has(u)?(o=n.get(u)).BW=FH(o.BW,s.BW,VH):(o=Yu({},s),t.push(o),n.set(u,o))}}function FH(t,n,i){for(var r,e=t.slice(),s=Lt(n);!(r=s()).done;){var u=r.value;i(e,u)||e.push(u)}return e}function VH(t,n){for(var i,r=Lt(t);!(i=r()).done;){if(Cc(i.value,n))return!0}return!1}function HH(t,n,i){var r,e=t.xW;if(e){for(var s,u=t.oQ,o=[],h=Lt(t.frt);!(s=h()).done;){var c=s.value;o.push(u+'; codecs="'+c+'"')}r=MH(n||{},t.Km,e,o,i)}for(var a,f=Lt(t.rat);!(a=f()).done;){r=LH(r,WH(a.value,n,i))}return r}function WH(t,n,i){return MH(n||{},t.Km,t.xW||[],[t.qT],i)}function zH(t){return t?t.kpt.map(function(n){var i=XH(t.aH,n.kS),r=t.Ept.$St;return{kS:n.kS,BW:n.BW,HH:n.HH,Mq:[{initDataTypes:[n.kS.Jm],audioCapabilities:qH(t.tTt,r,null==i?void 0:i.audioRobustness),videoCapabilities:qH(t.iTt,r,null==i?void 0:i.videoRobustness),persistentState:null==i?void 0:i.persistentState,distinctiveIdentifier:null==i?void 0:i.distinctiveIdentifier}],MW:n.MW}}):[]}function XH(t,n){switch(n.Km){case Eo.zm:return t.widevine;case Eo.qm:return t.playready;case Eo.jm:return t.fairplay;case Eo.Gm:case Eo.Xm:return t.clearkey}}function qH(t,n,i){if(0!==t.length)return t.map(function(t){return{contentType:t,encryptionScheme:n,robustness:i}})}function GH(t,n){var i=function(t){var i=n.indexOf(t.kS.$m);return i>=0?i:n.length};return mi(t,function(t,n){return i(t)-i(n)})}F(),Et(),Ut(),F(),Et(),Wt(),Dt(),Ut(),Qt();var jH=function(t){function n(n){var i;(i=t.call(this,n)||this).elt=[],i.hTt=void 0,i.Cbt=void 0,i.er=function(){for(var t,n=[],r=Lt(i.Cbt.smt);!(t=r()).done;)for(var e,s=Lt(t.value.Ilt);!(e=s()).done;){var u=e.value;if(u.Km===ig.Nk&&u.rat.length>0){var o=u.rat[0];n.push(o),i.aTt(o)||i.YSt(o),-1===i.elt.indexOf(o)&&(i.elt.push(o),o.wn(FO.yot,i.hTt)),i.cTt(o)}}i.eTt(n)},i.cTt=function(t){var n=i.uTt(t);n&&t&&n.Xk!==Hm.Nh&&(i.oTt(),function(t,n){var i=t.$rt,r=t.wyt();if(!r)return;var e=r.Fyt,s=r.Uyt,u=t.Ti,o=t.Mi,h=function(t){for(var n,i=Lt(t);!(n=i()).done;){var r=n.value;if(Vo(r.y8,YH)||Vo(r.y8,KH)){var e=r.zE.match(QH);if(e){var s=e[1],u=e[2];return[Number(s),Number(u)]}}}return[1,1]}(t.iwt),c=h[0],a=h[1],f=e;for(;f&&f.aut<=s.aut;){for(var v,d=t._yt.ct||f.ct,l=Lt(JH(n,f,t.Nct(f).Yu,u,o,c,a,d));!(v=l()).done;){var w=v.value;n.tV(w)}f=i.Cct(f)}}(t,n))};var r=i;return i.hTt=function(){r.cTt(this)},i}Ct(n,t);var i=n.prototype;return i.YSt=function(t){var n=this.JU.tI(Ym.VU,t.o,"thumbnails","",!1,Dg.DEFAULT);return n.Xk=Hm.Kn,this.jSt(n),n},i.Un=function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,this.hr()];case 1:return n.sent(),this.Cbt=t,this.Cbt.wn(eh.qw,this.er),this.er(),[2]}})}).call(this)},i.eTt=function(t){this.sTt(t),this.nTt()},i.nTt=function(){for(var t,n=[],i=Lt(this.Z.II);!(t=i()).done;){var r=t.value;this.rTt(r)||n.push(r)}for(var e,s=Lt(n);!(e=s()).done;){var u=e.value;this.it(u)}},i.sTt=function(t){for(var n,i=[],r=Lt(this.elt);!(n=r()).done;){var e=n.value;-1===t.indexOf(e)&&i.push(e)}for(var s,u=Lt(i);!(s=u()).done;){var o=s.value;Xi(this.elt,o)}},i.hr=function(){var n=this;return Vt(function(){var i,r,e,s,u;return zt(this,function(o){switch(o.label){case 0:for(this.Cbt&&(this.Cbt.mn(eh.qw,this.er),this.Cbt=void 0),i=Lt(this.elt);!(r=i()).done;)r.value.mn(FO.yot,this.hTt);for(this.elt.length=0,e=Lt(this.Z.II);!(s=e()).done;)u=s.value,this.JU.iV(u);return[4,t.prototype.hr.call(n)];case 1:return o.sent(),[2]}})}).call(this)},i.ZU=function(t,n,i){return vy(t,n,i)},i.kn=function(){return this.hTt=void 0,t.prototype.kn.call(this)},i.oTt=function(){var t,n,i=null!=(n=null==(t=this.Cbt.hyt())?void 0:t.Tn)?n:0;if(i>0)for(var r,e=Lt(this.Z.II);!(r=e()).done;){cy(r.value,i)}},i.aTt=function(t){return this.Z.II.some(function(n){return n.o===t.o})},i.uTt=function(t){return Ui(this.Z.II,function(n){return n.o===t.o})},i.rTt=function(t){return this.elt.some(function(n){return t.o===n.o})},n}(DH),QH=/^(\d+)x(\d+)$/,YH="http://dashif.org/guidelines/thumbnail_tile",KH="http://dashif.org/thumbnail_tile";function JH(t,n,i,r,e,s,u,o){var h=[],c=n.EO,a=s*u,f=r/s,v=e/u,d=b.round(f),l=b.round(v),w=o/a;if(1===a){var g=c+w;return ZH(t,c,g,i)?h:[new Yg(c,g,i,!1)]}for(var _=0;_<u;_++)for(var m=0;m<s;m++){var y=c+(_*s+m)*w,p=y+w,k=i+"#xywh="+b.round(m*f)+","+b.round(_*v)+","+d+","+l;if(ZH(t,y,p,k)||h.push(new Yg(y,p,k,!1)),p>=n.PO)return h}return h}function ZH(t,n,i,r){return t.L.II.some(function(t){return t.EO===n&&t.PO===i&&t.U===r})}F(),Et(),Wt(),Dt(),Qt(),F(),Et(),Wt(),Dt(),Ut(),Qt(),F(),Et(),Bt(),Dt(),F(),Et();var $H=function(t){function n(n,i,r,e,s,u){var o;return(o=t.call(this,n,i,u,!1)||this).dTt=void 0,o.lTt=void 0,o.vTt=void 0,o.dTt=r,o.lTt=e,o.vTt=s,o}return Ct(n,t),n.prototype.GO=function(t){return Dc(this.U,t.U)},Nt(n,[{key:"$N",get:function(){return this.dTt}},{key:"zE",get:function(){return this.lTt}},{key:"fTt",get:function(){return this.vTt}},{key:"Ca",get:function(){return this.hu||(this.hu=function(t){return xw(Vg(t),{get schemeIDURI(){return t.$N},get value(){return t.zE},get emsgID(){return t.fTt}})}(this)),this.hu}}]),n}(Yg),tW=function(t){function n(n){return t.call(this,n)||this}Ct(n,t);var i=n.prototype;return i.Odt=function(t,i,r){var e=ym.TD(_c(t));if(e){var s=function(t,n){for(var i,r=[],e=Lt(t);!(i=e()).done;){var s=i.value;fm(s,n)&&r.push(s)}return r}(e,um.VC);if(s.length){var u=n._Tt(e,i,r);this.gTt(s,u,r)}}},i.gTt=function(t,n,i){for(var r,e=Lt(t);!(r=e()).done;){var s=r.value,u=void 0,o=(u=1===s.bD?s.tM.toNumber()/s.qD+i:n+s.sM/s.qD)+s.iM/s.qD;"https://aomedia.org/emsg/ID3"===s.$N||"https://developer.apple.com/streaming/emsg-id3"===s.$N?this.pTt(s,u):this.mTt(s,u,o)}},i.mTt=function(t,n,i){var r=PH(t.$N,t.zE),e=this.QSt(r);e||(e=this.wTt(r),this.jSt(e)),e.tV(new $H(n,i,t.$N,t.zE,t.o,t.eM))},i.pTt=function(t,n){var i=MP(_c(t.eM));if(i){var r=PH(t.$N,t.zE),e=this.QSt(r);e||(e=this.yTt(r),this.jSt(e));for(var s,u=Lt(i.J5);!(s=u()).done;){var o=s.value,h=new QP(n,o);aP(h,e.L.II),e.tV(h)}}},i.wTt=function(t){var n=this.JU.tI(Ym.VU,"","","",void 0,Dg.EMSG);return n.ZI=t,n.Xk=Hm.JI,n},i.yTt=function(t){var n=this.JU.tI(Ym.VU,"","","",void 0,Dg.ID3);return n.ZI=t,n.Xk=Hm.JI,n},i.ZU=function(t,n,i){return vy(t,n,i)},i.hr=function(){var n=this;return Vt(function(){var i,r,e;return zt(this,function(s){switch(s.label){case 0:for(i=Lt(this.Z.II);!(r=i()).done;)e=r.value,this.JU.iV(e);return[4,t.prototype.hr.call(n)];case 1:return s.sent(),[2]}})}).call(this)},n._Tt=function(t,n,i){var r=vm(t,um.HC);return r?le(r._M,r.qD)+i:n},n}(DH),nW=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Cbt=void 0,n.ZSt=function(){var t,i,r=null!=(i=null==(t=n.Cbt.hyt())?void 0:t.Tn)?i:0;n.qU(r)},n}Ct(n,t);var i=n.prototype;return i.Un=function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,this.hr()];case 1:return n.sent(),this.Cbt=t,this.Cbt.wn(eh.qw,this.ZSt),this.ZSt(),[2]}})}).call(this)},i.hr=function(){var n=this;return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return this.Cbt&&(this.Cbt.mn(eh.qw,this.ZSt),this.Cbt=void 0),[4,t.prototype.hr.call(n)];case 1:return i.sent(),[2]}})}).call(this)},n}(tW);F(),Et(),F(),Et(),Wt(),Qt();var iW=function(){function t(t){this.eut=void 0,this.ATt=!1,this.eut=t}var n=t.prototype;return n.Uct=function(t,n){return this.ATt?this.eut.Uct(t,n):ut.resolve(!1)},n.iut=function(t,n){return this.ATt?this.eut.iut(t,n):ut.resolve(void 0)},n.HSt=function(t){return Vt(function(){var n;return zt(this,function(i){switch(i.label){case 0:return[4,this.eut.HSt(t)];case 1:return n=i.sent(),this.ATt=void 0!==n,[2,n]}})}).call(this)},n.WJ=function(t){return this.eut.WJ(t)},t}();F(),Et(),Dt();var rW=function(t){function n(n,i,r){return t.call(this,n,i,r)||this}Ct(n,t);var i=n.prototype;return i.NL=function(){var t;return null!=(t=this.DL)?t:0},i.oR=function(){this.oa.MP=1/0},i.ML=function(t,n,i){return!1},i.LL=function(){return!0},n}(DA),eW=[eh.Qw,eh.Yw,eh.iy,eh.zw,eh.oy],sW=[eh.Kw,eh.gy,eh.Lw,eh.Nw],uW=function(t){function n(n,i,r,e,s,u,o){var h,c;return(h=t.call(this)||this).nV=void 0,h.Rz=void 0,h._dt=void 0,h.eut=void 0,h.TL=void 0,h.kq=void 0,h.bq=void 0,h.qTt=void 0,h.ekt=void 0,h.n7=!1,h.LEt=NaN,h.JW=void 0,h.ZW=void 0,h.X8=!1,h.skt=void 0,h.q8=void 0,h.UEt=!1,h.OEt=0,h.FEt=0,h._kt=!1,h.rV=new hr,h.WTt=new Vc,h.NEt=void 0,h.DEt=!1,h.uyt=void 0,h.Fkt=void 0,h.sSt=!0,h.ckt=!0,h.oEt=void 0,h.Ho=TA.iL(),h.tq=jT.lz,h.xEt=void 0,h.NV=!0,h.Ac=void 0,h.mEt=void 0,h.Ypt=void 0,h.Npt=[],h.Sz=!1,h.rq=void 0,h.OTt=new hr,h.HTt=ut.resolve(),h.m7=new hr,h.w7=ut.resolve(),h.Bkt=!1,h.uEt=!1,h.FTt=new hr,h.UTt=ut.resolve(),h.YTt=void 0,h.jkt=void 0,h.YL=void 0,h.$L=void 0,h.Gl=void 0,h.$kt=void 0,h.Ykt=void 0,h.wpt=void 0,h.SEt=void 0,h.TEt=void 0,h.pq=void 0,h.VEt=void 0,h.okt=0,h.akt=0,h.ukt=0,h.oq=new bb,h.Zkt=void 0,h.xTt={iO:0,eO:0,sO:0},h.iq=void 0,h.DTt=void 0,h.lq=void 0,h.jW=void 0,h.Pkt=function(t){var n,i,r,e;"fmt"===(null==t?void 0:t.type)&&(e=t.hpt),e&&(null==(n=e.Jdt)?void 0:n.Km)===ig.Dk&&(null==(r=h.bt)||null==(i=r.dash)?void 0:i.forceRecreateMediaSourceOnAudioSwitch)?h.LTt(!0):h.LTt()},h.Pmt=function(t){var n;null==(n=h.qTt)||n.Pmt(t)},h.umt=function(t){var n;null==(n=h.qTt)||n.umt(t)},h.Nc=function(){h.So(new pw(h.MP,h.CP))},h.D8=function(t){h.So(new hH(h.MP,t.Jm,t.Ey))},h.bkt=function(t){h.okt+=t.rO,h.So(t)},h.Skt=function(t){var n=t.segments.filter(function(t){return t.cct});t.track===ig.Dk?h.akt=n.length:t.track===ig.Bk&&(h.ukt=n.length)},h.p9=function(){var t=h.ct;S(t)||t===h.LEt||(h.LEt=t,h.So(new aT(h.LEt)))},h.WEt=function(){h.MTt(),h.hEt()},h.HEt=function(t){h.uEt||!h.UP||h.kx||(h.uEt=!0,h.So(null!=t?t:new vT(h.MP)))},h.AEt=function(t){h.Rs(t),h._kt||(h._kt=!0,h.kq.VV())},h.yEt=function(){h.uyt.Idt.mn(eh.Ww,h.yEt),h.So(new GR)},h.kkt=function(t){var n;if(t.errorObject.code===cd.CONTENT_PROTECTION_OUTPUT_RESTRICTED&&(null==(n=h.qTt)?void 0:n.pmt.every(function(t){return!t.olt})))return;h.qq(t.errorObject),h.So(t)},h.Tkt=function(t){h.qq(t.errorObject)},h.mmt=function(t){vr(t)||h.qq(new fd(cd.MEDIA_DECODE_ERROR,t.message,t))},h.MTt=function(){if(!h.hx)if(h.nkt())if(h.hkt()){var t=h.uyt.Idt.rSt;h.My(t,!0)}else;else{var n=h.uyt.Idt.rSt;h.My(n,!0)}},h.dEt=function(t){h.UEt=h.kx,h.So(t)},h.vEt=function(t){var n=h.UEt,i=h.kx;h.UEt=i,n&&!i&&h.So(t),h.HEt()},h.Ekt=function(){var t=h.Bx,n=h.Rx;h.OEt===t&&h.FEt===n||(h.OEt=t,h.FEt=n,h.So(new Ty))},h.tEt=function(t){var n=t.Ht;n.Xk===Hm.Kn?(h.Gkt(n),h.jkt=n):n===h.jkt&&n.Xk===Hm.Nh&&(h.jkt=void 0,h.Qkt())},h.cEt=function(){h.X8||h.oEt&&(h.oEt.Xy(),h.oEt=void 0)},h.nEt=function(t){h.X8||h.oEt&&(h.oEt.jy(t),h.oEt=void 0)},h.bEt=function(){h.kEt().catch(h.mmt)},h.EEt=function(){h.PEt().catch(h.mmt),h.bq.mn(Ey.SM,h.EEt)},h.GEt=function(t){h.qq(cg(t.lt))},h.qEt=function(){h.STt()},h.zEt=function(){h.TTt()},h.XEt=function(t){h.ETt(t.xW)},h.nV=n,h.eut=new iW(s),h.TL=u,h.DTt=o,h.Rz=r,h.Rz.wn("NY",h.qEt),h.Rz.wn("FY",h.zEt),h.rq=e,h._dt=Yu({},i.retryConfiguration,{maxRetries:null!=(c=i.retryConfiguration.maxRetries)?c:1/0}),h.YL=new Jb,h.$L=new Jb,h.lq=new Tb(n),h.lq.wn("contentProtectionsTracked",h.XEt),h.TL.wn(eh.Rw,h.p9),h.TL.wn(fh.Dw,h.D8),h.TL.wn(eh.Bw,h.HEt),h.TL.wn(eh.$w,h.dEt),h.TL.wn(eh.Zw,h.vEt),h.TL.wn(eh.Jw,h.Ekt),h.TL.wn(eh._y,h.Nc),h.TL.wn([eh.uo,eh.jw],h.WEt),h.TL.wn(sW,h.Rs),h.TL.wn(zm.ma,h.GEt),h.TL.Eq=h.lq,h.TL.N9=h,h.TL.wn([eh.Pw,eh.Ew],h.Rs),h.TL.wn(eh.yy,h.Pmt),h.TL.wn(eh.LICENSE_REQUEST_GENERATED,h.umt),h.kq=new Uy(h,h.TL),h.bq=new Ly(h.kq,!0),h.bq.wn(Ey.SM,h.MTt),h.bq.wn(Iy,h.Rs),h.$kt=new Zb,h.$kt.wn(Dw.pa,h.tEt),h.Ykt=new Zb,h.SEt=new BH(h.TL),h.TEt=new jH(h.TL),h.pq=new ly(h.TL,h.nV),h.VEt=new Qm,h.Gl=new Eb([h.$kt,h.SEt.Z,h.TEt.Z,h.pq.Z,h.VEt]),h}Ct(n,t);var i=n.prototype;return i.bTt=function(t){return!!this.iq&&this.iq.TZ(t)},i.Lp=function(t){return Vt(function(){var n;return zt(this,function(i){switch(i.label){case 0:return n=this,[4,this.TL.Un(t)];case 1:return n.iq=i.sent(),this.STt(),this.TTt(),this.iq.C4(this.ct),[2]}})}).call(this)},i.kTt=function(t){return this.iq.EZ(t)},i.ETt=function(t){return this.iq.xZ(t)},i.PTt=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.xTt=this.ITt,this.iq?[4,this.TL.hr()]:[3,2];case 1:t.sent(),this.iq=void 0,t.label=2;case 2:return[2]}})}).call(this)},i.C3=function(){this.iq.C3()},i.A3=function(){var t=this.ct;this.iq.ct<t&&this.iq.C4(t),this.iq.A3()},i.RTt=function(t){return Vt(function(){var n,i;return zt(this,function(r){switch(r.label){case 0:return n=this.iq,i=[],n.Q3&&i.push(sD(n.Q3,t)),n.K3&&i.push(sD(n.K3,t)),[4,ut.all(i)];case 1:return r.sent(),[2]}})}).call(this)},i.CTt=function(t,n,i,r,e,s){var u=this.TL,o=this.iq;return new KU(u,o,t,n,i,r,e,s,this.DTt,u,this.wpt,this._dt,this.Npt,this.lq)},i.BTt=function(t,n,i){return t.EZ(n,i,this.iq)},i.NTt=function(t,n,i,r){return Vt(function(){var e;return zt(this,function(s){switch(s.label){case 0:return(e=this.CTt(this.nV,this.Rz,this.eut,this.Ac,t,r)).wn(FO.bot,this.MTt),e.wn(eh.zw,this.Rs),[4,e.VY(n,i)];case 1:return s.sent(),[2,e]}})}).call(this)},i.LTt=function(t){void 0===t&&(t=!1),this.OTt.Zg(),this.m7.Zg(),this.FTt.Zg(),this.FTt=new hr,this.UTt=_r(this.VTt(this.HTt,this.w7,this.UTt,t,this.FTt.Yg),this.FTt).catch(this.mmt)},i.VTt=function(t,n,i,r,e){return Vt(function(){var s,u,o,h,c,a;return zt(this,function(f){switch(f.label){case 0:return[4,ut.all([t,n,i])];case 1:return f.sent(),dr(e),[4,gr(this.WTt.Qy,e)];case 2:return f.sent(),[4,(s=this.qTt).Jot()];case 3:return f.sent(),this.A3(),dr(e),u=s.Mc,o=s.pmt,h=s.gmt,c=this.zTt(u,h,u,o,!1),a=this.GTt(h,c),r||!this.bTt(a)?[3,5]:[4,this.XTt(h,c,a)];case 4:return f.sent(),[3,7];case 5:return c=this.zTt(u,h,u,o,!0),a=this.GTt(h,c),[4,this.jTt(h,c,a,e)];case 6:f.sent(),f.label=7;case 7:return dr(e),this.kx?this.My(this.MP):this.QTt(),this.KTt(),[2]}})}).call(this)},i.XTt=function(t,n,i){return Vt(function(){var r;return zt(this,function(e){switch(e.label){case 0:return r=this.qTt,[4,this.kTt(i)];case 1:return e.sent(),this.YTt=i,[4,this.BTt(r,t,n)];case 2:return e.sent(),[4,r.$ot(MO.Nht)];case 3:return e.sent(),[2]}})}).call(this)},i.jTt=function(t,n,i,r){return Vt(function(){var e,s,u;return zt(this,function(o){switch(o.label){case 0:return e=this.qTt,this.k7(),this.JTt(),s=this.ZTt,[4,this.PTt()];case 1:return o.sent(),[4,this.Lp(i)];case 2:return o.sent(),this.YTt=i,[4,this.BTt(e,t,n)];case 3:o.sent(),o.label=4;case 4:return o.trys.push([4,,7,8]),kr(u=this.$Tt(s,!1,!0,r)),[4,e.$ot(MO.Nht)];case 5:return o.sent(),[4,u];case 6:return o.sent(),[3,8];case 7:return this.R7(),this.tkt(),[7];case 8:return[2]}})}).call(this)},i.OP=function(t,n){this.My(t,t===1/0)},i.z8=function(){return!!this.kx&&(!(!this.qTt||!this.qTt.emt)&&this.ZTt===this.qTt.An)},i.nkt=function(){var t,n,i=this.rkt;if(0===i.V)return!0;var r=null!=(n=null==(t=this.QW)?void 0:t.An)?n:this.ZTt,e=i.Tn(0);return r>=e||Si(r,e,.001)},i.hkt=function(){var t;if(!this.uyt)return!1;if(this.uyt.Idt.Km!==fL.wV)return!1;var n=null==(t=this.qTt)?void 0:t.Mc;if(n&&n.Sot)return!0;for(var i,r=[],e=Lt(this.uyt.Idt.smt);!(i=e()).done;){var s=i.value,u=s.ryt,o=s.Sbt;void 0!==u&&void 0!==o&&r.push(u,o)}var h=new TA(r).LM();return function(t,n,i){if(!n.V||!i.V)return TA.iL();var r=n.Tn(0),e=n.An(n.V-1),s=t.Mn(i).BM().Mn(t).OM(n);return TA.tL(s.Tn(0),s.An(s.V-1)).FM(s).XM(function(t,n){return t<r&&n<=e&&n-t>ve})}(this.ikt,this.rkt,h).V>0},i.fkt=function(t){this.Ho=this.Ho.OM(t)},i.Akt=function(t){t.wn(eW,this.Rs),t.wn(eh.ly,this.bkt),t.wn(eh.Sw,this.Skt),t.wn(zm.ma,this.Tkt),t.wn(eh.Ew,this.kkt),t.wn(eh.Yw,this.Ekt),t.wn("fmt",this.Pkt),t.wn("qpt",this.Pkt)},i.xkt=function(t){t.mn(eW,this.Rs),t.mn(eh.ly,this.bkt),t.mn(eh.Sw,this.Skt),t.mn(zm.ma,this.Tkt),t.mn(eh.Ew,this.kkt),t.mn(eh.Yw,this.Ekt),t.mn("fmt",this.Pkt),t.mn("qpt",this.Pkt)},i.Ikt=function(t){t.wn(eh.Qw,this.Rs)},i.Rkt=function(t){t.mn(eh.Qw,this.Rs)},i.ykt=function(){if(this.qTt){var t=Ui(this.qTt.gmt,function(t){return t.Lot===ig.Bk});if(t)return t.XI}},i.gkt=function(t){var n,i=null==(n=this.uyt)?void 0:n.Idt;if(!i)return TA.iL();var r=i.hSt,e=t?i.Abt:i.Syt;if(void 0===r||void 0===e)return TA.iL();if(!t){var s=this.lkt;s.V>0&&s.An(s.V-1)>e&&(e=b.min(s.An(s.V-1),i.Abt))}var u=this.ct;return isFinite(u)&&u>e&&(e=u),TA.tL(r,e).CM()},i.Un=function(t,n){return Vt(function(){var i,r,e,s,u,o,h,c;return zt(this,function(a){switch(a.label){case 0:dr(n),e=this.uyt.Idt;try{i=e.oSt,r=e.rSt}catch(t){throw new y("Something went wrong determining the start of the provided MPEG-DASH stream")}if(!i)throw new y("Something went wrong determining the initial Period of the provided MPEG-DASH stream");if(void 0===r)throw new y("Something went wrong determining the start time of the provided MPEG-DASH stream");return t.textTracks&&this.Ckt(t.textTracks),this.k7(),s=this.klt(i),u=cH(i,s,void 0,void 0,this.Ypt),o=this.zTt(i,u,i,u,!0),u.forEach(function(t){return t.Rt=!0}),h=this.GTt(u,o),[4,this.Lp(h)];case 1:return a.sent(),this.YTt=h,dr(n),[4,this.NTt(i,s,u,o)];case 2:return c=a.sent(),dr(n),this.Dkt(c),this.R7(),dr(n),[4,c.$ot()];case 3:return a.sent(),dr(n),!this.Bkt&&r>0&&this.My(r,!0,mH.MSt),this.Sz||(this.QTt(),this.Nkt()),[2]}})}).call(this)},i.QTt=function(){this.OTt.Zg(),this.OTt=new hr,this.HTt=_r(this.Mkt(this.HTt,this.UTt,this.OTt.Yg),this.OTt).catch(this.mmt)},i.Lkt=function(){this.OTt.Zg()},i.Mkt=function(t,n,i){return Vt(function(){var r,e;return zt(this,function(s){switch(s.label){case 0:return[4,ut.all([t,n])];case 1:s.sent(),dr(i),s.label=2;case 2:return(e=null==(r=this.qTt)?void 0:r.Mc)?[4,this.Okt(e,i)]:[3,4];case 3:return s.sent()?[3,2]:[3,4];case 4:return[2]}})}).call(this)},i.Okt=function(t,n){return Vt(function(){var i,r,e,s;return zt(this,function(u){switch(u.label){case 0:dr(n),r=this.qTt,u.label=1;case 1:if(this.uyt.Idt.Km!==fL.wV||void 0!==(null==(i=this.wbt(t))?void 0:i.ryt))return[3,7];u.label=2;case 2:return u.trys.push([2,4,,5]),[4,gr(this.Fkt.ASt,n)];case 3:return u.sent(),[3,5];case 4:if(lr(e=u.sent()),this.Ukt())return[2,!0];throw e;case 5:return[4,this.Vkt()];case 6:return u.sent(),[3,1];case 7:return dr(n),[4,this.Vkt()];case 8:u.sent(),dr(n),u.label=9;case 9:return r.Jpt()?[3,12]:[4,r.ww(vL.Mlt,n)];case 10:return u.sent(),[4,this.Vkt()];case 11:return u.sent(),[3,9];case 12:return dr(n),[4,this.Vkt()];case 13:return u.sent(),dr(n),(s=this.wbt(t))?this.Hkt(s)?[4,this.Wkt(s,n)]:[3,15]:(this.C3(),[2,!1]);case 14:return u.sent(),[3,17];case 15:return[4,this.qkt(s,n)];case 16:u.sent(),u.label=17;case 17:return[2,!0]}})}).call(this)},i.Ukt=function(){var t=this.QW;return Un(t)&&t.An>this.MP},i.Hkt=function(t){var n,i,r,e,s,u=null!=(s=null==(n=this.Ac)?void 0:n.seamlessSwitchStrategy)?s:OA.OL;if(u===OA.FL)return!0;if(u===OA.UL)return!1;var o=this.qTt,h=null==o?void 0:o.Mc,c=null==o?void 0:o.gmt,a=cH(t,this.klt(t),h,c,this.Ypt),f=this.zTt(t,a,h,c,!1);if(u===OA.CLEAR_ONLY&&((null==(i=this.qTt)?void 0:i.Tpt)||f)||u===OA.SAME_DRM_ONLY&&!((null==(r=this.qTt)?void 0:r.Tpt)&&f||!(null==(e=this.qTt)?void 0:e.Tpt)&&!f))return!1;var v=this.GTt(a,f);return this.bTt(v)},i.zkt=function(){return!0},i.Gkt=function(t){for(var n,i=Lt(this.Xkt());!(n=i()).done;){var r=n.value;r!==t&&(r.Xk=Hm.Nh)}},i.KTt=function(){if(void 0!==this.jkt){if(this.jkt.tR){var t=Ui(this.ht.II,function(t){return t.Rt});void 0!==t&&this.jkt.bs===t.bs||(this.jkt.Xk=Hm.Nh)}}else this.Qkt()},i.Qkt=function(){if(!this.Xkt().length){var t=Ui(this.ht.II,function(t){return t.Rt});if(void 0!==t)for(var n,i=Lt(this.nt.II.filter(function(t){return t.tR}));!(n=i()).done;){var r=n.value;if(r.bs===t.bs)return r.Xk=Hm.Kn,void(this.jkt=r)}}},i.Xkt=function(){return this.nt.II.filter(function(t){return t.Xk===Hm.Kn&&(t.Lt===Ym.FU||t.Lt===Ym.OU)})},i.Kkt=function(t){if(t&&this.jkt){var n=function(t,n){if(""!==t.bs)return n.filter(function(n){return n.bs===t.bs})[0]}(this.jkt,t.nt.II);n&&(n.Xk=Hm.Kn)}},i.Wkt=function(t,n){return Vt(function(){var i,r,e,s,u,o,h,c,a,f,v,d;return zt(this,function(l){switch(l.label){case 0:e=this.qTt,s=this.ekt,u=this.YTt,l.label=1;case 1:return l.trys.push([1,16,,22]),dr(n),o=e.Mc,h=e.gmt,c=this.klt(t),cW(e.kmt,c),a=cH(t,c,o,h,this.Ypt),f=this.zTt(t,a,o,h,!1),a.forEach(function(t){return t.Rt=!0}),v=this.GTt(a,f),[4,e.Jot()];case 2:return l.sent(),this.A3(),dr(n),s&&s.Mc===t?this.bTt(v)?[4,this.kTt(v)]:[3,4]:[3,5];case 3:l.sent(),l.label=4;case 4:return this.YTt=v,[3,11];case 5:return s?[4,s.kn(!0)]:[3,7];case 6:l.sent(),l.label=7;case 7:return this.bTt(v)?[4,this.kTt(v)]:[3,9];case 8:l.sent(),l.label=9;case 9:return this.YTt=v,[4,this.NTt(t,c,a,f)];case 10:s=l.sent(),this.ekt=s,this.Ikt(s),this.Ykt.BI=s.nt,s.iat(e),l.label=11;case 11:return[4,s.$ot()];case 12:l.sent(),dr(n),l.label=13;case 13:return this.ZTt<t.Tn?[4,this.TL.ww(eh._y,n)]:[3,15];case 14:return l.sent(),[3,13];case 15:return dr(n),this.Dkt(s),[3,22];case 16:return vr(d=l.sent())?s?[4,s.Jot()]:[3,18]:[3,21];case 17:l.sent(),l.label=18;case 18:return u&&this.YTt!==u?this.bTt(u)?[4,this.kTt(u)]:[3,20]:[3,21];case 19:l.sent(),l.label=20;case 20:this.YTt=u,l.label=21;case 21:throw d;case 22:return(null==(r=this.Ac)||null==(i=r.dash)?void 0:i.forceSeekToSynchronize)?[4,this.Jkt(t,n)]:[3,24];case 23:l.sent(),l.label=24;case 24:return[2]}})}).call(this)},i.Jkt=function(t,n){return Vt(function(){var i,r;return zt(this,function(e){switch(e.label){case 0:return i=Date.now()/1e3,void 0!==this.Zkt?[3,1]:(this.Zkt=i,[3,5]);case 1:if(!(i-this.Zkt>900))return[3,5];this.Zkt=i,this.JTt(),r=b.max(this.ZTt,t.Tn),e.label=2;case 2:return e.trys.push([2,,4,5]),[4,this.$Tt(r,!1,!0,n)];case 3:return e.sent(),[3,5];case 4:return this.tkt(),[7];case 5:return[2]}})}).call(this)},i.qkt=function(t,n){return Vt(function(){var i,r,e,s,u,o,h,c,a,f,v,d;return zt(this,function(l){switch(l.label){case 0:return dr(n),[4,this.qTt.Jot()];case 1:return l.sent(),this.A3(),[4,this.RTt(t.Tn)];case 2:l.sent(),dr(n),this.C3(),l.label=3;case 3:return!this.TL.UP&&this.ZTt<t.Tn?[4,this.TL.ww([eh._y,eh.Bw],n)]:[3,5];case 4:return l.sent(),[3,3];case 5:return dr(n),i=this.qTt.Mc,r=this.qTt.gmt,e=this.klt(t),cW(this.qTt.kmt,e),s=cH(t,e,i,r,this.Ypt),u=this.zTt(t,s,i,r,!0),s.forEach(function(t){return t.Rt=!0}),o=this.GTt(s,u),this.qTt?(this.$kt.mn(Dw.pa,this.tEt),[4,this.qTt.kn()]):[3,7];case 6:l.sent(),this.$kt.wn(Dw.pa,this.tEt),this.qTt=void 0,l.label=7;case 7:return this.ekt?[4,this.ekt.kn()]:[3,9];case 8:l.sent(),this.ekt=void 0,l.label=9;case 9:return this.JTt(),this.k7(),h=b.max(this.ZTt,t.Tn),[4,this.PTt()];case 10:return l.sent(),[4,this.Lp(o)];case 11:return l.sent(),this.YTt=o,[4,this.NTt(t,e,s,u)];case 12:c=l.sent(),this.Dkt(c),l.label=13;case 13:l.trys.push([13,,20,21]),a={stack:[],error:void 0,hasError:!1},l.label=14;case 14:return l.trys.push([14,17,18,19]),kr(f=this.$Tt(h,!1,!0,n)),[4,c.$ot()];case 15:return l.sent(),v=qt(a,hr.ep([n]),!1),[4,ut.race([f,c.ww([vL.Mlt],v.Yg)])];case 16:return l.sent(),[3,19];case 17:return d=l.sent(),a.error=d,a.hasError=!0,[3,19];case 18:return Gt(a),[7];case 19:return[3,21];case 20:return this.R7(),this.tkt(),[7];case 21:return[2]}})}).call(this)},i.Vkt=function(){return Vt(function(){var t;return zt(this,function(n){switch(n.label){case 0:return(t=this.ekt)?t.Mc.Sot?[4,t.kn(!0)]:[3,2]:[2];case 1:n.sent(),this.ekt=void 0,n.label=2;case 2:return[2]}})}).call(this)},i.klt=function(t){for(var i,r=[],e=[],s=Lt(t.Xpt);!(i=s()).done;){var u=i.value;if(rg(u.Km))if(0===u.rat.length)this.So(new aL("No supported representation found in the AdaptationSet with mimetype : "+u.Km));else if(u.Km===ig.Dk){var o;(o=r).push.apply(o,[].concat(u.Ilt))}else{var h;(h=e).push.apply(h,[].concat(u.Ilt))}}var c=[];return r.length>0&&c.push(n.iEt(ig.Dk,r)),e.length>0&&c.push(n.iEt(ig.Bk,e)),c},i.GTt=function(t,n){var i,r,e,s,u,o,h,c,a,f=this,v=t.map(function(t){var n;return PM.Yct(null!=(n=t.ilt)?n:t.rat,kA(t.Lot,f.Ypt))}).map(function(t){return{qT:t.qT}}),d=null==(r=this.Ac)||null==(i=r.dash)?void 0:i.desiredTimescale,l=(null==(e=this.Ac)?void 0:e.seamlessSwitchStrategy)!==OA.UL&&(null==(s=this.Ac)?void 0:s.seamlessSwitchStrategy)!==OA.CLEAR_ONLY&&(null==(u=this.Ac)?void 0:u.seamlessSwitchStrategy)!==OA.SAME_DRM_ONLY&&(null!=(a=null==(h=this.Ac)||null==(o=h.dash)?void 0:o.needsTimescaleShifting)?a:Vn.Zs.kp),w=null==(c=this.Ac)?void 0:c.useManagedMediaSource;return{Km:Sy.wV,L4:v,aq:zH(n),T8:null==n?void 0:n.T8,kp:l,x3:d,X4:w}},i.zTt=function(t,i,r,e,s){var u,o,h,c=this.Ac.contentProtection,a=n.eEt(i,c);if(void 0!==a)return a;var f=null!=(h=null==(u=this.Ac)?void 0:u.seamlessSwitchStrategy)?h:OA.OL;if(f!==OA.UL&&f!==OA.CLEAR_ONLY&&f!==OA.SAME_DRM_ONLY){var v=null==(o=this.qTt)?void 0:o.Tpt;if(!s&&void 0!==v){var d=!v.T8;if(f===OA.OL&&d&&!this.zkt())return;return v}var l=!s&&f===OA.OL;if(void 0!==(a=this.sEt(t,c,r,e,l)))return a.T8=!0,a}},i.sEt=function(t,i,r,e,s){for(var u=t,o=!1;;)if(void 0!==(u=o?this.ybt(u):this.wbt(u))){var h=cH(u,this.klt(u),r,e,this.Ypt),c=n.eEt(h,i);if(s){var a=this.GTt(h,c);if(!this.bTt(a))return}if(void 0!==c)return c}else{if(o)return;o=!0,u=t}},i.Ckt=function(t){for(var n,i=Lt(t);!(n=i()).done;){var r=n.value;r.src&&this.pq.eV(r)}Ay(this.pq.Z)},i.zx=function(){var t,n=this.hx;this.ckt=!0,n||(this.X8||(this.nEt(new fr),this.rEt()),(null==(t=this.jW)?void 0:t.sL)&&this.jW.Xx(),this.hEt())},i.Gx=function(){this.oEt||(this.oEt=new Vc),this.aEt();var t=this.oEt.Qy;return kr(t),t},i.aEt=function(){if(this.ckt=!1,this.n7=!0,this.uEt=!1,this.vkt(),this.UP){var t=this.rkt;t.V>0&&this.My(t.Tn(0))}this.X8||this.h7().then(this.cEt,this.nEt),this.MTt(),this.hEt()},i.h7=function(){return this.TL.Gx()},i.rEt=function(){this.TL.zx()},i.k7=function(){this.X8||(this.ckt=this.hx,this.X8=!0,this.rEt())},i.R7=function(){this.X8&&(this.X8=!1,this.ckt||this.h7().then(this.cEt,this.nEt),this.MTt(),this.hEt())},i.hEt=function(){var t=this.NV,n=this.hx;t!==n&&(this.NV=n,n?this.So(new hT(this.MP)):this.So(new cT(this.MP)))},i.My=function(t,n,i){return void 0===n&&(n=!1),void 0===i&&(i=mH.NSt),this.Bkt=!0,this.OTt.Zg(),this.m7.Zg(),this.Sz=!0,this.q8=t,this.uEt=this.uEt&&this.z8(),this.fkt(this.lkt),this.dEt(new dT(this.MP)),this.m7=new hr,this.w7=_r(this.y7(t,this.HTt,this.w7,this.UTt,this.m7.Yg,n,i),this.m7).catch(this.mmt),this.w7},i.lEt=function(){this.m7.Zg()},i.y7=function(){return Vt(function(t,n,i,r,e,s,u,o){var h,c,a,f,v,d,l,w,g,_,m,y,p,k,b,A,T,S;return zt(this,function(E){switch(E.label){case 0:void 0===s&&(s=!1),void 0===u&&(u=mH.NSt),void 0===o&&(o=!1),null==(h=this.jW)||h.Xx(),E.label=1;case 1:return E.trys.push([1,30,,31]),[4,ut.all([n,i,r])];case 2:return E.sent(),dr(e),[4,gr(this.WTt.Qy,e)];case 3:return E.sent(),f=this.rkt.DM(t),this.q8=f,v=o||(null==(a=this.Ac)||null==(c=a.dash)?void 0:c.forceHardSwitchWhenSeekingBackwards)&&f<=this.MP,d=this.fEt(f),l=this.qTt,v||!l||!l.Sx.Cr(f)&&u!==mH.MSt&&l.Mc!==d?[3,8]:!(w=this.ekt)||w.nmt?[3,7]:[4,w.Jot()];case 4:return E.sent(),this.A3(),g=this.GTt(l.pmt,l.Tpt),this.bTt(g)?[4,this.kTt(g)]:[3,6];case 5:E.sent(),E.label=6;case 6:this.YTt=g,E.label=7;case 7:return[3,27];case 8:return d?(_=this.ekt,this.k7(),l?[4,l.Jot()]:[3,10]):[3,27];case 9:E.sent(),E.label=10;case 10:return!_||_.Mc!==d||v?[3,13]:(m=this.GTt(_.pmt,_.Tpt),this.A3(),this.bTt(m)?[4,this.kTt(m)]:[3,12]);case 11:E.sent(),E.label=12;case 12:return this.YTt=m,[3,25];case 13:return _?[4,_.kn(!0)]:[3,15];case 14:E.sent(),E.label=15;case 15:return y=this.klt(d),l&&cW(l.kmt,y),p=null==l?void 0:l.Mc,k=null==l?void 0:l.gmt,b=cH(d,y,p,k,this.Ypt),A=this.zTt(d,b,p,k,!1),b.forEach(function(t){return t.Rt=!0}),T=this.GTt(b,A),!this.Hkt(d)||v?[3,18]:(this.A3(),this.bTt(T)?[4,this.kTt(T)]:[3,17]);case 16:E.sent(),E.label=17;case 17:return[3,23];case 18:return A=this.zTt(d,b,p,k,!0),T=this.GTt(b,A),l?(this.$kt.mn(Dw.pa,this.tEt),[4,l.kn()]):[3,20];case 19:E.sent(),this.$kt.wn(Dw.pa,this.tEt),this.qTt=void 0,E.label=20;case 20:return[4,this.PTt()];case 21:return E.sent(),[4,this.Lp(T)];case 22:E.sent(),E.label=23;case 23:return this.YTt=T,[4,this.NTt(d,y,b,A)];case 24:_=E.sent(),this.ekt=_,this.Ykt.BI=_.nt,this.Ikt(_),_.iat(this.qTt),E.label=25;case 25:return[4,_.$ot(MO.Lht)];case 26:return E.sent(),this.Dkt(_),[3,27];case 27:return kr(S=this.$Tt(f,s,!1,e)),this.q8=void 0,[4,this.qTt.$ot(MO.Lht)];case 28:return E.sent(),dr(e),this.QTt(),[4,S];case 29:return E.sent(),dr(e),this.R7(),this.Sz=!1,this.vEt(new lT(this.MP)),this.Nkt(),[3,31];case 30:return vr(E.sent())?[2]:[3,31];case 31:return[2]}})}).apply(this,arguments)},i.Nkt=function(){if(!this.hx&&!this.kx&&void 0!==this.BL){var t,n,i=this.MP;if(this.MP+this.BL-this.Fx.Cd.maximumOffset<i)null==(t=this.jW)||t.Tn();else null==(n=this.jW)||n.Xx()}},i.$Tt=function(t,n,i,r){return Vt(function(){var e,s,u,o,h,c,a,f,v;return zt(this,function(d){switch(d.label){case 0:e=!0,s=t,d.label=1;case 1:0,h={stack:[],error:void 0,hasError:!1},d.label=2;case 2:if(d.trys.push([2,4,5,6]),(c=this.pkt).V>0&&(a=c.DM(t),s!==a&&(c.Cr(s)&&this.uyt.Idt.Km===fL.wV||(s=a,e=!0))),e)e=!1,null==o||o.Zg(),(o=new hr).$g(r),kr(u=_r(this._Et(s,n,i,o.Yg),o));else if(!this.mkt&&!this.Y4)return[3,7];return f=qt(h,hr.ep([r]),!1),[4,ut.race([u,this.ww([eh.iy,eh.Rw],f.Yg),this.uyt.Idt.ww(FO.yot,f.Yg)])];case 3:return d.sent(),[3,6];case 4:return v=d.sent(),h.error=v,h.hasError=!0,[3,6];case 5:return Gt(h),[7];case 6:return[3,1];case 7:return[2]}})}).call(this)},i._Et=function(t,n,i,r){return Vt(function(){return zt(this,function(e){switch(e.label){case 0:this.TL.My(t,n,i),e.label=1;case 1:return this.mkt||this.Y4?[4,this.TL.ww([eh.Zw,eh.Vw],r)]:[3,3];case 2:return e.sent(),[3,1];case 3:return[2]}})}).call(this)},i.JTt=function(){void 0===this.skt&&(this.skt=this.ZTt,this.TL.mn(eh.$w,this.dEt),this.TL.mn(eh.Zw,this.vEt))},i.tkt=function(){if(void 0!==this.skt){var t=this.ZTt;this.skt=void 0,this.TL.wn(eh.$w,this.dEt),this.TL.wn(eh.Zw,this.vEt),this.ZTt!==t&&this.Nc()}},i.gEt=function(t){this.Ho=this.Ho.OM(t)},i.fEt=function(t){var n=this.uyt.Idt,i=n.smt.filter(function(t){return t.ct>=.2});if(0!==i.length){var r=i[0];if(t<=r.Tn)return r;for(var e,s=Lt(i);!(e=s()).done;){var u=e.value;if(u.An>t)return u}return n.Km!==fL.wV?i[i.length-1]:void 0}},i.ybt=function(t){for(var n=t.Smt;n&&n.ct<.2;)n=n.Smt;return n},i.wbt=function(t){for(var n=t.Tmt;n&&n.ct<.2;)n=n.Tmt;return n},i.Ta=function(t,n,i){return Vt(function(){var r,e,s,u,o,h,c,a;return zt(this,function(f){switch(f.label){case 0:r={stack:[],error:void 0,hasError:!1},f.label=1;case 1:return f.trys.push([1,8,9,10]),this.lq.IW(t.contentProtection),this.pEt(),!this.Ac||KA(this.Ac)?[3,3]:[4,this.hr()];case 2:f.sent(),f.label=3;case 3:return!t||KA(t)?[2]:(s=qt(r,hr.ep([i]),!1),this.rV=hr.ep([s.Yg]),this.Ac=t,this.mEt=n,this.Ypt=t.abr,this.Npt=t.ignoreEmbeddedTextTrackTypes,u=new pH(this.nV,Boolean(this.Ac.useCredentials),this._dt),o=EH(u,this.eut),this.nSt(!0),this.Fkt=new sH({iR:Vn.Dh(this.Ac.src),cSt:null!=(h=null==(e=this.Ac.latencyConfiguration)?void 0:e.targetOffset)?h:this.Ac.liveOffset,_St:this.Ac.timeServer,zk:this.Ac.useCredentials},this.wEt(this.Ypt),this.nV,o,this.Ac.dash),this.uyt=this.Fkt.Br,this.uyt.Idt.wn(eh.Ww,this.yEt),this.uyt.Idt.wn(eh.qw,this.AEt),this.uyt.Idt.wn(MV.xbt,this.bEt),this.uyt.Idt.wn(FO.yot,this.MTt),[4,this.SEt.Un(this.uyt.Idt)]);case 4:return f.sent(),[4,this.TEt.Un(this.uyt.Idt)];case 5:return f.sent(),ji(this.Npt,Dg.EMSG)?[3,7]:(this.wpt=new nW(this.TL),this.Gl.FW(this.wpt.Z),[4,this.wpt.Un(this.uyt.Idt)]);case 6:f.sent(),f.label=7;case 7:return t.latencyConfiguration&&(c=t.latencyConfiguration,this.jW=new rW(this,this.TL,c),this.jW.Rt=!0,this.rq.Ea(this.jW)),this.vkt(),s.zg(),[3,10];case 8:return a=f.sent(),r.error=a,r.hasError=!0,[3,10];case 9:return Gt(r),[7];case 10:return[2]}})}).call(this)},i.Px=function(t,n,i,r){return ut.resolve()},i.xx=function(){return ut.resolve()},i.kEt=function(){return Vt(function(){var t;return zt(this,function(n){switch(n.label){case 0:return t=this.uyt.Idt.sx,this.nSt(t),t?(this.Pkt(),this.bq.mn(Ey.SM,this.EEt),[2]):this.Ukt()?(this.bq.wn(Ey.SM,this.EEt),[2]):[4,this.PEt()];case 1:return n.sent(),[2]}})}).call(this)},i.PEt=function(){return Vt(function(){var t,n;return zt(this,function(i){switch(i.label){case 0:return[4,ut.all([null==(t=this.qTt)?void 0:t.Jot(MO.Jht),null==(n=this.ekt)?void 0:n.Jot(MO.Jht)].filter(Un))];case 1:throw i.sent(),this.Lkt(),this.lEt(),this.FTt.Zg(),new y("The provided MPEG-DASH manifest could not be loaded")}})}).call(this)},i.nSt=function(t){this.sSt!==t&&(this.sSt=t,this.So(t?new RH:new CH))},i.vkt=function(){this.uyt&&(this.xEt=this.IEt(this.xEt,this.rV.Yg).catch(this.mmt))},i.IEt=function(t,n){return Vt(function(){var i;return zt(this,function(r){switch(r.label){case 0:return t?[4,t]:[3,2];case 1:r.sent(),dr(n),r.label=2;case 2:return r.trys.push([2,7,,8]),this.mx===jT.OL||this.n7?[4,this.REt(n)]:[3,4];case 3:return r.sent(),[3,6];case 4:return this.mx!==jT.VU?[3,6]:[4,this.CEt(n)];case 5:return r.sent(),[3,6];case 6:return[3,8];case 7:throw lr(i=r.sent()),this.qq(new fd(cd.MANIFEST_LOAD_ERROR,i.message,i)),i;case 8:return[2]}})}).call(this)},i.REt=function(t){return Vt(function(){var n;return zt(this,function(i){switch(i.label){case 0:return[4,this.CEt(t)];case 1:i.sent(),this.DEt||(this.DEt=!0,this.WTt.$g(this.Un(this.mEt,t))),i.label=2;case 2:return i.trys.push([2,4,,5]),[4,this.WTt.Qy];case 3:return i.sent(),[3,5];case 4:return lr(n=i.sent()),this.qq(new fd(cd.MEDIA_DECODE_ERROR,n.message,n)),[3,5];case 5:return[2]}})}).call(this)},i.CEt=function(t){return Vt(function(){var n,i,r,e,s,u;return zt(this,function(o){switch(o.label){case 0:return[4,gr(this.Fkt.W,t)];case 1:return o.sent(),n=this.uyt.Idt,void 0===this.jW&&n.Km===fL.wV&&(i=n.Zwt,r=(null==i?void 0:i.Mbt)?(null==i?void 0:i.Mbt)/1e3:n.aSt,e=(null==i?void 0:i.Dbt)?(null==i?void 0:i.Dbt)/1e3:.5*r,s=(null==i?void 0:i.Nbt)?(null==i?void 0:i.Nbt)/1e3:1.5*r,u={minimumOffset:e,maximumOffset:s,targetOffset:r,forceSeekOffset:2.5*r,minimumPlaybackRate:IA,maximumPlaybackRate:RA},this.jW=new rW(this,this.TL,u),this.rq.Ea(this.jW)),[2]}})}).call(this)},i.Dkt=function(t){var i=this.qTt;t!==i&&(this.qTt&&this.xkt(this.qTt),this.ekt&&this.Rkt(this.ekt),i&&this.fkt(this.lkt),this.qTt=t,this.ekt=i,this.Akt(this.qTt),this.ekt&&this.Ikt(this.ekt),this.YL.BI=t.ht,this.$L.BI=t.rt,this.Kkt(t),this.$kt.mn(Dw.pa,this.tEt),n.BEt(this.$kt),this.$kt.wn(Dw.pa,this.tEt),this.$kt.BI=t.nt,this.Ykt.BI=void 0,this.Qkt())},i.be=function(){this.TL.be()},i.we=function(){this.TL.we()},i.qq=function(t){this.JW||(kr(this.hr()),this.JW=hg(t),this.ZW=t,this.So(new _b(t)))},i.pEt=function(){this.JW=void 0,this.ZW=void 0},i.STt=function(){var t=this.iq;t&&(t.K3&&(t.K3.MY=this.Rz.GY),t.Q3&&(t.Q3.MY=this.Rz.GY))},i.TTt=function(){var t=this.iq;t&&(t.K3&&(t.K3.UY=this.Rz.UY),t.Q3&&(t.Q3.UY=this.Rz.UY))},i.determineStallJumpTarget=function(){if(this.qTt)return this.qTt.Jpt()&&this.MP>this.qTt.An-oD&&!this.qTt.emt?this.qTt.An:void 0},i.hr=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:if(this.NEt)return[2,this.NEt];t.label=1;case 1:return t.trys.push([1,,3,4]),this.NEt=this.MEt(),[4,this.NEt];case 2:return t.sent(),[3,4];case 3:return this.NEt=void 0,[7];case 4:return[2]}})}).call(this)},i.MEt=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.ux=1,this.rV.Zg(),this.lEt(),this.Lkt(),this.FTt.Zg(),this.WTt.Zg(),this.Bkt=!1,this.zx(),this.n7=!1,this.uEt=!1,this.YL.BI=void 0,this.$L.BI=void 0,this.$kt.BI=void 0,this.Ykt.BI=void 0,this.xEt?[4,this.xEt.catch(di)]:[3,2];case 1:t.sent(),this.xEt=void 0,t.label=2;case 2:return[4,ut.all([this.HTt,this.w7,this.UTt,this.WTt.Qy.catch(di)])];case 3:return t.sent(),this.qTt?[4,this.qTt.kn(!0)]:[3,5];case 4:t.sent(),this.qTt=void 0,t.label=5;case 5:return this.ekt?(this.Rkt(this.ekt),[4,this.ekt.kn(!0)]):[3,7];case 6:t.sent(),this.ekt=void 0,t.label=7;case 7:return[4,this.PTt()];case 8:return t.sent(),this.YTt=void 0,this.jkt=void 0,this.bq.mn(Ey.SM,this.EEt),this.bq.hr(),[4,this.SEt.hr()];case 9:return t.sent(),[4,this.TEt.hr()];case 10:return t.sent(),void 0===this.wpt?[3,12]:(this.Gl.WW(this.wpt.Z),[4,this.wpt.kn()]);case 11:t.sent(),this.wpt=void 0,t.label=12;case 12:return this.uyt?(this.uyt.Idt.mn(eh.Ww,this.yEt),this.uyt.Idt.mn(eh.qw,this.AEt),this.uyt.Idt.mn(MV.xbt,this.bEt),[4,this.Fkt.kn()]):[3,14];case 13:t.sent(),this.uyt=void 0,t.label=14;case 14:return this._kt=!1,this.LEt=NaN,this.OEt=0,this.FEt=0,this.skt=void 0,this.X8=!1,this.Ho=TA.iL(),this.NV=!0,this.q8=void 0,this.UEt=!1,this.Sz=!1,this.DEt=!1,this.WTt=new Vc,this.okt=0,this.akt=0,this.ukt=0,this.Ac=void 0,this.mEt=void 0,this.Npt=[],this.Zkt=void 0,this.rq.hr(),this.jW=void 0,this.xTt={iO:0,eO:0,sO:0},[4,this.pq.hr()];case 15:return t.sent(),this.TL.Aq(),this.VEt.hr(),[2]}})}).call(this)},i.kn=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.Vo(),this.pEt(),[4,this.hr()];case 1:return t.sent(),this.Vo(),this.YL.kn(),this.$L.kn(),this.$kt.kn(),this.Ykt.kn(),this.Gl.kn(),this.bq.kn(),this.kq.zg(),[4,this.SEt.kn()];case 2:return t.sent(),[4,this.TEt.kn()];case 3:return t.sent(),this.VEt.kn(),this.TL.mn(eh.Rw,this.p9),this.TL.mn(fh.Dw,this.D8),this.TL.mn(eh.Bw,this.HEt),this.TL.mn(eh.$w,this.dEt),this.TL.mn(eh.Zw,this.vEt),this.TL.mn(eh.Jw,this.Ekt),this.TL.mn(eh._y,this.Nc),this.TL.mn([eh.uo,eh.jw],this.WEt),this.TL.mn(sW,this.Rs),[4,this.pq.kn()];case 4:return t.sent(),this.Gl.kn(),this.Rz.mn("NY",this.qEt),this.Rz.mn("FY",this.zEt),this.TL.mn(zm.ma,this.GEt),this.TL.mn([eh.Pw,eh.Ew],this.Rs),this.TL.mn(eh.yy,this.Pmt),this.TL.mn(eh.LICENSE_REQUEST_GENERATED,this.umt),this.TL.Eq=void 0,this.lq.mn("contentProtectionsTracked",this.XEt),this.TL.N9=void 0,[2]}})}).call(this)},i.Hx=function(){return this.TL.Ma},i.Aa=function(){return this.TL.mq},i.jx=function(){return!1},i.Qx=function(){},i.Kx=function(){},i.Yx=function(){},i.Jx=function(){this.LTt(!0)},i.tI=function(t){var n=this.TL.wq(t);return this.VEt.tt(n),n},n.iEt=function(t,n){for(var i,r=[],e=[],s=!n.some(function(t){return t.Plt.some(function(t){return"main"===t.zE})}),u=Lt(n);!(i=u()).done;){var o=i.value;if(-1===r.indexOf(o)){var h=oW(o.Wdt.concat(o.Plt),s);s=!1;for(var c,a=o.rat.map(function(t){return t.kot}),f=new sL(o,a,h),v=Lt(hW(o,n));!(c=v()).done;){var d=c.value;f.slt(d),r.push(d)}e.push(f)}}return new oH(t,e)},n.eEt=function(t,n){if(t.length){for(var i,r,e=Lt(t);!(r=e()).done;){var s=r.value,u=0===s.hlt.length;i=LH(i,HH(s.Nut,n,u))}return(null==n?void 0:n.preferredKeySystems)&&i&&(i.kpt=GH(i.kpt,n.preferredKeySystems)),i}},n.BEt=function(t){for(var n,i=Lt(t.II);!(n=i()).done;){n.value.Xk=Hm.Nh}},Nt(n,[{key:"ht",get:function(){return this.YL}},{key:"QW",get:function(){var t=this.ZTt,n=this.ikt,i=n.VM(t);if(-1!==i)return{Tn:n.Tn(i),An:n.An(i)}}},{key:"ikt",get:function(){var t,n,i,r,e=null!=(i=null==(t=this.qTt)?void 0:t.IP)?i:TA.iL(),s=null!=(r=null==(n=this.ekt)?void 0:n.IP)?r:TA.iL();return e.OM(s)}},{key:"IP",get:function(){return this.ikt._s()}},{key:"CP",get:function(){var t,n=null==(t=this.uyt)?void 0:t.Idt,i=null==n?void 0:n.Vwt;if(n&&i){var r=i.getTime(),e=1e3*this.MP;return new Date(e+r)}},set:function(t){var n,i=null==(n=this.uyt)?void 0:n.Idt,r=null==i?void 0:i.Vwt;if(t&&i&&r){var e=r.getTime()/1e3,s=t.getTime()/1e3;this.My(s-e)}}},{key:"bt",get:function(){return this.Ac}},{key:"ZTt",get:function(){return void 0!==this.q8?this.q8:void 0!==this.skt?this.skt:this.TL.MP}},{key:"MP",get:function(){return this.ZTt},set:function(t){this.OP(t)}},{key:"ct",get:function(){var t=NaN;return this.qTt&&this.qTt.emt?t=this.qTt.An:this.uyt&&void 0!==this.uyt.Idt.Km&&(t=this.uyt.Idt.Gwt?this.uyt.Idt.Gwt.Rmt():1/0),t}},{key:"An",get:function(){return this.ct}},{key:"UP",get:function(){return this.kx?this.z8():!(!this.qTt||!this.qTt.emt)&&this.TL.UP}},{key:"lt",get:function(){return this.JW}},{key:"WP",get:function(){return this.ZW}},{key:"zP",get:function(){}},{key:"jP",get:function(){}},{key:"JP",get:function(){return Yu({},this.ITt,{nO:pb.Ng.fW(),rO:this.okt,hO:{amountOfBufferedAudioSegments:this.akt,amountOfBufferedVideoSegments:this.ukt}})}},{key:"ITt",get:function(){return function(t,n){return{iO:t.iO+n.iO,eO:t.eO+n.eO,sO:t.sO+n.sO}}(this.xTt,this.TL.ZP())}},{key:"$P",get:function(){return this.TL.$P},set:function(t){this.TL.$P=t}},{key:"hx",get:function(){return this.X8?this.ckt:this.qTt&&this.qTt.emt?this.dkt:this.ckt}},{key:"ux",get:function(){return this.TL.ux},set:function(t){this.TL.ux=t}},{key:"_x",get:function(){var t=this.Ho;return this.qTt&&(t=t.OM(this.lkt)),t.LM(.1)._s()}},{key:"lkt",get:function(){return this.TL._x}},{key:"mx",get:function(){return this.tq},set:function(t){this.tq=t,this.vkt()}},{key:"Ax",get:function(){var t=this.TL.Ax;return this._kt&&(t=b.max(Cy.Qn,t)),t}},{key:"rkt",get:function(){return this.gkt(!1)}},{key:"pkt",get:function(){return this.gkt(!0)}},{key:"Sx",get:function(){return this.rkt._s()}},{key:"kx",get:function(){return this.Sz||this.mkt}},{key:"mkt",get:function(){return this.TL.kx}},{key:"Y4",get:function(){return this.TL.Y4}},{key:"nq",get:function(){}},{key:"wkt",get:function(){var t,n;return null!=(n=null==(t=this.uyt)?void 0:t.Idt.Km)?n:fL.mV}},{key:"nt",get:function(){return this.Gl}},{key:"rt",get:function(){return this.$L}},{key:"Rx",get:function(){var t;return OR(this.TL)&&(this.TL.Rx||(null==(t=this.ykt())?void 0:t.Mi))||0}},{key:"Bx",get:function(){var t;return OR(this.TL)&&(this.TL.Bx||(null==(t=this.ykt())?void 0:t.Ti))||0}},{key:"Mx",get:function(){return this.TL.Mx},set:function(t){this.TL.Mx=Ti(t,0,1)}},{key:"Fx",get:function(){return this.rq}},{key:"Vx",get:function(){return!1},set:function(t){}},{key:"hq",get:function(){return this.oq}},{key:"dkt",get:function(){return this.TL.hx}},{key:"sx",get:function(){return this.sSt}},{key:"KP",get:function(){return!1}},{key:"BL",get:function(){var t,n=null==(t=this.uyt)?void 0:t.Idt;if(n&&n.Km===fL.wV&&n.Vwt)return n.xdt().getTime()/1e3-n.Vwt.getTime()/1e3-this.MP}}]),n}(th);function oW(t,n){var i=t.filter(function(t){return"urn:mpeg:dash:role:2011"===t.y8}).map(function(t){return t.zE}).filter(Un);return n||ji(i,"main")?ji(i,"caption")?"captions":ji(i,"subtitle")?"subtitles":ji(i,"dub")?"translation":"main":ji(i,"sign")?"sign":ji(i,"description")?"descriptions":ji(i,"commentary")?"commentary":"alternative"}function hW(t,n){for(var i,r,e,s=function(){var t=e.value,i=Number(t),r=Ui(n,function(t){return t.o===i});r&&h.push(r)},u=Ui([].concat(t.iwt,t.ewt),function(t){return"urn:mpeg:dash:adaptation-set-switching:2016"===t.y8}),o=null!=(r=null==u||null==(i=u.zE)?void 0:i.split(","))?r:[],h=[],c=Lt(o);!(e=c()).done;)s();return h}function cW(t,n){for(var i,r=function(){var t=function(){var t=s.value,n=t.YI;if(!n)return"continue";var i=t.rat.map(function(t){return t.o}),r=Ui(o,function(t){var n=t.rat.map(function(t){return t.o});return Ki(i,n)});if(!r)return"continue";var e=n.map(function(t){return t.o});r.YI=r.KI.II.filter(function(t){return ji(e,t.o)})},r=i.value,e=Ui(n,function(t){return t.Km===r.Km});if(!e)return"continue";for(var s,u=r.Z,o=e.Z,h=Lt(u);!(s=h()).done;)t()},e=Lt(t);!(i=e()).done;)r()}F(),Et(),Wt(),Qt();var aW=function(){function t(t,n,i,r){this.QEt=void 0,this.KEt=void 0,this.YEt=void 0,this.JEt=void 0,this.QEt=t,this.KEt=n,this.YEt=i,this.JEt=r}var n=t.prototype;return n.HSt=function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,this.QEt.jEt(t.map(kH))];case 1:return[2,n.sent().shift()]}})}).call(this)},n.Uct=function(t,n){var i=bH(t,n);return this.KEt.Hy(i)},n.iut=function(t,n){return Vt(function(){var i,r;return zt(this,function(e){switch(e.label){case 0:return r=bH(t,n),[4,this.YEt.Wy(r)];case 1:return[2,null==(i=e.sent())?void 0:i.data]}})}).call(this)},n.WJ=function(t){return this.JEt.Wy(t)},t}();F(),Et(),Bt(),F(),Et(),F(),Et();var fW=function(){function t(){}var n=t.prototype;return n.ZEt=function(t){return ut.resolve(!1)},n.zSt=function(t){return ut.reject(vW)},n.$Et=function(t){return ut.reject(vW)},n.Hy=function(t){return ut.resolve(!1)},n.Wy=function(t){return ut.resolve(void 0)},n.tPt=function(t,n){return ut.resolve(void 0)},n.jEt=function(t){return ut.resolve([])},n.iPt=function(){return ut.resolve([])},n.ePt=function(t){return ut.resolve([])},n.sPt=function(t,n){return ut.resolve([])},n._S=function(t){return ut.reject(vW)},n.nPt=function(t){return ut.reject(vW)},n.rPt=function(){return ut.reject(vW)},t}(),vW="Storage disabled",dW=function(){function t(){this.dPt=void 0,this.ect=void 0,this.lPt=void 0,this.fPt=void 0,this.vPt=void 0,this.dPt=new fW,this.ect=new fW,this.lPt=new fW,this.fPt=new fW,this.vPt=new fW}return t.prototype.uPt=function(t){return ut.reject(lW)},t.Ret=function(){return ut.resolve(new t)},t}(),lW="Storage disabled";F(),Et(),Wt(),Ut(),Qt(),F(),Et(),Wt(),Bt(),Qt(),F(),Et(),Wt(),Bt(),Qt();var wW=function(){function t(t){var n=this;this.Jg=new Vc,this.oPt=void 0,this.Jg.$g(t),this.Jg.Qy.then(function(t){n.oPt=t})}var n=t.prototype;return n.ZEt=function(t){return Vt(function(){var n;return zt(this,function(i){switch(i.label){case 0:return(n=this.oPt)?[3,2]:[4,this.hPt];case 1:n=i.sent(),i.label=2;case 2:return[2,n.ZEt(t)]}})}).call(this)},n.zSt=function(t,n){return Vt(function(){var i;return zt(this,function(r){switch(r.label){case 0:return(i=this.oPt)?[3,2]:[4,this.hPt];case 1:i=r.sent(),r.label=2;case 2:return[2,i.zSt(t,n)]}})}).call(this)},n.$Et=function(t,n){return Vt(function(){var i;return zt(this,function(r){switch(r.label){case 0:return(i=this.oPt)?[3,2]:[4,this.hPt];case 1:i=r.sent(),r.label=2;case 2:return[2,i.$Et(t,n)]}})}).call(this)},n.Hy=function(t){return Vt(function(){var n;return zt(this,function(i){switch(i.label){case 0:return(n=this.oPt)?[3,2]:[4,this.hPt];case 1:n=i.sent(),i.label=2;case 2:return[2,n.Hy(t)]}})}).call(this)},n.Wy=function(t){return Vt(function(){var n;return zt(this,function(i){switch(i.label){case 0:return(n=this.oPt)?[3,2]:[4,this.hPt];case 1:n=i.sent(),i.label=2;case 2:return[2,n.Wy(t)]}})}).call(this)},n.tPt=function(t,n){return Vt(function(){var i;return zt(this,function(r){switch(r.label){case 0:return(i=this.oPt)?[3,2]:[4,this.hPt];case 1:i=r.sent(),r.label=2;case 2:return[2,i.tPt(t,n)]}})}).call(this)},n.jEt=function(t){return Vt(function(){var n;return zt(this,function(i){switch(i.label){case 0:return(n=this.oPt)?[3,2]:[4,this.hPt];case 1:n=i.sent(),i.label=2;case 2:return[2,n.jEt(t)]}})}).call(this)},n.iPt=function(){return Vt(function(){var t;return zt(this,function(n){switch(n.label){case 0:return(t=this.oPt)?[3,2]:[4,this.hPt];case 1:t=n.sent(),n.label=2;case 2:return[2,t.iPt()]}})}).call(this)},n.ePt=function(t){return Vt(function(){var n;return zt(this,function(i){switch(i.label){case 0:return(n=this.oPt)?[3,2]:[4,this.hPt];case 1:n=i.sent(),i.label=2;case 2:return[2,n.ePt(t)]}})}).call(this)},n.sPt=function(t,n){return Vt(function(){var i;return zt(this,function(r){switch(r.label){case 0:return(i=this.oPt)?[3,2]:[4,this.hPt];case 1:i=r.sent(),r.label=2;case 2:return[2,i.sPt(t,n)]}})}).call(this)},n._S=function(t){return Vt(function(){var n;return zt(this,function(i){switch(i.label){case 0:return(n=this.oPt)?[3,2]:[4,this.hPt];case 1:n=i.sent(),i.label=2;case 2:return[2,n._S(t)]}})}).call(this)},n.nPt=function(t){return Vt(function(){var n;return zt(this,function(i){switch(i.label){case 0:return(n=this.oPt)?[3,2]:[4,this.hPt];case 1:n=i.sent(),i.label=2;case 2:return[2,n.nPt(t)]}})}).call(this)},n.rPt=function(){return Vt(function(){var t;return zt(this,function(n){switch(n.label){case 0:return(t=this.oPt)?[3,2]:[4,this.hPt];case 1:t=n.sent(),n.label=2;case 2:return[2,t.rPt()]}})}).call(this)},Nt(t,[{key:"hPt",get:function(){return this.Jg.Qy}}]),t}(),gW=function(){function t(t){var n=this;this.Jg=new Vc,this.cPt=void 0,this.ect=void 0,this.dPt=void 0,this.lPt=void 0,this.fPt=void 0,this.vPt=void 0,this.Jg.$g(t);var i=this.Jg.Qy;i.then(function(t){n.cPt=t}),this.ect=new wW(i.then(function(t){return t.ect})),this.dPt=new wW(i.then(function(t){return t.dPt})),this.lPt=new wW(i.then(function(t){return t.lPt})),this.fPt=new wW(i.then(function(t){return t.fPt})),this.vPt=new wW(i.then(function(t){return t.vPt}))}return t.prototype.uPt=function(t){return Vt(function(){var n;return zt(this,function(i){switch(i.label){case 0:return(n=this.cPt)?[3,2]:[4,this.aPt];case 1:n=i.sent(),i.label=2;case 2:return[4,n.uPt(t)];case 3:return[2,i.sent()]}})}).call(this)},Nt(t,[{key:"aPt",get:function(){return this.Jg.Qy}}]),t}();function _W(t){return new y("This storage cannot handle persistency type "+t)}F(),Et(),F(),Et(),Ut(),F(),Et();var mW=function(t){return t._Pt="readonly",t.gPt="readwrite",t}({}),yW=function(){function t(){this.EA=[]}var n=t.prototype;return n.ZEt=function(t){return ut.resolve("temporary"===t)},n.zSt=function(t,n){return void 0===n&&(n="temporary"),"temporary"!==n?ut.reject(_W(n)):(this.pPt(t.key),this.EA.push(t),ut.resolve())},n.$Et=function(t,n){if(void 0===n&&(n="temporary"),"temporary"!==n)return ut.reject(_W(n));for(var i,r=Lt(t);!(i=r()).done;){var e=i.value;this.pPt(e.key)}for(var s,u=Lt(t);!(s=u()).done;){var o=s.value;this.EA.push(o)}return ut.resolve()},n.Hy=function(t){return ut.resolve(Boolean(this.mPt(t)))},n.Wy=function(t){return ut.resolve(this.mPt(t))},n.tPt=function(t,n){return ut.resolve(this.wPt(t,n))},n.jEt=function(t){var n=this,i=t?t.map(function(t){return n.mPt(t)}):this.EA;return ut.resolve(i.filter(Un))},n.iPt=function(){return ut.resolve([].concat(this.EA))},n.ePt=function(t){return this.sPt(t,"key")},n.sPt=function(t,n){var i=this.EA.filter(function(i){return i[n]===t});return ut.resolve(i)},n._S=function(t){return this.pPt(t),ut.resolve()},n.nPt=function(t){for(var n,i=Lt(t);!(n=i()).done;){var r=n.value;this.pPt(r)}return ut.resolve()},n.rPt=function(){return Yi(this.EA),ut.resolve()},n.mPt=function(t){return this.wPt(t,"key")},n.wPt=function(t,n){for(var i,r=Lt(this.EA);!(i=r()).done;){var e=i.value;if(e[n]===t)return e}},n.pPt=function(t){var n=this.mPt(t);n&&Xi(this.EA,n)},t}(),pW=function(){function t(){this.dPt=void 0,this.ect=void 0,this.lPt=void 0,this.fPt=void 0,this.vPt=void 0,this.dPt=new yW,this.ect=new yW,this.lPt=new yW,this.fPt=new yW,this.vPt=new yW}return t.prototype.uPt=function(t){return t(this)},t.Ret=function(){return ut.resolve(new t)},t}();F(),Et(),Wt(),Bt(),Qt(),F(),Et(),Wt(),Ut(),Qt();var kW=function(){function t(t){this.yPt=void 0,this.yPt=t}var n=t.prototype;return n.ZEt=function(t){return Vt(function(){var n,i;return zt(this,function(r){switch(r.label){case 0:n=Lt(this.yPt),r.label=1;case 1:return(i=n()).done?[3,4]:[4,i.value.ZEt(t)];case 2:if(r.sent())return[2,!0];r.label=3;case 3:return[3,1];case 4:return[2,!1]}})}).call(this)},n.zSt=function(t,n){return void 0===n&&(n="persistent"),Vt(function(){var i,r,e;return zt(this,function(s){switch(s.label){case 0:i=Lt(this.yPt),s.label=1;case 1:return(r=i()).done?[3,4]:[4,(e=r.value).ZEt(n)];case 2:if(s.sent())return[2,e.zSt(t)];s.label=3;case 3:return[3,1];case 4:throw _W(n)}})}).call(this)},n.$Et=function(t,n){return void 0===n&&(n="persistent"),Vt(function(){var i,r,e;return zt(this,function(s){switch(s.label){case 0:i=Lt(this.yPt),s.label=1;case 1:return(r=i()).done?[3,4]:[4,(e=r.value).ZEt(n)];case 2:if(s.sent())return[2,e.$Et(t)];s.label=3;case 3:return[3,1];case 4:throw _W(n)}})}).call(this)},n.Hy=function(t){return Vt(function(){var n,i;return zt(this,function(r){switch(r.label){case 0:n=Lt(this.yPt),r.label=1;case 1:return(i=n()).done?[3,4]:[4,i.value.Hy(t)];case 2:if(r.sent())return[2,!0];r.label=3;case 3:return[3,1];case 4:return[2,!1]}})}).call(this)},n.Wy=function(t){return Vt(function(){var n,i,r;return zt(this,function(e){switch(e.label){case 0:n=Lt(this.yPt),e.label=1;case 1:return(i=n()).done?[3,4]:[4,i.value.Wy(t)];case 2:if(r=e.sent())return[2,r];e.label=3;case 3:return[3,1];case 4:return[2,void 0]}})}).call(this)},n.tPt=function(t,n){return Vt(function(){var i,r,e;return zt(this,function(s){switch(s.label){case 0:i=Lt(this.yPt),s.label=1;case 1:return(r=i()).done?[3,4]:[4,r.value.tPt(t,n)];case 2:if(e=s.sent())return[2,e];s.label=3;case 3:return[3,1];case 4:return[2,void 0]}})}).call(this)},n.jEt=function(t){return Vt(function(){var n,i,r,e,s,u,o,h,c,a;return zt(this,function(f){switch(f.label){case 0:n=[],i=Lt(this.yPt),f.label=1;case 1:return(r=i()).done?[3,4]:(e=r.value,o=(u=(s=n).push).apply,h=[s],a=(c=[]).concat,[4,e.jEt(t)]);case 2:o.apply(u,h.concat([a.apply(c,[f.sent()])])),f.label=3;case 3:return[3,1];case 4:return[2,n]}})}).call(this)},n.iPt=function(){return Vt(function(){var t,n,i,r,e,s,u,o,h,c;return zt(this,function(a){switch(a.label){case 0:t=[],n=Lt(this.yPt),a.label=1;case 1:return(i=n()).done?[3,4]:(r=i.value,u=(s=(e=t).push).apply,o=[e],c=(h=[]).concat,[4,r.iPt()]);case 2:u.apply(s,o.concat([c.apply(h,[a.sent()])])),a.label=3;case 3:return[3,1];case 4:return[2,t]}})}).call(this)},n.ePt=function(t){return Vt(function(){var n,i,r,e,s,u,o,h,c,a;return zt(this,function(f){switch(f.label){case 0:n=[],i=Lt(this.yPt),f.label=1;case 1:return(r=i()).done?[3,4]:(e=r.value,o=(u=(s=n).push).apply,h=[s],a=(c=[]).concat,[4,e.ePt(t)]);case 2:o.apply(u,h.concat([a.apply(c,[f.sent()])])),f.label=3;case 3:return[3,1];case 4:return[2,n]}})}).call(this)},n.sPt=function(t,n){return Vt(function(){var i,r,e,s,u,o,h,c,a,f;return zt(this,function(v){switch(v.label){case 0:i=[],r=Lt(this.yPt),v.label=1;case 1:return(e=r()).done?[3,4]:(s=e.value,h=(o=(u=i).push).apply,c=[u],f=(a=[]).concat,[4,s.sPt(t,n)]);case 2:h.apply(o,c.concat([f.apply(a,[v.sent()])])),v.label=3;case 3:return[3,1];case 4:return[2,i]}})}).call(this)},n._S=function(t){return Vt(function(){var n,i;return zt(this,function(r){switch(r.label){case 0:n=Lt(this.yPt),r.label=1;case 1:return(i=n()).done?[3,4]:[4,i.value._S(t)];case 2:r.sent(),r.label=3;case 3:return[3,1];case 4:return[2]}})}).call(this)},n.nPt=function(t){return Vt(function(){var n,i;return zt(this,function(r){switch(r.label){case 0:n=Lt(this.yPt),r.label=1;case 1:return(i=n()).done?[3,4]:[4,i.value.nPt(t)];case 2:r.sent(),r.label=3;case 3:return[3,1];case 4:return[2]}})}).call(this)},n.rPt=function(){return Vt(function(){var t,n;return zt(this,function(i){switch(i.label){case 0:t=Lt(this.yPt),i.label=1;case 1:return(n=t()).done?[3,4]:[4,n.value.rPt()];case 2:i.sent(),i.label=3;case 3:return[3,1];case 4:return[2]}})}).call(this)},t}();function bW(t){return function(){return Vt(function(){var n;return zt(this,function(i){switch(i.label){case 0:return[4,ut.all(t.map(function(t){return t()}))];case 1:return n=i.sent(),[2,AW.Ret(n)]}})})()}}var AW=function(){function t(t){this.EPt=void 0,this.APt=void 0,this.bPt=void 0,this.SPt=void 0,this.TPt=void 0,this.kPt=void 0,this.EPt=t,this.APt=new kW(t.map(function(t){return t.fPt})),this.bPt=new kW(t.map(function(t){return t.vPt})),this.SPt=new kW(t.map(function(t){return t.lPt})),this.TPt=new kW(t.map(function(t){return t.dPt})),this.kPt=new kW(t.map(function(t){return t.ect}))}return t.prototype.uPt=function(n){var i=this;if(0===this.EPt.length)return n(this);var r=[],e=0,s=function(u){return r.push(u),++e<i.EPt.length?i.EPt[e].uPt(s):n(new t(r))};return this.EPt[e].uPt(s)},t.Ret=function(n){return ut.resolve(new t(n))},Nt(t,[{key:"fPt",get:function(){return this.APt}},{key:"vPt",get:function(){return this.bPt}},{key:"lPt",get:function(){return this.SPt}},{key:"dPt",get:function(){return this.TPt}},{key:"ect",get:function(){return this.kPt}}]),t}(),TW=function(){function t(t){this.RPt=void 0,this.IPt=[],this.xPt=!0,this.RPt=t}var n=t.prototype;return n.Ret=function(){return new gW(this.PPt())},n.PPt=function(){return Vt(function(){var t,n,i;return zt(this,function(r){switch(r.label){case 0:return this.xPt?[4,ut.resolve()]:[3,2];case 1:r.sent(),this.xPt=!1,r.label=2;case 2:t=Lt(this.IPt),r.label=3;case 3:if((n=t()).done)return[3,8];i=n.value,r.label=4;case 4:return r.trys.push([4,6,,7]),[4,bW([pW.Ret,i])()];case 5:return[2,r.sent()];case 6:return r.sent(),[3,7];case 7:return[3,3];case 8:return[4,bW([pW.Ret,this.RPt])()];case 9:return[2,r.sent()]}})}).call(this)},n.Ba=function(t){if(!this.xPt)throw new y("Registration overdue");this.IPt.push(t)},t}(),SW=function(){function t(){}return t.Ba=function(n){t.RW.Ba(n)},Nt(t,null,[{key:"Ng",get:function(){var n,i;return null!=(i=(n=t).lAt)?i:n.lAt=t.RW.Ret()}}]),t}();SW.RW=new TW(dW.Ret),SW.lAt=void 0;var EW=function(t){function n(n,i,r,e,s,u){var o,h=new aW(SW.Ng.lPt,SW.Ng.dPt,SW.Ng.ect,SW.Ng.vPt);return(o=t.call(this,n,i,r,e,h,s,new fO(u))||this).vrt=void 0,o.CPt=void 0,o.vrt=u,On.X_&&(o.CPt=new RO(o)),o}Ct(n,t);var i=n.prototype;return i.Wx=function(){if(cO(this.TL))return this.TL.Wx()},i.kn=function(){var n=this;return Vt(function(){var i;return zt(this,function(r){switch(r.label){case 0:return[4,t.prototype.kn.call(n)];case 1:return r.sent(),null==(i=this.CPt)||i.kn(),[2]}})}).call(this)},i.Hkt=function(n){var i,r;return((null!=(r=null==(i=this.Ac)?void 0:i.seamlessSwitchStrategy)?r:OA.OL)!==OA.OL||!On.gg)&&t.prototype.Hkt.call(this,n)},i.zkt=function(){return!(On.w_&&On.A_<3)&&t.prototype.zkt.call(this)},i.wEt=function(t){return aO(t)},n}(uW),IW=function(t){function n(n,i,r,e,s,u,o){var h,c=new IO(s),a=c.Gq(u);return(h=t.call(this,n,i,r,e,a,o)||this).xq=void 0,h.xq=c,h}return Ct(n,t),n.prototype.kn=function(){var n=this;return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return[4,t.prototype.kn.call(n)];case 1:return i.sent(),[4,this.xq.Pq(this.TL)];case 2:return i.sent(),[2]}})}).call(this)},n}(EW);function RW(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}F(),Et(),Wt(),Dt(),Qt(),F(),Et(),Wt(),Dt(),Qt(),F(),Et(),F(),Et(),Bt(),Dt(),F(),Et(),Bt(),Dt(),F(),Et(),Bt(),Dt();var CW=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).pE=void 0,r.pE=n,r}Ct(n,t);var i=n.prototype;return i.RP=function(){return t.prototype.RP.call(this).Ny(this.DPt)},i.krt=function(){return t.prototype.krt.call(this).Ny(this.DPt)},i.H2=function(n,i,r){var e=this.DPt;return t.prototype.H2.call(this,n,{xet:i.xet-e,ct:i.ct,bU:i.bU-e},r)},i.r3=function(n,i){var r=this.DPt;return t.prototype.r3.call(this,b.max(0,n-r),b.max(0,i-r))},i._S=function(n,i,r){var e=this.DPt;return t.prototype._S.call(this,b.max(0,n-e),b.max(0,i-e),r)},i.F3=function(n,i){var r=this.DPt;t.prototype.F3.call(this,b.max(0,n-r),b.max(0,i-r))},i.U3=function(n,i){var r=this.DPt;t.prototype.U3.call(this,b.max(0,n-r),b.max(0,i-r))},Nt(n,[{key:"DPt",get:function(){return this.pE.DPt}}]),n}(_O),DW=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).pE=void 0,r.grt(i),r.pE=n,r}Ct(n,t);var i=n.prototype;return i.Nd=function(){return t.prototype.Nd.call(this)+this.DPt},i.C4=function(n){t.prototype.C4.call(this,n-this.DPt)},i.Tx=function(){return t.prototype.Tx.call(this).Ny(this.DPt)},i.M4=function(n,i,r,e){var s=this.DPt;t.prototype.M4.call(this,n-s,i-s,r,e)},i.mrt=function(t){return new CW(this,t)},Nt(n,[{key:"DPt",get:function(){return this.pE.DPt}}]),n}(wO);F(),Et(),Dt(),F(),Et(),Bt(),Ut();var PW=function(){function t(){this.Gl=new Qm}var n=t.prototype;return n.tI=function(t,n,i,r,e,s,u,o){var h=new GD(t,n,i,r,e,s,u,void 0,o);return this.Gl.tt(h),h},n.wq=function(t){var n=new vN(t.Lt,t.Th,t.bs);return this.Gl.tt(n),n},n.iV=function(t){this.Gl.it(t)},n.hr=function(){this.Gl.hr()},n.kn=function(){for(var t,n=Lt(this.Gl.II.slice());!(t=n()).done;){t.value.kn()}this.Gl.kn()},Nt(t,[{key:"nt",get:function(){return this.Gl}}]),t}(),NW=function(t){function n(n,i){var r;return(r=t.call(this)||this).N7=void 0,r.N7=new XP(n,i),r}Ct(n,t);var i=n.prototype;return i.tI=function(n,i,r,e,s,u,o,h){var c=t.prototype.tI.call(this,n,i,r,e,s,u,o,h);return this.N7.tt(c),c},i.iV=function(n){t.prototype.iV.call(this,n),this.N7.it(n),n.kn()},i.wq=function(n){var i=t.prototype.wq.call(this,n);return this.N7.tt(i),i},i.hr=function(){t.prototype.hr.call(this),this.N7.hr()},i.kn=function(){t.prototype.kn.call(this),this.N7.kn()},n}(PW),BW=function(t){function n(n){var i;return(i=t.call(this,n)||this).BPt=0,i.Gl=void 0,i.JU=void 0,i.eet=void 0,i.net=void 0,i.JU=new NW(i,new qP),i.Gl=new Eb([i.JU.nt,t.prototype.Ix.call(RW(i))]),i.eet=new IN,i.eet.B9(i.$W.parentElement),i.net=new WB(i.eet.xe,i.Wu,i.Gl,i.Ql,i.Ma,i.mq),i}Ct(n,t);var i=n.prototype;return i.RP=function(){return t.prototype.RP.call(this).Ny(this.BPt)},i.DP=function(){return MW(t.prototype.DP.call(this),this.BPt)},i.LP=function(){return t.prototype.LP.call(this)+this.BPt},i.Nd=function(){return t.prototype.Nd.call(this)+this.BPt},i.gx=function(){return t.prototype.gx.call(this).Ny(this.BPt)},i.Tx=function(){return t.prototype.Tx.call(this).Ny(this.BPt)},i.My=function(n,i,r){var e=b.max(0,n-this.BPt);t.prototype.My.call(this,e,i,r)},i.KW=function(n){t.prototype.KW.call(this,MW(n,-this.BPt))},i.Ix=function(){return this.Gl},i.tI=function(t,n,i,r,e,s,u,o){return this.JU.tI(t,n,i,r,e,s,u,o)},i.wq=function(t){return this.JU.wq(t)},i.iV=function(t){this.JU.iV(t)},i.Aq=function(){this.JU.hr(),t.prototype.Aq.call(this)},i.vq=function(){return!1},i.gq=function(t,n,i,r,e){throw new y("Not supported")},i.zg=function(){return this.net.kn(),this.eet.kn(),this.JU.kn(),this.Gl.kn(),t.prototype.zg.call(this)},i.Xrt=function(t){return new DW(this,t)},i.Grt=function(t){return new pO(t)},i.Zx=function(n){var i;switch(n.type){case eh.uo:i=new cT(n.currentTime+this.BPt);break;case eh.jw:i=new hT(n.currentTime+this.BPt);break;case Ey.TM:i=new Oy(n.currentTime+this.BPt);break;case eh._y:i=new pw(n.currentTime+this.BPt,MW(n.currentProgramDateTime,this.BPt));break;case eh.Qw:i=new qR(n.currentTime+this.BPt);break;case eh.$w:i=new dT(n.currentTime+this.BPt);break;case eh.Zw:i=new lT(n.currentTime+this.BPt);break;case eh.Fw:i=new gD(n.currentTime+this.BPt);break;case eh.Vw:i=new aN(n.currentTime+this.BPt);break;case eh.Bw:i=new vT(n.currentTime+this.BPt);break;case eh.Kw:i=new fT(n.currentTime+this.BPt,n.playbackRate);break;case eh.gy:i=new wT(n.currentTime+this.BPt,n.volume);break;case eh.Rw:i=new aT(n.duration+this.BPt);break;case Ey.wI:i=new Ry(n.currentTime+this.BPt,n.readyState);break;default:i=n}t.prototype.Zx.call(this,i)},i.we=function(){t.prototype.we.call(this),this.eet.we()},i.be=function(){t.prototype.be.call(this),this.eet.be()},Nt(n,[{key:"DPt",get:function(){return this.BPt},set:function(t){this.BPt=t}}]),n}(AO),xW=function(t){function n(n){return t.call(this,n)||this}return Ct(n,t),n}(dO(BW)),OW=function(t){function n(n){return t.call(this,n)||this}return Ct(n,t),n}(kO(BW));function MW(t,n){return t?new Date(t.getTime()+1e3*n):void 0}var LW=function(t){function n(){return t.apply(this,arguments)||this}Ct(n,t);var i=n.prototype;return i.Gq=function(n){return n===ig.Bk?new OW(t.prototype.Gq.call(this,n)):n===ig.Dk?new xW(t.prototype.Gq.call(this,n)):void 0},i.Pq=function(n){var i=this;return Vt(function(){var r;return zt(this,function(e){switch(e.label){case 0:return[4,(r=n).zg()];case 1:return e.sent(),[4,t.prototype.Pq.call(i,r.Nrt)];case 2:return e.sent(),[2]}})})()},n}(vO),UW=function(t){function n(n,i,r,e,s,u,o){var h,c=new LW(new IO(s)),a=c.Gq(u);return(h=t.call(this,n,i,r,e,a,o)||this).xq=void 0,h.NPt=void 0,h.xq=c,h.NPt=void 0,h}Ct(n,t);var i=n.prototype;return i.Lp=function(n){var i=this;return Vt(function(){return zt(this,function(r){switch(r.label){case 0:return[4,t.prototype.Lp.call(i,n)];case 1:return r.sent(),void 0===this.NPt&&(this.NPt=this.MPt(),this.TL.DPt=this.NPt),[2]}})}).call(this)},i.MPt=function(){if(this.ct===1/0){var t=this.rkt;if(t.V>0)return b.max(0,t.Tn(0)-300)}return 0},i.y7=function(n,i,r,e,s,u,o,h){return void 0===u&&(u=!1),void 0===o&&(o=mH.NSt),void 0===h&&(h=!1),h||(h=this.ct===1/0&&On.w_&&On.A_<3&&n<=this.MP),t.prototype.y7.call(this,n,i,r,e,s,u,o,h)},i.hr=function(){var n=this;return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return[4,t.prototype.hr.call(n)];case 1:return i.sent(),this.NPt=void 0,this.TL.DPt=0,[2]}})}).call(this)},i.kn=function(){var n=this;return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return[4,t.prototype.kn.call(n)];case 1:return i.sent(),[4,this.TL.zg()];case 2:return i.sent(),[4,this.xq.Pq(this.TL)];case 3:return i.sent(),[2]}})}).call(this)},n.LS=function(t){var n;return(!t||"google-dai"!==(null==t||null==(n=t.ssai)?void 0:n.integration))&&(On.w_&&On.A_<4)},n}(EW);F(),Et(),Wt(),Dt(),Qt(),F(),Et(),Wt(),Dt(),H(),Qt(),F(),Et(),Bt(),Dt(),F(),Et(),Wt(),Bt(),Dt(),Qt(),F(),Et(),Bt(),Dt();var FW=function(t){function n(n){return t.call(this,n)||this}return Ct(n,t),Nt(n,[{key:"Nrt",get:function(){return this.TL}},{key:"Rx",get:function(){return this.TL.Rx}},{key:"Bx",get:function(){return this.TL.Bx}}]),n}(bO);F(),Et(),Wt(),Dt(),Qt(),F(),Et(),Wt(),Dt(),Qt(),F(),Et(),Wt(),Dt(),Ut(),Qt();var VW=function(t){function n(n){var i;return(i=t.call(this,n)||this).b3=void 0,i.LPt=void 0,i.jY=0,i.OPt=TA.iL(),i.YS=void 0,i.FPt=TA.iL(),i.WPt=[],i.ZPt=!1,i.zY=0,i.YS=n.Cd,i}Ct(n,t);var i=n.prototype;return i.brt=function(){return this.LPt?this.jY:t.prototype.brt.call(this)},i.Srt=function(n){this.LPt?this.jY=n:t.prototype.Srt.call(this,n)},i.RP=function(){return this.LPt?this.OPt:t.prototype.RP.call(this)},i.CS=function(){return this.LPt?this.YS:t.prototype.CS.call(this)},i.krt=function(){return this.LPt?this.FPt:t.prototype.krt.call(this)},i.Ert=function(){return this.LPt?this.zY:t.prototype.Ert.call(this)},i.Prt=function(n){this.LPt?this.zY=n:t.prototype.Prt.call(this,n)},i.H2=function(t,n,i){var r=this;return this.W2(function(i){return r.UPt(t,n,i)},i)},i.UPt=function(n,i,r){return t.prototype.H2.call(this,n,i,r)},i.V3=function(){var t=this;return this.W2(function(){return t.VPt()})},i.VPt=function(){return t.prototype.V3.call(this)},i.z2=function(t,n,i){var r=this;return this.W2(function(i){return r.HPt(t,n,i)},i)},i.HPt=function(n,i,r){return t.prototype.z2.call(this,n,i,r)},i.F3=function(t,n){this.LPt?(this.FPt=this.FPt.OM(new TA([t,n])),this.WPt.push({Km:"Yut",EO:t,PO:n})):this.qPt(t,n)},i.qPt=function(n,i){t.prototype.F3.call(this,n,i)},i.r3=function(t,n){var i=this;return this.W2(function(){return i.zPt(t,n)})},i.zPt=function(n,i){return t.prototype.r3.call(this,n,i)},i.U3=function(t,n){this.LPt?(this.FPt=this.FPt.UM(new TA([t,n])),this.WPt.push({Km:"_S",EO:t,PO:n})):this.GPt(t,n)},i.GPt=function(n,i){t.prototype.U3.call(this,n,i)},i._S=function(t,n,i){var r=this;return this.W2(function(i){return r.XPt(t,n,i)},i)},i.XPt=function(n,i,r){return t.prototype._S.call(this,n,i,r)},i.EZ=function(t){var n=this;return this.W2(function(){return n.jPt(t)})},i.jPt=function(n){return t.prototype.EZ.call(this,n)},i.W2=function(t,n){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:this.v3(),i.label=1;case 1:return this.LPt?[4,gr(this.LPt.Qy,n)]:[3,3];case 2:return i.sent(),this.v3(),[3,1];case 3:dr(n),i.label=4;case 4:return i.trys.push([4,,6,7]),this.b3=t(n),[4,this.b3];case 5:return i.sent(),[3,7];case 6:return this.b3=void 0,[7];case 7:return[2]}})}).call(this)},i.v3=function(){if(this.b3)throw new y("Internal error")},i.QPt=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:if(this.LPt)throw new p("Already locked");return this.LPt=new Vc,this.KPt(),this.b3?[4,this.b3.catch(di)]:[3,2];case 1:t.sent(),this.KPt(),t.label=2;case 2:return[2]}})}).call(this)},i.YPt=function(){var t=this.LPt;void 0!==t&&(t.Xy(),this.LPt=void 0,this.JPt())},i.KPt=function(){this.YS=t.prototype.CS.call(this),this.jY=t.prototype.brt.call(this),this.zY=t.prototype.Ert.call(this),this.OPt=t.prototype.RP.call(this),this.FPt=t.prototype.krt.call(this),this.ZPt=!1},i.JPt=function(){this.v3(),t.prototype.Srt.call(this,this.jY),t.prototype.Prt.call(this,this.zY);var n=this.WPt.slice();Yi(this.WPt);for(var i,r=Lt(n);!(i=r()).done;){var e=i.value;"Yut"===e.Km?this.qPt(e.EO,e.PO):this.GPt(e.EO,e.PO)}this.OPt.GM(t.prototype.RP.call(this))||this.So(new rh(LR.lZ))},i.zg=function(){var n;null==(n=this.LPt)||n.Zg(),this.LPt=void 0,t.prototype.zg.call(this)},n}(_O),HW=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).pE=void 0,r.$Pt=void 0,r.pE=n,r}Ct(n,t);var i=n.prototype;return i.RP=function(){var n,i;return t.prototype.RP.call(this).OM(null!=(i=null==(n=this.$Pt)?void 0:n.IP)?i:TA.iL())},i.krt=function(){var n,i;return t.prototype.krt.call(this).OM(null!=(i=null==(n=this.$Pt)?void 0:n.M3)?i:TA.iL())},i.Srt=function(n){t.prototype.Srt.call(this,n),this.$Pt&&(this.$Pt.UY=n)},i.Prt=function(n){t.prototype.Prt.call(this,n),this.$Pt&&(this.$Pt.MY=n)},i.qPt=function(n,i){t.prototype.qPt.call(this,n,i),this.$Pt&&this.$Pt.F3(n,i)},i.GPt=function(n,i){t.prototype.GPt.call(this,n,i),this.$Pt&&this.$Pt.U3(n,i)},i.XPt=function(n,i,r){var e=this;return Vt(function(){var s;return zt(this,function(u){switch(u.label){case 0:return dr(r),(s=[]).push(t.prototype.XPt.call(e,n,i,r)),this.$Pt&&s.push(this.$Pt._S(n,i,r)),[4,ut.all(s)];case 1:return u.sent(),[2]}})}).call(this)},i.TZ=function(n){return!!t.prototype.TZ.call(this,n)||this.pE.txt(n)},i.jPt=function(n){return t.prototype.TZ.call(this,n)?t.prototype.jPt.call(this,n):this.pE.ixt(n)},i.sxt=function(t){var n,i;null==(n=this.$Pt)||n.mn(UR,this.xrt),this.$Pt=t,null==(i=this.$Pt)||i.wn(UR,this.xrt)},n}(VW),WW=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).pE=void 0,r.nxt=void 0,r.WA=NaN,r.cxt=!1,r.dxt=!1,r.lxt=void 0,r.grt(i),r.pE=n,r}Ct(n,t);var i=n.prototype;return i.TZ=function(n){return!!wN(this,n)&&(!!t.prototype.TZ.call(this,n)||(!(!this.nxt||!this.nxt.TZ(n))||this.pE.rxt(n)))},i.EZ=function(n){var i=this;return Vt(function(){return zt(this,function(r){switch(r.label){case 0:return t.prototype.TZ.call(i,n)?[4,t.prototype.EZ.call(i,n)]:[3,2];case 1:case 3:case 6:return[2,r.sent()];case 2:return this.nxt&&this.nxt.TZ(n)?(this.hxt(),[4,this.EZ(n)]):[3,4];case 4:return[4,this.pE.oxt(n)];case 5:return r.sent(),[4,this.EZ(n)];case 7:return[2]}})}).call(this)},i.txt=function(t){return this.TZ(this.axt(t))},i.ixt=function(t){return this.EZ(this.axt(t))},i.axt=function(t){var n=this.Cd,i=n.L4.map(function(n){return Fv(t.qT)&&Fv(n.qT)||Vv(t.qT)&&Vv(n.qT)?t:n});return Yu({},n,{L4:i})},i.M4=function(n,i,r,e){t.prototype.M4.call(this,n,i,r,e),this.nxt&&this.nxt.M4(n,i,r,e)},i.uxt=function(){return!this.cxt&&this.dxt},i.Nd=function(){return void 0!==this.lxt?this.lxt:this.uxt()?this.WA:t.prototype.Nd.call(this)},i.C4=function(n){this.WA=n,this.lxt=void 0,this.uxt()||t.prototype.C4.call(this,n)},i._rt=function(){return!this.uxt()&&t.prototype._rt.call(this)},i.C3=function(){this.lxt=b.max(zW(this.iq.Q3),zW(this.iq.K3)),this.uxt()||t.prototype.C3.call(this)},i.A3=function(){this.lxt=void 0,this.uxt()||t.prototype.A3.call(this)},i.mrt=function(t){return new HW(this,t)},i.fxt=function(){this.cxt=!this.cxt},i.hxt=function(){var t=this.iq,n=this.nxt;n&&(this.cxt=!this.cxt,this.grt(n),this.vxt(t),this.uxt()&&this._xt())},i.vxt=function(t){var n,i;this.nxt=t,null==(n=this.P4)||n.sxt(null==t?void 0:t.Q3),null==(i=this.x4)||i.sxt(null==t?void 0:t.K3)},i.gxt=function(t){var n=this.iq,i=this.nxt;if(i){var r=this.cxt,e=r?n:i,s=(r?i:n).IP.JM(t);if(s){var u=UO(e.IP,this.krt()).JM(s.An(0),ve);if(u&&!(s.An(0)+ve>=u.An(0)))return b.max(s.An(0),u.Tn(0))}}},i.pxt=function(t,n){var i=this;if(this.dxt)return ut.resolve();var r=this.cxt?this.nxt:this.iq;return r?(this.dxt=!0,this.mxt(function(n){if(dr(n),i.dxt)return function(t,n,i){return Vt(function(){var r;return zt(this,function(e){switch(e.label){case 0:return dr(i),r=[],t.Q3&&r.push(sD(t.Q3,n,i)),t.K3&&r.push(sD(t.K3,n,i)),[4,ut.all(r)];case 1:return e.sent(),t.C3(),[2]}})})()}(r,t,n)},n)):ut.resolve()},i._xt=function(){if(this.dxt){var t=this.cxt?this.nxt:this.iq;if(t){var n;0,this.dxt=!1;var i=null!=(n=this.lxt)?n:this.WA;t.ct<i&&t.C4(i),t.A3()}}},i.wxt=function(t){var n,i=null!=(n=this.lxt)?n:this.WA;t.C4(i),this.cxt?this.grt(t):this.vxt(t)},i.krt=function(){var t,n,i,r,e=null!=(i=null==(t=this.P4)?void 0:t.M3)?i:TA.iL(),s=null!=(r=null==(n=this.x4)?void 0:n.M3)?r:TA.iL();return e.OM(s)},i.mxt=function(t,n){return Vt(function(){var i;return zt(this,function(r){switch(r.label){case 0:i=[],this.P4&&i.push(this.P4.QPt()),this.x4&&i.push(this.x4.QPt()),r.label=1;case 1:return r.trys.push([1,,4,5]),[4,ut.all(i)];case 2:return r.sent(),[4,t(n)];case 3:return r.sent(),[3,5];case 4:return this.P4&&this.P4.YPt(),this.x4&&this.x4.YPt(),[7];case 5:return[2]}})}).call(this)},i.yrt=function(n){n.type===LR.lZ&&this.pE.P3(),t.prototype.yrt.call(this,n)},n}(wO);function zW(t){if(!t)return 0;var n=t.IP;return n.V>0?n.An(n.V-1):0}function XW(t){return t.Cd.Km===Sy.wV}F(),Et();var qW=function(t){function n(n,i,r){var e;return(e=t.call(this,n)||this).Axt=void 0,e.Gl=void 0,e.JU=void 0,e.bxt=!1,e.q8=void 0,e.A7=NaN,e.Ho=TA.iL(),e.kz=!0,e.Bxt=!1,e.yz=!0,e.Ext=void 0,e.xxt=void 0,e.Txt=void 0,e.Sxt=new hr,e.m7=new hr,e.Axt=i,e.Ext=n,e.TL.be(),e.Axt.we(),e.JU=new NW(e,r),e.Gl=new Eb([e.JU.nt,t.prototype.Ix.call(RW(e))]),e}Ct(n,t);var i=n.prototype;return i.RP=function(){return t.prototype.RP.call(this).OM(this.Axt.IP)},i.Nd=function(){if(!this.bxt){var n=this.iq;if(n&&XW(n))return n.ct}return t.prototype.Nd.call(this)},i.Lrt=function(){return!!t.prototype.Lrt.call(this)&&!(!this.bxt&&!this.WZ())},i.Ort=function(){return!!t.prototype.Ort.call(this)&&!(!this.bxt&&t.prototype.Lrt.call(this)&&!this.WZ())},i.WZ=function(){var t=this.iq;return!(!t||!XW(t))&&t.WZ},i.gx=function(){return this.Ho.OM(this.TL._x)},i.Tx=function(){return t.prototype.Tx.call(this).OM(this.Axt.Sx)},i.bx=function(){return t.prototype.bx.call(this)},i.Mrt=function(){var n;return null!=(n=t.prototype.Mrt.call(this))?n:this.Axt.nq},i.Gx=function(){return this.kz=!1,t.prototype.Gx.call(this)},i.zx=function(){this.kz=!0,t.prototype.zx.call(this)},i.x9=function(){this.bxt=!0,t.prototype.x9.call(this),this.Axt.x9()},i.I9=function(){this.bxt=!1,t.prototype.I9.call(this),this.Axt.x9()},i.LP=function(){var n;return null!=(n=this.q8)?n:t.prototype.LP.call(this)},i.Ex=function(){return void 0!==this.q8||t.prototype.Ex.call(this)},i.My=function(t,n,i){void 0===n&&(n=!1),void 0===i&&(i=!1),this.Sxt.Zg(),this.m7.Zg(),this.m7=new hr,this.Txt=_r(this.y7(t,n,i,this.Txt,this.m7.Yg),this.m7).catch(di)},i.y7=function(n,i,r,e,s){var u=this;return Vt(function(){return zt(this,function(o){switch(o.label){case 0:return this.q8=n,this.A7=n,this.So(new dT(n)),e?[4,e.catch(di)]:[3,2];case 1:o.sent(),o.label=2;case 2:return dr(s),this.iq&&XW(this.iq)&&this.iq._xt(),this.q8=void 0,t.prototype.My.call(u,n,i,r),this.Axt.My(n,i,r),this.kxt(),[2]}})}).call(this)},i.KW=function(t){var n=this.nq;if(n&&!S(n.getTime())){var i=(t.getTime()-n.getTime())/1e3;this.My(i)}},i.D9=function(){t.prototype.D9.call(this),this.Axt.D9()},i.we=function(){this.yz&&(this.yz=!1,this.Ext.we())},i.be=function(){this.yz||(this.yz=!0,this.Ext.be())},i.Pxt=function(){return Vt(function(){var t;return zt(this,function(n){switch(n.label){case 0:return this.q8=void 0,this.A7=NaN,this.Ho=TA.iL(),null==(t=this.xxt)||t.Zg(),this.Sxt.Zg(),this.m7.Zg(),this.Txt?[4,this.Txt.catch(di)]:[3,2];case 1:n.sent(),this.Txt=void 0,n.label=2;case 2:return[2]}})}).call(this)},i.Wrt=function(n){t.prototype.Wrt.call(this,n),this.Axt.Eq=n},i.qrt=function(n){t.prototype.qrt.call(this,n),this.Axt.N9=n},i.Ix=function(){return this.Gl},i.tI=function(t,n,i,r,e,s,u,o){return this.JU.tI(t,n,i,r,e,s,u,o)},i.wq=function(t){return this.JU.wq(t)},i.gq=function(t,n,i,r,e){throw new y("Not implemented yet")},i.vq=function(){return!1},i.iV=function(t){this.JU.iV(t)},i.Aq=function(){this.JU.hr(),t.prototype.Aq.call(this)},i.Un=function(n){var i=this;return Vt(function(){var r;return zt(this,function(e){switch(e.label){case 0:return[4,t.prototype.Un.call(i,n)];case 1:return XW(r=e.sent())&&this.kxt(),[2,r]}})}).call(this)},i.hr=function(){var n=this;return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return[4,this.Pxt()];case 1:return i.sent(),[4,t.prototype.hr.call(n)];case 2:return i.sent(),[4,this.Axt.hr()];case 3:return i.sent(),[2]}})}).call(this)},i.C8=function(){var n=this;return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return[4,this.Pxt()];case 1:return i.sent(),[4,t.prototype.C8.call(n)];case 2:return i.sent(),[4,this.Axt.C8()];case 3:return i.sent(),[2]}})}).call(this)},i.zg=function(){var n=this;return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return[4,this.Pxt()];case 1:return i.sent(),this.JU.kn(),this.Gl.kn(),[4,t.prototype.zg.call(n)];case 2:return i.sent(),[2]}})}).call(this)},i.Xrt=function(t){return new WW(this,t)},i.Grt=function(t){return new pO(t)},i.kxt=function(){this.Sxt.Zg(),this.Sxt=new hr,this.Txt=_r(this.Ixt(this.Txt,this.Sxt.Yg),this.Sxt).catch(di)},i.Ixt=function(t,n){return Vt(function(){var i,r,e,s;return zt(this,function(u){switch(u.label){case 0:return t?[4,t.catch(di)]:[3,2];case 1:u.sent(),u.label=2;case 2:if(!this.iq||!XW(this.iq))return[2];u.label=3;case 3:0,dr(n),this.Rxt()&&this.fxt(),i=void 0,this.iq._xt(),dr(n),u.label=4;case 4:0,r={stack:[],error:void 0,hasError:!1},u.label=5;case 5:return u.trys.push([5,9,10,11]),dr(n),this.Rxt()?[3,12]:void 0===(i=this.iq.gxt(this.LP()))?[3,7]:(this.Cxt(),[4,this.iq.pxt(i,n)]);case 6:return u.sent(),dr(n),this.Axt.My(i),[3,12];case 7:return e=qt(r,hr.ep([n]),!1),[4,ut.race([this.ww(eh._y,e.Yg),this.Dxt(e.Yg)])];case 8:return u.sent(),[3,11];case 9:return s=u.sent(),r.error=s,r.hasError=!0,[3,11];case 10:return Gt(r),[7];case 11:return[3,4];case 12:dr(n),u.label=13;case 13:return this.Rxt()?[3,15]:[4,this.TL.ww([eh._y,eh.Bw,Ey.wI],n)];case 14:return u.sent(),[3,13];case 15:return[3,3];case 16:return[2]}})}).call(this)},i.Rxt=function(){var t=this.iq;if(void 0===t||!XW(t))return!1;var n=this.LP(),i=this.TL.IP;return!(!this.TL.UP&&i.Cr(n))&&!!UO(this.Axt.IP,t.krt()).qM(n,n+ve)},i.fxt=function(){if(!this.Bxt){0,this.Bxt=!0,this.Ho=this.gx();var t=yD(this),n=this.Ex(),i=this.bx(),r=this.TL,e=this.Axt,s=this.iq;s._xt(),s.fxt(),pD(e,t),this.Qrt(e),this.Axt=r,r.zx(),r.$P=!0,this.Bxt=!1;var u=this.Ex();n!==u&&(u?this.So(new dT(this.MP)):this.So(new lT(this.MP)));var o=this.bx();i!==o&&this.So(new Ry(this.MP,o)),u||this.Cxt()}},i.Cxt=function(){var t=this.TL,n=this.Ext;if(n!==t){0;var i=this.Bx,r=this.Rx;this.Ext=t,this.yz&&(n.we(),t.be());var e=this.Bx,s=this.Rx;e>0&&s>0&&(i!==e||r!==s)&&this.So(new Ty)}},i.rxt=function(t){return void 0!==this.Axt.QZ([t])},i.oxt=function(t){return Vt(function(){var n,i,r;return zt(this,function(e){switch(e.label){case 0:return this.Cxt(),n=this.iq,[4,(i=this.Axt).hr()];case 1:return e.sent(),[4,i.Un(t)];case 2:return r=e.sent(),n.wxt(r),[2]}})}).call(this)},i.Dxt=function(t){return this.xxt=new Vc,gr(this.xxt.Qy,t)},i.P3=function(){var t;null==(t=this.xxt)||t.Xy()},i.Zx=function(n){n.type===eh.$w&&this.A7===n.currentTime||(n.type===eh.Zw&&(this.A7=NaN,this.Cxt()),n.type!==Ey.wI&&n.type!==eh.jw&&n.type!==eh.Bw||this.Bxt||!this.Rxt()?(n.type!==eh.Bw||this.UP)&&t.prototype.Zx.call(this,n):this.kxt())},Nt(n,[{key:"yxt",get:function(){return this.Axt}},{key:"Rx",get:function(){return this.Ext.Rx}},{key:"Bx",get:function(){return this.Ext.Bx}}]),n}(FW),GW=function(t){function n(n,i){var r;return(r=t.call(this,n,i,new qP)||this).eet=void 0,r.net=void 0,r.KL=void 0,r.KL=new BT(n.mq),r.eet=new IN,r.eet.B9(n.$W.parentElement),r.net=new WB(r.eet.xe,r.Wu,r.nt,r.Ql,r.Ma,r.mq),r}Ct(n,t);var i=n.prototype;return i.we=function(){t.prototype.we.call(this),this.eet.we()},i.be=function(){t.prototype.be.call(this),this.eet.be()},i.B9=function(t){this.TL.B9(t),this.Axt.B9(t)},i.Yx=function(){this.TL.Yx(),this.Axt.Yx()},i.Wx=function(){return this.TL.Wx()},i.Aa=function(){return this.KL},i.Qrt=function(n){var i=this.Hx(),r=this.Wx();t.prototype.Qrt.call(this,n),this.KL.BI=n.mq,this.Hx()!==i&&this.So(new RT),this.Wx()!==r&&this.So(new CT)},i.zg=function(){return this.KL.kn(),this.net.kn(),this.eet.kn(),t.prototype.zg.call(this)},Nt(n,[{key:"Nrt",get:function(){return this.TL}},{key:"yxt",get:function(){return this.Axt}},{key:"$W",get:function(){return this.TL.$W}},{key:"n5",get:function(){return this.TL.n5}},{key:"Vx",get:function(){return this.TL.Vx},set:function(t){this.TL.Vx=t}}]),n}(qW),jW=function(t){function n(){return t.apply(this,arguments)||this}Ct(n,t);var i=n.prototype;return i.Gq=function(n){if(n===ig.Bk){var i=t.prototype.Gq.call(this,n),r=t.prototype.Gq.call(this,n);return new GW(i,r)}return t.prototype.Gq.call(this,n)},i.Pq=function(n){var i=this,r=function(){return t.prototype.Pq};return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return V(n,GW)?[4,n.zg()]:[3,4];case 1:return t.sent(),[4,r().call(i,n.Nrt)];case 2:return t.sent(),[4,r().call(i,n.yxt)];case 3:return t.sent(),[3,6];case 4:return[4,r().call(i,n)];case 5:t.sent(),t.label=6;case 6:return[2]}})})()},n}(vO),QW=function(t){function n(n,i,r,e,s,u,o){var h,c=new IO(new jW(s)),a=c.Gq(u);return(h=t.call(this,n,i,r,e,a,o)||this).xq=void 0,h.xq=c,h}return Ct(n,t),n.prototype.kn=function(){var n=this;return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return[4,t.prototype.kn.call(n)];case 1:return i.sent(),[4,this.xq.Pq(this.TL)];case 2:return i.sent(),[2]}})}).call(this)},n.LS=function(t){var n;return!On.Ks&&!On.og&&!(t&&"google-dai"===(null==(n=t.ssai)?void 0:n.integration))},n}(EW);F(),Et(),Wt(),Dt(),Qt(),F(),Et(),Wt(),Dt(),Qt(),F(),Et(),Wt(),Dt(),Qt();var YW=function(t){function n(n){var i;return(i=t.call(this,n)||this).Nxt=!1,i.OPt=TA.iL(),i.YS=void 0,i.WA=0,i.Mxt=!1,i.ket=!1,i.ZPt=void 0,i.N4=TA.iL(),i.Lxt=void 0,i.grt(n),i.YS=n.Cd,i}Ct(n,t);var i=n.prototype;return i.mrt=function(t){return new VW(t)},i.CS=function(){return this.Nxt?this.YS:t.prototype.CS.call(this)},i.RP=function(){return this.Nxt?this.OPt:t.prototype.RP.call(this)},i.Nd=function(){return this.Nxt?this.WA:t.prototype.Nd.call(this)},i.C4=function(n){this.Nxt?(this.WA=n,this.Mxt=!0):t.prototype.C4.call(this,n)},i.Tx=function(){return this.Nxt?this.Lxt?this.Lxt.z3():this.N4:t.prototype.Tx.call(this)},i.M4=function(n,i,r,e){this.Nxt?this.Lxt=new rD(n,i,r,e):t.prototype.M4.call(this,n,i,r,e)},i._rt=function(){return this.Nxt?this.ket&&!1!==this.ZPt:t.prototype._rt.call(this)},i.C3=function(){this.Nxt?this.ZPt=!0:t.prototype.C3.call(this)},i.A3=function(){this.Nxt?this.ZPt=!1:t.prototype.A3.call(this)},i.TZ=function(n){return!this.Nxt&&t.prototype.TZ.call(this,n)},i.EZ=function(n){return this.Nxt?ut.reject(new p("Not supported")):t.prototype.EZ.call(this,n)},i.QPt=function(){return Vt(function(){var t;return zt(this,function(n){switch(n.label){case 0:if(this.Nxt)throw new p("Already locked");return this.Nxt=!0,this.KPt(),t=[],this.P4&&t.push(this.P4.QPt()),this.x4&&t.push(this.x4.QPt()),[4,ut.all(t)];case 1:return n.sent(),[2]}})}).call(this)},i.YPt=function(){this.Nxt=!1,this.P4&&this.P4.YPt(),this.x4&&this.x4.YPt(),this.JPt()},i.KPt=function(){this.YS=t.prototype.CS.call(this),this.OPt=t.prototype.RP.call(this),this.WA=t.prototype.Nd.call(this),this.N4=t.prototype.Tx.call(this),this.Mxt=!1,this.ZPt=void 0,this.Lxt=void 0},i.JPt=function(){if(this.Mxt&&(t.prototype.C4.call(this,this.WA),this.Mxt=!1),void 0!==this.Lxt){var n=this.Lxt;t.prototype.M4.call(this,n.Tn,n.An,n.G3,n.X3),this.Lxt=void 0}void 0!==this.ZPt&&(this.ZPt?t.prototype.C3.call(this):t.prototype.A3.call(this),this.ZPt=void 0)},n}(wO),KW=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Fxt=!1,n.Vxt=!1,n.Gxt=void 0,n.zxt=void 0,n.qxt=new hr,n}Ct(n,t);var i=n.prototype;return i.Gx=function(){return void 0!==this.iq&&XW(this.iq)&&this.UP&&this.My(0),t.prototype.Gx.call(this)},i.My=function(n,i,r){void 0!==this.iq&&XW(this.iq)&&this.UP&&n<this.ct&&this.Oxt(),t.prototype.My.call(this,n,i,r)},i.x9=function(){this.Fxt=!0,t.prototype.x9.call(this)},i.I9=function(){this.Fxt=!1,this.Uxt()||t.prototype.I9.call(this)},i.Uxt=function(){return this.Fxt||this.Vxt},i.Hxt=function(){this.Vxt||(this.Vxt=!0,t.prototype.x9.call(this))},i.Wxt=function(){this.Vxt&&(this.Vxt=!1,this.Uxt()||t.prototype.I9.call(this))},i.Un=function(t){this.qxt.Zg();var n=this.lE(t,this.zxt);return this.Gxt=n,n},i.lE=function(n,i){var r=this;return Vt(function(){return zt(this,function(e){switch(e.label){case 0:return i?[4,i.catch(di)]:[3,2];case 1:e.sent(),e.label=2;case 2:return this.Wxt(),[4,t.prototype.Un.call(r,n)];case 3:return[2,e.sent()]}})}).call(this)},i.Xrt=function(t){return new YW(t)},i.Grt=function(t){return new pO(t)},i.hr=function(){this.qxt.Zg();var t=this.MEt(this.zxt);return this.Gxt=t,t},i.MEt=function(n){var i=this;return Vt(function(){return zt(this,function(r){switch(r.label){case 0:return n?[4,n.catch(di)]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.Wxt(),[4,t.prototype.hr.call(i)];case 3:return[2,r.sent()]}})}).call(this)},i.C8=function(){this.qxt.Zg();var t=this.Xxt(this.zxt);return this.Gxt=t,t},i.Xxt=function(n){var i=this;return Vt(function(){return zt(this,function(r){switch(r.label){case 0:return n?[4,n.catch(di)]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.Wxt(),[4,t.prototype.C8.call(i)];case 3:return[2,r.sent()]}})}).call(this)},i.Oxt=function(){this.Hxt(),this.qxt.Zg(),this.qxt=new hr,this.zxt=_r(this.jxt(this.Gxt,this.zxt,this.qxt.Yg),this.qxt).catch(wr)},i.jxt=function(t,n,i){return Vt(function(){var r,e,s;return zt(this,function(u){switch(u.label){case 0:return t?[4,t.catch(di)]:[3,2];case 1:u.sent(),u.label=2;case 2:return n?[4,n.catch(di)]:[3,4];case 3:u.sent(),u.label=4;case 4:return dr(i),(r=this.iq)&&XW(r)?(e=r.Cd,[4,r.QPt()]):[2];case 5:return u.sent(),[4,this.TL.hr()];case 6:return u.sent(),[4,this.TL.Un(e)];case 7:return(s=u.sent()).C4(r.ct),r.grt(s),r.YPt(),this.Wxt(),[2]}})}).call(this)},i.zg=function(){var n=this;return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return this.qxt.Zg(),this.zxt?[4,this.zxt.catch(di)]:[3,2];case 1:i.sent(),this.zxt=void 0,i.label=2;case 2:return this.Uxt()&&t.prototype.I9.call(n),[4,t.prototype.zg.call(n)];case 3:return i.sent(),[2]}})}).call(this)},n}(AO),JW=function(t){function n(n){return t.call(this,n)||this}return Ct(n,t),n}(dO(KW)),ZW=function(t){function n(n){return t.call(this,n)||this}return Ct(n,t),n}(kO(KW)),$W=function(t){function n(){return t.apply(this,arguments)||this}Ct(n,t);var i=n.prototype;return i.Gq=function(n){return n===ig.Bk?new ZW(t.prototype.Gq.call(this,n)):n===ig.Dk?new JW(t.prototype.Gq.call(this,n)):void 0},i.Pq=function(n){var i=this;return Vt(function(){var r;return zt(this,function(e){switch(e.label){case 0:return[4,(r=n).zg()];case 1:return e.sent(),[4,t.prototype.Pq.call(i,r.Nrt)];case 2:return e.sent(),[2]}})})()},n.LS=function(){return On.cg},n}(vO),tz=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Kq=kb.mW,n}Ct(n,t);var i=n.prototype;return i.PR=function(t,n,i,r,e,s,u,o){var h;h=UW.LS(o)?UW:QW.LS(o)?QW:IW;var c=n;return $W.LS()&&(c=new $W(c)),new h(i,r,e,s,c,ig.Bk,t)},i.Qq=function(){return!0},n}(hO);XT(new tz),F(),Et(),F(),Et(),Dt(),Vb(function(t){return function(t){function n(){return t.apply(this,arguments)||this}return Ct(n,t),n.prototype.xa=function(){var n=this.zP.Ca;return xw(t.prototype.xa.call(this),{get hesp(){return n}})},n}(t)},Ub.lu),F(),Et(),Dt(),F(),Et(),Wt(),Dt(),Ut(),Qt(),F(),Et(),Wt(),Bt(),Dt(),Ut(),Qt(),F(),Et(),Wt(),Qt(),F(),Et(),Ut();var nz=0;function iz(t,n){if(void 0===n&&(n=!0),t){var i=t;return"/"===i.charAt(0)&&(i=i.substring(1)),n&&"/"!==i.charAt(i.length-1)&&(i+="/"),i}}function rz(t){var n,i,r;return Yu({},t,{baseUrl:iz(t.baseUrl),id:null!=(n=t.id)?n:String(nz++),timeBounds:Yu({},t.timeBounds,{scale:null!=(i=t.timeBounds.timescale)?i:1e3}),currentTime:t.currentTime?{value:t.currentTime.timestamp,scale:null!=(r=t.currentTime.timescale)?r:1e3}:void 0,audio:t.audio.map(cz),video:t.video.map(fz),metadata:t.metadata.map(dz),events:t.events.map(mz)})}var ez=0;function sz(t){var n,i=iz(t.initPattern,!1),r=iz(t.contPattern,!1);return Yu({},t,{id:null!=(n=t.id)?n:String(ez++),continuationPattern:r?Mo(r,"${segmentId}","{segmentId}"):void 0,initializationPattern:i?Mo(i,"${initId}","{initId}"):void 0})}function uz(t){var n,i=iz(t.initPattern,!1),r=iz(t.contPattern,!1);return Yu({},t,{continuationPattern:r?Mo(r,"${segmentId}","{segmentId}"):void 0,initializationPattern:i?Mo(i,"${initId}","{initId}"):void 0,segmentDuration:t.segmentDuration?{value:t.segmentDuration.duration,scale:t.segmentDuration.timescale}:void 0,segments:t.segments.map(oz),activeSegment:null==(n=Ui(t.segments,function(t){return t.active}))?void 0:n.id})}function oz(t){var n;return Yu({},t,{timeBounds:Yu({},t.timeBounds,{endTime:void 0!==t.timeBounds.duration?t.timeBounds.startTime+t.timeBounds.duration:void 0,scale:null!=(n=t.timeBounds.timescale)?n:1e3})})}function hz(t){return t&&"-"===t.charAt(0)}function cz(t){var n;try{var i;n=A(null!=(i=t.channels)?i:"2")}catch(t){n=2}return hz(t.contPattern)||hz(t.initPattern)?function(t,n){var i=t.initPattern,r=t.contPattern;return t.initPattern=void 0,t.contPattern=void 0,Yu({},sz(t),{baseUrl:iz(t.baseUrl),language:"eng",channels:n,sampleRate:t.samplerate,tracks:t.tracks.map(function(t){var n,e;return t.initPattern=null!=(n=t.initPattern)?n:i,t.contPattern=null!=(e=t.contPattern)?e:r,az(t)})})}(t,n):Yu({},sz(t),{baseUrl:iz(t.baseUrl),language:"eng",channels:n,sampleRate:t.samplerate,tracks:t.tracks.map(az)})}function az(t){var n;try{var i;n=A(null!=(i=t.channels)?i:"2")}catch(t){n=2}return hz(t.contPattern)||hz(t.initPattern)?function(t,n){return t.contPattern=t.baseUrl+t.contPattern,t.initPattern=t.baseUrl+t.initPattern,Yu({},uz(t),{baseUrl:"./",channels:n,sampleRate:t.samplerate})}(t,n):Yu({},uz(t),{baseUrl:iz(t.baseUrl),channels:n,sampleRate:t.samplerate})}function fz(t){return hz(t.contPattern)||hz(t.initPattern)?function(t){var n=t.initPattern,i=t.contPattern;return t.initPattern=void 0,t.contPattern=void 0,Yu({},sz(t),{baseUrl:iz(t.baseUrl),frameRate:t.framerate?{value:t.framerate.rate,scale:t.framerate.scale}:void 0,tracks:t.tracks.map(function(t){return t.initPattern=n,t.contPattern=i,vz(t)})})}(t):Yu({},sz(t),{baseUrl:iz(t.baseUrl),frameRate:t.framerate?{value:t.framerate.rate,scale:t.framerate.scale}:void 0,tracks:t.tracks.map(vz)})}function vz(t){var n,i;return hz(t.contPattern)||hz(t.initPattern)?function(t){var n,i;return t.contPattern=t.baseUrl+t.contPattern,t.initPattern=t.baseUrl+t.initPattern,Yu({},uz(t),{baseUrl:"./",frameRate:t.framerate?{value:t.framerate.rate,scale:t.framerate.scale}:void 0,resolution:Yu({},t.resolution,{sarWidth:null==(n=t.resolution.sar)?void 0:n.width,sarHeight:null==(i=t.resolution.sar)?void 0:i.height})})}(t):Yu({},uz(t),{baseUrl:iz(t.baseUrl),frameRate:t.framerate?{value:t.framerate.rate,scale:t.framerate.scale}:void 0,resolution:Yu({},t.resolution,{sarWidth:null==(n=t.resolution.sar)?void 0:n.width,sarHeight:null==(i=t.resolution.sar)?void 0:i.height})})}function dz(t){var n;return Yu({},t,{id:null!=(n=t.id)?n:String(ez++),schemeId:"",tracks:t.tracks.map(lz)})}function lz(t){return Yu({},t,{segments:t.segments.map(gz)})}var wz=0;function gz(t){return{id:wz++,timeBounds:Yu({},t.timeBounds,{scale:t.timeBounds.timescale})}}var _z=0;function mz(t){var n,i;return Yu({},t,{id:null!=(n=t.id)?n:String(_z++),timeBounds:Yu({},t.timestamp,{scale:null!=(i=t.timestamp.timescale)?i:1e3})})}var yz=function(){function t(t){this.SP=void 0,this.SP=t}return t.prototype.Qxt=function(t,n){return Vt(function(){var i,r,e;return zt(this,function(s){switch(s.label){case 0:return i={Yu:t,Km:gl.wk,Yg:n},[4,this.SP.lk(i)];case 1:return[4,s.sent().FT(n)];case 2:return r=s.sent(),function(t){var n,i,r=t;if(qn(r.manifestVersion)&&Lo(r.manifestVersion,"alpha"))return!0;for(var e,s=Lt(r.presentations);!(e=s()).done;){for(var u,o=e.value,h=Lt([].concat(o.video,o.audio));!(u=h()).done;){var c=u.value;if(c.tracks.length>0){n=c.tracks[0],i=c;break}}if(Un(n))break}return(qn(null==i?void 0:i.initPattern)||qn(null==n?void 0:n.initPattern))&&!qn(null==n?void 0:n.initializationPattern)&&!qn(null==i?void 0:i.initializationPattern)}(e=r)&&(e=function(t){return Yu({},t,{availabilityDuration:{value:t.dvrDuration?t.dvrDuration.duration/t.dvrDuration.timescale:0},manifestVersion:"1.0.0",presentations:t.presentations.map(rz),contentBaseUrl:t.contentBaseUrl||"./"})}(e)),[2,e]}})}).call(this)},t}();F(),Et(),Bt(),Dt();var pz=function(t){function n(n){var i;return(i=t.call(this)||this).hu=void 0,i.Kxt=void 0,i.Kxt=n,i}Ct(n,t);var i=n.prototype;return i.oR=function(){return this.Kxt.oR()},i.wn=function(t,n){this.Kxt.wn(t,n)},i.mn=function(t,n){this.Kxt.mn(t,n)},Nt(n,[{key:"Ca",get:function(){return this.hu||(this.hu=tA(this)),this.hu}},{key:"eR",get:function(){return this.Kxt.eR}},{key:"sR",get:function(){return this.Kxt.sR}},{key:"nR",get:function(){return this.Kxt.nR}},{key:"rR",get:function(){return this.Kxt.rR}},{key:"hR",get:function(){return this.Kxt.hR}}]),n}(th);F(),Et(),Bt(),Ut(),F(),Et(),Bt(),F(),Et(),Bt();var kz=function(){function t(t){this.Yxt=void 0,this.Zxt=0,this.Jxt=0,this.Yxt=b.exp(b.log(.5)/t)}var n=t.prototype;return n.Pat=function(t,n){var i=b.pow(this.Yxt,t),r=n*(1-i)+i*this.Zxt;S(r)||(this.Zxt=r,this.Jxt+=t)},n.EZ=function(t){var n=b.exp(b.log(.5)/t);if(n!==this.Yxt)if(0!==this.Jxt){var i=this.yet,r=1-b.pow(n,this.Jxt);this.Zxt=i*r,this.Yxt=n}else this.Yxt=n},Nt(t,[{key:"yet",get:function(){var t=1-b.pow(this.Yxt,this.Jxt);return this.Zxt/t}}]),t}(),bz=function(){function t(n,i,r,e){void 0===n&&(n=t.cIt),void 0===i&&(i=t.dIt),void 0===r&&(r=t.Mat),void 0===e&&(e=!1),this.$xt=void 0,this.tIt=void 0,this.rIt=0,this.hIt=[],this.sIt=void 0,this.nIt=6e4,this.oIt=10,this.aIt=void 0,this.uIt=void 0,this.iIt=void 0,this.eIt=void 0,this.aIt=n,this.uIt=i,this.iIt=r,this.eIt=e,this.$xt=new kz(n),this.tIt=new kz(i)}var n=t.prototype;return n.Pat=function(t){var n=Vn.Mg(),i=t;this.eIt&&void 0!==this.sIt&&n-this.sIt>=this.nIt&&this.hr(),this.rIt+=1,this.$xt.Pat(1,i),this.tIt.Pat(1,i),this.hIt.push(i),this.hIt.length>this.oIt&&this.hIt.shift(),this.sIt=n},n.Nat=function(){return void 0!==this.sIt&&Vn.Mg()-this.sIt<=this.nIt},n.hr=function(){this.$xt=new kz(this.aIt),this.tIt=new kz(this.uIt),this.rIt=0,this.hIt=[],this.sIt=void 0},Nt(t,[{key:"yet",get:function(){return this.Nat()?b.max(this.$xt.yet,this.tIt.yet):this.iIt}}]),t}();bz.cIt=2,bz.dIt=5,bz.Mat=.1,F(),Et(),Ut();var Az=function(){function t(t){this.lIt=void 0,this.lIt=t}var n=t.prototype;return n.PY=function(t){for(var n,i=Lt(this.lIt);!(n=i()).done;){n.value.PY(t)}},n.xY=function(t){for(var n,i=Lt(this.lIt);!(n=i()).done;){n.value.xY(t)}},n.IY=function(t,n){for(var i,r=Lt(this.lIt);!(i=r()).done;){i.value.IY(t,n)}},n.RY=function(t){for(var n,i=Lt(this.lIt);!(n=i()).done;){n.value.RY(t)}},t}();F(),Et();var Tz=function(){function t(t){this.vIt=void 0,this.fIt=0,this.vIt=t}var n=t.prototype;return n.PY=function(t){this.fIt=t},n.xY=function(t){this.vIt.Pat(t-this.fIt)},n.IY=function(t){},n.RY=function(t){},t}();F(),Et();var Sz=function(){function t(t){this.Fat=void 0,this._It=0,this.Fat=t}var n=t.prototype;return n.xY=function(t){this._It=t},n.IY=function(t,n){this.Fat.Pat(t-this._It,n.byteLength),this._It=t},n.RY=function(t){},n.PY=function(t){},t}();F(),Et(),Dt();var Ez=function(){function t(t,n){void 0===n&&(n=0),this.Fat=void 0,this.wIt=void 0,this.pIt=new Iz,this.En=0,this.gIt=0,this.Fat=t,this.wIt=n}var n=t.prototype;return n.PY=function(t){},n.IY=function(t,n){var i=n.byteLength,r=this.gIt;this.gIt=i;var e=t-this.En;this.En=t,this.pIt.A$(n);var s=!this.pIt.mIt(),u=i>=this.wIt;r!==Vn.Zs.Sp&&s&&u&&this.Fat.Pat(e,i)},n.xY=function(t){this.En=t},n.RY=function(t){},t}(),Iz=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).AIt=void 0,n.yIt=!1,n}Ct(n,t);var i=n.prototype;return i.mIt=function(){return this.yIt},i.A$=function(n){this.yIt=!1,t.prototype.A$.call(this,n)},i.w$=function(n,i){this.AIt&&this.AIt!==um.OC||(this.yIt=!0),t.prototype.w$.call(this,n,i),this.AIt=n},i.C$=function(t){return!1},i.B$=function(t){},i.M$=function(t){},n}($R);F(),Et(),Dt();var Rz=function(t){return t.bIt="sample",t}({}),Cz=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).SIt=0,n}return Ct(n,t),n.prototype.cW=function(){if(this.Nat()){var t=Vn.Mg();t-this.SIt>1e3&&(this.SIt=t,pb.Ng.cW(this.yet))}},n}(th);F(),Et(),Bt(),Dt();var Dz=function(t){function n(n){var i;return(i=t.call(this)||this).TIt=void 0,i.wb=[],i.Zxt=void 0,i.EIt=0,i.TIt=n,i.Zxt=n,i}Ct(n,t);var i=n.prototype;return i.Nat=function(){return this.wb.length>=3},i.Pat=function(t,n){if(0!==t){var i={kW:8*n/t,kIt:n};if(this.wb.push(i),this.EIt+=i.kIt,this.wb.length>30){var r=this.wb.shift();this.EIt-=r.kIt}for(var e=this.wb.slice().sort(function(t,n){return t.kW-n.kW}),s=0,u=0;u<e.length;u++){var o=e[u];if(s+=o.kIt/this.EIt,this.Zxt=o.kW,s>=.5)break}this.cW(),this.So(new rh(Rz.bIt))}},Nt(n,[{key:"yet",get:function(){return this.Nat()?this.Zxt:this.TIt}}]),n}(Cz);F(),Et(),Bt(),Dt();var Pz=function(t){function n(i,r,e,s){var u;return void 0===i&&(i=n.cIt),void 0===r&&(r=n.dIt),void 0===e&&(e=n.IIt),void 0===s&&(s=n.Mat),(u=t.call(this)||this).$xt=void 0,u.tIt=void 0,u.PIt=0,u.iIt=void 0,u.xIt=void 0,u.xIt=e,u.$xt=new kz(i),u.tIt=new kz(r),u.iIt=s,u}Ct(n,t);var i=n.prototype;return i.Pat=function(t,n){var i=8*n/t;this.$xt.Pat(t,i),this.tIt.Pat(t,i),this.PIt+=n,this.cW(),this.So(new rh(Rz.bIt))},i.Nat=function(){return this.PIt>=this.xIt},Nt(n,[{key:"yet",get:function(){return this.Nat()?b.min(this.$xt.yet,this.tIt.yet):this.iIt}}]),n}(Cz);Pz.IIt=128e3,Pz.Mat=yb,Pz.cIt=.5,Pz.dIt=5;var Nz=function(){function t(t,n){var i=this;this.Fat=void 0,this.BIt=[],this.LIt=void 0,this.MIt=void 0,this.CIt=function(){for(var t,n=Lt(i.BIt);!(t=n()).done;){(0,t.value)()}},this.MIt=t>0?t:Pz.Mat,this.LIt=new bz(bz.cIt,bz.dIt,n>0?n:bz.Mat),this.RIt(this.MIt)}var n=t.prototype;return n.RIt=function(t){var n;null==(n=this.Fat)||n.mn(Rz.bIt,this.CIt),this.Fat=new Dz(t),this.Fat.wn(Rz.bIt,this.CIt)},n.DIt=function(t){this.BIt.push(t)},n.NIt=function(t){Xi(this.BIt,t)},n.PW=function(t){if("segment"===t.Km&&"video"===t.qk){var n=[new Tz(this.LIt)];return this.Fat&&("stream"===t.dk&&"initialization-segment"!==t.Wk?n.push(new Ez(this.Fat,1e3)):n.push(new Sz(this.Fat))),new Az(n)}},Nt(t,[{key:"kW",get:function(){var t,n;return null!=(n=null==(t=this.Fat)?void 0:t.yet)?n:this.MIt}},{key:"EW",get:function(){return this.LIt.yet}}]),t}();F(),Et(),Bt();var Bz=function(){function t(){this.FIt=void 0,this.VIt=void 0,this.zIt=void 0,this.WIt=void 0}var n=t.prototype;return n.OIt=function(t,n){var i=n-t;(!this.FIt||i<this.FIt)&&(this.FIt=i)},n.UIt=function(t,n){this.VIt=n-t},n.HIt=function(t,n){this.WIt=n-t},n.qIt=function(t,n){this.zIt=n-t},n.XIt=function(t){var n=this.GIt;if(void 0!==n)return n-t},n.hr=function(){this.FIt=void 0,this.VIt=void 0,this.zIt=void 0,this.WIt=void 0},Nt(t,[{key:"GIt",get:function(){var t=Zi([this.WIt,this.zIt].filter(Un),li);return void 0!==t?Vn.Mg()/1e3+t:void 0!==this.VIt?Vn.Mg()/1e3+this.VIt:void 0!==this.FIt?Vn.Mg()/1e3+this.FIt:void 0}}]),t}();F(),Et();var xz=.25,Oz={minimumOffset:.2,targetOffset:.45,maximumOffset:.7,forceSeekOffset:3,minimumPlaybackRate:IA,maximumPlaybackRate:RA},Mz={minimumOffset:.4,targetOffset:.65,maximumOffset:1,forceSeekOffset:3,minimumPlaybackRate:IA,maximumPlaybackRate:RA},Lz={minimumOffset:.4,targetOffset:.7,maximumOffset:.9,forceSeekOffset:3,minimumPlaybackRate:IA,maximumPlaybackRate:RA},Uz={minimumOffset:.2,targetOffset:.45,maximumOffset:1,forceSeekOffset:3,minimumPlaybackRate:IA,maximumPlaybackRate:RA},Fz={minimumOffset:.5,targetOffset:1.125,maximumOffset:1.75,forceSeekOffset:2.55,minimumPlaybackRate:IA,maximumPlaybackRate:RA};function Vz(t){if(Vn.Cm.Bm){var n=b.max(.65,t.minimumOffset),i=b.max(n+xz,t.targetOffset),r=b.max(i+xz,t.maximumOffset);return{minimumOffset:n,targetOffset:i,maximumOffset:r,forceSeekOffset:b.max(r+xz,t.forceSeekOffset),minimumPlaybackRate:IA,maximumPlaybackRate:RA}}return t}function Hz(){var t;return t=Vn.Zs.pp?Uz:Vn.Zs.bp?Mz:Vn.Zs.Ap?"Android"===Vn.Cm.Dm?Lz:Oz:Fz,Vn.Cm.Bm?Vz(t):t}F(),Et(),Wt(),Bt(),Dt(),Ut(),Qt(),F(),Et(),Wt(),Bt(),Dt(),Ut(),Qt(),F(),Et(),Ut();var Wz=function(){function t(){this.OPt=[]}var n=t.prototype;return n.jIt=function(t){for(var n,i=Lt(this.OPt);!(n=i()).done;){var r=n.value;r[1]=r[1].Mn(t)}},n.QIt=function(t,n){for(var i,r=!0,e=Lt(this.OPt);!(i=e()).done;){var s=i.value,u=s[1];u=u.UM(n),t===s[0]&&(u=u.OM(n),r=!1),s[1]=u.LM(1e-5)}r&&this.OPt.push([t,n])},n.KIt=function(t){for(var n,i=Lt(this.OPt);!(n=i()).done;){var r=n.value;r[1]=r[1].UM(t)}},n.YIt=function(t){for(var n=0;n<this.OPt.length;n++)if(this.OPt[n][1].Cr(t))return this.OPt[n][0]},t}(),zz=function(t){function n(n,i,r,e){var s;return(s=t.call(this)||this).Trt=void 0,s.ZIt=void 0,s.TL=void 0,s.JIt=[],s.vyt=void 0,s.rRt=void 0,s.tRt=void 0,s.T3=new hr,s.TL=i,s.Trt=n,s.vyt=r,s.rRt=e,s.ZIt=new Wz,s.Trt.wn(LR.lZ,s.Rs),s}Ct(n,t);var i=n.prototype;return i.YIt=function(t){return this.ZIt.YIt(t)},i.appendStream=function(t,n,i){return Vt(function(){var r,e,s,u,o,h,c,a,f,v,d,l,w,g;return zt(this,function(_){switch(_.label){case 0:if(this.$It)throw new y("Concurrent appends are not supported.");_.label=1;case 1:_.trys.push([1,10,11,12]),r={stack:[],error:void 0,hasError:!1},_.label=2;case 2:_.trys.push([2,7,8,9]),e=qt(r,hr.ep([i,this.T3.Yg]),!1),s=e.Yg,this.ZIt.jIt(this.IP),this.tRt=new Vc,u=KR(t),o=u.getReader(),_.label=3;case 3:return[4,gr(o.read(),s)];case 4:return(h=_.sent()).done?[3,6]:(c=h.value,a={Km:FR.vZ,ck:Nc(c.map(function(t){return t.$at}))},f={ct:Pi(c,function(t){return t.ct}),xet:c[0].Rvt,bU:-n.kot.eRt},[4,this.q2(a,f,s)]);case 5:return _.sent(),v=f.xet+f.bU,d=v+f.ct,this.ZIt.QIt(n.kot,TA.tL(v,d)),[3,3];case 6:return[3,9];case 7:return l=_.sent(),r.error=l,r.hasError=!0,[3,9];case 8:return Gt(r),[7];case 9:return[3,12];case 10:throw w=_.sent(),n.sRt(),w;case 11:return n.nRt(),g=this.tRt,this.tRt=void 0,null==g||g.Xy(),[7];case 12:return[2]}})}).call(this)},i.H2=function(t,n,i,r){return Vt(function(){var e,s,u,o,h,c,a;return zt(this,function(f){switch(f.label){case 0:if(this.$It)throw new y("Concurrent appends are not supported.");f.label=1;case 1:f.trys.push([1,,7,8]),e={stack:[],error:void 0,hasError:!1},f.label=2;case 2:return f.trys.push([2,4,5,6]),s=qt(e,hr.ep([r,this.T3.Yg]),!1),u=s.Yg,this.tRt=new Vc,[4,this.q2(t,n,u)];case 3:return f.sent(),o=n.xet+n.bU,h=o+n.ct,this.ZIt.jIt(this.IP),this.ZIt.QIt(i,TA.tL(o,h)),[3,6];case 4:return c=f.sent(),e.error=c,e.hasError=!0,[3,6];case 5:return Gt(e),[7];case 6:return[3,8];case 7:return a=this.tRt,this.tRt=void 0,null==a||a.Xy(),[7];case 8:return[2]}})}).call(this)},i.q2=function(t,n,i){return Vt(function(){var r,e,s;return zt(this,function(u){switch(u.label){case 0:return this.Trt.B3===ig.Bk&&this.rRt.Odt(t.ck,n.xet,n.xet+n.ct,n.bU,this.vyt,!1),r=this.TL.CL.RL,e=this.Trt.IP.Cr(this.TL.MP),r||e?[4,this.hRt(i)]:[3,3];case 1:return u.sent(),[4,this.Trt.H2(t,n,i)];case 2:case 4:return[2,u.sent()];case 3:return this.JIt.push([t,n]),s=this.JIt[0][1].xet,this.JIt[this.JIt.length-1][1].xet-s>=.4?[4,this.hRt(i)]:[3,5];case 5:return[2]}})}).call(this)},i.z2=function(t,n){return Vt(function(){var i,r,e,s,u;return zt(this,function(o){switch(o.label){case 0:if(this.$It)throw new y("Concurrent appends are not supported.");o.label=1;case 1:o.trys.push([1,,8,9]),i={stack:[],error:void 0,hasError:!1},o.label=2;case 2:return o.trys.push([2,5,6,7]),r=qt(i,hr.ep([n,this.T3.Yg]),!1),e=r.Yg,this.tRt=new Vc,[4,this.hRt(e)];case 3:return o.sent(),[4,this.Trt.z2(t,{},e)];case 4:return o.sent(),this.Trt.B3===ig.Bk&&this.rRt.Jrt(t.ck),[3,7];case 5:return s=o.sent(),i.error=s,i.hasError=!0,[3,7];case 6:return Gt(i),[7];case 7:return[3,9];case 8:return u=this.tRt,this.tRt=void 0,null==u||u.Xy(),[7];case 9:return[2]}})}).call(this)},i._S=function(t,n,i){return Vt(function(){var r,e,s,u,o;return zt(this,function(h){switch(h.label){case 0:if(this.$It)throw new y("Concurrent appends are not supported.");h.label=1;case 1:h.trys.push([1,,8,9]),r={stack:[],error:void 0,hasError:!1},h.label=2;case 2:return h.trys.push([2,5,6,7]),e=qt(r,hr.ep([i,this.T3.Yg]),!1),s=e.Yg,this.tRt=new Vc,[4,this.hRt(s)];case 3:return h.sent(),[4,this.Trt._S(t,n,s)];case 4:return h.sent(),this.ZIt.KIt(TA.tL(t,n)),[3,7];case 5:return u=h.sent(),r.error=u,r.hasError=!0,[3,7];case 6:return Gt(r),[7];case 7:return[3,9];case 8:return o=this.tRt,this.tRt=void 0,null==o||o.Xy(),[7];case 9:return[2]}})}).call(this)},i.AQ=function(t){return Vt(function(){var n,i,r,e,s;return zt(this,function(u){switch(u.label){case 0:if(this.$It)throw new y("Concurrent appends are not supported.");u.label=1;case 1:u.trys.push([1,,7,8]),n={stack:[],error:void 0,hasError:!1},u.label=2;case 2:return u.trys.push([2,4,5,6]),i=qt(n,hr.ep([t,this.T3.Yg]),!1),r=i.Yg,this.tRt=new Vc,[4,this.hRt(r)];case 3:return u.sent(),[3,6];case 4:return e=u.sent(),n.error=e,n.hasError=!0,[3,6];case 5:return Gt(n),[7];case 6:return[3,8];case 7:return s=this.tRt,this.tRt=void 0,null==s||s.Xy(),[7];case 8:return[2]}})}).call(this)},i.hRt=function(t){return Vt(function(){var n,i,r,e,s;return zt(this,function(u){switch(u.label){case 0:n=Lt(this.JIt),u.label=1;case 1:return(i=n()).done?[3,4]:(r=i.value,e=r[0],s=r[1],[4,this.Trt.H2(e,s,t)]);case 2:u.sent(),u.label=3;case 3:return[3,1];case 4:return Yi(this.JIt),[2]}})}).call(this)},i.zg=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:this.T3.zg(),t.label=1;case 1:return this.$It?[4,this.iRt]:[3,3];case 2:return t.sent(),[3,1];case 3:return[2]}})}).call(this)},Nt(n,[{key:"IP",get:function(){for(var t,n=TA.iL(),i=Lt(this.JIt);!(t=i()).done;){var r=t.value[1],e=r.xet+r.bU,s=e+r.ct;n=n.OM(TA.tL(e,s))}return this.Trt.IP.OM(n)}},{key:"$It",get:function(){return void 0!==this.tRt}},{key:"iRt",get:function(){return this.tRt?this.tRt.Qy:ut.resolve()}}]),n}(th);F(),Et(),Wt(),Bt(),Dt(),Qt(),F(),Et(),Wt(),Qt();var Xz=function(){function t(t){this.aRt=0,this.uRt=void 0,this.uRt=t}var n=t.prototype;return n.oRt=function(t,n){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:if(this.aRt>=this.uRt.maxRetries)throw t;return[4,Ar(this.cRt(this.aRt++),n)];case 1:return i.sent(),[2]}})}).call(this)},n.cRt=function(t){var n=0;return 0!==t&&(n+=b.min(this.uRt.maximumBackoff,this.uRt.minimumBackoff*b.pow(2,t-1))),n},t}();F(),Et(),Dt(),F(),Et(),Dt();var qz=function(t){return t.dRt="emsgdata",t}({}),Gz=function(t){function n(n,i){var r;return(r=t.call(this,"emsgdata")||this).value=void 0,r.data=void 0,r.value=n,r.data=i,r}return Ct(n,t),n}(rh);F(),Et();var jz=function(){function t(){this.YJ=void 0}var n=t.prototype;return n.start=function(t){this.YJ=t},n.lRt=function(t){this.YJ.enqueue(t)},t}();F(),Et(),F(),Et();var Qz=function(t){return t.fRt="initdata",t.MANIFEST_UPDATE="manifestupdate",t.vRt="timestamps:v1",t}({});function Yz(t){if("urn:theo:hesp:2020"===t.$N){var n=t.zE;if(n===Qz.fRt)return function(t){if(t&&zn(t)){var n=t;if(Yn(n.index)&&Yn(n.offset)&&!(n.index<0&&n.offset<0))return{Km:"initdata",index:n.index,offset:n.offset}}}(JSON.parse(fc(_c(t.eM),new Tc)));if(n===Qz.MANIFEST_UPDATE)return function(t){if(t&&zn(t)){var n=t;if(!Un(n.url)||qn(n.url))return{Km:"manifestupdate",url:n.url}}}(JSON.parse(fc(_c(t.eM),new Tc)));if(n===Qz.vRt){var i,r=_c(t.eM),e=new Tc,s=jh(r,e).toNumber()/t.qD,u=jh(r,e).toNumber()/1e3,o=qh(r,e)/1e3;return e.ac+8<=r.byteLength&&(i={hours:qh(r,e),minutes:Wh(r,e),seconds:Wh(r,e),frames:zh(r,e)}),{Km:Qz.vRt,_Rt:s,gRt:u,pRt:o,mRt:i}}}}var Kz=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).wRt=new th,n}Ct(n,t);var i=n.prototype;return i.transform=function(t){if(t.Km===um.VC)try{var n=Yz(ym.LD(t.ck));n&&this.wRt.So(new Gz(n.Km,n))}catch(t){false}this.lRt(t)},i.zg=function(){this.wRt.Vo()},n}(jz);F(),Et(),Dt();var Jz=function(){function t(){this.yRt=void 0}var n=t.prototype;return n.start=function(t){this.yRt=new Zz(t)},n.transform=function(t){this.yRt.A$(t)},n.flush=function(){this.yRt.S$()},t}(),Zz=function(t){function n(n){var i;return(i=t.call(this)||this).YJ=void 0,i.YJ=n,i}Ct(n,t);var i=n.prototype;return i.C$=function(t){return!0},i.B$=function(t){this.YJ.enqueue(t)},i.M$=function(t){},n}($R);F(),Et(),Wt(),Dt(),Qt(),F(),Et();var $z=ue.fromNumber(bi);var tX=function(t){function n(n,i){var r;return(r=t.call(this)||this).nV=void 0,r.ARt=void 0,r.nV=n,r.ARt=i,r}return Ct(n,t),n.prototype.lk=function(t){return Vt(function(){var n;return zt(this,function(i){switch(i.label){case 0:0,i.label=1;case 1:return i.trys.push([1,3,,5]),[4,this.nV.lk(t)];case 2:return[2,i.sent()];case 3:if(vr(n=i.sent()))throw n;return[4,this.ARt.oRt(n,t.Yg)];case 4:return i.sent(),[3,5];case 5:return[3,0];case 6:return[2]}})}).call(this)},n}(th);function nX(t,n,i,r,e,s,u,o){var h=new Ld;return e&&h.OT(function(t,n){return void 0===n&&(n=$z),new Ld({Range:"bytes="+t.toString()+"-"+n.toString()})}(e.start,e.end)),{Yu:t,fk:h,zk:!1,Yg:o,Km:gl.yk,Wk:i,qk:r,Vk:s,Hk:u,dk:n,jk:n===Md.BT}}F(),Et(),Dt(),F(),Et();var iX=function(t){return t[t.INITIALIZER=0]="INITIALIZER",t[t.FRAMES=1]="FRAMES",t}({}),rX=function(t){function n(n,i){var r;return(r=t.call(this)||this).SQ=void 0,r.Tat=void 0,r.HA=void 0,r.bRt=[],r.SQ=n,r.Tat=r.SQ.match(/video/)?KB.Bk:KB.Dk,r.HA=i,r}Ct(n,t);var i=n.prototype;return i.transform=function(t){this.bRt.push(t),t.Km===um.OC&&this.SRt(this.bRt.splice(0),iX.FRAMES)},i.SRt=function(t,n){var i={qD:this.HA,oQ:this.SQ},r=Nc(t.map(function(t){return mc(t.ck.ck)})),e=Ui(t,eX),s=ym.TD(e.ck.ck)[0],u={qk:this.Tat,Ey:i,$at:r,Km:n,ct:this.Nd(s)/this.HA,Rvt:le(this.TRt(s),this.HA)};this.lRt(u)},i.Nd=function(t){var n,i=t.Z[0];if(!i||0===i.zN.length)return 0;var r=null!=(n=i.gD.NN)?n:0;return Pi(i.zN[0].JN,function(t){var n;return null!=(n=t.ct)?n:r})},i.TRt=function(t){var n,i;return null!=(i=null==(n=t.Z[0].GN)?void 0:n.GN)?i:ue.UZERO},n}(jz);function eX(t){return t.Km===um.IC}F(),Et();var sX=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).kRt=void 0,e.ORt=void 0,e.nV=void 0,e.ARt=void 0,e.Tat=void 0,e.WRt=void 0,e.xRt="now",e.IRt=void 0,e.RRt=void 0,e.HA=void 0,e.LRt=new hr,e.tRt=void 0,e.kRt=n,e.ARt=new Xz(r),e.WRt=new Kz,e.WRt.wRt.wn(qz.dRt,e.Rs),e.nV=i,e.Tat=function(t){switch(t){case KB.Dk:return ml.Dk;case KB.Bk:return ml.Bk;default:return ml.pk}}(n.Km),e.ORt=new tX(e.nV,e.ARt),e}Ct(n,t);var i=n.prototype;return i.Cct=function(t){return t+1},i.My=function(t){this.xRt=t,this.IRt=void 0,this.RRt=void 0},i.CRt=function(){return void 0!==this.IRt},i.DRt=function(){return Vt(function(){var t,n,i,r,e,s,u,o,h,c,a,f,v,d;return zt(this,function(l){switch(l.label){case 0:if(this.$It)throw new y("Concurrent downloads are not supported.");l.label=1;case 1:return l.trys.push([1,,4,5]),this.tRt=new Vc,"now"===this.xRt?t=Vn.xm(this.kRt.BRt("now"),this.kRt.NRt):(n=this.xRt,i=0===n?1:this.kRt.MRt(n),t=Vn.xm(this.kRt.BRt(i),this.kRt.NRt)),r=nX(t,Md.CT,_l.Sk,this.Tat,void 0,3e3,1e3,this.LRt.Yg),[4,this.ORt.lk(r)];case 2:return[4,l.sent().HT(this.LRt.Yg)];case 3:return e=l.sent(),s=new E(e),u=function(t){var n=lm.aD(new am(_c(t),new Tc)),i=Ui(n,function(t){return t.Km===um.WC||t.Km===um.IC});if(void 0===i)return{FRt:t,KD:void 0};var r=wc(t,0,i.ac),e=wc(t,i.ac);return{FRt:r,KD:0===e.byteLength?void 0:e}}(s),o=u.FRt,h=u.KD,c=ym.TD(_c(s)),this.HA=function(t){var n=Ui(t,function(t){return t.Km===um.OR});return n.Z[0].KD.gD.qD}(c),a=function(t){var n=t.filter(function(t){return t.Km===um.VC}),i=n.map(function(t){return Yz(t)}),r=Ui(i,function(t){return(null==t?void 0:t.Km)===Qz.fRt});if(!r)throw new y("No init data in init response");return r}(c),this.IRt=a.index,this.RRt=a.offset,h&&(v=ym.TD(_c(s)),f=function(t,n,i){var r,e,s,u=Ui(t,function(t){return t.Km===um.IC}),o=le(null!=(e=null==(r=u.Z[0].GN)?void 0:r.GN)?e:ue.UZERO,i),h=u.Z[0],c=null!=(s=h.gD.NN)?s:0,a=h.zN[0],f=Pi(a.JN,function(t){var n;return null!=(n=t.ct)?n:c})/i;return{xet:o,ct:f,bU:n}}(v,-this.kot.eRt,this.HA)),[2,{initialization:o,data:h,metadata:f}];case 4:return d=this.tRt,this.tRt=void 0,null==d||d.Xy(),[7];case 5:return[2]}})}).call(this)},i.URt=function(){if(this.$It)throw new y("Concurrent downloads are not supported.");this.tRt=new Vc;var t=void 0!==this.RRt?ue.fromNumber(this.RRt):void 0;return Kd(this.VRt(this.IRt,t,this.LRt.Yg)).pipeThrough(new qd(new rX(this.kot.oQ,this.HA))).pipeThrough(new qd(new uX(this.LRt.Yg)))},i.VRt=function(t,n,i){return Vt(function(){var r;return zt(this,function(e){switch(e.label){case 0:return r=this.HRt(t,n,i),[4,this.ORt.lk(r)];case 1:return[2,e.sent().WT().pipeThrough(new qd(new Jz)).pipeThrough(new qd(this.WRt))]}})}).call(this)},i.HRt=function(t,n,i){var r=this.kRt.qRt(t),e=void 0!==n?{start:n,end:void 0}:void 0;return nX(Vn.xm(r,this.kRt.NRt),Md.BT,_l.pk,this.Tat,e,25e3,1e3,i)},i.sRt=function(){this.IRt=void 0,this.RRt=void 0},i.nRt=function(){void 0!==this.IRt&&(this.IRt=this.Cct(this.IRt)),this.RRt=void 0;var t=this.tRt;this.tRt=void 0,null==t||t.Xy()},i.cancelDownload=function(){var t;this.LRt.Zg(),this.LRt=new hr,this.tRt=null!=(t=this.tRt)?t:new Vc,this.sRt();var n=this.tRt;this.tRt=void 0,null==n||n.Xy()},i.zg=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.Vo(),this.WRt.zg(),this.LRt.Zg(),[4,this.iRt];case 1:return t.sent(),this.IRt=void 0,this.RRt=void 0,[2]}})}).call(this)},Nt(n,[{key:"kot",get:function(){return this.kRt}},{key:"ERt",get:function(){return!1}},{key:"PRt",get:function(){return this.xRt}},{key:"$It",get:function(){return void 0!==this.tRt}},{key:"iRt",get:function(){return this.tRt?this.tRt.Qy:ut.resolve()}}]),n}(th);var uX=function(){function t(t){var n=this;this.YJ=void 0,this.Jg=void 0,this.zRt=function(){n.YJ.error(new fr)},this.Jg=t}var n=t.prototype;return n.start=function(t){this.YJ=t,this.Jg.Xg(this.zRt)},n.flush=function(){this.Jg.jg(this.zRt)},t}();function oX(t){var n;return t.value/(null!=(n=t.scale)?n:1)}F(),Et(),Bt(),Ut(),F(),Et(),Bt(),Ut(),F(),Et(),Bt(),Dt(),Ut(),F(),Et(),Bt(),Dt(),F(),Et();var hX="{initId}",cX=/{initId(?::0(?:\d+)d)?}/,aX=/{segmentId(?::0(?:\d+)d)?}/,fX=function(){function t(t,n,i){var r,e,s,u;this.FO=void 0,this.rCt=void 0,this.hS=void 0,this.dW=void 0,this.GRt=void 0,this.YRt=void 0,this.ZRt=void 0,this.tCt=void 0,this.eCt=void 0,this.pO=void 0,this.sCt=void 0,this.nAt=void 0,this.jRt=void 0,this.KRt=void 0,this.fAt=[],this.FO=t,this.rCt=i,this.hS=t.id,this.dW=t.bandwidth,this.GRt=t.averageBandwidth,this.YRt=null!=(r=t.baseUrl)?r:"",this.ZRt=null!=(e=t.codecs)?e:n.codecs,this.tCt=null!=(s=t.continuationPattern)?s:n.continuationPattern,this.eCt=null!=(u=t.initializationPattern)?u:n.initializationPattern,this.pO=t.label,this.sCt=t.mediaTimeOffset?oX(t.mediaTimeOffset):0,this.nAt=t.segmentDuration?oX(t.segmentDuration):0,this.er(t)}return t.prototype.er=function(t){this.jRt=t.activeSegment,this.KRt=t.activeSequenceNumber,this.fAt=t.segments},Nt(t,[{key:"o",get:function(){return this.hS}},{key:"kW",get:function(){return this.dW}},{key:"tyt",get:function(){return this.GRt}},{key:"ect",get:function(){return this.fAt}},{key:"XRt",get:function(){return this.jRt}},{key:"QRt",get:function(){return this.KRt}},{key:"NRt",get:function(){return Vn.xm(this.YRt,this.JRt.NRt)}},{key:"frt",get:function(){return this.ZRt}},{key:"Th",get:function(){return this.pO}},{key:"$Rt",get:function(){return this.tCt}},{key:"iCt",get:function(){return this.eCt}},{key:"eRt",get:function(){return this.sCt}},{key:"nCt",get:function(){return this.nAt}}]),t}(),vX=function(t){function n(n,i,r){var e,s,u,o,h;return(e=t.call(this,n,i,r)||this).oCt=void 0,e.aCt=void 0,e.kA=void 0,e.oCt=null!=(s=n.channels)?s:1,e.aCt=null!=(o=null!=(u=n.frameRate)?u:i.frameRate)?o:1024,e.kA=null!=(h=n.sampleRate)?h:i.sampleRate,e}return Ct(n,t),Nt(n,[{key:"Km",get:function(){return KB.Dk}},{key:"JRt",get:function(){return this.rCt}},{key:"hCt",get:function(){return this.oCt}},{key:"plt",get:function(){return this.aCt}},{key:"BB",get:function(){return this.kA}},{key:"oQ",get:function(){return'audio/mp4; codecs="'+this.frt+'"'}}]),n}(fX),dX=function(t){function n(n,i,r){var e,s;return(e=t.call(this,n,i,r)||this).Up=void 0,e.aCt=void 0,e.Up=n.resolution,e.aCt=oX(null!=(s=n.frameRate)?s:i.frameRate),e}return Ct(n,t),Nt(n,[{key:"Km",get:function(){return KB.Bk}},{key:"JRt",get:function(){return this.rCt}},{key:"uCt",get:function(){return this.Up}},{key:"plt",get:function(){return this.aCt}},{key:"oQ",get:function(){return'video/mp4; codecs="'+this.frt+'"'}}]),n}(fX);function lX(t,n){var i=String(n);if(t===hX||"now"===n)return i;var r=A(t.substring(9,t.lastIndexOf("d")));return Wo(i,r,"0")}function wX(t,n){var i=String(n);if(t===hX)return i;var r=A(t.substring(12,t.lastIndexOf("d")));return Wo(i,r,"0")}var gX=function(){function t(t,n,i){var r;this.rCt=void 0,this.RI=void 0,this.cCt=void 0,this.hS=void 0,this.lCt=void 0,this.YRt=void 0,this.pO=void 0,this.sCt=void 0,this.vCt=void 0,this.rCt=t,this.RI=i,this.cCt=n,this.hS=t.id,this.lCt=t.alignId,this.YRt=null!=(r=t.baseUrl)?r:"",this.pO=t.label,this.sCt=t.mediaTimeOffset?oX(t.mediaTimeOffset):0,this.vCt=t.protection,this.er(t)}return t.prototype.er=function(t){for(var n,i=function(){var i=n.value,r=Ui(t.tracks,function(t){return i.o===t.id});r&&i.er(r)},r=Lt(this.RI);!(n=r()).done;)i()},Nt(t,[{key:"zst",get:function(){return this.cCt}},{key:"o",get:function(){return this.hS}},{key:"dCt",get:function(){return this.lCt}},{key:"NRt",get:function(){return Vn.xm(this.YRt,this.zst.NRt)}},{key:"Th",get:function(){return this.pO}},{key:"eRt",get:function(){return this.sCt}},{key:"fCt",get:function(){return this.vCt}}]),t}(),_X=function(t){function n(n,i){var r,e=[];(r=t.call(this,n,i,e)||this).qA=void 0,r.oCt=void 0,r.SQ=void 0;for(var s,u=Lt(n.tracks);!(s=u()).done;){var o=s.value;e.push(new vX(o,n,r))}return r}return Ct(n,t),n.prototype.er=function(n){var i,r;t.prototype.er.call(this,n),this.qA=n.language,this.oCt=null!=(i=n.channels)?i:1,this.SQ=null!=(r=n.mimeType)?r:"audio/mp4"},Nt(n,[{key:"JRt",get:function(){return this.rCt}},{key:"Z",get:function(){return this.RI}},{key:"bs",get:function(){return this.qA}},{key:"hCt",get:function(){return this.oCt}}]),n}(gX),mX=function(t){function n(n,i){var r,e=[];(r=t.call(this,n,i,e)||this).SQ=void 0;for(var s,u=Lt(n.tracks);!(s=u()).done;){var o=s.value;e.push(new dX(o,n,r))}return r}return Ct(n,t),n.prototype.er=function(n){var i;t.prototype.er.call(this,n),this.SQ=null!=(i=n.mimeType)?i:"video/mp4"},Nt(n,[{key:"JRt",get:function(){return this.rCt}},{key:"Z",get:function(){return this.RI}},{key:"_Ct",get:function(){return this.rCt.captions}}]),n}(gX),yX=function(){function t(t,n){var i,r,e;this.ACt=[],this.SCt=[],this.pCt=void 0,this.hS=void 0,this.YRt=void 0,this.wCt=void 0,this.bz=void 0,this.Zf=void 0,this.pCt=t,this.hS=n.id,this.YRt=null!=(i=n.baseUrl)?i:"";for(var s,u=Lt(null!=(r=n.audio)?r:[]);!(s=u()).done;){var o=s.value;this.ACt.push(new _X(o,this))}for(var h,c=Lt(null!=(e=n.video)?e:[]);!(h=c()).done;){var a=h.value;this.SCt.push(new mX(a,this))}this.er(n)}return t.prototype.er=function(t){var n;this.wCt=t.timeBounds,this.Zf=null!=(n=t.events)?n:[],this.bz=t.currentTime?oX(t.currentTime):void 0},Nt(t,[{key:"o",get:function(){return this.hS}},{key:"NRt",get:function(){return Vn.xm(this.YRt,this.pCt.gCt)}},{key:"mCt",get:function(){return this.wCt}},{key:"MP",get:function(){return this.bz}},{key:"aQ",get:function(){return this.Zf}},{key:"yCt",get:function(){return this.ACt}},{key:"bCt",get:function(){return this.SCt}}]),t}(),pX=function(){function t(t,n){this.OCt=void 0,this.pCt=void 0,this.kCt=void 0,this.PCt=void 0,this.ICt=void 0,this.CCt=void 0,this.BCt=[],this.vA=void 0,this.MCt=void 0,this.LCt=void 0,this.UCt=void 0,this.OCt=t,this.pCt=n,this.er(n)}return t.prototype.er=function(t){var n,i,r=function(){var t=e.value,i=Ui(n.BCt,function(n){return n.o===t.id});i?i.er(t):n.BCt.push(new yX(n,t))};this.kCt=oX(t.availabilityDuration),this.PCt=t.creationDate,this.ICt=t.fallbackPollRate,this.CCt=t.manifestVersion,this.vA=t.streamType,this.MCt=t.activePresentation,this.LCt=t.contentBaseUrl,this.UCt=null==(i=t.timeSource)?void 0:i.url,this.pCt=t;for(var e,s=Lt(t.presentations);!(e=s()).done;)n=this,r();this.BCt=this.BCt.filter(function(n){return t.presentations.some(function(t){return t.id===n.o})})},Nt(t,[{key:"hR",get:function(){return this.pCt}},{key:"TCt",get:function(){return this.kCt}},{key:"ECt",get:function(){return this.PCt}},{key:"xCt",get:function(){return this.ICt}},{key:"RCt",get:function(){return this.CCt}},{key:"DCt",get:function(){return this.BCt}},{key:"b0",get:function(){return this.vA}},{key:"NCt",get:function(){return this.MCt}},{key:"gCt",get:function(){var t;return Vn.xm(null!=(t=this.LCt)?t:"",this.OCt)}},{key:"FCt",get:function(){return this.UCt}}]),t}();F(),Et(),Bt(),Dt(),Ut(),F(),Et(),Bt(),Dt();var kX=0,bX=function(t){function n(n){var i;return(i=t.call(this)||this).VCt=void 0,i.gO=kX++,i.VCt=n,i}Ct(n,t);var i=n.prototype;return i.MRt=function(t){var n=(t-this.VCt.JRt.zst.MP)*this.framesPerSecond();return b.round(this.VCt.QRt+n)},i.HCt=function(t){return t+1},i.BRt=function(t){for(var n,i,r=this.VCt.iCt;i=null==(n=r.match(cX))?void 0:n.pop();)r=r.split(i).join(lX(i,t));return r+("now"===t?"?uuid="+qE():"")},i.qRt=function(t){for(var n,i,r=this.VCt.$Rt;i=null==(n=r.match(aX))?void 0:n.pop();)r=r.split(i).join(wX(i,t));return r},i.QU=function(){},i.jU=function(){},Nt(n,[{key:"cst",get:function(){return!0}},{key:"tyt",get:function(){return this.VCt.tyt}},{key:"kW",get:function(){return this.VCt.kW}},{key:"frt",get:function(){return this.VCt.frt}},{key:"o",get:function(){return this.VCt.o}},{key:"Th",get:function(){var t;return null!=(t=this.VCt.Th)?t:""}},{key:"jI",get:function(){return this.gO}},{key:"nyt",get:function(){return this.VCt.NRt}},{key:"iyt",get:function(){}},{key:"oQ",get:function(){return this.VCt.oQ}},{key:"eRt",get:function(){return this.VCt.eRt}},{key:"NRt",get:function(){return this.VCt.NRt}},{key:"Km",get:function(){return this.VCt.Km}}]),n}(th),AX=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).FO=void 0,r.hu=void 0,r.FO=i,r}return Ct(n,t),n.prototype.framesPerSecond=function(){return this.VCt.BB/this.VCt.plt},Nt(n,[{key:"WCt",get:function(){return this.VCt}},{key:"$mt",get:function(){return this.VCt.BB}},{key:"Ht",get:function(){return this.FO}},{key:"Ca",get:function(){return this.hu||(this.hu=UF(this)),this.hu}}]),n}(bX),TX=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).FO=void 0,r.hu=void 0,r.FO=i,r}return Ct(n,t),n.prototype.framesPerSecond=function(){return this.VCt.plt},Nt(n,[{key:"WCt",get:function(){return this.VCt}},{key:"eyt",get:function(){return 0}},{key:"plt",get:function(){return this.VCt.plt}},{key:"Mi",get:function(){return this.VCt.uCt.height}},{key:"Ti",get:function(){return this.VCt.uCt.width}},{key:"uCt",get:function(){return this.VCt.uCt}},{key:"Ht",get:function(){return this.FO}},{key:"Ca",get:function(){return this.hu||(this.hu=LF(this)),this.hu}}]),n}(bX);F(),Et();var SX=function(t){return t.qCt="alternative",t.zCt="main",t.GCt="commentary",t.XCt="",t.UU="descriptions",t.jCt="main-desc",t.QCt="translation",t}({}),EX=function(t){return t.qCt="alternative",t.zCt="main",t.GCt="commentary",t.XCt="",t.FU="captions",t.WI="sign",t.OU="subtitles",t}({}),IX=0,RX=function(t){function n(n,i,r){var e;(e=t.call(this)||this).rCt=void 0,e.ZCt=void 0,e.dO=new vg,e.$Ct=void 0,e.gO=IX++,e.We=!1,e.dct=void 0,e.hu=void 0,e.rCt=i,e.ZCt=r,e.$Ct=new oH(n,[]);for(var s,u=Lt(i.Z);!(s=u()).done;){var o=s.value;e.dO.lO(e.createQuality(o))}return e}Ct(n,t);var i=n.prototype;return i.wO=function(t){this.Rt=t},i.tDt=function(t){for(var n,i=Lt(this.dO.II);!(n=i()).done;){var r=n.value;r===t&&this.So(new CU(r))}},Nt(n,[{key:"XI",get:function(){return this.KCt()}},{key:"Rt",get:function(){return this.We},set:function(t){this.Rt!==t&&(this.We=t,t&&this.YCt(),this.ZCt.JCt(),this.So(new dg(this)))}},{key:"Ca",get:function(){return this.hu||(this.hu=Zw(this)),this.hu}},{key:"Jdt",get:function(){return this.$Ct}},{key:"o",get:function(){return this.rCt.o}},{key:"jI",get:function(){return this.gO}},{key:"Th",get:function(){var t;return null!=(t=this.rCt.Th)?t:""}},{key:"Xk",get:function(){return this.Rt?"enabled":"disabled"},set:function(t){"enabled"===t?this.Rt=!0:"disabled"===t&&(this.Rt=!1)}},{key:"KI",get:function(){return this.dO}},{key:"YI",get:function(){return this.dct},set:function(t){this.dct=t,this.ZCt.JCt(),this.So(new JM(t,this))}}]),n}(th),CX=function(t){function n(n,i){return t.call(this,ig.Dk,n,i)||this}Ct(n,t);var i=n.prototype;return i.YCt=function(){this.ZCt.iDt(this)},i.KCt=function(){var t=this.ZCt.eDt;return(null==t?void 0:t.Ht)===this?t:void 0},i.createQuality=function(t){return new AX(t,this)},Nt(n,[{key:"Km",get:function(){return KB.Dk}},{key:"Lt",get:function(){return SX.zCt}},{key:"bs",get:function(){return this.rCt.bs}},{key:"JRt",get:function(){return this.rCt}}]),n}(RX),DX=function(t){function n(n,i){return t.call(this,ig.Bk,n,i)||this}Ct(n,t);var i=n.prototype;return i.YCt=function(){this.ZCt.sDt(this)},i.KCt=function(){var t=this.ZCt.nDt;return(null==t?void 0:t.Ht)===this?t:void 0},i.createQuality=function(t){return new TX(t,this)},Nt(n,[{key:"Km",get:function(){return KB.Bk}},{key:"Lt",get:function(){return EX.zCt}},{key:"bs",get:function(){return""}},{key:"JRt",get:function(){return this.rCt}},{key:"_Ct",get:function(){return this.rCt._Ct}}]),n}(RX);function PX(t,n,i,r){if(t){var e=function(t,n,i){for(var r,e=[],s=Lt(n);!(r=s()).done;){var u,o,h=r.value,c=null!=(u=h.mimeType)?u:"audio/mp4",a=null!=(o=h.codecs)?o:h.tracks.map(function(t){return t.codecs})[0];e.push(c+'; codecs="'+a+'"')}return NX(t,n,e,[],i)}(t,n?[n]:[],!r),s=function(t,n,i){for(var r,e=[],s=Lt(n);!(r=s()).done;){var u,o,h=r.value,c=null!=(u=h.mimeType)?u:"video/mp4",a=null!=(o=h.codecs)?o:h.tracks.map(function(t){return t.codecs})[0];e.push(c+'; codecs="'+a+'"')}return NX(t,n,[],e,i)}(t,i?[i]:[],!r),u=LH(e,s);return t.preferredKeySystems&&(null==u?void 0:u.kpt)&&(u.kpt=GH(u.kpt,t.preferredKeySystems)),u}}function NX(t,n,i,r,e){var s=n.map(function(t){return t.protection}).filter(Un);if(s.length){var u=s[0].type,o=Ji(s,function(t){return t.systems}),h=Ji(o,function(t){return function(t,n){void 0===n&&(n=!0);for(var i,r=[],e=Lt(n?function(t){return xo.filter(function(n){return n.Zm===t.toLowerCase()})}(t.schemeId):function(t){return Bo.filter(function(n){return n.Zm===t.toLowerCase()})}(t.schemeId));!(i=e()).done;){var s=i.value;r.push({HH:BX(t)?t.uri:void 0,kS:s,NW:void 0,BW:t.pssh?[mh(t.pssh).buffer]:[],MW:[]})}return r}(t,e)});return{aH:t,Ept:{$St:u},kpt:h,tTt:i,iTt:r}}}function BX(t){return t.schemeId===eo.jm&&void 0!==t.keyFormat&&void 0!==t.keyFormatVersions}F(),Et(),Ut(),F(),Et(),Wt(),Bt(),Ut(),Qt(),F(),Et();var xX;function OX(t){var n=t.MP,i=t.IP.JM(n);return i?i.An(0)-n:0}xX="Android"===Vn.Cm.Dm?200:300;var MX=Vn.Zs.bp?1:.5,LX=function(){function t(t,n,i,r,e,s){var u=this;this.TL=void 0,this.jW=void 0,this.vDt=void 0,this.IDt=void 0,this.oDt=void 0,this.wDt=void 0,this.uDt=void 0,this.Ra=void 0,this._Dt=void 0,this.rDt=void 0,this.lDt=void 0,this.SDt=void 0,this.TDt=void 0,this.dDt=void 0,this.cDt=void 0,this.aDt=void 0,this.TL=t,this.jW=n,this.vDt=i,this.IDt=r,this.oDt=e,this.wDt=s,this.Ra=0,this._Dt=ut.resolve(),this.SDt=[],this.TDt=void 0,this.dDt=function(){var t,n;if(!u.IDt.kx){var i=null==(t=u.vDt.eDt)?void 0:t.Ht,r=null==(n=u.vDt.nDt)?void 0:n.Ht,e=Zi(u.mDt(i,r),function(t){return t.yDt});e&&(kr(u.ADt(e,!0)),u.TL.CL.RL&&u.IDt.oR())}},this.cDt=function(){u.uDt.wn(Ey.SM,u.dDt),u.uDt.mn(Ey.TM,u.cDt)},this.aDt=function(){if(u.SDt.unshift(u.oDt.kW),u.SDt=u.SDt.slice(0,3),u.lDt){var t=u.lDt.bDt.yDt;u.oDt.kW<t&&(u.lDt=void 0,u.uL())}},this.uDt=new Ly(this.TL)}var n=t.prototype;return n.Tn=function(){var t=this;1!==this.Ra&&(this.Ra=1,this.rDt=Vn.fm(function(){t.hDt()},xX),this.oDt.DIt(this.aDt),this.TL.hx?this.uDt.wn(Ey.TM,this.cDt):this.cDt())},n.Xx=function(){0!==this.Ra&&(this.Ra=0,void 0!==this.rDt&&Vn.vm(this.rDt),this.oDt.NIt(this.aDt),this.uDt.mn(Ey.SM,this.dDt),this.uDt.mn(Ey.TM,this.cDt),this.lDt=void 0,this.uL())},n.hDt=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return[4,this._Dt];case 1:return t.sent(),this._Dt=this.gDt(),[4,this._Dt];case 2:return t.sent(),[2]}})}).call(this)},n.pDt=function(t,n){var i,r,e=this.mDt(t,n),s=this.wDt.OY;if(s.type===KI.PERFORMANCE)return e[e.length-1];if(s.type===KI.QUALITY)return e[0];for(var u,o=(null==(i=s.metadata)?void 0:i.bitrate)?1.3*(null==(r=s.metadata)?void 0:r.bitrate):this.oDt.kW,h=Lt(e);!(u=h()).done;){var c=u.value;if(c.yDt<=o)return c}return e[e.length-1]},n.gDt=function(){return Vt(function(){var t,n,i,r,e,s,u;return zt(this,function(o){switch(o.label){case 0:return i=null==(t=this.vDt.eDt)?void 0:t.Ht,r=null==(n=this.vDt.nDt)?void 0:n.Ht,0===(e=this.mDt(i,r)).length?[2]:(s=this.maybeSwitchToTargetQuality(e))?[4,this.ADt(s)]:[3,2];case 1:case 3:return o.sent(),[2];case 2:return(u=this.maybeGetUpSwitch(e))?[4,this.ADt(u)]:[3,4];case 4:return[2]}})}).call(this)},n.maybeSwitchToTargetQuality=function(t){var n=this.fDt;if(!t.some(function(t){return FX(t,n)})){for(var i,r=this.oDt.kW,e=Lt(t);!(i=e()).done;){var s=i.value;if(s.yDt<=r)return s}return t[t.length-1]}},n.maybeGetUpSwitch=function(t){for(var n,i,r,e,s,u,o=this.oDt.kW,h=1.3*((null!=(r=null==(n=this.vDt.eDt)?void 0:n.kW)?r:0)+(null!=(e=null==(i=this.vDt.nDt)?void 0:i.kW)?e:0)),c=Lt(t);!(u=c()).done;){var a=u.value;if(a.yDt<o&&a.yDt>h){s={bDt:a,ift:Vn.Mg()};break}}if(this.lDt&&FX(this.lDt.bDt,null==s?void 0:s.bDt)){var f=Vn.Mg()-this.lDt.ift,v=this.lDt.bDt.yDt,d=this.SDt.length>=3&&this.SDt.every(function(t){return t>v});if(f>1e3&&d){if(this.TL.CL.RL||Vn.Zs.pp){var l=2*this.oDt.EW;if(!(OX(this.TL)>l))return}else{var w=b.max(2*this.oDt.EW+MX,this.jW.nL.minimumOffset);if(!(OX(this.TL)>w))return void(this.TDt&&this.TDt.minimumOffset===w||(this.uL(),this.TDt={minimumOffset:w},this.jW.hL(this.TDt)))}return this.lDt.bDt}}else this.lDt=s},n.ADt=function(t,n){return void 0===n&&(n=!1),Vt(function(){var i,r,e;return zt(this,function(s){switch(s.label){case 0:return this.lDt=void 0,this.uL(),(i=this.fDt).kDt===t.kDt&&i.EDt===t.EDt?[2]:(r=t.kDt,e=t.EDt,i.EDt&&e&&i.EDt.kW>e.kW&&n&&(this.oDt.RIt(t.yDt),this.SDt=[]),[4,this.vDt.PDt(e,r)]);case 1:return s.sent(),[2]}})}).call(this)},n.uL=function(){this.TDt&&(this.jW.uL(this.TDt),this.TDt=void 0)},n.mDt=function(t,n){var i,r=[],e=[];t&&(r=(null==(i=t.YI)?void 0:i.length)?t.YI:t.KI.II);if(n){var s,u=(null==(s=n.YI)?void 0:s.length)?n.YI:n.KI.II,o=u.slice().sort(function(t,n){return t.kW-n.kW}),h=this.xDt(o);0===h.length&&u.length>0&&h.push(Zi(u,function(t){return t.kW})),e=h}for(var c,a=[],f=r.length>0?r:[void 0],v=e.length>0?e:[void 0],d=Lt(f);!(c=d()).done;)for(var l,w=c.value,g=Lt(v);!(l=g()).done;){var _=l.value;a.push(UX(w,_))}return function(t){return t.sort(function(t,n){return n.yDt-t.yDt})}(a)},n.xDt=function(t){var n=this,i=Ui(t,function(t){return t.Mi>=n.TL.Mi&&t.Ti>=n.TL.Ti});return i?t.filter(function(t){return t.Mi<=i.Mi&&t.Ti<=i.Ti}):t.slice()},n.zg=function(){this.lDt=void 0,this.uDt.hr(),this.uL()},Nt(t,[{key:"fDt",get:function(){return UX(this.vDt.eDt,this.vDt.nDt)}}]),t}();function UX(t,n){var i,r;return{kDt:t,EDt:n,yDt:1.3*((null!=(i=null==t?void 0:t.kW)?i:0)+(null!=(r=null==n?void 0:n.kW)?r:0))}}function FX(t,n){var i,r,e,s;return void 0===t||void 0===n?t===n:(null==(i=t.kDt)?void 0:i.o)===(null==(r=n.kDt)?void 0:r.o)&&(null==(e=t.EDt)?void 0:e.o)===(null==(s=n.EDt)?void 0:s.o)&&t.yDt===n.yDt}F(),Et(),Wt(),Bt(),Qt();var VX=function(){function t(t,n,i){this.RDt=void 0,this.nT=new hr,this.RDt=t,this.Ixt(n,i,this.nT.Yg).catch(di)}var n=t.prototype;return n.Ixt=function(t,n,i){return Vt(function(){var r;return zt(this,function(e){switch(e.label){case 0:return i.Hg?[3,6]:[4,Ar(6e5,i)];case 1:e.sent(),e.label=2;case 2:return e.trys.push([2,4,,5]),r=this,[4,HX(t,n,i)];case 3:return r.RDt=e.sent(),[3,5];case 4:return lr(e.sent()),[3,5];case 5:return[3,0];case 6:return[2]}})}).call(this)},n.zg=function(){this.nT.Zg()},t.create=function(n,i,r){return Vt(function(){return zt(this,function(e){switch(e.label){case 0:return[4,HX(n,i,r)];case 1:return[2,new t(e.sent(),n,i)]}})})()},Nt(t,[{key:"Oyt",get:function(){return(this.RDt.serverTimeMs+(Vn.Mg()-this.RDt.localTimeMs))/1e3}},{key:"CDt",get:function(){return(this.RDt.localTimeMs-this.RDt.serverTimeMs)/1e3}}]),t}();function HX(t,n,i){return Vt(function(){var r,e,s,u,o;return zt(this,function(h){switch(h.label){case 0:return[4,WX(t,n,i)];case 1:return r=h.sent(),e=r[0],s=r[1],u=r[2],s>20?[4,WX(t,n,i)]:[3,3];case 2:o=h.sent(),e=o[0],s=o[1],u=o[2],h.label=3;case 3:return[2,{localTimeMs:e,serverTimeMs:u-s/2}]}})})()}function WX(t,n,i){return Vt(function(){var r,e,s,u,o;return zt(this,function(h){switch(h.label){case 0:return r=Vn.Mg(),[4,n.lk({Uk:wl.GET,Yu:t,Yg:i})];case 1:return e=h.sent(),s=Vn.Mg()-r,[4,e.UT(i)];case 2:return u=h.sent(),o=1e3*Number(u),[2,[r,s,o]]}})})()}var zX=function(t){function n(){return t.call(this,"seek")||this}return Ct(n,t),n}(rh),XX=function(t){return t.Xz="seek",t}({}),qX=[eh.uo,Ey.wI,eh._y],GX=function(t){function n(n,i,r,e,s,u,o,h,c,a,f){var v;return(v=t.call(this)||this).Ac=void 0,v.nV=void 0,v.HDt=void 0,v.TL=void 0,v.UDt=void 0,v._dt=void 0,v.hBt=void 0,v.jDt=!1,v.lBt=!1,v.Rz=void 0,v.YL=new ng,v.$L=new ng,v.fBt=void 0,v.NDt=void 0,v.MDt=void 0,v.pCt=void 0,v.ODt=new Vc,v.WDt=void 0,v.GDt=void 0,v.zDt=void 0,v.jW=void 0,v.iq=void 0,v.Dpt=void 0,v.FDt=new Vc,v.rV=new hr,v.eBt=void 0,v.iBt=new hr,v.w7=void 0,v.m7=new hr,v.ZDt=void 0,v.DDt=void 0,v.uBt=void 0,v.$Dt=void 0,v.BDt=void 0,v.aBt=void 0,v.cBt=void 0,v.IL=function(){v.lBt=!0},v.updateActiveQualities=function(){var t,n,i=v.TL.MP,r=null==(t=v.DDt)?void 0:t.YIt(i),e=null==(n=v.BDt)?void 0:n.YIt(i);if(v.NDt!==r&&(v.NDt=r,r))for(var s,u=Lt(v.YL.II);!(s=u()).done;){s.value.tDt(r)}if(v.MDt!==e&&(v.MDt=e,e))for(var o,h=Lt(v.$L.II);!(o=h()).done;){o.value.tDt(e)}},v.oBt=function(t,n){var i=n.data;if(i.Km===Qz.vRt){var r,e=i.gRt,s=i.pRt,u=i._Rt,o=i.mRt;if(v.WDt){var h=v.WDt.Oyt,c=v.TL.MP;if(v.lBt&&0!==c){var a={theolive:h-e+u-c,engine:s,distribution:b.max(h-(e+s),0),player:b.min(u-c,v.jW.nL.forceSeekOffset)};t===ig.Dk?(v.GDt=a,v.UDt.qIt(v.WDt.CDt+e,u)):(v.zDt=a,v.UDt.HIt(v.WDt.CDt+e,u))}}if(o)null!=v.fBt||(v.fBt=v.TL.tI(Ym.VU,"timecode","timecode",void 0,!1,Dg.DEFAULT,!1,void 0)),v.fBt.tV(new Yg(u,u,o,!1,void 0)),cy(v.fBt,null!=(r=v.TL.IP.Tn(0))?r:-1)}v.So(n)},v.e8=function(t){vr(t)||(v.Xx(),v.So(new _b(new fd(cd.MEDIA_LOAD_ERROR,t.message))))},v.Ac=n,v.HDt=i,v.TL=r,v.nV=s,v.UDt=u,v.Rz=new LX(r,o,v,c,e,f),v._dt=h,v.hBt=a,v.jW=o,v.TL.wn(Ey.TM,v.IL),v.TL.wn(qX,v.updateActiveQualities),v}Ct(n,t);var i=n.prototype;return i.VDt=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.DDt?[4,this.DDt._S(0,1/0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return this.BDt?[4,this.BDt._S(0,1/0)]:[3,4];case 3:t.sent(),t.label=4;case 4:return[2]}})}).call(this)},i.Un=function(){if(!this.Ac.src)throw new fd(cd.SOURCE_INVALID,"No src property found in given source.");this.Dpt||(this.Dpt=this.lE(this.rV.Yg).catch(this.e8))},i.lE=function(t){return Vt(function(){var n,i,r,e;return zt(this,function(s){switch(s.label){case 0:return this.So(new GR),n=this.Ac.src,[4,this.HDt.Qxt(n,t)];case 1:return i=s.sent(),this.pCt=new pX(n,i),this.pCt.FCt?(r=this,[4,VX.create(this.pCt.FCt,this.nV,t)]):[3,3];case 2:r.WDt=s.sent(),s.label=3;case 3:return this.qDt(),e=zi(this.pCt.DCt,-1),this.createTracksForPresentation(e),this.ODt.Xy(),this.JCt(),[2]}})}).call(this)},i.iDt=function(t){for(var n,i=Lt(this.YL.II);!(n=i()).done;){var r=n.value;r.wO(r===t)}},i.sDt=function(t){for(var n,i=Lt(this.$L.II);!(n=i()).done;){var r=n.value;r.wO(r===t)}},i.JCt=function(){var t=Ui(this.YL.II,function(t){return t.Rt}),n=Ui(this.$L.II,function(t){return t.Rt}),i=this.Rz.pDt(t,n);kr(this.PDt(i.EDt,i.kDt))},i.qDt=function(){var t=this;if(this.pCt&&"live"===this.pCt.b0&&this.WDt){var n=this.pCt.DCt.filter(function(n){return n.o===t.pCt.NCt})[0].MP,i=this.WDt.CDt+new Date(this.pCt.ECt).getTime()/1e3;this.UDt.UIt(i,n)}},i.createTracksForPresentation=function(t){for(var n,i,r,e,s,u=Lt(null!=(r=t.yCt)?r:[]);!(e=u()).done;){var o=e.value;this.YL.tt(new CX(o,this))}for(var h,c=Lt(null!=(s=t.bCt)?s:[]);!(h=c()).done;){var a=h.value;this.$L.tt(new DX(a,this))}null==(n=this.YL.CI(0))||n.wO(!0),null==(i=this.$L.CI(0))||i.wO(!0)},i.Tn=function(){this.jDt=!0,this.QDt()},i.Xx=function(){var t;this.jDt=!1,this.KDt().catch(this.e8),"live"===(null==(t=this.hR)?void 0:t.b0)&&(this.YDt(),this.JDt())},i.YDt=function(){this.ZDt&&this.ZDt.cancelDownload()},i.JDt=function(){this.$Dt&&this.$Dt.cancelDownload()},i.oR=function(t){var n=this;this.m7.Zg(),this.m7=new hr,this.w7=mr(function(i){return n.tBt(t,n.w7,i)},this.m7).catch(this.e8)},i.tBt=function(t,n,i){return Vt(function(){var r,e;return zt(this,function(s){switch(s.label){case 0:return n?[4,n]:[3,2];case 1:s.sent(),s.label=2;case 2:return[4,gr(this.W,i)];case 3:if(s.sent(),"live"!==this.pCt.b0)throw new y("The current video source does not support Live playback.");return dr(i),[4,this.KDt()];case 4:if(s.sent(),dr(i),!this.ZDt||!this.ZDt.CRt()&&this.ZDt.PRt===(null!=t?t:"now"))return[3,10];if(this.YDt(),!this.DDt)return[3,9];s.label=5;case 5:return this.DDt.$It?[4,gr(this.DDt.iRt,i)]:[3,7];case 6:return s.sent(),[3,5];case 7:return[4,this.DDt._S(0,1/0)];case 8:s.sent(),s.label=9;case 9:null==(r=this.ZDt)||r.My(null!=t?t:"now"),s.label=10;case 10:if(!this.$Dt||!this.$Dt.CRt()&&this.$Dt.PRt===(null!=t?t:"now"))return[3,16];if(this.JDt(),!this.BDt)return[3,15];s.label=11;case 11:return this.BDt.$It?[4,gr(this.BDt.iRt,i)]:[3,13];case 12:return s.sent(),[3,11];case 13:return[4,this.BDt._S(0,1/0)];case 14:s.sent(),s.label=15;case 15:null==(e=this.$Dt)||e.My(null!=t?t:"now"),s.label=16;case 16:return this.So(new zX),dr(i),this.w7=void 0,this.QDt(),[2]}})}).call(this)},i.My=function(t){var n=this;this.m7.Zg(),this.m7=new hr,this.w7=mr(function(i){return n.y7(t,n.w7,i)},this.m7).catch(this.e8)},i.y7=function(t,n,i){return Vt(function(){var r,e;return zt(this,function(s){switch(s.label){case 0:return n?[4,n]:[3,2];case 1:s.sent(),s.label=2;case 2:return[4,gr(this.W,i)];case 3:return s.sent(),dr(i),[4,this.KDt()];case 4:return s.sent(),dr(i),this.ZDt&&(this.ZDt.CRt()||this.ZDt.PRt!==t)&&this.YDt(),this.$Dt&&(this.$Dt.CRt()||this.$Dt.PRt!==t)&&this.JDt(),this.So(new zX),dr(i),null==(r=this.ZDt)||r.My(t),null==(e=this.$Dt)||e.My(t),this.w7=void 0,this.QDt(),[2]}})}).call(this)},i.PDt=function(t,n){var i,r,e=this;return(null==(i=this.ZDt)?void 0:i.kot)===n&&(null==(r=this.$Dt)?void 0:r.kot)===t?ut.resolve():(this.iBt.Zg(),this.iBt=new hr,this.eBt=mr(function(i){return e.sBt(t,n,e.eBt,i)},this.iBt).catch(this.e8),this.eBt)},i.sBt=function(t,n,i,r){return Vt(function(){var e,s,u,o,h;return zt(this,function(c){switch(c.label){case 0:return i?[4,i]:[3,2];case 1:c.sent(),c.label=2;case 2:return[4,gr(this.ODt.Qy,r)];case 3:return c.sent(),dr(r),[4,this.KDt()];case 4:return c.sent(),dr(r),[4,this.nBt(t,n)];case 5:return c.sent(),[4,this.rBt(t,n)];case 6:for(c.sent(),dr(r),u=Lt(null!=(s=null==t||null==(e=t.Ht)?void 0:e._Ct)?s:[]);!(o=u()).done;)h=o.value,this.hBt.Mgt({nit:h.channel,rit:h.language,Th:h.label});return this.eBt=void 0,this.QDt(),[2]}})}).call(this)},i.nBt=function(t,n){return Vt(function(){var i,r,e,s,u,o,h,c,a,f,v,d,l,w,g,_,m,y,p;return zt(this,function(k){switch(k.label){case 0:return i=this,u=null!=(s=this.XDt)?s:"now",(null==(r=this.ZDt)?void 0:r.kot)===n?[3,5]:(h=this.ZDt&&!this.ZDt.CRt(),c=null==(o=this.ZDt)?void 0:o.PRt,this.ZDt?[4,this.ZDt.zg()]:[3,2]);case 1:k.sent(),this.ZDt=void 0,k.label=2;case 2:return this.DDt?[4,this.DDt.iRt]:[3,4];case 3:k.sent(),k.label=4;case 4:n&&(v=null!=(f=null==(a=this.DDt)?void 0:a.IP)?f:TA.iL(),d=h?c:v.An(v.V-1),this.ZDt=new sX(n,this.nV,this._dt),this.ZDt.wn(qz.dRt,function(t){return i.oBt(ig.Dk,t)}),this.ZDt.My(null!=d?d:u)),k.label=5;case 5:return(null==(e=this.$Dt)?void 0:e.kot)===t?[3,10]:(w=this.$Dt&&!this.$Dt.CRt(),g=null==(l=this.$Dt)?void 0:l.PRt,this.$Dt?[4,this.$Dt.zg()]:[3,7]);case 6:k.sent(),this.$Dt=void 0,k.label=7;case 7:return this.BDt?[4,this.BDt.iRt]:[3,9];case 8:k.sent(),k.label=9;case 9:t&&(y=null!=(m=null==(_=this.BDt)?void 0:_.IP)?m:TA.iL(),p=w?g:y.An(y.V-1),this.$Dt=new sX(t,this.nV,this._dt),this.$Dt.wn(qz.dRt,function(t){return i.oBt(ig.Bk,t)}),this.$Dt.My(null!=p?p:u)),k.label=10;case 10:return[2]}})}).call(this)},i.rBt=function(t,n){return Vt(function(){var i,r,e,s,u,o,h,c;return zt(this,function(a){switch(a.label){case 0:if(i=function(t,n,i,r,e){var s=PX(t,null==n?void 0:n.Ht.JRt.JRt,null==i?void 0:i.Ht.JRt.JRt,r),u=zH(s),o=[];n&&o.push({qT:n.oQ});i&&o.push({qT:i.oQ});return{Km:Sy.wV,L4:o,aq:u,X4:e&&!r}}(this.Ac.contentProtection,n,t,this.TL.CL.RL,this.Ac.useManagedMediaSource),!this.iq||!this.iq.TZ(i))return[3,12];if(s=!(null==(r=this.ZDt)?void 0:r.CRt()),!this.DDt||!s)return[3,5];a.label=1;case 1:return this.DDt.$It?[4,this.DDt.iRt]:[3,3];case 2:return a.sent(),[3,1];case 3:return[4,this.DDt.AQ()];case 4:a.sent(),a.label=5;case 5:if(u=!(null==(e=this.$Dt)?void 0:e.CRt()),!this.BDt||!u)return[3,10];a.label=6;case 6:return(null==(o=this.BDt)?void 0:o.$It)?[4,this.BDt.iRt]:[3,8];case 7:return a.sent(),[3,6];case 8:return[4,null==(h=this.BDt)?void 0:h.AQ()];case 9:a.sent(),a.label=10;case 10:return[4,this.iq.EZ(i)];case 11:return a.sent(),[3,21];case 12:return this.YDt(),this.JDt(),this.DDt?[4,this.DDt.zg()]:[3,14];case 13:a.sent(),this.DDt=void 0,a.label=14;case 14:return this.BDt?[4,this.BDt.zg()]:[3,16];case 15:a.sent(),this.BDt=void 0,a.label=16;case 16:this.TL.x9(),a.label=17;case 17:return a.trys.push([17,,20,21]),[4,this.TL.hr()];case 18:return a.sent(),c=this,[4,this.TL.Un(i)];case 19:return c.iq=a.sent(),this.FDt.Xy(),this.iq.Q3&&this.ZDt&&(this.iq.Q3.wn(LR.lZ,this.Rs),this.DDt=new zz(this.iq.Q3,this.TL,n,this.hBt)),this.iq.K3&&this.$Dt&&(this.iq.K3.wn(LR.lZ,this.Rs),this.BDt=new zz(this.iq.K3,this.TL,t,this.hBt)),"live"===this.pCt.b0&&this.iq.C4(1/0),[3,21];case 20:return this.TL.I9(),[7];case 21:return[2]}})}).call(this)},i.QDt=function(){!this.jDt||this.w7||this.eBt||this.aBt||this.uBt||(this.Rz.Tn(),this.cBt=new hr,this.$Dt&&this.BDt&&(this.aBt=this.dBt(this.$Dt,this.BDt,this.cBt.Yg).catch(this.e8)),this.ZDt&&this.DDt&&(this.uBt=this.dBt(this.ZDt,this.DDt,this.cBt.Yg).catch(this.e8)))},i.KDt=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.Rz.Xx(),this.cBt&&(this.cBt.Zg(),this.cBt=void 0),this.aBt?[4,this.aBt]:[3,2];case 1:t.sent(),this.aBt=void 0,t.label=2;case 2:return this.uBt?[4,this.uBt]:[3,4];case 3:t.sent(),this.uBt=void 0,t.label=4;case 4:return[2]}})}).call(this)},i.dBt=function(t,n,i){return Vt(function(){var r,e,s,u,o,h,c,a,f,v,d;return zt(this,function(l){switch(l.label){case 0:return[4,this.W];case 1:l.sent(),l.label=2;case 2:return t.$It?[4,gr(t.iRt,i)]:[3,4];case 3:return l.sent(),[3,2];case 4:return n.$It?[4,gr(n.iRt,i)]:[3,6];case 5:return l.sent(),[3,4];case 6:return t.CRt()?[3,13]:(r=Vn.Mg()/1e3,e="now"===t.PRt,[4,t.DRt()]);case 7:return s=l.sent(),u=s.initialization,o=s.data,h=s.metadata,c={Km:FR.vZ,ck:u},a=o?{Km:FR.vZ,ck:o}:void 0,f=n.IP,!Vn.Zs.wp&&!this.TL.CL.RL&&h&&f.An(f.V-1)>h.xet?[4,n._S(h.xet,1/0)]:[3,9];case 8:l.sent(),l.label=9;case 9:return[4,n.z2(c)];case 10:return l.sent(),a?[4,n.H2(a,h,t.kot)]:[3,12];case 11:l.sent(),l.label=12;case 12:v=n.IP.UM(f),e&&v.V>0&&this.UDt.OIt(r,v.An(v.V-1)),l.label=13;case 13:return t.ERt?[3,15]:(dr(i),d=t.URt(),[4,gr(n.appendStream(d,t),i)]);case 14:return l.sent(),[3,13];case 15:return[2]}})}).call(this)},i.zg=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.rV.Zg(),this.Dpt?[4,this.Dpt.catch(di)]:[3,2];case 1:t.sent(),t.label=2;case 2:return this.w7?(this.m7.Zg(),this.YDt(),this.JDt(),[4,this.w7.catch(di)]):[3,4];case 3:t.sent(),t.label=4;case 4:return this.eBt?(this.iBt.Zg(),this.YDt(),this.JDt(),[4,this.eBt.catch(di)]):[3,6];case 5:t.sent(),t.label=6;case 6:return[4,this.KDt()];case 7:return t.sent(),this.ZDt?[4,this.ZDt.zg()]:[3,9];case 8:t.sent(),t.label=9;case 9:return this.$Dt?[4,this.$Dt.zg()]:[3,11];case 10:t.sent(),t.label=11;case 11:return this.ZDt=void 0,this.$Dt=void 0,this.FDt.Zg(),this.ODt.Zg(),this.iq?[4,this.TL.hr()]:[3,13];case 12:t.sent(),this.iq=void 0,t.label=13;case 13:return this.DDt=void 0,this.BDt=void 0,this.TL.mn(Ey.TM,this.IL),this.TL.mn(qX,this.updateActiveQualities),this.YL.hr(),this.NDt=void 0,this.$L.hr(),this.MDt=void 0,this.pCt=void 0,this.WDt&&(this.WDt.zg(),this.WDt=void 0),this.jDt=!1,[2]}})}).call(this)},Nt(n,[{key:"hR",get:function(){return this.pCt}},{key:"IP",get:function(){return this.DDt&&this.BDt?this.DDt.IP.Mn(this.BDt.IP):this.DDt?this.DDt.IP:this.BDt?this.BDt.IP:TA.iL()}},{key:"eDt",get:function(){return this.NDt}},{key:"nDt",get:function(){return this.MDt}},{key:"ht",get:function(){return this.YL}},{key:"rt",get:function(){return this.$L}},{key:"LDt",get:function(){return this.ODt.Qy}},{key:"W",get:function(){return this.FDt.Qy}},{key:"Sx",get:function(){return this.pCt?function(t,n,i){var r,e=null==(r=t.DCt[0])?void 0:r.MP,s=t.TCt;if(void 0===e||void 0===s)return i>0&&i<bi?new TA([0,i],[!0,!0]):TA.iL();var u=n.GIt;if(!u){var o=uF(t.ECt).getTime()/1e3;u=e+(Date.now()/1e3-o)}return new TA([u-s,u],[!0,!0])}(this.pCt,this.UDt,this.TL.ct):TA.iL()}},{key:"eR",get:function(){return Zi([this.zDt,this.GDt].filter(Un),function(t){return t.theolive})}},{key:"sR",get:function(){return this.zDt}},{key:"nR",get:function(){return this.GDt}},{key:"XDt",get:function(){var t=this.UDt.GIt;if(void 0!==t)return t}}]),n}(th);F(),Et(),Dt();var jX=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).lastAmountToSeekForward=0,e}Ct(n,t);var i=n.prototype;return i.NL=function(){var t=this.TL.IP;return 0===t.V?0:t.An(t.V-1)-this.TL.MP},i.oR=function(){this.oa.oR()},i.ML=function(t,n,i){if(t>i+2){var r=t-n;if(r<=this.lastAmountToSeekForward&&!this.oa.kx)return this.oa.MP+=r,this.lastAmountToSeekForward=0,!0;this.lastAmountToSeekForward=r}else this.lastAmountToSeekForward=0;return!1},i.cL=function(){return Vz(t.prototype.cL.call(this))},i.LL=function(){return!Vn.Zs.pp},n}(DA),QX=[eh.Jw,eh.Qw,eh._y,eh.Bw,eh.Kw,eh.gy,eh.Rw,eh.Lw,eh.Nw,eh.Pw,eh.Ew],YX=function(t){function n(n,i,r,e,s){var u,o;return(u=t.call(this)||this).TL=void 0,u.nV=void 0,u.oq=void 0,u.kq=void 0,u.bq=void 0,u.jW=void 0,u.lq=void 0,u.UDt=void 0,u.Cz=void 0,u.mBt=void 0,u._dt=void 0,u.Rz=void 0,u.Ac=void 0,u.vDt=void 0,u.Sz=!1,u.gBt=void 0,u.m7=new hr,u.w7=void 0,u.NEt=void 0,u.RBt=new hr,u.$et=!0,u.lBt=!1,u.YL=new Jb,u.$L=new Jb,u.Gl=void 0,u.hBt=void 0,u.ZW=void 0,u.JW=void 0,u.wBt=jT.lz,u.bBt=void 0,u.bd=function(){var t=u.IP;t.length>0&&u.hBt.qU(t.start(0))},u.vBt=function(){u.TL.hx!==u.$et&&(u.TL.hx?u.zx():u.Gx().catch(di))},u.GG=function(){u.lBt=!0},u.TBt=function(t){u.ZW=t.errorObject,u.JW=hg(u.ZW),u.ABt(u.ZW)},u._Bt=function(t){u.ZW=cg(t.lt),u.JW=t.lt,u.ABt(u.ZW)},u.TL=n,u.kq=new Uy(u,u.TL),u.bq=new Ly(u.kq,!0),u.nV=i,u.Rz=r,u.oq=new Nz(r.WY,r.kY.EW),u.lq=new Tb(i),u.TL.Eq=u.lq,s.allowNativeFullscreen?u.hBt=new kU(u.TL):u.hBt=new bU(u.TL),u.Gl=new Eb([u.hBt.Z]),u.UDt=new Bz,u.mBt=new pz(u),u.Cz=e,u._dt=Yu({},s.retryConfiguration,{maxRetries:null!=(o=s.retryConfiguration.maxRetries)?o:3}),u.OI(),u}Ct(n,t);var i=n.prototype;return i.OI=function(){this.TL.wn(QX,this.Rs),this.TL.wn(Ey.TM,this.GG),this.TL.wn([eh.uo,eh.jw],this.vBt),this.TL.wn(zm.ma,this._Bt),this.TL.wn(eh._y,this.bd),this.bq.wn(Iy,this.Rs)},i.MI=function(){this.TL.mn(QX,this.Rs),this.TL.mn(Ey.TM,this.GG),this.TL.mn([eh.uo,eh.jw],this.vBt),this.TL.mn(zm.ma,this._Bt),this.TL.mn(eh._y,this.bd),this.bq.mn(Iy,this.Rs)},i.jx=function(){return!1},i.Hx=function(){return this.TL.Ma},i.Aa=function(){return this.TL.mq},i.tI=function(t){return this.TL.wq(t)},i.we=function(){this.TL.we()},i.be=function(){return this.TL.be()},i.Yx=function(){},i.Jx=function(){},i.Qx=function(){},i.Kx=function(){},i.OP=function(t,n){var i=this;this.m7.Zg(),this.m7=new hr,this.w7=mr(function(n){return i.y7(t,n,i.w7)},this.m7)},i.pBt=function(){var t=this.hR;if(t){for(var n,i=new Date(t.creationDate).getTime(),r=NaN,e=Lt(t.presentations);!(n=e()).done;){var s=n.value;s.currentTime&&(r=s.currentTime.value/(s.currentTime.scale||1)*1e3)}if(!S(r))return new Date(i-r)}},i.yBt=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.wBt!==jT.lz&&this.vDt?(this.vDt.Un(),this.wBt!==jT.OL&&this.wBt!==jT.TW?[3,2]:[4,this.vDt.LDt]):[2];case 1:t.sent(),"vod"===this.vDt.hR.b0&&this.vDt.Tn(),t.label=2;case 2:return[2]}})}).call(this)},i.Ta=function(t,n,i){return Vt(function(){var n,r;return zt(this,function(e){switch(e.label){case 0:return dr(i),[4,this.hr()];case 1:return e.sent(),dr(i),ZA(t)?(n=t,this.Ac=n,r=new yz(this.nV),this.bBt=this.SBt(t),this.jW=new jX(this,this.TL,this.bBt),this.jW.Rt=!0,this.jW.wn("latencyrecoveryseek",this.Rs),this.Fx.Ea(this.jW),this.vDt=new GX(n,r,this.TL,this.oq,this.nV,this.UDt,this.jW,this._dt,this,this.hBt,this.Rz),this.vDt.wn(eh.Ww,this.Rs),this.vDt.wn(zm.ma,this.TBt),this.YL.BI=this.vDt.ht,this.$L.BI=this.vDt.rt,this.lq.IW(t.contentProtection),kr(this.yBt()),[2]):(this.ZW=new fd(cd.SOURCE_INVALID,"HESP source incorrectly configured"),this.JW=hg(this.ZW),this.ABt(this.ZW),[2,ut.resolve()])}})}).call(this)},i.Px=function(t,n,i,r){return ut.resolve()},i.xx=function(){return ut.resolve()},i.SBt=function(t){return t.latencyConfiguration?t.latencyConfiguration:Hz()},i.Gx=function(){return Vt(function(){var t,n;return zt(this,function(i){switch(i.label){case 0:return this.vDt?(this.$et=!1,this.vDt.Un(),[4,this.vDt.W]):[2];case 1:return i.sent(),this.So(new cT(this.MP)),n=this.vDt.ww(XX.Xz),this.oR(),[4,n];case 2:return i.sent(),this.vDt.Tn(),[4,this.TL.Gx()];case 3:return i.sent(),null==(t=this.jW)||t.Tn(),[2]}})}).call(this)},i.zx=function(){var t;this.vDt&&(this.$et=!0,this.So(new hT(this.MP)),this.vDt.Xx(),null==(t=this.jW)||t.Xx(),this.TL.zx())},i.oR=function(){var t=this;if(this.NEt)throw new y("Cannot seek while resetting");this.m7.Zg(),this.m7=new hr,this.w7=mr(function(n){return t.tBt(t.w7,n)},this.m7)},i.y7=function(t,n,i){return Vt(function(){var r,e,s;return zt(this,function(u){switch(u.label){case 0:if(this.NEt)throw new y("Cannot seek while resetting");return r=t,this.kBt(r),this.Sx.length>0&&(r=TA.jn(this.Sx).DM(r),this.kBt(r)),this.vDt?i?[4,i.catch(di)]:[3,2]:[2];case 1:u.sent(),dr(n),u.label=2;case 2:return u.trys.push([2,4,,5]),e=this.TL.ww(eh.Zw,n),this.TL.My(r),this.vDt.My(r),[4,e];case 3:return u.sent(),[3,5];case 4:throw lr(s=u.sent()),this.vDt.Xx(),this.EBt(),s;case 5:return this.PBt(),[2]}})}).call(this)},i.tBt=function(t,n){return Vt(function(){var i,r,e,s,u,o,h,c;return zt(this,function(a){switch(a.label){case 0:return this.So(new rh("golive")),i=this.XDt,this.kBt(i),this.vDt?t?[4,t.catch(di)]:[3,2]:[2];case 1:a.sent(),dr(n),a.label=2;case 2:return a.trys.push([2,11,,13]),r=this.jW.nL.targetOffset,[4,this.vDt.LDt];case 3:a.sent(),i&&r>=1?(this.jW.LL()||(s=b.min(1,.5*r),r-=s),e=i-r):e=this.XDt?this.XDt-.2:void 0,this.vDt.oR(e),a.label=4;case 4:return this.ikt.V>0?[4,this.vDt.ww(LR.lZ,n)]:[3,6];case 5:return a.sent(),[3,4];case 6:u=this.ikt,a.label=7;case 7:return 0!==this.ikt.UM(u).V?[3,9]:[4,this.vDt.ww(LR.lZ,n)];case 8:return a.sent(),[3,7];case 9:return e=this.ikt.Tn(this.ikt.V-1),e=this.xBt(e),this.kBt(e),o=this.TL.ww(eh.Zw,n),this.TL.My(e,!0),[4,o];case 10:return a.sent(),[3,13];case 11:if(vr(h=a.sent()))throw null==(c=this.jW)||c.Tn(),h;return this.vDt.Xx(),[4,this.vDt.VDt()];case 12:throw a.sent(),this.EBt(),h;case 13:return this.PBt(),[2]}})}).call(this)},i.kBt=function(t){this.Sz=!0,this.gBt=t,this.So(new dT(this.MP))},i.PBt=function(){this.Sz&&(this.gBt=void 0,this.Sz=!1,this.So(new lT(this.MP)))},i.EBt=function(){this.gBt=void 0,this.Sz=!1},i.xBt=function(t){return t},i.IBt=function(){var t;null==(t=this.vDt)||t.Xx()},i.ABt=function(t){this.So(new _b(t)),this.IBt()},i.MEt=function(t,n,i){return Vt(function(){var r;return zt(this,function(e){switch(e.label){case 0:return dr(i),null==(r=this.jW)||r.Xx(),t?[4,t.catch(di)]:[3,2];case 1:e.sent(),e.label=2;case 2:return n?[4,n.catch(di)]:[3,4];case 3:e.sent(),e.label=4;case 4:return[4,this.hBt.hr()];case 5:return e.sent(),this.vDt?[4,this.vDt.zg()]:[3,7];case 6:e.sent(),this.vDt=void 0,e.label=7;case 7:return dr(i),[4,this.TL.hr()];case 8:return e.sent(),dr(i),this.TL.Aq(),this.$L.hr(),this.YL.hr(),this.EBt(),this.bq.hr(),this.UDt.hr(),this.ZW=void 0,this.JW=void 0,this.$et=!0,this.lBt=!1,this.Ac=void 0,this.NEt=void 0,this.bBt=void 0,[2]}})}).call(this)},i.hr=function(){return this.m7.Zg(),this.m7=new hr,this.RBt.Zg(),this.RBt=new hr,this.NEt=this.MEt(this.w7,this.NEt,this.RBt.Yg).catch(function(t){return wr(t)}),this.NEt},i.kn=function(){return Vt(function(){var t,n;return zt(this,function(i){switch(i.label){case 0:return this.MI(),this.bq.kn(),this.kq.zg(),this.Ac?[4,this.hr()]:[3,2];case 1:i.sent(),i.label=2;case 2:return this.Vo(),this.TL.Eq=void 0,null==(t=this.jW)||t.mn("latencyrecoveryseek",this.Rs),null==(n=this.jW)||n.zg(),[4,this.hBt.kn()];case 3:return i.sent(),this.Gl.kn(),this.YL.kn(),this.$L.kn(),[2]}})}).call(this)},Nt(n,[{key:"ht",get:function(){return this.YL}},{key:"rt",get:function(){return this.$L}},{key:"hR",get:function(){var t,n;return null==(n=this.vDt)||null==(t=n.hR)?void 0:t.hR}},{key:"Mx",get:function(){return this.TL.Mx},set:function(t){this.TL.Mx=t}},{key:"Vx",get:function(){return!1},set:function(t){}},{key:"hq",get:function(){return this.oq}},{key:"$P",get:function(){return this.TL.$P},set:function(t){this.TL.$P=t}},{key:"MP",get:function(){var t;return null!=(t=this.gBt)?t:this.TL.MP},set:function(t){this.OP(t)}},{key:"CP",get:function(){var t=this.pBt();if(t)return new Date(t.getTime()+1e3*this.MP)},set:function(t){var n=this.pBt();t&&n&&(this.MP=n.getTime()-t.getTime())}},{key:"bt",get:function(){return this.Ac}},{key:"ux",get:function(){return this.TL.ux},set:function(t){this.TL.ux=t}},{key:"ct",get:function(){var t=this.TL.ct;return t===bi?1/0:t}},{key:"UP",get:function(){return!1}},{key:"WP",get:function(){return this.ZW}},{key:"lt",get:function(){return this.JW}},{key:"zP",get:function(){return this.mBt}},{key:"jP",get:function(){}},{key:"KP",get:function(){return!1}},{key:"JP",get:function(){return Yu({},{iO:0,eO:0,sO:0,nO:0,rO:0,hO:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.TL.ZP())}},{key:"sx",get:function(){return!0}},{key:"kx",get:function(){return this.Sz}},{key:"nq",get:function(){}},{key:"nt",get:function(){return this.Gl}},{key:"Rx",get:function(){return this.TL.Rx}},{key:"Bx",get:function(){return this.TL.Bx}},{key:"IP",get:function(){return this.ikt._s()}},{key:"ikt",get:function(){return this.vDt?this.vDt.IP:TA.iL()}},{key:"_x",get:function(){return this.TL._x._s()}},{key:"Sx",get:function(){var t,n;return null!=(n=null==(t=this.vDt)?void 0:t.Sx._s())?n:TA.iL()._s()}},{key:"hx",get:function(){return this.$et}},{key:"rR",get:function(){return!0}},{key:"Fx",get:function(){return this.Cz}},{key:"XDt",get:function(){var t;return null==(t=this.vDt)?void 0:t.XDt}},{key:"BL",get:function(){if(!this.hx&&this.lBt){var t=this.MP,n=this.UDt.XIt(t);if(void 0!==n){var i=this.ikt,r=0;if(i.V>0){var e=i.An(i.V-1);r=b.max(e-t,0)}return b.max(n,r)}}}},{key:"eR",get:function(){var t;return null==(t=this.vDt)?void 0:t.eR}},{key:"sR",get:function(){var t;return null==(t=this.vDt)?void 0:t.sR}},{key:"nR",get:function(){var t;return null==(t=this.vDt)?void 0:t.nR}},{key:"Ax",get:function(){return this.TL.Ax}},{key:"mx",get:function(){return this.wBt},set:function(t){this.wBt=t,this.yBt()}}]),n}(th),KX=function(t){function n(n,i,r,e,s,u){var o;return(o=t.call(this,n,i,r,e,u)||this).xq=void 0,o.OBt=void 0,o.MBt=!1,o.CBt=!1,o.BBt=[],o.NBt=void 0,o.LBt=function(){var n=o.$P||0===o.Mx;"hidden"!==v.visibilityState||o.hx||!n||o.Aa().XL?"visible"===v.visibilityState&&o.MBt&&(o.CBt=!0,o.NBt=Vn.Og(function(){for(var n,i=Lt(o.BBt);!(n=i()).done;){var r=n.value;t.prototype.So.call(RW(o),r)}o.NBt=void 0,o.CBt=!1},2e3),kr(o.Gx()),o.MBt=!1):(o.zx(),o.MBt=!0)},o.xq=s,o.OBt=n,On.Cg&&v.addEventListener("visibilitychange",o.LBt),o}Ct(n,t);var i=n.prototype;return i.So=function(n){if(this.CBt){if(n.type===eh.Zw)return void this.DBt();if(n.type===Ey.SM||n.type===eh.$w||n.type===Ey.TM)return void this.BBt.push(n)}t.prototype.So.call(this,n)},i.DBt=function(){this.CBt=!1,void 0!==this.NBt&&Vn.Lg(this.NBt);var n=Ui(this.BBt,function(t){return t.type===Ey.TM});n&&t.prototype.So.call(this,n),Yi(this.BBt)},i.Wx=function(){if(cO(this.TL))return this.TL.Wx()},i.hr=function(){var n=this;return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return this.MBt=!1,this.DBt(),[4,t.prototype.hr.call(n)];case 1:return i.sent(),[2]}})}).call(this)},i.kn=function(){var n=this;return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return v.removeEventListener("visibilitychange",this.LBt),this.DBt(),[4,t.prototype.kn.call(n)];case 1:return i.sent(),[4,this.TL.zg()];case 2:return i.sent(),[4,this.xq.Pq(this.OBt)];case 3:return i.sent(),[2]}})}).call(this)},i.xBt=function(t){return On.X_&&On.Q_>=15&&On.Kv?t+.25:t},n}(YX);F(),Et(),Wt(),Bt(),Qt();var JX=function(){function t(){}var n=t.prototype;return n.Xq=function(t,n){return Vt(function(){return zt(this,function(n){return[2,ZX(t.type)]})})()},n.jq=function(t){return Vt(function(){return zt(this,function(n){return[2,Dp(t)]})})()},Nt(t,[{key:"Kq",get:function(){return kb._R}}]),t}();function ZX(t){if(!t)return!1;var n=t.toLowerCase();return Uo(n,hA.vR)||Uo(n,hA._R)}var $X=function(t){function n(){return t.apply(this,arguments)||this}Ct(n,t);var i=n.prototype;return i.PR=function(t,n,i,r,e,s,u){var o=new IO(n),h=o.Gq(ig.Bk);return new KX(h,i,e,s,o,r)},i.Xq=function(n,i){return Vn.dP&&zd?On.w_||On.S_||On.D_?ut.resolve(!1):De(n.useManagedMediaSource)?t.prototype.Xq.call(this,n,i):ut.resolve(!1):ut.resolve(!1)},i.Qq=function(){return!1},n}(JX);XT(new $X),F(),Et(),Wt(),Bt(),Dt(),H(),Qt(),F(),Et(),Wt(),Dt(),Qt();var tq=function(t){function n(n,i,r,e,s,u){var o;return(o=t.call(this,n,i,r,e,u)||this).xq=void 0,o.xq=s,o}Ct(n,t);var i=n.prototype;return i.Wx=function(){if(cO(this.TL))return this.TL.Wx()},i.kn=function(){var n=this;return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return[4,t.prototype.kn.call(n)];case 1:return i.sent(),[4,this.xq.Pq(this.TL)];case 2:return i.sent(),[2]}})}).call(this)},n}(YX),nq=function(t){function n(){return t.apply(this,arguments)||this}Ct(n,t);var i=n.prototype;return i.Xq=function(n,i){var r=this;return Vt(function(){var e,s,u,o;return zt(this,function(h){switch(h.label){case 0:return On.IS_IOS_CHROME?[2,!1]:[4,t.prototype.Xq.call(r,n,i)];case 1:if(u=h.sent(),!(null!=(o=null==(s=Rr())||null==(e=s.canPlayType)?void 0:e.call(s,hA.dR))?o:"")||!u||!("serviceWorker"in l))return[2,!1];h.label=2;case 2:return h.trys.push([2,4,,5]),[4,Tr(l.serviceWorker.ready,1e3)];case 3:return h.sent(),[2,!0];case 4:return h.sent(),[2,!1];case 5:return[2]}})})()},i.jq=function(n){var i=this;return Vt(function(){return zt(this,function(r){switch(r.label){case 0:return n.fairplay?[4,t.prototype.jq.call(i,n)]:[2,!1];case 1:return[2,r.sent()]}})})()},i.PR=function(t,n,i,r,e,s,u){if(V(t,HTMLDivElement)){var o=n.dst(ig.Bk);return new tq(o,i,e,s,n,r)}throw new fd(cd.CONFIGURATION_ERROR,"Container Div element expected.")},i.Qq=function(){return!1},Nt(n,[{key:"Kq",get:function(){return kb.bW}}]),n}(JX);On.X_&&On.ru&&XT(new nq),F(),Et(),F(),Et(),F(),Et(),Wt(),Bt(),Dt(),H(),at(),Ut(),Qt(),F(),Et(),Bt();var iq="theo_live_user_id",rq=function(){function t(t){this.externalId=void 0,this.id=void 0,this.userId=void 0,this.yb=void 0,this.externalId=t,this.id=qE(),this.userId=eq(),this.yb=0}return t.prototype.incrementSequenceNumber=function(){this.yb+=1},Nt(t,[{key:"sequenceNumber",get:function(){return this.yb}}]),t}();function eq(){try{var t=localStorage.getItem(iq);if(t)return t;var n=qE();return localStorage.setItem(iq,n),n}catch(t){return qE()}}function sq(t){var n;return{hespSrc:t.hespSrc,type:"theo.live",hlsSrc:t.hlsSrc,maxMobileBitrate:t.maxMobileBitrate,targetLatency:null==(n=t.metadata.customization)?void 0:n.targetLatency,contentProtection:t.drmConfig?t.drmConfig:void 0}}function uq(t){var n=t.integration,i=t.widevine,r=t.playready,e=t.fairplay;return Yu({integration:n},i&&{widevine:{licenseAcquisitionURL:i.licenseUrl}},r&&{playready:{licenseAcquisitionURL:r.licenseUrl}},e&&{fairplay:{licenseAcquisitionURL:e.licenseUrl,certificateURL:e.certificateUrl}})}function oq(t,n){return{id:t.id,name:t.name,deleted:"deleted"===t.status,targetLatency:t.source.targetLatency,maxMobileBitrate:t.source.maxMobileBitrate,endpoints:[{hespSrc:t.source.hespSrc,hlsSrc:t.source.hlsSrc,weight:1,priority:1,contentProtection:t.source.contentProtection},t.fallback&&n?{hespSrc:t.fallback.hespSrc,hlsSrc:t.fallback.hlsSrc,weight:1,priority:2,contentProtection:t.fallback.contentProtection}:void 0].filter(Un)}}F(),Et(),Wt(),Bt(),Dt(),Ut(),Qt(),F(),Et(),F(),Et(),Wt(),at(),Qt(),F(),Et();var hq=function(t){return t.STARTING="s",t.PLAYING="p",t.SEEKING="k",t.REBUFFERING="r",t.PAUSED="a",t.ENDED="e",t.QUIT="q",t}({}),cq=function(t){return t.MANIFEST="m",t.AUDIO="a",t.VIDEO="v",t.OTHER="o",t}({});function aq(t){return 100*b.round(t/100)}function fq(t){for(var n=t.LP(),i=t.RP(),r=0;r<i.length;r++)if(i.start(r)<=n&&n<=i.end(r))return 1e3*(i.end(r)-n);return 0}function vq(t){return Ui(t.II,function(t){return t.Rt})}function dq(t){return Zi(t.KI.II,function(t){return t.kW})}function lq(t){return $i(t.KI.II,function(t){return t.kW})}F(),Et(),Bt(),F(),Et();var wq=function(){function t(t,n,i,r){var e,s,u,o;this.Vp=void 0,this.FBt=Date.now(),this.HBt=0,this.qBt=0,this.GBt=void 0,this.XBt=void 0,this.rq=0,this.zBt=0,this.VBt=0,this._f=void 0,this.JW=void 0,this.oa=void 0,this.Vp=t,this.oa=n,this.GBt=null==(s=vq(this.oa.rt))||null==(e=s.XI)?void 0:e.o,this.XBt=null==(o=vq(this.oa.ht))||null==(u=o.XI)?void 0:u.o,this._f=i,this.JW=r}var n=t.prototype;return n.UBt=function(){var t=this.oa.oX.kY.kW,n=this.oa.Fx.BL,i=fq(this.oa);t>0&&void 0!==i&&void 0!==n&&(this.VBt+=1,this.HBt=this.WBt(this.HBt,i),this.qBt=this.WBt(this.qBt,1e3*this.oa.Fx.Cd.targetOffset),this.rq=this.WBt(this.rq,1e3*n),this.zBt=this.WBt(this.zBt,t/1e3))},n.WBt=function(t,n){return t+(n-t)/this.VBt},n.PR=function(){var t={sta:this.Vp,ts:this.FBt,"theo-vt":this.GBt,"theo-at":this.XBt,"theo-d":this.ct,"theo-r":this._f,"theo-e":this.JW};return this.VBt>0?Yu({},t,{bl:aq(this.HBt),tbl:aq(this.qBt),ltc:aq(this.rq),mtp:aq(this.zBt),"theo-w":this.VBt}):t},n.jBt=function(){return new t(this.Vp,this.oa,this._f)},t.starting=function(n,i,r){return new t(hq.STARTING,n,i,r)},t.playing=function(n){return new t(hq.PLAYING,n)},t.seeking=function(n,i){return new t(hq.SEEKING,n,i)},t.rebuffering=function(n,i){return new t(hq.REBUFFERING,n,i)},t.paused=function(n){return new t(hq.PAUSED,n)},t.ended=function(n){return new t(hq.ENDED,n)},t.quit=function(n){return new t(hq.QUIT,n)},Nt(t,[{key:"ct",get:function(){return Date.now()-this.FBt}}]),t}(),gq=function(){function t(t,n,i){var r=this;this.oa=void 0,this.tNt=void 0,this.rNt=void 0,this.vNt=void 0,this.YBt=void 0,this.eNt=[],this.KBt=void 0,this.lBt=!1,this.nX=!1,this.cNt=function(t){var n,i,e;r.sNt(wq.starting(r.oa,"fallback",null!=(e=null==(n=t.reason)?void 0:n.message)?e:null==(i=r.oa.qP())?void 0:i.message))},this.dNt=function(){r.sNt(wq.starting(r.oa,"loadChannel"))},this.lNt=function(){r.sNt(wq.ended(r.oa))},this.GW=function(t){t.Ht.wn(Dw.TI,r.ih)},this.ih=function(){var t,n,i,e,s=null==(n=vq(r.oa.rt))||null==(t=n.XI)?void 0:t.o,u=null==(e=vq(r.oa.ht))||null==(i=e.XI)?void 0:i.o;s&&u&&(r.KBt&&r.KBt.Vp===hq.PLAYING&&r.KBt.GBt===s&&r.KBt.XBt===u||r.sNt(wq.playing(r.oa)))},this.IL=function(){r.lBt=!0,r.nX=!1,r.sNt(wq.playing(r.oa))},this.aNt=function(){r.lBt&&!r.nX&&(r.nX=!0,r.sNt(wq.seeking(r.oa,"latencyRecovery")))},this.uNt=function(){r.lBt&&!r.nX&&(r.nX=!0,r.sNt(wq.seeking(r.oa,"goLive")))},this.xL=function(){r.oa.kx||r.sNt(wq.rebuffering(r.oa,"visible"===v.visibilityState?void 0:"invisible"))},this.oNt=function(){r.sNt(wq.paused(r.oa))},this.fNt=function(t){var n=Vn.Dh(t.url),i=function(t){var n=t.pathname;if(Fo(n,"manifest.json"))return cq.MANIFEST;if(Lo(n,"/video/"))return cq.VIDEO;if(Lo(n,"/audio/"))return cq.AUDIO;return cq.OTHER}(n);if(i!==cq.OTHER){r.YBt.incrementSequenceNumber();var e=Yu({},t.headers,{"CMCD-Request":r.QBt(),"CMCD-Object":r.JBt(i),"CMCD-Status":r.ZBt(),"CMCD-Session":r.$Bt()});i===cq.VIDEO&&!Fo(n.pathname,".hspi")&&r.KBt&&(r.sNt(r.KBt.jBt()),e=Yu({},e,r.iNt())),t.redirect(Yu({},t,{headers:e}))}},this.hNt=function(){kr(r.nNt())},this.oa=t,this.tNt=n,this.YBt=i;var e=n.endpoints[0],s=(null==e?void 0:e.hespSrc)||(null==e?void 0:e.hlsSrc)||"";this.rNt=Vn.Dh("bye",s).href,f.addEventListener("beforeunload",this.hNt),this.oa.wn(Ey.TM,this.IL),this.oa.wn(Ey.SM,this.xL),this.oa.wn(eh.jw,this.oNt),this.oa.zP.wn("latencyrecoveryseek",this.aNt),this.oa.zP.wn("golive",this.uNt),this.oa.oX.gY(this.fNt),this.oa.rt.wn(Sw.eI,this.GW),this.oa.ht.wn(Sw.eI,this.GW),this.oa.tnt.addEventListener("intenttofallback",this.cNt),this.oa.tnt.addEventListener("distributionloadstart",this.dNt),this.oa.tnt.addEventListener("distributionoffline",this.lNt),this.KBt=wq.starting(this.oa,"loadchannel"),this.vNt=Vn.fm(function(){var t;null==(t=r.KBt)||t.UBt()},1e3)}var n=t.prototype;return n.QBt=function(){var t,n=this.oa.Fx.BL,i=fq(this.oa),r=this.oa.oX.kY.kW;return _q({bl:void 0!==i?aq(i):void 0,tbl:aq(1e3*this.oa.Fx.Cd.targetOffset),ltc:void 0!==n?aq(1e3*n):void 0,mtp:void 0!==r?aq(r/1e3):void 0,sta:null==(t=this.KBt)?void 0:t.Vp,su:!this.lBt||void 0,"theo-sq":this.YBt.sequenceNumber})},n.JBt=function(t){var n,i,r=function(t,n){switch(n){case cq.VIDEO:return vq(t.rt);case cq.AUDIO:return vq(t.ht)}}(this.oa,t);return _q({br:(null==r||null==(n=r.XI)?void 0:n.kW)?aq((null==r||null==(i=r.XI)?void 0:i.kW)/1e3):void 0,ot:t,tb:r?aq(lq(r).kW/1e3):void 0,lb:r?aq(dq(r).kW/1e3):void 0})},n.ZBt=function(){return _q({"theo-cw":this.oa.xe.clientWidth,"theo-ch":this.oa.xe.clientHeight,"theo-m":this.oa.$P,"theo-vo":b.ceil(100*this.oa.Mx)})},n.$Bt=function(){var t;return _q({sf:mq(this.oa.bt),sid:this.YBt.id,st:"l",v:2,"theo-eid":null==(t=this.YBt.externalId)?void 0:t.substring(0,128),"theo-cn":this.tNt.name.substring(0,128),"theo-v":"10.0.0","theo-t":"web","theo-u":this.YBt.userId})},n.iNt=function(){var t={"CMCD-States":btoa(JSON.stringify(this.eNt))};return this.eNt=[],t},n.sNt=function(t){this.KBt&&this.eNt.push(this.KBt.PR()),this.KBt=t},n.nNt=function(){return Vt(function(){var t;return zt(this,function(n){switch(n.label){case 0:return this.KBt&&(this.eNt.push(this.KBt.PR()),this.KBt=void 0),this.eNt.push(wq.quit(this.oa).PR()),t=Yu({},this.iNt(),{"CMCD-Session":this.$Bt()}),[4,this.oa.SP.lk({Yu:this.rNt,fk:t,Qk:!0})];case 1:return[4,n.sent().ck()];case 2:return n.sent(),[2]}})}).call(this)},n.destroy=function(){var t=this;this.hNt(),f.removeEventListener("beforeunload",this.hNt),this.oa.mn(Ey.TM,this.IL),this.oa.mn(Ey.SM,this.xL),this.oa.mn(eh.jw,this.oNt),this.oa.zP.mn("latencyrecoveryseek",this.aNt),this.oa.zP.mn("golive",this.uNt),this.oa.rt.mn(Sw.eI,this.GW),this.oa.ht.mn(Sw.eI,this.GW),this.oa.rt.II.forEach(function(n){return n.mn(Dw.TI,t.ih)}),this.oa.ht.II.forEach(function(n){return n.mn(Dw.TI,t.ih)}),this.oa.tnt.removeEventListener("intenttofallback",this.cNt),this.oa.tnt.removeEventListener("distributionloadstart",this.dNt),this.oa.tnt.removeEventListener("distributionoffline",this.lNt),this.oa.oX.wY(this.fNt),Vn.vm(this.vNt)},t}();function _q(t){return k.keys(t).map(function(n){return function(t,n){switch(void 0===n?"undefined":W(n)){case"boolean":return n?t:t+"=false";case"number":return t+"="+n;case"string":return t+'="'+n+'"';default:return}}(n,t[n])}).filter(Boolean).sort().join(",")}function mq(t){if(t)return t.type===hA.dR||t.type===hA.lR?"h":t.type===hA._R?"e":void 0}var yq=function(t){function n(n,i,r){var e;return(e=t.call(this,n,"Could not load channel with id "+i+": "+r)||this).channelId=void 0,e.reason=void 0,e.channelId=i,e.reason=r,e}return Ct(n,t),n}(fd),pq=function(t){function n(n){return t.call(this,cd.THEO_LIVE_CHANNEL_NOT_FOUND,n,"The channel could not be found")||this}return Ct(n,t),n}(yq),kq=function(t){function n(n){return t.call(this,cd.THEO_LIVE_CHANNEL_NOT_FOUND,n,"This account has been locked")||this}return Ct(n,t),n}(yq),bq=function(t){function n(n){return t.call(this,cd.THEO_LIVE_CHANNEL_NOT_FOUND,n,"The channel got deleted")||this}return Ct(n,t),n}(yq),Aq=function(){function t(t,n){this.nV=void 0,this.gNt=void 0,this._Nt=void 0,this.nV=t,this.gNt=n,this._Nt=new Map}return t.prototype.Bgt=function(t){var n=this._Nt.get(t);if(n)return n;var i=new Tq(t,this.nV,this.gNt);return this._Nt.set(t,i),i},t}(),Tq=function(){function t(t,n,i){var r;this.hS=void 0,this.nV=void 0,this.gNt=void 0,this.mNt=void 0,this.yNt=void 0,this.wNt=void 0,this.bNt=void 0,this.hS=t,this.nV=n,this.gNt=i,this.bNt=new Ld,this.gNt.discoveryHeader&&this.bNt.append("x-theolive-discovery",this.gNt.discoveryHeader),this.bNt.set("CMCD-Session",_q({sid:this.gNt.sessionId,st:"l",v:2,"theo-eid":null==(r=this.gNt.externalSessionId)?void 0:r.substring(0,128),"theo-v":"10.0.0","theo-t":"web","theo-u":this.gNt.userId})),this.er()}var n=t.prototype;return n.er=function(){var t=this;this.wNt=!1,this.mNt=ce(),this.yNt=this.RSt(),this.yNt.catch(function(){return t.wNt=!0})},n.RSt=function(){return Vt(function(){var t,n,i,r,e,s,u,o,h,c,a;return zt(this,function(f){switch(f.label){case 0:t=Lt(this.gNt.discoveryUrls),f.label=1;case 1:return(n=t()).done?[3,8]:(i=n.value,[4,this.ANt(this.hS,i,this.bNt)]);case 2:if(!(r=f.sent()))return[3,7];if(!function(t){return void 0!==t.mode}(r))return[3,6];if(e=r.mode,s=r.status,u=r.fallback,o=r.metadata,"locked"===e)throw new kq(this.hS);if("deleted"===s)throw new bq(this.hS);return c={id:this.hS,name:o.name,mode:e,status:s,source:sq(r)},u?[4,this.SNt(u,i,this.bNt)]:[3,4];case 3:return a=f.sent(),[3,5];case 4:a=void 0,f.label=5;case 5:return[2,oq.apply(void 0,[(c.fallback=a,c.insights=null==o?void 0:o.insights,c.enhancedLogging=null==o?void 0:o.enhancedLogging,c.customization=null==o?void 0:o.customization,c.sseEndpoint=r.sseEndpoint,c),null==(h=this.gNt.fallbackEnabled)||h])];case 6:return[2,r];case 7:return[3,1];case 8:throw new pq(this.hS)}})}).call(this)},n.SNt=function(t,n,i){return Vt(function(){var r;return zt(this,function(e){switch(e.label){case 0:return"theo.live"!==t.type?[2,{hespSrc:t.src,type:t.type}]:[4,this.ANt(t.src,n,i)];case 1:return(r=e.sent())?[2,sq(r)]:[2,void 0]}})}).call(this)},n.ANt=function(t,n,i){return Vt(function(){var r;return zt(this,function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),(r=Vn.Dh(t,n)).searchParams.set("osName",function(){var t=Vn.Zs.ap;if("ios"===t||"macos"===t)return"apple";return t}()),r.searchParams.set("deviceType",Vn.Zs.cp),r.searchParams.set("sdkType","web"),[4,this.nV.lk({Yu:r.toString(),fk:i})];case 1:return[4,e.sent().FT()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,void 0];case 4:return[2]}})}).call(this)},Nt(t,[{key:"pNt",get:function(){return ce()-this.mNt>36e5}},{key:"TNt",get:function(){return(this.wNt||this.pNt)&&this.er(),this.yNt}}]),t}();F(),Et(),Wt(),Bt(),Dt(),Qt();var Sq=function(t){function n(n){var i;return(i=t.call(this,"distributionloadstart")||this).distributionId=void 0,i.distributionId=n,i}return Ct(n,t),n}(rh),Eq=function(t){function n(n){var i;return(i=t.call(this,"distributionoffline")||this).distributionId=void 0,i.distributionId=n,i}return Ct(n,t),n}(rh),Iq=function(t){function n(n){var i;return(i=t.call(this,"endpointloaded")||this).endpoint=void 0,i.endpoint=n,i}return Ct(n,t),n}(rh),Rq=function(t){function n(n){var i;return(i=t.call(this,"intenttofallback")||this).reason=void 0,i.reason=n,i}return Ct(n,t),n}(rh),Cq=function(t){function n(){return t.call(this,"enterbadnetworkmode")||this}return Ct(n,t),n}(rh),Dq=function(t){function n(){return t.call(this,"exitbadnetworkmode")||this}return Ct(n,t),n}(rh),Pq=function(t){function n(n){var i;return(i=t.call(this)||this).oa=void 0,i.hu=void 0,i.oa=n,i}return Ct(n,t),n.prototype.PNt=function(t){return this.oa.PNt(t)},Nt(n,[{key:"Ca",get:function(){return this.hu||(this.hu=function(t){return{addEventListener:function(n,i){t.wn(n,i)},removeEventListener:function(n,i){t.mn(n,i)},get badNetworkMode(){return t.kNt},set badNetworkMode(n){t.kNt=n},get authToken(){return t.ENt},set authToken(n){t.ENt=n},preloadPublications:function(n){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return[4,t.PNt(n)];case 1:return[2,i.sent().map(function(t){return{name:t.name}})]}})})()}}}(this)),this.hu}},{key:"kNt",get:function(){return this.oa.kNt},set:function(t){this.oa.kNt=t}},{key:"ENt",get:function(){return this.oa.ENt},set:function(t){this.oa.ENt=t}}]),n}(th);var Nq=["https://discovery.theo.live/channels/"],Bq=8e5,xq=function(t){function n(n,i){var r,e;(r=t.call(this,n,i)||this).DNt=void 0,r.YBt=void 0,r.qNt=void 0,r.GNt=void 0,r.XNt=void 0,r.Ac=void 0,r.fz=void 0,r.zNt=void 0,r.tNt=void 0,r.JNt=void 0,r.jDt=!1,r.Lz=void 0,r.JW=void 0,r.nT=new hr,r.RNt=void 0,r.lBt=!1,r.n7=!1,r.KNt=void 0,r.ZNt=void 0,r.MNt=void 0,r.NNt=void 0,r.$Nt=[],r.FNt=!1,r.HNt=void 0,r.LNt=!0,r.CNt=0,r.ONt=void 0,r.GW=function(t){var n,i,e=t.Ht,s=null==(n=r.tNt)?void 0:n.maxMobileBitrate;void 0!==s&&Vn.Zs.Ks&&e.KI.II.filter(function(t){return t.kW>s}).forEach(function(t){return e.KI._S(t)});e.wn(Dw.TI,r.ih);var u=Oq(null!=(i=e.YI)?i:e.KI.II);e.YI=u.length>0?u:Oq(e.KI.II)},r.ih=function(t){var n,i=t.kot;(!i||(null!=(n=i.tyt)?n:i.kW)>=Bq)&&r.VNt()},r.aNt=function(){r.UNt(),r.$Nt.push(Vn.Mg()),r.$Nt=r.$Nt.filter(function(t){return Vn.Mg()-t<=3e5}),r.$Nt.length>=3&&(r.$Nt=[],r.DNt.So(new Rq(new fd(cd.THEO_LIVE_UNKNOWN_ERROR,"Unstable playback detected."))),kr(r.BNt()))},r.WNt=function(t){r.jDt&&r.HNt&&("manifest"!==t.type&&"segment"!==t.type||(t.headers.Authorization="Bearer "+r.HNt,t.redirect(t)))},r.DNt=new Pq(r);var s,u,o,h=n.Cd.theoLive;return r.GNt={sessionId:null!=(s=null==h?void 0:h.sessionId)?s:qE(),userId:null!=(u=null==h?void 0:h.userId)?u:eq(),externalSessionId:null==h?void 0:h.externalSessionId,analyticsEnabled:!1!==(null==h?void 0:h.analyticsEnabled),fallbackEnabled:!1!==(null==h?void 0:h.fallbackEnabled),discoveryUrls:[].concat([null==h?void 0:h.discoveryUrl],null!=(o=null==h?void 0:h.discoveryUrls)?o:[],Nq).filter(Un).map(function(t){return t.lastIndexOf("/")===t.length-1?t:t+"/"})},r.YBt=new rq(null==(e=r.GNt)?void 0:e.externalSessionId),r.qNt=new Aq(n.SP,r.GNt),r.oa.zP.wn("latencyrecoveryseek",r.aNt),r}Ct(n,t);var i=n.prototype;return i.xNt=function(){this.oa.zP.wn("latencyrecoveryseek",this.aNt),this.oa.rt.wn(Sw.eI,this.GW)},i.INt=function(){this.oa.zP.mn("latencyrecoveryseek",this.aNt),this.oa.rt.mn(Sw.eI,this.GW)},i.$x=function(n){var i=this;if(!this.jDt||this.JW||this.Lz)return t.prototype.$x.call(this,n);if(n.type===Ey.TM)return void 0!==this.RNt?(Vn.Lg(this.RNt),this.RNt=void 0,this.lBt||this.So(new Oy(this.LP()))):this.So(new Oy(this.LP())),this.CNt=0,this.lBt=!0,!0;if(n.type===Ey.SM)return this.RNt||(this.RNt=Vn.Og(function(){i.So(new Ny(i.LP())),i.RNt=void 0},100)),!0;if(n.type===zm.ma){var r;this.CNt++;var e=(null==(r=this.fz)?void 0:r.src)&&Uq(this.fz.src),s=this.CNt>5;return e||s?(this.dispatchErrorEvent(n.errorObject),!0):(this.DNt.So(new Rq(n.errorObject)),kr(this.BNt()),!0)}if(n.type===eh.uo){if(this.NNt=Vn.Mg(),void 0===this.MNt&&(this.MNt=Vn.fm(function(){var t;Vn.Mg()-(null!=(t=i.NNt)?t:0)>15e3&&(i.DNt.So(new Rq(new fd(cd.THEO_LIVE_UNKNOWN_ERROR,"Indefinite stall detected"))),kr(i.BNt()))},1e3)),this.oa.bt&&(this.LNt=!1),this.LNt)return!0}else if(n.type===eh.jw){if(void 0!==this.MNt&&(Vn.vm(this.MNt),this.MNt=void 0),this.oa.bt&&(this.LNt=!0),!this.LNt)return!0}else n.type===eh._y?this.NNt=Vn.Mg():n.type===Ey.bM?this.ONt&&(!function(t,n){var i=Ui(t.rt.II,function(t){return t.o===n.enabledVideoTrackId}),r=Ui(t.rt.II,function(t){return t.Rt});if(i){var e;r&&r.o===i.o||(i.Rt=!0),i.YI=null==(e=n.targetVideoQualities)?void 0:e.map(function(t){return Ui(i.KI.II,function(n){return n.o===t})}).filter(Un)}else r&&(r.Rt=!1);var s=Ui(t.ht.II,function(t){return t.o===n.enabledAudioTrackId}),u=Ui(t.ht.II,function(t){return t.Rt});s?u&&u.o===s.o||(s.Rt=!0):u&&(u.Rt=!1);for(var o,h=Lt(t.nt.II);!(o=h()).done;){var c,a=o.value,f=null!=(c=n.textTrackModes.get(a.o))?c:Hm.Nh;a.Xk!==f&&(a.Xk=f)}}(this.oa,this.ONt),this.ONt=void 0):n.type===eh.ey&&(this.DNt.So(new Rq(new fd(cd.THEO_LIVE_UNKNOWN_ERROR,"manifest not found"))),kr(this.BNt()));return t.prototype.$x.call(this,n)},i.int=function(){return this.DNt.Ca},i.HP=function(){return this.jDt?this.Lz:t.prototype.HP.call(this)},i.qP=function(){return this.jDt?this.JW:t.prototype.qP.call(this)},i.UNt=function(){if(!this.FNt&&(this.FNt=!0,this.DNt.So(new Cq),0!==this.oa.rt.V)){var t,n=this.rt.CI(0),i=tr(n.KI.II,function(t){return t.kW});(null!=(t=i.tyt)?t:i.kW)<Bq?(n.YI=[i],ut.resolve().then(function(){return n.YI=n.KI.II.slice()})):this.VNt()}},i.VNt=function(){if(this.FNt&&(this.FNt=!1,this.DNt.So(new Dq),0!==this.oa.rt.V)){var t,n=this.oa.rt.CI(0),i=Oq(null!=(t=n.YI)?t:n.KI.II);n.YI=i.length>0?i:Oq(n.KI.II)}},i.PNt=function(t){var n=this;return ut.all(t.map(function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,gr(this.qNt.Bgt(t).TNt,this.nT.Yg)];case 1:return[2,n.sent()]}})}).call(n)}))},i.nu=function(){var n;return null!=(n=this.Ac)?n:t.prototype.nu.call(this)},i.Ta=function(n,i){var r=this,e=function(){return t.prototype.Ta};return Vt(function(){var t,s,u,o,h,c,a;return zt(this,function(f){switch(f.label){case 0:this.jDt=!1,s=Lt(null!=(t=null==n?void 0:n.sources)?t:[]),f.label=1;case 1:return(u=s()).done?[3,8]:sT(o=u.value)&&o.type===hA.pR&&o.src?(this.jDt=!0,this.Ac=n,this.fz=o,this.DNt.So(new Sq(o.src)),this.xNt(),Uq(o.src)?(h=Yu({},n,{sources:[Yu({},o,{type:hA._R,useManagedMediaSource:!0})]}),[4,e().call(r,h,i)]):[3,3]):[3,7];case 2:return f.sent(),[2];case 3:this.zNt=this.qNt.Bgt(o.src),f.label=4;case 4:return f.trys.push([4,6,,7]),[4,this.zNt.TNt];case 5:return c=f.sent(),this.tNt=c,this.GNt.analyticsEnabled&&(this.XNt=new gq(this,c,this.YBt)),[2];case 6:throw lr(a=f.sent()),this.jNt(),a;case 7:return[3,1];case 8:return[4,e().call(r,n,i)];case 9:return[2,f.sent()]}})}).call(this)},i.ox=function(){return this.jDt?this.LNt:t.prototype.ox.call(this)},i.Gx=function(){this.n7||(this.n7=!0,this.QNt(!1)),this.LNt=!1,t.prototype.Gx.call(this)},i.zx=function(){this.LNt=!0,t.prototype.zx.call(this)},i.BNt=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return null!=this.ONt||(this.ONt=function(t){var n,i,r=Ui(t.rt.II,function(t){return t.Rt}),e=null==r?void 0:r.o,s=null==r||null==(n=r.YI)?void 0:n.map(function(t){return t.o}),u=null==(i=Ui(t.ht.II,function(t){return t.Rt}))?void 0:i.o,o=Ju();return t.nt.II.forEach(function(t){return o.set(t.o,t.Xk)}),{enabledVideoTrackId:e,targetVideoQualities:s,enabledAudioTrackId:u,textTrackModes:o}}(this.oa)),[4,this.oa.Xx().catch(di)];case 1:return t.sent(),this.QNt(!0),[2]}})}).call(this)},i.QNt=function(t){var n=this;if(this.zNt&&!this.KNt){this.jNt();var i=function(){n.KNt=void 0};this.KNt=this.YNt(this.zNt,t).then(i).catch(i)}},i.YNt=function(t,n){return Vt(function(){var i,r,e,s,u;return zt(this,function(o){switch(o.label){case 0:return i=this,n&&t.er(),[4,t.TNt];case 1:return r=o.sent(),this.tNt=r,[4,this.selectEndpoint(r,this.JNt)];case 2:if(e=o.sent(),this.JNt=e,!e)return[3,7];s=this.convertEndpointToSource(r,e),o.label=3;case 3:return o.trys.push([3,5,,6]),[4,this.oa.Ta(s,(new hr).Yg)];case 4:return o.sent(),[3,6];case 5:return u=o.sent(),this.dispatchErrorEvent(u),this.jNt(),[2];case 6:return this.DNt.So(new Iq(e)),this.LNt||this.oa.Gx(),[3,8];case 7:this.DNt.So(new Eq(r.id)),this.ZNt=Vn.Og(function(){return i.QNt(!0)},15e3),o.label=8;case 8:return[2]}})}).call(this)},i.convertEndpointToSource=function(t,n){var i,r,e={sources:[this.getHespSource(t,n),this.getHlsSource(n)].filter(Un),ads:this.lBt?[]:null==(i=this.Ac)?void 0:i.ads,blockContentIfAdError:null==(r=this.Ac)?void 0:r.blockContentIfAdError,streamType:"live"};if(n.adSrc||n.daiAssetKey){var s,u=null!=(s=e.ads)?s:[],o=u.filter(function(t){return"theoads"===t.integration});o.length>0?o.forEach(function(t){var i,r,e=t;e.sseEndpoint=null!=(i=n.adSrc)?i:e.sseEndpoint,e.daiAssetKey=null!=(r=n.daiAssetKey)?r:e.daiAssetKey}):u.push({integration:"theoads",sseEndpoint:n.adSrc,daiAssetKey:n.daiAssetKey}),e.ads=u}var h=oE(e);return h.sources[0].bypassLicense=!0,h},i.getHespSource=function(t,n){var i,r;if(n.hespSrc)return{type:"application/vnd.theo.hesp+json",src:n.hespSrc,contentProtection:n.contentProtection?uq(n.contentProtection):void 0,useManagedMediaSource:!0,latencyConfiguration:null!=(r=null==(i=this.fz)?void 0:i.latencyConfiguration)?r:Mq(t.targetLatency),hesp:{maxMobileBitrate:t.maxMobileBitrate}}},i.getHlsSource=function(t){if(t.hlsSrc)return{type:"application/x-mpegurl",src:t.hlsSrc,contentProtection:t.contentProtection?uq(t.contentProtection):void 0}},i.dispatchErrorEvent=function(t){var n=V(t,fd)?t:new fd(cd.THEO_LIVE_UNKNOWN_ERROR,t.message,t);this.Lz=hg(n),this.JW=n,this.jNt(),this.So(new _b(n))},i.jNt=function(){void 0!==this.RNt&&(Vn.Lg(this.RNt),this.RNt=void 0),void 0!==this.ZNt&&(Vn.Lg(this.ZNt),this.ZNt=void 0),void 0!==this.MNt&&(Vn.vm(this.MNt),this.MNt=void 0)},i.Xx=function(){var n;return this.nT.Zg(),this.nT=new hr,this.INt(),this.jNt(),this.NNt=void 0,this.jDt=!1,this.n7=!1,this.lBt=!1,null==(n=this.XNt)||n.destroy(),this.XNt=void 0,this.Ac=void 0,this.fz=void 0,this.zNt=void 0,this.tNt=void 0,this.JNt=void 0,this.JW=void 0,this.Lz=void 0,this.CNt=0,this.$Nt=[],this.LNt=!0,this.ONt=void 0,this.FNt&&this.VNt(),t.prototype.Xx.call(this)},i.kn=function(n){var i=this;return Vt(function(){var r;return zt(this,function(e){switch(e.label){case 0:return this.nT.Zg(),this.oa.oX.wY(this.WNt),void 0!==this.RNt&&(Vn.Lg(this.RNt),this.RNt=void 0),this.Vo(),this.INt(),null==(r=this.XNt)||r.destroy(),this.oa.zP.mn("latencyrecoveryseek",this.aNt),[4,t.prototype.kn.call(i,n)];case 1:return e.sent(),[2]}})}).call(this)},i.selectEndpoint=function(t,n){return Vt(function(){var i,r,e,s,u,o,h,c,a,f,v;return zt(this,function(d){switch(d.label){case 0:r=function(){var t,n,r,u;return zt(this,function(o){switch(o.label){case 0:t=c.value,n=s.filter(function(n){return n.priority===t}),o.label=1;case 1:return n.length>0?(r=function(t){var n=t.reduce(function(t,n){return t+n.weight},0);if(0===n){return t[b.floor(b.random()*t.length)]}for(var i,r=b.random()*n,e=0,s=Lt(t);!(i=s()).done;){var u=i.value;if(r<=(e+=u.weight))return u}return t[t.length-1]}(n),[4,Lq(r,i.oa.SP)]):[3,3];case 2:return"online"===(u=o.sent())?[2,{v:r}]:("invalid-security"===u&&(e=!0),Xi(n,r),[3,1]);case 3:return[2]}})},e=!1,Xi(s=t.endpoints.slice(),n),u=ir(s.map(function(t){return t.priority})),o=u.sort(),h=Lt(o),d.label=1;case 1:return(c=h()).done?[3,4]:(i=this,[5,Xt(r())]);case 2:if("object"===W(a=d.sent()))return[2,a.v];d.label=3;case 3:return[3,1];case 4:return n?[4,Lq(n,this.oa.SP)]:[3,6];case 5:if("online"===(f=d.sent()))return[2,n];"invalid-security"===f&&(e=!0),d.label=6;case 6:if(e)throw v=new fd(cd.MEDIA_LOAD_ERROR,"Trying to play a token protected stream without the correct token configured."),this.dispatchErrorEvent(v),v;return[2,void 0]}})}).call(this)},Nt(n,[{key:"kNt",get:function(){return this.FNt},set:function(t){this.jDt&&(t?this.UNt():this.VNt())}},{key:"ENt",get:function(){return this.HNt},set:function(t){this.HNt=t,this.oa.oX.wY(this.WNt),this.HNt&&this.oa.oX.gY(this.WNt)}}]),n}(Lb);function Oq(t){return t.filter(function(t){var n;return(null!=(n=t.tyt)?n:t.kW)>=Bq})}function Mq(t){return void 0===t?Yu({},Hz(),{forceSeekOffset:20}):{minimumOffset:t-CA,targetOffset:t,maximumOffset:t+CA,forceSeekOffset:20,minimumPlaybackRate:IA,maximumPlaybackRate:RA}}function Lq(t,n){return Vt(function(){var i,r,e;return zt(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),i=t.hespSrc||t.hlsSrc,[4,n.lk({Yu:i,Km:gl.wk,Vk:3e3})];case 1:return(r=s.sent()).hk>=200&&r.hk<300?[2,"online"]:[3,3];case 2:return V(e=s.sent(),Nl)&&403===e.oE.hk?[2,"invalid-security"]:[3,3];case 3:return[2,"offline"]}})})()}function Uq(t){try{return Fo(Vn.Dh(t).pathname,"manifest.json")}catch(t){return!1}}zb(function(t){return new xq(t)},Hb.pR),F(),Et(),F(),Et(),Wt(),Bt(),Qt(),F(),Et(),Wt(),Bt(),Dt(),Ut(),Qt();var Fq=U(cn());F(),Et(),Bt(),Dt(),Ut(),F(),Et(),Bt(),Dt(),F(),Et(),Bt(),Dt();var Vq=function(t){function n(n,i){var r;return(r=t.call(this)||this).gO=kg(),r.ob=void 0,r.tMt=void 0,r.hu=void 0,r.ob=n,r.tMt=i,r}Ct(n,t);var i=n.prototype;return i.er=function(t,n){this.ob=t,this.tMt=n,this.hu&&this.So(new FF(this.hu))},i.jU=function(){throw new y("Method not implemented.")},i.QU=function(){throw new y("Method not implemented.")},i.kn=function(){this.Vo()},Nt(n,[{key:"tB",get:function(){return this.tMt}},{key:"Ca",get:function(){var t;return null!=(t=this.hu)?t:this.hu=this.xa()}},{key:"o",get:function(){return this.ob.id}},{key:"jI",get:function(){return this.gO}},{key:"kW",get:function(){return this.ob.bitrate}},{key:"tyt",get:function(){}},{key:"frt",get:function(){return""}},{key:"Th",get:function(){return""}},{key:"nyt",get:function(){return""}},{key:"cst",get:function(){return!0}},{key:"iyt",get:function(){}}]),n}(th),Hq=function(t){function n(n,i){return t.call(this,n,i)||this}return Ct(n,t),n.prototype.xa=function(){return LF(this)},Nt(n,[{key:"plt",get:function(){return 0}},{key:"Ti",get:function(){return this.ob.width}},{key:"Mi",get:function(){return this.ob.height}},{key:"eyt",get:function(){return 0}}]),n}(Vq);F(),Et(),Bt(),Dt(),Ut();var Wq=function(t){function n(n,i){var r;return(r=t.call(this)||this).gO=mg(),r.dO=new vg,r.iMt=void 0,r.hS=void 0,r.b5=void 0,r.hu=void 0,r.hS=n,r.b5=i,r}Ct(n,t);var i=n.prototype;return i.wO=function(t){this.Rt=t},i.kn=function(){this.Vo();for(var t,n=Lt(this.dO.II);!(t=n()).done;){t.value.kn()}this.dO.hr()},Nt(n,[{key:"Rt",get:function(){return!0},set:function(t){}},{key:"Ca",get:function(){var t;return null!=(t=this.hu)?t:this.hu=Zw(this)}},{key:"Jdt",get:function(){}},{key:"Lt",get:function(){return this.b5}},{key:"o",get:function(){return this.hS||"millitrack"}},{key:"jI",get:function(){return this.gO}},{key:"Th",get:function(){return""}},{key:"bs",get:function(){return""}},{key:"Xk",get:function(){return this.Rt?"enabled":"disabled"},set:function(t){this.wO("enabled"===t)}},{key:"XI",get:function(){}},{key:"KI",get:function(){return this.dO}},{key:"YI",get:function(){return this.iMt},set:function(t){if(this.iMt=t,this.Rt){var n=1===(null==t?void 0:t.length)?t[0].tB:void 0;this.eMt(n)}this.So(new JM(this.dO.II.slice(),this)),((null==t?void 0:t.length)||this.dO.V)&&this.So(new CU((null==t?void 0:t[0])||this.dO.CI(0)))}},{key:"QI",get:function(){}}]),n}(th),zq=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).sMt=void 0,e.sMt=r,e}Ct(n,t);var i=n.prototype;return i.er=function(t){for(var n,i,r=function(){var r=i.value,e=Ui(t.layers,function(t){return t.encodingId===r.id}),s=Ui(n.dO.II,function(t){return t.o===r.id});s?s.er(r,e):n.dO.lO(new Hq(r,e))},e=Lt(t.active);!(i=e()).done;)n=this,r();this.So(new wg(this))},i.eMt=function(t){var n;null==(n=this.sMt)||n.nMt(t)},i.kn=function(){this.sMt=void 0,t.prototype.kn.call(this)},Nt(n,[{key:"Km",get:function(){return ig.Bk}}]),n}(Wq);F(),Et(),Bt();var Xq=function(){function t(){this.rMt=void 0}var n=t.prototype;return n.er=function(t){this.rMt=t},n.PW=function(t){},Nt(t,[{key:"kW",get:function(){var t,n,i,r,e,s;return(null!=(e=null==(n=this.rMt)||null==(t=n.video.inbounds)?void 0:t.reduce(function(t,n){return t+n.bitrateBitsPerSecond},0))?e:0)+(null!=(s=null==(r=this.rMt)||null==(i=r.audio.inbounds)?void 0:i.reduce(function(t,n){return t+n.bitrateBitsPerSecond},0))?s:0)}},{key:"EW",get:function(){var t,n;return null!=(n=null==(t=this.rMt)?void 0:t.currentRoundTripTime)?n:0}}]),t}();F(),Et(),Bt(),Dt(),Ut(),F(),Et(),Bt(),Dt();var qq=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).hMt=0,r}return Ct(n,t),n.prototype.xa=function(){return UF(this)},Nt(n,[{key:"$mt",get:function(){return this.hMt}}]),n}(Vq),Gq=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).sMt=void 0,e.sMt=r,e}Ct(n,t);var i=n.prototype;return i.er=function(t){for(var n,i,r=function(){var r=i.value,e=Ui(t.layers,function(t){return t.encodingId===r.id}),s=Ui(n.dO.II,function(t){return t.o===r.id});s?s.er(r,e):n.dO.lO(new qq(r,e))},e=Lt(t.active);!(i=e()).done;)n=this,r();this.So(new wg(this))},i.eMt=function(t){var n;null==(n=this.sMt)||n.oMt(t)},i.kn=function(){this.sMt=void 0,t.prototype.kn.call(this)},Nt(n,[{key:"Km",get:function(){return ig.Dk}}]),n}(Wq);F(),Et(),Dt();var jq=function(t){function n(n,i){var r;return(r=t.call(this,n,n,void 0,!1)||this).DU=void 0,r.DU=i,r}return Ct(n,t),n.prototype.xa=function(){return function(t){return xw(Vg(t),{get mid(){return t.DU.mid},get uuid(){return t.DU.uuid},get timecode(){return t.DU.timecode},get unregistered(){return t.DU.unregistered}})}(this)},n}(Yg);F(),Et(),F(),Et(),Bt(),Dt();var Qq=U(cn()),Yq=function(t){function n(n){var i;return(i=t.call(this)||this).hu=void 0,i.aMt=void 0,i.aMt=n,i}Ct(n,t);var i=n.prototype;return i.QL=function(t){return Qq.Logger.diagnose(t)},i.wn=function(t,n){this.aMt.wn(t,n)},i.mn=function(t,n){this.aMt.mn(t,n)},Nt(n,[{key:"Ca",get:function(){return this.hu||(this.hu=OT(this)),this.hu}}]),n}(th),Kq=[eh.uo,eh.jw,Ey.TM,eh._y,eh.Qw,eh.Ww,eh.$w,eh.Zw,eh.Bw,eh.Kw,eh.gy,eh.Rw,eh.Jw,eh.Pw,eh.Ew,eh.Lw,eh.Nw],Jq=["active","inactive","stopped","vad","layers","migrate","viewercount"],Zq=1e3,$q=function(t){function n(n){var i;return(i=t.call(this,"stats")||this).rMt=void 0,i.rMt=n,i}return Ct(n,t),Nt(n,[{key:"stats",get:function(){return this.rMt}}]),n}(rh),tG=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Iz=void 0,e.Rz=void 0,e.Cz=void 0,e.TL=void 0,e.Lf=void 0,e.gMt=void 0,e.Ac=void 0,e.nT=void 0,e.Dpt=void 0,e.lMt=void 0,e.$L=void 0,e.YL=void 0,e.fMt=void 0,e.JW=void 0,e.ZW=void 0,e.cMt=void 0,e.vMt=void 0,e.oq=void 0,e.kq=void 0,e.bq=void 0,e.uMt=void 0,e.SMt=void 0,e.Ts=void 0,e.mmt=void 0,e.Iz=n,e.Rz=i,e.Cz=r,e.nT=new hr,e.Dpt=void 0,e.lMt=void 0,e.$L=new ng,e.YL=new ng,e.vMt=0,e.oq=new Xq,e.Ts=function(t){e.qq(cg(t.lt))},e.mmt=function(t){vr(t)||e.qq(new fd(cd.MEDIA_DECODE_ERROR,t.message,t))},e.TL=e.Iz.Gq(ig.Bk),e.kq=new Uy(e,e.TL),e.bq=new Ly(e.kq,!0),e.TL.wn(Kq,e.Rs),e.TL.wn(zm.ma,e.Ts),e.bq.wn(Iy,e.Rs),e.uMt=new Yq(e),e}Ct(n,t);var i=n.prototype;return i.nMt=function(t){var n;null==(n=this.Lf)||n.select(t).catch(this.mmt)},i.oMt=function(t){var n;null==(n=this.Lf)||n.select(t).catch(this.mmt)},i.Wx=function(){return this.TL.Wx()},i.OP=function(t,n){},i.be=function(){this.TL.be()},i.we=function(){this.TL.we()},i.Gx=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.Un(),[4,this.TL.Gx()];case 1:return t.sent(),[2]}})}).call(this)},i.zx=function(){this.TL.zx()},i.hr=function(){return Vt(function(){var t,n,i;return zt(this,function(r){switch(r.label){case 0:return this.dMt(),this.Ac=void 0,this.nT.Zg(),null==(t=this.Lf)||t.stop(),this.Lf=void 0,this.Dpt?[4,this.Dpt.catch(di)]:[3,2];case 1:r.sent(),this.Dpt=void 0,r.label=2;case 2:return this.lMt=void 0,[4,this.TL.hr()];case 3:for(r.sent(),this.fMt=void 0,this.vMt=0,this.TL.Aq(),n=Lt(this.$L.II);!(i=n()).done;)i.value.kn();return this.YL.hr(),this.$L.hr(),[2]}})}).call(this)},i.kn=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.dMt(),this.Vo(),[4,this.hr()];case 1:return t.sent(),this.YL.kn(),this.$L.kn(),this.bq.kn(),this.kq.zg(),this.TL.mn(Kq,this.Rs),this.TL.mn(zm.ma,this.Ts),[4,this.Iz.Pq(this.TL)];case 2:return t.sent(),[2]}})}).call(this)},i.Ta=function(t,n,i){return Vt(function(){var n,r,e,s;return zt(this,function(u){return dr(i),this.pEt(),this.dMt(),r=t,this.Ac=r,this.nT=new hr,r.apiUrl&&Fq.Director.setEndpoint(r.apiUrl),e=function(){return Fq.Director.getSubscriber({streamName:r.src,streamAccountId:r.streamAccountId,subscriberToken:r.subscriberToken})},s=this._Mt(this.Rz.OY.type),this.Lf=new Fq.View(void 0,e,void 0,!0),this.gMt=Yu({},r.connectOptions,{events:Jq,abrConfiguration:{strategy:s,metadata:{bitrate:null==(n=this.Rz.OY.metadata)?void 0:n.bitrate}}}),this.pMt(),[2]})}).call(this)},i._Mt=function(t){switch(t){case KI.PERFORMANCE:return"performance";case KI.BANDWIDTH:return"bandwidth";case KI.QUALITY:return"quality";default:return}},i.Px=function(t,n,i,r){return ut.resolve()},i.xx=function(){return ut.resolve()},i.Un=function(){if(void 0===this.Dpt){var t=this.Lf;void 0!==t&&(this.Dpt=this.lE(t,this.gMt,this.nT.Yg).catch(this.mmt))}},i.lE=function(t,n,i){return Vt(function(){var r,e,s;return zt(this,function(u){switch(u.label){case 0:dr(i),u.label=1;case 1:return u.trys.push([1,3,,6]),[4,gr(t.connect(n),i)];case 2:return u.sent(),t.webRTCPeer.initStats({autoInitStats:!0,statsIntervalMs:b.min(null!=(e=null==(r=this.Ac)?void 0:r.statsIntervalMs)?e:Zq,Zq)}),[3,6];case 3:return lr(s=u.sent()),function(t){return zn(t)&&"FetchError"===t.name}(s)&&400===s.status?(Vn.um("[THEOplayer] Millicast connect error, reconnecting.",s),[4,gr(t.reconnect(),i)]):[3,5];case 4:u.sent(),u.label=5;case 5:return this.qq(new fd(cd.NETWORK_ERROR,s.message,s)),[3,6];case 6:return[2]}})}).call(this)},i.mMt=function(t,n){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:dr(n),i.label=1;case 1:return i.trys.push([1,,4,5]),this.TL.x9(),this.lMt=t,[4,this.TL.hr()];case 2:return i.sent(),[4,this.TL.Un({Km:Sy.mV,iR:"",GZ:t,qT:hA.gR,aq:[]})];case 3:return i.sent(),[3,5];case 4:return this.TL.I9(),[7];case 5:return[2]}})}).call(this)},i.pMt=function(){var t,n=this,i=this.Lf;i.on("track",function(t){return n.wMt(t)}),i.on("broadcastEvent",function(t){return n.yMt(t)}),i.webRTCPeer.on("stats",function(t){n.cMt=t,n.oq.er(t),n.AMt()}),(null==(t=this.gMt)?void 0:t.metadata)&&i.on("metadata",function(t){return n.bMt(t)})},i.AMt=function(){var t,n,i=this;void 0===this.SMt&&(this.So(new $q(this.cMt)),this.SMt=Vn.fm(function(){i.So(new $q(i.cMt))},null!=(n=null==(t=this.Ac)?void 0:t.statsIntervalMs)?n:Zq))},i.dMt=function(){void 0!==this.SMt&&(Vn.vm(this.SMt),this.SMt=void 0)},i.wMt=function(t){var n=this.YL.V>0,i=this.$L.V>0,r=n&&!i,e=t.streams[0];if(r)for(var s,u=Lt(e.getVideoTracks().slice());!(s=u()).done;){var o=s.value;e.removeTrack(o)}e!==this.lMt&&this.mMt(e,this.nT.Yg).catch(this.mmt)},i.yMt=function(t){switch(t.name){case"active":var n,i=function(){var t=r.value;if(t.media!==ig.Bk||s.disableVideo||n.$L.II.some(function(n){return n.o===t.trackId})){if(t.media===ig.Dk&&!s.disableAudio&&!n.YL.II.some(function(n){return n.o===t.trackId})){var i=n.YL.V>0?SX.qCt:SX.zCt;n.YL.tt(new Gq(t.trackId,i,n))}}else{var e=n.$L.V>0?EX.qCt:EX.zCt;n.$L.tt(new zq(t.trackId,e,n))}};this.So(new RH);for(var r,e=t.data,s=this.gMt,u=Lt(e.tracks);!(r=u()).done;)n=this,i();break;case"inactive":this.So(new CH),this.$L.hr(),this.YL.hr();break;case"stopped":this.So(new CH);break;case"viewercount":default:break;case"layers":var o=t.data;if(0===this.$L.V){var h=new zq("",EX.zCt,this);h.er(o.medias[0]),this.$L.tt(h)}else{var c=Ui(this.$L.II,function(t){return t.Lt===EX.zCt});null==c||c.er(o.medias[0])}}},i.bMt=function(t){var n=this.fMt;void 0===n&&((n=this.TL.tI(Ym.VU,void 0,void 0,void 0,void 0,Dg.MILLICAST)).Xk=Hm.JI,this.fMt=n);var i=this.MP,r=b.max(0,i-10);this.vMt<r&&(cy(n,r),this.vMt=r);var e=new jq(i+.001,t);n.tV(e)},i.qq=function(t){this.JW||(kr(this.hr()),this.JW=hg(t),this.ZW=t,this.So(new _b(t)))},i.pEt=function(){this.JW=void 0,this.ZW=void 0},i.jx=function(){return!1},i.Qx=function(){},i.Kx=function(){},i.Yx=function(){this.TL.Yx()},i.Jx=function(){var t=this.lMt;void 0!==t&&this.mMt(t,this.nT.Yg).catch(this.mmt)},i.Hx=function(){return this.TL.Ma},i.Aa=function(){return this.TL.mq},i.tI=function(t){return this.TL.wq(t)},Nt(n,[{key:"Vx",get:function(){return!1}},{key:"ht",get:function(){return this.YL}},{key:"IP",get:function(){return this.TL.IP._s()}},{key:"CP",get:function(){return this.TL.CP},set:function(t){}},{key:"bt",get:function(){return this.Ac}},{key:"MP",get:function(){return this.TL.MP},set:function(t){this.OP(t)}},{key:"ct",get:function(){return this.TL.ct}},{key:"UP",get:function(){return this.TL.UP}},{key:"lt",get:function(){return this.JW}},{key:"WP",get:function(){return this.ZW}},{key:"zP",get:function(){}},{key:"jP",get:function(){return this.uMt}},{key:"KP",get:function(){return this.TL.KP}},{key:"JP",get:function(){var t,n,i,r,e,s,u=this.cMt,o=null==u||null==(t=u.video.inbounds)?void 0:t[0],h=null==u||null==(n=u.audio.inbounds)?void 0:n[0];return{nO:this.Rz.kY.kW,iO:null!=(i=null==o?void 0:o.framesDropped)?i:0,eO:0,sO:null!=(r=null==o?void 0:o.framesReceived)?r:0,rO:(null!=(e=null==o?void 0:o.totalBytesReceived)?e:0)+(null!=(s=null==h?void 0:h.totalBytesReceived)?s:0),hO:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"$P",get:function(){return this.TL.$P},set:function(t){this.TL.$P=t}},{key:"sx",get:function(){var t,n;return null!=(n=null==(t=this.Lf)?void 0:t.isActive())&&n}},{key:"hx",get:function(){return this.TL.hx}},{key:"ux",get:function(){return 1},set:function(t){}},{key:"_x",get:function(){return this.TL._x._s()}},{key:"mx",get:function(){return jT.lz},set:function(t){}},{key:"Ax",get:function(){return this.TL.Ax}},{key:"Sx",get:function(){return this.TL.Sx._s()}},{key:"kx",get:function(){return this.TL.kx}},{key:"nq",get:function(){return this.TL.nq}},{key:"nt",get:function(){return this.TL.nt}},{key:"Rx",get:function(){return this.TL.Rx}},{key:"rt",get:function(){return this.$L}},{key:"Bx",get:function(){return this.TL.Bx}},{key:"Mx",get:function(){return this.TL.Mx},set:function(t){this.TL.Mx=t}},{key:"Fx",get:function(){return this.Cz}},{key:"hq",get:function(){return this.oq}},{key:"BL",get:function(){return this.Cz.BL}}]),n}(th),nG=function(){function t(){}var n=t.prototype;return n.PR=function(t,n,i,r,e,s,u,o){return new tG(n,e,s)},n.Xq=function(t,n){return t.type===hA.gR},n.jq=function(t){return Vt(function(){var n;return zt(this,function(i){switch(i.label){case 0:return[4,Dp(t)];case 1:return(n=i.sent())&&(n=Boolean(t.widevine||t.fairplay)),[2,n&&!1]}})})()},n.Qq=function(){return!1},Nt(t,[{key:"Kq",get:function(){return kb.gR}}]),t}();XT(new nG),F(),Et(),F(),Et(),Wt(),Bt(),Dt(),Qt(),F(),Et(),Wt(),Bt(),Dt(),H(),at(),Ut(),Qt(),F(),Et();var iG=function(t){return t.TMt="currentbufferingrenditionchange",t.kMt="EMt",t.PMt="xMt",t}({});F(),Et(),Bt(),Dt(),Ut(),F(),Et(),Ut();var rG=function(t,n){var i,r;this.jI=void 0,this.IMt=void 0,this.Km=void 0,this.RMt=void 0,this.CMt=void 0,this.DMt=void 0,this.l=void 0,this.bs=void 0,this.BMt=void 0,this.NMt=void 0,this.MMt=void 0,this.LMt=void 0,this.frt=void 0,this.jI=kg(),this.IMt=n,this.Km=t.Km,this.RMt=t.RMt,this.CMt=t.CMt,this.DMt=t.DMt,this.l=t.l,this.bs=t.bs,this.BMt=t.BMt,this.NMt=t.NMt,this.MMt=void 0===t.nyt,this.LMt=null!=(r=null==(i=t.LMt)?void 0:i.split(","))?r:[]};function eG(t,n){return t.Km===n.Km&&(t.l===n.l||!(!t.RMt||!n.RMt))}function sG(t,n){return void 0!==t&&void 0!==n&&uG(t,n)}function uG(t,n){return t.IMt===n.IMt}function oG(t,n){return uG(t,n)&&t.BMt===n.BMt}function hG(t,n){for(var i,r=Lt(t);!(i=r()).done;){if(oG(i.value,n))return!0}return!1}var cG=function(t){function n(n,i,r,e,s){var u,o;(u=t.call(this)||this).Vp=void 0,u.HMt=void 0,u.Rz=void 0,u.wh=void 0,u.KI=void 0,u.pO=void 0,u.qA=void 0,u.OMt=void 0,u.dct=void 0,u.$Mt=void 0,u.tLt=void 0,u.hu=void 0,u.gO=void 0,u.iLt=void 0,u.JMt=void 0,u.ZMt=void 0,u.Vp=n,u.HMt=i,u.Rz=r,u.wh=e,u.KI=s,u.dct=void 0,u.$Mt=void 0,u.iLt=function(){return u.So(new wg(u))},u.JMt=function(){var t=u.XI;t&&u.$Mt!==t&&(u.$Mt=t,u.So(new CU(t)))},u.ZMt=function(){var t=u.Rt;u.tLt!==t&&(u.tLt=t,u.wh.So(new dg(u)),u.So(new dg(u)))},u.$Mt=u.XI,u.tLt=u.Rt;var h,c,a=s.CI(0);u.pO=null!=(h=null==a?void 0:a.UMt.l)?h:"",u.qA=null!=(c=null==a?void 0:a.UMt.bs)?c:"",u.OMt=null==a||null==(o=a.UMt)?void 0:o.LMt.map(wG).filter(Un),u.gO=mg(),u.HMt.wn(iG.TMt,u.JMt),u.HMt.wn(iG.kMt,u.ZMt);for(var f=0;f<u.KI.V;f++){u.KI.CI(f).wn("update",u.iLt)}return u}Ct(n,t);var i=n.prototype;return i.wO=function(t){this.Rt=t},i.YMt=function(t){return Ui(this.KI.II,function(n){return n.UMt===t})},i.kn=function(){this.Vo(),this.HMt.mn(iG.TMt,this.JMt),this.HMt.mn(iG.kMt,this.ZMt);for(var t,n=Lt(this.KI.II);!(t=n()).done;){t.value.kn()}this.KI.hr()},Nt(n,[{key:"QI",get:function(){return this.OMt}},{key:"Rt",get:function(){var t=this.FMt();if(!t)return!1;for(var n,i=Lt(this.KI.II);!(n=i()).done;){if(n.value.UMt===t)return!0}return!1},set:function(t){if(t!==this.Rt)if(t){for(var n,i,r=null==(n=this.KI.CI(0))?void 0:n.UMt,e=this.HMt.VMt,s=Lt(this.KI.II);!(i=s()).done;){var u=i.value;if(u.WMt===e){r=u.UMt;break}}this.qMt(r)}else this.qMt(void 0)}},{key:"XI",get:function(){if(this.Rt)for(var t,n=this.HMt.zMt,i=Lt(this.KI.II);!(t=i()).done;){var r=t.value;if(hG(n,r.UMt))return r}}},{key:"Ca",get:function(){return this.hu||(this.hu=Zw(this)),this.hu}},{key:"o",get:function(){return this.gO.toString()}},{key:"jI",get:function(){return this.gO}},{key:"Th",get:function(){return this.pO},set:function(t){t!==this.pO&&(this.pO=t,this.So(new wg(this)))}},{key:"bs",get:function(){return this.qA}},{key:"Xk",get:function(){return this.Rt?"enabled":"disabled"}},{key:"YI",get:function(){return this.dct},set:function(t){var n=this,i=[];t?i=t.filter(function(t){var i=n.XI?iL(n.XI):void 0;return Vn.Zs.xp(i,iL(t))}).filter(function(i){return n.KI.fO(t)&&i.cst}):i=this.KI.II.filter(function(t){return t.cst});if(0!==i.length){if(!(t===this.dct||this.dct&&Ki(this.dct,i))){if(this.dct=t?i:void 0,this.HMt.GMt(i.map(function(t){return t.WMt})),1===i.length){var r=i[0].WMt,e=this.Vp===ig.Bk,s=this.Rz.JY;kr(this.HMt.XMt(r,{jMt:!0,QMt:s&&e,KMt:s&&!e}))}this.So(new JM(i,this))}}else this.So(new nL)}}]),n}(th),aG=function(t){function n(n,i,r,e){return t.call(this,ig.Dk,n,i,r,e)||this}Ct(n,t);var i=n.prototype;return i.FMt=function(){return this.HMt.eLt},i.qMt=function(t){kr(this.HMt.sLt(t))},Nt(n,[{key:"Lt",get:function(){return SX.zCt}}]),n}(cG),fG=function(t){function n(n,i,r,e){return t.call(this,ig.Bk,n,i,r,e)||this}Ct(n,t);var i=n.prototype;return i.FMt=function(){return this.HMt.nLt},i.qMt=function(t){kr(this.HMt.rLt(t))},Nt(n,[{key:"Lt",get:function(){return EX.zCt}}]),n}(cG),vG=function(t){function n(n,i){var r;return(r=t.call(this)||this).WMt=void 0,r.UMt=void 0,r.pO=void 0,r.cst=void 0,r.WMt=n,r.UMt=i,r.pO="",r.cst=!0,r}Ct(n,t);var i=n.prototype;return i.QU=function(){},i.jU=function(){},i.kn=function(){this.Vo()},Nt(n,[{key:"o",get:function(){return String(this.WMt.o)}},{key:"jI",get:function(){return this.WMt.o}},{key:"kW",get:function(){return this.WMt.kW}},{key:"tyt",get:function(){return this.WMt.tyt}},{key:"Th",get:function(){var t;return null!=(t=this.pO)?t:this.UMt.l},set:function(t){this.Th!==t&&(this.pO=t,this.So(new FF(this.Ca)))}},{key:"nyt",get:function(){return this.UMt.IMt.hLt()}},{key:"iyt",get:function(){return this.WMt.iyt}}]),n}(th),dG=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).hu=void 0,r}return Ct(n,t),n.prototype.xa=function(){return UF(this)},Nt(n,[{key:"$mt",get:function(){return 0}},{key:"frt",get:function(){var t;return(null==(t=this.WMt.frt)?void 0:t.yCt)||""}},{key:"Ca",get:function(){return this.hu||(this.hu=this.xa()),this.hu}}]),n}(vG),lG=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).hu=void 0,r.oLt=0,r.aCt=void 0,r}return Ct(n,t),n.prototype.xa=function(){return LF(this)},Nt(n,[{key:"frt",get:function(){var t;return(null==(t=this.WMt.frt)?void 0:t.bCt)||""}},{key:"eyt",get:function(){return this.oLt},set:function(t){this.oLt!==t&&(this.oLt=t,this.So(new FF(this.Ca)))}},{key:"plt",get:function(){var t,n;return null!=(n=null!=(t=this.aCt)?t:this.WMt.plt)?n:0},set:function(t){this.plt!==t&&(this.aCt=t,this.So(new FF(this.Ca)))}},{key:"Mi",get:function(){var t,n;return null!=(n=null==(t=this.WMt.uCt)?void 0:t.Mi)?n:0}},{key:"Ti",get:function(){var t,n;return null!=(n=null==(t=this.WMt.uCt)?void 0:t.Ti)?n:0}},{key:"Ca",get:function(){return this.hu||(this.hu=this.xa()),this.hu}}]),n}(vG);function wG(t){return"public.accessibility.describes-video"===t?Yw.GI:"public.accessibility.transcribes-spoken-dialog"===t?Yw.TRANSCRIBES_SPOKEN_DIALOG:"public.accessibility.describes-music-and-sound"===t?Yw.DESCRIBES_MUSIC_AND_SOUND:"public.accessibility.easy-to-read"===t?Yw.zI:void 0}F(),Et();var gG=function(){function t(){this.Rt=function(){return!1}}var n=t.prototype;return n.aLt=function(t){if(!this.Rt())return!1;var n=[];return!(n.length>0)||n.some(function(n){return n.toLowerCase()===t.toLowerCase()})},n.uLt=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;this.aLt(t)&&(e=Vn).hm.apply(e,[].concat(["DEBUG "+t+" -"],i))},n.hB=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;this.aLt(t)&&(e=Vn).hm.apply(e,[].concat(["INFO "+t+" -"],i))},n.cLt=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;this.aLt(t)&&(e=Vn).um.apply(e,[].concat(["WARNING "+t+" -"],i))},n.lt=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;this.aLt(t)&&(e=Vn).dm.apply(e,[].concat(["ERROR "+t+" -"],i))},n.dLt=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;this.aLt(t)&&(e=Vn).dm.apply(e,[].concat(["FATAL "+t+" -"],i))},t}(),_G=new gG,mG="HLSPlaylistParser",yG="Discontinuity",pG="Buffering";F(),Et(),Bt();var kG=function(){function t(t){this.Fat=void 0,this.LIt=void 0;var n=t.kW>0?t.kW:Pz.Mat,i=t.EW>0?t.EW:bz.Mat;this.Fat=new Pz(Pz.cIt,Pz.dIt,1,n),this.LIt=new bz(bz.cIt,bz.dIt,i)}var n=t.prototype;return n.PW=function(t){if("segment"===t.Km||"preload-hint"===t.Km){var n=[new Tz(this.LIt)];return"stream"!==t.dk||!function(t){return"segment"===t.Km&&"initialization-segment"!==t.Wk}(t)&&"preload-hint"!==t.Km?n.push(new Sz(this.Fat)):n.push(new Ez(this.Fat,1e3)),new Az(n)}},n.RIt=function(t){this.Fat=new Pz(Pz.cIt,Pz.dIt,1,t)},Nt(t,[{key:"kW",get:function(){return this.Fat.yet}},{key:"EW",get:function(){return this.LIt.yet}}]),t}();F(),Et();var bG=function(){function t(t){this.ost=void 0,this.ost=t}return t.prototype.QZ=function(t,n){var i={Km:Sy.wV,aq:[],L4:t.map(function(t){return{qT:t}}),X4:n};return ut.resolve(void 0!==this.ost.QZ([i]))},t}();F(),Et(),Wt(),Bt(),Ut(),Qt(),F(),Et(),Ut();var AG=function(t,n,i,r,e){return t.filter(function(t){return!!ji(r,t)||1.1*t.kW<=i.kW})},TG=function(t,n,i,r,e){return t.filter(function(t){if(ji(r,t))return!0;for(var s,u=1/0,o=Lt(t.lLt);!(s=o()).done;){var h,c,a=s.value;u=b.min(u,null!=(c=null!=(h=a.IMt.fLt)?h:a.IMt.vLt)?c:1/0)}u===1/0&&(u=1);var f=2*i.EW+t.kW*u/i.kW;return t.kW<=n.kW||e._Lt>f})},SG=function(t,n,i,r,e){return mi(t,function(t,n){return n.kW-t.kW})},EG=function(t,n,i,r,e){return t.every(function(t){return t.iyt&&!S(t.iyt)})?mi(t,function(t,n){return n.iyt-t.iyt}):t},IG=function(t,n,i,r,e){return 0===r.length?t:mi(t,function(t,n){var i=ji(r,t)?1:0;return(ji(r,n)?1:0)-i})},RG=function(t,n,i,r,e,s){return t.filter(function(t){return!t.frt||!n.frt||!(void 0!==n.frt.bCt&&void 0!==t.frt.bCt&&!YC(n.frt.bCt,t.frt.bCt)&&!s.gLt({qT:'video/mp4; codecs="'+t.frt.bCt+'"'}))&&!(void 0!==n.frt.yCt&&void 0!==t.frt.yCt&&!YC(n.frt.yCt,t.frt.yCt)&&!s.pLt({qT:'audio/mp4; codecs="'+t.frt.yCt+'"'}))})},CG=function(t,n,i,r,e){if(!1===e.Gct)return t;if(Vn.Zs.dp)return t;for(var s,u,o=Vn.Zs.lp,h=(null!=(s=null==o?void 0:o.width)?s:e.Ti)*FM,c=(null!=(u=null==o?void 0:o.height)?u:e.Mi)*FM,a=0;a<t.length;a++){var f=t[a];if(void 0===f.uCt)return t;var v=f.uCt.Mi,d=f.uCt.Ti;if(v<=c&&d<=h)return t.slice(a,t.length)}return[]},DG=function(t,n,i,r,e){return function(t,n){var i=n.Gct;if(void 0===i&&!Vn.Zs.Ks)return t;if(!1===i)return t;for(var r=0;r<t.length;r++){var e=t[r];if(void 0===e.uCt)return t;var s=e.uCt.Mi,u=e.uCt.Ti;if(s===n.Mi&&u===n.Ti)return t.slice(r,t.length);if(s<n.Mi||u<n.Ti)return t.slice(0===r?r:r-1,t.length)}return[]}(t,e)};var PG="AbrEvaluator",NG=function(){function t(t){this.Rz=void 0,this.jct=void 0,this.Rz=t,this.jct=[RG,AG,TG,SG,CG,DG,EG,IG]}var n=t.prototype;return n.wLt=function(t){this.jct=t},n.yLt=function(t,n,i,r,e){return Vt(function(){return zt(this,function(s){switch(s.label){case 0:return[4,this.ALt(t,n,i,r,e)];case 1:return[2,s.sent()[0]]}})}).call(this)},n.ALt=function(t,n,i,r,e){return Vt(function(){var s,u,o,h,c,a;return zt(this,function(f){switch(f.label){case 0:if(0===t.length)throw new y("AbrEvaluator - Unable to select optimal variant stream from an empty list.");_G.uLt(PG,"Performing optimal variant stream selection."),s=this.mLt,u=t,o=Lt(this.jct),f.label=1;case 1:return(h=o()).done?[3,5]:(c=h.value,a=c(u,n,s,i,r,e),Hn(a)?(u=a,[3,4]):[3,2]);case 2:return[4,a];case 3:u=f.sent(),f.label=4;case 4:return[3,1];case 5:return 0===u.length?(_G.cLt(PG,"No possible variant stream remains after ABR rule evaluation. Selecting the lowest bandwidth variant stream."),[2,[Zi(t,function(t){return t.kW})]]):[2,u]}})}).call(this)},Nt(t,[{key:"mLt",get:function(){return this.Rz.kY}}]),t}();function BG(t,n){return[t,void 0!==n?t+n-1:bi]}function xG(t){return Boolean(t.KD)}function OG(t){return Boolean(t.ect)}F(),Et(),Dt(),F(),Et(),Wt(),Bt(),Dt(),H(),Ut(),Qt(),F(),Et(),F(),Et(),F(),Et();var MG=function(t){return t[t.Dk=0]="Dk",t[t.Bk=1]="Bk",t[t.OU=2]="OU",t[t.bLt=3]="bLt",t}({}),LG=function(t){return t[t.SLt=0]="SLt",t[t.TLt=1]="TLt",t}({}),UG=function(t){return t[t.lz=0]="lz",t[t.kLt=1]="kLt",t[t.ELt=2]="ELt",t}({}),FG=function(t){return t[t.pk=0]="pk",t[t.PLt=1]="PLt",t[t.xLt=2]="xLt",t}({});function VG(t){return t?t.LAt?t.zE+"@"+t.LAt.Tn+"-"+(null!=(n=t.LAt.V)?n:""):""+t.zE:"";var n}function HG(t,n){if(n===t)return!0;if(n.zE!==t.zE)return!1;if(!t.LAt)return!0;if(n.LAt){var i=BG(t.LAt.Tn,t.LAt.V),r=BG(n.LAt.Tn,n.LAt.V);if(i[0]<=r[0])return void 0===i[1]||void 0!==r[1]&&i[1]>=r[1]}return!1}function WG(t,n){return t===n||t.zE===n.zE&&(t.LAt&&n.LAt?t.LAt.Tn===n.LAt.Tn&&t.LAt.V===n.LAt.V:t.LAt===n.LAt)}function zG(t){var n=!!t.ILt||void 0;return{o:t.o,RLt:t.RLt,nq:t.nq,CLt:t.CLt,ct:t.ct,DLt:t.DLt,ILt:n,BLt:t.NLt,MLt:t.LLt,OLt:t.OLt,FLt:t.FLt}}function XG(t,n){var i,r,e;return{yCt:null!=(i=n.yCt)?i:null==t?void 0:t.yCt,bCt:null!=(r=n.bCt)?r:null==t?void 0:t.bCt,ULt:null!=(e=n.ULt)?e:null==t?void 0:t.ULt}}function qG(t,n,i,r,e){return Vt(function(){var s,u,o,h,c,a,f,v,d,l,w,g;return zt(this,function(_){switch(_.label){case 0:return s=n.filter(function(t){return Lo(t,"audio")}),u=n.filter(function(t){return Lo(t,"video")}),o=[],h=i.map(function(t){return function(t,n,i){return Vt(function(){var r,e;return zt(this,function(s){switch(s.label){case 0:return t.nyt&&t.VLt?t.Uk!==UG.ELt?[2]:(r=GG(t.VLt))?r.$m!==Ao?[3,1]:[2,{kS:r,BW:[],NW:void 0,HH:t.nyt,MW:[]}]:[2]:[2];case 1:return r.$m!==mo||t.VLt!==So?[3,2]:[2,{kS:r,BW:[],NW:t.nyt,HH:void 0,MW:[]}];case 2:return _G.hB("HLSDrmUtils","Fetching key uri "+t.nyt+"."),[4,n.lk({Yu:t.nyt,zk:i})];case 3:return[4,s.sent().HT()];case 4:return e=s.sent(),r.$m===fo&&(e=function(t){var n=new DataView(t);return n.byteLength>=8&&n.getUint32(4)===nF?t:iF(t)}(e)),[2,{kS:r,BW:[e],NW:void 0,HH:void 0,MW:[]}];case 5:return[2]}})})()}(t,r,e)}),[4,ut.all(h)];case 1:for(c=_.sent().filter(Un),f=function(t,n){if(0===n.length)return t;var i=function(t){var i=n.indexOf(t.kS.$m);return i>=0?i:n.length};return mi(t,function(t,n){return i(t)-i(n)})}(c,null!=(a=null==t?void 0:t.preferredKeySystems)?a:[]),v=Lt(f);!(d=v()).done;)l=d.value,w=XH(null!=t?t:{},l.kS),g="cbcs",o.push({kS:l.kS,BW:l.BW,NW:l.NW,HH:l.HH,Mq:[{initDataTypes:[l.kS.Jm],audioCapabilities:qH(s,g,null==w?void 0:w.audioRobustness),videoCapabilities:qH(u,g,null==w?void 0:w.videoRobustness),persistentState:null==w?void 0:w.persistentState,distinctiveIdentifier:null==w?void 0:w.distinctiveIdentifier}],MW:l.MW});return[2,o]}})})()}function GG(t){return t===wo?Ro:t===vo?Io:"com.apple.streamingkeydelivery"===t?Do:t===So?Po:void 0}function jG(t){if("#"!==t[0])throw new y("HLSPlaylistParser - Could not extract M3U8 tag or comment: "+t);return t.split(":",1)[0]}function QG(t){return"#"!==t[0]?t:t.split(":",1)[0]}function YG(t){var n=t.indexOf(":");if(-1===n||t.length<n+1)throw new y("HLSPlaylistParser - Could not extract M3U8 parameter: "+t);return t.substring(n+1)}function KG(t){var n=nj(YG(t));if(void 0===n)throw new y("HLSPlaylistParser - Could not extract M3U8 float parameter: "+t);return n}function JG(t){for(var n={},i=/[:,] ?([A-Z0-9-]+)=([^",]+|"([^"]*)")/gi,r=i.exec(t);null!==r;){var e=r[1],s=void 0;s=void 0!==r[3]?r[3]:r[2],null!==e?n[e]=s:_G.cLt(mG,"Ignoring unparsable M3U8 attribute name: "+t+"."),r=i.exec(t)}return n}function ZG(t,n){var i,r,e=JG(t);try{i=e.URI?Vn.xm(e.URI,n):void 0,r=function(t){switch(t){case"AUDIO":return MG.Dk;case"VIDEO":return MG.Bk;case"SUBTITLES":return MG.OU;case"CLOSED-CAPTIONS":return MG.bLt}throw new y("HLSPlaylistParser - Could not parse M3U8 media type: "+t+".")}(e.TYPE)}catch(n){throw new y("HLSPlaylistParser - Could not parse #EXT-X-MEDIA tag: "+t+".")}var s=e["GROUP-ID"],u=e.LANGUAGE,o=e["ASSOC-LANGUAGE"],h=e.NAME,c="YES"===e.DEFAULT,a="YES"===e.AUTOSELECT,f="YES"===e.FORCED,v=e["INSTREAM-ID"],d=e.CHARACTERISTICS,l=e.CHANNELS;if(s||_G.cLt(mG,"#EXT-X-MEDIA tag has no GROUP-ID attribute: "+t+"."),u||_G.cLt(mG,"#EXT-X-MEDIA tag has no LANGUAGE attribute: "+t+"."),h||_G.cLt(mG,"#EXT-X-MEDIA tag has no NAME attribute: "+t+"."),r===MG.bLt?(i&&_G.cLt(mG,"#EXT-X-MEDIA tag of type CAPTIONS must not have a URI: "+t+"."),v?/^(CC[0-4])|(SERVICE([1-9]|[1-5][0-9]|6[0-3]))$/.test(v)||_G.cLt(mG,"#EXT-X-MEDIA's INSTREAM-ID is invalid: "+t+"."):_G.cLt(mG,"#EXT-X-MEDIA tag of type CAPTIONS must have an INSTREAM-ID attribute: "+t+".")):v&&_G.cLt(mG,"#EXT-X-MEDIA tag must not have an INSTREAM-ID attribute if the TYPE is not CAPTIONS: "+t+"."),c&&!a&&(a=!0,e.AUTOSELECT&&_G.cLt(mG,"#EXT-X-MEDIA tag with DEFAULT=YES attribute must have AUTOSELECT=YES attribute: "+t+".")),e.FORCED&&r!==MG.OU&&_G.cLt(mG,"#EXT-X-MEDIA tag must not have a FORCED attribute if the TYPE is not SUBTITLES: "+t+"."),void 0===s||void 0===h)throw new y("HLSPlaylistParser - Could not parse #EXT-X-MEDIA tag: "+t+".");return{HLt:o,hCt:l,LMt:d,BMt:s,CMt:a,RMt:c,DMt:f,NMt:v,bs:u,l:h,Km:r,nyt:i}}function $G(t,n,i){var r,e,s,u=JG(t);try{r=Vn.xm(i,n),s=function(t){if(void 0===t)return;var n=t.split("x"),i=Number(n[0]),r=Number(n[1]);if(S(i)||S(r))throw new y("HLSPlaylistParser - Could not parse RESOLUTION attribute: "+t+".");return{Ti:i,Mi:r}}(u.RESOLUTION),e=function(t){if(!t)return;for(var n,i,r,e,s=Lt(t.split(","));!(e=s()).done;){var u=e.value.trim();Uo(u,"mp4a")?n="mp4a.40.05"===u?"mp4a.40.5":"mp4a.40.02"===u?"mp4a.40.2":u:"ac-3"===u||"ec-3"===u||"flac"===u.toLowerCase()?n=u:Uo(u,"avc")||Uo(u,"hvc1")||Uo(u,"hev1")||Uo(u,"dvh")||Uo(u,"vp09")||Uo(u,"av01")?i=u:r=r?r+","+u:u}return{yCt:n,bCt:i,ULt:r}}(u.CODECS)}catch(n){throw new y("HLSPlaylistParser - Could not parse #EXT-X-STREAM-INF tag: "+t+".")}var o=nj(u.BANDWIDTH),h=nj(u["AVERAGE-BANDWIDTH"]),c=nj(u.SCORE),a=nj(u["FRAME-RATE"]),f=u["HDCP-LEVEL"],v=[];if(void 0!==u["ALLOWED-CPC"]){var d,l=u["ALLOWED-CPC"].split(",");(d=v).push.apply(d,[].concat(l.map(function(t){var n=t.split(":");return{keysystem:n[0],label:n[1]}})))}var w=u["VIDEO-RANGE"],g=u.AUDIO,_=u.VIDEO,m=u.SUBTITLES,p=u["CLOSED-CAPTIONS"];if(void 0===o?_G.cLt(mG,"#EXT-X-STREAM-INF tag has no valid BANDWIDTH attribute: "+t+"."):void 0!==h&&h>o&&_G.cLt(mG,"#EXT-X-STREAM-INF tag must have BANDWIDTH attribute higher or equal to AVERAGE-BANDWIDTH attribute: "+t+"."),e||_G.hB(mG,"#EXT-X-STREAM-INF tag should have a CODECS attribute: "+t+"."),e&&e.bCt&&void 0===s&&_G.hB(mG,"#EXT-X-STREAM-INF tag should have a valid RESOLUTION attribute if it contains video codecs: "+t+"."),void 0===f||ji(["TYPE-0","TYPE-1","NONE"],f)||_G.cLt(mG,"#EXT-X-STREAM-INF tag has an invalid HDCP-LEVEL attribute: "+t+"."),void 0===w||ji(["SDR","PQ","HLG"],w)||_G.cLt(mG,"#EXT-X-STREAM-INF tag has an invalid VIDEO-RANGE attribute: "+t+"."),void 0===o)throw new y("HLSPlaylistParser - Could not parse #EXT-X-STREAM-INF tag: "+t+".");return{WLt:v,qLt:g,tyt:h,kW:o,zLt:p,frt:e,plt:a,GLt:f,uCt:s,iyt:c,XLt:m,nyt:r,jLt:_,QLt:w}}function tj(t,n){var i=JG(t);if(!i.URI)throw new y("HLSPlaylistParser - Could not parse #EXT-X-I-FRAME-STREAM-INF tag: "+t+".");try{return $G(t,n,i.URI)}catch(n){throw new y("HLSPlaylistParser - Could not parse #EXT-X-I-FRAME-STREAM-INF tag: "+t+".")}}function nj(t){var n=Number(t);return S(n)?void 0:n}function ij(t,n){var i,r,e=JG(t);try{i=function(t){switch(t){case"NONE":return UG.lz;case"AES-128":return UG.kLt;case"SAMPLE-AES":return UG.ELt;case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return t}throw new y("LLHLSPlaylistParser - Could not parse M3U8 key method: "+t+".")}(e.METHOD),r=e.URI?aj(e.URI,n):void 0}catch(n){throw new y("HLSPlaylistParser - Could not parse #EXT-X-KEY tag: "+t+".")}var s,u,o,h,c,a=e.KEYFORMAT,f=e.IV,v=e.KEYFORMATVERSIONS;if(i!==UG.lz){if(o=a||So,"SAMPLE-AES-CENC"===i||"SAMPLE-AES-CTR"===i){if(GG(o)!==Ro)throw new y("HLSPlaylistParser - #EXT-X-KEY tag with METHOD="+i+" is only compatible with Widevine.");s=UG.ELt}else s=i;u=r,h=f?Sc(f):void 0,c=v?v.split("/").map(function(t){return Number(t)}):[1]}else s=UG.lz,(r||a||v||f)&&_G.cLt(mG,"#EXT-X-KEY tag with METHOD=NONE must not have additional attributes: "+t+".");return{Uk:s,nyt:u,KLt:h,VLt:o,YLt:c}}function rj(t){var n=YG(t);if(!n)return[void 0,""];var i=n.split(","),r=i[0],e=i[1];return[nj(r),e]}function ej(t,n){var i=t.split("@"),r=nj(i[0]),e=i.length>1?nj(i[1]):n;if(void 0===r||void 0===e)throw new y("HLSPlaylistParser - Could not parse #EXT-X-BYTERANGE tag: "+t+".");return{Tn:e,V:r}}function sj(t){if(void 0!==t)return ej(t,void 0)}function uj(t,n){return ej(YG(t),n)}function oj(t,n){var i=JG(t);try{return{zE:aj(i.URI,n),LAt:sj(i.BYTERANGE)}}catch(n){throw new y("HLSPlaylistParser - Could not parse #EXT-X-MAP tag: "+t+".")}}function hj(t){var n=YG(t);if(!n)throw new y("HLSPlaylistParser - Could not parse #EXT-X-PROGRAM-DATE-TIME tag: "+t+".");var i=new Date(n.trim());if(!he(i))throw new y("HLSPlaylistParser - Could not parse #EXT-X-PROGRAM-DATE-TIME tag: "+t+".");return i}function cj(t){var n,i,r,e=JG(t),s=e["START-DATE"],u=e["END-DATE"],o=nj(e["PLANNED-DURATION"]),h=nj(e.DURATION);void 0!==e["SCTE35-CMD"]&&(n=Sc(e["SCTE35-CMD"]).buffer),e["SCTE35-IN"]&&(i=Sc(e["SCTE35-IN"]).buffer),e["SCTE35-OUT"]&&(r=Sc(e["SCTE35-OUT"]).buffer);var c,a,f="YES"===e["END-ON-NEXT"],v=function(t){for(var n,i={},r=Lt(k.keys(t));!(n=r()).done;){var e=n.value,s=t[e];void 0!==s&&Uo(e,"X-")&&(i[e]=s)}return i}(e),d=e.ID,l=e.CLASS;if(void 0===s)_G.cLt(mG,"Could not parse #EXT-X-DATERANGE tag without START-DATE attribute: "+s+".");else if(c=new Date(s),a=void 0!==u?new Date(u):void 0,he(c)||_G.cLt(mG,"Could not parse EXT-X-DATERANGE tag with invalid START-DATE attribute: "+c+"."),void 0!==h){var w=new Date(c.getTime()+1e3*h);a?a.getTime()!==w.getTime()&&(_G.cLt(mG,"DURATION and END-DATE attributes of #EXT-X-DATERANGE tag are not aligned, updating the END-DATE: "+t+"."),a=w):a=w}else a&&(h=(c.getTime()-a.getTime())/1e3);if(f&&(e.CLASS||_G.cLt(mG,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute without CLASS attribute: "+t+"."),e.DURATION&&_G.cLt(mG,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute with DURATION attribute: "+t+"."),a&&_G.cLt(mG,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute with END-DATE attribute: "+t+".")),void 0===d&&_G.cLt(mG,"Could not parse #EXT-X-DATERANGE tag without valid ID attribute: "+t+"."),void 0===d||void 0===c)throw new y("HLSPlaylistParser - Could not parse #EXT-X-DATERANGE tag: "+t+".");return{o:d,RLt:l,nq:c,CLt:a,ct:h,DLt:o,LLt:n,FLt:i,OLt:r,ILt:f,NLt:v}}function aj(t,n){if(void 0===t)throw new y("HLSPlaylistParser - Unable to parse URL from string: "+t+".");return Vn.xm(t,n)}function fj(t,n){var i=JG(t),r=nj(i.DURATION),e=aj(i.URI,n),s=sj(i.BYTERANGE),u="YES"===i.INDEPENDENT,o="YES"===i.GAP;if(void 0===r)throw new y("HLSPlaylistParser - Unable to parse #EXT-X-PART without valid DURATION: "+t);return{ct:r,nyt:{zE:e,LAt:s},JLt:u,ZLt:o}}function vj(t){var n=JG(t);return{$Lt:"YES"===n["CAN-BLOCK-RELOAD"],tOt:nj(n["CAN-SKIP-UNTIL"]),iOt:"YES"===n["CAN-SKIP-DATERANGES"],eOt:nj(n["HOLD-BACK"]),sOt:nj(n["PART-HOLD-BACK"])}}function dj(t,n){var i=JG(t);if(void 0===i.URI)throw new y("HLSPlaylistParser - Could not parse #EXT-X-RENDITION-REPORT: "+t+".");var r=aj(i.URI,n),e=nj(i["LAST-MSN"]),s=nj(i["LAST-PART"]);if(void 0===e)throw new y("HLSPlaylistParser - Could not parse #EXT-X-RENDITION-REPORT: "+t+".");return{nyt:r,nOt:e,rOt:s}}function lj(t,n){var i,r=JG(t),e=nj(r["SKIPPED-SEGMENTS"]),s=null==(i=r["RECENTLY-REMOVED-DATERANGES"])?void 0:i.split("\t");if(void 0===e)throw new y("HLSPlaylistParser - Could not parse #EXT-X-SKIP tag without valid SKIPPED-SEGMENTS attribute: "+t+".");return{hOt:e,oOt:s,aOt:n}}function wj(t){var n=nj(JG(t)["PART-TARGET"]);if(void 0===n)throw new y("HLSPlaylistParser - Could not parse #EXT-X-PART-TARGET-DURATION tag: "+t+".");return n}function gj(t){switch(YG(t)){case"VOD":return FG.PLt;case"EVENT":return FG.xLt;default:return _G.cLt(mG,"Found #EXT-X-PLAYLIST-TYPE tag with invalid value: "+t+"."),FG.pk}}function _j(t,n){var i,r,e=JG(t);try{i=function(t){if(void 0===t)throw new y("HLSPlaylistParser - Could not parse PRELOAD-HINT type: "+t+".");if("MAP"===t)return LG.SLt;if("PART"===t)return LG.TLt;throw new y("HLSPlaylistParser - Could not parse PRELOAD-HINT type: "+t+".")}(e.TYPE),r=aj(e.URI,n)}catch(n){throw new y("HLSPlaylistParser - Could not parse #EXT-X-PRELOAD-HINT tag: "+t+".")}var s,u=nj(e["BYTERANGE-START"]),o=nj(e["BYTERANGE-LENGTH"]);return void 0===u&&void 0===o||(s={Tn:u||0,V:o}),{Km:i,nyt:{zE:r,LAt:s}}}F(),Et(),Ut(),F(),Et(),Wt(),Ut(),Qt(),F(),Et();var mj=function(){function t(n){this.dOt=0,this.cOt=void 0,this.cOt=t.fOt(n)}var n=t.prototype;return n.uOt=function(){var t=this.cOt[this.dOt];return this.dOt+=1,t},n.lOt=function(){return this.cOt[this.dOt]},n.Ly=function(){var n=new t("");return n.dOt=0,n.cOt=this.cOt.slice(this.dOt),n},t.fOt=function(t){return t?t.split(/[\r\n]+/).map(function(t){return t.trim()}).filter(function(t){return t}):[]},t}();function yj(t,n,i){var r=t.nyt,e=t.bD,s=t.vOt,u=t.Tn;switch(i){case"#EXT-X-VERSION":e=function(t){var n=KG(t);return S(n)?(_G.cLt(mG,"Playlist version is NaN: "+t+"."),1):n}(n);break;case"#EXT-X-INDEPENDENT-SEGMENTS":s=!0;break;case"#EXT-X-START":u=function(t){var n=JG(t),i=nj(n["TIME-OFFSET"]);if(void 0===i)throw new y("HLSPlaylistParser - #EXT-X-START is missing a TIME-OFFSET: "+t+".");return{_Ot:i,gOt:"YES"===n.PRECISE}}(n);break;case"#EXT-X-DEFINE":_G.cLt(mG,"Ignoring unsupported #EXT-X-DEFINE: "+n+".");break;default:_G.hB(mG,"Ignoring unrecognized line or comment: "+n+".")}return{nyt:r,bD:e,vOt:s,Tn:u}}function pj(t,n){return t.map(function(t){return t.Uk===UG.lz||t.KLt?t:Yu({},t,{KLt:kj(n)})})}function kj(t){var n=new DataView(new ArrayBuffer(16)),i=new Tc;return i.Ny(8),Qh(n,i,ue.fromNumber(t)),new E(n.buffer)}function bj(t,n,i){_G.hB(mG,"Parsing M3U8 playlist at "+t+".");var r=new mj(i);if("#EXTM3U"!==r.uOt())throw new y("HLSPlaylistParser - Could not parse M3U8 playlist. Playlist does not start with #EXTM3U.");return function(t){return/^#EXT-X-(MEDIA|STREAM-INF|I-FRAME-STREAM-INF|SESSION-DATA|SESSION-KEY):/m.test(t)}(i)?function(t,n){var i;try{i=Vn.xm(t)}catch(n){throw _G.cLt(mG,"The master playlist has no valid base URI: "+t+"."),new y("HLSPlaylistParser - Could not parse HLS master playlist: "+t)}for(var r={nyt:i,vOt:void 0,Tn:void 0,bD:void 0},e=[],s=[],u=[],o=[];;){var h=n.uOt();if(!h)break;try{var c=jG(h);switch(c){case"#EXT-X-MEDIA":var a=ZG(h,i);e.push(a);break;case"#EXT-X-STREAM-INF":var f=$G(h,i,n.uOt());s.push(f);break;case"#EXT-X-I-FRAME-STREAM-INF":var v=tj(h,i);u.push(v);break;case"#EXT-X-SESSION-DATA":_G.cLt(mG,"Ignoring unsupported #EXT-X-SESSION-DATA: "+h+".");break;case"#EXT-X-SESSION-KEY":var d=ij(h,i);o.push(d);break;default:r=yj(r,h,c)}}catch(t){_G.cLt(mG,"Ignoring unparsable line: "+h,t)}}var l,w=r.bD,g=null!=(l=r.vOt)&&l,_=r.Tn;return void 0===w&&(_G.cLt(mG,"The playlist has no #EXT-X-VERSION, assuming version is 2."),w=2),w>=8&&(s.some(function(t){return void 0!==t.iyt})||u.some(function(t){return void 0!==t.iyt}))&&(s.some(function(t){return void 0===t.iyt})||u.some(function(t){return void 0===t.iyt}))&&_G.cLt(mG,"If one master playlist variant stream has a SCORE, all variants should have it."),{nyt:i,bD:w,vOt:g,Tn:_,pOt:u,MW:o,KD:e,mOt:s}}(t,r):function(t,n,i){var r,e,s,u,o,h,c,a,f,v,d,l,w,g,_,m,p,k,b={nyt:t,vOt:void 0,Tn:void 0,bD:void 0},A=[],T=!1,S=!1,E=[],I=Ju(),R=[],C=[],D=!1,P=!1,N=[],B=[],x=0,O=!1,M=FG.pk,L=!1,U=0;try{k=Vn.xm(t)}catch(n){throw _G.cLt(mG,"The media playlist has no valid base URI: "+t+".",n),new y("HLSPlaylistParser - Could not parse HLS media playlist.")}for(var F=i.Ly();void 0===_||void 0===m;){var V=F.uOt();if(!V)break;try{switch(QG(V)){case"#EXT-X-MEDIA-SEQUENCE":_=KG(V);break;case"#EXT-X-DISCONTINUITY-SEQUENCE":m=KG(V)}}catch(t){_G.cLt(mG,"Ignoring unparsable line: "+V,t)}}void 0===_&&(_G.hB(mG,"#EXT-X-MEDIA-SEQUENCE tag is missing, assuming first segment media sequence number is 0."),_=0),void 0===m&&(_G.hB(mG,"#EXT-X-DISCONTINUITY-SEQUENCE tag is missing, assuming first segment discontinuity sequence number is 0."),m=0);for(var H=_,W=m;;){var z=i.uOt();if(!z)break;var X=!1;try{var q=QG(z);switch(q){case"#EXTINF":var G;X=!0,o=(G=rj(z))[0],h=G[1];break;case"#EXT-X-BYTERANGE":X=!0,(c=uj(z,x))&&(x=c.Tn+c.V);break;case"#EXT-X-DISCONTINUITY":X=!0,D=!0,W++;break;case"#EXT-X-KEY":var j;X=!0;var Q,Y=ij(z,k);if(Y.Uk===UG.lz){I.clear(),w=void 0;break}var K=null!=(Q=null==(j=Y.VLt)?void 0:j.toString())?Q:"identity";I.set(K,Y),Y.Uk===UG.kLt&&(w=Y);break;case"#EXT-X-MAP":X=!0,f=oj(z,k),v=w;break;case"#EXT-X-PROGRAM-DATE-TIME":X=!0,d=hj(z);break;case"#EXT-X-GAP":X=!0,P=!0;break;case"#EXT-X-BITRATE":X=!0,l=KG(z);break;case"#EXT-X-TARGETDURATION":r=KG(z);break;case"#EXT-X-DATERANGE":var J=cj(z);A.push(J);break;case"#EXT-X-PART":X=!0;var Z=fj(z,k);C.push(Z);break;case"#EXT-X-PRELOAD-HINT":var $=_j(z,k);N.push($);break;case"#EXT-X-SKIP":E.length>0&&_G.cLt(mG,"#EXT-X-SKIP must appear before any #EXTINF tags."),X=!0;var tt=lj(z,H);U=tt.hOt,p=tt.oOt,H+=tt.hOt;break;case"#EXT-X-SERVER-CONTROL":var nt=vj(z);T=nt.$Lt,e=nt.tOt,S=nt.iOt,s=nt.eOt,u=nt.sOt;break;case"#EXT-X-RENDITION-REPORT":var it=dj(z,k);B.push(it);break;case"#EXT-X-PART-INF":g=wj(z);break;case"#EXT-X-MEDIA-SEQUENCE":X&&_G.cLt(mG,"#EXT-X-MEDIA-SEQUENCE must appear before any media segment tags.");break;case"#EXT-X-DISCONTINUITY-SEQUENCE":X&&_G.cLt(mG,"#EXT-X-DISCONTINUITY-SEQUENCE must appear before any media segment tags.");break;case"#EXT-X-ENDLIST":O=!0;break;case"#EXT-X-PLAYLIST-TYPE":M=gj(z);break;case"#EXT-X-I-FRAMES-ONLY":L=!0;break;default:if(Uo(q,"#"))b=yj(b,z,q);else{a=Vn.xm(z,k);var rt=f?{nyt:f,wOt:v}:void 0,et={MW:pj(to(I),H),DU:R,yOt:C,ct:o,dq:h,AOt:D,nyt:{LAt:c,zE:a},bOt:rt,SOt:d,ZLt:P,TOt:l,aOt:H,kOt:W};E.push(et),H++,R=[],C=[],o=void 0,h=void 0,D=!1,c=void 0,a=void 0,d=void 0,P=!1,l=void 0}}}catch(t){_G.cLt(mG,"Ignoring unparsable line: "+z,t)}}if(C.length){var st=f?{nyt:f,wOt:w}:void 0,ut={MW:pj(to(I),H),DU:R,yOt:C,ct:o,dq:h,AOt:D,nyt:void 0,bOt:st,SOt:d,ZLt:P,TOt:l,aOt:H,kOt:W};E.push(ut)}var ot,ht=b.bD,ct=null!=(ot=b.vOt)&&ot,at=b.Tn;void 0===ht&&(_G.cLt(mG,"The media playlist has no #EXT-X-VERSION tag, assuming version is 2."),ht=2),void 0===r&&_G.cLt(mG,"Could not parse the HLS media playlist: no #EXT-X-TARGET-DURATION tag was found.");var ft=E.length,vt=ft>0;vt||_G.cLt(mG,"The HLS media playlist contains no segments.");var dt=vt&&E[ft-1].yOt.length>0;return dt&&void 0===g&&_G.cLt(mG,"Could not parse the HLS media playlist: no #EXT-X-PART-TARGET-DURATION tag was found, but it is required when some or all segments contain parts."),dt&&void 0===u&&_G.cLt(mG,"Could not parse the HLS media playlist: The #EXT-X-SERVER-CONTROL tag has no PART-HOLDBACK attribute, but it is required when some or all segments contain parts."),{$Lt:T,tOt:e,iOt:S,EOt:A,kOt:m,POt:O,vOt:ct,eOt:s,xOt:L,aOt:_,hOt:U,sOt:u,fLt:g,IOt:M,ROt:N,oOt:p,COt:B,DOt:r,ect:E,Tn:at,nyt:k,BOt:n,bD:ht}}(t,n,r)}F(),Et(),Bt(),Ut(),F(),Et(),Bt(),Ut();var Aj=function(){function t(t,n,i){var r,e,s,u;this.o=Tj++,this.IMt=void 0,this.kW=void 0,this.iyt=void 0,this.uCt=void 0,this.plt=void 0,this.qLt=void 0,this.jLt=void 0,this.XLt=void 0,this.zLt=void 0,this.tyt=void 0,this.MOt=void 0,this.ZRt=void 0,this.NOt=!1,this.OOt=[],this.IMt=n,this.kW=t.kW,this.tyt=t.tyt,this.iyt=t.iyt,this.MOt=t.frt?Sj(t.frt):void 0,this.ZRt=this.MOt,this.uCt=t.uCt,this.plt=t.plt,this.qLt=null!=(r=t.qLt)?r:"GOt"+this.o,this.jLt=null!=(e=t.jLt)?e:"XOt"+this.o,this.XLt=null!=(s=t.XLt)?s:"jOt"+this.o,this.zLt=null!=(u=t.zLt)?u:"QOt"+this.o,this.OOt=i}var n=t.prototype;return n.WOt=function(t){for(var n,i=Lt(this.OOt);!(n=i()).done;){var r=n.value.IMt.WOt(t);if(void 0!==r)return r}},n.qOt=function(t){for(var n,i=Lt(this.OOt);!(n=i()).done;){var r=n.value.IMt.qOt(t);if(void 0!==r)return r}},n.zOt=function(t){Xi(this.OOt,t)},Nt(t,[{key:"nyt",get:function(){return this.IMt.nyt}},{key:"frt",get:function(){return this.ZRt},set:function(t){this.ZRt=t?Sj(t):void 0,this.NOt=function(t,n){return!(void 0!==(null==t?void 0:t.yCt)&&void 0===(null==n?void 0:n.yCt)||void 0!==(null==t?void 0:t.bCt)&&void 0===(null==n?void 0:n.bCt))}(this.MOt,this.ZRt)}},{key:"LOt",get:function(){return this.NOt}},{key:"lLt",get:function(){return this.OOt}},{key:"FOt",get:function(){return this.OOt.filter(function(t){return t.Km===MG.Dk})}},{key:"UOt",get:function(){return this.OOt.filter(function(t){return t.Km===MG.Bk})}},{key:"VOt",get:function(){return this.OOt.filter(function(t){return t.Km===MG.OU})}},{key:"HOt",get:function(){return this.OOt.filter(function(t){return t.Km===MG.bLt})}}]),t}(),Tj=0;function Sj(t){return Yu({},t,{bCt:t.bCt?jv(t.bCt):void 0})}F(),Et(),Bt(),Ut(),F(),Et(),Bt(),Ut(),F(),Et(),Bt();var Ej=function(){function t(t,n,i,r,e,s){this.tFt=void 0,this.eFt=void 0,this.ct=void 0,this.nyt=void 0,this.JLt=void 0,this.ZLt=void 0,this.JOt=void 0,this.$Ot=void 0,this.OO=void 0,this.xet=void 0,this.KOt=void 0,this.tFt=t,this.eFt=n,this.OO=i,this.JOt=r,this.$Ot=e,this.ct=s.ct,this.nyt=s.nyt,this.JLt=s.JLt,this.ZLt=s.ZLt}return t.prototype.iFt=function(t,n,i){this.OO=t,this.JOt=n,this.$Ot=i},Nt(t,[{key:"EO",get:function(){var t;return this.OO+(null!=(t=this.KOt)?t:0)}},{key:"YOt",get:function(){return this.JOt}},{key:"ZOt",get:function(){return this.$Ot}},{key:"MW",get:function(){return this.tFt.MW}}]),t}(),Ij=function(){function t(t,n,i,r,e){this.WA=void 0,this.SOt=void 0,this.rFt=void 0,this.bOt=void 0,this.ZLt=void 0,this.JOt=void 0,this.$Ot=void 0,this.aOt=void 0,this.AOt=void 0,this.kOt=void 0,this.MW=void 0,this.OO=void 0,this.xet=void 0,this.hFt=[],this.aFt=0,this.sFt=void 0,this.OO=t,this.bOt=e.bOt,this.JOt=i,this.$Ot=r,this.WA=e.ct,this.SOt=e.SOt,this.rFt=e.nyt,this.ZLt=e.ZLt,this.aOt=e.aOt,this.AOt=e.AOt,this.kOt=n,this.MW=e.MW,this.fFt(e.yOt)}var n=t.prototype;return n.uFt=function(t){return this.hFt[t]},n.cFt=function(t){for(var n=0;n<this.hFt.length;n++){var i=this.hFt[n],r=i.EO,e=r+i.ct;if(r<=t&&t<=e)return t===e&&n+1<this.hFt.length?this.hFt[n+1]:i}},n.dFt=function(t){for(var n=this.hFt.length-1;n>=0;n--){var i=this.hFt[n];if(i.EO<=t)return i}},n.lFt=function(t){for(var n=this.dFt(t);n&&!n.JLt&&n.eFt>0;)n=this.uFt(n.eFt-1);return n},n.iFt=function(t,n,i){var r=t.yOt.length!==this.hFt.length||i!==this.$Ot;this.JOt=n,this.$Ot=i,this.WA=t.ct,null!=this.SOt||(this.SOt=t.SOt),void 0===this.rFt&&(this.rFt=t.nyt),r&&this.fFt(t.yOt)},n.fFt=function(t){this.hFt.length>t.length&&(this.hFt.length=t.length);for(var n=0,i=0;i<t.length;i++){var r=t[i],e=this.JOt&&0===i,s=this.$Ot&&i===t.length-1,u=this.OO+n;if(i<this.hFt.length)this.hFt[i].iFt(u,e,s);else{var o=new Ej(this,i,u,e,s,r);o.KOt=this.sFt,this.hFt.push(o)}n+=r.ct}this.aFt=n},n.vFt=function(){Yi(this.hFt),this.aFt=0},Nt(t,[{key:"EO",get:function(){var t;return this.OO+(null!=(t=this.sFt)?t:0)}},{key:"nFt",get:function(){return this.OO}},{key:"ct",get:function(){return this.WA}},{key:"nyt",get:function(){return this.rFt}},{key:"YOt",get:function(){return this.JOt}},{key:"ZOt",get:function(){return this.$Ot}},{key:"yOt",get:function(){return this.hFt}},{key:"oFt",get:function(){return this.aFt}},{key:"PO",get:function(){var t;return this.EO+(null!=(t=this.WA)?t:this.aFt)}},{key:"KOt",get:function(){return this.sFt},set:function(t){this.sFt=t;for(var n,i=Lt(this.hFt);!(n=i()).done;){n.value.KOt=t}}}]),t}();F(),Et();var Rj=function(t){return t._Ft="YES",t.gFt="v2",t}({});F(),Et(),Dt();var Cj=function(t){function n(){return t.apply(this,arguments)||this}return Ct(n,t),n}(ar);F(),Et(),Dt(),Ut(),F(),Et(),Bt(),Dt(),Ut(),F(),Et();var Dj=function(t){function n(n,i){var r,e=Pj(i,n.ct,n.nq,n.CLt);return(r=t.call(this,i,e,void 0,!1,n.o)||this).pFt=void 0,r.mFt=void 0,r.wFt=void 0,r.WA=void 0,r.yFt=void 0,r.AFt=void 0,r.kFt=void 0,r.bFt=void 0,r.SFt=void 0,r.TFt=void 0,r.pFt=n.RLt,r.mFt=n.nq,r.wFt=n.CLt,r.WA=n.ct,r.yFt=n.DLt,r.AFt=Boolean(n.ILt),r.kFt=n.BLt||{},r.bFt=n.MLt,r.SFt=n.OLt,r.TFt=n.FLt,r.EFt(),r.PFt(),r}Ct(n,t);var i=n.prototype;return i.er=function(t){var n,i=!1;(void 0===this.pFt&&void 0!==t.RLt&&(i=!0,this.pFt=t.RLt),void 0===this.wFt&&void 0!==t.CLt&&(i=!0,this.wFt=t.CLt),void 0===this.WA&&void 0!==t.ct&&(i=!0,this.WA=t.ct),void 0===this.yFt&&void 0!==t.DLt&&(i=!0,this.yFt=t.DLt),!this.AFt&&t.ILt&&(i=!0,this.AFt=t.ILt),i=this.updateCustomAttributes(t,i),void 0===this.bFt&&void 0!==t.MLt&&(i=!0,this.bFt=t.MLt),void 0===this.SFt&&void 0!==t.OLt&&(i=!0,this.SFt=t.OLt),void 0===this.TFt&&void 0!==t.FLt&&(i=!0,this.TFt=t.FLt),this.EFt(),this.PFt(),this.xFt(),i)&&(this.So(new zg(this)),null==(n=this.FO)||n.So(new qg(this)))},i.updateCustomAttributes=function(t,n){var i=n;if(t.BLt)for(var r,e=Lt(k.keys(t.BLt));!(r=e()).done;){var s=r.value;void 0===this.kFt[s]&&(i=!0,this.kFt[s]=t.BLt[s])}return i},i.EFt=function(){this.WA&&!this.wFt&&(this.wFt=new Date(this.mFt.getTime()+fe(this.WA)))},i.PFt=function(){this.wFt&&!this.WA&&(this.WA=ae(this.wFt.getTime()-this.mFt.getTime()))},i.xFt=function(){this.VO===1/0&&(this.wFt||this.WA)&&(this.VO=Pj(this.OO,this.WA,this.mFt,this.wFt))},Nt(n,[{key:"Ca",get:function(){return this.hu||(this.hu=function(t){return xw(Vg(t),{get content(){return t.U},get class(){return t.RLt},get startDate(){return t.nq},get endDate(){return t.CLt},get duration(){return t.ct},get plannedDuration(){return t.DLt},get endOnNext(){return t.ILt},get scte35Cmd(){return t.MLt},get scte35Out(){return t.OLt},get scte35In(){return t.FLt},get customAttributes(){return t.BLt}})}(this)),this.hu}},{key:"RLt",get:function(){return this.pFt}},{key:"nq",get:function(){return this.mFt}},{key:"CLt",get:function(){return this.wFt}},{key:"ct",get:function(){return this.WA}},{key:"DLt",get:function(){return this.yFt}},{key:"ILt",get:function(){return this.AFt}},{key:"MLt",get:function(){return this.bFt}},{key:"OLt",get:function(){return this.SFt}},{key:"FLt",get:function(){return this.TFt}},{key:"BLt",get:function(){return this.kFt}}]),n}(Yg);function Pj(t,n,i,r){return Un(n)?t+n:r?t+(ae(r.getTime())-ae(i.getTime())):1/0}var Nj=function(t){function n(){return t.call(this,void 0,void 0,Dg.DATE_RANGE)||this}Ct(n,t);var i=n.prototype;return i.er=function(t,n){Bj(this,xj(t),n)},i.tV=function(n){Oj(this.L.II,n),t.prototype.tV.call(this,n)},n}(YP);function Bj(t,n,i){for(var r=function(i){var r=e[i],s=Ui(n,function(t){return t.o===r.o});s?r.er(s):t.WU(r)},e=t.L.II,s=e.length-1;s>=0;s--)r(s);for(var u,o=Lt(n);!(u=o()).done;){var h=u.value,c=h.nq;if(void 0!==c&&!t.m5(h.o)){var a=i(c),f=new Dj(h,a);Oj(t.L.II,f),t.tV(f)}}}function xj(t){for(var n,i=Ju(),r=[],e=Lt(t);!(n=e()).done;){var s=n.value;if(i.has(s.o)){var u=i.get(s.o),o=Yu({},u,Uw(s),{BLt:Yu({},u.BLt,s.BLt)});i.set(s.o,o)}else i.set(s.o,s),r.push(s.o)}return r.map(function(t){return i.get(t)})}function Oj(t,n){var i=Vi(t,function(t){return t.RLt===n.RLt});i&&i.ILt&&i.er({o:i.o,CLt:n.nq})}var Mj=String.fromCharCode(95),Lj=Mj+"HLS_msn",Uj=Mj+"HLS_part",Fj=Mj+"HLS_skip",Vj="HLSMediaPlaylist",Hj=function(){function t(t,n,i){this.nyt=void 0,this.qFt=void 0,this.GFt=void 0,this.eUt=void 0,this.sUt=void 0,this.CFt=void 0,this.DFt=void 0,this.BFt=void 0,this.NFt=void 0,this.fAt=[],this.XFt=[],this.sFt=void 0,this.MFt=!1,this.LFt=void 0,this.OFt=!1,this.FFt=FG.pk,this.N4=TA.iL(),this.RFt=TA.iL(),this.WA=void 0,this.QFt=-1/0,this.MU=void 0,this.cUt=void 0,this.YFt=void 0,this.nyt=t,this.MU=n,this.cUt=i}var n=t.prototype;return n.hLt=function(t){if(!t)return this.nyt;var n=Vn.Dh(this.nyt);return void 0!==t.aOt&&n.searchParams.append(Lj,String(t.aOt)),void 0!==t.JFt&&n.searchParams.append(Uj,String(t.JFt)),void 0!==t.rD&&n.searchParams.append(Fj,t.rD),n.href},n.mat=function(t){var n=this.ZFt(t);return n<0?void 0:this.fAt[n]},n.ZFt=function(t){var n=this.fAt;if(0===n.length)return-1;var i=t-n[0].aOt;return i<0||i>=n.length?-1:i},n.$Ft=function(t){if(0!==this.fAt.length){var n=YF(Wj.Ng,this.fAt,t);if(!(n<0)){var i=this.fAt[n];return t===i.PO&&n+1<this.fAt.length?this.fAt[n+1]:i}var r=this.fAt[this.fAt.length-1];return t===r.PO?r:void 0}},n.tUt=function(t){if(0!==this.fAt.length){var n=this.fAt[0];if(t<n.PO)return n;var i=this.fAt[this.fAt.length-1];return t>=i.EO?i:this.$Ft(t)}},n.WOt=function(t){var n=this.tUt(t);if(void 0!==n)for(var i=n.aOt-this.fAt[0].aOt;i>=0;i--){var r=this.fAt[i];if(void 0!==r.SOt)return new Date(r.SOt.getTime()+1e3*(t-r.EO))}},n.qOt=function(t){for(var n,i,r=Lt(this.fAt);!(i=r()).done;){var e=i.value;if(zj(e))if(void 0===n)n=e;else{if(!(e.SOt.getTime()<=t.getTime()))break;n=e}}if(void 0!==n)return n.EO+(t.getTime()-n.SOt.getTime())/1e3},n.iUt=function(t){switch(t){case LG.SLt:return this.eUt;case LG.TLt:return this.sUt;default:return}},n.iFt=function(t){var n;void 0===this.CFt&&(this.CFt=null!=(n=t.DOt)?n:this.nUt(t));void 0===this.BFt&&void 0!==t.eOt&&(this.BFt=t.eOt),void 0===this.DFt&&void 0!==t.fLt&&(this.DFt=t.fLt),void 0===this.NFt&&void 0!==t.sOt&&(this.NFt=t.sOt),this.MFt=t.$Lt,this.LFt=t.tOt,this.OFt=t.iOt,this.FFt=t.IOt,this.pAt(t),this.rUt(t);var i=Ui(t.ROt,function(t){return t.Km===LG.SLt}),r=Ui(t.ROt,function(t){return t.Km===LG.TLt});this.eUt=i?{nyt:i.nyt,Km:i.Km,kOt:t.kOt}:void 0,this.sUt=r?{nyt:r.nyt,Km:r.Km,kOt:t.kOt}:void 0,this.qFt=Vn.Mg()/1e3;var e=this.N4.An(this.N4.V-1);this.hUt();var s=this.N4.An(this.N4.V-1);(!this.GFt||s-e>0)&&(this.GFt=this.qFt),null!=this.MU||(this.MU=t.Tn)},n.hUt=function(){this.RFt=this.oUt(),this.N4=this.aUt(this.RFt),this.WA=this.uUt()},n.oUt=function(){var t=this.ect;if(0===t.length)return TA.iL();var n=t[0].EO,i=t[t.length-1].PO;return new TA([n,i])},n.aUt=function(t){if(0===t.V||this.POt)return t;var n=t.Tn(0),i=t.An(0)-this.cSt;return i<n?TA.$M(n):new TA([n,i])},n.uUt=function(){return 0===this.fAt.length?0:this.POt?Pi(this.fAt,function(t){var n;return null!=(n=t.ct)?n:t.oFt}):1/0},n.nUt=function(t){for(var n,i,r=Lt(t.ect);!(i=r()).done;){var e=i.value;if(void 0!==e.ct){var s=b.max(1,b.round(e.ct));(void 0===n||n<s)&&(n=s)}}if(void 0===n)throw new y("HLSModel - Could not determine required segment target duration.");return n},n.pAt=function(t){if(0===t.ect.length)return Yi(this.fAt),void this.dUt();var n=this.lUt(t);if(n){var i,r,e;n.fUt>0&&this.fAt.splice(0,n.fUt);var s=t.hOt;if(s>0){if(s>this.fAt.length)throw new Cj("New playlist skips over missing segments.");var u=this.fAt[s-1];if(void 0===u.ct)throw new Cj("New playlist skips over an incomplete segment.");i=u.nFt+u.ct,e=u.kOt-t.kOt,r=s;for(var o=0;o<s;o++)this.fAt[o].vFt()}else i=n.vUt,e=0,r=0;for(var h=0;h<t.ect.length;h++,r++){var c=t.ect[h],a=0===h,f=t.POt&&h===t.ect.length-1,v=c.ct,d=c.kOt+e;if(r<this.fAt.length){var l=this.fAt[r];0,l.iFt(c,a,f)}else{var w=c;if(this.fAt.length>0&&void 0===w.bOt)w=Yu({},w,{bOt:this.fAt[this.fAt.length-1].bOt});var g=new Ij(i,d,a,f,w);g.KOt=this.sFt,this.fAt.push(g)}void 0!==v&&(i+=v)}}},n.lUt=function(t){if(0===this.fAt.length)return{fUt:0,vUt:0};var n=this.fAt[0].aOt,i=this.fAt[this.fAt.length-1].aOt,r=t.ect[0].aOt-t.hOt,e=t.ect[t.ect.length-1].aOt,s=0,u=0;if(r<n){var o=this.ect[0].SOt,h=t.ect[0].SOt;if(!(o&&h&&o<h))return void _G.cLt(Vj,"Ignoring older playlist (first media sequence number is "+r+", but previous playlist already started at "+n+")");s=this.fAt.length,this.dUt()}else{if(e<i)return void _G.cLt(Vj,"Ignoring older playlist (last media sequence number is "+e+", but previous playlist already ended at "+i+")");if(i<r){var c;u=null!=(c=function(t,n){var i=Vi(t,function(t){return void 0!==t.SOt});if(void 0===i)return;var r=function(t){for(var n,i=0,r=Lt(t);!(n=r()).done;){var e,s=n.value;if(s.AOt)return;if(s.SOt)return[s,i];i+=null!=(e=s.ct)?e:0}return}(n.ect);if(void 0===r)return;var e=r[0],s=r[1];if(i.kOt!==e.kOt)return;var u=(e.SOt.getTime()-i.SOt.getTime())/1e3;return i.nFt+u-s}(this.fAt,t))?c:function(t,n,i){var r,e=t[t.length-1],s=null!=(r=e.ct)?r:b.max(i,e.oFt),u=i*(n-e.aOt-1);return e.nFt+s+u}(this.fAt,r,this.CFt),_G.uLt(Vj,"New playlist (starting at "+r+") is entirely after previous playlist (ending at "+i+"), resetting playlist and restarting at "+u+"s"),s=this.fAt.length,this.dUt()}else{0;var a=Hi(this.fAt,function(t){return t.aOt===r});0,u=this.fAt[a].nFt,a>0&&(s=a)}}return{fUt:s,vUt:u}},n.rUt=function(t){var n=t.EOt.map(zG);if(t.iOt&&t.BOt.rD===Rj.gFt&&(n=this.XFt.concat(n)),this.XFt=xj(n),t.oOt)for(var i,r,e=function(){var t=r.value,n=Hi(i.XFt,function(n){return n.o===t});n>=0&&qi(i.XFt,n)},s=Lt(t.oOt);!(r=s()).done;)i=this,e()},n._Ut=function(t,n){if(this.sFt!==t){this.sFt=t;for(var i,r=Lt(this.fAt);!(i=r()).done;){i.value.KOt=this.sFt}this.hUt()}this.YFt=n},n.dUt=function(){this.sFt=void 0,this.YFt=void 0},Nt(t,[{key:"POt",get:function(){return 0!==this.fAt.length&&this.fAt[this.fAt.length-1].ZOt}},{key:"ct",get:function(){return this.WA}},{key:"Sx",get:function(){return this.N4}},{key:"IFt",get:function(){return this.RFt}},{key:"vLt",get:function(){return this.CFt}},{key:"fLt",get:function(){return this.DFt}},{key:"eOt",get:function(){return this.POt?0:this.BFt?this.BFt:this.CFt?3*this.CFt:void 0}},{key:"sOt",get:function(){var t;return null!=(t=this.NFt)?t:this.DFt?3*this.DFt:void 0}},{key:"$Lt",get:function(){return this.MFt}},{key:"tOt",get:function(){return this.LFt}},{key:"iOt",get:function(){return this.OFt}},{key:"IOt",get:function(){return this.FFt}},{key:"UFt",get:function(){return void 0!==this.fLt}},{key:"VFt",get:function(){if(this.POt)return!0;var t=Vn.Mg()/1e3,n=this.HFt,i=this.WFt;return void 0!==n&&t-n<i}},{key:"HFt",get:function(){return this.qFt}},{key:"zFt",get:function(){if(this.GFt)return Vn.Mg()/1e3-this.GFt}},{key:"KOt",get:function(){return this.sFt}},{key:"WFt",get:function(){var t;return null!=(t=this.CFt)?t:void 0===this.qFt?5:1}},{key:"ect",get:function(){return this.fAt}},{key:"EOt",get:function(){return this.XFt}},{key:"jFt",get:function(){return this.QFt},set:function(t){this.QFt=t}},{key:"Tn",get:function(){return this.MU}},{key:"KFt",get:function(){return this.YFt}},{key:"cSt",get:function(){return this.POt?0:null!=(i=null!=(n=null!=(t=this.cUt)?t:this.sOt)?n:this.eOt)?i:0;var t,n,i}}]),t}(),Wj=function(){function t(){}var n=t.prototype;return n.aAt=function(t){return t.EO},n.uAt=function(t){return t.PO},n.cAt=function(t,n){return xi(t,n)},n.dAt=function(t,n,i){return(t-n)/(i-n)},Nt(t,null,[{key:"Ng",get:function(){return null!=this.lAt||(this.lAt=new t),this.lAt}}]),t}();function zj(t){return void 0!==t.SOt}function Xj(t){return void 0!==t.yOt}function qj(t){return Xj(t)?t.YOt:0===t.eFt&&t.tFt.YOt}function Gj(t,n){return Xj(t)?Xj(n)?t.aOt+1===n.aOt:0===n.eFt&&Gj(t,n.tFt):t.eFt===t.tFt.yOt.length-1?Gj(t.tFt,n):!Xj(n)&&t.tFt===n.tFt&&t.eFt+1===n.eFt}Wj.lAt=void 0,F(),Et(),Ut(),F(),Et(),F(),Et(),Bt(),Dt(),H();var jj=function(t){function n(){return t.call(this,"Tried to wait for multiple discontinuity mappings at the same time")||this}return Ct(n,t),Nt(n,[{key:"name",get:function(){return"DiscontinuityMisalignmentError"}}]),n}(ar);var Qj=function(){function t(){this.LUt=[],this.pUt=Zu(),this.yUt=[],this.xUt=-1}var n=t.prototype;return n.gUt=function(t){var n=this.pUt.get(t);return void 0!==n&&Yj(n)},n.mUt=function(t){if(this.wUt()>t)return ut.reject(new jj);for(var n,i=[],r=Lt(this.yUt);!(n=r()).done;){var e,s=n.value;if(s<t)null==(e=this.pUt.get(s))||e.AUt.jy(new jj),this.pUt.delete(s);else i.push(s)}return this.yUt=i,-1===this.yUt.indexOf(t)&&this.yUt.push(t),this.bUt(t).AUt.Qy},n.SUt=function(t){var n=this.pUt.get(t);if(!n||!Yj(n))throw new y("LLHLSPlayer - Missing timestamp mapping for discontinuity #"+t);return n},n.TUt=function(t){return this.SUt(t).bU},n.kUt=function(t,n){var i=Xj(n)?n:n.tFt,r=this.SUt(i.kOt),e=t.lO(r.bU),s=g_.eU(n.EO).lF(e);if(s.uF().eF(k_())){var u=b.round(s.iF()/p_().iF());e=e.lO(p_().VF(u))}return e},n.EUt=function(t,n){return this.kUt(t,n).lF(t)},n.PUt=function(t,n,i,r,e,s){this.xUt<t&&(this.xUt=t);var u=this.bUt(t);void 0===u.bU&&(u.IUt.some(function(t){return t.Lot===n})||(u.IUt.push({Lot:n,RUt:i,CUt:r.JF(i.qD),DUt:e,BUt:s}),this.NUt(u,t)))},n.NUt=function(t,n){if(!t.bU&&this.MUt(t)){var i=function(t){return nr(t,Kj)}(t.IUt);t.bU=i.CUt.lF(i.RUt),t.AUt.Xy(),Yi(t.IUt),Xi(this.yUt,n)}},n.MUt=function(t){return this.LUt.length>0&&this.LUt.every(function(n){return t.IUt.some(function(t){return t.Lot===n})})},n.bUt=function(t){if(this.pUt.has(t))return this.pUt.get(t);var n={bU:void 0,AUt:new Vc,IUt:[]};return this.pUt.set(t,n),n},n.OUt=function(t){var n=this;this.LUt=t,this.pUt.forEach(function(t,i){return n.NUt(t,i)})},n.FUt=function(){this.xUt=-1},n.wUt=function(){return this.xUt},n.zg=function(){this.pUt.forEach(function(t){return t.AUt.Zg()}),this.pUt.clear()},t}();function Yj(t){return void 0!==t.bU}function Kj(t,n){return-function(t,n){if(t.BUt||n.BUt)return function(t,n){var i=t.lF(n);return t.vF()||n.vF()||(i.nF(k_())?i=i.lF(p_()):i.aF(k_().dF())&&(i=i.lO(p_()))),i}(t.RUt,n.RUt).sF(g_.wF);return t.RUt.sF(n.RUt)}(t,n)||function(t,n){return t.DUt===n.DUt?Ni.rh:t.DUt?Ni.Fg:Ni.Ug}(t,n)||function(t,n){return t.CUt.sF(n.CUt)}(t,n)}var Jj=function(){function t(t,n){this.WUt=[],this.VUt=[],this.YUt=Ju(),this.qUt=new Qj,this.cUt=void 0,this.tVt=void 0,this.tVt=t,this.cUt=n}var n=t.prototype;return n.iFt=function(t,n){if(OG(t))if(0===this.WUt.length)this.zUt(t);else{if(!n)return void _G.cLt("HLSModel","No rendition was provided to update the playlist. Ignoring the update.");n.IMt.iFt(t)}else{if(0!==this.WUt.length)return void _G.cLt("HLSModel","Master playlist can only be applied once. Ignoring the update.");this.GUt(t)}},n.zUt=function(t){var n=this.XUt(t.nyt);n.iFt(t);var i=this.jUt(MG.Dk,n),r=this.jUt(MG.Bk,n),e=new Aj({nyt:n.nyt,kW:0,tyt:0,iyt:NaN,frt:void 0,uCt:void 0,plt:0,WLt:[],GLt:void 0,QLt:void 0,qLt:void 0,jLt:void 0,XLt:void 0,zLt:void 0},n,[i,r]);this.WUt.push(e)},n.GUt=function(t){var n,i,r=function(){var i=e.value,r=s.filter(function(t){return function(t,n){return Zj(t.Km,t.BMt,n)&&(!t.MMt||t.IMt.nyt===n.nyt)}(t,i)});n.KUt(i,r);var u=new Aj(i,n.XUt(i.nyt,t.Tn),r);n.WUt.push(u)};(i=this.VUt).push.apply(i,[].concat(t.MW));for(var e,s=this.QUt(t),u=Lt(t.mOt);!(e=u()).done;)n=this,r()},n.XUt=function(t,n){var i=this.YUt.get(t);return void 0===i&&(i=new Hj(t,n,this.cUt),this.YUt.set(t,i)),i},n.QUt=function(t){for(var n,i=[],r=Lt(t.KD);!(n=r()).done;){var e=n.value;if(void 0===e.nyt)for(var s,u=Lt(t.mOt);!(s=u()).done;){var o=s.value;if(Zj(e.Km,e.BMt,o)){var h=new rG(e,this.XUt(o.nyt));i.push(h)}}else{var c=new rG(e,this.XUt(e.nyt));i.push(c)}}return i},n.jUt=function(t,n){return new rG({Km:t,nyt:void 0,BMt:"",bs:void 0,HLt:void 0,l:"",RMt:!0,CMt:!1,DMt:!1,LMt:void 0,NMt:void 0,hCt:void 0},n)},n.KUt=function(t,n){var i=n.filter(function(t){return t.Km===MG.Dk}),r=n.filter(function(t){return t.Km===MG.Bk}),e=t.frt&&(t.frt.bCt||t.frt.yCt);if((!e||t.frt.bCt)&&0===r.length){var s=this.jUt(MG.Bk,this.XUt(t.nyt));n.push(s)}if((!e||t.frt.yCt)&&0===i.length){var u=this.jUt(MG.Dk,this.XUt(t.nyt));n.push(u)}t.frt&&t.frt.ULt},n.JUt=function(t){for(var n,i=Lt(this.WUt);!(n=i()).done;)for(var r,e=Lt(n.value.lLt);!(r=e()).done;){var s=r.value;if(s===t)return s}},n.ZUt=function(t){for(var n,i=Lt(this.WUt);!(n=i()).done;){var r=n.value;if(r===t)return r}},n.$Ut=function(t){for(var n,i=Lt(this.WUt);!(n=i()).done;){var r=n.value;if(ji(r.lLt,t))return r}},n.zg=function(){Yi(this.WUt),Yi(this.VUt),this.YUt.clear(),this.qUt.zg()},Nt(t,[{key:"UUt",get:function(){return this.VUt}},{key:"HUt",get:function(){return this.WUt}},{key:"mM",get:function(){return this.qUt}}]),t}();function Zj(t,n,i){switch(t){case MG.Dk:return i.qLt===n;case MG.Bk:return i.jLt===n;case MG.OU:return i.XLt===n;case MG.bLt:return i.zLt===n}return!1}F(),Et(),Dt();var $j=function(t){function n(n){var i;return(i=t.call(this,rQ.iVt)||this).UMt=void 0,i.UMt=n,i}return Ct(n,t),n}(rh);F(),Et(),Dt();var tQ=function(t){function n(n){var i;return(i=t.call(this,rQ.eVt)||this).UMt=void 0,i.UMt=n,i}return Ct(n,t),n}(rh);F(),Et(),Dt();var nQ=function(t){function n(){return t.call(this,eh.ey)||this}return Ct(n,t),n}(rh),iQ="HlsModelUpdater",rQ=function(t){return t.iVt="sVt",t.eVt="nVt",t}({}),eQ=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this)||this).nV=void 0,u.eut=void 0,u.FSt=void 0,u.uyt=void 0,u.hVt=void 0,u.aVt=void 0,u.bVt=void 0,u.cVt=void 0,u.AVt=void 0,u.nV=n,u.eut=i,u.FSt=r,u.hVt=!1,u.aVt=!1,u.bVt=void 0,u.cVt=void 0,u.AVt=Zu(),u.uyt=new Jj(e,s),u}Ct(n,t);var i=n.prototype;return i.dVt=function(t){return Vt(function(){var n,i,r;return zt(this,function(e){switch(e.label){case 0:if(!(n=this.uyt.tVt))throw new y("HLSModelUpdater - Could not load HLS playlist: The provided source is empty.");return this.So(new GR),[4,this.lVt(n,{},2,!0,t)];case 1:if(i=e.sent(),!xG(r=i.IMt)&&!OG(r))throw new y("HLSModelUpdater - Could not load HLS playlist: The playlist is invalid.");return xG(r)||_G.hB(iQ,"Detected media playlist only HLS stream."),this.fVt(r),i.vVt?(this.aVt=!0,[4,this._Vt(t)]):[3,3];case 2:e.sent(),e.label=3;case 3:return this.hVt=!0,[2]}})}).call(this)},i.gVt=function(t,n,i,r){return Vt(function(){var e,s,u,o;return zt(this,function(h){switch(h.label){case 0:if(!(e=this.uyt.JUt(t)))throw new y("HLSModelUpdater - Could not load HLS playlist for rendition: the rendition does not exist on the internal model.");s={aOt:n,JFt:i,rD:hQ(e)},u=fe(b.max(1,3*t.IMt.WFt)),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,this.pVt(e,s,r,u)];case 2:return h.sent(),[3,4];case 3:throw lr(o=h.sent()),this.mVt(e),o;case 4:return[2]}})}).call(this)},i.wVt=function(t,n){var i=this.uyt.JUt(t);if(!i)throw new y("HLSModelUpdater - Could not load HLS playlist for rendition: the rendition does not exist on the internal model.");var r={aOt:void 0,JFt:void 0,rD:hQ(i)},e=fe(b.max(1,3*t.IMt.WFt));return this.pVt(i,r,n,e)},i.yVt=function(t,n){return this.AVt.has(t.jI)||this.AVt.set(t.jI,new Vc),gr(this.AVt.get(t.jI).Qy,n)},i.mVt=function(t){this.So(new tQ(t))},i.pVt=function(t,n,i,r){return Vt(function(){var e,s,u,o,h;return zt(this,function(c){switch(c.label){case 0:e=t.IMt.hLt(n),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,this.lVt(e,n,0,this.aVt,i,r)];case 2:return u=c.sent(),s=u.IMt,[3,4];case 3:throw lr(o=c.sent()),t.IMt.jFt=Vn.Mg(),o;case 4:if(!OG(s))throw new y("HLSModelUpdater - Could not load HLS playlist for rendition: the playlist is not a media playlist.");if(!this.bVt||t===this.bVt||this.bVt.IMt.VFt)return[3,8];c.label=5;case 5:return c.trys.push([5,7,,8]),[4,this.wVt(this.bVt,i)];case 6:return c.sent(),[3,8];case 7:return lr(c.sent()),this.bVt=t,this.SVt(),[3,8];case 8:try{this.fVt(s,t)}catch(e){if(V(e,Cj)&&void 0!==n.rD)return h=Yu({},n,{rD:void 0}),[2,this.pVt(t,h,i,r)];throw e}return this.bVt=t,[2]}})}).call(this)},i.lVt=function(t,n,i,r,e,s){return Vt(function(){var u;return zt(this,function(o){switch(o.label){case 0:return _G.hB(iQ,"Loading HLS playlist at "+t+"."),r?[4,this.TVt(t,e)]:[3,2];case 1:if(void 0!==(u=o.sent()))return[2,{IMt:u,vVt:!0}];o.label=2;case 2:return[4,this.kVt(t,n,i,e,s)];case 3:return[2,{IMt:o.sent(),vVt:!1}]}})}).call(this)},i.TVt=function(t,n){return Vt(function(){var i;return zt(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.eut.HSt([t])];case 1:return i=r.sent(),dr(n),void 0!==i?[2,bj(i.responseURL,{},i.data)]:[3,3];case 2:return lr(r.sent()),[3,3];case 3:return[2]}})}).call(this)},i.kVt=function(t,n,i,r,e){return Vt(function(){var s,u,o;return zt(this,function(h){switch(h.label){case 0:return s=this,u={Yu:t,dk:Md.NT,zk:this.FSt,Uk:wl.GET,Km:gl.wk,Yg:r,Vk:e},[4,gT(function(){return s.EVt(u)},r,i)];case 1:return[2,bj((o=h.sent()).gk,n,o.ck)]}})}).call(this)},i.EVt=function(t){return Vt(function(){var n,i;return zt(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,this.nV.lk(t)];case 1:return[4,(n=r.sent()).UT()];case 2:return[2,{ck:r.sent(),gk:n.gk}];case 3:throw vr(i=r.sent())||this.So(new nQ),i;case 4:return[2]}})}).call(this)},i._Vt=function(t){return Vt(function(){var n,i,r,e,s,u,o;return zt(this,function(h){switch(h.label){case 0:for(dr(t),n=[],i=Lt(this.uyt.HUt);!(r=i()).done;)for(e=r.value,s=Lt(e.lLt);!(u=s()).done;)o=u.value,n.push(this.PVt(o,t));return[4,ut.all(n)];case 1:return h.sent(),[2]}})}).call(this)},i.PVt=function(t,n){return Vt(function(){var i;return zt(this,function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),[4,this.eut.HSt([t.IMt.nyt])];case 1:return i=r.sent(),dr(n),void 0===i||t.IMt.VFt?[3,3]:[4,this.wVt(t,n)];case 2:r.sent(),r.label=3;case 3:return[3,5];case 4:return lr(r.sent()),[3,5];case 5:return[2]}})}).call(this)},i.SVt=function(){for(var t,n=Lt(this.uyt.HUt);!(t=n()).done;)for(var i,r=Lt(t.value.lLt);!(i=r()).done;){var e=i.value;e!==this.bVt&&(void 0!==e.IMt.KOt&&(e.IMt.VFt?this.xVt(e):e.IMt.dUt()))}},i.xVt=function(t){if(0!==t.IMt.ect.length){if(!this.bVt)return this.bVt=t,void this.bVt.IMt._Ut(0,void 0);if(this.IVt(this.bVt),!this.IVt(t)&&void 0===t.IMt.KOt){var n=this.RVt(t,this.bVt);_G.uLt(iQ,"Assuming global timeline offset of "+n+"s for rendition "+t.IMt.nyt+"."),t.IMt._Ut(n,void 0)}}},i.RVt=function(t,n){if(sQ(t)){var i=t.IMt.ect[0],r=n.IMt.ect[0];return _G.uLt(iQ,"Synchronizing by start of VOD: "+r.EO+" vs "+i.EO),r.EO-i.nFt}var e=function(t,n){var i=t.length-1,r=n.length-1;for(;i>=0&&r>=0;){var e=t[i],s=n[r];if(e.kOt>s.kOt)i--;else if(e.kOt<s.kOt)r--;else if(e.AOt){if(s.AOt)return{segment:e,referenceSegment:s};r--}else i--}return}(t.IMt.ect,n.IMt.ect);if(void 0!==e){var s=e.segment,u=e.referenceSegment;return _G.uLt(iQ,"Synchronizing by start of discontinuity #"+u.kOt+": "+u.EO+" vs "+s.EO),u.EO-s.nFt}var o=oQ(t.IMt.ect);if(void 0!==o){var h=oQ(n.IMt.ect);if(void 0!==h)return _G.uLt(iQ,"Synchronizing by PDT:",h.SOt.toISOString()+" vs "+o.SOt.getTime()),h.EO-o.nFt-(h.SOt.getTime()-o.SOt.getTime())/1e3}var c,a=uQ(n),f=uQ(t),v=null!=(c=t.IMt.KOt)?c:0;return _G.uLt(iQ,"Synchronizing by last segment:",a+" vs "+f),a-f+v},i.IVt=function(t){var n=this.uyt.JUt(t);if(!n)return!1;if(sQ(n))return!1;var i=function(t,n){return Vi(t,function(t){return void 0!==t.xet&&n.gUt(t.kOt)})}(n.IMt.ect,this.uyt.mM);if(void 0===i)return!1;if(n.IMt.KFt===i.kOt)return!0;var r=this.uyt.mM.kUt(i.xet,i).iF()-i.nFt;return _G.uLt(iQ,"Synchronize by media timestamp: "+r+"s for rendition "+t.IMt.nyt+"."),n.IMt._Ut(r,i.kOt),(void 0===this.bVt||void 0===this.bVt.IMt.KFt||this.bVt.IMt.KFt<i.kOt)&&(this.bVt=n),!0},i.fVt=function(t,n){var i;(this.uyt.iFt(t,n),OG(t)&&n)&&(this.cVt=n,this.xVt(n),this.So(new $j(n)),null==(i=this.AVt.get(n.jI))||i.Xy(),this.AVt.delete(n.jI));this.So(new OV)},i.CVt=function(t,n){for(var i,r=Lt(this.uyt.HUt);!(i=r()).done;){var e=i.value,s=Ui(e.UOt,function(t){return t.IMt===n});void 0!==s&&void 0!==t.bCt&&(s.frt=XG(s.frt,t));var u=Ui(e.FOt,function(t){return t.IMt===n});void 0!==u&&void 0!==t.yCt&&(u.frt=XG(u.frt,t)),e.LOt||void 0===s&&void 0===u||(e.frt=XG(e.frt,t))}},i.DVt=function(t,n){for(var i,r=Lt(this.uyt.HUt);!(i=r()).done;){var e=i.value,s=Ui(e.UOt,function(t){return t.IMt===n});void 0!==s&&void 0===t.bCt&&e.zOt(s);var u=Ui(e.FOt,function(t){return t.IMt===n});void 0!==u&&void 0===t.yCt&&e.zOt(u)}},i.zg=function(){this.Vo(),this.uyt.zg(),this.AVt.forEach(function(t){return t.Zg()}),this.AVt.clear()},Nt(n,[{key:"rVt",get:function(){return this.hVt}},{key:"oVt",get:function(){return this.aVt}},{key:"Br",get:function(){return this.uyt}},{key:"uVt",get:function(){return this.cVt}}]),n}(th);function sQ(t){return t.IMt.POt||t.IMt.IOt===FG.xLt}function uQ(t){var n=t.IMt.ect;return n[n.length-1].PO}function oQ(t){return Vi(t,function(t){return void 0!==t.SOt})}function hQ(t){if(void 0!==t.IMt.tOt&&!t.IMt.POt&&!(void 0===t.IMt.HFt||Vn.Mg()/1e3-t.IMt.HFt>=t.IMt.tOt/2))return t.IMt.iOt?Rj.gFt:Rj._Ft}var cQ=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).Fkt=void 0,r.BVt=void 0,r.NVt=function(t){r.rUt(t.UMt)},r.Fkt=n,r.Fkt.wn(rQ.iVt,r.NVt),r}Ct(n,t);var i=n.prototype;return i.rUt=function(t){if(0!==t.IMt.EOt.length){this.BVt||(this.BVt=this.JU.tI(Ym.VU,void 0,void 0,void 0,void 0,Dg.DATE_RANGE),this.tt(this.BVt));Bj(this.BVt,t.IMt.EOt,function(n){var i;return null!=(i=t.IMt.qOt(n))?i:NaN})}},i.ZU=function(t,n,i){var r=vy(t,n,i);return this.BVt===t&&(this.BVt=r),r},n}(fy);F(),Et(),Dt();var aQ=function(t){function n(){return t.call(this,iG.TMt)||this}return Ct(n,t),n}(rh);F(),Et(),Bt(),Ut(),F(),Et(),Wt(),Bt(),Qt(),F(),Et(),Bt();var fQ=function(){function t(t){this.Trt=void 0,this.fAt=void 0,this.Y2=void 0,this.dpt=void 0,this.Trt=t,this.fAt=[],this.Y2=void 0,this.dpt=void 0}var n=t.prototype;return n.LVt=function(t){var n;return null==(n=this.OVt(t))?void 0:n.UMt},n.FVt=function(t){this.Y2=t,this.UVt()},n.Odt=function(t,n,i,r,e,s){this.fAt.push({UMt:t,$at:n,VVt:TA.tL(e,s),HVt:TA.tL(i,r)}),this.UVt()},n.OVt=function(t){return Ui(this.fAt,function(n){return n.HVt.Cr(t)})},n.mat=function(t){return Ui(this.fAt,function(n){return n.$at===t})},n.Rct=function(t,n){return Ui(this.fAt,function(i){return i.UMt===t&&Gj(i.$at,n)})},n.C3=function(){var t=this.IP;t.V>0&&(this.dpt=t.An(t.V-1))},n.UVt=function(){var t=this.Trt.IP;this.fAt=this.fAt.filter(function(n){return 0!==t.Mn(n.HVt).V})},Nt(t,[{key:"MVt",get:function(){return this.Y2}},{key:"IP",get:function(){return LO(this.Trt.IP,this.Trt.M3)}},{key:"ect",get:function(){return this.fAt}},{key:"_pt",get:function(){return this.dpt}}]),t}();F(),Et();var vQ=188,dQ=function(t){return t[t.pk=0]="pk",t[t.fR=1]="fR",t[t.WVt=2]="WVt",t[t.qVt=3]="qVt",t}({});function lQ(t){return wQ(t)?1:function(t){return function(t){if(t.length<376)return-1;for(var n=t.length<564?2:3,i=b.min(1e3,t.length-n*vQ),r=0;r<=i;r++){for(var e=!0,s=0;s<n;s++)if(71!==t[r+s*vQ]){e=!1;break}if(e)return r}return-1}(t)>=0}(t)?2:function(t){return null!==BP(_c(t),new Tc)}(t)?3:0}function wQ(t){var n=wc(t,0,b.min(t.length,16384));return ym.ED(_c(n))}var gQ=function(){function t(t,n,i,r,e,s,u){var o=this;this.$y=void 0,this.Dot=void 0,this.nHt=void 0,this.Vp=void 0,this.wpt=void 0,this.hBt=void 0,this.vHt=void 0,this.jVt=void 0,this.nT=new hr,this.XVt=TA.iL(),this._Ht=void 0,this.Ugt=void 0,this.eHt=!0,this.KVt=!1,this.rHt=function(t){o.jVt&&(t?ZI(t)&&_Q(o)?o.vHt.YY(o.$y.IP.ZM)?o.jVt.Xy():o.jVt.jy(t):vr(t)?o.jVt.Xy():(o.KVt=!0,o.jVt.jy(t)):o.jVt.Xy(),o.jVt=void 0)},this.Vp=t,this.nHt=i,this.$y=n,this.Dot=r,this.vHt=e,this.wpt=s,this.hBt=u}var n=t.prototype;return n.YVt=function(){if(this.$It)throw new y("Cannot perform new operation while BufferAppender is still busy")},n.JVt=function(t){this.$y!==t&&(this.YVt(),this.$y=t,this.Dot=new fQ(t))},n.ZVt=function(){return this.jVt?this.jVt.Qy:ut.resolve()},n.$Vt=function(t){var n=this.Dot._pt;return void 0!==n&&this.tHt(t,n)},n.tHt=function(t,n){var i,r,e=b.min(t,n);return null!=(r=null==(i=this.Dot.IP.CM().UM(this.GVt).JM(e))?void 0:i.Cr(n))&&r},n.iHt=function(t){return this.Dot.LVt(t)},n.Zg=function(){this.nT.Zg(),this.nT=new hr,this.eHt=!0},n.z2=function(t){var n=this;this.YVt(),this.jVt=new Vc;var i=function(i){n.nHt.sHt(t),n.rHt(i)};this.G2(t,this.nT.Yg).then(i,i)},n.G2=function(t,n){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return _G.uLt(pG,"Appending initializer",VG(t.hHt.nyt)),this.Ugt=t,[4,this.$y.z2(t,n)];case 1:return i.sent(),void 0!==this.hBt&&this.Vp===ig.Bk&&wQ(t.ck.ck)&&this.hBt.Jrt(t.ck.ck),_G.uLt(pG,"Appended initializer",VG(t.hHt.nyt)),this.eHt=!1,this.Dot.FVt(t),[2]}})}).call(this)},n.cdt=function(t){var n=this;this.YVt(),this.jVt=new Vc;var i=function(i){n.nHt.sHt(t),n.rHt(i)};this.oHt(t,this.nT.Yg).then(i,i)},n.oHt=function(t,n){return Vt(function(){var i,r,e,s,u,o,h,c,a;return zt(this,function(f){switch(f.label){case 0:if(void 0===(i=t.UMt).IMt.vLt)throw new y("HlsBufferAppender: Cannot append HLSAsset to "+this.Vp+" buffer for a HLSRendition with an undefined targetDuration.");return this.eHt&&void 0!==this.Ugt?[4,this.G2(this.Ugt,n)]:[3,2];case 1:f.sent(),f.label=2;case 2:return r=this.Dot.IP.kM,e=this.$y.IP,_G.uLt(pG,"Appending",VG(t.hHt.nyt)),[4,this.$y.H2(t,n)];case 3:return f.sent(),void 0!==t.ck&&this.aHt(t.ck,t),_G.uLt(pG,"Appended",VG(t.hHt.nyt),r,this.Dot.IP.kM),s=t.EO,u=s+t.ct,o=t.hHt,h=o.EO,a=o.EO+(null!=(c=o.ct)?c:0),this.Dot.Odt(i,o,s,u,h,a),this.uHt(i,o,s,u,e),t.hHt.ZOt&&this.Dot.C3(),[2]}})}).call(this)},n.uHt=function(t,n,i,r,e){if(this.Km===ig.Bk){var s=this.$y.IP.UM(e),u=this.Dot.Rct(t,n);if(u)if(this.cHt(u))if(0===s.V){if(void 0===this.Dot.mat(n)){var o=this.$y.M3.Mn(new TA([i,r]));this.XVt=this.XVt.OM(o)}}else{var h=s.Tn(0),c=new TA([h,r]);if(this.XVt=this.XVt.UM(c),h>i){var a=this.$y.M3.Mn(new TA([i,h]));this.XVt=this.XVt.OM(a)}}else{var f=s.V>0&&s.Tn(0)<i?s.Tn(0):i;this.XVt=this.XVt.UM(new TA([f,r]))}else if(0===s.V){var v=this.$y.M3.Mn(new TA([i,r]));this.XVt=this.XVt.OM(v)}else{var d;if(n.YOt)return;var l=s.Tn(0),w=null==(d=e.JM(i))?void 0:d.An(0),g=w&&w>i?w:i;if(l>g){var _=this.$y.M3.Mn(new TA([g,s.Tn(0)]));this.XVt=this.XVt.OM(_)}}}},n.cHt=function(t){var n=t.HVt,i=n.Tn(0),r=n.An(n.V-1),e=n.PM(0),s=n.IM(n.V-1);return this.XVt.HM(i,r,e,s)},n.aHt=function(t,n){var i;if(wQ(t.ck)){var r=n.EO,e=r+n.ct,s=n.bU;if(null==(i=this.wpt)||i.Odt(t.ck,r,s),void 0!==this.hBt&&this.Vp===ig.Bk){var u=n.hHt.ZOt;this.hBt.Odt(t.ck,r,e,s,n.UMt,u)}var o=[];void 0!==this.wpt&&o.push(this.wpt),void 0!==this.hBt&&o.push(this.hBt),ay(this.$y.IP,o)}},n.dHt=function(t){this.YVt(),this.jVt=new Vc;try{_G.uLt(pG,"Appending gap from "+t.lHt+" to "+t.fHt,VG(t.$at.nyt)),this.F3(t.lHt,t.fHt)}finally{this.nHt.sHt(t),this.rHt()}},n.F3=function(t,n){this.$y.F3(t,n)},Nt(t,[{key:"Km",get:function(){return this.Vp}},{key:"zVt",get:function(){return this.Dot}},{key:"GVt",get:function(){return this.XVt}},{key:"$It",get:function(){return void 0!==this.jVt}},{key:"QVt",get:function(){return this.KVt}}]),t}();function _Q(t){return rg(t.Km)}F(),Et(),Wt(),Bt(),Dt(),Qt(),F(),Et(),Wt(),Qt();var mQ=function(){function t(t,n,i){this.mHt=void 0,this.nV=void 0,this.FSt=void 0,this.wHt=void 0,this.mHt=t,this.nV=n,this.FSt=i,this.wHt=void 0}var n=t.prototype;return n.gHt=function(t,n,i,r){return Vt(function(){var e;return zt(this,function(s){switch(s.label){case 0:return[4,this.pHt(n,r)];case 1:return e=s.sent(),[4,this.mHt.gHt(t,e,i)];case 2:return[2,s.sent()]}})}).call(this)},n.pHt=function(t,n){return Vt(function(){var i,r,e;return zt(this,function(s){switch(s.label){case 0:return(null==(i=this.wHt)?void 0:i.Yu)===t?[3,3]:(_G.uLt("HLSDecryptor","Fetching new AES-128 decryption key from "+t+"."),[4,this.nV.lk({Yu:t,dk:Md.CT,Uk:wl.GET,Yg:n,Km:gl.bk,Wk:_l.Ck,zk:this.FSt})]);case 1:return[4,s.sent().HT()];case 2:r=s.sent(),e=new E(r),this.wHt={Yu:t,ck:e},s.label=3;case 3:return[2,this.wHt.ck]}})}).call(this)},t}();F(),Et(),Wt(),Qt();var yQ=function(){function t(t,n,i,r,e){void 0===e&&(e=2),this.nV=void 0,this.eut=void 0,this.Tat=void 0,this.FSt=void 0,this.rrt=void 0,this.nV=t,this.eut=n,this.Tat=i,this.FSt=r,this.rrt=e}var n=t.prototype;return n.lk=function(t,n,i,r,e){return Vt(function(){var s,u;return zt(this,function(o){switch(o.label){case 0:return[4,this.yHt(t,n,i,Md.CT,r,e)];case 1:return[4,(s=o.sent()).HT(e)];case 2:return u=o.sent(),[2,{httpStatusCode:s.hk,response:new E(u)}]}})}).call(this)},n.AHt=function(t,n,i,r,e){return Vt(function(){return zt(this,function(s){switch(s.label){case 0:return[4,this.yHt(t,n,i,Md.BT,r,e)];case 1:return[2,s.sent().WT(e)]}})}).call(this)},n.yHt=function(t,n,i,r,e,s){return Vt(function(){var u,o,h,c,a;return zt(this,function(f){switch(f.label){case 0:u=this,t.LAt&&0===(o=BG(t.LAt.Tn,t.LAt.V))[0]&&o[1]===bi&&(o=void 0),h=o?{Range:"bytes="+o[0]+"-"+o[1]}:void 0,c=new pl({Yu:t.zE,dk:r,fk:h,zk:this.FSt,Uk:wl.GET,Km:n,Wk:i,qk:this.Tat,jk:r===Md.BT,Gk:e,Yg:s}),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,this.eut.iut(t.zE,o)];case 2:return a=f.sent(),dr(s),void 0!==a?(null==e||e(a.buffer.byteLength,a.buffer.byteLength),[2,new ll({lk:c,dk:c.dk,ck:a.buffer})]):[3,4];case 3:return lr(f.sent()),[3,4];case 4:return[4,gT(function(){return gr(u.nV.lk(c),c.Yg)},s,this.rrt)];case 5:return[2,f.sent()]}})}).call(this)},t}();F(),Et(),Wt(),Qt();var pQ=function(){function t(t,n){this.Fkt=void 0,this.SHt=void 0,this.IHt=void 0,this.DHt=new hr,this.En=-1/0,this.kHt=void 0,this.RHt=!1,this.Fkt=t,this.SHt=n,this.PHt()}var n=t.prototype;return n.bHt=function(){return this.SHt.IMt.$Lt},n.THt=function(t,n,i){return Vt(function(){var r,e;return zt(this,function(s){switch(s.label){case 0:if(!this.bHt())throw new y("Could not perform blocking playlist update.");return r=this.kHt,e={aOt:t,JFt:n},void 0!==r&&function(t,n,i){if(t.aOt===n.aOt){if(t.JFt===n.JFt)return!0;if(0===t.JFt&&void 0===n.JFt)return!0}if(t.aOt===n.aOt+1&&0===t.JFt&&void 0!==n.JFt){var r=i.mat(n.aOt);if(r&&r.nyt&&n.JFt>=r.yOt.length)return!0}return!1}(r,e,this.SHt.IMt)?[3,2]:[4,this.EHt()];case 1:s.sent(),this.PHt(e),s.label=2;case 2:return[2,this.Fkt.yVt(this.SHt,i)]}})}).call(this)},n.xHt=function(t){return this.PHt(),this.Fkt.yVt(this.SHt,t)},n.PHt=function(t){var n=this;if(!this.IHt&&!this.RHt){var i=function(){n.IHt=void 0};this.IHt=this.CHt(t,this.DHt.Yg).then(i,i)}},n.EHt=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.IHt?(this.DHt.Zg(),this.DHt=new hr,[4,this.IHt.catch(di)]):[3,2];case 1:t.sent(),this.IHt=void 0,t.label=2;case 2:return[2]}})}).call(this)},n.CHt=function(t,n){return Vt(function(){var i,r,e,s;return zt(this,function(u){switch(u.label){case 0:i=t,u.label=1;case 1:if(dr(n),this.SHt.IMt.POt&&this.SHt.IMt.VFt)return[2];null!=i||(i=this.BHt()),this.kHt=i,u.label=2;case 2:return u.trys.push([2,9,,10]),i?[4,this.Fkt.gVt(this.SHt,i.aOt,i.JFt,n)]:[3,4];case 3:return u.sent(),[3,8];case 4:return r=Vn.Mg()-this.En,e=1e3*this.SHt.IMt.WFt,r<e?[4,Ar(e-r,n)]:[3,6];case 5:u.sent(),u.label=6;case 6:return[4,this.Fkt.wVt(this.SHt,n)];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:throw s=u.sent(),this.kHt=void 0,lr(s),this.Fkt.mVt(this.SHt),s;case 10:return i=void 0,this.En=Vn.Mg(),[3,1];case 11:return[2]}})}).call(this)},n.BHt=function(){var t=this.SHt.IMt;if(t.$Lt&&!t.POt&&0!==t.ect.length){var n=t.ect[t.ect.length-1];return n.nyt?{aOt:n.aOt+1,JFt:t.UFt?0:void 0}:{aOt:n.aOt,JFt:n.yOt.length}}},n.zg=function(){this.RHt=!0,kr(this.EHt())},t}();F(),Et();var kQ=function(t){return t[t.SLt=0]="SLt",t[t.TLt=1]="TLt",t[t.yk=2]="yk",t[t.Ak=3]="Ak",t}({});F(),Et(),Wt(),Qt(),F(),Et(),Wt(),Bt(),Ut(),Qt();var bQ="AssetExtractor",AQ=function(){function t(){this.MHt=[]}var n=t.prototype;return n.NHt=function(t,n,i){for(var r,e=n,s=Lt(this.MHt);!(r=s()).done;){var u=r.value;if(e>=t)return!0;if(e<u.Tn)return!1;if(e<u.An){if(i<=u.An)return!0;e=u.An}}return e>=t},n.LHt=function(t,n){for(var i=[],r=0;r<this.MHt.length;r+=1){var e=this.MHt[r],s=t-e.Tn,u=e.ck.length,o=b.min(u,b.max(s,0)),h=b.max(0,n+s),c=kc(e.ck,o,h);c.length&&(r=this.OHt(r,e,t,o,h),i.push(c))}return i},n.FHt=function(t,n){this.MHt.push({Tn:t,An:t+n.length,ck:n})},n.OHt=function(t,n,i,r,e){var s=t;this.MHt.splice(s,1),s-=1,n.Tn<i&&(s+=1,this.MHt.splice(s,0,{Tn:n.Tn,An:i,ck:kc(n.ck,0,r)}));var u=i+e-r;return u<n.An&&(s+=1,this.MHt.splice(s,0,{Tn:u,An:n.An,ck:kc(n.ck,e)})),s},t}(),TQ=function(){function t(t,n){this.VHt=void 0,this.Wd=void 0,this.VHt=n,this.Wd=t.getReader()}var n=t.prototype;return n.HHt=function(){return Vt(function(){var t;return zt(this,function(n){switch(n.label){case 0:return[4,this.Wd.read()];case 1:if((t=n.sent()).done)throw this.VHt=1/0,new y("No more data can be read from the given stream.");return this.VHt+=t.value.length,[2,t.value]}})}).call(this)},n.WHt=function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,this.Wd.cancel(t)];case 1:return n.sent(),[2]}})}).call(this)},Nt(t,[{key:"UHt",get:function(){return this.VHt}}]),t}(),SQ=function(){function t(t,n,i,r){this.rFt=void 0,this.Wd=void 0,this.XHt=void 0,this.KHt=void 0,this.jHt=void 0,this.zHt=void 0,this.YHt=new Vc,this.rFt=t,this.Wd=n,this.XHt=i,this.KHt=r,this.jHt=new Vc,this.zHt=new Vc}var n=t.prototype;return n.qHt=function(){this.zHt.Xy(),this.zHt=new Vc},n.GHt=function(t){var n=IQ(this.rFt.LAt),i=n.OAt,r=n.FAt,e=this.XHt.LHt(i,r-i);_G.uLt(bQ,"Collected "+e.length+" chunks.");for(var s,u=Lt(e);!(s=u()).done;){var o=s.value;t.enqueue(o)}},n.readAndSliceOutAssetBytes=function(t){return Vt(function(){var n,i,r,e,s,u,o,h,c,a,f,v,d;return zt(this,function(l){switch(l.label){case 0:return[4,this.jHt.Qy];case 1:l.sent(),n=IQ(this.rFt.LAt),i=n.OAt,r=n.FAt,l.label=2;case 2:l.trys.push([2,11,,12]),l.label=3;case 3:return e=this.Wd.UHt,[4,this.Wd.HHt()];case 4:return s=l.sent(),u=s.length,_G.uLt(bQ,"Read "+u+" at "+e+" for extraction of "+VG(this.rFt)),o=b.min(e+u,i),(h=o-e)>0?(c=kc(s,0,h),a=kc(s,h),_G.uLt(bQ,"Of the read "+u+" bytes, the first "+h+" will be stored locally for extraction of "+VG(this.rFt)),this.XHt.FHt(e,c),a.length>0?(_G.uLt(bQ,"Extracting "+a.length+" bytes for extraction of "+VG(this.rFt)),t.enqueue(a),this.qHt(),[2,kr(this.readAndSliceOutAssetBytes(t))]):[3,9]):[3,5];case 5:return e+u<=r?(_G.uLt(bQ,"Extracting the read data range for extraction of "+VG(this.rFt)),t.enqueue(s),this.qHt(),[2,kr(this.readAndSliceOutAssetBytes(t))]):[3,6];case 6:return v=kc(s,0,f=r-e),d=kc(s,f),v.length>0&&(_G.uLt(bQ,"Extracting "+v.length+" bytes for extraction of "+VG(this.rFt)),t.enqueue(v)),_G.uLt(bQ,"Of the read "+u+" bytes, the last "+d.length+" will be stored locally for extraction of "+VG(this.rFt)),this.XHt.FHt(e+f,d),_G.uLt(bQ,"Extraction of "+VG(this.rFt)+" completed as the entire request has been fulfilled."),this.QHt(t),this.KHt?(_G.uLt(bQ,"Aborting stream upstream as no more bytes are needed from "+VG(this.rFt)+"."),[4,this.Wd.WHt("AssetExtraction - AbortOnEnd")]):[3,8];case 7:l.sent(),l.label=8;case 8:return[2];case 9:return[3,3];case 10:return[3,12];case 11:return l.sent(),_G.uLt(bQ,"Extraction of "+VG(this.rFt)+" completed as the entire source stream has been read."),this.QHt(t),[3,12];case 12:return[2]}})}).call(this)},n.QHt=function(t){t.close(),this.qHt(),this.YHt.Xy()},n.start=function(t){_G.uLt(bQ,"Preparing to push all collected data to controller for extraction of "+VG(this.rFt)),this.GHt(t),_G.uLt(bQ,"Collected data pushed to controller for extraction of "+VG(this.rFt));var n=IQ(this.rFt.LAt).FAt;this.Wd.UHt>=n?(_G.uLt(bQ,"Extraction of "+VG(this.rFt)+" completed as the entire request has been fulfilled."),this.QHt(t)):(_G.uLt(bQ,"Continuing read from original stream for extraction of "+VG(this.rFt)),kr(this.readAndSliceOutAssetBytes(t)))},n.pull=function(){return this.jHt.Xy(),this.jHt=new Vc,this.zHt.Qy},Nt(t,[{key:"JHt",get:function(){return this.YHt.Qy}}]),t}(),EQ=function(){function t(t,n){this.rFt=void 0,this.XHt=void 0,this.ZHt=void 0,this.$Ht=void 0,this.rFt=n;var i=IQ(this.rFt.LAt).OAt;this.ZHt=new TQ(t,i),this.XHt=new AQ}var n=t.prototype;return n.fO=function(t){if(!HG(this.rFt,t))return!1;var n=IQ(t.LAt),i=n.OAt,r=n.FAt;return this.XHt.NHt(this.ZHt.UHt,i,r)},n.ygt=function(t,n){return void 0===n&&(n=!1),Vt(function(){var i,r,e;return zt(this,function(s){switch(s.label){case 0:return i=this.ZHt,r=this.XHt,_G.hB(bQ,"Extracting data from "+VG(t)+" out of "+VG(this.rFt)),this.$Ht?(_G.uLt(bQ,"Awaiting previous extraction before extracting "+VG(t)+" out of "+VG(this.rFt)),[4,this.$Ht]):[3,2];case 1:s.sent(),s.label=2;case 2:if(!this.fO(t))throw new y("The extractor does not contain the data requested");return e=new SQ(t,i,r,n),this.$Ht=e.JHt,[2,new Xd(e)]}})}).call(this)},t}();function IQ(t){if(t){var n=t.Tn;return{OAt:n,FAt:void 0!==t.V?n+t.V:bi}}return{OAt:0,FAt:bi}}var RQ=function(){function t(t,n){this.rFt=void 0,this.tWt=void 0,this.nT=void 0,this.Dpt=void 0,this.rFt=t,this.tWt=n,this.nT=new hr,this.Dpt=this.Un()}var n=t.prototype;return n.Un=function(){return Vt(function(){var t;return zt(this,function(n){switch(n.label){case 0:return[4,this.tWt.AHt(this.rFt,gl.Ak,_l.pk,void 0,this.nT.Yg)];case 1:return t=n.sent(),[2,new EQ(t,this.rFt)]}})}).call(this)},n.fO=function(t){return HG(this.rFt,t)},n.ygt=function(t,n){return void 0===n&&(n=!1),Vt(function(){return zt(this,function(i){switch(i.label){case 0:return[4,this.Dpt];case 1:return[4,gr(i.sent().ygt(t,n),this.nT.Yg)];case 2:return[2,i.sent()]}})}).call(this)},n.Zg=function(){this.Dpt.catch(di),this.nT.Zg()},t}();F(),Et(),Dt();var CQ=function(t){function n(n){var i;return(i=t.call(this,MQ.iWt)||this).qk=void 0,i.qk=n,i}return Ct(n,t),n}(rh);F(),Et(),Dt();var DQ=function(t){function n(n,i,r,e,s,u,o){var h;return(h=t.call(this,MQ.eWt)||this).uri=void 0,h.sWt=void 0,h.qk=void 0,h.mediaSequenceNumeber=void 0,h.mediaTrackId=void 0,h.nWt=void 0,h.httpStatusCode=void 0,h.uri=n,h.sWt=i,h.qk=r,h.mediaSequenceNumeber=e,h.mediaTrackId=s,h.nWt=u,h.httpStatusCode=o,h}return Ct(n,t),n}(rh);function PQ(t,n,i){var r=Xj(i)?i:i.tFt;if(n.gUt(r.kOt)){if(void 0!==i.xet)return n.kUt(i.xet,i).iF();if(i!==r&&void 0!==r.xet){var e=n.kUt(r.xet,r).iF();return i.EO+(e-r.EO)}}var s=t.IMt.mat(r.aOt-1);if(void 0!==s&&n.gUt(s.kOt)){if(s.yOt.length>0){var u=s.uFt(s.yOt.length-1);if(void 0!==u.xet){var o=n.kUt(u.xet,u).iF();return i.EO+(o-u.EO)}}if(void 0!==s.xet){var h=n.kUt(s.xet,s).iF();return i.EO+(h-s.EO)}}var c=t.IMt.mat(r.aOt+1);if(void 0!==c&&n.gUt(c.kOt)){if(c.yOt.length>0){var a=c.uFt(0);if(void 0!==a.xet){var f=n.kUt(a.xet,a).iF();return i.EO+(f-a.EO)}}if(void 0!==c.xet){var v=n.kUt(c.xet,c).iF();return i.EO+(v-c.EO)}}return i.EO}function NQ(t){return void 0!==t.xet}function BQ(t,n,i,r){for(var e=n;e<t.length;e++){var s=t[e];if(s.kOt!==i)break;if(NQ(s))if(r(s,e))break}}function xQ(t,n,i,r){for(var e=n;e>=0;e--){var s=t[e];if(s.kOt!==i)break;if(NQ(s))if(r(s,e))break}}F(),Et();var OQ="HlsPlaylistDownloader",MQ=function(t){return t.iWt="rWt",t.eWt="hWt",t}({}),LQ=function(t){function n(n,i,r,e,s,u,o,h){var c;return(c=t.call(this)||this).Vp=void 0,c.Fkt=void 0,c.nHt=void 0,c.tWt=void 0,c.QWt=void 0,c.SHt=void 0,c.aWt=void 0,c.uWt=void 0,c.vWt=void 0,c.KWt=void 0,c.YWt=0,c.JWt=0,c.ZWt=0,c.$Wt=0,c.pWt=new hr,c.mWt=void 0,c.cWt=0,c.dWt=void 0,c.lWt=void 0,c.fWt=!1,c.yWt=void 0,c.wWt=void 0,c.PWt=function(t){c.uWt&&(c.SHt=c.uWt,c.uWt=void 0,c.cWt=0,c.dWt=void 0,c.lWt=void 0,c.fWt=!1),c.vWt&&(t&&!vr(t)?c.vWt.jy(t):c.vWt.Xy(),c.vWt=void 0)},c.XWt=function(t,n){c.ZWt=t,t>0&&0===c.YWt&&(c.YWt=Vn.Mg()),void 0!==n&&(c.$Wt=n),c.So(new CQ(c.Vp))},c.Vp=n,c.Fkt=r,c.nHt=e,c.SHt=i,c.aWt=new pQ(r,i),c.QWt=new mQ(o,s,h),c.tWt=new yQ(s,u,function(t){switch(t){case MG.Bk:return ml.Bk;case MG.Dk:return ml.Dk;case MG.OU:case MG.bLt:return ml.NT;default:return ml.pk}}(i.Km),h),c}Ct(n,t);var i=n.prototype;return i.oWt=function(t){this.aWt.zg(),this.aWt=new pQ(this.Fkt,t),this.$It?this.uWt=t:(this.SHt=t,this.cWt=0,this.dWt=void 0,this.lWt=void 0,this.fWt=!1)},i.ZVt=function(){return this.vWt?this.vWt.Qy:ut.resolve()},i.gWt=function(){return this.nHt.gWt()},i.Zg=function(){var t,n,i;this.pWt.Zg(),this.pWt=new hr,null==(t=this.mWt)||t.Zg(),this.mWt=void 0,null==(n=this.wWt)||n.Zg(),null==(i=this.yWt)||i.Zg(),this.wWt=void 0,this.yWt=void 0,this.cWt=0,this.dWt=void 0,this.lWt=void 0,this.fWt=!1},i.zg=function(){this.aWt.zg()},i.AWt=function(t){var n=this.SHt.IMt.$Ft(t);if(!n)return!1;if(void 0!==this.dWt){var i=n.aOt===this.dWt;return void 0!==this.lWt?n.cFt(t)===n.uFt(this.lWt)&&i:i}return!1},i.bWt=function(t){var n,i;if(!this._Wt&&(void 0===this.dWt||t<this.cWt-1e-6))n=this.SWt(t);else if(void 0!==(n=this.TWt(null!=(i=this.dWt)?i:0,this.lWt))){var r=n[0],e=n[1],s=PQ(this.SHt,this.Fkt.Br.mM,null!=e?e:r),u=3*this.SHt.IMt.vLt;b.abs(s-t)>=u&&(n=this.SWt(t))}else if(this.SHt.IMt.POt&&void 0!==this.dWt){if(this.SHt.IMt.mat(this.dWt).ZOt&&void 0!==(n=this.SWt(t))&&n[0].aOt===this.dWt)return}if(n){this.cWt=t;var o=n[0],h=n[1];return 0===(null==h?void 0:h.eFt)&&void 0!==o.ct?[o,void 0]:[o,h]}},i.SWt=function(t){var n,i,r=this.SHt.IMt.ect;if(0!==r.length){var e,s=this.Fkt.Br.mM,u=g_.eU(t),o=function(t,n,i){var r=t.IMt.ect;if(0!==r.length){var e=t.IMt.tUt(i.iF());if(n.gUt(e.kOt)){var s,u,o,h=e.aOt-r[0].aOt,c=e.kOt,a=0;if(!(xQ(r,h,c,function(t,n){return s=t,a=n,!0}),void 0===s&&(BQ(r,h+1,c,function(t,n){return s=t,a=n,!0}),void 0===s)||(n.kUt(s.xet,s).hF(i)?(u=s,BQ(r,a+1,c,function(t){return n.kUt(t.xet,t).eF(i)?(o=t,!0):(u=t,!1)})):(o=s,xQ(r,a-1,c,function(t){return n.kUt(t.xet,t).hF(i)?(u=t,!0):(o=t,!1)})),void 0===u||void 0===o)))return[u,o]}}}(this.SHt,s,u);if(void 0!==o){var h=o[0],c=o[1],a=s.kUt(h.xet,h),f=s.kUt(c.xet,c),v=u.lF(a).iF()/f.lF(a).iF()*(c.EO-h.EO);e=h.EO+v}else e=t;var d=r[r.length-1];return d.PO<=e?(n=d,i=d.lFt(e)):i=r[0].EO>e?(n=r[0]).uFt(0):null==(n=this.SHt.IMt.$Ft(e))?void 0:n.lFt(e),n?[n,i]:void 0}},i.TWt=function(t,n){var i,r;if((i=this.SHt.IMt.mat(t))&&void 0!==n){if(0===i.yOt.length)return[i,void 0];r=i.uFt(n+1)}return void 0!==i&&void 0!==r||(r=null==(i=this.SHt.IMt.mat(t+1))?void 0:i.uFt(0)),i?[i,r]:void 0},i.YVt=function(){if(this.$It)throw new y("Cannot perform new operation while PlaylistDownloader is still busy")},i.kWt=function(t){this.YVt(),this.vWt=new Vc,this.EWt(t,this.pWt.Yg).then(this.PWt,this.PWt)},i.xWt=function(){this.aWt.PHt()},i.EWt=function(t,n){return Vt(function(){var i,r;return zt(this,function(e){switch(e.label){case 0:return this.SHt.IMt.POt?[2]:(i=this.bWt(t))||!this.aWt.bHt()||void 0===this.dWt?[3,2]:[4,this.aWt.THt(void 0===this.lWt?this.dWt+1:this.dWt,void 0!==this.lWt?this.lWt+1:void 0,n)];case 1:e.sent(),i=this.bWt(t),e.label=2;case 2:return i||!this.aWt.bHt()||void 0===this.dWt?[3,4]:[4,this.aWt.THt(this.dWt+1,0,n)];case 3:e.sent(),i=this.bWt(t),e.label=4;case 4:return i?[3,6]:(_G.hB(OQ,"No next segment / part available, need to update playlist before continuing."),[4,this.aWt.xHt(n)]);case 5:return e.sent(),r=this.UMt.IMt.ect,r[0].EO>t&&(this.lWt=void 0,this.dWt=void 0,this.fWt=!1),r[r.length-1].aOt<this.dWt&&(this.lWt=void 0,this.dWt=void 0,this.fWt=!1),i=this.bWt(t),[3,4];case 6:return[2]}})}).call(this)},i.IWt=function(){return this.nHt.RWt()},i.CWt=function(){this.YVt();try{var t=this.SHt.IMt.iUt(LG.SLt);t&&this.DWt(t);var n=this.SHt.IMt.iUt(LG.TLt);n&&this.BWt(n)}catch(t){throw lr(t),this.SHt.IMt.jFt=Vn.Mg(),this.Fkt.mVt(this.SHt),t}},i.DWt=function(t){this.yWt&&!this.yWt.fO(t.nyt)&&(this.yWt.Zg(),this.yWt=void 0),this.yWt||(this.yWt=new RQ(t.nyt,this.tWt))},i.BWt=function(t){this.wWt&&!this.wWt.fO(t.nyt)&&(this.wWt.Zg(),this.wWt=void 0),this.wWt||(this.wWt=new RQ(t.nyt,this.tWt))},i.pat=function(t,n,i){var r=this;this.YVt(),_G.hB(OQ,"Starting download of segment "+VG(t.nyt)+" and part "+(null==n?void 0:n.eFt)),this.vWt=new Vc,this.NWt(t,n,i,this.pWt.Yg).catch(function(t){throw lr(t),r.SHt.IMt.jFt=Vn.Mg(),r.Fkt.mVt(r.SHt),t}).then(this.PWt,this.PWt)},i.NWt=function(t,n,i,r){return Vt(function(){var e,s,u,o,h,c;return zt(this,function(a){switch(a.label){case 0:return e=this,t.bOt&&(i&&WG(i.hHt.nyt,null==(u=t.bOt)?void 0:u.nyt)&&t.kOt===i.kOt||(null==(h=this.mWt)||h.Zg(),this.mWt=new Vc,c=this.MWt(t.bOt,t,r).then(function(){e.mWt=void 0}),this.mWt.$g(c)),s=null==(o=this.mWt)?void 0:o.Qy),t.ZLt||n&&n.ZLt?[4,this.LWt(t,n,s,r)]:[3,2];case 1:return a.sent(),[3,4];case 2:return[4,this.OWt(t,n,s,r)];case 3:a.sent(),a.label=4;case 4:return[2]}})}).call(this)},i.MWt=function(t,n,i){return Vt(function(){var r,e;return zt(this,function(s){switch(s.label){case 0:return[4,this.FWt(t,n,i)];case 1:return r=s.sent(),e=r.bOt.ck.ck.byteLength,this.nHt.UWt(r),this.So(new DQ(r.bOt.hHt.nyt,r.Km,this.Vp,n.aOt,r.UMt.jI,e,r.bOt.Iut)),_G.uLt(pG,"Download initializer complete",VG(t.nyt)),[2]}})}).call(this)},i.OWt=function(t,n,i,r){return Vt(function(){var e,s,u;return zt(this,function(o){switch(o.label){case 0:return[4,this.VWt(t,n,r)];case 1:return e=o.sent(),s=e.$at.ck.ck.byteLength,i?[4,gr(i,r)]:[3,3];case 2:o.sent(),o.label=3;case 3:return this.nHt.UWt(e),this.So(new DQ(e.$at.hHt.nyt,e.Km,this.Vp,t.aOt,e.UMt.jI,s,e.$at.Iut)),_G.uLt(pG,"Download complete",VG(null!=(u=null==n?void 0:n.nyt)?u:t.nyt)),[2]}})}).call(this)},i.LWt=function(t,n,i,r){return Vt(function(){var e,s;return zt(this,function(u){switch(u.label){case 0:return e=this.HWt(t,n),i?[4,gr(i,r)]:[3,2];case 1:u.sent(),u.label=2;case 2:return this.nHt.UWt(e),_G.uLt(pG,"Download gap complete",VG(null!=(s=null==n?void 0:n.nyt)?s:t.nyt)),[2]}})}).call(this)},i.VWt=function(t,n,i){return Vt(function(){var r,e,s,u;return zt(this,function(o){switch(o.label){case 0:return n?this.wWt?this.wWt.fO(n.nyt)?[4,this.wWt.ygt(n.nyt)]:[3,4]:[3,5]:[3,8];case 1:return[4,Yd(o.sent(),i)];case 2:return e=o.sent(),s=new E(e),[4,this.gHt(s,n.MW,i)];case 3:return u=o.sent(),r=VQ(n,u,200),[3,5];case 4:this.wWt.Zg(),this.wWt=void 0,o.label=5;case 5:return r?[3,7]:(_G.uLt(pG,"Start download",VG(n.nyt)),[4,this.WWt(n,i)]);case 6:r=o.sent(),o.label=7;case 7:return[3,10];case 8:return _G.uLt(pG,"Start download",VG(t.nyt)),[4,this.yat(t,i)];case 9:r=o.sent(),o.label=10;case 10:return this.dWt=t.aOt,this.lWt=null==n?void 0:n.eFt,this.fWt=!1,[2,{Km:"$at",$at:r,UMt:this.SHt,kOt:t.kOt}]}})}).call(this)},i.FWt=function(t,n,i){return Vt(function(){var r,e,s,u,o;return zt(this,function(h){switch(h.label){case 0:return this.yWt?this.yWt.fO(t.nyt)?[4,gr(this.yWt.ygt(t.nyt),i)]:[3,4]:[3,5];case 1:return[4,Yd(h.sent(),i)];case 2:return s=h.sent(),u=new E(s),[4,this.gHt(u,t.wOt?[t.wOt]:[],i)];case 3:o=h.sent(),r=UQ(t,n,o,200),h.label=4;case 4:_G.hB(OQ,"MAP is required for segment, downloading MAP data."),null==(e=this.yWt)||e.Zg(),this.yWt=void 0,h.label=5;case 5:return r?[3,7]:(_G.uLt(pG,"Start download",VG(t.nyt)),[4,this.qWt(t,n,i)]);case 6:r=h.sent(),h.label=7;case 7:return[2,{Km:"bOt",bOt:r,UMt:this.SHt,EO:n.EO,kOt:n.kOt,MW:n.MW}]}})}).call(this)},i.HWt=function(t,n){var i=null!=n?n:t;return this.dWt=t.aOt,this.lWt=null==n?void 0:n.eFt,this.fWt=!0,{Km:"zWt",lHt:i.EO,fHt:i.EO+i.ct,UMt:this.SHt,$at:i,kOt:t.kOt}},i.qWt=function(t,n,i){return Vt(function(){var r,e,s,u,o;return zt(this,function(h){switch(h.label){case 0:return[4,this.tWt.lk(t.nyt,gl.yk,_l.Sk,void 0,i)];case 1:return r=h.sent(),e=r.response,s=r.httpStatusCode,u=t.wOt?[t.wOt]:[],[4,this.gHt(e,u,i)];case 2:return o=h.sent(),[2,UQ(t,n,o,s)]}})}).call(this)},i.yat=function(t,n){return Vt(function(){var i,r,e,s;return zt(this,function(u){switch(u.label){case 0:if(!t.nyt)throw new y("Internal error: attempted to download an incomplete segment");u.label=1;case 1:return u.trys.push([1,,3,4]),this.GWt(t),[4,this.tWt.lk(t.nyt,gl.yk,_l.pk,this.XWt,n)];case 2:return e=u.sent(),i=e.response,r=e.httpStatusCode,[3,4];case 3:return this.jWt(),[7];case 4:return[4,this.gHt(i,t.MW,n)];case 5:return s=u.sent(),[2,FQ(t,s,r)]}})}).call(this)},i.WWt=function(t,n){return Vt(function(){var i,r,e,s;return zt(this,function(u){switch(u.label){case 0:return u.trys.push([0,,2,3]),this.GWt(t),[4,this.tWt.lk(t.nyt,gl.yk,_l.pk,this.XWt,n)];case 1:return e=u.sent(),i=e.response,r=e.httpStatusCode,[3,3];case 2:return this.jWt(),[7];case 3:return[4,this.gHt(i,t.MW,n)];case 4:return s=u.sent(),[2,VQ(t,s,r)]}})}).call(this)},i.gHt=function(t,n,i){return Vt(function(){var r;return zt(this,function(e){switch(e.label){case 0:return(r=Ui(n,function(t){return t.Uk===UG.kLt}))?r.nyt&&r.KLt?[4,this.QWt.gHt(t,r.nyt,r.KLt,i)]:(_G.lt(OQ,"Encountered an AES-128 encrypted segment for which no initialization vector could be determined."),[2,t]):[2,t];case 1:return[2,e.sent()]}})}).call(this)},i.GWt=function(t){var n,i,r;this.KWt=t,this.YWt=0,this.JWt=Vn.Mg(),this.ZWt=0,this.$Wt=null!=(r=null==(i=t.nyt)||null==(n=i.LAt)?void 0:n.V)?r:0},i.jWt=function(){this.KWt=void 0,this.YWt=0,this.JWt=0,this.ZWt=0,this.$Wt=0},i.tqt=function(){if(void 0!==this.KWt)return{$at:this.KWt,iqt:this.ZWt,eqt:this.$Wt,sqt:Vn.Mg()-this.JWt}},i.nqt=function(t){return void 0!==this.KWt&&(0!==this.YWt&&(!(this.$Wt>0&&this.ZWt>=this.$Wt)&&!(t-this.YWt<500)))},Nt(n,[{key:"$It",get:function(){return void 0!==this.vWt}},{key:"_Wt",get:function(){return this.fWt}},{key:"UMt",get:function(){var t;return null!=(t=this.uWt)?t:this.SHt}},{key:"ERt",get:function(){if(!this.SHt.IMt.POt||void 0===this.dWt)return!1;var t=this.SHt.IMt.mat(this.dWt);if(!t.ZOt)return!1;if(void 0!==this.lWt&&!t.uFt(this.lWt).ZOt)return!1;return!0}}]),n}(th);function UQ(t,n,i,r){return{ck:{ck:i,Km:FR.vZ},Km:kQ.SLt,Iut:r,hHt:t,kOt:n.kOt}}function FQ(t,n,i){return{ck:{ck:n,Km:FR.vZ},Km:kQ.yk,Iut:i,hHt:t,kOt:t.kOt}}function VQ(t,n,i){return{ck:{ck:n,Km:FR.vZ},Iut:i,Km:kQ.TLt,hHt:t,kOt:t.tFt.kOt}}F(),Et(),Bt(),Ut();var HQ=function(){function t(t){this.oqt=[],this.uqt=Ju(),this.qUt=void 0,this.dqt=void 0,this.rqt=void 0,this.qUt=t}var n=t.prototype;return n.UWt=function(t){"bOt"===t.Km&&(this.rqt=t.bOt),this.oqt.push(t),this.dqt&&(this.dqt.Xy(),this.dqt=void 0)},n.gWt=function(){return this.oqt[0]},n.lqt=function(t){Xi(this.oqt,t)},n.RWt=function(){return null!=this.dqt||(this.dqt=new Vc),this.dqt.Qy},n.fqt=function(t){this.vqt(t.Lot).fqt(t)},n._qt=function(t){return this.vqt(t)._qt()},n.sHt=function(t){this.vqt(t.Lot).sHt(t)},n.gqt=function(t){var n;null==(n=this.uqt.get(t))||n.zg()},n.pqt=function(t){return this.vqt(t).pqt()},n.vqt=function(t){if(this.uqt.has(t))return this.uqt.get(t);var n=new WQ;return this.uqt.set(t,n),n},n.Gy=function(){this.mqt(),this.wqt()},n.mqt=function(){this.rqt=void 0,Yi(this.oqt)},n.wqt=function(){this.uqt.forEach(function(t){return t.Gy()})},n.zg=function(){this.uqt.forEach(function(t){return t.zg()}),this.uqt.clear(),this.Gy(),this.dqt&&(this.dqt.Zg(),this.dqt=void 0)},Nt(t,[{key:"MVt",get:function(){return this.rqt}},{key:"hqt",get:function(){for(var t,n=[],i=Lt(this.oqt);!(t=i()).done;){var r=t.value;if("$at"===r.Km){var e,s=r.$at.hHt,u=PQ(r.UMt,this.qUt,s);n.push({$at:s,UMt:r.UMt,EO:u,PO:u+(null!=(e=s.ct)?e:0)})}else"zWt"===r.Km&&n.push({$at:r.$at,UMt:r.UMt,EO:r.lHt,PO:r.fHt})}return n}},{key:"aqt",get:function(){var t=[];return this.uqt.forEach(function(n){for(var i,r=Lt(n.cqt);!(i=r()).done;){var e=i.value;"$at"===e.Km?t.push({$at:e.hHt,UMt:e.UMt,EO:e.EO,PO:e.EO+e.ct}):"zWt"===e.Km&&t.push({$at:e.$at,UMt:e.UMt,EO:e.lHt,PO:e.fHt})}}),t}}]),t}(),WQ=function(){function t(){this.yqt=[],this.Aqt=void 0}var n=t.prototype;return n.fqt=function(t){this.yqt.push(t),this.Aqt&&(this.Aqt.Xy(),this.Aqt=void 0)},n._qt=function(){return this.yqt[0]},n.sHt=function(t){Xi(this.yqt,t)},n.pqt=function(){return null!=this.Aqt||(this.Aqt=new Vc),this.Aqt.Qy},n.Gy=function(){Yi(this.yqt)},n.zg=function(){this.Gy(),this.Aqt&&(this.Aqt.Zg(),this.Aqt=void 0)},Nt(t,[{key:"cqt",get:function(){return this.yqt}}]),t}();F(),Et(),Wt(),Dt(),Qt(),F(),Et(),Bt(),Dt(),Ut(),F(),Et(),Dt();var zQ=function(t){function n(n,i){var r;return(r=t.call(this,QQ.bqt)||this).UMt=void 0,r.frt=void 0,r.UMt=n,r.frt=i,r}return Ct(n,t),n}(rh);F(),Et(),Dt();var XQ=function(t){function n(n){var i;return(i=t.call(this,QQ.Sqt)||this).UMt=void 0,i.UMt=n,i}return Ct(n,t),n}(rh);F(),Et(),Dt();var qQ=function(t){function n(n,i){var r;return(r=t.call(this,QQ.Tqt)||this).UMt=void 0,r.plt=void 0,r.UMt=n,r.plt=i,r}return Ct(n,t),n}(rh);F(),Et(),Dt();var GQ=function(t){function n(n,i){var r;return(r=t.call(this,QQ.kqt)||this).UMt=void 0,r.Eqt=void 0,r.UMt=n,r.Eqt=i,r}return Ct(n,t),n}(rh);F(),Et(),Dt();var jQ=function(t){function n(){return t.call(this,QQ.Pqt)||this}return Ct(n,t),n}(rh),QQ=function(t){return t.bqt="xqt",t.Tqt="Iqt",t.kqt="Rqt",t.Sqt="Cqt",t.Pqt="Dqt",t}({}),YQ=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).nHt=void 0,e.qUt=void 0,e.Nqt=void 0,e.Lqt=void 0,e.nT=new hr,e.nHt=n,e.qUt=i,e.Nqt=r,e}Ct(n,t);var i=n.prototype;return i.Mqt=function(t){for(var n,i=Lt(this.Nqt);!(n=i()).done;){var r=n.value;ji(t,r)||this.nHt.gqt(r)}this.Nqt=t},i.ZVt=function(){var t,n;return null!=(n=null==(t=this.Lqt)?void 0:t.Qy)?n:ut.resolve()},i.YVt=function(){if(this.$It)throw new y("Cannot perform new operation while transmuxer is still busy")},i.Oqt=function(t,n){},i.Fqt=function(t){var n=this;this.YVt(),this.Lqt=new Vc;var i=function(i){n.Uqt(t,i)};this.Vqt(t,this.nT.Yg).then(i,i)},i.Hqt=function(t){var n=this;this.YVt(),this.Lqt=new Vc;var i=function(i){n.Uqt(t,i)};this.Wqt(t,this.nT.Yg).then(i,i)},i.qqt=function(t){this.YVt(),this.Lqt=new Vc;try{for(var n,i=Lt(this.Bqt);!(n=i()).done;){var r={Km:"zWt",Lot:n.value,lHt:t.lHt,fHt:t.fHt,kOt:t.kOt,UMt:t.UMt,$at:t.$at};this.fqt(r)}}finally{this.Uqt(t)}},i.Uqt=function(t,n){this.Lqt&&(!n||vr(n)||function(t){return V(t,jj)}(n)?(vr(n)||this.nHt.lqt(t),this.Lqt.Xy(),this.Lqt=void 0):this.Lqt.jy(n),this.So(new jQ))},i.zqt=function(t,n){this.So(new zQ(t,n))},i.Gqt=function(t,n){this.So(new qQ(t,n))},i.Xqt=function(t,n,i){qj(n)&&this.So(new GQ(t,i))},i.jqt=function(t){this.So(new XQ(t))},i.fqt=function(t){ji(this.Nqt,t.Lot)&&this.nHt.fqt(t)},i.Qqt=function(t){return this.nHt._qt(t)},i.sHt=function(t){this.nHt.sHt(t)},i.Kqt=function(t){return this.nHt.pqt(t)},i.Zg=function(){this.nT.Zg(),this.nT=new hr},Nt(n,[{key:"Bqt",get:function(){return this.Nqt}},{key:"$It",get:function(){return void 0!==this.Lqt}}]),n}(th);function KQ(t,n){return qj(t)?0:b.min(t.EO,n)}function JQ(t,n){var i;return b.max(t.EO,n)+(null!=(i=t.ct)?i:0)}var ZQ=function(t){function n(n,i,r){return t.call(this,n,i,[r])||this}Ct(n,t);var i=n.prototype;return i.Vqt=function(t,n){dr(n);var i={Km:"FRt",ck:t.bOt.ck,Lot:this.Bqt[0],kOt:t.kOt,Yqt:{frt:"",MW:t.MW},EO:t.EO,UMt:t.UMt,hHt:t.bOt.hHt};return this.fqt(i),ut.resolve()},i.Wqt=function(t,n){return Vt(function(){var i,r,e,s,u,o;return zt(this,function(h){switch(h.label){case 0:return dr(n),void 0===(i=t.$at.hHt).xet?[3,3]:this.qUt.gUt(t.kOt)?[3,2]:[4,gr(this.qUt.mUt(t.kOt),n)];case 1:h.sent(),h.label=2;case 2:return r=this.qUt.kUt(i.xet,i).iF(),[3,4];case 3:r=i.EO,h.label=4;case 4:return e=KQ(i,r),s=JQ(i,e),o={Km:"$at",ck:t.$at.ck,Lot:this.Bqt[0],lHt:e,fHt:s,EO:r,ct:null!=(u=i.ct)?u:0,bU:0,kOt:t.kOt,UMt:t.UMt,hHt:t.$at.hHt},this.fqt(o),[2]}})}).call(this)},n}(YQ);function $Q(t,n){for(var i,r=function(){var r=i.value,s=r.EO;if(r.UMt.IMt.POt&&qj(r.$at))s=0;else{var u=function(t){return r.UMt===t.UMt&&Gj(t.$at,r.$at)},o=Ui(t,u);if(void 0!==o)s=b.min(s,o.PO);else{var h=Ui(n,u);void 0!==h&&(s=b.min(s,h.HVt.An(0)))}}e=e.OM(TA.tL(s,r.PO))},e=TA.iL(),s=Lt(t);!(i=s()).done;)r();return e}F(),Et(),Ut();var tY=.001,nY=function(){function t(t,n,i,r,e,s){this.$qt=void 0,this.ezt=void 0,this.tzt=void 0,this.szt=void 0,this.nzt=void 0,this.Rz=void 0,this.Zqt=void 0,this.$qt=t,this.ezt=n,this.tzt=i,this.szt=r,this.nzt=e,this.Rz=s,this.Zqt=[]}var n=t.prototype;return n.oWt=function(t){this.$qt.oWt(t)},n.izt=function(t){for(var n,i=function(t){var i=n.Zqt[t];if(!_Q(i))throw new y("Invalid state");var r=Hi(e,function(t){return t.Km===i.Km});r>=0&&!i.QVt?(i.JVt(e[r]),qi(e,r)):qi(n.Zqt,t)},r=this.Zqt.length>0,e=t.slice(),s=this.Zqt.length-1;s>=0;s--)n=this,i(s);for(var u,o=Lt(e);!(u=o()).done;){var h=u.value,c=new fQ(h);this.Zqt.push(new gQ(h.Km,h,this.ezt,c,this,this.szt,this.nzt))}r&&e.length>0&&this.ezt.Gy();var a=t.map(function(t){return t.Km});this.tzt.Mqt(a)},n.YY=function(t){var n,i=(null==(n=this.Rz)?void 0:n.YY(t))||!1;return i&&(this.Zg(),this.ezt.Gy()),i},n.rzt=function(t){var n=this.Zqt[0];if(void 0!==n){if(n.Km!==ig.NT||n.$It)throw new y("Invalid state");if(!n.QVt)return void n.JVt(t)}var i=new fQ(t),r=new gQ(ig.NT,t,this.ezt,i,this,void 0,void 0);this.Zqt=[r]},n._at=function(){for(var t,n=Lt(this.Zqt);!(t=n()).done;){t.value.zVt.UVt()}},n.hdt=function(t){var n=this.hzt.JM(t,tY);return n?n.An(n.V-1):t},n.AWt=function(t){return!!this.hzt.JM(t,tY)||this.$qt.AWt(t)},n.azt=function(t){return this.ozt.Cr(t,tY)},n.uzt=function(t,n,i){for(var r,e=Lt(this.Zqt);!(r=e()).done;){var s=r.value.zVt,u=s._pt;if(void 0!==u&&n>=u&&!s.IP.CM().Cr(u))return!0}return n-t<i},n.Zg=function(){this.czt(),this.dzt()},n.czt=function(){this.$qt.Zg()},n.dzt=function(){this.tzt.Zg(),this.Jqt.forEach(function(t){return t.Zg()})},n.zg=function(){this.Zg(),this.$qt.zg()},Nt(t,[{key:"Jqt",get:function(){return this.Zqt}},{key:"UMt",get:function(){return this.$qt.UMt}},{key:"$It",get:function(){return this.$qt.$It||this.tzt.$It||this.Zqt.some(function(t){return t.$It})}},{key:"MVt",get:function(){var t=this.ezt.MVt;if(t)return t;if(this.Zqt.length>0){var n=this.Zqt[0].zVt.MVt;if(n&&this.Zqt.every(function(t){return t.zVt.MVt===n}))return n}}},{key:"hzt",get:function(){var t,n=$Q(this.ezt.hqt.concat(this.ezt.aqt),Ji(this.Zqt,function(t){return t.zVt.ect})).CM();if(0===this.Zqt.length)t=n;else{t=TA.eL();for(var i,r=Lt(this.Zqt);!(i=r()).done;){var e=i.value;t=t.Mn(e.zVt.IP)}for(var s,u=Lt(this.Zqt);!(s=u()).done;){var o=s.value;t=t.UM(o.GVt)}t=t.OM(n)}return t.LM(tY)}},{key:"ozt",get:function(){var t,n=$Q(this.ezt.aqt,Ji(this.Zqt,function(t){return t.zVt.ect})).CM();if(0===this.Zqt.length)t=n;else{t=TA.eL();for(var i,r=Lt(this.Zqt);!(i=r()).done;){var e=i.value;t=t.Mn(e.zVt.IP)}t=t.OM(n)}return t}}]),t}();F(),Et(),Dt();var iY=function(t){function n(){return t.call(this,iG.PMt)||this}return Ct(n,t),n}(rh);F(),Et(),Dt();var rY=function(t){function n(){return t.call(this,iG.kMt)||this}return Ct(n,t),n}(rh);F(),Et(),Wt(),Bt(),Qt(),F(),Et(),Wt(),Bt(),Dt(),Qt();var eY="LazyMediaBuffer",sY=function(t){function n(n,i){var r;return(r=t.call(this)||this).Vp=void 0,r._zt=void 0,r.GS=void 0,r.Trt=void 0,r.fzt=void 0,r.zY=void 0,r.jY=void 0,r.L3=void 0,r.Vp=n,r._zt=i,r.GS=void 0,r.Trt=void 0,r.fzt=new Vc,r.zY=20,r.jY=30,r.L3=new YR,r}Ct(n,t);var i=n.prototype;return i.F3=function(t,n){_G.uLt(eY,"Marking gap from "+t+" to "+n+"."),this.L3.t$(t,n),this.Trt&&this.Trt.F3(t,n)},i.U3=function(t,n){_G.uLt(eY,"Removing gap from "+t+" to "+n+"."),this.L3.i$(t,n),this.Trt&&this.Trt.U3(t,n)},i.lzt=function(t){this.Trt=t,this.Trt.UY=this.jY,this.Trt.MY=this.zY;for(var n=this.L3.ZZ,i=0;i<n.V;i++)this.Trt.F3(n.Tn(i),n.An(i));this.Trt.wn(LR.lZ,this.Rs),this.fzt.Xy(t)},i.vzt=function(t){return gr(this.fzt.Qy,t)},i.H2=function(t,n,i){return Vt(function(){return zt(this,function(r){switch(r.label){case 0:return[4,this.vzt(i)];case 1:return[4,r.sent().H2(t,n,i)];case 2:return r.sent(),[2]}})}).call(this)},i.V3=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return[4,this.vzt()];case 1:return[4,t.sent().V3()];case 2:return t.sent(),[2]}})}).call(this)},i.z2=function(t,n,i){return Vt(function(){return zt(this,function(r){switch(r.label){case 0:return[4,this.vzt(i)];case 1:return[4,r.sent().z2(t,n,i)];case 2:return r.sent(),[2]}})}).call(this)},i._S=function(t,n,i){return Vt(function(){return zt(this,function(r){switch(r.label){case 0:return[4,this.vzt(i)];case 1:return[4,r.sent()._S(t,n,i)];case 2:return r.sent(),[2]}})}).call(this)},i.r3=function(t,n){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return[4,this.vzt()];case 1:return[4,i.sent().r3(t,n)];case 2:return i.sent(),[2]}})}).call(this)},i.TZ=function(t){return!!this.Trt&&this.Trt.TZ(t)},i.EZ=function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,this.vzt()];case 1:return[4,n.sent().EZ(t)];case 2:return n.sent(),[2]}})}).call(this)},i.kn=function(){var t;this.Vo(),null==(t=this.Trt)||t.mn(LR.lZ,this.Rs),this.Trt=void 0},Nt(n,[{key:"qT",get:function(){return this.GS}},{key:"B3",get:function(){return this.Vp}},{key:"Cd",get:function(){if(!this.Trt)throw new fd(cd.MEDIA_LOAD_ERROR,"Cannot get the configuration of an uninitialized MediaBuffer.");return this.Trt.Cd}},{key:"MY",get:function(){return this.zY},set:function(t){this.zY=t,this.Trt&&(this.Trt.MY=t)}},{key:"IP",get:function(){return this.Trt?this.Trt.IP:TA.iL()}},{key:"M3",get:function(){return this.Trt?this.Trt.M3:this.L3.ZZ}},{key:"UY",get:function(){return this.jY},set:function(t){this.jY=t,this.Trt&&(this.Trt.UY=t)}}]),n}(th),uY="LazyMediaSource",oY=function(){function t(t,n,i){this.TL=void 0,this.gzt=void 0,this.pzt=void 0,this.Szt=void 0,this.iq=void 0,this.bzt=void 0,this.WA=void 0,this.ket=void 0,this.mzt=void 0,this.wzt=void 0,this.yzt=void 0,this.Azt=void 0,this.TL=t,this.gzt=void 0,this.pzt=void 0,this.Szt=new Vc,this.iq=void 0,this.bzt=!1,this.WA=NaN,this.ket=!1,this.mzt=0,this.wzt=1/0,this.yzt=!1,this.Azt=!1,n&&(_G.uLt(uY,"Created lazy media buffer for audio."),this.gzt=new sY(ig.Dk,this)),i&&(_G.uLt(uY,"Created lazy media buffer for video."),this.pzt=new sY(ig.Bk,this))}var n=t.prototype;return n.C4=function(t){this.WA=t,this.iq&&this.iq.C4(t)},n.C3=function(){this.ket=!0,this.iq&&this.iq.C3()},n.A3=function(){this.ket=!1,this.iq&&this.iq.A3()},n.M4=function(t,n,i,r){this.mzt=t,this.wzt=n,this.yzt=Boolean(i),this.Azt=Boolean(r),this.iq&&this.iq.M4(t,n,i,r)},n.TZ=function(t){return this.iq?this.iq.TZ(t):wN(this,t)},n.EZ=function(t){return Vt(function(){var n,i,r;return zt(this,function(e){switch(e.label){case 0:if(!this.TZ(t))throw new y("LazyMediaSource - Unable to reconfigure MediaSource.");return this.iq?[3,2]:(this.TL.x9(),[4,this.TL.Un(t)]);case 1:return r=e.sent(),S(this.WA)||r.C4(this.WA),this.ket&&r.C3(),r.M4(this.mzt,this.wzt,this.yzt,this.Azt),_G.uLt(uY,"The MediaSource has been loaded."),this.bzt=!0,this.iq=r,null==(n=this.gzt)||n.lzt(this.iq.Q3),null==(i=this.pzt)||i.lzt(this.iq.K3),this.Szt.Xy(r),this.TL.I9(),[3,4];case 2:return[4,this.iq.EZ(t)];case 3:e.sent(),e.label=4;case 4:return[2]}})}).call(this)},n.xZ=function(t){this.iq.xZ(t)},n.zg=function(){return Vt(function(){var t,n;return zt(this,function(i){switch(i.label){case 0:return null==(t=this.gzt)||t.kn(),null==(n=this.pzt)||n.kn(),this.iq?[4,this.iq.zg()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})}).call(this)},Nt(t,[{key:"Cd",get:function(){return{Km:Sy.wV,L4:[],aq:[]}}},{key:"Q3",get:function(){return this.gzt}},{key:"K3",get:function(){return this.pzt}},{key:"IP",get:function(){return this.iq?this.iq.IP:TA.iL()}},{key:"ct",get:function(){return this.iq?this.iq.ct:this.WA}},{key:"WZ",get:function(){return!!this.iq&&this.iq.WZ}},{key:"Sx",get:function(){return this.iq?this.iq.Sx:TA.eL()}}]),t}();F(),Et(),Wt(),Bt(),Qt();var hY=function(){function t(t,n,i){this.Vp=void 0,this.Trt=void 0,this.zU=void 0,this.Vp=t,this.Trt=n,this.zU=i}var n=t.prototype;return n.Tzt=function(t,n){return this.Trt===t&&this.zU===n},n.z2=function(t,n){return Vt(function(){var i;return zt(this,function(r){switch(r.label){case 0:return this.Trt.Cd.qT===t.Yqt.frt?[3,3]:(i={qT:t.Yqt.frt},this.Trt.TZ(i)?[4,this.Trt.EZ(i)]:[3,2]);case 1:return r.sent(),dr(n),[3,3];case 2:throw new KC(this.Trt.Cd.qT,t.Yqt.frt);case 3:return[4,this.Trt.z2(t.ck,{i2:t.UMt.jI},n)];case 4:return r.sent(),[2]}})}).call(this)},n.H2=function(t,n){return Vt(function(){var i,r,e;return zt(this,function(s){switch(s.label){case 0:return dr(n),_G.hB("HlsMediaBuffer","Got media data, appending to "+this.Vp+" MediaBuffer: "+VG(t.hHt.nyt)),i=t.lHt+this.zU,r=t.fHt+this.zU,e={xet:t.EO+this.zU,ct:t.ct,bU:t.bU+this.zU,i2:t.UMt.jI},void 0===t.ck?[3,2]:[4,this.Trt.H2(t.ck,e,n)];case 1:s.sent(),s.label=2;case 2:return this.kzt(i,r),[2]}})}).call(this)},n.kzt=function(t,n){for(var i=this.Trt.IP,r=new TA([t,n]).UM(i),e=0;e<r.V;e++)this.Trt.F3(r.Tn(e),r.An(e));for(var s=0;s<i.V;s++)this.Trt.U3(i.Tn(s),i.An(s))},n.F3=function(t,n){this.Trt.F3(t+this.zU,n+this.zU)},n.U3=function(t,n){this.Trt.U3(t+this.zU,n+this.zU)},Nt(t,[{key:"Km",get:function(){return this.Vp}},{key:"IP",get:function(){return this.Trt.IP.Ny(-this.zU).Mn(TA.eL())}},{key:"M3",get:function(){return this.Trt.M3.Ny(-this.zU).Mn(TA.eL())}}]),t}();F(),Et(),Wt(),Bt(),Ut(),Qt();var cY=1e-6,aY=function(){function t(t,n){this.Ezt=void 0,this.qUt=void 0,this.OPt=TA.iL(),this.FPt=TA.iL(),this.Ezt=t,this.qUt=n}var n=t.prototype;return n.Tzt=function(t){return this.Ezt===t},n.z2=function(t,n){return Vt(function(){var i,r,e,s,u;return zt(this,function(o){switch(o.label){case 0:return i=t.ck.ck,this.Pzt(i),this.Ezt.Km!==Dg.TTML?[3,3]:this.qUt.gUt(t.kOt)?[3,2]:[4,gr(this.qUt.mUt(t.kOt),n)];case 1:o.sent(),o.label=2;case 2:for(r=this.xzt(i,t.kOt),e=Lt(r);!(s=e()).done;)u=s.value,this.Ezt.tV(u);o.label=3;case 3:return[2]}})}).call(this)},n.H2=function(t,n){return Vt(function(){var i,r;return zt(this,function(e){switch(e.label){case 0:return void 0===t.ck?[2]:(i=t.EO,r=i+t.ct,this.OPt=this.OPt.OM(TA.tL(i,r)).LM(cY),this.F3(t.lHt,t.fHt),this.U3(i,r),this.qUt.gUt(t.kOt)?[3,2]:[4,gr(this.qUt.mUt(t.kOt),n)]);case 1:e.sent(),e.label=2;case 2:return this.q2(t.ck.ck,t.kOt,t.hHt),[2]}})}).call(this)},n.q2=function(t,n,i){this.Pzt(t);for(var r,e=Lt(this.Ezt.Km===Dg.WEBVTT?this.Izt(t,i):this.xzt(t,n));!(r=e()).done;){var s=r.value;this.Ezt.tV(s)}},n.Izt=function(t,n){for(var i,r,e=D_(t),s=e.L,u=null!=(i=e.kU)?i:{EU:g_.wF,bh:g_.wF},o=Lt(s);!(r=o()).done;){var h=r.value,c=g_.eU(h.EO).lF(u.bh).lO(u.EU),a=this.qUt.kUt(c,n).iF(),f=a+(h.PO-h.EO);h.XO(a,f)}return s},n.xzt=function(t,n){var i=this.qUt.TUt(n).iF();return Cm(t,this.Ezt,{yU:0,AU:1/0,bU:i},Lv)},n.Pzt=function(t){this.Ezt.Km===Dg.DEFAULT&&(this.Ezt.Km=this.Rzt(t)?Dg.WEBVTT:Dg.TTML)},n.Rzt=function(t){return z_(lc(gc(_c(t),0,b.min(t.byteLength,16)),new Tc))},n.F3=function(t,n){this.FPt=this.FPt.OM(TA.tL(t,n)).LM(cY)},n.U3=function(t,n){this.FPt=this.FPt.UM(TA.tL(t,n))},Nt(t,[{key:"IP",get:function(){return this.OPt}},{key:"M3",get:function(){return this.FPt}}]),t}();function fY(t){if(t.Km===MG.bLt&&void 0!==t.NMt){var n=t.NMt.match(/^CC([1-4])$/);if(n)return Number(n[1]);var i=t.NMt.match(/^SERVICE([\d+])$/);return i?Number(i[1]):void 0}}F(),Et(),Ut(),F(),Et(),F(),Et();var vY=function(){function t(t){this.iq=void 0,this.iq=t}var n=t.prototype;return n.gLt=function(t){var n,i,r;return null==(r=null==(i=this.iq)||null==(n=i.K3)?void 0:n.TZ(t))||r},n.pLt=function(t){var n,i,r;return null==(r=null==(i=this.iq)||null==(n=i.Q3)?void 0:n.TZ(t))||r},t}();F(),Et(),at(),Ut();function dY(t,n,i,r){void 0===r&&(r=mT.maximumBackoff);var e=function(t,n){if(void 0===n)return t;var i=n.preferredVideoCodecs,r=n.preferredAudioCodecs;if(void 0!==i){for(var e,s,u=function(){var n=s.value,i=t.filter(function(t){return t.frt&&t.frt.bCt&&YC(t.frt.bCt,n)});if(0===i.length)return"continue";if(void 0===r)return{v:i};void 0===e&&(e=i);var u=lY(i,r);return void 0!==u?{v:u}:void 0},o=Lt(i);!(s=o()).done;){var h=u();if("object"===W(h))return h.v}if(void 0!==e)return e}if(void 0!==r){var c=lY(t,r);if(void 0!==c)return c}return t}(t,n),s=wY(e,r),u=s.length>0?s:e;switch(i.OY.type){case KI.BANDWIDTH:var o=i.WY,h=u.filter(function(t){return t.kW<=o});if(h.length>0)return $i(h,function(t){return t.kW});case KI.PERFORMANCE:return Zi(u,function(t){return t.kW});case KI.QUALITY:return $i(u,function(t){return t.kW})}}function lY(t,n){for(var i,r=function(){var n=i.value,r=t.filter(function(t){return t.frt&&t.frt.yCt&&YC(t.frt.yCt,n)});return 0===r.length?"continue":{v:r}},e=Lt(n);!(i=e()).done;){var s=r();if("object"===W(s))return s.v}}function wY(t,n){return t.filter(function(t){return gY(t,n)})}function gY(t,n){var i=n+2e3,r=0===t.UOt.length||t.UOt.some(function(t){return t.IMt.jFt<Vn.Mg()-i}),e=0===t.FOt.length||t.FOt.some(function(t){return t.IMt.jFt<Vn.Mg()-i});return r&&e}function _Y(t,n){return void 0===n&&(n=!1),function(i,r){void 0===r&&(r="*");var e,s,u,o=yY(i,"tag"),h=yY(null==r?"*":r,"range"),c=[],a=-1;for(;++a<h.length;)if(e=h[a].toLowerCase(),n||"*"!==e){for(s=-1,u=[];++s<o.length;)if(t(o[s].toLowerCase(),e)){if(!n)return o[s];c.push(o[s])}else u.push(o[s]);o=u}return n?c:void 0}}F(),Et(),F(),Et(),at();_Y(function(t,n){return"*"===n||t===n||Lo(t,n+"-")},!0),_Y(function(t,n){var i=t.split("-"),r=n.split("-"),e=0,s=0;if("*"!==r[s]&&i[e]!==r[s])return!1;for(e++,s++;s<r.length;)if("*"!==r[s]){if(!i[e])return!1;if(i[e]!==r[s]){if(1===i[e].length)return!1;e++}else e++,s++}else s++;return!0},!0);var mY=_Y(function(t,n){for(var i,r=n;;){if("*"===r||t===r)return!0;if((i=r.lastIndexOf("-"))<0)return!1;"-"===r.charAt(i-2)&&(i-=2),r=r.slice(0,i)}});function yY(t,n){var i=t&&"string"==typeof t?[t]:t;if(!i||"object"!==(void 0===i?"undefined":W(i))||!("length"in i))throw new y("Invalid "+n+" `"+i+"`, expected non-empty string");return i}function pY(t){var n=Ui(t,function(t){return t.RMt}),i=t.filter(function(t){return t.CMt}),r=Vn.Mm,e=i.map(function(t){return t.bs}).filter(Un),s=mY(e,r);return s?Ui(i,function(t){return t.bs===s}):n}function kY(t){var n;return null!=(n=pY(t))?n:t[0]}F(),Et(),Wt(),Dt(),Qt();var bY=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).HMt=void 0,r.Dzt=Zu(),r.HMt=n,r}Ct(n,t);var i=n.prototype;return i.Czt=function(t){var n=this.JU.tI(Ym.OU,t.l,t.l,t.bs,t.RMt,void 0,void 0,t.LMt.map(wG).filter(Un));this.Dzt.set(t.jI,n),this.tt(n)},i.zOt=function(t){var n=this.Dzt.get(t.jI);n&&(this.Dzt.delete(t.jI),this.JU.iV(n))},i.jU=function(t){var n=this.Bzt(t);n&&(kr(this.HMt.Nzt(n)),this.Dzt.forEach(function(n){n!==t&&(n.Xk=Hm.Nh)}))},i.QU=function(t){var n=this.Bzt(t);n&&this.HMt.Mzt&&this.HMt.Mzt===n&&kr(this.HMt.Nzt(void 0))},i.Lzt=function(t){return this.Dzt.get(t.jI)},i.Bzt=function(t){var n=this,i=this.HMt.VMt;if(i)return Ui(i.VOt,function(i){return t===n.Lzt(i)})},i.ZU=function(t,n,i){var r=this,e=vy(t,n,i);return this.Dzt.forEach(function(n,i){n===t&&r.Dzt.set(i,e)}),e},i.hr=function(){var n=this;return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return[4,t.prototype.hr.call(n)];case 1:return i.sent(),this.Dzt.clear(),[2]}})}).call(this)},n}(fy),AY="LLHLSPlayer",TY=[Ey.yM,Ey.AM,Ey.bM,Ey.wI],SY=[eh.Kw,eh.Pw,eh.Lw,eh.Nw],EY=[eh.Ww,eh.qw,eh.Gw,eh.Xw,eh.ly,eh.iy,eh.ey],IY=function(t){function n(n,i,r,e,s,u,o,h){var c,a;return(c=t.call(this)||this).Rz=void 0,c.Cz=void 0,c.mHt=void 0,c.SGt=void 0,c.TL=void 0,c.nV=void 0,c.oq=void 0,c.lq=void 0,c.kq=void 0,c.bXt=void 0,c.kGt=void 0,c.TGt=void 0,c.eut=void 0,c._dt=void 0,c.YL=void 0,c.$L=void 0,c.mGt=void 0,c.VEt=void 0,c.Gl=void 0,c.jzt=void 0,c.HMt=void 0,c.Zzt=void 0,c.lGt=void 0,c.fGt=void 0,c.iq=void 0,c.Dpt=void 0,c.rV=void 0,c.cGt=void 0,c.dGt=void 0,c.uGt=void 0,c.bGt=void 0,c.OGt=void 0,c.Yzt=void 0,c.m7=void 0,c.w7=void 0,c.Vzt=void 0,c.oXt=void 0,c.dXt=void 0,c.vXt=void 0,c.hXt=void 0,c.cXt=void 0,c.fXt=void 0,c.tq=void 0,c.JW=void 0,c.ZW=void 0,c.qzt=void 0,c.Gzt=void 0,c.Bkt=void 0,c.n7=void 0,c.LEt=void 0,c.OEt=void 0,c.FEt=void 0,c.Xzt=void 0,c.Qzt=void 0,c.SXt=void 0,c.AGt=void 0,c.BXt=void 0,c.jW=void 0,c.kkt=void 0,c.GEt=void 0,c.xXt=void 0,c.Eh=void 0,c.oNt=void 0,c.IXt=void 0,c.IL=void 0,c.RXt=void 0,c.FV=void 0,c.H6=void 0,c.Je=void 0,c.Rq=void 0,c.CXt=void 0,c.DXt=void 0,c.EXt=void 0,c.PXt=void 0,c.Jzt=void 0,c.mmt=void 0,c.aGt=void 0,c.qEt=void 0,c.zEt=void 0,c.pGt=void 0,c.Rz=r,c.Cz=e,c.mHt=s,c.SGt=u,c.VEt=new Qm,c.jzt=!1,c.HMt=void 0,c.Zzt=void 0,c.lGt=!1,c.fGt=void 0,c.iq=void 0,c.Dpt=void 0,c.rV=new hr,c.cGt=void 0,c.dGt=void 0,c.uGt=new hr,c.bGt=void 0,c.OGt=new hr,c.Yzt=void 0,c.m7=new hr,c.w7=void 0,c.Vzt=-1,c.oXt=void 0,c.dXt=void 0,c.vXt=void 0,c.hXt=void 0,c.cXt=void 0,c.fXt=void 0,c.tq=jT.lz,c.JW=void 0,c.ZW=void 0,c.qzt=void 0,c.Gzt=void 0,c.Bkt=!1,c.n7=!1,c.LEt=void 0,c.OEt=0,c.FEt=0,c.Xzt=void 0,c.Qzt=0,c.SXt=!1,c.AGt=[],c.BXt=void 0,c.kkt=function(t){c.JW=hg(t.errorObject),c.ZW=t.errorObject,c.Rs(t)},c.GEt=function(t){c.qq(cg(t.lt))},c.xXt=function(){var t;null==(t=c.HMt)||t.hUt();var n=c.ct;n!==c.LEt&&(c.LEt=n,c.So(new aT(c.LEt)))},c.Eh=function(){c.UP&&c.So(new vT(c.MP))},c.oNt=function(){c.So(new hT(c.MP))},c.IXt=function(){c.MTt(),c.So(new cT(c.MP))},c.IL=function(){void 0!==c.BXt&&(Vn.Lg(c.BXt),c.BXt=void 0),c.So(new Oy(c.MP))},c.RXt=function(){c.So(new qR(c.MP))},c.FV=function(){c.So(new Ry(c.MP,c.Ax))},c.H6=function(){var t,n=c.MP,i=c.CP;null==(t=c.HMt)||t.NXt(n),c.So(new pw(n,i)),!c.hx&&c.iGt()&&(c.zx(),c.Eh())},c.Je=function(){c.So(new dT(c.MP))},c.Rq=function(){c.So(new lT(c.MP))},c.CXt=function(){c.Ekt()},c.DXt=function(){c.So(new wT(c.MP,c.Mx))},c.EXt=function(){c.TL.kx?c.So(new Ny(c.MP)):(null!=c.BXt||(c.BXt=Vn.Og(function(){c.HMt&&c.SXt&&kr(c.HMt.MXt())},2500)),c.MTt(),c.So(new Ny(c.MP)))},c.PXt=function(){c.SXt=!0,c.So(new By(c.MP,c.Ax))},c.Jzt=function(t){vr(t)||ql(t)||Gl(t)||(c.VGt(),kr(c.WGt()),!function(t){return V(t,KC)}(t)?c.qq(new fd(cd.MEDIA_LOAD_ERROR,t.message,t)):kr(c.oGt({Jx:!0})))},c.mmt=function(t){if(!vr(t)){var n=V(t,fd)?t:new fd(cd.MEDIA_DECODE_ERROR,t.message,t);c.qq(n)}},c.aGt=function(t){c.AGt.push(t)},c.qEt=function(){c.STt()},c.zEt=function(){c.TTt()},c.pGt=function(){c.Ekt()},c.eut=new iW(o),c.TL=n,c.nV=i,c.oq=new kG(c.Rz.kY),c.kGt=new bG(c.TL),c.TGt=new NG(c.Rz),c._dt=Yu({},h.retryConfiguration,{maxRetries:null!=(a=h.retryConfiguration.maxRetries)?a:1/0}),c.YL=new Jb,c.$L=new Jb,c.mGt=new Zb,c.Gl=new Eb([c.mGt,c.VEt]),c.lq=new Tb(c.nV),c.TL.Eq=c.lq,c.kq=new Uy(c,c.TL),c.bXt=new Ly(c.kq,!0),c.kXt(),c}Ct(n,t);var i=n.prototype;return i.OP=function(t,n){var i,r,e,s,u=this;_G.hB(AY,"Seeking to "+t+" s.");var o={Hzt:null!=(r=null==n?void 0:n.Hzt)?r:t===1/0,Wzt:null==(e=null==n?void 0:n.Wzt)||e,gOt:null!=(s=null==n?void 0:n.gOt)&&s};this.qzt=t,this.Gzt=o,this.Xzt=!0,this.Bkt=!0,null==(i=this.jW)||i.Xx(),this.So(new dT(t)),this.m7.Zg(),this.jzt&&(Vn.Lg(this.Qzt),o.Wzt?this.Qzt=Vn.Og(function(){return u.Kzt(t,o)},50):this.Kzt(t,o))},i.Kzt=function(t,n){Vn.Lg(this.Qzt);var i=[this.Dpt,this.Yzt,this.w7].filter(Un);this.m7=new hr,this.m7.$g(this.rV.Yg),this.w7=_r(this.y7(i,t,n,this.m7.Yg),this.m7).catch(this.Jzt)},i.jx=function(){return!1},i.Hx=function(){return this.TL.Ma},i.Aa=function(){return this.TL.mq},i.tI=function(t){var n,i,r=this.TL.wq(t);return r.bU=null!=(i=null==(n=this.HMt)?void 0:n.bU)?i:0,this.VEt.tt(r),r},i.we=function(){_G.hB(AY,"Hiding the player."),this.TL.we()},i.zx=function(){var t;_G.hB(AY,"Pausing the player."),this.TL.zx(),(null==(t=this.jW)?void 0:t.sL)&&this.jW.Xx()},i.Gx=function(){return Vt(function(){var t,n;return zt(this,function(i){switch(i.label){case 0:return this.n7=!0,t=this.TL.Gx(),this.UP&&(n=this.rkt).V>0&&this.OP(n.Tn(0),{Wzt:!1}),this.jzt?[3,2]:[4,this.sGt()];case 1:i.sent(),i.label=2;case 2:return this.MTt(),[4,t];case 3:return i.sent(),this.Nkt(),[2]}})}).call(this)},i.MTt=function(){if(!this.nkt()){var t,n=null==(t=this.VMt)?void 0:t.IMt;if(null==n?void 0:n.POt){var i=!0,r=0,e=n.Tn;if(!this.Bkt&&e&&(i=!e.gOt,(r=e._Ot)<0)){var s=n.IFt;r+=s.An(s.V-1)}this.Kzt(r,{Hzt:i})}else this.Kzt(1/0,{Hzt:!0})}this.rGt()&&this.Kzt(1/0,{Hzt:!0})},i.nkt=function(){var t,n=this.rkt;if(0===n.V)return!0;var i=this.MP,r=null==(t=this.HMt)?void 0:t.hGt,e=null==r?void 0:r.VM(i);return(e&&e>0?r.An(e):i)>=n.Tn(0)},i.rGt=function(){var t=this.MP;return CY(t,this.eLt)||CY(t,this.nLt)},i.pEt=function(){this.JW=void 0,this.ZW=void 0},i.qq=function(t){this.JW||(kr(this.hr()),this.JW=hg(t),this.ZW=t,this.So(new _b(t)))},i.be=function(){_G.hB(AY,"Showing the player."),this.TL.be()},i.Qx=function(){throw new y("Not implemented")},i.Kx=function(){throw new y("Not implemented")},i.Yx=function(){},i.Jx=function(){this.jzt&&kr(this.oGt({Jx:!0}))},i.Ta=function(t,n,i){return Vt(function(){var r,e,s,u,o;return zt(this,function(h){switch(h.label){case 0:r={stack:[],error:void 0,hasError:!1},h.label=1;case 1:return h.trys.push([1,9,10,11]),_G.hB(AY,"Setting the player source to "+t.src+"."),this.pEt(),this.HMt?[4,this.hr()]:[3,3];case 2:h.sent(),dr(i),h.label=3;case 3:return KA(t)?[2]:(e=qt(r,hr.ep([i]),!1),this.lq.IW(t.contentProtection),void 0===this.Zzt||this.Zzt.Mc!==t?[3,4]:(this.HMt=this.Zzt,this.HMt.mn(EY,this.aGt),this.rV=this.uGt,this.rV.$g(e.Yg),this.uGt=new hr,this.cGt=void 0,null==(s=this.dGt)||s.Zg(),this.dGt=void 0,this.Zzt=void 0,this.lGt=!1,this.fGt!==this.HMt&&(this.fGt=void 0),this.HMt.vGt(this.TL),[3,8]));case 4:return void 0===this.Zzt?[3,7]:[4,this.xx()];case 5:return h.sent(),[4,this._Gt()];case 6:h.sent(),h.label=7;case 7:this.rV=hr.ep([e.Yg]),this.HMt=this.gGt(t,n,void 0,this.TL),h.label=8;case 8:return this.HMt.wn(EY,this.Rs),this.HMt.wn(iG.PMt,this.pGt),this.YL.BI=this.HMt.ht,this.$L.BI=this.HMt.rt,this.mGt.BI=this.HMt.nt,(u=this.HMt.wGt)&&(this.jW=new rW(this,this.TL,u),this.jW.Rt=!0,this.Cz.Ea(this.jW)),Ay(this.Gl),this.yGt(),this.Ekt(),this.AGt.forEach(this.Rs),this.AGt=[],this.sGt(),e.zg(),[3,11];case 9:return o=h.sent(),r.error=o,r.hasError=!0,[3,11];case 10:return Gt(r),[7];case 11:return[2]}})}).call(this)},i.Px=function(t,n,i,r){return Vt(function(){return zt(this,function(e){switch(e.label){case 0:return dr(r),void 0===this.Zzt?[3,2]:[4,this.xx()];case 1:e.sent(),e.label=2;case 2:return dr(r),this.Zzt=this.gGt(t,n,i,void 0),this.Zzt.wn(EY,this.aGt),[2]}})}).call(this)},i.xx=function(){return Vt(function(){var t;return zt(this,function(n){switch(n.label){case 0:return void 0===this.Zzt?[2]:(this.uGt.Zg(),null==(t=this.dGt)||t.Zg(),this.dGt=void 0,void 0===this.cGt?[3,2]:[4,this.cGt.catch(di)]);case 1:n.sent(),this.cGt=void 0,n.label=2;case 2:return[4,this.Zzt.zg()];case 3:return n.sent(),this.uGt=new hr,this.fGt===this.Zzt&&(this.fGt=void 0),this.Zzt=void 0,this.lGt=!1,this.AGt=[],[2]}})}).call(this)},i.gGt=function(t,n,i,r){return null!=this.bGt||(this.bGt=this.SGt.Ret()),new RY(this,t,n,this.nV,this.Rz,this.TGt,this.eut,this.kGt,this.mHt,this.bGt,this._dt,i,r)},i.sGt=function(){return this.Dpt=this.EGt(this.Dpt,this.rV.Yg).catch(this.mmt),this.Dpt},i.EGt=function(t,n){return Vt(function(){var i;return zt(this,function(r){switch(r.label){case 0:return t?[4,t]:[3,2];case 1:r.sent(),dr(n),r.label=2;case 2:return this.HMt?(i=this.tq)===jT.OL||this.n7?[4,this.PGt(n)]:[3,5]:[2];case 3:return r.sent(),[4,this.xGt(n)];case 4:return r.sent(),[3,7];case 5:return i!==jT.VU?[3,7]:[4,this.PGt(n)];case 6:r.sent(),r.label=7;case 7:return[2]}})}).call(this)},i.PGt=function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return dr(t),void 0===this.HMt||this.HMt.nGt?[2]:[4,this.HMt.PGt(t)];case 1:return n.sent(),this.kq.VV(),this.yGt(),[2]}})}).call(this)},i.yGt=function(){var t;if(!this.jW){var n=null==(t=this.HMt)?void 0:t.wGt;n&&(this.jW=new rW(this,this.TL,n),this.Cz.Ea(this.jW))}},i.xGt=function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return dr(t),this.jzt?[2]:(this.jzt=!0,[4,this.HMt.oGt(this.eLt,this.nLt,this.Mzt,{RGt:!0})]);case 1:return n.sent(),[2]}})}).call(this)},i.CGt=function(){var t=this.Zzt;return void 0===t?ut.resolve():(0===t.bU&&(t.bU=this.HMt.bU+this.HMt.ct),null!=this.dGt||(this.dGt=new Vc),void 0===this.cGt&&(this.cGt=t.PGt(this.uGt.Yg),this.dGt.$g(this.cGt)),this.dGt.Qy)},i.DGt=function(){var t;return(null!=(t=this.dGt)?t:this.dGt=new Vc).Qy},i.zzt=function(t){return this.$zt(t,this.TL.MP)},i.$zt=function(t,n){var i=n;return t===this.HMt&&void 0!==this.Zzt&&this.Zzt.bU>0&&(i=b.min(i,this.Zzt.bU)),void 0!==t&&(i=b.max(0,i-t.bU)),i},i.iGt=function(){return void 0!==this.Zzt&&0!==this.Zzt.bU&&(!!this.lGt&&this.TL.MP+.25>=this.Zzt.bU)},i.MGt=function(){var t,n;return{Ti:this.TL.Ti,Mi:this.TL.Mi,_Lt:OX(this.TL),Gct:null==(n=this.bt)||null==(t=n.abr)?void 0:t.restrictToPlayerSize}},i.LGt=function(){return new vY(this.iq)},i.oGt=function(t){void 0===t&&(t={});var n={jMt:t.jMt||!1,KMt:t.KMt||!1,QMt:t.QMt||!1,Jx:t.Jx||!1,RGt:t.RGt||!1},i=[this.Yzt,this.w7].filter(Un);return this.m7.Zg(),this.m7=new hr,this.m7.$g(this.rV.Yg),this.OGt.Zg(),this.OGt=new hr,this.OGt.$g(this.rV.Yg),this.Yzt=_r(this.FGt(i,n,this.OGt.Yg),this.OGt).catch(this.Jzt),this.Yzt},i.FGt=function(t,n,i){return Vt(function(){var r,e,s,u,o,h,c,a,f,v;return zt(this,function(d){switch(d.label){case 0:return this.jzt?[3,2]:[4,this.HMt.UGt(i)];case 1:return d.sent(),[2];case 2:return[4,ut.all(t.map(function(t){return t.catch(di)}))];case 3:return d.sent(),this.VGt(),[4,this.HGt(i)];case 4:return d.sent(),[4,this.WGt()];case 5:return d.sent(),[4,this.qGt(n.KMt,n.QMt)];case 6:return d.sent(),dr(i),[4,this.HMt.zGt()];case 7:return u=d.sent(),dr(i),[4,this.GGt(u,n.Jx,i)];case 8:return o=d.sent(),h=null==(r=this.iq)?void 0:r.Q3,c=null==(e=this.iq)?void 0:e.K3,this.HMt.XGt(void 0!==h,void 0!==c,n.jMt||o,n.KMt,n.QMt),this.HMt.jGt(n.jMt),void 0!==this.Zzt&&(this.Zzt.XGt(void 0!==h,void 0!==c,n.jMt||o,n.KMt,n.QMt),this.Zzt.jGt(n.jMt)),this.HMt.izt(h,c),void 0===this.Zzt?[3,10]:[4,this.Zzt.zGt()];case 9:(a=d.sent())&&this.iq&&this.iq.TZ(a)?(this.Zzt.izt(h,c),this.lGt=!0):(this.Zzt.izt(void 0,void 0),this.lGt=!1),d.label=10;case 10:this.QGt(),dr(i),d.label=11;case 11:return d.trys.push([11,13,,14]),[4,ut.all([this.HMt.KGt(i),null==(f=this.Zzt)?void 0:f.KGt(i)].filter(Un))];case 12:return d.sent(),[3,14];case 13:return lr(d.sent()),[3,14];case 14:if(dr(i),this.B4(),this.HMt.hUt(),null==(s=this.Zzt)||s.hUt(),void 0!==this.qzt)return this.Kzt(this.qzt,this.Gzt),[2];if(!this.Bkt){if(v=this.HMt.YGt)return this.Kzt(v.XF,{Hzt:v.Hzt}),[2];if(this.HMt.bU>0)return this.Kzt(0,{Hzt:!1}),[2]}return this.BGt.length>0&&this.JGt(),[2]}})}).call(this)},i.GGt=function(t,n,i){return Vt(function(){var r,e,s,u,o;return zt(this,function(h){switch(h.label){case 0:return n||!this.iq?[3,3]:t?this.iq.TZ(t)?[4,this.HGt(i)]:[3,3]:[2,!1];case 1:return h.sent(),[4,this.iq.EZ(t)];case 2:return h.sent(),[2,!1];case 3:for(r=Lt(this.HMt.NGt);!(e=r()).done;)e.value.Jqt.forEach(function(t){return t.Zg()});this.TL.x9(),h.label=4;case 4:return h.trys.push([4,,10,11]),this.iq?[4,this.TL.hr()]:[3,6];case 5:h.sent(),h.label=6;case 6:return t?[4,this.TL.Un(t)]:[3,8];case 7:return s=h.sent(),[3,9];case 8:u=void 0!==this.eLt,o=void 0!==this.nLt,s=new oY(this.TL,u,o),h.label=9;case 9:return this.ZGt(s),[3,11];case 10:return this.TL.I9(),[7];case 11:return[2,!0]}})}).call(this)},i.ZGt=function(t){this.iq=t,this.B4(),this.STt(),this.TTt()},i.B4=function(){var t,n,i=this.iq,r=void 0!==this.Zzt&&this.lGt?this.Zzt:this.HMt;if(i&&void 0!==r&&(r!==this.fGt||S(i.ct))){var e;r!==this.fGt&&i.A3();var s=(null!=(e=r.$Gt)?e:NaN)+r.bU;s>0&&i.C4(s),this.fGt=r}null==(t=this.HMt)||t.hUt(),null==(n=this.Zzt)||n.hUt()},i.qGt=function(t,n){return Vt(function(){var i;return zt(this,function(r){switch(r.label){case 0:return this.iq?(i=[],t&&this.iq.Q3&&i.push(this.iq.Q3._S(0,1/0)),n&&this.iq.K3&&i.push(this.iq.K3._S(0,1/0)),[4,ut.all(i)]):[2];case 1:return r.sent(),[2]}})}).call(this)},i.STt=function(){var t=this.iq;t&&(t.K3&&(t.K3.MY=this.Rz.GY),t.Q3&&(t.Q3.MY=this.Rz.GY))},i.TTt=function(){var t=this.iq;t&&(t.K3&&(t.K3.UY=this.Rz.UY),t.Q3&&(t.Q3.UY=this.Rz.UY))},i.QGt=function(){var t,n,i,r,e=void 0!==(null==(t=this.iq)?void 0:t.Q3),s=void 0!==(null==(n=this.iq)?void 0:n.K3);null==(i=this.HMt)||i.QGt(e,s),null==(r=this.Zzt)||r.QGt(e,s)},i.y7=function(t,n,i,r){return Vt(function(){var e,s,u;return zt(this,function(o){switch(o.label){case 0:return[4,ut.all(t.map(function(t){return t.catch(di)}))];case 1:return o.sent(),dr(r),[4,this.WGt()];case 2:return o.sent(),dr(r),this.qzt=void 0,this.Xzt=void 0,this.Bkt=!0,e=i.gOt?this.IFt:this.rkt,s=e.DM(n+this.HMt.bU),u=this.TL.ww(eh.Zw,r),this.TL.My(s,i.Hzt),this.jzt&&this.HMt.NGt.length>0&&(this.Br.mM.FUt(),this.tXt(this.MP),this.JGt()),[4,u];case 3:return o.sent(),this.Nkt(),[2]}})}).call(this)},i.Nkt=function(){var t=this.jW;if(void 0!==t){var n=this.BL;if(!this.hx&&!this.kx&&void 0!==n)n<this.Cz.Cd.maximumOffset?t.Tn():t.Xx()}},i.tXt=function(t){for(var n,i,r,e=!1,s=Lt(null!=(i=null==(n=this.HMt)?void 0:n.NGt)?i:[]);!(r=s()).done;){var u=r.value;u.AWt(t)||(u.czt(),u.ezt.mqt(),e=!0),u.azt(t)||(u.dzt(),u.ezt.wqt(),e=!0)}if(void 0!==this.Zzt&&e)for(var o,h=Lt(this.Zzt.NGt);!(o=h()).done;){o.value.Zg()}},i.VGt=function(){for(var t,n=Lt(this.BGt);!(t=n()).done;){t.value.Zg()}},i.WGt=function(){return ut.all([this.KDt(),this.iXt(),this.eXt()])},i.JGt=function(){this.QDt(),this.sXt(),this.nXt()},i.rXt=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.jzt&&this.BGt.length>0?(this.BGt.forEach(function(t){return t.czt()}),[4,this.KDt()]):[3,2];case 1:t.sent(),this.QDt(),this.BGt.forEach(function(t){return t.$qt.xWt()}),t.label=2;case 2:return[2]}})}).call(this)},i.QDt=function(){var t=this;if(!this.hXt){var n=function(){t.hXt=void 0};this.oXt=new hr,this.oXt.$g(this.rV.Yg),this.hXt=_r(this.aXt(this.oXt.Yg),this.oXt).catch(this.Jzt).then(n,n)}},i.KDt=function(){return Vt(function(){var t,n;return zt(this,function(i){switch(i.label){case 0:return null==(t=this.oXt)||t.Zg(),n=this.hXt,this.hXt=void 0,n?[4,n]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})}).call(this)},i.aXt=function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return dr(t),[4,this.uXt(this.HMt,t)];case 1:return n.sent(),dr(t),void 0===this.Zzt?[3,4]:[4,gr(this.CGt(),t)];case 2:return n.sent(),dr(t),[4,this.uXt(this.Zzt,t)];case 3:n.sent(),n.label=4;case 4:return[2]}})}).call(this)},i.uXt=function(t,n){return Vt(function(){var i,r,e,s,u,o,h,c,a,f,v,d,l,w,g,_,m,y,p;return zt(this,function(k){switch(k.label){case 0:dr(n),i=t.NGt,k.label=1;case 1:0,r={stack:[],error:void 0,hasError:!1},k.label=2;case 2:for(k.trys.push([2,4,5,6]),e=[],s=b.max(0,this.TL.MP-t.bU),u=Lt(i);!(o=u()).done;)if(h=o.value,c=h.$qt,a=h.hdt(s),c.$It)e.push(c.ZVt());else if(h.uzt(s,a,this.Rz.GY)||c._Wt){if(f=c.UMt.IMt,void 0===(v=c.bWt(a))){if(f.POt)continue;(d=f.ect).length&&d[0].EO>a&&(this.MP=1/0),c.CWt(),c.kWt(a)}else l=v[0],w=v[1],c.pat(l,w,h.MVt),h.tzt.Oqt(l,w);e.push(c.ZVt())}if(g=qt(r,hr.ep([n]),!1),0===e.length){for(i.every(function(t){return t.$qt.ERt})||e.push(this.TL.ww(eh._y,g.Yg)),_=Lt(i);!(m=_()).done;)void 0!==(y=m.value).$qt.gWt()&&e.push(y.tzt.ww([QQ.Sqt,QQ.Pqt],g.Yg));if(0===e.length)return[3,7]}return[4,gr(ut.race(e),g.Yg)];case 3:return k.sent(),[3,6];case 4:return p=k.sent(),r.error=p,r.hasError=!0,[3,6];case 5:return Gt(r),[7];case 6:return[3,1];case 7:return[2]}})}).call(this)},i.sXt=function(){var t=this;if(!this.cXt){var n=function(){t.cXt=void 0};this.dXt=new hr,this.dXt.$g(this.rV.Yg),this.cXt=_r(this.lXt(this.dXt.Yg),this.dXt).catch(this.Jzt).then(n,n)}},i.iXt=function(){return Vt(function(){var t,n;return zt(this,function(i){switch(i.label){case 0:return null==(t=this.dXt)||t.Zg(),n=this.cXt,this.cXt=void 0,n?[4,n]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})}).call(this)},i.lXt=function(t){return Vt(function(){var n,i,r,e,s,u,o,h;return zt(this,function(c){switch(c.label){case 0:dr(t),n=this.BGt,c.label=1;case 1:for(i=[],r=Lt(n);!(e=r()).done;)s=e.value,u=s.$qt,(o=s.tzt).$It?i.push(o.ZVt()):(h=u.gWt())?"$at"===h.Km?(o.Hqt(h),i.push(o.ZVt())):"bOt"===h.Km?(o.Fqt(h),i.push(o.ZVt())):"zWt"===h.Km&&(o.qqt(h),i.push(o.ZVt())):i.push(u.IWt());return 0!==i.length?[3,2]:[3,5];case 2:return[4,gr(ut.race(i),t)];case 3:c.sent(),c.label=4;case 4:return[3,1];case 5:return[2]}})}).call(this)},i.nXt=function(){var t=this;if(!this.fXt){this.vXt=new hr,this.vXt.$g(this.rV.Yg);var n=function(){t.fXt=void 0};this.fXt=_r(this._Xt(this.vXt.Yg),this.vXt).catch(this.Jzt).then(n,n)}},i.eXt=function(){return Vt(function(){var t,n;return zt(this,function(i){switch(i.label){case 0:return null==(t=this.vXt)||t.Zg(),n=this.fXt,this.fXt=void 0,n?[4,n]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})}).call(this)},i._Xt=function(t){return Vt(function(){var n;return zt(this,function(i){switch(i.label){case 0:return dr(t),[4,this.gXt(this.HMt,t)];case 1:return n=i.sent(),void 0!==this.Zzt&&this.lGt&&n?(dr(t),[4,gr(this.DGt(),t)]):[3,4];case 2:return i.sent(),dr(t),this.B4(),[4,this.gXt(this.Zzt,t)];case 3:n=i.sent(),i.label=4;case 4:return n?this.iq.C3():this.iq.A3(),[2]}})}).call(this)},i.gXt=function(t,n){return Vt(function(){var i,r,e;return zt(this,function(s){switch(s.label){case 0:r=function(){var r,e,s,u,o,h,c,a,f,v,d,l,w;return zt(this,function(g){switch(g.label){case 0:for((r=t.NGt).forEach(function(t){return t._at()}),e=b.max(0,i.TL.MP-t.bU),s=[],u=[],o=Lt(r);!(h=o()).done;)for(c=h.value,a=c.tzt,f=Lt(c.Jqt);!(v=f()).done;)d=v.value,l=_Q(d)?s:u,d.$It?l.push(d.ZVt()):d.$Vt(e)||((w=a.Qqt(d.Km))?"$at"===w.Km&&w.kOt===i.Vzt?(d.cdt(w),l.push(d.ZVt())):"FRt"===w.Km&&w.kOt===i.Vzt?(d.z2(w),l.push(d.ZVt())):"zWt"===w.Km&&(d.dHt(w),l.push(d.ZVt())):u.push(a.Kqt(d.Km)));return 0!==s.length?[3,2]:[4,i.pXt(t,r,e,n)];case 1:if(g.sent())return[2,"continue"];g.label=2;case 2:return 0===s.length&&0===u.length?[2,{v:r.every(function(t){return t.Jqt.length>0&&t.Jqt.every(function(t){return t.$Vt(e)})})}]:[4,gr(ut.race([].concat(s,u)),n)];case 3:return g.sent(),[2]}})},s.label=1;case 1:return i=this,[5,Xt(r())];case 2:return"object"===W(e=s.sent())?[2,e.v]:[3,1];case 3:return[2]}})}).call(this)},i.pXt=function(t,n,i,r){return Vt(function(){var e,s,u,o,h,c,a,f,v,d,l,w,g,_,m,y,p,k,b,A,T,S;return zt(this,function(E){switch(E.label){case 0:for(e=[],s=[],u=Lt(n);!(o=u()).done;)for(h=o.value,c=h.hdt(i),a=Lt(h.Jqt);!(f=a()).done;)if(_Q(v=f.value))if(void 0!==(d=h.tzt.Qqt(v.Km))){if(d.kOt===this.Vzt)return[2,!1];e.push(d)}else{if(h.$It||h.uzt(i,c,this.Rz.GY)||!v.tHt(i,c))return[2,!1];void 0!==(l=v.zVt.MVt)&&s.push(l)}return 0===e.length?[2,!1]:(w=$i(e,function(t){return t.kOt}).kOt,e.every(function(t){return"FRt"===t.Km&&t.kOt===w})?(g=Zi(e,function(t){return t.EO}).EO+t.bU,_=[].concat(e,s),[4,this.mXt(_)]):[3,6]);case 1:return m=E.sent(),this.wXt(m)?(_G.uLt(yG,"Seamless switch from",this.iq.Cd,"to",m),[4,this.iq.EZ(m)]):[3,3];case 2:return E.sent(),_G.uLt(yG,"Seamless switch complete."),[3,5];case 3:return[4,this.yXt(t,g,m,r)];case 4:E.sent(),E.label=5;case 5:return this.Vzt=e[0].kOt,[3,7];case 6:for(y=Lt(n);!(p=y()).done;)for(k=p.value,b=Lt(k.Jqt);!(A=b()).done;)for(T=A.value,S=k.tzt.Qqt(T.Km);void 0!==S&&("FRt"!==S.Km||S.kOt!==w);)_G.uLt(yG,"Removing append for other discontinuity, expecting "+w,S),k.tzt.sHt(S),S=k.tzt.Qqt(T.Km);E.label=7;case 7:return[2,!0]}})}).call(this)},i.wXt=function(t){var n,i;switch(null!=(i=null==(n=this.bt)?void 0:n.seamlessSwitchStrategy)?i:OA.OL){case OA.FL:return!0;case OA.UL:return!1;default:return this.iq.TZ(t)}},i.mXt=function(t){return Vt(function(){var n,i,r,e,s;return zt(this,function(u){switch(u.label){case 0:return n=t.map(function(t){return t.Yqt.frt}),i=n.map(function(t){return{qT:t}}),r=[].concat(Ji(t,function(t){return t.Yqt.MW}),this.Br.UUt),[4,qG((e=this.bt).contentProtection,n,r,this.nV,e.useCredentials)];case 1:return 0===(s=u.sent()).length&&this.iq&&this.iq.Cd.aq.length>0&&(s=this.iq.Cd.aq),[2,{Km:Sy.wV,L4:i,aq:s,X4:e.useManagedMediaSource}]}})}).call(this)},i.yXt=function(t,n,i,r){return Vt(function(){var e,s,u,o,h,c,a,f,v,d;return zt(this,function(l){switch(l.label){case 0:if(o=this.iq,h=o.ct,!(c=this.TL.IP.V>0&&this.TL.MP<n))return[3,6];l.label=1;case 1:l.trys.push([1,5,,6]),_G.uLt(yG,"Marking end of stream and waiting for ended to switch discontinuity."),o.C3(),l.label=2;case 2:return!this.TL.UP&&this.TL.MP<n?[4,this.TL.ww([eh._y,eh.Bw],r)]:[3,4];case 3:return l.sent(),[3,2];case 4:return[3,6];case 5:throw a=l.sent(),o.A3(),o.C4(h),a;case 6:_G.uLt(yG,"Perform hard switch from",null==(e=this.iq)?void 0:e.Cd,"to",i),l.label=7;case 7:return l.trys.push([7,,10,11]),this.TL.x9(),this.TL.MP<n&&this.TL.My(n,!0,!0),this.QGt(),[4,this.TL.hr()];case 8:return l.sent(),[4,this.TL.Un(i)];case 9:return d=l.sent(),this.ZGt(d),null==(f=d.K3)||f.F3(n-1,n),null==(v=d.Q3)||v.F3(n-1,n),this.QGt(),[3,11];case 10:return c&&kr(this.TL.Gx()),this.TL.I9(),[7];case 11:return t.izt(null==(s=this.iq)?void 0:s.Q3,null==(u=this.iq)?void 0:u.K3),_G.uLt(yG,"Hard switch complete."),[2]}})}).call(this)},i.HGt=function(t){return gr(br(Ji(this.BGt,function(t){return t.Jqt.map(function(t){return t.ZVt()})})),t)},i.Ekt=function(){var t=this.Bx,n=this.Rx;this.OEt===t&&this.FEt===n||(this.OEt=t,this.FEt=n,this.So(new Ty))},i.kn=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return _G.hB(AY,"Unloading the player."),this.AXt(),this.pEt(),void 0===this.Zzt?[3,2]:[4,this.xx()];case 1:t.sent(),t.label=2;case 2:return[4,this.hr()];case 3:return t.sent(),this.TL.Eq=void 0,this.YL.kn(),this.$L.kn(),this.Gl.kn(),this.VEt.kn(),this.bXt.kn(),this.kq.zg(),this.mHt.zg(),this.bGt&&(this.bGt.zg(),this.bGt=void 0),[2]}})}).call(this)},i.hr=function(){return Vt(function(){var t;return zt(this,function(n){switch(n.label){case 0:return _G.hB(AY,"Resetting the player."),this.Vzt=-1,this.rV.Zg(),this.m7.Zg(),this.m7=new hr,this.m7.$g(this.rV.Yg),this.OGt.Zg(),this.OGt=new hr,this.OGt.$g(this.rV.Yg),t=[this.Dpt,this.w7,this.Yzt].filter(Un),[4,ut.all(t.map(function(t){return t.catch(di)}))];case 1:return n.sent(),this.Dpt=void 0,this.w7=void 0,this.Yzt=void 0,this.VGt(),[4,this.WGt()];case 2:return n.sent(),this.HMt?(this.YL.BI=void 0,this.$L.BI=void 0,this.mGt.BI=void 0,[4,this.HMt.zg()]):[3,4];case 3:n.sent(),this.fGt===this.HMt&&(this.fGt=void 0),this.HMt=void 0,n.label=4;case 4:return this.jW=void 0,this.Cz.hr(),this.TL.Aq(),void 0===this.Zzt||void 0===this.iq||void 0!==this.TL.lt?[3,6]:[4,this.TL.C8()];case 5:return n.sent(),[3,8];case 6:return[4,this._Gt()];case 7:n.sent(),n.label=8;case 8:return this.jzt=!1,this.qzt=void 0,this.LEt=void 0,this.OEt=0,this.FEt=0,this.Xzt=void 0,this.Bkt=!1,this.n7=!1,Vn.Lg(this.Qzt),this.SXt=!1,this.bXt.hr(),this.TXt(),this.So(new oT(this.MP,this.Ax)),[2]}})}).call(this)},i._Gt=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.iq=void 0,[4,this.TL.hr()];case 1:return t.sent(),[2]}})}).call(this)},i.TXt=function(){for(var t,n=Lt(this.Gl.II);!(t=n()).done;){t.value.kn()}this.mGt.hr(),this.VEt.hr(),this.Gl.hr()},i.kXt=function(){this.bXt.wn(TY,this.Rs),this.bXt.wn(Ey.TM,this.IL),this.bXt.wn(Ey.SM,this.EXt),this.bXt.wn(Ey.wM,this.PXt),this.Rz.wn("NY",this.qEt),this.Rz.wn("FY",this.zEt),this.TL.wn(SY,this.Rs),this.TL.wn(zm.ma,this.GEt),this.TL.wn(eh.Ew,this.kkt),this.TL.wn(eh.Rw,this.xXt),this.TL.wn(eh.Bw,this.Eh),this.TL.wn(eh.jw,this.oNt),this.TL.wn(eh.uo,this.IXt),this.TL.wn(eh.Qw,this.RXt),this.TL.wn(Ey.wI,this.FV),this.TL.wn(eh._y,this.H6),this.TL.wn(eh.$w,this.Je),this.TL.wn(eh.Zw,this.Rq),this.TL.wn(eh.Jw,this.CXt),this.TL.wn(eh.gy,this.DXt)},i.AXt=function(){this.bXt.mn(TY,this.Rs),this.bXt.mn(Ey.TM,this.IL),this.bXt.mn(Ey.SM,this.EXt),this.bXt.mn(Ey.wM,this.PXt),this.Rz.mn("NY",this.qEt),this.Rz.mn("FY",this.zEt),this.TL.mn(SY,this.Rs),this.TL.mn(zm.ma,this.GEt),this.TL.mn(eh.Ew,this.kkt),this.TL.mn(eh.Rw,this.xXt),this.TL.mn(eh.Bw,this.Eh),this.TL.mn(eh.jw,this.oNt),this.TL.mn(eh.uo,this.IXt),this.TL.mn(eh.Qw,this.RXt),this.TL.mn(Ey.wI,this.FV),this.TL.mn(eh._y,this.H6),this.TL.mn(eh.$w,this.Je),this.TL.mn(eh.Zw,this.Rq),this.TL.mn(eh.Jw,this.CXt),this.TL.mn(eh.gy,this.DXt)},Nt(n,[{key:"BL",get:function(){var t;if(this.ct===1/0){var n=this.CP;if(n)return(Date.now()-n.getTime())/1e3;var i=null==(t=this.HMt)?void 0:t.Ozt;return i?i-this.MP:void 0}}},{key:"Fzt",get:function(){for(var t,n=Lt(this.Uzt);!(t=n()).done;){var i=t.value;if(!i.IMt.POt)return!1;var r=zi(i.IMt.ect,-1);if(r&&r.kOt!==this.Vzt)return!1}return!0}},{key:"VMt",get:function(){var t;return null==(t=this.HMt)?void 0:t.VMt}},{key:"eLt",get:function(){var t;return null==(t=this.HMt)?void 0:t.eLt}},{key:"nLt",get:function(){var t;return null==(t=this.HMt)?void 0:t.nLt}},{key:"Mzt",get:function(){var t;return null==(t=this.HMt)?void 0:t.Mzt}},{key:"Uzt",get:function(){return this.HMt?this.HMt.Uzt:[]}},{key:"ht",get:function(){return this.YL}},{key:"IP",get:function(){var t=this.TL.IP;return void 0!==this.HMt&&(t=t.Ny(-this.HMt.bU).Mn(TA.eL())),t._s()}},{key:"CP",get:function(){if(this.VMt){var t=this.MP;return this.VMt.WOt(t)}},set:function(t){if(t&&this.VMt){var n=this.VMt.qOt(t);void 0!==n&&this.OP(n,{Hzt:!1,Wzt:!0})}}},{key:"bt",get:function(){var t;return null==(t=this.HMt)?void 0:t.Mc}},{key:"MP",get:function(){var t;return null!=(t=this.qzt)?t:this.zzt(this.HMt)},set:function(t){this.OP(t)}},{key:"ct",get:function(){var t,n;if(void 0===this.Zzt&&this.Fzt){var i=this.TL.ct;if(!S(i))return this.$zt(this.HMt,i)}return null!=(n=null==(t=this.HMt)?void 0:t.ct)?n:NaN}},{key:"UP",get:function(){if(!this.Fzt)return!1;if(this.kx&&void 0!==this.HMt&&this.jzt){var t=this.MP,n=this.HMt.tGt;return isFinite(n)&&t>=n}return this.TL.UP||this.iGt()}},{key:"lt",get:function(){return this.JW}},{key:"WP",get:function(){return this.ZW}},{key:"zP",get:function(){}},{key:"jP",get:function(){}},{key:"KP",get:function(){return!1}},{key:"JP",get:function(){var t,n;return Yu({},{iO:0,eO:0,sO:0,nO:0,rO:0,hO:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.TL.ZP(),{rO:null!=(n=null==(t=this.HMt)?void 0:t.rO)?n:0,nO:this.Rz.kY.kW})}},{key:"Br",get:function(){var t;return null==(t=this.HMt)?void 0:t.Br}},{key:"eGt",get:function(){var t;return null==(t=this.HMt)?void 0:t.eGt}},{key:"$P",get:function(){return this.TL.$P},set:function(t){this.TL.$P=t}},{key:"sx",get:function(){var t,n;return null==(n=null==(t=this.HMt)?void 0:t.sx)||n}},{key:"hx",get:function(){return this.TL.hx}},{key:"ux",get:function(){return this.TL.ux},set:function(t){_G.hB(AY,"Setting playback rate to "+t+"."),this.TL.ux=t}},{key:"_x",get:function(){return this.lkt._s()}},{key:"lkt",get:function(){var t=this.TL._x;return void 0!==this.HMt&&(t=t.Ny(-this.HMt.bU).Mn(TA.eL())),t}},{key:"mx",get:function(){return this.tq},set:function(t){this.tq!==t&&(this.tq=t,this.sGt())}},{key:"Ax",get:function(){var t,n=this.TL.Ax;return(null==(t=this.HMt)?void 0:t.nGt)&&(n=b.max(Cy.Qn,n)),n}},{key:"IFt",get:function(){var t,n;return null!=(n=null==(t=this.HMt)?void 0:t.IFt)?n:TA.iL()}},{key:"Sx",get:function(){return this.rkt._s()}},{key:"rkt",get:function(){var t,n,i=null!=(n=null==(t=this.HMt)?void 0:t.Sx)?n:TA.iL();if(0===i.V)return i;if(this.iq&&this.Fzt&&this.iq.ct!==1/0&&(i=new TA([i.Tn(0),this.$zt(this.HMt,this.iq.ct)])),this.HMt&&!this.HMt.POt){var r=this.lkt,e=i.An(i.V-1);if(r.V>0&&r.An(r.V-1)>e){var s=r.An(r.V-1),u=this.HMt.IFt;u&&u.V>0&&(s=b.min(s,u.An(u.V-1))),i=i.OM(new TA([e,s]))}}return i}},{key:"kx",get:function(){var t;return null!=(t=this.Xzt)?t:this.TL.kx}},{key:"nq",get:function(){}},{key:"nt",get:function(){return this.Gl}},{key:"rt",get:function(){return this.$L}},{key:"Rx",get:function(){var t,n;return this.TL.Rx||(null==(n=this.VMt)||null==(t=n.uCt)?void 0:t.Mi)||0}},{key:"Bx",get:function(){var t,n;return this.TL.Bx||(null==(n=this.VMt)||null==(t=n.uCt)?void 0:t.Ti)||0}},{key:"Mx",get:function(){return this.TL.Mx},set:function(t){_G.hB(AY,"Setting volume to "+t+"."),this.TL.Mx=t}},{key:"Fx",get:function(){return this.Cz}},{key:"Vx",get:function(){return!1},set:function(t){}},{key:"hq",get:function(){return this.oq}},{key:"IGt",get:function(){return this.jzt}},{key:"BGt",get:function(){return void 0===this.HMt?[]:void 0===this.Zzt?this.HMt.NGt:this.HMt.NGt.concat(this.Zzt.NGt)}}]),n}(th),RY=function(t){function n(n,i,r,e,s,u,o,h,c,a,f,v,d){var l,w,g,_;l=t.call(this)||this,(w=l).oa=void 0,w.Mc=void 0,w.nV=void 0,w.TGt=void 0,w.Rz=void 0,w.eut=void 0,w.kGt=void 0,w.mHt=void 0,w.bGt=void 0,w._dt=void 0,w.GXt=void 0,w.JU=void 0,w.YL=new ng,w.$L=new ng,w.Gl=new Eb([]),w.KXt=void 0,w.pq=void 0,w.wpt=void 0,w.yq=void 0,w.hBt=void 0,w.Fkt=void 0,w.QXt=void 0,w.rV=void 0,w.hjt=void 0,w.ajt=void 0,w.ujt=void 0,w.sjt=void 0,w.Ajt=[],w.LXt=void 0,w.OXt=void 0,w.FXt=void 0,w.UXt=void 0,w.P4=void 0,w.x4=void 0,w.Ljt=void 0,w.HXt=void 0,w.WXt=void 0,w.Ejt=void 0,w.sSt=!0,w.fjt=0,w.ljt=!1,w.N4=TA.iL(),w._kt=!1,w.okt=0,w.lDt=void 0,w.VXt=[],w.zU=0,w.NVt=function(){w.hUt()},w.Ujt=function(t){kr(w.wjt(t.UMt,w.rV.Yg))},w.retryOfflineRenditionsCallback=function(t,n){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return w.UXt!==t&&w.OXt!==t&&w.FXt!==t?[2]:[4,w.Fkt.wVt(t,n)];case 1:return i.sent(),t.IMt.jFt=-1/0,[2]}})})()},w.Djt=function(t){var n=w.LXt,i=null==n?void 0:n.LOt;if(w.Fkt.CVt(t.frt,t.UMt.IMt),!i&&(w.Fkt.DVt(t.frt,t.UMt.IMt),w.Tjt(),n)){var r=void 0!==w.OXt&&!ji(n.FOt,w.OXt),e=void 0!==w.FXt&&!ji(n.UOt,w.FXt);(r||e)&&w.oGt(r?void 0:w.OXt,e?void 0:w.FXt,w.UXt).catch(di)}},w.Bjt=function(t){var n=w.Vjt(t.UMt);void 0!==n&&(n.plt=t.plt)},w.Njt=function(t){var n=w.Vjt(t.UMt);void 0!==n&&(n.eyt=t.Eqt.iF())},w.Vjt=function(t){for(var n,i=Lt(w.$L.II);!(n=i()).done;){var r=n.value.YMt(t);if(void 0!==r)return r}},w.Mjt=function(t){w.Fkt.IVt(t.UMt)},w.Rjt=wi(function(t){t.qk===ig.Bk&&w.Ojt()&&kr(w.Fjt())},200),w.Cjt=function(t){var n;w.okt+=t.nWt;var i=w.$L.V>0?t.qk===ig.Bk:t.qk===ig.Dk;"$at"===t.sWt&&i&&kr(w._jt()),w.So(new dM(function(t){if(t){if(void 0!==t.LAt){var n,i,r=t.LAt.Tn+(null!=(i=t.LAt.V)?i:0);return{Yu:t.zE,Sat:[null==(n=t.LAt)?void 0:n.Tn,r],zk:!0}}return{Yu:t.zE.toString()||"",zk:!0}}return{Yu:"",zk:!0}}(t.uri),(null==(n=w.LXt)?void 0:n.kW)||0,t.mediaSequenceNumeber,t.mediaTrackId,t.qk,t.httpStatusCode,t.nWt))},w.oa=n,w.Mc=i,w.nV=e,w.Rz=s,w.TGt=u,w.eut=o,w.kGt=h,w.mHt=c,w.bGt=a,w._dt=f,w.GXt=v,w.JU=null!=d?d:new PW,w.rV=new hr;var m=null!=(_=null==(g=i.latencyConfiguration)?void 0:g.targetOffset)?_:i.liveOffset;return w.Fkt=new eQ(w.nV,w.eut,i.useCredentials,Vn.xm(i.src),m),w.Fkt.wn(rQ.iVt,w.NVt),w.Fkt.wn(rQ.eVt,w.Ujt),w.Fkt.wn([eh.Ww,eh.qw,eh.ey],w.Rs),w.KXt=new bY(w,w.JU),w.Gl.FW(w.KXt.Z),i.hlsDateRange&&(w.QXt=new cQ(w.Fkt,w.JU),w.Gl.FW(w.QXt.Z)),r.textTracks&&(w.pq=new ly(w.JU,w.nV),w.Gl.FW(w.pq.Z),w.fq(r.textTracks)),!ji(i.ignoreEmbeddedTextTrackTypes,Dg.CEA608)&&(w.hBt=new bU(w.JU),w.Gl.FW(w.hBt.Z)),!ji(i.ignoreEmbeddedTextTrackTypes,Dg.EMSG)&&(w.wpt=new tW(w.JU),w.yq=new gy(w.JU,w.wpt.Z),w.Gl.FW(w.wpt.Z),w.Gl.FW(w.yq.Z)),l}Ct(n,t);var i=n.prototype;return i.hUt=function(){var t,n,i=function(t){if(0===t.length)return TA.iL();for(var n,i=TA.eL(),r=0,e=Lt(t);!(n=e()).done;){var s=n.value.IMt.Sx;s.V>0&&(i=i.Mn(s),r=b.max(r,s.Tn(0)))}if(i.V>0)return i;return TA.$M(r)}(this.Uzt);0!==i.V&&(this.N4=i,null==(t=this.wpt)||t.qU(i.Tn(0)),null==(n=this.hBt)||n.qU(i.Tn(0)))},i.NXt=function(t){var n=[];if(this.LXt)for(var i,r=Lt(this.NGt);!(i=r()).done;)for(var e,s=Lt(i.value.Jqt);!(e=s()).done;){var u=e.value.iHt(t);u&&!ji(n,u)&&n.push(u)}Ki(this.VXt,n)||(this.VXt=n,this.So(new aQ))},i.fq=function(t){for(var n,i=Lt(t);!(n=i()).done;){var r=n.value;r.src&&this.pq.eV(r)}},i.klt=function(){var t,n,i=function(){var n=u.value,i=new vg,r=[];i.lO(new dG(o,n)),r.push(n);for(var e,s=Lt(h);!(e=s()).done;){var c=e.value,a=Ui(c.FOt,function(t){return eG(t,n)&&!hG(r,t)});a&&(i.lO(new dG(c,a)),r.push(a))}t.YL.tt(new aG(t,t.Rz,t.YL,i))},r=function(){var t=a.value,i=new vg,r=[];i.lO(new lG(o,t)),r.push(t);for(var e,s=Lt(h);!(e=s()).done;){var u=e.value,c=Ui(u.UOt,function(n){return eG(n,t)&&!hG(r,n)});c&&(i.lO(new lG(u,c)),r.push(c))}n.$L.tt(new fG(n,n.Rz,n.$L,i))},e=this.Br.HUt;if(0!==e.length){for(var s,u,o=null!=(s=Ui(e,function(t){return 0!==t.FOt.length&&0!==t.UOt.length}))?s:e[0],h=e.filter(function(t){return t!==o}),c=Lt(o.FOt);!(u=c()).done;)t=this,i();for(var a,f=Lt(o.UOt);!(a=f()).done;)n=this,r()}else _G.cLt(AY,"The HLSModel contains no variant streams.")},i.PGt=function(t){return Vt(function(){var n,i,r,e,s;return zt(this,function(u){switch(u.label){case 0:if(this._kt)return[2];if(this.Fkt.rVt)return[3,5];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,this.Fkt.dVt(t)];case 2:return u.sent(),[3,4];case 3:throw lr(n=u.sent()),this.sx=!1,new fd(cd.MANIFEST_LOAD_ERROR,"The provided HLS document could not be loaded - "+n.message,n);case 4:this.klt(),u.label=5;case 5:return[4,this.YXt()];case 6:return i=u.sent(),this.JXt(i),this.ZXt(i),r=this.$Xt(i.FOt),e=this.tjt(i.UOt),(s=this.ijt(i.VOt))||this.ejt(i.HOt),[4,this.oGt(r,e,s,{RGt:!0})];case 7:return u.sent(),this._kt=!0,[2]}})}).call(this)},i.ZXt=function(t){var n=this.hBt;if(n)for(var i,r=function(t){for(var n,i=[],r=Lt(t);!(n=r()).done;){var e=n.value,s=fY(e);void 0!==s&&i.push({nit:s,rit:e.bs||"",Th:e.l})}return i}(t.HOt),e=Lt(r);!(i=e()).done;){var s=i.value;n.Mgt(s)}},i.YXt=function(){return Vt(function(){var t,n;return zt(this,function(i){switch(i.label){case 0:if(this.sjt=this.Br.HUt,!this.sjt.length)throw new fd(cd.MANIFEST_LOAD_ERROR,"LLHLSPlayer - Could not select initial variant stream: the HLS stream contains no variant streams.");return[4,this.njt(this.sjt)];case 1:if(0===(t=i.sent()).length)throw new fd(cd.MANIFEST_LOAD_ERROR,"LLHLSPlayer - Could not select initial variant stream: the HLS stream contains no variant stream with a supported codec.");return[4,this.rjt(t)];case 2:return(n=i.sent()).length>0&&(t=n),_G.hB(AY,"Selecting initial active variant stream."),[2,dY(t,this.Mc.abr,this.Rz,this._dt.maximumBackoff)]}})}).call(this)},i.$Xt=function(t){if(this.hjt){var n=this.ojt(this.hjt);if(n)return n}return kY(t)},i.tjt=function(t){if(this.ajt){var n=this.ojt(this.ajt);if(n)return n}return kY(t)},i.ijt=function(t){for(var n,i=Lt(this.Gl.II);!(n=i()).done;){var r=n.value;r.Xk===Hm.Kn&&(this.ujt=this.KXt.Bzt(r))}if(this.ujt){var e=this.ojt(this.ujt);if(e)return e}return pY(t)},i.ejt=function(t){var n=this.hBt;if(n){var i=pY(t);if(void 0!==i){var r=fY(i);n.Bgt(r).Xk=Hm.Kn}}},i.GMt=function(t){for(var n,i=Lt(t);!(n=i()).done;){var r=n.value;if(!this.cjt(r))throw new y("LLHLSPlayer - Could not set an allowed variant stream that does not exists in the internal HLS model.")}this.sjt=t},i.cjt=function(t){var n=this.Br;return!!n&&ji(n.HUt,t)},i.ojt=function(t){if(t&&this.LXt)return Ui(this.LXt.lLt,function(n){return n===t})},i.djt=function(){return Vt(function(){var t,n,i,r;return zt(this,function(e){switch(e.label){case 0:return 0!==(n=null!=(t=this.sjt)?t:this.Br.HUt).length||this.sjt?1!==n.length||this.sjt?[4,this.njt(n)]:(_G.hB(AY,"The HLS stream contains only a single variant stream, skipping ABR selection."),[2,[]]):(_G.hB(AY,"The HLS stream does not contain any variant streams, skipping ABR selection."),[2,[]]);case 1:return 0===(i=e.sent()).length?(_G.cLt(AY,"No variant streams with supported codecs available to perform ABR selection on."),[2,[]]):0!==(r=wY(i,this._dt.maximumBackoff)).length?[3,3]:this.ljt?[2,[]]:(_G.cLt(AY,"No variant streams with online renditions available to perform ABR selection on."),this.fjt++,[4,this.vjt(i)]);case 2:return e.sent(),[2,[]];case 3:return[2,r]}})}).call(this)},i._jt=function(){return Vt(function(){var t,n;return zt(this,function(i){switch(i.label){case 0:return[4,this.yLt()];case 1:return void 0===(t=i.sent())?[2]:(n=!!this.LXt&&t.kW<this.LXt.kW,[4,this.XMt(t,{jMt:n})]);case 2:return i.sent(),[2]}})}).call(this)},i.yLt=function(){return Vt(function(){var t,n,i,r,e;return zt(this,function(s){switch(s.label){case 0:return[4,this.djt()];case 1:return 0===(t=s.sent()).length?[2,void 0]:[4,this.rjt(t)];case 2:return n=s.sent(),i=this.oa.MGt(),[4,this.TGt.yLt(t,this.LXt,n,i,this.oa.LGt())];case 3:return r=s.sent(),e=!!this.LXt&&r.kW<this.LXt.kW,[2,e||this.gjt(r,i._Lt)?r:void 0]}})}).call(this)},i.gjt=function(t,n){var i;if(t===this.LXt)return!1;var r=this.LXt&&gY(this.LXt,this._dt.maximumBackoff),e=gY(t,this._dt.maximumBackoff);if(!r&&e)return!0;(!this.lDt||this.lDt.WMt.kW>t.kW)&&(this.lDt={WMt:t,ift:Vn.Mg()});var s,u=Vn.Mg()-this.lDt.ift,o=null!=(s=null==(i=this.FXt)?void 0:i.IMt.vLt)?s:1/0;return n>=b.max(o-1,5)||u>1e3},i.pjt=function(t){return Zi(t,function(t){return t.kW})},i.MXt=function(){return Vt(function(){var t,n,i;return zt(this,function(r){switch(r.label){case 0:return this.lDt=void 0,[4,this.djt()];case 1:return 0===(t=r.sent()).length?[2]:[4,this.rjt(t)];case 2:return(n=r.sent()).length>0&&(t=n),void 0===(i=this.pjt(t))?[3,4]:[4,this.XMt(i,{jMt:!0})];case 3:r.sent(),this.oa.hq.RIt(i.kW),r.label=4;case 4:return[2]}})}).call(this)},i.vjt=function(t){return Vt(function(){var n,i,r,e,s,u;return zt(this,function(o){switch(o.label){case 0:n=this,this.ljt=!0,i=!1,r=Lt(t),o.label=1;case 1:if((e=r()).done)return[3,6];s=e.value,o.label=2;case 2:return o.trys.push([2,4,,5]),void 0===(u=this.FXt?Ui(s.UOt,function(t){return eG(t,n.FXt)}):void 0)?[3,5]:[4,this.wVt(u)];case 3:return o.sent(),u.IMt.jFt=-1/0,i=!0,[3,5];case 4:return o.sent(),[3,5];case 5:return[3,1];case 6:return i?(this.fjt=0,[4,this.oa.rXt()]):[3,8];case 7:return o.sent(),[3,10];case 8:return this.fjt>=this._dt.maxRetries?(this.oa.qq(new fd(cd.MEDIA_LOAD_ERROR,"The provided video renditions could not be loaded.")),[2]):[4,Ar(b.min(this._dt.minimumBackoff*b.pow(2,this.fjt-1),this._dt.maximumBackoff))];case 9:o.sent(),o.label=10;case 10:return this.ljt=!1,[4,this._jt()];case 11:return o.sent(),[2]}})}).call(this)},i.njt=function(t){return Vt(function(){var n,i;return zt(this,function(r){switch(r.label){case 0:return n=this,[4,rr(t,function(t){return Vt(function(){var n,i,r;return zt(this,function(e){switch(e.label){case 0:return 0===(r=[(null==(n=t.frt)?void 0:n.yCt)?'audio/mp4; codecs="'+t.frt.yCt+'"':void 0,(null==(i=t.frt)?void 0:i.bCt)?'video/mp4; codecs="'+t.frt.bCt+'"':void 0].filter(Un)).length?[2,!0]:[4,this.kGt.QZ(r,this.Mc.useManagedMediaSource)];case 1:return[2,e.sent()]}})}).call(n)})];case 1:return(i=r.sent()).some(function(t){var n;return null==(n=t.frt)?void 0:n.bCt})&&(i=i.filter(function(t){return!t.frt||t.frt.bCt||0!==t.UOt.length})),i.some(function(t){var n;return null==(n=t.frt)?void 0:n.yCt})&&(i=i.filter(function(t){return!t.frt||t.frt.yCt||0!==t.FOt.length})),[2,i]}})}).call(this)},i.rjt=function(t){var n=this;return this.Fkt.oVt?rr(t,function(t){return function(t,n){return Vt(function(){var i,r,e;return zt(this,function(s){switch(s.label){case 0:i=Lt(t),s.label=1;case 1:return(r=i()).done?[3,4]:(e=r.value,[4,n(e)]);case 2:if(!s.sent())return[2,!1];s.label=3;case 3:return[3,1];case 4:return[2,!0]}})})()}([kY(t.FOt),kY(t.UOt),pY(t.VOt),pY(t.HOt)].filter(Un),function(t){return n.mjt(t)})}):ut.resolve([])},i.mjt=function(t){return Vt(function(){var n,i,r;return zt(this,function(e){switch(e.label){case 0:if(0===t.IMt.ect.length)return[2,!1];if(!(n=t.IMt.ect[0]).nyt)return[2,!1];i=n.nyt,r=i.LAt?BG(i.LAt.Tn,i.LAt.V):void 0,e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.eut.Uct(i.zE,r)];case 2:return[2,e.sent()];case 3:return e.sent(),[2,!1];case 4:return[2]}})}).call(this)},i.sLt=function(t){return Vt(function(){var n,i;return zt(this,function(r){switch(r.label){case 0:return this.LXt?(n=this.ojt(t),t&&!n?(_G.lt(AY,"Trying to set an invalid rendition as the active audio rendition."),[2]):this.OXt===n?[2]:(i=Un(n)!==Un(this.OXt),_G.hB(AY,"Switching audio rendition"),[4,this.oGt(n,this.FXt,this.UXt,{KMt:!0,jMt:i})])):(this.hjt=t,[2]);case 1:return r.sent(),[2]}})}).call(this)},i.rLt=function(t){return Vt(function(){var n,i;return zt(this,function(r){switch(r.label){case 0:return this.LXt?(n=this.ojt(t),t&&!n?(_G.lt(AY,"Trying to set an invalid rendition as the active video rendition."),[2]):this.FXt===n?[2]:(i=Un(n)!==Un(this.FXt),_G.hB(AY,"Switching video rendition"),[4,this.oGt(this.OXt,n,this.UXt,{QMt:!0,jMt:i})])):(this.ajt=t,[2]);case 1:return r.sent(),[2]}})}).call(this)},i.Nzt=function(t){return Vt(function(){var n;return zt(this,function(i){switch(i.label){case 0:return this.LXt?(n=this.ojt(t),t&&!n?(_G.lt(AY,"Trying to set an invalid rendition as the active subtitle rendition."),[2]):(_G.hB(AY,"Switching subtitle rendition"),[4,this.oGt(this.OXt,this.FXt,n)])):(this.ujt=t,[2]);case 1:return i.sent(),[2]}})}).call(this)},i.wjt=function(t,n){return Vt(function(){var i;return zt(this,function(r){switch(r.label){case 0:return this.ljt?[2]:(i=0===this.$L.V,t.Km===MG.Bk||t.Km===MG.Dk&&i?[3,2]:[4,this.yjt(t,n)]);case 1:return r.sent(),[3,10];case 2:return this.sjt&&this.sjt.length<=1?t.Km!==MG.Bk||this.FXt===t?[3,4]:[4,this.oGt(this.OXt,t,this.UXt)]:[3,8];case 3:return r.sent(),[3,6];case 4:return t.Km===MG.Dk&&i&&this.OXt!==t?[4,this.oGt(t,this.FXt,this.UXt)]:[3,6];case 5:r.sent(),r.label=6;case 6:return[4,this.yjt(t,n)];case 7:return r.sent(),[3,10];case 8:return[4,this._jt()];case 9:r.sent(),r.label=10;case 10:return[2]}})}).call(this)},i.wVt=function(t,n){return Vt(function(){var i;return zt(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,5]),[4,this.Fkt.wVt(t,n)];case 1:return r.sent(),[3,5];case 2:return lr(i=r.sent()),ql(i)||Gl(i)?[4,this.wjt(t,n)]:[3,4];case 3:r.sent(),r.label=4;case 4:throw i;case 5:return[2]}})}).call(this)},i.yjt=function(t,n){return Vt(function(){var i,r,e;return zt(this,function(s){switch(s.label){case 0:if(i=this,ji(this.Ajt,t))return[2];this.Ajt.push(t),s.label=1;case 1:return s.trys.push([1,3,4,7]),r=t.Km===MG.OU||t.Km===MG.bLt?1/0:this._dt.maxRetries,[4,gT(function(){return i.retryOfflineRenditionsCallback(t,n)},n,r,this._dt.minimumBackoff,this._dt.maximumBackoff)];case 2:return s.sent(),[3,7];case 3:return e=s.sent(),this.oa.qq(new fd(cd.MEDIA_LOAD_ERROR,e.message,e)),[3,7];case 4:return Xi(this.Ajt,t),t.IMt.jFt!==-1/0?[3,6]:[4,this.oa.rXt()];case 5:s.sent(),s.label=6;case 6:return[7];case 7:return[2]}})}).call(this)},i.UGt=function(t){return Vt(function(){var n,i,r,e,s,u;return zt(this,function(o){switch(o.label){case 0:return i=this.OXt,r=this.FXt,(e=[]).push(this.bjt(r,t)),sG(i,r)||e.push(this.bjt(i,t)),s=this.UXt,(null==(n=this.Mc.hls)?void 0:n.delaySubtitlePreload)?[4,ut.all(e)]:[3,3];case 1:return o.sent(),[4,this.bjt(s,t)];case 2:return o.sent(),[3,5];case 3:return u=this.bjt(s,t),[4,ut.all([].concat(e,[u]))];case 4:o.sent(),o.label=5;case 5:return[2]}})}).call(this)},i.bjt=function(t,n){return Vt(function(){var i;return zt(this,function(r){switch(r.label){case 0:if(!t)return[2];r.label=1;case 1:return r.trys.push([1,3,,6]),[4,this.Fkt.wVt(t,n)];case 2:return r.sent(),[3,6];case 3:return lr(i=r.sent()),ql(i)||Gl(i)?[4,this.Sjt(t,n)]:[3,5];case 4:r.sent(),r.label=5;case 5:return[3,6];case 6:return[2]}})}).call(this)},i.Sjt=function(t,n){return Vt(function(){var i,r,e,s,u;return zt(this,function(o){switch(o.label){case 0:return this.ljt?[2]:(i=0===this.$L.V,t.Km===MG.Bk||t.Km===MG.Dk&&i?[3,2]:[4,this.yjt(t,n)]);case 1:return o.sent(),[3,7];case 2:return this.sjt&&this.sjt.length<=1?[4,this.yjt(t,n)]:[3,4];case 3:return o.sent(),[3,7];case 4:return[4,this.YXt()];case 5:return r=o.sent(),this.JXt(r),e=this.$Xt(r.FOt),s=this.tjt(r.UOt),u=this.ijt(r.VOt),[4,this.oGt(e,s,u)];case 6:o.sent(),o.label=7;case 7:return[2]}})}).call(this)},i.oGt=function(t,n,i,r){void 0===r&&(r={});var e={jMt:r.jMt||!1,KMt:r.KMt||!1,QMt:r.QMt||!1,Jx:r.Jx||!1,RGt:r.RGt||!1};return e.RGt||e.Jx||this.OXt!==t||this.FXt!==n||this.UXt!==i?void 0===t&&void 0===n?ut.reject(new y("Trying to buffer no media renditions.")):(this.OXt=t,this.FXt=n,this.UXt=i,this.hUt(),this.So(new rY),this.oa.oGt(e)):ut.resolve()},i.XMt=function(t,n){return Vt(function(){var i,r,e,s;return zt(this,function(u){switch(u.label){case 0:return i=this,this.oa.IGt?t?this.cjt(t)?t===this.LXt?(_G.hB(AY,"Trying to set the already active variant stream, ignoring."),[2]):(r=this.OXt?Ui(t.FOt,function(t){return eG(t,i.OXt)}):void 0,e=this.FXt?Ui(t.UOt,function(t){return eG(t,i.FXt)}):void 0,s=this.UXt?Ui(t.VOt,function(t){return eG(t,i.UXt)}):void 0,this.JXt(t),this.lDt=void 0,[4,this.oGt(r,e,s,n)]):(_G.lt(AY,"Trying to set an active variant stream that does not exists on the internal model."),[2]):(_G.lt(AY,"Cannot explicitly set the active variant stream to undefined."),[2]):(_G.lt(AY,"The LLHLSPlayer is not loaded."),[2]);case 1:return u.sent(),[2]}})}).call(this)},i.JXt=function(t){var n;if(_G.hB(AY,"Setting active variant stream."),this.LXt!==t){var i=(null==(n=this.LXt)?void 0:n.XLt)!==(null==t?void 0:t.XLt);if(this.LXt&&i)for(var r,e=Lt(this.LXt.VOt);!(r=e()).done;){var s=r.value;this.KXt.zOt(s)}if(this.LXt=t,this.So(new iY),t&&i)for(var u,o=Lt(t.VOt);!(u=o()).done;){var h=u.value;this.KXt.Czt(h)}}},i.Tjt=function(){this.kjt(this.YL),this.kjt(this.$L)},i.kjt=function(t){for(var n,i=[],r=Lt(t.II);!(n=r()).done;){for(var e,s=n.value,u=[],o=Lt(s.KI.II);!(e=o()).done;){var h=e.value;ji(h.WMt.lLt,h.UMt)||u.push(h)}for(var c,a=Lt(u);!(c=a()).done;){var f=c.value;s.KI._S(f),f.kn()}0===s.KI.V&&i.push(s)}for(var v,d=Lt(i);!(v=d()).done;){var l=v.value;t.it(l),l.kn()}},i.KGt=function(t){return Vt(function(){var n,i,r,e,s;return zt(this,function(u){switch(u.label){case 0:n=this,i={stack:[],error:void 0,hasError:!1},u.label=1;case 1:return u.trys.push([1,3,4,5]),r=qt(i,hr.ep([t]),!1),e=[this.FXt,sG(this.OXt,this.FXt)?void 0:this.FXt,this.UXt].filter(Un),[4,ut.all(e.filter(function(t){return!t.IMt.VFt}).map(function(t){return n.Fkt.yVt(t,r.Yg)}))];case 2:return u.sent(),[3,5];case 3:return s=u.sent(),i.error=s,i.hasError=!0,[3,5];case 4:return Gt(i),[7];case 5:return[2]}})}).call(this)},i.zGt=function(){return Vt(function(){var t,n,i,r,e,s,u,o,h,c,a,f,v,d,l,w,g,_,m,y,p,k;return zt(this,function(b){switch(b.label){case 0:if(r=this.OXt,e=this.FXt,s=null==(t=this.LXt)?void 0:t.frt,u=[],void 0!==r){if(!(c=null!=(h=null==(o=r.frt)?void 0:o.yCt)?h:null==s?void 0:s.yCt))return[2,void 0];a='audio/mp4; codecs="'+c+'"',_G.hB(AY,"Configuring MediaSource for initial audio rendition with codec: "+a+"."),u.push(a)}if(void 0!==e){if(!(d=null!=(v=null==(f=e.frt)?void 0:f.bCt)?v:null==s?void 0:s.bCt))return[2,void 0];l='video/mp4; codecs="'+d+'"',_G.hB(AY,"Configuring MediaSource for initial video rendition with codec: "+l+"."),u.push(l)}return 0===u.length?(_G.cLt(AY,"No codecs found on the active variant stream."),[2,void 0]):(g=null!=(w=null==e||null==(n=e.IMt.ect[0])?void 0:n.MW)?w:[],m=null!=(_=null==r||null==(i=r.IMt.ect[0])?void 0:i.MW)?_:[],y=this.Mc,p=this.Br,[4,qG(y.contentProtection,u,[].concat(p.UUt,m,g),this.nV,y.useCredentials)]);case 1:return k=b.sent(),[2,{Km:Sy.wV,L4:u.map(function(t){return{qT:t}}),aq:k,X4:y.useManagedMediaSource}]}})}).call(this)},i.XGt=function(t,n,i,r,e){var s,u,o=this.OXt,h=this.FXt,c=t&&sG(o,h);if(n&&h)if(this.WXt)(i||e||c&&r)&&(this.WXt.Zg(),this.WXt.ezt.Gy()),this.WXt.UMt!==h&&this.WXt.oWt(h);else{var a=c?[ig.Bk,ig.Dk]:[ig.Bk];this.WXt=this.Pjt(h,a)}else null==(s=this.WXt)||s.zg(),this.WXt=void 0;t&&o&&!c?this.HXt?((i||r)&&(this.HXt.Zg(),this.HXt.ezt.Gy()),this.HXt.UMt!==o&&this.HXt.oWt(o)):this.HXt=this.xjt(o):(null==(u=this.HXt)||u.zg(),this.HXt=void 0)},i.jGt=function(t){var n=this.UXt;this.Ejt&&(this.Ejt.UMt===n?t&&(this.Ejt.Zg(),this.Ejt.ezt.Gy()):(this.Ejt.zg(),this.Ejt=void 0));if(!this.Ejt&&n&&(this.Ejt=this.Ijt(n)),n){var i=this.KXt.Lzt(n);i.Xk=Hm.Kn,this.rzt(i)}},i.Pjt=function(t,n){var i=function(t,n,i,r,e,s,u,o,h,c,a){var f=i.Br.mM,v=new HQ(f),d=new LQ(ig.Bk,t,i,v,r,e,s,a),l=u.YSt(v,f,n);return new nY(d,v,l,o,h,c)}(t,n,this.Fkt,this.nV,this.eut,this.mHt,this.bGt,this.wpt,this.hBt,this.Rz,this.Mc.useCredentials);return i.$qt.wn(MQ.iWt,this.Rjt),i.$qt.wn(MQ.eWt,this.Cjt),i.tzt.wn(QQ.bqt,this.Djt),i.tzt.wn(QQ.Tqt,this.Bjt),i.tzt.wn(QQ.kqt,this.Njt),i.tzt.wn(QQ.Sqt,this.Mjt),i},i.xjt=function(t){var n=function(t,n,i,r,e,s,u,o,h){var c=n.Br.mM,a=new HQ(c),f=new LQ(ig.Dk,t,n,a,i,r,e,h),v=s.YSt(a,c,[ig.Dk]);return new nY(f,a,v,u,void 0,o)}(t,this.Fkt,this.nV,this.eut,this.mHt,this.bGt,this.wpt,this.Rz,this.Mc.useCredentials);return n.$qt.wn(MQ.eWt,this.Cjt),n.tzt.wn(QQ.bqt,this.Djt),n.tzt.wn(QQ.Sqt,this.Mjt),n},i.Ijt=function(t){return function(t,n,i,r,e,s){var u=n.Br.mM,o=new HQ(u),h=new LQ(ig.NT,t,n,o,i,r,e,s),c=new ZQ(o,u,ig.NT);return new nY(h,o,c)}(t,this.Fkt,this.nV,this.eut,this.mHt,this.Mc.useCredentials)},i.izt=function(t,n){if(t?this.P4&&this.P4.Tzt(t,this.zU)||(this.P4=new hY(ig.Dk,t,this.zU)):this.P4=void 0,n?this.x4&&this.x4.Tzt(n,this.zU)||(this.x4=new hY(ig.Bk,n,this.zU)):this.x4=void 0,void 0!==this.WXt){var i=void 0!==t&&void 0===this.HXt,r=[this.x4,i?this.P4:void 0].filter(Un);this.WXt.izt(r)}if(void 0!==this.HXt){var e=this.P4?[this.P4]:[];this.HXt.izt(e)}},i.rzt=function(t){t?this.Ljt&&this.Ljt.Tzt(t)||(this.Ljt=new aY(t,this.Br.mM)):this.Ljt=void 0,void 0!==this.Ejt&&void 0!==this.Ljt&&this.Ejt.rzt(this.Ljt)},i.vGt=function(t){if(this.JU!==t){this.JU=t;for(var n,i=Lt(this.jXt);!(n=i()).done;){n.value.YU(t)}var r=this.UXt;if(void 0!==r){var e=this.KXt.Lzt(r);this.rzt(e)}}},i.QGt=function(t,n){var i=[];t&&i.push(ig.Dk),n&&i.push(ig.Bk),this.Br.mM.OUt(i)},i.Ojt=function(){if(void 0===this.WXt)return!1;var t=Vn.Mg();if(!this.WXt.$qt.nqt(t))return!1;var n=this.WXt.$qt.tqt();if(void 0===n||void 0===n.$at.ct)return!1;var i=this.MP,r=this.oa.ux,e=this.WXt.hzt.JM(i);return!((void 0!==e?e.An(0)-i:0)>=2*n.$at.ct*r)&&(n.iqt>0&&0===n.eqt?n.sqt>1e3*n.$at.ct*.8:8*n.eqt/this.Rz.kY.kW>=1.8*n.$at.ct)},i.Fjt=function(){return Vt(function(){var t,n,i,r,e,s,u;return zt(this,function(o){switch(o.label){case 0:return[4,this.yLt()];case 1:return void 0===(n=o.sent())||void 0===(i=null==(t=this.WXt)?void 0:t.$qt.tqt())?[2]:(r=this.LXt,i.eqt>0&&(e=b.max(0,i.eqt-i.iqt),s=i.eqt*(n.kW/r.kW),e<=s)?[2]:(u=n.kW<r.kW,[4,this.XMt(n,{jMt:u})]));case 2:return o.sent(),[2]}})}).call(this)},i.TXt=function(){for(var t,n=Lt(this.YL.II);!(t=n()).done;){t.value.kn()}for(var i,r=Lt(this.$L.II);!(i=r()).done;){i.value.kn()}for(var e,s=Lt(this.Gl.II);!(e=s()).done;){e.value.kn()}this.YL.hr(),this.$L.hr(),this.Gl.hr()},i.zg=function(){return Vt(function(){var t,n,i;return zt(this,function(r){switch(r.label){case 0:this.Vo(),this.rV.Zg(),this.Fkt.zg(),this.HXt&&(this.HXt.zg(),this.HXt=void 0),this.WXt&&(this.WXt.zg(),this.WXt=void 0),this.Ejt&&(this.Ejt.zg(),this.Ejt=void 0),t=Lt(this.jXt),r.label=1;case 1:return(n=t()).done?[3,4]:[4,(i=n.value).kn()];case 2:r.sent(),this.Gl.WW(i.Z),r.label=3;case 3:return[3,1];case 4:return this.TXt(),this.YL.kn(),this.$L.kn(),this.Gl.kn(),this.Ajt=[],this.JXt(void 0),[2]}})}).call(this)},Nt(n,[{key:"VMt",get:function(){return this.LXt}},{key:"eLt",get:function(){return this.OXt}},{key:"nLt",get:function(){return this.FXt}},{key:"Mzt",get:function(){return this.UXt}},{key:"Uzt",get:function(){return[this.OXt,this.FXt].filter(Un)}},{key:"ht",get:function(){return this.YL}},{key:"Br",get:function(){return this.Fkt.Br}},{key:"eGt",get:function(){return this.Fkt}},{key:"IFt",get:function(){var t=this.Uzt;return 0===t.length?TA.iL():t.reduce(function(t,n){return t.Mn(n.IMt.IFt)},TA.eL())}},{key:"zMt",get:function(){return this.VXt}},{key:"MP",get:function(){return this.oa.zzt(this)}},{key:"hGt",get:function(){var t,n,i=null==(t=this.HXt)?void 0:t.hzt,r=null==(n=this.WXt)?void 0:n.hzt;return i&&r?r.Mn(i):null!=r?r:i}},{key:"Sx",get:function(){return this.N4}},{key:"nt",get:function(){return this.Gl}},{key:"rt",get:function(){return this.$L}},{key:"POt",get:function(){var t,n;return(null==(t=this.OXt)?void 0:t.IMt.POt)||(null==(n=this.FXt)?void 0:n.IMt.POt)||!1}},{key:"$Gt",get:function(){var t,n,i;return null!=(i=null==(t=this.OXt)?void 0:t.IMt.ct)?i:null==(n=this.FXt)?void 0:n.IMt.ct}},{key:"qXt",get:function(){var t,n,i=null==(t=this.OXt)?void 0:t.IMt.ct,r=null==(n=this.OXt)?void 0:n.IMt.ct;return void 0!==i&&void 0!==r?b.min(i,r):null!=i?i:r}},{key:"zXt",get:function(){var t,n=null==(t=this.Fkt.uVt)?void 0:t.IMt.ct;if(void 0!==n)return n;var i=this.Uzt;return i.length>0&&i.every(function(t){return function(t){return t.IMt.ect.length>0&&!t.IMt.POt}(t)})?1/0:NaN}},{key:"ct",get:function(){var t;return null!=(t=this.$Gt)?t:this.zXt}},{key:"tGt",get:function(){var t;return null!=(t=this.qXt)?t:this.zXt}},{key:"Ozt",get:function(){var t=this.Uzt;if(0!==t.length&&this.ct===1/0){for(var n,i,r=Lt(t);!(i=r()).done;){var e=i.value,s=e.IMt.Sx;if(0!==s.V){var u=s.An(s.V-1)+e.IMt.cSt,o=e.IMt.zFt,h=u+(null!=o?o:0);(!n||n<h)&&(n=h)}}return n}}},{key:"YGt",get:function(){var t,n,i;if(void 0!==(null==(t=this.GXt)?void 0:t.EO))return{XF:this.GXt.EO,Hzt:!1};if(void 0!==(null==(n=this.GXt)?void 0:n.XXt)){var r,e=null==(r=this.LXt)?void 0:r.qOt(this.GXt.XXt);if(void 0!==e)return{XF:e,Hzt:!1}}if(null==(i=this.LXt)?void 0:i.IMt.Tn){var s=this.LXt.IMt,u=s.Tn,o=u._Ot;if(u._Ot<0){var h=s.IFt;o+=h.An(h.V-1)}return{XF:o,Hzt:!u.gOt}}return this.POt?void 0:{XF:1/0,Hzt:!0}}},{key:"wGt",get:function(){var t;if(this.Mc.latencyConfiguration)return this.Mc.latencyConfiguration;var n=this.Uzt;if(0!==n.length&&!this.POt){var i=(t=b).max.apply(t,[].concat(n.map(function(t){var n;return null!=(n=t.IMt.cSt)?n:0})));return{minimumOffset:.66*i,maximumOffset:2*i,targetOffset:1*i,forceSeekOffset:3*i,minimumPlaybackRate:IA,maximumPlaybackRate:RA}}}},{key:"nGt",get:function(){return this._kt}},{key:"sx",get:function(){return this.sSt},set:function(t){this.sSt!==t&&(this.sSt=t,this.So(t?new RH:new CH))}},{key:"rO",get:function(){return this.okt}},{key:"bU",get:function(){return this.zU},set:function(t){this.zU=t;for(var n,i=Lt(this.jXt);!(n=i()).done;){n.value.bU=t}}},{key:"jXt",get:function(){return[this.QXt,this.KXt,this.pq,this.wpt,this.yq,this.hBt].filter(Un)}},{key:"NGt",get:function(){return[this.HXt,this.WXt,this.Ejt].filter(Un)}}]),n}(th);function CY(t,n){if(!n||n.IMt.POt)return!1;var i=n.IMt.ect;return 0!==i.length&&i[0].EO>t}F(),Et(),Wt(),Qt();var DY=function(){function t(){}var n=t.prototype;return n.Xq=function(t,n){return!!XA(t.type)&&!t.useNativePlayback},n.jq=function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return t.aes128?[2,!0]:[4,Dp(t,!0)];case 1:return[2,n.sent()]}})})()},t}();F(),Et(),F(),Et(),Wt(),Qt();var PY=function(){function t(){}var n=t.prototype;return n.gHt=function(t,n,i){return Vt(function(){var r,e;return zt(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,crypto.subtle.importKey("raw",n,{name:"AES-CBC"},!1,["decrypt"])];case 1:return r=s.sent(),[4,crypto.subtle.decrypt({name:"AES-CBC",iv:i},r,t)];case 2:return e=s.sent(),[2,new E(e)];case 3:throw s.sent(),new fd(cd.CONTENT_PROTECTION_INTERNAL_ERROR,"Error during AES128 decrypt.");case 4:return[2]}})})()},n.zg=function(){},t.LS=function(){return"undefined"!=typeof crypto&&void 0!==crypto.subtle&&void 0!==crypto.subtle.decrypt},t}();F(),Et(),F(),Et(),Wt(),Qt(),F(),Et(),Bt(),Dt(),H(),Ut(),F(),Et(),Dt();var NY=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).data=void 0,r.data=i,r}return Ct(n,t),n}(rh),BY=["message","messageerror","error"];F(),Et(),Dt();var xY=function(t){function n(n){var i;return(i=t.call(this,zm.ma)||this).error=void 0,i.error=n,i}return Ct(n,t),n}(rh),OY=function(t){function n(n){var i;return(i=t.call(this)||this).zjt=void 0,i.Wjt=void 0,i.Gjt=[],i.Qjt=function(t){if(i.Hjt)t.jjt();else{i.zjt=t,i.zjt.wn(BY,i.Rs);for(var n,r=Lt(i.Gjt);!(n=r()).done;){var e=n.value;t.qjt(e.Py,e.Xjt)}Yi(i.Gjt)}},i.Kjt=function(t){if(!i.Hjt){var n=V(t,y)?t:new y("Could not create Worker.");i.So(new xY(n)),i.jjt()}},i.Wjt=new hr,n(i.Wjt.Yg).then(i.Qjt,i.Kjt),i}Ct(n,t);var i=n.prototype;return i.qjt=function(t,n){this.Hjt||(void 0!==this.zjt?this.zjt.qjt(t,n):this.Gjt.push({Py:t,Xjt:n}))},i.jjt=function(){this.Hjt||(this.Wjt.Zg(),Yi(this.Gjt),void 0!==this.zjt&&this.zjt.jjt())},Nt(n,[{key:"Hjt",get:function(){return this.Wjt.Yg.Hg}}]),n}(th);F(),Et(),F(),Et(),Dt(),H();var MY=function(t){function n(n,i){var r;return(r=t.call(this)||this).zjt=void 0,r.Yjt=function(t){r.So(new NY("message",t.data))},r.Jjt=function(t){r.So(new NY("messageerror",t.data))},r.w9=function(t){null==t.preventDefault||t.preventDefault.call(t);var n=V(t.error,y)?t.error:new y(t.message);r.So(new xY(n)),r.jjt()},r.zjt=new I(n,i),r.zjt.addEventListener("message",r.Yjt),r.zjt.addEventListener("messageerror",r.Jjt),r.zjt.addEventListener("error",r.w9),r}Ct(n,t);var i=n.prototype;return i.qjt=function(t,n){n?this.zjt.postMessage(t,n):this.zjt.postMessage(t)},i.jjt=function(){this.Vo(),this.zjt.removeEventListener("message",this.Yjt),this.zjt.removeEventListener("messageerror",this.Jjt),this.zjt.removeEventListener("error",this.w9),this.zjt.terminate()},n}(th);F(),Et(),Dt();var LY=0,UY=function(t){function n(n,i){var r;(r=t.call(this)||this).hS=void 0,r.iQt=void 0,r.Zjt=void 0,r.eQt=void 0,r.$jt=function(){r.Zjt.removeEventListener("load",r.$jt),r.Zjt.contentWindow.postMessage({type:"initialize",id:r.hS,script:r.iQt},"*")},r.tQt=function(t){t.origin===r.eQt&&t.data.id===r.hS&&("initialized"===t.data.type||("error"===t.data.type?(r.So(new xY(new y(t.data.data.message))),r.jjt()):r.So(new NY("message",t.data.data))))},r.hS=LY++,r.iQt=n;var e=Vn.Dh("iframe.html",i);return r.Zjt=function(t){var n=v.createElement("iframe");return n.width="0",n.height="0",n.style.display="none",n.role="",n.src=t,v.body.appendChild(n),n}(e.href),r.eQt=e.origin,r.Zjt.addEventListener("load",r.$jt),self.addEventListener("message",r.tQt),r}Ct(n,t);var i=n.prototype;return i.qjt=function(t,n){n?this.Zjt.contentWindow.postMessage({type:"message",data:t},"*",n):this.Zjt.contentWindow.postMessage({type:"message",data:t},"*")},i.jjt=function(){var t;this.Zjt.removeEventListener("load",this.$jt),self.removeEventListener("message",this.tQt),null==(t=this.Zjt.contentWindow)||t.postMessage({type:"terminate"},"*"),$n(this.Zjt)},n}(th);function FY(t,n,i){var r=Vn.xm(t,n);return new OY(function(t){return function(t,n,i,r){return Vt(function(){var e,s,u,o,h,c,a;return zt(this,function(f){switch(f.label){case 0:return f.trys.push([0,2,,3]),[4,HY(e=new MY(t,i),r)];case 1:return f.sent(),[2,e];case 2:return s=f.sent(),null==e||e.jjt(),lr(s),[3,3];case 3:if(!VY||!Bd)return[3,13];f.label=4;case 4:return f.trys.push([4,7,,8]),[4,Vn.SP.lk({Yu:t,Uk:wl.GET,dk:Md.NT,Yg:r})];case 5:return[4,f.sent().UT(r)];case 6:return u=f.sent(),[3,8];case 7:return lr(f.sent()),[3,8];case 8:if(!u)return[3,13];f.label=9;case 9:return f.trys.push([9,11,12,13]),h=Bd([u],{type:"application/javascript"}),o=URL.createObjectURL(h),[4,HY(e=new MY(o,i),r)];case 10:return f.sent(),[2,e];case 11:return c=f.sent(),null==e||e.jjt(),lr(c),VY=!1,[3,13];case 12:return o&&URL.revokeObjectURL(o),[7];case 13:return f.trys.push([13,15,,16]),[4,HY(e=new UY(t,n),r)];case 14:return f.sent(),[2,e];case 15:throw a=f.sent(),null==e||e.jjt(),a;case 16:return[2]}})})()}(r,n,i,t)})}var VY=!0;function HY(t,n){return Vt(function(){var i;return zt(this,function(r){switch(r.label){case 0:return[4,t.ww(["message","error"],n)];case 1:if("error"===(i=r.sent()).type)throw function(t){return new fd(cd.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check the configuration of the libraryLocation.",t)}(i.error);if(!function(t){return Xn(t)&&"10.0.0"===t.sQt}(i.data))throw new fd(cd.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check that the worker's version matches THEOplayer's version (10.0.0).");return[2,i]}})})()}F(),Et();var WY=function(t){return t.nQt="gHt",t.rQt="WHt",t}({}),zY=function(t){return t.hQt="oQt",t.aQt="uQt",t}({}),XY=function(){function t(t){var n=this;this.lQt=void 0,this.dQt=void 0,this.zjt=void 0,this._Qt=0,this.AQt=Ju(),this.fQt=function(t){var i=t.data,r=i.bQt,e=n.AQt.get(r);if(e)if(n.AQt.delete(r),i.SQt===zY.hQt)e.Xy(i.TQt);else if(i.SQt===zY.aQt){var s=i.kQt,u=i.EQt?new y(i.EQt):void 0,o=new fd(cd.CONTENT_PROTECTION_INTERNAL_ERROR,"Error during AES128 decrypt. (code: "+s+")",u);e.jy(o)}},this.vQt=function(t){var i=new fd(cd.CONTENT_PROTECTION_INTERNAL_ERROR,t.error.message,t.error);n.zg(i)},this.lQt=t;try{this.dQt=Vn.xm("theoplayer.d.js",t)}catch(t){throw new fd(cd.CONFIGURATION_ERROR,"Invalid player configuration: missing libraryLocation",t)}}var n=t.prototype;return n.cQt=function(){var t=FY(this.dQt,this.lQt,{name:"THEOplayer decrypt worker"});return t.wn("message",this.fQt),t.wn("error",this.vQt),t},n.gHt=function(t,n,i){var r=""+ ++this._Qt,e={gQt:WY.nQt,pQt:r,mQt:t,wQt:n,yQt:i},s=new Vc;return this.AQt.set(r,s),null!=this.zjt||(this.zjt=this.cQt()),this.zjt.qjt(e),s.Qy},n.zg=function(t){void 0===t&&(t=new fr),this.AQt.forEach(function(n){return n.jy(t)}),this.AQt.clear(),this.zjt&&(this.zjt.jjt(),this.zjt=void 0)},t}();function qY(t){var n=Ui(t.boxes,rC);if(n){var i=Ui(n.boxes,eC);if(i)return i.handlerType}}function GY(t){var n,i=new wv;return(n=i.boxes).push.apply(n,[].concat(t.boxes)),i}function jY(t){var n,i=new Rf;return(n=i.boxes).push.apply(n,[].concat(t.boxes)),i}F(),Et(),Dt(),F(),Et(),Wt(),Dt(),Ut(),Qt(),F(),Et(),Wt(),Dt(),Ut(),Qt(),F(),Et(),H();var QY=8;function YY(t,n){for(var i=function(t){var n,i=new Vf;return(n=i.boxes).push.apply(n,[].concat(t.boxes)),i}(t),r=JY(n),e=0;e<i.boxes.length;e++){var s=i.boxes[e];if(s===n)i.boxes[e]=new $a(new E(n.getSize()-QY));else if(sC(s)){var u=s,o=Hi(u.boxes,function(t){return V(t,Ef)&&t.trackId===r});if(o>=0){var h=u.boxes[o],c=jY(u);c.boxes[o]=new $a(new E(h.getSize()-QY)),i.boxes[e]=c}}}return i}function KY(t,n){for(var i=function(t){var n,i=new Zf;return(n=i.boxes).push.apply(n,[].concat(t.boxes)),i}(t),r=0;r<i.boxes.length;r++){var e=i.boxes[r];if(hC(e)){var s=Ui(e.boxes,cC);s&&s.trackId===n&&(i.boxes[r]=new $a(new E(e.getSize()-QY)))}}return i}function JY(t){return Ui(t.boxes,iC).trackId}function ZY(t,n,i,r){for(var e,s=Ui(t.boxes,cC),u=i.JF(n).IF(),o=ue.ZERO,h=Lt(t.boxes);!(e=h()).done;){var c=e.value;if(V(c,Xf)){o=oe(c.baseMediaDecodeTime,u),c.baseMediaDecodeTime=c.baseMediaDecodeTime.subtract(o);break}if(V(c,zf)){o=oe(ue.fromNumber(c.baseMediaDecodeTime),u),c.baseMediaDecodeTime-=o.toNumber();break}}if(!o.isZero()){var a=Ui(t.boxes,aC);if(void 0!==a&&a.samples.length>0){var f=a.samples;if(!a.flags.sampleDurationPresent){a.flags.sampleDurationPresent=!0;for(var v,d=null!=r?r:s.defaultSampleDuration,l=Lt(f);!(v=l()).done;){v.value.duration=d}}f[0].duration+=o.toNumber(),a.samples=f}}}F(),Et(),H(),Ut();var $Y="Mp4Transmuxer",tK=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).j2=void 0,n.PQt=void 0,n.CQt=void 0,n.DQt=void 0,n.RQt=void 0,n}Ct(n,t);var i=n.prototype;return i.Vqt=function(t,n){dr(n);var i=t.UMt,r=UC(_c(t.bOt.ck.ck));if(!r)throw new y("Mp4Transmuxer - Unable to parse "+i.Km+" MP4 initializer.");this.j2=r;var e=function(t){for(var n,i,r,e=Lt(t.Z);!(r=e()).done;){var s=r.value;n||(n=s.T1),i||(i=s.S1)}if(n||i)return{yCt:n,bCt:i,ULt:void 0};return}(r);e&&this.zqt(i,e);var s=function(t){for(var n,i=Lt(t.Z);!(n=i()).done;){var r=n.value;if(void 0!==r.E1)return r.E1}return}(r);void 0!==s&&this.Gqt(i,s);var u=function(t){var n,i,r,e,s,u=kv(t),o=Ui(u.boxes,tC),h=o.boxes.filter(nC),c=Ui(h,function(t){return qY(t)===af.AUDIO}),a=Ui(h,function(t){return qY(t)===af.VIDEO}),f={yCt:{$D:c?JY(c):void 0},bCt:{$D:a?JY(a):void 0}},v=null==(n=Ui(o.boxes,sC))?void 0:n.boxes.filter(uC),d=v?{yCt:null!=(i=Ui(v,function(t){return t.trackId===f.yCt.$D}))?i:void 0,bCt:null!=(r=Ui(v,function(t){return t.trackId===f.bCt.$D}))?r:void 0}:void 0;if(d&&(f.yCt.NN=null==(e=d.yCt)?void 0:e.defaultSampleDuration,f.bCt.NN=null==(s=d.bCt)?void 0:s.defaultSampleDuration),!c||!a)return{yCt:c?t:void 0,bCt:a?t:void 0,DU:f};var l=GY(u),w=GY(u),g=u.boxes.indexOf(o);l.boxes[g]=YY(o,a),w.boxes[g]=YY(o,c);var _=l.serialize().join(),m=w.serialize().join();return{yCt:_,bCt:m,DU:f}}(t.bOt.ck.ck);if(this.PQt=u.DU,u.bCt){var o=Ui(r.Z,function(t){return t.$D===u.DU.bCt.$D}),h={Km:"FRt",ck:{Km:FR.vZ,ck:u.bCt},Lot:ig.Bk,kOt:t.kOt,Yqt:{frt:'video/mp4; codecs="'+o.S1+'"',MW:t.MW},EO:t.EO,UMt:t.UMt,hHt:t.bOt.hHt};this.fqt(h)}if(u.yCt){var c=Ui(r.Z,function(t){return t.$D===u.DU.yCt.$D}),a={Km:"FRt",ck:{Km:FR.vZ,ck:u.yCt},Lot:ig.Dk,kOt:t.kOt,Yqt:{frt:'audio/mp4; codecs="'+c.T1+'"',MW:t.MW},EO:t.EO,UMt:t.UMt,hHt:t.bOt.hHt};this.fqt(a)}return ut.resolve()},i.Wqt=function(t,n){return Vt(function(){var i,r,e,s,u,o,h,c,a,f,v,d,l,w,g,_,m,y,p,k,b,A,T;return zt(this,function(S){switch(S.label){case 0:if(dr(n),i=t.$at.hHt,_G.hB($Y,"Transmuxing fMP4: "+VG(i.nyt)),r=t.$at.ck,e=nK(r.ck,this.j2),void 0!==(s=tr(e.map(function(t){return t.Pet}),__))&&(i.xet=s,this.jqt(t.UMt)),this.qUt.gUt(t.kOt))return[3,2];if(u=g_.eU(i.EO),e.length>0){for(o=tr(e.map(function(t){return t.xQt}),__),h=Lt(this.Bqt);!(c=h()).done;)a=c.value,this.qUt.PUt(t.kOt,a,o,u,iK(i),!1);this.jqt(t.UMt)}return this.qUt.gUt(t.kOt)?[3,2]:[4,gr(this.qUt.mUt(t.kOt),n)];case 1:S.sent(),S.label=2;case 2:return f=this.qUt.TUt(t.kOt),v=i.xet?this.qUt.kUt(i.xet,i).iF():i.EO,d=KQ(i,v),l=JQ(i,d),g={lHt:d,fHt:l,EO:v,ct:null!=(w=i.ct)?w:0,bU:f.iF(),kOt:t.kOt,UMt:t.UMt,hHt:t.$at.hHt},_=function(t,n){if(void 0===n.yCt.$D)return{yCt:void 0,bCt:t};if(void 0===n.bCt.$D)return{yCt:t,bCt:void 0};for(var i=kv(t),r=GY(i),e=GY(i),s=0;s<i.boxes.length;s++){var u=i.boxes[s];oC(u)&&(r.boxes[s]=KY(u,n.bCt.$D),e.boxes[s]=KY(u,n.yCt.$D))}var o=r.serialize().join(),h=e.serialize().join();return{yCt:o,bCt:h}}(r.ck,this.PQt),_.bCt&&(y=this.PQt.bCt.$D,p=Ui(this.j2.Z,function(t){return t.$D===y}),k=Ui(e,function(t){return t.$D===y}),b=this.IQt(_.bCt,p,k,null==(m=this.PQt)?void 0:m.bCt.NN,i),this.RQt=p,this.Xqt(t.UMt,i,k.Pet.lF(s)),A=Yu({Km:"$at",ck:{Km:FR.vZ,ck:b},Lot:ig.Bk},g),this.fqt(A)),_.yCt&&(T=Yu({Km:"$at",ck:{Km:FR.vZ,ck:_.yCt},Lot:ig.Dk},g),this.fqt(T)),this.CQt=i,this.DQt=e,[2]}})}).call(this)},i.IQt=function(t,n,i,r,e){if(!iK(e))return t;if(!this.CQt||!this.RQt||!this.DQt)return t;var s=this.RQt.$D,u=Ui(this.DQt,function(t){return t.$D===s}),o=this.qUt.kUt(u.BQt,this.CQt),h=this.qUt.kUt(i.Pet,e).lF(o).JF(n.qD);if(h.hF(g_.wF))return t;if(h.eF(g_.eU(.5)))return t;var c=Xj(e)?e:e.tFt;return _G.uLt($Y,"Stretching first video frame of segment #"+c.aOt+" to fill gap of "+h.iF()+"s"),function(t,n,i,r){var e=kv(t),s=Ui(e.boxes,oC);if(s){for(var u,o=s.getSize(),h=Lt(s.boxes);!(u=h()).done;){var c=u.value;V(c,Kf)&&ZY(c,n,i,r)}var a=s.getSize();if(a!==o)for(var f,v=a-o,d=Lt(s.boxes);!(f=d()).done;){var l=f.value;V(l,Kf)&&fC(l,v)}}return e.serialize().join()}(t,n.qD,h,r)},n}(YQ);function nK(t,n){var i=vm(ym.TD(_c(t)),um.IC);if(!i)throw new y("Mp4Transmuxer - Unable to parse segment or part.");return function(t,n){for(var i,r=function(){var t=i.value;if(!t.GN||0===t.zN.length||0===t.zN[0].JN.length)return"continue";for(var r,s=t.gD.$D,u=Ui(n.Z,function(t){return t.$D===s}),o=0,h=1/0,c=0,a=t.gD.NN||0,f=Lt(t.zN);!(r=f()).done;)for(var v,d=Lt(r.value.JN);!(v=d()).done;){var l,w=v.value,g=w.ZN||0,_=o+g,m=(o+=null!=(l=w.ct)?l:a)+g;_<h&&(h=_),m>c&&(c=m)}var y=g_.gF(t.GN.GN,u.qD);e.push({$D:s,xQt:y,Pet:y.lO(g_.pF(h,u.qD)),NQt:y.lO(g_.pF(o,u.qD)),BQt:y.lO(g_.pF(c,u.qD))})},e=[],s=Lt(t.Z);!(i=s()).done;)r();return e}(i,n)}function iK(t){return Xj(t)?t.AOt:0===t.eFt&&t.tFt.AOt}var rK="MpegtsTransmuxer",eK=function(t){function n(n,i,r,e){var s;return(s=t.call(this,i,r,e)||this).pE=void 0,s.HQt=void 0,s.qQt=void 0,s.GQt=void 0,s.jQt=void 0,s.zQt=-1,s.XQt=-1,s.FQt=void 0,s.UQt=Zu(),s.pE=n,s}Ct(n,t);var i=n.prototype;return i.Vqt=function(n,i){return t.prototype.Vqt.call(this,n,i)},i.Oqt=function(n,i){if(t.prototype.Oqt.call(this,n,i),!this.pE.MQt()){var r,e=null!=(r=null==i?void 0:i.nyt)?r:n.nyt;if(e)/\.(ts|aac|mp3)/i.test(e.zE)&&this.pE.LQt()}},i.OQt=function(t){var n;return t.UMt===this.FQt&&this.UQt.has(t.kOt)?n=this.UQt.get(t.kOt):(n=lQ(t.$at.ck.ck),this.FQt=t.UMt,this.UQt.set(t.kOt,n)),n},i.Wqt=function(n,i){var r=this;return Vt(function(){var e,s,u,o,h,c,a,f,v,d,l,w,g,_,m,y,p,k,b,A,T,S,E,I,R,C,D,P,N,B,x,O,M;return zt(this,function(L){switch(L.label){case 0:if(dr(i),e=this.OQt(n),s=n.$at,e!==dQ.WVt&&e!==dQ.qVt)return[2,t.prototype.Wqt.call(r,n,i)];if(s.hHt.MW.some(uK))throw new fd(cd.CONTENT_PROTECTION_NOT_SUPPORTED,"SAMPLE-AES encryption is not supported for MPEG-TS or Packed Audio segments");return u=this.pE.LQt(),e!==dQ.WVt?[3,2]:(_G.hB(rK,"Transmuxing MPEG-TS: "+VG(s.hHt.nyt)),[4,u.VQt({data:s.ck.ck,metadata:this.HQt})]);case 1:return o=L.sent(),[3,4];case 2:return _G.hB(rK,"Transmuxing raw audio: "+VG(s.hHt.nyt)),[4,u.WQt({data:s.ck.ck,metadata:this.HQt})];case 3:o=L.sent(),L.label=4;case 4:if(dr(i),this.zqt(n.UMt,{yCt:o.metadata.audio_codec,bCt:o.metadata.video_codec,ULt:void 0}),o.metadata.video_frame_rate&&this.Gqt(n.UMt,o.metadata.video_frame_rate),h=oK(o.metadata.first_decode_timestamp),c=oK(o.metadata.first_presentation_timestamp),a=void 0!==o.metadata.first_video_presentation_timestamp?oK(o.metadata.first_video_presentation_timestamp):void 0,s.hHt.xet=c,this.jqt(n.UMt),void 0!==a&&this.Xqt(n.UMt,s.hHt,function(t,n){var i=t.lF(n);return i.aF(g_.wF)&&(i=i.lO(p_())),i}(a,c)),this.qUt.gUt(n.kOt))return[3,6];for(f=g_.eU(s.hHt.EO),v=Lt(this.Bqt);!(d=v()).done;)l=d.value,this.qUt.PUt(n.kOt,l,h,f,iK(s.hHt),!0);return this.jqt(n.UMt),this.qUt.gUt(n.kOt)?[3,6]:[4,gr(this.qUt.mUt(n.kOt),i)];case 5:L.sent(),L.label=6;case 6:if(w=this.qUt.EUt(h,s.hHt),this.HQt=o.metadata,g=this.qUt.kUt(c,s.hHt).iF(),_=KQ(s.hHt,g),m=JQ(s.hHt,_),p={lHt:_,fHt:m,EO:g,ct:null!=(y=s.hHt.ct)?y:0,bU:w.iF(),kOt:n.kOt,UMt:n.UMt,hHt:s.hHt},void 0===o.data.audio_media&&void 0===o.data.video_media){for(k=Lt(this.Bqt);!(b=k()).done;)A=b.value,T=Yu({Km:"$at",ck:void 0,Lot:A},p),this.fqt(T);return[2]}return S=[],void 0!==o.data.audio_media?(!o.data.audio_init||this.qQt&&this.zQt===n.kOt&&Dc(this.qQt,o.data.audio_init)||(E=this.qUt.kUt(s.hHt.xet,s.hHt).iF(),I={Km:"FRt",ck:{Km:FR.vZ,ck:o.data.audio_init},Lot:ig.Dk,kOt:n.kOt,Yqt:{frt:'audio/mp4; codecs="'+o.metadata.audio_codec+'"',MW:s.hHt.MW},EO:E,UMt:n.UMt,hHt:s.hHt},this.qQt=o.data.audio_init,this.zQt=n.kOt,this.fqt(I)),R=Yu({Km:"$at",ck:{Km:FR.vZ,ck:o.data.audio_media},Lot:ig.Dk},p),this.fqt(R)):n.$at.hHt.ZOt&&ji(this.Bqt,ig.Dk)&&(C=Yu({Km:"$at",ck:void 0,Lot:ig.Dk},p),this.fqt(C)),void 0!==o.data.video_media?(!o.data.video_init||this.GQt&&this.XQt===n.kOt&&Dc(this.GQt,o.data.video_init)||(D=this.qUt.kUt(s.hHt.xet,s.hHt).iF(),P={Km:"FRt",ck:{Km:FR.vZ,ck:o.data.video_init},Lot:ig.Bk,kOt:n.kOt,Yqt:{frt:'video/mp4; codecs="'+o.metadata.video_codec+'"',MW:s.hHt.MW},EO:D,UMt:n.UMt,hHt:s.hHt},this.GQt=o.data.video_init,this.XQt=n.kOt,this.jQt=UC(_c(o.data.video_init)),this.fqt(P)),N=this.jQt.Z[0],B=nK(o.data.video_media,this.jQt)[0],x=this.IQt(o.data.video_media,N,B,void 0,s.hHt),this.RQt=N,O=Yu({Km:"$at",ck:{Km:FR.vZ,ck:x},Lot:ig.Bk},p),this.fqt(O),S.push(B)):n.$at.hHt.ZOt&&ji(this.Bqt,ig.Bk)&&(M=Yu({Km:"$at",ck:void 0,Lot:ig.Bk},p),this.fqt(M)),this.CQt=s.hHt,this.DQt=S,[2]}})}).call(this)},i.Zg=function(){this.qQt=void 0,this.GQt=void 0,this.zQt=-1,this.XQt=-1,t.prototype.Zg.call(this)},n}(tK),sK=function(){function t(){}return t.prototype.YSt=function(t,n,i){return new eK(this,t,n,i)},t}();function uK(t){return t.Uk===UG.ELt}function oK(t){return g_.gF(ue.fromBits(t.low,t.high),t.base)}F(),Et(),F(),Et();var hK=function(t){return t[t.MPEGTS_TO_FMP4=0]="MPEGTS_TO_FMP4",t[t.RAW_AUDIO_TO_FMP4=1]="RAW_AUDIO_TO_FMP4",t}({}),cK=function(){var t=function(){if("undefined"==typeof WebAssembly)return!1;var t=On.d_;if(t>0&&t<=56)return!1;try{return void 0!==new WebAssembly.Module(mh("AGFzbQEAAAA="))}catch(t){return!1}}();return cK=function(){return t},t};var aK=function(){function t(t){var n=this;this.lQt=void 0,this.dQt=void 0,this.zjt=void 0,this._Qt=0,this.AQt=Zu(),this.fQt=function(t){var i=t.data;if(void 0!==i.requestId){var r=n.AQt.get(i.requestId);if(!r)return;n.AQt.delete(i.requestId),i.success?r.Xy(i.output):r.jy(new fd(i.errorCode,i.error))}else i.success||n.zg(new fd(i.errorCode,i.error))},this.vQt=function(t){var i=new fd(cd.MEDIA_DECODE_ERROR,t.error.message,t.error);n.zg(i)},this.lQt=t;var i=cK()?"THEOplayer.transmux.js":"THEOplayer.transmux.asmjs.js";try{this.dQt=Vn.xm(i,t)}catch(t){throw new fd(cd.CONFIGURATION_ERROR,"Invalid player configuration: missing libraryLocation",t)}this.zjt=this.cQt()}var n=t.prototype;return n.VQt=function(t){return this.QQt(hK.MPEGTS_TO_FMP4,t)},n.WQt=function(t){return this.QQt(hK.RAW_AUDIO_TO_FMP4,t)},n.cQt=function(){var t=FY(this.dQt,this.lQt,{name:"THEOplayer transmux worker"});return t.wn("message",this.fQt),t.wn("error",this.vQt),t},n.QQt=function(t,n){var i=++this._Qt,r={type:t,id:i,input:n},e=new Vc;return this.AQt.set(i,e),this.zjt.qjt(r),e.Qy},n.zg=function(t){void 0===t&&(t=new fr),this.AQt.forEach(function(n){return n.jy(t)}),this.AQt.clear(),this.zjt.jjt()},t}(),fK=function(t){function n(n){var i;return(i=t.call(this)||this).KQt=void 0,i.zjt=void 0,i.KQt=n,i.zjt=void 0,i}Ct(n,t);var i=n.prototype;return i.MQt=function(){return void 0!==this.zjt},i.LQt=function(){var t;return null!=(t=this.zjt)?t:this.zjt=new aK(this.KQt)},i.zg=function(){this.zjt&&(this.zjt.zg(),this.zjt=void 0)},n}(sK),vK=function(){function t(t){this.KQt=void 0,this.KQt=t}return t.prototype.Ret=function(){return new fK(this.KQt)},t}(),dK=function(t){function n(n,i,r,e,s){var u,o=function(t){return PY.LS()?new PY:new XY(t)}(s.libraryLocation),h=new vK(s.libraryLocation),c=new aW(SW.Ng.lPt,SW.Ng.dPt,SW.Ng.ect,SW.Ng.vPt);return(u=t.call(this,n,i,r,e,o,h,c,s)||this).CPt=void 0,On.X_&&(u.CPt=new RO(u)),u}Ct(n,t);var i=n.prototype;return i.Wx=function(){return this.TL.Wx()},i.kn=function(){var n=this;return Vt(function(){var i;return zt(this,function(r){switch(r.label){case 0:return[4,t.prototype.kn.call(n)];case 1:return r.sent(),null==(i=this.CPt)||i.kn(),[2]}})}).call(this)},Nt(n,[{key:"Vx",get:function(){return this.TL.Vx},set:function(t){this.TL.Vx=t}}]),n}(IY),lK=function(t){function n(n,i,r,e,s){var u,o=new IO(n),h=o.Gq(ig.Bk);return(u=t.call(this,h,i,r,e,s)||this).xq=void 0,u.xq=o,u}return Ct(n,t),n.prototype.kn=function(){var n=this;return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return[4,t.prototype.kn.call(n)];case 1:return i.sent(),[4,this.xq.Pq(this.TL)];case 2:return i.sent(),[2]}})}).call(this)},n}(dK),wK=function(t){function n(){return t.apply(this,arguments)||this}Ct(n,t);var i=n.prototype;return i.Xq=function(n,i){return!!De(n.useManagedMediaSource)&&(!(!n.useManagedMediaSource&&(On.ru||On.Tg))&&t.prototype.Xq.call(this,n,i))},i.jq=function(n){var i=this;return Vt(function(){return zt(this,function(r){return n.clearkey&&!n.fairplay&&On.X_?[2,!1]:[2,t.prototype.jq.call(i,n)]})})()},n}(DY),gK=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Kq=kb.dR,n}Ct(n,t);var i=n.prototype;return i.PR=function(t,n,i,r,e,s,u){return new lK(n,i,e,s,r)},i.Qq=function(){return!0},n}(wK);XT(new gK),_G.Rt=function(){var t;return Boolean(null==(t=f)?void 0:t.THEOplayerDebugLogsEnabled)},F(),Et(),F(),Et(),Wt(),Dt(),Qt(),F(),Et(),Wt(),Dt(),Qt(),F(),Et();var _K=function(){function t(){}var n=t.prototype;return n.Uct=function(t,n){return ut.resolve(!1)},n.iut=function(t,n){return ut.resolve(void 0)},n.HSt=function(t){return ut.resolve(void 0)},n.WJ=function(t){return ut.resolve(void 0)},t}(),mK=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Ac=void 0,e.Fkt=void 0,e.JQt=void 0,e.nKt=void 0,e.j6=void 0,e.$Qt=void 0,e.nT=new hr,e.Ac=n,e.Fkt=new eQ(r,new _K,n.useCredentials,n.src,n.liveOffset),e.Fkt.wn(eh.qw,e.Rs),e.j6=!1,e}Ct(n,t);var i=n.prototype;return i.YQt=function(){var t;return null==(t=this.JQt)?void 0:t.IMt},i.Tn=function(){var t=this;kr(gT(function(){return t.ZQt(t.nT.Yg)},this.nT.Yg))},i.ZQt=function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,this.Fkt.dVt(t)];case 1:return n.sent(),this.$Qt&&(this.tKt(this.$Qt.Ti,this.$Qt.Mi),this.$Qt=void 0),this.j6=!0,[2]}})}).call(this)},i.iKt=function(t,n){this.j6?this.tKt(t,n):this.$Qt={Ti:t,Mi:n}},i.tKt=function(t,n){var i=this.eKt(t,n),r=null==i?void 0:i.UOt[0];r!==this.JQt&&(this.sKt(),void 0!==r&&(this.JQt=r,this.nKt=new pQ(this.Fkt,r),this.nKt.PHt()))},i.sKt=function(){this.JQt=void 0,this.nKt&&(this.nKt.zg(),this.nKt=void 0)},i.eKt=function(t,n){var i=Ui(this.Fkt.Br.HUt,function(i){return void 0!==i.uCt&&i.uCt.Ti===t&&i.uCt.Mi===n});return null!=i?i:this.Fkt.Br.HUt[0]},i.kn=function(){this.Vo(),this.nT.Zg(),this.nT.zg(),this.sKt(),this.Fkt.zg()},n}(th);F(),Et(),Bt(),Dt(),Ut();var yK=function(t){function n(n){var i;(i=t.call(this)||this).B8=void 0,i.B8=n;for(var r,e=Lt(QT);!(r=e()).done;){var s=r.value;i.B8.wn(s,i.Rs)}return i}Ct(n,t);var i=n.prototype;return i.OP=function(t,n){this.MP=t},i.jx=function(){return this.B8.jx()},i.Hx=function(){return this.B8.Hx()},i.Aa=function(){return this.B8.Aa()},i.tI=function(t){return this.B8.tI(t)},i.Wx=function(){return this.B8.Wx()},i.we=function(){return this.B8.we()},i.Yx=function(){return this.B8.Yx()},i.Jx=function(){return this.B8.Jx()},i.zx=function(){return this.B8.zx()},i.Gx=function(){return this.B8.Gx()},i.hr=function(){return this.B8.hr()},i.Ta=function(t,n,i){return this.B8.Ta(t,n,i)},i.Px=function(t,n,i,r){return this.B8.Px(t,n,i,r)},i.xx=function(){return this.B8.xx()},i.be=function(){return this.B8.be()},i.Qx=function(){return this.B8.Qx()},i.Kx=function(){return this.B8.Kx()},i.kn=function(){this.Vo();for(var t,n=Lt(QT);!(t=n()).done;){var i=t.value;this.B8.mn(i,this.Rs)}return this.B8.kn()},Nt(n,[{key:"ht",get:function(){return this.B8.ht}},{key:"IP",get:function(){return this.B8.IP}},{key:"CP",get:function(){return this.B8.CP},set:function(t){this.B8.CP=t}},{key:"bt",get:function(){return this.B8.bt}},{key:"MP",get:function(){return this.B8.MP},set:function(t){this.B8.MP=t}},{key:"ct",get:function(){return this.B8.ct}},{key:"UP",get:function(){return this.B8.UP}},{key:"WP",get:function(){return this.B8.WP}},{key:"zP",get:function(){return this.B8.zP}},{key:"jP",get:function(){return this.B8.jP}},{key:"lt",get:function(){return this.B8.lt}},{key:"KP",get:function(){return this.B8.KP}},{key:"JP",get:function(){return this.B8.JP}},{key:"$P",get:function(){return this.B8.$P},set:function(t){this.B8.$P=t}},{key:"sx",get:function(){return this.B8.sx}},{key:"hx",get:function(){return this.B8.hx}},{key:"ux",get:function(){return this.B8.ux},set:function(t){this.B8.ux=t}},{key:"_x",get:function(){return this.B8._x}},{key:"mx",get:function(){return this.B8.mx},set:function(t){this.B8.mx=t}},{key:"Ax",get:function(){return this.B8.Ax}},{key:"Sx",get:function(){return this.B8.Sx}},{key:"kx",get:function(){return this.B8.kx}},{key:"nq",get:function(){return this.B8.nq}},{key:"nt",get:function(){return this.B8.nt}},{key:"Rx",get:function(){return this.B8.Rx}},{key:"rt",get:function(){return this.B8.rt}},{key:"Bx",get:function(){return this.B8.Bx}},{key:"Mx",get:function(){return this.B8.Mx},set:function(t){this.B8.Mx=t}},{key:"Fx",get:function(){return this.B8.Fx}},{key:"Vx",get:function(){return this.B8.Vx},set:function(t){this.B8.Vx=t}},{key:"hq",get:function(){return this.B8.hq}},{key:"BL",get:function(){}}]),n}(ih),pK=function(t){function n(n,i,r){var e;return(e=t.call(this,n)||this).rKt=void 0,e.hKt=void 0,e.oKt=!1,e.BVt=void 0,e.N7=void 0,e.handleManifestUpdate=function(t){e.So(t);var n=e.rKt.YQt();if(n){var i=e.nq;if(i){var r=i.getTime(),s=e.BVt;s||(s=new Nj,e.BVt=s),s.er(n.EOt,function(t){return(t.getTime()-r)/1e3}),!e.oKt&&s.L.V>0&&(e.nt.tt(s),e.N7.tt(s),e.oKt=!0)}}},e.CXt=function(){e.rKt&&e.rKt.iKt(e.Bx,e.Rx)},e.hKt=i,e.N7=new jP(e),e.wn(eh.Jw,e.CXt),e}Ct(n,t);var i=n.prototype;return i.Ta=function(n,i,r){var e=this;return Vt(function(){return zt(this,function(s){switch(s.label){case 0:return[4,t.prototype.Ta.call(e,n,i,r)];case 1:return s.sent(),n.hlsDateRange&&this.$wt(n,i),[2]}})}).call(this)},i.$wt=function(t,n){this.rKt=new mK(t,n,this.hKt),this.rKt.wn(eh.qw,this.handleManifestUpdate),this.rKt.Tn()},i.hr=function(){return this.BVt&&(this.nt.it(this.BVt),this.N7.it(this.BVt),this.BVt.kn(),this.BVt=void 0,this.oKt=!1),this.rKt&&(this.rKt.kn(),this.rKt=void 0),this.N7.hr(),t.prototype.hr.call(this)},i.kn=function(){return this.mn(eh.Jw,this.CXt),this.rKt&&(this.rKt.kn(),this.rKt=void 0),this.N7.kn(),t.prototype.kn.call(this)},n}(yK);!function(t){HT.Yq().Jq(t)}(function(t,n,i){return new pK(t,n,i)}),F(),Et(),F(),Et(),F(),Et(),Wt(),Dt(),Qt(),F(),Et(),Wt(),Qt(),F(),Et(),Bt(),Dt();var kK=function(t){function n(n,i){var r;return void 0===i&&(i=""),(r=t.call(this,"An error occurred while casting.")||this).errorCode=void 0,r.description=void 0,r.errorCode=n,r.description=i,r}return Ct(n,t),Nt(n,[{key:"name",get:function(){return"CastError"}}]),n}(ar);function bK(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return EK()?[3,2]:[4,AK(t)];case 1:n.sent(),n.label=2;case 2:return SK()?[3,4]:[4,Ar(100,t)];case 3:n.sent(),n.label=4;case 4:return SK()?[3,6]:(Vn.um('Detected the Chromecast library was loaded without the CAF framework. It is strongly encouraged to load it with the CAF framework by using this URL: "//www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1"'),[4,TK()]);case 5:n.sent(),n.label=6;case 6:return[2]}})})()}function AK(t){return Vt(function(){var n,i,r,e,s,u;return zt(this,function(o){return(null==t?void 0:t.Hg)?[2,ut.reject(new fr)]:(n=function(){var t,n;return{Qy:new ut(function(i,r){t=i,n=r}),Xy:t,jy:n}}(),i=n.Qy,r=n.Xy,e=n.jy,s=f.__onGCastApiAvailable,u=function(){f.__onGCastApiAvailable=s,e(new fr)},f.__onGCastApiAvailable=function(n,i){n?r():e(new y(i)),null==t||t.jg(u),f.__onGCastApiAvailable=s,s&&s(n,i)},null==t||t.Xg(u),[2,i])})})()}var TK=_i(function(){return function(t){return new ut(function(n,i){var r=v.createElement("script");r.onload=function(){return n()},r.onerror=function(t){return i((null==t?void 0:t.error)||t)},r.type="text/javascript",r.src=t,(v.head||v.documentElement).appendChild(r)})}("//www.gstatic.com/cast/sdk/libs/sender/1.0/cast_framework.js").catch(function(){throw new kK("API_NOT_INITIALIZED","The Chromecast library could not be loaded successfully.")})});function SK(){return Boolean("undefined"!=typeof cast&&cast.framework)}function EK(){return"undefined"!=typeof chrome&&chrome&&chrome.cast&&chrome.cast.isAvailable}function IK(t,n,i,r){if(Un(n))for(var e,s=Lt(k.keys(n));!(e=s()).done;){var u=e.value;if("type"!==u&&"images"!==u){var o=n[u];Un(o)&&(t[u]=o)}}!function(t,n,i,r){if(!Un(i)&&!Un(null==n?void 0:n.images))return;t.images=[],i&&t.images.push(new r.Image(i));if(null==n?void 0:n.images)if(qn(n.images))t.images.push(new r.Image(n.images));else if(Hn(n.images))for(var e,s=Lt(n.images);!(e=s()).done;){var u,o,h=e.value,c=void 0;if(qn(h))c=new r.Image(h);else(c=new r.Image(h.src)).height=null!=(u=h.height)?u:null,c.width=null!=(o=h.width)?o:null;t.images.push(c)}}(t,n,i,r)}function RK(t,n,i){return void 0===i&&(i=chrome),function(t,n,i){switch(null==t?void 0:t.type){case"movie":var r=new i.MovieMediaMetadata;return IK(r,t,n,i),r;case"audio":var e=new i.MusicTrackMediaMetadata;return IK(e,t,n,i),!Un(e.artist)&&Un(t.artistName)&&(e.artist=t.artistName),e;case"tv-show":var s=new i.TvShowMediaMetadata;return IK(s,t,n,i),!Un(s.title)&&Un(t.episodeTitle)&&(s.title=t.episodeTitle),!Un(s.season)&&Un(t.seasonNumber)&&(s.season=t.seasonNumber),!Un(s.episode)&&Un(t.episodeNumber)&&(s.episode=t.episodeNumber),s;default:var u=new i.GenericMediaMetadata;return IK(u,t,n,i),u}}(t,n,function(t){return{GenericMediaMetadata:t.cast.media.GenericMediaMetadata,MovieMediaMetadata:t.cast.media.MovieMediaMetadata,TvShowMediaMetadata:t.cast.media.TvShowMediaMetadata,MusicTrackMediaMetadata:t.cast.media.MusicTrackMediaMetadata,Image:t.cast.Image}}(i))}function CK(t){switch(t){case chrome.cast.ErrorCode.CANCEL:return"CANCEL";case chrome.cast.ErrorCode.TIMEOUT:return"TIMEOUT";case chrome.cast.ErrorCode.API_NOT_INITIALIZED:return"API_NOT_INITIALIZED";case chrome.cast.ErrorCode.INVALID_PARAMETER:return"INVALID_PARAMETER";case chrome.cast.ErrorCode.EXTENSION_NOT_COMPATIBLE:return"EXTENSION_NOT_COMPATIBLE";case chrome.cast.ErrorCode.EXTENSION_MISSING:return"EXTENSION_MISSING";case chrome.cast.ErrorCode.RECEIVER_UNAVAILABLE:return"RECEIVER_UNAVAILABLE";case chrome.cast.ErrorCode.SESSION_ERROR:return"SESSION_ERROR";case chrome.cast.ErrorCode.CHANNEL_ERROR:return"CHANNEL_ERROR";case chrome.cast.ErrorCode.LOAD_MEDIA_FAILED:return"LOAD_MEDIA_FAILED";default:return"CANCEL"}}function DK(t){if(t.items&&t.items.length>0&&Un(t.currentItemId)&&t.currentItemId>=0)return Ui(t.items,function(n){return n.itemId===t.currentItemId})}F(),Et(),Wt(),Dt(),Ut(),Qt(),F(),Et(),Bt(),Dt(),F(),Et(),F(),Et(),Ut(),F(),Et();var PK="urn:x-cast:com.theoplayer.cast";F(),Et(),F(),Et();var NK=function(t){return t.aKt="theoplayer_receiver_info",t.uKt="theoplayer_trackpropertychange",t.cKt="theoplayer_propertychange",t}({});F(),Et();var BK=function(t){return t.SKIP_AD="SKIP_AD",t}({});F(),Et();function xK(t){v.createElement("img").src=t}F(),Et(),Ut(),F(),Et(),Wt(),Bt(),Qt(),F(),Et();var OK=new RegExp(/^(\d\d):(\d\d):(\d\d)(?:\.(\d{3}))?$/);function MK(t){if(qn(t)){var n=t.match(OK);if(n)return 3600*A(n[1],10)+60*A(n[2],10)+Number(n[3])+(Number(n[4])||0)/1e3}}function LK(t){if(void 0!==t){var n=t.match(/^([1-9]?\d|100)%$/);if(n)return A(n[1])/100}}function UK(t,n){return"vmap"===t.type||!Un(t.type)&&!Un(n)}function FK(t,n){return"vast"===t.type||!Un(t.type)&&Un(n)}F(),Et(),Wt(),H(),Ut(),Qt(),F(),Et(),Bt(),Dt(),F(),Et();var VK=function(){},HK=function(t){function n(n){var i;return(i=t.call(this)||this).qc=void 0,i.fKt=void 0,i.qc=n.sort(function(t,n){return t.VN-n.VN}),i}return Ct(n,t),n.prototype.lKt=function(){return null!=this.fKt||(this.fKt=Ji(this.qc,function(t){return t.lKt()})),this.fKt},Nt(n,[{key:"dKt",get:function(){return this.qc}}]),n}(VK);F(),Et(),Bt(),Dt(),Ut(),F(),Et(),Bt(),Dt();var WK=function(t){function n(n,i){var r;return(r=t.call(this)||this).vKt=void 0,r._Kt=void 0,r.pKt=void 0,r.vKt=n,r._Kt=i,r.pKt=!1,r}return Ct(n,t),Nt(n,[{key:"o",get:function(){return this.vKt}},{key:"VN",get:function(){return this._Kt}},{key:"gKt",get:function(){return this.pKt}}]),n}(VK),zK=function(t){function n(n,i,r,e,s,u,o){var h;return(h=t.call(this,n,i)||this).AKt=void 0,h.SKt=void 0,h.kKt=void 0,h.wKt=void 0,h.JW=void 0,h.EKt=void 0,h.AKt=r,h.SKt=e,h.kKt=s,h.wKt=u,h.JW=o,h}return Ct(n,t),n.prototype.lKt=function(){if(void 0===this.EKt){for(var t,n,i,r,e=[],s=Lt(this.wKt);!(r=s()).done;){var u=r.value;u.PKt&&(t=u.PKt),u.xKt&&(n=u.xKt),u.IKt&&(i=u.IKt),e=e.concat(u.universalAdIds)}this.EKt={TKt:this.TKt,PKt:t,RKt:n,IKt:i,lt:this.lt,CKt:e}}return[this.EKt]},Nt(n,[{key:"mKt",get:function(){return this.wKt}},{key:"yKt",get:function(){return this.AKt}},{key:"bKt",get:function(){return this.SKt}},{key:"TKt",get:function(){return this.kKt}},{key:"lt",get:function(){return this.JW}}]),n}(WK);F(),Et(),Bt(),Dt(),Ut(),F(),Et(),Bt();var XK=function(){function t(t,n){this.BKt=void 0,this.MKt=void 0,this.BKt=t,this.MKt=n}return Nt(t,[{key:"DKt",get:function(){return this.BKt}},{key:"NKt",get:function(){return this.MKt}}]),t}(),qK=function(){function t(t,n,i,r,e,s){this.OKt=void 0,this.UKt=void 0,this.HKt=void 0,this.qKt=void 0,this.QKt=void 0,this.XKt=void 0,this.zKt=void 0,this.AKt=void 0,this.OKt=t,this.UKt=n,this.HKt=i,this.qKt=r,this.QKt=!1,this.XKt=e,this.AKt=s}return t.prototype.KKt=function(){this.QKt=!0},Nt(t,[{key:"LKt",get:function(){return this.OKt}},{key:"FKt",get:function(){return this.UKt}},{key:"VKt",get:function(){return this.HKt}},{key:"WKt",get:function(){return this.qKt}},{key:"od",get:function(){return this.zKt},set:function(t){this.zKt=t}},{key:"GKt",get:function(){return this.XKt}},{key:"jKt",get:function(){return this.QKt}},{key:"yKt",get:function(){return this.AKt}}]),t}();F(),Et(),Bt();var GK=function(t){return t.YKt="all",t.JKt="any",t.lz="none",t}({});var jK=function(){function t(t,n){this.$Kt=void 0,this.iYt=void 0,this.$Kt=t,this.iYt=n}return Nt(t,[{key:"ZKt",get:function(){return this.$Kt}},{key:"tYt",get:function(){return this.iYt}}]),t}(),QK=function(){function t(t,n,i,r,e,s,u,o,h,c,a,f,v,d,l,w){this.sb=void 0,this.hb=void 0,this.hS=void 0,this.sYt=void 0,this.rYt=void 0,this.oYt=void 0,this.uYt=void 0,this.dYt=void 0,this.fYt=void 0,this._Yt=void 0,this.OKt=void 0,this.UKt=void 0,this.HKt=void 0,this.pYt=void 0,this.mYt=void 0,this.yYt=void 0,this.sb=t,this.hb=n,this.hS=i,this.sYt=r,this.rYt=e,this.oYt=s,this.uYt=u,this.dYt=o,this.fYt=h,this._Yt=c,this.OKt=a,this.UKt=f,this.HKt=v,this.pYt=d,this.mYt=l,this.yYt=w}return Nt(t,[{key:"o",get:function(){return this.hS}},{key:"Ti",get:function(){return this.sb}},{key:"Mi",get:function(){return this.hb}},{key:"eYt",get:function(){return this.sYt}},{key:"nYt",get:function(){return this.rYt}},{key:"hYt",get:function(){return this.oYt}},{key:"aYt",get:function(){return this.uYt}},{key:"cYt",get:function(){return this.dYt}},{key:"lYt",get:function(){return this.fYt}},{key:"vYt",get:function(){return this._Yt}},{key:"LKt",get:function(){return this.OKt}},{key:"FKt",get:function(){return this.UKt}},{key:"VKt",get:function(){return this.HKt}},{key:"gYt",get:function(){return this.pYt}},{key:"NKt",get:function(){return this.mYt}},{key:"wYt",get:function(){return this.yYt}}]),t}();F(),Et(),Bt();var YK=function(){function t(t,n){this.hS=void 0,this.rFt=void 0,this.hS=t,this.rFt=n}return Nt(t,[{key:"id",get:function(){return this.hS}},{key:"uri",get:function(){return this.rFt}}]),t}(),KK=function(){function t(t,n,i,r){this.bYt=void 0,this.TYt=void 0,this.EYt=void 0,this.xYt=void 0,this.bYt=t,this.TYt=n,this.EYt=i,this.xYt=r}return Nt(t,[{key:"AYt",get:function(){return this.bYt}},{key:"SYt",get:function(){return this.TYt}},{key:"kYt",get:function(){return this.EYt}},{key:"PYt",get:function(){return this.xYt}}]),t}(),JK=function(t){function n(n,i,r,e,s,u,o,h,c){var a;return(a=t.call(this,n,i)||this).kKt=void 0,a.RYt=void 0,a.DYt=void 0,a.NYt=void 0,a.LYt=void 0,a.wKt=void 0,a.JW=void 0,a.fKt=void 0,a.kKt=r,a.RYt=e,a.DYt=s,a.wKt=u,a.NYt=o,a.LYt=h,a.JW=c,a}Ct(n,t);var i=n.prototype;return i.lKt=function(){var t=this;return void 0===this.RYt?[]:(null!=this.fKt||(this.fKt=this.RYt.lKt().map(function(n){return t.OYt(n)})),this.fKt)},i.OYt=function(t){for(var n,i,r,e,s=Lt(this.mKt);!(e=s()).done;){var u=e.value;u.PKt&&(n=u.PKt),u.xKt&&(i=u.xKt),u.IKt&&(r=u.IKt)}var o=t.TKt.concat(this.TKt),h=t.PKt;if(n&&t.PKt){var c=new KK(t.PKt.FYt.AYt,t.PKt.FYt.SYt,t.PKt.FYt.kYt.concat(n.FYt.kYt),t.PKt.FYt.PYt.concat(n.FYt.PYt));(h=t.PKt).FYt=c,h.NKt=h.NKt.concat(n.NKt)}var a=t.RKt;if(i&&i.DKt){for(var f,v,d,l=[],w=Lt(i.DKt);!(d=w()).done;){var g=d.value;l.concat(g.WKt.kYt)}for(var _,m,y,p=[],k=Lt(null!=(_=null==(f=t.RKt)?void 0:f.DKt)?_:[]);!(m=k()).done;){var b,A,T,S=m.value,E=new KK(S.WKt.AYt,S.WKt.SYt,S.WKt.kYt.concat(l),(null!=(A=null==(b=t.PKt)?void 0:b.FYt.PYt)?A:[]).concat(null!=(T=null==n?void 0:n.FYt.PYt)?T:[]));p.push(new qK(S.LKt,S.FKt,S.VKt,E,S.GKt,S.yKt))}a=new XK(p,(null!=(y=null==(v=t.RKt)?void 0:v.NKt)?y:[]).concat(i.NKt))}var I=t.IKt;if(I){var R,C,D,P=I.ZKt;r&&r.ZKt&&(P=r.ZKt),I=new jK(P,(null!=(C=null==(R=t.IKt)?void 0:R.tYt)?C:[]).concat(null!=(D=null==r?void 0:r.tYt)?D:[]))}var N=t.lt;return this.lt&&(N=this.lt),{TKt:o,PKt:h,RKt:a,IKt:I,lt:N,CKt:t.CKt}},Nt(n,[{key:"TKt",get:function(){return this.kKt}},{key:"IYt",get:function(){return this.RYt}},{key:"CYt",get:function(){return this.DYt}},{key:"mKt",get:function(){return this.wKt}},{key:"BYt",get:function(){return this.NYt}},{key:"MYt",get:function(){return this.LYt}},{key:"lt",get:function(){return this.JW}}]),n}(WK);F(),Et(),Bt();var ZK=function(){function t(t,n,i,r,e,s,u,o){this.hS=void 0,this.VYt=void 0,this.WYt=void 0,this.dYt=void 0,this.qYt=void 0,this.zYt=void 0,this.GYt=void 0,this.XYt=void 0,this.hS=t,this.VYt=n,this.WYt=i,this.dYt=r,this.qYt=e,this.zYt=s,this.GYt=u,this.XYt=o}return Nt(t,[{key:"o",get:function(){return this.hS}},{key:"UYt",get:function(){return this.VYt}},{key:"HYt",get:function(){return this.WYt}},{key:"cYt",get:function(){return this.dYt}},{key:"PKt",get:function(){return this.qYt}},{key:"xKt",get:function(){return this.zYt}},{key:"IKt",get:function(){return this.GYt}},{key:"universalAdIds",get:function(){return this.XYt}}]),t}();F(),Et(),Bt();var $K=function(){function t(t,n,i,r,e,s,u,o,h){this.jYt=void 0,this.KYt=void 0,this.iJt=void 0,this.MKt=void 0,this.YYt=void 0,this.ZYt=void 0,this.QKt=void 0,this.XKt=void 0,this.zKt=void 0,this.AKt=void 0,this.sJt=void 0,this.rJt=void 0,this.jYt=t,this.KYt=n,this.MKt=i,this.YYt=r,this.ZYt=e,this.QKt=!1,this.XKt=s,this.AKt=u,this.sJt=o,this.rJt=h}return t.prototype.KKt=function(){this.QKt=!0},Nt(t,[{key:"ct",get:function(){return this.jYt}},{key:"QYt",get:function(){return this.KYt}},{key:"NKt",get:function(){return this.MKt},set:function(t){this.MKt=t}},{key:"FYt",get:function(){return this.YYt},set:function(t){this.YYt=t}},{key:"JYt",get:function(){return this.ZYt},set:function(t){this.ZYt=t}},{key:"$Yt",get:function(){return this.QKt}},{key:"od",get:function(){return this.zKt},set:function(t){this.zKt=t}},{key:"GKt",get:function(){return this.XKt}},{key:"yKt",get:function(){return this.AKt}},{key:"tJt",get:function(){return this.iJt},set:function(t){this.iJt=t}},{key:"eJt",get:function(){return this.sJt}},{key:"nJt",get:function(){return this.rJt}}]),t}();function tJ(t,n){return eJ(t)&&t.getAttribute(n)||void 0}function nJ(t,n){return iJ(t,n,void 0,!1)}function iJ(t,n,i,r){return n===(t.localName?t.localName:t.nodeName)&&(r&&i?i===t.namespaceURI:!i||!t.namespaceURI||i===t.namespaceURI)}function rJ(t,n){for(var i=[],r=0;r<t.childNodes.length;r+=1){var e=t.childNodes.item(r);eJ(e)&&nJ(e,n)&&i.push(e)}return i}function eJ(t){return t&&1===t.nodeType}function sJ(t,n){var i=(new DOMParser).parseFromString(t,n);if(!i||i.getElementsByTagName("parsererror").length>0)throw new y('Invalid document for MIME type "'+n+'"');return i}function uJ(t){return sJ(t,"text/xml")}function oJ(t){return t.replace(/[<>&'"]/g,function(t){switch(t){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&apos;";case'"':return"&quot;";default:return t}})}function hJ(t){return"data:application/xml,"+encodeURIComponent(t)}F(),Et(),F(),Et(),Bt();var cJ=function(t){return t.hJt="mute",t.oJt="unmute",t.jw="pause",t.aJt="resume",t.uJt="rewind",t.cJt="skip",t.dJt="playerExpand",t.lJt="playerCollapse",t.fJt="fullscreen",t.vJt="exitFullscreen",t._Jt="expand",t.COLLAPSE="collapse",t.MSt="start",t.gJt="firstQuartile",t.pJt="thirdQuartile",t.mJt="midpoint",t.wJt="complete",t.yJt="acceptInvitationLinear",t.AJt="acceptInvitation",t.bJt="timeSpentViewing",t.SJt="otherAdInteraction",t.Qw="progress",t.TJt="creativeView",t.kJt="adExpand",t.EJt="adCollapse",t.PJt="minimize",t.xJt="close",t.IJt="closeLinear",t.RJt="overlayViewDuration",t.CJt="breakStart",t.DJt="breakEnd",t.ma="error",t}({});function aJ(t){switch(t){case"breakStart":case"breakEnd":case"error":return!0;default:return!1}}var fJ=["mute","unmute","pause","resume","rewind","skip","closeLinear","close","playerExpand","playerCollapse","fullscreen","exitFullscreen","expand","collapse","creativeView","start","firstQuartile","midpoint","thirdQuartile","complete","acceptInvitationLinear","acceptInvitation","timeSpentViewing","otherAdInteraction","progress"];function vJ(t){return void 0!==t&&-1!==fJ.indexOf(t)}var dJ=["start","firstQuartile","midpoint","thirdQuartile","complete","mute","unmute","pause","resume","rewind","skip","playerExpand","playerCollapse","expand","collapse","fullscreen","exitFullscreen","creativeView","acceptInvitation","adExpand","adCollapse","minimize","close","overlayViewDuration","otherAdInteraction","progress"];function lJ(t){return void 0!==t&&-1!==dJ.indexOf(t)}var wJ=["mute","unmute","pause","resume","rewind","skip","playerExpand","playerCollapse","creativeView"];function gJ(t){return void 0!==t&&-1!==wJ.indexOf(t)}function _J(t,n){if(void 0!==t&&""!==t&&void 0!==n){var i=t.match(/^(\d+):(\d+):(\d+)$/);return i?T(i[1]||"0")+60*T(i[2]||"0")+T(i[3]||"0"):(i=t.match(/^(100|[1-9]\d|\d)%$/))?T(i[1]||"0")*n/100:void 0}}var mJ=function(){function t(t,n,i){this.BJt=void 0,this.NJt=void 0,this.MJt=void 0,this.BJt=t,this.NJt=n,this.MJt=i}return Nt(t,[{key:"eX",get:function(){return this.BJt}},{key:"ac",get:function(){return this.NJt}},{key:"eventURL",get:function(){return this.MJt}}]),t}();F(),Et(),Bt(),Dt();var yJ=function(){function t(t){this.OJt=void 0,this.OJt=t}return Nt(t,[{key:"LJt",get:function(){return this.OJt}}]),t}(),pJ=function(t){function n(n,i,r,e){var s;return(s=t.call(this,n)||this).UJt=void 0,s.yYt=void 0,s.bYt=void 0,s.UJt=i,s.bYt=r,s.yYt=e,s}return Ct(n,t),Nt(n,[{key:"AYt",get:function(){return this.bYt}},{key:"wYt",get:function(){return this.yYt}},{key:"FJt",get:function(){return this.UJt}}]),n}(yJ),kJ=function(t){function n(n){return t.call(this,n)||this}return Ct(n,t),n}(yJ),bJ=function(t){function n(n){return t.call(this,n)||this}return Ct(n,t),n}(yJ);F(),Et(),Bt();var AJ={VJt:{Ky:100,Py:"XML parsing error."},HJt:{Ky:303,Py:"Empty or invalid VAST error."},WJt:{Ky:400,Py:"General linear error"},qJt:{Ky:403,Py:"Unsupported MIME-type or missing mediafiles error"},zJt:{Ky:500,Py:"General nonlinear error"},xG:{Ky:900,Py:"Network error"}},TJ=function(){function t(t){this.XJt=void 0,this.XJt=t}return t.prototype.jJt=function(t){if(this.GJt){var n=this.GJt.replace(/\[ERRORCODE]/,""+t.Ky);xK(n)}},Nt(t,[{key:"GJt",get:function(){return this.XJt}}]),t}();F(),Et(),Bt(),Dt();var SJ=function(t){function n(n,i,r,e){var s;return(s=t.call(this,r||i&&RJ[i]||n,e)||this).KJt=void 0,s.JJt=void 0,s.O2=void 0,s.KJt=n,s.JJt=i,s.O2=r,s}return Ct(n,t),Nt(n,[{key:"QJt",get:function(){return this.KJt}},{key:"YJt",get:function(){var t;return null!=(t=this.JJt)?t:900}}]),n}(ar),EJ=function(t){return t.ADBLOCK="adblock",t.NETWORK="network",t.PARSING="parsing",t.PLAYBACK="playback",t.GENERAL="general",t}({}),IJ=function(t){return t[t.VAST_MALFORMED_RESPONSE=100]="VAST_MALFORMED_RESPONSE",t[t.VAST_SCHEMA_VALIDATION_ERROR=101]="VAST_SCHEMA_VALIDATION_ERROR",t[t.VAST_UNSUPPORTED_VERSION=102]="VAST_UNSUPPORTED_VERSION",t[t.VAST_TRAFFICKING_ERROR=200]="VAST_TRAFFICKING_ERROR",t[t.VAST_UNEXPECTED_LINEARITY=201]="VAST_UNEXPECTED_LINEARITY",t[t.VAST_UNEXPECTED_DURATION_ERROR=202]="VAST_UNEXPECTED_DURATION_ERROR",t[t.UNEXPECTED_SIZE=203]="UNEXPECTED_SIZE",t[t.VAST_WRAPPER_ERROR=300]="VAST_WRAPPER_ERROR",t[t.VAST_LOAD_TIMEOUT=301]="VAST_LOAD_TIMEOUT",t[t.VAST_TOO_MANY_REDIRECTS=302]="VAST_TOO_MANY_REDIRECTS",t[t.VAST_NO_ADS_AFTER_WRAPPER=303]="VAST_NO_ADS_AFTER_WRAPPER",t[t.GENERAL_LINEAR_ERROR=400]="GENERAL_LINEAR_ERROR",t[t.FILE_NOT_FOUND=401]="FILE_NOT_FOUND",t[t.VAST_MEDIA_LOAD_TIMEOUT=402]="VAST_MEDIA_LOAD_TIMEOUT",t[t.VAST_LINEAR_ASSET_MISMATCH=403]="VAST_LINEAR_ASSET_MISMATCH",t[t.VAST_PROBLEM_DISPLAYING_MEDIA_FILE=405]="VAST_PROBLEM_DISPLAYING_MEDIA_FILE",t[t.MEZZANINE_FILE_REQUIRES=406]="MEZZANINE_FILE_REQUIRES",t[t.MEZZANINE_FILE_DOWNLOADED_FIRST_TIME=407]="MEZZANINE_FILE_DOWNLOADED_FIRST_TIME",t[t.AD_IN_VAST_REJECTED=408]="AD_IN_VAST_REJECTED",t[t.INTERACTIVE_CREATIVE_NOT_EXECUTED=409]="INTERACTIVE_CREATIVE_NOT_EXECUTED",t[t.VERIFICATION_CODE_NOT_EXECUTED=410]="VERIFICATION_CODE_NOT_EXECUTED",t[t.GENERAL_NON_LINEAR_ERROR=500]="GENERAL_NON_LINEAR_ERROR",t[t.NONLINEAR_DIMENSIONS_ERROR=501]="NONLINEAR_DIMENSIONS_ERROR",t[t.OVERLAY_AD_LOADING_FAILED=502]="OVERLAY_AD_LOADING_FAILED",t[t.VAST_NONLINEAR_ASSET_MISMATCH=503]="VAST_NONLINEAR_ASSET_MISMATCH",t[t.GENERAL_COMPANION_AD_ERROR=600]="GENERAL_COMPANION_AD_ERROR",t[t.INVALID_DIMENSIONS_COMPANION_AD=601]="INVALID_DIMENSIONS_COMPANION_AD",t[t.COMPANION_REQUIRED_ERROR=602]="COMPANION_REQUIRED_ERROR",t[t.COMPANION_AD_LOADING_FAILED=603]="COMPANION_AD_LOADING_FAILED",t[t.UNABLE_TO_FIND_SUPPORTED_COMPANION=604]="UNABLE_TO_FIND_SUPPORTED_COMPANION",t[t.UNKNOWN_ERROR=900]="UNKNOWN_ERROR",t[t.GENERAL_VPAID_ERROR=901]="GENERAL_VPAID_ERROR",t[t.MALFORMED_URI=1005]="MALFORMED_URI",t[t.VAST_ASSET_NOT_FOUND=1007]="VAST_ASSET_NOT_FOUND",t[t.VAST_EMPTY_RESPONSE=1009]="VAST_EMPTY_RESPONSE",t[t.UNKNOWN_AD_RESPONSE=1010]="UNKNOWN_AD_RESPONSE",t[t.UNSUPPORTED_LOCALE=1011]="UNSUPPORTED_LOCALE",t[t.INVALID_ARGUMENTS=1101]="INVALID_ARGUMENTS",t[t.INVALID_ADX_EXTENSION=1105]="INVALID_ADX_EXTENSION",t[t.AUTOPLAY_DISALLOWED=1205]="AUTOPLAY_DISALLOWED",t}({}),RJ={100:"XML parsing error.",101:"VAST schema validation error.",102:"VAST version of response not supported.",200:"Trafficking error. The video player received an ad type that it was not expecting and/or cannot display.",201:"Video player expecting different linearity.",202:"Video player expecting different duration.",203:"Video player expecting different size.",300:"General wrapper error.",301:"Timeout of VAST URI provided in wrapper element, or of VAST URI provided in a subsequent wrapper element. This includes request errors such as invalid URI, unreachable or request timeout for URI, and security or other exceptions related to requesting a VAST URI.",302:"Wrapper limit reached, as defined by the video player. Too many wrapper responses have been received with no InLine response. This can be caused by a circular loop of daisy chaining (one network bouncing to another and another).",303:"No ads VAST response after one or more wrappers. This also includes the number of empty VAST responses from fallback.",400:"General linear error. The video player is unable to display the linear ad.",401:"File not found. Unable to find Linear/MediaFile from URI.",402:"Unable to download or timeout of MediaFile URI.",403:"Could not find a media file that is supported by this video player, based on the attributes of the MediaFile element.",405:"Problem displaying a media file.",406:"A mezzanine file was required, but not provided.",407:"The mezzanine file was downloaded for the first time, so the ad did not serve. This can occur when an ad insertion is missed because the creative is being transcoded. It continues to occur until the creative is available for insertion.",408:"The ad returned in the VAST response was rejected.",409:"The interactive creative defined in the InteractiveCreativeFile node was not executed.",410:"The code referenced in the Verification node was not executed.",500:"General NonLinearAds error.",501:"Unable to display non-linear ad because creative dimensions do not align with creative display area (in other words, the creative dimension was too large). This can occur if you use CSS styles to set width and height of the video ,content element. You should instead use the width and height HTML attributes.",502:"Unable to fetch NonLinearAds/NonLinear resource.",503:"Could not find NonLinearResource with supported type. This can occur when a creative size is larger than the player size.",600:"General CompanionAds error.",601:"Unable to display companion because creative dimensions do not fit within the companion display area (in other words, space was not available).",602:"Unable to display required companion.",603:"Unable to fetch CompanionAds/Companion resource.",604:"Could not find Companion resource with supported type.",900:"VAST 2 error. Even if you request VAST 3 or your DFP network default is VAST 3, this can occur if you have a VAST redirect that returns a VAST 2 response.",901:"General VPAID error",1005:"URI malformed."};function CJ(t){if(!t)return!1;switch(t.toLocaleLowerCase()){case hA.dR:case hA.lR:case hA.cR:return!0;default:return!1}}function DJ(t){var n=Rr();return!!(CJ(t)||t&&n&&(null==n?void 0:n.canPlayType)&&n.canPlayType(t))||(NJ("Invalid or unsupported MediaFile Content delivery type, skipping mediafile"),!1)}function PJ(t,n){for(var i,r=Lt(n);!(i=r()).done;){var e=i.value;new TJ(e).jJt(t)}}function NJ(t){0}F(),Et(),Ut(),F(),Et(),Bt();var BJ=function(){function t(t,n){this.$Jt=void 0,this.iZt=void 0,this.$Jt=t,this.iZt=n}return Nt(t,[{key:"ZJt",get:function(){return this.$Jt}},{key:"tZt",get:function(){return this.iZt}}]),t}(),xJ=function(){function t(){}var n=t.prototype;return n.eZt=function(n,i){return Vt(function(){var r,e,s,u;return zt(this,function(o){switch(o.label){case 0:return UK(n.sources,n.timeOffset)?[4,t.sZt(n.sources.src,i)]:[3,7];case 1:if(r=o.sent(),!(e=r&&r.documentElement))throw new SJ(EJ.NETWORK,IJ.VAST_SCHEMA_VALIDATION_ERROR,"Ad source is not a valid XML document.");return nJ(e,"VMAP")?[4,this.nZt(e,n,i)]:[3,3];case 2:return[2,o.sent()];case 3:return nJ(e,"VAST")?[4,this.rZt(e,i,!1)]:[3,5];case 4:return(s=o.sent())?(u=new FJ("",!0,!0,s),[2,[new LJ("start",u,OJ.hZt,"",[],!1,!0,n)]]):[2,[]];case 5:throw new SJ(EJ.GENERAL,IJ.VAST_MALFORMED_RESPONSE,"Only VMAP and VAST files are allowed as ad source.");case 6:return[3,8];case 7:if(FK(n.sources,n.timeOffset))return[2,[new UJ(String(n.timeOffset),n,i)]];throw new SJ(EJ.GENERAL,IJ.VAST_MALFORMED_RESPONSE,"Something went wrong parsing the ad source; only VMAP and VAST files are allowed as ad source.");case 8:return[2]}})}).call(this)},n.oZt=function(){return Vt(function(n,i,r,e){var s,u,o;return zt(this,function(h){switch(h.label){case 0:void 0===e&&(e=[]),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,t.sZt(n,i)];case 2:return s=h.sent(),[3,4];case 3:throw u=h.sent(),PJ(V(u,SJ)&&u.YJt===IJ.VAST_MALFORMED_RESPONSE?AJ.HJt:AJ.xG,e),u;case 4:return(o=s&&s.documentElement)&&nJ(o,"VAST")?[4,this.rZt(o,i,r,e)]:[3,6];case 5:return[2,h.sent()];case 6:o&&nJ(o,"VMAP")&&We("Received VMAP ad when expecting VAST. Please set the type of your ad source in the configuration, or make sure to not set a timeOffset for VMAP ad sources. VMAP ads have their own offsets included."),h.label=7;case 7:return[2,void 0]}})}).apply(this,arguments)},n.aZt=function(t,n,i,r){return Vt(function(){var e,s,u,o;return zt(this,function(h){switch(h.label){case 0:if(!(null==(e=t.sources)?void 0:e.src))throw new SJ(EJ.GENERAL,IJ.MALFORMED_URI,"Property src on adSource is missing.");return[4,this.oZt(t.sources.src,r,!1)];case 1:return s=h.sent(),u=new FJ("",!0,!0,s),(o=new LJ(n,u,OJ.hZt,"",[],!1,!0,t)).uZt=i,[2,o]}})}).call(this)},n.rZt=function(){return Vt(function(t,n,i,r){var e,s,u,o,h,c,a,f,v,d,l,w;return zt(this,function(g){switch(g.label){case 0:if(void 0===r&&(r=[]),e=[],s=[],u=[],!t||!nJ(t,"VAST")){if(PJ(AJ.HJt,r),i)throw new SJ(EJ.PARSING,IJ.VAST_NO_ADS_AFTER_WRAPPER,"No VAST element found after wrapper.");throw new SJ(EJ.PARSING,IJ.VAST_EMPTY_RESPONSE,"The VAST element was empty.")}if(0===rJ(t,"Ad").length)return[3,7];o=Lt(rJ(t,"Ad")),g.label=1;case 1:if((h=o()).done)return[3,6];c=h.value,g.label=2;case 2:return g.trys.push([2,4,,5]),[4,this.cZt(c,n,r)];case 3:return 0===(a=g.sent()).VN?e.push(a):s.push(a),[3,5];case 4:return f=g.sent(),u.push(f),[3,5];case 5:return[3,1];case 6:if(0===e.length&&0===s.length&&u.length>0)throw u[0];if(1===e.length&&0===s.length)return[2,e[0]];if(0===e.length&&0!==s.length)return[2,new HK(s)];if(e.length>0||s.length>0)return[2,new HK(s.concat(e))];g.label=7;case 7:if(0!==rJ(t,"Error").length)for(v=Lt(rJ(t,"Error"));!(d=v()).done;)l=d.value,NJ(AJ.HJt.Py),(w=l.textContent)&&r.push(w.trim());if(PJ(AJ.HJt,r),i)throw new SJ(EJ.PARSING,IJ.VAST_NO_ADS_AFTER_WRAPPER,"No VAST element found after wrapper.");throw new SJ(EJ.PARSING,IJ.VAST_EMPTY_RESPONSE,"The VAST element was empty.")}})}).apply(this,arguments)},n.nZt=function(t,n,i){return Vt(function(){var r,e,s,u,o,h,c;return zt(this,function(a){switch(a.label){case 0:if(r=[],0===(e=rJ(t,"AdBreak")).length)throw new SJ(EJ.PARSING,IJ.VAST_EMPTY_RESPONSE,"The VMAP element was empty.");s=Lt(e),a.label=1;case 1:if((u=s()).done)return[3,6];o=u.value,a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.dZt(o,n,i)];case 3:return(h=a.sent())&&r.push(h),[3,5];case 4:return c=a.sent(),Vn.hm(c),[3,5];case 5:return[3,1];case 6:return[2,r]}})}).call(this)},n.cZt=function(n,i,r){return Vt(function(){var e,s,u,o;return zt(this,function(h){switch(h.label){case 0:return e=tJ(n,"id")||"",(s=cF(tJ(n,"sequence")))||(s=0),u=rJ(n,"InLine"),0===(o=rJ(n,"Wrapper")).length?[3,2]:[4,this.lZt(o[0],e,s,i,r)];case 1:return[2,h.sent()];case 2:if(0!==u.length)return[2,t.fZt(u[0],e,s,r)];h.label=3;case 3:throw new SJ(EJ.PARSING,IJ.VAST_SCHEMA_VALIDATION_ERROR,"An Ad tag without a Wrapper or inline element cannot be parsed")}})}).call(this)},n.lZt=function(n,i,r,e,s){return Vt(function(){var u,o,h,c,a,f,v,d,l,w,g,_,m,y,p,k,b;return zt(this,function(A){switch(A.label){case 0:for(u=rJ(n,"Error")[0],o="",u&&u.textContent&&(o=u.textContent,s.push(o)),h=rJ(n,"AdSystem")[0],c="",h&&(c=h.textContent||c),a=[],f=Lt(rJ(n,"Impression"));!(v=f()).done;)(d=v.value).textContent&&a.push(d.textContent);return l=rJ(n,"VASTAdTagURI")[0],w="",l&&l.textContent&&(w=l.textContent),[4,this.oZt(w,e,!0,s)];case 1:return g=A.sent(),_=t.vZt(rJ(n,"Extensions")[0]),m=rJ(n,"Creatives")[0],y=[],m&&(y=t.gZt(m,c,_,s)),(p=fF(tJ(n,"followAdditionalWrappers")))||(p=!0),(k=fF(tJ(n,"allowMultipleAds")))||(k=!0),(b=fF(tJ(n,"fallbackOnNoAd")))||(b=!1),[2,new JK(i,r,a,g,p,y,k,b,new TJ(o))]}})}).call(this)},n.dZt=function(n,i,r){return Vt(function(){var e,s,u,o,h,c,a,f,v,d,l,w,g,_,m,y,p;return zt(this,function(k){switch(k.label){case 0:if(e=tJ(n,"timeOffset")||"0",s=tJ(n,"breakType")||OJ.pk,u=tJ(n,"breakId"),o=fF(tJ(n,"repeatAfter")),h=void 0!==MJ.kZt(e),void 0===u&&(u=""),void 0===o&&(o=!1),!h)throw new SJ(EJ.PARSING,IJ.VAST_SCHEMA_VALIDATION_ERROR,"Invalid TimeOffset type");if(c=rJ(n,"AdSource")[0],a=rJ(n,"TrackingEvents")[0],f=[],a&&(f=t.yZt(a,aJ,"vmap")),(v=tJ(c,"id"))||(v=""),void 0===(d=fF(tJ(c,"allowMultipleAds")))&&(d=!0),(l=fF(tJ(c,"followRedirects")))||(l=!0),w=rJ(c,"AdTagURI")[0],g="",_=rJ(c,"VASTAdData")[0],!w||!w.textContent)return[3,1];try{return g=w.textContent,(m=Ow(i)).sources.src=g,[2,new UJ(e,m,r)]}catch(t){return[2,void 0]}return[3,6];case 1:return _?_.firstElementChild&&iJ(_.firstElementChild,"VAST")?[4,this.rZt(_.firstElementChild,r,!1)]:[3,3]:[3,5];case 2:return(y=k.sent())?(p=new FJ(v,d,l,y),[2,new LJ(e,p,s,u,f,o,!1,i)]):[2,void 0];case 3:throw new SJ(EJ.PARSING,IJ.VAST_SCHEMA_VALIDATION_ERROR,"vmap:VASTAdData does not have a VAST-structure as a child element");case 4:return[3,6];case 5:throw new SJ(EJ.PARSING,IJ.VAST_SCHEMA_VALIDATION_ERROR,"Invalid AdTagURI source or invalid VASTAdData in Adbreak Element");case 6:return[2]}})}).call(this)},t.requestSuccessOnly=function(t,n){return Vt(function(){var i,r;return zt(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,n.lk(t)];case 1:return i=e.sent(),[3,3];case 2:throw r=e.sent(),new SJ(EJ.NETWORK,IJ.UNKNOWN_ERROR,"Something went wrong while requesting xml from server.",r);case 3:if(!dl(i))throw new SJ(EJ.NETWORK,IJ.UNKNOWN_ERROR,"Something went wrong while requesting xml from server.");return[2,i]}})})()},t.sZt=function(t,n){return Vt(function(){var i,r;return zt(this,function(e){switch(e.label){case 0:return i=new pl({Yu:t,dk:Md.NT,Uk:wl.GET}),[4,this.requestSuccessOnly(i,n)];case 1:r=e.sent(),e.label=2;case 2:return e.trys.push([2,4,,5]),[4,r.ck()];case 3:return[2,uJ.apply(void 0,[e.sent()])];case 4:throw e.sent(),new SJ(EJ.NETWORK,IJ.VAST_MALFORMED_RESPONSE,"The ad source could not be loaded.");case 5:return[2]}})}).call(this)},t.fZt=function(n,i,r,e){var s,u=rJ(n,"Error")[0];u&&u.textContent&&(s=u.textContent,e.push(s));var o,h=t.vZt(rJ(n,"Extensions")[0]),c=rJ(n,"AdSystem")[0],a="";c&&(a=c.textContent||a);var f=rJ(n,"AdTitle")[0];f&&(o=f.textContent||void 0);for(var v,d=[],l=Lt(rJ(n,"Impression"));!(v=l()).done;){var w=v.value;w.textContent&&d.push(w.textContent)}var g=t._Zt(rJ(n,"Creatives")[0],a,h,e);return new zK(i,r,a,o,d,g,new TJ(s))},t.gZt=function(n,i,r,e){for(var s,u=[],o=Lt(rJ(n,"Creative"));!(s=o()).done;){var h=s.value,c=tJ(h,"id");c||(c="");var a=cF(tJ(h,"sequence"));a||(a=0);var f=tJ(h,"adId");f||(f="");var v=rJ(h,"Linear")[0],d=void 0;v&&(d=t.pZt(v,"wrapper",c,i,r,e));var l=rJ(h,"NonLinearAds")[0],w=void 0;if(l)try{w=t.mZt(l,c,i)}catch(t){}var g=rJ(h,"CompanionAds")[0],_=void 0;g&&(_=t.wZt(g)),u.push(new ZK(c,f,a,"",d,w,_,[]))}return u},t._Zt=function(n,i,r,e){for(var s,u=[],o=Lt(rJ(n,"Creative"));!(s=o()).done;){var h=s.value,c=tJ(h,"id");c||(c="");var a=cF(tJ(h,"sequence"));a||(a=0);var f=tJ(h,"adId");f||(f="");var v=tJ(h,"apiFramework");v||(v="");var d=rJ(h,"Linear")[0],l=void 0;if(d)try{l=t.pZt(d,"inline",c,i,r,e)}catch(t){}if(0===(null==l?void 0:l.ct))throw new SJ(EJ.PARSING,IJ.VAST_UNEXPECTED_DURATION_ERROR,"The VAST response had a duration of 0 seconds, so skipping the ad(s).");var w=rJ(h,"NonLinearAds")[0],g=void 0;if(w)try{g=t.mZt(w,c,i)}catch(t){}var _=rJ(h,"CompanionAds")[0],m=void 0;_&&(m=t.wZt(_));var y=rJ(h,"UniversalAdId"),p=t.parseUniversalAdIds(y);u.push(new ZK(c,f,a,v,l,g,m,p))}return u},t.vZt=function(t){var n=[];if(!t)return n;for(var i,r=Lt(rJ(t,"Extension"));!(i=r()).done;){var e,s=i.value,u=null!=(e=tJ(s,"type"))?e:"",o=s.outerHTML;n.push({type:u,xml:o})}return n},t.pZt=function(n,i,r,e,s,u){var o=rJ(n,"Duration")[0],h=0;if(o)h=MK(o.textContent)||0;else if(!o&&"inline"===i)throw new SJ(EJ.PARSING,IJ.VAST_SCHEMA_VALIDATION_ERROR,"Missing duration element in inLine linear");var c=tJ(n,"skipoffset"),a=-1;if(c){var f=MK(c);if(void 0===f&&c.indexOf("%")>-1){var v=b.abs(Number(c.replace(/(?![0-9])./g,"")))/100;S(v)||(f=h*v)}void 0!==f&&(a=f)}var d=rJ(n,"MediaFiles")[0],l=[],w=[];if(d&&(l=function(t,n){for(var i,r=[],e=Lt(rJ(t,"MediaFile"));!(i=e()).done;){var s=i.value,u=tJ(s,"delivery"),o=tJ(s,"type");if(o){if(n(o)){var h=cF(tJ(s,"width")),c=cF(tJ(s,"height"));h||(NJ(),h=0),c||(NJ(),c=0);var a={delivery:u,type:o,width:h,height:c,contentURL:""+s.textContent};r.push(a)}}else NJ()}return r}(d,DJ),w=function(t){var n=rJ(t,"ClosedCaptionFiles");if(0===n.length)return[];for(var i,r=[],e=Lt(rJ(n[0],"ClosedCaptionFile"));!(i=e()).done;){var s=i.value,u=tJ(s,"type");u||NJ();var o=tJ(s,"language");o||NJ();var h={type:null!=u?u:"",language:null!=o?o:"",contentURL:(""+s.textContent).trim()};r.push(h)}return r}(d)),"inline"===i&&(!d||0===l.length))throw PJ(AJ.qJt,u),new SJ(EJ.PARSING,IJ.VAST_LINEAR_ASSET_MISMATCH,"Missing MediaFiles in linear element");var g=rJ(n,"TrackingEvents")[0],_=[];g&&(_=t.yZt(g,vJ,"linear"));var m=rJ(n,"VideoClicks")[0],y=t.AZt(m);return new $K(h,l,_,y,a,r,e,w,s)},t.AZt=function(n){if(!n)return new KK("","",[],[]);var i,r=rJ(n,"ClickThrough")[0],e="";r&&(i=r.textContent||void 0,e=tJ(r,"id")||"");var s=t.bZt(rJ(n,"ClickTracking")),u=t.bZt(rJ(n,"CustomClick"));return new KK(i,e,s,u)},t.bZt=function(t){for(var n,i=[],r=Lt(t);!(n=r()).done;){var e=n.value,s=e.textContent;if(s){var u=tJ(e,"id")||"";i.push(new YK(u,s))}}return i},t.yZt=function(t,n,i){for(var r,e=[],s=Lt(rJ(t,"Tracking"));!(r=s()).done;){var u=r.value,o=tJ(u,"event");if(n(o)){var h="";"linear"===i&&(h=tJ(t,"offset")||"0");var c=u.textContent;c&&e.push(new mJ(o,h,c))}else NJ()}return e},t.mZt=function(n,i,r){for(var e,s=[],u=Lt(rJ(n,"NonLinear"));!(e=u()).done;){var o=e.value,h=rJ(o,"NonLinearClickThrough")[0],c=void 0;h&&(c=h.textContent||void 0);var a=t.bZt(rJ(o,"NonLinearClickTracking")),f=rJ(o,"StaticResource")[0],v=void 0;if(f&&f.parentNode){var d=tJ(f,"creativeType"),l=f.textContent||"",w=rJ(f.parentNode,"NonLinearClickThrough")[0],g="";w&&(g=w.textContent||""),v=new pJ(l,d,g,"")}var _=t.SZt(o),m=t.parseHtmlResource(o);if(v||_||m){var y=new KK(c,"",a,[]);s.push(new qK(v,_,m,y,i,r))}else NJ()}if(0===s.length)throw new SJ(EJ.PARSING,IJ.VAST_SCHEMA_VALIDATION_ERROR,"nonLinearAds element found with no nonLinear elements");var p=rJ(n,"TrackingEvents")[0],k=[];return p&&(k=t.yZt(p,lJ,"nonlinear")),new XK(s,k)},t.parseUniversalAdIds=function(t){for(var n,i=[],r=Lt(t);!(n=r()).done;){var e,s,u,o=n.value,h=null!=(e=tJ(o,"idRegistry"))?e:"",c=null!=(u=null!=(s=tJ(o,"idValue"))?s:o.textContent)?u:"";i.push(new BJ(h,c))}return i},t.wZt=function(n){var i=tJ(n,"requiredType");(function(t){switch(t){case"all":case"any":case"none":return!0;default:return!1}})(i)||(i=GK.lz);for(var r,e=[],s=Lt(rJ(n,"Companion"));!(r=s()).done;){var u=r.value,o=cF(tJ(u,"width")),h=cF(tJ(u,"height")),c=tJ(u,"id"),a=cF(tJ(u,"assetWidth")),f=cF(tJ(u,"assetHeight")),v=cF(tJ(u,"expandedWidth")),d=cF(tJ(u,"rxpandedHeight")),l=tJ(u,"apiFramework"),w=tJ(u,"adSlotId"),g=cF(tJ(u,"pxratio")),_=rJ(u,"AltText")[0],m=_?_.textContent:"";o||(NJ(),o=0),h||(NJ(),h=0),c||(c=""),a||(a=0),f||(f=0),v||(v=0),d||(d=0),l||(l=""),w||(w=""),g||(g=1),m||(m="");var y=t.TZt(u),p=t.SZt(u),k=t.parseHtmlResource(u),b=rJ(u,"TrackingEvents")[0],A=[];b&&(A=t.yZt(b,gJ,"companion"));var T=rJ(u,"CompanionClickThrough")[0],S=void 0;T&&(S=T.textContent||void 0);var E=t.bZt(rJ(u,"CompanionClickTracking"));(y||p||k)&&e.push(new QK(o,h,c,a,f,v,d,l,w,g,y,p,k,new KK(S,"",E,[]),A,m))}return new jK(i,e)},t.TZt=function(t){var n,i=rJ(t,"StaticResource")[0];if(i&&i.parentNode){var r=tJ(i,"creativeType");r||(r="");var e,s=i.textContent,u=rJ(i.parentNode,"AltText")[0],o=rJ(i.parentNode,"CompanionClickThrough")[0],h="";u&&(h=u.textContent||""),o&&(e=o.textContent||void 0),s&&(n=new pJ(s,r,e,h))}return n},t.SZt=function(t){var n,i=rJ(t,"IFrameResource")[0];if(i){var r=i.textContent||"";n=new kJ(r)}return n},t.parseHtmlResource=function(t){var n,i=rJ(t,"HTMLResource")[0];if(i){var r=i.textContent||"";n=new bJ(r)}return n},t}(),OJ=function(t){return t.pk="",t.hZt="linear",t.EZt="nonlinear",t.PZt="display",t}({}),MJ=function(){function t(){}return t.xZt=function(t){switch(t){case"linear":case"nonlinear":case"display":return!0;default:return!1}},t.IZt=function(t){},t.RZt=function(t){if(void 0!==t)return"start"===t?0:"end"===t?-1:void 0},t.CZt=function(t){var n=t.split(":"),i=0;return i+=3600*Number(n[0]),i+=60*Number(n[1]),i+=Number(n[2])},t.DZt=function(t){if(t<=0)return"00:00:00.000";var n=b.floor(t),i=t-n;return this.BZt(n/3600,2)+":"+this.BZt(n/60%60,2)+":"+this.BZt(n%60,2)+"."+this.BZt(1e3*i,3)},t.BZt=function(t,n){return("00"+b.floor(t)).slice(-n)},t.NZt=function(t,n){var i=this.kZt(t);if(0===i)switch(t){case"start":return 0;case"end":return-1}else{if(2===i)return LK(t)*n;if(1===i)return MK(t);if(3===i)return this.RZt(t);if(4===i){var r=Number(t);if(!S(r)&&r>=-1)return r}}},t.kZt=function(t){return"start"===t||"end"===t?0:void 0!==MK(t.toString())?1:void 0!==LK(t.toString())?2:void 0!==this.IZt(t.toString())?3:S(Number(t))?void 0:4},t}(),LJ=function(){function t(t,n,i,r,e,s,u,o){this.FZt=void 0,this.mYt=void 0,this.UZt=void 0,this.ZYt=-1,this.XZt=void 0,this.HZt=void 0,this.qZt=void 0,this.jZt=void 0,this.LZt=void 0,this.GZt=void 0,this.FZt=n,this.UZt=t,this.XZt=i,this.HZt=r,this.qZt=s,this.mYt=e,this.jZt=u,this.LZt=o}return t.prototype.Un=function(){return ut.resolve()},Nt(t,[{key:"MZt",get:function(){return this.LZt.integration}},{key:"OZt",get:function(){return this.FZt}},{key:"_Ot",get:function(){return this.UZt}},{key:"JYt",get:function(){return this.ZYt},set:function(t){this.ZYt=t}},{key:"NKt",get:function(){return this.mYt}},{key:"VZt",get:function(){return this.HZt}},{key:"WZt",get:function(){return this.qZt}},{key:"Ont",get:function(){return this.LZt}},{key:"zZt",get:function(){return this.uZt.dd}},{key:"W",get:function(){return!0}},{key:"uZt",get:function(){return this.GZt},set:function(t){this.GZt=t}}]),t}(),UJ=function(){function t(t,n,i){this.zKt=void 0,this.QZt=void 0,this.uE=!1,this.nV=void 0,this.nV=i,this.zKt=new LJ(t,void 0,"","",[],!1,!1,n)}var n=t.prototype;return n.Un=function(){var t;return null!=(t=this.QZt)?t:this.QZt=this.lE()},n.lE=function(){return Vt(function(){var t,n;return zt(this,function(i){switch(i.label){case 0:return t=new xJ,n=this,[4,t.aZt(this.Ont,this._Ot,this.uZt,this.nV)];case 1:return n.zKt=i.sent(),this.uE=!0,[2]}})}).call(this)},Nt(t,[{key:"MZt",get:function(){return this.zKt.MZt}},{key:"OZt",get:function(){return this.zKt.OZt}},{key:"_Ot",get:function(){return this.zKt._Ot}},{key:"JYt",get:function(){return this.zKt.JYt},set:function(t){this.zKt.JYt=t}},{key:"NKt",get:function(){return this.zKt.NKt}},{key:"VZt",get:function(){return this.zKt.VZt}},{key:"WZt",get:function(){return this.zKt.WZt}},{key:"Ont",get:function(){return this.zKt.Ont}},{key:"zZt",get:function(){return this.zKt.zZt}},{key:"W",get:function(){return this.uE}},{key:"uZt",get:function(){return this.zKt.uZt},set:function(t){this.zKt.uZt=t}}]),t}(),FJ=function(){function t(t,n,i,r){this.hS=void 0,this.KZt=void 0,this.JZt=void 0,this.ZZt=void 0,this.hS=t,this.KZt=n,this.ZZt=r,this.JZt=i}return Nt(t,[{key:"o",get:function(){return this.hS}},{key:"BYt",get:function(){return this.KZt}},{key:"YZt",get:function(){return this.JZt}},{key:"dKt",get:function(){return this.ZZt}}]),t}();function VJ(t,n){var i;if(t.vastAdsRequest&&(i=function(t){if(t.adTagUrl)return t.adTagUrl;if(t.adsResponse)return hJ(t.adsResponse);return}(t.vastAdsRequest)),!i){var r=function(t){var n=t.contentUrl||t.contentId;if(!n)return;var i=t.contentType||"video/mp4",r=zA(i)||XA(i)?"streaming":"progressive",e=void 0!==t.duration?"<Duration>"+MJ.DZt(t.duration)+"</Duration>":"",s=void 0!==t.whenSkippable&&t.whenSkippable>=0?' skipoffset="'+MJ.DZt(t.whenSkippable)+'"':"",u='<MediaFile delivery="'+r+'" type="'+i+'">'+oJ(n)+"</MediaFile>",o=t.clickThroughUrl?"<VideoClicks><ClickThrough>"+oJ(t.clickThroughUrl)+"</ClickThrough></VideoClicks>":"",h="<Linear"+s+">"+e+"<MediaFiles>"+u+"</MediaFiles>"+o+"</Linear>",c=t.title?"<AdTitle>"+oJ(t.title)+"</AdTitle>":"";return'<VAST version="3.0"><Ad>'+c+"<InLine><Creatives><Creative>"+h+"</Creative></Creatives></InLine></Ad></VAST>"}(t);r&&(i=hJ(r))}var e=t.customData;if(i){var s={integration:null==e?void 0:e.integration,sources:{src:i,type:"vast"},timeOffset:n};return s.integration&&"csai"!==s.integration&&"theo"!==s.integration||(s.skipOffset=t.whenSkippable),s}}var HJ=function(t){return t.$Zt="error",t.t$t="sourceupdate",t}({}),WJ=function(t){function n(n){var i;return(i=t.call(this,"error")||this).lt=void 0,i.lt=n,i}return Ct(n,t),n}(rh),zJ=function(t){function n(n,i){var r;return(r=t.call(this,"sourceupdate")||this).bt=void 0,r.Mc=void 0,r.bt=n,r.Mc=i,r}return Ct(n,t),n}(rh),XJ=function(t){function n(n,i,r){var e;return(e=t.call(this,i)||this).YBt=void 0,e.s$t=void 0,e.i$t=void 0,e.m$t=0,e.l$t=function(t){e.So(new WJ(t))},e.d$t=function(t){var n,i=new kK(CK(t.code),null!=(n=t.description)?n:void 0);e.l$t(i)},e.YBt=n,e.s$t=i,e.i$t=r,e}Ct(n,t);var i=n.prototype;return i.e$t=function(t){this.s$t.e$t(t)},i.n$t=function(t){this.s$t.n$t(t)},i.r$t=function(t){this.s$t.r$t(t)},i.h$t=function(t){this.s$t.h$t(t)},i.o$t=function(t){this.i$t.addUpdateListener(t)},i.a$t=function(t){this.i$t.removeUpdateListener(t)},i.u$t=function(){var t=this,n=new Vc,i=new chrome.cast.media.GetStatusRequest;return this.i$t.getStatus(i,function(){n.Xy({bt:t.NP(),Mc:t.nu()})},function(t){return n.jy(t)}),n.Qy},i.NP=function(){var t;return null==(t=this.i$t.customData)?void 0:t.currentSource},i.nu=function(){var t,n;if(null==(t=this.YBt.c$t())?void 0:t.version){var i;n=null==(i=this.i$t.customData)?void 0:i.sourceDescription}else{var r,e=null==(r=DK(this.i$t))?void 0:r.customData;(function(t){return zn(t)&&t.theoplayer_version>=1&&Un(t.streamStart)&&Un(t.isLive)&&Un(t.sourceDescription)})(e)&&(n=e.sourceDescription),n||(n=function(t){return{sources:[{src:t.contentId,type:t.contentType}],ads:qJ(t)}}(this.i$t.media))}return n},i.zx=function(){var t=new chrome.cast.media.PauseRequest;this.i$t.pause(t,di,this.d$t)},i.Xx=function(){var t=new chrome.cast.media.StopRequest;this.i$t.stop(t,di,this.d$t)},i.Gx=function(){var t=new chrome.cast.media.PlayRequest;this.i$t.play(t,di,this.d$t)},i.My=function(t,n){var i=this,r=new chrome.cast.media.SeekRequest;return r.currentTime=t,r.resumeState=n?chrome.cast.media.ResumeState.PLAYBACK_PAUSE:chrome.cast.media.ResumeState.PLAYBACK_START,new ut(function(t,n){i.i$t.seek(r,t,function(t){var i;n(new kK(CK(t.code),null!=(i=t.description)?i:void 0))})})},i.vx=function(t){this.s$t._et(PK,function(t){return{type:NK.cKt,properties:{playbackRate:t}}}(t)).catch(this.l$t)},i.f$t=function(t){var n=new chrome.cast.media.EditTracksInfoRequest(t);this.i$t.editTracksInfo(n,di,this.d$t)},i.v$t=function(){return this.i$t.getEstimatedTime()},i._$t=function(){return this.i$t.getEstimatedBreakClipTime()},i.g$t=function(){return this.i$t.getEstimatedBreakTime()},i.p$t=function(){this.s$t._et("urn:x-cast:com.google.cast.media",{type:BK.SKIP_AD,requestId:this.m$t++,mediaSessionId:this.i$t.mediaSessionId}).catch(this.l$t)},i.kn=function(){this.Vo()},Nt(n,[{key:"KD",get:function(){return this.i$t}}]),n}(th);function qJ(t){return t.vmapAdsRequest&&t.vmapAdsRequest.adTagUrl?[{sources:{src:t.vmapAdsRequest.adTagUrl,type:"vmap"}}]:t.breaks&&t.breakClips?Ji(t.breaks,function(n){return function(t,n){var i=function(){var i=e.value,s=Ui(n,function(t){return t.id===i});if(s){var u=VJ(s,t.position);u&&r.push(u)}},r=[];if(t.isWatched)return r;for(var e,s=Lt(t.breakClipIds);!(e=s()).done;)i();return r}(n,t.breakClips)}):[]}F(),Et();var GJ=function(){function t(t){this.YBt=void 0,this.YBt=t}var n=t.prototype;return n.w$t=function(t,n){this.YBt.addMessageListener(t,n)},n.y$t=function(t,n){this.YBt.removeMessageListener(t,n)},n._et=function(t,n){var i=this;return new ut(function(r,e){i.YBt.sendMessage(t,n,r,function(t){var n;e(new kK(CK(t.code),null!=(n=t.description)?n:void 0))})})},n.kn=function(){},t}();function jJ(t){return"vmap"===t||"adrule"===t}function QJ(t){if(t)return qn(t)&&""!==t?{src:Xw(t),type:void 0}:function(t){return zn(t)&&Boolean(t.src)}(t)&&""!==t.src?{src:Xw(t.src),type:YJ(t.type)}:void 0}function YJ(t){if(qn(t)){var n=t.toLowerCase();switch(n){case"vast":case"vmap":case"adrule":return n;default:return void We("The ad source type provided in the configuration could not be recognized: '"+t+"'.")}}else t||We("For better performance it is highly recommended to add the type to the configuration of your ad sources.")}function KJ(t){if(void 0!==t&&""!==t&&("string"==typeof t||"number"==typeof t)){switch(t){case"start":case"00:00:00":case"00:00:00.000":case"0%":case"0":return 0;case"end":case"100%":return-1}if("string"==typeof t){if(function(t){return OK.test(t)}(t))return MJ.CZt(t);if(JJ(t))return t}return Number(t)>=0?Number(t):void 0}}function JJ(t){return new RegExp(/^\d{1,2}%$/).test(t)}function ZJ(t){for(var n,i=[],r=function(t,n){if(Hn(n))for(var e=0,s=n.length;e<s;e++){var u=zn(n[e])&&n[e]?String(e):"";r(t+"["+encodeURIComponent(u)+"]",n[e])}else if(zn(n))for(var o,h=Lt(k.keys(n));!(o=h()).done;){var c=o.value;r(t+"["+encodeURIComponent(c)+"]",n[c])}else!function(t,n){i.push(t+"="+encodeURIComponent(null!=n?n:""))}(t,String(n))},e=Lt(k.keys(t));!(n=e()).done;){var s=n.value;r(encodeURIComponent(s),t[s])}return i.join("&")}F(),Et(),Ut(),F(),Et(),Ut(),F(),Et();var $J=function(t){return t.aKt="receiver_info",t.xLt="event",t.A$t="propertychange",t.uKt="trackevent",t}({}),tZ=function(){function t(t){var n=this;this.P$t=void 0,this.S$t=[],this.T$t=[],this.E$t=void 0,this.x$t=function(t,i){var r=n.b$t(i);if(r)if(r.type===$J.A$t)for(var e,s=Lt(n.S$t);!(e=s()).done;)for(var u,o=e.value,h=Lt(k.keys(r.properties));!(u=h()).done;){var c=u.value;o(c,r.properties[c])}else if(r.type===$J.xLt)for(var a,f=Lt(n.T$t);!(a=f()).done;){(0,a.value)(r.event)}else r.type===$J.uKt&&n.E$t&&r.event.trackState&&n.E$t(r.event.trackId,r.event.trackState.targetQualityIds)},this.P$t=t,this.P$t.w$t(PK,this.x$t)}var n=t.prototype;return n.b$t=function(t){var n;try{n=JSON.parse(t)}catch(t){0}return n},n.e$t=function(t){this.S$t.push(t)},n.n$t=function(t){Xi(this.S$t,t)},n.r$t=function(t){this.T$t.push(t)},n.h$t=function(t){Xi(this.T$t,t)},n.k$t=function(t){this.E$t=t},n._et=function(t,n){return this.P$t._et(t,n)},n.kn=function(){this.P$t.y$t(PK,this.x$t),Yi(this.T$t),Yi(this.S$t),this.E$t=void 0},t}();F(),Et(),F(),Et();var nZ=function(t){return t.I$t="medialoadedchange",t.gy="volumechange",t.$Zt="casterror",t.R$t="playererror",t.C$t="targetqualitychanged",t.D$t="receiverinfochanged",t}({}),iZ=function(t){function n(){return t.call(this,"medialoadedchange")||this}return Ct(n,t),n}(rh),rZ=function(t){function n(n,i){var r;return(r=t.call(this,"volumechange")||this).Mx=void 0,r.$P=void 0,r.Mx=n,r.$P=i,r}return Ct(n,t),n}(rh),eZ=function(t){function n(n){var i;return(i=t.call(this,"casterror")||this).lt=void 0,i.lt=n,i}return Ct(n,t),n}(rh),sZ=function(t){function n(n){var i;return(i=t.call(this,"playererror")||this).lt=void 0,i.lt=n,i}return Ct(n,t),n}(rh),uZ=function(t){function n(n,i){var r;return(r=t.call(this,"targetqualitychanged")||this).$D=void 0,r.B$t=void 0,r.$D=n,r.B$t=i,r}return Ct(n,t),n}(rh),oZ=function(t){function n(){return t.call(this,"receiverinfochanged")||this}return Ct(n,t),n}(rh),hZ=function(t){function n(n){var i;(i=t.call(this)||this).YBt=void 0,i.P$t=void 0,i.s$t=void 0,i.O$t=void 0,i.V$t=void 0,i.l$t=function(t){i.So(new eZ(t))},i.Y$t=function(t,n){"error"===t&&i.So(new sZ(n))},i.J$t=function(t,n){i.So(new uZ(t,n))},i.L$t=function(t,n){var r=JSON.parse(n);r.type===$J.aKt&&(i.O$t=r.info,i.So(new oZ))},i.H$t=function(){var t=i.F$t().receiver.volume,n=t.level,r=t.muted;i.So(new rZ(null!=n?n:void 0,null!=r?r:void 0))},i.K$t=function(){return i.U$t(i.YBt.getMediaSession())},i.W$t=function(t){var n;t||(null==(n=i.V$t)||n.a$t(i.W$t),i.V$t=void 0,i.So(new iZ))},i.j$t=function(t){var n,r=new kK(CK(t.code),null!=(n=t.description)?n:void 0);i.l$t(r)},i.YBt=n,i.YBt.addEventListener(cast.framework.SessionEventType.MEDIA_SESSION,i.K$t),i.P$t=new GJ(n.getSessionObj()),i.s$t=new tZ(i.P$t),i.s$t.e$t(i.Y$t),i.s$t.k$t(i.J$t),i.F$t().addUpdateListener(i.H$t),i.H$t(),i.M$t();var r=i.YBt.getMediaSession();return r&&i.U$t(r),i}Ct(n,t);var i=n.prototype;return i.N$t=function(t,n,i){this.s$t._et(PK,function(t,n,i){return{type:NK.uKt,trackID:t,trackType:n,properties:{targetQuality:i}}}(t,n,i)).catch(this.l$t)},i.M$t=function(){this.P$t.w$t(PK,this.L$t),this.s$t._et(PK,{type:NK.aKt}).catch(di)},i.c$t=function(){return this.O$t},i.F$t=function(){return this.YBt.getSessionObj()},i.U$t=function(t){!this.V$t&&t&&t.idleReason!==chrome.cast.media.IdleReason.FINISHED&&(this.V$t=new XJ(this,this.s$t,t),this.H$t(),this.So(new iZ),this.V$t.o$t(this.W$t))},i.q$t=function(){return this.V$t},i.z$t=function(t){return Vt(function(){var n,i,r;return zt(this,function(e){switch(e.label){case 0:n=function(t){var n=function(t,n,i,r){var e=function(t){for(var n,i=Lt(t.sources);!(n=i()).done;){var r=n.value;if(JA(r)){var e=r.src;if(e){var s,u=null!=(s=r.type)?s:HA(e);if(cZ(u))return[e,u]}}}var o,h;return[null!=(o=KS(t))?o:"",null!=(h=QS(t))?h:""]}(t),s=e[0],u=e[1],o=new chrome.cast.media.MediaInfo(s,u);return o.metadata=RK(t.metadata,t.poster),o.streamType=r,function(t,n,i){for(var r,e,s=function(){var t=e.value,n=QJ(t.sources);if(n)if(UK(n,t.timeOffset))(r=new chrome.cast.media.VastAdsRequest).adTagUrl=n.src;else if(FK(n,t.timeOffset)){var s,a,f=null!=(s=t.timeOffset)?s:0,v=t.skipOffset,d=null!=(a=MJ.NZt(f,i))?a:0,l=void 0!==v?MJ.NZt(v,i):void 0,w=new chrome.cast.media.BreakClip("bc"+c++);w.vastAdsRequest=new chrome.cast.media.VastAdsRequest,w.vastAdsRequest.adTagUrl=n.src,w.whenSkippable=l,w.customData={integration:t.integration};var g=Ui(o,function(t){return t.position===d});void 0===g&&(g=new chrome.cast.media.Break("b"+h++,[],d),o.push(g)),g.breakClipIds.push(w.id),u.push(w)}else 0;else 0},u=[],o=[],h=0,c=0,a=Lt(n);!(e=a()).done;)s();t.breakClips=u,t.breaks=o,t.vmapAdsRequest=r}(o,n,i),o}(t.G$t,t.Jc,t.ct,t.b0),i=new chrome.cast.media.LoadRequest(n);return i.autoplay=!0,i.currentTime=t.MP,i.customData=t.X$t,i}(t),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.YBt.loadMedia(n)];case 2:return i=e.sent(),[3,4];case 3:return r=e.sent(),i=r,[3,4];case 4:if(i)throw new kK(CK(i));return[2]}})}).call(this)},i.ix=function(t){this.F$t().setReceiverMuted(t,di,this.j$t)},i.Ox=function(t){this.F$t().setReceiverVolumeLevel(t,di,this.j$t)},i.Q$t=function(){return this.F$t().receiver.friendlyName},i.kn=function(){this.Vo(),this.YBt.removeEventListener(cast.framework.SessionEventType.MEDIA_SESSION,this.K$t),this.F$t().removeUpdateListener(this.H$t),this.P$t.y$t(PK,this.L$t),this.s$t.kn(),this.P$t.kn()},n}(th);function cZ(t){switch(t){case hA.dR:case hA.cR:case hA.lR:case hA.fR:return!0}return!1}var aZ=function(t){return t.Z$t="statechange",t}({}),fZ=function(t){function n(n){var i;return(i=t.call(this,"statechange")||this).Ylt=void 0,i.Ylt=n,i}return Ct(n,t),n}(rh),vZ=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).A3t=void 0,n.y3t=void 0,n.w3t=void 0,n.RJ=function(){var t=n.r3t();n.y3t=t===US.CONNECTED?new hZ(n.A3t.getCurrentSession()):void 0,n.So(new fZ(t))},n}Ct(n,t);var i=n.prototype;return i.L2t=function(t){this.w3t=t},i.O2t=function(){return this.w3t},i.U2t=function(){return this.y3t},i.r3t=function(){switch(this.A3t.getCastState()){case cast.framework.CastState.CONNECTED:return US.CONNECTED;case cast.framework.CastState.CONNECTING:return US.CONNECTING;case cast.framework.CastState.NOT_CONNECTED:return US.AVAILABLE;case cast.framework.CastState.NO_DEVICES_AVAILABLE:default:return US.UNAVAILABLE}},i.VY=function(t,n){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return[4,bK(n)];case 1:return i.sent(),this.A3t=cast.framework.CastContext.getInstance(),this.A3t.addEventListener(cast.framework.CastContextEventType.CAST_STATE_CHANGED,this.RJ),this.A3t.setOptions({receiverApplicationId:t.appID,autoJoinPolicy:chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED}),[2]}})}).call(this)},i.z2t=function(){return Vt(function(){var t,n;return zt(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.A3t.requestSession()];case 1:if(t=i.sent())throw t;return[3,3];case 2:throw n=i.sent(),new kK(CK(n));case 3:return[2]}})}).call(this)},i.X2t=function(t){var n;return null==(n=this.w3t)?void 0:n.onStart(t)},i.t3t=function(t){var n;return null==(n=this.w3t)?void 0:n.onStop(t)},i.Q2t=function(t){var n;return null==(n=this.w3t)?void 0:n.onJoin(t)},i.$2t=function(t){var n;return null==(n=this.w3t)?void 0:n.onLeave(t)},i.e3t=function(t){this.A3t.endCurrentSession(t)},n}(th);F(),Et(),Wt(),Dt(),Qt(),F(),Et(),Wt(),Bt(),Dt(),H(),Qt(),F(),Et(),Wt(),Bt(),Dt(),Ut(),Qt(),F(),Et(),Dt();var dZ=function(t){function n(n,i,r,e,s,u,o,h,c){var a;return(a=t.call(this)||this).oa=void 0,a.bz=void 0,a.WA=void 0,a.Z4=void 0,a.kz=void 0,a.Ez=void 0,a.$$t=void 0,a.i0t=void 0,a.e0t=void 0,a.YL=void 0,a.$L=void 0,a.Gl=void 0,a.qc=void 0,a.oa=n,a.$$t=0,a.YL=new ng,a.$L=new ng,a.Gl=new Qm,a.qc=new Kx,a.$$t=i,a.bz=r-i,a.WA=e,a.Z4=s,a.kz=u,a.Ez=o,a.i0t=h,a.e0t=c,a}Ct(n,t);var i=n.prototype;return i.Zst=function(){return this.qc},i.RP=function(){return TA.iL()},i.LP=function(){return this.bz+this.$$t},i.Hst=function(){return this.LP()},i.DP=function(){},i.Nd=function(){return this.WA},i.VP=function(){return this.Z4},i.HP=function(){},i.ox=function(){return this.kz},i.t0t=function(){},i.lx=function(){return this.Ez},i.vx=function(t){this.Ez!==t&&(this.Ez=t,this.So(new fT(this.oa.MP,t)))},i.bx=function(){return Cy.VL},i.gx=function(){return TA.iL()},i.Tx=function(){return TA.iL()},i.Ex=function(){return!1},i.EP=function(){return this.YL},i.Dx=function(){return this.$L},i.Ix=function(){return this.Gl},i.f$t=function(t){},i.Nx=function(){return this.i0t},i.Cx=function(){return this.e0t},i.Gx=function(){this.kz=!1},i.zx=function(){this.kz=!0},i.My=function(t){this.bz=t-this.$$t},i.s0t=function(){return this.$$t},i.n0t=function(t){this.$$t=t},i.knt=function(t){this.qc.knt(t)},i.Xx=function(){},i.kn=function(){this.Vo(),this.YL.kn(),this.$L.kn(),this.Gl.kn(),this.qc.kn()},n}(th);F(),Et(),Dt(),Ut(),F(),Et(),Bt(),Dt(),F(),Et(),Dt(),F(),Et();var lZ=function(t){return t.r0t="ccmodechangerequest",t.h0t="cctargetqualitychangerequest",t.o0t="cctrackchangerequest",t}({}),wZ=function(t){function n(n,i,r){var e;return(e=t.call(this,lZ.r0t)||this).track=void 0,e.trackId=void 0,e.mode=void 0,e.track=n,e.trackId=i,e.mode=r,e}return Ct(n,t),n}(rh);F(),Et();var gZ=function(t){return t.NT="TEXT",t.Dk="AUDIO",t.Bk="VIDEO",t}({}),_Z=function(t){return t.OU="SUBTITLES",t.FU="CAPTIONS",t.UU="DESCRIPTIONS",t.Yn="CHAPTERS",t.VU="METADATA",t}({});function mZ(t){return"AUDIO"===t.type}function yZ(t){return"VIDEO"===t.type}function pZ(t){return"TEXT"===t.type}var kZ=function(t){function n(n){var i;(i=t.call(this)||this).o=void 0,i.jI=void 0,i.ZI=void 0,i.Lt=void 0,i.bs=void 0,i.Ax=void 0,i.Km=void 0,i.pO=void 0,i._5=void 0,i.k5=void 0,i.p5=void 0,i.g5=void 0,i.Yo=void 0,i.a0t=void 0,i.hu=void 0;var r=n.customData;return i.jI=Number(n.trackId)||0,i.o=""+(r&&r.id||i.jI),i.pO=r&&r.label||n.name||"",i.bs=r&&r.language||n.language||"",i.ZI=r&&r.inBandMetadataTrackDispatchType||"",i.Lt=r&&r.kind||function(t){switch(t){case _Z.OU:return Ym.OU;case _Z.FU:return Ym.FU;case _Z.UU:return Ym.UU;case _Z.Yn:return Ym.Yn;case _Z.VU:return Ym.VU}return}(n.subtype)||"subtitles",i.Ax=Cg.NONE,i.Km=r&&void 0!==r.type?function(t){return Pg(t)?t:Dg.DEFAULT}(r.type):Dg.WEBVTT,i._5=[],i.p5=new LD(i._5),i.k5=[],i.g5=new LD(i.k5),i.Yo=Wm(r&&r.mode||Hm.Nh),i.a0t=i.Yo,i}Ct(n,t);var i=n.prototype;return i.m5=function(t){return Ui(this.p5.II,function(n){return n.o===t})},i.$I=function(t){this.Xk=t},i.c0t=function(t){},i.kn=function(){},i.hr=function(){},Nt(n,[{key:"Ca",get:function(){return this.hu||(this.hu=qm(this)),this.hu}},{key:"Th",get:function(){return this.pO},set:function(t){t!==this.pO&&(this.pO=t,this.So(new wg(this)))}},{key:"q",get:function(){return this.g5}},{key:"L",get:function(){return this.p5}},{key:"Xk",get:function(){return this.Yo},set:function(t){var n=Wm(t);this.Yo!==n&&(this.Yo=n,this.a0t!==n&&this.So(new wZ(this,this.jI,n)),this.So(new dg(this)))}},{key:"u0t",get:function(){return this.a0t},set:function(t){var n=Wm(t),i=this.Yo!==n;this.Yo=n,this.a0t=n,i&&this.So(new dg(this))}}]),n}(th);F(),Et(),Bt(),Dt(),Ut(),F(),Et(),Dt();var bZ=function(t){function n(n,i){var r;return(r=t.call(this,lZ.o0t)||this).trackId=void 0,r.enabled=void 0,r.trackId=n,r.enabled=i,r}return Ct(n,t),n}(rh);F(),Et(),Dt();var AZ=function(t){function n(n,i){var r;return(r=t.call(this,lZ.h0t)||this).track=void 0,r.targetQuality=void 0,r.track=n,r.targetQuality=i,r}return Ct(n,t),n}(rh);F(),Et();var TZ=function(t){return t.Dk="audio",t.Bk="video",t.NT="text",t}({}),SZ=function(t){function n(n){var i;(i=t.call(this)||this).o=void 0,i.jI=void 0,i.Lt=void 0,i.bs=void 0,i.B3=void 0,i.pO=void 0,i.Kdt=void 0,i.dO=new vg,i.jdt=void 0,i.We=void 0,i.l0t=void 0,i.hu=void 0,i.iLt=function(){return i.So(new wg(i))};var r=n.customData;if(i.jI=Number(n.trackId)||0,i.o=""+(r&&r.id||i.jI),i.pO=r&&r.label||n.name||"",i.bs=r&&r.language||n.language||"",i.Lt=r&&r.kind||"main",i.We=r&&r.enabled,i.l0t=i.We,mZ(n)){i.B3=TZ.Dk;var e=n.customData&&n.customData.qualities;if(e)for(var s,u=Lt(e);!(s=u()).done;){var o=s.value,h=new WF(o.id,o.bandwidth,o.codecs,o.name,"",o.audioSamplingRate);h.wn("update",i.iLt),i.dO.lO(h)}}else{i.B3=TZ.Bk;var c=n.customData&&n.customData.qualities;if(c)for(var a,f=Lt(c);!(a=f()).done;){var v=a.value,d=new HF(v.id,v.bandwidth,v.codecs,v.name,"",v.frameRate,v.width,v.height);d.wn("update",i.iLt),i.dO.lO(d)}}return i}Ct(n,t);var i=n.prototype;return i.wO=function(t){this.Rt=t},i.c0t=function(t){if(t.targetQualityIds){for(var n,i=[],r=Lt(this.dO.II);!(n=r()).done;){var e=n.value;t.targetQualityIds.indexOf(e.o)>-1&&i.push(e)}var s=i.length?i:void 0;this.d0t(s)}},i.d0t=function(t){(function(t,n){return!t&&n||t&&!n||t&&n&&!Ki(t,n)})(this.jdt,t)&&(this.jdt=t&&this.dO.fO(t)?t:void 0,this.So(new JM(this.jdt,this)))},i.unload=function(){for(var t,n=Lt(this.dO.II);!(t=n()).done;){t.value.mn("update",this.iLt)}this.dO.hr()},Nt(n,[{key:"XI",get:function(){return this.Kdt}},{key:"YI",get:function(){return this.jdt},set:function(t){this.d0t(t),this.So(new AZ(this,t))}},{key:"KI",get:function(){return this.dO}},{key:"Th",get:function(){return this.pO},set:function(t){t!==this.pO&&(this.pO=t,this.So(new wg(this)))}},{key:"Rt",get:function(){return this.We},set:function(t){this.We!==t&&(this.We=t,this.l0t!==t&&this.So(new bZ(this.jI,t)),this.So(new dg(this)))}},{key:"f0t",get:function(){return this.l0t},set:function(t){var n=this.We!==t;this.We=t,this.l0t=t,n&&this.So(new dg(this))}},{key:"Ca",get:function(){return this.hu||(this.hu=Zw(this)),this.hu}},{key:"Xk",get:function(){return this.Rt?"enabled":"disabled"}}]),n}(th);F(),Et();var EZ=function(t){return t.v0t="legacy",t._0t="caf",t}({});F(),Et(),Bt(),Dt(),Ut(),F(),Et(),Bt(),Dt(),H(),Ut(),F(),Et(),F(),Et();var IZ=function(){function t(t){this.qc=void 0,this.g0t=0,this.qc=t}var n=t.prototype;return n.Rc=function(){if(!(this.g0t>=this.qc.length)){var t=this.qc[this.g0t];return this.g0t+=1,t}},n.lt=function(){return this.Rc()},t}();function RZ(t){var n,i,r;return null!=(r=null==(i=t.OZt)||null==(n=i.dKt)?void 0:n.lKt())?r:[]}var CZ=function(){},DZ=function(){function t(){this.hu=void 0}return t.prototype.wnt=function(){var t;return null!=(t=this.hu)?t:this.hu=function(t){return{get ads(){return t.Jc.map(function(t){return t.wnt()})},get integration(){return t.MZt},get maxDuration(){return t.p0t},get maxRemainingDuration(){return t.m0t},get timeOffset(){return t._Ot},get customData(){return t.X$t}}}(this)},t}(),PZ=function(){function t(t,n){this.y0t=void 0,this.oa=void 0,this.y0t=t,this.oa=n}return Nt(t,[{key:"w0t",get:function(){return this.y0t}},{key:"t",get:function(){return this.oa}}]),t}(),NZ=function(t){function n(n,i){var r;return(r=t.call(this)||this).GZt=void 0,r.k0t=void 0,r.T0t=[],r.E0t=[],r.GZt=n,r.k0t=i,r}Ct(n,t);var i=n.prototype;return i.b0t=function(t,n,i,r){var e=Ui(this.T0t,function(n){return n.PKt===t});if(void 0!==e)return e;var s=new MZ(t,n,this,this.k0t,i,r);return this.T0t.push(s),s},i.S0t=function(t,n,i,r,e){var s=Ui(this.E0t,function(n){return n.RKt===t});if(void 0!==s)return s;var u=new OZ(t,n,i,this,this.k0t,r,e);return this.E0t.push(u),u},Nt(n,[{key:"uZt",get:function(){return this.GZt}},{key:"Jc",get:function(){for(var t,n=[],i=Lt(this.GZt.A0t);!(t=i()).done;)for(var r,e=t.value,s=Lt(RZ(e));!(r=s()).done;){var u,o,h=r.value,c=null!=(o=null==(u=h.IKt)?void 0:u.tYt)?o:[];if(h.PKt&&n.push(this.b0t(h.PKt,c,h.CKt,e.Ont)),h.RKt)for(var a,f=Lt(h.RKt.DKt);!(a=f()).done;){var v=a.value;n.push(this.S0t(v,c,h.RKt,h.CKt,e.Ont))}}return n}},{key:"MZt",get:function(){return mS.CSAI}},{key:"_Ot",get:function(){var t=this.GZt.dd;return t>=0?t:this.k0t.t.Nd()}},{key:"m0t",get:function(){for(var t,n=0,i=Lt(this.GZt.A0t);!(t=i()).done;)for(var r,e=Lt(RZ(t.value));!(r=e()).done;){var s=r.value;s.PKt&&!s.PKt.$Yt&&(n+=s.PKt.ct)}return this.k0t&&this.k0t.w0t&&(n+=this.k0t.w0t.ct-this.k0t.w0t.MP),n}},{key:"p0t",get:function(){for(var t,n=0,i=Lt(this.GZt.A0t);!(t=i()).done;)for(var r,e=Lt(RZ(t.value));!(r=e()).done;){var s=r.value;s.PKt&&(n+=s.PKt.ct)}return n}},{key:"X$t",get:function(){}}]),n}(DZ),BZ={height:0,width:0,clickThrough:"",contentHTML:"",resourceURI:"",altText:""},xZ=function(t){function n(n,i,r,e,s,u){var o;return(o=t.call(this)||this).M0t=void 0,o.iYt=void 0,o.zKt=void 0,o.k0t=void 0,o.XYt=void 0,o.LZt=void 0,o.x0t=!1,o.M0t=n,o.iYt=i,o.zKt=r,o.k0t=e,o.XYt=s,o.LZt=u,o}Ct(n,t);var i=n.prototype;return i.P0t=function(){return this.x0t},i.I0t=function(){this.x0t=!0},i.R0t=function(t){return Yu({},BZ,{resourceURI:t.LJt||""})},i.C0t=function(t){return Yu({},BZ,{contentHTML:t.LJt.trim(),type:"HTMLResource"})},i.D0t=function(t){var n,i;return Yu({},BZ,{clickThrough:(null==(n=t.AYt)?void 0:n.trim())||"",resourceURI:(null==(i=t.LJt)?void 0:i.trim())||"",altText:t.wYt||"",type:"StaticResource"})},i.B0t=function(t,n,i){if(t&&n){var r="<img "+(i?"title='"+i+"' ":"")+"src='"+encodeURI(t)+"'>";return"<a href='"+encodeURI(n)+"' target='_blank' rel='noopener'>"+r+"</a>"}},i.IKt=function(t){var n=this;return t?t.map(function(t){var i,r={adSlotId:t.lYt||"",height:t.Mi||0,width:t.Ti||0};if(t.LKt){var e,s=n.D0t(t.LKt),u=s.clickThrough||(null==(e=t.gYt)?void 0:e.AYt);i=Yu({},s,{contentHTML:n.B0t(s.resourceURI,u,s.altText)||""})}else if(t.VKt)i=n.C0t(t.VKt);else{if(!t.FKt)return;i=n.R0t(t.FKt)}return xw(i,r)}).filter(function(t){return void 0!==t}):[]},i.N0t=function(){return this.M0t.yKt},Nt(n,[{key:"od",get:function(){return this.zKt}},{key:"Ont",get:function(){return this.LZt}},{key:"CKt",get:function(){return this.XYt}}]),n}(CZ),OZ=function(t){function n(n,i,r,e,s,u,o){var h;return(h=t.call(this,n,i,e,s,u,o)||this).L0t=void 0,h.hu=void 0,h.L0t=r,h}Ct(n,t);var i=n.prototype;return i.xa=function(){var t=this.zKt,n={companions:this.IKt(this.iYt),type:"nonlinear",id:this.M0t.GKt,skipOffset:this.JYt,integration:this.LZt.integration,adSystem:this.M0t.yKt,get adBreak(){return t.wnt()},creativeId:this.M0t.GKt,universalAdIds:this.XYt.map(function(t){return{adIdRegistry:t.ZJt,adIdValue:t.tZt}})};return this.M0t.FKt?xw(this.R0t(this.M0t.FKt),n):this.M0t.VKt?xw(this.C0t(this.M0t.VKt),n):this.M0t.LKt?xw(this.D0t(this.M0t.LKt),n):n},i.wnt=function(){var t;return null!=(t=this.hu)?t:this.hu=this.xa()},i.O0t=function(){var t,n;return null!=(n=null==(t=this.M0t.LKt)?void 0:t.LJt)?n:""},i.F0t=function(){var t,n,i;return null!=(i=null==(n=this.M0t)||null==(t=n.LKt)?void 0:t.FJt)?i:""},Nt(n,[{key:"RKt",get:function(){return this.M0t}},{key:"xKt",get:function(){return this.L0t}},{key:"JYt",get:function(){var t,n=this.M0t.od;return n&&n.Ont&&void 0!==n.Ont.skipOffset?MJ.NZt(n.Ont.skipOffset,this.k0t.w0t.ct):(null==(t=this.M0t.od)?void 0:t.JYt)||-1}}]),n}(xZ),MZ=function(t){function n(n,i,r,e,s,u){var o;return(o=t.call(this,n,i,r,e,s,u)||this).hu=void 0,o}Ct(n,t);var i=n.prototype;return i.xa=function(){var t,n=this.zKt,i=this.M0t;return{companions:this.IKt(this.iYt),duration:i.ct,id:i.GKt,mediaFiles:i.QYt,get mediaUrl(){return i.tJt},skipOffset:this.JYt,type:"linear",integration:this.LZt.integration,adSystem:i.yKt,width:void 0,height:void 0,get adBreak(){return n.wnt()},clickThrough:null==(t=i.FYt)?void 0:t.AYt,creativeId:i.GKt,universalAdIds:this.XYt.map(function(t){return{adIdRegistry:t.ZJt,adIdValue:t.tZt}}),closedCaptionFiles:i.eJt,extensions:i.nJt}},i.wnt=function(){var t;return null!=(t=this.hu)?t:this.hu=this.xa()},i.O0t=function(){return this.M0t.QYt.length>0?this.M0t.QYt[0].contentURL:""},i.F0t=function(){return this.M0t.QYt.length>0?this.M0t.QYt[0].type:""},Nt(n,[{key:"PKt",get:function(){return this.M0t}},{key:"JYt",get:function(){var t=this.M0t.od;return t&&t.Ont&&void 0!==t.Ont.skipOffset?MJ.NZt(t.Ont.skipOffset,this.k0t.w0t.ct):this.M0t.JYt||-1}}]),n}(xZ);function LZ(t){return V(t,MZ)}F(),Et();var UZ=function(t){return t.U0t="csai",t.V0t="google-ima",t.so="google-dai",t.H0t="freewheel",t.W0t="mediatailor",t.Iv="chromecast",t.ont="theoads",t}({});F(),Et(),Dt();var FZ=function(t){function n(n){return t.call(this,"q0t",n)||this}return Ct(n,t),n.prototype.xa=function(){return new VZ(this.Int.wnt())},n}(xx),VZ=function(t){function n(n){return t.call(this,"updatead",n)||this}return Ct(n,t),n}(Ox);F(),Et(),Dt();var HZ=function(t){function n(n){return t.call(this,"z0t",n)||this}return Ct(n,t),n.prototype.xa=function(){return new WZ(this.Int.wnt())},n}(xx),WZ=function(t){function n(n){return t.call(this,"adloaded",n)||this}return Ct(n,t),n}(Ox),zZ=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).oa=void 0,e.i$t=void 0,e.Q0t=void 0,e.X0t=[],e.G0t=void 0,e.M0t=void 0,e.hu=void 0,e.eh=function(t){var n;if(t){var i=e.i$t.KD,r=i.breakStatus,s=i.media,u=s.breakClips,o=s.breaks,h=null==(n=DK(i))?void 0:n.media,c=[];o&&u&&e.Y0t(o,u,h,c),e.t1t(r,c);for(var a,f=Lt(c);!(a=f()).done;){var v=a.value;e.So(v)}}},e.oa=n,e.i$t=i,e.Q0t=r,e.i$t.o$t(e.eh),e}Ct(n,t);var i=n.prototype;return i.M6=function(t,n,i){throw new p("Scheduling ads while casting is not supported.")},i.rD=function(){this.i$t.p$t()},i.Ent=function(t){var n;null==(n=this.Q0t)||n.Ent(t)},i.Tnt=function(t,n){var i;null==(i=this.Q0t)||i.Tnt(t,n)},i.K0t=function(t){return Ui(this.X0t,function(n){return n.o===t})},i.Y0t=function(t,n,i,r){for(var e,s=this.X0t,u=[],o=!1,h=Lt(t);!(e=h()).done;){var c=e.value,a=this.K0t(c.id);void 0===a&&(a=new XZ(c),r.push(new Nx(a))),!Un(a.J0t)&&Un(i)&&(a.J0t=this.Z0t(a.$0t,i));var f=a.Jc;a.er(c,n,i,r);for(var v,d=Lt(a.Jc);!(v=d()).done;){var l=v.value;ji(f,l)||(r.push(new Mx(l)),o=!0)}u.push(a)}this.X0t=u,o&&r.push(new Gx);for(var w,g=Lt(s);!(w=g()).done;){var _=w.value;ji(u,_)||r.push(new Dx(_))}},i.t1t=function(t,n){var i,r,e=this.G0t,s=this.M0t;if(t){var u,o=t.breakId,h=t.breakClipId;i=o?this.K0t(o):void 0,r=h?null==(u=this.G0t)?void 0:u.i1t(h):void 0}if(this.G0t=i,this.M0t=r,i!==e&&(void 0!==e&&(e.e1t=void 0,n.push(new Ux(e))),void 0!==i&&(i.e1t=this.i$t,n.push(new Vx(i)))),r!==s){var c=this.oa.LP();void 0!==s&&n.push(new Xx(s,c)),void 0!==r&&n.push(new Wx(r,c))}},i.Z0t=function(t,n){if(n&&n.breaks){var i=Ui(n.breaks,function(n){return n.id===t.id});return i}},i.knt=function(t){for(var n,i=[],r=Lt(this.X0t);!(n=r()).done;){var e=n.value,s=e.Jc;if(e===this.G0t&&void 0!==this.M0t){var u=s.indexOf(this.M0t);u>=0&&(s=s.slice(u))}else if(e.j0t())continue;for(var o,h=Lt(s);!(o=h()).done;){var c=o.value.s1t();c&&i.push(c)}}for(var a,f=Lt(i);!(a=f()).done;){var v=a.value;t.M6(v,Sx.gnt,!1)}},i.kn=function(){return this.Vo(),this.i$t.a$t(this.eh),void 0!==this.G0t&&(this.G0t.e1t=void 0,this.G0t=void 0),this.M0t=void 0,Yi(this.X0t),ut.resolve(void 0)},i.Snt=function(t){},Nt(n,[{key:"zc",get:function(){return void 0!==this.G0t}},{key:"mnt",get:function(){return this.M0t?[this.M0t]:[]}},{key:"ynt",get:function(){var t;return null!=(t=this.G0t)?t:null}},{key:"Ant",get:function(){var t=this;return Ji(this.X0t,function(n){var i=n.Jc;if(n===t.G0t&&void 0!==t.M0t){var r=i.indexOf(t.M0t);if(r>=0)return i.slice(r+1)}return n.j0t()?[]:i})}},{key:"bnt",get:function(){var t=this;return this.X0t.filter(function(n){return n===t.G0t||!n.j0t()})}},{key:"Ca",get:function(){var t;return null!=(t=this.hu)?t:this.hu=Ex(this)}}]),n}(ih),XZ=function(t){function n(n){var i;return(i=t.call(this)||this).n1t=void 0,i.J0t=void 0,i.qc=[],i.e1t=void 0,i.n1t=n,i}Ct(n,t);var i=n.prototype;return i.j0t=function(){return this.n1t.isWatched},i.i1t=function(t){return Ui(this.qc,function(n){return n.o===t})},i.er=function(t,n,i,r){for(var e,s=function(s){var o=t.breakClipIds[s],h=Ui(n,function(t){return t.id===o});if(void 0===h)return"continue";var c=s<e.qc.length?e.qc[s]:new qZ(h,e);!Un(c.r1t)&&Un(i)&&(c.r1t=e.h1t(i,o,s)),c.er(h,r),u.push(c)},u=[],o=0;o<t.breakClipIds.length;o++)e=this,s(o);this.n1t=t,this.qc=u},i.h1t=function(t,n,i){if(t&&t.breakClips){var r=Ui(t.breakClips,function(t){return t.id===n});if(!r){var e,s=null==(e=this.J0t)?void 0:e.breakClipIds[i];s&&(r=Ui(t.breakClips,function(t){return t.id===s}))}return r}},Nt(n,[{key:"$0t",get:function(){return this.n1t}},{key:"o",get:function(){return this.n1t.id}},{key:"Jc",get:function(){return this.qc}},{key:"MZt",get:function(){return UZ.Iv}},{key:"p0t",get:function(){var t=this.n1t.duration;return void 0===t&&this.qc.length>0&&(t=Pi(this.qc,function(t){return t.ct}),S(t)&&(t=void 0)),t}},{key:"m0t",get:function(){var t=this.p0t;if(void 0!==t&&void 0!==this.e1t){var n=this.e1t.g$t();if(void 0!==n)return b.max(0,t-n)}return t}},{key:"_Ot",get:function(){return this.n1t.position}},{key:"X$t",get:function(){}}]),n}(DZ),qZ=function(){function t(t,n){this.a1t=void 0,this.r1t=void 0,this.od=void 0,this.hu=void 0,this.a1t=t,this.od=n}var n=t.prototype;return n.N0t=function(){return""},n.F0t=function(){var t;return null!=(t=this.a1t.contentType)?t:""},n.O0t=function(){var t,n;return null!=(n=null!=(t=this.a1t.contentUrl)?t:this.a1t.contentId)?n:""},n.er=function(t,n){var i=this.o,r=this.ct,e=this.a1t.contentUrl;this.a1t=t;var s=this.o,u=this.ct,o=this.a1t.contentUrl;i===s&&(r===u||S(r)&&S(u))&&e===o||n.push(new FZ(this)),S(r)&&!S(u)&&n.push(new HZ(this))},n.s1t=function(){var t;return this.r1t&&(t=VJ(this.r1t,this.od._Ot)),t||(t=VJ(this.a1t,this.od._Ot)),t},n.wnt=function(){var t;return null!=(t=this.hu)?t:this.hu=this.xa()},n.xa=function(){var t=this;return{get extensions(){return[]},get companions(){return t.tYt},get duration(){return t.ct},get id(){return t.o},get mediaFiles(){return t.QYt},get mediaUrl(){return t.tJt},get closedCaptionFiles(){return[]},get skipOffset(){return t.JYt},type:"linear",integration:UZ.Iv,get adSystem(){return t.N0t()},width:void 0,height:void 0,get adBreak(){return t.od.wnt()},get resourceURI(){return t.O0t()},get clickThrough(){return t.AYt},get creativeId(){return t.GKt},get customData(){return t.X$t},get isSlate(){return!1},get universalAdIds(){return t.CKt.map(function(t){return{adIdRegistry:t.ZJt,adIdValue:t.tZt}})}}},Nt(t,[{key:"o1t",get:function(){return this.a1t}},{key:"o",get:function(){return this.a1t.id}},{key:"tYt",get:function(){return[]}},{key:"ct",get:function(){var t;return null!=(t=this.a1t.duration)?t:NaN}},{key:"QYt",get:function(){var t=this.O0t();return t?[{contentURL:t,delivery:"progressive",type:this.F0t(),width:0,height:0}]:[]}},{key:"tJt",get:function(){return this.O0t()}},{key:"JYt",get:function(){var t=this.a1t.whenSkippable;return void 0===t?void 0:t<0?-1:t}},{key:"AYt",get:function(){return this.a1t.clickThroughUrl}},{key:"GKt",get:function(){}},{key:"CKt",get:function(){return[]}},{key:"X$t",get:function(){}}]),t}();F(),Et(),Bt(),Dt();var GZ=function(t){function n(n,i){var r;return void 0===i&&(i=Vn.Zs.Ke),(r=t.call(this)||this).pE=void 0,r.Ls=void 0,r.d1t=void 0,r.c1t=void 0,r.We=!1,r.l1t=function(t){t.stopPropagation(),r.So(new rh("clickstart"))},r.f1t=function(t){t.stopPropagation(),r.So(new rh("click"))},r.pE=n,r.d1t=i,r.Ls=v.createElement("a"),r.Ls.style.position="absolute",r.Ls.style.zIndex="11",r.Ls.target="Xu",r.d1t?(vB(r.Ls,"learn more"),r.Ls.className="theoplayer-ad-overlay-component theoplayer-ad-touch-clickthrough",r.Ls.setAttribute("rel","noopener")):ci(r.Ls),r.pE.appendChild(r.Ls),r.QU(),r}Ct(n,t);var i=n.prototype;return i.jU=function(){if(!this.We){this.We=!0,this.Ls.style.display="",this.d1t||(this.pE.style.cursor="pointer");var t=this.d1t?this.Ls:this.pE;Vn.Zs.Ke?(t.addEventListener("touchstart",this.l1t),t.addEventListener("touchend",this.f1t)):(t.addEventListener("mousedown",this.l1t),t.addEventListener("click",this.f1t))}},i.QU=function(){if(this.We){this.We=!1,this.Ls.style.display="none",this.d1t||(this.pE.style.cursor="");var t=this.d1t?this.Ls:this.pE;Vn.Zs.Ke?(t.removeEventListener("touchstart",this.l1t),t.removeEventListener("touchend",this.f1t)):(t.removeEventListener("mousedown",this.l1t),t.removeEventListener("click",this.f1t))}},i.zg=function(){this.Vo(),this.QU(),this.pE.removeChild(this.Ls)},Nt(n,[{key:"u1t",get:function(){return this.c1t},set:function(t){this.c1t!==t&&(this.c1t=t,this.Ls.href=null!=t?t:"",t?this.jU():this.QU())}}]),n}(th);F(),Et(),Bt(),Dt(),F(),Et(),Ut();var jZ=[1200,992,768,576],QZ={1200:"theo-size-xl",992:"theo-size-l",768:"theo-size-m",576:"theo-size-s"},YZ=function(){function t(t,n){var i=this;this.Ls=void 0,this.sc=void 0,this._1t=void 0,this.bn=void 0,this.Ls=t,this.sc=n,this.bn=function(t){i.v1t(t.width)},this._1t=KZ(n.Eu),si(this.Ls,this._1t),n.wn(hI.yn,this.bn)}var n=t.prototype;return n.v1t=function(t){var n=KZ(t);n!==this._1t&&(si(this.Ls,n),function(t,n){if(void 0!==t.classList)t.classList.remove(n);else if(void 0!==t.className){for(var i=" "+ri(t)+" ",r=" "+n+" ";-1!==i.indexOf(r);)i=i.replace(r," ");ei(t,i.trim())}}(this.Ls,this._1t),this._1t=n)},n.kn=function(){this.sc.mn(hI.yn,this.bn)},t}();function KZ(t){for(var n,i=Lt(jZ);!(n=i()).done;){var r=n.value;if(t>r)return QZ[r]}return"theo-size-xs"}var JZ=function(t){function n(n,i){var r;return(r=t.call(this)||this).Ls=void 0,r.A1t=void 0,r.ud=void 0,r.tc=void 0,r.Yo=void 0,r.y1t=function(){r.So(new rh("rD"))},r.Ls=v.createElement("div"),r.xe.className="theoplayer-ad-overlay-component theoplayer-ad-skip theoplayer-ad-skip-countdown",r.xe.style.position="absolute",r.ud=v.createElement("span"),r.xe.appendChild(r.ud),i&&(r.A1t=v.createElement("div"),r.A1t.className="theoplayer-ad-skip-poster",r.A1t.style.backgroundImage='url("'+jo(i)+'")',r.xe.appendChild(r.A1t)),r.Yo="countdown",r.tc=new YZ(r.xe,n),r}Ct(n,t);var i=n.prototype;return i.g1t=function(t){"countdown"!==this.Yo&&(this.Yo="countdown",this.p1t(),this.xe.classList.remove("theoplayer-ad-skip-button"),this.xe.classList.add("theoplayer-ad-skip-countdown")),this.UT="You can skip in "+b.round(t)+" seconds"},i.m1t=function(){"skip"!==this.Yo&&(this.Yo="skip",this.UT="Skip Ad",this.w1t(),this.xe.classList.remove("theoplayer-ad-skip-countdown"),this.xe.classList.add("theoplayer-ad-skip-button"))},i.w1t=function(){this.xe.addEventListener("mouseup",this.y1t),this.xe.addEventListener("touchend",this.y1t)},i.p1t=function(){this.xe.removeEventListener("mouseup",this.y1t),this.xe.removeEventListener("touchend",this.y1t)},i.kn=function(){this.Vo(),this.p1t(),this.tc.kn(),$n(this.Ls),$n(this.ud),this.A1t&&$n(this.A1t)},Nt(n,[{key:"xe",get:function(){return this.Ls}},{key:"Xk",get:function(){return this.Yo}},{key:"UT",get:function(){return this.ud.textContent||""},set:function(t){vB(this.ud,t)}}]),n}(th),ZZ=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this)||this).oa=void 0,u.YBt=void 0,u.i$t=void 0,u.OPt=TA.iL(),u.q1t=void 0,u.WA=void 0,u.Z4=!1,u.JW=void 0,u.kz=void 0,u.Ez=void 0,u.M1t=void 0,u.t5=Cy.VL,u.X1t=!1,u.Ho=TA.iL(),u.N4=void 0,u.Sz=!1,u.$$t=void 0,u.i0t=void 0,u.e0t=void 0,u.YL=new ng,u.$L=new ng,u.Gl=new Qm,u.qc=void 0,u.Q1t=void 0,u.Y1t=void 0,u.$1t=void 0,u.LEt=NaN,u.W1t=void 0,u.N1t=!1,u.H1t=NaN,u.U1t=void 0,u.x1t=0,u.i2t=function(t,n){switch(t){case"buffered":u.OPt=new TA(n),u.So(new qR(u.LP()));break;case"currentProgramDateTime":u.q1t=new Date(n).getTime()-u.LP();break;case"played":u.Ho=new TA(n);break;case"seekable":u.C1t();break;case"videoHeight":u.F1t(void 0,n);break;case"videoWidth":u.F1t(n,void 0)}},u.e4=function(t){switch(t.type){case eh.$w:u.Je(t.currentTime);break;case eh.Zw:u.Rq();break;case eh.Yw:u.So(new lL(t.representation,t.previousRepresentation));break;case eh.iy:u.So(new WM(t.segmentStartTime,t.error,t.trackType,t.track,t.quality,t.retryCount));break;case eh.Dw:u.So(new hH(t.currentTime,t.initDataType,t.initData));break;case eh.Ew:u.So(new tN(new eg(cd.CONTENT_PROTECTION_ERROR,t.error,void 0,t.licenseAcquisitionURL,t.status,t.statusText,t.licenseAcquisitionMessage,t.systemCode)));break;case eh.Pw:u.So(new nN)}},u.W$t=function(t){u.C1t(),u.B1t(),u.hh(),u.L1t(),u.V1t(),u.R1t(),u.T1t(),u.b1t(),u.j1t(),u.K1t(),u.Z1t(),t||$Z(u.i$t.KD)&&u.Eh()},u.bd=function(){u.V1t(),u.Z1t()},u.e2t=function(t){u.So(t)},u.z1t=gi(function(t){return u.y7(t)},50),u.l$t=function(t){u.W1t=void 0,u.So(new WJ(t))},u.J1t=function(){u.zx()},u.t2t=function(){u.qc.rD()},u.oa=n,u.YBt=r,u.i$t=e,u.qc=new zZ(n,e,i.Jc),u.$$t=s.s0t(),u.WA=s.Nd()-u.$$t,u.kz=s.ox(),u.Ez=s.lx(),u.i0t=s.Nx(),u.e0t=s.Cx(),u.i$t.r$t(u.e4),u.i$t.e$t(u.i2t),u.i$t.o$t(u.W$t),u.i$t.wn(HJ.$Zt,u.e2t),u.i$t.u$t().then(function(t){u.So(new zJ(t.bt,t.Mc))},u.l$t),u}Ct(n,t);var i=n.prototype;return i.b1t=function(){var t=this.i$t.KD.activeTrackIds;if(t){if(this.S1t()){var n=this.$L.II.map(function(t){return t.o}),i=this.YL.II.map(function(t){return t.o});ji(n.concat(i),"0")&&t.push(0)}r$(t,this.YL),r$(t,this.$L),function(t,n){for(var i,r=!1,e=Lt(n.II);!(i=e()).done;){var s=i.value;s.u0t=ji(t,s.jI)?Hm.Kn:Hm.Nh}}(t,this.Gl)}},i.T1t=function(){var t,n=null==(t=this.i$t.KD.media)?void 0:t.tracks;if(n){var i=n.filter(mZ),r=n.filter(yZ),e=n.filter(pZ);if(this.S1t()&&0===r.length&&0!==this.Nx()){var s=this.k1t();r.push(s)}if(this.S1t()&&0===i.length){var u=this.E1t();i.push(u)}n$(this.YL,i.map(function(t){return t.trackId})),n$(this.$L,r.map(function(t){return t.trackId})),n$(this.Gl,e.map(function(t){return t.trackId})),i$(i,this.YL),i$(r,this.$L),function(t,n){for(var i,r=!1,e=Lt(t);!(i=e()).done;){var s=i.value,u=t$(n,s.trackId);u||(u=new kZ(s),n.tt(u),r=!0)}}(e,this.Gl)}},i.P1t=function(){this.kz||(this.x1t=_(this.bd,250))},i.I1t=function(){m(this.x1t)},i.R1t=function(){this.I1t(),this.P1t()},i.C1t=function(){var t,n,i=this.i$t.KD,r=i.media,e=null!=(n=null==r?void 0:r.duration)?n:NaN,s=(null==r?void 0:r.streamType)===chrome.cast.media.StreamType.LIVE||e<0,u=s?1/0:e;this.WA=u,this.D1t();var o=i.getEstimatedLiveSeekableRange(),h=null==(t=i.customData)?void 0:t.buffers;if(Un(o)){var c=o.start,a=o.end,f=o.isMovingWindow,v=void 0===f?s:f,d=o.isLiveDone,l=void 0!==d&&d;this.hUt(c,a,v,l)}else if(Un(h)){var w=h.seekable,g=w[0],_=w[1];this.hUt(g,_,s,!1)}else s?this.hUt(void 0,void 0,!0,!1):this.hUt(0,u,!1,!1)},i.B1t=function(){var t=this.i$t.KD,n=function(t){return void 0!==t&&t.playerState===chrome.cast.media.PlayerState.PAUSED}(t)||$Z(t);this.N1t=n,this.kz!==n&&(this.kz=n,this.kz?this.So(new hT(this.LP())):this.So(new cT(this.LP())))},i.hh=function(){var t=this.i$t.KD.playbackRate;this.M1t!==t&&(this.M1t=void 0,this.Ez!==t&&(this.Ez=t,this.So(new fT(this.LP(),t))))},i.L1t=function(){var t;switch(this.i$t.KD.playerState){case chrome.cast.media.PlayerState.IDLE:t=Cy.VL;break;case chrome.cast.media.PlayerState.BUFFERING:t=Cy.Qn;break;case chrome.cast.media.PlayerState.PAUSED:case chrome.cast.media.PlayerState.PLAYING:t=Cy.WL}this.e5(t),this.O1t()},i.hUt=function(t,n,i,r){Un(t)&&Un(n)?this.N4=new rD(t,n,i,i&&!r):this.N4=void 0},i.F1t=function(t,n){this.e0t=null!=n?n:this.e0t,this.i0t=null!=t?t:this.i0t,this.So(new Ty)},i.Je=function(t){this.U1t!==t?(this.Sz=!0,this.So(new dT(this.LP()))):this.U1t=void 0},i.Rq=function(){if(this.Sz){this.Sz=!1;var t=this.LP();this.So(new pw(t,this.DP())),this.So(new lT(t))}},i.Eh=function(){this.Z4=!0,this.VP()&&this.So(new vT(this.LP()))},i.D1t=function(){var t=this.LEt,n=this.Nd();t===n||S(t)&&S(n)||(this.LEt=n,this.So(new aT(n)))},i.V1t=function(){var t=this.LP();this.Sz||this.H1t===t||(this.H1t=t,this.So(new pw(t,this.DP())))},i.t0t=function(){this.kz&&(this.kz=!1,this.So(new cT(this.LP())),this.e5(Cy.VL))},i.Zst=function(){return this.qc},i.RP=function(){return this.OPt.Ny(this.$$t)},i.LP=function(){if(this.qc.zc){var t=this.i$t._$t();if(void 0!==t)return t}return this.Hst()},i.Hst=function(){return void 0!==this.W1t?this.$$t+this.W1t:this.Z4?this.Nd():this.$$t+this.i$t.v$t()},i.DP=function(){if(this.q1t)return new Date(this.Hst()+this.q1t)},i.Nd=function(){if(this.qc.zc){var t,n=null==(t=this.qc.mnt[0])?void 0:t.ct;if(void 0!==n&&!S(n))return n}return this.$$t+this.WA},i.HP=function(){return this.JW},i.VP=function(){return!this.qc.zc&&this.Z4},i.ox=function(){return this.kz},i.lx=function(){return this.Ez},i.vx=function(t){this.Ez!==t&&(this.M1t=this.Ez,this.Ez=t,this.So(new fT(this.LP(),t)),this.i$t.vx(t))},i.bx=function(){return this.t5},i.gx=function(){return this.qc.zc?TA.tL(0,this.LP()):this.Ho.Ny(this.$$t)},i.Tx=function(){var t,n;if(this.qc.zc)return TA.iL();var i=null!=(n=null==(t=this.N4)?void 0:t.z3().Ny(this.$$t))?n:TA.iL();if(i.V>0){var r=i.An(i.V-1);i=i.OM(TA.tL(r,this.LP()))}return i},i.Ex=function(){return this.Sz},i.EP=function(){return this.YL},i.Dx=function(){return this.$L},i.Ix=function(){return this.Gl},i.k1t=function(){return{customData:{activeQuality:{averageBandwidth:0,bandwidth:0,codecs:"",frameRate:0,height:this.Cx(),id:"0",name:"",width:this.Nx()},enabled:!0,id:"0",kind:"main",label:"",language:"",qualities:[],uid:0},language:"",name:"",trackContentId:"",trackContentType:"",trackId:0,type:gZ.Bk}},i.E1t=function(){return{customData:{activeQuality:{averageBandwidth:0,bandwidth:0,codecs:"",id:"0",name:"",audioSamplingRate:0},qualities:[],enabled:!0,id:"0",kind:"main",label:"",language:"",uid:0},language:"",name:"",trackContentId:"",trackContentType:"",trackId:0,type:gZ.Dk}},i.S1t=function(){var t,n;return!(void 0!==(null==(t=this.YBt.c$t())?void 0:t.version))||(null==(n=this.YBt.c$t())?void 0:n.sdkType)===EZ._0t},i.f$t=function(t){this.S1t()&&Xi(t,0),this.i$t.f$t(t)},i.Nx=function(){return this.i0t},i.Cx=function(){return this.e0t},i.Gx=function(){this.kz&&(this.kz=!1,this.N1t=!1,this.So(new cT(this.LP()))),this.i$t.Gx()},i.zx=function(){this.kz||(this.kz=!0,this.N1t=!0,this.So(new hT(this.LP()))),this.i$t.zx()},i.My=function(t){if(!this.qc.zc){var n=b.max(0,t-this.$$t);n=b.round(1e6*n)/1e6;var i=this.W1t;this.W1t=n,this.N1t=this.ox(),this.U1t=n,this.Sz=!0,this.So(new dT(this.LP())),void 0===i&&(this.S1t()?this.z1t(n):this.y7(n))}},i.y7=function(t){this.i$t.My(t,this.N1t).then(this.G1t(t)).catch(this.l$t)},i.G1t=function(t){var n=this;return function(){void 0!==n.W1t&&(n.W1t===t?n.W1t=void 0:n.y7(n.W1t))}},i.e5=function(t){this.t5!==t&&(this.t5=t,this.So(new Ry(this.LP(),t))),void 0===this.W1t&&this.Sz&&t>=Cy.HL&&this.Rq(),this.O1t()},i.O1t=function(){if(this.kz)this.X1t=!1;else{var t=this.t5>=Cy.WL;this.X1t!==t&&(this.X1t=t,t?this.So(new Oy(this.LP())):this.So(new Ny(this.LP())))}},i.j1t=function(){this.Q1t||(this.Q1t=v.createElement("div"),this.oa.xe.appendChild(this.Q1t),this.Q1t.className="theoplayer-ad-linear theoplayer-chromecast-ad",this.Q1t.style.zIndex="10",ci(this.Q1t)),this.Q1t.style.display=this.qc.zc?"":"none"},i.K1t=function(){var t,n=null==(t=this.qc.mnt[0])?void 0:t.AYt;n&&!this.Y1t?(this.Y1t=new GZ(this.Q1t,!0),this.Y1t.u1t=n,this.Y1t.wn("clickstart",this.J1t)):this.Y1t&&(this.Y1t.u1t=n)},i.Z1t=function(){var t,n=null==(t=this.qc.mnt[0])?void 0:t.JYt;if(void 0===n||n<0)this.$1t&&(this.$1t.kn(),this.$1t=void 0);else{if(!this.$1t){var i,r=null==(i=this.oa.Na)?void 0:i.gi;this.$1t=new JZ(this.oa.Wu,r),this.Q1t.appendChild(this.$1t.xe),this.$1t.wn("rD",this.t2t)}var e=this.i$t._$t();void 0!==e&&(e<n?this.$1t.g1t(n-e):this.$1t.m1t())}},i.s0t=function(){return this.$$t},i.n0t=function(t){this.$$t=t},i.knt=function(t){},i.Xx=function(){this.i$t.Xx()},i.kn=function(){this.Vo(),this.qc.kn(),this.Y1t&&(this.Y1t.zg(),this.Y1t=void 0),this.$1t&&(this.$1t.kn(),this.$1t=void 0),this.Q1t&&($n(this.Q1t),this.Q1t=void 0),this.i$t.h$t(this.e4),this.i$t.n$t(this.i2t),this.i$t.a$t(this.W$t),this.i$t.mn(HJ.$Zt,this.e2t),this.i$t.kn()},n}(th);function $Z(t){return void 0!==t&&t.playerState===chrome.cast.media.PlayerState.IDLE&&t.idleReason===chrome.cast.media.IdleReason.FINISHED}function t$(t,n){for(var i,r=Lt(t.II);!(i=r()).done;){var e=i.value;if(e.jI===n)return e}}function n$(t,n){for(var i=!1,r=0;r<t.V;r++){var e=t.CI(r);-1===n.indexOf(e.jI)&&(t.it(e),r--,i=!0)}return i}function i$(t,n){for(var i,r=!1,e=Lt(t);!(i=e()).done;){var s=i.value,u=t$(n,s.trackId);u||(u=new SZ(s),n.tt(u),r=!0)}return r}function r$(t,n){for(var i,r=Lt(n.II);!(i=r()).done;){var e=i.value;e.f0t=ji(t,e.jI)}return!1}F(),Et();var e$=function(){function t(){}var n=t.prototype;return n.HK=function(t){return ut.resolve("all")},n.qx=function(){},n.kn=function(){},t}();F(),Et();var s$=[eh.Bw,eh.Rw,eh.Kw,eh.Jw,eh.jw,eh.uo,eh.Qw,eh._y,eh.$w,eh.Zw,Ey.SM,Ey.TM,eh.Yw,eh.iy,eh.Dw,eh.Ew,eh.Pw],u$=function(t){function n(n,i){var r;return(r=t.call(this,n,!0)||this).ho=!1,r.P2t=di,r.EV=Cy.VL,r.AV=!1,r.SV=!1,r.u2t=!1,r.o2t=void 0,r.YBt=void 0,r.ib=void 0,r.Tz=void 0,r.Ra=void 0,r.fz=void 0,r.Ac=void 0,r.JW=void 0,r.ZW=void 0,r.YL=new Jb,r.$L=new Jb,r.Gl=new Zb,r.qc=void 0,r.ha=new ZT,r.ZL=new $b,r.Mst=new e$,r.b2t=void 0,r.S2t=void 0,r.T2t=void 0,r.R2t=function(t){var n,i;(Un(t.Mx)&&!Si(t.Mx,r.ib,1e-5)||Un(t.$P)&&t.$P!==r.Tz)&&(r.ib=null!=(n=t.Mx)?n:r.ib,r.Tz=null!=(i=t.$P)?i:r.Tz,r.So(new wT(r.MP,r.ib)))},r.C2t=function(){var t=r.YBt.q$t();r.Ylt=t?new ZZ(r,r.oa,r.YBt,t,r.Ra):r.x2t()},r.r2t=function(t){r.Az(t.bt),r.s2t(t.Mc)},r.D2t=function(t){var n=r.n2t(t.$D);if(n){var i={targetQualityIds:t.B$t};n.c0t(i)}},r.e2t=function(t){r.d2t(t.lt)},r.d2t=function(t){r.P2t&&r.P2t(t)},r.I2t=function(t){r.JW=t.lt,r.ZW=cg(r.JW),r.So(new _b(r.ZW))},r.m2t=function(t){if(t.enabled)for(var n,i=Lt((r.rt.II.some(function(n){return n.jI===t.trackId})?r.rt:r.ht).II);!(n=i()).done;){var e=n.value;e.Rt&&e.jI!==t.trackId&&(e.Rt=!1)}},r.w2t=function(t){if(t.mode===Hm.Kn)for(var n,i=Lt(r.nt.II);!(n=i()).done;){var e=n.value;e.Xk===Hm.Kn&&e.jI!==t.trackId&&Zm(e.Lt,t.track.Lt)&&(e.Xk=Hm.Nh)}},r.b1t=gi(function(){r.y2t()},50),r.g2t=function(){var t,n,i=[],e=null!=(t=Ui(r.ht.II,function(t){return b$(t,r.b2t)}))?t:Ui(r.ht.II,function(t){return t.Rt});e&&i.push(e.jI);var s,u=null!=(n=Ui(r.nt.II,function(t){return b$(t,r.S2t)}))?n:Ui(r.nt.II,function(t){return t.Xk===Hm.Kn});u&&i.push(u.jI);var o=null!=(s=Ui(r.rt.II,function(t){return b$(t,r.T2t)}))?s:Ui(r.rt.II,function(t){return t.Rt});o&&i.push(o.jI),0!==i.length&&r.Ra.f$t(i)},r.Opt=function(t){var n=r.k2t(t.targetQuality),i=t.track;r.YBt.N$t(i.jI,i.B3,n)},r.FV=function(t){r.So(t);var n=t.readyState;!r.AV&&r.EV===Cy.VL&&n>=Cy.Qn&&(r.AV=!0,r.So(new Dy(t.currentTime))),!r.SV&&r.EV<=Cy.Qn&&n>=Cy.HL&&(r.SV=!0,r.So(new Py(t.currentTime))),r.EV<=Cy.HL&&n>=Cy.WL&&r.So(new By(t.currentTime)),r.EV<=Cy.WL&&n===Cy.qL&&r.So(new xy(t.currentTime)),r.EV=n},r.ib=r.oa.Mx,r.Tz=r.oa.$P,r.YBt=i,r.YBt.wn(nZ.$Zt,r.e2t),r.YBt.wn(nZ.R$t,r.I2t),r.YBt.wn(nZ.gy,r.R2t),r.YBt.wn(nZ.I$t,r.C2t),r.YBt.wn(nZ.C$t,r.D2t),r.qc=new Qx(r),r.fz=r.oa.bt,r.Ac=r.oa.nu(),r.Ylt=new dZ(r,0,r.oa.Hst(),r.oa.Nd(),r.oa.UP,r.oa.hx,r.oa.ux,r.oa.Bx,r.oa.Rx),r.l2t(),r}Ct(n,t);var i=n.prototype;return i.Az=function(t){t&&(Mw(this.fz&&Fw(this.fz),t&&Fw(t))||(this.fz=t,this.So(new IT(t))))},i.s2t=function(t){if(t){var n=oE(t,this.oa.Cd);Mw(this.Ac&&Fw(this.Ac),n&&Fw(n))||(this.Ra.n0t(0),this.Ac=n,this.So(new yx(n)),this.Ra.t0t())}},i.n2t=function(t){for(var n,i=Lt(this.rt.II);!(n=i()).done;){var r=n.value;if(r.jI===t)return r}for(var e,s=Lt(this.ht.II);!(e=s()).done;){var u=e.value;if(u.jI===t)return u}},i.Zst=function(){return this.qc},i.$st=function(){return this.Mst},i.EP=function(){return this.YL},i.RP=function(){return this.Ra.RP()._s()},i.Un=function(t,n){return Vt(function(){var i;return zt(this,function(r){switch(r.label){case 0:return t?[4,this.z$t(t,null!=(i=t.ads)?i:[],t.streamType,NaN,0,null!=n?n:0)]:[2];case 1:return r.sent(),[2]}})}).call(this)},i.a2t=function(t){return Vt(function(){var n,i,r,e,s,u,o,h,c;return zt(this,function(a){switch(a.label){case 0:return(i=null!=(n=this.o2t)?n:this.Ac)?(e=this.o2t?null!=(r=this.o2t.ads)?r:[]:this.Wnt(),s=this.oa.Nd(),u=this.oa.Tx(),o=function(t,n,i){return S(t)?i:t===1/0?"live"===i||"dvr"===i?i:n&&n.length>0&&n.end(n.length-1)-n.start(0)>60?"dvr":"live":"vod"}(s,u,i.streamType),h=u.length>0?u.start(0):0,c=null!=t?t:this.Hst(),[4,this.z$t(i,e,o,s,h,c)]):[2];case 1:return a.sent(),[2]}})}).call(this)},i.Wnt=function(){var t=new Kx;return this.qc.knt(t),t.Wnt()},i.DP=function(){return this.Ra.DP()},i.NP=function(){return this.fz},i.LP=function(){return this.Ra.LP()},i.Hst=function(){return this.Ra.Hst()},i.OP=function(t,n){this.u2t||(this.YBt.q$t()||this.u2t||!this.Ac?this.Ra.My(t):this.Un(this.Ac,t))},i.Nd=function(){return this.Ra.Nd()},i.VP=function(){return this.Ra.VP()},i.HP=function(){return this.JW},i.qP=function(){return this.ZW},i.GP=function(){return this.ZL},i.ZP=function(){return this.oa.JP},i.tx=function(){return this.Tz},i.ix=function(t){this.Tz=t,this.So(new wT(this.MP,this.Mx)),this.YBt.ix(t)},i.ox=function(){return this.Ra.ox()},i.lx=function(){return this.Ra.lx()},i.vx=function(t){this.Ra.vx(t)},i.gx=function(){return this.Ra.gx()._s()},i.wx=function(){return jT.OL},i.yx=function(t){},i.bx=function(){return this.Ra.bx()},i.Tx=function(){return this.Ra.Tx()._s()},i.Ex=function(){return this.Ra.Ex()},i.nu=function(){return this.Ac},i.Ta=function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return this.Ac=t,[4,this.Un(t)];case 1:return n.sent(),this.o2t=void 0,this.Ra.t0t(),[2]}})}).call(this)},i.Ix=function(){return this.Gl},i.Cx=function(){return this.Ra.Cx()},i.Nx=function(){return this.Ra.Nx()},i.Dx=function(){return this.$L},i.Lx=function(){return this.ib},i.Ox=function(t){this.ib=t,this.So(new wT(this.MP,this.Mx)),this.YBt.Ox(t)},i.Wx=function(){},i.Hx=function(){return this.ha},i.qx=function(){},i.Gx=function(){this.YBt.q$t()||this.u2t||!this.Ac?this.Ra.Gx():this.Un(this.Ac)},i.zx=function(){this.Ra.zx()},i.gr=function(){this.ho=!0},i.mr=function(){this.fz=void 0,this.ho=!1},i.be=function(){},i.we=function(){},i.z$t=function(t,n,i,r,e,s){return Vt(function(){var u,o,h,c;return zt(this,function(a){switch(a.label){case 0:this.u2t=!0,this.c2t(),this.Ra.n0t(e),o=function(t,n,i,r){return{theoplayer_version:1,streamStart:t,isLive:n,sourceDescription:i,configuration:r}}(e,u="live"===i||"dvr"===i,t,this.Cd),h={G$t:t,Jc:n,MP:b.max(0,s-e),ct:r,b0:u?chrome.cast.media.StreamType.LIVE:chrome.cast.media.StreamType.BUFFERED,X$t:o},a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,this.YBt.z$t(h)];case 2:return a.sent(),[3,5];case 3:return c=a.sent(),this.d2t(c),[3,5];case 4:return this.u2t=!1,[7];case 5:return[2]}})}).call(this)},i.l2t=function(){this.f2t(this.YL),this.f2t(this.$L),this.v2t(this.Gl)},i.f2t=function(t){for(var n,i=this,r=Lt(t.II);!(n=r()).done;){var e=n.value;this._2t(e)}t.wn(Sw.eI,function(t){i._2t(t.Ht),i.g2t()})},i.v2t=function(t){for(var n,i=this,r=Lt(t.II);!(n=r()).done;){var e=n.value;this.p2t(e)}t.wn(Sw.eI,function(t){i.p2t(t.Ht),i.g2t()})},i._2t=function(t){t.wn(lZ.h0t,this.Opt),t.wn(lZ.o0t,this.m2t),t.wn(lZ.o0t,this.b1t)},i.p2t=function(t){t.wn(lZ.r0t,this.w2t),t.wn(lZ.r0t,this.b1t)},i.y2t=function(){for(var t,n=[],i=Lt(this.rt.II);!(t=i()).done;){var r=t.value;r.Rt&&n.push(r.jI)}for(var e,s=Lt(this.ht.II);!(e=s()).done;){var u=e.value;u.Rt&&n.push(u.jI)}for(var o,h=Lt(this.nt.II);!(o=h()).done;){var c=o.value;c.Xk===Hm.Kn&&n.push(c.jI)}this.Ra.f$t(n)},i.A2t=function(t,n,i){this.b2t=t,this.S2t=n,this.T2t=i},i.k2t=function(t){var n,i;return!!t&&((null!=(i=null==(n=this.YBt.c$t())?void 0:n.version)?i:-1)>=2?t.map(function(t){return t.o}):[t[0].o])},i.E2t=function(t){this.P2t=t},i.Yx=function(){},i.Jx=function(){},i.tI=function(t){throw new y("Can't add a track while casting.")},i.Xx=function(){return Vt(function(){return zt(this,function(t){return this.Ra.Xx(),this.c2t(),[2]})}).call(this)},i.c2t=function(){this.EV=Cy.VL,this.AV=!1,this.SV=!1,this.JW=void 0,this.ZW=void 0},i.kn=function(){return Vt(function(){return zt(this,function(t){return this.c2t(),this.Vo(),this.Ylt=this.x2t(),this.YBt.mn(nZ.$Zt,this.e2t),this.YBt.mn(nZ.R$t,this.I2t),this.YBt.mn(nZ.gy,this.R2t),this.YBt.mn(nZ.I$t,this.C2t),this.YBt.mn(nZ.C$t,this.D2t),this.YBt.kn(),[2]})}).call(this)},i.x2t=function(){return new dZ(this,this.Ra.s0t(),this.Ra.LP(),this.Ra.Nd(),this.Ra.VP(),this.Ra.ox(),this.Ra.lx(),this.Ra.Nx(),this.Ra.Cx())},Nt(n,[{key:"Ylt",get:function(){return this.Ra},set:function(t){var n=this.Ra;n&&(n.mn(HJ.$Zt,this.e2t),n.mn(HJ.t$t,this.r2t),n.mn(s$,this.Rs),n.mn(Ey.wI,this.FV),t.n0t(n.s0t()),n.knt(t.Zst())),this.Ra=t,this.YL.BI=t.EP(),this.$L.BI=t.Dx(),this.Gl.BI=t.Ix(),this.qc.BI=t.Zst(),n&&n.kn(),t.wn(HJ.$Zt,this.e2t),t.wn(HJ.t$t,this.r2t),t.wn(s$,this.Rs),t.wn(Ey.wI,this.FV)}},{key:"ro",get:function(){return this.ho}},{key:"Jc",get:function(){return this.Zst()}},{key:"h2t",get:function(){return this.o2t||this.Ac},set:function(t){this.o2t=t}},{key:"MP",get:function(){return this.LP()},set:function(t){this.OP(t)}},{key:"Vx",get:function(){return!1},set:function(t){}}]),n}(Lb);F(),Et(),Dt();var o$=function(t){function n(n){var i;return(i=t.call(this,"error")||this).lt=void 0,i.lt=n,i}return Ct(n,t),n.prototype.xa=function(){return new h$(this.lt)},n}(kw),h$=function(t){function n(n){var i;return(i=t.call(this,"error")||this).error=void 0,i.error=n,i}return Ct(n,t),n}(rh);F(),Et(),Dt();var c$=function(t){function n(n){var i;return(i=t.call(this,"statechange")||this).state=void 0,i.state=n,i}return Ct(n,t),n}(rh);function a$(t,n){var i;return{get casting(){return t.bJ},get error(){return t.lt},get receiverName(){return t.B2t},get state(){return t.Ylt},start:function(){t.Tn()},stop:function(){t.Xx()},join:function(){t.N2t()},leave:function(){t.M2t()},set connectionCallback(t){null==n||n.L2t(t)},get connectionCallback(){return null==n?void 0:n.O2t()},get source(){return i||t.Mc},set source(n){i=n,t.Mc=n},addEventListener:function(n,i){var r=Gw(n,Xw);t.wn(r,i)},removeEventListener:function(n,i){var r=Gw(n,Xw);t.mn(r,i)}}}F(),Et();var f$=function(t){function n(n,i,r,e){var s;return(s=t.call(this)||this).YS=void 0,s.JW=void 0,s.hu=void 0,s.V2t=void 0,s.oa=void 0,s.Ra=US.UNAVAILABLE,s.q2t=void 0,s.CY=void 0,s.F2t=void 0,s.H2t=!1,s.rV=new hr,s.n3t=function(){s.F2t.wn(aZ.Z$t,s.s3t),s.Ylt=s.F2t.r3t()},s.s3t=function(t){var n=t.Ylt;s.Ylt=n,n!==US.UNAVAILABLE&&n!==US.AVAILABLE||s.j2t(!1).catch(s.e8)},s.o2t=void 0,s.e8=function(t){vr(t)||V(t,kK)&&(s.JW=t,s.So(new o$(t).Ca))},s.CY=n,s.V2t=i,s.F2t=e,s.YS=r.chromecast,s.q2t=_r(s.F2t.VY(s.YS,s.rV.Yg),s.rV),s.q2t.then(s.n3t).catch(s.e8),s}Ct(n,t);var i=n.prototype;return i.W2t=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:if(!this.q2t)throw new y("Chromecast must be initialized before starting a session");return[4,this.q2t];case 1:return t.sent(),this.F2t.U2t()?[3,3]:[4,this.F2t.z2t()];case 2:t.sent(),t.label=3;case 3:return[2]}})}).call(this)},i.Tn=function(){return Vt(function(){var t,n,i;return zt(this,function(r){switch(r.label){case 0:this.H2t=!0,r.label=1;case 1:return r.trys.push([1,5,,6]),this.Ylt=US.CONNECTING,[4,this.W2t()];case 2:return r.sent(),[4,this.G2t()];case 3:return r.sent(),this.oa&&(t=this.V2t.nu(),n=this.F2t.X2t(t),this.oa.h2t=n?oE(n,this.V2t.Cd):this.o2t,this.oa.a2t()),this.Ylt=US.CONNECTED,[4,this.V2t.Xx()];case 4:return r.sent(),[3,6];case 5:return i=r.sent(),this.j2t(!1).catch(di),this.Ylt=US.AVAILABLE,vr(i)||this.e8(i),[3,6];case 6:return[2]}})}).call(this)},i.N2t=function(){return Vt(function(){var t,n,i;return zt(this,function(r){switch(r.label){case 0:this.H2t=!0,r.label=1;case 1:return r.trys.push([1,5,,7]),this.Ylt=US.CONNECTING,[4,this.W2t()];case 2:return r.sent(),[4,this.G2t()];case 3:return r.sent(),this.oa&&(t=this.V2t.nu(),(n=this.F2t.Q2t(t))&&(this.oa.h2t=oE(n,this.V2t.Cd))),this.Ylt=US.CONNECTED,[4,this.V2t.Xx()];case 4:return r.sent(),[3,7];case 5:return i=r.sent(),[4,this.j2t(!0).catch(di)];case 6:return r.sent(),this.Ylt=US.AVAILABLE,vr(i)||this.e8(i),[3,7];case 7:return[2]}})}).call(this)},i.K2t=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.F2t.U2t()?[4,this.Tn()]:[2];case 1:return t.sent(),[2]}})}).call(this)},i.G2t=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return null!=this.oa||(this.oa=this.Y2t()),this.JW=void 0,this.V2t.zx(),[4,this.CY.J2t(this.oa)];case 1:return t.sent(),[2]}})}).call(this)},i.Y2t=function(){var t=new u$(this.V2t,this.F2t.U2t());return t.E2t(this.e8),t},i.Z2t=function(){this.oa&&(this.oa.kn(),this.oa=void 0)},i.j2t=function(t){return Vt(function(){var n,i,r,e;return zt(this,function(s){switch(s.label){case 0:if(this.H2t=!1,!this.oa)return[2];n=this.oa.ro,i=this.oa.nu(),r=this.oa.Hst(),s.label=1;case 1:return s.trys.push([1,,4,5]),n?(null!=(e=t?this.F2t.$2t(i):this.F2t.t3t(i))||(e=i),[4,this.CY.i3t(e,e===i)]):[3,3];case 2:s.sent(),this.V2t.OP(r),this.V2t.Gx(),s.label=3;case 3:return[3,5];case 4:return this.Z2t(),[7];case 5:return[2]}})}).call(this)},i.M2t=function(){this.bJ&&(this.F2t.e3t(!1),this.j2t(!0).catch(this.e8))},i.Xx=function(){this.bJ&&(this.F2t.e3t(!0),this.j2t(!1).catch(this.e8))},i.kn=function(){this.rV.Zg(),this.F2t.mn(aZ.Z$t,this.s3t),this.Vo(),this.Z2t()},Nt(n,[{key:"bJ",get:function(){return this.Ylt===US.CONNECTING||this.Ylt===US.CONNECTED}},{key:"lt",get:function(){return this.JW}},{key:"Ca",get:function(){return this.hu||(this.hu=a$(this,this.F2t)),this.hu}},{key:"B2t",get:function(){var t;return null==(t=this.F2t.U2t())?void 0:t.Q$t()}},{key:"Mc",get:function(){return this.oa?this.oa.h2t:this.o2t},set:function(t){this.o2t=t?oE(t,this.V2t.Cd):void 0,this.oa&&(this.oa.h2t=this.o2t,this.o2t&&this.oa.Un(this.o2t))}},{key:"Ylt",get:function(){return this.Ra},set:function(t){var n=t;this.H2t||n!==US.CONNECTING&&n!==US.CONNECTED||(n=US.AVAILABLE),this.Ra!==n&&(this.Ra=n,this.So(new c$(this.Ylt)))}}]),n}(ih);F(),Et(),Bt(),Dt();var v$=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).hu=void 0,n}Ct(n,t);var i=n.prototype;return i.N2t=function(){Vn.um("Joining a Chromecast session is not possible when JoinStrategy is configured to disabled")},i.M2t=function(){Vn.um("Leaving a Chromecast session is not possible when JoinStrategy is configured to disabled")},i.Tn=function(){Vn.um("Starting a Chromecast session is not possible when JoinStrategy is configured to disabled")},i.Xx=function(){Vn.um("Stopping a Chromecast session is not possible when JoinStrategy is configured to disabled")},i.K2t=function(){return ut.resolve()},i.kn=function(){},Nt(n,[{key:"bJ",get:function(){return!1}},{key:"lt",get:function(){}},{key:"B2t",get:function(){}},{key:"Mc",get:function(){},set:function(t){}},{key:"Ylt",get:function(){return US.UNAVAILABLE}},{key:"Ca",get:function(){return this.hu||(this.hu=a$(this)),this.hu}}]),n}(ih);function d$(t){return{bt:t.bt,MP:t.LP(),ct:t.Nd(),UP:t.UP,lt:t.HP(),WP:t.qP(),$P:t.$P,hx:t.hx,ux:t.ux,Ax:t.Ax,kx:t.kx,Rx:t.Rx,Bx:t.Bx,Mx:t.Mx}}F(),Et(),Wt(),Bt(),Dt(),Qt(),F(),Et();var l$=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).YL=new Jb,r.$L=new Jb,r.Gl=new Zb,r.KL=void 0,r.ZL=new rA,r.JL=new UT,r.qc=void 0,r.KL=new BT(n.mq),r.YL.BI=n.ht,r.$L.BI=n.rt,r.Gl.BI=n.nt,r.ZL.BI=n.zP,r.JL.BI=n.jP,r.qc=new Qx(r),r.qc.BI=n.Jc,r}Ct(n,t);var i=n.prototype;return i.Zst=function(){return this.qc},i.EP=function(){return this.YL},i.GP=function(){return this.ZL},i.QP=function(){return this.JL},i.Aa=function(){return this.KL},i.Ix=function(){return this.Gl},i.Dx=function(){return this.$L},i.switchContexts=function(t){this.oa=t,this.YL.BI=t.ht,this.$L.BI=t.rt,this.Gl.BI=t.nt,this.KL.BI=t.mq,this.ZL.BI=t.zP,this.JL.BI=t.jP,this.qc.BI=t.Jc},i.h3t=function(t){this.oa!==t&&(this._z(),this.switchContexts(t),this.vz())},i.tO=function(t){if(this.oa!==t){var n;this._z(),this.nnt&&(n=d$(this));var i=this.NP(),r=this.Hx(),e=this.Wx();if(this.switchContexts(t),void 0!==n)ST(this,n,d$(this));var s=this.NP();s!==i&&this.So(new IT(s)),this.Hx()!==r&&this.So(new RT),this.Wx()!==e&&this.So(new CT),this.vz()}},i.kn=function(n){var i=this;return Vt(function(){return zt(this,function(r){switch(r.label){case 0:return[4,t.prototype.kn.call(i,n)];case 1:return r.sent(),this.KL.kn(n),this.YL.kn(n),this.$L.kn(n),this.Gl.kn(n),this.ZL.kn(),this.JL.kn(),[4,this.qc.kn(n)];case 2:return r.sent(),[2]}})}).call(this)},Nt(n,[{key:"zP",get:function(){return this.GP()}},{key:"jP",get:function(){return this.QP()}}]),n}(Lb);F(),Et();function w$(t){var n=v.createElement("div");return si(n,"theo-ads-sgai-ima-container"),function(t){t.style.boxSizing="border-box",t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100%"}(n),t.appendChild(n),n}function g$(t){var n=t.style;n.boxSizing="border-box",n.position="absolute",n.display="none",n.border="0 solid transparent",n.borderWidth="0px",n.width="100%",n.height="100%"}function _$(t){var n=t.style;n.display="",n.backgroundColor="",n.backgroundRepeat="",n.backgroundAttachment="",n.border="",n.borderWidth="",n.flex="",n.transform="",n.transition="",n.backgroundImage="",n.backgroundSize="",n.backgroundPosition="",n.alignItems="",n.position=""}function m$(t,n,i,r,e){var s=n/i,u=1,o=0,h=0;if(s>=r/e){var c=r/s;o=(e-c)/2,u=c/i}else{var a=e*s;h=(r-a)/2,u=a/n}t.style.left=h/r*100+"%",t.style.top=o/e*100+"%",t.style.width=n*u/r*100+"%",t.style.height=i*u/e*100+"%"}function y$(t){return Uo(t,"theo-ads://dai.break")}function p$(t){return t&&t.integration===mS.THEOADS}var k$=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).o3t=void 0,r.d3t=void 0,r._3t=void 0,r.ta=new yd,r.a3t=void 0,r.f3t=void 0,r.jkt=void 0,r.v3t=void 0,r.g3t=function(t){var n=t.Ht;b$(r.f3t,n)&&(n.Rt=!0)},r.p3t=function(t){var n=t.Ht;b$(r.jkt,n)&&(n.Xk=Hm.Kn)},r.m3t=function(t){var n=t.Ht;b$(r.v3t,n)&&(n.Rt=!0)},r.l3t=function(){r.d3t.ht.mn(Sw.eI,r.g3t),r.d3t.nt.mn(Sw.eI,r.p3t),r.d3t.rt.mn(Sw.eI,r.m3t)},r.d3t=n,r.Cd.cast.strategy!==sA.DISABLED?r.o3t=new f$(r,n,r.Cd.cast,i):r.o3t=new v$,r.VX.IJ(r.o3t),r}Ct(n,t);var i=n.prototype;return i.nu=function(){var n=t.prototype.nu.call(this);return!n&&this.o3t.bJ&&this.o3t.Mc?this.o3t.Mc:n},i.Ta=function(n,i){var r=this;return this.ta.Zo(function(i){return r.a3t=new hr,r.a3t.$g(i),_r(t.prototype.Ta.call(r,n,r.a3t.Yg),r.a3t)},i)},i.Gx=function(){t.prototype.Gx.call(this),this.Cd.cast.strategy!==sA.AUTO||this.o3t.bJ||this.o3t.K2t()},i.J2t=function(t){var n=this;return this.ta.Zo(function(i){return n.u3t(t,i)})},i.i3t=function(t,n){var i=this;return void 0===t&&(t=void 0),void 0===n&&(n=!1),this.ta.Zo(function(r){return i.c3t(t,n,r)})},i.u3t=function(t,n){dr(n),this.d3t.Jc&&this.d3t.Jc.knt(t.Jc),this.l3t(),this.f3t=Ui(this.d3t.ht.II,function(t){return t.Rt}),this.jkt=Ui(this.d3t.nt.II,function(t){return"showing"===t.Xk}),this.v3t=Ui(this.d3t.rt.II,function(t){return t.Rt}),this._3t=t,this._3t.A2t(this.f3t,this.jkt,this.v3t),this.tO(t),this._3t.gr()},i.c3t=function(t,n,i){return Vt(function(){var r,e,s;return zt(this,function(u){switch(u.label){case 0:if(dr(i),void 0===(r=this._3t))return[2];u.label=1;case 1:return u.trys.push([1,5,6,7]),t?[4,this.d3t.Xx()]:[3,4];case 2:return u.sent(),dr(i),e=oE(t,this.d3t.Cd),n&&(e.ads=null==(s=e.ads)?void 0:s.filter(p$)),this.a3t=new hr,this.a3t.$g(i),[4,_r(this.d3t.Ta(e,this.a3t.Yg),this.a3t)];case 3:u.sent(),u.label=4;case 4:return n&&this.d3t.Jc&&r.Jc.knt(this.d3t.Jc),[3,7];case 5:return wr(u.sent()),[3,7];case 6:return r.mr(),this.tO(this.d3t),this.f3t=Ui(this._3t.ht.II,function(t){return t.Rt}),this.jkt=Ui(this._3t.nt.II,function(t){return"showing"===t.Xk}),this.v3t=Ui(this._3t.rt.II,function(t){return t.Rt}),this.d3t.ht.wn(Sw.eI,this.g3t),this.d3t.nt.wn(Sw.eI,this.p3t),this.d3t.rt.wn(Sw.eI,this.m3t),this.d3t.wn(Ey.bM,this.l3t),this._3t===r&&(this._3t=void 0),[7];case 7:return[2]}})}).call(this)},i.Xx=function(){var n,i=this;return this.f3t=void 0,this.jkt=void 0,this.v3t=void 0,this.l3t(),null==(n=this.a3t)||n.Zg(),this.ta.Zo(function(){return t.prototype.Xx.call(i)})},i.kn=function(){var n=this;return Vt(function(){var i;return zt(this,function(r){switch(r.label){case 0:return null==(i=this.a3t)||i.Zg(),this.o3t.kn(),[4,this.i3t()];case 1:return r.sent(),[4,this.ta.kn()];case 2:return r.sent(),[4,t.prototype.kn.call(n)];case 3:return r.sent(),[2]}})}).call(this)},n}(l$);function b$(t,n){return void 0!==t&&void 0!==n&&(t.bs===n.bs&&n.Th===t.Th)}F(),Et(),Wt(),Bt(),Qt();var A$=function(){function t(t){this.q2t=void 0,this.hu=void 0,this.F2t=void 0,this.F2t=t}var n=t.prototype;return n.VY=function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return this.q2t||(this.q2t=this.S3t(t)),[4,this.q2t];case 1:return n.sent(),[2]}})}).call(this)},n.S3t=function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,this.F2t.VY(t)];case 1:return n.sent(),[2]}})}).call(this)},n.z2t=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:if(!this.q2t)throw new y("Chromecast must be initialized before starting a session");return[4,this.q2t];case 1:return t.sent(),this.F2t.U2t()?[3,3]:[4,this.F2t.z2t()];case 2:t.sent(),t.label=3;case 3:return[2]}})}).call(this)},n.T3t=function(){this.F2t.e3t(!1)},n.b3t=function(){this.F2t.e3t(!0)},Nt(t,[{key:"Ca",get:function(){return this.hu||(this.hu=function(t){return{initialize:function(n){var i=t.VY(uA(n));return i.catch(di),i},startSession:function(){var n=t.z2t();return n.catch(di),n},endSession:function(){t.b3t()}}}(this)),this.hu}}]),t}();var T$=new vZ,S$=new A$(T$),E$={get chromecast(){return S$.Ca}};zb(function(t){return new k$(t,T$)},Hb.ant),F(),Et(),F(),Et(),F(),Et(),F(),Et(),Wt(),Bt(),Dt(),Ut(),Qt(),F(),Et(),Wt(),Bt(),Dt(),Qt(),F(),Et(),Wt(),Qt();var I$=function(){function t(t){this.N3t=void 0,this.R3t=void 0,this.D3t=void 0,this.N3t=t,this.R3t=Ju(),this.D3t=Ju()}var n=t.prototype;return n.k3t=function(t,n,i,r){var e=this;t.Uz.forEach(function(t){if(!e.E3t(t.P3t)){var s=t.x3t(n,i,r);s&&e.I3t(s)}})},n.E3t=function(t){return this.R3t.get(t)},n.I3t=function(t){this.R3t.set(t.C3t,t),this.D3t.set(t.C3t,t.B3t),this.N3t.au(t.M3t)},n.Ent=function(t){this.D3t.has(t.C3t)||(this.D3t.set(t.C3t,t),this.N3t.au(t.M3t))},n.L3t=function(t){return this.D3t.forEach(t)},n.O3t=function(t){return this.R3t.forEach(t)},n.F3t=function(t){var n=!1;return this.R3t.forEach(function(i){n=i.F3t(t)||n}),n},n.kn=function(){return Vt(function(){var t;return zt(this,function(n){switch(n.label){case 0:return t=[],this.R3t.forEach(function(n){return t.push(n.kn())}),this.D3t.forEach(function(n){return t.push(n.kn())}),[4,ut.all(t)];case 1:return n.sent(),this.R3t.clear(),this.D3t.clear(),[2]}})}).call(this)},t}();F(),Et(),Dt();var R$=function(t){function n(n,i,r,e){var s;return(s=t.call(this,"H3t")||this).QJt=void 0,s.Py=void 0,s.Ky=void 0,s.Mc=void 0,s.QJt=n,s.Py=i,s.Ky=r,s.Mc=e,s}return Ct(n,t),n.prototype.xa=function(){return new C$(this.QJt,this.Py,this.Ky,this.Mc)},n.U3t=function(t){return new n(EJ.GENERAL,t.Py,t.YJt)},n.V3t=function(t,i){return new n(t.QJt,t.message,t.YJt,i)},n}(kw),C$=function(t){function n(n,i,r,e){var s;return(s=t.call(this,"aderror")||this).problemType=void 0,s.message=void 0,s.errorCode=void 0,s.source=void 0,s.problemType=n,s.message=i,s.errorCode=r,s.source=e,s}return Ct(n,t),n}(rh),D$=function(t){function n(n){var i;return(i=t.call(this)||this).Q3t=void 0,i.q3t=void 0,i.X3t=!1,i.n7=!1,i.hu=void 0,i.Y3t=function(t){if(i.X3t&&t.Ky!==IJ.VAST_NO_ADS_AFTER_WRAPPER&&t.Ky!==IJ.VAST_EMPTY_RESPONSE){var n=new ug(sg.ADVERTISEMENT_ERROR,t.Py),r=new fd(cd.AD_BLOCKER_DETECTED,t.Py+" Turn off your AdBlocker and try again.",n);i.Q3t.qq(r)}},i.Wet=function(){i.n7=!0},i.Q3t=n,i.q3t=new I$(i),i.wn("H3t",i.Y3t),n.wn(eh.uo,i.Wet),i}Ct(n,t);var i=n.prototype;return i.knt=function(t){this.z3t(function(n){n.knt(t)})},i.M6=function(t,n,i){try{this.X3t=i;var r=yS.Ng.Wz(t);if(r.P3t===UZ.ont)return;var e=this.q3t.E3t(r.P3t);if(!e)throw new SJ(EJ.ADBLOCK,void 0,"Ads could not be loaded.");n!==Sx.pnt&&this.n7||this.Q3t.j3t(e),r.M6(t,n,e,this.X3t)}catch(n){0,this.So(R$.V3t(n,t.sources))}},i.rD=function(){this.z3t(function(t){t.rD()})},i.Snt=function(t){this.z3t(function(n){n.Snt(t)})},i.Ent=function(t){this.q3t.Ent(t)},i.Tnt=function(t,n){return this.Q3t.Tnt(t,n)},i.K3t=function(t){this.q3t.O3t(function(n){n.K3t(t)})},i.F3t=function(t){return this.q3t.F3t(t)},i.z3t=function(t){return this.q3t.L3t(t)},i.qx=function(){this.q3t.O3t(function(t){return t.qx()})},i.hr=function(){return Vt(function(){var t;return zt(this,function(n){switch(n.label){case 0:return this.n7=!1,t=[],this.q3t.O3t(function(n){return t.push(n.Xx())}),[4,ut.all(t)];case 1:return n.sent(),[2]}})}).call(this)},i.kn=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.Vo(),[4,this.q3t.kn()];case 1:return t.sent(),this.Q3t.mn(eh.uo,this.Wet),this.mn("H3t",this.Y3t),[2]}})}).call(this)},Nt(n,[{key:"W3t",get:function(){return this.q3t}},{key:"zc",get:function(){var t=!1;return this.z3t(function(n){t=t||n.G3t}),t}},{key:"mnt",get:function(){var t=[];return this.z3t(function(n){var i,r=n.mnt;r.length&&(i=t).push.apply(i,[].concat(r))}),t}},{key:"ynt",get:function(){var t=null;return this.z3t(function(n){null!=t||(t=n.ynt)}),t}},{key:"Ant",get:function(){var t=[];return this.z3t(function(n){var i;(i=t).push.apply(i,[].concat(n.Ant))}),t}},{key:"bnt",get:function(){var t=[];return this.z3t(function(n){var i;(i=t).push.apply(i,[].concat(n.bnt))}),t}},{key:"Ca",get:function(){var t;return null!=(t=this.hu)?t:this.hu=Ex(this)}}]),n}(DI);F(),Et(),Wt(),Bt(),Ut(),Qt(),F(),Et(),Bt(),Dt(),F(),Et(),Bt(),Dt();var P$=function(t){function n(n){var i;return(i=t.call(this)||this).UZt=void 0,i.qc=void 0,i.J3t=void 0,i.Z3t=void 0,i.$3t=void 0,i.i4t=void 0,i.UZt=n,i.qc=[],i.J3t=-1,i.Z3t=-1,i.$3t=void 0,i.i4t=!1,i}Ct(n,t);var i=n.prototype;return i.t4t=function(){this.i4t=!0},i.e4t=function(t){this.qc.push(t),this.i4t=!1},i.s4t=function(t){Xi(this.qc,t)},Nt(n,[{key:"Jc",get:function(){return this.qc}},{key:"p0t",get:function(){return this.J3t},set:function(t){this.J3t=t}},{key:"m0t",get:function(){return this.Z3t},set:function(t){this.Z3t=t}},{key:"_Ot",get:function(){return this.UZt},set:function(t){this.UZt=t}},{key:"X$t",get:function(){return this.$3t}},{key:"_x",get:function(){return this.i4t}}]),n}(DZ),N$=function(t){function n(n,i){var r;return(r=t.call(this,i.timeOffset)||this).n4t=void 0,r.r4t=[],r.n4t=n,r.er(i),r}Ct(n,t);var i=n.prototype;return i.er=function(t){void 0!==t.maxDuration&&(this.J3t=t.maxDuration),void 0!==t.customData&&(this.$3t=t.customData)},i.h4t=function(t){var n=this.qc.indexOf(t);return n>=0&&n<this.qc.length-1},i.e4t=function(n){t.prototype.e4t.call(this,n),this.r4t.push(n)},i.o4t=function(t){Xi(this.r4t,t)},i.s4t=function(n){t.prototype.s4t.call(this,n),Xi(this.r4t,n)},Nt(n,[{key:"MZt",get:function(){return this.n4t}},{key:"Ant",get:function(){return this.r4t}}]),n}(P$);F(),Et(),Bt(),Dt(),F(),Et(),Bt(),Dt();var B$=function(t){return t.hZt="linear",t.a4t="nonlinear",t.pk="unknown",t}({}),x$=function(t){return t.NONE="none",t.READY="ready",t}({}),O$=function(t){function n(n,i){var r;return(r=t.call(this)||this).f4t=void 0,r.od=void 0,r.hu=void 0,r.hS=void 0,r.ZYt=void 0,r.sb=void 0,r.hb=void 0,r.WA=void 0,r.g4t=void 0,r.bYt=void 0,r.XKt=void 0,r.XYt=void 0,r.iYt=void 0,r.c4t=void 0,r.$3t=void 0,r._4t=void 0,r.f4t=i,r.hS=void 0,r.ZYt=void 0,r.sb=void 0,r.hb=void 0,r.WA=void 0,r.XYt=[],r.iYt=[],r.c4t="none",r.$3t=void 0,r._4t=!1,r.od=n,r}Ct(n,t);var i=n.prototype;return i.u4t=function(t,n,i,r,e,s){this.hS=t,this.sb=n,this.hb=i,this.WA=r,this.iYt=e,this.ZYt=s,this.c4t="ready"},i.wnt=function(){var t;return null!=(t=this.hu)?t:this.hu=this.xa()},i.N0t=function(){},i.F0t=function(){return""},i.O0t=function(){return this.g4t},Nt(n,[{key:"d4t",get:function(){return this.c4t}},{key:"tYt",get:function(){return this.iYt}},{key:"ct",get:function(){return this.WA}},{key:"Mi",get:function(){return this.hb}},{key:"o",get:function(){return this.hS}},{key:"JYt",get:function(){return this.ZYt}},{key:"Ti",get:function(){return this.sb}},{key:"l4t",get:function(){return this.f4t}},{key:"AYt",get:function(){return this.bYt}},{key:"GKt",get:function(){return this.XKt}},{key:"CKt",get:function(){return this.XYt}},{key:"X$t",get:function(){return this.$3t}},{key:"v4t",get:function(){return this._4t}}]),n}(CZ);function M$(t){return{get adSystem(){return t.N0t()},get readyState(){return t.d4t},get adBreak(){return t.od.wnt()},get duration(){return t.ct},get companions(){return t.tYt.map(function(t){return t.Ca})},get resourceURI(){return t.O0t()},get clickThrough(){return t.AYt},get width(){return t.Ti},get type(){return function(t){switch(t){case"linear":case"unknown":return"linear";case"nonlinear":return"nonlinear"}}(t.l4t)},get height(){return t.Mi},get id(){return t.o},get skipOffset(){return t.JYt},get integration(){return t.MZt},get creativeId(){return t.GKt},get universalAdIds(){return t.CKt},get customData(){return t.X$t},get isSlate(){return t.v4t}}}F(),Et(),Bt();var L$=function(){function t(t){var n;this.hu=void 0,this.sb=void 0,this.hb=void 0,this.m4t=void 0,this.fYt=void 0,this.bYt=void 0,this.g4t=void 0,this.yYt=void 0,this.fYt=t.lYt,this.sb=t.Ti,this.hb=t.Mi,this.m4t=t.p4t,this.bYt=t.AYt,this.g4t=t.LJt,this.yYt=null!=(n=t.wYt)?n:"",this.w4t(t)}return t.prototype.w4t=function(t){if(!t.AYt||!t.LJt){var n=function(t){try{return sJ(t,"text/html")}catch(t){return}}(t.p4t);n&&(this.bYt=U$(n,"a","href"),this.g4t=U$(n,"img","src"))}},Nt(t,[{key:"lYt",get:function(){return this.fYt}},{key:"wYt",get:function(){return this.yYt}},{key:"p4t",get:function(){return this.m4t}},{key:"AYt",get:function(){return this.bYt}},{key:"Mi",get:function(){return this.hb}},{key:"LJt",get:function(){return this.g4t}},{key:"Ti",get:function(){return this.sb}},{key:"Ca",get:function(){var t;return null!=(t=this.hu)?t:this.hu=function(t){return{get adSlotId(){return t.lYt},get altText(){return t.wYt},get contentHTML(){return t.p4t},get clickThrough(){return t.AYt},get height(){return t.Mi},get resourceURI(){return t.LJt},get width(){return t.Ti}}}(this)}}]),t}();function U$(t,n,i){var r=t.querySelector(n);return r&&r.getAttribute(i)||""}var F$=function(t){function n(n,i,r){var e;return(e=t.call(this,r,function(t){return"linear"===t?B$.hZt:"nonlinear"===t?B$.a4t:B$.pk}(i.type))||this).n4t=void 0,e.A4t=0,e.n4t=n,e.er(i),e}Ct(n,t);var i=n.prototype;return i.xa=function(){return M$(this)},i.er=function(t){t.id&&(this.hS=t.id),void 0!==t.skipOffset&&(this.ZYt=t.skipOffset),void 0!==t.width&&(this.sb=t.width),void 0!==t.height&&(this.hb=t.height),void 0!==t.duration&&(this.WA=t.duration),void 0!==t.readyState&&(this.c4t=function(t){return"ready"===t?x$.READY:x$.NONE}(t.readyState)),void 0!==t.resourceURI&&(this.g4t=t.resourceURI),void 0!==t.clickThrough&&(this.bYt=t.clickThrough),void 0!==t.companions&&(this.iYt=[].concat(t.companions).map(V$)),void 0!==t.creativeId&&(this.XKt=t.creativeId),void 0!==t.universalAdIds&&(this.XYt=t.universalAdIds),void 0!==t.customData&&(this.$3t=t.customData)},Nt(n,[{key:"MZt",get:function(){return this.n4t}},{key:"y4t",get:function(){return this.A4t},set:function(t){this.A4t=t}}]),n}(O$);function V$(t){var n={lYt:t.adSlotId,wYt:t.altText,p4t:t.contentHTML,qT:void 0,AYt:t.clickThrough,Mi:t.height,LJt:t.resourceURI,Ti:t.width};return new L$(n)}F(),Et(),Bt(),Dt();var H$=function(t){function n(n,i){var r;return(r=t.call(this,"T4t",n)||this).S4t=void 0,r.S4t=i,r}return Ct(n,t),n.prototype.xa=function(){return new W$(this.Int.wnt(),this.b4t)},Nt(n,[{key:"b4t",get:function(){return this.S4t}}]),n}(xx),W$=function(t){function n(n,i){var r;return(r=t.call(this,"adskip",n)||this).playedPercentage=void 0,r.playedPercentage=i,r}return Ct(n,t),n}(Ox);F(),Et(),Dt();var z$=function(t){function n(n){return t.call(this,"k4t",n)||this}return Ct(n,t),n.prototype.xa=function(){return new X$(this.od.wnt())},n}(Rx),X$=function(t){function n(n){return t.call(this,"updateadbreak",n)||this}return Ct(n,t),n}(Cx);F(),Et(),Dt();var q$=function(t){function n(n){return t.call(this,"E4t",n)||this}return Ct(n,t),n.prototype.xa=function(){return new G$(this.od.wnt())},n}(Rx),G$=function(t){function n(n){return t.call(this,"adbreakchange",n)||this}return Ct(n,t),n}(Cx);F(),Et(),Dt();var j$=function(t){function n(n,i){var r;return(r=t.call(this,"P4t",n)||this).currentTime=void 0,r.currentTime=i,r}return Ct(n,t),n.prototype.xa=function(){return new Q$(this.Int.wnt(),this.currentTime)},n}(xx),Q$=function(t){function n(n,i){var r;return(r=t.call(this,"adfirstquartile",n)||this).currentTime=void 0,r.currentTime=i,r}return Ct(n,t),n}(Ox);F(),Et(),Dt();var Y$=function(t){function n(n,i){var r;return(r=t.call(this,"x4t",n)||this).currentTime=void 0,r.currentTime=i,r}return Ct(n,t),n.prototype.xa=function(){return new K$(this.Int.wnt(),this.currentTime)},n}(xx),K$=function(t){function n(n,i){var r;return(r=t.call(this,"admidpoint",n)||this).currentTime=void 0,r.currentTime=i,r}return Ct(n,t),n}(Ox);F(),Et(),Dt();var J$=function(t){function n(n,i){var r;return(r=t.call(this,"I4t",n)||this).currentTime=void 0,r.currentTime=i,r}return Ct(n,t),n.prototype.xa=function(){return new Z$(this.Int.wnt(),this.currentTime)},n}(xx),Z$=function(t){function n(n,i){var r;return(r=t.call(this,"adthirdquartile",n)||this).ad=void 0,r.currentTime=void 0,r.ad=n,r.currentTime=i,r}return Ct(n,t),n}(Ox),$$=function(){function t(t,n){this.MZt=void 0,this.Q3t=void 0,this.h8=void 0,this.M3t=new DI,this.qc=[],this.X0t=[],this.W4t=[],this.G0t=void 0,this.hu=void 0,this.MZt=t,this.Q3t=n}var n=t.prototype;return n.rD=function(){var t;if(0!==this.W4t.length){var n=this.W4t[0];(null==(t=this.h8)?void 0:t.skipAd)?this.h8.skipAd(n.wnt()):this.p$t(n)}},n.Snt=function(t){},n.knt=function(t){},n.R4t=function(t,n){var i,r=null!=n?n:this.q4t({timeOffset:null!=(i=t.timeOffset)?i:0}),e=new F$(this.MZt,t,r);return r.e4t(e),this.qc.push(e),this.M3t.So(new Mx(e)),e},n.D4t=function(t,n){t.er(n),this.M3t.So(new FZ(t))},n.N4t=function(t,n){if(!ji(this.W4t,t))throw new y("Cannot update ad progress on a non-started ad");var i=t.y4t,r=b.max(i,n);t.y4t=r;var e=this.Q3t.LP();i<.25&&r>=.25&&this.M3t.So(new j$(t,e)),i<.5&&r>=.5&&this.M3t.So(new Y$(t,e)),i<.75&&r>=.75&&this.M3t.So(new J$(t,e))},n.o4t=function(t){ji(this.W4t,t)||(this.W4t.push(t),t.od.o4t(t),this.z4t(t.od),this.M3t.So(new Wx(t,this.Q3t.LP())))},n.p$t=function(t){if(ji(this.W4t,t)){var n=t.od.h4t(t);this.M3t.So(new H$(t,t.y4t)),this.G4t(t,n)}},n.M4t=function(t){if(ji(this.W4t,t)){var n=t.od.h4t(t);this.M3t.So(new Xx(t,this.Q3t.LP())),this.G4t(t,n)}},n.s4t=function(t){if(ji(this.qc,t)){var n=t.od.h4t(t);Xi(this.qc,t),t.od.s4t(t),this.M3t.So(new q$(t.od)),this.G4t(t,n)}},n.L4t=function(t){var n=new N$(this.MZt,t);return this.X0t.push(n),this.M3t.So(new Nx(n)),n},n.O4t=function(t,n){t.er(n),this.M3t.So(new z$(t))},n.F4t=function(t){if(ji(this.X0t,t)){for(var n,i=Lt(t.Jc.slice());!(n=i()).done;){var r=n.value;this.s4t(r)}Xi(this.X0t,t),this.M3t.So(new Dx(t))}},n.U4t=function(){for(var t,n=Lt(this.X0t.slice());!(t=n()).done;){var i=t.value;this.F4t(i)}},n.V4t=function(t){this.M3t.So(new R$(EJ.GENERAL,t.message))},n.H4t=function(t,n){var i=new fd(null!=n?n:cd.AD_ERROR,t.message,t);this.Q3t.qq(i)},n.X4t=function(t){return Ui(this.X0t,function(n){return n._Ot===t})},n.q4t=function(t){var n;return null!=(n=this.X4t(t.timeOffset))?n:this.L4t(t)},n.G4t=function(t,n){Xi(this.W4t,t);var i=t.od;0!==this.W4t.length||this.G0t!==i||n||(i.t4t(),this.z4t(void 0))},n.z4t=function(t){this.G0t!==t&&(void 0!==this.G0t&&this.M3t.So(new Ux(this.G0t)),this.G0t=t,void 0!==t&&this.M3t.So(new Vx(t)))},n.B4t=function(t){var n=Ui(this.qc,function(n){return n.wnt()===t});if(void 0===n)throw new y('Invalid ad for integration "'+this.MZt+'"');return n},n.C4t=function(t){var n=Ui(this.X0t,function(n){return n.wnt()===t});if(void 0===n)throw new y('Invalid ad break for integration "'+this.MZt+'"');return n},n.Ta=function(t,n){return Vt(function(){var i,r;return zt(this,function(e){switch(e.label){case 0:return dr(n),(null==(i=this.h8)?void 0:i.setSource)?[4,ut.resolve(this.h8.setSource(t))]:[3,2];case 1:return jS(r=e.sent())&&(r=t),[2,oE(r,this.Q3t.Cd)];case 2:return[2,t];case 3:return[2]}})}).call(this)},n.j4t=function(){return Vt(function(){var t;return zt(this,function(n){switch(n.label){case 0:return(null==(t=this.h8)?void 0:t.resetSource)?[4,ut.resolve(this.h8.resetSource())]:[3,2];case 1:return n.sent(),[3,3];case 2:this.U4t(),n.label=3;case 3:return[2]}})}).call(this)},n.kn=function(){return Vt(function(){var t;return zt(this,function(n){switch(n.label){case 0:return(null==(t=this.h8)?void 0:t.destroy)?[4,ut.resolve(this.h8.destroy()).catch(di)]:[3,2];case 1:n.sent(),n.label=2;case 2:return this.U4t(),this.z4t(void 0),this.h8=void 0,this.M3t.kn(),[2]}})}).call(this)},Nt(t,[{key:"Jc",get:function(){return this.qc}},{key:"A0t",get:function(){return this.X0t}},{key:"Ca",get:function(){var t;return null!=(t=this.hu)?t:this.hu=function(t){return{get integration(){return t.MZt},get ads(){return t.Jc.map(function(t){return t.wnt()})},get adBreaks(){return t.A0t.map(function(t){return t.wnt()})},createAd:function(n,i){return t.R4t(n,i?t.C4t(i):void 0).wnt()},updateAd:function(n,i){t.D4t(t.B4t(n),i)},updateAdProgress:function(n,i){var r=Ti(Number(i),0,1);t.N4t(t.B4t(n),r)},beginAd:function(n){t.o4t(t.B4t(n))},endAd:function(n){t.M4t(t.B4t(n))},skipAd:function(n){t.p$t(t.B4t(n))},removeAd:function(n){t.s4t(t.B4t(n))},createAdBreak:function(n){return t.L4t(n).wnt()},updateAdBreak:function(n,i){t.O4t(t.C4t(n),i)},removeAdBreak:function(n){t.F4t(t.C4t(n))},removeAllAds:function(){t.U4t()},error:function(n){t.V4t(n)},fatalError:function(n,i){var r=i?Number(i):void 0;t.H4t(n,r)}}}(this)}},{key:"rB",get:function(){return this.h8},set:function(t){this.h8=t}},{key:"G3t",get:function(){return this.W4t.some(function(t){return t.l4t===B$.hZt})}},{key:"C3t",get:function(){return this.MZt}},{key:"mnt",get:function(){return this.W4t}},{key:"ynt",get:function(){var t;return null!=(t=this.G0t)?t:null}},{key:"Ant",get:function(){return Ji(this.X0t,function(t){return t.Ant})}},{key:"bnt",get:function(){return this.X0t.filter(function(t){return!t._x})}}]),t}();F(),Et(),Bt();var t0=function(){function t(t){var n=this;this.oa=void 0,this.J8=void 0,this.Q4t=!1,this.Ed=function(t){1!==n.oa.ux&&(n.J8=n.oa.ux,n.oa.ux=1),n.Q4t=!0},this.Bd=function(t){n.Q4t=!1,void 0!==n.J8&&(n.oa.ux=n.J8,n.J8=void 0)},this.oa=t,this.addAdListeners()}var n=t.prototype;return n.destroy=function(){this.removeAdListeners()},n.addAdListeners=function(){var t,n;null==(t=this.oa.Jc)||t.wn("Dnt",this.Ed),null==(n=this.oa.Jc)||n.wn("Cnt",this.Bd)},n.removeAdListeners=function(){var t,n;null==(t=this.oa.Jc)||t.mn("Dnt",this.Ed),null==(n=this.oa.Jc)||n.mn("Cnt",this.Bd)},Nt(t,[{key:"player",get:function(){return this.oa},set:function(t){this.oa&&this.removeAdListeners(),this.oa=t,this.addAdListeners()}},{key:"inAdBreak",get:function(){return this.Q4t}}]),t}(),n0=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).K4t=void 0,r.d3t=void 0,r.t5t=[],r.J4t=void 0,r.Z4t=void 0,r.JW=void 0,r.Lz=void 0,r.e5t=void 0,r.i5t=1,r.d3t=n,r.K4t=new D$(r),r.K4t.W3t.k3t(i,n,r,n.Cd),r}Ct(n,t);var i=n.prototype;return i.Zst=function(){return this.K4t},i.qx=function(){this.d3t.qx(),this.K4t.qx()},i.Gx=function(){void 0===this.JW?(void 0!==this.Z4t&&this.$4t(this.Z4t),t.prototype.Gx.call(this)):this.So(new _b(this.JW))},i.Ta=function(n,i){var r=this;return Vt(function(){var e,s,u,o,h,c,a;return zt(this,function(f){switch(f.label){case 0:if(dr(i),!(e=n))return[3,4];s=Lt(this.t5t),f.label=1;case 1:return(u=s()).done?[3,4]:[4,u.value.Ta(e,i)];case 2:e=f.sent(),f.label=3;case 3:return[3,1];case 4:return[4,t.prototype.Ta.call(r,e,i)];case 5:if(f.sent(),dr(i),null==e?void 0:e.ads)for(o=Boolean(e.blockContentIfAdError),this.K4t.K3t(e.playAdsAfterTime),h=Lt(e.ads);!(c=h()).done;)a=c.value,this.K4t.M6(a,Sx.pnt,o);return[2]}})}).call(this)},i.Xx=function(){var n=this;return Vt(function(){var i,r;return zt(this,function(e){switch(e.label){case 0:return this.JW=void 0,this.Lz=void 0,[4,this.K4t.hr()];case 1:return e.sent(),this.i3t(),[4,t.prototype.Xx.call(n)];case 2:e.sent(),i=Lt(this.t5t),e.label=3;case 3:return(r=i()).done?[3,6]:[4,r.value.j4t()];case 4:e.sent(),e.label=5;case 5:return[3,3];case 6:return[2]}})}).call(this)},i.$4t=function(t){this.i5t=this.oa.ux;var n=this.oa.Mx,i=this.oa.$P;t.Ox(n),t.ix(i),this.J4t=t,this.Z4t=void 0,this.tO(t)},i.j3t=function(t){void 0===this.J4t&&(this.Z4t=t)},i.i3t=function(){this.Z4t=void 0,void 0!==this.J4t&&(this.d3t.ux=this.i5t,this.d3t.Mx=this.Mx,this.d3t.$P=this.$P,this.tO(this.d3t),this.J4t=void 0)},i.HP=function(){var n;return null!=(n=this.Lz)?n:t.prototype.HP.call(this)},i.qP=function(){var n;return null!=(n=this.JW)?n:t.prototype.qP.call(this)},i.qq=function(t){void 0===this.qP()&&(this.JW=t,this.Lz=hg(t),this.So(new _b(t)))},i.$x=function(t){return void 0===this.J4t&&this.K4t.F3t(t)},i.Tnt=function(t,n){try{var i=new $$(t,this);i.rB=n(i.Ca),this.K4t.Ent(i),this.t5t.push(i),t!==mS.UPLYNK&&(this.e5t=new t0(this))}catch(n){this.K4t.So(new R$(EJ.GENERAL,'Error while constructing ad integration "'+t+'": '+n+'"'))}},i.vx=function(n){var i;(null==(i=this.e5t)?void 0:i.inAdBreak)||t.prototype.vx.call(this,n)},i.kn=function(){var n=this;return Vt(function(){var i,r,e;return zt(this,function(s){switch(s.label){case 0:r=Lt(this.t5t),s.label=1;case 1:return(e=r()).done?[3,4]:[4,e.value.kn().catch(di)];case 2:s.sent(),s.label=3;case 3:return[3,1];case 4:return[4,this.K4t.kn()];case 5:return s.sent(),this.i3t(),null==(i=this.e5t)||i.destroy(),this.e5t=void 0,[4,t.prototype.kn.call(n)];case 6:return s.sent(),[2]}})}).call(this)},Nt(n,[{key:"Y4t",get:function(){return this.J4t}}]),n}(l$);zb(function(t){return new n0(t,yS.Ng)},Hb.rnt),F(),Et(),Bt(),F(),Et(),Wt(),Bt(),Dt(),Ut(),Qt(),F(),Et(),Wt(),Bt(),Dt(),Qt();var i0=On.ru&&On.Q_<12,r0=function(t){function n(n,i){var r;return(r=t.call(this,n,!0)||this).Q3t=void 0,r.o5t=void 0,r.$L=void 0,r.YL=void 0,r.Gl=void 0,r.ZL=void 0,r.JL=void 0,r.s5t=void 0,r.ha=void 0,r.rq=void 0,r.a5t=void 0,r.u5t=void 0,r.Q3t=i,r.o5t=!1,r.$L=new ng,r.YL=new ng,r.Gl=new Qm,r.ZL=new $b,r.JL=new xT,r.s5t=new DI,r.ha=new ZT,r.rq=new Cb,r.a5t=function(){r.oa.be()},r.u5t=function(){r.c5t()},r.oa.wn(eh.xw,r.Rs),r}Ct(n,t);var i=n.prototype;return i.Hst=function(){return this.oa.Hst()},i.RP=function(){return TA.iL()._s()},i.DP=function(){},i.BP=function(t){},i.lx=function(){return 1},i.vx=function(t){},i.gx=function(){return new TA([0,this.MP])._s()},i.Ex=function(){return!1},i.Ix=function(){return this.Gl},i.Dx=function(){return this.$L},i.ds=function(){return this.Hx().ds},i.Hx=function(){return this.ha},i.Ea=function(){},i.kn=function(){return Vt(function(){return zt(this,function(t){return this.Vo(),this.YL.kn(),this.$L.kn(),this.Gl.kn(),this.s5t.kn(),this.oa.mn(eh.xw,this.Rs),[2]})}).call(this)},i.n5t=function(){i0&&this.r5t(),this.G3t||this.Q3t.$4t(this)},i.i3t=function(){this.G3t&&(i0&&this.h5t(),On.Tg&&this.xe.querySelectorAll("video[src]").forEach(function(t){t.src=""}),Vn.Zs.Ep&&this.oa.Jx(),this.Q3t.i3t())},i.r5t=function(){this.o5t||(f.addEventListener("blur",this.a5t),f.addEventListener("focus",this.u5t),this.o5t=!0)},i.h5t=function(){f.removeEventListener("blur",this.a5t),f.removeEventListener("focus",this.u5t),this.o5t=!1},i.c5t=function(){var t=this;requestAnimationFrame(function(){return t.oa.we()})},Nt(n,[{key:"MP",get:function(){return this.LP()},set:function(t){this.OP(t)}},{key:"ct",get:function(){return this.Nd()}},{key:"zP",get:function(){return this.ZL}},{key:"jP",get:function(){return this.JL}},{key:"Sx",get:function(){return this.Tx()}},{key:"Fx",get:function(){return this.rq}},{key:"M3t",get:function(){return this.s5t}},{key:"ht",get:function(){return this.YL}},{key:"G3t",get:function(){return this.Q3t.Y4t===this}}]),n}(Lb);F(),Et(),Wt(),Bt(),Ut(),Qt(),F(),Et(),Bt(),Ut();var e0=0,s0="theoplayer-wrapper",u0=function(){function t(n,i,r,e){this.l5t=void 0,this.oa=void 0,this.p5t=void 0,this.T5t=void 0,this.y5t=void 0,this.k5t=void 0,this.x5t=void 0,this.R5t=void 0,this.C5t=void 0,this.b5t=void 0,this.B5t=void 0,this.Bst=void 0,this.Tz=void 0,this.v5t=void 0,this.L5t=void 0,this.jI=void 0,this.l5t=i,this.oa=r,this.p5t=e,this.k5t=NaN,this.x5t=!1,this.R5t=!1,this.b5t=!1,this.B5t=[],this.Bst=!1,this.Tz=!1,this.v5t=[],this.jI=++e0,this.L5t=n.timeOffset,this.T5t=t.Z5t(this.L5t),this.E5t(),this.v5t.push(n)}var n=t.prototype;return n.m5t=function(t){var n=this.w5t===t.timeOffset;return!this.y5t&&n},n.E5t=function(){if(S(this.k5t)){var t=this.w5t;if(void 0===t)return void(this.k5t=0);if("string"==typeof t&&JJ(t)){var n=this.oa.Nd();S(n)||n===1/0||(t=LK(t)*n)}S(t)||(this.k5t=t)}},n.N5t=function(t){this.B5t.push(t)},n.M5t=function(){if(!this.y5t){var t,n,i=this.l5t===Sx.pnt&&void 0===this.L5t&&1===this.v5t.length,r=this.v5t[0];if(!i&&1===this.v5t.length){var e=Vn.Dh(r.sources.src).searchParams.get("output");e&&e.toLowerCase().indexOf("vmap")>-1&&(i=!0,void 0!==this.L5t&&We("Do not set a timeOffset for VMAP ad sources. VMAP ads have their own offsets included."))}if(jJ(r.sources.type)||i)t=r.sources.src;else{if(S(this.oa.Nd())&&"end"===this.O5t())return;n=this.F5t()}var s=this.oa.Nd();(S(s)||s===1/0)&&(s=-3),this.y5t={U5t:this.oa.xe.offsetWidth,V5t:this.oa.xe.offsetHeight,H5t:this.oa.xe.offsetWidth,W5t:this.oa.xe.offsetHeight,q5t:this.Bst,z5t:this.Tz,G5t:t,X5t:n,j5t:r.omidAccessModeRules,Q5t:s}}return this.y5t},n.F5t=function(){var t=this;return'<vmap:VMAP xmlns:vmap="http://www.iab.net/videosuite/vmap" version="1.0">'+this.v5t.map(function(n,i){return t.K5t(n.sources,i)}).join("\n")+"</vmap:VMAP>"},n.K5t=function(t,n){var i=this.O5t(),r=t.src;return'<vmap:AdBreak timeOffset="'+i+'" breakType="linear,nonlinear" breakId="theoplayer-break-'+this.jI+"-"+n+'"><vmap:AdSource allowMultipleAds="true" followRedirects="true"><vmap:VASTAdData><VAST version="3.0"><Ad id="'+s0+"-"+this.jI+"-"+n+'"><Wrapper allowMultipleAds="true" followAdditionalWrappers="true"><VASTAdTagURI><![CDATA['+r+"]]></VASTAdTagURI></Wrapper></Ad></VAST></vmap:VASTAdData></vmap:AdSource></vmap:AdBreak>"},n.O5t=function(){if(0===this.w5t)return"start";if(this.w5t===1/0)return"end";var t=this.w5t;if("string"==typeof t&&JJ(t)){var n=LK(t)*this.oa.Nd();return MJ.DZt(n)}return MJ.DZt(this.w5t||0)},n.Y5t=function(t){this.v5t.push(t)},n.J5t=function(t){for(var n,i=s0+"-"+this.jI+"-",r=Lt(t);!(n=r()).done;){var e=n.value;if(Uo(e,i)){var s=Number(e.slice(i.length));if(!S(s)&&s>=0&&s<this.v5t.length)return s}}return-1},n.$5t=function(){this.b5t=!0},t.Z5t=function(t){if(void 0!==t)return-1===t?1/0:t},Nt(t,[{key:"d5t",get:function(){return this.l5t}},{key:"f5t",get:function(){return this.v5t}},{key:"_5t",get:function(){return 1===this.v5t.length&&jJ(this.v5t[0].sources.type)}},{key:"g5t",get:function(){return this.p5t}},{key:"A5t",get:function(){return this.b5t}},{key:"S5t",get:function(){return JJ(this.T5t)&&!this.y5t}},{key:"w5t",get:function(){return this.T5t}},{key:"dd",get:function(){return this.k5t}},{key:"P5t",get:function(){return this.x5t},set:function(t){this.x5t=t}},{key:"I5t",get:function(){return this.R5t},set:function(t){this.R5t=t,this.C5t=!1}},{key:"D5t",get:function(){return this.B5t}},{key:"cO",get:function(){return this.Bst},set:function(t){this.Bst=t}},{key:"$P",get:function(){return this.Tz},set:function(t){this.Tz=t}}]),t}();F(),Et(),Bt();var o0=function(){function t(t){this.i6t=void 0,this.s6t=void 0,this.u6t=!1,this.i6t=t,this.s6t=void 0}var n=t.prototype;return n.K3t=function(t){this.s6t=t},n.n6t=function(t){return!(this.t6t&&!this.t6t.A5t&&"nonlinear"!==this.e6t.l4t)||this.t6t.dd>t.dd&&this.t6t.dd!==t.dd},n.r6t=function(t){if(t.length)return t.sort(function(t,n){return t.dd-n.dd})[0]},n.h6t=function(){if(this.Ant.length)return this.r6t(this.o6t(this.t.LP()))},n.a6t=function(){var t=this;if(!(void 0!==this.s6t&&this.s6t>=0))return this.Ant.filter(function(n){return!n.P5t&&0===n.dd&&n!==t.t6t})[0]},n.o6t=function(t){var n=this;if(!this.u6t&&(this.u6t=!this.Ant.some(function(t){return S(t.dd)}),!this.u6t))return[];var i=this.Ant.filter(function(n){return!n.P5t&&(n._5t||!S(n.dd)&&t<=n.dd)});return void 0===this.s6t?i:i.filter(function(t){return t._5t||void 0===t.w5t||t.dd>n.s6t})},Nt(t,[{key:"t6t",get:function(){return this.i6t.t6t}},{key:"e6t",get:function(){return this.i6t.e6t}},{key:"Ant",get:function(){return this.i6t.Ant}},{key:"t",get:function(){return this.i6t.t}}]),t}(),h0=function(t){return t[t.c6t=0]="c6t",t[t.d6t=1]="d6t",t[t.l6t=2]="l6t",t}({}),c0=function(){function t(t,n,i,r,e){var s=this;this.y6t=void 0,this.r4t=void 0,this.f6t=void 0,this.ko=void 0,this.oa=void 0,this.Q3t=void 0,this.M6t=void 0,this.x6t=void 0,this.N6t=void 0,this.Mst=void 0,this.A6t=0,this.Dpt=void 0,this.m6t=void 0,this.L6t=!1,this.uX=function(){for(var t,n=Lt(s.r4t.filter(function(t){return t.S5t}));!(t=n()).done;){var i=t.value;i.E5t();var r=i.w5t;s.m6t.U6t(r,i.dd)}s.ko&&s.O6t&&s.v6t()},this.r4t=[],this.y6t=t,this.ko=!1,this.f6t=!1,this.oa=n,this.Q3t=i,this.t6t=void 0,this.x6t=0,this.N6t=new o0(this),this.Mst=r,this.m6t=e,this.oa.wn(eh.Rw,this.uX)}var n=t.prototype;return n.qx=function(){this.ko=!0,this.f6t&&this.v6t()},n._6t=function(t,n){this.g6t(t,n);var i=Ui(this.Ant,function(n){return n.m5t(t)});if(i)i.Y5t(t);else{var r,e=new u0(t,n,this.oa,null==(r=t.replaceContent)||r);this.r4t.push(e),2===this.p6t&&this.m6t.L4t(e.dd,e,e.w5t),this.w6t(n,e)}},n.b6t=function(){if(Xi(this.Ant,this.t6t),this.t6t){for(var t,n=Lt(this.t6t.D5t);!(t=n()).done;){t.value;this.m6t.S6t()}this.t6t=void 0}},n.T6t=function(){for(var t,n=Lt(this.r4t);!(t=n()).done;)for(var i,r=Lt(t.value.D5t);!(i=r()).done;){var e=i.value;this.m6t.k6t(e,!0)}Yi(this.r4t)},n.E6t=function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return this.b6t(),this.P6t=!0,this.t6t=t,this.x6t=t.dd,this.Dpt=this.I6t(t),[4,this.Dpt];case 1:return n.sent(),this.Dpt=void 0,[2]}})}).call(this)},n.I6t=function(t){return Vt(function(){var n,i;return zt(this,function(r){switch(r.label){case 0:return[4,this.R6t(t)];case 1:if(r.sent(),!(n=t.M5t()))return this.P6t=!1,this.t6t=void 0,[2];i=this.y6t.C6t(n),t.P5t=!0,r.label=2;case 2:return r.trys.push([2,4,,6]),[4,i];case 3:return r.sent(),t.d5t===Sx.gnt&&this.y6t.D6t(),[3,6];case 4:return r.sent(),this.t6t=void 0,[4,this.v6t()];case 5:return r.sent(),[3,6];case 6:return[2]}})}).call(this)},n.R6t=function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return t.$P=this.Q3t.$P,this.Q3t.cO?[4,this.Mst.HK(this.Q3t.$P)]:(t.cO=!1,[2]);case 1:switch(n.sent()){case"all":case"muted":t.cO=!0;break;case"none":t.cO=!1}return[2]}})}).call(this)},n.B6t=function(){var t;return null!=(t=this.N6t.a6t())?t:this.N6t.h6t()},n.v6t=function(){return Vt(function(){var t;return zt(this,function(n){switch(n.label){case 0:return this.t6t&&!this.t6t.A5t?[2,this.Dpt]:(t=this.B6t())?[4,this.E6t(t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})}).call(this)},n.hr=function(){this.b6t(),Yi(this.r4t),this.x6t=0,this.t6t=void 0,this.Dpt=void 0,this.P6t=!1},n.I5t=function(){this.P6t=!1,this.t6t&&(this.t6t.I5t=!0)},n.w6t=function(t,n){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return t===Sx.gnt&&this.ko&&this.N6t.n6t(n)?this.RGt||"linear"===this.y6t.l4t||!(!this.t6t||this.t6t&&this.t6t.P5t)?[3,3]:[4,ut.resolve()]:[3,3];case 1:return i.sent(),[4,this.E6t(n)];case 2:i.sent(),i.label=3;case 3:return[2]}})}).call(this)},n.$5t=function(){this.t6t&&this.t6t.$5t()},n.F6t=function(){return Vt(function(){var t;return zt(this,function(n){switch(n.label){case 0:return this.O6t?(t=this.B6t())?[4,this.E6t(t)]:[3,2]:[2];case 1:n.sent(),n.label=2;case 2:return[2]}})}).call(this)},n.g6t=function(t,n){var i=t.sources.type,r=n===Sx.pnt&&void 0===t.timeOffset,e=jJ(i)||r?1:2;e!==this.A6t&&(this.A6t=e,this.T6t(),this.y6t.w0t&&!this.RGt&&"linear"!==this.y6t.l4t&&(this.y6t.w0t.zg(),this.t6t=void 0,this.Dpt=void 0),this.x6t=0,this.f6t=!0)},n.K3t=function(t){this.N6t.K3t(t)},n.kn=function(){this.oa.mn(eh.Rw,this.uX)},Nt(t,[{key:"e6t",get:function(){return this.y6t}},{key:"Ant",get:function(){return this.r4t}},{key:"t",get:function(){return this.oa}},{key:"RGt",get:function(){return Boolean(this.Dpt)}},{key:"p6t",get:function(){return this.A6t}},{key:"t6t",get:function(){return this.M6t},set:function(t){this.M6t=t}},{key:"P6t",get:function(){return this.L6t},set:function(t){this.L6t=t}},{key:"O6t",get:function(){var t=this;return!this.RGt&&!this.P6t&&(!(this.t6t&&!this.t6t.A5t)&&(!!this.r4t.filter(function(n){return t.t6t!==n}).length&&Boolean(this.B6t())))}}]),t}();F(),Et(),Wt(),Dt(),Qt(),F(),Et();var a0=function(t){return t.V6t="contentResumeRequested",t.H6t="contentPauseRequested",t.W6t="click",t.Rw="durationChange",t.q6t="expandedChanged",t.z6t="start",t.G6t="impression",t.Gz="pause",t.X6t="resume",t.j6t="adProgress",t.Q6t="adBuffering",t.K6t="firstQuartile",t.mJt="midpoint",t.Y6t="thirdQuartile",t.wJt="complete",t.J6t="userClose",t.Z6t="linearChanged",t.$6t="loaded",t.t8t="adCanPlay",t.i8t="adMetadata",t.e8t="adBreakReady",t.s8t="interaction",t.n8t="allAdsCompleted",t.r8t="skip",t.h8t="skippableStateChanged",t.o8t="log",t.a8t="viewableImpression",t.u8t="volumeChange",t.c8t="mute",t}({});F(),Et();var f0=function(t){return t.d8t="adError",t}({});F(),Et();var v0=function(t){return t[t.l8t=-1]="l8t",t[t.f8t=-1]="f8t",t[t.v8t=-1]="v8t",t[t._8t=101]="_8t",t[t.g8t=102]="g8t",t[t.p8t=200]="p8t",t[t.m8t=201]="m8t",t[t.w8t=202]="w8t",t[t.y8t=300]="y8t",t[t.A8t=301]="A8t",t[t.b8t=302]="b8t",t[t.S8t=303]="S8t",t[t.T8t=400]="T8t",t[t.k8t=402]="k8t",t[t.E8t=403]="E8t",t[t.P8t=405]="P8t",t[t.x8t=500]="x8t",t[t.I8t=501]="I8t",t[t.R8t=-1]="R8t",t[t.C8t=503]="C8t",t[t.D8t=602]="D8t",t[t.B8t=900]="B8t",t[t.N8t=901]="N8t",t[t.M8t=1005]="M8t",t[t.L8t=1007]="L8t",t[t.O8t=1009]="O8t",t[t.F8t=1010]="F8t",t[t.U8t=1011]="U8t",t[t.V8t=1012]="V8t",t[t.H8t=1013]="H8t",t[t.W8t=1020]="W8t",t[t.q8t=1021]="q8t",t[t.z8t=1101]="z8t",t[t.G8t=1204]="G8t",t[t.X8t=1205]="X8t",t[t.j8t=1300]="j8t",t[t.Q8t=-1]="Q8t",t[t.K8t=-1]="K8t",t[t.Y8t=-1]="Y8t",t[t.J8t=-1]="J8t",t}({}),d0=function(t){return t.Z8t="adLoadError",t.$8t="adPlayError",t}({});function l0(t,n){if(t===a0.j6t){var i=n;return{t7t:i.adBreakDuration,i7t:i.adPosition,MP:i.currentTime,ct:i.duration,e7t:i.totalAds}}return n}function w0(t){switch(t){case google.ima.AdError.Type.AD_LOAD:return d0.Z8t;case google.ima.AdError.Type.AD_PLAY:return d0.$8t}}function g0(t){return zn(t)&&Kn(t.getVastErrorCode)}function _0(t){var n=t.getInnerError(),i=n&&g0(n)?_0(n):void 0;return{Py:t.getMessage(),YJt:t.getErrorCode(),s7t:t.getVastErrorCode(),Km:w0(t.getType()),n7t:i}}function m0(t){if(Un(t))return t}F(),Et(),F(),Et();var y0=function(t){function n(n,i,r){var e,s;return e=t.call(this)||this,(s=e).y6t=void 0,s.oa=void 0,s.A7t=void 0,s.s9t=void 0,s.$7t=void 0,s.t9t=void 0,s.y0t=void 0,s.C7t=void 0,s.M7t=void 0,s.L7t=void 0,s.o7t=void 0,s.c7t=void 0,s.d7t=void 0,s.l7t=void 0,s.f7t=void 0,s.v7t=void 0,s._7t=void 0,s.g7t=void 0,s.a7t=void 0,s.u7t=void 0,s.y6t=n,s.oa=i,s.A7t=r,s.s9t=!1,s.$7t=void 0,s.t9t=void 0,s.C7t=0,s.M7t=function(t){if(t.Int&&t.Int.V7t){var n=t.Int.V7t;s.A7t.O4t(n._Ot,n.e7t,n.p0t)}},s.L7t=function(t){var n,i,r;if(!(s.C7t>=5)){s.C7t++;var e=t.S7t;if(function(t){return zn(t)&&void 0!==t.t7t&&void 0!==t.e7t}(e)){var u=null==(r=s.y0t)||null==(i=r.O7t())||null==(n=i.V7t)?void 0:n._Ot;void 0!==u&&s.A7t.O4t(u,e.e7t,e.t7t)}}},s.o7t=function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return t.S7t.n9t?[4,s.P7t(t.S7t.n9t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})()},s.c7t=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return s.s9t=!0,s.y6t.$5t(),[4,s.u7t()];case 1:return t.sent(),[2]}})})()},s.d7t=function(t){if(t.Int){0;var n=t.Int;s.y6t.G7t(n),s.y6t.be(),s.y6t.r9t(),s.y6t.h9t=!0,s.A7t.o9t(n);var i=n.ct;if(s.b7t(i),n.D7t){var r=s.y6t.MP,e=s.y6t.Ax;s.y6t.i5(Cy.WL),s.r7t(new Py(r,e)),s.r7t(new By(r,e)),s.r7t(new xy(r,e)),s.y6t.hx||s.r7t(new Oy(s.y6t.MP)),s.setCountdownTimer(),s.m7t(!0)}else s.y6t.i3t(),s.oa.be(),s.y6t.hx||s.oa.Gx()}},s.l7t=function(t){var n;if(t.Int){0;var i=t.Int;if(s.vm(),s.A7t.z7t(s.y6t.ct,i.D7t),s.y6t.Ax!==Cy.VL){var r=Cy.VL;s.y6t.i5(r);var e=s.y6t.MP;s.r7t(new oT(e,r))}s.b7t(NaN),s.y6t.h9t=!1,null==(n=s.y0t)||n.Ox(s.y6t.B7t())}},s.f7t=function(t){t.Int&&(s.l7t(t),s.A7t.f7t(t.Int,s.y6t.MP,s.y6t.ct))},s.v7t=function(t){t.Int&&(s.A7t.z7t(-1,t.Int.D7t),s.y6t.$5t(),!t.Int.D7t&&s.y6t.O6t()&&s.y6t.F6t())},s._7t=function(t){t.Int&&(t.Int.D7t?s.y6t.zx():s.oa.zx())},s.g7t=function(){var t;(s.y6t.h9t=!0,s.y6t.a9t)&&(null==(t=s.y0t)||t.zx(),s.y6t.a9t=!1)},s.a7t=function(t){var n;if(t.Int){0,s.y6t.Z7t&&(s.t9t=s.oa.LP(),s.oa.Yx(),s.oa.Vx=!0),s.y6t.u9t=!0;var i=t.Int;s.A7t.Ed(i);var r=i.ct;s.y6t.G7t(i),s.b7t(r),s.y6t.p7t(!1),s.y6t.be(),s.y6t.n5t(),s.y6t.Z7t||s.oa.we(),s.oa.zx(),s.y6t.c9t(i),0===(null==(n=i.V7t)?void 0:n._Ot)||s.y6t.So(new Ny(s.y6t.MP))}},s.u7t=function(t){return Vt(function(){var n,i,r,e,u;return zt(this,function(o){switch(o.label){case 0:return n=null==t?void 0:t.Int,s.y6t.u9t=!1,"linear"===s.y6t.l4t&&s.A7t.Bd(),n&&n.ct>=0&&s.b7t(n.ct),s.oa.Nd()===1/0&&s.y6t.d9t(),s.y6t.h9t=!1,s.s9t?[4,s.q7t()]:[3,2];case 1:o.sent(),o.label=2;case 2:s.y6t.p7t(!0),o.label=3;case 3:return o.trys.push([3,5,,6]),[4,s.J7t()];case 4:return o.sent(),[3,6];case 5:return vr(i=o.sent())||s.So(new xY(i)),[2];case 6:return s.y6t.i3t(),s.y6t.we(),s.oa.UP||s.oa.Gx(),n&&s.y6t.G7t(n),s.y6t.Q7t&&(s.y6t.Z7t&&(e=s.oa.Wx(),u=null==(r=s.oa.bt)?void 0:r.src,e&&u&&(e.src=u)),s.y6t.K7t=!0),s.oa.Vx=!1,s.y6t.O6t()?[4,s.y6t.F6t()]:[3,8];case 7:o.sent(),o.label=8;case 8:return[2]}})})()},e}Ct(n,t);var i=n.prototype;return i.r7t=function(t){this.y6t.So(t)},i.h7t=function(t){var n=this;this.y0t=t,this.y0t.wn(f0.d8t,this.o7t),this.y0t.wn(a0.H6t,this.a7t),this.y0t.wn(a0.V6t,this.u7t),this.y0t.wn(a0.n8t,this.c7t),this.y0t.wn(a0.z6t,this.d7t),this.y0t.wn(a0.wJt,this.l7t),this.y0t.wn(a0.r8t,this.f7t),this.y0t.wn(a0.J6t,this.v7t),this.y0t.wn(a0.W6t,this._7t),this.y0t.wn(a0.t8t,this.g7t),this.y0t.wn(a0.Gz,function(){n.y6t.hx||(n.y6t.p7t(!0),n.y6t.So(new hT(n.y6t.MP))),n.m7t(!0)}),this.y0t.wn(a0.X6t,function(){n.y6t.hx&&(n.y6t.p7t(!1),n.y6t.So(new cT(n.y6t.MP)))}),this.y0t.wn(a0.c8t,function(){var i=t.Lx();i>=0&&n.w7t(i)}),this.y0t.wn(a0.u8t,function(){var i=t.Lx();i>=0&&n.w7t(i)}),this.y0t.wn(a0.i8t,function(t){n.A7t.y7t(t.type)}),this.y0t.wn(a0.Rw,function(t){t.Int&&n.b7t(t.Int.ct)}),this.y0t.wn(a0.o8t,function(t){return Vt(function(){var n,i;return zt(this,function(r){switch(r.label){case 0:return n=t.S7t.adError,(i=g0(n)?_0(n):void 0)?this.T7t(i)?[4,this.k7t(t)]:[3,2]:[2];case 1:return r.sent(),[3,5];case 2:return this.E7t(i)?[4,this.P7t(i)]:[3,4];case 3:return r.sent(),[3,5];case 4:this.x7t(i)&&this.I7t(i),r.label=5;case 5:return[2]}})}).call(n)}),this.y0t.wn(a0.$6t,function(t){if(t.Int&&(n.y6t.I5t(),n.A7t.R7t(t.Int),n.C7t=0,t.Int.D7t)){var i,r=n.y6t.Ax,e=Cy.VL;n.y6t.i5(e);var s=n.y6t.MP,u=n.y6t.Ax;u!==r&&n.r7t(new oT(s,u)),null==(i=n.y0t)||i.Ox(n.y6t.B7t()),n.r7t(new Dy(s,e))}}),this.y0t.wn([a0.Q6t,a0.G6t,a0.K6t,a0.mJt,a0.Y6t],function(t){t.Int&&n.A7t.N7t(t.Int,t.type,n.y6t.MP)}),this.y0t.wn(a0.K6t,this.M7t),this.y0t.wn(a0.j6t,this.L7t)},i.switchToPlayerIfNoNextAd=function(){return Vt(function(){var t,n;return zt(this,function(i){switch(i.label){case 0:return this.y0t?(t=this.y0t.O7t())&&this.F7t(t)?[3,3]:this.y6t.O6t()?[4,this.y6t.F6t()]:[3,2]:[3,4];case 1:return i.sent(),[3,3];case 2:this.y6t.U7t(),this.oa.hx&&!this.oa.UP&&this.oa.Gx(),i.label=3;case 3:return[3,7];case 4:return this.y6t.O6t()?[4,this.y6t.F6t()]:[3,6];case 5:return i.sent(),[3,7];case 6:n=this.y6t.hx,this.y6t.U7t(),n||this.oa.Gx(),i.label=7;case 7:return[2]}})}).call(this)},i.F7t=function(t){var n=t.V7t,i=null==n?void 0:n.e7t;return(null==n?void 0:n.i7t)!==i},i.vm=function(){this.y6t.Dc&&(m(this.y6t.Dc),this.y6t.Dc=null)},i.x7t=function(t){return t.Km===d0.Z8t},i.E7t=function(t){return t.Km===d0.$8t},i.T7t=function(t){return t.YJt===v0.O8t},i.P7t=function(t){return Vt(function(){var n;return zt(this,function(i){switch(i.label){case 0:return this.I7t(t),this.H7t(t)?(this.y6t.W7t.P6t=!1,null==(n=this.y6t.W7t.t6t)||n.$5t(),[4,this.switchToPlayerIfNoNextAd()]):[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})}).call(this)},i.H7t=function(t){var n;if(p0(t))return!0;if(this.y6t.Unt)return!1;var i=[v0.T8t,v0.N8t,v0.q8t,v0.X8t];return!(ji(i,t.YJt)||ji(i,null==(n=t.n7t)?void 0:n.YJt))},i.I7t=function(t){this.y6t.V4t(t)},i.q7t=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.A7t.S6t(),this.y6t.$5t(),"nonlinear"===this.y6t.l4t&&(this.A7t.z7t(-1,!1),this.y6t.G7t(void 0)),"nonlinear"!==this.y6t.l4t&&"none"!==this.y6t.l4t?[3,2]:this.y6t.O6t()?[4,this.y6t.F6t()]:[3,2];case 1:t.sent(),t.label=2;case 2:return this.y6t.X7t(),this.y6t.G3t?this.y6t.i3t():this.j7t()&&this.oa.So(new vT(this.oa.LP())),[2]}})}).call(this)},i.j7t=function(){return this.y6t.Q7t&&!this.y6t.K7t&&this.oa.UP},i.setCountdownTimer=function(){var t=this;this.vm(),this.y6t.Dc=_(function(){return t.m7t()},250)},i.k7t=function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return void 0===t.Int?[2]:(this.y6t.W7t.P6t=!1,this.y6t.$5t(),this.y6t.O6t()?[4,this.y6t.F6t()]:[3,2]);case 1:return n.sent(),[3,3];case 2:this.y6t.p7t(!0),n.label=3;case 3:return[2]}})}).call(this)},i.b7t=function(t){this.y6t.ct!==t&&t>=0&&(this.y6t.C4(t),this.r7t(new aT(this.y6t.ct)))},i.w7t=function(t){this.y6t.B7t()!==t&&(0===t?this.y6t.Y7t(t,!0,!1):this.y6t.Y7t(t,!1,!1))},i.J7t=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.y6t.Z7t&&void 0!==this.oa.HP()?(this.$7t=new hr,[4,_r(this.oa.Ta(this.oa.nu(),this.$7t.Yg),this.$7t)]):[3,2];case 1:t.sent(),this.t9t&&this.oa.OP(this.t9t),this.t9t=void 0,t.label=2;case 2:return[2]}})}).call(this)},i.m7t=function(t){if(this.y0t){var n=this.y0t.i9t();n>this.y6t.ct&&this.b7t(b.round(n))}var i=this.y6t.MP;(t||!this.y6t.hx&&i!==this.y6t.e9t)&&(this.y6t.So(new pw(i,void 0)),this.y6t.e9t=i)},i.hr=function(){this.$7t&&(this.$7t.Zg(),this.$7t=void 0),this.s9t=!1,this.C7t=0},i.kn=function(){this.hr(),this.Vo()},n}(th);function p0(t){var n,i;return t.s7t===v0.S8t||(null==(n=t.n7t)?void 0:n.s7t)===v0.S8t||t.YJt===v0.O8t||(null==(i=t.n7t)?void 0:i.YJt)===v0.O8t}F(),Et(),Bt(),Dt(),Ut(),F(),Et(),Bt(),Dt();var k0=function(t){function n(n,i,r){var e;return(e=t.call(this,n)||this).l9t=void 0,e.f9t=void 0,e.l9t=i,e.f9t=r,e}return Ct(n,t),Nt(n,[{key:"MZt",get:function(){return UZ.V0t}}]),n}(P$);F(),Et(),Bt(),Dt(),F(),Et(),F(),Et(),Bt(),Dt();var b0=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this)._9t=0,r.g9t=void 0,r}Ct(n,t);var i=n.prototype;return i.N0t=function(){var t;return null==(t=this.g9t)?void 0:t.yKt},i.xa=function(){return function(t,n){return xw(t,{bitrate:0,contentType:void 0,mediaUrl:void 0,traffickingParameters:void 0,traffickingParametersString:void 0,universalAdIds:[],get description(){return n.dB},get apiFramework(){return n.p9t},get creativeId(){return n.GKt},get title(){return n.dq},get wrapperAdIds(){return n.m9t},get wrapperAdSystems(){return n.w9t},get wrapperCreativeIds(){return n.y9t}})}(M$(this),this)},i.A9t=function(t){this.g9t=t;var n=A0(t);this.u4t(t.UYt,t.b9t,t.S9t,t.ct,n,-1)},Nt(n,[{key:"v9t",get:function(){return this._9t},set:function(t){this._9t=t}},{key:"MZt",get:function(){return UZ.so}},{key:"p9t",get:function(){var t;return null==(t=this.g9t)?void 0:t.cYt}},{key:"GKt",get:function(){var t;return null==(t=this.g9t)?void 0:t.GKt}},{key:"dB",get:function(){var t;return null==(t=this.g9t)?void 0:t.dB}},{key:"dq",get:function(){var t;return null==(t=this.g9t)?void 0:t.dq}},{key:"m9t",get:function(){var t,n;return null!=(n=null==(t=this.g9t)?void 0:t.m9t)?n:[]}},{key:"w9t",get:function(){var t,n;return null!=(n=null==(t=this.g9t)?void 0:t.w9t)?n:[]}},{key:"y9t",get:function(){var t,n;return null!=(n=null==(t=this.g9t)?void 0:t.y9t)?n:[]}}]),n}(O$);function A0(t){return t.IKt.map(function(t){return new L$(t)})}var T0=function(t){function n(n){var i;return(i=t.call(this,n,B$.pk)||this).g9t=void 0,i.iJt=void 0,i}Ct(n,t);var i=n.prototype;return i.xa=function(){return function(t,n){return xw(t,{get adSystem(){return n.N0t()},get apiFramework(){return n.p9t},get bitrate(){return n.T9t},get contentType(){return n.qT},get creativeId(){return n.GKt},get description(){return n.dB},get mediaUrl(){return n.tJt},get title(){return n.dq},get traffickingParameters(){return n.k9t},get traffickingParametersString(){return n.E9t},get wrapperAdIds(){return n.m9t},get wrapperAdSystems(){return n.w9t},get wrapperCreativeIds(){return n.y9t},get universalAdIds(){return n.CKt}})}(M$(this),this)},i.A9t=function(t){this.g9t=t,this.u4t(t.UYt,t.b9t,t.S9t,t.ct,A0(t),t.P9t),this.f4t=t.D7t?B$.hZt:B$.a4t},i.N0t=function(){return this.g9t?S0(this.g9t.yKt):void 0},Nt(n,[{key:"MZt",get:function(){return UZ.V0t}},{key:"p9t",get:function(){return this.g9t?S0(this.g9t.cYt):void 0}},{key:"T9t",get:function(){return this.g9t?this.g9t.x9t:0}},{key:"qT",get:function(){return this.g9t?S0(this.g9t.qT):void 0}},{key:"GKt",get:function(){return this.g9t?S0(this.g9t.GKt):void 0}},{key:"I9t",get:function(){return this.g9t?S0(this.g9t.I9t):void 0}},{key:"dB",get:function(){var t;return null==(t=this.g9t)?void 0:t.dB}},{key:"tJt",get:function(){var t,n=null==(t=this.g9t)?void 0:t.tJt;return Un(n)?n:this.iJt},set:function(t){this.iJt=t}},{key:"dq",get:function(){var t;return null==(t=this.g9t)?void 0:t.dq}},{key:"k9t",get:function(){return this.g9t?S0(this.g9t.k9t):void 0}},{key:"E9t",get:function(){return this.g9t?S0(this.g9t.E9t):void 0}},{key:"m9t",get:function(){var t,n;return null!=(n=null==(t=this.g9t)?void 0:t.m9t)?n:[]}},{key:"w9t",get:function(){var t,n;return null!=(n=null==(t=this.g9t)?void 0:t.w9t)?n:[]}},{key:"y9t",get:function(){var t,n;return null!=(n=null==(t=this.g9t)?void 0:t.y9t)?n:[]}},{key:"CKt",get:function(){var t,n;return null!=(n=null==(t=this.g9t)?void 0:t.CKt.map(function(t){return{adIdRegistry:t.R9t,adIdValue:t.C9t}}))?n:[]}}]),n}(O$);function S0(t){return null===t?void 0:t}F(),Et(),Bt(),F(),Et(),Bt();var E0=function(){function t(t,n){this.A7t=void 0,this.D9t=void 0,this.A7t=t,this.D9t=n}var n=t.prototype;return n.knt=function(t){this.A7t.knt(t)},n.rD=function(){this.A7t.rD()},n.Snt=function(t){this.A7t.Snt(t)},n.kn=function(){return ut.resolve()},Nt(t,[{key:"M3t",get:function(){return this.A7t.M3t}},{key:"C3t",get:function(){return this.D9t}},{key:"G3t",get:function(){return this.A7t.G3t}},{key:"ynt",get:function(){var t;return null!=(t=this.A7t.ynt)?t:null}},{key:"mnt",get:function(){var t=this.A7t.B9t;return t?[t]:[]}},{key:"Ant",get:function(){return this.A7t.Ant}},{key:"bnt",get:function(){return this.A7t.bnt}}]),t}(),I0=function(){function t(t,n){this.s5t=void 0,this.X0t=void 0,this.M0t=void 0,this.G0t=void 0,this.L9t=void 0,this.M9t=void 0,this.s5t=t,this.X0t=[],this.L9t=!1,this.M9t=new E0(this,n)}return Nt(t,[{key:"N9t",get:function(){return this.M9t}},{key:"M3t",get:function(){return this.s5t}},{key:"G3t",get:function(){return this.L9t}},{key:"B9t",get:function(){return this.M0t}},{key:"ynt",get:function(){return this.G0t}},{key:"Ant",get:function(){var t=this;return Ji(this.X0t,function(n){if(n._x)return[];var i=n.Jc;if(n===t.G0t&&void 0!==t.M0t){var r=i.indexOf(t.M0t);if(r>=0)return i.slice(r+1)}return i})}},{key:"bnt",get:function(){return this.X0t.filter(function(t){return!t._x})}}]),t}();F(),Et(),Dt();var R0=function(t){function n(n){return t.call(this,"O9t",n)||this}return Ct(n,t),n.prototype.xa=function(){return new C0(this.Int.wnt())},n}(xx),C0=function(t){function n(n){return t.call(this,"adimpression",n)||this}return Ct(n,t),n}(Ox);F(),Et(),Dt();var D0=function(t){function n(n){var i;return(i=t.call(this,"F9t")||this).Int=void 0,i.Int=n,i}return Ct(n,t),n.prototype.xa=function(){return new P0(this.Int.wnt())},n}(kw),P0=function(t){function n(n){var i;return(i=t.call(this,"adbuffering")||this).ad=void 0,i.ad=n,i}return Ct(n,t),n}(rh);F(),Et(),Dt();var N0=function(t){function n(){return t.call(this,"U9t")||this}return Ct(n,t),n.prototype.xa=function(){return new B0},n}(kw),B0=function(t){function n(){return t.call(this,"admetadata")||this}return Ct(n,t),n}(rh),x0=function(t){function n(n,i){var r;return(r=t.call(this,n,UZ.V0t)||this).W9t=void 0,r.G9t=void 0,r.z9t=void 0,r.W9t=i,r.G9t=[],r.z9t=[],r}Ct(n,t);var i=n.prototype;return i.V9t=function(t,n){for(var i=0;i<t;i++){var r=new T0(n);n.e4t(r),this.M3t.So(new Mx(r))}},i.L4t=function(t,n,i){var r=t;r===1/0&&(r=-1);var e=new k0(r,i,n);this.X0t.push(e),n.N5t(e),this.M3t.So(new Nx(e))},i.U6t=function(t,n){for(var i,r=Lt(this.X0t);!(i=r()).done;){var e=i.value;S(e._Ot)&&e.l9t===t&&(e._Ot=n,this.M3t.So(new z$(e)))}},i.k6t=function(t,n){void 0===n&&(n=!1),n&&Xi(this.X0t,t),this.M3t.So(new Dx(t))},i.S6t=function(){if(this.ynt){this.k6t(this.ynt,!0);var t=Boolean(this.M0t&&this.M0t.l4t===B$.hZt);this.H9t(void 0,t)}},i.D4t=function(t,n){var i=n.V7t;if(i){var r=i.i7t-1,e=t.Jc[r];return e.A9t(n),this.M3t.So(new FZ(e)),e.od.p0t=i.p0t,e}},i.q9t=function(t){if(!ji(this.z9t,t)){if(t){if(this.M0t===t)return;this.M0t=t;for(var n,i=Lt(this.G9t);!(n=i()).done;){var r=n.value;0,this.y7t(r,t,this.W9t.MP)}}else{if(!this.M0t)return;var e=new Xx(this.M0t,this.M0t.od._Ot);this.z9t.push(this.M0t),this.M0t=void 0,this.s5t.So(e)}Yi(this.G9t)}},i.H9t=function(t,n){if(t){var i;if((null==(i=this.ynt)?void 0:i._Ot)===t._Ot)return;this.G0t=t,n&&this.M3t.So(new Vx(this.G0t))}else{if(!this.G0t)return;var r=new Ux(this.G0t);this.G0t=void 0,Yi(this.z9t),n&&this.s5t.So(r)}},i.X9t=function(t){return this.X0t.filter(function(n){return Si(n._Ot,t,.01)})[0]},i.Ed=function(t){if(t.V7t){var n=t.V7t,i=this.X9t(n._Ot);i&&(Yi(this.G9t),this.H9t(i,t.D7t))}},i.Bd=function(){this.ynt&&this.M3t.So(new Ux(this.ynt)),Yi(this.G9t),this.S6t()},i.o9t=function(t){if(!this.G0t&&t.V7t){var i=this.X9t(t.V7t._Ot);this.H9t(i,t.D7t)}if(this.G0t){var r=n.j9t(this.G0t,t);if(!r)return;this.D4t(this.G0t,t);var e=t.tJt;Un(e)&&!Un(r.tJt)&&(r.tJt=e,this.M3t.So(new FZ(r))),this.q9t(r),this.M3t.So(new Wx(this.M0t,r.od._Ot))}else 0},i.z7t=function(t,n){if(this.q9t(void 0),!n&&this.ynt){var i=this.ynt;this.H9t(void 0,!1),this.k6t(i)}},i.R7t=function(t){var n=t.V7t;if(n){var i=this.X9t(n._Ot);if(i){this.O4t(n._Ot,n.e7t,n.p0t);var r=this.D4t(i,t);r&&this.M3t.So(new HZ(r))}}},i.O4t=function(t,n,i){var r=this.X9t(t);if(r){var e=r.Jc.length;if(n>e){var s=n-e;this.V9t(s,r),r.p0t=i,this.M3t.So(new z$(r))}}},i.f7t=function(t,i,r){if(this.G0t){var e=n.j9t(this.G0t,t);if(e){var s=i/r;this.M3t.So(new H$(e,s))}}},i.N7t=function(t,i,r){if(this.G0t){var e=this.M0t;if(!e){var s=n.j9t(this.G0t,t);if(!s||ji(this.z9t,s))return void this.G9t.push(i);e=s,this.D4t(this.G0t,t),this.q9t(e)}this.y7t(i,e,r)}},i.y7t=function(t,n,i){t===a0.i8t?this.M3t.So(new N0):t===a0.G6t&&n?this.M3t.So(new R0(n)):t===a0.Q6t&&n?this.M3t.So(new D0(n)):t===a0.K6t&&n&&i?this.M3t.So(new j$(n,i)):t===a0.mJt&&n&&i?this.M3t.So(new Y$(n,i)):t===a0.Y6t&&n&&i&&this.M3t.So(new J$(n,i))},i.rD=function(){this.W9t.rD()},i.knt=function(t){this.W9t.knt(t)},i.hr=function(){var t=Boolean(this.M0t&&this.M0t.l4t===B$.hZt);this.q9t(void 0),this.H9t(void 0,t);for(var n,i=Lt(this.X0t);!(n=i()).done;){var r=n.value;this.k6t(r)}Yi(this.X0t),Yi(this.G9t),Yi(this.z9t)},i.kn=function(){this.hr()},i.Snt=function(t){},n.j9t=function(t,n){if(n.V7t)return t.Jc[n.V7t.i7t-1]},Nt(n,[{key:"G3t",get:function(){return this.W9t.G3t}}]),n}(I0);function O0(t){var n=f.google.ima.settings;t.ads&&t.ads.vpaidMode&&f.google.ima.settings.setVpaidMode(function(t){var n=f.google.ima.ImaSdkSettings.VpaidMode;switch(t){case UA.ENABLED:return n.ENABLED;case UA.INSECURE:return n.INSECURE;case UA.DISABLED:default:return n.DISABLED}}(t.ads.vpaidMode)),n.setPlayerVersion("10.0.0"),n.setPlayerType("THEOplayer"),n.setAutoPlayAdBreaks(!0),n.setDisableCustomPlaybackForIOS10Plus(!M0(t));var i=function(t){var n,i,r,e=null==(i=t.ads)||null==(n=i.googleIma)?void 0:n.language;if(void 0!==e)return e;var s=null==(r=t.ui)?void 0:r.language;if(qn(s))return s;return}(t);i&&n.setLocale(i)}function M0(t){return On.ru&&t.allowNativeFullscreen}F(),Et();var L0=function(t){function n(n,i,r,e,s,u,o){var h;return(h=t.call(this,n,i)||this).ko=!1,h.fti=void 0,h.kz=void 0,h.t5=void 0,h.y0t=void 0,h.lti=void 0,h.vti=void 0,h.Dc=void 0,h.WA=void 0,h.tti=void 0,h.eti=void 0,h.X3t=!1,h.sti=void 0,h.nti=void 0,h.i6t=void 0,h.wti=void 0,h.Eti=-1,h.f4t="none",h.VJ=void 0,h.oti=void 0,h.rti=!1,h.m6t=void 0,h.Z9t=!1,h.ati=new hr,h.s6t=void 0,h.$9t=!1,h.iti=!1,h.Iti=function(t){h.M3t.So(t)},h.Pti=function(t){h.sti=new ug(sg.ADVERTISEMENT_ERROR,"Error while recovering from failed IMA ad.",t.error.message),h.nti=cg(h.sti)},h.e9t=NaN,h.hti=function(){h.ko||h.qx()},h.VJ=r,h.kz=!0,h.WA=NaN,h.t5=Cy.VL,h.tti=!1,h.eti=!1,h.m6t=new x0(h.M3t,h),h.wti=new y0(h,h.oa,h.m6t),h.wti.wn(zm.ma,h.Pti),h.oa.wn(eh.uo,h.hti),h.i6t=new c0(h,h.oa,h.Q3t,e,h.m6t),h.fti=o,h.lti=u,h.vti=s,h.we(),h.lti.wn("xti",h.Iti),h}Ct(n,t);var i=n.prototype;return i.K9t=function(t,n,i){n===Sx.pnt&&void 0!==i&&(this.X3t=i),this.i6t._6t(t,n)},i.knt=function(t){for(var n,i=Lt(this.J9t());!(n=i()).done;){var r=n.value;UK(r.sources,r.timeOffset)||t.M6(r,Sx.gnt,!1)}},i.J9t=function(){for(var t,n=[],i=this.B3t,r=i.mnt,e=i.Ant,s=[],u=Lt(r.concat(e));!(t=u()).done;){var o=t.value,h=o.od.f9t;if(!ji(s,h.jI)){var c,a,f=h.J5t(o.m9t);if(f>=0)(c=n).push.apply(c,[].concat(h.f5t.slice(f)));else(a=n).push.apply(a,[].concat(h.f5t));s.push(h.jI)}}for(var v,d=Lt(this.i6t.Ant);!(v=d()).done;){var l,w=v.value;if(!w.P5t)(l=n).push.apply(l,[].concat(w.f5t))}return ir(n)},i.LP=function(){if(!this.w0t)return 0;var t=this.w0t.i9t();return S(this.ct)||t<0?0:this.ct-t},i.OP=function(t,n){},i.Nd=function(){return this.WA||NaN},i.C4=function(t){this.WA=t},i.tx=function(){return this.oa.$P},i.ix=function(t){this.Y7t(this.Mx,t,!0)},i.ox=function(){return this.kz},i.p7t=function(t){this.kz=t},i.Cx=function(){var t,n,i;return null!=(i=null==(n=this.w0t)||null==(t=n.O7t())?void 0:t.S9t)?i:0},i.Nx=function(){var t,n,i;return null!=(i=null==(n=this.w0t)||null==(t=n.O7t())?void 0:t.b9t)?i:0},i.xP=function(){return[]},i.K3t=function(t){this.s6t=t,this.i6t.K3t(t)},i.D6t=function(){!this.Z9t&&this.w0t&&(this.w0t.Tn(),this.Z9t=!0)},i.G7t=function(t){this.l4t=t?t.D7t?"linear":"nonlinear":"none"},i.Tx=function(){return TA.iL()._s()},i.Lx=function(){return this.oa.Mx},i.Ox=function(t){this.Y7t(t,this.$P,!0)},i.B7t=function(){return this.oa.$P?0:this.oa.Mx},i.Y7t=function(t,n,i){var r=this.oa.Mx!==t||this.oa.$P!==n;r&&(this.oa.Mx=t,this.oa.$P=n),this.w0t&&i&&this.w0t.Ox(this.B7t()),r&&this.So(new wT(this.MP,this.Mx))},i.VP=function(){return!1},i.HP=function(){if(this.sti&&this.X3t)return this.sti},i.qP=function(){if(this.nti&&this.X3t)return this.nti},i.bx=function(){return this.t5},i.i5=function(t){this.t5=t,this.So(new Ry(this.MP,t))},i.qx=function(){this.oa.mn(eh.uo,this.hti),this.ko||(this.ko=!0,this.i6t.qx(),this.r9t())},i.Gx=function(){return Vt(function(){var t,n;return zt(this,function(i){switch(i.label){case 0:if(this.oti)return[2];this.ati.Zg(),this.ati=new hr,t=this.hx,this.p7t(!1),this.So(new cT(this.MP)),this.uti()||(this.Z7t||this.oa.we(),this.So(new Ny(this.MP))),this.h9t||(this.a9t=!1),n=Boolean(this.w0t),this.oti=this.i6t.v6t(),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,this.oti];case 2:return i.sent(),[3,4];case 3:return this.oti=void 0,[7];case 4:try{dr(this.ati.Yg)}catch(t){return[2]}if(this.ko||this.hti(),this.sti&&this.X3t)return[2];if(this.w0t){if(t)if(n)try{dr(this.ati.Yg),this.w0t.cti(),this.So(new Oy(this.MP))}catch(t){return[2]}else this.D6t()}else this.X3t||(this.i3t(),this.Q3t.Gx());return[2]}})}).call(this)},i.zx=function(){var t;this.hx||(this.p7t(!0),this.So(new hT(this.MP))),this.ati.Zg(),this.h9t?null==(t=this.w0t)||t.zx():this.a9t=!0},i.rD=function(){var t;null==(t=this.w0t)||t.rD()},i.X7t=function(){this.w0t&&(this.lti.dti(),this.w0t.Xx(),this.w0t.zg(),this.w0t=void 0,this.l4t="none",this.Z9t=!1)},i.Xx=function(){return Vt(function(){var t;return zt(this,function(n){return this.e9t=0,this.i6t.hr(),this.ati.Zg(),this.p7t(!0),this.tti=!1,this.eti=!1,this.h9t=!1,this.m6t.hr(),this.X7t(),this.U7t(),null==(t=this.fti)||t.hr(),this.a9t=!1,this.lti.zg(),[2]})}).call(this)},i.be=function(){this.vti.be(),this.Z7t&&this.oa.be()},i.we=function(){this.vti.we()},i._ti=function(){return Boolean(this.w0t)&&ji(this.w0t.gti(),-1)&&!this.tti},i.I5t=function(){this.i6t.I5t()},i.O6t=function(){return this.i6t.O6t},i.$5t=function(){this.i6t.$5t()},i.F6t=function(){return this.i6t.F6t()},i.F3t=function(t){if(this._ti()){if(t.type===eh.jw&&this.oa.UP)return!0;if(t.type===eh.Bw)return this.tti=!0,this.lti.dti(),!0}return!1},i.uti=function(){return Boolean(this.w0t&&this.w0t.O7t())},i.C6t=function(t){return Vt(function(){var n,i,r;return zt(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),this.X7t(),n=this.pti(),this.vti.VY(),i=this,[4,this.lti.C6t(t,this.fti,n)];case 1:return i.w0t=e.sent(),this.mti(this.w0t),[3,3];case 2:return r=e.sent(),this.wti.P7t(r),[3,3];case 3:return[2]}})}).call(this)},i.mti=function(t){if(t.Ox(this.B7t()),this.i6t.p6t===h0.d6t){var n=t.gti();if(n.length)for(var i,r=Lt(n);!(i=r()).done;){var e=i.value;this.m6t.L4t(e,this.i6t.t6t)}else this.m6t.L4t(this.i6t.t6t.dd,this.i6t.t6t)}this.wti.hr(),this.wti.h7t(t)},i.Wx=function(){if(this.y0t&&this.Z7t&&this.uti())return this.oa.Wx()},i.Hx=function(){return this.Z7t&&this.G3t?this.oa.Ma:t.prototype.Hx.call(this)},i.pti=function(){var t,n,i=!!(this.i6t.p6t===h0.d6t)&&this.Y9t;return void 0!==this.VJ.ads.googleIma.uiElements?t=this.VJ.ads.googleIma.uiElements:this.VJ.ads.showCountdown||(t=[]),void 0!==this.VJ.ads.allowedMimeTypes&&(n=this.VJ.ads.allowedMimeTypes),{yti:n,Ati:t,bti:i,T9t:this.VJ.ads.googleIma.bitrate,Sti:void 0,Tti:this.s6t}},i.r9t=function(){if(this.y0t){var t=this.pti();this.y0t.kti(t)}},i.V4t=function(t){p0(t)||(this.sti=new ug(sg.ADVERTISEMENT_ERROR,t.Py),this.nti=new fd(cd.AD_ERROR,"There was a problem playing ads.",this.sti)),this.M3t.So(R$.U3t(t))},i.U7t=function(){this.G3t&&(this.oa.be(),this.i3t(),this.we())},i.d9t=function(){var t;this.oa.LP()!==1/0&&0!==this.oa.Tx().length&&((null==(t=this.i6t.t6t)?void 0:t.g5t)&&-1!==this.Eti&&(this.oa.OP(this.oa.LP()+this.Eti),this.Eti=-1))},i.c9t=function(t){var n,i;this.Eti=null!=(i=null==(n=t.V7t)?void 0:n.p0t)?i:-1},i.i3t=function(){t.prototype.i3t.call(this),this.oa.be(),this.Z7t&&!this.oa.UP&&this.oa.Gx()},i.c5t=function(){this.Z7t||t.prototype.c5t.call(this)},i.kn=function(){var n=this;return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return this.wti.mn(zm.ma,this.Pti),[4,t.prototype.kn.call(n)];case 1:return i.sent(),this.X7t(),this.lti.mn("xti",this.Iti),this.lti.zg(),this.vti.zg(),this.i6t.kn(),this.wti.kn(),[2]}})}).call(this)},Nt(n,[{key:"B3t",get:function(){return this.m6t.N9t}},{key:"Q9t",get:function(){return this.m6t}},{key:"W7t",get:function(){return this.i6t}},{key:"Z7t",get:function(){return M0(this.VJ)}},{key:"C3t",get:function(){return n.C3t}},{key:"Y9t",get:function(){return this.VJ.ads.preload===VA.MIDROLL_AND_POSTROLL}},{key:"l4t",get:function(){return this.f4t},set:function(t){this.f4t=t}},{key:"w0t",get:function(){return this.y0t},set:function(t){this.y0t=t,this.Z9t=!1}},{key:"h9t",get:function(){return this.$9t},set:function(t){this.$9t=t}},{key:"Unt",get:function(){return this.X3t}},{key:"Q7t",get:function(){return this.tti}},{key:"a9t",get:function(){return this.iti},set:function(t){this.iti=t}},{key:"K7t",get:function(){return this.eti},set:function(t){this.eti=t}},{key:"u9t",get:function(){return this.rti},set:function(t){this.rti=t}}],[{key:"C3t",get:function(){return UZ.V0t}}]),n}(r0);F(),Et();var U0=function(){function t(){this.Rti=void 0}var n=t.prototype;return n.registerWebImaAdPlayerConstructor=function(t){this.Rti=t},n.createAdPlayer=function(t,n,i){return F0()&&this.Rti?this.Rti(t,n,i):void 0},t}();function F0(){return!!Boolean(f.google&&f.google.ima)&&!(1===k.keys(f.google.ima).length&&Boolean(f.google.ima.dai))}U0.Ng=new U0;var V0=function(){function t(){}var n=t.prototype;return n.qz=function(t){return t&&t.integration===mS.GOOGLE_IMA},n.x3t=function(t,n,i){return U0.Ng.createAdPlayer(t,n,i)},n.M6=function(t,n,i,r){i.K9t(t,n,r)},n.sj=function(t){var n=QJ(t.sources);if(n){var i={integration:mS.GOOGLE_IMA,sources:n,omidAccessModeRules:m0(t.omidAccessModeRules)},r=KJ(t.timeOffset);return void 0!==r&&(i.timeOffset=r),i}},Nt(t,[{key:"P3t",get:function(){return L0.C3t}}]),t}();yS.Ng.zz(new V0),F(),Et(),Bt(),F(),Et(),Wt(),Bt(),Dt(),Ut(),Qt(),F(),Et(),Wt(),Bt(),Dt(),Ut(),Qt(),F(),Et(),Dt();var H0=function(t){function n(){return t.call(this,"z0t")||this}return Ct(n,t),n.prototype.xa=function(){return new W0},n}(kw),W0=function(t){function n(){return t.call(this,"adloaded")||this}return Ct(n,t),n}(rh),z0=-1,X0=function(){function t(t,n){this.X0t=void 0,this.T5t=void 0,this.Dti=void 0,this.x0t=void 0,this.Xp=void 0,this.k0t=void 0,this.Lti=void 0,this.Mti=void 0,this.X0t=[],this.x0t=!1,this.T5t=t,this.Xp=0,this.k0t=n,this.Lti=NaN,this.Mti=!1,this.Dti=new NZ(this,this.k0t)}var n=t.prototype;return n.Oti=function(){return this.Xp<this.X0t.length},n.Rc=function(){var t;return this.Xp<this.X0t.length&&(t=this.X0t[this.Xp],this.Xp++),t},n.Fti=function(t){t.uZt=this,this.X0t.push(t)},n.Uti=function(t){return Vt(function(){var n,i,r,e,s,u,o;return zt(this,function(h){switch(h.label){case 0:n=!1,i=Lt(this.X0t),h.label=1;case 1:if((r=i()).done)return[3,6];e=r.value,h.label=2;case 2:return h.trys.push([2,4,,5]),[4,e.Un()];case 3:return h.sent(),n=!0,[3,5];case 4:return s=h.sent(),Xi(this.X0t,e),u=e.Ont.sources,o="string"==typeof u?u:u.src,t.So(R$.V3t(s,o)),[3,5];case 5:return[3,1];case 6:return this.Mti=!0,[2,n]}})}).call(this)},n.I0t=function(){this.x0t=!0},n.P0t=function(){return this.x0t},n.Vti=function(){return this.X0t.some(function(t){return RZ(t).some(function(t){return t.PKt})})},Nt(t,[{key:"A0t",get:function(){return this.X0t}},{key:"Cti",get:function(){return this.Dti}},{key:"aut",get:function(){return this.Xp}},{key:"Bti",get:function(){return this.T5t}},{key:"Nti",get:function(){return this.Mti}},{key:"dd",get:function(){if(S(this.Lti)){var t=MJ.NZt(this.T5t,this.k0t.t.Nd());void 0===t||S(t)||(this.Lti=t)}return this.Lti}}]),t}(),q0=function(t){function n(n,i,r,e){var s,u;return s=t.call(this)||this,(u=s).Wti=void 0,u.oa=void 0,u.cii=void 0,u.OO=void 0,u.Xti=void 0,u.b4=void 0,u.J4t=void 0,u.Gti=void 0,u.Qti=void 0,u.s6t=void 0,u.nii=!1,u.Kti=function(t){return kr(u.Jti(t))},u.Jti=function(t){return Vt(function(){var n,i,r,e,s,o,h;return zt(this,function(c){switch(c.label){case 0:return u.sii(),n=t.currentTime,i=t.currentTime!==z0?u.tii(u.b4,t.currentTime):u.$ti(t.currentTime,0,0)[0],s=u.oa.Nd()-10,(e=u.Zti(z0)&&b.ceil(n)===b.ceil(s)?u.$ti(z0,10,0).filter(function(t){return!t.Nti}):u.$ti(n,10,0).filter(function(t){return!t.Nti})).length?[4,ut.all(e.map(function(t){return t.Uti(u.Xti)}))]:[3,2];case 1:o=c.sent(),(h=o.some(function(t){return!0===t}))&&u.So(new H0),(!h||!u.Gti.lii||e[0].dd<u.Gti.lii.dd)&&(r=e[0]),c.label=2;case 2:return i&&(i!==u.Gti.lii&&(r=i),u.rii([i])),r?(u.Gti.jti(),u.Gti.lii=r,[4,u.Gti.zti()]):[3,4];case 3:c.sent(),c.label=4;case 4:return S(u.oa.Nd())||(u.b4=t.currentTime),[2]}})})()},u.oa=n,u.J4t=i,u.cii=new PZ(u.J4t,u.oa),u.s6t=void 0,u.nii=!1,n.Nd()!==1/0?u.OO=0:u.OO=n.LP(),u.b4=u.OO,u.Wti=[],u.Xti=r,u.Gti=e,u.Qti=!1,s}Ct(n,t);var i=n.prototype;return i.qti=function(){this.Gti.zti()},i.Tn=function(){this.No(),this.Xti.wn("Nnt",this.Gti.jti)},i.An=function(){this.Ro(),this.Xti.mn("Nnt",this.Gti.jti),this.b4=this.OO,this.Gti.hr();for(var t,n=Lt(this.Wti);!(t=n()).done;){t.value.I0t()}Yi(this.Wti)},i.No=function(){this.Qti||(this.oa.wn(eh._y,this.Kti),this.Qti=!0)},i.Ro=function(){this.Qti&&(this.oa.mn(eh._y,this.Kti),this.Qti=!1)},i.Yti=function(){return this.Jti(new pw(z0,void 0))},i.Zti=function(t){return this.$ti(t,0,0).length>0},i.tii=function(t,n){for(var i,r,e=0,s=Lt(this.Wti);!(r=s()).done;){var u=r.value;if(!u.P0t()){var o=u.dd;o>=t&&o<=n&&o>=e&&!S(o)&&(e=(i=u).dd)}}return i},i.eii=function(t){return this.Jti(new pw(t,void 0))},i.sii=function(){if(!this.nii&&void 0!==this.s6t){this.nii=!this.Wti.some(function(t){return S(t.dd)});for(var t,n=Lt(this.Wti);!(t=n()).done;){var i=t.value;i.dd!==z0&&i.dd<=this.s6t&&!i.P0t()&&i.I0t()}}},i.rii=function(t){for(var n,i=Lt(t);!(n=i()).done;){n.value.I0t()}this.J4t.hii(t),0===this.Hti&&this.Ro()},i.$ti=function(t,n,i){var r=this;return this.Wti.filter(function(e){if(e.P0t())return!1;var s=e.dd;return r.oii(s,t)||r.aii(s,t,n,i)})},i.oii=function(t,n){switch(n){case 0:return 0===t;case z0:return t===z0;default:return!1}},i.aii=function(t,n,i,r){if(t<0)return!1;var e=t-n;return-1!==e&&e<=i&&e>=-r},i.uii=function(t){if(t&&t.length>0){for(var i,r=Lt(t);!(i=r()).done;){var e=i.value,s=n.Z5t(e._Ot),u=this.dgt(e);-1===u&&(this.nii=void 0===this.s6t,this.Wti.push(new X0(s,this.cii)),u=this.Wti.length-1),this.Wti[u].Fti(e)}this.No()}},i.dgt=function(t){var i=n.Z5t(t._Ot);return Hi(this.Wti,function(t){return i===n.Z5t(t.Bti)})},i.dii=function(t){Xi(this.Wti,t)},i.K3t=function(t){this.s6t=t,this.nii=void 0===t},n.Z5t=function(t){switch(t){case"start":case"00:00:00":case"00:00:00.000":case"0%":case"0":return"0";case"end":case"100%":return"-1";default:return t}},Nt(n,[{key:"Hti",get:function(){for(var t,n=0,i=Lt(this.Wti);!(t=i()).done;){t.value.P0t()||(n+=1)}return n}},{key:"Ant",get:function(){return this.Wti}}]),n}(ih);F(),Et(),Wt(),Bt(),Dt(),Ut(),Qt(),F(),Et(),Bt(),Dt(),Ut();var G0,j0=function(t){function n(n,i){var r;return(r=t.call(this)||this).Q1t=void 0,r.yii=[],r.mii=[],r.JW=void 0,r.bii=void 0,r.Sii=void 0,r.s5t=new ih,r.Tii=function(t){t.stopPropagation(),r.kii()},r.kii=function(){for(var t,n=Lt(r.yii);!(t=n()).done;)for(var i,e=Lt(t.value.kYt);!(i=e()).done;){var s=i.value;xK(s.uri)}},r.Q1t=v.createElement("div"),r.Q1t.style.display="none",r.bii=n,r.Sii=i,r}Ct(n,t);var i=n.prototype;return i.vii=function(){this._ii(),this.gii(),this.JW=void 0},i.pii=function(t){this.mii=this.mii.concat(t)},i.wii=function(t){this.yii=this.yii.concat(t)},i.gii=function(){this.mii=[]},i._ii=function(){this.yii=[]},i.Aii=function(t){for(var n,i=Lt(this.mii);!(n=i()).done;){var r=n.value;r.eX===t&&xK(r.eventURL)}},i.be=function(){this.fii.style.display=""},i.we=function(){this.fii.style.display="none"},i.kn=function(){this.Vo(),this.s5t.Vo(),$n(this.Q1t)},Nt(n,[{key:"fii",get:function(){return this.Q1t}},{key:"M3t",get:function(){return this.s5t}}]),n}(ih);function Q0(t,n){var i=n;if(!function(t){return"ui"in t}(t))return i;var r,e=t.ui.language;if(qn(e)){var s=t.ui.languages;if(!s)return i;r=s[e]}else r=e;return r&&r[n]&&(i=r[n]),i}F(),Et(),F(),Et(),Ut();var Y0=((G0={})[hA.cR]=1,G0[hA.dR]=2,G0[hA.lR]=2,G0);function K0(t,n){var i=n?n.map(function(t){return t.toLowerCase()}):n;return mi(t.filter(function(t){var n=t.type.toLowerCase();return!!Hn(i)&&-1!==i.indexOf(n)&&CJ(n)}),function(t,n){return Y0[t.type]-Y0[n.type]}).map(J0)}function J0(t){return vA({src:t.contentURL,type:t.type,isAdvertisement:!0})}function Z0(t,n){return CM($0(t),$0(n))}function $0(t){return{Mi:t.height,Ti:t.width}}function t1(t,n,i,r){var e,s=function(t,n,i,r){var e,s=1/0,u=t.filter(function(t){return!CJ(t.type)}).filter(function(t){return void 0===r||-1!==r.indexOf(t.type)});if(u.length){for(var o,h=Lt(u);!(o=h()).done;){var c=o.value,a=(b.abs(c.width/n-1)+b.abs(c.height/i-1))/2;a<s&&(s=a,e=c)}return e||u.sort(Z0)[0]}}(t.QYt,n.width,n.height,i),u=K0(t.QYt,i);if(s){var o=J0(s);o&&u.push(o)}u.length>0&&(t.tJt=null==(e=u[0].src)?void 0:e.trim());return oE({sources:u},r)}var n1=function(t){function n(n,i,r,e,s,u,o){var h;return(h=t.call(this,n,i)||this).eei=void 0,h.YS=void 0,h.J4t=void 0,h.sc=void 0,h.xii=void 0,h.Rii=void 0,h.qYt=void 0,h.Wii=void 0,h.Pii=void 0,h.tei=void 0,h.b4=void 0,h.iei=void 0,h.sei=void 0,h.$1t=void 0,h.Y1t=void 0,h.nT=void 0,h.Cii=void 0,h.Qii=void 0,h.Yii=void 0,h.Kii=void 0,h.jii=void 0,h.zii=void 0,h.Gii=void 0,h.Xii=void 0,h.Uii=void 0,h.Oii=void 0,h.eei=r,h.YS=e,h.J4t=s,h.sc=u,h.xii=o,h.Pii=!1,h.tei=0,h.b4=-1,h.nT=new hr,h.Cii=!0,h.Qii=function(){h.Mii()},h.Yii=function(){h.nT=void 0,h.Pii||(h.Zii(),h.Pii=!0),h.Cii&&(h.Cii=!1,h.J4t.qti()),h.fii.style.display="block",h.xii.mn(Ey.TM,h.Yii),h.Pii=!0},h.Kii=function(){var t=h.MP,n=h.ct,i=t/n;(0===h.tei&&i>=.25?(h.Aii(cJ.gJt),h.tei=1):1===h.tei&&i>=.5?(h.Aii(cJ.mJt),h.tei=2):2===h.tei&&i>=.75&&(h.Aii(cJ.pJt),h.tei=3),h.Vii(t,n),h.rei(),h.b4=t,h.qYt)&&(-1!==h.qYt.JYt&&h.qYt.JYt<h.qYt.ct&&(null!=h.$1t||(h.$1t=h.Lii()),h.MP<h.qYt.JYt?h.$1t.g1t(h.qYt.JYt-h.MP):h.$1t.m1t()))},h.jii=function(){var t,n;h.nT=void 0,h.xii.mn(zm.ma,h.jii),h.Cii=!0,null==(t=h.JW)||t.jJt(AJ.WJt),h.Pii=!1,h.xii.we();var i=(null==(n=h.xii.bt)?void 0:n.src)||"";h.bii(i)},h.zii=function(){h.Rs(new pw(h.MP,void 0))},h.Gii=function(){h.Rs(new aT(h.ct))},h.Xii=function(){h.Rs(new wT(h.MP,h.Mx))},h.Uii=function(){h.J4t.zx()},h.Oii=function(){h.Rii&&(h.Aii(cJ.cJt),h.M3t.So(new H$(h.Rii,h.MP/h.ct)),h.Mii(!1))},h.fii.className="theoplayer-ad-linear",h.fii.style.zIndex="10",ci(h.fii),h.xii.we(),h.iei=!1,h}Ct(n,t);var i=n.prototype;return i.Gx=function(){this.xii.hx&&(this.xii.Gx(),this.So(new cT(this.MP)),this.Pii&&this.Aii(cJ.aJt),this.Pii=!0)},i.zx=function(){this.xii.hx||(this.xii.zx(),this.So(new hT(this.MP)),this.Aii(cJ.jw))},i.Xx=function(){return Vt(function(){var t;return zt(this,function(n){switch(n.label){case 0:return null==(t=this.nT)||t.Zg(),this.nT=void 0,this.we(),this.Pii=!1,this.Cii=!0,this.Dii(),this.Bii(),[4,this.Nii()];case 1:return n.sent(),[2]}})}).call(this)},i.Mii=function(t){void 0===t&&(t=!0),this.Pii=!1,t&&this.Aii(cJ.wJt),this.we(),this.Sii()},i.Lii=function(){var t,n=null==(t=this.J4t.Na)?void 0:t.gi,i=new JZ(this.sc,n);return this.fii.appendChild(i.xe),i.wn("rD",this.Oii),i},i.Fii=function(){this.qYt&&this.qYt.FYt.AYt&&(this.Y1t=new GZ(this.fii),this.Y1t.u1t=this.qYt.FYt.AYt,this.Y1t.wn("clickstart",this.Uii),this.Y1t.wn("click",this.kii))},i.Vii=function(t,n){for(var i,r=Lt(this.mii);!(i=r()).done;){var e=i.value;if(e.eX===cJ.Qw){var s=_J(e.ac,n);void 0!==s&&this.b4<s&&s<=t&&xK(e.eventURL)}}},i.Hii=function(){return Vt(function(){var t;return zt(this,function(n){switch(n.label){case 0:return this.qYt&&this.Wii?(t=t1(this.qYt,this.Wii,this.YS.ads.allowedMimeTypes,this.YS)).sources.length?(this.nT=new hr,this.Cii=!0,[4,_r(this.xii.Ta(t,this.nT.Yg),this.nT)]):[3,2]:[2];case 1:return n.sent(),this.xii.be(),this.qYt.KKt(),[3,4];case 2:return[4,this.xii.hr()];case 3:return n.sent(),this.bii(""),this.qYt.KKt(),[2];case 4:return this.Fii(),[2]}})}).call(this)},i.qii=function(t,n,i){return Vt(function(){return zt(this,function(r){switch(r.label){case 0:return this.Rii=t,this.qYt=t.PKt,this.xii.wn(eh._y,this.zii),this.xii.wn(eh.Rw,this.Gii),this.xii.wn(eh.gy,this.Xii),this.xii.wn(Iy,this.Rs),this.qYt.NKt&&0!==this.qYt.NKt.length&&this.pii(this.qYt.NKt),this.qYt.FYt&&this.wii(this.qYt.FYt),this.JW=n,this.Wii=i,0===this.qYt.QYt.length?[3,2]:(this.xii.wn(zm.ma,this.jii),[4,this.Hii()]);case 1:r.sent(),this.xii.wn(eh.Bw,this.Qii),this.xii.wn(eh._y,this.Kii),this.xii.wn(Ey.TM,this.Yii),this.xii.wn(eh.Jw,this.Rs),r.label=2;case 2:return[2]}})}).call(this)},i.p$t=function(){this.Eii&&this.Jii&&this.Oii()},i.Zii=function(){this.Aii(cJ.MSt),this.Rii&&this.M3t.So(new Wx(this.Rii,this.MP))},i.Nii=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.xii.mn(zm.ma,this.jii),this.xii.mn(eh.Bw,this.Qii),this.xii.mn(eh._y,this.Kii),this.xii.mn(Ey.TM,this.Rs),this.xii.mn(Ey.TM,this.Yii),this.xii.mn(eh.Jw,this.Rs),this.xii.mn(eh._y,this.zii),this.xii.mn(eh.Rw,this.Gii),this.xii.mn(eh.gy,this.Xii),this.xii.mn(Iy,this.Rs),this.Rii&&(this.Rii.I0t(),this.M3t.So(new Xx(this.Rii,this.MP))),this.$ii(),this.vii(),this.Dii(),this.Bii(),this.Rii=void 0,this.qYt=void 0,this.Wii=void 0,[4,this.xii.hr()];case 1:return t.sent(),this.xii.we(),this.fii.style.cursor="",this.tei=0,this.b4=-1,this.iei&&(this.eei.Nii(),this.iei=!1),[2]}})}).call(this)},i.$ii=function(){this.Y1t&&(this.Y1t.zg(),this.Y1t=void 0)},i.Bii=function(){this.sei&&($n(this.sei),this.sei=void 0)},i.Dii=function(){this.$1t&&(this.$1t.kn(),this.$1t=void 0)},i.nei=function(){this.iei=!0},i.rei=function(){var t;this.sei||(this.sei=v.createElement("div"),this.sei.className="theoplayer-ad-overlay-component theo-ad-remaining-container",this.fii.appendChild(this.sei));var n=null==(t=this.Rii)?void 0:t.od;if(n){var i=n.Jc.filter(LZ),r=Q0(this.YS,"The content will play in")+" "+b.round(n.m0t)+" "+Q0(this.YS,"seconds");if(i.length>1){var e=i.filter(function(t){return t.P0t()}).length;r+=". "+Q0(this.YS,"Ad")+" "+(e+1)+"/"+i.length}vB(this.sei,r)}},Nt(n,[{key:"Eii",get:function(){return this.Pii}},{key:"MP",get:function(){return this.xii.MP}},{key:"ct",get:function(){var t=this.xii.ct;return S(t)&&this.qYt&&(t=this.qYt.ct||0),t}},{key:"UP",get:function(){return this.xii.UP}},{key:"$P",get:function(){return this.xii.$P},set:function(t){this.xii.$P=t,t?this.Aii(cJ.hJt):this.Aii(cJ.oJt)}},{key:"hx",get:function(){return this.xii.hx}},{key:"Ax",get:function(){return this.xii.Ax}},{key:"Mx",get:function(){return this.xii.Mx},set:function(t){this.xii.Mx=t}},{key:"Rx",get:function(){return this.xii.Rx}},{key:"Bx",get:function(){return this.xii.Bx}},{key:"Iii",get:function(){return this.Rii}},{key:"Jii",get:function(){return this.qYt&&-1!==this.qYt.JYt&&this.xii.MP>=this.qYt.JYt}}]),n}(j0);F(),Et(),Wt(),Bt(),Dt(),Qt(),F(),Et(),Bt(),Dt();var i1=function(t){function n(){var i;return(i=t.call(this)||this).Ls=void 0,i.y1t=function(t){i.So(new rh("rD")),i.hei(t)},i.hei=function(t){t.stopPropagation()},i.Ls=n.yr(),i.w1t(),i}Ct(n,t);var i=n.prototype;return i.w1t=function(){this.xe.addEventListener("mouseup",this.y1t),this.xe.addEventListener("touchend",this.y1t),this.xe.addEventListener("mousedown",this.hei)},i.p1t=function(){this.xe.removeEventListener("mouseup",this.y1t),this.xe.removeEventListener("touchend",this.y1t),this.xe.removeEventListener("mousedown",this.hei)},i.kn=function(){this.p1t(),$n(this.Ls)},n.yr=function(){var t=v.createElement("div");return t.className="theoplayer-ad-nonlinear-close",t.style.position="absolute",t.style.right="0",t.style.top="0",t.style.cursor="pointer",t.style.fontSize="1.7em",t.style.lineHeight="0.75em",t},Nt(n,[{key:"xe",get:function(){return this.Ls}}]),n}(th),r1=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).aei=void 0,e.L0t=void 0,e.J4t=void 0,e.yu=void 0,e.fei=void 0,e.dei=function(){e._ei(),e.Aii(cJ.TJt),e.Sii()},e.cei=function(t){var n,i;e._ei(),null==(n=e.JW)||n.jJt(AJ.zJt);var r,s,u,o=null==(i=e.L0t)?void 0:i.DKt[0],h=null!=(s=null!=(r=null==o?void 0:o.FKt)?r:null==o?void 0:o.LKt)?s:null==o?void 0:o.VKt;e.bii(null!=(u=null==h?void 0:h.LJt)?u:"")},e.vei=function(){e.we(),ti(e.fii),e.Sii(),e.aei=void 0,e.L0t=void 0},e.pei=function(){e.yu||(e.fei=void 0,e.yu=new i1,e.fii.children[0].appendChild(e.yu.xe),e.yu.wn("rD",e.mei))},e.mei=function(){e.Aii(cJ.cJt),e.p$t()},e.fii.className="theoplayer-ad-nonlinear",e.fii.style.position="absolute",e.fii.style.width="100%",e.fii.style.bottom="3em",e.fii.style.zIndex="10",e.fii.style.textAlign="center",e.J4t=r,e}Ct(n,t);var i=n.prototype;return i.vii=function(){t.prototype.vii.call(this),this.fii&&ti(this.fii)},i.qii=function(t,n,i){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return this.L0t&&this.Nii(),this.aei=t,this.L0t=t.xKt,0!==this.L0t.NKt.length&&this.pii(this.L0t.NKt),this.JW=n,0===this.L0t.DKt.length?[3,2]:(this.wii(this.L0t.DKt[0].WKt),this.fii.addEventListener("error",this.cei),this.fii.addEventListener("load",this.dei),[4,this.Hii()]);case 1:i.sent(),this.lei(),i.label=2;case 2:return[2]}})}).call(this)},i.p$t=function(){var t;if(void 0===this.fei){var n=null==(t=this.L0t)?void 0:t.DKt[0];n&&n.od&&-1!==n.od.JYt&&(this.Aii(cJ.cJt),this.M3t.So(new H$(this.aei,0)),this.vei())}},i.Zii=function(){void 0!==this.aei&&this.M3t.So(new Wx(this.aei,this.J4t.MP))},i.Xx=function(){this.Nii(),this.aei=void 0,this.L0t=void 0},i.Nii=function(){this._ei(),void 0!==this.aei&&(this.aei.I0t(),this.M3t.So(new Xx(this.aei,this.J4t.MP))),this.vii(),this.gei(),void 0!==this.fei&&(g(this.fei),this.fei=void 0)},i._ei=function(){this.fii.removeEventListener("load",this.dei),this.fii.removeEventListener("error",this.cei)},i.Hii=function(){return Vt(function(){var t,n,i,r,e,s,u,o,h;return zt(this,function(c){return(t=v.createElement("div")).className="theoplayer-ad-nonlinear-content",t.style.position="relative",t.style.display="inline-block",n=this.L0t.DKt[0],i=v.createElement("a"),n.WKt.AYt&&(i.href=n.WKt.AYt,i.target="Xu",i.setAttribute("rel","noopener")),n.FKt?(r=n.FKt,(e=v.createElement("iframe")).src=r.LJt,i.appendChild(e)):n.LKt?(s=n.LKt,(u=v.createElement("img")).src=s.LJt,i.appendChild(u)):n.VKt&&(o=n.VKt,(h=v.createElement("iframe")).src=o.LJt,i.appendChild(h)),n.KKt(),i.addEventListener("mousedown",this.Tii),i.addEventListener("touchend",this.Tii),this.fii.firstChild&&(ti(this.fii),this.Nii()),t.appendChild(i),this.fii.appendChild(t),this.be(),[2]})}).call(this)},i.lei=function(){var t;if(this.L0t){var n=null==(t=this.L0t.DKt[0].od)?void 0:t.JYt;void 0!==n&&-1!==n&&(this.fei=f.setTimeout(this.pei,1e3*n))}},i.gei=function(){this.yu&&(this.yu.mn("rD",this.mei),this.yu.kn()),this.yu=void 0},Nt(n,[{key:"oei",get:function(){return this.aei}},{key:"uei",get:function(){return this.yu}},{key:"wei",get:function(){return this.J4t.yei()}}]),n}(j0);F(),Et(),Wt(),Qt();var e1=function(){function t(){}return t.Aei=function(t,n,i){return Vt(function(){var r,e,s,u,o,h;return zt(this,function(c){switch(c.label){case 0:r=[],e=t.shift(),s=[],c.label=1;case 1:if(!e)return[3,6];c.label=2;case 2:return c.trys.push([2,4,,5]),[4,(new xJ).eZt(e,n)];case 3:return u=c.sent(),r=r.concat(u),[3,5];case 4:return o=c.sent(),h=R$.V3t(o,e.sources.src),i.So(h),s.push(h.Ky),[3,5];case 5:return e=t.shift(),[3,1];case 6:return[2,[r,s]]}})})()},t}();F(),Et(),Wt(),Bt(),Qt(),F(),Et(),Wt(),Bt(),Dt(),Ut(),Qt(),F(),Et(),Dt();var s1=function(t){function n(){return t.call(this,"Eot")||this}return Ct(n,t),n.prototype.xa=function(){return new u1},n}(kw),u1=function(t){function n(){return t.call(this,"statechange")||this}return Ct(n,t),n}(rh);F(),Et();var o1=function(t){return t.IDLE="idle",t.LOADING="loading",t.DONE="done",t.ERROR="error",t.EVICTED="evicted",t}({});F(),Et(),Dt(),F(),Et(),Bt(),Dt(),Ut();var h1=function(){function t(){this.nc=[],this.hu=void 0}var n=t.prototype;return n.CI=function(t){return this.nc[t]},n.lO=function(t){this.nc.push(t),this.hu&&this.hu.push(t.Ca),this.bei(t)},n.Sei=function(t){for(var n,i=Lt(t);!(n=i()).done;){var r=n.value;this.lO(r)}},n.Tei=function(t,n){n>=0&&n<=this.nc.length&&(this.nc.splice(n,0,t),this.hu&&this.hu.splice(n,0,t.Ca),this.bei(t))},n.fO=function(t){return ji(this.nc,t)},n._S=function(t){this.kei(this.nc.indexOf(t))},n.kei=function(t){if(t>=0&&t<this.nc.length){var n=this.nc[t];qi(this.nc,t),this.hu&&qi(this.hu,t),this.Eei(n)}},n.Gy=function(){var t=this.nc.slice();Yi(this.nc),this.hu&&Yi(this.hu);for(var n,i=Lt(t);!(n=i()).done;){var r=n.value;this.Eei(r)}},Nt(t,[{key:"ec",get:function(){return this.nc}},{key:"V",get:function(){return this.nc.length}},{key:"Ca",get:function(){return this.hu||(this.hu=this.xa()),this.hu}}]),t}(),c1=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Pei=new ih,n.Rs=function(t){n.So(t)},n}Ct(n,t);var i=n.prototype;return i.xa=function(){return function(t){var n=function(t){var n=t.ec.map(function(t){return t.Ca});return n.item=function(n){var i=0|n,r=t.CI(i);return r&&r.Ca||void 0},n}(t),i=new cR(t,n);return n.addEventListener=function(t,n){i.wn(t,n)},n.removeEventListener=function(t,n){i.mn(t,n)},n}(this)},i.wn=function(t,n){this.Pei.wn(t,n)},i.lw=function(t){this.Pei.lw(t)},i.Vo=function(){this.Pei.Vo()},i.So=function(t){this.Pei.So(t)},i.mn=function(t,n){this.Pei.mn(t,n)},i.pw=function(t){this.Pei.pw(t)},i.mw=function(t){this.Pei.mw(t)},i.ww=function(t,n){return this.Pei.ww(t,n)},n}(h1);F(),Et(),Dt();var a1=function(t){function n(n){var i;return(i=t.call(this,"addtask")||this).task=void 0,i.task=n,i}return Ct(n,t),n}(rh),f1=function(t){function n(n){var i;return(i=t.call(this,"Iei")||this).xei=void 0,i.xei=n,i}return Ct(n,t),n.prototype.xa=function(){return new a1(this.xei.Ca)},n}(kw);F(),Et(),Dt();var v1=function(t){function n(n){var i;return(i=t.call(this,"removetask")||this).task=void 0,i.task=n,i}return Ct(n,t),n}(rh),d1=function(t){function n(n){var i;return(i=t.call(this,"Rei")||this).task=void 0,i.task=n,i}return Ct(n,t),n.prototype.xa=function(){return new v1(this.task.Ca)},n}(kw),l1=function(t){function n(){return t.call(this)||this}Ct(n,t);var i=n.prototype;return i.bei=function(t){this.So(new f1(t))},i.Eei=function(t){this.So(new d1(t))},n}(c1),w1=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Not="uninitialised",e.rT=new l1,e.GSt=void 0,e.Mei=void 0,e.Nei=void 0,e.Nei=i,e.Mei=r,e.GSt=n,e.qx(),e}Ct(n,t);var i=n.prototype;return i.qx=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return[4,this.Cei()];case 1:return t.sent(),this.Mot("initialised"),[2]}})}).call(this)},i.Cei=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.Dei()];case 1:return t.sent(),[3,3];case 2:return t.sent(),[3,3];case 3:return[2]}})}).call(this)},i.Dei=function(){return Vt(function(){var t,n,i,r,e;return zt(this,function(s){switch(s.label){case 0:return[4,this.GSt.iPt()];case 1:t=s.sent(),n=Lt(t),s.label=2;case 2:return(i=n()).done?[3,5]:(r=i.value,e=this.Nei.Bei(r.id,r.sourceDescription,r.parameters,this.Mei),this.Lei(e),this.rT.lO(e),[4,e.Oei]);case 3:s.sent(),s.label=4;case 4:return[3,2];case 5:return[2]}})}).call(this)},i.Mot=function(t){this.Not=t,this.So(new s1)},i.Bei=function(t,n,i){void 0===i&&(i="persistent");var r=this.Nei.Uei(t,n,i);return this.Vei(r,i),this.rT.lO(r),this.Lei(r),r},i.Vei=function(t,n){return Vt(function(){var i;return zt(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.Hei(t,n)];case 1:return r.sent(),[3,3];case 2:throw i=r.sent(),y("Unable to persist task - "+i);case 3:return[2]}})}).call(this)},i.Hei=function(t,n){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return[4,this.GSt.zSt({key:t.o,id:t.o,sourceDescription:t.Mc,parameters:t.NS},n)];case 1:return i.sent(),[2]}})}).call(this)},i.Lei=function(t){var n=this;t.wn("Eot",function(){t.hk===o1.EVICTED&&n.rT._S(t)})},Nt(n,[{key:"hk",get:function(){return this.Not}},{key:"Fei",get:function(){return this.rT}}]),n}(th);F(),Et(),F(),Et(),Wt(),Bt(),Dt(),Qt(),F(),Et(),F(),Et(),Bt();var g1=function(){function t(t,n,i){if(this.zei=void 0,this.dO=void 0,this.Wei=void 0,this.Qei=void 0,this.zei=t,this.dO=n,this.Wei=i,0===this.dO.size)this.Qei=TA.iL();else{var r=new TA([-1/0,1/0]);this.dO.forEach(function(t){r=r.Mn(t.timeRanges)}),this.Qei=r}}return t.prototype.zO=function(t){return!!Mw(this.dO,t.dO)&&(!!Ci(this.zei,t.zei)&&(!!Ci(this.ZM,t.ZM)&&(!!Ci(this.Gei,t.Gei)&&this.Xei.GM(t.Xei))))},Nt(t,[{key:"ZM",get:function(){return this.Wei}},{key:"qei",get:function(){return this.zei}},{key:"Gei",get:function(){return this.Xei.ZM}},{key:"jei",get:function(){var t=0,n=0;return this.dO.forEach(function(i){t+=i.timeRanges.ZM,n+=i.totalQualityDurationToCache}),0===n?0:b.min(1,t/n)}},{key:"Xei",get:function(){return this.Qei}}]),t}();g1.QUALITY_TIME_RANGES_NULL_OBJECT=Ju(),g1.CACHE_PROGRESSION_NULL_OBJECT=new g1(0,g1.QUALITY_TIME_RANGES_NULL_OBJECT,NaN),g1.Kei=g1.CACHE_PROGRESSION_NULL_OBJECT,F(),Et(),F(),Et(),Wt(),Ut(),Qt(),F(),Et(),Wt(),Bt(),Dt(),Ut(),Qt(),F(),Et(),Dt();var _1=function(t){function n(){return t.call(this,"progress")||this}return Ct(n,t),n}(rh),m1=function(t){function n(){return t.call(this,"y4t")||this}return Ct(n,t),n.prototype.xa=function(){return new _1},n}(kw);F(),Et(),F(),Et(),Bt(),Dt();var y1=function(t){function n(n,i){return t.call(this,n,i)||this}return Ct(n,t),Nt(n,[{key:"name",get:function(){return"Yei"}}]),n}(ar);F(),Et(),Wt(),Qt(),F(),Et(),Wt(),Ut(),Qt(),F(),Et();var p1=function(t){return t[t.cR=0]="cR",t[t.dR=1]="dR",t}({});function k1(t,n,i){return Vt(function(){var r,e,s,u,o;return zt(this,function(h){switch(h.label){case 0:for(r=[],e=Lt(t.smt);!(s=e()).done;)u=s.value,r.push(b1(u,n,i));return[4,ut.all(r)];case 1:return o=h.sent(),[2,{ct:t.Gwt.Rmt(),Zei:[t.iSt],smt:o}]}})})()}function b1(t,n,i){return Vt(function(){var r,e,s,u;return zt(this,function(o){switch(o.label){case 0:for(r=[],e=Lt(t.Xpt);!(s=e()).done;)u=s.value,r.push(A1(u,n,i));return[4,ut.all(r)];case 1:return[2,{kmt:o.sent()}]}})})()}function A1(t,n,i){return Vt(function(){var r,e,s,u;return zt(this,function(o){switch(o.label){case 0:for(r=[],e=Lt(t.Ilt);!(s=e()).done;)T1(u=s.value)||r.push(I1(u,n,i));return[4,ut.all(r)];case 1:return[2,{Z:o.sent(),Km:t.Km}]}})})()}function T1(t){return t.rat.every(E1)}var S1=1;function E1(t){return t.swt!==S1&&Boolean(t.swt)}function I1(t,n,i){return Vt(function(){var r,e,s,u,o,h,c,a,f;return zt(this,function(v){switch(v.label){case 0:for(r=[],e=Lt(t.rat);!(s=e()).done;)E1(u=s.value)||r.push(R1(u,i));return[4,ut.all(r)];case 1:return o=v.sent(),h=t.frt[0],c=t.xW,a=c?function(t,n){for(var i,r=[],e=function(t){return t?Lo(t,"avc")?Ev:Lo(t,"hev")||Lo(t,"hvc")||Lo(t,"hvt")||Lo(t,"lhv")||Lo(t,"lhe")||Lo(t,"lht")?Iv:Lo(t,"mp4")?Rv:Lo(t,"mpeg2")?Dv:Lo(t,"mpeg")?Cv:Nv:Nv}(t),s=Lt(n);!(i=s()).done;){var u=i.value,o=u.y8.split(":").pop(),h=u.A8;r.push({mimeType:e,uuid:o,data:h})}var c=p1.cR,a=uo;return{type:c,schemeType:a,schemeDatas:r}}(h,c):void 0,f=HH(t,n,!0),[2,{KI:o,bs:t.rit,Km:t.Km,aq:a,Tpt:f}]}})})()}function R1(t,n){return Vt(function(){var i,r,e,s,u,o,h;return zt(this,function(c){switch(c.label){case 0:i={stack:[],error:void 0,hasError:!1},c.label=1;case 1:return c.trys.push([1,3,4,5]),r=qt(i,new hr,!1),[4,C1(t,n,r.Yg)];case 2:switch(e=c.sent(),s={o:P1(t),mM:e,kW:t.kW,Np:t.Np,Mi:t.Mi,Km:t.Km,Ti:t.Ti},t.Km){case ig.NT:break;case ig.Bk:s.plt=null!=(o=null==(u=t.plt)?void 0:u.iF())?o:NaN;break;case ig.Dk:s.audioSamplingRate=t.$mt}return[2,s];case 3:return h=c.sent(),i.error=h,i.hasError=!0,[3,5];case 4:return Gt(i),[7];case 5:return[2]}})})()}function C1(t,n,i){return Vt(function(){var r,e,s,u,o,h,c;return zt(this,function(a){switch(a.label){case 0:r=[],e=t.$rt,t.Ddt&&r.push({EO:0,ct:0,Jei:t.Ddt}),s=e.xyt(),u=s,a.label=1;case 1:return u?t.kct(u)?[4,t.Pct(u,n,i)]:[3,3]:[3,5];case 2:for(o=a.sent(),h=0;h<o.V;h++)r.push(D1(o.Ict(h),t));return[3,4];case 3:r.push(D1(u,t)),a.label=4;case 4:return u=e.Cct(u),[3,1];case 5:return c=e.Dyt(),[2,{ct:c.PO-s.EO,ect:r}]}})})()}function D1(t,n){return{EO:t.EO,ct:t.ct,Jei:n.Nct(t)}}function P1(t){return t.wct.Tn+"-"+(""+t.o)}function N1(t,n){var i=function(t){var n=function(t){for(var n,i=Ju(),r=Lt(t);!(n=r()).done;){var e=n.value,s=i.get(e.BMt);s||(s={Km:e.Km,KD:[]},i.set(e.BMt,s)),s.KD.push(e)}return i}(t),i=Zu();return n.forEach(function(t){for(var n,r=Lt(t.KD);!(n=r()).done;){var e=n.value,s=i.get(t.Km);s||(s=Ju(),i.set(t.Km,s));var u=s.get(e.l);u||(u=[],s.set(e.l,u)),u.push(e)}}),i}(t);return function(t,n){var i=Zu();return t.forEach(function(t,r){var e=Ju();t.forEach(function(t,i){for(var s,u=[],o=Lt(t);!(s=o()).done;){var h=B1(s.value,r,n);u.push(h)}e.set(i,u)}),i.set(r,e)}),i}(i,n)}function B1(t,n,i){for(var r,e=t.BMt,s={UMt:t,HUt:[]},u=Lt(i);!(r=u()).done;){var o=r.value;Zj(n,e,o)&&s.HUt.push(o)}return s}function x1(t,n){return Vt(function(){var i;return zt(this,function(r){switch(r.label){case 0:return[4,n.RSt([t],{})];case 1:return[2,bj((i=r.sent()).gk,{},i.DSt)]}})})()}function O1(t,n){return Vt(function(){return zt(this,function(i){return xG(t)?[2,M1(t,n)]:[2,q1(t)]})})()}function M1(t,n){return Vt(function(){var i,r;return zt(this,function(e){switch(e.label){case 0:return[4,F1(N1(t.KD,t.mOt),n)];case 1:return i=e.sent(),[4,U1(t.mOt,n)];case 2:return r=e.sent(),i.push(r),[2,{ct:L1(i),Zei:[t.nyt],smt:[{kmt:i}]}]}})})()}function L1(t){for(var n,i=-1/0,r=Lt(t);!(n=r()).done;)for(var e,s=Lt(n.value.Z);!(e=s()).done;){var u,o=e.value;i=(u=b).max.apply(u,[].concat([i],o.KI.map(function(t){return t.mM.ct})))}return i}function U1(t,n){return Vt(function(){var i,r,e,s,u,o,h,c,a;return zt(this,function(f){switch(f.label){case 0:i=[],r=Lt(t),f.label=1;case 1:return(e=r()).done?[3,4]:[4,X1((s=e.value).nyt,n)];case 2:(h=f.sent()).kW=s.kW,h.Np=s.frt?function(t){return[t.yCt,t.bCt,t.ULt].filter(Un).join(",")}(s.frt):"",h.Mi=null!=(c=null==(u=s.uCt)?void 0:u.Mi)?c:0,h.Ti=null!=(a=null==(o=s.uCt)?void 0:o.Ti)?a:0,i.push(h),f.label=3;case 3:return[3,1];case 4:return[2,{Km:ig.pk,Z:[{bs:AL,Km:ig.pk,KI:i}]}]}})})()}function F1(t,n){return Vt(function(){var i,r,e,s,u,o;return zt(this,function(h){switch(h.label){case 0:i=[],r=t.entries(),e=r.next(),h.label=1;case 1:return e.done?[3,4]:(s=e.value,u=s[0],[4,V1(s[1],u,n)]);case 2:o=h.sent(),i.push(o),h.label=3;case 3:return e=r.next(),[3,1];case 4:return[2,i]}})})()}function V1(t,n,i){return Vt(function(){var r,e,s,u,o;return zt(this,function(h){switch(h.label){case 0:r=[],e=t.entries(),s=e.next(),h.label=1;case 1:return s.done?[3,4]:(u=s.value,[4,H1(u[1],i)]);case 2:o=h.sent(),r.push(o),h.label=3;case 3:return s=e.next(),[3,1];case 4:return[2,{Km:W1(n),Z:r}]}})})()}function H1(t,n){return Vt(function(){var i,r,e,s,u;return zt(this,function(o){switch(o.label){case 0:i=[],r=t[0].UMt,e=Lt(t),o.label=1;case 1:return(s=e()).done?[3,4]:[4,z1(s.value,n)];case 2:u=o.sent(),i.push(u),o.label=3;case 3:return[3,1];case 4:return[2,{bs:r.bs||AL,Km:W1(r.Km),KI:i}]}})})()}function W1(t){switch(t){case MG.Dk:return ig.Dk;case MG.Bk:return ig.Bk;case MG.OU:case MG.bLt:return ig.NT;default:return ig.pk}}function z1(t,n){var i=function(t){var n=t.UMt.nyt,i=t.HUt.map(function(t){return t.nyt});return n||(i.length?i[0]:void 0)}(t);return X1(i,n)}function X1(t,n){return Vt(function(){var i,r;return zt(this,function(e){switch(e.label){case 0:return i={ct:0,ect:[]},t?[4,x1(t,n)]:[3,2];case 1:OG(r=e.sent())&&(i=G1(r)),e.label=2;case 2:return[2,{o:t||"default",$ei:t,mM:i,kW:0,Np:"",Mi:0,Km:ig.pk,Ti:0}]}})})()}function q1(t){var n=G1(t);return{ct:n.ct,Zei:[t.nyt],smt:[{kmt:[{Km:ig.pk,Z:[{Km:ig.pk,bs:AL,KI:[{o:t.nyt,mM:n,kW:0,Np:"",Mi:0,Km:ig.pk,Ti:0}]}]}]}]}}function G1(t){for(var n,i,r=[],e=0,s=Lt(t.ect);!(i=s()).done;){var u=i.value,o=e;!u.bOt||void 0!==n&&WG(u.bOt.nyt,n)||(r.push(j1(u.bOt,o)),n=u.bOt.nyt),r.push(Q1(u,o)),e+=u.ct}return{ct:e,ect:r}}function j1(t,n){return{EO:n,ct:0,Jei:Y1(t.nyt)}}function Q1(t,n){return{EO:n,ct:t.ct,Jei:Y1(t.nyt)}}function Y1(t){return{Yu:t.zE,Sat:t.LAt?[t.LAt.Tn,t.LAt.Tn+t.LAt.V]:void 0,zk:!1}}F(),Et(),Wt(),Ut(),Qt(),F(),Et(),Ut();var K1=function(){function t(t,n,i){this.CSt=void 0,this.Bct=void 0,this.ssi=void 0,this.CSt=t,this.Bct=n,this.ssi=i}var n=t.prototype;return n.tsi=function(t){return Vt(function(){var n;return zt(this,function(i){switch(i.label){case 0:if(!t.src)throw new y("Invalid typed source");return XA(n=t.type)?[4,this.isi(t)]:[3,2];case 1:case 3:return[2,i.sent()];case 2:return zA(n)?[4,this.esi(t)]:[3,4];case 4:throw new y("Unexpected source type");case 5:return[2]}})}).call(this)},n.isi=function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),[4,x1(t.src,this.CSt)];case 1:return[4,O1(n.sent(),this.CSt)];case 2:return[2,n.sent()];case 3:throw n.sent(),new y("Unable to fetch HLS manifest");case 4:return[2]}})}).call(this)},n.esi=function(t){return Vt(function(){var n;return zt(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,(n=new sH({iR:Vn.Dh(t.src),cSt:t.liveOffset,_St:t.timeServer,zk:t.useCredentials},this.ssi,bl.Yk,this.CSt,t.dash)).W];case 1:return i.sent(),[4,k1(n.Br.Idt,t.contentProtection,this.Bct)];case 2:return[2,i.sent()];case 3:throw i.sent(),new y("Unable to fetch DASH manifest");case 4:return[2]}})}).call(this)},t}();F(),Et(),Wt(),Qt();var J1=function(){function t(t){this.usi=void 0,this.rsi=[],this.asi=0,this.usi=t}var n=t.prototype;return n.nsi=function(){var t=new Vc;return this.rsi.push(t),this.hsi(),t.Qy},n.osi=function(t,n){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return i.trys.push([0,,2,3]),[4,t];case 1:return i.sent(),[3,3];case 2:return this.asi-=1,this.hsi(),0===this.rsi.length&&0===this.asi&&n.Xy(!0),[7];case 3:return[2]}})}).call(this)},n.hsi=function(){this.rsi.length>0&&this.asi<this.usi&&(this.rsi.shift().Xy(),this.asi+=1)},t}();var Z1=function(t){function n(n,i,r,e,s,u,o,h){var c;(c=t.call(this)||this).DEFAULT_CACHING_SEGMENT_TIMEOUT=3e4,c.DEFAULT_CACHING_SEGMENT_CONNECTION_TIMEOUT=0,c.XSt=void 0,c.cPt=void 0,c.Mei=void 0,c.pCt=void 0,c.Tsi=void 0,c.Esi=new Vc,c.dsi=void 0,c.wsi=void 0,c.CSt=void 0,c.Mut=void 0,c.Bct=void 0,c.ssi=void 0,c.ko=void 0,c.Wei=void 0,c.lsi=void 0,c._si=g1.Kei,c.XSt=n,c.cPt=i,c.CSt=r,c.wsi=e,c.Mut=s,c.Bct=u,c.ssi=h,c.Mei=o,c.lsi=-1;var a=c.XSt.Mc.sources[0];return c.dsi=a,c.ko=c.qx(),c.Tsi=new J1(c.XSt.NS.parallelTasksThreshold),c}Ct(n,t);var i=n.prototype;return i.qx=function(){return Vt(function(){var t,n,i,r,e,s,u,o,h,c,a,f,v,d,l,w,g,_,m,p,k,A,S,E,I,R,C,D,P,N,B,x;return zt(this,function(O){switch(O.label){case 0:return t=this,n=new K1(this.CSt,this.Bct,this.ssi),i=this,[4,n.tsi(this.dsi)];case 1:return i.pCt=O.sent(),r=this.XSt.NS.amount,e=this.pCt.ct,s=function(t,n){if(qn(t)){if(Lo(t,"%"))return T(t)/100*n;throw new y("Unexpected - Invalid string supplied as amount to cache.")}return n<t?n:t}(r,e),this.Wei=s,o=kH(this.pCt.Zei[0]),[4,this.cPt.dPt.sPt(o,"manifestURL")];case 2:for(h=O.sent().filter(function(n){return ji(n.references,t.XSt.o)}),c=[],a=this.XSt.NS.bandwidth,f=Lt(this.pCt.smt);!(v=f()).done;)for(d=v.value,l=Lt(d.kmt);!(w=l()).done;)for(g=w.value,_=Lt(t2(g,this.XSt.NS.preferredTrackSelection));!(m=_()).done;)for(p=m.value,k=Lt(i2(p.KI,a));!(A=k()).done;)S=A.value,c.push(S);if(this.lsi=b.ceil(c.map(function(t){return t.kW*function(t,n){for(var i,r=0,e=Lt(t.mM.ect.map(function(t){return t.ct}));!(i=e()).done;)if((r+=i.value)>=n)return r;return r}(t,s)/8}).reduce(function(t,n){return t+n},0)),E=Ju(),h&&0!==h.length){for(R=function(){var t=P.value,n=t.qualityId,i=new TA(t.startsAndEnds);if(E.has(n))E.get(n).timeRanges=E.get(n).timeRanges.OM(i).LM(5e-4);else{var r,e=Ui(c,function(t){return t.o===n}),s=b.min(I.Wei,null!=(r=null==e?void 0:e.mM.ct)?r:1/0);E.set(n,{timeRanges:i,totalQualityDurationToCache:s})}},C=h.reduce(function(t,n){return t+n.byteSize},0),D=Lt(h);!(P=D()).done;)I=this,R();u=new g1(C,E,this.Wei)}else{for(N=Lt(c);!(B=N()).done;)x=B.value,E.set(x.o,{timeRanges:TA.iL(),totalQualityDurationToCache:b.min(x.mM.ct,this.Wei)});u=new g1(0,E,this.Wei)}return this.fsi=u,[2]}})}).call(this)},i.mi=function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,this.ko];case 1:return n.sent(),[4,this.gsi(this.pCt,t)];case 2:return n.sent(),[2]}})}).call(this)},i.gsi=function(t,n){return Vt(function(){var i,r,e,s;return zt(this,function(u){switch(u.label){case 0:if(!t.Zei)throw new y("Unexpected - manifest is missing locations");return[4,this.psi()];case 1:for(u.sent(),i=[],r=Lt(t.smt);!(e=r()).done;)s=e.value,i.push(this.msi(s,t.Zei[0],n));return[2,br(i)]}})}).call(this)},i.psi=function(){return Vt(function(){var t,n,i,r,e,s;return zt(this,function(u){switch(u.label){case 0:return[4,this.wsi.iPt()];case 1:t=u.sent(),n=Lt(t),u.label=2;case 2:return(i=n()).done?[3,9]:(r=i.value,[4,this.cPt.lPt.Wy(r.key)]);case 3:return(e=u.sent())?[4,$1(e,this.XSt.o,this.cPt.lPt,this.Mei)]:[3,5];case 4:return u.sent(),[3,8];case 5:return u.trys.push([5,7,,8]),[4,this.cPt.lPt.zSt(r,this.Mei)];case 6:return u.sent(),[3,8];case 7:throw s=u.sent(),new y1("Unable to store manifest with url: "+r.locationURL,s);case 8:return[3,2];case 9:return[4,this.wsi.rPt()];case 10:return u.sent(),[2]}})}).call(this)},i.msi=function(t,n,i){for(var r,e=[],s=Lt(t.kmt);!(r=s()).done;)for(var u,o=Lt(t2(r.value,this.XSt.NS.preferredTrackSelection));!(u=o()).done;){var h=u.value;e.push(this.ysi(h,n,i))}return br(e)},i.ysi=function(t,n,i){return Vt(function(){var r,e,s,u,o,h;return zt(this,function(c){switch(c.label){case 0:return r=this.XSt.NS.bandwidth,e=i2(t.KI,r),t.Km===ig.Bk&&t.Tpt&&t.Tpt.aH.widevine&&"persistent"===t.Tpt.aH.widevine.licenseType?[4,this.Asi(t.Tpt)]:[3,2];case 1:c.sent(),dr(i),c.label=2;case 2:for(s=[],u=Lt(e);!(o=u()).done;)h=o.value,s.push(this.bsi(h,n,i));return[2,br(s)]}})}).call(this)},i.bsi=function(t,n,i){return Vt(function(){var r,e,s,u,o,h,c;return zt(this,function(a){switch(a.label){case 0:dr(i),r=t.mM.ect[0].EO,e=r+this.Wei,s=[],u=!1,o=Lt(t.mM.ect),a.label=1;case 1:return(h=o()).done||((c=h.value).EO>=e||this.stopIfFailed(u))?[3,5]:[4,this.Ssi(i)];case 2:return a.sent(),[4,this.Tsi.nsi()];case 3:a.sent(),s.push(this.Tsi.osi(this.ksi(c,t,n),this.Esi).catch(function(t){return u=!0,ut.reject(t)})),a.label=4;case 4:return[3,1];case 5:return[2,br(s)]}})}).call(this)},i.Ssi=function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return(null==t?void 0:t.Hg)?[4,this.Esi.Qy]:[3,2];case 1:throw n.sent(),new fr;case 2:return[2]}})}).call(this)},i.Psi=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return[4,this.ko.catch(di)];case 1:return t.sent(),[2,this.pCt]}})}).call(this)},i.Asi=function(t){return ut.resolve()},i.xsi=function(){return Vn.um("License renewal unsupported in this SDK."),ut.resolve()},i.ksi=function(t,n,i){return Vt(function(){var r,e,s,u,o,h,c,a,f;return zt(this,function(v){switch(v.label){case 0:return r=this,e=this.cPt.dPt,s=bH(t.Jei.Yu,t.Jei.Sat),[4,e.Wy(s)];case 1:return(u=v.sent())?[4,$1(u,this.XSt.o,e,this.Mei)]:[3,3];case 2:return v.sent(),this.Isi(u,!1),[3,7];case 3:return v.trys.push([3,6,,7]),[4,this.Rsi(t.Jei)];case 4:return o=v.sent(),h=this.Csi(t,n,i,o),c=h.segmentMetadataEntry,a=h.segmentEntry,[4,this.cPt.uPt(function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,t.dPt.zSt(c,this.Mei)];case 1:return n.sent(),[4,t.ect.zSt(a,this.Mei)];case 2:return n.sent(),[2]}})}).call(r)})];case 5:return v.sent(),this.Isi(c,!0),[3,7];case 6:throw f=v.sent(),new y1("Unable to store segment with url: "+t.Jei.Yu,f);case 7:return[2]}})}).call(this)},i.Rsi=function(t){return Vt(function(){var n;return zt(this,function(i){switch(i.label){case 0:return[4,this.Mut.pat(t,{Eat:this.DEFAULT_CACHING_SEGMENT_TIMEOUT,Hk:this.DEFAULT_CACHING_SEGMENT_CONNECTION_TIMEOUT})];case 1:return n=i.sent(),[4,this.Lut(n)];case 2:return[2,i.sent()]}})}).call(this)},i.Lut=function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,t.HT()];case 1:return[2,{buffer:n.sent()}]}})})()},i.Csi=function(t,n,i,r){var e=bH(t.Jei.Yu,t.Jei.Sat),s=t.EO,u=t.ct,o=this.Dsi(r);return{segmentMetadataEntry:{key:e,segmentURLsegmentByteRange:e,manifestURL:kH(i),qualityId:n.o,byteSize:o,startsAndEnds:new TA([s,s+u]).kM,references:[this.XSt.o]},segmentEntry:{key:e,segmentURLsegmentByteRange:e,manifestURL:kH(i),data:r,references:[this.XSt.o]}}},i.Dsi=function(t){return t.buffer.byteLength},i.Isi=function(t,n){var i=t.qualityId,r=this._si,e=r.dO;e.get(i).timeRanges=e.get(i).timeRanges.OM(new TA(t.startsAndEnds)).LM(5e-4),this.fsi=new g1(n?r.qei+t.byteSize:r.qei,e,this.Wei)},i.stopIfFailed=function(t){return!1},Nt(n,[{key:"Oei",get:function(){return this.qx()}},{key:"vsi",get:function(){return this.lsi}},{key:"fsi",get:function(){return this._si},set:function(t){this._si.zO(t)||(this._si=t,t.zO(g1.Kei)||this.So(new m1))}}]),n}(th);function $1(t,n,i,r){return Vt(function(){return zt(this,function(e){switch(e.label){case 0:return ji(t.references,n)?[3,2]:(t.references.push(n),[4,i.zSt(t,r)]);case 1:e.sent(),e.label=2;case 2:return[2]}})})()}function t2(t,n){switch(t.Km){case ig.Dk:return n2(t.Z,n.audioTrackSelection);case ig.NT:return n2(t.Z,n.textTrackSelection);default:return n2(t.Z,[])}}function n2(t,n){if(0===n.length)return t.length?[t[0]]:[];for(var i,r=[],e=Lt(t);!(i=e()).done;){var s=i.value;n.indexOf(s.bs)>-1&&r.push(s)}return r}function i2(t,n){if(!t.length)return[];var i=[].concat(t).sort(DM),r=i.filter(function(t){return t.kW<=n});return r.length>0?[r.pop()]:[i.shift()]}var r2=function(){function t(t,n,i){this.XSt=void 0,this.cPt=void 0,this.pCt=void 0,this.XSt=t,this.cPt=n,this.pCt=i}var n=t.prototype;return n.Bsi=function(){return Vt(function(){var t;return zt(this,function(n){switch(n.label){case 0:return t=this,[4,this.cPt.uPt(function(n){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return[4,this.Nsi(n)];case 1:return t.sent(),[4,this.Msi(n)];case 2:return t.sent(),[4,this.Lsi(n)];case 3:return t.sent(),[4,this.Osi(n)];case 4:return t.sent(),[2]}})}).call(t)})];case 1:return n.sent(),[2]}})}).call(this)},n.Nsi=function(t){return Vt(function(){var n,i;return zt(this,function(r){switch(r.label){case 0:return n=t.fPt,i=this.XSt.o,[4,n._S(i)];case 1:return r.sent(),[2]}})}).call(this)},n.Msi=function(t){return Vt(function(){var n,i,r,e,s,u,o,h,c;return zt(this,function(a){switch(a.label){case 0:return n=this,i=t.dPt,r=t.ect,JA(e=this.XSt.Mc.sources[0])?(s=kH(e.src),[4,i.sPt(s,"manifestURL")]):[2];case 1:u=a.sent().filter(function(t){return ji(t.references,n.XSt.o)}),o=Lt(u),a.label=2;case 2:return(h=o()).done?[3,8]:(Xi((c=h.value).references,this.XSt.o),0!==c.references.length?[3,5]:[4,i._S(c.key)]);case 3:return a.sent(),[4,r._S(c.key)];case 4:return a.sent(),[3,7];case 5:return[4,i.zSt(c)];case 6:a.sent(),a.label=7;case 7:return[3,2];case 8:return[2]}})}).call(this)},n.Lsi=function(t){return Vt(function(){var n,i,r,e,s,u,o;return zt(this,function(h){switch(h.label){case 0:return n=this,i=t.lPt,r=this.Fsi(),[4,i.jEt(r)];case 1:e=h.sent().filter(function(t){return ji(t.references,n.XSt.o)}),s=Lt(e),h.label=2;case 2:return(u=s()).done?[3,7]:(Xi((o=u.value).references,this.XSt.o),0!==o.references.length?[3,4]:[4,i._S(o.key)]);case 3:return h.sent(),[3,6];case 4:return[4,i.zSt(o)];case 5:h.sent(),h.label=6;case 6:return[3,2];case 7:return[2]}})}).call(this)},n.Fsi=function(){if(!this.pCt)return[];var t=this.XSt.Mc.sources[0];if(!JA(t))return[];var n=kH(t.src),i=function(t){if(!t)return[];for(var n,i=[],r=Lt(t.smt);!(n=r()).done;)for(var e,s=Lt(n.value.kmt);!(e=s()).done;)for(var u,o=Lt(e.value.Z);!(u=o()).done;)for(var h,c=Lt(u.value.KI);!(h=c()).done;){var a=h.value;a.$ei&&i.push(a.$ei)}return function(t){return t.reduce(function(t,n){return t.indexOf(n)<0&&t.push(n),t},[])}(i)}(this.pCt).map(function(t){return{src:t}}).map(function(t){return kH(t.src)});return[].concat([n],i)},n.Osi=function(t){return Vt(function(){var n,i,r,e,s,u;return zt(this,function(o){switch(o.label){case 0:return n=this,[4,(i=t.vPt).iPt()];case 1:r=o.sent().filter(function(t){return ji(t.references,n.XSt.o)}),e=Lt(r),o.label=2;case 2:return(s=e()).done?[3,7]:(Xi((u=s.value).references,this.XSt.o),0!==u.references.length?[3,4]:[4,i._S(u.key)]);case 3:return o.sent(),this.Usi(u),[3,6];case 4:return[4,i.zSt(u)];case 5:o.sent(),o.label=6;case 6:return[3,2];case 7:return[2]}})}).call(this)},n.Usi=function(t){},t}(),e2=function(){function t(){}return t.prototype.Ret=function(t,n,i){return new r2(t,n,i)},t}(),s2=new e2;F(),Et(),Wt(),Bt(),Qt(),F(),Et();var u2=function(){function t(t,n){this.pE=void 0,this.Wsi=void 0,this.hu=void 0,this.pE=t,this.Wsi=n}var n=t.prototype;return n.Vsi=function(t){this.Hsi(t)},n.Hsi=function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.Wsi.xsi(t)];case 1:return n.sent(),[3,3];case 2:return n.sent(),this.pE.Mot(o1.ERROR),[3,3];case 3:return[2]}})}).call(this)},Nt(t,[{key:"Ca",get:function(){return this.hu||(this.hu=function(t){return{renew:function(n){t.Vsi(n)}}}(this)),this.hu}}]),t}(),o2=function(t){function n(n,i,r,e,s,u){var o;(o=t.call(this)||this).hS=void 0,o.Not=void 0,o.hu=void 0,o.Ac=void 0,o.Ksi=void 0,o.cPt=void 0,o.Wsi=void 0,o.Jsi=new hr,o.Qsi=void 0,o.evictOnLoading=function(){o.mn("Eot",o.evictOnLoading),o.Zsi()},o.hS=n,o.Ac=i,o.Ksi=r,o.cPt=e,o.Wsi=s.Ret(o,o.cPt,u),o.Qsi=new u2(o,o.Wsi),o.Not=1===o.Wsi.fsi.jei?o1.DONE:o1.IDLE,o.Wsi.wn("y4t",function(t){o.Rs(t),1===o.Gsi&&o.Mot(o1.DONE)});var h=new Date,c=o.Ksi.expirationDate.getTime()-h.getTime();return function(t){return t<2147483647}(c)&&w(function(){return o.Zsi()},c),o}Ct(n,t);var i=n.prototype;return i.Mot=function(t){this.Not!==t&&(this.Not=t,this.So(new s1))},i.Tn=function(){this.Not===o1.EVICTED||this.Not===o1.DONE||this.Ysi()},i.Ysi=function(){return Vt(function(){var t;return zt(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,3,4]),this.Mot(o1.LOADING),t=new hr,this.Jsi=t,[4,this.Wsi.mi(t.Yg)];case 1:return n.sent(),this.Mot(o1.DONE),[3,4];case 2:return vr(n.sent())?this.Mot(o1.IDLE):this.Mot(o1.ERROR),[3,4];case 3:return this.Jsi.zg(),[7];case 4:return[2]}})}).call(this)},i.zx=function(){this.Jsi.Zg()},i._S=function(){this.hk===o1.LOADING?(this.wn("Eot",this.evictOnLoading),this.zx()):this.Zsi()},i.Zsi=function(){return Vt(function(){var t;return zt(this,function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),[4,this.Wsi.Psi()];case 1:return t=n.sent(),[4,s2.Ret(this,this.cPt,t).Bsi()];case 2:return n.sent(),this.Wsi.fsi=g1.Kei,this.Mot(o1.EVICTED),[3,4];case 3:return n.sent(),this.Mot(o1.ERROR),[3,4];case 4:return[2]}})}).call(this)},Nt(n,[{key:"Oei",get:function(){return this.Wsi.Oei}},{key:"Ca",get:function(){return this.hu||(this.hu=function(t){var n,i={get id(){return t.o},get status(){return t.hk},get source(){return t.Mc},get parameters(){return t.NS},get duration(){return t.ct},get cached(){return t.qsi._s()},get secondsCached(){return t.zsi},get percentageCached(){return t.Gsi},get bytes(){return t.Xsi},get bytesCached(){return t.jsi},get license(){return t.lQ.Ca},start:function(){t.Tn()},pause:function(){t.zx()},remove:function(){t._S()},addEventListener:function(t,i){n.wn(t,i)},removeEventListener:function(t,i){n.mn(t,i)}};return n=new hR(t,["y4t","Eot"],i),i}(this)),this.hu}},{key:"o",get:function(){return this.hS}},{key:"lQ",get:function(){return this.Qsi}},{key:"hk",get:function(){return this.Not}},{key:"Mc",get:function(){return this.Ac}},{key:"NS",get:function(){return this.Ksi}},{key:"ct",get:function(){return this.Wsi.fsi.ZM}},{key:"qsi",get:function(){return this.Wsi.fsi.Xei}},{key:"zsi",get:function(){return this.Wsi.fsi.Gei}},{key:"Gsi",get:function(){return this.Wsi.fsi.jei}},{key:"Xsi",get:function(){return this.Wsi.vsi}},{key:"jsi",get:function(){return this.Wsi.fsi.qei}}]),n}(ih);var h2=function(){function t(t,n){this.cPt=void 0,this.$si=void 0,this.cPt=t,this.$si=n}var n=t.prototype;return n.Uei=function(t,n,i){var r=zE();return this.Bei(r,t,n,i)},n.Bei=function(t,n,i,r){return new o2(t,n,i,this.cPt,this.$si,r)},t}();F(),Et();function c2(t){if(!t)throw new y("Unexpected - The cache parameters are undefined");var n=function(t){if(qn(t)&&!Lo(t,"%"))return A(t);return t}(t.amount);!function(t){if(function(t){return qn(t)&&Lo(t,"%")}(t)){var n=T(t);if(S(n)||n<0||n>100)throw new y("The amount as percentage must be between 0 and 100 percent.")}if(!qn(t)&&S(t))throw new y("The amount must be a number or a string")}(n);var i=function(t){if(!t)return function(){var t=new Date;return t.setMinutes(t.getMinutes()+30),t}();return t}(t.expirationDate);!function(t){if(t&&!function(t){return!t||Qn(t)&&t>new Date}(t))throw new y("Invalid expiration date for the cache parameters")}(i);var r=function(t){if(void 0===t)return 1/0;return t}(t.bandwidth);!function(t){if(S(t)||t<0)throw new y("The bandwidth must be between zero and infinity.")}(r);var e=function(t){if(!t)return 5;if(S(t))throw new y("The amount must be a number");return t}(t.numberOfParallelTasks);return{amount:n,expirationDate:i,bandwidth:r,parallelTasksThreshold:e,preferredTrackSelection:{audioTrackSelection:[],textTrackSelection:[]}}}var a2=function(){function t(t,n,i,r){var e=this;this.cPt=void 0,this.Wsi=void 0,this.tni=void 0,this.VJ=void 0,this.nni=[],this.ini=0,this.eni=0,this.sni=void 0,this.nT=void 0,this.nV=void 0,this.$si=void 0,this.Rz=void 0,this.zti=function(){return Vt(function(){var t;return zt(this,function(n){switch(n.label){case 0:return(t=this.B6t())?[4,this.EGt(t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})}).call(e)},this.jti=function(){var t=e.nni.shift();null==t||t._S()},this.hni=function(t,n){return Vt(function(){var i;return zt(this,function(r){switch(r.label){case 0:i=!1,r.label=1;case 1:return i?[3,3]:[4,t.ww("y4t")];case 2:return r.sent(),i=1===t.fsi.jei,[3,1];case 3:return n.ct<5&&this.zti(),[2]}})}).call(e)},this.VJ=t,this.nV=n,this.nT=new hr,this.$si=i,this.Rz=r,this.cPt=new pW}var n=t.prototype;return n.B6t=function(){if(this.tni)for(var t=this.tni.A0t;this.ini<t.length;){var n=t[this.ini];for(void 0===this.sni&&(this.sni=RZ(n),this.eni=0);this.eni<this.sni.length;){var i=this.sni[this.eni];if(this.eni++,void 0!==i.PKt)return i.PKt}this.ini++,this.sni=void 0}},n.hr=function(){for(this.lii=void 0,this.nT.Zg(),this.nT=new hr;this.nni.length;)this.jti()},n.rni=function(t){return new w1(this.cPt.fPt,t,"temporary")},n.EGt=function(t){return Vt(function(){var n,i,r,e,s,u,o;return zt(this,function(h){switch(h.label){case 0:return(n=K0(t.QYt,this.VJ.ads.allowedMimeTypes)).length?[4,qT.Ng.cz(n,oE({sources:n}))]:[2];case 1:return(i=h.sent()).t.Qq()?(this.Wsi||(this.Wsi=new this.$si(this.nV)),r=this.cPt,e=new h2(r,this.Wsi),s=this.rni(e),u=s.Bei(oE({sources:i.Mc}),c2({amount:10,bandwidth:pb.Ng.fW()||this.Rz.WY}),"temporary"),this.nni.push(u),o=this.Wsi.Ret(u,r,"temporary"),this.nT.Zg(),this.nT=new hr,_r(o.mi(this.nT.Yg),this.nT).then(di),this.hni(o,t),[2]):[2]}})}).call(this)},Nt(t,[{key:"lii",get:function(){return this.tni},set:function(t){this.tni=t,this.ini=0,this.eni=0,this.sni=void 0}}]),t}();F(),Et(),Dt(),F(),Et(),Wt(),Dt(),Qt();var f2={key:"",segmentURLsegmentByteRange:"",manifestURL:"",qualityId:"",byteSize:0,startsAndEnds:new TA([0,0]).kM,references:[]},v2={key:"",segmentURLsegmentByteRange:"",manifestURL:"",data:""},d2=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this,n)||this).oni=void 0,u.uni=void 0,u.cPt=void 0,u.Mei=void 0,u.oni=new LM(i),u.cPt=r,u.uni=e,u.Mei=s,u}Ct(n,t);var i=n.prototype;return i.Zct=function(n,i,r,e){var s=this;return Vt(function(){var u;return zt(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,t.prototype.Zct.call(s,n,i,r,e)];case 1:return[2,o.sent()];case 2:return lr(o.sent()),[3,3];case 3:return[4,this.oni.Zct(n,i,r,e)];case 4:return u=o.sent(),[4,this.ani(n,i,u)];case 5:return o.sent(),[2,u]}})}).call(this)},i.ani=function(t,i,r){return Vt(function(){var e,s,u,o,h,c,a,f,v;return zt(this,function(d){switch(d.label){case 0:return e=this,void 0===this.uni?[2]:(s=this.cPt.dPt,u=bH(t,i),[4,s.Wy(u)]);case 1:return(o=d.sent())?[4,$1(o,this.uni,s,this.Mei)]:[3,3];case 2:case 4:return d.sent(),[3,6];case 3:return d.trys.push([3,5,,6]),h={buffer:r},c=n.Csi(u,h,this.uni),a=c.segmentMetadataEntry,f=c.segmentEntry,[4,this.cPt.uPt(function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,t.dPt.zSt(a,this.Mei)];case 1:return n.sent(),[4,t.ect.zSt(f,this.Mei)];case 2:return n.sent(),[2]}})}).call(e)})];case 5:throw v=d.sent(),new y1("Unable to store segment with url: "+t,v);case 6:return[2]}})}).call(this)},n.Csi=function(t,n,i){return{segmentMetadataEntry:Yu({},f2,{key:t,segmentURLsegmentByteRange:t,references:[i]}),segmentEntry:Yu({},v2,{key:t,segmentURLsegmentByteRange:t,data:n,references:[i]})}},n}(UM);var l2=function(){function t(t){this.nV=void 0,this.nV=t}return t.prototype.Ret=function(t,n,i){void 0===i&&(i="persistent");var r=t.Mc.sources[0];if(jA(r))throw new y("Caching THEOlive sources is not supported");var e=Boolean(r.useCredentials),s=new XO(this.nV,ml.pk),u=new pH(this.nV,e),o=new aW(n.lPt,n.dPt,n.ect,n.vPt),h=function(t,n,i,r,e){return new d2(n,t,i,r,e)}(this.nV,o,n,t.o,i),c=new yW,a=new IH(EH(u,o),c,t);return this.cni(t,n,a,c,s,h,i)},t}(),w2=function(t){function n(){return t.apply(this,arguments)||this}return Ct(n,t),n.prototype.cni=function(t,n,i,r,e,s,u){return new Z1(t,n,i,r,e,s,u,aO())},n}(l2),g2=w2,_2=function(t){function n(n,i,r,e,s,u){var o,h;o=t.call(this,n,i)||this,(h=o).fni=void 0,h.lni=void 0,h.eei=void 0,h._ni=void 0,h.pni=[],h.gni=0,h.G0t=void 0,h.Ini=void 0,h.Lni=[],h.Fni=void 0,h.Tni=!1,h.n7=!1,h.wni=!0,h.xii=void 0,h.Ani=!1,h.bni=void 0,h.dni=[],h.nV=void 0,h.Uni=function(t){t.type===eh.uo&&h.wni?h.wni=!1:h.So(t)},h.vni=function(){h.n7=!0},h.Vni=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return h.gni=1,[4,h.lni.Nii()];case 1:return t.sent(),[2,h.qii(h.Ini.Rc())]}})})()},h.Hni=function(t){return Vt(function(){var n;return zt(this,function(i){switch(i.label){case 0:return n=new SJ(EJ.PLAYBACK,IJ.GENERAL_LINEAR_ERROR,"There was a problem playing a linear ad."),h.M3t.So(R$.V3t(n,t)),[4,h.lni.Nii()];case 1:return i.sent(),[2,h.qii(h.Ini.Rc())]}})})()},h.Wni=function(){return h.eei.Nii(),h.qii(h.Ini.Rc())},h.qni=function(t){var n=new SJ(EJ.PLAYBACK,IJ.GENERAL_NON_LINEAR_ERROR,"There was a problem playing a non linear ad.");return h.M3t.So(R$.V3t(n,t)),h.eei.Nii(),h.qii(h.Ini.Rc())},h.nV=u,h.xii=r,h.eei=new r1(h.qni,h.Wni,h),h.lni=new n1(h.Hni,h.Vni,h.eei,e,h,n.Wu,r),h.Oni(h.eei.fii),h.Oni(h.lni.fii);var c=new a2(e,u,w2,s);return h._ni=new q0(h.oa,h,h.M3t,c),h.lni.lw(h.Uni),h.eei.lw(h.Rs),h.M3t.au(h.lni.M3t),h.M3t.au(h.eei.M3t),h.M3t.au(h._ni),h.Fni=new PZ(h,h.oa),h.Wu.wn(hI.yn,h.Rs),h.oa.wn(eh.uo,h.vni),o}Ct(n,t);var i=n.prototype;return i.K9t=function(t,n,i){n===Sx.gnt&&this.n7?kr(this.C6t([t])):this.dni.push(t)},i.LP=function(){return this.lni.Eii?this.lni.MP:this.Hst()},i.OP=function(t,n){},i.Nd=function(){return this.lni.ct},i.VP=function(){return this.lni.UP},i.HP=function(){},i.qP=function(){},i.tx=function(){return this.lni.$P},i.ix=function(t){this.$P!==t&&(this.lni.$P=t,this.So(new wT(this.MP,this.Mx)))},i.ox=function(){return this.lni.hx},i.bx=function(){return this.lni.Ax},i.Tx=function(){return TA.iL()._s()},i.Cx=function(){return this.lni.Rx},i.Nx=function(){return this.lni.Bx},i.Lx=function(){return this.lni.Mx},i.Ox=function(t){this.Mx!==t&&(this.lni.Mx=t,this.So(new wT(this.MP,this.Mx)))},i.Gx=function(){return Vt(function(){var t;return zt(this,function(n){switch(n.label){case 0:return this.fni?[2]:(this.So(new cT(this.MP)),this.vni(),this.dni.length?(this.fni=this.C6t(this.dni),[4,this.fni]):[3,2]);case 1:n.sent(),this.fni=void 0,n.label=2;case 2:return[4,this._ni.eii(this.oa.LP())];case 3:return n.sent(),4!==(t=this.gni)&&1!==t&&5!==t||(!this.G0t&&this.pni.length?this.mni():this.G0t?(this.wni=!0,this.lni.Gx()):(this.i3t(),this.oa.Gx()),this.gni=3),[2]}})}).call(this)},i.zx=function(){3===this.gni&&(this.lni.zx(),this.gni=4)},i.qti=function(){this._ni.qti()},i.Tn=function(){this.gni=1,this._ni.Tn()},i.Xx=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this._ni&&(this._ni.An(),this.yni(!1),this.eei.Xx(),this.gni=5,this.G0t&&(this._ni.dii(this.G0t.uZt),this.G0t=void 0)),this.n7=!1,this.wni=!1,Yi(this.pni),this.G3t&&(this.i3t(),this.oa.be()),Yi(this.dni),[4,this.lni.Xx()];case 1:return t.sent(),[4,this.xii.hr()];case 2:return t.sent(),[2]}})}).call(this)},i.rD=function(){this.lni.p$t(),this.eei.p$t()},i.Snt=function(t){this.Cd.ads.allowSkipAdBreak&&(this.Ani=!0,this.bni=t,this.rD())},i.qx=function(){this.xii.qx(),this.vni()},i.F3t=function(t){return!(t.type!==eh.Bw||!this._ni||!this._ni.Zti(-1))&&(this._ni.Yti().then(di),!0)},i.be=function(){void 0!==this.lni.Iii&&(this.xii.be(),this.lni.be()),void 0!==this.eei.oei&&this.eei.be()},i.we=function(){this.xii.we(),this.lni.we(),this.eei.we()},i.C6t=function(t){return Vt(function(){var n,i,r;return zt(this,function(e){switch(e.label){case 0:return[4,e1.Aei(t,this.nV,this.M3t)];case 1:return n=e.sent(),i=n[0],r=n[1],i.length?(this._ni.uii(i),this.M3t.So(new Gx),this.G3t||this.oa.hx?[3,3]:[4,this._ni.eii(this.oa.LP())]):((0===r.length||r.some(function(t){return t!==IJ.VAST_EMPTY_RESPONSE&&t!==IJ.VAST_NO_ADS_AFTER_WRAPPER}))&&this.M3t.So(R$.V3t(new SJ(EJ.ADBLOCK,IJ.FILE_NOT_FOUND),"Ads could not be loaded.")),this.n7&&!this.G0t&&0===this.pni.length&&this.Sni(),[2]);case 2:e.sent(),e.label=3;case 3:return 0!==this.gni&&5!==this.gni||this.Tn(),[2]}})}).call(this)},i.hii=function(t){for(var n,i=Lt(t);!(n=i()).done;){var r=n.value;ji(this.pni,r)||this.pni.push(r)}for(var e,s=Lt(t);!(e=s()).done;){e.value;this.n7&&!this.G3t&&this.mni()}},i.mni=function(){return Vt(function(){var t;return zt(this,function(n){switch(n.label){case 0:return 2===this.gni?[2]:this.Tni?[3,4]:(this.Tni=!0,this.gni=2,t=this.G0t,this.kni(),this.G0t?[4,this.G0t.uZt.Uti(this.M3t)]:[3,3]);case 1:return n.sent(),this.Eni()||(this.Tni=!1),this.M3t.So(new q$(this.Pni(this.G0t))),[4,this.xni()];case 2:return n.sent(),[3,4];case 3:(null==t?void 0:t.uZt.Vti())&&this.M3t.So(new Ux(this.Pni(t))),this.Tni=!1,this.gni=1,this.Sni(),n.label=4;case 4:return[2]}})}).call(this)},i.Sni=function(){this.i3t(),this.oa.be(),this.oa.UP?this.oa.So(new vT(this.oa.LP())):this.oa.Gx()},i.kni=function(){var t;if(this.G0t&&this.Eni())t=this.G0t.uZt;else{if(0===this.pni.length)return;t=this.pni.shift()}if(t){var n=t.Rc();n?this.G0t=n:(this.G0t&&(this._ni.dii(this.G0t.uZt),this.G0t=void 0),this.G0t=void 0)}},i.xni=function(){return Vt(function(){var t,n;return zt(this,function(i){switch(i.label){case 0:return t=this.G0t?function(t){var n,i,r=null==(i=t.OZt)||null==(n=i.dKt)?void 0:n.lKt();return void 0===r?void 0:new IZ(r)}(this.G0t):void 0,t?this.G0t?(this.Ini=t,this.Rni(this.G0t.NKt),this.Cni(cJ.CJt),n=this.Ini.Rc(),this.G0t.uZt.Vti()&&(this.eei.Nii(),1===this.G0t.uZt.aut&&this.M3t.So(new Vx(this.Pni(this.G0t)))),[4,this.qii(n)]):[2]:[3,2];case 1:return i.sent(),[3,3];case 2:this.gni=1,this.Tni=!1,this.G0t=void 0,this.mni(),i.label=3;case 3:return[2]}})}).call(this)},i.qii=function(t){return Vt(function(){var n,i,r,e,s,u,o,h,c,a,f,v,d,l,w;return zt(this,function(g){switch(g.label){case 0:return t?(i=Un(t.PKt),r=Un(t.RKt),s=null!=(e=null==(n=t.IKt)?void 0:n.tYt)?e:[],u=s.length>0,o=this.G0t,h=this.Pni(o),t.PKt?(t.PKt.od=o,void 0!==o.Ont.skipOffset&&void 0!==(c=MJ.NZt(o.Ont.skipOffset,t.PKt.ct))&&c<t.PKt.ct&&(t.PKt.JYt=c),a=h.b0t(t.PKt,s,t.CKt,o.Ont),this.eei.Nii(),this.n5t(),[4,this.lni.qii(a,t.lt,{width:this.oa.xe.offsetWidth,height:this.oa.xe.offsetHeight})]):[3,2]):[3,7];case 1:g.sent(),i=!0,g.label=2;case 2:return t.RKt?((f=t.RKt.DKt[0]).od=o,void 0!==o.Ont.skipOffset&&(v=MJ.NZt(o.Ont.skipOffset,this.oa.Nd()))&&(f.od.JYt=v),d=i?[]:s,l=h.S0t(f,d,t.RKt,t.CKt,o.Ont),i&&this.lni.nei(),[4,this.eei.qii(l,t.lt,{width:this.oa.xe.offsetWidth,height:this.oa.xe.offsetHeight})]):[3,4];case 3:g.sent(),r=!0,g.label=4;case 4:return i&&(this.gni=3,this.lni.be(),w=0===h._Ot,this.wni=w,this.xii.zx(),this.lni.Gx(),this.oa.zx(),this.oa.we(),this.n5t(),this.lni.Zii()),r&&(this.gni=3,this.eei.be(),this.eei.Zii()),(i||r||u)&&this.Dni(t.TKt),i||r?[3,6]:[4,this.Bni()];case 5:g.sent(),g.label=6;case 6:return!i&&r&&(this.Eni()||this.pni.length>0?this.mni():(this.Sni(),this.G0t=o)),[3,10];case 7:return null!==t?[3,9]:[4,this.Bni()];case 8:return g.sent(),[3,10];case 9:this.yni(!0),g.label=10;case 10:return[2]}})}).call(this)},i.Bni=function(){var t=this.Ini;return this.qii(t&&t.Rc())},i.yni=function(t){this.Cni(cJ.DJt),this.Nni(),this.gni=1;var n=void 0!==this.G0t&&this.G0t.uZt.Oti();if(this.Tni=!1,!n||this.Ani){if(!this.G3t)return;this.oa.be(),!this.oa.UP&&t&&this.oa.Gx(),void 0!==this.bni&&this.oa.OP(this.bni),this.i3t(),this.Ani=!1,this.bni=void 0}else t&&(this.gni=1,this.mni())},i.i3t=function(){this.Mni(),t.prototype.i3t.call(this)},i.Mni=function(){if(this.oa.UP&&(this.gni=5),this.G0t){var t=this.G0t.uZt;t.Vti()&&this.M3t.So(new Ux(this.Pni(this.G0t))),this._ni.dii(t),this.G0t=void 0}},i.Rni=function(t){this.Lni=this.Lni.concat(t)},i.Nni=function(){this.Lni=[]},i.Oni=function(t){this.oa.xe.appendChild(t)},i.Cni=function(t){for(var n,i=Lt(this.Lni);!(n=i()).done;){var r=n.value;r.eX===t&&xK(r.eventURL)}},i.Dni=function(t){this.lni.Aii(cJ.TJt);for(var n,i=Lt(t);!(n=i()).done;){var r=n.value;xK(r)}},i.knt=function(t){for(var n,i=Lt(this.J9t());!(n=i()).done;){var r=n.value;UK(r.sources,r.timeOffset)||t.M6(r,Sx.gnt,!1)}},i.J9t=function(){for(var t,n,i=[],r=Lt(this.mnt.concat(this.Ant));!(n=r()).done;){var e=n.value;i.push(e.Ont)}for(var s,u=Lt(this.pni.concat(this._ni.Ant.filter(function(t){return!t.P0t()})));!(s=u()).done;)for(var o,h=Lt(s.value.A0t);!(o=h()).done;){var c=o.value;c.W||i.push(c.Ont)}return(t=i).push.apply(t,[].concat(this.dni)),ir(i)},i.Eni=function(){return!!this.G0t&&RZ(this.G0t).some(function(t){return t.PKt})},i.Pni=function(t){return t.uZt.Cti},i.yei=function(){return this.Fni},i.Wx=function(){return this.xii.Wx()},i.xP=function(){return this.xii.xP()},i.K3t=function(t){this._ni.K3t(t)},i.kn=function(){var n=this;return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return[4,t.prototype.kn.call(n)];case 1:return i.sent(),this.oa.mn(eh.uo,this.vni),this.M3t.CK(this.lni.M3t),this.M3t.CK(this.eei.M3t),this.M3t.CK(this._ni),this.lni.kn(),this.eei.kn(),[4,this.xii.kn()];case 2:return i.sent(),[2]}})}).call(this)},Nt(n,[{key:"B3t",get:function(){return this}},{key:"C3t",get:function(){return n.C3t}},{key:"ynt",get:function(){return this.G0t?this.Pni(this.G0t):null}},{key:"mnt",get:function(){return this.G0t?[this.lni.Iii,this.eei.oei].filter(Un):[]}},{key:"Ant",get:function(){var t=this.pni.concat(this._ni.Ant.filter(function(t){return!t.P0t()}));return Ji(t,function(t){return t.Cti.Jc.filter(function(t){return!t.P0t()})})}},{key:"bnt",get:function(){return this._ni.Ant.map(function(t){return t.Cti})}}],[{key:"C3t",get:function(){return UZ.U0t}}]),n}(r0),m2=function(){function t(){}var n=t.prototype;return n.qz=function(t){return t&&("string"!=typeof t.integration||t.integration===mS.DEFAULT||t.integration===mS.CSAI||t.integration===mS.THEO)},n.x3t=function(t,n,i){var r=new ix(t.Ost,t.Ql,i);r.ust(t.xe);var e=new rS(t.xe,i,t.SP,t.Dst,t.Fx,r,t.Ql);return new _2(t,n,e,i,t.Dst,t.SP)},n.M6=function(t,n,i,r){i.K9t(t,n,r)},n.sj=function(t){var n=QJ(t.sources);if(n){var i={integration:mS.CSAI,sources:n};"vast"===i.sources.type&&void 0===t.timeOffset?t.timeOffset=0:"vmap"===i.sources.type&&void 0!==t.timeOffset&&We("Do not set timeOffset for VMAP ad sources. VMAP ads have their own offsets included.");var r=KJ(t.timeOffset);void 0!==r&&(i.timeOffset=r);var e=KJ(t.skipOffset);return void 0!==e&&(i.skipOffset=e),i}},Nt(t,[{key:"P3t",get:function(){return _2.C3t}}]),t}();yS.Ng.zz(new m2),F(),Et(),F(),Et(),Bt();var y2=function(){function t(t,n){this.vti=void 0,this.Q1t=void 0,this.Yit=void 0,this.Gni=void 0,this.j6=!1,this.Yit=t;var i=v.createElement("div");i.className="theoplayer-ima-wrapper",ci(i),i.style.zIndex="10",On.Ks&&function(t,n){t.addEventListener(n,ui)}(i,"mousedown"),n.appendChild(i);var r=v.createElement("div");r.className="theoplayer-ima",r.style.height="100%",this.Gni=r,i.appendChild(r),this.Q1t=i,this.vti=new google.ima.AdDisplayContainer(this.Gni,this.Yit)}var n=t.prototype;return n.VY=function(){var t;this.j6||(null==(t=this.vti)||t.initialize(),this.j6=!0)},n.Qni=function(t){"linear"===t?this.Q1t.style.marginTop="0px":"nonlinear"===t&&(this.Q1t.style.marginTop="-45px")},n.be=function(){this.Q1t.style.opacity="1",this.Q1t.style.pointerEvents=""},n.we=function(){this.Q1t.style.opacity="0",this.Q1t.style.pointerEvents="none"},n.zg=function(){var t;null==(t=this.vti)||t.destroy(),this.vti=void 0},Nt(t,[{key:"fii",get:function(){return this.Q1t}},{key:"zni",get:function(){return this.Gni.offsetHeight}},{key:"Xni",get:function(){return this.Gni.offsetWidth}},{key:"jni",get:function(){return this.vti}}]),t}();F(),Et(),Wt(),Dt(),Qt(),F(),Et(),Dt(),Ut(),F(),Et(),Bt();var p2=function(){function t(t){this.Kni=void 0,this.iYt=void 0,this.Kni=t;var n=new google.ima.CompanionAdSelectionSettings;n.resourceType=google.ima.CompanionAdSelectionSettings.ResourceType.ALL,n.creativeType=google.ima.CompanionAdSelectionSettings.CreativeType.ALL,n.sizeCriteria=google.ima.CompanionAdSelectionSettings.SizeCriteria.IGNORE,this.iYt=t.getCompanionAds(0,0,n)}return Nt(t,[{key:"UYt",get:function(){return this.Kni.getAdId()}},{key:"V7t",get:function(){var t=this.Kni.getAdPodInfo();if(void 0!==t)try{return{i7t:t.getAdPosition(),p0t:t.getMaxDuration(),Yni:t.getPodIndex(),_Ot:t.getTimeOffset(),e7t:t.getTotalAds(),Jni:t.getIsBumper()}}catch(t){return}}},{key:"yKt",get:function(){return this.Kni.getAdSystem()}},{key:"Zni",get:function(){return this.Kni.getAdvertiserName()}},{key:"cYt",get:function(){var t;return null!=(t=this.Kni.getApiFramework())?t:void 0}},{key:"IKt",get:function(){return this.iYt.map(function(t){return{lYt:t.getAdSlotId(),qT:t.getContentType(),p4t:t.getContent(),Mi:t.getHeight(),Ti:t.getWidth()}})}},{key:"qT",get:function(){var t;return null!=(t=this.Kni.getContentType())?t:void 0}},{key:"GKt",get:function(){return this.Kni.getCreativeId()}},{key:"I9t",get:function(){return this.Kni.getCreativeAdId()}},{key:"$ni",get:function(){return this.Kni.getDealId()}},{key:"dB",get:function(){return this.Kni.getDescription()}},{key:"ct",get:function(){return this.Kni.getDuration()}},{key:"Ti",get:function(){return this.Kni.getWidth()}},{key:"Mi",get:function(){return this.Kni.getHeight()}},{key:"tJt",get:function(){var t;return null!=(t=this.Kni.getMediaUrl())?t:void 0}},{key:"tri",get:function(){return this.Kni.getMinSuggestedDuration()}},{key:"P9t",get:function(){return this.Kni.getSkipTimeOffset()}},{key:"iri",get:function(){return this.Kni.getSurveyUrl()}},{key:"dq",get:function(){return this.Kni.getTitle()}},{key:"k9t",get:function(){return this.Kni.getTraffickingParameters()}},{key:"E9t",get:function(){return this.Kni.getTraffickingParametersString()}},{key:"CKt",get:function(){return this.Kni.getUniversalAdIds().map(function(t){return{R9t:t.getAdIdRegistry(),C9t:t.getAdIdValue()}})}},{key:"Ati",get:function(){return this.Kni.getUiElements()}},{key:"x9t",get:function(){return this.Kni.getVastMediaBitrate()}},{key:"S9t",get:function(){return this.Kni.getVastMediaHeight()}},{key:"b9t",get:function(){return this.Kni.getVastMediaWidth()}},{key:"m9t",get:function(){return this.Kni.getWrapperAdIds()}},{key:"w9t",get:function(){return this.Kni.getWrapperAdSystems()}},{key:"y9t",get:function(){return this.Kni.getWrapperCreativeIds()}},{key:"D7t",get:function(){return this.Kni.isLinear()}}]),t}();function k2(){return[google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,google.ima.AdEvent.Type.CLICK,google.ima.AdEvent.Type.DURATION_CHANGE,google.ima.AdEvent.Type.EXPANDED_CHANGED,google.ima.AdEvent.Type.STARTED,google.ima.AdEvent.Type.IMPRESSION,google.ima.AdEvent.Type.PAUSED,google.ima.AdEvent.Type.RESUMED,google.ima.AdEvent.Type.AD_PROGRESS,google.ima.AdEvent.Type.AD_BUFFERING,google.ima.AdEvent.Type.FIRST_QUARTILE,google.ima.AdEvent.Type.MIDPOINT,google.ima.AdEvent.Type.THIRD_QUARTILE,google.ima.AdEvent.Type.COMPLETE,google.ima.AdEvent.Type.USER_CLOSE,google.ima.AdEvent.Type.LINEAR_CHANGED,google.ima.AdEvent.Type.LOADED,google.ima.AdEvent.Type.AD_CAN_PLAY,google.ima.AdEvent.Type.AD_METADATA,google.ima.AdEvent.Type.AD_BREAK_READY,google.ima.AdEvent.Type.INTERACTION,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,google.ima.AdEvent.Type.SKIPPED,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,google.ima.AdEvent.Type.LOG,google.ima.AdEvent.Type.VIEWABLE_IMPRESSION,google.ima.AdEvent.Type.VOLUME_CHANGED,google.ima.AdEvent.Type.VOLUME_MUTED]}var b2=function(t){function n(n,i,r){var e;(e=t.call(this)||this).y0t=void 0,e.vti=void 0,e.sc=void 0,e.qc=[],e.sri=function(t){t.getAd().isLinear()?e.vti.Qni("linear"):e.vti.Qni("nonlinear")},e.eri=function(){e.y0t.resize(e.vti.Xni,e.vti.zni,google.ima.ViewMode.NORMAL)},e.forwardAdEventListener=function(t){var n=t.getAd(),i=function(t){var n;return((n={})[google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED]=a0.V6t,n[google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED]=a0.H6t,n[google.ima.AdEvent.Type.CLICK]=a0.W6t,n[google.ima.AdEvent.Type.DURATION_CHANGE]=a0.Rw,n[google.ima.AdEvent.Type.EXPANDED_CHANGED]=a0.q6t,n[google.ima.AdEvent.Type.STARTED]=a0.z6t,n[google.ima.AdEvent.Type.IMPRESSION]=a0.G6t,n[google.ima.AdEvent.Type.PAUSED]=a0.Gz,n[google.ima.AdEvent.Type.RESUMED]=a0.X6t,n[google.ima.AdEvent.Type.AD_PROGRESS]=a0.j6t,n[google.ima.AdEvent.Type.AD_BUFFERING]=a0.Q6t,n[google.ima.AdEvent.Type.FIRST_QUARTILE]=a0.K6t,n[google.ima.AdEvent.Type.MIDPOINT]=a0.mJt,n[google.ima.AdEvent.Type.THIRD_QUARTILE]=a0.Y6t,n[google.ima.AdEvent.Type.COMPLETE]=a0.wJt,n[google.ima.AdEvent.Type.USER_CLOSE]=a0.J6t,n[google.ima.AdEvent.Type.LINEAR_CHANGED]=a0.Z6t,n[google.ima.AdEvent.Type.LOADED]=a0.$6t,n[google.ima.AdEvent.Type.AD_CAN_PLAY]=a0.t8t,n[google.ima.AdEvent.Type.AD_METADATA]=a0.i8t,n[google.ima.AdEvent.Type.AD_BREAK_READY]=a0.e8t,n[google.ima.AdEvent.Type.INTERACTION]=a0.s8t,n[google.ima.AdEvent.Type.ALL_ADS_COMPLETED]=a0.n8t,n[google.ima.AdEvent.Type.SKIPPED]=a0.r8t,n[google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED]=a0.h8t,n[google.ima.AdEvent.Type.LOG]=a0.o8t,n[google.ima.AdEvent.Type.VIEWABLE_IMPRESSION]=a0.a8t,n[google.ima.AdEvent.Type.VOLUME_CHANGED]=a0.u8t,n[google.ima.AdEvent.Type.VOLUME_MUTED]=a0.c8t,n)[t]}(t.type),r={type:i,date:new Date,Int:n?e.rri(n):void 0,S7t:l0(i,t.getAdData())};e.So(r)},e.forwardAdErrorEventListener=function(t){e.So({date:new Date,Int:void 0,type:f0.d8t,S7t:{n9t:_0(t.getError())}})},e.y0t=n,e.vti=i,e.sc=r,e.sc.wn(hI.yn,e.eri),e.y0t.init(e.vti.Xni,e.vti.zni,google.ima.ViewMode.NORMAL),e.y0t.addEventListener(google.ima.AdEvent.Type.LOADED,e.sri),e.y0t.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,e.forwardAdErrorEventListener);for(var s,u=Lt(k2());!(s=u()).done;){var o=s.value;e.y0t.addEventListener(o,e.forwardAdEventListener)}return e}Ct(n,t);var i=n.prototype;return i.Ox=function(t){var n;null==(n=this.y0t)||n.setVolume(t)},i.Lx=function(){return this.y0t.getVolume()},i.i9t=function(){return this.y0t.getRemainingTime()},i.zg=function(){Yi(this.qc),this.sc.mn(hI.yn,this.eri),this.y0t.removeEventListener(google.ima.AdEvent.Type.LOADED,this.sri),this.y0t.removeEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.forwardAdErrorEventListener);for(var t,n=Lt(k2());!(t=n()).done;){var i=t.value;this.y0t.removeEventListener(i,this.forwardAdEventListener)}this.y0t.destroy()},i.Tn=function(){this.y0t.start()},i.cti=function(){this.y0t.resume()},i.zx=function(){this.y0t.pause()},i.rD=function(){this.y0t.skip()},i.Xx=function(){this.y0t.stop()},i.O7t=function(){var t=this.y0t.getCurrentAd();if(t)return this.rri(t)},i.gti=function(){return this.y0t.getCuePoints()},i.rri=function(t){var n=Ui(this.qc,function(n){return n.Kni===t});return n||(n=new p2(t),this.qc.push(n)),n},i.kti=function(t){this.y0t.updateAdsRenderingSettings(E2(t))},n}(th);F(),Et(),Bt(),Dt();var A2=function(t){function n(n,i){var r;return(r=t.call(this,"xti")||this).ari=void 0,r.Q1t=void 0,r.ari=n,r.Q1t=i,r}return Ct(n,t),n.prototype.xa=function(){return new T2(this.ari)},Nt(n,[{key:"hri",get:function(){return this.ari}},{key:"fii",get:function(){return this.Q1t}}]),n}(kw),T2=function(t){function n(n){var i;return(i=t.call(this,"adsmanagerloaded")||this).ari=void 0,i.ari=n,i}return Ct(n,t),Nt(n,[{key:"adsManager",get:function(){return this.ari}}]),n}(rh),S2=function(t){function n(n,i){var r;return(r=t.call(this)||this).lti=void 0,r.sc=void 0,r.dri=void 0,r.cri=void 0,r.lri=void 0,r.fri=void 0,r.onAdsManagerLoadedListener=function(t){if(r.lri&&r.fri&&r.cri){var n,i=E2(r.fri),e=r.lri,s=t.getAdsManager({get currentTime(){return e.MP},get duration(){return e.ct}},i),u=new b2(s,r.dri,r.sc);r.So(new A2(s,r.dri.fii)),null==(n=r.cri)||n.Xy(u),r.cri=void 0}},r.onAdsManagerErrorListener=function(t){var n,i={Py:t.getError().getMessage(),s7t:t.getError().getVastErrorCode(),YJt:t.getError().getErrorCode(),Km:w0(t.getError().getType()),n7t:void 0};null==(n=r.cri)||n.jy(i),r.cri=void 0},r.sc=i,r.dri=n,r}Ct(n,t);var i=n.prototype;return i.dti=function(){var t;null==(t=this.lti)||t.contentComplete()},i.C6t=function(t,n,i){return Vt(function(){var r;return zt(this,function(e){if(this.cri)throw new y("Only one ImaAdsRequest can be made at a time.");if(!this.dri.jni)throw new y("AdDisplayContainer is not initialized.");return this.lti=new google.ima.AdsLoader(this.dri.jni),this.lti.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoadedListener),this.lti.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdsManagerErrorListener),this.cri=new Vc,this.lri=n,this.fri=i,r=new google.ima.AdsRequest,t.G5t?r.adTagUrl=t.G5t:t.X5t&&(r.adsResponse=t.X5t),r.linearAdSlotWidth=t.U5t,r.linearAdSlotHeight=t.V5t,r.nonLinearAdSlotWidth=t.H5t,r.nonLinearAdSlotHeight=t.W5t,r.contentDuration=t.Q5t,r.setAdWillAutoPlay(t.q5t),r.setAdWillPlayMuted(t.z5t),t.j5t&&(r.omidAccessModeRules=t.j5t),this.lti.requestAds(r),[2,this.cri.Qy]})}).call(this)},i.zg=function(){var t;void 0!==this.lti&&(this.lti.removeEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoadedListener),this.lti.removeEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdsManagerErrorListener),this.lti.destroy(),this.lti=void 0),null==(t=this.cri)||t.jy("AdsLoader destroyed"),this.cri=void 0},n}(th);function E2(t){var n=new google.ima.AdsRenderingSettings;return n.enablePreloading=t.bti,t.Ati&&(n.uiElements=t.Ati),n.mimeTypes=t.yti,void 0!==t.Tti&&(n.playAdsAfterTime=t.Tti),void 0!==t.Sti&&(n.loadVideoTimeout=t.Sti),void 0!==t.T9t&&(n.bitrate=t.T9t),void 0!==t.Tti&&(n.playAdsAfterTime=t.Tti),n.restoreCustomPlaybackStateOnAdBreakComplete=!0,n}F(),Et(),Bt(),Dt();var I2=function(t){function n(n){var i;return(i=t.call(this)||this).vri=void 0,i.oa=void 0,i.oa=n,i.vri=i.oa.LP(),i.oa.wn(eh._y,function(){i.oa.kx||(i.vri=i.oa.LP()),i.So(new pw(i.MP,void 0))}),i}return Ct(n,t),n.prototype.hr=function(){this.vri=0},Nt(n,[{key:"MP",get:function(){return this.oa.kx?this.vri:this.oa.LP()}},{key:"ct",get:function(){return this.oa.Nd()}},{key:"$P",get:function(){return this.oa.$P}},{key:"Mx",get:function(){return this.oa.Mx}}]),n}(th);U0.Ng.registerWebImaAdPlayerConstructor(function(t,n,i){O0(i);var r=M0(i)?t.Wx():void 0,e=new y2(r,t.xe),s=new S2(e,t.Wu),u=new I2(t);return new L0(t,n,i,t.Nst,e,s,u)}),F(),Et(),F(),Et(),Wt(),Bt(),Dt(),H(),Qt(),F(),Et(),Wt(),Bt(),Dt(),Qt();var R2=function(t){function n(n,i,r){var e;return(e=t.call(this,r)||this).Qst=void 0,e.J4t=void 0,e.Pri=!0,e.Qst=n,e.J4t=i,e}Ct(n,t);var i=n.prototype;return i.gr=function(t,n,i,r,e){(e||!r.hx||r.UP)&&this.oa.hx&&this.oa.Gx()},i.OP=function(t,n){},i.BP=function(t){},i.gri=function(n,i){var r=n-this.J4t.pri;return t.prototype.OP.call(this,r,i)},i.wri=function(n){return t.prototype.BP.call(this,n)},i.NP=function(){return this.Qst.bt},i.nu=function(){return this.Qst.nu()},i.Nd=function(){return this.Qst.Nd()},i.Tx=function(){var t=TA.jn(this.Qst.Tx()).Ny(this.J4t.pri);if(this.yri())return t._s();var n=TA.jn(this.J4t.Tx()),i=n;return d4(this.Qst)||(i=t.OM(n)),(i=i.Mn(TA.tL(0,this.LP())))._s()},i.LP=function(){return this.Ari(t.prototype.LP.call(this))},i.Ari=function(t){return this.J4t.bri?this.J4t.bri:this.oa===this.J4t?this.J4t.Sri+t:this.J4t.pri+t},i.DP=function(){return this.Tri(t.prototype.LP.call(this))},i.Tri=function(t){return this.J4t.kri?this.J4t.kri:this.oa===this.J4t&&this.J4t.Eri?new Date(this.J4t.Eri.getTime()+1e3*t):this.Qst.CP},i.RP=function(){var t=TA.jn(this.Qst.RP()).Ny(this.J4t.pri);if(this.yri())return t._s();var n=TA.jn(this.J4t.RP());return t.An(t.V-1)<n.Tn(0)?n._s():t.OM(n)._s()},i.$x=function(n){switch(n.type){case eh._y:return this.So(new pw(this.Ari(n.currentTime),n.currentProgramDateTime)),!0;case eh.Qw:return this.So(new qR(this.Ari(n.currentTime))),!0;case eh.uo:return this.So(new cT(this.Ari(n.currentTime))),!0;case eh.jw:return this.So(new hT(this.Ari(n.currentTime))),!0;case eh.Bw:return this.So(new vT(this.Ari(n.currentTime))),!0;case eh.$w:return this.So(new dT(this.Ari(n.currentTime))),!0;case eh.Zw:return this.So(new lT(this.Ari(n.currentTime))),!0;case eh.Kw:return this.So(new fT(this.Ari(n.currentTime),n.playbackRate)),!0;case eh.gy:return this.Pri?(this.So(new wT(this.Ari(n.currentTime),n.volume)),!0):(this.Pri=!0,!0);case eh.Cw:return this.So(new oT(this.Ari(n.currentTime),n.readyState)),!0;case Ey.wM:return this.So(new By(this.Ari(n.currentTime),n.readyState)),!0;case Ey.yM:return this.So(new xy(this.Ari(n.currentTime),n.readyState)),!0;case Ey.AM:return this.So(new Py(this.Ari(n.currentTime),n.readyState)),!0;case Ey.bM:return this.So(new Dy(this.Ari(n.currentTime),n.readyState)),!0;case Ey.wI:return this.So(new Ry(this.Ari(n.currentTime),n.readyState)),!0;case Ey.SM:return this.So(new Ny(this.Ari(n.currentTime))),!0;case Ey.TM:return this.So(new Oy(this.Ari(n.currentTime))),!0;case eh.Dw:return this.So(new hH(this.Ari(n.currentTime),n.initDataType,n.initData)),!0}return t.prototype.$x.call(this,n)},i.zx=function(){this.Qst.zx(),this.J4t.zx()},i.kn=function(){var n=this;return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return[4,t.prototype.kn.call(n,!0)];case 1:return i.sent(),[2]}})})()},Nt(n,[{key:"_ri",get:function(){return this.oa===this.Qst?this.J4t:this.Qst}}]),n}(Lb);function C2(t,n){n.$P=t.$P,n.Mx=t.Mx}F(),Et(),Dt(),H();var D2=function(t){function n(n,i,r){return t.call(this,n,i,r)||this}Ct(n,t);var i=n.prototype;return i.gr=function(n,i,r,e,s){t.prototype.gr.call(this,n,i,r,e,s),this._ri.zx(),this.xri(i,r).style.display="block"},i.mr=function(t,n,i){this.xri(n,i).style.display="none"},n}(R2),P2=function(t){function n(n,i){return t.call(this,n,i,n)||this}Ct(n,t);var i=n.prototype;return i.yri=function(){return!0},i.xri=function(t,n){return t},i.Iri=function(t,n){return n},i.OP=function(n,i){return t.prototype.gri.call(this,n,i)},i.BP=function(n){return t.prototype.wri.call(this,n)},n}(D2),N2=function(t){function n(n,i){return t.call(this,n,i,i)||this}Ct(n,t);var i=n.prototype;return i.yri=function(){return!1},i.gr=function(n,i,r,e,s){t.prototype.gr.call(this,n,i,r,e,s),this.Pri=!1,this.oa.Rri(),i.style.display="block"},i.mr=function(t,n,i){this.oa.Cri(),n.style.display="none"},i.Nd=function(){return this.oa.Nd()},n}(R2),B2=function(t){function n(n,i){return t.call(this,n,i,i)||this}Ct(n,t);var i=n.prototype;return i.yri=function(){return!1},i.xri=function(t,n){return n},i.Iri=function(t,n){return t},i.gr=function(n,i,r,e,s){t.prototype.gr.call(this,n,i,r,e,s);for(var u=0,o=[i,r];u<o.length;u++){o[u].style.transition=""}},i.mr=function(n,i,r){t.prototype.mr.call(this,n,i,r)},i.Gx=function(){t.prototype.Gx.call(this),On.X_&&(this._ri.$P=!0,this._ri.Gx())},n}(D2);function x2(t){return V(t,N2)}F(),Et(),Bt(),Dt(),F(),Et(),Dt();var O2=function(t){function n(n){var i;return(i=t.call(this,"Dri")||this).interstitial=void 0,i.interstitial=n,i}return Ct(n,t),n.prototype.xa=function(){return new M2(this.interstitial.wnt())},n}(kw),M2=function(t){function n(n){var i;return(i=t.call(this,"interstitialupdate")||this).interstitial=void 0,i.interstitial=n,i}return Ct(n,t),n}(rh),L2=function(t){return t.SINGLE="SINGLE",t.DOUBLE="DOUBLE",t.LSHAPE_AD="LSHAPE_AD",t.LSHAPE_CONTENT="LSHAPE_CONTENT",t}({}),U2=function(t){function n(n){var i;return(i=t.call(this)||this).o=void 0,i.EO=void 0,i.Rvt=void 0,i.Vri=void 0,i.Hri={},i.yFt=void 0,i.VO=void 0,i.WA=void 0,i.Nri=void 0,i.A4t=void 0,i.Lri=0,i._x=!1,i.o=n.o,i.EO=n.EO,i.VO=n.PO,i.yFt=n.DLt,i.WA=n.ct,i.Nri=n.Ori,i.Rvt=n.Rvt,i.Vri=n.Vri,i.Uri(),i}Ct(n,t);var i=n.prototype;return i.Mri=function(t){if(this.ct){var n=(t-(this.EO+this.Lri))/this.ct;n<this.y4t||(this.A4t=b.min(n,1),1===this.A4t&&(this._x=!0))}},i.er=function(t){var n,i,r,e;this.WA=null!=(n=t.ct)?n:this.WA,this.VO=null!=(i=t.PO)?i:this.VO,this.Nri=null!=(r=t.Ori)?r:this.Nri,this.Lri=null!=(e=t.Fri)?e:this.Lri,this.Uri(),this.So(new O2(this))},i.Uri=function(){void 0===this.WA&&void 0!==this.VO?this.WA=this.VO-this.EO:void 0===this.VO&&void 0!==this.WA&&(this.VO=this.EO+this.WA)},Nt(n,[{key:"Bri",get:function(){var t,n,i=null!=(n=null!=(t=this.Nri)?t:this.WA)?n:this.yFt;return void 0!==i?this.EO+i:this.VO?this.VO:void 0}},{key:"ct",get:function(){var t=this.Bri;return void 0===t?void 0:t-this.EO}},{key:"y4t",get:function(){var t;return null!=(t=this.A4t)?t:0}}]),n}(th);F(),Et(),Dt(),Ut(),F(),Et(),Dt();var F2=function(t){function n(n,i,r,e,s,u){var o;return(o=t.call(this,n,i,r)||this).Gri=void 0,o.Wri=void 0,o.qri=void 0,o.zri=void 0,o.Xri=function(t){var n;t.target.removeEventListener("transitionend",o.Xri);var i=null==(n=o.Gri)?void 0:n.parentElement;void 0!==o.Gri&&i&&(i.removeChild(o.Gri),o.Gri=void 0)},o.Wri=e,o.qri=s,o.zri=u,o}Ct(n,t);var i=n.prototype;return i.gr=function(n,i,r,e,s){t.prototype.gr.call(this,n,i,r,e,s);var u=v.createElement("a");if(u.style.backgroundImage="url('"+this.Wri+"')",u.style.backgroundSize="contain",u.style.backgroundPosition="center",u.style.backgroundRepeat="no-repeat",this.qri&&(u.href=this.qri,u.target="Xu",u.setAttribute("rel","noopener")),this.zri){var o=v.createElement("img");o.src=this.zri,o.style.visibility="hidden",u.appendChild(o)}ci(u),this.Gri=u,function(t,n){t.insertBefore(n,t.firstChild)}(n,this.Gri)},i.mr=function(t,n,i){n.addEventListener("transitionend",this.Xri)},n}(R2),V2=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this,n,i,i,r,e,s)||this).jri=void 0,u.Qri=function(t){var n=t.target;n.removeEventListener("transitionend",u.Qri),n.style.transform="",n.style.transition="",n.style.transformOrigin=""},u.Kri=function(t){var n=t.target;n.removeEventListener("transitionend",u.Kri),n.style.display="none",n.style.width="100%",n.style.height="100%",n.style.right="",n.style.top="",n.style.transition="",n.style.transform="",n.style.transformOrigin=""},u}Ct(n,t);var i=n.prototype;return i.yri=function(){return!0},i.gr=function(n,i,r,e,s){t.prototype.gr.call(this,n,i,r,e,s),C2(this.oa,this._ri),this._ri.$P=!0,this.jri=this.Qst.nt.II.filter(function(t){return t.Xk===Hm.Kn});for(var u,o=Lt(this.jri);!(u=o()).done;){u.value.Xk=Hm.Nh}i.style.display="block",i.style.width="45%",i.style.height="45%",i.style.top="27.5%",i.style.transform="scale("+100/45+")",i.style.transformOrigin="left center",r.style.right="0",r.style.top="27.5%",r.style.display="block",r.style.width="45%",r.style.height="45%",r.style.transformOrigin="right center",r.style.transform="scale(0)",r.getBoundingClientRect(),r.style.transition="transform 1s ease-in-out",r.style.transform="scale(1) translateX(-"+2.5/45*100+"%)",i.style.transition="transform 1s ease-in-out",i.style.transform="scale(1) translateX("+2.5/45*100+"%)"},i.mr=function(n,i,r){var e;t.prototype.mr.call(this,n,i,r),i.style.width="100%",i.style.height="100%",i.style.top="",i.style.transform="scale(0.45) translateX("+2.5/45*100+"%)",i.style.transformOrigin="left center",i.style.transition="",i.getBoundingClientRect(),i.style.transform="",i.style.transition="transform 1s ease-in-out",i.addEventListener("transitionend",this.Qri),r.style.transform="scale(0)",r.addEventListener("transitionend",this.Kri);for(var s,u=Lt(null!=(e=this.jri)?e:[]);!(s=u()).done;){s.value.Xk=Hm.Kn}this.jri=void 0},i.HP=function(){return this.Qst.HP()||this.J4t.HP()},i.qP=function(){return this.Qst.qP()||this.J4t.qP()},i.bx=function(){return b.min(this.Qst.Ax,this.J4t.Ax)},i.Gx=function(){this.Qst.Gx(),this.J4t.Gx()},n}(F2);F(),Et(),Dt(),H();var H2=function(t){function n(n,i,r,e,s,u){var o;return(o=t.call(this,n,i,r,e,s,u)||this).Yri=function(t){var n=t.target;n.removeEventListener("transitionend",o.Yri),n.style.transition=""},o}return Ct(n,t),n.prototype.gr=function(n,i,r,e,s){t.prototype.gr.call(this,n,i,r,e,s),this._ri.zx();var u=this.xri(i,r);u.style.display="block",u.getBoundingClientRect()},n}(F2),W2=function(t){function n(n,i,r,e,s){return t.call(this,n,i,n,r,e,s)||this}Ct(n,t);var i=n.prototype;return i.yri=function(){return!0},i.xri=function(t,n){return t},i.Iri=function(t,n){return n},i.gr=function(n,i,r,e,s){t.prototype.gr.call(this,n,i,r,e,s);var u=this.xri(i,r);u.style.transform="\n            translate(-50%, -50%)\n            scale(calc(43/60))\n            translate(calc(50% + 100%/30), calc(50% + 100%/30))\n        ",u.style.transition="transform 1s ease-in-out"},i.mr=function(n,i,r){t.prototype.mr.call(this,n,i,r);var e=this.xri(i,r);e.style.display="",e.style.transform="",e.addEventListener("transitionend",this.Yri)},n}(H2),z2=function(t){function n(n,i,r,e,s){return t.call(this,n,i,i,r,e,s)||this}Ct(n,t);var i=n.prototype;return i.yri=function(){return!1},i.xri=function(t,n){return n},i.Iri=function(t,n){return t},i.gr=function(n,i,r,e,s){t.prototype.gr.call(this,n,i,r,e,s);for(var u=0,o=[i,r];u<o.length;u++){var h=o[u];h.style.transform="\n                translate(-50%, -50%)\n                scale(calc(43/60))\n                translate(calc(50% + 100%/30), calc(50% + 100%/30))\n            ",h.style.transition="transform 1s ease-in-out"}},i.mr=function(n,i,r){t.prototype.mr.call(this,n,i,r);var e=this.xri(i,r);e.style.display="none",e.style.transform="",e.style.transition="";var s=this.Iri(i,r);s.style.display="",s.getBoundingClientRect(),s.style.transform="",s.addEventListener("transitionend",this.Yri)},i.Gx=function(){t.prototype.Gx.call(this),On.X_&&(this._ri.$P=!0,this._ri.Gx())},n}(H2);F(),Et(),Wt(),Dt(),Qt(),F(),Et(),Dt(),F(),Et(),Dt();var X2=function(t){function n(){return t.apply(this,arguments)||this}Ct(n,t);var i=n.prototype;return i.gr=function(t,n){},i.mr=function(t){},n}(Lb),q2=function(t){function n(){return t.apply(this,arguments)||this}return Ct(n,t),n.prototype.OP=function(t,n){},n}(X2),G2=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).Wri=void 0,r.Yri=function(t){var n=t.target;n.removeEventListener("transitionend",r.Yri),n.style.transition="transform 1s ease-in-out"},r.Wri=i,r}Ct(n,t);var i=n.prototype;return i.OP=function(t,n){},i.gr=function(t,n){n.style.backgroundImage="url('"+this.Wri+"')",n.style.backgroundSize="contain",n.style.backgroundPosition="center",t.style.transition="transform 1s ease-in-out",t.style.transform="\n          translate(-50%, -50%)\n          scale(calc(43/60))\n          translate(calc(50% + 100%/30), calc(50% + 100%/30))\n        "},i.mr=function(t){t.style.transform="",t.addEventListener("transitionend",this.Yri)},n}(X2);F(),Et(),Dt();var j2=function(t){function n(n){var i;return(i=t.call(this,"Jri")||this).interstitial=void 0,i.interstitial=n,i}return Ct(n,t),n.prototype.xa=function(){return new Q2(this.interstitial.wnt())},n}(kw),Q2=function(t){function n(n){var i;return(i=t.call(this,"interstitialbegin")||this).interstitial=void 0,i.interstitial=n,i}return Ct(n,t),n}(rh);function Y2(t){return{get id(){return t.o},get duration(){return t.ct},get startTime(){return t.EO},get type(){return"adbreak"},get layout(){return function(t){switch(t){case L2.SINGLE:return"single";case L2.DOUBLE:return"double";case L2.LSHAPE_CONTENT:case L2.LSHAPE_AD:return"l-shape"}}(t.Zri)},get ads(){return t.Jc.map(function(t){return t.wnt()})},get backdropUri(){return t.$ri},get adTagParameters(){return t.Hri},set adTagParameters(n){Zn(n)?t.Hri=n:Vn.dm("Incorrect ad tag parameters type, expecting a Record.")}}}F(),Et(),Wt(),Bt(),Dt(),Ut(),Qt(),F(),Et(),Bt(),Ut(),F(),Et(),Bt(),Dt(),F(),Et();var K2=function(t){return t.image="image",t}({}),J2=function(t){return t.png="png",t.svg="svg",t}({}),Z2=function(t){function n(n){var i;return(i=t.call(this,n)||this).hu=void 0,i.shi=void 0,i.mo=void 0,i.Vy=void 0,i.nhi=void 0,i.rhi=void 0,i.LJt=void 0,i.thi=void 0,i.ehi=void 0,i.shi=n.Km,i.mo=n.mo,i.Vy=n.Vy,i.nhi=n.nhi,i.rhi=n.rhi,i.LJt=n.LJt,i.thi=n.hhi,i}Ct(n,t);var i=n.prototype;return i.er=function(n){var i,r;this.ehi=null!=(i=n.imageUrl)?i:this.ehi,this.thi=null!=(r=n.clickThrough)?r:this.thi,t.prototype.er.call(this,n)},i.wnt=function(){var t;return null!=(t=this.hu)?t:this.hu=function(t){return{get type(){return"overlay"},get id(){return t.o},get duration(){return t.ct},get startTime(){return t.EO},get clickThrough(){return t.AYt},get imageUrl(){return t.ihi},get position(){return function(t){return{get top(){return t.z9},get bottom(){return t.q9},get left(){return t.W9},get right(){return t.H9}}}(t.mo)},get size(){return function(t){return{get width(){return t.Ti},get height(){return t.Mi}}}(t.Vy)},get adTagParameters(){return t.Hri},set adTagParameters(n){Zn(n)?t.Hri=n:Vn.dm("Incorrect ad tag parameters type, expecting a Record.")}}}(this)},Nt(n,[{key:"Km",get:function(){return"overlay"}},{key:"AYt",get:function(){return this.thi}},{key:"ihi",get:function(){return this.ehi}}]),n}(U2);F(),Et(),Bt(),Dt();var $2=function(t){function n(n){var i;return(i=t.call(this,n)||this).hu=void 0,i.qc=[],i.nyt=void 0,i.uhi=void 0,i.Zri=void 0,i.dhi=void 0,i.lhi=void 0,i.fhi=void 0,i.vhi=void 0,i.$ri=void 0,i.ohi=void 0,i.ahi=void 0,i.nyt=n.nyt,i.uhi=n.uhi,i.Zri=n.Zri||L2.SINGLE,i.dhi=n.dhi,i.lhi=n.lhi,i.vhi=n._hi,i.$ri=n.ghi,i.fhi=n.fhi,i}Ct(n,t);var i=n.prototype;return i.er=function(n){var i;n.ad&&this.qc.push(n.ad),this.$ri=null!=(i=n.backdropUri)?i:this.$ri,this.ohi=n.backdropClickThrough,this.ahi=n.backdropImpressionUrl,t.prototype.er.call(this,n)},i.wnt=function(){var t;return null!=(t=this.hu)?t:this.hu=Y2(this)},Nt(n,[{key:"Km",get:function(){return"adbreak"}},{key:"Jc",get:function(){return this.qc}}]),n}(U2);F(),Et(),Wt(),Bt(),Dt(),Qt(),F(),Et(),Bt(),Dt();var t3=function(t){function n(n){var i,r;return(i=t.call(this,n.EO)||this).mhi=void 0,i.mhi=n,i.m0t=null!=(r=i.mhi.ct)?r:-1,i}return Ct(n,t),n.prototype.phi=function(t){this.qc.push(t)},Nt(n,[{key:"_x",get:function(){return this.mhi._x}},{key:"MZt",get:function(){return UZ.ont}},{key:"p0t",get:function(){var t;return null!=(t=this.mhi.ct)?t:-1}},{key:"_Ot",get:function(){return this.mhi.EO}},{key:"X$t",get:function(){}},{key:"whi",get:function(){return this.mhi}}]),n}(P$);F(),Et(),Dt(),F(),Et(),Bt(),Dt();var n3=function(t){function n(n){var i;return i=t.call(this,n,function(t){return t===L2.LSHAPE_CONTENT?B$.a4t:B$.hZt}(n.whi.Zri))||this,n.phi(i),i}return Ct(n,t),n.prototype.xa=function(){return M$(this)},Nt(n,[{key:"MZt",get:function(){return UZ.ont}}]),n}(O$);var i3=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).WA=b.min(i,r.od.p0t),r}return Ct(n,t),n}(n3);F(),Et(),Wt(),Qt();var r3="ott_placement",e3=function(){function t(t){this.Shi=(new Date).getTime(),this.nV=void 0,this.nV=t}var n=t.prototype;return n.yhi=function(t,n,i){return Vt(function(){var r,e;return zt(this,function(s){switch(s.label){case 0:return(r=new gu(n)).set("iu",t.Ahi),r.set("sz",t.bhi),r.set("c",String(this.Shi)),e="https://securepubads.g.doubleclick.net/gampad/adx?"+r.toString(),[4,this.Thi(e,i)];case 1:return[2,s.sent()]}})}).call(this)},n.Thi=function(t,n){return Vt(function(){var i,r;return zt(this,function(e){switch(e.label){case 0:i=new pl({Yu:t,dk:Md.DT,Uk:wl.GET,Yg:n}),e.label=1;case 1:return e.trys.push([1,4,,5]),[4,this.nV.lk(i)];case 2:return[4,e.sent().ck()];case 3:return[2,e.sent()];case 4:throw r=e.sent(),new SJ(EJ.NETWORK,IJ.UNKNOWN_AD_RESPONSE,"The ad source could not be loaded.",r);case 5:return[2]}})}).call(this)},t}(),s3=function(t){return t.khi="0",t.jw="1",t.Ehi="2",t.PICTURE_IN_PICTURE="3",t.Phi="4",t.xhi="5",t.Ihi="99",t}({});function u3(t){switch(t){case L2.DOUBLE:return"3";case L2.SINGLE:return"0";case L2.LSHAPE_AD:case L2.LSHAPE_CONTENT:return"4"}}var o3=function(t){return t.AD_LOADING="adloading",t.AD_LOADED="adloaded",t.AD_PAUSED="adpaused",t.AD_ERROR="aderror",t.AD_ENDED="adended",t}({}),h3=function(t){return t[t.GOOGLE=0]="GOOGLE",t[t.DEFAULT=1]="DEFAULT",t[t.COMPANION=2]="COMPANION",t[t.CSAI=3]="CSAI",t}({}),c3=function(t){function n(n,i,r,e,s){var u;return void 0===s&&(s={}),(u=t.call(this)||this).J4t=void 0,u.Zhi=void 0,u.s5t=new DI,u.Hhi=void 0,u.X0t=[],u.G0t=void 0,u.M0t=void 0,u.Chi=void 0,u.Jhi=void 0,u.Lhi=void 0,u.Fhi=!0,u.rV=void 0,u.H6=function(t){u.bd(t)},u.Xhi=function(){u.So(new rh("adloading"))},u.jhi=function(){u.So(new rh("adloaded"))},u.Qhi=function(t){u.Bd(u.Ari(u.J4t.LP()))},u.vQt=function(){u.So(new R$(EJ.GENERAL))},u.J4t=n,u.Zhi=i,u.X0t=r,u.Hhi=e,u.Zhi.$hi(u),u.s5t=i.M3t,u.Lhi=u.Ohi(s),u.Fhi=!s[r3],u}Ct(n,t);var i=n.prototype;return i.Dhi=function(){return Boolean(this.Chi)},i.Bhi=function(t){},i.Nhi=function(t){},i.Mhi=function(t){this.Lhi=this.Ohi(t),this.Fhi=!t[r3]},i.Ohi=function(t){var n=Ow(t);return t[r3]||(n[r3]=u3(L2.SINGLE)),n},i.Uhi=function(t){if(this.Fhi){var n=this.Lhi[r3],i=u3(t);n!==i&&(this.Lhi[r3]=i)}},i.Vhi=function(t,n){return Vt(function(){var i,r;return zt(this,function(e){switch(e.label){case 0:if(!t.vhi)return[2];e.label=1;case 1:return e.trys.push([1,3,,4]),i={ott_placement:s3.Phi},[4,this.Hhi.yhi(t.vhi,i,n)];case 2:return r=e.sent(),t.er({backdropUri:null==r?void 0:r.image,backdropClickThrough:null==r?void 0:r.clickThrough,backdropImpressionUrl:null==r?void 0:r.impression}),[3,4];case 3:throw e.sent(),new y("Could not load the backdrop");case 4:return[2]}})}).call(this)},i.Whi=function(t,n){var i;if(t.EO<n){var r=b.min(t.ct,t.Bri-n);i=t.ct-r,t.er({ct:r,Fri:i})}return i},i.qhi=function(t){var n=new t3(t);this.X0t.push(n)},i.zhi=function(t){var n=this.X4t(t);Xi(this.X0t,n)},i.X4t=function(t){return Ui(this.X0t,function(n){return n.whi===t})},i.Ghi=function(){this.J4t.wn(eh.Ww,this.Xhi),this.J4t.wn(Ey.yM,this.jhi),this.J4t.wn(eh._y,this.H6),this.J4t.wn(eh.Bw,this.Qhi),this.J4t.wn(zm.ma,this.vQt)},i.Khi=function(){this.J4t.mn(eh.Ww,this.Xhi),this.J4t.mn(Ey.yM,this.jhi),this.J4t.mn(eh._y,this.H6),this.J4t.mn(eh.Bw,this.Qhi),this.J4t.mn(zm.ma,this.vQt)},i.bd=function(t){var n;null==(n=this.Chi)||n.Mri(this.Ari(t.currentTime))},i.Yhi=function(t,n,i,r){return Vt(function(){var e,s,u,o,h;return zt(this,function(c){switch(c.label){case 0:e={stack:[],error:void 0,hasError:!1},c.label=1;case 1:return c.trys.push([1,3,4,5]),null==(s=this.rV)||s.Zg(),u=qt(e,hr.ep([n]),!1),this.rV=u,dr(o=u.Yg),[4,this.J4t.Yhi(oE(t),i,r,o)];case 2:return[2,c.sent()];case 3:return h=c.sent(),e.error=h,e.hasError=!0,[3,5];case 4:return Gt(e),[7];case 5:return[2]}})}).call(this)},i.d7t=function(t){void 0!==this.Jhi?(this.Chi=this.Jhi,this.Jhi=void 0,this.G0t=this.X4t(this.Chi),this.M0t=new i3(this.G0t,this.J4t.Nd()),this.Chi.er({ad:this.B9t}),this.s5t.So(new Vx(this.G0t)),this.s5t.So(new Wx(this.M0t,t))):Vn.um("Expected an ad to start.")},i.Bd=function(t){this.Chi&&(this.Chi.Mri(t),this.Chi._x=!0,this.zhi(this.Chi),this.Chi=void 0),this.M0t&&(this.s5t.So(new Xx(this.M0t,t)),this.M0t=void 0),this.G0t?(this.s5t.So(new Ux(this.G0t)),this.G0t=void 0):(Vn.um("An ad break has ended without realizing we are in an ad break."),this.So(new rh("adended")))},i.Ari=function(t){var n,i;return(null!=(i=null==(n=this.Chi)?void 0:n.EO)?i:0)+t},i.hr=function(){return Vt(function(){var t;return zt(this,function(n){return null==(t=this.rV)||t.Zg(),this.rV=void 0,this.Khi(),this.X0t=[],this.M0t=void 0,this.G0t=void 0,this.Chi=void 0,this.Jhi=void 0,[2]})}).call(this)},i.kn=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return[4,this.hr()];case 1:return t.sent(),[4,this.Zhi.kn()];case 2:return t.sent(),[2]}})}).call(this)},Nt(n,[{key:"A0t",get:function(){return this.X0t}},{key:"Rhi",get:function(){return this.Chi}},{key:"ynt",get:function(){return this.G0t}},{key:"B9t",get:function(){return this.M0t}}]),n}(th),a3="com.theoplayer.theoads.interstitial",f3="com.theoplayer.theoads.overlay",v3="X-ASSET-URI",d3="X-ASSET-URI-VAST",l3=function(){function t(t){var n=this;this.Poi=void 0,this.loi=!1,this.Loi=void 0,this.ioi=[],this.Woi=[],this.Foi=Zu(),this.Moi=void 0,this.aoi=[],this.foi=void 0,this._oi=void 0,this.soi=void 0,this.Wn=function(t){n.uoi(t.Ht)},this.Gn=function(t){n.doi(t.Ht)},this.moi=function(t){n.boi(t.TO)},this.Soi=function(t){n.Toi(t.TO)},this.yoi=function(t){n.Ooi(t.TO)},this.Aoi=function(t){n.poi(t.TO)},this.woi=function(t){n.qoi(t.TO)},this.noi=function(t){n.xoi(t)},this.roi=function(t){n.Coi(t)},this.hoi=function(t){n.koi(t)},this.Poi=t}var n=t.prototype;return n.eoi=function(t){this.soi=new EventSource(t),this.soi.addEventListener("adbreak",this.noi),this.soi.addEventListener("overlay",this.roi),this.soi.addEventListener("streaminfo",this.hoi)},n.ooi=function(t){if(!ji(this.aoi,t)){this.aoi.push(t);for(var n,i=Lt(t.II);!(n=i()).done;){var r=n.value;this.uoi(r)}t.wn(Sw.eI,this.Wn),t.wn(Sw.nI,this.Gn)}},n.coi=function(t){if(ji(this.aoi,t)){Xi(this.aoi,t),t.mn(Sw.eI,this.Wn),t.mn(Sw.nI,this.Gn);for(var n,i=Lt(t.II);!(n=i()).done;){var r=n.value;this.doi(r)}}},n.uoi=function(t){!this.loi&&function(t){return t.Lt===Ym.VU&&t.Km===Dg.DATE_RANGE}(t)&&this.foi!==t?this.voi(t):this.loi&&function(t){return t.Lt===Ym.VU&&t.Km===Dg.ID3}(t)&&this._oi!==t&&this.goi(t)},n.doi=function(t){this.foi===t?this.voi(void 0):this._oi===t&&this.goi(void 0)},n.voi=function(t){var n=this.foi;if(void 0!==n){if(n.L)for(var i,r=Lt(n.L.II);!(i=r()).done;){var e=i.value;this.poi(e)}n.mn(Dw.hI,this.moi),n.mn(Dw.cI,this.woi),n.mn(Dw.lI,this.yoi),n.mn(Dw.aI,this.Aoi),n.Xk=Hm.JI}if(this.foi=t,void 0!==t){if(t.L)for(var s,u=Lt(t.L.II);!(s=u()).done;){var o=s.value;this.boi(o)}t.wn(Dw.hI,this.moi),t.wn(Dw.cI,this.woi),t.wn(Dw.lI,this.yoi),t.wn(Dw.aI,this.Aoi),t.Xk=Hm.JI}},n.goi=function(t){var n=this._oi;if(void 0!==n){if(n.L)for(var i,r=Lt(n.L.II);!(i=r()).done;){var e=i.value;this.poi(e)}n.mn(Dw.hI,this.Soi),n.mn(Dw.lI,this.yoi),n.mn(Dw.aI,this.Aoi),n.Xk=Hm.JI}if(this._oi=t,void 0!==t){if(t.L)for(var s,u=Lt(t.L.II);!(s=u()).done;){var o=s.value;this.Toi(o)}t.wn(Dw.hI,this.Soi),t.wn(Dw.lI,this.yoi),t.wn(Dw.aI,this.Aoi),t.Xk=Hm.JI}},n.koi=function(t){try{var n,i,r=JSON.parse(t.data),e=r.networkCode,s=null==(n=r.assetKeys)?void 0:n[0];this.Poi.Eoi(e,s),null==(i=this.soi)||i.removeEventListener("streaminfo",this.hoi)}catch(t){Vn.dm("Error parsing the Server sent stream info",t)}},n.xoi=function(t){var n=this.Poi.CP;if(void 0!==n)try{var i,r=JSON.parse(t.data),e=null!=(i=r.podDuration)?i:r.adBreakDuration;if(void 0===e)return void Vn.dm("Tried to schedule an ad break without knowing the duration");var s=(Date.parse(r.startDate)-n.getTime())/1e3;if(s<=-e)return;var u,o=this.Poi.LP()+s,h=r.networkCode,c=r.assetKey,a=r.podId?A(r.podId):void 0,f=this.Ioi(L2[r.layout]),v=r.assetURIVAST,d=void 0!==c&&void 0!==h||a,l=!d&&void 0!==v,w=null!=(u=r.assetURI)?u:"";d?w="theo-ads://dai.break/?d="+e:l&&(w=v);var g=this.Roi(f,w,l),_=new $2({o:r.id,EO:o,nyt:w,uhi:g,Zri:f,dhi:h,lhi:c,DLt:e,Vri:a,ghi:r.backdropURI,_hi:w3(r.backdropURIGamProperties),Rvt:r.startPTS,fhi:r.eabnVersion});this.qhi(_,void 0)}catch(t){Vn.dm("Error parsing the Server sent event",t)}else Vn.dm("Tried to schedule an ad break without knowing the Program Date Time of the player")},n.Coi=function(t){var n=this.Poi.CP;if(void 0!==n)try{var i,r=JSON.parse(t.data),e=r.duration;if(void 0===e)return void Vn.dm("Tried to schedule an overlay without knowing the duration");var s=(Date.parse(r.startDate)-n.getTime())/1e3;if(s<=-e)return;var u=this.Poi.LP()+s,o=K2[r.type],h=new Z2({o:r.id,Km:o||K2.image,EO:u,DLt:e,mo:_3(r.position),Vy:m3(r.size),nhi:r.opacity,rhi:w3(r.gamProperties),LJt:null==(i=r.resourceURI)?void 0:i.map(function(t){return g3(t)}),hhi:r.clickThroughURI});this.qhi(h,void 0)}catch(t){Vn.dm(t)}else Vn.dm("Tried to schedule an overlay without knowing the Program Date Time of the player")},n.boi=function(t){if((t.RLt===a3||t.RLt===f3)&&(t.BLt[v3]||t.BLt[d3]))switch(t.RLt){case f3:this.Doi(t);break;case a3:this.Boi(t)}},n.Doi=function(t){try{var n;if(void 0===t.ct&&void 0===t.DLt)return;var i=atob(t.BLt["X-COM-THEOPLAYER-THEOADS-OVERLAY-PROPERTIES"]),r=JSON.parse(i),e=K2[r.type],s=this.Poi.Noi(t.EO),u=isFinite(t.PO)?this.Poi.Noi(t.PO):void 0,o=new Z2({o:t.o,Km:e||K2.image,EO:s,PO:u,ct:t.ct,DLt:t.DLt,mo:_3(r.position),Vy:m3(r.size),nhi:r.opacity,rhi:w3(r.gamProperties),LJt:null==(n=r.resourceURI)?void 0:n.map(function(t){return g3(t)}),hhi:r.clickThroughURI});this.qhi(o,t)}catch(t){Vn.dm(t)}},n.Boi=function(t){var n=t.BLt["X-RESUME-OFFSET"];if(void 0!==t.ct||void 0!==t.DLt||void 0!==n){var i=t.BLt[v3],r=t.BLt[d3],e=y$(i)?function(t){var n=t.split("?")[1],i={},r=new URLSearchParams(n);return i.d=Number(r.get("d"))||void 0,i.k=r.get("k")||void 0,i.n=r.get("n")||void 0,i.p=Number(r.get("p"))||void 0,i}(i):void 0,s=null==e?void 0:e.n,u=null==e?void 0:e.k,o=this.Poi.Noi(t.EO),h=isFinite(t.PO)?this.Poi.Noi(t.PO):void 0,c=this.Ioi(L2[t.BLt["X-COM-THEOPLAYER-THEOADS-LAYOUT"]]),a=t.BLt["X-COM-THEOPLAYER-THEOADS-BACKDROP-GAMPROPERTIES"],f=a?JSON.parse(atob(a)):void 0,v=null==e?void 0:e.p,d=!(void 0!==s&&void 0!==u||v)&&void 0!==t.BLt[d3],l=d?r:i,w=this.Roi(c,l,d),g=new $2({o:t.o,EO:o,nyt:l,uhi:w,Zri:c,dhi:s,lhi:u,ghi:t.BLt["X-COM-THEOPLAYER-THEOADS-BACKDROP"],_hi:w3(f),PO:h,ct:t.ct,DLt:t.DLt,Vri:v,Ori:void 0!==n?Number(n):void 0});this.qhi(g,t),this.Moi=g}},n.Ioi=function(t){return t===L2.LSHAPE_CONTENT?t:this.Loi||t},n.Roi=function(t,n,i){return t===L2.LSHAPE_CONTENT?h3.COMPANION:i?h3.CSAI:y$(n)?h3.GOOGLE:h3.DEFAULT},n.Toi=function(t){var n=t.U;if(function(t){return"GEO"===t.id||"GEOB"===t.id}(n)&&function(t){return"Anvatos"===t.description&&"application/json"===t.mimeType}(n)){var i=fc(new DataView(n.data),new Tc),r=new gu(i),e=r.get("type");if("cue"===e){var s=Number(r.get("duration"))/1e3||void 0,u=new gu(r.get("payload")),o=Number(u.get("dur"))||void 0,h=Number(u.get("s_bd"))||void 0;if(void 0!==o?s=o:void 0!==h&&(s=h/10),!s)return void 0;var c="theo-ads://dai.break/?d="+s,a=Number(r.get("pts"))||void 0,f=this.Poi.Noi(t.EO),v=this.Ioi(L2.SINGLE),d=new $2({o:t.o,EO:f,nyt:c,uhi:h3.GOOGLE,Zri:v,DLt:s,Rvt:a});this.qhi(d,t)}else if("cue_end"===e){var l=this.Moi;l&&l.er({ct:this.Poi.Noi(t.EO)-l.EO})}}},n.Ooi=function(t){var n=this.Foi.get(t.jI);n&&this.Poi.Uoi(n.EO)},n.Voi=function(t){for(var n,i=Lt(this.ioi);!(n=i()).done;){var r=n.value;if(t.o===r.o&&t.Km===r.Km)return!0}return!1},n.Hoi=function(t){var n=[];if(0===this.Poi.Tx().length)return Vn.um("Seekable is undefined."),!1;for(var i,r=this.Poi.Tx().start(0),e=Lt(this.Woi);!(i=e()).done;){var s=i.value;if(s.Bri<r)n.push(s);else if(t.o===s.o&&t.Km===s.Km)return!0}for(var u,o=Lt(n);!(u=o()).done;){var h=u.value;Xi(this.Woi,h)}return!1},n.qhi=function(t,n){var i,r=t.EO+(null!=(i=t.ct)?i:1/0);this.Voi(t)||this.Hoi(t)||this.Poi.LP()>=r||(this.ioi.push(t),n?this.Foi.set(n.jI,t):this.Woi.push(t),this.Poi.qhi(t))},n.qoi=function(t){var n=this.Foi.get(t.jI);if(void 0!==n){var i=t.BLt["X-RESUME-OFFSET"],r=isFinite(t.PO)?this.Poi.Noi(t.PO):void 0;n.er({ct:t.ct,PO:r,Ori:void 0!==i?Number(i):void 0})}},n.poi=function(t){this.zoi(t)},n.zoi=function(t){void 0!==this.Foi.get(t.jI)&&this.Foi.delete(t.jI)},n.Goi=function(t){var n=this;t.forEach(function(t){return n.zhi(t)})},n.zhi=function(t){Xi(this.ioi,t)},n.hr=function(){var t,n,i,r;this.Moi=void 0,this.voi(void 0),this.goi(void 0);for(var e,s=Lt(this.aoi.slice());!(e=s()).done;){var u=e.value;this.coi(u)}Yi(this.aoi),Yi(this.ioi),Yi(this.Woi),this.Foi.clear(),null==(t=this.soi)||t.removeEventListener("adbreak",this.noi),null==(n=this.soi)||n.removeEventListener("overlay",this.roi),null==(i=this.soi)||i.removeEventListener("streaminfo",this.hoi),null==(r=this.soi)||r.close(),this.soi=void 0},n.kn=function(){this.hr()},Nt(t,[{key:"toi",get:function(){return this.ioi}}]),t}();function w3(t){if(t){var n=t.sz.default;return On.Ks&&t.sz.phone?n=t.sz.phone:On.og&&t.sz.tv&&(n=t.sz.tv),{Ahi:t.iu,bhi:n}}}function g3(t){var n=J2[t.type],i=t.default;return On.Ks&&t.phone?i=t.phone:On.og&&t.tv&&(i=t.tv),{Km:n,nyt:i}}function _3(t){var n,i,r,e;return t.top&&t.top>=0&&t.top<=100?n=t.top:t.bottom&&t.bottom>=0&&t.bottom<=100?i=t.bottom:n=10,t.left&&t.left>=0&&t.left<=100?r=t.left:t.right&&t.right>=0&&t.right<=100?e=t.right:r=10,{z9:n,q9:i,W9:r,H9:e}}function m3(t){return{Ti:t.width&&t.width>=0&&t.width<=100?t.width:10,Mi:t.height&&t.height>=0&&t.height<=100?t.height:10}}F(),Et(),Bt(),Dt();var y3=function(t){function n(n){var i;return(i=t.call(this)||this).oa=void 0,i.hu=void 0,i.oa=n,i}return Ct(n,t),n.prototype.Mhi=function(t){Zn(t)?this.oa.Mhi(t):Vn.dm("Incorrect ad tag parameters type, expecting a Record.")},Nt(n,[{key:"Xoi",get:function(){return this.oa.Xoi.map(function(t){return t.wnt()})}},{key:"joi",get:function(){return this.oa.joi.map(function(t){return t.wnt()})}},{key:"Ca",get:function(){var t;return null!=(t=this.hu)?t:this.hu=function(t){return{get currentInterstitials(){return t.Xoi},get scheduledInterstitials(){return t.joi},replaceAdTagParameters:function(n){t.Mhi(n)},addEventListener:function(n,i){t.wn(n,i)},removeEventListener:function(n,i){t.mn(n,i)}}}(this)}}]),n}(th);F(),Et(),Bt();var p3=function(){function t(){this.s5t=new DI,this.Qoi=void 0}var n=t.prototype;return n.$hi=function(t){this.Qoi=t},n.rD=function(){},n.Snt=function(t){},n.knt=function(t){},n.kn=function(){return this.Qoi=void 0,ut.resolve()},Nt(t,[{key:"M3t",get:function(){return this.s5t}},{key:"G3t",get:function(){var t;return void 0!==(null==(t=this.Qoi)?void 0:t.ynt)}},{key:"C3t",get:function(){return UZ.ont}},{key:"mnt",get:function(){var t;return(null==(t=this.Qoi)?void 0:t.B9t)?[this.Qoi.B9t]:[]}},{key:"ynt",get:function(){var t,n;return null!=(n=null==(t=this.Qoi)?void 0:t.ynt)?n:null}},{key:"Ant",get:function(){var t=this;return this.Qoi?Ji(this.Qoi.A0t,function(n){var i,r=n.Jc;if(n===(null==(i=t.Qoi)?void 0:i.ynt)&&void 0!==t.Qoi.B9t){var e=r.indexOf(t.Qoi.B9t);if(e>=0)return r.slice(e+1)}return n._x?[]:r}):[]}},{key:"bnt",get:function(){var t=this;return this.Qoi?this.Qoi.A0t.filter(function(n){var i;return n===(null==(i=t.Qoi)?void 0:i.ynt)||!n._x}):[]}}]),t}();F(),Et(),Wt(),Bt(),Qt();var k3=function(){function t(t,n,i){var r=this;this.oa=void 0,this.Lhi=void 0,this.Koi=[],this.Joi=void 0,this.Zoi=Ju(),this.eai=void 0,this.gn=void 0,this.stt=function(t){m$(r.Joi,r.oa.Bx,r.oa.Rx,t.width,t.height)},this.CXt=function(){m$(r.Joi,r.oa.Bx,r.oa.Rx,r.gn.Eu,r.gn.Iu)},this.Tii=function(t){t.stopPropagation()},this.oa=t,this.eai=i;var e=v.createElement("div");e.style.display="none",e.className="theoads-image-overlays-container",ci(e),n.appendChild(e),this.Joi=e,this.gn=new pI(n),this.gn._n(),this.gn.wn(hI.yn,this.stt),this.oa.wn(eh.Jw,this.CXt)}var n=t.prototype;return n.Yoi=function(t){return Vt(function(){var n,i,r,e;return zt(this,function(s){switch(s.label){case 0:return this.Koi.push(t),this.Joi.style.display="",(n=v.createElement("div")).className="theoplayer-theoads-overlay",n.style.display="",this.Zoi.set(t.o,n),i=v.createElement("a"),[4,this.$oi(t)];case 1:return(r=s.sent()).clickThroughURI&&(this.Joi.style.zIndex="11",i.href=r.clickThroughURI,i.target="Xu",i.setAttribute("rel","noopener"),i.addEventListener("mousedown",this.Tii),i.addEventListener("touchend",this.Tii)),t.shi===K2.image&&(i.style.backgroundImage="url("+r.resourceURI+")",i.style.backgroundSize="contain",i.style.backgroundPosition="center",i.style.backgroundRepeat="no-repeat",r.impressionURI&&((e=v.createElement("img")).src=r.impressionURI,e.style.display="none",i.appendChild(e))),ci(i),function(t,n){t.style.position="absolute";var i=n.mo;i.W9&&(t.style.left=i.W9+"%");i.H9&&(t.style.right=i.H9+"%");i.z9&&(t.style.top=i.z9+"%");i.q9&&(t.style.bottom=i.q9+"%");var r=n.Vy;r.Ti&&(t.style.width=r.Ti+"%");r.Mi&&(t.style.height=r.Mi+"%");n.nhi&&n.nhi>0&&n.nhi<=100&&(t.style.opacity=""+n.nhi/100)}(n,t),n.appendChild(i),this.Joi.appendChild(n),[2]}})}).call(this)},n.tai=function(t){var n=this.Zoi.get(t.o);n&&(this.Joi.contains(n)&&this.Joi.removeChild(n),this.Zoi.delete(t.o),0===this.Zoi.size&&(this.Joi.style.display="none"),Xi(this.Koi,t))},n.iai=function(){var t=this;this.Zoi.forEach(function(n){t.Joi.contains(n)&&t.Joi.removeChild(n)}),this.Zoi.clear(),this.Koi=[]},n.$oi=function(t){return Vt(function(){var n,i,r,e,s,u;return zt(this,function(o){switch(o.label){case 0:return n={resourceURI:""},t.rhi?((r=Yu({},this.Lhi,t.Hri))&&!r[r3]&&(r[r3]=s3.xhi),[4,this.eai.yhi(t.rhi,r)]):[3,2];case 1:i=o.sent(),o.label=2;case 2:return i?(n.resourceURI=i.image,n.impressionURI=i.impression):t.LJt&&((e=Ui(t.LJt,function(t){return t.Km===J2.svg}))&&(n.resourceURI=e.nyt),(s=Ui(t.LJt,function(t){return t.Km===J2.png}))&&(n.resourceURI=s.nyt)),n.clickThroughURI=null!=(u=null==i?void 0:i.clickThrough)?u:t.AYt,t.er({imageUrl:n.resourceURI,clickThrough:n.clickThroughURI}),[2,n]}})}).call(this)},n.hr=function(){this.iai(),this.Joi.style.display="none"},Nt(t,[{key:"Xoi",get:function(){return this.Koi}},{key:"Hri",get:function(){return this.Lhi},set:function(t){this.Lhi=t}}]),t}();F(),Et(),Dt();var b3=function(t){function n(n){var i;return(i=t.call(this,"addinterstitial")||this).interstitial=void 0,i.interstitial=n,i}return Ct(n,t),n}(rh);F(),Et(),Dt();var A3=function(t){function n(n){var i;return(i=t.call(this,"nai")||this).interstitial=void 0,i.interstitial=n,i}return Ct(n,t),n.prototype.xa=function(){return new T3(this.interstitial.wnt())},n}(kw),T3=function(t){function n(n){var i;return(i=t.call(this,"interstitialend")||this).interstitial=void 0,i.interstitial=n,i}return Ct(n,t),n}(rh);F(),Et(),Dt();var S3=function(t){function n(n,i){var r;return(r=t.call(this,"rai")||this).interstitial=void 0,r.Py=void 0,r.interstitial=n,r.Py=i,r}return Ct(n,t),n.prototype.xa=function(){return new E3(this.interstitial.wnt(),this.Py)},n}(kw),E3=function(t){function n(n,i){var r;return(r=t.call(this,"interstitialerror")||this).interstitial=void 0,r.message=void 0,r.interstitial=n,r.message=i,r}return Ct(n,t),n}(rh);F(),Et(),Wt(),Bt(),Dt(),Qt();var I3=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).n7=!1,n.aai=function(t){!n.n7&&n.Jhi&&(n.n7=!0,n.d7t(n.Ari(t.currentTime)))},n.Qhi=function(t){n.Bd(n.Ari(t.currentTime))},n}Ct(n,t);var i=n.prototype;return i.IW=function(t,n,i){return ut.resolve()},i.hai=function(t,n,i,r){void 0===r&&(r=!1),this.Jhi=t;var e=this.Whi(t,n),s={sources:{src:t.nyt}};return this.Yhi(s,i,e,r)},i.oai=function(t,n,i){return Vt(function(){return zt(this,function(n){return this.Jhi=t,[2,t.nyt]})}).call(this)},i.Ghi=function(){t.prototype.Ghi.call(this),this.J4t.wn(Ey.TM,this.aai)},i.Khi=function(){this.J4t.mn(Ey.TM,this.aai),t.prototype.Khi.call(this)},i.bd=function(t){if(this.Chi){var n=this.Ari(t.currentTime),i=this.Chi.y4t;this.Chi.Mri(n);var r=this.Chi.y4t;i<.25&&r>=.25?this.s5t.So(new j$(this.M0t,n)):i<.5&&r>.5?this.s5t.So(new Y$(this.M0t,n)):i<.75&&r>=.75?this.s5t.So(new J$(this.M0t,n)):this.Chi._x&&this.Bd(n)}else Vn.um("Got timeupdate without a current interstitial")},i.Bd=function(n){t.prototype.Bd.call(this,n),this.n7=!1},i.hr=function(){var n=this;return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return[4,t.prototype.hr.call(n)];case 1:return i.sent(),this.n7=!1,[2]}})}).call(this)},Nt(n,[{key:"uhi",get:function(){return h3.DEFAULT}}]),n}(c3);F(),Et(),Wt(),Bt(),Dt(),Ut(),Qt(),F(),Et(),Dt(),H(),F(),Et(),Dt();var R3=function(t){function n(n,i,r){var e;return(e=t.call(this,n,new Date)||this).uai=void 0,e.Int=void 0,e.uai=i,e.Int=r,e}return Ct(n,t),n}(rh),C3=function(t){return t.LOADED="DAILoaded",t.AD_BREAK_STARTED="DAIAdBreakStarted",t.AD_BREAK_ENDED="DAIAdBreakEnded",t.AD_PERIOD_STARTED="DAIAdPeriodStarted",t.AD_PERIOD_ENDED="DAIAdPeriodEnded",t.AD_PROGRESS="DAIAdProgress",t.CUEPOINTS_CHANGED="DAICuePointsChanged",t.CLICK="DAIClick",t.ERROR="DAIError",t.STARTED="DAIStarted",t.FIRST_QUARTILE="DAIFirstQuartile",t.MIDPOINT="DAIMidpoint",t.STREAM_INITIALIZED="DAIStreamInitialized",t.THIRD_QUARTILE="DAIThirdQuartile",t.COMPLETE="DAIComplete",t}({}),D3=function(t){function n(n,i){return t.call(this,"DAILoaded",n,i)||this}return Ct(n,t),n}(R3),P3=function(t){function n(n,i){return t.call(this,"DAIAdBreakStarted",n,i)||this}return Ct(n,t),n}(R3),N3=function(t){function n(n,i){return t.call(this,"DAIAdBreakEnded",n,i)||this}return Ct(n,t),n}(R3),B3=function(t){function n(n,i){return t.call(this,"DAIAdProgress",n,i)||this}return Ct(n,t),n}(R3),x3=function(t){function n(n,i){return t.call(this,"DAICuePointsChanged",n,i)||this}return Ct(n,t),n}(R3),O3=function(t){function n(n,i){return t.call(this,"DAIClick",n,i)||this}return Ct(n,t),n}(R3),M3=function(t){function n(n,i){return t.call(this,"DAIError",n,i)||this}return Ct(n,t),n}(R3),L3=function(t){function n(n,i){return t.call(this,"DAIStarted",n,i)||this}return Ct(n,t),n}(R3),U3=function(t){function n(n,i){return t.call(this,"DAIFirstQuartile",n,i)||this}return Ct(n,t),n}(R3),F3=function(t){function n(n,i){return t.call(this,"DAIMidpoint",n,i)||this}return Ct(n,t),n}(R3),V3=function(t){function n(n,i){return t.call(this,"DAIStreamInitialized",n,i)||this}return Ct(n,t),n}(R3),H3=function(t){function n(n,i){return t.call(this,"DAIThirdQuartile",n,i)||this}return Ct(n,t),n}(R3),W3=function(t){function n(n,i){return t.call(this,"DAIComplete",n,i)||this}return Ct(n,t),n}(R3);var z3=function(t){function n(n,i,r){var e;(e=t.call(this)||this).cai=void 0,e.Y1t=void 0,e.Eai=void 0,e._ai=void 0,e.kai=void 0,e.gai=void 0,e.y1t=void 0,e.pai=void 0,e.mai=void 0,e.Ts=void 0,e.wai=void 0,e.yai=void 0,e.Aai=void 0,e.bai=void 0,e.Sai=void 0,e.Tai=void 0,e.cai=n,e.Y1t=i,e.Eai=r,e._ai=function(t){e.vai(!0);var n=q3(t),i=j3(t);e.So(new P3(n,i))},e.kai=function(t){e.vai(!1);var n=q3(t),i=j3(t);e.So(new N3(n,i))},e.gai=function(t){var n=q3(t),i=j3(t);e.So(new B3(n,i))},e.y1t=function(t){var n=q3(t),i=j3(t);e.So(new O3(n,i))},e.pai=function(t){var n=q3(t),i=j3(t);e.So(new W3(n,i))},e.mai=function(t){var n=q3(t),i=j3(t);e.So(new x3(n,i))},e.Ts=function(t){var n=q3(t),i=j3(t);e.So(new M3(n,i))},e.wai=function(t){var n=q3(t),i=j3(t);e.So(new U3(n,i))},e.yai=function(t){var n=q3(t),i=j3(t);e.So(new D3(n,i))},e.Aai=function(t){var n=q3(t),i=j3(t);e.So(new F3(n,i))},e.bai=function(t){var n=q3(t),i=j3(t);e.So(new L3(n,i))},e.Sai=function(t){var n=q3(t),i=j3(t);e.So(new V3(n,i))},e.Tai=function(t){var n=q3(t),i=j3(t);e.So(new H3(n,i))},e.Y1t&&(e.Y1t.style.display="none",e.cai.setClickElement(e.Y1t));var s=google.ima.dai.api.StreamEvent.Type;return e.cai.addEventListener(s.AD_BREAK_STARTED,e._ai),e.cai.addEventListener(s.AD_PROGRESS,e.gai),e.cai.addEventListener(s.CLICK,e.y1t),e.cai.addEventListener(s.COMPLETE,e.pai),e.cai.addEventListener(s.CUEPOINTS_CHANGED,e.mai),e.cai.addEventListener(s.ERROR,e.Ts),e.cai.addEventListener(s.FIRST_QUARTILE,e.wai),e.cai.addEventListener(s.LOADED,e.yai),e.cai.addEventListener(s.MIDPOINT,e.Aai),e.cai.addEventListener(s.STARTED,e.bai),e.cai.addEventListener(s.STREAM_INITIALIZED,e.Sai),e.cai.addEventListener(s.THIRD_QUARTILE,e.Tai),e.cai.addEventListener(s.AD_BREAK_ENDED,e.kai),e}Ct(n,t);var i=n.prototype;return i.replaceAdTagParameters=function(t){return this.cai.replaceAdTagParameters(null!=t?t:null)},i.lai=function(t){return this.cai.contentTimeForStreamTime(t)},i.fai=function(t){return this.cai.streamTimeForContentTime(t)},i.AHt=function(t,n){var i=function(t){return"vod"===t.availabilityType?new f.google.ima.dai.api.VODStreamRequest(Yu({},X3(t),{contentSourceId:t.contentSourceID,videoId:t.videoID})):new f.google.ima.dai.api.LiveStreamRequest(Yu({},X3(t),{assetKey:t.assetKey}))}(t);t.enableNonce&&(i.enableNonce=!0),this.cai.requestStream(i)},i.hr=function(){this.vai(!1),this.cai.reset()},i.kn=function(){this.Vo();var t=google.ima.dai.api.StreamEvent.Type;this.cai.removeEventListener(t.AD_BREAK_STARTED,this._ai),this.cai.removeEventListener(t.AD_PROGRESS,this.gai),this.cai.removeEventListener(t.CLICK,this.y1t),this.cai.removeEventListener(t.COMPLETE,this.pai),this.cai.removeEventListener(t.CUEPOINTS_CHANGED,this.mai),this.cai.removeEventListener(t.ERROR,this.Ts),this.cai.removeEventListener(t.FIRST_QUARTILE,this.wai),this.cai.removeEventListener(t.LOADED,this.yai),this.cai.removeEventListener(t.MIDPOINT,this.Aai),this.cai.removeEventListener(t.STARTED,this.bai),this.cai.removeEventListener(t.STREAM_INITIALIZED,this.Sai),this.cai.removeEventListener(t.THIRD_QUARTILE,this.Tai),this.cai.removeEventListener(t.AD_BREAK_ENDED,this.kai),this.hr(),this.Eai&&$n(this.Eai)},i.Pai=function(t){this.cai.onTimedMetadata(t)},i.xai=function(t,n,i){this.cai.processMetadata(t,n,i)},i.Iai=function(t){var n=this.cai.previousCuePointForStreamTime(t);if(n)return{PO:n.end,EO:n.start,_x:n.played}},i.Rai=function(t,n){var i=this.Iai(t);if(i){var r=t>n&&i.PO>n,e=i.PO>t&&i.EO<=t;return i._x||!r&&!e?void 0:i.EO}},i.vai=function(t){this.Y1t&&(this.Y1t.style.display=t?"block":"none")},n}(th);function X3(t){var n,i=google.ima.dai.api.StreamRequest.StreamFormat;return{apiKey:t.apiKey,authToken:t.authToken,format:"dash"===t.format?i.DASH:i.HLS,networkCode:t.networkCode,streamActivityMonitorId:t.streamActivityMonitorID,adTagParameters:t.adTagParameters,omidAccessModeRules:null!=(n=m0(t.omidAccessModeRules))?n:{}}}function q3(t){var n,i=t.getStreamData(),r=i.adProgressData;return r&&(n={t7t:r.adBreakDuration,Cai:r.duration,i7t:r.adPosition,MP:r.currentTime,ct:r.duration,e7t:r.totalAds}),{Dai:n,Bai:(i.cuepoints||[]).map(function(t){return{EO:t.start,PO:t.end,_x:t.played}}),Nai:i.errorMessage||void 0,Mai:i.manifestFormat||void 0,Lai:i.streamId||void 0,Oai:(i.subtitles||[]).map(function(t){return{Fai:t.webvtt,Uai:t.ttml,bs:t.language}}),Yu:i.url}}function G3(t){return{lYt:t.getAdSlotId(),p4t:t.getContent(),qT:t.getContentType(),Mi:t.getHeight(),Ti:t.getWidth()}}function j3(t){var n=t.getAd();if(n){var i=n.getAdPodInfo(),r=n.getCompanionAds().map(G3);return{UYt:n.getAdId(),V7t:{i7t:i.getAdPosition(),p0t:i.getMaxDuration(),Yni:i.getPodIndex(),_Ot:i.getTimeOffset(),e7t:i.getTotalAds()},yKt:n.getAdSystem(),Zni:n.getAdvertiserName(),cYt:n.getApiFramework(),IKt:r,GKt:n.getCreativeId(),I9t:n.getCreativeAdId(),$ni:n.getDealId(),dB:n.getDescription(),ct:n.getDuration(),dq:n.getTitle(),Vai:n.getUniversalAdIdRegistry(),Hai:n.getUniversalAdIdValue(),S9t:n.getVastMediaHeight(),b9t:n.getVastMediaWidth(),m9t:n.getWrapperAdIds(),w9t:n.getWrapperAdSystems(),y9t:n.getWrapperCreativeIds()}}}function Q3(){var t=v.body.lastElementChild;if(V(t,HTMLIFrameElement)&&"Advertisement"===t.title)return t}F(),Et(),Bt(),Dt();var Y3=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).Wai=void 0,r.Wai=i,r}Ct(n,t);var i=n.prototype;return i.N0t=function(){return this.Wai.getAdSystem()},i.O0t=function(){return this.od.whi.nyt},Nt(n,[{key:"o",get:function(){return this.Wai.getAdId()}},{key:"ct",get:function(){return this.Wai.getDuration()}},{key:"AYt",get:function(){var t,n;return null==(n=this.Wai)||null==(t=n.ad)?void 0:t.clickThroughUrl}},{key:"GKt",get:function(){return this.Wai.getCreativeId()}},{key:"JYt",get:function(){return this.Wai.getSkipTimeOffset()}}]),n}(n3);F(),Et(),Dt();var K3=function(t){function n(n){var i;return(i=t.call(this,n)||this)._4t=!0,i.WA=n.m0t,i}return Ct(n,t),n}(n3),J3="urn:google:dai:2018",Z3=function(t){function n(n,i,r,e,s,u,o,h){var c;return void 0===u&&(u={}),(c=t.call(this,n,i,e,s,u)||this).cai=void 0,c.zai=void 0,c.qai=void 0,c.Gai=void 0,c.Jai=void 0,c.aui=void 0,c.jai=void 0,c.Qai=void 0,c.$ai=void 0,c.nui=void 0,c.Kai=void 0,c.cui=-1,c.dui=void 0,c.lui=void 0,c.Wn=function(t){var n=t.Ht;c.Xai(n)},c.oui=function(t){t.TO.wn(Lg.zL,c.fui)},c.Aoi=function(t){t.TO.mn(Lg.zL,c.fui)},c.fui=function(t){var n,i;if(c.zai)if((null==(n=c.aui)?void 0:n.Km)===Dg.ID3){var r,e=t.TO.U;if(wy(e))if(c.cui<=t.TO.EO&&c.dui!==e.text)c.cui=t.TO.EO,c.dui=e.text,null==(r=c.cai)||r.processMetadata("ID3",e.text,t.TO.EO)}else if((null==(i=c.aui)?void 0:i.Km)===Dg.EVENT_STREAM){var s,u=t.TO.U;null==(s=c.cai)||s.processMetadata(J3,u,t.TO.EO)}},c.uui=function(t){switch(c.G0t&&(c.G0t.m0t=c.J4t.Nd()-c.J4t.LP()),t.type){case google.ima.dai.api.StreamEvent.Type.ERROR:c.s5t.So(new R$(EJ.GENERAL));break;case google.ima.dai.api.StreamEvent.Type.AD_PERIOD_STARTED:if(c.Chi)break;if(c.Chi=c.Jhi,c.Jhi=void 0,c.G0t=c.X4t(c.Chi),!c.G0t){Vn.dm("Started an ad break without having a current adbreak to our knowledge");break}c.s5t.So(new Vx(c.G0t)),c.lui=Vn.Og(c.vui,250),c.eui(c.Lhi);break;case google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED:Vn.Lg(c.lui);break;case google.ima.dai.api.StreamEvent.Type.STARTED:var n,i=t.getAd();c.M0t=new Y3(c.G0t,i),null==(n=c.Chi)||n.er({ad:c.M0t}),c.s5t.So(new Wx(c.M0t,c.Ari(c.J4t.LP())));break;case google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE:c.s5t.So(new j$(c.M0t,c.Ari(c.J4t.LP())));break;case google.ima.dai.api.StreamEvent.Type.MIDPOINT:c.s5t.So(new Y$(c.M0t,c.Ari(c.J4t.LP())));break;case google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE:c.s5t.So(new J$(c.M0t,c.Ari(c.J4t.LP())));break;case google.ima.dai.api.StreamEvent.Type.COMPLETE:c.s5t.So(new Xx(c.M0t,c.Ari(c.J4t.LP()))),c.M0t=void 0;break;case google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED:if(!c.G0t)break;c.G0t.m0t>1&&c.vui()}},c.vui=function(){var t;c.M0t=new K3(c.G0t),null==(t=c.Chi)||t.er({ad:c.M0t}),c.s5t.So(new Wx(c.M0t,c.Ari(c.J4t.LP())))},c.Kai=r,c.$ai=o,c.nui=h,c}Ct(n,t);var i=n.prototype;return i.Bhi=function(t){if(t){var n=this.cai;this.cai=this.qai,this.qai=n;var i=this.zai;this.zai=this.Gai,this.Gai=i}for(var r,e=Lt(this.J4t.nt.II);!(r=e()).done;){var s=r.value;this.Xai(s)}},i.IW=function(t,n,i){return Vt(function(){var r,e,s,u;return zt(this,function(o){switch(o.label){case 0:if(!t||!n||t===this.jai&&n===this.Qai)return[2];if(void 0===this.cai){if(void 0===(null==(e=f.google)||null==(r=e.ima)?void 0:r.dai))throw new y("IMA DAI SDK missing for THEOads");this.cai=new google.ima.dai.api.StreamManager(this.J4t.xe.querySelector("video"),this.Kai)}return this.jai=t,this.Qai=n,s=this.Yai(!1),u=this.Yai(!0),this.Jai=gr(ut.all([s,u]),i),[4,this.Jai];case 1:return o.sent(),[2]}})}).call(this)},i.Yai=function(t){var n=this,i=this.cai;if(t&&(i=this.qai),!i)return ut.resolve();this.Zai(i),i.reset();var r=new google.ima.dai.api.PodStreamRequest;r.networkCode=this.jai,r.customAssetKey=this.Qai,r.adTagParameters=this.Lhi,this.$ai&&(r.streamActivityMonitorId=this.$ai),r.format="hls";var e=this.tui(i,[google.ima.dai.api.StreamEvent.Type.STREAM_INITIALIZED,google.ima.dai.api.StreamEvent.Type.ERROR]).then(function(r){if(r.type===google.ima.dai.api.StreamEvent.Type.ERROR)throw new y("DAI stream request failed");t?n.Gai=r.getStreamData():n.zai=r.getStreamData(),n.iui(i)});return i.requestStream(r),e},i.tui=function(t,n,i){return new ut(function(r,e){if(i&&i.Hg)return e(new fr);for(var s,u=function(t){h(),r(t)},o=function(){h(),e(new fr)},h=function(){for(var r,e=Lt(n);!(r=e()).done;){var s=r.value;t.removeEventListener(s,u)}i&&i.jg(o)},c=Lt(n);!(s=c()).done;){var a=s.value;t.addEventListener(a,u)}i&&i.Xg(o)})},i.Mhi=function(n){void 0===n&&(n={}),t.prototype.Mhi.call(this,n),this.eui(this.Lhi)},i.eui=function(t){var n,i;void 0===t&&(t={}),null==(n=this.cai)||n.replaceAdTagParameters(t),null==(i=this.qai)||i.replaceAdTagParameters(t)},i.sui=function(t){return Vt(function(){var n,i,r;return zt(this,function(e){switch(e.label){case 0:return n=this,(null==(i=this.Jhi)?void 0:i.Vri)&&!S(this.Jhi.Vri)?[2,this.Jhi.Vri]:this.nui&&(null==(r=this.Jhi)?void 0:r.Rvt)?[4,gT(function(){return n.rui()},t,4,500,5e3)]:[2,void 0];case 1:return[2,e.sent()]}})}).call(this)},i.rui=function(){return Vt(function(){var t,n,i,r;return zt(this,function(e){switch(e.label){case 0:t=this.nui+"/"+this.jai+"/"+this.Qai+"/"+this.Jhi.Rvt+".json",n=new pl({Yu:t,dk:Md.DT,Uk:wl.GET,Vk:1e3}),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.J4t.SP.lk(n)];case 2:return i=e.sent(),[3,4];case 3:throw e.sent(),new SJ(EJ.NETWORK,IJ.UNKNOWN_AD_RESPONSE,"The ad's PodId could not be loaded.");case 4:if(!dl(i))throw new SJ(EJ.NETWORK,IJ.UNKNOWN_ERROR,"Something went wrong while requesting JSON from server.");return[4,i.ck()];case 5:return(r=e.sent())?[2,r.podid]:[2,void 0]}})}).call(this)},i.hai=function(t,n,i,r){return void 0===r&&(r=!1),Vt(function(){var e,s;return zt(this,function(u){switch(u.label){case 0:return[4,this.oai(t,n,i)];case 1:return e=u.sent(),s={sources:{src:e}},[4,this.Yhi(s,i,void 0,r)];case 2:return u.sent(),[2]}})}).call(this)},i.oai=function(t,n,i){return Vt(function(){var r,e,s,u,o,h,c,a,f,v,d;return zt(this,function(l){switch(l.label){case 0:return this.Jhi=t,e=t.dhi,s=t.lhi,this.Uhi(t.Zri),u=Yu({},this.Lhi,t.Hri),this.eui(u),[4,this.IW(e,s,i)];case 1:return l.sent(),o=Vn.Dh(t.nyt),h=Number(o.searchParams.get("d")),c=b.floor(1e3*b.min(h,t.Bri-n)),[4,this.sui(i)];case 2:if(!(a=l.sent()))throw new y("Something went wrong with retrieving the PodID from the server.");return(null==(r=this.zai)?void 0:r.streamId)?[3,4]:[4,this.Jai];case 3:l.sent(),l.label=4;case 4:return f=Vn.Dh("https://dai.google.com/linear/pods/v1/hls/network/"+this.jai+"/custom_asset/"+this.Qai),"V2"===t.fhi?f.pathname+="/ad_break_id/"+a+".m3u8":f.pathname+="/pod/"+a+".m3u8",v=this.zai.streamId,this.Chi?void 0===(d=this.J4t.hui())||void 0!==this.qai?[3,6]:(this.qai=new google.ima.dai.api.StreamManager(d.xe.querySelector("video"),this.Kai),[4,gr(this.Yai(!0),i)]):[3,7];case 5:l.sent(),l.label=6;case 6:this.Gai&&(v=this.Gai.streamId),l.label=7;case 7:return f.searchParams.set("stream_id",v),f.searchParams.set("pd",String(c)),[2,f.toString()]}})}).call(this)},i.Ghi=function(){this.J4t.nt.wn(Sw.eI,this.Wn),t.prototype.Ghi.call(this)},i.Khi=function(){t.prototype.Khi.call(this),this.J4t.nt.mn(Sw.eI,this.Wn)},i.Xai=function(t){if(t.Lt===Ym.VU&&!(t.Km!==Dg.ID3&&t.Km!==Dg.EVENT_STREAM||t.Km===Dg.EVENT_STREAM&&t.ZI!==J3)){if(t.wn(Dw.hI,this.oui),t.wn(Dw.aI,this.Aoi),t.L)for(var n,i=Lt(t.L.II);!(n=i()).done;){var r=n.value;this.oui(new WD(r))}t.Xk=Hm.JI,this.aui=t}},i.iui=function(t){t&&(t.addEventListener(google.ima.dai.api.StreamEvent.Type.ERROR,this.uui),t.addEventListener(google.ima.dai.api.StreamEvent.Type.CLICK,this.uui),t.addEventListener(google.ima.dai.api.StreamEvent.Type.STARTED,this.uui),t.addEventListener(google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE,this.uui),t.addEventListener(google.ima.dai.api.StreamEvent.Type.MIDPOINT,this.uui),t.addEventListener(google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE,this.uui),t.addEventListener(google.ima.dai.api.StreamEvent.Type.COMPLETE,this.uui),t.addEventListener(google.ima.dai.api.StreamEvent.Type.AD_PERIOD_STARTED,this.uui),t.addEventListener(google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,this.uui),t.addEventListener(google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,this.uui),t.addEventListener(google.ima.dai.api.StreamEvent.Type.AD_PROGRESS,this.uui),t.addEventListener(google.ima.dai.api.StreamEvent.Type.RESUMED,this.uui))},i.Zai=function(t){t&&(t.removeEventListener(google.ima.dai.api.StreamEvent.Type.ERROR,this.uui),t.removeEventListener(google.ima.dai.api.StreamEvent.Type.CLICK,this.uui),t.removeEventListener(google.ima.dai.api.StreamEvent.Type.STARTED,this.uui),t.removeEventListener(google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE,this.uui),t.removeEventListener(google.ima.dai.api.StreamEvent.Type.MIDPOINT,this.uui),t.removeEventListener(google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE,this.uui),t.removeEventListener(google.ima.dai.api.StreamEvent.Type.COMPLETE,this.uui),t.removeEventListener(google.ima.dai.api.StreamEvent.Type.AD_PERIOD_STARTED,this.uui),t.removeEventListener(google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,this.uui),t.removeEventListener(google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,this.uui),t.removeEventListener(google.ima.dai.api.StreamEvent.Type.AD_PROGRESS,this.uui),t.removeEventListener(google.ima.dai.api.StreamEvent.Type.RESUMED,this.uui))},i.Bd=function(n){t.prototype.Bd.call(this,n),this.cui=-1,this.dui=void 0},i.hr=function(){var n=this;return Vt(function(){var i,r,e;return zt(this,function(s){switch(s.label){case 0:return[4,t.prototype.hr.call(n)];case 1:return s.sent(),this.Zai(this.cai),this.Zai(this.qai),null==(i=this.cai)||i.reset(),this.cai=void 0,null==(r=this.qai)||r.reset(),this.qai=void 0,this.zai=void 0,this.Gai=void 0,this.Jai=void 0,this.$ai=void 0,this.Qai=void 0,this.jai=void 0,this.Fhi=!0,this.cui=-1,this.dui=void 0,void 0!==(e=Q3())&&$n(e),[2]}})}).call(this)},i.kn=function(){var n=this;return Vt(function(){var i;return zt(this,function(r){switch(r.label){case 0:return[4,t.prototype.kn.call(n)];case 1:return r.sent(),null==(i=this.aui)||i.kn(),[2]}})}).call(this)},Nt(n,[{key:"uhi",get:function(){return h3.GOOGLE}}]),n}(c3);F(),Et(),Wt(),Dt(),Qt();var $3=function(t){function n(n){return t.call(this,n)||this}Ct(n,t);var i=n.prototype;return i.hui=function(){},i.Yhi=function(t,n,i,r){return Vt(function(){return zt(this,function(e){switch(e.label){case 0:return[4,this.oa.Ta(t,r)];case 1:return e.sent(),this._ui(this.oa,n,i),[2]}})}).call(this)},i._ui=function(t,n,i){On.ru&&On.X_&&(t.Gx(),t.zx()),n&&t.OP(n),i&&t.Gx()},i.gui=function(t){},n}(l$);F(),Et(),Wt(),Bt(),Dt(),Qt(),St();var t4=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).NPt=0,n.Qhi=function(t){n.Bd(n.Ari(t.currentTime))},n}Ct(n,t);var i=n.prototype;return i.IW=function(t,n,i){return ut.resolve()},i.hai=function(t,n,i,r){return void 0===r&&(r=!1),this.Jhi=t,this.Whi(t,n),ut.resolve()},i.Yhi=function(t,n,i,r){return Vt(function(){return zt(this,function(t){return[2,ut.resolve()]})})()},i.oai=function(t,n,i){return Vt(function(){return zt(this,function(n){return this.Jhi=t,[2,t.nyt]})}).call(this)},i.Nhi=function(t){this.NPt=t-this.J4t.LP(),this.d7t(t)},i.bd=function(t){if(this.Chi){var n=this.Ari(t.currentTime);this.Chi.Mri(n),this.Chi._x&&this.Bd(n)}else Vn.um("Got timeupdate without a current interstitial")},i.Ari=function(t){return this.NPt+t},Nt(n,[{key:"uhi",get:function(){return h3.COMPANION}}]),n}(c3);F(),Et(),Wt(),Bt(),Dt(),Ut(),Qt(),St(),F(),Et(),Bt(),Dt();var n4=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).pui=void 0,r.pui=i,r}Ct(n,t);var i=n.prototype;return i.N0t=function(){return this.pui.N0t()},i.O0t=function(){return this.od.whi.nyt},Nt(n,[{key:"o",get:function(){return this.pui.o}},{key:"ct",get:function(){return this.pui.ct}},{key:"AYt",get:function(){return this.pui.AYt}},{key:"GKt",get:function(){return this.pui.GKt}},{key:"JYt",get:function(){return this.pui.JYt}}]),n}(n3),i4=function(t){function n(n,i,r,e,s){var u;return void 0===s&&(s={}),(u=t.call(this,n,i,r,e,s)||this).Eui=0,u.Qhi=function(t){u.Bd(u.Ari(t.currentTime))},u.wui=function(){u.Jhi?(u.Chi=u.Jhi,u.Jhi=void 0,u.G0t=u.X4t(u.Chi),u.s5t.So(new Vx(u.G0t))):Vn.um("Started an ad break without having a current adbreak to our knowledge")},u.yui=function(t){var n,i,r=t.Int;u.M0t=new n4(u.G0t,r),null==(n=u.Chi)||n.er({ad:u.M0t}),u.Eui=u.Ari(null==(i=u.J4t)?void 0:i.LP()),u.s5t.So(new Wx(u.M0t,u.Eui))},u.Aui=function(){u.s5t.So(new j$(u.M0t,u.Ari(u.J4t.LP())))},u.bui=function(){u.s5t.So(new Y$(u.M0t,u.Ari(u.J4t.LP())))},u.Sui=function(){u.s5t.So(new J$(u.M0t,u.Ari(u.J4t.LP())))},u.Tui=function(){var t=u.Eui+u.M0t.ct;u.s5t.So(new Xx(u.M0t,t)),u.M0t=void 0},u.kui=function(){u.Bd(u.Ari(u.G0t.p0t))},u}Ct(n,t);var i=n.prototype;return i.IW=function(t,n,i){return ut.resolve()},i.hai=function(t,n,i,r){return void 0===r&&(r=!1),this.Jhi=t,this.Yhi({ads:[{integration:"google-ima",sources:this.mui(t)}]},i,void 0,r)},i.oai=function(t,n,i){return Vt(function(){return zt(this,function(n){return this.Jhi=t,[2,this.mui(t)]})}).call(this)},i.mui=function(t){var n=new URL(t.nyt),i=n.searchParams;this.Uhi(t.Zri);for(var r,e=Yu({},this.Lhi,t.Hri),s=Lt(k.keys(e));!(r=s()).done;){var u=r.value;i.set(u,e[u])}return n.toString()},i.Ghi=function(){var n,i,r,e,s,u,o;t.prototype.Ghi.call(this),null==(n=this.J4t.Jc)||n.wn("Dnt",this.wui),null==(i=this.J4t.Jc)||i.wn("Bnt",this.yui),null==(r=this.J4t.Jc)||r.wn("P4t",this.Aui),null==(e=this.J4t.Jc)||e.wn("x4t",this.bui),null==(s=this.J4t.Jc)||s.wn("I4t",this.Sui),null==(u=this.J4t.Jc)||u.wn("Nnt",this.Tui),null==(o=this.J4t.Jc)||o.wn("Cnt",this.kui)},i.Khi=function(){var n,i,r,e,s,u,o;null==(n=this.J4t.Jc)||n.mn("Dnt",this.wui),null==(i=this.J4t.Jc)||i.mn("Bnt",this.yui),null==(r=this.J4t.Jc)||r.mn("P4t",this.Aui),null==(e=this.J4t.Jc)||e.mn("x4t",this.bui),null==(s=this.J4t.Jc)||s.mn("I4t",this.Sui),null==(u=this.J4t.Jc)||u.mn("Nnt",this.Tui),null==(o=this.J4t.Jc)||o.mn("Cnt",this.kui),t.prototype.Khi.call(this)},i.hr=function(){var n=this;return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return[4,t.prototype.hr.call(n)];case 1:return i.sent(),this.Eui=0,[2]}})}).call(this)},Nt(n,[{key:"uhi",get:function(){return h3.CSAI}}]),n}(c3),r4=function(t){function n(n){var i,r,e;return i=t.call(this,n)||this,(r=i).Qst=void 0,r.Uui=void 0,r.Ls=void 0,r.Fui=void 0,r.Kai=void 0,r.JW=void 0,r.Lz=void 0,r.Rui=void 0,r.Nui=void 0,r.Iui=void 0,r.Qoi=void 0,r.Hui=void 0,r.Lhi=void 0,r.eci=void 0,r.Wui=void 0,r.sci=void 0,r.gci=void 0,r.nci=void 0,r.Yui=void 0,r.xui=void 0,r.eai=void 0,r.Pui=void 0,r.uci=Ju(),r.yci=!0,r.Aci=NaN,r.hci=NaN,r.rci=NaN,r.bci=void 0,r.wci=!1,r.Sci=!0,r.GG=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return r.Qst.mn(Ey.TM,r.GG),r.Rui?r.Rui.initializationDelay?(r.bci=Vn.Og(function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return r.Rui?[4,r.Lui(r.Rui)]:[2];case 1:return t.sent(),[2]}})})()},1e3*r.Rui.initializationDelay),[3,3]):[3,1]:[2];case 1:return[4,r.Lui(r.Rui)];case 2:t.sent(),t.label=3;case 3:return[2]}})})()},r.Pd=function(){r.Qst.mn(Ey.AM,r.Pd),r.xui.ooi(r.oa.nt)},r.Cui=function(){return Vt(function(){var t;return zt(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,4]),[4,r.Wst.Bj([wE.THEOADS])];case 1:return n.sent(),[3,4];case 2:return t=n.sent(),[4,r.Xx().catch(di)];case 3:return n.sent(),r.qq(vd(t,cd.LICENSE_INVALID_FEATURE)),[3,4];case 4:return[2]}})})()},r.stt=function(t){m$(r.Uui,r.oa.Bx,r.oa.Rx,t.width,t.height)},r.CXt=function(){m$(r.Uui,r.oa.Bx,r.oa.Rx,r.Wu.Eu,r.Wu.Iu)},r.qui=function(){r.cci(r.LP()),r.dci()},r.XG=function(){r.cci(r.LP()),r.dci()},r.Xui=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return r.mci()?r.nci?[2]:(r.nci=r.sci,[4,r.nci]):[3,2];case 1:return t.sent(),r.Kui(function(){return r.tci()}),[3,3];case 2:r.Kui(function(){return r.i3t()}),t.label=3;case 3:return[2]}})})()},r.jui=function(t){return r.Jui(r.eci,"Error playing the current adbreak: "+t.error),r.Kui(function(){return r.i3t()})},r.aci=function(t){r.Iui.So(t.Ca)},r.Qst=new $3(n),r.Ls=n.xe,r.Uui=function(){var t=v.createElement("div");return si(t,"theo-ads-sgai-container"),t}(),r.Fui=function(){var t=v.createElement("div");return si(t,"theo-ads-sgai-content-player"),t}(),r.Iui=new y3(r),r.Hui=new p3,null==(e=r.Qst.Jc)||e.Ent(r.Hui),r.eai=new e3(n.SP),r.xui=new l3(r),r.Pui=new k3(r.Qst,r.Fui,r.eai),i}Ct(n,t);var i=n.prototype;return i.Zst=function(){return this.Qst.Jc},i.snt=function(){return this.Iui.Ca},i.FP=function(){return this.Ls},i.Jst=function(){return this.Qst.Dst},i.HP=function(){var n;return null!=(n=this.Lz)?n:t.prototype.HP.call(this)},i.qP=function(){var n;return null!=(n=this.JW)?n:t.prototype.qP.call(this)},i.qx=function(){this.Qst.qx()},i.Noi=function(t){return t},i.Ta=function(n,i){var r=this;return Vt(function(){var e;return zt(this,function(s){switch(s.label){case 0:return[4,this.xpt()];case 1:return s.sent(),[4,t.prototype.Ta.call(r,n,i)];case 2:return s.sent(),void 0===n||void 0===n.ads?[2]:void 0===(e=Ui(n.ads,p$))?[2]:(this.Cui(),this.Dui(),this.Bui(),this.Rui=e,this.Nui=e.backdropLShape,this.Pui.Hri=e.adTagParameters,this.xui.Loi=function(t){switch(t){case"single":return L2.SINGLE;case"l-shape":return L2.LSHAPE_AD;case"double":return L2.DOUBLE;case"single-if-mobile":return On.Ks?L2.SINGLE:void 0;default:return}}(this.Rui.overrideLayout),this.xui.loi=this.Rui.useId3,this.Qst.wn(Ey.AM,this.Pd),this.Wu.wn(hI.yn,this.stt),this.wn(eh.Jw,this.CXt),[4,this.Mui(h3.DEFAULT,void 0,void 0)]);case 3:return s.sent(),this.Qst.wn(Ey.TM,this.GG),[2]}})}).call(this)},i.Lui=function(t){return Vt(function(){var n;return zt(this,function(i){switch(i.label){case 0:return this.Oui(),n=void 0===t.networkCode||void 0===t.customAssetKey?h3.DEFAULT:h3.GOOGLE,[4,this.Mui(n,t.networkCode,t.customAssetKey)];case 1:return i.sent(),t.sseEndpoint&&this.xui.eoi(t.sseEndpoint),[2]}})}).call(this)},i.Dui=function(){ni(this.Ls,this.Fui),ci(this.Uui),ci(this.Fui),this.Uui.appendChild(this.Fui),this.Ls.appendChild(this.Uui)},i.Vui=function(){ni(this.Fui,this.Ls),ai(this.Fui),ai(this.Uui),$n(this.Fui),$n(this.Uui)},i.Mui=function(t,n,i){return Vt(function(){var r,e,s,u,o,h,c,a,f,v;return zt(this,function(d){switch(d.label){case 0:return u=this.E3t(),o=this.Kai,u&&o?t===(null==(r=this.Qoi)?void 0:r.uhi)?[2]:(c=null!=(h=null==(e=this.Qoi)?void 0:e.A0t)?h:[],[4,null==(s=this.Qoi)?void 0:s.hr()]):[2];case 1:switch(d.sent(),t){case h3.GOOGLE:return[3,2];case h3.COMPANION:return[3,4];case h3.CSAI:return[3,5];case h3.DEFAULT:return[3,6]}return[3,6];case 2:return this.Qoi=new Z3(u,this.Hui,o,c,this.eai,this.Hri,null==(a=this.Rui)?void 0:a.streamActivityMonitorId,null==(f=this.Rui)?void 0:f.retrievePodIdURI),[4,null==(v=this.Qoi)?void 0:v.IW(n,i)];case 3:return d.sent(),[3,7];case 4:return this.Qoi=new t4(this.Qst,this.Hui,c,this.eai),[3,7];case 5:return this.Qoi=new i4(u,this.Hui,c,this.eai,this.Hri),[3,7];case 6:this.Qoi=new I3(u,this.Hui,c,this.eai),d.label=7;case 7:return[2]}})}).call(this)},i.Eoi=function(t,n){return Vt(function(){var i;return zt(this,function(r){switch(r.label){case 0:return this.Wui||void 0===t||void 0===n?[2]:(null==(i=this.Qoi)?void 0:i.uhi)===h3.GOOGLE?[3,2]:[4,this.Mui(h3.GOOGLE,t,n)];case 1:r.sent(),r.label=2;case 2:return[2]}})}).call(this)},i.qq=function(t){void 0===this.qP()&&(this.JW=t,this.Lz=hg(t),this.So(new _b(t)))},i.Oui=function(){this.Qst.wn(eh._y,this.qui),this.Qst.wn(eh.$w,this.XG)},i.zui=function(){this.Qst.mn(eh._y,this.qui),this.Qst.mn(eh.$w,this.XG)},i.Gui=function(){var t,n;this.Hui.M3t.wn("Cnt",this.Xui),null==(t=this.Qoi)||t.wn(o3.AD_ENDED,this.Xui),null==(n=this.E3t())||n.wn(zm.ma,this.jui)},i.Qui=function(){var t,n;this.Hui.M3t.mn("Cnt",this.Xui),null==(t=this.Qoi)||t.wn(o3.AD_ENDED,this.Xui),null==(n=this.E3t())||n.mn(zm.ma,this.jui)},i.Kui=function(t){var n=this,i=function(){n.Yui=void 0};this.Yui=t().then(i).catch(i)},i.Jui=function(t,n){this.Iui.So(new S3(t,n).Ca),t._x=!0,this.Yui&&(this.Wui=void 0)},i.Zui=function(){return Vt(function(){var t;return zt(this,function(n){return null==(t=this.Qoi)||t.Ghi(),this.$ui(),[2]})}).call(this)},i.tci=function(){return Vt(function(){return zt(this,function(t){return this.$ui(),[2]})}).call(this)},i.i3t=function(){return Vt(function(){var t;return zt(this,function(n){return this.ici(),null==(t=this.Qoi)||t.Khi(),this.zhi(this.eci),this.eci=void 0,[2]})}).call(this)},i.$ui=function(){this.ici(),this.eci=this.Wui,this.Wui=void 0,this.sci=void 0,this.nci=void 0},i.ici=function(){var t=this.oa.Rx,n=this.oa.Bx;t===this.rci&&n===this.hci||(this.rci=t,this.hci=n,this.So(new Ty))},i.qhi=function(t){var n;e4(t)&&(null==(n=this.Qoi)||n.qhi(t),this.Uoi(this.LP()));t.wn("Dri",this.aci),this.Iui.So(new b3(t.wnt()))},i.zhi=function(t){if(ji(this.xui.toi,t)){var n;if(this.xui.zhi(t),e4(t))null==(n=this.Qoi)||n.zhi(t);else s4(t)&&(this.Pui.tai(t),this.uci.delete(t.o));t.mn("Dri",this.aci),this.Iui.So(new A3(t).Ca)}},i.Uoi=function(t){this.cci(t),this.dci()},i.cci=function(t){this.lci(t),this.fci(t),this.vci(t)},i.lci=function(t){if(void 0===this.Yui){for(var n,i,r=[],e=Lt(this.xui.toi.filter(e4));!(i=e()).done;){var s=i.value;s._x?r.push(s):s!==this.eci&&(t>=s.EO+5||this.eci&&s.EO+5<this.eci.Bri?(s._x=!0,r.push(s)):void 0!==n&&n.EO<s.EO||(n=s))}for(var u,o=Lt(r);!(u=o()).done;){var h=u.value;this.zhi(h)}this.Wui!==n&&(this._ci(),this.Wui=n)}},i._ci=function(){var t;if(void 0!==this.Wui){var n,i=void 0!==this.eci;null==(n=this.E3t())||n.gui(i)}null==(t=this.gci)||t.Zg(),this.sci=void 0,this.nci=void 0},i.pci=function(t,n){var i=!1,r=TA.jn(this.RP()).JM(n,5);void 0!==r&&(i=r.An(0)>=t.EO);var e=t.Bri,s=n>=t.EO&&(void 0===e||n<e);return i&&!s},i.fci=function(t){var n=this;if(void 0!==this.Wui&&void 0===this.sci){var i=this.Wui;e4(i)&&void 0===this.Yui&&this.pci(i,t)&&(this.gci=new hr,this.sci=_r(this.hai(i,t,this.gci.Yg),this.gci).catch(function(t){vr(t)||n.Jui(i,"Could not load the ad break: "+t.message)}))}},i.vci=function(t){var n=this;if(void 0!==this.Wui&&void 0===this.nci&&void 0===this.eci){var i,r=this.Wui.Bri;if(t>=this.Wui.EO&&(void 0===r||t<r))this.nci=null==(i=this.sci)?void 0:i.then(function(){n.Kui(function(){return n.Zui()})})}},i.Mhi=function(t){var n,i,r;this.Lhi=t,null==(i=this.Qoi)||i.Mhi(null!=(r=null!=t?t:null==(n=this.Rui)?void 0:n.adTagParameters)?r:{}),this.Pui.Hri=t},i.dci=function(){var t,n=function(){var n=s.value,e=n.Bri;if(void 0!==e&&r>=e)return"continue";var u=n.EO,o=n.EO+n.ct;r>=u&&r<=o&&!t.uci.has(n.o)&&(t.Pui.Yoi(n).catch(function(){i.Iui.So(new S3(n,"Could not load the overlay.").Ca)}),t.Iui.So(new j2(n).Ca),t.uci.set(n.o,n))},i=this,r=this.LP(),e=[];this.uci.forEach(function(t){r>=t.EO&&(void 0===t.Bri||r<t.Bri)||e.push(t)}),e.forEach(function(t){i.Pui.tai(t),i.uci.delete(t.o)});for(var s,u=Lt(this.xui.toi.filter(s4));!(s=u()).done;)t=this,n()},i.mci=function(){return void 0!==this.eci&&void 0!==this.Wui&&Si(this.eci.Bri,this.Wui.EO,5)},i.xpt=function(){return Vt(function(){var t,n;return zt(this,function(i){switch(i.label){case 0:return this.JW=void 0,this.Lz=void 0,this.Rui=void 0,this.wci=!1,this.yci=!0,this.Aci=NaN,this.hci=NaN,this.rci=NaN,this.eci=void 0,null==(t=this.gci)||t.Zg(),this.sci=void 0,this.nci=void 0,this.Wui=void 0,this.Yui=void 0,[4,null==(n=this.Qoi)?void 0:n.hr()];case 1:return i.sent(),this.Qoi=void 0,this.xui.hr(),this.Pui.hr(),this.uci.clear(),this.Wu.mn(hI.yn,this.stt),this.oa.mn(eh.Jw,this.CXt),this.Qst.mn(Ey.AM,this.Pd),this.Qst.mn(Ey.TM,this.GG),this.zui(),this.Qui(),this.Vui(),this.bci&&Vn.Lg(this.bci),this.bci=void 0,[2]}})}).call(this)},i.Xx=function(){var n=this;return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return[4,this.xpt()];case 1:return i.sent(),[4,t.prototype.Xx.call(n)];case 2:return i.sent(),[2]}})}).call(this)},i.kn=function(){var n=this;return Vt(function(){var i;return zt(this,function(r){switch(r.label){case 0:return[4,this.Xx().catch(di)];case 1:return r.sent(),this.xui.kn(),[4,null==(i=this.Qoi)?void 0:i.kn()];case 2:return r.sent(),[4,t.prototype.kn.call(n)];case 3:return r.sent(),[2]}})}).call(this)},i.$x=function(n){switch(n.type){case eh.Ww:case eh.xw:case Ey.bM:return!this.yci;case Ey.AM:return!this.yci||(this.yci=!1,!1);case eh.Rw:var i=this.Nd();return i!==this.Aci&&(this.Aci=i,this.So(new aT(i))),!0;case eh.Jw:return this.ici(),!0;case zm.ma:return void 0!==this.eci}return t.prototype.$x.call(this,n)},Nt(n,[{key:"Xoi",get:function(){var t;return[].concat([null==(t=this.Qoi)?void 0:t.Rhi],this.Pui.Xoi).filter(Un)}},{key:"joi",get:function(){return this.xui.toi}},{key:"Hri",get:function(){var t,n,i;return null!=(i=null!=(n=this.Lhi)?n:null==(t=this.Rui)?void 0:t.adTagParameters)?i:{}}}]),n}(l$);function e4(t){return"adbreak"===t.Km}function s4(t){return"overlay"===t.Km}var u4=function(t){function n(n){var i;return(i=t.call(this,n)||this).Ac=void 0,i.WA=void 0,i.Cci=void 0,i.Ez=void 0,i.Eci=void 0,i.kci=0,i.Ici=!1,i.Tci=void 0,i.cPt=void 0,i.Dci=void 0,i.Nci=new hr,i.Bci=void 0,i.Rci=!0,i.Oci=!0,i.Pri=!0,i.xXt=function(t){i.WA=t.duration},i.MV=function(){i.Qst.mn(Ey.TM,i.MV),i.wci=!1},i.Fci=function(){i.Qst.mn(Ey.AM,i.Fci),i.Tci&&(i.Qst.CP=i.Tci,i.Tci=void 0),i.Qst.LP()>0&&(i.kci-=i.Qst.LP())},i.cPt=SW.Ng,i.Dci=new w2(Vn.SP),i}Ct(n,t);var i=n.prototype;return i.Nd=function(){var n;return null!=(n=this.WA)?n:t.prototype.Nd.call(this)},i.nu=function(){var n;return null!=(n=this.Ac)?n:t.prototype.nu.call(this)},i.LP=function(){return this.Noi(t.prototype.LP.call(this))},i.DP=function(){return this.Tci?new Date(this.Tci.getTime()+fe(this.Qst.LP())):t.prototype.DP.call(this)},i.RP=function(){var n=t.prototype.RP.call(this);return TA.jn(n).Ny(this.kci)._s()},i.Tx=function(){var n=t.prototype.Tx.call(this);return TA.jn(n).Ny(this.kci)._s()},i.Noi=function(t){return t+this.kci},i.Ta=function(n,i){var r=this;return Vt(function(){return zt(this,function(e){switch(e.label){case 0:return[4,t.prototype.Ta.call(r,n,i)];case 1:return e.sent(),this.Rui?(this.Ac=n,this.Eci=new X2(this.Qst),this.Eci.gr(this.Fui,this.Uui),this.tO(this.Eci),[2]):[2]}})}).call(this)},i.Bui=function(){},i.Dui=function(){t.prototype.Dui.call(this),this.Kai=w$(this.Uui)},i.Oui=function(){t.prototype.Oui.call(this),this.Pci()},i.zui=function(){t.prototype.zui.call(this),this.xci()},i.Pci=function(){this.Qst.wn(eh.Rw,this.xXt),this.Qst.wn(Ey.TM,this.MV)},i.xci=function(){this.Qst.mn(eh.Rw,this.xXt),this.Qst.mn(Ey.TM,this.MV)},i.E3t=function(){return this.Qst},i.OP=function(n,i){this.Ici=!0,t.prototype.OP.call(this,n,i)},i.Gx=function(){t.prototype.Gx.call(this),this.So(new cT(this.LP())),this.Sci=!0,this.Rci=!1},i.zx=function(){this.Rci=!0,t.prototype.zx.call(this)},i.hai=function(t,n,i){return Vt(function(){var r,e,s,u,o,h;return zt(this,function(c){switch(c.label){case 0:return r=this,[4,this.Mui(t.uhi,t.dhi,t.lhi)];case 1:return c.sent(),u=this,[4,null==(e=this.Qoi)?void 0:e.oai(t,n,i)];case 2:return u.Cci=c.sent(),[4,null==(s=this.Qoi)?void 0:s.Vhi(t,i).catch(function(){r.Iui.So(new S3(t,"Could not load the backdrop.").Ca)})];case 3:return c.sent(),t.uhi===h3.COMPANION?[2]:(o=new h2(this.cPt,this.Dci),h=new w1(this.cPt.fPt,o,"temporary"),this.Bci=h.Bei(oE(oE({sources:{src:this.Cci}})),c2({amount:30,bandwidth:pb.Ng.fW()||this.Dst.WY}),"temporary"),this.Nci.Zg(),this.Nci=new hr,this.Dci.Ret(this.Bci,this.cPt,"temporary").mi(this.Nci.Yg).catch(di),[2])}})}).call(this)},i.Mci=function(t,n){switch(t){case L2.LSHAPE_CONTENT:case L2.LSHAPE_AD:return new G2(this.Qst,n);case L2.SINGLE:default:return new q2(this.Qst)}},i.Lci=function(t){return Vt(function(){var n,i,r,e,s,u;return zt(this,function(o){switch(o.label){case 0:return null==(n=this.gci)||n.Zg(),this.gci=new hr,[4,this.Mui(t.uhi,t.dhi,t.lhi)];case 1:return o.sent(),null==(i=this.Eci)||i.mr(this.Fui),(null==(r=this.Qoi)?void 0:r.uhi)!==h3.COMPANION&&(this.wci=!0,this.kci=this.LP(),this.Tci=this.DP(),this.Qst.wn(Ey.TM,this.MV)),this.Iui.So(new j2(t).Ca),[4,null==(e=this.Qoi)?void 0:e.Yhi({sources:{src:this.Cci}},this.gci.Yg,void 0,!0)];case 2:return o.sent(),this.Eci=this.Mci(t.Zri,null!=(u=t.$ri)?u:this.Nui),this.h3t(this.Eci),this.Eci.gr(this.Fui,this.Uui),null==(s=this.Qoi)||s.Nhi(this.LP()),[2]}})}).call(this)},i.Zui=function(){var n=this;return Vt(function(){var i;return zt(this,function(r){switch(r.label){case 0:return void 0===this.Wui||void 0===this.Cci?[2]:(this.xci(),this.Ez=this.ux,[4,this.Lci(this.Wui)]);case 1:return r.sent(),this.Gui(),(null==(i=this.Qoi)?void 0:i.uhi)!==h3.COMPANION&&(this.Oci=!1),[2,t.prototype.Zui.call(n)]}})}).call(this)},i.tci=function(){var n=this;return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return this.zhi(this.eci),void 0===this.Wui?[2,this.i3t()]:[4,this.Lci(this.Wui)];case 1:return i.sent(),[2,t.prototype.tci.call(n)]}})}).call(this)},i.i3t=function(){var n=this;return Vt(function(){var i,r,e,s,u;return zt(this,function(o){switch(o.label){case 0:return this.eci?(null==(i=this.Bci)||i._S(),this.Bci=void 0,this.Qui(),(null==(r=this.Qoi)?void 0:r.uhi)===h3.COMPANION?[3,2]:(this.wci=!0,this.Pri=!1,this.kci=this.LP(),this.Tci=this.DP(),this.xui.coi(this.Qst.nt),this.Qst.wn(Ey.AM,this.Fci),this.Qst.wn(Ey.AM,this.Pd),this.Qst.wn(Ey.TM,this.MV),[4,this.Qst.Ta(this.Ac,(new hr).Yg)])):[2];case 1:o.sent(),o.label=2;case 2:return null==(e=this.Eci)||e.mr(this.Fui),this.Eci=new X2(this.Qst),this.Eci.gr(this.Fui,this.Uui),this.h3t(this.Eci),(null==(s=this.Qoi)?void 0:s.uhi)!==h3.COMPANION&&(this.ux=null!=(u=this.Ez)?u:1,this.Qst.Gx()),this.Oci=!0,this.Pci(),[2,t.prototype.i3t.call(n)]}})}).call(this)},i.xpt=function(){var n=this;return Vt(function(){var i;return zt(this,function(r){switch(r.label){case 0:return this.Eci=void 0,this.WA=void 0,this.kci=0,this.Cci=void 0,this.Ez=void 0,this.Tci=void 0,this.Oci=!0,this.wci=!1,this.Sci=!0,this.Rci=!0,this.Nci.Zg(),this.Nci=new hr,null==(i=this.Bci)||i._S(),this.Bci=void 0,this.Qst.mn(Ey.AM,this.Fci),[4,t.prototype.xpt.call(n)];case 1:return r.sent(),[2]}})}).call(this)},i.$x=function(n){if(void 0!==this.Eci)switch(n.type){case eh.uo:return!0;case eh.jw:return!this.Rci||(this.Rci=!1,this.So(new hT(this.Noi(n.currentTime))),!0);case Ey.TM:return!this.Sci||(this.Sci=!1,this.So(new Oy(this.Noi(n.currentTime))),!0);case Ey.SM:return this.wci||(this.Sci=!0,this.So(new Ny(this.Noi(n.currentTime)))),!0;case eh.Zw:return this.wci&&!this.Ici||(this.Ici=!1,this.So(new lT(this.Noi(n.currentTime)))),!0;case eh.$w:return this.wci&&!this.Ici||this.So(new dT(this.Noi(n.currentTime))),!0;case eh.Bw:return!this.Oci||(this.So(new vT(this.Noi(n.currentTime))),!0);case eh._y:return this.So(new pw(this.Noi(n.currentTime),n.currentProgramDateTime)),!0;case eh.Qw:return this.So(new qR(this.Noi(n.currentTime))),!0;case eh.Kw:return this.So(new fT(this.Noi(n.currentTime),n.playbackRate)),!0;case eh.gy:return this.Pri?(this.So(new wT(this.Noi(n.currentTime),n.volume)),!0):(this.Pri=!0,!0);case eh.Cw:return this.So(new oT(this.Noi(n.currentTime),n.readyState)),!0;case Ey.wM:return this.So(new By(this.Noi(n.currentTime),n.readyState)),!0;case Ey.yM:return this.So(new xy(this.Noi(n.currentTime),n.readyState)),!0;case Ey.AM:return this.So(new Py(this.Noi(n.currentTime),n.readyState)),!0;case Ey.bM:return this.So(new Dy(this.Noi(n.currentTime),n.readyState)),!0;case Ey.wI:return this.So(new Ry(this.Noi(n.currentTime),n.readyState)),!0;case eh.Dw:return this.So(new hH(this.Noi(n.currentTime),n.initDataType,n.initData)),!0}return t.prototype.$x.call(this,n)},n}(r4);F(),Et(),Wt(),Bt(),Dt(),Qt(),F(),Et(),Wt(),Dt(),Qt();var o4=function(t){function n(n,i){var r,e=function(){var t=v.createElement("div");return si(t,"theo-ads-sgai-ad-player-one"),t}(),s=h4(n,e,i);return e.style.display="block",(r=t.call(this,s)||this).Vci=void 0,r.Hci=void 0,r.Uci=void 0,r.Vci=n,r.Hci=s,r}Ct(n,t);var i=n.prototype;return i.hui=function(){if(void 0===this.Uci){var t=function(){var t=v.createElement("div");return si(t,"theo-ads-sgai-ad-player-two"),t}();this.Uci=h4(this.Vci,t,this.oa.Cd)}return this.oa===this.Hci?this.Uci:this.Hci},i.Yhi=function(t,n,i,r){return Vt(function(){var e;return zt(this,function(s){switch(s.label){case 0:return[4,(e=this.oa.nu()?this.hui():this.oa).Ta(t,r)];case 1:return s.sent(),this._ui(e,n,i),[2]}})}).call(this)},i.gui=function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return t?[4,this.hui().Xx()]:[3,2];case 1:return n.sent(),[3,4];case 2:return[4,this.oa.Xx()];case 3:n.sent(),n.label=4;case 4:return[2]}})}).call(this)},i.Wci=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return C2(this.oa,this.hui()),this.h3t(this.hui()),this.oa.xe.style.display="",this.hui().xe.style.display="none",[4,this.hui().Xx()];case 1:return t.sent(),[2]}})}).call(this)},i.hr=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return[4,this.oa.Xx()];case 1:return t.sent(),[4,this.hui().Xx()];case 2:return t.sent(),[2]}})}).call(this)},n}($3);function h4(t,n,i){var r=t.children[t.children.length-1];t.insertBefore(n,r),g$(n);var e=new n0(new dx(n,i,new CE),yS.Ng);return e.mx=jT.OL,e.cO=!1,e}var c4=function(t){function n(n,i,r){var e,s=new o4(i,r);return(e=t.call(this,s)||this).Qst=void 0,e.J4t=void 0,e.Kci=void 0,e.Zci=void 0,e.Jci=void 0,e.Yci=void 0,e.edi=void 0,e.qci=0,e.zci=void 0,e.Gci=0,e.qzt=void 0,e.Xci=void 0,e.rdi=0,e.Qci=0,e.hdi=function(){if(e.Qst.mn(Ey.bM,e.hdi),e.zci){var t=e.zci;t.setSeconds(e.zci.getSeconds()+e.rdi),e.Qst.CP=t,e.zci=void 0}e.Gci-=e.Qst.LP(),e.qzt=void 0,e.Xci=void 0},e.LV=function(){e.J4t.Gx()},e.OV=function(){e.J4t.zx()},e.Qst=n,e.J4t=s,e}Ct(n,t);var i=n.prototype;return i.hui=function(){return this.J4t.hui()},i.Yhi=function(t,n,i,r){return this.J4t.Yhi(t,n,i,r)},i.jci=function(t,n,i,r){var e,s;this.qci=t,r?this.Qci=0:this.Qci+=i,this.zci=n,null==(s=this.zci)||s.setSeconds((null==(e=this.zci)?void 0:e.getSeconds())+this.Qci)},i.Rri=function(){var t;if(void 0===this.Kci){this.qzt=void 0,this.Xci=void 0;var n=this.Yci;this.Yci=void 0,null==(t=this.Jci)||t.Zg(),d4(this.Qst)&&(this.Zci=new hr,this.Kci=_r(this.$ci(n,this.Zci.Yg),this.Zci).catch(wr))}},i.Cri=function(){var t;this.qzt=this.qci+this.oa.LP(),this.Eri&&(this.Xci=new Date(this.Eri.getTime()+1e3*this.oa.LP()));var n=this.Kci;this.Kci=void 0,null==(t=this.Zci)||t.Zg(),this.Jci=new hr,this.Yci=_r(this.tdi(n,this.Jci.Yg),this.Jci).catch(wr)},i.Aa=function(){return this.Qst.mq},i.idi=function(){this.edi||(this.edi={source:this.Qst.nu(),duration:this.Qst.Nd(),currentTime:this.Qst.LP(),preload:this.Qst.mx,autoplay:this.Qst.cO,playbackRate:this.Qst.ux})},i.sdi=function(t){return Vt(function(){var n;return zt(this,function(i){switch(i.label){case 0:return this.Qst.mx=jT.OL,this.Qst.cO=!1,this.J4t.$P=!0,n=this.J4t.nu(),[4,this.Qst.Ta(n,t)];case 1:return i.sent(),this.Qst.OP(this.J4t.LP()),this.Qst.wn(eh.uo,this.LV),this.Qst.wn(eh.jw,this.OV),[2]}})}).call(this)},i.ndi=function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return this.edi?(this.Qst.mx=this.edi.preload,this.Qst.cO=this.edi.autoplay,this.Qst.ux=this.edi.playbackRate,[4,this.Qst.Ta(this.edi.source,t)]):[2];case 1:return n.sent(),this.edi=void 0,[2]}})}).call(this)},i.$ci=function(t,n){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return[4,null==t?void 0:t.catch(di)];case 1:return i.sent(),this.idi(),[4,this.Qst.Xx()];case 2:return i.sent(),[4,this.sdi(n)];case 3:return i.sent(),this.h3t(this.Qst),this.Qst.Gx(),[2]}})}).call(this)},i.tdi=function(t,n){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return[4,null==t?void 0:t.catch(di)];case 1:return i.sent(),this.rdi=this.J4t.LP(),this.Gci=this.rdi+this.Sri,[4,this.Qst.Xx()];case 2:return i.sent(),this.Qst.mn(eh.uo,this.LV),this.Qst.mn(eh.jw,this.OV),[4,this.ndi(n)];case 3:return i.sent(),this.h3t(this.J4t),this.Qst.wn(Ey.bM,this.hdi),this.Qst.Gx(),[2]}})}).call(this)},i.nu=function(){return this.edi?this.edi.source:t.prototype.nu.call(this)},i.Nd=function(){return this.edi?this.edi.duration:t.prototype.Nd.call(this)},i.odi=function(){return t.prototype.Nd.call(this)},i.Tx=function(){var n=t.prototype.Tx.call(this);return TA.jn(n).Ny(this.Sri)._s()},i.RP=function(){var n=t.prototype.RP.call(this);return TA.jn(n).Ny(this.Sri)._s()},i.Xx=function(){return this.J4t.Xx()},i.Wci=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return[4,this.J4t.Wci()];case 1:return t.sent(),this.h3t(this.J4t),[2]}})}).call(this)},i.gui=function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,this.J4t.gui(t)];case 1:return n.sent(),[2]}})}).call(this)},i.hr=function(){return Vt(function(){var t,n;return zt(this,function(i){switch(i.label){case 0:return null==(t=this.Zci)||t.Zg(),this.Zci=void 0,this.Kci=void 0,null==(n=this.Jci)||n.Zg(),this.Jci=void 0,this.Yci=void 0,this.edi=void 0,this.qci=0,this.zci=void 0,this.Gci=0,this.qzt=void 0,this.Xci=void 0,this.rdi=0,this.Qci=0,this.Qst.mn(Ey.bM,this.hdi),this.Qst.mn(eh.uo,this.LV),this.Qst.mn(eh.jw,this.OV),[4,this.J4t.hr()];case 1:return i.sent(),[2]}})}).call(this)},i.kn=function(){var n=this;return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return[4,this.hr()];case 1:return i.sent(),[4,t.prototype.kn.call(n)];case 2:return i.sent(),[2]}})}).call(this)},Nt(n,[{key:"Sri",get:function(){return this.qci}},{key:"Eri",get:function(){return this.zci}},{key:"pri",get:function(){return this.Gci}},{key:"bri",get:function(){return this.qzt}},{key:"kri",get:function(){return this.Xci}}]),n}($3);F(),Et(),Dt();var a4=function(t){function n(){return t.apply(this,arguments)||this}return Ct(n,t),n.prototype.Ta=function(n,i){var r;return void 0!==Ui(null!=(r=null==n?void 0:n.ads)?r:[],p$)?ut.reject(new fd(cd.CONFIGURATION_ERROR,"THEOads must be enabled in the player configuration.")):t.prototype.Ta.call(this,n,i)},n}(Lb),f4=1/60,v4=function(t){function n(n){var i;return(i=t.call(this,n)||this).Vci=void 0,i.J4t=void 0,i.ldi=void 0,i.vdi=void 0,i.Sdi=!0,i.pdi=!0,i.Pdi=void 0,i.udi=function(t){switch(t.presentationMode){case"native-picture-in-picture":i.ddi();break;case"fullscreen":M0(i.Cd)&&i.ddi()}},i.mdi=function(t){i.ydi()},i.wdi=function(t){i.ydi()},i.xdi=function(){var t=i.eci;void 0!==t?(!t.Bri||i.LP()>=t.Bri)&&(i.Qst.mn(eh._y,i.xdi),i.Kui(function(){return i.i3t()})):i.Qst.mn(eh._y,i.xdi)},i.kdi=function(){i.oa.mn(Ey.TM,i.kdi),i.wci=!1,i.Sci=!1},i.adi(),i}Ct(n,t);var i=n.prototype;return i.adi=function(){this.Qst.zst.wn("presentationmodechange",this.udi)},i.cdi=function(){this.Qst.zst.mn("presentationmodechange",this.udi)},i.ddi=function(){var t=this;if(this.ldi&&!x2(this.ldi)&&this.J4t&&this.eci)return function(t){return V(t,W2)}(this.ldi)?(this.Jui(this.eci,"Cannot play L-shape content ad breaks in this representation"),void this.Kui(function(){return t.i3t()})):void this.fdi(new N2(this.Qst,this.J4t),!1,!1)},i.ix=function(n){n||this.hx||this.qx(),t.prototype.ix.call(this,n)},i.Ta=function(n,i){var r=this;return Vt(function(){return zt(this,function(e){switch(e.label){case 0:return[4,t.prototype.Ta.call(r,n,i)];case 1:return e.sent(),this.Rui?(this.vdi=this.Rui.backdropDoubleBox,this.fdi(new P2(this.Qst,this.J4t),!1,!0),[2]):[2]}})}).call(this)},i.Bui=function(){this.J4t=new c4(this.Qst,this.Vci,this.oa.Cd)},i.Dui=function(){t.prototype.Dui.call(this),this.Vci=function(){var t=v.createElement("div");return si(t,"theo-ads-sgai-ad-player"),t}(),this.Uui.appendChild(this.Vci),this.Kai=w$(this.Vci),this._di()},i._di=function(){ai(this.Fui),function(t){var n=t.style;n.boxSizing="border-box",n.position="relative",n.alignItems="center",n.border="0 solid transparent",n.borderWidth="0px",n.backgroundColor="transparent",n.backgroundRepeat="no-repeat",n.backgroundAttachment="scroll"}(this.Uui),g$(this.Fui),g$(this.Vci)},i.Vui=function(){this.gdi(),t.prototype.Vui.call(this),this.Vci&&($n(this.Vci),this.Vci=void 0)},i.gdi=function(){_$(this.Ls),_$(this.Fui)},i.fdi=function(t,n,i){var r,e=null!=(r=this.ldi)?r:this,s=null!=t?t:this.Qst;C2(e,s),void 0!==this.ldi&&(this.ldi.mr(this.Uui,this.Fui,this.Vci),this.ldi.kn()),null==t||t.gr(this.Uui,this.Fui,this.Vci,e,n),this.ldi=t,i?this.tO(s):this.h3t(s)},i.E3t=function(){return this.J4t},i.qx=function(){var n;t.prototype.qx.call(this),null==(n=this.J4t)||n.qx()},i.OP=function(n,i){this.pdi=!0,t.prototype.OP.call(this,n,i)},i.Noi=function(t){var n,i;return t+(null!=(i=null==(n=this.J4t)?void 0:n.pri)?i:0)},i.Gui=function(){var n;t.prototype.Gui.call(this),null==(n=this.J4t)||n.wn(eh._y,this.mdi),this.Qst.wn(eh.qw,this.wdi)},i.Qui=function(){var n;t.prototype.Qui.call(this),null==(n=this.J4t)||n.mn(eh._y,this.mdi),this.Qst.mn(eh.qw,this.wdi)},i.ydi=function(){this.cci(this.LP()),this.Adi()},i.Adi=function(){var t;if(!(this.mci()||x2(this.ldi)||(null==(t=this.ldi)?void 0:t.yri()))){var n=b.min(this.J4t.Nd(),this.eci.ct)-this.J4t.LP(),i=this.bdi(n);if(void 0!==i&&!(this.Qst.LP()>i-.75)){var r=TA.jn(this.J4t.RP()),e=this.J4t.Tx();if(0!==e.length){var s=b.min(e.end(e.length-1),this.eci.Bri);r.CM().Cr(s)&&!this.Qst.kx&&(this.Qst.hx&&(this.Qst.Gx(),this.Qst.$P=!0),this.Qst.OP(i,{gOt:!0}))}}}},i.bdi=function(t){var n,i=this.Qst.Tx(),r=null==(n=this.eci)?void 0:n.Bri;if(0!==i.length&&void 0!==r){var e=i.start(0),s=i.end(i.length-1),u=r-t;if((u<e||s<u)&&(u=s),!Si(u,this.Qst.LP(),f4))return u}},i.hai=function(t,n,i){return Vt(function(){var r,e,s;return zt(this,function(u){switch(u.label){case 0:return r=this,[4,this.Mui(t.uhi,t.dhi,t.lhi)];case 1:return u.sent(),[4,null==(e=this.Qoi)?void 0:e.hai(t,n,i)];case 2:return u.sent(),[4,null==(s=this.Qoi)?void 0:s.Vhi(t,i).catch(function(){r.Iui.So(new S3(t,"Could not load the backdrop.").Ca)})];case 3:return u.sent(),[2]}})}).call(this)},i.Mci=function(t,n){if(d4(this.Qst))return new N2(this.Qst,this.J4t);var i=n.$ri,r=n.ohi,e=n.ahi;switch(t){case L2.DOUBLE:return i||n.er({backdropUri:this.vdi}),new V2(this.Qst,this.J4t,i,r,e);case L2.LSHAPE_AD:return n.$ri||n.er({backdropUri:this.Nui}),new z2(this.Qst,this.J4t,i,r,e);case L2.LSHAPE_CONTENT:return n.$ri||n.er({backdropUri:this.Nui}),new W2(this.Qst,this.J4t,i,r,e);case L2.SINGLE:default:return new B2(this.Qst,this.J4t)}},i._ui=function(t){var n,i,r,e,s,u=t.Zri,o=this.Mci(u,t);On.X_&&On.Q_>=16&&On.Q_<18&&(null==(n=this.Qoi)?void 0:n.uhi)!==h3.COMPANION&&(null==(s=this.J4t)||s.OP(this.J4t.LP()));this.fdi(o,this.Sci,!1),On.zv&&!o.yri()&&(null==(i=this.Qoi)?void 0:i.uhi)!==h3.COMPANION&&(_$(this.Fui),ci(this.Fui)),this.Iui.So(new j2(t).Ca),this.Sdi=(null==(r=this.Qoi)?void 0:r.uhi)===h3.COMPANION,null==(e=this.Qoi)||e.Nhi(this.LP())},i.pci=function(n,i){var r=!1;if(this.mci()){var e,s;if(!(null==(e=this.Qoi)?void 0:e.Dhi()))return!1;var u=null==(s=this.J4t)?void 0:s.RP();if(u&&u.length>0){var o=u.end(u.length-1);o-=this.J4t.Sri,r=b.min(this.J4t.Nd(),this.eci.ct)-5<o}}return r||t.prototype.pci.call(this,n,i)},i.Tdi=function(){var t;d4(this.oa)&&(null==(t=this.Qoi)?void 0:t.uhi)!==h3.COMPANION&&(this.wci=!0,this.oa.wn(Ey.TM,this.kdi))},i.Zui=function(){var n=this;return Vt(function(){var i,r,e,s,u,o,h,c;return zt(this,function(a){return void 0===(u=this.Wui)?[2]:(null==(i=this.J4t)?void 0:i.qP())?(this.Jui(u,"Could not load the ad break: "+(null==(h=this.J4t)||null==(o=h.qP())?void 0:o.message)),[2,this.Edi()]):(this.zui(),this.Tdi(),(null==(r=this.Qoi)?void 0:r.uhi)!==h3.COMPANION&&(this.Pdi=this.Qst.CP,null==(c=this.J4t)||c.jci(this.LP(),this.Pdi,0,!0)),null==(e=this.Qoi)||e.Bhi(!1),this.oa.kx&&this.So(new lT(this.LP())),this._ui(u),!On.X_||this.oa.hx||(null==(s=this.ldi)?void 0:s.yri())||(this.Qst.$P=!0,this.Qst.Gx()),this.Gui(),[2,t.prototype.Zui.call(n)])})}).call(this)},i.tci=function(){var n=this;return Vt(function(){var i,r,e,s,u,o,h,c,a;return zt(this,function(f){switch(f.label){case 0:return this.zhi(this.eci),u=this.Wui,(null==(i=this.J4t)?void 0:i.hui().qP())&&(null==(r=this.Qoi)?void 0:r.uhi)!==h3.COMPANION?(this.Jui(u,"Could not load the next ad break: "+(null==(h=this.J4t)||null==(o=h.hui().qP())?void 0:o.message)),[2,this.i3t()]):(this.Tdi(),(null==(e=this.Qoi)?void 0:e.uhi)===h3.COMPANION?[3,2]:(null==(a=this.J4t)||a.jci(this.LP(),this.Pdi,null==(c=this.J4t)?void 0:c.odi(),!1),[4,this.Wci()]));case 1:f.sent(),f.label=2;case 2:return this._ui(u),(null==(s=this.Qoi)?void 0:s.uhi)!==h3.COMPANION&&this.oa.Gx(),[2,t.prototype.tci.call(n)]}})}).call(this)},i.i3t=function(){var n=this;return Vt(function(){var i,r,e;return zt(this,function(s){switch(s.label){case 0:return void 0===this.eci?[2]:(this.Qui(),function(t){return V(t,N2)}(this.ldi)&&(this.xui.coi(this.Qst.nt),this.Qst.wn(Ey.AM,this.Pd)),r=null==(i=this.ldi)?void 0:i.yri(),this.fdi(new P2(this.Qst,this.J4t),!0,!1),r||(this.pdi=!1,(e=this.bdi(0))&&this.Qst.LP()<e+.75&&this.Qst.OP(e,{gOt:!0})),d4(this.oa)&&(this.wci=!0,this.oa.wn(Ey.TM,this.kdi)),[4,this.Edi()]);case 1:return s.sent(),this.Oui(),[2,t.prototype.i3t.call(n)]}})}).call(this)},i.Edi=function(){return Vt(function(){var t;return zt(this,function(n){switch(n.label){case 0:return[4,null==(t=this.J4t)?void 0:t.Xx()];case 1:return n.sent(),this.Wui&&this.sci&&this.Wci(),[2]}})}).call(this)},i.Wci=function(){return Vt(function(){var t;return zt(this,function(n){switch(n.label){case 0:return this.J4t?[4,this.J4t.Wci()]:[2];case 1:return n.sent(),null==(t=this.Qoi)||t.Bhi(!0),[2]}})}).call(this)},i.xpt=function(){var n=this;return Vt(function(){var i;return zt(this,function(r){switch(r.label){case 0:return this.Sci=!0,this.pdi=!0,this.Sdi=!0,this.fdi(void 0,!1,!0),[4,null==(i=this.J4t)?void 0:i.kn()];case 1:return r.sent(),this.Pdi=void 0,this.J4t=void 0,this.Kai=void 0,this.oa.mn(Ey.TM,this.kdi),[4,t.prototype.xpt.call(n)];case 2:return r.sent(),[2]}})}).call(this)},i.kn=function(){var n=this;return Vt(function(){var i;return zt(this,function(r){switch(r.label){case 0:return this.cdi(),[4,null==(i=this.J4t)?void 0:i.kn()];case 1:return r.sent(),[4,t.prototype.kn.call(n)];case 2:return r.sent(),[2]}})}).call(this)},i.$x=function(n){if(void 0!==this.ldi)switch(n.type){case eh.uo:if(!this.Sdi)return this.Sdi=!0,!0;this.Sci=!0;break;case eh.jw:if(this.UP&&void 0!==this.eci)return!0;break;case Ey.TM:if(!this.Sci||this.wci)return!0;this.Sci=!1;break;case Ey.SM:if(this.wci)return!0;this.Sci=!0;break;case eh.$w:if(!this.pdi||this.wci)return!0;break;case eh.Zw:if(!this.pdi||this.wci)return this.pdi=!0,!0;break;case eh.Bw:if(void 0!==this.eci)return!0}return t.prototype.$x.call(this,n)},Nt(n,[{key:"zst",get:function(){return this.Qst.zst}}]),n}(r4);function d4(t){var n=t.zst.Wo()===yT.FULLSCREEN&&M0(t.Cd);return t.mq.XL||n}zb(function(t){return t.Cd.ads.theoads?On.w_||On.S_||On.D_?new u4(t):new v4(t):new a4(t)},Hb.ont),F(),Et(),Bt();var l4=function(){function t(){}var n=t.prototype;return n.qz=function(t){return p$(t)},n.x3t=function(t,n,i){},n.M6=function(t,n,i,r){},n.sj=function(t){var n={integration:mS.THEOADS,adTagParameters:zn(t.adTagParameters)?t.adTagParameters:{},useId3:Boolean(t.useId3)};return qn(t.networkCode)&&(n.networkCode=Xw(t.networkCode)),qn(t.customAssetKey)&&(n.customAssetKey=Xw(t.customAssetKey)),qn(t.backdropDoubleBox)&&(n.backdropDoubleBox=Xw(t.backdropDoubleBox)),qn(t.backdropLShape)&&(n.backdropLShape=Xw(t.backdropLShape)),qn(t.overrideLayout)&&(n.overrideLayout=function(t){switch(t){case"single":case"l-shape":case"double":case"single-if-mobile":return t;default:return}}(t.overrideLayout)),qn(t.retrievePodIdURI)&&(n.retrievePodIdURI=Xw(t.retrievePodIdURI)),qn(t.sseEndpoint)&&(n.sseEndpoint=Xw(t.sseEndpoint)),qn(t.streamActivityMonitorId)&&(n.streamActivityMonitorId=Xw(t.streamActivityMonitorId)),Yn(t.initializationDelay)&&(n.initializationDelay=Ww(t.initializationDelay)),qn(t.daiAssetKey)&&(n.daiAssetKey=Xw(t.daiAssetKey)),n},Nt(t,[{key:"P3t",get:function(){return UZ.ont}}]),t}();yS.Ng.zz(new l4),F(),Et(),F(),Et(),Wt(),Dt(),Qt(),F(),Et(),Wt(),Bt(),Dt(),Qt(),F(),Et(),Bt(),Dt(),F(),Et();var w4=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).hu=void 0,n}return Ct(n,t),Nt(n,[{key:"Ca",get:function(){return this.hu||(this.hu=function(t){return{get casting(){return t.bJ},get state(){return t.Ylt},start:function(){t.Qx()},stop:function(){t.Kx()},addEventListener:function(n,i){var r=Gw(n,Xw);t.wn(r,i)},removeEventListener:function(n,i){var r=Gw(n,Xw);t.mn(r,i)}}}(this)),this.hu}}]),n}(th),g4=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).fpt=void 0,e.oa=void 0,e.CY=void 0,e.Ra=US.UNAVAILABLE,e.Mdi=new hr,e.Bdi=void 0,e.Ldi=void 0,e.Odi=void 0,e.Fdi=void 0,e.Cdi=function(){var t,n=null==(t=e.CY.nu())?void 0:t.sources.filter(sT);(null==n?void 0:n.some(Nb))?e.Ua(US.AVAILABLE):e.Ua(US.UNAVAILABLE)},e.handleAirplayChangedEvent=function(){e.oa&&e.oa.KP?e.Ndi():e.Ylt===US.CONNECTED&&e.Udi()},e.handleAirplayPlayerTimeUpdate=function(t){e.Ldi=t.currentTime,e.Odi=e.CY.CP},e.fpt=n,e.CY=i,e.Bdi=r,e.Bdi.we(),i.aO(r),e.Idi(),e}Ct(n,t);var i=n.prototype;return i.Idi=function(){this.Rdi(),this.fpt.wn(eh.do,this.Cdi),this.Ua(US.AVAILABLE)},i.Rdi=function(){this.oa&&this.oa.mn(eh.yw,this.handleAirplayChangedEvent),this.Ddi?this.oa=this.CY:this.oa=this.Bdi,this.oa.wn(eh.yw,this.handleAirplayChangedEvent)},i.Ndi=function(){return Vt(function(){var t,n,i;return zt(this,function(r){switch(r.label){case 0:return this.oa?this.Ddi?[3,2]:(this.Ldi=this.CY.MP,this.Odi=this.CY.CP,this.Bdi.wn(eh._y,this.handleAirplayPlayerTimeUpdate),this.Fdi=this.CY.BI,this.CY.BI=this.Bdi,this.Fdi.zx(),this.Fdi.we(),this.Bdi.be(),this.Bdi.$P=this.Fdi.$P,this.Bdi.ux=this.Fdi.ux,this.Bdi.Mx=this.Fdi.Mx,t=this.Bdi.ww(eh.Zw),this.Bdi.MP=this.Fdi.MP,[4,t]):[2];case 1:return r.sent(),this.Bdi.Gx(),this.Bdi.$P=this.Fdi.$P,this.Bdi.ux=this.Fdi.ux,this.Bdi.Mx=this.Fdi.Mx,[3,5];case 2:return this.oa.hx?[3,4]:(n=Ar(800,this.Mdi.Yg),i=this.oa.ww(eh.jw,this.Mdi.Yg),[4,ut.race([i,n]).catch(di)]);case 3:r.sent(),r.label=4;case 4:this.oa.Gx(),r.label=5;case 5:return this.Ua(US.CONNECTED),[2]}})}).call(this)},i.Udi=function(){this.Fdi?(this.Bdi.mn(eh._y,this.handleAirplayPlayerTimeUpdate),this.Fdi.$P=this.Bdi.$P,this.Fdi.ux=this.Bdi.ux,this.Fdi.Mx=this.Bdi.Mx,On.X_&&!On.ru&&this.CY.ct===1/0?this.Odi?this.Fdi.CP=this.Odi:this.Fdi.MP=1/0:this.Fdi.MP=this.Ldi,this.Odi=void 0,this.Ldi=void 0,this.Fdi.be(),this.Bdi.we(),this.Bdi.hx||this.Fdi.Gx(),this.CY.BI=this.Fdi,this.Bdi.hr(),this.Fdi=void 0):this.oa&&(this.oa.MP=this.oa.MP+1e-4);this.Ua(US.AVAILABLE)},i.preloadPlayer=function(t){if(dr(t),this.oa.Ax<Cy.Qn){var n=this.oa.ww(Ey.bM,t);return this.oa.mx=jT.VU,n}return ut.resolve()},i.Ua=function(t){t!==this.Ra&&(this.Ra=t,this.So(new c$(this.Ra)))},i.Qx=function(){this.fpt.qx(),this.Mdi.Zg(),this.Mdi=new hr,kr(_r(this.Ddi?this.Vdi(this.Mdi.Yg):this.Hdi(this.Mdi.Yg),this.Mdi))},i.Vdi=function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,this.preloadPlayer(t)];case 1:return n.sent(),this.CY.Qx(),[2]}})}).call(this)},i.Hdi=function(t){return Vt(function(){var n,i;return zt(this,function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),[4,this.Bdi.hr()];case 1:if(r.sent(),void 0===(n=this.CY.nu()))throw new y("Not possible to start Airplay without a source");return[4,this.Bdi.Ta(n,t)];case 2:return r.sent(),i=this.Bdi.ww(Ey.TM,t),this.Bdi.Gx(),[4,Tr(i,3e3)];case 3:return r.sent(),this.Bdi.zx(),dr(t),this.Bdi.Qx(),[3,5];case 4:return vr(r.sent())?[2]:[3,5];case 5:return[2]}})}).call(this)},i.Kx=function(){this.oa.Kx()},i.kn=function(){var t;this.Vo(),this.fpt.mn(eh.do,this.Cdi),this.Mdi.Zg(),this.CY.uO(this.Bdi),null==(t=this.Bdi)||t.kn()},Nt(n,[{key:"bJ",get:function(){return this.Ylt===US.CONNECTED}},{key:"Ylt",get:function(){return this.Ra}},{key:"Ddi",get:function(){return this.CY.jx()}}]),n}(w4);F(),Et(),Bt(),Dt();var _4=function(t){function n(){return t.apply(this,arguments)||this}Ct(n,t);var i=n.prototype;return i.Qx=function(){},i.Kx=function(){},Nt(n,[{key:"bJ",get:function(){return!1}},{key:"Ylt",get:function(){return US.UNAVAILABLE}}]),n}(w4);F(),Et(),Wt(),Bt(),Dt(),Ut(),Qt();var m4=function(t){function n(n,i,r,e,s,u,o){var h;return(h=t.call(this)||this).Ls=void 0,h.qdi=void 0,h.Wdi=void 0,h.fz=void 0,h.Ac=void 0,h.YL=new Jb,h.$L=new Jb,h.Gl=new Zb,h.Ls=n,h.qdi=new ix(u,o,r,1,[ig.Bk]),h.qdi.ust(n),h.Wdi=new Pb(n,h.qdi,i,r,e,s),h.Wdi.lw(h.Rs),h.YL.BI=h.Wdi.ht,h.$L.BI=h.Wdi.rt,h.Gl.BI=h.Wdi.nt,h}Ct(n,t);var i=n.prototype;return i.Jx=function(){this.Wdi.Jx()},i.tI=function(t){throw new y("Can't add a track while using AirPlay.")},i.OP=function(t,n){this.Wdi.OP(t,n)},i.jx=function(){return this.Wdi.jx()},i.Qx=function(){this.Wdi.Qx()},i.Kx=function(){this.Wdi.Kx()},i.Gx=function(){kr(this.Wdi.Gx())},i.zx=function(){this.Wdi.zx()},i.Xx=function(){return Vt(function(){return zt(this,function(t){return[2]})})()},i.nu=function(){return this.Ac},i.Ta=function(t,n){return Vt(function(){var i,r,e,s,u;return zt(this,function(o){switch(o.label){case 0:if(dr(n),this.Ac=t,tT(t.sources))i=vA({src:""});else for(r=t.sources.filter(sT),e=Lt(r);!(s=e()).done;)if(Nb(u=s.value)){i=u;break}if(!i)throw new y("Unsupported source.");return[4,this.Wdi.Ta(i,t,n)];case 1:return o.sent(),this.Az(i),[2]}})}).call(this)},i.Px=function(t,n,i){return ut.resolve()},i.xx=function(){return ut.resolve()},i.Az=function(t){this.fz!==t&&(this.fz=t,this.So(new IT(t)))},i.Wx=function(){return this.Wdi.Wx()},i.xP=function(){return[]},i.qx=function(){this.qdi.xz()},i.gr=function(t){TT(this,t)},i.mr=function(){},i.Zx=function(t){return!1},i.Yx=function(){this.Wdi.Yx()},i.hr=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.fz=void 0,this.Ac=void 0,[4,this.Wdi.hr()];case 1:return t.sent(),[2]}})}).call(this)},i.be=function(){this.Wdi.be()},i.we=function(){this.Wdi.we()},i.Hx=function(){return this.Wdi.Hx()},i.Aa=function(){return this.Wdi.Aa()},i.kn=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.Vo(),this.qdi.kn(),[4,this.Wdi.kn()];case 1:return t.sent(),this.YL.kn(),this.$L.kn(),this.Gl.kn(),[2]}})}).call(this)},Nt(n,[{key:"ht",get:function(){return this.Wdi.ht}},{key:"IP",get:function(){return this.Wdi.IP}},{key:"bt",get:function(){return this.fz}},{key:"MP",get:function(){return this.Wdi.MP},set:function(t){this.OP(t)}},{key:"CP",get:function(){return this.Wdi.CP}},{key:"ct",get:function(){return this.Wdi.ct}},{key:"xe",get:function(){return this.Ls}},{key:"UP",get:function(){return this.Wdi.UP}},{key:"lt",get:function(){return this.Wdi.lt}},{key:"WP",get:function(){return this.Wdi.WP}},{key:"zP",get:function(){return this.Wdi.zP}},{key:"jP",get:function(){return this.Wdi.jP}},{key:"KP",get:function(){return this.Wdi.KP}},{key:"Vx",get:function(){return this.Wdi.Vx}},{key:"Fx",get:function(){return this.Wdi.Fx}},{key:"JP",get:function(){return this.Wdi.JP}},{key:"$P",get:function(){return this.Wdi.$P},set:function(t){this.Wdi.$P=t}},{key:"sx",get:function(){return this.Wdi.sx}},{key:"hx",get:function(){return this.Wdi.hx}},{key:"ux",get:function(){return this.Wdi.ux},set:function(t){this.Wdi.ux=t}},{key:"_x",get:function(){return this.Wdi._x}},{key:"mx",get:function(){return this.Wdi.mx},set:function(t){this.Wdi.mx=t}},{key:"Ax",get:function(){return this.Wdi.Ax}},{key:"Sx",get:function(){return this.Wdi.Sx}},{key:"kx",get:function(){return this.Wdi.kx}},{key:"nt",get:function(){return this.Wdi.nt}},{key:"Rx",get:function(){return this.Wdi.Rx}},{key:"Bx",get:function(){return this.Wdi.Bx}},{key:"rt",get:function(){return this.Wdi.rt}},{key:"Mx",get:function(){return this.Wdi.Mx},set:function(t){this.Wdi.Mx=t}}]),n}(ih),y4=function(t){function n(n){var i;(i=t.call(this,n)||this).zdi=void 0;var r=new m4(i.Pa.xe,i.SP,i.Cd,i.Dst,i.Fx,i.Ost,i.Ql);return i.zdi=new g4(i,i.Pa,r),i.VX.PJ(i.zdi),i.wn(eh.xw,function(){i.zdi.Rdi()}),i}return Ct(n,t),n.prototype.kn=function(){var n=this;return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return this.zdi.kn(),[4,t.prototype.kn.call(n)];case 1:return i.sent(),[2]}})}).call(this)},n}(Lb);zb(function(t){return Vn.Zs.vp?new y4(t):(t.VX.PJ(new _4),t)},Hb.ant),F(),Et(),F(),Et(),Bt();var p4="VPAID",k4=function(){function t(){this.Gdi=new V0}var n=t.prototype;return n.qz=function(t){return b4(t)},n.x3t=function(n,i,r){return r.ads||(r.ads=rT({})),r.ads.vpaidMode=r.ads.vpaidMode||t.Xdi(),this.Gdi.x3t(n,i,r)},n.M6=function(n,i,r,e){!function(t){if(!b4(t))throw new y("Unknown ad integration: "+t.integration)}(n);var s=t.jdi(n,r.xe);this.Gdi.M6(s,i,r,e)},n.sj=function(t){var n=Ow(t);if(!S(n.id))return n.queryParameters||(n.queryParameters={}),n.custom&&(n.queryParameters.custom?We('"custom" parameter is redefined in queryParameters! Please use "queryParameters.custom" only!'):(n.queryParameters.custom=n.custom,delete n.custom)),n.app&&(n.queryParameters.app?We('"app" parameter is redefined in queryParameters! Please use "queryParameters.app" only!'):(n.queryParameters.app=n.app,delete n.app)),n.device&&(n.queryParameters.device?We('"device" parameter is redefined in queryParameters! Please use "queryParameters.device" only!'):(n.queryParameters.device=n.device,delete n.device)),n.user&&(n.queryParameters.user?We('"user" parameter is redefined in queryParameters! Please use "queryParameters.user" only!'):(n.queryParameters.user=n.user,delete n.user)),n.ipAddress&&(n.queryParameters.ip_addr?We('"ipAddress" parameter is redefined in queryParameters! Please use "queryParameters.ip_addr" or "ipAddress" only!'):(n.queryParameters.ip_addr=n.ipAddress,delete n.ipAddress)),n.maximumAdDuration&&(n.queryParameters.VMaxd?We('"maximumAdDuration" parameter is redefined in queryParameters! Please use "queryParameters.VMaxd" or "maximumAdDuration" only!'):(n.queryParameters.VMaxd=n.maximumAdDuration,delete n.maximumAdDuration)),n},t.jdi=function(n,i){return{integration:mS.SPOTX,sources:{src:t.Qdi(n,f.location.href,i.offsetWidth,i.offsetHeight,On.Tg)}}},t.Qdi=function(n,i,r,e,s){if(n.sources)return n.sources;var u=e,o=r;s&&0===o&&(o=320,u=180);var h={custom_skin:1,player_width:o,player_height:u};n.cacheBuster&&(h.cb=b.random()),t.Kdi(i)&&(h.content_page_url=i);var c=Yu({},h,n.queryParameters);return c[p4]||c.VPI||(c[p4]="js"),"https://search.spotxchange.com/vast/2.0/"+n.id+"?"+t.Ydi(c)},t.Kdi=function(t){return Uo(t,"http://")||Uo(t,"https://")},t.Ydi=function(t){return ZJ(t)},t.Xdi=function(){return On.N_?UA.ENABLED:UA.INSECURE},Nt(t,[{key:"P3t",get:function(){return this.Gdi.P3t}}]),t}();function b4(t){return"spotx"===t.integration}yS.Ng.zz(new k4),F(),Et(),F(),Et(),Dt(),F(),Et(),Wt(),Bt(),Dt(),H(),Ut(),Qt(),F(),Et();var A4=b.PI/180,T4=180/b.PI,S4=function(){function t(t,n){this.x=void 0,this.y=void 0,this.x=t||0,this.y=n||0}var n=t.prototype;return n.qy=function(t,n){return this.x=t,this.y=n,this},n.Ift=function(t){return this.x=t.x,this.y=t.y,this},n.Jdi=function(t){return this.qy(t[0],t[1])},n.Zdi=function(){var t=new Float32Array(2);return t[0]=this.x,t[1]=this.y,t},n.$di=function(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this},t}(),E4=function(){function t(t,n,i){this.x=void 0,this.y=void 0,this.z=void 0,this.x=t||0,this.y=n||0,this.z=i||0}var n=t.prototype;return n.qy=function(t,n,i){return this.x=t,this.y=n,this.z=i,this},n.Ift=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},n.Jdi=function(t){return this.qy(t[0],t[1],t[2])},n.Zdi=function(){var t=new Float32Array(3);return t[0]=this.x,t[1]=this.y,t[2]=this.z,t},n.V=function(){return b.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},n.tli=function(){var t=this.V();if(0!==t){var n=1/t;this.ili(n)}else this.x=0,this.y=0,this.z=0;return this},n.ili=function(t){this.x*=t,this.y*=t,this.z*=t},n.eli=function(t){var n=this.x,i=this.y,r=this.z,e=t.x,s=t.y,u=t.z,o=t.w,h=o*n+s*r-u*i,c=o*i+u*n-e*r,a=o*r+e*i-s*n,f=-e*n-s*i-u*r;return this.x=h*o+f*-e+c*-u-a*-s,this.y=c*o+f*-s+a*-e-h*-u,this.z=a*o+f*-u+h*-s-c*-e,this},n.sli=function(t){return this.x*t.x+this.y*t.y+this.z*t.z},n.nli=function(t,n){var i=t.x,r=t.y,e=t.z,s=n.x,u=n.y,o=n.z;return this.x=r*o-e*u,this.y=e*s-i*o,this.z=i*u-r*s,this},t}(),I4=function(){function t(t,n,i,r){this.x=void 0,this.y=void 0,this.z=void 0,this.w=void 0,this.x=t||0,this.y=n||0,this.z=i||0,this.w=void 0!==r?r:1}var n=t.prototype;return n.qy=function(t,n,i,r){return this.x=t,this.y=n,this.z=i,this.w=r,this},n.Ift=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w,this},n.Jdi=function(t){return this.qy(t[0],t[1],t[2],t[3])},n.Zdi=function(){var t=new Float32Array(4);return t[0]=this.x,t[1]=this.y,t[2]=this.z,t[3]=this.w,t},n.sli=function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},n.VF=function(t){return this.rli(this,t)},n.rli=function(t,n){var i=t.x,r=t.y,e=t.z,s=t.w,u=n.x,o=n.y,h=n.z,c=n.w;return this.x=i*c+s*u+r*h-e*o,this.y=r*c+s*o+e*u-i*h,this.z=e*c+s*h+i*o-r*u,this.w=s*c-i*u-r*o-e*h,this},n.hli=function(){return this.x*=-1,this.y*=-1,this.z*=-1,this.tli(),this},n.oli=function(){var t,n,i,r=this.x,e=this.y,s=this.z,u=this.w,o=r*e+s*u;if(o>.499)t=2*b.atan2(r,u),n=b.PI/2,i=0;else if(o<-.499)t=-2*b.atan2(r,u),n=-b.PI/2,i=0;else{var h=r*r,c=e*e,a=s*s;t=b.atan2(2*e*u-2*r*s,1-2*c-2*a),n=b.asin(2*o),i=b.atan2(2*r*u-2*e*s,1-2*h-2*a)}return new R4(t,i,n)},n.tli=function(){var t=b.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return 0===t?(this.x=0,this.y=0,this.z=0,this.w=1):(t=1/t,this.x=this.x*t,this.y=this.y*t,this.z=this.z*t,this.w=this.w*t),this},t}(),R4=function(){function t(t,n,i){this.ali=void 0,this.uli=void 0,this.cli=void 0,this.ali=t||0,this.uli=n||0,this.cli=i||0}var n=t.prototype;return n.qy=function(t,n,i){return this.ali=t,this.uli=n,this.cli=i,this},n.Ift=function(t){return this.qy(t.ali,t.uli,t.cli)},n.lO=function(t){return this.ali+=t.ali,this.uli+=t.uli,this.cli+=t.cli,this},n.lF=function(t){return this.ali-=t.ali,this.uli-=t.uli,this.cli-=t.cli,this},n.dli=function(){var t=this.ali,n=this.cli,i=this.uli,r=b.cos(t/2),e=b.cos(n/2),s=b.cos(i/2),u=b.sin(t/2),o=b.sin(n/2),h=b.sin(i/2),c=r*e,a=u*o;return new I4(c*h+a*s,u*e*s+r*o*h,r*o*s-u*e*h,c*s-a*h)},t}();F(),Et();var C4=["lli","Eot","fli","error"];F(),Et();var D4=function(t){return t.Os="unavailable",t.vli="available",t.Ya="presenting",t}({});F(),Et();var P4=function(){function t(t,n){var i=this;this.xli=void 0,this.Ls=void 0,this.We=!1,this.Cli=new S4,this.Dli=new S4,this.Ili=new S4,this.kli=!1,this._li=function(t){i.Cli.qy(t.clientX,t.clientY),i.kli=!0,t.preventDefault(),t.stopPropagation()},this.gli=function(t){t.touches&&1===t.touches.length&&(i.Cli.qy(t.touches[0].pageX,t.touches[0].pageY),i.kli=!0,t.preventDefault())},this.cr=function(t){if(i.kli||i.Rli()){if(i.Rli()){var n=t.movementX||t.mozMovementX||0,r=t.movementY||t.mozMovementY||0;i.Dli.qy(i.Cli.x-n,i.Cli.y-r)}else i.Dli.qy(t.clientX,t.clientY);i.Ili.$di(i.Dli,i.Cli),i.Cli.Ift(i.Dli),i.Eli()}},this.mli=function(t){i.kli&&(i.Dli.qy(t.touches[0].pageX,t.touches[0].pageY),i.Ili.$di(i.Dli,i.Cli),i.Cli.Ift(i.Dli),i.Eli())},this.wli=function(){i.Tli()},this.yli=function(){i.Tli()},this.Sli=function(){i.Tli()},this.xli=t,this.Ls=n}var n=t.prototype;return n.jU=function(){this.We||(this.We=!0,this.Ls.addEventListener("mousedown",this._li),this.Ls.addEventListener("touchstart",this.gli),f.addEventListener("mousemove",this.cr),f.addEventListener("touchmove",this.mli),f.addEventListener("mouseup",this.wli),f.addEventListener("touchend",this.yli),this.Ali(f))},n.QU=function(){this.We&&(this.We=!1,this.Ls.removeEventListener("mousedown",this._li),this.Ls.removeEventListener("touchstart",this.gli),f.removeEventListener("mousemove",this.cr),f.removeEventListener("touchmove",this.mli),f.removeEventListener("mouseup",this.wli),f.removeEventListener("touchend",this.yli),this.bli(f))},n.Ali=function(t){if(function(t){try{return Boolean(t)&&t===t.top}catch(t){return!1}}(t));else if(vi(t))try{t.parent.addEventListener("mouseup",this.wli),this.Ali(t.parent)}catch(n){t.document.documentElement.addEventListener("mouseleave",this.Sli)}},n.bli=function(t){if(t.document.documentElement.removeEventListener("mouseleave",this.Sli),vi(t))try{t.parent.removeEventListener("mouseup",this.wli),this.bli(t.parent)}catch(t){}},n.Tli=function(){this.kli=!1},n.Eli=function(){var t=this.xli.Pli;t.yaw+=2*b.PI*this.Ili.x*.4/this.Ls.clientWidth,t.pitch+=2*b.PI*this.Ili.y*.5/this.Ls.clientHeight,t.pitch=Ti(t.pitch,-b.PI/2,b.PI/2),this.xli.Pli=t},n.Rli=function(){return(v.pointerLockElement||v.mozPointerLockElement||v.webkitPointerLockElement)===this.Ls},n.kn=function(){this.QU()},t}();F(),Et(),Dt();var N4=function(t){function n(){return t.call(this,"fli")||this}return Ct(n,t),n.prototype.xa=function(){return new B4},n}(kw),B4=function(t){function n(){return t.call(this,"stereochange")||this}return Ct(n,t),n}(rh);F(),Et();var x4=function(){function t(){this.iZ=[0,0,0,1],this.Mli=[]}var n=t.prototype;return n.Bli=function(t){var n;(n=t).clearColor.apply(n,[].concat(this.iZ)),t.clear(t.COLOR_BUFFER_BIT)},n.Nli=function(t,n){t.clearDepth(1),t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),t.clear(t.DEPTH_BUFFER_BIT),this.Mli.forEach(function(i){i.Nli(t,n)})},n.Lli=function(t){this.Mli.push(t)},n.Oli=function(){this.Mli=[]},t}();F(),Et(),Dt(),F(),Et(),F(),Et(),Dt();var O4=function(){function t(t,n,i,r,e){this.Uli=void 0,this.$y=void 0,this.Vli=void 0,this.Vp=void 0,this.Hli=void 0,this.Wli=void 0,this.uc=void 0,this.Uli=t,this.$y=this.Fli(t,n,i),this.Vli=r,this.Vp=e,this.Hli=!1,this.Wli=0,this.uc=0}return t.prototype.Fli=function(t,n,i){var r=t.createBuffer();return null===r?(We("Failed to create buffer."),null):(t.bindBuffer(n,r),t.bufferData(n,i,t.STATIC_DRAW),r)},t}(),M4=function(t){function n(n,i,r){return t.call(this,n,n.ARRAY_BUFFER,i,r,n.FLOAT)||this}Ct(n,t);var i=n.prototype;return i.jU=function(t){if(null!==this.$y)if(null!==t){var n=this.Uli;n.bindBuffer(n.ARRAY_BUFFER,this.$y),n.vertexAttribPointer(t,this.Vli,this.Vp,this.Hli,this.Wli,this.uc),n.enableVertexAttribArray(t)}else We("Attempted to enable attribute without location.");else We("Attempted to enable buffer that failed to initialize.")},i.QU=function(t){t&&this.Uli.disableVertexAttribArray(t)},n}(O4);var L4=function(t){function n(n,i){var r;return(r=t.call(this,n,n.ELEMENT_ARRAY_BUFFER,i,1,n.UNSIGNED_SHORT)||this).zli=void 0,r.zli=i.length,r}return Ct(n,t),n.prototype.qli=function(){var t=this.Uli;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.$y),t.drawElements(t.TRIANGLES,this.zli,this.Vp,this.uc)},n}(O4);F(),Et();var U4=function(t){return t.VertexPos="aVertexPosition",t.VertexUV="aVertexUV",t.VertexColor="aVertexColor",t}({}),F4=function(t){return t.ProjectionMat="uProjectionMatrix",t.ModelViewMat="uModelViewMatrix",t.Texture="uTexture",t}({}),V4=function(t){return t.Normal="vNormal",t.Color="vColor",t.UV="vUV",t}({}),H4=function(){function t(t,n,i){this.Qli=void 0,this.Uli=void 0,this.Uli=t,this.Qli=this.Gli(this.Uli,n,i)}var n=t.prototype;return n.Gli=function(t,n,i){var r=this.Xli(t,t.VERTEX_SHADER,n),e=this.Xli(t,t.FRAGMENT_SHADER,i);if(null===r||null===e)return We("Failed to create vertex or fragment shader."),null;var s=t.createProgram();return null===s?(We("Failed to create shader program"),null):(t.attachShader(s,r),t.attachShader(s,e),t.linkProgram(s),t.getProgramParameter(s,t.LINK_STATUS)?s:(We("Failed to initialize shader program"),null))},n.Xli=function(t,n,i){var r=t.createShader(n);if(null===r)return We("failed to create shader."),null;if(t.shaderSource(r,i),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS)){var e=t.getShaderInfoLog(r);return We("Failed to compile shader with error: "+e),t.deleteShader(r),null}return r},n.jli=function(){return this.Qli},n.Kli=function(t){var n=this.Qli;if(null===n)return We("Attempted to retrieve attribute location when shader program was not initialized"),null;var i=this.Uli.getAttribLocation(n,t);return-1===i?null:i},n.Yli=function(t){var n=this.Qli;if(null===n)return We("Attempted to retrieve uniform location when shader program was not initialized"),null;var i=this.Uli.getUniformLocation(n,t);return null===i&&ze("Attempted to retrieve nonexistent uniform: "+t),i},t}(),W4=function(){function t(t,n,i){this.Zli=void 0,this.$li=void 0,this.tfi=void 0,this.Zli=t,this.$li=n,this.tfi=i}var n=t.prototype;return n.Jli=function(){var t,n=this.Zli.length,i=(t=b).max.apply(t,[].concat(this.$li));return i>=n?(ze("Created geometry where largest index ("+i+") is larger than/equal to attribute array size ("+n+")"),!1):(i<n-1&&We("Created geometry where largest index ("+i+") is smaller than attribute buffer - 1 ("+(n-1)+") resulting in unused vertices"),!this.tfi||this.tfi.length===n||(ze("Created geometry where position ("+n+") and uv ("+this.tfi.length+") buffers have different length."),!1))},n.ifi=function(t,n){if(!this.Jli())throw new y("Failed to validate buffers for WebGLGeometry.");var i=function(t,n){var i=[];return n.forEach(function(t){i.push(t.x,t.y,t.z)}),new M4(t,new Float32Array(i),3)}(t,this.Zli),r=function(t,n){return new L4(t,new Uint16Array(n))}(t,this.$li),e=function(t,n){var i=[];return n.forEach(function(t){i.push(t.x,t.y)}),new M4(t,new Float32Array(i),2)}(t,this.tfi);return new z4(i,r,e,n)},t}(),z4=function(){function t(t,n,i,r){this.Zli=void 0,this.sfi=void 0,this.tfi=void 0,this.nfi=void 0,this.$li=void 0,this.Zli=t;var e=r.Kli(U4.VertexPos);if(null===e)throw new y("Failed to get position attribute location.");this.sfi=e,this.tfi=i,this.nfi=r.Kli(U4.VertexUV),this.$li=n}var n=t.prototype;return n.efi=function(){this.Zli.jU(this.sfi),null!==this.nfi&&this.tfi.jU(this.nfi)},n.rfi=function(){this.Zli.QU(this.sfi),null!==this.nfi&&this.tfi.QU(this.nfi)},n.Nli=function(){this.$li.qli()},t}(),X4=function(t){function n(n,i,r,e,s,u,o){void 0===n&&(n=1),void 0===i&&(i=32),void 0===r&&(r=16),void 0===e&&(e=0),void 0===s&&(s=2*b.PI),void 0===u&&(u=0),void 0===o&&(o=b.PI);for(var h=0,c=b.min(u+o,b.PI),a=[],f=[],v=[],d=[],l=0;l<=r;l++){var w=[],g=l/r,_=0;0===l&&0===u?_=.5/i:l===r&&c===b.PI&&(_=-.5/i);for(var m=0;m<=i;m++){var y=m/i,p=-n*b.cos(e+y*s)*b.sin(u+g*o),k=n*b.cos(u+g*o),A=n*b.sin(e+y*s)*b.sin(u+g*o);f.push(new E4(p,k,A)),v.push(new S4(y+_,1-g)),w.push(h++)}d.push(w)}for(var T=0;T<r;T++)for(var S=0;S<i;S++){var E=d[T][S+1],I=d[T][S],R=d[T+1][S],C=d[T+1][S+1];(0!==T||u>0)&&a.push(E,I,C),(T!==r-1||c<b.PI)&&a.push(I,R,C)}return t.call(this,f,a,v)||this}return Ct(n,t),n}(W4);F(),Et(),F(),Et();var q4=[0,0,0,255,0,0,0,255,0,0,0,255,0,0,0,255],G4=function(){function t(t,n){if(this.Uli=void 0,this.afi=void 0,this.ufi=void 0,this.i2=void 0,this.dfi=void 0,this.lfi=void 0,this.ffi=void 0,this.ofi=void 0,this.Uli=t,this.afi=t.createTexture(),null===this.afi)throw new y("Failed to create texture");var i=n.Yli(F4.Texture);if(null===i)throw new y("Failed to get texture location.");this.ufi=i,t.bindTexture(t.TEXTURE_2D,this.afi),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),this.ofi=t.TEXTURE0,this.i2=0,this.dfi=t.RGBA,this.lfi=t.RGBA,this.ffi=t.UNSIGNED_BYTE,t.texImage2D(t.TEXTURE_2D,this.i2,this.dfi,2,2,0,this.lfi,this.ffi,new E(q4))}var n=t.prototype;return n.hfi=function(){var t=this.Uli;t.activeTexture(this.ofi),t.bindTexture(t.TEXTURE_2D,this.afi)},n.gr=function(){var t=this.Uli;t.activeTexture(this.ofi),t.bindTexture(t.TEXTURE_2D,this.afi),t.uniform1i(this.ufi,0)},n.cfi=function(t){var n=this.Uli;n.bindTexture(n.TEXTURE_2D,this.afi),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!0),n.texImage2D(n.TEXTURE_2D,this.i2,this.dfi,this.lfi,this.ffi,t),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!1)},n.vfi=function(t){var n=this.Uli;n.bindTexture(n.TEXTURE_2D,this.afi),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!0),t.Gst.DQ(n,n.TEXTURE_2D,this.i2,this.dfi,this.lfi,this.ffi),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!1)},t}(),j4="\n    attribute vec4 "+U4.VertexPos+";\n    attribute vec2 "+U4.VertexUV+";\n\n    uniform mat4 "+F4.ModelViewMat+";\n    uniform mat4 "+F4.ProjectionMat+";\n    \n    varying mediump vec2 "+V4.UV+";\n    \n    void main() {\n      gl_Position = "+F4.ProjectionMat+" * "+F4.ModelViewMat+" * "+U4.VertexPos+";\n      "+V4.UV+" = "+U4.VertexUV+";\n    }\n",Q4="\n    varying mediump vec2 "+V4.UV+";\n    \n    uniform sampler2D "+F4.Texture+";\n\n    void main() {\n      gl_FragColor = texture2D("+F4.Texture+", "+V4.UV+");\n    }\n",Y4=function(){function t(t){this.Uli=void 0,this.Qli=void 0,this.afi=void 0,this.Uli=t,this.Qli=new H4(t,j4,Q4),this.afi=new G4(t,this.Qli)}var n=t.prototype;return n.jli=function(){return this.Qli},n.jU=function(){this.Uli.useProgram(this.Qli.jli()),this.afi.gr()},n._fi=function(t){this.afi.cfi(t)},n.gfi=function(t){this.afi.vfi(t)},t}();F(),Et(),Bt(),F(),Et();var K4=U(an()),J4=U(fn()),Z4=(U(vn()),U(dn())),$4=(U(ln()),U(wn())),t5=U(gn()),n5=U(_n()),i5=U(mn()),r5=U(yn()),e5=function(){function t(t,n,i,r){this.wfi=void 0,this.yfi=void 0,this.Sfi=void 0,this.kfi=void 0,this.mo=new E4,this.Efi=new E4,this.mfi="none",this.yfi=i;var e=i.jli();this.wfi=n.ifi(t,e),r&&(this.mfi=r);var s=e.Yli(F4.ModelViewMat);if(null===s)throw new y("Failed to get model view matrix location.");this.Sfi=s;var u=e.Yli(F4.ProjectionMat);if(null===u)throw new y("Failed to get projection matrix location.");this.kfi=u}var n=t.prototype;return n.Nli=function(t,n){if(this.pfi(n.mfi)){this.wfi.efi(),this.yfi.jU();var i=this.Afi,r=n.bfi,e=(0,t5.default)(r,r,i);t.uniformMatrix4fv(this.Sfi,!1,e);var s=n.Tfi;t.uniformMatrix4fv(this.kfi,!1,s),this.wfi.Nli(),this.wfi.rfi()}},n.pfi=function(t){return"none"===this.mfi||"right"!==t&&"left"===this.mfi||"right"===t&&"right"===this.mfi},Nt(t,[{key:"Afi",get:function(){var t=(0,K4.default)(),n=this.mo;return(0,r5.default)(t,t,n.Zdi()),(0,i5.default)(t,t,this.Efi.x,new Float32Array([1,0,0])),(0,i5.default)(t,t,this.Efi.y,new Float32Array([0,1,0])),(0,i5.default)(t,t,this.Efi.z,new Float32Array([0,0,1])),t}}]),t}();F(),Et(),Bt();var s5=function(){function t(t){this.xfi=72*b.PI/180,this.Ifi=1.77,this.Rfi=.1,this.Cfi=100,this.mfi="none",this.Mfi=void 0,this.Lfi=void 0,this.Bfi=void 0,this.Ffi=void 0,this.Mfi=new E4,this.Lfi=new I4,this.Bfi=this.Pfi(),this.Ffi=this.Nfi(),t&&(this.mfi=t)}var n=t.prototype;return n.Pfi=function(){var t=(0,K4.default)();return(0,n5.default)(t,this.xfi,this.Ifi,this.Rfi,this.Cfi)},n.Dfi=function(){this.Bfi=this.Pfi()},n.Nfi=function(){var t=(0,K4.default)(),n=(0,Z4.default)((0,K4.default)(),this.Mfi.Zdi()),i=(0,J4.default)((0,K4.default)(),this.Lfi.Zdi());return(0,t5.default)(t,n,i),(0,$4.default)(t,t),t},n.Ofi=function(){this.Ffi=this.Nfi()},n.Ufi=function(){this.Ofi(),this.Dfi()},n.hr=function(){this.Mfi=new E4,this.Efi=new I4,this.Ufi()},n.Vfi=function(t){var n=this.Lfi.oli();n.lO(t),this.Efi=n.dli()},n.Hfi=function(t){this.Efi=t.dli()},Nt(t,[{key:"Tfi",get:function(){return new Float32Array(this.Bfi)},set:function(t){this.Bfi=t}},{key:"bfi",get:function(){return new Float32Array(this.Ffi)}},{key:"Wfi",get:function(){return this.xfi},set:function(t){this.xfi=t,this.Dfi()}},{key:"qfi",get:function(){return this.Ifi},set:function(t){this.Ifi=t,this.Dfi()}},{key:"mo",get:function(){return(new E4).Ift(this.Mfi)},set:function(t){this.Mfi=t,this.Ofi()}},{key:"Efi",get:function(){return(new I4).Ift(this.Lfi)},set:function(t){this.Lfi=t,this.Ofi()}}]),t}();F(),Et(),Dt();var u5=function(t){function n(){return t.call(this,"lli")||this}return Ct(n,t),n.prototype.xa=function(){return new o5},n}(kw),o5=function(t){function n(){return t.call(this,"directionchange")||this}return Ct(n,t),n}(rh),h5=1e-4,c5=function(t){function n(n){var i;return(i=t.call(this)||this).oa=void 0,i.Ca=void 0,i.rV=new hr,i.Jfi=!1,i.zvi=!1,i.Qvi=new I4,i.t_i=new I4,i.Kvi=new I4,i.xfi=74,i.Mvi=!1,i.YS=void 0,i.nvi=HS.NONE,i.Wvi=!1,i.qvi=WS.NONE,i.Qfi=void 0,i.ovi=void 0,i.Uli=void 0,i.hvi=new x4,i.Kfi=void 0,i.mvi=null,i.Nvi=null,i.wvi=null,i.Svi=null,i.kvi=!1,i.Evi=null,i.Dvi=null,i.Cvi=null,i.Uvi=0,i.Lvi=!1,i.Gfi=function(){var t=i.Jfi;i.Yfi().then(function(){i.Jfi?t||i.mvi||i.Nvi||i.$fi():i.ABt("Inline session not available. Panorama functionality will not work.",cd.VR_PRESENTATION_ERROR)})},i.fo=function(){var t;i.cvi(),i.vvi(),null==(t=l.xr)||t.removeEventListener("devicechange",i.Gfi);var n=i.$vi();i.YS=n,i.Hvi=Un(n),i.nvi=(null==n?void 0:n.stereoMode)||HS.NONE,i.evi=(null==n?void 0:n.panoramaMode)||WS.NONE,n&&(i.jfi(),i.$fi(),i.zfi())},i.uvi=function(){i.pvi()},i.gvi=function(){i.bvi&&(i.fvi(),i.bvi.removeEventListener("end",i.gvi),i.bvi.end().catch(di),i.bvi=null,i.Svi=null,i.kvi=!1,i.mvi?i.yvi():i.pvi())},i.bn=function(){i.avi()},i.Ivi=function(t,n){if(i.Uli){var r=i.Uli,e=i.xvi;if(null===i.Cvi&&i.Fvi()&&(i.ovi.gfi(i.oa),i.Uvi>0&&(i.Uvi-=1)),null!==e&&void 0!==n){i.Evi=e.requestAnimationFrame(i.Ivi);var s=e.renderState.baseLayer,u=n.getViewerPose(i.Xvi);if(void 0!==s&&void 0!==u){r.bindFramebuffer(r.FRAMEBUFFER,s.framebuffer);for(var o,h=new R4,c=0,a=Lt(u.views);!(o=a()).done;){var f=o.value,v=new s5(f.eye);if(v.Tfi=f.projectionMatrix,i.Bvi()){var d=void 0;if(On.Ks&&On.u_&&null===i.Nvi){if(0===(d=f.transform.inverse.orientation).x&&0===d.y&&0===d.z&&1===d.w)return}else d=f.transform.orientation;v.Efi=new I4(d.x,d.y,d.z,d.w)}i.mvi&&v.Vfi(i.Kvi.oli()),h=h.lO(v.Efi.oli()),c+=1;var l=s.getViewport(f);l&&r.viewport(l.x,l.y,l.width,l.height),i.hvi.Nli(r,v)}var w=new R4(h.ali/c,h.uli/c,h.cli);i.Qvi=w.dli(),function(t,n){var i=t.sli(n);return 1-i*i<h5}(i.Qvi,i.t_i)||(i.t_i.Ift(i.Qvi),i.So(new u5))}}}},i.jG=function(){i.Uvi=5},i.oa=n,i.Ca=function(t){var n,i={get stereo(){return t.Yvi},set stereo(n){t.Yvi=n},get useDeviceMotionControls(){return t.Jvi},set useDeviceMotionControls(n){t.Jvi=n},get direction(){return t.jvi},set direction(n){t.jvi=n},get verticalFOV(){return t.Zvi},set verticalFOV(n){t.Zvi=n},get canPresentVR(){return t.Gvi},get state(){return t.Ylt},addEventListener:function(t,i){n.wn(t,i)},removeEventListener:function(t,i){n.mn(t,i)}};return n=new hR(t,C4,i),i}(i),i.Xfi(),i}Ct(n,t);var i=n.prototype;return i.zfi=function(){l.xr?(l.xr.addEventListener("devicechange",this.Gfi),this.Gfi()):this.ABt("Your browser does not support WebXR",cd.VR_PLATFORM_UNSUPPORTED)},i.Xfi=function(){this.oa.Ma.wn(KT.pa,this.bn),this.oa.wn(hI.yn,this.bn),this.oa.wn(eh.do,this.fo),this.oa.wn(eh.Zw,this.jG)},i.jfi=function(){var t;this.Qfi||(this.Qfi=v.createElement("canvas"),this.Qfi.className="theoplayer-vr",this.Qfi.style.zIndex="2",this.Qfi.style.background="black",this.Qfi.style.display="none",this.oa.xe.appendChild(this.Qfi),ci(this.Qfi));var n=null!=(t=this.Qfi.getContext("webgl2"))?t:this.Qfi.getContext("webgl");n?(this.Uli=n,this.Kfi=new P4(this,this.Qfi)):this.ABt("Your browser does not support WebGL",cd.VR_PLATFORM_UNSUPPORTED)},i.Yfi=function(){return Vt(function(){var t;return zt(this,function(n){switch(n.label){case 0:return t=this,l.xr?[4,ut.all([l.xr.isSessionSupported("inline").then(function(n){t.Jfi=n}).catch(function(n){t.Jfi=!1,t.ABt("exception when calling xr.isSessionSupported for inline session: "+n,cd.VR_PRESENTATION_ERROR)}),l.xr.isSessionSupported("immersive-vr").then(function(n){t.Zfi=n}).catch(function(n){t.Zfi=!1,t.ABt("exception when calling xr.isSessionSupported for immersive-vr session: "+n,cd.VR_PRESENTATION_ERROR)})])]:(this.Jfi=!1,this.Zfi=!1,[2]);case 1:return n.sent(),[2]}})}).call(this)},i.$fi=function(){this.tvi&&(this.ivi(this.evi,this.nvi),this.rvi())},i.ivi=function(t,n){var i=this.Uli;if(i&&t!==WS.NONE){var r,e;this.hvi.Oli(),t===WS.PM360?(r=2*b.PI,e=-b.PI/2):(r=b.PI,e=-b.PI);for(var s=new X4(16,60,40,0,r),u=[],o=[],h=0;h<s.tfi.length;h++){var c=s.tfi[h];switch(n){case HS.NONE:u.push(c),o.push(c);break;case HS.VERTICAL:u.push(new S4(c.x,.5*c.y)),o.push(new S4(c.x,.5*c.y+.5));break;case HS.HORIZONTAL:u.push(new S4(.5*c.x,c.y)),o.push(new S4(.5*c.x+.5,c.y))}}s.Zli.forEach(function(t){t.x*=-1});var a=new W4(s.Zli,s.$li,u),f=new W4(s.Zli,s.$li,o);this.ovi=new Y4(i);var v=new e5(i,a,this.ovi,"left");v.Efi.y=e,this.hvi.Lli(v);var d=new e5(i,f,this.ovi,"right");d.Efi.y=e,this.hvi.Lli(d)}},i.rvi=function(){this.Uli&&(this.Qfi.style.display="block",this.avi(),this.oa.mn(eh.uo,this.uvi),this.Jfi&&(this.oa.hx?this.oa.wn(eh.uo,this.uvi):this.uvi()))},i.cvi=function(){this.fvi(),this.oa.mn(eh.uo,this.uvi),this.Qfi&&(this.Qfi.style.display="none")},i.vvi=function(){this._vi(),this.gvi()},i.pvi=function(){return Vt(function(){var t,n,i,r;return zt(this,function(e){switch(e.label){case 0:if(this.mvi||!this.Jfi)return[2];e.label=1;case 1:return e.trys.push([1,5,,6]),[4,gr(l.xr.requestSession("inline"),this.rV.Yg)];case 2:return t=e.sent(),n=On.Ks?On.u_?"viewer":"local":"viewer",[4,t.requestReferenceSpace(n)];case 3:return i=e.sent(),t.addEventListener("end",this._vi),this.wvi=i,this.mvi=t,this.Kfi.jU(),this.yvi(),[4,t.updateRenderState({baseLayer:new XRWebGLLayer(t,this.Uli),inlineVerticalFieldOfView:this.xfi*A4})];case 4:return e.sent(),[3,6];case 5:return r=e.sent(),this._vi(),this.ABt(r,cd.VR_PRESENTATION_ERROR),[3,6];case 6:return[2]}})}).call(this)},i._vi=function(){this.mvi&&(this.fvi(),this.Kfi.QU(),this.mvi.removeEventListener("end",this._vi),this.mvi.end().catch(di),this.mvi=null,this.avi())},i.Avi=function(){return Vt(function(){var t,n,i;return zt(this,function(r){switch(r.label){case 0:if(this.bvi||!this.Zfi)return[2];this.fvi(),r.label=1;case 1:return r.trys.push([1,5,,6]),[4,gr(l.xr.requestSession("immersive-vr"),this.rV.Yg)];case 2:return[4,(t=r.sent()).requestReferenceSpace("local")];case 3:return n=r.sent(),t.addEventListener("end",this.gvi),this.Svi=n,this.bvi=t,[4,this.Tvi()];case 4:return r.sent(),this.yvi(),[3,6];case 5:return i=r.sent(),this.gvi(),this.ABt(i,cd.VR_PRESENTATION_ERROR),[3,6];case 6:return[2]}})}).call(this)},i.Tvi=function(){return Vt(function(){var t,n,i;return zt(this,function(r){switch(r.label){case 0:return t=this,n=this.Uli,i=this.bvi,this.Qfi&&n&&i&&!this.kvi?(this.Qfi.addEventListener("webglcontextlost",function(t){t.preventDefault()}),this.Qfi.addEventListener("webglcontextrestored",function(){t.ivi(t.evi,t.nvi)}),this.kvi=!0,[4,n.makeXRCompatible()]):[2];case 1:return r.sent(),[4,i.updateRenderState({baseLayer:new XRWebGLLayer(i,n)})];case 2:return r.sent(),[2]}})}).call(this)},i.avi=function(){if(!this.bvi&&this.Uli){var t=this.Uli,n=this.Qfi.clientWidth,i=this.Qfi.clientHeight;if(0===n||0===i)return;var r=Vn.Zs.fp;this.Qfi.width=n*r,this.Qfi.height=i*r,t.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight)}},i.yvi=function(){null===this.Evi&&(this.Pvi(),this.xvi?this.Evi=this.xvi.requestAnimationFrame(this.Ivi):this.Rvi())},i.fvi=function(){null!==this.Evi&&(this.Rvi(),this.xvi&&this.xvi.cancelAnimationFrame(this.Evi),this.Evi=null)},i.Pvi=function(){var t=this;if(null===this.Cvi){var n=this.oa.Wx();if(void 0!==n&&V(n,HTMLVideoElement)&&"function"==typeof n.requestVideoFrameCallback){var i=function(){t.ovi.gfi(t.oa),t.Cvi=n.requestVideoFrameCallback(i)};this.Dvi=n,this.Cvi=n.requestVideoFrameCallback(i)}}},i.Rvi=function(){var t,n;null!==this.Cvi&&(null==(n=this.Dvi)||null==(t=n.cancelVideoFrameCallback)||t.call(n,this.Cvi),this.Dvi=null,this.Cvi=null)},i.Bvi=function(){return!!this.Nvi||(On.ru?this.Mvi&&this.Lvi:this.Mvi)},i.Ovi=function(){var t=this,n=DeviceMotionEvent.requestPermission;"function"==typeof n&&n().then(function(n){t.Lvi="granted"===n})},i.Fvi=function(){return(!this.hx()||Boolean(this.Uvi))&&this.Vvi()},i.hx=function(){return this.oa.hx},i.Vvi=function(){return this.oa.Ax>=2},i.ABt=function(t,n){this.So(new _b(new fd(n,t)))},i.$vi=function(){var t=this.oa.nu();return t&&t.vr},i.kn=function(){this.rV.Zg(),this.vvi(),this.Vo(),this.Qfi&&($n(this.Qfi),this.Qfi=void 0),this.Uli=void 0,this.Kfi&&(this.Kfi.kn(),this.Kfi=void 0),this.oa=void 0},Nt(n,[{key:"Hvi",get:function(){return this.Wvi},set:function(t){var n=this.Ylt;this.Wvi=t,this.Ylt!==n&&this.So(new s1)}},{key:"tvi",get:function(){return this.evi!==WS.NONE}},{key:"evi",get:function(){return this.qvi},set:function(t){var n=this.Ylt;this.qvi=t,this.Ylt!==n&&this.So(new s1)}},{key:"Zfi",get:function(){return this.zvi},set:function(t){var n=this.zvi;this.zvi=t,this.zvi!==n&&this.So(new s1)}},{key:"Gvi",get:function(){return this.Zfi}},{key:"xvi",get:function(){return this.bvi||this.mvi}},{key:"bvi",get:function(){return this.Nvi},set:function(t){var n=this.Ylt;this.Nvi=t,this.Ylt!==n&&this.So(new s1)}},{key:"Xvi",get:function(){return this.Svi||this.wvi}},{key:"jvi",get:function(){var t=this.Qvi.oli();return{yaw:t.ali*T4,pitch:t.uli*T4,roll:t.cli*T4}},set:function(t){var n=a5(t&&t.pitch||0)*A4,i=a5(t&&t.roll||0)*A4,r=a5(t&&t.yaw||0)*A4,e=new R4(r,n,i),s=this.Qvi.oli(),u=this.Kvi.oli();this.Qvi=e.dli(),this.Kvi=e.lF(s).lO(u).dli()}},{key:"Pli",get:function(){var t=this.Kvi.oli();return{yaw:t.ali,pitch:t.uli,roll:t.cli}},set:function(t){var n=f5(t&&t.pitch||0),i=f5(t&&t.roll||0),r=f5(t&&t.yaw||0),e=new R4(r,n,i);this.Kvi=e.dli()}},{key:"Ylt",get:function(){return this.Hvi?this.bvi?D4.Ya:D4.vli:D4.Os}},{key:"Yvi",get:function(){return null!==this.bvi},set:function(t){var n=this.Yvi;t&&this.Zfi?this.Avi():this.gvi(),this.Yvi!==n&&this.So(new N4)}},{key:"Jvi",get:function(){return this.Mvi},set:function(t){null===this.Nvi&&(this.Mvi=t,t&&On.ru&&this.Ovi())}},{key:"Zvi",get:function(){return this.xfi},set:function(t){t&&t>=0&&t<=180&&(this.xfi=t,null!==this.mvi&&this.mvi.updateRenderState({inlineVerticalFieldOfView:this.xfi*A4}))}}]),n}(th);function a5(t){return Ii(t+180,360)-180}function f5(t){return Ii(t+b.PI,2*b.PI)-b.PI}function v5(t,n){return"function"==typeof t.getAll?d5(void 0===n?t.getAll():t.getAll(n)):function(t){var n=new Vc,i=[];return t.onsuccess=function(){var r=t.result;r&&r.value?(i.push(r.value),r.continue()):n.Xy(i),ot()},t.onerror=function(){n.jy(t.error),ot()},n.Qy}(void 0===n?t.openCursor():t.openCursor(n))}function d5(t){return new ut(function(n,i){t.onsuccess=function(){n(t.result),ot()},t.onerror=function(){i(t.error),ot()}})}Vb(function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).xli=void 0,r.xli=new c5(r),r}Ct(n,t);var i=n.prototype;return i.xa=function(){return xw(t.prototype.xa.call(this),{vr:this.xli.Ca})},i.kn=function(){this.xli.kn(),t.prototype.kn.call(this)},n}(t)},Ub.lu),F(),Et(),F(),Et(),F(),Et(),Wt(),Bt(),Qt(),F(),Et(),Wt(),Qt(),F(),Et(),Wt(),Bt(),Ut(),Qt(),F(),Et(),Wt(),Qt(),St();var l5=function(){function t(t){var n=this;this.uPt=void 0,this.Qy=void 0,this.ro=void 0,this.uPt=t,this.ro=!0,this.Qy=new ut(function(t,i){n.uPt.oncomplete=function(){n.ro=!1,t(),ot()},n.uPt.onerror=function(){n.ro&&(n.ro=!1,i(n.uPt.error||new y("Transaction error")),ot())},n.uPt.onabort=function(){n.ro=!1,i(new y("Transaction aborted")),ot()}})}return t.prototype.Zg=function(){if(this.ro)try{this.uPt.abort(),this.ro=!1}catch(t){}},t}();function w5(t,n,i){return Vt(function(){var r,e,s;return zt(this,function(u){switch(u.label){case 0:r=new l5(t),u.label=1;case 1:return u.trys.push([1,3,4,5]),[4,ut.all([n(i),r.Qy])];case 2:return e=u.sent(),[2,e[0]];case 3:if(s=u.sent(),!r.ro)throw new y1("IDBTransaction committed prematurely",s);throw s;case 4:return r.Zg(),[7];case 5:return[2]}})})()}var g5=function(){function t(t,n){this.pE=void 0,this.n_i=void 0,this.pE=t,this.n_i=n}var n=t.prototype;return n.ZEt=function(t){return ut.resolve("persistent"===t)},n.zSt=function(t,n){return void 0===n&&(n="persistent"),"persistent"!==n?ut.reject(_W(n)):d5(this.s_i(mW.gPt).put(t))},n.$Et=function(t,n){return void 0===n&&(n="persistent"),Vt(function(){var i,r,e;return zt(this,function(s){switch(s.label){case 0:if("persistent"!==n)return[2,ut.reject(_W(n))];i=Lt(t),s.label=1;case 1:return(r=i()).done?[3,4]:(e=r.value,[4,this.zSt(e,n)]);case 2:s.sent(),s.label=3;case 3:return[3,1];case 4:return[2]}})}).call(this)},n.Hy=function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,this.Wy(t)];case 1:return[2,Boolean.apply(void 0,[n.sent()])]}})}).call(this)},n.Wy=function(t){return d5(this.s_i(mW._Pt).get(t))},n.tPt=function(t,n){return d5(this.s_i(mW._Pt).index(n).get(t))},n.jEt=function(t){return Vt(function(){var n,i,r,e,s;return zt(this,function(u){switch(u.label){case 0:n=[],i=Lt(t),u.label=1;case 1:return(r=i()).done?[3,4]:(e=r.value,[4,this.Wy(e)]);case 2:(s=u.sent())&&n.push(s),u.label=3;case 3:return[3,1];case 4:return[2,n]}})}).call(this)},n.iPt=function(){return v5(this.s_i(mW._Pt))},n.ePt=function(t){return v5(this.s_i(mW._Pt),t)},n.sPt=function(t,n){return v5(this.s_i(mW._Pt).index(n),t)},n._S=function(t){return d5(this.s_i(mW.gPt).delete(t))},n.nPt=function(t){return Vt(function(){var n,i,r;return zt(this,function(e){switch(e.label){case 0:n=Lt(t),e.label=1;case 1:return(i=n()).done?[3,4]:(r=i.value,[4,this._S(r)]);case 2:e.sent(),e.label=3;case 3:return[3,1];case 4:return[2]}})}).call(this)},n.rPt=function(){return d5(this.s_i(mW.gPt).clear())},n.s_i=function(t){if(!this.n_i)throw new y("Lock was released");if(!function(t,n){return t===mW._Pt&&n===mW._Pt||n===mW.gPt}(t,this.n_i.mode))throw new y("Incompatible transaction mode: "+this.n_i.mode+", expected "+t);return this.n_i.objectStore(this.l)},n.r_i=function(){this.pE.h_i(this),this.n_i=void 0},Nt(t,[{key:"l",get:function(){return this.pE.l}}]),t}();var _5=function(){function t(t,n){this.u_i=void 0,this.l=void 0,this.LPt=void 0,this.ta=new yd,this.u_i=t,this.l=n}var n=t.prototype;return n.ZEt=function(t){return ut.resolve("persistent"===t)},n.zSt=function(t,n){return void 0===n&&(n="persistent"),"persistent"!==n?ut.reject(_W(n)):this.uPt(mW.gPt,function(n){return n.zSt(t)})},n.$Et=function(t,n){return void 0===n&&(n="persistent"),"persistent"!==n?ut.reject(_W(n)):this.uPt(mW.gPt,function(n){return n.$Et(t)})},n.Hy=function(t){return this.uPt(mW._Pt,function(n){return n.Hy(t)})},n.Wy=function(t){return this.uPt(mW._Pt,function(n){return n.Wy(t)})},n.tPt=function(t,n){return this.uPt(mW._Pt,function(i){return i.tPt(t,n)})},n.jEt=function(t){return this.uPt(mW._Pt,function(n){return n.jEt(t)})},n.iPt=function(){return this.uPt(mW._Pt,function(t){return t.iPt()})},n.ePt=function(t){return this.uPt(mW._Pt,function(n){return n.ePt(t)})},n.sPt=function(t,n){return this.uPt(mW._Pt,function(i){return i.sPt(t,n)})},n._S=function(t){return this.uPt(mW.gPt,function(n){return n._S(t)})},n.nPt=function(t){return this.uPt(mW.gPt,function(n){return n.nPt(t)})},n.rPt=function(){return this.uPt(mW.gPt,function(t){return t.rPt()})},n.QPt=function(t){return this.o_i(),this.LPt=new g5(this,t),this.LPt},n.o_i=function(){if(void 0!==this.LPt)throw new y("Already locked")},n.h_i=function(t){if(this.LPt!==t)throw new y("Incorrect lock");this.LPt=void 0},n.Zo=function(t){return this.ta.Zo(t)},n.uPt=function(t,n){var i=this;return this.Zo(function(){return i.a_i(t,n)})},n.a_i=function(t,n){return Vt(function(){var i,r;return zt(this,function(e){switch(e.label){case 0:this.o_i(),i=this.u_i.transaction(this.l,t),r=this.QPt(i),e.label=1;case 1:return e.trys.push([1,,3,4]),[4,w5(i,n,r)];case 2:return[2,e.sent()];case 3:return r.r_i(),[7];case 4:return[2]}})}).call(this)},n.c_i=function(t){this.o_i();var n=this.u_i.transaction(this.l,t);return this.QPt(n)},t.d_i=function(t,n){var i,r=new ut(function(t){i=t}),e=t.reduce(function(t,n){return t.then(function(){var t,i=new ut(function(n){t=n});return n.Zo(function(){return t(),r}).catch(di),i})},ut.resolve());return i(e.then(n)),r},t}();F(),Et(),Bt(),F(),Et(),Wt(),Qt(),F(),Et(),F(),Et(),Wt(),Bt(),Dt(),Ut(),Qt(),F(),Et(),Wt(),Qt();var m5={bD:17,l_i:function(t){return Vt(function(){var n,i,r,e;return zt(this,function(s){if(n=t.transaction,i=t.database,(r=n.objectStoreNames)&&r.length)for(e=0;e<r.length;e++)i.deleteObjectStore(r[e]);return i.createObjectStore(A5,{keyPath:"id"}),i.createObjectStore(T5,{keyPath:"key"}),i.createObjectStore(S5,{keyPath:"key"}),i.createObjectStore(E5,{keyPath:"segmentURLsegmentByteRange"}).createIndex("manifestURL","manifestURL"),i.createObjectStore(I5,{keyPath:"segmentURLsegmentByteRange"}).createIndex("manifestURL","manifestURL"),[2]})})()}},y5=function(){function t(t){this.__i=void 0,this.__i=t}return t.prototype.f_i=function(t){return Vt(function(){var n,i,r;return zt(this,function(e){switch(e.label){case 0:n=Lt(this.v_i),e.label=1;case 1:return(i=n()).done?[3,4]:(r=i.value,this.__i<r.bD?[4,r.l_i(t)]:[3,3]);case 2:e.sent(),e.label=3;case 3:return[3,1];case 4:return[2]}})}).call(this)},t}(),p5=function(t){function n(){return t.apply(this,arguments)||this}return Ct(n,t),Nt(n,[{key:"v_i",get:function(){return[m5]}}]),n}(y5),k5=function(){function t(){this.p_i=function(t){return new p5(t)}}var n=t.prototype;return n.g_i=function(t){this.p_i=t},n.Ret=function(t){return this.p_i(t)},t}(),b5=new k5,A5="cachingTask",T5="licences",S5="manifest",E5="segment",I5="segmentMetadata";function R5(){return Vt(function(){var t;return zt(this,function(n){switch(n.label){case 0:return function(){if("undefined"==typeof indexedDB)throw new y("Indexed database unavailable")}(),(t=indexedDB.open("theoplayer-cache-database",18)).addEventListener("upgradeneeded",C5),[4,d5(t)];case 1:return[2,n.sent()]}})})()}function C5(t){return Vt(function(){var n,i,r,e,s;return zt(this,function(u){switch(u.label){case 0:return n=t.oldVersion<=18?t.oldVersion:-1,i=t.target,r=i.result,e=i.transaction,s=b5.Ret(n),[4,w5(e,function(t){return s.f_i(t)},{database:r,transaction:e})];case 1:return u.sent(),[2]}})})()}var D5=function(){function t(){}return Nt(t,null,[{key:"Ng",get:function(){return this.lAt||(this.lAt=R5()),this.lAt}}]),t}();D5.lAt=void 0,F(),Et();var P5=function(){function t(t,n){this.dPt=void 0,this.ect=void 0,this.lPt=void 0,this.fPt=void 0,this.vPt=void 0,this.dPt=t.dPt.QPt(n),this.ect=t.ect.QPt(n),this.lPt=t.lPt.QPt(n),this.fPt=t.fPt.QPt(n),this.vPt=t.vPt.QPt(n)}var n=t.prototype;return n.uPt=function(t){return t(this)},n.r_i=function(){this.dPt.r_i(),this.ect.r_i(),this.lPt.r_i(),this.fPt.r_i(),this.vPt.r_i()},t}(),N5=function(){function t(t){this.u_i=void 0,this.dPt=void 0,this.ect=void 0,this.lPt=void 0,this.fPt=void 0,this.vPt=void 0,this.u_i=t,this.dPt=new _5(t,I5),this.ect=new _5(t,E5),this.lPt=new _5(t,S5),this.fPt=new _5(t,A5),this.vPt=new _5(t,T5)}var n=t.prototype;return n.uPt=function(t){var n=this,i=this.allCollections;return _5.d_i(i,function(){return n.a_i(i,t)})},n.a_i=function(t,n){return Vt(function(){var i,r,e;return zt(this,function(s){switch(s.label){case 0:i=t.map(function(t){return t.l}),r=this.u_i.transaction(i,mW.gPt),e=new P5(this,r),s.label=1;case 1:return s.trys.push([1,,3,4]),[4,w5(r,n,e)];case 2:return[2,s.sent()];case 3:return e.r_i(),[7];case 4:return[2]}})}).call(this)},t.Ret=function(){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,D5.Ng];case 1:return[2,new t(n.sent())]}})})()},Nt(t,[{key:"allCollections",get:function(){return[this.ect,this.dPt,this.lPt,this.fPt,this.vPt]}}]),t}();SW.Ba(N5.Ret),F(),Et(),Bt(),Dt(),F(),Et();var B5=function(t){function n(n,i){var r;return(r=t.call(this)||this).e_i=void 0,r.Ust=void 0,r.hu=void 0,r.e_i=n,r.Ust=i,r.e_i.wn("Eot",r.Rs),r}return Ct(n,t),n.prototype.i_i=function(t,n,i){var r,e;if(void 0===i&&(i="persistent"),!t)throw new y("Unexpected - The source description is undefined");if(r=oE(t),e=c2(n),jS(r))throw new y("Invalid source description");return this.e_i.Bei(r,e).Ca},Nt(n,[{key:"Ca",get:function(){return this.hu||(this.hu=function(t){var n,i={get status(){return t.hk},get tasks(){return t.Fei},get network(){return t.oX.Ca},createTask:function(n,i){return t.i_i(n,i)},addEventListener:function(t,i){n.wn(t,i)},removeEventListener:function(t,i){n.mn(t,i)}};return n=new cR(t,i),i}(this)),this.hu}},{key:"hk",get:function(){return this.e_i.hk}},{key:"Fei",get:function(){return this.e_i.Fei.Ca}},{key:"oX",get:function(){return this.Ust}}]),n}(ih);var x5=function(){var t=new GI(Vn.SP,!1),n=SW.Ng,i=new g2(t),r=new h2(n,i),e=new QI(t),s=new w1(n.fPt,r,"persistent");return new B5(s,e)}().Ca;F(),Et(),F(),Et(),Dt(),F(),Et(),Bt(),Ut();var O5=function(){function t(t){this.CY=void 0,this.hu=void 0,this.CY=t}var n=t.prototype;return n.m_i=function(t){for(var n,i=this.CY.xP(),r=t.createGain(),e=Lt(i);!(n=e()).done;){var s=n.value;t.createMediaElementSource(s).connect(r)}return r},n.xa=function(){var t=this;return{createAudioSourceNode:function(n){return t.m_i(n)}}},Nt(t,[{key:"Ca",get:function(){return this.hu||(this.hu=this.xa()),this.hu}}]),t}();Vb(function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).w_i=void 0,r.w_i=new O5(r.Pa),r}return Ct(n,t),n.prototype.xa=function(){var n=this.w_i.Ca;return xw(t.prototype.xa.call(this),{get audio(){return n}})},n}(t)},Ub.lu),F(),Et(),F(),Et(),Dt();Vb(function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).b_i=void 0,r}Ct(n,t);var i=n.prototype;return i.Ta=function(i){var r=n.y_i(this.Cd.analytics),e=n.y_i(i?i.analytics:void 0);r||e?this.A_i(Yu({},r,e)):this.b_i&&this.b_i.disable(),t.prototype.Ta.call(this,i)},i.A_i=function(t){if(this.b_i)this.b_i.enable(),this.b_i.setOptions(t);else{var n=f.youbora;if(!n)throw new y("Youbora JavaScript library not loaded.");if(!n.adapters.TheoPlayer2)throw new y("TheoPlayer2 adapter not available on Youbora JavasScript library");var i=new n.Plugin(t);i.setAdapter(new n.adapters.TheoPlayer2(this.Ca)),this.Jc&&n.adapters.TheoPlayer2.NativeAdsAdapter&&i.setAdsAdapter(new n.adapters.TheoPlayer2.NativeAdsAdapter(this.Ca)),this.b_i=i}},i.kn=function(){this.b_i&&this.b_i.disable(),t.prototype.kn.call(this)},n.y_i=function(t){if(t){var n=t.filter(function(t){return"youbora"===t.integration});if(0===n.length)return;if(n.length>1)throw new y("Only one youbora analytics configuration expected");var i=n[0];i.integration;return sp(i,["integration"])}},n}(t)},Ub.hnt),F(),Et(),F(),Et(),Dt(),Ut(),F(),Et(),Bt(),Dt();var M5=1,L5=0,U5=1e3,F5=function(t){function n(n,i,r,e,s,u){var o;return void 0===e&&(e=MMPlayerState),void 0===s&&(s=MMAdState),void 0===u&&(u=MMPresentationInfo),(o=t.call(this)||this).oa=void 0,o.YS=void 0,o.k_i=void 0,o.q_i=void 0,o.z_i=void 0,o.E_i=void 0,o.G_i=void 0,o.I_i=void 0,o.B_i=void 0,o.C_i=void 0,o.X_i=void 0,o.W_i=void 0,o.yui=void 0,o.Tui=void 0,o.jui=void 0,o.F_i=void 0,o.H_i=void 0,o.U_i=void 0,o.e8=void 0,o.V_i=void 0,o.uvi=void 0,o.GG=void 0,o.YQ=void 0,o.jG=void 0,o.qG=void 0,o.L_i=void 0,o.M_i=void 0,o.oa=n,o.YS=i,o.k_i=r,o.q_i=e,o.z_i=s,o.E_i=u,o.G_i=!0,o.I_i=!1,o.B_i=void 0,o.C_i=void 0,o.X_i=void 0,o.yui=function(t){var n,i=t.Int,r=(i.O0t(),n=i.wnt().duration,"linear"===i.wnt().type);i.F0t(),i.N0t();r&&(o.I_i=!0),o.D_i=o.z_i.AD_IMPRESSION,o.D_i=o.z_i.AD_STARTED},o.Tui=function(t){o.I_i=!1,o.D_i=o.z_i.AD_COMPLETED},o.jui=function(t){t.QJt===EJ.ADBLOCK?o.D_i=o.z_i.AD_BLOCKED:o.D_i=o.z_i.AD_ERROR},o.F_i=function(){o.D_i=o.z_i.AD_SKIPPED},o.H_i=function(t){var n,i,r,e;t.qk===ig.Bk&&(o.X_i&&t.BX!==o.X_i&&o.k_i.reportABRSwitch(o.X_i,t.BX),o.X_i=t.BX,o.k_i.reportChunkRequest(new MMChunkInformation(t.$D,t.BX,t.VN,t.uut.Yu,void 0,void 0,null!=(r=null==(n=t.uut.Sat)?void 0:n[0])?r:0,null!=(e=null==(i=t.uut.Sat)?void 0:i[1])?e:-1)))},o.U_i=function(t){o.R_i=o.q_i.STOPPED,o.So(t)},o.e8=function(t){o.R_i=o.q_i.ERROR,o.k_i.reportError(t.error,o.P_i())},o.V_i=function(){o.x_i?o.D_i=o.z_i.AD_PAUSED:o.R_i=o.q_i.PAUSED},o.uvi=function(){o.x_i&&(o.D_i=o.z_i.AD_PLAY)},o.GG=function(){o.x_i?(o.B_i===o.z_i.AD_PAUSED&&(o.D_i=o.z_i.AD_RESUMED),o.D_i=o.z_i.AD_PLAYING):(o.G_i&&(o.G_i=!1,o.S_i(),o.R_i=o.q_i.STARTED),o.R_i!==o.q_i.PAUSED&&o.R_i!==o.q_i.BUFFERING||(o.R_i=o.q_i.RESUMED))},o.YQ=function(){o.k_i.reportPresentationSize(o.oa.Bx,o.oa.Rx)},o.jG=function(t){o.x_i||o.R_i!==o.q_i.PAUSED||o.k_i.reportPlayerSeekCompleted(t.currentTime*U5)},o.qG=function(){o.x_i||(o.R_i=o.q_i.BUFFERING)},o.L_i=function(){o.k_i.reportDownloadRate(b.floor(pb.Ng.fW()))},o.M_i=function(){o.x_i||o.k_i.reportPlaybackPosition(o.P_i())},o.R_i=o.q_i.INITIALIZED,o.xNt(),o.W_i=o.N_i(),o}Ct(n,t);var i=n.prototype;return i.S_i=function(){var t=this.ct===1/0,n=t?M5:L5,i=t?-1:this.ct,r=Ji(this.oa.rt.II,this.T_i);this.k_i.setPresentationInformation(new this.E_i(n,i,r))},i.T_i=function(t){for(var n=t.KI.II,i=[],r=0;r<n.length;r++){var e=n[r];e.Ti&&e.Mi&&i.push({trackIdx:r,bitrate:e.kW,width:e.Ti,height:e.Mi,codecIdentifier:e.frt})}return i},i.P_i=function(){return this.oa.LP()*U5},i.N_i=function(){var t=this;return _(function(){t.M_i(),t.L_i()},n.O_i)},i.xNt=function(){this.oa.Jc&&(this.oa.Jc.wn("Bnt",this.yui),this.oa.Jc.wn("Nnt",this.Tui),this.oa.Jc.wn("H3t",this.jui),this.oa.Jc.wn("T4t",this.F_i)),this.oa.wn(eh.Bw,this.U_i),this.oa.wn(zm.ma,this.e8),this.oa.wn(eh.jw,this.V_i),this.oa.wn(eh.uo,this.uvi),this.oa.wn(Ey.TM,this.GG),this.oa.wn(eh.Jw,this.YQ),this.oa.wn(eh.Zw,this.jG),this.oa.wn(Ey.SM,this.qG),this.oa.wn(eh.oy,this.H_i)},i.INt=function(){this.oa.Jc&&(this.oa.Jc.mn("Bnt",this.yui),this.oa.Jc.mn("Nnt",this.Tui),this.oa.Jc.mn("H3t",this.jui),this.oa.Jc.mn("T4t",this.F_i)),this.oa.mn(eh.Bw,this.U_i),this.oa.mn(zm.ma,this.e8),this.oa.mn(eh.jw,this.V_i),this.oa.mn(eh.uo,this.uvi),this.oa.mn(Ey.TM,this.GG),this.oa.mn(eh.Jw,this.YQ),this.oa.mn(eh.Zw,this.jG),this.oa.mn(Ey.SM,this.qG),this.oa.mn(eh.oy,this.H_i)},i.kn=function(){m(this.W_i),this.INt()},Nt(n,[{key:"ct",get:function(){return this.oa.Nd()*U5}},{key:"x_i",get:function(){return this.I_i}},{key:"R_i",get:function(){return this.C_i},set:function(t){this.C_i=t,t&&this.k_i.reportPlayerState(t)}},{key:"D_i",set:function(t){this.B_i=t}}]),n}(fg);F5.O_i=2e3,Vb(function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Q_i=void 0,r.K_i=void 0,r.Y_i=function(){r.K_i=void 0,r.j_i();var n=t.prototype.nu.call(RW(r));n&&(r.K_i=function(t,n){var i=function(t,n){if(t&&t.analytics)for(var i,r=Lt(t.analytics);!(i=r()).done;){var e=i.value;if("smartsight"===e.integration)return e}if(n&&n.analytics)for(var s,u=Lt(n.analytics);!(s=u()).done;){var o=s.value;if("smartsight"===o.integration)return o}return}(t,n);if(!i)return;return i}(n,r.Cd)),r.J_i()},r.J_i=function(){if(!r.Q_i&&r.K_i&&r.bt&&r.bt.src&&!r.hx){var t=MMSmartStreaming.getInstance();!function(t,n,i){t.registerMMSmartStreaming(i.playerName,i.customerID,i.subscriberID,i.domainName),t.reportComponent("THEOSDK"),t.reportPlayerInfo("THEOplayer","THEOplayer","10.0.0"),t.reportDeviceInfo(void 0,void 0,void 0,void 0,void 0,f.innerWidth,f.innerHeight),t.initializeSession("QBRModeDisabled",n,i.metaURL,i.assetID)}(t,r.bt.src,r.K_i),r.Q_i=new F5(r,r.K_i,t),r.Q_i.wn("ended",r.j_i)}},r.j_i=function(){r.Q_i&&(r.Q_i.kn(),r.Q_i=void 0)},r.wn(eh.do,r.Y_i),r.wn(eh.xw,r.J_i),r.wn(eh.uo,r.J_i),r}return Ct(n,t),n.prototype.kn=function(){t.prototype.kn.call(this),this.j_i()},n}(t)},Ub.hnt),F(),Et(),F(),Et(),Bt(),Dt(),Ut();var V5=String.fromCharCode(95);var H5=function(){function t(n,i,r,e){var s=this;this.hu=void 0,this.hS=void 0,this.ari=void 0,this.Z_i=void 0,this.Q1t=void 0,this.tgi=void 0,this.$_i=void 0,this.Zf=void 0,this.sgi=function(n){s.rgi({type:t.hgi(n.type)})},this.hS=n,this.ari=i,this.Z_i=r,this.Q1t=e,this.tgi=[],this.Zf=[]}var n=t.prototype;return n.egi=function(){for(var t in google.ima.AdEvent.Type){var n=google.ima.AdEvent.Type[t];this.ari.addEventListener(n,this.sgi),this.tgi.push({type:n,listener:this.sgi})}},n.ngi=function(){for(var t in Yi(this.tgi),google.ima.AdEvent.Type){var n=google.ima.AdEvent.Type[t];this.ari.removeEventListener(n,this.sgi)}},n.rgi=function(t){this.Zf.push({type:t.type,adVolume:this.adsManager.getVolume()})},n.igi=function(){null==this.$_i||this.$_i.call(this,this.Zf),this.Zf=[]},t.hgi=function(n){return t.ogi[n]||n},Nt(t,[{key:"Ca",get:function(){return this.hu||(this.hu=function(t){return{get adsManager(){return t.adsManager},get ids(){return t.ids},get adContainer(){return t.adContainer},get imaSDK(){return t.imaSDK},get sendEvent(){return t.sendEvent},set sendEvent(n){t.sendEvent=n}}}(this)),this.hu}},{key:"id",get:function(){return this.hS}},{key:"adsManager",get:function(){return this.ari}},{key:"ids",get:function(){return this.Z_i}},{key:"adContainer",get:function(){return this.Q1t}},{key:"sendEvent",get:function(){return this.$_i},set:function(t){for(var n,i=Lt(this.tgi);!(n=i()).done;){var r=n.value;this.ari.removeEventListener(r.type,r.listener)}this.tgi=[],this.$_i=t,this.igi()}},{key:"imaSDK",get:function(){return!0}}]),t}();H5.ogi={loaded:"AdLoaded",impression:"AdImpression",start:"AdVideoStart",firstQuartile:"AdVideoFirstQuartile",midpoint:"AdVideoMidpoint",thirdQuartile:"AdVideoThirdQuartile",complete:"AdVideoComplete",pause:"AdPaused",skip:"AdSkipped",volumeChange:"AdVolumeChange"};var W5=function(){function t(){this.ugi=void 0,this.cgi=void 0}var n=t.prototype;return n.agi=function(t,n){this.ugi=v.createElement("script"),this.ugi.id=t.id,this.ugi.type="text/javascript",t.adContainer.appendChild(this.ugi),this.ugi.src="https://z.moatads.com/"+n+"/moatvideo.js#"+t.id,this.cgi=t.id,f[this.cgi]=t.Ca},n.dgi=function(){this.ugi&&$n(this.ugi),this.cgi&&(f[this.cgi]=void 0)},t}();Vb(function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Agi=void 0,r.ggi=void 0,r.ygi=void 0,r.fgi=void 0,r.Q1t=void 0,r._gi=function(){r.wgi(r.fgi,{partnerCode:r.ggi.partnerCode,viewMode:google.ima.ViewMode.NORMAL},r.Q1t)},r.Iti=function(t){r.fgi=t.hri,r.Q1t=t.fii,r.lgi(),r.fgi.addEventListener(google.ima.AdEvent.Type.COMPLETE,r.vgi),r.fgi.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,r.lgi),r.fgi.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,r._gi)},r.vgi=function(t){var n=t.getAd().getAdPodInfo();n.getAdPosition()<n.getTotalAds()&&(r.lgi(),r._gi())},r.lgi=function(){r.ygi&&(r.ygi.ngi(),r.ygi=void 0),r.Agi.dgi()},r.Agi=new W5,r}Ct(n,t);var i=n.prototype;return i.Ta=function(i){var r,e,s;this.lgi(),null==(r=this.fgi)||r.removeEventListener(google.ima.AdEvent.Type.COMPLETE,this.vgi),null==(e=this.fgi)||e.removeEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.lgi),null==(s=this.fgi)||s.removeEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this._gi),this.fgi=void 0,this.Q1t=void 0,t.prototype.Ta.call(this,i);var u=i&&i.analytics;this.ggi=n.pgi(u),this.Jc&&this.ggi&&F0()&&this.mgi()},i.kn=function(){var n,i,r;this.lgi(),null==(n=this.fgi)||n.removeEventListener(google.ima.AdEvent.Type.COMPLETE,this.vgi),null==(i=this.fgi)||i.removeEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.lgi),null==(r=this.fgi)||r.removeEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this._gi),this.fgi=void 0,this.Q1t=void 0,this.Jc&&this.Jc.mn("xti",this.Iti),t.prototype.kn.call(this)},i.mgi=function(){this.Jc&&this.Jc.wn("xti",this.Iti)},i.wgi=function(t,n,i){var r=V5+"moatApi"+b.floor(1e8*b.random());this.ygi=new H5(r,t,n,i),this.ygi.egi(),this.Agi.agi(this.ygi,this.ggi.partnerCode)},n.pgi=function(t){if(t){var n=t.filter(function(t){return"moat"===t.integration});if(0===n.length)return;if(n.length>1)throw new y("Only one Moat analytics configuration expected");return n[0]}},n}(t)},Ub.hnt),F(),Et(),F(),Et(),F(),Et(),Wt(),Bt(),Dt(),Qt(),F(),Et(),Wt(),Bt(),Ut(),Qt();var z5="urn:google:dai:2018",X5=function(){function t(t,n,i,r,e){var s=this;this.oa=void 0,this.bgi=void 0,this.cai=void 0,this.kgi=void 0,this.Pgi=void 0,this.aui=void 0,this.JW=void 0,this.ZW=void 0,this.m7=new hr,this.Dgi=!1,this.Sgi=!0,this.Rgi=function(t){var n=t.Ht;n.Lt===Ym.VU&&(n.Km===Dg.ID3||n.Km===Dg.EVENT_STREAM&&n.ZI===z5)&&(n.Xk=Hm.JI,s.aui=n,n.wn(Dw.hI,s.Bgi))},this.Bgi=function(t){t.TO.wn(Lg.zL,s.Ngi)},this.Ngi=function(t){var n,i;if(s.cai)if((null==(n=s.aui)?void 0:n.Km)===Dg.ID3){var r=t.TO.U;"TXXX"===r.id&&s.cai.Pai({TXXX:r.text})}else if((null==(i=s.aui)?void 0:i.Km)===Dg.EVENT_STREAM){var e=t.TO.U;s.cai.xai(z5,e,t.XF)}},this.oa=t,this.cai=n,this.kgi=i,this.bgi=r,this.Pgi=e,i&&n&&this.oa.Jc&&this.oa.Jc.Ent(i.N9t)}var n=t.prototype;return n.OP=function(t){this.m7.Zg(),this.m7=new hr,kr(_r(this.gri(t,this.m7.Yg),this.m7))},n.gri=function(t,n){return Vt(function(){var i,r;return zt(this,function(e){switch(e.label){case 0:return dr(n),this.kgi&&this.cai?this.kgi.ynt&&!this.Pgi?[2]:(i=this.oa.LP(),this.Sgi&&(r=this.cai.Rai(t,i))?(this.oa.Egi(r),[4,this.cai.ww(C3.AD_BREAK_ENDED,n)]):[3,2]):[2,this.oa.Egi(t)];case 1:if(e.sent(),this.cai.Iai(t).PO>t)return[2];e.label=2;case 2:return this.oa.Egi(t),[2]}})}).call(this)},n.Tx=function(){var t=this.kgi&&this.kgi.ynt;if(t){var n=TA.jn(this.oa.xgi()),i=t._Ot,r=i+t.p0t,e=new TA([i,r]);return n.Mn(e)._s()}return this.oa.xgi()},n.Xnt=function(t,n){return Vt(function(){var i,r,e;return zt(this,function(s){switch(s.label){case 0:if(!t)return[2,this.oa.Igi(t,n)];i=t,s.label=1;case 1:return s.trys.push([1,3,,4]),this.oa.nt.wn(Sw.eI,this.Rgi),[4,this.bgi.Cgi(t,n)];case 2:return i=s.sent(),this.kgi&&this.cai&&(this.Dgi=!0),[3,4];case 3:if(lr(r=s.sent()),r.code===sg.LICENSE_INVALID)return[2];throw e=new fd(cd.SOURCE_NOT_SUPPORTED,"Something went wrong while setting up a Google DAI stream.",r),this.JW=hg(e),this.ZW=e,this.oa.So(new _b(e)),e;case 4:return[4,this.oa.Igi(i,n)];case 5:return s.sent(),[2]}})}).call(this)},n.hr=function(){if(this.Dgi){if(this.oa.nt.mn(Sw.eI,this.Rgi),this.aui){this.aui.mn(Dw.hI,this.Bgi);for(var t,n=Lt(this.aui.L.II);!(t=n()).done;){t.value.mn(Lg.zL,this.Ngi)}this.aui=void 0}this.JW=void 0,this.ZW=void 0,this.m7.Zg(),this.kgi&&this.kgi.hr(),this.cai&&this.cai.hr(),this.Dgi=!1}},n.kn=function(){this.hr(),this.oa.Ogi(),this.cai&&this.cai.kn()},Nt(t,[{key:"Ca",get:function(){var t=this,n=this.bgi;return{contentTimeForStreamTime:function(n){return t.cai?t.cai.lai(n):n},streamTimeForContentTime:function(n){return t.cai?t.cai.fai(n):n},replaceAdTagParameters:function(n){t.cai&&t.cai.replaceAdTagParameters(n)},get snapback(){return t.Sgi},set snapback(n){t.Sgi=n},get sourceTransformer(){return n.Tgi},set sourceTransformer(t){n.Tgi=t}}}},{key:"lt",get:function(){return this.JW||this.oa.Mgi()}},{key:"WP",get:function(){return this.ZW||this.oa.Lgi()}}]),t}();F(),Et(),Bt(),Dt(),Ut(),F(),Et(),Bt(),Dt();var q5=function(t){function n(n,i,r,e){var s;return void 0===e&&(e=!0),(s=t.call(this,r)||this).Ugi=void 0,s.Ugi=e,s.J3t=n,s.Z3t=i,s}return Ct(n,t),Nt(n,[{key:"Fgi",get:function(){return this.Ugi}},{key:"MZt",get:function(){return UZ.so}}]),n}(P$),G5=function(t){function n(n,i){var r;return(r=t.call(this,new DI,UZ.so)||this).cai=void 0,r.oa=void 0,r.gai=void 0,r.mai=void 0,r.Hgi=void 0,r.kai=void 0,r.cai=n,r.oa=i,r.gai=function(t){var n=r.G0t;if(n&&r.M0t){var i=t.uai.Dai;r.M0t.v9t=i.MP,function(t,n){var i=n.i7t,r=n.t7t,e=n.MP,s=Pi(t.Jc.slice(0,i-1),function(t){var n;return null!=(n=t.ct)?n:0});t.m0t=r-e-s}(n,i)}},r.mai=function(t){var n=t.uai.Bai;if(n)for(var i,e=Lt(n);!(i=e()).done;){var s=i.value;if(!r.Xgi(s.EO)){var u=s.PO-s.EO,o=new q5(u,u,s.EO,!0);r.X0t.push(o)}}},r.Hgi=function(t){r.qgi(t.type),r.Ggi(t)},r.kai=function(t){r.L9t=!1,r.M0t=void 0;var n=r.ynt;n&&(n.m0t=0,r.zgi(t.type,!1,!1),r.G0t=void 0)},r.Vgi(),r}Ct(n,t);var i=n.prototype;return i.Vgi=function(){var t=[C3.STARTED,C3.FIRST_QUARTILE,C3.MIDPOINT,C3.THIRD_QUARTILE,C3.COMPLETE];this.cai.wn(t,this.Hgi),this.cai.wn(C3.AD_BREAK_ENDED,this.kai),this.cai.wn(C3.AD_PROGRESS,this.gai),this.cai.wn(C3.CUEPOINTS_CHANGED,this.mai)},i.Wgi=function(t){var n=t.V7t._Ot,i=this.G0t||this.findAdBreakWithPredicate(n,function(t){return!t._x});if(!i){var r=t.V7t.p0t;n=this.oa.LP(),(i=new q5(r,r,n,!1)).t4t(),this.X0t.push(i)}return i},i.qgi=function(t){switch(t){case C3.STARTED:this.L9t=!0;break;case C3.AD_BREAK_ENDED:this.L9t=!1}},i.zgi=function(t,n,i){if(n)switch(t){case C3.STARTED:case C3.FIRST_QUARTILE:case C3.MIDPOINT:case C3.THIRD_QUARTILE:case C3.COMPLETE:this.M3t.So(new Vx(this.G0t))}if(i)switch(t){case C3.STARTED:case C3.FIRST_QUARTILE:case C3.MIDPOINT:case C3.THIRD_QUARTILE:case C3.COMPLETE:this.M3t.So(new Wx(this.M0t,this.M0t.v9t))}switch(t){case C3.COMPLETE:this.M3t.So(new Xx(this.M0t,this.B9t.v9t));break;case C3.AD_BREAK_ENDED:this.M3t.So(new Ux(this.ynt))}switch(t){case C3.FIRST_QUARTILE:this.M3t.So(new j$(this.M0t,this.B9t.v9t));break;case C3.MIDPOINT:this.M3t.So(new Y$(this.M0t,this.B9t.v9t));break;case C3.THIRD_QUARTILE:this.M3t.So(new J$(this.M0t,this.B9t.v9t))}},i.Ggi=function(t){var n=t.Int,i=this.Wgi(n),r=function(t,n){if(t.Jc.length)return!1;for(var i=0;i<n;i++){var r=new b0(t,B$.hZt);t.e4t(r)}return!0}(i,n.V7t.e7t),e=function(t,n){var i=n.V7t.i7t-1;return t.Jc[i]}(i,n),s=function(t,n){return t.d4t!==x$.READY&&(t.A9t(n),!0)}(e,n);this.M0t=e,this.G0t=i,i.t4t(),this.zgi(t.type,r,s)},i.Xgi=function(t){for(var n,i=Lt(this.X0t);!(n=i()).done;){var r=n.value;if(Ei(t,r._Ot))return r}},i.findAdBreakWithPredicate=function(t,n){for(var i,r=Lt(this.X0t);!(i=r()).done;){var e=i.value;if(Ei(e._Ot,t)&&n(e))return e}},i.Qgi=function(t,n){for(var i,r,e=Lt(this.X0t);!(r=e()).done;){var s=r.value;s._Ot>=t&&s._Ot<=n&&!s._x&&(!i||s._Ot>=i._Ot)&&(i=s)}return i},i.rD=function(){},i.knt=function(t){},i.hr=function(){this.M0t&&(this.M3t.So(new Xx(this.M0t,this.M0t.v9t)),this.M0t=void 0),this.G0t&&(this.M3t.So(new Ux(this.G0t)),this.G0t=void 0),this.L9t=!1,Yi(this.X0t)},i.kn=function(){this.hr(),this.M3t.kn()},i.Snt=function(t){},Nt(n,[{key:"G3t",get:function(){return this.L9t}},{key:"M3t",get:function(){return this.s5t}},{key:"jgi",get:function(){var t=this.findAdBreakWithPredicate(0,function(t){return t.Fgi}),n=0;return t&&(n=t.p0t),n}}]),n}(I0);F(),Et(),Wt(),Ut(),Qt();var j5=function(){function t(t){this.cai=void 0,this.Tgi=void 0,this.cai=t,this.Tgi=function(t){return t}}var n=t.prototype;return n.Cgi=function(t,n){return Vt(function(){var i,r,e,s,u,o,h,c,a,f;return zt(this,function(v){switch(v.label){case 0:for(i=[],r=[],e=Lt(t.sources);!(s=e()).done;)if(qA(u=s.value)){if(!this.cai)continue;i.push(u)}else r.push(u);if(0===i.length)return[2,t];v.label=1;case 1:return void 0!==o||0===i.length?[3,7]:[4,qT.Ng.cz(i,t)];case 2:c=v.sent().Mc,a=c,dr(n),v.label=3;case 3:return v.trys.push([3,5,,6]),[4,this.Kgi(a,n)];case 4:return o=v.sent(),r.push(o),[3,6];case 5:return lr(f=v.sent()),h=f,Xi(i,a),[3,6];case 6:return[3,1];case 7:if(0!==t.sources.length&&0===r.length)throw new y("Fatal: unable to play DAI streams.");return h&&We(h.message),[2,Yu({},t,{sources:r})]}})}).call(this)},n.Kgi=function(t,n){return Vt(function(){var i,r,e,s,u,o;return zt(this,function(h){switch(h.label){case 0:if(!this.cai)throw new y("Could not find Google\u2019s IMA DAI HTML5 SDK, all DAI sources will be ignored.");return i=this.cai.ww(C3.LOADED,n),r=this.cai.ww(C3.ERROR,n),e=t.type===hA.cR?"dash":"hls",this.cai.AHt(Yu({},t.ssai,{format:e})),[4,ut.race([i,r])];case 1:return(s=h.sent()).type!==C3.LOADED?[3,5]:(u=t.type===hA.cR?hA.cR:hA.lR,this.Tgi?[4,this.Tgi(s.uai.Yu||"")]:[3,3]);case 2:return o=h.sent(),[3,4];case 3:o=s.uai.Yu,h.label=4;case 4:return[2,vA(Yu({},t,{src:o,type:u}))];case 5:throw y(s.uai.Nai);case 6:return[2]}})}).call(this)},t}();Vb(function(t){return function(n){return function(n){function i(i,r){var e;(e=n.call(this,i,r)||this).Ygi=void 0,e.Jgi=!1,e.Y1t=void 0,e.$gi=void 0,e.Zgi=function(t){13===t.which&&e.Y1t.click(),e.zx()};var s,u,o,h=e.Wx(),c=r.ads.googleIma.useAdUiElementForSsai,a=null!=(s=r.ads.googleIma.allowSeekingForGoogleDai)&&s;try{var f;c?(e.$gi=v.createElement("div"),ci(e.$gi),e.$gi.className="theo-dai-ad-ui"):(e.Y1t=v.createElement("button"),e.Y1t.className="theo-dai-clickthrough"),u=t(h,e.Y1t,e.$gi),o=new G5(u,e);var d=null!=(f=e.Y1t)?f:e.$gi;d&&e.xe.appendChild(d),e.Jgi=!0}catch(t){e.Y1t=void 0,e.$gi=void 0}var l=new j5(u);return e.Ygi=new X5(e,u,o,l,a),e.Y1t&&(e.Y1t.addEventListener("keydown",e.Zgi),e.Y1t.addEventListener("click",e.Zgi)),e}Ct(i,n);var r=i.prototype;return r.xa=function(){var t=n.prototype.xa.call(this),i=t.ads;if(i){var r=this.Ygi.Ca;xw(i,{get dai(){return r}})}return t},r.Egi=function(t){n.prototype.OP.call(this,t)},r.OP=function(t,n){this.Ygi.OP(t)},r.xgi=function(){return n.prototype.Tx.call(this)},r.Tx=function(){return this.Ygi.Tx()},r.Ta=function(t){return this.Ygi.hr(),n.prototype.Ta.call(this,t)},r.Igi=function(t,i){var r=this;return Vt(function(){return zt(this,function(e){return[2,n.prototype.Xnt.call(r,t,i)]})})()},r.Xnt=function(t,n){return Vt(function(){return zt(this,function(i){return[2,this.Ygi.Xnt(t,n)]})}).call(this)},r.Mgi=function(){return n.prototype.HP.call(this)},r.Lgi=function(){return n.prototype.qP.call(this)},r.HP=function(){return this.Ygi.lt},r.qP=function(){return this.Ygi.WP},r.Ogi=function(){n.prototype.kn.call(this)},r.kn=function(){this.Ygi.kn(),this.Y1t&&($n(this.Y1t),this.Y1t.removeEventListener("keydown",this.Zgi),this.Y1t.removeEventListener("click",this.Zgi),this.Y1t=void 0),this.$gi&&($n(this.$gi),this.$gi=void 0)},Nt(i,[{key:"Kl",get:function(){return this.Jgi}}]),i}(n)}}(function(t,n,i){if(!(f.google&&f.google.ima&&zn(f.google.ima.dai)))throw new y("Could not find Google\u2019s IMA DAI HTML5 SDK, all DAI sources will be ignored.");var r=Q3(),e=new google.ima.dai.api.StreamManager(t,i),s=Q3();return new z3(e,n,s&&s!==r?s:void 0)}),Ub.rnt),F(),Et(),F(),Et(),Dt(),Ut(),F(),Et(),Bt();var Q5=function(){function t(t,n){var i=this;this.oa=void 0,this.rpi=void 0,this.spi=void 0,this.mpi=void 0,this.lpi=void 0,this.wpi=void 0,this.vpi=void 0,this.Ppi=void 0,this.gpi=void 0,this.bpi=void 0,this.ipi=void 0,this.uvi=void 0,this.U_i=void 0,this.qui=void 0,this.hpi=void 0,this.opi=void 0,this.e8=void 0,this.upi=void 0,this.hNt=void 0,this.Spi=void 0,this.oa=t,this.rpi=n,this.mpi=!1,this.lpi=!1,this.wpi=[],this.vpi=-1/0,this.gpi=!1,this.uvi=function(){i.mpi||(i.rpi.xpi(),i.gpi&&i.rpi.Api(),i.mpi=!0)},this.U_i=function(){i.rpi.Ipi(),i.lpi=!0},this.qui=function(){i.vpi<i.oa.LP()&&(i.vpi=i.oa.LP()),i.kpi()},this.hpi=function(){i.mpi&&(i.Ppi=performance.now(),i.rpi.Rpi(i.oa.LP()))},this.opi=function(){i.Ppi&&(i.rpi.Cpi((performance.now()-i.Ppi)/1e3),i.Ppi=void 0)},this.e8=function(){i.vpi<i.oa.LP()&&(i.vpi=i.oa.LP()),i.rpi.urt(i.oa.HP().message)},this.upi=function(){var t=i.oa.Nd()===1/0;t&&!i.gpi&&(i.gpi=t,i.ypi())},this.hNt=function(){i.rpi.fpi(i.vpi),i.rpi.Dpi()},this.Spi=function(){void 0!==i.ipi&&i.rpi.Bpi(i.tpi)}}var n=t.prototype;return n.epi=function(t){this.spi=t,this.rpi.npi(t),this.oa.wn(eh.uo,this.uvi),this.oa.wn(eh.Bw,this.U_i),this.oa.wn(eh._y,this.qui),this.oa.wn(zm.ma,this.e8),this.oa.wn(Ey.SM,this.hpi),this.oa.wn([Ey.wM,Ey.yM,Ey.TM],this.opi),this.oa.wn(eh.Rw,this.upi),f.addEventListener("beforeunload",this.hNt)},n.cpi=function(){this.oa.mn(eh.uo,this.uvi),this.oa.mn(eh.Bw,this.U_i),this.oa.mn(eh._y,this.qui),this.oa.mn(zm.ma,this.e8),this.oa.mn(Ey.SM,this.hpi),this.oa.mn([Ey.wM,Ey.yM,Ey.TM],this.opi),this.oa.mn(eh.Rw,this.upi),f.removeEventListener("beforeunload",this.hNt),this.lpi||(this.rpi.fpi(this.vpi),this.rpi._pi()),this.gpi&&this.ppi(),this.spi=void 0,this.mpi=!1,this.lpi=!1,this.vpi=-1/0,Yi(this.wpi)},n.ypi=function(){this.mpi&&this.rpi.Api(),this.ipi=performance.now(),this.bpi=_(this.Spi,6e4)},n.ppi=function(){this.rpi.Tpi(this.tpi),this.gpi=!1,this.ipi=void 0,this.bpi&&(m(this.bpi),this.bpi=void 0)},n.kpi=function(){if(!S(this.oa.Nd())){var t=10*function(t,n){return b.floor(t/n)}(this.oa.LP()/this.oa.Nd()*100,10);ji(this.wpi,t)||(this.wpi.push(t),this.rpi.Epi(t))}},Nt(t,[{key:"tpi",get:function(){return void 0===this.ipi?0:(performance.now()-this.ipi)/1e3}}]),t}();F(),Et();var Y5=function(){function t(){}var n=t.prototype;return n.npi=function(t){this.Npi(["setDocumentTitle",t.itemTitle]),this.Npi(["setCustomUrl","https://content.streamone.net/embed/cust=Xo9oT45EptMG/account="+t.accountID+"/item="+t.itemID]),this.Npi(["trackPageView"])},n.xpi=function(){this.Mpi("item first play","viewing","1")},n._pi=function(){this.Mpi("item skipped","skipped","1")},n.Epi=function(t){this.Mpi("item progress","percent",""+t)},n.Dpi=function(){this.Mpi("item abandoned","window closed","1")},n.fpi=function(t){this.Mpi("item time","watched",""+t)},n.Ipi=function(){this.Mpi("item finished","ended","1")},n.Rpi=function(t){this.Mpi("buffering started","timestamp",""+t)},n.Cpi=function(t){this.Mpi("buffering ended","duration",""+t)},n.urt=function(t){this.Mpi("error","message",""+t)},n.Api=function(){this.Mpi("livestream first play","viewing","1")},n.Bpi=function(t){this.Mpi("livestream progress","duration",""+t)},n.Tpi=function(t){this.Mpi("livestream time","watched",""+t)},n.Mpi=function(t,n,i){this.Npi(["trackEvent","Video",t,n,i])},n.Npi=function(t){var n="undefined"!=typeof _paq?_paq:void 0;n?n.push(t):console.warn("The Piwik library required for the StreamOne pre-integration was not found. Make sure it is loaded before instantiating THEOplayer.")},t}();F(),Et(),Bt();var K5=function(){function t(t,n,i){var r=this;this.oa=void 0,this.qc=void 0,this.rpi=void 0,this.Opi=void 0,this.Upi=void 0,this.yui=void 0,this.Tui=void 0,this.F_i=void 0,this.jui=void 0,this.qui=void 0,this.hNt=void 0,this.oa=t,this.qc=n,this.rpi=i,this.Upi=[],this.yui=function(){r.Opi=r.oa.Nd(),r.rpi.Vpi(r.Opi)},this.Tui=function(){r.Opi&&(r.rpi.Hpi(r.Opi),Yi(r.Upi),r.Opi=void 0)},this.F_i=function(t){if(r.Opi){var n=r.Opi-r.Opi*t.b4t;r.rpi.Wpi(n),r.Opi=void 0}},this.jui=function(){r.Opi=r.oa.Nd(),r.rpi.qpi()},this.qui=function(){var t=r.Lpi;if(r.Fpi&&t&&!ji(r.Upi,t)){switch(t){case 1:r.rpi.zpi();break;case 2:r.rpi.Gpi();break;case 3:r.rpi.Xpi();break;case 4:r.rpi.jpi()}r.Upi.push(t)}},this.hNt=function(){r.rpi.Qpi()}}var n=t.prototype;return n.epi=function(){this.qc.wn("Bnt",this.yui),this.qc.wn("Nnt",this.Tui),this.qc.wn("T4t",this.F_i),this.qc.wn("H3t",this.jui),this.oa.wn(eh._y,this.qui),f.addEventListener("beforeunload",this.hNt)},n.cpi=function(){this.qc.mn("Bnt",this.yui),this.qc.mn("Nnt",this.Tui),this.qc.mn("T4t",this.F_i),this.qc.mn("H3t",this.jui),this.oa.mn(eh._y,this.qui),Yi(this.Upi),f.removeEventListener("beforeunload",this.hNt),this.Opi=void 0},Nt(t,[{key:"Lpi",get:function(){if(this.Opi){var t=this.oa.LP()/this.Opi;return b.floor(4*t)+1}}},{key:"Fpi",get:function(){return void 0!==this.Opi}}]),t}();F(),Et();var J5=function(){function t(t){this.rpi=void 0,this.rpi=t}var n=t.prototype;return n.Vpi=function(t){this.rpi.Mpi("ad start","duration",""+t)},n.Hpi=function(t){this.rpi.Mpi("ad finished","duration",""+t)},n.Wpi=function(t){this.rpi.Mpi("ad skipped","remaining time",""+t)},n.qpi=function(){this.rpi.Mpi("ad blocker","detected","1")},n.zpi=function(){this.rpi.Mpi("ad progress","firstQuartile","")},n.Gpi=function(){this.rpi.Mpi("ad progress","secondQuartile","")},n.Xpi=function(){this.rpi.Mpi("ad progress","thirdQuartile","")},n.jpi=function(){this.rpi.Mpi("ad progress","fourthQuartile","")},n.Qpi=function(){this.rpi.Mpi("ad abandoned","window closed","1")},t}();function Z5(t){return t&&"streamone"===t.integration}Vb(function(t){return function(t){function n(n,i){var r;(r=t.call(this,n,i)||this).Ypi=void 0,r.Jpi=void 0,r.Kpi=!1,r.fo=function(){r.Kpi&&(r.Ypi.cpi(),r.Jpi&&r.Jpi.cpi());var t=r.nu();if(r.Kpi=!1,t){var n=function(t){if(t.analytics)for(var n,i=Lt(t.analytics);!(n=i()).done;){var r=n.value;if(Z5(r))return r}}(t);n&&(r.Kpi=!0,r.Ypi.epi(n),r.Jpi&&r.Jpi.epi())}};var e=new Y5;if(r.Ypi=new Q5(r,e),r.Jc){var s=new J5(e);r.Jpi=new K5(r,r.Jc,s)}return r.wn(eh.do,r.fo),r}return Ct(n,t),n.prototype.kn=function(){this.mn(eh.do,this.fo),this.Kpi&&(this.Ypi&&this.Ypi.cpi(),this.Jpi&&this.Jpi.cpi(),this.Kpi=!1),t.prototype.kn.call(this)},n}(t)},Ub.hnt),F(),Et(),F(),Et(),Wt(),Dt(),Ut(),Qt(),F(),Et(),Wt(),Bt(),Dt(),H(),Qt(),F(),Et(),Bt(),Dt(),F(),Et(),Dt(),F(),Et(),Wt(),Dt(),Qt();var $5=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).tmi=void 0,r.imi=void 0,r.tmi=i,r.imi=void 0,r}Ct(n,t);var i=n.prototype;return i.z2=function(n,i,r){var e=this;return Vt(function(){var s;return zt(this,function(u){switch(u.label){case 0:return[4,t6(n)];case 1:return s=u.sent(),[4,t.prototype.z2.call(e,s,i,r)];case 2:return u.sent(),this.Zpi(s,i),[2]}})}).call(this)},i.H2=function(n,i,r){var e=this;return Vt(function(){var s;return zt(this,function(u){switch(u.label){case 0:return[4,t6(n)];case 1:return s=u.sent(),[4,t.prototype.H2.call(e,s,i,r)];case 2:return u.sent(),this.Zpi(s,i),[2]}})}).call(this)},i.Zpi=function(t,n){var i=this.tmi.$pi;if(void 0!==i){var r,e=n.i2;if(this.imi!==e&&(this.imi=e,i.setLevelSwitching(e),i.setContainerFormat(2)),function(t){return Mn.call(t,"xet")}(n)){var s=n.xet,u=n.xet+n.ct;r=n.bU,i.newPts(s,u,"video",e)}else 0;i.appendBuffer(t.ck,"video",e,r)}},i._S=function(n,i,r){var e=this;return Vt(function(){var s;return zt(this,function(u){switch(u.label){case 0:return[4,t.prototype._S.call(e,n,i,r)];case 1:return u.sent(),null==(s=this.tmi.$pi)||s.flushBuffer(n,i),[2]}})}).call(this)},n}(_O);function t6(t){return Vt(function(){var n;return zt(this,function(i){switch(i.label){case 0:switch(t.Km){case FR.vZ:return[3,1];case FR.BT:return[3,2];case FR._Z:return[3,4]}return[3,5];case 1:return[2,t];case 2:return[4,Yd(t.ck)];case 3:return n=i.sent(),[2,{Km:FR.vZ,ck:new E(n)}];case 4:throw new y("Opaque initialization segments are not supported on web.");case 5:return[2]}})})()}var n6=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).tmi=void 0,r.tmi=i,r.grt(n),r}return Ct(n,t),n.prototype.mrt=function(t){return t.B3===ig.Bk?new $5(t,this.tmi):new _O(t)},n}(wO),i6=function(t){function n(n){var i;(i=t.call(this,n)||this).nmi=void 0,i.emi=void 0,i.hmi=!1,i.omi=function(t){i.hmi||(t||i.qq("LCEVC SDK failed to initialize."),i.smi())},i.ami=function(){i.hmi||i.qq("LCEVC SDK failed to initialize.")},i.nmi=v.createElement("canvas"),ci(i.nmi),i.nmi.style.display="none";var r,e=n.$W;return e.parentElement.insertBefore(i.nmi,null!=(r=e.nextSibling)?r:null),LCEVCdec.ready.then(i.omi,i.ami),i}Ct(n,t);var i=n.prototype;return i.smi=function(){this.emi=new LCEVCdec.LCEVCdec(this.$W,this.nmi,{})},i.be=function(){t.prototype.be.call(this),this.rmi()},i.we=function(){t.prototype.we.call(this),this.nmi.style.display="none"},i.hr=function(){return this.nmi.style.display="none",void 0!==this.emi&&(this.emi.close(),this.smi()),t.prototype.hr.call(this)},i.zg=function(){return this.hmi=!0,void 0!==this.emi&&(this.emi.close(),this.emi=void 0),$n(this.nmi),t.prototype.zg.call(this)},i.qq=function(t){this.So(new CD(new ug(sg.ABORTED,t)))},i.rmi=function(){this.TL.$W.style.display="none",this.nmi.style.display="block"},i.Xrt=function(t){return new n6(t,this)},i.Grt=function(t){return new pO(t)},Nt(n,[{key:"$pi",get:function(){return this.emi}}]),n}(kO(AO)),r6=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).umi=void 0,n}Ct(n,t);var i=n.prototype;return i.Gq=function(n){return n===ig.Bk?(this.umi=new i6(t.prototype.Gq.call(this,n)),this.umi):t.prototype.Gq.call(this,n)},i.Pq=function(n){var i=this,r=function(){return t.prototype.Pq};return Vt(function(){var t;return zt(this,function(e){switch(e.label){case 0:return V(n,i6)?(this.umi=void 0,[4,(t=n).zg()]):[3,3];case 1:return e.sent(),[4,r().call(i,t.Nrt)];case 2:return e.sent(),[3,5];case 3:return[4,r().call(i,n)];case 4:e.sent(),e.label=5;case 5:return[2]}})}).call(this)},Nt(n,[{key:"cmi",get:function(){return this.umi}}]),n}(vO),e6=function(t){function n(n,i,r,e,s,u,o){var h,c=new r6(s),a=new IO(c),f=a.Gq(u);return(h=t.call(this,n,i,r,e,f,o)||this).xq=void 0,h.vmi=void 0,h.lmi=function(t){t.Ht.wn(Dw.TI,h.dmi)},h.fmi=function(t){t.Ht.mn(Dw.TI,h.dmi)},h.dmi=function(t){var n,i=null==(n=h.vmi.cmi)?void 0:n.$pi,r=t.kot.jI;null==i||i.setCurrentLevel(r)},h.xq=a,h.vmi=c,h.$L.wn(Sw.eI,h.lmi),h.$L.wn(Sw.nI,h.fmi),h}return Ct(n,t),n.prototype.kn=function(){var n=this;return Vt(function(){var i,r;return zt(this,function(e){switch(e.label){case 0:for(i=Lt(this.$L.II);!(r=i()).done;)r.value.mn(Dw.TI,this.dmi);return this.rt.mn(Sw.eI,this.lmi),this.rt.mn(Sw.nI,this.fmi),[4,t.prototype.kn.call(n)];case 1:return e.sent(),[4,this.TL.zg()];case 2:return e.sent(),[4,this.xq.Pq(this.TL)];case 3:return e.sent(),[2]}})}).call(this)},n}(EW),s6=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Kq=kb._W,n}Ct(n,t);var i=n.prototype;return i.PR=function(t,n,i,r,e,s,u){var o=n;return $W.LS()&&(o=new $W(o)),new e6(i,r,e,s,o,ig.Bk,t)},i.Xq=function(n){var i=this;return Vt(function(){return zt(this,function(r){switch(r.label){case 0:return n.lcevc?[4,t.prototype.Xq.call(i,n)]:[2,!1];case 1:if(!r.sent())return[2,!1];if(void 0===f.LCEVCdec)throw new fd(cd.CONFIGURATION_ERROR,"LCEVC SDK is not loaded.");return[2,!0]}})})()},i.Qq=function(){return!1},n}(hO);XT(new s6),F(),Et(),Wt(),Dt(),Ut(),Qt();var u6=function(t){function n(n,i,r,e,s){var u,o=new r6(n),h=new IO(o),c=h.Gq(ig.Bk);(u=t.call(this,c,i,r,e,s)||this).xq=void 0,u.vmi=void 0,u.lmi=function(t){t.Ht.wn(Dw.TI,u.dmi)},u.fmi=function(t){t.Ht.mn(Dw.TI,u.dmi)},u.dmi=function(t){var n,i=null==(n=u.vmi.cmi)?void 0:n.$pi,r=t.kot.UMt.jI;null==i||i.setCurrentLevel(r)},u.xq=h,u.vmi=o;var a=u.rt;return a.wn(Sw.eI,u.lmi),a.wn(Sw.nI,u.fmi),u}return Ct(n,t),n.prototype.kn=function(){var n=this;return Vt(function(){var i,r,e;return zt(this,function(s){switch(s.label){case 0:for(i=this.rt,r=Lt(i.II);!(e=r()).done;)e.value.mn(Dw.TI,this.dmi);return i.mn(Sw.eI,this.lmi),i.mn(Sw.nI,this.fmi),[4,t.prototype.kn.call(n)];case 1:return s.sent(),[4,this.xq.Pq(this.TL)];case 2:return s.sent(),[2]}})}).call(this)},n}(dK),o6=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Kq=kb.wW,n}Ct(n,t);var i=n.prototype;return i.PR=function(t,n,i,r,e,s,u){return new u6(n,i,e,s,r)},i.Xq=function(n,i){if(!n.lcevc)return!1;if(!t.prototype.Xq.call(this,n,i))return!1;if(void 0===f.LCEVCdec)throw new fd(cd.CONFIGURATION_ERROR,"LCEVC SDK is not loaded.");return!0},i.Qq=function(){return!1},n}(wK);XT(new o6),F(),Et(),F(),Et(),Bt(),Ut(),F(),Et(),Wt(),Bt(),Dt(),Qt(),F(),Et();var h6=function(t){return t._mi="hr",t.gmi="pmi",t}({}),c6="freewheel-nonlinear-ad",a6=[eh.Rw,eh._y,eh.gy,eh.jw,Ey.TM,eh.uo],f6=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this,n,i)||this).wmi=void 0,u.JW=void 0,u.ZW=void 0,u.Yit=void 0,u.xq=void 0,u.TL=void 0,u.Ami=function(t){var n=t.Int,i="Bnt"===t.type;if(n.l4t===B$.a4t){var r=u.oa.xe.classList;i?r.add(c6):r.remove(c6)}i?u.be():u.we()},u.ymi=function(){u.n5t(),u.oa.zx(),u.oa.we()},u.Sni=function(){u.wmi.Dmi&&(u.oa.UP||u.oa.Gx(),u.we(),u.oa.be(),u.i3t())},u.wmi=e,u.xq=r,u.TL=s,u.Yit=s.$W,u.Yit.controls=!1,u.mmi(),u.Smi(),u.kmi(),u}Ct(n,t);var i=n.prototype;return i.qx=function(){this.xq.xz()},i.mmi=function(){this.wmi.wn("Dnt",this.ymi),this.wmi.wn(["Bnt","Nnt"],this.Ami),this.wmi.wn("Cnt",this.Sni)},i.bmi=function(){this.wmi.mn("Dnt",this.ymi),this.wmi.mn(["Bnt","Nnt"],this.Ami),this.wmi.mn("Cnt",this.Sni)},i.Smi=function(){this.M3t.au(this.wmi.Tmi)},i.kmi=function(){this.wmi.Emi.wn(a6,this.Rs)},i.Pmi=function(){this.wmi.Emi.mn(a6,this.Rs)},i.knt=function(t){},i.LP=function(){return this.wmi.Emi.MP},i.OP=function(t,n){},i.Nd=function(){return this.wmi.Emi.ct},i.VP=function(){return this.wmi.Emi.UP},i.HP=function(){return this.JW},i.qP=function(){return this.ZW},i.Cx=function(){return 0},i.Nx=function(){return 0},i.Lx=function(){return this.wmi.Emi.Mx},i.Ox=function(t){this.wmi.Emi.Mx=t},i.tx=function(){return this.wmi.Emi.$P},i.ix=function(t){this.wmi.Emi.$P=t},i.bx=function(){return this.wmi.Emi.Ax},i.Tx=function(){return this.wmi.Emi.Sx},i.ox=function(){return this.wmi.Emi.hx},i.F3t=function(t){if(this.G3t||this.wmi.F3t(t),this.wmi.xmi){if(t.type===eh.jw&&this.oa.UP)return!0;if(t.type===eh.Bw)return this.wmi.Rmi.Imi(),!0}return!1},i.we=function(){this.wmi.we()},i.zx=function(){this.hx||this.wmi.Emi.zx()},i.Cmi=function(){return Vt(function(){var t;return zt(this,function(n){switch(n.label){case 0:if(this.wmi.Dmi)return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wmi.C6t()];case 2:return n.sent(),[3,4];case 3:return t=n.sent(),this.Bmi(t,EJ.GENERAL),[3,4];case 4:return[2]}})}).call(this)},i.Nmi=function(){return Vt(function(){var t;return zt(this,function(n){switch(n.label){case 0:return this.wmi.Emi.Dhi?(this.wmi.Emi.Gx(),[2,!1]):[3,1];case 1:if(!this.wmi.Mmi)return[3,5];n.label=2;case 2:return n.trys.push([2,4,,5]),[4,this.wmi.Rmi.Lmi()];case 3:return n.sent(),[3,5];case 4:return t=n.sent(),this.Bmi(t,EJ.PLAYBACK),[3,5];case 5:return[2,!0]}})}).call(this)},i.Bmi=function(t,n){t.name!==h6._mi&&this.M3t.So(new R$(n,"Ads could not be loaded."))},i.Gx=function(){return Vt(function(){var t;return zt(this,function(n){switch(n.label){case 0:return this.hx&&this.So(new cT(this.MP)),[4,this.Cmi()];case 1:return n.sent(),this.Omi?[2]:[4,this.Nmi()];case 2:return t=n.sent(),!this.Omi&&t&&this.Sni(),[2]}})}).call(this)},i.K9t=function(t,n,i){n===Sx.pnt&&this.wmi.K9t(t)},i.be=function(){this.wmi.be()},i.rD=function(){this.wmi.Emi.rD()},i.Snt=function(t){},i.Wx=function(){return this.Yit},i.xP=function(){return this.xq.Bz.map(function(t){return t.$W})},i.K3t=function(t){},i.kn=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return[4,this.Xx()];case 1:return t.sent(),this.wmi.kn(),[4,this.xq.Pq(this.TL)];case 2:return t.sent(),this.bmi(),this.Pmi(),this.M3t.CK(this.wmi.Tmi),[2]}})}).call(this)},i.Xx=function(){return Vt(function(){return zt(this,function(t){return this.wmi.hr(),this.G3t&&(this.oa.be(),this.i3t(),this.we()),[2]})}).call(this)},Nt(n,[{key:"B3t",get:function(){return this}},{key:"C3t",get:function(){return n.C3t}},{key:"ynt",get:function(){var t;return null!=(t=this.wmi.Tmi.ynt)?t:null}},{key:"mnt",get:function(){var t=this.wmi.Tmi.B9t;return t?[t]:[]}},{key:"Ant",get:function(){return this.wmi.Tmi.Ant}},{key:"bnt",get:function(){return this.wmi.Tmi.bnt}},{key:"Omi",get:function(){return Un(this.HP())}}],[{key:"C3t",get:function(){return UZ.H0t}}]),n}(r0);F(),Et(),Wt(),Bt(),Dt(),Qt(),F(),Et(),Wt(),Bt(),Dt(),Ut(),Qt(),F(),Et(),Bt(),Dt();var v6=function(t){function n(n,i,r,e){var s;return(s=t.call(this,r)||this).Umi=void 0,s.Hmi=void 0,s.f4t=void 0,s.Umi=e,s.Hmi=0,s.f4t=l6(e),s.J3t=n,s.Z3t=i,s}return Ct(n,t),Nt(n,[{key:"Fmi",get:function(){return this.Umi}},{key:"Vmi",get:function(){return this.Jc[this.Hmi]}},{key:"Wmi",get:function(){return this.Hmi},set:function(t){this.Hmi=t}},{key:"l4t",get:function(){return this.f4t}},{key:"MZt",get:function(){return UZ.H0t}}]),n}(P$);F(),Et(),Bt(),Dt();var d6=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).zmi=void 0,e.zmi=r,e}return Ct(n,t),n.prototype.xa=function(){return M$(this)},Nt(n,[{key:"qmi",get:function(){return this.zmi},set:function(t){this.zmi!==t&&(this.zmi=t)}},{key:"Mi",get:function(){return this.od.Fmi.getHeight()}},{key:"Ti",get:function(){return this.od.Fmi.getWidth()}},{key:"AYt",get:function(){return this.qmi.getEventCallbackUrls(tv.freewheel.SDK.EVENT_AD_CLICK,tv.freewheel.SDK.EVENT_TYPE_CLICK)[0]}},{key:"MZt",get:function(){return UZ.H0t}}]),n}(O$);function l6(t){return t.getTimePositionClass()===tv.freewheel.SDK.TIME_POSITION_CLASS_OVERLAY?B$.a4t:B$.hZt}var w6=function(t){function n(i,r){var e;return(e=t.call(this)||this).Ls=void 0,e._T=void 0,e.lwi=void 0,e.fwi=void 0,e._wi=void 0,e.vwi=void 0,e.Jmi=void 0,e.$mi=void 0,e.ewi=void 0,e.swi=void 0,e.G0t=void 0,e.M0t=void 0,e.Xmi=void 0,e.jmi=void 0,e.rwi=void 0,e.hwi=void 0,e.owi=void 0,e.awi=void 0,e.Ewi=void 0,e.uwi=void 0,e.Ls=i,e._T=r,e.lwi=tv.freewheel.SDK.TIME_POSITION_CLASS_PREROLL,e.fwi=tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL,e._wi=tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL,e.vwi=tv.freewheel.SDK.TIME_POSITION_CLASS_OVERLAY,e.Jmi=[],e.$mi=[],e.ewi=[],e.swi=[],e.rwi=function(t){var i=t.slot,r=e.mwi(i);r&&(n.ywi(i,r),e.G0t=r,r.t4t(),e.kwi(r),r.l4t===B$.hZt&&e.So(new Vx(r)))},e.hwi=function(){var t=e.ynt;t&&t.l4t===B$.hZt&&(e.So(new Ux(t)),e._T.src=""),e.G0t=void 0},e.owi=function(t){var n=e.pwi(t.adInstance);n&&(e.So(new Wx(n,n.qmi.getPlayheadTime())),e.M0t=n),t.adInstance.getEventCallbackUrls(tv.freewheel.SDK.EVENT_AD_CLICK,tv.freewheel.SDK.EVENT_TYPE_CLICK).length>0&&(e.Ls.style.cursor="pointer",e.Ls.addEventListener("click",e.Ewi))},e.awi=function(){e.Ls.style.cursor="",e.Ls.removeEventListener("click",e.Ewi)},e.Ewi=function(){e.B9t&&e.B9t.qmi.getRendererController().processEvent({name:tv.freewheel.SDK.EVENT_AD_CLICK})},e.uwi=function(t){switch(t.subType){case tv.freewheel.SDK.EVENT_AD_COMPLETE:e.bwi();break;case tv.freewheel.SDK.EVENT_AD_SKIPPED:e.t2t(),e.bwi()}},e}Ct(n,t);var i=n.prototype;return i.Gmi=function(t,n){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return this.Xmi=t,this.jmi=n,this.Qmi(t),[4,n];case 1:return i.sent(),this.Kmi(),[2]}})}).call(this)},i.Kmi=function(){this.nwi()},i.Qmi=function(t){t.addEventListener(tv.freewheel.SDK.EVENT_SLOT_STARTED,this.rwi),t.addEventListener(tv.freewheel.SDK.EVENT_SLOT_ENDED,this.hwi),t.addEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION,this.owi),t.addEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION_END,this.awi),t.addEventListener(tv.freewheel.SDK.EVENT_AD,this.uwi)},i.cwi=function(){this.Xmi&&(this.Xmi.removeEventListener(tv.freewheel.SDK.EVENT_SLOT_STARTED,this.rwi),this.Xmi.removeEventListener(tv.freewheel.SDK.EVENT_SLOT_ENDED,this.hwi),this.Xmi.removeEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION,this.owi),this.Xmi.removeEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION_END,this.awi),this.Xmi.removeEventListener(tv.freewheel.SDK.EVENT_AD,this.uwi))},i.nwi=function(){this.Jmi=this.dwi(this.lwi),this.$mi=this.dwi(this.fwi).concat(this.dwi(this.vwi)),this.ewi=this.dwi(this._wi),this.swi=this.Jmi.concat(this.$mi).concat(this.ewi)},i.dwi=function(t){if(!this.Xmi)return[];var n=this.Xmi.getSlotsByTimePositionClass(t);return this.gwi(n)},i.pwi=function(t){if(this.G0t){var n=t.getSlot().getAdInstances().indexOf(t);-1!==n&&(this.G0t.Wmi=n);var i=this.G0t.Vmi;return i&&(i.qmi=t),i}},i.mwi=function(t){return Ui(this.swi,function(n){return n.Fmi===t})},i.gwi=function(t){return t.map(function(t){var i=t.getTotalDuration(),r=n.wwi(t);return new v6(i,i,r,t)})},i.t2t=function(){var t=this.B9t;t&&this.So(new H$(t,this.Awi()))},i.bwi=function(){var t=this.B9t;t&&(this.So(new Xx(t,t.qmi.getPlayheadTime())),this.M0t=void 0)},i.Swi=function(t){var n=this.ynt;n&&(n.m0t=function(t,n,i){void 0===i&&(i=0);for(var r=0,e=t.Jc.length,s=n;s<e;s++){var u=t.Jc[s],o=u.ct;if(u){var h=o;s===n&&(h=Ti(o-i,0,o)),r+=h}}return r}(n,n.Wmi,t))},i.Awi=function(){var t=this.B9t;if(!t)return 0;var n=t.qmi;return n.getPlayheadTime()/n.getDuration()},i.kwi=function(t){Xi(this.swi,t),Xi(this.Jmi,t),Xi(this.$mi,t),Xi(this.ewi,t)},i.hr=function(){this.cwi(),this.Jmi.length=0,this.$mi.length=0,this.ewi.length=0,this.swi.length=0,this.M0t=void 0,this.G0t=void 0,this.Xmi=void 0,this.jmi=void 0},i.kn=function(){this.hr(),this.Vo()},n.ywi=function(t,n){for(var i,r=[],e=Lt(t.getAdInstances());!(i=e()).done;){var s=i.value,u=l6(s.getSlot()),o=new d6(n,u,s);o.u4t(s.getAdId(),s.getSlot().getWidth(),s.getSlot().getHeight(),s.getDuration(),[],0),n.e4t(o),r.push(o)}return r},n.wwi=function(t){return t.getTimePositionClass()===tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL?-1:t.getTimePosition()},Nt(n,[{key:"Ymi",get:function(){return this.Jmi}},{key:"Zmi",get:function(){return this.$mi}},{key:"iwi",get:function(){return this.ewi}},{key:"ynt",get:function(){return this.G0t}},{key:"B9t",get:function(){return this.M0t}},{key:"Ant",get:function(){var t=[];if(this.G0t){var n,i=this.G0t.Wmi;if(i>=0)(n=t).push.apply(n,[].concat(this.G0t.Jc.slice(i+1)))}for(var r,e=Lt(this.swi);!(r=e()).done;){var s,u=r.value;(s=t).push.apply(s,[].concat(u.Jc))}return t}},{key:"bnt",get:function(){return this.swi}}]),n}(ih);F(),Et(),Bt(),Dt(),Ut();var g6=function(t){function n(n,i,r,e){var s;return(s=t.call(this)||this).oa=void 0,s.sc=void 0,s.uyt=void 0,s.Q1t=void 0,s.N4=void 0,s.npt=void 0,s.kz=void 0,s.ib=void 0,s.WA=void 0,s.Lwi=void 0,s.Z4=void 0,s.t5=void 0,s.bz=void 0,s.Vwi=void 0,s.Uwi=void 0,s.Iwi=void 0,s.Cwi=void 0,s.Hwi=void 0,s.vm=void 0,s.Dwi=void 0,s.Bwi=void 0,s.Nwi=void 0,s.Ed=void 0,s.Rwi=void 0,s.oa=n,s.sc=i,s.uyt=r,s.Q1t=e,s.N4=TA.iL()._s(),s.kz=!0,s.WA=NaN,s.Lwi=!1,s.Z4=!1,s.t5=Cy.VL,s.bz=0,s.Uwi=0,s.Iwi=function(t){switch(t.subType){case tv.freewheel.SDK.EVENT_AD_PAUSE:(function(t){if(!t)return!0;var n=t.qmi,i=n.getPlayheadTime(),r=n.getDuration();return i>=r||Ei(r,i)})(s.uyt.B9t)||(s.hx=!0,s.So(new hT(s.MP)));break;case tv.freewheel.SDK.EVENT_AD_RESUME:s.hx=!1,s.So(new Oy(s.MP));break;case tv.freewheel.SDK.EVENT_AD_VOLUME_CHANGE:if(s.npt){var n=s.npt.getAdVolume();0===n?s.Lwi=!0:s.ib=n,s.So(new wT(s.MP,s.Mx))}}},s.Cwi=function(){s.UP=!1;var t=s.hx;if(s.hx=!1,t&&(s.So(new cT(s.MP)),s.So(new Oy(s.MP))),s.t5=Cy.WL,s.MP=0,s.uyt.B9t){var n=s.uyt.B9t.qmi;s.WA=n.getDuration(),s.So(new aT(s.WA)),s.Vwi=_(function(){if(s.Dhi){s.uyt.Swi(s.MP);var t=n.getPlayheadTime();Si(t,s.Uwi,.001)||s.So(new pw(t,void 0)),s.Uwi=t}else s.vm()},250),s.npt&&s.npt.setAdVolume(_6(s.$P,s.Mx))}},s.Hwi=function(){var t=s.uyt.B9t;t&&(t.l4t===B$.a4t?s.oa.zx():s.hx||s.zx())},s.vm=function(){m(s.Vwi),s.Vwi=void 0},s.Dwi=function(){s.vm(),s.UP=!0},s.Bwi=function(){s.Fwi("pause")},s.Nwi=function(){s.Fwi("playing")},s.Ed=function(t){t.od.l4t===B$.hZt&&(s.hx=!1)},s.Rwi=function(){s.npt&&s.npt.resize(s.sc.Eu,s.sc.Iu)},s.ib=n.Mx,r.wn("Dnt",s.Ed),s.sc.wn(hI.yn,s.Rwi),s.Q1t.addEventListener("click",s.Hwi),s}Ct(n,t);var i=n.prototype;return i.Pwi=function(){this.npt&&this.npt.setAdVolume(_6(this.$P,this.Mx))},i.xwi=function(t){this.npt=t,this.Qmi(t)},i.Qmi=function(t){t.addEventListener(tv.freewheel.SDK.EVENT_AD,this.Iwi),t.addEventListener(tv.freewheel.SDK.EVENT_SLOT_STARTED,this.Rwi),t.addEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION,this.Cwi),t.addEventListener(tv.freewheel.SDK.EVENT_AD_COMPLETE,this.Dwi),t.addEventListener(tv.freewheel.SDK.EVENT_CONTENT_VIDEO_PAUSE_REQUEST,this.Bwi),t.addEventListener(tv.freewheel.SDK.EVENT_CONTENT_VIDEO_RESUME_REQUEST,this.Nwi)},i.Mwi=function(){var t=this.npt;t&&(t.removeEventListener(tv.freewheel.SDK.EVENT_AD,this.Iwi),t.addEventListener(tv.freewheel.SDK.EVENT_SLOT_STARTED,this.Rwi),t.removeEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION,this.Cwi),t.removeEventListener(tv.freewheel.SDK.EVENT_AD_COMPLETE,this.Dwi),t.removeEventListener(tv.freewheel.SDK.EVENT_CONTENT_VIDEO_PAUSE_REQUEST,this.Bwi),t.removeEventListener(tv.freewheel.SDK.EVENT_CONTENT_VIDEO_RESUME_REQUEST,this.Nwi))},i.Gx=function(){this.uyt.ynt&&(this.uyt.ynt.Fmi.resume(),this.hx=!1)},i.zx=function(){this.uyt.ynt&&(this.uyt.ynt.Fmi.pause(),this.hx=!0)},i.Fwi=function(t){var i=n.Owi(t);this.npt&&i&&this.npt.setVideoState(i)},i.rD=function(){var t=this.uyt.B9t;t&&t.qmi.skip()},i.hr=function(){if(this.Mwi(),this.npt){this.Fwi("stop"),this.npt.setVideoState(tv.freewheel.SDK.VIDEO_STATE_STOPPED);for(var t,n=Lt(this.npt.getTemporalSlots());!(t=n()).done;){t.value.stop()}this.npt.dispose(),this.npt=void 0}this.WA=NaN,this.UP=!1,this.t5=Cy.VL,this.MP=0,this.Uwi=0,this.hx=!0,void 0!==this.Vwi&&(m(this.Vwi),this.Vwi=void 0)},i.kn=function(){this.hr(),this.Vo(),this.uyt.mn("Dnt",this.Ed),this.sc.mn(hI.yn,this.Rwi),this.Q1t.removeEventListener("click",this.Hwi)},n.Owi=function(t){switch(t){case"pause":return tv.freewheel.SDK.VIDEO_STATE_PAUSED;case"playing":return tv.freewheel.SDK.VIDEO_STATE_PLAYING;case"ended":return tv.freewheel.SDK.VIDEO_STATE_COMPLETED;case"stop":return tv.freewheel.SDK.VIDEO_STATE_STOPPED}},Nt(n,[{key:"MP",get:function(){var t=this.uyt.B9t;return t&&(this.MP=t.qmi.getPlayheadTime()),this.bz},set:function(t){this.bz=t}},{key:"ct",get:function(){return this.WA}},{key:"Dhi",get:function(){return!!this.uyt&&void 0!==this.uyt.ynt}},{key:"hx",get:function(){return this.kz},set:function(t){this.kz=t}},{key:"Mx",get:function(){return this.ib},set:function(t){this.npt&&this.npt.setAdVolume(t),this.ib=t}},{key:"$P",get:function(){return this.npt&&(this.Lwi=0===this.npt.getAdVolume()),this.Lwi},set:function(t){this.npt&&this.npt.setAdVolume(_6(t,this.Mx)),this.Lwi=t}},{key:"Sx",get:function(){return this.N4}},{key:"UP",get:function(){return this.Z4},set:function(t){this.Z4=t}},{key:"Ax",get:function(){return this.t5}}]),n}(ih);function _6(t,n){return t?0:n}F(),Et(),Wt(),Ut(),Qt(),F(),Et(),Bt(),Dt();var m6=function(t){function n(){return t.call(this,"A FreeWheel Ad Error occurred")||this}return Ct(n,t),Nt(n,[{key:"name",get:function(){return h6.gmi}}]),n}(ar);F(),Et(),Bt(),Dt();var y6=function(t){function n(){return t.call(this,"A FreeWheel Reset Error Occurred")||this}return Ct(n,t),Nt(n,[{key:"name",get:function(){return h6._mi}}]),n}(ar),p6=0;function k6(){return"cue-"+ ++p6}var b6=function(){function t(t,n,i,r){var e=this;this.npt=void 0,this.zwi=void 0,this.Gwi=void 0,this.npt=n,this.Gwi=function(t){e.npt.removeEventListener(tv.freewheel.SDK.EVENT_REQUEST_COMPLETE,e.Gwi),t.success?e.zwi.Xy(void 0):e.zwi.jy(new m6)},this.Wwi(t,i,r),n.addEventListener(tv.freewheel.SDK.EVENT_REQUEST_COMPLETE,this.Gwi),this.zwi=new Vc}var n=t.prototype;return n.Wwi=function(t,n,i){t.setNetwork(n.networkId),t.setServer(n.adServerUrl);var r=this.npt;if(r.setProfile(n.profile),n.assetId&&n.assetDuration&&r.setVideoAsset(n.assetId,n.assetDuration),n.siteSectionId&&r.setSiteSection(n.siteSectionId),r.registerVideoDisplayBase(i),n.cuePoints&&n.cuePoints.length)for(var e,s=Lt(n.cuePoints);!(e=s()).done;){var u=e.value;r.addTemporalSlot(k6(),u.adUnit,u.timeOffset)}var o=n.customData;if(zn(o))for(var h,c=Lt(k.keys(o));!(h=c()).done;){var a=h.value,f=o[a];r.addKeyValue(a,f)}},n.qwi=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.npt.submitRequest(),[4,this.zwi.Qy];case 1:return t.sent(),[2]}})}).call(this)},n.hr=function(){this.npt.removeEventListener(tv.freewheel.SDK.EVENT_REQUEST_COMPLETE,this.Gwi),this.zwi.jy(new y6)},t}();F(),Et(),Wt(),Ut(),Qt(),F(),Et(),Bt();var A6=function(){function t(t){var n=this;this.Xmi=void 0,this.Jg=void 0,this.hwi=void 0,this.P7t=void 0,this.Xmi=t,this.hwi=function(t){n.Xwi(),n.Jg.Xy(void 0)},this.P7t=function(t){n.Xwi(),n.Jg.jy(new m6)},this.Jg=new Vc,t.addEventListener(tv.freewheel.SDK.EVENT_SLOT_ENDED,this.hwi),t.addEventListener(tv.freewheel.SDK.EVENT_ERROR,this.P7t)}var n=t.prototype;return n.Xwi=function(){this.Xmi.removeEventListener(tv.freewheel.SDK.EVENT_SLOT_ENDED,this.hwi),this.Xmi.removeEventListener(tv.freewheel.SDK.EVENT_ERROR,this.hwi)},n.WHt=function(){this.Xwi(),this.Jg.jy(new y6)},Nt(t,[{key:"jwi",get:function(){return this.Jg.Qy}}]),t}(),T6=function(){function t(t,n){var i=this;this.oa=void 0,this.Kwi=void 0,this.NNt=void 0,this.Ywi=void 0,this.Xmi=void 0,this.Jwi=void 0,this.oa=t,this.Kwi=n,this.NNt=0,this.Jwi=function(){for(var t,n=i.oa.LP(),r=Lt(i.Kwi.Zmi);!(t=r()).done;){var e=t.value,s=new TA([i.NNt,n],[!0,!0]),u=e.Fmi.getTimePosition();if(s.Cr(u))switch(e.Fmi.getTimePositionClass()){case tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL:i.Qwi([e]);break;case tv.freewheel.SDK.TIME_POSITION_CLASS_OVERLAY:e.Fmi.play(),e.Fmi.setVisible(!0)}}i.NNt=n},t.wn(eh._y,this.Jwi)}var n=t.prototype;return n.aO=function(t){this.Xmi=t},n.Lmi=function(){return this.Qwi(this.Kwi.Ymi)},n.Imi=function(){this.Qwi(this.Kwi.iwi)},n.Qwi=function(t){return Vt(function(){var n,i;return zt(this,function(r){switch(r.label){case 0:if(!this.Xmi)return[2];r.label=1;case 1:if(!(t.length>0))return[3,6];this.Ywi=new A6(this.Xmi),n=this.Ywi.jwi,(i=this.Kwi.ynt)&&i.l4t===B$.a4t&&i.Fmi.stop(),t.shift().Fmi.play(),r.label=2;case 2:return r.trys.push([2,,4,5]),[4,n];case 3:return r.sent(),[3,5];case 4:return this.Ywi=void 0,[7];case 5:return[3,1];case 6:return[2]}})}).call(this)},n.hr=function(){this.Ywi&&(this.Ywi.WHt(),this.Ywi=void 0),this.NNt=0},n.kn=function(){this.oa.mn(eh._y,this.Jwi)},t}(),S6=0,E6=function(t){function n(i,r,e){var s;return(s=t.call(this)||this).oa=void 0,s._T=void 0,s.Zwi=void 0,s.$wi=void 0,s.syi=void 0,s.Q1t=void 0,s.A7t=void 0,s.iyi=void 0,s.tyi=void 0,s.LZt=void 0,s.eyi=void 0,s.oa=i,s._T=r,s.eyi=!1,s.$wi=n.createUniqueDisplayBaseId(),s.Q1t=n.nyi(i.xe,r,s.$wi),s.Zwi=new f.tv.freewheel.SDK.AdManager,s.syi=new w6(s.Q1t,s._T),s.tyi=new T6(s.oa,s.Tmi),s.au(s.Tmi),s.A7t=new g6(i,e,s.Tmi,s.Q1t),s}Ct(n,t);var i=n.prototype;return i.C6t=function(){return Vt(function(){var t,n,i,r;return zt(this,function(e){switch(e.label){case 0:if(!this.LZt)throw new y("Invalid state");t=this.Zwi,(n=t.newContext()).setParameter(tv.freewheel.SDK.PARAMETER_RENDERER_VIDEO_DISPLAY_CONTROLS_WHEN_PAUSE,!1,tv.freewheel.SDK.PARAMETER_LEVEL_GLOBAL),n.setParameter(tv.freewheel.SDK.PARAMETER_EXTENSION_CONTENT_VIDEO_ENABLED,!1,tv.freewheel.SDK.PARAMETER_LEVEL_GLOBAL),i=new b6(t,n,this.LZt,this.$wi),r=this.Tmi.Gmi(n,i.qwi()),this.tyi.aO(n),this.Emi.xwi(n),this.iyi=i,e.label=1;case 1:return e.trys.push([1,,3,4]),[4,r];case 2:return e.sent(),[3,4];case 3:return this.Emi.Pwi(),this.eyi=!0,[7];case 4:return[2]}})}).call(this)},i.F3t=function(t){this.Emi.Fwi(t.type)},i.be=function(){this.Q1t.style.display="block",this._T.style.display="block"},i.we=function(){this.Q1t.style.display="none",this._T.style.display="none"},i.K9t=function(t){this.LZt=t},i.hr=function(){this.eyi=!1,this.LZt=void 0,this.Tmi.hr(),this.tyi.hr(),this.iyi&&(this.iyi.hr(),this.iyi=void 0),this.Emi.hr(),this._T.src=""},i.kn=function(){this.hr(),this.A7t.kn(),this.tyi.kn(),this.Tmi.kn(),this.Q1t.remove(),$n(this.Q1t)},n.createUniqueDisplayBaseId=function(){return"theo-freewheel-"+ ++S6},n.nyi=function(t,n,i){var r=v.createElement("div");return r.id=i,r.className="theo-freewheel",n.classList.add("theo-freewheel-video"),r.appendChild(n),t.appendChild(r),r},Nt(n,[{key:"xmi",get:function(){return 0!==this.Tmi.iwi.length}},{key:"Mmi",get:function(){return 0!==this.Tmi.Ymi.length}},{key:"Emi",get:function(){return this.A7t}},{key:"Tmi",get:function(){return this.syi}},{key:"Dmi",get:function(){return this.eyi}},{key:"Rmi",get:function(){return this.tyi}}]),n}(DI);function I6(t){if(f.tv)switch(t){case"preroll":return tv.freewheel.SDK.ADUNIT_PREROLL;case"midroll":return tv.freewheel.SDK.ADUNIT_MIDROLL;case"postroll":return tv.freewheel.SDK.ADUNIT_POSTROLL;case"overlay":return tv.freewheel.SDK.ADUNIT_OVERLAY}}function R6(t,n,i){if(void 0!==n&&S(n)||n<0||n===1/0)return NaN;switch(t){case"preroll":return 0;case"postroll":return i}return KJ(n)}var C6=function(){function t(){}var n=t.prototype;return n.qz=function(t){return t.integration===mS.FREEWHEEL},n.x3t=function(t,n,i){if(Boolean(f.tv&&f.tv.freewheel&&f.tv.freewheel.SDK&&f.tv.freewheel.SDK.AdManager)){var r=new ix(t.Wu,t.Ql,i,1,[ig.Bk]);r.ust(t.xe);var e=r.Gq(ig.Bk),s=new E6(t,e.$W,t.Wu);return new f6(t,n,r,s,e)}},n.sj=function(t){var n=Ow(t);Hn(n.cuePoints)||(n.cuePoints=[]);for(var i,r=[],e=t.assetDuration||0,s=Lt(n.cuePoints);!(i=s()).done;){var u=i.value,o=R6(u.adUnit,u.timeOffset,e),h=I6(u.adUnit);!S(o)&&qn(h)?(u.adUnit=h,u.timeOffset=o,r.push(u)):Vn.um("Invalid adUnit/timeOffset combination. Cue was removed.")}return n.cuePoints=r,n},n.M6=function(t,n,i,r){i.K9t(t,n,r)},Nt(t,[{key:"P3t",get:function(){return UZ.H0t}}]),t}();yS.Ng.zz(new C6),F(),Et(),F(),Et(),F(),Et(),Dt(),F(),Et(),F(),Et();var D6,P6=self.theoplayerDeviceMetadata;function N6(t){return t.navigator&&t.navigator.userAgent||""}F(),Et(),F(),Et(),F(),Et(),F(),Et();var B6=((D6={})["Windows 10"]=/(Windows 10.0|Windows NT 10.0)/i,D6["Windows 8.1"]=/(Windows 8.1|Windows NT 6.3)/i,D6["Windows 8"]=/(Windows 8|Windows NT 6.2)/i,D6["Windows 7"]=/(Windows 7|Windows NT 6.1)/i,D6["Windows Vista"]=/Windows NT 6.0/i,D6["Windows Server 2003"]=/Windows NT 5.2/i,D6["Windows XP"]=/(Windows NT 5.1|Windows XP)/i,D6["Windows Phone"]=/Windows Phone/i,D6.Android=/Android/i,D6.Linux=/(Linux(?!.*Ubuntu)|X11)/,D6.Ubuntu=/Ubuntu/i,D6.iOS=/(iPhone|iPad|iPod)/i,D6["Mac OS X"]=/Mac OS X/i,D6["Mac OS"]=/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/i,D6["Chrome OS"]=/CrOS/i,D6);function x6(t,n){var i=B6[n];return!!i&&Boolean(N6(t).match(i))}function O6(t){return x6(t,"Android")}function M6(t){return x6(t,"Windows Phone")}function L6(t){return x6(t,"iOS")&&!M6(t)}function U6(t){return x6(t,"Ubuntu")}var F6,V6,H6=/Windows (NT|Phone) ([0-9.]+)/i,W6=/Mac.*?(OS |OS X )(\d+(([_.])\d+)?(([_.])\d+)?)/i,z6=((F6={})["Windows 10"]=H6,F6["Windows 8.1"]=H6,F6["Windows 8"]=H6,F6["Windows 7"]=H6,F6["Windows Vista"]=H6,F6["Windows Server 2003"]=H6,F6["Windows XP"]=H6,F6["Windows Phone"]=/Windows Phone ([0-9.]+)/i,F6.Android=/Android (\d+(([_.])\d+)?(([_.])\d+)?)/i,F6.Linux=void 0,F6.Ubuntu=void 0,F6.iOS=/(iPad|iPhone|iPod).*?(OS |os |OS_)(\d+(([_.])\d+)?(([_.])\d+)?)/i,F6["Mac OS X"]=W6,F6["Mac OS"]=W6,F6["Chrome OS"]=void 0,F6);function X6(t,n){var i=z6[n];return i?N6(t).match(i):null}function q6(t){return t.split(/[_.]/).map(function(t){return A(t,10)})}function G6(t){if(function(t){return Boolean(N6(t).match(/Windows/i))}(t)){if(function(t){return x6(t,"Windows 10")}(t))return"Windows 10";if(M6(t))return"Windows Phone";if(function(t){return x6(t,"Windows 8.1")}(t))return"Windows 8.1";if(function(t){return x6(t,"Windows 8")}(t))return"Windows 8";if(function(t){return x6(t,"Windows 7")}(t))return"Windows 7";if(function(t){return x6(t,"Windows Vista")}(t))return"Windows Vista";if(function(t){return x6(t,"Windows Server 2003")}(t))return"Windows Server 2003";if(function(t){return x6(t,"Windows XP")}(t))return"Windows XP"}else{if(O6(t))return"Android";if(L6(t))return"iOS";if(function(t){return x6(t,"Mac OS X")}(t))return"Mac OS X";if(function(t){return x6(t,"Mac OS")}(t))return"Mac OS";if(U6(t))return"Ubuntu";if(function(t){return x6(t,"Chrome OS")}(t))return"Chrome OS";if(function(t){return x6(t,"Linux")&&!U6(t)}(t))return"Linux"}}function j6(t,n){var i=function(t){var n=X6(t,"Windows 10");return n&&n.length>2?q6(n[2]):void 0}(t),r=function(t){var n=X6(t,"Mac OS X");return n&&n.length>2?q6(n[2]):void 0}(t),e=function(t){var n=X6(t,"Android");return n&&n.length>1?q6(n[1]):void 0}(t),s=function(t){var n=X6(t,"iOS");return n&&n.length>3?q6(n[3]):void 0}(t),u=function(t){var n=X6(t,"Chrome OS");return n&&n.length>0?q6(n[0]):void 0}(t);return i?i.length>n?i[n]:void 0:r?r.length>n?r[n]:void 0:e?e.length>n?e[n]:void 0:s?s.length>n?s[n]:void 0:u&&u.length>n?u[n]:void 0}function Q6(t){var n=function(t){return j6(t,0)}(t),i=function(t){return j6(t,1)}(t),r=function(t){return j6(t,2)}(t);if(void 0!==n)return void 0===i?""+n:void 0===r?n+"."+i:n+"."+i+"."+r}var Y6=((V6={}).Chrome=/Chrome/i,V6["Chrome Mobile"]=void 0,V6["Chrome iOS"]=/CriOS/i,V6.Chromium=/Chromium/i,V6.HeadlessChrome=/HeadlessChrome/i,V6.Firefox=/Firefox/i,V6.Seamonkey=/Seamonkey/i,V6["Firefox iOS"]=/FxiOS/i,V6.Safari=/Safari/i,V6.Edge=/Edge\/\d+/i,V6["Edge Chromium"]=/Edg\/\d+/i,V6.IE=/Trident/i,V6.Opera=/Opera|OPR/i,V6.Vivaldi=/Vivaldi/i,V6["Android Browser"]=void 0,V6);function K6(t,n){var i=Y6[n];return!!i&&Boolean(N6(t).match(i))}function J6(t){return Boolean(N6(t).match(/Mobi/i))}function Z6(t){return Boolean(t.chrome&&t.navigator&&t.navigator.vendor&&/google/i.test(t.navigator.vendor))||$6(t)}function $6(t){return K6(t,"Chrome iOS")}function t8(t){return K6(t,"Firefox")&&!i8(t)}function n8(t){return K6(t,"Firefox Mobile")&&!i8(t)&&J6(t)}function i8(t){return K6(t,"Seamonkey")}function r8(t){return K6(t,"Firefox iOS")&&!i8(t)}function e8(t){return K6(t,"Safari")&&!K6(t,"Chrome")&&!On.Wv}function s8(t){return Boolean(l8(t))}function u8(t){return K6(t,"Edge")}function o8(t){return K6(t,"Edge Chromium")}function h8(t){return K6(t,"IE")}function c8(t){return K6(t,"Vivaldi")}var a8,f8=/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i,v8=((a8={}).Chrome=f8,a8["Chrome Mobile"]=f8,a8["Chrome iOS"]=/CriOS\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i,a8.Chromium=f8,a8.HeadlessChrome=f8,a8.Firefox=/Firefox\/([0-9.]+)/i,a8["Firefox iOS"]=/FxiOS\/([0-9.]+)/i,a8.Safari=/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/,a8["Safari Mobile"]=void 0,a8.Edge=/Edge\/(\d+)/i,a8["Edge Chromium"]=/Edg\/(\d+)/i,a8["Edge Mobile"]=void 0,a8.IE=/(MSIE |Trident.*?rv:)(\d+)/i,a8.Opera=/(OPR\/(\d+\.\d+))|(Opera(?=.*Version\/((\d+)\.(\d+))))/i,a8["Opera Mobile"]=void 0,a8.Vivaldi=/Vivaldi\/((\d+)\.(\d+)\.(\d+)(?:\.(\d+))?)/i,a8["Android Browser"]=void 0,a8);function d8(t,n){var i=v8[n];return i?N6(t).match(i):null}function l8(t){return d8(t,"Opera")}function w8(t){var n=function(t){return d8(t,"Firefox")}(t);return n?T(n[1]):0}function g8(t){var n=function(t){return d8(t,"Firefox iOS")}(t);return n?T(n[1].split(".")[0]):0}function _8(t){var n=function(t){return d8(t,"Safari")}(t);return n?T(n[2].split(".")[0]):0}function m8(t){var n=function(t){return d8(t,"Edge")}(t);return n?T(n[1]):0}function y8(t){var n=function(t){return d8(t,"Edge Chromium")}(t);return n?T(n[1]):0}function p8(t){var n=function(t){return d8(t,"IE")}(t);return n?T(n[2]):0}function k8(t){var n=function(t){return d8(t,"Vivaldi")}(t);return n?T(n[1]):0}function b8(t){if(O6(t))return Z6(t)?"Chrome Mobile":t8(t)||n8(t)?"Firefox Mobile":u8(t)?"Edge Mobile":s8(t)?"Opera Mobile":"Android Browser";if(L6(t)){if(Z6(t)||$6(t))return"Chrome iOS";if(t8(t)||r8(t))return"Firefox iOS";if(u8(t))return"Edge Mobile";if(e8(t)||function(t){return e8(t)&&J6(t)}(t))return"Safari Mobile";if(s8(t))return"Opera Mobile"}return function(t){return K6(t,"Chromium")}(t)?"Chromium":function(t){return K6(t,"HeadlessChrome")}(t)?"HeadlessChrome":Z6(t)?"Chrome":t8(t)?"Firefox":e8(t)?"Safari":u8(t)?"Edge":o8(t)?"Edge Chromium":h8(t)?"IE":s8(t)?"Opera":c8(t)?"Vivaldi":void 0}function A8(t){return c8(t)?k8(t):$6(t)?Number(function(t){var n=v8["Chrome iOS"];return n&&n.exec(N6(t))||[]}(t)[1]):Z6(t)?Number(function(t){var n=v8.Chrome;return n&&n.exec(N6(t))||[]}(t)[1]):t8(t)||n8(t)?w8(t):r8(t)?g8(t):e8(t)?_8(t):u8(t)?m8(t):o8(t)?y8(t):h8(t)?p8(t):s8(t)?function(t){var n=l8(t);return n&&n[0].indexOf("Opera")>-1?T(n[5]):n?T(n[2].split(".")[0]):0}(t):void 0}var T8=function(t){return t.ryi="pc",t.hyi="console",t.oyi="settop",t.ayi="mobile",t.uyi="tablet",t.cyi="smarttv",t.dyi="searchbot",t}({});function S8(t){var n=N6(t);return n.match(/CrKey|Roku|AFTS|AppleTV|Nexus Player/i)?"settop":n.match(/Xbox|Playstation|Wii|Nintendo/i)?"console":/(iPad|Tablet|(Android(?!.*Mobi))|(Windows(?!.*Phone)(.*Touch))|Kindle|Playbook|Silk|(Puffin(?!.*(IP|AP|WP))))/i.test(n)?"tablet":/Mobi/.test(n)?"mobile":n.match(/GoogleTV|SmartTV|SMART-TV|Internet TV|NetCast|NETTV|boxee|Kylo|DLNADOC|hbbtv|CE-HTML/i)?"smarttv":n.match(/(nuhk|Googlebot|bingbot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/i)?"searchbot":function(t){return Boolean(b8(t))}(t)?"pc":void 0}var E8=function(){function t(t,n){var i=this;this.empClient=void 0,this.agama=void 0,this._yi=void 0,this.empClient=t,this.agama=n,this._yi=function(){var t=Vn.bP;switch(t){case"wifi":i.empClient.setDeviceMetadata(i.agama.DeviceMetadata.DATA_CONNECTION_TYPE,"wlan");break;case"ethernet":i.empClient.setDeviceMetadata(i.agama.DeviceMetadata.DATA_CONNECTION_TYPE,t);break;case"cellular":var n=function(t){switch(t){case"3g":return"mobile/3G";case"4g":return"mobile/4G";default:return}}(Vn.AP);n&&i.empClient.setDeviceMetadata(i.agama.DeviceMetadata.DATA_CONNECTION_TYPE,n)}}}var n=t.prototype;return n.ej=function(t){this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_ID,t.deviceID||function(){var t=Pd.Wy("deviceId");if(t)return t;var n=MS();return Pd.qy("deviceId",n),n}()),this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.PLAYER,"THEOplayer"),this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.PLAYER_VERSION,"10.0.0"),this.lyi(t),this.fyi(),this.vyi(t),this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.EMPCLIENT_INTEGRATION_VERSION,"3.0"),this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.EMPCLIENT_INTEGRATION_BUILDDATE,"2023-04-17 12:00:00"),t.application&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.APPLICATION,t.application),t.applicationVersion&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.APPLICATION_VERSION,t.applicationVersion),t.userAccountID&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.USER_ACCOUNT_ID,t.userAccountID);var n=t.connectionType;n?this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DATA_CONNECTION_TYPE,n):(this._yi(),l.connection&&l.connection.addEventListener&&l.connection.addEventListener("change",this._yi))},n.lyi=function(t){this.gyi(t);var n=t.deviceManufacturer||P6&&P6.manufacturer;n&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_MANUFACTURER,n);var i=t.deviceModel||P6&&P6.model;i&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_MODEL,i)},n.gyi=function(t){var n=t.deviceType||function(){var t=S8(self);switch(t){case T8.hyi:return"game-console";case T8.cyi:return"tv";case T8.oyi:return"media-streamer";default:return t}}();n&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_TYPE,n)},n.fyi=function(){var t=b8(self);t&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_BROWSER,t);var n=A8(self);void 0!==n&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_BROWSER_VERSION,n.toString())},n.vyi=function(t){var n=t.deviceOs||G6(self);n&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_OS,n);var i=t.deviceOsVersion||Q6(self);i&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_OS_VERSION,i.toString())},n.kn=function(){l.connection&&l.connection.removeEventListener&&l.connection.removeEventListener("change",this._yi)},t}();var I8=function(t){function n(){var n;return(n=t.call(this)||this).wyi=void 0,n.OG=void 0,n.ko=!1,n.Ayi=!1,n.myi=void 0,n.yyi=void 0,n.wyi=f.Agama,n}Ct(n,t);var i=n.prototype;return i.qx=function(t){this.myi=t,this.wyi&&(this.OG=function(t,n){var i=function(t,n){switch(n){case"info":return t.LogLevel.INFO;case"debug":return t.LogLevel.DEBUG;case"warning":return t.LogLevel.WARNING;case"error":return t.LogLevel.ERROR;default:return t.LogLevel.FATAL}}(n,t.logLevel);n.setLogLevel(i);var r=new n.EMPClient(t.config);return function(t,n){return t.setExternalConfig(n.config),t}(r,t)}(t,this.wyi),this.OG&&(this.yyi=new E8(this.OG,this.wyi),this.ko=!0))},i.ij=function(){return this.wyi||console.warn("Please load the Agama Library (empclient.min.js) in order to use the integration"),Boolean(this.wyi)},i.$X=function(){return this.ko},i.DX=function(t,n){if(this.OG&&this.wyi)switch(t){case kS.eG:this.OG.setMeasurement(this.wyi.Measurement.BUFFER_LENGTH,n);break;case kS.sG:this.OG.setMeasurement(this.wyi.Measurement.BYTES_RECEIVED,n);break;case kS.rG:this.OG.setMeasurement(this.wyi.Measurement.SEGMENT_PROFILE_BITRATE,n);break;case kS.hG:this.OG.setMeasurement(this.wyi.Measurement.VIDEO_PROFILE_BITRATE,n);break;case kS.nG:this.OG.setMeasurement(this.wyi.Measurement.SEGMENT_READ_BITRATE,n);break;case kS.Jz:this.OG.setMeasurement(this.wyi.Measurement.HTTP_REQUEST_STATUS_CODE_1XX,n);break;case kS.Zz:this.OG.setMeasurement(this.wyi.Measurement.HTTP_REQUEST_STATUS_CODE_2XX,n);break;case kS.$z:this.OG.setMeasurement(this.wyi.Measurement.HTTP_REQUEST_STATUS_CODE_3XX,n);break;case kS.tG:this.OG.setMeasurement(this.wyi.Measurement.HTTP_REQUEST_STATUS_CODE_4XX,n);break;case kS.iG:this.OG.setMeasurement(this.wyi.Measurement.HTTP_REQUEST_STATUS_CODE_5XX,n);break;case kS.aG:this.OG.setMeasurement(this.wyi.Measurement.PLAYBACK_POSITION,n);break;case kS.uG:this.OG.setMeasurement(this.wyi.Measurement.NUMBER_OF_FRAMES_DECODED,n);break;case kS.oG:this.OG.setMeasurement(this.wyi.Measurement.NUMBER_OF_FRAMES_DROPPED,n)}},i.fX=function(t,n){if(this.OG&&this.wyi)switch(t){case bS.vG:this.OG.setSessionMetadata(this.wyi.SessionMetadata.ASSET_DURATION,n);break;case bS.fG:this.OG.setSessionMetadata(this.wyi.SessionMetadata.MANIFEST_URI,n);break;case bS._G:this.OG.setSessionMetadata(this.wyi.SessionMetadata.NUMBER_OF_CONTENT_PROFILES,n);break;case bS.mG:this.OG.setSessionMetadata(this.wyi.SessionMetadata.SERVICE_NAME,n);break;case bS.gG:this.OG.setSessionMetadata(this.wyi.SessionMetadata.CDN,n);break;case bS.pG:this.OG.setSessionMetadata(this.wyi.SessionMetadata.CONTENT_TITLE,n);break;case bS.wG:this.OG.setSessionMetadata(this.wyi.SessionMetadata.CONTENT_TYPE,n);break;case bS.yG:this.OG.setSessionMetadata(this.wyi.SessionMetadata.CONTENT_DESCRIPTION,n)}},i.ej=function(){this.yyi&&this.myi&&this.yyi.ej(this.myi)},i.tj=function(t,n){this.wyi&&this.OG&&(this.FX(),function(t,n,i,r){var e=LS(t,i,r);n.abrSession(e,t.ViewState.INITIAL_BUFFERING)}(this.wyi,this.OG,t,n),this.Ayi=!0)},i.kn=function(){this.yyi&&this.yyi.kn(),this.byi(AS.AG),this.OG=void 0},i.$G=function(t){this.Syi(t)},i.eX=function(t,n){this.OG&&this.OG.event(t.code,n)},i.FX=function(){this.OG&&this.Ayi&&(this.OG.exitSession(),this.Ayi=!1)},i.byi=function(t){if(this.OG&&this.wyi&&(this.FX(),t===AS.AG))this.OG.shutdown(this.wyi.ShutdownType.NORMAL_SHUTDOWN)},i.tX=function(t,n,i){this.Syi(t,n,i)},i.Syi=function(t,n,i){if(this.OG&&this.wyi)switch(t){case pS.TM:this.Tyi(this.wyi.ViewState.PLAYING,n,i);break;case pS.Qz:this.Tyi(this.wyi.ViewState.FAILED,n,i);break;case pS.Kz:this.Tyi(this.wyi.ViewState.INITIAL_BUFFERING,n,i);break;case pS.Gz:this.Tyi(this.wyi.ViewState.PAUSED,n,i);break;case pS.Xz:this.Tyi(this.wyi.ViewState.SEEK,n,i);break;case pS.jz:this.Tyi(this.wyi.ViewState.STALLED,n,i);break;case pS.Yz:this.Tyi(this.wyi.ViewState.NO_ACCESS,n,i)}},i.Tyi=function(t,n,i){if(this.OG)if(n){var r=function(t){return t||""}(i);this.OG.viewStateExtended(t,n.code,r)}else this.OG.viewStateChanged(t)},n}(ES);Vb(function(t){return function(n){return function(n){function i(i,r){var e;return(e=n.call(this,i,r)||this).OG=new t,e.pyi=void 0,e.pyi=new FS(e,e.OG,r),e}Ct(i,n);var r=i.prototype;return r.OP=function(t,i){this.pyi&&this.pyi.QG(),n.prototype.OP.call(this,t)},r.kn=function(){this.pyi&&this.pyi.kn(),n.prototype.kn.call(this)},i}(n)}}(I8),Ub.hnt),F(),Et(),F(),Et(),Dt(),F(),Et(),F(),Et(),Wt(),Bt(),Ut(),Qt(),F(),Et();var R8=function(t){return t.PLAY_ALL="play-all",t.PLAY_NONE="play-none",t.PLAY_LAST="play-last",t}({});F(),Et();var C8=function(t){return t.VOD="vod",t.LIVE="live",t}({}),D8=function(){function t(t,n,i,r,e,s,u){var o=this;this.oa=void 0,this.Cyi=void 0,this.Nyi=void 0,this.Pyi=void 0,this.kyi=void 0,this.Hyi=void 0,this.xyi=void 0,this.Byi=void 0,this.JW=void 0,this.ZW=void 0,this.m7=void 0,this.Myi=void 0,this.sAi=void 0,this.Iyi=void 0,this.Y1t=void 0,this.Lyi=void 0,this.uvi=void 0,this.qui=void 0,this.U_i=void 0,this.Pd=void 0,this.Fyi=void 0,this.wui=void 0,this.kui=void 0,this.Uyi=void 0,this.Vyi=void 0,this.eAi=void 0,this.oa=t,this.Cyi=n,this.Nyi=i,this.Pyi=r,this.kyi=e,this.Hyi=s,this.xyi=u,this.JW=void 0,this.ZW=void 0,this.m7=new hr,this.Myi=new hr,this.sAi=void 0,this.Iyi=!1,this.Y1t=void 0,this.Lyi=function(t){var n=t.currentSource;if(n&&n.integrationData){var i=n.integrationData,r=i.preplayResponse,e=i.source;o.kyi.nAi(r),r&&r.type===C8.VOD&&r.ads&&o.Pyi.qyi(r.ads),o.Cyi.rAi=n.integrationData,e.assetInfo&&kr(o.fetchAssetInfo(n))}},this.uvi=function(){o.Iyi=!0},this.qui=function(){o.Iyi&&o.zyi(o.oa.LP())},this.U_i=function(){o.Iyi&&(o.zyi(1/0),o.Iyi=!1)},this.Pd=function(){kr(o.Cyi.Tn())},this.Fyi=function(t){o.m7.Zg(),o.m7=new hr,kr(_r(o.gri(t.od.PO,o.m7.Yg),o.m7))},this.wui=function(){1!==o.oa.ux&&(o.sAi=o.oa.ux,o.oa.ux=1)},this.kui=function(){void 0!==o.sAi&&(o.oa.ux=o.sAi,o.sAi=void 0)},this.Uyi=function(t){t.od.wn("Oyi",o.Fyi),t.od.wn("Dnt",o.wui),t.od.wn("Cnt",o.kui)},this.Vyi=function(t){t.od.mn("Oyi",o.Fyi),t.od.mn("Dnt",o.wui),t.od.mn("Cnt",o.kui)},this.eAi=function(){o.oa.zx()},this.oa.wn(eh.xw,this.Lyi),this.oa.wn(eh.uo,this.uvi),this.oa.wn(eh._y,this.qui),this.oa.wn(eh.Bw,this.U_i),this.oa.wn(Ey.AM,this.Pd),this.Pyi.A0t.wn("xnt",this.Uyi),this.Pyi.A0t.wn("Pnt",this.Vyi)}var n=t.prototype;return n.Eyi=function(t){this.JW=hg(t),this.ZW=t,this.oa.So(new _b(t))},n.Ta=function(t){this.Pyi.resetSource(),this.xyi.Gy(),this.Iyi=!1,this.oa.Ryi(t)},n.Xnt=function(t,n){return Vt(function(){var i,r;return zt(this,function(e){switch(e.label){case 0:return this.Cyi.hr(),this.Iyi=!1,t&&function(t){return t.sources.some(function(t){return t.integration===MA.UPLYNK})}(t)?[3,2]:[4,this.oa.Dyi(t,n)];case 1:return[2,e.sent()];case 2:return e.trys.push([2,5,,6]),i=this,[4,this.Nyi.Cgi(t)];case 3:return i.Byi=e.sent(),[4,this.oa.Dyi(this.Byi,n)];case 4:return e.sent(),[3,6];case 5:return r=e.sent(),this.Eyi(new fd(cd.MANIFEST_LOAD_ERROR,r.message,r)),[3,6];case 6:return[2]}})}).call(this)},n.kn=function(){this.m7.Zg(),this.Myi.Zg(),this.oa.mn(eh.xw,this.Lyi),this.oa.mn(eh.uo,this.uvi),this.oa.mn(eh._y,this.qui),this.oa.mn(eh.Bw,this.U_i),this.oa.mn(Ey.AM,this.Pd);for(var t,n=Lt(this.Pyi.A0t.ec);!(t=n()).done;){var i=t.value;i.mn("Oyi",this.Fyi),i.mn("Dnt",this.wui),i.mn("Cnt",this.kui)}this.Pyi.A0t.mn("xnt",this.Uyi),this.Pyi.A0t.mn("Pnt",this.Vyi),this.Pyi.destroy(),this.Y1t&&(this.Y1t.zg(),this.Y1t=void 0),this.Iyi=!1},n.fetchAssetInfo=function(t){return Vt(function(){var n;return zt(this,function(i){switch(i.label){case 0:if(!t||!t.integrationData)return[2];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.Hyi.RSt(t.integrationData.source.prefix,t.integrationData.source.id,this.Myi.Yg,t.integrationData.preplayResponse.sid)];case 2:return n=i.sent(),this.kyi.Wyi(n),this.xyi.qyi(n,this.Pyi.A0t.ec),[3,4];case 3:return i.sent(),[3,4];case 4:return[2]}})}).call(this)},n.zyi=function(t){this.Pyi.Gyi(t),this.Pyi.mnt.forEach(function(n){return n.Xyi(t)}),this.Pyi.jyi(this.oa.Tx()),this.K1t()},n.OP=function(t){this.Pyi.ynt||(this.m7.Zg(),this.m7=new hr,kr(_r(this.gri(t,this.m7.Yg),this.m7)))},n.gri=function(t,n){return Vt(function(){var i,r;return zt(this,function(e){switch(e.label){case 0:if(dr(n),t<this.oa.LP())return this.Qyi(t),[2];switch(i=[],this.Pyi.Kyi){case R8.PLAY_ALL:return[3,1];case R8.PLAY_LAST:return[3,3];case R8.PLAY_NONE:return[3,5]}return[3,6];case 1:return i=this.Pyi.Yyi(this.oa.LP(),t),[4,this.Jyi(t,i,n)];case 2:case 4:return e.sent(),[3,6];case 3:return r=this.Pyi.Yyi(this.oa.LP(),t).pop(),i=r?[r]:[],[4,this.Jyi(t,i,n)];case 5:return this.Zyi(t),[3,6];case 6:return[2]}})}).call(this)},n.Qyi=function(t){var n=Ui(this.Pyi.A0t.ec,function(n){return n.Sat.Cr(t)});n?this.oa.$yi(n.EO):this.oa.$yi(t)},n.Zyi=function(t){var n=this.Pyi.Yyi(this.oa.LP(),t).pop();n&&n.Sat.Cr(t)?this.oa.$yi(n.PO):this.oa.$yi(t)},n.Jyi=function(t,n,i){return Vt(function(){var r,e,s,u;return zt(this,function(o){switch(o.label){case 0:r=Lt(n),o.label=1;case 1:return(e=r()).done?[3,4]:(s=e.value,[4,this.tAi(s,i)]);case 2:o.sent(),o.label=3;case 3:return[3,1];case 4:return(u=zi(n,-1))&&u.Sat.Cr(t)?(this.oa.LP()<t&&this.oa.$yi(u.PO),[2]):(this.oa.$yi(t),[2])}})}).call(this)},n.tAi=function(t,n){return Vt(function(){var i;return zt(this,function(r){switch(r.label){case 0:return t.mn("Oyi",this.Fyi),i=ut.race([t.ww("Cnt",n),t.ww("Oyi",n)]),this.zyi(this.oa.LP()),t.ro||this.oa.$yi(t.EO),[4,i];case 1:return r.sent(),t.wn("Oyi",this.Fyi),[2]}})}).call(this)},n.K1t=function(){var t=Ui(this.Pyi.mnt,function(t){return t.iAi.length>0});if(t){var n=t.iAi[0];this.Y1t||(this.Y1t=new GZ(this.oa.xe),this.Y1t.wn("clickstart",this.eAi)),this.Y1t.u1t=n}else this.Y1t&&(this.Y1t.zg(),this.Y1t=void 0)},Nt(t,[{key:"Ca",get:function(){return this.kyi.Ca}},{key:"lt",get:function(){return this.JW}},{key:"WP",get:function(){return this.ZW}}]),t}();F(),Et(),Wt(),Qt(),F(),Et();var P8=Mk({breaksIndex:Rk,adsIndex:Rk,startTime:Rk,endTime:Rk}),N8=Mk({index:Rk,timeOffset:Rk}),B8=Mk({duration:Rk,apiFramework:Hk(Ck,Bk),creative:Ck,mimeType:Ck,width:Rk,height:Rk,companions:zk(function(t){return new Gk(t)}(function(){return B8})),extensions:Hk(Pk,zk(Nk)),fw_parameters:Hk(Pk,qk(Ck)),events:qk(zk(Ck))}),x8=Mk({type:Fk(["linear","nonlinear"]),position:Fk(["preroll","midroll","postroll","pause","overlay",""]),timeOffset:Rk,duration:Rk,ads:zk(B8),events:qk(zk(Ck))}),O8=Mk({breaks:zk(x8),breakOffsets:Hk(Pk,zk(N8)),placeholderOffsets:Hk(Pk,zk(P8))}),M8=Mk({required:Hk(Pk,Dk),fairplayCertificateURL:Hk(Pk,Ck),widevineLicenseURL:Hk(Pk,Ck),playreadyLicenseURL:Hk(Pk,Ck)}),L8={type:Fk(Lk(C8)),playURL:Ck,prefix:Ck,sid:Ck,drm:Hk(Pk,M8)},U8=Mk(Yu({},L8,{type:Fk([C8.VOD]),ads:O8,interstitialURL:Hk(Ck,Bk,Pk)})),F8=Hk(U8,Mk(Yu({},L8,{type:Fk([C8.LIVE])})));F(),Et();var V8,H8=Ck,W8=Mk({userId:Ck,externalId:Hk(Ck,zk(Ck))}),z8=function(){function t(t){this.nV=void 0,this.nV=t}var n=t.prototype;return n.RSt=function(t){return Vt(function(){return zt(this,function(n){try{return[2,this.hAi(t)]}catch(t){throw t}return[2]})}).call(this)},n.hAi=function(t){return Vt(function(){var n,i,r;return zt(this,function(e){switch(e.label){case 0:return[4,q8(t)];case 1:return n=e.sent(),[4,this.nV.lk({Uk:wl.GET,Yu:n,dk:Md.DT})];case 2:return[4,e.sent().ck()];case 3:return i=e.sent(),r=Yu({},i,{type:t.assetType===qS.ASSET?C8.VOD:C8.LIVE}),F8.qH(r)||F8.GH(r,"PreplayResponse"),[2,r]}})}).call(this)},t}(),X8=((V8={})[qS.ASSET]="",V8[qS.CHANNEL]="channel/",V8[qS.EVENT]="event/",V8);function q8(t){return Vt(function(){var n,i,r,e,s,u;return zt(this,function(o){switch(o.label){case 0:return n=t.prefix,i=X8[t.assetType],r=function(t){if(zk(H8).qH(t))return 1===t.length?t[0]:t.join(",")+"/multiple";if(H8.qH(t))return t;if(W8.qH(t)&&Hn(t.externalId))return 1===t.externalId.length?"ext/"+t.userId+"/"+t.externalId[0]:"ext/"+t.userId+"/"+t.externalId.join(",")+"/multiple";if(W8.qH(t))return"ext/"+t.userId+"/"+t.externalId;throw new p("Invalid asset id")}(t.id),[4,G8(t.contentProtected)];case 1:return e=o.sent(),s=function(t,n){var i=j8(t,n);return i?{"ad.cping":"1","ad.pingf":String(i)}:{}}(t.assetType,t.ping),u={},Hn(t.preplayParameters)?t.preplayParameters.forEach(function(t){u[t[0]]=t[1]}):u=t.preplayParameters,[2,Al(n+"/preplay/"+i+r+".json",Yu({v:"2"},u,e,s,u))]}})})()}function G8(t){return Vt(function(){var n,i,r;return zt(this,function(e){switch(e.label){case 0:return(n=t)?[4,Vn.wm()]:[3,2];case 1:n=e.sent(),e.label=2;case 2:return n?[2,{rmt:"fps",manifest:"m3u8"}]:[3,3];case 3:return(i=t)?[4,Vn.Am()]:[3,5];case 4:i=e.sent(),e.label=5;case 5:return i?[2,{rmt:"wv",manifest:"mpd"}]:[3,6];case 6:return(r=t)?[4,Vn.ym()]:[3,8];case 7:r=e.sent(),e.label=8;case 8:if(r)return[2,{rmt:"pr",manifest:"mpd"}];e.label=9;case 9:return[2,{}]}})})()}function j8(t,n){var i=t!==qS.ASSET;return(!i&&n.adImpressions?1:0)+(!i&&n.freeWheelVideoViews?2:0)+(i&&n.linearAdData?4:0)}F(),Et(),Wt(),Qt(),F(),Et();var Q8=Mk({ad_id:Ck,apiFramework:Hk(Bk,Ck),companions:zk(Nk),creative:Ck,duration:Rk,mimeType:Ck,height:Rk,width:Rk,extensions:Hk(Pk,zk(Nk)),fw_parameters:Hk(Pk,qk(Ck))}),Y8=Mk({breakId:Ck,ads:zk(Q8),type:Fk(["linear","nonlinear"]),position:Fk(["preroll","midroll","postroll","pause","overlay",""]),timeOffset:Rk,duration:Rk,height:Hk(Pk,Rk),width:Hk(Pk,Rk),events:qk(zk(Ck))}),K8=Mk({breaks:zk(Y8)}),J8=Mk({next_time:Rk,ads:Hk(Pk,K8),extensions:Hk(Pk,zk(Nk)),error:Hk(Pk,Ck),currentBreakEnd:Hk(Pk,Rk)}),Z8=function(t){return t.MSt="start",t.Xz="seek",t}({}),$8=function(){function t(t){this.nV=void 0,this.nV=t}var n=t.prototype;return n.RSt=function(t,n){return Vt(function(){return zt(this,function(i){try{return[2,this.hAi(t,n)]}catch(t){throw t}return[2]})}).call(this)},n.hAi=function(t,n){return Vt(function(){var i,r;return zt(this,function(e){switch(e.label){case 0:return i=function(t){var n={v:"3",pt:String(t.currentTime)};(function(t){return void 0!==t.seekTime})(t)&&t.hasFreeWheelVideoViews&&(n.ft=String(t.seekTime));t.event&&(n.ev=t.event);return Al(t.zonePrefix+"/session/ping/"+t.sessionId+".json",Yu({},n))}(t),[4,this.nV.lk({Uk:wl.GET,Yu:i,dk:Md.DT,Yg:n})];case 1:return[4,e.sent().ck()];case 2:return r=e.sent(),J8.qH(r)||J8.GH(r,"PingResponse"),[2,r]}})}).call(this)},t}();F(),Et(),Wt(),Bt(),Dt(),Qt(),F(),Et(),Bt(),Dt();var t7=function(t){function n(n){var i;return(i=t.call(this,"oAi")||this).aE=void 0,i.aE=n,i}return Ct(n,t),n.prototype.xa=function(){return new n7(this.aE)},Nt(n,[{key:"oE",get:function(){return this.aE}}]),n}(kw),n7=function(t){function n(n){var i;return(i=t.call(this,"pingresponse")||this).response=void 0,i.response=n,i}return Ct(n,t),n}(rh);F(),Et(),Bt(),Dt();var i7=function(t){function n(n){var i;return(i=t.call(this,"aAi")||this).JW=void 0,i.JW=n,i}return Ct(n,t),n.prototype.xa=function(){return new r7(this.JW)},Nt(n,[{key:"lt",get:function(){return this.JW}}]),n}(kw),r7=function(t){function n(n){var i;return(i=t.call(this,"pingerror")||this).error=void 0,i.error=n,i}return Ct(n,t),n}(rh),e7=function(t){function n(n,i){var r,e;return r=t.call(this)||this,(e=r).pAi=void 0,e.oa=void 0,e.uAi=void 0,e.dAi=void 0,e.gAi=void 0,e.mAi=void 0,e.wAi=void 0,e.nT=void 0,e._Ai=void 0,e.fAi=void 0,e.vAi=void 0,e.pAi=n,e.oa=i,e.dAi=NaN,e.gAi=void 0,e.mAi=!1,e.wAi=NaN,e.nT=new hr,e._Ai=void 0,e.fAi=function(){return Vt(function(){var t;return zt(this,function(n){switch(n.label){case 0:return t=e.oa.LP(),e.wAi=t,e.mAi||Fn(e.gAi)||S(e.dAi)?[2]:e.dAi+e.gAi<=t?(e.mAi=!0,[4,e.lAi()]):[3,2];case 1:n.sent(),e.mAi=!1,n.label=2;case 2:return[2]}})})()},e.vAi=function(){if(e.oa.LP()!==e.dAi){e.mAi&&e.yAi(),e.wAi=e.oa.LP();var t=e.wAi-(e.dAi||0);S(t)?kr(e.lAi(Z8.Xz,0)):kr(e.lAi(Z8.Xz,t))}},r}Ct(n,t);var i=n.prototype;return i.Tn=function(){return Vt(function(){var t,n;return zt(this,function(i){switch(i.label){case 0:return(t=this.uAi)?(n=j8(t.source.assetType,t.source.ping),0!==n?(this.dAi=this.oa.Tx().start(0),[4,this.lAi(Z8.MSt)]):[2]):[2];case 1:return i.sent(),this.oa.wn("timeupdate",this.fAi),this.oa.wn("seeking",this.vAi),[2]}})}).call(this)},i.lAi=function(t,n){return Vt(function(){var i,r,e,s,u,o,h;return zt(this,function(c){switch(c.label){case 0:if(i=this.uAi.preplayResponse,r={},S(this.dAi))return[2];if(Un(this._Ai)&&Ei(this._Ai,this.oa.LP()-this.dAi))return[2];void 0!==n&&(r.seekTime=n),void 0!==t&&(r.event=t),e=this.oa.LP()-this.dAi,t===Z8.MSt?e=0:t!==Z8.Xz&&this.gAi&&(e=b.min(e,this.gAi)),this._Ai=e,c.label=1;case 1:return c.trys.push([1,3,4,5]),[4,this.pAi.RSt(Yu({zonePrefix:i.prefix,sessionId:i.sid,currentTime:e,hasFreeWheelVideoViews:null==(u=this.uAi)?void 0:u.source.ping.freeWheelVideoViews},r),this.nT.Yg)];case 2:return o=c.sent(),this.So(new t7(o)),this.gAi=-1!==o.next_time?o.next_time:void 0,s=o.error,[3,5];case 3:return vr(h=c.sent())||(s=h.message),[3,5];case 4:return s&&this.So(new i7(s)),[7];case 5:return[2]}})}).call(this)},i.hr=function(){this.gAi=void 0,this.uAi=void 0,this.dAi=NaN,this.mAi=!1,this.wAi=NaN,this._Ai=void 0,this.oa.mn("seeking",this.vAi),this.oa.mn("timeupdate",this.fAi),this.yAi()},i.yAi=function(){this.nT.Zg(),this.nT=new hr},i.kn=function(){this.hr()},Nt(n,[{key:"rAi",set:function(t){this.uAi=t}},{key:"cAi",get:function(){return this.dAi}}]),n}(th);F(),Et(),Wt(),Ut(),Qt();var s7=function(){function t(t,n){this.AAi=void 0,this.VJ=void 0,this.AAi=t,this.VJ=n}return t.prototype.Cgi=function(t){return Vt(function(){var n,i,r,e,s,u;return zt(this,function(o){switch(o.label){case 0:n=[],i=Lt(t.sources),o.label=1;case 1:return(r=i()).done?[3,6]:GA(e=r.value)?[3,2]:(n.push(e),[3,5]);case 2:return o.trys.push([2,4,,5]),[4,this.AAi.RSt(e)];case 3:return s=o.sent(),u=function(t,n,i){var r,e=t.preplayResponse;t.source.contentProtected&&e.drm&&(r={integration:"uplynk"},e.drm.fairplayCertificateURL&&(r.fairplay={certificateURL:e.drm.fairplayCertificateURL}),e.drm.widevineLicenseURL&&(r.widevine={licenseAcquisitionURL:e.drm.widevineLicenseURL}),e.drm.playreadyLicenseURL&&(r.playready={licenseAcquisitionURL:e.drm.playreadyLicenseURL}));var s=vA({src:e.playURL,contentProtection:r,useNativePlayback:t.source.useNativePlayback,hls:t.source.hls,dash:t.source.dash,seamlessSwitchStrategy:t.source.seamlessSwitchStrategy},n,i);return s.integrationData=t,s}({source:e,preplayResponse:s},t,this.VJ),u.src&&(u.src=Al(u.src,e.playbackUrlParameters)),n.push(u),[3,5];case 4:return o.sent(),[3,5];case 5:return[3,1];case 6:if(0!==t.sources.length&&0===n.length)throw new y("Fatal: unable to play UplynkSources.");return[2,Yu({},t,{sources:n})]}})}).call(this)},t}();F(),Et(),Bt(),Ut(),F(),Et(),Bt(),Dt(),Ut(),F(),Et(),Dt();var u7=function(t){function n(n,i){var r;return(r=t.call(this,"Dnt")||this).od=void 0,r.XF=void 0,r.od=n,r.XF=i,r}return Ct(n,t),n.prototype.xa=function(){return new o7(this.od.Ca)},n}(kw),o7=function(t){function n(n){var i;return(i=t.call(this,"adbreakbegin")||this).adBreak=void 0,i.adBreak=n,i}return Ct(n,t),n}(rh);F(),Et(),Dt();var h7=function(t){function n(n,i){var r;return(r=t.call(this,"Cnt")||this).od=void 0,r.XF=void 0,r.od=n,r.XF=i,r}return Ct(n,t),n.prototype.xa=function(){return new c7(this.od.Ca)},n}(kw),c7=function(t){function n(n){var i;return(i=t.call(this,"adbreakend")||this).adBreak=void 0,i.adBreak=n,i}return Ct(n,t),n}(rh);F(),Et(),Dt();var a7=function(t){function n(n){var i;return(i=t.call(this,"Oyi")||this).od=void 0,i.od=n,i}return Ct(n,t),n.prototype.xa=function(){return new f7(this.od.Ca)},n}(kw),f7=function(t){function n(n){var i;return(i=t.call(this,"adbreakskip")||this).adBreak=void 0,i.adBreak=n,i}return Ct(n,t),n}(rh);F(),Et(),F(),Et(),Dt();var v7=function(t){function n(n){var i;return(i=t.call(this,"k4t")||this).od=void 0,i.od=n,i}return Ct(n,t),n.prototype.xa=function(){return new d7(this.od.Ca)},n}(kw),d7=function(t){function n(n){var i;return(i=t.call(this,"updateadbreak")||this).adBreak=void 0,i.adBreak=n,i}return Ct(n,t),n}(rh),l7=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this)||this).OO=void 0,u.WA=void 0,u.qc=void 0,u.gpi=void 0,u.hu=void 0,u.ho=void 0,u.ZYt=void 0,u.TAi=void 0,u.OO=n,u.WA=i,u.qc=r,u.gpi=e,u.ho=!1,u.TAi=!1,u.ZYt=s,u}Ct(n,t);var i=n.prototype;return i.bAi=function(t){this.WA=t-this.EO;for(var n,i=Lt(this.Jc.ec);!(n=i()).done;){var r=n.value;r.EO>t&&this.Jc._S(r)}this.So(new v7(this))},i.Qut=function(t){return t>=this.EO&&(Fn(this.ct)||t<=this.EO+this.ct)},i.kAi=function(t){return-1!==this.JYt&&(!!Un(this.PO)&&t-this.EO>=this.JYt)},i.rD=function(){this.qc.ec.forEach(function(t){return t.rD()}),this.So(new a7(this))},i.EAi=function(t){var n=Un(this.PO)&&t>=this.PO,i=this.EO<=t&&!n&&!this.ro,r=this.ro&&this.PO&&t>=this.PO;i&&(this.ho=!0,this.So(new u7(this,this.EO))),this.qc.ec.forEach(function(n){return n.EAi(t)}),r&&(this.TAi=!0,this.ho=!1,this.So(new h7(this,this.PO)))},Nt(n,[{key:"Ca",get:function(){return this.hu||(this.hu=function(t){var n,i={get startTime(){return t.EO},get endTime(){return t.PO},get duration(){return t.ct},get ads(){return t.Jc.Ca},get skipOffset(){return t.JYt},set skipOffset(n){t.JYt=n},addEventListener:function(t,i){n.wn(t,i)},removeEventListener:function(t,i){n.mn(t,i)}};return n=new cR(t,i),i}(this)),this.hu}},{key:"EO",get:function(){return this.OO}},{key:"PO",get:function(){return this.WA?this.OO+this.WA:void 0}},{key:"ct",get:function(){return this.WA}},{key:"Sat",get:function(){var t=this.PO;return Un(t)?new TA([this.EO,t]):TA.iL()}},{key:"Jc",get:function(){return this.qc}},{key:"SAi",get:function(){return this.TAi}},{key:"ro",get:function(){return this.ho}},{key:"JYt",get:function(){return this.gpi?-1:this.ZYt},set:function(t){this.gpi||(this.ZYt=t)}}]),n}(ih);F(),Et(),Bt(),Dt(),F(),Et(),Dt();var w7=function(t){function n(n,i){var r;return(r=t.call(this,"Bnt")||this).Int=void 0,r.XF=void 0,r.Int=n,r.XF=i,r}return Ct(n,t),n.prototype.xa=function(){return new g7(this.Int.Ca)},n}(kw),g7=function(t){function n(n){var i;return(i=t.call(this,"adbegin")||this).ad=void 0,i.ad=n,i}return Ct(n,t),n}(rh);F(),Et(),Dt();var _7=function(t){function n(n,i){var r;return(r=t.call(this,"Nnt")||this).Int=void 0,r.XF=void 0,r.Int=n,r.XF=i,r}return Ct(n,t),n.prototype.xa=function(){return new m7(this.Int.Ca)},n}(kw),m7=function(t){function n(n){var i;return(i=t.call(this,"adend")||this).ad=void 0,i.ad=n,i}return Ct(n,t),n}(rh);F(),Et(),Dt(),F(),Et(),Dt();var y7=function(t){function n(n){var i;return(i=t.call(this,"PAi")||this).Int=void 0,i.Int=n,i}return Ct(n,t),n.prototype.xa=function(){return new p7(this.Int.Ca)},n}(kw),p7=function(t){function n(n){var i;return(i=t.call(this,"removead")||this).ad=void 0,i.ad=n,i}return Ct(n,t),n}(rh),k7=function(t){function n(){return t.call(this)||this}Ct(n,t);var i=n.prototype;return i.bei=function(t){},i.Eei=function(t){this.So(new y7(t))},n}(c1);F(),Et(),Dt();var b7=function(t){function n(n){var i;return(i=t.call(this,"P4t")||this).Int=void 0,i.Int=n,i}return Ct(n,t),n.prototype.xa=function(){return new A7(this.Int.Ca)},n}(kw),A7=function(t){function n(n){var i;return(i=t.call(this,"adfirstquartile")||this).ad=void 0,i.ad=n,i}return Ct(n,t),n}(rh),T7=function(t){function n(n){var i;return(i=t.call(this,"x4t")||this).Int=void 0,i.Int=n,i}return Ct(n,t),n.prototype.xa=function(){return new S7(this.Int.Ca)},n}(kw),S7=function(t){function n(n){var i;return(i=t.call(this,"admidpoint")||this).ad=void 0,i.ad=n,i}return Ct(n,t),n}(rh),E7=function(t){function n(n){var i;return(i=t.call(this,"I4t")||this).Int=void 0,i.Int=n,i}return Ct(n,t),n.prototype.xa=function(){return new I7(this.Int.Ca)},n}(kw),I7=function(t){function n(n){var i;return(i=t.call(this,"adthirdquartile")||this).ad=void 0,i.ad=n,i}return Ct(n,t),n}(rh),R7=function(t){function n(n){var i;return(i=t.call(this,"xAi")||this).Int=void 0,i.Int=n,i}return Ct(n,t),n.prototype.xa=function(){return new C7(this.Int.Ca)},n}(kw),C7=function(t){function n(n){var i;return(i=t.call(this,"adcomplete")||this).ad=void 0,i.ad=n,i}return Ct(n,t),n}(rh);F(),Et();var D7=function(t){function n(n,i,r,e,s,u,o,h,c,a,f,v){var d;return void 0===c&&(c=[]),void 0===a&&(a={}),void 0===f&&(f={}),(d=t.call(this)||this).OO=void 0,d.WA=void 0,d.dYt=void 0,d.BAi=void 0,d.SQ=void 0,d.sb=void 0,d.hb=void 0,d.rJt=void 0,d.NAi=void 0,d.Zf=void 0,d.VYt=void 0,d.iYt=void 0,d.hu=void 0,d.ho=void 0,d.MAi=void 0,d.LAi=void 0,d.OAi=void 0,d.FAi=void 0,d.UAi=void 0,d.VAi=void 0,d.OO=n,d.WA=i,d.dYt=r,d.BAi=e,d.SQ=s,d.sb=u,d.hb=o,d.rJt=c,d.NAi=a,d.Zf=f,d.VYt=v,d.iYt=new k7,d.ho=!1,d.MAi=!1,d.LAi=!1,d.OAi=!1,d.FAi=!1,d.UAi=function(){return d.Xyi(d.OO)},d.VAi=function(){return d.Xyi(d.PO)},d.iYt.Sei(h),d.wn("Bnt",d.UAi),d.wn("Nnt",d.VAi),d}Ct(n,t);var i=n.prototype;return i.EAi=function(t){var n=this.EO<=t&&t<this.PO,i=n&&!this.ro,r=!n&&this.ro;i&&(this.MAi=!1,this.LAi=!1,this.OAi=!1,this.FAi=!1,this.ho=!0,this.So(new w7(this,this.EO))),r&&(this.ho=!1,this.So(new _7(this,this.PO)))},i.Xyi=function(t){var n=(t-this.EO)/this.ct;!this.MAi&&n>=.25&&(this.MAi=!0,this.So(new b7(this))),!this.LAi&&n>=.5&&(this.LAi=!0,this.So(new T7(this))),!this.OAi&&n>=.75&&(this.OAi=!0,this.So(new E7(this))),!this.FAi&&n>=.9999&&(this.FAi=!0,this.So(new R7(this)))},i.rD=function(){this.MAi=!0,this.LAi=!0,this.OAi=!0,this.FAi=!0},i.kn=function(){this.mn("Bnt",this.UAi),this.mn("Nnt",this.VAi)},n.IAi=function(t,i){return new n(t,i.duration,i.apiFramework||"",i.creative,i.mimeType,i.width,i.height,i.companions.map(function(i){return n.IAi(t,i)}),i.extensions,i.fw_parameters,i.events,void 0)},n.RAi=function(t,i){return new n(t,i.duration,i.apiFramework||"",i.creative,i.mimeType,i.width,i.height,i.companions.map(function(i){return n.RAi(t,i)}),i.extensions,i.fw_parameters,void 0,i.ad_id)},Nt(n,[{key:"Ca",get:function(){return this.hu||(this.hu=function(t){var n,i={get apiFramework(){return t.cYt},get companions(){return t.tYt.Ca},get creative(){return t.CAi},get duration(){return t.ct},get endTime(){return t.PO},get events(){return t.aQ},get extensions(){return t.nJt},get freeWheelParameters(){return t.DAi},get height(){return t.Mi},get mimeType(){return t.oQ},get startTime(){return t.EO},get width(){return t.Ti},addEventListener:function(t,i){n.wn(t,i)},removeEventListener:function(t,i){n.mn(t,i)}};return n=new cR(t,i),i}(this)),this.hu}},{key:"EO",get:function(){return this.OO}},{key:"PO",get:function(){return this.OO+this.WA}},{key:"ct",get:function(){return this.WA}},{key:"cYt",get:function(){return this.dYt}},{key:"CAi",get:function(){return this.BAi}},{key:"oQ",get:function(){return this.SQ}},{key:"Ti",get:function(){return this.sb}},{key:"Mi",get:function(){return this.hb}},{key:"aQ",get:function(){return this.Zf}},{key:"tYt",get:function(){return this.iYt}},{key:"nJt",get:function(){return this.rJt}},{key:"DAi",get:function(){return this.NAi}},{key:"ro",get:function(){return this.ho}},{key:"iAi",get:function(){var t;return null!=(t=this.Zf.clickthroughs)?t:[]}}]),n}(ih);F(),Et(),Dt(),F(),Et(),Dt();var P7=function(t){function n(n){var i;return(i=t.call(this,"xnt")||this).od=void 0,i.od=n,i}return Ct(n,t),n.prototype.xa=function(){return new N7(this.od.Ca)},n}(kw),N7=function(t){function n(n){var i;return(i=t.call(this,"addadbreak")||this).adBreak=void 0,i.adBreak=n,i}return Ct(n,t),n}(rh);F(),Et(),Dt();var B7=function(t){function n(n){var i;return(i=t.call(this,"Pnt")||this).od=void 0,i.od=n,i}return Ct(n,t),n.prototype.xa=function(){return new x7(this.od.Ca)},n}(kw),x7=function(t){function n(n){var i;return(i=t.call(this,"removeadbreak")||this).adBreak=void 0,i.adBreak=n,i}return Ct(n,t),n}(rh),O7=function(t){function n(){return t.call(this)||this}Ct(n,t);var i=n.prototype;return i.bei=function(t){this.So(new P7(t))},i.Eei=function(t){this.So(new B7(t))},n}(c1),M7=function(){function t(t,n,i,r){var e,s=this;this.oa=void 0,this.Cyi=void 0,this.X0t=void 0,this.qAi=void 0,this.WAi=void 0,this.hu=void 0,this.XAi=void 0,this.zAi=[],this.KAi=void 0,this.JAi=function(t){return s.KAi=t,s},this.QAi=function(t){t.oE.ads&&s.qyi(t.oE.ads),t.oE.currentBreakEnd&&s.GAi(t.oE.currentBreakEnd)},this.jAi=function(t){if(0!==s.zAi.length&&0!==s.oa.Tx().length)for(var n,i=s.oa.Tx().end(s.oa.Tx().length-1),r=Lt(s.zAi.slice());!(n=r()).done;){var e=n.value;Un(e.zKt.ct)?Xi(s.zAi,e):e.Zxt<i&&(e.zKt.bAi(e.Zxt),Xi(s.zAi,e))}},this.jd=function(t){var n,i=null==(n=s.KAi)?void 0:n.createAdBreak({timeOffset:t.od.EO,maxDuration:t.od.ct,customData:t.od});t.od.wn("Oyi",s.ZAi);for(var r,e=Lt(t.od.Jc.ec);!(r=e()).done;){var u,o,h=r.value,c={type:"linear",timeOffset:h.EO,duration:h.ct,creativeId:h.CAi,skipOffset:t.od.JYt,clickThrough:null==(u=h.iAi)?void 0:u[0],customData:h};null==(o=s.KAi)||o.createAd(c,i),h.wn("Bnt",s.o9t),h.wn("Nnt",s.$Ai),h.wn("P4t",s.tbi),h.wn("x4t",s.ibi),h.wn("I4t",s.ebi),h.wn("xAi",s.bwi)}},this.ZAi=function(t){for(var n,i=Lt(t.od.Jc.ec);!(n=i()).done;){var r,e,u=n.value,o=s.YAi(u);if(o)null==(r=s.KAi)||r.beginAd(o),null==(e=s.KAi)||e.skipAd(o)}},this.Td=function(t){for(var n,i=Lt(t.od.Jc.ec);!(n=i()).done;){n.value.Vo()}t.od.Vo()},this.o9t=function(t){var n,i=s.YAi(t.Int);i&&(null==(n=s.KAi)||n.beginAd(i))},this.$Ai=function(t){var n,i=s.YAi(t.Int);i&&(null==(n=s.KAi)||n.endAd(i))},this.tbi=function(t){var n,i=s.YAi(t.Int);i&&(null==(n=s.KAi)||n.updateAdProgress(i,.25))},this.ibi=function(t){var n,i=s.YAi(t.Int);i&&(null==(n=s.KAi)||n.updateAdProgress(i,.5))},this.ebi=function(t){var n,i=s.YAi(t.Int);i&&(null==(n=s.KAi)||n.updateAdProgress(i,.75))},this.bwi=function(t){var n,i=s.YAi(t.Int);i&&(null==(n=s.KAi)||n.updateAdProgress(i,1))},this.oa=t,this.Cyi=n,this.X0t=new O7,this.X0t.wn("xnt",this.jd),this.X0t.wn("Pnt",this.Td),this.qAi=i,this.WAi=r,t.wn("timeupdate",this.jAi),this.Cyi.wn("oAi",this.QAi),null==(e=this.oa.Jc)||e.Tnt(mS.UPLYNK,this.JAi)}var n=t.prototype;return n.jyi=function(t){if(0!==t.length)for(var n,i=TA.jn(t),r=Lt(this.X0t.ec.slice());!(n=r()).done;){var e=n.value;Un(e.PO)&&i.Tn(0)>e.PO&&this.X0t._S(e)}},n.qyi=function(t){for(var n,i=!function(t){return Un(t.breakOffsets)}(t),r=i?this.Cyi.cAi:0,e=Lt(t.breaks);!(n=e()).done;){var s=n.value;if(0!==s.ads.length){for(var u,o=s.timeOffset+r,h=new k7,c=0,a=Lt(s.ads);!(u=a()).done;){var f=u.value,v=i?D7.RAi(o,f):D7.IAi(o,f);h.lO(v),o+=v.ct,c+=v.ct}var d=s.timeOffset+r,l=i?void 0:s.duration,w=new l7(d,l,h,i,this.qAi);i&&this.zAi.push({zKt:w,Zxt:d+c}),this.X0t.lO(w)}}},n.GAi=function(t){var n=this.HAi;n&&n.bAi(t+this.Cyi.cAi)},n.Gyi=function(t){this.XAi=t,this.X0t.ec.forEach(function(n){return n.EAi(t)})},n.rD=function(){var t=this.XAi,n=this.ynt;t&&n&&n.kAi(t)&&n.rD()},n.skipAd=function(t){this.rD()},n.Yyi=function(t,n){for(var i,r=[],e=Lt(this.A0t.ec);!(i=e()).done;){var s=i.value;!s.SAi&&s.EO>=t&&s.EO<n&&r.push(s)}return r},n.destroy=function(){this.oa.mn("timeupdate",this.jAi),this.Cyi.mn("oAi",this.QAi)},n.resetSource=function(){for(var t,n,i=Lt(this.A0t.ec);!(n=i()).done;){for(var r,e=n.value,s=Lt(e.Jc.ec);!(r=s()).done;){r.value.Vo()}e.Vo()}this.A0t.Gy(),null==(t=this.KAi)||t.removeAllAds(),this.XAi=void 0,this.zAi=[]},n.YAi=function(t){return Ui(this.KAi.ads,function(n){return n.creativeId===t.CAi})},Nt(t,[{key:"Ca",get:function(){return this.hu||(this.hu=function(t){return{get adBreaks(){return t.A0t.Ca},get currentAdBreak(){if(t.ynt)return t.ynt.Ca},get currentAds(){return t.ynt?t.ynt.Jc.Ca:(new k7).Ca},skip:function(){t.rD()}}}(this)),this.hu}},{key:"A0t",get:function(){return this.X0t}},{key:"ynt",get:function(){return Ui(this.X0t.ec,function(t){return t.ro})}},{key:"mnt",get:function(){return this.ynt?this.ynt.Jc.ec.filter(function(t){return t.ro}):[]}},{key:"HAi",get:function(){if(0!==this.A0t.V&&0!==this.oa.Tx().length){var t=this.oa.Tx().end(this.oa.Tx().length-1);return Ui(this.A0t.ec,function(n){return n.Qut(t)})}}},{key:"Kyi",get:function(){return this.WAi}}]),t}();F(),Et(),Wt(),Qt(),F(),Et(),F(),Et(),Bt();var L7=function(t){return t[t.NOT_AVAILABLE=-1]="NOT_AVAILABLE",t[t.NOT_APPLICABLE=0]="NOT_APPLICABLE",t[t.G=1]="G",t[t.PG=2]="PG",t[t.PG_13=3]="PG_13",t[t.R=4]="R",t[t.NC_17=5]="NC_17",t[t.X=6]="X",t[t.NOT_RATED=7]="NOT_RATED",t}({}),U7=function(t){return t[t.NOT_AVAILABLE=-1]="NOT_AVAILABLE",t[t.NOT_APPLICABLE=0]="NOT_APPLICABLE",t[t.TV_Y=1]="TV_Y",t[t.TV_Y7=2]="TV_Y7",t[t.TV_G=3]="TV_G",t[t.TV_PG=4]="TV_PG",t[t.TV_14=5]="TV_14",t[t.TV_MA=6]="TV_MA",t[t.NOT_RATED=7]="NOT_RATED",t}({}),F7=function(){function t(t,n,i,r,e,s,u,o,h,c,a,f,v,d,l,w,g,_,m,y,p,k,b,A,T){this.EO=void 0,this.PO=void 0,this.ct=void 0,this.nbi=void 0,this.rbi=void 0,this.lt=void 0,this.hbi=void 0,this.obi=void 0,this.abi=void 0,this.ubi=void 0,this.cbi=void 0,this.dbi=void 0,this.DU=void 0,this.lbi=void 0,this.fbi=void 0,this.vbi=void 0,this._bi=void 0,this.dB=void 0,this.gbi=void 0,this.pbi=void 0,this.mbi=void 0,this.wbi=void 0,this.ybi=void 0,this.Abi=void 0,this.bbi=void 0,this.hu=void 0,this.EO=t,this.PO=n,this.ct=i,this.nbi=r,this.rbi=e,this.lt=s,this.hbi=u,this.obi=o,this.abi=h,this.ubi=c,this.cbi=a,this.dbi=f,this.DU=v,this.lbi=d,this.fbi=l,this.vbi=w,this._bi=g,this.dB=_,this.gbi=m,this.pbi=y,this.mbi=p,this.wbi=k,this.ybi=b,this.Abi=A,this.bbi=T}return t.sbi=function(n,i,r){var e=new Bh(n.rating_flags);return new t(i,r,n.duration,Boolean(n.audio_only),n.boundary_details,Boolean(n.error),n.tv_rating,n.max_slice,n.thumb_prefix,n.slice_dur,n.movie_rating,n.owner,n.meta,n.rates,n.thumbs,n.poster_url,n.default_poster_url,n.desc,e.Oy(1),e.Oy(2),e.Oy(4),e.Oy(8),n.external_id,Boolean(n.is_ad),n.asset)},Nt(t,[{key:"Ca",get:function(){return this.hu||(this.hu=function(t){return{startTime:t.EO,endTime:t.PO,duration:t.ct,audioOnly:t.nbi,boundaryDetails:t.rbi,error:t.lt,tvRating:t.hbi,maxSlice:t.obi,thumbPrefix:t.abi,sliceDuration:t.ubi,movieRating:t.cbi,ownerId:t.dbi,metadata:t.DU,rates:t.lbi,thumbnailResolutions:t.fbi,posterUrl:t.vbi,defaultPosterUrl:t._bi,description:t.dB,hasAdultLanguage:t.gbi,hasSexualSituations:t.pbi,hasViolence:t.mbi,hasDrugSituations:t.wbi,externalId:t.ybi,isAd:t.Abi,assetId:t.bbi}}(this)),this.hu}}]),t}();var V7=Mk({duration:Rk,offset:Rk}),H7=Mk({c3:V7}),W7=Mk({c7:V7}),z7=Mk({halftime:V7}),X7=Fk(Lk(U7)),q7=Fk(Lk(L7)),G7=Mk({width:Hk(Pk,Rk),prefix:Ck,bw:Rk,bh:Rk,height:Hk(Pk,Rk)}),j7=Mk({audio_only:Rk,boundary_details:Hk(Pk,zk(Hk(H7,W7,z7))),error:Rk,tv_rating:X7,max_slice:Rk,thumb_prefix:Ck,slice_dur:Rk,movie_rating:q7,owner:Ck,meta:Nk,rates:zk(Rk),thumbs:zk(G7),poster_url:Ck,duration:Rk,default_poster_url:Ck,desc:Ck,rating_flags:Rk,external_id:Ck,is_ad:Rk,asset:Ck}),Q7=function(){function t(t){this.nV=void 0,this.nV=t}var n=t.prototype;return n.RSt=function(t,n,i,r){return Vt(function(){var e,s,u;return zt(this,function(o){switch(o.label){case 0:return e=this,s=function(t,n,i){if(H8.qH(n))return[Y7(t,n,i)];if(zk(H8).qH(n))return n.map(function(n){return Y7(t,n,i)});if(W8.qH(n)){return(Hn(n.externalId)?n.externalId:[n.externalId]).map(function(r){return Y7(t,"ext/"+n.userId+"/"+r,i)})}throw new p("Invalid asset id")}(t,n,r),u=s.map(function(t){return gT(function(){return e.hAi(t)},i)}),[4,ut.all(u)];case 1:return[2,o.sent().filter(Un)]}})}).call(this)},n.hAi=function(t){return Vt(function(){var n;return zt(this,function(i){switch(i.label){case 0:return[4,this.nV.lk({Uk:wl.GET,Yu:t,dk:Md.DT})];case 1:return[4,i.sent().ck()];case 2:return n=i.sent(),j7.qH(n)||j7.GH(n,"AssetInfoResponse"),[2,n]}})}).call(this)},t}();function Y7(t,n,i){return i?t+"/player/assetinfo/"+n+".json?pbs="+i:t+"/player/assetinfo/"+n+".json"}F(),Et(),Dt(),Ut(),F(),Et(),Dt();var K7=function(t){function n(n){var i;return(i=t.call(this,"Sbi")||this).pd=void 0,i.pd=n,i}return Ct(n,t),n.prototype.xa=function(){return new J7(this.pd.Ca)},n}(kw),J7=function(t){function n(n){var i;return(i=t.call(this,"removeasset")||this).asset=void 0,i.asset=n,i}return Ct(n,t),n}(rh);F(),Et(),Dt();var Z7=function(t){function n(n){var i;return(i=t.call(this,"Tbi")||this).pd=void 0,i.pd=n,i}return Ct(n,t),n.prototype.xa=function(){return new $7(this.pd.Ca)},n}(kw),$7=function(t){function n(n){var i;return(i=t.call(this,"addasset")||this).asset=void 0,i.asset=n,i}return Ct(n,t),n}(rh),t9=function(t){function n(){return t.call(this)||this}Ct(n,t);var i=n.prototype;return i.qyi=function(t,n){for(var i,r,e=0,s=Lt(t);!(r=s()).done;){var u=r.value;i=e+u.duration;for(var o,h=Lt(n);!(o=h()).done;){var c=o.value;e<=c.EO&&c.EO<i&&(i+=c.ct||0)}this.lO(F7.sbi(u,e,i)),e=i}},i.bei=function(t){this.So(new Z7(t))},i.Eei=function(t){this.So(new K7(t))},n}(c1);F(),Et(),Bt(),Dt(),F(),Et(),Dt();var n9=function(t){function n(n){var i;return(i=t.call(this,"kbi")||this).oE=void 0,i.oE=n,i}return Ct(n,t),n.prototype.xa=function(){return new i9(this.oE)},n}(kw),i9=function(t){function n(n){var i;return(i=t.call(this,"preplayresponse")||this).response=void 0,i.response=n,i}return Ct(n,t),n}(rh);F(),Et(),Dt();var r9=function(t){function n(n){var i;return(i=t.call(this,"Ebi")||this).oE=void 0,i.oE=n,i}return Ct(n,t),n.prototype.xa=function(){return new e9(this.oE)},n}(kw),e9=function(t){function n(n){var i;return(i=t.call(this,"assetinforesponse")||this).response=void 0,i.response=n,i}return Ct(n,t),n}(rh),s9=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).hu=void 0,e.Pyi=void 0,e.xyi=void 0,e.Cyi=void 0,e.Pyi=n,e.xyi=i,e.Cyi=r,r.wn("oAi",e.Rs),r.wn("aAi",e.Rs),e}Ct(n,t);var i=n.prototype;return i.nAi=function(t){t&&this.So(new n9(Ow(t)))},i.Wyi=function(t){var n=this;t.forEach(function(t){return n.So(new r9(t))})},i.xa=function(){var t,n=this,i={get ads(){return n.Pyi.Ca},get assets(){return n.xyi.Ca},addEventListener:function(n,i){t.wn(n,i)},removeEventListener:function(n,i){t.mn(n,i)}};return t=new cR(n,i),i},Nt(n,[{key:"Ca",get:function(){return this.hu||(this.hu=this.xa()),this.hu}}]),n}(ih),u9=function(){function t(){}return t.prototype.Pbi=function(t,n){var i=new z8(t.SP),r=new $8(t.SP),e=function(t){if(t.uplynk&&Un(t.uplynk.defaultSkipOffset))return function(t){return Yn(t)?t:-1}(t.uplynk.defaultSkipOffset);return-1}(n),s=function(t){var n,i,r=null!=(i=null==(n=t.uplynk)?void 0:n.onSeekOverAd)?i:void 0;return function(t){if(!t)return"play-none";switch(t.toLowerCase()){case"play-all":return"play-all";case"play-none":default:return"play-none";case"play-last":return"play-last"}}(r)}(n),u=new e7(r,t),o=new s7(i,n),h=new M7(t,u,e,s),c=new Q7(t.SP),a=new t9,f=new s9(h,a,u);return new D8(t,u,o,h,f,c,a)},t}();Vb(function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).xbi=void 0,r.xbi=(new u9).Pbi(r,i),r}Ct(n,t);var i=n.prototype;return i.Ryi=function(n){t.prototype.Ta.call(this,n)},i.Dyi=function(n,i){return t.prototype.Xnt.call(this,n,i)},i.$yi=function(n){t.prototype.OP.call(this,n)},i.HP=function(){var n;return null!=(n=this.xbi.lt)?n:t.prototype.HP.call(this)},i.qP=function(){var n;return null!=(n=this.xbi.WP)?n:t.prototype.qP.call(this)},i.OP=function(t,n){this.xbi.OP(t)},i.Ta=function(t){this.xbi.Ta(t)},i.Xnt=function(t,n){return this.xbi.Xnt(t,n)},i.xa=function(){var n=this.xbi.Ca;return xw(t.prototype.xa.call(this),{get uplynk(){return n}})},i.kn=function(){this.xbi.kn(),t.prototype.kn.call(this)},n}(t)},Ub.rnt),F(),Et(),F(),Et(),Wt(),Dt(),Ut(),Qt(),F(),Et(),Wt(),Bt(),Ut(),Qt(),F(),Et();var o9=function(t){return t.CREATIVE_VIEW="creativeView",t.START="start",t.FIRST_QUARTILE="firstQuartile",t.MID_POINT="midpoint",t.THIRD_QUARTILE="thirdQuartile",t.COMPLETE="complete",t.MUTE="mute",t.UNMUTE="unmute",t.PAUSE="pause",t.REWIND="rewind",t.RESUME="resume",t.FULL_SCREEN="fullscreen",t.EXIT_FULL_SCREEN="exitFullscreen",t.EXPAND="expand",t.COLLAPSE="collapse",t.ACCEPT_INVITATION_LINEAR="acceptInvitationLinear",t.ACCEPT_INVITATION="acceptInvitation",t.CLOSE_LINEAR="closeLinear",t.CLOSE="close",t.SKIP="skip",t.SKIP_SHOWN="skipShown",t.PROGRESS="progress",t.ENGAGED_VIEW="engagedView",t.IMPRESSION="impression",t.ERROR="error",t}({});F(),Et(),Bt(),Dt();var h9=function(t){function n(n,i,r,e){var s;return(s=t.call(this,n,i)||this).mYt=void 0,s.OO=void 0,s.mYt=e,s.OO=r,s}return Ct(n,t),n.prototype.xa=function(){return M$(this)},Nt(n,[{key:"MZt",get:function(){return UZ.W0t}},{key:"EO",get:function(){return this.OO}},{key:"NKt",get:function(){return this.mYt}}]),n}(O$);F(),Et(),Bt(),Dt();var c9=function(t){function n(n,i,r){var e;if((e=t.call(this,i)||this).Ibi=void 0,e.J3t=n,e.Z3t=n,r){var s=new Date(r);he(s)&&(e.Ibi=s)}return e}return Ct(n,t),Nt(n,[{key:"SOt",get:function(){return this.Ibi}},{key:"MZt",get:function(){return UZ.W0t}}]),n}(P$),a9=function(){function t(t,n,i){var r=this;this.oa=void 0,this.Xbi=void 0,this.qbi=-1/0,this.Dbi=void 0,this.Nbi=0,this.Obi=[],this.Gbi=void 0,this.Lwi=!1,this.mK=!1,this.NNt=-1,this.Ubi=void 0,this.Lbi=void 0,this.Wbi=0,this.IL=function(){r.Mbi()},this.IXt=function(){r.Zbi(o9.RESUME)},this.oNt=function(){r.jbi(),r.Zbi(o9.PAUSE)},this.Je=function(){r.jbi(),r.NNt=-1},this.Eh=function(){r.jbi()},this.bd=function(){-1===r.NNt&&(r.NNt=r.Bbi()),r.Qbi(),r.Kbi(),r.NNt=r.Bbi()},this.R2t=function(){if(r.Lwi!==r.oa.$P){r.Lwi=r.oa.$P;var t=r.Lwi?o9.MUTE:o9.UNMUTE;r.Zbi(t)}},this.Rbi=function(){if(r.mK!==r.oa.ds()){r.mK=r.oa.ds();var t=r.mK?o9.FULL_SCREEN:o9.EXIT_FULL_SCREEN;r.Zbi(t)}},this.e8=function(t){vr(t)||(r.Zbi(o9.ERROR),kr(r.Hbi()))},this.Ybi=[o9.START,o9.FIRST_QUARTILE,o9.MID_POINT,o9.THIRD_QUARTILE,o9.COMPLETE,o9.IMPRESSION,o9.CREATIVE_VIEW],this.oa=t,this.Xbi=n,this.Gbi=i,this.OI()}var n=t.prototype;return n.OI=function(){this.oa.wn(Ey.TM,this.IL),this.oa.wn(eh.jw,this.oNt),this.oa.wn(eh.uo,this.IXt),this.oa.wn(eh.$w,this.Je),this.oa.wn(eh.Bw,this.Eh),this.oa.wn(eh._y,this.bd),this.oa.wn(eh.gy,this.R2t),this.oa.wn(RI.MODE_CHANGE,this.Rbi)},n.MI=function(){this.oa.mn(Ey.TM,this.IL),this.oa.mn(eh.jw,this.oNt),this.oa.mn(eh.uo,this.IXt),this.oa.mn(eh.$w,this.Je),this.oa.mn(eh.Bw,this.Eh),this.oa.mn(eh._y,this.bd),this.oa.mn(eh.gy,this.R2t),this.oa.mn(RI.MODE_CHANGE,this.Rbi)},n.Bbi=function(){return this.oa.LP()-this.Nbi},n.Mbi=function(){var t=this;if(!this.Lbi)if(this.oa.Nd()===1/0){var n=function(){var n;null==(n=t.Ubi)||n.zg(),t.Ubi=void 0,t.Lbi=void 0};this.Ubi=new hr,this.Lbi=this.Vbi(this.Ubi.Yg).catch(this.e8).then(n,n)}else 0===this.Obi.length&&(this.Lbi=this.Fbi())},n.Hbi=function(){return Vt(function(){var t,n;return zt(this,function(i){switch(i.label){case 0:t=b.min(1e3*b.pow(2,this.Wbi),3e4),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,Ar(t,null==(n=this.Ubi)?void 0:n.Yg)];case 2:return i.sent(),this.Wbi++,[3,4];case 3:return vr(i.sent())?(this.Wbi=0,[2]):[3,4];case 4:return this.Mbi(),[2]}})}).call(this)},n.Vbi=function(t){return Vt(function(){var n;return zt(this,function(i){switch(i.label){case 0:return dr(t),this.oa.hx?[3,5]:(n=Vn.Mg()-this.qbi)>1e4?[4,this.Fbi(t)]:[3,2];case 1:return i.sent(),this.qbi=Vn.Mg(),this.Wbi=0,[3,4];case 2:return[4,Ar(1e4-n,t)];case 3:i.sent(),i.label=4;case 4:return[3,0];case 5:return[2]}})}).call(this)},n.zbi=function(t){var n=t.SOt;if(n&&this.oa.CP&&0===this.Nbi&&!this.Gbi&&0!==b.floor(this.oa.Tx().start(0))){var i=(this.oa.CP.getTime()-n.getTime())/1e3,r=this.oa.LP()-t._Ot;this.Nbi=r-i}},n.Fbi=function(t){return Vt(function(){var n,i,r,e,s,u,o,h,c,a;return zt(this,function(f){switch(f.label){case 0:return f.trys.push([0,3,,4]),[4,this.oa.SP.lk({Yu:this.Xbi})];case 1:return[4,f.sent().FT(t)];case 2:if(0===(n=f.sent()).avails.length)return 0!==this.Obi.length&&(this.Obi=[]),[2];if(n.avails.length===this.Obi.length&&n.avails[0].startTimeInSeconds===this.Obi[0]._Ot)return this.zbi(this.Obi[0]),[2];for(i=[],r=Lt(n.avails);!(e=r()).done;){for(s=e.value,u=new c9(s.durationInSeconds,s.startTimeInSeconds,s.availProgramDateTime),o=Lt(s.ads);!(h=o()).done;)c=h.value,(a=new h9(u,B$.hZt,c.startTimeInSeconds,c.trackingEvents)).u4t(c.adId,c.width,c.height,c.durationInSeconds,[],c.skipoffset),u.e4t(a);i.push(u),this.zbi(u)}return this.Obi=mi(i,function(t,n){return t._Ot-n._Ot}),[3,4];case 3:throw lr(f.sent()),new y("Failed to poll MediaTailor tracking events");case 4:return[2]}})}).call(this)},n.jbi=function(){var t;null==(t=this.Ubi)||t.Zg(),this.Ubi=void 0,this.Lbi=void 0,this.qbi=-1/0},n.Qbi=function(){if(0!==this.Obi.length){var t=this.Obi[this.Obi.length-1],n=this.Bbi();if(t._Ot+t.p0t<this.NNt){var i;this.Dbi&&(null==(i=this.oa.Jc)||i.So(new Ux(this.Dbi)),this.Dbi=void 0)}else{for(var r,e=Lt(this.Obi);!(r=e()).done;){var s=r.value,u=s._Ot;if(!(u+s.p0t<this.NNt)&&(u<=n&&u+s.p0t>this.NNt)){var o;if(this.Cbi===s)return;return this.Dbi=s,void(null==(o=this.oa.Jc)||o.So(new Vx(this.Dbi)))}}var h;if(this.Dbi)null==(h=this.oa.Jc)||h.So(new Ux(this.Dbi)),this.Dbi=void 0}}},n.Kbi=function(){var t=this,n=this.mnt;if(0!==n.length){for(var i,r=[],e=Lt(n);!(i=e()).done;){var s=i.value.NKt.filter(function(n){return ji(t.Ybi,n.eventType)});r=r.concat(s)}for(var u,o=Lt(r);!(u=o()).done;){var h=u.value;this.Jbi(h.startTimeInSeconds)&&(h.eventType===o9.COMPLETE&&this.Zbi(o9.ENGAGED_VIEW),this.$bi(h))}}},n.tSi=function(t,n){return n.NKt.filter(function(n){return Vo(n.eventType,t)})[0]},n.Zbi=function(t){var n=this.mnt;if(0!==n.length){var i=this.tSi(t,n[0]);i&&this.$bi(i)}},n.$bi=function(t){this.zgi(t.eventType);for(var n,i=Lt(t.beaconUrls);!(n=i()).done;){var r=n.value,e={Uk:wl.GET,Yu:r,zT:"",dk:Md.DT};0,kr(this.iSi(e))}},n.zgi=function(t){var n,i,r=this.mnt;switch(t){case o9.START:n=new Wx(r[r.length-1],this.oa.LP());break;case o9.COMPLETE:n=new Xx(r[0],this.oa.LP());break;case o9.FIRST_QUARTILE:n=new j$(r[0],this.oa.LP());break;case o9.MID_POINT:n=new Y$(r[0],this.oa.LP());break;case o9.THIRD_QUARTILE:n=new J$(r[0],this.oa.LP())}void 0!==n&&(null==(i=this.oa.Jc)||i.So(n))},n.iSi=function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,this.oa.SP.lk(t)];case 1:return n.sent().hk,[2]}})}).call(this)},n.Jbi=function(t){var n=this.Bbi();return t>=this.NNt&&t<n},n.kn=function(){this.MI(),this.jbi(),this.NNt=-1},Nt(t,[{key:"Cbi",get:function(){return this.Dbi}},{key:"mnt",get:function(){var t=this.Cbi;if(!t)return[];for(var n,i=[],r=this.Bbi(),e=Lt(t.Jc);!(n=e()).done;){var s=n.value;r>=s.EO&&this.NNt<=s.EO+s.ct&&i.push(s)}return i}}]),t}();Vb(function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).eSi=void 0,r.JW=void 0,r.ZW=void 0,r.nSi=void 0,r}Ct(n,t);var i=n.prototype;return i.Ta=function(n){return this.eSi&&(this.eSi.kn(),this.eSi=void 0,this.pEt()),t.prototype.Ta.call(this,n)},i.Xnt=function(n,i){var r=this,e=function(){return t.prototype.Xnt};return Vt(function(){var t,s;return zt(this,function(u){switch(u.label){case 0:if(!n||!function(t){return t.sources.some(function(t){return t.integration===MA.MEDIATAILOR})}(n))return[2,e().call(r,n,i)];u.label=1;case 1:return u.trys.push([1,4,,5]),[4,this.sSi(n,i)];case 2:return t=u.sent(),this.nSi=new t0(this),[4,e().call(r,t,i)];case 3:return u.sent(),[3,5];case 4:return s=u.sent(),this.qq(new fd(cd.MANIFEST_LOAD_ERROR,s.message,s)),[3,5];case 5:return[2]}})}).call(this)},i.vx=function(n){var i;(null==(i=this.nSi)?void 0:i.inAdBreak)||t.prototype.vx.call(this,n)},i.OP=function(n,i){var r;(null==(r=this.eSi)?void 0:r.Cbi)||t.prototype.OP.call(this,n,i)},i.HP=function(){var n;return null!=(n=this.JW)?n:t.prototype.HP.call(this)},i.qP=function(){var n;return null!=(n=this.ZW)?n:t.prototype.qP.call(this)},i.qq=function(t){this.JW=hg(t),this.ZW=t,this.So(new _b(t))},i.pEt=function(){this.JW=void 0,this.ZW=void 0},i.sSi=function(t,n){return Vt(function(){var i,r,e,s,u,o,h,c;return zt(this,function(a){switch(a.label){case 0:i=[],r=Lt(t.sources),a.label=1;case 1:return(e=r()).done?[3,4]:QA(s=e.value)&&(u=s).src?[4,this.rSi(u,n)]:(i.push(s),[3,3]);case 2:o=a.sent(),dr(n),h=Yu({},u,{integration:void 0,src:o}),i.push(h),a.label=3;case 3:return[3,1];case 4:return(c=Ow(t)).sources=i,[2,c]}})}).call(this)},i.rSi=function(t,n){return Vt(function(){var i,r,e,s,u,o,h,c,a,f;return zt(this,function(v){switch(v.label){case 0:if(i=this,r=t.src||"",!(e=r.match(/.+?(?=\/v1\/)/)))throw new y("Could not find MediaTailor session initialization url");return s=e[0],u=Lo(r,"?ads."),o=u?{Yu:r,dk:Md.DT}:{Yu:r,Uk:wl.POST,zT:JSON.stringify({adsParams:t.adsParams}),dk:Md.DT},[4,gT(function(){return i.hSi(o,n)},n)];case 1:h=v.sent();try{c=s+h.manifestUrl,u||(a=s+h.trackingUrl,f=function(t){return!!t&&/\bmpd\b/i.test(t)}(c),this.eSi=new a9(this,a,f))}catch(t){throw new y("Something went wrong parsing the MediaTailor session initialization response")}return[2,c]}})}).call(this)},i.hSi=function(t,n){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,this.SP.lk(t)];case 1:return[4,i.sent().FT(n)];case 2:return[2,i.sent()];case 3:throw lr(i.sent()),new y("Failed to initialize MediaTailor session manifest");case 4:return[2]}})}).call(this)},i.kn=function(){var n;this.eSi&&(this.eSi.kn(),this.eSi=void 0),this.pEt(),null==(n=this.nSi)||n.destroy(),this.nSi=void 0,t.prototype.kn.call(this)},n}(t)},Ub.hnt),F(),Et(),F(),Et(),Wt(),Qt(),F(),Et(),Wt(),Bt(),Dt(),Ut(),Qt(),F(),Et(),Wt(),Bt(),Dt(),Qt(),F(),Et();var f9=function(t){return t[t.oSi=0]="oSi",t[t.TM=1]="TM",t[t.Gz=2]="Gz",t[t.aSi=3]="aSi",t[t.uSi=4]="uSi",t[t.cSi=5]="cSi",t[t.ma=6]="ma",t}({});F(),Et(),Bt(),Dt();var v9=function(t){function n(n,i,r,e,s){var u;return void 0===s&&(s=!1),(u=t.call(this)||this).gO=mg(),u.dO=new vg,u.vu=void 0,u.pO=void 0,u.b5=void 0,u.hu=void 0,u.sMt=void 0,u.We=void 0,u.vu=n,u.pO=i,u.b5=r,u.We=s,u.sMt=e,u}return Ct(n,t),n.prototype.wO=function(t){this.We=t,t?this.sMt.dSi(this.vu):this.sMt.lSi(this.vu)},Nt(n,[{key:"XI",get:function(){}},{key:"Rt",get:function(){return this.We},set:function(t){this.wO(t)}},{key:"Ca",get:function(){var t;return null!=(t=this.hu)?t:this.hu=Zw(this)}},{key:"o",get:function(){return String(this.vu.componentTag)||"hbbtvaudiotrack"}},{key:"Lt",get:function(){return this.b5}},{key:"Th",get:function(){return this.pO}},{key:"bs",get:function(){return""}},{key:"Xk",get:function(){return this.Rt?"enabled":"disabled"},set:function(t){this.wO("enabled"===t)}},{key:"KI",get:function(){return this.dO}},{key:"YI",get:function(){},set:function(t){}},{key:"jI",get:function(){return this.gO}}]),n}(th);F(),Et(),Wt(),Bt(),Dt(),Ut(),Qt(),F(),Et(),Wt(),Dt(),Ut(),Qt(),F(),Et();var d9=function(t){return t.qm="urn:dvb:casystemid:19219",t.zm="urn:dvb:casystemid:19156",t}({}),l9=function(t){return t.qm="application/vnd.ms-playready.initiator+xml",t.zm="application/widevine+xml",t}({});function w9(t,n,i){switch(t){case"urn:dvb:casystemid:19219":return function(t){return'<?xml version="1.0" encoding="utf-8"?><PlayReadyInitiator xmlns="http://schemas.microsoft.com/DRM/2007/03/protocols/"><LicenseServerUriOverride><LA_URL>'+(null!=t?t:"")+"</LA_URL></LicenseServerUriOverride></PlayReadyInitiator>"}(n);case"urn:dvb:casystemid:19156":if(!i)throw new y("Content URL is needed for Widevine license request");return function(t,n){return'<?xml version="1.0" encoding="utf-8"?><WidevineCredentialsInfo xmlns="http://www.smarttv-alliance.org/DRM/widevine/2012/protocols/"><ContentURL>'+oJ(null!=n?n:"")+"</ContentURL><DeviceID></DeviceID><StreamID></StreamID><ClientIP></ClientIP><DRMServerURL>"+oJ(null!=t?t:"")+"</DRMServerURL><DRMAckServerURL></DRMAckServerURL><DRMHeartBeatURL></DRMHeartBeatURL><DRMHeartBeatPeriod></DRMHeartBeatPeriod><UserData></UserData><Portal></Portal><StoreFront></StoreFront><BandwidthCheckURL></BandwidthCheckURL><BandwidthCheckInterval></BandwidthCheckInterval></WidevineCredentialsInfo>"}(n,i);default:throw new y("DRM key system is not supported")}}var g9=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).gSi=void 0,n.wSi=void 0,n.Tu=void 0,n.ASi=void 0,n.ySi=void 0,n.pSi=function(t,i,r){var e,s;if(0!==r){var u=n.bSi(r),o=n.SSi(r),h=new eg(u,o);null==(s=n.ySi)||null==(e=s.jy)||e.call(s,h)}else{var c,a;null==(a=n.ySi)||null==(c=a.Xy)||c.call(a,t)}},n.mSi=function(t,i,r,e){var s=n.TSi(t),u=n.kSi(t),o=new eg(s,u);n.So(new tN(o))},n}Ct(n,t);var i=n.prototype;return i.fSi=function(t){this.vSi(),this.Tu=t},i._Si=function(t){return Vt(function(){var n,i,r,e,s,u,o,h;return zt(this,function(c){switch(c.label){case 0:if(!t.aq.length)return this.vSi(),[2];if(!this.Tu)throw new y("The OIPF DRM agent has to be attached to the DOM");this.gSi||(this.gSi=v.createElement("object"),this.gSi.type="application/oipfDrmAgent",this.Tu.appendChild(this.gSi),this.gSi.onDRMMessageResult=this.pSi,this.gSi.onDRMRightsError=this.mSi,this.wSi=v.createElement("object"),this.wSi.type="application/oipfCapabilities",this.Tu.appendChild(this.wSi)),i=Lt(t.aq),c.label=1;case 1:if((r=i()).done)return[3,6];if(e=r.value,s=void 0,u=void 0,o=void 0,e.kS===Io)s=d9.qm,u=l9.qm,o=w9(d9.qm,e.NW);else{if(e.kS!==Ro)return[3,5];s=d9.zm,u=l9.zm,o=w9(d9.zm,e.NW,t.iR)}c.label=2;case 2:return c.trys.push([2,4,,5]),[4,this._et(u,o,s)];case 3:return c.sent(),this.So(new nN),[2];case 4:return h=c.sent(),n=h,[3,5];case 5:return[3,1];case 6:return n&&this.So(new tN(n)),[2]}})}).call(this)},i.zg=function(){return this.ySi=void 0,this.Tu=void 0,t.prototype.zg.call(this)},i._et=function(t,n,i){var r,e;return this.ySi=new Vc,this.ASi=null==(e=this.gSi)||null==(r=e.sendDRMMessage)?void 0:r.call(e,t,n,i),this.ASi||null==this.ySi.jy||this.ySi.jy.call(this.ySi,new eg(cd.CONTENT_PROTECTION_INTERNAL_ERROR,"No DRM message returned by OIPF DRM agent")),this.ySi.Qy},i.bSi=function(t){switch(t){case 5:return cd.CONTENT_PROTECTION_NOT_SUPPORTED;case 2:case 1:case 3:case 4:case 6:return cd.CONTENT_PROTECTION_INTERNAL_ERROR;default:return cd.CONTENT_PROTECTION_ERROR}},i.SSi=function(t){switch(t){case 2:return"The DRM agent was unable to complete the request";case 3:return"The specified MIME type is unknown for the specified DRM system";case 4:return"User consent is needed for that action";case 5:return"The specified DRM System is unknown";case 6:return"The license message has the wrong format";default:return"Unspecified error occurred"}},i.TSi=function(t){return 0===t?cd.CONTENT_PROTECTION_LICENSE_ERROR:1===t?cd.CONTENT_PROTECTION_LICENSE_INVALID:cd.CONTENT_PROTECTION_ERROR},i.kSi=function(t){switch(t){case 0:return"No license, consumption of the content is blocked";case 1:return"Invalid license, consumption of the content is blocked";case 2:return"Valid license, consumption of the content is unblocked";default:return"Unknown error occurred"}},i.vSi=function(){this.gSi&&($n(this.gSi),this.gSi=void 0),this.wSi&&($n(this.wSi),this.wSi=void 0)},i.b8=function(t,n,i){return Vt(function(){return zt(this,function(t){return[2]})})()},n}(cN);F(),Et(),Wt(),Bt(),Qt(),F(),Et();var _9=ut,m9=function(){function t(t,n,i){this.YS=void 0,this.TL=void 0,this.PZ=void 0,this.YS=t,this.TL=n,this.PZ=i}var n=t.prototype;return n.TZ=function(t){return!1},n.EZ=function(t){return _9.resolve(void 0)},n._Si=function(t){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return[4,this.PZ._Si(this.YS)];case 1:return t.sent(),[2]}})}).call(this)},n.zg=function(){return _9.resolve(void 0)},Nt(t,[{key:"Sx",get:function(){return TA.tL(0,this.TL.ct)}},{key:"mx",get:function(){return jT.lz},set:function(t){}},{key:"Cd",get:function(){return this.YS}}]),t}(),y9=function(t){function n(n,i){var r;return(r=t.call(this)||this).sc=void 0,r.Dz=void 0,r.PZ=void 0,r.ha=void 0,r.ea=void 0,r.CSi=void 0,r.Gl=void 0,r.B7=void 0,r.N7=void 0,r.eet=void 0,r.net=void 0,r.iq=void 0,r.Sz=void 0,r.JW=void 0,r.EV=void 0,r.yz=void 0,r.xSi=void 0,r.RSi=void 0,r.sc=n,r.Dz=i,r.ha=new ZT,r.ea=new tS,r.Gl=new Qm,r.iq=void 0,r.Sz=!1,r.JW=void 0,r.EV=Cy.VL,r.yz=!0,r.xSi=void 0,r.RSi=function(){var t,n,i,e;(null==(t=r.CSi)?void 0:t.playState)&&((null==(n=r.xSi)?void 0:n.Qy)||2!==r.CSi.playState||r.PSi().catch(di),3===r.CSi.playState&&(null==(e=r.xSi)||null==(i=e.Xy)||i.call(e,String(r.CSi.playState)),r.xSi=void 0))},r.PZ=new g9(r),r.PZ.wn($P,r.Rs),r.B7=new Eb([r.Gl]),r.N7=new jP(r),r.eet=new IN,r.net=new WB(r.eet.xe,r.Wu,r.nt,r.Ql,r.Ma,r.mq),r.CSi=r.ISi(),r.PSi().catch(di),r}Ct(n,t);var i=n.prototype;return i.B9=function(t){this.PZ.fSi(t),this.eet.B9(t)},i.QZ=function(t){for(var n,i=Lt(t);!(n=i()).done;){var r=n.value;if(r.Km===Sy.mV)return r}},i.Un=function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:if(this.iq)throw new y("Already loaded a media source");return t.Km!==Sy.mV?[3,2]:(this.iq=new m9(t,this,this.PZ),[4,this.iq._Si(t)]);case 1:return n.sent(),[2,this.iq];case 2:throw new y("Unsupported media source configuration for HbbTV");case 3:return[2]}})}).call(this)},i.ESi=function(t){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return[4,this.PSi()];case 1:return t.sent(),[2]}})}).call(this)},i.Gx=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return[4,this.PSi()];case 1:return t.sent(),[2]}})}).call(this)},i.KW=function(t){},i.hr=function(){return Vt(function(){return zt(this,function(t){return this.iq=void 0,this.xSi=void 0,[2]})}).call(this)},i.C8=function(){return Vt(function(){return zt(this,function(t){throw new p("Not supported")})})()},i.zg=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return[4,this.hr()];case 1:return t.sent(),this.Gl.kn(),this.B7.kn(),this.eet.kn(),this.net.kn(),this.PZ.mn($P,this.Rs),[4,this.PZ.zg()];case 2:return t.sent(),[2]}})}).call(this)},i.be=function(){this.yz=!0,this.eet.be()},i.we=function(){this.yz=!1,this.eet.we()},i.vq=function(){return!1},i.gq=function(t,n,i,r,e){throw new y("Adding native sideloaded text tracks is not supported on HbbTV")},i.x9=function(){},i.I9=function(){},i.D9=function(){},i.ZP=function(){return{iO:0,eO:0,sO:0}},i.Yx=function(){},i.wq=function(t){throw new y("Adding custom text tracks is not supported on HbbTV")},i.Wx=function(){},i.tI=function(t,n,i,r,e,s,u,o,h){var c=new GD(t,n,i,r,e,s,u,h,o);return this.Gl.tt(c),this.N7.tt(c),c},i.Aq=function(){for(var t,n=Lt(this.Gl.II.slice());!(t=n()).done;){t.value.kn()}this.Gl.hr()},i.iV=function(t){this.Gl.it(t),this.N7.it(t)},i.ISi=function(){for(var t=v.getElementsByTagName("object"),n=0;n<t.length;n++){var i=t.item(n);if("video/broadcast"===i.type){var r=i;return r.onPlayStateChange=this.RSi,0===r.playState&&(null==r.bindToCurrentChannel||r.bindToCurrentChannel.call(r)),r}}},i.PSi=function(){var t,n;if(!this.CSi||3===this.CSi.playState||0===this.CSi.playState)return ut.resolve("");if(null==(t=this.xSi)?void 0:t.Qy)return null==(n=this.xSi)?void 0:n.Qy;this.xSi=new Vc;try{null==this.CSi.stop||this.CSi.stop.call(this.CSi)}catch(t){Vn.dm("Unable to stop broadcast for HbbTV",t),this.xSi.jy(new y("Unable to stop broadcast for HbbTV"))}return this.xSi.Qy},Nt(n,[{key:"IP",get:function(){return TA.iL()}},{key:"CP",get:function(){}},{key:"nq",get:function(){}},{key:"Wu",get:function(){return this.sc}},{key:"Sx",get:function(){var t,n;return null!=(n=null==(t=this.iq)?void 0:t.Sx)?n:TA.iL()}},{key:"kx",get:function(){return this.Sz}},{key:"a5",get:function(){return!1}},{key:"KP",get:function(){return!1}},{key:"CL",get:function(){return Yu({},xR)}},{key:"lt",get:function(){return this.JW}},{key:"n5",get:function(){return!1}},{key:"Ma",get:function(){return this.ha}},{key:"R9",get:function(){return!0}},{key:"Y4",get:function(){return!1}},{key:"Vx",get:function(){return!0},set:function(t){}},{key:"Ql",get:function(){return this.Dz}},{key:"nt",get:function(){return this.B7}},{key:"i7",get:function(){return this.yz}},{key:"mq",get:function(){return this.ea}}]),n}(th),p9=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).DSi=void 0,e.Ez=void 0,e.qSi=void 0,e.zSi=void 0,e.YL=void 0,e.$L=void 0,e.t5=void 0,e.GSi=void 0,e.NSi=void 0,e.BSi=void 0,e.XSi=void 0,e.DSi=n,e.Ez=1,e.YL=new ng,e.$L=new ng,e.t5=Cy.VL,e.GSi=void 0,e.NSi=void 0,e.BSi=function(){if(e.DSi.playState){e.EV=e.t5,e.qSi=e.zSi,e.zSi=e.DSi.playState;var t=e.ct;switch(t!==e.GSi&&(e.So(new aT(t)),e.GSi=t),e.NSi&&e.zSi!==f9.TM&&(Vn.vm(e.NSi),e.NSi=void 0),e.zSi){case f9.aSi:e.t5=Cy.VL;break;case f9.uSi:if(e.qSi===f9.aSi){var n,i,r=null!=(n=null==e.DSi.getComponents?void 0:e.DSi.getComponents.call(e.DSi,1))?n:e.LSi(),s=null!=(i=null==e.DSi.getComponents?void 0:e.DSi.getComponents.call(e.DSi,0))?i:e.LSi();if(0===r.length&&0===s.length)break;e.FSi(r),e.VSi(s)}e.t5=Cy.Qn;break;case f9.TM:e.Sz&&(e.Sz=!1,e.So(new lT(e.MP))),e.So(new Oy(e.MP)),e.t5=Cy.WL,e.NSi=Vn.fm(e.XSi,250);break;case f9.ma:e.t5=Cy.VL,e.So(new CD(new ug(e.WSi(e.DSi.error))));break;case f9.cSi:e.So(new vT(e.MP));case f9.Gz:case f9.oSi:}e.t5!==e.EV&&e.So(new Ry(e.MP,e.t5))}},e.XSi=function(){e.So(new pw(e.MP,void 0))},e}Ct(n,t);var i=n.prototype;return i.B9=function(n){t.prototype.B9.call(this,n),n.appendChild(this.DSi)},i.Un=function(n){var i=this;return Vt(function(){var r;return zt(this,function(e){switch(e.label){case 0:return n.Km!==Sy.mV?[3,3]:[4,t.prototype.Un.call(i,n)];case 1:return r=e.sent(),[4,this.ESi(n)];case 2:return e.sent(),this.DSi.onPlayStateChange=this.BSi,[2,r];case 3:throw new y("Unsupported media source configuration for HbbTV")}})}).call(this)},i.ESi=function(n){var i=this;return Vt(function(){return zt(this,function(r){switch(r.label){case 0:return this.DSi.type=HA(n.iR),this.DSi.data=n.iR,[4,t.prototype.ESi.call(i,n)];case 1:return r.sent(),[2]}})}).call(this)},i.Gx=function(){var n=this;return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return[4,t.prototype.Gx.call(n)];case 1:return i.sent(),this.DSi.play(this.Ez),this.So(new cT(this.MP)),[2]}})}).call(this)},i.zx=function(){this.DSi.play(0),this.So(new hT(this.MP))},i.My=function(t,n,i){this.DSi.seek(1e3*t),this.Sz=!0,this.So(new dT(this.MP))},i.hr=function(){var n=this;return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return void 0!==this.iq&&this.DSi.stop(),this.NSi&&(Vn.vm(this.NSi),this.NSi=void 0),[4,t.prototype.hr.call(n)];case 1:return i.sent(),ti(this.DSi),this.DSi.data&&this.DSi.removeAttribute("data"),this.YL.hr(),this.$L.hr(),[2]}})}).call(this)},i.zg=function(){var n=this;return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return[4,t.prototype.zg.call(n)];case 1:return i.sent(),$n(this.DSi),[2]}})}).call(this)},i.be=function(){t.prototype.be.call(this),this.DSi.style.display="block"},i.we=function(){t.prototype.we.call(this),this.DSi.style.display="none"},i.dSi=function(t){var n=this.MSi(t);if(!n)throw new y("Selected track does not exist on HbbTV");null==this.DSi.selectComponent||this.DSi.selectComponent.call(this.DSi,n)},i.lSi=function(t){var n=this.MSi(t);if(!n)throw new y("Selected track does not exist on HbbTV");null==this.DSi.unselectComponent||this.DSi.unselectComponent.call(this.DSi,n)},i.MSi=function(t){var n,i=null!=(n=null==this.DSi.getComponents?void 0:this.DSi.getComponents.call(this.DSi,t.type))?n:this.LSi();return this.OSi(i,t)},i.FSi=function(t){var n,i=null!=(n=null==this.DSi.getCurrentActiveComponents?void 0:this.DSi.getCurrentActiveComponents.call(this.DSi,1))?n:this.LSi();this.YL.hr();for(var r=0;r<t.length;r++){var e=t.item(r);this.YL.tt(new v9(e,e.language,this.YL.V?SX.qCt:SX.zCt,this,this.USi(i,e)))}},i.VSi=function(t){var n,i=null!=(n=null==this.DSi.getCurrentActiveComponents?void 0:this.DSi.getCurrentActiveComponents.call(this.DSi,0))?n:this.LSi();this.$L.hr();for(var r=0;r<t.length;r++){var e=t.item(r);this.$L.tt(new v9(e,String(e.aspectRatio),this.$L.V?EX.qCt:EX.zCt,this,this.USi(i,e)))}},i.LSi=function(){return{length:0,item:function(t){}}},i.USi=function(t,n){return void 0!==this.OSi(t,n)},i.OSi=function(t,n){for(var i=0;i<t.length;i++){var r=t.item(i);if(this.HSi(r,n))return r}},i.HSi=function(t,n){return t.pid===n.pid&&t.componentTag===n.componentTag&&t.type===n.type&&t.encoding===n.encoding&&t.encrypted===n.encrypted},i.WSi=function(t){switch(t){case 0:return sg.SRC_NOT_SUPPORTED;case 1:case 5:case 6:return sg.NETWORK;default:return sg.DECODE}},Nt(n,[{key:"$W",get:function(){}},{key:"ht",get:function(){return this.YL}},{key:"rt",get:function(){return this.$L}},{key:"ux",get:function(){return this.Ez},set:function(t){this.Ez=t,this.hx||this.DSi.play(t)}},{key:"$P",get:function(){return this.DSi.muted},set:function(t){this.DSi.muted=t}},{key:"Mx",get:function(){var t,n;return(null!=(n=null!=(t=this.DSi.volume)?t:null==this.DSi.getVolume?void 0:this.DSi.getVolume.call(this.DSi))?n:100)/100},set:function(t){null==this.DSi.setVolume||this.DSi.setVolume.call(this.DSi,100*t)}},{key:"MP",get:function(){return this.DSi.playPosition?this.DSi.playPosition/1e3:0}},{key:"ct",get:function(){return!this.DSi.playTime||this.DSi.playTime<0?1/0:this.DSi.playTime/1e3}},{key:"UP",get:function(){return this.DSi.playState===f9.cSi}},{key:"Mi",get:function(){return this.DSi.offsetHeight*Vn.Zs.fp}},{key:"Ti",get:function(){return this.DSi.offsetWidth*Vn.Zs.fp}},{key:"hx",get:function(){return this.DSi.playState===f9.Gz}},{key:"_x",get:function(){return TA.iL()}},{key:"Ax",get:function(){return this.t5}},{key:"Rx",get:function(){return 0}},{key:"Bx",get:function(){return 0}}]),n}(y9);F(),Et(),Wt(),Bt(),Dt(),Ut(),Qt();var k9=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this)._T=void 0,e.YL=void 0,e.$L=void 0,e.Q8=void 0,e.d7=void 0,e.hTi=void 0,e.LV=void 0,e.OV=void 0,e.Nc=void 0,e.jSi=void 0,e.As=void 0,e.Ec=void 0,e.QSi=void 0,e.DXt=void 0,e.xXt=void 0,e.KSi=void 0,e.YSi=void 0,e.JSi=void 0,e.ZSi=void 0,e.FV=void 0,e.MV=void 0,e.$Si=void 0,e.D8=void 0,e.sTi=void 0,e.nTi=void 0,e.rTi=void 0,e.tTi=void 0,e.iTi=void 0,e.eTi=void 0,e._T=n,e.YL=new ng,e.$L=new ng,e.hTi=void 0,e.LV=function(){e.So(new cT(e.MP))},e.OV=function(){e.So(new hT(e.MP))},e.Nc=function(){var t=e.MP,n=e.kx,i=void 0!==e.hTi,r=i&&e.hTi!==t;(n||!i||r)&&(e.So(new pw(t,void 0)),e.hTi=t)},e.jSi=function(){e.So(new qR(e.MP))},e.As=function(){e.So(new GR)},e.Ec=function(){e.So(new vT(e.MP))},e.QSi=function(){e.So(new fT(e.MP,e.ux))},e.DXt=function(){e.So(new wT(e.MP,e.Mx))},e.xXt=function(){e.So(new aT(e.ct))},e.KSi=function(){},e.YSi=function(){},e.JSi=function(){e.Sz&&(e.Sz=!1),e.So(new lT(e.MP))},e.ZSi=function(){e.So(new dT(e.MP))},e.FV=function(t){e.EV!==t.readyState&&(e.EV=t.readyState,e.So(t))},e.MV=function(){e.So(new Oy(e.MP))},e.$Si=function(){if(null!==e._T.error){var t,n=e._T.error;e.qq(new ug(null!=(t=n.code)?t:sg.DECODE,n.message||"Error decoding media",void 0,n.msExtendedCode))}},e.D8=function(t){e.So(new vh(t.initDataType,t.initData||new ArrayBuffer(0)))},e.sTi=function(t){var n=e._T.videoTracks;if(n)for(var i=0;i<n.length;i++){var r=n[i];xb(e.$L,r)||e.$L.tt(new Ig(r))}},e.nTi=function(t){var n=[],i=e._T.videoTracks;if(i){for(var r,s=Lt(e.$L.II);!(r=s()).done;){var u=r.value;Ob(i,u.mO)||n.push(u)}for(var o,h=Lt(n);!(o=h()).done;){var c=o.value;e.$L.it(c)}}},e.rTi=function(t){e.dh(e.$L)},e.tTi=function(t){var n=e._T.audioTracks;if(n)for(var i=0;i<n.length;i++){var r=n[i];xb(e.YL,r)||e.YL.tt(new Sg(r))}},e.iTi=function(t){var n=[],i=e._T.audioTracks;if(i){for(var r,s=Lt(e.YL.II);!(r=s()).done;){var u=r.value;Ob(i,u.mO)||n.push(u)}for(var o,h=Lt(n);!(o=h()).done;){var c=o.value;e.YL.it(c)}}},e.eTi=function(t){e.dh(e.YL)},e.Q8=new fN(e),e.Q8.wn(Ey.wI,e.FV),e.Q8.N8(new AD(e)),e.d7=new RD(e),e.d7.wn(Ey.TM,e.MV),e.n9(),e.Lq(),e}Ct(n,t);var i=n.prototype;return i.B9=function(n){t.prototype.B9.call(this,n),n.appendChild(this._T)},i.Un=function(n){var i=this;return Vt(function(){var r;return zt(this,function(e){switch(e.label){case 0:return n.Km!==Sy.mV?[3,3]:[4,t.prototype.Un.call(i,n)];case 1:return r=e.sent(),[4,this.ESi(n)];case 2:return e.sent(),[2,r];case 3:throw new y("Unsupported media source configuration for HbbTV")}})}).call(this)},i.ESi=function(n){var i=this;return Vt(function(){var r;return zt(this,function(e){switch(e.label){case 0:switch(n.cq){case oA.aR:case oA.uR:this._T.setAttribute("crossorigin",n.cq);break;case oA.Lk:default:this._T.removeAttribute("crossorigin")}return void 0!==n.mx?this._T.preload=n.mx:this._T.preload=jT.TW,void 0!==n.dq?this._T.title=n.dq:fi(this._T),r=this.ux,this._T.src=n.iR,this.ux=r,[4,t.prototype.ESi.call(i,n)];case 1:return e.sent(),[2]}})}).call(this)},i.Gx=function(){var n=this;return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return[4,t.prototype.Gx.call(n)];case 1:return i.sent(),[4,this._T.play()];case 2:return i.sent(),[2]}})}).call(this)},i.zx=function(){this._T.pause()},i.My=function(t,n,i){n&&this._T.fastSeek?this._T.fastSeek(t):this._T.currentTime=t,this.Sz=!0,this.So(new dT(this.MP))},i.hr=function(){var n=this;return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return[4,t.prototype.hr.call(n)];case 1:return i.sent(),ti(this._T),this._T.src&&this._T.removeAttribute("src"),this.YL.hr(),this.$L.hr(),[2]}})}).call(this)},i.zg=function(){var n=this;return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return[4,t.prototype.zg.call(n)];case 1:return i.sent(),this.d7.zg(),this.Q8.zg(),this.o9(),this.Tq(),$n(this._T),[2]}})}).call(this)},i.be=function(){t.prototype.be.call(this),this._T.style.display="block",this._T.style.height="100%",this._T.style.width="100%"},i.we=function(){t.prototype.we.call(this),this._T.style.display="none"},i.n9=function(){this.$W.addEventListener("play",this.LV),this.$W.addEventListener("pause",this.OV),this.$W.addEventListener("timeupdate",this.Nc),this.$W.addEventListener("progress",this.jSi),this.$W.addEventListener("loadstart",this.As),this.$W.addEventListener("ended",this.Ec),this.$W.addEventListener("ratechange",this.QSi),this.$W.addEventListener("volumechange",this.DXt),this.$W.addEventListener("durationchange",this.xXt),this.$W.addEventListener("loadedmetadata",this.KSi),this.$W.addEventListener("emptied",this.YSi),this.$W.addEventListener("seeked",this.JSi),this.$W.addEventListener("seeking",this.ZSi),this.$W.addEventListener("error",this.$Si),Ko()&&this.$W.addEventListener("encrypted",this.D8)},i.o9=function(){this.$W.removeEventListener("play",this.LV),this.$W.removeEventListener("pause",this.OV),this.$W.removeEventListener("timeupdate",this.Nc),this.$W.removeEventListener("progress",this.jSi),this.$W.removeEventListener("loadstart",this.As),this.$W.removeEventListener("ended",this.Ec),this.$W.removeEventListener("ratechange",this.QSi),this.$W.removeEventListener("volumechange",this.DXt),this.$W.removeEventListener("durationchange",this.xXt),this.$W.removeEventListener("loadedmetadata",this.KSi),this.$W.removeEventListener("emptied",this.YSi),this.$W.removeEventListener("seeked",this.JSi),this.$W.removeEventListener("seeking",this.ZSi),this.$W.removeEventListener("error",this.$Si),this.$W.removeEventListener("encrypted",this.D8)},i.qq=function(t){this.JW=t,this.So(new CD(this.JW))},i.Lq=function(){var t=this._T.audioTracks,n=this._T.videoTracks;t&&(t.addEventListener("addtrack",this.tTi),t.addEventListener("removetrack",this.iTi),t.addEventListener("change",this.eTi)),n&&(n.addEventListener("addtrack",this.sTi),n.addEventListener("removetrack",this.nTi),n.addEventListener("change",this.rTi))},i.Tq=function(){var t=this._T.audioTracks,n=this._T.videoTracks;t&&(t.removeEventListener("addtrack",this.tTi),t.removeEventListener("removetrack",this.iTi),t.removeEventListener("change",this.eTi)),n&&(n.removeEventListener("addtrack",this.sTi),n.removeEventListener("removetrack",this.nTi),n.removeEventListener("change",this.rTi))},i.dh=function(t){for(var n=0;n<t.V;n++){t.CI(n).yO()}},Nt(n,[{key:"$W",get:function(){return this._T}},{key:"ht",get:function(){return this.YL}},{key:"rt",get:function(){return this.$L}},{key:"ux",get:function(){return this._T.playbackRate},set:function(t){this._T.playbackRate=t}},{key:"$P",get:function(){return this._T.muted},set:function(t){this._T.muted=t}},{key:"Mx",get:function(){return this._T.volume},set:function(t){this._T.volume=t}},{key:"MP",get:function(){return this._T.currentTime}},{key:"ct",get:function(){return this._T.duration}},{key:"UP",get:function(){return this._T.ended}},{key:"Mi",get:function(){return this._T.offsetHeight*Vn.Zs.fp}},{key:"Ti",get:function(){return this._T.offsetWidth*Vn.Zs.fp}},{key:"hx",get:function(){return this._T.paused}},{key:"_x",get:function(){return TA.jn(this._T.played)}},{key:"Ax",get:function(){return this.Q8.Ax}},{key:"Rx",get:function(){return this._T.videoHeight}},{key:"Bx",get:function(){return this._T.videoWidth}}]),n}(y9),b9=[eh.uo,eh.jw,Ey.TM,eh.$w,eh.Zw,eh.Bw,eh.Rw,eh.Pw,eh.Ew,eh._y,eh.Qw,eh.Ww,eh.Kw,eh.gy,eh.Jw,eh.Lw,eh.Nw],A9=function(t){function n(n,i,r,e){var s;return(s=t.call(this)||this).gn=void 0,s.TL=void 0,s.iq=void 0,s.Gl=void 0,s.oq=new bb,s.Cz=void 0,s.kq=void 0,s.bq=void 0,s.pq=void 0,s.Ac=void 0,s.JW=void 0,s.ZW=void 0,s.tq=jT.lz,s.Dq=function(t){var n=t.lt,i=n.code,r=new fd(ag(i),"Something went wrong during HbbTV playback.",n),e=hg(r);s.qq(r,e)},s.gn=new pI(n),s.gn._n(),s.TL=Cr()?new k9(v.createElement(ig.Bk),s.gn,e):new p9(v.createElement("object"),s.gn,e),s.TL.B9(n),s.TL.wn(b9,s.Rs),s.TL.wn(zm.ma,s.Dq),s.kq=new Uy(s,s.TL),s.bq=new Ly(s.kq,!0),s.bq.wn(Iy,s.Rs),s.pq=new ly(s.TL,i),s.Gl=new Eb([s.TL.nt,s.pq.Z]),s.Cz=r,s}Ct(n,t);var i=n.prototype;return i.tI=function(t){return this.TL.wq(t)},i.jx=function(){return!1},i.Hx=function(){return this.TL.Ma},i.Wx=function(){},i.we=function(){this.TL.we()},i.Yx=function(){this.TL.Yx()},i.zx=function(){this.TL.zx()},i.Gx=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return[4,this.TL.Gx()];case 1:return t.sent(),[2]}})}).call(this)},i.Jx=function(){throw new y("Recreate media source is not supported on HbbTV")},i.OP=function(t,n){this.TL.My(t)},i.Ta=function(t,n,i){return Vt(function(){var r,e,s;return zt(this,function(u){switch(u.label){case 0:return dr(i),this.Ac=t,e={Km:Sy.mV,iR:t.src,qT:t.type,aq:this.uq(t),mx:this.tq,cq:t.crossOrigin,dq:null==(r=n.metadata)?void 0:r.title},s=this,[4,this.TL.Un(e)];case 1:return s.iq=u.sent(),n.textTracks&&this.fq(n.textTracks),Ay(this.nt),[2]}})}).call(this)},i.Px=function(t,n,i,r){return ut.resolve()},i.xx=function(){return ut.resolve()},i.be=function(){this.TL.be()},i.Qx=function(){},i.Kx=function(){},i.Aa=function(){return this.TL.mq},i.hr=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.Ac=void 0,this.JW=void 0,this.ZW=void 0,this.iq=void 0,[4,this.pq.hr()];case 1:return t.sent(),this.TL.Aq(),[4,this.TL.hr()];case 2:return t.sent(),[2]}})}).call(this)},i.kn=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return[4,this.hr()];case 1:return t.sent(),this.bq.kn(),this.kq.zg(),this.TL.mn(b9,this.Rs),this.TL.mn(zm.ma,this.Dq),[4,this.TL.zg()];case 2:return t.sent(),this.gn.kn(),this.Gl.kn(),[4,this.pq.kn()];case 3:return t.sent(),[2]}})}).call(this)},i.qq=function(t,n){this.JW||(this.JW=n,this.ZW=t,this.So(new _b(t)))},i.fq=function(t){for(var n,i=Lt(t);!(n=i()).done;){var r=n.value;void 0!==r.src&&this.pq.eV(r)}},i.uq=function(t){if(!t.contentProtection)return[];var n=[];return t.contentProtection.widevine&&n.push({kS:Ro,NW:t.contentProtection.widevine.licenseAcquisitionURL,Mq:[]}),t.contentProtection.playready&&n.push({kS:Io,NW:t.contentProtection.playready.licenseAcquisitionURL,Mq:[]}),this.oTi(n,t.contentProtection.preferredKeySystems)},i.oTi=function(t,n){if(void 0===n||0===n.length)return t;var i=function(t){var i=n.indexOf(t.kS.$m);return i>=0?i:n.length};return mi(t,function(t,n){return i(t)-i(n)})},Nt(n,[{key:"ht",get:function(){return this.TL.ht}},{key:"IP",get:function(){return this.TL.IP._s()}},{key:"BL",get:function(){}},{key:"CP",get:function(){return this.TL.CP},set:function(t){t&&this.TL.KW(t)}},{key:"bt",get:function(){return this.Ac}},{key:"MP",get:function(){return this.TL.MP},set:function(t){this.TL.My(t)}},{key:"hq",get:function(){return this.oq}},{key:"ct",get:function(){return this.TL.ct}},{key:"UP",get:function(){return this.TL.UP}},{key:"WP",get:function(){return this.ZW}},{key:"lt",get:function(){return this.JW}},{key:"zP",get:function(){}},{key:"jP",get:function(){}},{key:"KP",get:function(){return!1}},{key:"Vx",get:function(){return this.TL.Vx},set:function(t){this.TL.Vx=t}},{key:"Fx",get:function(){return this.Cz}},{key:"JP",get:function(){return Yu({},{iO:0,eO:0,sO:0,nO:0,rO:0,hO:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.TL.ZP())}},{key:"$P",get:function(){return this.TL.$P},set:function(t){this.TL.$P=t}},{key:"sx",get:function(){return!0}},{key:"hx",get:function(){return this.TL.hx}},{key:"ux",get:function(){return this.TL.ux},set:function(t){this.TL.ux=t}},{key:"_x",get:function(){return this.TL._x._s()}},{key:"mx",get:function(){return this.tq},set:function(t){this.tq=t,this.iq&&(this.iq.mx=t)}},{key:"Ax",get:function(){return this.TL.Ax}},{key:"Sx",get:function(){return this.TL.Sx._s()}},{key:"kx",get:function(){return this.TL.kx}},{key:"nq",get:function(){return this.TL.nq}},{key:"nt",get:function(){return this.Gl}},{key:"Rx",get:function(){return this.TL.Rx}},{key:"rt",get:function(){return this.TL.rt}},{key:"Bx",get:function(){return this.TL.Bx}},{key:"Mx",get:function(){return this.TL.Mx},set:function(t){this.TL.Mx=t}}]),n}(th),T9=function(){function t(){this.Kq=kb.vW}var n=t.prototype;return n.PR=function(t,n,i,r,e,s,u,o){return new A9(t,i,s,u)},n.Xq=function(t,n){var i;return!(!On.k_||t.type!==hA.fR&&!zA(t.type)&&!XA(t.type))&&!(Cr()&&!(null==(i=t.contentProtection)?void 0:i.useOipfDrmAgent)&&(!t.contentProtection||Ko()))},n.jq=function(t){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,Dp(t,!0)];case 1:return n.sent()?[2,!0]:[2,!1]}})})()},n.Qq=function(){return!1},t}();return XT(new T9),F(),Et(),a.exports});
//# sourceMappingURL=THEOplayer.chromeless.js.map